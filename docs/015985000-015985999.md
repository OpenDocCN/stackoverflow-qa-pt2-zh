# StackOverflow 问答 15985000-15985999

# svn - 在网站上使用颠覆进行协作

> ID：15985003
> 
> 赞同：1
> 
> 时间：2013-04-13T06:32:25.970
> 
> 标签：svn, version-control, web-deployment

我正在努力寻找对我来说是简单问题的简单答案。

Subversion 能为我（或任何版本控制系统）做什么

假设我有一个具有以下目录结构的站点，我们称之为 MyUrl.com：

```
PHP
    >>> Nav
    >>> Lib

Public_html
           >>> Images
           >>> Pages
                    >>> More pages
           >>> CSS
           >>> JS 
```

两名开发人员在该网站上工作。

我想为此创建一个工作副本并将其作为暂存区域，每个开发人员一个

**问题**

我是否只是创建文件夹，例如`MyUrl.com/testSite`and `MyUrl.com/testSite2`，然后将其全部复制（使用颠覆）？

颠覆是否会以某种方式自动完成并为我创建暂存 URL（如果我将所有内容复制到一个文件夹，那么将丢失指向的关系链接`/`）？

我看到诸如 TortoiseSVN 之类的东西谈论我的 windows 机器，这是否意味着我将我的 PC 设置为一个成熟的 web 服务器，包括 apache 和本地所有数据库，然后在那里开发并提交？

一旦你参与其中，我可以找到一百万个关于如何使用颠覆的教程，但没有一个能告诉我如何真正从像我这样的场景开始，这肯定不会不寻常吗？

对于基本上可以让我前进的事情的正确方向，我们将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T06:44:05.777

不，您不创建`testSite/`和`testSite2/`文件夹。您首先创建一个*项目*，然后将`svn add`文件夹（和文件）添加到它。然后，您的两个开发人员可以自己将`svn checkout`这个项目放到他/她自己的文件夹中。（您当然可以让 testSite/ 成为您首先从中添加文件夹的位置，因此只有第二个开发人员会检查它）。

颠覆客户端不知道网络、URL（存储库除外）或网络服务器。它不会为您与这些交互。您可以`svn checkout`访问通过 Web 服务器可见的目录（只需确保它阻止您访问`.svn`文件夹。

你没有找到关于你想要完成的教程的原因是你想使用颠覆来完成源代码/版本控制之外的事情。尝试[谷歌搜索组合](https://www.google.co.il/search?q=using+subversion+for+web+content)，或者更具体地说，[这个问题](https://stackoverflow.com/questions/394662/best-way-to-use-svn-for-web-development)在这里。

您可能想查阅[subversion](http://subversion.apache.org/)的网站，也许还有它的[用户手册](http://svnbook.red-bean.com/)，以了解 subversion 是关于什么的（不一定作为教程）。

# java - 在对象数组中搜索字符串

> ID：15985006
> 
> 赞同：3
> 
> 时间：2013-04-13T06:32:45.900
> 
> 标签：java, algorithm

我有一个包含自引用对象的 ArrayList 的对象。该 ArrayList 中的每个对象都包含最多 n 度的相同结构。现在我必须在结构中搜索一个字符串，如果找到，我必须一直打印到根。这是一个示例

```
MyClass {
string name;
ArrayList<MyClass> subClasses;
} 
```

什么数据结构最好做到这一点。或者我不需要一个人来使用它。

亲切的问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:40:34.027

您可以在 MyClass 上有一个方法，如下所示

```
public List<String> findPathOfName(String nameToFind) {
    List<String> result = new ArrayList<String>();

    if (nameToFind.equals(name)) {
      result.add(name);
    } else {
      for (MyClass aSubClass: subClasses) {
        List<String> subResult = aSubClass.findPathOfName(nameToFind);
        if (!subResult.isEmpty()) {
           result.add(name);
           result.addAll(subResult);
           break;
        }
      }
    }

    return result;
} 
```

基本上递归地遍历结构并找到路径。返回的列表将包含路径，如 personA/personB/etc..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T06:50:00.663

这是[http://en.wikipedia.org/wiki/Composite_pattern](http://en.wikipedia.org/wiki/Composite_pattern)。试试我的版本

```
static class MyClass {
    String name;
    List<MyClass> subClasses;

    MyClass(String name) {
        this.name = name;
    }

    String search(String s, String path) {
        if (!path.isEmpty()) {
            path += "->";
        }
        path += name;
        if (!s.equals(name)) {
            if (subClasses == null) {
                return null;
            }
            for (MyClass c : subClasses) {
                return c.search(s, path);
            }
        }
        return path;
    }
}

public static void main(String[] args) throws Exception {
    MyClass c1 = new MyClass("c1");
    MyClass c2 = new MyClass("c2");
    MyClass c3 = new MyClass("c3");
    c1.subClasses = Arrays.asList(c2);
    c2.subClasses = Arrays.asList(c3);
    System.out.println(c1.search("c3", ""));
} 
```

输出

```
c1->c2->c3 
```

# c - 将文件中的数据读入结构数组

> ID：15985010
> 
> 赞同：0
> 
> 时间：2013-04-13T06:33:08.663
> 
> 标签：c, file, structure

嗨，我正在尝试将文件中的数据读取到结构数组中我尝试使用 fgets 但收到错误消息，说 RECORD 类型无法转换为 char* 这是我到目前为止所拥有的

```
#include <stdio.h>
#include <stdlib.h>

#define MAX_NAME   20
#define FILE_NAME  50
#define LIST_SIZE 50
//void getData(RECORD name[], RECORD score)

typedef struct RECORD
{
    char *name;
    float  score;
}RECORD;

int main (void)
{
    // Declarations
       FILE *fp;
       char fileName[FILE_NAME];
       RECORD list[LIST_SIZE];
       int count = 0;
    // Statements
       printf("Enter the file name: ");
       gets(fileName);

       fp = fopen(fileName, "r");

       if(fp == NULL)
           printf("Error cannot open the file!\n");
         while (fgets(list[count], LIST_SIZE, fp) != NULL)
         {
             count++;
         }
       return 0;
} 
```

错误发生在while循环内的fgets语句中，我该如何解决这个问题并将数据读入结构数组？

预先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:13:58.953

fgets 用于从文本文件中以一行为单位输入字符串。

例如）

```
char input_line_buff[128];
fgets(input_line_buff, 128, fp); 
```

读入

input_line_buff：（内容例如）“名称 66.6\n”

你做 split ， memory alloc and copy 和 convert 。

例如）

```
list[count].name = strdup("name");
list[count].score= atof("66.6");
count++; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:16:29.517

尝试这个，

```
while(fgets((char *)list[count], SIZE/* data size to be read */, fp) != NULL)
{...} 
```

# jquery - 如何隐藏滚动条但仍然可以向上/向下滚动

> ID：15985020
> 
> 赞同：3
> 
> 时间：2013-04-13T06:35:17.470
> 
> 标签：jquery, css

有没有办法隐藏滚动条并且仍然可以使用鼠标或方向键向上滚动？

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-13T06:41:03.607

我不确定你到底想要什么，但我喜欢在你想默认隐藏滚动条并在你将鼠标悬停在 textarea 上时显示的情况下使用这个插件

[http://rocha.la/jQuery-slimScroll](http://rocha.la/jQuery-slimScroll)

# linux - 没有屏幕的电脑的ip地址

> ID：15985022
> 
> 赞同：-2
> 
> 时间：2013-04-13T06:35:33.253
> 
> 标签：linux, networking, ip

我有两台安装了 debian 的电脑。一台计算机没有屏幕或其他 prepherels 接受以太网端口。我已经通过局域网电缆将它们连接起来，并共享了供没有屏幕的计算机使用的互联网。但是，我想对这个计算机进行 ssh，但我不知道它的 IP 地址。顺便说一句，我没有路由器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T06:38:52.173

使用[愤怒的 IP 扫描仪](http://angryip.org/w/Home)。它将为您提供网络中的设备列表。

# php - 致命错误：无效的模板

> ID：15985023
> 
> 赞同：-1
> 
> 时间：2013-04-13T06:35:55.080
> 
> 标签：php

我是 PHP 新手，似乎遇到了一些死亡代码。给出的错误：

```
( ! ) Fatal error: Invalid template: FPage in /home/jharvard/vhosts/localhost/includes/functions.php on line 218
Call Stack
#   Time    Memory  Function    Location
1   0.0001  124636  {main}( )   ../buy.php:0
2   1.3034  144340  render( )   ../buy.php:6
3   1.3035  144476  trigger_error ( )   ../functions.php:218 
```

这是我在 Buy.php 上发布到我的表单后立即

```
 <?php 
require("../includes/config.php");
if ($_SERVER["REQUEST_METHOD"] == "POST"){
    $symbol = $_POST["symbol"];
    $price = lookup($symbol)["price"];
    render("FPage", ["price" => $price]);
}
else{render("BuyPage.php");}

?> 
```

BuyPage 和 FPage 分别是：

```
<form action="buy.php" method='post'><input name="symbol"><input name="SAmount"><input type="submit"></form> 
```

和

```
<?php 
    echo $price;
?> 
```

并且functions.php（如果需要）位于[http://pastebin.com/Kd9Zg32S](http://pastebin.com/Kd9Zg32S)

我想要什么：几乎是一个简单的程序，用于“购买”假股票以进行编程挑战。Lookup 几乎是在 yahoo Finance 上查找股票的代码并返回一个列表。渲染几乎可以渲染模板以及页眉和页脚以及提取和输入传入的任何变量。但是在大约一半的地方我在这里遇到了一个“毛球”的错误，而这个我似乎无法通过经过。

高度赞赏调试帮助。Ps：配置只是一个检查用户是否登录的文件，加载功能等，我带来了我认为需要的所有代码，如果需要更多请通知我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:39:27.740

```
...
    render("FPage", ["price" => $price]);
}
else{render("BuyPage.php");}
... 
```

您渲染“FPage”和“BuyPage.php”“BuyPage.php”工作，但 FPage 没有。

尝试用“FPage.php”替换“FPage”。

# sql - 如何获得两行之间的差异

> ID：15985030
> 
> 赞同：2
> 
> 时间：2013-04-13T06:36:38.290
> 
> 标签：sql, sql-server, sql-server-2005

我想通过 id 找到同一列组上两行之间的差异

```
ID Value1 Value2

a  500 200
b  300 200
a  100 300
b  300 400
.... 
```

预期产出

```
ID Value1 Value2

a  400 -100
b  0 -200
.... 
```

如何查询上述条件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:05:55.947

您可以使用以下内容：

```
SELECT
    ID,
    MAX(Value1) - MIN(Value1),
    MIN(Value2) - MAX(Value2)
FROM
    myTableName
GROUP BY
    ID 
```

但是**有一个假设**：第二行总是大于`Value1`和`Value2`小于第一行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T07:08:19.163

你可以试试：

```
SELECT t1.ID, max(t2.VALUE1 - t1.VALUE1)
FROM TABLE1 t1
    left join TABLE1 t2 on t1.id = t2.id
group by t1.id 
```

[SQL 小提琴演示：](http://www.sqlfiddle.com/#!3/07341/4)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T20:16:13.880

此查询将给出 ID 的最大值和同一 ID 的最小值之间的绝对差：

```
SELECT ID
, ABS(MAX(VALUE1) - MIN(VALUE1)) AS v1Diff
, ABS(MAX(VALUE2) - MIN(VALUE2)) AS v2Diff
FROM TABLE1
GROUP BY ID 
```

[Sql 文件](http://www.sqlfiddle.com/#!3/211ec/4)

但是如果你想得到一个真正的差异（负差异），那么我们需要知道哪一行是第一行，哪一行是下一个。然后我们可以计算差异`firstRowValue - nextRowValue`。

也许您的表有一些`RowID`或`DateTime`列，我们可以从中订购相同的行`ID`。您的表格中有哪些列/列`Primery Key`？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-15T20:34:13.327

将选项与 CTE 和 ROW_NUMBER() 排名函数一起使用

```
 ;WITH cte AS
 (
  SELECT ID, 
         CASE ROW_NUMBER() OVER(PARTITION BY ID ORDER BY 1/0) % 2
           WHEN 1 THEN Value1
           WHEN 0 THEN -1 * Value1 END AS Value1,
         CASE ROW_NUMBER() OVER(PARTITION BY ID ORDER BY 1/0) % 2
           WHEN 1 THEN Value2
           WHEN 0 THEN -1 * Value2 END AS Value2
  FROM dbo.test22
  )
  SELECT ID, SUM(Value1) AS Value1, SUM(Value2) AS Value2
  FROM cte
  GROUP BY ID 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/d326e/1)上的演示[](http://sqlfiddle.com/#!3/d326e/1)

# arduino - 添加了带温度和湿度传感器 (DHT11) 的 Cosm 示例

> ID：15985033
> 
> 赞同：0
> 
> 时间：2013-04-13T06:37:09.603
> 
> 标签：arduino, ethernet, cosm

在标准 Cosm Arduino 传感器客户端示例中添加了温度和湿度传感器 (DHT11)。工作一会儿，然后数据流平线。

知道可能导致问题的原因吗？

非常感谢

斯塔扎

```
 /**
 * Cosm Arduino sensor client example.
 *
`` * This sketch demonstrates connecting an Arduino to Cosm (https://cosm.com),
 * using the new Arduino library to send and receive data.

/**
DHT11 temp and humidity sensor added to the COSM example code
**/

#include <SPI.h>
#include <Ethernet.h>
#include <HttpClient.h>
#include <Cosm.h>
#include <dht11.h>

//DHT11*********************************************************************
dht11 DHT11;
#define DHT11PIN 7//pin DHT11 sensor is connected to
//DHT11*********************************************************************

#define API_KEY "xxxxxx" // your Cosm API key
#define FEED_ID xxxxx // your Cosm feed ID

// MAC address for your Ethernet shield
byte mac[] = {xxxx, xxxx, xxxx, xxxx, xxxx, xxxx}; 

// Analog pin which we're monitoring (0 and 1 are used by the Ethernet shield)
int sensorPin = 2;

unsigned long lastConnectionTime = 0;                // last time we connected to Cosm
const unsigned long connectionInterval = 15000;      // delay between connecting to Cosm in milliseconds

// Initialize the Cosm library

// Define the string for our datastream ID
char sensorId[] = "sensor_reading";
char sensorId2[] = "DHT11_humidity_sensor_reading";
char sensorId3[] = "DHT11_temperature_sensor_reading";
CosmDatastream datastreams[] = {
  CosmDatastream(sensorId, strlen(sensorId), DATASTREAM_FLOAT),
  CosmDatastream(sensorId2, strlen(sensorId2), DATASTREAM_FLOAT),
  CosmDatastream(sensorId3, strlen(sensorId3), DATASTREAM_FLOAT),
};

// Wrap the datastream into a feed
CosmFeed feed(FEED_ID, datastreams, 3 /* number of datastreams */);

EthernetClient client;
CosmClient cosmclient(client);

void setup() {
  // put your setup code here, to run once:
  Serial.begin(9600);

  Serial.println("Cosm Sensor Client Example");
  Serial.println("==========================");

  Serial.println("Initializing network");
  while (Ethernet.begin(mac) != 1) {
    Serial.println("Error getting IP address via DHCP, trying again...");
    delay(15000);
  }

  Serial.println("Network initialized");
  Serial.println();
}

void loop() {
  // main program loop
  if (millis() - lastConnectionTime > connectionInterval) {

//check DHT11 sensor is working OK    
    int chk = DHT11.read(DHT11PIN);
    Serial.print("Read DHT11 sensor: ");
  switch (chk)
  {
    case 0: Serial.println("OK"); break;
    case -1: Serial.println("Checksum error"); break;
    case -2: Serial.println("Time out error"); break;
    default: Serial.println("Unknown error"); break;
  }

    sendData(); // send data to Cosm
    getData(); // read the datastream back from Cosm
    lastConnectionTime = millis(); // update connection time so we wait before connecting again
  }
}

// send the supplied values to Cosm, printing some debug information as we go
void sendData() {
  int sensorValue = analogRead(sensorPin);
  int humidityDHT11 = ((float)DHT11.humidity);
  int tempDHT11 = ((float)DHT11.temperature);
  datastreams[0].setFloat(sensorValue);
  datastreams[1].setFloat(humidityDHT11); //DHT11 humidity value*******
  datastreams[2].setFloat(tempDHT11); //DHT11 temp value********
  Serial.print("Read sensor value ");
  Serial.println(datastreams[0].getFloat());
  Serial.print("Read DHT11 humidity sensor value ");
  Serial.println(datastreams[1].getFloat());
  Serial.print("Read DHT11 temperature sensor value ");
  Serial.println(datastreams[2].getFloat());

  Serial.println("Uploading to Cosm");
  int ret = cosmclient.put(feed, API_KEY);
  Serial.print("PUT return code: ");
  Serial.println(ret);

  Serial.println();
}

// get the value of the datastream from Cosm, printing out the value we received
void getData() {
  Serial.println("Reading data from Cosm");

  int ret = cosmclient.get(feed, API_KEY);
  Serial.print("GET return code: ");
  Serial.println(ret);

  if (ret > 0) {
    Serial.print("Datastream is: ");
    Serial.println(feed[0]);
    Serial.print("Sensor value is: ");
    Serial.println(feed[0].getFloat());

    Serial.print("Datastream is: ");
    Serial.println(feed[1]);
    Serial.print("Sensor value is: ");
    Serial.println(feed[1].getFloat());

    Serial.print("Datastream is: ");
    Serial.println(feed[2]);
    Serial.print("Sensor value is: ");
    Serial.println(feed[2].getFloat());
   }

  Serial.println();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-14T10:21:56.593

Cosm 有一个调试页面，它可能会为您提供有关问题所在的线索。

当前位于：[https](https://cosm.com/users/YOURUSERNAME/debug) ://cosm.com/users/YOURUSERNAME/debug ，它会在所有传入请求通过时实时列出它们。如果您的设备最初可以正常工作，您应该会看到它开始成功发出请求，并且根据直到它变平所需的时间，您可能能够保持此页面打开并希望看到它何时开始失败。

当 Arduino 串行输出似乎停止工作时，您是否看到任何东西，或者 Arduino 似乎仍在愉快地发送数据？

您可以尝试的另一件事是使用 Wireshark 来检查网络上的网络流量。然而，设置这个稍微复杂一些，所以我建议先尝试其他方法。

如果这一切似乎都不可行，我建议将您的提要详细信息邮寄给 Cosm 支持，并让他们调查一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-20T22:15:26.930

支持 smulube 的建议以监控串行输出。此外，消除 COSM 代码和以太网的变量：使用仅从 DHT11 读取读数的草图开始调试问题，并监控计算机上 Arduino 串行输出中发生的情况（在“工具”下拉菜单中）。

我昨晚刚从 Sparkfun 收到了我的 DHT22 (RHT03)，并尝试了几个无法编译的样本（我敢肯定）。使用我的 Arduino Uno 对我来说“开箱即用”的示例来自 Tom Boyd 的页面（请务必滚动到底部以获取最新代码）：[DHT11 / Aosong AM2302 湿度和温度传感器](http://sheepdogguides.com/arduino/ar3ne1humDHT11.htm)

我很好奇：你的传感器需要多长时间才能变平？我将 Tom 的代码与 Cosm 代码集成在一起，它已经运行了一个小时而没有中断。

干杯，里夫斯

# scala - 如何在 Play 中重复请求！框架 2.1？

> ID：15985036
> 
> 赞同：4
> 
> 时间：2013-04-13T06:37:19.343
> 
> 标签：scala, playframework, request, akka, playframework-2.1

有没有什么简单的方法可以重复请求，直到在 Play2.1（scala）中获得成功结果？以及如何限制尝试次数？

我想做这样的事情：

```
WS.url("some.url").get().map{ response =>
  val strval = someFunction(response)
  strval match {
    case "success" => println("do something after successful request")
    case "error" => println("repeat same request until success - and repeat maximum N times!")
  }
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T11:34:33.373

尝试这个：

```
def wSCall = WS.url("http://foo/bar").get()

def ƒ(response: Response, n: Int): Result = {
  val strval = someFunction(response)

  strval match {
    case "success" => Ok("Ok!")
    case "error"   => {
      if (n > 0)
        Async { wSCall.map(response => ƒ(response, n - 1)) }
      else
        BadRequest("Fail :(")
    }
  }
}

Async { wSCall.map(response => ƒ(response, 10)) } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-13T08:44:29.433

*未经测试*

你可以这样做：

```
import scala.concurrent._
import play.api.libs.concurrent.Execution.Implicits._

def withRetry[T](retries:Int = 5)(f: => Future[T]) = 
  f.recoverWith {
    case t:Throwable if (retries > 0) => withRetry(retries - 1)(f)
  } 
```

然后在您自己的代码中，您可以像这样使用它：

```
withRetry(retries = 2) {
  WS.url("some.url").get
    .map { response =>
      require(someFunction(response) != "error", "Please retry")
      response
    }
} 
```

如果您愿意将其重写`someFunction`为 a `Response => Boolean`，您可以像这样使用它：

```
def someFunction(r: Response): Boolean = ???

withRetry(retries = 2) {
  WS.url("some.url").get
    .filter(someFunction)
} 
```

# gwt - 您如何在 GWTQuery 中使用 $(document).ready(function)？

> ID：15985037
> 
> 赞同：-1
> 
> 时间：2013-04-13T06:37:30.230
> 
> 标签：gwt, gquery

我一直在用 GWTQuery 编写一个项目，但我找不到相当于的 GWTQuery`$(document).ready(function).`

我试着做一个：

```
$(new Function(){ /* Function comes here */ }); 
```

尽管这不会产生语法错误，但在其中编写的任何代码都不会产生任何结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:03:32.933

**您无需编写任何就绪函数。**

> 在[链接的问题](https://stackoverflow.com/questions/7244938/dom-ready-in-gwt)中， onModuleLoad() 实际上与 ready 事件相同。默认情况下，onModuleLoad 直到页面中的所有资源都加载后才会运行。

如果是INW，可以直接开始写in`onModuleLoad`

如[GWTQuery 指南](http://code.google.com/p/gwtquery/)所示，我们可以开始在 onModuleLoad 中编写代码。

```
public void onModuleLoad() {
  //Hide the text and set the width and append an h1 element
  $("#text").hide()

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T11:34:50.253

`$(Function)`gQuery 中的构造函数有不同的含义，使用`$(this)`里面的语法是一个技巧`Functions`。

在下面的示例中是或`$(this)`的快捷方式。请注意，指向内部。`$("#input")``$(element)``this``Function`

```
 // gwtQuery version
 $("#input").click(new Function(){public void f() {
      $(this).text('whatever');
 }}); 
```

如您所见，我们这样做是为了获得与 jQuery 非常相似的代码，以便将代码从 jQuery 移植到 gQuery 更容易。在以下情况下，`this`指向执行单击的上下文：`input element`.

```
 // jQuery version
 $("#input").click(function() {
      $(this).text('whatever');
 }); 
```

关于 onReady 问题，请参阅@Baadshah 的回答和我的评论。

# objective-c - 如何在不被 initWithFrame: 覆盖的实例变量的情况下保存 NSView？

> ID：15985046
> 
> 赞同：0
> 
> 时间：2013-04-13T06:38:45.613
> 
> 标签：objective-c, cocoa, nsview, initwithframe, initwithcoder

这里是可可新手。我试图在 NSView 中对实例变量进行编码以保存到文件中。但是，每当我对其进行编码时，它都会在调用 initWithFrame: 时被覆盖为 (null)。有没有办法可以跳过这种行为并将实例变量加载到未归档的 NSView 上？这是我的代码：

```
#import "Tragic.h"

@implementation Tragic {
    NSColor *color;
}

- (id)initWithFrame:(NSRect)frame {

    self = [super initWithFrame:frame];
    if (self) {
        NSLog(@"%@",color);
    }

    return self;
}

- (void)drawRect:(NSRect)dirtyRect {
    if(!color) {
        color = [NSColor greenColor];
    }

    [color set];
    color = [NSColor yellowColor];
    NSRectFill([self bounds]);
}

-(void)encodeWithCoder:(NSCoder *)aCoder {
    [super encodeWithCoder:aCoder];
    [aCoder encodeObject:color forKey:@"color"];
}

-(id)initWithCoder:(NSCoder *)aDecoder {
    if(self = [super initWithCoder:aDecoder]) {
        color = [aDecoder decodeObjectForKey:@"color"];
    }
    return self;
}
@end 
```

在上面的代码中，我首先将要填充的颜色设置为绿色，然后在 drawRect: 方法完成后将其更改为黄色，因此保存的颜色为黄色。但尽管如此，它在 initWithFrame: 日志注释中恢复为空，并且我再次获得绿屏。从外观上看，唯一的方法似乎是将数据与视图分离。但如果有更简单的方法，任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2013-04-13T23:51:32.107

你的这部分代码没有意义......

```
@implementation Tragic {
NSColor *color;

} 
```

您不在实现（“.m”）文件中声明实例变量。您可以在接口 (".h") 文件中执行此操作。.m 文件也不应该在实现语句周围有这些括号。

您可以在 .m 文件中创建颜色变量，但它不会是可从其他类访问的“实例”变量，并且如果您这样做，它不应该在任何括号内。

# ruby-on-rails - Rails 教程 RSpec 错误（User_Pages_Spec ch. 9.1.1）

> ID：15985049
> 
> 赞同：0
> 
> 时间：2013-04-13T06:38:52.513
> 
> 标签：ruby-on-rails, railstutorial.org

我正在完成 Hartl 的 Rails 教程，并坚持作为 9.1.1 的一部分进行初始[测试。](http://ruby.railstutorial.org/chapters/updating-showing-and-deleting-users#top)我浏览了我的 user_pages_spec.rb、users_controller.rb、routes.rb、edit.html.erb 和 application_controller.rb 文件，但找不到问题所在。

我在终端中收到以下 3 个错误：

```
Ryans-MacBook-Air-3:tutorialapp rlhinchey$ bundle exec rspec spec/requests/user_pages_spec.rb -e "edit page"
Run options: include {:full_description=>/edit\ page/}
FFF

Failures:

  1) signup edit page 
     Failure/Error: it { should have_selector('h1',    text: "Update your profile") }
       expected css "h1" with text "Update your profile" to return something
     # ./spec/requests/user_pages_spec.rb:37:in `block (4 levels) in <top (required)>'

  2) signup edit page 
     Failure/Error: it { should have_link('change', href: 'http://gravatar.com/emails') }
       expected link "change" to return something
     # ./spec/requests/user_pages_spec.rb:39:in `block (4 levels) in <top (required)>'

  3) signup edit page 
     Failure/Error: it { should have_selector('title', text: "Edit user") }
       expected css "title" with text "Edit user" to return something
     # ./spec/requests/user_pages_spec.rb:38:in `block (4 levels) in <top (required)>'

Finished in 0.31167 seconds
3 examples, 3 failures

Failed examples:

rspec ./spec/requests/user_pages_spec.rb:37 # signup edit page 
rspec ./spec/requests/user_pages_spec.rb:39 # signup edit page 
rspec ./spec/requests/user_pages_spec.rb:38 # signup edit page 

Randomized with seed 20756 
```

在我看来，测试没有在 edit.html.erb 文件上进行？我是新手，所以我可能完全错了。任何帮助将非常感激！

**user_pages_spec.rb 文件**

```
require 'spec_helper'

  describe "User pages" do

    subject { page }

  describe "profile page" do
    let(:user) { FactoryGirl.create(:user) }
    before { visit user_path(user) }
    it { should have_selector('h1',    text: user.name) }
    it { should have_selector('title', text: user.name) }
end

  describe "signup page" do
    before { visit signup_path }
    it { should have_selector('h1',    text: 'Sign up') }
    it { should have_selector('title', text: full_title('Sign up')) }
  end
end

  describe "signup" do

    before { visit signup_path }
    let(:submit) { "Create my account" }

    describe "with invalid information" do
      it "should not create a user" do
        expect { click_button submit }.not_to change(User, :count)
      end 
    end

  describe "edit" do
    let(:user) { FactoryGirl.create(:user) }
    before { visit edit_user_path(user) }

  describe "page" do
    it { should have_selector('h1',    text: "Update your profile") }
    it { should have_selector('title', text: "Edit user") }
    it { should have_link('change', href: 'http://gravatar.com/emails') }
  end

  describe "with invalid information" do
    before { click_button "Save changes" }

    it { should have_content('error') }
  end
end  

  describe "with valid information" do
    before do
        fill_in "Name",         with: "Example User"
        fill_in "Email",        with: "user@example.com"
        fill_in "Password",     with: "foobar"
        fill_in "Confirmation", with: "foobar"

       it "should create a user" do
        expect { click_button submit }.to change(User, :count).by(1)
  end
    describe "after saving the user" do
        it { should have_link("Sign out") }
      end
    end
  end
end 
```

**users_controller.rb**

```
class UsersController < ApplicationController
  def show
    @user = User.find(params[:id])
  end

  def new
    @user = User.new
  end

  def create
    @user = User.new(params[:user])
    if @user.save
      sign_in @user
        flash[:success] = "Welcome to the Sample App!"
        redirect_to @user
    else
        render 'new'    
       end
    end

  def edit
    @user = User.find(params[:id])
  end
end 
```

**编辑.html.erb：**

```
<% provide(:title, "Edit user") %> 
<h1>Update your profile</h1>

<div class="row">
  <div class="span6 offset3">
    <%= form_for(@user) do |f| %>
      <%= render 'shared/error_messages' %>

      <%= f.label :name %>
      <%= f.text_field :name %>

      <%= f.label :email %>
      <%= f.text_field :email %>

      <%= f.label :password %>
      <%= f.password_field :password %>

      <%= f.label :password_confirmation, "Confirm Password" %>
      <%= f.password_field :password_confirmation %>

      <%= f.submit "Save changes", class: "btn btn-large btn-primary" %>
    <% end %>

    <%= gravatar_for @user %>
    <a href="http://gravatar.com/emails">change</a>
  </div>
</div> 
```

**application_controller.rb：**

```
class ApplicationController < ActionController::Base
  protect_from_forgery
  include SessionsHelper

  #force signout to prevent CSRF attacks

  def handle_unverified_request
    sign_out
    super
  end   
end 
```

**路线.rb**

```
Tutorialapp::Application.routes.draw do
  resources :users
  resources :sessions, only: [:new, :create, :destroy]

  root to: 'static_pages#home'
  match '/help',    to: 'static_pages#help'
  match '/about',   to: 'static_pages#about'
  match '/contact', to: 'static_pages#contact'
  match '/signup',  to: 'users#new'
  match '/signin',  to: 'sessions#new'
  match '/signout', to: 'sessions#destroy', via: :delete 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:54:44.570

看起来访问的页面不是正确的

如果您将此代码放入该`describe "page"`部分

`it { should == '' }`

错误消息应显示正在访问的实际页面。这将为您提供有关问题所在的线索。我发现这是一种有用的方法，可以查看正在呈现的页面的 html。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T18:21:49.413

我在这里找到了这个答案：[Michael Hartl 的 Ruby on Rails 教程。第 9.1 章中的未通过测试](https://stackoverflow.com/questions/11153892/ruby-on-rails-tutorial-by-michael-hartl-failing-test-in-chapter-9-1)

通过更改我的 _header.html.erb 文件，我将“#”更新为“users_path”，这导致周围都是绿灯。

Header.html 文件：

```
<header class="navbar navbar-fixed-top navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <%= link_to "sample app", root_path, id: "logo" %>
      <nav>
        <ul class="nav pull-right">
          <li><%= link_to "Home", root_path %></li>
          <li><%= link_to "Help", help_path %></li>
          <% if signed_in? %>
            <li><%= link_to "Users", 'users_path' %></li>
            <li id="fat-menu" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Account <b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><%= link_to "Profile", current_user %></li>
                <li><%= link_to "Settings", edit_user_path(current_user) %></li>
                <li class="divider"></li>
                <li>
                  <%= link_to "Sign out", signout_path, method: "delete" %>
                </li>
              </ul>
            </li>
          <% else %>
            <li><%= link_to "Sign in", signin_path %></li>
          <% end %>
        </ul>
      </nav>
    </div>
  </div>
</header> 
```

用户页面规范：

```
require 'spec_helper'

describe "User pages" do

  subject { page }

describe "profile page" do
    let(:user) { FactoryGirl.create(:user) }
    before { visit user_path(user) }

    it { should have_selector('h1',    text: user.name) }
    it { should have_selector('title', text: user.name) }
  end

describe "signup page" do
    before { visit signup_path }

    it { should have_selector('h1',    text: 'Sign up') }
    it { should have_selector('title', text: full_title('Sign up')) }
end

describe "signup" do

    before { visit signup_path }

    describe "with invalid information" do
        it "should not create a user" do
            expect { click_button "Create my account"}.not_to change(User, :count)
        end

    describe "with valid information" do
      before do
        fill_in "Name",         with: "Example User"
        fill_in "Email",        with: "user@example.com"
        fill_in "Password",     with: "foobar"
        fill_in "Confirmation", with: "foobar"
      end

it "should create a user" do
        expect do
          click_button "Create my account"
         end.to change(User, :count).by(1)
      end

describe "after saving the user" do
        before { click_button "Create my account" }
        let(:user) { User.find_by_email('user@example.com') }

        it { should have_selector('title', text: user.name) }
        it { should have_selector('div.alert.alert-success', text: 'Welcome') }
        it { should have_link('Sign out') }
        end
     end
end

describe "edit" do
    let(:user) { FactoryGirl.create(:user) }
    before do
      sign_in user
      visit edit_user_path(user)
    end

    describe "page" do
      it { should have_selector('h1',    text: "Update your profile") }
      it { should have_selector('title', text: "Edit user") }
      it { should have_link('change', href: 'http://gravatar.com/emails') }
    end

    describe "with invalid information" do
      before { click_button "Save changes" }

      it { should have_content('error') }
    end
  end
end
end 
```

# java - Java 无法连接到我的数据库

> ID：15985052
> 
> 赞同：0
> 
> 时间：2013-04-13T06:39:38.280
> 
> 标签：java, sql, ms-access, jdbc

这是我的代码：

```
import java.sql.*;

public class DBConnector {
private static Connection conn;

public static void connectToDB()
{
//load the driver
try
{
Class.forName ("sun.jdbc.odbc.JdbcOdbcDriver");
System.out.println ("Driver successfully loaded");
}
catch (ClassNotFoundException c)
{
System.out.println ("Unable to load database driver");
}

//connect to the database
try
{
String filename = "TopYouTubeVideos.mdb"; 
String database = "jdbc:odbc:Driver={Microsoft Access Driver (*.mdb)};DBQ=";
database += filename.trim () + ";DriverID=22;READONLY=true}";
conn = DriverManager.getConnection (database, "", "");
System.out.println ("Connection database successfully established");
}
catch (Exception e)
{
System.out.println ("Unable to connect to the database");
}

} 
```

输出是：

驱动加载成功

无法连接到数据库

这在与我不同的计算机上工作，通过完全相同的代码连接到数据库......有人知道为什么吗？

提前致谢 ：）

编辑：我正在运行 Access 2007，Windows 7 64bit 通过检查错误，我得到： java.sql.SQLException: [Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified

从一些研究来看，这似乎是我的“数据源名称”的问题。我把我的数据库文件放在项目文件夹中，名字是正确的。为什么找不到它？

编辑：不，两台计算机上的数据库相同。也在同一个文件夹中。

编辑：我想我可能需要创建一个系统 dsm。但是按照互联网上的说明进行操作，因为我没有与他们相同的文件..

编辑：我试图安装它，但它没有任何区别。我的访问版本与我的 netbeans 版本一样是 64 位的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:42:00.520

尝试安装在相同架构（即 32 位）中运行的数据库引擎 + JVM，否则，您将收到不匹配异常。我假设您的 JVM 是 64 位，但您的数据库引擎不是，因此请尝试从以下链接安装 64 位引擎：http: [//www.microsoft.com/en-us/download/details.aspx?id=13255](http://www.microsoft.com/en-us/download/details.aspx?id=13255)

# java - 从内部类引用封闭实例

> ID：15985058
> 
> 赞同：4
> 
> 时间：2013-04-13T06:40:22.387
> 
> 标签：java

这只是一个知识/好奇心问题。

在 Java 工作了几年之后，这才让我印象深刻。

```
class Foo {

   class Bar{

      Foo.this.doSomething();

   }

} 
```

当我查看 时`Foo.this`，我会假设它是一个静态引用，但显然不是这样。

我知道这是 Java 规范的一部分，但是当你使用时到底发生了什么`<Class>.this`？

它是那些“它就是”的东西之一吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-13T06:50:22.650

> 我知道这是 Java 规范的一部分，但是当你使用 .this 时到底发生了什么？

它只是指`Bar`. 通过反编译最容易看到这一点。您会看到有一个`Bar`构造函数引用`Foo`. 该引用存储在一个字段中，然后当您使用 时`Foo.this`，它只是访问该字段。因此，假设您拨打电话，您`Foo.this.doSomething()`的`someMethod`代码类似于：

```
class Foo {

   static class Bar {
      private final Foo $foo;

      Bar(Foo foo) {
          this.$foo = foo;
      }    

      public void someMethod() {
          $foo.doSomething();
      }
   }
} 
```

# windows-phone-7 - 提交给内部的windows phone 应用程序是否经过微软审核？

> ID：15985063
> 
> 赞同：1
> 
> 时间：2013-04-13T06:41:00.950
> 
> 标签：windows-phone-7, distribution

我们计划在内部向客户端发布应用程序（类似于 iphone 的无线传输），对于内部发布**应用程序是否需要通过 Microsoft 审核**？

在问这里之前我已经在[这里](http://msdn.microsoft.com/library/windowsphone/help/jj206724%28v=vs.105%29.aspx)
但是他们没有提到公司内部发布的任何信息（没有应用商店）

期待答案...

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:55:15.290

它被称为[公司应用程序分发](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206943%28v=vs.105%29.aspx)。当应用程序以这种方式分发时，它会绕过 Windows Phone Store 及其认证。

Windows Phone Store 中还提供 Beta 版提交，无需认证：[Beta testing your app and in-app products](http://msdn.microsoft.com/en-us/library/windowsphone/help/jj215598%28v=vs.105%29.aspx)

# php - 如何在 wordpress 插件的选项页面中获取整个博客的图像？

> ID：15985067
> 
> 赞同：3
> 
> 时间：2013-04-13T06:41:31.930
> 
> 标签：php, wordpress

我必须在插件的选项页面中获取博客的所有图像源，并且我正在制作一个插件选项页面，如下所示..请查看它..

```
public function add_plugin_page(){  
                add_options_page('Settings Admin', 'Plugin_options', 'manage_options', 'test-setting-admin', array($this, 'create_admin_page'));
            } 
```

以下代码适用于我的插件选项页面

```
public function create_admin_page(){
        ?>
    <div class="wrap">

    <?php screen_icon(); ?>

    <form action="options.php" method="post" id="<?php echo $plugin_id; ?>_options_form" name="<?php echo $plugin_id; ?>_options_form">

    <?php settings_fields($plugin_id.'_options'); ?>

    <h2>kk Plugin Options &raquo; Settings</h2>

   <table border="1" bordercolor="#FFCC00" style="background-color:#FFFFCC; margin-top:22px"  width="25%" cellpadding="2" cellspacing="1">
       <tbody>
       <tr>
        <td style="padding-left:8px;font-family:Verdana, Geneva, sans-serif;color:#666;"><h3>Blog Id:</h3></td>
        <td><p><?php echo$abc?></p></td>
    </tr>
    <tr>
        <td style="padding-left:8px;font-family:Verdana, Geneva, sans-serif;color:#666;"><h3>API Key:</h3></td>
        <td><input type="text" name="kkpo_quote" value="<?php echo get_option('kkpo_quote'); ?>" /></td>
    </tr>
        </tbody>

</table>
   <div id="mainCHImage" style="position:relative;height:'.$imgHeight.'px;width:'.$width.'px;">
         <img id="paletlyIcon" style="position:absolute;left:'.$imgWidth.'px;top:'.$imgHeight.'px;z-index:9999;cursor:pointer;background:none;border:none;" src="http://Images/favIcon.png" onclick="get_images()">'.   
        <img style="background:none;border:none;"></div>

    </form>

</div>
    <?php
    } 
```

$abc 是我想要所有图像源的变量..为此我编写了一个单独的函数

```
public function get_images(){
    if(is_single() || is_page() || is_home()||!is_admin() ){  
    global $post; 
    global $wpdb;

    $query_images = new WP_Query( $query_images_args );
    $images = array();

         foreach ( $query_images->posts as $image) {      
         $images[]= wp_get_attachment_url( $image->ID );
                 $abc=($images);
                 echo $abc;
                 }

    }

} 
```

但我收到错误

```
ReferenceError: get_images is not defined
[Break On This Error]   

get_images(); 
```

我在我的构造中添加了该功能，即

```
add_action('IMages_grab', array(&$this, 'get_images'));
add_filter('IMages_grab', array(&$this, 'get_images')); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:26:27.527

伙计，你的代码在很多层面上都是错误的！（我在这里仅表达我自己的观点。）

1.  你有 `$query_images = new WP_Query( $query_images_args );`但你没有定义`$query_images_arg` （通过定义参数来修复）

2.  您正在构建某种管理菜单，但随后您将条件设置为`!is_admin()` 无效（通过决定/定义它的操作位置来修复）

3.  你有很多语法错误，比如`echo$abc?`（修复到`echo $abc`）

    3.1。$abc 应该是一个数组？那么你甚至不能使用 echo 但是`print_r($abc);`

4.  您正在使用`settings APi`序列化数组，然后调用单个选项，例如`echo get_option('kkpo_quote');` （修复决定使用哪种方法）

5.  这是最重要的一个，为什么要将整个网站的所有图像都放入一个数组中，并且更重要的是，呼应它？？你能想象一个有 10,000 张图片甚至只有 300 张图片的网站会发生什么吗？

现在，您的代码显然是剪切和粘贴插件开发中的某种尝试或练习。给出一个好的答案将意味着你必须更好地解释你的意图，但你可以从修复我在上面写的内容开始，而不是完整的，列出......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:18:26.207

我同意@ObmerkKronen 的大部分答案，但同意点`5`。在我看来，这是问题的核心。

是的，想要一个包含*所有*帖子的数组是有效的（并且附件是*帖子类型*）。一个 10K 的数组可能不会那么大，这取决于它的使用方式。

以下示例显示了一个管理员通知，其中包含指向媒体库中所有图像的链接。[查阅 Codex](http://codex.wordpress.org/Function_Reference/)以了解此处使用的功能。应该很容易将其适应插件的选项页面。

```
add_action( 'admin_notices', 'get_all_images_so_15985067' );

function get_all_images_so_15985067() 
{
    // get all images
    $args = array( 
        'post_type' => 'attachment', 
        'post_mime_type' => 'image',
        'numberposts' => -1,
    );
    $_attachments = get_posts( $args );

    // no images found, do nothing
    if ( empty( $_attachments ) )
        return;

    // build array only with IDs
    $attachments = array();
    foreach ( $_attachments as $key => $val ) {
        $attachments[ $val->ID ] = $_attachments[ $key ];
    }

    // print thumbnail links
    echo '<div class="updated">';
    foreach ( $attachments as $att_id => $attachment ) {
        echo wp_get_attachment_link( 
            $att_id, 
            'thumbnail', 
            false, 
            false, 
            $attachment->post_title 
        ) . "<br>";
    }
    echo '</div>';
} 
```

# python - IntegerField 值被转换为某些数字的字符串

> ID：15985069
> 
> 赞同：1
> 
> 时间：2013-04-13T06:41:52.940
> 
> 标签：python, python-2.7, google-cloud-endpoints, protorpc

具有带有整数字段的 Cloud Endpoints (ProtoRPC) 消息类，例如

```
TestMsg(messages.Message):
  int_field = messages.IntegerField(1) 
```

和一个方法：

```
@endpoints.method(VoidMessage, TestMsg)
def test_int_field():
  return TestMsg(int_field=1234567890123) 
```

在本地开发服务器 JSON 响应~~正确~~导致：

```
{ int_field: 1234567890123 } 
```

而在生产中，由于某种原因，数字被转换为字符串：

```
{ int_field: "1234567890123" } 
```

不过，对于较小的数字，整数似乎不会转换为字符串。

这是预期的行为吗？任何人都可以复制吗？（以防万一：我在欧盟数据中心运行此代码）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-14T14:52:57.090

我猜@proppy 是对的。此外，它在发现格式中明确指出

> 一个 32 位有符号整数（“整数”类型，int32 格式）。它的最小值为-2,147,483,648，最大值为2,147,483,647（含）

和

> 一个 32 位无符号整数（“整数”类型，uint32 格式）。它的最小值为 0，最大值为 4,294,967,295（含）。

所有其他类型的 int/bigint/whatever 值都被表示为具有不同格式的“字符串”类型。更多信息：[https ://developers.google.com/discovery/v1/type-format](https://developers.google.com/discovery/v1/type-format)

因此，1234567890123 数字实际上不能以“整数”类型表示。只是开发服务器不会自动将整数转换为字符串（就像生产基础设施那样），而且我没有意识到在本地测试时这个数字有多大。

事实证明，谷歌的一个团队已经在努力使其保持一致：[https ://code.google.com/p/googleappengine/issues/detail?id=9173](https://code.google.com/p/googleappengine/issues/detail?id=9173)

# php - 使用 NSURLConnection 从 php/mysql 请求 xcode 数据

> ID：15985081
> 
> 赞同：0
> 
> 时间：2013-04-13T06:44:08.773
> 
> 标签：php, mysql, xcode, nsurlconnection

我想使用 NSURLConnection 从 PHP/Mysql 请求中获取一个值（可以是 1 或 0），下面是我的 xcode 和 php/mysql 查询的代码

谁能帮我将接收到的数据存储在 NSString 而不是 NSMutableData 中？我想使用 NSURLConnection 的原因是因为它提供了无连接功能

```
NSURLRequest *theRequest=[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://192.168.0.20/iqkradio_stream_ip_flag.php"]
                                          cachePolicy:NSURLRequestUseProtocolCachePolicy
                                      timeoutInterval:20.0];
NSURLConnection *theConnection=[[NSURLConnection alloc] initWithRequest:theRequest delegate:self];
if (theConnection) {
    receivedData = [[NSMutableData data] retain];
    NSString *receivedDataString = [[NSString alloc] initWithData:receivedData encoding:NSUTF8StringEncoding];
}

else
{
    NSLog(@"no connection or Error");
    // Inform the user that the connection failed.
} 
```

mysql文件

```
 <?php
$con = mysql_connect("192.168.0.15","xxxx","xxxxx");

if (!$con) {
  die('Could not connect: ' . mysql_error());
}

mysql_select_db("qkradio", $con);
$result = mysql_query("select address from iqkradio" );
while($row = mysql_fetch_array($result)) {
echo $row['address'];
}
mysql_close($con);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T06:53:20.320

如果它是单个字符，为什么不直接使用：

```
NSError *error;
NSString *result = [NSString stringWithContentsOfURL:[NSURL URLWithString:@"http://192.168.0.20/iqkradio_stream_ip_flag.php"] encoding:NSASCIIStringEncoding error:&error]; 
```

`NSURLConnection`它比这么小的有效载荷要容易得多，也不应该阻塞太多。如果您担心这一点，您可以随时将其包装在`dispatch_async`.

# asp.net-mvc - 在 SQL Server 查询上安装 asp.net 会话状态数据库

> ID：15985082
> 
> 赞同：1
> 
> 时间：2013-04-13T06:44:42.110
> 
> 标签：asp.net-mvc

我们有一个 mvc4 .net 应用程序要部署在 Win2008 64 位服务器中，并且需要使用 SQL Server sessionState。.net 框架版本是 4.5

asp.net 会话状态数据库将安装在另一台具有 .net framework 2.0 的服务器中。必须在此服务器中安装 .net framework 4.5 才能运行`aspnet_regsql.exe`命令（因为 Web 应用程序是 .net 4.5）？或者.net 2.0`aspnet_regsql.exe`可以用于安装 asp.net 会话状态数据库吗？

非常感谢，本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:20:53.860

有一种简单的方法可以检查这一点。在您的机器上运行 .NET 2.0 并检查数据库架构是否相同。

但更好的主意是使用 -S 开关从 IIS 服务器运行 asp_regsql，如下所示：

```
aspnet_regsql.exe -S YourSqlServer 
```

-S 表示：

> 指定将安装或已安装数据库的运行 SQL Server 的计算机的名称。

MSDN 上有更多选项：http: [//msdn.microsoft.com/en-us/library/ms229862 (v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/ms229862(v=vs.100).aspx)

# javascript - 使用连接打印数组中所有对象的特定属性

> ID：15985084
> 
> 赞同：1
> 
> 时间：2013-04-13T06:44:48.167
> 
> 标签：javascript, json

我有以下代码 -

```
var test = [ { id:'1', name: 'a'},  { id:'2' name: 'b'},  { id:'3', name: 'c'}];
alert(test.join(', ')); 
```

我该如何提醒`a, b, c`？现在，我得到 -

```
[Object, Object, Object] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T06:48:45.703

如果您的浏览器支持 ECMAScript 5（Internet Explorer 8 及更低版本不支持），您可以使用[map()](https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Array/map)：

```
alert(test.map(function(obj) {
    return obj.name;
}).join(", ")); 
```

# knockout.js - 使用 knockout.js 和 ko.computed 连续汇总值时出错

> ID：15985090
> 
> 赞同：1
> 
> 时间：2013-04-13T06:45:14.320
> 
> 标签：knockout.js, calculated-columns, computed-values

我认为这是一个非常基本的问题，但我只是没有看到错误。我得到了以下简单的模型：

```
var Row = function(col1, col2)
{
    var self = this;

    self.column1 = ko.observable(col1);
    self.column2 = ko.observable(col2);
    self.sum = ko.computed(function(){
        var col1 = isNaN(parseInt(this.column1)) ? 0 : parseInt(this.column1);
        var col2 = isNaN(parseInt(this.column2)) ? 0 : parseInt(this.column2);

        return col1 + col2;
    });
}

var RowViewModel = function()
{
    this.rows = ko.observableArray([
        new Row(10, 20),
        new Row(10, 20)
    ]);
}

 ko.applyBindings(new RowViewModel); 
```

如您所见，我只想使用 ko.computed 函数对表行中的两个值求和。但它总是向我显示 NaN（如果我不检查它）或“0”。我真的尝试了很多，但我无法弄清楚问题是什么。这里是我的 jsfiddle：http: [//jsfiddle.net/r2JQw/4/](http://jsfiddle.net/r2JQw/4/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T06:59:30.700

你有两个问题：

*   `ko.observable`返回一个函数，因此您需要通过将其作为函数调用来获取它的值`()`。例如：`self.column1()`和`self.column1()`
*   默认情况下，`this`计算的内部不是“当前”对象，因此您应该改用（或作为 的第二个参数`self`传递）`this``ko.computed`

所以固定`sum`看起来像这样：

```
self.sum = ko.computed(function(){
    var col1 = isNaN(parseInt(self.column1())) ? 0 : parseInt(self.column1());
    var col2 = isNaN(parseInt(self.column2())) ? 0 : parseInt(self.column2());

    return col1 + col2;
}); 
```

演示[JSFiddle。](http://jsfiddle.net/2xw45/)

# scope - 标准 ML - 在 let-in-end 表达式中更新全局变量？

> ID：15985094
> 
> 赞同：3
> 
> 时间：2013-04-13T06:45:27.110
> 
> 标签：scope, standards, global, sml, ml

有什么方法可以更新在 let-in-end 表达式中绑定在全局范围内的变量？

例如，如果我有一个全局变量：

```
val playerScore = 0; 
```

然后是函数：

```
fun hit (option:int) = 
    if option = 2 then
        printStay(playerScore, dealerScore)
    else 
        let
            val cardDrawn = showCard(hd deck)
            val playerScore = playerScore + getValue(hd deck)
        in 
            print ("You chose to hit\n" ^ cardDrawn ^ "Dealer Score: " ^ Int.toString(dealerScore) ^ "\nPlayer Score: " ^ Int.toString(playerScore) ^ "\n")  
        end; 
```

playerScore 的值在 let 表达式中更新，并在“in”子句中打印正确的值，但 playerScore 的实际值不保存，并在此表达式完成后重置。

在这个表达式执行后，无论如何要在全局级别上保留 playerScore 的值吗？问题是我无法跟踪分数，因为它每次都重置为 0。

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-13T07:07:26.210

在 ML 中永远不能分配“变量”。的值`playerScore`，一旦初始化，就永远不会改变。时期。

在您的示例中，您正在声明一个在内部范围中调用的*新变量，该变量隐藏了外部变量。*`playerScore`它是一个*不同*的变量，与同名的外部变量无关。

如果要使用可变性，可以使用可变数据结构，其中最简单的是“ref”单元格，即单项可变单元格。您可以使用该`ref`函数创建 ref 数据结构，`!`操作符访问其内容，`:=`操作符更改其内容。但是突变只能通过可变数据结构（如`ref`、数组等）发生。变量不能更改。

# sql-server - 创建区分大小写的目录

> ID：15985103
> 
> 赞同：0
> 
> 时间：2013-04-13T06:46:52.210
> 
> 标签：sql-server

我正在尝试为具有在字符串列上定义的主键的表创建具有相同值但大小写不同的多行。

默认情况下 SQL 服务器不允许你这样做，有没有办法告诉 SQL 服务器这是允许的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:47:23.477

通过更改“数据库排序规则”参数，我们可以控制数据库区分大小写。

默认排序规则是 SQL_Latin1_General_CP1_CI_AS（CI => 不区分大小写）

通过更改为 SQL_Latin1_General_CP1_CS_AS（CS => 区分大小写），您可以启用具有相同主键但大小写不同的 2 行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:25:35.717

指定表上列的 COLLATION 区分大小写。首先弄清楚您的数据库正在使用什么排序规则。

```
SELECT DATABASEPROPERTYEX(DB_NAME(), 'Collation') AS CollationUsedBySQLServerDatabase
-- Mine was Finnish_Swedish_CI_AS 
```

为您的表选择相同的，但选择区分大小写 (Finnish_Swedish_CS_AS)

```
create table Users
(
    UserName varchar(5000) COLLATE Finnish_Swedish_CS_AS PRIMARY KEY 
)

insert Users(UserName)
Values ('Peter'), ('PETER')

select * from Users 
```

# android - 在 SQLite 中创建表时在数据库中添加记录

> ID：15985107
> 
> 赞同：1
> 
> 时间：2013-04-13T06:47:17.697
> 
> 标签：android, sqlite

我试图在创建表时在 SQLite 数据库中添加值，但代码意外停止。我试图通过在日志中输入命令来检查它在哪里弯腰。两个表都成功创建。当我们尝试在 onCreate() 方法中插入值时，就会出现问题。任何建议，有什么问题？

```
package moin.WPG.databasecheck;

import java.util.ArrayList;
import java.util.List;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class DatabaseHandler extends SQLiteOpenHelper {

    // All Static variables
    // Database Version
    private static final int DATABASE_VERSION = 1;

    // Database Name
    private static final String DATABASE_NAME = "applicationManager";
    // Contacts table name
    private static final String TABLE_EMERGENCY_CONTACTS = "emerencyContacts";
    private static final String TABLE_PERSONAL_CONTACTS = "personalContacts";

    // Contacts Table Columns names
    private static final String KEY_ID = "id";
    private static final String KEY_NAME = "name";
    private static final String KEY_PH_NO = "phone_number";
    private static final String KEY_EMAIL_ID = "email_id";

    private static final String KEY_USER_ID = "userId";
    private static final String KEY_APP_PASSWORD = "app_password";
    private static final String KEY_USER_NAME = "user_name";

    public DatabaseHandler(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
    }

    // Creating Tables
    @Override
    public void onCreate(SQLiteDatabase db) {

        String CREATE_EMERGENCY_CONTACTS_TABLE = "CREATE TABLE " + TABLE_EMERGENCY_CONTACTS + "("
                + KEY_ID + " INTEGER PRIMARY KEY," + KEY_NAME + " TEXT,"
                + KEY_PH_NO + " TEXT," + KEY_EMAIL_ID + " TEXT" + ")";
        db.execSQL(CREATE_EMERGENCY_CONTACTS_TABLE);
        Log.d("table","table created 1");

        String CREATE_PERSONAL_CONTACTS_TABLE = "CREATE TABLE " + TABLE_PERSONAL_CONTACTS + "("
                + KEY_USER_ID + " INTEGER PRIMARY KEY," + KEY_USER_NAME + " TEXT,"
                + KEY_APP_PASSWORD + " TEXT" + ")";
        db.execSQL(CREATE_PERSONAL_CONTACTS_TABLE);
        Log.d("table","table created 2");

        db = this.getWritableDatabase();

        ContentValues[] values = new ContentValues[3];
        for(int i=1;i<=3;i++){
        values[i-1].put(KEY_ID, i);
        values[i-1].put(KEY_NAME, "name"+i); // Contact Name
        values[i-1].put(KEY_PH_NO, "ph"+1);// Contact Phone
        values[i-1].put(KEY_EMAIL_ID, "id"+i);
        db.insert(TABLE_EMERGENCY_CONTACTS, null, values[i-1]);

        }
        Log.d("inserted","table 1");
        ContentValues values2 = new ContentValues();
        values2.put(KEY_USER_ID, 1);
        values2.put(KEY_USER_NAME, "username");
        values2.put(KEY_APP_PASSWORD, "password");
        db.insert(TABLE_PERSONAL_CONTACTS, null, values2);
        Log.d("inserted","table 2"); */
        db.close(); // Closing database connection

        Log.d("database","closing");
    }

    // Upgrading database
    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // Drop older table if existed
        db.execSQL("DROP TABLE IF EXISTS ");

        // Create tables again
        onCreate(db);
    }

    /**
     * All CRUD(Create, Read, Update, Delete) Operations
     */

    // Adding new contact
   /*  void addContact(Contact contact) {
        SQLiteDatabase db = this.getWritableDatabase();

        ContentValues values = new ContentValues();
        values.put(KEY_ID, contact.getID());
        values.put(KEY_NAME, contact.getName()); // Contact Name
        values.put(KEY_PH_NO, contact.getPhoneNumber());// Contact Phone
        values.put(KEY_EMAIL_ID, contact.getEmailId());

        // Inserting Row
        db.insert(TABLE_EMERGENCY_CONTACTS, null, values);
        db.close(); // Closing database connection
    } */

    // Getting single contact
    Contact getEmergencyContact(int id) {
        SQLiteDatabase db = this.getReadableDatabase();

        Cursor cursor = db.query(TABLE_EMERGENCY_CONTACTS, new String[] { KEY_ID,
                KEY_NAME, KEY_PH_NO, KEY_EMAIL_ID }, KEY_ID + "=?",
                new String[] { String.valueOf(id) }, null, null, null, null);
        if (cursor != null)
            cursor.moveToFirst();

        Contact contact = new Contact(Integer.parseInt(cursor.getString(0)),
                cursor.getString(1), cursor.getString(2),cursor.getString(3));
        // return contact
        return contact;
    }

    UserInfo getUserInfo(int id) {
        SQLiteDatabase db = this.getReadableDatabase();

        Cursor cursor = db.query(TABLE_PERSONAL_CONTACTS, new String[] { KEY_USER_ID,
                KEY_USER_NAME, KEY_APP_PASSWORD }, KEY_USER_ID + "=?",
                new String[] { String.valueOf(id) }, null, null, null, null);
        if (cursor != null)
            cursor.moveToFirst();

        UserInfo userInfo = new UserInfo(Integer.parseInt(cursor.getString(0)),
                cursor.getString(1), cursor.getString(2));
        // return contact
        return userInfo;
    }
    // Getting All Contacts
   /* public List<Contact> getAllContacts() {
        List<Contact> contactList = new ArrayList<Contact>();
        // Select All Query
        String selectQuery = "SELECT  * FROM " + TABLE_EMERGENCY_CONTACTS;

        SQLiteDatabase db = this.getWritableDatabase();
        Cursor cursor = db.rawQuery(selectQuery, null);

        // looping through all rows and adding to list
        if (cursor.moveToFirst()) {
            do {
                Contact contact = new Contact();
                contact.setID(Integer.parseInt(cursor.getString(0)));
                contact.setName(cursor.getString(1));
                contact.setPhoneNumber(cursor.getString(2));
                contact.setEmailId(cursor.getString(2));
                // Adding contact to list
                contactList.add(contact);
            } while (cursor.moveToNext());
        }

        // return contact list
        return contactList;
    } */ 

    // Updating single contact
    public int updateEmergencyContact(Contact contact) {
        SQLiteDatabase db = this.getWritableDatabase();

        ContentValues values = new ContentValues();
        values.put(KEY_ID, contact.getID());
        values.put(KEY_NAME, contact.getName());
        values.put(KEY_PH_NO, contact.getPhoneNumber());
        values.put(KEY_EMAIL_ID, contact.getEmailId());

        // updating row
        return db.update(TABLE_EMERGENCY_CONTACTS, values, KEY_ID + " = ?",
                new String[] { String.valueOf(contact.getID()) });
    }

    public int updateUserInfo(UserInfo userInfo) {
        SQLiteDatabase db = this.getWritableDatabase();

        ContentValues values = new ContentValues();
        values.put(KEY_USER_ID, userInfo.getID());
        values.put(KEY_USER_NAME, userInfo.getName());
        values.put(KEY_APP_PASSWORD, userInfo.getPassword());

        // updating row
        return db.update(TABLE_PERSONAL_CONTACTS, values, KEY_ID + " = ?",
                new String[] { String.valueOf(userInfo.getID()) });
    }
    // Deleting single contact
 /*   public void deleteContact(Contact contact) {
        SQLiteDatabase db = this.getWritableDatabase();
        db.delete(TABLE_EMERGENCY_CONTACTS, KEY_ID + " = ?",
                new String[] { String.valueOf(contact.getID()) });
        db.close();
    } */

    // Getting contacts Count
   /* public int getContactsCount() {
        String countQuery = "SELECT  * FROM " + TABLE_EMERGENCY_CONTACTS;
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor cursor = db.rawQuery(countQuery, null);
        cursor.close();

        // return count
        return cursor.getCount();
    } */

} 
```

这是错误日志：

```
 4-13 12:20:08.727: D/table(754): table created 1
    04-13 12:20:08.747: D/table(754): table created 2
    04-13 12:20:08.757: D/AndroidRuntime(754): Shutting down VM
    04-13 12:20:08.766: W/dalvikvm(754): threadid=1: thread exiting with                          uncaught exception (group=0x409961f8)
    04-13 12:20:08.787: E/AndroidRuntime(754): FATAL EXCEPTION: main
    04-13 12:20:08.787: E/AndroidRuntime(754): java.lang.RuntimeException: Unable to start activity ComponentInfo{moin.WPG.databasecheck/moin.WPG.databasecheck.WPGDBActivity}: java.lang.IllegalStateException: getWritableDatabase called recursively
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread.access$600(ActivityThread.java:122)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.os.Handler.dispatchMessage(Handler.java:99)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.os.Looper.loop(Looper.java:137)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread.main(ActivityThread.java:4340)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at java.lang.reflect.Method.invokeNative(Native Method)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at java.lang.reflect.Method.invoke(Method.java:511)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at dalvik.system.NativeStart.main(Native Method)
    04-13 12:20:08.787: E/AndroidRuntime(754): Caused by: java.lang.IllegalStateException: getWritableDatabase called recursively
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:140)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at moin.WPG.databasecheck.DatabaseHandler.onCreate(DatabaseHandler.java:57)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:165)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:231)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at moin.WPG.databasecheck.DatabaseHandler.getEmergencyContact(DatabaseHandler.java:122)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at moin.WPG.databasecheck.WPGDBActivity.onCreate(WPGDBActivity.java:46)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.Activity.performCreate(Activity.java:4465)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
    04-13 12:20:08.787: E/AndroidRuntime(754):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)
    04-13 12:20:08.787: E/AndroidRuntime(754):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:32:04.213

不要像那些方法调用的那样调用`getWritableDatabase()`or`getReadableDatabase()`的方法，你会让自己陷入循环（并且陷入困境）。`SQLiteOpenHelper``onCreate`

如果您需要数据库引用，请使用该`SQLiteDatabase`参数，因为它是新数据库：

```
@Override
public void onCreate(SQLiteDatabase db) {
    //...
    // when you need the database refercence just use db
    // DON'T call getWritableDatabase() and assign it to db 
```

# android - 如何在 cocos2d android 中设置效果音量？

> ID：15985111
> 
> 赞同：0
> 
> 时间：2013-04-13T06:48:00.287
> 
> 标签：android, cocos2d-android

我是 cocos2d android 的新手。在我的游戏中，我在游戏设置中使用了以下代码。

```
SoundEngine.sharedEngine().setEffectsVolume(volume); 
```

> 其中，音量在（0.0 到 1.0）的范围内浮动。

但是，效果量没有变化。请给出解决方案。提前致谢。

# c - c语言中的异常自处理程序使用Assembly

> ID：15985112
> 
> 赞同：0
> 
> 时间：2013-04-13T06:48:06.310
> 
> 标签：c, visual-c++, assembly, exception-handling

我通过以下代码在 c 文件中使用程序集创建了一个自我异常处理程序：

 ````
__asm 
    {
        pushad
        mov esi, offset Handler 
        push esi 
        push dword ptr fs:[0] 
        mov dword ptr fs:[0], esp
        push u32Param
        call pFunc;
        jmp NoException

Handler:

        mov esp, [esp + 8]
        pop dword ptr fs:[0]
        add esp, 4
        popad
        mov eax, 0x80000000     
        jmp ExceptionHandled

NoException:

        pop dword ptr fs:[0]
        add esp, 40

ExceptionHandled:
    } 
```

这段代码是汇编中的简单异常处理。
此代码适用于新创建的 vc 项目。
但在我的项目中，它产生了一个异常，vc 说有一个无效的异常处理程序。

有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:50:57.130

如果您正在关注[这篇文章](http://www.rohitab.com/structured-exception-handling-in-assembly-language)，那么您为什么不正确地恢复堆栈，如代码中所示？

文章中的代码：

```
18  NoException&;Handler:                ;;No Exception Occured
19      pop dword ptr fs:[0]            ;;Restore Old Exception Handler
20      add esp, 32 + 4                 ;;ESP value before SEH was set. 32 for pushad and ...
21  ExceptionHandled&;Handler:           ;;...4 for push offset Handler. (No Restore State)
22                                      ;;Exception has been handled, or no exception occured 
```

你的代码：

```
NoException:

        pop dword ptr fs:[0]
        add esp, 8

ExceptionHandled: 
```

该代码中的 32 是撤消`pushad`，4 是撤消`push esi`。为什么你有 8 个？32 + 4 ≠ 8。

如果这就是您想要`u32Param`从堆栈中删除的方式（以防`pFunc`不适合您），那么您应该在这两行之间进行：

```
 call pFunc;
    add esp, 4
    jmp NoException 
```

我的版本：

```
// file: tst.c
// compile with Open Watcom C/C++ 1.9: wcl386.exe /q /we /wx tst.c
// ditto with debug info: wcl386.exe /q /we /wx /d2 tst.c
#include <stdio.h>

unsigned __stdcall func(volatile unsigned* p)
{
  return *p;
}

unsigned blah(unsigned (__stdcall *pFunc)(volatile unsigned*), volatile unsigned* u32Param)
{
  unsigned result = 0;

  __asm 
  {
      pushad
//      mov esi, offset Handler // Open Watcom C/C++ says Handler is undefined
//      push esi 

//      lea eax, blah
//      add eax, Handler - blah // this difference doesn't come out correct with Open Watcom C/C++
//      add eax, 78 // 78 is Handler - blah // this is unreliable
//      push eax

      push 0xFDCB4321
      jmp GetHandlerAddr
  GotHandlerAddr:
      pop eax
      add esp, 4
      push eax

      push dword ptr fs:[0] 
      mov dword ptr fs:[0], esp
      push u32Param
      call dword ptr [pFunc]

      jmp NoException

  GetHandlerAddr:
      call Handler // this will place &Handler on the stack
  Handler:
      cmp dword ptr [esp + 4], 0xFDCB4321
      je GotHandlerAddr

      mov esp, [esp + 8]
      pop dword ptr fs:[0]
      add esp, 4
      popad
      mov eax, 0x80000000     
      jmp ExceptionHandled

  NoException:

      pop dword ptr fs:[0]
      add esp, 32 + 4

  ExceptionHandled:

      mov result, eax
  }

  return result;
}

int main(void)
{
  volatile unsigned n = 0x113355AA;
  printf("%08X\n", func(&n));
  printf("%08X\n", blah(&func, &n));
  printf("%08X\n", blah(&func, (volatile unsigned*)0));
  printf("%08X\n", blah(&func, (volatile unsigned*)0));
  return 0;
} 
```

输出：

```
113355AA
113355AA
80000000
80000000 
````

# c++ - 如何在 C++ 中绘制函数

> ID：15985118
> 
> 赞同：5
> 
> 时间：2013-04-13T06:49:18.923
> 
> 标签：c++

我想用 C++ 创建函数图表。任何人都可以帮助我开始吗？假设我想绘制函数 y=x （它是一条通过点 (0,0) (1,1) (2,2) ..... (20,20) 等的直线）如何我能做到吗？（如果您还建议如何绘制 y 和 x 轴，那就更好了）对不起，但它不在书本上（顺便说一下，欢迎推荐好的文本 :-) C++）并且在网上主要参考游戏图形。我能找到的对我的问题的唯一认真参考是： [在这个论坛上提出了一些相关的问题](https://stackoverflow.com/questions/9014685/c-how-to-draw-a-tone-curve-gamma-to-graph-using-setpixel-function) （上帝保佑，我们有 stackoverflow！）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-19T15:03:33.170

我会考虑两种选择：

*   如果你想用 C++ 做所有事情，你可能需要一个外部库。OpenGL 是一个解决方案，还有[Qt](http://qt-project.org/doc/qt-4.8/painting-basicdrawing.html)，它可能更容易学习并且更大（并且更强大）。
*   如果您有能力输出一个文件并用另一个程序读取它，最简单的方法是简单地编写一个带有点坐标的 ASCII 文件，并使用[Octave](http://www.gnu.org/software/octave/)（免费）绘图。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-22T09:35:06.500

您还可以使用交互式绘图程序[**Gnuplot**](http://www.gnuplot.info/)：您的 C++ 代码处理和计算您的数据，然后它可以将结果导出到文件或 Gnuplot 可以处理的标准输出。例如，您可以执行以下操作：

> ```
> my_program | gnuplot 
> ```

它将使用您的程序结果调用 Gnuplot。

Gnuplot 非常强大，您可以在[此处查看可用的示例](http://gnuplot.sourceforge.net/demo_cvs/)。

[![Gnuplot 输出示例](https://i.stack.imgur.com/EV2Xq.png)](https://i.stack.imgur.com/EV2Xq.png)
[（来源：[sourceforge.net](http://gnuplot.sourceforge.net/demo_cvs/heatmaps.3.png)）]

您可以在此处找到有关 C/C++ 中 Gnuplot 的更多信息：

[**如何在 C++ 中实时在 Gnuplot 中绘制图形？**](https://stackoverflow.com/questions/4445720/how-to-plot-graphs-in-gnuplot-in-real-time-in-c?rq=1)

### 更新

另一种可能性是使用[**R**](https://www.r-project.org/)。这种语言在统计学家中非常有名。您可能想查看[一些示例](http://www.rexamples.com/)。

![R 输出示例](https://i.stack.imgur.com/DuzF9.jpg)

相关问题：[**如何将 R 的绘图运行到 C/C++ 中？**](https://stackoverflow.com/questions/10176468/how-to-run-plot-of-r-into-c-c)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-13T07:12:52.667

我不知道一种有效的快速简单的方法来做你在 C++ 中描述的事情。您要么将文本输出到控制台以显示您希望显示的“线条”的效果。或使用 directx 或 opengl 设置适当的 GUI 界面。许多库确实存在，它们简化了设置 GUI 的任务。但有初始开销。

我建议制作 ac# 表单应用程序并查看其中的绘图线。它还可以让您轻松地在运行时输入方程式，而不是对它们进行硬编码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-22T11:49:03.590

大约三个月前，我也有同样的问题。我发现为我的应用程序绘制的最佳方法是利用该`Qt`框架（因为它已经为您创建了一个 GUI，然后利用此工具：

[Qt 绘图小部件](http://www.workslikeclockwork.com/index.php/components/qt-plotting-widget/)

此小部件在编译并与您的项目链接后，允许您直接从界面中绘制 2d 图形。这样可以省去写入文件、使用 matlab 加载等的麻烦。

目前，它只处理二维图，但将其扩展到三个维度或曲面图并不难。

祝你好运！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-05-22T10:00:19.130

我使用ROOT。这是大多数粒子物理学家使用的方法，尤其是在 CERN 和费米实验室。免费。它们有适用于 Linux、Mac 和 Windows 的版本。 [http://root.cern.ch/drupal/](http://root.cern.ch/drupal/)

制作图表、直方图和生成适合出版的输出很容易。

编辑：它建立在 C++ 之上，但也有 python 绑定。

编辑：如果在 linux 上安装 root 以使用带有 GCC 的 ROOT 编译代码，请执行以下操作：

```
g++ foo.C -o foo `root-config --cflags --libs` -O3 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-19T14:51:45.167

在这些天里，我发现了几件事： 1\. “C++ 编程和图形简介”一书 C.Pozrikidis 2\. [Visual Studio C++ 2010 express 和 OpenGL](https://stackoverflow.com/questions/5055288/visual-studio-c-2010-express-and-opengl) （请参阅该页面中的最后一条评论）任何人都可以提出更好的解决方案吗？（教科书、免费 dll 等）

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-19T15:38:30.883

您可以使用 Windows.h 中的一些功能。从控制台功能开始。它们是一个很好的起点，使我们能够像在笛卡尔平面上一样在控制台上工作。

虽然我从来没有尝试过和他们一起画画。我已经能够为文本演示创建漂亮的表格和布局。就像联系人的姓名和电话号码作为联系人应用程序中的表格一样。

这些功能可以将光标移动到特定坐标。并在那里写一些东西。总体而言，它们非常像笛卡尔平面一样工作。但只有坐标系不是我们使用的正常坐标系（4 个象限），它更像是一种计算机类型系统，只有一个象限，在 x 轴上从左到右标记，在 y 轴上从上到下标记。您可能必须构建一些功能以优化此系统或我们使用的正常系统。

但总而言之，它很有用，你可以试试。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-06-11T11:35:48.630

我安装了 gnuplot（非常简单：在硬盘中创建一个文件夹，解压缩并从 wgnuplot.exe 发送到 destop 的链接），现在我将要从 Visual Studio（C++）绘制的数据导出到 .txt 文件中，然后我从 gnuplot 窗口调用这些文件。只是为了向其他人节省我经历过的同样的时间浪费和头痛:-)

我也安装了ROOT，很简单，cern页面里有正规的微软安装程序。这是链接： [http](http://root.cern.ch/drupal/content/production-version-534) ://root.cern.ch/drupal/content/production-version-534 并滚动到页面底部，然后选择与您的 Visual Studio 兼容的 MSI 版本。无论如何，我仍然必须学习如何在 Visual Studio 中使用 ROOT。帮助将不胜感激。这个页面也有助于在 Visual Studio 中使用 ROOT 创建项目：[http ://root.cern.ch/phpBB3/viewtopic.php?f=3&t=11641](http://root.cern.ch/phpBB3/viewtopic.php?f=3&t=11641)

以上所有内容均适用于 WINDOWS 用户。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-04-19T09:48:28.360

```
i was just plotting a simmilar function y=x²
in windows, or any library based on windows you will probably intercept message WM_PAINT

     case WM_PAINT:
     HDC hdc = beginpaint();

// change device contexts      hdc y      axys orientation
// change logical coordinates of point (0,0) to half of width and half of //eight of your client area

// u might want to change from pixels to mm
// for each x from -10 to 10 y = x²
// draw a little line for each point in this range

// end painting, this will release     hcd 
```

# javascript - 使 Chrome 扩展 contextMenu 加载

> ID：15985119
> 
> 赞同：0
> 
> 时间：2013-04-13T06:49:25.263
> 
> 标签：javascript, json, google-chrome, google-chrome-extension, contextmenu

我正在开发一个 chrome 扩展，它是一个 contextMenu 并出现在右键菜单中。但问题是，您必须从 chrome 的右上角打开扩展程序才能使其出现在右键菜单中。我的 javascripts 是外部的。这是我的 javascript 代码：

```
window.onload = myOnload;
function myOnload(){
  var button = document.getElementById("button");
  button.onclick= function(){myClick()};
  chrome.contextMenus.create({
      "title":"MissLang Fix",
      "contexts":["all"]
  });
  document.getElementById("input").innerHTML = "mojtaba";
}

function myClick(){
    var myString = document.getElementById("input").value;

    for(var i=0;i<myString.length;i++){
        myString = myString.replace("q","ض");
        myString = myString.replace("w","ص");
    }

    document.getElementById("output").innerHTML = myString;
} 
```

这是我的 manifest.json 代码：

```
{
    "name": "MissLang Fix extension",
    "manifest_version": 2,
    "version": "1.0",
    "description": "fixing english to farsi typings.",
    "icons":{
        "16":"icon_16.png",
        "128":"icon_128.png"
    },

    "browser_action":   {
        "default_icon": "icon.png",
        "default_popup": "missLangFix.html"
    },

    "permissions": [
        "tabs",
        "contextMenus",
    ]

} 
```

我想知道我应该把我的 chrome.contextMenus.create 代码放在哪里，以使图标出现在右键菜单中，甚至在用户从地址栏右侧打开扩展程序之前。
非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T06:54:57.380

你需要一个[背景页面](http://developer.chrome.com/extensions/background_pages.html)。

`manifest.json`

```
...
"background": {
  "scripts": ["background.js"]
},
... 
```

将您的脚本放入`background.js`其中，以便在用户打开浏览器时运行。

### 额外（相关）

您还可以通过以下方式使您的扩展程序在用户登录到 Windows/Apple/linux 时运行：

```
"permissions": [
    "background"
] 
```

# list - 可用功能有限的方案列表

> ID：15985123
> 
> 赞同：0
> 
> 时间：2013-04-13T06:50:00.413
> 
> 标签：list, scheme

有没有办法在 Scheme 中创建或添加列表，只有这些函数可用：equal?、car、cdr、cons、cond、if、quote、+、*、null?、符号？，整数？，任何汽车/cdr 变体，定义，让。（您会注意到不允许使用任何#list 或#append 调用）。

我已经尝试了几种不同的方式，但它只是给出了像 '(0 . 10) 这样的东西，而不仅仅是 (0 10) 这将是理想的。是的，这是更大任务的一部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:35:42.850

在 Scheme 中，“正确的列表”以空列表结尾。所以，你可以`'(0 10)`这样：

```
(cons 0 (cons 10 '())) 
```

一般来说，您总是可以使用 将某些内容添加到正确列表的前面`(cons new-element old-list)`，并且您将获得一个新的正确列表。`cdr`非空正确列表的 本身始终是正确列表。`car`可以是任何东西。

这个词`cons`是“构造”的缩写：它是构造列表的最原始的过程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-11T09:00:06.750

一般来说：您可以为自己定义所有不是“特殊形式”的内置程序。

定义你自己的

```
(define (append-my List1 List2)
   (if (null? List1)
       list2
       (cons (car List1) 
             (append-my (cdr List1) List2)))) 
```

在“计算机程序的结构和解释”一书中，您可以找到许多内置过程的定义。每个对 Scheme 或 Lisp 感兴趣的人都应该学习 SICP 的前三章。

# c++ - 如何在 C 中获得核心映射的过程？

> ID：15985125
> 
> 赞同：0
> 
> 时间：2013-04-13T06:50:04.307
> 
> 标签：c++, c, linux, manpage

我可以调用什么库函数来获取进程到内核的映射，或者给定进程 ID，告诉我它正在运行的内核、上次运行的内核或计划运行的内核。所以是这样的：

```
core 1:  14232,42323
core 2:  42213,63434,434
core 3:  34232,34314
core 4:  42325,6353,1434,4342
core 5:  43432,64535,14345,34233
core 6:  23242,53422,4231,34242
core 7:  78789
core 8:  23423,23124,5663 
```

我`sched_getcpu`返回调用进程的核心编号。如果有一个函数给出了一个进程 id，它会返回一个很好的核心号，但我还没有找到。 `sched_getaffinity`也没用；它只是告诉你给定一个进程它可以在哪些内核上运行，这不是我感兴趣的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:02:52.493

我不知道您是否可以获得有关任何特定进程*正在*运行的 CPU 的信息，但是如果您查看`/proc`，您会发现每个正在运行的进程都有一个条目。在此之下，`/proc/<pid>/cpuset`您将找到有关可用于运行该进程的 CPU 集的信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T06:57:47.350

你的问题没有任何准确的答案。调度程序可以随时将进程从一个处理器内核迁移到另一个处理器内核（实际上它正在这样做）。所以当你得到答案时，它可能已经错了。并且一个进程通常不绑定到任何特定的核心（除非它的*CPU 亲和性*已经设置，例如使用[sched_setaffinity(2)](http://man7.org/linux/man-pages/man2/sched_setaffinity.2.html)，这是不寻常的；参见[cpuset(7)](http://man7.org/linux/man-pages/man7/cpuset.7.html)了解更多信息）。

你问来干什么？为什么这很重要？

您可能想深入了解[/proc](https://www.kernel.org/doc/Documentation/filesystems/proc.txt)，请参阅[proc(5)](http://man7.org/linux/man-pages/man5/proc.5.html)手册页。

^(换句话说，如果内核确实提供了该信息，它是通过`/proc/`但我猜该信息不可用，因为它没有任何意义。)

注意。内核会比你更好地在各种处理器内核上调度进程，所以即使有仓库，你也不应该关心内核运行一些 pid。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-18T13:16:02.950

是的，虚拟文件`/proc/[pid]/stat`​​似乎有这个信息`man 5 proc`：

```
/proc/[pid]/stat
      Status  information  about  the  process.   This is used by ps(1).  It is
      defined in /usr/src/linux/fs/proc/array.c.
      (...fields description...)

      processor %d (since Linux 2.2.8)
                      CPU number last executed on. 
```

在我的双核上：

```
cat /proc/*/stat | awk '{printf "%-32s %d\n", $2 ":", $(NF-5)}'
(su):                            0
(bash):                          0
(tail):                          1
(hd-audio0):                     1
(chromium-browse):               0
(bash):                          1
(upstart-socket-):               1
(rpcbind):                       1 
```

..虽然我不能说它是否相关和/或准确..

# python - 应用程序无法在 GAE 上运行 - “无法绑定到 localhost:0”

> ID：15985130
> 
> 赞同：16
> 
> 时间：2013-04-13T06:50:38.030
> 
> 标签：python, google-app-engine

我最近将 Google App Engine 升级到 1.7.7。并且从那以后一直无法在本地运行任何应用程序。这包括在更新之前工作的应用程序和我此后创建的应用程序。我没有遇到任何其他关于这个特定问题“无法绑定到 localhost:0”的参考资料，因此非常感谢您对清除这个障碍的任何见解。

我包括了我今天添加的一个新的“Hello World”应用程序的日志。在 OS X 10.6.8 上通过 ActivePython 使用 Python 2.7。

```
*** Running dev_appserver with the following flags:
    --skip_sdk_update_check=yes --port=12084 --admin_port=8007
Python command: /usr/local/bin/pythonw
INFO     2013-04-13 06:37:31,627 devappserver2.py:498] Skipping SDK update check.
WARNING  2013-04-13 06:37:31,691 api_server.py:328] Could not initialize images API; you are likely missing the Python "PIL" module.
WARNING  2013-04-13 06:37:31,692 simple_search_stub.py:977] Could not read search indexes from /var/folders/ag/ag25hkLMFEG1p0pLBBX5Mk+++TI/-Tmp-/appengine.binderror.b/search_indexes
Traceback (most recent call last):
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/dev_appserver.py", line 193, in <module>
    _run_file(__file__, globals())
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/dev_appserver.py", line 189, in _run_file
    execfile(script_path, globals_)
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/devappserver2/devappserver2.py", line 662, in <module>
    main()
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/devappserver2/devappserver2.py", line 655, in main
    dev_server.start(options)
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/devappserver2/devappserver2.py", line 626, in start
    apis.start()
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/devappserver2/api_server.py", line 151, in start
    super(APIServer, self).start()
  File "/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/devappserver2/wsgi_server.py", line 296, in start
    raise BindError('Unable to bind %s:%s' % self.bind_addr)
google.appengine.tools.devappserver2.wsgi_server.BindError: Unable to bind localhost:0 
```

更新：我能够通过 GAE 启动器部署“Hello World”应用程序，没有任何问题。我运行了`errinfo -c -n GoogleAppEngineLauncher.app`使用包含的命令，`dtrace`然后尝试运行三个应用程序，然后关闭它们。这是输出[这有点超出我的理解]：

```
 EXEC          SYSCALL  ERR  COUNT  DESC
 GoogleAppEngine          madvise   12      1  Cannot allocate memory 
 GoogleAppEngine __disable_threadsignal    0      2 
 GoogleAppEngine           access    0      3 
 GoogleAppEngine bsdthread_register   22      3  Invalid argument 
 GoogleAppEngine            chdir    0      3 
 GoogleAppEngine   close_nocancel    0      3 
 GoogleAppEngine   fcntl_nocancel    0      3 
 GoogleAppEngine             fork    0      3 
 GoogleAppEngine    getdtablesize    0      3 
 GoogleAppEngine           getpid    0      3 
 GoogleAppEngine    open_nocancel    0      3 
 GoogleAppEngine           setsid    0      3 
 GoogleAppEngine      sigprocmask    0      3 
 GoogleAppEngine           stat64    0      3 
 GoogleAppEngine            wait4    0      3 
 GoogleAppEngine       workq_open    0      3 
 GoogleAppEngine            write    0      3 
 GoogleAppEngine          lstat64    0      4 
 GoogleAppEngine             pipe    0      6 
 GoogleAppEngine    thread_selfid    0      6 
 GoogleAppEngine     gettimeofday    0      7 
 GoogleAppEngine             dup2    0      9 
 GoogleAppEngine          madvise    0     17 
 GoogleAppEngine           munmap    0     31 
 GoogleAppEngine             mmap    0     33 
 GoogleAppEngine        sigaction    0     87 
 GoogleAppEngine      getattrlist    0    102 
 GoogleAppEngine          fstat64    0    118 
 GoogleAppEngine             open    0    118 
 GoogleAppEngine          geteuid    0    208 
 GoogleAppEngine              dup    0  10418 
 GoogleAppEngine             read    0  10532 
 GoogleAppEngine            close    0  10584 
 GoogleAppEngine workq_kernreturn    0  20752 
 GoogleAppEngine            close    9  21459  Bad file descriptor 
 GoogleAppEngine           kevent    0  72543 
```

8 月 16 日更新 2：我安装了最新版本的 GAE Launcher [1.8.3]，现在一切正常。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2015-01-26T20:13:51.187

`Unknown key`对于跑步时得到的人`fuser -k 8080/tcp`，这是一个对我有用的解决方案：

```
lsof -P | grep ':8080' | awk '{print $2}' | xargs kill -9 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-04-15T04:07:27.790

您的套接字已在使用中。杀死它，它应该得到解决。`fuser -k 8080/tcp`

例如上面的代码在 8080 处杀死并释放套接字

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-15T05:02:13.200

启动服务器时在另一个端口添加 --port NUMBER 对其进行测试。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-06-03T11:12:17.623

由于未知选项， fuser -k 命令对我不起作用，而是我这样做了。

通过“sudo lsof -i -n -P | grep TCP”查看哪个进程正在使用该端口。我记下进程 ID 并通过活动监视器（在网络选项卡中）退出它。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-05-31T02:29:23.140

Ubuntu 14.04 有一个名为“webfs”的轻量级服务器在 localhost:8000 上侦听。运行-sudo netstat -taupen | grep ":8000" - 在终端中确认。如果它正在监听运行 - sudo killall -q /usr/bin/webfsd - 杀死它。GAE 使用端口 8000 和 8080，如果其中一个或两个都忙，则不会启动。经过反思，webfs 守护进程也可以作为服务打开和关闭：sudo service webfs start/stop。但是，由于这两种方法都需要 root 权限，因此它们不容易自动化。当我从命令行本地启动 appengine 时，只需在启动时将管理端口从 8000 更改为 8001 证明是一种更深思熟虑的方法。我的命令行如下所示：google_appengine/dev_appserver.py --admin_port 8001 projects/helloworld/

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-06-03T01:29:10.193

有同样的问题，实际上也试图用 GUI 运行服务器。在 GUI 中停止它，完美运行。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-08-16T04:08:10.343

`ctrl-z`上次运行应用程序引擎命令时，您使用(shunt to background) 而不是`ctrl-c`(kill)将其关闭。重新启动终端，下次您从终端使用关闭应用程序引擎时`ctrl-c`，您会没事的。

# html - TR 内的文本显示在表格外

> ID：15985132
> 
> 赞同：0
> 
> 时间：2013-04-13T06:50:57.177
> 
> 标签：html

以下代码过去对我来说很好用，但现在它不再工作了。

```
<!DOCTYPE html>
<html>
<body>

<table border="1">
  <tr>when
    <th>Month</th>
    <th>Savings</th>
  </tr>
  <tr>when
    <td>January</td>
    <td>$100</td>
  </tr>
  <tr>when
    <td>February</td>
    <td>$80</td>
  </tr>
</table>

</body>
</html> 
```

文本“when”用于正确显示在同一行中。但是现在将文本放在表格之外。即，文本显示三次，然后在其下方显示表格。

有什么问题吗？我在 Mac -Chrome/FF/Safari 上试过。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T06:53:43.250

您必须将它们放在其他 TD 中。

像这样

```
<!DOCTYPE html>
<html>
<body>

     <table border="1">
       <tr>
    <th></th>
      <th>Month</th>
    <th>Savings</th>
   </tr>
    <tr>
  <td>when</td>
    <td>January</td>
     <td>$100</td>
  </tr>
 <tr>
<td>when</td>
<td>February</td>
<td>$80</td>
  </tr>
 </table>

</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T06:54:01.040

你需要把 td 放在一个表格单元格中，像这样

```
 <td>when</td> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T06:54:24.643

据我所知，`<tr>`并不意味着包含实际文本，仅包含`<td>`s。如果你想在卷中显示文本..你必须使用 td 来做到这一点。

正如[规范](http://www.w3.org/TR/html-markup/tr.html)所指出的那样。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T06:59:39.420

看看[这里](http://www.w3schools.com/tags/tag_tbody.asp)

正确的是：

```
<table border="1">
<thead>
    <tr>
      <th>Month</th>
      <th>Savings</th>
    </tr>
  </thead>
  <tfoot>
    <tr>
      <td>Sum</td>
      <td>$180</td>
    </tr>
  </tfoot>
  <tbody>
    <tr>
      <td>January</td>
      <td>$100</td>
    </tr>
    <tr>
      <td>February</td>
      <td>$80</td>
    </tr>
  </tbody>
</table> 
```

# html - Bootstrap 导航栏调整大小

> ID：15985137
> 
> 赞同：0
> 
> 时间：2013-04-13T06:51:33.947
> 
> 标签：html, css, graphics, twitter-bootstrap, web

我正在使用引导程序构建一个简单的网站，但导航栏的高度存在一些问题。因此，当标题不太长时，导航栏看起来不错：
![在此处输入图像描述](https://i.stack.imgur.com/EuFMe.jpg)

但是，如果其中一个链接名称太长，则导航栏将如下所示：
![在此处输入图像描述](https://i.stack.imgur.com/5pRIa.jpg)

这是我的 HTML 代码：

```
<div class="container">
    <div class="masthead">
        <div class="navbar">
            <div class="navbar-inner">                    
                <ul class="nav">
                    <li class="active"><a href="../Home.html">Home</a></li>
                    <li><a href="../About.html">About</a></li>
                    <li><a href="../Officers.html">Officers</a></li>
                    <li><a href="../Join.html">Join</a></li>
                    <li><a href="../Calendar.html">Calendar</a></li>
                    <li><a href="../Contact.html">Contact</a></li>
                    <li><a href="../WSP.html">Wsdf asdkfjlaksjdf laksjdflkjasdf</a></li>
                    <li><a href="../Members.html">Members</a></li>
                </ul>                    
            </div><!-- /.navbar-inner -->
        </div><!-- /.navbar -->
    </div><!-- /.masthead -->
</div><!-- /.container --> 
```

我的 CSS 看起来像这样：

```
/* Customize the navbar links to be fill the entire space of the .navbar */
.navbar .navbar-inner {
    padding: 0;
}
.navbar .nav {
    margin: 0;
    display: table;
    width: 100%;
}
.navbar .nav li {
    display: table-cell;
    width: 1%;
    float: none;
}
.navbar .nav li a {
    font-weight: bold;
    text-align: center;
    border-left: 1px solid rgba(255,255,255,.75);
    border-right: 1px solid rgba(0,0,0,.1);
}
.navbar .nav li:first-child a {
    border-left: 0;
    border-radius: 3px 0 0 3px;
}
.navbar .nav li:last-child a {
    border-right: 0;
    border-radius: 0 3px 3px 0;
} 
```

如何调整我的 CSS 代码以使导航栏图形正确调整？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:55:18.863

```
.navbar .nav li {
    display: table-cell;
    width: 1%;
    float: none;
    border-left: 1px solid rgba(255,255,255,.75);
    border-right: 1px solid rgba(0,0,0,.1);
    vertical-align:middle;
}
.navbar .nav li a {
    font-weight: bold;
    text-align: center;

}
.navbar .nav li:first-child {
    border-left: 0;
    border-radius: 3px 0 0 3px;
}
.navbar .nav li:last-child {
    border-right: 0;
    border-radius: 0 3px 3px 0;
}

.navbar .nav > .active {
  color: #555555;
  text-decoration: none;
  background-color: #e5e5e5;
  -webkit-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
     -moz-box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
          box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.125);
} 
```

试试这个可能会解决你的问题

# cocoa-touch - 触摸一个 UIImageView 时禁用其他 UIImageView

> ID：15985138
> 
> 赞同：0
> 
> 时间：2013-04-13T06:51:38.643
> 
> 标签：cocoa-touch, uiimageview

我有 6 个 uiimageviews，比如 img1 - img6。当我触摸并拖动 img1 时，它会移动。但是当我拖动 img1 并且当它靠近其他 uiimageviews 时，img1 停止移动，靠近它的 img 开始移动。当我非常快速地拖动图像而不是当我缓慢拖动图像时会发生这种情况。而且拖动也不是那么顺利...... :(

这是我到目前为止所做的......

```
- (void) touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event{
UITouch *touch = [[event allTouches] anyObject];
if (CGRectContainsPoint([self.firstImg frame], [touch locationInView:nil]))
{
    [self.view bringSubviewToFront:self.firstImg];
    self.firstImg.center = [touch locationInView:nil];
}
else if (CGRectContainsPoint([self.secondImg frame], [touch locationInView:nil]))
{
    [self.view bringSubviewToFront:self.secondImg];
    self.secondImg.center = [touch locationInView:nil];
}
else if (CGRectContainsPoint([self.thirdImg frame], [touch locationInView:nil]))
{
    [self.view bringSubviewToFront:self.thirdImg];
    self.thirdImg.center = [touch locationInView:nil];
}
else if (CGRectContainsPoint([self.fourthImg frame], [touch locationInView:nil]))
{
    [self.view bringSubviewToFront:self.fourthImg];
    self.fourthImg.center = [touch locationInView:nil];
}
else if (CGRectContainsPoint([self.fifthImg frame], [touch locationInView:nil]))
{          
    [self.view bringSubviewToFront:self.fifthImg];
    self.fifthImg.center = [touch locationInView:nil];
}
else if (CGRectContainsPoint([self.sixthImg frame], [touch locationInView:nil]))
{        
    [self.view bringSubviewToFront:self.sixthImg];
    self.sixthImg.center = [touch locationInView:nil];
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:00:42.033

您的实施存在许多问题：

*   您将`nil`作为视图传递给`locationInView:`，这意味着如果您移动超级视图或支持界面旋转，您将获得不正确的坐标。

*   您正在将图像视图的中心设置为触摸位置。正因为如此，当用户第一次触摸一个视图时，如果触摸没有完全位于视图的中心，视图将跳转到触摸位置的中心。这不是用户期望的行为。

*   您总是以固定的顺序检查视图，而不是从前到后检查视图。这就是为什么“当它靠近其他 uiimageview 时，img1 停止移动，而靠近它的 img 开始移动。” `firstImg`如果触摸结束，您的代码将始终移动`firstImg`，即使用户正在拖动`secondImg`，因为您总是在检查`firstImg`之前检查`secondImg`。

*   你经常重复自己。如果你必须写两次相同的东西，你应该考虑把它分解成一个单独的函数或方法。如果你必须写三遍（或更多）相同的东西，你几乎肯定应该把它排除在外。

所有这些问题最简单的答案就是停止使用`touchesMoved:withEvent:`和相关的方法。相反，`UIPanGestureRecognizer`为每个图像视图添加一个：

```
- (void)makeImageViewDraggable:(UIImageView *)imageView {
    imageView.userInteractionEnabled = YES;
    UIPanGestureRecognizer *panner = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(imageViewPannerDidFire:)];
    [imageView addGestureRecognizer:panner];
}

- (void)imageViewPannerDidFire:(UIPanGestureRecognizer *)panner {
    UIView *view = panner.view;
    [view.superview bringSubviewToFront:view];

    CGPoint translation = [panner locationInView:view];
    CGPoint center = view.center;
    center.x += translation.x;
    center.y += translation.y;
    view.center = center;

    [panner setTranslation:CGPointZero inView:view];
}

- (void)viewDidLoad {
    [super viewDidLoad];
    [self makeImageViewDraggable:self.firstImg];
    [self makeImageViewDraggable:self.secondImg];
    [self makeImageViewDraggable:self.thirdImg];
    [self makeImageViewDraggable:self.fourthImg];
    [self makeImageViewDraggable:self.fifthImg];
    [self makeImageViewDraggable:self.sixthImg];
} 
```

# apache-commons-cli - commons-cli dependent arguments

> ID：15985141
> 
> 赞同：7
> 
> 时间：2013-04-13T06:51:49.680
> 
> 标签：apache-commons-cli

I use apache commons-cli for a command line tool. I have pairs of dependent arguments, e.g argument B makes sense only if argument A is present. That will have 2 benefits : automatic warning/error and a more usefull usage statment . Does commons-cli support it ?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T12:54:21.577

It does not; you have to enforce such things manually. CLI has [OptionGroup](https://commons.apache.org/proper/commons-cli/javadocs/api-release/org/apache/commons/cli/OptionGroup.html)s, but they are purely mutually exclusive options, not dependent options. See JavaDoc for [Option](https://commons.apache.org/proper/commons-cli/javadocs/api-release/org/apache/commons/cli/Option.html), [OptionBuilder](https://commons.apache.org/proper/commons-cli/javadocs/api-release/org/apache/commons/cli/OptionBuilder.html) (which I highly recommend using) and the previously mentioned OptionGroup.

# php - 在php中合并2个用户定义的数组

> ID：15985142
> 
> 赞同：0
> 
> 时间：2013-04-13T06:51:58.353
> 
> 标签：php, arrays, array-merge

我必须将 2 个数组合并为一个数组，因为我已经尝试过 -

```
$TotalResult = array_merge_recursive($arr1, $arr2); 
```

但是我没有通过这个功能得到想要的结果。

我的 2 个数组是：

```
$arr1 = Array(
[0] => Array
    (
        [search_terms] => facebook
        [search_count] => 1
    )

[1] => Array
    (
        [search_terms] => yahoomail.com
        [search_count] => 1
    )

[2] => Array
    (
        [search_terms] => google.com
        [search_count] => 1
    )

[3] => Array
    (
        [search_terms] => rediff.com
        [search_count] => 2
    )
);

$arr2=Array(
[0] => Array
    (
        [search_terms] => youtube
        [adclicks_count] => 1
    )

[1] => Array
    (
        [search_terms] => hotmail
        [adclicks_count] => 4
    )

[2] => Array
    (
        [search_terms] => facebook
        [adclicks_count] => 2
    )

[3] => Array
    (
        [search_terms] => google.com
        [adclicks_count] => 3
    )

[4] => Array
    (
        [search_terms] => yahoomail
        [adclicks_count] => 1
    )

[5] => Array
    (
        [search_terms] => stackoverflow
        [adclicks_count] => 1
    )
); 
```

我希望得到的数组 3 如下 -

```
$arr3 = Array(
[0] => Array
    (
        [search_terms] => facebook
        [search_count] => 1
    [adclicks_count] => 2
    )

[1] => Array
    (
        [search_terms] => yahoomail.com
        [search_count] => 1
        [adclicks_count] => 1
    )

[2] => Array
    (
        [search_terms] => google.com
        [search_count] => 1
        [adclicks_count] => 3
    )

[3] => Array
    (
        [search_terms] => rediff.com
        [search_count] => 2
        [adclicks_count] => 0
    )

[4] => Array
    (
        [search_terms] => youtube
        [search_count] => 0
        [adclicks_count] => 1
    )

[5] => Array
    (
        [search_terms] => hotmail
        [search_count] => 0
        [adclicks_count] => 4
    )
[6] => Array
    (
        [search_terms] => stackoverflow
        [search_count] => 0
        [adclicks_count] => 1
    )
); 
```

请建议我在 php.ini 中是否有任何可用的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:31:54.093

一个简单的自定义脚本可以使技巧奏效

[http://www.tehplayground.com/#7Uudu9PwY](http://www.tehplayground.com/#7Uudu9PwY)

```
$arr1 = array(
    array('search_terms' => 'facebook', 'search_count' => 1),
    array('search_terms' => 'whatever', 'search_count' => 4)
);

$arr2 = array(
    array('search_terms' => 'facebook', 'adclicks_count' => 2),
    array('search_terms' => 'whatever', 'adclicks_count' => 3)
);

$searchTermToData = array();

foreach ($arr1 as $element)
    $searchTermToData[$element['search_terms']] = $element;

foreach ($arr2 as $element)
    $searchTermToData[$element['search_terms']]['adclicks_count'] = $element['adclicks_count'];

// build result

$result = array_values($searchTermToData); 
```

# java - 从二叉搜索树中删除节点

> ID：15985143
> 
> 赞同：-1
> 
> 时间：2013-04-13T06:51:58.610
> 
> 标签：java, binary-tree

[http://www.cs.arizona.edu/~mercer/Projects/BSTRemoveGeneric.pdf](http://www.cs.arizona.edu/~mercer/Projects/BSTRemoveGeneric.pdf)

**我在编码时遇到了麻烦！我不知道为什么这不起作用！它让我发疯！！！！** OrderedSet 的删除方法。这是我的代码

```
public boolean remove(E element)
{
    if(root == null)
    {
        return false;
    }
    if(!contains(element))
    {
        return false;
    }
    else if(root.data.equals(element) && root.left != null)
    {
        root = root.left;
        return true;
    }
    //return remove(element, root);
    else
    {
        TreeNode curr = root;
        TreeNode prev = root;
        while(element.compareTo(curr.data) != 0 && curr != null)
        {
           prev = curr;
           if(element.compareTo(curr.data) < 0)
           {
                curr = curr.left;
           }
           else// if(element.compareTo(curr.data) > 0)
           {
                curr = curr.right;
           }
        }
        if(curr.left == null)
        {
            if(curr == prev.left)
            {
                prev.left = curr.right;
            }
            else// if(curr == prev.right)
            {
                prev.right = curr.right;
            }
            return true;
        }

        else// if(curr.left != null)
        {
            OrderedSet<E> temp = new OrderedSet<E>();
            temp.root = curr.left;
            System.out.println("\n\n\n\n" + curr.data +  "\n" + prev.data +  "\n" + temp.toStringInorder() + "\n" + temp.max() + "\n\n\n\n");
            curr.data = temp.max();
            TreeNode ref = curr;
            while(curr.right != null)
            {
                ref = curr;
                curr = curr.right;
            }
            ref = ref.left;
            return true;
        }
    } 
```

错误：

插入 GADC 后删除（“G”）后失败

呼叫十字路口后尺寸失败。

根节点有左子节点时删除根节点失败（

当两者都具有三个相同的元素时，相交失败

删除root失败，右边有更多

插入后删除失败（“M”）；插入（“G”）；删除（“M”）；

您是否使用“==”而不是“等于”？插入后删除失败（新整数（50））；插入（新整数（75））；删除（新整数（50））；

删除期间大小失败（2 次）

（仅显示 9 个提示中的 8 个）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:24:25.223

您确定要拥有以下内容吗

```
f(!contains(element))
{
    return false;
} 
```

考虑您要删除的元素存在于树中的情况，这意味着您正在执行此额外计算。

[这是](http://pastebin.com/JK6qLBxe)我很久以前写的一些代码。警告：它非常长——大部分都是多余的。

# ios - 更改应用程序名称后更改捆绑标识符

> ID：15985145
> 
> 赞同：8
> 
> 时间：2013-04-13T06:52:11.240
> 
> 标签：ios, xcode, bundle, identifier

有点卡在这里，

我更改了我的应用程序的名称，将显示在设备图标下的位，捆绑标识符，对吗？我想提交对我的应用程序的更新，但现在我的包标识符不同，并且没有代码签名身份配置文件可供选择验证/分发。如果标识符不同，我该如何提交我的应用程序？

真的很迷茫

任何帮助将非常感激

谢谢

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-13T06:59:46.880

默认情况下，您的包标识符是 Info.plist（`Bundle identifier`键）中的 com.yourcompany.${PRODUCT_NAME:rfc1034identifier}，如果您更改 PRODUCT_NAME，您也会更改您的包标识符。您可以在 Info.plist 中指定其他包标识符，您可以在 Project Navigator 中找到该标识符。要在 Spring Board 中更改应用程序的名称（在图标下），您必须`Bundle display name`在 Info.plist 中进行更改。有关 Info.plist 的更多详细信息，请阅读苹果文档：

[https://developer.apple.com/library/ios/#documentation/General/Reference/InfoPlistKeyReference/Introduction/Introduction.html](https://developer.apple.com/library/ios/#documentation/General/Reference/InfoPlistKeyReference/Introduction/Introduction.html)

# java - 使用 split() 的异常输出

> ID：15985150
> 
> 赞同：0
> 
> 时间：2013-04-13T06:53:24.680
> 
> 标签：java, arrays, split

我正在读取具有以下格式的文件：名称：症状：原因：治疗：率：预后

总共有 21 个条目，但是当我尝试从文件中读取并使用 .split(":"); 时，输出每次都会更改，但始终遵循以下行：[Ljava.lang.String;@614951ff。我猜它是指针或内存地址，但我想要字符串值。我没有得到任何例外，所以我不确定我哪里出错了。该方法的目的是读取文件并使用所选给定文件行的分隔符拆分为一个数组。

```
public String[] readCancer(int row) {
    cancers = new String[22];
    FileInputStream fis;
    InputStreamReader isr;
    BufferedReader br = null;
    String eachCancer;
    String[] splitCancer = null;
    int j = 0;
    try {
        fis = new FileInputStream(myData);
        isr = new InputStreamReader(fis);
        br = new BufferedReader(isr);
        input = new Scanner(br);
        while(input.hasNext() && j < 23) {
            cancers[j++] = input.nextLine();
        }
        eachCancer = cancers[row].toString();
        splitCancer = eachCancer.split(":");
    } catch (IOException iox) {
        JOptionPane.showMessageDialog(null, "Problem with file input");
    } finally {
        try {
            if(br != null) {
                br.close();
            }
        } catch (IOException iox) {
            JOptionPane.showMessageDialog(null, "Problem closing the file");
        }
    }
    return splitCancer;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:59:38.280

如果要显示字符串数组，应[使用](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Arrays.html#toString%28char%5B%5D%29)：

```
System.out.println(Arrays.toString(splitCancer)); 
```

因为当你打印时`splitCancer`你会得到数组的地址而不是它的内容。

当然你可以通过其他方式打印内容：

```
for(String str : splitCancer) {
   System.out.println(str);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T07:06:20.573

要打印数组的内容：

1)`System.out.println(Arrays.deepToString(splitCancer));`

2)`System.out.println(Arrays.toString(splitCancer));`

3)`System.out.println(Arrays.asList(splitCancer));`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T16:24:18.287

目前我有以下内容：

```
public String[] readCancer() {
    cancers = new String[22];
    split = new String[22];
    FileInputStream fis;
    InputStreamReader isr;
    BufferedReader br = null;
    String eachCancer;
    int j = 0;
    try {
        fis = new FileInputStream(myData);
        isr = new InputStreamReader(fis);
        br = new BufferedReader(isr);
        input = new Scanner(br);
        while(input.hasNext() && j < 23) {
            cancers[j] = input.nextLine().toString();
            //cancers[j] = input.nextLine();
            split[j] = cancers[j].split(":");
            //split[j] = "blah";    this line works
            j++;
        }
        System.out.println(Arrays.toString(split));
    } catch (IOException iox) {
        JOptionPane.showMessageDialog(null, "Problem with file input");
    } finally {
        try {
            if(br != null) {
                br.close();
            }
        } catch (IOException iox) {
            JOptionPane.showMessageDialog(null, "Problem closing the file");
        }
    }
    return split;
    //return split[j]; does not work
} 
```

在我的 while 循环中，我不断收到编译错误，说它需要一个字符串，但找到了 Stirng[] 用于拆分。当我尝试更简单的方法时，例如 split[j] = "blah";，没有编译错误。我可以完美地返回癌症，但我需要用 : 分隔符分割，这似乎是我无法理解的东西。当我尝试返回 split[j] 时，我得到另一个编译错误，说它需要一个 String[] 但找到了 String。我已经在这里待了一个多小时，阅读了我的教科书和在线教程中的示例以使用拆分，但它仍然无法正常工作。这是我的程序中唯一我不知道该怎么做的部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T17:43:11.593

我尝试粘贴整个文件，但它出现了一个可怕的文本块，所以这里有 2 行。每行具有相同的格式但长度不同：

文件的一般格式是名称：症状：原因：治疗：发生率：预后

该比率是一个字符串，因为它对于某些疾病是未知的，并且当它已知时，该比率并不总是超过 250,000。有时它是1,000,000或100,000等......

急性早幼粒细胞白血病：容易瘀伤、快速内出血、疲劳、贫血、频繁发烧、感染、血栓：PML 和 RARA 基因：药物、化疗：250,000 分之一：好

家族性圆柱瘤病：众多皮肤肿瘤、溃疡、感染、视力、听力、嗅觉、平衡受损：CYLD基因：手术、化疗：未知：未知

我最近的代码尝试是[使用 split() 的 Unusual output](https://stackoverflow.com/questions/15985150/unusual-output-from-using-split/15990042#15990042)

癌症和分裂的 2 个数组是私有的 String[] 作为在任何方法之外声明的字段变量。变量 myData 是一个私有文件，也声明为任何方法之外的字段变量。我已检查并已验证文件路径是否正确。

调用方法的main方法：

```
public static void main(String[] args) {  
    CancerGUI _gui = new CancerGUI();
    String[] resultCancer;
    resultCancer = _gui.readCancer();
    //System.out.println(resultCancer);
    System.out.println(Arrays.toString(resultCancer));
} 
```

我只是在 main 方法中调用它来测试它是否正确返回了 String[]。一旦完成，然后我将用另一种方法调用它，将数据添加到 GUI（这部分我有理由相信我知道如何去做，并且有来自我的导师和教科书的示例）。

# haskell - 类型声明的标准放置

> ID：15985152
> 
> 赞同：9
> 
> 时间：2013-04-13T06:53:35.663
> 
> 标签：haskell, coding-style, standards

Haskell 中类型声明的位置是否有标准？

例如，假设我有两个功能：

```
abs' x = if x >= 0 then x else -x

pow x 0 = 1
pow x e = x * (pow x (e-1)) 
```

它们的类型声明是：

```
abs' :: Int -> Int
pow :: Int -> Int -> Int 
```

将声明放在文件顶部是否更合适/可读，如下所示：

```
abs' :: Int -> Int
pow :: Int -> Int -> Int

abs' x = if x >= 0 then x else -x

pow x 0 = 1
pow x e = x * (pow x (e-1)) 
```

或者将每个放在其各自的功能之上，如下所示：

```
abs' :: Int -> Int
abs' x = if x >= 0 then x else -x

pow :: Int -> Int -> Int
pow x 0 = 1
pow x e = x * (pow x (e-1)) 
```

无论哪种方式对我来说似乎都是完全可行的，所以我想知道是否有任何标准。另外，假设它们在 a`module`中，它们从外部世界的可访问性会影响它们类型声明的位置吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-13T07:02:51.543

最常见的风格是将类型签名直接放在函数上方，无论它是否被导出。

如果一切都靠得很近，那么修改和更新函数会更容易。在阅读代码时将类型签名和函数结合在一起也很有帮助——这样您就不必在文件的不同部分查找签名或记住它。

您提出的替代样式对于获取模块的摘要会更好。令人高兴的是，我们可以使用`:browse`GHCi 中的命令轻松完成此操作：

```
*Main> :browse Data.Function
Data.Function.fix :: (a -> a) -> a
Data.Function.on :: (b -> b -> c) -> (a -> b) -> a -> a -> c
($) :: (a -> b) -> a -> b
(.) :: (b -> c) -> (a -> b) -> a -> c
const :: a -> b -> a
flip :: (a -> b -> c) -> b -> a -> c
id :: a -> a 
```

所以把所有的签名都放在最上面的风格真的没什么可推荐的，也没有使用。

# google-apps-script - Google 将使用 MailApp.sendEmail 从电子表格发送的电子邮件标记为网络钓鱼诈骗

> ID：15985154
> 
> 赞同：1
> 
> 时间：2013-04-13T06:53:47.003
> 
> 标签：google-apps-script

我正在使用 Google 的 MailApp.sendEmail() 脚本 ( [https://developers.google.com/apps-script/articles/sending_emails](https://developers.google.com/apps-script/articles/sending_emails) ) 的变体向电子表格中的地址发送电子邮件。为了测试脚本，我将它们发送到另一个 gmail 帐户。但是，电子邮件标有以下消息：此消息可能不是由 foo@gmail.com 发送的。有没有办法避免这种情况？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-15T05:16:35.163

此警告不是由 MailApp.sendMail() 脚本引起的。只有当我在两个 gmail 帐户（都属于我）之间发送电子邮件时，网络钓鱼警告才会出现。当我使用 MailApp.sendMail() 脚本向其他帐户发送电子邮件时，它不会显示。当我从一个帐户向另一个帐户发送标准 gmail 消息时，当发送帐户是消费者帐户，而接收帐户是大学帐户时，也会出现警告。该消息不会出现在来自其他人的 gmail 地址的电子邮件中，也不会出现在从我的大学帐户发送到我的消费者帐户的消息中。

# django - 表单中的 Django 查询集

> ID：15985157
> 
> 赞同：0
> 
> 时间：2013-04-13T06:54:18.903
> 
> 标签：django, django-models, django-forms, django-queryset

我怎样才能在这个模型中创建一个查询集。这是我的代码。

```
Class Sample(forms.ModelForm):  
    class Meta:  
        model = Customer  
        fields = ('name','address',)  
        widgets = {  
            'name' : Select(attrs={'class':'span2'}),  
            'address' : TextInput(attrs={'class':'span4'}),  
             }  
        queryset = {'name': User.objects.filter(type_id=1)} 
```

这是使用查询集的正确方法吗？请帮助我。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:30:08.950

```
Class Sample(forms.ModelForm):  
    class Meta:  
        model = Customer  
        fields = ('name','address',)  
        widgets = {  
            'name' : Select(attrs={'class':'span2'}),  
            'address' : TextInput(attrs={'class':'span4'}),  
             }  

    def __init__(self, *args, **kwargs):
        super(Sample, self).__init__(*args, **kwargs)
        self.fields['name'].queryset = User.objects.filter(type_id=1) 
```

# sql - 如何使用 pl sql 过程从结构仅在运行时知道的 oracle 表中动态获取数据？

> ID：15985161
> 
> 赞同：0
> 
> 时间：2013-04-13T06:55:08.717
> 
> 标签：sql, oracle, plsql, procedure

我被要求创建一个 pl/sql 过程，该过程将接受 select 语句作为输入参数。必须从查询中获取所有数据并在 DBMS_OUTPUT 中打印。

我研究了本机动态 SQL 和 DBMS_SQL，但无法弄清楚如何从结构未知的表中获取和处理数据。

由于将在运行时提供表名，我只想知道如何存储从查询中获取的数据，因为我无法定义变量或集合，因为表的结构是未知的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T06:59:56.143

首先，这个要求似乎非常可疑。您永远不应该依赖写入`DBMS_OUTPUT`缓冲区的数据——启用缓冲区、确保缓冲区足够大以及将缓冲区中的数据显示给用户完全取决于客户端。默认情况下，这些都不会发生。编写一个过程来操作一个结构完全未知的表是非常不寻常的。

但是，如果您真的下定决心，您可能希望使用 Tom Kyte 的[SQL Unloader](http://asktom.oracle.com/pls/asktom/f?p=100:11:0%3a%3a%3a%3aP11_QUESTION_ID:68212348056)，它用于`DBMS_SQL`将任意查询中的数据写入平面文件并修改它以将其写入`DBMS_OUTPUT`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T15:58:07.697

有一个用于在 PL/SQL 中生成 Excel 可读文件的开源实用程序包。

[https://code.google.com/p/plsql-utils/](https://code.google.com/p/plsql-utils/)

但是，如果可能的话，我建议您考虑为您的工具使用更通用的语言。PL/SQL 对于数据库逻辑非常有用，但对于与外部世界的交互，我希望您将使用 Python 或 Java 之类的东西实现更易于维护的解决方案。

虽然，一如既往的 YMMV :-)

# mono - Nancyfx 执行路由但不返回结果。（在树莓派 Mono 上运行）

> ID：15985164
> 
> 赞同：1
> 
> 时间：2013-04-13T06:55:54.763
> 
> 标签：mono, response, raspberry-pi, nancy

我目前在我的树莓派上运行 Mono JIT 编译器版本 2.10.8.1 (Debian 2.10.8.1-5)。我从 master 分支编译了 nancyfx monorelease 配置。

应用程序按预期启动

```
Nancy now listening - navigating to http://localhost:8888/nancy/. 
Press enter to stop 
```

然后我按如下方式运行测试

```
pi@raspberrypi ~ $ wget  http://localhost:8888/nancy/
--2013-04-13 06:39:12--  http://localhost:8888/nancy/
Resolving localhost (localhost)... 127.0.0.1, ::1
Connecting to localhost (localhost)|127.0.0.1|:8888... connected.
HTTP request sent, awaiting response... 
```

这永远不会完成。它只是坐在那里。

我添加了一些日志记录，我可以看到它处理模块上的路由操作，但它似乎永远不会返回 http 响应。

有没有人见过这个？有没有办法添加更多的异常捕获？

以下没有透露任何信息。

```
 public class LoggingErrorHandler : IErrorHandler
{
    private readonly ILog _logger = LogManager.GetLogger(typeof(LoggingErrorHandler));

    public bool HandlesStatusCode(HttpStatusCode statusCode)
    {
        return statusCode == HttpStatusCode.InternalServerError;
    }

    public bool HandlesStatusCode(HttpStatusCode statusCode, NancyContext context)
    {
        return statusCode == HttpStatusCode.InternalServerError;
    }

    public void Handle(HttpStatusCode statusCode, NancyContext context)
    {
        object errorObject;
        context.Items.TryGetValue(NancyEngine.ERROR_EXCEPTION, out errorObject);
        var error = errorObject as Exception;
        _logger.Error("Unhandled error", error);
    }
} 
```

有任何想法吗 ？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T07:58:22.770

我从来没有见过这个 - 你回来的是什么？当您创建 NancyHost 时，您可以提供一个 HostConfiguration 对象，其中一个属性是[UnhandledExceptionCallback](https://github.com/NancyFx/Nancy/blob/master/src/Nancy.Hosting.Self/HostConfiguration.cs#L26)，它可能会揭示出问题所在。

# xml - 使用 xmlstarlet 更新属性值

> ID：15985168
> 
> 赞同：1
> 
> 时间：2013-04-13T06:57:29.447
> 
> 标签：xml, xml-namespaces, xml-documentation, xmlstarlet

我想使用 xmlstarlet 修改 xml 文件的值（我知道如何使用 grep 或 sed 修改行，但我想学习 xmlstarlet）。

我正在查看官方文档（[http://xmlstar.sourceforge.net/doc/UG/xmlstarlet-ug.html](http://xmlstar.sourceforge.net/doc/UG/xmlstarlet-ug.html)），但我对 xml 结构完全是个灾难。

我想在这里修改值：

```
<ExtraDataItem name="GUI/UpdateDate" value=""/> 
```

这是我尝试过的命令，但输出与输入值相同：

```
xml edit --update "//ExtraDataItem[@name='GUI/UpdateDate']/@value" --value "never" virtualbox.xml 
```

这是 XML 文件：

```
<?xml version="1.0"?>
<!--
** DO NOT EDIT THIS FILE.
** If you make changes to this file while any VirtualBox related application
** is running, your changes will be overwritten later, without taking effect.
** Use VBoxManage or the VirtualBox Manager GUI to make changes.
-->
<VirtualBox xmlns="http://www.innotek.de/VirtualBox-settings" version="1.12-windows">
  <Global>
    <ExtraData>
      <ExtraDataItem name="GUI/DetailsPageBoxes" value="general,system,preview,display,storage,audio,network,usb,sharedFolders,description"/>
      <ExtraDataItem name="GUI/GroupDefinitions/" value="m=3fa2f128-b094-40c1-bec6-6580b0ac597a,m=65c3158a-330e-4456-b770-768dfecc788f"/>
      <ExtraDataItem name="GUI/HostScreenSaverDisabled" value="false"/>
      <ExtraDataItem name="GUI/Input/AutoCapture" value="true"/>
      <ExtraDataItem name="GUI/Input/HostKeyCombination" value="163"/>
      <ExtraDataItem name="GUI/LastItemSelected" value="m=Windows XP SP3 (x86)"/>
      <ExtraDataItem name="GUI/LastWindowPosition" value="575,245,770,550"/>
      <ExtraDataItem name="GUI/SplitterSizes" value="289,477"/>
      <ExtraDataItem name="GUI/SuppressMessages" value=",remindAboutInaccessibleMedia,cannotAccessUSB"/>
      <ExtraDataItem name="GUI/TrayIcon/Enabled" value="false"/>
      <ExtraDataItem name="GUI/UpdateCheckCount" value="3"/>
      <ExtraDataItem name="GUI/UpdateDate" value=""/>
    </ExtraData>
    <MachineRegistry>
      <MachineEntry uuid="{65c3158a-330e-4456-b770-768dfecc788f}" src="C:\Users\Administrador\VirtualBox VMs\Windows 7 x64\Windows 7 x64.vbox"/>
      <MachineEntry uuid="{3fa2f128-b094-40c1-bec6-6580b0ac597a}" src="C:\Users\Administrador\VirtualBox VMs\Windows XP SP3 (x86)\Windows XP SP3 (x86).vbox"/>
    </MachineRegistry>
    <MediaRegistry>
      <HardDisks/>
      <DVDImages/>
      <FloppyImages/>
    </MediaRegistry>
    <NetserviceRegistry>
      <DHCPServers>
        <DHCPServer networkName="HostInterfaceNetworking-VirtualBox Host-Only Ethernet Adapter" IPAddress="192.168.56.100" networkMask="255.255.255.0" lowerIP="192.168.56.101" upperIP="192.168.56.254" enabled="1"/>
      </DHCPServers>
    </NetserviceRegistry>
    <SystemProperties defaultMachineFolder="C:\Users\Administrador\VirtualBox VMs" defaultHardDiskFormat="VDI" VRDEAuthLibrary="VBoxAuth" webServiceAuthLibrary="VBoxAuth" LogHistoryCount="3"/>
    <USBDeviceFilters/>
  </Global>
</VirtualBox> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T19:29:23.153

解决方案是选择命名空间：

```
xml ed -N N="http://www.innotek.de/VirtualBox-settings" --update "//N:ExtraDataItem[@name='GUI/UpdateDate']/@value" --value "never" virtualbox.xml 
```

# jsf - JSF 2.0 FileNotFoundException

> ID：15985169
> 
> 赞同：0
> 
> 时间：2013-04-13T06:57:36.177
> 
> 标签：jsf

`http://localhost:8081/ReportGeneratorJSF/` 访问com.sun.faces.context.FacesFileNotFoundException时出现以下异常：/login.xhtml Not Found in ExternalContext as a Resource

我正在使用 JSF 2.0

我在 WEB-INF 文件夹中创建了一个 login.xhtml，该文件夹使用 header.xhtml 和 footer.xhtml 模板，使用 basictemplate.xhtml

// 登录.xhtml

```
<ui:composition template="/WEB-INF/template/basictemplate.xhtml">
...
textboxs and submit button
...
</ui:composition> 
```

// web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" id="WebApp_ID" version="2.5">
  <display-name>ReportGeneratorJSF</display-name>

    <welcome-file-list>
        <welcome-file>faces/login.xhtml</welcome-file>
      </welcome-file-list>
      <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
      </servlet>
      <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>/faces/*</url-pattern>
      </servlet-mapping>
</web-app> 
```

您能否提供解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:15:22.467

您的文件有问题，您需要像这样放置它们：

```
WEB-INF
- faces-config.xml
- web.xml
login.xhtml
header.xhtml
footer.xhtml
... 
```

# mysql - 将mysql与liferay一起使用时发生错误

> ID：15985172
> 
> 赞同：2
> 
> 时间：2013-04-13T06:58:00.713
> 
> 标签：mysql, liferay, tomcat7

我正在使用 Liferay v6.1 CE。[我按照此页面](http://thiranjith.com/2011/09/17/setting-up-liferay-with-mysql/)上的说明和其他具有相同说明的类似页面从 Liferay 的 HSQL 切换到 MySQL v5.1.23 。但是当我启动服务器时，我在浏览器中收到以下错误，我认为这与 Tomcat 有关。我有 Apache Tomcat 7.0.23 顺便说一句。

我的 portal-ext.properties 代码：

```
jdbc.default.driverClassName=com.mysql.jdbc.Driver
jdbc.default.url=jdbc:mysql://localhost/liferaydb2?useUnicode=true&characterEncoding=UTF-8&useFastDateParsing=false
jdbc.default.username=root
jdbc.default.password=theroot 
```

我在浏览器中遇到的错误：

```
HTTP Status 500 -

exception

Stacktrace:
org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:568)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:455)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:230)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70)
root cause

javax.servlet.ServletException: com.liferay.portal.kernel.exception.SystemException: com.liferay.portal.kernel.dao.orm.ORMException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.liferay.portal.model.impl.CompanyImpl#10154]
org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:911)
org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:840)
com.liferay.portal.kernel.servlet.PageContextWrapper.handlePageException(PageContextWrapper.java:161)
org.apache.jsp.index_jsp._jspService(index_jsp.java:148)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:230)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70)
root cause

com.liferay.portal.kernel.exception.SystemException: com.liferay.portal.kernel.dao.orm.ORMException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.liferay.portal.model.impl.CompanyImpl#10154]
com.liferay.portal.service.persistence.impl.BasePersistenceImpl.processException(BasePersistenceImpl.java:193)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.fetchByPrimaryKey(CompanyPersistenceImpl.java:531)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.findByPrimaryKey(CompanyPersistenceImpl.java:475)
com.liferay.portal.service.impl.CompanyLocalServiceImpl.getCompanyById(CompanyLocalServiceImpl.java:602)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:112)
com.liferay.portal.spring.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:71)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ServiceBeanAopProxy.invoke(ServiceBeanAopProxy.java:211)
$Proxy15.getCompanyById(Unknown Source)
com.liferay.portal.service.CompanyLocalServiceUtil.getCompanyById(CompanyLocalServiceUtil.java:434)
com.liferay.portal.util.PortalImpl.getCompany(PortalImpl.java:1206)
com.liferay.portal.util.PortalImpl.getRelativeHomeURL(PortalImpl.java:3217)
com.liferay.portal.util.PortalImpl.getHomeURL(PortalImpl.java:1829)
com.liferay.portal.util.PortalUtil.getHomeURL(PortalUtil.java:516)
org.apache.jsp.index_jsp._jspService(index_jsp.java:114)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:230)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70)
root cause

com.liferay.portal.kernel.dao.orm.ORMException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.liferay.portal.model.impl.CompanyImpl#10154]
com.liferay.portal.dao.orm.hibernate.ExceptionTranslator.translate(ExceptionTranslator.java:30)
com.liferay.portal.dao.orm.hibernate.SessionImpl.get(SessionImpl.java:131)
com.liferay.portal.kernel.dao.orm.ClassLoaderSession.get(ClassLoaderSession.java:237)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.fetchByPrimaryKey(CompanyPersistenceImpl.java:525)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.findByPrimaryKey(CompanyPersistenceImpl.java:475)

com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:112)
com.liferay.portal.spring.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:71)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ServiceBeanAopProxy.invoke(ServiceBeanAopProxy.java:211)
$Proxy15.getCompanyById(Unknown Source)
com.liferay.portal.service.CompanyLocalServiceUtil.getCompanyById(CompanyLocalServiceUtil.java:434)
com.liferay.portal.util.PortalImpl.getCompany(PortalImpl.java:1206)
com.liferay.portal.util.PortalImpl.getRelativeHomeURL(PortalImpl.java:3217)
com.liferay.portal.util.PortalImpl.getHomeURL(PortalImpl.java:1829)
com.liferay.portal.util.PortalUtil.getHomeURL(PortalUtil.java:516)
org.apache.jsp.index_jsp._jspService(index_jsp.java:114)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:230)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70)
root cause

com.liferay.portal.service.persistence.CompanyPersistenceImpl.fetchByPrimaryKey(CompanyPersistenceImpl.java:525)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.findByPrimaryKey(CompanyPersistenceImpl.java:475)
com.liferay.portal.service.impl.CompanyLocalServiceImpl.getCompanyById(CompanyLocalServiceImpl.java:602)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:112)
com.liferay.portal.spring.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:71)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ServiceBeanAopProxy.invoke(ServiceBeanAopProxy.java:211)
$Proxy15.getCompanyById(Unknown Source)
com.liferay.portal.service.CompanyLocalServiceUtil.getCompanyById(CompanyLocalServiceUtil.java:434)
com.liferay.portal.util.PortalImpl.getCompany(PortalImpl.java:1206)
com.liferay.portal.util.PortalImpl.getRelativeHomeURL(PortalImpl.java:3217)
com.liferay.portal.util.PortalImpl.getHomeURL(PortalImpl.java:1829)
com.liferay.portal.util.PortalUtil.getHomeURL(PortalUtil.java:516)
org.apache.jsp.index_jsp._jspService(index_jsp.java:114)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
    root cause

com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OPTION SQL_SELECT_LIMIT=DEFAULT' at line 1
com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)
com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2985)
com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1631)
com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1723)
com.mysql.jdbc.Connection.execSQL(Connection.java:3250)
com.mysql.jdbc.Connection.execSQL(Connection.java:3179)
com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1420)
com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:76)
org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)
org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
org.hibernate.loader.Loader.doQuery(Loader.java:802)
org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)
org.hibernate.loader.Loader.loadEntity(Loader.java:2037)
org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)
org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)
org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)
org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)
org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)
org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)
org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:269)
org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)
org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)
org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)
org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)
com.liferay.portal.dao.orm.hibernate.SessionImpl.get(SessionImpl.java:128)
com.liferay.portal.kernel.dao.orm.ClassLoaderSession.get(ClassLoaderSession.java:237)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.fetchByPrimaryKey(CompanyPersistenceImpl.java:525)
com.liferay.portal.service.persistence.CompanyPersistenceImpl.findByPrimaryKey(CompanyPersistenceImpl.java:475)
com.liferay.portal.service.impl.CompanyLocalServiceImpl.getCompanyById(CompanyLocalServiceImpl.java:602)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
java.lang.reflect.Method.invoke(Method.java:597)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:112)
com.liferay.portal.spring.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:71)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ChainableMethodAdvice.invoke(ChainableMethodAdvice.java:59)
com.liferay.portal.spring.aop.ServiceBeanMethodInvocation.proceed(ServiceBeanMethodInvocation.java:108)
com.liferay.portal.spring.aop.ServiceBeanAopProxy.invoke(ServiceBeanAopProxy.java:211)
$Proxy15.getCompanyById(Unknown Source)
com.liferay.portal.service.CompanyLocalServiceUtil.getCompanyById(CompanyLocalServiceUtil.java:434)
com.liferay.portal.util.PortalImpl.getCompany(PortalImpl.java:1206)
com.liferay.portal.util.PortalImpl.getRelativeHomeURL(PortalImpl.java:3217)
com.liferay.portal.util.PortalImpl.getHomeURL(PortalImpl.java:1829)
com.liferay.portal.util.PortalUtil.getHomeURL(PortalUtil.java:516)
org.apache.jsp.index_jsp._jspService(index_jsp.java:114)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:72)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.sso.ntlm.NtlmPostFilter.processFilter(NtlmPostFilter.java:83)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.sharepoint.SharepointFilter.processFilter(SharepointFilter.java:80)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.BaseFilter.processFilter(BaseFilter.java:121)
com.liferay.portal.servlet.filters.virtualhost.VirtualHostFilter.processFilter(VirtualHostFilter.java:230)
com.liferay.portal.kernel.servlet.BaseFilter.doFilter(BaseFilter.java:48)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:738)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDoFilter(InvokerFilterChain.java:203)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:105)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:164)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.processDirectCallFilter(InvokerFilterChain.java:184)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilterChain.doFilter(InvokerFilterChain.java:92)
com.liferay.portal.kernel.servlet.filters.invoker.InvokerFilter.doFilter(InvokerFilter.java:70) 
```

请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T14:58:04.153

根据 David H Nebinger 在[liferay 论坛页面上的](http://www.liferay.com/community/forums/-/message_boards/view_message/23650072)指导，通过用最新的 mysql-connnector-j jar 替换 tomcat 的 lib/ext 目录中的“mysql.jar”解决了这个问题。

# javascript - 如何将 JavaScript 变量连接成带有引号和双引号的复杂字符串？

> ID：15985176
> 
> 赞同：0
> 
> 时间：2013-04-13T06:58:55.403
> 
> 标签：javascript, twig

```
 var id_person_value = 4;

$('#message').load("{{ path('MyBundle_ajax_modal_vote', {'id_person' :"+id_person_value+"})   }}", function() {//.. 
```

它应该返回

```
$('#message').load("{{ path('MyBundle_ajax_modal_vote', {'id_person' : 4 })   }}", function() {//.. 
```

但这返回了我：`http://mywebsite.com/app_dev.php/+id_person_value+`

我怎样才能正确注入价值？

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:02:03.703

不要将事物连接在一起，这很乏味且容易出错，而是尝试使用类似于`printf`或`format`其他语言的格式化函数：

```
str = format("{{ path('MyBundle_ajax_modal_vote', {'id_person' : {0} }) }}", 4) 
```

不幸的是，Javascript 中没有这样的内置函数，但它很容易编写：

```
function format(str) {
    var args = [].slice.call(arguments, 1);
    return str.replace(/{(\d+)}/g, function($0, $1) {
        return args[$1]
    })
} 
```

看到[与 Python 的 format() 函数等效的 JavaScript 了吗？](https://stackoverflow.com/q/4974238/989121)更多的实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:06:19.480

您可以使用转义字符，例如 \' 在字符串中插入单引号，使用 \" 插入双引号

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:04:37.643

使用简单的双引号来开始和结束字符串“”。如果您想在字符串中包含任何引号或双引号，请在引号之前使用转义字符 \ 例如，您希望字符串为 s= hello"world 然后 s= "hello\""+"World" 或 s="hello"+"\ “”+“世界”

# c - 函数 poll 的头文件

> ID：15985179
> 
> 赞同：2
> 
> 时间：2013-04-13T06:59:04.327
> 
> 标签：c

我正在尝试使用非阻塞套接字创建聊天应用程序。为此，我应该使用该`poll()`功能。我知道我必须包含“poll.h”头文件，但我的编译器说“没有找到这样的文件或目录”，另一方面，如果我不包含这个文件，我的代码接受这个结构`pollfd`，它编译得很好但是在运行时给我一个错误，即变量“P 在没有被初始化的情况下使用”（我将“P”定义为一个`pollfd`变量）有人可以告诉我在这种情况下我应该怎么做......是否可以下载头文件？我正在开发视觉工作室 2008。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:09:25.053

根据[这个论坛帖子](http://forums.codeguru.com/showthread.php?460259-pollfd-in-windows)，您可以尝试使用 select() 而不是 poll()，Windows 不支持。您可以尝试下载所需的库和头文件，但这些库和头文件可能又依赖于平台相关的库，让您回到原点。

当然，您需要使用 Windows 的 select() 实现。[这是链接](http://msdn.microsoft.com/en-us/library/windows/desktop/ms740141%28v=vs.85%29.aspx)。头文件是 Winsock2.h。

# linux - 从 LLVM 位代码创建与位置无关的目标文件

> ID：15985186
> 
> 赞同：10
> 
> 时间：2013-04-13T07:00:03.913
> 
> 标签：linux, llvm, dynamic-linking

我有一个 llvm 模块，我已将其作为位码文件转储为`llvm::WriteBitcodeToFile`. 我想将此位代码文件转换为包含模块中函数的本机动态可加载库。

我该怎么做呢？我尝试使用`llc`它，但这会产生显然不可重定位的代码，因为在执行以下步骤之后：

```
llc -enable-pie -cppgen=functions -filetype=asm executableModule -o em.s 
```

然后，用 gnu 组装`as`成一个目标文件：

```
as -o mylib.o em.s 
```

最后，尝试生成一个共享库：

```
gcc -shared -o libmyfile.so -fPIC mylib.o 
```

失败并出现错误：

```
/usr/bin/ld: error: mylib.o: requires dynamic R_X86_64_PC32 reloc against 'X.foo' which may overflow at runtime; recompile with -fPIC
collect2: ld returned 1 exit status 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-14T08:30:13.870

您需要设置重定位模型。像 -llc -relocation-model=pic 这样的东西。不要使用 PIE，因为它是用于可执行文件的，而不是用于库的。此外， -cppgen 在这里没有任何意义，它仅适用于 cpp 后端。

# python - 带有 matplotlib 的彩条图……但是是灰色的？

> ID：15985187
> 
> 赞同：3
> 
> 时间：2013-04-13T07:00:30.893
> 
> 标签：python, matplotlib, scipy

是否可以将颜色条图的颜色更改为灰度？目前我像这样绘制它们：

```
ax = fig.add_subplot(326,title='Title')
cax = ax.matshow(newcm)
fig.colorbar(cax)

ax.set_xticklabels(['']+alpha)
ax.set_yticklabels(['']+alpha)
pl.show() 
```

虽然它们当然是彩色的。但是可以将它们更改为灰度吗？如何 ？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T07:04:42.880

颜色条显示用于数据的颜色图。如果您想要不同的颜色，请在`matshow`调用中指定不同的颜色图：

```
ax.matshow(newcm, cmap=pyplot.cm.Greys) 
```

[您可以在http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps](http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps)查看可用的颜色图。有几个灰度选项。

# delphi - 在firemonkey中绘制文本

> ID：15985188
> 
> 赞同：2
> 
> 时间：2013-04-13T07:00:38.740
> 
> 标签：delphi, firemonkey, delphi-xe3

如何在 firemonkey 应用程序中绘制位图高质量文本？

我的`TImage`表格中有一个`imgStory`名字。

我试过这段代码，但它不起作用，imgStory 仍然显示空白！

```
imgStory.Canvas.Stroke.Kind := TBrushKind.bkSolid;
imgStory.Canvas.StrokeThickness := 1;
imgStory.Canvas.Fill.Color := TAlphaColors.Red;
mRect.Create(100, 229, 300, 250);
imgStory.Canvas.FillText(mRect, 'Hello Text!', false, 100, [TFillTextFlag.ftRightToLeft],
TTextAlign.taCenter, TTextAlign.taCenter); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-15T12:06:00.107

所以它是一个需要先加载或创建位图然后在位图上绘制的 Timage。您还需要围绕绘图命令的开始场景和结束场景。从文件创建位图：

```
imgstory.bitmap.createfromfile(filename); 
```

或者您可以创建一个空白：

```
imgstory.bitmap.create(width,height); 
```

那么图就变成了：

```
imgstory.Bitmap.canvas.BeginScene();
imgStory.Bitmap.canvas.Stroke.Kind := TBrushKind.bkSolid;
imgStory.Bitmap.canvas.StrokeThickness := 1;
imgStory.bitmap.Canvas.Fill.Color := TAlphaColors.Red;
mRect.Create(100, 229, 300, 250);
imgStory.bitmap.Canvas.FillText(mRect, 'Hello Text!', false, 100, [TFillTextFlag.ftRightToLeft],
TTextAlign.taCenter, TTextAlign.taCenter);
imgstory.bitmap.Canvas.endscene 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-05T16:10:14.883

我知道这是一个古老的问题，但我遇到了它，并让它在我的最终工作。这是我的代码。我想这可能是你设置 mrect 的方式。我认为仅调用 .create() 函数而不将输出设置为变量是行不通的。

```
Image1.Bitmap.canvas.Stroke.Kind := TBrushKind.bkSolid;
Image1.Bitmap.canvas.StrokeThickness := 1;
Image1.bitmap.Canvas.Fill.Color := TAlphaColors.Red;
Image1.Bitmap.Canvas.Font.Size:=36;
Image1.Bitmap.Canvas.Font.Family:='Arial';
Image1.Bitmap.Canvas.Font.Style:=[TFontStyle.fsbold];
ARect := TRectF.Create(100, 229, 400, 270);
Image1.Bitmap.Canvas.BeginScene;
Image1.Bitmap.Canvas.FillText(ARect, 'Hello Text!', false, 100, [], TTextAlign.taCenter);
Image1.Bitmap.Canvas.EndScene; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-14T11:47:44.453

When you are drawing on a canvas other than in a paint method, you need to surround the drawing commands with beginscene and endscene.

So add a line before your code:

```
imgStory.canvas.beginscene; 
```

and after your code:

```
imgStory.canvas.endscene; 
```

# django - 如何使用 google smtp 服务器从 django 发送电子邮件？

> ID：15985191
> 
> 赞同：12
> 
> 时间：2013-04-13T07:00:44.003
> 
> 标签：django, google-app-engine, smtp

我正在查看[https://docs.djangoproject.com/en/dev/topics/email/](https://docs.djangoproject.com/en/dev/topics/email/)

我的问题是，有没有办法我可以在没有身份验证的情况下使用 smtp.google.com，或者不必将我的身份验证信息放入 settings.py 或作为 django.core.mail.send_mail 函数中的参数？

此时我正在寻找在 django 上使用 smtp.google.com 的最佳实践，我知道有更好的解决方案，例如[http://sendgrid.com/](http://sendgrid.com/)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-14T19:11:26.503

`smpt.gmail.com`如果不提供您的 auth_information 即您的 gmail 密码，您将无法使用。

但是，您可以将您的身份验证信息放在 a 中`local_settings.py`，并且不要在版本控制中添加这个 local_settings，这样除了您之外没有人会看到这个文件。将此 local_settings 包含在您的`settings.py`.

设置.py

```
 ...
 EMAIL_HOST = 'smtp.gmail.com'
 EMAIL_PORT = 587
 EMAIL_USE_TLS = True
 ...
 ...
 from local_settings import * 
```

local_settings.py

```
EMAIL_HOST_USER = 'user@gmail.com'
EMAIL_HOST_PASSWORD = 'yourpassword' 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-13T13:50:08.947

尝试将其包括在`settings.py`：

```
# Email configuration.

EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_HOST_USER = 'user@domain.com'
EMAIL_HOST_PASSWORD = 'yourpassword'
EMAIL_USE_TLS = True
DEFAULT_FROM_EMAIL = 'user@domain.com'
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend' 
```

如果您有网络域提供商（例如 namecheap、godady 等），您可以将您的域 (mycompany.com) 与 Gmail 相关联。对于该功能，请向您的域提供商寻求帮助或在 Internet 中查看信息：

*   [http://www.namecheap.com/support/knowledgebase/article.aspx/1244/78/](http://www.namecheap.com/support/knowledgebase/article.aspx/1244/78/)
*   [http://help.squarespace.com/customer/portal/articles/581494-how-do-i-set-up-google-apps-for-my-domain-](http://help.squarespace.com/customer/portal/articles/581494-how-do-i-set-up-google-apps-for-my-domain-)

希望有帮助，加油。

# android - 每个gridview项目Android中的进度条

> ID：15985194
> 
> 赞同：2
> 
> 时间：2013-04-13T07:01:11.650
> 
> 标签：android, gridview, progress-bar

我有一个显示图像和进度条的网格视图。每个项目都包含进度条，并在相应文件下载时显示进度。滚动 gridview 时，进度条反复显示错误项目的进度，我正在使用查看器。请给我一个解决方案...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:14:43.593

问题是您的`ProgressBar`对象在滚动到屏幕外时会被系统任意重用。

这意味着当一个人`ProgressBar`滚动到屏幕外时，它会在该项目出现时在新的网格位置重复使用。

解决方案相当简单。无论下载状态如何，`getView()`您都必须设置每个的进度值和可见性（如果您在不使用时隐藏它们）`ProgressBar`。为此，您将保存每个网格位置的进度值和下载状态，您可能已经有了这些信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:09:06.423

```
public View getView(int position, View convertView, ViewGroup parent) {
    View vi=convertView;
    if(convertView==null)
     vi = inflater.inflate(R.layout.rowimage, null);

    ImageView image=(ImageView)vi.findViewById(R.id.ivv); 
    ProgressBar pb= (ProgressBar)vi.findViewById(R.id.pb); 
    display(image, data.get(position).toString(), pb);
    //imageLoader.displayImage(data.get(position).toString(), image,options);

    return vi;
}

  public void display(ImageView img, String url, final ProgressBar spinner)
   {
    imageLoader.displayImage(url, img, options, new ImageLoadingListener() {
        @Override
        public void onLoadingStarted(String imageUri, View view) {
         spinner.setVisibility(View.VISIBLE);
        }
        @Override
        public void onLoadingFailed(String imageUri, View view, FailReason failReason) {
         spinner.setVisibility(View.GONE);

        }
        @Override
        public void onLoadingComplete(String imageUri, View view, Bitmap loadedImage) {
         spinner.setVisibility(View.GONE);
        }
        @Override
        public void onLoadingCancelled(String imageUri, View view) {

        }

});
}
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"

android:orientation="vertical" >

<ImageView
    android:id="@+id/ivv"
    android:layout_gravity="center"
    android:layout_width="300dp"
    android:layout_height="300dp"

    />
<ProgressBar 
    android:id="@+id/pb"
    android:layout_centerInParent="true"
    android:layout_gravity="center"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"/>

 </RelativeLayout> 
```

在您的适配器构造函数中

```
 File cacheDir = StorageUtils.getOwnCacheDirectory(a, "UniversalImageLoader/Cache");

 // Get singletone instance of ImageLoader
   imageLoader = ImageLoader.getInstance();
 // Create configuration for ImageLoader (all options are optional)
    ImageLoaderConfiguration config = new ImageLoaderConfiguration.Builder(a)
              // You can pass your own memory cache implementation
             .discCacheExtraOptions(1024, 1024, CompressFormat.PNG, 100)
             .discCache(new UnlimitedDiscCache(cacheDir)) // You can pass your own disc cache implementation
             .discCacheFileNameGenerator(new HashCodeFileNameGenerator())
             .enableLogging()
             .build();
 // Initialize ImageLoader with created configuration. Do it once.
 imageLoader.init(config);
    //imageLoader.init(ImageLoaderConfiguration.createDefault(a));
   // imageLoader=new ImageLoader(activity.getApplicationContext());
    options = new DisplayImageOptions.Builder()
    .showStubImage(R.drawable.ic_launcher)
    .cacheInMemory()
    .cacheOnDisc()
    .displayer(new RoundedBitmapDisplayer(20))
    .build(); 
```

我已将上述内容与 Universal Image Loader 一起使用。存根图像与中心的进度对话框一起显示。一旦图像被下载。图像设置为 imageview 并且进度对话框消失。

[https://github.com/nostra13/Android-Universal-Image-Loader](https://github.com/nostra13/Android-Universal-Image-Loader)

[什么是懒惰列表？](https://stackoverflow.com/questions/15621936/whats-lazylist/15622374#15622374).

您可以看到生成的快照。我已将上述内容用于列表视图。gridview 也应该是一样的。出于测试目的，我使用了默认启动器图像。但可以删除螺柱图像，自定义您的进度对话框。

![在此处输入图像描述](https://i.stack.imgur.com/m2vJV.png)

# php - 在 PHP 中调整图像大小

> ID：15985200
> 
> 赞同：0
> 
> 时间：2013-04-13T07:02:00.080
> 
> 标签：php

我对在 php 中调整图像大小非常陌生。基本上我想使用上传的图像制作缩略图。我使用了下面的代码，但它不起作用，有人可以帮助我吗？..提前谢谢...

```
$source_image = $path.$row->photosfolder;
$size = getimagesize($source_image);
$w = $size[0];
$h = $size[1];
$simg = imagecreatefromjpeg($source_image);
$dimg = imagecreatetruecolor(150, 225);
$wm = $w / 150;
$hm = $h / 225;
$h_height = 225 / 2;
$w_height = 150 / 2;

if ($w > $h) {
    $temp = imagecopyresampled($dimg, $simg, 0, 0, 0, 0, 150, 225, $w, $h);
}
elseif (($w < $h) || ($w == $h)) {
    $temp = imagecopyresampled($dimg, $simg, 0, 0, 0, 0, 150, 225, $w, $h);
}
else {
    $temp = imagecopyresampled($dimg, $simg, 0, 0, 0, 0, 150, 225, $w, $h);
}

$thumb_image = imagejpeg($dimg, $simg, 100); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-18T05:34:20.913

请尝试使用以下代码，它将调整图像大小并创建新的缩略图。新尺寸定义为 100 X 100。此示例还将保持图像的纵横比。笔记：

1.如果要设置完整路径，图像路径将是目录路径。2\. 在我们考虑用于 jpg 文件的示例中，您可以使用带有 imagecreatefrompng、imagecreatefromgif 的 PGN 和 GIF 文件。3.这将创建PNG文件。

```
$_imagePath = 'somefile.jpg';
$im = imagecreatefromjpeg($_imagePath);

imagealphablending($im, true);

$_orgWidth = imagesx($im);
$_orgHeight =  imagesy($im);

$_newWidth = 100;
$_newHeight = 100;

$_finalHeight = $_orgHeight * ( $_newWidth/ $_orgWidth);
    if($_finalHeight > $_newHeight){
        $_newWidth = $_orgWidth * ($_newHeight / $_orgHeight);
    }else{
        $_newHeight = $_finalHeight ;
    }

$_thumb = imagecreatetruecolor($_newWidth, $_newHeight);
imagealphablending($_thumb, true);
imagesavealpha($_thumb, true);

imagecopyresampled($_thumb, $im, 0, 0, 0, 0, $_newWidth, $_newHeight, $_orgWidth , $_orgHeight  );

imagepng($_thumb, 'newname.png');
imagedestroy($_thumb); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:06:24.713

检查[timthumb.php](http://code.google.com/p/timthumb/)易于使用，您可以找到完整的教育代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:20:56.400

如果要调整图像大小，应该在客户端进行，因为 PHP 图像操作需要大量内存和 CPU 时间，并且不必在服务器端进行（无法访问 db，无法访问会话等）。

如果您仍想在 PHP 上执行此操作，可以使用该函数来获得正确的大小：

```
list($realW, $realH) = getimagesize($source_image);

$realR = $realW / $realH;
$thumbR = $thumbW / $thumbH;

// If you want your resize image to fit inside the max thumb size :

if($realR > $thumbR) // Real image if flatter than thumb
{
    $newW = $thumbW;
    $newH = $newW / $realR;
}
else
{
    $newH = $thumbH;
    $newW = $newH * $realR;
}

// Or if you want your resize image to be as small as possible but
// not smaller than your thumb. This can be helpful in some cases.

if($realR < $thumbR)
{
    // Same code
} 
```

然后像你一样使用重新采样的副本（如果你不能让它工作，请阅读 php 手册，函数概要下面有示例）。

如果要使用 javascript 调整图像大小，可以使用`<canvas>`：

```
var canvas = document.createElement('canvas');
var image = document.getElementById('image');
var context = canvas.getContext('2d');
context.save();
context.drawImage(image, /* Here you put the right values using the algorithms above */);
context.restore();
var thumb = document.createElement('image');
thumb.src = canvas.toDataUrl(); 
```

或类似的东西。根据您的具体情况，您可能会更改一些内容。

# web-services - 在 MULE CE 3.3.0 中使用 cxf-interceptor 从 SOAP Header 获取元素

> ID：15985201
> 
> 赞同：0
> 
> 时间：2013-04-13T07:02:01.853
> 
> 标签：web-services, soap, cxf, mule, interceptor

我想从 MULE CE 3.3.0 中的 SOAP Header 获取元素。在流程中，我设置了 WSDLLLocation 和我的自定义 java 类。

这是我在下面复制它们的流程代码：

```
<http:inbound-endpoint host="localhost" port="9095" 
    path="MuleLog/Service" exchange-pattern="request-response">
<custom-processor class="com.example.processors.SOAPHeaderExtractor" /> 
    <cxf:proxy-service wsdlLocation="http://wsf.cdyne.com/WeatherWS/Weather.asmx?WSDL"
        namespace="http://ws.cdyne.com/WeatherWS/" service="Weather" >
        <cxf:inInterceptors  >
            <spring:bean id="inLogger" class="org.apache.cxf.interceptor.LoggingInInterceptor" />   
        </cxf:inInterceptors>   
    </cxf:proxy-service>        
</http:inbound-endpoint>

 <http:outbound-endpoint address="http://wsf.cdyne.com/WeatherWS/Weather.asmx">
 </http:outbound-endpoint> 
```

这是我的 SOAPHeaderExtractor 类：

* * *

```
 package com.example.processors;

    import javax.xml.soap.MessageFactory;
    import javax.xml.soap.SOAPHeader;
    import javax.xml.soap.SOAPMessage;

    import org.mule.api.MuleEvent;
    import org.mule.api.MuleMessage;
    import org.mule.api.processor.MessageProcessor;

    public class SOAPHeaderExtractor implements MessageProcessor {

        @Override
        public MuleEvent process(MuleEvent event) {     
            try
            {
                MuleMessage inputMessage =  event.getMessage(); 
                SOAPMessage soapMsg = MessageFactory.newInstance().createMessage(null, 
                        new java.io.ByteArrayInputStream(inputMessage.getPayloadAsString().getBytes()));
                 SOAPHeader header = soapMsg.getSOAPHeader();            
                 System.out.println(header.getElementsByTagName("sampler").item(0).getTextContent() );
            }
            catch(Exception e){
                e.printStackTrace();            
            }       
            return event ;
        }
    } 
```

* * *

*   但是当我运行它并输入地址时`http://localhost:9095/MuleLog/Service?wsdl`。我在 MULE 控制台中看到了这些错误。

## MULE Ce 3.3.0 中的错误，我在浏览器中输入地址后看到这些错误？*

```
 Apr 13, 2013 11:16:50 AM com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory createEnvelope
SEVERE: SAAJ0511: Unable to create envelope from given source
com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to create envelope from given source: 
    at com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory.createEnvelope(EnvelopeFactory.java:114)
    at com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.createEnvelopeFromSource(SOAPPart1_1Impl.java:70)
    at com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl.getEnvelope(SOAPPartImpl.java:122)
    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.getSOAPHeader(MessageImpl.java:1261)
    at com.example.processors.SOAPHeaderExtractor.process(SOAPHeaderExtractor.java:23)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:192)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:174)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:166)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:153)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:310)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:305)
    at org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:20)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:34)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:18)
    at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:58)
    at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:48)
    at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:54)
    at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:44)
    at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:44)
    at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:52)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:32)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:17)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:113)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:34)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.doRequest(HttpMessageReceiver.java:304)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.processRequest(HttpMessageReceiver.java:250)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.run(HttpMessageReceiver.java:163)
    at org.mule.work.WorkerContext.run(WorkerContext.java:311)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Caused by: javax.xml.transform.TransformerException: org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:502)
    at com.sun.xml.internal.messaging.saaj.util.transform.EfficientStreamingTransformer.transform(EfficientStreamingTransformer.java:393)
    at com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory.createEnvelope(EnvelopeFactory.java:102)
    ... 56 more
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1231)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:333)
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)
    ... 58 more

CAUSE:

javax.xml.transform.TransformerException: org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:502)
    at com.sun.xml.internal.messaging.saaj.util.transform.EfficientStreamingTransformer.transform(EfficientStreamingTransformer.java:393)
    at com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory.createEnvelope(EnvelopeFactory.java:102)
    at com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.createEnvelopeFromSource(SOAPPart1_1Impl.java:70)
    at com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl.getEnvelope(SOAPPartImpl.java:122)
    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.getSOAPHeader(MessageImpl.java:1261)
    at com.example.processors.SOAPHeaderExtractor.process(SOAPHeaderExtractor.java:23)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:192)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:174)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:166)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:153)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:310)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:305)
    at org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:20)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:34)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:18)
    at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:58)
    at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:48)
    at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:54)
    at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:44)
    at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:44)
    at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:52)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:32)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:17)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:113)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:34)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.doRequest(HttpMessageReceiver.java:304)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.processRequest(HttpMessageReceiver.java:250)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.run(HttpMessageReceiver.java:163)
    at org.mule.work.WorkerContext.run(WorkerContext.java:311)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)
Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1231)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:333)
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)
    ... 58 more
---------
org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1231)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:333)
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:485)
    at com.sun.xml.internal.messaging.saaj.util.transform.EfficientStreamingTransformer.transform(EfficientStreamingTransformer.java:393)
    at com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory.createEnvelope(EnvelopeFactory.java:102)
    at com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.createEnvelopeFromSource(SOAPPart1_1Impl.java:70)
    at com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl.getEnvelope(SOAPPartImpl.java:122)
    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.getSOAPHeader(MessageImpl.java:1261)
    at com.example.processors.SOAPHeaderExtractor.process(SOAPHeaderExtractor.java:23)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:192)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:174)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:166)
    at org.mule.transport.AbstractMessageReceiver.routeMessage(AbstractMessageReceiver.java:153)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:310)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker$1.process(HttpMessageReceiver.java:305)
    at org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:20)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:34)
    at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:18)
    at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:58)
    at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:48)
    at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:54)
    at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:44)
    at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:44)
    at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:52)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:32)
    at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:17)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:113)
    at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:34)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.doRequest(HttpMessageReceiver.java:304)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.processRequest(HttpMessageReceiver.java:250)
    at org.mule.transport.http.HttpMessageReceiver$HttpWorker.run(HttpMessageReceiver.java:163)
    at org.mule.work.WorkerContext.run(WorkerContext.java:311)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619)

CAUSE:

javax.xml.transform.TransformerException: org.xml.sax.SAXParseException: Content is not allowed in prolog.
    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(TransformerIdentityImpl.java:502)
    at com.sun.xml.internal.messaging.saaj.util.transform.EfficientStreamingTransformer.transform(EfficientStreamingTransformer.java:393)
    at com.sun.xml.internal.messaging.saaj.soap.EnvelopeFactory.createEnvelope(EnvelopeFactory.java:102)
    at com.sun.xml.internal.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.createEnvelopeFromSource(SOAPPart1_1Impl.java:70)
    at com.sun.xml.internal.messaging.saaj.soap.SOAPPartImpl.getEnvelope(SOAPPartImpl.java:122)
    at com.sun.xml.internal.messaging.saaj.soap.MessageImpl.getSOAPHeader(MessageImpl.java:1261)
    at com.example.processors.SOAPHeaderExtractor.process(SOAPHeaderExtractor.java:23)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:85)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43)
    at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:43)
    at org.mule.processor.chain.SimpleMessageProcessorChain.doProcess(SimpleMessageProcessorChain.java:47)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:57)
    at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:66)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:29)
    at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:90)
    at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)
    at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:43) 
```

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T21:26:58.020

要对 Soap 相关的有效负载执行任何类型的操作，最好的选择通常是使用 cxf 拦截器。

作为示例，您可以参考[MuleHeadersInInterceptor类](https://github.com/mulesoft/mule/blob/mule-3.3.0/modules/cxf/src/main/java/org/mule/module/cxf/support/MuleHeadersInInterceptor.java)

# c - fscanf 帮助：如何检查格式

> ID：15985203
> 
> 赞同：0
> 
> 时间：2013-04-13T07:02:16.540
> 
> 标签：c, string, buffer, scanf

因此，当前函数应该看到存储在两个井号之间的任何内容（#abc# 应该返回 abc），但是如果我想错误检查是否缺少井号，或者井号之间没有任何内容，或者两个井号之间的字符串长度大于一定数量的字符，我是否使用 fscanf 函数来做到这一点？

fscanf 代码如下所示：

```
if (fscanf(fp, " %c%[^#]%c", &start, buffer, &end) == 3) {
    return strdup(buffer);      
} else { 
    return NULL; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:13:37.820

如果您需要处理零字符的情况，那么可能`fscanf()`不是正确的工具。有一个合理的论点`fscanf()`很少是正确的工具；你会做得更好`fgets()`和`sscanf()`。

在这种情况下，我会收集行，直到有一个不是空白的（因为这就是它`fscanf()`所做的），然后用 搜索`#`符号`strchr()`：

```
char line[4096];
while (fgets(line, sizeof(line), fp) != 0)
{
    if (strspn(line, " \t\n") == strlen(line))
        continue;
    char *hash1 = strchr(line, '#');
    if (hash1 == 0)
        ...error no hashes...
    else
    {
        char *hash2 = strchr(hash1+1, '#');
        if (hash2 == 0)
            ...second hash is missing...
        if (hash2 - hash1 > MAX_PERMITTED_STRING_LEN)
            ...too long a string...
        *hash2 = '\0';
        char *res = strdup(hash1);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:09:09.220

> 我应该使用 fscanf 函数来做到这一点吗？

不，你没有。使用`scanf()`函数族*很少*是一个好主意。

```
char buf[0x1000];

// expect leading `#'
int ch = fgetc(fp);
if (ch != '#') {
    puts("Error, missing # at beginning of input");
    exit(-1);
}

// read until terminating `#' or until the buffer is exhausted
char *p = buf;
while ((ch = fgetc(fp)) != '#' && p - buf < sizeof(buf)) {
    *p++ = ch;
}

// expect terminating `#'
if (ch != '#') {
    puts("Error, missing # at end of input");
    exit(-1);
} 
```

# java - 在 jar 文件中找不到 MySQL JDBC 连接器

> ID：15985208
> 
> 赞同：0
> 
> 时间：2013-04-13T07:03:07.617
> 
> 标签：java, mysql, jdbc

我一直在做项目，当我制作 jar 文件并执行它时，一切正常，但是当调用 sql 连接器时，它给出了一个错误，提示找不到 mysql 驱动程序。我在项目构建路径中包含了 mysql 连接器 jar 文件。MySQL 函数在 Eclipse 中执行时工作正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:06:34.043

请确保 Jar 文件和包含连接器 Jar 的 Lib 目录位于同一位置，如下所示

```
Myjarfile.jar
 libdirectory
        Myconnectorjar.jar 
```

# git - 从 GitHub repo 开始，在 BitBucket 中私下克隆，还从原版中抓取更改？

> ID：15985211
> 
> 赞同：3
> 
> 时间：2013-04-13T07:03:28.117
> 
> 标签：git, version-control, git-remote, git-fork

我想在 GitHub 上获取一个开源项目并将其用于新网站。由于它将供私人使用，我计划将代码存储在 BitBucket 中（因为 GitHub 对私人存储库收费）。但这就是我想做的。

*   我希望能够随时从源（GitHub 上的开源存储库）中提取并将这些更改合并到我的项目中。

*   我希望能够拥有自己的副本，该副本与 BitBucket 私下同步，只有我可以访问。

*   如果我能够添加任何功能或修复任何我能够做到的错误，我希望能够将拉取请求提交回 GitHub 上的源。

最好的方法是什么？

我想我可以在本地克隆存储库，并创建主分支的一个分支。然后我可以设置该新分支以同步到 BitBucket 存储库。此时，master 分支将从原点拉取，而我的分支将从我的 BitBucket 分支推/拉。这样，我可以在我自己的分支上完成所有工作，并且当主服务器上发生更改时，我可以将它们拉出并将它们合并回我的分支。

我认为这可行，但是关于我想将代码作为拉取请求提交到开源项目怎么办的第三点？我不需要在 GitHub 上公开托管该代码吗？我有更好的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T11:08:40.667

> 我希望能够将拉取请求提交回 GitHub 上的源

这意味着：

1.  在 GitHub 上 fork 那个项目
2.  [添加一个远程命名`upstream`](https://stackoverflow.com/questions/15956343/github-fork-confusion/15957211#15957211)以便从原始存储库中获取任何新的修改
3.  更改以`origin`“ `fork`”命名的远程，以便在 GitHub 上引用您自己的 fork
4.  添加一个名为`origin`引用您的私有 BitBucket 存储库的远程
5.  在专用分支中进行您的私人修改。

这样，您仍然可以：

*   发出拉取请求：只需将专用分支推送到您的“fork”远程，然后从该分支发出拉取请求
*   进行您将推送到您的 BitBucket 私人仓库的私人修改

# android - 如何在此代码中使用球图像图像

> ID：15985214
> 
> 赞同：0
> 
> 时间：2013-04-13T07:03:42.140
> 
> 标签：android

我是android游戏开发的新手。请帮助我在此代码中找到如何制作球图像。我已经在网上发布的教程的帮助下开发了一个示例应用程序。我的目标是访问加速度计并根据手机方向移动球。我有一个我已经提到的问题。

```
public class Accelerometer extends Activity implements SensorEventListener
{
    /** Called when the activity is first created. */
    CustomDrawableView mCustomDrawableView = null;
    ShapeDrawable mDrawable = new ShapeDrawable();
    public static int x;
    public static int y;

    private SensorManager sensorManager = null;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState)
    {

        super.onCreate(savedInstanceState);
        // Get a reference to a SensorManager
        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);
        mCustomDrawableView = new CustomDrawableView(this);
        setContentView(mCustomDrawableView);
        // setContentView(R.layout.main);

    }

    // This method will update the UI on new sensor events
    public void onSensorChanged(SensorEvent sensorEvent)
    {
        {
            if (sensorEvent.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {
                // the values you were calculating originally here were over 10000!
                x = (int) Math.pow(sensorEvent.values[1], 2); 
                y = (int) Math.pow(sensorEvent.values[2], 2);

            }

            if (sensorEvent.sensor.getType() == Sensor.TYPE_ORIENTATION) {

            }
        }
    }

    // I've chosen to not implement this method
    public void onAccuracyChanged(Sensor arg0, int arg1)
    {
        // TODO Auto-generated method stub

    }

    @Override
    protected void onResume()
    {
        super.onResume();
        // Register this class as a listener for the accelerometer sensor
        sensorManager.registerListener(this, sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
                SensorManager.SENSOR_DELAY_NORMAL);
        // ...and the orientation sensor
        sensorManager.registerListener(this, sensorManager.getDefaultSensor(Sensor.TYPE_ORIENTATION),
                SensorManager.SENSOR_DELAY_NORMAL);
    }

    @Override
    protected void onStop()
    {
        // Unregister the listener
        sensorManager.unregisterListener(this);
        super.onStop();
    }

    public class CustomDrawableView extends View
    {
        static final int width = 50;
        static final int height = 50;

        public CustomDrawableView(Context context)
        {
            super(context);

            mDrawable = new ShapeDrawable(new OvalShape());
            mDrawable.getPaint().setColor(0xff74AC23);
            mDrawable.setBounds(x, y, x + width, y + height);
        }

        protected void onDraw(Canvas canvas)
        {
            RectF oval = new RectF(Accelerometer.x, Accelerometer.y, Accelerometer.x + width, Accelerometer.y
                    + height); // set bounds of rectangle
            Paint p = new Paint(); // set some paint options
            p.setColor(Color.BLUE);
            canvas.drawOval(oval, p);
            invalidate();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:11:51.053

尝试这个

最好在 Oncreate 中创建位图

```
Bitmap bitmap =  BitmapFactory.decodeResource(getResources(), R.drawable.ball_image); 
```

在 OnDrawFunction 中使用该位图并将 x,y 设置为 Accelerometer 值

```
 protected void onDraw(Canvas canvas)
    {
         canvas.drawBitmap(bitmap,Accelerometer.x, Accelerometer.y,null);

    } 
```

# azure - 可能有多个任务的 Azure 配置？

> ID：15985215
> 
> 赞同：1
> 
> 时间：2013-04-13T07:03:43.093
> 
> 标签：azure, startup

我们有一个带有自己的部署工具的第三方 .NET 应用程序。此部署工具会生成一个自定义的 startup.cmd 文件。我们可以选择修改 CFG 文件，但不能修改 cmd 文件。

我想拥有自己的 cmd 文件。有人可以确认云服务定义文件中是否允许多个任务吗？

例如...

```
<Startup>
  <Task commandLine=”thirdpartyPropietryStartup1.cmd” executionContext=”elevated” />    
  <Task commandLine=”startup\startup2.cmd” executionContext=”elevated” />
</Startup> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:16:21.370

多个启动任务应该按照[文档](http://msdn.microsoft.com/en-us/library/windowsazure/hh180155.aspx)工作。

它不是那么明确，但它指出

> 简单任务按 ServiceDefinition.csdef 文件中指定的顺序同步执行，一次一个。

如果多个任务不起作用，这将毫无意义。

如果有问题，您总是可以创建一个运行*thirdpartyPropietryStartup1.cmd*然后*startup\startup2.cmd的**combined.cmd*（除非您的executionContext 应该不同）。

# javascript - Birt - 如何在 onrowcreate 上操作行单元格

> ID：15985218
> 
> 赞同：1
> 
> 时间：2013-04-13T07:04:10.503
> 
> 标签：javascript, birt

我是 Birt 脚本的新手，需要一些脚本方面的帮助。如果它们包含相同的数据，我想在行创建时合并表行中的单元格。例如这张表

```
 ------- ------- -------
|  id1  |   2   |   4   |
 ------- ------- -------
|  id2  |   5   |   5   |
 ------- ------- ------- 
```

应该看起来像

```
 ------- ------- -------
|  id1  |   2   |   4   |
 ------- ------- -------
|  id2  |       5       |
 ------- ------- ------- 
```

我找到了一些示例，现在我可以例如根据行数据 onrowcreate 更改行背景：

```
if (this.getRowData().getExpressionValue(1) == "id1")
this.getStyle().backgroundColor = "red";

if (this.getRowData().getExpressionValue(1) == "id2")
this.getStyle().backgroundColor = "blue"; 
```

另一个例子展示了如何在表头 beforeFactory 中合并单元格：

```
importPackage( Packages.org.eclipse.birt.report.model.api );
elementFactory = reportContext.getDesignHandle().getElementFactory();
var mytable = reportContext.getDesignHandle().findElement("mytable");
var myheader = mytable.getHeader( ).get( 0 );
tcell = myheader.getCells( ).get( 1 ).drop();
tcell = myheader.getCells( ).get( 0 );
tcell.setColumnSpan(2);
tcell.setRowSpan(1); 
```

这两个示例都可以正常工作，但我需要在合并它们之前检查单元格中是否有相同的数据，我可以做一些类似于 beforeFactory 脚本 onrowcreate 的事情，或者可能有不同的方法。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T17:02:40.483

创建表后，就无法合并单元格，因此这需要在 beforeFactory 事件中完成，这对您不起作用，因为它在看到您的数据集之前运行。

根据您的表的复杂程度，创建 2 个详细信息行可能有意义，一个包含合并的列，一个不包含。然后，您可以根据行中的数据动态隐藏您不想使用的明细行。

# knockout.js - 将（敲除）foreach 移到输入 SELECT 标记之外会给我带来轻而易举的问题

> ID：15985230
> 
> 赞同：0
> 
> 时间：2013-04-13T07:05:30.417
> 
> 标签：knockout.js, breeze

我正在使用淘汰赛和微风，现在正在处理 SELECT html 标记。

这是实际的实现：

```
<select data-bind="value: vehicleId, foreach: $root.vehicles()">
    <option data-bind="text: registration(), value: id()"></option>
</select> 
```

在运行时，它看起来像这样：

![在此处输入图像描述](https://i.stack.imgur.com/CMOtr.png)

出于测试目的，我重构了这段代码。所以我把`foreach`选择移开。

这是新的实现：

```
<select data-bind="value: vehicleId">
    <!-- ko foreach: $root.vehicles() -->
        <option data-bind="text: registration(), value: id()"></option>
    <!-- /ko -->
</select> 
```

![在此处输入图像描述](https://i.stack.imgur.com/LPr1e.png)

当我测试我的页面时，我注意到微风在第二个实现中没有按预期工作。当我更新数据（在任何输入中）时，微风不再检测到我的更新。通常，当我更新页面上的某些内容时，我知道`datacontext.hasChanges()`这是真的。然后我显示按钮，如`Save`, `Cancel`。现在情况并非如此。如果我回到原来的实现，它会再次起作用。对我来说很奇怪。

任何想法？

谢谢。

* * *

编辑

我也看看这个：[knockout.js: using a containerless foreach on a <select> failed in Internet Explorer 8](https://stackoverflow.com/questions/11723451/knockout-js-using-a-containerless-foreach-on-a-select-fails-in-internet-explo)

但它似乎也不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-04T17:01:09.307

您在底部发布的链接绝对正确 - 评论正在从选择框中删除。

问题不在于 Breeze 不起作用 - 而是视图中的 Knockout 绑定正在中断，特别是选择框中的值绑定。这里有两种方法可以完美运行，第一种是您首先发布的方法，并且有效。第二个是使用计算选项绑定，这是我更喜欢的一种方法。

```
<select data-bind="value: selectedVehicle, options: vehicleOptions, optionsText: 'registration'"></select> 
```

并且在您的视图模型中具有计算的可观察数组

```
var selectedVehicle = ko.observable();
var vehicleOptions = ko.computed(function () {
    var myArr = [];
    if (!selectedVehicle) { return myArr; }
    return myArr = (refreshVehicles());
});
function refreshVehicles() {
    // Go get vehicles or w/e based on selectedVehicle
    var locVehicles = getVehicles(selectedVehicle());
    return locVehicles;
} 
```

这做了几件事 -

1.  听起来您正在使用某种级联下拉菜单，并且只要 selectedVehicle 更改，计算的就会被重构。如果不是级联的，那你大概可以跳过这个，直接设置vehicleId或者w/e的值。

2.  它消除了对额外的无容器绑定的需要，并且还通过将逻辑移动到视图模型中来清理视图。

# jquery - 警报（$（文档）.html（）；）

> ID：15985233
> 
> 赞同：0
> 
> 时间：2013-04-13T07:05:58.387
> 
> 标签：jquery, html

我有一个启用了 jquery 的 html 页面。

一旦用户使用 jquery 交互修改页面，我需要保存生成的 DOM。

根据 [Get Jquery DOM][1], $(document).html(); 应该给我html，所以我试图提醒

```
$(document).html(); 
```

但是我收到警报未定义元素

[http://jsfiddle.net/ujYzM/3/](http://jsfiddle.net/ujYzM/3/)

请有人帮忙

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:15:17.263

您可能希望使用`$('html')`或获取 DOM`$('body')`

[jsFiddle](http://jsfiddle.net/Tyriar/sYxpj/)

```
alert($('html').html());
alert($('body').html()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:14:58.280

这应该工作

```
$(document).ready(function () {
     $("#sketch_board").droppable({
        hoverClass: 'smbrd',
        tollerance: "touch",
        drop: function (event, ui) {
            $("#sketch_board").append($('#div_drag').html());
            var x = $('#sketch_board').text();
            alert(x);
        }
    });

    $('#div_drag').draggable({
        containment: "window",
        revert: true
    });
}); 
```

# javascript - 如何从每个列表项中获取字母

> ID：15985234
> 
> 赞同：3
> 
> 时间：2013-04-13T07:05:59.030
> 
> 标签：javascript, jquery, jquery-selectors, html-lists

我有一个这样的 HTML：

```
<ol style="list-style: lower-alpha">
    <li>First Line</li>
    <li>Second Line</li>
    <li>Third Line</li>
</ol> 
```

这将导致：

```
a. First Line
b. Second Line
c. Third Line 
```

`a`单击时`First Line`，`b`单击时`Second Line`........如何获取？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:09:04.787

在这种情况下，您可以使用 javascript 方法[**fromCharCode ：**](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/fromCharCode)

```
$('li').each(function(i) {
    $(this).click(function() {
        var letter = String.fromCharCode(97 + i);
    });
}); 
```

`97`是字母的字符码`a`，循环会自动增加并给你下一个字母。

`**[Working Demo](http://jsfiddle.net/7AZAb/)**`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:16:26.877

试试[这个（*DEMO）*](http://jsfiddle.net/tyL2e/)，

**概念：**

使用[Index()](http://api.jquery.com/index/)获取`index`点击的`li element`. 看，`97`是`ascii code`的字符`'a'`。说如果你点击了`first li`，`index()`就会返回`zero`。所以 (97+0) = 97 = 'a'。像这样它将显示所有其他元素的结果。

```
$(document).ready(function(){

    $("ol li").click(function(){ 

        alert(String.fromCharCode(97 + $(this).index()));

    });

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:14:57.597

```
$('li').each(function(i) {
    $(this).click(function() {
        var letter = String.fromCharCode(95 + i);
    });
}); 
```

# soundmanager2 - SoundManager 32 声天花板命中错误

> ID：15985240
> 
> 赞同：0
> 
> 时间：2013-04-13T07:06:23.910
> 
> 标签：soundmanager2

当以 100 间隔播放相同的长声音时，几秒钟后，我开始收到“没有声音硬件，或 32 声音上限命中”错误。

要重现此问题：

1-打开浏览器（我用的是IE10和Chrome）

2- 启动其开发人员工具 (F12) 并转到控制台选项卡。

3-确保音量低，因为一旦您点击以下链接，声音就会开始播放。

4-点击此网址：[https ://googledrive.com/host/0B92G3ib2ozRVcS1RcHI5eGpzOXc/default.htm](https://googledrive.com/host/0B92G3ib2ozRVcS1RcHI5eGpzOXc/default.htm)

5- 声音将开始播放，然后会有一片寂静。在静音期间，您将在控制台中收到错误“test: play(): No sound hardware, or 32-sound ceiling hit”。（SoundManager 处于调试模式，因此您之前会收到很多记录的消息）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:09:31.547

最多可同时发出 32 个声音。如果您每 100 毫秒播放一个新声音，您将在 3.2 秒内达到该限制。这就是 32 音上限的含义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T19:27:04.177

我通过在播放相同的声音之前检查声音 playState 是否 == 0 并在 playState 为 != 0 时将其位置设置为 0 来解决这个问题。

代码如下所示：

```
if (this.sounds[id].playState == 0) { 
    this.sounds[id].play({ volume: this.volume * 100.0 }); 
} else { 
    // if sound is already playing then move it to the beginning  
    this.sounds[id].setPosition(0); 
} 
```

声音感觉有点波涛汹涌。如果有更好的方法来解决这个问题，请告诉我。

# windows - Windows 手机的云消息传递

> ID：15985242
> 
> 赞同：0
> 
> 时间：2013-04-13T07:06:33.673
> 
> 标签：windows, windows-phone-7

是他们的任何适用于 Windows Phone 的云消息服务。就像适用于 Android 的 Google Cloud Messaging 一样。谷歌提供 GCM [http://developer.android.com/google/gcm/index.html](http://developer.android.com/google/gcm/index.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:12:24.907

是的，它称为 WNS（Windows 推送通知服务）。您可以从云端向设备发送消息（推送通知）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-20T14:25:30.513

实际上，微软有 WNS 和 MPNS。

WNS 适用于 Windows 8 设备，而 MPNS 适用于 Windows Phone 设备。

[MPNS 链接](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff402558%28v=vs.105%29.aspx)

[WNS 链接](http://msdn.microsoft.com/en-us/library/windows/apps/hh913756.aspx)

# java - getImage 方法显示空白

> ID：15985246
> 
> 赞同：2
> 
> 时间：2013-04-13T07:06:55.107
> 
> 标签：java, applet

我尝试了许多解决方案，但我似乎无法找到我的代码的问题。我检查了路径名、文件的权限，并为图像尝试了几种不同的文件名。图像不显示。

```
private Character player;
private Image image, sprite;
private URL base;
private Graphics second;

@Override
public void init() {
    setSize(500,500);
    setBackground(Color.white);
    setFocusable(true);
    addKeyListener(this);
    Frame frame = (Frame)this.getParent().getParent();
    frame.setTitle("Joules");
    try {
        base = getDocumentBase();
        sprite = getImage(base,"kips.PNG");
    } catch (Exception e) {
    }

   //       sprite = getImage(base,"kips.PNG"); 
}

@Override
public void start() {
    player = new Character();

    Thread thread = new Thread(this);

    thread.start();
}

    @Override
public void update(Graphics g) {
    if (image == null) {
        image = createImage(this.getWidth(), this.getHeight());
        second = image.getGraphics();
    }

    second.setColor(getBackground());
    second.fillRect(0, 0, getWidth(), getHeight());
    second.setColor(getForeground());
    paint(second);

    g.drawImage(image, 0, 0, this);
}

@Override
public void paint(Graphics g) {
        g.drawImage(sprite,player.getCenterX(),player.getCenterY(),this);
}

@Override
public void run() {
    while (true) {
        repaint();
        try {
            Thread.sleep(34);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }
} 
```

请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-16T16:13:12.543

我刚遇到这个问题，发现 getDocumentBase() 正在返回一个巨大的路径，它是当前小程序的基础，而不是项目。

相反，我使用了返回“../projectName/bin/”的 getCodeBase()，因此在代码中的相对路径中导航回一个文件夹。

`base = getCodeBase();
sprite = getImage(base,"../kips.PNG");`

# javascript - 在父页面的 iframe 中查找字符串

> ID：15985249
> 
> 赞同：0
> 
> 时间：2013-04-13T07:07:36.447
> 
> 标签：javascript, iframe

如果在父页面的 iframe 中找到字符串，如何触发函数？

我需要更改它以使用字符串而不是元素 ID：

```
if (window.frames[0].document.getElementById('mystring'))
{
document.getElementById('Search').style.display = 'block';} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:16:52.507

```
var source = window.frames[0].document.getElementsByTagName('html')[0].innerHTML;
var found = source.search("searchString"); 
```

你也可以使用`source.indexOf("searchstring") != -1`

# c - 如果事件的数量超过了 epoll_wait() 的 maxevents 参数，剩下的事件会发生什么？

> ID：15985250
> 
> 赞同：1
> 
> 时间：2013-04-13T07:07:37.343
> 
> 标签：c, linux, events, posix, epoll

epoll 是否足够侠义，可以保留剩余的事件，并在下次调用 epoll_wait() 时将它们放入事件数组中？或者它只是像一个彻头彻尾的混蛋一样把他们扔掉？

手册页忽略了这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:24:24.767

忘记这些事件会……对程序员非常粗鲁。任何基于边缘触发的 epoll 的东西都会在负载下停止工作。

**编辑**：我忘了提到 epoll 不会忘记它没有返回给用户代码的事件，除非底层文件已经关闭。

# c# - 在 wp7/wp8 中创建加密的 .sdf 文件

> ID：15985251
> 
> 赞同：1
> 
> 时间：2013-04-13T07:08:08.547
> 
> 标签：c#, windows-phone-7, windows-phone-8, sql-server-ce

```
public void createDB()
    {
        string strConnectionString = @"isostore:/accounts.sdf";
        using (dataContext accountdb = new dataContext(strConnectionString))
        {
            if (accountdb.DatabaseExists() == false)
            {
                accountdb.CreateDatabase();
            }
            else
            {

            }
        }

    } 
```

我一直在尝试在 wp8 上创建一个加密的 .sdf 数据库文件，但没有成功，任何人都可以帮助我。上面的代码显示了如何在不加密的情况下创建 .sdf 文件。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:14:53.733

我认为，如果您在连接字符串中包含密码，则数据库文件会自动加密。尝试这个：

```
//string strConnectionString = @"isostore:/accounts.sdf";
strConnectionString = string.Format(@"Data Source = 'isostore:/accounts.sdf'; Password = '{0}';", globalPass); 
```

# c# - 刷新datagridview c#后如何保持在同一个单元格中

> ID：15985253
> 
> 赞同：2
> 
> 时间：2013-04-13T07:08:39.330
> 
> 标签：c#, sql

我使用计时器刷新datagridview。请帮助我每 10 秒刷新一次 datagridview 。我找不到代码在刷新或排序 datagridview 后所选单元格将保持不变请帮助我..

```
private void timer1_Tick(object sender, EventArgs e)
    {
        if (radioButton1.Checked == true)
        {  
            SqlCommand cmd = new SqlCommand("SELECT (Cust_No) as [Customer ID],(Cust_surname) as [Surname], (Cust_fname) as [First Name], (Cust_mi) as [Middle Initial],  (Cust_address) as [Address], (Cust_ContactNO) as [Contact Number], (Cust_Faxno) as [Fax Number], (Cust_Tin)as [TIN]  FROM Customer WHERE cust_status like ('Active')");
            cmd.CommandType = CommandType.Text;
            cmd.Connection = conn;
            da = new SqlDataAdapter(cmd);
            ds = new DataSet("ds");
            da.Fill(ds);
            ds.Tables[0].TableName = "table_mirror";
            dataGridView2.DataSource = ds.Tables["table_mirror"];

        }
        else
        {
            SqlCommand cmd1 = new SqlCommand("SELECT (comp_no) as [Company ID],(comp_name) as [Company Name], (comp_contactperson) as [Contact Person], (comp_address) as [Address],  (comp_contactno) as [Contact No], (comp_fax) as [Fax], (comp_Tin) as [Tin] FROM Company WHERE comp_status like ('Active')");
            cmd1.CommandType = CommandType.Text;
            cmd1.Connection = conn;
            da = new SqlDataAdapter(cmd1);
            ds = new DataSet("ds");
            da.Fill(ds);
            ds.Tables[0].TableName = "table_mirror";
            dataGridView2.DataSource = ds.Tables["table_mirror"];
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:01:46.697

我认为这对你有帮助。

```
 Point[] oldSelectedCells = new Point[dataGridView1.SelectedCells.Count];
        for (int i = 0; i < dataGridView1.SelectedCells.Count; i++)
        {
            oldSelectedCells[i].X = dataGridView1.SelectedCells[i].ColumnIndex;
            oldSelectedCells[i].Y = dataGridView1.SelectedCells[i].RowIndex;
        }

        // refresh datagridview

        dataGridView1.CurrentCell = null;
        foreach (Point p in oldSelectedCells)
            dataGridView1[p.X, p.Y].Selected = true; 
```

# php - php在当前页面的UL LI中将类添加到链接

> ID：15985254
> 
> 赞同：1
> 
> 时间：2013-04-13T07:08:41.147
> 
> 标签：php, html, regex

在发送到浏览器之前，尝试在 php 中使用正则表达式将“curPage”类添加到我的 ul-li 菜单中。代码：

```
$loadedMenu=preg_replace("/a href=\"" . $file . ".htm\"/", "a href=\"" . $file . ".htm\" class=\"curPage\"", $loadedMenu); 
```

$loadedMenu 的内容：

```
<nav><ul><li rel="file" id="516054b57fbba"><a href="index.htm">דף הבית</a></li><li rel="file" id="51681f81a440b"><a href="newuser.htm">משתמש חדש</a></li><li rel="file" id="516054b57fb40"><a href="about.htm">אודות</a></li><li rel="file" id="5160f37b822a3"><a href="%D7%93%D7%A3%20%D7%97%D7%93%D7%A9.htm">דף חדש</a></li><li rel="folder" id="516054d162176"><a href="#" style="cursor:text;">תיקייה חדשה</a><ul><li rel="file" id="516054b57fc62"><a href="%D7%9E%D7%99%D7%98%D7%9C%20%D7%94%D7%A0%D7%A1%D7%99%D7%9B%D7%94%20%D7%A9%D7%9C%D7%99.htm">מיטל הנסיכה שלי</a></li><li rel="file" id="516054b57fc9a"><a href="%D7%A0%D7%A1%D7%99%D7%95%D7%9F.htm">נסיון</a></li><li rel="file" id="516054b57fb82"><a href="help.htm">עזרה</a></li></ul></li><li rel="folfil" id="5160552162177"><a href="%D7%AA%D7%99%D7%A7%D7%99%D7%99%D7%AA%20%D7%AA%D7%95%D7%9B%D7%9F.htm">תיקיית תוכן</a><ul><li rel="file" id="516054b57fbf2"><a href="test.htm">test</a></li></ul></li><li rel="file" id="516054b57fc2a"><a href="%D7%92%D7%9C%D7%99%D7%93%D7%94.htm">גלידה</a></li><li rel="file" id="516054b57fcd2"><a href="%D7%A0%D7%A1%D7%99%D7%95%D7%9F0.htm">נסיון0</a></li></ul></nav> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:45:11.943

**像您正在做的那样解析 HTML 文本非常容易出错，这几乎是不可能的。**

最好使用[DOM 解析器](http://www.php.net/manual/en/book.dom.php)来解析和修改 HTML，如下代码：

```
$file = 'foo.htm'; // set your value here
# fetch your HTML content here
$html = <<< EOF
<html>
<a href="http://example.com/foo.htm">Click link1</a> morestuff
<a href="http://www.example.com/foo/baz">Click www.example.com</a> morestuff
<a href="http://notexample.com/foo/bar">notexample.com</a> morestuff
<a href="http://example.com/foo.htm">Click link1</a>
</html>
EOF;
$doc = new DOMDocument();
libxml_use_internal_errors(true);
$doc->loadHTML($html); // loads your html
$xpath = new DOMXPath($doc);
// find all hrefs with $file in it
$nodelist = $xpath->query("//a[contains(@href, '" . $file . "')]");
// iterate thru found links
for($i=0; $i < $nodelist->length; $i++) {
    $node = $nodelist->item($i);
    # add class attribute to them
    $node->setAttribute('class', 'curPage');
}
echo $doc->saveHTML(); 
```

### 输出：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><a href="http://example.com/foo.htm" class="curPage">Click link1</a> morestuff
<a href="http://www.example.com/foo/baz">Click www.example.com</a> morestuff
<a href="http://notexample.com/foo/bar">notexample.com</a> morestuff
<a href="http://example.com/foo.htm" class="curPage">Click link1</a>
</body></html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:45:34.397

在命令行上执行此代码工作正常。不工作的部分对我们隐藏。

```
<?php

$file = "index";
$loadedMenu = '<a href="'.$file.'.htm">whatever</a>';

$loadedMenu=preg_replace("/a href=\"" . $file . ".htm\"/", "a href=\"" . $file . ".htm\" class=\"curPage\"", $loadedMenu);

echo $loadedMenu;
// <a href="index.htm" class="curPage">whatever</a>

?> 
```

也许 的初始值`loadedMenu`有单引号而不是双引号，或者是稍微不同的 href 值。

您可以使用更通用的正则表达式，捕获任何文件名而不是代码中的特定文件......

```
$loadedMenu=preg_replace('/a href="(.+?)"/', 'a href="$1" class="curPage"', $loadedMenu); 
```

# android - 在选定的列表项通过 json 在另一个活动中显示它们的详细信息后？

> ID：15985255
> 
> 赞同：0
> 
> 时间：2013-04-13T07:08:42.427
> 
> 标签：android, json, list, android-intent

我有一个活动，我在其中显示通过 json 提供的列表项。当我单击该项目时，我想进行下一个活动并显示与我选择的特定项目名称相关的详细信息。我可以将所选项目名称显示为另一个页面上的标题，但它不显示其他内容，所以请帮我解决这个问题，我是 android 新手。提前致谢.. ！！

这是我在 OnItemClickListener 上所做的代码：

```
locationList.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {
            // TODO Auto-generated method stub

             // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String distance = ((TextView) view.findViewById(R.id.distance)).getText().toString();
            String country = ((TextView) view.findViewById(R.id.country)).getText().toString();
            String city = ((TextView) view.findViewById(R.id.city)).getText().toString();
            String phone = ((TextView) view.findViewById(R.id.phone)).getText().toString();

         // Starting new intent
            Intent in = new Intent(getApplicationContext(), LocationDetails.class);
            in.putExtra(TAG_NAME, name);
            in.putExtra(TAG_DISTANCE, distance);
            in.putExtra(TAG_COUNTRY, country);
            in.putExtra(TAG_CITY, city);
            in.putExtra(TAG_PHONE, phone);

            startActivity(in);
        }
    }); 
```

在这个我得到了名字，但在其他上它显示 null 不知道为什么我给它所有的参数都是真的......请帮助我。

公共类 LocationDetails 扩展 Activity{

```
// JSON node keys
    private static final String TAG_NAME = "Name";
    private static final String TAG_PHONE = "Phone";
    private static final String TAG_ADDRESS = "Address";
    private static final String TAG_DISTANCE= "Distance";
    private static final String TAG_CITY = "City";
    private static final String TAG_COUNTRY= "Country";

    private TextView name,phone,address,distance,city,country;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.location_details);

        // getting intent data
        Intent in = getIntent();

        // Get JSON values from previous intent
        String Name = in.getStringExtra(TAG_NAME);
        String Phone = in.getStringExtra(TAG_PHONE);
        String Address = in.getStringExtra(TAG_ADDRESS);
        String Distance = in.getStringExtra(TAG_DISTANCE);
        String City = in.getStringExtra(TAG_CITY);
        String Country = in.getStringExtra(TAG_COUNTRY);

        // Displaying all values on the screen
        name= (TextView) findViewById(R.id.TxtView_name);
        phone=(TextView)findViewById(R.id.TxtView_PhoneField);
        address=(TextView)findViewById(R.id.TxtView_AddressField);
        distance=(TextView)findViewById(R.id.TxtView_DistanceField);
        city=(TextView)findViewById(R.id.TxtView_CityField);
        country=(TextView)findViewById(R.id.TxtView_CountryField);

        name.setText(Name);
        phone.setText(Phone);
        address.setText(Address);
        distance.setText(Distance);
        city.setText(City);
        country.setText(Country);
    }
} 
```

你告诉我我做到了，这发生了这是 logcat ......

```
04-13 13:01:25.810: D/dalvikvm(308): GC_FOR_MALLOC freed 14288 objects / 863832 bytes in 96ms
04-13 13:01:26.570: D/dalvikvm(308): GC_FOR_MALLOC freed 19218 objects / 1322032 bytes in 91ms
04-13 13:01:31.370: D/dalvikvm(308): GC_FOR_MALLOC freed 12650 objects / 889432 bytes in 87ms
04-13 13:01:31.880: I/MapActivity(308): Handling network change notification:CONNECTED
04-13 13:01:31.880: E/MapActivity(308): Couldn't get connection factory client
04-13 13:01:34.220: D/AndroidRuntime(308): Shutting down VM
04-13 13:01:34.220: W/dalvikvm(308): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
04-13 13:01:34.340: E/AndroidRuntime(308): FATAL EXCEPTION: main
04-13 13:01:34.340: E/AndroidRuntime(308): java.lang.NullPointerException
04-13 13:01:34.340: E/AndroidRuntime(308):  at com.linkites.myperspace.Surrounding$1.onItemClick(Surrounding.java:164)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.widget.AdapterView.performItemClick(AdapterView.java:284)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.widget.ListView.performItemClick(ListView.java:3382)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.widget.AbsListView$PerformClick.run(AbsListView.java:1696)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.os.Handler.handleCallback(Handler.java:587)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.os.Looper.loop(Looper.java:123)
04-13 13:01:34.340: E/AndroidRuntime(308):  at android.app.ActivityThread.main(ActivityThread.java:4627)
04-13 13:01:34.340: E/AndroidRuntime(308):  at java.lang.reflect.Method.invokeNative(Native Method)
04-13 13:01:34.340: E/AndroidRuntime(308):  at java.lang.reflect.Method.invoke(Method.java:521)
04-13 13:01:34.340: E/AndroidRuntime(308):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-13 13:01:34.340: E/AndroidRuntime(308):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-13 13:01:34.340: E/AndroidRuntime(308):  at dalvik.system.NativeStart.main(Native Method)
04-13 13:01:37.020: I/Process(308): Sending signal. PID: 308 SIG: 9 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:31:21.623

问题在于此行`Intent in = getIntent();`更改为以下内容：

```
Bundle bundle = getIntent().getExtras();

if(bundle!=null){
    String Name = bundle.getString(TAG_NAME);
    String Phone = bundle.getString(TAG_PHONE);
    String Address = bundle.getString(TAG_ADDRESS);
    String Distance = bundle.getString(TAG_DISTANCE);
    String City = bundle.getString(TAG_CITY);
    String Country = bundle.getString(TAG_COUNTRY);
} 
```

并确保`String name`将是相同的 while`putExtra`和`getStringExtra`。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-13T07:33:26.943

请参考以下教程，它可能对您有所帮助。

[http://www.androidhive.info/2012/01/android-json-parsing-tutorial/](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)

本教程的流程如下：

Step-01：第一个屏幕将联系人用户的详细信息显示到列表视图中

步骤 02：您从列表视图中选择一个用户

Step-03：然后第二个屏幕显示该选定用户的详细信息

阅读本教程，它肯定会帮助你...... :)

# java - 我想单独编写一个每个表对象及其列而不删除以前的记录

> ID：15985259
> 
> 赞同：0
> 
> 时间：2013-04-13T07:09:04.177
> 
> 标签：java, file

这是我的表类，其中包括 Column 具有 Column name 其数据类型和 bool （如果它不是主键）；并且此列列表组合成一个表。

我想通过调用 func public void SaveToFile(){} 来写这个我也尝试过一些东西，但我很困惑如何通过不删除或更改以前的记录来编写它（没有重写）；因为我想要一个数据库文件，其中每个表对象及其列由一个行空间分开。

你可以从 viewColumn() 那里得到帮助；func 正常工作。

```
import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;

public class Table 
{
private ArrayList<Column> columns;
private String NAME;
private static int count=0;

public Table() 
{
    columns = new ArrayList<Column>();
    NAME=new String();

    this.NAME="Table"+count;
    count++;
}

public void AddColumn(Column column)
{

    columns.add(column);

}

public void SaveToFile() throws IOException
{
    File f=new File("Database.txt");
    f.createNewFile();
    BufferedReader b =new BufferedReader(new FileReader(f));
    ArrayList<Column> col =new ArrayList<Column>();
    String S =b.readLine();
   // *********************

    //*********************
}

public boolean DeleteColumn(String name)
{
    for (Column c : columns)
    {
        if (c.getname().equals(name)) {return columns.remove(c);}
    }
    return false;
}

public void viewColumns()
{
      System.out.append(NAME+"  ");

    for(Column c: columns)
  {
      System.out.append("\n");
      System.out.append(c.getname()+"  ");
      System.out.append((CharSequence) c.getdatatype()+"  ");

if(c.getPK()==true)
{
    System.out.print(true);
}     

  }
}

public String getNAME() {

    return NAME;
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:05:54.607

在我看来，您正在尝试使用平面文件实现“数据库”。这不是一个好主意。这不是一个好主意的原因之一是很难更新和删除记录......而不重写整个文件。

我建议您使用真正的数据库（或 SQLite），而不是试图重新发明轮子。

* * *

> 不，我只想创建一个数据库文件……它是一个小项目。我只想记录数据库中有多少表以及每个表的列。

您正在实现的是一个描述数据库的迷你数据库。但是有更好的方法来做到这一点。

*   将信息存储在真实数据库中的新表中。

*   您尝试存储的信息已经存在于真实数据库中，并且可以通过 JDBC 元数据 API 获得。使用它而不是复制元数据。

除了在您的小型数据库实现中“重新发明轮子”的问题之外，您当前的方法是创建实际数据库的（冗余）第二个描述，该描述必须（以某种方式）与真实数据库的表结构元数据保持同步.

# java - 如何同时遍历两个 ArrayList？

> ID：15985266
> 
> 赞同：60
> 
> 时间：2013-04-13T07:09:44.170
> 
> 标签：java

我有两个数组列表，声明为：

```
ArrayList<JRadioButton> category = new ArrayList<JRadioButton>();
ArrayList<Integer> cat_ids = new ArrayList<Integer>(); 
```

这两个字段都包含完全相同的相同数量的值，它们在自然中实际上是对应的。

我知道我可以像这样迭代其中一个循环：

```
for(JRadioButton button: category)
{
     if(button.isSelected())
     {
           buttonName = button.getName();
           System.out.println(buttonName);       
     }
} 
```

但是，我想同时迭代这两个 LISTS。我知道它们的尺寸完全相同。我怎么做？

* * *

## 回答 #1

> 赞同：114
> 
> 时间：2013-04-13T07:19:09.970

您可以使用[`Collection#iterator`](http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#iterator--)：

```
Iterator<JRadioButton> it1 = category.iterator();
Iterator<Integer> it2 = cats_ids.iterator();

while (it1.hasNext() && it2.hasNext()) {
    ...
} 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2016-06-03T10:41:31.220

java8风格：

```
private static <T1, T2> void iterateSimultaneously(Iterable<T1> c1, Iterable<T2> c2, BiConsumer<T1, T2> consumer) {
    Iterator<T1> i1 = c1.iterator();
    Iterator<T2> i2 = c2.iterator();
    while (i1.hasNext() && i2.hasNext()) {
        consumer.accept(i1.next(), i2.next());
    }
}
//
iterateSimultaneously(category, cay_id, (JRadioButton b, Integer i) -> {
    // do stuff...
}); 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2014-07-04T08:36:42.810

如果您经常这样做，您可以考虑使用辅助函数将两个列表压缩成一对列表：

```
public static <A, B> List<Pair<A, B>> zip(List<A> listA, List<B> listB) {
    if (listA.size() != listB.size()) {
        throw new IllegalArgumentException("Lists must have same size");
    }

    List<Pair<A, B>> pairList = new LinkedList<>();

    for (int index = 0; index < listA.size(); index++) {
        pairList.add(Pair.of(listA.get(index), listB.get(index)));
    }
    return pairList;
} 
```

您还需要一个 Pair 实现。Apache commons lang 包有一个合适的。

有了这些，您现在可以优雅地迭代配对列表：

```
ArrayList<JRadioButton> category = new ArrayList<JRadioButton>();
ArrayList<Integer> cat_ids = new ArrayList<Integer>();

for (Pair<JRadioButton, Integer> item : zip(category , cat_ids)) {
   // do something with JRadioButton
   item.getLeft()...
   // do something with Integer
   item.getRight()...
} 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2013-04-13T07:13:10.163

试试这个

```
ArrayList<JRadioButton> category = new ArrayList<JRadioButton>();
ArrayList<Integer> cat_ids = new ArrayList<Integer>();
for (int i = 0; i < category.size(); i++) { 
    JRadioButton cat = category.get(i);
    Integer id= cat_ids.get(i);
    ..
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-13T07:25:12.313

尽管您希望两种尺寸相同，但为了更安全，请获取它们的尺寸并确保它们相等。

设该尺寸值为`count`。然后使用通用 for 循环，迭代直到计数并将值作为数组索引访问。如果 'i' 是索引，则在 for 循环中进行如下访问。

```
category[i] and cat_ids[i] 
```

`category[i].isSelected()`等等

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-13T07:34:40.327

```
ArrayList<JRadioButton> category = new ArrayList<JRadioButton>();
ArrayList<Integer> cat_ids = new ArrayList<Integer>();
Iterator<JRadioButton> itrJRB = category.iterator();
Iterator<Integer> itrInteger = cat_ids.iterator();
while(itrJRB.hasNext() && itrInteger.hasNext()) {
    // put your logic here
} 
```

# java - 如何做一个简单的循环线程队列

> ID：15985269
> 
> 赞同：-1
> 
> 时间：2013-04-13T07:10:55.553
> 
> 标签：java, multithreading, queue, priority-queue

我想做两节课。One ( `class Mover`) 正在更改 other( `class Window`) 用来重绘每个`1/30 seconds`. 我想让它们交替工作（Mover，Window，Mover，Window，Mover，Window，Mover，Window ...）。`Mover`在等待时正在计算，`Window`然后在重新绘制时正在`Mover`等待`Window`。

我正在寻找可以工作的线程队列

`q.next(); next thread is awakening and the current is going to the end to wait`

但没有找到。如何以最简单的方式做到这一点。

**将有许多搬运工和一扇窗户。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:33:44.913

由于任务应该可以互换运行，因此无需使用单独的线程来运行任务，因为很难获得正确的并发性。使用 ScheduledExecutorService 在单个线程中定期运行逻辑。

```
 ScheduledExecutorService ses = Executors.newScheduledThreadPool(1);
    ses.schedule(new Runnable(){
        public void run(){
            mover.run();
            window.run();
        }
    }, 1000/30, TimeUnit.MILLISECONDS); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:29:36.460

听起来您正在尝试解决生产者-消费者之类的问题。可能你可以在一些常见的锁上同步移动器/窗口，然后使用等待/通知功能。像下面的东西

```
class Lock {
  public static Lock INSTANCE = new Lock();
}

class Mover {

  public void move() {
    synchronized(Lock.INSTANCE) {
       //do the move
       Lock.INSTANCE.notifyAll();
       Lock.INSTANCE.wait();
    }
  }

}

class Window {

  public void paint() {
    synchronized(Lock.INSTANCE) {
       //do the paint
       Lock.INSTANCE.notifyAll();
       Lock.INSTANCE.wait();
    }
  }

} 
```

# java - jsp“无法编译”和“无法解析为类型”

> ID：15985271
> 
> 赞同：0
> 
> 时间：2013-04-13T07:11:31.123
> 
> 标签：java, sql, jsp, tomcat

我有一个从类目录中的包文件夹导入的 jsp 文件。当我尝试使用它时，我收到“无法编译”和“无法解析为类型”错误。这是我的代码。

```
<%@ page language="java" import="cs5530.*" %>
<html>
<head>
<script type="text/javascript">
function showInvalid()
{
    document.getElementById("invalid").style.display = 'block';
    document.getElementById("loginForm").reset();
}
</script>
</head>
<body>
<p>Welcome to FlixNet. Sign In</p>
<form name="loginForm" method="post" action="index.jsp">
    User Name: <input type="text" name="username"><br>
    Password: <input type="Password" name="password"><br>
    <input type="submit" value="Submit">
    <div id="invalid" style="display:none">
        <p>Invalid username or password</p>
    </div>
</form>
<%
Connector con = new Connector();
con.closeConnection();
%>
</body>
</html> 
```

这是错误

```
org.apache.jasper.JasperException: Unable to compile class for JSP: 

An error occurred at line: 23 in the jsp file: /index.jsp
Connector cannot be resolved to a type
20:     </div>
21: </form>
22: <%
23: Connector con = new Connector();
24: con.closeConnection();
25: %>
26: </body>

An error occurred at line: 23 in the jsp file: /index.jsp
Connector cannot be resolved to a type
20:     </div>
21: </form>
22: <%
23: Connector con = new Connector();
24: con.closeConnection();
25: %>
26: </body>

Stacktrace:
    org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:92)
    org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
    org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:439)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:334)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:312)
    org.apache.jasper.compiler.Compiler.compile(Compiler.java:299)
    org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:589)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:717) 
```

这是我的文件结构

```
public_html
    index.jsp
    |WEB-INF
        |classes
             mysql.jar
            |cs5530
                Connector.java
                Connector.class
                other java and class files. 
```

我的连接器类在包 cs5530 下，所以这不是问题。连接器类是我测试过的一个简单的数据库连接器类，它可以工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-12T16:56:33.737

将 jar 复制到`WEB-INF/lib/`目录中，然后重新启动您的 Web 容器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:14:58.607

请检查是否`Connector.class`真的进口。看起来你还没有导入它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:18:34.267

尝试

```
<%@ page import="cs5530.*" %> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-28T22:35:10.713

这是因为描述您尝试导入的包的 xxx.jar 文件必须直接位于 lib 文件夹中。例如：WebContent/WEB-INF/lib/xxx.jar。如果它只能在 /lib 中找到包文件夹，那么即使您的 .jar 在此包文件夹中，仍然足以创建只能解析为“包”而无法解析为“类型”的错误。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-13T07:25:58.800

这是因为我没有负责我的 Tomcat 服务器。显然，如果发生重大变化，则需要对其进行清洁。我的代码一尘不染。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-07-09T01:13:42.547

您在 .jsp 文件顶部**缺少导入：**

**<%@ page import="packageWhatever.packageWhatever.ClassName" %>**

问题的简化示例：

**JSP文件：**

# TOMCAT_PRJ_DIR\src\main\webapp\index.jsp

**错误的：**

```
<html><body><h1> 
    <%= Main.TEST_FUNCTION() %>
</h1></body></html> 
```

**正确的：**

```
<%@ page import="launch.Main" %>
<html><body><h1> 
    <%= Main.TEST_FUNCTION() %>
</h1></body></html> 
```

**正在导入的文件：**

# TOMCAT_PRJ_DIR\src\main\java\launch\Main.java

```
package launch;
.... imports here ....

public class Main {

    public static final String
    TEST_FUNCTION(){
        return( "[TEST_FUNCTION]" );
    };

    ...other code...   
}; 
```

*使用的堆栈：Java+Tomcat+Maven*

# mysql - 将字符串值选择为年份格式

> ID：15985272
> 
> 赞同：0
> 
> 时间：2013-04-13T07:11:31.137
> 
> 标签：mysql, sql

我有一个包含以下字段的表：

```
State_Code    School_Code    Established_Year    Data_Year
    12        12016837383          1962           2011-12
    12        12018383799          1996           2011-12
    12        12024895748          2007           2011-12
    12        12037849837          1987           2011-12 
```

在这里，所有这些字段都是 VARCHAR 类型的。

我想检索 1990 年之前建立的所有学校。我触发了这个查询：

```
Select 
  School_Code, 
  date_format(str_to_date(Established_Year,'%y'),'%y') as Year,   
  date_format(str_to_date(Data_Year,'%y'),'%y') as Data_Year 
from 
  Table1 
WHERE 
  Established_Year < 1990; 
```

但它返回这个：

```
School_Code    Year    Data_Year
12016837383     19      20
12037849837     19      20 
```

我也尝试使用`CONVERT`函数，如：

```
Select 
  School_Code, 
  Convert(Established_Year, YEAR) as Year 
from 
  Table1 
WHERE 
  Established_Year < 1990; 
```

但它抛出了这个错误：

```
Error Code: 1064
You have an error in your SQL syntax; check the manual that 
corresponds to your MySQL server version for the right syntax 
to use near 'YEAR' at line 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:13:31.353

您实际上可以将其转换为 int。

```
SELECT * 
FROM   TableName
WHERE  CAST(Established_Year AS UNSIGNED) < 1990 
```

**更新 1**

根据您的评论，如果您要检索 Data_Year 在 2010-11 之前的 School_Codes，您需要将其转换`Data_Year`为实际日期。

```
SELECT School_Code    
FROM   TableName
WHERE  STR_TO_DATE(CONCAT(Data_Year, '-01'), '%Y-%m-%d') < DATE('2010-11-01') 
```

# jquery - 向下平滑滚动并隐藏滚动条

> ID：15985278
> 
> 赞同：0
> 
> 时间：2013-04-13T07:12:22.753
> 
> 标签：jquery, animation, scroll, jquery-animate, scrollbar

我有一个有 2 个 div 的页面（#page1 和 #page2 在彼此之上，这正是浏览器窗口的大小（由 jQuery 计算）。当我点击 id: name 的 div 时，我希望页面向下平滑滚动到#page2\. 这一切正常。

但现在我想隐藏滚动条并阻止用户滚动。因此，用户可以进入该页面的唯一方法是单击#name div。但是当我尝试将正文设置为溢出时：隐藏页面将不再滚动到#page2。只有当我取出动画并且只使用scrollIntoView时。然后它跳转到#page2。这是我的代码：

```
$('#name').click(function() {
    //$('#page2')[0].scrollIntoView(true);
    $('#page2').scrollTo(500);
});

jQuery.fn.extend(
{
  scrollTo : function(speed, easing)
  {
    return this.each(function()
    {
      var targetOffset = $(this).offset().top;
      $('html,body').animate({scrollTop: targetOffset}, speed, easing);
    });
  }
}); 
```

如何结合动画和溢出：隐藏？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:55:27.787

这会将您从顶部平滑滚动到 300PX：

```
 jQuery('html,body').stop().animate({  scrollTop:  300 }, 400, function () {}); 
```

并禁用滚动条

```
$('body').css('overflow','hidden') 
```

# listview - ListFragment、ListView、AsyncTask、FragmentActivity

> ID：15985280
> 
> 赞同：0
> 
> 时间：2013-04-13T07:12:41.237
> 
> 标签：listview, interface, android-asynctask, android-arrayadapter, android-listfragment

我有一个实现接口的 FragmentActivity、扩展 AsyncTask 的类、ListFragment 和扩展 ArrayAdapter 的类。我从 FragmentActivity 调用 AsyncTask，AsyncTask 从 Internet 获取数据并通过 onPostExecute 方法中的接口将此数据返回给 FragmentActivity。我还有一个 xml 文件 - ListView 的自定义项和包含片段的 xml 文件。

RssItemListActivity.java

```
 public class RssItemListActivity extends FragmentActivity implements
    RssItemListFragment.Callbacks, SubscriptionsListener {

     @Override
 protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
      ...
           new Subscriptions(this).execute().get();
      ...
     }

...

    @Override
public void onGetDataSubscriptions(List<Group> result) {

}; 
```

订阅.java

```
 public class Subscriptions extends AsyncTask<String, Void, List<Group>> {

private SubscriptionsListener listener;

Subscriptions(SubscriptionsListener listener) {

    this.listener = listener;
}

@Override
protected List<Group> doInBackground(String... arg0) {
    return CallService(arg0[0]);
}

@Override
protected void onPostExecute(List<Group> result) {

    listener.onGetDataSubscriptions(result);

}

private List<Group> CallService(String token) {
    ...
    return entries;
}
    } 
```

SubscriptionsListener.java

```
 public interface SubscriptionsListener {

void onGetDataSubscriptions(List<Group> result);
    } 
```

activity_rssitem_list.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginLeft="16dp"
    android:layout_marginRight="16dp"
    android:orientation="vertical" >

     <fragment
    android:id="@+id/rssitem_list"
    android:name="ru.develop.yaggregator.RssItemListFragment"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_marginLeft="16dp"
    android:layout_marginRight="16dp"
    tools:layout="@android:layout/list_content" >
    </fragment>
    </LinearLayout> 
```

rss_item_subscription.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/rssitem_subscription"
    android:layout_width="match_parent"
    android:layout_height="?android:attr/listPreferredItemHeight"
    android:gravity="center_vertical"
    android:orientation="horizontal" >

    <TextView
    android:id="@+id/text1"
    android:layout_width="wrap_content"
    android:textAppearance="?android:attr/textAppearance"
    android:layout_height="wrap_content" />

    <TextView
    android:id="@+id/text2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearance"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true" />

    </RelativeLayout> 
```

我的数据包含在 FragmentActivity 的 onGetDataSubscriptions(List result) 方法中。以及如何将自定义适配器绑定到来自 FragmentActivity 的列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T04:51:21.503

您的问题有很多问题，但是如果您要问的只是如何将适配器绑定到 ListFragment，那么您所要做的就是调用

```
this.setListAdapter(adapter); 
```

在 ListFragment 中。在 onCreate 方法中创建和绑定适配器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T14:22:02.917

谢谢，但事实并非如此。我在类和方法 onGetDataSubscriptions 中添加了 List ITEMS：

```
 @Override
public void onGetDataSubscriptions(List<Group> result) {
        for (Group group : result) {
            ItemContent.ITEMS.add(group);
        }
 }; 
```

在 ListFragment 中我可以使用这个集合。或许不好...

# sql - SQL 脚本备份

> ID：15985281
> 
> 赞同：-4
> 
> 时间：2013-04-13T07:12:50.847
> 
> 标签：sql, sql-server

我正在尝试运行备份脚本，但它不会运行。我找不到错误。

```
BACKUP DATABASE [METROEXPRESS] TO  
DISK = N'D:\BackupTest\MCI_'+convert(varchar(8),getdate(),112)+'' WITH NOFORMAT, 
NOINIT,  NAME = N'METROEXPRESS-Full Database Backup', SKIP, NOREWIND, NOUNLOAD, 
STATS = 10
GO 
```

我现在得到了正确的脚本：

> DECLARE @MyFileName varchar(50) SELECT @MyFileName = (SELECT 'D:\BackupTest\MCI_' + convert(varchar(8),getdate(),112) + '.bak') 备份数据库 [METROEXPRESS] 到磁盘=@我的文件名

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:34:53.000

您不能对备份文件名进行任何“内联”计算。

但是，至少在 SQL Server 2012（我在其中测试过）中，您*可以*创建一个类型的变量`NVARCHAR(200)`并填充它并使用它：

```
DECLARE @DiskFile NVARCHAR(200)
SET @DiskFile = N'D:\Temp\MCI_' + CONVERT(NVARCHAR(8), GETDATE(), 112) + N'.bak'

BACKUP DATABASE [METROEXPRESS] TO  
DISK = @DiskFile WITH NOFORMAT, 
NOINIT,  NAME = N'METROEXPRESS-Full Database Backup', SKIP, NOREWIND, NOUNLOAD, 
STATS = 10 
```

我不确定这是否是 SQL Server 2012 中的一个新功能——我的印象是我在早期版本上尝试过这个并且无法让它工作（当时）——但现在它确实有效。

# python-2.7 - Python Turtle 图形键盘命令

> ID：15985288
> 
> 赞同：1
> 
> 时间：2013-04-13T07:13:54.600
> 
> 标签：python-2.7, keyboard-events, turtle-graphics

有人对使用键盘命令在 python 2.7 中控制海龟图形有任何见解吗？我对这个网站和其他网站进行了广泛的研究，觉得我在做正确的事情，但它只是不想为我工作。以下是我到目前为止所拥有的，谁能告诉我我哪里出错了？？？？

```
from turtle import *
turtle.setup(500, 500)
wn = turtle.Screen()
wn.title("Turtle Keys")
move = turtle.Turtle()
showturtle()

def k1():
move.forward(45)

def k2():
move.left(45)

def k3():
move.right(45)

def k4():
move.back(45)

wn.onkey(k1, "Up")
wn.onkey(k2, "Left")
wn.onkey(k3, "Right")
wn.onkey(k4, "Down")

wn.listen() 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T14:15:08.277

当您指定 import * 时，您不必使用 turtle.，还必须使用 mainloop() 读取（无限循环）来监视用户交互，在您的示例中 wn 也是不必要的。

这是工作代码...

```
from turtle import *
setup(500, 500)
Screen()
title("Turtle Keys")
move = Turtle()
showturtle()

def k1():
    move.forward(45)

def k2():
    move.left(45)

def k3():
    move.right(45)

def k4():
    move.back(45)

onkey(k1, "Up")
onkey(k2, "Left")
onkey(k3, "Right")
onkey(k4, "Down")

listen()
mainloop() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-11-09T16:05:23.030

```
import turtle

image = "C:/Python27/PythonProgramming/picture.gif"
screenr = turtle.Screen()

Lewi = turtle.Turtle()

screenr.addshape(image)
Lewi.shape(image)

Lewi.penup()

def up():
    Lewi.sety(Lewi.ycor()+10)

def down():
    Lewi.sety(Lewi.ycor()-10)

def left():
    Lewi.forward(-10)

def right():
    Lewi.forward(10)

screenr.onkey(up, "Up")
screenr.onkey(down, "Down")
screenr.onkey(right, "Right")
screenr.onkey(left, "Left")
screenr.listen()

turtle.mainloop() 
```

我最近才想出这个。希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-27T16:51:07.750

当您发出这样的命令时：

```
move = turtle.Turtle()
showturtle() 
```

你实际上是在和两个不同的海龟交谈，你在“移动”中的海龟对象和*默认*海龟。大多数屏幕和默认海龟方法可以在没有显式对象的情况下调用，因为它们也是顶级函数。为避免混淆，我建议您始终以这种方式导入海龟：

```
from turtle import Turtle, Screen 
```

并显式创建您自己的海龟和屏幕对象。这样您将无法调用替代函数，也不会感到困惑。考虑到上述内容重写了您的示例：

```
from turtle import Turtle, Screen

screen = Screen()

screen.setup(500, 500)
screen.title("Turtle Keys")

move = Turtle(shape="turtle")

def k1():
    move.forward(10)

def k2():
    move.left(45)

def k3():
    move.right(45)

def k4():
    move.backward(10)

screen.onkey(k1, "Up")
screen.onkey(k2, "Left")
screen.onkey(k3, "Right")
screen.onkey(k4, "Down")

screen.listen()

screen.exitonclick() 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-02-27T16:32:11.293

我发现使用上面的代码和我的示例代码，直到我单击窗口才注册按键。在我的示例中，乌龟会移动，但在我单击窗口之前不会发生左/右动作。

```
import turtle

def rightTurn():
   bob.rt(90)

def leftTurn():
   bob.lt(90)

wn=turtle.Screen()
wn.bgcolor('lightblue')

bob=turtle.Turtle()

wn.onkeypress(rightTurn, "Right")
wn.onkeypress(leftTurn, "Left")
wn.listen()

while True:
   bob.fd(1) 
```

# c - chroot() 是否需要 root 权限？

> ID：15985290
> 
> 赞同：9
> 
> 时间：2013-04-13T07:14:24.293
> 
> 标签：c, linux, root, chroot

一切都在问题之中。当我尝试将 chroot 与“.”一起使用时 或完整的路径名作为参数，perror 告诉我“不允许操作”。如果我的问题的答案是肯定的，还有其他方法可以更改根目录吗？（没有使用 strcmp() / strncmp() 的野蛮方法）

谢谢 ！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-13T07:17:19.627

`chroot`只能由`root`他/她/自己使用。不，不会有任何其他方式不影响安全性。

来自维基百科

只有 root 用户可以执行 chroot。这是为了防止用户将 setuid 程序放入特制的 chroot 监狱（例如，使用伪造的 /etc/passwd 和 /etc/shadow 文件），从而欺骗它进行权限提升。

看到[这里](http://en.wikipedia.org/wiki/Chroot)的文章。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-02-18T16:29:56.507

尝试一个名为**PRoot**的工具 ，它基于 ptrace 和 syscall 检测，其中一个可能的用例是实现类似 chroot 的东西。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-08-11T11:54:33.037

你可以试试`fakechroot chroot`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-01T19:56:54.877

从用户空间，您可以使用 schroot 命令。在 /etc/schroot/schroot.conf 中添加几行

```
[xenial]
description=Ubuntu 16.04 (xenial)
type=directory
directory=/srv/chroots/xenial
aliases=xenial-lts
profile=minimal
users=bob
personality=linux64 
```

然后从您的用户帐户：

```
schroot -c xenial 
```

# ruby-on-rails - 使图像可从每个 url、rails

> ID：15985293
> 
> 赞同：0
> 
> 时间：2013-04-13T07:14:46.613
> 
> 标签：ruby-on-rails, assets

我希望在我的 application.html.erb 文件中放置一个图像，以便它出现在每个页面上。图像在`public/legend.jpg`，我的 application.html.erb 中的代码是：

```
<img src="legend.jpg"/> 
```

此代码在我的根页面中加载图像，但是当我移动到嵌套 url 时，例如：

```
http://localhost:3000/section/32 
```

我收到以下错误：

```
Failed to load resource: the server responded with a status of 500 (Internal Server Error) 
http://localhost:3000/section/legend.jpg 
```

我已经尝试过使用所有的 Rails 助手之王，但我似乎无法从每个 url 获取图像。感谢所有帮手！

编辑：照片在公共文件夹中时加载，但仅在根 url 中...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:09:22.567

使用`image_tag`助手：

```
<%= image_tag 'legend.jpg' %> 
```

[http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/image_tag](http://apidock.com/rails/ActionView/Helpers/AssetTagHelper/image_tag)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:12:39.950

所有的图片，你可以放在 assets/images/legend.jpg 里面

然后，你可以使用 <%= image_tag 'legend.jpg' %> ，那么它应该没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:19:07.573

你应该这样做，

```
<img src="/assets/legend.jpg"/> 
```

有关更多详细信息，请阅读[资产管道文档](http://guides.rubyonrails.org/asset_pipeline.html)

# iphone - 带有 UIpagecontroller 的 UIActionsheet

> ID：15985304
> 
> 赞同：2
> 
> 时间：2013-04-13T07:15:40.003
> 
> 标签：iphone, ios, ios5, ios6

http://i.stack.imgur.com/t2MHp.png">

我想创建像我发布的这张图片一样的操作表视图。请建议我如何使用 UIActionsheet 创建这个视图。是否可以在 uiactionsheet 中添加视图或者它是如何可能的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:16:56.443

看看这个控件，它应该满足你的需求： http: [//www.cocoacontrols.com/controls/aaactivityaction](http://www.cocoacontrols.com/controls/aaactivityaction)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:21:24.707

您可以使用`UIActivityViewController`来实现您所附加的设计。

您可以在苹果开发者文档中找到类似的 UI：http: [//developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556 -CH13-SW121](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/UIElementGuidelines/UIElementGuidelines.html#//apple_ref/doc/uid/TP40006556-CH13-SW121)

# c# - 定义类以生成 HTML 文件

> ID：15985306
> 
> 赞同：1
> 
> 时间：2013-04-13T07:15:57.673
> 
> 标签：c#, html, class

我正在尝试使用一个类生成一个 HTML 文件，但它不会生成多个 HTML 标签，我想知道您是否可以告诉我我可以做什么才能在我的 HTML 文件中生成多个标签。这是代码：

```
public class GuidClass
{
    public string htmlstringfirst = "<HTML><HEADER><title>My Web-page</title></HEADER><BODY>";
    public string htmlstringend = "</form></BODY></HTML>";
    public string htmlstring = "";
    public GuidClass(string title, string type, string defaultvalue)
    {
        htmlstring += "\r\n<input id = " + '"' + System.Guid.NewGuid().ToString() + '"' + "title =" + '"' + title + '"' + "type=" + '"' + type + '"' + ">" + defaultvalue + "</input><br>";
    }
}

private void button1_Click(object sender, EventArgs e)
{            
    GuidClass objGuid = new GuidClass(textBox1.Text, textBox2.Text, textBox3.Text);
    using (FileStream fs = new FileStream(@"D:\test.htm", FileMode.Create))
    {
        using (StreamWriter writer = new StreamWriter(fs, Encoding.UTF8))
        {
            writer.Write(objGuid.htmlstringfirst + objGuid.htmlstring + objGuid.htmlstringend);
        }
    }
    htmlLoadWebbrowser1.LoadHTML(@"D:\test.htm");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:42:13.397

为什么不使用 WebBrowser 控件，而不是像这样调用它：

```
 htmlLoadWebbrowser1.LoadHTML(@"D:\test.htm"); 
```

你可以这样称呼它

```
 webBrowser1.Navigate(@"D:\test.htm"); 
```

我使用您自己的代码进行了测试，并且可以正常工作。

其次，我认为您也错过了一件小事，但我认为这很重要，即在您的代码中：

```
public string htmlstringfirst = "<HTML><HEADER><title>My Web-page</title></HEADER><BODY>"; 
```

你没有忘记添加表单元素开始标签吗？像这样：

```
public string htmlstringfirst = "<HTML><HEADER><title>My Web-page</title></HEADER><BODY><form>"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:45:11.380

的构造函数`GuidClass`附加到`htmlstring`. 但就目前而言，每次您创建一个新的`GuidClass`时，它都会有自己的副本`htmlstring`初始化为一个空字符串，然后附加到构造函数中。

相反，您需要在调用之间存储以前的值。

使其工作的“最少代码更改”方法是更改

```
public string htmlstring = ""; 
```

至

```
public static string htmlstring = ""; 
```

（其中`static`意味着类的所有实例共享相同的变量）。

您还需要将调用它的点从 更改`objGuid.htmlstring`为`GuidClass.htmlstring`。

虽然这将使您在短期内工作，但可以进行许多改进以使代码更整洁且更易于维护。Stack Overflow 并不是真正提供此类反馈的地方，但[https://codereview.stackexchange.com/](https://codereview.stackexchange.com/)上的乐于助人的人将能够为您指明正确的方向。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-13T07:48:24.050

而不是使用这种情况下使用`web-browser`控件，您可以轻松地将元素插入网络 -`browser`作为一个孩子，使用网络浏览器您有很多优势。

您可以构建页面并保存 html 页面。这是一个简单的示例，但您可以做更多：

```
//From.cs
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }
    Html_Class _Html_Class = new Html_Class();
    private void Add_Element_Click(object sender, EventArgs e)
    {
        HtmlElement userelement = _Html_Class.Create_Tag("p");
        userelement.InnerText = "Something";
        _Html_Class.Addend_Child(userelement);
        var s = _Html_Class.Get_Source();
    }

}
//Html_Class.cs
public class Html_Class
{
    private WebBrowser wb = new WebBrowser();

    public Html_Class()
    {
       wb.DocumentText = "<HTML><HEADER><title>My Web-page</title></HEADER><BODY></BODY></HTML>";
    }

    public HtmlElement Create_Tag(string tagname)
    {
        return  wb.Document.CreateElement("tagname");
    }

    public void Addend_Child(HtmlElement element)
    {
        wb.Document.Body.AppendChild(element);
    }

    public string Get_Source()
    {
     return (wb.Document.DomDocument as mshtml.HTMLDocument).documentElement.outerHTML;
    }
} 
```

# google-app-engine - 定期删除objectify中的条目

> ID：15985309
> 
> 赞同：1
> 
> 时间：2013-04-13T07:16:03.113
> 
> 标签：google-app-engine, cron, objectify

我将 Google App Engine 与 Objectify 一起使用，并希望每 5 分钟删除一次数据库中的一些条目。实现这一目标的最佳方法是什么？我应该使用 Google App Engine 的 ThreadManager 还是 cron 作业？还是有其他方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T12:22:43.677

听起来您希望每 5 分钟执行一次：

*   编写数十万个实体
*   聚合数十万个实体
*   删除数十万个实体

使用 map/reduce 可以做到这一点。但是，它会很昂贵（每天数百美元），并且您将遇到时间问题 - 尤其是当任务队列备份时。

您应该强烈考虑将这些数据存储在 GAE 之外。获取一个 Google Compute Engine 帐户并在那里设置一个 mongodb 或 redis 实例。甚至将其托管在 AWS 上。GAE 不太适合这种工作负载，但它不是“全有或全无”——您可以轻松地使用云中其他部分的服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T09:05:14.590

[Cron](https://developers.google.com/appengine/docs/java/config/cron)听起来很符合这里的要求，但我担心需要删除的实体的规模。（根据评论，每五分钟最多几十万）。删除这么多实体需要相当长的时间，很可能超过五分钟，甚至可能超过前端 cron 处理程序的 10 分钟最后期限。

一种可能的解决方案是从[后端实例](https://developers.google.com/appengine/docs/java/backends/overview)中删除，因为后端可以在没有任何截止日期的情况下运行。Cron 可用于启动查询待删除实体的进程，使用仅键查询获取其键，然后在多个[后台线程](https://developers.google.com/appengine/docs/java/backends/overview#background_threads)中删除实体。

由于进程可以无限期运行，在线程报告删除完成后，您可以立即再次查询并删除下一组实体。您可以在后端使用全局内存锁来确保后续的 cron 请求不会启动单独的进程，但如果它检测到该进程已经运行，则静默退出。所以这里 cron 仅用作删除过程的保持活动信号。

作为旁注，请注意，如此频繁地以这种规模查询和删除实体在数据存储操作成本方面可能会非常昂贵。

# google-maps-api-3 - 通过美国的经纬度 api 时的零结果

> ID：15985314
> 
> 赞同：-2
> 
> 时间：2013-04-13T07:16:23.600
> 
> 标签：google-maps-api-3, google-places-api

谷歌地方 API：

朋友们，有谁知道美国在 Google place API 中添加的纬度是多少，因为我想获取整个美国的麦当劳（或任何其他企业）的所有地址，因为我需要通过美国的纬度放置 API，但是当我在 API 中为美国传递 lat-long 时，它给出了零结果，并且当我传递美国任何州的 lat-long 时，相同的 API 工作正常并给出准确的结果。对此有什么解决方案。 ? 如果有人用过，

请建议..!! 谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T11:14:38.877

Places API 不会返回美国的所有麦当劳。它最多返回 60 个结果（一次 20 个），或者 RadarSearch 一次返回最多 200 个位置（但细节较少，成本乘数为 10 倍）。如果你只是给它通过地理编码返回的坐标美国 [United States (37.09024, -95.712891)]，它位于堪萨斯州的某个地方，取决于你调用的服务的哪个部分（附近搜索、文本搜索或雷达搜索），你可能会或可能不会得到您期望的结果。

但是[，在 Google Maps API v3 中使用 USA 并使用 Places Library 搜索 McDonald](http://www.geocodezip.com/v3_10minuteDriveG.html?address=USA&q=McDonalds)确实给了我结果。您必须在请求中执行其他操作才能导致 ZERO_RESULTS。

从[文档中](https://developers.google.com/places/documentation/search#PlaceSearchPaging)：

*   默认情况下，每个附近搜索或文本搜索每个查询最多返回 20 个建立结果；但是，每次搜索最多可以返回 60 个结果，分成三个页面。

从[文档](https://developers.google.com/places/documentation/search#RadarSearchRequests)

*   Google Places API 雷达搜索服务允许您一次搜索多达 200 个地点，但其详细程度低于通常从文本搜索或附近搜索请求返回的信息。
*   雷达搜索与文本搜索和附近搜索共享相同的[使用限制和配额；](https://developers.google.com/places/policies#usage_limits)但是，雷达搜索服务会受到五倍的乘数。也就是说，您发出的每个 Radar Search 请求都将计为 5 个请求对您的配额

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:43:53.710

Places Library 的[Nearby Search](https://developers.google.com/maps/documentation/javascript/places#place_search_requests)不需要 a `LatLng`，它需要一个`LatLngBounds`- ，它是一个边界矩形。提供一个`LatLngBounds`包含美国大陆（或您想要的任何地区）的，它应该可以工作。

你使用什么`LatLngBounds`价值观？

# c# - 如何依次从sql数据库中的表中获取下一条记录

> ID：15985318
> 
> 赞同：0
> 
> 时间：2013-04-13T07:16:31.533
> 
> 标签：c#, sql-server, database, sql-server-2008, stored-procedures

我正在开发一个应用程序，我需要将电子邮件发送给表中的所有用户。由于用户数以百万计，因此一次选择所有用户不会有任何好处。有什么方法可以让我在一组 20 或 30 个用户中发送电子邮件，以便下次动态选择接下来的 20 个用户并发送电子邮件。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:49:51.280

如果您使用的是 SQL Server 2005 或更高版本，则可以使用 Row_Number() 来获取所需的用户数。

例子：

```
Select * from (Select *, Row_number()over (order by UserEmail) as Row from Userprofile) T
Where T.Row Between 30 and 40 
```

但是，如果您使用的是 SQL Server 2000，则没有像 Row_Number() 这样的东西。您将不得不使用 IDENTITY() 函数和一个临时表。

例子：

```
SELECT IDENTITY(int, 1,1) AS RowNumber, UserEmail INTO #temp 
    FROM Userprofile ORDER BY UserEmail ASC
SELECT * FROM #Temp Where #Temp.RowNumber Between 10 and 20 ORDER BY RowNumber DROP TABLE #Temp 
```

确保删除临时表。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:09:17.153

创建一个新表*EmailReceivers*，在其中填写您希望发送到的所有电子邮件地址。然后从该表中选择前 30 个，一旦您完成发送电子邮件，您就从该表中删除该记录。当桌子是空的时，你就完成了。

```
create table EmailReceivers
(
    Id bigint identity(1, 1) primary key clustered,
    EmailAddress varchar(5000)
)  

-- Now fill this table with all the email addresses
insert EmailReceivers(EmailAddress)
select Email from users....

-- Select top 30 to send
select top 30 Id, EmailAddress from EmailReceivers order by Id

-- When done sending, delete the receiver from the table
delete EmailReceivers where id = @id 
```

执行这么多的删除操作可能会影响性能，因此您可能希望分块删除。为此，请删除您之前选择的所有行。只需从该批次中获取最高 ID 并删除 ID 低于或等于该 ID 的所有行。

```
delete EmailReceivers where id <= @maxIdFromLastBatch 
```

# c# - ServiceStack - 在 Persons 上路由 Persons 必须以“/”开头

> ID：15985321
> 
> 赞同：1
> 
> 时间：2013-04-13T07:17:12.720
> 
> 标签：c#, routing, servicestack

[我正在尝试使用 wiki 页面https://github.com/ServiceStack/ServiceStack/wiki/Routing](https://github.com/ServiceStack/ServiceStack/wiki/Routing)上指定的以下行在 ServiceStack 中自动注册路由

```
Routes.AddFromAssembly(typeof(PersonsService).Assembly); 
```

该程序可以编译，但是当我运行它时出现错误（Persons 是我的 DTO）：

```
Route Persons on Persons must start with a '/' 
```

我在 ServiceStack Git 上搜索了 ServiceRoutesExtensions 类并导入到我的解决方案中。我发现它有方法

```
private static void AddRoute(this IServiceRoutes routes, Type requestType, string allowedVerbs) 
```

我调试了这个方法，发现requestType参数前面没有“/”；routes.Add from metadata 的签名是

```
IServiceRoutes Add(Type requestType, string restPath, string verbs); 
```

因此，restPath 参数映射到 requestType.Name：

```
private static void AddRoute(this IServiceRoutes routes, Type requestType, string allowedVerbs)
    {
        routes.Add(requestType, requestType.Name, allowedVerbs);

        var hasIdField = requestType.GetProperty(IdUtils.IdField) != null;
        if (!hasIdField) return;

        var routePath = requestType.Name + "/{" + IdUtils.IdField + "}";
        routes.Add(requestType, routePath, allowedVerbs);
    } 
```

我将方法修改为：

```
 private static void AddRoute(this IServiceRoutes routes, Type requestType, string allowedVerbs)
    {
        routes.Add(requestType, "/" + requestType.Name.ToLower(), allowedVerbs);

        var hasIdField = requestType.GetProperty(IdUtils.IdField) != null;
        if (!hasIdField) return;

        var routePath = "/" + requestType.Name.ToLower() + "/{" + IdUtils.IdField + "}";
        routes.Add(requestType, routePath, allowedVerbs);
    } 
```

现在一切正常，但我不知道我是否错过了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T15:11:22.437

这是一个刚刚[通过此提交修复](https://github.com/ServiceStack/ServiceStack/commit/6d852d6e816edfbcfd00fbf0b0494af788fc0596)的错误。将在下一个版本的 ServiceStack (v3.9.44+) 中提供。

# wpf - 来自 ReactiveAsyncCommand 的 UI 访问

> ID：15985323
> 
> 赞同：1
> 
> 时间：2013-04-13T07:17:24.513
> 
> 标签：wpf, ui-thread, reactiveui

我想注册一个打开文件并处理它的异步命令。

```
OpenFileCommand = new ReactiveAsyncCommand();
OpenFileCommand.RegisterAsyncAction(_ =>
{
    var path = GetOpenFilePath(); // This needs to be on the UI thread
    if (String.IsNullOrEmpty(path))
        return;

    ProcessFile(path);
}); 
```

类似于这个问题

[带用户确认的异步命令执行](https://stackoverflow.com/questions/12297729/asynchronous-command-execution-with-user-confirmation)

但我不确定如何在这里应用该答案。我需要将路径值传递给处理器。

我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T23:31:42.023

hack 方法是在 ViewModel 中创建 OpenFileCommand，但`RegisterAsyncAction`在 View 中调用，这有点恶心。

您可以做的另一件事是将一个接口注入到 ViewModel 中，该接口代表通用文件对话框（即打开文件选择器）。从测试的角度来看，这非常棒，因为您可以模拟用户做各种事情。我将其建模为：

```
public interface IFileChooserUI
{
    // OnError's if the user hits cancel, otherwise returns one item
    // and OnCompletes
    IObservable<string> GetOpenFilePath();
} 
```

现在，您的 async 命令变为：

```
OpenFileCommand.RegisterAsyncObservable(_ => 
    fileChooser.GetOpenFilePath()
        .SelectMany(x => Observable.Start(() => ProcessFile(x)))); 
```

或者，如果你想摆脱等待（如果你使用的是 RxUI 4.x 和 VS2012，你可以）：

```
OpenFileCommand.RegisterAsyncTask(async _ => {
    var path = await fileChooser.GetOpenFilePath();
    await Task.Run(() => ProcessFile(path));
}); 
```

# javascript - Ajax jQuery 中数据过滤器的功能

> ID：15985328
> 
> 赞同：3
> 
> 时间：2013-04-13T07:18:52.263
> 
> 标签：javascript, ajax, jquery

我无法清楚地了解 jquery 中 datafilter 的用途。

在搜索时，我发现了以下
数据过滤器：用于处理 XMLHttpRequest 的原始响应数据的函数。这是一个预过滤功能，用于清理响应。

谁能给我一个明确的想法？我是 jquery 和 Ajax 的新手。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-10T19:41:57.800

它可能用于的一个示例可能是自定义数据压缩实现。假设您要返回 xml 或 json 并且您想要压缩的是。您可能会添加一个 dataFilter 来解压缩原始数据并返回它。

请注意，dataFilter 在解析器之前运行。因此，只要您返回有效的 json、xml 等，解析器就会出现并以正确的类型传递响应。

前任：

```
$.ajaxSetup({dataFilter:decompressRaw}); //global decompression for all calls from the page

function decompressRaw(data, dataType){
     return someDecompressionFunction(data);
} 
```

# makefile - 凌晨4点的美好时光 早上用 Makefiles

> ID：15985331
> 
> 赞同：-2
> 
> 时间：2013-04-13T07:19:15.877
> 
> 标签：makefile

```
CFLAGS = -Wall

libs = evento.h

main:  main.c $(libs)
        gcc $(CFLAGS) -o main main.c $(libs) 
```

我有这个 makefile 并且可以工作，问题是我需要让 eventto.h 来自项目文件夹中名为 /include 的文件夹，并创建另一个名为 /lib 的文件夹，其中包含文件 libeventos.a。我已经阅读了很多教程，但我真的不明白。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:08:31.057

假设目录`main.c`在有子目录`include`和`lib`. 请注意，makefile 中的“gcc”前面有一个 TAB 字符。

库 libevento.a 中的 main.c 链接。

main.c 有一个依赖项 ./include/evento.h

```
FLAGS = -Wall
CFLAGS=-I../include $(FLAGS)

main:  main.c ./include/evento.h
    gcc $(CFLAGS) -o main main.c -L./lib -levento 
```

# php - 如何回显 SQL 数据库中特定行的 json 数组？

> ID：15985332
> 
> 赞同：0
> 
> 时间：2013-04-13T07:19:19.807
> 
> 标签：php, echo, json

如何修复以下代码以回显 SQL 数据库表中特定行的 JSON 编码数组？因为我现在得到的是：{“邮箱”：[]}

这是我的代码：

```
$query = "SELECT * FROM messages WHERE touser='$from'";

$result = mysql_query($query)
    or die("\n\ndatabase error!\n". mysql_error());

$mailbox = array();

while($row = mysql_fetch_assoc($result)){
$mailbox[] = $row;
}

echo "{ \"mailbox\":".json_encode($mailbox)." }"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:28:35.280

你确定`$mailbox`数组包含任何东西吗？我敢打赌，你的 mysql 查询返回一个空的结果集。

在 while 循环内插入一个`echo "Got a row: \n"; print_r($row);`来检查这一点。

如果这没有给出任何结果，那么您的 SQL 是错误的，或者您的表不包含任何数据。要查看实际查询，请插入`echo "Query: '$query'\n"`。现在手动运行查询而不涉及 php。

# razor - 用户未处理 AutoMapperMappingExtensions

> ID：15985333
> 
> 赞同：0
> 
> 时间：2013-04-13T07:19:22.640
> 
> 标签：razor, asp.net-mvc-4, automapper, automapper-2

我正在开发一个应用程序，它涉及 MVC4 中带有图像和文本的下拉列表。例如，显示带有国家名称的图像（国家国旗）。我用过 AutoMapper、IEnumerable。它说错误，因为**AutoMapperMappingExtensions 未被用户处理**。

描述为

```
Missing type map configuration or unsupported mapping.

Mapping types:
Country -> ImageSelectListItem
MvcWebRole.Models.Country -> System.Web.Mvc.Html.ImageSelectListItem

Destination path:
IEnumerable`1[0]

Source value:
MvcWebRole.Models.Country 
```

*Controller*中发生的错误 为

```
Mapper.Map<IEnumerable<Country>, IEnumerable<ImageSelectListItem>>(countryList) 
```

*索引.cshtml*

```
@Html.DropDownListFor 
```

在cshtml错误描述为

```
The type arguments for method
'System.Web.Mvc.html.ImageselectExtensions.dropdownlistfo<TModel,TProperty> (
    System.Web.mvc.htmlhelper<TModel>,
    System.Linq.Expression<System.Func<TModel,TProperty>>,
    string,
    System.Collections.Generic.IEnumerable<System.Web.Mvc.Html.ImageSelectListItem>,
    Object)'
cannot be inferred from the usage. Try Specifying the type arguments explicitly. 
```

# ruby-on-rails - 没有路线匹配 {:controller=>"items", :action=>"complete", :list_id=>1, :id=>nil}

> ID：15985334
> 
> 赞同：1
> 
> 时间：2013-04-13T07:19:26.080
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rails-routing

所以本地主机工作。当我单击列表的“显示”时，URL 会转到 localhost/lists/1 并引发上面的错误。

这是我的 routes.rb 文件：

```
resources :lists do
  resources :items
end

match 'lists/:list_id/items/:id/complete' => 'items#complete', :as => :complete_item

root :to => 'lists#index' 
```

这是我的 show.html.erb 文件（列表视图）：

```
<p id="notice"><%= notice %></p>

<p>
  <b>Name:</b>
  <%= @list.name %>
</p>

<p>
  <b>Description:</b>
  <%= @list.description %>
</p>

<ul>
    <% @list.items.each do |item| %>
    <li><%= item.name %> <%= button_to "Complete", complete_item_path(@list.id,item.id) %></li>
    <% end %>
</ul>

<%= form_for [@list, @item] do |form| %>
<p><%= form.text_field :name %> <%= form.submit %></p>
<% end %>

<%= link_to 'Edit', edit_list_path(@list) %> |
<%= link_to 'Back', lists_path %> 
```

这是我的 items_controller.rb 文件：

```
class ItemsController < ApplicationController

    attr_accessor :completed

    respond_to :html, :xml, :js

    def create
        @list = List.find(params[:list_id])
        @item = @list.items.new(params[:item])
        if @item.save
            flash[:notice] = "Item was created."
            redirect_to list_url(@list)
        else
            flash[:error] = "Could not add item, try again later."
            redirect_to list_url(@list)
        end
    end 

    def complete
        @list = List.find(params[:list_id])
        @item = @list.items.find(params[:id])
        @item.completed = true
        @item.save
        redirect_to list_url(@list)
    end

end 
```

这是我在运行 rake 路线时得到的：

```
 list_items GET    /lists/:list_id/items(.:format)              items#index
               POST   /lists/:list_id/items(.:format)              items#create
 new_list_item GET    /lists/:list_id/items/new(.:format)          items#new
edit_list_item GET    /lists/:list_id/items/:id/edit(.:format)     items#edit
     list_item GET    /lists/:list_id/items/:id(.:format)          items#show
               PUT    /lists/:list_id/items/:id(.:format)          items#update
               DELETE /lists/:list_id/items/:id(.:format)          items#destroy
         lists GET    /lists(.:format)                             lists#index
               POST   /lists(.:format)                             lists#create
      new_list GET    /lists/new(.:format)                         lists#new
     edit_list GET    /lists/:id/edit(.:format)                    lists#edit
          list GET    /lists/:id(.:format)                         lists#show
               PUT    /lists/:id(.:format)                         lists#update
               DELETE /lists/:id(.:format)                         lists#destroy
 complete_item        /lists/:list_id/items/:id/complete(.:format) items#complete
          root        /                                            lists#index 
```

这是我的架构文件：

```
ActiveRecord::Schema.define(:version => 20130412080044) do

  create_table "items", :force => true do |t|
    t.string   "name"
    t.string   "description"
    t.boolean  "completed",   :default => false
    t.integer  "list_id"
    t.datetime "created_at",                     :null => false
    t.datetime "updated_at",                     :null => false
  end

  add_index "items", ["list_id"], :name => "index_items_on_list_id"

  create_table "lists", :force => true do |t|
    t.string   "name"
    t.string   "description"
    t.datetime "created_at",  :null => false
    t.datetime "updated_at",  :null => false
  end
end 
```

显示 lists_controller.rb 的操作

```
def show
    @list = List.find(params[:id])
    @item = @list.items.new

    respond_to do |format|
      format.html # show.html.erb
      format.json { render json: @list }
    end
  end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:26:07.150

您可能需要为 complete_item_path 方法使用参数哈希：

```
complete_item_path( :list_id => @list.id, :id => item.id) 
```

第二件事是@list.items 集合中有一个未保存的项目。生成链接时，您需要忽略它：

```
<ul>
  <% @list.items.each do |item| %>
    <% if item.id %>
      <li><%= item.name %> <%= button_to "Complete", complete_item_path(@list.id,item.id) %></li>
    <% end %>
  <% end %>
</ul> 
```

# maven - IntelliJ IDEA 中的依赖和依赖查看器选项卡

> ID：15985337
> 
> 赞同：36
> 
> 时间：2013-04-13T07:19:48.053
> 
> 标签：maven, intellij-idea, pom.xml

单击 pom.xml 文件时使用 STS 我可以查看这些选项卡

```
Overview
Dependencies
Dependcy Hierarchy
Effective POM
pom.xml 
```

如何使用 intelliJ IDEA，特别是依赖层次结构查看所有这些选项卡？我试图通过它来查看它，`right click pom.xml > Maven > Show Dependencies` 但它只显示一个包含我的项目名称的矩形......

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2014-11-20T09:05:37.223

To view effective pom you can right click your pom.xml > Maven > Show effective POM

![enter image description here](https://i.stack.imgur.com/BrfsW.png)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-10-25T05:56:36.900

我发现在 IntelliJ 中获得有效 POM 的最简单方法是使用以下命令添加 maven 运行配置：

```
help:effective-pom -Doutput=effective-pom.xml 
```

这将在您的项目文件夹中创建一个名为 Effective-pom.xml 的文件。如果您需要更新它，只需再次运行配置即可。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-10-04T18:53:47.953

我遇到了同样的问题，所以我检查了我的 settings.xml 的 maven 文件，我意识到我没有一个“干净”的`settings.xml`文件，因为我有一个自定义镜像 URL。解决此问题的唯一方法是将[其他答案](https://stackoverflow.com/a/47493222/922457)存储库和插件包含在我的`settings.xml`而不是`pom.xml`; 然后，当我去 IntelliJ 时，它开始加载所有依赖项。上一个过程完成后，我可以看到有效的 Pom 文件（按照@Ipandzic 的回答）

# python - 如何在 Selenium Webdriver 2 Python 中获取当前 URL？

> ID：15985339
> 
> 赞同：222
> 
> 时间：2013-04-13T07:20:01.270
> 
> 标签：python, selenium, selenium-webdriver

在 Selenium 中进行一系列导航后，我试图获取当前的 url。我知道 ruby​​ 有一个名为 getLocation 的命令，但我找不到 Python 的语法。

* * *

## 回答 #1

> 赞同：396
> 
> 时间：2013-04-13T08:53:39.323

使用 Python 2 的 current_url 元素：

```
print browser.current_url 
```

对于 Python 3 和更高版本的 selenium：

```
print(driver.current_url) 
```

* * *

## 回答 #2

> 赞同：89
> 
> 时间：2015-03-12T08:08:08.890

根据这个[文档](http://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver.current_url)（一个充满好东西的地方:)）：

```
driver.current_url 
```

或者，请参阅官方文档： [https ://www.selenium.dev/documentation/en/webdriver/browser_manipulation/#get-current-url](https://www.selenium.dev/documentation/en/webdriver/browser_manipulation/#get-current-url)

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-08-02T07:53:07.340

Selenium2Library 有 get_location()：

```
import Selenium2Library
s = Selenium2Library.Selenium2Library()
url = s.get_location() 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-04-02T23:42:51.493

另一种方法是检查 chrome 中的 url 栏以查找元素的 id，让您的 WebDriver 单击该元素，然后使用 selenium 中的键通用功能发送用于复制和粘贴的键，然后将其打印出来或将其存储为变量等。

# c# - C# 在椭圆之间画线

> ID：15985346
> 
> 赞同：0
> 
> 时间：2013-04-13T07:20:42.010
> 
> 标签：c#, visual-studio-2012, windows-phone-8-emulator

我正在制作一个程序，该程序涉及在给定的“椭圆”之间绘制线条。当我尝试运行模拟器并且鼠标进入第一个“椭圆”时，我遇到了将椭圆转换为点的异常处理问题。如果推荐的话，我可以用不同的方式来做，我所需要的就是能够在给定的坐标之间画一条线，每个坐标都属于各自的椭圆。帮助？

```
 Point old;
    List<String> DrawnLines = new List<String>();
    private void CheckPoint(object sender, System.Windows.Input.MouseEventArgs e)
    {

        Point selectedEllipse = (Point)sender;

        if (old.Equals(null))
        {
            old.Equals(sender);
        }
        else
        {
            if (selectedEllipse.Equals(old) == false) 
    //This is a check to make sure that a different point has been hit
            {
                System.Windows.Shapes.Line connectline = new System.Windows.Shapes.Line();
                connectline.Width = 10;
                connectline.X1 = old.X;
                connectline.Y1 = old.Y;
                connectline.X2 = selectedEllipse.X; //.Margin.Left;
                connectline.Y2 = selectedEllipse.Y; //.Margin.Top;
                drawCanvas.Children.Add(connectline);
                DrawnLines.Add((old.ToString() + " " + selectedEllipse.ToString()));
                DrawnLines.Add((selectedEllipse.ToString() + " " + old.ToString()));
                old = (Point)sender;
            }
        }
    } 
```

# javascript - 我在矩阵和变换的概念中缺少什么

> ID：15985348
> 
> 赞同：0
> 
> 时间：2013-04-13T07:20:57.277
> 
> 标签：javascript, css, matrix, internet-explorer-10

我认为评估一些代码

```
 var elcube = document.getElementById("cube");
     var matrixcube = MSCSSMatrix(elcubestart.style.transform);              
     matrixcube = matrixcube.translate(0, 0, -150);
     matrixcube = matrixcube.rotate(0, 90, 0);
     elcube.style.transform = matrixcube; 
```

是相同的

```
 var elcube = document.getElementById("cube");
    elcube.style.transform = "translateZ(-150px) rotateY(90deg)"; 
```

但它不是。

# xquery - 在 XQuery 查询开始之前验证的 xml 文件

> ID：15985354
> 
> 赞同：0
> 
> 时间：2013-04-13T07:21:36.310
> 
> 标签：xquery

我有一个关于针对架构 1.1 验证 XML 文件的问题。在某些 XQuery 实现中，可以在序言中使用它： *import schema namespace r = " [http://example.org](http://example.org) " at "schemaABC.xsd";* 稍后通过验证表达式验证（或不验证）xml 文件。这是唯一的方法吗？我之所以这么问，是因为并非所有 XQuery 实现都知道 xsd 1.1 的特性，而且 Saxon EE 超出了预算。

是否可以在启动 XQuery 之前验证 xml（当然还有所有类型注释）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T18:34:49.653

你似乎在问四个不同的问题。

1.  XQuery 实现是否支持 XSD 1.1 和 XSD 1.0？有些会，有些不会。

2.  是在启动 XQuery 之前评估的序言 否，序言是查询的一部分。

3.  我可以在查询中使用验证表达式吗？是的。

4.  验证表达式是验证 XML 数据的唯一方法吗？不可以。XQuery 实现可能允许其他方式，例如要求 XML 文档在将它们导入数据库之前是模式有效的；您还可以使用 XProc（XML 管道语言）在运行 XQuery 之前进行验证。

# jpa - 除非调用 EntityManger#flush()，否则未提交 EJB 事务

> ID：15985355
> 
> 赞同：2
> 
> 时间：2013-04-13T07:21:44.870
> 
> 标签：jpa, ejb-3.1, jta, jboss6.x, flush

我的应用程序使用 Hibernate 作为 JPA 提供者，使用 JBOSS 6.1.0-final 作为服务器。事务是 CMT（我的 persistence.xml 中的事务类型是 JTA）。正如大多数教程所建议的那样。如果 ejb 方法中的事务没有任何异常结束，它将自动提交。但是，在我的应用程序中，除非我使用`flush()`，否则当 ejb 方法成功结束时不会提交事务（例如，插入记录永远不会将任何数据推送到数据库）。无状态和有状态 bean 的结果相同。

我尝试使用`@TransactionAttribute(TransactionAttributeType.REQUIRED)`，但结果也是一样的。即使使用`MANDATORY`注释也不会引发任何异常，这表明我的 ejb 方法正在使用容器管理的事务。

代码片段：

```
 @Stateful
 @Local
 public class TransactionTest implements ITransactionTest {

   @PersistenceContext(unitName="Table")
   private EntityManager manager;

   public void generateRecord(int i) throws RuntimeException{
     Record record = new Record();
     record.setId(i+"");
     record.setStatus(1);
     manager.persist(record);
     manager.flush();  //without this, it won't commit
  }
} 
```

那么，为什么我的 ejb 方法不能自动提交事务呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T13:22:51.053

有状态会话 bean`PersistenceContextType.EXTENDED`默认具有。

> **5.6.1.2 容器管理的扩展持久性上下文**
> 
> 容器管理的扩展持久性上下文从通过依赖注入或通过 JNDI 查找获得容器管理的实体管理器的点开始存在，直到它被容器关闭。这种扩展的持久性上下文只能在有状态会话 bean 的范围内启动，并在有状态会话 bean 的 @Remove 方法完成时由容器关闭（或有状态会话 bean 实例以其他方式被销毁）。
> 
> 当使用扩展的持久性上下文时，由 EntityManager 管理的实体保持独立于 JTA 事务是否开始或提交。在持久性上下文结束之前，它们不会分离。

*   您可以尝试`TransactionAttributeType.REQUIRES_NEW`，因此在退出该方法后会调用 commit。在提交之前会自动调用 Flush。

    如果您想立即提交更改，您可以尝试更改事务属性，该属性将成为单独的新事务的一部分。

*   如果您不想提交更改并且需要单个事务来传播，那么您当前的方法很好并明确调用刷新。

# android - 如何通过android应用程序连接oracle服务器？

> ID：15985358
> 
> 赞同：0
> 
> 时间：2013-04-13T07:22:12.757
> 
> 标签：android, oracle

我正在开发连接到我网络中的 oracle 服务器的应用程序，我必须从我的 android 应用程序中获取数据并插入数据。

我知道 Web 服务的基础知识，但为了更快地执行，我不想使用 Web 服务。通过连接到我的 wi-fi，我必须访问 oracle 服务器数据库。是否可以做类似的事情或以任何其他方式提出任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:55:30.603

你真的不想直接这样做。使用网络服务，它们就是为此而生的。否则需要在android上安装oracle客户端，不可用，或者回退到jdbc。

使用网络服务，也更加安全和可靠。确保您将设计的 Web 服务完全按照它们应该做的那样做，并且在您的客户端上尽可能少地处理。确保尽可能少地往返。调整它的最佳方法是根本不进行往返。

# android - 通知抽屉中带有 2 或 3 个按钮的 Android API 级别 9 通知

> ID：15985359
> 
> 赞同：-3
> 
> 时间：2013-04-13T07:22:17.583
> 
> 标签：android

是否可以在通知抽屉中使用几个按钮创建通知，这些按钮执行不同的任务？安卓：m​​inSdkVersion="9"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:42:59.357

仅从 Jelly Bean 开始支持带有按钮等的可扩展通知。以最低 API 9 为目标时可以集成它们，但您需要使用运行时检查来查看您是否在 Jelly Bean 设备上。如果是，您可以显示一个可操作的通知，如果不是，您可以默认返回正常通知。

# android - 如何在 Android 中检索标头值？

> ID：15985361
> 
> 赞同：0
> 
> 时间：2013-04-13T07:22:45.690
> 
> 标签：android

我正在尝试使用标头从 Java Web 应用程序向 Android 发送响应。我无法读取标题值。

我将标题传递为：

`response.setHeader("response", "ok");` `response.setHeader("url", androidResponseBean.getUrl());`

我尝试使用：

`Header[] header = (Header[]) httpResponse.getAllHeaders();`

我无法迭代以检索标头值。

这是我向 Web 应用程序发送请求的代码：

```
DefaultHttpClient httpClient = new DefaultHttpClient();
            //HttpGet httpGet = new HttpGet(params[0]);
            HttpPost httpPost = new HttpPost(params[2]);

            ArrayList<NameValuePair> nameValuePair = new ArrayList<NameValuePair>();

            nameValuePair.add(new BasicNameValuePair("ssn", params[0]));
            nameValuePair.add(new BasicNameValuePair("dob",params[1]));

            httpPost.setEntity(new UrlEncodedFormEntity(nameValuePair, "UTF-8"));
            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            response = EntityUtils.toString(httpEntity); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:49:37.920

[这](http://www.androidsnippets.com/executing-a-http-post-request-with-httpclient)是您正在寻找的样本。看起来你做得很好。你的问题在接收方。但要 100% 确定，只需查看整个消息，看看您的参数是否出现在那里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T11:02:54.927

检查[这个 SO question](https://stackoverflow.com/questions/6541204/android-defaulthttpclient-httpresponse-missing-set-cookie-header-field)，它看起来像解决同样的问题。

具体检查`HttpResponseInterceptor`使用情况。

# ios - dismissModalViewController 不释放内存

> ID：15985362
> 
> 赞同：0
> 
> 时间：2013-04-13T07:22:56.620
> 
> 标签：ios, objective-c, memory-management, automatic-ref-counting

我有两个控制器。在第一个中，有一个按钮，当单击它时，第二个将通过该`presentModalViewController`方法显示。但是，当我回到第一个时，`dismissModalViewController`调用了第二个控制器，但没有释放内存。我用仪器来观察内存分配和弧。

我以为我可能做错了什么，但我尝试了官方示例代码 iPhoneCoreDataRecipes 和 CoreDataBooks，这也发生了。我想知道为什么没有释放moomery？

以下是官方示例配方中 presentModal 和 dismissModal 的代码：

```
- (void)add:(id)sender {
    RecipeAddViewController *addController = [[RecipeAddViewController alloc] initWithNibName:@"RecipeAddView" bundle:nil];
addController.delegate = self;

Recipe *newRecipe = [NSEntityDescription insertNewObjectForEntityForName:@"Recipe" inManagedObjectContext:self.managedObjectContext];
addController.recipe = newRecipe;

    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:addController];
    [self presentModalViewController:navigationController animated:YES];

    [navigationController release];
    [addController release];
}

- (void)recipeAddViewController:(RecipeAddViewController *)recipeAddViewController didAddRecipe:(Recipe *)recipe {
    if (recipe) {
         // Show the recipe in a new view controller
        [self showRecipe:recipe animated:NO];
    }

    // Dismiss the modal add recipe view controller
    [self dismissModalViewControllerAnimated:YES];
} 
```

我做了类似的事情，但我使用 arc 代替，所以我没有释放线。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:38:18.007

您可以在模态视图控制器中进行保留循环。保留周期是指第一个对象对第二个对象具有强引用，而第二个对象也对第一个对象具有强引用。阅读苹果文档中的保留周期：

[https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-1000810](https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-1000810)

和这里：

[http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html](http://developer.apple.com/library/ios/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html)（使用生命周期限定符来避免强引用循环）

# java - 无法获取系统 Java 编译器。请使用 JDK，而不是 JRE

> ID：15985363
> 
> 赞同：33
> 
> 时间：2013-04-13T07:22:57.157
> 
> 标签：java, google-app-engine

我收到*无法获取系统 Java 编译器。请使用 JDK，而不是 JRE。*当 jsp 文件在我的项目中时，我将它部署到 Google App Engine。所以我尝试了以下方法来解决这个问题：

1.  将 -vm C:\Program Files\Java\jdk1.6.0_43\bin\javaw.exe 添加到我的 eclipse.ini 中。
2.  确保 JDK 在我的项目的构建路径中，而不是 jre。
3.  将 C:\Program Files\Java\jdk1.6.0_43\bin\ 添加到环境变量的 PATH 中。

但这些都没有解决问题。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-05-21T02:29:45.323

添加`-vm C:\Program Files\Java\jdk1.6.0_43\bin\javaw.exe`到 eclipse.ini 时，请确保将`-vm`和`C:\Program Files\Java\jdk1.6.0_43\bin\javaw.exe`放在单独的行上

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2013-12-26T19:15:41.893

以下两件事对我有用。

1）确保您的 JAVA_HOME 路径设置为 JDK，并且 JAVA_HOME 包含在 PATH 中。

2) 在 eclipse.ini 中添加以下前两行代码。它应该如下所示。

```
-vm
C:\Program Files\Java\jdk1.7.0_03\bin\javaw.exe
-startup
plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.200.v20130807-1835-product
org.eclipse.epp.package.standard.product
--launcher.defaultAction
openFile
--launcher.XXMaxPermSize
256M
-showsplash
org.eclipse.platform
--launcher.XXMaxPermSize
256m
--launcher.defaultAction
openFile
--launcher.appendVmargs
-vmargs
-Dosgi.requiredJavaVersion=1.6
-Xms40m
-Xmx512m 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-05-12T22:52:07.860

你能把你的eclipse.ini文件贴在这里吗？几天前我刚刚添加了 vm 行，它运行良好。

请记住，它必须放在 -vmargs 行之前...

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-05-12T05:24:04.397

我遇到了同样的问题并得出结论：

如果使用 JRE 执行 Eclipse，即使 Preference 设置设置为使用 JDK，在部署到 App Engine 时它​​将使用 JRE 而不是 JDK。

解决方案：将 JAVA_HOME 路径从 JRE 更改为 JDK，并确保 JAVA_HOME\bin 包含在 PATH 中。然后，重新启动 Eclipse。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-12-27T08:26:22.540

I solve this problem by editting the **appcfg.cmd** file under the Google App Engine SDK folder.

The **appcfg.cmd** file is located at

> {eclipse directory}\plugins\com.google.appengine.eclipse.sdkbundle_1.8.8\appengine-java-sdk-1.8.8\bin

Change the **java** string in the command to the specific location of java.exe under jdk folder:

Original:

> java -Xmx1100m -cp "%~dp0..\lib\appengine-tools-api.jar" com.google.appengine.tools.admin.AppCfg %*

After changing:

> "C:\Program Files\Java\jdk1.7.0_45\bin\java.exe" -Xmx1100m -cp "%~dp0..\lib\appengine-tools-api.jar" com.google.appengine.tools.admin.AppCfg %*

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-11-25T08:00:11.427

我在上传示例战争留言簿时遇到了同样的错误[“无法获取系统 java 编译器”]。我安装了 JDK，并且“java -version”可以正确打印版本信息。那么哪一部分出了问题呢？
问题的原因在这里：

> 除了 %JAVA_HOME%/bin 目录外，java.exe/javaw.exe 也存在于 C:\Windows\ 子目录中。

上传命令使用 c:\windows\ 子目录中的 java.exe，而不是位于 %JAVA_HOME% 目录中的 java.exe。
**解决方法：**
将“%JAVA_HOME%/bin”放在PATH环境变量定义的头部。这应该保证使用 %JAVA_HOME% 的东西。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-11-15T12:35:59.063

1.  编辑 eclipse ini 并添加 ***-vm C:\Program Files\Java\jdk1.7.0_65\bin\javaw.exe*** 如下（在这些行之间）：

    --launcher.defaultAction openFile -vm C:\Program Files\Java\jdk1.7.0_65\bin\javaw.exe --launcher.appendVmargs

2.  将您的 JAVA_HOME 设置为指向 jdk 文件夹 (C:\Program Files\Java\jdk1.7.0_65)

它对我来说非常有效。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-04-30T23:11:38.093

最后的手段：一个简单但公认不是很优雅的解决方案是**卸载所有 JRE**。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-04-13T07:44:15.403

转到`Windows -> Preferences -> Java -> Installed JREs -> Add...`然后将 JDK 文件夹的路径设置为`JRE home`. 其余字段将自动填写。然后，在列表中`Installed JREs`确保将新添加的 JDK 标记为默认值。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-01-20T15:07:09.613

奇怪的是，我突然遇到了这个问题，没有任何改变（可能除了从 windows 8 升级到 windows 8.1）。

我可以通过将 -vm 放在 eclipse.ini 文件中的 -vmargs 之前来解决它。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-05-12T05:27:37.873

确保您的 JAVA_HOME 环境变量引用 JDK 主目录，而不是 JRE。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-01-09T23:24:27.053

我做了其他人所说的一切，但没有任何效果。我不得不更改项目的类型：Project -> Properties-> Project Facets 并检查 Dynamic Web Module。之后，我能够部署该项目。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2018-02-12T17:17:58.233

我更新了所有建议的点以指向我的 jdk1.8.0_111 而不是 jre：Eclipse.ini、系统路径、JAVA_HOME。还从我的路径中删除了 Oracle 条目：C:\ProgramData\Oracle\Java\javapath （指向 jre）。最后我又找到了一个引用 jre 的地方，最终修复了它：

在 Eclipse -> 我的项目属性 -> Java 构建路径 -> JRE 系统库中仍然指向我的 jre。删除它，做了“添加库”并将其指向我的 jdk。重新启动 Eclipse，我终于可以使用 jsp 进行部署了。

我回去删除了 JAVA_HOME，它仍然可以工作（JAVA_HOME 会干扰其他构建系统）。

期待找出一个好的命令行构建，所以我没有使用随机编译器。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-07-06T06:28:36.787

构建项目时，我在 Android Studio 中收到此错误。我已经在设置（文件 ==> 设置）中设置了 JDK 位置，它为我解决了这个问题。

# android - 单击按钮时不显示警报对话框

> ID：15985364
> 
> 赞同：0
> 
> 时间：2013-04-13T07:22:57.607
> 
> 标签：android, multithreading, android-alertdialog

我创建了警报对话框，当我单击按钮时它没有显示。它的应用程序崩溃了。我的代码如下。我的代码有什么问题？请帮我！！

```
backBtn.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                        TestHopeQueue.this);

                // set title
                alertDialogBuilder.setTitle("Remove Download");

                // set dialog message
                alertDialogBuilder
                        .setMessage("Click yes to exit!")
                        .setCancelable(false)
                        .setPositiveButton("Yes",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {

                                        for (int k = 0; k < trlist.size(); k++) {
                                            if (trlist.get(k) != null) {
                                                View v13 = linearlayout
                                                        .getChildAt(k);
                                                TextProgressBar pr = (TextProgressBar) v13
                                                        .findViewById(R.id.progressBar);

                                                if (pr.getProgress() < 100) {

                                                    trlist.get(k).interrupt();
                                                    trlist.set(k, null);
                                                    ViewVideoDelete(k);
                                                    Button btnDownButton = (Button) v13
                                                            .findViewById(R.id.btnDownload);
                                                    btnDownButton
                                                            .setVisibility(View.VISIBLE);

                                                    pr.setProgress(0);
                                                    pr.invalidate();
                                                    pr.setText("" + 0 + "%");

                                                    Button btnDelete = (Button) v13
                                                            .findViewById(R.id.btnDelete);
                                                    btnDelete
                                                            .setVisibility(View.GONE);
                                                    downloadqueuelist.remove(0);
                                                    if (k % 2 == 0) {
                                                        v13.setBackgroundColor(Color
                                                                .parseColor("#f8f8ff"));
                                                        // convertView.setBackgroundResource(R.drawable.whitebackground);
                                                    } else {
                                                        v13.setBackgroundColor(Color
                                                                .parseColor("#DCDCDC"));
                                                        // convertView.setBackgroundResource(R.drawable.greybackground);
                                                    }

                                                }
                                            } else {
                                                TestHopeQueue.this.finish();
                                            }

                                        }

                                    }
                                })
                        .setNegativeButton("No",
                                new DialogInterface.OnClickListener() {
                                    public void onClick(DialogInterface dialog,
                                            int id) {
                                        // if this button is clicked, just close
                                        // the dialog box and do nothing
                                        dialog.cancel();
                                    }
                                });

                //alertDialog.show();

                for (int k = 0; k < trlist.size(); k++) {

                    if (trlist.get(k)!= null) {
                        Log.v("log_tag"," Alert Dialog ");

                        break;
                    } else {
                        TestHopeQueue.this.finish();
                    }

                }
                AlertDialog alertDialog = new AlertDialog.Builder(TestHopeQueue.this).create();
                //AlertDialog alertDialog = alertDialogBuilder.create();
                alertDialog.show();

            }
        }); 
```

我在下面得到错误::

```
04-13 12:38:58.112: E/WindowManager(576): Activity com.example.testhopequeue.TestHopeQueue has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40585268 that was originally added here
04-13 12:38:58.112: E/WindowManager(576): android.view.WindowLeaked: Activity com.example.testhopequeue.TestHopeQueue has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView@40585268 that was originally added here
04-13 12:38:58.112: E/WindowManager(576):   at android.view.ViewRoot.<init>(ViewRoot.java:258)
04-13 12:38:58.112: E/WindowManager(576):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:148)
04-13 12:38:58.112: E/WindowManager(576):   at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
04-13 12:38:58.112: E/WindowManager(576):   at android.view.Window$LocalWindowManager.addView(Window.java:424)
04-13 12:38:58.112: E/WindowManager(576):   at android.app.Dialog.show(Dialog.java:241)
04-13 12:38:58.112: E/WindowManager(576):   at com.example.testhopequeue.TestHopeQueue$1.onClick(TestHopeQueue.java:180)
04-13 12:38:58.112: E/WindowManager(576):   at android.view.View.performClick(View.java:2485)
04-13 12:38:58.112: E/WindowManager(576):   at android.view.View$PerformClick.run(View.java:9080)
04-13 12:38:58.112: E/WindowManager(576):   at android.os.Handler.handleCallback(Handler.java:587)
04-13 12:38:58.112: E/WindowManager(576):   at android.os.Handler.dispatchMessage(Handler.java:92)
04-13 12:38:58.112: E/WindowManager(576):   at android.os.Looper.loop(Looper.java:130)
04-13 12:38:58.112: E/WindowManager(576):   at android.app.ActivityThread.main(ActivityThread.java:3683)
04-13 12:38:58.112: E/WindowManager(576):   at java.lang.reflect.Method.invokeNative(Native Method)
04-13 12:38:58.112: E/WindowManager(576):   at java.lang.reflect.Method.invoke(Method.java:507)
04-13 12:38:58.112: E/WindowManager(576):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-13 12:38:58.112: E/WindowManager(576):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-13 12:38:58.112: E/WindowManager(576):   at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:32:35.533

我在您的代码中发现您正在通过`TestHopeQueue.this.finish();`else 部分完成您的活动，然后尝试在已完成的活动中显示警报对话框。

因此，您收到此错误消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:39:07.807

同时，您正在执行`onclick`按钮 1) 显示 dailog 2) 内部循环的两个操作，您正在完成您的活动，这会在显示导致错误的对话框之前完成您的活动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:36:41.410

您可以像这样在单击按钮时直接调用此方法。

```
 backBtn.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
               AlertBoxShow();

                }

   //   AlertBoxShow() method definition here
    public void AlertBoxShow(){
     AlertDialog.Builder alt_bld = new AlertDialog.Builder(this);
     alt_bld.setMessage("Do you want to close this application ?")
     .setCancelable(false)
     .setPositiveButton("Yes", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int id) {
      finish();
      }
})
         .setNegativeButton("No", new DialogInterface.OnClickListener() {
       public void onClick(DialogInterface dialog, int id) {
  //  Action for 'NO' Button
      dialog.cancel();
       }
         });
          AlertDialog alert = alt_bld.create();
           // Title for AlertDialog
          alert.setTitle("AlertDialogExample");
         // Icon for AlertDialog
         alert.setIcon(R.drawable.ic_launcher);
          alert.show();
   } 
```

}

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T07:42:40.667

```
Try This Using This Code You Get Alert Dialog..
==================================main Activity.java   
 package com.example.sample;

    import android.os.Bundle;
    import android.app.Activity;
    import android.app.AlertDialog;
    import android.content.Context;
    import android.content.DialogInterface;
    import android.view.Menu;
    import android.view.View;
    import android.view.View.OnClickListener;
    import android.widget.Button;
    import android.widget.TextView;
    import android.widget.Toast;

    public class MainActivity extends Activity {
        Button b1;
        final Context context = this;

        @Override
        protected void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.activity_main);
            b1 = (Button) findViewById(R.id.b1);

            b1.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View arg0) {
                    ShowDialog();
                }

            });
        }
        public void ShowDialog()
        {

            AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(
                    context);

            // set title
            alertDialogBuilder.setTitle("Your Title");

            // set dialog message
            alertDialogBuilder
                    .setMessage("Click yes to exit!")
                    .setCancelable(false)
                    .setPositiveButton("Yes",
                            new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int id) {
                                    // if this button is clicked, close
                                    // current activity
                                    MainActivity.this.finish();
                                }
                            })
                    .setNegativeButton("No",
                            new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int id) {
                                    // if this button is clicked, just close
                                    // the dialog box and do nothing
                                    dialog.cancel();
                                }
                            });

            // create alert dialog
            AlertDialog alertDialog = alertDialogBuilder.create();

            // show it
            alertDialog.show();

        }

    } 
```

# php - 在php中使用jquery ajax更新记录

> ID：15985365
> 
> 赞同：1
> 
> 时间：2013-04-13T07:22:59.100
> 
> 标签：php, jquery

我已经在表中显示了记录并具有编辑链接，当我单击它时，该行的值显示在文本框中，但是当我单击按钮时，它会插入新记录而不是更新表中的记录。我应该进行哪些更改来更新记录？

评论.php

```
<script type="text/javascript">
$(document).ready(function(){
    function loadList(){
        $.ajax({
            url: "load_list.php",
            cache: false,
            success : function(html){
                $(".name_list").html(html);
            }
        });
    }
    loadList();

    $("#Submit").click(function() {
        if($(":text").val().length==0)
            {
               // $(this).next().html("Field needs filling");
               $(":text").after('<span class="errorkeyup">Field cannot be empty</span>');
                //return false;
                success = false;
            }
            else
            {
                var name=$("#name").val();
                var message=$("#message").val();
                $.ajax({
                  type:"post",
                   url:"save_list.php",
                   data:"name="+name+"&message="+message,                             
                  success:function(data){
                 loadList();                                
                 } 
                }); 
                return false;
            }
    });

    $("a.delete_button").on("click", function(e){
        //this deletes the row clicked on with an alert and then reloads the list
        e.preventDefault();
        //var id = $(this).attr("id");
        var obj = $(this); 
        var id = obj.attr("id");
            $.ajax({
                type: "POST",
                url: "delete.php",
                data: "id="+ id,
                success: function(response){
                if(response == '1') {
                      obj.parent.remove();
                }
            }
            });      
        return false;
    });

    $("a.edit_button").click(function(){
    //$("form#update").live("submit",(function() {
    // we want to send via ajax and empty the html from the update_form element
        var name = $('#name').attr('value');
        var message = $('#message').attr('value');
        var id = $('#id').attr('value');
        $("#wrapper:has(button)").hide();
       $("#Submit").click(function(){
            $.ajax({

                url: "updateajax.php",
                type: "POST",
                data: "name="+ name +"& message="+ message +"& id="+ id,
                error: function(){
                    alert('Error loading document');
                             },
                success: function(){
                alert (" i  am  in success below load list ");
                    $(".update_form").empty();
                    //loadList();

                        }

            });
    });
        return false;
    });

});
</script>
</head>

<body>

<form method="post" name="form" action="">
<div id="wrapper" align="center">
<?php
include('connection.php');
if(isset($_GET["id"]))
{
    $cmd=mysql_query("select * from login where id=".$_GET["id"]);
                $rs=mysql_fetch_array($cmd);
}
?>
<table width="200" border="1">
  <tr>
    <td colspan="2">Form:<input type="hidden" name="idupdate" id="idupdate" value="<?php echo $rs[0];?>"/></td>

  </tr>
  <tr>
    <td>Name:</td>
    <td><input type="text" name="name" id="name" value="<?php echo $rs[1];?>"  /></td>
  </tr>
  <tr>
    <td>Message:</td>
    <td><input type="text" name="message" id="message" value="<?php  echo $rs[2]; ?>"  /></td>
  </tr>
  <tr>
    <td colspan="2" align="center"><input type="button" value="Submit" id="Submit"><input type="button" value="edit" id="edit" style="display:none"></td>
    </tr>
</table>
 </div>
<div class="name_list" align="center"></div>
 <div class="update_form" style="display:none">

 </div>
 </div> 
 </form>
</body> 
```

loadlist.php 这是表中用于编辑的链接

```
echo"<td>
                 <a id=".$row['id']." href=comment.php?id=".$row['id']."&type=edit class=edit_button>Edit</a></td>"; 
```

更新ajax.php

```
<?php
include("connection.php");
if(isset($_REQUEST['id']))
{
$id=int($_REQUEST['id']);
$name=mysql_escape_String($_REQUEST['name']);
$message=mysql_escape_String($_REQUEST['message']);
$sql = "update login set username='$name',message='$message' where id='$id'";
mysql_query($sql);
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:09:47.857

```
echo"<td>
                 <a id=".$row['id']." href=comment.php?id=".$row['id']."&type=edit class=edit_button>Edit</a></td>" 
```

在上面的行中设置 href="#"，因为您为此锚标记实现了点击事件。如果您在

```
<a id=".$row['id']." href=comment.php?id=".$row['id']."&type=edit class=edit_button>Edit</a> 
```

然后不是去点击功能，而是去href中指定的url。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:37:19.847

更改您的 loadlist.php 以返回以下格式的链接。

```
echo"<td>
                 <a id='".$row['id']."' href='comment.php?id=".$row['id']."&type=edit' class='edit_button'>Edit</a></td>"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-13T11:07:08.130

而不是使用

```
echo"<td>
             <a id=".$row['id']." href=comment.php?id=".$row['id']."&type=edit class=edit_button>Edit</a></td>"; 
```

你可以使用一个按钮，因为无论如何你在点击这个锚点时调用 ajax。

因此，正如 Katuli 所指定的，在锚标记中提及 href 只会将您引导至该页面。

因此，要么尝试她设置 href='#' 的建议，要么使用锚标记以外的任何东西。

# c++ - 将组合框添加到 win32 API

> ID：15985366
> 
> 赞同：2
> 
> 时间：2013-04-13T07:23:32.873
> 
> 标签：c++, api, winapi, combobox

好的，首先这是家庭作业，但我们的老师鼓励我们超越他实际给我们的作业。所以我想学习如何添加常用对话框。我选择使用组合框。

问题是..我完全不知道从哪里开始。我已经用谷歌搜索了它并在没有帮助的情况下浏览了第一页半，所以我在这里发布:)。任务是做一些简单的事情，比如显示我的名字和画一些省略号，现在我想添加一个组合框..

这是我的代码。

```
/*------------------------------------------------------------------------
Name: Jesse Moreland
Class: CST 238 GUI
Lab 2
---------------------------------------------------------------------------*/

#include <windows.h>
#include <WinUser.h>
#include <string>

using std::string;

LRESULT CALLBACK WndProc (HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);

int WINAPI WinMain (HINSTANCE hInstance, HINSTANCE hPrevInstance,
                    PSTR lpszCmdParam, int nCmdShow)
     {
     static char szAppName[] = "ErrorSample";
     HWND           hwnd;
     HWND           comboBox;
     MSG            msg;    // Look how this struct is defined-see help/class notes NOW
     WNDCLASSEX     wndclass; 

          wndclass.cbSize        = sizeof(wndclass);
          wndclass.style         = CS_HREDRAW | CS_VREDRAW;
          wndclass.lpfnWndProc   = WndProc;
          wndclass.cbClsExtra    = 0;
          wndclass.cbWndExtra    = 0;
          wndclass.hInstance     = hInstance;
          wndclass.hIcon         = LoadIcon (NULL, IDI_APPLICATION);

          wndclass.hCursor       = LoadCursor (NULL, IDC_ARROW);
          wndclass.hbrBackground = static_cast<HBRUSH>(GetStockObject (WHITE_BRUSH));
          wndclass.lpszMenuName  = NULL;
          wndclass.lpszClassName = szAppName;
          wndclass.hIconSm       = LoadIcon(NULL, MAKEINTRESOURCE(IDI_ERROR));

          RegisterClassEx (&wndclass);

//        PlaySound("C:\\Windows\\winsxs\\x86_microsoft-windows-speech-userexperience_31bf3856ad364e35_6.1.7601.17514_none_1e1159f6aa0eb8c7\\Speech Off.wav",NULL, SND_FILENAME);

     hwnd = CreateWindow (szAppName,         // window class name
            "Jesse Moreland LAB 2 - Press Left or Right Mouse Button",           // window caption
                    WS_OVERLAPPEDWINDOW,     // window style
                    CW_USEDEFAULT,           // initial x position
                    CW_USEDEFAULT,           // initial y position
                    CW_USEDEFAULT,           // initial x size
                    CW_USEDEFAULT,           // initial y size
                    NULL,                    // parent window handle
                    NULL,                    // window menu handle
                    hInstance,               // program instance handle
                    NULL);                   // creation parameters

     ShowWindow (hwnd, nCmdShow);

     UpdateWindow (hwnd);

     while (GetMessage (&msg, NULL, 0, 0))
          {
          TranslateMessage (&msg);
          DispatchMessage (&msg);
          }
     return (int) msg.wParam;
     }

LRESULT CALLBACK WndProc (HWND hwnd, UINT message, 
                          WPARAM wParam, LPARAM lParam)
     {
     HDC  hdc;
     PAINTSTRUCT ps;
     RECT        rect;
     RECT        size;

     char * summer = "SUMMER IS COMING SOON!";
     char * leftOrRight = "Press Left or Right Mouse Button to make selection";

     switch (message)
         {

          case WM_PAINT:
                hdc = BeginPaint (hwnd, &ps);

                GetClientRect (hwnd, &rect);

                GetWindowRect(hwnd, &size);

                HPEN hPenOld;

                //Draw ellipse
                HPEN hEllipsePen;
                COLORREF qEllipseColor;

                qEllipseColor = RGB(0, 0, 255);
                hEllipsePen = CreatePen(PS_SOLID, 3, qEllipseColor);
                hPenOld =(HPEN)SelectObject(hdc, hEllipsePen);

                Arc(hdc, 40, 40, 160, 80, 0, 0, 0, 0);
                Arc(hdc, 50, 50, 180, 60, 0, 0, 0, 0);

                SelectObject(hdc, hPenOld);
                DeleteObject(hEllipsePen);

                TextOut(hdc, 0, 0, summer, strlen(summer));
                TextOut(hdc, 0, 20, leftOrRight, strlen(leftOrRight));

                EndPaint (hwnd, &ps);
                return 0;

          case WM_LBUTTONDOWN:
              return 0;

          case WM_RBUTTONDOWN:
              return 0;

          case WM_DESTROY:
              PostQuitMessage(0);
              return 0;

         }

     return DefWindowProc (hwnd, message, wParam, lParam);
     } 
```

我将把命令放在哪里来制作组合框？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:40:54.260

为 WM_CREATE 创建一个处理程序，例如

```
CASE WM_CREATE:
    CreateWindowEx(WS_EX_STATICEDGE, "COMBOBOX", "MyCombo1", 
            CBS_DROPDOWN | WS_CHILD | WS_VISIBLE, 
            0, 0, 50, 20, hwnd, 100, hInstance, NULL); // 100 = ID of this control
    CreateWindowEx(WS_EX_STATICEDGE, "COMBOBOX", "MyCombo2", 
            CBS_DROPDOWN | WS_CHILD | WS_VISIBLE, 
            100, 100, 50, 20, hwnd, 101, hInstance, NULL); // 101 = ID of this control
    return 0; 
```

您可以使用 dlgproc 中的其他位置检索窗口句柄

```
hEditCombo1 = GetDlgItem(hwnd, 100); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:29:34.623

有一条名为 的特殊消息`WM_CREATE`，在第一次创建窗口时调用。您可以将代码放在那里，以便在启动时创建组合框。

关于`WM_CREATE`

当应用程序通过调用 CreateWindowEx 或 CreateWindow 函数请求创建窗口时发送。（该消息在函数返回之前发送。）新窗口的窗口过程在窗口创建之后、窗口变为可见之前接收到该消息。

```
switch(message){

...

case WM_CREATE: {
//create combobox

return 0;
}
} 
```

请参阅[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632619%28v=vs.85%29.aspx)以获取参考。

**编辑**

首先，您需要了解Windows 中的*每个*控件都是一个“窗口”，因此您将使用`CreateWindow()`like创建一个组合框

```
HWND hCombobox = CreateWindow(L"COMBOBOX", ...); 
```

见[`CreateWindow`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632679%28v=vs.85%29.aspx)-功能。

# javascript - 如何使用 Jquery Ajax 向 servlet 发送参数

> ID：15985367
> 
> 赞同：2
> 
> 时间：2013-04-13T07:24:19.050
> 
> 标签：javascript, jquery, ajax

我想使用 jquery ajax 发送参数。我可以使用 jquery ajax 调用 servlet，但无法发送任何参数。我的代码是---

```
function callServlet(){
            var abc='hello';                
            $.ajax({
                type: "POST",
                url: "../d3data",                
                dataType: "json",
                data: {name : abc},
                success:function(data){
                    if(data){
                        alert("worked");
                    }
                },
                error:function(){
                    alert('not worked.');
                } 

            })       
        }; 
```

我的 servlet 的名称是 d3data .. 在 servlet 中，我使用

```
String name=request.getParameter("name"); 
```

请任何人帮助我......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:58:07.033

```
function callServlet(){
            var abc='hello';                
            $.ajax({
                type: "GET",
                url: "../d3data",                
                dataType: "json",
                data: {"name" : abc},
                success:function(data){
                    if(data){
                        alert("worked");
                    }
                },
                error:function(){
                    alert('not worked.');
                } 

            })       
        }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:01:50.330

要从servlet*检索*数据，您应该使用该`GET`方法。此外，`GET`请求通常应该是“幂等的”，这样一遍又一遍地重复相同的请求不会产生不同的数据。

该`POST`方法旨在将*批量数据发送到 servlet，特别是当该数据的发送应该**对服务器*产生副作用时，使得请求不是幂等的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:45:40.320

你需要使用

```
$.ajax({
     type: "GET", 
```

或在控制器中请求发布参数

# c - 如何获取 Windows 会话名称？

> ID：15985372
> 
> 赞同：4
> 
> 时间：2013-04-13T07:24:27.263
> 
> 标签：c, windows, session

Windows有一个cmd“[**查询会话**](http://technet.microsoft.com/en-us/library/bb490800.aspx)”，它显示有关终端服务器上的会话信息，包括“会话名称”。

我想使用**Windows API** ------ **LsaEnumerateLogonSessions**和**LsaGetLogonSessionData** 来获取这些会话信息，如下所示：

```
int main()
{
    int i = 0;
    ULONG count = 0;
    PLUID list = NULL;
    PSECURITY_LOGON_SESSION_DATA data;

    LsaEnumerateLogonSessions(&count, &list);
    for (i = 0; i < (int)count; i++)
    {
            LsaGetLogonSessionData(&list[i], &data);
    }

    return 0;
} 
```

我可以获得一个**SECURITY_LOGON_SESSION_DATA**结构：

```
typedef struct _SECURITY_LOGON_SESSION_DATA {
  ULONG                     Size;
  LUID                      LogonId;
  LSA_UNICODE_STRING        UserName;
  LSA_UNICODE_STRING        LogonDomain;
  LSA_UNICODE_STRING        AuthenticationPackage;
  ULONG                     LogonType;
  ULONG                     Session;
  PSID                      Sid;
  LARGE_INTEGER             LogonTime;
  LSA_UNICODE_STRING        LogonServer;
  LSA_UNICODE_STRING        DnsDomainName;
  LSA_UNICODE_STRING        Upn;
  ULONG                     UserFlags;
  LSA_LAST_INTER_LOGON_INFO LastLogonInfo;
  LSA_UNICODE_STRING        LogonScript;
  LSA_UNICODE_STRING        ProfilePath;
  LSA_UNICODE_STRING        HomeDirectory;
  LSA_UNICODE_STRING        HomeDirectoryDrive;
  LARGE_INTEGER             LogoffTime;
  LARGE_INTEGER             KickOffTime;
  LARGE_INTEGER             PasswordLastSet;
  LARGE_INTEGER             PasswordCanChange;
  LARGE_INTEGER             PasswordMustChange;
} SECURITY_LOGON_SESSION_DATA, *PSECURITY_LOGON_SESSION_DATA; 
```

但它不包含**会话名称**！

关于如何获得“sessonname”的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T11:37:39.377

“会话名称”在 API 文档中称为“winstation 名称”（非常令人困惑，因为它绝对不是 Window Station，因为文档[道歉](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa383861%28v=vs.85%29.aspx)）。

[`WTSQuerySessionInformation`](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa383838%28v=vs.85%29.aspx)`(WTSWinStationName)`将使用标准 WTS 功能为您获取它。

我不确定您为什么要使用`LsaEnumerateLogonSessions`，因为它不仅会返回会话，还会返回任何登录，包括尚未创建会话的网络登录。如果您有某些特殊原因需要 LUID，则必须过滤列表，挑选出 Session 成员非零的那些，然后`WTSQuerySessionInformation`对其进行操作以获得 winstation 名称。或者，您可以过滤所有 LogonType 是四种交互类型之一的登录。甚至在 Vista 和更高版本上，控制台也可能在会话 0 上，这在 XP 上是正常的，因此请记住还要检查会话 0 并`WTSGetActiveConsoleSessionId`确保您已将所有您感兴趣的会话包含在列表中中。我怀疑只是使用该[`WTSEnumerateSessions`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa383833%28v=vs.85%29.aspx)功能会简单得多！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T11:33:36.777

WTSEnumerateSessions 或 WTSQuerySessionInformation

# jakarta-ee - 网络应用程序版本到底是什么？它有什么影响？

> ID：15985378
> 
> 赞同：31
> 
> 时间：2013-04-13T07:25:52.003
> 
> 标签：jakarta-ee, web.xml

在 java web 应用程序中，有一个名为*web.xml*的文件，它有一个版本控制。

这究竟是什么？这有什么用途？

[这](https://stackoverflow.com/tags/web.xml/info)是 web.xml 的 SO wiki。但这并不能真正解释我。

> 它允许您在 Web 应用程序中定义、声明和配置基于 Servlet API 的实现，例如 servlet、过滤器和侦听器。

示例*web.xml*版本控制：

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
         version="3.0"> 
```

有人可以用简单的例子来解释吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-04-13T08:38:06.467

`Web.xml`是您定义 Web 应用程序配置的中心位置。例如，您可以在那里指定：

*   servlet 映射，即哪个 URL 路径引用哪个 Java 类（例如，当用户键入[http://something.com/Koray](http://something.com/Koray)时，您可以将该请求指向 KorayServlet.java 类，您可以在其中保留 servlet 的实现）
*   授权参数，例如用户 Tugay 可以访问[http://something.com/Koray/pictures](http://something.com/Koray/pictures)，但不能访问[http://something.com/Koray/documents](http://something.com/Koray/documents)
*   所有其他安全设置，例如当有人试图打开[http://something.com/Restricted](http://something.com/Restricted)时，您将他重定向到**https://something.com/Restricted**，即它必须使用 SSL
*   您网站的欢迎页面（例如，当用户键入[http://something.com/Koray](http://something.com/Koray)时，您将他重定向到[http://something.com/Koray/index.html](http://something.com/Koray/index.html)）

我还建议研究 Servlet 3.0 规范，其中许多参数可以通过注释进行设置。

## 版本控制

版本控制是指`web.xml`文件语法必须遵守的 XML 模式版本。更重要的是，它还指示您的应用程序实现的 Servlet 规范的版本。`web.xml`Servlet 3.0 兼容应该如何开始的示例：

```
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"> 
```

大多数 IDE 会自动生成`web.xml`. 如果出于某种原因要手动更改它，请注意匹配 web-app 和 xsd 的版本。

具体例子`web.xml`见：

*   [web.xml 版本控制](https://stackoverflow.com/questions/8923286/web-xml-versioning)
*   [部署描述符：web.xml](https://developers.google.com/appengine/docs/java/config/webxml)
*   [示例 Web XML 应用程序文件](http://docs.oracle.com/cd/E19857-01/819-6518/abxij/index.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-07-08T16:00:57.593

从 Servlet 3.0 开始，Web.xml 是可选的，您可以使用`@WebServlet`注解代替。

**如果您使用的是 Spring**，`org.springframework.web.WebApplicationInitializer` 则可以**替代使用或与**web.xml 一起使用。

> **WebApplicationInitializer：**
> 
> 要在 Servlet 3.0+ 环境中实现的接口，以便以编程方式配置 ServletContext——与传统的基于 web.xml 的方法相反（或可能结合使用）。

回答您的以下问题。

> 它有什么影响？（*在 Spring 应用程序中*）

**web.xml 版本控制：**

但是，**如果应用程序`WEB-INF/web.xml`中存在**，则其**版本**属性**必须设置为 "3.0" 或更高**版本，否则servlet 容器`ServletContainerInitializer` **将忽略引导**。

[您可以在此处](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/WebApplicationInitializer.html)阅读 WebApplicationInitializer 的完整 Java 文档。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-13T11:17:38.050

我从 web.xml esp 中了解到的部分`web-app version="3.0"`是您的 servlet 的版本。所以，我将我的答案限制在 servlet 版本以及为什么它如此重要。当您使用 Java EE 进行编程时，您可能知道 servlet 的版本控制着大多数其他标准。

例如，

JSF 2.0 需要 SERVLET 2.5 附带 JAVA EE5 和 WEBLOGIC 10.3.X 支持所有这些技术，对于其他容器，您应该查看发行说明。其次，JSF 2.1 需要 SERVLET 3.0 自带 JAVA EE6，WEBLOGIC 12c 支持所有这些技术。当然向后兼容是有保证的，但是大多数情况下可能会出现一些问题。

当我们查看 weblogic 12c 发行说明时，我将与 servlet 版本一起支持的最重要的技术加注了星标。我希望这对您也有用 Miljen Mikic 的出色回答。

```
Standard    Version
Contexts and Dependency Injection for Java EE   1.0
Dependency Injection for Java EE    1.0
Expression Language (EL)    2.2, 2.1, 2.0
Only JSP 2.0 and greater supports Expression Language 2.x.
JAAS    1.0 Full
JASPIC  1.0
Java API for XML-Based Web Services (JAX-WS)    2.2, 2.1, 2.0
Java API for RESTful Web Services (JAX-RS)  1.1
Java Authorization Contract for Containers (JACC)   1.4
**Java EE   6.0**
Java EE Application Deployment  1.2
Java EE Bean Validation 1.1
Jave EE Common Annotations  1.0
Java EE Connector Architecture  1.6
Java EE EJB 3.1
Java EE Enterprise Web Services 1.3, 1.2, 1.1
Jave EE Interceptors    1.1
**Java EE JDBC  4.0, 3.0**
Java EE JMS 1.1, 1.0.2b
Java EE JNDI    1.2
**Java EE JSF   2.1, 2.0, 1.2, 1.1**
Java EE JSP 2.2, 2.1, 2.0, 1.2, and 1.1
JSP 1.2\. and 1.1 include Expression Language (EL), but do not support EL 2.x or greater.
Java EE Managed Beans   1.0
**Java EE Servlet   3.0, 2.5, 2.4, 2.3, and 2.2**
Java RMI    1.0
JavaMail    1.4
JAX-B   2.2, 2.1, 2.0
JAX-P   1.3, 1.2, 1.1
JAX-R   1.0
JAX-RPC 1.1
JCE 1.4
**JDKs  6.0 (aka 1.6), 5.0 (aka 1.5, clients only)**
JMX 1.2, 1.0
JPA 2.0, 1.0
JSR 77: Java EE Management  1.1
JSTL    1.2
Managed Beans   1.0
OTS/JTA OTS 1.2 and JTA 1.1
RMI/IIOP    1.0
SOAP Attachments for Java (SAAJ)    1.3, 1.2
Streaming API for XML (StAX)    1.0
Web Services Metadata for the Java Platform 2.0, 1.1 
```

# ajax - 使用 AJAX 打开一个新窗口

> ID：15985382
> 
> 赞同：0
> 
> 时间：2013-04-13T07:26:12.887
> 
> 标签：ajax

当您在下拉列表中选择一个项目而不按任何其他按钮时，想要打开一个宽度为 640 像素、高度为 400 像素的新窗口，网址为[http://www.google.com 。](http://www.google.com)

我想使用 AJAX(XMLHttpRequest) 来实现它

# python - python：检查列表是多维还是一维

> ID：15985389
> 
> 赞同：11
> 
> 时间：2013-04-13T07:27:17.110
> 
> 标签：python, arrays, numpy, multidimensional-array

我目前正在用python编程，我创建了一个从用户输入列表的方法，不知道他是多维的还是一维的。我该如何检查？样本：

* * *

```
def __init__(self,target):    
    for i in range(len(target[0])):
        w[i]=np.random.rand(len(example[0])+1) 
```

目标是列表。问题是目标 [0] 可能是 int。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-04-13T07:42:00.017

我想你只想要[isinstance](http://docs.python.org/2/library/functions.html#isinstance)？

示例用法：

```
>>> a = [1, 2, 3, 4]
>>> isinstance(a, list)
True
>>> isinstance(a[0], list)
False
>>> isinstance(a[0], int)
True
>>> b = [[1,2,3], [4, 5, 6], [7, 8, 9]]
>>> isinstance(b[0], list)
True 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-13T07:47:49.947

根据评论，无论如何您都将输入转换为 numpy 数组。由于`np.array`已经处理了计算输入列表嵌套的深度，因此从该数组中找出维数比从嵌套列表中更容易。

特别是，数组有一个`shape`属性，它是数组沿每个维度的长度的元组，所以`len(myarray.shape)`会告诉你维度的数量。例如，

```
>>> import numpy as np
>>> a = np.array([[1,2,3],[1,2,3]])
>>> len(a.shape)
2 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-11-20T12:18:45.067

如果您想了解列表有多少维度，可以使用以下代码片段：

```
def test_dim(testlist, dim=0):
   """tests if testlist is a list and how many dimensions it has
   returns -1 if it is no list at all, 0 if list is empty 
   and otherwise the dimensions of it"""
   if isinstance(testlist, list):
      if testlist == []:
          return dim
      dim = dim + 1
      dim = test_dim(testlist[0], dim)
      return dim
   else:
      if dim == 0:
          return -1
      else:
          return dim
a=[]
print test_dim(a)
a=""
test_dim(a)
print test_dim(a)
a=["A"]
print test_dim(a)
a=["A", "B", "C"]
print test_dim(a)
a=[[1,2,3],[1,2,3]]
print test_dim(a)
a=[[[1,2,3],[4,5,6]], [[1,2,3],[4,5,6]], [[1,2,3],[4,5,6]]]
print test_dim(a) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-25T23:17:18.170

这是非常简化的解决方案。在大多数情况下，多维列表/数组/矩阵将在第一个索引中包含一个列表对象。话虽如此，在 python 中，因为您不需要定义数据类型，如果您的列表看起来像链接：[1，[2,3]，4]，这可能会返回不正确。-- 否则它应该适用于所有正常的多维列表。

```
def is2DList(matrix_list):
  if isinstance(matrix_list[0], list):
    return True
  else:
    return False
# list
list_1 = [1,2,3,4] # 1 x 4
list_2 = [ [1,2,3],[3,4,5] ] # 2 x 2
list_3 = [1, [2,3], 4]

print(is2DList(list_1)) # False
print(is2DList(list_2)) # True
print(is2DList(list_3)) # False - incorrect result 
```

在行动中看到它：[https ://trinket.io/python/a937fe2f00](https://trinket.io/python/a937fe2f00)

# javascript - 在单击按钮之前调用 JavaScript 函数

> ID：15985390
> 
> 赞同：1
> 
> 时间：2013-04-13T07:27:17.210
> 
> 标签：javascript, jquery

我有[jsfiddle](http://jsfiddle.net/9SLEX/)代码。我是什么，我有一个`Cal`对象，它由`init`函数和另一个名为`Event`. 在里面`Event`我有两个函数`init`和`show`. 我正在做的是调用对象`init`的函数`Cal`并在那里传递参数。在这个`init`函数里面我打电话`Event`'s`init`函数并在此处传递相同的参数。在这个函数内部，当用户单击控制台中显示的链接时，`init`我正在调用内部函数。但是当我运行此代码时，它会在单击之前显示在控制台中。**为什么以及如何使其工作，以便在单击 .button 时显示参数？**`show``Event``.button``param``param``.button`

 **这是我的代码

```
var Cal = {
    init: function (param) {
        this.param = param;
        Cal.Event.init(this.param);
    },

    func: function () {},

    Event: {
        init: function (param) {
            $('.button').on('click', this.show(param));
        },

        show: function (param) {
            console.log(param);
        }
    }
}

Cal.init('para'); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T07:33:27.520

.on() 期望参数 2 是一个函数，而不是该函数的返回值

```
$('.button').on('click', function() {
    // Here this points to the button DOM object.
    Cal.Event.show(param)
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T07:39:38.917

你`this.show(param)`马上打电话。将其更改为：

```
init: function (param) {
    $('.button').on('click', $.proxy(function() {
        this.show(param);
    }, this));
}, 
```

[http://jsfiddle.net/9SLEX/3/](http://jsfiddle.net/9SLEX/3/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-13T07:35:18.353

在这行代码中：

```
init: function (param) {
    $('.button').on('click', this.show(param));
}, 
```

您正在**调用**该`show`函数，然后将其返回值传递给`on`，因此它会在您调用`Cal.Event.init`. 当点击发生时，您没有提供`on`要调用的代码。为此，请将其放入事件处理函数中：

```
init: function (param) {
    $('.button').on('click', function() {
        Cal.Event.show(param);
    });
}, 
```

请注意，我更改`this`为`Cal.Event`因为在对处理函数的调用中，`this`将是对按钮的引用，而不是`Cal.Event`.**

# mysql - MYSQL为两个不同的ID查询相同的字段

> ID：15985391
> 
> 赞同：1
> 
> 时间：2013-04-13T07:27:21.937
> 
> 标签：mysql, sql, pivot

我的 MYSQL 功夫很弱，需要一些指导，这是我的 2 个表：

```
TABLE SHIPS

id |  ship_name
1     recon ship
2     light fighter
3     heavy fighter
4     light cruiser

TABLE FLEET

user_id | ship_id | amt
173          1       3
173          2       4
173          3       1
173          4       0
169          1       5
169          2       2
169          3       0
169          4       0 
```

对于我的输出，我试图获取这样的数据：

```
ship_name      | amt1 | amt2
recon ship        3       5
light fighter     4       2
heavy fighter     1       0 
```

其中 amt1 是用户 173 的金额，amt2 是用户 169 的金额。我希望我已经明确了这一点，谢谢！

编辑：我又添加了一艘船，并且两个用户都有 amt=0 的船的情况，我怎么能从结果中省略这种情况，我在 WHERE 子句中尝试过，但它一直告诉我我有一个错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:31:10.273

根据您的问题，这将满足您的基本需求。

```
SELECT  a.ship_name,
        MAX(CASE WHEN b.user_ID = 173 THEN amt END) amt1,
        MAX(CASE WHEN b.user_ID = 169 THEN amt END) amt2
FROM    Ships a
        INNER JOIN Fleet b
            ON  a.id = b.ship_ID AND
                b.user_ID IN (173, 169)
GROUP   BY a.ship_name 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!6/83527/3)

如果您想`user_ID`在语句中不指定任何值的情况下返回所有值，那么*动态 SQL*是更可取的。

**更新 1**

添加`HAVING`子句，

```
SELECT  ...
FROM    ...
GROUP   BY ....
HAVING  MAX(CASE WHEN b.user_ID = 173 THEN amt END) <> 0 AND
        MAX(CASE WHEN b.user_ID = 169 THEN amt END) <> 0 
```

# c++ - C++，文件 i/o...我有一个 .txt 文件，我必须从中扫描外显子和内含子并将它们写入单独的文件

> ID：15985394
> 
> 赞同：0
> 
> 时间：2013-04-13T07:27:55.560
> 
> 标签：c++, arrays, string, file, file-io

程序将从输入文件中顺序读取 DNA 数据，并在遇到外显子和内含子时将它们写到单独的文件中。发现的第一个外显子将写入 exon1.txt，发现的第二个外显子将写入 exon2.txt，依此类推……同样，发现的第一个内含子将写入 intron1.txt，发现的第二个内含子将是写入intron2.txt，以此类推……

外显子是一系列密码子，始终以密码子 ATG 开头并以下列密码子之一结尾：TAA、TGA 或 TAG。任何不以这些密码子开始或停止的序列都是内含子。在扫描数据以查找外显子和内含子时，仅向前扫描并寻找不重叠的外显子和内含子。如果遇到一个外显子起始符号 (ATG) 并且在遇到一个终止密码子之前遇到另一个 ATG，这并不意味着新的外显子已经开始。

我知道如何从文件中读取，并且我已经将它存储在一个全局数组中。数组更可取，我也可以使用字符串。

```
const int MAX_DNA = 50000;
char dnaData[MAX_DNA];

int readFromDNAFile(string fileName) {
 int returnValue = 0;

 ifstream fileHandle;
 fileHandle.open(fileName.c_str());

 if( fileHandle.good() ) {
  char nucleotide;
  int counter = 0;
  while( fileHandle >> nucleotide ) {
   dnaData[counter] = nucleotide;
   counter++;
  }
 returnValue = counter;

 }

 fileHandle.close();
 return returnValue;
} 
```

我真的不知道如何实现下一步该做什么，我确定我必须使用一个循环来命名外显子和内含子的 txt 文件，然后另一个循环可能用于扫描和存储它..

```
void readFiles(string filename){
  for(int i = 0; i < numFiles; i++) {
       //ill open up the file here to read 
            for(int j = 0; j < numCodons; j++) { 
```

任何努力将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:43:16.263

```
"im sure i have to use a loop for naming the txt files for exons and introns" 
```

你说你需要为内含子和外显子创建两个文件，所以你真的不需要循环。

```
int main(){
    ifstream dna("dna.txt");
    ofstream exons("exons.txt");
    ofstream introns("intron.txt");
    while(!dna.eof()){
        string current_line;
        dna >> current_line;
        //if (line belongs to exons){
        // exon1 << current_line  
        //}

        //else(belongs to introns){
        // introns << current_line
        //}
    }

    //close files
} 
```

那不行吗？我不明白为什么需要将数据存储在数组中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:55:29.970

如果我理解正确，除了外显子开始/结束密码子之外，您没有其他分隔符 - 即新行等不重要？

我猜你打算在处理过程中将数据存储在一个数组中，因为如果你开始一个外显子但没有完成它会算作一个内含子？

但是您不需要将所有数据存储在内存中 - 只需打开两个文件句柄即可。将一个留在当前外显子的开头，并使用另一个向前扫描。当你到达外显子的末尾时，你可以将它输出到它的文件中。内含子可以立即输出到其他文件。

# c# - 公钥加密

> ID：15985401
> 
> 赞同：2
> 
> 时间：2013-04-13T07:29:24.337
> 
> 标签：c#, encryption, public-key-encryption

我正在考虑使用公钥加密在两台计算机之间进行通信。

让我们假设在一台计算机上我生成了一个私钥和一个公钥。如果我将公钥发送到另一台计算机，它仍然可以被数据包嗅探器捕获并使用它来解密我的消息吗？如果是，可以做些什么来防止这种情况发生，那么公钥加密的用途是什么？

**更新**

SSL 是否等同于公钥加密？我应该改用它吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T07:33:31.100

不，公钥不是用来解密的，而是用来加密的。你用你的私钥解密。这样，只有**您**可以解密消息。

但是，通常情况下，私钥-公钥加密太昂贵而无法用来加密数据。您将使用私有/公共加密方案来交换共享密钥（大随机数）来加密您的数据。

示例：Alice 创建一个私钥/公钥对，将公钥发送给 Bob。Bob 创建一个很大的随机数并用 Alice 的公钥对其进行加密。爱丽丝可以解密它并找到大的随机数。Alice 和 Bob 然后使用随机数来加密他们的数据流。

作为额外的安全措施，您可以定期更改密钥。

要更新您的 SSL 问题：它的工作原理与我上面描述的完全一样。另见[http://en.wikipedia.org/wiki/Transport_Layer_Security](http://en.wikipedia.org/wiki/Transport_Layer_Security)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T07:37:34.703

答案是肯定的，可以被嗅探器捕获。

**为什么单独使用 RSA 不适合 Matt 的情况？**

> 在马特的情况下，他希望确保两台计算机都是合法的。我的观点是**RSA 只能确保其中 1 个是合法的，而不是两者都合法。**
> 
> 另一个重要的事情是破解者**也**可以使用私钥加密和公钥解密。密钥可以让客户端知道它正在连接到“合法”服务器，但无法帮助服务器确保它是“合法”客户端，因为存储在客户端或从服务器发送的密钥可能会被泄露。更好的解决方案是实现自己的哈希算法以防止被黑客入侵。
> 
> 这是一篇关于 RSA 私钥加密的文章：
> 
> [http://www.codeproject.com/Articles/38739/RSA-Private-Key-Encryption](http://www.codeproject.com/Articles/38739/RSA-Private-Key-Encryption)
> 
> 以银行网站为例，客户应该知道自己在合法网站上，但银行服务器不需要确保客户合法与否，手机认证等方法就可以解决问题。手机认证就像“散列法”，所以，**散列法是必须的**。仅靠 RSA 无法确保安全。
> 
> 如果没有哈希方法，如果破解者将密钥存储或通过互联网传输，他可以轻松制作假客户端，没有任何困难。

**那么，你的解决方案是什么？**

> 由于我正在实施基于客户端-服务器的软件，因此我可以与您分享我的解决方案：
> 
> 1.  我将私钥保存到客户的源代码中。
>     
>     
> 2.  当服务器发送一些响应或客户端发送一些请求时，对方使用私钥/公钥进行加密和解密。
>     
>     
> 3.  您需要一些保护，例如代码混淆来保护存储在客户端中的密钥。
>     
>     
> 4.  您需要设计一个**哈希算法**来确保客户端发送的数据是合法的。黑客最终可能会得到你的密钥，但很难知道你的算法是什么，所以它仍然足够安全。
>     
>     
> 5.  **哈希算法**是指结合添加一些盐/SHA-1/UUID/timestamp...等的算法。我并不是说你应该发明一种新的加密算法。
>     
>     
> 
> 例如，如果纯文本是`I'm so awesome`
> 
> 该算法可以是：
> 
> 结果 = SHA1（盐 + 纯文本 + 时间戳 + 你喜欢的任何东西）
> 
> 如果发现您的算法泄露，只需更改一些关键值。

**如果你的哈希算法泄露了怎么办？**

> 请记住，没有不能被黑客入侵的算法。**我们不需要建造一座不能被摧毁的城堡，我们只需要让敌人付出沉重的代价。**
> 
> 不过，如果出现任何问题，您还需要一个快速的“红色大按钮”。哈希算法可以很容易地扮演这个角色，一个小的修改可以让破解者花费大量的时间来破解它。这已经**足够好了**。

更新：

> SSL 是否等同于公钥加密？我应该改用它吗？

是的，但是您仍然必须将密钥存储在比通过网络发送更好的地方。`HTTPS/TLS`是另一个不错的选择。

# c - 停止 fscanf？

> ID：15985406
> 
> 赞同：0
> 
> 时间：2013-04-13T07:30:14.883
> 
> 标签：c, fopen, scanf

我正在为学校编写一个成绩册计划，但我对一件事感到困惑。我们有一个要读取的文件，其中包含多个学生 ID 和多个分数。会这样做：

```
results = fscanf(gradebook, "%d %d %d %d", id, sco1, sco2, sco3); 
```

在读取时将数字存储到这些变量中，然后当光标用完变量以存储信息时停止光标？...然后我应该直接跳入计算函数以计算最终成绩，然后让它循环 fscanf下一个学生？

```
results = fscanf(gradebook, "%d %d %d %d", id, sco1, sco2, sco3);
          getCalc(sco1, sco2, sco3); 
```

这是允许的吗？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:45:21.307

以下是一个工作示例，给出了每个学生 ID 的平均成绩：

```
#include <stdio.h>

int main(void)
{
        int     id, sco1, sco2, sco3;

        while (fscanf(stdin, "%d%d%d%d", &id, &sco1, &sco2, &sco3) == 4)
        {
                printf("%d: %g\n", id, (sco1+sco2+(double)sco3)/3.0);
        }
        return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:38:32.980

> 会这样做：
> 
> 结果 = fscanf（成绩册，“%d %d %d %d”，id，sco1，sco2，sco3）；
> 
> 在读取时将数字存储到这些变量中，然后在游标用完变量以存储信息时停止游标？

不，除非它在 ​​while 循环中，否则它会在一次读取四个条目后立即停止，除非您使用 from 的值`results`来控制 while 循环并多次调用 fscanf() 以在每次调用时扫描 4 个条目。

例子：-

```
//Keeps reading unless it encounters less than 4 parameters, which might be the case
//if an end of file is reached, or your data pattern changes.

while(  fscanf(gradebook, "%d %d %d %d", id, sco1, sco2, sco3) == 4 )
{
 //You can pass the data of individual id, to calculate function, and compute the required
 //sum, total or other data locally in the function, there is really no reason to use pass
 //address in your case, so just transfer data using pass by value method. 
 getCalc(id,sco1,sco2,sco3);   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:41:38.410

回答您的第一个和第二个问题： 、 和应该的类型`id`（`sco1`即指向an 的指针**）**，这些变量应该明确指向实际对象，并且您应该在使用它们之前检查返回值 ( `sco2`) 。例如：`sco3``int *`**`int``int``results`**

 **```
int a, b, c, d;
int *id = &a, *sco1 = &b, *sco2 = &c, *sco3 = &d;
int results = fscanf(gradebook, "%d %d %d %d", id, sco1, sco2, sco3);
if (results == 4) {
    getCalc(sco1, sco2, sco3);
} 
```

此外， getCalc 应该接受 type 的参数`int *`。满足所有这些要求后，第三个问题的答案是：是的，您可以`getCalc`使用`sco1`,`sco2`和`sco3`作为参数调用。

正如您可能已经猜到的，这里不需要中间指针变量，这可以简化。但是，这种简化需要修改您的`fscanf`表达式（插入`&addressof`运算符）：

```
int id, sco1, sco2, sco3;
int results = fscanf(gradebook, "%d %d %d %d", &id, &sco1, &sco2, &sco3);
if (results == 4) {
    getCalc(&sco1, &sco2, &sco3);
} 
```

你在看哪本书？**

# jquery - 图像过渡 jQuery

> ID：15985412
> 
> 赞同：0
> 
> 时间：2013-04-13T07:31:19.530
> 
> 标签：jquery, image, transition

我正在尝试使用 jQuery 在我的主页上为潜在客户模拟图像幻灯片。我只希望图像平滑过渡。image0.jpg ... imagen.jpg。请注意，javascript 中的单引号是因为标记包含在标签内。

JAVASCRIPT：

```
 <script type="text/javascript">

            function swapImages()
            {
                  var $active = $(\'#myGallery .active\');
                  var $next = ($(\'#myGallery .active\').next().length > 0) ? $(\'#myGallery .active\').next() : $(\'#myGallery img:first\');
                  $active.fadeOut(function(){
                  $active.removeClass(\'active\');
                  $next.fadeIn().addClass(\'active\');
                  });
            }

            $(document).ready(function(){
                // Run our swapImages() function every 5secs
                setInterval(\'swapImages()\', 5000);
            }

        </script> 
```

CSS：

```
 <style type="text/css">
        .clear
        {
            clear:left;
        }

        /* transition effects */
        #myGallery
        {
            position:relative;
            width:1000px; /* Set your image width */
            height:400px; /* Set your image height */
        }
        #myGallery img
        {
            display:none;
            position:absolute;
            top:0;
            left:0;
        }
        #myGallery img.active
        {
            display:block;
        }
        </style> 
```

HTML：

```
 <div id="myGallery">
                    <img src="'.$baseLink.'/images/slide/0.jpg" alt="Wholesalers" class="active" />
                    <img src="'.$baseLink.'/images/slide/1.jpg" alt="Premier eShop Software" />
                    <img src="'.$baseLink.'/images/slide/2.jpg" alt="Team Work" />
                </div> 
```

# php - 你如何摆脱/从配置文件中生成

> ID：15985414
> 
> 赞同：-1
> 
> 时间：2013-04-13T07:31:27.327
> 
> 标签：php, html, config

我正在尝试创建一个系统，您可以在其中编辑带有文本字段的网页中的 config.php 文件，这是我的网页代码，但是当我通过此处[http://color的网页编辑 config.php 时发生了什么-craft.info/dayzlegendz/controlpanel](http://color-craft.info/dayzlegendz/controlpanel)它用 / 替换 " 阻止配置工作

```
<?php

// First bring the actual value of the file:
$file = 'config.php';
// Uncomment next line to check if the file exists in the path
// print_r( glob( dirname(__FILE__) . "/*.php"  ) );

$configFile = html_entity_decode( file_get_contents($file) );

// On submit on the changes update the file
if ( isset( $_POST["save_button"] ) && $_POST["config_changes"]){
  # This doesn't work: $changes = $path = str_replace("\"", "'", $_POST["config_changes"]);
  file_put_contents($file, $_POST["config_changes"]);
}
header("Location: " . $_SERVER["SCRIPT_FILENAME"] );
?>

<html>
  <body>
    <!-- HTML form to send the changes to php -->
    <form method="post" action="file.php">
      <textarea name="config_changes"><?php echo $configFile ?></textarea>
      <button name="save_button">Save</button>
    </form>
  </body>
</html> 
```

这是我的 config.php 代码

```
<?php

$site_title = "Shopname";
$site_name = "Shopname"; 

$mainpage_header = "Welcome";

$mainpage_content = "Buy A Key"; 

$dbhost = "nolooky"; 
$dbuser = "nolooky"; 
$dbpass = "nolooky"; 
$db = "nolooky"; 

$price1 = "2.50"; 
$price1keys = "1"; 

$price2 = "5.00"; 
$price2keys = "2";

$price3 = "7.50";
$price3keys = "3";

$price4 = "10.00";
$price4keys = "4";

$price5 = "12.50";
$price5keys = "5";

$paypal_email = "myemail"; 
$confirm_email = "myemail";
$fulldomain = "mydomain";

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:58:45.437

以下行将转换双引号

```
$configFile = html_entity_decode(file_get_contents($file)); 
```

你能把它改成如下

```
$configFile = html_entity_decode(file_get_contents($file), ENT_NOQUOTES); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:54:03.120

听起来您在服务器上启用了 magic_quotes。在写入文件之前尝试放置它，如果它修复它，您可以保留它，或者最好禁用魔术引号/升级到更新的 php 版本。

`

```
$process = array(&$_GET, &$_POST, &$_COOKIE, &$_REQUEST);
while (list($key, $val) = each($process)) {
    foreach ($val as $k => $v) {
        unset($process[$key][$k]);
        if (is_array($v)) {
            $process[$key][stripslashes($k)] = $v;
            $process[] = &$process[$key][stripslashes($k)];
        } else {
            $process[$key][stripslashes($k)] = stripslashes($v);
        }
    }
}
unset($process); 
```

} ?>`

# c# - Windows 手机创建类似 Facebook 的侧边菜单栏

> ID：15985415
> 
> 赞同：6
> 
> 时间：2013-04-13T07:31:38.310
> 
> 标签：c#, .net, windows-phone-7, user-controls

我是 Windows Phone 7 开发的新手，我正在尝试创建类似于 Facebook 上使用的侧菜单栏。

我已经`usercontrol`为不同的屏幕创建并添加了按钮，我还创建`PhoneApplicationPage`并添加了一个按钮。

当我单击该按钮时，它将尝试像菜单栏一样从上到右滑动。

如果我再次单击它，它会在右上角隐藏它。

如果有人可以提供帮助，请分享您的代码或示例。

谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-07-23T06:55:50.743

我刚刚为此写了一个完整的解决方案……确实你需要视觉状态！ [http://depblog.weblogs.us/2013/07/22/facebook-like-settings-pane-windows-phone/](http://depblog.weblogs.us/2013/07/22/facebook-like-settings-pane-windows-phone/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-28T13:14:01.760

签出`SlideView`，被描述为“......灵感来自 Windows Phone 上的官方 Facebook 应用程序的导航抽屉。” [https://slideview.codeplex.com/](https://slideview.codeplex.com/)

编辑一旦你通过 nuget 的安装包 SlideView 安装了 SlideView

创建一个用户控件，它将代表您想要的 SlideView，例如 LeftView.xaml。您可以为另一方创建另一个用户控件，例如 RightView.xaml

然后在您的 App.xaml 文件中，将 SlideView 定义为资源，

```
xmlns:slideView="using:SlideView.Library"
xmlns:views="using:SideNav.Views"
xmlns:local="using:SideNav">

<Application.Resources>
    <slideView:SlideApplicationFrame Header="SlideView" Background="White" x:Key="RootFrame" >
        <slideView:SlideApplicationFrame.LeftContent>
            <views:LeftView/>
        </slideView:SlideApplicationFrame.LeftContent>
        <slideView:SlideApplicationFrame.RightContent>
            <views:RightView/>
        </slideView:SlideApplicationFrame.RightContent>
    </slideView:SlideApplicationFrame>
</Application.Resources> 
```

完成后编辑您的 App.xaml.cs 以更改默认的 RootFrame 和 OnLaunchedMethod

```
public sealed partial class App : Application
{
    private TransitionCollection transitions;

    public static SlideApplicationFrame RootFrame { get; private set; }

    protected override void OnLaunched(LaunchActivatedEventArgs e)
    {

        RootFrame = Window.Current.Content as SlideApplicationFrame;

        // Do not repeat app initialization when the Window already has content,
        // just ensure that the window is active
        if (RootFrame == null)
        {
            // Create a Frame to act as the navigation context and navigate to the first page
            RootFrame = this.Resources["RootFrame"] as SlideApplicationFrame;

            // TODO: change this value to a cache size that is appropriate for your application
            RootFrame.CacheSize = 1;

            // Set the default language
            RootFrame.Language = Windows.Globalization.ApplicationLanguages.Languages[0];

            if (e.PreviousExecutionState == ApplicationExecutionState.Terminated)
            {
                // TODO: Load state from previously suspended application
            }

            // Place the frame in the current Window
            Window.Current.Content = RootFrame;
        }

        if (RootFrame.Content == null)
        {
            // Removes the turnstile navigation for startup.
            if (RootFrame.ContentTransitions != null)
            {
                this.transitions = new TransitionCollection();
                foreach (var c in RootFrame.ContentTransitions)
                {
                    this.transitions.Add(c);
                }
            }

            RootFrame.ContentTransitions = null;
            RootFrame.Navigated += this.RootFrame_FirstNavigated;

            // When the navigation stack isn't restored navigate to the first page,
            // configuring the new page by passing required information as a navigation
            // parameter
            if (!RootFrame.Navigate(typeof(MainPage), e.Arguments))
            {
                throw new Exception("Failed to create initial page");
            }
        }

        // Ensure the current window is active
        Window.Current.Activate();
    }
} 
```

这应该可以工作。只需将内容添加到 Rightview.xaml 和 LeftView.xaml。出于某种原因，当我启动它时，我的 WindowsPhone 8.1 xaml 崩溃了。但是当我使用 SlideView 的 Zumicts Fork 时一切正常，它可以作为 nuget 包在这里

```
Install-Package SlideView.Library.WP81.Zumicts 
```

有没有人遇到过同样的问题？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-03T20:46:37.187

尝试像 facebook 这样的侧面菜单栏也支持手势。试试下面的链接。

[http://developer.nokia.com/community/wiki/Control_animation_while_navigating_between_panes_inside_a_Windows_Phone_page](http://developer.nokia.com/community/wiki/Control_animation_while_navigating_between_panes_inside_a_Windows_Phone_page)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T07:50:27.173

好吧，没有像 iOS 那样简单的方法来做到这一点。但是您可以使用[Visual State Manager](http://msdn.microsoft.com/en-us/library/system.windows.visualstatemanager%28v=vs.95%29.aspx)。

基本上，塑造比您的舞台更大的屏幕。然后，您需要创建一个状态，将您的屏幕在舞台上向左移动一点，您可以使用一个按钮。您需要在按钮的单击方法上调用状态。

PS：不要使用情节提要。使用 States 是最简单的方法。

# c++ - VS2012项目过期

> ID：15985421
> 
> 赞同：1
> 
> 时间：2013-04-13T07:32:09.747
> 
> 标签：c++, visual-studio-2012

我尝试在这里搜索类似的问题，但它们都太复杂了，我刚开始用 C++ 做我的 Hello World，这是代码，以防万一：

```
#include <iostream>

int main() {
std::cout << "Hello World!\n";
return 0;
} 
```

它只有在我编译它然后在不调试且不重建它的情况下开始时才能正常工作（当它说它已经过时时）。如果我开始调试，它仍然说它已过时，但无论我是否重建它，控制台都会显示半秒钟然后程序退出。为什么是这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:09:40.587

这是因为您的程序执行然后通过您的

```
return 0; 
```

所以它几乎立即发生并完成，您需要一种能够“暂停”您的应用程序执行以查看您的输出的方法。你可以做 std::cin >>。但我建议使用系统暂停，您需要添加的是

```
System("pause"); 
```

和

```
#include <stdlib.h> 
```

所以你的 hello world applicaiton 应该看起来像

```
#include <iostream>
#include <stdlib.h>
int main()
{
   std::cout << "hello world\n";
   system("pause");
   return 0;
} 
```

然而

```
 system("pause") 
```

是 Windows 特有的功能，出于各种原因，应避免用于严重的应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:24:31.953

有几种方法可以查看一个很快完成的小程序的输出：

1.  放一个无限循环`while(true)`，或者`for(;;)`，

2.  从 读取`std::cin`。

3.  在退出之前在 调试器中放置一个**断点**`main()`。

4.  **从命令行**重定向您的输出**`my_program.exe > my_output.txt`： .**

 **我更喜欢方法号。4 因为它不需要更改您的代码。**

# highcharts - 如何启用 highcharts x 和 y 轴滚动条？

> ID：15985425
> 
> 赞同：0
> 
> 时间：2013-04-13T07:32:48.643
> 
> 标签：highcharts

如何启用 highcharts 滚动条。大多数论坛建议使用 Highstock 来获取滚动条。[我在http://www.highcharts.com/stock/demo](http://www.highcharts.com/stock/demo)看到了 highstock 演示。它不支持 highcharts 支持的所有图表类型。

谢谢，克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:56:09.257

在做了一些研发后找到了解决方案，对于需要滚动的 div，我将溢出设置为滚动，并在加载事件中设置适合屏幕显示的宽度。然后滚动条会自动出现。下面是示例。

图表：{类型：'列'，事件：{加载：函数（事件）{$（'#container）.width（800）；} } },

# node.js - TypeError：无法使用“in”运算符在男性中搜索“_id”

> ID：15985434
> 
> 赞同：10
> 
> 时间：2013-04-13T07:34:09.850
> 
> 标签：node.js, mongodb, express, mongoose

嗨，我在使用新版本的 node.js 时遇到问题之前我使用过这样的代码

```
 label(for='user_sex') Sex:
 select(id='user_sex', name='user[sex]')
   option(id='user_male',value=user.sex,selected=1)='male'
   option(id='user_female',value=user.sex)='female' 
```

和 app.js 中的代码

```
 var user = new User(req.body.user);
 -- other code
 var sex = new User(req.body.user.sex);
 User.find({}, function(err, users) {
 for(var i = 0;i< users.length;i++) {
    if(users[i].email == email) {
       useremail = users[i].email;
    }
 }
 if(!useremail) {
    user.save(function(err) {
      if (err) return userSaveFailed();
      req.flash('info', 'Your account has been created');
      emails.sendWelcome(user);

      switch (req.params.format) {
        case 'json':
          res.send(user.toObject());
        break;

        default:
          req.session.user_id = user.id;
          res.redirect('/userinfo');
      }
    });
 } 
```

完整的错误日志如下：

```
500 TypeError: Cannot use 'in' operator to search for '_id' in male

at model.Document.$__buildDoc (C:\SocialNetwork\node_modules\mongoose\lib\document.js:159:27)
at model.Document (C:\SocialNetwork\node_modules\mongoose\lib\document.js:58:20)
at model.Model (C:\SocialNetwork\node_modules\mongoose\lib\model.js:38:12)
at new model (C:\SocialNetwork\node_modules\mongoose\lib\model.js:2092:11)
at C:\SocialNetwork\app.js:1033:13
at callbacks (C:\SocialNetwork\node_modules\express\lib\router\index.js:272:11)
at param (C:\SocialNetwork\node_modules\express\lib\router\index.js:246:11)
at param (C:\SocialNetwork\node_modules\express\lib\router\index.js:243:11)
at pass (C:\SocialNetwork\node_modules\express\lib\router\index.js:253:5)
at Router._dispatch (C:\SocialNetwork\node_modules\express\lib\router\index.js:280:5) 
```

问题似乎与我知道现在已弃用的连接表单有关，所以我现在正在使用强大的。谁能帮我解决这个错误

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-05-31T21:28:43.680

您收到此错误是因为您没有正确构建模型实例。它需要属性的哈希值及其对应的值，但您提供的参数是一个字符串。从上面的代码中， req.body.user 是一个哈希`{sex: "male"}`，而 req.body.user.sex 只是一个字符串“男性”。你可以做;

```
user = new User({sex: "male"}); 
```

但你不能这样做；

```
user = new User("male"); 
```

这就解释了为什么您的第一个带有 req.body.user 参数的“用户”实例可以工作，但使用 req.body.user.sex 参数失败。我还不确定你想要实现`var sex = new User(req.body.user.sex);`什么你想创建另一个用户模型实例吗？或相关的性别模型？

# java - 在使用 java 时没有合适的驱动程序连接到 mysql 数据库 web 主机

> ID：15985438
> 
> 赞同：1
> 
> 时间：2013-04-13T07:34:53.840
> 
> 标签：java, mysql

我正在尝试使用 java 连接到我在 Web 主机而不是 localhost 上托管的 mysql 数据库。我已将 mysql-connector 包含在项目的 java 构建路径中。我有以下代码：

```
package com;
import java.sql.*;

public class Retrieve{
    public static void main(String[] args) throws InstantiationException, IllegalAccessException
    {
        try {
            Class.forName("com.mysql.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
        String host = "mysql4.000webhost.com/a6136644_bustrac";
        String user = "";
        String password = "";
        Connection conn = null;
        try {
            conn = DriverManager.getConnection(host, user, password);
            if(conn != null)
            {
                System.out.println("Connection Successfull");
            }
        }
        catch (SQLException e)
        {
        System.out.println(e.getMessage());
        System.exit(0);
        }
   }

} 
```

我没有收到任何错误，但是当我运行程序时，我得到：

```
No suitable driver found for mysql4.000webhost.com/a6136644_bustrac 
```

可能是什么问题？

编辑：主机 url 中的 a6136644_bustrac 是指数据库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:41:24.787

代替：

```
String host = "mysql4.000webhost.com/a6136644_bustrac"; 
```

尝试：

```
String host = "jdbc:mysql://mysql4.000webhost.com/a6136644_bustrac"; 
```

**解释：**

您误解了 JDBC url 的概念。

它必须（对于 MySQL）至少具有基本格式：

```
jdbc:mysql://[host:port]/[database] 
```

不只是：

```
[host] 
```

正如你正在使用的那样。

检查更多可能的格式：[http ://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-configuration-properties.html](http://dev.mysql.com/doc/refman/5.0/en/connector-j-reference-configuration-properties.html)

# php - 对文件名进行升序或降序排序

> ID：15985445
> 
> 赞同：-3
> 
> 时间：2013-04-13T07:35:33.810
> 
> 标签：php, html, jquery-ui-sortable

我有另一个问题。我将文本文件存储在本地文件夹中。我能够按升序显示文件名。但我想知道如何使用 php 按降序对其进行排序。谢谢。我想让用户能够在单击按钮时对文件进行排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:39:19.373

如果您的文件名存储在数组中，您可以试试这个：

`array_reverse($filenames)`

升级版：

如果不是，您可以使用**[scandir ：](http://php.net/manual/ru/function.scandir.php)**

`scandir($path, SCANDIR_SORT_DESCENDING)`

# javascript - Jquery-脚本问题

> ID：15985449
> 
> 赞同：0
> 
> 时间：2013-04-13T07:36:17.143
> 
> 标签：javascript, jquery

我遇到了一个问题。我有 UI 部分和服务器部分代码。在 UI 中，我将数据以 json 格式发送到服务器端。实际上我的问题是我编写了以下脚本。#btn_login 单击用于登录，页面运行良好。对于下一个“btn_AddDoc”，单击没有任何反应，页面重新加载。

Olease 建议。我没有脚本经验。

```
var userid ;
  $(function () {
     $("#dialog").dialog();
      //login button click
      $("#btn_login").click( function () {
          var GetLogDet = {};
          GetLogDet.Username =$("#username").val();
          GetLogDet.Password = $("#password").val();
          $.ajax({
              type: "POST",
             url: "http://localhost/EMRDMSService/Service.asmx/User_Login",
             data: "{lg:" + JSON.stringify(GetLogDet) + "}",
            // url: "http://localhost/EMRDMSService/Service.asmx/Permission_List",
             // data: "{userid:" + JSON.stringify(GetLogDet) + "}",

              contentType: "application/json; charset=utf-8",
              dataType: "json",
              success: function (r) {                     

                              console.log(r.d.STAT);
              }
          });
      });
      //add document button click
      $("#btn_AddDoc").click( function () {
          var InsDocDet = {};
          InsDocDet.docname=$("#DocName").val();
          InsDocDet.file_name=$("#FlName").val();
          InsDocDet.ownerUser=1;
          InsDocDet.catid=$("#drp_cat").val();
          InsDocDet.createDatetime=new Date();
          InsDocDet.description_d=$("#Desc").val();
          InsDocDet.comments_=$("#cmnts").val();
          InsDocDet.deptid_=1;
          InsDocDet.con_type=1;
          InsDocDet.size_=1;
          InsDocDet.Doc_status="up";

          $.ajax({
              type: "POST",
            // <!-- url: "http://localhost/EMRDMSService/Service.asmx/User_Login",-->
             url: "http://localhost/EMRDMSService/Service.asmx/Permission_List",
              data: "{ins_Doc:" + JSON.stringify(GetLogDet) + "}",
              contentType: "application/json; charset=utf-8",
              dataType: "json",
              success: function (r) {                     

                              console.log(r.d.STAT);
              }
          });
      });

  }); 
```

问候，

西瓦吉斯·S。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:43:34.840

我看到一个错字

`data: "{ins_Doc:" + JSON.stringify(GetLogDet) + "}",`

在`$("#btn_AddDoc").click`函数中。

尝试改变

`data: "{ins_Doc:" + JSON.stringify(GetLogDet) + "}",`

在

`data: "{ins_Doc:" + JSON.stringify(InsDocDet) + "}",`

# c++ - C++ Ifstream 转换成类对象数组

> ID：15985452
> 
> 赞同：0
> 
> 时间：2013-04-13T07:36:43.983
> 
> 标签：c++, arrays, class, ifstream

我在编程项目上遇到了一些麻烦。我想从 .txt 文档中获取信息，并将信息存储在类对象数组中。对于 .txt 文档的每一行，我想要创建一个新的类对象。

所以如果有

"10 Mark 9/24/1988 客户经理

9 珍妮 8/6/1983 运输助理”

在 .txt 中，第一行将存储在 uArray[0] 处的第一个对象的变量中，第二行将存储在 uArray[1] 的变量中。

我创建了一个包含五个变量的“用户”类。

```
int iD;
string name, birth, sSN, dept, position; 
```

这就是我所拥有的，我知道这很遥远，但我无法做到正确..

```
{
ifstream myFile;
users uArray[100];

myFile.open("users.txt")
while(!myFile.eof())
   {
   myFile >> uArray.users.iD >> uArray.users.name >> uArray.users.sSN ...(ect);
   }
} 
```

我应该创建一个调用函数来对信息进行排序还是有更简单的方法？我卡住了...对不起初学者的问题...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:44:04.720

您可以重载`operator>>`以使这更容易一些。这是运算符重载的实际目的。您提供自定义行为，并且在使用流时它是完全透明的。在你的类中声明一个`friend`-function

```
friend std::ifstream& operator>>(std::ifstream&, users& user); 
```

并实施

```
std::ifstream& operator>>(std::ifstream& stream, users& user){
    stream >> user.iD >> user.name >> user.sSN ...(ect)
    return stream;
} 
```

然后，您可以使用 for 循环并像上面那样做。但是您必须使用数组索引来处理数组中的单个元素

```
int i = 0;
while(!myFile.eof())
{
    myFile >> uArray[i].users.iD >> uArray[i].users.name >> 
    uArray[i].users.sSN ...(ect);
    i++;
} 
```

请参阅[此处](http://www.functionx.com/cpp/Lesson25.htm)获取教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:41:28.757

您需要更类似于此的东西，在其中对数组进行索引：

```
ifstream myFile;
users uArray[100];

myFile.open("users.txt")
i=0;
while(!myFile.eof())
{
    myFile >> uArray[i].iD >> uArray[i].name >> uArray[i].sSN ...(ect);
    i++;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:42:49.373

您没有`uArray`正确访问 的元素。由于它是一个数组（在您的示例中大小为 100），因此您需要指定要将数据加载到哪个数组元素，如

```
uArray[i].users.iD 
```

解决问题的一种方法是为文件中的每条记录增加一个变量：

```
int index = 0;
while ( !myFile.eof() && index < 100 ) {
    myFile >> uArray[index].users.iD >> ...;
    index++;
} 
```

顺便说一句，如果您为“100”值命名（作为 a`#define`或作为 a `const int`），并使用该值进行比较，您将获得加分`index`。

# c# - 如何传递接口使其成为类对象并在另一个项目中使用其方法

> ID：15985456
> 
> 赞同：1
> 
> 时间：2013-04-13T07:37:22.423
> 
> 标签：c#, oop, interface

我有以下情况：

我有一个项目“Logger”，它的类具体类名为“Log”，这个“Log”继承自接口“Ilog”，该接口来自具有所有接口的项目“Common”

所以现在解决方案看起来像

MainSolution -Logger（类库）-Log.cs

*   公共（类库）

    *   ILog（接口）
    *   ICache（接口）
*   缓存（类库）

    *   Cache.cs（这个类是ICache从普通项目中继承而来的。

现在cache.cs也需要使用Logging，我不想使用logger项目的引用，只使用Common项目引用实现日志。

请给点办法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:42:34.763

您可以使用 IOC 来解决此问题。通过使用 IOC，您只需在`Common`library 中引用`Cache`类库；`Log`但是在类上调用方法。

您需要做的就是创建一个容器；通过使用配置文件或编码将您的接口映射到您的对象；并通过国际奥委会解决您的问题。

您可以参考[此链接](http://unity.codeplex.com/)和Unity IOC 的[此链接](http://msdn.microsoft.com/en-us/library/ff649614.aspx#intro_examplecode)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:41:36.367

“我不想使用包含代码的项目，但我确实想使用它”是相当欠考虑的。

只需使用它或在 Cache 类库中重新实现 ILog 即可。

# sql-server-2012 - select语句的sql语法错误

> ID：15985458
> 
> 赞同：1
> 
> 时间：2013-04-13T07:37:41.720
> 
> 标签：sql-server-2012

这是第一次在sql server上工作。我在“END”处收到错误，因为“END 附近的语法不正确”。假设如果我删除“限制 20”，它不是播种错误。我该如何解决。我的过程：

```
ALTER PROCEDURE [dbo].[GettotalApps]
AS 
BEGIN
   SET  XACT_ABORT  ON
   SET  NOCOUNT  ON

   SELECT
       v.appId,
       v.Description,
       (SELECT COUNT(appidorchannelid) 
        FROM ratings r 
        WHERE r.AppIdOrChannelId = v.channelid) AS Channelvotes
   FROM 
       apps v
   WHERE 
       v.ChannelStatusId = 1 
       AND v.IsChannelPrivate = 0
   ORDER BY 
       SubscriberCount DESC 
   limit 20
END 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:43:04.043

SQL Server 没有`LIMIT`关键字 - 这是 MySQL 特定的、非 ISO/ANSI 标准的扩展。

请改用`TOP`关键字：

```
 SELECT TOP (20)
       v.appId,
       v.Description,
       (SELECT COUNT(appidorchannelid) 
        FROM ratings r 
        WHERE r.AppIdOrChannelId = v.channelid) AS Channelvotes
 FROM 
      apps v 
```

# css - 根据页面激活导航项

> ID：15985462
> 
> 赞同：0
> 
> 时间：2013-04-13T07:37:54.973
> 
> 标签：css, asp.net-mvc, asp.net-mvc-3, twitter-bootstrap

有一个子导航如下：

```
<div class="well sidebar-nav span3">
    <ul class="nav nav-list bs-docs-sidenav">
        <li><a href="/bio"><i class="icon-chevron-right"></i>Bio</a></li>
        <li><a href="/resume"><i class="icon-chevron-right"></i>Resume</a></li> 
    </ul>
</div> 
```

这是由以下人员加载的：

```
@{Html.RenderAction("SubNav");} 
```

它调用非控制器操作：

```
 [ChildActionOnly]
    public ActionResult SubNav()
    {
        return PartialView();
    } 
```

现在基于页面，我如何添加`active`到 subnav 中的 li 类，以便我可以使其显示为选中/活动？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:49:55.693

您可以使用操作名称。在运行时找到动作名称，通过模型或 ViewBag 将其传递给查看。

```
 [ChildActionOnly]
    public ActionResult SubNav()
    {
            var rd = Request.RequestContext.RouteData;
            string currentAction = rd.GetRequiredString("action");
            string currentController = rd.GetRequiredString("controller");
            string currentArea = rd.Values["area"] as string;
            ViewBag.ActionName = currentAction;
            return PartialView();
    } 
```

在视图中：

```
<div class="well sidebar-nav span3">
    <ul class="nav nav-list bs-docs-sidenav">
        <li><a href="/bio"><i class="icon-chevron-right  @(ViewBag.ActionName == "bio" ? "ActiveClass" : "")" ></i>Bio</a></li>
        <li><a href="/resume"><i class="icon-chevron-right  @(ViewBag.ActionName == "resume" ? "ActiveClass" : "")"></i>Resume</a></li> 
</ul> 
```

# delphi - 在firemonkey中安装字体

> ID：15985465
> 
> 赞同：0
> 
> 时间：2013-04-13T07:39:01.010
> 
> 标签：delphi, firemonkey, delphi-xe3

如何在我的 firemonkey 应用程序中使用嵌入字体或安装新字体？

我尝试[了这个解决方案](https://stackoverflow.com/a/2305405/986739)，但`WM_FONTCHANGE`没有在 FMX 中定义！

我想在我的应用程序中使用自定义字体，我该怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-24T00:48:16.023

我按照此处的说明进行操作，它们有所帮助。我有一些额外的提示可能会有所帮助，

*   完成这项工作所需的两个包含项是 WinAPI.Windows 和 WinAPI.Messages。
*   如果您将这些包含在“uses”子句的开头，您不太可能与 TBitmap 之类的内容发生名称冲突。

现在，我添加了以下代码，

```
procedure TMainForm.FormCreate(Sender: TObject);
begin
  AddFontResource('c:\fontpath\myfont.ttf');
  SendMessage(HWND_BROADCAST, WM_FONTCHANGE, 0, 0) ;
end;

procedure TMainForm.FormDestroy(Sender: TObject);
begin
  RemoveFontResource('c:\fontpath\myfont.ttf');
  SendMessage(HWND_BROADCAST, WM_FONTCHANGE, 0, 0) ;
end; 
```

当我以 firemonkey 形式运行它时，我观察到以下内容。

1.  代码运行
2.  其他应用程序（例如记事本、办公室）可以突然看到新字体
3.  我的应用程序中的文本对象无法识别新字体
4.  如果我用字体名称动态命名我的文本对象，它仍然不会改变。
5.  如果我用另一种明显的字体动态命名我的文本对象，它就会改变。
6.  如果我关闭我的应用程序，其他应用程序将停止看到新字体。

这告诉我我的代码有效（参见项目符号 1\. 和 6.） - 但如果您使用记事本中出现的名称，FMX 将无法识别我的主窗体上的字体。我已经四次检查了字体名称。

我创建了两个相同的项目。一个是 VCL，另一个是 FMX。VCL 项目完美运行——无论是静态文本还是动态文本。FMX 代码两者都不起作用。如果我不得不冒险猜测，我会说 FMX 在启动时构建一个字体列表，并根据该列表检查可用字体列表（即像缓存一样）。我冒昧地猜测这样做是为了从底层操作系统中抽象 FMX ......

如果有人在firemonkey下完成了这项工作，我将不胜感激。另外，如果有人知道如何在 Mac 下实现相同的目标，我也会很感激指针。

问候，

埃德先生

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:29:32.210

您当然可以`Winapi.Messages`在明确针对 Windows 的 FMX 应用程序中使用该单元，并且在那里定义了消息常量。

如果您不想使用`Winapi.Messages`，只需在您自己的代码中定义常量：

```
const
  WM_FONTCHANGE = $001D; 
```

# meteor - 使用客户端和服务器目录组织 Meteor

> ID：15985470
> 
> 赞同：2
> 
> 时间：2013-04-13T07:39:43.513
> 
> 标签：meteor

我开始使用 Meteor，我已经从一个咖啡文件中运行了所有内容，但我想组织起来并将一些代码移动到 /public 和 /server。但是，当我这样做时，我的收藏是未定义的。我已经移动了很多代码，但集合仍未定义。我已经删除了自动发布和不安全的包。我究竟做错了什么？

/main.coffee

```
Trips = new Meteor.Collection "trips"

if Meteor.isClient
    Meteor.subscribe 'trips'

if Meteor.isServer
    Meteor.publish 'trips', -> Trips.find()

    Trips.allow
        insert: -> true
        update: -> true
        remove: -> true 
```

/client/trips.coffee

```
Meteor.startup ->
    Template.Trips.all_trips = -> Trips.find() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:00:09.833

您需要 a`Trips`才能访问其他文件，[Meteor 0.6.0 引入了您在根目录中定义的变量范围](http://www.meteor.com/blog/2013/04/04/meteor-060-brand-new-distribution-system-app-packages-npm-integration)，`Trips`因此它不是全局的并且您`client/trips.coffee`看不到它。您可以通过以下方式使其全球化`@`：

在你的`/main.coffee`

```
@Trips = new Meteor.Collection "trips" 
```

因此，其他文件（客户端和服务器）都可以访问它。

当您进一步拆分文件时，您最终应该得到 3 个文件：

**/main.coffee**（服务器和客户端都可以访问并首先加载）

```
@Trips = new Meteor.Collection "trips" 
```

**/client/trips.coffee**

```
Meteor.subscribe 'trips'
Meteor.startup ->
    Template.Trips.all_trips = -> Trips.find() 
```

**/server/server.coffee**

```
Meteor.publish 'trips', -> Trips.find()

Trips.allow
    insert: -> true
    update: -> true
    remove: -> true 
```

# java - TableModel 中的 setValueAt 总是得到一个字符串

> ID：15985474
> 
> 赞同：0
> 
> 时间：2013-04-13T07:40:10.750
> 
> 标签：java, swing, jtable

我有一个 JTable，其中一个列中包含不同的对象类型。每种类型都有自己的渲染器和编辑器（getDefaultRenderer(Number.class)、我自己的 Date 渲染器/编辑器等）。

但是`setValueAt(Object value, int row, int col)`我的表模型中的方法（我覆盖 DefaultTableModel）总是将 String 作为`value`. 因此，尽管有不同的编辑器，我无法在不解析字符串的情况下更新行，这不是一个好主意，因为我的表将来应该可以轻松处理其他对象类型。

`getValueAt(int row, int col)`不将对象转换为字符串。我检查了一下。这种行为的原因是什么？

编辑：下面的代码。只有布尔单元格编辑器似乎工作正常。

```
import java.awt.Component;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.*;
import javax.swing.*;
import javax.swing.table.*;

public class Tabela {

public static void main(String[] args){
    JFrame fr = new JFrame("tabela");
    fr.setSize(600, 400);
    fr.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    // custom renderer and editor for Date
    final DateCellEditor dateEditor = new DateCellEditor();
    final DateCellRenderer dateRenderer = new DateCellRenderer();

    final TableModel model = new TableModel();
    JTable table = new JTable(model){
        public TableCellEditor getCellEditor(int row, int col){
            if (model.getValueAt(row, col) instanceof Boolean)
                return getDefaultEditor(Boolean.class);
            else if (model.getValueAt(row, col) instanceof Number)
                return getDefaultEditor(model.getValueAt(row, col).getClass());
            else if (model.getValueAt(row, col) instanceof Date)
                return dateEditor;
            else return getDefaultEditor(Object.class);
        }

        public TableCellRenderer getCellRenderer(int row, int col){
            if (model.getValueAt(row, col) instanceof Boolean)
                return getDefaultRenderer(Boolean.class);
            else if (model.getValueAt(row, col) instanceof Number)
                return getDefaultRenderer(model.getValueAt(row, col).getClass());
            else if (model.getValueAt(row, col) instanceof Date)
                return dateRenderer;
            else 
                return getDefaultRenderer(Object.class);
        }
    };
    JScrollPane sc = new JScrollPane(table);
    fr.getContentPane().add(sc);
    fr.setVisible(true);    
}

public static class TableModel extends DefaultTableModel{
    // data in first column
    private ArrayList<String> names = new ArrayList<String>();
    // data in second column - can by any object
    private ArrayList<Object> values = new ArrayList<Object>();

    public TableModel(){
      // insert example data
        names.add("string value");
        values.add("some string");
        names.add("number value");
        values.add(new Integer(12345));
        names.add("Boolean value");
        values.add(new Boolean(false));
        names.add("Double value");
        values.add(new Double(10.5));
        names.add("Date object");
        values.add(new Date(System.currentTimeMillis()));
    }

    public void setValueAt(Object value, int row, int col){
        values.set(row, value);
        fireTableCellUpdated(row, col);
    }

    public Object getValueAt(int row, int col){
        if (col==0)
            return names.get(row) + " ["+values.get(row).getClass().getSimpleName()+"]";
        else return values.get(row); 
    }

    public int getRowCount(){
        if (values==null) return 0;
        else return values.size();
    }

    public int getColumnCount(){
        return 2;
    }

    public boolean isCellEditable(int row, int col){
        return col==1; // only column 2 is editable
    }

    public Class<?> getColumnClass(int col){
        switch(col){
        case 0:
            return String.class;
        default:
            return Object.class;
        }
    }

}

// My own renderer and editor for Date type
protected static class DateCellRenderer extends DefaultTableCellRenderer{
    private static DateFormat format = new SimpleDateFormat("dd-MM-y HH:mm:ss");

    public static void setDateFormat(String f){
        format = new SimpleDateFormat(f);
    }

    public Component getTableCellRendererComponent (JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)    
    {       
            if (value instanceof Date){
                value = format.format(value);
            }
            else if(value instanceof Calendar)    
            {    
                    Calendar dateValue = (Calendar) value;    
                    value = format.format(dateValue.getTime());  
            } 
            Component c = super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column); 
            if (c instanceof JComponent){
                JComponent jc = (JComponent) c;
                jc.setToolTipText("dd-MM-y HH:mm:ss");
            }
            return c;
    }    
}

protected static class DateCellEditor extends DefaultCellEditor{
    private static DateFormat format = new SimpleDateFormat("dd-MM-y HH:mm:ss");
    private JFormattedTextField textField = new JFormattedTextField(format);

    public DateCellEditor(){
        super(new JFormattedTextField(format));
    }

    public void setDateFormat(String f){
        format = new SimpleDateFormat(f);
        textField = new JFormattedTextField(format);
    }

    public Component getTableCellEditorComponent (JTable table, Object value, boolean isSelected, int row, int column)    
    {       System.out.println("editor: "+value.getClass());
            if (value instanceof Date){
                value = format.format(value);
            }
            else if(value instanceof Calendar)    
            {    
                    Calendar dateValue = (Calendar) value;    
                    value = format.format(dateValue.getTime());  
            } 
            return super.getTableCellEditorComponent(table, value, isSelected, row, column);    
    }    
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:53:21.860

从您的代码示例中，（立即）有许多值得关注的事情。

`getCellEditor`首先，不需要`getCellRenderer`重写`JTable`.

我对你这样做的方式最大的问题是如果模型的价值是`null`什么？

`Class`您可以改用`setDefaultEditor(Class, TableCellEditor)`and`setDefaultRenderer(Class, TableCellRenderer)`方法修改单元格编辑器并为给定的渲染。

从您的表模型中，您应该返回`Class`所需列的所有适当类型（来自`getColumnClass`）。这里的假设是给定列具有相同类型的`Class`值。

但是，您的问题的原因在于编辑器。

如果示例编辑器可以通过，那么您正在扩展 from `DefaultCellEditor`，它只是使用 a`JTextField`作为它的编辑器。这意味着`getCellEditorValue`将返回到`String`，因此您的`setValueAt`方法被传递了一个`String`值。

有多种选择。

1.  您可以设计一个更好`TableCellEditor`的使用更合适的编辑器（例如 a`JSpinner`或`JCheckBox`）
2.  您可以覆盖`getCellEditorValue`将`String`默认编辑器中的值转换为更合适的`Object`类型。

我更喜欢选项 1，因为它以适合的表单和编辑器表示基础数据，并且在处理错误解析时会带来很多麻烦。

我会仔细研究[如何使用表格](http://docs.oracle.com/javase/tutorial/uiswing/components/table.html)并密切关注自定义编辑器的部分

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T10:47:28.000

清理我可能在我的评论中传播的困惑：如果你在一列中有不同类的值

*   model.getColumnClass 必须返回所有这些值的共同超，通常是 Object.class
*   实现每行渲染器/编辑器的方法确实是覆盖 table.getCellRenderer(row, column)

一些片段

```
// override in JTable
@Override
public TableCellRenderer getCellRenderer(int row, int column) {
    // use the per-column renderer if available
    TableColumn tableColumn = getColumnModel().getColumn(column);
    TableCellRenderer renderer = tableColumn.getCellRenderer();
    // if the column didn't provide a renderer and has type Object.class
    if (renderer == null && Object.class.equals(getColumnClass(column))) {
        Object value = getValueAt(row, column);
        if (value != null) {
            renderer = getDefaultRenderer(value.getClass());
        }
    }
    if (renderer == null) {
        // shouldn't happen, but fixing super bug
        renderer = getDefaultRenderer(Object.class);
    }
    return renderer;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T07:50:20.697

由于多种原因，返回的对象不能是字符串：

*   格式化（12345 ==> 1 234，日期，浮点数...）
*   排序

一个对象到字符串的转换器很容易做到，但是一个字符串到对象将很难以通用的方式编写。

# android - 如何使用平板电脑在 android 4.0 中隐藏底栏（显示 3 个菜单选项）

> ID：15985475
> 
> 赞同：1
> 
> 时间：2013-04-13T07:40:48.470
> 
> 标签：android, android-widget, uinavigationbar

我想为我的整个应用程序永久隐藏我的测试设备的底部栏。我检查了很多门户和网站，但没有得到所需的结果。所以请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:45:05.300

如果底部栏是指带有主页、返回和最近应用程序按钮的栏，则无法执行此操作。该栏被设计为无所不在，不能永久删除。您可以暂时隐藏它，但第一次触摸会将其恢复。

# assembly - 为 PUSH 和 POP 指令覆盖 x86 SS 段（SS:SP、SS:ESP、SS:RSP）

> ID：15985481
> 
> 赞同：1
> 
> 时间：2013-04-13T07:41:25.060
> 
> 标签：assembly, x86, callstack

我需要解释/模拟 x86 指令的 PUSH 和 POP 系列。

**我现在的问题是：**

PUSH 和 POP 指令是否可以接受段覆盖前缀，以便我可以推送或弹出到`ES:SP`、`CS:SP`、`DS:SP`或代替 ？`FS:SP``GS:SP`**`SS:SP`**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T07:53:50.540

段覆盖前缀影响 PUSH 的源位置和 POP 的目标位置。
您不能覆盖堆栈段。

# c - 如果未定义宏，如何闪烁错误？

> ID：15985492
> 
> 赞同：0
> 
> 时间：2013-04-13T07:42:16.647
> 
> 标签：c, avr, avr-gcc, winavr, avr-studio4

如果程序本身没有定义它，我希望我的程序闪现编译时错误，如“LCD_PORT 未定义”。为此，我像这样修改了头文件

```
.
.
.
#if LCD_IO_MODE
#ifndef LCD_PORT
#error LCD_PORT not defined //(e.g. #define LCD_PORT PORTA/B/C/D)
#endif

#define LCD_DATA0_PORT   LCD_PORT     /**< port for 4bit data bit 0 */
#define LCD_DATA1_PORT   LCD_PORT     /**< port for 4bit data bit 1 */
.
.
.
... 
```

但即使在定义 LCD_PORT 之后（如以下程序中），它也会闪烁错误。

```
#include <avr/io.h>
#include <lcd.h>

#define LCD_PORT PORTA

int main(void)
{
    lcd_init(LCD_DISP_ON_CURSOR); 
    lcd_home();
    lcd_puts("Hello world!!");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:52:16.760

**因为您仅在**包含头文件后才定义宏。你需要的是这样的：

```
#define LCD_PORT PORTA

#include <lcd.h> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:53:14.837

您需要在包含标题之前定义它。

# php - 页面加载的增量计数

> ID：15985495
> 
> 赞同：0
> 
> 时间：2013-04-13T07:42:40.933
> 
> 标签：php, jquery, ajax, pagination

我正在尝试使用 Jquery 创建缩略图分页。一切正常。我唯一的问题是我不知道如何在每个页面加载时增加计数。下面是我的代码。我的主要目标是，如果用户单击下一步按钮，我想在这个 php/reverse.php?page="+page 上增加 1。如果 php 没有更多结果，则不允许再增加。同样的事情在上一个按钮上。

```
 <html>
  <head>
    <title></title>
  </head>
  <body>
      <div id="par"></div>
      <input type="button" id="prev" value="Prev"/>
      <input type="button" id="next" value="Next"/>

      <script src="js/jquery.js"></script>
      <script>
        var default_val = 1;
        function get_page(page){
          $.ajax({
            url: "php/reverse.php?page="+page
          }).done(function(data) {
            $('#par').html(data.thumbs);
          });
        }

        $('#prev').click(function(){
            get_page(default_val)
        });

        $('#next').click(function(){
         get_page(default_val+1)
        });

        get_page(default_val);
      </script>
  </body>
</html> 
```

这是我的PHP：

```
<?php
  require '../php/connect.inc.php';
  $per_page = 4;

  $pages_query = mysql_query("SELECT COUNT('id') FROM my_list");
  $pages = ceil(mysql_result($pages_query, 0) / $per_page);

  $page = (isset($_GET['page'])) ? (int)$_GET['page'] : 1;
  $start = ($page - 1) * $per_page;

  $query = mysql_query("SELECT id, image_small FROM my_list LIMIT $start, $per_page");

  $results = array();
  while($mysql_fetch_assoc = mysql_fetch_assoc($query)){    
    $results[] = "<img src='img/".$mysql_fetch_assoc['image_small']."'/>";
  }      

  header('Content-type: application/json');

  echo json_encode(array(
    'thumbs' => $results,
    'pages' => $pages,
    'current_page' => $page,
    'per_page' => $per_page
  ));
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:04:07.060

首先你需要返回请求的状态

```
var page = 1;
function get_page(page){
  $.ajax({
    dataType: 'json',
    url: "php/reverse.php?page="+page
  }).done(function(data) {
    if (data.thumbs.length>0) {
      $('#par').html(data.thumbs);
      return true; // here
    } else
      return false; // and here
  });
} 
```

接下来，当 json 返回 false 并增加或减少页数时，您想要的是阻塞函数

```
var block_next = false,
    block_prev = false;

$('#prev').click(function(){
  block_next = false;
  if (!block_prev)
    if (!get_page(page))
      block_prev = true;
    else
      page = page - 1;
});

$('#next').click(function(){
  block_prev = false;
  if (!block_next)
    get_page(page+1)
      block_next = true;
    else
      page = page + 1;
}); 
```

# iphone - 如何在iphone中自定义标签栏的两个标签栏项目之间添加空格？

> ID：15985498
> 
> 赞同：0
> 
> 时间：2013-04-13T07:42:53.747
> 
> 标签：iphone, ios, ipad, uitabbarcontroller

我正在开发 iPad 应用程序，其中使用的是`UITabBarController`. 如何自定义项目之间的空间？

我试过这段代码，但它不工作：

```
 self.window.rootViewController = self.tabContoroller;
   [tabContoroller setFrame:CGRectMake(0,-10, 1038, 54)]; 
```

![在此处输入图像描述](https://i.stack.imgur.com/8Cvg5.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2015-02-19T10:38:21.020

对于 iOS 7 及更高版本，您现在可以将该属性`itemSpacing`与`itemPositioning`set to结合使用`UITabBarItemPositioningCentered`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T18:33:09.730

您需要从头开始制作自定义标签栏控制器。那里有很多好的指南。这是我为你找到的：[iOS 自定义标签栏](http://rocksaucestudios.com/tapsauce/post/ios-custom-tab-bar/)

如果您需要进一步解释代码，只需编辑这篇文章，我会检查您的进度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-01T13:02:23.380

我只是创建了一个 tabbar 的子类并重写了 layoutSubviews。

有一个属性调用[titlePositionAdjustment](https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UITabBarItem_Class/#//apple_ref/occ/instp/UITabBarItem/selectedImage)。我们可以通过改变位置来增加空间。

# events - 如何在光标位置的字段中插入 Unicode 字符

> ID：15985500
> 
> 赞同：0
> 
> 时间：2013-04-13T07:43:01.510
> 
> 标签：events, unicode, keyboard, livecode

我在一个字段中有一个处理程序，我想在按下一个键时使用它来插入一个特定的 Unicode 字符

```
 on rawKeyDown theKeyNumber   
      if theKeyNumber is 91 then  -- code 91 is '['
      -- insert Unicode character
      --   ɛ 
      -- = U025B, latin small letter open e
      -- or 603 in decimal
      -- at cursor position in the current field
      set the useUnicode to true
      put  unicode numToChar(603)  into selection
   else pass rawKeyDown -- don't forget this!
   end rawKeyDown 
```

因此，我想插入一个 Unicode 字符，而不是直接由 keyDown 事件生成的字符，因此不传递 keyDown 事件。

该示例改编自 LiveCode 字典中的“rawKeyDown”消息示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:09:06.063

我编辑了这个问题。代码示例现在完成了这项工作。

# jquery - 元素在窗口加载时未正确调整大小

> ID：15985505
> 
> 赞同：1
> 
> 时间：2013-04-13T07:43:12.163
> 
> 标签：jquery, css

## **[演示](http://test.fhmp.net/tailorfit/13042013/)**

我正在测试一个小的 jQuery 调整大小插件。

当页面加载时，默认页边距似乎包括在内，但在窗口调整大小时会发生变化。它似乎有时也会发生，但并非总是如此。

```
<style>

* {
    margin: 0;
}

.image-container {
    width: 50%;
    height: 50%;
    float: left;
}

#default        {   background-color: #aaa; }
#loose          {   background-color: #bbb; }
#max            {   background-color: #ccc; }
#max-loose      {   background-color: #ddd; }

</style>

<script>

$(document).ready(function(){

    $('#default > img').load(function(){
        $(this).tailorfit(this.width, this.height);
    });

    $('#loose > img').load(function(){
        $(this).tailorfit(this.width, this.height, false);
    });

    $('#max > img').load(function(){
        $(this).tailorfit(200, 200);
    });

    $('#max-loose > img').load(function(){
        $(this).tailorfit(200, 100, false);
    });
});

</script>

<div class="image-container" id="default">
    <img src="bmo.png">
</div>

<div class="image-container" id="loose">
    <img src="bmo.png">
</div>

<div class="image-container" id="max">
    <img src="bmo.png">
</div>

<div class="image-container" id="max-loose">
    <img src="bmo.png">
</div>

<script>
/**
 * tailorfit
 *
 * @author Rudolf Theunissen <rudolf.theunissen@gmail.com>
 * @copyright Rudolf Theunissen 2013
 * @license MIT <http://opensource.org/licenses/mit-license.php>
 * @link https://github.com/paranoid-android/tailorfit
 * @version 1.0.0
 */

jQuery.fn.tailorfit = function(maxWidth, maxHeight, keepAspect){

    if(keepAspect == undefined) keepAspect = true;
    if(maxWidth   == undefined) maxWidth = true;
    if(maxHeight  == undefined) maxHeight = true;

    var element = $(this);
    var container = $(this).parent();

    element.css('position', 'relative');

    // Just needed this line too.
    onResize();

    $(window).load(function(){
        onResize();
    });

    $(window).resize(function(){
        onResize();
    });

    function onResize(){

        var containerHeight = container.outerHeight(true);
        var containerWidth = container.outerWidth(true);

        var x, y, w, h;

        if(maxWidth == 0) maxWidth = containerWidth;
        if(maxHeight == 0) maxHeight = containerHeight;

        if(!keepAspect){
            if(containerWidth < maxWidth){
                x = 0;
                w = containerWidth;
            } else {
                x = (containerWidth - maxWidth) / 2;
                w = maxWidth;
            }

            if(containerHeight < maxHeight){
                y = 0;
                h = containerHeight;
            } else {
                y = (containerHeight - maxHeight) / 2;
                h = maxHeight;
            }
        } else if(containerWidth >= maxWidth && containerHeight >= maxHeight){
                x = (containerWidth - maxWidth) / 2;
                y = (containerHeight - maxHeight) / 2;
                w = maxWidth;
                h = maxHeight;
        } else {
            var maxRatio = maxWidth / maxHeight;
            if(maxRatio > containerWidth / containerHeight){
                var rh = containerWidth / maxRatio;
                x = 0;
                y = (containerHeight - rh) / 2;
                w = containerWidth;
                h = rh;
            } else {
                var rw = containerHeight * maxRatio;
                x = (containerWidth - rw) / 2;
                y = 0;
                w = rw;
                h = containerHeight;
            } 
        }

        element.css({
            left: x, top: y, width: w, height: h
        });
    }
}
</script> 
```

在 Chrome 26.0 上测试

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:54:17.707

默认情况下，您应该使用 css 类隐藏图像，并在窗口加载和图像大小调整时显示它们：

```
<style type="text/css"> img.myclass{display:none}<style>

<script>
window.onload = function(){
    $('#default > img').load(function(){
                $(this).tailorfit(this.width, this.height);
            });

            $('#loose > img').load(function(){
                $(this).tailorfit(this.width, this.height, false);
            });

            $('#max > img').load(function(){
                $(this).tailorfit(200, 200);
            });

            $('#max-loose > img').load(function(){
                $(this).tailorfit(200, 100, false);
            });

            $('.myclass').removeClass('myclass');

        };

</script> 
```

或者使用某种动画作为 fadeIn() 以获得更好的效果。

# python - 随机遍历python数据框中的组

> ID：15985510
> 
> 赞同：2
> 
> 时间：2013-04-13T07:43:41.043
> 
> 标签：python, pandas

我有一个名为“lattice”的数据框，其属性为“level”

```
g_lattice=lattice.groupby('level') 
```

如何根据级别随机遍历 g_lattice 中的组。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T12:22:59.667

```
In [22]: df = pd.DataFrame({'A': ['foo', 'bar'] * 3,
                            'B': rand.randn(6),
                            'C': rand.randint(0, 20, 6)})

In [23]: groups = list(df.groupby('A'))

In [24]: random.shuffle(groups)

In [25]: for g, grp in groups:
    print grp
   ....:     
     A         B   C
0  foo  0.900856   4
2  foo -0.122890  19
4  foo -0.267888   8
     A         B  C
1  bar -0.683728  5
3  bar -0.935769  6
5  bar  0.530355  0 
```

# fluent-nhibernate - Nhibernate Linq - fetchmany，其中许多计数 == 0

> ID：15985511
> 
> 赞同：0
> 
> 时间：2013-04-13T07:43:46.097
> 
> 标签：fluent-nhibernate, has-many, take

我有这个查询：

```
 var query = session.Query<Album>()
                    .FetchMany(x => x.Tracks)
                    .ThenFetchMany(x => x.Indices)
                    .Where(t => t.Tracks.Any(v => v.Indices.Count == 0))
                    .Take(20)
                    .ToList(); 
```

`Album`有`List` `Track`（hasman）。 `Track`有`List` `Indices`（hasman）。

而不是得到 20 行，我得到 2 行。
当我在分析器中看到结果时，看起来`Take`是指的是`Track`而不是`Album`.
任何想法？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T14:45:34.083

我不是一个大的 Linq to NHibernate 专家，但我知道还有另一种查询 NHibernate 的方法也可以帮助你。它被称为`QueryOver`。它是使用类似 Linq 的成员表达式的强类型查询语法。现在`QueryOver`在 NHibernate 社区中更加强大，主要是因为它基于标准查询（已经存在了很长一段时间）。

如果您有兴趣了解有关不同查询语言的更多信息，您应该查看此站点：[NHibernate：查询](http://fabiomaulo.blogspot.com/2009/09/nhibernate-queries.html)

我还有一个博客，其中有一篇关于您可以与 NHibernate 一起使用的不同插件和技术的文章（包括查询方式） -[我的博客](http://jaredmahan.wordpress.com/)

下面应该是您使用查询结束时可能正在寻找的内容的近似表示。

```
Album a = null;
Tracks t = null;
Indices i = null;
var query = session.GetQueryOver(() => a)
    .JoinAlias(() => a.Tracks, () => t)
    .JoinAlias(() => t.Indicies, () => i)
    .Where(() => i.Indices.Count() == 0)
    .Take(20)
    .ToList()
    ; 
```

`JoinType`在向查询添加连接时，您还可以通过向方法调用添加另一个类型的参数来指定连接类型。前任：

```
.JoinAlias(() => a.Tracks, () => t, JoinType.LeftOuterJoin) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T14:30:17.607

LINQ

```
var filtered =
    from a in session.Query<Album>()
    from t in a.Tracks
    where !t.Indices.Any()
    select a.Id

var results = session.Query<Album>()
     .Where(a => filtered.Contains(a.Id))
     .Take(20)
     .List() 
```

查询结束

```
var results = session.QueryOver<Album>()
     .WhereRestrictionOn(a => a.Id).IsIn(QueryOver.Of<Album>()
         .JoinQueryOver(a => a.Tracks)
             .Where(t => !t.Indices.Any())
         .Select(a => a.Id))
     .Take(20)
     .List() 
```

# c# - 如何使用asp.net中本地文件系统中的锚标记打开文件

> ID：15985513
> 
> 赞同：0
> 
> 时间：2013-04-13T07:44:07.603
> 
> 标签：c#, asp.net

此功能从指定目录获取所有文件并将它们显示为网页上的链接。但是在单击链接时，浏览器没有打开页面，而是显示 - “'/fileUpload' 应用程序中的服务器错误。HTTP 错误 400 - 错误请求”我已经尝试了所有可能的组合和方法来提供相对和绝对路径。但问题仍然存在。请帮忙..

这是功能

受保护的无效fetchDirFiles（字符串模式）

{
字符串文件内容；

```
 string keyword = pattern; // pattern to be searched in files

    try
    {
        pattern = pattern + "*";

        string[] dirs = Directory.GetFiles(@"C:\\uploaded", "*");

        foreach (string dir in dirs)
        {

            file_content = File.ReadAllText(dir);
            string filename;
            if (file_content.Contains(keyword))
            {
                filename = Path.GetFileName(dir);
                Literal lit = new Literal();
                string root = Path.GetPathRoot(dir); //

                lit.Text = "<a href ='c://uploaded'>" + filename + "</a><br/>";
                this.form1.Controls.Add(lit);
            }
        }
    }
    catch (Exception e)
    {
        Console.WriteLine("The process failed: {0}", e.ToString());
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:03:40.860

尝试添加`file:///`到

```
lit.Text = "<a href ='file:///c://uploaded'>" + filename + "</a><br/>"; 
```

# python - 将列表拆分为偶数

> ID：15985517
> 
> 赞同：0
> 
> 时间：2013-04-13T07:44:33.297
> 
> 标签：python, python-3.x

我在 Python 3 中有以下列表：

```
['X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.', 'X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O', 'X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O', 'X', 'X', 'X', 'O', '.', '.', 'O', '.', '.', 'O', '.', '.', 'T', '.', '.', '.', 'O', 'X', 'X', 'X', 'X', 'O', '.', '.', '.', '.', 'O', '.', '.', '.', '.', 'O'] 
```

在 16 个位置之后，我想像这样拆分它：

```
CASE_1 = ['X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.']
CASE_2 = ['X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O']
CASE_3 = ['X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.']
CASE_4 = ['O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O'] etc 
```

我如何实现这一目标？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T07:46:11.560

```
>>> L = ['X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.', 'X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O', 'X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O', 'X', 'X', 'X', 'O', '.', '.', 'O', '.', '.', 'O', '.', '.', 'T', '.', '.', '.', 'O', 'X', 'X', 'X', 'X', 'O', '.', '.', '.', '.', 'O', '.', '.', '.', '.', 'O']
>>> cases = list(zip(*[iter(L)]*16)) 
```

我将通过打印出来向您展示这与示例相匹配

```
>>> import pprint
>>> pprint.pprint(cases, width=400)
[('X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.'),
 ('X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O'),
 ('X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'),
 ('O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O'),
 ('X', 'X', 'X', 'O', '.', '.', 'O', '.', '.', 'O', '.', '.', 'T', '.', '.', '.'),
 ('O', 'X', 'X', 'X', 'X', 'O', '.', '.', '.', '.', 'O', '.', '.', '.', '.', 'O')] 
```

至于它是如何工作的：[zip(*[iter(s)]*n) 如何在 Python 中工作？](https://stackoverflow.com/questions/2233204/how-does-zipitersn-work-in-python)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T10:40:21.323

“应该有一种——最好只有一种——明显的方式来做到这一点。”

```
>>> a = ['X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.', 'X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O', 'X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', 'O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O', 'X', 'X', 'X', 'O', '.', '.', 'O', '.', '.', 'O', '.', '.', 'T', '.', '.', '.', 'O', 'X', 'X', 'X', 'X', 'O', '.', '.', '.', '.', 'O', '.', '.', '.', '.', 'O']
>>> b = [a[i: i + 16] for i in range(0,len(a), 16)   ]
>>> from pprint import pprint
>>> pprint(b, width=400)
[['X', 'X', 'X', 'T', '.', '.', '.', '.', 'O', 'O', '.', '.', '.', '.', '.', '.'],
 ['X', 'O', 'X', 'T', 'X', 'X', 'O', 'O', 'O', 'X', 'O', 'X', 'X', 'X', 'O', 'O'],
 ['X', 'O', 'X', '.', 'O', 'X', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
 ['O', 'O', 'X', 'X', 'O', 'X', 'X', 'X', 'O', 'X', '.', 'T', 'O', '.', '.', 'O'],
 ['X', 'X', 'X', 'O', '.', '.', 'O', '.', '.', 'O', '.', '.', 'T', '.', '.', '.'],
 ['O', 'X', 'X', 'X', 'X', 'O', '.', '.', '.', '.', 'O', '.', '.', '.', '.', 'O']] 
```

# c# - SqlCommand 和错误：赋值的左侧必须是变量、属性或索引器

> ID：15985518
> 
> 赞同：0
> 
> 时间：2013-04-13T07:44:34.627
> 
> 标签：c#, wpf, list, sqlcommand

我有一个小问题。在我的程序中，我需要一个 SqlCommand 对象列表。所以有一段代码：

```
List<SqlCommand> commands;
int i = 0;
foreach (string komenda in komendy)
{
    commands.ElementAt<SqlCommand>(i) = new SqlCommand(komenda, dostep());
    i++;
} 
```

其中 komendy 是带有命令字符串的字符串列表，函数`dostep()`返回连接（`SqlConnection`对象）。

我有一个错误：赋值的左侧必须是 commands.ElementAt< SqlCommand >(i) 的变量、属性或索引器，我真的不明白为什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:49:42.723

[ElementAt](http://msdn.microsoft.com/en-us/library/bb299233.aspx)是一种返回序列中指定索引处的对象的方法，您正在使用它，因为它是将元素添加到列表中的分配。

使用`List(of Type)`, 将元素添加到列表时，您使用[Add 方法](http://msdn.microsoft.com/en-us/library/3wcytfd1.aspx)而不指定精确位置。（这是数组的主要工作）只需使用.....

```
 commands.Add(new SqlCommand(komenda, dostep())); 
```

当然，在使用对象之前，您需要使用

```
List<SqlCommand> commands = new List<SqlCommand>(); 
```

作为旁注，我对您在初始化 SqlConnection 对象的情况下构建 SqlCommand 列表的方法感到有些困惑。如果您有许多命令，这可能会占用大量资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:48:21.127

为什么不使用 LINQ：

```
List<SqlCommand> commands = komendy.Select(x => new SqlCommand(x, dostep())).ToList(); 
```

使用您的方法，您缺少`commands`初始化

```
List<SqlCommand> commands = new List<SqlCommand>(); 
```

你应该使用`Add`方法而不是`ElementAt`：

```
foreach (string komenda in komendy)
{
    commands.Add(new SqlCommand(komenda, dostep()));
} 
```

# ios - 具有多个语句的 NSPredicate

> ID：15985523
> 
> 赞同：1
> 
> 时间：2013-04-13T07:45:14.630
> 
> 标签：ios, cocoa-touch, core-data

我有`NSPredicate`四个语句/参数。似乎所有这些都没有“包含”。它看起来像这样：

```
predicate = [NSPredicate predicateWithFormat:@"user.youFollow = 1 || user.userId = %@ && user.youMuted = 0 && postId >= %d", [AppController sharedAppController].currentUser.userId, self.currentMinId.integerValue]; 
```

似乎最后一部分: `&& postId >= %d`, 被忽略了。如果我尝试：

```
predicate = [NSPredicate predicateWithFormat:@"user.youFollow = 1 || user.userId = %@ && user.youMuted = 0 && postId = 0", [AppController sharedAppController].currentUser.userId, self.currentMinId.integerValue]; 
```

我得到相同的结果（应该是 0）。我想知道这样的谓词应该是什么样子？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T10:10:13.940

您可以尝试以下代码吗？

```
NSPredicate *youFollowPred = [NSPredicate predicateWithFormat:@"user.youFollow == 1"];
NSPredicate *userIdPred = [NSPredicate predicateWithFormat:@"user.userId == %@",[AppController sharedAppController].currentUser.userId];
NSPredicate *youMutedPred = [NSPredicate predicateWithFormat:@"user.youMuted == 0"];
NSPredicate *postIdPred = [NSPredicate predicateWithFormat:@"postId >= %d", self.currentMinId.integerValue];

NSPredicate *orPred = [NSCompoundPredicate orPredicateWithSubpredicates:[NSArray arrayWithObjects:youFollowPred,userIdPred, nil]];

NSPredicate *andPred = [NSCompoundPredicate andPredicateWithSubpredicates:[NSArray arrayWithObjects:youMutedPred,postIdPred, nil]];

NSPredicate *finalPred = [NSCompoundPredicate andPredicateWithSubpredicates:[NSArray arrayWithObjects:orPred,andPred, nil]]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-13T12:38:45.110

正如讨论中证明的那样，真正的问题是谓词用于获取结果控制器中，并且谓词中使用的变量会随着时间而变化。

在这种情况下，您必须重新创建谓词和获取请求。这在[NSFetchedResultsController 类参考中的](http://developer.apple.com/library/ios/#documentation/CoreData/Reference/NSFetchedResultsController_Class/Reference/Reference.html)**“修改获取请求”**中有记录。

所以在你的情况下，如果`self.currentMinId`发生变化，你应该

```
// create a new predicate with the updated variables:
NSPredicate *predicate = [NSPredicate predicateWithFormat:...]
// create a new fetch request:
NSFetchRequest *fetchRequest = ...
[fetchRequest setPredicate:predicate];

// Delete the section cache if you use one (better don't use one!)
[self.fetchedResultsController deleteCacheWithName:...];

// Assign the new fetch request and re-fetch the data:
self.fetchedResultsController.fetchRequest = fetchRequest;
[self.fetchedResultsController performFetch:&error];

// Reload the table view:
[self.tableView reloadData]; 
```

# mysql - 无法创建表（错误号：150）

> ID：15985526
> 
> 赞同：1
> 
> 时间：2013-04-13T07:45:29.397
> 
> 标签：mysql, sql, database-design, foreign-keys

我知道这已被要求分配，我很抱歉，但老实说我找不到答案。

这是我的管理员表：

```
CREATE TABLE `admins` (
     `admin_id` int(11) NOT NULL AUTO_INCREMENT,
     `admin_user` varchar(15) NOT NULL,
     `admin_password` varchar(15) NOT NULL,
     `admin_fName` varchar(20) NOT NULL,
     `admin_lName` varchar(20) NOT NULL,
     PRIMARY KEY (`admin_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1 
```

我试图创建的表来引用 admin_fname：

```
CREATE TABLE IF NOT EXISTS posts(
    post_id INT NOT NULL AUTO_INCREMENT,
        post_title varchar(50),
        post_content varchar(255),
        post_user varchar(20) NOT NULL,
        PRIMARY KEY (post_id),
        FOREIGN KEY (post_user) REFERENCES admins(admin_fName)
) ENGINE = INNODB; 
```

post_user 好像和 admin_fname 属性一样，而且父表中有数据。任何机构都可以解释一下这里发生了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:47:33.437

您无法在表`post_user`上的列上引用，因为您没有在其上定义键。要直接回答您的问题，您必须在列上添加一个键，`admin_fname``admins`

```
CREATE TABLE `admins`
(
     `admin_id` int(11) NOT NULL AUTO_INCREMENT,
     `admin_user` varchar(15) NOT NULL,
     `admin_password` varchar(15) NOT NULL,
     `admin_fName` varchar(20) NOT NULL,
     `admin_lName` varchar(20) NOT NULL,
     KEY (admin_fName),                        -- <<== adding key
     PRIMARY KEY (`admin_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1 
```

但引用到`NON_UNIQUE`列中并不是一个好主意，因为从长远来看，对于拥有相同的用户来说，记录可能会混合在一起`fname`。更好的设计是保持原样。在表上添加一个`posts`引用其主键的列。

```
CREATE TABLE `admins` 
(
     `admin_id` int(11) NOT NULL AUTO_INCREMENT,
     `admin_user` varchar(15) NOT NULL,
     `admin_password` varchar(15) NOT NULL,
     `admin_fName` varchar(20) NOT NULL,
     `admin_lName` varchar(20) NOT NULL,
     PRIMARY KEY (`admin_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

CREATE TABLE IF NOT EXISTS posts
(
        post_id INT NOT NULL AUTO_INCREMENT,
        post_title varchar(50),
        post_content varchar(255),
        admin_id int(11) NOT NULL,
        PRIMARY KEY (post_id),
        FOREIGN KEY (admin_id) REFERENCES admins(admin_id)
) ENGINE = INNODB; 
```

# image - 重命名画廊Phonegap中不可见的图像缩略图后

> ID：15985530
> 
> 赞同：1
> 
> 时间：2013-04-13T07:46:05.133
> 
> 标签：image, cordova, gallery, thumbnails, rename

我想在捕获图像后重命名图像，当我拍照时文件名已成功更改但面临一些问题 1.我无法在图库中查看该图像但当我通过 FileManger 访问该文件夹时能够查看它。2.当我从图库中检索图像文件重命名失败...（错误代码1）

我正在使用 Cordova 2.5.0

```
function onPhotoURISuccess(imageURI) {
console.log("imageURI"+imageURI);
window.resolveLocalFileSystemURI(imageURI, gotFileEntry, fsFail); 
var FullData = ord_key + ',' + fileURL;
var arr = FullData.split(",");
InsertIntoTableWithoutAlert(tablename, coloumnArr, arr);
var ImgTag = window.localStorage.getItem("ImgCount");
ImgTag = parseInt(ImgTag) + 1;
window.localStorage.setItem("ImgCount", ImgTag);
ImgTag = "#" + ImgTag;
var Image = $(ImgTag);
Image.css("display", "block");
Image.attr("src", fileURL);
}

function gotFileEntry(e) {
console.log("esss "+ e.fullPath);
var p = e.fullPath.substr(0, e.fullPath.lastIndexOf('/'));
console.log("psss "+p);
parentEntry = new DirectoryEntry(e.fullPath,p);
e.moveTo(parentEntry, "546sas.jpg", successa, fsFail); 
//e.remove(successb,removefail);
}

function removefail(error) { 
    alert("failed with error code: removefail" + error.code); 
}

function successb(f){
alert("Success");
}

function successa(f){
fileURL = f.toURL();
console.log("fileurl " + fileURL);
}

function fsFail(error){ 
alert("failed with error fsFail  " + error); 
} 
```

# c++ - 重复字母和连续字母不同的排列

> ID：15985532
> 
> 赞同：1
> 
> 时间：2013-04-13T07:46:34.507
> 
> 标签：c++, algorithm, math, permutation, formula

我一直在尝试解决一个关于排列的问题，但并没有真正成功。我想生成以一个字母开头并以相同结尾的所有指定长度的排列，并且没有两个连续的字母应该是相同的。生成的排列可以有重复的字母。
例如，
如果数组有 {a,b,c,d} 并且我想要所有以 a 开头和结尾的排列。
答案应该是：
abca
abda
acba
acda
如果数组是 {a,b,c,d,e}
输出：
abcda
abada
abdca
abaca
acbda
acada
acdba
acaba
adbca
adaca
adcba
adaba
abcba
ababa
abdba
acbca
acaca
acdca
adbda
adcda
adada

我什至想知道是否有某种方法可以直接了解我将通过某个公式为数组获得的解决方案的数量..
提前谢谢大家..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:58:40.503

算法如下。您从某个字母 a 开始，然后有一组您可以使用的所有字母。然后对于集合中的每个元素，您将 a 扩展为 ab ac 广告。然后为每个新单词添加 a back 并从 set 中删除 b、c、d。之后你做同样的事情（递归）。唯一棘手的部分是当你即将完成时。然后，您还需要在选择倒数第二个字母之前删除您开始的字母。

至于数学公式：

让表示`T(n,l)`长度的“排列”数`l`和大小的字母表`n`。现在我们可以设计以下递归：

```
T(n,3) = n - 1 // a(something other than a)a
T(n,k) = (n-1)^(l-2) - T(n, k-1) 
```

在递归情况下会发生什么。我们从考虑最后一个字母和倒数第二个字母可能相等的情况开始。所以我们有`a(letter other than previous, so (n-1) choices)^(l-2)`，最后我们减去第一个字母等于倒数第二个的情况，即`T(n, k-1)`.

为了在计算机上有效地计算它，请使用动态编程或记忆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:10:15.830

首先，也许你应该把你的问题一分为二。一个用于堆栈交换的“数学”部分，一个用于可能性的数量，另一个用于使用算法生成它。

数学答案：

如果我理解正确，您希望您的字符串以某个字母开头，例如“a”。然后排列的数量取决于您生成的数组的大小。对于您描述的问题，您需要将您的字符串理解为“a* *a”，其中“* ”可以采用多个值。一颗星可以用 26 种方式填写（字母表中的字母数）减去不符合规则的字母数。因此，第一颗星最多有 25 种可能性（因为您不能在两个连续字符中重复“a”）。第二颗星只能有 24 种可能性，因为它不能是“a”或它前面的字母（26-2=24）。然后，当我们组合可能性时，您就有 25*24 组合。

使用大小为 n 个字符的字符串（不包括从头开始设置的第一个和最后一个），您有 25^(n-1)*24 个组合。

对于算法部分：

请参阅[回溯](http://en.wikipedia.org/wiki/Backtracking "回溯")，以获得一种易于实施且非常快速的方式来生成您需要的内容。您只需遍历您的字符串并将那些未知字符（*s）设置为不重复相同字母的值，依此类推，直到您生成所有值。

从你的问题的措辞方式来看，我认为你的问题是某种家庭作业，所以如果你编写自己的算法而不是使用 STL 等会更好。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-13T07:54:28.920

您可以使用 STL 中的 next_permutation 算法

```
#include <iostream>     // std::cout
#include <algorithm>    // std::next_permutation, std::sort

int main () {
char mychars[] = "abc";;

std::sort (mychars,mychars+3);

std::cout << "The 3! possible permutations with 3 elements:\n";
do {
  std::cout << mychars[0] << ' ' << mychars[1] << ' ' << mychars[2] << '\n';
} while ( std::next_permutation(mychars,mychars+3) );

std::cout << "After loop: " << mychars[0] << ' ' << mychars[1] << ' ' << mychars[2] << '\n';

return 0; 
```

参考——http: [//www.cplusplus.com/reference/algorithm/next_permutation/](http://www.cplusplus.com/reference/algorithm/next_permutation/)**强文本**

# php - What are differences between location and refresh in codeginiter redirect function?

> ID：15985537
> 
> 赞同：7
> 
> 时间：2013-04-13T07:47:38.937
> 
> 标签：php, function, codeigniter, redirect, parameters

I would like to know what are differences between **location** and **referesh** in Codeigniter `redirect()` function?

[https://www.codeigniter.com/user_guide/helpers/url_helper.html](https://www.codeigniter.com/user_guide/helpers/url_helper.html)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-13T08:21:38.800

It does not have to do only with Codeigniter. These are the 2 methods that you can use to reload (or redirect) a page.

With `Location:` header you are sending a [3xx status code](http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#3xx_Redirection) (usually 301 or 302) to the client's browser which usually indicates that the content has temporarily moved. Using the appropriate code will give more information to the client about the reason you are doing the redirection. This will be useful especially for search engines.

Also the browser does not have to download all the page's content before doing the redirect but it does it immediately as it gets the status code from the server and it goes to the new page instead. This way you do not break the 'back' button of the browser.

With `Refresh` meta tag or HTTP header you send a request to the client's browser to refresh the page without indicating any information about the reason you are doing it or the original and new content. Browser has to first download all the page content and then after the time (in seconds) specified in the Refresh it will redirect to the other page (usually 0 seconds).

Also if a user hits the 'back' button of his browser it will not work as it should since it will take him to the previous page and it will use Refresh again and send him to the next from where he pressed the button.

Above statements are according to W3C article [here](http://www.w3.org/QA/Tips/reback)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T07:50:30.510

Codeigniter redirect method:

```
/**
 * Header Redirect
 *
 * Header redirect in two flavors
 * For very fine grained control over headers, you could use the Output
 * Library's set_header() function.
 *
 * @access  public
 * @param   string  the URL
 * @param   string  the method: location or redirect
 * @return  string
 */
if ( ! function_exists('redirect'))
{
    function redirect($uri = '', $method = 'location', $http_response_code = 302)
    {
        if ( ! preg_match('#^https?://#i', $uri))
        {
            $uri = site_url($uri);
        }

        switch($method)
        {
            case 'refresh'  : header("Refresh:0;url=".$uri);
                break;
            default         : header("Location: ".$uri, TRUE, $http_response_code);
                break;
        }
        exit;
    }
} 
```

PHP header

[http://php.net/manual/en/function.header.php](http://php.net/manual/en/function.header.php)

# c# - 如何在每次单击窗口表单时停止闪烁我的表单？

> ID：15985540
> 
> 赞同：0
> 
> 时间：2013-04-13T07:47:58.340
> 
> 标签：c#, .net, forms, panel

我有表单大小的主面板并在上面放置了许多控件。我的问题是

当我在表单上单击（特别是在主面板的滚动条上的任何位置）时，它每次都会闪烁，这看起来很奇怪。

所以，任何人都可以告诉我这背后的原因是什么，或者建议我编写代码来阻止它。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T07:57:52.710

向单个表单添加大量控件并不好，但是对于表单中的 Stop Blinking 设置`DoubleBuffered`属性`true`

**已编辑**

制作一个自定义面板并将 DoubleBuffered 设置为 true：

```
public partial class CPanel : Panel
{
    public CPanel ()
    {
        SetStyle(ControlStyles.AllPaintingInWmPaint, true);
        SetStyle(ControlStyles.OptimizedDoubleBuffer, true);
        UpdateStyles();
    }
} 
```

**如何** 将新类插入到您的项目中，将其代码替换为：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Windows.Forms;

namespace yournamespace
{
    public partial class CPanel : Panel
    {
        public CPanel()
        {
            SetStyle(ControlStyles.AllPaintingInWmPaint, true);
            SetStyle(ControlStyles.OptimizedDoubleBuffer, true);
            UpdateStyles();
        }
    }
} 
```

构建你的`application`-> 转到你的`form desig`n-> 现在你有一个新控件`toolbox`：将新控件插入表单 -> 将控件从旧面板复制到新面板

# c++ - 错误：声明未声明任何内容

> ID：15985542
> 
> 赞同：3
> 
> 时间：2013-04-13T07:48:00.997
> 
> 标签：c++, linux, g++

这是一个非常业余的问题，我敢肯定这将是一个非常简单的答案，但我似乎无法弄清楚问题所在。我有一个带有相应 .cpp 文件的头文件，但由于某种原因，每当我尝试使用 g++ 进行编译时，我都会不断收到错误消息：

> 声明没有声明任何东西

我很确定问题是我没有初始化文件中的（唯一）变量，但我不确定将它初始化为什么。如果有人可以提供帮助，我将不胜感激！这是我的文件：

符号表字典.h

```
#ifndef SymbolTable
#define SymbolTable
#include <new>
#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <string>

using namespace std;

#pragma once

struct Symbol
{
    std::string Name;
    int Address;

    Symbol::Symbol()
    { }

    Symbol::Symbol(const string name, int address)
    {
        std::string sym(name);
        this->Name = sym;
        this->Address = address;
    }
};

extern map<std::string, Symbol> SymbolTable;

#endif 
```

符号表字典.cpp

```
#include <new>
#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <string>
#include <map>

#include "SymbolTableDictionary.h"

using namespace std;

map<std::string, Symbol> SymbolTable; 
```

编译错误：

```
In file included from SymbolTableDictionary.cpp:8:0:
SymbolTableDictionary.h:18:5: error: extra qualification ‘Symbol::’ on member ‘Symbol’ [-fpermissive]
SymbolTableDictionary.h:21:5: error: extra qualification ‘Symbol::’ on member ‘Symbol’ [-fpermissive]
SymbolTableDictionary.h:29:8: error: declaration does not declare anything [-fpermissive]
SymbolTableDictionary.cpp:12:1: error: declaration does not declare anything [-fpermissive] 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-13T08:01:42.927

问题是这段代码：

```
// header
#ifndef SymbolTable
#define SymbolTable

// implementation
map<std::string, Symbol> SymbolTable; 
```

你#define`SymbolTable`清空。因此建议

1.  始终将 ALL_UPPERCASE_NAMES 用于宏（也用于包含守卫）

2.  仅对宏使用宏名称。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-02T06:08:46.707

代替

```
#infndef SymbolTable
#define SymbolTable
..
#endif 
```

你可以使用

```
#pragma once 
```

据我所知，他们做同样的事情。但是您不必处理与其他名称相同的名称。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-13T08:03:20.100

您的地图名称与`SymbolTable`包含保护中使用的宏相同

```
#ifndef SymbolTable
#define SymbolTable 
```

因为这个宏是空的，所以你的声明看起来像这样

```
map<std::string, Symbol> ; //note: no name 
```

解决方案是使用更难看的宏名称来包含保护，例如：

```
#ifndef SYMBOL_TABLE_H
#define SYMBOL_TABLE_H 
```

# jpa - 存储过程在 JPA 中有何帮助？

> ID：15985548
> 
> 赞同：2
> 
> 时间：2013-04-13T07:48:54.690
> 
> 标签：jpa, stored-procedures

我正在使用 JSF（前端）和 EclipseLink JPA 创建一个 Web 应用程序，以将数据持久保存到 MySQL DB 中以处理数据（添加、更新、删除）。我处于两难境地，如果我应该将存储过程与 JPA 一起使用，或者单独使用 JPA 就足够了。

我真的需要单独使用 SP 或 JPA 就足够了吗？

如果是，SP 将如何帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:10:17.967

> 我真的需要单独使用 SP 或 JPA 就足够了吗？

仅 JPA 就足够了。

如果您需要非常特定的数据库操作（例如数据库的专有功能），JPA 将不是最佳选择（因为它试图独立于数据库），但仍允许您使用此类专有功能。

> SP 将如何帮助我？

如今，SP 的使用备受争议。这可以被认为是一种不好的做法。我不会详细介绍，因为这里有很好的记录：[无论如何，谁需要存储过程？](http://www.codinghorror.com/blog/2004/10/who-needs-stored-procedures-anyways.html)

底线是：

**存储过程应被视为数据库汇编语言：仅用于性能最关键的情况。**

换句话说：让您的应用程序使用 JPA 并仅向类和对象添加业务逻辑。如果，上帝保佑，您的系统的某些部分具有如此复杂的查询或数据库操作序列，以至于 JPA 需要很长时间才能执行，那么请使用存储过程。

# iphone - 当呼叫栏出现在 iPhone 顶部时，iphone 滚动视图不会随其超级视图向下移动

> ID：15985549
> 
> 赞同：1
> 
> 时间：2013-04-13T07:49:02.427
> 
> 标签：iphone, scrollview

我刚刚在我的 iPhone 应用程序上注意到，如果我执行以下步骤： 1\. 用我的 iPhone 呼叫某人 2\. 按主页按钮将呼叫应用程序带到后台（不挂断电话） 3\. 打开我的 iPhone 应用程序 在这种情况下，我应用程序的窗口向下移动一点以放置在出现的栏下方，但应用程序内的滚动视图没有相应地向下移动并且与其超级视图内容混淆。这是一个错误还是我应该做些什么来解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T12:25:38.403

好的，我已经找到了该怎么做。我使用**UIViewAutoresizingFlexibleTopMargin**和**UIViewAutoresizingFlexibleHeight**作为滚动视图，现在它在需要时向下移动。

# asp.net - 使用 asp.net web api

> ID：15985550
> 
> 赞同：0
> 
> 时间：2013-04-13T07:49:07.053
> 
> 标签：asp.net, asp.net-mvc-4, asp.net-web-api

我已将 web api 部署到 IIS，当通过浏览器调用时它工作正常，例如：http://localhost /api/products 响应是 XML 格式。

但是，当我通过 Ajax 调用它时，它不起作用。谷歌浏览器返回以下错误：

. Access-Control-Allow-Origin 不允许 origin null。

```
$(document).ready(function () {
        var url = 'http://localhost/api/products';
        $.get(url, function (data) {
            $("#test").append(data[5].prod);

        });
    }); 
```

知道有什么问题吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:30:24.650

对于跨域请求，您应该发出 jsonp ajax 请求

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T07:56:47.773

您是否遵循此处的建议[XmlHttpRequest error: Origin null is not allowed by Access-Control-Allow-Origin](https://stackoverflow.com/questions/3595515/xmlhttprequest-error-origin-null-is-not-allowed-by-access-control-allow-origin)。

# ios - 在 XCode 单视图编译期间获取体系结构 i386 的未定义符号

> ID：15985552
> 
> 赞同：1
> 
> 时间：2013-04-13T07:49:28.930
> 
> 标签：ios, objective-c, xcode, static-libraries

我有一个静态库 X，它位于 C 中。我有另一个静态库 Y，它位于目标 C 中，它的 .mm 文件引用库 X 的函数。现在在一个单一视图应用程序中，我使用了库 Y。但是在编译它的过程中给出一个错误说

```
Undefined symbols for architecture i386:
  "encode()", referenced from:
      _playMediaInternal in libXMedia.a(XMediaInternal.o)
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

上述编码函数存在于库 X 中，库 Y 正在使用该函数，并且单视图应用程序使用该函数。有什么建议么 ？我已经看到了同一行的其他查询，但没有运气。另一个线程[链接](https://stackoverflow.com/questions/4839981/symbols-not-found-for-architecture-i386)

在 Apple 开发者网站上，我一直在尝试使用静态库[链接](http://developer.apple.com/library/ios/technotes/iOSStaticLibraries/iOSStaticLibraries.pdf)。

我已将手机连接到笔记本电脑并开始对其进行编译。它仍然给我错误。现在我觉得它与链接自身而不是架构有关

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T22:36:33.170

我从 stackoverflow 链接中得到了[答案](https://stackoverflow.com/questions/9334650/linker-error-calling-c-function-from-objective-c)

我正在粘贴确切的东西。对我来说，问题在于具有基于 C 的函数调用的标头

如果您在 c++ 文件中使用 c 函数。你应该使用`extern "c"{}`. 在 .h 文件中

```
#ifdef __cplusplus
extern "C" {
#endif

swrve_currency_given(parameter1, parameter2, parameter3);// a c function

#ifdef __cplusplus
}
#endif 
```

> extern "C" 旨在被 C++ 编译器识别并通知编译器所指出的函数是（或将）以 C 风格编译的。

如果您要链接到编译为 C 代码的库。利用

```
extern "C" {
  #include "c_only_header.h"
} 
```

看看[何时在 C++ 中使用 extern "C"？](https://stackoverflow.com/questions/1292138/when-to-use-extern-c-in-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T09:02:38.940

您的库为 ARM 架构编译，您尝试在模拟器（i386 架构）中运行应用程序。你的库必须是支持 arm 和 i386 的胖库。使用`lipo`工具，您可以从 arm 和 i386 版本制作 fat 库。里德在这里：

[http://mark.aufflick.com/blog/2010/11/19/making-a-fat-static-library-for-ios-device-and-simulator](http://mark.aufflick.com/blog/2010/11/19/making-a-fat-static-library-for-ios-device-and-simulator)

# android - EasyTracker (GA) 应用程序的每次启动都报告为新用户

> ID：15985559
> 
> 赞同：5
> 
> 时间：2013-04-13T07:49:49.507
> 
> 标签：android, google-analytics, easytracker

我设置了一个助手类，它`Google Analytics`通过 向 报告事件和屏幕，`EasyTracker`每次我重新启动应用程序时，由于未知原因，它以新用户的身份报告所有屏幕和事件。我检查了`gaClientId`存储唯一 ID 的文件.但是每次我重新启动应用程序时，存储在这个文件中的 ID 都会改变，与其他应用程序相比，它保持不变。

这是我在帮助程序类中使用的代码，请注意，我也尝试过使用 ApplicationContext 上下文。我尝试禁用即时调度（是的，我知道立即报告它不是一个好习惯）

```
private static String mLastView = "";

public static void sendView(String view,Context ctx) {

    // Don't report screen twice in a row
    if(view.equals(mLastView)) return;

    mLastView = view;

    EasyTracker.getInstance().setContext(ctx);
    EasyTracker.getTracker().sendView(view);
    EasyTracker.getInstance().dispatch();
}

public static void sendEvent(Context ctx,String category,String action,String label,long value){

    EasyTracker.getInstance().setContext(ctx);
    EasyTracker.getTracker().sendEvent(category, action, label, value);
    EasyTracker.getInstance().dispatch();
} 
```

**更新：** 我尝试使用没有简易跟踪器的 GoogleAnalytics 类，但仍然无法正常工作。我猜可能存在某种读取权限问题（但可以写入吗？），文件位于`data/data/com.my.app/files/gaClientId`

**更新：** 我已经尝试过任何方法，我可以`gaClientId`手动读取文件，没有任何问题，无论有没有帮助类，报告都累了，每次启动应用程序时仍然会创建一个新的 ClientID。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-18T19:36:29.877

**你猜怎么着？**存储位于 的 ClientID 的文件`data/data/com.my.app/files/gaClientId`，以及该文件夹的应用程序下载文件。每次启动应用程序时，我都会运行该文件夹并删除其内容。因此，当分析启动时，它找不到gaClientId 文件，并创建了一个新用户

**提示**不要在根目录存储任何东西`files`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T15:42:47.833

我正在使用简单的跟踪器，但我没有遇到这个问题。我是这样做的：在你的活动的 onCreate() 中输入：

```
gaInstance = GoogleAnalytics.getInstance(this);
    tracker = gaInstance.getDefaultTracker() 
```

gaInstance 和 tracker 是全局字段。

然后在 onStart() 中，您只需将其称为：

```
tracker.sendView("/youractivity"); 
```

那是为了景色。该事件也只是一个：

```
 tracker.sendEvent("String",
                    "String",
                    "String",
                    "long"); 
```

最后要做的是在 analytics.xml 文件中更改会话超时的默认值。默认为 30 秒，在下面的示例中为 30 分钟

```
<integer name="ga_sessionTimeout">1800</integer> 
```

# symfony - Symfony2 - 实体表单类型 query_builder

> ID：15985561
> 
> 赞同：1
> 
> 时间：2013-04-13T07:50:15.613
> 
> 标签：symfony

我要恢复 InscritSeminaireType 中的课程实体：

```
class InscritSeminType extends AbstractType {

    public function buildForm(FormBuilderInterface $builder, array $options) {

        $builder
            //->add('dateInscrit')
            ->add('seminaire','entity', array(
                'class' => 'EspritSeminaireBundle:Seminaire',
                'query_builder' => function($repository)use ($id) {
                    return $repository->getSeminaireLibre('id')
                        ->setParameter('id', $id)
                    ;
                },                          
                'required' => false,            
             ))
        //->add('etudiant')
        ;
    }

    public function setDefaultOptions(OptionsResolverInterface $resolver) {
        $resolver->setDefaults(array(
            'data_class' => 'Esprit\SeminaireBundle\Entity\InscritSemin',

        ));
    }

    public function getName() {
        return 'esprit_seminairebundle_inscritsemintype';
    }
} 
```

但它返回一个错误：

> 注意：未定义变量：C:\wamp\www\PFE\EOL\src\Esprit\SeminaireBundle\Form\InscritSeminType.php 第 22 行中的 id

那么有人可以告诉我如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T15:36:46.353

如果我正确理解您想在表单构建器中从其 id 恢复精确的“Seminaire”，则必须先将 id 传递给类。

这是有关如何执行此操作的示例。您必须在两个地方进行更改。

首先在控制器类中：

```
// NOTICE THE $id, you have to pass it to the constructor.
$form = $this->createForm(new InscritSeminType($id), $entity); 
```

然后在表单类型中：

```
class InscritSeminType extends AbstractType {

    private $id;

    public function __construct($id){
        $this->id = $id // Keep the id of the item.
    }

    public function buildForm(FormBuilderInterface $builder, array $options) {
        $id = $this->id; // Retrieve the id

        $builder
            ->add('seminaire','entity', array(
                'class' => 'EspritSeminaireBundle:Seminaire',
                'property' => 'id', // To tell the mapping is on the id.
                'query_builder' => function($repository) use ($id) {
                    return $repository->getSeminaireLibre($id)
                },      
                'required' => false,
               ))
        ;
    }

    public function setDefaultOptions(OptionsResolverInterface $resolver) {
        $resolver->setDefaults(array(
            'data_class' => 'Esprit\SeminaireBundle\Entity\InscritSemin',

        ));
    }

    public function getName() {
        return 'esprit_seminairebundle_inscritsemintype';
    }
} 
```

您在构造函数中传递 id，然后在 buildForm 函数中检索它。

# actionscript-3 - Flex3.0中柱形图中数据提示的颜色变化

> ID：15985572
> 
> 赞同：0
> 
> 时间：2013-04-13T07:52:00.717
> 
> 标签：actionscript-3, flex3, mxml

我在 flex3.0 中有一个柱形图。我无法更改 Datatip 的字体颜色或背景皮肤颜色。我将 datatip 设置为 true，并且没有为 Datatip 更改任何功能。

```
 <mx:Panel title="Angles" alpha="1" color="#88442"  backgroundColor="#ffffff" >
    <mx:ColumnChart id="myColumnChart"    showDataTips="true"color="#88442 height="500" 
                    width="1300"  

                    dataProvider="{graphbar_data}"  
                    selectionMode="multiple"
                    dragEnabled="true" 
                    dropEnabled="false"

                    > 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T13:49:53.800

试试这个自定义数据提示操作脚本。

```
// charts/MyDataTip.as
package {
import mx.charts.chartClasses.DataTip;
import mx.charts.*;
import flash.display.*; 
import flash.geom.Matrix;
import flash.text.TextField;     

public class MyDataTip extends DataTip {

    // The title is renderered in a TextField.
    private var myText:TextField; 

    public function MyDataTip() {
        super();            
    }       

    override protected function createChildren():void{ 
        super.createChildren();
        myText = new TextField();
    }

    override protected function updateDisplayList(w:Number, h:Number):void {
        super.updateDisplayList(w, h);

        // The data property provides access to the data tip's text.
        if(data.hasOwnProperty('text')) {
            myText.text = data.text;
        } else {
            myText.text = data.toString();        
        }

        this.setStyle("textAlign","center");
         this.setStyle("color","#FFFFFF");
        var g:Graphics = graphics; 
        g.clear();  
        var m:Matrix = new Matrix();
        m.createGradientBox(w+100,h,0,0,0);
        g.beginFill(0x339966,1);
        g.drawRect(-50,0,w+100,h);
        g.endFill(); 
    }
 }
} 
```

并在您的 creationComplete="applyCustomDataTips()" 函数中使用此操作脚本。

例如：

```
 public function applyCustomDataTips():void {
    myColumnChart.setStyle("dataTipRenderer",MyDataTip);    
} 
```

请参阅[自定义数据提示渲染器](http://livedocs.adobe.com/flex/3/html/help.html?content=charts_displayingdata_08.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T15:59:20.670

您可以通过 Style 属性对其进行更改。

![在此处输入图像描述](https://i.stack.imgur.com/qPX9q.png)

```
<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
xmlns:mx="http://www.adobe.com/2006/mxml" 
layout="absolute" 
minWidth="955" minHeight="600">

<mx:Script>
    <![CDATA[
        import mx.collections.ArrayCollection;
        [Bindable]private var graphbar_data:ArrayCollection = new ArrayCollection([
            {Month:"Jan", Profit:2000, Expenses:1500},
            {Month:"Feb", Profit:1000, Expenses:200},
            {Month:"Mar", Profit:1500, Expenses:500}
        ]);
    ]]>
</mx:Script>

<mx:Style>
    @namespace mx "library://ns.adobe.com/flex/mx";

    mx|DataTip {
        fontFamily: "Arial";
        fontSize: 14; 
        fontWeight:bold;
        fontStyle:italic; 
        backgroundColor:#ffff42;
        color:#ff0000;
    }
</mx:Style>

<mx:Panel title="Angles" x="20" y="20" width="400" height="300" alpha="1" color="0x88442" backgroundColor="0xffffff">
    <mx:ColumnChart 
        id="myColumnChart"    
        showDataTips="true"
        color="0x88442" 
        height="100%" 
        width="100%"  
        dataProvider="{graphbar_data}"  
        selectionMode="multiple"
        dragEnabled="true" 
        dropEnabled="false">

        <mx:horizontalAxis>
            <mx:CategoryAxis dataProvider="{graphbar_data}" categoryField="Month"/>
        </mx:horizontalAxis>

        <mx:series>
            <mx:ColumnSeries xField="Month" yField="Profit" displayName="Profit"/>
            <mx:ColumnSeries xField="Month" yField="Expenses" displayName="Expenses"/>
        </mx:series>    

    </mx:ColumnChart>
</mx:Panel>
</mx:Application> 
```

我正在使用 Flex 4.6。如果您只有第 3 个版本，您应该像这样定义样式：

```
<mx:Style>
    DataTip {
        fontFamily: "Arial";
        fontSize: 14; 
        fontWeight:bold;
        fontStyle:italic;    
        backgroundColor:#ffff42;
        color:#ff0000;        
    }
</mx:Style> 
```

# ios - UICollectionView 自动滚动到 IndexPath 处的单元格

> ID：15985574
> 
> 赞同：115
> 
> 时间：2013-04-13T07:52:36.317
> 
> 标签：ios, uicollectionview

在加载集合视图之前，用户设置集合视图数组中的图像数量。所有单元格都不适合屏幕。我有 30 个单元格，屏幕上只有 6 个。

问题：如何在加载 UICollectionView 时自动滚动到具有所需图像的单元格？

* * *

## 回答 #1

> 赞同：181
> 
> 时间：2013-04-13T09:01:16.377

**新的，已编辑的答案：**

添加这个`viewDidLayoutSubviews`

**迅速**

```
override func viewDidLayoutSubviews() {
    super.viewDidLayoutSubviews()
    let indexPath = IndexPath(item: 12, section: 0)
    self.collectionView.scrollToItem(at: indexPath, at: [.centeredVertically, .centeredHorizontally], animated: true)
} 
```

通常情况下`.centerVertically`是这样

**对象**

```
-(void)viewDidLayoutSubviews {
   [super viewDidLayoutSubviews];
    NSIndexPath *indexPath = [NSIndexPath indexPathForItem:12 inSection:0];
   [self.collectionView scrollToItemAtIndexPath:indexPath atScrollPosition:UICollectionViewScrollPositionCenteredVertically | UICollectionViewScrollPositionCenteredHorizontally animated:NO];
} 
```

**适用于旧 iOS 的旧答案**

将其添加到`viewWillAppear`：

```
[self.view layoutIfNeeded];
[self.collectionView scrollToItemAtIndexPath:indexPath atScrollPosition:UICollectionViewScrollPositionCenteredVertically animated:NO]; 
```

* * *

## 回答 #2

> 赞同：104
> 
> 时间：2014-10-08T00:38:33.127

我发现滚动`viewWillAppear`可能无法可靠地工作，因为集合视图还没有完成它的布局；您可能会滚动到错误的项目。

我还发现滚动`viewDidAppear`会导致未滚动视图的瞬间闪烁可见。

而且，如果您每次滚动`viewDidLayoutSubviews`，用户将无法手动滚动，因为某些集合布局会在您每次滚动时导致子视图布局。

这是我发现可靠的工作：

目标 C：

```
- (void)viewDidLayoutSubviews {
    [super viewDidLayoutSubviews];

    // If we haven't done the initial scroll, do it once.
    if (!self.initialScrollDone) {
        self.initialScrollDone = YES;

        [self.collectionView scrollToItemAtIndexPath:self.myInitialIndexPath
                                    atScrollPosition:UICollectionViewScrollPositionRight animated:NO];
    }
} 
```

斯威夫特：

```
 override func viewWillLayoutSubviews() {

    super.viewWillLayoutSubviews()

      if !self.initialScrollDone {

         self.initialScrollDone = true
         self.testNameCollectionView.scrollToItem(at:selectedIndexPath, at: .centeredHorizontally, animated: true)
    }

} 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-07-22T10:25:40.080

我完全同意楼上的回答。唯一的问题是，对我来说，解决方案是在 viewDidAppear 中设置代码

```
viewDidAppear 
{
    [self.collectionView scrollToItemAtIndexPath:indexPath atScrollPosition:UICollectionViewScrollPositionCenteredVertically animated:YES];
} 
```

当我使用 viewWillAppear 时，滚动不起作用。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-12-11T07:27:30.987

**迅速：**

```
your_CollectionView.scrollToItemAtIndexPath(indexPath, atScrollPosition: UICollectionViewScrollPosition.CenteredHorizontally, animated: true) 
```

**斯威夫特 3**

```
let indexPath = IndexPath(row: itemIndex, section: sectionIndex)

collectionView.scrollToItem(at: indexPath, at: UICollectionViewScrollPosition.right, animated: true) 
```

**滚动位置：**

```
UICollectionViewScrollPosition.CenteredHorizontally / UICollectionViewScrollPosition.CenteredVertically 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2015-05-28T18:56:01.213

这似乎对我有用，它类似于另一个答案，但有一些明显的区别：

```
- (void)viewDidLayoutSubviews
{     
   [self.collectionView layoutIfNeeded];
   NSArray *visibleItems = [self.collectionView indexPathsForVisibleItems];
   NSIndexPath *currentItem = [visibleItems objectAtIndex:0];
   NSIndexPath *nextItem = [NSIndexPath indexPathForItem:someInt inSection:currentItem.section];

   [self.collectionView scrollToItemAtIndexPath:nextItem atScrollPosition:UICollectionViewScrollPositionNone animated:YES];
} 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2016-05-21T12:37:53.900

您可以使用 GCD 将滚动分派到 viewDidLoad 中的主运行循环的下一次迭代以实现此行为。滚动将在集合视图显示在屏幕上之前执行，因此不会闪烁。

```
- (void)viewDidLoad {
    dispatch_async (dispatch_get_main_queue (), ^{
        NSIndexPath *indexPath = YOUR_DESIRED_INDEXPATH;
        [self.collectionView scrollToItemAtIndexPath:indexPath atScrollPosition:UICollectionViewScrollPositionCenteredHorizontally animated:NO];
    });
} 
```

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2019-09-11T14:44:01.487

作为上述的替代方案。数据加载后调用：

**迅速**

```
collectionView.reloadData()
collectionView.layoutIfNeeded()
collectionView.selectItem(at: indexPath, animated: true, scrollPosition: .right) 
```

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2017-11-06T15:03:43.723

我建议这样做`collectionView: willDisplay:`然后你可以确定集合视图委托提供了一些东西。这是我的例子：

```
func collectionView(_ collectionView: UICollectionView, willDisplay cell: UICollectionViewCell, forItemAt indexPath: IndexPath) {
    /// this is done to set the index on start to 1 to have at index 0 the last image to have a infinity loop
    if !didScrollToSecondIndex {
        self.scrollToItem(at: IndexPath(row: 1, section: 0), at: .left, animated: false)
        didScrollToSecondIndex = true
    }
} 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2016-07-29T14:33:04.500

这里的所有答案 - 黑客。在 relaodData 之后，我找到了在某处滚动集合视图的更好方法：
子类集合视图布局你使用什么布局，覆盖方法 prepareLayout，在超级调用之后设置你需要的偏移量。
例如：[https ://stackoverflow.com/a/34192787/1400119](https://stackoverflow.com/a/34192787/1400119)

# c++ - QPrinter 链接器找不到文件

> ID：15985580
> 
> 赞同：2
> 
> 时间：2013-04-13T07:53:39.680
> 
> 标签：c++, qt, printing, linker

当我尝试在代码中的任何位置声明 QPrinter 时，出现以下错误：

```
Error   1   error LNK2019: unresolved external symbol "__declspec(dllimport)      
public: virtual __thiscall QPrinter::~QPrinter(void)" (__imp_??1QPrinter@@UAE@XZ) 
referenced in function "private: void __thiscall ezXpns::on_loginButton_clicked(void)" (?
on_loginButton_clicked@ezXpns@@AAEXXZ)  
(path)\TestBuild_April3\TestBuild\ezxpns.obj    TestBuild

Error   2   error LNK2019: unresolved external symbol "__declspec(dllimport) 
public: __thiscall QPrinter::QPrinter(enum QPrinter::PrinterMode)" (__imp_??
0QPrinter@@QAE@W4PrinterMode@0@@Z) referenced in function "private: void __thiscall 
ezXpns::on_loginButton_clicked(void)" (?on_loginButton_clicked@ezXpns@@AAEXXZ)  
(path)\TestBuild_April3\TestBuild\ezxpns.obj    TestBuild 
```

搜索后我发现它暗示，链接器可以找到方法声明，但不能找到方法本身。此外，它似乎在任何提及`QPrinter`. 我认为这可能是因为这种方法在 QT5 中被贬低了，但似乎 QT-printer 通信的新方法尚未发布。可能是什么问题呢？`#IFDEF`QPrinter 文件中的预处理器声明？

我的包括：

```
#include <QtWidgets/QMainWindow>
#include "ui_ezxpns.h"
#include "Vector2D.h"
#include <QtPrintSupport\qprinter.h>
#include <QtPrintSupport\qprintdialog.h>
#include <QtPrintSupport\qtprintsupportglobal.h>
#include <qapplication.h> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-13T08:38:55.550

我假设您没有为您的项目启用 QtPrintSupport。您可以通过添加启用它

```
QT += printsupport 
```

到您的 .pro 文件。

如需更多信息，[请阅读此处](http://qt-project.org/doc/qt-5.0/qtprintsupport/qtprintsupport-module.html)。

# android - 我怎么能使用具有不同内容的同一页面

> ID：15985584
> 
> 赞同：-1
> 
> 时间：2013-04-13T07:54:09.003
> 
> 标签：android, arraylist, android-activity

我需要使用具有不同内容的同一页面

例如：`i have clicked Array[name] button it will show the couple of names in listview next when i will click the address array the same activity instead of name can we show the address!!`

我已经搜索过我找到了这样的东西

```
Intent intent = new Intent(context, CalledActivity.class);
        intent.putExtra(key, value);
        startActivity(intent); 
```

在这里，他们使用 sqlite 数据库来获取内容。有人可以帮我吗@Thanks

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-13T08:13:32.203

我不明白为什么你不能更新数据然后调用 notifyDataSetChanged() 来更新你的列表视图。

你可能有你的适配器定义如下：
ArrayAdapter myadapter=new ArrayAdapter(this, android.R.layout.simple_list_item_1, theDataSource1);

然后 DataSource1=ArrayNames

因此，当单击地址按钮时，请尝试 DataSourcd1=ArrayAddresses

然后 myadapter.notifyDataSetChanged();

另一种方式，但其糟糕的设计是您可以拥有另一个适配器，然后在单击按钮时更改列表视图的适配器，它们会切换。

# java - 如何以每秒 2/3 像素的速度移动对象（绘画）

> ID：15985591
> 
> 赞同：2
> 
> 时间：2013-04-13T07:54:45.800
> 
> 标签：java

我想做两节课。一个（类 Mover）正在更改其他（类 Window）用于每 1/30 秒重新绘制一些东西的字段。

但移动的速度应该小于或等于每秒 20 个像素。

但即便`20/30 == 0`如此，即使我使用双精度，我也无法将对象移动 2/3 像素，那么我应该投射它，它至少为 30 像素/秒。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T08:01:59.687

您可以将您的位置保持为浮点数，并在需要绘制它时将其四舍五入。您提到的方法的重要区别是您不围绕速度，而是围绕实际位置。

# c# - Combobox.SelectedIndexChanged 的 行为

> ID：15985595
> 
> 赞同：1
> 
> 时间：2013-04-13T07:55:26.010
> 
> 标签：c#, winforms, events, combobox

请看下面的代码。当应用程序启动时，SelectedIndexChanged 被调用并且 x 的类型为“Example”。但是当应用程序运行并且您选择不同的东西时 SelectedIndexChanged 会产生一个结果 x 类型的浮点数。为什么会产生不同的结果？

```
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();

            var example = new List<Example>();

            example.Add(new Example("A", 100f));
            example.Add(new Example("B", 200f));
            example.Add(new Example("C", 400f));

            this.comboBox1.DataSource = example;

            this.comboBox1.DisplayMember = "Description";
            this.comboBox1.ValueMember = "Value";
        }

        private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
        {
            var x = this.comboBox1.SelectedValue;
        }
    }

    public class Example
    {
        public Example(string desc, float val)
        {
            this.Description = desc;
            this.Value = val;
        }

        public string Description { get; set; }
        public float Value { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T07:55:26.010

在发布我的问题之前，我尝试了不同的方法并找到了答案：

SelectedIndexChanged 在设置 DataSource 时触发。在这个特定时刻，程序不知道哪一列是 DisplayMember 和 ValueMember，并返回类型 Example。

要获得预期的结果，您首先必须告诉控件将什么用作 DisplayMember 和 ValueMember，**然后**设置数据源。

```
this.comboBox1.DisplayMember = "Description";
this.comboBox1.ValueMember = "Value";
this.comboBox1.DataSource = example; 
```

# sql - 将值而不是 varchar 替换为布尔值

> ID：15985600
> 
> 赞同：1
> 
> 时间：2013-04-13T07:55:31.807
> 
> 标签：sql, sql-server, sql-server-2008, tsql, sql-insert

我有不同的数据库表，

数据库 1：

表格1：

```
Id -001(int)

Name -xxx(varchar)

Male -0 (bit)

Female-1 (bit) 
```

数据库 2：

表 2：

```
Id -1 (int)

Ca.Name-yyy (varchar)

Gender - M or F (varchar) 
```

这些是我的桌子。我想从数据库 2 创建插入查询，然后执行到表 1。但是这样做有问题。

这个怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T07:58:02.683

您可以执行`INSERT INTO...SELECT`语句并使用`CASE`来检查用户是否为`Male or Female`.

```
INSERT  INTO dbase2.dbo.Table2(ID, Name, Gender)
SELECT  ID, Name,
        CASE WHEN Male = 1 THEN 'M' ELSE 'F' END Gender
FROM    dbase1.dbo.Table1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T14:10:38.670

```
INSERT INTO database1.Table1 ( Id, Name, Male, Female )
SELECT id, name, CAST( CASE gender WHEN 'M' THEN 1 ELSE 0 end as Bit), CAST( CASE gender WHEN 'M' THEN 0 ELSE 1end as Bit) FROM database2.Table2 
```

我认为从您发布从 Table2 到 table1 的帖子，以上内容应该适用于这种情况

# ruby-on-rails-3 - 贝宝经常性宝石 - 取消或暂停？

> ID：15985601
> 
> 赞同：2
> 
> 时间：2013-04-13T07:55:33.667
> 
> 标签：ruby-on-rails-3, paypal, gem

我正在使用[https://github.com/fnando/paypal-recurring](https://github.com/fnando/paypal-recurring)但我不确定哪种方法 - 取消或暂停会阻止订阅者向我的网站付款。我查看了github上的代码，但我无法理解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-20T04:44:25.720

Canel 将取消订阅，这也会像暂停一样停止用户付款，但取消后您将无法再重新激活配置文件。您只能对暂停的配置文件进行反应订阅。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T14:05:16.993

您将需要使用`profile_id`创建定期配置文件时获得的信息。

有了它，您只需要创建一个 Recurring 对象并调用`cancel`它。

```
ppr = PayPal::Recurring.new(:profile_id => "I-VCEL6TRG35CU")
response = ppr.cancel
puts response 
```

如果取消成功，您将收到如下所示的响应：

```
#<PayPal::Recurring::Response::ManageProfile:0x0000000b0ab8f0 @response=#<Net::HTTPOK 200 OK readbody=true>, @params={:PROFILEID=>"I-6TBFJJL5854D", :TIMESTAMP=>"2013-05-15T13:33:49Z", :CORRELATIONID=>"455e02f8d2795", :ACK=>"Success", :VERSION=>"72.0", :BUILD=>"5908853"}, @errors=[]> 
```

您还可以使用其他调用，例如`suspend`或`reactivate`。

# c++ - 尝试删除空格时 remove_if 抛出错误

> ID：15985612
> 
> 赞同：1
> 
> 时间：2013-04-13T07:58:15.697
> 
> 标签：c++

我正在尝试从字符串中删除空格。但抛出一个错误。

我的代码做错了哪个参数..感谢您的关注

我的主要功能

```
#include <algorithm>
#include <iostream>
#include <fstream>
#include <vector>
#include <string>
#include <sstream>
using namespace std;

int main()
{
    string myText;
    myText = readText("file.txt");
    myText.erase(remove_if(myText.begin(), myText.end(), isspace), myText.end());
    cout << myText << endl;

    return 0;
} 
```

以下是我尝试编译时出现的错误。

```
encrypt.cpp: In function ‘int main()’:
encrypt.cpp:70:70: error: no matching function for call to ‘remove_if(std::basic_string<char>::iterator, std::basic_string<char>::iterator, <unresolved overloaded function type>)’
encrypt.cpp:70:70: note: candidate is:
/usr/include/c++/4.6/bits/stl_algo.h:1131:5: note: template<class _FIter, class _Predicate> _FIter std::remove_if(_FIter, _FIter, _Predicate) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T08:21:20.300

您收到此错误是因为有两个带有 name 的函数`isspace`。

1.  `locale`在标头、*命名空间 std*中定义：

    ```
    template<class charT>
    bool std::isspace(charT ch, const locale& loc); 
    ```

2.  `cctype`在标头中定义，*全局命名空间*：

    ```
    int isspace( int ch ); 
    ```

所以，如果你想使用第二个功能，你有两种方法：

1.  不要使用`using namespace std`. 我更喜欢它。
2.  用于`::`调用函数，定义在*全局命名空间中*

    ```
    remove_if(myText.begin(), myText.end(), ::isspace)
    //                                      ^^ 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:25:57.003

里面有几个详细的解释：

[没有函数模板 remove_if 的实例与参数列表匹配](https://stackoverflow.com/questions/13069552/no-instance-of-function-template-remove-if-matches-argument-list)

总而言之， isspace 对编译器来说是模棱两可的。我宁愿命令不使用它。

下面的代码适用于 G++ 4.7.2

```
#include<iostream>
#include<string>
#include<algorithm>
using namespace std;

bool isSpace(const char& c)
{
    return !!::isspace(c);
}

int main()
{
    string text("aaa bbb ccc");
    text.erase(remove_if(text.begin(), text.end(), isSpace), text.end());
    cout << text << endl;
    return 0;
} 
```

# javascript - 防止触摸设备出现 300 毫秒延迟

> ID：15985614
> 
> 赞同：3
> 
> 时间：2013-04-13T07:58:31.263
> 
> 标签：javascript, ios, web-applications, touch

在 Android 和 iOS 设备上有一个 300 毫秒的内置延迟来捕获双击（谁在网站上使用它，说到 UX？！）我想摆脱这种延迟并阅读很多关于主题但仍然不明白为什么这个简单的代码不是“OK”或会破坏用户体验：

```
$('a').bind('touchend', function (e) {
    e.preventDefault();
    this.click();
}); 
```

对我来说，这似乎很完美，但我确信有理由不应该这样做。感谢您为我指明正确的方向！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-11-18T11:20:40.947

那个简单的代码说，当触摸（拖动）事件在链接上结束时，触发该链接上的“点击”事件。如果用户在屏幕上拖动手指滚动页面并且这样的拖动结束于链接，则链接将被意外触发。这会破坏用户体验（UX）。

消除延迟的标准方法是使用 CSS[`touch-action`](http://caniuse.com/#search=touch-action)属性。在我写这篇文章的时候，Firefox 仍然默认不支持它（默认情况下`about:config`有标志[`layout.css.touch_action.enabled`为 false](https://bugzilla.mozilla.org/show_bug.cgi?id=960316)），Safari 仍然完全不支持它。MSIE、Chrome 和 Android 浏览器都已在所有平台上支持此功能。

简而言之：

```
/* Disable double-click to zoom on links, input fields
   and buttons to improve responsiveness */
a, input, button
{
    touch-action: manipulation;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-01T22:55:31.907

**简短回答：** A `click`（在移动设备中）希望您从结束的地方开始。A`touchend`让您从任何地方开始。

现在， [fastclick](http://ftlabs.github.io/fastclick/)和其他库似乎处理的不仅仅是链接，例如按钮点击、表单交互等。因此，您可能还会遗漏一些边缘情况。

但是至于*“物有所值”，*您的东西效果很好；-)

# iphone - ARC：向对象发送 nil 不会立即调用其 dealloc

> ID：15985617
> 
> 赞同：8
> 
> 时间：2013-04-13T07:59:05.333
> 
> 标签：iphone, ios, objective-c, automatic-ref-counting

我正在从手动内存管理过渡到 ARC 并且遇到了问题。大多数时候，我通过在模型类中调用 performSelectorInBackground 来异步执行数据加载。问题是当模型收到 nil（发布）时，我需要停止任何模型代码执行。在非 arc 中，一切都很简单——一旦用户关闭窗口，它的控制器就会开始释放自己并释放它的模型 [_myModel release]，因此模型停止它的代码执行（数据加载）并被调用它的 dealloc 方法.

这在 ARC 中似乎有所不同。即使从控制器接收到 nil 消息，模型仍然执行代码。它的 dealloc 方法仅在其代码执行（数据加载）之后被调用。这是一个问题，因为当用户关闭窗口（控制器）时，代码执行应该尽快停止。这是对代码的某种缺乏控制——控制器告诉模型——“走开，我不再需要你的工作了”，但模型仍然“正在努力完成它的工作”:)。

想象一个模型执行一些非常繁重的数据处理，持续时间为 10 秒。当用户打开窗口（控制器）时，模型开始进行处理。但是想象一下，用户在打开窗口后改变了主意并关闭了窗口。该模型仍然执行浪费处理。任何想法如何解决或解决这个问题？我不喜欢在我的模型中有一个特殊的 BOOL“shouldDealloc”属性并在控制器 dealloc 方法中设置为 YES，并在我的模型类条件中使用。有更优雅的解决方案吗？

我做了一些演示项目来展示这个问题。对于测试，只需创建单视图应用程序并粘贴代码。在 ViewController.xib 文件中创建按钮- **“开始计算”**和**“停止计算”**，并将其 IBAction 与**startCalculationPressed**和**stopCalculationPressed**连接：

**视图控制器.h**

```
#import "MyModel.h"

@interface ViewController : UIViewController <MyModelDelegate>

- (IBAction)startCalculationPressed:(id)sender;
- (IBAction)stopCalculationPressed:(id)sender;

@end 
```

**视图控制器.m**

```
@interface ViewController (){

  __strong MyModel *_myModel;
}
@end

@implementation ViewController

- (void)viewDidLoad
{
  [super viewDidLoad];
  // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
  [super didReceiveMemoryWarning];
  // Dispose of any resources that can be recreated.
}

- (void)didCalculated
{
  NSLog(@"Did calculated...");
}

- (IBAction)startCalculationPressed:(id)sender
{
  NSLog(@"Starting to calculate...");

  _myModel = nil;
  _myModel = [[MyModel alloc] init];
  _myModel.delegate = self;

  [_myModel calculate];
}

- (IBAction)stopCalculationPressed:(id)sender
{
  NSLog(@"Stopping calculation...");
  _myModel.delegate = nil;
  _myModel = nil;
}
@end 
```

将新的 MyModel 类添加到项目中：

**我的模型.h**

```
@protocol MyModelDelegate <NSObject>

  - (void)didCalculated;

@end

@interface MyModel : NSObject

  @property (nonatomic, weak) id<MyModelDelegate> delegate;

  - (void)calculate;

@end 
```

**我的模型.m**

```
@implementation MyModel

- (void)dealloc
{
  NSLog(@"MyModel dealloc...");
}

- (void)calculate
{
  [self performSelectorInBackground:@selector(performCalculateAsync) withObject:nil];
}

- (void)performCalculateAsync
{
  // Performing some longer running task
  int i;
  int limit = 1000000;
  NSMutableArray *myList = [[NSMutableArray alloc] initWithCapacity:limit];

  for (i = 0; i < limit; i++) {

    [myList addObject:[NSString stringWithFormat:@"Object%d", i]];
  }

  [self performSelectorOnMainThread:@selector(calculateCallback) withObject:nil waitUntilDone:NO];

}

- (void)calculateCallback
{
  [self.delegate didCalculated];
}

@end 
```

**UPDATE** Martin 是对的，performSelectorOnMainThread 总是保留自我，所以没有办法停止其他线程上的代码执行（在 ARC 和非 ARC 中），所以释放模型时不会立即调用 dealloc。因此，这应该通过条件检查使用适当的属性（例如委托）显式完成。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T09:22:12.000

如果一个对象的释放计数下降到零，或者在 ARC 语言中，如果对该对象的最后一个强引用消失，则该对象被释放。

```
[self performSelectorInBackground:@selector(performCalculateAsync) withObject:nil]; 
```

添加对 的强引用`self`，这解释了为什么在后台线程完成之前没有释放对象。

没有办法（据我所知）使后台线程“自动”停止。`dispatch_async()`对于以或 for开头的块也是如此`NSOperation`。一旦启动，线程/块/操作必须在保存停止的点监视某些属性。

在您的示例中，您可以监视`self.delegate`. 如果变成`nil`，则不再对结果感兴趣，因此后台线程可以返回。在这种情况下，将`delegate`属性声明为`atomic`.

请注意，如果视图控制器被释放（因为它是一个弱属性），即使没有被调用，`self.delegate`它也会自动设置为。`nil``stopCalculationPressed`

# c++ - 需要 C++ 布尔编码帮助

> ID：15985618
> 
> 赞同：0
> 
> 时间：2013-04-13T07:59:26.347
> 
> 标签：c++, oop

我正在尝试根据以下要求编写代码（面向对象编程），但是我`bool`一直返回 true 而它应该是 false。希望你们能告诉我我的代码出了什么问题。

* * *

**要求**

```
Member(string = "xxx", bool = false, string = "addr")
Constructor with default values

setMember(string, bool, string): void
Set the values of data members to the respective pass-in values

setPremium(bool): void
Set the value of data member, premium to the pass-in value

getPremium():bool
Returns the value of data member, premium

setMember(string, bool, string): void
Set the values of data members to the respective pass-in values

displayMember():void
Uses cout to display the data members 
```

* * *

**我的代码**

```
#include <iostream>
#include <string>
using namespace std;

class Member
{
private:
    string name;
    bool premium;
    string address;
public:
    Member(string = "xxx", bool = false, string = "addr");

    void setMember(string, bool, string);
    void setPremium(bool);
    bool getPremium();
    int index;

    void DisplayMember();
};

Member::Member(string name, bool premium, string address)
{
    this-> name = name;
    this-> premium = premium;
    this-> address = address;
}

void Member::setMember(string name, bool premium, string address)
{
    this-> name = name;
    this-> premium = premium;
    this-> address = address;
}

void Member::setPremium(bool)
{
    int i;
    bool premium;
    i = 0;

while (i != 4)
{
    i = i + 1;
}
    if (premium >= 4) 
    {

    index = i;
        premium = true;
    }
    else 
        premium = false;
}

bool Member::getPremium()
{
    return premium;
}

void Member::DisplayMember()
{
    cout<<"Name : "<<name<<endl;
    cout<<"Premium : "<<boolalpha<<premium<<endl;
    cout<<"Address : "<<address<<endl;
}

int main()
{
    Member detail1("Martin ", "2 Tampines Avenue");
    detail1.DisplayMember();

    cin.ignore();
    cin.ignore();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:18:37.647

您的本地`bool premium`正在隐藏成员变量。要写入后者，您需要使用`this->premium`或重命名局部变量。除此之外，`setPremium`代码几乎没有任何意义——例如，您在布尔值上使用整数运算。

这是`setPremium`应该如何实现的：

```
void Member::setPremium(bool premium)
{
    this->premium = premium;
} 
```

此外，您正在使用未定义的变量，例如`boolalpha`. 你的代码甚至不应该编译......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:23:29.777

要解决您的问题，只需更改构造函数参数的顺序。

```
public:
    Member(string = "xxx", string = "addr", bool = false); 
```

和：

```
Member::Member(string name, string address, bool premium)
{
    this-> name = name;
    this-> premium = premium;
    this-> address = address;
} 
```

# c# - 在asp.net c#的适配器中使用Fill函数

> ID：15985620
> 
> 赞同：0
> 
> 时间：2013-04-13T07:59:37.120
> 
> 标签：c#, asp.net, web, dataset

我是 asp.net 的新手。我想使用我的数据集一个适配器来显示我的一个表中的所有数据。我阅读了有关使用 fill(table) 的信息，但我不能像示例中那样使用表格。

我的数据库表是 Cars，我的数据集页面是 DataSet1.xsd，我的适配器名称是 CarsTableAdapter。

想得到解释，因为我没有从其他网站得到它。我在cs文件中使用visual web developer 2010，而不是vb。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T16:58:05.453

```
DataSet1TableAdapters.CarsTableAdapter cta2 = new DataSet1TableAdapters.CarsTableAdapter();
DataSet1.CarsDataTable cdt = new DataSet1.CarsDataTable();
cta2.Fill(cdt); 
```

这对我有用，无论如何谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:02:26.863

SqlDataAdapterda 填充方法是重载方法，您可以在此处传递数据表以及数据集。

试试下面的代码：

```
DataSet ds=new DataSet();
SqlDataAdapterda=new SqlDataAdapter();
da.Fill(ds); 
```

您可以访问数据集，如下所示：

```
 DataTable dt= ds.Tables[0]; 
```

# php - PHP/SOAP 不创建所需的 xml 请求

> ID：15985623
> 
> 赞同：1
> 
> 时间：2013-04-13T07:59:49.953
> 
> 标签：php, xml, soap, wsdl

我正在尝试将 WSDL Web 服务与 php/soap 一起使用。而且它总是给出一个反序列化错误，这正是：

> 反序列化操作“测试”的请求消息正文时出错。OperationFormatter 遇到无效的消息正文。预计会找到名称为“Test”和命名空间“”的节点类型“Element”。找到名称为“参数”和“命名空间”的节点类型“元素”

当我使用 WcfTestClient 软件测试 WSDL 源时，没有任何问题，它会返回所需的结果。

当我比较由 SOAP 创建的请求 XML 和由 WcfTestClient 软件创建的 XML 时，我发现差异可能是问题所在。名称空间和前缀似乎有问题，但我不知道如何解决它，或者可能是其他原因导致了问题。

请求 XML 是这样的：http: [//pastebin.com/eysnG89F](http://pastebin.com/eysnG89F)。

如果您需要 PHP 代码，[这是我正在使用的代码](http://pastebin.com/mGbh8iU3)。

```
try{
        $soap_options = array(
            'soap_version' => SOAP_1_1,
            'cache_wsdl'   => WSDL_CACHE_NONE,
            'trace' => TRUE
        );
        $soap = new SoapClient(
            'http://url.to/web/service.svc?wsdl', $soap_options
        );
        $a = $soap->Test(
           array("login" => 
               array(
                   "FirmaId"      => 15, 
                   "KullaniciAdi" => "Asdf", 
                   "Parola"       => "Xyxy",
               )
           )
         );
        var_dump($a);
} catch (Exception $e) {
        var_dump($e);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:37:51.537

我找不到确切的原因和解决方案，但这似乎可行。

首先，当您为 wsdl 方法提供对象而不是数组时，您可以摆脱 item、value 节点。节点将由对象名称创建

```
$a = $soap->Test(
       (object)array("login" => 
           (object)array(
               "FirmaId"      => 15, 
               "KullaniciAdi" => "Asdf", 
               "Parola"       => "Xyxy",
           )
       )
     ); 
```

之后，我实现了一个 <parameters> 节点，而不是在请求 xml 中创建的 <WsdlMethod> 节点。通过覆盖 __doRequest 方法并替换字符串，可以摆脱这个问题但仍然看不到响应。需要通过 str_replace 用 <parameter> 包裹 <wsdlMethodResponse> 节点，最终得到想要的响应。

正如我所说，这可能是一个临时解决方案。但为我工作:)

# apache - SSL 错误/RSA premaster secret 错误

> ID：15985625
> 
> 赞同：4
> 
> 时间：2013-04-13T08:00:03.660
> 
> 标签：apache, ssl, paypal, ssl-certificate, lamp

有人知道 PayPal 沙箱中遇到的错误是什么问题吗？

上次它工作了好几个月，我们更换了服务器，IPN 停止工作。我们不确定是 PayPal 问题还是我们的问题。

在 Web 服务器访问日志中，没有显示 PayPal IPN POST 日志的条目，我们无法找出问题所在。

> IPN 传递失败：I/O 错误：RSA premaster secret 错误；嵌套异常是 javax.net.ssl.SSLKeyException: RSA premaster secret error

[https://developer.paypal.com/webapps/developer/applications/ipn_simulator](https://developer.paypal.com/webapps/developer/applications/ipn_simulator)

![在此处输入图像描述](https://i.stack.imgur.com/7fPx2.png)

* * *

**额外信息：** 我们在一个 IP 中使用两个不同的子域和两个 SSL 证书。

***例子 ：***

[https://www.example.com/](https://www.example.com/) - 用于主网站（SSL 证书 A）

[https://ipn.example.com/](https://ipn.example.com/) - 用于 PayPal IPN（SSL 证书 B）

```
<VirtualHost x.x.x.x:443>
    ServerName ipn.example.com
    DocumentRoot "/path/to/ipn.example"

    SSLEngine on
    SSLCertificateFile "/path/to/ipn_example_com.crt"
    SSLCertificateKeyFile "/path/to/ipn_example_com.key"
    SSLCertificateChainFile "/path/to/CA1.pem"
</VirtualHost>

<VirtualHost x.x.x.x:443>
    ServerName www.example.com
    ServerAlias example.com
    DocumentRoot "/path/to/www.example"

    SSLEngine on
    SSLCertificateFile "/path/to/www_example_com.crt"
    SSLCertificateKeyFile "/path/to/www_example_com.key"
    SSLCertificateChainFile "/path/to/CA2.pem"
</VirtualHost> 
```

xxxx 是 IP 地址（两个 IP 相同）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T13:05:55.013

我遇到了同样的问题，似乎 IPN 模拟器无法正确处理 https。（或者 RSA 密钥超过 1024 位可能有问题？）我无法使用模拟器，但如果我使用 Paypal 商业/消费者帐户测试所有内容（在沙箱中）并伪造购买，我确实会收到 IPN 消息发送给我的处理程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-16T19:31:26.623

您可能想要设置环境变量 JAVA_EXT_DIRS 哪个值将是 [..]jre\lib\ext 的路径

[SunTlsRsaPremasterSecret KeyGenerator not available](https://stackoverflow.com/questions/2872520/suntlsrsapremastersecret-keygenerator-not-available)的公认答案可能会有所帮助

其他相关帖子可以在网上找到：

[http://forums.pentaho.com/showthread.php?78991-plm-in-4-x-javax-net-ssl-SSLKeyException-RSA-premaster-secret-error](http://forums.pentaho.com/showthread.php?78991-plm-in-4-x-javax-net-ssl-SSLKeyException-RSA-premaster-secret-error)

[https://issues.apache.org/jira/browse/SMX4-537](https://issues.apache.org/jira/browse/SMX4-537)

# c++ - 如何使指针指向二维数组的任何数组元素？

> ID：15985628
> 
> 赞同：11
> 
> 时间：2013-04-13T08:00:34.390
> 
> 标签：c++, c, pointers

直奔主题，

我希望字符指针`p`指向唯一包含字符“ `T`”的数组元素。

```
char a[100][100];
char *p;

for(int i=0;i<4;i++)
  for(int j=0;j<4;j++)
    if(a[i][j] == 'T')
      p = a[i][j]; 
```

PS 我尝试了 , 等的各种组合`*`，`**`但似乎没有任何效果。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-13T08:02:09.180

使用它的地址：

```
char a[100][100];
char *p;

for(int i=0;i<4;i++)
  for(int j=0;j<4;j++)
    if(a[i][j] == 'T')
      p = &a[i][j]; 
```

`a[i][j]`is 属于 type`char`并且`p`属于 type `char *`，其中包含一个地址。要获取变量的地址，请在其前面加上`&`.

指针上的`*`运算符反过来工作。如果您想获得`'T'`支持，您可以使用：

```
 char theT = *p; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-13T08:28:35.080

还有另一种方法可以得到它

```
char a[100][100];
char *p;

for(int i=0;i<4;i++)
   for(int j=0;j<4;j++)
       if(a[i][j] == 'T')
           p = a[i]+j; 
```

通过写你实际上是说，我们有一个指针指向一个名为**a[i]**`p = a[i]+j;`的数组，你指向距离该数组的请求**j倍的位置！**

 ***** * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-13T08:05:36.507

更改 if 部分如下

```
 if(a[i][j] == 'T' ) {
       p = (char *) &a[i][j];
       i = 4; break;
  } 
```****

# jquery - 在jquery中高效提交每个表单

> ID：15985629
> 
> 赞同：-1
> 
> 时间：2013-04-13T08:00:34.403
> 
> 标签：jquery, forms, function, submit, each

如何使用每个函数或其他函数编写我在 jquery 中选择的每个表单提交（无需逐个编写表单 jquery 提交）？我对此进行了编码，但不起作用。

```
$("form#form_report_user,form#send_pm").submit(function(){
    $.post($(this).attr('action'), $(this).serialize(), function(data) {
    $($(this).parent()).html("<img src='../images/loader.gif' alt='loading...' />");
      switch (parseInt(data.succ_code)){
          case 1: $($(this).parent()).html(data.html);break;
          default: $($(this).parent()).html(data.html);
      }
    }, 'json');
    return false;
}); 
```

和 html ：

```
 <div class="send_pm">
        <h1>....</h1>
        <form action="load/send_pm.php" method="post" id="send_pm">
        <input name="user_id" type="hidden" value="<?php echo $userid; ?>"  />
        <div class="cleaner"></div>
        <span style="font-size:12px;">Subject : </span><br />
        <input name="subject" type="text" style="margin-top: 10px; margin-bottom: 10px;" />
        <div class="cleaner"></div>
        <span style="font-size:12px;">Message : </span>
        <div class="cleaner"></div>
        <textarea name="msg" id="add_txtarea" style="margin-top: 10px; margin-bottom: 10px;width: 220px;height: 100px;"></textarea>
        <div class="cleaner"></div>
        <input type="submit" value="send" name="send" class="nice_button" />
        </form>
</div>
<div class="gold_transfer">
        <h1>...</h1>
        <span style="font-size:12px;">....</span><br>
        <form action="load/transfer_gold.php" method="post" id="transfer_gold">
        <input name="user_id_receive" type="hidden" value="<?php echo $userid; ?>"  />
        <div class="cleaner"></div>
        <img src="../images/gold-coin.png" style="width:25px; height: 25px; padding-top:10px;" />
        <input name="gold_total_transfer" id="gold_total" value="" type="text" style="margin-top: 10px; margin-bottom: 10px; width: 40px;" />
        <div class="cleaner"></div>
        <input type="submit" value="send" name="send" class="nice_button" />
        </form>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T08:07:06.530

尝试这个：

```
$("form").each(function () {
    var $this = $(this);
    var $parent = $this.parent();
    $this.submit(function () {
        $.post($this.attr('action'), $this.serialize(), function (data) {
            $parent.html("<img src='../images/loader.gif' alt='loading...' />");
            switch (parseInt(data.succ_code)) {
                case 1:
                    $parent.html(data.html);
                    break;
                default:
                    $parent.html(data.html);
            }
        }, 'json');
        return false;
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:06:27.677

你是在加载时做的吗？

也感觉括号太多，而且里面的loading也是不正确的

```
$(function() {
  $("#form_report_user, #send_pm").submit(function(e){
    var $formDiv = $(this).parent();
    $formDiv.append("<img src='../images/loader.gif' alt='loading...' />");
    $.post($(this).attr('action'), $(this).serialize(), function(data) {
      switch (parseInt(data.succ_code)){
        case 1: $formDiv.html(data.html);break;
        default: $formDiv.html(data.html);
      }
    }, 'json');
    return false;
  });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:07:25.347

这应该适合你：

```
$("form#form_report_user,form#send_pm").each(function(){
    $(this).submit(function(){
            ...
    }); 
}); 
```

# android - 打开失败：虚拟设备中的 EACCES（权限被拒绝）

> ID：15985631
> 
> 赞同：0
> 
> 时间：2013-04-13T08:00:55.727
> 
> 标签：android

我最近换了电脑，所以不得不重新安装 ADT。从那以后，我一直在虚拟设备中收到此错误。

日志猫：

```
04-13 07:50:00.232: E/MailApp(2000): Could not send email
04-13 07:50:00.232: E/MailApp(2000): javax.mail.MessagingException: IOException while sending message;
04-13 07:50:00.232: E/MailApp(2000):   nested exception is:
04-13 07:50:00.232: E/MailApp(2000):    java.io.FileNotFoundException: /mnt/sdcard/csvname.csv: open failed: EACCES (Permission denied)
04-13 07:50:00.232: E/MailApp(2000):    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:676)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.Transport.send0(Transport.java:189)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.Transport.send(Transport.java:118)
04-13 07:50:00.232: E/MailApp(2000):    at com.example.blueharvest.Mail.send(Mail.java:125)
04-13 07:50:00.232: E/MailApp(2000):    at com.example.blueharvest.ChargeActivity$6.onClick(ChargeActivity.java:213)
04-13 07:50:00.232: E/MailApp(2000):    at android.view.View.performClick(View.java:4204)
04-13 07:50:00.232: E/MailApp(2000):    at android.view.View$PerformClick.run(View.java:17355)
04-13 07:50:00.232: E/MailApp(2000):    at android.os.Handler.handleCallback(Handler.java:725)
04-13 07:50:00.232: E/MailApp(2000):    at android.os.Handler.dispatchMessage(Handler.java:92)
04-13 07:50:00.232: E/MailApp(2000):    at android.os.Looper.loop(Looper.java:137)
04-13 07:50:00.232: E/MailApp(2000):    at android.app.ActivityThread.main(ActivityThread.java:5041)
04-13 07:50:00.232: E/MailApp(2000):    at java.lang.reflect.Method.invokeNative(Native Method)
04-13 07:50:00.232: E/MailApp(2000):    at java.lang.reflect.Method.invoke(Method.java:511)
04-13 07:50:00.232: E/MailApp(2000):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-13 07:50:00.232: E/MailApp(2000):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-13 07:50:00.232: E/MailApp(2000):    at dalvik.system.NativeStart.main(Native Method)
04-13 07:50:00.232: E/MailApp(2000): Caused by: java.io.FileNotFoundException: /mnt/sdcard/csvname.csv: open failed: EACCES (Permission denied)
04-13 07:50:00.232: E/MailApp(2000):    at libcore.io.IoBridge.open(IoBridge.java:416)
04-13 07:50:00.232: E/MailApp(2000):    at java.io.FileInputStream.<init>(FileInputStream.java:78)
04-13 07:50:00.232: E/MailApp(2000):    at javax.activation.FileDataSource.getInputStream(FileDataSource.java:110)
04-13 07:50:00.232: E/MailApp(2000):    at javax.activation.DataHandler.writeTo(DataHandler.java:318)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1403)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:874)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.internet.MimeMultipart.writeTo(MimeMultipart.java:444)
04-13 07:50:00.232: E/MailApp(2000):    at com.sun.mail.handlers.multipart_mixed.writeTo(multipart_mixed.java:102)
04-13 07:50:00.232: E/MailApp(2000):    at javax.activation.ObjectDataContentHandler.writeTo(DataHandler.java:897)
04-13 07:50:00.232: E/MailApp(2000):    at javax.activation.DataHandler.writeTo(DataHandler.java:330)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1403)
04-13 07:50:00.232: E/MailApp(2000):    at javax.mail.internet.MimeMessage.writeTo(MimeMessage.java:1745)
04-13 07:50:00.232: E/MailApp(2000):    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:636)
04-13 07:50:00.232: E/MailApp(2000):    ... 15 more
04-13 07:50:00.232: E/MailApp(2000): Caused by: libcore.io.ErrnoException: open failed: EACCES (Permission denied)
04-13 07:50:00.232: E/MailApp(2000):    at libcore.io.Posix.open(Native Method)
04-13 07:50:00.232: E/MailApp(2000):    at libcore.io.BlockGuardOs.open(BlockGuardOs.java:110)
04-13 07:50:00.232: E/MailApp(2000):    at libcore.io.IoBridge.open(IoBridge.java:400)
04-13 07:50:00.232: E/MailApp(2000):    ... 27 more 
```

显现：

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

代码：

```
public void exportDb(Context context) {

    SQLiteDatabase _db = this.getReadableDatabase();
    //File exportDir = new File(Environment.getExternalStorageDirectory().getPath(), "");
    File exportDir = getDir(context);

    if (!exportDir.exists())
    {
        exportDir.mkdirs();
    }

    File file = new File(exportDir, "csvname.csv");
    try
    {
        file.createNewFile();               
        CSVWriter csvWrite = new CSVWriter(new FileWriter(file));
        SQLiteDatabase db = this.getReadableDatabase();
        Cursor curCSV = db.rawQuery("SELECT * FROM chrgData",null);
        csvWrite.writeNext(curCSV.getColumnNames());
        while(curCSV.moveToNext())
        {
           //Which column you want to export
            String arrStr[] ={curCSV.getString(0),curCSV.getString(1), curCSV.getString(2), curCSV.getString(3), curCSV.getString(4)};
            csvWrite.writeNext(arrStr);
        }
        csvWrite.close();
        curCSV.close();
    }
    catch(Exception sqlEx)
    {
        Log.e("MainActivity", sqlEx.getMessage(), sqlEx);
    }
    _db.close();
}

public File getDir(Context context) {
    File exportDir;
    if (android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED)) {
        exportDir = new File(android.os.Environment.getExternalStorageDirectory(),"");
    } else {
        exportDir = context.getCacheDir();
    }                
    return exportDir;
} 
```

任何和所有的帮助将不胜感激，如果需要任何其他信息，请告诉我。

提前致谢，

布拉德。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-18T19:48:15.707

原来错误是由于虚拟设备的问题引起的。删除并重新创建设备，错误不再存在。

# linux - 如何在 awk 模式搜索中包含“[”和“]”

> ID：15985632
> 
> 赞同：2
> 
> 时间：2013-04-13T08:01:07.430
> 
> 标签：linux, bash, awk

我在 bash 脚本中有以下代码

```
stat_pattern="POSITION_UPDATE [ For INRecord ]"
cat my_file.txt | awk -v pattern="$stat_pattern" '$0 ~ pattern' | tail -n 1 
```

但它不返回任何输出。我也用“[”尝试了“\”。买它也没有帮助。

请告诉我如何将“[”“]”字符视为搜索字符串的一部分...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:05:21.873

请记住 awk 中的波浪号运算符`~`将匹配字符串视为**正则表达式**，如果您有特殊的正则表达式字符（在您的情况下） `[`，`]`那么正则表达式匹配将失败。对于您的情况，最好使用[**awk 函数 index(in, find)**](http://www.staff.science.uu.nl/~oostr102/docs/nawk/nawk_92.html)在另一个字符串中查找字符串，如下代码：

```
awk -v pattern="$stat_pattern" 'index($0, pattern) {line=$0} 
       END{print line}' my_file.txt 
```

另请注意，您的命令中有不必要的 cat 和 tail 管道。所有这些都可以在 awk 本身中完成，因此我重构了您的命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:14:05.343

你必须逃避 '[' 和 '\' 所以它应该是

```
stat_pattern="POSITION_UPDATE \\\[ For INRecord \\\]" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:10:25.150

您必须转义转义字符，如下所示：

```
stat_pattern='POSITION_UPDATE \\[ For INRecord \\]' 
```

# arrays - 附加谷歌电子表格数组

> ID：15985637
> 
> 赞同：4
> 
> 时间：2013-04-13T08:01:43.807
> 
> 标签：arrays, google-sheets, google-sheets-formula

当我在谷歌电子表格中附加数组时，所有结果元素都不会呈现在单元格中。例如，如果我输入公式：

```
={{1,2,3}, {4,5,6}} 
```

电子表格单元格中呈现的值是 1、4、5、6。关于为什么会发生这种情况的任何想法或替代方案？我更广泛的问题是将单独工作表中的行累积到另一个工作表中 - 我可以通过

```
={ImportRange(...), ImportRange(...)} 
```

但同样的问题也很明显（缺少第一个数组中的第二个元素和更多元素）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-14T10:49:05.330

**编辑（2014 年 10 月 2 日）**

当有人投票时，我刚刚发生了这一点。以下信息在最新版本的表格中已过时 - 您现在可以（已经能够使用几个月了）在嵌入式数组中连接数组。我在下面提供的所有示例都可以使用，包括我说的“不应该使用”的示例。

* * *

**Google 表格中的嵌入式数组**

值数组可以由使用嵌入式数组的单个函数填充。嵌入数组中的每个元素（这可能是猜想点；这或多或少只是我的看法）表示将填充到*工作表中的连续单元格中的*值。分号是行分隔符；逗号（或使用逗号作为小数分隔符的语言环境中的反斜杠）是列分隔符。因此，这将成功创建一个两行三列的数组（以下所有示例都假定语言环境支持逗号列分隔符）：

`={1,2,3;4,5,6}`

**嵌入式阵列中的嵌入式阵列**

由于嵌入数组中的每个元素都代表电子表格中的一个单元格，我认为可以合理地假设一个单元格应该能够用另一个嵌入数组填充，*只要它不覆盖外部嵌入数组中的其他元素*。所以 IMO 这样的事情应该（见第 3 点）是成功的：

`={{1;2;3},{4;5;6}}`

然而这样的事情不应该工作（再次IMO），因为第一个嵌入式数组的第二个和第三个元素将“覆盖”第二个嵌入式数组：

`={{1,2,3},{4,5,6}}`

**嵌入数组中的第一个嵌入数组存在一个错误**

正如 +Jason 所指出的那样，`={{1;2;3},{4;5;6},{7;8;9}}`第一个嵌入式数组仅填充一个元素（但每隔一列都正确填充）是行不通的。有趣的是，一个元素会自动转换为文本字符串。这是（不幸的是）谷歌表格中的一个长期存在的错误。当您尝试在数组上调用 SPLIT() 函数时也会发生同样的事情（数组中的每个元素都被成功拆分，除了第一个元素）。

**无论如何，我认为嵌入式数组中的嵌入式数组不会帮助您解决更广泛的问题**

无论如何，嵌入式数组实际上不能用于将一个数组附加到另​​一个数组的末尾（由于“覆盖”效果），并且没有可以直接执行此操作的本机函数。您可以通过脚本库获得的 VMERGE 功能（归功于 +ahab）将开箱即用：

`=VMERGE(ImportRange(...);ImportRange(...);...)`

或者您可以使用本机函数进行一些字符串操作来实现这一点。例如，对于一维数组：

`=ArrayFormula(TRANSPOSE(SPLIT(CONCATENATE(ImportRange("key1";"A1:A10")&CHAR(9);ImportRange("key2";"A1:A10")&CHAR(9));CHAR(9))))`

但是除了笨重且可读性差之外，这种类型的公式对于大型数据集的性能而言可能非常昂贵（我倾向于优先推荐 VMERGE 自定义函数选项）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-04T12:39:50.783

可以很容易地在 Google 电子表格中进行联合。例如：

```
={'Sheet1'!A2:A;'Sheet2'!A2:A;'Sheet3'!A2:A} 
```

在 Google 文档帮助中查看更多信息：[在 Google 表格中使用数组](https://support.google.com/docs/answer/6208276?hl=en)

# vb.net - 如何将聚合 sql 查询的结果设置为标签标题

> ID：15985643
> 
> 赞同：1
> 
> 时间：2013-04-13T08:02:06.827
> 
> 标签：vb.net, ms-access-2007

我正在使用此代码来检索机器数量（计数）...

```
 Dim strCntSr As String = "SELECT count(sr_no) FROM Vendor_Machine WHERE chaln_no='" & cmbChal_no.Text & "'"
    comm_getCnt = New OleDb.OleDbCommand(strCntSr, cnnOLEDB)
    comm_getCnt.ExecuteNonQuery()

    ***Here I want to set result of the above query [count(sr_no)] as text of lblMachine***

    lblMachine.Text = 
```

请给我建议代码..谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:04:43.183

[ExecuteNonQuery](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbcommand.executenonquery.aspx)仅返回受影响的行数，而不是查询返回的值。
在您的情况下，正确使用的方法是[ExecuteScalar](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbcommand.executescalar.aspx)，它返回查询获得的第一行的第一列。

另请注意，使用字符串连接构建查询文本是一种非常糟糕的做法。
问题是[Sql 注入](https://stackoverflow.com/questions/332365/how-does-the-sql-injection-from-the-bobby-tables-xkcd-comic-work)和正确解析您提供的文本。

```
Dim strCntSr As String = "SELECT count(sr_no) FROM Vendor_Machine WHERE chaln_no=?"
comm_getCnt = New OleDb.OleDbCommand(strCntSr, cnnOLEDB)
comm_getCnt.Parameters.AddWithValue("@p1", cmbChal_no.Text)
Dim result = comm_getCnt.ExecuteScalar()
lblMachine.Text = Convert.ToInt32(result); 
```

# matlab - 如何找到在 Matlab 中完成某些结构的命令？

> ID：15985647
> 
> 赞同：2
> 
> 时间：2013-04-13T08:02:49.677
> 
> 标签：matlab

假设`a`定义为下面的结构。我试图找到与 R 的 dput 等效的命令，但[在这里](https://stackoverflow.com/questions/8377575/is-there-an-equivalent-of-rs-dput-for-matlab)出错。例如，我知道下面的内容必须是这种形式`struct('const',1,'terms',{{struct(),struct()}})`，但我不知道结构中存储了什么，而无需使用类似[here](https://stackoverflow.com/questions/15685498/beautifying-the-output-of-matlab-aka-human-readable-form-for-output)的命令进行检查，这很耗时。

**那么通过哪个命令我可以看到在 Matlab 中生成结构的原始命令？**

```
>> a

a =

    const: 1
    terms: {[1x1 struct]  [1x1 struct]} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T09:53:05.930

**评论**

> *您是否可以从使用结构切换到类？如果是这样，您可以制作一个模仿该结构的结构，并且每次对其进行修改时调用 stack = dbstack 以获取堆栈-然后将堆栈与更改一起存储。然后可以稍后从堆栈中的行号中自动检索进行更改的命令。*

作为评论中对此的后续请求，这是一个提供结构功能并记录其分配的类的示例：

```
classdef utstruct
    properties (SetAccess = private)
        modifications
    end

    properties (Dependent, SetAccess = private)
        myStruct
    end

    properties (Access = private)
        m_struct
    end

    methods
        function self = utstruct(varargin)
            if nargin > 0
                self.m_struct = builtin('struct', varargin{:});
            else
                self.m_struct = builtin('struct');
            end
            % Should update self.modifications here
        end

        function B = subsref(self, s)
            if any(strcmp(s(1).subs, properties(self)))
                B = builtin('subsref', self, s);
            else
                B = subsref(self.m_struct, s);
            end
        end

        function A = subsasgn(self, s, b)
            self.m_struct = subsasgn(self.m_struct, s, b);

            newMod = builtin('struct');
            newMod.type = 'subsasgn';
            newMod.modData = {s b};
            newMod.stack = dbstack;
            self.modifications = [self.modifications; newMod];

            A = self;
        end

        function disp(self)
            disp(self.m_struct);
        end

        function names = fieldnames(self, varargin)
            names = fieldnames(self.m_struct, varargin{:});
        end

        function C = cat(self, dim, varargin)
            uts = cellfun(@(x)isa(x, 'utstruct'), varargin);
            varargin{uts} = cellfun(@(x)x.m_struct, varargin(uts));
            varargin = [{self.m_struct} varargin];
            self.m_struct = cat(dim, varargin{:});

            % Should update self.modifications here

            C = self;
        end

        function C = horzcat(self, varargin)
            C = self.cat(1, varargin{:});
        end

        function C = vertcat(self, varargin)
            C = self.cat(2, varargin{:});
        end

        function value = get.myStruct(self)
            value = self.m_struct;
        end
    end
end 
```

当初始化/连接操作发生时，您应该添加一些代码来更新修改数组。

`subsref`和`subsasgn`覆盖是这里使它表现得像一个结构的关键点（通过将它们的所有活动推迟到一个实际的结构），但其他覆盖喜欢和`fieldnames`做`disp`同样的事情。在`subsasgn`对结构的所有分配的记录中，连同生成分配的堆栈一起保存。

**注意：**为了与内置完全兼容，`struct`您可能应该覆盖更多的方法，但这应该足以让您入门。请参阅[子类化 MATLAB 内置类型](http://www.mathworks.co.uk/help/matlab/matlab_oop/subclassing-matlab-built-in-classes.html)。

**编辑：**我使这个例子更加健壮。它现在是一个值类 - 它应该是 - 并且与连接一起使用。

**编辑：**您可以通过重新定义函数来避免使用查找和替换来重构现有`struct(...)`调用`struct`：

```
function s = struct(varargin)
% STRUCT    Overrides default struct function to provide unit-testable structs
%
%   Set global variable unitTestStructEnabled to true to enable this
%   function.
%
global unitTestStructEnabled;

if isempty(unitTestStructEnabled)
    unitTestStructEnabled = false;
end

if unitTestStructEnabled
    s = utstruct(varargin{:});
else
    s = builtin('struct', varargin{:});
end 
```

您可能不希望它一直在您的路径上徘徊，因为当您第一次创建结构时会收到警告（您可以将其关闭，但这可能会隐藏其他问题），因此您可能应该将其放入一个通常不在路径中的文件夹，并将其临时添加到路径中以进行单元测试（`addpath`/ `rmpath`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T10:39:03.020

这是一个函数的骨架`dumpvar`，即沿着[tashuhka的想法](https://stackoverflow.com/users/2039736/tashuhka)

```
function str = dumpvar(a)
        switch class(a)
        case 'double'
                if isempty(a)
                        str = '[]';  % bug when "a" is multidimensional and empty

                elseif isscalar(a)
                        str = num2str(a);

                elseif isrow(a)
                        str = strcat('[', dumpvar(a(1)));
                        for k = 2:size(a,2)
                                str = strcat(str,',',dumpvar(a(k)));
                        end;
                        str = strcat(str, ']');

                elseif numel(size(a)) == 2
                        str = strcat('[', dumpvar(a(1,:)));
                        for k = 2:size(a,1)
                                str = strcat(str,';',dumpvar(a(k,:)));
                        end;
                        str = strcat(str, ']');

                else
                        do_what_i_mean();
                end;

        case 'struct'
                fn = fieldnames(a);
                if isempty(fn)
                        str = 'struct()';

                elseif isscalar(a)
                        str = strcat('struct(''', fn{1},''',', dumpvar(a.(fn{1})));
                        for k=2:numel(fn)
                                str = strcat(str,',''',fn{k},''',', dumpvar(a.(fn{k})));
                        end;
                        str = strcat(str, ')');

                else
                        do_what_i_mean();
                end;

        otherwise
                do_what_i_mean();
        end;

        function do_what_i_mean()
                throwAsCaller(MException(...
                        'beingLazy:onSaturday:Fault', ...
                        'Storage of class "%s" and arity %d is not implemented yet. Would you?', ...
                        class(a), numel(size(a))...
                ));
        end;
end 
```

将其保存`dumpvar.m`在 Matlab 路径中某处的文件中，然后使用以下代码片段对其进行测试：

```
a = struct(...
    'field1', 1,...
    'field2', [],...
    'field10', struct(...
        'field3', [1 2;2 3;3 4],...
        'field4', struct()...
     )...
);
disp(dumpvar(a));
eval(sprintf('b=%s;', dumpvar(a))); 
```

请注意，此函数仍处于玩具阶段：它几乎是穷尽的（缺乏对结构数组、单元格、字符、逻辑和其他基本类型的处理，更不用说用户定义的类 --- 呵呵，那些将是一个泡菜) 并且它意味着由您使用您需要的任何功能来完成。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-13T15:57:58.040

虽然它不能完全回答您的问题，但 Urs 的[vsize()](http://www.mathworks.co.uk/matlabcentral/fileexchange/12278-vsize-a-pedestrian-variable-decoder)可以帮助您：

```
% Create some complicated variable
v(1).a{1}=sparse(magic(3)+2i*magic(3));
v(2).a{2}={struct('FA',{'a','bb'},'FB',{magic(5),{}})};
v(2).b{2}=@(x) sind(x);

% Dissect        
P = vsize(v);

% -------------------------
%       1998       1998 B *   v = 2:1x2:struct.(2)
% CELL -----        360 B     v[].a = 2:1x1:cell
%       1750        248 B -   v[].a{} = 2:3x3:double.sparse.complex
% CELL -----       1014 B     v[].a = 2:1x2:cell
%       1750          0 B -   v[].a{} = 2:0x0:double
% CELL -----        894 B     v[].a{} = 2:1x1:cell
% STRUCT ---        782 B     v[].a{}{} = 2:1x2:struct.(2)
%       1748          2 B -   v[].a{}{}[].FA = 2:1x1:char
%       1744          4 B -   v[].a{}{}[].FA = 2:1x2:char
%       1544        200 B -   v[].a{}{}[].FB = 2:5x5:double
% CELL -----          0 B     v[].a{}{}[].FB = 2:0x0:cell
%       1544          0 B -   v[].b = 2:0x0:double
% CELL -----        152 B     v[].b = 2:1x2:cell
%       1544          0 B -   v[].b{} = 2:0x0:double
%       1512         32 B -   v[].b{} = 2:1x1:function_handle 
```

# magento - Magento 自定义模块创建

> ID：15985651
> 
> 赞同：0
> 
> 时间：2013-04-13T08:03:40.867
> 
> 标签：magento, magento-1.7

我想为用户构建一个自定义界面（参见 PSD），以添加社交网址并在不为空时显示图标。我在 WP 中做了类似的事情，但不知道如何在 Magento 中做。我想知道是否有人可以提供帮助或指向教程。非常感谢![在此处输入图像描述](https://i.stack.imgur.com/Gztev.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:47:20.510

你可以阅读 Alan Storm 的这个系列：

[http://alanstorm.com/category/magento](http://alanstorm.com/category/magento)

“面向 PHP MVC 开发人员的 Magento”

# mysql - 如何将表添加到sql并将其定义到现有表

> ID：15985655
> 
> 赞同：0
> 
> 时间：2013-04-13T08:03:56.527
> 
> 标签：mysql, sql

我正在与 phpbb 合作，我有这个。

添加到 phpbb_topics

```
Field: poll_show_votes
Type: TINYINT
Length/Values: 2
Attribute: UNSIGNED
Null: not null
Default: 0 
```

现在我知道如何在我的 phpmyadmin 中执行此操作，但我不知道如何将其转换为 SQL 查询。

有人可以解释一下我会怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:18:17.157

```
ALTER table phpbb_topics
ADD poll_show_votes TINYINT(2) UNSIGNED NOT NULL DEFAULT 0 
```

# c# - 无法从 C# 中的数据库中检索数据

> ID：15985657
> 
> 赞同：0
> 
> 时间：2013-04-13T08:04:13.793
> 
> 标签：c#, sql-server, ado.net

我有一个应用程序，它无法从数据库中获取此特定表单的数据，而其他表单工作正常。

我正在使用此表单从数据库中获取数据，然后将该数据显示到另一个表单的标签上。

获取数据的代码是：

```
string PName, DName, Psex, PPhoneNo, PAddress, Treatment, Teethno, PAge, Amount;

SqlDataAdapter a = new SqlDataAdapter("Select bills.BillNo,bills.PName,bills.DName,bills.PAge,bills.PSex,bills.PPhoneNo,bills.PAddress,bills.Treatment,bills.Amount,bills.Teethno,addpro.Medicines from bills,addpro where bills.BillNo=" + bno, Program.con);

DataTable t = new DataTable();
a.Fill(t);
PAge = Convert.ToString(t.Rows[3]);
Amount = Convert.ToString(t.Rows[8]);
PName = Convert.ToString(t.Rows[1]);
DName = Convert.ToString(t.Rows[2]);
Psex = Convert.ToString(t.Rows[4]);
PPhoneNo = Convert.ToString(t.Rows[5]);
PAddress = Convert.ToString(t.Rows[6]);
Treatment = Convert.ToString(t.Rows[7]);
Teethno = Convert.ToString(t.Rows[9]);

frmPrint sa=new frmPrint();
sa.start(bno, PAge, Amount, PName, DName, Psex, PPhoneNo, PAddress, Treatment,  Teethno); 
```

当我尝试加载在标签上显示此数据的下一个表单时，`DataTable`它会出现以下错误：-

> 位置 3 处没有行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:06:51.907

您正在访问每个字段的不同行。您应该访问第一行，然后访问不同的列：

```
t.Rows[0].Columns[0]
t.Rows[0].Columns[1]
t.Rows[0].Columns[2]
t.Rows[0].Columns[3]
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:09:06.067

好像你需要使用`[Columns]`

```
DataTable t = new DataTable();
a.Fill(t);
PAge = Convert.ToString(t.Rows[0]["ColumnsName"]);  
// and so on 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:09:10.810

您正在使用 Row 并且您希望使用 Column：

```
foreach(DataRow row in t.Rows)
{
        PAge = row["PAge"].ToString();
        Amount = row["Amount"].ToString();
        PName = row["PName"].ToString();
        DName = row["DName"].ToString();
        Psex = row["PSex"].ToString();
        PPhoneNo = row["PPhoneNo"].ToString();
        PAddress = row["PAddress"].ToString();
        Treatment = row["Treatment"].ToString();
        Teethno = row["Teethno"].ToString();
} 
```

不要使用数字来标识列，而是使用名称。如果查询的顺序因任何原因而改变，这不会对您的代码产生影响。如果您使用序数，那么您也需要更改您的 row[n] 代码，因为顺序会改变。

# coffeescript - 从一个任务调用另一个任务

> ID：15985659
> 
> 赞同：1
> 
> 时间：2013-04-13T08:04:22.373
> 
> 标签：coffeescript, cakefile

如何从 Cakefile 中的任务调用另一个任务？

我试过`tasks[taskName].action options`但没有工作，因为`tasks`在我的 Cakefile 范围内没有绑定：

```
 /home/omer/___/Cakefile:52
  return console.log(tasks);
                     ^
  ReferenceError: tasks is not defined
  ... 
```

有任何想法吗 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T11:15:52.280

用于`invoke`调用同一 cakefile 中的另一个任务。

# php - 如何增加PHP的最大执行时间

> ID：15985660
> 
> 赞同：-1
> 
> 时间：2013-04-13T08:04:29.547
> 
> 标签：php, windows, email, smtp, xampp

[https://code.google.com/p/php-smtp-email-validation/source/browse/trunk/smtp_validateEmail.class.php?r=2](https://code.google.com/p/php-smtp-email-validation/source/browse/trunk/smtp_validateEmail.class.php?r=2)

对于最多 10 或 15 封电子邮件，它正在工作，但对于 100 封电子邮件，它显示错误为“致命错误：C:\xampp\htdocs\a\mail\New folder\smtp_validateEmail.class.php 中超过 30 秒的最大执行时间在第 155 行"。谁能解释问题出在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:08:50.520

您需要将 php.ini execution_time 更改为更大的值。或使用

```
set_time_limit(100) 
```

在脚本开始时更改相同的值

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:11:49.067

将位于 xampp/php/ 中的 php.in 文件中的 max_execution_time 值从 30 编辑为更高的值。

```
max_execution_time = 300;  (5 Minutes) 
```

更新 ：

将电子邮件类中的变量从 30 更改为 300

```
var $max_conn_time = 300; 
```

再试一次。

# c# - 在 C# 中或通过存储过程过滤列表的逻辑

> ID：15985663
> 
> 赞同：1
> 
> 时间：2013-04-13T08:04:48.117
> 
> 标签：c#, asp.net, asp.net-mvc, recursion

假设我的表中有以下数据，其中 an`Item`的父 ID 为 0。但父级只能有三个子级别/子级。也就是说，我们需要每个 item 的 parentId = 0，并且每个 parent 最多可以有三个级别的孩子。

```
pkProductID       Name            ParentId 
-------------------------------------------
1                 Cloth              0
2                 T-Shirts           1
3                 Men-Shirts         2
4                 Women-Shirts       2
5                 Kids-Shirts        3
6                 Cosmetics          0
7                 Creams             6
8                 Men-cream          7
9                 Women-Cream        7
10                Kids-cream         9 
```

我们需要包含具有`parentID=0`然后 2 个级别的子项的列表，这意味着从上面我只需要这些项：

```
1 Cloth
2 T-Shirts
3 Men-Shirts
4 Women-Shirts
6 Cosmetics
7 Creams
8 Men-Cream
9 Women-Cream 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:40:15.613

以下代码应该可以完成工作（相应地更改`table`或`columns`命名）：

```
use [DemoDB]
GO
WITH Emp_CTE AS (
SELECT ProductId, Name, ParentID, 0 as [Level]
FROM [dbo].[Products]
WHERE ParentId = 0
UNION ALL
SELECT p.ProductId, p.Name, p.ParentID, [Level] + 1
FROM [dbo].[Products] as p
INNER JOIN Emp_CTE ecte ON ecte.ProductId = p.ParentID
WHERE [Level] < 2
),
CTE2 AS
(
    SELECT [dbo].[Products].*
    FROM Emp_CTE
        INNER JOIN [dbo].[Products] ON Emp_CTE.ProductId = [dbo].[Products].ParentID
)
SELECT * FROM CTE2

GO 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:24:29.837

您可以将递归 CTE 用于此类任务，请查看此处显示一个简单示例的链接：http: [//blog.sqlauthority.com/2008/07/28/sql-server-simple-example-of -recursive-cte/](http://blog.sqlauthority.com/2008/07/28/sql-server-simple-example-of-recursive-cte/)这里还有另一个例子[http://msdn.microsoft.com/en-us/library/ms186243%28v=sql.105%29.aspx](http://msdn.microsoft.com/en-us/library/ms186243%28v=sql.105%29.aspx)

```
CREATE TABLE #clothes(
pkProductID INT,
NAME VARCHAR(50),
ParentId INT
)

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 1, 'cloth', 0 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 2, 'tshirt', 1 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 3, 'mens tshirt', 2 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 4, 'womens tshirt', 2 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 5, 'kids tshirt', 3 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 6, 'cosme', 0 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 7, 'cream', 6 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 8, 'm cream', 7 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 9, 'w cream', 7 )

INSERT  INTO #clothes
        ( pkProductID, NAME, ParentId )
VALUES  ( 10, 'kids cream', 9 )

WITH myCTE AS (
SELECT pkProductID ,
        NAME ,
        ParentId, 0 AS ItemLevel FROM #clothes
        WHERE ParentId = 0

UNION all
SELECT c.pkProductID ,
        c.NAME ,
        c.ParentId, ItemLevel + 1 FROM #clothes c INNER JOIN myCTE mc ON mc.pkProductID = c.ParentId
)
SELECT * FROM   myCTE WHERE ItemLevel <=2 ORDER BY pkProductID 
```

# linux - 在声明期间使用变量问题增加数组元素

> ID：15985667
> 
> 赞同：0
> 
> 时间：2013-04-13T08:05:45.993
> 
> 标签：linux, bash

所以是的，通常你会使用 for 循环或类似的方法来增加一个数组，但在这种情况下，这是不可能的，因为我已经在一个循环中并且只需要在数组中设置一个值并继续前进。这是代码：

```
n=1
cat databases/$IPS | grep -v \# | while read LINE; do
  ENDPOINT[$n]="`echo $LINE | cut -d":" -f1`";
  echo "TESTING: ${ENDPOINT[$n]}"
  let n++
done 
```

因此，while 循环将从平面文件数据库中读取几行，并将第一个冒号分隔值拉出，该值需要存储在数组中。由于在这个项目上工作太久，事情变得越来越混乱。我可能不得不重新考虑这部分。

所以官方的问题是，在不使用另一个循环的情况下，如何使用变量增加元素，以便我可以在当前的 while 循环中设置数组。

- - - 更新 - - -

我知道我试图做的事情似乎有点奇怪和不正统。因此，while 循环逐行读取数据库。在 while 循环的第一次迭代期间，数据库被读取，并且数据库第一行上的第一个“单元”作为数组元素 1 存储到数组中（或者可能是 0，没关系）。然后while循环返回第二遍，并拉取数据库中第二行的第一个单元格，它需要将其存储到元素2下的数组中。循环继续执行此操作直到数据库结束。

所以我知道如何使用循环读取数组的内容，但我从未使用循环设置数组。我无法让数组中的元素编号递增，因此当 while 循环进行下一次传递时，它不仅会继续覆盖 array[1]

这有帮助吗？

- - - 更新 - - -

所以看起来这有点工作。将这个数据库值存储在这个数组中的全部意义在于，它不仅在这个 while 循环中使用（省略了不相关的代码）。但我需要在脚本的其他地方使用这些值。

cat 数据库/$IPS | grep -v # | 一边读线；做 VAR=" `echo $LINE | cut -d"|" -f1`"; ENDPOINT[$n]="$VAR" echo "这里是数组变量：${ENDPOINT[$n]}" 完成

问题仍然是它似乎并没有真正存储到数组中。它只是覆盖数组中的第一个元素。如果我尝试在脚本中的某处回显任何较低的数组值，那么唯一出现的是数组元素 0 中的值并将其设置为数据库中的最后一个条目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:36:26.453

我似乎是您正在执行一个命令，可能这是一个单独的进程，并且数组在完成时会丢失

改为这样做：

```
n=1
endpoints=`grep -v \# databases/$IPS | cut -d":" -f1`
for i in $endpoints; do
  ENDPOINT[$n]=$i;
  echo "TESTING: ${ENDPOINT[$n]}"
  let n++
done 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T09:14:44.610

没有百分百理解你的问题。我假设您无法访问 while 循环之外的数组元素。

这是因为`while`在`cat`命令上下文中执行，即作为单独的进程启动。要访问您的数组元素，您必须在相同的 bash 上下文中设置它们的值。

例如，您可以使用 sed 获取第一个冒号分隔值并处理注释：

```
file_name=data

# extract values and put it into bash array
ENDPOINT=(`sed 's/[ \t]*#.*//g;s/^\([^:]*\):.*/\1/g' $file_name`)

echo "size: ${#ENDPOINT[@]}"
echo "readed data: ${ENDPOINT[@]}" 
```

此外，这个变体比循环快得多，`while read`循环调用另一个命令。

# php - 有什么理由不在 PHP 中使用字符串插值？

> ID：15985675
> 
> 赞同：4
> 
> 时间：2013-04-13T08:06:52.053
> 
> 标签：php, string, string-interpolation

据我所见（在 GitHub 中浏览流行的 PHP 代码）有很多人不使用[字符串插值](http://php.net/manual/en/language.types.string.php)：

```
$loader->load($config['resource'].'.xml'); 
```

相对：

```
$loader->load("{$config['resource']}.xml"); 
```

不使用字符串插值是否有任何理由（即性能）？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-13T08:14:52.340

不，没有理由不在 PHP 中使用字符串插值。

*虽然 PHP 在内部*[处理字符串插值和连接](http://nikic.github.io/2012/01/09/Disproving-the-Single-Quotes-Performance-Myth.html#string_interpolation) 的方式存在微小差异，但这些差异非常小，以至于在实践中几乎无法测量，因此应该留给 PHP 处理。

 *如果或当您看到基准，在 PHP 中使用字符串时，要寻找的东西通常是迭代次数。为了获得可衡量的结果，您需要设置*`n`*一些高度夸大的值，这在现实世界中永远不会发生。

总而言之，优化在 PHP 中处理字符串的方式没有多大意义。相反，您应该关注对您的网站性能有显着影响的问题；缓存、数据库内容，尤其是[前端](http://developer.yahoo.com/performance/rules.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T08:13:10.773

> 不使用字符串插值是否有任何理由（即性能）？

**绝对不是**性能。

唯一的原因是可读性和可用性。即在给定的示例中，第二行有花括号形式的障碍，它们要么无用，要么使代码更难阅读。那为什么要使用它们呢？

然而，如果是

```
"$somevar.xml" 
```

以这种方式或以连接方式编写它只是一个品味问题

```
$somevar.".xml" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:37:24.583

大多数情况下，这只是口味问题。我不确定你是否真的观察到了这里的整体偏好，但我已经在评论中写了。

就性能而言：

> 插值越多，插值就越有效。[[参考]](http://nikic.github.io/2012/01/09/Disproving-the-Single-Quotes-Performance-Myth.html)

但*如果就*性能而言，就不好说了。这需要具体的代码，然后是该代码的具体性能测量。因为在大多数情况下，您不会注意到差异。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-13T08:18:30.367

不，不是，但有些人认为这是糟糕的代码。但我不同意这种说法。它认为代码看起来更清晰，这是我在 PHP 中非常喜欢的一件事。

目前，我无法找到基准测试，但我能记住结果。结果几乎相等（+/- 0.0001 秒乘以 100 次交互）。*

# git - 当我进行本地提交时，GitHub 用户是提交者吗？

> ID：15985681
> 
> 赞同：1
> 
> 时间：2013-04-13T08:07:16.290
> 
> 标签：git, github

这有点奇怪。我正在本地克隆 GitHub 存储库。然后我做本地提交。

用户：当我推送这些更改时，我无法让用户正确。我想要的是我的 GitHub 用户（noopman）成为提交者。相反，我得到了各种奇怪的用户。

密码：此外，当我推送到我拥有的存储库时，它不会每次都要求我输入密码。我设置了什么来存储密码，我该如何重置？

我编辑了我的 .gitconfig 并尝试了 user.name 和 user.email 的不同组合。

这是我目前尝试提交的存储库 - 请注意我 [对不同用户的所有测试提交](http://github.com/noopman/fluent-management/commits/master)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:29:36.793

看来您需要 [设置 Git](http://help.github.com/articles/set-up-git)

```
# Sets the default name for git to use when you commit
git config --global user.name "Your Name Here"

# Sets the default email for git to use when you commit
git config --global user.email "your_email@example.com" 
```

[和 SSH](http://help.github.com/articles/generating-ssh-keys)

```
# Creates a new ssh key using the provided email
ssh-keygen -t rsa -C "your_email@example.com" 
```

# javascript - 关闭完整概述

> ID：15985685
> 
> 赞同：-4
> 
> 时间：2013-04-13T08:08:01.153
> 
> 标签：javascript

只是函数调用闭包，因为下面代码中的对象也像闭包一样。

```
function makePerson(first, last) {
  return {
    first: first,
    last: last
  }
}

function personFullName(person) {
  return person.first + ' ' + person.last;
}

s = makePerson("Simon", "Willison");
personFullName(s); //output is: Willison, Simon 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:14:16.497

您没有在该代码的任何地方使用闭包。您只是返回一个具有某些属性的对象，然后使用该对象。属性值来自函数参数这一事实无关紧要。

您依赖于 JavaScript 的自动内存管理，但所有 JavaScript 代码*都*依赖于它。这并不意味着您正在使用闭包。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:11:01.097

由于您传入的值在函数范围内，是的，它们是闭包的一部分。

您正在使用该时间点的这些值创建对象。

编辑：在您的示例中，您并没有真正使用闭包。

下面是一个闭包的例子：

```
function getCalcFunction(a, b){
    return function() {
         a + b;
    };
} 
```

你会像这样使用它；

```
var func = getCalcFunction(1, 3);
alert(func());    // alerts 4 
```

# c# - XNA 4.0 && XACT 3.0 管道框架版本错误

> ID：15985687
> 
> 赞同：0
> 
> 时间：2013-04-13T08:08:13.203
> 
> 标签：c#, xna, xact

所以我正在为我大学最后一堂课制作一个小游戏。基本上我在尝试在标题屏幕中播放歌曲时遇到了一些非常糟糕的问题，然后当用户单击开始游戏时，切换到游戏播放歌曲。

前 3 个小时，我使用了提供的声音库，然后我遇到了许多其他人在游戏中大量滞后的问题。所以，我决定试一试 XACT 3，它与 XNA 4.0 一起打包。

我在 XACT 3 中从头开始制作项目，XNA 告诉我：

错误：.xap 文件是使用与此项目使用的 XNA 框架内容管道版本不兼容的 XACT 版本创建的。有关解决此不匹配的选项，请参阅文档。

现在我很想参考不存在的文档以找出他们无能为力，但是那里的任何人都可以帮助我吗？我已经快要完成了。我过去几个小时的搜索向我展示了线索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T10:04:24.050

无数小时后，这当然是一件愚蠢的事情。

当您将 XACT3 .XGS、.XSB、.XWB 文件加载到解决方案资源管理器（在我的情况下为内容）时，您还必须确保单击每个文件的属性，并确保将 Build Action 设置为 NONE。

抛出该错误是因为 XNA 不知道如何构建这些文件，并且在真正的 MS 时尚中，这些错误通常非常令人困惑，并且永远不会真正带您解决真正的问题。

此外，对于未来的访问者，请确保您还将复制到输出设置为始终。

# ios - 无法修复 iTunes 审核团队报告的崩溃/异常

> ID：15985690
> 
> 赞同：1
> 
> 时间：2013-04-13T08:08:35.120
> 
> 标签：ios, objective-c

我最近提交了对当前在应用商店中上线的应用的更新。除了将一些新内容添加到 plist 并从 revmob 切换到 admob 之外，没有任何改变。iTunes 团队向我发送了这个我已经象征性的崩溃报告。

```
Last Exception Backtrace:
0   CoreFoundation                  0x333533e2 __exceptionPreprocess + 158
1   libobjc.A.dylib                 0x3b04e95e objc_exception_throw + 26
2   UIKit                           0x354ee61c +[UIStoryboard storyboardWithName:bundle:] + 436
3   UIKit                           0x35330fae -[UIApplication _loadMainStoryboardFileNamed:bundle:] + 38
4   UIKit                           0x351ba784 -[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] + 524
5   UIKit                           0x35162d1a -[UIApplication handleEvent:withNewEvent:] + 1006
6   UIKit                           0x351627a8 -[UIApplication sendEvent:] + 68
7   UIKit                           0x351621ea _UIApplicationHandleEvent + 6194
8   GraphicsServices                0x36e7a5f2 _PurpleEventCallback + 586
9   CoreFoundation                  0x333288f2 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 10
10  CoreFoundation                  0x33328158 __CFRunLoopDoSources0 + 208
11  CoreFoundation                  0x33326f2a __CFRunLoopRun + 642
12  CoreFoundation                  0x3329a238 0x33291000 + 37432
13  CoreFoundation                  0x3329a0c4 CFRunLoopRunInMode + 100
14  UIKit                           0x351b9468 0x3515f000 + 369768
15  UIKit                           0x351b62b4 UIApplicationMain + 1116 
```

我该如何尝试解决这个似乎与初始化情节提要有关的问题？我已经尝试在模拟器和我的测试设备（iPad）上进行全新安装，但我无法重现崩溃。

# c# - 从 WinForm 中删除动态添加的控件

> ID：15985700
> 
> 赞同：2
> 
> 时间：2013-04-13T08:09:24.407
> 
> 标签：c#, .net, winforms

我有一个 GroupBox，我在其中动态添加控件。我添加的控件有两种类型`DevExpress.XtraEditors.TextEdit`，`Windows.Forms.Label` 我正在尝试使用以下方法删除这些控件

```
foreach (Control control in salesBox.Controls)
{
  control.Dispose(); 
  salesBox.Controls.Remove(control);
} 
```

这是正确删除`TextEdit`控件而不是`Label`控件。循环没有遍历`Label`控件。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T14:03:59.893

从控件集合中删除所有控件的最简单方法是调用其`Clear`方法：

```
salesBox.Controls.Clear(); 
```

* * *

修改集合可以使枚举数无效并产生不可预知的结果，甚至抛出`InvalidOperationException`，具体取决于集合类型（请参阅MSDN 上[IEnumerable.GetEnumerator 方法中的“备注”部分）。](http://msdn.microsoft.com/en-us/library/system.collections.ienumerable.getenumerator%28v=vs.90%29.aspx)由于`foreach`使用枚举器，因此您不应更改它正在迭代的集合。

如果您必须有选择地删除并向后迭代，请使用`for`语句，以免在删除项目后得到错误的索引值：

```
for (int i = salesBox.Controls.Count - 1; i >= 0; i--) {
    Control c = salesBox.Controls[i];
    if (c is TextEdit || c is Label) {
        salesBox.Controls.RemoveAt(i);
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-13T13:52:42.327

它不起作用，因为您正在修改您正在迭代的集合。调用 Dispose() 方法还会从父控件集合中删除一个控件。副作用是您只会处理偶数编号的控件。这两个循环中的任何一个都可以完成工作：

```
while (salesBox.Controls.Count > 0) salesBox.Controls[0].Dispose();

for (int ix = salesBox.Controls.Count-1; ix >= 0; ix---) salesBox.Controls[ix].Dispose(); 
```

或者将它们放在面板上并丢弃面板。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-13T08:15:50.880

您不能在 Foreach 中更改集合的内容。我相信你需要做这样的事情。

```
List<Control> toRemove = salesBox.Controls.OfType<Control>().ToList();

foreach(Control c in toRemove)
{
 salesBox.Controls.Remove(c);
 c.Dispose();
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T08:24:00.577

`Foreach`无法迭代，因为长度`salesbox.Controls`改变了。如果您添加或删除您最好使用的项目`for` 您可以通过

```
 for(int i=0;i<salesBox.Controls.Count;i++)
    {      if(salesBox.Controls[i] is DevExpress.XtraEditors.TextEdit) //your condition here
           { 
             salesBox.Controls.Remove(salesBox.Controls[i]);
             i--;
          }
    } 
```

# ruby - Windows 7 pc 中的 Ruby on Rails 安装程序问题

> ID：15985709
> 
> 赞同：0
> 
> 时间：2013-04-13T08:10:59.250
> 
> 标签：ruby, ruby-on-rails-3.2, ruby-2.0

我刚刚安装在我的 windows 机器窗体[`railsinstaller.org`](http://railsinstaller.org/)中。

现在早些时候我已经安装在我的机器上`Ruby2.0`。因此，当我尝试从[此处提到](http://railsinstaller.org/windows)的命令提示符运行以下命令时：

```
rails s 
```

得到错误：

```
C:/Ruby200/lib/ruby/2.0.0/rubygems/dependency.rb:296:in `to_specs': Could not f
nd 'railties' (>= 0) among 8 total gem(s) (Gem::LoadError)
        from C:/Ruby200/lib/ruby/2.0.0/rubygems/dependency.rb:307:in `to_spec'
        from C:/Ruby200/lib/ruby/2.0.0/rubygems/core_ext/kernel_gem.rb:47:in `g
m'
        from C:/RailsInstaller/Ruby1.9.3/bin/rails:22:in `<main>' 
```

现在，如果我卸载了这些`Ruby2.0`东西。但我也想在我的电脑上使用最新版本的 Ruby，这样我就可以像以前一样运行我的练习 ruby​​ 程序。- 请指导我，这样我就可以运行我的 Rails 并且只能从我的`Sublime Text 2`编辑器中运行 ruby​​ 程序而不会受到影响。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T12:04:05.910

尝试使用来自该站点的安装程序：[http](http://rubyinstaller.org/) : //rubyinstaller.org/ 安装后，打开命令提示符并键入以下命令来安装 ruby​​：

```
gem install rails 
```

那应该安装rails及其依赖项。从那里你可以像往常一样运行 rails 命令并创建项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T16:24:03.493

也许你应该看看[https://github.com/vertiginous/pik/](https://github.com/vertiginous/pik/)来管理不同的 ruby​​ 版本。我认为，您遇到的主要问题很简单，两个 rails 版本（railsinstaller 和 2.0 中使用的 1.9.3）的 PATH 设置都存在干扰。

# file - 在写入 Netlogo 之前清除文件数据

> ID：15985713
> 
> 赞同：1
> 
> 时间：2013-04-13T08:11:12.873
> 
> 标签：file, file-io, append, netlogo

我正在尝试在文件中输出一些数据，并且可以轻松地将数据输出到文件中。但是当我在文件中第二次输出数据时，它会附加上以前的数据。我想要做的是清除以前的数据并只插入新数据而不用旧数据附加新数据。下面是我的代码：

```
 file-open "savedgame.txt"

       foreach sort turtles [
    ask ? [
      file-print (turtlenumbers) // ; This appends the "turtlenumbers" with old data in
                                 //  ;  file (if any). I want to clear file before 
                                 //  ;writing "turtlenumbers" in the file

       file-print ""

    ]
  ] 
   file-close 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T14:10:16.633

根据[`file-open`NetLogo 词典中的文档](http://ccl.northwestern.edu/netlogo/docs/dictionary.html#file-open)：

> 以写入模式打开文件时，所有新数据都将附加到原始文件的末尾。如果没有原始文件，则会在其位置创建一个新的空白文件。（您必须在文件目录中具有写权限。）**（如果您不想追加，但想替换文件的现有内容，`file-delete`请先使用删除它，`carefully`如果您不确定它是否已经存在，可能在 a 中.)**

换句话说，将其添加为您的第一行：

```
carefully [ file-delete "savedgame.txt" ] [ ] 
```

# javascript - 如何在 Javascript 中获取此值？

> ID：15985714
> 
> 赞同：-2
> 
> 时间：2013-04-13T08:11:15.423
> 
> 标签：javascript, html

这是 HTML 代码：

```
<div id="CurrencyQuotePane">
    <div class="CurrencyQuote">
        <div class="column">
            <div class="form-label">Pair: </div><div>1/2</div>
            <div class="form-label padding-top">Spread: </div><div>385</div>
        </div>
        <div class="column">
            <div class="form-label">Rate: </div><div>1/2</div>
            <div class="form-label padding-top">High/Low: </div><div>2002.0/0.0055</div>
        </div>
    </div>
    <div class="clear"></div>
</div> 
```

如果它不断变化，我如何在 Javascript 中获得 385？

这是我当前的 javascript：

```
function getSpread(){
    var tag = iframe.contentDocument.getElementByClassName('SPREAD');
    var spread = Number(tag[1].innerHTML);
    return spread;
} 
```

对不起，如果我对javascript一无所知，我是一个完整的新手。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T08:13:26.280

将其更改为：

```
<div class="column">
    <div class="form-label">Pair: </div><div>TEXT</div>
    <div class="form-label padding-top">SPREAD</div><div id="spreadval">385</div>
</div>

function getSpread(){
    var tag = iframe.contentDocument.getElementById('spreadval');
    return parseInt(tag.innerHTML);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:17:04.590

将 id 设置为您的 div

```
<div class="column">
  <div class="form-label">Pair: </div><div>TEXT</div>
  <div class="form-label padding-top">SPREAD</div><div id="changing_number">385</div>
</div> 
```

用 jquery 获取

```
$(function(){
   var theNumber = parseInt($('#changing_number').text());
}); 
```

或使用 DOM：

```
$(function(){
   var theNumber = parseInt(document.getElementById('changing_number').innerHTML);

}); 
```

在这里可以学习js：[http ://www.w3schools.com/jsref/met_doc_getelementbyid.asp](http://www.w3schools.com/jsref/met_doc_getelementbyid.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:18:18.733

```
var column = document.getElementsByClassName('column');
var divs = column[0].getElementsByTagName('div');
alert(divs[1].innerHTML); 
```

# list - groovy 子列表删除

> ID：15985725
> 
> 赞同：1
> 
> 时间：2013-04-13T08:12:08.003
> 
> 标签：list, groovy

我有一个清单：

```
def clc = [[1, 15, 30, 42, 48, 100], [58, 99], [16, 61, 85, 96, 98], [2, 63, 84, 90, 91, 97], [16, 61, 85, 96], [23, 54, 65, 95], [16, 29, 83, 94], [0, 31, 42, 93], [33, 40, 51, 56, 61, 62, 64, 89, 92], [0, 63, 84, 90, 91]] 
```

和一个子列表

```
def subclc = [[1, 15, 30, 42, 48, 100], [58, 99], [16, 61, 85, 96, 98], [2, 63, 84, 90, 91, 97]] 
```

我需要从原始列表中删除子列表我这样做：

```
subclc.each{
   clc.remove(it)
} 
```

但它会抛出异常`Exception in thread "main" java.util.ConcurrentModificationException`

我不明白问题出在哪里以及如何解决问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T14:29:31.610

**简短的答案：**

为了获得更多的常规和不变性，保留原始列表：

```
def removed = clc - subclc

assert removed == [[16, 61, 85, 96], [23, 54, 65, 95], [16, 29, 83, 94], [0, 31, 42, 93], [33, 40, 51, 56, 61, 62, 64, 89, 92], [0, 63, 84, 90, 91]] 
```

和java方式，改变原来的列表：

```
clc.removeAll subclc

assert clc == [[16, 61, 85, 96], [23, 54, 65, 95], [16, 29, 83, 94], [0, 31, 42, 93], [33, 40, 51, 56, 61, 62, 64, 89, 92], [0, 63, 84, 90, 91]] 
```

* * *

**长答案：**

您`Iterator`在更改列表时正在浏览列表。在这种情况下，您最好使用`Iterator.remove()`foreach 循环抽象出来的 . 当您使用 foreach 循环更改列表时，您会遇到迭代器使用[`checkForComodification()`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.Itr.checkForComodification%28%29). 让迭代器显式工作：

```
list1 = [10,20,30,40,50,60,70,80,90]
list2 = [50,60,80]

def iter = list1.iterator()
while (iter.hasNext()) {
    def item = iter.next()
    if (list2.contains(item)) iter.remove()
}
assert list1 == [10,20,30,40,70,90] 
```

或者您可以使用索引。请注意，您需要控制索引：

```
list1 = [10,20,30,40,50,60,70,80,90]
list2 = [50,60,80]

for (int i = 0; i < list1.size(); i++) {
    def item = list1[i]
    if (list2.contains(item)) { list1.remove i-- }
}
assert list1 == [10,20,30,40,70,90] 
```

# bash - 在 shell 脚本中通过 s_client 关闭连接

> ID：15985726
> 
> 赞同：4
> 
> 时间：2013-04-13T08:12:15.970
> 
> 标签：bash, openssl

我正在尝试在 shell 脚本中建立与 IMAP 服务器的连接。虽然我可以连接并发出命令，但适当地关闭连接似乎是不可能的。

这是我正在使用的测试命令：

```
openssl s_client -crlf -connect server:993 <<EOF
01 login USERNAME PASSWORD
02 LIST "" "*"
03 logout
EOF 
```

因为一旦输入用完连接就会关闭，这发生在接收到任何输出之前，所以我永远不会收到所需的数据。

如果我添加选项`-ign_eof`选项，以便它将忽略输入结束以保持连接打开，则根据需要返回输出。但是在连接关闭之后......

```
* BYE Logging out
03 OK Logout completed. 
```

...s_client 保持活动状态，因此执行永远不会返回到脚本。

是否有解决方案会导致 s_client 在服务器关闭连接时终止？

或者是否有使用标准工具的替代方法？该脚本将在 Mac OS X、Debian 和 Redhat 衍生版本以及可能的 Android 终端仿真器上运行，因此我想使用相当标准的工具来实现可移植性，而不是使用专门的软件包。

更新：我想出了一个我并不完全满意的答案，但它确实有效。它使用一个脚本将命令传送到 openssl，但随后进入一个无限循环以保持标准输入打开，直到它接收到一个告诉它退出的信号。这是我的测试脚本：

```
#!/bin/sh

if [ "$1" = "doit" ]; then
   trap "echo \"04 logout\"; exit" SIGUSR1
   echo "00 login USERNAME PASSWORD"
   echo "01 SELECT PID-$$"
   echo "02 SELECT FOLDER"
   echo "03 FETCH 1:* (BODY[HEADER.FIELDS (Subject)])"
   while :; do :; done
fi

MYFLAG=
$0 doit | openssl s_client -crlf -connect server:993 2>/dev/null | while read LINE; do
   LINE=`echo "$LINE" | tr -d '\r'`
   [ "${LINE:0:4}" = "* OK" ] && MYFLAG=Y 
   [ "${LINE:0:33}" = "01 NO Mailbox doesn't exist: PID-" ] && PID="${LINE##*PID-}"
   [ "$MYFLAG" ] && echo "$LINE"
   [ "$PID" -a "$LINE" = "03 OK Fetch completed." ] && kill -USR1 $PID
done
echo "Finished." 
```

该脚本使用参数调用自身以输出通过管道传输到 openssl 的 IMAP 命令，openssl 的输出通过管道传输到`read`循环中，以便对其进行处理。MYFLAG 变量只是用来隐藏 openssl 输出的信息，只是回显服务器连接的输出。

我选择了一个虚拟文件夹名称，其中包含脚本的第二个实例的 PID 作为将其传递回来的一种方式，显然临时文件会更好，但对于测试，我想保持一切自包含并能够观看什么正在发生。

一旦显示获取信息并且服务器返回 OK 响应，它会向脚本的第二个实例发送一个 SIGUSR1 信号，然后发送注销消息并退出，关闭 stdin 导致 s_client 断开连接。

最初我将`04 logout`命令包含在初始的一组回显中，但是当我这样做时，读取循环只显示到 fetch 输出然后停止，它甚至没有显示操作的 OK 状态，尽管所有内容都已收到。

此外，我需要使用`tr`去除尾随回车符，但如果我通过管道输出 openssl 的输出，则读取循环不会收到任何内容。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-24T16:00:14.173

您可以通过将输入定时到 openssl 来解决这个问题。我能想到的最简单的方法是使用一个将输入回显到标准输出的函数：

```
#!/bin/sh

imapscript () {
echo '01 login USER PASSWD'
echo '02 LIST "" "*"'
echo '03 logout'
while sleep 1; do
  echo "04 logout"
done
}

imapscript | openssl s_client -crlf -connect server:993 
```

# jquery - JSP 页面刷新

> ID：15985727
> 
> 赞同：0
> 
> 时间：2013-04-13T08:12:19.830
> 
> 标签：jquery, html, portlet

我们有一个门户页面，我们在其中实现了分页，除了跟踪目的之外，我们还保留了两个名为`"performaction"`和的隐藏变量`"sortParameter"`。最初这些隐藏参数的值`""`是

```
$("#my-data-table_next").on('click',function(){
$("#performaction").val("next");
$("#manageProductList").submit();

});

$("#my-data-table_previous").on('click',function(){
$("#performaction").val("prev");
$("#manageProductList").submit();

});

function submitForm(parameter){
$("#performaction").val("sort");    
$("#sortParameter").val(parameter);
$("#manageProductList").submit();
 } 
```

现在，当我们在页面上按下 f5 时，它实际上是重新提交页面，其参数值采用先前分配的参数值表现行为的价值再次成为“下一个”。

这不是我们想要的，所以当我们按下 f5 时有什么方法可以避免重新提交页面。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:18:39.950

```
document.onkeydown=function(e) {
    e=e||window.event;
    if (e.keyCode === 116 ) {
      e.keyCode = 0;
      alert("This action is not allowed");
      if(e.preventDefault)e.preventDefault();
      else e.returnValue = false;
      return false;
    }
  } 
```

# jquery - prettyPhoto 可以在 Wordpress 帖子上工作，但不能在页面上工作

> ID：15985729
> 
> 赞同：0
> 
> 时间：2013-04-13T08:12:53.120
> 
> 标签：jquery, wordpress, prettyphoto

链接（已删除）应该使用 prettyPhoto 而不是标准的 href 链接打开。

我将确切的代码复制并粘贴到 wordpress 帖子中，它的 prettyPhoto 可以工作。

jquery 和 prettyPhoto 脚本以及 css 和 prettyPhoto javascript 都包含在其中。不知道发生了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-15T05:43:08.097

在您的 wordress 网站中，有关于 superfish() javascript 函数的问题

请在上面找到

jQuery(文档).ready(函数()

$test = jQuery.noConflict(); 有问题

现在将 jQuery 替换为 $test

请用冲突的jQuery解决这个问题。

# jquery - jQuery div 展开/折叠

> ID：15985730
> 
> 赞同：2
> 
> 时间：2013-04-13T08:12:58.290
> 
> 标签：jquery, jquery-ui

看看以下示例：

[http://jsfiddle.net/EWJGJ/13/](http://jsfiddle.net/EWJGJ/13/)

我想以这样的方式自定义此示例：

1.  Give div 的展开应该发生在单击而不是鼠标悬停时。目前它处于鼠标悬停状态。

2.  单击的 div 应该在所有 div 上展开。也就是说，在上面的链接中，有 9 个 div。如果我单击任何 div，它应该会扩展所有 div。

3.  行为应该是切换的。如果我再次单击展开的 div，它应该缩小到其原始位置并使其他 div 可见。

任何示例代码或链接都会非常有帮助。我基本上是在尝试创建具有这种行为的基于 Windows 8 样式磁贴的界面。

代码

HTML：

```
<table cellpadding="0" cellspacing="0" border="0" class="tabellainizio" align="center">
  <tr>
    <td><table cellpadding="0" cellspacing="1" border="0">
      <tr>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
      </tr>
      <tr>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
      </tr>
      <tr>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
        <td class="bordini">
        <div class="principale">
            <div class="contenitore">
                <div class="immagine">[immagine]</div>
                <div class="content">"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."</div>
            </div>
        </div>
        </td>
      </tr>
    </table></td>
  </tr>
</table> 
```

Javascript：

```
 $(window).load(function(){
$('.contenitore').hover(function() {
    $(this).animate({
        width: 300,
        height: 400,
        top: -80,
        left: -45
    }, 'fast');
    $(this).animate().css('box-shadow', '0 0 5px #000');
    $(this).css({
        zIndex: 100 
    });
}, function() {
    $(this).animate().css('box-shadow', 'none')
    $(this).animate({
        width: 210,
        height: 240,
        top: 0,
        left: 0
    }, 'fast');
    $(this).css({
        zIndex: 1
    });
});
}); 
```

CSS：

```
.tabellainizio {
    margin-top:100px;
}
.bordini {
    border: 1px #DDD solid;
}
.principale {
    height: 240px;
    width: 210px;
    position: relative;
}
.principale .contenitore {
    background-color: #fff;
    height: 240px;
    width: 210px;
    position: absolute;
    display: block;
    top: 0;
    left: 0;
}
.immagine {
    border: 1px solid maroon;
    margin: 15px auto;
    height: 168px;
    width: 168px;
    position:relative;
}
.content {
    display: none;
    margin: 15px;
}
.contenitore:hover {

}
.contenitore:hover .content {
    display: block;
}
.contenitore:hover .immagine {
    position:relative;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:46:52.963

替换`hover`为`toggle`，获取被点击元素父级的索引`td`-> 为列号和`tr`-> 为行号，将点击的元素移动到左上角：

```
$(window).load(function () {
    $('.contenitore').toggle(function () {

        $(this).css({
            'box-shadow': '0 0 5px #000',
            zIndex: 100
        }).animate({
            width: 212 * 3,
            height: 242 * 3,
            top: 0 - ($(this).parents('tr').index() * 242),
            left: 0 - ($(this).parents('td').index() * 212)
        }, 'fast');
    }, function () {

        $(this).animate({
            width: 210,
            height: 240,
            top: 0,
            left: 0
        }, 'fast', function () {
            $(this).css({
                zIndex: 1,
                'box-shadow': 'none'
            });
        });
    });
}); 
```

[jsfiddle](http://jsfiddle.net/arcm111/mfTDb/)

# java - 如何刷新tileGrid的记录？

> ID：15985731
> 
> 赞同：1
> 
> 时间：2013-04-13T08:13:06.670
> 
> 标签：java, smartgwt

我在我的应用程序中使用 smartGwt，并且我有一个 tileGrid 有超过 40 条记录。如何刷新记录（平铺）的内容而不是重新加载整个 tileGrid？

# c# - AcceptsReturn 在 Silverlight RichTexBox 上不起作用

> ID：15985736
> 
> 赞同：0
> 
> 时间：2013-04-13T08:13:52.390
> 
> 标签：c#, silverlight, richtextbox

我在**Silverlight 5 中使用****RichTextBox**。控件失去了对 Enter 的关注！我尝试更改**AcceptsReturn**但光标没有转到新行。

# google-apps-script - 如何通过脚本处理文件柜中的文件夹？

> ID：15985744
> 
> 赞同：0
> 
> 时间：2013-04-13T08:14:40.950
> 
> 标签：google-apps-script, attachment, directory, google-sites

我正在通过脚本与 Google 站点文件柜进行交互。向给定页面添加一些新附件没有问题。

但我想通过脚本处理文件柜中的文件夹。可能吗？如果是，如何？我找不到有关此主题的文档。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T12:38:19.037

要使用 Google Apps 脚本操作 Google Drive 中的文件和文件夹，请参阅[DocsList Services](https://developers.google.com/apps-script/reference/docs-list/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T03:25:20.057

@Johan 看一下[*页面类*](https://developers.google.com/apps-script/reference/sites/page)，其中有一个[`createFileCabinetPage(title, name, html)`](https://developers.google.com/apps-script/reference/sites/page#createFileCabinetPage%28String,String,String%29)您可能正在寻找的方法，还有一些示例。

# symfony - Symfony2 异常事件监听器运行一些控制器动作

> ID：15985746
> 
> 赞同：1
> 
> 时间：2013-04-13T08:15:02.530
> 
> 标签：symfony

我需要做两件事中的一件（按优先顺序，但只需要其中一件）。

所有这些都将在作为异常事件侦听器 ( [http://api.symfony.com/2.2/Symfony/Component/HttpKernel/Event/GetResponseForExceptionEvent.html](http://api.symfony.com/2.2/Symfony/Component/HttpKernel/Event/GetResponseForExceptionEvent.html) ) 运行的函数中完成。

下面的两个在普通控制器中都很容易，但我在事件监听器函数中看不到它。

(1) 正常运行控制器并正常输出，就好像该路由已执行一样：

```
e.g. $event->runController('controllerName'); 
```

(2) 使用与普通控制器中相同的语法来正常渲染模板：

```
return $this->render('Bundle:Default:feedback.html.twig', array([template vars])); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-10T19:19:55.360

看看 symfony 中的默认异常监听器`Symfony\Component\HttpKernel\EventListener\ExceptionListener`。

# (1) 运行一个控制器可以这样实现：

```
 $request = new \Symfony\Component\HttpFoundation\Request();
    $request->setMethod('GET');
    [..]

    try {
        $response = $event->getKernel()->handle($request, HttpKernelInterface::SUB_REQUEST, true);
    } catch (\Exception $e) {
        return; // pass it to next exception listener this way 
    }

    $event->setResponse($response); 
```

# (2) 在异常监听器中渲染模板

您需要做的就是将模板（引擎）传递给 service.yml 中的侦听器

```
 services:
      foobar.exception_listener_service:
        class: %foobar.exception_listener_service.class%
        arguments:
          container: "@service_container"
        tags:
          - { name: kernel.event_listener, event: kernel.exception, method: onKernelException, priority: 255 } 
```

在侦听器中，您可以呈现如下所列的模板

```
 $templating = $this->container->get('templating');
    $response = new Response($templating->render('foobar:Exception:error404.html.twig', array('exception' => $exception)));
    $event->setResponse($response); 
```

# jenkins - Jenkins ScriptTrigger 插件默认停止工作

> ID：15985747
> 
> 赞同：0
> 
> 时间：2013-04-13T08:15:17.903
> 
> 标签：jenkins

我的 Jenkins 和[ScriptTrigger](https://wiki.jenkins-ci.org/display/JENKINS/ScriptTrigger+Plugin)插件有一个奇怪的行为。

我有 Jenkins 1.510 和这个插件的最新版本。我有一个简单的 shell 脚本的触发器设置：

```
#!/bin/bash
echo test
exit 0 
```

如果退出代码为 0，则触发器设置为开始构建。

在我重新启动 Jenkins（或只是重新加载配置）后，触发日志显示：

```
...
The expected script execution code is 0
[ERROR] - SEVERE - Polling error null 
```

我查看的任何其他日志中都没有错误。

不，难题来了-如果我手动触发作业，它将使该作业的插件仅开始正常工作，直到下一次重新启动...

有人见过这个吗？有人有想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T13:47:12.943

发现该问题与对 xtrigger lib 版本的依赖有关。我下载了源代码，将 xtrigger.lib.version 更新为 0.19，并在本地构建了插件（并将其安装在我的 Jenkins 上）。这解决了问题。

感谢**Gregory Boissinot**（插件的作者）的帮助，他帮助我找到了这个。他将很快发布这个插件的正式版本。

注意 - 当前版本是 0.22。

我希望这有帮助。

# java - 生产者-消费者（许多）。消费者获取并放入共享队列

> ID：15985758
> 
> 赞同：0
> 
> 时间：2013-04-13T08:16:29.730
> 
> 标签：java, multithreading, producer-consumer, blockingqueue

我做了一个生产者-消费者计划。它只是核心 java 中的一个程序，没有任何 GUI（Swing 或 SWT）。它有一个将对象放入队列的生产者。还有一些消费者必须将一些人员（例如字符串）添加到该共享队列中的每个对象中。因此，每个消费者都必须处理共享队列中的每个对象。在这种情况下 - 每个 BookShelf 都必须在“books”ArrayList 中包含来自所有消费者的项目。消费者。

**问题：**我应该在消费者中使用什么条件来正确完成他们的线程？以下是程序的代码片段。也许我以错误的方式实施它。

这是队列的对象：

```
public class BookShelf {
private int id;
private String name;
private int height;
private int weigh;
List<String> books = Collections.synchronizedList(new ArrayList<String>());

public BookShelf(int id, String name) {
    this.id = id;
    this.name = name;
}
public void addBook(String book) {
  books.add(book);
}
public boolean eq(String book) {
synchronized (books) {
    for (String b: books) {
    if (b.equalsIgnoreCase(book)) {
        return true;
    }
    }
}
return false;
}
 other setters and getters.. 
```

}

这是生产者类：

```
public class Producer implements Runnable {
private BlockingQueue myQueue;

public Producer(BlockingQueue myQueue) {
this.myQueue = myQueue;
}

public void run() {
for(int i=0; i<7; i++){
    try {
    System.out.println("Produced: " + i);
    BookShelf myBookShelf = new BookShelf(i, "book #" + i);
    myQueue.put(myBookShelf);
    } catch (InterruptedException ex) {
    //Proper handle
    }
}
} 
```

}

这是消费者类之一：

```
 public class Consumer implements Runnable {
 private BlockingQueue myQueue;

public Consumer(BlockingQueue myQueue) {
    this.myQueue = myQueue; }

public void run() {
    while(true){
        try {
            BookShelf tempBookShelf = (BookShelf) myQueue.take();

            //eq() is my method to check if ArraList has a book.
            if (tempBookShelf.eq("Abc book")) {
                System.out.println("It already has book");
                myQueue.put(tempBookShelf);
                Thread.sleep(2000);
            } else {
                tempBookShelf.addBook("Abc book");
                myQueue.put(tempBookShelf);
                Thread.sleep(2000);
            }
        } catch (InterruptedException ex) {
            //Proper handle
        }
    }
}
} 
```

这是主要课程：

```
public class ProducerConsumerTest {

public static void main(String[] args) {

     BlockingQueue sharedQueue = new LinkedBlockingQueue();
     Thread prodThread = new Thread(new Producer(sharedQueue));
     Thread consThread = new Thread(new Consumer(sharedQueue));
     Thread consThread2 = new Thread(new Consumer2(sharedQueue));

     prodThread.start();
     consThread.start();
     consThread2.start();
}
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:57:27.567

向生产者注册每个消费者。每个消费者都有自己的队列，生产者将对象放入所有队列。然后每个消费者在对象的同一实例上进行处理。

```
 public interface Consumer{
        public void process(BookShelf bs);
    }

    public class Producer implements Runnable{
        private final List<Consumer> consumers = new CopyOnWriteArrayList<Consumer>(); // thread safe but not efficient with lots of changes

        public void register(Consumer c){
            consumers.add(c); // thread safe
        }

        public void run(){
            for(;;){
                BookShelf bs = generateBookShelfByWhateverMeans();
                for (Consumer c : consumers){
                    c.process(bs);
                }
            }
        }
    }

    public class BookShelfConsumer implements Runnable, Consumer{
        private final BlockingQueue<BookShelf> queue = new LinkedTransferQueue<BookShelf>(); // unbounded & thread safe

        public void process(BookShelf bs){
            queue.offer(bs); // non-blocking
        }

        public void run(){
            for(;;){
                BookShelf bs = queue.take(); // blocks until got object or interrupted 
                // catch InterruptedException 
                // do whatever this consumer is supposed to do with the object
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T13:49:15.813

我建议在 Bookshelf 中使用[ConcurrentLinkedQueue](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html)而不是同步列表 - 它是无锁的（不需要同步）并且可能会更有效。

To end your consumers, change their `while(true)` loops to `while(!cancel)` loops. Give each consumer a `cancel` boolean as an instance variable that initializes to false, and give them a `cancel()` method that sets `cancel` to true. Call `cancel()` on your consumers when you're done with them. If you will always be canceling all of your consumers at once (instead of selectively canceling some but not others), then you can use a static `cancel` instead of an instance `cancel`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T09:35:40.010

> 还有一些（N 个）消费者必须将一些人员（例如字符串）添加到该共享队列中的每个对象中

我假设您的意思是每个消费者都必须将他们的东西添加到每个进入队列的对象中。在那种情况下，这**不是**生产者-消费者问题，这更像是一个观察者可观察的问题。基本上，当一个新`BookShelf`的被创建时，这就是[Observable](http://docs.oracle.com/javase/7/docs/api/java/util/Observable.html)。所有的[观察者](http://docs.oracle.com/javase/7/docs/api/java/util/Observer.html)都应该被告知`BookShelf`并有机会添加他们自己的`Book`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T08:24:08.057

我会尝试改用[SwingWorker](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingWorker.html)。它有一个`done()`在完成时执行的方法。有关一些代码示例，请参阅[此](http://albertattard.blogspot.se/2008/09/practical-example-of-swing-worker.html)页面。

如果你使用的不是 Swing，Swt 中有一个类似的功能叫做 Jobs。检查[此](http://www.vogella.com/articles/EclipseJobs/article.html)页面以获取示例。它还有一个在作业完成时执行的 done() 方法。

# android - 从另一个类更改 getSupportActionBar().setTitle 值

> ID：15985759
> 
> 赞同：0
> 
> 时间：2013-04-13T08:16:33.760
> 
> 标签：android, actionbarsherlock

我有一个类可以获取 actionbarsherlock oncreate 并设置默认值。如何从另一个类更改此值？

不起作用的示例代码：

```
public class MyActivity extends SlidingFragmentActivity {
 public static String abs;

@Override
    protected void onCreate(final Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);        
       setContentView(R.layout.activity_main);

       abs = "text";
       getSupportActionBar().setTitle(abs);
}
} 
```

外部类：

```
MyActivity.abs = "new value"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:45:22.857

这绝对不是设置标题的推荐方法，但是，如果您删除分配，它应该可以工作`abs = "text";`......

```
public class MyActivity extends SlidingFragmentActivity {
    public static String abs;

    @Override
    protected void onCreate(final Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);        
       setContentView(R.layout.activity_main);

       getSupportActionBar().setTitle(abs);
    }
} 
```

...并在第一次创建活动*之前*调用`MyActivity.abs = "new value";`一些地方。

 *无论如何，我建议将标题作为额外的活动传递给活动......

```
Intent intent = new Intent(context, MyActivity.class);
intent.putExtra("title", "Another Headline");
context.startActivity(intent); 
```

...并从意图评估那个：

```
public class MyActivity extends SlidingFragmentActivity {

    @Override
    protected void onCreate(final Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);        
        setContentView(R.layout.activity_main);

        Bundle extras = getIntent().getExtras();
        String title = "Default Headline";
        if (extras != null && extras.containsKey("title")) {    
            title = intent.getStringExtra("title");   
        }

        getSupportActionBar().setTitle(title);
    }
} 
```

**ps**创建后设置标题：

如果您可以直接引用活动，例如因为您在一个片段中，您可以添加一个类似...的方法

```
public class MyActivity extends SlidingFragmentActivity {

    public void setTitle(String title) {
        this.getSupportActionBar().setTitle(title);
    }

    ....
} 
```

...并相应地调用它：

```
getActivity().setTitle("Another Headline"); 
```

将任何类型的参数传递给现有活动以允许它们以任何方式处理它们的最复杂的方法是使用广播接收器：

```
public abstract class MyActivity extends SlidingFragmentActivity {

    public static final String SET_TITLE_ACTION = "com.myapp.SET_TITLE_ACTION";
    public static final IntentFilter INTENT_FILTER = createIntentFilter();

    private SetTitleReceiver setTitleReceiver = new SetTitleReceiver();

    private static IntentFilter createIntentFilter() {
        IntentFilter filter = new IntentFilter();
        filter.addAction(SET_TITLE_ACTION);
        return filter;
    }

    protected void registerSetTitleReceiver() {
        registerReceiver(setTitleReceiver, INTENT_FILTER);
    }

    protected void unRegisterSetTitleReceiver() {
        unregisterReceiver(setTitleReceiver);
    }

    public class SetTitleReceiver extends BroadcastReceiver {

        @Override
        public void onReceive(Context context, Intent intent) {
            if (intent.getAction().equals(SET_TITLE_ACTION)) {
                Bundle extras = intent.getExtras();
                if (extras != null && extras.containsKey("title")) {    
                    title = intent.getStringExtra("title");   
                    this.getSupportActionBar().setTitle(title);
                }
            }
        }
    }
} 
```

任何`Activity`应该能够接收标题更改的类都必须在`BroadcasdtReceiver`中注册`onResume()`和取消注册`onPause()`。这样，您可以通过从任何地方发送广播事件来设置这些活动实例的标题：

```
Intent intent = new Intent(MyActivity.SET_TITLE_ACTION);
intent.putExtra("title", "Another Headline");
context.sendBroadcast(intent); 
```

希望这会有所帮助......干杯！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:33:55.037

它不起作用，因为您只是更改引用`abs`指向。如果要更改标题，请将 SherlockActivity 作为参数传递给您的方法。

例子：

```
public class MyActivity extends SherlockActivity {

@Override
    protected void onCreate(final Bundle savedInstanceState) {
        new ChangeTitle(this).setTitle("test title");
    }
}

class ChangeTitle {
    String title;
    SherlockActivity activity;

    public ChangeTitle(SherlockActivity activity) {
        this.activity = activity;
    }

    public void setTitle(String title) {
        this.title = title;
        activity.getSupportActionBar().setTitle(this.title);
    }
} 
```*

# c - 在 C 中，如何让这个程序返回数组的地址，而不是第一个元素的地址？

> ID：15985761
> 
> 赞同：0
> 
> 时间：2013-04-13T08:17:12.233
> 
> 标签：c

我真的对这个程序不知所措。我希望它返回一个由 5 个元素组成的整数数组的地址。但它不会工作。如何让 C 函数返回数组的地址而不是它的地址第一个元素（基地址）？我知道两者在数字上相同，但它们的类型不同，这就是我问的原因。

更准确地说，如何声明此类函数的原型？我了解如何声明原型的参数部分（使用抽象声明符），但如果我们要返回地址，我不知道如何声明返回类型数组或函数。我只知道如果我们在声明中的函数名之前放置一个“*”，这意味着该函数返回一个指向相应主要数据类型的指针，如 int、char 或 float。

```
 #include<stdio.h>

    int (*)[5]fun(int (*)[5]);

    int main(void)
    {

    int arr[5];

    printf("%u",fun(&arr));

    }

    int (*)[5]fun(int (*arr_add)[5])
    {
    return arr_add;
    } 
```

**你好！！** ***DANIEL FISCHER***感谢您的回答。您的回答准确而简洁。但我选择了 H2CO3 的回答，因为那个聪明的匈牙利孩子不厌其烦地通过聊天向我详细解释。很难选择最好的当这么多聪明的人回答时回答。谢谢大家！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T09:11:03.570

也许解释它是如何工作的有一些用处。

C 的声明语法背后的思想是“声明模仿使用”。所以你要

*   一个函数

    ```
    fun( ) 
    ```

*   获取一个指向五个数组的指针`int`

    ```
    fun(int (*arr)[5])  // or without argument name fun(int(*)[5]) 
    ```

*   并返回一个指针

    ```
    (*fun(int (*arr)[5])) 
    ```

*   到五个数组

    ```
    (*fun(int (*arr)[5]))[5] 
    ```

*   `int`

    ```
    int (*fun(int (*arr)[5]))[5]; 
    ```

或者，你也可以从结果中去，那应该是一个指向数组的指针五`int`，

```
int (*result)[5]; 
```

并`result`用调用 ( `result = fun(arr)`)代替

```
int (*fur(arr))[5]; 
```

然后添加参数的类型/用它的类型替换参数：

```
int (*fun(int(*)[5]))[5]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T08:25:43.100

给你：

```
int (*fun(int (*arr)[5]))[5]
{
    return arr;
} 
```

如果你想返回第**一个元素**的地址（而不是数组本身的地址），那是另一种类型：

```
int *fun(int (*arr)[5])
{
    return &(*arr)[0];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-13T08:22:00.863

这是错误的：

```
printf("%u",fun(&arr)); 
```

真的应该是：

```
printf("%p", (void*)fun(&arr)); 
```

至于数组的地址，它将与其第一个元素的地址相同。

现在，声明和定义应该看起来像：

```
int (*fun(int(*)[5]))[5]; 
```

固定代码：

```
#include<stdio.h>

int (*fun(int (*)[5]))[5];

int main(void)
{
    int arr[5];

    printf("%p\n", (void*)fun(&arr));
}

int (*fun(int (*arr_add)[5]))[5]
{
    return arr_add;
} 
```

[ideone](http://ideone.com/LbfOga)

# c++ - GDB错误无法访问内存（分段错误）

> ID：15985764
> 
> 赞同：2
> 
> 时间：2013-04-13T08:17:57.547
> 
> 标签：c++, ogre3d

检索 OGRE 3D 1.81 子网格数据时出现分段错误。我尝试使用[http://alumni.cs.ucr.edu/~sorianom/cs134_09win/](http://alumni.cs.ucr.edu/~sorianom/cs134_09win/)中的代码 来获取供子弹物理引擎使用的食人魔网格数据，但遇到了一条错误消息，指出段错误。减少代码找到原因后我发现它是“ **submesh->indexData->indexStart**“导致段错误。我在Ubuntu Linux 12.10（32bit x86）上运行（由于预算限制，我们买不起Windows），并使用g ++作为编译器。请帮助我，我是一名小学教师尝试为学生制作一些 CAI 程序来学习数学、英语……我知道网站上列出的 cs134 示例代码有点太旧了，我已经升级了所有的网格，dotsceneloader……但仍然无法弄清楚是什么必须更改。谢谢！以下是仍然使段错误错误消息的简化代码。

```
#include <Ogre.h>
#include <ExampleApplication.h>
#include <btBulletCollisionCommon.h>
class SampleApp : public ExampleApplication
{
public:
    // Basic constructor
    SampleApp()
    {}

protected:

    // Just override the mandatory create scene method
    void createScene(void)    {         
            mSceneMgr->setSkyBox(true, "Examples/CloudyNoonSkyBox");              
            Ogre::Light* myLight = mSceneMgr->createLight("Light0");
            myLight->setType(Light::LT_POINT);
            myLight->setPosition(0, 40, 0);
            myLight->setDiffuseColour(1, 1, 1);
            myLight->setSpecularColour(1, 1, 1);
            Ogre::Entity* entity = mSceneMgr->createEntity("ogre", "ogrehead.mesh");  
            mSceneMgr->getRootSceneNode()->createChildSceneNode()->attachObject(entity);                    
            Ogre::MeshPtr mesh = entity->getMesh();
            Ogre::Mesh::SubMeshIterator j = mesh->getSubMeshIterator();
            while (j.hasMoreElements()) {
                Ogre::SubMesh* submesh = j.getNext(); 
                std::cout << " submesh:" << submesh << "\n";
                std::cout << " submesh->indexData:" << submesh->indexData << "\n";
                //std::cout << " submesh->indexData->indexStart:" << submesh->indexData->indexStart << "\n";
                int idxStart = submesh->indexData->indexStart;          
                int nIdx = submesh->indexData->indexCount;       
            }

    }
};

// ----------------------------------------------------------------------------
// Main function, just boots the application object
// ----------------------------------------------------------------------------
#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
#define WIN32_LEAN_AND_MEAN
#include "windows.h"
INT WINAPI WinMain( HINSTANCE hInst, HINSTANCE, LPSTR strCmdLine, INT )
#else
int main(int argc, char **argv)
#endif
{
    // Create application object
    SampleApp app;

    try
    {
        app.go();
    }
    catch( Exception& e )
    {
#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
        MessageBox( NULL, e.getFullDescription().c_str(), "An exception has occured!", MB_OK | MB_ICONERROR | MB_TASKMODAL);
#else

        std::cerr << "An exception has occured: " << e.getFullDescription();
#endif
    }

    return 0;
} 
```

和错误信息：

```
....
submesh:0xb752c080
submesh->indexData:0x8d042444
Segmentation fault (core dumped)
------------------
(program exited with code: 139) 
```

以下是 gdb 输出：

```
 (gdb) print submesh->indexData
 $5 = (Ogre::IndexData *) 0x8d042444
 (gdb) print submesh->indexData->indexStart
 Cannot access memory at address 0x8d042458
 (gdb) 
```

ps：编译器设置：（上面的代码是由 CODE:BLOCK OGRE3D 模板修改的，可以编译，这个精简版不需要项目符号部分）

`g++ -o "%e" "%f" pkg-config --cflags --libs OGRE OIS bullet -I/usr/local/include/OGRE -I/usr/include/bullet`

原始文件如下（来自[http://tutorialsdl.googlecode.com/svn/trunk/Lab3/Lab3/OgreToBtMeshConverter.cpp](http://tutorialsdl.googlecode.com/svn/trunk/Lab3/Lab3/OgreToBtMeshConverter.cpp)）：

```
#include <Ogre.h>
#include <ExampleApplication.h>
#include <btBulletCollisionCommon.h>

class SampleApp : public ExampleApplication
{
public:
    // Basic constructor
    SampleApp()
    {}

protected:

    // Just override the mandatory create scene method
    void createScene(void)    {         
            mSceneMgr->setSkyBox(true, "Examples/CloudyNoonSkyBox");              
            Ogre::Light* myLight = mSceneMgr->createLight("Light0");
            myLight->setType(Light::LT_POINT);
            myLight->setPosition(0, 40, 0);
            myLight->setDiffuseColour(1, 1, 1);
            myLight->setSpecularColour(1, 1, 1);
            Ogre::Entity* entity = mSceneMgr->createEntity("ogre", "ninja.mesh");  
            mSceneMgr->getRootSceneNode()->createChildSceneNode()->attachObject(entity);
              //
            // initialize bullets collision detection system
            //
            btVector3 worldAabbMin(-1000,-1000,-1000);
            btVector3 worldAabbMax(1000,1000,1000);
            btDefaultCollisionConfiguration* mColConfig; 
            btCollisionWorld* mColWorld;
            btCollisionDispatcher* mDispatcher;
            btAxisSweep3* mBroadphase;       
            mBroadphase = new btAxisSweep3(worldAabbMin, worldAabbMax); // broadphase
            mColConfig = new btDefaultCollisionConfiguration();
            mDispatcher = new btCollisionDispatcher(mColConfig); // narrowphase pair-wise checking
            mColWorld = new btCollisionWorld(mDispatcher, mBroadphase, mColConfig);

            //
            // Registers every mesh in OGREs scene manager with the
            // collision world. You should be adding your environment
            // to the scene manager before this call. Your moveable
            // character should be created after this call as to avoid
            // having his mesh become part of the static level geometry.
            //
            // All meshes here are placed into group 2 and set to
            // collide with group 1\. You character should be in group
            // 1, and set to collide with group 2\. More about contact groups
            // in the manual.
            btCollisionWorld* colWorld=0;
            registerEntityAsCollider(entity,colWorld);               
    }

    void registerEntityAsCollider(Entity* entity, btCollisionWorld* colWorld)
    {
        // if you wish to do instancing you will have to share one
        // btTriangleMesh amongst multiple btBvhTriangleMeshShape
        // instances
        btTriangleMesh* btMesh = new btTriangleMesh();

        MeshPtr mesh = entity->getMesh();
        Mesh::SubMeshIterator j = mesh->getSubMeshIterator();
        while (j.hasMoreElements()) {
            SubMesh* submesh = j.getNext(); 

            int idxStart = submesh->indexData->indexStart;
            int nIdx = submesh->indexData->indexCount;

            HardwareIndexBuffer* idxBuffer 
                = submesh->indexData->indexBuffer.get();

            HardwareVertexBufferSharedPtr virtBuffer;
            VertexDeclaration* virtDecl;

            if (submesh->useSharedVertices) {
                virtDecl = mesh->sharedVertexData->vertexDeclaration;
                assert(mesh->sharedVertexData->vertexBufferBinding->getBufferCount() > 0);
                virtBuffer = mesh->sharedVertexData->vertexBufferBinding->getBuffer(0);
            } else {
                virtDecl = submesh->vertexData->vertexDeclaration;
                assert(submesh->vertexData->vertexBufferBinding->getBufferCount() > 0);
                virtBuffer = submesh->vertexData->vertexBufferBinding->getBuffer(0);
            }

            unsigned char* pVert = static_cast<unsigned char*>(virtBuffer->lock(HardwareBuffer::HBL_READ_ONLY));

            // need to lock the buffer since vertex data resides on GPU
            // and we need synchronization
            unsigned short* sindices = NULL;
            unsigned long* lindices = NULL;

            if (idxBuffer->getType() == HardwareIndexBuffer::IT_16BIT) {
                sindices = static_cast<unsigned short*>(idxBuffer->lock(HardwareBuffer::HBL_READ_ONLY));
            } else if (idxBuffer->getType() == HardwareIndexBuffer::IT_32BIT) {
                lindices = static_cast<unsigned long*>(idxBuffer->lock(HardwareBuffer::HBL_READ_ONLY));
            } else {
                assert(true == false);
            }

            const VertexElement* elm = virtDecl->findElementBySemantic(VES_POSITION, 0);
            int offset = elm->getOffset();
            assert(elm->getType() == VET_FLOAT3);

            for (int k = idxStart; k < idxStart + nIdx; k += 3) {
                unsigned int indices[3];
                btVector3 vertices[3];

                if (idxBuffer->getType() == HardwareIndexBuffer::IT_16BIT) {
                    for (int l = 0; l < 3; ++l) {
                        indices[l] = sindices[k + l];
                    }
                } else {
                    for (int l = 0; l < 3; ++l) {
                        indices[l] = lindices[k + l];
                    }
                }

                for (int l = 0; l < 3; ++l) { // for each vertex
                    Real* posVert = (Real*)(pVert + indices[l] * virtBuffer->getVertexSize() + offset);
                    for (int m = 0; m < 3; ++m) { // for each vertex component
                        vertices[l][m] = posVert[m];
                    }
                }

                btMesh->addTriangle(vertices[0], vertices[1], vertices[2]);
            }

            idxBuffer->unlock();
            virtBuffer->unlock();
        }

        btBvhTriangleMeshShape* btMeshShape = new btBvhTriangleMeshShape(btMesh, true, true);

        btCollisionObject* btObj = new btCollisionObject();
        btObj->setCollisionShape(btMeshShape);

        Vector3 pos = entity->getParentSceneNode()->getPosition();
        Quaternion orient = entity->getParentSceneNode()->getOrientation();
        Vector3 scale = entity->getParentSceneNode()->getScale();

        btMeshShape->setLocalScaling(btVector3(scale[0], scale[1], scale[2]));
        btMeshShape->setMargin(0.0);

        btTransform btTrans;
        btTrans.setIdentity();
        btTrans.setOrigin(btVector3(pos[0], pos[1], pos[2]));
        btTrans.setRotation(btQuaternion(orient[1], orient[2], orient[3], orient[0]));
        btObj->setWorldTransform(btTrans);

        // the last 2 parameters are bit strings representing group membership
        // and the groups which it is allowed to collide with
        colWorld->addCollisionObject(btObj, 2, 1);
    }

//
// This method will take every entity in your scene and register it as
// a mesh in the btCollisionWorld. NOTE: Be sure to call this function after
// you've added your static entities (environment) to the scene manager but
// before you add your characters. 
// 
    void registerAllEntitiesAsColliders(SceneManager* sceneMgr, btCollisionWorld* colWorld)
    {
        SceneManager::MovableObjectIterator 
            i = sceneMgr->getMovableObjectIterator("Entity");

        while (i.hasMoreElements()) {
            Entity* entity = static_cast<Entity*>(i.getNext());
            registerEntityAsCollider(entity, colWorld);
        }
    }

};

// ----------------------------------------------------------------------------
// Main function, just boots the application object
// ----------------------------------------------------------------------------
#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
#define WIN32_LEAN_AND_MEAN
#include "windows.h"
INT WINAPI WinMain( HINSTANCE hInst, HINSTANCE, LPSTR strCmdLine, INT )
#else
int main(int argc, char **argv)
#endif
{
    // Create application object
    SampleApp app;

    try
    {
        app.go();
    }
    catch( Exception& e )
    {
#if OGRE_PLATFORM == OGRE_PLATFORM_WIN32
        MessageBox( NULL, e.getFullDescription().c_str(), "An exception has occured!", MB_OK | MB_ICONERROR | MB_TASKMODAL);
#else

        std::cerr << "An exception has occured: " << e.getFullDescription();
#endif
    }

    return 0;
} 
```

# javascript - 将参数传递给脚本函数

> ID：15985773
> 
> 赞同：0
> 
> 时间：2013-04-13T08:18:44.630
> 
> 标签：javascript, html

我是这方面的初学者，所以请耐心等待。我已经查找了这个问题并没有找到解决方案。我有以下代码：

在头上

```
<script>
   function ledonoff(led)
    {
     if (document.getElementById('ck1').checked == true){
      document.getElementById('led1').style.backgroundImage="url('Image/led_green.gif')";}
     else {
      document.getElementById('led1').style.backgroundImage="url('Image/led_red.gif');}
    }
</script> 
```

在身体上

```
<div id="led1"></div>

<input name="" type="checkbox" id="ck1" onchange="ledonoff('led1')" value=""/> 
```

我想让函数 ledonoff 在函数中使用 2 个参数：要更改的 div id 和要在函数的 if 上验证的复选框。谁能帮我这个。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:33:15.677

将您的代码修改为：

```
<script>
function ledonoff(isChecked, elementId)
{
if (isCkecked){
    document.getElementById(elementId).style.backgroundImage="url('Image/led_green.gif')";}
else {
    document.getElementById(elementId).style.backgroundImage="url('Image/led_red.gif');}
}
</script> 
```

和身体：

```
<input name="" type="checkbox" id="ck1" onchange="ledonoff(this.checked, "led1")" value=""/>Led 1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:33:31.413

将函数更改为：

```
 function ledonoff(led,checkBox){
       var theDiv = document.getElementById(led),
           check = document.getElementById(checkBox);
       if (check.checked == true){
        theDiv.style.backgroundImage="url('Image/led_green.gif')";
       } else {
        theDiv.style.backgroundImage="url('Image/led_red.gif')";
      }
    } 
```

和htmlonchange：

```
"ledonoff('led1','ck1')" 
```

[在jsbin中](http://jsbin.com/okiyer/4/edit)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:27:51.637

你可以简单地传递它：`onchange="ledonoff('led1', 'ck1')"`.

但是，您的函数需要一个参数，因此您需要对其进行修改。

```
function ledonoff(led) -> function ledonoff(led, ck) 
```

**只是要注意**

这种类型的 JavaScript 称为[Obtrusive Javascript](http://en.wikipedia.org/wiki/Unobtrusive_JavaScript)。最近设计原则的转变是将您的 Javascript 和 HTML 放在完全独立的文件中。`DOM`您应该使用向`DOM`元素添加事件侦听器，而不是以属性方式将函数分配给事件。[这](http://net.tutsplus.com/tutorials/javascript-ajax/javascript-and-the-dom-series-lesson-1/)是一个很好的教程，可以帮助您开始这个想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T08:33:29.417

做这个：

```
<script>
 function ledonoff(led,checkbox){
   if(document.getElementById(checkbox).checked == true){
    document.getElementById(led).style.backgroundImage="url('Image/led_green.gif')";
   }else{
    document.getElementById(led).style.backgroundImage="url('Image/led_red.gif')";
   }
 }
</script> 
```

和你的html：

```
<div id="led1"></div>
<input name="" type="checkbox" id="ck1" onchange="ledonoff('led1','ch1')" value=""/>Led1 
```

我想，就是这样。我假设您的图像路径是正确的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-13T08:39:44.020

用这个。

```
</script>
 function ledonoff(led,chk)
 {
  if (document.getElementById(chk).checked == true){
   document.getElementById(led).style.backgroundImage="url('Image/led_green.gif')";}
  else {
   document.getElementById(led).style.backgroundImage="url('Image/led_red.gif');}
  }
</script>

<div id="led1"></div>

<input name="" type="checkbox" id="ck1" onchange="ledonoff('led1','ck1')" value=""/>Led 1 
```

# c# - WCF PUB - SUB 模式配置文件使用

> ID：15985774
> 
> 赞同：1
> 
> 时间：2013-04-13T08:19:00.443
> 
> 标签：c#, .net, wcf, publish-subscribe

**项目概况：**

* * *

我有一个 WCF 服务和 2 个桌面应用程序（一个发布者，第二个订阅者）。

WCF 服务托管在 Windows server 2008 R2 Std Edition 上，Publisher 位于同一台机器上。订阅者在客户端机器上。

WCF 服务使用 net.tcp 绑定，因为它位于公共 IP 上，而其他绑定存在 NAT 问题。

订阅者在订阅时创建回调通道，WCF 服务调用客户端方法，如下代码摘录所示：

```
MethodInfo publishMethodInfo = type.GetMethod(MethodName);
object ClientResult;
ClientResult = publishMethodInfo.Invoke(subscriber.CallBackId, new object[] { SendDataVal }); 
```

发送事件由发布者根据时间表调用。

**我的问题**

* * *

现在我有 3 个配置（发布者、订阅者的 App.config）和一个 Web 配置文件。publishMethodInfo.Invoke ***(subscriber.CallBackId, new object[] { SendDataVal });*** 利用？

1.  它是否在创建回调 ID 时从 Subsribers App.config 中选择超时？
2.  或者它是否使用调用发送数据事件的发布者的 App.config 超时？
3.  或者它是否使用 WCF 服务的 Web.config 超时，这实际上是在发布数据？

# php - PHP 脚本（算法） - 只循环到某个迭代，然后它停止

> ID：15985775
> 
> 赞同：0
> 
> 时间：2013-04-13T08:19:11.647
> 
> 标签：php, for-loop, memory, timeout, large-data

我在 PHP 中运行一个涉及大量数据的算法。所有的处理都发生在一个嵌套的 for 循环中。奇怪的是，外部 for 循环在“X”次迭代后停止工作（其中“X”在我运行脚本时一直在变化）。根据“X”，脚本崩溃需要 5 分钟到 30 分钟之间的任何时间。它不会抛出任何错误，并且只会打印不完整的 var_dump（在外循环的第一次迭代中）

这些是我采取的预防措施： 1\. 我在 php.ini 中将超时限制设置为 3600 秒（60 分钟）。2\. 我在每次外部 for 循环迭代后打印出 memory_get_usage()，并且我已经验证它与分配给 php 的最大内存相比要小得多。3\. 一旦使用了数组，我就取消设置它们 4\. 我重用变量名来限制 forloop 中的内存 5\. 我对我的数据库的调用最少

我一直在解决这个问题很长时间无济于事。所以我的问题是什么可能是这个问题的原因/我该如何调试它。太感谢了！额外：如果我使用更小的测试数据大小，一切正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:59:31.307

这听起来像是服务器内核利用率的问题，并且可以在此处找到类似的答案/解决方法：[Boost Apache2 up to 4 cores usage, running PHP](https://stackoverflow.com/questions/10732783/boost-apache2-up-to-4-cores-usage-running-php)

尝试并行运行您的数据集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:38:04.780

显然没有代码，这只是一个猜测，但您是否确保使用单个连接到您的数据库？如果您每次都重新连接，您可能会获得太多连接，这可能会导致这样的错误。

# java - 使 servlet 过滤器适用于所有 Web 应用程序

> ID：15985782
> 
> 赞同：5
> 
> 时间：2013-04-13T08:21:42.483
> 
> 标签：java, jsp, tomcat, servlets, servlet-filters

我正在使用 JSP 和 Servlet 开发一个 Web 应用程序。

我已经开发了一个`servlet filter`有`Login`目的的。它检查用户是否已登录，如果用户已登录，则它允许访问所请求的资源，否则它将请求重定向到`Login page`. 而且效果很好。

**筛选**

```
public class MyFilter implements Filter
{
    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException 
    {
        //code here
    }
} 
```

**web.xml**

```
<filter>
    <filter-name>MyFilter</filter-name>
    <filter-class>com.myfilter.MyFilter</filter-class>
    <init-param>
        <param-name>PARAM_NAME_HERE</param-name>
        <param-value>PARAM_VALUES_HERE</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>MyFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

现在我已经部署了这个名为`Login`on 的应用程序`Tomcat 7`。这`servlet filter`非常适用于该 Web 应用程序中的资源（JSP、Servltes、.css、.js）。

所以现在`Tomcat`还有其他的 web 应用程序`Profiles`，`Distribution`等等。所以现在我想要的是应用`Filter`in`Login`应用程序*适用*于部署在`Tomcat`. 意味着对其他应用程序资源的每个请求都应该通过`Filter`我开发的。

因此，任何建议将不胜感激！

**编辑1**

我不想把包含`Filter`在其他应用程序中的包。因为在 Tomcat 服务器中部署了 10 多个应用程序，而且还会部署更多应用程序。因此，假设如果我将包含`Filter`所有其他应用程序的包放入并进行 servlet 映射，但如果几天后我想在过滤器中进行一些更改，那么我将需要在所有应用程序中进行更改，并且需要重新部署它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T08:55:16.997

把你的`<filter>`和`<filter-mapping>`定义放在里面`$CATALINA_HOME/conf/web.xml`

这些定义由所有 Web 应用程序共享。

您必须将所有与登录相关的逻辑打包到一个 jar 中并将其放在下面，`$CATALINA_HOME\lib`以便您的所有 Web 应用程序都可以访问它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:25:19.910

将此代码添加到其他两个应用程序的 web.xml 中。

```
<filter>
    <filter-name>MyFilter</filter-name>
    <filter-class>com.myfilter.MyFilter</filter-class>
    <init-param>
        <param-name>PARAM_NAME_HERE</param-name>
        <param-value>PARAM_VALUES_HERE</param-value>
    </init-param>
</filter>

<filter-mapping>
    <filter-name>MyFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping> 
```

**筛选**

```
public class MyFilter implements Filter
{
    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException 
    {
        //code here
    }
} 
```

# objective-c - 可可。对象相等性和散列说明

> ID：15985784
> 
> 赞同：1
> 
> 时间：2013-04-13T08:21:49.800
> 
> 标签：objective-c, cocoa, collections, hash

我目前正在研究 Cocoa 集合，并且我的研究带来了 Mike Ash关于对象相等和散列的[帖子。](http://www.mikeash.com/pyblog/friday-qa-2010-06-18-implementing-equality-and-hashing.html)

这是该帖子的摘录：

> 由于 hash 的语义，如果你覆盖 isEqual: 那么你必须覆盖 hash。如果你不这样做，那么你就有可能拥有两个相等但没有相同哈希的对象。如果你在字典、集合或其他使用哈希表的东西中使用这些对象，那么就会引起欢闹。

不幸的是，作者没有进一步详细说明会发生什么欢闹，我的好奇心并没有让我离开它而不试图更深入地挖掘。所以问题是：如果我有两个具有不同哈希值的相等对象并将这些对象放入一个集合中，究竟会发生什么？我会遇到什么样的问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T09:03:38.230

答案在 Mike 的帖子中

> 哈希表基本上是一个带有特殊索引的大数组。对象被放入一个数组中，其索引与其哈希相对应。哈希本质上是从对象的属性生成的伪随机数。这个想法是使索引足够随机，以使两个对象不太可能具有相同的散列，但要使其完全可重现。当一个对象被插入时，哈希用于确定它的去向。查找对象时，其哈希值用于确定查找位置。
> 
> 在更正式的术语中，对象的散列被定义为，如果两个对象相等，则它们具有相同的散列。请注意，反过来是不正确的，也不可能是：两个对象可以具有相同的哈希值并且不相等。你要尽量避免这种情况，因为当两个不相等的对象具有相同的哈希（称为冲突）时，哈希表必须采取特殊措施来处理这种情况，这很慢。然而，事实证明，完全避免它是不可能的。

这意味着您将拥有两个声称相等的对象。您将第一个添加为具有某些值的字典中的键。然后，您尝试使用另一个对象作为键来提取该值。它不起作用。它应该，因为你的对象是平等的。但是最初的哈希查找失败了。

需要明确的是，这可能不会发生。它可能对某些对象有效，而对其他对象则失败。关键是，如果你不实现这两种方法，你不知道会发生什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T23:59:50.740

抛开想知道“为什么”的愿望，你应该看看苹果的文档。

[http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html%23//apple_ref/occ/intfm/NSObject/isKindOfClass](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html%23//apple_ref/occ/intfm/NSObject/isKindOfClass)：

```
If two objects are equal, they must have the same hash value. 
```

从学术角度来看，所有其他讨论都很有趣，但从根本上说，无论您是否同意 Apple 的规则，如果您想使用 Foundation 框架，都必须遵守它们。

Mike 和上面的海报所说的似乎是真实的，对于当前的 NSDictionary 化身 - 不能保证相同的实现将在未来的版本中保持不变。然而，无论苹果用什么替代它，它（可能）都会保留所有相同的保证和限制。

# c - linux中的c程序使用服务器和客户端程序以及使用udp套接字获取服务器的mac地址？

> ID：15985787
> 
> 赞同：1
> 
> 时间：2013-04-13T08:22:00.923
> 
> 标签：c, linux

下面是服务器端程序

```
 #include <stdio.h>
    #include <stdlib.h>
    #include <string.h>
    #include <unistd.h>
    #include <sys/types.h> 
    #include <sys/socket.h>
    #include <netinet/in.h>

void error(const char *msg)
{
    perror(msg);
    exit(1);
}

int main(int argc, char *argv[])
{
     int sockfd, newsockfd, portno;
     socklen_t clilen;
     char buffer[256];
     struct sockaddr_in serv_addr, cli_addr;
     int n;
     if (argc < 2) {
         fprintf(stderr,"ERROR, no port provided\n");
         exit(1);
     }
     sockfd = socket(AF_INET, SOCK_DGRAM, 0);
     if (sockfd < 0) 
        error("ERROR opening socket");
     bzero((char *) &serv_addr, sizeof(serv_addr));
     portno = atoi(argv[1]);
     serv_addr.sin_family = AF_INET;
     serv_addr.sin_addr.s_addr = INADDR_ANY;
     serv_addr.sin_port = htons(portno);
     if (bind(sockfd, (struct sockaddr *) &serv_addr,
              sizeof(serv_addr)) < 0) 
              error("ERROR on binding");
     listen(sockfd,5);
     clilen = sizeof(cli_addr);
     newsockfd = accept(sockfd, 
                 (struct sockaddr *) &cli_addr, 
                 &clilen);
     if (newsockfd < 0) 
          error("ERROR on accept");
     bzero(buffer,256);
     n = read(newsockfd,buffer,255);
     if (n < 0) error("ERROR reading from socket");
     printf("Here is the message: %s\n",buffer);
     n = write(newsockfd,"I got your message",18);
     if (n < 0) error("ERROR writing to socket");
     close(newsockfd);
     close(sockfd);
     return 0; 
} 
```

下面是客户端程序

```
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h> 

void error(const char *msg)
{
    perror(msg);
    exit(0);
}

int main(int argc, char *argv[])
{
    int sockfd, portno, n;
    struct sockaddr_in serv_addr;
    struct hostent *server;

    char buffer[256];
    if (argc < 3) {
       fprintf(stderr,"usage %s hostname port\n", argv[0]);
       exit(0);
    }
    portno = atoi(argv[2]);
    sockfd = socket(AF_INET, SOCK_DGRAM, 0);
    if (sockfd < 0) 
        error("ERROR opening socket");
    server = gethostbyname(argv[1]);
    if (server == NULL) {
        fprintf(stderr,"ERROR, no such host\n");
        exit(0);
    }
    bzero((char *) &serv_addr, sizeof(serv_addr));
    serv_addr.sin_family = AF_INET;
    bcopy((char *)server->h_addr, 
         (char *)&serv_addr.sin_addr.s_addr,
         server->h_length);
    serv_addr.sin_port = htons(portno);
    if (connect(sockfd,(struct sockaddr *) &serv_addr,sizeof(serv_addr)) < 0) 
        error("ERROR connecting");
    printf("Please enter the message: ");
    bzero(buffer,256);
    fgets(buffer,255,stdin);
    n = write(sockfd,buffer,strlen(buffer));
    if (n < 0) 
         error("ERROR writing to socket");
    bzero(buffer,256);
    n = read(sockfd,buffer,255);
    if (n < 0) 
         error("ERROR reading from socket");
    printf("%s\n",buffer);
    close(sockfd);
    return 0;
} 
```

请告诉如何使用这两个程序获取服务器的mac地址在程序中需要添加什么来获取服务器的mac地址？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T10:24:05.150

Use `ioctl()` function to get the mac address with the parameter `cmd = SIOCGIFHWADDR`.

The kernel level function dev_ioctl is available in `net/core/dev.c`.

Just try that and let me kow whether that is working or not.

# c# - 如何在浏览器显式关闭而不使用 ASP.Net 注销时跟踪注销详细信息

> ID：15985791
> 
> 赞同：1
> 
> 时间：2013-04-13T08:22:32.600
> 
> 标签：c#, asp.net

我正在尝试为我的用户制作登录详细信息。

我将以下列存储在数据库表中：

```
IPAddress, LoginTime, LogOutTime, LoginPlace 
```

当用户手动登录和注销时（通过单击`Logout`按钮） ，我可以成功获取详细信息

我的问题是当用户没有点击`Logout`或会话过期或直接关闭浏览器时，我无法跟踪记录。

我正在考虑`Session_End`在文件中的事件中添加代码以`Global.asax`进行跟踪。但是我怎么能跟踪会话呢？

这是一个很好的解决方案吗？

任何建议，将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:26:30.907

通过将某种辅助方法放入任何称为 UpdateLastVisited 的控制器/操作中？

UpdateLastVisited 看起来像。

```
 UpdateLastVisited(this.User)
                {  
                       "UPDATE [dbo].[User] set LastVisited = @date WHERE Id = @userId";
                        AddParameters etc..
                 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:42:32.190

在保存用户的 IPAddress 时，您应该记住以下几点：

1.  如果您正在为 Intranet 开发此站点，并且用户的机器具有动态分配的 IP 地址，那么您的逻辑肯定会出错。
2.  如果您正在开发 Internet 站点，您获得的 IP 地址是 ISP 的 IP 地址。要解决这个问题，您将不得不使用某种 ActiveX（不建议）。
3.  如果您仍然决定继续使用 2，请记住您将退回到 1，因此 4 是继续进行的更好选择。
4.  不要为依赖于 IP 地址的 Web 应用程序编写代码，或者确保您正在为 Intranet 编写此应用程序并为机器分配静态 IP 地址。

话虽如此，当浏览器关闭而不注销时，您会遇到实际的注销用户问题：

1.  编写一个基于 HTTP 的 Web 服务，它是您的 Web 应用程序的一部分。公开一个网络方法说“注销”并在 Window.Close() javascript 事件上使用 AJAX 调用此方法。
2.  如果您不想继续使用 WebService，您可以在 Window.close() 上的 javascript 中调用您的注销网页。
3.  即使您使用上述两种方法之一，请记住在服务器端代码中设置会话超时。我希望这有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T10:22:16.733

> **但是我怎么能跟踪会话呢？**

ASP.NET[`Session`](http://msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx)明确定义为附加到特定用户的对象：

> ASP.NET 会话状态将在有限时间窗口内来自同一浏览器的请求标识为会话，并提供一种在该会话期间保持变量值的方法。

因此，根据定义，当您访问`Session`它时，它将附加到一个用户，而 ASP.NET 将为您保持同步。现在，利用这些信息，我建议您在以下期间存储您可以存储的内容`Session_Start`：

```
protected void Session_Start(Object sender, EventArgs e)
{
    var session = HttpContext.Current.Session;

    session["IPAddress"] = Request.UserHostAddress;
    session["LoginTime"] = DateTime.Now;

    // you'll need to plug in here how you're going to determine this
    session["LoginPlace"] = "something";
} 
```

然后在`Session_End`你可以这样做：

```
protected void Session_Start(Object sender, EventArgs e)
{
    HttpContext.Current.Session["LogOutTime"] = DateTime.Now;

    // and now here you can persist those values to the database because
    // the session has ended
} 
```

然后我将建议您在注销期间做一些不同的事情。不要像你现在说的那样设置这些值并将它们持久化到数据库中，而是这样做：

```
HttpContext.Current.Session.Abandon(); 
```

这将强制`Session_End`提高，这将使您的代码具有一定的一致性。此外，它会立即清理服务器上的会话。看，当用户“注销”时，除非你真的终止了他们的会话，否则它在服务器上仍然存在，直到超时。

# jquery - 使用.text（）时如何在内容可编辑的div中保留换行符 - Jquery

> ID：15985792
> 
> 赞同：11
> 
> 时间：2013-04-13T08:22:34.993
> 
> 标签：jquery, newline

我有一个具有“contenteditable = true”的div。当我在其中输入文本并按回车键时，光标会通过`<br>`在上一行中附加而转到下一行。

当我使用提交按钮时，我`.text()`用来获取 div 的内容。这会去除 div 中的任何 html 标签，从而删除所有`<br>`标签。所以没有换行符。

我想知道，提交表单时如何保留换行符。感谢帮助...

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2016-10-10T14:42:25.553

不要为此使用 Jquery，该`.text()`函数会删除空格。为此使用纯 Javascript：

```
$(selector)[0].innerText = 'foo'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-08T08:20:51.257

而不是使用`.text()`你可以使用`.html()`. 这不会剥离标签。您的下一个问题将是尝试消除/转换标签..

您可以在此处查看更多信息：http `.html()`: [//api.jquery.com/html](http://api.jquery.com/html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-12-24T08:02:20.323

innerText、outerText 属性不适用于 jQuery。使用原生 JS 风格。

`window.document.getElementById("ced").innerText;`

# javascript - 将下拉值附加到 url

> ID：15985797
> 
> 赞同：0
> 
> 时间：2013-04-13T08:23:38.460
> 
> 标签：javascript, html

我已经设法从以下元素将下拉值附加到我的 url。

```
<label class="login_label" for="usertype">I am</label>
<select name="usertype" size="1" id="usertype" class="select1"> 
<option value="0" selected="selected">Staff</option>
<option value="1">Student</option>
<option value="2">Parent</option>
</select> 
```

我通过附加 ?usertype=1 在 url 中选择 student 来做到这一点。但是，当代码看起来像这样：几乎相似时，它找不到方法来做到这一点。

```
<label class="login_label">I am</label>
<div id="loginselect" style="clear:both:">
<select name="usertype" size="1" id="usertype" class="select1"> 
<option value="0" selected="selected">Staff</option>
<option value="1">Student</option>
<option value="2">Parent</option>
</select> 
```

有人可以告诉我如何从 url 中的最后一个代码中输入值 1 吗？还是做不到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:27:09.620

如果我正确理解了您的问题，则将`<form>` `action`属性更改为`get`应该可以解决此问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-13T08:28:37.687

首先，你需要解析页面的url

```
function getParam ( sname )
{
  var params = location.search.substr(location.search.indexOf("?")+1);
  var sval = "";
  params = params.split("&");
    // split param and value into individual pieces
    for (var i=0; i<params.length; i++)
       {
         temp = params[i].split("=");
         if ( [temp[0]] == sname ) { sval = temp[1]; }
       }
  return sval;
} 
```

然后只需将 select 的值设置为来自 url 的参数

```
document.getElementById('usertype').value = getParam('usertype'); 
```

# scala - 使用返回不同数字类型值的方法定义特征

> ID：15985798
> 
> 赞同：0
> 
> 时间：2013-04-13T08:23:46.687
> 
> 标签：scala, numeric, traits

我有几个包含数值的类（该值可以有界，只能是正数，aso ...）

我必须根据这些类的“超类型”进行一些基本操作（如求和）。所以我为它定义了一个特征，认为它会是微不足道的......

这是我的代码的可运行摘录：

```
object Main extends App {

  trait WithValue[A] {
    def value: A
  }

  class BoundedNumber[A](val lower: A, val upper: A, val value: A) extends WithValue[A]

  case class NumberBetween0and99(value: Int) extends BoundedNumber[Int](0, 99, value)
  case class UnboundedPositiveInt(value: Int) extends WithValue[Int]
  case class UnboundedPositiveDouble(value: Double) extends WithValue[Double]

  override def main(args: Array[String]) {
    val map: Map[Symbol, WithValue[_]] = Map(
      'foo -> UnboundedPositiveDouble(5),
      'bar -> UnboundedPositiveInt(10),
      'baz -> NumberBetween0and99(55)
    )
    for (m <- map) println(5 + m._2.value)
  }
} 
```

for 循环失败：

```
overloaded method value + with alternatives: (...) cannot be applied to (Any) 
```

我在这个非常微不足道的问题上绕了几个小时……猜想我在 Scala 中的流利程度远非“流利”……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:46:33.160

我认为您可以通过使用类似的方法来解决您的问题：[Scala：如何定义“通用”函数参数？](https://stackoverflow.com/questions/1252915/scala-how-to-define-generic-function-parameters)

# javascript - 即使失去焦点，如何保持textarea文本选择留在那里

> ID：15985821
> 
> 赞同：1
> 
> 时间：2013-04-13T08:26:25.477
> 
> 标签：javascript, jquery

我有这个功能可以从 textarea 中获取选定的文本

```
function getSelText(){
    var text = "";
    if(window.getSelection){
        text = window.getSelection();
    }
    else if(document.getSelection){
        text = document.getSelection();
    }
    else if(document.selection){
        text = document.selection.createRange().text;
    }
    return text;
} 
```

我的文档中有一个文本区域和一个链接，如下所示

```
 <textarea id="txtarea2" cols="50" rows="10">This is Some Text</textarea>
 <a href="#" onclick="alert(getSelText())">Click Me</a> 
```

当我从文档中选择任何文本（但不是从 textarea 中）并单击“单击我”链接时，它会提醒所选文本。但是当我从 Textarea 中选择文本并单击“单击我”链接时，它会提醒空对话框然后我尝试了

```
window.onmouseup = function() {
    alert(getSelText());
} 
```

此功能会提醒我从文档中选择的值或从文本区域中选择的值。所以，这意味着函数是正确的。

现在，我想到了一个原因，即当我从 textarea 中选择任何文本部分并单击“单击我”链接时，选择会从 textarea 中消失，但是当我从文档中选择任何文本并单击“单击我”时链接选择保留在那里。可能是由于这个原因，它从 textarea 选择中给出了空值，因为当我单击“单击我”链接时，选择消失了。你最好分析一下。

# javascript - javascript：匹配字符串中的子字符串会磨损

> ID：15985822
> 
> 赞同：1
> 
> 时间：2013-04-13T08:26:26.460
> 
> 标签：javascript

以下代码工作正常

```
var srch_str = "snow"
var str = "snow Showers Late"
alert((new RegExp(srch_str)).test(str))   //true 
```

但是这个不是，我不明白为什么？

```
var weather_status = ['rain', 'cloudy', "snow", 'wind', 'thunderstorms' ]
    function getStatus(str){

        for(srch_str in weather_status){

            var bool = (new RegExp(srch_str)).test(str)
            if(bool){
                str = srch_str
                Ti.API.info("if ......")
                break;
            }
            else{
                Ti.API.info(" else ----------")
            }

        }//for

        return str
    } 
```

输出：else ------------（5次）

打电话时`getStatus("snow Showers Late")`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T08:32:57.467

当您使用 循环时`for(srch_str in weather_status)`，`srch_str`是数组的索引，而不是该索引处的元素。将正则表达式行更改为：

```
var bool = (new RegExp(weather_status[srch_str])).test(str); 
```

演示：http: [//jsfiddle.net/q688j/](http://jsfiddle.net/q688j/)

（调试提示：`console.log( srch_str )`会立即指出问题所在。）

# windows - VS 2010 & WP8 设备

> ID：15985828
> 
> 赞同：1
> 
> 时间：2013-04-13T08:27:35.557
> 
> 标签：windows, visual-studio-2010, windows-phone-7, windows-phone-8

我正在 Visual Studio 2010 (SDK 7.1) 中为 Windows 手机开发 XNA 应用程序。我想购买一台带 WP 的设备来进行实际测试。我想知道我是否可以在 VS 2010 的 WP8 设备（华为 Ascend W1）上运行 WP7 应用程序。谢谢

卢卡斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:20:54.487

您可以毫无问题地在 WP8 设备上运行任何 WP7 应用程序！

唯一可能遇到问题的情况是您的应用程序使用 FM Radio，因为 WP8 不支持它。

# ruby - 是否有“应该”最小的宝石？

> ID：15985830
> 
> 赞同：0
> 
> 时间：2013-04-13T08:27:45.997
> 
> 标签：ruby, unit-testing, minitest, expectations, fluent-assertions

我想在 minitest 中使用流利的断言类型的语法

```
result.should_be "my result"
result.should_be_true
result.should_contain "foo" 
```

是否有一些添加此功能的宝石？

我的请求来自[C# 中的类似想法](http://fluentassertions.codeplex.com/documentation)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T08:40:18.930

Minitest 已经为这种断言提供了自己的模块，它是[Minitest::Expectations](http://ruby-doc.org/stdlib-2.0/libdoc/minitest/rdoc/MiniTest/Expectations.html)

```
result.must_equal 'my result'
result.must_equal true
result.must_include 'foo'
result.wont_include 'bar' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:30:18.933

`rspec`添加此断言类型，您可以在此处查看 gem：[https ://github.com/rspec/rspec-rails](https://github.com/rspec/rspec-rails)

# visual-studio-2010 - 是否有一个很好的入门指南来实现 VS2010 和 VS2012 的自定义测试类型？

> ID：15985832
> 
> 赞同：1
> 
> 时间：2013-04-13T08:28:02.937
> 
> 标签：visual-studio-2010, visual-studio-2012, vs-extensibility

我正在寻找有关如何为 VS2010 和 VS2012 实现自定义测试类型的入门介绍。在谷歌搜索此信息时，我发现了一个如何在 VS2005 和 VS2008 上执行此操作的示例。我举了这个例子并尝试调整到 VS2010 SDK，但似乎某些类型在命名空间之间移动，并且不是那么明显。

任何人都可以提出一个更新的例子吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:34:44.410

有了 Visual Studio 2012 的新测试运行器，事情又发生了很大变化。鉴于[NUnit](http://nunit.org/index.php?p=download)和[xUnit.NET 测试运行](http://xunit.codeplex.com/SourceControl/changeset/view/157d8cd598497a03537e892d41e7977ae1573d06#src/xunit.runner.visualstudio/VsTestRunner.cs)器是开源的，并且将提供关于如何构建您自己的测试运行器和发现代码的非常好的示例。

2005-2010 年的代码示例不再适用于 2012 年。他们可能仍然受到支持，但这是前进的方向。对自定义 MsTest 测试类型的支持很好地隐藏在 UI 和 TFS 构建系统中。

# c# - 如何在 WPF 中更改 TableRow 的背景颜色？

> ID：15985836
> 
> 赞同：0
> 
> 时间：2013-04-13T08:28:51.603
> 
> 标签：c#, wpf, wpfdatagrid

我创建了一个表，当 MouseMove 发生时，我想更改 TableRow 的背景颜色，并且当 MouseLeave 发生时，它会回到 TableRow 的旧颜色。这是编码，但它不起作用。

```
currentRow.MouseMove += new MouseEventHandler(ShowRowColor);
currentRow.MouseLeave += new MouseEventHandler(HideRowColor);

void ShowRowColor(object sender, System.Windows.Input.MouseEventArgs e){
        TableRow tr = sender as TableRow;
        ColorAnimation animation = new ColorAnimation();
        animation.From = (tr.Background as SolidColorBrush).Color;
        animation.To = Colors.Indigo;
        animation.Duration = new Duration(TimeSpan.FromSeconds(5));
        tr.BeginAnimation(SolidColorBrush.ColorProperty,animation);
    }

    void HideRowColor(object sender, System.Windows.Input.MouseEventArgs e) {
        TableRow tr = sender as TableRow;
        ColorAnimation animation;
        animation = new ColorAnimation();
        animation.From = Colors.Indigo;
        animation.To = (tr.Background as SolidColorBrush).Color;
        animation.Duration = new Duration(TimeSpan.FromSeconds(1));
        tr.BeginAnimation(SolidColorBrush.ColorProperty,animation);
    } 
```

请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:52:32.250

您将希望在 的`Background`属性上启动动画，`TableRow`因为您需要定位 的`Color`属性`SolidColorBrush`

例子：

```
tr.Background.BeginAnimation(SolidColorBrush.ColorProperty, animation); 
```

# javascript - 我可以让 Google Drive 电子表格像 MySQL 数据库一样工作吗？

> ID：15985837
> 
> 赞同：20
> 
> 时间：2013-04-13T08:29:01.970
> 
> 标签：javascript, mysql, database, google-apps-script, google-drive-api

我可以像使用（类似于）MySQL 数据库一样使用 Google Drive 电子表格吗？

我正在考虑将其用作 HTML/JavaScript 网页游戏的玩家数据库。玩家的用户名、密码和分数等将保存在数据库中。如果它真的可以工作，那将非常有趣，但是它当然必须是安全和私密的，这样除了电子表格的所有者（例如我）之外，没有玩家（或互联网上的任何人）可以访问它.

我知道 Google Apps 脚本允许用户访问他们自己的电子表格并对其进行读/写，但是有没有一种方法可以让其他用户在我的电子表格中“保存他们的分数”而不授予他们查看/编辑的权限直接用电子表格？

另外，我假设必须使用 PHP/Python/其他一些服务器端语言来隐藏我的帐户信息，我还假设需要打开和关闭与我的电子表格的连接。

无论如何，我只是想知道这是否可行.. 从字面上将 Google Drive 电子表格变成一个数据库，玩家可以更新他们的分数，但不能直接访问它。

这可能是一个愚蠢的想法，所以欢迎您的意见！

提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-12-14T18:48:22.750

[这是正确的做法。](http://onlinejournalismblog.com/2009/05/19/using-google-spreadsheets-as-a-database-no-it-really-is-very-interesting-honest/) [另一个帖子](http://blog.ouseful.info/2009/05/18/using-google-spreadsheets-as-a-databace-with-the-google-visualisation-api-query-language/)解释了同样的想法。本质上，我们发布电子表格并使用类似“选择”的语法对其进行查询。例如： [这个查询](https://spreadsheets.google.com/tq?tqx=out%3ahtml&tq=select%20B,C,I&key=phNtm3LmDZEObQ2itmSqHIA)内容如下：

```
https://spreadsheets.google.com/tq?tqx=out:html&tq=select+B,C,I&key=phNtm3LmDZEObQ2itmSqHIA 
```

这是用于查询数据（读取）。对于插入，您可以使用 google 表单（创建一个表单，查看其 html 并使用 http post 请求提交）。我还没有探索更新。

是的，这必须在服务器端完成。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-13T14:18:21.140

说您需要额外的服务器或 oauth 的答案是不正确的。只需使用您的权限发布一个 appscript（匿名公共）服务。对于所有操作，始终传递用户名和密码，因此您可以在每次调用时验证用户。使用 ajax 从客户端 js 调用服务。将其存储在 scriptdb [更新：scriptDb 现已弃用]。如果您使用电子表格进行存储，它会因为很多行而变慢。

无论如何，如果您使用 appscript，它会很慢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T10:14:07.690

如果没有为客户端库实现另一个身份验证层并使用 Google 身份验证与 Drive 对话的服务器端服务，这是不可能的。

# java - 接口的代码是否应该包含注释？

> ID：15985838
> 
> 赞同：0
> 
> 时间：2013-04-13T08:29:17.513
> 
> 标签：java, object-oriented-analysis

Java 接口是否应该在其源代码中包含任何注释，或者只是实现该接口的类（或两者都有）？

例子：

```
 public interface Book{
      /**
        * Commentaries should be here?
        */
      void read();
 }

 public class Book{
      /**
        * Commentaries should be here?
        */
      void read();
 } 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:47:11.000

应记录 Java 接口。文档贯穿到实现接口的具体类。

这是记录界面的一个很好的例子。这些是[List 界面](http://www.docjar.com/html/api/java/util/List.java.html)开头的注释。注释不仅描述了接口做什么，还描述了接口不做什么。

我们都应该努力写出这样的评论。

```
/**
 * An ordered collection (also known as a <i>sequence</i>).  The user of this
 * interface has precise control over where in the list each element is
 * inserted.  The user can access elements by their integer index (position in
 * the list), and search for elements in the list.<p>
 *
 * Unlike sets, lists typically allow duplicate elements.  More formally,
 * lists typically allow pairs of elements <tt>e1</tt> and <tt>e2</tt>
 * such that <tt>e1.equals(e2)</tt>, and they typically allow multiple
 * null elements if they allow null elements at all.  It is not inconceivable
 * that someone might wish to implement a list that prohibits duplicates, by
 * throwing runtime exceptions when the user attempts to insert them, but we
 * expect this usage to be rare.<p>
 *
 * The <tt>List</tt> interface places additional stipulations, beyond those
 * specified in the <tt>Collection</tt> interface, on the contracts of the
 * <tt>iterator</tt>, <tt>add</tt>, <tt>remove</tt>, <tt>equals</tt>, and
 * <tt>hashCode</tt> methods.  Declarations for other inherited methods are
 * also included here for convenience.<p>
 *
 * The <tt>List</tt> interface provides four methods for positional (indexed)
 * access to list elements.  Lists (like Java arrays) are zero based.  Note
 * that these operations may execute in time proportional to the index value
 * for some implementations (the <tt>LinkedList</tt> class, for
 * example). Thus, iterating over the elements in a list is typically
 * preferable to indexing through it if the caller does not know the
 * implementation.<p>
 *
 * The <tt>List</tt> interface provides a special iterator, called a
 * <tt>ListIterator</tt>, that allows element insertion and replacement, and
 * bidirectional access in addition to the normal operations that the
 * <tt>Iterator</tt> interface provides.  A method is provided to obtain a
 * list iterator that starts at a specified position in the list.<p>
 *
 * The <tt>List</tt> interface provides two methods to search for a specified
 * object.  From a performance standpoint, these methods should be used with
 * caution.  In many implementations they will perform costly linear
 * searches.<p>
 *
 * The <tt>List</tt> interface provides two methods to efficiently insert and
 * remove multiple elements at an arbitrary point in the list.<p>
 *
 * Note: While it is permissible for lists to contain themselves as elements,
 * extreme caution is advised: the <tt>equals</tt> and <tt>hashCode</tt>
 * methods are no longer well defined on such a list.
 *
 * <p>Some list implementations have restrictions on the elements that
 * they may contain.  For example, some implementations prohibit null elements,
 * and some have restrictions on the types of their elements.  Attempting to
 * add an ineligible element throws an unchecked exception, typically
 * <tt>NullPointerException</tt> or <tt>ClassCastException</tt>.  Attempting
 * to query the presence of an ineligible element may throw an exception,
 * or it may simply return false; some implementations will exhibit the former
 * behavior and some will exhibit the latter.  More generally, attempting an
 * operation on an ineligible element whose completion would not result in
 * the insertion of an ineligible element into the list may throw an
 * exception or it may succeed, at the option of the implementation.
 * Such exceptions are marked as "optional" in the specification for this
 * interface.
 *
 * <p>This interface is a member of the
 * <a href="{@docRoot}/../technotes/guides/collections/index.html">
 * Java Collections Framework</a>.
 *
 * @param <E> the type of elements in this list
 *
 * @author  Josh Bloch
 * @author  Neal Gafter
 * @see Collection
 * @see Set
 * @see ArrayList
 * @see LinkedList
 * @see Vector
 * @see Arrays#asList(Object[])
 * @see Collections#nCopies(int, Object)
 * @see Collections#EMPTY_LIST
 * @see AbstractList
 * @see AbstractSequentialList
 * @since 1.2
 */ 
```

# java - 简单的唯一随机数生成循环错误JAVA Android

> ID：15985843
> 
> 赞同：1
> 
> 时间：2013-04-13T08:29:39.457
> 
> 标签：java, android, loops, random

我正在尝试从 0-11 生成一个唯一的随机数，并使用它为 TextBox 分配一些唯一字符的索引。这是代码

```
 int[] previous_random = {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1};//initialized with invalid values

       int current_random;

       Random r_int = new Random();

       boolean match = false;

       for (int n=0;n<=11;n++)
        {
            gb[n] = (TextView)findViewById(IDs[n]);//assigning IDs from XML to java text boxes

        }
       int i = 0;
       while (i<=11)
            {
                current_random = r_int.nextInt(11);//generating a random int from 0-11

                int j =0;
                while (j<=11)
                {
                    if (current_random == previous_random[j])
                        {

                        match = true;break;//match = true shows that this random was used before to skip the loop
                        }
                    j++;
                }   
if(match == false)
      {
    gb[i].setText(randomized_final.charAt(current_random) + "\0");//randomized_final is a string not visible in current code
    previous_random[i] = current_random;//*******PROBLEM HERE************

                }

else
    continue;

i++;

} 
```

}

现在的问题是标有**** *PROBLEM HERE* ****的部分导致程序停止响应并导致该应用程序的 CPU 使用率超过 50% 但应用程序没有崩溃，它只是显示带有顶部栏的空白屏幕。部分应该存储新的唯一随机数，并且存储用于以后的比较，如果我删除这部分，那么代码工作正常，除了我得到重复的随机数（这不是我想要的）。

请告诉我我做错了什么。或者告诉任何替代方法来做到这一点。我也尝试过 for 循环。已经尝试了几个小时的许多替代方法！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:37:47.817

我见过这种问题用作面试问题。一个可能的解决方案如下：

1）创建一个包含数字 0-11 的整数集合（可能是列表？）

2）[洗牌](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#shuffle%28java.util.List%29)该列表。

3）每次你想要一个新的唯一数字时，返回列表中的下一个元素。

在代码中它看起来像：

```
ArrayList<Integer> list = new ArrayList();
for(int i=0;i<=11;i++){
    list.add(i);
}
Collections.shuffle(list); 
```

# ruby-on-rails - 将值数组提交到 ruby on rails 中的关联表

> ID：15985846
> 
> 赞同：0
> 
> 时间：2013-04-13T08:30:16.680
> 
> 标签：ruby-on-rails, simple-form, has-many, belongs-to

我想将一组值从一个关联模型放到另一个模型中。如果我的学生有一天到达，我正在制作一个注册网站。所以我有一个有很多“学生模型”的“日模型”。我希望我的同事能够检查在校的学生，并能够创建一个包含许多学生的日实例。

我可以获得多个参数，但我无法将多个 student_id 保存到日模型中。这就是我现在所拥有的。

*日控制器*

```
 class DaysController < ApplicationController
    def new
        @days = Day.new
        @students = Student.all
    end
    def create
    @day = Day.new(params[:days])
    if @day.save
      redirect_to @day, :notice => "Successfully created student."
    else
      render :action => 'new'
    end
  end

  def show
    @day = Day.find(params[:id])

  end
end 
```

*日模型*

```
class Day < ActiveRecord::Base
 attr_accessible :student_id
  has_many :students
end 
```

*学生模型*

```
 class Student < ActiveRecord::Base
  attr_accessible :name, :group_id, :phone, :parentsphone
  validates :phone, :numericality => {:only_integer => true}
  belongs_to :days
end 
```

*意见/天/new.html.erb*

```
<%= simple_form_for @days do |f| %>
<%= f.collection_check_boxes :students,
                             Student.all,
                             :id,
                             :name,
                             :input_html => { :class => 'checkbox' },
                             :checked => @days.students %>

<%= f.submit "Skapa dag" %>
<% end %> 
```

*痕迹*

```
Started POST "/days" for 127.0.0.1 at 2013-04-12 22:52:11 +0200
Processing by DaysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yCwSiZCVR2Cy9qDMnQtPfQt9hysl975pqjW8nFPI828=", "day"=>{"students"=>["5", "14", "15", ""]}, "commit"=>"Skapa dag"}
   (0.1ms)  begin transaction
  SQL (18.3ms)  INSERT INTO "days" ("created_at", "student_id", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 12 Apr 2013 20:52:11 UTC +00:00], ["student_id", nil], ["updated_at", Fri, 12 Apr 2013 20:52:11 UTC +00:00]]
   (1.3ms)  commit transaction
Redirected to http://localhost:3000/days/5
Completed 302 Found in 25ms (ActiveRecord: 19.7ms) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:01:24.157

问题出在数据库逻辑上。你需要有一个 has_many_through 关系才能工作。

试试这个指南[http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association](http://guides.rubyonrails.org/association_basics.html#the-has_many-through-association)

# php - 如何传递数组和变量以在 codigniter 中查看

> ID：15985849
> 
> 赞同：-1
> 
> 时间：2013-04-13T08:30:50.313
> 
> 标签：php, arrays, codeigniter, templates, variable-assignment

我想将一个数组和两个变量传递给我的视图我的数组已成功传递给视图，但是这两个变量是未定义的。谁能帮助我如何将这些值传递给视图。我尝试了索引，然后模型不起作用。

我的控制器

```
$Semister=$this->input->post('Semister');
    $Dept=$this->input->post('Dept');
    $this->load->model('Upload_Result_Model');
    $data['subjects']=$this->Upload_Result_Model->getAllSubjects($Semister,$Dept);
    $data['student']=$this->Upload_Result_Model->getAllStudent($Semister,$Dept);
    $this->load->view('Faculty/upload_mid_result',$data,$Dept,$Semister); 
```

我的观点

```
<h3>Department: <?php echo $Dept;?></h3> //error Undefined variable: Dept
<h3>Semister: <?php echo $Semister;?></h3> ////error Undefined variable: Dept 
```

谁能帮我解决这个问题。除了 $dept 和 $Semister 之外，一切都很好。谢谢我提前

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:32:01.563

在您的控制器中使用`$data['semister'] = $Semister`和`$data['dept'] = $Dept`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:32:32.497

尝试这个，

```
$data['Semister'] =$this->input->post('Semister');
$data['Dept']     =$this->input->post('Dept');
$this->load->model('Upload_Result_Model');
$data['subjects']=$this->Upload_Result_Model->getAllSubjects($data['Semister'],$data['Dept']);
$data['student']=$this->Upload_Result_Model->getAllStudent($data['Semister'],$data['Dept']);
$this->load->view('Faculty/upload_mid_result',$data); 
```

您可以像现在访问一样直接访问视图中的所有变量。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:40:45.520

将数据发送到视图很容易

```
$this->load->model('Upload_Result_Model');

$semister   =   $this->input->post('Semister');
$Dept       =   $this->input->post('Dept');

$data['semister']   =   $semister;
$data['dept']       =   $Dept;
$data['subjects']   =   $this->Upload_Result_Model->getAllSubjects($Semister,$Dept);
$data['student']    =   $this->Upload_Result_Model->getAllStudent($Semister,$Dept);

$this->load->view('Faculty/upload_mid_result',$data); 
```

`$data`数组在视图方法中应用 php extract，您可以像这样在视图中使用数组的索引

```
echo $semister;
echo '<br>';
echo $dept;
echo '<br>';

echo '<pre>';   
print_r($subjects);
echo '<pre>';   
print_r($student); 
```

# c++ - C++ MySQL连接器链接错误

> ID：15985852
> 
> 赞同：0
> 
> 时间：2013-04-13T08:31:15.387
> 
> 标签：c++, mysql, linker

我正在尝试使用这个例子

> [http://dev.mysql.com/doc/refman/5.6/en/connector-cpp-examples-complete-example-1.html](http://dev.mysql.com/doc/refman/5.6/en/connector-cpp-examples-complete-example-1.html)

我正在下载 c++ 连接器，将 dll 放在这里：

`C:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\lib`

和包含文件夹的标题。

然后我下载`boost`，转到项目属性、C/C++、常规，并将其添加到附加包含目录。

我已经创建了 c++ 控制台应用程序并尝试运行项目，但我有错误：

[http://img687.imageshack.us/img687/148/54826950.jpg](http://img687.imageshack.us/img687/148/54826950.jpg)

请告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T11:19:53.477

可能是由于 Project Properties->Linker->Input
[http://dev.mysql.com/doc/refman/5.6/en/connector-cpp-apps-windows-visual-studio.html](http://dev.mysql.com/doc/refman/5.6/en/connector-cpp-apps-windows-visual-studio.html)
中缺少 mysqlcppconn.lib 详细演练关于如何在您的项目中使用 mysqlcppconn。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T11:08:24.980

存在链接器问题。检查您是否已将`MySQL connector`的库 *.DLL 包含到项目的构建（链接）设置中。或者链接器找不到外部函数的实现位置。仅包含头文件是不够的。

PS：使用空的root密码是一个不好的决定。

# asp.net-mvc - 如何在asp.net mvc中的定期时间间隔后自动更新数据库

> ID：15985855
> 
> 赞同：0
> 
> 时间：2013-04-13T08:31:49.920
> 
> 标签：asp.net-mvc, background-process

我想在定期的时间间隔后自动更新我的数据库，执行此任务的更合适的过程是什么？我的项目在 ASP.net MVC 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:41:19.903

Could take a look at webbackgrounder [https://github.com/NuGet/WebBackgrounder](https://github.com/NuGet/WebBackgrounder)

Very basic and simple task runner. Check the related nuget packages. For anything complex use quartz.net.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:43:36.060

看看quartz.net。它是用于此类任务的库。教程在[http://quartznet.sourceforge.net/tutorial/](http://quartznet.sourceforge.net/tutorial/)

# java - 如何在 servlet 容器中使用 apache shiro 仅在 http 请求期间缓存数据？

> ID：15985858
> 
> 赞同：0
> 
> 时间：2013-04-13T08:32:04.917
> 
> 标签：java, jakarta-ee, servlets, shiro

更具体地说，我发现我正在实现一个 custom ，`AuthorizingRealm`它分别声明了模板方法`doGetAuthenticationInfo()`和`doGetAuthorizationInfo()`返回对象。`AuthenticationInfo``AuthorizationInfo`

但是，当我在 doGetAuthenticationInfo() 中检索 AuthenticationInfo（一个 JPA 实体）的数据时，我发现我已经拥有了必要的 AuthorizationInfo。唉，没有明显的好方法来保留这些数据，所以当授权过滤器最终在过滤器链中轮到它时，我不得不把它扔掉，只为了执行另一个 JPA 查找。

看哪：

```
public class CustomRealm extends AuthorizingRealm {

  @Override
  protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) {
    UsernamePasswordToken userPassToken = (UsernamePasswordToken) token;
    String username = userPassToken.getUsername()

    User user; // Contains username, password, and roles
    // Perform JPA lookup by username...
    return constructSimpleAuthenticationInfoFromUser(user);
  }

  @Override
  protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principals) {
    // Look up user again? :(
    ...
  }
} 
```

我考虑了多种可能性：

1.  **使用领域缓存**。该应用程序将在分布式环境中运行，因此可以运行任意数量的 JVM。默认领域缓存管理器实现并不能解决所有固有问题，并且设置企业实现似乎超出了该项目的范围。
2.  **使用主题的会话**。没有服务器端状态，如果可能的话，我想保持这种状态。也许您可以强制会话表现得像请求范围，但我不知道该怎么做，并且有被混淆的风险。
3.  **实现我自己的 Subject**。每个请求似乎通常有一个 Subject 实例，但不清楚如何引导它，我可能会失去很多潜在的功能。
4.  **使用 Shiro ThreadContext 对象**。我可以将数据作为线程本地属性附加到 ThreadContext。Servlet 容器通常遵循每个请求线程的模型，并且 Subject 实例本身似乎在这里冷静下来，等待其不可避免的垃圾收集。Shiro 似乎也自动建立和拆除上下文。但是，这方面的文档并不多，而且我很难理解源代码。

最后，默认的 WebSecurityManager 保留了 CustomRealm 的单例实例，似乎每个 JVM 一个。简单地设置一些本地实例属性不是线程安全的。

这似乎是一种常见的数据检索选项和典型的部署方案。那么，我错过了什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:36:13.473

我会选择选项 4 -`ThreadLocal`根据您的要求使用对象清楚地表明对象生存期必须是 http 请求。

看看这个讨论：[何时以及如何使用 ThreadLocal 变量？](https://stackoverflow.com/questions/817856/when-and-how-should-i-use-a-threadlocal-variable)

ThreadLocal 文档：[http ://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html](http://docs.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html)

# arm - ARM-Cortex-A8（beagle 板）上的嵌入式 Linux 移植

> ID：15985860
> 
> 赞同：0
> 
> 时间：2013-04-13T08:32:27.127
> 
> 标签：arm

我正在使用 ARM-Cortex A8 处理器在 Beagle Board 上移植嵌入式 linux 操作系统。我想在操作系统中添加 insmod 和 rmmod 以及我的驱动程序的功能。

请帮助我这样做，以便我的驱动程序可以在我的电路板上正常工作。

谢谢喜满士

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-30T20:55:05.100

您将必须在 Image BUILD insmod 中包含您的驱动程序，并且 rmmod 不会在重新启动后将您的驱动程序保留在那里每次启动时插入您的驱动程序肯定是不合适的

# javascript - 母版页和 jquery 问题

> ID：15985863
> 
> 赞同：0
> 
> 时间：2013-04-13T08:32:57.477
> 
> 标签：javascript, jquery, asp.net

当我在母版页的 ContentPlaceholder 之外保留对 jquery 和其他 javascript 代码和标记的引用时，jquery 可以工作但不在其中。但问题是，当我将 javacript 脚本标签保留在 contentplaceholder 之外时，会出现提示无效代码黑色 <% %> 的错误。该怎么办？我使用 Scriptmanager 加载 jquery 但没有用..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T10:49:28.747

在内容持有人之前/之外尝试这个

```
<script src="<%# Page.ResolveUrl("~")%>jquery/jq.js" type="text/javascript"></script> 
```

# asp.net - 如何在 Umbraco 后台（管理面板）中自定义保存和发布？

> ID：15985865
> 
> 赞同：1
> 
> 时间：2013-04-13T08:33:10.003
> 
> 标签：asp.net, events, umbraco

例如，在保存和发布数据之前，我想操作数据（处理数据），例如检查数据，在 UrlRewriting.config 文件中添加更短的 URL 并自动喜欢这些。当我删除或取消发布节点时，我想要自动从 UrlRewriting.config 文件中删除较短的 URL。另一方面，我希望**完全控制 Umbraco 后台的保存、发布和删除过程。** 请帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-13T20:33:40.167

如果您想更改节点的 URL，您可以通过修改[`umbracoUrlAlias`](http://our.umbraco.org/wiki/reference/umbraco-best-practices/umbracourlalias)属性轻松地做到这一点，而不是在 URLRewriting.config 中添加条目。

至于在保存、发布、删除节点等时添加逻辑，您要做的是创建一个订阅多个[Umbraco 事件](http://our.umbraco.org/wiki/reference/api-cheatsheet/using-applicationbase-to-register-events/overview-of-all-events)中的一个或多个事件并在那里执行逻辑的类。有关更多详细信息，请参阅[应用程序启动事件和事件注册](http://our.umbraco.org/documentation/Reference/Events/application-startup)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-10-15T00:59:22.317

以下是一些示例：

```
public class SaveAndPublish : ApplicationEventHandler
{
    protected override void ApplicationStarting(UmbracoApplicationBase umbracoApplication, ApplicationContext applicationContext)
    {
        // Content Service
        ContentService.Created += ContentService_Created;
        ContentService.Saving += ContentService_Saving;
        ContentService.Published += ContentService_Published;
        ContentService.Trashing += ContentService_Trashing;

        // Media Service
        MediaService.Saving += MediaService_Saving;
        MediaService.Saved += MediaService_Saved;
        MediaService.Trashing += MediaService_Trashing;
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void ContentService_Created(IContentService sender, NewEventArgs<IContent> e)
    {
        ...
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void ContentService_Saving(IContentService sender, SaveEventArgs<IContent> e)
    {
        ...
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void ContentService_Published(Umbraco.Core.Publishing.IPublishingStrategy sender, PublishEventArgs<IContent> e)
    {            
        ...
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void ContentService_Trashing(IContentService sender, MoveEventArgs<IContent> e)
    {
        ...
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void MediaService_Saving(IMediaService sender, SaveEventArgs<IMedia> e)
    {
        ...
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void MediaService_Saved(IMediaService sender, SaveEventArgs<IMedia> e)
    {
        foreach (var entity in e.SavedEntities)
        {
            ...
        }
    }

    /// <summary>
    /// 
    /// </summary>
    /// <param name="sender"></param>
    /// <param name="e"></param>
    void MediaService_Trashing(IMediaService sender, MoveEventArgs<IMedia> e)
    {
        ...
    }
} 
```

# iphone - 隐藏标签栏项目并对齐其他标签项目

> ID：15985869
> 
> 赞同：5
> 
> 时间：2013-04-13T08:33:29.630
> 
> 标签：iphone, ios, xib, uitabbar, uitabbaritem

在我的应用程序中，我有 4 个标签栏项目。我在 XIB 文件中添加了这 4 个选项卡栏项目。

最初我必须显示 3 个标签栏项目，同步后我必须在我的应用程序中显示第 4 个标签栏项目。因此，为此，我使用以下代码隐藏第 4 个标签栏项目。

```
[[[self.tabBarController.tabBar subviews] objectAtIndex:03 setHidden:YES]; 
```

选项卡项目正在隐藏，但我有空格代替隐藏项目。有没有机会在完整的标签栏中对齐其他 3 个项目。问题是我不想在标签栏中显示空白区域或空白区域。

谢谢吉腾

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-13T08:43:06.987

如果要重新排列 tabBar 的项目，则必须从控制器列表中删除控制器，而不是隐藏它。您可以使用此代码来实现此目的：

```
NSMutableArray *controllers = [NSMutableArray arrayWithArray:self.tabBarController.viewControllers];
[controllers removeObjectAtIndex:3];
[self.tabBarController setViewControllers:controllers animated:YES]; 
```

# javascript - 已声明和未声明变量的影响

> ID：15985875
> 
> 赞同：29
> 
> 时间：2013-04-13T08:34:01.957
> 
> 标签：javascript, variables, global-variables, variable-declaration

JavaScript 声明变量和未声明变量之间的主要区别是什么，因为 delete 运算符不适用于声明的变量？

```
 var y = 43;     // declares a new variable
 x = 42;

 delete x;       // returns true  (x is a property of the global object and can be deleted)
 delete y;       // returns false (delete doesn't affect variable names) 
```

为什么会这样？全局声明的变量也是window对象的属性，为什么不能删除呢？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-15T03:43:09.887

# Declared and undeclared global variables

The mechanism for storing and accessing them is the same, but JavaScript treats them differently in some cases based on the value of the `configurable` attribute (described below). In regular usage, they should behave the same.

## Both exist in the global object

Below are some comparisons of *declared* and *undeclared* global variables.

```
var declared = 1;  // Explicit global variable (new variable)
undeclared   = 1;  // Implicit global variable (property of default global object)

window.hasOwnProperty('declared')    // true
window.hasOwnProperty('undeclared')  // true

window.propertyIsEnumerable('declared')    // true
window.propertyIsEnumerable('undeclared')  // true

window.declared     // 1
window.undeclared   // 1

window.declared   = 2;
window.undeclared = 2;

declared     // 2
undeclared   // 2

delete declared     // false
delete undeclared   // true
delete undeclared   // true (same result if delete it again)

delete window.declared     // false
delete window.undeclared   // true (same result if delete it yet again)
delete window.undeclared   // true (still true) 
```

Both *declared* and *undeclared* global variables are properties of the `window` object (the default global object). Neither one is inherited from a different object through the prototype chain. They both exist directly in the `window` object (since [`window.hasOwnProperty`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty) returns `true` for both).

## The configurable attribute

For *declared* global variables, the `configurable` attribute is `false`. For *undeclared* global variables, it's `true`. The value of the `configurable` attribute can be retrieved using the [`getOwnPropertyDescriptor`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor) method, as shown below.

```
var declared = 1;
undeclared = 1;

(Object.getOwnPropertyDescriptor(window, 'declared')).configurable     // false
(Object.getOwnPropertyDescriptor(window, 'undeclared')).configurable   // true 
```

If the `configurable` attribute of a property is true, the attributes of the property can be changed using the [`defineProperty`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty) method, and the property can be deleted using the [`delete`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete) operator. Otherwise, the attributes cannot be changed, and the property cannot be deleted in this manner.

In [non-strict mode](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode), the `delete` operator returns `true` if the property is configurable, and returns `false` if it's non-configurable.

## Summary

**Declared global variable**

*   Is a property of the default global object (`window`)
*   The property attributes *cannot* be changed.
*   *Cannot* be deleted using the `delete` operator

**Undeclared global variable**

*   Is a property of the default global object (`window`)
*   The property attributes *can* be changed.
*   *Can* be deleted using the `delete` operator

## See also

*   [delete operator](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete)
*   [Object.defineProperty](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty)
*   [Object.getOwnPropertyDescriptor](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor)
*   [hasOwnProperty](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)
*   [Strict mode](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:38:51.347

主要区别在于您在函数内声明变量时。如果`var`在函数内声明变量时使用，则该变量将成为局部变量。但是，如果您不使用`var`，那么无论您在哪里声明它（在函数内部或外部），该变量都会成为全局变量。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-18T16:35:12.253

**当通过JavaScript**中的变量声明创建任何变量时，这些属性是使用“ **DontDelete** ”属性创建的，这基本上意味着您创建的变量不能使用“delete”表达式删除。默认情况下，所有函数、参数、函数参数都是使用此 DontDelete 属性创建的。您可以将 DontDelete 视为一个标志。

```
var y = 43;
delete y;         //returns false because it is has a DontDelete attribute 
```

而未声明的分配没有设置任何属性，例如**DontDelete**。因此，当我们对这个未声明的变量应用**删除**运算符时，它会返回 true。

```
x = 42;
delete x;        //returns true because it doesn't have a DontDelete attribute 
```

属性赋值和变量声明之间的区别——后者设置了 DontDelete，而前者没有。这就是未声明的赋值创建可删除属性的原因。

[有关删除运算符如何工作的链接](http://perfectionkills.com/understanding-delete/#built_ins_and_dontdelete)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T08:39:06.457

delete 仅对对象的属性有效。它对变量或函数名称没有影响。

在你的情况下 x = 42; 声明变量 X 并使其成为 Global 对象的属性。所以它返回true。

和 var y = 43; 声明一个不属于任何对象的全局变量，因此它返回 false。

# matlab - 一个数出现在矩阵中的概率

> ID：15985876
> 
> 赞同：0
> 
> 时间：2013-04-13T08:34:12.577
> 
> 标签：matlab, matrix, row, probability

我正在使用Matlab，很容易找到矩阵中元素的概率，但我有点不确定如何找到行或列中元素的概率。

例如这个矩阵：

```
X = [
    1 2 4 1 8; 
    5 3 6 9 2; 
    6 2 2 3 2
    ]; 
```

我如何找到这个随机矩阵的每一行和每一列中出现“2”的概率。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:23:18.423

您可以执行以下操作：

```
X_unique = unique(X);
p_row = zeros(size(X,1),numel(X_unique));
p_col = zeros(size(X,2),numel(X_unique));

for ii = 1:size(X,1)
    p_row(ii,:) = hist(X(ii,:),X_unique);
    p_row(ii,:) = p_row(ii,:)/sum(p_row(ii,:));
end

for ii = 1:size(X,2)
    p_col(ii,:) = hist(X(:,ii),X_unique);
    p_col(ii,:) = p_col(ii,:)/sum(p_col(ii,:));
end 
```

现在， 的每一行`p_row`包含 的`unique(X)`对应行中的元素的概率分布，`X`并且 的每一行`p_col`包含 的`unique(X)`对应列中的元素的概率分布`X`。

例如，对于给定的示例，

```
X_unique =

     1
     2
     3
     4
     5
     6
     8
     9 
```

因此，

```
p_row =

    0.4000    0.2000         0    0.2000         0         0    0.2000         0
         0    0.2000    0.2000         0    0.2000    0.2000         0    0.2000
         0    0.6000    0.2000         0         0    0.2000         0         0

p_col =

    0.3333         0         0         0    0.3333    0.3333         0         0
         0    0.6667    0.3333         0         0         0         0         0
         0    0.3333         0    0.3333         0    0.3333         0         0
    0.3333         0    0.3333         0         0         0         0    0.3333
         0    0.6667         0         0         0         0    0.3333         0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T09:25:46.277

这是一个简单的、不太像 Matlab 的解决方案，它适用于非空二维矩阵，查找值为“2”的元素，并按列返回概率：

```
a = [1 2 4 1 8; 5 3 6 9 2; 6 2 2 3 2];

nrows = size(a,1);
ncols = size(a,2);
pc    = zeros(1, ncols); % Prob. by column

% Iterate trough columns
for k = 1:ncols
        n     = sum(a(:,k) == 2);
        pc(k) = n/nrows;
end; 
```

您可以调整它以按行或其他维度计算“概率”，或查找其他值。

# lisp - 为什么有些人在 Common Lisp 中使用 #'(lambda 而不仅仅是 (lanbda？

> ID：15985877
> 
> 赞同：2
> 
> 时间：2013-04-13T08:34:36.127
> 
> 标签：lisp, common-lisp

为什么有些使用`#'(lambda`而不是只`(lambda`在 Common Lisp 中使用？有性能优势还是什么？

因为，正如 Peter Siebel 和其他人所解释的那样，在 CL 中，*“以下 LAMBDA 表达式：`(lambda () 42)`在其评估的上下文中出现时扩展为以下内容：`(function (lambda () 42))`”*。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:44:21.430

除了几毫秒的编译时间和几毫秒的读取时间之外，没有性能优势:)

我认为真正的原因是一致性。如果一个人写`(mapcar #'myfunc ...)`（不只是`(mapcar myfunc ...)`），那么写也是很自然的`(mapcar #'(lambda ...) ...)`。

# java - 检查 JUnit 是否没有抛出异常

> ID：15985878
> 
> 赞同：0
> 
> 时间：2013-04-13T08:34:51.607
> 
> 标签：java, exception, junit

我想使用 JUnit 来确保在我的程序执行期间不会引发异常。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T08:41:13.183

如果您使用 JUnit 4，您的测试方法将使用`@Test`. 只要您不指定`expected`属性，*任何*异常都会导致该测试失败。有关详细信息，请参阅[JUnit 常见问题解答](http://junit.sourceforge.net/doc/faq/faq.htm#tests_8)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-13T08:40:28.630

如果 JUnit 抛出未处理的异常，JUnit 会说您的函数没有按预期执行（例如，当 a`AssertTrue`返回 fals 时）。所以，只是不要在 JUnit 中捕捉它，你应该没问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-13T15:10:46.390

我假设您正在尝试创建一个出色的测试用例，以确保不会在生产模式下引发特定异常。一个好的方法是，在 Sprint 测试和集成测试短语中，尝试列出所有潜在的用例并寻求 QA 的帮助。对于这些情况，使用 AssertTrue 足以让所有这些都通过。

# android - 安卓相机效果

> ID：15985879
> 
> 赞同：-6
> 
> 时间：2013-04-13T08:35:12.657
> 
> 标签：android, camera

我正在做一个项目，我想设置显示的屏幕对比度，但不是保存的图像。我正在研究相机的效果。我发现了以下参数：

```
String   EFFECT_AQUA

String   EFFECT_BLACKBOARD

String   EFFECT_MONO

String   EFFECT_NEGATIVE

String   EFFECT_NONE

String   EFFECT_POSTERIZE

String   EFFECT_SEPIA

String   EFFECT_SOLARIZE

String   EFFECT_WHITEBOARD 
```

我想知道如何使用它们以及它们之间的区别。另外，你能举个例子来告诉我如何使用它们。

顺便说一下，我也看了下 EffectFactory。我发现了类似“String EFFECT_CONTRAST”的东西，它只适用于保存的图像而不是屏幕显示吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T08:44:41.663

首先，在布局中添加这些按钮。

```
<Button
    android:id="@+id/captureFront"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:onClick="onCaptureClick"
    android:text="Take Photo" />

<Button
    android:id="@+id/sepia"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_centerHorizontal="true"
    android:onClick="onSepiaClick"
    android:text="Sepia"
    android:visibility="visible" />

<Button
    android:id="@+id/none"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:onClick="onNoneClick"
    android:text="None" />

<Button
    android:id="@+id/solarize"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_alignParentRight="true"
    android:onClick="onSolarizeClick"
    android:text="Solarize" />

<Button
    android:id="@+id/mono"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:onClick="onMonoClick"
    android:text="Mono" />

<Button
    android:id="@+id/negative"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentTop="true"
    android:onClick="onNegativeClick"
    android:text="Negative" /> 
```

那么这里是每个的 onClick 方法

```
 public void onNoneClick(View view){
    p = camera.getParameters();
    p.setColorEffect("none");
    camera.setParameters(p);
}

public void onMonoClick(View view){
    p = camera.getParameters();
    p.setColorEffect("mono");
    camera.setParameters(p);
}

public void onSepiaClick(View view){
    p = camera.getParameters();
    p.setColorEffect("sepia");
    camera.setParameters(p);
}
public void onSolarizeClick(View view){
    p = camera.getParameters();
    p.setColorEffect("solarize");
    camera.setParameters(p);
}
public void onNegativeClick(View view){
    p = camera.getParameters();
    p.setColorEffect("negative");
    camera.setParameters(p);
} 
```

只是 p`private Camera.Parameters p;` 和 camera 是`private Camera camera;`

## 编辑

```
public static Bitmap doBrightness(Bitmap src, int value) {
    // image size
    int width = src.getWidth();
    int height = src.getHeight();
    // create output bitmap
    Bitmap bmOut = Bitmap.createBitmap(width, height, src.getConfig());
    // color information
    int A, R, G, B;
    int pixel;

    // scan through all pixels
    for(int x = 0; x < width; ++x) {
        for(int y = 0; y < height; ++y) {
            // get pixel color
            pixel = src.getPixel(x, y);
            A = Color.alpha(pixel);
            R = Color.red(pixel);
            G = Color.green(pixel);
            B = Color.blue(pixel);

            // increase/decrease each channel
            R += value;
            if(R > 255) { R = 255; }
            else if(R < 0) { R = 0; }

            G += value;
            if(G > 255) { G = 255; }
            else if(G < 0) { G = 0; }

            B += value;
            if(B > 255) { B = 255; }
            else if(B < 0) { B = 0; }

            // apply new pixel color to output bitmap
            bmOut.setPixel(x, y, Color.argb(A, R, G, B));
        }
    }

    // return final image
    return bmOut;
}

  int brightness;
 SeekBar seekbarbrightness=(SeekBar)findViewById(R.id.seekBar1);
 seekbarbrightness.setOnSeekBarChangeListener(new OnSeekBarChangeListener() {

         @Override
         public void onStopTrackingTouch(SeekBar arg0) {
          // TODO Auto-generated method stub

         }

         @Override
         public void onStartTrackingTouch(SeekBar arg0) {
          // TODO Auto-generated method stub

         }

         @Override
         public void onProgressChanged(SeekBar arg0, int progress, boolean arg2) {

             // TODO Auto-generated method stub

             brightness=progress;
             Bitmap bitmap=doBrightness(originalbitmap,brightness);
             imageView.setImageBitmap(bitmap);
         }
        }); 
```

好吧，这将适用于位图，但您可以修改它以使用您想使用的任何东西！

# html - 段落旁边的无序列表，在同一级别，不重叠

> ID：15985880
> 
> 赞同：0
> 
> 时间：2013-04-13T08:35:23.863
> 
> 标签：html, css

我正在尝试在用作副标题的段落旁边创建一个无序列表，但是该列表被压缩成一个项目的大小，然后项目彼此堆叠。

我还希望它们在同一级别上并排，但都分别与标题元素的左侧和右侧对齐。

[这](http://jsfiddle.net/Zz6Xs/)是我到目前为止所得到的。您可以看到堆叠列表以及将它们并排放置的尝试，但我相信有更好的方法来做到这一点。

这就是我尝试将字幕和列表放在同一级别上的内容（另请查看 jsfiddle）：

```
.subtitle {
    ..
    margin-top: -40px;
    ..
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T08:42:10.953

你不应该只浮动`li`. 您必须内联并向右`p`浮动[http://jsfiddle.net/Zz6Xs/12/](http://jsfiddle.net/Zz6Xs/12/)`nav`

```
nav {
   float: right; 
}

.subtitle {
    display: inline;
    ...

nav ul {
    margin-top: 0;    
} 
```

大多数 HTML 元素都有默认的填充和边距设置，它们因浏览器而异。许多人使用[CSS 重置系统](http://developer.yahoo.com/yui/reset/)来获得跨浏览器的一致外观。请参阅[此示例，](http://jsfiddle.net/Zz6Xs/13/)就像您所拥有的一样，但必须自己重置边距

如果可以使用 HTML 5，则比使用浮点数更好的是[flex box 模型](http://jsfiddle.net/Zz6Xs/15/)`nav`。在下面的示例中，我们告诉占用所有剩余空间，而`p`只需要它的宽度

CSS

```
section {
     display: box;  
     box-orient: horizontal;    
}

nav  {
      box-flex: 1;
      text-align: end;
} 
```

HTML

```
<section>    
    <p class="subtitle">Subtitle </p>
    <nav><ul>
        <li class="menu">Item 1</li>
        <li class="menu">Item 2</li>
        <li class="menu">Itemmm</li>
    </ul></nav>
</section> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:56:39.110

还可以尝试删除负边距并将元素上的填充和边距归零。

```
header {
    width: 50% ;
    margin:0 auto;
}

h1 {
    font-size: 50px;
    color: #33B5E5;
}

h1,p,nav,ul{
        padding:0;
    margin:0;
}

.subtitle {
    color: #33B5E5;
    float:left;
    width:20px
}
ul{
    float:right;
}

.menu {
    display: inline;
    width: 20%;
} 
```

# join - jpa 2查询使用连接表检索数据

> ID：15985887
> 
> 赞同：0
> 
> 时间：2013-04-13T08:36:56.363
> 
> 标签：join, jpa-2.0, jpql, named-query

我的表结构如下

```
table user: iduser, firstName, lastName, username, email, dateJoined, dateOfBirth, password
table tag : idtag, tagName
table post: idpost, title, content, iduser, date, dateCreated
table post_tag : idpost, idtag :-join table for many to many relationship for tag and post
table user_tag : iduser, idtag :-join table for many to many relationship for user and tag 
```

我想要的是使用 JPA 查询的特定用户的标签名称。我还想为用户检索帖子，我可以使用以下 NamedQuery 检索该帖子

```
SELECT p FROM Post p WHERE p.user = :user ORDER BY p.dateCreated DESC 
```

使用它，我成功地为用户检索帖子，因为 Post 和 user 都是实体并且是有效的 JPA 查询

但是当我尝试检索特定的标签时，就像我为用户检索帖子一样，所以我尝试编写一个类似这样的连接查询

```
SELECT t.tagName FROM tag t JOIN user_tag ut ON ut.idtag = t.idtag JOIN user u ON ut.iduser = u.iduser WHERE u.username = :username 
```

但由于 user_tag 不是实体类型，因此该查询的 Eclipse 投诉。我无法使用可以检索用户标签的 JPA QL 来制定连接查询

非常感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T17:29:28.080

我能够如下制定查询

```
SELECT tag.tagName FROM Tag tag WHERE tag.users = :users 
```

这就像我用于 Post 和 User 的查询

但是我还有一个疑问，如果我们在这种情况下不需要编写连接查询，那么在哪些场景中使用 JPA QL 连接查询？

# string - 何时使用 Unicode 规范化表单 NFC 和 NFD？

> ID：15985888
> 
> 赞同：26
> 
> 时间：2013-04-13T08:37:11.857
> 
> 标签：string, unicode, normalization, unicode-normalization

[Unicode 规范化常见问题解答](http://www.unicode.org/faq/normalization.html)包括以下段落：

> 程序应始终比较规范等效的 Unicode 字符串是否相等...... Unicode 标准提供了可用于此的明确定义的规范化形式：NFC 和 NFD。

并继续...

> 选择使用哪个取决于特定的程序或系统。NFC 是一般文本的最佳形式，因为它与从传统编码转换的字符串更兼容。... NFD 和 NFKD 对内部处理最有用。

我的问题是：

什么使 NFC 最适合“一般文本”。什么定义了“内部处理”，为什么最好留给 NFD？最后，不管什么是“最好的”，只要使用相同的规范化形式比较两个字符串，这两种形式是否可以互换？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-13T11:40:11.150

The FAQ is somewhat misleading, starting from its use of “should” followed by the inconsistent use of “requirement” about the same thing. The Unicode Standard itself (cited in the FAQ) is more accurate. Basically, you should not expect programs to treat canonically equivalent strings as different, but neither should you expect all programs to treat them as identical.

In practice, it really depends on what your software needs to do. In most situations, you don’t need to normalize at all, and normalization may destroy essential information in the data.

For example, U+0387 GREEK ANO TELEIA (·) is defined as canonical equivalent to U+00B7 MIDDLE DOT (·). This was a mistake, as the characters are really distinct and should be rendered differently and treated differently in processing. But it’s too late to change that, since this part of Unicode has been carved into stone. Consequently, if you convert data to NFC or otherwise discard differences between canonically equivalent strings, you risk getting wrong characters.

There are risks that you take by *not* normalizing. For example, the letter “ä” can appear as a single Unicode character U+00E4 LATIN SMALL LETTER A WITH DIAERESIS or as two Unicode characters U+0061 LATIN SMALL LETTER A U+0308 COMBINING DIAERESIS. It will mostly be the former, i.e. the precomposed form, but if it is the latter and your code tests for data containing “ä”, using the precomposed form only, then it will not detect the latter. But in many cases, you don’t do such things but simply store the data, concatenate strings, print them, etc. Then there is a risk that the two representations result in somewhat different renderings.

It also matters whether your software passes character data to other software somehow. The recipient might expect, due to naive implicit assumptions or consciously and in a documented manner, that its input is normalized.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-13T10:44:33.037

1.  NFC 是您应该使用的一般常识形式，`ä`是 1 个代码点，这是有道理的。

2.  NFD 对某些内部处理很有用——如果您想进行不区分重音的搜索或排序，将字符串放在 NFD 中会使它变得更容易和更快。另一种用法是制作更强大的 slug 标题。这些只是最明显的，我相信还有更多的用途。

3.  > 如果两个字符串 x 和 y 是规范等价的，则
    > toNFC(x) = toNFC(y)
    > toNFD(x) = toNFD(y)

    这是你的意思吗？

# java - 在文本文件中处理 Unicode BOM 的正确方法

> ID：15985889
> 
> 赞同：4
> 
> 时间：2013-04-13T08:37:18.920
> 
> 标签：java, file-io, character-encoding, guava

我正在我的程序中读取一个文本文件，其中包含一些 Unicode BOM 字符`\ufeff`/ `65279`。这在进一步解析中提出了几个问题。

现在我自己检测和过滤这些字符，但想知道 Java 标准库或 Guava 是否有办法更干净地做到这一点。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-13T09:37:07.403

在 Java 中，甚至在 Guava 中，没有内置的方式来处理 (UTF-8) BOM。

目前[Guava 网站](http://code.google.com/p/guava-libraries/issues/detail?id=345&colspec=ID%20Type%20Status%20Milestone%20Summary)上有一个关于在 Guava IO 中处理 BOM 的错误报告。

有几个 SO 帖子（[这里](https://stackoverflow.com/questions/9736999/how-to-remove-bom-from-an-xml-file-in-java)和[这里](https://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java)）关于如何在纯 Java 中读取文件时检测/跳过 BOM。

您的 BOM ( `\ufeff`) 似乎是[UTF-16](http://en.wikipedia.org/wiki/Byte_order_mark#UTF-16)，根据同一份 Guava 报告，它*应该*由 Java 自动处理。[这篇](https://stackoverflow.com/questions/879482/how-do-i-encode-decode-utf-16le-byte-arrays-with-a-bom)SO 帖子似乎暗示了相同的内容。

# wordpress - 在永久链接中使用类别名称而不是类别 slug

> ID：15985891
> 
> 赞同：0
> 
> 时间：2013-04-13T08:37:36.263
> 
> 标签：wordpress, mod-rewrite, categories, slug, permalinks

如何创建一个永久链接结构，该结构通过以下方式完成：

```
/category-name/post-name/ 
```

代替：

```
/category-slug/post-name/ 
```

默认情况下，Wordpress 将`%category%`标签结构提供为[“类别名称的清理版本（新建/编辑类别面板上的类别 slug 字段”](http://codex.wordpress.org/Using_Permalinks#Structure_Tags)。

如何在永久链接中使用类别名称而不是类别 slug？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T17:33:54.093

```
add_filter('rewrite_rules_array', 'category_name_rewrite_rule');
function category_name_rewrite_rule($rules) {
    $new_rules = array();
    $categories = get_categories();
    foreach ($categories as $category) {
        $cat_name = preg_replace('#\s+#', '-', $category->name);
        $new_rules['/'.$category->slug}.'/'] = '/'.url_encode($cat_name).'/';
    }
    return $new_rules + $rules;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-10T10:24:18.137

在这里我找到了解决方案 - 而不是**Categories**，使用**Custom_post_types** ...
[https://wordpress.stackexchange.com/questions/28979/how-to-change-permalink-structure-for-custom-post-type-and -its-taxonomies/#167992](https://wordpress.stackexchange.com/questions/28979/how-to-change-permalink-structure-for-custom-post-type-and-its-taxonomies/#167992)

# javascript - 使用 GetElementByClassName 和 GetElementById

> ID：15985897
> 
> 赞同：0
> 
> 时间：2013-04-13T08:38:16.123
> 
> 标签：javascript, html

我想在同一段落中但在不同的行上打印变量。我正在使用这个：

```
<p id="demo1"></p><p id="demo2"></p><p id="demo3"></p>
<button type="button" onclick="myFunction()">Try It!</button>
<script>
function myFunction()
{
var lastname="Doe";
var age=30;
var job="carpenter";
document.getElementById("demo1").innerHTML=lastname;
document.getElementById("demo2").innerHTML=age;
document.getElementById("demo3").innerHTML=job;
}
</script> 
```

但它会在新段落中打印每个值。我尝试改成类名，但我做错了什么。请帮帮我。泰。

```
<p class="demo1, demo2, demo3"></p>
<button type="button" onclick="myFunction()">Try It!</button>
<script>
function myFunction()
{
var lastname="Doe";
var age=30;
var job="carpenter";
document.getElementByClassName("demo1").innerHTML=lastname;
document.getElementByClassName("demo2").innerHTML=age;
document.getElementByClassName("demo3").innerHTML=job;
}
</script> 
```

你也可以使用

```
document.getElementById("demo1").innerHTML=lastname; 
```

然后结束时不止一个 id 和 value？像这样的东西？

```
document.getElementById("demo1,demo2,demo3").innerHTML=lastname,age,job; 
```

你怎么能正确阅读，我知道上面的内容无效，但正确的方法是什么？

泰·贾里德·摩尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:15:10.043

这三个部分在三个不同的段落中的原因是你有三个`p`元素。如果您希望所有值都在同一段落中，则应使用内联元素，例如`span`. 这就是它的样子：

```
<p><span id="demo1"></span><span id="demo2"></span><span id="demo3"></span></p> 
```

顺便说一句，使用innerHTML 是要求某人入侵您的网站。如果您的真实代码看起来像这样：

```
element.innerHTML = userSuppliedData 
```

然后任何人都可以通过传递以下内容在您的页面上运行他们想要的任何 JavaScript：

```
<script type="text/javascript">
  alert('All your site are belong to us.');
</script> 
```

这被称为跨站点脚本，XSS。相反，请执行以下操作：

```
element.appendChild(document.createTextNode(userSuppliedData)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:45:41.377

```
<p id="demo1"></p>
<button type="button" onclick="myFunction()">Try It!</button>
<script>
function myFunction()
{
var lastname="Doe";
var age=30;
var job="carpenter";
var concat = lastname + '<br />' + age + '<br />' + job
document.getElementById("demo1").innerHTML=concat;

}
</script> 
```

# c++ - 河内塔的组合量？

> ID：15985899
> 
> 赞同：0
> 
> 时间：2013-04-13T08:38:23.700
> 
> 标签：c++, algorithm, towers-of-hanoi

最近我在接受 C++ 开发者职位的面试，我被要求编写一个程序来解决一个有 3 列和 1000000 个圆盘的河内塔谜题，该程序必须将移动输出写入磁盘（“1->3”， “1->2”，...等等），我告诉他们这将是一个非常大的解决方案文件，因为河内塔的最小移动量是 2 次方 n - 1 而对于 1000000 这将是非常不适合任何硬盘驱动器的大数字，他们说经典算法是错误的，并且有一种算法可以解决这个难题，即使是 1000000 个带有发烧动作的光盘。我想知道是否存在这样的算法或者他们只是在骗我？

谢谢，帖木儿。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T12:34:53.427

这是我为 nhahtdh 承诺的代码。

```
#include <iostream>
#include <conio.h>
#include <math.h>
#include <iomanip>

using namespace std;
char disc[2000000]={0};
int n;
bool validate(int num,int target){
    int t=num+1;
    while(t<n){
        if ((disc[num]==disc[t])||(disc[t]==target))return false;
        t++;
    };
    return true;
};  
int main()
{
    __int64 k=0;
    cout<<"Enter number of discs:";cin>>n;
    cout<<"This would be a "<<setprecision(1000)<<pow(2,n)-1<<" combinations !"<<endl;
    cout<<"To START press a key!"<<endl;
    _getch();
    int num=0,cur=0,t=0,nn=0;
    while(num<n){
        t=2;nn=num;
        while(nn<n){
            if(disc[nn]==t){nn++;continue;}
            if(validate(nn,t)){
                if(nn==num)num++;
                k++;cout<<disc[nn]+1<<"->"<<t+1<<":"<<k<<" move"<<endl;
                disc[nn]=t;
                nn++;
                continue;
            }
            if((disc[nn]==0)&&(t==2)){nn++;t=1;continue;}
            if((disc[nn]==0)&&(t==1)){nn++;t=2;continue;}
            if((disc[nn]==1)&&(t==2)){nn++;t=0;continue;}
            if((disc[nn]==1)&&(t==0)){nn++;t=2;continue;}
            if((disc[nn]==2)&&(t==1)){nn++;t=0;continue;}
            if((disc[nn]==2)&&(t==0)){nn++;t=1;continue;}
        };
    };
    return 0;
} 
```

我希望你能理解，但如果不给我写一封电子邮件到 atlantic-sys@mail.ru，我可以更详细地解释。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:46:32.153

输出确实太大（如您所说的输入大小的指数），但该算法以递归方式编写相当简单。也许这就是他们的意思。

如果你愿意，我可以提供算法。

编辑：只是为了完整性，我会提供算法（它在 Python 中，但在 C++ 中的实现几乎相同）：

```
n = 3
# using 4 elements just so we're 1-based with three towers
towers = [ [], range(n, 0, -1), [], [] ]

def move (orig, dest, n):
    if n == 1:
        elem = towers[orig].pop()
        print 'moving %d from %d to %d' % (elem, orig, dest)
        towers[dest].append(elem)
    else: 
        through = dest ^ orig
        move(orig, through, n-1)
        move(orig, dest, 1)
        move(through, dest, n-1)

move(1, 3, n) 
```

# html - div 之间的间距（边距？）

> ID：15985900
> 
> 赞同：0
> 
> 时间：2013-04-13T08:38:26.963
> 
> 标签：html, css, default, margin

[http://test.recollectedtime.com](http://test.recollectedtime.com)

我的 div 之间有这些默认边距。我希望他们是齐的。

我试过通用选择器，

```
* {
    margin-top:0;
    margin-bottom:0;
    padding:0;
} 
```

我正在使用reset.css。

我不明白为什么会出现边距。

任何指导将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:49:13.147

你可以很容易地看到它：

在 Chrome 中，右键单击元素并选择“检查”以打开开发工具。在右下窗格中，选择选项卡“计算样式”。找到边距属性，然后单击右箭头查看详细信息。你会看到这个：

![开发工具属性详细信息](https://i.stack.imgur.com/HlwLv.jpg)

可以看到 152 px 的数据来自 style.CSS 的第 35 行的“header auto”。那是一个链接，因此您可以直接进入该行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:42:08.890

您在 style.css 文件中应用了 100px 的边距。

看看第 38 行。

```
/* START HEADER--------------------  */

header {
    margin: 100px auto;     <------Here

    width: 960px;
    background-color:purple;
    font-size: 20pt;

} 
```

# android - 通知未打开活动 onCLick

> ID：15985901
> 
> 赞同：3
> 
> 时间：2013-04-13T08:38:32.610
> 
> 标签：android, android-notifications

我想创建一个通知，单击它时应该打开活动。但是当我点击通知活动时没有打开。这是我的代码：

```
NotificationManager notificationManager = (NotificationManager) context
            .getSystemService(Context.NOTIFICATION_SERVICE);

    Intent intent = new Intent(context, MessageReceivedActivity.class);
    intent.putExtra("payload", payload);
    intent.setAction(Long.toString(System.currentTimeMillis()));
    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);
    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,
            intent, PendingIntent.FLAG_CANCEL_CURRENT);

    Notification.Builder notification = new Notification.Builder(context)

    .setContentTitle("Message Received")
    .setSmallIcon(R.drawable.icon)
    .setContentText(payload)
    .setContentIntent(pendingIntent)
    .setAutoCancel(true);

    Notification notificationn = notification.getNotification();

    notificationManager.notify(0, notificationn); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-13T09:50:24.463

**用这个：**

```
Notification.Builder notification = new Notification.Builder(context)
.setContentIntent(getDialogPendingIntent(Text, intentName));

private PendingIntent getDialogPendingIntent(String dialogText,
            String intentname) {
        return PendingIntent.getActivity(
                context,
                dialogText.hashCode(),
                new Intent(ACTION_DIALOG)
                        .putExtra(Intent.EXTRA_TEXT, dialogText)
                        .addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)
                        .setAction(intentname), 0);
} 
```

> **getDialogPendingIntent（文本，intentName）**：***intentName*** *= com.yourProject.exrta.yourIntentName*

你可以改变`addFlags`或者`putExtra`如果你愿意。

* * *

**如果使用 Intent Name 调用不起作用，请将其与这样的类一起使用，并且它必须起作用：**

```
Intent notificationIntent = new Intent(MainActivity.this, TestActivity.class);
// set intent so it does not start a new activity
notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |
                            Intent.FLAG_ACTIVITY_SINGLE_TOP);
PendingIntent intent = PendingIntent.getActivity(MainActivity.this, 0, notificationIntent, 0);

NotificationManager notificationManager = (NotificationManager) MainActivity.this
                        .getSystemService(Context.NOTIFICATION_SERVICE);
Notification.Builder notification = new Notification.Builder(MainActivity.this)
                .setContentTitle("Message Received")
                .setSmallIcon(R.drawable.ic_launcher)
                .setAutoCancel(true)
                .setContentIntent(intent);

Notification notificationn = notification.getNotification();
notificationManager.notify(1, notificationn); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T09:21:57.650

尝试这个：

```
NotificationManager notificationManager = (NotificationManager) context
        .getSystemService(Context.NOTIFICATION_SERVICE);

Intent intent = new Intent(context, MessageReceivedActivity.class);
intent.putExtra("payload", payload);
intent.setAction(Long.toString(System.currentTimeMillis()));
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);
PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,
        intent, PendingIntent.FLAG_CANCEL_CURRENT);

Notification.Builder notification = new Notification.Builder(context)
.setContentTitle("Message Received")
.setSmallIcon(R.drawable.icon)
.setContentText(payload)
.setContentIntent(pendingIntent)
.setAutoCancel(true);

Notification notificationn = notification.build();
notificationManager.notify(YOUR_NOTIF_ID, notificationn); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-23T08:30:07.017

这对我有用：

```
Context context1 = loggedin.this.getApplicationContext();

NotificationManager notificationManager = (NotificationManager)context1.getSystemService(NOTIFICATION_SERVICE);

Notification updateComplete = new Notification();

updateComplete.icon = android.R.drawable.stat_notify_sync;

updateComplete.tickerText = context1.getText(R.string.notification_title);

updateComplete.when = System.currentTimeMillis();

Intent notificationIntent = new Intent(context1,loggedin.class);

PendingIntent contentIntent = PendingIntent.getActivity(context1, 0,notificationIntent, 0);

String contentTitle = context1.getText(R.string.notification_title).toString();

String contentText;

contentText = context1.getText(R.string.notification_info_success).toString();
updateComplete.setLatestEventInfo(context1, contentTitle,contentText, contentIntent);

int LIST_UPDATE_NOTIFICATION = 0;
notificationManager.notify(LIST_UPDATE_NOTIFICATION, updateComplete); 
```

# ajax - jquery中的ajax请求，发送到服务器的数据不起作用

> ID：15985906
> 
> 赞同：0
> 
> 时间：2013-04-13T08:38:59.590
> 
> 标签：ajax, jquery

```
var p = JSON.stringify(parameter);
    console.log(p);
    $.ajax({
        type: 'POST',
        url: 'http://abc.com/ajax.php',
        data: p,
        success: function(status) {
            console.log(status);
        }
    }); 
```

console.log(p) 显示`{"o_fname":"hh","o_lname":"jkhk","o_email":"uifh@bjvh.com","o_phone":"","b_name":"bmnbmbm,b","b_address":"","b_city":"","b_postal":"","b_phone":""}` ，但在我的`http://abc.com/ajax.php`页面`print_r($_POST)`中给了我一个空数组`Array()`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:07:08.743

我认为问题的根源可能在于数据：您正在传递参数详细信息，但是对于 jQuery 另一侧的函数，您传递的是参数名称，仅此而已。

尝试：

```
$.ajax({
    type: 'POST',
    url: 'http://abc.com/ajax.php',
    data: {parametername:p},
    success: function(status) {
        console.log(status);
    }
}); 
```

将 parametername 替换为 ajax.php 期望的参数名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T13:35:41.580

```
var p = JSON.stringify(parameter); 
```

*那*是你的问题。

当您将字符串数据传递给 .ajax 时，它会“按原样”发送它——但 PHP 只有在接收到编码为 .ajax 的数据时才会弹出 $_POST `application/x-www-form-urlencoded`。

所以**不要**把你的数据变成一个字符串，而是`parameter`直接将你的对象作为值传递`data`——然后 jQuery 将负责以正确的方式发送它，以便 PHP 理解它应该如何处理它。

# javascript - Firefox 在我使用 AJAX 时忽略 Cache-Control no-store, no-cache

> ID：15985907
> 
> 赞同：2
> 
> 时间：2013-04-13T08:38:59.707
> 
> 标签：javascript, firefox, browser-cache

在我的网站中，每个页面都可以返回 html 和 json。如果请求是普通页面返回html，如果请求是AJAX页面返回json。

问题是当我需要 json 响应时，firefox 会缓存 html 响应。在这两种情况下，响应标头都带有无缓存选项

```
Cache-Control   no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Connection  Keep-Alive
Date    Sat, 13 Apr 2013 08:31:06 GMT
Expires Thu, 19 Nov 1981 08:52:00 GMT
Keep-Alive  timeout=5, max=100
Pragma  no-cache 
```

这就是我执行 AJAX 请求的方式：

```
$.ajax({
    url: window.location.href,
    dataType: 'json',
    //cache: false,
    success: function(data) {
        // here I get html, (must be json)
        // If I set "cache: false" then all is ok
    }
}); 
```

这个问题在火狐中。在 chrome 中一切正常

我认为是因为我正在我现在所在的页面上发送请求。因为如果我更改 url 例如在 window.location.href 上。'?a=1' 如果我已经在页面 window.location.href 上。'?a=1' AJAX 以我想要的方式返回 json。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:59:49.347

为什么不更改 URL 方案，以便使用不同的 URL 访问 JSON 和 HTML？例如

/foo.html 与 /foo.json

或者

/foo?format=html 与 /foo?format=json

不要将其视为 Firefox 的解决方法；您希望尽可能避免降低可缓存性，因为高度可缓存的站点对您的用户执行速度更快，并减少了为站点提供服务所需的资源量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T08:42:47.793

您可以在负责处理 ajax 请求的任何文件上将缓存控制设置为无缓存

```
 header('Cache-Control: no-cache, must-revalidate'); 
```

或试试这个：

```
if($_SERVER['HTTP_ORIGIN'] == "http://example.com")
{

    header('Access-Control-Allow-Origin: http://example.com');
    header('Cache-Control: no-cache, must-revalidate');
    header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
    header('Content-type: application/json'); 
    //your code here

}else{    
   header('Content-Type: text/html');
   echo "<html>";
   echo "<head>";
   echo "   <title>Another Resource</title>";
   echo "</head>";
   echo "<body>",
   "</body>",
   "</html>";
} 
```

# c# - 打印前显示打印对话框

> ID：15985909
> 
> 赞同：8
> 
> 时间：2013-04-13T08:39:06.767
> 
> 标签：c#, printdialog

我想在打印文档之前显示打印对话框，以便用户可以在打印之前选择另一台打印机。打印代码为：

```
private void button1_Click(object sender, EventArgs e)
        {
            try
            {
                PrintDocument pd = new PrintDocument();
                pd.PrintPage += new PrintPageEventHandler(PrintImage);
                pd.Print();
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message, ToString());
            }
        }
        void PrintImage(object o, PrintPageEventArgs e)
        {
            int x = SystemInformation.WorkingArea.X;
            int y = SystemInformation.WorkingArea.Y;
            int width = this.Width;
            int height = this.Height;

            Rectangle bounds = new Rectangle(x, y, width, height);

            Bitmap img = new Bitmap(width, height);

            this.DrawToBitmap(img, bounds);
            Point p = new Point(100, 100);
            e.Graphics.DrawImage(img, p);
        } 
```

此代码是否能够打印当前表单？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-13T08:47:51.810

你必须使用`PrintDialog`

```
 PrintDocument pd = new PrintDocument();
 pd.PrintPage += new PrintPageEventHandler(PrintPage);
 PrintDialog pdi = new PrintDialog();
 pdi.Document = pd;
 if (pdi.ShowDialog() == DialogResult.OK)
 {
     pd.Print();
 }
 else
 {
      MessageBox.Show("Print Cancelled");
 } 
```

**已编辑**（来自评论）

在`64-bit`Windows 和某些版本的 .NET 上，您可能必须设置`pdi.UseExDialog = true`; 以显示对话窗口。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-04-17T14:25:38.030

为了完整起见，代码应包含 using 指令

```
using System.Drawing.Printing; 
```

如需进一步参考，请转到 [PrintDocument 类](https://msdn.microsoft.com/en-us/library/system.drawing.printing.printdocument%28v=vs.110%29.aspx)

# android - 加载网格视图需要时间

> ID：15985911
> 
> 赞同：1
> 
> 时间：2013-04-13T08:39:36.703
> 
> 标签：android, android-gridview, android-gridlayout

我在 onCreate 上有一个网格视图我正在创建一个网格视图，从本地数据库获取图像 url 但是当加载该活动时，它显示一个白屏。

如何删除那个白屏我不知道把这个 gredview 移到哪里。我附上了完整的代码，请告诉我应该怎么做。尝试单击同步按钮，同步按钮将首先清除本地数据库，然后它得到所有从服务器获取 xml 值并将其放入本地数据库之后，此活动将重新启动，然后将调用此 onCreat 方法并显示空白屏幕。

代码网址[http://www.fileconvoy.com/dfl.php?id=g2561f0a6e7dcc50b9992656609078e5c6d63c814c](http://www.fileconvoy.com/dfl.php?id=g2561f0a6e7dcc50b9992656609078e5c6d63c814c)

我的代码如下

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    gridview = (GridView) findViewById(R.id.gridview);
    gridview.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> parent, View v, int position, long id) 
        {
            String pdfPath = Environment.getExternalStorageDirectory().toString() + "/ICA Faculty/";
            Toast.makeText(getApplicationContext(),pdfPath+((TextView) v.findViewById(R.id.hiddenPdfUrl)).getText(), Toast.LENGTH_SHORT).show();

            try {
                File file = new File(pdfPath+((TextView) v.findViewById(R.id.hiddenPdfUrl)).getText());
                Uri path = Uri.fromFile(file);
                Intent intent = new Intent(Intent.ACTION_VIEW);
                intent.setDataAndType(path, "application/pdf");
                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                startActivity(intent);
            } catch (Exception e) {
                Toast.makeText(getApplicationContext(),"Sorry no PDF reader found.", Toast.LENGTH_SHORT).show();
            }
        }
    });

    File folder = new File(Environment.getExternalStorageDirectory() + "/ICA Faculty");

    db.open();
    c = db.getAllRecords();

    //If data exist in local database AND "ICA Faculty" folder exist 
    //Getting the sd card file name from local database
    if (c.moveToFirst() && folder.exists() && folder.listFiles() != null)
    {
        //This array list will help to create image
        imgUrl = new ArrayList<String>();
        pdfUrl = new ArrayList<String>();
                do 

                    imgUrl.add(c.getString(3));
                    pdfUrl.add(c.getString(2));

                }  while (c.moveToNext());

                ImageAdapter adapter = new ImageAdapter(MainActivity.this);
                gridview.setAdapter(adapter);
    }
    else
    {
        Toast.makeText(getApplicationContext(), "You need to sync to create your library.", Toast.LENGTH_LONG).show();
    }
    db.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:45:34.283

作为的`GridView`子类`AdapterView`，可以使用*空视图*来显示该方法没有数据时`setEmptyView()`。

例如看这个问题[Correct use of setEmtpyView in AdapterView](https://stackoverflow.com/questions/2807253/correct-use-of-setemtpyview-in-adapterview)

# php - 限制结果/加载更多 [PHP 帮助]

> ID：15985913
> 
> 赞同：2
> 
> 时间：2013-04-13T08:39:51.893
> 
> 标签：php, load, limit

此脚本将显示所有用户的好友，但我想将其限制为仅显示 10 个好友，当单击“显示更多”或“加载更多”时，将加载所有好友。所以首先“我想将好友的数量限制为 10 个好友”第二个“我想通过显示更多（又名加载更多）按钮/文本向所有好友展示。我搜索了很多次，但我自己做不到。有人可以帮我?

我认为我们需要 php 来限制好友和 ajax 或 jquery 来显示所有好友，不是吗？

**模板上的脚本：**

```
 if (!empty($modSettings['bc_enable']) && ($context['can_bc_view']))
    {  
       global $memberContext;
       foreach($context['member']['buddies'] as $buddy)
    {
       $buddy = $memberContext[$buddy];
       echo '
    <a title="', $buddy['name'], '" href="', $scripturl, '?action=profile;u=', $buddy['id'], '">
    <div id="basicavatar" class="buddy_avatar">', $buddy['avatar']['image'], '</div></a>';
    } 
```

**资源：**

```
 foreach($context['member']['buddies'] as $buddy)
    {
       loadMemberData($buddy,false, 'profile');
       loadMemberContext($buddy);
    }
       $context['can_bc_view'] = allowedTo('bc_view_any') && !$context['user']['is_owner'] || (allowedTo('bc_view_own') && $context['user']['is_owner']); 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T11:10:30.573

您可以在 mysql 中尝试 LIMIT 关键字...例如：

```
<?php
$sql='';
if(isset($_GET['limit'])==false)
{
  $sql="select * from buddies LIMIT 10";
}else
{
  $sql="select * from buddies";
}
$sql=@mysql_query($sql);
while($row=@mysql_fetch_array($sql))
{
   echo($row['name']);
}
?>
<a href="your_current_page.php?limit=10">Show More</a> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:44:21.460

这可能会对您有所帮助。

```
$i=0;
foreach($context['member']['buddies'] as $buddy)
{
   if($i>=10){
    break;
    }else{
    $i++;
   }

   loadMemberData($buddy,false, 'profile');
   loadMemberContext($buddy);
}
   $context['can_bc_view'] = allowedTo('bc_view_any') && !$context['user']['is_owner'] || (allowedTo('bc_view_own') && $context['user']['is_owner']); 
```

# progress-bar - 如何在 Python CGI + Jinja 中显示进度条？- 访问动态变量？

> ID：15985918
> 
> 赞同：0
> 
> 时间：2013-04-13T08:40:18.560
> 
> 标签：progress-bar, cgi, jinja2

我正在尝试向我的 Python/Jinja2 网页添加一个进度条。

对未知长度/恒定动画使用 JS 进度条很容易，但是由于我知道脚本的完成百分比，所以我希望显示实际速率。

我尝试搜索这个主题，但没有找到关于如何使用 python CGI 或 Jinja 实际显示实际进度条的信息。

阻碍我的部分是我不知道如何将不断变化的变量（进度％）更新到 Jinja 并更新网页上的进度条。

我想`{%block%}`用作进度条的包装器，并在每次 % 增加时在 python 脚本中重新渲染这部分。这理论上应该可行，但逻辑上似乎不是正确的方法，因为整个块（而不仅仅是 %）会不断刷新数十次。

如果 Python 中的变量可以在呈现的 HTML 页面中动态更新，或者如果 Jinja 可以访问从 Python 发布的 cgi.FieldStorage 对我来说更有意义，但我找不到任何方法来做这些。 .

[编辑] 我尝试使用块但没有成功。

```
// base.html
  {%block body%}
  {%endblock%}
// block.html
  {%extends "base.html"%}
  {%block body%}
    <div class="progressbar"></div>
    {{super()}}
  {%endblock%}
//python
for 1 in 10
    template = env.get_template('block.html')
    print template.render(var) 
```

该页面将加载，但进度条重复附加到前一个 10 次..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T01:07:10.720

发现由于限制，CGI 本身并不支持这一点。我的解决方案：在 div 中打印进度 => 删除 div => 重复。

# c++ - 是定义代码：向量 intVector 将调用默认构造函数，与vector相同 整数向量（）？

> ID：15985924
> 
> 赞同：0
> 
> 时间：2013-04-13T08:40:49.910
> 
> 标签：c++

代码一：

```
vector<int> *intVector=new vector<int>(); 
```

代码二：

```
vector<int> *intVector=new vector<int>; 
```

代码三：

```
vector<int> intVector();//compile error? 
```

代码四：

```
vector<int> intVector; 
```

我的问题：

（1）是“vector intVector”调用默认构造函数吗？
(2) 当代码1与代码2相似时，为什么代码3编译错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T10:16:41.793

你问：

> （1）是“vector intVector”调用默认构造函数吗？
> (2) 当代码1与代码2相似时，为什么代码3编译错误？

关于（1），是的，`std::vector`有一个用户定义的默认构造函数，在没有提供构造函数参数时使用。

关于（2），您的代码 3 本身不应给出错误，但它是函数的声明，而不是变量的声明。因此，如果您将它用作变量，那么您可能会在该用法上遇到编译错误。

您的代码示例 4 是您通常应该如何使用`std::vector`. 由于多种原因，`std::vector`动态分配 与几乎没有意义`new`，并且（相对而言）与 相关的巨大成本`new`。所以只需使用一个直接的`std::vector`对象，它会为您处理内存分配和释放。

# java - 嵌入在 Java 中的 OpenOffice

> ID：15985927
> 
> 赞同：0
> 
> 时间：2013-04-13T08:41:17.073
> 
> 标签：java, java-native-interface, openoffice.org, libreoffice

我想在我的 Java 程序中使用一个 openoffice 组件 (text/calc/...)。我在我的 Win7 64 位、JRE 1.7（64 位）和 openoffice 3.2 上尝试了[NOA 。](http://code.google.com/p/noa-libre/)我得到了这个例外：

```
java.lang.UnsatisfiedLinkError: J:\downloads\noa-libre-package-0.2.1\noa-libre-package-0.2.1\lib\nativeview.dll: Can't load IA 32-bit .dll on a AMD 64-bit platform 
```

有人能帮帮我吗？我试图找到 64bit win (7) 的 nativeview.dll，但没有找到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-22T20:49:00.183

使用 v 0.3 再试一次，我相信此时这不是问题。我看到这个版本中有一个 lib/64bit 目录。

我有那个版本加上 Win7 64 位 + JRE 1.7（64 位）+ OO 3.4.1（32 位）+ Eclipse Juno Release 2（64 位）。我在随版本提供的示例文件夹中运行了 Snippet10，它打开了一个现有的开放式办公室文本文件，一切都对我有用。OO 打开了我提供的示例文件。

# java - 如果包装器使用拆箱，那么需要什么 intValue() 方法？

> ID：15985928
> 
> 赞同：7
> 
> 时间：2013-04-13T08:41:17.290
> 
> 标签：java, integer, wrapper, unboxing

例如，看看这段代码：

```
Integer myInt = new Integer(5);
int i1 = myInt.intValue();
int i2 = myInt;

System.out.println(i1);
System.out.println(i2); 
```

如您所见，我有两种方法可以将整数值从包装器复制到原始值：

我可以使用[拆箱](https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html)，

或者

我可以使用方法[`Integer#intValue()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#intValue())。

那么在已经拆箱的情况下需要一个方法吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-13T08:45:36.183

拆箱是在[Java 5](https://en.m.wikipedia.org/wiki/Java_version_history#J2SE_5.0)中引入的。[自原始版本](https://en.m.wikipedia.org/wiki/Java_version_history#JDK_1.0)以来，包装器（包括此方法）就已存在。

[Javadoc](http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#intValue%28%29)的链接

在那段时间（1996 年），我们确实需要该`intValue()`方法，并且由于 Oracle 保证向后向后兼容性……达到一定水平（在主要版本中并不总是 100%）。

该方法必须保留。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-13T09:29:27.047

除了弗兰克的回答给出了一个很好的历史观点之外，`intValue()`在某些情况下仍然需要使用今天。

请注意以下表明您不能将 an`Integer`视为 的陷阱`int`：

```
 Integer i1 = new Integer(5);
 Integer i2 = new Integer(5);

 //This would be the way if they were int
 System.out.println(i1 == i2); //Returns false

 //This is the way for Integers
 System.out.println(i1.intValue()==i2.intValue()); //Returns true
 System.out.println(i1.equals(i2)); //Returns true 
```

退货

```
false
true
true 
```

# algorithm - 高效的合并排序混乱

> ID：15985929
> 
> 赞同：0
> 
> 时间：2013-04-13T08:41:23.857
> 
> 标签：algorithm, sorting, merge, while-loop, mergesort

从昨天开始，我一直在阅读一个[合并排序示例](http://www.iti.fh-flensburg.de/lang/algorithmen/sortieren/merge/mergen.htm)（高效的示例），尽管查看了代码，但我仍然无法理解它是如何工作的：

```
private static void sort(int[] list) {
    a = list;
    int n = a.length;
    // according to variant either/or:
    b = new int[n];
    b = new int[(n + 1) / 2];
    mergesort(0, n - 1);
}

private static void mergesort(int first, int last) {
    if (first < last) {
        int mid = (first + last) / 2;
        mergesort(first, mid);
        mergesort(mid + 1, last);
        merge(first, mid, last);
    }
} 
```

到目前为止，理解算法没有问题，但混淆在于以下方法：

```
private static void merge(int first, int mid, int last) {
    int i, j, k;

    i = 0;
    j = first;

    while (j <= mid)
        b[i++] = a[j++]; // *j's value is now mid*

    i = 0; // *i is reset to 0, nothing's been done to j*
    k = first;

    // *before entering the following while loop, j still carries mid's value*
    while (k < j && j <= last)
        if (b[i] <= a[j])
            a[k++] = b[i++];
        else
            a[k++] = a[j++];        

    // copy back remaining elements of first half (if any)
    while (k < j)
        a[k++] = b[i++];
} 
```

进入第二个 while 循环`while (k < j && j <= last)`是我不明白这种排序是如何工作的。据我了解，数组的前半部分`a`已经复制到辅助数组中，现在我们想通过比较（后半部分）与辅助数组`b`来排列整个数组，以便我们可以得到较小的数组元素并放置它在数组中以升序对数组进行排序。`a[j++]``b[i++]``a`

但是为什么`while (k < j && j <= last)`？`k < j`听起来很合乎逻辑，因为我们需要从辅助数组中取回所有值，但为什么`j <= last`呢？为什么我们不能这样做`while (k <= last)`？

另外，有人可以确认我对上述代码中 j 值的理解是正确的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T11:08:09.780

`k < j` 表示辅助数组**b**仍然包含元素

`j <= last` 表示**a**的第二部分仍然包含元素

我们不能在这里使用，因为当 j 变为 last+1 时，我们可能会访问超出边界的`k <= last`数组**a索引**

评论太长了，在这里补充：

当可用内存有限（大型数据集）时，此变体很有用。在一些教程中提到了它（我在 J.Bucknall 关于 Delphi 算法的书中遇到过它）。它是稳定的（ if (b[i] **<=** a[j]) 保持稳定。它通常不会更快，因为最好不要复制数据，但是，例如，'触发'源和目标数组（指针）在每个阶段

# json - 为什么我在 Yahoo Pipes 中的 JSON 输出和 RSS 输出之间存在差异

> ID：15985931
> 
> 赞同：0
> 
> 时间：2013-04-13T08:41:52.953
> 
> 标签：json, image, rss, pipe, yahoo

我创建了一个非常简单的管道来查找给定 rss 提要中任何项目的第一个图像，然后将其 url 用作新的项目属性 (item.imageurl)。

管道的输出现在在 JSON 中工作，但不是在 RSS 中。在 RSS 中，我在我的任何项目中都看不到任何标签或排序。它基本上是一个非常简单的管道，带有获取提要，然后循环包含来自 item.guid 页面的获取页面模块（提取预期的图像 url）并将第一个结果分配给 item.imageurl 。

对我来说重要的是能够使用 rss 格式。而已。请帮忙！

链接：

[JSON 输出](http://pipes.yahoo.com/pipes/pipe.run?_id=2404bd6fac632284186f1c6f9e198ed2&_render=json)

[RSS 输出](http://pipes.yahoo.com/pipes/pipe.run?_id=2404bd6fac632284186f1c6f9e198ed2&_render=rss)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-24T03:54:49.280

来自[Yahoo 管道：如何向 RSS/feed 项目添加额外的节点/元素](https://stackoverflow.com/questions/19048643/yahoo-pipes-how-can-i-add-an-additional-nodes-elements-to-rss-feed-items)

> 这是因为 Yahoo Pipes 的 RSS 输出删除了所有其他不在 RSS 标准中的字段。不过，您仍然可以在 JSON 输出中看到它。

# svg - d3.js：获取条形宽度或 X 位置对吗？

> ID：15985934
> 
> 赞同：0
> 
> 时间：2013-04-13T08:42:11.623
> 
> 标签：svg, d3.js

我在使用 d3.js 实现的条形图中有一个奇怪的问题：每个矩形之间的 1 px 填充看起来不规则。我收集宽度或 x 位置中的一个或两个是罪魁祸首，但我不明白我做错了什么：宽度是 svg 区域的一小部分，X 位置是通过 D3 比例获得的。

我在这里放了一个演示：http: [//jsfiddle.net/pixeline/j679N/4/](http://jsfiddle.net/pixeline/j679N/4/)

控制 x 位置的代码（刻度）：

```
var xScale = d3.time.scale().domain([minDate, maxDate]).rangeRound([padding, w - padding]); 
```

控制宽度的代码：

```
 var barWidth = Math.floor((w/dataset.length))-barPadding; 
```

感谢您的见解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:46:22.993

这是不规则的，因为您正在四舍五入您的输出范围 ( `rangeRound`)。在某些情况下，两个条形之间的距离是 3 个像素，有时只有 2 个像素。这是因为实际`x`位置是一个小数值，在某些情况下会以一种方式舍入，而在其他情况下会以另一种方式舍入。

您可以减轻效果，但更改`rangeRound`为`range`，但这不会完全消除它，因为您仍然会获得位置的小数像素值。最好的办法可能是简单地增加填充，以使差异不那么明显。

# c++ - 将任何类成员函数作为参数传递

> ID：15985935
> 
> 赞同：0
> 
> 时间：2013-04-13T08:42:13.853
> 
> 标签：c++, member-functions

我正在尝试将类成员函数作为参数传递，当我使用以下代码时，这可以完美地工作

```
#include <stdio.h>

class CMother;
typedef int(CMother::*FuncPtr)(char* msg);

class CMother
{
protected:
    void SetFunctionPtr(FuncPtr ptr)
    {
        //get ptr here
    }
};

class CSon : public CMother
{
public:
    CSon()
    {
        SetFunctionPtr((FuncPtr)MyFunc);
    }
private:
    int MyFunc(char* msg)
    {
        printf(msg);
        return 0;
    }
};

int main()
{
    CSon son;
    return 0;
} 
```

但是当我尝试`typedef`使用模板概括该部分时，我得到了`fatal error C1001: INTERNAL COMPILER ERROR` 生成此错误的完整代码

```
#include <stdio.h>

template<class T>
typedef int(T::*FuncPtr)(char* msg);

class CMother
{
protected:
    void SetFunctionPtr(FuncPtr ptr)
    {
        //get ptr here
    }
};

class CSon : public CMother
{
public:
    CSon()
    {
        SetFunctionPtr(MyFunc);
    }
private:
    int MyFunc(char* msg)
    {
        printf(msg);
        return 0;
    }
};

void mmm()
{
    CSon son;
} 
```

任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:48:06.623

在 C++11 之前，C++ 没有模板类型定义。

# sql - 使用 IS NULL 的左连接在 DB2 中不起作用？

> ID：15985940
> 
> 赞同：1
> 
> 时间：2013-04-13T08:43:26.610
> 
> 标签：sql, oracle, db2

我正在尝试使用这样的查询离开表连接

```
SELECT * FROM table1 a, table2 b WHERE (a.ID = b.ID OR b.ID IS NULL) 
```

在 Oracle 中，这相当于 a `LEFT JOIN`（在其他数据库中也是如此，afaik）。

在 DB2 (z/OS) 中做同样的事情会产生一个内连接——该`b.ID IS NULL`子句对结果没有影响，删除它不会改变任何东西。

有没有办法让它在 DB2 中工作？这是应该根据 ANSI SQL 工作的东西吗？

PS：我知道我可以使用`JOIN`语法，我只是对为什么这不起作用以及是否有解决方法感兴趣。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T14:47:33.177

您可以使用

```
SELECT a.*, b.*
  FROM tbl1 a LEFT JOIN tbl2 b ON a.id=b.id; 
```

# javascript - 使用 javascript 对谷歌服务的异步调用

> ID：15985953
> 
> 赞同：0
> 
> 时间：2013-04-13T08:45:21.430
> 
> 标签：javascript, google-geocoder

我有一个数组

```
SchoolAddress[0] = Abelsvej 98, 4100, Ringsted;
SchoolAddress[1] = Prstevej 19, 4100, Ringsted;
SchoolAddress[2] = Haraldsvej 77, 4100, Ringsted; 
```

我必须得到这个地址的纬度和经度。

我为此使用谷歌地理编码器。

```
for (var i = 0; i < schools.length; i++) 
{
    var address = schools[i][1];
    var geocoder = new google.maps.Geocoder();
    geocoder.geocode({ 'address': address }, function (results, status) 
    {
        var location = results[0].geometry.location;
        schoolslat[i] = location.lat() + ', ' + location.lng();
    });
} 
```

这里发生的情况是 call 需要一些时间，来自 call 的值不会去适当的 schoollat​​[i]。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T08:50:33.757

您可以使用[**闭包**](https://stackoverflow.com/questions/111102/how-do-javascript-closures-work)来*冻结*`i`请求中的变量：

```
for (var i = 0; i < schools.length; i++) 
{
    (function(i){
        var address = schools[i];
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode({ 'address': address }, function (results, status) 
        {
            var location = results[0].geometry.location;
            schoolslat[i] = location.lat() + ', ' + location.lng();
        });
    }(i));
} 
```

**更新**：

[**JSFiddle**示例](http://jsfiddle.net/fedosov/Ypf8v/7/)。

# php - 将 Column 值与 Mysql 中的多个值进行比较

> ID：15985959
> 
> 赞同：-1
> 
> 时间：2013-04-13T08:46:11.223
> 
> 标签：php, mysql

我有`test`一张桌子

![在此处输入图像描述](https://i.stack.imgur.com/UKUHy.png)

这是我的表，我正在比较字符串并`entity_id`从此表中获取

我对一个值搜索的 sql 查询是这样的

```
 Select entity_id From test Where BINARY  value = '".$my_search_list."' 
```

如果我搜索单个值，这很好用`Shirt`

我想搜索多个值，当我尝试使用逗号分隔值（如 `Root,Appare,hand Bags`（不仅仅是工作））时，它没有给我输出

我也试过这个

```
Select entity_id From test Where BINARY  value IN ( '".$my_search_list."' ) 
```

我不想要多个查询我想在单个查询中做这可能吗？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:20:29.157

正如我所说，我在想的是创建一个关键字数组，看看哪个关键字符合条件，然后显示所有结果。

```
$search = array('Root','Appare','hand Bags');
$sql = "SELECT `entity_id` FROM `test` WHERE ";
$count = 0;
$search_size = count($search);   

foreach($search as $key)
{
    $count++;
    if($count < $search_size)
    {
        $sql .= "(`value` = '".$key."') or ";
    } 
    else if ($count == $search_size)
    {
        $sql .= "(`value` = '".$key."')";
    }
} 
```

你是否回`$sql`显你会看到正确的查询应该可以工作：

```
SELECT `entity_id` FROM `test` WHERE (`value` = 'Root') or (`value` = 'Appare') or (`value` = 'hand Bags')` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-13T08:50:55.370

您需要为值使用引号

```
SELECT entity_id FROM test WHERE value IN ('one','two','three') 
```

# c# - C# 发送电子邮件问题

> ID：15985960
> 
> 赞同：1
> 
> 时间：2013-04-13T08:46:15.487
> 
> 标签：c#, email, send

我正在尝试用 C# 发送电子邮件，但遇到了一些问题。每当我尝试发送电子邮件时，都会收到一条消息“错误：发送邮件失败”。这是我的代码：

```
 try
        {
            client.Host = "smtp.gmail.com";
            client.Port = 465;
            client.UseDefaultCredentials = false;
            client.Credentials = smtpCreds;
            client.EnableSsl = true;

            MailAddress sendFrom = new MailAddress("from@domain.com");
            MailAddress sendTo = new MailAddress("to@domain.com");
            MailMessage msg = new MailMessage(sendFrom,sendTo);
            msg.Subject = "Subject";
            msg.Body = "Body";
            client.Send(msg);
        }
        catch (Exception e)
        {
            MessageBox.Show("Error:" + e.Message);
        } 
```

我也有这个声明：

```
 public SmtpClient client = new SmtpClient();
    public System.Net.NetworkCredential smtpCreds = new System.Net.NetworkCredential("mail", "password"); 
```

希望您能够帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:37:50.347

试试这个代码

```
 using System.Net.Mail;

        MailMessage mail = new MailMessage();
        SmtpClient SmtpServer = new SmtpClient("smtp.gmail.com");
        mail.From = new MailAddress("sender@gmail.com");
        mail.To.Add("reciever@gmail.com");
        mail.Subject = ("e mail subject");
       mail.Body = ("message body");
        SmtpServer.Port = 587;
        SmtpServer.Credentials = new System.Net.NetworkCredential("sender's username",            "sender's password");
        SmtpServer.EnableSsl = true;
        SmtpServer.Send(mail);
        MessageBox.Show("mail Send"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T09:53:15.327

你可以试试这个，并确保你使用的是有效的登录凭据并且你有互联网连接：

```
 MailMessage mail = new MailMessage();
 mail.Subject = "Your Subject";
 mail.From = new MailAddress("senderMailAddress");
 mail.To.Add("ReceiverMailAddress");
 mail.Body = "Hello! your mail content goes here...";
 mail.IsBodyHtml = true;

 SmtpClient smtp = new SmtpClient("smtp.gmail.com", 587);
 smtp.EnableSsl = true;
 NetworkCredential netCre = new NetworkCredential("SenderMailAddress","SenderPassword" );
 smtp.Credentials = netCre;

 try
  {
   smtp.Send(mail);                
  }
  catch (Exception ex)
  {               
  } 
```

# jsf - JSF 2.x 中的异常处理，从另一个访问 SessionScoped 托管 bean 并重定向

> ID：15985961
> 
> 赞同：0
> 
> 时间：2013-04-13T08:46:15.847
> 
> 标签：jsf, redirect, exception-handling

我对如何完成这项工作进行了一些研究，找到了一些孤立的解决方案，但我无法弄清楚如何将它们结合起来，以及最佳实践是哪种方式。我正在使用 tomcat 和 jsf 2.x。

场景：我有一个会话范围的 bean，mycontrollerA。控制器与 myviewa.xhtml 相关。在 viewA 上点击 commandLink 后，动作 mycontrollerA.doThis() 被触发。在这种方法中，我想使用 try-catch，如果发生异常，我想重定向到我的异常报告视图“exception.xhtml”。相关的控制器ExceptionController有一个属性'message'，我想在myControllerA中设置相应的值。

问题：如果我尝试获取我的 exceptionController bean，则会出错。我想，它只是不存在，因为它从未被初始化。我希望有一种通用的方法可以从另一个 SessionScoped bean 中获取 SessionScoped bean，它可以开箱即用地处理这种“必要时创建”行为。此外，我认为我的重定向代码可以改进。

提前致谢。

```
public String doThis() {
    try {
        throw new RuntimeException("TestExc");
} catch (RuntimeException e) {
    //ExceptionController exceptionController = (ExceptionController) FacesContext.getCurrentInstance().getExternalContext().getSessionMap().get("exceptionController");
    //exceptionController.setMessage("Fehlerinfo: " + e.getMessage());
    try {
        FacesContext.getCurrentInstance().getExternalContext().redirect("exception.xhtml");
        } catch (IOException e1) {
            e1.printStackTrace();
        } 
    }
    return null;
}

@ManagedBean(name = "exceptionController")
@SessionScoped
public class ExceptionController { ... } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:04:07.810

您可以尝试通过 ELResolver 解析 bean：

```
FacesContext fc = FacesContext.getCurrentInstance();
ELContext el = fc.getELContext();
ExceptionController exCtrl = (ExceptionController) el.getELResolver()
    .getValue(el, null, "exceptionController"); 
```

您的问题可能是，该 bean 之前没有创建，因此它还没有在会话中。应该使用 ELResolver 方法创建它。

# c++ - 用更快的方法替换这些方法

> ID：15985962
> 
> 赞同：1
> 
> 时间：2013-04-13T08:46:20.380
> 
> 标签：c++, boost

这个问题实际上是对我之前发布[的问题的更新。](https://stackoverflow.com/questions/15963563/smart-pointer-wrapping-penalty-memoization-with-stdmap/15964007?noredirect=1#comment22757010_15964007)根据用户的意见，我意识到我需要分析我的代码，因此我通过 Vtune Amp 分析了我的代码的第一部分。与其他方法相比，我得到了以下语句，这些语句消耗了大量时间

```
Source Line Source                                                                        CPU Time by Utilization   Overhead Time   Spin Time
double high_val =  atof(temp[2].c_str());                                                                           
std::string s( (std::istreambuf_iterator<char>(&buffer)), std::istreambuf_iterator<char>());            
boost::split( temp, lines[i], boost::is_any_of(",") ); 
```

在上面的代码缓冲区中是： `boost::asio::streambuf buffer`;

关于上述替换功能的任何建议？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-13T09:20:43.067

尝试`Boost.Sprit`所有的解析任务。如果你有很多规则，它可能会消耗更多的编译时资源，但在运行时会很快。

对于第一行：

```
#include <boost/spirit/include/qi.hpp>
std::string::iterator begin = temp.begin() + 2;
std::string::iterator end = input.end();
float high_val;
boost::spirit::qi::parse(begin, end, boost::spirit::float_, high_val); 
```

最后一行：

```
std::vector<std::string>;
// '%' is a list parser
boost::spirit::qi::parse(buffer.data(), buffer.data() + buffer.size(), *(char_ - ',') % ',', lines); 
```

最有可能的是，可以为您的所有任务创建一个简单的语法，但我不知道您正在解析什么，所以我只是尝试或多或少地匹配您的上述代码。

# android - AudioRecord：“溢出用户”日志 - 它们是什么意思？

> ID：15985964
> 
> 赞同：5
> 
> 时间：2013-04-13T08:46:36.207
> 
> 标签：android, audio, audiorecord

我有一段简单的代码创建一个 AudioRecord 对象，然后用它来记录到一个文件中。这是非常标准的，似乎工作得很好。我正在使用运行 Android 2.2 的三星 GalaxyS Vibrant。

但是，我在 logcat 中以不同的时间间隔收到诸如此类的消息：

```
04-13 14:03:30.754: V/AudioRecord(4831): Overrun user: 820, server: 1040, flowControlFlag 0
04-13 14:03:30.766: V/AudioRecord(4831): Overrun user: 820, server: 1040, flowControlFlag 1 
```

有谁知道这些是什么意思？我是否超出了内部音频缓冲区并丢失了音频帧？从录制的文件中看起来不像，但这些断断续续的消息让我有点担心。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-02-21T07:38:05.863

这可能有点晚了，但这只是一条日志消息（不是特别是三星，我看到它有不同的品牌、型号和品牌），告诉你你已经开始录制，但没有从录音带。

因此`Overrun user`，AudioRecord 的缓冲区已满。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-13T19:15:44.397

这似乎是一些三星设备使用的内部日志。所以你不能隐藏它们，但它也无害。如果你不想看到它，你可以从你的 logcat 中过滤掉它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-10T15:21:47.870

检查您的权限。

```
<uses-permission android:name="android.permission.RECORD_AUDIO"></uses-permission> 
```

此许可是必要的

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-09-22T09:55:04.043

我认为是因为读取 pcm 数据太慢了，我遇到了同样的问题，当我在两次读取操作之间做一点睡眠时，当我设置睡眠时间更长时，这个日志会变得更多。所以我认为有两种方法可以解决这个问题： 1.使读取操作快速 2.使缓冲区更大，当你新的 AudioRecorder 设置最后一个参数为 2*minBufferSize 或更大。它可以让您在每次读取操作时读取更多数据。希望你能理解，对不起我糟糕的英语。

# .htaccess - htaccess url重写到子目录而不更改地址栏

> ID：15985967
> 
> 赞同：-1
> 
> 时间：2013-04-13T08:47:05.927
> 
> 标签：.htaccess, mod-rewrite, url-rewriting

您好，我想实现以下目标，但我不确定 .htaccess 是否可以实现和/或如何实现。

```
http://domain/admin/rest should go to http://domain/backend/www/rest
http://domain/rest should go to http://domain/frontend/www/rest. 
```

但最好不要更改地址栏中的网址。rest 可以是“news/1/”之类的任何东西。

如果在 .htaccess 中不可能，请指出正确的方向。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T08:55:42.197

您可以在根目录的一个 .htaccess 文件中尝试此操作：

```
Options +FollowSymlinks -MultiViews
RewriteEngine On
RewriteBase /

RewriteCond %{REQUEST_URI}  !/(frontend|backend) [NC]
RewriteRule ^admin/(.*)/?   /backend/www/$1      [L,NC]

RewriteCond %{REQUEST_URI}  !/(frontend|backend) [NC]
RewriteRule ^(.*)/?        /frontend/www/$1      [L,NC] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T12:51:22.487

第三种解决方案

```
RewriteEngine on

# rewrite all requests /admin/
RewriteRule ^admin/(.*)$ /backend/www/$1 [L]

# rewrite everything else
RewriteCond %{REQUEST_URI} !^/frontend/www/
RewriteCond %{REQUEST_URI} !^/backend/www/
RewriteRule ^.*$ /frontend/www/$0 [L] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:55:56.500

在文档根目录的 htaccess 文件中，尝试添加以下规则：

```
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !/backend
RewriteRule ^admin/(.*)$ /backend/www/$1 [L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !/frontend
RewriteRule ^(.*)$ /frontend/www/$1 [L] 
```

# c++ - 运行时 MSVCR100D.dll 错误

> ID：15985970
> 
> 赞同：1
> 
> 时间：2013-04-13T08:47:15.310
> 
> 标签：c++

好的，所以我使用 VC++ 2010 创建了一个程序。它运行得很好。

开始工作，只能安装 vc++ 8，因为有一台仍然卡在 xp sp2 上的蹩脚电脑......

一切都将链接并构建没有错误，但是当程序开始运行时，我得到“此应用程序无法启动，因为未找到 MSVCR100D.dll”

我尝试将运行时库从 MDd 更改为 MTd，但仍然没有运气……知道吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T08:53:54.203

该 DLL 随 Visual Studio 2010 提供。如果您想使用您的程序，您将不得不亲自动手。如果可能在您的工作中，您可以[下载](http://www.dll-files.com/dllindex/dll-files.shtml?msvcr100d)它。另一个（可能更好）的选择是把它放在家里的 USB 驱动器上。

编辑：您也可以尝试重新创建项目，然后将源代码复制到新项目中。您新创建的项目（在 Visual Studio 2008 中）不应依赖于错误的 DLL。

编辑 2：正如 Hans Passant 在评论中添加的那样，`Debug`编译您的程序需要此 DLL。因此，如果您只是简单地编译为`Release`，您可以放心地忽略我帖子的第一部分。（我希望在我的帖子中添加此内容不会违反绅士规则。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T09:09:03.593

MSVCR100D.dll 用于调试模式，并与 Visual Studio 2010 一起安装，因为 2008 具有 MSVCR80D。你可以用谷歌搜索并下载它，然后把它放在同一个目录中，或者只是在发布模式下编译。

这是一个下载链接。您需要小的下载 zip 文件按钮，而不是大的。 [http://www.dll-files.com/dllindex/dll-files.shtml?msvcr100d](http://www.dll-files.com/dllindex/dll-files.shtml?msvcr100d)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T09:06:51.590

据我所知，MSVCR100D 是 VC2010 使用的运行时库的调试版本。所以，如果你的观点是：

(1) 您没有真正需要的 dll，您可以在[http://www.dll-files.com/dllindex/dll-files.shtml?msvcr100d](http://www.dll-files.com/dllindex/dll-files.shtml?msvcr100d)或

(2) 如果您想在不需要 MSVCR100/D.dll 的情况下运行该程序，您可能需要在 VC8 中重新创建一个项目，然后替换为您的源文件（不是解决方案文件或其他由 Vistual Studio 管理的文件）。

仅供参考：如果我没记错的话，我记得高版本的VS创建的项目不能被低版本的直接打开。那么，你是如何建造它们的呢？

# xml - 如何在 Flex 中动态地将子节点添加到 xml

> ID：15985972
> 
> 赞同：0
> 
> 时间：2013-04-13T08:47:20.637
> 
> 标签：xml, apache-flex, tree

我需要形成一个新的 xml，以便在解析旧 xml 时将新节点作为子子节点添加到适当的节点，从而避免重复并将确切的子节点添加到确切的父节点。我需要这样做以将树中的 xml 填充为 FLEX 中的数据提供者。

我有一个如下的 xml：

```
<root>
<item name="Asia">
  <item name="Asia"/>
  <item name="India"/>
  <item name="Mumbai"/>
  <item name="MH"/>
  <item name="Category 1"/>
  <item name="Product1"/>
  <item name="100"/>
  <item name="Category 2"/>
  <item name="Product1"/>
  <item name="200"/>
</item>
<item name="Asia">
  <item name="Asia"/>
  <item name="India"/>
  <item name="Calcutta"/>
  <item name="CT"/>
  <item name="Category 1"/>
  <item name="Product 1"/>
  <item name="100"/>
  <item name="Category 2"/>
  <item name="Product1"/>
  <item name="200"/>
  <item name="Category 3"/>
  <item name="Product2"/>
  <item name="200"/>
</item>
<item name="Mexico">
  <item name="Mexico"/>
  <item name="Mexico City"/>
  <item name="MC"/>
  <item name="Category 2"/>
  <item name="Product 1"/>
  <item name="200"/>
</item> 
```

```
I need the output to be in XML so that 

  Asia 
  |  India 
  |     Mumbai
  |     |  MH
          |  Category 1
        |    |    Product 1
          |  |      100
          |  Category 2
          |     Product 1
        | |         200
        Calcutta
           CT
             Category 1
                 Product 1
                    100
             Category 2
                 Product 1
                    200
             Category 3
   |              Product 2
   |                 200
   Mexico
     Mexico City ...... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T11:06:55.197

尝试使用类`appendChild()`的方法`XML`

```
var xml:XML = 
        <body>
            <cat>Animals</cat>
        </body>;

xml.appendChild(<cat>Fish</cat>);

trace(xml.toXMLString()) will show the following output

<body>
    <cat>Animals</cat>
    <cat>Fish</cat>
</body> 
```

# java - 如何将 spring bean 注入 jersey 的资源类中？

> ID：15985973
> 
> 赞同：1
> 
> 时间：2013-04-13T08:47:29.010
> 
> 标签：java, spring, jersey

首先，我定义了一个球衣资源，它定义了一个 GetAllProgramDesc 类，然后将一个 java bean“IDataDevProgram”注入其中。

```
 @Path("/datadev")
   public class GetAllProgramDesc {

private IDataDevProgram dataProgram;

public IDataDevProgram getDataProgram() {
    return dataProgram;
}

public void setDataProgram(IDataDevProgram dataProgram) {
    this.dataProgram = dataProgram;
}

// The Java method will produce content identified by the MIME Media
// type "text/plain"
@GET @Path("/mbpprograms") 
@Produces("application/json")
public String getClichedMessage() {
    // Return some cliched textual content
    List<MbpProgram> list=dataProgram.showMbpProgramList(21294551);
    return JSONObject.toJSONString(list);
} 
```

}

然后我想将一个 java bean 注入到 jersey 资源类中：

```
<bean id="dataDevProgram" class="com.taobao.gemstone.data.mbpapi.datadev.DataDevProgram">
    <property name="mDBops" ref="dataDevDBOps" />
    <property name="sqlManager" ref="sqlManger" />
    <property name="actionManager" ref="actionManger" />
    <property name="dataManager" ref="dataManageImpl" />
    <property name="constant" ref="constantproperty"/>
</bean>

<bean id="datadevrest"    class="com.taobao.gemstone.data.mbpapi.restresources.GetAllProgramDesc">
    <property name="dataProgram" ref="dataDevProgram" />
</bean> 
```

但是，当我向这个 url 发送查询时，整个过程崩溃如下：

java.lang.NullPointerException com.taobao.gemstone.data.mbpapi.restresources.GetAllProgramDesc.getClichedMessage(GetAllProgramDesc.java:48) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java: 57) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:601)

有什么方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:17:38.710

如果您想在 Jersey 中使用 Spring，您可以使用以下方法之一：

注入`@Context ServletContext context;`你的资源类，

然后使用如下代码：

`WebApplicationContext applicationContext = WebApplicationContextUtils.getRequiredWebApplicationContext(context); IDataDevProgram dataProgram = applicationContext.getBean(IDataDevProgram .class);`

或者，您也可以对 IoC 容器使用球衣支持：

`@InjectParam IDataDevProgram dataProgram`

您将不得不使用`jersey-spring`contrib 并`SpringServlet`在您的应用程序中申请`web.xml`，有许多简短的教程解释了如何做到这一点

# version-control - 如何显示更改列表何时签出文件？

> ID：15985976
> 
> 赞同：1
> 
> 时间：2013-04-13T08:47:37.440
> 
> 标签：version-control, perforce

默认情况下，Perforce 会显示更改列表是否已搁置文件或需要解析或过时的文件。我想知道哪些更改列表已签出文件。那可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-24T12:30:26.907

转到 P4V 中的待处理“选项卡”清空“工作区是”过滤器 <- 这将获得属于您的所有更改列表，无论是否在您的工作区中按“用户是”自己过滤 <- 只获得您的过滤器“文件匹配以下任何文件路径”：`//*/...` 这将过滤掉任何完全空的待处理更改列表（通常很多“默认”更改列表，一个由您拥有的工作区）。

现在，您在选项卡视图中留下了两种更改列表： 那些没有小文件图标的更改列表留在其三角形已签出文件。三角形左侧有一个小文件图标的文件在架子上。

不幸的是，从 P4V 开始，我认为无法更好地过滤带有搁置文件的文件并从仅带有搁置文件的文件中检出文件。

# perl - 在 Perl 中创建 XML 文件

> ID：15985980
> 
> 赞同：2
> 
> 时间：2013-04-13T08:48:29.170
> 
> 标签：perl, xml-parsing

我的输入文件是

```
TBLA      COLA      A    B    
TBLA      COLB      D    E    
TBLB      COLX      M    N     
TBLB      COLD      A    B   
TBLC      COLD      A    B 
```

以 xml 格式创建的输出为

```
<Data>    
    <TBLA>    
        <COLA>
            <oldvalue>A</oldvalue>
            <newvalue>B</newvalue>    
        </COLA>         
        <COLB>    
            <oldvalue>D</oldvalue>    
            <newvalue>E</newvalue>     
        </COLB>       
    </TBLA>    
    <TBLB>     
        <COLX>    
            <oldvalue>M</oldvalue>    
            <newvalue>N</newvalue>    
        </COLX>       
        <COLD>    
            <oldvalue>A</oldvalue>   
            <newvalue>B</newvalue>     
        </COLD>       
    </TBLB>     
    <TBLC>    
        <COLD>    
            <oldvalue>A</oldvalue>    
            <newvalue>B</newvalue>     
        </COLD>   
    </TBLC>  
</Data> 
```

任何人都可以建议什么是最好的方法来做到这一点。我应该先将此文本文件转换为哈希值，然后再尝试使用`pltoxml()`. 这有意义吗？可以`XML::Simple`或`XML::Writer`足够了。

这是我第一次使用 xml 并且不确定哪种方法可以有效地帮助我的解决方案。
我的请求的一个小例子将不胜感激。

*输入文件将始终按第一个字段排序

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:25:11.243

鉴于非常简单的数据结构，使用整个 XML 编写器似乎有点不必要。但是，我假设表名和列名是有效的 XML 标记名。

这是一个简单的脚本，它读取数据而不将其存储在中间数据结构中。它适用于 perl5 v10 及更好的版本。

```
use strict; use warnings; use feature 'say';

my $last_table;
say '<Data>';
while(<>) {
  chomp;
  my ($table, $col, $old, $new) = split /\t/;
  s/&/&amp;/g, s/</&lt;/g for $old, $new;
  # I'll assume $table and $col have sane names
  if (not defined $last_table) {
    say "  <$table>";
  } elsif ($last_table ne $table) {
    say "  </$last_table>";
    say "  <$table>";
  }
  $last_table = $table;
  say "    <$col>";
  say "      <oldvalue>$old</oldvalue>";
  say "      <newvalue>$new</newvalue>";
  say "    </$col>";
}
say "  </$last_table> if defined $last_table;
say '</Data>'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-13T09:39:38.130

Recommend is to use [XML::Simple](http://search.cpan.org/~grantm/XML-Simple-2.20/lib/XML/Simple.pm) instead of writing an selfmade XML Parser. You just need to set:

```
use XML::Simple;
my $xml = XMLout($hashref, RootName => 'Data'); 
```

# c# - 如何将单词方程转换为图像？

> ID：15985985
> 
> 赞同：3
> 
> 时间：2013-04-13T08:48:53.703
> 
> 标签：c#, wpf, winforms, equation

当我在 RichTexyBox(wpf/win) 上复制/粘贴方程式时，我想将其转换为图像。我该怎么做？或者我可以从剪贴板中获取它作为图像吗？ ![在此处输入图像描述](https://i.stack.imgur.com/SxLip.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-14T17:07:35.370

您可以使用 MathType 将所有文档方程导出到图像： http: [//www.dessci.com/en/products/mathtype/](http://www.dessci.com/en/products/mathtype/) 在安装 MathType 之前，请尝试将文档另存为网页并查看创建的文件夹。

# c++ - BST 的析构函数

> ID：15985987
> 
> 赞同：1
> 
> 时间：2013-04-13T08:49:00.307
> 
> 标签：c++, memory, destructor

我必须实现自己的二叉搜索树。据我所知，除析构函数外，一切正常。这是一些代码（所有析构函数和构造函数）

```
Node(){
        val = T();
        parent=nullptr;
        lChild = nullptr;
        rChild = nullptr;
    }
    Node(T &valx){
        val=valx;
        parent=nullptr;
        lChild = nullptr;
        rChild = nullptr;
    }
    Node(const Node &other){
        val = other.val;
        if(other.lChild!=nullptr){
            lChild = new Node(*other.lChild);
            lChild->parent=this;
        }
        else
            lChild=nullptr;
        if(other.rChild!=nullptr){
            rChild= new Node(*other.rChild);
            rChild->parent=this;
        }
        else
            rChild=nullptr;
    }
    ~Node(){
        if(lChild!=nullptr){
            delete lChild; 
            lChild=nullptr; 
        }
        if(rChild!=nullptr){
            delete rChild; 
            rChild=nullptr; 
        }
    } 
```

和

```
Set(){
    root = nullptr;
    sizeOfTree=0;
}
Set(const Set &other){
    if(other.root!=nullptr){
        root = new Node(*other.root);
        root->parent=nullptr;
    }
    else
        root=nullptr;
    sizeOfTree=other.sizeOfTree;
}
~Set()
{
    if(root!=nullptr){
        delete root;
        //root->~Node();
        root=nullptr;
    }
} 
```

通过最简单的测试，valgrind 显示 272 个错误。感谢帮助

@edit：valgrind 输出的一部分：

```
==6981== Invalid read of size 8
==6981==    at 0x405C29: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:53)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x404790: Plansza::~Plansza() (in /media/Dokumenty/Workspace/JakbyGomoku4/Debug/JakbyGomoku4)
==6981==    by 0x4015F0: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c34468 is 24 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401E27: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:315)
==6981==    by 0x4015A6: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid read of size 8
==6981==    at 0x405C5F: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:57)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x404790: Plansza::~Plansza() (in /media/Dokumenty/Workspace/JakbyGomoku4/Debug/JakbyGomoku4)
==6981==    by 0x4015F0: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c34470 is 32 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401E27: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:315)
==6981==    by 0x4015A6: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid free() / delete / delete[] / realloc()
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x404790: Plansza::~Plansza() (in /media/Dokumenty/Workspace/JakbyGomoku4/Debug/JakbyGomoku4)
==6981==    by 0x4015F0: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c34450 is 0 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401E27: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:315)
==6981==    by 0x4015A6: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:718)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid read of size 8
==6981==    at 0x405C6C: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:58)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x4057AF: Set<Pionek>::clear() (JakbyGomoku4.cpp:222)
==6981==    by 0x40160B: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:731)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c334c0 is 32 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401E27: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:315)
==6981==    by 0x4016DE: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:742)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid write of size 8
==6981==    at 0x405C89: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:59)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x4057AF: Set<Pionek>::clear() (JakbyGomoku4.cpp:222)
==6981==    by 0x40160B: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:731)
==6981==    by 0x401746: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:745)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c334c0 is 32 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401E27: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:315)
==6981==    by 0x4016DE: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:742)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid read of size 8
==6981==    at 0x405C36: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:54)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x40479C: Plansza::~Plansza() (in /media/Dokumenty/Workspace/JakbyGomoku4/Debug/JakbyGomoku4)
==6981==    by 0x401755: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:748)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c33448 is 24 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401DF0: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:314)
==6981==    by 0x4016DE: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:742)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981== 
==6981== Invalid write of size 8
==6981==    at 0x405C53: Set<Pionek>::Node::~Node() (JakbyGomoku4.cpp:55)
==6981==    by 0x4049EA: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x40479C: Plansza::~Plansza() (in /media/Dokumenty/Workspace/JakbyGomoku4/Debug/JakbyGomoku4)
==6981==    by 0x401755: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:748)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792)
==6981==  Address 0x4c33448 is 24 bytes inside a block of size 40 free'd
==6981==    at 0x4A073CC: operator delete(void*) (vg_replace_malloc.c:480)
==6981==    by 0x4049F2: Set<Pionek>::~Set() (JakbyGomoku4.cpp:152)
==6981==    by 0x401DF0: Plansza::Plansza(Plansza const&) (JakbyGomoku4.cpp:314)
==6981==    by 0x4016DE: generujPlansze(Plansza&, int, bool, Set<Plansza>&) (JakbyGomoku4.cpp:742)
==6981==    by 0x4019D5: main (JakbyGomoku4.cpp:792) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:06:45.270

除了在[此处](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three)
复制 ctor 和析构函数检查之外，您还缺少 operator= 也不需要在析构函数中检查 nullptr ，[删除 nullptr 是可以的](https://stackoverflow.com/questions/6731331/is-it-still-safe-to-delete-nullptr-in-c0x)。
考虑类似的东西

```
Node n1;
//set children for n1
{
Node n2;
//set children for n2
n1 = n2;//Now both n1 and n2 points same children, and initial children of n1 becomes mem leak
}//n2 destructor deletes its children leaving n1 pointing to the same already freed memory location 
```

# java - 在两个线程中使用相同的Hashmap时Hashmap中的并发修改异常

> ID：15985991
> 
> 赞同：0
> 
> 时间：2013-04-13T08:49:42.880
> 
> 标签：java, exception, hashmap, concurrentmodification

我正在开发一个通过网络玩的多人蛇游戏。它运行良好，但偶尔会抛出 java.util.ConcurrentModification 异常。这是在我的游戏的主类中的paintComponent() 方法中抛出的。抛出这个的代码是

```
 for (String name : map.keySet()) {
        if (!map.get(name).gameover) {
            for (int i = 0; i < map.get(name).length; i++) {
                rect = new Rectangle2D.Double(map.get(name).p[i].x,
                        map.get(name).p[i].y, width, width);
                g1.setColor(Color.black);
                g1.draw(rect);
                g1.setPaint(map.get(name).snakecolor);
                g1.fill(rect);
            }
        }
    } 
```

Hashmap 映射是从

```
 HashMap<String,Snake> 
```

其中 Snake 是具有蛇所有属性的类。主类还并行运行一个线程，用于通过服务器接收来自其他客户端的消息和更新。

线程端的迭代器也使用相同的映射（通过对该类的引用传递）。代码如下。如果任何玩家的分数达到某个特定点，然后升级该级别，则调用此函数。

```
 void levelUp(int level){
    for(String name:map.keySet()){
        map.get(name).level=level;
    }
    Game.speed=100/level;
} 
```

我认为对象写入之间的冲突是由于这个原因。任何人都可以为这个问题提出一个解决方案。

下面还给出了我将值放入地图的代码。

```
void populateMap() {
    try {
        try {
            objin = new ObjectInputStream(socket.getInputStream());
        } catch (StreamCorruptedException e) {
            System.out.println("Stream Corrupted!");
        }
        Object name = objin.readObject();
        if (((Snake) name).player.equals("food_coord")) {
            Game.foodx = objin.readInt();
            Game.foody = objin.readInt() + 35;
            start = true;
            System.out.println("Game Started");
            return;
        } else {
            map.put(((Snake) name).player, (Snake) name);
            System.out.println("Recieved: " + ((Snake) name).player);
        }
    } catch (java.net.SocketException s) {
        JOptionPane.showMessageDialog(null, "Server Closed", "ERROR",
                JOptionPane.ERROR_MESSAGE);
        System.exit(0);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T09:01:58.090

将您的地图实现类更改为支持并发的类，例如`ConcurrentHashMap`

# javascript - 将变量从控制器传递到指令的隔离范围而不将其添加到父范围的最佳方法

> ID：15985992
> 
> 赞同：0
> 
> 时间：2013-04-13T08:49:48.897
> 
> 标签：javascript, angularjs, angularjs-directive, angularjs-scope

对不起，如果标题不是最准确的。那么我正在尝试做什么以及我背后的原因是什么。我有一个非常大的条目列表，最多 400 个项目，我从 ajax 请求中获取此列表，现在如果第**一个**项目具有属性`running`，我想从列表中提取它（通过使用`splice()`）并将其传递给指令，它可以在一个*孤立的范围内*处理它。为什么？因为正在运行的条目上会有一个计时器，它每秒都会为它的一个属性添加 +1 `$timeout`。

现在我希望它被隔离，因为这个Angular.js*过滤*[器和作用域上的函数每秒](https://stackoverflow.com/q/15929191/301596)都在变化) 在运行条目上更改。

 *现在，当我按保存或其他东西时，我想将正在运行的条目放回条目中，只有`running: false`现在。

我有点知道如何从父对象继承对象并在指令上从中创建一个隔离范围 - [http://plnkr.co/edit/zq3urVh5t6N12T5ZrViO?p=preview](http://plnkr.co/edit/zq3urVh5t6N12T5ZrViO?p=preview)

以这种方式将其传递到那里似乎并不理想，但有人告诉我这很好，并没有真正违反最佳实践。

**现在问题/问题来了**

1.  有没有办法在不将其添加到范围的情况下传递“运行”指令，因为一旦它被复制它就几乎没用了
    *   我应该寻找一种在不将其添加到范围的情况下传递它的方法吗？
    *   还是我应该在复制后删除它？
    *   还是我应该离开它，因为它没关系？
2.  如果`ENTRIES`使用 ajax 设置，则无法复制正在运行的，因为它尚未设置 - [http://plnkr.co/edit/vH3hKbkTkTvcHqykIXDt?p=preview](http://plnkr.co/edit/vH3hKbkTkTvcHqykIXDt?p=preview)
    *   我应该`$watch`在指令里面吗？
    *   还是我应该使用广播/打开？像这样[http://plnkr.co/edit/1oPMyxSVMdiN8tB9l1YJ?p=preview](http://plnkr.co/edit/1oPMyxSVMdiN8tB9l1YJ?p=preview)
    *   还是我完全做错了？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:53:17.220

如果你想传递完整的文字对象，你必须使用 '=' 但是如果你想使用 @ 那么你必须使用 $eval 看看工作的小例子

```
<!doctype html>
<html ng-app="plunker" >
<head>
  <meta charset="utf-8">
  <title>AngularJS Plunker</title>

  <link rel="stylesheet" href="style.css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
  <script src="app.js"></script>
</head>
<body ng-controller="MainCtrl">
    <input ng-model="obj.name">

    <my-directive obj="obj" title="{{title}}">

      </my-directive>
    <script type="text/javascript">
        var app = angular.module('plunker', []);

        app.controller('MainCtrl', function ($scope) {
            $scope.obj = { name: "John", surname: "Doe" };
            $scope.title = { name: 'abc' };
        });

         app.directive('myDirective', function () {
        return {
            restrict: 'E',
            template: "<div><span>{{obj.name}}<span><span>{{title}}<span></div>",
            replace: true,
            scope: { title: '@', obj: '=' },
            link: function (scope, element, attrs) {
                attrs.$observe('title', function (value) {
                    alert(scope.$eval(value).name);
                })

            }
        }
    })
    </script>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-23T14:45:57.427

将您的指令更改为具有范围：true - 然后将其隔离但继承父级

```
app.directive('myDirective', function($timeout) {
    return {
    restrict: 'E',
    scope: true,
        link: function(scope, element, attrs) {
            scope.timer = 0;
            $timeout(function tick() {
                scope.timer = scope.timer+1;
                $timeout(tick, 1000);
            });      
        }
    }
}) 
```

然后在您的指令中使用它，就好像它在父范围内一样！

```
<my-directive>
  <h4>"running" entry on directive in isolated scope</h4>
  <p>Timer: {{timer}}</p>
  {{ running | json }}<br/>
  <input type="text" ng-model="running.name" />
</my-directive> 
```

[http://plnkr.co/edit/f5AzfjoEmRT9P1Dw8REj?p=preview](http://plnkr.co/edit/f5AzfjoEmRT9P1Dw8REj?p=preview)*

# ios - 检测图像中的透明度

> ID：15985996
> 
> 赞同：9
> 
> 时间：2013-04-13T08:49:57.217
> 
> 标签：ios, core-graphics

我需要确定 png 图像是否包含任何透明度 - 实现这一目标的最有效代码是什么？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-13T09:52:13.113

将 png 转换为像素缓冲区并使用 vimage 计算颜色分布的直方图。然后检查 alpha 通道直方图。vimage 比逐个遍历像素要快得多。

```
CVPixelBufferRef pxbuffer = NULL;

vImagePixelCount histogramA[256];
vImagePixelCount histogramR[256];
vImagePixelCount histogramG[256];
vImagePixelCount histogramB[256];
vImagePixelCount *histogram[4];
histogram[0] = histogramA;
histogram[1] = histogramR;
histogram[2] = histogramG;
histogram[3] = histogramB;
vImage_Buffer vbuff;
vbuff.height = CVPixelBufferGetHeight(pxbuffer);
vbuff.width = CVPixelBufferGetWidth(pxbuffer);
vbuff.rowBytes = CVPixelBufferGetBytesPerRow(pxbuffer);

vbuff.data = pxbuffer; 
vImage_Error err = vImageHistogramCalculation_ARGB8888 (&vbuff,histogram, 0);
if (err != kvImageNoError) NSLog(@"%ld", err);

int trans = 255 //How little transparency you want to include
BOOL transparent = NO;      
for(int i=0; i<trans; i++){
   if(histogram[0][i]>0) transparent = YES;
} 
```

vimage 假设颜色在缓冲区中是有序的 ARGB。如果您有其他东西，例如 BGRA，您只需检查 histogram[3][i]。

更快的可能是首先使用 vImageConvert_ARGB8888toPlanar8 将缓冲区分成四个平面缓冲区，然后使用 vImageHistogramCalculation_Planar8 对 alfa 缓冲区进行直方图计算。

您可以将 png 作为 CGImage 打开并使用 vImageBuffer_initWithCGImage 将其直接转换为 vimage 缓冲区（请参阅 WWDC 2014 的 session 703）。

最后，另一种方法是使用 Core Image 来计算直方图。

# java - 无法编译的源代码 java.awt.Container.add

> ID：15985998
> 
> 赞同：0
> 
> 时间：2013-04-13T08:50:11.887
> 
> 标签：java, swing, jpanel, layout-manager

好的，所以我的 GUI 有问题。在做完全相同的事情时，我遇到了以前从未遇到过的错误。我什至在使用旧代码。而且我正在考试，所以我的压力更大，因为我不明白这个问题。

主要： http: [//pastebin.com/Py9S6nd3](http://pastebin.com/Py9S6nd3)

```
import javax.swing.JFrame;

public class Jonth_SwingTenta {

    private static void createAndShowGui() {
        //Skapar ett fönster där gui komponenter läggs.
        JFrame frame = new JFrame("ToDo");
        //Anger vad som ska hända om fönstret stängs, i detta fall avslutas fönstret när man trycker på X.
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        //Skapar ett objekt av klassen FormularPanel (privat lyssnarklass)
        //GridBagPanel panel = new GridBagPanel(); 
        PanelGUI panel = new PanelGUI();
//        frame.setJMenuBar(panel2.getMenu());
        //Lägger på panelen på frame.
        frame.getContentPane().add(panel);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        javax.swing.SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                createAndShowGui();
            }
        });
    }
} 
```

用户界面：http : [//pastebin.com/TYFG1XdU](http://pastebin.com/TYFG1XdU)

```
import java.awt.*;
import javax.swing.*;
import javax.xml.bind.Marshaller.Listener;

/**
 *
 * @author h12mjont
 */
public class PanelGUI extends JPanel {

    private JPanel panel;
    private GridBagConstraints c;
    private GridBagLayout gridBag;
    private JLabel variID, varuNamn, varuKat;
    private JTextField textField1, textField2;
    private JTextArea textArea1;
    private JButton laggTill, taBort, uppdatera, sokPaID, sokKat;
    private Listener listener;
    private DAOFactory daofactory;
    private DAOInterface dao;
    private JComboBox markeBox;
    String[] marken = {"Frukt", "Mejeri", "Kött"};

    public PanelGUI() {

        panel = new JPanel(); //Skapar en ny panel där alla komponeneter ska finnas.
        gridBag = new GridBagLayout(); //Skapar en gridbaglayout
        c = new GridBagConstraints(); //Skapar constraints.
        panel.setLayout(gridBag); //Sätter layouten.
        //----------------col 1-----------------------------------
        variID = new JLabel("Varu ID");
        laggTillGUIGridBag(variID, 0, 0, 1, 1);
        varuNamn = new JLabel("Varunamn");
        laggTillGUIGridBag(varuNamn, 1, 0, 1, 1);
        varuKat = new JLabel("Varukategori");
        laggTillGUIGridBag(varuKat, 2, 0, 1, 1);
        laggTill = new JButton("Lägg till");
        laggTillGUIGridBag(laggTill, 3, 0, 1, 1);
        uppdatera = new JButton("Uppdatera");
        laggTillGUIGridBag(uppdatera, 4, 0, 1, 1);
        sokKat = new JButton("Sök på Kategori");
        laggTillGUIGridBag(sokKat, 5, 0, 2, 1);
        //-----------------col 2--------------------------------
        textField1 = new JTextField();
        textField1.setPreferredSize(new Dimension(70, 20));
        laggTillGUIGridBag(textField1, 0, 1, 2, 1);
        textField2 = new JTextField();
        textField2.setPreferredSize(new Dimension(70, 20));
        laggTillGUIGridBag(textField2, 1, 1, 2, 1);
        markeBox = new JComboBox();
        markeBox.setModel(new DefaultComboBoxModel(marken));
        // markeBox.addItemListener(combolyssnare);
        markeBox.setPreferredSize(new Dimension(70, 20));
        laggTillGUIGridBag(markeBox, 2, 1, 1, 1);
        taBort = new JButton("Ta bort");
        laggTillGUIGridBag(taBort, 3, 1, 1, 1);
        sokPaID = new JButton("Sök på id");
        laggTillGUIGridBag(sokPaID, 4, 1, 1, 1);
        //-------------------col 3--------------------------------
        textArea1 = new JTextArea();
        textArea1.setPreferredSize(new Dimension(350, 100));
        textArea1.setMinimumSize(new Dimension(350, 100));
        laggTillGUIGridBag(textArea1, 0, 3, 2, 2);
        //----------------Slut på GUI ----------------------------
        add(panel);
    }

    private void laggTillGUIGridBag(Component guiKomponent, int rad, int kolumn, int bredd, int hojd) {
        c.fill = GridBagConstraints.BOTH; //Gör så komponenten fyller ut sig i storlek åt båda håll.
        c.gridx = kolumn;
        c.gridy = rad;
        c.gridwidth = bredd;
        c.gridheight = hojd;
        c.insets = new Insets(5, 5, 5, 5); //Sätter padding runt komponenten
        gridBag.setConstraints(guiKomponent, c);
        panel.add(guiKomponent, c);
    }
} 
```

我不明白问题是什么。对不起，虽然它是瑞典语，但你仍然可以理解我在做什么。

感谢您提供任何可能的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-13T10:18:30.860

Looks OK without all the `setPreferredSize()` calls, which should be [avoided](https://stackoverflow.com/q/7229226/230513).

![image](https://i.stack.imgur.com/JgdnG.png)

```
import java.awt.Component;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.xml.bind.Marshaller.Listener;

public class Jonth_SwingTenta {

    private static void createAndShowGui() {
        JFrame frame = new JFrame("ToDo");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        PanelGUI panel = new PanelGUI();
        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                createAndShowGui();
            }
        });
    }

    private static class PanelGUI extends JPanel {

        private JPanel panel;
        private GridBagConstraints c;
        private GridBagLayout gridBag;
        private JLabel variID, varuNamn, varuKat;
        private JTextField textField1, textField2;
        private JTextArea textArea1;
        private JButton laggTill, taBort, uppdatera, sokPaID, sokKat;
        private Listener listener;
        private JComboBox markeBox;
        String[] marken = {"Frukt", "Mejeri", "Kött"};

        public PanelGUI() {

            panel = new JPanel();
            gridBag = new GridBagLayout();
            c = new GridBagConstraints();
            panel.setLayout(gridBag);
            //----------------col 1-----------------------------------
            variID = new JLabel("Varu ID");
            laggTillGUIGridBag(variID, 0, 0, 1, 1);
            varuNamn = new JLabel("Varunamn");
            laggTillGUIGridBag(varuNamn, 1, 0, 1, 1);
            varuKat = new JLabel("Varukategori");
            laggTillGUIGridBag(varuKat, 2, 0, 1, 1);
            laggTill = new JButton("Lägg till");
            laggTillGUIGridBag(laggTill, 3, 0, 1, 1);
            uppdatera = new JButton("Uppdatera");
            laggTillGUIGridBag(uppdatera, 4, 0, 1, 1);
            sokKat = new JButton("Sök på Kategori");
            laggTillGUIGridBag(sokKat, 5, 0, 2, 1);
            //-----------------col 2--------------------------------
            textField1 = new JTextField();
            laggTillGUIGridBag(textField1, 0, 1, 2, 1);
            textField2 = new JTextField();
            laggTillGUIGridBag(textField2, 1, 1, 2, 1);
            markeBox = new JComboBox();
            markeBox.setModel(new DefaultComboBoxModel(marken));
            // markeBox.addItemListener(combolyssnare);
            laggTillGUIGridBag(markeBox, 2, 1, 1, 1);
            taBort = new JButton("Ta bort");
            laggTillGUIGridBag(taBort, 3, 1, 1, 1);
            sokPaID = new JButton("Sök på id");
            laggTillGUIGridBag(sokPaID, 4, 1, 1, 1);
            //-------------------col 3--------------------------------
            textArea1 = new JTextArea();
            laggTillGUIGridBag(textArea1, 0, 3, 2, 2);
            //----------------Slut på GUI ----------------------------
            add(panel);
        }

        private void laggTillGUIGridBag(Component guiKomponent,
                int rad, int kolumn, int bredd, int hojd) {
            c.fill = GridBagConstraints.BOTH;
            c.gridx = kolumn;
            c.gridy = rad;
            c.gridwidth = bredd;
            c.gridheight = hojd;
            c.insets = new Insets(5, 5, 5, 5);
            gridBag.setConstraints(guiKomponent, c);
            panel.add(guiKomponent, c);
        }
    }
} 
```

# java - 你可以在 Java 中声明多类型变量吗？

> ID：15985999
> 
> 赞同：3
> 
> 时间：2013-04-13T08:50:30.963
> 
> 标签：java, variables, types, declaration

我有多个接口和一个实现所有接口的类。我想在实现类的实例上调用这些接口中定义的所有方法，但我不想将变量声明为类类型，以便我仍在对接口进行编程。

看来我必须：

1.  将对象从一种接口类型转换为另一种接口类型以调用适当的方法。
2.  创建一个扩展其他接口的联合接口并声明该类型的变量。

我宁愿不这样做，因为 1 不是类型安全的，而 2 可能意味着您很快就会得到很多“联合”接口，它们本身什么都不添加。是否有可能有类似的东西：

```
public interface A {
    public void doThis();
}

public interface B {
    public void doThat();
}

public class C implements A, B {
    public void doThis(){;}
    public void doThat(){;}
}

//Fake calling code:
public void go() {
    A,B dualTypedInstance = new C(); //
    dualTypedInstance.doThis();
    dualTypedInstance.doThat();

} 
```

看起来这真的应该是可能的。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-13T09:03:17.240

你可以这样做：

```
ImplementsInterfaces impl = new ImplementsInterfaces();
A a = impl;
B b = impl; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-11-29T00:53:44.867

在 2019 年做到这一点并非完全不可能，尽管我不一定会在生产代码中推荐该解决方案，并且它还带有一个警告，即对象必须是不可变的。例如，要创建一个*有效地*具有实现 InterfaceA 和 InterfaceB 的实例变量的类，它们分别具有方法 methodA() 和 methodB()，您可以执行以下操作

```
public interface MyInterface {
  public void methodA();
  public void methodB();

  public static <O extends InterfaceA & InterfaceB> MyInterface of(O obj){
      return new MyInterface(){
          public void methodA(){
               obj.methodA();
          }

          public void methodB(){
               obj.methodB();
          }
      };
  } 
```

这将创建一个匿名内部类，它实际上具有类型为 InterfaceA 和 InterfaceB 的最终实例变量，而无需对该依赖项的任何特定实现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-13T08:58:19.967

为什么不想实例化实现 (a) 和 (b) 的类 (c)？

另一种方法是从 (a) 和 (b) 创建抽象类，并有两个抽象方法（每个都有一个，就像你已经拥有的那样），然后创建类 (c)，然后扩展（而不是实现）其他类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-13T09:09:16.483

一种替代方法是创建抽象超类：

```
public abstract class AbstractAB implements A, B {
}

public class C extends AbstractAB {
    public void doThis(){;}
    public void doThat(){;}

}

public void go() {
    AbstractAB dualTypedInstance = new C();
    dualTypedInstance.doThis();
    dualTypedInstance.doThat();
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-09-21T16:14:23.177

您也可以在 Class 声明中执行此操作：

```
public class<T extends A & B> SomeClass{
     Void doStuff(){
          T variable = new C();
     }
} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-04-13T09:32:03.513

接口*应该*包含一个独特的抽象单元，以便它们可以单独使用，即不知道它们的实现并且不依赖于可能在一个类中实现的其他接口。接口*可以*扩展其他接口，但层次结构本身并不是一个东西，它应该在您的应用程序中具有某种*意义*。因此，如果您被迫制作许多人为的“标记”界面，那么您做错事的可能性非常高。最后但同样重要的是，您可以拥有一个可以实现必要接口的抽象基类。

让我用一个简单的例子来说明这一点。假设您正在为应用程序创建前端。您可以考虑可以拖动或实现的不同面板。用 java 术语来说，可以有两个接口：`Draggable`with a `drag()`method 和`Resizable`with `redize()`method。在拖动事件下，您的 API 不应该知道实现类的详细信息，它唯一应该关心的是，这个类是否实现`Draggable`。但是如果您希望有一个具体的实现，它的*两个*接口都以可能不同的方式实现，您可以创建一个抽象类作为具体实现的基础：`abstract class BasePanel extends Panel implements Draggable, Resizable`. 这样，您以一种可以在单独的“拖动”广告“调整大小”上下文中的方式声明您的类。另一方面，如果您想拥有一个能够同时了解它们的上下文，您可以创建另一个接口来扩展基本接口，并可能添加另一个方法，例如`public interface GuiUnit extends Draggable, Resizable`.

最后，我的想法是向您展示，当您期望在不相关的接口之间进行条件转换时，您应该避免设计情况，并且要么将您的实现完全基于您希望处理的一个接口，要么基于一组抽象类。如果你认为这还不够——你最好重新考虑你的设计考虑。