# StackOverflow 问答 14951000-14951999

# c# - 想要打开另一个页面中的文件可能是图像，文本，文档，PDF等，当点击链接（文件名）时，在asp.net c#

> ID：14951000
> 
> 赞同：0
> 
> 时间：2013-02-19T06:12:14.413
> 
> 标签：c#, asp.net

我正在制作一个应用程序，它在 asp.net c# 中与用户共享文件...我有一个网格，其中包含用户名列和文件名以及链接

现在我希望当我点击文件名（可以是文本、图像、文档、PDF）时，文件应该在不同的页面上打开

**我的 aspx 页面代码如下**

```
 <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" CellPadding="3"
        CssClass="grid" BackColor="White" BorderColor="#CCCCCC" BorderStyle="None" 
        BorderWidth="1px" onrowcommand="GridView1_RowCommand">
        <RowStyle ForeColor="black" />
        <Columns>
            <asp:TemplateField HeaderText="File Name">
                <ItemTemplate>
                    <asp:Label ID="Label1" runat="server" Text='<%# Bind("FileName") %>'></asp:Label>
                </ItemTemplate>
                <HeaderStyle HorizontalAlign="Left" />
            </asp:TemplateField>
            <asp:TemplateField HeaderText="Who shared">
                <ItemTemplate>
                    <asp:Label ID="Label3" runat="server" Text='<%# Bind("UserName") %>'></asp:Label>
                </ItemTemplate>
                <HeaderStyle HorizontalAlign="Left" />
                <ItemStyle Width="200px" />
            </asp:TemplateField>

            <asp:TemplateField ShowHeader="False">
                <ItemTemplate>
                    <asp:LinkButton ID="LinkButton1" runat="server" CausesValidation="False" CommandArgument='<%#((GridViewRow)Container).RowIndex%>'
                        Text='<%# Bind("FileName") %>' CommandName="ViewImages" ></asp:LinkButton>
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>
        <FooterStyle BackColor="White" ForeColor="#000066" />
        <PagerStyle BackColor="White" ForeColor="#000066" HorizontalAlign="Left" />
        <SelectedRowStyle BackColor="#669999" Font-Bold="True" ForeColor="White" />
        <HeaderStyle BackColor="black" Font-Bold="True" ForeColor="White" />
    </asp:GridView> 
```

如何在其他页面打开文件，以便用户可以在线看到文件的内容？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:21:21.960

您可以使用处理程序打开或下载任何格式文件。& 对于新页面，将 target="_blank" 提供给您的链接。请在此处找到处理程序代码：http: [//pastie.org/6221636](http://pastie.org/6221636)

&称它为`'../MyHandler.ashx?ID=filename.txt'`

如果您只有打开新选项卡的问题，请查看[如何在 gridview 的 rowcommand 事件中的新选项卡中打开页面？](https://stackoverflow.com/questions/14798264/how-to-open-a-page-in-a-new-tab-in-the-rowcommand-event-of-gridview)

# module - 在Angularjs中使用module.config或.run加载时如何广播到其他控制器

> ID：14951003
> 
> 赞同：0
> 
> 时间：2013-02-19T06:12:16.597
> 
> 标签：module, angularjs, config, factory, broadcast

我在阅读网页时进行了检查，然后使用结果通过 ng-repeat 刷新侧边栏，但出现错误：

未捕获的错误：未知的提供者：来自 myModule 的 $scope 或未捕获的错误：未知的提供者：来自 sharedService 的 $scope

我该如何解决？

这是我的代码

模块：

```
var myModule = angular.module('myModule', []); 
```

广播服务：

```
myModule.factory('mySharedService', function($rootScope) { //service
    var sharedService = {};

    sharedService.keyHistory = [];
    sharedService.linkHistory = [];
    sharedService.prepForBroadcast = function(key,link) {
        this.keyHistory = key;
        this.linkHistory = link;
        this.broadcastItem();
    };

    sharedService.prepForBroadcastAdd =function(key){
        console.log(this.keyHistory.push(key));
        //this.linkHistory = linkHistory+link;
        this.broadcastItem();
    };

    sharedService.broadcastItem = function() {
        $rootScope.$broadcast('handleBroadcast');
    };

    return sharedService;
}); 
```

配置做检查：

```
myModule.config(function($scope,sharedService){

        $.ajax({
            url:"/fly/AJAX",
            type:"POST",
            contentType:'application/x-www-form-urlencoded; charset=UTF-8',     
            datatype:"json",
            success:function(data){
                if(data!=null){
                var loginResult = $.parseJSON(data);

                if (loginResult.success == true){ 
                    console.log("login success");
                    $("#userLable").html(loginResult.userName+'('+loginResult.loginID+')');//
                    if (loginResult.hasHistory==true) {  
                        sharedService.prepForBroadcast(loginResult.searchHistory,[]);
                        console.log("broadcast");
                    }
                    };
                }
            }
    });

}); 
```

侧键：

```
function SideCtrl($scope,sharedService) {
    $scope.$on('handleBroadcast', function() {

    $scope.keyHistory =sharedService.keyHistory;
    $scope.linkHistory = sharedService.linkHistory;
    });        

}

SideCtrl.$inject = ['$scope', 'mySharedService']; 
```

谢谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:48:41.667

该错误是由于尝试`$scope`在配置块中请求 a 而您无法做到的。如果我理解你想要做什么，那么我也认为你过于复杂了。我会以不同的方式解决问题。详细信息将取决于您的要求和用例，但基于您提供的信息......

我有一个服务负责与服务器通信并存储状态：

```
app.factory( 'loginService', function ( $http ) {
  var result;

  function doRequest( data ) {
    // just flesh out this post request to suit your needs...
    return $http.post( '/fly/ajax', data, {} )
    .then( function ( response ) {
      // assuming you don't care about the headers, etc.
      return response.data;
    });
  }

  // Do it once initially
  if ( ! angular.isDefined( result ) ) {
    result = doRequest();
  }

  // return the service's public API
  return {
    getStatus: function () { return result; },
    login: doRequest
  };
}); 
```

现在第一次请求此服务时，将`$http`发出请求。`isDefined`如果您从多个控制器访问它，则由于该语句，该帖子只会发生一次。然后，您可以在控制器中使用它：

```
app.controller( 'MainCtrl', function( $scope, loginService ) {
  loginService.getStatus().then( function ( data ) {
    // do whatever you need to with your data. 
    // it is only guaranteed to exist as of now, because $http returns a promise
  });
}); 
```

每个控制器都以相同的方式访问它，但它仍然只被调用一次！如果需要，您可以针对范围设置值并从视图中访问它：

```
app.controller( 'MainCtrl', function( $scope, loginService ) {
  loginService.getStatus().then( function ( data ) {
    $scope.loginId = data.loginID;
  });
}); 
```

在您看来：

```
<h1>Welcome, {{loginId || 'guest'}}!</h1> 
```

如果需要，可以再次调用该函数：

```
app.controller( 'MainCtrl', function( $scope, loginService ) {
  // ...
  loginService.login( $scope.user ).then( function ( data ) {
    $scope.loginId = data.loginID;
  });
  // ...
}); 
```

如您所见，广播事件是完全没有必要的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:49:03.207

我会做不同的事情。我会创建某种更顶级的控制器，例如`function MainController($rootScope, $scope, sharedService)`并将其与 body: 连接起来`<body ng-controller='mainController' ng-init='init()'`。之后，您应该`init()`在`MainController`.

在这个初始化方法中，我会调用`sharedService`它应该发出 AJAX 请求（通过`$http`！这是最佳实践，它与 jQuery 非常相似）并在需要时广播适当的事件。

这样，您确保只调用一次初始化（何时`MainController`初始化），您坚持使用 Angular 的最佳实践并避免看起来不可靠的代码。

# jquery-ui - ui-effects-wrapper 覆盖元素

> ID：14951008
> 
> 赞同：3
> 
> 时间：2013-02-19T06:12:41.170
> 
> 标签：jquery-ui

我遇到了 ui-effects-wrapper 在看似随机的位置覆盖其他元素的问题，因此特别为锚点创建了死区。只需添加 z-index:-1; 即可解决问题。到 .ui-effects-wrapper 的 css。

# java - 如何在 Eclipse 代码模板中获取 Maven pom.xml 版本？

> ID：14951009
> 
> 赞同：4
> 
> 时间：2013-02-19T06:12:43.987
> 
> 标签：java, eclipse, maven, version, code-templates

我有代码样式模板，它定义了带有新 Java 类注释的默认注释（见下文）。
如何让它插入来自 Maven 的版本`pom.xml`？就像是

```
@since ${pom.project.version} 
```

CodeStyle_codetemplates.xml

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- 
Code Style Code Template 
To start using open Window -> Preferences
Java \ Code Style \ Code Template
Press [Import...] button and select this file.
 -->
<templates>
<template autoinsert="false" context="newtype_context" deleted="false" description="Newly created files" enabled="true" id="org.eclipse.jdt.ui.text.codetemplates.newtype" name="newtype">${filecomment}
${package_declaration}

/**
 * 
 * @since ${date}
 * @author ${user} 
 * Reviewer 
 */
${typecomment}
${type_declaration}</template></templates> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T04:56:32.280

要执行您的要求，需要有一个 Eclipse 插件来为代码模板提供变量。[Can you define your own template variables in eclipse](https://stackoverflow.com/questions/431465/can-you-define-your-own-template-variables-in-eclipse)的答案中有一些指向此类插件信息的链接。您可以[将此请求作为](https://bugs.eclipse.org/bugs/describecomponents.cgi?product=m2e)m2e 项目的功能。

一个更快的解决方案是朝另一个方向发展：不是让 Eclipse 从 Maven 中提取信息，而是让 Maven 写入数据。[Using Maven to output the version number to a text file](https://stackoverflow.com/questions/3532135/using-maven-to-output-the-version-number-to-a-text-file)中有一些很好的说明

# dotnetnuke - 在 DNN 中通过代码创建 ProfileProperty

> ID：14951010
> 
> 赞同：3
> 
> 时间：2013-02-19T06:12:46.457
> 
> 标签：dotnetnuke, user-profile

如何在 DNN (DotNetNuke) 中通过代码创建配置文件属性？

我试过这段代码：

```
DotNetNuke.Entities.Profile.ProfilePropertyDefinition def =
   DotNetNuke.Entities.Profile.ProfileController.GetPropertyDefinitionByName(this.PortalId, "Level");            

if (def != null)
{
    def.DataType = 10;
    def.Length = 40;                   
    def.PropertyValue = "Level";
    def.PropertyName = "Level";

    oUser.Profile.ProfileProperties.Add(def);
}

oUser.Profile.SetProfileProperty("Level", ddlLevel.SelectedItem.Text.ToString().Trim());
DotNetNuke.Entities.Profile.ProfileController.UpdateUserProfile(oUser, oUser.Profile.ProfileProperties); 
```

但这不起作用，请帮助我找到合适的解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T10:44:46.657

尝试使用此代码添加配置文件属性：

```
if (DotNetNuke.Entities.Profile.ProfileController.GetPropertyDefinitionByName(this.PortalId, "Level") == null)
{
    DotNetNuke.Entities.Profile.ProfileController.AddPropertyDefinition(
        new DotNetNuke.Entities.Profile.ProfilePropertyDefinition(this.PortalId)
        {
            PropertyName = "Name",
            DataType = 10,
            ...
        });
} 
```

# node.js - 允许使用 Yeoman (1.0) grunt server 进行跨域调用

> ID：14951013
> 
> 赞同：6
> 
> 时间：2013-02-19T06:12:55.007
> 
> 标签：node.js, angularjs, connect, yeoman, gruntjs

直到昨天我决定在 OS X 上使用 beta 1.0 版本时，我一直在使用 Yeoman 0.9。我使用 Yeoman 来开发一个 Angular 应用程序。

随着我的应用程序的 Yeoman 0.9-->1.0 迁移完成并正常工作，我现在热衷于扩展开发服务器**~~约曼~~grunt server**允许我对另一个团队开发的 API 进行跨域调用，该 API 托管在另一台服务器上，他们已经允许跨域调用。到目前为止，我们一直在使用由 angular.js 提供的假 http 后端。

**——旁白——**

[如果有人正在阅读这篇文章以寻找快速解决方案，我们可以通过在带有 Chrome 的 OS X 上使用这种方法](http://cweagans.net/blog/2011/1/24/command-line-flags-google-chrome-mac-osx)从命令行将***--disable-web-security***选项传递给 Chrome 来实现跨域调用，但它会关闭所有人的安全性Chrome （大拇指向下），无论如何我们都无法让 Chrome 作为新实例启动。

**——结束——**

通过一些挖掘，我发现[了这篇 Stack Overflow 帖子（通过对](https://stackoverflow.com/questions/7067966/how-to-allow-cors-in-express-nodejs/7069902#7069902)[这篇帖子](https://stackoverflow.com/questions/14617111/yeoman-how-to-set-headers-htaccess)的回答），让我很好地了解了如何让***grunt 服务器***允许跨域调用。它本质上涉及添加一个中间件组件来连接以允许更改标头，以便将“Access-Control-Allow-Origin”设置为“*”或任何喜欢的值。

对 Node.js 一无所知，我可以看到帖子中提到的更改需要在 Yeoman 创建的许多文件中的某个地方进行，但是在哪里？我已经在 Yeoman 设置的“node_modules”目录中对“app.configure”和“connect.listen”进行了一些原始字符串搜索，但我找到了一些命中，其中大部分来自与模块捆绑的示例我不清楚我应该编辑哪个。如果有帮助，这里是我的 Angular 应用程序目录结构的快照：

![在此处输入图像描述](../Images/fdda18157284685a5b244e13662ef175.png)

如果有人可以给我一些关于可以在哪里进行这些更改的指示，我将非常感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T05:25:43.197

使用此 github 拉取请求中的方法解决了无节点问题：http: [//github.com/angular/angular.js/pull/1454](http://github.com/angular/angular.js/pull/1454)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-15T10:08:47.817

您可以使用 Apache 代理并将您的 REST 服务器与 gruntjs(angular.js) 连接。

阿帕奇会这样做：

*   代理/-> gruntjs
*   代理/服务 -> REST 服务器

你会使用你的应用程序来访问 Apache，而 angular.js 应用程序会认为它正在与自己对话，所以没有跨域问题。

这是一个关于如何设置的很棒的教程：http: [//alfrescoblog.com/2014/06/14/angular-js-activiti-webapp-with-activiti-rest/](http://alfrescoblog.com/2014/06/14/angular-js-activiti-webapp-with-activiti-rest/)

# c# - 转换为 Int 32 时出现“LINQ to Entities 无法识别该方法”

> ID：14951024
> 
> 赞同：1
> 
> 时间：2013-02-19T06:14:24.453
> 
> 标签：c#, linq

在发布这个问题之前，我尝试根据我的问题进行搜索，但我找不到一个（可能不是搜索得那么好:(，我试图在 linq 查询中将我的字符串转换为整数，我得到了这个异常。

**

> LINQ to Entities 无法识别方法 'Int32 ToInt32(System.String)' 方法，并且此方法无法转换为存储表达式

**

发布完整的查询可能会浪费你们的时间，所以我只是放弃了卡住的主线

```
 int intBookingNumber = Convert.ToInt32(Booktime);
    var query =
               (from PROJECTS in db.PROJECTS
                join WOes in db.WOes on PROJECTS.PRJ_ID equals WOes.PRJ_ID
                join SEVTs in db.SEVTs on WOes.SEQNUM equals SEVTs.SEQNUM
                join RSRCEs in db.RSRCEs on SEVTs.RESID equals RSRCEs.RESID
                join PERS in db.PERS on RSRCEs.RECID equals PERS.RECID into PERS_join
                from PERS in PERS_join.DefaultIfEmpty()
                join RESTYPEs in db.RESTYPEs on new { RTYPE = SEVTs.RTYPE } equals new { RTYPE = RESTYPEs.CODE }
                join RESCATs in db.RESCATs on new { RCAT = SEVTs.RCAT } equals new { RCAT = RESCATs.CODE }
                join SEVT_EX in db.SEVT_EX on SEVTs.SESID equals SEVT_EX.SESID into SEVT_EX_join
                from SEVT_EX in SEVT_EX_join.DefaultIfEmpty()
                where
                  (new string[] { "1", "2" }).Contains((PROJECTS.STAT.TrimEnd()).TrimStart()) &&
                  (WOes.STAT.TrimEnd()).TrimStart() == "6" &&
                  ((SEVTs.RESTYPE == 5 ||
                  SEVTs.RESTYPE == 0) &&
                  (RESTYPEs.USER2.Substring(2 - 1, 1) == "F" &&
                  RESTYPEs.USER2.Substring(6 - 1, 1) == "S") &&
                  SEVTs.TYPE == 0) ||
                  (SEVTs.RESTYPE == 4 &&
                  SEVTs.TYPE == 0) &&
                  RESCATs.GROUPID==0 &&
                  RESTYPEs.GROUPID==0 &&
                  (int?)(WOes.INVOICE.TrimStart()).Length > 0 &&
                  WOes.INVOICE.TrimStart() != "PENDING" &&
                  WOes.USERFLAG1 != 1 &&
                //(SEVTs.T_START.TrimStart()) == (Booktime)
                 //Convert.ToInt32(SEVTs.T_START.TrimStart()) >= Convert.ToInt32(Booktime)
                 Convert.ToInt32(SEVTs.T_START) >= intBookingNumber
                orderby
                 PROJECTS.PRJ_ID,
                 WOes.WONUM
                select new
                {
                    PROJECTS.PRJ_ID,
                    PROJECTS.USER3,
                    PROJECTS.USER9,
                    WOes.WONUM,
                    WOes.JOBDESC,
                    SEVTs.SESID,
                    SEVTs.RESTYPE,
                    SEVTs.TYPE,
                    SEVTs.T_START,
                    SEVTs.T_END,
                    SEVTs.MEALEND,
                    SEVTs.MELSTART3,
                    SEVTs.MELSTART2,
                    SEVTs.MELEND2,
                    Column1 = SEVTs.MELSTART2,
                    SEVTs.MELEND3,
                    SEVTs.USER2,
                    SEVTs.SUBACTID,
                    SEVTs.OT_EXEMPT,
                    USER5 = SEVT_EX.USER5,
                    SEVTs.GMT_OFFSET,
                    SEVTs.MEALSTART,
                    SEVTs.STANDARD,
                    RESCATs.USER1,
                    SEVTs.RESID
                }); 
```

`SEVTs.T_START.TrimStart()`两种`bookingStart`数据类型都是字符串。显然他们在这里得到了数字。我如何在这里使用逻辑运算符。

非常感谢任何帮助。

找到周围的工作，这可以帮助我解决我的问题

```
 **String.Compare(SEVTs.T_START.TrimStart(), Booktime) >= 0** 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T02:04:49.540

找到周围的工作，这可以帮助我解决我的问题

```
 **String.Compare(SEVTs.T_START.TrimStart(), Booktime) >= 0** 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T05:41:48.953

**T_START**的实际`DataType`情况是什么？如果这可能是您的解决方案。注意和**`Int``nullable``.Value`[`.HasValue`](http://msdn.microsoft.com/en-us/library/sksw8094.aspx)**

 **```
Where ...
SEVTs.T_START.HasValue && (SEVTs.T_START.Value >= intBookingNumber)

... 
```**

# multithreading - 是否可以使用matlab手动创建和控制线程？

> ID：14951026
> 
> 赞同：2
> 
> 时间：2013-02-19T06:14:51.370
> 
> 标签：multithreading, matlab, parallel-processing

我想用 Matlab 手动管理线程。是否可以创建、启动和停止线程？

谢谢

# html - CSS min-width 行为不正常

> ID：14951038
> 
> 赞同：1
> 
> 时间：2013-02-19T06:15:47.977
> 
> 标签：html, css

在下面的代码中，我将顶部徽标设置为 min-width: 800px，这样用户就无法调整大小并弄乱我的导航。但是，由于某种原因它不起作用。有人可以告诉我我做错了什么吗？

```
<!DOCTYPE html>
<html>
<head>
    <title>css example</title>

<style type="text/css">

#logo {
    background-color: black;
    width: 100%;
    color: rgb(255,200,0);
    height: 100px;
    min-width: 800px;
}

#logo p {
    display: inline;
    padding: 0;
}

#logo img {
    padding: 10px;
    padding-top: 15px;
    vertical-align: middle;
}

#logo h1 {
    display: inline;
    padding-right: 25px;
    vertical-align: middle;
    float: right;

}

#logo a {
    vertical-align: middle;
    float: right;
    color: rgb(255, 200, 0);
    text-decoration: none;
    font-size: 1.1em;
    margin:0;
    padding: 15px;
}

body {
    font-size: 100%;
    font-family: Arial, Helvetica, Verdana;
    margin: 0;
}

#contents {
    border: 1px solid black;
    width: 90%;
    min-height: 650px;
    height:auto !important;
    margin: 0 5%;
    margin-top: 15px;
    padding: 5px;
    border-radius: 5px;
}

#navMenu {
    width: 100%;
    height: 32px;
    background-color:rgb(255,200,0);
    border:1px #000 solid;
    font-weight:bold;
    margin-left: -2px;
}

#navMenu ul{
    margin:0;
    padding:0;
    line-height:32px;
    border:1px #000 solid;
}

#navMenu li{
    margin:0;
    padding:0;
    list-style:none;
    position:relative;
    background-color:rgb(255,200,0);
    float:left;
    border:1px #000 solid;
}

#navMenu ul li a{
    text-align:center;
    text-decoration:none;
    height:30px;
    width:150px;
    display:block;
    color:#000;

}

#navMenu ul ul{
    position:absolute;
    visibility:hidden;
    top: 31px;
    margin-left: -2px;

}

#navMenu ul li:hover ul{
    visibility: visible;

}

#navMenu ul li:hover {
    background-color:rgb(255,200,0);
}

#navMenu a:hover {
    background-color:#000;
    color:rgb(255,200,0);
}

</style>

</head>

<body>

<div id="logo">

    <p>
        <img src="demo.gif" >
    </p>

    <h1>Comic Book Subscriber Management</h1>
    <!--
    <p><a href="#">LOG-IN </a></p>
    <p><a href="#">CONTACT US </a></p>-->

</div>

<div id="navMenu">
    <nav>
        <ul>
            <li><a href="#">HOME</a></li>
            <li><a href="#">PROFILE</a></li>
            <li><a href="#">MANAGE SUB</a>
            <ul>
                <li><a href="#">VIEW TITLES</a></li>
                <li><a href="#">ADD TITLE</a></li>
                <li><a href="#">MODIFY TITLE</a></li>
                <li><a href="#">REMOVE TITLE</a></li>
            </ul>
            </li>
            <li><a href="#">NEW RELEASES</a></li>
            <li><a href="#">E-MAIL</a></li>
        </ul>
    </nav>
</div>

<div id="contents">

    <p>This is just some dummy text. Dummy. </p>

</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-19T08:16:33.133

请使用@media Query，我的要求是在@media Query 中满足您的要求

```
/* Smartphones (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 320px) 
and (max-device-width : 480px) {
/* Styles */
}

/* Smartphones (landscape) ----------- */
@media only screen 
and (min-width : 321px) {
/* Styles */
}

/* Smartphones (portrait) ----------- */
@media only screen 
and (max-width : 320px) {
/* Styles */
}

/* iPads (portrait and landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) {
/* Styles */
}

/* iPads (landscape) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : landscape) {
/* Styles */
}

/* iPads (portrait) ----------- */
@media only screen 
and (min-device-width : 768px) 
and (max-device-width : 1024px) 
and (orientation : portrait) {
/* Styles */
}

/* Desktops and laptops ----------- */
@media only screen 
and (min-width : 1224px) {
/* Styles */
}

/* Large screens ----------- */
@media only screen 
and (min-width : 1824px) {
/* Styles */
}

/* iPhone 4 ----------- */
@media
only screen and (-webkit-min-device-pixel-ratio : 1.5),
only screen and (min-device-pixel-ratio : 1.5) {
/* Styles */
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:54:08.057

尝试这个

```
#logo {
    background-color: black;
    width: 800px;
    color: rgb(255,200,0);
    height: 100px;
    margin-left:auto;
    margin-right:auto;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:27:44.983

你`min-width`在容器上`<div>`，但要做你正在尝试的事情，你可能会想要它`img`本身。

另一种选择是将其设置为背景图像，`div#logo`但我不确定这是否适合您的用例。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T06:29:43.857

```
**use like this it vii work in mozila nd chrome**    
for IE u need to use  css3-mediaqueries.js

@media screen and (min-width: 800px) 
    {
        #logo {
        background-color: black;
        width: 100%;
        color: rgb(255,200,0);
        height: 100px;
        width: 800px;

    } 
```

# java - 获取 Exception-java.lang.IllegalStateException: getOutputStream() 已经为此响应调用

> ID：14951041
> 
> 赞同：0
> 
> 时间：2013-02-19T06:15:59.513
> 
> 标签：java, jsp

我是 jsp 新手，当我尝试通过一些名为 cId 和 passWord 的参数调用 jsp 页面时，出现此错误，我一直在尝试的代码如下所示，我已经遇到了相同的错误谷歌搜索，但我仍然遇到同样的问题。代码是：

```
<body>
        <%

        String cidMessage = "cID";
        String passEncrypted = "passWord";
        System.out.println("CID ISSSSSSSSSSSS"+cId);
        if ((cId.equals(cidMessage)) && (passWord.equals(passEncrypted))) {
                        System.out.println("Validation Correct"+cId);
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
            Date date = new Date();
            String time = sdf.format(date.getTime());
            String xmlOutput = "<smsreport>"
                    + "<date>" + time + "</date>"
                    + "<result>" + "SUCESS" + "</result>"
                    + "<msgid>" + currentTimeMillis() + "</msgid>"
                    + "<msgparts>" + "1" + "</msgparts>"
                    + "</smsreport>";

            try {
                byte[] contents = xmlOutput.getBytes();
                response.setContentType("text/xml");
                response.setContentLength(contents.length);
                response.getOutputStream().write(contents);
                response.getOutputStream().flush();
            } catch (Exception e) {
                throw new ServletException(e);
            }
        } else {
                           System.out.println("Validation Wrong"+cId);
            SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
            Date date = new Date();
            String time = sdf.format(date.getTime());
            String xmlOutput = "<smsreport>"
                    + "<date>" + time + "</date>"
                    + "<result>ERROR</result>"
                    + "<msgid>" + "ErrorCode" + "</msgid>"
                    + "<msgparts>" + "ErrorMessage" + "</msgparts>"
                    + "</smsreport>";

            try {
                byte[] contents = xmlOutput.getBytes();
                response.setContentType("text/xml");
                response.setContentLength(contents.length);
                response.getOutputStream().write(contents);
                response.getOutputStream().flush();
            } catch (Exception e) {
                throw new ServletException(e);
            }

        }
    %>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T06:58:51.480

*   如果您查看[getOutputStream()](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#getOutputStream%28%29)方法的文档：它提到

**抛出**：`IllegalStateException`- 如果`getWriter`在此响应上调用了该方法。

*   这意味着您可以调用其中一个`getWriter()`或`getOutputStream()`方法。

*   现在在 JSP 中（*最终在编译的 servlet 中*），定义了一个名为`out`. 这不过是`PrintWriter`类的一个实例。这意味着在响应对象上，`getWriter()`已经被调用，因此在调用`getOutputStream()`你得到`IllegalStateException`

*   现在作为这个问题的解决方案，正如一些人指出的那样，将此代码移动到一个 servlet 中，您可以在其中完全控制并以您想要的方式使用输出流。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:41:04.667

这是一个带有脚本的 JSP，它被转换为一个 Servlet 文件。您不需要显式调用响应对象。如果您需要查看已编译的 JSP 在部署时的样子，请搜索（Google）如何在服务器上查找已编译的类（由 JSP 生成的 Servlet）。由于您已经在响应上调用了该方法，因此第二次调用在响应对象上是非法的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:35:24.247

您不应该尝试在 JSP 中执行此操作。JSP 已经获得了一个输出流来写入它的输出。您需要使用 servlet 来返回您的 XML。

当您调用 response.getOutputStream 时，它与 JSP（将被编译成 servlet）已经获得输出流这一事实相冲突。这就是导致 IllegalStateException 的原因。

# ruby-on-rails - 是否有 ruby gem 可以使用 Google、Bing 或 Yahoo 获取给定关键字的 URL 搜索排名？

> ID：14951042
> 
> 赞同：0
> 
> 时间：2013-02-19T06:16:01.493
> 
> 标签：ruby-on-rails, ruby, gem, google-ranking

我正在尝试找到一个可以帮助我在流行的搜索引擎中获得 URL 搜索排名的 gem。我做了一些挖掘，发现了一些过时的红宝石 - 即：

关键词排名：[https ://github.com/crowdint/keyword_ranking](https://github.com/crowdint/keyword_ranking)

Rankstar：[https ://github.com/crowdint/rankstar/blob/master/lib/rankstar.rb](https://github.com/crowdint/rankstar/blob/master/lib/rankstar.rb)

两者似乎都超过 2-3 岁并且似乎没有工作（即，当我安装 gem，创建一个 ruby​​ 脚本并运行它时，我什么也没得到） - 是否有一个更新的 gem，我应该是用这个？关于如何通过 ruby​​ / rails 获取这些数据的想法？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:08:35.223

谷歌很久以前就不允许抓取谷歌 SERP。他们使用各种方法来阻止这种行为。以前有很多不同编程语言的工具，但没有一个能持续很长时间。一些安装在个人电脑上的工具可以使用，但不是很稳定。

此外，正如我一年前所知道的那样，没有可用于此类查询的 API。

我建议你放弃这个想法来收集排名数据。与谷歌对抗是不明智的。

# nhibernate - NHibernate 更新多个瞬态对象异常：错误脱水属性值

> ID：14951044
> 
> 赞同：0
> 
> 时间：2013-02-19T06:16:02.563
> 
> 标签：nhibernate

我有一个我想更新的瞬态对象列表，所有这些都来自同一个表。

```
IList<MyObject> objectsToUpdate = GetObjectsToUpdate();
using (var session = GetSession())
using (var transaction = session.BeginTransaction())
{
    foreach (var obj in objectsToUpdate)
    {
        obj.Property = "new value";
        session.Update(obj);
    }
    transaction.Commit(); //exception thrown here
} 
```

异常消息：为 MyObject.Property 脱水属性值时出错 内部异常消息：字符串值的长度超过映射/参数中配置的长度。

异常消息并没有真正意义，因为映射中没有长度配置，并且字符串在范围内。

我能够通过以下方式解决问题：

1) 调用 session.Update(obj) 后调用 session.Flush()

```
IList<MyObject> objectsToUpdate = GetObjectsToUpdate();
using (var session = GetSession())
using (var transaction = session.BeginTransaction())
{
    foreach (var obj in objectsToUpdate)
    {
        obj.Property = "new value";
        session.Update(obj);
        session.Flush();
    }
    transaction.Commit();
} 
```

或者

2) 调用 session.Merge(obj)，修改其属性，然后一次性提交。

```
IList<MyObject> objectsToUpdate = GetObjectsToUpdate();
using (var session = GetSession())
using (var transaction = session.BeginTransaction())
{
    foreach (var obj in objectsToUpdate)
    {
        obj = session.Merge(obj);
        obj.Property = "new value";
    }
    transaction.Commit()
} 
```

但是，我想了解为什么在多次更新调用后提交事务时抛出异常，而不在每次更新后刷新。

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:00:43.507

从映射生成表时，字符串属性的默认长度为 255。为可以容纳长度大于 255 的字符串的属性指定更大的长度。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T15:12:42.960

听起来您可能会遇到以下问题： [https ://nhibernate.jira.com/browse/NH-3355](https://nhibernate.jira.com/browse/NH-3355)

它是为 Sybase 报告的，但我无法重现它。阅读关于问题报告的评论。您使用的是他们的 ADO.NET 提供程序的哪个（文件）版本？

# ios - 如何从服务器检索图像集并将其存储在 iOS 的文档目录中？

> ID：14951045
> 
> 赞同：-2
> 
> 时间：2013-02-19T06:16:02.643
> 
> 标签：ios, objective-c, cocoa-touch

我想从服务器检索一个包含 10 张图像的文件夹，然后将该文件夹存储在我的文档目录中。我做了一些代码，但是当我运行它时，我得到的是图像 url，而不是图像本身。谁能帮我吗？

我的代码：

```
-(void)viewWillAppear:(BOOL)animated
{

NSMutableData *receivingData = [[NSMutableData alloc] init];
NSURL *url = [NSURL URLWithString:@"http://Someurl.filesCount.php"];
NSURLRequest *req = [NSURLRequest requestWithURL:url];

   NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:req delegate:self startImmediately:YES];

}

-(void) connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{

[receivingData appendData:data];
}
-(void) connectionDidFinishLoading:(NSURLConnection *)connection
{
NSError *error = nil;

{
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *path = [paths objectAtIndex:0];
printf("\n the path is :%s",[path UTF8String]);

NSString *zipPath = [path stringByAppendingPathComponent:@"filesCount.php"];

[receivingData writeToFile:zipPath options:0 error:&error];

        NSString *documentsDirectoryPath = [[NSHomeDirectory() stringByAppendingPathComponent:@"Documents"] stringByAppendingPathComponent:@"filesCount"];
        NSLog(@"the path %@",documentsDirectoryPath);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:48:04.520

I made this function in my previous project. You need to pass your imageView and serverUrl, then its automatically show image in your imageView and save image to temp directory, when you want again to fetch same image, then next time it take image from disk.

```
+(void)downloadingServerImageFromUrl:(UIImageView*)imgView AndUrl:(NSString*)strUrl{

NSFileManager *fileManager =[NSFileManager defaultManager];

NSString* theFileName = [NSString stringWithFormat:@"%@.png",[[strUrl lastPathComponent] stringByDeletingPathExtension]];
NSString *fileName = [NSHomeDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"tmp/%@",theFileName]];

imgView.backgroundColor = [UIColor darkGrayColor];
UIActivityIndicatorView *actView = [[UIActivityIndicatorView alloc]initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhite];
[imgView addSubview:actView];
[actView startAnimating];
CGSize boundsSize = imgView.bounds.size;
CGRect frameToCenter = actView.frame;
// center horizontally
if (frameToCenter.size.width < boundsSize.width)
    frameToCenter.origin.x = (boundsSize.width - frameToCenter.size.width) / 2;
else
    frameToCenter.origin.x = 0;

// center vertically
if (frameToCenter.size.height < boundsSize.height)
    frameToCenter.origin.y = (boundsSize.height - frameToCenter.size.height) / 2;
else
    frameToCenter.origin.y = 0;

actView.frame = frameToCenter;

dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_async(queue, ^{

    NSData *dataFromFile = nil;
    NSData *dataFromUrl = nil;

    dataFromFile = [fileManager contentsAtPath:fileName];
    if(dataFromFile==nil){
        dataFromUrl=[[[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:strUrl]] autorelease];
    }

    dispatch_sync(dispatch_get_main_queue(), ^{

        if(dataFromFile!=nil){
            imgView.image = [UIImage imageWithData:dataFromFile];
        }else if(dataFromUrl!=nil){
            imgView.image = [UIImage imageWithData:dataFromUrl];
            // NSString *fileName = [NSHomeDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"tmp/%@",theFileName]];

            BOOL filecreationSuccess = [fileManager createFileAtPath:fileName contents:dataFromUrl attributes:nil];
            if(filecreationSuccess == NO){
                NSLog(@"Failed to create the html file");
            }

        }else{
            imgView.image = [UIImage imageNamed:@"NO_Image.png"];
            imgView.tag = 105;
        }
        [actView removeFromSuperview];
        [actView release];
    });
});

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:22:22.553

如果您要在 UI 上显示从服务器加载的图像，那么

试试[SDWebImageView](https://github.com/rs/SDWebImage)，可以和 UIButton 或者 UIImageView 一起使用，非常简单高效。

例子，

```
[yourImageView setImageWithURL:[NSURL URLWithString:@"http://www.domain.com/path/to/image.jpg"]
               placeholderImage:[UIImage imageNamed:@"placeholder.png"]]; 
```

阅读[如何使用它？](https://github.com/rs/SDWebImage#how-to-use)

Okay, now for multiple images, you may need to run a loop, if you've a common base url for all your pictures (on server) something like `http://yoururl/server/pictures/1.png` will be replace by `2.png 3.png ... n.png`, or you get different urls for pictures need to pass that url, you can load it into imageview objects, and later save them into document directory (remember, `SDWebImageView` by default doing this work for you). You can turn this off too.

P.S. It will load images once and stored into local (in cache) it self, next time when you pass the same image url, it won't load from server and directly load the image from local.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:28:27.960

Try using this code.

```
 NSURL* url = [NSURL URLWithString:@"http://imageAddress.com"];
 NSURLRequest* request = [NSURLRequest requestWithURL:url];

[NSURLConnection sendAsynchronousRequest:request
queue:[NSOperationQueue mainQueue]
completionHandler:^(NSURLResponse * response,
    NSData * data,
    NSError * error) {
if (!error){
        // do whatever you want with directory or store images.
    NSImage* image = [[NSImage alloc] initWithData:data];

}

}]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T06:41:12.983

Use this code to download the image using URL and store in document directory. Iterate the logic for set of images to download and store.

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
        NSString *imageURL = @"http://sampleUrl";
        NSString *documentsDirectory = [paths objectAtIndex:0]; // Get documents folder
        UIImage *image = [[UIImage alloc] initWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:imageURL]]];

        NSString *imagePath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"Image1.png"]];
        if(image != NULL)
        {
            //Store the image in Document
            NSData *imageData = UIImagePNGRepresentation(image);
            [imageData writeToFile: imagePath atomically:YES];
        } 
```

# jsf - 从 valueExpression JSF1.2 中获取值

> ID：14951047
> 
> 赞同：0
> 
> 时间：2013-02-19T06:16:08.563
> 
> 标签：jsf, el

我正在尝试获取值表达式中包含的值。我需要使用它进行一些验证。当我在 HTMLOutput 中设置值表达式时，它会显示在屏幕上。请建议我做错了什么？

```
HtmlOutputText output = new HtmlOutputText();
ve = ef.createValueExpression(elCtx, "#{dynamicRow["+ i + "]}", String.class);
//I have tried all options here that I came across.
//Either test1 , test2 , test3 should have the value ve has, but all of them have value "".
String test1 = (String)ve.getValue(elCtx);
String test2 = (String)output.getValue();
Application app = fCtx.getApplication( );
String test3 = (String) app.evaluateExpressionGet(fCtx, "#{dynamicRow["+ i + "]}", String.class);
output.setValueExpression("value", ve);
//the ve gets displayed in the column with correct string values and not ""
column.getChildren().add(output);
// I also tried ValueReference as given in ValueExpression: how to get base Object?
ValueReference valueReference = ve.getValueReference(elCtx);
//an exception is thrown here javax.el.PropertyNotFoundException: Target Unreachable, identifier 'dynamicRow' resolved to null
Object base = valueReference.getBase();
Object property = valueReference.getProperty(); 
```

我的表有以下代码：

```
FacesContext fCtx = FacesContext.getCurrentInstance();
ELContext elCtx = fCtx.getELContext();
ExpressionFactory ef = fCtx.getApplication().getExpressionFactory();
HtmlExtendedDataTable dynamicDataTable = new HtmlExtendedDataTable();
HtmlDatascroller datascroller = new HtmlDatascroller();
ValueExpression ve = ef.createValueExpression(elCtx,"#{myController.dynamicList}", List.class);
dynamicDataTable.setValueExpression("value", ve);
dynamicDataTable.setVar("dynamicRow"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:33:07.840

[仅当表](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIData.html)在处理期间将其置于范围内时，该`var`值`dynamicRow`才在范围内。这是通过组件上的各种方法完成的。`process*`

请参阅[`setRowIndex(int)`](http://docs.oracle.com/javaee/6/api/javax/faces/component/UIData.html#setRowIndex%28int%29)文档：

> *   保存所有后代组件的当前状态信息（如下所述）。
> *   存储新的行索引，并将其传递给与此 UIData 实例关联的 DataModel。
> *   如果新的 rowIndex 值为 -1：
>     *   如果该`var`属性不为 null，则删除相应的请求范围属性（如果有）。
>     *   重置所有后代组件的状态信息（如下所述）。
> *   如果新的 rowIndex 值不是 -1：
>     *   如果`var`属性不为 null，则调用 getRowData() 并将结果数据对象公开为请求范围属性，其键是 var 属性值。
>     *   重置所有后代组件的状态信息（如下所述）。

# c++ - 在Eclipse调试C++中探索复杂类型的变量

> ID：14951048
> 
> 赞同：0
> 
> 时间：2013-02-19T06:16:12.490
> 
> 标签：c++, eclipse, debugging

如何探索复杂类型变量的内容，例如，其中键和值也属于某些复杂类型（如某些类）的多映射。

Debug只能显示指针的值，不能显示multimap实例的内容。我知道在 gdb 中，如果你有一个变量 var，并且它有一个方法，比如 getAddress()，那么你可以执行以下操作：p var->getAddress() 来查看该函数返回的值，我可以吗Eclipse 调试中的类似内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:09:25.043

希望这可以帮助：

1.  这是在 Eclipse（您可以在其中键入命令的控制台）中使用标准 gdb 命令的一种方法： [在 Eclipse 中使用 gdb 控制台](https://stackoverflow.com/questions/3387587/use-gdb-console-in-eclipse)

2.  以下是 Joachim 提到的脚本（支持多地图）：http: [//sourceware.org/gdb/wiki/STLSupport](http://sourceware.org/gdb/wiki/STLSupport)

# wpf - 用项目符号和编号 WPF 编写文本

> ID：14951053
> 
> 赞同：1
> 
> 时间：2013-02-19T06:16:32.130
> 
> 标签：wpf, text-formatting

我需要插入带有项目符号的边框文本（例如，看下一张图片）：

![例子](../Images/51f774017755cc292c582fa5679b4f1c.png)

是否有任何特殊属性，或者我应该使用像网格这样的容器并手动获取它？如果您的解决方案依赖我的 Expression Blend 它很好（我正在使用 Blend 4）。

感谢奥菲尔

# python - Python中的匹配模式

> ID：14951054
> 
> 赞同：0
> 
> 时间：2013-02-19T06:16:37.167
> 
> 标签：python, regex, grep, pattern-matching, subprocess

我有一个目录“/pcap_test”，其中包含几个日志文件。每个文件都有一个模式，如：

> Pkt：1（358 字节），LIFE：1，应用程序：itunes (INTO)，状态：TERMINATED，堆栈：/ETH/IP/UDP/itunes，错误：无
> 
> Pkt: 2 (69 bytes), LIFE: 2, App: zynga (INTO), State: INSPECTING, Stack: /ETH/IP/UDP, Error: None
> 
> Pkt：3（149 字节），LIFE：2，应用程序：pizzeria (INTO)，状态：TERMINATED，堆栈：/ETH/IP/UDP/pizzeria，错误：无

在这种情况下，我希望输出是第二行，因为“应用程序”中的内容不存在于“堆栈：”中

我编写了一个小的 Python 脚本来遍历目录，打开每个文件并打印输出：

```
import os
list = os.listdir("/home/test/Downloads/pcap_test")
print list
for infile in list:
  infile = os.path.join("/home/test/Downloads/pcap_test" , infile)

if os.path.isfile(infile):
str = file(infile, 'r').read()
print str 
```

我以某种方式使用 grep 获得了输出，但无法在 python 脚本中使用相同的输出。它类似于：

```
grep -vP 'App: ([^, ]*) \(INTO\).*Stack: .*\1.*$' xyz.pcap.log | grep -P 'App: ([^, ]*) \(INTO\)' 
```

由于我已经有了名为 "str" 的文件，我想使用它而不是单个日志文件来获取输出。

在这方面的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:23:43.157

首先，我建议不要`str`使用 Python 对`String`原始数据类型的名称这样的变量名称。

由于 grep 是一个命令行正则表达式工具，而且你已经有了一个可以工作的正则表达式，所以你需要做的就是学习使用 Python 的[`re`模块](http://docs.python.org/2/library/re.html)。

有点困难的是捕捉 grep 的`-v`行为。我建议逐行读取文件并仅在它与您的第一个正则表达式不匹配但与第二个正则表达式匹配时打印该行，如下所示：

```
if os.path.isfile(infile):
    with file(infile, 'r') as logFile: #this will close the file pointer automatically when you finish
        for line in logFile: #read logFile one line at a time
            firstReMatch = re.match(r'App: ([^, ]*) \(INTO\).*Stack: .*\1.*$', line) #check if this line matches your first regex
            secondReMatch = re.match(r'App: ([^, ]*) \(INTO\)', line) #check if this line matched your second regex
            if secondReMatch and not firstReMatch: #"not" to capture the inverse match
                print line #print the line. 
```

根据您的数据，您可能希望[使用`re.search()`而不是`re.match()`](http://docs.python.org/2/library/re.html#search-vs-match)

# android - Osmdroid 离线数据限制 - GEMF 作为解决方案？

> ID：14951056
> 
> 赞同：2
> 
> 时间：2013-02-19T06:17:08.313
> 
> 标签：android, zip, limit, osmdroid, large-data

我一直在使用 osmdroid 和离线 ZIP Mapnik 文件。我发现，在 zip 文件中，我最多只能存储 65536 个图块。我还注意到一些关于 GEMF 文件的信息，它可以处理大型数据集。在 Osmdroid 中是否可以替换 ZIP 文件？有没有人在构建 GEMF 文件以及如何将 Osmdroid 设置为使用 GEMF 文件而不是 ZIP 方面有任何经验？

**编辑：**

我试图在我的结构 Mapnik/zoom/x/y.png 上运行 python 代码，但是我遇到了一堆错误。例如：

> 文件“generate_efficient_map_file.py”，第 6 行 file_size_limit = 2000000000L

我在同一个文件夹中有这个文件，Mapnik 文件夹位于哪里。我在做什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:02:31.277

我认为关于这个主题的好消息和坏消息。

使用最新的 MOBAC 版本，我将其设置为生成 OsmdroidGEMF 地图集，并选择了一个相当小的区域，缩放级别为 15（17 级）。生成的 GEMF 文件只有大约 5MB 大小。我只将 GEMF 文件上传到手机上的 Osmdroid 目录中，上面有我自己的 Osmdroid（版本 3.0.5）兼容应用程序。我将手机置于飞行模式并将应用程序设置为滚动模式（即关闭 GPS，所以不要跟随位置）并滚动到有问题的区域（我以前从未去过的地方，因此没有缓存的图块）。

我工作正常到 14 级缩放，在 15 级时，每个备用磁贴看起来像：

![在此处输入图像描述](../Images/2c596ac7bb4e777e4ebad5211b573caa.png)

因此，如果您能找到另一种生成 GEMF 的方法，则无需更改编码，只需将文件放入用于 zip 的同一文件夹中即可。（推测通过 MOBAC 生成 zips 现在也受到限制。）

# jquery - 无法对列进行排序

> ID：14951058
> 
> 赞同：2
> 
> 时间：2013-02-19T06:17:17.037
> 
> 标签：jquery, backbone.js, datatables, handlebars.js

这大约是我想要显示表格的方式 ![http://os6.org/upload/?di=AOYK](../Images/f7ef864bc0ccbf80ee8ba4d9ee0f222f.png)

[http://os6.org/upload/?di=AOYK](http://os6.org/upload/?di=AOYK)

```
<table class="dataTable">
<thead>
<tr>
    <th class="sortable">Sr. No.
        <span class="sortIcon"></span></th>
    <th class="sortable">First Name
        <span class="sortIcon"></span></th>
    <th class="sortable">Last Name
        <span class="sortIcon"></span></th>
    <th class="sortable">Email
        <span class="sortIcon"></span></th>
    <th class="sortable">Address
        <span class="sortIcon"></span></th>
</tr>
</thead>
    {{#each sideTables}}
        <tr class="category">
            <td colspan="5">
                <div>
                    <span>{{tableName}}</span>
                    <span>{{tableRelation}}</span>
                </div>
            </td>
        </tr>
        {{#each collectionAttribute}}
            <tr>
                <td colspan="1"></td>
                <td colspan="1"></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
         {{/each}}
    {{/each}}
</table>    
<br> 
```

在 firebug 中，jquery 给了我以下错误： `TypeError: m is undefined.`

如果我删除以下代码排序工作，但我需要以下代码来满足我的软件要求。

```
<tr class="category">
    <td colspan="5">
        <div>
            <span>{{tableName}}</span>
            <span>{{tableRelation}}</span>
        </div>
    </td>
</tr> 
```

# hibernate - 无法解析配置：hibernate.cfg.xml

> ID：14951060
> 
> 赞同：1
> 
> 时间：2013-02-19T06:17:20.193
> 
> 标签：hibernate

实际上我正在尝试进行休眠日志记录。这是我的 hibernate.cfg.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
"-//Hibernate/Hibernate Configuration DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<!-- Generated by MyEclipse Hibernate Tools.                   -->
<hibernate-configuration>

    <session-factory>
        <property name="hbm2ddl.auto">update</property>
        <property name="show_sql">true</property>
        <property name="dialect">org.hibernate.dialect.PostgreSQLDialect</property>
        <property name="connection.url">jdbc:oracle//localhost/5432/newdatabase</property>
        <property name="connection.username">postgres</property>
        <property name="connection.password">P@ssword</property>
        <property name="connection.driver_class">org.postgresql.Driver</property>

    <mapping resource="employee.hbm.xml"/>

    </session-factory>

</hibernate-configuration> 
```

这是我的主要课程

```
package com.javatpoint;
import org.hibernate.*;
import org.hibernate.cfg.*;

public class StoreData {
public static void main(String[] args) {

    Configuration cfg=new Configuration();
    cfg.configure("hibernate.cfg.xml");

    SessionFactory factory=cfg.buildSessionFactory();
    Session session=factory.openSession();
    Transaction tx=session.beginTransaction();

    session.save(new Employee("Arun",3800));
    session.save(new Employee("Varun",4800));

    tx.commit();
    session.close();
    System.out.println("record successfully persisted");

}
} 
```

当我运行它时，我收到以下错误。

```
Exception in thread "main" org.hibernate.HibernateException: Could not parse configuration: hibernate.cfg.xml
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1491)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:1425)
    at com.javatpoint.StoreData.main(StoreData.java:9)
Caused by: org.dom4j.DocumentException: hibernate.sourceforge.net Nested exception: hibernate.sourceforge.net
    at org.dom4j.io.SAXReader.read(SAXReader.java:484)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1481)
    ... 2 more 
```

经过大量谷歌搜索后，我才知道它与 DOCTYPE 相关。但即便如此，我也无法为此找到完美的解决方案。有人可以帮我吗。？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T07:32:49.807

你不认为你的

```
 <property name="connection.url">jdbc:oracle//localhost/5432/newdatabase</property> 
```

必须看起来像：

```
 <property name="connection.url">jdbc:oracle//localhost:5432/newdatabase</property> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:16:23.367

你试过吗

```
 <property name="hibernate.hbm2ddl.auto">update</property>
        <property name="hibernate.show_sql">true</property>
        <property name="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</property>
        <property name="hibernate.connection.url">jdbc:oracle//localhost/5432/newdatabase</property>
        <property name="hibernate.connection.username">postgres</property>
        <property name="hibernate.connection.password">P@ssword</property>
        <property name="hibernate.connection.driver_class">org.postgresql.Driver</property> 
```

# php - 如何从原始表单加载并包含一些输入值到具有提交按钮的fancybox？

> ID：14951063
> 
> 赞同：0
> 
> 时间：2013-02-19T06:17:42.097
> 
> 标签：php, jquery, yii, fancybox

我有 3 个输入框，例如姓名、年龄、地址，然后在底部有一个名为“应用”的按钮 ...现在当我单击“应用”按钮时，会弹出一个花式框，并有另外 3 组输入框，例如公司、部门、主管……然后底部有一个“取消”和“提交”按钮……

我的问题是，当我点击“申请”按钮时，我如何将姓名、年龄、地址连同公司、部门、主管一起包含在花式框中？因为姓名、年龄、地址来自不同的地区，当我点击“提交”按钮时，我想要姓名、年龄、地址、公司、部门、主管数据

这是第一种形式的代码

```
<input type="text" name="name" value="" id="name/>
<input type="text" name="age value="" id="age"/>
<input type="text" name="address" value="" id="address" />
<a href="#anotherform" id="firstform" class="form-btn">Apply</a> 
```

这是花式盒子的第二种形式的代码

```
 <form action ="#" method="post">
    company: <input type="text" name="company" id="company" /><br/>
    department: <input type="text" name="department" id="department" /><br/>
    supervisor: <input type="text" name="supervisor" id="supervisor" /><br/>
    <input type="button" name="cancelapply" id="submitapply" value="cancel" />&nbsp;&nbsp;&nbsp;
<input type="button" name="submitapply" id="submitapply" value="Submit" />
    </form> 
```

这是我喜欢的盒子代码

```
 jQuery("a#firstform").fancybox({
        'titlePosition' : 'inside',
        'transitionIn' : 'none',
        'transitionOut' : 'none',
        'hideOnOverlayClick' : false,
        'hideOnContentClick' : false,
        'showCloseButton' : true,

                    //HOW TO PASS THE name,age,address to the fancybox when i click the
                    //'apply' button.
                    //and then when i submit the fancy box, i can get the
                    // 6 values ?

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:44:16.933

你已经有公司，部门，主管在展示，对吗？如果我理解你的问题，这可能会奏效：

花式盒子的变化

```
<form action ="#" method="post">
  company: <input type="text" name="company" id="company" /><br/>
  department: <input type="text" name="department" id="department" /><br/>
  supervisor: <input type="text" name="supervisor" id="supervisor" /><br/>

  name: <input type="text" id="name-verify/>
  age: <input type="text" id="age-verify"/>
  address: <input type="text" id="address-verify" />

  <input type="button" name="cancelapply" id="submitapply" value="cancel"/>
  <input type="button" name="submitapply" id="submitapply" value="Submit" />
</form> 
```

和一些 jQuery 变化：

```
$('#firstform').click(function() {
  $('#name-verify').val($('#name').val());
  $('#age-verify').val($('#age').val());
  $('#address-verify').val($('#address').val());
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:27:36.300

将fancybox代码放在第一个表单中，删除第二个表单上的标签，即使它们被隐藏，它也应该将您的数据作为一个表单提交。所以你应该只有一个表单标签。

# php - Youtube API：将视频上传到特定频道

> ID：14951065
> 
> 赞同：1
> 
> 时间：2013-02-19T06:17:47.303
> 
> 标签：php, youtube, youtube-api

我正在使用 PHP（CodeIgniter 框架）。

我正在进行的项目将允许用户将视频上传到服务器。视频还需要在特定帐户（网站的）下上传到 Youtube。我知道这不是推荐的做法，但这是理想的方式，因为大多数用户没有 gmail 帐户。

我一直在阅读 Youtube 的文档，但很快就感到困惑。谁能解释一步一步来实现我想做的事情？从我的想法来看，我的网站需要一个长期访问令牌，当用户完成上传后，我将使用这个长期访问令牌调用 Youtube API 将其上传到我网站的 Youtube 频道。但我不知道 Youtube API 是否支持这个。

我找到了这个库：[CI Youtube Library](https://github.com/jimdoescode/CodeIgniter-YouTube-API-Library "CI Youtube 库")，但从我阅读的内容来看，这个库还要求我的网络用户使用他们的 Youtube 帐户登录，所以我想这不是我想要的。

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T15:28:09.983

*   建议的方法是让您的用户使用他们的帐户上传，然后您调整进入您帐户的内容。否则，他们可能会上传令人反感的非法视频，您可能需要对此负责。这与公开分享您的密码没有什么不同。
*   上传也有配额限制，如果您尝试从同一个帐户上传，您将很快达到这些限制。
*   他们不需要“gmail”帐户，通过使用身份验证，他们只需将他们的任何帐户快速链接到 Google 帐户。出于安全原因，没有长期存在的令牌。在不需要的访问的情况下，短期令牌更安全。

[您可以在“ https://developers.google.com/youtube/v3/getting-started](https://developers.google.com/youtube/v3/getting-started) ”获得所有其他信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:46:27.840

因为您的用户正在上传到您的 Youtube 帐户，所以他们不需要登录到您的帐户。如果您验证您网站的 youtube 帐户，这是他们应该需要的唯一令牌。

# python - 将原始套接字数据转换为可读形式

> ID：14951073
> 
> 赞同：0
> 
> 时间：2013-02-19T06:18:45.370
> 
> 标签：python, sockets

我正在研究网络分析仪。我使用了[http://www.binarytides.com/python-packet-sniffer-code-linux/](http://www.binarytides.com/python-packet-sniffer-code-linux/)形式的可用代码。程序的数据段输出如下：

```
内容类型：文本/html；字符集=iso-8859-1马克0
      ����ZO�aQz��▒�&e��
                       �s�эU���V:����
                                     ����'qW�oձ.�U�UP7/�~
                                                         ��}�v��*n�<����J&��W/�%mb��$7��a���I����G���D�RYO�&�Gx֗ “uC▒~t�!B�7�.@!”
��>�6��y�%��X9�7�i�i
 呜呜呜</p>

 `��
     O��?6�]��l���K��` 
```

我需要将这些原始数据转换为可读形式，然后分析数据。我使用的是 python 2.7。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T05:35:36.403

如果您查看`Content-Encoding`标题，它会显示`gzip`. 这意味着网页是使用 gzip 算法*压缩的。*因此，它是您无法打印出来的二进制数据，您必须先将其解压缩。

您可以为此使用 Python[`gzip`](http://docs.python.org/2/library/gzip.html)模块。

# xcode - 排序 NsMutable 数组

> ID：14951078
> 
> 赞同：0
> 
> 时间：2013-02-19T06:19:12.410
> 
> 标签：xcode, nsmutablearray

我正在获取楼层名称并`_floorNames (NSMutableArray)`使用

```
_floorNames=[conferenceHall floorDetails:office];

NSLog(@"floor names=%@",_floorNames); 
```

这将像这样打印楼层名称。

```
 GROUND,
 THIRD,
 FIRST,
 SECOND 
```

现在我想将该楼层名称 NsMutableArray 排序为

```
GROUND,
FIRST,
SECOND,
THIRD 
```

我用过

```
 NSSortDescriptor *aa=[[NSSortDescriptor alloc]initWithKey:floor ascending:YES                                                           selector:@selector(localizedCaseInsensitiveCompare:)];

 NSArray *descriptors = [NSArray arrayWithObjects:aa, nil]; 
   a = [array sortedArrayUsingDescriptors:descriptors]; 
```

但它会使我的应用程序崩溃。有什么建议么 ...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:11:17.057

尝试这个，

```
NSArray *arrFloorNames=[[NSArray alloc]initWithObjects:@"GROUND",@"THIRD",@"FIRST",@"SECOND", nil];
arrFloorNames = [arrFloorNames sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)];
NSLog(@"%@",arrFloorNames); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:01:48.227

你想要的永远得不到！！！

“地面，第三，第一，第二”到“地面，第一，第二，第三”是你想要的。

没有算法可以根据它们在数字中的内部表示对这些字符串进行排序。这类似于 0..1..2..3。你想对这些用英文写的整数进行排序。排序可以按字母顺序进行，因此您的结果将是 First、Groung、Second、Third。

如何实现？

您需要创建一个字典对象，映射值为 Third 到 3，second 到 2，ground 到 0。然后对这些数值进行排序。然后根据值（0、1、2等）获取密钥。

# android - “使用 Facebook 登录”SDK 中的错误编译

> ID：14951079
> 
> 赞同：9
> 
> 时间：2013-02-19T06:19:14.787
> 
> 标签：android, facebook, login, sdk

我已按照 Facebook“使用 Facebook 登录”[教程进行操作](https://developers.facebook.com/docs/howtos/androidsdk/3.0/login-with-facebook/)

但是，当我加载应用程序并单击“登录”时，我收到“com.facebook.FacebookException：当 com.facebook.LoginActivity 未在 AndroidManifest.xml 中声明为活动时无法使用 SessionLoginBehavior SSO_WITH_FALLBACK”错误。

我肯定已经在*AndroidManifest.xml*文件中添加了活动。

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<uses-sdk
    android:minSdkVersion="14"
    android:targetSdkVersion="17" />
<uses-permission android:name="android.permission.INTERNET" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.zwopper.LoginActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity
        android:name="com.zwopper.MainActivity"
        android:label="@string/app_name" >
    </activity>
    <meta-data android:value="@string/app_id" android:name="com.facebook.sdk.ApplicationId"/>
</application> 
```

有谁知道是什么问题？

（我还将 *app_id* 字符串添加到 res/values/strings.xml、INTERNET 权限、com.facebook.sdk.ApplicationId 元数据）

谢谢。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-02-19T06:32:43.583

在你的 mainfest 中定义活动

```
 <activity
        android:name="com.facebook.LoginActivity"
        android:label="@string/title_facebook_login" >
    </activity> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-08T23:22:10.363

一份在 facebook 中登录的完整清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.eltondcr.youvox"
android:versionCode="1"
android:versionName="1.1" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="19" />

<uses-feature
    android:name="android.hardware.camera"
    android:required="false" >
</uses-feature>

<supports-screens
    android:anyDensity="true"
    android:largeScreens="true"
    android:normalScreens="true"
    android:smallScreens="true" />

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.VIBRATE" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.BATTERY_STATS" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" >

    <!--
    <receiver android:name="com.example.ServiceAutoStarter" >
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
        </intent-filter>
    </receiver>
    -->
    <meta-data
        android:name="com.facebook.sdk.ApplicationId"
        android:value="@string/app_id" />

    <activity
        android:name="com.eltondcr.youvox.HomeActivity"
        android:label="@string/app_name"
        android:theme="@android:style/Theme.Translucent.NoTitleBar" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity android:name=".MainActivity" />
    <activity android:name=".GravacaoActivity" />
    <activity android:name=".FBActivity" />

    <activity
    android:name="com.facebook.LoginActivity"
    android:label="title_facebook_login" >
</activity>
</application>

<!-- <activity android:name=".HomeActivity" /> --> 
```

# asp.net - 尝试使用 odata webapi 服务时出错

> ID：14951082
> 
> 赞同：1
> 
> 时间：2013-02-19T06:19:37.540
> 
> 标签：asp.net, web-services, asp.net-web-api, odata, webservice-client

我正在按照本教程尝试使用 odata 服务

[http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/getting-started-with-odata-in-web-api/create-an-odata-client](http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/getting-started-with-odata-in-web-api/create-an-odata-client)

我已按照教程的说明下载并安装了 WCF 数据服务工具 5.2。

但是，当我尝试添加服务引用时，出现以下错误：

```
The document at the url http://localhost:52868/odata/Products was not recognized as a known document type.
The error message from each known type may help you fix the problem:
- Report from 'XML Schema' is 'Data at the root level is invalid. Line 1, position 1.'.
- Report from 'DISCO Document' is 'Data at the root level is invalid. Line 1, position 1.'.
- Report from 'WSDL Document' is 'There is an error in XML document (1, 1).'.
  - Data at the root level is invalid. Line 1, position 1.
Metadata contains a reference that cannot be resolved: 'http://localhost:52868/odata/Products'.
The content type application/json; odata=minimalmetadata; streaming=true; charset=utf-8 of the response message does not match the content type of the binding (application/soap+xml; charset=utf-8). If using a custom encoder, be sure that the IsContentTypeSupported method is implemented properly. The first 1024 bytes of the response were: '{
  "odata.error":{
    "code":"","message":{
      "lang":"en-US","value":"An error has occurred."
    },"innererror":{
      "message":"No MediaTypeFormatter is available to read an object of type 'Product' from content with media type 'application/soap+xml'.","type":"System.InvalidOperationException","stacktrace":"   at System.Net.Http.HttpContentExtensions.ReadAsAsync[T](HttpContent content, Type type, IEnumerable`1 formatters, IFormatterLogger formatterLogger)\r\n   at System.Web.Http.ModelBinding.FormatterParameterBinding.ReadContentAsync(HttpRequestMessage request, Type type, IEnumerable`1 formatters, IFormatterLogger formatterLogger)\r\n   at System.Web.Http.ModelBinding.FormatterParameterBinding.ExecuteBindingAsync(ModelMetadataProvider metadataProvider, HttpActionContext actionContext, CancellationToken cancellationToken)\r\n   at System.Web.Http.OData.PerRequestParameterBinding.ExecuteBindingAsync(ModelMetadataProvider metadataProvider, HttpActionContext actionContext, CancellationToken cancel'.
The remote server returned an error: (500) Internal Server Error.
If the service is defined in the current solution, try building the solution and adding the service reference again. 
```

我可以通过浏览器浏览它。

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:54:05.407

我不确定这是否是教程中的错误，我尝试使用 Uri 进行试验，但添加`http://localhost:52868/odata`为参考作品，`http://localhost:52868/odata/Products`并没有

# c++ - 字符串的函子和向量

> ID：14951083
> 
> 赞同：1
> 
> 时间：2013-02-19T06:19:41.610
> 
> 标签：c++, functor

我是 functors 主题的新手，所以我希望这个问题是建设性的。

我有字符串数组（）。我需要在函子的帮助下计算这些字符串的长度总和。

我的代码：

```
class LengthFinder{
    private:
        size_t sum;
    public:
        LengthFinder():sum(0){}

    void operator()(string elem)
    {
        sum += elem.size();
    }
    operator int()
    {
        return sum;
    }

};

int main(int argc, char* argv[])
{
    vector< string > array;
    array.push_back("string");
    array.push_back("string1");
    array.push_back("string11");

    string elem;
    int sum = std::for_each(array.begin(), array.end(), LengthFinder(/*??*/));
    return 0;
} 
```

我应该将什么传递给 LengthFinder()，以获取每个字符串并获取它的大小？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T06:27:06.133

不要`for_each`用于这个。它*可以*被迫完成这项工作，但这是相当多的额外工作，因为它并不是真正适合这项工作的工具。

您想要使用的是`std::accumulate`，它专为您正在做的事情而构建。

```
struct length : std::binary_function<size_t, size_t, std::string> {
    size_t operator()(size_t a, std::string const &b) { 
        return a+b.length();
    }
};

// ...
int sum = std::accumulate(array.begin(), array.end(), 0, length()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T23:02:30.443

*正如问题的原始海报所述：*

* * *

解决方案：

没有什么应该去 LengthFinder 的参数：

```
 int sum = std::for_each(array.begin(), array.end(), LengthFinder()); 
```

# restful-authentication - Api 和消费者流

> ID：14951087
> 
> 赞同：0
> 
> 时间：2013-02-19T06:20:03.470
> 
> 标签：restful-authentication, restful-architecture

我正在为社交网络网站开发 API。这个 API 基本上会获取用户的所有请求（获取好友列表、发布状态更新等）并在必要时回复。

我们将实施 OAuth 2.0 协议进行身份验证。消费者（我们的 php 项目）有 API id 和 secret。

基本场景：

*   客户想登录
*   API Consumer（php web 项目）接受此请求，将用户定向到 API
*   用户将他/她的用户凭据发送到 api，获取令牌。
*   用户回到我们的网站，将令牌传递给消费者。
*   消费者去 api 服务器，获取访问令牌。
*   现在消费者（php 项目）可以访问用户的私人信息。

由于这是一个社交网络网站，我们希望应用程序开发人员将来能够使用我们的 API。

我在 API 设计方面没有经验。这种流量有意义吗？我想最简单的身份验证是通过 php 项目访问用户信息。但是我们不想在 php 代码中访问数据库。我们将在客户端使用 ajax 并向 API 发送请求。我相信应该有一个更好的解决方案，你有什么建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T10:30:22.047

当然，API 设计基本上是您需要选择技术的地方。它可以是 PHP 或 .net 或 Java。我更喜欢 PHP 或 .Net，因为我们在其中获得了很大的灵活性。API 将根据请求返回 XML 或 Json。php中有很多CMS可以提供​​帮助。.net 我们有服务堆栈来帮助您。

API 必须完全独立于其他世界以及 API 方法中。如果你能够做到这一点，那么你肯定会创建一个好的架构。

# java - Do-while 语句初学者 java max-min 提示

> ID：14951088
> 
> 赞同：1
> 
> 时间：2013-02-19T06:20:12.010
> 
> 标签：java, while-loop, do-while, statements

嘿伙计们，我是 Java 新手，在 do-while 语句中，问题要求我创建一个提示，要求提供最大值和最小值，然后询问我的最大值和最小值之间的另一个值。“应该不断地提示用户，直到输入范围内的数字。我很难使用 do-while 语句来解决我的问题，所以一些帮助会很好，谢谢！也尽量保持简单！

```
package Chapter6Java;
import java.util.Scanner;

public class Chapter6Prompter {

    public static void main(String [] args){
        int max, min, between;

        Scanner input = new Scanner(System.in);

        System.out.print("Enter a min value: ");
        min = input.nextInt(); 

        System.out.print("Enter a max value: ");
        max = input.nextInt();

        do {
            System.out.print("Enter a value between your min and max values:");
            between = input.nextInt();
        } while (between != max && between != min);

    }

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T06:21:22.410

将您的条件修改为：

```
while (between >= max || between <= min); 
```

由于您正在检查 between 是否在范围内，您应该检查它是否大于或等于最小值并且小于或等于最大值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T06:23:48.770

如果租用的号码不在范围内，您想重复循环

所以条件将是 -`while (between > max || between < min);`

# php - 如何生成随机密码

> ID：14951089
> 
> 赞同：1
> 
> 时间：2013-02-19T06:20:17.640
> 
> 标签：php

我只想从我对学生所做的所有查询结果中获得随机密码。在我的情况下，我尝试生成，但它只向所有查询的学生（大约 45 名学生）返回 1 个生成的密码。我应该怎么做一个随机的。请帮助..这是我的代码

```
 <?php
   if(isset($_POST['generate'])){
   $charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+';
    $generated_pass = substr(str_shuffle($charset), 0, 12);
    $generate = $_POST['generate'];
    }
    ?>
    <form method="post" action='enroll_student.php' name ='register'>

     <?php
     $yr = date("Y");
     if ($result = $mysqli->query("SELECT
     tbl_studentreg.studId,
     tbl_studentreg.fname,
     tbl_studentreg.lname,
     tbl_studentreg.mname,
     tbl_studentreg.dob,
     tbl_studentreg.address,
     tbl_department.departmentName,
     tbl_studentreg.sy
     FROM tbl_studentreg
     Inner Join tbl_department ON tbl_studentreg.departmentId = tbl_department.departmentId WHERE tbl_studentreg.sy =  '$yr' "))
                    {
       if ($result->num_rows > 0)
       {
                echo "<table width= '1000'>";
                echo "<tr><th>StudentID</th><th>Name</th><th>Date of Birth</th><th>Address</th><th>Department</th><th>School Year</th><th>Password</th></tr>";

         while ($row = $result->fetch_object())
          {
           echo "<tr>";

        echo "<td align='center'>" . $row->studId . "</td>";  
        echo "<td align='center'>" . $row->fname . " ". $row->mname ." ". $row->lname ." </td>";
    echo "<td align='center'>".$row->dob."</td>";
    echo "<td align='center'>" . $row->address. "</td>";
    echo "<td align='center'>".$row->departmentName."</td>";
    echo "<td align='center'>".$row->sy."</td>";

   if(isset($generated_pass)) {
        //how could i make this one generate random password for every students..?
    for($i=0; $i <= $row->studId; $i++){              
    echo "<td>$generated_pass</td>";
        }
        }
  echo "</tr>";
        }
echo "</table>";
                }
              else
                {
              echo "No Results.";
                }
                }
              else
                {
              echo "Error: " . $mysqli->error;
                 }
            $mysqli->close();
            echo '<br>';
    include 'count.php'; //this one will give the total no. of results, just ignore.
            ?>

               <br />        

          <tr><td></td></tr><tr><td><input type='submit' name='generate' value='Generate'/></td></tr>
        </table>
          </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:52:39.880

```
function genpass(){
$charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+';
    return substr(str_shuffle($charset), 0, 12);
}

// INSIDE THE LOOP
$generated_pass = genpass();
echo "<td>$generated_pass</td>"; 
```

类似的东西。

# jquery - 具有新 html 结构的 jquery 手风琴

> ID：14951094
> 
> 赞同：1
> 
> 时间：2013-02-19T06:20:44.073
> 
> 标签：jquery, accordion

我想用以下结构制作手风琴 jquery
我有一个 HTML 结构如下：

```
<div id="tab">
    <div id="head">
      <ul>
         <li> header1 </li>
         <li> header2 </li>
      </ul>
    </div> <!-- head end -->
    <div id="content">
       <div> content1 </div>
       <div> content2 </div>
    </div> <!-- content end -->
</div> <!-- tab end --> 
```

当我单击 header1 时，`<li>`我想显示 content1 `<div>`。

但jquery手风琴接受只是遵循结构：

```
<div id="accordion">
  <h3>Section 1</h3>
  <div> content 1 </div>

  <h3>Section 2</h3>
  <div> content 2 </div>
</div> <!-- accordion --> 
```

请帮我。谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:48:08.740

根据您的html：

```
<div id="tab">
  <div id="head">
    <ul>
        <li>header1</li>
        <li>header2</li>
    </ul>
  </div><!-- head end -->
  <div id="content">
    <div>content1</div>
    <div>content2</div>
  </div><!-- content end -->
</div><!-- tab end --> 
```

试试这个jQuery：

```
$('#head li').click(function () {
   var idx = $(this).index();
   $('#content div').eq(idx).slideToggle();
}); 
```

## [结帐小提琴](http://jsfiddle.net/Xq82u/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:26:26.183

首先你需要在你的 HTML 中有 Jquery 库。然后我想将您的代码修改为：

```
<div id="tab">
    <div id="head">
      <ul>
         <li class='header1'> header1 </li>
         <li class='header2'> header2 </li>
      </ul>
    </div> <!-- head end -->
    <div id="content">
       <div class='content1' style="display:none"> content1 </div>
       <div class='content2' style="display:none"> content2 </div>
    </div> <!-- content end -->
</div> 
```

然后按照下面的代码，把它放在Jquery lib之后的某个地方

```
<script>
$(function(){
$('.header1').click(function(){
$('.content1').show();
$('.content2').hide();
});
$('.header2').click(function(){
$('.content2').show();
$('.content1').hide();
});
});
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:23:44.587

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">
        // <![CDATA[
        var myMenu;
        window.onload = function() {
            myMenu = new SDMenu("my_menu");
            myMenu.init();
        };
        // ]]>
    </script>
  </head>
 <body>
    <div style="float: left" id="my_menu" class="sdmenu">
      <div>
        <span>Business Unit</span>
        <html:link action="">Business Unit</html:link>
      </div>
      <div class="collapsed">
        <span>Sales Area Maintenance</span>
        <html:link action="">Sales Area1</html:link>
        <html:link action="">Sales Area2</html:link>
     </div>
    </div> 
```

一旦尝试这个......

# android - 使用片段的滑动菜单

> ID：14951095
> 
> 赞同：0
> 
> 时间：2013-02-19T06:20:50.587
> 
> 标签：android, android-fragments, android-webview, slidingmenu

我正在使用 jFeinstein 的滑动菜单库。每次单击列表中的项目时，我都会通过加载 Web 视图来替换内容。我正在使用资产中的 html 页面使用 LoadDataWithBaseURL 在我的 Web 视图（内容框架）中加载网页。滑动菜单操作在网页完全加载之前首先发生。（这是一个负载很重的网页）。我想要滑动动画，因为 getSlidingMenu().showContent(); 只有在提交完成执行之后才会发生..即在我的网页加载 html 之后。任何人都可以帮忙。

```
 getSupportFragmentManager().beginTransaction().replace(R.id.content_frame, fragment).commit();  

    getSupportFragmentManager().executePendingTransactions();

    getSlidingMenu().showContent(); 
```

任何人都可以帮助我。是否有任何技术可以知道交易是否完成，或者我可以加快网页视图加载过程。？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T03:30:57.900

尝试在您的片段中实现一个侦听器并使用自定义 WebViewClient 在 onPageFinished 方法中调用您的侦听器。然后在您的活动中从侦听器方法调用 showContent()。

# javascript - 如何在javascript中处理soap错误

> ID：14951099
> 
> 赞同：2
> 
> 时间：2013-02-19T06:21:15.237
> 
> 标签：javascript, web-services, httprequest

嗨，我正在使用 javascript 调用 .net 中的 web 服务。我使用 http 请求调用 web 服务，我想处理 javascript 中的肥皂错误，怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-28T11:55:25.217

您可以使用 jQuery Soap，这是一个使用 SOAP 与 Web 服务通信的插件

“该脚本使用 $.ajax 发送 SOAP:Envelope。它可以将 XML DOM、XML 字符串或 JSON 作为输入，并且响应也可以作为 XML DOM、XML 字符串或 JSON 返回。”

我还没有尝试过，但它看起来很强大并且很容易上手。

例子：

```
$.soap({
    url: 'http://my.server.com/soapservices/',
    method: 'helloWorld',

data: {
    name: 'Remy Blom',
    msg: 'Hi!'
},

success: function (soapResponse) {
    // do stuff with soapResponse
    // if you want to have the response as JSON use soapResponse.toJSON();
    // or soapResponse.toString() to get XML string
    // or soapResponse.toXML() to get XML DOM
},
error: function (SOAPResponse) {
    // show error
}
}); 
```

来源：[https ://github.com/doedje/jquery.soap](https://github.com/doedje/jquery.soap)

# java - 对具有硬限制保证的一个线程使用执行程序是否有意义？

> ID：14951103
> 
> 赞同：0
> 
> 时间：2013-02-19T06:21:22.460
> 
> 标签：java, linux, multithreading, concurrency, real-time

我需要有一个后台线程，它不断地做一个动作，睡`X`几秒钟然后做动作等等。
基本上这个`run`方法是这样的：

```
while(!isInterrupted()){  
   //do something  
   Thread.sleep(10);  
} 
```

我的问题是：

1.  在这种情况下使用执行器有意义吗？由于我没有产生线程，即使在这种情况下使用执行器（单线程）更好？
2.  此外，如果我想保证线程在`do something`10 秒内进入零件，是否可以通过仅使用自定义线程或通过执行程序保证更多？我的意思是，如果我有 10 秒的**硬性限制**来执行一个动作，我能做些什么来实现它？我假设代码返回的时间`do something`可能会因调度等原因而波动。我怎么能得到这样的保证？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:28:47.017

如果您只使用一个像您一样永远运行的任务的线程，那么您可以使用您当前的逻辑。

但只有当你有一些小任务需要运行时，才有意义使用 SingleThreadPool。

> 我怎么能得到这样的保证？

操作系统端（Linux 或 Windows）没有**这样的保证**，即线程将在 10 秒后从睡眠中返回。尝试**增加**线程优先级，但这也不能保证有效。

您的逻辑不应依赖于 IMO 如此艰难的时间安排。

# python - 通过python从本地主机发送电子邮件到本地主机

> ID：14951109
> 
> 赞同：2
> 
> 时间：2013-02-19T06:21:47.020
> 
> 标签：python, web-services, email, sendmail, smtplib

在将其投入生产之前，我正在本地计算机上构建和测试 Web 服务。我想测试邮件服务。我正在使用标准的 python 电子邮件和 smtplib 库。

```
import smtplib
from email.mime.text import MIMEText
fp = open('textfile', 'rb')
msg = MIMEText(fp.read())
fp.close()

me = 'me_email@localhost'
you = 'me_again_email@localhost'
msg['Subject'] = 'The contents of %s' %fp
msg['From'] = me
msg['To'] = you

s = smtplib.SMTP('localhost')
s.sendmail(me, [you], msg.as_string())
s.quit() 
```

我没有配置 sendmail，因此它会引发错误。但由于我只是想测试我的网络服务，我并不担心 sendmail 现在是否无法发送电子邮件。我的服务旨在从数据库中提取一些记录并向他们发送电子邮件。所以我想知道这个连接，python 从 db 获取输入并推送电子邮件是否正常工作。我想在本地主机上接收通过脚本发送的电子邮件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T06:36:00.170

An [SMTP server](http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol) needs to be configured for sending emails. Sending emails is not possible unless you configure an SMTP server. More information on using python `smtplib` can be found in [pymotw.com](http://pymotw.com/2/smtplib/), [tutorialspoint.com](http://www.tutorialspoint.com/python/python_sending_email.htm) and [Python docs](http://docs.python.org/2/library/smtplib.html).

# ios - 子类 UITabBarController

> ID：14951114
> 
> 赞同：0
> 
> 时间：2013-02-19T06:22:31.113
> 
> 标签：ios, ios5, ios6

在苹果文档中，它说 UITabBarController 只能在 iOS6+ 中进行子类化，但是当我在 iOS 5 模拟器中通过应用程序运行时，一切正常。

我怎么能确定这会奏效？

我只有一台装有 iOS 6+ 的 iPad。

# oracle - Oracle - 如何将 VARCHAR 转换为 DATETIME 格式

> ID：14951118
> 
> 赞同：-2
> 
> 时间：2013-02-19T06:23:00.427
> 
> 标签：oracle, date, datetime, oracle10g

我正在使用`Oracle10g`数据库，其中一个表包含一个具有`Date`DataType 的列。我正在使用以下查询来获取记录：

```
 select to_char(START_TIME, 'YYMMDD HH24:MI:SS') from table; 
```

所以从上面的查询中，结果将是 type `VARCHAR`。我尝试`to_Date()`了方法，但结果只显示`DATE`. 我可以转换`VARCHAR`成`DATETIME`格式吗？结果应该是类型`DATETIME`。请帮助我如何解决这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T08:05:01.257

Oracle`date`包含日期和时间，因此您可以将其视为一个`datetime`（Oracle 中没有数据类型`datetime`）。当您选择它时如何显示完全取决于您的客户。默认显示设置由`NLS_DATE_FORMAT`参数控制。如果您只是在您的 pl/sql 块中使用日期，那么只需将其分配给一个`date`数据类型并选择该变量而不使用`to_char`它，它将正常工作并包含表中存在的任何时间组件。

控制显示，例如使用`nls_date_format`：

```
SQL> select a from datetest;
A
---------
19-FEB-13

SQL> alter session set nls_date_format='YYMMDD HH24:MI:SS';

Session altered.

SQL> select a from datetest;
A
---------------
130219 07:59:38 
```

但同样，这只是为了展示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:41:50.617

Oracle 的`Date`类型字段包含日期/时间值，因此将其转换为`Datetime`没有任何意义（它已经是日期时间）

[在此处](http://docs.oracle.com/cd/B19306_01/server.102/b14225/ch4datetime.htm#i1006006)阅读有关 Oracle 日期类型的更多信息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:38:23.690

是的，日期数据类型将满足您的需求，但您每次都必须跳过一些圈子才能从中获得准确的时间。绝对使用 Timestamp 数据类型。

# ios - 尝试将 uibarbuttonstyleCamera 添加到 ios6 中的 uitableviewcell

> ID：14951119
> 
> 赞同：0
> 
> 时间：2013-02-19T06:23:11.553
> 
> 标签：ios, objective-c, uitableview, uibutton, uibarbuttonitem

我试图像这样以编程方式将 uibarbutton- 相机样式添加到 uitableviewcell 但我在 uitableviewcell 中看不到任何内容

```
UIButton *newBtn=[UIButton buttonWithType:UIBarButtonSystemItemCamera];
        [newBtn setFrame:CGRectMake(250,10,50,30)];
        [newBtn addTarget:self action:nil forControlEvents:UIControlEventTouchUpInside];
        [newBtn setEnabled:YES];
        [cell addSubview:newBtn]; 
```

但是当我使用这段代码时，我在 uitableviewcell 中看到了一个圆角矩形按钮

```
 UIButton *newBtn=[UIButton buttonWithType:UIButtonTypeRoundedRect];
        [newBtn setFrame:CGRectMake(250,10,50,30)];
        [newBtn addTarget:self action:nil forControlEvents:UIControlEventTouchUpInside];
        [newBtn setEnabled:YES];
        [cell addSubview:newBtn]; 
```

有什么办法可以添加一个 uibarbuttonstyle 按钮，或者我所能做的就是向 uitableviewcell 添加一个 uibutton 圆角矩形样式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:30:55.013

`UIBarButtonItem`不一样`UIButton`。它甚至不继承自`UIView`，因此您不能将其作为子视图添加到其他视图。当你打电话时会发生什么

```
[UIButton buttonWithType:UIBarButtonSystemItemCamera] 
```

是该`UIBarButtonSystemItemCamera`常量对于 的值无效`buttonWithType:`，因此 UIButton 无法决定返回哪种类型的按钮 - 可能它只是返回一个空的、未配置的或`nil`.

因此，您的问题没有简单的解决方案。例如，您可以做的是截取相机栏按钮项目的屏幕截图，然后使用某种图像编辑器应用程序提取其图像，然后将该图像设置为自定义图像，`UIButton`如下所示：

```
UIButton *btn = [UIButton buttonWithType:UIButtonTypeCustom];
[btn setImage:[UIImage imageNamed:@"Camera.png"] forState:UIControlStateNormal];
[cell.contentView addSubview:btn]; 
```

# javascript - 为什么 jquery 文档中的 $.getJSON 调用正确？

> ID：14951123
> 
> 赞同：0
> 
> 时间：2013-02-19T06:23:23.873
> 
> 标签：javascript, jquery, optional, optional-arguments

我对 jQuery 文档有点困惑。我正在看[这个页面描述`$.getJSON`](http://api.jquery.com/jQuery.getJSON/)。代码示例是：

```
$.getJSON('ajax/test.json', function(data) {
  var items = [];

  $.each(data, function(key, val) {
    items.push('<li id="' + key + '">' + val + '</li>');
  });

  $('<ul/>', {
    'class': 'my-new-list',
    html: items.join('')
  }).appendTo('body');
}); 
```

但是方法签名是`jQuery.getJSON( url [, data ] [, success(data, textStatus, jqXHR) ] )`, where`data`是一个发送给服务器的对象，`success`是 JSON 请求返回成功时调用的方法。

那么为什么示例代码有效呢？它似乎跳过了第二个参数。我本来希望正确的代码是：

```
$.getJSON('ajax/test.json', {}, function(data) {
// and then the same from here 
```

我知道方括号意味着`[, data]`and`[, success]`参数是可选的，但我想我不明白 javascript 如何处理可变数量的参数。

感谢您的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:30:38.500

在 jQuery 源代码中：

```
// shift arguments if data argument was omitted
        if ( jQuery.isFunction( data ) ) {
            type = type || callback;
            callback = data;
            data = undefined;
        } 
```

所以它有效

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:29:20.973

参数数量：

```
arguments.length 
```

然后他们检查参数的类型并确定您提供了哪些参数。

例如：

```
if(typeof arguments[0] === 'string') // first parameter is a string so it must be url
if(typeof arguments[1] === 'object') // second parameter is an object so it must be data passed to server
if(typeof arguments[2] === 'function') // third parameter is a function so it must be callback 
```

# ruby-on-rails - 设计/水豚模糊匹配

> ID：14951124
> 
> 赞同：9
> 
> 时间：2013-02-19T06:23:24.637
> 
> 标签：ruby-on-rails, devise, cucumber, capybara

我正在使用设计创建注册向导，但水豚（2.0.2）引发

```
Feature: Signing up
    In order to be attributed for my work
    As a user
    I want to be able to sign u

Scenario: Signing up
    Given I am on the homepage
    When I follow "Sign up"
    And I fill in "Email" with "user@ticketee.com"
    And I fill in "Password" with "password"
    Ambiguous match, found 2 elements matching field "Password" (Capybara::Ambiguous)
./features/step_definitions/web_steps.rb:10:in `/^(?:|I )fill in "([^"]*)" with "([^"]*)"$/'
features/signing_up.feature:10:in `And I fill in "Password" with "password"'
    And I fill in "Password confirmation" with "password"
    And I press "Sign up"
    Then I should see "You have signed up successfully." 
```

步骤定义是

```
When /^(?:|I )fill in "([^"]*)" with "([^"]*)"$/ do |field, value|
  fill_in(field, :with => value)
end 
```

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-06-05T00:27:40.837

使用 Capybara 2.1，这有效：

```
 fill_in("Password", with: '123456', :match => :prefer_exact)
  fill_in("Password confirmation", with: '123456', :match => :prefer_exact) 
```

从[这里](http://www.elabs.se/blog/60-introducing-capybara-2-1):prefer_exact 是 Capybara 1.x 中存在的行为。如果找到多个匹配项，其中一些是完全匹配的，而另一些不是，则返回第一个完全匹配的元素。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-19T07:25:43.717

在 2.0 版中，当找到多个与指定定位器匹配的元素时，Capybara 的`find`方法会引发异常。`Capybara::Ambiguous`Capybara 不想为你做出模棱两可的选择。

正确的解决方案是使用另一个定位器（例如`find('#id').set('password')`or `fill_in('field_name', with: 'password'`）

[阅读Capybara 2.0 升级指南](http://techblog.fundinggates.com/blog/2012/08/capybara-2-0-upgrade-guide/)的“模糊匹配”部分以获得更长的解释。

# liferay - Liferay 新手，我无法使用 renderURL 浏览页面

> ID：14951125
> 
> 赞同：0
> 
> 时间：2013-02-19T06:23:29.937
> 
> 标签：liferay

我是 Liferay 的新手，我无法使用 renderURL 浏览页面，请告诉我我在哪里做错了我在这里被击中，在单击超链接时我无法导航到第二页，如下所示

这是我的第一页，我在其中显示第一页 (view.jsp)，但是从 view.jsp，我无法显示 view2.jsp

```
public class TestPortlet extends GenericPortlet {

public void doView(RenderRequest renderRequest,
RenderResponse renderResponse) throws IOException, PortletException {
renderResponse.setContentType("text/html");
PortletRequestDispatcher rd = getPortletConfig().getPortletContext()
.getRequestDispatcher("/html/test/view.jsp");

if (rd != null) {
rd.include(renderRequest, renderResponse);
}

}

} 
```

**这是我的 view.jsp**

```
<%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>

<portlet:defineObjects />

This is the <b>Sai Test Portlet</b> portlet in View mode.

<portlet:renderURL var="clickRenderURL">
<portlet:param name="jspPage" value="/html/test/view2.jsp" />
</portlet:renderURL>

<a href="<%=clickRenderURL %>">Click here</a> 
```

**这是我的 view2.jsp**

```
<%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>

<portlet:defineObjects />

This is the <b>View 2 </b> portlet in View mode. 
```

控制台模式没有错误，我使用的是 Liferay 6.1 版本。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:31:47.890

您可以使用“liferay-portlet:renderURL”标签检查相同的内容吗？

而不是使用“portlet:renderURL”标签。

休息对我来说一切都很好。

# ruby - Rubygems 被 Norton DNS 阻止

> ID：14951135
> 
> 赞同：0
> 
> 时间：2013-02-19T06:24:22.723
> 
> 标签：ruby, rubygems, gem

我跑了

```
$ gem fetch -V github-linguist
GET http://rubygems.org/latest_specs.4.8.gz
302 Moved Temporarily
GET http://production.s3.rubygems.org/latest_specs.4.8.gz
200 OK
ERROR:  While executing gem ... (Zlib::GzipFile::Error)
    not in gzip format 
```

然后令我震惊的是，我在浏览器中打开了链接并看到 [了这条消息](https://i.stack.imgur.com/HX5rc.png)

```
诺顿 DNS
恶意网站被封锁
您试图访问：production.s3.rubygems.org
这是一个已知的恶意网站。建议您不要访问
这个网站。该站点指向production.s3.rubygems.org.s3.amazonaws.com，
这是恶意的。

```

根据[铅笔的建议](https://stackoverflow.com/a/14951325)，我运行了 [namebench](http://code.google.com/p/namebench)并切换到了 OpenDNS-2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:39:52.267

可能有人使用 AWS 分发恶意软件，一些错误的自动化现在阻止了 *.amazonaws.com

必须是您和 Amazon 之间任何位置的过滤器（路由器/防火墙、代理、ISP、名称服务器……）。首先使用不同的名称服务器（如 Google 的 8.8.8.8）。

# css - 为什么边框在 IE 9 中消失了边框折叠：折叠？

> ID：14951136
> 
> 赞同：4
> 
> 时间：2013-02-19T06:24:22.577
> 
> 标签：css, internet-explorer, border

我有一个网页，我试图让所有浏览器的边框都正确。请参阅[http://dl.dropbox.com/u/17256431/SpreadsheetConverter/border-3/border-3.htm](http://dl.dropbox.com/u/17256431/SpreadsheetConverter/border-3/border-3.htm)

该网页具有**html 5 doctype**，并且表格的样式为**border-collapse:collapse**。所需的结果如 Chrome 中所示。看![在此处输入图像描述](../Images/f297eaf979e3424232e33d46d6a1f158.png)

但是，在 IE 9 中，不呈现边框。请参阅![在此处输入图像描述](../Images/df6791f4558c92c60507dc06f54f25b7.png) 内容为**“j”**的单元格定义了上边框 = 2px。

如果我在 IE 9 中以 Quirks 模式查看，结果将与 Chrome 中的相同。为什么用border-collapse:collapse 2px 和 0px 的边框合并成 0px？

由于我的应用程序限制，我需要使用 html 5 doctype 和border-collapse:collapse。

我在这里想念什么吗？有任何想法吗？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-06-19T14:43:54.143

出色地，

1.  对于 CSS 里面`*.ee121`添加`{position: absolute; margin-top: -2px; width: 189px;}`
2.  里面`*.ee126`加`{position: absolute; width: 186px;}`

```
/* begin: toolbar styles */

.toolbar {
  margin-top: 5px;
  background-color: #f1f1f1;
  z-index: -1;
  border-top: solid 4px #ff9c08;
  border-bottom: solid 2px #D9d8CE;
  display: inline-block;
  height: 54px;
  width: 100%;
}
.toolbar-upper {
  margin-top: 5px;
  background-color: #f1f1f1;
  z-index: -1;
  border-bottom: solid 4px #ff9c08;
  border-top: solid 2px #D9d8CE;
  display: inline-block;
  height: 54px;
  width: 100%;
}
.toolbar .tlb-btn {
  text-shadow: 0 -1px 0 rgba(0, 0, 0, .25);
  cursor: pointer;
  text-align: center;
}
.toolbar .tlb-elm {
  height: 22px;
}
.toolbar-upper .tlb-elm {
  height: 22px;
}
.toolpanel {
  float: left;
  margin: 16px 0 0 16px;
}
.toolbarGreenbtn {
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #79c979), color-stop(1, #009900));
  background: -moz-linear-gradient(center top, #79c979 5%, #009900 100%);
  background-color: #009900;
  -moz-border-radius: 4px;
  -webkit-border-radius: 4px;
  border-radius: 4px;
  border: 1px solid #009900;
  display: inline-block;
  color: #ffffff;
  font-family: arial;
  font-size: .8em;
  font-weight: bold;
  padding: 0 14px;
  text-decoration: none;
  margin: 0;
  height: 100%;
}
.toolbarBluebtn {
  background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #3d94f6), color-stop(1, #1e62d0));
  background: -moz-linear-gradient(center top, #3d94f6 5%, #1e62d0 100%);
  background-color: #1e62d0;
  -moz-border-radius: 4px;
  -webkit-border-radius: 4px;
  border-radius: 4px;
  border: 1px solid #075bd1;
  display: inline-block;
  color: #ffffff;
  font-family: arial;
  font-size: .8em;
  font-weight: bold;
  padding: 0 14px;
  text-decoration: none;
  margin: 0;
  height: 100%;
}
/* begin: toolbar hyperlink */

.tlb-nav-link {
  display: table;
  height: 54px;
  float: left;
  margin-left: 16px;
}
.tlb-nav-link div {
  display: table-cell;
  vertical-align: middle;
  padding-right: 10px;
}
.tlb-nav-link a {
  display: block;
  font-size: 12px;
  color: #2271E7;
  text-decoration: none;
}
.tlb-nav-link a:hover {
  color: #F16A22;
}
.tlb-nav-button {
  float: left;
  margin-top: 16px;
  margin-left: 10px;
}
.tlb-nav-button div {
  vertical-align: middle;
  padding-right: 10px;
}
.tlb-nav-button a {
  background-color: #94A1C1;
  -webkit-border-radius: 4px;
  -moz-border-radius: 3px;
  border-radius: 4px;
  padding: 3px 14px;
  display: inline-block;
  font-size: .8em;
  color: white;
  height: 100%;
  font-family: arial;
  margin-left: 5px;
  text-decoration: none;
}
.tlb-nav-button a:hover {
  background-color: #697cac;
  text-decoration: underline;
}
/* end: toolbar hyperlink */

.ui-widget-content {
  border: 1px solid #A0A0A0;
  background: #FFFFFF !important;
}
/* Styles needed by SpreadsheetConverter */

*.ee100 {
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee103 {
  border-bottom: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee107 {
  border: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee108 {
  border-left: 0.75pt solid windowtext;
  border-top: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee111 {
  border-top: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee112 {
  border-left: 1.50pt solid windowtext;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee113 {
  border-right: 1.50pt solid windowtext;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee114 {
  border-bottom: 0.75pt solid windowtext;
  border-left: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee115 {
  border-bottom: 0.75pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee116 {
  border-bottom: 1.50pt solid windowtext;
  border-left: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee117 {
  border-bottom: 1.50pt solid windowtext;
  border-right: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: right;
  vertical-align: bottom
}
*.ee118 {
  border-bottom: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee119 {
  border-left: 1.50pt solid windowtext;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee120 {
  border-right: 1.50pt solid windowtext;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee121 {
  border-bottom: 1.50pt solid windowtext;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: center;
  vertical-align: bottom;
  position: absolute;
  margin-top: -2px;
  width: 189px;
}
*.ee124 {
  border-bottom: 1.50pt solid windowtext;
  border-left: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee125 {
  border-bottom: 1.50pt solid windowtext;
  border-right: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: left;
  vertical-align: bottom
}
*.ee126 {
  border-bottom: 1.50pt solid windowtext;
  border-left: 1.50pt solid windowtext;
  border-right: 1.50pt solid black;
  border-top: 1.50pt solid windowtext;
  color: black;
  font-family: Calibri, sans-serif;
  font-size: 11.00pt;
  font-style: normal;
  font-weight: 400;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 1px;
  text-align: center;
  vertical-align: bottom;
  position: absolute;
  width: 186px;
}
textarea {
  overflow: auto;
}
```

```
<form id='formc' name='formc' method='post' action='http://www.spreadsheetserver.com/server1/g/submit/submit.aspx' target='_top'>
  <div id='tab'>
    <div id='sheet-2' style='padding: 0em 1.4em;'>
      <table width='512' cellspacing='1' cellpadding='0' style='border-spacing:1; border-collapse:collapse;' onkeydown='javascript:navigate(event);'>
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <col width='64' />
        <tr style='height:15pt'>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
        </tr>
        <tr style='height:15pt'>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee103' style='height:15pt;'>
            single
          </td>
          <td class='ee100' style='height:15pt;' colspan='6'>&nbsp;</td>
        </tr>
        <tr style='height:16pt'>
          <td class='ee100' style='height:16pt;' colspan='8'>&nbsp;</td>
        </tr>
        <tr style='height:15pt'>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee107' style='height:15pt;'>
            a
          </td>
          <td class='ee107' style='height:15pt;'>
            b
          </td>
          <td class='ee100' style='height:15pt;'>&nbsp;</td>
          <td class='ee108' style='height:15pt;'>
            1
          </td>
          <td class='ee111' style='height:15pt;'>
            2
          </td>
          <td class='ee112' style='height:15pt;'>
            3
          </td>
          <td class='ee113' style='height:15pt;'>
            4
          </td>
        </tr>
        <tr style='height:16pt'>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
          <td class='ee107' style='height:16pt;'>
            c
          </td>
          <td class='ee107' style='height:16pt;'>
            d
          </td>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
          <td class='ee114' style='height:16pt;'>
            5
          </td>
          <td class='ee115' style='height:16pt;'>
            6
          </td>
          <td class='ee116' style='height:16pt;'>
            7
          </td>
          <td class='ee117' style='height:16pt;'>
            8
          </td>
        </tr>
        <tr style='height:15pt'>
          <td class='ee100' style='height:15pt;' colspan='8'>&nbsp;</td>
        </tr>
        <tr style='height:16pt'>
          <td class='ee100' style='height:16pt;' colspan='4'>&nbsp;</td>
          <td class='ee118' style='height:16pt;'>&nbsp;</td>
          <td class='ee118' style='height:16pt;'>&nbsp;</td>
          <td class='ee118' style='height:16pt;'>&nbsp;</td>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
        </tr>
        <tr style='height:16pt'>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
          <td class='ee119' style='height:16pt;'>
            e
          </td>
          <td class='ee120' style='height:16pt;'>
            f
          </td>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
          <td class='ee121' style='height:16pt;' colspan='3'>
            t
          </td>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
        </tr>
        <tr style='height:16pt'>
          <td class='ee100' style='height:16pt;'>&nbsp;</td>
          <td class='ee124' style='height:16pt;'>
            g
          </td>
          <td class='ee125' style='height:16pt;'>
            h
          </td>
          <td class='ee100' style='height:16pt;' colspan='2'>&nbsp;</td>
          <td class='ee126' style='height:16pt;' colspan='3'>
            j
          </td>
        </tr>
      </table>
    </div>
  </div>
</form>
<div class='toolbar no-print'>
  <div class='tlb-elm toolpanel'>
    <button class='tlb-btn toolbarBluebtn update'>Update</button>
    <button class='tlb-btn toolbarBluebtn reset' style='margin-left:3px'>Reset</button>
    <button class='tlb-btn toolbarBluebtn print' style='margin-left:3px'>Print</button>
    <button class='tlb-btn toolbarGreenbtn submit' style='margin-left:12px'>Submit</button>
  </div>
</div>
```

仅此而已，它应该对您有用，如果您有任何问题，请告诉我。

# android - 扫描二维码，将二维码内容传入查询并在安卓屏幕上显示结果

> ID：14951141
> 
> 赞同：-2
> 
> 时间：2013-02-19T06:24:34.293
> 
> 标签：android, qr-code, zxing, barcode-scanner

我正在使用zxing扫描android中的二维码并获得结果。现在我想将二维码内容（总是一个数字）传递给 sqlite 选择查询并将结果显示在屏幕上。但是当我将内容传递给查询时，我得到空指针异常。代码是

```
 Intent intent = new Intent("com.google.zxing.client.android.SCAN");
  intent.putExtra("SCAN_MODE", "QR_CODE_MODE");
  startActivityForResult(intent, 0);

protected void onActivityResult(int requestCode, int resultCode, Intent intent) {
    super.onActivityResult(requestCode, resultCode, intent);
    if (requestCode == 0) {
        if (resultCode == RESULT_OK) {
            String contentId = intent.getStringExtra("SCAN_RESULT");
            String format = intent.getStringExtra("SCAN_RESULT_FORMAT");                

            Cursor cursorDetails = db.query("cd_details", new String[] {"location","latitude","longitude","photo"}, "id" + " = " + "'" + contentId + "'", null, null, null, null);
            cursorDetails.moveToFirst();

        } else if (resultCode == RESULT_CANCELED) {                
            Toast toast = Toast.makeText(this, "Scan was Cancelled!", Toast.LENGTH_LONG);
            toast.setGravity(Gravity.TOP, 25, 400);
            toast.show();                
        }
    }
} 
```

我在查询行中遇到错误。错误如下所示

```
 java.lang.RuntimeException: Unable to resume activity {com.pixel.scanner/com.pixel.scanner.ScannerActivity}: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=0, result=-1, data=Intent { act=com.google.zxing.client.android.SCAN flg=0x80000 (has extras) }} to activity {com.pixel.scanner/com.pixel.scanner.ScannerActivity}: java.lang.NullPointerException
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2124)
at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2139)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1672)
at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:2836)
at android.app.ActivityThread.access$1600(ActivityThread.java:117)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:939)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3687)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
at dalvik.system.NativeStart.main(Native Method)
 Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=0, result=-1, data=Intent { act=com.google.zxing.client.android.SCAN flg=0x80000 (has extras) }} to activity {com.pixel.scanner/com.pixel.scanner.ScannerActivity}: java.lang.NullPointerException
at android.app.ActivityThread.deliverResults(ActivityThread.java:2536)
at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2111)
... 13 more
 Caused by: java.lang.NullPointerException
at com.pixel.scanner.ScannerActivity.onActivityResult(ScannerActivity.java:70)
at android.app.Activity.dispatchActivityResult(Activity.java:3908)
at android.app.ActivityThread.deliverResults(ActivityThread.java:2532)
... 14 more 
```

上面代码中的第 70 行是

```
Cursor cursorDetails = db.query("cd_details", new String[] {"location","latitude","longitude","photo"}, "id" + " = " + "'" + contentId + "'", null, null, null, null); 
```

对此的任何建议都会有很大帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:28:35.777

问题是我没有打开数据库进行读/写。所以 db 即将为空。我添加了下面的行，它现在正在工作..

```
 db = SQLiteDatabase.openDatabase(fileIsExists.toString(), null, SQLiteDatabase.OPEN_READWRITE); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:08:55.597

堆栈跟踪已经告诉您答案。您的应用在第 70 行有问题。`db`为空。

# javascript - 如何使用javascript并排创建两个标签

> ID：14951148
> 
> 赞同：1
> 
> 时间：2013-02-19T06:25:13.540
> 
> 标签：javascript, cordova

我的要求是使用 javascript 并排创建两个标签。我将此代码用于一个标签，我需要在第一个标签右侧的另一个标签。

```
My Code is here

var label = document.createElement('label');
        label.innerHTML = "Hi";
            document.body.appendChild(document.createElement("br"));
            document.body.appendChild(document.createElement("br"));
            label.addEventListener("click", onClick);
            document.body.appendChild(label);

I want to create another label to the right of above one. Help me 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:27:02.750

您还可以在附加`<br>`标签之前附加元素，这会强制它位于下一行。

标签是内联元素，因此它们不需要`display`属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:40:58.883

我想这就是你要找的。

```
var label = document.createElement('label');
var label2 = document.createElement('label');
label.innerHTML = "Hi";
label2.innerHTML = "How are you?";
document.body.appendChild(document.createElement("br"));
document.body.appendChild(document.createElement("br"));
document.body.appendChild(label);
document.body.appendChild(label2); 
```

**更新1：**

```
function f1(){

var label = document.createElement('label');
    label.innerHTML = "Hi";
    document.body.appendChild(document.createElement("br"));
    document.body.appendChild(document.createElement("br"));
    document.body.appendChild(label);
}
function f2(){
    var label2 = document.createElement('label');
    label2.innerHTML = "How are you???";
    document.body.appendChild(label2);
} 
```

**更新2**

```
function f1(){
var a = new Array ( "Hi", "How are you?", "i am fine?");
var label = document.createElement('label');
    label.innerHTML = a;
    document.body.appendChild(document.createElement("br"));
    document.body.appendChild(document.createElement("br"));
    document.body.appendChild(label);
}
function f2(){
    var label2 = document.createElement('label');
    label2.innerHTML = "How are you???";
    document.body.appendChild(label2);
} 
```

# google-app-engine - 在 Google App Engine 上运行的服务器是否可以接收 RTSP 流？

> ID：14951149
> 
> 赞同：0
> 
> 时间：2013-02-19T06:25:16.060
> 
> 标签：google-app-engine, rtsp

在 Google App Engine 上运行的服务器是否可以接收 RTSP 流？

如果是这样，它有多容易？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:22:37.617

是和否，取决于您要达到的目标。

1.  [RTSP](http://en.wikipedia.org/wiki/Real_Time_Streaming_Protocol)只是一个控制协议，流传输部分（媒体数据的传递）是通过[RTP](http://en.wikipedia.org/wiki/Real-time_Transport_Protocol)完成的，它是基于 UDP 的协议，因此 App Engine 不支持。

2.  RTSP 本身具有与 HTTP 类似的格式，因此您*可以*在 GAE 上实现它。例如，在 Java 中，您将扩展 GenericServlet 并处理自定义 RTSP 动词。

所以，你*可以*做控制部分，但不能做媒体传递。

# c# - EventLogEntry.TimeGenerated 返回完全错误的日期

> ID：14951158
> 
> 赞同：2
> 
> 时间：2013-02-19T06:26:08.947
> 
> 标签：c#, event-log

我一直在编写 ac# 应用程序，它将日志写入物理磁盘上的文件，但我注意到 TimeGenerated 属性的一个奇怪行为 - 计算机上的本地日期是 xx.xx.2056（不要问为什么） , 但是属性的值给出了 xx.xx.1920 年并且时间也不匹配。

这是代码：

```
using (EventLog log = new EventLog("Application", "."))
{
    using (StreamWriter sw = new StreamWriter("events.log"))
    {
        foreach (EventLogEntry e in log.Entries)
        {
            sw.WriteLine("{0} : {1} : {2}", e.TimeGenerated, e.EntryType, e.Message);
        }
    }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:38:26.667

在 win2003 服务器 sp2 上测试，本地日期 2056（事件查看器中的正确日期）：

```
 ManagementScope ms = new ManagementScope();
            ObjectQuery oQuery = new ObjectQuery("Select * from Win32_NTLogEvent where Logfile = 'Application' and type ='Error'");
            ManagementObjectSearcher oS = new ManagementObjectSearcher(ms, oQuery);
            ManagementObjectCollection oCollection = oS.Get();
            var i2 = oCollection.Cast<ManagementObject>().First();
            DateTime timewritten = ManagementDateTimeConverter.ToDateTime(i2["TimeWritten"].ToString()); 
```

我得到1920

# asp.net-mvc - 在视图中访问 viewbag

> ID：14951163
> 
> 赞同：0
> 
> 时间：2013-02-19T06:26:39.643
> 
> 标签：asp.net-mvc, razor

净MVC。我已经为 viewbag 属性分配了一个对象列表，谁能告诉我如何在视图中获取列表以在下拉列表中使用它？这是我的控制器代码和查看代码

控制器：

```
 public ActionResult GetSection(int sectionId,int contactId)
        {
            ContactDetailSectionModel contactDetailSection = new ContactDetailSectionModel { SectionId = sectionId,ContactId=contactId };
            contactDetailSection.FetchAllSubsections();

            ContactDetailSectionModel customSections = new ContactDetailSectionModel();
            customSections.FetchCustomSubSections();

            if(customSections != null && customSections.ContactDetailSubSections != null)
            {
                ViewBag.CustomSubSections = customSections.ContactDetailSubSections;
            }

            return PartialView("~/Views/Contacts/Details/EditSection.cshtml", contactDetailSection);
        } 
```

查看代码：

```
@Html.DropDownListFor(m => m.ContactDetailSubSections[1], new SelectList(ViewBag.CustomSubSections , "Name", "Name",Model.ContactDetailSubSections[1].Name)) 
 @Html.TextAreaFor(m => m.ContactDetailSubSections[1].Text) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:34:36.323

我认为你的第一个参数`@Html.DropDownlist`应该是字符串或一些标量，它不能是一个集合。

# javascript - 使用 jquery-week-calendar 在一天中有多个事件时向下移动

> ID：14951164
> 
> 赞同：1
> 
> 时间：2013-02-19T06:26:41.237
> 
> 标签：javascript, jquery, html, css, jquery-week-calendar

我正在使用[jquery-week-calendar](https://github.com/themouette/jquery-week-calendar) v2.0-dev 并且当我在同一天显示两个事件时，第二个事件显示错误的时间。当我用鼠标抓住第一个事件的底部并开始调整大小时，第二个事件突然出现。我已经根据演示检查了我的所有文件`.js`和文件，并且一切都匹配。有人有想法么？谢谢！奇拉格`.css``weekcalendar.html`

![详见附件](../Images/1b58b19312a112298d9b3add9d6d457e.png).

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T19:21:33.597

尝试在`.css`样式表中添加这样的规则：

```
.wc-cal-event {
  position: absolute !important;
} 
```

如果你已经有了绝对位置，那`!important;`也是必要的

# c++ - 我在使用 ifndef 时遇到问题。我得到错误：错误未定义引用

> ID：14951167
> 
> 赞同：1
> 
> 时间：2013-02-19T06:26:55.153
> 
> 标签：c++

我正在使用具有继承的类。我的学生。h 自己调用时可以正常工作，但是当我将它用作基类时，会出现以下错误：

```
/tmp/ccSCMNjf.o:umain.cpp:function main: error: undefined reference to 'student::showStudent()'
/tmp/ccSCMNjf.o:umain.cpp:function main: error: undefined reference to 'student::showStudent()'
/tmp/ccSCMNjf.o:umain.cpp:function main: error: undefined reference to 'student::showStudent()'
/tmp/ccSCMNjf.o:umain.cpp:function main: error: undefined reference to 'student::showStudent()'
/tmp/ccl9pOYI.o:underGradImp.cpp:function underGrad::underGrad(std::basic_string<char,     std::char_traits<char>, std::allocator<char> >, std::basic_string<char,     std::char_traits<char>, std::allocator<char> >, std::basic_string<char,  std::char_traits<char>, std::allocator<char> >, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, double, double, double, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, sStat): error: undefined reference to 'student::student(std::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::basic_string<char, std::char_traits<char>, std::allocator<char> , std::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::basic_string<char, std::char_traits<char>, std::allocator<char> >, double, double, double)'
collect2: ld returned 1 exit status 
```

我正在使用标头保护，并且我也尝试过使用 #pragma 一次，结果相同。

如果我取出标头防护装置，我会收到此错误：

```
In file inlcluded from underGrad.h:160,
                  from umain.cpp:9:
student.h:19:7: error: redefinition of  'class student'
student.h:19:7  previous definition of 'class student' 
```

这是 student.h 文件

```
#ifndef H_student
#define H_student

#include <iostream>
#include <string>

using namespace std;

class student 
{

public:

  student(string = "", string = "", string = "", string = "", double = 0.0, double = 0.0, double = 0.0);

  string getLastName() const;

  string getFirstName() const;

  string getID() const;

  void getCharges(double&, double&) const;

  double getBalance() const;

  string getMajor() const;

  double getGPA() const;

  void setName(string, string);

  void setID(string);

  void setMajor(string);

  void setCharges(double, double);

  void setGPA(double);

  void showStudent();

private:

  bool checkID(string) const;

  string expandMajorCode(string);

  string lastName, firstName, studentID, major;

  double gpa, charges, financialAid, balance;

  static const double MAX_CHARGES = 10000.0;

  static const double MAX_GPA = 4.0;

};

#endif 
```

* * *

这是我的 underGrad.h 文件，它使用 student.h 作为基类

* * *

```
#ifndef H_underGrad
#define H_underGrad

#include <iostream>
#include <string>

#include "student.h"

using namespace std;

enum sStat {PROBATION, GOOD, SPECIAL, NONE};

class underGrad : public student {

public:
  underGrad(string = "", string = "", string = "", string = "", double = 0.0, double =         0.0, double = 0.0, string = "", sStat  = NONE);
  string getAdvisor() const;
  sStat getStatus() const;
  void setAdvisor(string);
  void setStatus(sStat);
  void showStudent();

private:
  string advisor;
  sStat sStatus;

};

#endif 
```

* * *

还有一个 main 包括 student.h 和 underGrads 。h 但除了这些电话之外，这并不重要。我已经包括了 student 。h 就像在一个实现文件中一样，它工作得很好，所以我认为我的第二个类定义或者包含以某种方式有问题。有人可以指出我正确的方向吗？

```
NOTE:
The errors are produced for every member of student - not just showStudent 
```

任何帮助是极大的赞赏

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T06:28:41.637

1.  保留包括警卫。
2.  确保将实现`student`( `student.cpp`?) 的文件链接到可执行文件中。

# javascript - 用“+”运算符为对象添加前缀有什么作用？

> ID：14951172
> 
> 赞同：2
> 
> 时间：2013-02-19T06:27:33.717
> 
> 标签：javascript, underscore.js

我在 Underscore.js 的 _.each 实现中遇到了这行代码，我很好奇这里发生了什么。obj 前面的“+”有什么作用？

`if (obj.length === +obj.length) { ... }`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:29:19.073

`if`测试是数字而`obj.length`不是`NaN`. 右边总是一个数字（或者`NaN`如果`obj.length`不能被解释为一个数字）。如果也是一个数字，它只会`===`在左侧。`obj.length`

请注意，如果是看起来像数字的字符串，则 using`isNaN`将不起作用；`obj.length`也就是说，`isNan("3")`返回`false`。还要注意的`NaN === NaN`是`false`——`NaN`绝不`===`是任何东西。

# sql - 触发器不改变已经存在的数据

> ID：14951177
> 
> 赞同：0
> 
> 时间：2013-02-19T06:27:54.217
> 
> 标签：sql, sql-server, sql-server-2005, triggers, datatrigger

我有表刚刚说它Table1，它触发了在Table2的插入，所以来自Table1的数据将插入到Table2中。
问题是每次表 1 中的数据发生变化时，表 2 中来自先前触发器的数据也发生了变化。
我希望先前触发器中已经存在的数据仍然存在并且不会改变。

有什么解决办法吗？

这是我的代码：

```
create trigger trig_change on Table1
for insert
begin
    insert into Table2
    select * from table1
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:53:52.090

我确定这段代码必须在 tab2 中插入重复值。每当插入事件触发 tab1 整个数据以及从 tab1 插入到 tab2 的新插入行时。tab2 中先前插入的数据将保持不变（在更改时不会更改表 1）。因此，您需要在代码中进行一些更改，请务必使用默认表（插入）。这是更改的代码，希望这可以帮助您：

```
 create trigger trig_change on Table1
for insert
begin
    insert into Table2
    select a.* from table1 a,inserted i
    where a.col1=i.col1

end 
```

# python - python如何处理像r'([abc])+'这样的正则表达式

> ID：14951181
> 
> 赞同：1
> 
> 时间：2013-02-19T06:28:02.527
> 
> 标签：python, regex

在 python 的文档中，我看到了一个例子：

```
m = re.match("([abc])+", "abc")
m.groups() # ('c',) 
```

这是怎么发生的？我认为子组应该是'a'。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:38:13.830

我相信这种行为是未指定的。当您在重复运算符中使用捕获组时，它通常会捕获最后一个匹配项。然而，[Python Issue 7132](http://bugs.python.org/issue7132)中的讨论表明情况并非总是如此：

> 是的，但这对于组索引的完全一致性是必要的。当前返回值显然不一致（通常它返回捕获组的最后一次出现，但我发现情况并非总是如此，因为回溯后返回的匹配......）

但是，很容易修改您的示例以返回每个字符：

```
In [7]: m = re.match("([abc]+)", "abc") # a slightly different regex

In [8]: list(m.groups()[0])
Out[8]: ['a', 'b', 'c'] 
```

在这里，整个序列被捕获为一个组，然后拆分。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T06:32:07.247

```
>>> m = re.match("([abc])+", "abc")
>>> m.group(0)
'abc'
>>> m.group(1)
'c'
>>> m.groups()
('c',) 
```

正则表达式`([abc])+`匹配整个字符串（请参阅参考资料`m.group(0)`）。

该匹配是通过捕获单个字符`[abc]`，将结果捕获到第 1 组中，然后重复该过程来获得的。所以该组将首先是`a`，然后（在下一次重复中）`b`，最后是`c`。

`.groups()`返回所有捕获组匹配的元组。由于只有一个捕获组，因此您将获得一个单元素元组。

# android - java.lang.IllegalAccessError：预验证类中的类引用解析为三星设备上的意外实现

> ID：14951186
> 
> 赞同：1
> 
> 时间：2013-02-19T06:28:35.183
> 
> 标签：android, galaxy

我在我的应用程序中随机出现这个异常，而且我只看到各种三星设备（Galaxy Note 2、Galaxy S2）上的崩溃。我的应用程序依赖于几个不同的库项目，并且我已经验证我没有两次包含 jars，等等。我完全不知道为什么会发生这种情况，因为我的 5 个中的任何一个都没有收到它+ 测试设备并收到很少的崩溃报告，但是一些幸运的人无法在没有崩溃的情况下使用该应用程序。

这是几个堆栈跟踪：

```
java.lang.IllegalAccessError: Class ref in pre-verified class resolved to unexpected      implementation
    at com.tvshowfavs.services.api.ServerDataStoreService.onHandleIntent(ServerDataStoreService.java:93)
    at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.os.HandlerThread.run(HandlerThread.java:60) 
```

和：

```
java.lang.IllegalAccessError: Class ref in pre-verified class resolved to unexpected implementation
at com.tvshowfavs.widget.AppWidgetPreferences.getTabs(AppWidgetPreferences.java:105)
at com.tvshowfavs.widget.AppWidgetConfigurationActivity.onTabsChanged(AppWidgetConfigurationActivity.java:337)
    at com.tvshowfavs.widget.AppWidgetConfigurationActivity.onCreate(AppWidgetConfigurationActivity.java:133)
    at android.app.Activity.performCreate(Activity.java:4470)
    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)
    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)
    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)
    at android.app.ActivityThread.access$600(ActivityThread.java:127)
    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1158)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:4511)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)
    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:93)
    at dalvik.system.NativeStart.main(Native Method) 
```

有人对这些随机崩溃有任何见解吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T05:03:53.880

好吧，所以我想通了这个问题。我在应用程序中使用 Apache Commons Lang jar，它崩溃的每个地方都在调用 StringUtils。罐子只被添加一次，所以我不确定它为什么会导致问题。但是，删除 jar 是我可以防止它在用户的 Note 2 上崩溃的唯一方法。我希望我知道为什么它会因为这个错误而在他的设备上崩溃，因为 StringUtils 非常方便:(

# c - 用c语言将复数提升到任意幂

> ID：14951190
> 
> 赞同：0
> 
> 时间：2013-02-19T06:28:48.583
> 
> 标签：c, numbers

人们，谁能告诉我为什么这给了我错误的答案？它应该给我 -3.00 +4.00i，但它给了我 1.00 +0.00i。我尝试了 2 + 0.00i 并且它做得很好并返回了 4.00 但它似乎没有将 i 的系数提高到二次方......请帮助！顺便说一下这是c语言

```
#include<stdio.h>
#include<complex.h>
#include<math.h>
main()
{
double complex z1 = 1+ 2*I;
double complex FZ1 = pow(z1, 2);
printf("%.2f +%.2fi \n", creal(FZ1), cimag(FZ1));
return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T06:47:27.903

使用 cpow 函数。pow 不适用于复数。

```
#include<stdio.h>
#include<complex.h>
#include<math.h>
main()
{
double complex z1 = 1+ 2*I;
double complex FZ1 = cpow(z1, 2);
printf("%.2f +%.2fi \n", creal(FZ1), cimag(FZ1));
return 0;
} 
```

# javascript - tinymce textarea 克隆在 htmleditor 内容中呈现部分视图

> ID：14951191
> 
> 赞同：2
> 
> 时间：2013-02-19T06:28:50.023
> 
> 标签：javascript, asp.net, asp.net-mvc, tinymce

我有一个带有几个文本框和一个用于tinymce 的文本区域的部分视图。在我的主要形式中，我将此视图作为隐藏元素：

```
<div id="template" style="display: none">
  <div id="lessonplan" style="display: none">
    <div id="lessonplanedit">
      LessonPlan
      <br />
      @Html.Partial("LessonPlanEdit", new LessonPlan())
    </div>
  </div>
<div> 
```

单击按钮时，我正在克隆此 div：

```
function addlessonplan(component) {
    var idiv = $("#"+component).clone();// + component).clone(); //.html();

    idiv.removeAttr("style");

    var divid = component + '_' + counter++;
    var newid = component + '_' + counter++;
    idiv.attr("id", newid);

    $("#panel").append('<div id="' + divid + '"></div>');

    $("#" + divid).append(idiv);

    tinymceinit();
    tinyMCE.execCommand('mceAddControl', false, newid);
    tinyMCE.get(newid).setContent('');
} 
```

我得到的结果是这样的： ![在此处输入图像描述](../Images/936ad1a48f4d8efc46ed8761b4fc2468.png) 即部分视图在 htmleditor 中呈现。你知道为什么会这样吗？

# clojure - 相同的功能，不同的结果

> ID：14951194
> 
> 赞同：1
> 
> 时间：2013-02-19T06:28:55.780
> 
> 标签：clojure, datomic

我有一个 Clojure ns，它定义了一个内存数据库：1 个分区、一些属性和 2 个实体。我从 Eclipse 的（逆时针）运行它，结果（**异常**）如下：

```
;; Clojure 1.4.0
;; Switching to ww.billing namespace
#'ww.billing/cardinality
#<Namespace ww.billing>
=> (setup-db)
#<HashSet [[:billing]]>
#<HashSet [[:db/code], [:customer/taxid], [:fressian/tag], [:db/unique], [:db/fn],
[:customer/role], [:db/noHistory], [:db/fulltext], [:db/lang], [:db/valueType], 
[:db/doc], [:db/isComponent], [:db.install/function], [:db/cardinality], 
[:db/txInstant], [:db/index], [:customer/taxname]]>
#<HashSet [["BBB010101BB1"], ["AAA010101AAA"]]>
#<HashSet [[272678883689455], [272678883689454]]>
nil
=> (cardinality mdb :customer/taxid)
IllegalArgumentException Cannot resolve key: :customer/taxid  
datomic.datalog/resolve-id (    datalog.clj:144) 
```

然而，从 LightTable，同样的代码，当然，结果是不同的（**正确**的）：

```
(ns ww.billing) => nil
(setup-db) => nil
(cardinality mdb :customer/taxid) => :db.cardinality/one

Output: 
#<HashSet [[:billing]]>
#<HashSet [[:db/code], [:customer/taxid], [:fressian/tag], [:db/unique], [:db/fn],
[:customer/role], [:db/noHistory], [:db/fulltext], [:db/lang], [:db/valueType],
[:db/doc], [:db/isComponent], [:db.install/function], [:db/cardinality],
[:db/txInstant], [:db/index], [:customer/taxname]]>
#<HashSet [["BBB010101BB1"], ["AAA010101AAA"]]>
#<HashSet [[272678883689455], [272678883689454]]> 
```

取决于环境的不同结果可能是什么原因？注意：IntelliJ 的行为类似于 Eclipse。基数函数取自西雅图演示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T18:47:25.910

这在谷歌组中得到了充分的回答：[https ://groups.google.com/d/msg/datomic/CwCJXLeUsPQ/Y-mNvFF5lksJ](https://groups.google.com/d/msg/datomic/CwCJXLeUsPQ/Y-mNvFF5lksJ)

# ios - UITableView ContentInsets 水平滚动内容

> ID：14951196
> 
> 赞同：9
> 
> 时间：2013-02-19T06:29:13.787
> 
> 标签：ios, objective-c, uitableview

我想要一些剩余的空间，10 像素，到`UITablViewcCell`. 我在下面写代码，但它的内容是水平滚动的。我不想要那个。

```
self.tableView = [[UITableView alloc] initWithFrame:CGRectMake(0.0, 0.0, 130.0, 768.0)];
    self.horizontalTableView.contentInset = UIEdgeInsetsMake(0.0, 10.0, 0.0, 0.0); 
```

我需要使用`contentOffset` `contentSize`tableview的属性吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-07T10:05:26.367

我认为最好的解决方案是创建子类 UITableViewCell 并设置其子视图的框架`layoutSubviews`以满足您的间距要求。这将更加清洁和可扩展。[仔细看看 tableview 单元格](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/TableView_iPhone/TableViewCells/TableViewCells.html#//apple_ref/doc/uid/TP40007451-CH7-SW1)是一个很好的阅读。

但是也有一些捷径，每个捷径都有自己的缺点：

1.  为单元格设置缩进

    [`-(NSInteger)tableView:(UITableView *)tableView indentationLevelForRowAtIndexPath:(NSIndexPath *)indexPath`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40006942-CH3-DontLinkElementID_20)

    此方法将为您的单元格内容添加缩进（左边距）。但是单元格分隔符会占据单元格的实际宽度，即表格宽度。因此，您需要将分隔符样式设置为无，以便不会显示。但如果您需要电池分隔器，则不适用。

2.  减小整个 tableViews 框架大小

    这是最简单且非常明显的方法，但是当您需要单元格和 tableView 之间的边距时，它就很糟糕了。

设置 contentInset 后，您应该已经注意到[Docs](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIScrollView_Class/Reference/UIScrollView.html#//apple_ref/doc/uid/TP40006922-CH3-DontLinkElementID_11)中有关它的讨论。

> 使用此属性可添加到内容周围的滚动区域。大小的单位是点。默认值为 UIEdgeInsetsZero。

我认为使用 contentOffset 和 contentSize 将有助于实现边距，但对我来说，更改这些值从来没有任何效果。可能正如安德烈所说，他们可能在内部进行管理。但我很想听到更多关于这些属性及其反映的行为的信息。

**编辑**

contentOffset 和 contentSize 是从 UIScrollView 继承的，在 UITableView 中的含义相同，因为它是 UIScrollView 的子类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-14T14:33:01.943

`tableView`另一种可行的方法是，您可以为 cell's 设置框架，而不是设置框架，`contentView`就像这样，

```
- (void) layoutSubviews
{
    [super layoutSubviews];

    CGRect frame = self.contentView.frame;
    frame.size.width = frame.size.width * 0.9; //90% of total width
    frame.origin.x = self.center.x - (frame.size.width/2); //center the contentView
    self.contentView.frame = frame;
} 
```

使用上述内容，您可以添加单元格所需的任何左侧或右侧或左侧填充。并且所有子视图都将添加到 中`contentView`，因此那里没有问题。

快乐编码..！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-07T07:17:05.337

似乎有一个奇怪的错误，`UITableView`所以边缘插图仅适用于顶部和底部边缘。最好的（但仍然很丑陋）的解决方案是移动单元格中的内容。

`contentOffset`并且`contentSize`属性不应该在表格中手动更改，这是内部的事情。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:22:05.263

你的描述对我来说不是很清楚，所以我可能完全不在这儿了。但我会猜测一下，如果不正确，还请您尝试澄清更多。

您设置了 tableView 的 contentInset，我猜它可以在左侧设置边距。但我认为它导致 tableView 滚动，因为你没有减少内部视图的宽度。

# c++ - 匿名命名空间中的 constexpr 字符串文字？

> ID：14951200
> 
> 赞同：9
> 
> 时间：2013-02-19T06:29:21.340
> 
> 标签：c++, c++11, constexpr

我有以下示例代码，它使用字符串文字作为模板参数，以便基类模板可以访问该字符串。

代码编译，但我收到一个我不完全理解的警告：

> 警告：'ns::bar::type' 有一个基 'ns::base<((const char*)(& ns::bar::name))>'，其类型使用匿名命名空间 [默认启用]

下面的工作示例代码：

```
// "test.h"
#pragma once

namespace ns 
{
    template <char const* str>
    struct base
    {
        const char *name() const { return str; }
    };

    namespace bar 
    {
        static constexpr char name[] = "bar";
        struct type : base<name> {};                // <-- this line here
    }
}

// main.cpp
#include <iostream>
#include "test.h"

int main()
{
    ns::bar::type f;
    std::cout << f.name() << std::endl;
    return 0;
} 
```

所以我的问题是：

1.  这个警告是什么意思？
2.  以我在这里所做的方式将字符串文字作为模板参数传递是否安全？

（注意这是 gcc 4.7.2）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T06:50:45.110

问题在于`static constexpr char name[] = "bar";`具有内部联系的事实。

**在标头中定义了内部链接的任何类型在包含标头的每个文件中都是不同的类型。**

这很少是意图 - 因此是警告。

在源文件中执行此操作时没有警告的原因是因为该类型不能被多个文件引用 - 因此它将始终是一种类型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T09:04:04.777

警告是因为在包含`name`的每个源文件中都有不同的地址`test.h`。因为它有内部链接（`static`），所以每个翻译单元都会得到自己的副本；它们不会被链接器统一。这意味着您的代码相当于：

```
template<int> struct base { ... };
static constexpr int val = some_value_different_in_every_source_file;
struct type: base<val> {}; 
```

您的代码是合法*的*，但如果您包含`test.h`在另一个源文件中，那么它将违反单一定义规则：

> ### 3.2 一个定义规则[basic.def.odr]
> 
> [...]
> 6 - 可以有多个类类型的定义 [...] 提供 [...]：[...]
> 
> *   in each deﬁnition of `D`, corresponding names [...] can refer to a const object with internal or no linkage [only] if [...] the value (but not the address) of the object is used [...]

You're using the *address* of an object with internal linkage in the definition of a class type, so using it in more than one translation unit is undefined behaviour.

# symfony - 选择或添加实体到表单

> ID：14951204
> 
> 赞同：1
> 
> 时间：2013-02-19T06:29:42.183
> 
> 标签：symfony

您可以使用[实体类型](http://symfony.com/doc/current/reference/forms/types/entity.html)让用户从当前的一组实体中进行选择，或者使用[嵌入式表单](http://symfony.com/doc/current/book/forms.html#embedded-forms)让他添加新实体。

我的问题是，你怎么能同时做（即提供一个选择字段以及一个“添加新”字段）？

我的建设者是

```
$builder->add('customer', 'entity', array(
    'class'    => 'TechrescueAdminBundle:Customer',
    'property' => 'label',
)); 
```

和

```
$builder->add('customer', new CustomerType()); 
```

但当然，如果我两者都有，一个会覆盖另一个。

# sql - Oracle PL/SQL 程序不工作，程序涉及记录和复合数据

> ID：14951205
> 
> 赞同：0
> 
> 时间：2013-02-19T06:29:42.950
> 
> 标签：sql, database, oracle, plsql

我有一个用于 PL/SQL 的程序，它还不能正常工作，我已经接近让它工作了，但只需要一点帮助，看看我哪里出错了。

目前，我有一个程序从员工表中检索最早雇用的员工，然后使用 %ROWTYPE 将其输入到 RECORD 中，然后将该信息显示给用户。

一切进展顺利，按计划进行，只是对员工长寿的变量声明有一点问题。我最早从 sysdate 计算的租用日期没有得到结果。我正在使用 TRUNC(MONTHS_BETWEEN) 计算并将其放入声明的记录中。所以在某个地方变量或计算不起作用。

无论如何，主要问题在于 LONGEVITY 计算不起作用，它只是一个年龄计算。这是我应该得到的格式和答案

```
Longevity: 9113.5 days or 303.8 months 
```

这是我的编码，在我试图使其基本和简单的所有变量、记录和声明之后，它有点复杂：

```
SET SERVEROUTPUT ON
DECLARE
  TYPE hr_rec IS RECORD
    (
    hr_longevity        NUMBER(4, 1),
    hr_hire_date        employees.hire_date%TYPE,
    hr_rec_row          employees%ROWTYPE
    );
    hr_myrecord      hr_rec;

BEGIN

SELECT *  INTO hr_myrecord.hr_rec_row
 FROM
 (
     SELECT * 
     FROM  employees
     ORDER BY hire_date
 )
 WHERE rownum = 1;

hr_myrecord.hr_longevity := 
    TRUNC(MONTHS_BETWEEN(SYSDATE, hr_myrecord.hr_hire_date), 1);

DBMS_OUTPUT.PUT_LINE('The employee info for Longest Employed is: '
|| hr_myrecord.hr_rec_row.employee_id
|| '  ' || hr_myrecord.hr_rec_row.first_name 
||  '  ' || hr_myrecord.hr_rec_row.last_name );
DBMS_OUTPUT.PUT_LINE('Hire date is:  ' || hr_myrecord.hr_rec_row.hire_date);
DBMS_OUTPUT.PUT_LINE('Email address is:  ' || hr_myrecord.hr_rec_row.email);
DBMS_OUTPUT.PUT_LINE('Phone number is:  ' || hr_myrecord.hr_rec_row.phone_number);
DBMS_OUTPUT.PUT_LINE('Longevity is: ' || hr_myrecord.hr_longevity );
END;
/ 
```

这是它给我的：

```
anonymous block completed
The employee info for Longest Employed is ID#:  100  Steven  King
Hire date is:  17-JUN-87
Email address is:  SKING
Phone number is:  515.123.4567
Longevity is: 
```

另外，只是为了好玩，这是我文本中的示例，我应该通过它来进行此计算，它不是很有帮助，但它是相似的，只是计算不同。

```
DECLARE
type t_rec is record
(v_sal number(8),
v_minsal number(8) default 1000,
v_hire_date employees.hire_date%type,
v_rec1 employees%rowtype);
v_myrec t_rec;
BEGIN
v_myrec.v_sal := v_myrec.v_minsal + 500;
v_myrec.v_hire_date := sysdate;
SELECT * INTO v_myrec.v_rec1
FROM employees WHERE employee_id = 100;
DBMS_OUTPUT.PUT_LINE(v_myrec.v_rec1.last_name ||' '||
to_char(v_myrec.v_hire_date) ||' '|| to_char(v_myrec.v_sal));
END; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:33:04.550

`hr_myrecord.hr_hire_date`在计算之前未初始化`hr_myrecord.hr_longevity`
您可以执行以下操作：

```
hr_myrecord.hr_longevity := 
    TRUNC(MONTHS_BETWEEN(SYSDATE, hr_myrecord.hr_rec_row.hire_date), 1); 
```

# c# - ListView.CheckBoxes 更改列 infrc

> ID：14951207
> 
> 赞同：0
> 
> 时间：2013-02-19T06:29:48.310
> 
> 标签：c#, winforms, listview

我有一个带有属性的 ListBox：

```
this.artistsListView.Activation = System.Windows.Forms.ItemActivation.TwoClick;
this.artistsListView.Anchor = ((System.Windows.Forms.AnchorStyles)((((System.Windows.Forms.AnchorStyles.Top | System.Windows.Forms.AnchorStyles.Bottom) 
| System.Windows.Forms.AnchorStyles.Left) 
| System.Windows.Forms.AnchorStyles.Right)));
this.artistsListView.CheckBoxes = true;
this.artistsListView.Columns.AddRange(new System.Windows.Forms.ColumnHeader[] {
this.check,
this.columnHeader1,
this.columnHeader2,
this.columnHeader4,
this.columnHeader5,
this.columnHeader3});
this.artistsListView.ContextMenuStrip = this.contextMenuStrip1;
this.artistsListView.GridLines = true;
this.artistsListView.Location = new System.Drawing.Point(8, 73);
this.artistsListView.Name = "artistsListView";
this.artistsListView.Size = new System.Drawing.Size(720, 144);
this.artistsListView.TabIndex = 9;
this.artistsListView.UseCompatibleStateImageBehavior = false;
this.artistsListView.FullRowSelect = true;
this.artistsListView.View = System.Windows.Forms.View.Details; 
```

但复选框列索引是最后一个。如何首先插入复选框列？

# cakephp - 在 Cakephp 中查看 PDF 文件

> ID：14951212
> 
> 赞同：0
> 
> 时间：2013-02-19T06:30:32.733
> 
> 标签：cakephp

上传后，我试图在我的 cakephp 应用程序正文中查看 PDF 文件，更像是 iframe。上传工作正常，但我现在面临的挑战是打开 pdf 文件。

这是我的控制器中的上传功能，它工作正常

```
function uploadFile() {
$file = $this->data['QmsProcedureKnowledgeManagement']['file'];
if ($file['error'] === UPLOAD_ERR_OK) {
$id = String::uuid();
if (move_uploaded_file($file['tmp_name'], APP . 'qms_procedure_km/' . $file['name'])) {
$this->request->data['QmsProcedureKnowledgeManagement']['filename'] = $file['name'];
$this->request->data['QmsProcedureKnowledgeManagement']['filesize'] = $file['size'];
$this->request->data['QmsProcedureKnowledgeManagement']['filemime'] = $file['type'];
return true;
}
}
return false;
} 
```

这就是我尝试在 view.ctp 中查看 pdf 的方式

```
<?php echo $this->Html->link(APP.'qms_procedure_km/'. $qmsProcedureKnowledgeManagement['QmsProcedureKnowledgeManagement']['filename']); ?> 
```

先感谢您

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:41:22.453

您拥有的任何文件都`APP . 'qms_procedure_km/'`无法从网络浏览器直接访问。这是设计使然。

如果您希望*任何*拥有该 URL 的人都可以访问 PDF，您只需将文件存储在*可以*从 Web 浏览器直接访问的位置（例如`WWW_ROOT . 'qms_procedure_km/'`）。

如果您希望 PDF 仅供某些人（例如登录的用户）访问，您应该继续将文件存储在*无法*从 Web 浏览器直接访问的位置，但您需要编写控制器操作这将确定允许用户查看 PDF，然后使用[`CakeResponse::file()`](http://book.cakephp.org/2.0/en/controllers/request-response.html#cake-response-file)(CakePHP >= 2.3.0) 或[媒体视图](http://book.cakephp.org/2.0/en/views/media-view.html)(CakePHP < 2.3.0) 将其显示给他们。

# javascript - 浏览器缓存图片，用jQuery刷新src后，图片没有变化

> ID：14951215
> 
> 赞同：0
> 
> 时间：2013-02-19T06:30:59.683
> 
> 标签：javascript, jquery, asp.net, jcrop, client-side-scripting

我们可以在更改新 URL 后强制更改图像吗？在我的情况下......当用户将任何图片的 URL 放入文本框中时，我正在放入图像源......

OnBlur：图像在浏览器上显示..但问题是加载图像后，当我将另一个 URL 放入文本框并删除以前的...图像不出现..但是图像的来源已更改...这里是我的代码

```
$("#urltxt").blur(function () {
                var source = $("#urltxt").val();
                $("#target").attr("src", source);
                $('#target').Jcrop({
                    setSelect: [100, 100, 50, 50],
                    onRelease: clearCoords
                }
            });
$("#urltxt").keyup(function () {
                src = $('#target').attr('src');
                // check for existing ? and remove if found
                queryPos = src.indexOf('?');
                if (queryPos != -1) {
                    src = src.substring(0, queryPos);
                }
                $('#target').attr('src', $("#urltxt").val() + '?' + Math.random());

            }); 
```

我的 HTML 标签是

```
<img src="" id="target"/>

<input id="urltxt" name="url" placeholder="URL" /> 
```

任何建议将不胜感激.. Thx..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:11:58.360

尝试在 page_load 上添加：

```
Response.Cache.SetCacheability(HttpCacheability.NoCache) 
```

更多详情： http: [//msdn.microsoft.com/en-us/library/w9s3a17d (v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/w9s3a17d(v=vs.71).aspx)

（或）您可以尝试在图像末尾添加一个唯一的字符串，如下所示：

```
<img src="/path/to/image.jpg?<%=DateTime.Now.Ticks.ToString()%>" /> 
```

# iphone - 如何通过接口 Builder 创建 UITabBarController

> ID：14951216
> 
> 赞同：-1
> 
> 时间：2013-02-19T06:30:59.667
> 
> 标签：iphone, ios, uitabbarcontroller

我有一个视图控制器，它是我的rootviewcontroller，即LoginviewController。在从loginviewcontroller 单击按钮时，我想转到tabbarcontroller，现在请告诉我如何通过界面构建​​器从loginviewcontoller 按钮单击时创建tabbar 控制器，而不是使用情节提要或以编程方式。我正在使用 xcode 4.5.2 和 sdk 6

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:51:46.233

Inside Application 确实完成了启动添加

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
  LogInVC *LoginVCObj = [[LogInVC alloc] init withNibNamed:"LogInVC" bundle:nil]; 
  LoginVCObj.delegate = self;
  [window LoginVCObj.view];
  [window makeKeyAndVisible];
}

// when logs in successfully
- (void)logInSuccessfully 
{
UIViewController *viewController1 = [[MyFirstVC alloc] initWithNibName:@"MyFirstVC" bundle:nil]; 
 UIViewController *viewController2 = [[MySecondVC alloc] initWithNibName:@"MySecondVC" bundle:nil]; 
self.tabBarController = [[UITabBarController alloc] init];
self.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2, nil];
[window addSubview:tabBarController.view];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:56:18.247

成功登录后，您可以将其重定向到自定义标签栏。[您可以在此链接](http://kurrytran.blogspot.in/2011/10/ios-5-tutorial-creating-custom-tab-bar.html)中查看自定义标签栏的步骤

希望这可以帮助你:)

# html - 多个 DIV 的 DIV 交换

> ID：14951218
> 
> 赞同：0
> 
> 时间：2013-02-19T06:31:16.580
> 
> 标签：html, swap

[从相同的文本链接交换 div 内容](https://stackoverflow.com/questions/1532653/swap-div-content-from-the-same-text-link)

那篇文章几乎包含了我需要回答我的问题的内容。它适用于两个 DIV，如果我有很多怎么办。您将如何更改函数而不必继续为更多变量添加声明行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:05:56.543

如果你可以使用 jQuery，你可以尝试这样的事情：http: [//jsfiddle.net/k9JC4/6/](http://jsfiddle.net/k9JC4/6/)

**html:**

```
<a class="que">Question 1</a>
<div class="ans">
    Answer 1
</div>
<a class='que'>Question 2</a>
<div class='ans'>
    Answer 2
</div>
<a class='que'>Question 3</a>
<div class='ans'>
    Answer 3
</div> 
```

**CSS：**

```
.ans
{
    display: none;
}

a
{
    display: block;
    color: blue;
} 
```

**JS：**

```
$(function(){
    $('.que').click(function(ev){
        ev.preventDefault();

        $('.ans').hide();
        $(this).next('.ans').show();
    });
}); 
```

这是如何工作的，当你点击一个带有*.que*类的链接时， jQuery 会找到下一个带有*.ans*类的兄弟元素。它将隐藏所有其他*.ans*类成员，然后显示找到的兄弟姐妹。

# php - 我可以用另一种语言更改printer_write 吗？

> ID：14951219
> 
> 赞同：1
> 
> 时间：2013-02-19T06:31:19.640
> 
> 标签：php, jquery

我正在尝试打印一页。我用`printer_select_font`改变字体，然后我用`printer_draw_text`打印，但它很慢。

所以我的问题是，我可以换成`printer_write`另一种语言吗？提前致谢。

我使用这段代码：

```
$handle = printer_open();
printer_start_doc($handle, "My Document");

$handle = printer_open();
printer_set_option($handle,PRINTER_FORMAT_CUSTOM,'2x2');

$handle = printer_open();
printer_start_doc($handle, "My Document");
printer_start_page($handle);
$font = printer_create_font("Saumil_guj2", 15, 9, 100, false, false, false, 0);
printer_select_font($handle, $font);
$dyna=10;
if($_SESSION['slip_setting']['soc_name']=="full")
{
    printer_draw_text($handle, $_SESSION['society_info']['soc_name_eng'], 10, $dyna);
    $tot=$dyna+15;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:36:42.910

我研究了这个主题，但结果表明不支持任何其他语言的打印机**写入**。它不能用其他语言更改。它只支持打印机默认语言。

# imagemagick - ImageMagick：创建一个透明的矩形图像并在中心附加一个方形徽标

> ID：14951222
> 
> 赞同：0
> 
> 时间：2013-02-19T06:31:24.770
> 
> 标签：imagemagick, imagemagick-convert

我有一个 70 像素 x 70 像素的图像徽标。我想制作一个 170 像素 X 70 像素的透明图像并将徽标附加在其中心。如何使用 ImageMagick 命令行工具 convert.exe 来实现这一点？

任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T17:41:27.980

我希望你不介意我说，但你误读了手册。Append 用于将两个图像并排或一个在另一个之上；不是一个在另一个之上。下面的代码可以工作，但如果你想做更复杂的事情，你需要使用-composite。

```
convert logo.png -background none -gravity center -extent 170x70 output.png 
```

请求的替代方法：

```
convert -size 170x70 xc:none logo.png -geometry +100+10 -composite output.png 
```

# seo - SEO - 如何在 Google 搜索中显示电话号码

> ID：14951226
> 
> 赞同：7
> 
> 时间：2013-02-19T06:31:36.407
> 
> 标签：seo, search-engine

当我在 Google 中搜索关键字时，我的网站列表中有 2 个电话号码。

![带有电话号码的搜索结果](../Images/1333998217133b5e52f04301bdf8e962.png)

[（链接到这个页面）](http://www.niazjoo.ir/adv-13947.aspx?%D9%BE%D9%88%D8%B4%D8%B4-%D8%A7%DB%8C%D9%85%D9%86%DB%8C-%DA%86%D8%B4%D9%85%DB%8C-%D8%AF%D8%B1%D8%A8-_%D8%A2%DB%8C-%D8%B3%DB%8C-%DB%8C%D9%88_)

我想知道为什么 Google 会显示这些数字？（这些号码不在我的正文中。）如何在 Google 结果中添加电话号码？（他们应该具备什么品质？）

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-19T18:21:34.390

Google（和其他搜索引擎）使用[Schema](http://schema.org/)，这是定义结构化内容（电话号码是）的 HTML 标记。因此，如果您想让您的电话号码出现一个好方法，那就是包含结构化数据。例如[_](http://schema.org/docs/gs.html)

```
 <div itemscope itemtype="http://schema.org/LocalBusiness">
        <span itemprop="telephone"><a href="tel:01234555666">Link Text Here</a></span>
    </div> 
```

如果您要使用电话号码，我强烈建议您利用所有可能性，例如地址、评论、地图、徽标等。完整的本地业务[架构在这里](http://schema.org/LocalBusiness)。

还有其他实现这种效果的方法，例如，要将您的图片放在创作的帖子旁边，您可以在页面某处添加一个链接，指向这样的 Google+ 个人资料

```
<a href="https://plus.google.com/your_profile_id/?rel=author">Tim Baker</a> 
```

谷歌还有一个[非常方便的工具](http://www.google.com/webmasters/tools/richsnippets)，可以测试你的网站，看看它是否可以找到结构化数据——绝对值得使用，以确保你正确实施，当然[网站管理员工具](http://www.google.com/webmasters/)也有一些功能。

# iframe - YouTube iFrame API：性能问题

> ID：14951227
> 
> 赞同：0
> 
> 时间：2013-02-19T06:31:40.943
> 
> 标签：iframe, youtube

我在反映不同 YouTube 视频的页面上有“TAB”。我使用 Iframe API 来加载视频点播。除了 IE 8 [我们的页面是 HTML 5] 之外，所有浏览器都可以正常工作。它开始给出此处提到的未指定错误 [第 49 行的 YouTube iframe API 错误，然后我意识到更改我的“删除”视频代码，问题就解决了。

然而，现在当用户点击 TAB 时，它首先使整个屏幕空白，然后渲染视频，几秒钟后购买完整的页面。由于更改并放置带有 ID 的新 DIV 和新播放器只是 Javascript，因此不应该这样发生。坦率地说，新页面加载比在页面中删除和放置新的 Youtube 视频更快。

关于如何提高性能的任何想法？

```
function AddVideo(videoid,playerid){
    if(player != undefined) {
        stopVideo();
        player.destroy();
    }
    jQuery("#player").remove();
jQuery("." + playerid).html('<div id="player"></div>');
player = new YT.Player('player', {
  height: '360',
  width: '623',
  videoId: videoid,
  events: {
    'onReady': onPlayerReady,
    'onStateChange': onPlayerStateChange
  }
});
} 
```

以上是我的 JS 代码，它删除并放回播放器。HTML 有 li 后跟一个带有 Data-youtube 和父 DIV 参考的标签，我在其中添加“播放器”div，然后也添加 iframe youtube 视频。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:09:49.150

好的，我在 StackOverFlow 中找到了解决方案，我在删除之前隐藏了 iframe，所以现在很棒！！！

# sql-server - SQL with Case 语句在 where 子句中重置值

> ID：14951233
> 
> 赞同：0
> 
> 时间：2013-02-19T06:32:10.163
> 
> 标签：sql-server, sql-server-2008, tsql, stored-procedures

我有多个 UNION 形式的查询

对于其中一个查询，我需要在 where 子句中使用 Case 语句来检查值`@CategoryID`我的条件是 if @CategoryID <> 0 then @CategoryID = 0

注意：我不能通过`@CategoryID =0`，因为 union 中的语句之一需要实际值。

`@CategoryID`如果 categoryid 不是 0，我需要将 only for last 语句重置为 0。

我尝试使用产生错误的 if 语句，并且我还在 where 子句中尝试了 case 语句，它也会产生错误。我将不胜感激这方面的帮助，以便我可以重置`@CategoryID =0`存储过程中的最后一个 sql 语句

```
ALTER PROCEDURE [dbo].[usp_GetBannerByIDsAPICPL]
    @ArticleID int,
    @PageID int,
    @IssueID int,
    @CategoryID int,
    @BannerLayoutPosition int,
    @LangID int
AS
BEGIN
    SET NOCOUNT ON

    -- will show artile related banner
    SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath,BannerURL,BannerLocation FROM Banner_Manager    
    WHERE ArticleID = @ArticleID    AND BannerLocation = @BannerLayoutPosition AND LanguageID=@LangID AND Active = 1 
    UNION ALL

    -- show banner by category & Issue
    SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath ,BannerURL,BannerLocation FROM Banner_Manager   
    WHERE CategoryID = @CategoryID AND IssueID = @IssueID   AND BannerLocation = @BannerLayoutPosition 
    AND LanguageID=@LangID AND Active = 1 
        UNION ALL

    -- show banner by category 
    SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath ,BannerURL,BannerLocation FROM Banner_Manager   
    WHERE CategoryID = @CategoryID  AND BannerLocation = @BannerLayoutPosition 
    AND LanguageID=@LangID AND Active = 1 
    UNION ALL
    -- will show page  related banner
    SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath,BannerURL,BannerLocation FROM Banner_Manager    
    WHERE PageID = @PageID  AND BannerLocation = @BannerLayoutPosition AND LanguageID=@LangID AND Active = 1 
    UNION ALL
    --will show issue related banner
    -- Need To Check if @CategoryID is not 0 if it is not 0 then i have to set the @CategoryID = 0
    SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath,BannerURL,BannerLocation FROM Banner_Manager    
    WHERE IssueID = @IssueID AND CategoryID = @CategoryID AND BannerLocation = @BannerLayoutPosition AND LanguageID=@LangID AND Active = 1 

END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:47:19.677

如果您不希望在该查询中更改 @CategoryID，请不要尝试在联合语句中将其设置为 0。在单独的语句中将其设置为 0：

```
UNION ALL
--will show issue related banner
-- Need To Check if @CategoryID is not 0 if it is not 0 then i have to set the @CategoryID = 0
SELECT BannerID, BannerName, '../images/Banners/' +BannerImageFile AS ImagePath,BannerURL,BannerLocation FROM Banner_Manager    
WHERE IssueID = @IssueID AND CategoryID = @CategoryID AND BannerLocation = @BannerLayoutPosition AND LanguageID=@LangID AND Active = 1 

SET @CategoryID = 0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:45:36.350

如果此条件仅适用于最后一条语句：

```
@CategoryID <> 0 then @CategoryID = 0 
```

`@CategoryID`当您要检查的值始终为零时，为什么您仍然传递参数？

在最后一条语句中，为什么不能直接将类别与零进行比较：

```
-- will show issue related banner
SELECT  BannerID, 
        BannerName, 
        '../images/Banners/' + BannerImageFile AS ImagePath,
        BannerURL,
        BannerLocation 
FROM    Banner_Manager    
WHERE   IssueID = @IssueID AND 
        CategoryID = 0 AND      -- <<== HERE
        BannerLocation = @BannerLayoutPosition AND 
        LanguageID=@LangID AND 
        Active = 1 
```

# regex - 如何识别文件底部有空新行的文件

> ID：14951234
> 
> 赞同：1
> 
> 时间：2013-02-19T06:32:17.363
> 
> 标签：regex, eclipse

我有几个文件在文件底部有 2 个或 3 个或更多空行。如何找到所有此类文件并以自动方式删除空行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:40:48.863

有很多方法可以修剪尾随空白行。首先想到的是：

```
perl -pe 'BEGIN{ undef $/} 1 while s/\n\n$/\n/' 
```

要查找和替换文件，您可以执行以下操作：

```
find /base/directory -type f -exec perl -i -pe 'BEGIN{ undef $/} 1 while s/\n\n$/\n/' {} \; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:11:23.430

您可以使用此正则表达式并选择**dotall 选项**

```
^(\r?\n){2,}$ 
```

并将其替换为**空**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:02:19.793

使用 bash shell，这将测试当前目录中的所有文件并仅打印具有 2 个或更多尾随换行符的文件：

```
for f in `ls *`; do if [ "$(tail -2 $f | tr '\n' 'x')" = "xx" ]; then echo $f; fi; done 
```

**提示：**将首字母替换`ls *`为`find . -type f`递归搜索子目录

试试这个[单独的帖子](https://stackoverflow.com/questions/1654021/how-can-i-delete-a-newline-if-it-is-the-last-character-in-a-file)，了解从文件中删除尾随换行符的命令。

# css - 固定 Fluid margin-top 随着浏览器宽度的增加而增加

> ID：14951235
> 
> 赞同：0
> 
> 时间：2013-02-19T06:32:17.563
> 
> 标签：css, fluid

我有一种情况，当指定一个流动的边距顶部（例如 20%）时，当我水平调整浏览器窗口的大小时，边距顶部会增加。这对我来说有点出乎意料。我正在寻找一个快速解决这个..

```
<html>
    <head>
        <title>Make yourself lucky</title>
        <meta name="description" content="Make yourself lucky" />
        <style type="text/css">
            #slideshow {
                float: left;
                background-color: red;
                width: 100px;
                height: 100px;
                margin-top: 20%;
            }           
         </style>
    </head>

    <body>
        <div id='wrapper'>
            <div id='slideshow'>
               slideshow
            </div>
        </div>
    </body>
</html> 
```

[http://jsfiddle.net/eVfCc/](http://jsfiddle.net/eVfCc/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:39:01.240

尝试添加`position:absolute`到相同的 CSS。

# r - R编程有助于计算不同间隔的平均值

> ID：14951236
> 
> 赞同：0
> 
> 时间：2013-02-19T06:32:23.210
> 
> 标签：r, range, average, intervals

我有一组数据在我跑步时引用我的时间和距离……所以我有两列与时间和距离有关。可以说我跑了，总共3000m。我想要的是我以 30 秒为间隔行驶的平均距离......因此我想要我从 0-30 秒、30 -60 秒等的平均距离......

我做了以下代码：

```
tapply(data$Distance,cut(data$Time,pretty(range(data$Time),high.u.bias=0.1)),mean) 
```

但这给了我 200 秒间隔的平均值……我该如何改变呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:27:24.100

你的 cut 声明应该是这样的

```
# cutting every 30 seconds, starting at 0 
#    and going up to 30 seconds more than max of Times
cut(dat$Times, breaks=seq(0, max(dat$Times)+30, 30))
# if your time is in minutes, replace 30 with 0.5 

# Then you can assign it into your data frame if you'd like, 
#  but not necessary

cuts <- cut(dat$Times, breaks=seq(0, max(dat$Times)+30, 30))
by(dat$Dist, cuts, mean) 
```

*我假设`dat`是你的数据框，`Dist`是你想要平均的向量`Times`，嗯......你明白了。*

# php - 存储位于对象内部的数组

> ID：14951237
> 
> 赞同：0
> 
> 时间：2013-02-19T06:32:27.100
> 
> 标签：php, arrays, object

我有以下 JSON：

```
"list": {
            "list_id": "2kA",
            "title": "Social Media",
            "description": "Trending",
            "image": [
                "http://cdn.socialmediaexaminer.com/wp-content/uploads/2012/11/br-campaign-report.png?9d7bd4",
                "http://cdn.socialmediaexaminer.com/wp-content/uploads/2012/11/br-campaign-report.png?9d7bd"
            ],
            "views": 65
        } 
```

如何在数据库中存储图像数组的序列化版本？执行以下任何操作都会返回错误：

```
$images = $item->list->image;
$images = $item->list->image->[0];
$images = $item->list->['image']; 
```

多谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:36:26.797

you can access to your images like this:

```
foreach($item->list->image as $your_image) {
    //do what you want
} 
```

or use a associated array like this

```
$x = json_decode('{"list": {
            "list_id": "2kA",
            "title": "Social Media",
            "description": "Trending",
            "image": [
                "a",
                "b"
            ],
            "views": 65
        }}', true);

foreach($x['list']['image'] as $your_image) {
    //do what you want
} 
```

to save it to your db use json_encode (and escape), as example of a mysqli connection

```
$query = 'INSERT INTO your_table (...)
          VALUES (\''.mysqli_real_escape_string($dblink, json_encode($your_array)).'\')'; 
```

on select you can use json_decode!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:45:28.903

```
In your DB, data is in JSON, literally it means its a formatted string like:    
"something here...."

You cannot access it by "->" as it is not an object.  

So,
Convert your string(JSON) to Object to access like these:
$x['list']['image'] 
It can be achieved by json decoding your string which will convert your string to object

There was a bad error in code too. This one : $item->list->image->[0]; 
you cannot access an element of an array like this image->[0] --> it should be 
$item->list->image[0] 
```

# jquery - Jquery选项卡闪烁并滚动到顶部

> ID：14951238
> 
> 赞同：1
> 
> 时间：2013-02-19T06:32:28.633
> 
> 标签：jquery, tabs

我在标签的头部标签上有以下内容。当我单击选项卡时，我的页面会闪烁，它们会动画并转到页面顶部。

**JS**

```
$(document).ready(function(){
    $("a.tab").click(function () {
    $(".active").removeClass("active");
    $(this).addClass("active");
    $(".content").slideUp();
    var content_show = $(this).attr("title");
    $("#"+content_show).slideDown();
    });
}); 
```

**HTML**

```
<ul id="tabs">
    <li><a href="#" title="type1" class="tab active">type1</a></li>
    <li><a href="#" title="type2" class="tab">type2</a></li>
</ul>
<section id="type1" class="content">
    <p>contents1contents1contents1contents1contents1</p>
</section>
<section id="type2" class="content content_2">
    <p>content</p>
</section> 
```

当我点击标签时，标签会闪烁并自动滚动到页面顶部？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:34:22.747

Try this:

```
$("a.tab").click(function (e) {// <--------------pass the event
    e.preventDefault(); //<----------------------add this
    $(".active").removeClass("active");
    $(this).addClass("active");
    $(".content").slideUp();
    var content_show = $(this).attr("title");
    $("#"+content_show).slideDown();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:47:56.463

尝试这个

```
$(document).ready(function(){
    $("a.tab").click(function () {
    var activeTab = $(".active");
    activeTab.removeClass("active")
    $(this).addClass("active");
    $("#"+activeTab.attr("title")).slideUp();
    var content_show = $(this).attr("title");
    $("#"+content_show).slideDown();
    });
}); 
```

# wordpress - 在 S3 上托管静态 Wordpress 博客？

> ID：14951240
> 
> 赞同：2
> 
> 时间：2013-02-19T06:32:45.510
> 
> 标签：wordpress, amazon-s3

我有一个旧的 WordPress 博客，我不再使用它，但想保留这些页面以支持旧的传入链接。现在我为 EC2 上的 t1.micro 实例支付 20 美元/月，只是为了运行这个愚蠢的东西。我决定使用[真正静态](http://wordpress.org/extend/plugins/really-static/)插件将整个站点提取到静态内容中，目标是在 S3 托管[根域内容](http://aws.amazon.com/about-aws/whats-new/2012/12/27/root-domain-support-on-amazon-s3-hosted-websites/)的能力上托管它。

好消息是静态导出效果很好。坏消息是我的 URL 从未使用过“干净的 URL”，因此页面类似于`http://example.com/blog/?p=123`. 该插件的工作方式是导出一个目录`p=123`，然后将`index.html`文件放入其中。

`/blog/?p=123`我的问题是：是否有人对我如何（或是否）可以托管一个 URL并使用我拥有的静态内容从 S3 提供它有一个好主意？即使我在 S3 中创建目录，`?p=123`我也只能`/blog/%3Fp%3D123/index.html`在`/blog/?p=123/index.html`显示访问被拒绝错误时提供服务。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T01:05:29.793

[http://www.slowping.com/index.html%3Fp=76.html](http://www.slowping.com/index.html%3Fp=76.html)讨论了将 wordpress 博客转换为 s3。

从 url 可以看出，他使用的是 p= 样式的 url。不过，他似乎正在使用来自[http://mossiso.com/2007/09/10/converting-wordpress-to-static-html.html](http://mossiso.com/2007/09/10/converting-wordpress-to-static-html.html)的说明，因此您可能只需要使用不同的转换器。

跟进：这是一篇讨论将自定义主题的 wordpress 安装转换为 octopress 的文章，并讨论了一些可能相关的边缘案例。

[http://mrdanadams.com/2012/migrating-wordpress-custom-theme-octopress-jekyll/#.UUJxNltxuGo](http://mrdanadams.com/2012/migrating-wordpress-custom-theme-octopress-jekyll/#.UUJxNltxuGo)

# php - 来自 get_meta_tags 的超链接关键字

> ID：14951242
> 
> 赞同：0
> 
> 时间：2013-02-19T06:32:53.237
> 
> 标签：php

我现在正在使用`get_meta_tags`从网页中提取关键字，但我需要在显示时链接到我的网站的每个关键字。

这是我的代码：

```
<?php echo $tags['description']; ?><br /><br />
<?php echo $tags['keywords']; ?> 
```

这是从 HostGator.com 提取的关键字文本：

```
 web hosting, hosting, webhosting 
```

我需要像这样链接到我的网站的每个关键字：

```
<a href="http://www.mysite.com/keywords/web-hosting">web hosting</a>, 
<a href="http://www.mysite.com/keywords/hosting">hosting</a>, 
<a href="http://www.mysite.com/keywords/webhosting">webhosting</a> 
```

我尝试过的任何事情似乎都无法解决这个问题，所以我希望你们能提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:39:55.683

你已经尝试过这种方式。

```
<?php
foreach($data as $tags)
{
    ?><a href="http://www.mysite.com/keywords/web-hosting/"<?php echo $tags['keywords']; ?>><?php echo $tags['keywords']; ?></a><?php
}
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:54:12.307

我假设您将标签作为文本而不是数组。

```
$data = 'web hosting, hosting, webhosting';
$tags = explode(', ' , $data);

foreach($tags as $tag) {
    echo '<a href="http://www.mysite.com/keywords/'.$tag.'>'.$tag.'</a>';
} 
```

# javascript - 选择表中的行并用新数据替换它们

> ID：14951245
> 
> 赞同：0
> 
> 时间：2013-02-19T06:33:08.153
> 
> 标签：javascript, jquery

我有一个带有标题的表格：

```
<table id="my-table">
    <thead>
        <th>header1</th>
        <th>header2</th>  
        <th>header3</th>  
    </thead>
    <tbody>
      <tr>
         <td>data1</td>
         <td>data2</td>
         <td>data3</td>
      </tr>
    </tbody>
</table> 
```

如何使用 jQuery 仅选择行并用新数据替换它们？只有行而不是标题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:38:17.923

看起来很明显，我会试试这个

```
$("#my-table tbody tr") 
```

或这个

```
$("#my-table tr:has(td)") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:41:24.953

您也可以使用 jquery 选择器的上下文...

```
$("tr", "#my-table tbody").each(function (i, item) {
    $("td", this).each(function () {
        // do something with the td.
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T06:42:22.883

试试这个

```
 $('#my-table tbody tr td').each(function(){//to select all rows in the table with id my-table
   $(this).text('test');
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:17:06.143

```
$('tr').not('thead tr').addClass('selected'). 
```

# objective-c - UIImageView with another UIImage of frame

> ID：14951247
> 
> 赞同：0
> 
> 时间：2013-02-19T06:33:20.373
> 
> 标签：objective-c, uiimageview, uiimage

i m developing an photo based app i have two imageview one imageview contains the original image and other imageview contains the frame

Now the problem is i want to manage the frame Imageview according to the main image i.e. if my main image view is of size 320x480 then border applies on that size and if my image view is of size 200x150 then border have to applies on that size

How to do that

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:14:12.210

UIImage.size 可以为您提供正在使用的图像的尺寸。您可以使用此大小调整 UIImageView.frame 的大小。这将适合 UIImageView 中的 UIImage 而没有任何额外的空间，因此边框看起来很完美。

第二个选项可能是使用以下方法再次初始化图像视图。

`- (id)initWithImage:(UIImage *)image`

这将为您的图像制作完美尺寸的图像视图。

如果你不是在寻找这样的东西，请告诉我......

# javascript - 如何从 javascript 调用 node.js 服务器端方法？

> ID：14951251
> 
> 赞同：17
> 
> 时间：2013-02-19T06:33:27.903
> 
> 标签：javascript, node.js

我是 node.js 的新手，但我对 socketstream Web 框架有所了解，通过使用它我可以轻松地从 JavaScript 调用服务器端 node.js 方法。如果不使用该框架，我不知道如何做到这一点。如何从 JavaScript 调用 node.js 方法？

下面的代码使用 socketstream 调用服务器端方法。所以我想在不使用这个框架的情况下调用相同的服务器端方法。

```
ss.rpc('FileName.methodName',function(res){ 
    alert(res);         
}); 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-19T06:46:45.470

我建议使用[Socket.IO](http://socket.io/)

服务器端代码

```
var io = require('socket.io').listen(80); // initiate socket.io server

io.sockets.on('connection', function (socket) {
  socket.emit('news', { hello: 'world' }); // Send data to client

  // wait for the event raised by the client
  socket.on('my other event', function (data) {  
    console.log(data);
  });
}); 
```

和客户端

```
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost'); // connec to server
  socket.on('news', function (data) { // listen to news event raised by the server
    console.log(data);
    socket.emit('my other event', { my: 'data' }); // raise an event on the server
  });
</script> 
```

**或者，**您可以使用路由器功能，该功能根据客户端的特定请求调用某些功能

```
var server = connect()
    .use(function (req, res, next) {
      var query;
      var url_parts = url.parse(req.url, true);
      query = url_parts.query;

      if (req.method == 'GET') {
        switch (url_parts.pathname) {
            case '/somepath':
            // do something
            call_some_fn()
            res.end();
            break;
          }
        }
    })
    .listen(8080); 
```

并使用 JQuery 触发`AJAX`请求

```
$.ajax({
    type: 'get',
    url: '/somepath',
    success: function (data) {
        // use data
    }
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-03T10:28:54.973

不是精确的套接字，而是一个简单的解决方案：

我可以建议尝试[api-mount](https://www.npmjs.com/package/api-mount)吗？它基本上允许将 API 作为简单函数调用，而无需考虑 AJAX 请求、获取、表达等。基本上在服务器中您可以：

```
const ApiMount = apiMountFactory()
ApiMount.exposeApi(api) 
```

“api”基本上是您愿意从 Web 应用程序调用的方法/函数的对象。

然后在 Web 应用程序上执行以下操作：

```
const api = mountApi({baseUrl: 'http://your-server.com:3000'}) 
```

完成后，您可以像这样简单地调用您的 API：

```
const result = await api.yourApiMethod() 
```

试试看。希望能帮助到你。

# jquery - Weird characters using jquery prettyphoto plugin

> ID：14951252
> 
> 赞同：1
> 
> 时间：2013-02-19T06:33:29.163
> 
> 标签：jquery, prettyphoto

I'm using the prettyPhoto plugin and everything is OK except for two issues:

The box displays a weird character in the top and the title even when I set the option to hide it. This is my relevant code:

HTML:

```
 <a id="linkGraph" rel="prettyPhoto[iframes]" href="graph.php?iframe=true" title="Gráfica">Iframe</a>
  <a id="linkGraph" rel="prettyPhoto[iframes]" href="graph.php?iframe=true" title="Gráfica">Iframe</a>
  <a id="linkGraph" rel="prettyPhoto[iframes]" href="graph.php?iframe=true" title="Gráfica">Iframe</a> 
```

Javascript:

```
$("a[rel^='prettyPhoto']").prettyPhoto({
    animation_speed: 'slow',
      social_tools: false,
      theme: 'facebook', /* pp_default / light_rounded / dark_rounded / light_square / dark_square / facebook */
      show_title: false
    }); 
```

But the result is:

![Result's code](../Images/f8fda6cf67cb2b8235a02ae7ac779442.png)

Why appear the items that I marked in red circles? Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:04:17.430

尝试使用这个：

[http://forum.jquery.com/topic/getting-strange-characters-using-ajax](http://forum.jquery.com/topic/getting-strange-characters-using-ajax)

* * *

更改标题类型。为了让 PHP 提供 UTF-8，

header('Content-Type: text/html; charset=utf-8');

# javascript - cloneNode() JS call not working in Safari

> ID：14951257
> 
> 赞同：0
> 
> 时间：2013-02-19T06:33:53.743
> 
> 标签：javascript, safari, clonenode

I am using cloneNode() it's working fine in IE but it's not working in Safari.

```
function ApplyNowWizard_addVehicleTypeList(vehicleDOM) 
{
   oParent = $(this.data).get(0);
   oParent.documentElement.appendChild(vehicleDOM.cloneNode(true).documentElement);
} 
```

where `vehicleDom` type is `IXMLDOMDocument2`.

vehicleDOM.cloneNode(true) giving `null` in safari.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T12:49:11.293

按照链接，我认为这可能是解决方案

[http://jsdom.wordpress.com/2011/03/14/appendchild-problem-in-google-chrome-and-safari/](http://jsdom.wordpress.com/2011/03/14/appendchild-problem-in-google-chrome-and-safari/)

另请注意

Opera 和 Safari 无法克隆 Document 或 DocumentType 节点（Opera 抛出 DOMException（代码 9：NOT_SUPPORTED_ERR），其中 Safari 创建了一个空对象）；Firefox 和 Internet Explorer 可以克隆这些类型的节点（它们首先可用的地方）。

参考：[http ://reference.sitepoint.com/javascript/Node/cloneNode](http://reference.sitepoint.com/javascript/Node/cloneNode)

# joomla - Joomla 移动模板测试

> ID：14951258
> 
> 赞同：2
> 
> 时间：2013-02-19T06:33:58.090
> 
> 标签：joomla

Joomla 自动识别移动模板并将其显示在移动设备上。但有时它不显示（很少），有时行为也不同（如徽标消失）。

问题： 1) 有没有一种方法可以在台式计算机（如 m.mobilesite.com）上测试移动模板，以便我们可以调试问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:18:01.817

是的你可以，

[http://www.browserstack.com](http://www.browserstack.com)站点提供了一台用于测试设备和浏览器紧凑性的真机。（它是一台远程机器，因此结果是 100%）。这需要注册。

您还可以使用 safari Developer 选项检查 iphone 和 ipad 的紧凑性。

```
From Settings->Preference ->Advanced ->check the Show Develop menu option. 
```

现在您将在浏览器开发人员中获得一个新菜单，您可以在其中选择用户代理。

您还可以找到几个提供移动测试的网站，但这些网站并非 100% 确定，例如 iphone4simulator.com、iphonetester.com

希望这可以帮助你..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-24T03:54:28.300

我还发现——如果你减少浏览器的宽度和高度——它将显示移动格式。我不确定这是否是 joomla 更高版本的功能。同样在 Chrome - 开发者工具上，有一个选项可以选择移动设备来测试网页。[![在此处输入图像描述](../Images/1a214afbe1aa212ce947cd10879198eb.png)](https://i.stack.imgur.com/bZcuU.jpg)

# iphone - 如何解决 iPhone 上的引导服务器错误？

> ID：14951259
> 
> 赞同：0
> 
> 时间：2013-02-19T06:34:00.940
> 
> 标签：iphone

> 无法向引导服务器注册 com.yourcompany.accessgalary。错误：未知错误代码。
> 这通常意味着该进程的另一个实例已经在运行或挂在调试器中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:58:19.093

重启模拟器和Xcode，这样只有你才能解决这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:57:54.797

1.  从设备中删除应用程序
2.  重置设备
3.  立即安装应用程序

# android - what can I use to profile C++ module code for android

> ID：14951260
> 
> 赞同：2
> 
> 时间：2013-02-19T06:34:09.953
> 
> 标签：android, c++, performance

Can anyone suggest some good performance profiling tool for C/C++ code that does not require recompiling/linking. I need for android platform.

Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T01:52:15.670

我找到了一个：ARM DS-5 社区版（[http://ds.arm.com/ds-5-community-edition/](http://ds.arm.com/ds-5-community-edition/)）。看来这个工具符合我的要求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T11:07:07.763

搜索了一段时间后，我找不到下降的，所以我解决了这个问题，即在我进入函数时获取时间戳，当我离开函数时使用它们来找出函数花费的时间，这花了一点力气，但我能够找出造成瓶颈的部分，您可以尝试一下。不如已经煮熟的东西好，但它可以帮助您发现问题！

# delphi - delphi XE2中如何检查目录是否存在？

> ID：14951264
> 
> 赞同：5
> 
> 时间：2013-02-19T06:34:32.040
> 
> 标签：delphi, delphi-xe2, delphi-7

我想创建一个目录`TestDir`，但前提是该目录不存在。我找不到检查该目录是否存在的方法。

我正在使用以下函数来创建目录。

```
CreateDir('TestDir') 
```

我应该如何确保仅在不存在时才使用此`CreateDir`功能？`TestDir`

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-19T06:43:59.017

在 Delphi XE2 中，您可以使用[`IOUtils`](http://docwiki.embarcadero.com/Libraries/XE2/en/System.IOUtils)单元`TDirectory`记录，如下所示：

```
uses IOUtils;

procedure TForm1.Button1Click(Sender: TObject);
begin
  if not TDirectory.Exists('test') then
    TDirectory.CreateDirectory('test'); 
```

在 Delphi7 中，您可以使用 SysUtils 单元中的 DirectoryExists 函数：

```
uses SysUtils, Windows;

procedure TForm1.Button1Click(Sender: TObject);
begin
  if not DirectoryExists('test') then
    CreateDir('test'); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-19T06:42:13.760

`SysUtils`调用中有一个例程`DirectoryExists`应该完全满足您的需要...

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-07-30T01:55:34.683

CreateDir 只能创建比现有目录“高”一级的目录。例如， CreateDir('C:\Folder1\Folder2') 仅在 C:\Folder1 已存在时才有效，同样 CreateDir('C:\F1\F2\F3') 仅在 C:\F1\F2 存在时才有效。为了一步创建“中间”文件夹，您可以使用 Delphi 的 ForceDirectories。

```
procedure TForm1.Button2Click(Sender: TObject);
begin
  if DirectoryExists(Edit1.Text) then
    ShowMessage(Edit1.Text + ' exists already')
  else begin
    ForceDirectories(Edit1.Text);
    if DirectoryExists(Edit1.Text) then
      ShowMessage('Folder created: ' + Edit1.Text)
    else
      ShowMessage('Could not create ' + Edit1.Text);
  end;
end; 
```

# asp.net - Sql vs flatfiles and some secutity related issues

> ID：14951268
> 
> 赞同：0
> 
> 时间：2013-02-19T06:34:50.597
> 
> 标签：asp.net, mysql, security

The basic requirement of the site is to provide a plateform for blogging and single interface for managing various social network, emails, blog etc. For blogging I am using .netblogengine. And facebook and gmail and blogger are currently being managed by signing in via their api. I am using mysql and blog content is being saved in mysql column.

My first question is.. Suppose instead of saving blog content in mysql table column I just save the content in a txt file and save the name of the file in the column.. Doing so will reduce the size of table but will it also affect the performance?? I know I will not be able to search within the content but mysql size grows up quickly (50 mb with 8 users). The minimum number of users are atleast 30.

My second question.. I am thinking of asking all the acount (facebook, gmail etc) username and password and store them in the db. When even a user sign in all related account will be signed in using the saved data so that separate logging is not required. How ever username/password hacks are common headlines now days. I want to know how secure are the shared server environment in this regard? Will I be required to take some extra effort to secure these data or I can be sure that as long as my mysql logging details are safe all data are safe.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:38:40.210

简短的回答是将诸如博客文章之类的文本内容保存在数据库中是最好的选择。如果在单独的文件中有任何附件，则保存任何附件是一个好主意。

无论哪种方式，磁盘上的数据大小都将相似，因此没有任何节省。而且由于您需要为文本文件开发独特的命名约定，因此您实际上是在自己编写部分数据库；还不如把它留给专家:)

一般来说，达到数百兆字节的表大小不会对性能造成很大影响。假设您已正确设置索引，数据库引擎将能够直接查找所需的数据。

关于帐户凭据的简短回答，绝对不要在数据库中以未加密的形式保存用户名或密码。对于安全专家来说，如何正确加密这些以确保安全将是一个问题。[https://security.stackexchange.com/](https://security.stackexchange.com/)

# c# - how do I replace part of text in textbox in c#

> ID：14951279
> 
> 赞同：0
> 
> 时间：2013-02-19T06:36:12.360
> 
> 标签：c#, ms-word

I have a problem about using c# in word automation. My problem is I want to replace part of text in a textbox, ex: *"ABC 12345"* and replace 12345 by *"123"*, as a result, *"ABC 123"* But I don't know how to get part of text in textbox, I use

```
object firstshape = 1;
string text = w_Doc.shapes.get_Item(ref firstshape).TextFrame.TextRange.Text; 
```

to get the original text in textbox,but i don't know how to get the range of part text. Is there any solution to get any range of text in textbox? thanks a lot in advance!!!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:39:21.703

您可以像这样使用替换

```
 string Replace = "12345"; 
    string ReplaceWith = "123"
    text = text.Replace("12345","123") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T12:45:36.880

使用 Linq

```
string text = "ABC 12345";
string toReplace = text.Split().SkipWhile(x => x == "ABC").First(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:00:22.847

To get last 5 characters use this:

```
string text = w_Doc.shapes.get_Item(ref firstshape).TextFrame.TextRange.Text;
text = text.Substring(text.Length - 5, 5);
text = text.Replace(text, "123"); //to replace 
```

# php - Deprecated: Assigning the return value of new by reference is deprecated

> ID：14951281
> 
> 赞同：-1
> 
> 时间：2013-02-19T06:36:19.847
> 
> 标签：php

> Deprecated: Assigning the return value of new by reference is deprecated in C:\xampp\htdocs\user\adodb\adodb-xmlschema.inc.php on line 385

```
$this->data =& new dbData( $this, $attributes ); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T06:42:24.133

```
$this->data =& new dbData( $this, $attributes ); 
```

这是旧的 PHP4 样式代码，用于在将对象分配给另一个变量时防止对象复制。使用经过改进的 PHP5，您可以简单地使用：

```
$this->data = new dbData( $this, $attributes ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T06:38:40.407

更改该行，使其显示为`$this->data = new dbData( $this, $attributes );`

# asp.net - Dependencies that must be done away with for using CDN

> ID：14951282
> 
> 赞同：0
> 
> 时间：2013-02-19T06:36:20.583
> 
> 标签：asp.net, performance, web, cdn

I wanted to know that, is there some special requirement for a website to make use of CDN ?

i mean is there some special scheme(or atleast considerations) on which your website must be build right from the start to make use of CDN (Content delivery network).

is there anything that can stop a website from making use of CDN, for example the way it references the content files, static file paths or any other thing conceivable.

Thanks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:09:53.513

这取决于。

您有两种 CDN 服务：

*   AWS Cloudfront 之类的服务要求您将文件上传到它们从中读取的某个特殊位置（例如 AWS S3） - 在这种情况下，您需要在构建过程中有一个步骤来正确上传文件并以某种方式处理您内部的地址应用
*   像 Akamai 这样的服务只需要您更改和调整您的 DNS 记录，以便他们将请求提供给您的用户而不是您 - 在这种情况下，您将有两个域（image.you.com 和 image2.you.com）并且有image.you.com 指向 Akamai，image2.you.com 指向文件的原始源。每当用户在 Akamai 中请求图像时，他们都会通过“后门”找到您，获取图像并始终开始提供该文件。

如果您使用第二种方法，那么拥有一个支持您的应用程序的 CDN 非常简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T13:34:39.083

处理 CDN 解决方案时有很多问题。

第一个是CDN 不能提供动态页面——即每个用户唯一的页面。通常，这包括 PHP、ASPX、JSP、RubyOnRails 等。因此，如果您希望为动态站点支持大量用户，则必须提出另一种解决方案。一些 CDN 提供商支持“Edge Side Includes”——这允许您将动态页面与 CDN 上的缓存内容粘合在一起，但这会创建一个相当复杂的应用程序。

当然，即使在动态应用程序上，CDN 仍然可以提供静态文件——图像、样式表、javascript 文件、视频等。

@Tucaz 在这里解释了两个主要选项（实际上，Akamai 还提供了“文件存储”CDN 选项）。[如果您选择第二个选项 - 实际上，CDN 将成为您网站前面的缓存反向代理 -调整 HTTP 服务器上的缓存标头](http://www.mnot.net/cache_docs/)并告诉 CDN 遵守这些标头是有意义的。确保将 .ASPX 文件设置为不缓存！

# iphone - String is not displaying properly in Label and TextView in iphone

> ID：14951284
> 
> 赞同：0
> 
> 时间：2013-02-19T06:36:36.817
> 
> 标签：iphone, nsstring

I am trying to display a string in UILabel and UItextView but its not coming properly.This is my string

```
 \|/                          
                       `--+--'                        
                         /|\                          
                        ' | '                         
                          |                           
                          |                           
                      ,--'#`--.                       
                      |#######|                       
                   _.-'#######`-._                    
                ,-'###############`-.                 
              ,'#####################`,               
             /#########################\              
            |###########################|             
           |#############################|            
           |#############################|            
           |#############################|            
           |#############################|            
            |###########################|             
             \#########################/              
              `.#####################,'               
                `._###############_,'                 
                   `--..#####..--' 
```

but its coming properly in NSlog message.

```
 I am fetching from Database    

         NSString *image_string = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];

      image_string=[image_string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];

  textView.text = image_string; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:58:47.703

尝试这个：

```
[lblWeiredString setNumberOfLines:0];
[lblWeiredString setTextAlignment:NSTextAlignmentLeft];
lblWeiredString.text = image_string;
[lblWeiredString sizeToFit];
[lblWeiredString setCenter:CGPointMake(self.view.frame.size.width / 2.0, self.view.frame.size.height / 2.0)]; 
```

# glassfish - Glassfish access control

> ID：14951287
> 
> 赞同：0
> 
> 时间：2013-02-19T06:37:02.703
> 
> 标签：glassfish

I have web service deployed in my system under Glassfish server. When I try to access it from another system using my IP and port number it shows an access control origin error.

I tried to solve this by putting a accesscrossdomain.xml file in my Glassfish docroot folder, but the error still continues.

What can be done to solve this issue?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T14:16:37.777

您可能会遇到默认配置，出于安全原因默认禁用远程管理。这意味着登录管理控制台时没有 SSL，没有管理员密码等。

GlassFish Server 具有[出色的文档](http://docs.oracle.com/cd/E18930_01/index.html)。对于这个特定问题，安全指南的[这一部分应该会有所帮助。](http://docs.oracle.com/cd/E18930_01/html/821-2435/gkofe.html#scrolltoc)基本上，您需要运行“ *asadmin enable-secure-admin* ”。要了解有关安全管理的更多信息，请阅读安全指南的[这一部分](http://docs.oracle.com/cd/E18930_01/html/821-2435/gkocp.html#scrolltoc)。

# java - 标记和 readAheadLimit

> ID：14951292
> 
> 赞同：0
> 
> 时间：2013-02-19T06:37:34.120
> 
> 标签：java, inputstream, iostream, bufferedreader, java-io

我有一个案例，我需要在流中提前查看某个正则表达式的存在，然后从流中读取数据。

mark 和 reset 允许我这样做，但我面临一个问题，如果**readAheadLimit**超出当前缓冲区的大小，则**标记**变得无效。

 **例如：我有一个缓冲区大小为**1k**的 BufferedReader 。

假设我在缓冲区中的位置 1000 ( **mark=1000 )，我需要在接下来的 100 个字符 (** **readAheadLimit=100** )中检查正则表达式。

因此，在读取时，当**我跨越当前缓冲区大小（1024）时，分配了一个新缓冲区并且标记变得无效（无法重置）并且数据以正常方式流入新缓冲区**。

我认为这是预期的行为，但有没有办法解决这个问题？

感谢你的帮助。

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T11:43:03.543

> 当我跨越当前缓冲区大小（1024）时，分配了一个新缓冲区

不，不是。现有缓冲区被清除并准备好用于其他用途。

> 并且标记变为无效（无法重置）

不，它没有，除非你已经超出了预读限制。

您似乎没有阅读过 API。您调用 mark() 时带有一个参数，该参数说明在调用 reset() 之前您想要走多远，在本例中为 100 个字节，并且需要 API 才能完全做到这一点。因此，当您提前多达 100 个字符时，调用 reset()，然后您又回到调用 mark() 时的位置。这在内部如何发生不是你的问题，但它肯定需要发生。

你是如何得到一个 1k 缓冲区的 BufferedReader 的？默认值为 4096。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:41:48.003

至少有两种选择：

1.  将默认缓存大小设置为远大于 1k：

    new BufferedReader(originalReader, 1024 * 1024) // 例如 1Mb

2.  一旦超过限制，应用自定义缓冲以增加缓存大小。如果您正在处理大量数据 - 自定义缓冲可以将数据存储在数据库或文件中。**

# wpf - 滚动 wpf 文本块到结束

> ID：14951302
> 
> 赞同：3
> 
> 时间：2013-02-19T06:38:17.020
> 
> 标签：wpf, mvvm, binding, datagrid

是否有任何`TextBlock`允许滚动到末尾的功能？

我在**后面的代码**中看到了许多这样做的例子，

我想**保持MVVM的原则，**不去触碰后面的代码，

我正在寻找一种方法来做到这一点`XAML`。

有吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T06:44:08.040

我假设你`TextBlock`的嵌套在一个`ScrollViewer`. 在这种情况下，您将不得不创建一个附加属性。请参阅此相关问题：

[如何使用 Xaml 和绑定自动滚动到 ScrollViewer 的底部？](https://stackoverflow.com/questions/8370209/how-to-scroll-to-the-bottom-of-a-scrollviewer-automatically-with-xaml-and-bindin)

即创建一个附加属性：

```
public static class Helper
{
    public static bool GetAutoScroll(DependencyObject obj)
    {
        return (bool)obj.GetValue(AutoScrollProperty);
    }

    public static void SetAutoScroll(DependencyObject obj, bool value)
    {
        obj.SetValue(AutoScrollProperty, value);
    }

    public static readonly DependencyProperty AutoScrollProperty =
        DependencyProperty.RegisterAttached("AutoScroll", typeof(bool), typeof(Helper), new PropertyMetadata(false, AutoScrollPropertyChanged));

    private static void AutoScrollPropertyChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
    {
        var scrollViewer = d as ScrollViewer;

        if (scrollViewer != null && (bool)e.NewValue)
        {
            scrollViewer.ScrollToBottom();
        }
    }
} 
```

然后绑定如下：

```
<ScrollViewer local:Helper.AutoScroll="{Binding BooleanViewModelPropertyThatTriggersScroll}" .../> 
```

# mysql - JasperReport Server 4.5 中的实时警报？

> ID：14951309
> 
> 赞同：0
> 
> 时间：2013-02-19T06:38:41.647
> 
> 标签：mysql, jasper-reports

我正在尝试实现一个系统，该系统根据数据库中的某些更改发送电子邮件警报 - 例如，如果某个商店的收入低于 30 天平均值的 50%，我们希望自动生成警报给相关的决策者，这样他们就可以检查正在发生的事情。（虚构的例子，我们没有商店）

*JasperReportc Server 4.5* （或任何其他相关工具）是否提供任何可以实现此目的的功能？如果没有，是否有任何合适的开源解决方案？理想情况下，我们希望有一个用户友好的前端来定义标准并设计警报邮件。

或者在数据库级别有可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:53:27.197

不得不提一下，Jasper 只是一个报告工具。它不发送任何电子邮件警报或任何东西。它所能做的就是在不同的时间生成动态报告。

也许您的应用程序本身可以使用 SMTP 或 IMAP 发送电子邮件。您可以在应用程序本身中编写必要的条件。

当您想要快速构建动态报告解决方案时，您可以在应用程序中使用 Jasper。与在应用程序中构建报表相比，Jasper 创建报表所需的时间更少。此外，Jasper 还可以将您的报告导出为 PDF 或 Excel 格式，而无需使用 API 文件。Jasper 还提供图表和其他图形报告结构。

# android - 如何在我们的android应用中实现其他应用的代码？

> ID：14951313
> 
> 赞同：1
> 
> 时间：2013-02-19T06:38:55.643
> 
> 标签：android, jar

我有两个 android 应用程序的代码 A 和 B。我想在 B 应用程序中实现 A 的代码。为此，我将 A 作为库（jar）并将其添加到 B 项目中。A 本身包含活动和其他类。现在我想通过单击按钮调用 A 的根活动并在 B 应用程序项目中运行 A 中的所有流程。我还想在 B 项目的应用程序内存中访问 A 保存的数据。

在 B 项目中添加 jar 时，A 的 2 个活动工作正常。但随后它崩溃了。

我得到的错误在这里

```
02-19 12:35:59.260: W/dalvikvm(478): threadid=1: thread exiting with uncaught exception (group=0x40015560)
02-19 12:35:59.280: E/AndroidRuntime(478): FATAL EXCEPTION: main
02-19 12:35:59.280: E/AndroidRuntime(478): java.lang.NullPointerException: No application instance given
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.mail.store.StorageManager.<init>(StorageManager.java:526)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.mail.store.StorageManager.getInstance(StorageManager.java:497)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.Account.<init>(Account.java:262)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.Preferences.newAccount(Preferences.java:111)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.activity.setup.AccountSetupBasics.onManualSetup(AccountSetupBasics.java:285)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.activity.setup.AccountSetupBasics.onNext(AccountSetupBasics.java:256)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.fsck.k9.activity.setup.AccountSetupBasics.onClick(AccountSetupBasics.java:324)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.view.View.performClick(View.java:2485)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.view.View$PerformClick.run(View.java:9080)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.os.Handler.handleCallback(Handler.java:587)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.os.Handler.dispatchMessage(Handler.java:92)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.os.Looper.loop(Looper.java:123)
02-19 12:35:59.280: E/AndroidRuntime(478):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-19 12:35:59.280: E/AndroidRuntime(478):  at java.lang.reflect.Method.invokeNative(Native Method)
02-19 12:35:59.280: E/AndroidRuntime(478):  at java.lang.reflect.Method.invoke(Method.java:507)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-19 12:35:59.280: E/AndroidRuntime(478):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-19 12:35:59.280: E/AndroidRuntime(478):  at dalvik.system.NativeStart.main(Native Method)
02-19 12:35:59.290: W/ActivityManager(76):   Force finishing activity com.test.k9test/com.fsck.k9.activity.setup.AccountSetupBasics
02-19 12:35:59.822: W/ActivityManager(76): Activity pause timeout for HistoryRecord{408e0b70 com.test.k9test/com.fsck.k9.activity.setup.AccountSetupBasics}
02-19 12:36:09.939: W/ActivityManager(76): Activity idle timeout for HistoryRecord{407edcd8 com.test.k9test/.MainActivity}
02-19 12:36:15.170: W/ActivityManager(76): Activity destroy timeout for HistoryRecord{408e0b70 com.test.k9test/com.fsck.k9.activity.setup.AccountSetupBasics} 
```

你能建议任何解决方案吗？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:53:37.997

关于“项目的召唤”

```
Intent intent = new Intent(getApplicationContext(), nom.nom.example.A.yourClass);
startActivity(intent); 
```

其中 A.yourClass 是 A 的主要活动。

关于“B的项目访问A的数据”

尝试查看[SharePreference](http://developer.android.com/reference/android/content/SharedPreferences.html)或[ContentProvider](http://developer.android.com/reference/android/content/ContentProvider.html)

# java - 在android的搜索栏中给出关键字后Listview变为空

> ID：14951318
> 
> 赞同：0
> 
> 时间：2013-02-19T06:39:24.213
> 
> 标签：java, android, listview, search, adapter

目前我正在研究当在edittext中给定项目的关键字时如何从列表视图中查找项目，列表视图变为空并且输出显示在吐司消息中，任何人都可以帮助像如何制作找到的“项目”到在listivew中显示它？

```
public class Home extends ListActivity {

//how many to load on reaching the bottom
    int itemsPerPage = 15;
    boolean loadingMore = false;                        

ArrayList<String> songsList; 
ListView list;
LazyAdapter adapter, adapter1;
JSONArray posts;
     //ArrayList thats going to hold the search results
  ArrayList<HashMap<String, String>> searchResults;
  LayoutInflater inflater;
// All static variables
static final String URL = "http://abc.net/ads/?json=get_recent_posts";

 static final String KEY_POSTS = "posts";
 static final String KEY_ID = "id";
static final String KEY_TITLE = "title";
static final String KEY_DATE = "date";
static final String KEY_CONTENT = "content";
static final String KEY_AUTHOR = "author";
static final String KEY_NAME = "name";
static final String KEY_ATTACHMENTS = "attachments";
static final String KEY_SLUG = "slug";
static final String KEY_THUMB_URL = "thumbnail";
static final String KEY_IMAGES = "images";
static final String KEY_URL = "url";
private static final String DEBUGTAG = null;
protected static final String TAG = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    final EditText searchBox=(EditText) findViewById(R.id.search);
    final ListView  list=(ListView)findViewById(android.R.id.list);

    //get the LayoutInflater for inflating the customomView
     //this will be used in the custom adapter
     inflater=(LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);

 final  ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

        // Creating JSON Parser instance
                final JSONParser jParser = new JSONParser();

                // getting JSON string from URL
                JSONObject json = jParser.getJSONFromUrl(URL);
                try {
                     posts = json.getJSONArray(KEY_POSTS);

        // looping through all song nodes <song>
                for(int i = 0; i < posts.length(); i++){
                    JSONObject c = posts.getJSONObject(i);
                    // Storing each json item in variable
                    String id = c.getString(KEY_ID);
                    String title = c.getString(KEY_TITLE);
                    String date = c.getString(KEY_DATE);
                    String content = c.getString(KEY_CONTENT);
                    // to remove all <P> </p> and <br /> and replace with ""
                     content = content.replace("<br />", "");
                     content = content.replace("<p>", "");
                     content = content.replace("</p>", "");

                    //authornumber is agin  JSON Object
                    JSONObject author = c.getJSONObject(KEY_AUTHOR);
                    String name = author.getString(KEY_NAME);

                    String url = null;
                    String slug = null;
                    try {
                    JSONArray atta = c.getJSONArray("attachments");
                    for(int j = 0; j < atta.length(); j++){
                        JSONObject d = atta.getJSONObject(j);

                        slug = d.getString(KEY_SLUG);

                        JSONObject images = d.getJSONObject(KEY_IMAGES);

                        JSONObject thumbnail = images.getJSONObject(KEY_THUMB_URL);
                        url = thumbnail.getString(KEY_URL);

                    }
                    } catch (Exception e) {
                        e.printStackTrace();

                    }
            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();
            // adding each child node to HashMap key => value
            map.put(KEY_ID, id);
            map.put(KEY_TITLE, title);
            map.put(KEY_DATE, date);
            map.put(KEY_NAME, name);
            map.put(KEY_CONTENT, content);
            map.put(KEY_SLUG, slug);
            map.put(KEY_URL, url);

            // adding HashList to ArrayList
            songsList.add(map);

                }   
                }catch (JSONException e) {
                    e.printStackTrace();

                    }

              //searchResults=OriginalValues initially
                searchResults=new ArrayList<HashMap<String, String>>(songsList);

                      // Getting adapter by passing json data ArrayList
             adapter = new LazyAdapter(this, songsList);
             list.setAdapter(adapter);

             searchBox.addTextChangedListener(new TextWatcher() {

                 public void onTextChanged(CharSequence s, int start, int before, int count) {
                     //get the text in the EditText
                     String searchString = searchBox.getText().toString();
                     int textLength = searchString.length();

                      //clear the initial data set
                     searchResults.clear();

                     for (int i = 0; i < songsList.size(); i++) {
                         String playerName = songsList.get(i).get("title").toString();

                         if (textLength <= playerName.length()) {

                             //compare the String in EditText with Names in the ArrayList
                             if (searchString.equalsIgnoreCase(playerName.substring(0, textLength)))

                                 Toast.makeText(getApplicationContext(), playerName, 1).show();
                             Home.this.adapter.getFilter();
                             searchResults.add(songsList.get(i));

                            Log.d(TAG, "title");
                         }
                     }

                     adapter.notifyDataSetChanged();
                     list.setAdapter(new ArrayAdapter<String>
                     (Home.this,
                     R.layout.activity_home));
                 }

                 public void beforeTextChanged(CharSequence s, int start, int count,
                                               int after) {

                 }

                 public void afterTextChanged(Editable s) {
                     Home.this.adapter.getFilter();

                 }
             }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:47:42.880

```
adapter.notifyDataSetChanged();
list.setAdapter(new ArrayAdapter<String>(Home.this, R.layout.activity_home)); 
```

您没有提供任何数据集来填充`ListView`.

就像您最初使用歌曲列表数据填充 ListView

```
adapter = new LazyAdapter(this, songsList);
list.setAdapter(adapter); 
```

利用：

```
adapter = new LazyAdapter(this, searchResults);
list.setAdapter(adapter); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:59:10.633

try this, edittext code for search

```
etSearch.addTextChangedListener(new TextWatcher() {

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        // Call back the Adapter with current character to Filter
        adapter1.getFilter().filter(s.toString());
    }
  ........ 
```

add arraylist to listview to display

```
adapter1 = new MyAdapter(MainActivity.this, mProductArrayList);
lvProducts.setAdapter(adapter1); 
```

Adapter Class

```
public class MyAdapter extends BaseAdapter implements Filterable {

private ArrayList<Product> mOriginalValues; // Original Values
private ArrayList<Product> mDisplayedValues;    // Values to be displayed
LayoutInflater inflater;

public MyAdapter(Context context, ArrayList<Product> mProductArrayList) {
this.mOriginalValues = mProductArrayList;
this.mDisplayedValues = mProductArrayList;
inflater = LayoutInflater.from(context);
}
 ..........
@Override
public View getView(final int position, View convertView, ViewGroup parent) {

ViewHolder holder = null;

if (convertView == null) {

    holder = new ViewHolder();
    convertView = inflater.inflate(R.layout.row, null);
    holder.llContainer = (LinearLayout)convertView.findViewById(R.id.llContainer1);
    holder.tvName = (TextView) convertView.findViewById(R.id.tvName);
    holder.tvPrice = (TextView) convertView.findViewById(R.id.tvPrice);
    convertView.setTag(holder);
} else {
    holder = (ViewHolder) convertView.getTag();
}
holder.tvName.setText(mDisplayedValues.get(position).name);
holder.tvPrice.setText(mDisplayedValues.get(position).price+"");

holder.llContainer.setOnClickListener(new OnClickListener() {

    public void onClick(View v) {

        Toast.makeText(MainActivity.this, mDisplayedValues.get(position).price.toString() , Toast.LENGTH_SHORT).show();
    }
});

return convertView; 
```

}

# c++ - 使用 avcodec_close 的 ffmpeg 问题

> ID：14951319
> 
> 赞同：1
> 
> 时间：2013-02-19T06:39:24.713
> 
> 标签：c++, visual-c++, ffmpeg

应该如何在 ffmpeg 中调用 avcodec_close？

这是重现我的问题的最简单的代码：

```
bool CDataSequenceFormat::openVideoCodec( AVStream* videoStream )
{
    AVCodecContext* codecContext = videoStream->codec;

    AVCodec* codec = avcodec_find_encoder(codecContext->codec_id);

    if (codec == NULL || avcodec_open2(codecContext, codec, NULL) < 0 || avcodec_is_open(codecContext)==0)
    {
        return false;
    }

    avcodec_close(codecContext);

    return true;
} 
```

`avcodec_open2`不返回错误并`avcodec_is_open`返回 1，所以我假设`codecContext`已正确设置。我认为这是错误的吗？

当我`avcodec_close`立即调用时，我在 avcodec-54.dll 的某处收到访问冲突异常（写入 badf00d - 但我认为 avcodec_open2 处理了所有编解码器字段的填写）

人们在尝试调用未打开的编解码器时似乎遇到了分段错误`avcodec_close`，但我认为情况并非如此。

任何想法我做错了什么？

**编辑**：我应该提到我继承了这段代码，它使用的是相当旧的 ffmpeg 版本，并且这个问题只在我更新到最新的 ffmpeg tarball 时出现

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T22:28:56.440

我用这个例子重写了这个类`output_example.c`，它似乎神奇地解决了这个问题。

`av_set_parameters`在进一步调查中，问题似乎是 和 的`av_write_header`顺序`avcodec_open2`。以前版本的 ffmpeg 似乎并不关心`avcodec_open`之后调用的内容，`av_set_parameters`但实际上并没有填写最新版本中的所有编解码器字段，除非它首先被调用

# github - 如何在 github README.md 中显示 HTML 内容？

> ID：14951321
> 
> 赞同：106
> 
> 时间：2013-02-19T06:39:32.807
> 
> 标签：github, markdown

我是 github 的新手，`README.md`想使用 iframe 显示 HTML 内容，这可能吗？

我尝试过的是我只是创建除锚之外的 HTML 标签，这是行不通的。

* * *

## 回答 #1

> 赞同：57
> 
> 时间：2013-02-19T06:46:25.197

Github 的 markdown 解释器*可以*包含 HTML。但是，在 HTML 中您能做的只有这么多。我建议查看[这篇文章](http://daringfireball.net/projects/markdown/syntax#html)，它提供了有关可以使用哪些标签的更多信息。就个人而言，我从来没有使用过换行符、水平线等。不幸的是，我没有看到文章中提到的 iframe。

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2017-02-24T17:24:44.313

正如[mjgpy3](https://stackoverflow.com/a/14951401/103577)回答的那样，您*可以*包含 html - 不需要`<html>`标签，但它会在显示之前进行清理，并且唯一允许的标签在[这个白名单](https://github.com/jch/html-pipeline/blob/master/lib/html/pipeline/sanitization_filter.rb#L44-L48)中。

该列表目前包括：

`h1 h2 h3 h4 h5 h6 h7 h8 br b i strong em a pre code img tt div ins del sup sub p ol ul table thead tbody tfoot blockquote dl dt dd kbd q samp var hr ruby rt rp li tr td th s strike summary details caption figure figcaption abbr bdo cite dfn mark small span time wbr`

但没有`iframe`。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2020-11-28T12:36:12.893

您可以使用 svg 来解决，示例代码 (./path/example.svg)：

```
<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
<foreignObject width="100" height="100">
    <div xmlns="http://www.w3.org/1999/xhtml">
        <ul>
            <li>text</li>
        </ul>
        <!-- Other embed HTML element/text into SVG -->
    </div>
</foreignObject>
</svg> 
```

然后使用图像插入方式将 svg 文件嵌入到任何其他 markdown 文件中，如下所示：

```
![](./path/example.svg) 
```

# plsql - 我可以将在 Oracle Application Express 中创建的 PL/SQL 函数调用到 Jaspersoft Ireport 中吗？

> ID：14951326
> 
> 赞同：0
> 
> 时间：2013-02-19T06:39:52.680
> 
> 标签：plsql, jasper-reports, oracle-apex

我使用 Jasper ireport 创建报告。我在 Oracle Application Express 中创建了一个 PL/SQL 函数来翻译相应文本中的数字。例如。125到一百二十五。

现在我需要通过将参数 im 传递给这个函数来将此函数调用到 Jasper ireport 中。可能吗？我找到了将过程调用到 ireport 中的方法，但我找不到将函数调用到 ireport 中的方法。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:33:07.903

假设您的函数名为`fnNumToStr`.

从基础知识中我们知道，如果 PL/SQL 函数接受并返回值作为 SQL 数据类型，则可以从 SQL 查询中调用它们。在您的示例中，该函数接受数字并返回`VARCHAR2`，所以很好。

编写如下查询：

```
SELECT fnNumToStr(numCol)
  FROM tableName 
```

这样的事情应该做。如果您将参数传递给此函数，那么

```
SELECT fnNumToStr($P{paramName})
  FROM tableName 
```

应该做。

# java - 无法加载 EntityProcessor 实现

> ID：14951328
> 
> 赞同：0
> 
> 时间：2013-02-19T06:39:56.533
> 
> 标签：java, solr, dih

我正在尝试将其`mongo`用作数据源，`solr`因此我跟随[James](https://github.com/james75/SolrMongoImporter#classes)的 DIH 在我的 solr 应用程序中使用它，我在我的`lib`文件夹中添加了以下内容

1.  solr-dataimporthandler-1.4.1
2.  solr-mongo-importer-1.0.0
3.  nlog4j-1.2.17 // 因为它要求 LoggerFactory 类
4.  mongo-2.10.1

在我的数据配置文件中，只需以下内容：

```
<?xml version="1.0"?>
<dataConfig>
    <dataSource name="MyMongo" type="MongoDataSource" database="tracker" />
    <document name="hits">
         <entity processor="MongoEntityProcessor"
                 query="{}"
                 collection="hits"
                 datasource="MyMongo"
                 transformer="MongoMapperTransformer" >
             <field column="_id"           name="_id"       mongoField="_id"/>
         </entity>
     </document>
</dataConfig> 
```

每当我尝试进行完全导入时，都会抛出如下异常：

```
SEVERE: Full Import failed:java.lang.RuntimeException: java.lang.RuntimeException: org.apache.solr.handler.dataimport.DataImportHandlerException: Unable to load EntityProcessor implementation for entity:19099085523711 Processing Document # 1
at org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:264)
at org.apache.solr.handler.dataimport.DataImporter.doFullImport(DataImporter.java:375)
at org.apache.solr.handler.dataimport.DataImporter.runCmd(DataImporter.java:445)
at org.apache.solr.handler.dataimport.DataImporter$1.run(DataImporter.java:426)
Caused by: java.lang.RuntimeException: org.apache.solr.handler.dataimport.DataImportHandlerException: Unable to load EntityProcessor implementation for entity:19099085523711 Processing Document # 1
    at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:621)
    at org.apache.solr.handler.dataimport.DocBuilder.doFullDump(DocBuilder.java:327)
    at org.apache.solr.handler.dataimport.DocBuilder.execute(DocBuilder.java:225)
    ... 3 more

Caused by: org.apache.solr.handler.dataimport.DataImportHandlerException: Unable to load EntityProcessor implementation for entity:19099085523711 Processing Document # 1
    at org.apache.solr.handler.dataimport.DataImportHandlerException.wrapAndThrow(DataImportHandlerException.java:72)
    at org.apache.solr.handler.dataimport.DocBuilder.getEntityProcessor(DocBuilder.java:915)
    at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:635)
    at org.apache.solr.handler.dataimport.DocBuilder.buildDocument(DocBuilder.java:619)
    ... 5 more
Caused by: java.lang.ClassCastException: org.apache.solr.handler.dataimport.MongoEntityProcessor cannot be cast to org.apache.solr.handler.dataimport.EntityProcessor
    at org.apache.solr.handler.dataimport.DocBuilder.getEntityProcessor(DocBuilder.java:912)
    ... 7 more 
```

谁能告诉我我在搞砸什么以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T16:28:33.507

问题的核心是：

> 引起：java.lang.ClassCastException：org.apache.solr.handler.dataimport.MongoEntityProcessor 不能转换为 org.apache.solr.handler.dataimport.EntityProcessor

I suspect you are not using the same version of Solr as he does. Based on the jars, you seem to be using Solr 1.4.1\. Based on timestamps at GitHub, the integration project is 6 months old and might be using more recent Solr (3.6 or - less likely - 4+).

Unless your Solr is well-established system, I would download Solr 4 and try again, using the DIH jars that come with the installation

# firefox - Webdriver - 全屏打开浏览器

> ID：14951330
> 
> 赞同：12
> 
> 时间：2013-02-19T06:40:02.293
> 
> 标签：firefox, webdriver

我通过 Firefox 远程使用 Webdriver。

我想全屏打开我的浏览器。浏览器全屏打开，但立即最小化并移动到在我的操作系统上打开的其他程序。当我在本地运行我的 webdriver 时，broser 会全屏打开，并且不会最小化（它停留在浏览器中，不会移动到其他程序）。我希望我的浏览器会全屏打开，并留在浏览器中，即使我运行我的测试远程。

原因是我使用了 Java Robot，并且我必须在浏览器中才能执行我的操作。

谢谢你。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-19T10:11:43.660

我不知道我真的理解你的问题，但看看

```
driver.manage().window().maximize(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-20T08:02:13.063

**[https://technicaltesting.wordpress.com/category/webdriver/#3](https://technicaltesting.wordpress.com/category/webdriver/#3)**

结合 Sikuli 和 WebDriver 时特别方便，您需要绝对确保尽可能多地在屏幕上可见。1

```
((FirefoxDriver)driver).getKeyboard().pressKey(Keys.F11); 
```

如果要隐藏标题，请在代码中添加。

```
 FirefoxProfile profile = new FirefoxProfile();
    profile.setPreference("browser.fullscreen.autohide",true);
    profile.setPreference("browser.fullscreen.animateUp",0);

    WebDriver driver = new FirefoxDriver(profile);

    ((FirefoxDriver)driver).getKeyboard().pressKey(Keys.F11);
    driver.manage().window().setSize(new Dimension(1024, 768));
    ((JavascriptExecutor)driver).executeScript("window.focus()");
    Robot robot;
    try {
    robot = new Robot();
    robot.mouseMove(300,300);
    robot.mouseMove(250,300);
    } catch (AWTException e1) {

        e1.printStackTrace();
    } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-19T14:13:29.377

试试这个：

```
driver.manage().window().maximize();
((JavascriptExecutor) driver).executeScript("window.focus();"); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-06-19T11:46:50.307

在 Python 中，你可以做这样的事情。确保使用最新的 Selenium 包。

```
 driver = webdriver.Firefox()
 driver.maximize_window()
 driver.implicitly_wait(30) 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2015-01-18T14:24:32.923

我偶然发现了同样的问题，但我发现@Chen 的 F11 配置文件不够可靠，所以我想出了自己的解决方案：只需让浏览器窗口大于屏幕，以便实际内​​容与屏幕。

```
 WebDriver driver = new FirefoxDriver();
    java.awt.Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
    Window window = driver.manage().window();
    window.setPosition(new Point(-7, -87));
    window.setSize(new Dimension((int) screenSize.getWidth() + 14, (int) screenSize.getHeight() + 94)); 
```

# jsf-2 - JSFUnit 不一致地获取 JSFServerSession

> ID：14951333
> 
> 赞同：0
> 
> 时间：2013-02-19T06:40:24.757
> 
> 标签：jsf-2, jboss-arquillian, weblogic12c, jsfunit

我们正在尝试在 WebLogic 12c 容器上使用 Arquillian 运行 JSFUnit，但遇到了一些问题。

首先，当我们尝试使用@InitialPage 注解注入JSFServerSession 和JSFClientSession 时，JSFServerSession 总是返回为null。

其次，我们尝试通过创建新 JSFSession 并从中获取 JSFServerSession 和 JSFClientSession 的传统路线来解决该问题。一旦我们运行第二个测试，我们就会得到“java.lang.IllegalStateException：找不到 HttpSession。确保 JSFUnitFilter 已经运行并且您的测试扩展了 org.apache.cactus.ServletTestCase。”

这似乎很随意，因为有时我们会运行测试并且它通过了。有时下一次它会失败。或者添加看起来不应该相关的行，将引发“找不到 HttpSession”错误。

似乎它无法处理多次创建 JSFSession 或者服务器上有一些超时，即使测试战正在取消部署，也需要超时。有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-11T04:01:53.390

我不确定这是否也适用于您的问题，但我在 JBoss 7 上遇到了类似的问题。通常可以通过以下方式解决问题：

*   使用`Servlet 3.0`应包含相关过滤器的协议`web.xml`
*   如果这没有帮助（就像我的情况一样），请使用此解决方案：[https ://stackoverflow.com/a/17036005/1667977](https://stackoverflow.com/a/17036005/1667977)
*   无论如何，尽量避免自己创建会话

# ios5 - 将另一个故事板的视图加载到另一个故事板的视图中

> ID：14951335
> 
> 赞同：0
> 
> 时间：2013-02-19T06:40:34.710
> 
> 标签：ios5, storyboard

我有这样的要求。

该应用程序的实现类似于我们在 facebook 或 path 应用程序中找到的滑动面板 UI。我正在使用 JSSlidePanel ( [https://github.com/gotosleep/JASidePanels](https://github.com/gotosleep/JASidePanels) )，它需要添加 3 个控制器，

```
slidePanellcontroller.leftPanel = leftsideViewController;
slidePanellcontroller.centerPanel = centerViewController;
slidePanellcontroller.rightPanel = rightsideViewController; 
```

我为 slidePanelcontroller 和 centerViewController 创建了一个单独的故事板。slidePanelcontroller 是从主故事板加载的，而 centerViewController 将从另一个名为 tabbar 故事板的故事板中加载。基本上 centerViewController 是一个标签栏控制器。

现在我不确定如何将 centerViewController 的视图添加到 slidePanelcontroller 视图中。

请提供任何输入。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-20T11:40:23.660

Firsts 实例化另一个故事板：

```
UIStoryboard otherStoryboard = [UIStoryboard storyboardWithName:@"otherstoryboardfilename" bundle:nil]; 
```

然后通过您在 Interface Builder 中为其设置的标识符实例化视图控制器。

```
UIViewController *centerViewController =
  [otherStoryboard instantiateViewControllerWithIdentifier:@"centerViewControllerIdentifier"] 
```

# servicestack - 有没有办法在 ServiceStack 中缓冲和分页请求流

> ID：14951337
> 
> 赞同：2
> 
> 时间：2013-02-19T06:40:42.937
> 
> 标签：servicestack

有没有办法控制进入 ServiceStack 主机的请求流。我正在寻找响应式扩展中的[Observable.Buffer](http://msdn.microsoft.com/en-us/library/hh229813%28v=vs.103%29.aspx)之类的东西，或者一种将请求分页到缓冲区中的方法，或者在消息流中实现类似这样的东西的地方。主要是处理流量泛滥和尖峰。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:16:45.213

查看[ServiceStack 中的消息传递支持](https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-Redis)。Redis 和 In Memory MQ 主机允许您延迟执行传入请求。

一旦您注册了对单向端点的`IMessageFactory`所有调用，[就会立即推迟到您注册的 MQ 代理](https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceHost/ServiceRunner.cs#L165)。`/async`

SMessage 演示项目展示了[手动创建和发布请求 dto](https://github.com/ServiceStack/ServiceStack.UseCases/blob/master/Reusability/SMessageService.cs#L77)与在同一服务中同步执行它们的示例。

一旦注册了您希望 MQ 代理处理的所有消息的消息处理程序，例如：

```
mqService.RegisterHandler<PostStatusTwitter>(ServiceController.ExecuteMessage, noOfThreads:2);
mqService.RegisterHandler<CallFacebook>(ServiceController.ExecuteMessage);
mqService.RegisterHandler<EmailMessage>(ServiceController.ExecuteMessage); 
```

任何发布的请求 DTO 都将自动在 MQ 代理队列中排队，并使用您指定的后台线程尽可能快地在后台处理。

注意：延迟请求不再在 HTTP 上下文中，因此您无法访问自定义 HTTP 标头等 HTTP 参数。

# ipv6 - IPv6 非子网前缀 ping 问题

> ID：14951345
> 
> 赞同：0
> 
> 时间：2013-02-19T06:41:07.317
> 
> 标签：ipv6

我的路由器的行为是这样的：

我有一个路由器“A”，其接口分配有多个“N”个 ipv6 地址。我有另一个路由器“B”背靠背连接到同一链接，其中一个 ipv6 地址与“A”中的 N 个前缀匹配，现在当我从路由器“B”ping 任何“N”个 IP 时，路由器“A”正在回应。请让我知道这是否是正确的行为。

案子：

路由器“A”接口“x”具有 12::1、13::1、14::1、15::1。

路由器“B”接口“x”具有 12::1。

A 和 B 在“x”上连接 B2B

现在“A”正在回复来自“B”的 ping 15::1。

我的意见是只有在 12::1 被 ping 通时，A 才应该回复回复，对吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:16:55.283

不，您现在在网络 x 上有一个冲突的地址 (12::1)。

它的工作原理是：

1.  您可以使用一组 IPv6 地址，例如来自您的 ISP 或 ULA 地址
2.  您将 /64 前缀从您的块分配给每个网络
3.  您给每个接口一个与该接口所属网络的 /64 前缀*不同的地址*

现在您应该能够在机器/接口之间 ping 通。

# java - 通过 Youtube API 控制视频缓冲

> ID：14951352
> 
> 赞同：2
> 
> 时间：2013-02-19T06:41:32.200
> 
> 标签：java, android, youtube, youtube-api

我正在使用 Android Youtube API，我想知道是否有办法控制视频缓冲。我对暂停缓冲并在以后恢复缓冲的可能性特别感兴趣，想法是逐步下载视频。

任何形式的帮助或解决方法都非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:54:38.500

您可以查看以下可用的方法[`YouTubePlayer`](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer)。

[`pause()`](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#pause%28%29)

[`play()`](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#play%28%29)

[`seekToMillis (int milliSeconds)`](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#seekToMillis%28int%29)

[`seekRelativeMillis (int milliSeconds)`](https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubePlayer#seekRelativeMillis%28int%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-12T22:16:39.910

尽管如此，我没有找到一种使用 YouTube API 实现这一目标的方法，而且我认为没有方法（如果我错了，请纠正我）。

我最终完全放弃了 YouTube API 并以一种临时的方式解决了问题 - 该应用程序确定视频文件的实际位置并使用标准方式将其逐步下载到临时文件中，从而完全控制连接。数据在下载的同时被读取并馈送到媒体播放器，执行二级本地缓冲。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-27T03:25:44.450

YouTube API 有一个您可以使用的方法[stopVideo() 。](https://developers.google.com/youtube/iframe_api_reference#stopVideo)与该`pause()`方法不同的是，它将停止下载视频。我不确定您之后是否可以恢复视频，但至少它会停止缓冲。

# iphone - Core Data 移除对象函数

> ID：14951355
> 
> 赞同：3
> 
> 时间：2013-02-19T06:41:51.740
> 
> 标签：iphone, xcode, object, core-data

我有一个与核心数据有关的问题，以及在为某个实体创建 NSManagedObject 子类时自动创建的删除对象函数。我必须实体；一个称为标签，一个称为艺术家的关系，另一个称为艺术家的实体，它有一个称为标签的关系。艺术家关系目的地是具有设置为标签的反向关系的实体艺术家。

我添加了几个同名的“艺术家”（Freekey Zekey），我正在尝试使用下一个代码删除它们

```
NSError *error = nil;
NSArray *fetchedObjects = [context executeFetchRequest:fetchRequest error:&error];

// Grab the artist and delete
Artist *freekey = [fetchedObjects objectAtIndex:0];
[freekey.label remove ArtistsObject:freekey];

// Save everything
if([context save:&error])
{
    NSLog(@"The save was successful!");
}
else
{
    NSLog(@"The save wasn't successful: %@", [error localizedDescription]);
} 
```

执行此代码后，我读取了数据，但只有当我只有一个“Freekey Zekey”时，艺术家才会被删除。但是，当我再次运行该应用程序时，fetchedObjects 中的对象数量仍然是一个。如果我有多个“Freekey Zekey”，我希望只删除一个，但它不会发生。

我尝试使用此代码删除所有“Freekey Zekey”

```
for(int i=0; i < [fetchedObjects count]; i++)
{
    freekey = [fetchedObjects objectAtIndex:i];

    [freekey.label remove ArtistsObject:freekey];
} 
```

它可以工作，但是当我检查 fetchedObjects 中的对象数量时，它不是 0，我相信这意味着对象尚未被删除。

我怎样才能完全删除一个对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:14:26.533

答案是：您并没有完全从 DB 中删除艺术家。您刚刚删除了关系并完成删除，您也需要删除艺术家。

```
for(int i=0; i < [fetchedObjects count]; i++)
{
    freekey = [fetchedObjects objectAtIndex:i];
    [freekey.label removeArtistsObject:freekey];
    [context deleteObject:freekey];
}
if([context save:&error])
{
    NSLog(@"The save was successful!");
}
else
{
    NSLog(@"The save wasn't successful: %@", [error localizedDescription]);
} 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T17:26:06.227

苹果文档在这方面并不是很清楚。苹果建议的一般方法是：

```
Data *lastData = [[self sortedPersonDatas] objectAtIndex:0];
[selectedPerson removePersonDataObject:lastData]; 
```

其中 PersonData 是与 Data 托管对象的一对多关系，我取了最后一个数据（lastData 来自所有数据的排序数组）但是使用工厂删除方法并检查后面的 SQL 数据库，我们可以发现实际数据存在只是逆关系为空。要完全删除您必须使用的数据（所有属性和对象）：

```
[selectedPerson.managedObjectContext deleteObject:lastData]; 
```

这将在您保存上下文时完全删除记录。[Apple](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdRelationships.html#//apple_ref/doc/uid/TP40001857-SW1)提供的正确文档

# python - Django：测试页面是否已重定向到所需的 url

> ID：14951356
> 
> 赞同：77
> 
> 时间：2013-02-19T06:41:54.737
> 
> 标签：python, django, django-testing

在我的 django 应用程序中，我有一个身份验证系统。因此，如果我没有登录并尝试访问某些个人资料的个人信息，我会被重定向到登录页面。

现在，我需要为此编写一个测试用例。我得到的浏览器的响应是：

```
GET /myprofile/data/some_id/ HTTP/1.1 302 0
GET /account/login?next=/myprofile/data/some_id/ HTTP/1.1 301 0
GET /account/login?next=/myprofile/data/some_id/ HTTP/1.1 200 6533 
```

如何编写我的测试？这是我到目前为止所拥有的：

```
self.client.login(user="user", password="passwd")
response = self.client.get('/myprofile/data/some_id/')
self.assertEqual(response.status,200)
self.client.logout()
response = self.client.get('/myprofile/data/some_id/') 
```

接下来可能会发生什么？

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2013-02-19T09:27:04.943

Django 1.4：

[https://docs.djangoproject.com/en/1.4/topics/testing/#django.test.TestCase.assertRedirects](https://docs.djangoproject.com/en/1.4/topics/testing/#django.test.TestCase.assertRedirects)

Django 2.0：

[https://docs.djangoproject.com/en/2.0/topics/testing/tools/#django.test.SimpleTestCase.assertRedirects](https://docs.djangoproject.com/en/2.0/topics/testing/tools/#django.test.SimpleTestCase.assertRedirects)

> `SimpleTestCase.assertRedirects(response, expected_url, status_code=302, target_status_code=200, msg_prefix='', fetch_redirect_response=True)`
> 
> 断言响应返回了**status_code**重定向状态，重定向到了**expected_url**（包括任何**GET**数据），并且最后一页是通过**target_status_code**接收的。
> 
> 如果您的请求使用了**follow**参数，则**expected_url**和**target_status_code**将是重定向链最后点的 url 和状态码。
> 
> 如果**fetch_redirect_response**为**False**，则不会加载最终页面。由于测试客户端无法获取外部 URL，因此如果**expected_url**不是您的 Django 应用程序的一部分，这将特别有用。
> 
> 在两个 URL 之间进行比较时，Scheme 得到了正确处理。如果我们重定向到的位置没有指定任何方案，则使用原始请求的方案。如果存在，则**expected_url**中的方案是用于进行比较的方案。

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2013-10-29T18:28:35.500

您还可以使用以下重定向：

```
response = self.client.get('/myprofile/data/some_id/', follow=True) 
```

这将反映浏览器中的用户体验并断言您希望在那里找到的内容，例如：

```
self.assertContains(response, "You must be logged in", status_code=401) 
```

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2013-02-19T06:45:04.130

您可以检查`response['Location']`它是否与预期的 url 匹配。还要检查状态代码是否为 302。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2016-08-16T16:19:46.047

`response['Location']`1.9 中不存在。改用这个：

```
response = self.client.get('/myprofile/data/some_id/', follow=True)
last_url, status_code = response.redirect_chain[-1]
print(last_url) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2021-01-11T07:24:34.220

您可以使用 assertRedirects 例如：

```
response = self.client.get('/sekrit/')
self.assertRedirects(response, '/other/login/?next=/sekrit/') 
```

[https://docs.djangoproject.com/en/2.0/topics/testing/tools/#django.test.SimpleTestCase.assertRedirects](https://docs.djangoproject.com/en/2.0/topics/testing/tools/#django.test.SimpleTestCase.assertRedirects)

## 如果您需要获取重定向的 url

如果`follow`是`True`

你会得到网址

```
response.redirect_chain[-1] 
```

如果`follow`是`False`

```
response.url 
```

# winforms - 我们可以在 ColorIDialog 中保存选定的自定义颜色吗？

> ID：14951358
> 
> 赞同：2
> 
> 时间：2013-02-19T06:42:11.633
> 
> 标签：winforms, vb.net-2010

我在窗体关闭时显示颜色对话框时遇到问题。我们可以在 VB.NET 的颜色对话框中保存自定义颜色选择吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:43:27.973

您可以使用该属性获取和设置自定义颜色`CustomColors`。这是一个 的数组`int`，其中颜色格式为`00BBGGRR`。`B`是蓝色的，`G`是绿色的，`R`是红色的。您可以将 .Net 颜色转换为这种格式：

```
Color myColor = Color.Green;
int ColorAsBGR = (((myColor.B << 16) | (myColor.G << 8)) | myColor.R);
dlgColor.CustomColors = new int[] { ColorAsBGR }; 
```

或不使用 .Net 颜色：

```
// Get the colors
int[] customColors = dlgColor.CustomColors;

// Set the custom colors
dlgColor.CustomColors = customColors; 
```

您必须在 int 数组中存储和检索每种自定义颜色，并使用它设置 CustomColors 属性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-07-20T22:59:46.420

由于这个问题被标记为 VB.NET 2010，我将提供一个兼容的 VB.NET 答案。

## 自定义颜色

如果用户在使用 时添加自定义颜色，您可以使用该属性`ColorDialog`访问这些颜色。[`CustomColors`](https://msdn.microsoft.com/en-us/library/system.windows.forms.colordialog.customcolors%28v=vs.110%29.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1)它将它们的颜色作为`Integer()`.

## 使用`My.Settings`

存储这些自定义颜色最方便的位置可能是[`My.Settings`](https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/objects/my-settings-object)，它为您提供了一个简单的位置来存储每个用户的设置，如果您正在寻找的话。

如果您尝试`Integer()`使用 GUI 添加类型化设置，您会发现它不起作用，Visual Studio 不支持。

幸运的是，您仍然可以通过手动编辑 Settings.settings 文件来完成这项工作。

（感谢[Jen-Ari 提供了这个相关的有用答案。](https://stackoverflow.com/a/4267845/4975230)）

1.  首先，使用“我的项目”中的 GUI，添加一个`String`名为 的类型化设置`CustomColors`，稍后我们将更改类型。
2.  在解决方案资源管理器的顶部，单击“显示所有文件”，展开“我的项目”。
3.  您应该看到一个 Settings.settings 文件，右键单击该文件，然后选择“打开方式”，选择 XML（文本）编辑器。

该文件的内容将如下所示：

## 设置.settings

```
<?xml version='1.0' encoding='utf-8'?>
<SettingsFile xmlns="http://schemas.microsoft.com/VisualStudio/2004/01/settings" CurrentProfile="(Default)" GeneratedClassNamespace="My" GeneratedClassName="MySettings" UseMySettingsClassName="true">
  <Profiles />
  <Settings>
    <Setting Name="CustomColors" Type="System.String" Scope="User">
      <Value Profile="(Default)" />
    </Setting>
  </Settings>
</SettingsFile> 
```

更改`Type="System.String"`为`Type="System.Int32[]"`，所以你有这个：

```
<?xml version='1.0' encoding='utf-8'?>
<SettingsFile xmlns="http://schemas.microsoft.com/VisualStudio/2004/01/settings" CurrentProfile="(Default)" GeneratedClassNamespace="My" GeneratedClassName="MySettings" UseMySettingsClassName="true">
  <Profiles />
  <Settings>
    <Setting Name="CustomColors" Type="System.Int32[]" Scope="User">
      <Value Profile="(Default)" />
    </Setting>
  </Settings>
</SettingsFile> 
```

## 表格1.vb：

下面是一些示例代码，展示了如何使用这种技术：

```
Public Class Form1

    Private Sub btnChooseColor_Click(sender As Object, e As EventArgs) Handles btnChooseColor.Click
        'I'm assuming that dlgColorDialog has been placed using the Forms designer.
        dlgColorDialog.ShowDialog()

    End Sub

    Private Sub Form1_Load(sender As Object, e As EventArgs) Handles MyBase.Load
        'Load the custom colors from My.Settings into the dialog when the form loads.
        dlgColorDialog.CustomColors = My.Settings.CustomColors
    End Sub

    Private Sub Form1_FormClosing(sender As Object, e As FormClosingEventArgs) Handles MyBase.FormClosing
        'Save the custom colors when the form closes.
        My.Settings.CustomColors = dlgColorDialog.CustomColors
        My.Settings.Save()
    End Sub

End Class 
```

# iphone - 使用restkit iphone检查当前请求是否已经在请求队列中

> ID：14951361
> 
> 赞同：1
> 
> 时间：2013-02-19T06:42:14.460
> 
> 标签：iphone, ios, objective-c, xcode, restkit

我正在使用 restkit 发送请求、响应映射等。但有时，我会多次发送来自不同屏幕的相同请求。所以它被添加到请求队列中。但是如果请求已经存在，我不想将请求添加到请求队列中。我该如何检查。

我正在调用这样的函数

//这里需要检查下面的url是否在RKRequestQueue中。如果它不存在，则调用以下方法，

```
[self getDataFromServer];

- (void)getDataFromServer{
    RKObjectManager *manager = [[RestKit sharedDataManager] objectManager];

        [manager loadObjectsAtResourcePath:@"/getData" usingBlock:^(RKObjectLoader *loader) {
            [RKClient sharedClient].requestQueue.showsNetworkActivityIndicatorWhenBusy = YES;
            loader.method = RKRequestMethodPOST;
            loader.params = inputData;
            loader.onDidFailWithError = ^(NSError *error) {
     };

            loader.onDidLoadObjects = ^(NSArray *objects) {
    };
} 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:34:47.727

有趣的问题，我很确定您实际上可以在 RKRequestQueue 中检查您的请求的 URL，但我无法在[RKRequestQueue 参考](http://restkit.org/api/0.10.3/Classes/RKRequestQueue.html)中找到任何有用的东西。相反，我找到了[containsRequest:](http://restkit.org/api/0.10.3/Classes/RKRequestQueue.html#//api/name/containsRequest%3a)方法，但这只会比较 RKRequest 对象，而不是实际的 URL。

我想最简单的做法是创建某种代理来管理您的网络活动，实现[requestQueue:didSendRequest:](http://restkit.org/api/0.10.3/Protocols/RKRequestQueueDelegate.html#//api/name/requestQueue%3adidSendRequest%3a)委托方法并监控当前正在处理的 URL。

# gwt - 如何从 portlet 访问 liferay 菜单

> ID：14951364
> 
> 赞同：4
> 
> 时间：2013-02-19T06:42:45.197
> 
> 标签：gwt, liferay, portlet, liferay-6

*   我在 navigation.vm 文件中定义了一个在 liferay 项目中运行良好的菜单。
*   但我想从我的 portlet 访问这个菜单。
*   有什么方法可以从 portlet 入口点或 view.jsp 访问菜单？？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T10:00:04.257

导入`liferay-ui`标签库：

```
<%@ taglib uri="http://liferay.com/tld/ui" prefix="liferay-ui" %> 
```

那么你可以使用

```
<liferay-ui:navigation displayStyle="from-level-0" >
</liferay-ui:navigation> 
```

注意：设置`displayStyle="from-level-0"`为您提供像 on 这样的正常行为`navigation.vm`，您可以使用不同的属性来获得其他行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T21:03:15.430

此[链接](http://www.velvettools.com/2013/02/getting-access-to-menu-from-portlet-in.html "从liferay中的portlet访问菜单")描述了直接在 jsp 中获取菜单项的方式。

下面的代码是直接从上面的链接中复制出来的，并带有一些改进的格式：

```
<%@ taglib uri="http://liferay.com/tld/theme" prefix="liferay-theme" %>
<%@ taglib uri="http://java.sun.com/portlet_2_0" prefix="portlet" %>

<%@ page import="java.util.List" %>
<%@ page import="java.util.ArrayList" %>
<%@ page import="com.liferay.portal.model.Layout"%>
<%@ page import="com.liferay.portal.kernel.util.WebKeys"%>
<%@ page import="com.liferay.portal.theme.NavItem" %>
<%@ page import="com.liferay.portal.theme.RequestVars" %>
<%@ page import="com.liferay.portal.theme.ThemeDisplay"%>

<portlet:defineObjects />

<liferay-theme:defineObjects />

<div style="width:100%">
<%
//ThemeDisplay themeDisplay = (ThemeDisplay) request.getAttribute(WebKeys.THEME_DISPLAY);

String title = themeDisplay.getLayout().getName(themeDisplay.getLocale());

List<NavItem> navItems = new ArrayList<NavItem>();

if (layout != null) {
    RequestVars requestVars = new RequestVars(request, themeDisplay, layout.getAncestorPlid(), layout.getAncestorLayoutId()); 
    navItems = NavItem.fromLayouts(requestVars, layouts);
}

for (NavItem navItem : navItems) {
    if (navItem.getName().equalsIgnoreCase(title)) {
        if (navItem.hasChildren()) {

            for(NavItem navChild : navItem.getChildren()) {
%>

    <div style="float:left;" class="newsMenuPortlet">
        <a href="<%= navChild.getURL() %>" <%=navChild.getTarget() %>>
            <%= navChild.getName() %>
        </a>
    </div>

<%
            } // inner for-loop ends here
        }
    }
}// outer for-loop ends here
%>

</div> 
```

# performance - 从数据库中的表中选择行的最快方法（Microsoft SQL 服务器）

> ID：14951365
> 
> 赞同：1
> 
> 时间：2013-02-19T06:43:01.873
> 
> 标签：performance, sql-server-2008, select

我有一个带有一个 int PRIMARY KEY IDENTITY 列的大表。

我想使用该主键进行 SELECT 查询是数据库在表中查找行的最快方法，不是吗？

如果这是真的，我还有一个问题。该查询是否与按键调用字典一样快，或者数据库仍然必须从头（主键列）读取所有行，直到找到行本身？

提前谢谢^^

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:50:36.113

使用主键显然是访问特定行的最快方法。

如果你想了解它是如何工作的，你必须了解索引是如何工作的。

**一般来说，它是这样工作的：**

假设您有一张桌子`t1(col1,col2...col10)`，并且您在`col1`. 索引`col1`意味着您有一些包含对的数据结构，`(col1, rec_id)` 并`rec_id`允许使用适当`col1`的 . 数据结构按 排序`col1`，因此允许按 进行有效搜索`col1`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:59:12.370

我认为在字典中搜索每个字典搜索算法应该更像二进制搜索类型。

当您将一列声明为表中的主键时，该列会被索引，因此它应该基于散列原理工作，因此搜索绝对不是您提到的逐行搜索。

最后，是的，这是一种常见且快速的方法，但您应该选择 sql 查询中所需的列数和行数。避免每次选择调用获取大量行。

# php - 将数据数组从android传递给php文件不会进入数据库

> ID：14951366
> 
> 赞同：0
> 
> 时间：2013-02-19T06:43:08.197
> 
> 标签：php, android, mysql, arraylist, foreach

我想使用名称值对将`String` **(itemname)**数组传递给 php 文件**(PlaceOrder.php) 。**当我单击**PlaceOrder** 时，它会在数据库中`button`传递**空值。****Android代码或Php代码**有什么问题吗？我的 Android 代码如下

```
public void onClick(View v) {
        // TODO Auto-generated method stub
        try
        {

            HttpClient httpclient = new DefaultHttpClient();
            HttpPost httppost = new HttpPost("http://10.0.2.2/demo/PlaceOrder.php");
              Log.e("log_tag", "connection success ");
              List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
            for (int i=0;i<1;i++)
            {
                nameValuePairs.add(new BasicNameValuePair("ItemName[]", String.valueOf

(resultArrItemname[i])));

            }
            Log.e("log_tag", "Name value pair success ");
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            HttpResponse response = httpclient.execute(httppost);
            Log.e("log_tag", "response sucess ");
            HttpEntity entity = response.getEntity();
            is = entity.getContent();
             showDialog("Order Placed Successfully");

        }

        catch(Exception e)
        {
            Log.e("log_tag", "Error in http connection"+e.toString());
        }
    } 
```

我的 PHP 代码如下

```
<?php

        $itemname[]=$_REQUEST['ItemName[]'];   

        mysql_connect("localhost","root","aaaaaa") or die(mysql_error());
        mysql_select_db("demo") or die(mysql_error());          

        foreach($itemname as $key)
        {
            $sql=mysql_query("Insert into tblorder(itemname) values('$key')");
            while($row=mysql_fetch_array($sql)) 
        $output[]=$row;
             print(json_encode($output));
        }
         mysql_close();
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:49:04.457

尝试改变

```
$itemname[]=$_REQUEST['ItemName[]']; 
```

至

```
$itemname[]=$_REQUEST['ItemName']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:52:48.913

改变`$itemname[]=$_REQUEST['ItemName[]'];`

至

```
$itemname=$_REQUEST['ItemName']; 
```

`[]`从两侧取下

使用如下查询：

```
$sql=mysql_query("Insert into tblorder(itemname) values('".mysql_real_escape_string($key)."')"); 
```

mysql_* 函数已弃用，请使用 mysqli_* 和 PDO

改变 ：

```
while($row=mysql_fetch_array($sql)) 
$output[]=$row; 
```

至 ：

```
while($row=mysql_fetch_array($sql)) {
   $output[]=$row;
} 
```

`$output = array();`在 foreach 循环上方声明

我想你需要`print(json_encode($output));`在 foreach 循环之后

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:58:16.593

$itemname[]=$_REQUEST['ItemName[]'];

这不是更好的使用方式..尝试 POST 或 PUT 或其他输入类型...请求可能对未来的开发有害...

试试 ---- $itemname[]=$_POST['ItemName'];

# paypal - 贝宝沙盒测试信用卡号

> ID：14951367
> 
> 赞同：17
> 
> 时间：2013-02-19T06:43:10.430
> 
> 标签：paypal

贝宝支持论坛不断提到自动获取信用卡号码。但是，它不再自动显示任何信用卡信息——我试了 100 次。

我在互联网上搜索，一个著名的链接`paypalobjects.com`弹出窗口和所有信用卡号码都已链接到最大帐户。

如何以及在哪里找到可用于沙盒贝宝帐户的虚假 Visa/Master 信用卡号？

我真搞砸了！请帮忙！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-19T07:15:23.230

沙盒中使用的虚假 CC 号码显示在测试帐户设置中。

在此处查看第 22 页的上半部分：[https ://cms.paypal.com/cms_content/TR/tr_TR/files/developer/PP_Sandbox_UserGuide.pdf](https://cms.paypal.com/cms_content/TR/tr_TR/files/developer/PP_Sandbox_UserGuide.pdf)

![来自我的沙盒的屏幕截图](../Images/0d3635f873996c0b481549c6389c73c2.png)

# git - 如何访问已删除然后在 git 中恢复的文件的历史记录？

> ID：14951369
> 
> 赞同：2
> 
> 时间：2013-02-19T06:43:23.870
> 
> 标签：git

我使用: 恢复了一个已删除的文件`git checkout some_commit deleted_file`，然后我尝试了`git blame`它，但它的所有历史都丢失了。我怎样才能保留历史记录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:52:01.250

试试这个：

```
git blame --reverse some_commit..HEAD  -- deleted_file 
```

# .htaccess - 如何为具有特定字符的 URL 制定 htaccess 规则？

> ID：14951372
> 
> 赞同：1
> 
> 时间：2013-02-19T06:44:01.157
> 
> 标签：.htaccess, redirect

我需要通过 301 将所有`?print=yes`URL 重定向到其中不`?print=yes`包含相同名称的 URL `.htaccess`。目前该按钮`PRINT`出现在网站的标题中，因此需要修复 70 多个 URL... 删除`PRINT`页面的按钮会严重破坏设计，因此这不是一个真正的选择。

我认为这需要成为一个`RedirectMatch`规则，但我该怎么写呢？

**例子：** `redirect 301 from domain.com/faq/?print=yes to domain.com/faq`

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:45:14.860

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteCond %{QUERY_STRING} ^print=yes$ [NC]
RewriteRule ^ %{REQUEST_URI}? [R=301,L,NE] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:00:34.480

我不确定重定向是否可以做同样的事情，但这是我将如何使用重写

```
Options +FollowSymlinks
RewriteEngine on
RewriteRule ^(.*)\?print=yes$ $1 [NC] 
```

# ubuntu - 在路径上找不到类“Foo”：DexPathList

> ID：14951374
> 
> 赞同：2
> 
> 时间：2013-02-19T06:44:14.870
> 
> 标签：ubuntu, x86, dalvik

我想按照本指南在 Ubuntu x64 上构建和运行 Dalvik VM `PATH/TO/AOSP/dalvik/docs/hello-world.html`：.

我的代码分支和主机是这样的：

```
============================================
PLATFORM_VERSION_CODENAME=AOSP
PLATFORM_VERSION=4.2.1.2.4.8.16.32.64
TARGET_PRODUCT=full_x86
TARGET_BUILD_VARIANT=eng
TARGET_BUILD_TYPE=release
TARGET_BUILD_APPS=
TARGET_ARCH=x86
TARGET_ARCH_VARIANT=x86
HOST_ARCH=x86
HOST_OS=linux
HOST_OS_EXTRA=Linux-3.0.0-28-generic-x86_64-with-Ubuntu-11.10-oneiric
HOST_BUILD_TYPE=release
BUILD_ID=OPENMASTER
OUT_DIR=out
============================================ 
```

首先，我在 Ubuntu 上构建 Dalvik：

```
source build/envsetup.sh
lunch 2[full_x86-eng]
make dalvikvm core dexopt ext framework android.policy services 
```

然后我编译Java代码并打包它。

之后我像这样运行它，但它失败了：

```
guohai@KNIGHT:~/dev/src/android/git/aosp$ ./rund -cp Foo.jar Foo 
```

任何机构都可以提供一些线索吗？

日志如下：

```
I/dalvikvm(10102): DexOpt: mismatch dep name: '/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/core.odex' vs. '/system/framework/core.odex'
E/dalvikvm(10102): /home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/ext.jar odex has stale dependencies
I/dalvikvm(10102): Zip is good, but no classes.dex inside, and no valid .odex file in the same directory
I/dalvikvm(10102): DexOpt: mismatch dep name: '/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/core.odex' vs. '/system/framework/core.odex'
E/dalvikvm(10102): /home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/framework.jar odex has stale dependencies
I/dalvikvm(10102): Zip is good, but no classes.dex inside, and no valid .odex file in the same directory
I/dalvikvm(10102): DexOpt: mismatch dep name: '/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/core.odex' vs. '/system/framework/core.odex'
E/dalvikvm(10102): /home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/android.policy.jar odex has stale dependencies
I/dalvikvm(10102): Zip is good, but no classes.dex inside, and no valid .odex file in the same directory
I/dalvikvm(10102): DexOpt: mismatch dep name: '/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/core.odex' vs. '/system/framework/core.odex'
E/dalvikvm(10102): /home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/framework/services.jar odex has stale dependencies
I/dalvikvm(10102): Zip is good, but no classes.dex inside, and no valid .odex file in the same directory
E/dalvikvm(10105): execv '/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/bin/dexopt' failed: No such file or directory
W/dalvikvm(10102): DexOpt: --- END 'Foo.jar' --- status=0x0100, process failed
E/dalvikvm(10102): Unable to extract+optimize DEX from 'Foo.jar'
Dalvik VM unable to locate class 'Foo'
W/dalvikvm(10102): threadid=1: thread exiting with uncaught exception (group=0xf5a1d9c8)
java.lang.NoClassDefFoundError: Foo
    at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.ClassNotFoundException: Didn't find class "Foo" on path: DexPathList[[zip file "Foo.jar"],nativeLibraryDirectories=[/home/guohai/dev/src/android/git/aosp/out/target/product/generic_x86/system/lib]]
    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:53)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
    ... 1 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T13:45:07.413

在我更改`ANDROID_ROOT`我的启动脚本后，它就可以工作了。我的解决方法如下：

```
#!/bin/sh

# base directory, at top of source tree; replace with absolute path
base=`pwd`

# configure root dir of interesting stuff
root=$base/out/host/linux-x86
export ANDROID_ROOT=$root

# configure bootclasspath
bootpath=$base/out/target/product/generic_x86/system/framework
export BOOTCLASSPATH=$bootpath/core.jar:$bootpath/ext.jar:$bootpath/framework.jar:$bootpath/android.policy.jar:$bootpath/services.jar

export LD_LIBRARY_PATH=$bootpath/lib:$LD_LIBRARY_PATH

# this is where we create the dalvik-cache directory; make sure it exists
export ANDROID_DATA=/tmp/dalvik_$USER
mkdir -p $ANDROID_DATA/dalvik-cache

exec $root/bin/dalvikvm -Xdexopt:none $@ 
```

# joomla - Joomla 文章：以标准模式编辑

> ID：14951376
> 
> 赞同：0
> 
> 时间：2013-02-19T06:44:31.677
> 
> 标签：joomla, joomla1.5

我正在使用 joomla 1.5。我想在文章中添加一些 youtube 链接，所以我切换到无编辑器模式并进行了对我有用的更改。当我回到 TinyMCE 时，它仍然以 HTML 模式显示文章中所有文章的文章manager.how 我如何切换回之前的无 Html 简单文本编辑模式？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:40:42.087

我建议你升级你的 joomla 版本，因为 joomla 1.5 没有支持和安全更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:13:23.453

问题已解决：我从插件管理器中禁用了 No Editor。现在它切换到默认编辑器

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T12:59:01.053

下载组件 JCE Editor 。安装它并使其成为默认值，它应该可以解决您的问题，它比 tynyMce 好得多

[http://www.joomlacontenteditor.net/downloads/editor/joomla15x](http://www.joomlacontenteditor.net/downloads/editor/joomla15x)

# java - 使用 Apache POI 删除 Excel 工作表

> ID：14951378
> 
> 赞同：16
> 
> 时间：2013-02-19T06:44:43.647
> 
> 标签：java, apache-poi, poi-hssf

我必须从 Excel 文件中删除一张工作表。

这是我的代码片段：

```
FileInputStream fileStream = new FileInputStream(destFile);
POIFSFileSystem fsPoi = new POIFSFileSystem(fileStream);

HSSFWorkbook workbook = new HSSFWorkbook(fsPoi);

int index = 0;

HSSFSheet sheet = workbook.getSheet("Setup");
if(sheet != null)   {
    index = workbook.getSheetIndex(sheet);
    workbook.removeSheetAt(index);
}
return destFile; 
```

在此之后，我**得到了与我通过的完全相同的工作簿，而没有删除**“设置”表

帮我解决这个问题。任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-19T06:48:20.107

编辑工作簿后，您需要重新编写它。试试这个：-

```
FileOutputStream output = new FileOutputStream(destFile);
workbook.write(output);
output.close(); 
```

**编辑**：- 写回后，您可以返回您的`destFile`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-10-10T17:48:57.530

```
private void removeOtherSheets(String sheetName, XSSFWorkbook book) {       
        for(int i=book.getNumberOfSheets()-1;i>=0;i--){
            XSSFSheet tmpSheet =book.getSheetAt(i);
            if(!tmpSheet.getSheetName().equals(sheetName)){
                book.removeSheetAt(i);
            }
        }       
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-04-25T08:26:13.157

使用 Apache POI 删除工作表

```
//Open file
  FileInputStream inputStream = new FileInputStream(new File(filePath));
  XSSFWorkbook workBook = new XSSFWorkbook(inputStream);

//Delete Sheet
  workBook.removeSheetAt(resultWorkbook.getSheetIndex("SheetToBeDeleted"));

//Save the file
  FileOutputStream outFile =new FileOutputStream(new File(filePath));
  workBook.write(filePath);
  outFile.close(); 
```

# silverlight - 将右键单击事件连接到 Silverlight 中的所有文本框

> ID：14951380
> 
> 赞同：0
> 
> 时间：2013-02-19T06:44:46.940
> 
> 标签：silverlight, textbox, event-handling, mouseevent

无论如何都可以将右键单击事件添加到silverlight中的所有文本框控件，而无需手动将其添加到整个项目中的每个控件？

这样做：

```
<TextBox x:Name="txtName" MouseRightButtonUp="txtName_MouseRightButtonUp" 
    MouseRightButtonDown="txtName_MouseRightButtonDown" /></TextBox> 
```

然后将 .cs 中的事件修复大约 50+（希望它只是 50+）文本框可能需要一段时间。

如果没有，那么最简单的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:05:54.980

我对[这个问题](https://stackoverflow.com/questions/14928993/silverlight-modify-canvas-zindex-of-button-on-mouseover-focused-state-from-s/14931401#14931401)的回答也是对你问题的回答。

简而言之，从 TextBox 派生一个类型可能是最简单的，将 MouseRightButtonDown 事件处理程序放在那里，并用您的类型替换所有现有的 textBox 实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:06:49.177

您可以扩展您的文本框

```
class SimpleTextBox
{
    public SimpleTextBox()
    {
        DefaultStyleKey = typeof (SimpleCombo);
        MouseRightButtonDown += OnMouseRightButtonDown;
    }

    private void OnMouseRightButtonDown(object sender, MouseButtonEventArgs   
mouseButtonEventArgs)
    {
        //TODO something
    }
} 
```

==========

并使用此控件。或者作为替代解决方案 - 您可以创建行为：

CS：...使用 System.Windows.Interactivity；

```
public class TextBoxBehavior : Behavior<TextBox>
{
    protected override void OnAttached()
    {
        base.OnAttached();
        AssociatedObject.MouseRightButtonDown += AssociatedObject_MouseRightButtonDown;
    }

    protected override void  OnDetaching()
    {
         base.OnDetaching();
         AssociatedObject.MouseRightButtonDown -= AssociatedObject_MouseRightButtonDown;         
    }

    private void OnMouseRightButtonDown(object sender, MouseButtonEventArgs mouseButtonEventArgs)
    {
        e.Handled = true;
        // DO SOMETHING
    }
} 
```

XAML：

```
xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"

<TextBox ...>
    <i:Interaction.Behaviors>
        <local:TextBoxBehavior />
    </i:Interaction.Behaviors>
</TextBox> 
```

并将此处理程序附加到您的 TextBox 常规样式。

# c# - 如何在 C# 中使用 GridView 创建时间表？

> ID：14951388
> 
> 赞同：1
> 
> 时间：2013-02-19T06:45:37.430
> 
> 标签：c#, asp.net

我正在寻找用 C# 制作时间表。请查看此图像 URL。

[http://oi45.tinypic.com/25knc79.jpg](http://oi45.tinypic.com/25knc79.jpg)

时间表应根据用户给定的输入动态生成。

用户应输入两个输入值，第一个，“在哪个时段之后的午餐”和“一天中的时段数”。

如果在此之后的午餐时间值为 2，则“休息”应出现在第二列之后。

期间编号决定时间表的列编号。

根据用户的输入，应生成时间表。请让我知道，如何以及如何做到这一点？

请指导我进一步进行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:34:28.960

如果我是你，我更喜欢为此使用 jquery 时间表，或者如果它是特定的，我会创建自己的 html 表。检查链接。 [http://www.triballabs.net/2012/09/jquery-html-timetable-layout/](http://www.triballabs.net/2012/09/jquery-html-timetable-layout/)
[http://zarjay.net/2010/03/09/using-jquery-to-make-a-simple-scheduler- app/](http://zarjay.net/2010/03/09/using-jquery-to-make-a-simple-scheduler-app/)
[http://www.jeasyui.com/tutorial/dd/dnd3.php](http://www.jeasyui.com/tutorial/dd/dnd3.php)

# excel - 如何使用 vba 在 powerpoint 2010 中更新嵌入的 excel 链接

> ID：14951389
> 
> 赞同：4
> 
> 时间：2013-02-19T06:45:37.423
> 
> 标签：powerpoint, excel, hyperlink, powerpoint, vba

我的问题是我已将图表粘贴到[powerpoint](/questions/tagged/powerpoint "显示标记为“powerpoint”的问题")中，我正在尝试通过 Excel-VBA 更新嵌入的链接。

我尝试了以下代码但失败了：

**代码 1**

```
 AppPPT.Presentations.Open "D:\Demo.pptx", Untitled:=msoTrue
    AppPPT.ActivePresentation.UpdateLinks
    AppPPT.ActivePresentation.SaveAs "D:\Demo.pptx" 
```

**代码 2**

```
 For i = 1 To AppPPT.ActivePresentation.Slides.Count
    For s = 1 To AppPPT.ActivePresentation.Slides(i).Shapes.Count
        If AppPPT.ActivePresentation.Slides(i).Shapes(s).Type = msoLinkedOLEObject Then
            AppPPT.ActivePresentation.Slides(i).Shapes(s).LinkFormat.Update
        End If
    Next s
Next i 
```

**代码 3**

```
 Set PPTTemplate = AppPPT.Presentations.Open("D:\Demo.pptx")

    ' update chart
    Dim osld As Slide
    Dim oshp As PowerPoint.Shape

    For Each osld In PPTTemplate.Slides
    For Each oshp In osld.Shapes
    With oshp
    If .HasChart Then
    .Chart.ChartData.Activate
    .Chart.ChartData.Workbook.Close
    .Chart.Refresh
    End If
    End With
    Next oshp
    Next osld

    AppPPT.Activate 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-27T10:07:07.243

我通过花了几天时间尝试实现了它

```
AppPPT.ActivePresentation.Slides(1).Shapes("Chart 75").LinkFormat.Update 
```

和断线代码

```
AppPPT.ActivePresentation.Slides(1).Shapes("Chart 75").LinkFormat.BreakLink 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-10-13T20:51:33.313

谢谢！一旦我能够识别对象/图表#，它就起作用了。（单击一个对象，在绘图工具、排列、选择窗格下。）这是我的代码。现在我可以运行它，它会立即更新我的所有链接。我不想将其设置为自动更新，因为当我将其发送出去时，收件人会收到一条关于链接的警告消息，这令人困惑。再次感谢。

```
Sub update()

ActivePresentation.Slides(1).Shapes("Object 1").LinkFormat.update
ActivePresentation.Slides(1).Shapes("Object 2").LinkFormat.update

ActivePresentation.Slides(4).Shapes("Chart 5").LinkFormat.update

ActivePresentation.Slides(5).Shapes("Object 2").LinkFormat.update
ActivePresentation.Slides(5).Shapes("Chart 5").LinkFormat.update

ActivePresentation.Slides(6).Shapes("Object 1").LinkFormat.update
ActivePresentation.Slides(6).Shapes("Chart 4").LinkFormat.update
ActivePresentation.Slides(6).Shapes("Chart 6").LinkFormat.update

ActivePresentation.Slides(7).Shapes("Object 1").LinkFormat.update
ActivePresentation.Slides(7).Shapes("Chart 4").LinkFormat.update
ActivePresentation.Slides(7).Shapes("Chart 5").LinkFormat.update

ActivePresentation.Slides(8).Shapes("Object 3").LinkFormat.update

ActivePresentation.Slides(9).Shapes("Chart 4").LinkFormat.update

ActivePresentation.Slides(10).Shapes("Object 1").LinkFormat.update

ActivePresentation.Slides(11).Shapes("Object 6").LinkFormat.update
ActivePresentation.Slides(11).Shapes("Object 7").LinkFormat.update
ActivePresentation.Slides(11).Shapes("Object 8").LinkFormat.update

End Sub 
```

# java - 检测截图？

> ID：14951390
> 
> 赞同：3
> 
> 时间：2013-02-19T06:45:42.613
> 
> 标签：java, android, screenshot

当用户截取他的 android 设备的屏幕截图时，我有什么方法可以在我的服务中检测到？

基本思想是每当用户对其设备进行截图时，都会显示一个弹出窗口，要求用户将图像上传到 facebook、twitter 等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T06:59:47.987

This is untested, but you may want to try the FileObserver class.

Point it at the screenshots folder and wait for a CREATE event.

[https://developer.android.com/reference/android/os/FileObserver.html](https://developer.android.com/reference/android/os/FileObserver.html)

# java - Android - 圆阵列显示

> ID：14951391
> 
> 赞同：0
> 
> 时间：2013-02-19T06:45:51.977
> 
> 标签：java, android, arrays, algorithm

我有一系列城市 -

```
String[] cities = { "Riyadh", "Jubail", "Jeddah", "Madinah",
        "Tabuk","Bangalore","Chennai","Pune" }; 
```

我将它们显示在具有**三个文本视图**（*固定*）的列表中。
这意味着我们将一次显示三个城市。
这是显示城市的方法。

```
void setUpCityList(int iCity) {
    tvOneCity.setText(cities[iCity]);
    tvTwoCity.setText(cities[iCity + 1]);
    tvThreeCity.setText(cities[iCity + 2]);
} 
```

当用户向上滑动时，我正在**增加**索引并且用户向下滑动我正在**减少**索引。

```
void swipeUp()
{
    iCity++;
    setUpCityList(iCity);
}

void swipeDown()
{
    iCity--;
    setUpCityList(iCity);
} 
```

我想给这个列表一个无尽的滚动功能。
这意味着如果用户向上滑动 - 并且列表到达最后三个元素，它应该再次从第一个元素开始。

示例 -
1\. 当前显示 - 最后三个元素 - **"Bangalore","Chennai","Pune"**
2\. 向上滑动 -- 显示应该是 - **Chennai , Pune , Riyadh**

我怎样才能实现这个功能。
这更像是一个编程问题。
任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T06:55:07.203

您只需要更改方法中的索引：

```
void setUpCityList(int iCity) {
    int length = cities.length;   

    tvOneCity.setText(cities[iCity % length]);
    tvTwoCity.setText(cities[(iCity + 1) % length]);
    tvThreeCity.setText(cities[(iCity + 2) % length]);
} 
```

一旦`iCity`or`iCity + 1`等​​达到`length`，实际索引将自动变为`0`。对于小于长度的值，它会正常运行，就好像没有`modulus`运算符一样。

通过这种方式，您可以创建一个包含尽可能多的项目的循环。因此，这是一个通用且可扩展的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:53:50.793

```
void swipeUp()
{   if(iCity == cities.length()){
        iCity = 0;
        setUpCityList(iCity++);

    }
    else{
        iCity++;
        setUpCityList(iCity);
    }
} 
```

尝试这样的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T06:59:14.510

你可以试试这个：

```
void swipeUp()
{
iCity++;
if ( iCity > urMaxlength){
   iCity =0;
}
setUpCityList(iCity);
}

void swipeDown()
{
iCity--;
if ( iCity < urMinlength){
   iCity =urMaxlength;
}
setUpCityList(iCity);
} 
```

# d3.js - 将超链接添加到可折叠树上的节点文本

> ID：14951392
> 
> 赞同：10
> 
> 时间：2013-02-19T06:46:05.633
> 
> 标签：d3.js

我想在[可折叠树示例](http://bl.ocks.org/mbostock/4339083)中的节点文本上添加超链接。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T12:33:50.907

我是一个 Javascript/svg/d3js 菜鸟，但我通过在文本上放置一个超链接的透明矩形来“解决”这个问题，这个解决方法可以作为[bl.ock](http://bl.ocks.org/serra/5012770)使用：

```
nodeEnter
  .append("a")
     .attr("xlink:href", function (d) { return "http://www.example.com/flare/" + d.id; })
  .append("rect")
      .attr("class", "clickable")
      .attr("y", -6)
      .attr("x", function (d) { return d.children || d._children ? -60 : 10; })
      .attr("width", 50) //2*4.5)
      .attr("height", 12)
      .style("fill", "lightsteelblue")
      .style("fill-opacity", .3)        // set to 1e-6 to make transparent          
      ; 
```

我添加了一个额外的[`clickable`样式](https://gist.github.com/serra/5012770#file-index-html-L5)并[添加`.on("click", click)`到圆圈](https://gist.github.com/serra/5012770#file-index-html-L91)而不是 group ( `g`) 元素。

这可行，但缺点是可点击矩形的大小与标签文本的大小不符。

我真的很期待更好的解决方案，所以+1为您的问题！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-05-21T14:45:36.493

如果您删除全局节点上的点击处理程序并附加 2 个不同的点击处理程序：

*   一个为圈子
*   一个用于文本

单击文本时，您可以有不同的行为。如果您对该元素进行一些样式设置，它可以看起来完全像一个超链接。

在这里查看我的小提琴：http: [//jsfiddle.net/empie/EX83X/](http://jsfiddle.net/empie/EX83X/)

单击处理程序

```
var nodeEnter = node.enter().append("g")
          .attr("class", "node")
          .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; });

      nodeEnter.append("circle")
          .attr("r", 1e-6)
          .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; }).on("click", click);;

      nodeEnter.append("text")
          .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
          .attr("dy", ".35em")
          .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
          .text(function(d) { return d.name; })
          .style("fill-opacity", 1e-6)
      .attr("class", "hyper").on("click", clack);

    function clack(d) {
        alert(d.name);
    } 
```

和 CSS：

```
.hyper {
    color: blue;
    text-decoration: underline;
}

.hyper:hover {
    color: yellow;
    text-decoration: none;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-30T23:49:33.300

我向节点添加了另一行文本，其中包含有关链接的一些信息，如下所示：

```
nodeEnter.append("a")
    .attr("xlink:href", function(d) { return d.path; })
    .append("text")
    .attr("class", "clickable")
    .attr("y", 16)
    .attr("x", function (d) { return d.children || d._children ? -10 : 10; })
    .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
    .text(function(d) { return d.label; }) 
```

其中 path 和 label 具有每个节点所需的数据。

# java - java.lang.NoClassDefFoundError：无法初始化类 org.com.hibernate.HibernateUtil

> ID：14951395
> 
> 赞同：1
> 
> 时间：2013-02-19T06:46:10.700
> 
> 标签：java, hibernate

这是我的休眠实用程序代码

```
public class HibernateUtil {

private static final SessionFactory sessionFactory = buildSessionFactory();

private static SessionFactory buildSessionFactory() {
    try {
        // Create the SessionFactory from hibernate.cfg.xml
        return new AnnotationConfiguration().configure().buildSessionFactory();
    } catch (Throwable ex) {
        System.err.println("Initial SessionFactory creation failed." + ex);
        throw new ExceptionInInitializerError(ex);
    }
}

public static SessionFactory getSessionFactory() {
    return sessionFactory;
}
} 
```

这是我的 hibernate.cfg.xml

```
<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
    "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<hibernate-configuration>

<session-factory>

    <!-- Database connection settings -->
    <property name="connection.driver_class">
        oracle.jdbc.OracleDriver
    </property>
    <property name="connection.url">
        jdbc:oracle:thin:@127.0.0.1:ABC
    </property>
    <property name="connection.username">abc</property>
    <property name="connection.password">***</property>

    <!-- JDBC connection pool (use the built-in) -->
    <property name="connection.pool_size">3</property>

    <!-- SQL dialect -->
    <property name="dialect">
        org.hibernate.dialect.Oracle10gDialect
    </property>

    <!-- Enable Hibernate's automatic session context management -->
    <property name="current_session_context_class">thread</property>

    <!-- Disable the second-level cache -->
    <property name="cache.provider_class">
        org.hibernate.cache.NoCacheProvider
    </property>

    <!-- Echo all executed SQL to stdout -->
    <property name="show_sql">true</property>

    <!-- Drop and re-create the database schema on startup -->
    <property name="hbm2ddl.auto">update</property>

    <mapping class="org.com.tables.User_Details" />
</session-factory>

</hibernate-configuration> 
```

这就是错误

```
java.lang.NoClassDefFoundError: Could not initialize class org.com.hibernate.HibernateUtil
at org.com.graphDoa.GraphDOA.salaryData(GraphDOA.java:14)
at org.com.charts.LineChart.generateSalaryPai(LineChart.java:32)
at com.kogent.action.TestAction.execute(TestAction.java:17)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:399)
at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:262)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:224)
at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:507)
at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:421)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:563)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:403)
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:301)
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:162)
at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
at java.lang.Thread.run(Thread.java:619) 
```

任何人都可以帮我找出这个错误是什么，我什么都没有。如果这与库或任何其他事情有关，请提出建议。我将 struts 2 用于 mvc，将 hibernate 3 用于数据库连接和tomcat 7 作为网络服务器。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T12:09:46.887

您可以在以下位置下载与休眠相关的 jar

[http://sourceforge.net/projects/hibernate/files/hibernate3](http://sourceforge.net/projects/hibernate/files/hibernate3)

解压并检查以下文件是否添加到您的`lib`文件夹中

```
Anttr-2.7.6.jar
asm.jar
asm-attrs.jar
cglib-2.1.3.jar
commons-collections-2.1.1.jar
commons-logging-1.0.4.jar
ehcash.jar
dom4j-1.6.1.jar
hibernate3.jar    <--Check this version of your jar
jta.jar
log4j-1.2.3.jar 
```

运行休眠相关的编程和所有的 jars`hibernate3.jar`是主文件..

除了休眠 jars，您还必须包含一个与您使用的数据库类型（mysql、oracle 等）相关的 jar 文件。

在执行程序之前尝试使用正确版本的 jar...不支持运行某些版本的 jar...建议使用最新版本...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-12-04T19:50:59.893

如果有人在使用 Glassfish 服务器时遇到同样的问题，您必须执行以下操作，

1.  转到 Glassfish 安装路径并在路径下添加数据库的 jdbc 驱动程序`glassfish/domains/domain1/lib/`

2.  重新启动 Glassfish 服务器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T07:06:26.530

使用这个罐子:::

```
antlr-2.7.7
commons-collections-3.2.1
dom4j-1.6.1
hibernate-commons-annotations-4.0.1.Final
hibernate-core-4.1.9.Final
hibernate-entitymanager-4.1.9.Final
hibernate-jpa-2.0-api-1.0.1.Final
javassist-3.17.1-GA
jboss-transaction-api_1.1_spec-1.0.0.Final
jboss-logging-3.1.0.GA
sqljdbc4-2.0(as per your database used) 
```

发现自：

[http://sourceforge.net/projects/hibernate/files/latest/download?source=files](http://sourceforge.net/projects/hibernate/files/latest/download?source=files)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-18T08:07:01.500

**您尚未**在 HibernateUtil 类中提供包名称。如果未定义包，则**该类将属于默认包，并且您无法从 org.com.hibernate.HibernateUtil 获取 HibernateUtil 类**

# c# - 如何在 C# 中使用 between 过滤数据表

> ID：14951398
> 
> 赞同：6
> 
> 时间：2013-02-19T06:46:17.710
> 
> 标签：c#, filter, datatable

我正在使用带有 c# 的数据表，我想用 between.but 过滤数据表。但是当我运行我的代码时，抛出异常“表达式包含不支持的运算符 'Between'”

这是代码：

```
string str = "ITEM_ID BETWEEN  " + textEdit1.Text + " AND  " +    textCUS_COA_CODE.Text + " ";

DataTable dt = new DataTable();
dt = this.pAK_ASIADataSet.sp_STOCKS_report;

dt.DefaultView.RowFilter =str; 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T06:49:52.577

我还没有尝试过，但是使用`"ITEM_ID >= bla AND ITEM_ID <= bla2"`应该可以正常工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T06:49:55.160

查看 MSDN 论坛，似乎`BETWEEN`不是行过滤器支持的运算符：

[http://social.msdn.microsoft.com/Forums/en-US/adodotnetdataproviders/thread/1220e0f5-4bab-4b53-b8b6-a7a9e8420558/](http://social.msdn.microsoft.com/Forums/en-US/adodotnetdataproviders/thread/1220e0f5-4bab-4b53-b8b6-a7a9e8420558/)

你可以用 AND 代替：

```
ITEM_ID >= val_oneAND ITEM_ID <= val_two 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-19T06:51:36.563

You also can use *LINQ to DataTable*:

```
var result = dt.AsEnumerable()
  .Where(row => {
                    var itemId = row.Field<int>("ITEM_ID");
                    var value1 = int.Parse(textEdit1.Text);
                    var value2 = int.Parse(textCUS_COA_CODE.Text);

                    return itemId >= value1 && itemId <= value2;
                }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T06:52:44.260

您不能将 between 关键字与 datatable RowFilter 表达式一起使用，您可以使用 <= 和 >= 运算符代替 between 关键字，如下所示：

```
string str = "ITEM_ID <=" + textEdit1.Text + " AND  ITEM_ID>=" +    textCUS_COA_CODE.Text + " ";

DataTable dt = new DataTable();
dt = this.pAK_ASIADataSet.sp_STOCKS_report;

dt.DefaultView.RowFilter =str; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-19T06:53:12.183

只需使用另一个过滤器表达式即可：

```
String str = String.Format("ITEM_ID >= {0} AND ITEM_ID <= {0}", textEdit1.Text);

DataTable dt = new DataTable();
dt = this.pAK_ASIADataSet.sp_STOCKS_report;

dt.DefaultView.RowFilter =str; 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-19T06:50:43.477

Try this:

```
var rows = dt.Select(String.Format("ITEM_ID >= {0} AND ITEM_ID <= {1}", textEdit1.Text, textCUS_COA_CODE.Text)) 
```

# mysql - 将 CSV 文件转换为 Mysql (.sql) 数据库文件？

> ID：14951400
> 
> 赞同：7
> 
> 时间：2013-02-19T06:46:24.250
> 
> 标签：mysql, sql, phpmyadmin

我正在使用：WampServer 2.2，Apache 版本：2.2.21，PHP 版本：5.3.8，MySQL 版本：5.5.16，PhpMyadmin 版本：3.4.5...

我遇到导入 CSV 文件的问题-（大小 13MB*），错误文件太大... phpMyadmin 只允许 2MB 文件大小...

所以用 1.83MB 文件大小分隔文件......然后它也不起作用？？？

还告诉我，如何通过 CSV 文件自动创建表格...？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-19T07:02:05.600

为什么不尝试使用 MySQL 控制台导入文件？
我想，这样你不会遇到任何问题。您不需要将文件拆分成块。只需注意语法。

```
load data infile 'c:/filename.csv' into table tablename fields terminated by ','; 
```

有关语法的详细信息，请参阅官方文档中的[Load Data Infile](http://dev.mysql.com/doc/refman/5.1/en/load-data.html)。
例如，参考[this](http://www.tech-recipes.com/rx/2345/import_csv_file_directly_into_mysql/)和[this](http://jameshd.wordpress.com/2010/04/08/mysql-load-data-infile-examples/)。

希望能帮助到你！！！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-10T06:19:22.383

`LOAD DATA INFILE 'your.csv' INTO TABLE android_dev FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\n' IGNORE 1 ROWS;`

将 csv 文件包含在您的数据库文件夹中，即`<root>\mysql\data\DATABASE_NAME`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-01-15T20:39:09.373

> 如何通过 CSV 文件自动创建表格...？

我写了一个 csv2mysql 命令。它扫描整个 CSV 文件以确定适当的列类型并输出 CREATE TABLE 语句和（可选）数据的 INSERT INTO 语句。

它位于 [https://github.com/artfulrobot/csv2mysql](https://github.com/artfulrobot/csv2mysql) （您可以只下载`bin/csv2mysql`可执行文件（Linux），或者如果您下载源代码并运行，则可以运行主 csv2mysql.php 文件`composer install`）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-02-19T08:33:40.070

我建议你看看[Data Transformer](https://geosystemsdev.com/products/data-transformer/)（免责声明 - 我是它的开发者）。它可以将 CSV/JSON/XML 转换为 SQL。生成的 SQL 包含每行的“插入”语句和“创建表”语句。

该应用程序离线工作，您的数据永远不会离开您的计算机。

您可以从[Mac App Store](https://apps.apple.com/us/app/data-transformer/id1490843070)或[Microsoft Store](https://www.microsoft.com/en-au/p/data-transformer/9p2xp6nt2pv2)获取它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-08-26T12:49:33.193

您可以使用[sqlizer.io](http://sqlizer.io)轻松完成此操作。这是一个屏幕截图：

[![sqlizer.io 截图](../Images/2658bb944c4e2d81ee9af2d1e72a6999.png)](http://sqlizer.io)

只需为文件类型选择“逗号分隔值”并上传您的文件。它将分析数据并生成包含适当的 CREATE TABLE 语句和大量 INSERT 语句的 SQL 脚本。

（免责声明：我帮助运行 SQLizer）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-04-12T08:02:59.347

使用[https://csvtosql.com](https://csvtosql.com)在线 CSV 到 SQL 转换器工具。粘贴 CSV 行并将它们转换为 SQL 查询。然后您可以将它们保存在 SQL 文件中或直接在 phpmyadmin 的 SQL 控制台上运行它们

[截屏](https://i.stack.imgur.com/qcPfn.png)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-05-09T07:10:39.643

我经常使用的最佳选项之一是 rebasedata，它们的免费计划允许大约 200 MB（CSV 到 MySQL，我测试过）。

在这里结帐[https://www.rebasedata.com/convert-csv-to-mysql-online](https://www.rebasedata.com/convert-csv-to-mysql-online)

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-03-18T06:13:40.563

转到 ..\xampp\php\php.ini

并更改以下...

```
 php_value upload_max_filesize xxxxM //file size
    php_value post_max_size xxxxM
    php_value max_execution_time xxxx
    php_value max_input_time xxxx 
```

把 xxxx 你的期望值 1M = 1mb

更改后，您最常重新启动服务器...

# r - 如何在 kcca 方法中获取集群成员身份作为数据？

> ID：14951402
> 
> 赞同：3
> 
> 时间：2013-02-19T06:46:31.997
> 
> 标签：r, cluster-analysis

我`kcca`用来拟合 k 中值聚类。我使用了以下语法：

```
kcca.out1_1 <- kcca(clusterdata1_1, k=5, family=kccaFamily("kmedians"), save.data=TRUE) 
```

现在我希望集群成员作为数据框或向量，以便我可以在我的数据集中使用它们来进行进一步的数据分析。

任何形式的帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T07:42:55.247

试试这个`clusters`功能：

```
clusters(kcca.out1_1) 
```

* * *

从帮助页面：

```
## S4 method for signature 'flexclust, ANY':
clusters(object, newdata, ...) 
```

`clusters`可用于任何类对象`flexclust`并返回训练数据的集群成员。

```
## S4 method for signature 'kccasimple':
predict(object, newdata, ...) 
```

`predict`只能用于类的对象`kcca`（继承自`flexclust`）。如果未`newdata`指定参数，则函数与 相同`clusters`，如果`newdata`指定，则预测新数据的集群成员资格。`clusters(object, newdata, ...)`是 的别名`predict(object, newdata, ...)`。

# java - 从字符串中提取域

> ID：14951408
> 
> 赞同：0
> 
> 时间：2013-02-19T06:47:13.957
> 
> 标签：java, dns, extract

从字符串中提取域名的最佳方法是什么？

例如。`xyz.com/path1/path2/path3/somefile.txt`

由于没有协议，无法使用`java.net.URL`.

我能想到的唯一选择是阅读到第一个正斜杠。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T06:53:52.487

您可以简单`http://`地为该字符串添加前缀并构造一个对象并使用该方法`URL`提取主机名。`getHost()`

```
String urlString = "xyz.com/path1/path2/path3/somefile.txt";
URL url = new URL("https://" + urlString);
System.out.println(url.getHost()); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T06:56:27.550

假设永远不会有 http:// 来添加额外的斜杠，你可以这样做：

```
String domain = urlString.substring(0, urlString.indexOf("/")); 
```

这将为您提供一个直到第一个斜杠的子字符串。

编辑：正如所指出的，如果没有斜杠，这将失败。你可以像这样解决这个问题：

```
int index = urlString.indexOf("/");
if(index >= 0) String domain = urlString.substring(0, index); 
```

但是，如果您的输入中可能没有斜线，那么您最好使用 Quoi 的解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T06:57:03.867

您可以使用`String#split`regx - ' `/`'

```
String[] split = str.split("/");
System.out.println(split[0]); 
```

# c - 使用 gdb 跟踪程序

> ID：14951410
> 
> 赞同：2
> 
> 时间：2013-02-19T06:47:16.847
> 
> 标签：c, linux, gdb

```
int main(int ac, char *av[])
{
  printf("%d");
  return 0;
} 
```

我知道这会打印垃圾，但是如何使用 gdb 跟踪程序来检查垃圾值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:06:10.597

您可以使用断点`printf`并检查堆栈`$esp`

`gdb`不知道垃圾值；但`printf`在您的情况下，碰巧`va_args`从堆栈中检索（使用）一些“未定义”（实际上是“未初始化”，即包含一些以前的垃圾）值。

# function - 如何从子进程调用标准输出上的函数？

> ID：14951416
> 
> 赞同：0
> 
> 时间：2013-02-19T06:47:40.910
> 
> 标签：function, process, call

我有一个子进程调用从标准输入和输出到标准输出的单词的 cat 命令。如何在子进程被那个 cat 进程替换之前调用函数 removeDups()？

fyi removeDups() 将捕获管道单词，删除任何重复项，记录频率，并将单词列表发送回子进程以打印到屏幕或直接打印到屏幕。这是一个代码片段（更像是伪代码）：

```
int main(int argc,char **argv)
{
//...Child case(from fork() switch above):
case 0:
    execl("/bin/cat", "cat", (char *) NULL);
}

char[][] removeDups()
{
    char uniqueWords[MAX_WORDS][BUF_SIZE];
    char buf[BUF_SIZE];

    while (fscanf(stdin, "%s", buf) != EOF)
    {
        int k;
        for (k = 0; k < MAX; ++k)
        {
            if (strcmp(uniqueWords[k], buf) == 0)
            {
                found = 1;
                frequency[k]++;
            }
        }
        int l;
        if (found == 0)
        {
            strcpy(uniqueWords[l], buf);
            ++l;
        {
    }
    return uniqueWords;
} 
```

[编辑：我意识到最好不要使用 cat 命令。尽管如此，任何提示将不胜感激。谢谢]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T06:57:57.077

`gcc -Wall`你真的应该用;编译你的代码。你`removeDups`不能工作，因为它返回一个自动本地数组。

您需要了解有关`fork`,`execve`和[pipe(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/pipe.2.html)和[dup2(2)](http://www.kernel.org/doc/man-pages/online/pages/man2/dup2.2.html)系统调用的更多信息。也许[popen(3)](http://www.kernel.org/doc/man-pages/online/pages/man3/popen.3.html)对您也有用。

我强烈建议阅读一些好书，例如[Advanced Linux Programming](http://advancedlinuxprogramming.com/)，其中有一章介绍了这些内容。

# php - 笑脸助手代码点火器

> ID：14951422
> 
> 赞同：3
> 
> 时间：2013-02-19T06:47:54.630
> 
> 标签：php, javascript, codeigniter

我正在使用 codeigniter 笑脸助手，当我单击图像时，它仅在 textarea 中插入符号，而不是图像，我希望它在单击图像时显示图像。我在网上搜索并找到一些插件'TinyMCE' bt 我想使用 codeigniter 库。请帮帮我。

```
 <?php $this->load->library('table');

 $image_array = get_clickable_smileys(base_url().'img/smileys/', 'a');

 $col_array = $this->table->make_columns($image_array, 8);

$data1['smiley_table'] = $this->table->generate($col_array);?>  

<?php echo smiley_js(); ?>
<textarea id='a'></textarea><p>Click to insert a smiley!</p>

<?php echo $data1['smiley_table']; ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-04T05:50:28.160

**笑脸助手**

可以使用以下代码加载笑脸助手：

> $this->load->helper('笑脸');

控制器

在您的 application/controllers/ 文件夹中，创建一个名为 smileys.php 的文件并将下面的代码放入其中。

重要提示：更改下面 get_clickable_smileys() 函数中的 URL，使其指向您的笑脸文件夹。

```
<?php

class Smileys extends CI_Controller {

function __construct()
{
    parent::__construct();
}

function index()
{
    $this->load->helper('smiley');
    $this->load->library('table');

    $image_array = get_clickable_smileys('http://example.com/images/smileys/', 'comments');

    $col_array = $this->table->make_columns($image_array, 8);

    $data['smiley_table'] = $this->table->generate($col_array);

    $this->load->view('smiley_view', $data);
}

}

?> 
```

在您的 application/views/ 文件夹中，创建一个名为**smiley_view.php**的文件并将以下代码放入其中：

* * *

```
 <html>
<head>
<title>Smileys</title>

<?php echo smiley_js(); ?>

</head>
<body>

<form name="blog">
<textarea name="comments" id="comments" cols="40" rows="4"></textarea>
</form>

<p>Click to insert a smiley!</p>

<?php echo $smiley_table; ?>

</body>
</html> 
```

当您创建了上述控制器和视图后，通过访问[http://www.example.com/index.php/smileys/加载它](http://www.example.com/index.php/smileys/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:56:09.707

稍后，当您显示页面时，Smiley Helper 使用符号来表示图像，这就是它的工作原理。如果您想要文本区域内的实际图像，您最好查看 tinymce 或其他所见即所得。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-12T17:02:29.523

**parse_smileys()**

将一串文本作为输入，并将任何包含的纯文本笑脸替换为等效图像。第一个参数必须包含您的字符串，第二个参数必须包含您的笑脸文件夹的 URL：

更多细节： [https ://ellislab.com/codeigniter/user-guide/helpers/smiley_helper.html](https://ellislab.com/codeigniter/user-guide/helpers/smiley_helper.html)

# loading - 如何使用 LIBPNG 加载 Photoshop png？

> ID：14951423
> 
> 赞同：1
> 
> 时间：2013-02-19T06:47:55.907
> 
> 标签：loading, libpng

我在加载一些特定的 png 图像时遇到了一些问题。这里有一些有用的图片。

1.  图片 #1 www.silexars.com/image.png（无法正确加载）
2.  图片 #2 www.silexars.com/image2.png（加载良好）
3.  使用 OpenGL 渲染的图像 #1 的屏幕截图 [http://www.silexars.com/screenshot.jpg](http://www.silexars.com/screenshot.jpg)
4.  打开两个图像的 PNG 分析器的屏幕截图： [http](http://www.silexars.com/screenshot.png) ://www.silexars.com/screenshot.png Image #1 @ Left，Image #2 @ Right

我注意到左边的图像有一个叫做 cHRM 的块，我相信我必须以某种方式转换它。有人会帮我解决这个问题吗？

我用于加载 png 文件的代码是：

```
uint8 Graphics::Image::loadPNG(FILE *fp) {
uint8 header[8];
fread(header,sizeof(header),1,fp);
if (png_sig_cmp(header,0,sizeof(header))) return INVALID_FILE;
png_structp png;
png_infop info;

png = png_create_read_struct(PNG_LIBPNG_VER_STRING,0,0,0);
if (!png) return FAILURE;
info = png_create_info_struct(png);
if (!info) {
    png_destroy_read_struct(&png,0,0);
    return FAILURE;
}

png_init_io(png,fp);\
png_set_sig_bytes(png,sizeof(header));

png_read_info(png,info);

delete[] data;
data = 0;

int32 bitdepth,colortype;
png_get_IHDR(png,info,&width,&height,&bitdepth,&colortype,0,0,0);

if (colortype == PNG_COLOR_TYPE_PALETTE) {
    png_set_palette_to_rgb(png);
}
if (colortype == PNG_COLOR_TYPE_GRAY && bitdepth < 8) {
    png_set_expand_gray_1_2_4_to_8(png);
}
if (colortype == PNG_COLOR_TYPE_GRAY || colortype == PNG_COLOR_TYPE_GRAY_ALPHA) {
    png_set_gray_to_rgb(png);
}
if (png_get_valid(png, info, PNG_INFO_tRNS)) {
    png_set_tRNS_to_alpha(png);
}
if (colortype == PNG_COLOR_TYPE_RGB) {
    png_set_filler(png, 0xff, PNG_FILLER_AFTER);
}
if (bitdepth == 16) {
    png_set_strip_16(png);
}
if (bitdepth < 8)
    png_set_packing(png);

png_read_update_info(png,info);
png_get_IHDR(png,info,&width,&height,0,0,0,0,0);

int32 rowbytes = png_get_rowbytes(png,info);

std::cout << rowbytes/bpp << std::endl;

data = new uint8[rowbytes*height];
png_bytep *row_pointers = new png_bytep[height*sizeof(png_bytep)];
for (int i = 0; i < height; i++)
    row_pointers[height-1-i] = data + i * rowbytes;

png_read_image(png, row_pointers);

png_read_end(png,0);

delete[] row_pointers;
png_destroy_read_struct(&png,&info,0);
return OK;
} 
```

希望信息足够。但是，如果您需要任何额外的数据，请问我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T03:24:38.213

第一个图像中的 cHRM 块与 iCCP 块中包含的颜色配置文件不一致。最好忽略 cHRM 块。但是您的代码已经忽略了 cHRM 和 iCCP 块。您可以使用 png_set_keep_unknown_chunks() 完全忽略它们，以防其中一个导致您看到的麻烦（即使您的代码忽略它们，libpng 也会处理它们，除非您使用 png_set_keep_unknown_chunks() 告诉 libpng 永远不要处理它们）。

例如，由于您忽略了应用程序中的所有辅助块，因此告诉 libpng 甚至不要处理它们：

```
`
    #ifdef PNG_HANDLE_AS_UNKNOWN_SUPPORTED
    /* prepare the reader to ignore all recognized chunks whose data won't be
     * used, i.e., all chunks recognized by libpng except for IHDR, PLTE, IDAT,
     * IEND, tRNS, bKGD, gAMA, and sRGB (small performance improvement) */
    {
        /* These byte strings were copied from png.h.  If a future libpng
         * version recognizes more chunks, add them to this list.  If a
         * future version of readpng2.c recognizes more chunks, delete them
         * from this list. */
        static /* const */ png_byte chunks_to_ignore[] = {
             99,  72,  82,  77, '\0',  /* cHRM */
            104,  73,  83,  84, '\0',  /* hIST */
            105,  67,  67,  80, '\0',  /* iCCP */
            105,  84,  88, 116, '\0',  /* iTXt */
            111,  70,  70, 115, '\0',  /* oFFs */
            112,  67,  65,  76, '\0',  /* pCAL */
            112,  72,  89, 115, '\0',  /* pHYs */
            115,  66,  73,  84, '\0',  /* sBIT */
            115,  67,  65,  76, '\0',  /* sCAL */
            115,  80,  76,  84, '\0',  /* sPLT */
            115,  84,  69,  82, '\0',  /* sTER */
            116,  69,  88, 116, '\0',  /* tEXt */
            116,  73,  77,  69, '\0',  /* tIME */
            122,  84,  88, 116, '\0'   /* zTXt */
        };

        png_set_keep_unknown_chunks(png_ptr, 1 /* PNG_HANDLE_CHUNK_NEVER */,
          chunks_to_ignore, sizeof(chunks_to_ignore)/5);
    }
    #endif` 
```

从 libpng-1.6.0 开始，它要容易得多。您可以通过在调用中放置“-1”而不是列出要忽略的块来忽略除 tRNS 块之外的所有辅助块：

```
`
    png_set_keep_unknown_chunks(png,PNG_HANDLE_CHUNK_NEVER, -1, NULL, -1);` 
```

有关此示例，请参阅与 libpng 一起分发的“contrib/gregbook/readpng2.c”。

更新：cHRM 块不一定不一致。最新版本的 ImageMagick 报告它不一致，但这似乎是 ImageMagick 中的一个错误。尽管如此，最好使用 png_set_keep_unknown_chunks() 来避免对您不会使用的辅助块进行不必要的处理。

# asp.net - 将连接字符串保存在配置文件中有多安全

> ID：14951425
> 
> 赞同：2
> 
> 时间：2013-02-19T06:47:57.093
> 
> 标签：asp.net, web-config, connection-string

我见过很多人将他们的连接字符串保存在 web.config 文件中，而不是对其进行硬编码。但我发现它非常危险，尤其是在所有用户使用相同连接字符串的情况下。这意味着任何有权访问 Web 配置文件的人都可以轻松获取数据库的用户名和密码，并做各种严肃的事情。是否能够在不深入研究代码的情况下修改连接字符串值得这种权衡？将连接字符串保留在配置文件中还有其他好处吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T06:52:31.497

基于 Web.config 的连接字符串似乎是不安全的，因为可以读取它。但是想一想，如果一个人可以阅读您的 web.config，则意味着他无论如何都可以编辑您服务器上的任何文件，因为他可能已经破解或获得了对文件的访问权限。所以，其实也没什么大不了的。但是为了确保更多的安全性，您可以执行以下操作：

1.  加密您的连接字符串并将该加密字符串放入 Web.config 中，然后对其进行解密并读取 DLL 文件。

2.  创建一个 DLL 并将连接字符串放入该 DLL，稍后添加对该 DLL 的引用并使用连接字符串。

但是，使用 Web.config 将允许您根据需要更改连接字符串。就像我必须在 5 个不同的服务器上运行站点一样，出于开发、测试生产目的，所以我将不同的 web.config 放在各处，而不是一直更改代码。因此，根据您的需要以及服务器的配置方式，一种或其他方法总是好或坏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:52:13.093

您可以加密您的 web.config 密钥。阅读此处了解更多[加密 web.config](http://msdn.microsoft.com/en-us/library/dx0f3cf2%28v=vs.80%29.aspx)

```
aspnet_regiis -pe "connectionStrings" -app "/SampleApplication" 
```

[加密 web.config](http://chiragrdarji.wordpress.com/2008/08/11/how-to-encrypt-connection-string-in-webconfig/)

# elasticsearch - 在 ElasticSearch 中过滤结果

> ID：14951434
> 
> 赞同：0
> 
> 时间：2013-02-19T06:48:38.210
> 
> 标签：elasticsearch

我有一个 ElasticSearch 查询出现格式错误，只是不确定我做错了什么（毫无疑问非常明显！）

查询如下所示：

```
{ "query":
{ "filtered":
    { "query":
        { "field":
            { "product":"prodA or prodB" 
            } 
        }, 
        "filter":
            { 
                "userid":"username" 
            } 
    } 
}, 
"size":10, "from":0 
} 
```

如果我省略了过滤器部分，查询就可以正常工作，所以它一定与我使用过滤器选项的方式有关。

```
{ "query":
{ "filtered":
    { "query":
        { "field":
            { "product":"prodA or prodB" 
            } 
        }

    } 
}, 
"size":10, "from":0 
} 
```

我需要如何格式化此查询以使其工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T09:20:09.293

您需要指定要使用的过滤器类型，就像您在选择过滤器时对查询所做的那样。[词条过滤器](http://www.elasticsearch.org/guide/reference/query-dsl/term-filter.html)？

```
{ 
    "query": { 
        "filtered": { 
            "query": { 
                "field":{ 
                    "product":"prodA or prodB" 
                } 
            }, 
            "filter": {
                "term" : { 
                    "userid":"username" 
                }                           
            } 
        } 
    }, 
    "size":10, 
    "from":0 
} 
```

# c# - WPF 自定义控件构造、触发器和事件

> ID：14951435
> 
> 赞同：14
> 
> 时间：2013-02-19T06:48:39.623
> 
> 标签：c#, .net, wpf, wpf-controls, custom-controls

我想构建一个新的自定义控件。我发现很少有教程给了我一些关于如何实现这一点的线索。据我了解，创建新的自定义控件总是通过扩展当前控件来完成，甚至可以从层次结构的最基本级别扩展控件，例如，您甚至可以扩展：

*   界面元素
*   框架元素
*   控制
*   内容控制
*   标头内容控件
*   项目控制
*   选择器
*   范围基础

如以下教程中所写：[http ://wpftutorial.net/HowToCreateACustomControl.html](http://wpftutorial.net/HowToCreateACustomControl.html)

所以，我按照教程创建了一个自定义控件库类型的新项目，得到了我的通用 .xaml 和我的代码。到现在为止还挺好。

我可以区分 3 种类型或类别的事件。

1.  由将使用我的控件的窗口（或容器）消耗的事件：这些是我想向外部公开的事件。这些怎么写？

2.  与控件本身相关且未暴露在外部的事件；例如，如果鼠标在我的控制上，我想对此做出反应。我可以在 XAML 中做到这一点：

    ```
    <ControlTemplate.Triggers>
      <Trigger Property="IsMouseOver" Value="true">  
        <Setter Property="Fill" TargetName="LeftTraingularIndicator">  
          <Setter.Value>  
            <SolidColorBrush Color="Yellow" />  
          </Setter.Value>  
        </Setter>
      </Trigger>
    </ControlTemplate.Triggers> 
    ```

假设我的 ControlTemplate 中有一个带有 fill 属性的元素，名为 x:name="LeftTraingularIndicator"

问题：

现在我想在我的 XAML 中对 IsMouseDown 做出反应。我怎么做？没有“IsMouseDown”触发器。此外，如果我想在后面的代码中对此做出反应怎么办？更进一步，如果我想从后面的代码中更改 LeftTraingularIndicator "Fill" 怎么办？

3.  与子元素相关的事件，这些子元素是我的 ControlTemplate 的可视化结构的一部分，例如，如果我想对 XAML/甚至代码隐藏中的“LeftTraigularIndicator”的“IsMouseOver”做出反应怎么办？甚至可能两者兼而有之。

我现在正在尝试 2 天......感觉我在理解事物的运作方式时遗漏了一些东西。没有找到任何深入解释这些问题的教程。

对于我在这里提出的每个问题，我想看几行示例。

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-19T12:26:28.330

经过广泛研究...

1）将事件暴露给外界......就像你从任何其他班级暴露一样。

```
public delegate void myDelegate(int someValue);  
public event myDelegate myEvent; 
```

在您的代码中的某处：

```
if(myEvent!=null)
  myEvent(5); 
```

那部分没有什么新东西。

2）从后面的代码创建一个实例构造函数

```
public MyCustomControl()
{
    MouseMove += MyCustomControl_MouseMove;
}

void MyCustomControl_MouseMove(object sender, MouseEventArgs e)
{
   //now you can react to the movement of the mouse.
   //if for example I want to address an element, let's say a rectangle:

   var ele = (Rectangle)Template.FindName("myRect",this);
   ele.Fill=myNewBrush;

   // provided that we have an element named "myRect" (x:name="myRect") in
   // the generic.xaml style->Control Template-> which corresponds to that name.

} 
```

3) 不推荐 - 因为它属于用户控件而不是自定义控件的范围。自定义控件是“原子”，用户控件更适合组合控件的目的。

但也不是不可能...

```
var myButton = (Button)Template.FindName("myButton",this);
myButton.OnMouseMove += .... 
```

请记住：

*   任何应该在代码隐藏中知道的东西都必须命名。

*   您的 xaml 应该不知道背后的代码是做什么的。（除了！-继续阅读）

*   设计 XAML 时，代码隐藏中应该知道的部分必须具有正确的名称。

我真的希望这能帮助其他在尝试开发自己的自定义控件时遇到“墙”的人。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-19T17:54:22.837

如果我正确理解了您的问题 - 以下是我的解释。

WPF 事件系统提供 3 种类型的事件：1\. 冒泡 2\. 隧道 3\. 直接

如果一个事件（本质上）被定义为一个冒泡事件，那么该事件就会从源冒泡到它的容器。例如：如果 Grid 包含两个按钮 - Rectangle1 和 Rectangle2，那么对这些矩形的任何点击都会冒泡到 Grid。隧道是相反的，事件从父级隧道传输到子级。

有非常特殊的直接事件——它们只适用于事件没有意义被冒泡的情况。例如，在上述场景中，在任一 Rectangle 上冒泡 MouseOver 事件是没有意义的——因为每次鼠标进入矩形时，事件都会冒泡到 Grid——这是人们可能期望的。

你的问题：

> 将使用我的控件的窗口（或容器）可消耗的事件：这些是我想向外部公开的事件..如何编写这些？

您基本上需要编写一个冒泡事件。下面是一个来自 msdn 的示例，用于在 Button 上编写冒泡点击事件（我自己没有尝试过）[路由事件示例](http://msdn.microsoft.com/en-gb/library/ms742806.aspx)：

```
public static readonly RoutedEvent TapEvent = EventManager.RegisterRoutedEvent(
"Tap", RoutingStrategy.Bubble, typeof(RoutedEventHandler), typeof(MyButtonSimple)); 
```

你的问题：

> 问题：现在我想在我的 XAML 中对 IsMouseDown 做出反应……我该怎么做？没有“IsMouseDown”触发器。如果我想在后面的代码中对此做出反应怎么办？甚至如果我想从后面的代码中更改 LeftTraingularIndicator "Fill" 怎么办？

顺便说一句，您似乎对事件和触发器有些困惑（因为我看到您可以互换使用它们）。虽然它们是相关的，但它们并不相同。

回到您的问题 - WPF 允许触发属性更改 - 这本质上是您要挂钩的 - 在这种情况下是 IsMouseOver。但是缺少的是该属性是 ControlTemplate 的目标（我不知道它是什么）。我只是推断 ControlTemplate 的目标是一个矩形。在这种情况下，它没有“IsMouseDown”属性供您挂钩属性触发器。这就是你找不到它的原因。您必须编写一个 AttachedEvent 的另一个选项（它们与 AttachedProperties 非常相似）.. 完全是另一个主题:(

我希望我尽力了:)

# ajax - 如何从 ajax 响应结果中删除 html doctype

> ID：14951437
> 
> 赞同：2
> 
> 时间：2013-02-19T06:48:49.863
> 
> 标签：ajax, salesforce, visualforce

我有一个 ajax 函数调用一个 visualforce 页面。响应返回带有 html doctype 的结果。我只想要数据。

```
$(document).ready(function() {
            $.ajax({
                type: "POST",
                url: "/apex/HotStuckLeadReportAjaxPage",
                data: { name: "John", location: "Boston" }
                }).done(function( msg ) {
                    alert( "Data Saved: " + msg );
                });
       }); 
```

输出：

```
Data Saved: 

    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

    {"sEcho":0,"iTotalRecords":"2","iTotalDisplayRecords":"2","aaData":[["8","1","sdf","test","test"],["9","12","asdf","asdf","asdf"]]}</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T06:56:07.627

在 HotStuckLeadReportAjaxPage 页面中添加 contentType

```
<apex:page  contentType="application/json"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:57:15.053

在你的情况下，你可以

1.  简单跳过第一行
2.  确保您的服务器不发送它。细绳
3.  将 Exact DocType 行替换为 Javascript，因为它在整个项目中通常不会更改。
4.  做一个高级正则表达式删除[但它与字符串替换相同]

# string - 循环遍历 R 中图形的字符串向量

> ID：14951438
> 
> 赞同：3
> 
> 时间：2013-02-19T06:48:55.260
> 
> 标签：string, r, graph, stata

我想遍历一个名为 的字符串向量`country`，其中包含国家代码，例如`AFG`,`ETH`等。

在`Stata`代码中看起来像这样：

```
levelsof country, local(xtry)
foreach x in local xtry:
 graph command here if xtry=="`x'"
 graph save mygraph

} 
```

是否有类似的命令`levelsof`，以及将数据限制为特定国家代码的“if”语句，这是一个字符串，每个图表都将从该代码创建？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:55:21.180

你会使用这样的东西：

```
for (cn in levels(country))
    {
    if (cn=="x")
       {
       <do something>
       }
    else
       {
       <do something else>
       }
    } 
```

如果您想检查多个国家/地区，您可以使用

```
if (cn == "x" | cn == "y") 
```

或者也

```
if (cn %in% c("x", "y", "z")) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T10:29:12.567

顺便说一句，如果与构造 for 循环不同，apply 函数组实际上是相似的东西，问题是 apply 函数组是此类循环的包装器，并且特定于不同的数据结构和要求 - 一种更 Rish 的方式做循环。我不知道速度提升的说法有多有效——我持怀疑态度。除此之外，如果我理解您的要求（我不知道 stata），使用 R 对数据进行子集化然后为每个子集绘制多个图可能会更容易。

# jsp - JSTL：使用 EL 的 JSTL 中的 PropertyNotFoundException

> ID：14951439
> 
> 赞同：0
> 
> 时间：2013-02-19T06:49:00.660
> 
> 标签：jsp, exception, jstl, el

当我尝试在 jsp 的 el 表达式中使用对象的属性时，会生成 PropertyNotFound 异常。以下是我的代码：

```
public class Pledges {
  private Integer amount;
  private String creward;
  // proper getter setter

.............................

 ArrayList<Pledges> pledges ;
 pledges = entry.getPledges();
 request.setAttribute("pledges", pledges);

............................

  <c:forEach items=" ${pledges}" var="pledge">
    <input type='radio' name='rewards' id='r1' value='Option 1' />
    <label for='r1'>${pledge.creward}
    </label> <br /> <br />
  </c:forEach> 
```

jsp页面中会抛出以下异常：

> javax.el.PropertyNotFoundException：在 java.lang.String 类型上找不到属性“creward”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T19:47:03.617

您`items`的评估为`String`。实际上，EL 表达式前面有一个空格（字符串字符），它隐式地将整个表达式强制转换为`String`.

```
<c:forEach items=" ${pledges}" var="pledge"> 
```

摆脱那个空间。

```
<c:forEach items="${pledges}" var="pledge"> 
```

# jquery - jQuery Mobile - 停止缓存

> ID：14951443
> 
> 赞同：4
> 
> 时间：2013-02-19T06:49:15.130
> 
> 标签：jquery, jquery-mobile

在我的例子中，链接加载到一个特殊的 div 包装器中，这些包装器是其链接的父级。我通过`pageload`事件来做。

当 JQuery Mobile 执行 AJAX 请求时，一切正常。但是如果我点击访问的链接，jquery mobile 不会发送请求，而是显示空白页面，`#page1`换句话说，替换缓存中的内容。

我需要这些请求。

**UPD**

事件`pagebeforeload`，`pageload`不会出现在缓存案例中。=\

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T07:06:04.000

您可以像这样指定不缓存页面：

```
<div data-role="page" id="page-detail" data-dom-cache="false">  
    ....
</div> 
```

**更新**

事实上，它`data-dom-cache=false`可以用于页面、**链接**和对话框

文档[http://jquerymobile.com/demos/1.2.0/docs/api/data-attributes.html](http://jquerymobile.com/demos/1.2.0/docs/api/data-attributes.html)

如果您想避免对所有页面进行数据完善，请查看此处：[如何在 jQuery Mobile UI 中禁用缓存](https://stackoverflow.com/questions/4660934/how-does-one-disable-caching-in-jquery-mobile-ui)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-19T08:48:44.510

请咬我的代码

```
$(document).on('pagebeforeload', function(event, data) {
    var url = data.url;
    if (url.toLowerCase().indexOf("office") >= 0) {
        event.preventDefault();
        $.get(data.absUrl, {}, function(res){
            _this = $(res);
            if (_this.attr('data-id')>0) { 
                var card_id = _this.attr('data-id');
                $('#detail-'+card_id).empty().append(_this).trigger('create');
            }
        });
        data.deferred.reject( data.absUrl, data.options );
    }
}); 
```

# iphone - iPad 中的 UITableViewReorderingSupport 崩溃

> ID：14951454
> 
> 赞同：2
> 
> 时间：2013-02-19T06:50:26.720
> 
> 标签：iphone, ios, ipad

我收到此异常 [_UITableViewReorderingSupport setTableViewStyle:]: unrecognized selector sent to instance 0x70f9780

我正在为表格视图使用自定义单元格，有人可以告诉我为什么会发生这种情况吗？？？？

```
if (cell == nil) { 
  cell = [[CCUnbilledTransactionCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier_3]; 
  [[NSBundle mainBundle] loadNibNamed:@"CCUnbilledTransactionCell" owner:self options:nil]; 
  cell = objCCUnbilledTransactionCell; 
  self.objCCUnbilledTransactionCell=nil; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:13:56.880

由于您的单元格不是 UITableViewCell 类型，因此出现此崩溃。您可以在调试时检查您的对象类型，如果是这种情况，您可以按如下方式进行。

尝试检查您的对象类型，如下所示：

```
 cell = [[CCUnbilledTransactionCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"cell"] ;
        NSArray *toplavelobject=[[NSBundle mainBundle]loadNibNamed:@"CCUnbilledTransactionCell" owner:self options:nil];
        for(id c in toplavelobject)
        {
            if ([c isKindOfClass:[UITableViewCell class]])
            {
                cell=(YourCustomcell *) c;
                break;
            }
        } 
```

希望对你有帮助:)

**还要确保您的自定义单元格是`UITableViewCell`**

# eclipse-rcp - 如何使用 windowTester 单击单元格中的树项？

> ID：14951455
> 
> 赞同：1
> 
> 时间：2013-02-19T06:50:32.833
> 
> 标签：eclipse-rcp, window-tester

我有一个外壳，其中复合材料内有一棵树。我想单击树的特定单元格。当我尝试记录动作时，它没有给出正确的记录，所以我想手动进行。

例如，请查看附加的快照和我要单击的位置。

这是录制后出现的错误

> 警告：忽略不支持的小部件选择 - 小部件选择事件：null

请帮助我，因为我不擅长 Eclipse，这对我们的项目很重要。非常感谢。

![在此处输入图像描述](../Images/43683777f1b00aac7328ecd21c2e77c1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T08:16:08.853

您可以通过编写以下代码在测试代码中手动执行此操作：

```
// first click on the item to ensure it is visible in the scrolled view
TreeItemLocator itemLocator = new TreeItemLocator("/tree/path/to/File");
getUI().click(itemLocator);

// then you can access the tree cell (columns are zero-based
TreeItemLocator cellLocator = SWTLocators.treeCell(itemLocator.getPath())).at(SWTLocators.column(4);
getUI().click(cellLocator); 
```

当然，您可以`import static com.windowtester.runtime.swt.locator.SWTLocators.*`使代码更具可读性。

# hadoop - Why only map and reduce functions in MapReduce

> ID：14951461
> 
> 赞同：1
> 
> 时间：2013-02-19T06:50:57.203
> 
> 标签：hadoop, mapreduce, hdfs, distributed-computing

Are there any particular reasons why we have only two functions `map()` and `reduce()` in this MapReduce concept of distributed processing?? Why wasn't the Hadoop framework designed to be generic, allowing the user to make as many function calls as he desires after the initial mapping function?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:38:51.367

如果您只想对给定的**Map输出应用不同的****Reduce**操作，我只会使用写入不同的文件/目录，这将“模拟”在同一个 map 输出上具有多种类型的 reducer。你可以申请你的，更多信息可以在[这里](http://hadoop.apache.org/docs/r1.0.4/api/org/apache/hadoop/mapreduce/lib/output/MultipleOutputs.html)找到。**`MultipleOutputs``MultipleOutputs``Reducer`**

 **拥有一个 Map 和 Reduce 函数的目标是可以很容易地在各种机器上并行化。Map/Reduce 作业是一个并行化的单个进程，IMO 尝试对同一数据应用多个操作实际上没有意义，如果您需要可以使用我上面写的内容扩展您的 Reducer，或者写另一份工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T22:28:27.943

虽然 Charles 的回答解释了 MapReduce 概念背后的原因，但您可以*在初始映射函数之后进行任意数量的函数调用，*只需覆盖`run()`类的`Mapper`（新 API）

```
 @override
  public void run(Context context) throws IOException, InterruptedException {
    setup(context);
    while (context.nextKeyValue()) {
      map(context.getCurrentKey(), context.getCurrentValue(), context);
    }
    // Call all your methods you want here
    cleanup(context);
  } 
```

你也可以在减速器中做类似的事情。**

# angularjs - 是否可以从一个 $routeProvider 有条件地提供多个部分？

> ID：14951462
> 
> 赞同：2
> 
> 时间：2013-02-19T06:51:00.493
> 
> 标签：angularjs

我的 Angular 应用程序有一个 index.html，里面只有一个`<div ng-view></div>`。在加载时，用户会看到来自单个局部视图的登录屏幕，通过 $routeProvider 提供服务，并且在登录成功时，路由更改为登录的局部：

```
$routeProvider.
    when('/login', {templateUrl: 'partials/login.html',   controller: 'LoginCtrl'}).
    when('/loggedin', {templateUrl: 'partials/loggedin_part.html', controller: 'UserCtrl'}).
    otherwise({redirectTo: '/login'}); 
```

但是，一旦登录，我希望同时显示三个单独的部分：信息栏、导航和主要（主要可以与当前正在查看的任何导航项互换）。目前在我的 login_part.html 我有：

```
<ng-include src="'partials/infobar_part.html'"></ng-include>
<ng-include src="'partials/nav_part.html'"></ng-include>
<ng-include src="'partials/main_part.html'"></ng-include> 
```

我的问题是，有没有更有效的方式通过 $routeProvider 提供不同的子视图？使用我当前的方法，我将为每个导航项/路线创建“持有人”部分，例如上面的loggedin_part.html，即（假设的）：

**登录_admin_part.html**

```
<ng-include src="'partials/infobar_part.html'"></ng-include>
<ng-include src="'partials/nav_part.html'"></ng-include>
<ng-include src="'partials/admin_part.html'"></ng-include> 
```

**路线**

```
$routeProvider.
    when('/login', {templateUrl: 'partials/login.html',   controller: 'LoginCtrl'}).
    when('/loggedin', {templateUrl: 'partials/loggedin_part.html', controller: 'UserCtrl'}).
    when('/admin', {templateUrl: 'partials/loggedin_admin_part.html', controller: 'AdminCtrl'}).
    otherwise({redirectTo: '/login'}); 
```

对于每个导航组，依此类推。是否可以跳过“持有人”部分并在每个路由条件下只提供多个部分？类似的东西（注意，我知道语法是错误的，这是我试图说明的想法）：

```
$routeProvider.
    when('/login', {templateUrl: 'partials/login.html',   controller: 'LoginCtrl'}).
    when('/loggedin', {templateUrl: 'partials/infobar_part.html', 'partials/nav_part.html', 'partials/main_part.html', controller: 'UserCtrl'}).
    when('/admin', {templateUrl: 'partials/infobar_part.html', 'partials/nav_part.html', 'partials/admin_part.html', controller: 'AdminCtrl'}).
    otherwise({redirectTo: '/login'}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T10:05:25.577

我会解决这个问题，改变你认为的部分。

例如：不要将“login”和“logedIn”视为两个不同的部分。例如，您可以使用称为 loginStatus_bar 的部分。这部分有两个（或更多）可能的状态（登录、登录等...）

在您的“loginStatus_bar”部分中，您编写所有可能的栏，并使用[ng-show](http://docs.angularjs.org/api/ng.directive%3angShow)，[ng-hide](http://docs.angularjs.org/api/ng.directive%3angHide)有条件地显示必要的内容。

像这样的东西（其中 'isLoggedIn' 是范围内的布尔值）：

```
<div ng-show="isLoggedIn" ng-controller="loggedInBar" >
</div>
<div ng-hide="isLoggedIn" ng-controller="loginBar" >
</div> 
```

通过这种方式，您甚至不需要路由，因为“loginStatus_bar”部分可能会在您的应用程序中以一种或其他状态始终可见。

# django - 谁生成django欢迎页面的默认页面？

> ID：14951468
> 
> 赞同：7
> 
> 时间：2013-02-19T06:51:37.800
> 
> 标签：django, python-2.7

我刚刚设置了 django 环境，正如教程所说。我打字`python manager.py runserver`，它告诉我打开`127.0.0.1:8000`。当我打开它时，它使用正确的欢迎页面。

但这是我的问题：谁生成了这个默认的欢迎页面？因为没有`views.py`，`urls.py`页面是空的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T06:59:26.750

如果你`urls.py`是空的（因为不包含匹配 url 的模式）并且 Django 处于调试模式（`DEBUG = True`在你的设置中），那么 Django 会触发你看到的页面。

**Django 视图：**

[https://github.com/django/django/blob/main/django/views/debug.py#L575-L583](https://github.com/django/django/blob/main/django/views/debug.py#L575-L583)

**HTML 模板：**

[https://github.com/django/django/blob/ca9872905559026af82000e46cde6f7dedc897b6/django/views/templates/default_urlconf.html](https://github.com/django/django/blob/ca9872905559026af82000e46cde6f7dedc897b6/django/views/templates/default_urlconf.html)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2019-03-27T23:10:31.307

如果有人想取回它（或重用它），您只需将`debug.default_urlconf`视图添加到您的`urls`：

```
…
from django.views import debug
…

urlpatterns = [
    …
    path('', debug.default_urlconf),
    …
] 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-19T06:59:26.503

看看`django/core/handlers/base.py`和`django/views/debug.py`。简而言之，如果 django 得到一个 404，如果你没有设置任何路由，那么它会在 base.py

```
if settings.DEBUG:
    from django.views import debug
    response = debug.technical_404_response(request, e) 
```

在 debug.py 中查看`technical_404_response`和`empty_urlconf`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-12T06:32:35.150

（**免责声明**：我使用的是 django 版本：3.2.5，在旧版本中文件内容可能会有所不同）

第一次运行 django web 应用程序时看到的默认登录页面是“ **default_urlconf.html** ”。这是 django 添加的安全机制，而不是在没有任何默认 url/路由的情况下给出 404 错误。

当您第一次使用命令或使用任何 IDE 菜单控件（例如“Pycharm 专业人员”）创建 django 网站时`django-admin startproject <project_name>`，您将获得以下文件夹结构。`DEBUG = True`此外，Debug在您的 setting.py 文件中设置为 True ( )

[![在此处输入图像描述](../Images/85968c5d7a4c25aab91d90549258bac3.png)](https://i.stack.imgur.com/xuiST.png)

此外，当未设置路由或 url.py 中的 url 映射为空时，django 框架通过其错误处理代码提供默认路由。这就像当您尝试访问/请求[http://127.0.0.1:8000/](http://127.0.0.1:8000/)时，django 检查该 url 是否存在（404）以及调试模式是否处于活动状态。这个请求会遍历各种 *.py 文件，比如`base.py`, `handlers.py`, `exceptions.py`，最后到达`debug.py`. 所有这些文件都随虚拟环境或您的那一刻提供（在您的项目中安装 django）。

最终，从“exception.py”通过方法进入“debug.py”`**debug.technical_404_response(request, exc)**`

```
def response_for_exception(request, exc):
    if isinstance(exc, Http404):
        if settings.DEBUG:
            response = debug.technical_404_response(request, exc)
        else:
            response = get_exception_response(request, get_resolver(get_urlconf()), 404, exc) 
```

最后，它会感觉到`debug.py`有`def technical_404_response(request, exception)`哪些调用`def default_urlconf(request)`，并最终返回您在屏幕上看到的默认 html 页面 ( ***default_urlconf.html ) 的响应***

```
def default_urlconf(request):
    """Create an empty URLconf 404 error response."""
    with Path(CURRENT_DIR, 'templates', 'default_urlconf.html').open(encoding='utf-8') as fh:
        t = DEBUG_ENGINE.from_string(fh.read())
    c = Context({
        'version': get_docs_version(),
    })

    return HttpResponse(t.render(c), content_type='text/html') 
```

[![在此处输入图像描述](../Images/dda93e700f68c684647ee4cf5d2c4342.png)](https://i.stack.imgur.com/U1lKu.png)

**文件位置：**

*   ***exception.py：venv/Lib/site-packages/django/core/handlers/exception.py*** _

*   ***debug.py：venv/Lib/site-packages/django/views/debug.py*** _

*   ***default_urlconf.html***：venv/Lib/site-packages/django/views/templates/default_urlconf.html

# sql-server - ROUND() 在 sql 中给出不正确的结果

> ID：14951472
> 
> 赞同：2
> 
> 时间：2013-02-19T06:51:51.780
> 
> 标签：sql-server, oracle, tsql, rounding

```
select round(849299099755.3,2) from dual; 
```

给

```
849299099755.3 
```

我怎么能到`849299099755.30`这里？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:54:51.593

将数据类型转换为`DECIMAL`

```
SELECT CONVERT(DECIMAL(15,2), ROUND(849299099755.3,2)) 
```

或者

```
SELECT STR(ROUND(849299099755.3,2), 20, 2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:54:01.913

对于`SQL Server`：

```
select convert(numeric(28,2),round(849299099755.3,2)) from dual; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T08:06:13.640

对于甲骨文：

ROUND 函数返回一个 NUMBER，并且`round(849299099755.3,2)`确实等于`849299099755.3`，所以它工作正常。但是，当您想要显示它时，它将使用您会话的默认数字格式设置。

要将其格式化为两位小数，您可以使用该`TO_CHAR`函数，例如：

```
SELECT TO_CHAR(round(849299099755.3,2),'999999999990.00') FROM DUAL; 
```

# jquery - Knockout-Sortable 捕获复杂对象

> ID：14951473
> 
> 赞同：1
> 
> 时间：2013-02-19T06:51:52.247
> 
> 标签：jquery, knockout.js, jquery-ui-draggable, knockout-sortable

我正在为我的页面使用 Knockout.js。我的 ViewModel 包含一个对象数组。每个对象都包含一个子数组。更一般地说，这应该表示一个包含列和列内容的表。

首先我正在处理 foreach:itemArray 以获取列。然后我使用嵌套的 foreach:childs，其中 childs 是列内容的数组。

我的孩子应该可以在列之间拖动。因此我用我找到的 js 替换了嵌套的 foreach

[https://github.com/rniemeyer/knockout-sortable](https://github.com/rniemeyer/knockout-sortable)

[http://jsfiddle.net/rniemeyer/Jr2rE/](http://jsfiddle.net/rniemeyer/Jr2rE/)

再次使用代码 - 第一阶段：

```
<div id="lanesContainer" data-bind="foreach: lanes"> 
```

然后遵循嵌套的foreach（在#lanesContainer 内）

```
<ul data-bind="sortable: { template: 'laneTemplate', data: childs, afterMove: $root.dropCallback }"> 
```

我的项目现在是可拖动的，但是以某种方式放置失败了。我的调试器在 js 的以下部分中断：

```
//take destroyed items into consideration
if (!templateOptions.includeDestroyed) {
  targetUnwrapped = targetParent();
  for (i = 0; i < targetIndex; i++) {
    //add one for every destroyed item we find before the targetIndex in the target array
    if (targetUnwrapped[i] && targetUnwrapped[i]._destroy) {
      targetIndex++;
    }
  }
} 
```

它在第三行中断，因为 targetParent 是一个对象，而不是一个函数。我该如何解决问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:55:55.160

改变`targetUnwrapped = targetParent();`

至

```
targetUnwrapped = ko.utils.unwrapObservable(targetParent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T14:02:32.647

好的，谢谢到目前为止。我的 ViewModel 包含一个函数，在每次放置时都会调用该函数。

```
self.dropCallback = function (arg) {
    var item = arg.item;
    var sourceParent = arg.sourceParent();
    var targetParent = arg.targetParent();
    blah(); //console.log("Moved '" + arg.item.name() + "' from " + arg.sourceParent.id + " (index: " + arg.sourceIndex + ") to " + arg.targetParent.id + " (index " + arg.targetIndex + ")");
}; 
```

变量 sourceParent 和 targetParent 现在代表用于 foreach 的数组。我怎样才能“走”一个更高的级别，到下一个父母？

# azure - 更改端点配置时如何升级 Azure 云服务？

> ID：14951475
> 
> 赞同：0
> 
> 时间：2013-02-19T06:52:10.767
> 
> 标签：azure, azure-web-roles

我在 Azure 云服务配置中添加**了一个新端点。**现在我想在**不停**机的情况下升级部署。

怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:47:33.963

如果您使用的是托管服务，您可以将新版本发布到暂存部署。当两个服务都运行时，您交换 VIP。这将使您的用户可以立即访问暂存部署（带有附加端点） - 您的用户应该没有停机时间。

之后，您删除暂存部署（现在是您以前没有新端点的部署）。

# matlab - 如何增加 MATLAB 中的位数？

> ID：14951480
> 
> 赞同：3
> 
> 时间：2013-02-19T06:52:41.493
> 
> 标签：matlab

我意识到这是一个有点模糊的问题，所以我会尽力而为。如果我有一个数字`n = 0.783325849821429`，有没有办法显示更多的小数位？这是用长格式制作的。问题是我正在用正弦进行误差估计计算，并且有一点估计值非常接近正弦的实际值，以至于 MATLAB 将误差计算为 0，即使估计不可能完全准确。总是有错误，它太小了，MATLAB 无法识别。有没有办法让 MATLAB 考虑更多的小数位？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:57:59.383

您始终可以使用[格式化字符串要求更多数字](http://www.mathworks.com/help/matlab/matlab_prog/formatting-strings.html)

```
 fprintf(1, 'n = %.20f\n', n ); % print with 20 digits after the decimal point 
```

**但是**，浮点存储数字的精度是有限制的。
您可以使用以下方法测试机器精度[`eps`](http://www.mathworks.com/help/matlab/ref/eps.html)

```
eps( n ) 
```

如果您的估计误差小于`eps`您的估计，则在机器精度范围内且无法测量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T06:55:30.107

使用带有[vpa的](http://www.mathworks.com/help/symbolic/vpa.html)[数字](http://www.mathworks.com/help/symbolic/digits.html)（可变精度精度）。更多关于可变精度算术[在这里](http://www.mathworks.com/help/symbolic/variable-precision-arithmetic_f1-5556.html)......请注意，您将需要符号数学工具箱。如果您没有它，那么您可以使用来自文件交换的 John D'Errico 的[可变精度整数运算。](http://www.mathworks.com/matlabcentral/fileexchange/22725)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-17T20:02:21.087

例如，要得到 22/7 等式的 1000 位数字的答案

位数（1000）

vpa(22/7)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-05T08:28:55.077

如果您使用 vpa 函数来提高精度，那么它会将您的变量作为 syms，然后如果您想将此变量用于其他 matlab 内部函数，那么它将无法工作，因此请找到其他方法。

例如

```
a=vpa(a,5) 
a =

[ 1.25, 2.0276, 3.2108, 3.3695, 2.0589, 1.0]

polyval(a,3)

??? Undefined function or method 'isfinite' for input arguments of type
'sym'.

Error in ==> polyval at 54
if isscalar(x) && (nargin < 3) && nc>0 && isfinite(x) &&
all(isfinite(p(:))) 
```

# ruby-on-rails - Cron（只要 gem）没有运行

> ID：14951482
> 
> 赞同：0
> 
> 时间：2013-02-19T06:52:48.833
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我正在关注[railscast](http://railscasts.com/episodes/164-cron-in-ruby-revised)。

1.  我在 Gemfile 中添加 gem 并运行 bundle install
2.  已将此代码放在 config/schedule.rb 文件中

    ```
    every 1.minute do
      command "rm #{path}/tmp.txt"
    end

    every 2.minutes do
      command "rm #{path}/tmp.txt"
    end 
    ```

我正在尝试删除 tmp.txt 文件，但它没有被删除。我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:59:38.070

实际工作由服务器的`crontab`命令完成。“Whenever” gem 只不过是一个很好的工具，可以帮助您编写 cron 命令并轻松更新。

也许您忘记更新 crontab？试试这个

```
whenever --update-crontab store 
```

# c - 用户空间和内核空间崩溃的区别

> ID：14951484
> 
> 赞同：-2
> 
> 时间：2013-02-19T06:52:54.117
> 
> 标签：c, linux-kernel

关于崩溃 - 我的想法是用户空间程序崩溃不会影响其他进程，而内核空间程序崩溃将重新启动系统。我的想法是否正确以及为什么不同

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:16:36.677

它取决于操作系统的实际实现以及进程之间的任何交互。

如果操作系统无法保护自己免受错误或恶意程序的侵害，或者无法保护程序免受其他程序的侵害，那么程序崩溃可能会产生深远的影响。

此外，如果您有两个交互的程序，如果错误检测和恢复不足，一个意外崩溃可能会导致另一个崩溃。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:16:29.470

我认为单片内核会这样做。但是微内核可以重新加载崩溃的部分然后继续运行。

# php - 如何在html2pdf中的每个页面上放置列标题

> ID：14951485
> 
> 赞同：1
> 
> 时间：2013-02-19T06:52:57.533
> 
> 标签：php, html, html2pdf

我正在使用 html2pdf 类从 html 页面生成 pdf 文件。我想将列标题放在每个页面上。但我没有得到如何做到这一点的概念。这是我的代码：

```
<?php 
function linewrap($string, $width, $break, $cut) {
$array = explode("\n", $string);
$string = "";
foreach($array as $key => $val) {
 $string .= wordwrap($val, $width, $break, $cut);
 $string .= "\n";
}
return $string;
}
if(isset($_POST['download'])){
//connect to the database
require_once('../../connect.php'); 
$status=$_POST['status'];

//retrieve the specific rows by given status
$query="SELECT *
        FROM `incident_status`
        WHERE status='".$status."'";

//execute the query
$run=mysql_query($query);
$i=1;

//content to be downloaded
  $content='<page backtop="2mm" backbottom="2mm" backleft="2mm" backright="2mm" style="font-size:6pt;bordercolor:#000000;">';
  $content .='<p style="text-align:center;"><b>Incident Status Report</b> of the Pending cases </p>';
  $content.='<table align="center" style="background-color: #DDDDFF; border-bottom: solid 1mm #AAAADD; padding: 2mm " border="1">';
  $content.='<tr>
                <th>SL:</th>
                <th>Date:</th>
                <th>Case No:</th>
                <th>Customer Name:</th>
                <th>Cell No:</th>
                <th>Agent id:</th>
                <th>Card no:</th>
                <th>Problem Type:</th>
                <th>Remarks:</th>
                <th>Open By:</th>
            </tr>';
    while($data=mysql_fetch_array($run)){
        $date=$data['date'];
        $case_no=$data['case_no'];
        $name=$data['name'];
        $cell_no=$data['cell_no'];
        $agent_id=$data['agent_id'];
        $card_no=$data['card_no'];
        $problem_type=$data['problem_type'];
        $open_by=$data['open_by'];
        $close_by=$data['close_by'];
        $content.='<tr style="border: solid 1mm #000000;">';
        $content.='<td>'.$i++.'</td>';
        $content.='<td>'.$date.'</td>';
        $content.='<td>'.$case_no.'</td>';
        $content.='<td>'.$name.'</td>';
        $content.='<td>'.$cell_no.'</td>';
        $content.='<td>'.$agent_id.'</td>';
        $content.='<td>'.$card_no.'</td>';
        $content.='<td>'.$problem_type.'</td>';
        $content.='<td>';
        $content.='<ol>';
        $remarks = explode(";", $data['remarks']);
         foreach($remarks as $remark){
           $wrap=linewrap($remark,50,"<br/>",true);
           $content.='<li>'.$wrap.'</li>';  
          }
        $content.='</ol>';
        $content.='</td>';
        $content.='<td>'.$open_by.'</td>';
        $content.='</tr>';
    }
                $content.='</table></page>';
//end of content

//get the html2pdf class
require_once(dirname(__FILE__).'/html2pdf/html2pdf.class.php');

//new object of html2pdf class
$html2pdf = new HTML2PDF('P','','fr');
$html2pdf->WriteHTML($content);
$html2pdf->Output('incident_status_report_of_pending_cases.pdf');
}
?> 
```

请帮我解决这个问题。我非常需要这种帮助，因为这是我的最后一个项目，我只坚持这个事实。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-27T07:07:15.567

我找到了答案：

```
 $content.='<thead style="display:table-header-group;">
                <tr>
                    <th>SL:</th>
                    <th>Date:</th>
                    <th>Case No:</th>
                    <th>Customer Name:</th>
                    <th>Cell No:</th>
                    <th>Agent id:</th>
                    <th>Card no:</th>
                    <th>Problem Type:</th>
                    <th>Remarks:</th>
                    <th>Open By:</th>
                </tr>
            </thead>'; 
```

此`<thead></thead>`标签将表头打印到每一页。谢谢。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T10:41:27.877

尝试将其添加到您的 phtml 页面中：

```
<page>
   <page_header>
      <table class="page_header">
         <tr>
            <td style="width: 50%; text-align: left">
               title1
            </td>
            <td style="width: 50%; text-align: right">
               title2
            </td>
         </tr>
      </table>
   </page_header>

   <div class="note">
      Your content
   </div>
</page> 
```

如需进一步参考，请查看：[http](http://html2pdf.fr/en/example) ://html2pdf.fr/en/example（about.pdf 示例）

希望这可以帮助

# django - 使用 Django 模块 (django.core.mail) 在 GAE 上发送电子邮件

> ID：14951487
> 
> 赞同：0
> 
> 时间：2013-02-19T06:53:02.833
> 
> 标签：django, google-app-engine, djangoappengine, django-mailer

在将我的应用程序迁移到 GAE 之前，我使用以下代码发送电子邮件并且效果很好：

```
from django.core.mail import send_mail

subject = 'Hello!'
msg = '\n \n Hello World!'
sender = settings.DEFAULT_FROM_EMAIL
to = ['xx@xx.com']

send_mail(subject,msg,sender,to,fail_silently=False) 
```

现在，在迁移到 GAE（在 Python 2.7 上）之后，它就不起作用了。它只是抛出以下错误：

```
Exception Type: NotImplementedError
Exception Location: C:\Program Files(x86)\Google\google_appengine\google\appengine\api\remote_socket\_remote_socket.py in gethostbyaddr, line 256 
```

我将 settings.py 文件配置为 follo

```
EMAIL_USE_TLS = True
EMAIL_HOST = 'xxx.yyy.com'
EMAIL_HOST_USER = 'my.account@yy.com'
EMAIL_HOST_PASSWORD = 'zzzzzzzzz'
EMAIL_PORT = 587 
```

有没有人在 GAE 上使用 Django 模块发送电子邮件并知道该错误的一些信息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:32:59.173

如果你想从 AppEngine 发送电子邮件，你应该使用[mail.send_mail()](https://developers.google.com/appengine/docs/python/mail/sendingmail)：

```
from google.appengine.api import mail

mail.send_mail(sender="Example.com Support <support@example.com>",
              to="Albert Johnson <Albert.Johnson@example.com>",
              subject="Your account has been approved",
              body="Hello, world!") 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-19T07:41:05.073

我解决了为什么会出现该错误的问题：

GAE 不支持 Django send_mail。有必要在我们的应用程序中添加一个 Django 电子邮件后端以允许它在 GAE 上执行。

两步要做：

1.  导入第三方模块 --> [appengine_emailbackend](https://bitbucket.org/andialbrecht/appengine_emailbackends/overview)

2.  在您的 settings.py 文件中写下以下行之一：

    EMAIL_BACKEND = 'appengine_emailbackend.async.EmailBackend'

    EMAIL_BACKEND = 'appengine_emailbackend.EmailBackend'

即便如此，在使用该后端之后，它不会抛出任何错误，但它不会发送任何内容。

有人可以帮忙吗？

# asp.net - 如何通过 HttpContextBase 获取我的控制器？

> ID：14951489
> 
> 赞同：1
> 
> 时间：2013-02-19T06:53:07.927
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-4, controller, httpcontext

我有基本控制器，假设它有一个名为`AnyProperty`：

```
public class MyBaseController : Controller
    {
        public MyObject AnyProperty { get; set; }

        public MyBaseController()
        {
            AnyProperty = new MyObject();
        }
    } 
```

在`RoleAttribute`我需要使用`AnyProperty`. 我用

```
public class RoleAttribute : AuthorizeAttribute
    {
        protected override bool AuthorizeCore(HttpContextBase httpContext)
        {
            MyBaseController controllerInstance = new MyBaseController();
            controllerInstance.AnyProperty   // I use like this 
        }
    } 
```

我怎样才能得到我的`AnyProperty`财产 `httpContext`？不使用`MyBaseController`实例。可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:35:54.750

这是另一种方法，但它可能会有所帮助：

```
public override void OnAuthorization(HttpActionContext actionContext)
{
    var controller = actionContext.ControllerContext.Controller as MyBaseController;
    if (controller == null)
    {
        return;
    }
    controller.AnyProperty = new MyObject();
} 
```

# iphone - 在 iphone 的缩略图中显示视频时间长度

> ID：14951491
> 
> 赞同：0
> 
> 时间：2013-02-19T06:53:12.647
> 
> 标签：iphone, ios, xcode, image, video

在我的应用程序中，我录制了视频并在 iphone 中显示缩略图。一切正常。

但我的缩略图不显示视频时间长度。

我从以下链接获得了代码：

[拇指指甲图片](https://stackoverflow.com/questions/1347562/getting-thumbnail-from-a-video-url-or-data-in-iphone-sdk)

```
//my code

NSURL *videoURL = [NSURL fileURLWithPath:url];

MPMoviePlayerController *player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];

        UIImage *thumbnail = [player thumbnailImageAtTime:1.0 timeOption:MPMovieTimeOptionNearestKeyFrame]; 
```

**我该如何解决这个问题？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:19:39.910

```
 NSURL *videoURL = [NSURL fileURLWithPath:url];

   MPMoviePlayerController *player = [[MPMoviePlayerController alloc] initWithContentURL:videoURL];

   UIImage *thumbnail = [player thumbnailImageAtTime:1.0 timeOption:MPMovieTimeOptionNearestKeyFrame];

   [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(showDuration:) name:MPMovieDurationAvailableNotification object:player];

-(void)showDuration:(NSNotification*)notif
 {
MPMoviePlayerController *player = (MPMoviePlayerController*)[notif object];
NSLog(@"content play length is %g seconds", player.duration);
  } 
```

# html - 放大/缩小时div位置发生变化

> ID：14951492
> 
> 赞同：0
> 
> 时间：2013-02-19T06:53:12.787
> 
> 标签：html, position, zooming

我花了很多时间来找出这个问题的解决方案，并急切地寻求帮助。任何指针都会有很大帮助。

我的图像位于页面的右上角。单击此按钮后，我必须在图像下方显示一个下拉菜单。下面是代码。

```
 <div style=\"margin-right: 3px;\"  >
           <div style=\"position:absolute;\">                        
          <a  href=\"javascript:testpopup()\" ><img id =\"Img\" align=\"left\"  src=\"qual.png\" onload=\"javascript:Count()\" /></a>" +

          <div id=\"Count\"    style=\"float: left;\"> </div>         
          </div>

           <div class=\"Popup_Position\" style=\"position:absolute;display:block;\" > 
               <div id=\"Table\" style=\"position:absolute;display:block;width: 278px;\"    >

                  </div>

            </div>
     </div> 
```

div Count 位于图像旁边，div Table 位于图像下方。它在 100% 缩放下工作正常。但是当放大/缩小时，div 会远离图像。缩放中的内容也会溢出，div 的大小也会发生变化。请建议可以做什么..谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T06:59:42.897

Hi you can use this style with image:

```
 <a  href=\"javascript:testpopup()\" ><img id =\"Img\" align=\"left\"  src=\"qual.png\" onload=\"javascript:Count()\" style=\"max-width:100%;\" /></a>" 
```

This must solve your issue.

# android - 为 SlidingMenu 创建 jar 文件

> ID：14951493
> 
> 赞同：2
> 
> 时间：2013-02-19T06:53:17.820
> 
> 标签：android, android-sliding

谁能帮我创建滑动菜单项目的 jar 文件。[https://github.com/jfeinstein10/SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)？如果我添加创建的 jar 文件，那么我得到异常 java.lang.NoClassDefFoundError: com.slidingmenu.lib.R$styleable。我不想将整个项目添加为依赖项，但需要添加 jar。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T07:00:40.077

使用自己的资源（布局、清单条目等）的项目无法成功转换为 jar。这就是建议您将其用作 Android 库项目的原因。除非项目是纯 java 代码，没有自己的资源，否则将其转换为 jar 是不会成功的。

请参阅： [https ://stackoverflow.com/a/2520113/1369222](https://stackoverflow.com/a/2520113/1369222)

# spring - 定义构造函数的 Spring 自动装配（使用 @Autowired）

> ID：14951495
> 
> 赞同：0
> 
> 时间：2013-02-19T06:53:31.097
> 
> 标签：spring

我已将我的服务定义为：

```
@Component("myService")
public class MyServiceImpl implements MyService {
  public void serviceMethod(){
  }
} 
```

我在我的客户端程序中使用此服务如下：

```
Public Class{
   @Autowired
   MyService myService;

   public void myMethod(){
     myService.serviceMethod();            
   }
} 
```

但是，如果我在我的服务中有以下定义的构造函数：

```
@Component("myService")  
  public class MyServiceImpl implements MyService {
      private myVar;
      public MyServiceImpl(String myVar){
        this.myVar = myVar;
      }
      public void serviceMethod(){
      }
 } 
```

**问题：** 如何在我的客户端程序中自动装配，以便调用我定义的构造函数？

以下方法使用默认构造函数初始化对象：

```
 @Autowired
 MyService myService; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:02:31.420

It's not working that way...

Spring uses no-arg constructors to create beans and later it wires dependencies to those beans.

In your case Spring cannot know which String you want to pass to the constructor...

You can for example use java configuration to create your Service bean (and remove @Component from your bean)

```
@Configuration
public class Config {

    @Bean
    MyService myService() {
        return new MyService( "some string" );
    }

} 
```

# c - 使用 mjson 库进行 C json 编码

> ID：14951496
> 
> 赞同：1
> 
> 时间：2013-02-19T06:53:30.817
> 
> 标签：c, json

我正在使用 mjson 库（[http://mjson.sourceforge.net/](http://mjson.sourceforge.net/) ) 来做一些简单的 json 编码。json 输出应该类似于

```
{“类型”：“我的类型”，“主机名”：“我的主机名”...“状态”：“我的状态”}

```

我的函数 return `{}`，或者基于这个例子： http: [//mjson.sourceforge.net/examples.html](http://mjson.sourceforge.net/examples.html) 我让函数 return `state : "state : "myState" { "type" : "mytype" ....`，状态在数组之外。

这是我的编码功能：

```
json_t *make_LogEntryToJson( NAGIOS_LOGENTRY *logEntry )
{

    json_t *entry, *label, *value ;

    // create an entry node
    entry = json_new_object();

    // insert the first label-value pair
    label = json_new_string("type");
    value = json_new_string( logEntry -> type );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("hostname");
    value = json_new_string( logEntry -> hostname );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("srvname");
    value = json_new_string(logEntry -> srvname);
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("libelle");
    value = json_new_string( logEntry -> libelle );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("timestamp");
    value = json_new_string( logEntry -> timestamp );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("stateType");
    value = json_new_string( logEntry -> stateType );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    // insert the second label-value pair
    label = json_new_string("state");
    value = json_new_string( logEntry -> state );
    json_insert_child( label, value);
    json_insert_child(entry, label );

    return entry ;
} 
```

任何帮助将不胜感激 ！

# javascript - Rails onChange 表单提交不提交值

> ID：14951499
> 
> 赞同：0
> 
> 时间：2013-02-19T06:53:37.773
> 
> 标签：javascript, ruby, ajax, ruby-on-rails-3, erb

我正在尝试创建一个带有隐藏字段和 select_tag 的简单表单。我希望在更改时提交此表单。这是我到目前为止的代码：

```
<%= form_for :model, :multipart => true, :remote => true, :url => target_url do |f| %><br>
      <% @array.each do |r| %><br>
        <ul class="list">
          <li class="list block">
            <%= image_tag(r.image_url(:sm_thumb)) if r.try(:images).try(:first) %><br>
            <%= r.child.try(:name) %><br>
            <%= f.hidden_field :id, :value =>  r.id %><br>
            <%= select_tag 'interested_field', options_from_collection_for_select(@array_of_choices, 'id', 'first_name'), :prompt => 'Some Message', :onChange=>"this.form.submit()" if @appropriate? %><br>
          </li>  
        </ul>
      <% end %>
    <% end %> 
```

它在大多数情况下都有效，因为我能够提交表单 onChange，但问题是有时（而且它是随机的）选择框的值未在发送到控制器的参数中设置。因此，如果用户进行选择，则表单将在interested_field 中提交一个空白值， `params[:interested_field] = ''`尽管用户正在选择一个值。我一生都想不通，为什么会发生这种情况。非常感谢任何输入。

我正在使用 rails 3.2 和 ruby​​ 1.9.3

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:35:55.113

我会毫不掩饰地做到这一点。您现在需要表单的 ID `#new_model`。将此添加到页面的 javascript 中：

```
var modelForm = $("#new_model");
modelForm.find("select").change(function() {
   if( $(this).val() ) modelForm.submit();
}); 
```

如果没有价值，这至少不会提交。奇怪的是，您为同一字段枚举了一堆选择...

# objective-c - 使用 indexPathsForVisibleItems 时只获取 NSIndexPath 的一部分

> ID：14951508
> 
> 赞同：2
> 
> 时间：2013-02-19T06:54:00.263
> 
> 标签：objective-c, multidimensional-array, xcode4.5

我是 Obj-C 的新手。我一直在使用 UICollectionView 的排序功能。单元格移动后，我正在保存数据。但是 NSIndexPath 信息并不像我预期的那样。我不确定在使用 indexPathsForVisibleItems 时如何仅访问索引的一部分。

```
NSArray *visible = [self.collectionView indexPathsForVisibleItems];
NSLog(@"These are the visible cells %@", visible); 
```

这会像这样返回 NSLogs....

```
"<NSIndexPath 0x8a6b7f0> 2 indexes [0, 0]",
"<NSIndexPath 0x8a6d3d0> 2 indexes [0, 2]",
"<NSIndexPath 0x8a6d480> 2 indexes [0, 3]",
"<NSIndexPath 0x889f080> 2 indexes [0, 1]" 
```

我想得到第二列数字。NSIndex 路径中的 0,2,3,1。我确定如果我可以访问这些值，我就可以从单元格中获取信息。是否有特定的约定或转换来获取 0,2,3,1 并转换为一个简单的数组。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:08:56.067

你可以做类似...

```
NSArray *visible = [self.collectionView indexPathsForVisibleItems];
NSMutableArray *rowsArray = [NSMutableArray arrayWithCapacity:[visible count]];
[visible enumerateObjectsUsingBlock:^(NSIndexPath *indexPath, NSUInteger idx, BOOL *stop) {
  [rowsArray addObject:@(indexPath.item)];
}]; 
```

这将为您提供一个对象数组，`NSNumber`这些对象表示可见项目中 indexPaths 中的所有项目值。

如果您从 a 使用它，`UICollectionView`则不应真正使用 的`.row`属性`NSIndexPath`，因为它旨在与 a 一起使用`UITableView`。[NSIndexPath UIKit Additions](http://developer.apple.com/library/ios/#documentation/uikit/reference/NSIndexPath_UIKitAdditions/Reference/Reference.html)以供参考。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:08:00.767

```
NSMutableArray * array = [NSMutableArray array];
NSArray * arr = [self.collectionView indexPathsForVisibleItems];
for(NSIndexPath * path in arr) {
   [array addObject:[NSNumber numberWithInteger:path.section]];
   //(or)
   [arr addObject:[NSNumber numberWithInteger:path.row]];
} 
```

# c# - DeLeaker 处于远程模式？

> ID：14951510
> 
> 赞同：2
> 
> 时间：2013-02-19T06:54:05.083
> 
> 标签：c#, c++, gdi

对于远程运行的应用程序，我必须在我的源代码中找到 GDI 泄漏。我为此目的使用 DELeaker，但不知何故我找不到任何用途。DeLeaker 可以用于远程应用程序吗？如果不是，是否有任何其他应用程序可以检测远程运行的应用程序的 GDI 泄漏？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-30T19:34:47.787

没有。Deleaker 似乎只支持本地调试。

# ruby - 让 Rails 3 和 Passenger 在 CentOS 6 上工作

> ID：14951511
> 
> 赞同：0
> 
> 时间：2013-02-19T06:54:06.557
> 
> 标签：ruby, ruby-on-rails-3, apache, passenger

我的情况就像[让 Rails 3 和Passenger 在 CentOS 5.4 上工作 - Apache 错误中描述的一样](https://stackoverflow.com/questions/4946426/getting-rails-3-and-passenger-to-work-on-centos-5-4-apache-error)

细微的差别是：我使用 CentOS 6、ruby 1.9.3、passenger 3.0.19，以及在 /usr/local/lib/ruby 下编译的东西

我还遇到“无法启动生成服务器：/usr/local/lib/ruby: Permission denied (13)”

由于“su apache”给出“此帐户当前不可用”，我将 Apache 2 用户/组更改为使用我的用户/组。它仍然有上述错误。我也可以 cd 到文件夹并运行 ruby​​。事实上，我可以使用捆绑的 WEBrick 服务器启动和运行我的应用程序。

那么如何开始使用Passenger？

**编辑：**下面的补充信息（我的 /etc/httpd/conf.d/mod_passenger.conf）

```
LoadModule passenger_module /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.19/ext/apache2/mod_passenger.s‌​o
PassengerRoot /usr/local/lib/ruby/gems/1.9.1/gems/passenger-3.0.19
PassengerRuby /usr/local/lib/
PassengerSpawnMethod conservative 
```

而且我禁用了 SELinux

# android - 下载 .mp4 视频时如何更新进度条？

> ID：14951513
> 
> 赞同：1
> 
> 时间：2013-02-19T06:54:10.987
> 
> 标签：android, listview, download, android-asynctask

我们如何更新 ListView 中的进度条。当每个进度条与文件的下载相关联并且通过 AsyncTask 完成时。

```
 In the View Inflation process of ListView. (This is also not working) 
```

基本上，每当我在浏览器中获得类似 .mp4 的文件时，我都会调用此异步任务，因此可以有 n 个异步任务实例。但是然后如何使用特定的 Aysnctask 任务更新特定的进度条。我的代码在下面>>>>

```
 package com.example.testhopelist;

import java.io.BufferedInputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.URL;
import java.net.URLConnection;
import java.util.ArrayList;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Environment;
import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.Button;
import android.widget.ListView;
import android.widget.ProgressBar;

public class TestHopeList extends Activity {
    ListView lv;
    // ArrayList<String> list = new ArrayList<String>();
    ArrayList<Url_Dto> list = new ArrayList<Url_Dto>();
    MyListAdapter adtf;

    public static String prf_date_view = "";

    String str_start;
    Button all_detail;
    Button accepted_all;
    Button not_shown;
    public static SQLiteDatabase db;
    String name;
    File download;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_test_hope_list);

        list = DBAdapter.getUrl_Detail();
        Log.v("log_tag","list  :: "+list.size());
        lv = (ListView) findViewById(R.id.main_list_meet);
        adtf = new MyListAdapter(this);
        lv.setAdapter(adtf);

        SqliteAdpter dba = SqliteAdpter.getAdapterInstance(getApplicationContext());
        dba.createdatabase();
        db = dba.openDataBase();
    }

    public class MyListAdapter extends BaseAdapter {
        private LayoutInflater mInflater;

        public MyListAdapter(Context context) {
            mInflater = LayoutInflater.from(context);

        }

        public int getCount() {
            return list.size();
        }

        public Object getItem(int position) {
            return position;
        }

        public long getItemId(int position) {
            return position;
        }

        public View getView(final int position, View convertView, ViewGroup parent) {

                convertView = mInflater
                        .inflate(R.layout.custome_list_view, null);

                Button cl = (Button) convertView.findViewById(R.id.cancle_sedual);
                final ProgressBar pr=(ProgressBar)convertView.findViewById(R.id.listprogressbar);

                //pr.setProgress(getItem(position));
                cl.setOnClickListener(new View.OnClickListener() {

                    @Override
                    public void onClick(View v) {
                        // TODO Auto-generated method stub
                        str_start=list.get(position).url_video;
                        Log.v("log_tag","str_start  "+ str_start);

                        //
                        //new DownloadFileFromURL().execute(str_start);
                        new DownloadFileFromURL().execute(pr,str_start);
                    }
                });

            return convertView;
        }
    }

    class DownloadFileFromURL extends AsyncTask<Object, String, String> {

        int count = 0;
        ProgressDialog dialog;
        ProgressBar progressBar;
        int myProgress;
        /**
         * Before starting background thread Show Progress Bar Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
             ProgressBar progressBar;

        }

        /**
         * Downloading file in background thread
         * */
        @Override
        protected String doInBackground(Object... params) {

            int count;
            progressBar= (ProgressBar) params[0];
            try {
                //URL url = new URL(f_url[0]);
                URL url = new URL((String)params[1]);
                Log.v("log_tag","name  ::: "+url);
                name = ((String) params[1]).substring(((String) params[1]).lastIndexOf("/") + 1);
                Log.v("log_tag","name Substring ::: "+name);
                URLConnection conection = url.openConnection();
                conection.connect();
                // getting file length
                int lenghtOfFile = conection.getContentLength();

                // input stream to read file - with 8k buffer
                InputStream input = new BufferedInputStream(url.openStream(),
                        8192);
                  download = new File(Environment
                            .getExternalStorageDirectory()
                            + "/download/");
                          if (!download.exists()) {
                              download.mkdir();
                          }
                String strDownloaDuRL = download+"/" + name;
                Log.v("log_tag"," down url   " + strDownloaDuRL);
                FileOutputStream output = new FileOutputStream(strDownloaDuRL);

                byte data[] = new byte[1024];

                long total = 0;

                while ((count = input.read(data)) != -1) {
                    total += count;
                    // publishing the progress....
                    // After this onProgressUpdate will be called
                    publishProgress("" + (int) ((total * 100) / lenghtOfFile));

                    // writing data to file
                    output.write(data, 0, count);
                }

                // flushing output
                output.flush();

                // closing streams
                output.close();
                input.close();

            } catch (Exception e) {
                Log.e("Error: ", e.getMessage());
            }

            return null;
        }

        /**
         * Updating progress bar
         * */
        protected void onProgressUpdate(String... values) {
            progressBar.setProgress(0);
            super.onProgressUpdate(values);
            Log.v("log_tag","progress :: "+values);
            // setting progress percentage
            // pDialog.setProgress(Integer.parseInt(progress[0]));
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String file_url) {

            Log.v("log", "login  ::: 4::: "
                    + download);
            String videoPath =download +"/"+ name;
            String chpName = name;
            Log.v("log_tag","chpName  ::::"+ chpName +  "  videoPath " +videoPath);
            db.execSQL("insert into videoStatus (chapterNo,videoPath) values(\"" + chpName + "\",\"" + videoPath + "\" )");

        }

    }

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:42:28.570

我已经在 GridView 中实现了这种类型的功能。在该应用程序中，我使用 VO（值对象）管理进度条的状态。

我使用以下来执行 AsnchTask。

新的uploadTask(holder.progressBar, vo, this).execute();

在 GridView 的 getView() 方法中，

```
switch(data.getStateOfProgress())
     {
         case Constants.START_DOWNLOADING:
            holder.transBlackImage.setVisibility(View.VISIBLE);
             System.out.println("Downloading Starts........");
             holder.progressBar.setVisibility(View.VISIBLE);
             new DownloadToDeviceTask(holder.progressBar, data, this).execute();
             break;
         case Constants.STOP_DOWNLOADING:
            holder.transBlackImage.setVisibility(View.GONE);
             System.out.println("Downloading Stops..........");
             holder.progressBar.setVisibility(View.INVISIBLE);
             break;
         case Constants.DOWNLOADING:
             holder.transBlackImage.setVisibility(View.VISIBLE);
             holder.progressBar.setVisibility(View.VISIBLE);
             System.out.println("Downloading................");
             break;
         case Constants.START_UPLOADING:
            holder.transBlackImage.setVisibility(View.VISIBLE);
            holder.progressBar.setVisibility(View.VISIBLE);
             new UploadToStorageTask(holder.progressBar, data, this, isStoredOnBoth).execute();
             break;
         case Constants.STOP_UPLOADING:
            holder.transBlackImage.setVisibility(View.GONE);
             holder.progressBar.setVisibility(View.INVISIBLE);
             break;
         case Constants.UPLOADING:
            holder.transBlackImage.setVisibility(View.VISIBLE);
             holder.progressBar.setVisibility(View.VISIBLE);
             break;
     } 
```

VO如下，

```
public class BookInfoVO {
private ArrayList<BookInfoVO> bookInfoVO;
private String bookTitle;
private String bookPublicInfo;
private float bookSize;
private int bookImage;
private int bookState;
private int typeOfData;
private String folderName;
private boolean checked;
private int stateOfProgress;

public void setBookTitle(String bookTitle) {
    this.bookTitle = bookTitle;
}
public String getBookTitle() {
    return bookTitle;
}
public void setBookPublicInfo(String bookPublicInfo) {
    this.bookPublicInfo = bookPublicInfo;
}
public String getBookPublicInfo() {
    return bookPublicInfo;
}
public void setBookSize(float bookSize) {
    this.bookSize = bookSize;
}
public float getBookSize() {
    return bookSize;
}
public void setBookImage(int bookImage) {
    this.bookImage = bookImage;
}
public int getBookImage() {
    return bookImage;
}
public void setBookState(int bookState) {
    this.bookState = bookState;
}
public int getBookState() {
    return bookState;
}
public void setTypeOfData(int typeOfData) {
    this.typeOfData = typeOfData;
}
public int getTypeOfData() {
    return typeOfData;
}
public void setBookInfoVO(ArrayList<BookInfoVO> bookInfoVO) {
    this.bookInfoVO = bookInfoVO;
}
public ArrayList<BookInfoVO> getBookInfoVO() {
    return bookInfoVO;
}
public void setFolderName(String folderName) {
    this.folderName = folderName;
}
public String getFolderName() {
    return folderName;
}
public void setChecked(boolean checked) {
    this.checked = checked;
}
public boolean isChecked() {
    return checked;
}
public void setStateOfProgress(int stateOfProgress) {
    this.stateOfProgress = stateOfProgress;
}
public int getStateOfProgress() {
    return stateOfProgress;
} 
```

}

尝试这个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T07:04:14.410

> 我们如何更新 ListView 中的进度条。当每个进度条与文件的下载相关联并且通过 AsyncTask 完成时。

让 AsyncTask 接受对象参数数组，将您`ProgressBar`的每一行传递给您`asyncTask`并完成。

现在`onProgressUpdate`更新您发送到 asyncTask 的引用 progressBar 的值

**简单示例**

```
class DownloadFileFromURL extends AsyncTask<Object, String, String> {

        ProgressBar progressBar;
        @Override
        protected String doInBackground(Object... params) {
            .....
            progressBar= (ProgressBar) params[0];

            try {
                 URL url = new URL((String)params[1]);
                }
           catch (MalformedURLException e) {}
           return null;
        }

        @Override
        protected void onProgressUpdate(String... values) {
            ....
            progressBar.setProgress(0);
            super.onProgressUpdate(values);
        }

    } 
```

现在您可以按如下方式调用 AsyncTask：

```
 new DownloadFileFromURL().execute(pr,str_start); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T09:41:24.317

尝试使用此while循环更改可能会起作用

```
 while ((count = input.read(data)) != -1) {
                total += count;
                // publishing the progress....
                // After this onProgressUpdate will be called
               // publishProgress("" + (int) ((total * 100) / lenghtOfFile));

                // writing data to file
                progressBar.setProgress((int) ((total * 100) / lenghtOfFile));
                output.write(data, 0, count);
            } 
```

享受..>!!

# ruby-on-rails - 创建空输入字段的简单形式关联

> ID：14951515
> 
> 赞同：2
> 
> 时间：2013-02-19T06:54:17.423
> 
> 标签：ruby-on-rails, forms, simple-form, rails-activerecord

出于某种原因，我的 simple_form 代码正在插入

```
<input name="order[product_ids][]" type="hidden" value=""> 
```

在表格下

```
<label class="checkbox">
    <input class="check_boxes optional" id="order_product_ids_11" 
           name="order[product_ids][]" type="checkbox" value="11">Product11
</label> 
```

当我使用我的 has_and_belongs_to_many 关联表格时

```
<%= f.association :products, as: :check_boxes, include_blank: false %> 
```

带模型订单

```
class Order < ActiveRecord::Base
   belongs_to :user
   has_and_belongs_to_many :products 
```

和产品

```
class Product < ActiveRecord::Base
     has_and_belongs_to_many :orders 
```

导致错误：

```
ActiveRecord::RecordNotFound in OrdersController#create

Couldn't find all Products with IDs (3, 5, ) (found 2 results, but was looking for 3)

{"utf8"=>"✓",
 "authenticity_token"=>"F0c4J81QXRNMFDXrN55XrRafwj86lzUl3kXe/xXxKxc=",
 "order"=>{"order_type"=>"init_purchase",
 "shipping_status"=>"unshipped",
 "product_ids"=>["3",
 "5",
 ""]},
 "commit"=>"Create Order"} 
```

因为它为其中一种产品传递了一个空值。当我手动删除没有值的空输入字段时，它没有问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:17:09.633

这不是 SimpleForm 的东西，而是 Rails 的东西。在 Rails 4 中会有一个配置选项，但现在你必须手动删除它。

您可以[在此处阅读有关此内容的一些信息](https://github.com/rails/rails/issues/5402)

# c++ - 如何检查 C++ 代码中的内存泄漏。有没有免费的检查内存泄漏的工具

> ID：14951517
> 
> 赞同：2
> 
> 时间：2013-02-19T06:54:23.710
> 
> 标签：c++, memory-leaks

如何检查 C++ 代码中的内存泄漏。有没有免费的检查内存泄漏的工具

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T06:57:35.817

[http://valgrind.org/](http://valgrind.org/)

这是一个适用于 Linux 的好工具，也可以在大多数发行版的包处理程序中找到。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T06:57:37.123

是的。退房[`valgrind`](http://valgrind.org/)。它可以做很多有用的事情，包括检测内存泄漏。

# javascript - Canvas 在应用程序中进行文本编辑的替代方法是什么

> ID：14951520
> 
> 赞同：1
> 
> 时间：2013-02-19T06:54:38.013
> 
> 标签：javascript, html, cordova, html5-canvas

我想使用 JavaScript、HTML 和 CSS 开发一个画板，其中包括自由手绘和打字笔记。

我尝试使用 HTML Canvas 进行开发，但很长一段时间后，我无法开发文本编辑功能，例如保存文本内容并在 Canvas 中重新编辑保存的文件。而且我被告知不建议使用画布进行文本编辑功能。

建议我一个很好的画布替代品，它支持移动环境的文本编辑和免费绘图功能。我正在尝试在 phonegap 中为 android 和 IOS 平台构建应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T19:32:26.763

实际上只有两种可行的解决方案可以尝试做你正在做的事情，那就是

1.  帆布
2.  多姆

### 帆布

在移动设备上渲染画布中的文本可能会很慢。但是，要添加您的保存功能，它应该只是保存文本、其位置以及您已应用于本地存储的任何效果的情况。在加载时，检索信息并重新绘制它。

### DOM

实际上，使用 DOM 创建效果会容易得多，因为您可以简单地使用 CSS。但是要保存，您仍然必须使用 Javascript（如 canvas 方法）并存储您的文本属性。

如果您采用纯画布方法，您可能还很难包含一些其他功能。

* * *

*其他选择*

### 画布和 DOM

您可以将两者结合起来，因为每个都有它的优势 - 但可能会使事情变得有些复杂。

### 闪光

这将排除iOS，但Android应该很不错。

### 本国的

这将要求您的应用程序编写两次（ios 为objective-c，android 为java）。但您将获得最佳性能和功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:01:52.870

你可以试试 DOM Sprites..它很好..检查演示。 [http://buildnewgames.com/assets/article//dom-sprites/dom-sprite-demo.html](http://buildnewgames.com/assets/article//dom-sprites/dom-sprite-demo.html)

# c# - MS 图表 XValueType

> ID：14951522
> 
> 赞同：0
> 
> 时间：2013-02-19T06:54:45.807
> 
> 标签：c#, mschart

我正在使用 MS Chart 中的单个 Chart 控件将 XValueType 显示为 Time 和 Double。如果我首先选择显示 Double，它可以正常工作。但是当我在图表中显示时间值后尝试显示双倍值时。它的 x 轴值未显示，尽管它们具有值。我试过 LabelStyle.Format = "0.0"。这没用。任何身体都可以帮忙吗？提前感谢您的帮助....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:09:37.070

我刚刚找到了我的问题的解决方案。实际上，我使用相同的图表区域来显示两种不同类型的 XValueType。我刚刚清除了图表区域并将新图表区域添加到图表中，这就是我的问题解决了。

如果有人遇到这种情况，您可以将其视为解决方案。

# jquery - 在phonegap中使用jquery mobile调用带有ajax的api

> ID：14951524
> 
> 赞同：0
> 
> 时间：2013-02-19T06:54:51.807
> 
> 标签：jquery, cordova, jquery-mobile

实际上我想在android phonegap 中调用一个带有jQuery mobile ajax 调用的php url。url 的可能结果是

1.  如果成功则 - 有效
2.  如果失败 -- 代码：201

我正在使用此代码，但它不起作用帮助我。

```
 var request = $.ajax({
            url : "http://URL.com/api/validate.php?user=myUser&password=myPassword",
            type : "GET"
        });

        request.done(function(msg) {
            $("#notification").text(request.val());
        });

        request.fail(function(jqXHR, textStatus) {
            alert("Request failed: " + textStatus);
        }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:32:20.863

实际上你可以把这些函数放在 ajax 方法中

```
 $.ajax({
   url : "http://URL.com/api/validate.php?user=myUser&password=myPassword",
   type : "GET",
   success : function(data){/*yr code here*/},
   fail: function(){/*yr code here*/}
 }); 
```

# c# - udpClient：发送数据时指定源端口

> ID：14951532
> 
> 赞同：1
> 
> 时间：2013-02-19T06:55:26.490
> 
> 标签：c#, .net, udpclient

我`UdpClient`用来在多播地址上发送数据。

代码如下所示：

```
m_udpclientSender = new UdpClient();
m_remoteEndPoint = new IPEndPoint(m_multicastAddress, m_port);
m_udpclientSender.ExclusiveAddressUse = false;
m_udpclientSender.Client.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
m_udpclientSender.JoinMulticastGroup(m_multicastAddress, 255);
m_udpclientSender.ExclusiveAddressUse = false;
m_udpclientSender.Send(buffer, buffer.Length, m_remoteEndPoint); 
```

它被发送到正确的端口/ip，但它是从一个随机端口发出的（这是预期的），但我需要/希望它是从一个特定的端口（我也发送的同一个端口）发送的。

我看到了：[如何指定 UdpPacket 的源端口？](https://stackoverflow.com/questions/3297573/how-to-specify-source-port-of-a-udppacket?answertab=oldest#tab-top)

但是我不需要专门使用地址，如果我在构造函数中给出这个，我会得到一个异常（说这已经被绑定了）。

我必须放置相同的端口，因为协议定义不应多播响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T12:50:39.333

您所做的一切都是正确的，但听起来该端口的其他用户已经拥有独占端口访问权限。WinSock 不会让你从这个端口发送。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T14:08:59.697

事实上，根据[文档](http://msdn.microsoft.com/en-us/library/system.net.sockets.udpclient.exclusiveaddressuse.aspx)：

> 必须在底层套接字绑定到客户端端口之前设置此属性。如果调用 UdpClient.UdpClient(Int32)、UdpClient.UdpClient(Int32, AddressFamily)、UdpClient.UdpClient(IPEndPoint) 或 UdpClient.UdpClient(String, Int32)，则客户端端口绑定为构造函数的副作用，并且您不能随后设置 ExclusiveAddressUse 属性

所以在设置源端口时不可能将 ExclusiveAddressUse 设置为 false。我直接使用了[Socket](http://msdn.microsoft.com/en-us/library/system.net.sockets.socket.aspx)

# ios - 如何播放 Wav 文件

> ID：14951535
> 
> 赞同：1
> 
> 时间：2013-02-19T06:55:39.657
> 
> 标签：ios, avaudioplayer, wav

下面是我无法播放 SnareHitSample.wav 文件的代码。我不知道我哪里错了。

```
-(void)playAudioFiles
{
    NSString * path;
    AVAudioPlayer * snd;
    NSError * err;
    NSString *name;
    name = @"SnareHitSample.wav";
    path = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:name];

    if ([[NSFileManager defaultManager] fileExistsAtPath:path]) {
        NSURL * url = [NSURL fileURLWithPath:path];
        snd = [[AVAudioPlayer alloc] initWithContentsOfURL:url
                                                      error:&err] ;
        if (! snd) {
            NSLog(@"Sound named '%@' had error %@", name, [err localizedDescription]);
        } else {
            [snd prepareToPlay];
        }
    } else {
        NSLog(@"Sound file '%@' doesn't exist at '%@'", name, path);
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T07:42:24.250

谢谢大家，我在 .h 文件中声明了 avaudioplayer 对象，我的问题得到了解决。

```
 {
 AVAudioPlayer *player1;
  } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T06:59:48.357

Try this code.

```
NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle]
                                     pathForResource:@"SnareHitSample"
                                     ofType:@"wav"]];
NSError *error = nil;
AVAudioPlayer * audioPlayer = [[AVAudioPlayer alloc]
               initWithContentsOfURL:url
               error:&error];
if (error)
{
  NSLog(@"Error in audioPlayer: %@",[error localizedDescription]);
}
else
{
    audioPlayer.delegate = self;
    [audioPlayer play];
    [audioPlayer setNumberOfLoops:INT32_MAX]; // for continuous play
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:06:04.507

试试下面的代码：

```
AVAudioPlayer* theAudio=[[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] 
                                                                                      pathForResource:@"SnareHitSample" ofType:@"wav"]] error:NULL];
       [theAudio play]; 
```

你会摆脱这个..任何查询都会回复我..

# java - web.xml 错误 500 和 struts 全局异常有什么区别？

> ID：14951543
> 
> 赞同：0
> 
> 时间：2013-02-19T06:56:22.323
> 
> 标签：java, exception-handling, struts, web.xml

为了处理我的 java web 应用程序中的错误，我可以使用：

*   在 web.xml 文件中定义`<error-page>`如下：

    ```
    <error-page>
        <error-code>500</error-code>
        <location>/file_not_found.html</location>
    </error-page> 
    ```

*   或者在 struts-config.xml 中定义`<global-exceptions>`如下：

    ```
    <global-exceptions>
        <exception
          key="error.global.mesage"
          type="java.lang.Exception"
          path="/pages/error.jsp" />
    </global-exceptions> 
    ```

有什么区别？

在哪些情况下我应该使用这些选项中的每一个？

如果两者都在同一个应用程序中定义会发生什么？（定义两者有意义吗？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:17:08.560

第一个是专门针对 500s（内部服务器错误）的容器级错误页面。

第二个是框架级别的错误页面，专门针对`Exception`异常拦截器的操作调用期间抛出的所有子类。

异常拦截器之前/之后可能存在异常：这意味着您可能*应该*声明两者，假设它符合您的要求。

我更喜欢在尽可能接近应用程序的地方处理特定于应用程序的异常：这意味着使用 Struts 2 的声明性异常处理机制是我对应用程序本身的任何内容的选择。但是，框架本身甚至容器可能会在框架完成大部分处理之前（或之后）抛出异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:10:16.073

让我们以一个示例项目为例，其中简单的 servlets/jsps 直接提供一些简单的内容（静态文件、统计数据等），以及一个更复杂的基于 Struts 的应用程序服务于业务门户。

在简单的 servlets/jsps 中抛出未捕获的异常，异常信息将按照您在**web.xml**的“error-page”指令中定义的方式显示，而不是 Strut 的。

在基于 Struts 的业务门户中抛出未捕获的异常，异常信息将按照您在**struts-config.xml**的“global-exceptions”指令中定义的方式显示。

为了更清楚，在极少数情况下，但并非不可能，Struts 框架本身的错误会引发异常，它只能被应用程序服务器/servlet 容器捕获并使用**web.xml**的“错误页面”指令显示。

# asp.net-mvc - 列表中的 MVC4 绑定下拉列表（错误）

> ID：14951544
> 
> 赞同：4
> 
> 时间：2013-02-19T06:56:22.627
> 
> 标签：asp.net-mvc, razor, binding, html.dropdownlistfor

*我在视图中有以下代码。(index.cshtml)*

**绑定问题**

*   第一个下拉菜单根据“ChildItem”编辑器模板选择正确的值。
*   使用内联下拉列表的第二个示例*不起作用*我不想创建编辑器模板只是为了显示下拉值。
*   奇怪的是 TextBoxFor 将显示正确的值。这似乎只是下拉列表的问题。

如何修复绑定以便第二个下拉菜单起作用？我调试了它。看起来 ViewData.Eval 没有从`_.Children[i].ChooseId`.

**更新（bug）**
*这是MVC框架[http://aspnet.codeplex.com/workitem/8311中确认的bug（低优先级，如何？）](http://aspnet.codeplex.com/workitem/8311)*

```
@using (Html.BeginForm())
{
    for (int i = 0; i < Model.Children.Count(); i++)
    {
       <p>A: @Html.EditorFor(_ => _.Children[i], "ChildItem")</p>
       <p>B: @Html.DropDownListFor(_ => _.Children[i].ChooseId, TestModel.PeopleSelect)</p>
    }
    <button type="submit">GO</button>
} 
```

我试过使用`DropDownListFor(_ => Model.Children[i].ChooseId)`，同样的结果。
using`TextBoxFor(_ => _.Children[i].ChooseId)`显示正确的值，**奇怪吗？**

这里供参考`ChildItem.cshtml`

```
@using dropdown.Controllers
@using dropdown.Models
@model dropdown.Models.TestPerson
@Html.DropDownListFor(_ => _.ChooseId, TestModel.PeopleSelect) 
```

它看起来像这样：

![A有效，B无效。](../Images/f3a7d046be3dbb9b992680d9d0dde4ee.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T11:39:27.403

我随后发现了这个：[http](http://aspnet.codeplex.com/workitem/8311) ://aspnet.codeplex.com/workitem/8311 这是一个已确认的错误。

我发现的唯一解决方法是这个。

## 标记所选项目

`@Html.DropDownListFor(_ => _.Children[i].ChooseId, Mark(TestModel.PeopleSelect, Model.Children[i].ChooseId))`

## 标记功能/扩展方法

```
@functions {
    private IEnumerable<SelectListItem> Mark(IEnumerable<SelectListItem> items, object Id)
    {
        foreach (var item in items)
            if (string.CompareOrdinal(item.Value, Convert.ToString(Id)) == 0)
                item.Selected = true;
        return items;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-10-11T02:15:08.513

您可以将项目放入部分视图并为您的子对象加载它，或者......

您可以选择对子集合进行`foreach`循环，并像这样使用它：

```
foreach (var itm in Model.Children)
{
    @Html.DropDownListFor(modelItem => itm.ChooseId,
          new SelectList( (IEnumerable<SelectListItem>)TestModel.PeopleSelect, "Value", "Text", itm.ChooseId),
          htmlAttributes: new { @class = "form-control" }
    )
} 
```

这假设`TestModel.PeopleSelect`已创建为 a`SelectListItem[]`或`IEnumerable<SelectListItem>`。正确执行此操作的代码在我对相关问题的回答中： [ASP.NET MVC4 Model's Child Collection Drop Down List not binding proper](https://stackoverflow.com/questions/24373336/asp-net-mvc4-models-child-collection-drop-down-list-not-binding-properly/52750667#52750667)

对子集合执行`for`循环给了我错误：

> 无法将带有 [] 的索引应用于“ICollection<Children>”类型的表达式

所以我不建议这样做。

# jsf-2 - c:forEach 在 Tomcat 7 中不起作用

> ID：14951545
> 
> 赞同：0
> 
> 时间：2013-02-19T06:56:24.103
> 
> 标签：jsf-2, foreach, tomcat7

**我使用c:forEach**标签创建了简单的页面。它在tomcat 6中工作。但是`not working tomcat 7`。使用 JSF 2.0 开发简单的 Web 应用程序。

我在tomcat 6中运行我的代码。它的工作。我部署在tomcat 7中。它不工作。c:forEach 标记结果未出现。

**欢迎JSF.jsp**

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib prefix="f" uri="http://java.sun.com/jsf/core"%>
<%@taglib prefix="h" uri="http://java.sun.com/jsf/html"%>
<%@taglib  uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<f:view>
   <html>
      <head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      </head>
      <body>
            <h:form id="forEachForm" binding="#{simpleDemo.initForm}">
            <c:forEach items="#{simpleDemo.userBeanList}" var="userBean"  varStatus="status">
                <h:panelGrid columns="2" border="1"> 

                    <h:outputText value="#{userBean.userName}"/>
                    <h:outputText value="#{userBean.role}"/>

                </h:panelGrid>

            </c:forEach>
</h:form>
 </body></html></f:view> 
```

我用了下面的罐子

```
1\. jsf-api.jar
2\. jsf-impl.jar
3\. jstl-1.2.jar
4\. standard.jar 
```

web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

<context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Development</param-value>
</context-param>
<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
</servlet-mapping>
<session-config>
    <session-timeout>
        30
    </session-timeout>
</session-config>
<welcome-file-list>
    <welcome-file>faces/welcomeJSF.jsp</welcome-file>
</welcome-file-list>
</web-app> 
```

**面孔-config.xml**

```
<?xml version='1.0' encoding='UTF-8'?>
<faces-config version="2.0"
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns
/javaee/web-facesconfig_2_0.xsd">

<managed-bean>
    <managed-bean-name>simpleDemo</managed-bean-name>
    <managed-bean-class>com.tomcat.foreach.SimpleDemo</managed-bean-class>
    <managed-bean-scope>session</managed-bean-scope>
</managed-bean>    
</faces-config> 
```

**简单演示.java**

```
package com.tomcat.foreach;

import java.util.ArrayList;
import java.util.List;
import javax.faces.component.html.HtmlForm;

public class SimpleDemo
{
private HtmlForm initForm;
private List<UserBean> userBeanList = new ArrayList<UserBean>();    

public HtmlForm getInitForm()
{
    userBeanList.clear();

    UserBean userBean = new UserBean();
    userBean.setUserName("jack");
    userBean.setRole("sample Role");
    userBeanList.add(userBean);

    userBean = new UserBean();
    userBean.setUserName("adminuser");
    userBean.setRole("Admin Role");
    userBeanList.add(userBean);

    userBean = new UserBean();
    userBean.setUserName("Test User");
    userBean.setRole("Test role");
    userBeanList.add(userBean);

    return initForm;
}

public void setInitForm(HtmlForm initForm){
    this.initForm = initForm;
}
public List<UserBean> getUserBeanList(){
    return userBeanList;
}
public void setUserBeanList(List<UserBean> userBeanList){
    this.userBeanList = userBeanList;
}  } 
```

**用户Bean.java**

```
package com.tomcat.foreach;

public class UserBean
{
private String userName;
private String role;

public String getUserName(){
    return userName;
}
public void setUserName(String userName){
    this.userName = userName;
}
public String getRole(){
    return role;
}
public void setRole(String role){
    this.role = role;
} 
```

}

帮助我，提前谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T12:17:14.340

删除`standard.jar`. 它来自 JSTL 1.1，与您的 JSTL 1.2 冲突。

### 也可以看看：

*   [我们的 JSTL 维基页面](https://stackoverflow.com/tags/jstl/info)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:19:06.090

您的代码中的表单绑定（您没有以编程方式创建表单）和视图中的表单定义存在问题，因此删除绑定将解决您的大部分问题。其余的在评论和这个答案中提到。

1.  *风景*

首先，不需要使用表单绑定。JSF 旨在简化开发，因此请使用它的特性。因此，您的表单将完全在您的视图中定义。接下来，您的用法在`<c:forEach>`这里很奇怪。*它必须在您的代码中工作，但是当您的视图增长时，它可能会导致臭名昭著的视图构建时间与视图渲染时间*问题的微妙且难以调试的问题。为了更好地阐述，请参阅[**jsf2 facelets 中的 Jstl 在这里 BalusC 的回答是有意义**](https://stackoverflow.com/questions/3342984/jstl-in-jsf2-facelets-makes-sense)的，记住这`<c:forEach>`是一个 JSTL 标记处理程序并且`<ui:repeat>`是一个 JSF UI 组件。

```
<h:form id="forEachForm" >
    <ui:repeat value="#{simpleDemo.userList}" var="user">
        <h:panelGrid columns="2" border="1"> 
            <h:outputText value="#{userBean.userName}"/>
            <h:outputText value="#{userBean.role}"/>
        </h:panelGrid>
    </ui:repeat>
</h:form> 
```

但请注意，您使用`<c:forEach>`而不是的视图`<ui:repeat>`也可以。

2.  *该模型*

请注意，`User`它不是托管 bean，而是您的模型数据类（`@Entity`或 POJO）。因此，您的托管 bean（您决定将其放在会话范围内）将当前用户保存在一个列表中。

我建议使用注释来声明托管 bean，但是，当然，您可以自由地将它们定义为旧的`faces-config.xml`.

此外，其中的业务方法`getForm()`是一种不好的做法。最好在`@PostConstruct`或`preRederView`event / page中完成`action`，但不是在 getter 方法中。

```
@ManagedBean
@SessionScoped
public class SimpleDemo {

    private List<User> userList = new ArrayList<>();

    public SimpleDemo() {
        //mock data
        User user1 = new User("User 1", "Role 1");
        User user2 = new User("User 2", "Role 2");
        userList.add(user1);
        userList.add(user2);
    }

    //getters and setters for list

}

public class User {

    private String userName;
    private String role;

    //constructors, setters, getters

} 
```

通过此设置，您的表单将在检索信息时填充用户列表（因为它将在 bean 的构造函数中完全初始化）。

# asp.net - 除了 POST、PUT、DELETE、GET 之外还有哪些 HTTP 方法

> ID：14951548
> 
> 赞同：0
> 
> 时间：2013-02-19T06:56:28.017
> 
> 标签：asp.net, web-services, rest, asp.net-web-api

我正在使用 ASP.NET 的 WebAPI 创建一个 Web 服务。

似乎 ApiController 中的方法名称映射到了 Uri。

例如，PutProducts 添加产品

如果我想要一个执行的方法说..一个批处理文件..像 ExecuteProcess1();

这不需要返回任何商业价值的任何价值。只是让客户随意开火，这适合我的网络服务吗？应该调用什么方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:35:11.490

简单地说，你可以使用任何你想让它工作的 HTTP 动词。但是遵循 REST Api 如何使用的最佳实践，简单的概念是：

1.  GET：在不改变服务器状态的情况下从 REST 服务中提取资源。
2.  POST：创建新资源。
3.  PUT：更新资源。
4.  DELETE：删除资源。

所以：

1.  如果您的方法：`ExecuteProcess`运行在服务器上创建某些内容的进程，请使用 POST。
2.  如果它更新了服务器上的某些内容，请使用 PUT。
3.  如果它删除了服务器上的某些内容，请使用 DELETE。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:24:30.203

如果该方法正在修改服务器上的某些状态（例如更新数据库中的记录，写入文件，...），您应该使用 POST HTTP 动词。根据此方法正在修改的*资源*，您可以拥有相应的 API 控制器：

```
public class SomeResourceController: Controller
{
    public void Post()
    {
        ... do the processing here
    }
} 
```

显然，您将用您正在操作的资源（产品、订单、人员……）替换此控制器名称中的*SomeResource 。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:31:17.403

如果您正在考虑将流程作为资源，那么理想情况下，您将执行 POST [假设您发布流程名称]，否则将执行具有成功流程执行所需的适当查询参数的 GET。

更好的方法是 POST 用于启动流程，GET 以查看流程的状态，例如完成、进行中等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:28:49.053

您可以使用 POST 或 GET，这取决于您要更新的内容。但在这种情况下，您应该使用普通的 mvc 控制器和操作。不管有没有 WebApi，它们仍然是 HTTP 请求。

# facebook-graph-api - Facebook PHP SDK 登录网址

> ID：14951550
> 
> 赞同：1
> 
> 时间：2013-02-19T06:56:35.953
> 
> 标签：facebook-graph-api

我想我的应用程序中的设置可能不正确，因为如果我将用户发送到 Facebook 登录 url 以获取权限，它会将他们发送到应用程序概述页面（带有“转到应用程序”按钮的页面），然后发送给他们到权限请求页面。有没有办法将他们直接发送到请求权限页面，让 Facebook 处理他们是否登录？

```
$params = array(
        'scope' => 'manage_pages',
        'redirect_uri' => 'xxxxxxxxxxx/connect/step2.php',
    );
    $loginUrl = $facebook->getLoginUrl($params); 
```

# php - PHP 交换网络服务

> ID：14951552
> 
> 赞同：0
> 
> 时间：2013-02-19T06:56:38.210
> 
> 标签：php, web-services, exchangewebservices

我在 PHP（PHP EWS）中使用交换 Web 服务来检索 MS Exchange 日历事件。但没有得到事件的重复规则。所以无法找到事件是否重复发生。我怎样才能找到完整的详细信息事件？任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T14:43:41.647

看看： http: [//msdn.microsoft.com/en-us/library/exchange/aa565898 (v=exchg.140).aspx](http://msdn.microsoft.com/en-us/library/exchange/aa565898(v=exchg.140).aspx)

您有几个选项来定义如何从服务器返回数据。他们是：

仅合并

闲忙

FreeBusyMerged

详细的

详细合并

通过您在日历上设置的测试会议尝试这些中的每一个，并运行 print_r 以查看它是否具有您正在寻找的信息。

# clearcase - 无法使用 cleartool 命令访问 WEB 视图

> ID：14951556
> 
> 赞同：1
> 
> 时间：2013-02-19T06:57:21.010
> 
> 标签：clearcase, clearcase-ucm, cleartool

我在 Clear team explorer 的一个分支上创建了一个 web 视图，并将所有元素都放到了我的本地目录 C:\Documents and settings\view1\vob\src 中。

现在的问题是我想找到上述目录中存在的元素的标签和最后修改日期。

我尝试使用 cleartool 命令。

```
cleartool find C:\Documents and settings\view1\vob\src -type f -version "(lbtype(PROD))" -print 
```

但我收到以下错误

```
cleartool: Error: Not an object in a vob: "C:\views\ac62599\AC62599_view\vob\".
cleartool: Warning: Skipping "C:\views\ac62599\AC62599_view\vob\". 
```

我也尝试开始查看

```
cleartool startview view1 
```

它也给出了一个错误

```
cleartool: Error: View tag not found: "view1". 
```

请帮助我，我的要求是找到缺少标签 PROD 的元素，并找到在指定日期合并到主分支的元素，我正在使用 perl 脚本来满足这些要求。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:10:27.113

您应该在视图中执行 cleartool find。

```
cd C:\Documents and settings\view1\vob\src
cleartool find . -type f -version "(lbtype(PROD))" -print 
```

要获取视图的名称：

```
cd  C:\Documents and settings\view1\vob\src
cleartool lsview -cview 
```

请注意，`cleartool`它可用于完整的 ClearCase 安装，我怀疑它可用于 CCRC，即使用[Web 视图](http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m1/index.jsp?topic=/com.ibm.rational.clearcase.doc/topics/c_ccview.htm)的 ClearCase 远程客户端（不太确定使用 ClearTeam，它是[v8 中 CCRC 的新名称](http://publib.boulder.ibm.com/infocenter/cchelp/v8r0m0/index.jsp?topic=/com.ibm.rational.clearcase.help.ic.doc/topics/c_whatsnew.htm)）。

# iphone - 如何根据 iPhone 5 屏幕定位 uicontrols

> ID：14951562
> 
> 赞同：0
> 
> 时间：2013-02-19T06:57:41.947
> 
> 标签：iphone, ios, uicontrol

我正在尝试根据 iphone 5 屏幕尺寸定位 uicontrols。因此我已相应地设置了背景图像。但我不确定如何定位 uicontrols。

请告诉我

```
UIImage* myImage;
  CGFloat screenHeight = [UIScreen mainScreen].bounds.size.height;
  if ([UIScreen mainScreen].scale == 2.f && screenHeight == 568.0f) {
    myImage = [UIImage imageNamed:@"bg-for5-568h.png"];
  } else {
    myImage = [UIImage imageNamed:@"bg.png"];
  }

  self.view.backgroundColor = [UIColor colorWithPatternImage:myImage];
  self.view.autoresizesSubviews = YES;
  self.navigationController.navigationBarHidden = YES;

  // Create an UIButton
  UIButton *aCalculateBtn = [UIButton buttonWithType: UIButtonTypeCustom]; 
  UIImage *imgBack = [[UIImage imageNamed:@"calc.png"]
  stretchableImageWithLeftCapWidth:22
  topCapHeight:0];

  [aCalculateBtn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
  aCalculateBtn.titleLabel.font = [UIFont boldSystemFontOfSize:14.0];
  aCalculateBtn.titleLabel.shadowOffset = CGSizeMake(0, -1);
  [aCalculateBtn setBackgroundImage:imgBack forState:UIControlStateNormal];  
  [aCalculateBtn addTarget:self action:@selector(showQuestions) forControlEvents:UIControlEventTouchUpInside]; 
  aCalculateBtn.frame = CGRectMake(150,160, 150, 38);  
  aCalculateBtn.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
  aCalculateBtn.bounds = CGRectInset(aCalculateBtn.bounds, -3, 1);
  [self.view addSubview:aCalculateBtn];

  // Create an UIButton
  UIButton *anAboutBtn = [UIButton buttonWithType: UIButtonTypeCustom]; 
  UIImage *imgAbout = [[UIImage imageNamed:@"about-us.png"]stretchableImageWithLeftCapWidth:22 topCapHeight:0];
  [anAboutBtn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
  anAboutBtn.titleLabel.font = [UIFont boldSystemFontOfSize:14.0];
  anAboutBtn.titleLabel.shadowOffset = CGSizeMake(0, -1);
  [anAboutBtn setBackgroundImage:imgAbout forState:UIControlStateNormal];  
  [anAboutBtn addTarget:self action:@selector(showAbout) 
   forControlEvents:UIControlEventTouchUpInside]; 
  anAboutBtn.frame = CGRectMake(150,190, 150, 38);  
  anAboutBtn.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
  anAboutBtn.bounds = CGRectInset(anAboutBtn.bounds, -3, 1);
  [self.view addSubview:anAboutBtn]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:17:47.657

您有 2 个选择，您可以使用 Autolayout 并使用此处阅读的 Layout 约束：

[http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/AutolayoutPG/Articles/adoption.html](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/AutolayoutPG/Articles/adoption.html)

您需要像这样根据屏幕高度更改每个版本的 view.frame.origin 或 view.frame.center 。

```
if([ [ UIScreen mainScreen ] bounds ].size.height == 568 )
{
    self.view.frame = CGRectMake(0,0,320,568);
    self.view.center = CGPointMake(284);

}
else
{
     self.view.frame = CGRectMake(0,0,320,480);
     self.view.center = CGPointMake(160,240);
} 
```

# ruby - Ruby 1.9 上的“重试”有什么用？

> ID：14951563
> 
> 赞同：1
> 
> 时间：2013-02-19T06:57:45.020
> 
> 标签：ruby

在 Ruby 1.8 中，`retry`可以像这样使用：

```
for i in 0..4
  puts i
  retry if i == 4
end 
```

但是在 Ruby 1.9 中，它会抛出一个错误： Invalid retry, what is used `retry`in Ruby 1.9? `retry`我在[http://www.ruby-doc.org](http://www.ruby-doc.org)上找不到=(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T07:00:26.047

It is for retrying failed operations (when you catch an exception)

```
n = 0
begin
  puts 'Trying to do something'
  raise 'oops'
rescue => ex
  puts ex
  n += 1
  retry if n < 3
end
puts "Ok, I give up"

# >> Trying to do something
# >> oops
# >> Trying to do something
# >> oops
# >> Trying to do something
# >> oops
# >> Ok, I give up 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-18T12:56:55.857

首先，我相信重试只能在开始结束块（或方法定义中的隐式开始结束块）中工作。这意味着它会跳回开始。不是循环的开始。同样从 1.9 开始，重试仅在救援中有效。

```
begin # should jump here
  for i in 4..0
    puts i
    4 / i
  end
rescue
  retry
end 
```

我认为您正在寻找的是重做。

```
for i in 0..4
  puts i
  redo if i == 4
end 
```

请注意，重做将再次执行最后一次迭代。结果是：

```
0
1
2
3
4
4 # => infinite loop 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-20T22:04:45.337

Ruby 1.9 仅支持`retry`in`begin rescue`子句。

您可以使用延续来复制旧的行为`retry`

```
require 'continuation'

def with_retry
  loop { callcc { |cc| def cc.retry; call; end; yield cc; return }}
end

with_retry do |cc|
  for n in 1..4
    puts n
    cc.retry if n == 4
  end
end 
```

# jquery - Coffeescript 对象方法不是函数

> ID：14951569
> 
> 赞同：1
> 
> 时间：2013-02-19T06:57:58.937
> 
> 标签：jquery, ruby-on-rails, coffeescript

我有一个 CoffeeScript 对象，它在触发操作后给我一个奇怪的错误。

对象加载时不会发生意外，尽管一旦完成触发回调的操作，我就会收到错误消息：

**this.update 不是函数** *return this.update(value);*

有谁知道为什么会发生此错误？我最好的猜测是jQuery.rating 调用中的*this对象实际上是指一个 jQuery 对象，而不是 rating 对象？*

我的 CoffeeScript 代码是：

```
jQuery ->
    new Rating()

class Rating
    constructor: ->
        $('.auto-submit-star').rating
            callback: 
                (value, link) -> @update value

    update: (value) =>
        $.ajax
            type: 'post'
            url: $('#new_rating').attr('action')
            data: 'rating': value
        .done ( msg ) -> 
            alert( msg ) 
```

代码编译为：

```
var Rating,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

Rating = (function() {

  function Rating() {
    this.update = __bind(this.update, this);
    $('.auto-submit-star').rating({
      callback: function(value, link) {
        return this.update(value);
      }
    });
  }

  Rating.prototype.update = function(value) {
    return $.ajax({
      type: 'post',
      url: $('#new_rating').attr('action'),
      data: {
        'rating': value
      }
    }).done(function(msg) {
      return alert(msg);
    });
  };

  return Rating;

})(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:05:57.510

您的`rating`插件可能将 .`callback`作为一个简单的函数或在 DOM 元素的上下文中调用，因此`@`（AKA `this`）可能是`window`您的`.auto-submit-star`元素。无论如何，`@`不​​是您的`Rating`对象并且没有`update`方法，因此您会收到错误消息。

标准方法是通过[粗箭头 ( `=>`)](http://coffeescript.org/#fat_arrow)使用绑定函数：

```
$('.auto-submit-star').rating
    callback: 
        (value, link) => @update value 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-31T16:16:53.443

我遇到了一个类似的错误：'fn.apply is not a function' 结果是我有一个与方法同名的构造函数参数。

```
do->
  angular.module 'myservices'
  .service 'averyspecialservice', ['$log', '$rootScope'
    class AVerySpecialService
      constructor: (@log, @rootScope)->

      log: (message)=>
        //do some magic here
        return
  ]
  return
```

因此，'log' 被定义为一种方法和注入值，并且用如此模糊的错误消息找到错误的原因被证明很有趣...... JavaScript 不是很棒吗？

# linux - 在 linux 上修复几千个文件名

> ID：14951571
> 
> 赞同：2
> 
> 时间：2013-02-19T06:58:03.477
> 
> 标签：linux, file, unix, rename, numbered

我使用 ffmpeg 从视频中提取剪辑，遵循此模式“clip-%4d.png”。

这产生了类似的文件：`clip-0001.png`，`clip-0002.png`等等。

然后，我对这些图片应用了许多带有 imagemagick“转换”的过滤器，它运行了几个小时。

我意识到我的列表顺序在 之后被破坏了`clip-9999.png`，它变成`clip-10000.png`了`clip-40000.png`，成功地破坏了我的剪辑序列。

我想将我所有的剪​​辑转换为遵循序列`clip-00000.png`，`clip-00001.png`最多`clip-40000.png`.

我可以使用模式 'clip-%5d' 重新启动整个过程，但我被告知`rename`实用程序可能会解决我的问题；但是我自己对正则表达式很陌生。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T07:02:15.170

在 bash 中使用此命令：

```
for file in clip-????.png ; do
    mv ${file} clip-0${file#clip-}
done 
```

要检查该命令是否正确，请将“mv”替换为“echo mv”以查看将要完成的重命名列表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:03:35.817

你可以这样做：

```
for f in clip-[0-9][0-9][0-9][0-9].png; do mv $f `echo $f | sed 's/clip-/clip-0/'`; done 
```

注意：要在不实际执行任何操作的情况下进行测试，请替换`mv`为`echo mv`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T07:06:11.497

### 使用基于 Perl 的`rename`命令

如果你有一个基于 Perl 的`rename`命令，那就很简单了：

```
rename 's/(\d{4})/0$1/' *-????.png 
```

我顺便指出，如果您确实有大约 10,000 个剪辑要重命名，您可能需要使用`xargs`或`find`避免“参数列表太长”的问题。

```
find . -name 'clip-????.png' -exec rename 's/(\{4})/0$1/' {} + 
```

或者：

```
find . -name 'clip-????.png' -print | xargs rename 's/(\d{4})/0$1/' 
```

由于您的姓名不包含空格，因此两者都可以。如果需要担心空格，请使用`find`-only 变体，假设您`find`支持 POSIX 2008`+`表示法到`find`. 这可以应用于任何其他答案，但要小心。

我注意到这个 Perl 脚本避免了必须执行`mv`10,000 次，因此它可能超过`mv`为每个文件重命名执行的任何 shell 脚本。对于一次性练习，这可能无关紧要，但当您获得超过 100,000 个剪辑时，它就会成为一个更大的问题。

此外，下面的脚本具有读取文件名的选项，每行一个，但它会将整个文件名吞入内存，效率不高（但存在于脚本的原始版本中并已保留，即使虽然我几乎没有使用过这个选项）。假设一台正常的现代机器（比如 1 GiB 的内存，但更少的内存就足够了），这不会成为一个问题，只有 10,000 个名称，每个名称长度为 12 个字符。所以你也可以使用：

```
find . -name 'clip-????.png' -print | rename 's/(\d{4})/0$1/' 
```

* * *

### 基于 Perl 的`rename`脚本

如果您没有基于 Perl 的`rename`命令，我会使用这个。它最初来自骆驼书的第一版，但多年来已经进行了一些修改：

```
#!/usr/bin/env perl
#
# @(#)$Id: rename.pl,v 1.8 2011/06/03 22:30:22 jleffler Exp $
#
# Rename files using a Perl substitute or transliterate command

use strict;
use warnings;
use Getopt::Std;

my(%opts);
my($usage) = "Usage: $0 [-fnxV] perlexpr [filenames]\n";
my($force) = 0;
my($noexc) = 0;
my($trace) = 0;

die $usage unless getopts('fnxV', \%opts);

if ($opts{V})
{
    printf "%s\n", q'RENAME Version $Revision: 1.8 $ ($Date: 2011/06/03 22:30:22 $)';
    exit 0;
}
$force = 1 if ($opts{f});
$noexc = 1 if ($opts{n});
$trace = 1 if ($opts{x});

my($op) = shift;
die $usage unless defined $op;

if (!@ARGV) {
    @ARGV = <STDIN>;
    chop(@ARGV);
}

for (@ARGV)
{
    if (-e $_ || -l $_)
    {
        my($was) = $_;
        eval $op;
        die $@ if $@;
        next if ($was eq $_);
        if ($force == 0 && -f $_)
        {
            print STDERR "rename failed: $was - $_ exists\n";
        }
        else
        {
            print "+ $was --> $_\n" if $trace;
            print STDERR "rename failed: $was - $!\n"
                unless ($noexc || rename($was, $_));
        }
    }
    else
    {
        print STDERR "$_ - $!\n";
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:09:23.957

你可以[在这里查看](http://theunixshell.blogspot.com/2013/01/bulk-renaming-of-files-in-unix.html)：

您可以将`gsub(/-\(.*\)/,"",$0);`链接中的命令替换为

```
gsub(/-/,"-0",$0); 
```

并且该`ls -1`部分将被替换为`ls -1 clip-????.png` 您还需要删除 awk 命令中的搜索部分。我在下面使用示例文件进行了测试。

**@jonathan**，我不太明白你在说什么。但下面是我做的测试：

```
> ls -1 clip-????.png
clip-0003.png
clip-1111.png

> ls -1 clip-????.png | nawk '{old=$0;gsub(/-/,"-0",$0);system("mv \""old"\" "$0)}'
phoenix.332> ls -1 clip-?????.png
clip-00003.png
clip-01111.png
> ls -1 clip-????.png
ls: No match. 
```

nawk 在 solaris 上。您可以将 awk 用于其他风格的 unix。

# jquery - Rails 在 jQuery 或 Backbone 中的 content_tag 模拟？

> ID：14951574
> 
> 赞同：0
> 
> 时间：2013-02-19T06:58:20.917
> 
> 标签：jquery, ruby-on-rails, ruby-on-rails-3, backbone.js, underscore.js

jQuery 或 Backbone 中是否有与Rails 中的[content_tag](http://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-content_tag) 辅助方法类似的内容？

我想构建一段复杂的 html，我想在客户端运行时生成它。所以我正在寻找优雅的方法来做到这一点。（例如，它绝对不是字符串连接）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:02:30.107

使用 jQuery，您可以：

```
$('<p />' {text: 'Hello world'});
$('<div />', {text: 'Hello world!', class: 'strong'}); 
```

如果你想要稍微复杂一点的东西：

```
var $container = $('<div />', {class: 'strong'});
$('<p />', {text: 'Hello world'}).appendTo($container); 
```

# matlab - 向matlab图形添加注释后，图形闪烁太糟糕了

> ID：14951575
> 
> 赞同：1
> 
> 时间：2013-02-19T06:58:28.247
> 
> 标签：matlab, animation, annotations, plot

我正在尝试通过以下代码使用 matlab 绘制动画

```
height = 0.5;
for temp=1:1000
  clf('reset');
  height = 0.5-temp/1000;
   annotation(gcf,'rectangle',[0.957845238095236-0.1 0.1595238095238094 0.00941666666666667 height],'FaceColor',[1 0 0]);
   x = rand(1, 20);
   y = rand(1, 20);
   plot(x, y, '.', 'markersize', 5);
   axis([0 1 0 1]);
   drawnow;
end 
```

如果我隐藏注释代码，它运行得很好，但如果注释在那里，它会闪烁得很糟糕，并且会减慢模拟速度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:20:05.573

您可以注释掉该`clf('reset');`行以解决此问题...

# quickbooks - 更新客户 - Intuit Anywhere

> ID：14951576
> 
> 赞同：1
> 
> 时间：2013-02-19T06:58:31.133
> 
> 标签：quickbooks

我们正在尝试在我们的应用程序中添加回写功能。我们正在使用 Java SDK。我们尝试两种方法来更新现有客户

方法一

1.  使用 customerQuery 检索客户对象
2.  使用相同的客户对象进行更新
3.  成功更新。

方法二

1.  创建新的客户对象
2.  使用 SetId() 方法为新创建的对象设置 ID
3.  更新客户
4.  得到以下异常

-2001 错误详细信息 :: cvc-complex-type.2.4.a：发现以元素“MiddleName”开头的无效内容。'{" [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":SyncToken、" [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":MetaData、" [http://www之一.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":ExternalKey, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":同步, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":AlternateId, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":CustomField, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":Draft, " [http://www .intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":ObjectState, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":PartyReferenceId, "“：TypeOf}”是预期的。com.intuit.ds.qb.IDSException：错误（-2001）：cvc-complex-type.2.4.a：发现以元素“MiddleName”开头的无效内容。“{”之一[http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":SyncToken, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":MetaData, " [http://www.intuit.com/ sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":ExternalKey, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":Synchronized, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":AlternateId, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":CustomField, " [http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":草稿, " [http://www.intuit.com/ sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":ObjectState, " [http://www.intuit.](http://www.intuit.com/sb/cdm/v2)com/sb/cdm/v2 ":PartyReferenceId, "[http://www.intuit.com/sb/cdm/v2](http://www.intuit.com/sb/cdm/v2) ":TypeOf}' 是预期的。

方法 1 运行良好。但是我是否对方法2感到怀疑。第一种方法是否正确？第二种方法有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T13:06:52.187

> 方法二
> 
> 使用 SetId() 方法为新创建的对象更新客户创建新的客户对象集 ID 获取以下异常

这 ^^^ 将不起作用，因为那时您没有提供 SyncToken 值。

查看[文档](https://ipp.developer.intuit.com/0010_Intuit_Partner_Platform/0050_Data_Services/0500_QuickBooks_Windows/0100_Calling_Data_Services/0020_Updating_an_Object)并查看[QuickBooks 客户示例的更新](http://www.consolibyte.com/docs/index.php/IDS_XML_for_Updating_a_Customer)，特别注意始终显示的 SyncToken 标签。

*每当您使用 QuickBooks 进行更新/修改操作时，必须始终提供最新*的SyncToken 标签。这意味着要更新客户*，您必须始终先进行查询以获取最新的 SyncToken 值*，在您的 mod/update 请求中设置 SyncToken，然后发送请求。

有关 SyncTokens 的更多信息，请访问我们的[QuickBooks 集成 wiki](http://www.consolibyte.com/docs/index.php/What_is_a_SyncToken)。

# ssrs-2008 - 在 SSRS 的数据驱动订阅中传递多值参数

> ID：14951577
> 
> 赞同：0
> 
> 时间：2013-02-19T06:58:39.733
> 
> 标签：ssrs-2008, reporting-services

我需要在 SSRS 中安排通过电子邮件发送的报告。我选择了数据驱动订阅，因为报告需要发送到分发列表。

我有 2 个参数，Store 和 DateTime。Store 是一个多值参数，用户必须选择 Datetime。但是当我尝试运行数据驱动订阅时，它会提示错误！

我浏览了一些帖子，说明 DDS 不接受多值参数！

有解决办法吗？？谁能详细说明如何做到这一点？

谢谢，伊斯瓦娅

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:12:21.767

可能您可以尝试使用分隔符发送参数，并在传递到 sql 后将多个参数拆分出来。

我已经这样做了几次，困难的一点可能是把它们分开。诚然，我使用的是 Oracle。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-01T19:53:25.623

我遇到了同样的问题，并通过使用 listagg() 函数在 DDS 查询中创建一个逗号分隔的值列表来解决它。例如，

SELECT email_address , listagg(transaction_id, ', ') WITHIN GROUP (ORDER BY transaction_id) AS trans_ids FROM my_table

结果将是一个可以传递给报告的单值字符串（即'001, 002, 003'）。在报表查询中，我使用了 instr() 来解析字符串：

选择 ..... 在哪里 instr(:Transaction_ID, transaction_id) > 0

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-19T16:08:55.493

传递给 SSRS 多字符串参数的值需要在可用值列表中。如果在运行时检索报告参数值但用于检索可用值的查询没有返回数据 (null)，也可能会发生错误。

希望这会有所帮助，祝你好运！

# c# - 类枚举

> ID：14951583
> 
> 赞同：10
> 
> 时间：2013-02-19T06:58:59.543
> 
> 标签：c#, .net, string, constants, static-members

我正在寻找关于如何创建类枚举而不是包含字符串值的类的最佳实践。像这样的东西：

```
public static class CustomerType
{
  public static string Type1 = "Customer Type 1";
  public static string Type2 = "Customer Type 2";
} 
```

我会在整个应用程序中使用这个类作为我需要 CustomerType 的所有情况的值。我不能使用 Enum，因为这是遗留系统，并且像这样的值在任何地方都是硬编码的，我只是想将它们集中在一个地方。

问题是，在上面的例子中，我应该使用声明一个变量：

1.  静态只读关键字
2.  常量关键字
3.  或者只是静态的

设置这些类和值的最佳实践是什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-19T07:07:03.113

你不应该*使用*plain `static`，因为这些字段可能会被无意修改并导致神秘的破坏。因此，您的两个选择是`static readonly`和`const`。

`const`将导致变量的值在编译时嵌入到调用代码中，这实际上等效于旧的硬编码代码（但具有符号常量的优点）。的危险`const`是，如果 a`const`发生更改，您必须重新编译所有内容，以免最终出现不同步的常量和棘手的错误。

`static readonly`将导致正常的字段访问，因此您不会遇到同步问题。但是，由于额外的字段访问，您可能会受到轻微的性能影响（尽管除非您在性能关键代码中大量使用这些字段，否则它可能不会引起注意）。如果您认为将来必须更改字符串，您将需要使用`static readonly`.

从它的声音来看，价值很少会改变，这`const`是一个安全的赌注。但是，最终决定权在您。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T07:22:51.143

如果您使用的是 C#，为什么不创建一个枚举并`string`根据`Description` `attribute`以下`enum`值进行设置：

```
public enum CustomerType
{
    [System.ComponentModel.Description("Customer Type 1")]
    Type1,

    [System.ComponentModelDescription("Customer Type 2")]
    Type2
} 
```

然后，您可以获得`Description`枚举值的值，如下所示：

```
int value = CustermType.Type1;
string type1Description = Enums.GetDescription((CustomerType)value); 
```

有关获取枚举属性值的*各种*`Description`其他方法，请参阅此[SO QA](https://stackoverflow.com/questions/2650080/how-to-get-c-sharp-enum-description-from-value)

# c# - 可重载运算符 == 和 !=

> ID：14951596
> 
> 赞同：2
> 
> 时间：2013-02-19T06:59:55.987
> 
> 标签：c#, c#-4.0, c#-3.0, operator-overloading

我有 2 节课：

```
public class Item {
   //MyFields
}

public class ItemCapsule {
    public Item MyItem { get; set; };
} 
```

在代码的某个地方，我写

```
ItemCapsule itemCapsule;
if (itemCapsule  != null && itemCapsule.MyItem != null) {
    //action
} 
```

我可能想这样做：

```
ItemCapsule itemCapsule;
if (itemCapsule  != null) {
    //action
} 
```

所以我创建了`ItemCapsule`2 种方法来重载运算符

```
public static bool operator ==(ItemCapsule capsule, ???? what to write ????)
{
    return ???? what to write ????;
}

public static bool operator !=(ItemCapsule capsule, ???? what to write ????)
{
    return ???? what to write ????;
} 
```

但是，问题是我不知道如何编写上述两种方法。

**我想做以下**

```
ItemCapsule != null 
```

**这实际上是假设执行以下操作**

```
ItemCapsule != null && ItemCapsule.MyItem != null 
```

**我该怎么做？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:04:29.120

通常你也会为 the 做一个超载`equals`。

像这样

```
 public static bool operator ==(ItemCapsule  x, ItemCapsule  y)
        {
            bool xnull, ynull;
            xnull = Object.ReferenceEquals(x, null);
            ynull = Object.ReferenceEquals(y, null);
            if (xnull && ynull) return true;
            if (xnull || ynull) return false;
            return x.Equals(y);
        }

        public static bool operator !=(ItemCapsule  x, ItemCapsule  y)
        {
            bool xnull, ynull;
            xnull = Object.ReferenceEquals(x, null);
            ynull = Object.ReferenceEquals(y, null);
            if (xnull && ynull) return false;
            if (xnull || ynull) return true;
            return !x.Equals(y);
        }

        public override bool Equals(object obj)
        {
            if (obj == null) return false;
            return ((ItemCapsule )obj).Id == Id;
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:42:02.897

一些扩展方法会更好。运算符重载应该是绝对最后的资源，因为它使任何人都无法理解您的代码，包括您未来的自己。

```
public static class ExtensionMethods {
    public static bool IsNullOrEmpty(this ItemCapsule item) {
        return (item != null && item.MyItem != null);
    } 

    public static bool Equals(this ItemCapsule firstItem, ItemCapsule secondItem) {
        return (firstItem.MyItem.Equals(secondItem.MyItem)); //see below
    }

    public static bool Equals(this Item firstItem, Item secondItem) {
        // perform the comparison of your 'Item' objects here
    }
} 
```

我也喜欢类中的建议`IsEmpty`字段，因为需要更少的代码。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-19T07:10:47.570

这将帮助您：

```
public static bool operator == (ItemCapsule capsule1, ItemCapsule capsule2)
{
    return capsule2 != null && (capsule1 != null && capsule1.MyItem == capsule2.MyItem);
}

public static bool operator !=(ItemCapsule capsule1, ItemCapsule capsule2)
{
    return capsule2 != null && (capsule1 != null && capsule1.MyItem != capsule2.MyItem);
} 
```

# c# - 将 asp.net C# 转换为 vb

> ID：14951599
> 
> 赞同：0
> 
> 时间：2013-02-19T07:00:18.063
> 
> 标签：c#, asp.net-mvc, vb.net, routing

我正在尝试转换此代码，但出现一些错误，[这](http://blog.maartenballiauw.be/post/2012/06/18/Domain-based-routing-with-ASPNET-Web-API.aspx)是代码的主要链接。

我收到这两个错误：

> *类型“域路由未定义*

和

> *“可选”不是“system.web.UI.webControls.routeParameter”的成员*

代码：

```
public class HttpDomainRoute
  : DomainRoute
{
  public HttpDomainRoute(string domain, string url, RouteValueDictionary defaults)
      : base(domain, url, defaults, HttpControllerRouteHandler.Instance)
  {
  }

  public HttpDomainRoute(string domain, string url, object defaults)
     : base(domain, url, new RouteValueDictionary(defaults), HttpControllerRouteHandler.Instance)
 {
 }
} 
```

**到这个asp.net vb 4**

```
Public Class HttpDomainRoute

     Inherits DomainRoute

    Public Sub New(domain As String, url As String, defaults As RouteValueDictionary)
      MyBase.New(domain, url, defaults, HttpControllerRouteHandler.Instance)
    End Sub

    Public Sub New(domain As String, url As String, defaults As Object)
        MyBase.New(domain, url, New RouteValueDictionary(defaults), HttpControllerRouteHandler.Instance)
    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:01:53.703

这个类似乎继承自一个名为`DomainRoute`. 这不是作为 MVC 框架一部分的标准类，因此请确保您也定义了此类。或者至少引用它所在的程序集。我猜你已经拿走了[`from here`](https://stackoverflow.com/q/12942021/29407)。因此，继续并包括该课程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:05:36.353

底部有下载链接。尝试下载它并使用此[免费转换器](http://www.tangiblesoftwaresolutions.com/Product_Details/Instant_VB.html)转换整个代码。如果你下载，你可以在代码文件夹中找到它***`DomainRoute class`***。尝试将该类包含在您的项目中

# mysql - MySQL getpolygon函数错误

> ID：14951603
> 
> 赞同：1
> 
> 时间：2013-02-19T07:00:25.990
> 
> 标签：mysql, function, geospatial

我有一个错误的 MySQL 函数。

```
CREATE FUNCTION getpolygon(lat DOUBLE, lon DOUBLE, radius SMALLINT, corner TINYINT)
  RETURNS geometry
    DETERMINISTIC
BEGIN  
DECLARE i INT; 
DECLARE a, b, c DOUBLE;  
DECLARE res TEXT;

IF corner < 3 || radius > 500 THEN  
    RETURN NULL;  
END IF;  

SET res = CONCAT(lat + radius / 111.12, ' ', lon, ',');  

WHILE i < corner  do
    SET c = RADIANS(360 / corner * i);  
    SET a = lat + COS(c) * radius / 111.12;  
    SET b = lon + SIN(c) * radius / (COS(RADIANS(lat + COS(c) * radius / 111.12 / 111.12)) * 111.12);  
    SET res = CONCAT(res, a, ' ', b, ',');  
    SET i = i + 1;  
END WHILE;  

RETURN GEOMFROMTEXT(CONCAT('POLYGON((', res, lat + radius / 111.12, ' ', lon, '))'));  
END; 
```

当我运行此代码时，MySQL 服务器说：“SQL 错误 1064 ..... nerar '' at line 5”

问题是什么？

我感谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-24T06:48:16.900

```
DELIMITER $$
    CREATE FUNCTION getpolygon(lat DOUBLE, lon DOUBLE, radius SMALLINT, corner TINYINT)
      RETURNS geometry
        DETERMINISTIC
    BEGIN
    DECLARE i TINYINT DEFAULT 1;  
    DECLARE a, b, c DOUBLE;  
    DECLARE res TEXT;

    IF corner < 3 || radius > 500 THEN  
        RETURN NULL;  
    END IF;  

    SET res = CONCAT(lat + radius / 111.12, '', lon, ',');  

    WHILE i < corner  do
        SET c = RADIANS(360 / corner * i);  
        SET a = lat + COS(c) * radius / 111.12;  
        SET b = lon + SIN(c) * radius / (COS(RADIANS(lat + COS(c) * radius / 111.12 / 111.12)) * 111.12);  
        SET res = CONCAT(res, a, '', b, ',');  
        SET i = i + 1;  
    END WHILE;  

    RETURN GEOMFROMTEXT(CONCAT('POLYGON((', res, lat + radius / 111.12, '', lon, '))'));  
    END$$
    DELIMITER ; 
```

# .net - In Wix how do I format version from X.X.X.X to X.X.X

> ID：14951604
> 
> 赞同：2
> 
> 时间：2013-02-19T07:00:33.977
> 
> 标签：.net, installation, wix, versioning

I have a product where the customers expect a 3 part version number like 1.2.3 but internally we use 1.2.3.4\. The version is set automatically in the Wix installer, so how do I drop the last number (4)?.

**Context**

The last number, in the example '4', is the subversion commit number that is automatically generated. Our customers do not want to see "release 5.6.1.7654" but want to see "release 5.6.1". That is the nature of our market. We do display the full number in the Help | About dialog.

**Implementation**

In the Wix XML we have:

```
 <?define ProductVersion="!(bind.FileVersion.MyExe)" ?>
      :
  <Product 
      :
       Version="$(var.ProductVersion)"
      : 
```

How do I format the $(var.ProductVersion) from X.X.X.X to X.X.X?

Thanks in advance

Rob

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:18:08.257

为此有一个特殊的程序集属性，`AssemblyInformationalVersion`. 这将是最佳选择，因为它还允许您指定文本，例如“Release 5.6.1 RC1”。但是，我不确定[WIX 工具集是否支持它](http://sourceforge.net/p/wix/bugs/2918/)。

您可以做的另一件事是`AssemblyInfo.cs`在您的项目/解决方案中使用全局技术。在该文件中定义`AssemblyVersion`和`AssemblyFileVersion`，因为您希望它们呈现给用户，并在您的其他程序集上继续使用 4 阶段增量内部版本号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T00:28:04.563

您可以使用预处理器而不是活页夹来完成所有这些工作。反正我就是这样做的。我编写了一个预处理器扩展，它将版本号（字符串）作为参数并返回一个新的。所以你也可以这样做，例如：

```
switch (function)
{
    case "TruncateVersion":
        // validate version number here
        return args[0].Substring(0, args[0].LastIndexOf('.'));
} 
```

这是关于如何扩展预处理器的链接：[http ://wix.sourceforge.net/manual-wix3/extension_development_preprocessor.htm](http://wix.sourceforge.net/manual-wix3/extension_development_preprocessor.htm)

然后，您可以使用`$(version.TruncateVersion($(var.MyProject.TargetPath)))`.

当然，这只是路径。您可以使用该类提取文件版本`FileVersionInfo`或直接从您的 AssemblyInfo.cs 文件中获取它。

或者，如果您希望在绑定时完成这项工作，您可以编写一个活页夹扩展。不幸的是，目前 WiX 扩展的文档很少，只有预处理器似乎有完整的文档示例。尽管我在这里和那里看到了 Heat 扩展的片段。

随时通过检查 WiX 源代码或搜索网络来证明我错了。祝你好运！

**编辑**

忘了提。您不能使用此语法： `$(version.TruncateVersion(!(bind.fileVersion.FileID)))`

*这是因为以'$'*开头的预处理器变量在绑定变量被以*'!'*开头的绑定变量解析*之前被解析。*.

 *但是，您可以做相反的事情： !(bind.fileVersion.$(var.MyProject.TargetPath))

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T23:19:47.377

最简单的方法是在项目中有 assemblyversionInfo 并使用此文件中的版本号

![在此处输入图像描述](../Images/bbc625623bb1d9422de906ae70eba37b.png)*

# jquery - 嵌套ajax调用时页面不刷新

> ID：14951607
> 
> 赞同：0
> 
> 时间：2013-02-19T07:00:37.320
> 
> 标签：jquery, asp.net-mvc-4

我使用 JQuery 对话框添加了一个新客户端，成功后我想重新加载页面但没有发生。

## jQuery 调用

```
 $("#saveNewClient").click(function () 
        {
            if ($(this).valid())
            {
                var clientName = null;
                var clientTypeId = null;
                var clientCode = null;

                clientName = $('#Client_ClientName').val();
                clientTypeId = $('#ClientTypeSelectId').val();
                clientCode = $('#Client_ClientCode').val();

                $.ajax(
                    {
                        type: "POST",
                        async: false,
                        url: "/Client/AddClient",
                        cache: false,
                        data: { "clientName": clientName, "clientTypeId": clientTypeId, "clientCode": clientCode },
                        dataType: "json",
                        error: function (request) {
                            alert(request.responseText);
                        },
                        success: function (result) {
                            //alert('Successfully Inserted Client');
                            $.ajax({
                                url: "/Client/Index",
                                type: 'GET',
                                datatype: 'json',
                                success: function (data) {
                                    //alert('got here with data');
                                },
                                error: function () {
                                    //alert('something bad happened');
                                }
                            });
                            $('#myClientDialogContainer').dialog('close');
                        }
                    });
            }
            return false;
        }); 
```

早些时候，我给出了一条警告消息“成功添加客户端”。但是由于添加的客户端没有出现在网格中。我调用了另一个 ajax 调用来用数据刷新页面。操作方法正在调用，当页面加载时，我可以看到添加的客户端数据正在传递给 Grid，但新插入的客户端没有出现网格。当我刷新页面时，该行出现了。请任何人都可以帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:06:35.350

确保在成功回调中刷新 DOM：

```
success: function (data) {
    //alert('got here with data');
    $('#yourGridContainer').html(data);
} 
```

这显然假设`Index`控制器操作正在返回包含更新结果的网格的局部视图。

# php - php - 将字符串拆分为多维数组

> ID：14951610
> 
> 赞同：2
> 
> 时间：2013-02-19T07:00:46.987
> 
> 标签：php, multidimensional-array

我试图将导航位置字符串拆分为主数组。

例如，如果我有一个位置为 1.2.2 的项目

我想将它添加到主数组中，如下所示

```
 1 =>
    2 =>
        2 => array() 
```

然后如果另一个项目有'2.1'

```
 1 =>
    2 =>
        2 => array()
 2 =>
    1 => array() 
```

然后是另一个'1.2.3'

```
 1 =>
    2 =>
        2 => array()
        3 => array()
 2 =>
    1 => array() 
```

有人知道这样做的方法吗？

问候

**编辑**

假设我有一个一维对象数组，我想遍历它们并将其存储为结构化的“导航”，如嵌套数组。每个item都有一个导航位置字符串，即**1.2.3.6**

然后我正在考虑`$depth = explode( '.', $details['navigation_pos'] );`通过某种数组步行器运行它以将对象放置在正确的位置。

希望这可以帮助

**编辑**

也许更好的说法是这样，但更优雅：

```
$depth = explode( '.', '1.2.3.4' );
$bar = json_decode( '{"' . implode( '":{"', $depth ) . '":[]' . str_repeat( '}', sizeof( $depth ) ) );
print_r($bar); 
```

这会给

```
stdClass Object
(
    [1] => stdClass Object
        (
            [2] => stdClass Object
                (
                    [3] => stdClass Object
                        (
                            [4] => Array
                                (
                                )

                        )

                )

        )

) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:44:28.730

您可以使用该`eval()`构造，但请注意：

> eval() 语言结构非常危险，因为它允许执行任意 PHP 代码。因此不鼓励使用它。如果您已仔细验证除了使用此构造之外别无选择，请特别注意不要将任何用户提供的数据传入其中，而无需事先正确验证。

```
$final_array = array(); // The output array

/*
    Example:
    $big_array = array(
        '1.1' => 'One-one',
        '2.1.3.4' => 'Two-one-three-four'
    );
*/  

foreach ($big_array as $position_string => $item)
{
    $index_array = explode(".", $position_string);

    foreach ($index_array as $key => $value)
    {       
        // Make sure only integers are put through eval()
        $index_array[$key] = (int)$value;
    }

    $indexes = implode("][", $index_array);

    // TODO: make sure $item is safe to put through eval()!
    eval("\$final_array[{$indexes}] = \$item");
} 
```

# sql-server - AutoIdentity 的行为异常异常

> ID：14951611
> 
> 赞同：0
> 
> 时间：2013-02-19T07:00:47.997
> 
> 标签：sql-server, sql-server-2012

我有一个表，其`ID`列不为空并且启用了自动标识

我的问题是，我每天只插入 4-5 行，也很少进行编辑，但由于某种原因，`ID`每天的更改量为 1000。

所以昨天是 2004/2005 今天我添加了我的第一个条目：3004

我非常怀疑我在其中添加了 1000 条记录。

![在此处输入图像描述](../Images/40017459e112a0443e70af2fa0d9e929.png)

# antlrworks - 组合语法中未识别来自导入语法的词法分析器模式。单击“在 testRig 中运行”Antlrworks2 后出现编译错误

> ID：14951612
> 
> 赞同：0
> 
> 时间：2013-02-19T07:00:53.437
> 
> 标签：antlrworks, antlr4

我正在使用 Antlrworks2。词法分析器语法中定义了“词法模式”。我结合了导入词法分析器语法的语法。从组合语法生成代码后，它将生成两个 .java 文件。例如：如果我的组合语法文件名为“xyz.g4”，则 java 文件名为“xyzLexer.java”、“xyzParser.java”。但是当我在 Antlrworks2 中单击“在 TestRig 中运行”时，它会在控制台中出现以下错误。

```
Compiling grammar files...
warning: Supported source version 'RELEASE_6' from annotation processor 'org.netbeans.modules.openide.modules.PatchedPublicProcessor' less than -source '1.7'
warning: Supported source version 'RELEASE_6' from annotation processor 'org.netbeans.modules.openide.util.ServiceProviderProcessor' less than -source '1.7'
warning: Supported source version 'RELEASE_6' from annotation processor 'org.netbeans.modules.openide.util.NamedServiceProcessor' less than -source '1.7'
warning: Supported source version 'RELEASE_6' from annotation processor 'org.netbeans.modules.openide.util.NbBundleProcessor' less than -source '1.7'
C:\Users\cc91kor\AppData\Local\Temp\TestRigTask-1361256016169\CDFCombinedGrammarLexer.java:144: error: cannot find symbol
        case 1: _mode = INSIDE_BRACKETS;  break;
                        ^
  symbol:   variable INSIDE_BRACKETS
  location: class CDFCombinedGrammarLexer
C:\Users\cc91kor\AppData\Local\Temp\TestRigTask-1361256016169\CDFCombinedGrammarLexer.java:149: error: cannot find symbol
        case 0: _mode = INSIDE_BRACKETS;  break;
                        ^
  symbol:   variable INSIDE_BRACKETS
  location: class CDFCombinedGrammarLexer
2 errors
4 warnings
Arguments: [CDFCombinedGrammar, vt, -tokens, -tree, -gui, C:\Users\cc91kor\Desktop\vt.txt]
Can't load CDFCombinedGrammar as lexer or parser 
```

正如我在 CDFCombinedGrammarLexer.java 中观察到的（在上面的示例 xyzLexer.java 中），“词法模式”的代码不存在。我可以在从实际词法分析器文件生成的 java 文件中找到 mode 的代码。

下面是我可以在实际的词法分析器生成的 java 文件中看到的代码。

```
public static final int INSIDE_BRACKETS = 1;
    public static String[] modeNames = {
        "DEFAULT_MODE", "INSIDE_BRACKETS"
    }; 
```

有什么帮助吗？？？我在等！！！

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T16:46:28.663

ANTLR 4 尚不支持导入多模式词法分析器语法。以下问题将跟踪此功能的进度：

[支持导入多模式词法分析](https://github.com/antlr/antlr4/issues/160)

# jenkins - Jenkins，如何仅对 SVN 进行特定提交以触发构建

> ID：14951613
> 
> 赞同：1
> 
> 时间：2013-02-19T07:01:09.897
> 
> 标签：jenkins

每当提交到 SVN 时，我目前正在触发一个新的 Jenkins 构建。但是，我想进行另一个构建，仅当部署数据库的 Ant 脚本或我们的 SQL 脚本由于提交而在 SVN 中发生更改时才部署我们的数据库。这可以在詹金斯做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:05:16.690

没有办法开箱即用。但是您可以通过其他方式实现这一点。

1.  对于该作业，您只需指定要收听的 SVN 源。剩余的 svn 源可以使用命令行 svn 方法添加到适当的位置。确保命令行执行将放置并合并 jenkins 已获得的现有源。您必须在 svn 命令中提供正确的目标选项。我自己同意这不是一个非常干净的方法，但至少有一个解决方法。

2.  有两份工作。第一个作业将仅在所需的 svn 源上定义，并且您启用 poll 选项。这应该会触发另一个读取所有源文件的下游项目。这项工作不应该轮询 svn，实际的构建执行应该在这里完成。

# jquery - jQuery/Ajax/MySQL 网格编辑脚本

> ID：14951615
> 
> 赞同：0
> 
> 时间：2013-02-19T07:01:14.903
> 
> 标签：jquery, mysql, ajax

这是完全工作的 jQuery/Ajax 编辑 MySQL 表脚本。

我怎样才能使它像其他 GridEdit 脚本一样使用“输入”字段（而不是“a”）？

如果有可能 - 只有当我点击它时才成为“输入”，否则是“跨度”（例如）并在点击其他地方时 - 保存数据。

**编辑.php：**

```
<?php
$connect = mysql_connect('localhost', 'username', 'password');
mysql_select_db('database');

if(isset($_GET['action'])) {
    $id = $_GET['id'];
    $field = $_GET['field'];
    $value = $_GET['value'];
    mysql_query("UPDATE posts SET $field='$value' WHERE id='$id' LIMIT 1");
}
?>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Editable</title>
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript">
        function Editable() {
            $.ajax({
                url: 'edit.php',
                method: 'GET',
                data: {
                    action: 'update',
                    id: $(this).attr("db_id"), 
                    field: $(this).attr("db_field"), 
                    value: $(this).attr("value")
                },
                success: function() {
                    alert("Готово!");
                }
            });
            return false;
        }
        jQuery(document).ready(function() {
            $(".Update").click(Editable);
        });
        </script>
    </head>
    <body>
        <table>
            <tr>
                <td>ID</td>
                <td>Title</td>
            </tr>
            <tr>
                <td>1</td>
                <td>test1 <a href="#" class="Update" db_id="1" db_field="title" value="test1">Update 1</a></td>
            </tr>
            <tr>
                <td>2</td>
                <td>test2 <a href="#" class="Update" db_id="2" db_field="title" value="test2">Update 2</a></td>
            </tr>
            <tr>
                <td>3</td>
                <td>test3 <a href="#" class="Update" db_id="3" db_field="title" value="test3">Update 3</a></td>
            </tr>
        </table>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:10:59.283

你可以试试

```
$('a')
  .on('focus', function(){
      var $this = $(this);
      $this.html('INPUI TYPE HTML');
   })
  .on('blur', function(){
      // CALL AJAX TO UPDATE DB FIELD & RETURN BACK THE A TAG
  }); 
```

这只是逻辑，我没有在浏览器中测试过。​</p>

# wpf - TextBlock 绑定不起作用

> ID：14951616
> 
> 赞同：0
> 
> 时间：2013-02-19T07:01:17.793
> 
> 标签：wpf, binding, textblock

我有一个`TextBlock`绑定到我的模型中的属性。我的模型坐在与窗口绑定的视图模型中。

```
<TextBlock Text="{Binding MyModel.TextVar,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></TextBlock> 
```

TextVar 是调用 Notify 函数的字符串属性...

所以，我不明白为什么它不起作用。（OutPut 中没有绑定错误）。

**编辑：**

```
 string _textVar;
    public string TextVar
    {
        get
        {
            return _textVar;
        }
        set
        {
            _textVar= value;
            NotifyPropertyChanged("TextVar");
        }
    }

    private void NotifyPropertyChanged(string propertyName)
    {
        if (PropertyChanged != null)-- HERE THE PROPBLEM, IT ARRIVE NULL
        {
            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
        }
    }

    public event PropertyChangedEventHandler PropertyChanged; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-11-03T16:31:38.083

似乎一切都很完美，现在只需在类的构造函数下添加这一行。

```
 this.DataContext = this; 
```

当您在某个父窗口中声明另一个 DataContext 时，就会出现问题。我遇到了同样的问题，这个解决方案对我有用。

**在 WPF 中绑定文本框的快速回顾**

**第一步：在窗口类中声明一个属性**

首先，您应该在您的窗口的类中声明一个属性，即在您的新窗口的 .xml.cs 文件中。

```
string _someVariable;
public string NameOfProperty
{
    get
    {
        return _someVariable;
    }
    set
    {
        _someVariable= value;
    }
} 
```

**第 2 步：将属性绑定到 TextBox**

现在使用以下语法将您的 TextBox 绑定到新创建的属性。

```
{Binding Path=NameOfProperty} 
```

Path 记录了您要绑定到的属性，但是，由于 Path 是绑定的默认属性，如果您愿意，可以将其省略，如下所示：

```
{Binding NameOfProperty} 
```

**第 3 步：声明窗口的 DataContext** 您的解决方案应该可以工作到现在，但如果您使用某种模式，您应该定义窗口的 DataContext。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:08:30.690

使用 Mode=TwoWay 绑定 TextBlock 没有任何意义，因为它是 TextBlock 而不是 TextBox。

但是，如果您的文本块的 DataContext 具有属性“MyModel”并且此“MyModel”-对象具有属性“TextVar”，则您的绑定仍然有效。

如果您想在运行时查找数据上下文和绑定，请使用[Snoop](http://snoopwpf.codeplex.com/)

编辑：如果你像你一样进行绑定，你需要什么

```
public class MyViewmodel
{
  public MyOtherClass MyModel {get;set;}
}

public class MyOtherClass
{
   public string TextVar {get;set;}
} 
```

windows.xaml.cs ctor：

```
 this.data = new MyViewmodel(); 
 this.DataContext = this.data; 
```

# c# - 通过匿名方法订购

> ID：14951618
> 
> 赞同：1
> 
> 时间：2013-02-19T07:01:25.163
> 
> 标签：c#, .net, linq, compiler-errors, sql-order-by

关于[如何在排序时进行投射？](https://stackoverflow.com/questions/14938738/linq-how-to-cast-while-sorting/14938786#comment20971222_14938786)，我尝试了以下答案之一。

```
vehicleList.OrderBy(c=>
{
    Car car = c as Car;
    if (car != null)
        return car.ModelName
    else
        return "";
} 
```

但它给出了编译器错误：

> 无法从用法中推断方法“System.Linq.Enumerable.OrderBy(System.Collections.Generic.IEnumerable, System.Func)”的类型参数。尝试明确指定类型参数。

这有什么问题？如何纠正？

我试图实现的目标如下：

*   如果对象是 Car 类型，则按 ModelName 排序
*   否则，如果对象 ID 为 Train 类型，则为 TrainName。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T07:13:05.860

这解决了错误：

```
var sortedVehicles = vehicleList.OrderBy<Vehicle, string>(c=>
    {
        ...
    }); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-19T07:11:51.287

您可以像这样实施比较器：

```
var sorted = uiItems.OrderBy(x => x.Contact, new YourComparer ());

public class YourComparer : IComparer<Contact>
{
    public int Compare(Contact? x, Contact? y)
    {
        if (x == y)
            return 0;
        if (x == null)
            return 1;
        if (y == null)
            return -1;
        if (x.Presence == null)
            return 1;
        if (y.Presence == null)
            return -1;

        return return x.Presence < y.Presence ? -1 : 1;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:07:45.973

您是否尝试过您引用的问题中的建议来使用 Linq `Cast`？

```
var sorted = uiItems.Cast<Contact>()
                    .OrderBy(c => contact.Presence; ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:17:08.847

看下面的例子：

```
class Item
{
    public int X;
    public string Y;
}

var items = new Item[100];
var ordered = items.OrderBy<Item, string>(i => i.Y); 
```

`OrderBy`需要两种类型。前者是可枚举的，后者用于 lambda 表达式。另外在某些情况下，必须转换正在使用的集合元素。如果您确定所有类型都属于特定类型或省略其他类型，则可以使用`Cast`方法之前。`OrderBy``OfType`

# c# - 如何从 TextBox 中提取数据到 GridView（在 GridView 中显示多行）？

> ID：14951619
> 
> 赞同：0
> 
> 时间：2013-02-19T07:01:25.903
> 
> 标签：c#, asp.net, button, gridview, datatable

我使用以下代码将数据从 TextBox 显示到 GridView，而不将数据保存到数据库（两个 TextBoxes 和一个 Button）。当我在文本框中输入名称和城市并单击按钮时，这些值将显示在 Gridview 中。它按预期工作，没有任何错误。但是我想稍微调整一下代码，以便 GridView 应该能够通过保留 Gridview 中的旧数据来从文本框中添加新数据（**应该在 Gridview 中显示多行**而不是单行）。

它是一个使用 C# 编码 (Visual Studio 2010)**的基于 Web 的ASP.NET 应用程序。**

**您能否对下面给出的代码进行必要的更改以实现上述功能？**

```
public partial class _Default : System.Web.UI.Page
{
    DataSet ds = new DataSet();
    DataTable dt = new DataTable();

protected void Page_Load(object sender, EventArgs e)
    {

    }

protected void btnTextDisplay_Click(object sender, EventArgs e)
    {
            DataColumn dc1 = new DataColumn("Name");
            DataColumn dc2 = new DataColumn("City");
            dt.Columns.Add(dc1);
            dt.Columns.Add(dc2);

            DataRow dr = dt.NewRow();
            dr[0] = txtName.Text;
            dr[1] = txtCity.Text;
            dt.Rows.Add(dr);
            gvDisplay.DataSource = dt;
            gvDisplay.DataBind();
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:11:02.590

您必须在回发之间保留您的数据，这里有很多选择：by `Session`、`ViewState`和`Cache`其他一些。

```
protected void Page_Load(object sender, EventArgs e)
{
    if (Page.IsPostback)
    {
         dt = Session["data_table"] as DataTable;
    }
}

protected void btnTextDisplay_Click(object sender, EventArgs e)
{
     if (dt == null)
     {
          dt = new DataTable();
          DataColumn dc1 = new DataColumn("Name");
          DataColumn dc2 = new DataColumn("City");
          dt.Columns.Add(dc1);
          dt.Columns.Add(dc2);   
     }

     DataRow dr = dt.NewRow();
     dr[0] = txtName.Text;
     dr[1] = txtCity.Text;
     dt.Rows.Add(dr);
     gvDisplay.DataSource = dt;
     gvDisplay.DataBind();

     Session["data_table"] = dt;
} 
```

# linq - 在 DB 层上执行 IQueryable 并返回一个新的 (eraly 执行)

> ID：14951622
> 
> 赞同：0
> 
> 时间：2013-02-19T07:01:42.947
> 
> 标签：linq, nhibernate, iqueryable

我知道我的 DB 层返回其 DTO 对象的 IQueryable。我使用 NHibernate，它支持 Linq。但问题是，当我的数据库层离开时，我必须关闭会话，因此 IQueryable 不再工作。但我也无法返回列表，因为这样查询将不会在 SQL Server 上执行。

那么我是否有可能返回一个 IQueryable，使用 Nhibernate LINQ 执行表达式并返回一个新的 IQueryable？

也许是这样的：

```
public IQueryable<TagDTO> Tags
    {
        get
        {
            using (var session = factory.OpenSession())
            {
                return new ExceuteQueryable<TagDTO>(session.Query<TagDTO>());
                //return session.Query<TagDTO>();
            }
        }
    } 
```

ExceuteQueryable 应该在哪里使用它的表达式树来执行查询，获取结果列表并返回列表的新 iqueryable？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:41:08.683

提前执行与返回列表相同。如果没有与数据库（会话）的连接，您怎么可能对其执行查询？不要像这样对会话进行微观管理，而是使用/保持整个业务操作的会话，并且关闭的事务不再有问题。

从 DAL 返回 IQueryable 会比您想象的更快导致痛苦，因为数据访问绝对没有上下文来优化访问（渴望获取、过滤、 ToList() 以进行多次迭代）。如果没有上下文，一致的缓存也几乎是不可能的。

# php - 在 codeigniter 中编写查询的格式

> ID：14951628
> 
> 赞同：0
> 
> 时间：2013-02-19T07:01:55.620
> 
> 标签：php, mysql, codeigniter

我是codeigniter的新手。

我有以下查询，每个查询都有不同的表名和不同的 where 条件。

我可以在单个查询中进行此查询还是执行查询的正确方法。我必须执行所有这些查询。

```
$q = $this->db->where('id', $st)->update('st_info', array(
    'status' => 0,
    'updated_time' => $this->info_model->getTime(),
    'updated_ip' => $this->info_model->getIP()
));

$q = $this->db->where('verid', $vid)->update('st_version', array(
    'status' => 0,
    'updated_time' => $this->info_model->getTime(),
    'updated_ip' => $this->info_model->getIP()
));

$q = $this->db->where('id', $id)->update('st_raw', array(
    'status' => 0,
    'updated_time' => $this->info_model->getTime(),
    'updated_ip' => $this->info_model->getIP()
)); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:17:13.790

由于您对所有表使用相同的列，因此我更喜欢使用以下方法，

```
 $data = array(
    'status' => 0,
    'updated_time' => $this->info_model->getTime(),
    'updated_ip' => $this->info_model->getIP()
);

    $q = $this->db->where('id', $st)->update('st_info', $data);
    $q = $this->db->where('verid', $vid)->update('st_version', $data);
    $q = $this->db->where('id', $id)->update('st_raw', $data); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:14:33.400

这是正确的，您不能将所有这些组合到一个查询中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:23:27.547

试试这个：

```
$data=array(
      'status' => 0,
      'updated_time'  => $this->info_model->getTime(),        
      'updated_ip' => $this->info_model->getIP()                                                
)); 

 $this->db->where('id',$st);
 $this->db->update('st_info', $data); 

 $this->db->where('verid',$vid);
 $this->db->update('st_version', $data); 

 $this->db->where('id',$id);
 $this->db->update('st_raw', $data); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T08:47:40.627

创建单个函数

```
public function update($table,$where,$data)
{
    $this->db->where($where);
    $this->db->update($table,$data);
} 
```

现在从控制器调用这个函数

```
function update_call()
{
    $data['status']         =   0;
    $data['updated_time']   =   $this->info_model->getTime();
    $data['updated_ip']     =   $this->info_model->getIP();

    $where['id']    =   $st;
    $table          =   'st_info';

    $this->model_name->update($table,$where,$data);

    unset($where);
    unset($table);

    $where['verid'] =   $vid;
    $table          =   'st_version';

    $this->model_name->update($table,$where,$data);

    unset($where);
    unset($table);

    $where['id']    =   $id;
    $table          =   'st_raw';

    $this->model_name->update($table,$where,$data);     
} 
```

# android - 以编程方式启用本机 android 密码屏幕

> ID：14951629
> 
> 赞同：2
> 
> 时间：2013-02-19T07:01:57.557
> 
> 标签：android

有没有办法以编程方式启用、禁用本机 android 密码屏幕？我问这个问题是因为我看到了应用程序[SureLock](http://www.42gears.com/surelock/surelockandroid.html)，它能够通过用户交互以编程方式启用和禁用 android 系统密码锁定，而无需任何 root 权限。当用户尝试通过 SureLock 应用程序进入系统设置时，他们已启用本机系统密码屏幕锁定。应用程序也可以正常运行 ics 和 jb 系统。

除非有任何替代方法可以实现类似的逻辑来设计自定义锁，如系统密码锁。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:44:15.157

您可以使用[设备管理 API](http://developer.android.com/guide/topics/admin/device-admin.html)。SDK附带了一个示例代码。首先，您必须确保您的应用程序在 API 2.2 之上运行 转到您的 SDK 文件夹，然后是示例，然后是 ApiDemos。您可以将该项目作为示例项目导入。然后进入**com.example.android.apis.app**包，查看**DeviceAdminSample.java**类。这就是你要找的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:09:06.513

我相信您可以使用 KeyguardService 来控制它。

[https://developer.android.com/reference/android/app/KeyguardManager.html](https://developer.android.com/reference/android/app/KeyguardManager.html) [https://developer.android.com/reference/android/Manifest.permission.html#DISABLE_KEYGUARD](https://developer.android.com/reference/android/Manifest.permission.html#DISABLE_KEYGUARD)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:17:22.747

使用[**Android 设备管理 API**](http://developer.android.com/guide/topics/admin/device-admin.html)，您还可以锁定设备、重置和设置密码限制

# jquery - 我无法从对象序列化表单

> ID：14951636
> 
> 赞同：0
> 
> 时间：2013-02-19T07:02:24.087
> 
> 标签：jquery, html, object, serialization

我在我的页面中使用[滚动分页](http://andersonferminiano.com/jqueryscrollpagination/)作为插件，并且我使用表单将值传递给我正在获取结果的 url。

加载后新表单将动态添加到我的页面，我想序列化新表单以重复新页面的进度问题是，我的代码保持序列化第一个表单而不是新表单。

这是我的jQuery

```
$(function(){
var datastring=$(".passform").last().serialize();
$('#update').scrollPagination({
    'contentPage': 'post_update.php', 
    'contentData': {
        data : datastring
        },
    'scrollTarget': $(window), 
    'heightOffset': 10, 
    'beforeLoad': function(){ 
        $('#loading').fadeIn(); 
    },
    'afterLoad': function(elementsLoaded){ 
         $('#loading').fadeOut();
         var i = 0;
         $(elementsLoaded).fadeInWithDelay();
                 datastring=$(".passform",elementsLoaded).serialize();  //Here's the Problem:S
    }
});

$.fn.fadeInWithDelay = function(){
    var delay = 0;
    return this.each(function(){
        $(this).delay(delay).animate({opacity:1}, 200);
        delay += 100;
    });};}); 
```

这是我在主代码中的第一个表单

```
<form id="passform" class="passform" name="passform">
        <input name="totalpage" type="hidden" value="<? echo($totalpage);?>" />
        <input name="nowpage" type="hidden" value="0" />
        <input name="u_id" type="hidden" value="<? echo($u_id);?>" />
        </form> 
```

这是动态添加的新表单

```
 <form class="passform" id="passform" name="passform">
        <input name="totalpage" type="hidden" value="<? echo($totalpage);?>" />
        <input name="nowpage" type="hidden" value="<? echo($nowpage);?>" />
        <input name="u_id" type="hidden" value="<? echo($u_id);?>" />
        </form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:14:37.157

更改第一个数据字符串：

```
var datastring=$(".passform").first().serialize(); 
```

这个数据串在`afterload`：

```
datastring=$(document).find(".passform").last().serialize(); 
```

## 笔记：

对多个元素使用相同的 id 是无效的。当这件事发生时`then only first of its type will get selected.`

# jquery - On change select box option event is slow

> ID：14951639
> 
> 赞同：0
> 
> 时间：2013-02-19T07:02:30.187
> 
> 标签：jquery

Am having a drop-down with the class name `user_status`.

On the change event of this seletion, there is a dialog popup is coming. Here is the code.

```
$('.user_status').change(function(){
    $('#dialog-confirm').dialog({
        title     : 'Change Status',
        resizable : false,
        width     : 250,
        height    : 120,
        modal     : true,
        buttons   : {
            'Yes': function() {
                dialog_obj.dialog('close');
            },
            'No': function() {
                $(this).dialog('close');
            }
        }
    }); 
}); 
```

My problem is Its very slow(may take 3 or 4 seconds) to come this popup on the change event. How Can I fast this popup on change event?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:25:08.903

之前定义您的对话框，然后在这样的事件上打开 jquery 对话框（未经测试的代码）：

```
var jDialog =  $('#dialog-confirm').dialog({
        title     : 'Change Status',
        resizable : false,
        width     : 250,
        height    : 120,
        modal     : true,
        autoOpen  : false,
        buttons   : {
            'Yes': function() {
                dialog_obj.dialog('close');
            },
            'No': function() {
                $(this).dialog('close');
            }
        }
    }); 
$('.user_status').change(function(){
   jDialog.dialog('open');
}); 
```

# java - 回复：无法从 WEB-INF/lib 目录中找到 MySQL 的 jdbc 驱动程序

> ID：14951642
> 
> 赞同：0
> 
> 时间：2013-02-19T07:02:31.973
> 
> 标签：java, mysql, hibernate, struts2, oracle10g

使用 Struts2 和 Hibernate4、MySql Server 5.1 和 Apache Tomacat 7.0 的应用程序无法从 WEB-INF/lib 目录中找到 jdbc 驱动程序（mySql Connector for 5.1）。

显示以下错误：

```
java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/test 
```

当我使用 oracle10g XE 作为 db 时出现同样的错误，现在出现错误，它无法从 WEB-INF/lib 目录中找到 ojdbc14.jar 并显示错误消息：

```
java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@localhost:1521:XE 
```

但是，当我在 eclipse 的运行配置选项中的引导类加载器设置中明确指定驱动程序 jar 时，应用程序运行正常。

现在我必须将战争部署到服务器上，我不能在战争档案中使用 eclipse 的引导类加载器设置，错误是什么，我现在应该做什么？？？

hibernate.cfg.xml 部分仅供参考。

```
<property name="hibernate.connection.driver_class">com.mysql.jdbc.Driver</property>
<property name="hibernate.connection.url">jdbc:mysql://localhost:3306/test</property> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:56:47.890

您可以使用 Ant [war 任务](http://ant.apache.org/manual/Tasks/war.html)来构建 war 文件并指定驱动程序所在的 lib 目录。

```
<war destfile="${war.file}" webxml="${webxml.file}">
    <lib dir="${lib.dir}"/>
</war>` 
```

# mysql - BEFORE INSERT TRIGGER on one table but insert should be done on another table

> ID：14951643
> 
> 赞同：0
> 
> 时间：2013-02-19T07:02:46.613
> 
> 标签：mysql, sql, triggers

I have two tables say `table1` and `table2`.

```
fields of table1 - id and count
fields of table2 -  id and count 
```

both tables have same fields. Now I want to create `BEFORE INSERT TRIGGER` on `table1` which will check `if count = 2` then insert into table2 otherwise in table1.

I created the trigger but when I fire this query ..example-

```
insert into table1 (id, count) values (1323, 2); 
```

then one row is inserted into table2 (this I want) and same row is inserted into table1 also.

I want row should be inserted in table1 or table not in both tables.

what I do to achieve this ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:13:34.917

试试这个：

```
delimiter $$
CREATE TRIGGER myTrigger
BEFORE INSERT ON table1
FOR EACH ROW
BEGIN
IF NEW.count = 2 THEN
insert into table2 (id, count) values (New.id,New.Count);
ELSE
<<no action>>
END IF;
END$$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T08:05:32.087

我不确定你为什么想要这个，所以我怀疑我可能会就某种应该以不同方式修复的解决方案提供建议，但我们开始吧。

正如您[在这个问题](https://stackoverflow.com/questions/2538786/how-to-abort-insert-operation-in-mysql-trigger)中看到的那样，不可能巧妙地停止插入。你可以尝试犯一个错误，这样你就不会真正插入，但我认为这真的很痛苦。

您可以做的是制作一个假表`dummytable`并将插入触发器放在那里。您的行将始终插入虚拟表中，但您可以将其插入`table1`或`table2`根据您的意愿插入。触发器的肉看起来像

```
IF NEW.count = 2 THEN
INSERT INTO table2 (id, count) VALUES (New.id,New.Count);
ELSE
INSERT INTO table2 (id, count) VALUES (New.id,New.Count);
END IF; 
```

您必须时不时地清洁虚拟台。

# android - ant command does not generating apk file

> ID：14951644
> 
> 赞同：3
> 
> 时间：2013-02-19T07:02:55.553
> 
> 标签：android, ant, build, apk

I am using Ant to build my application.my app uses a library project.so first of all i had run the below command in commandline to generate the build.xml in my project.

"**android update project --target 5 -p path_of_my_project -l path_of_my_library_project**"

(my application's build target is 4.0).Above command generated a build.xml file in my project.Then i run "ant" command in command prompt.it has shown the result as BUILD SUCCESSFULL. but when i checked my project's bin folder there is no apk file is generated.what is the issue?I did not make any changes in build.xml file.do i need to add something to that to generate the build?please guide me.

# java - How to concatenate two web.xml?

> ID：14951646
> 
> 赞同：2
> 
> 时间：2013-02-19T07:03:02.597
> 
> 标签：java, xml, web-applications, ant

I have Java project with different modules on it. The project have one core module where all the common configuration files kept. Each module has separate configuration files like `.properties` files, `hibernate.cfg`, `web.xml` etc. It is not necessary that every time all modules will be there on the final build.

My problem is that, suppose 3 modules such as A, B & C are present. Each has its on `web.xml` and it contains only the servlets and mapping necessary for that. I want to know how concatenate these `web.xml` while building. I know that from `ant` I can call a Java application. The position of tags is important in `web.xml`.

How it possible to concatenate these `web.xml` effectively? I tried xstream for this but it was a failure.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T09:41:10.593

如果您使用的是 Servlet 3.0 容器，那么只有您的核心模块将具有 a`web.xml`而您的其他模块将各自提供自己的[`web-fragment.xml`](https://blogs.oracle.com/swchan/entry/servlet_3_0_web_fragment).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T20:48:08.100

xmltask非常适合使用 ant 进行 xml 处理[。](http://www.oopsconsultancy.com/software/xmltask/index.html)
在此处查看详细信息和示例：
xmltask：
[xml 任务手册](http://www.oopsconsultancy.com/software/xmltask/index.html)
[xml 操作使用 xml 任务](http://today.java.net/pub/a/today/2006/11/01/xml-manipulation-using-xmltask.html)
有用的 xpath 链接：http:
[//zvon.org/xxl/XPathTutorial/](http://zvon.org/xxl/XPathTutorial/)
[http://www.w3schools.com/xpath/](http://www.w3schools.com/xpath/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T09:32:46.733

您可以通过以下方式实现此目的：

1.  为您的目的使用 xstream 编组；有关如何编组对象的信息，请参阅[有关编组的问题`Map`](https://stackoverflow.com/q/6825271/1523910)。或者使用[官方](http://xstream.codehaus.org/converter-tutorial.html)教程
2.  通过手动转换使用 SAX 解析。
3.  使用并合并每个 XML 将整个 XML 转换为 JSON [`JSON.org`](http://www.json.org/)，然后从 JSON 重建 XML。**注意**：不要将`xstream`用于此目的，它会反转整个 XML，从而导致生成的 XML 的验证错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:55:43.017

你的问题本身就有答案，写一个java小程序来解析所有你想组合的XML，得到需要的nodeList，按照你想要的顺序写入新的XML。在 Ant 构建期间调用这个 java 程序。

# ms-access - Need to split delimited string into seperate rows in ms-access Sub form

> ID：14951649
> 
> 赞同：0
> 
> 时间：2013-02-19T07:03:10.177
> 
> 标签：ms-access, ms-access-2007

I have a form in MS-Access which shows tabular data. as follows

```
record id     record date    record content
---------     -----------    --------------
   1           1/2/2011      name: ben, age:38, sex: M; name: emma, age:32, sex: F
   2           5/5/2012      name: john, age:28, sex: M; name: eva, age:24, sex: F 
```

There is no limit in how many people's records can be there in each record content cell. but each record will have only those 3 fields. Name, Age and Sex.

I need to split the record content in a subform such a way that it looks like:

```
record id     record date    record content
---------     -----------    --------------
   1           1/2/2011      name   age  sex
                             ----   ---  ---
                             ben    38    M
                             emma   32    F

   2           5/5/2012      name   age  sex
                             ----   ---  ---
                             john   28    M
                             Eva    24    F 
```

What is the easiest way to achieve this? The table from where the record is coming has the data in similar format as shown in the first diagram. How can I split this compound string and display it in multiple rows?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T13:13:27.567

您需要规范化您的数据——将源表一分为二。

（如何？您需要编写一些 VBA 代码来：

*   阅读记录表的每一行
*   将 [record id] 列的值保存到稍后将在此循环中使用的变量中
*   对于 [record content] 列的每个值，将值转换为字符串
*   使用分隔符“;”分割字符串。也就是分号。使用 split() 函数。有关示例，请参见[在 excel (vba) 中拆分字符串。](https://stackoverflow.com/questions/8231368/split-strings-in-excel-vba)你会得到一个字符串列表。列表中的每个字符串将如下所示：“姓名：xyz，年龄：xyz，性别：xyz”
*   使用正则表达式从此字符串中提取数据。有关Access 中的示例，请参见[http://mark.biek.org/blog/2009/01/regular-expressions-in-vba/ 。](http://mark.biek.org/blog/2009/01/regular-expressions-in-vba/)
*   这个正则表达式可能会从字符串中获取姓名、年龄和性别作为第一个、第二个和第三个匹配项：

    ```
    "^.*name:\s*([^,]+),\s*age:\s*([^,]+),\s*sex:\s*([.*])$" 
    ```

*   在进行正则表达式匹配后，您抓取匹配的项目，将它们放入名称、年龄和性别变量中，然后使用这些值和您之前保存的记录 ID 插入新的 People 表中。）

表：

# 人们

ID

RecordID - 引用 Records.ID

人名

年龄

性别

# 记录

ID

记录日期

之后，您可以在当前主表单中使用子表单来显示与每条记录关联的人员。如果您在两个表之间有父子关系，Access 会使这变得非常容易，就像您在上面所做的那样。

# jaxb - JAXB XML -> Java object attribute

> ID：14951650
> 
> 赞同：2
> 
> 时间：2013-02-19T07:03:21.207
> 
> 标签：jaxb

My XML Structure.

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<A>
    <B ID="www">
        <C>abcde</C>
    </B>
</A> 
```

* * *

I use `Unmarshaller`.

```
System.out.println(c.toString());   => abcde 
```

I want attribute information.

```
System.out.println(????????);        => ID or count 
```

help me please.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T15:13:29.820

您可以执行以下操作

**JAVA模型**

JAXB (JSR-222) 实现要求您有一个对象模型来将您的 XML 文档转换为。

***一个***

```
import javax.xml.bind.annotation.*;

@XmlRootElement(name="A")
public class A {

    private B b;

    @XmlElement(name="B")
    public B getB() {
        return b;
    }

    public void setB(B b) {
        this.b = b;
    }

} 
```

***乙***

```
import javax.xml.bind.annotation.*;

public class B {

    private String id;
    private String c;

    @XmlAttribute(name = "ID")
    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    @XmlElement(name = "C")
    public String getC() {
        return c;
    }

    public void setC(String c) {
        this.c = c;
    }

} 
```

**演示代码**

将 XML 转换为 Java 对象后，您可以导航对象以获取所需的数据。

***演示***

```
import java.io.File;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(A.class);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        File xml = new File("src/forum14951650/input.xml");
        A a = (A) unmarshaller.unmarshal(xml);

        System.out.println(a.getB().getId());
        System.out.println(a.getB().getC());
    }

} 
```

***输出***

```
www
abcde 
```

# java - does singleton instance of connection object creates issue in web application

> ID：14951651
> 
> 赞同：1
> 
> 时间：2013-02-19T07:03:23.500
> 
> 标签：java, jdbc, connection, singleton

I am using below code snippet to create a singleton instance of Connection object for a web application which will be used by multiple users.

```
static {
        try {
            String driver = PropertyReader.getPropertyReader("driverClassName");        
            Class.forName(driver).newInstance();
        } catch (Exception ex) {
            ex.printStackTrace();
        }
    }

   private static Connection conn = null;
private static synchronized Connection getDBConnection()
    {
         try{
             if(conn == null || conn.isClosed()){
                conn = null;
                String URL = PropertyReader.getPropertyReader("url");
                String userName = PropertyReader.getPropertyReader("username");
                String password = PropertyReader.getPropertyReader("password");
                conn = DriverManager.getConnection(URL,userName,password);
                logger.info("Preparing Connection..."); 
             }               
             else{
                 logger.info("Returning already prepared connection..");
             }
         }

         catch(Exception e)
         {
             e.printStackTrace();
         }

         return conn;
    } 
```

This class will return same instance of connection until and unless connection is closed or null. I suppose same connection will be shared by all users on different machine as it is static one.

If one user is setting auto commit to off to commit couple of statements as transaction, will this create problems for other users by restricting their connection to disable autocommit as well or by commiting their transaction in mid way if one user has used con.commit()?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:21:30.500

是的，它会导致问题。他们共享同一个实例，所以这个说法是错误的

```
If one user is setting auto commit to off to commit couple of statements as transaction, will this create problems for other users by restricting their connection to disable autocommit as well or by commiting their transaction in mid way if one user has used con.commit()? 
```

它应该读

```
If one user is setting auto commit to off to commit couple of statements as transaction, will this create problems for other users because the connection they are sharing has been set to not autocommit and all of their statements will now become part of the new transaction** 
```

由于所有用户（线程）都在使用同一个实例，因此一个用户对其所做的更改将影响其他用户。

正如 Shivam Kalra 所说，连接池是一个更好的工具。很可能您的网络服务器已经提供了它们，如果没有的话，还有第三方库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T22:32:00.967

> 这是否会通过限制其他用户的连接以禁用自动提交来给其他用户带来问题

是的。

> 如果一个用户使用了 con.commit() 或者通过中途提交他们的交易？

是的。

数据库连接对于多线程使用是不安全的，通常甚至不应该是成员字段，更不用说单例了。它们应该是方法局部变量。如果你想节省创建和销毁它们，你必须使用连接池。

# sql-server - Inserting into SQL Server database from XML using XQuery

> ID：14951653
> 
> 赞同：1
> 
> 时间：2013-02-19T07:03:30.440
> 
> 标签：sql-server, xml, xquery

I am trying to update a SQL Server database using an XML file that I will be given. I am trying to use XQuery to insert part of each XML record, but am having difficulty getting the values of more than one node to the corresponding columns of the database. Here is the code that I am using:

```
USE GOCO
GO

DECLARE @x XML

SET @x = '<Table6>
<Flt_x0020_No>1</Flt_x0020_No>
<AvNo>2046</AvNo>
<Date>2010-05-19T00:00:00+04:30</Date>
<Takeoff_x0020_Time>14:15</Takeoff_x0020_Time>
<Land_x0020_Time>15:09</Land_x0020_Time>
<Total_x0020_Flt_x0020_Time>0.9</Total_x0020_Flt_x0020_Time>
</Table6>
<Table6>
<Flt_x0020_No>3460</Flt_x0020_No>
<AvNo>2489</AvNo>
<Date>2013-01-15T00:00:00+04:30</Date>
<Takeoff_x0020_Time>8:40</Takeoff_x0020_Time>
<Land_x0020_Time>13:05</Land_x0020_Time>
<Total_x0020_Flt_x0020_Time>4.5</Total_x0020_Flt_x0020_Time>
</Table6>'

insert into Flight(
FltNo,
AvNo
)

select 

Table1.Column1.value('text() [1]', 'varchar(50)'),
Table1.Column1.value('text() [2]', 'varchar(50)')

from @x.nodes('/Table6/Flt_x0020_No, /Table6/AvNo') As Table1(Column1) 
```

Which gives me:

FltNo|AvNo

1 |Null

3460 |Null

2046 |Null

2489 |Null

I am looking for a result of:

FltNo|AvNo

1 |2046

3460 |2489

Does anybody know how to do this? Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:35:52.410

这有效：

```
select  Table1.Column1.value('Flt_x0020_No[1]', 'varchar(50)'),
        Table1.Column1.value('AvNo[1]', 'varchar(50)')
from    @x.nodes('/Table6') As Table1(Column1) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:07:57.923

这是一个错字吗？

```
Table1.Column1.value('text() [1]', 'varchar(50)'),
Table1.Column1.value('text() [2]', 'varchar(50)') 
```

似乎第二行应该说`Column2`

```
Table1.Column1.value('text() [1]', 'varchar(50)'),
Table1.Column2.value('text() [2]', 'varchar(50)') 
```

# php - 没有运气的PHP数组表

> ID：14951656
> 
> 赞同：-3
> 
> 时间：2013-02-19T07:03:38.120
> 
> 标签：php, arrays

```
 Array (    

    [x0] => sometext1     
    [x1] => sometext2     
    [x2] => sometext3    
    [x3] => sometext4     
    [x4] => sometext5    
    [x5] => sometext6
    [x?] => sometext?

    [y0] => someothertext1     
    [y1] => someothertext2  
    [y2] => someothertext3     
    [y3] => someothertext4     
    [y4] => someothertext5     
    [y5] => someothertext6
    [y?] => someothertext?

    ) 
```

我正在尝试使用这个数组并创建一个表。基本上我不知道有多少 x 或 y ......到目前为止我找不到任何解决方案。任何帮助将不胜感激。

我试图得到的结果

桌子

```
 x      |       y
sometext1 | someothertext1
sometext2 | someothertext2
...       | ... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:12:03.133

如果可能，请对数组进行小修正，说明它是如何声明的。让它看起来像这样：

```
Array (    
    [x] => Array (
        [0] => sometext1     
        [1] => sometext2     
        [2] => sometext3    
        [3] => sometext4     
        [4] => sometext5    
        [5] => sometext6
        [?] => sometext?
    )
    [y] => Array (
        [0] => sometext1     
        [1] => sometext2     
        [2] => sometext3    
        [3] => sometext4     
        [4] => sometext5    
        [5] => sometext6
        [?] => sometext?
    )
) 
```

并且通过这种方式，使用 PHP，您可以这样处理表格：

```
<table>
<?php
    echo '<tr>';
    foreach ($array as $heading => $contents)
        echo "<th>$heading</th>";
    echo '</tr>';
    foreach ($array as $heading => $contents)
        foreach ($heading as $value)
            echo "<td>$value</td>";
?>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:16:47.243

尝试这个 ：

```
 <?php
$array  = Array('x0' => 'sometext1',     
                'x1' => 'sometext2',     
                'x2' => 'sometext3',    
                'x3' => 'sometext4',     
                'x4' => 'sometext5',    
                'x5' => 'sometext',
                'y0' => 'someothertext1',     
                'y1' => 'someothertext2',  
                'y2' => 'someothertext3',     
                'y3' => 'someothertext4',     
                'y4' => 'someothertext5',     
                'y5' => 'someothertext6',
                );

$res    = array();              
foreach($array as $key=>$val){
    preg_match('/(?P<var>\w{1})(?P<ky>\d+)/',$key, $match);
    $res[$match['ky']][$match['var']] = $val;
}

echo "<table>";
echo "<tr><td>X</td><td>Y</td></tr>";
foreach($res as $keys=>$vals){  
    echo "<tr><td>".$vals['x']."</td><td>".$vals['y']."</td></tr>";
}
echo "<table>";

?> 
```

输出 ：

```
X           Y
sometext1   someothertext1
sometext2   someothertext2
sometext3   someothertext3
sometext4   someothertext4
sometext5   someothertext5
sometext    someothertext6 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:15:07.317

正如 Praveen Kumar 解释的那样，表格如下所示：

```
#   X              y
0   sometext1     sometext1
1   sometext2     sometext2 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:11:51.817

在本例中，将该数组复制到另一个 var 中，您有两个名称为 $arr 和 $arr2 的数组，它们只是每个数组的副本。

```
$arr = $arr2 = Array (    .... );

foreach($arr as $key=>$data)
{
    $num = substr($key,1);
    echo '<tr><td>'.$data.'</td>';
    foreach($arr2 as $key2=>$data2)
    {
        $num2 = substr($key2,1);
        if($num == $num2)
        {
            echo '<td>'.$data.'</td>';
            break;
        }
    }
    echo '</tr>';
} 
```

这当然没有考虑到如果没有“y”来匹配额外的“x”，则修复丢失的 td 之类的事情。

# iphone - 如何使用 Objective c 从远程服务器检索多媒体数据并存储文档目录

> ID：14951657
> 
> 赞同：-2
> 
> 时间：2013-02-19T07:03:44.800
> 
> 标签：iphone, objective-c, jsonp, nsurlconnection, nsdocumentdirectory

大家好，我是 iPhone 新手。我正在使用 nsurlconnection 和 json 解析器从远程服务器检索数据。我只从服务器下载了一个文件，并存储在文档路径中。但是在我的服务器 url 中有很多文件，比如（图像、音频、视频、文本文件）。如何在应用午餐时间下载并保存在文档目录中。而且我希望文档中的文件名与服务器中的文件名相同。

我试过这些方法。

```
ViewController 

#import <UIKit/UIKit.h>

@interface ViewController : UIViewController

{

NSMutableData *responseData;

    NSArray *filesCount;

}

@property(nonatomic,retain)NSArray *filesCount;

@property(nonatomic,retain) NSMutableData *responseData;

@end

.m viewController 

#import "ViewController.h"

#import "JSON/JSON.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize filesCount,responseData;

- (void)viewDidLoad

{
    [super viewDidLoad];

    responseData =[[NSMutableData data]retain];

    NSURLRequest *request=[NSURLRequest requestWithURL:[NSURL URLWithString:@"http://XXXXXXX/XXXXX/filesCount.php"]];

       [[NSURLConnection alloc]initWithRequest:request delegate:self];
}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response{

   [responseData setLength:0];

}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data{

    [responseData appendData:data];

}

-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error{

    UIAlertView *alert=[[UIAlertView alloc]initWithTitle:@"" message:@"DidFailWithError" delegate:self cancelButtonTitle:@"Ok" otherButtonTitles: nil];

    [alert show];
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection{

    [connection release];

    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];

    [responseData release];

    NSLog(@"response string is %@",responseString);

    NSError *error;

    SBJSON *json = [[SBJSON new] autorelease];

    filesCount = [json objectWithString:responseString error:&error];

    [responseString release];

    NSLog(@"filesCount is %@",filesCount);

    if (filesCount==nil) {

        UIAlertView *alert=[[UIAlertView alloc]initWithTitle:@"" message:@"Json parsing failed" delegate:self cancelButtonTitle:@"ok" otherButtonTitles: nil];

        [alert show];
    }

    else{

        NSMutableString *text = [NSMutableString stringWithString:@"\n"];

        for (int i = 0; i < [filesCount count]; i++)

            [text appendFormat:@"%@\n", [filesCount objectAtIndex:i]];

        NSLog(@"text is %s",[text UTF8String]);

        UIImage *img = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:text ]]];

        NSData *addImageData = UIImagePNGRepresentation(img);

        NSFileManager *fileManager = [NSFileManager defaultManager];

        NSRange lastComma= [text rangeOfString:@"/" options:NSBackwardsSearch];

        NSString *requiredSubString = [text substringFromIndex:(lastComma.location+1)];

        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

        NSString *documentsDir = [paths objectAtIndex:0];

        NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:requiredSubString];

        [fileManager createFileAtPath:savedImagePath contents:addImageData attributes:nil];

        NSLog(@"Saved Document dir %@",savedImagePath);

        UIAlertView *alert1=[[UIAlertView alloc]initWithTitle:@"" message:@"files are downloaded" delegate:self cancelButtonTitle:@"ok" otherButtonTitles: nil];

        [alert1 show];
    }

} 
```

请帮帮我我疯了怎么了。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-19T07:09:16.007

对不起，我真的不能很好地阅读你的问题。从我所见，尽管您可能会从查看 AFNetworking ( [https://github.com/AFNetworking/AFNetworking](https://github.com/AFNetworking/AFNetworking) ) 中受益。它简化了下载过程，并且坚如磐石。

在这里寻找一个不错的教程：http: [//mobile.tutsplus.com/tutorials/iphone/ios-sdk_afnetworking/](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk_afnetworking/)

# android - 整数值比较无法正常工作

> ID：14951658
> 
> 赞同：1
> 
> 时间：2013-02-19T07:03:52.783
> 
> 标签：android, if-statement

我有一个字符串值`String str="Success"`

如何检查“str”值不等于“Success”。如果我尝试`if(str!="Success")`。它无法正常工作。

我有一个整数值`int a=250`如果我使用`If(a!=250)`它也不能正常工作。

如何为这些条件语句编码？我正在使用 Android 和 Eclipse 2.1 版。

任何帮助都是不言而喻的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:09:09.970

a!=250 应该可以工作。对于字符串尝试 str.equals("Success")

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:21:02.690

正如每个人所说，字符串值应该与`.equals`方法进行比较。

喜欢

```
if(str.equals("Success"))
{
    System.out.println("My String is Success");
} 
```

接下来是整数比较。

正如你所说，你有整数值

```
int a=250

if(a!=250)
{
   // Some code
} 
```

`a`这里你的 a 值已经是 250。如果值是 250，那么你正在执行一些代码行。`not equal`那么条件将如何执行。如果你想测试然后

更改 a 值，然后再次检查为

```
int a=50

if(a!=250)
{
   // Some code===============> Now this code will execute
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:07:08.657

对于字符串比较，使用标准`String.equals()`方法。

`str.equals("Success");`- 对于等于

`if(!str.equals("Success"))`- 对于不等于（你的情况）

对于**int**，正在使用的内容是正确的。`a!=250`将`false`在您的情况下返回。因此，它不会进入`if`区块。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:07:59.523

您应该先尝试学习 Java ;) 这不是进行字符串比较的方法。对于字符串比较，您必须使用 .equals(String) 方法。

```
String str1 = "str1";
String str2 = "str2";

if(str1.equals(str2)) {
    //do something
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-19T07:09:49.083

您不应将字符串与 != 或 = 进行比较。这在大多数情况下是行不通的。

```
new String("test").equals("test") 
```

应该用来比较。

`!=`比较值，如果它们不相等则为真。

你也可以使用类似的东西`if(a == 250){...}`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-19T07:09:52.810

在 Java 中你不能使用 == 来比较字符串，你必须使用：

如果（字符串。等于（“示例”））

因此，让我们在条件中使用 equals() 并对其进行优化： if(!str.equals("Success")) 这将起作用

# facebook - 在应用程序的服务器部分和应用程序的客户端部分之间共享访问令牌

> ID：14951659
> 
> 赞同：1
> 
> 时间：2013-02-19T07:04:07.420
> 
> 标签：facebook, oauth

我刚刚加入了一个项目，其中 android 客户端使用 facebook connect 来验证用户和/或在 facebook 上执行一些操作。但我们的服务器也需要连接到 facebook。这是通过首先将访问令牌（来自 OAuth）发送到服务器来完成的。客户端和服务器共享 OAuth 凭据，因此它们都可以使用相同的访问令牌。

这种方法感觉有些不对劲。任何人都可以想到这种方法的任何陷阱？

# bash - nohup for 循环输出命名

> ID：14951668
> 
> 赞同：0
> 
> 时间：2013-02-19T07:04:53.943
> 
> 标签：bash, nohup

我使用`for`循环将特定工具与文件集一起使用：

```
nohup sh -c 'for i in ~/files/*txt; do ID=`echo ${i} | sed 's/^.*\///'`; ./tool $i &&
mv output ${ID}.out; done' & 
```

这个工具对输出文件有特定的命名，我想重命名输出，因为它会被覆盖，对我来说更简单。
但是，此特定`mv`功能不起作用`nohup`-文件不会单独重命名并被覆盖。

我怎么解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:15:37.553

为什么复杂的`nohup`舞蹈，而不仅仅是

```
for i in ~/files/*.txt; do
    ./tool $i && mv output `basename $i`.out
done 
```

# asp.net - 如何在asp.net c#中的devexpress网格寻呼机下拉列表中添加一个值？

> ID：14951669
> 
> 赞同：0
> 
> 时间：2013-02-19T07:05:00.833
> 
> 标签：asp.net

我想在 devExpress 网格寻呼机下拉列表中添加一个附加值“ALL”。默认显示以下设置

```
 <PageSizeItemSettings Items="10,20,50,100" Visible="True">
     </PageSizeItemSettings> 
```

我想将一个附加值 All 添加到 PageSizeItemSettings 下拉列表中。当我单击 All 时，它应该显示所有表格行。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T11:17:38.187

我在寻呼机中获得了与解决方案相关的显示所有选项。

# sql - Grails：使用普通 sql 连接两个表

> ID：14951672
> 
> 赞同：0
> 
> 时间：2013-02-19T07:05:18.013
> 
> 标签：sql, grails

我想编写连接两个表并返回结果的 sql 查询。假设我们有两个域类：

```
class Patient {
    static hasMany = [visits: Visit]
    String firstName
} 
```

和

```
class Visit {
    static belongsTo = [patient: Patient]
    String visitNo
} 
```

现在，我如何使用 sql 连接这两个表？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:17:35.883

用于`grails schema-export`将表 DDL 写入`target/ddl.sql`- 它将向您显示表结构、外键等。

在这种情况下，它会像

```
select p.first_name, v.visit_no from patient p join visit v on v.patient_id=p.id 
```

# python - 如何在numpy中矢量化这个循环差异？

> ID：14951676
> 
> 赞同：3
> 
> 时间：2013-02-19T07:05:43.030
> 
> 标签：python, matlab, numpy, linear-algebra

我觉得应该有一种快速的方法来加速这段代码。我认为答案就[在这里](https://stackoverflow.com/questions/8299891/vectorization-of-this-numpy-double-loop)，但我似乎无法以这种格式解决我的问题。我试图解决的根本问题是在平行和垂直分量方面找到逐点差异，并创建这些差异的二维直方图。

```
out = np.zeros((len(rpbins)-1,len(pibins)-1))
tmp = np.zeros((len(x),2))
for i in xrange(len(x)):
    tmp[:,0] = x - x[i]
    tmp[:,1] = y - y[i]

    para = np.sum(tmp**2,axis=-1)**(1./2)
    perp = np.abs(z - z[i])

    H, _, _ = np.histogram2d(para, perp, bins=[rpbins, pibins])
    out += H 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T08:16:06.403

向量化这样的事情很棘手，因为要摆脱`n`元素循环，您必须构造一个 数组`(n, n)`，因此对于大输入，您可能会获得比 Python 循环更差的性能。但这是可以完成的：

```
mask = np.triu_indices(x.shape[0], 1)
para = np.sqrt((x[:, None] - x)**2 + (y[:, None] - y)**2)
perp = np.abs(z[:, None] - z)
hist, _, _ = np.histogram2d(para[mask], perp[mask], bins=[rpbins, pibins]) 
```

这`mask`是为了避免将每个距离计算两次。我还设置了对角偏移以`1`避免`0`在直方图中包含每个点到自身的距离。但是，如果您不使用它进行索引`para`，`perp`则会得到与您的代码完全相同的结果。

使用此示例数据：

```
items = 100
rpbins, pibins = np.linspace(0, 1, 3), np.linspace(0, 1, 3)
x = np.random.rand(items)
y = np.random.rand(items)
z = np.random.rand(items) 
```

我为我`hist`和你的`out`：

```
>>> hist
array([[ 1795.,   651.],
       [ 1632.,   740.]])
>>> out
array([[ 3690.,  1302.],
       [ 3264.,  1480.]]) 
```

`out[i, j] = 2 * hist[i, j]`除了，`i = j = 0`因为每个项目与自身`out[0, 0] = 2 * hist[0, 0] + items`的`0`距离。

* * *

**编辑**在 tcaswell 发表评论后尝试了以下操作：

```
items = 1000
rpbins, pibins = np.linspace(0, 1, 3), np.linspace(0, 1, 3)
x, y, z = np.random.rand(3, items)

def hist1(x, y, z, rpbins, pibins) :
    mask = np.triu_indices(x.shape[0], 1)
    para = np.sqrt((x[:, None] - x)**2 + (y[:, None] - y)**2)
    perp = np.abs(z[:, None] - z)
    hist, _, _ = np.histogram2d(para[mask], perp[mask], bins=[rpbins, pibins])
    return hist

def hist2(x, y, z, rpbins, pibins) :
    mask = np.triu_indices(x.shape[0], 1)
    para = np.sqrt((x[:, None] - x)[mask]**2 + (y[:, None] - y)[mask]**2)
    perp = np.abs((z[:, None] - z)[mask])
    hist, _, _ = np.histogram2d(para, perp, bins=[rpbins, pibins])
    return hist

def hist3(x, y, z, rpbins, pibins) :
    mask = np.triu_indices(x.shape[0], 1)
    para = np.sqrt(((x[:, None] - x)**2 + (y[:, None] - y)**2)[mask])
    perp = np.abs((z[:, None] - z)[mask])
    hist, _, _ = np.histogram2d(para, perp, bins=[rpbins, pibins])
    return hist

In [10]: %timeit -n1 -r10 hist1(x, y, z, rpbins, pibins)
1 loops, best of 10: 289 ms per loop

In [11]: %timeit -n1 -r10 hist2(x, y, z, rpbins, pibins)
1 loops, best of 10: 294 ms per loop

In [12]: %timeit -n1 -r10 hist3(x, y, z, rpbins, pibins)
1 loops, best of 10: 278 ms per loop 
```

似乎大部分时间都花在实例化新数组上，而不是进行实际计算，因此虽然有一些效率可以提高，但实际上并没有多少。

# javascript - 为什么我在这个 for 循环中得到一个未定义的偏移量：124？

> ID：14951678
> 
> 赞同：0
> 
> 时间：2013-02-19T07:05:48.270
> 
> 标签：javascript, for-loop, undefined, offset

我不知道问题是什么。除了 $scanDir 之外的所有内容都已定义？它是函数的一部分，所以它的值在调用时传递。这不应该是原因。

```
for ($a = 0; $a <= count($scanListArrayOrig); $a++) {
    rename($scanDir . '/' . $scanListArrayOrig[$a], $scanDir . '/' . $scanListArrayNew[$a]);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:17:08.170

替换`<=`为`<`。

```
for ($a = 0; $a < count($scanListArrayOrig); $a++) {
    rename($scanDir . '/' . $scanListArrayOrig[$a], $scanDir . '/' . $scanListArrayNew[$a]);
} 
```

在这里演示：http: [//ideone.com/yvvAxL](http://ideone.com/yvvAxL)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:22:02.213

使用 foreach 并检查现有密钥的新数组：

```
foreach($scanListArrayOrig as $key => $file) {
    if(false === array_key_exists($key, $scanListArrayNew)) {
        //new filename not existing in array
    }
    else {
        rename($scanDir.'/'.$file, $scanDir.'/'.$scanListArrayNew[$key]);
    }
} 
```

# javascript - 在JavaScript中将2个数字相除时如何获得整数

> ID：14951680
> 
> 赞同：3
> 
> 时间：2013-02-19T07:05:55.367
> 
> 标签：javascript, jquery

我正在用 JavaScript 实现分页，

现在，如果我有`total_item_count = 69`并且我想要每页 10 条记录，那么它应该显示 7 页，但它显示的是 6 页。

我在做什么：

```
var totalpages = 69/10 ; // it should give 7 but its giving 6 
```

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T07:10:11.877

尝试：

```
var Totalpages = Math.ceil(Total Records/ Records per Page); 
```

这里：

```
var Totalpages = Math.ceil(69/10);   // gives 7 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-19T07:08:15.703

如果要获取上整数，可以使用`ceil`：

```
var totalpages = Math.ceil(69/10); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-19T07:08:12.887

尝试这个

```
var totalpages = Math.ceil(69/10) ; 
```

> ceil()：将数字向上舍入到最接近的整数：

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T07:09:52.060

用于`Math.ceil` 获取上整数。

`Math.ceil(69/10)`应该给你 7

# sql - 如何在 SQL Server 中有效地获取上一行和下一行的值

> ID：14951682
> 
> 赞同：6
> 
> 时间：2013-02-19T07:05:57.263
> 
> 标签：sql, sql-server, sql-server-2008, tsql

假设我有这些行，

仪器ID

```
547
698
708 
```

InstrumentID 不是自动生成的列。

假设我将过程中的参数作为 698 传递，我应该将前一个值作为 547 并将下一个值作为 708。如何在 SQL 中有效地执行此操作？

我有这个程序，但效率不高（也不正确）。

```
Alter PROCEDURE GetNextAndPreviousInsturmentID
(
    @InstrumentID   varchar(14),
    @PreviousInstrumentID   varchar(14) OUT,
    @NextInstrumentID   varchar(14) OUT
)
AS
BEGIN
    Declare @RowNum int = 0

    Select @RowNum = ROW_NUMBER() Over (Order by Cast(@InstrumentID as decimal(18))) From Documents Where InstrumentID = @InstrumentID 

    ;With normal As
    (   
        Select ROW_NUMBER() Over (Order by Cast(@InstrumentID as decimal(18))) as RowNum, Cast(InstrumentID as decimal(18)) as InstrumentID
            From Documents 
    )
    Select @PreviousInstrumentID = InstrumentID From normal
        Where RowNum = @RowNum - 1
    Select @NextInstrumentID = InstrumentID From normal
        Where RowNum = @RowNum + 1

END
GO 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-19T08:21:07.773

这是一个更简单的解决方案，但它仍然更有效

```
SELECT P.PreviousID, N.NextID
FROM
(SELECT  MAX(D.InstrumentID) PreviousID
FROM Documents D
WHERE InstrumentID < @InstrumentID) P
CROSS JOIN
(SELECT  MIN(D.InstrumentID) NextID
FROM Documents D
WHERE InstrumentID > @InstrumentID) N 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:17:03.847

尝试这个：

```
Alter PROCEDURE GetNextAndPreviousInsturmentID
(
    @InstrumentID   varchar(14),
    @PreviousInstrumentID   varchar(14) OUT,
    @NextInstrumentID   varchar(14) OUT
)
AS
BEGIN

    Declare @Ids TABLE(Id varchar(14))

    ;With normal As
    (   
        --Numerate our rows
        Select ROW_NUMBER() Over (Order by Cast(Documents.InstrumentID as decimal(18)) as RowNumber,
               Documents.InstrumentID
        From Documents 

    )
    --Insert three rows from our table with our id and previos/next id
    INSERT INTO @Ids(Id)
    SELECT TOP(3) normal.InstrumentID
    FROM normal
    WHERE RowNumber >=
        (
            SELECT RowNumber - 1
            FROM normal
            WHERE normal.InstrumentID = @InstrumentID
        )
    ORDER BY normal.RowNumber
    --select next and previos ids

    SELECT @PreviousInstrumentID = Min(CAST(Id as decimal(18))),
           @NextInstrumentID = MAX(CAST(Id as decimal(18)))
    FROM @Ids
END
GO 
```

在 MS SQL 2012 中，我们有新的窗口函数，如 FIRST_VALUE 和 LAST_VALUE，不幸的是在 sql 2008 中这些函数丢失了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-17T12:05:24.990

```
WITH CTE AS (
  SELECT rownum = ROW_NUMBER() OVER (ORDER BY p.LogDate), p.LogDate
  FROM DeviceLogs p
)
SELECT prev.logdate PreviousValue, CTE.logdate, nex.logdate NextValue
FROM CTE
LEFT JOIN CTE prev ON prev.rownum = CTE.rownum - 1
LEFT JOIN CTE nex ON nex.rownum = CTE.rownum + 1

GO 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-07-05T11:29:46.050

嗨，我认为这会更有效率：

选择下一步：

```
select top 1 ID from mytable
where ID >'698'
order by ID asc 
```

选择上一个：

```
select top 1 ID from mytable
where ID <'698'
order by ID desc 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2016-09-21T14:24:45.593

选择

```
LAG(InstrumentID) OVER (ORDER BY InstrumentID) PreviousValue,
InstrumentID, 
LEAD(InstrumentID) OVER (ORDER BY InstrumentID) NextValue
from documents 
```

# ios - iOS：无法单击 UINavigationItem 的右侧

> ID：14951684
> 
> 赞同：0
> 
> 时间：2013-02-19T07:05:59.033
> 
> 标签：ios, objective-c, uinavigationbar, uinavigationitem

```
-(void )SetNavBarView{
    searchBarBtn.hidden=YES;

    UIView *NavBarView  ;
    NavBarView=[[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];

    UIButton *btn1 = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 44, 44)];
    btn1.titleLabel.font=[UIFont systemFontOfSize:14];
    [btn1 setBackgroundImage:[UIImage imageNamed:@"list.png"] forState:UIControlStateSelected];
    [btn1 setBackgroundImage:[UIImage imageNamed:@"nine_grid.png"] forState:UIControlStateNormal];
    btn1.tag=10;
    [btn1 addTarget:self action:@selector(btnBarClick:) forControlEvents:UIControlEventTouchUpInside];
    [NavBarView addSubview:btn1];

    UIButton *btn2 = [[UIButton alloc] initWithFrame:CGRectMake(45, 0, 44, 44)];
    btn2.titleLabel.font=[UIFont systemFontOfSize:14];
    [btn2 setBackgroundImage:[UIImage imageNamed:@"map.png"] forState:UIControlStateNormal];
    btn2.tag=11;
    [btn2 addTarget:self action:@selector(btnBarClick:) forControlEvents:UIControlEventTouchUpInside];

    [NavBarView addSubview:btn2];

    UILabel *labtitle=[[UILabel alloc]initWithFrame:CGRectMake(95, 0, 120, 44)];
    labtitle.text=NSLocalizedString(@"people_nearby", nil);
    labtitle.textColor=[UIColor whiteColor];
    labtitle.backgroundColor=[UIColor clearColor];
    labtitle.textAlignment=UITextAlignmentCenter;
    labtitle.font=[UIFont boldSystemFontOfSize:20.0];
    [NavBarView addSubview:labtitle];

    UIButton *btn3 = [[UIButton alloc] initWithFrame:CGRectMake(135, 0, 95, 44)];
    btn3.tag=12;
    [btn3 addTarget:self action:@selector(btnBarClick:) forControlEvents:UIControlEventTouchUpInside];

    [NavBarView addSubview:btn3];

    arrowImage=[[UIImageView alloc]initWithFrame:CGRectMake(75, 16, 10, 10)];
    arrowImage.image=[UIImage imageNamed:@"arrow_down.png"];//arrow_down.png
    [btn3 addSubview:arrowImage];

    UIButton *btn4 = [[UIButton alloc] initWithFrame:CGRectMake(230, 0, 44, 44)];
    btn4.titleLabel.font=[UIFont systemFontOfSize:14];

    [btn4 setBackgroundImage:[UIImage imageNamed:@"ic_action_search.png"] forState:UIControlStateNormal];
    btn4.tag=13;
    [btn4 addTarget:self action:@selector(btnBarClick:) forControlEvents:UIControlEventTouchUpInside];

    [NavBarView addSubview:btn4];

//    [bubble stretchableImageWithLeftCapWidth:20 topCapHeight:14]
    UIButton *btn5 = [[UIButton alloc] initWithFrame:CGRectMake(275, 0, 44, 44)];
    btn5.backgroundColor=[UIColor redColor];
    [btn5 setBackgroundImage:[UIImage imageNamed:@"location.png" ] forState:UIControlStateNormal];
     btn5.tag=14;
    [btn5 addTarget:self action:@selector(btnBarClick:) forControlEvents:UIControlEventTouchUpInside];
    [NavBarView addSubview:btn5];

    NavBarView.hidden=NO;

//    [self.view addSubview:NavBarView];
    self.navigationItem.titleView=NavBarView;

} 
```

我有一个`UINavigationItem`，它有五个按钮。第五个按钮`btn5`只能点击左侧，`btn5`不能点击右侧。（按钮大小为 44 x 44）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:47:33.537

这是因为 UINavigationBarItem 的大小，默认情况下它会在两边留下 14px。如果你给你的第一个按钮一个背景颜色，那么你会看到那个空间。

# c# - 将来自 csv 的记录与大列表进行比较

> ID：14951692
> 
> 赞同：0
> 
> 时间：2013-02-19T07:06:38.503
> 
> 标签：c#, performance, csv

在我的网站中，用户上传了一个 csv 文件。

我正在使用这个库[http://www.codeproject.com/Articles/11698/A-Portable-and-Efficient-Generic-Parser-for-Flat-F](http://www.codeproject.com/Articles/11698/A-Portable-and-Efficient-Generic-Parser-for-Flat-F)读取 csv 文件 csv 文件将有大约 4000 条记录（每个记录 5 列）。

我正在将每条记录读入一个列表并在一个大的对象列表中搜索（在开始读取 csv 文件之前，我正在从服务读取大的对象列表到缓存。）以检查该记录是否已经存在。

通过这种方式，我必须进行 4000 次迭代，并且在每次迭代中，我必须在大型对象列表中搜索（大约 10 万条记录在缓存中）。

这是实现的好方法吗？有什么办法可以提高速度吗？将这么大的列表存储在缓存中是个好主意吗？

我的环境是VS2010，.NET4.0，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:16:18.163

您可以通过为列表使用适当的数据结构来加快搜索速度。如果项目具有唯一/主键，您可以使用哈希图，这比为每个项目迭代整个列表更有效。这样你就可以使用 hashmap.containskey()。

如果您运行该服务，则可以将责任推给该服务-也许将唯一键列表推到那里进行比较。

也许您可以发布一些代码以获得更具体的答案。

# haskell - 使用 mapM f [list] 其中 f 用 do 表示法定义

> ID：14951695
> 
> 赞同：1
> 
> 时间：2013-02-19T07:06:48.793
> 
> 标签：haskell

我目前有这段代码，它将`main'`对列表中的每个文件名执行该功能`files`。

理想情况下，我一直在尝试合并`main`，`main'`但没有取得太大进展。有没有更好的方法来简化这一点，还是我需要将它们分开？

```
{- Start here -}
main :: IO [()]
main = do
    files <- getArgs
    mapM main' files

{- Main's helper function -}
main' :: FilePath -> IO ()
main' file = do 
    contents <- readFile file
    case (runParser parser 0 file $ lexer contents) of Left err -> print err
                                                       Right xs -> putStr xs 
```

谢谢！

**编辑：**正如你们大多数人所建议的那样；我为此尝试了一个 lambda 抽象，但没有做对。- 应该在上面指定。通过这些示例，我可以更好地理解这一点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T07:14:49.927

该[`Control.Monad`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html)库定义了[`forM`](http://hackage.haskell.org/packages/archive/base/latest/doc/html/Control-Monad.html#v%3aforM)作为`mapM`反向参数的函数。这使得它更容易在你的情况下使用，即

```
main :: IO ()
main = do
    files <- getArgs
    forM_ files $ \file -> do
        contents <- readFile file
        case (runParser f 0 file $ lexer contents) of
            Left err -> print err   
            Right xs -> putStr xs 
```

当您对结果列表不感兴趣时​​（如本例中），使用名称末尾带有下划线的版本，因此`main`可以简单地使用 type `IO ()`。（`mapM`有一个类似的变体称为`mapM_`）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T07:13:09.393

您可以使用`forM`, 等于`flip mapM`，即`mapM`翻转其参数，如下所示：

```
forM_ files $ \file -> do
  contents <- readFile file
  ... 
```

另请注意，我使用`forM_`而不是`forM`. 当您对计算结果不感兴趣时​​，这会更有效。

# java - java urlconnection 获取最终重定向的 URL

> ID：14951696
> 
> 赞同：9
> 
> 时间：2013-02-19T07:06:51.610
> 
> 标签：java

我有一个重定向到另一个 url 的 url。我希望能够获得最终重定向的 URL。我的代码：

```
 public class testURLConnection
    {
    public static void main(String[] args) throws MalformedURLException, IOException {

    HttpURLConnection con =(HttpURLConnection) new URL( "http://tinyurl.com/KindleWireless" ).openConnection();

    System.out.println( "orignal url: " + con.getURL() );
    con.connect();

System.out.println( "connected url: " + con.getURL() );
InputStream is = con.getInputStream();
System.out.println( "redirected url: " + con.getURL() );
is.close(); 
```

} }

它总是给出原始网址，而重定向网址是：[http ://www.amazon.com/Kindle-Wireless-Reading-Display-Globally/dp/B003FSUDM4/ref=amb_link_353259562_2?pf_rd_m=ATVPDKIKX0DER&pf_rd_s=center-10&pf_rd_r=11EYKTN682A79T3701&pf_rdp_t= 1270985982&pf_rd_i=B002Y27P3M](https://rads.stackoverflow.com/amzn/click/com/B003FSUDM4)。

我怎样才能得到这个最终重定向的 URL。

这是我尝试循环直到我们得到重定向。仍然没有获取所需的网址：

```
 public static String fetchRedirectURL(String url) throws IOException
    {
HttpURLConnection con =(HttpURLConnection) new URL( url ).openConnection();
//System.out.println( "orignal url: " + con.getURL() );
con.setInstanceFollowRedirects(false);
con.connect();

InputStream is = con.getInputStream();
if(con.getResponseCode()==301)
    return con.getHeaderField("Location");
else return null;
    }
    public static void main(String[] args) throws MalformedURLException, IOException {
String url="http://tinyurl.com/KindleWireless";
String fetchedUrl=fetchRedirectURL(url);
System.out.println("FetchedURL is:"+fetchedUrl);
while(fetchedUrl!=null)
{   url=fetchedUrl;
System.out.println("The url is:"+url);
    fetchedUrl=fetchRedirectURL(url);

}
System.out.println(url);

    } 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-09-25T03:47:24.790

试试这个，我使用递归来使用许多重定向 URL。

```
public static String getFinalURL(String url) throws IOException {
    HttpURLConnection con = (HttpURLConnection) new URL(url).openConnection();
    con.setInstanceFollowRedirects(false);
    con.connect();
    con.getInputStream();

    if (con.getResponseCode() == HttpURLConnection.HTTP_MOVED_PERM || con.getResponseCode() == HttpURLConnection.HTTP_MOVED_TEMP) {
        String redirectUrl = con.getHeaderField("Location");
        return getFinalURL(redirectUrl);
    }
    return url;
} 
```

并使用：

```
public static void main(String[] args) throws MalformedURLException, IOException {
    String fetchedUrl = getFinalURL("<your_url_here>");
    System.out.println("FetchedURL is:" + fetchedUrl);

} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-09-16T05:43:44.280

```
public static String getFinalRedirectedUrl(String url) {

    HttpURLConnection connection;
    String finalUrl = url;
    try {
        do {
            connection = (HttpURLConnection) new URL(finalUrl)
                    .openConnection();
            connection.setInstanceFollowRedirects(false);
            connection.setUseCaches(false);
            connection.setRequestMethod("GET");
            connection.connect();
            int responseCode = connection.getResponseCode();
            if (responseCode >= 300 && responseCode < 400) {
                String redirectedUrl = connection.getHeaderField("Location");
                if (null == redirectedUrl)
                    break;
                finalUrl = redirectedUrl;
                System.out.println("redirected url: " + finalUrl);
            } else
                break;
        } while (connection.getResponseCode() != HttpURLConnection.HTTP_OK);
        connection.disconnect();
    } catch (Exception e) {
        e.printStackTrace();
    }
    return finalUrl;
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-19T07:15:34.027

我的第一个想法是设置`instanceFollowRedirects`为 false，或者`URLConnection`改为使用。

在这两种情况下，都不会执行重定向，因此您将收到对原始请求的回复。获取 HTTP 状态值，如果是 3xx，则获取新的重定向值。

当然，可能存在一系列重定向，因此您可能需要迭代直到到达真实（状态 2xx）页面。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-19T09:54:42.980

这可能会有所帮助

```
public static void main(String[] args) throws MalformedURLException,
    IOException {

HttpURLConnection con = (HttpURLConnection) new URL(
        "http://tinyurl.com/KindleWireless").openConnection(proxy);
    System.out.println("orignal url: " + con.getURL());
    con.connect();
    con.setInstanceFollowRedirects(false);
    int responseCode = con.getResponseCode();
    if ((responseCode / 100) == 3) {
        String newLocationHeader = con.getHeaderField("Location");
        responseCode = con.getResponseCode();
        System.out.println("Redirected Location " + newLocationHeader);
        System.out.println(responseCode);
    }

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-19T09:12:03.387

@user719950 在我的 MAC-OSX 上 - 这解决了 HTTP URL 被截断的问题：

在您的原始代码中，只需添加以下行：//您必须通过浏览器查找 IE/Chrome 发送的请求标头是什么。我仍然没有解释为什么这个简单的设置会导致正确的 URL :)

```
HttpURLConnection con =(HttpURLConnection) new URL
( "http://tinyurl.com/KindleWireless" ).openConnection();
 con.setInstanceFollowRedirects(true);
 con.setDoOutput(true);
  System.out.println( "orignal url: " + con.getURL() );     
         **con.setRequestProperty("User-Agent",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) 
    AppleWebKit/536.26.17 (KHTML, like Gecko) Version/6.0.2  
   Safari/536.26.17");**                  

           con.connect();
    System.out.println( "connected url: " + con.getURL() );
    Thread.currentThread().sleep(2000l);
    InputStream is = con.getInputStream();
    System.out.println( "redirected url: " + con.getURL() );

    is.close(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-07T19:06:17.547

如果有多个重定向，这个会递归：

```
protected String getDirectUrl(String link) {
    String resultUrl = link;
    HttpURLConnection connection = null;
    try {
        connection = (HttpURLConnection) new URL(link).openConnection();
        connection.setInstanceFollowRedirects(false);
        connection.connect();
        int responseCode = connection.getResponseCode();
        if (responseCode == HttpURLConnection.HTTP_MOVED_PERM || responseCode == HttpURLConnection.HTTP_MOVED_TEMP) {
            String locationUrl = connection.getHeaderField("Location");

            if (locationUrl != null && locationUrl.trim().length() > 0) {
                IOUtils.close(connection);
                resultUrl = getDirectUrl(locationUrl);
            }
        }
    } catch (Exception e) {
        log("error getDirectUrl", e);
    } finally {
        IOUtils.close(connection);
    }
    return resultUrl;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-06-20T01:13:28.710

@JEETS您的 fetchRedirectURL 函数可能无法正常工作，因为有多种用于重定向的 HTTP 代码。将其更改为范围检查，它将起作用。

```
public static String fetchRedirectURL(String url) throws IOException
    {
HttpURLConnection con =(HttpURLConnection) new URL( url ).openConnection();
//System.out.println( "orignal url: " + con.getURL() );
con.setInstanceFollowRedirects(false);
con.connect();

InputStream is = con.getInputStream();
if(con.getResponseCode()>=300 && con.getResponseCode() <400)
    return con.getHeaderField("Location");
else return null;
    } 
```

# html - 如何使用 CSS 从网站（提供的链接）上抓取表格？

> ID：14951697
> 
> 赞同：0
> 
> 时间：2013-02-19T07:06:54.393
> 
> 标签：html, css, web-scraping, css-tables

这是我需要从中提取一些选举数据的网站：[http ://www.bradleyelections.com/results/html/BradleyPrecSumm01.htm](http://www.bradleyelections.com/results/html/BradleyPrecSumm01.htm)

```
<html>
<head>
  <title>PrecinctSummary</title>
</head>
<style type='text/css'>
.s0_    {position:relative;width:540.75pt;height:9.75pt;}
.s1_    {position:relative;width:540.75pt;height:197.5pt;}
.s2_    {position:relative;width:540.75pt;height:45pt;}
.s3_    {position:relative;width:540.75pt;height:57.75pt;}
.s4_    {position:relative;width:540.75pt;height:24pt;}
.s5_    {position:relative;width:540.75pt;height:15pt;}
.s6_    {position:relative;width:540.75pt;height:0pt;}
.s7_    {position:relative;width:540.75pt;height:16.5pt;}
.s8_    {position:relative;width:540.75pt;height:4.5pt;}
.s9_    {position:relative;width:577.5pt;height:0.25pt;}
.s10_   {position:relative;width:577.5pt;height:97.5pt;}
.s11_   {position:relative;width:577.5pt;height:0pt;}
.s12_   {position:relative;width:577.5pt;height:0pt;}
.s13_   {position:relative;width:577.5pt;height:0pt;}
.s14_   {position:relative;width:468pt;height:15pt;}
.s15_   {position:relative;width:468pt;height:18pt;}
.s16_   {position:relative;width:468pt;height:0pt;}
.s17_   {position:relative;width:468pt;height:0pt;}
.s18_   {position:relative;width:468pt;height:0pt;}
.s19_   {position:relative;width:468pt;height:35.25pt;}
.s20_   {position:relative;width:468pt;height:0pt;}
.f0_    {position:absolute;left:310.5pt;top:4.5pt;width:220.5pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;vertical-align:bottom;}
.f1_    {position:absolute;left:9pt;top:0pt;width:43.5pt;height:8.25pt;font:8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f2_    {position:absolute;left:63pt;top:0pt;width:43.5pt;height:8.25pt;font:8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f3_    {position:absolute;left:115.5pt;top:0pt;width:48pt;height:9pt;font:8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f4_    {position:absolute;left:310.5pt;top:0pt;width:220.5pt;height:9pt;font:8pt 'Arial';line-height:9.02pt;vertical-align:middle;}
.f5_    {position:absolute;left:464.25pt;top:4.5pt;width:25.5pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f6_    {position:absolute;left:508.5pt;top:4.5pt;width:25.5pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;vertical-align:middle;}
.f7_    {position:absolute;left:135pt;top:4.5pt;width:58.5pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;vertical-align:middle;}
.f8_    {position:absolute;left:27pt;top:135pt;width:504pt;height:59.25pt;font:8pt 'Arial';line-height:9.02pt;}
.f9_    {position:absolute;left:18pt;top:24pt;width:220.5pt;height:15pt;font:bold 9pt 'Arial';line-height:10.14pt;text-align:center;vertical-align:middle;}
.f10_   {position:absolute;left:9pt;top:56.25pt;width:522pt;height:1pt;font:0pt 'Arial';overflow:hidden;border-top:solid Black 0.5pt;z-index:1;}
.f11_   {position:absolute;left:190.5pt;top:42.75pt;width:33pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f12_   {position:absolute;left:276pt;top:42.75pt;width:13.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f13_   {position:absolute;left:334.5pt;top:41.25pt;width:97.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f14_   {position:absolute;left:489pt;top:42pt;width:46.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f15_   {position:absolute;left:490.5pt;top:4.5pt;width:16.5pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;}
.f16_   {position:absolute;left:175.5pt;top:0pt;width:48pt;height:9pt;font:8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f17_   {position:absolute;left:240pt;top:0pt;width:48pt;height:9pt;font:8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f18_   {position:absolute;left:90pt;top:4.5pt;width:45pt;height:9pt;font:bold 8pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;}
.f19_   {position:absolute;left:310.5pt;top:0pt;width:121.5pt;height:13.5pt;font:8pt 'Arial';overflow:hidden;vertical-align:middle;}
.f20_   {position:absolute;left:9pt;top:4.5pt;width:252pt;height:40.5pt;font:8pt 'Arial';line-height:9.02pt;}
.f21_   {position:absolute;left:9pt;top:13.5pt;width:522pt;height:1pt;font:0pt 'Arial';overflow:hidden;border-top:solid Black 0.5pt;z-index:1;}
.f22_   {position:absolute;left:310.5pt;top:13.5pt;width:220.5pt;height:1pt;font:0pt 'Times New Roman';overflow:hidden;border-top:solid Black 0.5pt;z-index:1;}
.f23_   {position:absolute;left:9pt;top:9pt;width:364.5pt;height:15pt;font:bold 9.8pt 'Arial';line-height:10.99pt;vertical-align:middle;}
.f24_   {position:absolute;left:9pt;top:0pt;width:522pt;height:1pt;font:0pt 'Arial';overflow:hidden;border-top:solid Black 0.5pt;z-index:1;}
.f25_   {position:absolute;left:0pt;top:13.5pt;width:504pt;height:27pt;font:bold 18pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;}
.f26_   {position:absolute;left:0pt;top:13.5pt;width:126pt;height:15pt;font:9pt 'Arial';overflow:hidden;vertical-align:middle;}
.f27_   {position:absolute;left:0pt;top:40.5pt;width:531pt;height:3pt;font:3pt 'Times New Roman';overflow:hidden;background:Black;}
.f28_   {position:absolute;left:0pt;top:45pt;width:468pt;height:13.5pt;font:bold 12pt 'Times New Roman';overflow:hidden;vertical-align:middle;}
.f29_   {position:absolute;left:0pt;top:63pt;width:468pt;height:13.5pt;font:bold 12pt 'Times New Roman';overflow:hidden;vertical-align:middle;}
.f30_   {position:absolute;left:0pt;top:81pt;width:468pt;height:13.5pt;font:bold 12pt 'Times New Roman';overflow:hidden;vertical-align:middle;}
.f31_   {position:absolute;left:0pt;top:99pt;width:468pt;height:13.5pt;font:bold 12pt 'Times New Roman';overflow:hidden;vertical-align:middle;}
.f32_   {position:absolute;left:0pt;top:117pt;width:531pt;height:3pt;font:3pt 'Times New Roman';overflow:hidden;background:Black;}
.f33_   {position:absolute;left:497.25pt;top:0pt;width:22.5pt;height:22.5pt;font:9pt 'Arial';overflow:hidden;}
.f34_   {position:absolute;left:495pt;top:22.5pt;width:27pt;height:15pt;font:9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;}
.f35_   {position:absolute;left:0pt;top:0pt;width:216pt;height:13.5pt;font:9pt 'Arial';overflow:hidden;vertical-align:middle;}
.f36_   {position:absolute;left:0pt;top:0pt;width:144pt;height:13.5pt;font:9pt 'Arial';overflow:hidden;}
.f37_   {position:absolute;left:0pt;top:13.5pt;width:270pt;height:9pt;font:9pt 'Arial';overflow:hidden;}
.f38_   {position:absolute;left:315pt;top:0pt;width:216pt;height:13.5pt;font:9pt 'Arial';overflow:hidden;text-align:right;}
.f39_   {position:absolute;left:297pt;top:13.5pt;width:234pt;height:9pt;font:9pt 'Arial';overflow:hidden;text-align:right;}
.f40_   {position:absolute;left:9pt;top:0pt;width:522pt;height:1pt;font:0pt 'Arial';overflow:hidden;border-top:solid Black 0.5pt;z-index:1;}
.f41_   {position:absolute;left:39pt;top:42.75pt;width:13.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f42_   {position:absolute;left:93pt;top:42.75pt;width:13.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f43_   {position:absolute;left:150pt;top:42.75pt;width:13.5pt;height:15pt;font:bold 8pt 'Arial';line-height:9.02pt;text-align:center;vertical-align:middle;}
.f44_   {position:absolute;left:94.5pt;top:58.5pt;width:90pt;height:12pt;font:bold 9pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f45_   {position:absolute;left:94.5pt;top:76.5pt;width:90pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f46_   {position:absolute;left:185.25pt;top:27pt;width:54pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f47_   {position:absolute;left:185.25pt;top:13.5pt;width:54pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f48_   {position:absolute;left:185.25pt;top:0pt;width:54pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f49_   {position:absolute;left:184.5pt;top:58.5pt;width:54pt;height:12pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f50_   {position:absolute;left:184.5pt;top:76.5pt;width:54pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f51_   {position:absolute;left:270pt;top:0pt;width:100.5pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:right;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f52_   {position:absolute;left:370.5pt;top:0pt;width:95.25pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;text-align:center;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f53_   {position:absolute;left:0pt;top:0pt;width:185.25pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f54_   {position:absolute;left:0pt;top:13.5pt;width:185.25pt;height:13.5pt;font:bold 9pt 'Arial';line-height:10.14pt;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f55_   {position:absolute;left:0pt;top:27pt;width:185.25pt;height:13.5pt;font:bold 9pt 'Arial';line-height:10.14pt;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f56_   {position:absolute;left:0pt;top:4.5pt;width:54pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;vertical-align:middle;}
.f57_   {position:absolute;left:54pt;top:4.5pt;width:63pt;height:13.5pt;font:bold 9pt 'Arial';overflow:hidden;vertical-align:middle;}
.f58_   {position:absolute;left:0pt;top:22.5pt;width:103.5pt;height:12.75pt;font:bold 10pt 'Times New Roman';overflow:hidden;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:Gainsboro;}
.f59_   {position:absolute;left:103.5pt;top:22.5pt;width:108pt;height:12.75pt;font:bold 10pt 'Times New Roman';overflow:hidden;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:Gainsboro;}
.f60_   {position:absolute;left:0pt;top:0pt;width:103.5pt;height:15pt;font:8pt 'Arial';line-height:9.02pt;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f61_   {position:absolute;left:103.5pt;top:0pt;width:108pt;height:15pt;font:8pt 'Arial';overflow:hidden;vertical-align:middle;padding:0pt 3pt;border:solid Black 0.5pt;background:White;}
.f62_   {position:absolute;left:0pt;top:0pt;width:184.5pt;height:18pt;font:bold 12pt 'Arial';overflow:hidden;vertical-align:middle;}
</style>
<body>
<div class=s1_ style="height:236pt;">
<span class=f25_>Precinct Summary Report</span>
<span class=f35_>11/4/2014 - 8:42:30 PM</span>
<span class=f33_><img src='Bradley_PrecSumm_01_files/PrecinctSummary_Field10_pic0.png' style='position:absolute;left:0pt;top:0pt'></span>
<span class=f26_>Election Date: 11/4/2014</span>
<span class=f34_>EMS</span>
<span class=f27_>&nbsp;</span>
<span class=f28_>Bradley County, Tennessee</span>
<span class=f29_>2014 General Election</span>
<span class=f30_>TNBRAG14</span>
<span class=f31_>11/4/2014</span>
<span class=f32_>&nbsp;</span>
<span class=f53_ style="left:27pt;top:135pt;">E - # Of Election Day Votes</span>
<span class=f48_ style="left:212.25pt;top:135pt;">405</span>
<span class=f51_ style="left:297pt;top:135pt;">PRECINCT STATUS:</span>
<span class=f52_ style="left:397.55pt;top:135pt;">INCOMPLETE</span>
<span class=f54_ style="left:27pt;top:148.55pt;">A - # Of Absentee and Early Votes</span>
<span class=f47_ style="left:212.25pt;top:148.55pt;">319</span>
<span class=f55_ style="left:27pt;top:162pt;">P - # Of Provisional Votes</span>
<span class=f46_ style="left:212.25pt;top:162pt;">0</span>
<span class=f44_ style="left:121.55pt;top:193.55pt;">&nbsp;PUBLIC COUNT:</span>
<span class=f49_ style="left:211.55pt;top:193.55pt;">724</span>
<span class=f45_ style="left:121.55pt;top:211.55pt;">&nbsp;VOTER TURNOUT:</span>
<span class=f50_ style="left:211.55pt;top:211.55pt;">33.58%</span>
</div>
<div class=s3_>
<span class=f23_>01-McDonald</span>
<span class=f9_>- - - - - - - - - - - - - - - - - - VOTES - - - - - - - - - - - - - - - -</span>
<span class=f13_>&nbsp;</span>
<span class=f14_>&nbsp;</span>
<span class=f41_>E</span>
<span class=f42_>A</span>
<span class=f43_>P</span>
<span class=f11_>TOTAL</span>
<span class=f12_>%</span>
<span class=f10_>&nbsp;</span>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>694</span>
<span class=f0_>Governor</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>335</span>
<span class=f2_>252</span>
<span class=f3_>0</span>
<span class=f16_>587</span>
<span class=f17_>84.58%</span>
<span class=f4_ style="height:9.45pt;">Bill Haslam (R)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>39</span>
<span class=f2_>37</span>
<span class=f3_>0</span>
<span class=f16_>76</span>
<span class=f17_>10.95%</span>
<span class=f4_ style="height:9.45pt;">Charles V. &quot;Charlie&quot; Brown (D)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>5</span>
<span class=f2_>5</span>
<span class=f3_>0</span>
<span class=f16_>10</span>
<span class=f17_>1.44%</span>
<span class=f4_ style="height:9.45pt;">Shaun Crowell (C)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>2</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>2</span>
<span class=f17_>0.29%</span>
<span class=f4_ style="height:9.45pt;">Isa Infante (G)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>4</span>
<span class=f2_>2</span>
<span class=f3_>0</span>
<span class=f16_>6</span>
<span class=f17_>0.86%</span>
<span class=f4_ style="height:9.45pt;">Steven Damon Coburn (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>5</span>
<span class=f2_>3</span>
<span class=f3_>0</span>
<span class=f16_>8</span>
<span class=f17_>1.15%</span>
<span class=f4_ style="height:9.45pt;">John Jay Hooker (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>3</span>
<span class=f2_>2</span>
<span class=f3_>0</span>
<span class=f16_>5</span>
<span class=f17_>0.72%</span>
<span class=f4_ style="height:9.45pt;">Daniel T. Lewis (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">Write-In</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>695</span>
<span class=f0_>Constitutional Amendment # 1</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>271</span>
<span class=f2_>213</span>
<span class=f3_>0</span>
<span class=f16_>484</span>
<span class=f17_>69.64%</span>
<span class=f4_ style="height:9.45pt;">Yes</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>116</span>
<span class=f2_>95</span>
<span class=f3_>0</span>
<span class=f16_>211</span>
<span class=f17_>30.36%</span>
<span class=f4_ style="height:9.45pt;">No</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>698</span>
<span class=f0_>Constitutional Amendment # 2</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>269</span>
<span class=f2_>216</span>
<span class=f3_>0</span>
<span class=f16_>485</span>
<span class=f17_>69.48%</span>
<span class=f4_ style="height:9.45pt;">Yes</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>122</span>
<span class=f2_>91</span>
<span class=f3_>0</span>
<span class=f16_>213</span>
<span class=f17_>30.52%</span>
<span class=f4_ style="height:9.45pt;">No</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>671</span>
<span class=f0_>Constitutional Amendment # 3</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>282</span>
<span class=f2_>227</span>
<span class=f3_>0</span>
<span class=f16_>509</span>
<span class=f17_>75.86%</span>
<span class=f4_ style="height:9.45pt;">Yes</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>93</span>
<span class=f2_>69</span>
<span class=f3_>0</span>
<span class=f16_>162</span>
<span class=f17_>24.14%</span>
<span class=f4_ style="height:9.45pt;">No</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>660</span>
<span class=f0_>Constitutional Amendment # 4</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>272</span>
<span class=f2_>210</span>
<span class=f3_>0</span>
<span class=f16_>482</span>
<span class=f17_>73.03%</span>
<span class=f4_ style="height:9.45pt;">Yes</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>104</span>
<span class=f2_>74</span>
<span class=f3_>0</span>
<span class=f16_>178</span>
<span class=f17_>26.97%</span>
<span class=f4_ style="height:9.45pt;">No</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>706</span>
<span class=f0_>United States Senate</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>321</span>
<span class=f2_>243</span>
<span class=f3_>0</span>
<span class=f16_>564</span>
<span class=f17_>79.89%</span>
<span class=f4_ style="height:9.45pt;">Lamar Alexander (R)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>56</span>
<span class=f2_>49</span>
<span class=f3_>0</span>
<span class=f16_>105</span>
<span class=f17_>14.87%</span>
<span class=f4_ style="height:9.45pt;">Gordon Ball (D)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>10</span>
<span class=f2_>5</span>
<span class=f3_>0</span>
<span class=f16_>15</span>
<span class=f17_>2.12%</span>
<span class=f4_ style="height:9.45pt;">Joe Wilmoth (C)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>2</span>
<span class=f2_>2</span>
<span class=f3_>0</span>
<span class=f16_>4</span>
<span class=f17_>0.57%</span>
<span class=f4_ style="height:9.45pt;">Martin Pleasant (G)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>4</span>
<span class=f2_>6</span>
<span class=f3_>0</span>
<span class=f16_>10</span>
<span class=f17_>1.42%</span>
<span class=f4_ style="height:9.45pt;">Tom Emerson, Jr. (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">Edmund L. Gauthier (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">Joshua James (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>2</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>2</span>
<span class=f17_>0.28%</span>
<span class=f4_ style="height:9.45pt;">Danny Page (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>1</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>1</span>
<span class=f17_>0.14%</span>
<span class=f4_ style="height:9.45pt;">Bartholomew J. Phillips (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">C. Salekin (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">Eric Schechter (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>4</span>
<span class=f2_>1</span>
<span class=f3_>0</span>
<span class=f16_>5</span>
<span class=f17_>0.71%</span>
<span class=f4_ style="height:9.45pt;">Rick Tyler (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>0</span>
<span class=f3_>0</span>
<span class=f16_>0</span>
<span class=f17_>0.00%</span>
<span class=f4_ style="height:9.45pt;">Write-In</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>678</span>
<span class=f0_>US House 4th Cong Dist</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>278</span>
<span class=f2_>196</span>
<span class=f3_>0</span>
<span class=f16_>474</span>
<span class=f17_>69.91%</span>
<span class=f4_ style="height:9.45pt;">Scott Desjarlais (R)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>76</span>
<span class=f2_>73</span>
<span class=f3_>0</span>
<span class=f16_>149</span>
<span class=f17_>21.98%</span>
<span class=f4_ style="height:9.45pt;">Lenda Sherrell (D)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>30</span>
<span class=f2_>24</span>
<span class=f3_>0</span>
<span class=f16_>54</span>
<span class=f17_>7.96%</span>
<span class=f4_ style="height:9.45pt;">Robert Rankin Doggart (I)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>0</span>
<span class=f2_>1</span>
<span class=f3_>0</span>
<span class=f16_>1</span>
<span class=f17_>0.15%</span>
<span class=f4_ style="height:9.45pt;">Write-In</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>631</span>
<span class=f0_>TN House 24th Rep District</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>353</span>
<span class=f2_>262</span>
<span class=f3_>0</span>
<span class=f16_>615</span>
<span class=f17_>97.46%</span>
<span class=f4_ style="height:9.45pt;">Kevin D. Brooks (R)</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>8</span>
<span class=f2_>8</span>
<span class=f3_>0</span>
<span class=f16_>16</span>
<span class=f17_>2.54%</span>
<span class=f4_ style="height:9.45pt;">Write-In</span>
</div>
<div class=s8_>
</div>
<div class=s5_>
<span class=f40_>&nbsp;</span>
<span class=f19_>VOTE FOR 1</span>
<span class=f5_>&nbsp;</span>
<span class=f15_>&nbsp;</span>
<span class=f6_>&nbsp;</span>
<span class=f21_>&nbsp;</span>
</div>
<div class=s7_>
<span class=f18_>VOTES=</span>
<span class=f7_>30</span>
<span class=f0_>Cleveland Wine at Retail Stores</span>
<span class=f22_>&nbsp;</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>3</span>
<span class=f2_>13</span>
<span class=f3_>0</span>
<span class=f16_>16</span>
<span class=f17_>53.33%</span>
<span class=f4_ style="height:9.45pt;">For Wine In Stores</span>
</div>
<div class=s0_ style="height:10.23pt;">
<span class=f1_>8</span>
<span class=f2_>6</span>
<span class=f3_>0</span>
<span class=f16_>14</span>
<span class=f17_>46.67%</span>
<span class=f4_ style="height:9.45pt;">Against Wine In Stores</span>
</div>
<div class=s8_>
</div>
<div class=s2_>
<span class=f24_>&nbsp;</span>
</div>
<div class=s4_>
<span class=f36_>Precinct Summary Report</span>
<span class=f38_>11/4/2014 - 8:42:30 PM</span>
<span class=f37_>2014 General Election [Election Date: 11/4/2014]</span>
<span class=f39_>Page 1 of 1</span>
</div>
</body>
</html> 
```

我熟悉 HTML 表格的工作原理，但我不认识源代码中的语法。我认为它是 CSS，但这仍然留下了如何以自动方式将此表转换为 Excel 或 CSV 格式的问题。

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:13:34.440

它不是表格，它只是跨度元素。我相信您将 HTML/CSS 与某种编程语言混淆了。你不能用 CSS 刮。您将需要使用像 PHP 这样的编程语言来执行此操作。

查看 PHP 函数**file_get_contents** [http://php.net/manual/en/function.file-get-contents.php](http://php.net/manual/en/function.file-get-contents.php)。使用它并传入要抓取的页面的完整地址。该函数将返回整个源代码。从那里，您可以开始按摩数据，并希望得到您正在寻找的东西。

尝试获取返回的字符串并使用 RegEx 将其拆分，在源代码中查找模式以返回您尝试提取的部分。

或者只是向网站的人询问他们的数据副本。我确定他们有一个很好的 Excel 文件；-)

# security - 解决 1.通过 Web 服务器进程的内存泄漏和 2.潜在的缓冲区溢出的方法应该是什么？

> ID：14951698
> 
> 赞同：0
> 
> 时间：2013-02-19T07:07:01.043
> 
> 标签：security, penetration-testing, penetration-tools

我正在开发一个客户端服务器应用程序，其中客户端是用 java 编写的，服务器是用 c++ 编写的。

我的一位客户使用 Think Secure Tool 进行了渗透测试（不确定他们使用了哪些工具）并得到了漏洞（更恰当地说是弱点） 1.通过 Web 服务器进程的内存泄漏和 2.潜在的缓冲区溢出。

他们将此结果发送到我们的应用程序用来显示所有相关事件的特定端口。

我对这个问题一无所知，也不知道要解决这个问题。请向我建议可以在这个问题上帮助我的方法或任何参考材料......提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:27:54.237

如果您的服务器应用程序是用 C++ 编写的并且内存泄漏，您是否尝试过使用[valgrind](http://valgrind.org/)分析您的代码？如果您正在使用 Windows 其他免费工具，请[点击此处](https://stackoverflow.com/questions/9911889/is-there-valgrind-memcheck-like-tool-for-windows-to-debug-use-after-free-errors)

对于 C++ 中的缓冲区溢出，请避免使用类似 C 的数组并使用智能指针

# perl - 为 ActiveState Perl 版本 5.6.1 build 629 安装 XML::LibXML Perl 模块

> ID：14951703
> 
> 赞同：3
> 
> 时间：2013-02-19T07:07:21.417
> 
> 标签：perl

如何在 ActiveState Perl 版本 5.6.1 build 629 上安装 XML::LibXML Perl 模块？

这是我尝试过的：

```
D:\Users\abc>ppm install XML::LibXML
Installing package 'XML-LibXML'...
Error installing package 'XML-LibXML': Could not locate a PPD file for package XML-LibXML 
```

和其他方式：

```
D:\Users\abc\Downloads\XML-LibXML-2.0014\XML-LibXML-2.0014>perl Makefile.PL
Couldn't find your C compiler
Compilation failed in require at Makefile.PL line 83.
BEGIN failed--compilation aborted at Makefile.PL line 83. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T09:13:47.813

也许您的 ppm 包管理器无法为您的 perl 版本找到正确的包。

您可以尝试像这样找到并安装。也许其中之一对你有用。

```
ppm install http://www.bribes.org/perl/ppm/XML-LibXML.ppd    
ppm install http://theoryx5.uwinnipeg.ca/ppmpackages/XML-LibXML.ppd
ppm install http://trouchelle.com/ppm/XML-LibXML.ppd
ppm install http://ppm.tcool.org/archives/XML-LibXML.ppd
ppm install http://theoryx5.uwinnipeg.ca/ppms/XML-LibXML.ppd 
```

如何也添加一个新的 repo ppm：[http ://www.bribes.org/perl/ppmdir.html](http://www.bribes.org/perl/ppmdir.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T14:18:35.530

我在我的机器上安装了 PPM 的 CPAN 版本；下载`PPM-2.1.8.tar.gz`源代码，解压文件，`cd`放入解压目录，运行

```
perl Makefile.PL 
nmake 
nmake install 
```

但是`nmake`我的机器上没有安装，所以我安装了它。在此之后，我可以通过发出命令从 uwinnipeg 5.6 存储库安装 XML-LibXML

```
ppm install http://theoryx5.uwinnipeg.ca/ppmpackages/XML-LibXML.ppd 
```

它还安装了必备的 ppm 包，以及`libxml2.dll`环境变量 PATH 中所需的库。

# php - 而其他声明？PHP

> ID：14951708
> 
> 赞同：11
> 
> 时间：2013-02-19T07:07:59.307
> 
> 标签：php

所以我使用while语句验证空值，代码是

```
while (!$rs->EOF){ 
    echo "<tr><td>".$rs->Fields("Branch")."</td>";
    $rs->movenext();
}
$rs->Close();   

?> 
```

我想要实现的是有一个“else”语句，尽管我知道使用 where 语句是不可能的。在 where 语句中哪一个等价于它？

```
while (!$rs->EOF){ 
    echo "<tr><td>".$rs->Fields("Branch")."</td>";
    $rs->movenext();
}
if(!$rs->EOF)
{
    echo "<tr><td> Branch is missing</td>";
}
$rs->Close();   

?> 
```

我尝试使用“如果”我没有收到任何错误，尽管它没有打印我想要打印的内容

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-19T07:13:17.710

php 中不存在 While-Else。

你可以使用：

```
if ($rs->EOF) {
    echo "<tr><td> Branch is missing</td>";
} else {
    while (!$rs->EOF){ 
        echo "<tr><td>".$rs->Fields("Branch")."</td>";
        $rs->movenext();
    }
}
$rs->Close(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-08T12:24:37.663

我想建议一种稍微不同的方法来解决这个问题，它在我的脑海中更有意义：

```
if (!$rs.EOF()) {
    while (!$rs.EOF()) {
        // code...
    }
}
else {
    // code...
} 
```

我认为这对我来说更有意义，因为您通常希望在 if 块中处理您的预期结果，而在 else 块中处理其他结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:12:00.127

`while (!$rs->EOF){` 意思是“继续这样做直到`$rs->EOF`是`true`”。当它结束时，`$rs-EOF`将始终为真（否则循环不会结束），因此条件永远不会通过。

您需要在某个时间点（可能*在*循环之前）进行测试`while`以查看是否找到任何结果。如果不知道您使用的是什么库，就不可能说出如何做到这一点。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-19T07:13:39.503

在尝试循环*之前*，您应该检查结果集是否为空。

例如像这样的伪代码：

```
rs = sql("SELECT ...");

if (rs.isEmpty())
    print "No data";
else
{
    while (!rs.EOF())
    {
        ...
    }
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-19T07:18:22.813

我认为下面的代码会帮助你，

```
<?php while (!$rs->EOF){ 

     if($rs->Fields("Branch"))
     {
      echo "<tr><td>".$rs->Fields("Branch")."</td>";
     $rs->movenext();
     }else{
      echo "<tr><td> Branch is missing</td>";
     }
}

$rs->Close();   

?> 
```

# xamarin.ios - MvvmCross 是否支持故事板

> ID：14951712
> 
> 赞同：2
> 
> 时间：2013-02-19T07:08:07.667
> 
> 标签：xamarin.ios, mvvmcross, xcode-storyboard

我一直在研究使用 MvvmCross 作为我们跨平台开发的解决方案，之前的开发只针对 iOS。我真的很喜欢故事板如何将所有视图以及它们之间的流程包含在一起。

我知道 Monotouch 支持他们在我已经能够使用的故事板项目中的使用，但是我无法找到任何与 MvvmCross 一起使用的参考/示例。

目前支持吗？或者有人可以为我提供一些关于如何获得此设置的提示。启动似乎是故事板项目中的问题，AppDelegate 中的 FinishedLaunching 方法通常为空

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:36:19.033

> 目前支持吗？

我不相信它是。

除了演示应用程序之外，我从未使用 Storyboards 构建任何东西——所以我不是专家。

但是，据我所知，我认为您需要克服 3 个问题。

### 1\. 故事板在 FinishedLaunching 中没有代码

我认为这很容易解决 - 您只需向 FinishedLaunching 添加一个覆盖，它调用一个 MvvmCross Setup 类来初始化 IoC、插件、您的应用程序等。

### 2\. MvvmCross vNext 要求您将构造函数覆盖为如下形式

```
public DetailViewController (MvxShowViewModelRequest request) {
} 
```

而故事板需要使用以下形式：

```
public DetailViewController (IntPtr handle) {
} 
```

克服这一点更难......但好消息是它在 v3 中应该更容易 - v3 的既定目标之一是以某种方式支持故事板 - 请参阅[http://slodge.blogspot.co.uk/2013/ 02/mvvmcross-v3.html](http://slodge.blogspot.co.uk/2013/02/mvvmcross-v3.html)

### 3.概念冲突

如果您使用 Storyboard，则导航逻辑与 Storyboard 和 UIViewController 相关联。

如果您使用的是 MvvmCross，则导航逻辑与 ViewModel 相关联。

克服这一点相对简单——你可以轻松地混合和匹配概念——但你可能会发现你的 ViewModels 和 Views 感觉“有点奇怪”。

* * *

### 概括

今天这样做是可能的，但需要几个小时的黑客攻击。

v3 的测试版很快就会到期（几周内 - 仅取决于我的业余时间）。一旦可用，我认为您将能够更快地开始。

# android - 创建 Image 实例时 droidText unstaisfiedLink 错误

> ID：14951722
> 
> 赞同：0
> 
> 时间：2013-02-19T07:09:13.310
> 
> 标签：android, pdf-generation, android-droidtext

在使用 droidText lib 创建 pdf 时，我不断收到 unstaisfied 链接错误。它是随机的，不会每次都发生

抛出它的行是：

```
Image image = Image.getInstance(url); 
```

堆栈跟踪

```
02-19 12:09:02.534: E/AndroidRuntime(14477): FATAL EXCEPTION: Thread-10
02-19 12:09:02.534: E/AndroidRuntime(14477): java.lang.UnsatisfiedLinkError: cmmOpenProfile
02-19 12:09:02.534: E/AndroidRuntime(14477):    at org.apache.harmony.awt.gl.color.NativeCMM.cmmOpenProfile(Native Method)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at harmony.java.awt.color.ICC_Profile.<init>(ICC_Profile.java:324)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at harmony.java.awt.color.ICC_Profile.getInstance(ICC_Profile.java:645)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.lowagie.text.pdf.codec.PngImage.readPng(PngImage.java:425)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.lowagie.text.pdf.codec.PngImage.getImage(PngImage.java:515)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.lowagie.text.pdf.codec.PngImage.getImage(PngImage.java:230)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.lowagie.text.pdf.codec.PngImage.getImage(PngImage.java:212)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.lowagie.text.Image.getInstance(Image.java:275)
02-19 12:09:02.534: E/AndroidRuntime(14477):    at com.test.view.pdf.PdfCreation.getLogo(PdfCreation.java:1094) 
```

关于我做错了什么或如何解决这个问题的任何指示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T01:12:03.697

droidtext 将部分 Apache Harmony 用于 awt 依赖项。[当 png 图像具有 iCCP 块 ( http://www.libpng.org/pub/png/spec/1.2/PNG-Chunks.html#C.iCCP](http://www.libpng.org/pub/png/spec/1.2/PNG-Chunks.html#C.iCCP) )时使用的 Harmony 的 ICC_Profile 实现依赖于本机图书馆。这个本机代码现在不是 droidtext 的一部分。

我在这里打开了一个问题：[http](http://code.google.com/p/droidtext/issues/detail?id=6) ://code.google.com/p/droidtext/issues/detail?id=6并将对其进行调查。如果您可以在出现此问题的错误处附加一个 png，那就太好了。

作为一种解决方法，您可以从 png 中删除颜色配置文件或通过取消对 PngImage.java 中的第 424-429 行的注释来阻止 droidText 应用它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-06T12:33:48.083

我有一个类似的问题，我以这种方式解决了：

检查您的 png 图像是否有一些奇怪的颜色配置文件。如果您使用 Photoshop 设计 png 图像，请使用“转换为配置文件...”并选择“sRGB IEC61966”，然后在“保存为 Web”时选中“转换为 sRGB”选项。

有关颜色配置文件的更多信息，请阅读：[https](https://imageoptim.com/color-profiles.html) ://imageoptim.com/color-profiles.html和[http://viget.com/inspire/the-mysterious-save-for-web-color-shift](http://viget.com/inspire/the-mysterious-save-for-web-color-shift)

# javascript - 如何使用用 Javascript 编写的现有方法验证我的表单？

> ID：14951723
> 
> 赞同：0
> 
> 时间：2013-02-19T07:09:14.897
> 
> 标签：javascript, html, css

我编写了一个validator.js，其中包含通过正则表达式验证规则的代码。

这是我在页面上得到的代码

```
 jQuery.validator.addMethod("corePhoneUS", coreFieldValidator.phoneUS, "Please enter a 10 digit phone number. Ex: 801-555-1212");
    jQuery.validator.addMethod("coreZipUS", coreFieldValidator.zipUS, "Please enter a 5 or 9 digit zip code. Ex: 84045, or 84045-1234"); 
```

现在我有了要验证的 html 表单。$("#contactForm").validate() 不起作用。我没有看到任何错误。

有人知道如何在验证中应用现有方法吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:12:33.440

确保您已将验证规则应用于表单上的某些输入字段：

```
$('#contactForm').validate({
    rules: {
        someInputElementName: {
            corePhoneUS: true
        },
        someOtherInputElementName: {
            coreZipUS: true
        }
    }
}); 
```

# iphone - 如何以编程方式控制 iphone 电源按钮？

> ID：14951732
> 
> 赞同：-1
> 
> 时间：2013-02-19T07:09:30.380
> 
> 标签：iphone, ios, uiswitch, ios-frameworks, uievent

我想以编程方式控制 iphone 设备。

1.  我的意思是，当用户想要关闭手机时，会出现一条警报消息。它会询问密码，然后只有操作才会起作用。

2.  当用户从他/她的设备中删除应用程序时，
    出于安全原因，会出现一个警报并询问密码。

    处理电源按钮以及设备上的应用程序控制所需的框架类型。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-19T07:22:15.147

> 1.  我的意思是，当用户想要关闭手机时，会出现一条警报消息。它会询问密码，然后只有操作才会起作用。

你不能

> 1.  当用户从他/她的设备中删除应用程序时，出于安全原因，会出现一个警报并询问密码。

你不能。

但是您可以使用[Apple 的配置器](https://itunes.apple.com/app/apple-configurator/id434433123?mt=12)来使用您公司的配置文件配置 iOS 设备。这样用户将无法卸载该应用程序。

Apple 配置器也可以做很多其他事情。考虑在设备上设置限制、帐户、密码、安全性和其他内容。

您甚至可以使用移动设备管理服务器或服务进行无线更新

# android - URL Scheme 替代推送通知？

> ID：14951733
> 
> 赞同：-1
> 
> 时间：2013-02-19T07:09:31.330
> 
> 标签：android, iphone, ios, push-notification, url-scheme

推送通知不可靠。Apple Push Notification Server 不保证通知的传递。

我们有一个应用程序，其中我们展示了一个 Web 视图，其中有一个按钮，它应该触发从客户端到服务器的请求。但是由于按钮在网页中（在 webview 中显示），服务器会向我们发送推送通知，要求我们开始发送请求。这在 iOS 中是困难的，因为任何通知都应该被用户接受才能被调用，而且无论如何，推送通知不能总是被依赖。

一种替代方法是继续轮询服务器，询问我是否应该触发请求。但这仅在应用程序运行时才有效，并且会消耗大量电池。

另一种选择是创建自定义 URL 方案。但我不确定如何使用它，以及它是否也适用于 android。谁能解释我们如何使用 URL 方案来实现我们的目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:25:01.373

如果您希望与不在前台的应用程序进行交互，推送通知是您最好的选择。任何应用程序在后台运行后都无法保证继续运行，推送通知为您提供了一种启动应用程序并传递数据的方式。另请注意，推送通知要求用户允许接受它们，并且可以随意忽略。

URL 方案可用于在从另一个应用程序调用时启动应用程序，或者可以作为链接嵌入到网页中。

我建议让按钮单击触发器在服务器上执行您需要执行的任何操作，并使用电子邮件作为带有链接的回调来运行应用程序（使用 url 方案）或访问带有结果的网页。

# css - 强制 CSS 优先级成为我想要的方式

> ID：14951734
> 
> 赞同：0
> 
> 时间：2013-02-19T07:09:31.717
> 
> 标签：css

我希望这个 CSS 的优先级与它们的顺序完全相同：

```
/*Highlight every second row in a .styledtable without .no-odd-row-higlight*/
.styledtable:not(.no-odd-row-highlight) tr:nth-child(odd) td{
    background:#eeeeee;
}

/*Orange highlight, normally used by PHP*/
.highlight-orange, .highlight-tds-orange td{
    background:#ff4000;
}

/*Yellow highlight, normally used by JS*/
.highlight, .highlight-tds td{
    background:#f7fe2e;
} 
```

我理解他们不这样做的原因是特异性，但我无法弄清楚如何让它按我的意愿工作。如何使第一条规则最不重要，第二条规则覆盖第一条规则，最后一条规则覆盖它们？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:14:13.227

请记住这一点，当两条规则的权重相同时，最后指定的规则获胜！. 如果前面的示例被声明并且其中一个被设置为 !important，那么具有 !important 的那个将具有最高优先级！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:24:21.937

假设您可以控制更改所有三个的定义：

```
.highlight.highlight {
    /*things*/
} 
```

严格来说比任何只有一个类的规则更具体，包括一个普通的`.highlight`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:36:42.803

我刚刚添加`!important`了第二条和最后一条规则**。**这样第二个和最后一个会覆盖第一个，但最后一个会覆盖第二个，因为它在它之后。

# iphone - 我可以在 iOS 的日历应用程序中添加多少事件？

> ID：14951742
> 
> 赞同：1
> 
> 时间：2013-02-19T07:09:56.387
> 
> 标签：iphone, ios, objective-c, eventkit

我使用此代码将事件添加到 iOS 上的日历应用程序

```
int i = 0;

for(Schedule *sche in scheduleArray){ 
EKEventStore *eventStore=[[EKEventStore alloc] init];
EKEvent *addEvent=[EKEvent eventWithEventStore:eventStore];
addEvent.title=@"hello";
addEvent.startDate=[NSDate date];
addEvent.endDate=[addEvent.startDate dateByAddingTimeInterval:600];  
[addEvent setCalendar:[eventStore defaultCalendarForNewEvents]];  

addEvent.alarms=[NSArray arrayWithObject:[EKAlarm alarmWithAbsoluteDate:addEvent.startDate]];

NSError *err;
[eventStore saveEvent:addEvent span:EKSpanThisEvent error:&err];
if (err == nil) {
    NSString* str = [[NSString alloc] initWithFormat:@"%@", addEvent.eventIdentifier];

    NSLog(@"String %d: %@",i, str);
}
else { 
    NSLog(@"Error %@",err);
}
i++;     
} 
```

我想用我之前在 scheduleArray 中保存的数据添加所有事件，我在 scheduleArray 中有 86 个对象，但似乎我只在日历中添加了大约 82 个事件。这是我的日志结果：

```
.......
2013-02-19 14:04:28.237 MyDTUSchedule[5382:6607] String 67: BBCF7782-5D60-42D7-8478-EF80604FBF41:4A9E6404-B35B-4534-A7F2-5C6082F3D19A
2013-02-19 14:04:28.284 MyDTUSchedule[5382:6607] String 68: BBCF7782-5D60-42D7-8478-EF80604FBF41:47F0B6CF-3F98-49F9-B407-7A28B4F12C83
2013-02-19 14:04:28.343 MyDTUSchedule[5382:6607] String 69: BBCF7782-5D60-42D7-8478-EF80604FBF41:FB802E03-876D-4ADB-93B9-C3FAB628FF57
2013-02-19 14:04:28.412 MyDTUSchedule[5382:6607] String 70: BBCF7782-5D60-42D7-8478-EF80604FBF41:21786B81-BAC8-4979-9A04-B63CE404B870
2013-02-19 14:04:28.479 MyDTUSchedule[5382:6607] String 71: BBCF7782-5D60-42D7-8478-EF80604FBF41:9CF1DDA5-B8F3-4835-A5BC-A9FE745E17D1
2013-02-19 14:04:28.503 MyDTUSchedule[5382:6607] String 72: BBCF7782-5D60-42D7-8478-EF80604FBF41:834BE2CE-E810-4EA7-ACFC-01FAAA46453E
2013-02-19 14:04:28.580 MyDTUSchedule[5382:6607] String 73: BBCF7782-5D60-42D7-8478-EF80604FBF41:BFBDBECF-1A31-4363-9FD2-66C05F4085B9
2013-02-19 14:04:28.629 MyDTUSchedule[5382:6607] String 74: BBCF7782-5D60-42D7-8478-EF80604FBF41:3512265D-10A9-40AE-8435-0BDBC1D72A1B
2013-02-19 14:04:28.690 MyDTUSchedule[5382:6607] String 75: BBCF7782-5D60-42D7-8478-EF80604FBF41:96C68CAC-2955-4EDD-8FE2-442CDDDE39A8
2013-02-19 14:04:28.733 MyDTUSchedule[5382:6607] String 76: BBCF7782-5D60-42D7-8478-EF80604FBF41:2724EBFD-AB03-4E6A-8094-25D7035B517C
2013-02-19 14:04:28.818 MyDTUSchedule[5382:6607] String 77: BBCF7782-5D60-42D7-8478-EF80604FBF41:CC14386F-E21A-41AA-82D5-42B05149EB09
2013-02-19 14:04:28.865 MyDTUSchedule[5382:6607] String 78: BBCF7782-5D60-42D7-8478-EF80604FBF41:3738B384-21B9-4544-8DD2-C50032B5404D
2013-02-19 14:04:28.929 MyDTUSchedule[5382:6607] String 79: BBCF7782-5D60-42D7-8478-EF80604FBF41:70F820A8-37A5-4CC1-8E0E-696736CABC2C
2013-02-19 14:04:28.964 MyDTUSchedule[5382:6607] String 80: BBCF7782-5D60-42D7-8478-EF80604FBF41:864E4DEF-275F-4458-A5E2-A136C2F57982
2013-02-19 14:04:29.019 MyDTUSchedule[5382:6607] String 81: BBCF7782-5D60-42D7-8478-EF80604FBF41:061BF4AE-6BD5-4B3E-B2FC-35A18A7D99A5
2013-02-19 14:04:29.042 MyDTUSchedule[5382:6607] Error Error Domain=EKErrorDomain Code=1 "No calendar has been set." UserInfo=0xe21da30 {NSLocalizedDescription=No calendar has been set.}
2013-02-19 14:04:29.052 MyDTUSchedule[5382:6607] Error Error Domain=EKErrorDomain Code=1 "No calendar has been set." UserInfo=0xe1551d0 {NSLocalizedDescription=No calendar has been set.}
2013-02-19 14:04:29.054 MyDTUSchedule[5382:6607] Error Error Domain=EKErrorDomain Code=1 "No calendar has been set." UserInfo=0xe21bf90 {NSLocalizedDescription=No calendar has been set.}
2013-02-19 14:04:29.058 MyDTUSchedule[5382:6607] Error Error Domain=EKErrorDomain Code=1 "No calendar has been set." UserInfo=0xe21abd0 {NSLocalizedDescription=No calendar has been set.} 
```

我不知道为什么会出现这些错误？如何将我的所有活动添加到日历中？

# openerp - 如何使用 openerp 中的工作流显示来自另一个对象的表单

> ID：14951746
> 
> 赞同：0
> 
> 时间：2013-02-19T07:10:17.427
> 
> 标签：openerp

我不是python程序员，所以请多多包涵。

在 OpenERP 制造模块中，点击 Produce 按钮后，会弹出一个向导询问模式和数量，然后您可以确认生产。在用户按下确认按钮后，我想插入另一个工作流来显示 Stock Moves 表单。

这是我当前的python代码：

mrp_production 类（osv.osv_memory）：

```
 _inherit = 'mrp.production'

def confirm_produce(self, cr, uid, ids, context=None):
    obj_model = self.pool.get('ir.model.data')
    model_data_ids = obj_model.search(cr,uid,[('model','=','ir.ui.view'),('name','=','stock.move.tree')])
    return {
        'name': 'Stock Move',
        'view_type': 'form',
        'view_mode': 'tree',
        'res_model': 'stock.move',
        'view_id' : model_data_ids,
        'search_view_id' : 'stock.view_move_search',
        'context': {'search_default_ready':1},
        'type': 'ir.actions.act_window',
        'nodestroy': True,
        'target': 'new',
    } 
```

mrp_production()

然后，在安装模块后，我使用 Web 客户端将操作 confirm_produce() 插入到工作流的完成活动中。

但是，当我运行生产订单然后生产产品并确认数量时，什么也没有发生。没有弹出窗口。我希望有一个显示股票走势的新窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:24:34.517

将“view_mode”的值修改为“tree,form”

# sql-server - 如何知道什么应用程序/服务正在向表中插入记录

> ID：14951750
> 
> 赞同：0
> 
> 时间：2013-02-19T07:10:27.410
> 
> 标签：sql-server

有没有一种方法/方法/工具来监视或知道哪些应用程序或服务正在将记录插入到 ms sql 中的表中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:41:26.260

如果您将它安装为 SQL 客户端工具安装的一部分，则可以使用该`SQL Server Profiler`工具来跟踪在特定 SQL 服务器实例上发生的活动。这包括捕获将数据插入数据库的实际 sql 批处理。

设置跟踪时，选择`SQL:BatchStarting`（在 TSQL 事件下）和`RPC:Starting`（在存储过程下）事件。对于每个事件，选择要包含在跟踪中的以下字段：

*   textdata - 将包含正在执行的实际查询。在此处查找您的插入查询。
*   蜘蛛
*   开始时间
*   应用程序名称 - 如果客户端配置了应用程序名称，则将包含客户端上的应用程序名称
*   ClientProcessID - 将包含调用 SQL Server 的客户端应用程序的进程 ID
*   数据库ID
*   数据库名称
*   HostName - 将包含运行客户端的计算机的名称
*   LoginName - 将包含用户的登录名（SQL Server 或 WINdows 登录名）

您可以在`DatabaseID`or`DatabaseName`字段上添加过滤器，以便跟踪仅返回您有兴趣跟踪插入的数据库中的事件。

此外，如果知道如何进行插入（例如，调用特定的存储过程来执行插入），您可以在`textdata`字段上定义一个过滤器，其格式为`%stored_procedure_name%` `%`通配符，它​​们之间的文本代表一个部分插入数据的查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:16:08.197

如果您安装 Microsoft SQL Server Management Studio，“[活动监视器](http://msdn.microsoft.com/en-us/library/cc879320%28v=sql.105%29.aspx)”显然会显示给定连接的进程名称（例如，最后执行的语句是什么）。

# sql - 将负数和正数相加

> ID：14951757
> 
> 赞同：3
> 
> 时间：2013-02-19T07:10:47.210
> 
> 标签：sql, sql-server, sql-server-2008, tsql, sum

我正在使用 SQL Server 2008。我有客户的销售额，我想将其与客户前一年购买的产品进行比较，并计算增长。这一切都很好，但是一旦客户在某个月份有负数，它就会带回错误的 Target & Growth 数据。

```
Customer     SalesLastYearMonth      SalesThisYearMonth      Target     Growth
------------------------------------------------------------------------------
abcd         -1                      15                      ????       ??? 
```

代码：

```
SELECT
    Customer,
    CASE 
        WHEN SalesThisYearMonth IS NULL THEN (SalesLastYearMonth * -1)
        WHEN SalesLastYearMonth IS NULL THEN SalesThisYearMonth 
        ELSE SalesThisYearMonth -  SalesLastYearMonth END as Target,
    CASE 
        WHEN SalesThisYearMonth IS NULL THEN -1 
        WHEN SalesLastYearMonth IS NULL THEN 1 
        WHEN SalesThisYearMonth = 0 then -1
        WHEN SalesLastYearMonth = 0 then 1
        ELSE ( SalesThisYearMonth - SalesLastYearMonth) / SalesLastYearMonth END AS Growth 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:28:05.967

假设你想要 TARGET=16, GROWTH=16，那么应该这样做：

```
SELECT
    Customer,
    CASE 
        WHEN SalesThisYearMonth IS NULL THEN (SalesLastYearMonth * -1)
        WHEN SalesLastYearMonth IS NULL THEN SalesThisYearMonth 
        ELSE SalesThisYearMonth -  SalesLastYearMonth END as Target,
    CASE 
        WHEN SalesThisYearMonth IS NULL THEN -1 
        WHEN SalesLastYearMonth IS NULL THEN 1 
        WHEN SalesThisYearMonth = 0 then -1
        WHEN SalesLastYearMonth = 0 then 1
        ELSE ( SalesThisYearMonth - SalesLastYearMonth) / ABS(SalesLastYearMonth) END AS Growth 
```

但是，我真的不确定那里的增长 - 不确定您为什么要除以 SalesLastYearMonth。在上面的情况下这有效，但如果 SalesLastYearMonth 是 -4，除以 4 你想要什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-04T10:43:20.647

只是一个小建议。尝试使用 ISNULL() 函数。如果您选择的值为 NULL，那么您可以给出默认返回值。据我所知，它比 CASE WHEN 快得多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:28:47.260

你除以一个负数：

```
SalesLastYearMonth = -1 
```

您需要检查它或返回绝对值。

# maven-3 - Maven 3 ejb-client 依赖项在编译时可见，在运行时对于 ejb 3.1 应用程序客户端不可见

> ID：14951760
> 
> 赞同：2
> 
> 时间：2013-02-19T07:10:52.293
> 
> 标签：maven-3, glassfish-3, ejb-3.1

我有一个简单的 EJB 3.1 项目，它使用 Glassfish 3.1.2 作为 AS 和 Maven 3 进行依赖管理。在 ejb 项目的 pom.xml 中，我将 generateClient 选项设置为 true。我成功地将耳朵部署到服务器，然后尝试创建一个简单的独立客户端。这是客户端的 pom.xml：

```
<project>
   <modelVersion>4.0.0</modelVersion>
   <groupId>duan</groupId>
   <artifactId>ejb31-app-client</artifactId>
   <version>1.0-SNAPSHOT</version>
   <name>ejb31-app-client</name>
   <description>my app client</description>

<dependencies>
    <dependency>
        <groupId>org.glassfish.main.appclient.client</groupId>
        <artifactId>gf-client-module</artifactId>
        <version>3.1.2</version>
        <type>pom</type>
        <scope>compile</scope>
        <exclusions>
            <exclusion>
            <artifactId>tools</artifactId>
            <groupId>com.sun</groupId>
            </exclusion>
        </exclusions>
    </dependency>
    <dependency>
        <groupId>duan</groupId>
        <artifactId>ejb31</artifactId>
        <version>1.0-SNAPSHOT</version>
        <type>ejb-client</type>
    </dependency>
</dependencies> 
```

其中 ejb31 是我为其生成客户端的 ejb 项目。

我的应用程序客户端中使用的 Java 类是：

```
public class Test {
private static HelloWorldBeanRemote helloWorldBean;

public static void main(String[] args) {
    String jndiPath = "java:global/ejb31-ear-1.0/ejb31-ejb/HelloWorldBean";

    try {
        Context ctx = new InitialContext();
        System.out.println("Looking up bean at: " + jndiPath);
        helloWorldBean = (HelloWorldBeanRemote) ctx.lookup(jndiPath);
        System.out.println("Found helloWorldBean:" + helloWorldBean);
        System.out.println("Calling sayHello():");
        String greeting = helloWorldBean.sayHello();
        System.out.println("HelloWorldBean said:" + greeting);
    } catch (NamingException e) {
        System.err.println("Could not find HelloWorldBeanRemote!");
        System.err.println("JNDI path used for lookup:" + jndiPath);
        e.printStackTrace();
    }
} 
```

}

应用程序客户端由 Maven 编译没有问题。如果我从 Eclipse 运行它，我会得到这个异常：

```
Caused by: java.lang.ClassNotFoundException: ro.duan.ejb.HelloWorldBeanRemote
    at java.net.URLClassLoader$1.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
    at java.lang.ClassLoader.loadClass(Unknown Source)
    at com.sun.ejb.EJBUtils.getBusinessIntfClassLoader(EJBUtils.java:688)
    at com.sun.ejb.EJBUtils.loadGeneratedRemoteBusinessClasses(EJBUtils.java:463)
    at com.sun.ejb.EJBUtils.lookupRemote30BusinessObject(EJBUtils.java:414)
    ... 7 more 
```

但是，如果我手动将 ejb-client.jar 添加到构建路径，它就像一个魅力。所以我的结论是，不知何故 ejb-client.jar 在编译时可用，但在运行时不可用。关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T13:33:43.653

删除以下行：

```
<scope>compile</scope> 
```

阅读更多关于依赖范围的信息：
[http ://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope)

# linux - 如何在 CentOS 6 中删除文件夹 /var/lib/* 时修复

> ID：14951767
> 
> 赞同：-6
> 
> 时间：2013-02-19T07:11:19.877
> 
> 标签：linux, centos, centos6

`/var/lib/*`在 CentOS 6 上删除文件夹时如何修复？

```
rpm -q centos-release yum rpm python

package centos-release is not installed

package yum is not installed

package rpm is not installed

package python is not installed 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:05:02.523

重新安装Centos 6，然后停止删除重要目录

# vba - Excel Vba 运行时错误？

> ID：14951769
> 
> 赞同：3
> 
> 时间：2013-02-19T07:11:43.430
> 
> 标签：vba, excel

当我尝试执行以下代码时，我收到错误消息“需要运行时错误'424'对象”，

```
Sub test()
Range("Q" & i).Text = x1.Text
End Sub 
```

其中 x1 是日历对象。

如果我将以下代码用作

```
Range("Q" & i) = x1.Text 
```

我的代码会将日期存储为 02-11-2013 而不是 11-02-2013，这里的问题是它重新安排了月份和日期。

希望我能找到解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:22:54.147

您在第一个实例中遇到错误，因为`.Text`范围的属性是只读的，并且用于*从*单元格/范围中获取当前格式化的值。

我会使用 format 函数，但也会设置要放入的单元格的数字格式以确保安全：

```
Range("Q" & i).Value = Format(x1.Text, "dd-mm-yyyy")
Range("Q" & i).NumberFormat = "dd-mm-yyyy;@" 
```

编辑：根据您的评论，我建议尝试使用交换日期和月份来格式化传入日期，然后像这样应用 NumberFormat：

```
Range("Q" & i).Value = Format(x1.Text, "mm-dd-yyyy")
Range("Q" & i).NumberFormat = "dd-mm-yyyy;@" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:19:41.713

您可以使用格式功能：

```
 Range("Q" & i).Value = Format(x1.Text, "dd-mm-yyyy") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:20:02.940

请使用`Range("Q" & i) = Format(x1.Text,"dd-MM-yyyy")`

# iphone - 在代码签名身份中更改 iPhone 开发人员的名称

> ID：14951770
> 
> 赞同：0
> 
> 时间：2013-02-19T07:11:48.490
> 
> 标签：iphone

请任何人建议我如何在项目构建设置中的代码签名身份中更改 iPhone 开发人员的名称。例如：它就像：

iPhone 开发者：我的名字 (Dfcvcvcv)

我想更改上面的“我的名字”。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:24:14.157

[可以通过在供应门户](https://developer.apple.com/ios/manage/certificates/team/index.action)创建新的签名身份来更改开发人员的姓名。您可能想要创建一个新的开发者 ID 并将其添加到开发者团队。

# asp.net - /Reports 应用程序中的服务器错误

> ID：14951777
> 
> 赞同：1
> 
> 时间：2013-02-19T07:12:05.493
> 
> 标签：asp.net

我正在为我的 asp.net 项目框架 4.0 使用水晶报表 13。当我在本地运行应用程序时，报告会完美运行。但是通过互联网访问，它给出了以下错误：

```
Server Error in /Reports Application.
The resource cannot be found.
Description: HTTP 404\. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, or is temporarily unavailable. Please review the following URL and make sure that it is spelled correctly.

Requested URL: /Reports/ReportViewer.aspx
Version Information: Microsoft .NET Framework Version:2.0.50727.4927 ASP.NET Version:2.0.50727.4927 
```

但我使用的是框架 4。但在上述错误中，它显示的是 .net framework2。除报告外，所有其他表格都在工作。IIS 中是否需要进行任何更改？我正在使用版本 IIS7.5 通过 IIS 浏览也出现此错误。谁能告诉我如何解决？

```
<httpHandlers><add verb="GET" path="CrystalImageHandler.aspx" type="CrystalDecisions.Web.CrystalImageHandler, CrystalDecisions.Web, Version=13.0.2000.0, Culture=neutral, PublicKeyToken=692fbea5521e1304"/></httpHandlers></system.web>

<system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
      <handlers>
          <add name="CrystalImageHandler.aspx_GET" verb="GET" path="CrystalImageHandler.aspx"
               type="CrystalDecisions.Web.CrystalImageHandler, CrystalDecisions.Web, Version=13.0.2000.0,Culture=neutral, PublicKeyToken=692fbea5521e1304" preCondition="integratedMode"/>
      </handlers>
      <validation validateIntegratedModeConfiguration="false"/>
  </system.webServer> 
```

# php - 尝试部署到 appfog anchorcms

> ID：14951779
> 
> 赞同：1
> 
> 时间：2013-02-19T07:12:19.870
> 
> 标签：php, json, terminal, appfog

我刚刚安装了 appfog 的命令行工具并登录，在它说的说明中`run af update app`现在我正在尝试设置 [anchorcms][1] 我是否运行更新锚（当我在锚目录或其父目录中时） ) 因为当我这样做时，我收到以下错误。还有一个第一个入门命令是`target [url]`我用方括号运行它吗？在此之前我是否也写过 af ，我是否将我的应用程序雾 url 放在方括号内。

如果有的话，您可以帮助我完成将anchorcms 部署到appfog 的步骤，那就太棒了。

```
Error (JSON 404): Not Found 
```

**我为 af 应用程序获得的输出**

```
Anderss-MacBook-Pro:anchor anderskitson$ af apps

+-------------+----+---------+---------------------------+----------+--------+
| Application | #  | Health  | URLS                      | Services | In     |
+-------------+----+---------+---------------------------+----------+--------+
| anchortuts  | 1  | RUNNING | anchortuts.ap01.aws.af.cm |          | ap-aws |
+-------------+----+---------+---------------------------+----------+--------+

  [1]: http://anchorcms.com/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T17:46:06.210

否不要运行带有方括号的命令。

您只需将目标设置一次即可[https://api.appfog.com](https://api.appfog.com)

```
af target https://api.appfog.com 
```

然后用“登录”

```
af login email@example.com 
```

首次将应用上传到 AppFog 时，您使用该`push`命令。从那时起，您将使用该`update`命令。

例子：

从应用程序的根文件夹创建一个名为 mycmsapp 的新 AppFog 应用程序。该命令将引导您完成一系列问题。

```
af push mycmsapp 
```

稍后当您对应用程序进行更改并准备发布它们时：

```
af update mycmsapp 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-08T05:41:16.023

`af`CLI 工具并没有说得很清楚，但该命令`af target`仅用于设置 API URL。

如果您想为您的应用程序使用自定义域，则需要使用该`af map <app name> appurl.com`命令。

在这个情况下：

```
+-------------+----+---------+---------------------------+----------+--------+
| Application | #  | Health  | URLS                      | Services | In     |
+-------------+----+---------+---------------------------+----------+--------+
| anchortuts  | 1  | RUNNING | anchortuts.ap01.aws.af.cm |          | ap-aws |
+-------------+----+---------+---------------------------+----------+--------+ 
```

您将运行此命令来设置目标 URL：

```
af map anchortuts www.anchortuts.com 
```

您需要更新域的 DNS 以添加指向`cname01.ap01.aws.af.cm`. 此值将根据您使用的基础架构而变化。完整的详细信息可在[自定义域名](https://docs.appfog.com/customize/custom-domain-names)的 AppFog 文档中找到。

您还可以使用 AppFog [Web 控制台](http://console.appfog.com)来映射您的域。

# c++ - 如何强制 tesseract 不使用 TESSDATA_PREFIX

> ID：14951784
> 
> 赞同：5
> 
> 时间：2013-02-19T07:12:52.740
> 
> 标签：c++, ocr, tesseract

我在我的电脑上安装了 tesseract，它定义了 TESSDATA_PREFIX 环境变量。完全卸载 tesseract 后，我​​尝试以这种方式使用 tesseract API：

```
if (myOCR->Init("C:/Projects/project/Release/tessdata/", "rus")) {
            fprintf(stderr, "Could not initialize tesseract.\n");
            exit(1);
        } 
```

并收到

```
Error opening data file C:\Program Files (x86)\Tesseract-OCR\tessdata/rus.traine
ddata
Please make sure the TESSDATA_PREFIX environment variable is set to the parent d
irectory of your "tessdata" directory.
Failed loading language 'rus'
Tesseract couldn't load any languages!
Could not initialize tesseract. 
```

在 cmd 中键入 set TESSDATA_PREFIX 让我知道没有这样的变量。但是 tesseract 记得它（不知道如何）。那么我如何强制 tesseract 在具体文件夹中搜索 traindata 呢？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:25:51.447

这似乎很有帮助： [Tesseract - 更改语言文件位置](https://stackoverflow.com/questions/6950977/tesseract-change-language-file-location)

从该线程中的答案来看，似乎是 tesseract 查找环境变量的情况，但*如果未设置，则假定为固定位置*。

解决此问题的最简单方法是运行“cmd”，然后执行以下操作：

```
c:\Users\alex> set TESSDATA_PREFIX="C:/Projects/project/Release/tessdata"
c:\Users\alex> cd MyOCRProgDir
c:\Users\alex\MyOCRProgDir> MyProg 
```

希望有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-22T09:26:45.500

我经历过同样的问题。.. 我所做的只是将 tessdata 文件夹复制到我的应用程序正在运行的目录中。. .

注意：这样做后，请确保将 tessdata 属性“复制到输出目录”设置为“始终复制”。这解决了问题。. .

请参阅 youtube 中的此链接。. .为了更好的演示。. 。希望能帮助到你 ：）

[http://www.youtube.com/watch?v=RqvvXJXuRYY](http://www.youtube.com/watch?v=RqvvXJXuRYY)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-24T12:10:21.507

我对训练数据也有同样的问题。我没有强制不使用 TESSDATA_PREFIX，而是找到了一种解决方法。这对我有用。

我的机器是 64 位的，我用 VS2012 构建了一个 32 位的副本。

设置环境变量。TESSDATA_PREFIX : C:\Program Files (x86)\Tesseract-OCR

这里“Tesseract-OCR”是“tessdata”文件夹的父目录。

编辑路径变量。路径：C:\tess\lib\lib；

这里“C:\tess\lib\lib”是lib和dll文件所在的地方：liblept168.dll,liblept168.lib等。

启动一个新的 win32 控制台应用程序并设置以下设置。C/C++ >> 一般 C:\tess\include\include

这里“C:\tess\include\include”是包含文件所在的“tesseract”和“leptonica”文件夹的父目录。

链接器 >> 附加库依赖 C:\tess\lib\lib

链接器 >> 附加依赖项 liblept168.lib libtesseract302.lib（将这些添加到列表中）

C/C++>>预处理器_CRT_SECURE_NO_WARNINGS（将其添加到列表中）

将两个 tesseract dll（对应于库文件）复制到调试和发布文件夹（不是根目录内的文件夹）

将 tessdata 文件夹（在 Tesseract 安装中）复制到上述位置。

希望你一切顺利。

# android - 在 Android 中执行查询（SELECT column_name1 FROM table_name WHERE column_name2 LIKE '%text%' ）

> ID：14951786
> 
> 赞同：0
> 
> 时间：2013-02-19T07:12:59.583
> 
> 标签：android, sqlite, android-listview, sql-like

我想在 android 中执行这个查询， `SELECT column_name1 FROM table_name WHERE column_name2 LIKE '%text%';` 并希望将结果存储在 arraylist 中，以便我可以为它创建一个列表视图。在网上搜索了很多，但没有找到任何相关的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:19:10.053

您需要的是执行`rawquery`. 使用[本教程](http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android)作为参考。

您将在名为“执行查询”和“管理游标”的部分中找到用途。

**编辑：**

> 执行原始查询后，我如何将结果从光标输入到数组列表中？？？

遍历 中的每个元素`Cursor`，并将它们一一添加到`ArrayList`.

```
ArrayList<WhateverTypeYouWant> mArrayList = new ArrayList<WhateverTypeYouWant>();
for(mCursor.moveToFirst(); !mCursor.isAfterLast(); mCursor.moveToNext()) {
    // The Cursor is now set to the right position
    mArrayList.add(mCursor.getWhateverTypeYouWant(WHATEVER_COLUMN_INDEX_YOU_WANT));
} 
```

（替换`WhateverTypeYouWant`为您想要创建的任何类型`ArrayList`，以及`WHATEVER_COLUMN_INDEX_YOU_WANT`您想要从光标获取的值的列索引。）

# node.js - Passport.js：身份验证后如何访问用户对象？

> ID：14951789
> 
> 赞同：43
> 
> 时间：2013-02-19T07:13:16.650
> 
> 标签：node.js, express

我正在使用 Passport.js 使用用户名和密码登录用户。我实质上是在使用 Passport 站点中的示例代码。以下是我的代码的相关部分（我认为）：

```
app.use(passport.initialize());
app.use(passport.session());

passport.serializeUser(function(user, done) {
    done(null, user);
});

passport.deserializeUser(function(obj, done) {
    done(null, obj);
});

passport.use(new LocalStrategy(function(username, password, done) {
    User.findOne({ username: username }, function(err, user) {
        if (err) {
            return done(err);
        }
        if (!user) {
            return done(null, false, { message: 'Incorrect username.' });
        }
        if (!user.validPassword(password)) {
            return done(null, false, { message: 'Incorrect password.' });
        }
        return done(null, user);
        });
    }
));

app.post('/login',
    passport.authenticate('local', { failureRedirect: '/login/fail', failureFlash: false }),
    function(req, res) {
        // Successful login
        //console.log("Login successful.");
        // I CAN ACCESS req.user here
}); 
```

这似乎正确登录。但是，我希望能够在代码的其他部分访问登录用户的信息，例如：

```
app.get('/test', function(req, res){
    // How can I get the user's login info here?
    console.log(req.user);  // <------ this outputs undefined
}); 
```

我已经检查了关于 SO 的其他问题，但我不确定我在这里做错了什么。谢谢！

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2015-10-30T01:40:11.587

派对迟到了，但在我自己谷歌搜索答案后发现这个没有答案。

请求内部将是一个`req.user`您可以使用的对象。

像这样的路线：

```
app.get('/api/portfolio', passport.authenticate('jwt', { session: false }), stocks.buy); 
```

像这样的控制器：

```
buy: function(req, res) {
      console.log(req.body);
      //res.json({lel: req.user._id});
      res.json({lel: req.user});
    } 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2017-03-01T17:29:13.940

参考[Passport 文档](http://www.passportjs.org/)，用户对象包含在 req.user 中。见下文。

```
 app.post('/login',
      passport.authenticate('local'),function(req, res) {
       // If this function gets called, authentication was successful.
       // `req.user` contains the authenticated user.
       res.redirect('/users/' + req.user.username);
     }); 
```

这样，您可以从重定向到的页面访问您的用户对象。

万一你卡住了，你可以参考[我的 Github 项目](https://github.com/iLabs-Makerere/OpenLabs-Node.js/blob/master/routes/index.js)，在那里我清楚地实现了它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-02-24T21:42:17.480

> [`res.render`](https://expressjs.com/en/api.html#app.render)接受一个可选参数，该参数是一个包含视图局部变量的对象。

如果您使用[护照](http://www.passportjs.org/docs/)并且已经对用户进行了身份验证，则[`req.user`](http://www.passportjs.org/docs/authenticate/)包含经过身份验证的用户。

```
// app.js
app.get('/dashboard', (req, res) => {
  res.render('./dashboard', { user: req.user })
}) 
```

* * *

```
// index.ejs
<%= user.name %> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-04-10T19:25:24.567

您可以按如下方式定义您的路线。

```
router.post('/login',
passport.authenticate('local' , {failureRedirect:'/login', failureFlash: true}),
function(req, res) {
   res.redirect('/home?' + req.user.username);
}); 
```

在上面的代码片段中，您可以访问用户对象的任何字段并将其作为“req.user.field_name”传递到您要重定向的页面。这里要注意的一件事是，您要重定向到的页面的基本 url 后面应该跟一个问号。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-02-11T11:07:57.230

我对 javascript 很陌生，但正如我从教程中了解的那样，您必须首先实现一些会话`middleware`，如 250R 所示。

```
const session = require('express-session')
const app = express()

app.use(bodyParser.urlencoded({ extended: false }))
app.use(bodyParser.json())

let sess = {
    genid: (req) => {
        console.log('Inside the session middleware')
        console.log(req.sessionID)
        return uuid()
    },
    store: new FileStore(),
    secret: 'keyboard cat', // password from environment
    resave: false,
    rolling: true,
    saveUninitialized: true,
    cookie: {
        HttpOnly: true,
        maxAge: 30 * 60 * 1000 // 30 minutes
    }
}

app.use(session(sess))

// call passport after configuring the session with express-session
// as it rides on top of it
app.use(passport.initialize())
app.use(passport.session())

// then you will be able to use the 'user' property on the `req` object
// containing all your session details
app.get('/test', function (req, res) {
    console.log(req.user)
}) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-07-02T11:20:41.033

派对迟到了，但这对我有用

在你的 app.js 中使用它

```
app.use(function(req,res,next){
  res.locals.currentUser = req.user;
  next();
}) 
```

在 ejs 等客户端获取当前用户详细信息

```
<%= locals.currentUser.[parameter like name || email] %> 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2013-02-19T10:51:21.313

您需要确保在注册护照中间件之前注册[一个](http://expressjs.com/api.html#middleware)填充的中间件。`req.session`

例如下面使用[express cookieSession 中间件](http://expressjs.com/api.html#cookieSession)

```
app.configure(function() {

  // some code ...

  app.use(express.cookieParser());
  app.use(express.bodyParser());
  app.use(express.cookieSession()); // Express cookie session middleware 
  app.use(passport.initialize());   // passport initialize middleware
  app.use(passport.session());      // passport session middleware 

  // more code ...

}); 
```

# wpf - 使用 XAML 触发器在单击矩形时更改文本块文本

> ID：14951792
> 
> 赞同：2
> 
> 时间：2013-02-19T07:13:27.913
> 
> 标签：wpf, eventtrigger

```
 void rectForeHead_MouseDown(object sender, MouseButtonEventArgs e)
    {
        txtLableBlock.Text += rectForeHead.ToolTip;
    }

    void rectChest_MouseDown(object sender, MouseButtonEventArgs e)
    {
        txtLableBlock.Text += rectChest.ToolTip;
    } 
```

我在单击矩形数量时更改文本块文本属性。如何使用 WPF 事件触发器实现相同的效果

# mongodb - MongoDB中嵌入式ID数组和规范化样式之间的区别

> ID：14951796
> 
> 赞同：0
> 
> 时间：2013-02-19T07:13:47.487
> 
> 标签：mongodb

所以，我一直在看[这个](http://www.youtube.com/watch?v=PIWVFUtBV1Q#t=28m40s)视频，以学习 MongoDB 数据建模。在一对多关系中，说话者谈论三种不同的类型：

1.  嵌入式数组/数组键：在特定文档中，您将有一个字段，该字段将是引用其他文档的数组（例如，用户文档中的 blog_posts 属性将存储用户创建的博客文章的所有 ID）
2.  嵌入式树：我们没有一个包含对其他事物的引用的数组，而是在文档中拥有完全嵌入的文档。
3.  标准化：您有两个集合和彼此之间的引用。

那么，嵌入式数组键和标准化类型之间有什么区别？嵌入式数组不是也引用了另外两个集合吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T13:23:29.657

区别很简单（不幸的是，该视频中呈现的有点令人困惑）。

想象一下为博客文章 ( `Post`) 和评论 ( `Comment`) 建模。

1.  嵌入数组：`Post`文档包含所有文档的所有 ID 的数组`Comment`。`Comment`存储在单独的文档（和/或集合）中。
2.  树：`Post`文档包含嵌入`Comment`的 s。它们不存储在不同的文档或它们自己的集合中。虽然这表现得非常好，但 BSON 文档的大小限制为 16MB，这使得这可能更难以处理。
3.  Normalized：一个`Post`文档，和`Comment`s分开存放。然而`Comment`，在这种情况下，文档有一个类似外键的引用回`Post`. 因此，它可能有一个名为`postId`example 的字段。它将引用`Post`与`Comment`. 此模式与 #1 不同，因为`Post`文档不包含`Comments`. 因此，虽然此选项使评论的数量基本上是无限的/无限的，但它可能会使评论的检索效率更低，而无需构建特定的索引（如 a `postId`，`commentDate`可能有用）。

# c - 如何将自定义 C（它本身需要特殊的链接选项来编译）与 Cython 链接？

> ID：14951798
> 
> 赞同：2
> 
> 时间：2013-02-19T07:13:47.430
> 
> 标签：c, linker, cython, distutils

所以我正在尝试创建一个使用我编写的 .c 文件的 Cython 模块。该 .c 文件需要一个特殊的链接选项（我需要编译它`gcc -o mycode mycode.c -lfftw3f`）。我可能只是在 Cython 中重写我的 .c 文件，但我想知道如何做到这一点。

我使用的是fftw3，在编译时，如果你想使用float版本，你需要在.c文件中使用`-lfftw3f`选项IN ADDITION ，我就是这样做的。`#include <fftw3.h>`

我的`setup.py`样子如下：

```
from distutils.core import setup
from distutils.extension import Extension
from Cython.Distutils import build_ext

sourcefiles = ['mycode_caller.pyx', 'mycode.c']

ext_modules = [Extension("myext", sourcefiles, libraries=['fttw3f'])]

setup(
  name = 'My Extension',
  cmdclass = {'build_ext': build_ext},
  ext_modules = ext_modules
) 
```

我制作了一个名为的头文件`mycode.h`，如下所示，并包含该`transform()`函数的原型，该原型定义在`mycode.c`：

```
#include <fftw3.h>
#include <math.h>

#ifndef FOURIER_H_INCLUDED
#define FOURIER_H_INCLUDED
fftwf_complex** transform(float** in, int length);
#endif 
```

我的 Cython 文件`mycode_caller.pyx`如下所示：

```
import numpy as np
cimport numpy as np

cdef extern from "stdlib.h":
    void free(void* ptr)
    void* malloc(size_t size)

cdef extern from "fftw3.h":
    struct fftwf_complex:
        pass

cdef extern from "fourier.h":
    fftwf_complex** transform(float** in_arr, int length)

cdef float** npy2c_float2d(np.ndarray[float, ndim=2] a):
    cdef float** a_c = <float**>malloc(a.shape[0] * sizeof(float*))
    for k in range(a.shape[0]):
        a_c[k] = &a[k, 0]
    return a_c

cpdef test_transform(data):
    nparr = np.zeros([14, 31])
    c_array = npy2c_float2d(nparr)
    ans = transform(c_array, 31) 
```

当我运行时`python setup.py build_ext --inplace`，它构建得很好，但如果我尝试导入它，它将声明以下内容：

`ImportError: ./myext.so: undefined symbol: fftwf_execute`

`-lfftw3f`由于在编译期间没有将选项传递给 gcc，因此会发生此错误。我该如何解决这个问题？没有办法在 .c 源文件中指定链接器命令，对吧？我是否需要告诉 Cython.Distutils 以某种方式使用此选项？感谢您的帮助！

编辑：所以，我添加`libraries=[fttw3f]`到我的`setup.py`文件中，现在它在构建时引发错误：

```
gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro build/temp.linux-x86_64-2.7/emodsp.o build/temp.linux-x86_64-2.7/fourier.o -lfftw3f -o /home/carson/Documents/Caltech/Senior/Winter/art89/Project/openepoc/emodsp.so
/usr/bin/ld: /usr/local/lib/libfftw3f.a(alloc.o): relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC
/usr/local/lib/libfftw3f.a: could not read symbols: Bad value
collect2: error: ld returned 1 exit status
error: command 'gcc' failed with exit status 1 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:19:30.240

只需使用以下`libraries`选项`Extension`：

```
Extension("myext", sourcefiles, libraries = ['fftw3f'], library_dirs = ['/path/to/fftw/libs']) 
```

# delphi - 我找到了 ComClass，现在如何引用它？

> ID：14951799
> 
> 赞同：3
> 
> 时间：2013-02-19T07:13:52.437
> 
> 标签：delphi, com, delphi-2010, com-server, comclass

我在 Delphi 2010 中编写了一个小型 COM 服务器，它充当零售应用程序的插件。零售应用程序寻找一个“发现”接口，该接口注册任意数量的附加接口调用`TAutoObjectFactory.Create`每个接口。这工作得很好——所有插件接口都按设计工作。

但是现在我想从另一个接口调用一个接口的公共方法，这样我就不必重复代码了。看起来很简单，调用`ComClassManager.ForEachFactory`查找我需要使用的接口的ClassID即可。也得到了它的工作！

但是现在我找到了这个类，我被一个看似微不足道的最后一步难住了：如何使用或转换我找到的类（或类引用？）以实际调用它的一个方法。

在我发送到的“FactoryProc”中`ForEachFactory`，我假设 ComClass 属性`TComObjectFactory`是我所追求的，但它是 TClass 类型，它是指向它所指向的实际类对象的类引用（至少我希望我是正确理解这一点）。我对类引用有点模糊，我尝试强制转换或取消引用此属性导致访问冲突或编译器错误。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T13:49:04.927

您的评论是对的，`ComClassManager`处理的是类，而不是实例。您需要的是（您的应用程序本地实现）[运行对象表](http://msdn.microsoft.com/en-us/library/windows/desktop/ms695276%28v=vs.85%29.aspx)（或类似的东西），因此插件实例可以相互交互。

如何实际实现它取决于您真正需要什么，例如在所有正在运行的实例上调用方法，或者仅在特定类的实例上调用。

# perl - PayPal IPN：无法获取本地发行者证书

> ID：14951802
> 
> 赞同：7
> 
> 时间：2013-02-19T07:14:07.800
> 
> 标签：perl, ssl, curl, paypal

我正在使用 curl 来验证 PayPal IPN，但它会引发错误：`SSL certificate problem: unable to get local issuer certificate`. 相同的代码在开发服务器上运行，当我移动到客户端服务器时它不起作用。

我是否需要购买 ssl 认证才能通过 PayPal 快速结帐或对我的编码部分进行任何更改或需要在服务器上进行任何设置进行付款。Curl 已在服务器上启用。任何帮助将不胜感激。

我的代码如下，它是一个简化的测试页面：

```
$req = HAVING PARAMETERS FROM PAYPAL;

$ch = curl_init("https://www.sandbox.paypal.com/cgi-bin/webscr");
curl_setopt($ch, CURLOPT_HTTP_VERSION, CURL_HTTP_VERSION_1_1);
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $req);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);
curl_setopt($ch, CURLOPT_FORBID_REUSE, 1);
curl_setopt($ch, CURLOPT_HTTPHEADER, array('Connection: Close'));

curl_exec($ch);
if(curl_errno($ch))
{
    echo 'Curl error: ' . curl_error($ch);
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-25T23:01:17.580

您告诉 cURL 验证 SSL 连接，但您没有告诉它要验证什么；

```
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2); 
```

通过添加以下内容，确保指向要信任的 CA 的最新列表：

```
curl_setopt($ch, CURLOPT_CAPATH, "./cacert.pem"); 
```

如果您自己没有最新的 cacert 列表，我建议您下载 cURL 维护者提供的列表：[cacert.pem](http://curl.haxx.se/ca/cacert.pem)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-07-19T03:10:11.120

您想要`CURLOPT_CAINFO`（指向`PEM`文件）不想要（指向`CURLOPT_CAPATH`包含`PEM`文件的目录）。

```
curl_setopt($ch, CURLOPT_CAINFO, "./cacert.pem"); 
```

# javascript - 覆盖 model.save() 的成功条件

> ID：14951803
> 
> 赞同：2
> 
> 时间：2013-02-19T07:14:11.547
> 
> 标签：javascript, rest, backbone.js

我的模型正确地保存在服务器上，并且客户端也收到了响应文本“成功”，其中包含以下代码段。但是，每次`error`执行我的回调而不是`success`.

```
myModel.save({}, 
{  
success: function(model, response) {
    console.log('SUCCESS:');
    console.log(response);
},
error: function(model, response) {
    console.log('FAIL:');
    console.log(response);
}
}); 
```

主干文档指定只有当持久在服务器上的对象的 json 表示返回给客户端时才会触发成功。

但我不能改变服务器端的实现。那么我如何才能在将 responseText 获取为“成功”时触发成功回调，而对于 model.save() 的任何其他响应则为错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T08:07:22.923

有两种方法可以解决这个问题：

*   继承骨干模型

您可以创建自己的自定义模型，该模型继承自 Backbone 模型。在其中您可以覆盖保存方法。[阅读 Backbone 文档，了解如何扩展他们的模型](http://documentcloud.github.com/backbone/#Model-extend)

在您自定义的保存方法中，您将调用 super 的保存方法，检查 responseText，如果成功则调用成功回调。（请阅读关于如何在 Javascript 中调用父模型的方法的主干文档）

*   覆盖 Backbone.Sync

Backbone 有一个 Sync 模块，基本上默认情况下会发出所有 ajax 请求，解析响应，然后调用您在模型上调用 save 时指定的成功/错误回调。这很简单。[看看这个文档](http://backbonejs.org/#Sync)。您可以再次覆盖它，完全按照 Backbone 默认执行的操作，但仅根据您收到的 responseText 调用成功/错误回调。

# yii - 如何替换 Yii 中的元标记？

> ID：14951805
> 
> 赞同：5
> 
> 时间：2013-02-19T07:14:12.930
> 
> 标签：yii, meta-tags

我知道我可以在 Yii 中注册一个新的元标记并且我知道该怎么做，但我需要

替换我设置的默认标签，因为当我在一篇文章上时，我想插入

元标记中文章的简短描述；

如何管理元标记？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-19T11:36:13.440

如果您使用的是最新版本，则可以为元标记提供一个 ID。

```
->registerMetaTag('example', 'description', null, array(), 'mytagid'); 
```

使用相同的 id 再次调用 registerMetaTag 将覆盖它。

[http://www.yiiframework.com/doc/api/1.1/CClientScript#registerMetaTag-detail](http://www.yiiframework.com/doc/api/1.1/CClientScript#registerMetaTag-detail)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-19T08:07:07.353

您可以使用以下方法设置每页的 Meta 标签：

```
Yii::app()->clientScript->registerMetaTag("This is my meta description", 'description');
Yii::app()->clientScript->registerMetaTag("These, are, my, keywords", 'keywords'); 
```

这可以在控制器或视图中设置，显然取决于您查询文章的方式，您可以像这样使内容部分动态化（假设`$model`是您选择的文章并且`meta_description`是您的模型属性存储元描述）：

```
Yii::app()->clientScript->registerMetaTag($model->meta_description, 'description'); 
```

Yii 网站上的文档[可以在这里找到](http://www.yiiframework.com/doc/api/1.1/CClientScript#metaTags-detail)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-18T09:57:05.443

你可以试试这个：

**1）在“组件/Controller.php”中**：

```
public $metaDescription;
public $metaKeywords;

public function getMetaDescription() {
    if(!$this->metaDescription)
        return Yii::app()->settings->getValue('meta_description'); //return default description
    return $this->metaDescription;
}

public function getMetaKeywords() {
    if(!$this->metaKeywords)
        return Yii::app()->settings->getValue('meta_keywords'); //return default keywords   
    return $this->metaKeywords; 
} 
```

**2) 在你的 main.php 布局中**：

```
...
Yii::app()->clientScript->registerMetaTag($this->getMetaDescription(), 'description');
Yii::app()->clientScript->registerMetaTag($this->getMetaKeywords(), 'keywords');
... 
```

**3）在您的其他布局中**：

```
...
// If you don't do that, the description and keywords will be default for this page.
$this->metaDescription = 'Your description here';
$this->metaKeywords = 'your, keywords, here';
... 
```

请注意， Yii::app()->settings->getValue('meta_description') 和 Yii::app()->settings->getValue('meta_keywords') 是我从数据库中获取的默认值。

# java - 部署多个战争并处理它们的依赖关系

> ID：14951807
> 
> 赞同：2
> 
> 时间：2013-02-19T07:14:14.303
> 
> 标签：java, maven, tomcat, architecture, dependencies

我在 tomcat 7 中部署了 5 个 .war 文件，目前使用常见的 3 rd 方 jar。

我使用 shared/lib 为所有战争放置依赖的罐子。这种方法的问题在于，如果我想更改其中一场战争的依赖关系，我需要更新所有 5 场战争的依赖关系。这似乎是部署应用程序的非常糟糕的做法。

从应用程序的角度来看，可以保证所有 4 场战争将始终具有相同的依赖关系，并且只有一场战争可以具有不同的依赖关系。

因此，我决定将 common(shared) lib 用于 4 场战争，将 WEB_INF/lib 用于 1 场战争，而不是使用 common 来避免资源。是否可以通过某种方式为不同的战争设置不同的类库路径？

# php - 我想在 php 中将子数组添加到一个数组中

> ID：14951811
> 
> 赞同：6
> 
> 时间：2013-02-19T07:14:29.753
> 
> 标签：php, arrays, array-merge

我有这样的数组…………

```
Array
(
    [0] => Array
        (
            [0] => rose
            [1] => monkey
            [2] => donkey
        )

    [1] => Array
        (
            [0] => daisy
            [1] => monkey
            [2] => donkey
        )

    [2] => Array
        (
            [0] => orchid
            [1] => monkey
            [2] => donkey
        )

) 
```

我想要这样......

```
Array
(
    [0] => rose
    [1] => monkey
    [2] => donkey
    [3] => daisy
    [4] => monkey
    [5] => donkey
    [6] => orchid
    [7] => monkey
    [8] => donkey
) 
```

....我使用了数组合并，但它不起作用，因为我的数组动态生成并且每次显示不同的数组。问题是我不能在 array_merge() 函数中动态传递数组。它只接受数组的手动条目，不接受任何其他变量。函数只接受数组。

它是这样工作的......

```
$total_data = array_merge($data[0],$data[1],$data[2]); 
```

因为每次它动态生成不同数量的数组所以我必须像这样使用....

```
$data_array = $data[0],$data[1],$data[2];

 $total_data = array_merge($data_array); 
```

但它显示错误“array_merge() [function.array-merge]: Argument #1 is not an array”......

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-19T07:34:11.933

试试这个 ：

```
$array  = your array

$result = call_user_func_array('array_merge', $array);

echo "<pre>";
print_r($result); 
```

或者试试这个：

```
function array_flatten($array) {

   $return = array();
   foreach ($array as $key => $value) {
       if (is_array($value)){ $return = array_merge($return, array_flatten($value));}
       else {$return[$key] = $value;}
   }
   return $return;

}

$array  = Your array

$result = array_flatten($array);

echo "<pre>";
print_r($result); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:18:35.530

试试这个.....

```
 $result = array();
        foreach($data  as $dat)

          {
                foreach($dat as $d) 

                 {
                   $result[] = $d;

                 }

           } 
```

# datetime - 在 openerp 中返回日期时间的函数

> ID：14951816
> 
> 赞同：3
> 
> 时间：2013-02-19T07:15:01.640
> 
> 标签：datetime, openerp

我正在尝试创建一个返回日期时间的函数，但它不起作用它返回错误代码 2：

```
def _date_(self, cr, uid, ids, fields, arg, context):
    x={}
    for record in self.browse(cr, uid, ids):
        if record.date :
            a = datetime.strptime(record.date, "%Y-%m-%d %H:%M:%S")
            b = a.strftime("%Y-%m-%d %H:%M:%S")
            x[record.id] = b
        return x

_columns = {
    'date': fields.datetime('Date-Hour of Call', required=True),    
    'date_': fields.function(_date_, string='date copy'), 
```

最好的祝福，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T08:58:07.790

您必须像这样定义列 date_ ：

```
'date_': fields.function(_date_, type='datetime', string='date copy'), 
```

谢谢

# php - Codeigniter - 使用 ajax 从视图中调用另一个控制器

> ID：14951821
> 
> 赞同：1
> 
> 时间：2013-02-19T07:15:33.573
> 
> 标签：php, codeigniter, jquery

最初我试图从一个控制器加载两个视图。

在提交时，我将一个视图传递给一个控制器，并将另一个视图传递给另一个使用 ajax 动态的控制器。这是控制器的骨架

```
function edit(){     
    if (!$this->login_model->is_logged_in())
    {
        redirect('auth/login', 'refresh');
    }   
    $this->load->library('form_validation');    
    $this->data['custom_error'] = '';

        //------------- Getting Student data----------------

    if ($this->form_validation->run('students') == false)
    {
         $this->data['custom_error'] = (validation_errors() ? '<div class="form_error">'.validation_errors().'</div>' : false);

    } else
    {                            
        $data = array(
                'username' => $this->input->post('username'),
                'city' => $this->input->post('city')
        );

        if ($this->student_model->edit('students',$data,'id',$this->input->post('id')) == TRUE)
        {
            redirect(base_url().'index.php/students/manage/');
        }
        else
        {
            $this->data['custom_error'] = '<div class="form_error"><p>An Error Occured</p></div>';

        }
    }

    $this->data['result'] = $this->codegen_model->get('students','id,username,city,created_on,date_created','id = '.$this->uri->segment(3),NULL,NULL,true);

    $this->data['message'] = $this->db->get('messages')->result();

            //---------------------- Posting student data for Edit--------------
    $this->load->view('pheader');
    $this->load->view('/students/students_edit', $this->data);  

            //-------- loading comment controller for comment box --------------
            $msg_data['result'] = $this->db->get('messages')->result();
            $this->load->view('commentView', $msg_data);
} 
```

所以**问题是当我提交messages_view时，两个控制器都已加载**，但我只需要加载一个控制器

这是我的 student_edit 视图，我在其中编辑我的详细信息

```
<?php     

echo form_open(current_url()); ?>
<?php echo $custom_error; ?>
<?php echo form_hidden('id',$result->id) ?>

        <p><label for="username">Username<span class="required">*</span></label>                                
        <input id="username" type="text" name="username" value="<?php echo $result->username ?>"  />
        <?php echo form_error('username','<div>','</div>'); ?>
        </p>

        <p><label for="city">City<span class="required">*</span></label>                                
        <input id="city" type="text" name="city" value="<?php echo $result->city ?>"  />
        <?php echo form_error('city','<div>','</div>'); ?>
        </p>
        <?php echo form_submit( 'submit', 'Submit'); ?>
</p>

<?php echo form_close(); ?> 
```

这是我与控制器分开加载的commentView

```
<div id="content-table-inner">
    <table border="0" width="100%" cellpadding="0" cellspacing="0">
        <?php foreach ($result as $comment): ?>

            <tr valign="top">
                <p>Posted By : <?=$comment->created_by?></p> 
                <p>Posted On : <?=$comment->created->on?></p> 
                <p>Message : <?=$comment->message?></p> 
            </tr>
            <br/>
        <?php endforeach; ?>
        </table>
        <div class="submitComment" id="insertbeforMe">
            <h3>Add a message</h3>
            <form id="form" method="POST" action="">
             <p>
                 <textarea name="message"></textarea>
            </p>
                <input type="hidden" value="<?=base_url()?>" id="baseurl"/>
                <button name="submit comment">Submit Comment</button>
            </form>
        </div>
        <script type="text/javascript">
        function comment(){
            var baseurl = $('#baseurl').val();
            $('.submitComment').click(function(){
                $.ajax({
                    url : baseurl + 'index.php/comment/insert',
                    data : $('form').serialize(),
                    type: "POST",
                    success : function(comment){
                        $(comment).hide().insertBefore('#insertbeforMe').slideDown('slow');
                    }
                })
                return false;
            })
        }
        </script>

</div> 
```

谁能告诉我什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:26:21.733

如果我理解正确...

您应该捕获的事件是表单的“提交”，而不是提交按钮的“点击”。您实际上是在运行 AJAX 请求*并*提交表单。

尝试这样的事情：

```
$('form').on('submit', function(e) {
    e.preventDefault(); // this prevents the form from submitting

    // do AJAX stuff
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T13:03:47.413

除非我弄错了，否则您将事件附加到“.submitComment” div 上的单击事件。

您不应该给按钮一个 id 并将 .click 事件附加到它吗？然后，您需要定义要通过 ajax 调用的视图以返回一些您的函数可以使用的 json：

Javascript：

```
 $('#button').click(function(){
                    $.ajax({
                        url : baseurl + 'index.php/comment/insert',
                        data : $('form').serialize(),
                        type: "POST",
                        dataType: "json",
                        success : function(comment){
                            $('table').append('<tr><p>'+comment.createdby+'</p><p>'+comment.createdon+'</p><p>'+comment.message+'</p></tr>');
                        }
                    })
                    return false;
       }) 
```

控制器方法（注释/插入）：

```
function insert() {
    $comment = $this->input->post('message');
    $result = $this->commentModel->insert($comment);
    if($result["OK"]) {
        $data['json'] = json_encode(array('createdon' => $result["createdon"], 'createdby' => $result["createdby"], 'message' => $result["message"]));
        $this->load->view('json_comment_view', $data);
    }
    //ELSE deal with errors (flashdata etc...)
} 
```

视图（通过 ajax 加载）：

```
<?php
    $this->output->set_header('Content-Type: application/json; charset=utf-8');
    echo $json;
?> 
```

我还没有测试过这段代码——或者在大约一年的时间里广泛使用了 codeigniter，但是所涵盖的概念应该能让你走上你想要实现的目标的正确轨道。让我知道！

# android - 微调器不对齐等于编辑文本框

> ID：14951823
> 
> 赞同：1
> 
> 时间：2013-02-19T07:15:36.930
> 
> 标签：android

如何设置微调器？在我的代码微调器和编辑文本框布局边距左侧和右侧在模拟器中看起来相等但是当我在真实设备上部署微调器时，与编辑文本框相比，左侧和右侧看起来更大我如何设置相等的编辑文本框和微调器全屏？

```
 <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="15dp"
    android:layout_weight="0.2"
    android:weightSum="1"
    android:orientation="horizontal" >

      <EditText    
        android:id="@+id/txtMobileNo"
        android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_marginRight="45dp"
        android:layout_marginLeft="45dp"
        android:layout_height="wrap_content"
        style="?android:attr/buttonStyleSmall"
        android:gravity="left"     
        android:hint="@string/MobileNo"
        android:background="#ffffff"
        android:singleLine="true"/>

</LinearLayout>

    <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_weight="0.2"
            android:weightSum="1"
            android:orientation="horizontal" >

      <EditText  
        android:id="@+id/txtPinNo"
        android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_marginRight="45dp"
        android:layout_marginLeft="45dp"
        android:layout_height="wrap_content"
        style="?android:attr/buttonStyleSmall"
        android:inputType="textPassword"
        android:gravity="left"      
        android:background="#ffffff"
        android:singleLine="true"
        android:hint="@string/PinNo"/>

</LinearLayout>

    <LinearLayout
             android:layout_width="fill_parent"
             android:layout_height="wrap_content"
             android:layout_weight="0.1"
             android:weightSum="1"
             android:orientation="horizontal" >

     <Spinner
        android:id="@+id/lgnspinner"
        android:paddingTop="12dp"
        android:paddingBottom="12dp"
        android:prompt="@string/network_prompt"
        android:layout_weight="1"
        android:layout_width="0dp"
        android:layout_marginTop="-15dp"
        android:layout_marginBottom="-17dp"
        android:layout_marginRight="41dp"
        android:layout_marginLeft="41dp"
        android:layout_height="wrap_content" />

  </LinearLayout> 
```

# entity-framework - EF5 DBContext 配置被忽略

> ID：14951826
> 
> 赞同：0
> 
> 时间：2013-02-19T07:15:45.900
> 
> 标签：entity-framework, configuration, lazy-loading, dbcontext, dynamic-proxy

使用后更改配置时，我遇到了 EF5 DbContext 问题。我正在使用 POCO T4 模板。这是场景：

*   我在我的上下文中查询一个集合并获取动态代理对象及其关系
*   我修改上下文的配置以禁用动态代理和延迟加载，如下所示：

    ```
    context.Configuration.ProxyCreationEnabled = false;
    context.Configuration.LazyLoadingEnabled = false; 
    ```

*   然后我再次查询一个集合并通过代理和关系获得相同类型的结果。

初始化上下文后，我需要做什么来考虑配置？是否可以？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T09:04:14.080

如果您查询一个集合，禁用代理创建并再次查询相同的集合，无论如何您都有很大的机会获得代理实体。原因是在上下文内部使用的身份映射。每个实体只能被上下文跟踪一次。因此，如果您在启用代理创建的情况下查询该集合，EF 将为从数据库加载的每条唯一记录创建具有动态代理的实体实例。当您在禁用代理创建后再次查询该集合时，EF 将重用所有已创建的实体（及其代理）并仅为尚未加载的记录创建没有动态代理的新实体。

如果您想避免这些代理，您必须：

*   在第一次查询之前关闭代理创建
*   为第二个查询使用新上下文

您也可以尝试使用`AsNoTracking()`，但我怀疑它不会起作用。

# android - 在哪里存储json数据而不是在android中使用sqlite？

> ID：14951828
> 
> 赞同：2
> 
> 时间：2013-02-19T07:15:51.763
> 
> 标签：android, json, sqlite

我正在访问来自 json 的数据，将来自 json 的数据存储在 sqlite 中，然后检索它并将它们显示在屏幕上。这个过程需要很长时间。哪个是减少时间消耗而不是从 sqlite 存储和检索数据的更好方法？任何人都可以在这个问题上帮助我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T07:18:23.713

您可以将 JSON 作为纯文本存储在文件中。

放置它们的好地方是应用程序的缓存目录。

[https://developer.android.com/reference/android/content/Context.html#getExternalCacheDir()](https://developer.android.com/reference/android/content/Context.html#getExternalCacheDir()) [https://developer.android.com/reference/android/content/Context.html#getCacheDir()](https://developer.android.com/reference/android/content/Context.html#getCacheDir())

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:20:50.123

您可以将 JSON 数据存储在文件或共享首选项中。检查[**在 android 训练中保存数据**](http://developer.android.com/training/basics/data-storage/index.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:22:31.597

我也使用文件系统来存储 json。它可以更容易调试，因为您可以让 json.tostrong 方法缩进 json 哟使使用 android 文件浏览器更容易阅读。

我创建了一个接受并返回 json 的文件系统类，因此应用程序只将文件系统视为 json 存储。

# jquery - jQuery addclass 和切换类没有设置我的类

> ID：14951829
> 
> 赞同：0
> 
> 时间：2013-02-19T07:15:53.670
> 
> 标签：jquery, css

再会

由于某种原因，浏览器忽略了我的 addClass 和 toggleClass jquery 调用：

### HTML

```
<div id="menuNav" class="row-fluid">
    <div id="menuNavSub" class="span12">
        <ul>                         
            <li id="homeNav"><a href="index.aspx"><img src="images/homeNav2.png" /></a></li>
            <li id="galleryNav"><a href="galleries.aspx" class="block"><img src="images/homeNav2.png" /></a></li>
            <li id="aboutNav"><a href="about.aspx"><img src="images/homeNav2.png" /></a></li>               
            <li id="contactNav"><a href="contact.aspx"><img src="images/homeNav2.png" /></a></li>
        </ul>              
    </div>         
</div> 
```

### CSS：

```
.activeNavHome1 {
    background-position: -200px center;
}

.activeNavHome2{
    background: url('/images/homeNavSmall.png') no-repeat left center;
    background-position: -150px center;
} 
```

### jQuery：

```
 $('#homeNav').addClass('activeNavHome1');

    if ($(window).width() < 1080) {
       $('#homeNav').toggleClass('activeNavHome2');
     } 
```

注意：我正在使用`ASP.NET`并且 jQuery 代码包含在我的`index.aspx`文件中。HTML 包含在我的主文件中。

但是，当我使用

```
$('#homeNav').css('background-position', '-200px center') 
```

有用。为什么不使用`addClass`and`toggleclass`命令分配我的课程？我的 CSS 没有出现拼写错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:19:22.973

而是通过两个课程，`i think you didn't referenced a jQuery library`或者可能是您`doc ready`丢失了：

```
<script>
  $(function(){ // <-----------------------------you are missing this
     $('#homeNav').addClass('activeNavHome1');
     if ($(window).width() < 1080) {
       $('#homeNav').toggleClass('activeNavHome1 activeNavHome2');
     }
   });
 </script> 
```

## 笔记：

确保在此脚本之前已加载 jQuery：

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> 
```

# emacs - 在带有流浪汉的远程机器上运行命令？

> ID：14951835
> 
> 赞同：6
> 
> 时间：2013-02-19T07:16:28.753
> 
> 标签：emacs, command, tramp

我在远程机器上打开了一个文件，`C-u M-!`然后输入了`tree`命令。它在缓冲区中显示：

```
/bin/sh: tree: command not found 
```

该`tree`命令已安装到`/home/RNAer/bin`中，并且我验证它在使用 bash 终端登录时可以成功运行。

然后我在下面添加路径`.emacs`并重新启动emacs，

```
(add-to-list 'tramp-remote-path "/home/RNAer/bin") 
```

但它仍然存在未找到命令的相同错误。有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-09-05T18:00:55.417

我有同样的问题，我通过在 .emacs 中添加以下行来解决

```
(require 'tramp) 
(add-to-list 'tramp-remote-path "/home/RNAer/bin") 
```

请注意，如果没有第一行，第二行会引发错误。您可以通过以下方式仔细检查您的tramp-remote-path

```
(message (format "%s" tramp-remote-path)) 
```

看看你的路径是否设置正确。

# c# - 如何转换数组

> ID：14951837
> 
> 赞同：0
> 
> 时间：2013-02-19T07:16:35.473
> 
> 标签：c#, .net, linq

如何将以下列表转换为 LINQ？其中 QueueDataSource 是 ArrayList。

```
 switch (queue.QueueTypeID)
        {
            case (int)QueryType.DataEntry:
                dataEntryQueue.QueueDataSource.Add(new
                {
                    QueueID = queue.QueueID,
                    LinkText = queueName,
                    Uid = sentinel
                });
                break;
            case (int)QueryType.Sort:
                sortingQueue.QueueDataSource.Add(new
                {
                    QueueID = queue.QueueID,
                    LinkText = queueName,
                    Uid = sentinel
                });
                break;
            case (int)QueryType.CaseList:
                myQueue.QueueDataSource.Add(new
                {
                    QueueID = queue.QueueID,
                    LinkText = queueName,
                    Uid = sentinel
                });
                break;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:22:27.587

我不完全确定您在问题中要问什么。如果要能够使用 Linq 访问 ArrayLists，则使用 Linq`Cast<T>()`或`OfType<T>()`方法，例如

```
dataEntryQueue.QueueDataSource.Cast<QueueItem>().Where( q => q.QueueID == 1 ) ... 
```

或者如上所述摆脱 ArrayList 并使用`List<T>`.

在这两种情况下，您都需要定义 QueueItem 类并使用它来代替代码中的匿名类型。

否则@yBee 的答案似乎就是你所追求的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:28:31.627

根据您的代码 where`source`是可枚举的`queue`：

```
dataEntryQueue.QueueDataSource.AddRange((from queue in source
                                         where queue.QueueTypeID == QueryType.DataEntry
                                         select new {
                                                        QueueID = queue.QueueID,
                                                        LinkText = queueName,
                                                        Uid = sentinel
                                                    }).ToList()); 
```

对于其他两个数组列表也是如此。

# android - 数组列表 包含文件名

> ID：14951849
> 
> 赞同：0
> 
> 时间：2013-02-19T07:17:07.460
> 
> 标签：android, arraylist, contains

我对 ArrayList（上述代码中的文件）有疑问。此数组列表由位于 sd 中的文件组成。问题是我可以有重复项（相同的图像，但进入 sd 的路径不同，因此文件名相同但路径不同）并且我想删除它们。所以我使用这段代码：

```
ArrayList<File> removedDuplicates = new ArrayList<File>();

for (int i = 0; i < File.size(); i++) {
    if (!removedDuplicates.contains(File.get(i))) {
        removedDuplicates.add(File.get(i));
    }
} 
```

但它不起作用，我猜是因为文件列表的 contains() 会查看文件路径而不是文件名。这是真的吗？我该如何解决我的问题？我也尝试过：

```
ArrayList<File> removedDuplicates = new ArrayList<File>();

for (int i = 0; i < File.size(); i++) {
    if (!removedDuplicates.contains(File.get(i).getName())) {
        removedDuplicates.add(File.get(i));
    }
} 
```

但它仍然不起作用。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:27:37.373

getName 的类型是 String，而 ArrayList 中的对象类型是 File，所以你永远不会得到相同的东西。

您想比较 ArrayList 中的名称。

```
for(File f : files){
    String fName = f.getName();
    boolean found = false;
    for(File f2 : removedDuplicates){
       if(f2.getName().equals(fName)){
           found = true;
           break;
       }
    }
    if(!found){
        removedDuplicates.add(f);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:47:45.797

它非常简单。PS：测试代码

```
Map<String, File> removedDuplicatesMap = new HashMap<String, File>();
    for (int i = 0; i < files.size(); i++) {
        String filePath = files.get(i).getAbsolutePath();
        String filename = filePath.substring(filePath.lastIndexOf(System
                .getProperty("file.separator")));
        removedDuplicatesMap.put(filename, files.get(i));
    }
    ArrayList<File> removedDuplicates = new ArrayList<File>(
            removedDuplicatesMap.values()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:25:12.337

试试这个：

```
ArrayList<File> removedDuplicates = new ArrayList<File>();

File temp;   
for (int i = 0; i < File.size(); i++) {
   temp=new File(File.get(i).getAbsolutePath());   
   if (!removedDuplicates.contains(temp)) {
         removedDuplicates.add(File.get(i));
   }
} 
```

# redirect - 这里使用了什么样的重定向？对新网站不健康吗？

> ID：14951856
> 
> 赞同：1
> 
> 时间：2013-02-19T07:17:31.143
> 
> 标签：redirect, seo

我被要求为一家最近更换老板的餐厅创建一个网站。他们想要一个新的 URL。旧站点的所有者制定了到新站点的重定向。

旧网站：[http ://www.refugelounge.com](http://www.refugelounge.com)

新网站：[http ://www.therefugeyc.com](http://www.therefugeyc.com)

我对重定向了解不多，但我暗中怀疑这里发生的任何事情都会损害新网站的页面排名和流量。旧网址首先出现在 Google 中，并显示为新网站的精确克隆。并且在访问旧站点时，无论访问哪个页面，URL 都保持不变。

这里发生了什么？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-19T11:00:06.457

是的，那很糟糕。

他们使用框架（`frameset`+ `frame`）。尽管已经[过时](http://www.w3.org/TR/html5/obsolete.html#non-conforming-features)（“作者*不得*使用”），但框架不利于可用性（用户无法链接到特定页面）。

他们应该使用[HTTP 301](http://en.wikipedia.org/wiki/HTTP_301)重定向。

# visual-studio - CodeRush 可以显示“访问修改后的闭包”问题吗？

> ID：14951858
> 
> 赞同：1
> 
> 时间：2013-02-19T07:17:42.560
> 
> 标签：visual-studio, resharper, coderush

我知道 R# 可以显示此类问题。但是 CodeRush 能做到吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-31T19:09:55.570

考虑到这个[devexpress-post](http://www.devexpress.com/Support/Center/Question/Details/S136710)现在不可能，但在待办事项列表上。

# java - 学习分而治之的算法

> ID：14951864
> 
> 赞同：0
> 
> 时间：2013-02-19T07:18:17.217
> 
> 标签：java, divide-and-conquer

我一直在尝试学习分而治之的算法，并且我想出了我认为可以使用 java 的方法。该算法应该采用一个大小为 n 的数组，它是以 2 为底数。它应该将数组划分为 4 的基本情况，然后将这些索引相加。然后它将所有这些加在一起以找到整个数组的总和。这是我到目前为止在java中所做的以及我的错误。对于分而治之的算法，我至少在正确的轨道上吗？

引发异常：

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 8
at getSum.sumArray(getSum.java:17)
at getSum.sumArray(getSum.java:21)
at getSum.main(getSum.java:7) 
```

这是代码：

```
public class getSum {
    static int sum = 0;
    public static void main(String[] args) {
            int[] numbers = {2,2,2,2,2,2,2,2};
            int amount = 0;
           amount = sumArray(0,numbers.length,numbers);
           System.out.print(amount);
    }

    public static int sumArray(int first, int last, int[] A){
        int index = last - first;
        if(index == 1){
            return sum;
        }else if(index <= 4 && index > 1){
            for(int i = first; first < last; i++){
                sum += A[i];
            }
            return sum;
        }
        return (sumArray(first, last / 2, A) + sumArray(last / 2, A.length, A));
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:31:25.533

你需要改变：

```
for(int i = first; first < last; i++){ 
```

到：

```
for(int i = first; i < last; i++){ 
```

你不断比较`first`and `last`，当你只增加`i`

正如@Some1.Kill.The.DJ 指出的那样，

`sum`应该是方法的一部分`sumArray`

# c++ - 递归 std::remove_pointer？

> ID：14951868
> 
> 赞同：1
> 
> 时间：2013-02-19T07:18:32.220
> 
> 标签：c++, c++11

我对类型有困难，例如：

```
T****************************************** 
```

应该`std::remove_pointer`能够处理这些类型（我不这么认为）？怎么全部去掉`*`？如果`&`最后添加了一个或两个＆符号，是否存在`C++11`标准中的元函数来将这种类型剥离到`T`不使用 the`std::remove_reference`和`std::remove_pointer`元函数？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-19T07:20:19.110

`*`编写一个无论你有多少s 和s都会返回基类型的元函数并不难`&`。

```
template <typename T>
struct remove_all_ref_ptr { typedef T type; };

template <typename T>
struct remove_all_ref_ptr<T *> : public remove_all_ref_ptr<T> { };

template <typename T>
struct remove_all_ref_ptr<T * const> : public remove_all_ref_ptr<T> { };

template <typename T>
struct remove_all_ref_ptr<T * volatile> : public remove_all_ref_ptr<T> { };

template <typename T>
struct remove_all_ref_ptr<T * const volatile> : public remove_all_ref_ptr<T> { };

template <typename T>
struct remove_all_ref_ptr<T &> : public remove_all_ref_ptr<T> { };

template <typename T>
struct remove_all_ref_ptr<T &&> : public remove_all_ref_ptr<T> { }; 
```

并且`::std::remove_pointer`可以很好地处理这样的类型。它只是砍掉一个`*`.

我刚刚写的那个小元函数最终会遇到递归深度限制。但是你可能需要穿上一百多个`*`s 才能做到这一点。

以下是您可以如何将它与标准库元函数一起使用以删除 const 和 volatile 限定符：

```
 #include <type_traits>

 template <typename T>
 struct base_type : public ::std::remove_cv<typename remove_all_ref_ptr<T>::type> { }; 
```

# html - div与css的动态高度

> ID：14951875
> 
> 赞同：8
> 
> 时间：2013-02-19T07:18:43.480
> 
> 标签：html, css

我的**HTML**：

```
<!-- Content -->
    <div class="content">
        <!-- Content left -->
        <div class="content-left"></div>
        <!-- Content center -->
        <div class="content-center">

        </div>
        <!-- Content right -->
        <div class="content-right"></div>
    </div> 
```

我的**CSS**：

```
.content
{
 background-color: black;
 height: auto;
 margin: 80px auto 0px auto;
 min-height: 100px;
 padding: 10px 10px;
 width: 1200px;
}

.content-center
{
 -khtml-box-shadow: 0px -3px 5px rgba(0,0,2,2);
 -moz-box-shadow: 0px -3px 5px rgba(0,0,2,2);
 -webkit-box-shadow: 0px -3px 5px rgba(0,0,2,2);
 background-color: #ffffff;    
 border-left: 1px solid;
 border-right: 1px solid;
 border-color: #999999;
 box-shadow: 0px -3px 5px rgba(0,0,2,2);
 height : 900px;
 float: left;
 width : 800px;
}

.content-left
{
 background-color: #fff;
 float: left;
 height: 300px;
 width: 190px;
}

.content-right
{
 background-color: #fff;
 float: left;
 height: 300px;
 width: 190px;
} 
```

我的问题是带有“内容”类的 DIV 与其他元素的高度不同，因为该标签的子元素。我希望具有“内容”类的 div 根据“内容中心”、“内容左”或“内容右”具有动态高度。我在“内容”类中使用了 min-height 和 height : auto 但它仍然不正确。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-19T07:22:23.010

添加`overflow:auto`到`.content`

```
.content{
  width: 1200px;
  min-height: 100px;
  height: auto;
  margin: 80px auto 0px auto;
  background-color: black;
  padding: 10px 10px; 
  overflow:auto
} 
```

**[演示](http://jsfiddle.net/gTka2/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-19T07:40:51.910

试试这个：

```
* {
    margin: 0;
    padding: 0;
}

html, body {
    height:100%;
}

.content {
    width: 1200px;
    min-height: 100px;
    height: auto;
    margin: 80px auto 0px auto;
    background-color: black;
    padding: 10px 10px;
    display:table;
    overflow:hidden;
    height:100%;
} 
```

[**在这里演示**](http://jsfiddle.net/jWbEG/)

# asp.net - Microsoft.ACE.OLEDB.12.0' 提供程序未在本地计算机上注册

> ID：14951881
> 
> 赞同：2
> 
> 时间：2013-02-19T07:19:10.763
> 
> 标签：asp.net

我正在尝试在我的应用程序中上传一些 excel 文件数据。在我的本地系统（Windows 7）中，我的代码运行良好。但是在服务器 (2003) 中托管后，当我尝试上传文件 (.xlsx) 时出现错误 - System.InvalidOperationException: 'Microsoft.ACE.OLEDB.12.0' 提供程序未在本地计算机上注册。

我的代码：

```
 try
         {
             string connectionString = "";
             if (fuUpload.HasFile)
             {                  

                 string fileName = "_uploadTemp";
                 string fileExtension = Path.GetExtension(fuUpload.PostedFile.FileName);
                 string fileLocation = HttpContext.Current.Server.MapPath("~/FileUpload/" + fileName + fileExtension);
                 fuUpload.SaveAs(fileLocation);

                 lbl1.Text = "File Saved";

                 //Check whether file extension is xls or xslx

                 if (fileExtension == ".xls")
                 {
                     connectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + fileLocation + ";Extended Properties=\"Excel 8.0;HDR=Yes;IMEX=2\"";
                 }
                 else if (fileExtension == ".xlsx")
                 {
                     connectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + fileLocation + ";Extended Properties=\"Excel 12.0;HDR=Yes;IMEX=2\"";
                 }
                 lbCon.Text = connectionString;
                 //  Create OleDB Connection and OleDb Command

                 OleDbConnection con = new OleDbConnection(connectionString);
                 OleDbCommand cmd = new OleDbCommand();
                 cmd.CommandType = System.Data.CommandType.Text;
                 cmd.Connection = con;
                 OleDbDataAdapter dAdapter = new OleDbDataAdapter(cmd);
                 DataTable dtExcelRecords = new DataTable();

                 con.Open();

                 lbl2.Text = "Connection open";

                 //DataSet dtExcelSheetName=con.GetOleDbSchemaTable(OleDbDataAdapter.DefaultSourceTableName,null);
                 DataTable dtExcelSheetName = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
                 string getExcelSheetName = dtExcelSheetName.Rows[0]["Table_Name"].ToString();
                 cmd.CommandText = "SELECT * FROM [" + getExcelSheetName + "]";
                 dAdapter.SelectCommand = cmd;
                 dAdapter.Fill(dtExcelRecords);
                 // dtExcelRecords = RemoveDuplicate(dtExcelRecords, "nOdc_Wwid");
                 con.Close();
                 lbl3.Text = "Connection Closed";
                 DataTable dttemp = new DataTable();
                 dttemp.Columns.Add("sOdc_People_Name", typeof(string));
                 dttemp.Columns.Add("vEmailId", typeof(string));
                 dttemp.Columns.Add("nOdc_Wwid", typeof(int));
                 dttemp.Columns.Add("Vpnaccess", typeof(string));//
                 dttemp.Columns.Add("Details", typeof(string));

                 for (int i = 0; i < dtExcelRecords.Rows.Count; i++)
                 {

                     dttemp.Rows.Add(dtExcelRecords.Rows[i][0].ToString(), dtExcelRecords.Rows[i][1].ToString(),
                     dtExcelRecords.Rows[i][2].ToString(), dtExcelRecords.Rows[i][3].ToString(), dtExcelRecords.Rows[i][4].ToString());
                 }

                 Session.Add("dtTemp", dttemp);//Created temp session to store the excel data

                 lbl4.Text = "Data added to temp table";

                 if (dttemp.Rows.Count <= 0)
                 {
                     gvMain.DataSource = mailutility.GetTempDataSetX("sOdc_People_Name", "vEmailId", "nOdc_Wwid", "Vpnaccess", "Details");
                     gvMain.DataBind();
                     gvMain.Rows[0].Visible = false;

                 }
                 else
                 {

                     gvMain.DataSource = dttemp;
                     gvMain.DataBind();
                     lnkConfirm.Visible = true;
                     lnkCancelC.Visible = true;
                     pnlLegend.Visible = true;
                     pnlLagendText.Visible = true;
                     mpX.Show();
                     lbl5.Text = "Grid binded";
                     foreach (GridViewRow gvr in gvMain.Rows)
                     {
                         CheckBox chkSelect = gvMain.Rows[gvr.RowIndex].Cells[0].FindControl("chkSelect") as CheckBox;
                         Label lblNameX = gvMain.Rows[gvr.RowIndex].Cells[1].FindControl("lblNameX") as Label;
                         Label lblEmailidX = gvMain.Rows[gvr.RowIndex].Cells[2].FindControl("lblEmailidX") as Label;
                         Label lblWwIdX = gvMain.Rows[gvr.RowIndex].Cells[3].FindControl("lblWwIdX") as Label;

                         if (lblNameX.Text != "" && IsValidEmail(lblEmailidX.Text) == true && ValidWWId(lblWwIdX.Text) == true)
                         {
                             chkSelect.Checked = true;
                         }
                         else
                         {
                             chkSelect.Checked = false;
                             chkSelect.Enabled = false;
                             gvr.BackColor = System.Drawing.Color.Yellow;
                         }
                         //Check for duplicate WWID
                         for (int i = 0; i < dttemp.Rows.Count; i++)
                         {
                             if (i != gvr.RowIndex)
                             {
                                 if (dttemp.Rows[i]["nOdc_Wwid"].ToString() == lblWwIdX.Text)
                                 {
                                     chkSelect.Checked = false;
                                     chkSelect.Enabled = false;
                                     gvr.BackColor = System.Drawing.Color.Yellow;
                                 }
                             }
                         }
                     }

                 }

             }
         }
         catch (Exception es)
         {
             lbException.Text = es.ToString();
         } 
```

请有人帮助我。

古勒吉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T07:23:33.297

1.尝试从这里下载：http: [//www.microsoft.com/en-us/download/confirmation.aspx?id= 23734](http://www.microsoft.com/en-us/download/confirmation.aspx?id=23734)

2.转到Visual Studio点击添加数据源，按照向导。

这是我之前遇到的同样的问题，并从这里开始执行步骤：

[http://social.msdn.microsoft.com/Forums/en-US/vstsdb/thread/1d5c04c7-157f-4955-a14b-41d912d50a64](http://social.msdn.microsoft.com/Forums/en-US/vstsdb/thread/1d5c04c7-157f-4955-a14b-41d912d50a64)

***您需要安装`x86 version`目标机器是否是`32 bit`或`x64 version`目标机器是否是`64 bit`并且您的应用程序是使用配置任何 CPU 构建的。***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-24T08:49:27.757

您需要检查的第一件事是您的应用程序的构建配置。

*   如果您已经**在 x86 平台下构建了项目**，那么为了解决您的问题，您应该在您的机器上安装以下软件包：

    1.  要使用“Microsoft.ACE.OLEDB.12.0”提供程序，您必须先 **安装 Microsoft Access Database Engine 2010 Redistributable** ，此安装可在以下网址获得：http: [//www.microsoft.com/download/en/details.aspx ?id=13255](http://www.microsoft.com/download/en/details.aspx?id=13255)。

        安装完成后，尝试运行您的应用程序，如果这很好地解决了问题，如果没有，请继续执行步骤 2。

    2.  下一步是一个无法解释的解决方法，它适用于 Office 2010，即使它是 Office 2007 的数据连接组件。我不太确定为什么会这样，但它确实有效，并且已被证明在几乎所有情况下都有效。您需要**安装 2007 Office System 驱动程序：数据连接组件**，此安装位于：http: [//www.microsoft.com/download/en/confirmation.aspx?id=23734](http://www.microsoft.com/download/en/confirmation.aspx?id=23734)。

        安装完成后，尝试运行您的应用程序，这应该可以解决问题。

*   如果您尝试运行**在 x64 或 AnyCPU 平台下构建的应用程序**，我建议您首先验证它在 x86 平台下是否按预期运行。如果它不在该 x86 平台下运行，请执行第一部分中的步骤并验证它是否按预期运行。

    我确实读到了包括 OLEDB 数据库驱动程序在内的 MS Access 驱动程序只能在 x86 平台下工作，并且在 x64 或 AnyCPU 平台下不兼容。但这似乎是不真实的。我在构建 x86 时验证了我的应用程序正在运行，然后我使用被动标志安装了 Access 数据库引擎。

    1.  首先在本地下载文件你可以在这里下载安装：http: [//www.microsoft.com/en-us/download/details.aspx?id=13255](http://www.microsoft.com/en-us/download/details.aspx?id=13255)
    2.  使用带有“/被动”标志的命令提示符进行安装。 **在命令提示符下运行以下命令：'AccessDatabaseEngine_x64.exe /passive'**

    在这两个步骤之后，我设法在 x64 或 AnyCPU 构建配置中运行我的应用程序。这似乎解决了我的问题。

注意：步骤的顺序似乎有所不同，因此请遵循。

# backbone.js - 取消后的主干渲染

> ID：14951884
> 
> 赞同：0
> 
> 时间：2013-02-19T07:19:24.633
> 
> 标签：backbone.js

我有以下主干视图。我有一个疑问。如果模型被删除，我会在取消后调用渲染（第一种方法），另一种方法是使用初始化函数，它使模型在视图内监听事件更改。（第二种方法)

有人可以告诉我，一和二的区别。至于两者哪个更好。

**第一种方法** var AppointmentView = Backbone.View.extend({ template: _.template('">' + '<%= title %>' + 'x'),

```
 events:  { "click a": "cancel" },
  cancel: function(){
    this.model.cancel();
    this.render(); // rendering after cancel
  },
  render: function(){
    this.$el.html(this.template(this.model.toJSON()));
  }
}); 
```

**第二种方法**

```
var AppointmentView = Backbone.View.extend({
  template: _.template('<span class="<% if(cancelled) print("cancelled") %>">' +
                        '<%= title %></span>' +
                        '<a href="#">x</a>'),
  initialize: function(){
    this.model.on("change", this.render, this);
  },
  events:  { "click a": "cancel" },
  cancel: function(){
    this.model.cancel();
  },
  render: function(){
    this.$el.html(this.template(this.model.toJSON()));
  }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:40:55.753

我会定义一个自定义`cancelled`事件，从您的`cancel`方法中触发它，然后在视图中绑定到该事件。

```
var Appointment = Backbone.Model.extend({
  cancel: function() {
    //cancellation code...
    this.trigger('cancelled', this);
  }
});

var AppointmentView = Backbone.Model.extend({
  initialize: function() {
    this.listenTo(this.model, 'cancelled', this.render);
  }
}); 
```

这样，即使模型从视图本身以外的其他地方取消，您的视图也会重新渲染，但您仍然会获得特定行为或仅在 上重新渲染`cancel`，而不是在每次更改时重新渲染。

# memory-leaks - 内存泄漏与函数

> ID：14951887
> 
> 赞同：0
> 
> 时间：2013-02-19T07:19:33.170
> 
> 标签：memory-leaks

_ *_* _Below 程序在“delete p”和“p = NULL”之后调用 MyClass::processing 时应该崩溃，但在尝试访问“MyClass::a”时它会崩溃。为什么这样？？？

```
#include <iostream>
using namespace std;

class MyClass
{
public:
        int a;
        void processing()
        {
                cout<<"Processing"<<endl;
        }
};

int main(void)
{
        MyClass* p(new MyClass);
        MyClass* q = p;
        p->a = 10;
        cout<<"p:: "<<p<<" q:: "<<q<<endl;
        cout<<"p->a"<<p->a<<"q->a"<<q->a<<endl;
        delete p;
        p->processing();   // Watch out! p is now dangling!
        cout<<"\n\nAfter Deletion::"<<endl;
        cout<<"p:: "<<p<<" q:: "<<q<<endl;
        cout<<"p->a"<<p->a<<"q->a"<<q->a<<endl;
        p = NULL;           // p is no longer dangling
        cout<<"\n\nAfter Assigning null"<<endl;
        p->processing();   // Watch out! p is now dangling!
        q->processing();   // Ouch! q is still dangling!
        cout<<"p:: "<<p<<" q:: "<<q<<endl;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:21:27.427

删除实例后调用方法是**未定义的行为**。什么事情都可能发生。

可能的行为示例：

1.  你得到“幸运”：`free`刚刚释放了内存但没有使其无效。实例部分完好，调用意外成功。
2.  `free`用垃圾（或标记值）覆盖内存，导致您跳转到一些疯狂的地址和段错误。
3.  `free`释放整个块，您尝试访问`*p`.
4.  其他一些线程将 的地址`system`放入现在未使用的内存块中。您的堆栈恰好包含一个指向`"rm -rf /"`. 您的硬盘驱动器被擦除，随之而来的是欢闹。

永远，永远，永远依赖未定义的行为。

# javascript - 从不同页面的草坪椅上获取价值

> ID：14951888
> 
> 赞同：0
> 
> 时间：2013-02-19T07:19:39.143
> 
> 标签：javascript, cordova, lawnchair

第 1 页：

```
var done=Lawnchair({adapter:"dom",name:'done'},function(e){
console.log("storage open");
})
var obj1='false';
done.save({key:'1',value:obj1}); 
```

第2页：

```
Lawnchair({adapter:"dom",name:'done'},function(e){
this.get('1', function(obj) {
console.log('object is: ' + obj);
alert(obj.value);
 }) 
```

我收到错误**TypeError:obj is null**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-25T21:08:54.973

`TypeError:obj is null`表示`done`尚未创建 Lawnchair 数据库。如果确实如此，它将显示并警告`false`。

请确认您我们能够创建`done`数据库。

```
var done=Lawnchair({adapter:"dom",name:'done'},function(e){
    console.log("storage open");
});

var obj1='false';
done.save({key:'1',value:obj1}, function(k) {
    console.log(k)
}); 
```

保存后`key:'1'`它将输出对象数据。如果没有，请仔细检查您是否包含了 dom.js 适配器。

# php - 从cakephp中的表中获取列名

> ID：14951892
> 
> 赞同：-2
> 
> 时间：2013-02-19T07:19:43.227
> 
> 标签：php, mysql, cakephp

我正在尝试从 cakephp 中的表中获取列名，我尝试了以下代码，但它不起作用。

```
$table_venue = $this->Venue->getColumnTypes();
print_r($table_venue);
//Venue is the model name . 
```

当我执行上面的代码时，我得到错误`Call to a member function getColumnTypes()`

我也尝试了下面的代码

```
$table_venue = $this->query('Select columnname from venues');
print_r($table_venue); 
```

你能帮我吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T14:27:03.857

在控制器中：

```
debug($this->Model->schema()); 
```

在模型中：

```
debug($this->schema()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-17T05:39:40.753

```
array_keys($this->Model->getColumnTypes()); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-19T07:25:04.730

当你这样`$table_venue = $this->query('Select columnname from venues');` 做`$table_venue = $this->query('Select columnname from venues')->result_array();` 并将其存储`$data`并回显`$data['columnname']`

希望这可以帮助。

# ruby-on-rails - 如何跳过 Rails 中特定功能的模型验证？

> ID：14951899
> 
> 赞同：2
> 
> 时间：2013-02-19T07:20:21.447
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我想跳过控制器功能的一些模型验证。我正在这样做

模型 ：

```
attr_accessible :skip_method_2
validates :name,  presence: true, length: { maximum: 50 }, :unless => :skip_method_2
VALID_PHONE_REGEX = /\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/
validates :phoneno, presence: true,uniqueness: { case_sensitive: false, :scope => :user_id}, format: { with: VALID_PHONE_REGEX }, :unless => :skip_method_2 
```

控制器 ：

```
def contacts_callback
 @contacts = request.env['omnicontacts.contacts']   
 @contacts.each do |contact|
   next if current_user.contacts.exists?(:email => "#{contact[:email]}")
   contact1 = current_user.contacts.new(:skip_method_2 => true)
   contact1.name = contact[:name] 
   contact1.email = contact[:email]
   contact1.group = "Others"
   contact1.save
 end
  redirect_to "/contact"
end 
```

我不想通过 :validation => false 来保存它。我想跳过联系人回调函数的名称和电话号码验证。但它不起作用。

它在控制器中给出错误-未定义的局部变量或方法'skip_method_2'用于contacts_callback。我已经在我的模型中提到了 attr_accessible

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:09:21.697

改变`validates :name, presence: true, length: { maximum: 50 }, :unless => :skip_method_2`

到

`validates :name, presence: true, length: { maximum: 50 }, :unless => lambda {|x| x.skip_method_2}`

另请查看[此](https://stackoverflow.com/a/7312088/1087546)答案

# ios - 在 IOS 中检索文本文件

> ID：14951907
> 
> 赞同：0
> 
> 时间：2013-02-19T07:21:08.593
> 
> 标签：ios, html, file, cordova

我创建了一个使用 phonegap 以 iPad 为目标的应用程序。我已经使用 phonegap 的 API 动态创建了一个文本文件。文件位置显示 /var/mobile/Applications/C9D4....../Documents/DataFiles。如何访问该文件？

请帮忙。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T09:12:14.363

尝试这个

```
function getfile(){
window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, onFail);

function onFail(message) {
      alert('Failed because: ' + message);
    }

    function gotFS(fileSystem) {
        fileSystem.root.getFile("/var/mobile/Applications/C9D4....../Documents/DataFiles", {create: true}, gotFileEntry, fail);
    }

    function gotFileEntry(fileEntry) {
        fileEntry.file(gotFile, fail);
    }

    function gotFile(file){
        readDataUrl(file);  
    }

    function readDataUrl(file) {
           var reader = new FileReader();
           reader.onloadend = function(evt) {
           console.log("Read as data URL");
           console.log(evt.target.result);

        }; 
        reader.readAsDataURL(file);
    }

    function fail(evt) {
        console.log(evt.target.error.code);
    } 
```

}

# extjs - 组合框一旦选择就不允许再次选择该值

> ID：14951912
> 
> 赞同：1
> 
> 时间：2013-02-19T07:21:45.783
> 
> 标签：extjs

我在我的应用程序中使用组合框，它只允许我选择一次值，当我想更改我的选择时，它不允许我再次选择值。它只是打开并返回。如何解决这个问题。

代码：

```
 {
                xtype:'combobox',
                style:'margin:10px;',
                fieldLabel: 'M Group(*)',
                editable:false,
                bodyStyle:'padding-left:10px;',
                store: GroupStore,
                valueField:'value',
                displayField:'name',
                multiSelect: false,
                name: 'GroupId',
                id:'MGroupId',
                queryMode: 'local',
                triggerAction: 'all',
                //disabled:true,
                emptyText:'Select Group',   
                listeners: {
                    expand : function(field, eOpts)
                    {                   
                        if(isFirst) {
                            inputJson.Unit.id = Id;                     
                            this.getStore().load({
                                  params: {jsonData: Ext.encode(inputJson)}
                            });                     
                            Ext.getCmp('MGroupId').setDisabled(false);
                            Ext.getCmp('MGroupId').setVisible(true);

                        }else{
                            Ext.getCmp('MGroupId').setDisabled(true);
                            Ext.getCmp('MGroupId').setVisible(false);

                        }

                    },              
                    select: function(combo, record, index) {    

                     this.getStore().each(function(r){                  

                         if(combo.getValue() == r.data['value'])
                         {
                            MGroupName = r.data['name'];                                                    
                         }
                     });

                  } 
```

# android - 联网 单向 连接 android

> ID：14951920
> 
> 赞同：0
> 
> 时间：2013-02-19T07:22:20.270
> 
> 标签：android, networking, input, output, oneway

我今天的问题如下：

我有一个网络连接，双方都必须发送命令（字节），但我的阅读器阻止了我的作者，看起来就是这样。如果我“禁用”我的读者（通过从源代码中删除读者），作者会按他应该的方式工作，但是当我的读者也在那里时，我的作者只做了一半的工作。

假设我的编写器必须以 15 秒的间隔发送一个命令，并留意传入的命令，这些命令必须由一个小字节块来回答。答案块已发送，但来自间隔的命令似乎被阻止。

**这是我的来源：**

```
 protected String doInBackground(URL... params) {
        try {
            btw1 = (byte) sendbeg;
            btw2 = (byte) w2;
            btw3 = (byte) w3;
            btw4 = (byte) w4;
            btw5 = (byte) w5;
            if (w5 == 79) {
                btw6 = (byte) mins;
                btw7 = (byte) seks;
                btw8 = (byte) w6;
                btw9 = (byte) sendend;
            } else {
                btw6 = (byte) w6;
                btw7 = (byte) sendend;
            }
            SocketAddress sockaddr = new InetSocketAddress("192.168.0.7", 2001);
            sock = new Socket();
            int timeout = 1000; // 1000 millis = 1 second
            sock.connect(sockaddr, timeout);
            sock.setReuseAddress(true);
            System.out.println(sock);
            DataOutputStream dos = new DataOutputStream(
                    (OutputStream) sock.getOutputStream());
            BufferedWriter wrtr = new BufferedWriter(
                    new OutputStreamWriter(dos), 300);
            DataInputStream dis = new DataInputStream(sock.getInputStream());
            BufferedReader rdr = new BufferedReader(new InputStreamReader(dis),
                    300);
            getbyte((byte) btw1, (byte) btw2, (byte) btw3, (byte) btw4,
                    (byte) btw5, (byte) btw6, (byte) btw7, (byte) btw8,
                    (byte) btw9, (byte) btw10); //getbyte works fine, too. It's just there for putting the single bytes into an array.
            System.out.println(btw.length);
            dos.write(btw);
            diny1 = (dis).read();           
diny2 = (dis).read();           
diny3 = (dis).read();           
diny4 = (dis).read();

            diny5 = (dis).read();           
dinymin = (dis).read();
            dinysek = (dis).read();
            diny6 = (dis).read();
            diny7 = (dis).read();
            if (diny5 != 79) {
                System.out.println("diny" + diny1 + " " + diny2 + " " + diny3
                        + " " + diny4 + " " + diny5 + " " + dinymin + " "
                        + dinysek);
            } else {
                if (diny7 != 5) {
                    diny6 = 0;
                    diny7 = 0;
                }
                System.out.println("diny" + diny1 + " " + diny2 + " " + diny3
                        + " " + diny4 + " " + diny5 + " " + dinymin + " "
                        + dinysek + " " + diny6 + " " + diny7);
            }
            dos.close();
            wrtr.close();
            dis.close();
            rdr.close();
            if (diny5 != 32) {
                sendbeg = 3;
                w2 = diny3;
                w3 = diny2;
                w4 = 48;
                w5 = 32;
                w6 = 11;
                sendend = 5;
                System.out.println(diny5 + " ^^ ");
                doInBackground();

            }
            System.out.println("case 144-49-000.1" + context);
            reccom(context);
            sock.close();

        } catch (Exception e) {
            e.printStackTrace();

            System.out.println("IO error " + e);
        }

        return "Done";
    } 
```

我的间隔源工作正常，因为如果阅读器不活动，它可以工作，所以我认为问题出在上面的代码中。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:27:51.560

*   您可以删除`setReuseAddress()`通话；它仅适用于服务器套接字。
*   *如果您一直处于循环状态，那么*AsyncTask 对您的读者和作者来说并不完全适合；用起来会更合适`Thread`。
*   如果不允许阻止另一个，听起来好像您需要一个单独的读取器和写入器线程。
*   如果读者和作者独立行动，你可能不得不`synchronized`一路使用

# php - Php：卷曲不需要的输出

> ID：14951923
> 
> 赞同：0
> 
> 时间：2013-02-19T07:22:24.587
> 
> 标签：php, facebook, facebook-graph-api

我有以下卷曲代码

```
<?php
     $url = 'https://graph.facebook.com/me/events';
     $fields = array(
                      'access_token' => $token,
                      'name' => 'Event name',
                      'description' => 'The Description ',
                      'start_time' => '2013-03-02'
                    ); 

     foreach($fields as $key=>$value) 

     {
          $fields_string .= $key.'='.$value.'&';
     }
          rtrim($fields_string, '&');

     $ch = curl_init();
     curl_setopt($ch,CURLOPT_URL, $url);
     curl_setopt($ch,CURLOPT_POST, count($fields));
     curl_setopt($ch,CURLOPT_POSTFIELDS, $fields_string);
     $result = curl_exec($ch);
     curl_close($ch);
?> 
```

在上面的代码中，我没有使用 echo $result ，但它的返回输出为`{"id":"209557021119579"}`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:25:36.733

用这个 ：

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

用于返回数据而不是回显数据

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:26:47.017

你应该使用 CURLOPT_RETURNTRANSFER ，

```
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
```

# java - 将 ADT 从 21.0 更新到 21.1

> ID：14951925
> 
> 赞同：3
> 
> 时间：2013-02-19T07:22:28.197
> 
> 标签：java, android, api, sdk, adt

我下载了 API 15,16 和 17。下载完成后，我关闭了 eclipse，但是当我再次打开它时，它给了我一个消息框，说我需要将我的 ADT 从 21.0.0 更新到 21.1 或更高版本，（以及我当前的项目突然不行了，而且满是红线）。有一个“检查更新”按钮。但是点击后，它说没有找到更新。我问了谷歌，发现已经发布了 ADT 21.1。我想知道我是否应该只下载最新的 ADT 包，同时也在寻找更快的解决方案。我说“更快”是因为我的互联网连接有点慢。:( 我需要一整天的时间才能完成下载。 :( 并且在我下载 API 后，我的图形布局不再显示。有一条消息说“Eclipse 正在加载 SDK。主页。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-19T07:24:57.187

转到 eclipse > 帮助 > 检查更新。

它应该列出 adt 的最新更新。如果它不起作用，试试这个：

转到 Eclipse > 帮助 > 安装新软件

点击添加

添加此网址：[https ://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)

它将列出可用的更新——理想情况下应该是 adt 21.1.0（最新）

安装最新的adt，一切都应该没问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-21T06:49:51.520

同样的事情发生在我身上，这就是我所做的-

显然，SDK 更新到了 21.1 版本，但 ADT 仍然是 21.0。21.1目前是预览版（所以我不确定我们是怎么不小心更新了sdk的……），所以你必须手动添加更新源。有一个很好的指南（[http://tools.android.com/preview-channel](http://tools.android.com/preview-channel)），但这是您需要的：

启动 Eclipse，然后选择帮助 > 安装新软件。单击右上角的“添加”按钮。在出现的 Add Repository 对话框中，为 Name 输入“ADT Previews”，为 Location 输入以下 URL： [https://dl-ssl.google.com/android/eclipse-preview/](https://dl-ssl.google.com/android/eclipse-preview/) 单击 OK。

如果您在获取插件时遇到问题，请尝试在位置 URL 中使用“http”，而不是“https”（出于安全原因，首选 https）。在可用软件对话框中，选中开发人员工具旁边的复选框，然后单击下一步。

这对我有用，虽然我宁愿降级 sdk。希望我有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:25:37.233

转到`window -> SDK manager` 然后安装`Android SDK Tools`到 21.1，然后再次检查更新。

我曾经在管理员权限下运行 eclipse 时收到错误“无法安装更新”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-06T10:30:48.787

跟你的问题一样！！！顺便说一句，谢谢你的信息！我在读完这篇文章后尝试了它，哇哦它奏效了！谢谢

1.  转到 Eclipse > 帮助 > 安装新软件
2.  点击添加
3.  添加此网址：[https ://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)

# ruby-on-rails - 在数据库中存储 Rails 应用程序版本

> ID：14951926
> 
> 赞同：0
> 
> 时间：2013-02-19T07:22:28.723
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cvs

将 Rails 应用程序的版本存储在数据库中是正确的方法吗？Rails 版本是每次我们进行部署时都会增加的发布生产代码版本。它仅用于信息目的。通常人们建议在其中设置版本，`config/initializers/version.rb`但 IMO 在部署期间可能很难自动更改（是否将文件添加到 .gitignore 等等）使用 AR 记录我们可以轻松拥有`ApplicationVersion.last.to_version in our code`. 你对此有什么看法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:31:51.210

将其写入可以在部署期间生成的 yaml 文件怎么样？在部署期间生成它是一件简单的事情，特别是如果您使用的是 capistrano 之类的工具。

我对将其写入文件的担忧是生产数据库不是具体资源。如果发生崩溃并需要恢复数据库怎么办？数据库可能会报告与代码当前状态不同的版本。

# scala - 使用 self 类型扩展 trait 时非法继承

> ID：14951931
> 
> 赞同：5
> 
> 时间：2013-02-19T07:22:48.767
> 
> 标签：scala

我对以下代码感到困惑：

```
 trait T1 {
        type S
    }

    trait T2 {
      self: T1 =>

       case  class ClS(s: S)
    }

    object O extends T2 {

    } 
```

它给出以下错误消息：

> 非法继承；tests.O.type 不符合 tests.T2 的 selftype tests.T2 和 tests.T1

怎么了？我扩展的原因`O`是`T2`我想引用中的类`CLS`，`O`我该如何实现呢？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-19T07:30:12.647

`trait T2`有一个合同说：如果你继承自我，你也应该继承自`T1`.

```
object O extends T2 with T1 
```

然后你可能会得到一个`type S`未定义的错误。这是一件好事，因为它被用于定义`CLS`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-19T07:28:47.123

T2 有一个自身类型 T1，这意味着从 T2 继承的每个类/对象/特征都必须是 T1 类型，所以在你的情况下

```
object O extens T1 with T2 {
  type S = Whatever
} 
```

应该管用。

# c# - 使用asp.net检查excel工作表中的行是否为空

> ID：14951935
> 
> 赞同：0
> 
> 时间：2013-02-19T07:23:07.507
> 
> 标签：c#, asp.net, excel

我想获取 excel 工作表中非空的行数。我正在使用 asp.net 和 C#，并在我的表单中上传一个简单的 excel 文件，列的数量和名称仅由用户决定（意味着数据列名称未知）。我正在寻找一种完美的方法来获取不为空的 excel 行数。我使用的以下代码为只有 3 行非空数据的行列表提供了 78 的计数（不包括第一行，因为它用于列名）。这是我的代码：

```
con = new OleDbConnection(@"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + pathExcel + ";Extended Properties='Excel 12.0;HDR=YES;IMEX=1;';");
string cmdS = "SELECT * FROM [Sheet1$]";
if (con.State == ConnectionState.Closed)
con.Open();
OleDbCommand cmd = new OleDbCommand(cmdS, con);
OleDbDataAdapter adp = new OleDbDataAdapter(cmd);
DataSet ds = new DataSet();
adp.Fill(ds, "MailingList");
DataRow dr;
dr = ds.Tables["MailingList"].Rows[0];
int intExcelRowCount=0;
// the following thing give me output as 78 but my sheet has only 3 records.
intExcelRowCount=int.Parse(ds.Tables["MailingList"].Rows.Count); 
```

有什么完美的方法可以做到这一点？

# javascript - 您如何在 javascript 中接收文件流并使用 AJAX 发布它？

> ID：14951936
> 
> 赞同：3
> 
> 时间：2013-02-19T07:23:10.830
> 
> 标签：javascript, jquery, asp.net, ajax

我`FORM POST`在 ASP.NET 中使用 a 接收文件并将其发送回，如下所示：

```
StreamReader sr = new StreamReader(fStream);
Response.Write(sr.ReadToEnd()); 
```

我现在想要做的是获取数据，然后使用 AJAX 重新发布。问题是我试图了解数据应该如何编码或添加到 jQuery AJAX 的 data 属性中`POST`。

这甚至可能吗？我可以在服务器端接收文件流，将其作为流（或其他内容）发送回，将其存储在 JS 变量中，然后将其作为 jQuery AJAX 中的“数据”发送`POST`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:10:59.660

是的，可以使用 jquery AJAX 上传文件。

[上传](http://cjax.sourceforge.net/examples/plugin_uploadify.php)

此链接可能对您有用。这与您想要的完全相同。查看代码，如果您有任何疑问，请告诉我。我已经在我的代码中成功实现了它。

优点 ：

*   如果您的文件太大，这对您也很有帮助。
*   它很容易实现。
*   阿贾克斯。

# r - 用于绘制 R 中 x、y、z 坐标的树状图的函数

> ID：14951939
> 
> 赞同：1
> 
> 时间：2013-02-19T07:23:23.057
> 
> 标签：r

对于以下牙科.csv 文件

```
item,x,y,z
A1,66,89,122
A2,14,44,-9
A3,-17,199,11
A35,99,0,12
test,15,144,15 
```

我写了以下 R 脚本

```
mycoord<-read.csv("dental.csv")
d<-dist(mycoord)
h<-hclust(d)
plot(h, lab=mycoord$item) 
```

这将“测试”坐标匹配到最接近的值，如下所示

![在此处输入图像描述](../Images/fb38e1dca8ce8a4f9cd04a9561b04039.png)

我需要做的是一个函数，它接受整数 x、y、z 并将它们作为“测试”放在数据框中，然后绘制树状图。有什么帮助吗？

另一件事，对于上面相同的 R 脚本，我添加了以下内容

```
newdata<-mycoord[,2:4]
heatmap(as.matrix(newdata)) 
```

我得到以下图表

![在此处输入图像描述](../Images/c4589b7bc4190de91d58a0cc60311434.png)

出于某种原因，我无法在热图中添加标签（我的意思是“A3”、“A4”等。而不是“1”、“2”、“3”等。）使用参数时出现错误**实验室=mycoord$item**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T08:15:20.493

是不是这样，您只想拥有一个函数，该函数将原始数据矩阵和测试矩阵结合起来，然后将其馈送到您的聚类中？有人想像

```
testClust <- function(data,test){
    mycoord <- rbind(data,test)
    d<-dist(mycoord)
    h<-hclust(d)
    plot(h, lab=mycoord$item)
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T08:14:02.073

如何在没有`test`先加载 CSV 的情况下像这样：

```
df <- read.csv(header=T, text="item,x,y,z
A1,66,89,122
A2,14,44,-9
A3,-17,199,11
A35,99,0,12") 
```

然后加载`test`为：

```
test <- data.frame(item="test", x=15, y=144, z=15) 
```

然后，使用`rbind`as 计算距离：

```
d <- dist(rbind(df[,2:4], test[,2:4]))
h <- hclust(d)
plot(h, labels=c(as.character(df$item), as.character(test$item))) 
```

这是你需要的吗？

对于第二部分：

```
dd <- rbind(df, test)
dd.m <- as.matrix(dd[,2:4])
row.names(dd.m) <- dd[,1]
heatmap(dd.m) 
```

![在此处输入图像描述](../Images/c9749978b74e212ee41b7397171e4ee0.png)

# javascript - 如何使用 Google Visualization 创建带有子列的表格？

> ID：14951940
> 
> 赞同：0
> 
> 时间：2013-02-19T07:23:26.057
> 
> 标签：javascript, python, html, css, google-visualization

我需要使用 Google Visualization 创建以下格式的表格：

一个 | 乙| C | D |
   | 1 | 2 | 1 | 2 | 1 | 2 |

其中 1,2 是 B、​​C、D 的子标题。我目前正在使用一个标题为 A、B1、B2、C1、C2、D1、D2 的表。但我想将它们分成子标题，如上所示。

请让我知道使用 GVis 是否可行。如果可行，如何实现。否则，请让我知道是否有任何解决方法可以实现这一目标。

如果问题中需要任何澄清，请告诉我。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T09:40:12.093

有一种可行的方法，但你可能不会喜欢它。

首先，您使用子标题制作图表（这样您就有了`"", "", "1", "2", "1", "2", "1", "2"`）。

然后你在它下面做一个单独的图表，让它零高度，没有网格线，没有垂直轴，没有图例，什么都没有（但要确保它`chartWidth`与上面的图表相同）。在下面的图表中，您创建了一个使用`"A", "B", "C", "D"`类别的图表，没有数据 ( `null, null, null, null`)。您的标签将自动对齐，以每对顶部值为中心。

但是，如果“A”系列真的只有 1 个值，那么它们就不会排列（因为标签不能均匀分布）。您可以创建一个空白系列，或者为 A 创建一个双粗线（通过在两列中放置相同的值），或者类似的东西。

如果您愿意，您也可以编写 Javascript 以使用一些花哨的 CSS 将浮动文本框放置在水平轴标签下方。

# javascript - 在javascript中通过引用传递和修改变量

> ID：14951951
> 
> 赞同：0
> 
> 时间：2013-02-19T07:23:56.597
> 
> 标签：javascript, html, reference

我正在构建的一个插件中有一个事件处理机制。我正在触发一个事件并希望将特定项目发送回事件处理程序参数。

在事件处理程序内部，我想更改插件中也应该更改它的项目。我在下面有一个相同的简单版本。

`datafile.js`

```
var data = {
    'Project': [
        {
            'StartDate': '02/20/2013',
            'EndDate': '03/30/2013',
            'Description': 'Description 1',
            'ProjectID': 'ID1'
        },
        {
            'StartDate': '02/20/2013',
            'EndDate': '03/30/2013',
            'Description': 'Description 2',
            'ProjectID': 'ID2'
        }
]
};

function onbuttonClick() {
    onClickInternal(data.Project[1].Description);
}; 
```

主索引.html

```
<head>
    <script src="datafile.js"></script>
    <script type="text/javascript">
        function onClickInternal(description) {
            description = "This is the new description";
            document.getElementById("mydiv").innerHTML = data.Project[1].Description;
        };
    </script>
</head>

<body>
    <div id="mydiv"> </div>
    <input type="button" onclick="onbuttonClick()" value="Project"/>
</body> 
```

如果我将整个`data`对象或`Project`数组作为事件处理程序参数传递，那将没有任何意义，因为我想从中传递特定`Description`项目并对其进行修改，以便它也可以在`data`数组中进行修改。这是如何在 JavaScript 中完成的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:30:13.123

您只能在 onClickInternal 上为您设置 arrayPos：

```
function onbuttonClick() {
    onClickInternal(1);
};

function onClickInternal(projectPos) {
    data.Project[projectPos].Description = "This is the new description";
    document.getElementById("mydiv").innerHTML = data.Project[projectPos].Description;
}; 
```

或使用回调方法

```
 function onbuttonClick() {
        onClickInternal(data.Project[1].Description, function(newDescription) {
            data.Project[1].Description = newDescription;
            return newDescription;
        });
    };

    function onClickInternal(description, setNewValue) {
        document.getElementById("mydiv").innerHTML = setNewValue("This is the new description");
    }; 
```

# mysql - Django：存储在 MySQL 数据库中的时区不正确

> ID：14951954
> 
> 赞同：3
> 
> 时间：2013-02-19T07:24:08.653
> 
> 标签：mysql, django, timezone

我有一个应用程序，它在 settings.py 中使用“亚洲/台北”作为其时区，并在 models.py 的日期时间字段之一上使用 auto_now=true：

```
--- settings.py ---
TIME_ZONE = 'Asia/Taipei'
--- models.py ---
models.DateTimeField(auto_now=True) 
```

在我的系统上，台北也被用作我的时区： ![在此处输入图像描述](../Images/9ec52216d68f850e02a6618ab0824a29.png)

在 MySQL Workbench 上，我已经查询了全局和会话 tz，它们的返回是“SYSTEM”： ![在此处输入图像描述](../Images/8666d6077fe18fd7c8c4e7d81570aaf0.png)

我的问题是当一个条目添加到数据库时，系统和 settings.py 上指定的时区没有被使用。请参阅示例快照： ![在此处输入图像描述](../Images/cbdf5f1d22650c608ae1876e7a5a8a5c.png)

我缺少什么？做错了吗？提前致谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-19T11:02:53.843

通常情况下，数据库将默认存储 UTC 时间，相应的应用程序将根据设置/配置进行转换。

在您的情况下，这取决于您的`USE_TZ`设置。

> 当 USE_TZ 为 False 时，这是 Django 将存储所有日期时间的时区。当 USE_TZ 为 True 时，这是 Django 用于在模板中显示日期时间并解释在表单中输入的日期时间的默认时区。

更多详情，您可以参考

*   [https://docs.djangoproject.com/en/1.4/ref/settings/#std:setting-USE_TZ](https://docs.djangoproject.com/en/1.4/ref/settings/#std:setting-USE_TZ)
*   [http://garmoncheg.blogspot.in/2012/03/new-in-django-14-timezones.html](http://garmoncheg.blogspot.in/2012/03/new-in-django-14-timezones.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-19T11:02:00.837

它现在正在工作。我只是设置**USE_TZ = False**

# sql-server - 由于服务器禁止使用办公室或 VS，正在检索具有 CLSID 的组件的 COM 类工厂

> ID：14951960
> 
> 赞同：1
> 
> 时间：2013-02-19T07:24:29.230
> 
> 标签：sql-server, windows-server-2008

我想将我的工作上传到 Windows Server 2008 x64 我的工作出错

```
Retrieving the COM class factory for component with CLSID {00024500-0000-0000-C000-000000000046} failed due to the following error: 80040154 
```

我知道错误的原因。这是因为服务器缺少未安装 Microsoft Office 的库。

我问的另一个原因是因为服务器上也没有 Visual Studio。

我没主意。请帮忙

# ruby - 不同长度的 Ruby 整数

> ID：14951963
> 
> 赞同：-3
> 
> 时间：2013-02-19T07:24:45.383
> 
> 标签：ruby, rounding

我可以有不同长度的整数...例如 1896 或 894...

但是如何将它们转换为浮点数，以便逗号后只有一个符号？

例如

```
1896 -> 1.9
894 -> 0.9
539 -> 0.5 
```

我怎么能在红宝石上做到这一点？

现在我这样做：

```
type.TYP_CCM.round(-2).to_s[0].concat(".").concat(type.TYP_CCM.round(-2).to_s[1]) 
```

但这是个坏主意，仅适用于 4 位整数...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:29:58.370

那个怎么样：

```
(1896/1000.0).round(1) # 1.9
(894/1000.0).round(1) # 0.9
(539/1000.0).round(1) # 0.5 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:30:18.353

这一切都在 API 中：

```
(1234/1000.0).round(1) 
```

应该在点后给你一位小数。

即使它不在 API 中，您也可以通过以下方式轻松模拟它

```
(1234/100.0).round() / 10.0 
```

或更接近您的代码：

```
(1234).round(-2) / 1000.0 
```

至于确保您的输出具有 xxxx.y 格式 - 使用**格式字符串**，[http: //www.ruby-doc.org/core-1.9.3/String.html#method-i-25](http://www.ruby-doc.org/core-1.9.3/String.html#method-i-25)

# php - 使用php将图像从blob字段下载到硬盘

> ID：14951975
> 
> 赞同：0
> 
> 时间：2013-02-19T07:25:18.643
> 
> 标签：php, mysql

我有一个 mysql blob 字段，我们的团队在其中存储了每条记录的图像。现在我想通过 php 脚本下载我硬盘上的所有图像。我们将不胜感激。

最好的祝福...

艾莎

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:39:24.453

```
$result=mysql_query("SELECT * FROM test WHERE 1");
while($row = mysql_fetch_array($result, MYSQL_ASSOC)) {
    $filename = rand(1, 100).'.txt';
    file_put_contents('./'.$filename, $row['blob']);
} 
```

这是有效的（经过测试）。
它将以随机文件名（1-100.txt）保存文件。
您可以通过更改 $filename 来更改文件名。

这是一个简单的 MySQL 表示例，其中包含 2 个演示文件，内容为 Test #1 和 Test #2：

```
CREATE TABLE IF NOT EXISTS `test` (`blob` blob NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=latin1;
INSERT INTO `test` (`blob`) VALUES(0x5468697320697320746573742023312e), (0x5468697320697320546573742023322e); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T07:34:05.187

您可以使用 file_put_contents，

从数据库中获取行并 foreach 行将 blob/数据写入文件

[从 PHP 写入图像文件时出错](https://stackoverflow.com/questions/6710309/error-in-writing-to-image-file-from-php)

[http://php.net/manual/en/function.file-put-contents.php](http://php.net/manual/en/function.file-put-contents.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:35:00.633

你也可以试试这个…………

```
function save_file($file_id, $target_folder) {
$result       = $DB->get_file($file_id);   
$file_content = $result->fields['your_file_content_field'];
$name         = $result->fields['name'];

/* Decode only if the file contents base64 encoded 
 * before inserting to database.
 */
$file_content = base64_decode($file_content);

return file_put_contents($target_folder.'/'.$name, $file_content);
} 
```

# python - 如何打印 Python 类？

> ID：14951976
> 
> 赞同：6
> 
> 时间：2013-02-19T07:25:28.280
> 
> 标签：python, class

我有一个包含多个函数的类（其中大部分包含解析smth的代码，获取所有必要的信息并打印它）。我正在尝试打印课程，但我得到了smth。像**<_ *main* _.TestClass 实例在 0x0000000003650888>**。代码示例：

```
from lxml import html
import urllib2
url = 'someurl.com'

class TestClass:

    def testFun(self):
        f = urllib2.urlopen(url).read()
        #some code

        print 'Value for ' +url+ ':', SomeVariable

    def testFun2(self):
        f2 = urllib2.urlopen(url).read()
        #some code

        print 'Value2 for ' +url+ ':', SomeVariable2

test = TestClass()
print test 
```

当我在课外打印功能时 - 一切正常。我做错了什么，如何打印课程？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-19T07:28:02.240

这是预期的行为。Python 无法知道类是如何表示的，除非你定义一个`__str__`or`__repr__`方法来给类一个字符串表示。

需要明确的是：`__repr__`通常定义为生成一个字符串，该字符串可以被评估回类似的对象（在您的情况下，`TestClass()`）。默认`__repr__`打印出`<__main__.TestClass instance at 0xdeadbeef>`你看到的东西。

示例`__repr__`：

```
def __repr__(self):
    return self.__class__.__name__ + '()' # put constructor arguments in the () 
```

`__str__`可以定义为生成类的人类可读的“描述”。如果未提供，您将获得`__repr__`.

示例`__str__`：

```
def __str__(self):
    return "(TestClass instance)" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:29:08.210

看起来您想要打印类的实例而不是类本身。定义一个`__str__`or`__repr__`方法，该方法返回打印实例时要使用的字符串。

请参阅：[http ://docs.python.org/2/reference/datamodel.html#object.__repr__](http://docs.python.org/2/reference/datamodel.html#object.__repr__)

[http://docs.python.org/2/reference/datamodel.html#object.__str__](http://docs.python.org/2/reference/datamodel.html#object.__str__)

# mysql - 我如何为我编写的子查询编写连接查询？

> ID：14951981
> 
> 赞同：1
> 
> 时间：2013-02-19T07:25:49.840
> 
> 标签：mysql, sql, performance

你好朋友我在连接查询中有些困惑，所以我写了子查询。我的数据库设计是这样的：`table name = dbtest`

```
------------------------
| id | name | relation |
------------------------
| 1  | abc  |    2     |
| 2  | bbc  |    0     |
| 3  | kbc  |    2     |
| 4  | xyz  |    3     |
------------------------ 
```

我想要根据谁与谁相关的输出。

假设如果我输入`id = 4`它应该返回`xyz => kbc`

通过子查询到目前为止我已经实现的`kbc`只是
我的子查询是：`select name from dbtest where id = (select relation from dbtest where id = '3');`

任何伙伴可以帮助我使用连接查询获得所需的输出吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-19T07:33:04.363

```
select name
from dbtest
where id = (
  select relation
  from dbtest
  where id = '3'
); 
```

(yours) 等价于 (s 是内部选择，r 是外部选择)

```
select r.name
from dbtest s
join dbtest r
  on r.id = s.relation
where s.id = '3' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:39:01.303

我设法得到了`xyz => kbc`与这个查询的关系：

```
SELECT a.name, b.name from dbtest a, dbtest b where a.id = 4 and a.relation = b.id 
```

编辑：这是使用 JOIN 的相同查询

```
SELECT a.name, b.name FROM dbtest a JOIN dbtest b ON a.relation = b.id WHERE a.id = 4 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-19T07:32:57.090

```
select d.name,d.id,db.relation from dbtest d, dbtest db where d.id = db.relation; 
```

这是自我加入...希望对您有所帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-19T07:38:35.217

试试这个：

```
select a.id,a.name,b.name,b.relation 
from dbtest a,dbtest b where a.id=b.relation 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-19T07:45:59.067

```
select name from dbtest where relation ='3';
                  OR
//if id is dynamic value
select name from dbtest where relation ='$id'; 
```

# .htaccess - 显示文件夹的所有链接的索引页

> ID：14951983
> 
> 赞同：0
> 
> 时间：2013-02-19T07:25:52.247
> 
> 标签：.htaccess

我的网站有一个名为“keywords”的文件夹，例如：[http ://www.mysite.com/keywords/](http://www.mysite.com/keywords/)

在文件夹中，我只有一个 index.php 文件。无论有人在文件夹后输入什么，我都需要显示 index.php。例如，[http:](http://www.mysite.com/keywords/this-is-a-test) //www.mysite.com/keywords/this-is-a-test 应该显示 index.php 文件的内容，但不更改 URL。

我尝试过的一切似乎都失败了 - 我正在使用 /keywords/ 文件夹中的 .htaccess。不管我放什么，我似乎总是收到 404 错误。任何帮助将不胜感激，我敢肯定这是我不知道该怎么做的小而简单的事情。

这是我目前拥有的：

```
RewriteEngine on
RewriteRule - index.php [L] 
```

问题在于，它仅在链接带有破折号的链接时才有效。

例如，

```
http://www.mysite.com/keywords/testing-this 
```

确实有效。但这不起作用：

```
http://www.mysite.com/keywords/testingthis 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T10:05:34.750

```
RewriteEngine On
RewriteBase /   #make sure your website is located in root directory, if not you have to add directory here...
RewriteRule ^keywords/testingthis$ /keywords/index.php$1 [L] 
```

# iphone - 从 iOS 的 ACAccountStore 获取 Facebook uid？

> ID：14951984
> 
> 赞同：9
> 
> 时间：2013-02-19T07:25:53.467
> 
> 标签：iphone, xcode, facebook, ios6, social-framework

嗨，我想在 iOS 6 中从**ACAccountStore获取 Facebook 用户的 UID**

```
 self.accountStore = [[ACAccountStore alloc]init];

    ACAccountType *FBaccountType= [self.accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    NSString *key = @"01234567890123";
    NSDictionary *dictFB = [NSDictionary dictionaryWithObjectsAndKeys:key,ACFacebookAppIdKey,@[@"email"],ACFacebookPermissionsKey, nil];

        [self.accountStore requestAccessToAccountsWithType:FBaccountType options:dictFB completion:
         ^(BOOL granted, NSError *e) {
             if (granted) {
                 NSArray *accounts = [self.accountStore accountsWithAccountType:FBaccountType];

                 //it will always be the last object with single sign on
                 self.facebookAccount = [accounts lastObject];

                 //i Want to get the Facebook UID and log it here

                 NSLog(@"facebook account =%@",self.facebookAccount);

             } else {
                 //Fail gracefully...
              NSLog(@"error getting permission %@",e);

             }
         }]; 
```

**self.facebookAccount**有 UID，但我无法得到它......

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-20T18:33:03.893

我想在不使用 Facebook API 的情况下获取 UID。可以使用以下方法完成

```
 self.accountStore = [[ACAccountStore alloc]init];

    ACAccountType *FBaccountType= [self.accountStore accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];

    NSString *key = @"01234567890123";
    NSDictionary *dictFB = [NSDictionary dictionaryWithObjectsAndKeys:key,ACFacebookAppIdKey,@[@"email"],ACFacebookPermissionsKey, nil];

        [self.accountStore requestAccessToAccountsWithType:FBaccountType options:dictFB completion:
         ^(BOOL granted, NSError *e) {
             if (granted) {
                 NSArray *accounts = [self.accountStore accountsWithAccountType:FBaccountType];

                 //it will always be the last object with single sign on
                 self.facebookAccount = [accounts lastObject];

                 //i  got the Facebook UID and logged it here (ANSWER)

                  NSLog(@"facebook account =%@",[self.facebookAccount valueForKeyPath:@"properties.uid"]);

             } else {
                 //Fail gracefully...
              NSLog(@"error getting permission %@",e);

             }
         }]; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-19T20:14:16.223

您需要调用[Facebook Graph API](https://developers.facebook.com/docs/reference/api/user/)；使用 SLRequest 如下：

```
NSUrl requestURL = NSUrl.FromString("https://graph.facebook.com/me"); 
SLRequest sl = SLRequest.Create(SLServiceKind.Facebook, SLRequestMethod.Get, requestURL, null);

sl.Account = // your ACAccount object here

sl.PerformRequest((data, response, error) => {
    if (error == null) {
        // success! parse response
    }
    else {
        // handle failure
    }
}); 
```

应该这样做！

# java - 处理流数据，更新 GUI，使用线程，不错过任何一个节拍吗？

> ID：14951988
> 
> 赞同：1
> 
> 时间：2013-02-19T07:26:07.203
> 
> 标签：java, multithreading, bluetooth, streaming

这个问题是半理论的，半是如何正确编码的。

我正在考虑用 Java 制作一个可以接受流数据的应用程序，并在数据进入时更新 GUI。

所以，我想做的只是在 Java 中生成线程，这些线程将：

1.  收集 X 毫秒的数据，
2.  获取新数据并使用它更新 GUI
3.  同时，启动一个新线程，收集X毫秒的数据
4.  这个新线程必须从第一个线程开始的地方开始

同时，程序的所有其他部分也在各自的线程中进行。

所以我需要确保线程不会发生冲突，混合中没有数据丢失，并且我需要了解速度限制。假设数据以 1 Gbs 和 1 Mbs 的速度输入，这会产生什么编程差异？

特定应用程序包括来自蓝牙的数据以及通过 HTTPS REST API 来自 Internet 的数据

如果有人有示例，无论是在线示例还是此处快速而肮脏的示例，那就太好了。我的谷歌搜索干了..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T07:42:35.867

这个问题相当广泛，但从架构的角度来看，我认为如果将其更改为从设备读取数据并将数据放入缓冲区的一个线程以及从该缓冲区读取数据并更新 UI 的一个线程，复杂性会大大降低。这减少了需要处理多个线程同时访问它的代码（理想情况下，它将减少到您使用的缓冲区）并使同步更加容易。它还将数据的获取与显示数据分离。

可以从使用 PipedInputStream 和 PipedOutputStream 开始编写缓冲区，但是在我的一个项目中，如果您真的想提供实时处理和显示，结果证明它不够快，因此您最终可能会为自己编写一个低延迟缓冲类。

# android - 在android中集成facebook的问题

> ID：14951989
> 
> 赞同：0
> 
> 时间：2013-02-19T07:26:18.433
> 
> 标签：android, facebook, andengine

我正在尝试将 facebook 集成到我的游戏中以在用户的​​墙上发布记录，但是登录后我得到一个授予权限的窗口，当我接受时，我希望我的游戏再次恢复而不做任何其他事情。

我有一个变量 ( `useFacebook`)，它应该`true`在会话启动时或会话已经开始较早时变为。但是，它的行为就像往常一样`false`。如果我将其改为`true`手动，我会收到一个错误发布到 facebook。

这是相关代码：

```
@Override
    public void onResumeGame() {
            super.onResumeGame();

            if (mServ != null)
            {                      
                    mServ.resumeMusic();                                           
            }

            checkFaceBook();               
    } 
@Override
public void onActivityResult(int requestCode, int resultCode, Intent data)
    {
        super.onActivityResult(requestCode, resultCode, data);
        Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
} 
public void checkFaceBook()
    {
    Session.openActiveSession(this, false, new Session.StatusCallback()
    {
            @Override
            public void call(Session session, SessionState state, Exception exception)
            {
            if (session.isOpened())
            {
                // Never enters here.
                    Request.executeMeRequestAsync(session, new Request.GraphUserCallback()
                    {
                                            @Override
                                            public void onCompleted(GraphUser user, Response response)
                                            {
                                                    if (user != null)
                                                    {
                            fbUsername = user.getFirstName();
                            useFacebook = true;
                                                    }
                                            }                        
                    });
            }
            }
    });
    } 
public void facebookLogin()
    {              
            Session.openActiveSession(this, true, new Session.StatusCallback()
            {  
                    @Override
                    public void call(Session session, SessionState state, Exception exception)
                    {
                    if (session.isOpened())
                    {
                       // Never enters here.
                            Request.executeMeRequestAsync(session, new Request.GraphUserCallback()
                            {
                                    @Override
                                    public void onCompleted(GraphUser user, Response response)
                                    {                                              
                                    if (user != null)
                                    {
                                            // CALLBACK: USER IS LOGGED IN
                                            // DO YOUR STUFF HERE
                                            fbUsername = user.getFirstName();
                                            useFacebook = true;

                                            facebookFeedDialog("Test");
                                    }
                                    }
                            });
                    }
                    }
            });
    } 
public void facebookFeedDialog(String message)
    {              
            Bundle params = new Bundle();
            params.putString("name", message);
            params.putString("caption", "ccccc");
            params.putString("description", "ddddd");
            params.putString("link", "https://market.android.com/details?id="+this.getApplication().getPackageName().toString());
            params.putString("picture", "http://www.myimage.com/01.jpg");

            WebDialog feedDialog = (new WebDialog.FeedDialogBuilder(this, Session.getActiveSession(), params)).setOnCompleteListener(new OnCompleteListener() {
                    @Override
                    public void onComplete(Bundle values, FacebookException error)
                    {
                    if (error == null)
                    {
                    final String postId = values.getString("post_id");
                    if (postId != null)
                    {
                            // POSTED                              
                    }
                    else
                    {
                            // POST CANCELLED                              
                    }
                    }
                    else if (error instanceof FacebookOperationCanceledException)
                    {
                            // POST CANCELLED                              
                    }
                    else
                    {
                            // ERROR POSTING                               
                    }
                   }                 
            }).build();
            feedDialog.show();
    } 
public boolean onSceneTouchEvent(Scene pScene,
                    TouchEvent pSceneTouchEvent) {         

            if (mFB.onAreaTouched(pSceneTouchEvent, pSceneTouchEvent.getX(), pSceneTouchEvent.getY()))
            {                                              
                    mClickSnd.play();                      

                    if (useFacebook == true)
                    {                              
                            facebookFeedDialog("Test");
                    }
                    else
                    {
                            facebookLogin();                               
                    }                              

                    return true;
            }

            return false;
    } 
```

这些是我得到的屏幕：

[登录](http://farm9.staticflickr.com/8380/8487526393_c177f67ea1.jpg) [权限](http://farm9.staticflickr.com/8530/8487526385_1df08cdbbf.jpg)

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T19:19:23.737

屏幕是正确的，用户需要在允许读取或发布任何数据之前授权您的应用程序。

想想你的 onResume 你应该尝试使用 Session.getActiveSession(); 这将为您提供当前的活动会话。

# java - java.lang.Long 或 java.util.UUID 是安全的共享机密吗？

> ID：14951990
> 
> 赞同：4
> 
> 时间：2013-02-19T07:26:19.983
> 
> 标签：java, long-integer, uuid, shared-secret

为了访问我的 Web 服务应用程序中的资源，客户端应用程序需要为每个资源提供唯一的共享密钥。

问题是：SecureRandom 生成的多头对于此目的是否合理安全（例如针对暴力攻击）？还是应该改用 UUID？

Web 服务通过 HTTPS 运行，我可以保证不会发生冲突（使用 Long 或 UUID）。真正唯一的问题是Java中的Long的域是否足够大以提供针对HTTPS的详尽攻击的保护。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-19T07:49:19.913

简单的答案是，您永远无法保证随机生成的数字对/序列不会发生任何冲突。您所能做的就是设计一些东西，使应用程序发生冲突的*可能性*低到可以接受的程度。该概率需要多低取决于应用程序的细节。

让我感到困惑的是，为什么冲突会成为共享秘密的问题。你真的在问有人猜到共享秘密的概率吗？

* * *

好的，这是一道简单的数学题。举个`long`例子。

*   a有`2^64`可能的值`long`。
*   这些`V`都是“有效的秘密”。
*   一些坏人`N`每秒可以合理地尝试猜测的秘密。
*   您可以推导出一个公式来计算`P`在给定时间间隔内有人可以猜出您的某个秘密的概率`T`。

推导公式，插入变量和`V`，然后决定是否可以接受。`N``T``P`

请注意，“实际相关的机会”不是我们可以为您提供的建议。相反*，您*应该根据对某人成功破坏您的计划的成本/后果的分析来决定可接受的风险。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-19T07:35:24.267

也许吧，但是当[JCE 支持这个](http://bouncy-castle.1462172.n4.nabble.com/Java-Diffie-Hellman-creates-SecretKey-for-AES-with-128-Bytes-length-td3083166.html)功能时，为什么还要使用它们呢？

```
DHParameterSpec dhSkipParamSpec = new DHParameterSpec(skip1024Modulus, skip1024Base);
KeyPairGenerator aliceKpairGen = KeyPairGenerator.getInstance("DH", "BC");
aliceKpairGen.initialize(dhSkipParamSpec);
KeyPair aliceKpair = aliceKpairGen.generateKeyPair();
byte[] alicePubKeyEnc = aliceKpair.getPublic().getEncoded();

aliceKeyAgree = KeyAgreement.getInstance("DH", "BC");
aliceKeyAgree.init(aliceKpair.getPrivate());

//... obtaining Bob's Public Key
aliceKeyFac = KeyFactory.getInstance("DH", "BC");
X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(bobPubKeyEnc);
bobPubKey = aliceKeyFac.generatePublic(x509KeySpec);

aliceKeyAgree.doPhase(bobPubKey, true);
SecretKey aliceAesKey = aliceKeyAgree.generateSecret("AES");

Cipher cipher = Cipher.getInstance("AES/ECB/PKCS5Padding", "BC");
cipher.init(Cipher.ENCRYPT_MODE, aliceAesKey);
byte[] cipherText = cipher.doFinal(plaintext.getBytes()); 
```

你的 AES 加密文本现在是密文。希望有帮助...

# silverlight - 分析模式下的 Visual Studio 2012 提供了更好的性能

> ID：14951994
> 
> 赞同：0
> 
> 时间：2013-02-19T07:26:43.033
> 
> 标签：silverlight, rest, visual-studio-2012, profiling

我遇到了一个奇怪的情况，不知道要寻找什么或如何寻找。

我们正在一个 Web 项目中托管一个 Silverlight 项目。此 Silverlight 项目使用 Web 项目托管的 REST 服务进行通信。

现在，当我们在调试模式下运行它时，一切都按预期运行。所以我想分析它并检查我可能会失去性能的所有地方。所以这是有趣的部分。

我运行了 VS2012 Profiler，它正在收集与执行的方法、时间等相关的所有信息。但这次我的项目快如闪电。过去在正常调试下大约需要 1 秒才能执行的查询现在需要不到 200 毫秒。有一个非常密集的查询，在正常模式下执行大约需要 20 秒，但在分析下它需要不到 600 毫秒。

因此，我从中得出的结论是，我的代码和项目能够如此快速地运行，但由于某种原因，在正常调试场景下它并没有那么快。

有人可以了解幕后发生的事情吗？我如何在正常情况下实现这种性能。

我还想提一下，我也尝试过发布模式和发布到 IIS，但这些都没有提供像在分析模式下那样好的性能。

从技术上讲，我之前认为是在分析模式下，性能应该低于正常水平，因为此时 VS2012 也在收集其他数据。

我很困惑。请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-22T23:47:29.327

我知道您此时可能不需要帮助，但对于其他偶然发现这篇文章的人，我会给我两分钱。

我正在从事的一个 XNA 项目也遇到了同样的问题。在某些情况下，调试和发布模式都出现了巨大的减速。它把我拉到不到 1 FPS。我试图分析问题以解决它，但在分析过程中从未发生过该问题。

我终于发现减速是由我在这种情况下调用的 Console.WriteLine() 引起的。评论它解决了调试和发布版本的问题。显然，Console.WriteLine 实在是太慢了。