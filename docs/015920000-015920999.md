# StackOverflow 问答 15920000-15920999

# azure - 在 Windows Azure 中实现 TCP/UDP 端口

> ID：15920001
> 
> 赞同：3
> 
> 时间：2013-04-10T07:51:44.693
> 
> 标签：azure, udp, tcplistener

我们希望在 Windows Azure 云服务上实现一个端口，并希望对我们的策略提供一些反馈。

我们目前的项目：

*   **作为*客户端运行的***物理 GPS 单元**。**
***   **作为*服务器运行的***Windows Azure 云服务**。****

 ****1) 物理 GPS 单元：我们使用 XT-4000[Xirgo Technologies] 物理 GPS 单元，这是一个强大的跟踪、监控和控制网关设备。该设备需要 UDP 或 TCP 端口进行通信。

2）Windows Azure云服务：这里我们需要打开一个TCP或UDP端口，并在那里有一个监听器，监听设备推送的传入数据[XT-4000]。

这就是我们认为我们的策略应该是什么。感谢所有建议。

*   在 Azure 上创建 TCP 端口。
*   设置监听器以接收来自设备的传入信号。

**[但问题是我们能否在 Windows Azure 云服务上创建 TCP 端口作为其基于云的平台，如果是，那么如何？]**

*另外两个问题：*

*   由于设备同时支持UDP或TCP端口进行通信，哪一个更好？

*   为了从设备接收信号到端口，我们需要任何第三方帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:09:41.327

您需要使用[Windows Azure 云服务](http://www.windowsazure.com/en-us/home/scenarios/cloud-services/)而不是[Windows Azure 网站](http://www.windowsazure.com/en-us/home/scenarios/web-sites/)。

对于云服务，您需要使用 Worker Role 来实现设备支持的协议。您可以选择 TCP 或 UDP - 任何您更喜欢编程的方式。您必须为您的云服务[定义一个输入端点](http://msdn.microsoft.com/en-us/library/windowsazure/hh369931.aspx)。

至于补充问题：

```
As the device supports both UDP or TCP port to communicate, which one is better? 
```

取决于设备支持的协议。我见过许多 GPS 设备使用的协议。从“只需发送并忘记”到“非常强大的错误检查和接收确认”。如果您的设备的协议类型是“只需发送并忘记”，那么 TCP 可能会更好，因为它更可靠。如果设备的协议容易出错并且进行验证/CRC-检查/接收确认，那么您可以使用 UDP。

> 为了从设备接收信号到端口，我们需要任何第三方帮助吗？

这取决于您的编程技能...

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-10T11:30:15.580

我们已经实现了在 Windows Azure 上成功运行的类似服务（车辆跟踪）。一些观察：

*   根据 astakov 的回答，您正在查看云服务（工作者角色）
*   Azure 同时支持 TCP 和 UDP，但如果可以选择，请选择 TCP。UDP 没有连接，设备无法知道您的服务是否已收到数据。我们被迫使用 UDP 并且必须向设备发送确认数据，否则它会被重新发送（我们实际上必须通过 UDP 编写我们自己的协议）。从您的服务器向设备发送 UDP 数据包可能会被移动网络防火墙规则（和其他网络配置）阻止。尽可能与 UDP 作斗争——UDP 的有损特性完全不适合车辆跟踪。
*   检查设备是否支持 DNS。其中许多设备只发送到 IP 地址，这使得部署有点棘手。
*   这些设备需要最小化传输的数据（因为 GSM 数据成本），并且通常以专有和压缩格式发送数据。您的大部分精力都将花在挑选二进制数据上。如果可以，请找到具有库的供应商，您可以使用该库在服务器端解码数据。在我们的特殊情况下（对于定制设计和制造的设备），仅对数据进行正确解码就需要大约 10 个人月的开发时间。****

# php - BIC 检查的正则表达式

> ID：15920008
> 
> 赞同：13
> 
> 时间：2013-04-10T07:51:58.803
> 
> 标签：php, regex, preg-match, bank, iban

我为 php 函数 pregmatch 编写了一个正则表达式，如下所示：

```
^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$^ 
```

现在我需要检查 BIC 字符串的一致性。

它有问题……它总是正确的。我不知道为什么。

我使用的代码是这样的：

```
/**
 * Checks the correct format from the 
 * @param string $bic
 * @return boolean
 */
public function checkBic($bic)
{
    $bic = $this->cleanFromSeparators($bic);
    if (preg_match($this->getBicCompare(), $bic)) {
        return true;
    } else {
        return false;
    }
}

private function getBicCompare()
{
    return "^([a-zA-Z]){4}([a-zA-Z]){2}([0-9a-zA-Z]){2}([0-9a-zA-Z]{3})?$^";
} 
```

编辑：

以下是 swift 帐户中 BIC 格式的一些参考：

[http://www.sage.co.uk/sage1000v2_1/form_help/workingw/subfiles/iban_and_bic.htm](http://www.sage.co.uk/sage1000v2_1/form_help/workingw/subfiles/iban_and_bic.htm)

[http://en.wikipedia.org/wiki/ISO_9362](http://en.wikipedia.org/wiki/ISO_9362)

[http://www.swift.com/products_services/bic_and_iban_format_registration_bic_details?rdct=t](http://www.swift.com/products_services/bic_and_iban_format_registration_bic_details?rdct=t)

一个示例 BIC 将是：

诺拉德21STS

OPSKATWW

仅当字符串包含以下代码时，正则表达式才应返回 true：其长度为 8 个或 11 个字符，并且包括：

银行代码 - 4 个字母字符 国家代码 - 2 个字母 位置代码 - 2 个字母数字字符，零除外 分行代码 - 3 个字母数字字符

这些是规格。

所以长度可以是 11 或 8，前 4 可以是任何东西，然后 2 个字母是必须的，然后是 2 个数字和可选的 3 个字母数字。

以下内容无效：

abcdefxx

abcdefxxyyy

这些也是无效的：

aaa11xx

aaaa11xxyyy

等等。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-10T07:59:30.680

您正在`^`用作分隔符吗？您可能想要更多类似的东西：

```
'/^[a-z]{6}[0-9a-z]{2}([0-9a-z]{3})?\z/i' 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-09-27T18:13:49.740

> 结构
> 
> 最新版本是 ISO 9362:2009（日期为 2009-10-01）。SWIFT 代码为 8 或 11 个字符，由以下部分组成：
> 
> 4 个字母：机构代码或银行代码。
> 
> 2 个字母：ISO 3166-1 alpha-2 国家代码
> 
> 2 个字母或数字：位置代码
> 
> 如果第二个字符是“0”，那么它通常是一个测试 BIC，而不是实际网络上使用的 BIC。如果第二个字符是“1”，那么它表示 SWIFT 网络中的被动参与者 如果第二个字符是“2”，那么它通常表示反向计费 BIC，其中收件人为消息付费，而不是更常见的发件人为消息付费的模式。
> 
> 3 个字母或数字：分公司代码，可选（“XXX”代表主要办事处）

（[http://en.wikipedia.org/wiki/ISO_9362](http://en.wikipedia.org/wiki/ISO_9362)）

（德语维基中的不同定义[http://de.wikipedia.org/wiki/ISO_9362](http://de.wikipedia.org/wiki/ISO_9362)）

> 2 个字母或数字：位置代码 第一个字符不能是数字“0”或“1”。字母“O”不允许作为第二个字符。（此定义的正则表达式：[2-9a-z][0-9a-np-z]）

```
'/^[a-z]{6}[2-9a-z][0-9a-np-z]([a-z0-9]{3}|x{3})?$/i' 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2018-08-27T16:58:14.313

这是用于验证 BIC 的官方 SEPA 模式

```
[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T14:07:15.350

我认为这个会做：

```
/^[a-z0-9]{4}[a-z]{2}\d{2}([a-z0-9]{3})?$/ 
```

那是：

1.  字符串的开头，`^`
2.  四个字母数字字符，`[a-z0-9]{4}`
3.  两个数字，`\d{2}`
4.  三个可选（`?`后缀）字母数字字符，`([a-z0-9]{3})?`
5.  字符串的结尾，`$`

您可以在[此处](http://regexr.com?34fk6)查看并对其进行测试（我使用了您的示例）。无论如何，根据您报告的规则，`OPSKATWW`它不应该是有效的 BIC，因为它在前 6 个字母后没有数字。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-02-12T09:19:01.257

**我不建议使用它，因为它缺乏性能**，但如果有人需要根据[ISO-3366-1](https://en.wikipedia.org/wiki/ISO_3166-1)国家代码验证 IBANS：

```
/^[A-Z]{4}(AC|AD|AE|AF|AG|AI|AL|AM|AN|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CE|CF|CG|CH|CI|CK|CL|CM|CN|CO|CP|CR|CS|CU|CV|CW|CX|CY|CZ|DD|DE|DG|DJ|DK|DM|DO|DZ|EA|EC|EE|EG|EH|ER|ES|ET|EU|FI|FJ|FK|FM|FO|FR|FX|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|IC|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NT|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SF|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SU|SV|SX|SY|SZ|TA|TC|TD|TF|TG|TH|TJ|TK|TL |TM|TN|TO|TP|TR|TT|TV|TW|TZ|UA|UG|UK|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|XK|YE|YT|ZA|ZM|ZR|ZW)[2-9A-Z][0-9A-NP-Z](XXX|[0-9A-WYZ][0-9A-Z]{2})?$/i 
```

这也是内容验证，而不仅仅是格式验证。但它会为您节省一些代码:)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-03-25T14:07:20.573

```
echo preg_match('/^[A-Z]{4}(AC|AD|AE|AF|AG|AI|AL|AM|AN|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BL|BM|BN|BO|BQ|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CE|CF|CG|CH|CI|CK|CL|CM|CN|CO|CP|CR|CS|CU|CV|CW|CX|CY|CZ|DD|DE|DG|DJ|DK|DM|DO|DZ|EA|EC|EE|EG|EH|ER|ES|ET|EU|FI|FJ|FK|FM|FO|FR|FX|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|IC|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MF|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NT|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SF|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|SS|ST|SU|SV|SX|SY|SZ|TA|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TP|TR|TT|TV|TW|TZ|UA|UG|UK|UM|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|XK|YE|YT|ZA|ZM|ZR|ZW)[2-9A-Z][0-9A-NP-Z]([A-Z0-9]{3}|x{3})?$/',$val); 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2013-04-10T10:55:40.193

好的。对于所有对此类问题有相同问题的人，正确的正则表达式是：

```
/^[0-9a-z]{4}[a-z]{2}[0-9a-z]{2}([0-9a-z]{3})?\z/i 
```

你的@Qtax 提供它。我只是稍微改进了一下。

编辑调整是我改变了它，所以前 4 个字母可以是字母数字，但后面的 2 个字母必须代表一个国家的国际代码。这就是为什么只有字母。我与具有实际使用代码的实际用户进行了检查。它们可以在前 4 个位置具有数值。

**编辑：**

我错了。前 4 个不能只有字母。我正在转达 Reifeisen Bank 的一名员工的一份声明，当时我正在讨论该标准。原来他在想银行内部的号码，不知道什么系统不能是有效的代码。事实证明，情况并非如此。

所以正确的语法是

```
/^{6}[a-z]{2}[0-9a-z]{2}([0-9a-z]{3})?\z/i 
```

将标记正确答案。谢谢你指出。

# java - Eclipse 在哪个操作系统下最健壮？

> ID：15920012
> 
> 赞同：8
> 
> 时间：2013-04-10T07:52:03.270
> 
> 标签：java, android, xml, operating-system

Eclipse 是使用 Java 6 开发的，因此使用 Java 6 的最新稳定版本...

在哪个操作系统下，例如。Windows 7、Funduntu、Ubuntu 或 MacOSX 是 Eclipse 最强大的吗？

提问原因：

我和许多其他人一样，认为 Eclipse 是开发 Android 应用程序的最佳 IDE。但是，这并不意味着它非常好。我认为它不是很好的原因是因为它已被开发为与尽可能多的系统设置兼容。这是一项不可能完成的任务。事实上，找到一个完美运行的单一设置被证明是非常困难的，但我至少会找到一个。

编辑：

似乎以前从未比较过不同的操作系统，因此我将在接下来的几周内进行测试并在此处报告我的发现。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T07:54:45.627

Eclipse 提供适用于所有主要操作系统的构建和软件包，因此请从此处选择您的选择：

[http://www.eclipse.org/downloads/](http://www.eclipse.org/downloads/)

检查右上角的下拉列表。

这是我在开发 Android 时的第一个也是唯一的选择（Eclipse）。它是免费的。

PS 然后我会全心推荐：Linux OS 任何版本。它速度很快，没有 Win OS 的问题。而且速度更快，性能更好。

我现在发现了这篇有趣的文章：[http ://www.linux.com/news/software/applications/708977-the-2013-top-7-best-linux-distributions-for-you](http://www.linux.com/news/software/applications/708977-the-2013-top-7-best-linux-distributions-for-you)

> 最佳桌面发行版
> 
> 今年桌面 Linux 有如此多的优秀竞争者，以至于它变得比以往任何时候都更加困难——这确实说明了一些问题。
> 
> Canonical 的 Ubuntu 在提升 Linux 在公众眼中的知名度方面取得了长足的进步，当然，Linux Mint 和 Fedora 也是非常强大的选择。然而，关于 Ubuntu，在过去一年左右的时间里出现了一些问题，包括在搜索中包含在线购物结果——Richard Stallman 和 EFF 称之为“间谍软件”。</p>
> 
> 富顿兔标志
> 
> 与此同时，由 Unity 和 GNOME 3 等移动端桌面带来的剧变继续有增无减，推动了 MATE 和 Cinnamon 等更具经典思想的新桌面以及全新发行版的推出。
> 
> 对于最好的桌面 Linux 发行版，我必须选择 Fuduntu，这是一种新的后起之秀。最初基于 Fedora 但后来分叉，Fuduntu 提供了一个经典的 GNOME 2 界面——为桌面开发，而不是为移动设备开发——并且通常似乎一切都正确。
> 
> 除了提供许多 Linux 用户明确表示他们喜欢的经典桌面之外，Fuduntu 还享有作为滚动发布发行版的所有优势，其存储库包括 Netflix 和 Steam 等关键软件包。我已经使用了几个月了

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-10T08:20:06.057

我会使用直接的评论回复，但我的堆栈排名还没有完全到位。

您在上面提到了不喜欢 eclipse 的原因，因为它不使用注册表并且看起来不像 Windows 操作系统 UI 元素。这不仅仅是日食，这通常是 Java 中大多数事情的方式。Java 应用程序在其用户界面中使用 windows 样式并非不可能，但我想说大多数 Java 应用程序不会投入其中。实际上，这没有理由吓跑您，并且您会遇到在其他基于 Java 的 IDE 中进行 Android 开发时所引用的相同事情。例如，IntelliJ 做了很多相同的事情。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-10T08:19:23.880

它应该在每个操作系统上快速运行。我最近读到，如果您使用除 sun 之外的其他 jdk，则 eclipse 在 linux 上会更慢。有一些技巧可以加快你的 IDE：

*   禁用参考中不必要的验证
*   禁用不需要的插件
*   配置 eclipse.ini 应该[基于您的 RAM](http://wiki.eclipse.org/Eclipse.ini) - 增加`XX:PermSize`并`Xms`匹配您的 RAM

我认为这是一个很棒的技巧：在内存上创建一个 ram 磁盘（虚拟磁盘），并将你的 jdk 放在这个 ram 磁盘上。例如使用 imdisk。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T08:08:29.600

您没有描述困扰您的问题，是 Eclipse 本身吗？上传到模拟器？在模拟器上调试？

有很多方法可以提高 Eclipse/Android 性能。最简单的是安装 Linux :)

我有一台装有 Windows 7 和 Ubuntu 11.10 的双启动机器。在 Windows 上完成某些任务需要更长的时间（但我没有使用手表，所以我可能错了）。示例是启动模拟器并将应用程序上传到模拟器。

与 Windows 并排安装 Ubuntu 非常简单，因此您可以轻松尝试，请让我们知道结果。

另外：使用适合您机器的固定堆大小启动 Eclipse：

```
eclipse -data "your-workspace" -vmargs -Xms1024m -Xmx1024m -XX:PermSize=1024m -XX:MaxPermSize=1024m 
```

最后：至少有些人认为您应该始终从 AVD 管理器而不是调试器启动模拟器。

希望这会有所帮助/Yaron

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-10T08:00:01.923

这个答案是通用的，但实际上：这完全取决于你。Java 应该是完全独立于平台的，并且你拥有一台和你一样强大的计算机，我怀疑有很多事情你将无法做到。为了易于使用，我会简单地使用最喜欢的操作系统，而不管您现在将它用于 eclipse 的事实。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-10T08:57:56.027

Eclipse 非常适合在 Windows 和 Linux 上进行 Android 开发。这是由于它的构建方式，它使用 Java 并且不依赖于任何操作系统细节。

您引用的问题并非特定于操作系统，而是特定于您的安装。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-10T07:55:45.987

在我看来，最好的选择是免费使用[IntelliJ IDEA](http://www.jetbrains.com/idea/)进行 Android 开发。

编辑：在 Win、Mac、Linux 上可用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-04-10T08:02:03.933

```
 which environment is best for Android development? 
```

> 操作系统 Windows XP（32 位）、Vista（32 或 64 位）或 Windows 7（32 或 64 位） Mac OS X 10.5.8 或更高版本（仅限 x86） Linux（在 Ubuntu Linux 上测试， Lucid Lynx) 需要 GNU C 库 (glibc) 2.7 或更高版本。在 Ubuntu Linux 上，需要 8.04 或更高版本。64 位发行版必须能够运行 32 位应用程序。

这是从[android.developer.com复制数据的图片](http://developer.android.com/sdk/index.html)

# php - 从常量类文件中访问常量

> ID：15920016
> 
> 赞同：0
> 
> 时间：2013-04-10T07:52:18.053
> 
> 标签：php

```
 class Constants
    {
            public static $url1      = "http=//url1";
            public static $url2       = Constants::$url1."/abc";
    } 
```

我想在课堂上访问常量，但我做不到。我该怎么做 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T07:54:24.000

而不是使用`Constants::`你应该使用`self::`来访问类变量。例如：

```
public static $url2 = self::$url1 . "/abc"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T07:57:03.920

这不是一个常数。这是一个静态属性。

您也不能`self`用作值：

```
public static $url2 = self::$url1."/abc"; // will throw error 
```

您必须在构造函数中初始化：

```
class Constants
{
    public static $url1 = "http=//url1";
    public static $url2;

    public function __construct(){
        self::$url2 = self::$url1."/abc";
    }
}

$const = new Constants();
echo $const::$url2;
//or if the class is initialized
echo Constants::$url2; 
```

另一种选择是制作一个静态方法：

```
class Constants
{
    public static $url1 = "http=//url1";        

    public static function getUrl2(){
        return self::$url1."/abc";
    }
}

echo Constants::getUrl2(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:01:26.707

只需查看以下代码。

从类定义之外

```
 <?php
    class MyClass {
        const CONST_VALUE = 'A constant value';
    }

    $classname = 'MyClass';
    echo $classname::CONST_VALUE; // As of PHP 5.3.0

    echo MyClass::CONST_VALUE;
    ?> 
```

从类定义内部

```
 <?php
    class OtherClass extends MyClass
    {
        public static $my_static = 'static var';

        public static function doubleColon() {
            echo parent::CONST_VALUE . "\n";
            echo self::$my_static . "\n";
        }
    }

    $classname = 'OtherClass';
    echo $classname::doubleColon(); // As of PHP 5.3.0

    OtherClass::doubleColon();
    ?> 
```

# iphone - MBProgressHUD object not show when do requestAccessToEntityType for EKEntityTypeEvent

> ID：15920022
> 
> 赞同：0
> 
> 时间：2013-04-10T07:52:35.930
> 
> 标签：iphone, xcode, ios6, eventkit, ekevent

I want to show the MBProgressHUD object - progressHud during process auto add about 100 events to calendar. Here is codes when i touch on the button to do this task.

```
- (IBAction)add_event_for_test:(id)sender{
    self.progressHud = [[MBProgressHUD alloc] initWithView:self.view];
    self.progressHud.labelText = @"Adding some events to test";
    self.progressHud.detailsLabelText = @"Please wait...";
    [self.view addSubview:self.progressHud];
    [self.progressHud showWhileExecuting:@selector(add_more_event_execute:) onTarget:self withObject:nil animated:YES]; 
} 
```

In the add_more_event_execute function below if i try to request access to entity type for EKEntityTypeEvent to add the new event to calendar in iOS6 then the progressHud shows and hides immediately. **I need the progressHud is shown until all events add to calendar completely.** The progressHud works well if i don't request Access and run it in iOS5\.

```
- (void) add_more_event_execute: (id)object{

    @autoreleasepool {
        eventStore=[[EKEventStore alloc] init];
        if([eventStore respondsToSelector:@selector(requestAccessToEntityType:completion:)]) {

            // iOS 6 and later
            [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {

                if (granted){
                // now add 100 event to calendar
                    int i = 0;
                    while (i < 100) {
                        EKEvent *addEvent=[EKEvent eventWithEventStore:eventStore];
                        NSString *tmp1 = @"Title iOS6: ";
                        tmp1 = [tmp1 stringByAppendingString:[NSString stringWithFormat: @" %d",i]];
                        addEvent.title = tmp1;

                        NSCalendar *calendar = [NSCalendar currentCalendar];
                        NSDateComponents *components = [calendar components:(NSYearCalendarUnit | NSMonthCalendarUnit ) fromDate:[NSDate date]];
                        [components setMonth:0];
                        [components setDay:i - 50]; //reset the other components
                        [components setYear:0]; //reset the other components
                        NSDate *dayi = [calendar dateByAddingComponents:components toDate:[NSDate date] options:0];
                        addEvent.startDate = dayi;
                        addEvent.endDate = [addEvent.startDate dateByAddingTimeInterval:600];
                        [addEvent setCalendar:[eventStore defaultCalendarForNewEvents]];

                        NSError *err;
                        [eventStore saveEvent:addEvent span:EKSpanThisEvent error:&err];
                        if (err == nil) {
                            NSString* str = [[NSString alloc] initWithFormat:@"%@", addEvent.eventIdentifier];
                            NSLog(@"String iOS6 %d: %@ ngay:%@ ",i, str,addEvent.startDate);
                        }
                        else {
                            NSLog(@"Error %@",err);
                        }
                        i++;
                    } 
                }
                else
                {
                    //----- codes here when user NOT allow your app to access the calendar.
                }

            }];

        }
    }
} 
```

Please explain my issue and give me a solution. Thanks!

# asp.net - ASP.net resolve url in css external file

> ID：15920035
> 
> 赞同：0
> 
> 时间：2013-04-10T07:53:14.070
> 
> 标签：asp.net, css

I separate the css from the *.aspx file. When this

```
background-image: url('<%=Page.ResolveUrl("~/Themes/Red/Images/Contestant/1.jpg)%>';) 
```

was in the aspx file it worked, and now it's not working.

do you know any other way ?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T07:55:22.270

这里的`scriptlet`and`~`是特定于 aspx 文件的，不能在 css 中使用。

*改变*

```
background-image: url('<%=Page.ResolveUrl("~/Themes/Red/Images/Contestant/1.jpg)%>';) 
```

*至*

```
background-image: url('/Themes/Red/Images/Contestant/1.jpg') 
```

*以上假设 Themes 文件夹位于您网站的根目录。*

给出相对于的路径`css`

```
background-image: url('Themes/Red/Images/Contestant/1.jpg') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:44:51.810

这就是解决我的问题的方法

```
background: url(../../../image.png) 
```

# java - Netbeans 中未报告的异常：有些是，有些不是

> ID：15920038
> 
> 赞同：0
> 
> 时间：2013-04-10T07:53:17.887
> 
> 标签：java, exception, ide, netbeans-7

我正在使用 IDE **Netbeans7.3**进行**Java**开发。有一些奇怪的事情我无法对自己解释，所以请帮助我理解。

我向班级宣布。第一个继承自`Exception`：

```
public class MyParameterException extends Exception{        
    public MyParameterException(){
        super();
    }        
    public MyParameterException(String message){
        super(message);
    }
} 
```

第二个继承自 NullPointerException：

```
public class NullMyParameterException extends NullPointerException{
    public NullMyParameterException(){
        super();
    }        
    public NullMyParameterException(String message){
        super(message);
    }
} 
```

现在，当我在一个类中创建一个方法并编写：

```
public void test(String s){
    if(s==null) throw new NullMyParameterException("The input string is null."); 
    if(s.trim().isEmpty()) throw new MyParameterException("The input string is empty.");
} 
```

对我来说奇怪的是，我`unreported exception MyParameterException must be caught or declared to be thrown`从 IDE 收到了消息，但没有提到我可以在方法中抛出的第一个异常。

据我所知，该方法应声明如下：

```
public void test(String str) throws MyNullParameterException, MyParameterException 
```

但对于 Netbeans 来说就足够了：

```
public void test(String str) throws MyParameterException 
```

这是：

*   一个 IDE 错误。
*   正常，因为继承自的类`NullPointerException`是特殊的。
*   ...

请让我理解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T07:58:20.790

阅读有关运行时异常和常规异常的信息。[http://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html](http://docs.oracle.com/javase/6/docs/api/java/lang/RuntimeException.html)

编译器不检查运行时异常。IDE 使用编译器来获取此信息。如果您从命令提示符编译，将看到相同的输出

您也应该看到这一点[Unchecked exception 或 runtime exception 之间的区别](https://stackoverflow.com/questions/2699580/difference-between-unchecked-exception-or-runtime-exception)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T07:57:52.210

您不会收到有关 NullPointerException 的警告 - 这是未经检查的异常，应该检查您的异常。您应该更改您的程序，NullMyParameterException 也应该扩展 Exception，并且您应该声明这些异常将通过以下方式在方法中抛出：

```
public void test(String s) throws MyParameterException, NullMyParameterException 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T07:59:50.870

这是正常的。当您扩展`RuntimeException`（在您的情况下为 NPE）时，您不需要将该方法声明为抛出它。

对于已检查的异常（在您的情况下为 MyParameterException），您必须声明该方法`throws MyParameterException`才能抛出它。

您可以阅读有关已[检查与未检查异常的更多信息](https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation)

# python - BeautifulSoup：如何选择某个标签

> ID：15920039
> 
> 赞同：5
> 
> 时间：2013-04-10T07:53:18.927
> 
> 标签：python, beautifulsoup

我对美味的汤如何起作用感到困惑，当你想螃蟹一个标签的孩子时。所以，我有以下 HTML 代码

```
<div class="media item avatar profile">
<a href="http://..." class="media-link action-medialink">
<img class="media-item-img" src="http://...jpeg" alt="name" title="name" width="150" height="200">
</a>
</div> 
```

我想获取 src 标签。我正在使用以下代码：

```
soup = BeautifulSoup(file_)
for x in soup.find('div', attrs={'class':'media item avatar profile'}).findNext('img'):
    print x 
```

这将打印整个 img 标签。我如何只选择 src ？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T07:55:44.203

`src`[是标签](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#attributes)的一个[*属性*](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#attributes)。获得标签后，像访问字典键一样访问属性；您只找到了`a`标签，因此您也需要导航到包含的`img`标签：

```
for x in soup.find_all('div', attrs={'class':'media item avatar profile'}):
    print x.a.img['src'] 
```

您使用的代码`findNext()`返回一个*标签*对象；循环给你孩子，对象`x`也是如此`img`。我将其更改为更直接和更清晰。`x`现在是`div`, 我们直接导航到第一个`a`包含的`img`标签。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-10T08:02:26.087

我想你会想要这样的东西：

```
soup.find('div', attrs={'class':'media item avatar profile'}).a.img['src'] 
```

* * *

```
In [1]: from bs4 import BeautifulSoup

In [2]: html = """\
   ...: <div class="media item avatar profile">
   ...: <a href="http://..." class="media-link action-medialink">
   ...: <img class="media-item-img" src="http://...jpeg" alt="name" title="name" width="150" height="200">
   ...: </a>
   ...: </div>"""

In [3]: soup = BeautifulSoup(html)

In [4]: soup.find('div', attrs={'class':'media item avatar profile'}).a.img['src']
Out[4]: 'http://...jpeg' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:06:43.013

`findNext`返回与给定条件匹配并出现在文档中给定标签之后的第一个项目。请注意，这意味着它返回的任何标签都不能保证是给定标签的**子**标签（例如标签的子`div`标签。）

用于`findChildren`限制给定标签的孩子：

```
import BeautifulSoup as bs

file_ = '''<html>
<div class="media item avatar profile">
<a href="http://..." class="media-link action-medialink">
<img class="media-item-img" src="http://...jpeg" alt="name" title="name" width="150" height="200">
</a>
</div>  
</html>
'''
soup = bs.BeautifulSoup(file_)
for x in soup.find(
        'div', attrs={'class':'media item avatar profile'}).findChildren('img'):
    print(x['src']) 
```

产量

```
http://...jpeg 
```

# mysql - 当格式为月份 YYYY 时，计算月份的日期差异

> ID：15920045
> 
> 赞同：1
> 
> 时间：2013-04-10T07:53:33.937
> 
> 标签：mysql, datediff

我已将日期存储在两列中，例如：

```
from          |   to
----------------------
January 2012  | March 2013    
July 2011     | June 2013 
```

我怎样才能得到这两个日期在几个月内的差异？

我希望第一行的输出为15，第二行**的**输出为**11**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:27:55.933

您应该使用函数[`str_to_date()`](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)将字符串转换为实际`DATE`类型。之后，您可以[`period_diff()`](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_period-diff)用来计算月份的差异，但您必须将日期转换[`date_format()`](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)为受支持的格式`period_diff`（令人困惑的是，它不是日期）。

最终的 SQL 是（[SQLFiddle Demo](http://www.sqlfiddle.com/#!2/6993e/1)）：

```
SELECT period_diff(
    date_format(str_to_date(`to`,   '%M %Y'), '%Y%m'),
    date_format(str_to_date(`from`, '%M %Y'), '%Y%m'))
FROM mytable 
```

不过请注意：我不太明白您从哪里得到**15**和**11**。此查询给出了月份之间的差异`from`，对于您的数据，它分别是和。只是为了演示，我还将当前月份添加为和，它确实计算为 0 差异。`to``14``23``from``to`

# sql-server - 在 Microsoft SQL 中理解 ISO_week 和 week 的困难，到底发生了什么？

> ID：15920046
> 
> 赞同：2
> 
> 时间：2013-04-10T07:53:43.233
> 
> 标签：sql-server

我有一组 8 个月左右的数据，部分是 2012 年的数据，部分是 2013 年的数据。我不确定这是否是一种文化问题，但我是荷兰人，我相信数据库中的数据应该按照[这个](http://en.wikipedia.org/wiki/ISO_8601)标准来解释。

所以我写了两个查询，一个使用常规周表达式，一个使用 ISO_week，这个查询看起来像这样：

```
SELECT datepart(ISO_WEEK,date_dtm) as date_detail,
datepart(yyyy,date_dtm) as date_year, 
(sum(sum_value)/sum(user_count)) as value 

FROM kpi_record 
WHERE kpi_series_id = '15'
AND date_dtm > dateadd(ww,-12,'2013-02-28 00:00:00.000')
group by datepart(ISO_WEEK,date_dtm), datepart(yyyy,date_dtm)
ORDER BY datepart(yyyy,date_dtm), datepart(ISO_WEEK,date_dtm)

--

SELECT datepart(ww,date_dtm) as ww,
datepart(yyyy,date_dtm) as date_year, 
(sum(sum_value)/sum(user_count)) as value 

FROM kpi_record 
WHERE kpi_series_id = '15'
AND date_dtm > dateadd(ww,-12,'2013-02-28 00:00:00.000')
group by datepart(yyyy,date_dtm), datepart(ww,date_dtm)
ORDER BY datepart(yyyy,date_dtm), datepart(ww,date_dtm) 
```

这两个查询的结果分别是：

```
1   2012    7,14
49  2012    7,31475409836066
50  2012    7,39261285909713
51  2012    7,47905477980666
52  2012    7,30618401206636
1   2013    7,49925705794948
2   2013    7,26598837209302
3   2013    7,24533333333333
4   2013    7,22245989304813
5   2013    6,96774193548387
6   2013    7,24523160762943
7   2013    7,14718019257221
8   2013    7,34691195795007
9   2013    7,23430962343096 
```

和

```
49  2012    7,4537037037037
50  2012    7,33109017496635
51  2012    7,4656652360515
52  2012    7,36874051593323
53  2012    7,13888888888889
1   2013    7,50515463917526
2   2013    7,33190271816881
3   2013    7,17693315858453
4   2013    7,24209378407852
5   2013    7,0201072386059
6   2013    7,19281914893617
7   2013    7,17278911564626
8   2013    7,3283378746594
9   2013    7,24733096085409 
```

我的问题，按这个顺序，是：

*   在第二个查询中（使用常规 ww），本周 53 保存了哪些数据？据我了解，这是进入 2013 年的几天，但仍属于第 52 周，但由于这一年即将结束，因此为那些日子增加了一周。这个对吗？如果没有，请赐教。
*   在第一个查询 (iso_week) 中，第 1 周是几？我相信这是第二个查询（常规 ww）中看到的第 53 周。但它应该是 2013 年的第一周，或者可能添加到 2013 年的第一周？我很难理解这里发生了什么。
*   即使解释了这一点，我也不太明白为什么要返回 14 行数据。通过我的查询，我想从我提供的日期开始返回 12 周（例如硬编码）。我怎么可能每周获得 12 行合法数据，而不是 13 或 14 行？如果我使用天而不是星期，它会追溯到 12 天，因此我有 12 行返回给我。

谢谢你的帮助，我希望我是有道理的。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-10T08:23:28.517

[ISO](http://en.wikipedia.org/wiki/ISO_week_date)标准定义了一年中的第一周（每周是周一到周日），其中 4 天或更多天属于该周（即一周的大部分时间在该年），可以简化为一年的第一周包含一个星期四。

`DATEPART(WEEK`, 更加简单，它只是`DATEFIRST`自年初以来经过的周边界数（由 定义）的计数，始终从 1 开始，因此您可以连续三天获得三个不同的周数，如下所示：

```
SET DATEFIRST 3;
SELECT  [20121231] = DATEPART(WEEK, '20121231'),
        [20130101] = DATEPART(WEEK, '20130101'),
        [20130102] = DATEPART(WEEK, '20130102'); 
```

在尝试分析 12 周的数据时获得 14 行的原因有 2 个促成因素，原因适用于 ISO_WEEK 和 WEEK，您的日期范围是 20121206 到 20130228，即使这些日期相隔 12 周，如果您DATEFIRST 与开始日期和结束日期的工作日不匹配，则您的日期范围将跨越 13 周。

ISO_WEEK 函数中的第 14 行是因为没有 ISO_YEAR 函数，在 ISO 标准中，2013 年第 1 周从 2012 年 12 月 31 日开始，但是因为`DATEPART(YEAR`为此给出了 2012 年，所以它将第 1 周分为 2 行：

```
Year    Week    DaysInRow
2012    1       1
2013    1       6 
```

使用WEEK时的第14周，由于计算方法简单，同一周（2012年12月31日-2013年1月6日）也分为2周，但如下

```
Year    Week    DaysInRow
2012    53      1
2013    1       6 
```

如果你有一个[日历表](http://weblogs.sqlteam.com/dang/archive/2010/07/19/calendar-table-and-datetime-functions.aspx)，那么你应该有 ISO_YEAR 和 ISO_WEEK 列，所以（如果你不添加它们）你很容易看到 20121231 是 2013 年的第 1 周，如果你没有日历表（我'd 建议您创建一个）您可以创建自己的 UDF：

```
CREATE FUNCTION dbo.ISO_YEAR @Date DATETIME
RETURNS INT
AS
BEGIN
    DECLARE @ISOyear INT = DATEPART(YEAR, @Date);

    -- Special cases: Jan 1-3 may belong to the previous year
    IF (DATEPART(MONTH, @DATE) = 1 AND DATEPART(ISO_WEEK, @DATE) > 50)
        SET @ISOyear = @ISOyear - 1;

    -- Special case: Dec 29-31 may belong to the next year
    IF (DATEPART(MONTH, @DATE) = 12 AND DATEPART(ISO_WEEK, @DATE) < 45)
        SET @ISOyear = @ISOyear + 1;

    RETURN @ISOYear;
END 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-03-15T11:43:02.677

我使用下面更简单的代码来给我一个可靠的 ISO 年份：

```
DATEPART(YY, @TheDate - (DATEPART(DW, @TheDate) - 4)) 
```

……我写了下面的 UDF——包括上面的片段——给我一个可靠的 ISO 年周字符串，我可以用它来报告或按周数排序。

UDF 强制使用**两个**字符的星期字符串，以避免（例如）**2016-9**排序*在* **2016-10**之后的“陷阱” （我敢打赌，您已经去过那里并这样做了；*我*当然有！）：

```
CREATE FUNCTION [dbo].[ISOYearAndWeek] 
(@TheDate DATETIME) RETURNS NCHAR(7) AS
BEGIN

  DECLARE @Result NCHAR(7)

  SELECT @Result = 
    CONVERT(CHAR(4), DATEPART(YY, @TheDate - (DATEPART(DW, @TheDate) - 4)))
    + '-'
    + CONVERT(CHAR(2), RIGHT('00' + CONVERT(VARCHAR(2), DATEPART(ISOWK, @TheDate)), 2)) 

    RETURN @Result

END 
```

# java - 将我的外部存储文件中的图像读入原生 c (openCV) Android

> ID：15920054
> 
> 赞同：0
> 
> 时间：2013-04-10T07:54:19.657
> 
> 标签：java, android, opencv, external, native

我需要将一些数据从java传递到OpenCV，我尝试将它保存到外部存储文件中，我知道如何在java中读取它，但我不知道如何在opencv（native c）中读取它所以我猜问题是，如何从我的外部存储文件（知道路径）中读取一些图像到本机 c（openCV）中，我需要图像的像素值来进行特征提取。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:01:35.840

`byte[]`您不介意在 java 端广告上读取数据然后将该数组传递到`JNI`端吗？

```
File f = new File("/path");
BufferedImage bufferedImage = ImageIO.read(f);

WritableRaster raster = bufferedImage.getRaster();
DataBufferByte data = (DataBufferByte) raster.getDataBuffer();

byte[] array = data.getData();

invokeJNIMethodWithOpenCL(array);

//....
private native void invokeJNIMethodWithOpenCL(byte[] array); 
```

# ios - 如何导航到 UIWebview？

> ID：15920058
> 
> 赞同：-4
> 
> 时间：2013-04-10T07:54:30.940
> 
> 标签：ios, objective-c, uiwebview

我只想导航到 UIWebview。在 didSelectRowAtIndexPath 中，我编写了以下代码：

```
NSString *urlAddress = [[statuses objectAtIndex:indexPath.row] valueForKey:@"LoginUrl"];
NSURL *url = [NSURL URLWithString:urlAddress];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url]; 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T07:58:20.043

你需要一个 UIWebView 的实例。然后你可以告诉 WebView 通过加载 URL 请求

```
[yourWebView loadRequest:requestObj]; 
```

# spring - Sitemesh3 POST 失败

> ID：15920061
> 
> 赞同：1
> 
> 时间：2013-04-10T07:54:32.360
> 
> 标签：spring, sitemesh

重新发布 SpringMVC [3 405 - 不支持请求方法“POST”](https://stackoverflow.com/questions/15878935/springmvc-3-405-request-method-post-not-supported?noredirect=1#comment22656576_15878935)

**HTML**

```
<form action="testPost" method="post"> 
    <input type="submit" value="Submit" />
</form> 
```

**动作（SpringMVC）**

```
@RequestMapping(value="testPost", method = RequestMethod.POST)
    public String testPost(){
      return "shared/post";
} 
```

在添加 sitemesh3 过滤器之前，这个“post”方法完美执行的提交操作，

但是一旦添加了 sitemesh3 过滤器，如果将 HTML 和操作都更改为 GET，仍然可以正常工作，但是如果我更改为 POST，则会调用该操作，但返回“405 - 不支持请求方法 'POST'”

所以我认为sitemesh3在对客户端的动作响应时改变了一些东西。我查看了sitemesh3的源代码，但没有发现任何有价值的东西。

有人可以帮忙吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-02T21:32:10.290

我不确定这是否与您的设置有关，但我遇到了同样的错误（不支持 405-post）

最初我认为它与站点网格有关。但是，当我在我的情况下对其进行更多研究时，这是因为我使用`<mvc:resources /`> 来提供到装饰器的静态映射。

这是`<mvc:resources />`因为 sitemesh 试图使用 Post 请求访问它，所以不接受装饰器文件的 post 请求。

我更改了装饰器文件的映射以确保它是静态的并响应 POST 和 GET 请求。更多细节在这里[Spring：不接受 mvc:resources 下的 POST 请求？如何解决这个问题](https://stackoverflow.com/questions/15588001/spring-not-accept-post-request-under-mvcresources-how-to-fix-that)

我使用的代码是

```
<bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
 <property name="urlMap">
     <map>
          <entry key="/DecTest/**" value="myResourceHandler" />
     </map>
 </property>
 <property name="order" value="100000" />       
</bean>

<bean id="myResourceHandler" name="myResourceHandler"
      class="org.springframework.web.servlet.resource.ResourceHttpRequestHandler">
      <property name="locations" value="/DecTest/" />
      <property name="supportedMethods">
         <list>
            <value>GET</value>
            <value>HEAD</value>
            <value>POST</value>
         </list>
     </property>
     <!-- cacheSeconds: maybe you should set it to zero because of the posts-->
</bean> 
```

# c++ - SFML 平台游戏与地图图块发生冲突

> ID：15920062
> 
> 赞同：0
> 
> 时间：2013-04-10T07:54:36.347
> 
> 标签：c++, sfml

嗨，只是一个简单的问题。想知道用我设置的地图图块实现碰撞的最佳方法是什么。我打算为玩家设置一个矩形并检查它是否与实心矩形相交。我唯一的问题是，由于某种原因，如果我在头文件中声明我的矩形，它会给我一个错误。这意味着我无法检查我的玩家是否与我的地图图块相交，因为我无法在玩家类中使用我的地图类中的矩形，反之亦然。任何帮助将非常感激。

这是我的地图类：

```
#include "Map.h"
#include "Block.h"
#include <sstream>
using namespace std;
Map::Map()
{
    //map ctor;
}

Map::~Map()
{
    // map dtor
}

sf::Shape rect = sf::Shape::Rectangle(0, 0, BLOCKSIZE, BLOCKSIZE, sf::Color(255, 255, 255, 255));
void Map::Initialise(const char *filename)
{
    MapImage.LoadFromFile("Images/block.png");
    std::ifstream openfile(filename);
    std::vector <int>  tempvector;
    std::string line;

    while(std::getline(openfile, line))

    {

        for(int i =0; i < line.length(); i++)
        {
            if(line[i] != ' ') // if the value is not a space
            {
                char value = line[i];
                tempvector.push_back(value - '0');
            }

        }
            mapVector.push_back(tempvector); // push back the value of the temp vector into the map vector
            tempvector.clear(); // clear the temp vector readt for the next value
    }

}

    void Map::DrawMap(sf::RenderWindow &Window)
            {
                sf::Color rectCol;
                sf::Sprite sprite;
                for(i = 0; i < mapVector.size(); i++)
                {
                    for(j = 0; j < mapVector[i].size(); j++)
                    {
                        if(mapVector[i][j] == 0)
                            rectCol = sf::Color(44, 117, 255);

                        else if(mapVector[i][j] == 1)
                            rectCol = sf::Color(255, 100, 17);

                        rect.SetPosition(j * BLOCKSIZE, i * BLOCKSIZE);
                        rect.SetColor(rectCol);
                        Window.Draw(rect);

                    }

                }
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T09:34:47.937

您可以创建另一个类来处理地图和玩家类。对于碰撞，我建议您使用 AABB（轴对齐边界框）并验证每一帧的碰撞。

# c# - WPF 应用程序中的全屏显示

> ID：15920067
> 
> 赞同：111
> 
> 时间：2013-04-10T07:54:53.627
> 
> 标签：c#, wpf, xaml, fullscreen

我正在开发一个 WPF 应用程序，它将以全屏显示。此外，该应用程序应该适用于许多多维度的平板电脑。我希望我的应用程序独立于其尺寸以全屏运行。

完成此任务的最佳实践是什么？

* * *

## 回答 #1

> 赞同：206
> 
> 时间：2013-04-10T07:58:08.787

只需设置`WindowState`to`Maximized`和`WindowStyle`to `None`。

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2016-01-17T17:29:18.013

将 WindowStyle 设置为 None，并将 WindowState 设置为 Maximized。这可以这样做：

```
WindowState = WindowState.Maximized;
WindowStyle = WindowStyle.None; 
```

或者在 xaml 中：

```
<Window x:Class="FullScreenApplication.Window"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Full Screen WPF"
    WindowState="Maximized"
    WindowStyle="None"> 
```

只需单击 ALT-TAB 即可退出全屏 wpf。它允许您在其他应用程序之间切换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-01-30T18:10:33.323

*   **WindowState.最大化**
*   **SizeToContent.Manual**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-06-01T15:18:37.577

全屏：

```
oldstate = WindowState;
WindowState = WindowState.Maximized;
Visibility = Visibility.Collapsed;
WindowStyle = WindowStyle.None;
ResizeMode = ResizeMode.NoResize;
Visibility = Visibility.Visible;
Activate(); 
```

回去：

```
WindowState = oldstate;
WindowStyle = WindowStyle.SingleBorderWindow;
ResizeMode = ResizeMode.CanResize; 
```

# python - 增加矩阵中的给定索引

> ID：15920070
> 
> 赞同：6
> 
> 时间：2013-04-10T07:55:01.810
> 
> 标签：python, numpy

简而言之：有一个[类似的问题](https://stackoverflow.com/questions/2004364/increment-numpy-array-with-repeated-indices)，最好的答案建议使用`numpy.bincount`. 我需要同样的东西，但需要一个矩阵。

我有两个数组：

```
array([1, 2, 1, 1, 2])
array([2, 1, 1, 1, 1]) 
```

他们一起制作了应该增加的索引：

```
>>> np.array([a, b]).T
array([[1, 2],
       [2, 1],
       [1, 1],
       [1, 1],
       [2, 1]]) 
```

我想得到这个矩阵：

```
array([[0, 0, 0],
       [0, 2, 1],  # (1,1) twice, (1,2) once
       [0, 2, 0]]) # (2,1) twice 
```

矩阵会很小（例如 5×5），而索引的数量会很大（接近 10^3 或 10^5）。

那么，有什么比`for`-loop 更好（更快）的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:11:59.333

您仍然可以使用[`bincount()`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.bincount.html). 诀窍是将`a`和`b`转换为单个一维平面索引数组。

如果矩阵是`n`x `m`，您可以应用`bincount()`，`a * m + b`并根据结果构造矩阵。

以您的问题为例：

```
In [15]: a = np.array([1, 2, 1, 1, 2])

In [16]: b = np.array([2, 1, 1, 1, 1])

In [17]: cnt = np.bincount(a * 3 + b)

In [18]: cnt.resize((3, 3))

In [19]: cnt
Out[19]: 
array([[0, 0, 0],
       [0, 2, 1],
       [0, 2, 0]]) 
```

如果数组的形状更复杂，它可能更容易使用，[`np.ravel_multi_index()`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.ravel_multi_index.html)而不是手动计算平面索引：

```
In [20]: cnt = np.bincount(np.ravel_multi_index(np.vstack((a, b)), (3, 3)))

In [21]: np.resize(cnt, (3, 3))
Out[21]: 
array([[0, 0, 0],
       [0, 2, 1],
       [0, 2, 0]]) 
```

（帽子提示@Jaime 指出`ravel_multi_index`。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:11:51.300

```
m1 = m.view(numpy.ndarray) # Create view
m1.shape = -1 # Make one-dimensional array
m1 += np.bincount(a+m.shape[1]*b, minlength=m1.size) 
```

# forms - HTML 表单：用户 ID 和密码中的斯堪的纳维亚字符

> ID：15920074
> 
> 赞同：0
> 
> 时间：2013-04-10T07:55:14.490
> 
> 标签：forms

如何使 HTML 表单接受密码和用户 ID 中的斯堪的纳维亚字符？例如，我刚刚将密码更改为包含字母 Å 的密码。发送表单后，它会给出密码错误的错误消息。表单标签中有没有办法处理这个问题？我尝试了enctype，但没有帮助。

# python - 从 SQLAlchemy 执行 PL/SQL 函数（或过程）

> ID：15920075
> 
> 赞同：2
> 
> 时间：2013-04-10T07:55:15.100
> 
> 标签：python, oracle, plsql, sqlalchemy

我有一个旧的 PL/SQL 函数：

```
getlogin(p_username in varchar2, p_password in varchar2) return boolean; 
```

如何从 SQLAlchemy 执行此操作并获取返回值？

像这样天真的方法似乎不起作用：

```
result = DBSession.execute('getlogin(:username, :password)',
                           {'username':request.POST['username'],'password':request.POST['password']});
# extract return value from result 
```

从日志中我看到了这个错误：

> 文件“../env/lib/python3.3/site-packages/SQLAlchemy-0.8.0-py3.3.egg/sqlalchemy/engine/base.py”，第 871 行，在 _execute_context 上下文中）文件“../ env/lib/python3.3/site-packages/SQLAlchemy-0.8.0-py3.3.egg/sqlalchemy/engine/default.py”，第 322 行，在 do_execute cursor.execute(statement, parameters) cx_Oracle.DatabaseError: ORA-00900: 无效的 SQL 语句

我可以看到它看起来像是在调用 SQL 解释器而不是 PL/SQL 解释器，但我不确定接下来的步骤。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T10:38:32.160

您可能必须为您的执行调用提供一个 PL/SQL 块：

```
result = DBSession.execute('begin getlogin(:username, :password); end;',
                             {'username':request.POST['username'],'password':request.POST['password']}); 
```

SQLAlchemy + Oracle SP 上的[这个 SO 问题也可能有所帮助。](https://stackoverflow.com/questions/8390212/executing-an-oracle-stored-procedure-returning-a-ref-cursor-using-sqlalchemy?rq=1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T07:59:45.927

如果您使用`.execute()`的是连接方法，那么您需要一个有效的 SQL 语句。如果`getlogin`是一个函数，这需要一个 SELECT：

```
result = DBSession.execute('select getlogin(:username, :password) from dual'
                          , {'username' : request.POST['username']
                             ,'password' : request.POST['password']}); 
```

如错误所述，您的 SQL 语句无效。

# c# - 触摸屏上的 GridView 崩溃与鼠标一起使用

> ID：15920077
> 
> 赞同：0
> 
> 时间：2013-04-10T07:55:17.350
> 
> 标签：c#, xaml, windows-8, microsoft-metro, winrt-xaml

我正在开发一个 Windows 应用商店应用程序 (C#/XAML)。我在 UserControl 中有一个默认的 GridView 控件。这是整个代码：

```
<GridView Grid.Column="1" Grid.Row="2" SelectedIndex="{Binding Priority, Mode=TwoWay}" HorizontalAlignment="Left" VerticalAlignment="Center" >
               <GridView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapGrid Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </GridView.ItemsPanel>
                <GridViewItem>
                    <Border Width="30" Height="30" Background="White" BorderThickness="2" BorderBrush="#FF1BA1E2">
                        <TextBlock Text="!" Foreground="#FF1BA1E2" FontSize="15" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </GridViewItem>
                <GridViewItem>
                    <Border Width="30" Height="30" Background="White" BorderThickness="2" BorderBrush="#FFFFC800">
                        <TextBlock Text="!!" Foreground="#FFFFC800" FontSize="15" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                </GridViewItem>
                <GridViewItem>
                    <Border Width="30" Height="30" Background="White" BorderThickness="2" BorderBrush="#FFFF0000">
                        <TextBlock Text="!!!" Foreground="#FFFF0000" FontSize="15" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>
                </GridViewItem>
            </GridView> 
```

整个事情非常适合鼠标。但是，当我提交应用程序时，我收到了一个崩溃报告，告诉我这个 GridView 在触摸屏设备上崩溃了。因此，我使用模拟器进行了测试，当您尝试触摸任何 GridViewItem 时，应用程序确实崩溃了！我在这里没有做任何有趣的事情。默认的 GridView 似乎有一个错误。可以做点什么吗？

Edit1：作为参考，这里是应用程序：[http](http://apps.microsoft.com/windows/en-US/app/1cd03a7e-03c1-4625-b021-fb22b3ec999b) ://apps.microsoft.com/windows/en-US/app/1cd03a7e-03c1-4625-b021-fb22b3ec999b 单击“编辑任务”可以看到相关的网格视图' 按钮。

Edit2：我尝试创建一个全新的 UserControl，里面只有这个 GridView。还是撞车了！用类似的 ListBox 替换了 GridView - 结果相同！但是，新应用程序中的类似条件（UserControl 作为某些事件的边框的子项加载）工作得非常好！与我的应用程序相关的内容？它可能是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T09:07:18.797

我抓住了这次崩溃但没有更多细节我不能说什么。我不确定问题出在 xaml 中。如何添加事件？你如何改变状态？

# iphone - 如何使用 UITextPosition 在 UITextView 中添加省略号？

> ID：15920081
> 
> 赞同：0
> 
> 时间：2013-04-10T07:55:26.587
> 
> 标签：iphone, uitextview, uitextposition

是否可以计算 UITextView 中的可见字符数？textview 中的文本可能大于或小于 UITextView 的大小。所以我只想截断最后 3 个可见字符并添加省略号。如何去做吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T07:58:41.407

你可以通过使用[UITextView Delegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextViewDelegate_Protocol/Reference/UITextViewDelegate.html)来做到这一点-

```
- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text 
```

在这里您可以检查大小并截断文本。

但我不认为这是一个好主意。

# graphics - DirectX：使用纹理的顶点着色器

> ID：15920087
> 
> 赞同：2
> 
> 时间：2013-04-10T07:55:49.913
> 
> 标签：graphics, 3d, directx, textures, vertex-shader

我是图形编程的初学者。我遇到了一个案例，其中“ResourceView”是用纹理创建的，然后这个资源视图被设置为 VS Resource。总结一下：

```
CreateTexture2D( D3D10_TEXTURE2D_DESC{ 640, 512, .... **ID3D10Texture2D_0c2c0f30** )
CreateShaderResourceView( **ID3D10Texture2D_0c2c0f30**, ..., **ID3D10ShaderResourceView_01742c80** )
VSSetShaderResources( 0, 1, [**0x01742c80**]) 
```

我们何时以及在什么情况下**在顶点着色器中使用纹理**？？任何人都可以帮忙吗？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:49:46.903

这完全取决于您要达到的效果。

如果要单独为顶点着色，通常会使用顶点颜色组件。但是没有什么能阻止你从纹理中采样颜色。（除了它可能更慢。）

另外，不要让这个名字欺骗你。*纹理不仅仅可以用于着色*。它们基本上是预先计算的函数。例如，您可以使用 a`Textue1D`提交波函数来为衣服或摇曳的草/树叶设置动画。由于它是一种纹理，因此您可以为绘制的每个对象使用不同的波浪，而无需切换着色器。

Direct3D 开发人员只想为您提供最大的灵活性。这包括在所有着色器阶段使用纹理资源。

# ruby-on-rails - 无法批量分配受保护的属性：provider、uid (omniauth railscast)

> ID：15920088
> 
> 赞同：0
> 
> 时间：2013-04-10T07:55:50.800
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, omniauth

我正在密切关注omniauth的railscast，但我收到了视频中没有遇到的这个错误

```
Can't mass-assign protected attributes: provider, uid 
```

这是我创建的身份验证控制器

```
class AuthenticationsController < InheritedResources::Base

def index
    @authentications = current_user.authentications if current_user
end

def create
  omniauth = request.env['omniauth.auth']
  authentication = Authentication.find_by_provider_and_uid(omniauth['provider'], omniauth['uid'])
  if authentication
     flash[:notice] = "Signed in successfully"
     sign_in_and_redirect(:user, authentication.user)
  elsif current_user
   current_user.authentications.create!(:provider => omniauth['provider'], :uid => omniauth['uid'])
   flash[:notice] = "Authentication successful"
   redirect_to authentications_url
   else
    user = User.new
    user.apply_omniauth(omniauth)
    user.save(:validate=>false)
    flash[:notice] = "Signed in successfully"
     sign_in_and_redirect(:user, user)
end
end

def destroy
    @authentication = current_user.authentications.find(params[:id])
    @authentication.destroy
    flash[:notice] = "Successfully destroyed authentication"
    redirect_to authentications_url

end
end 
```

这是我对 user.rb 的内容，我在查看过去的线程后添加了 :provider 和 :uid 到 attr_accessible

```
class User < ActiveRecord::Base

  attr_accessible :name, :email, :password, :password_confirmation, :provider, :uid
  has_many :authentications 
```

不幸的是，当我尝试使用 Twitter (path = /auth/twitter/callback) 登录时，我仍然收到此错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:13:18.983

你应该添加

```
attr_accessible :provider, :uid 
```

在身份验证模型中，而不是在用户模型中。

（因为这些是身份验证模型的属性，并且您在身份验证模型中大量分配它）

# php - 如何合并php数组

> ID：15920092
> 
> 赞同：1
> 
> 时间：2013-04-10T07:56:01.610
> 
> 标签：php, arrays, merge

PHP 原始数组是一个二维数组。

我想提取所有不同的值（键名是parentMenu）作为一个新的二维数组的键名

同时旧数组将是新数组的值

id应该怎么做？

下面是数组示例

```
//the menuList is get from mysql result
$menuList = array(
0=>array(
  'navId' =>1,
  'parentMenu' =>  'HOME',   //Previous Menu
  'subMenu' =>  'SHOW USER', //Sub Menu
  'ctrl' =>  'Index',
  'action' =>  'index'
),
1=>array(
  'navId' =>2,
  'parentMenu' =>  'HOME',
  'subMenu' =>  'MODIFY PASSWORD',
  'ctrl' =>  'Modify',
  'action' =>  'index'
),
2=>array(
  'navId' =>3,
  'parentMenu' =>  'ITEM LIST',
  'subMenu' =>  'CURRENT LIST',
  'ctrl' =>  'Current',
  'action' =>  'index'
 ),
3=> array(
  'navId' =>4,
  'parentMenu' =>'ITEM LIST',
  'subMenu' =>'HISTORY LIST',
  'ctrl' =>'History',
  'action' =>'index'
  )
);

//After processing the menuList
//The new MenuList what I want is like below

$newMenu = array(
    /*parentMenu's value to be key*/
'HOME'=>array(  array('navId' =>1,'subMenu' =>'SHOW USER'      ,'ctrl' =>'Index'    ,'action' =>'index'),
                array('navId' =>2,'subMenu' =>'MODIFY PASSWORD','ctrl' =>'Modify'   ,'action' =>'index')
            ),
'ITEM LIST'=>array(
                array('navId' =>3,'subMenu' =>'CURRENT LIST','ctrl' =>'Current' ,'action' =>'index'),
                array('navId' =>4,'subMenu' =>'HISTORY LIST','ctrl' =>'History' ,'action' =>'index')
            )
); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:00:12.480

```
$newMenu = array();
foreach($menuList as $item) {
  $key = $item['parentMenu'];
  unset($item['parentMenu']); // remove the parentMenu
  if(!isset($newMenu[$key])) {
    $newMenu[$key]] = array($item);
  } else {
    //array_push($newMenu[$key], $item);
    $newMenu[$key][] = $item;
  }
} 
```

**更新：**根据@Anyone 的建议调整代码

# sql-server - 加快sql存储过程

> ID：15920095
> 
> 赞同：-1
> 
> 时间：2013-04-10T07:56:06.273
> 
> 标签：sql-server, tsql, stored-procedures

每次应用程序执行某些删除操作时，我都必须执行以下存储过程。我的问题是，如果你们中的任何人知道某种方式，来加速这个存储过程。

```
DECLARE @CID UNIQUEIDENTIFIER
SET @CID = @CategoryId

DELETE FROM Elements 
WHERE CategoryId = @CID
AND ParentId IS NOT NULL
AND ParentId NOT IN (SELECT ElementId FROM Elements WHERE CategoryId = @CID)

WHILE (@@ROWCOUNT  > 0)
BEGIN
    DELETE FROM Elements
    WHERE CategoryId = @CID
    AND ParentId IS NOT NULL
    AND ParentId NOT IN (SELECT ElementId FROM Elements WHERE CategoryId = @CID)
END 
```

这里的结构：

```
Element 1
Element 2
    Element 2.1
    Element 2.2
    Element 2.3
        Element 2.3.1
        Element 2.3.2
Element 3
... 
```

例如，如果“元素 2”被删除，则所有子元素也必须被删除。

**查询如何工作：** 如果我删除“元素 2”并执行存储过程，第一个删除语句将删除“元素 2.1”、“元素 2.2”和“元素 2.3”，因为它的 ParentId（“元素 2”的 ElementId ) 在表中找不到。之后将执行第二个删除语句。这次同样的语句找不到之前执行删除的Elements的任何ElementIds。

**重要提示：** 在执行存储过程之前，应用程序已经删除了一个元素。之后，整个结构将被保存。之后，所有父级不存在的元素将被存储过程删除。

环境是 SQL Server 2008 R2。先感谢您！

安德烈

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T11:25:24.517

试试这个解决方案 -

```
SET NOCOUNT ON;

DECLARE @Node NVARCHAR(50)
SELECT @Node = 'Element 2.3'

DECLARE @temp TABLE
(
  Node NVARCHAR(50) PRIMARY KEY
, ParentNode NVARCHAR(50) NULL 
)

INSERT INTO @temp (Node, ParentNode)
VALUES 
('Element 1', NULL),
('Element 2', NULL),
('Element 2.1', 'Element 2'),
('Element 2.2', 'Element 2'),
('Element 2.3', 'Element 2'),
('Element 2.3.1', 'Element 2.3'),
('Element 2.3.2', 'Element 2.3'),
('Element 3', NULL)

; WITH nodes (Node) AS 
(
SELECT d.Node
FROM @temp d
WHERE d.Node = @Node

UNION ALL

SELECT d.Node
FROM @temp d
JOIN nodes d3 ON d3.Node = d.ParentNode
)

DELETE FROM t
FROM @temp t
JOIN nodes n ON t.Node = n.Node

SELECT * 
FROM @temp 
```

# c++ - eclipse 在点击 start/resume 之前开始调试

> ID：15920099
> 
> 赞同：0
> 
> 时间：2013-04-10T07:56:35.087
> 
> 标签：c++, eclipse, eclipse-cdt

有谁知道为什么我的**Eclipse**（带有 cdt 插件的 3.8）在我单击调试按钮后立即开始调试？它通常应该转到透视图并等待我单击`start/resume`按钮。谢谢

# iphone - 在单独的方法中获取 UITableViewCell 的控件（UIButtons）及其标签

> ID：15920101
> 
> 赞同：0
> 
> 时间：2013-04-10T07:56:35.963
> 
> 标签：iphone, uitableview, uibutton

我有一个 UITableViewCell，我在其中创建了一些按钮（它们的作用类似于单选按钮）并将标签分配给按钮。但是标签不是静态的。它们是动态的。现在，当单击特定单选按钮时，我需要使用一些图像（radio_On.png）设置该按钮并将所有按钮保留为（radio_Off.png）。但是要设置图像，我无法理解如何获取该特定单元格中所有按钮的标签值，因为它们不是静态的。

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    btTemp1 = [[UIButton alloc]initWithFrame:CGRectMake(10, lblQuestion.frame.origin.y+lblQuestion.frame.size.height+3,17, 17)];
    [btTemp1 addTarget:self action:@selector(radioButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
    btTemp1.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
    [btTemp1 setImage:[UIImage imageNamed:@"radio_button_off.png"] forState:UIControlStateNormal];
    [btTemp1 setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
    btTemp1.titleLabel.font =[UIFont systemFontOfSize:14.f];

    btTemp1.tag=++Optionid;
    [hlcell.contentView addSubview:btTemp1];

    btTemp2 = [[UIButton alloc]initWithFrame:CGRectMake(10, lblOption1.frame.origin.y+lblOption1.frame.size.height,17, 17)];
    [btTemp2 addTarget:self action:@selector(radioButtonClicked:) forControlEvents:UIControlEventTouchUpInside];
    btTemp2.contentHorizontalAlignment = UIControlContentHorizontalAlignmentLeft;
    [btTemp2 setImage:[UIImage imageNamed:@"radio_button_off.png"] forState:UIControlStateNormal];
    [btTemp2 setTitleColor:[UIColor blackColor] forState:UIControlStateNormal];
    btTemp2.titleLabel.font =[UIFont systemFontOfSize:14.f];

    btTemp2.tag=++Optionid;
    [hlcell.contentView addSubview:btTemp2];
}

-(IBAction) radioButtonClicked:(UIButton *) sender {
    UIButton *button = (UIButton *)sender;
    NSLog(@"%d", [button tag]);
    NSIndexPath *indexPath = [self.tableView indexPathForCell:(UITableViewCell *)
    [[sender superview] superview]];

    UITableViewCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];
    NSMutableArray *cellSection = [self.finalarray objectAtIndex:indexPath.section];

    [sender setImage:[UIImage imageNamed:@"radio-On.png"] forState:UIControlStateNormal];
} 
```

当我检查 TableView 单元格中的其他按钮时，这里没有释放一个单选按钮。

编辑：

以前我给了这个代码：

```
-(IBAction) radioButtonClicked:(UIButton *) sender {
        UIButton *button = (UIButton *)sender;
        NSLog(@"%d", [button tag]);
        NSIndexPath *indexPath = [self.tableView indexPathForCell:(UITableViewCell *)
        [[sender superview] superview]];

        UITableViewCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];
        NSMutableArray *cellSection = [self.finalarray objectAtIndex:indexPath.section];

UIButton  *btnTemp1 = (UIButton*)[cell viewWithTag:10]; //Static .But now I want dynamic
        UIButton  *btnTemp2 = (UIButton*)[cell viewWithTag:11];//Static .But now I want dynamic
        UIButton  *btnTemp3 = (UIButton*)[cell viewWithTag:12];//Static .But now I want dynamic
        UIButton *btnTemp4=(UIButton *)[cell viewWithTag:13];//Static .But now I want dynamic
        UIButton *btnTemp5=(UIButton *)[cell viewWithTag:14];//Static .But now I want dynamic

        [radioButtonsinaSection addObject:btnTemp1];
        [radioButtonsinaSection addObject:btnTemp2];
        [radioButtonsinaSection addObject:btnTemp3];
        [radioButtonsinaSection addObject:btnTemp4];
        [radioButtonsinaSection addObject:btnTemp5];

    }

    for(int i=0;i<[radioButtonsinaSection count];i++){

        [[radioButtonsinaSection objectAtIndex:i] setImage:[UIImage imageNamed:@"radio_button_off.png"] forState:UIControlStateNormal];

    }
    [sender setImage:[UIImage imageNamed:@"radio-On.png"] forState:UIControlStateNormal];
    } 
```

如何获取单击按钮（单选按钮）的单元格的所有控件（按钮及其标签）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:16:51.737

据我所知，您错过了 radioButtonClicked 方法中的循环，该方法跟踪单击了哪个按钮..您尝试此代码..

```
 (IBAction) radioButtonClicked:(UIButton *) sender{

               for(int i=0;i&amp;lt;[self.radioButtons count];i++){
                       [[self.radioButtons objectAtIndex:i] setImage:[UIImage    
                                   imageNamed:@&quot;radio-off.png&quot;]  
                                        forState:UIControlStateNormal];
               }
               [sender setImage:[UIImage imageNamed:@&quot;radio-On.png&quot;]   
                                     forState:UIControlStateNormal];
} 
```

我认为这对你有帮助，如果不能再问..

享受..

# python - 构建文章分类器 - NLTK/ Scikit-learn/ 其他 NLP 实现

> ID：15920104
> 
> 赞同：0
> 
> 时间：2013-04-10T07:57:00.840
> 
> 标签：python, weka, nltk, scikit-learn, mallet

对于我当前的项目，我必须构建一个主题建模或分类实用程序，它将处理数千篇文章以将它们分类为各种主题（开始时主题可能是 40-50）。例如，它将检查数据库技术文章并将它们分类是否文章是 NOSQL 文章/关系数据库文章/图形数据库文章（只是一个例子）。

我有非常基本的 NLP 背景，我们的团队大多有 python 后端脚本经验。我开始研究可用于实现它的各种选项，并遇到了基于 Python 的 NLTK 和 Scikit-Learn，以及基于 JVM 的 Weka 和 Mallet。
我的理解是 NLTK 更适合学习和理解各种 NLP 技术，如主题分类。

有人可以建议我们可以用于实现的最佳开源解决方案吗？如果我错过了任何有助于答案的信息，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-09-18T13:19:54.097

构建主题分类模型可以通过两种方式完成。如果您有一个针对文档有标签的训练集，您总是可以使用 scikit learn 构建一个分类器。

但是如果你没有任何训练数据，你可以建立一个叫做主题模型的东西。它基本上将主题作为一组单词提供给您。

您可以使用 Gensim 包来实现这一点。非常清晰，快速且易于实施（[看这里](https://radimrehurek.com/gensim/models/ldamodel.html)）

# jquery - 当数据库、websockets 或长轮询实现中的记录发生变化时如何不断更新数据表

> ID：15920107
> 
> 赞同：5
> 
> 时间：2013-04-10T07:57:06.583
> 
> 标签：jquery, websocket, datatables, long-polling, phpwebsocket

我在 webapp 上使用数据表作为我的网格。问题是，用户必须始终刷新页面才能从数据库中获取当前数据，有没有办法可以自动完成？因为多个应用程序写入同一个表，而 webapp 只是用于监控，但如果用户必须刷新页面才能获取当前数据，则它超出了目的。这是我的初始化代码：

```
 $('.{{datatable['class']}}').dataTable( {
                "sDom": 'T<"clear">lfrtip',
                "oTableTools": {
                    "sSwfPath": "includes/swf/copy_csv_xls_pdf.swf",                
                    "aButtons": [
                         { 
                             "sExtends":"copy",
                             "mColumns":[{{datatable['flds']}}]
                         },
                         {   
                             "sExtends":"csv",
                             "mColumns":[{{datatable['flds']}}]
                         },

                         {
                             "sExtends":"xls",
                             "mColumns":[{{datatable['flds']}}]
                         },                         
                         {
                            "sExtends": "pdf",
                            "mColumns":[{{datatable['flds']}}],
                            "sPdfOrientation": "landscape",
                            "sPdfMessage": "{{datatable['title']}}"
                         }
                    ]
                    },        
                "bProcessing": true,
                "bServerSide": true,
                "sAjaxSource": "{{datatable['source']}}",
                "aoColumns": [          
                        {% for column in 0..datatable['columns']-2 %}
                        null,
                        {% endfor %}
                        null
                ]

        }); 
```

每次数据源发生任何事情（更新/插入/删除）时，列表是否可以自我更新？我按照丹尼的建议实现了一个循环，

```
var int=self.setInterval(function(){oTable.fnDraw();},1000); 
```

但问题是列表总是一个有趣的状态，见附图![在此处输入图像描述](https://i.stack.imgur.com/IVS6s.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T07:59:18.203

您可能有一个 ajax 请求，该请求由一个间隔计时器在循环中发生，该计时器检查自页面上次接收到任何内容以来是否有新数据。您需要弄清楚可以使用什么来确定记录的数量或保存上次更新/添加/删除的日期时间的专用记录，如果日期时间较新，那么上次抓取数据的时间再次更新等. 在页面上，您将在 javascript var 中记录/更新上次数据更新的日期时间，以用于所有未来的检查。

# android - Activity 中的 Android SQLite 表和数据

> ID：15920117
> 
> 赞同：-1
> 
> 时间：2013-04-10T07:57:33.547
> 
> 标签：android, sqlite, gps

我想做一个活动，它显示数据库中的表和表本身的一些数据。表格名称采用以下格式：gps_year_month_day，表格包含 GPS 纬度、经度和时间数据。所以我想在一个活动中列出它们，比如日期（表名）、持续时间（经过的时间）和长度（从纬度和经度）。我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:02:36.633

看看[ListView](http://developer.android.com/reference/android/widget/ListView.html)，[SimpleCursorAdapter](http://developer.android.com/reference/android/widget/SimpleCursorAdapter.html)，也许还有[ViewBinder](http://developer.android.com/reference/android/widget/SimpleCursorAdapter.ViewBinder.html)。如何使用这些你会发现很多例子，例如[this one](http://www.mysamplecode.com/2012/07/android-listview-cursoradapter-sqlite.html)或[this one](http://thinkandroid.wordpress.com/2010/01/09/simplecursoradapters-and-listviews/)。

# graphics - 在图像中用非整数坐标标记点

> ID：15920127
> 
> 赞同：0
> 
> 时间：2013-04-10T07:58:01.513
> 
> 标签：graphics, 2d, line, point, intersection

我需要在图像中标记一个点。该点的坐标不是积分的。我想画两个相交的线段，它们的交点比最近的积分点更靠近给定点。

1/10 像素的误差就足够了。这些片段的长度应约为 20 像素。

这是一个例子（较短的段很难）。

![例子](https://i.stack.imgur.com/Q8zF9.jpg)

这是我要标记的示例图像：

![圆圈标记了现在的点](https://i.stack.imgur.com/umBjW.png)

# c# - 如何自动改变kinect传感器角度？

> ID：15920128
> 
> 赞同：2
> 
> 时间：2013-04-10T07:58:06.680
> 
> 标签：c#, kinect, angle, elevation, automatic-updates

是否可以自动更改kinect电机的仰角？

我的意思是，到目前为止我有这个代码（c#）：

```
private void CameraAngleSlider_ValueChanged(object sender, RoutedPropertyChangedEventArgs<double> e)
        {
            int angle = (int)CameraAngleSlider.Value;
            KinectSensorManager.ElevationAngle = angle;
        } 
```

我使用一个名为`CameraAngleSlider`.

举个例子：我想当 kinect 开始会话时，我将放在 kinect 前面，传感器会尝试调整与我的位置相关的角度。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:15:01.813

这应该是完全可能的，但是您必须手动对其进行编程并考虑到调整不是很快。此外，kinect 传感器在调整角度时不会推送任何数据。

你有两种情况：

1) 骨架已经被跟踪

=> 当头部太靠近屏幕顶部时向上移动角度

=> 当头部低于屏幕高度的一半时向下移动角度

2) 没有骨骼被追踪

=>你将不得不猜测..我建议上下移动角度，直到你得到一个跟踪的骨架（并在几次尝试后中止，所以它不只是继续调整）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T14:40:03.537

您无法在 Kinect 上设置任何标志或功能，使其根据玩家位置寻找最佳跟踪位置。Kinect 确实检测到剪辑，并且可以查询播放器的一部分是否超出了 FOV。

允许您检测骨架剪切的两个函数是：

*   [FrameEdges 枚举](http://msdn.microsoft.com/en-us/library/microsoft.kinect.frameedges.aspx)
*   [Skeleton.ClippedEdges](http://msdn.microsoft.com/en-us/library/microsoft.kinect.skeleton.clippededges.aspx)

根据您的应用程序的运行方式，您可以监控其中之一，并且在`Skeleton`检测到剪辑时，相应地调整[KinectSensor.ElevationAngle](http://msdn.microsoft.com/en-us/library/microsoft.kinect.kinectsensor.elevationangle.aspx)。

# python - django settings.py DATETIME_FORMAT: %M 不对应分钟

> ID：15920131
> 
> 赞同：1
> 
> 时间：2013-04-10T07:58:14.737
> 
> 标签：python, django, datetime, format

根据[https://docs.djangoproject.com/en/1.5/ref/settings/#datetime-input-formats](https://docs.djangoproject.com/en/1.5/ref/settings/#datetime-input-formats)如果我将其放入 settings.py 并停用 USE_L1ON，以下模式应该可以工作

```
'%Y-%m-%d %H:%M:%S',     # '2006-10-25 14:30:59' 
```

当我使用它时，'％'符号也会被打印出来，所以我把它改成

```
DATETIME_FORMAT = 'Y-m-d H:M' 
```

然而，这会产生：2013-04-10 09:Apr

所以'M'被翻译成'缩写月份'而不是分钟。我怎样才能解决这个问题？Django 文档没有帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:01:02.990

您正在寻找[日期*输出*格式](https://docs.djangoproject.com/en/stable/ref/templates/builtins/#std:templatefilter-date)和`i`：

```
DATETIME_FORMAT = 'Y-m-d H:i' 
```

从链接的文档中：

> `i`- 分钟。-`'00'`到`'59'`

# django - 如何用 Sphinx 记录 Django URL？

> ID：15920137
> 
> 赞同：1
> 
> 时间：2013-04-10T07:58:25.567
> 
> 标签：django, python-sphinx

我正在生成一个新的 Django 项目，其中包含多个应用程序。这个项目的主要目标是创建一个 REST API。现在，我正在使用 Sphinx，为我的所有项目创建文档

```
sphinx-quickstart 
```

和

```
sphinx-apidoc -o doc/packages . 
```

一切都很好，除了 URL。我希望将我的 URL 记录为一个很好的 API，与 Sphinx 文档的其余部分完全集成。

可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-18T21:41:11.070

这是。这不是直接记录 URL，但我以这种方式连接 URL 以查看文档：

制作一个看起来像这样的 Sphinx 扩展：

```
from django.core.urlresolvers import get_resolver

def setup(app):
    app.connect('autodoc-process-docstring', process_django_view)

def process_django_view(app, what, name, obj, options, lines):
   if what=='function':
       res = get_resolver()
       if res.reverse_dict.has_key(obj):
           url_struct = res.reverse_dict[obj]
           lines[:0] = [
               "| URL structure: %s\n" % url_struct[0][0][0]
               ] 
```

然后，您需要将其添加到您的扩展中`conf.py`并加载到 Django 环境中，如下所述：[如何为 django 项目构建 sphinx 文档](https://stackoverflow.com/questions/7733577/how-to-build-sphinx-documentation-for-django-project)

还有一些其他的东西，比如正则表达式`url_struct`和你可以包含的参数。我自己的也搜索对应于不同域的多个 URL 解析器。

# ios - 当用户超过 10mph 时禁用 iPhone

> ID：15920139
> 
> 赞同：-8
> 
> 时间：2013-04-10T07:58:39.673
> 
> 标签：ios, ipad, ios4, ios6

当用户超过 10mph 时如何禁用手机，禁用意味着用户不能使用电子邮件或任何文本写作工作。我能够计算速度但不能禁用或挂起 iPhone。

请帮我。

谢谢你

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:07:13.077

你不能，你也许可以让你自己的应用程序发出警告，告诉你你正在快速旅行。但是没有办法禁用到 iPhone。

所有应用程序都是沙盒，并且对其他应用程序或系统的访问权限有限。

# c++ - Windows 标头中的侵入式定义

> ID：15920142
> 
> 赞同：3
> 
> 时间：2013-04-10T07:58:49.617
> 
> 标签：c++, winapi

处理 Windows 标头中侵入性 #defines 的最佳方法是什么？当我真的需要定义具有相同名称的符号时，它们往往会发出错误，无论它是否在命名空间中。我知道使用 WIN32_LEAN_AND_MEAN 可以避免一些定义，但不是全部。在这种特殊情况下，我在 WinNT.h#6478 中定义了一个“DELETE”——并且有很多像这样的非常通用的关键字。

我的直接想法是在声明我的常量之前做一个#undef，但这是一个非常不雅的解决方案。我不能轻易地重命名我的常量，因为它们被直接翻译成文本字符串，我需要它们完全是现在的样子。

想到的其他定义是 windowsx.h 中的 GetFirstChild/GetNextSibling ...真的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:09:27.477

实际上，我认为最干净的解决方案是提供一个包装标头，它会`#include <windows.h>`和`#undef`所有妨碍您的宏。然后，您将包含此包装器标头而不是`windows.h`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:16:53.023

显而易见的解决方案是不包括`<windows.h>`. 应该有非常非常少的模块需要它，在这些模块中，您只需要避免`<windows.h>`定义的符号。这应该不会太难，因为这些将是低级包装器，不需要包含您的应用程序的任何内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:23:03.507

`<windows.h>`我的解决方案是“除非绝对必要，否则不要包括在内”。通常，无论如何，您都希望将系统依赖项隔离到一小组代码中，因此无论是否包含`<windows.h>`在文件中都是一个坏主意。

# java - android的布局命名策略

> ID：15920145
> 
> 赞同：0
> 
> 时间：2013-04-10T07:58:54.030
> 
> 标签：java, android, naming

我正在开发一个有很多布局的 android 应用程序。到目前为止，我一直按照布局的用途来命名它们，然后是布局的名称，例如：activity_base.xml、fragment_main_menu.xml。正如我注意到的那样，android 不支持资源文件夹的子目录。已经有了 12 个布局文件，事情开始变得有点局促。我想知道是否有人有任何好的命名策略来保持这个糟糕的目录设置井井有条。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:04:47.743

`Activity`相反，您可以根据作业对布局进行逻辑分类。

就像`Home_Main.xml`。然后，如果菜单上附加了更多逻辑。例如，它将您带到主页上的 facebook 共享活动，然后给它。然后，`Home_FB.xml`如果 FB 页面将您带到`pageB`，则将该 pageB 布局命名为`FB_pageB.xml`。

我敢打赌这种方式是最好的，除非有人有更好的东西。

要分离 Listviews 和其他项目，您也可以从 LV 开始，例如`LV_some_other.xml`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:01:56.007

我总是首先通过以下方式启动布局文件来确定用于活动的布局和用于片段的布局：

```
activity_<activity.name> 
```

或者

```
fragment_<fragment.name> 
```

当然，您还有另一种类型的布局，例如： `ListView`项目布局或`Dialog`布局。

在布局名称的开头指定它们，以便您轻松找到它们。

其他然后给你的layout正确的名字来解释它应该呈现什么。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:02:06.277

Android 不支持嵌套目录。所以不幸的是，您将不得不仔细选择命名约定。

这是一个讨论命名约定的链接：[布局文件命名约定？](https://stackoverflow.com/questions/5582079/layout-files-naming-conventions)

# javascript - 包含导航药丸的引导下拉菜单

> ID：15920147
> 
> 赞同：1
> 
> 时间：2013-04-10T07:58:57.163
> 
> 标签：javascript, twitter-bootstrap

我正在尝试实现一个下拉菜单，其中包含一排按钮，可在可用菜单项之间切换。

所以，在结构上我有类似的东西：

```
<dropdown container>
  <dropdown trigger>

  <dropdown content>

    <dropdown nav-pills>
    <nav-pills panes>

  </dropdown content>
</dropdown container> 
```

我已经完成了这项工作，出现菜单，单击导航药丸触发窗格之间的更改；然而，问题是导航药丸上的点击事件也会强制关闭菜单（bootstrap.dropdown 假设用户正在点击链接/菜单项并将导航离开页面）。

那么，是否可以使用标准引导 JS 来做到这一点，还是我必须编写自己的下拉 JS？我已经尝试绑定到导航药丸上的点击事件并停止点击传播，但这并没有阻止引导程序捕获相同的事件并隐藏菜单。

非常感谢您的阅读！

# c# - 我可以在枚举中的两个单词之间使用空格吗？

> ID：15920154
> 
> 赞同：1
> 
> 时间：2013-04-10T07:59:18.273
> 
> 标签：c#, c#-4.0

我可以像下面这样使用枚举吗？

我可以像 TeamManager、TeamLeader、SeniorDeveloper 等那样做。但我想在“Team Manager”之类的词之间留一个空格

```
public enum SoftwareEmployee
{
    Team Manager = 1,
    Team Leader = 2,
    Senior Developer = 3,
    Junior = 4
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-10T08:04:29.987

不，但您可以这样做：

```
public enum SoftwareEmployee {
    [Description("Team Manager")] TeamManager = 1,
    [Description("Team Leader")] TeamLeader = 2,
    [Description("Senior Developer")] SeniorDeveloper = 3,
    [Description("Junior")] Junior = 4
} 
```

然后，您可以使用实用方法将枚举值转换为描述，例如：

```
 /// <summary>
    /// Given an enum value, if a <see cref="DescriptionAttribute"/> attribute has been defined on it, then return that.
    /// Otherwise return the enum name.
    /// </summary>
    /// <typeparam name="T">Enum type to look in</typeparam>
    /// <param name="value">Enum value</param>
    /// <returns>Description or name</returns>
    public static string ToDescription<T>(this T value) where T : struct {
        if(!typeof(T).IsEnum) {
            throw new ArgumentException(Properties.Resources.TypeIsNotAnEnum, "T");
        }
        var fieldName = Enum.GetName(typeof(T), value);
        if(fieldName == null) {
            return string.Empty;
        }
        var fieldInfo = typeof(T).GetField(fieldName, BindingFlags.DeclaredOnly | BindingFlags.Public | BindingFlags.Static);
        if(fieldInfo == null) {
            return string.Empty;
        }
        var descriptionAttribute = (DescriptionAttribute) fieldInfo.GetCustomAttributes(typeof(DescriptionAttribute), false).FirstOrDefault();
        if(descriptionAttribute == null) {
            return fieldInfo.Name;
        }
        return descriptionAttribute.Description;
    } 
```

我更喜欢通过手动翻译`switch`，因为如果一切都在一起，维护枚举定义会更容易。

要允许描述文本的本地化，请使用从资源中获取其值的不同描述属性，例如[ResourceDescription](http://msdn.microsoft.com/en-us/library/microsoft.practices.enterpriselibrary.common.configuration.design.resourcedescriptionattribute%28v=pandp.50%29.aspx)。只要它继承自[Description](http://msdn.microsoft.com/en-us/library/xwb66ftt)，它就可以正常工作。例如：

```
public enum SoftwareEmployee {
    [ResourceDescription(typeof(SoftwareEmployee), Properties.Resources.TeamManager)] TeamManager = 1,
    [ResourceDescription(typeof(SoftwareEmployee), Properties.Resources.TeamLeader)] TeamLeader = 2,
    [ResourceDescription(typeof(SoftwareEmployee), Properties.Resources.SeniorDeveloper)] SeniorDeveloper = 3,
    [ResourceDescription(typeof(SoftwareEmployee), Properties.Resources.Junior)] Junior = 4
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-10T08:05:15.820

不能提供空格，因为它会产生编译错误。如果您希望它用于显示目的。然后你可以编写一个在传递枚举时返回 UI 友好字符串的方法

就像是：

```
public string GetUIFriendlyString(SoftwareEmployee employee)
{
    switch (employee):
    {
      case TeamLeader: return "Team Leader";
      // same for the rest
    }
} 
```

或按照@Christian Hayter 的建议使用枚举中的属性

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:06:06.177

不，你不能，这不能编译。

您可以在 Senior_Developer 之间添加下划线，尽管您必须问自己我是在写代码还是在写论文。不要误会我的意思，代码应该清晰易读，但不必看起来像一个句子。

我认为您可能想要这样做的唯一原因是您可以将其输出到 UI。诸如枚举或异常之类的代码不应输出到 UI，它一开始可能很有用，但您应该使用某种映射将枚举转换为纯文本。如果您需要处理多个本地人，这尤其有用。

# sql-server-2008 - SQL Server 2008 - 插入记录行的脚本

> ID：15920165
> 
> 赞同：0
> 
> 时间：2013-04-10T07:59:47.840
> 
> 标签：sql-server-2008

我是使用 SQL Server 的新手。我有这个用户 ID 和电子邮件列表，并想插入表 userEmail

```
userEmail(emp_no, emp_email)
emp_no is the primary key 
```

插入语句将是

插入 userEmail (emp_no, emp_email) 值 ('12345', 'aaa@email.com')

我听说有一种方法可以创建一个能够运行多个插入语句的脚本，但我不确定如何执行该脚本。

任何建议将不胜感激。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:04:04.920

```
INSERT INTO userEmail (emp_no, emp_email) VALUES
('12345', 'aaa@email.com'), 
('45678', 'bbb@email.com'), 
('56788', 'ccc@email.com') etc 
```

通过一个插入状态最大为 1000。

如果您可以将此列表放在类似 CSV（逗号分隔）文件中，您可以使用 Management Studio 中的**Import Data**任务将其导入（右键单击 Database > Tasks > Import Data > Data source = Flat File Source 等... )

# ruby - 基于特定键组合哈希数组

> ID：15920166
> 
> 赞同：0
> 
> 时间：2013-04-10T07:59:49.653
> 
> 标签：ruby, hash

我需要一组基于每个散列的特定键的散列数组。例如，采取这个：

```
[
    [0] {
        :status => "pending",
             :x => 1,
             :y => 2
    },
    [1] {
        :status => "pending",
             :x => 33,
             :y => 74
    },
    [2] {
        :status => "done",
             :x => 33,
             :y => 74
    }
] 
```

我需要将其转换为：

```
{
    "pending" => [
        [0] {
            :status => "pending",
                 :x => 1,
                 :y => 2
        },
        [1] {
            :status => "pending",
                 :x => 33,
                 :y => 74
        }
    ],
       "done" => [
        [0] {
            :status => "done",
                 :x => 33,
                 :y => 74
        }
    ]
} 
```

我按 :status 键对数组进行分组。我已经这样做了（它有效）：

```
a.inject({}) {|a, b| (a[b[:status]] ||= []) << b; a } 
```

但是，有没有一种更简单、不那么神秘的单线可以做同样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:29:46.477

为什么不使用[`group_by`](http://ruby-doc.org/core-2.0/Enumerable.html#method-i-group_by)？它完全符合您的需要。

```
a.group_by {|b| b[:status] } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:17:24.597

这不是一个足够常见的操作来保证一个内置的描述方法，但我会稍微调整你的行。

而不是使用`#inject()`，如何使用[`#each_with_object()`](http://ruby-doc.org/core-2.0/Enumerable.html#method-i-each_with_object)？它更适合在迭代中传递相同的对象，因为这正是它所做的 - 它也比“注入”更具描述性，IMO。

这具有从块末尾删除的额外好处`; a`：这是使用注入在每次迭代之间传递相同对象的问题。因此，最后一行变为（通过一些变量名调整）：

```
ary.each_with_object({}) {|e, obj| (obj[e[:status]] ||= []) << e } 
```

each_with_object 的返回值是正在构建的哈希值，因此您可以将上述内容分配给变量，或从您的方法中返回它。

最后，如果您希望它在您的应用程序中更具描述性，请将该行包装在一个描述性的方法*中*：

```
def index_with_status(ary)
    ary.each_with_object({}) {|e, obj| (obj[e[:status]] ||= []) << e }
end 
```

# java - 从自定义 AbstractTableModel 向 JTable 添加/删除更多列

> ID：15920170
> 
> 赞同：1
> 
> 时间：2013-04-10T08:00:06.893
> 
> 标签：java, swing, jtable, tablemodel, abstracttablemodel

我有一个带有 HashMap 元素的向量。我想把它放在一个表中，并且每个 HashTable 值必须在具有 HashTable 键列标题的列中。因此键为“key1”的元素必须出现在名称为“key1”的表列上。

**问题是**当我尝试使用`setHash()`函数添加/删除表列时。我传递了一个带有更多/更少元素的 String[] ，当这个函数运行时，`fireTableStructureChanged()`java 会像疯了一样抛出。

我不明白问题出在哪里。你能帮我吗？

表模型的实现在这里：

```
public class ResizableTableModel extends AbstractTableModel {
  protected DataSource src;
  protected String[] hash;

  //......................

  public void setHash(String[] hash) {
        this.hash = hash;
        fireTableStructureChanged();  // THROWS!
  }

  public ArrayList getData() { return src.getData(); }
  public int getColumnCount() { return hash.length; }
  public int getRowCount() { return getData() == null ? 0 : getData().size(); }
  public String getColumnName(int col) { return hash[col]; }
  public boolean isCellEditable(int row, int col) { return true; }
  public Object getValueAt(int row, int col) {
    try {
      return ((HashMap) getData().get(row)).get(hash[col]);
    } catch (Exception e) {
      return null;
    }
  }
  public void setValueAt(Object obj, int row, int col) {
    try {
      //...................
    } catch (Exception e) {}
    fireTableDataChanged();
  }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:08:16.417

*   不要从 XxxTableModel 中删除列，

*   仅从 JTables 视图中删除[列](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTable.html#removeColumn%28javax.swing.table.TableColumn%29)，数据仍[存储在 XxxTableModel 中并可访问](https://stackoverflow.com/a/10089138/714968)

# javascript - 根据 First using Javascript 中的选择从第二个下拉列表中删除项目

> ID：15920185
> 
> 赞同：0
> 
> 时间：2013-04-10T08:01:14.740
> 
> 标签：javascript, drop-down-menu

我有四个下拉列表，我正在手动填充它们。

现在我想添加一个 javacsript，当我选择第一个下拉选项时，然后在第二个第三个第四个下拉列表中，可以删除该项目或选项。

同样的流程也适用于第二个第三个和第四个，依此类推。

我正在提供我的代码，但直到现在，它还不能正常工作。

我只关注第一个梯子，即选择第一个选项时，然后从第二个、第三个和第四个下拉列表中删除项目。

```
 function RemoveItems(){
     var List1 = document.getElementById("ddlSortField");
     var sortList1 = List1.options[List1.selectedIndex].text;

     var List2 = document.getElementById("ddlSortField2");
     var sortList2 = List2.options[List2.selectedIndex].text;
     List2.options.remove(sortList1);

     var List3 = document.getElementById("ddlSortField3");
     var sortList3 = List3.options[List3.selectedIndex].text;
     List3.options.remove(sortList2);

     var List4 = document.getElementById("ddlSortField4");
     var sortList4 = List4.options[List4.selectedIndex].text;
     List4.options.remove(sortList3);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:31:44.643

使用 jQuery 删除选项

```
$(document).ready(function(){
    $('#ddlSortField').change(function(){
        var index = $("#ddlSortField option:selected").val();

        $('#ddlSortField2 option:eq(' + index + ')').remove();
        $('#ddlSortField3 option:eq(' + index + ')').remove();
        $('#ddlSortField4 option:eq(' + index + ')').remove();
 });
}); 
```

请注意，在您的 html 中，您的选项值必须与此相同：

```
<select id="ddlSortField">
    <option value="1">test1</option>
    <option value="2">test2</option>
    <option value="3">test3</option>
</select>

<select id="ddlSortField1">
    <option value="1">test1</option>
    <option value="2">test2</option>
    <option value="3">test3</option>
</select> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:36:57.587

您可以使用这样的代码：[jsFiddle](http://jsfiddle.net/AhXqw/)。

基本上，您首先将`change`事件绑定到每个列表，然后在更改值后将这些元素隐藏在所有列表中......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:41:34.487

我做了一个与@Muhammad Omair 的稍有不同的，这个更有活力。**请注意，这是 jQuery**

```
var removeSelection = function(select) {
    $('select').filter(':not(#' + select.attr('id') + ')').each(function() {
        var index = select.find(':selected').index();
        $(this).find('option:eq(' + index + ')').remove();
    });
};

$(function() {
    $('select').change(function() {
        removeSelection($(this));
    });
}); 
```

这是它的一个jsfiddle [http://jsfiddle.net/cA3F9/](http://jsfiddle.net/cA3F9/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-10T08:44:41.730

在您的代码中：

```
> function RemoveItems(){ 
```

按照惯例，以大写字母开头的变量名是为构造函数保留的，因此：

```
function removeItems() {

>     var List1 = document.getElementById("ddlSortField");
>     var sortList1 = List1.options[List1.selectedIndex].text; 
```

所以*sortList1*将是一个字符串。

```
>     var List2 = document.getElementById("ddlSortField2");
>     var sortList2 = List2.options[List2.selectedIndex].text;
>     List2.options.remove(sortList1); 
```

*options*集合的[*remove*](http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-33404570)方法采用单个参数，该参数是选项之一的索引。您没有显示*sortList1的值或**List2*有多少选项。请注意，选项集合是实时的，因此如果您删除一个选项，其他选项的索引可能会被调整，以便它们从 0 到.***`options.length - 1`***

# android - Android Google Maps API V2 - 地图启动后的动画

> ID：15920188
> 
> 赞同：2
> 
> 时间：2013-04-10T08:01:23.893
> 
> 标签：android, google-maps, animation, android-maps-v2

我想在地图加载后添加一个动画。我的问题是，我不知道地图什么时候准备好。如果我在“setUpMapIfNeeded”功能之后开始动画，我会看到动画，但没有地图内容。

是否有任何功能可以告诉我何时加载地图内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:23:43.080

我遇到了类似的问题，并以子类化 MapFragment 并在以下位置调用回调接口结束`onViewCreated`：

```
public class TLMapFragment extends SupportMapFragment {

private TLMapCallBack callback;

public interface TLMapCallBack{
    public void onMapCreated();
}

public static TLMapFragment newInstance(TLMapCallBack callback){
    TLMapFragment fragment = new TLMapFragment();
    fragment.callback = callback;
    return fragment;
}

public TLMapFragment(){
    callback = null;
}

@Override
public void onViewCreated(View view, Bundle savedInstanceState) {
    super.onViewCreated(view, savedInstanceState);
    Log.v(TAG, "onViewCreated");
    initMap();
    if(callback != null)
        callback.onMapCreated();
}

private void initMap(){
       //init map here
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-15T13:18:48.987

是的，这是地图片段的 onCreateview 示例

```
@Override
    public View onCreateView(LayoutInflater arg0, ViewGroup arg1, Bundle arg2) {

        View v = super.onCreateView(arg0, arg1, arg2);    

        // init map
        mGoogleMap = getMap();

        // map loaded
        mGoogleMap.setOnMapLoadedCallback(new GoogleMap.OnMapLoadedCallback() {
            @Override
            public void onMapLoaded() {
                Log.d(LOG_CATEGORY, "map loaded");
                // do other stuff

            }
        });

        return v;
    } 
```

# php - 用几个数组创建标准类

> ID：15920193
> 
> 赞同：0
> 
> 时间：2013-04-10T08:01:35.583
> 
> 标签：php, arrays, foreach, while-loop, stdclass

我正在尝试创建包含几个数组的新 stdclass，然后将其转换为 json 数组，例如我有这个数组：

```
$my_arr = array (name=>myname1, adress=>myadd1, phone=>myphone1);
$my_arr2 = array (name=>myname2, adress=>myadd2, phone=>myphone2); 
```

**我想将它们合并到 STDClass，这是我尝试过的：**

```
$foo = new stdClass();
$foo->item1 = array();

foreach ($my_arr as $key => $value) {
$foo->item1[$key] = $value;
}

print_r($foo);
echo json_encode($foo); 
```

这里的问题是我只使用第一个数组，**结果应该是：**

```
"items":[
    [
        {
            "name":"myname1",
            "adress":"myadd1",
            "phone":"myphone1"
        },
        {
            "name":"myname2",
            "adress":"myadd2",
            "phone":"myphone2"
        },
        {
            "name":"myname3",
            "adress":"myadd3",
            "phone":"myphone3"
        }
    ]
], 
```

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:04:37.990

您不需要使用`stdClass`，只需数组即可。

```
$foo = array('items' => array($my_arr, $my_arr2));
echo json_encode($foo); 
```

当然你也可以使用`stdClass`：

```
$foo = new stdClass();
$foo->items = array($my_arr, $my_arr2);
echo json_encode($foo); 
```

# visual-studio-2010 - type_traits 错误

> ID：15920195
> 
> 赞同：1
> 
> 时间：2013-04-10T08:01:45.957
> 
> 标签：visual-studio-2010, visual-studio, visual-c++

在VS2010中我添加

```
#include <iostream> 
```

控制台应用程序模板我在 type_traits 中遇到很多错误

```
error C2275: '_Ty' : illegal use of this type as an expression  c:\program files (x86)\microsoft visual studio 11.0\vc\include\type_traits  762 1   pcl1 (Visual Studio 2010)
error C3861: '__is_standard_layout': identifier not found   c:\program files (x86)\microsoft visual studio 11.0\vc\include\type_traits  762 1   pcl1 (Visual Studio 2010)
error C2955: 'std::_Cat_base' : use of class template requires template argument list   c:\program files (x86)\microsoft visual studio 11.0\vc\include\type_traits  763 1   pcl1 (Visual Studio 2010)
error C2275: '_Ty' : illegal use of this type as an expression  c:\program files (x86)\microsoft visual studio 11.0\vc\include\type_traits  768 1   pcl1 (Visual Studio 2010)
an many others... 
```

我不知道为什么，但我认为这与我同时使用 VS2012 和 VS2010 的事实有关。如何解决？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-10T18:31:41.883

从错误消息中可以清楚地看出，您的 VS2010 项目以某种方式被引导查看 VS2012 包含目录，c:\program files (x86)\microsoft visual studio 11.0\vc\include。这从来都不是一个好主意。

检查 C/C++ / General / Additional Include Directories 下的项目设置。删除对编译器包含目录的任何引用。系统将自动找到编译器的正确目录。

# c# - 在 C# 中编写、显示和存储日文字符

> ID：15920196
> 
> 赞同：0
> 
> 时间：2013-04-10T08:01:55.333
> 
> 标签：c#

我正在做一个需要大量日文片假名、平假名和汉字字符的项目。原始文件是使用“ＭＳ Ｐゴシック”字体的excel文件。我遇到的问题似乎与此类问题和 c# 中的其他所有人相同。我找到的解决方案似乎都是从在 c# 程序中添加文本开始的。我想要做的是读取我制作成 c# 的 .xls 或 .txt 文件之一，使用普通 c# 函数（如字符串比较）处理数据。但是，当我这样做时，会发生注意。写入或显示数据会产生“？” 分数。这里没有什么新鲜事。

我用 c++ 尝试了同样的想法，并且效果很好。

问题是它必须是 c#，而不是 c++，才能与我正在使用的其他软件的互操作一起工作。

长话短说，与 c++（c 字符串）相比，c#（system.string）不能原生处理 unicode 吗？

我正在使用 Visual Studio C++ 2008 Express 和 Visual Studio C# 2010 Express。文件是相同的，但它适用于 c++ 而不是 c#。

抱歉，我好久没用英语了。我尝试了各种类型，以下是最新的但仍然是“？” 输出标记。

```
var reader = new StreamReader(File.OpenRead(@"C:\smallerBunShou.txt"), Encoding.UTF8);   
        while (!reader.EndOfStream)
        {
            var line = reader.ReadLine();
            var values = line.Split(',');

            listA.Add(values[0]);
           // listB.Add(values[1]);
           // listC.Add(values[2]);
        }

        int sizeOflistA = listA.Count();

        //using (System.IO.StreamWriter file = new System.IO.StreamWriter(@"C:\WriteLines2.txt"))
        var file = new StreamWriter(File.OpenWrite(@"C:\WriteLines2.txt"), Encoding.UTF8);
        {
            foreach (string line in listA)
            {
                // If the line doesn't contain the word 'Second', write the line to the file. 
                if (!line.Contains("Second"))
                {
                    file.WriteLine(line);
                }
            }
        } 
```

我也尝试过 Encoding.Unicode 等。我的电脑是日文 PC，软件大多是日文。根据迄今为止的答案之一，这不是 unicode 问题，日本 PC 使用 Shift-JIS，这很可能是我需要研究的。当我解决这个问题时，我会发布我的解决方案。

更新：看了一圈后，我发现了 Shift-JIS 编码方案。

```
Encoding.GetEncoding(932)); 
```

这解决了我的问题！感谢@EricFalsken 为我指明了正确的方向。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:05:41.820

普通的 .txt 文件不以 Unicode 格式保存。在通过 TextReader 和 Encoding.Unicode 运行 FileStream 时，您需要指定字节格式。

但请注意，大多数日本计算机和文档不使用 Unicode。他们仍然相当广泛地使用 Shift-JIS。

我可以向您保证，C# 中的所有字符串都本机支持 Unicode。

# python - Python 3.3 的 pyHook

> ID：15920203
> 
> 赞同：5
> 
> 时间：2013-04-10T08:02:18.210
> 
> 标签：python, keylogger, pyhook

我正在使用 Python 编写一个简单的键盘记录器。我希望使用 pyHook 来捕获键盘事件。我找不到任何已安装的用于 python 3.3 的 pyHook 包。python 3.3是否还有其他提供类似功能的模块？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-10T08:20:11.840

一个快速的谷歌出现了[这个网站](http://www.lfd.uci.edu/~gohlke/pythonlibs/#pyhook)，它有 Python 3.3 的 pyHook 1.5.1（和很多其他包）的非官方安装程序。我还没有测试过，但似乎值得一试。如果这一个不起作用，Google 结果的第一页上还有几个其他类似的存储库。

我还在 3.x 中找到了一些 fork `github`，比如[这个](https://github.com/Answeror/pyhook_py3k)，它修复了 Unicode 错误。我不知道这些错误是否已在主`pyHook`项目中修复（或已进入 1.5.1 版本），但如果您遇到问题，您可能需要查看一下。

如果您安装了编译器（MinGW 和/或 Visual Studio Express）并使用`easy_install`或`pip`自动安装包，如有必要从源代码构建它们，您将有更多选择。然后你就不需要搜索所有的二进制安装程序了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-10T08:34:33.183

abarnert 提到的非官方安装程序似乎工作正常。他们为几乎所有版本的 Python 提供安装程序——除了 3.5，目前无论如何都认为它是不稳定的 (07/10/14)，所以这不是一个大问题。

# eclipse-plugin - 在包资源管理器 Eclipse 中处理事件

> ID：15920204
> 
> 赞同：0
> 
> 时间：2013-04-10T08:02:18.807
> 
> 标签：eclipse-plugin, event-handling, package-explorer

我想阻止用户在我的插件运行时修改包资源管理器中的选定文件。

如果用户尝试更改文件，则应弹出自定义消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T20:44:14.663

实现您自己的编辑器启动器 ( `IEditorLauncher`)，它将显示此消息并将其与您不想修改的文件相关联。

[请参阅此](https://stackoverflow.com/questions/5444674/eclipse-common-navigator-framework)SO question中的示例。

另一种可能的方法是现在在包资源管理器中简单地显示这些文件（类似于通过 Java 插件隐藏 .class 文件）。

# asp.net-mvc - 无法将“ItemStore.Item”类型的对象转换为“System.Collections.IEnumerable”类型

> ID：15920205
> 
> 赞同：0
> 
> 时间：2013-04-10T08:02:18.963
> 
> 标签：asp.net-mvc, vb.net

在视图中显示项目列表时出现问题。无法将其从 ItemStore.Item 转换为 IEnumerable，我还在 list.vbhtml 中添加了“@Method List(Of ItemStore.Item)”，并且无法显示传入字典的项目，因为它的类型为“ Item Store.Item'，但此字典需要类型为“System.Collections.Generic.List`1[Item Store.Item]”的模型项。

***********目录控制器****** ** *** ** *** ** *******

 **```
 Function About() As ActionResult
        Return View()
    End Function

    Function Index() As String
        Return "Index"
    End Function

    Function List(search As String) As ActionResult
        Dim model As New SQLItemModel
        Dim items = model.SelectById(search)
        Return View(items)

    End Function 
```

****** *** ** ***** *List.vbhtml* ***** ** *** ** *** ********

 **```
 The search text is @ViewBag.Message

    @For Each item In Model
        @item.ID 
```

****** *** ** *** ***** *SQLItemModel.vb* ***** ** *** ** *** ** *** *****

 **```
Private connectionString As String = My.Settings.sqlconnection

Public Function SelectAll() As ICollection(Of Item)
    Dim items As New List(Of Item)
    Using connection As New SqlConnection(connectionString)
        connection.Open()
        Dim cmd As New SqlCommand("select * from item", connection)
        Dim reader As SqlDataReader = cmd.ExecuteReader()
        While reader.Read()
            items.Add(GetItem(reader))
        End While
    End Using
    Return items
End Function

Public Function SelectById(ItemID As Integer) As Item
    Dim item As Item = Nothing
    Using connection As New SqlConnection(connectionString)
        connection.Open()
        Dim cmd As New SqlCommand()
        cmd.CommandText = "select * from Tbl_Items where ID = @ID"
        cmd.Connection = connection
        cmd.Parameters.Add(New SqlParameter("ID", ItemID))
        Dim reader As IDataReader = cmd.ExecuteReader()
        If reader.Read() Then
            Item = GetItem(reader)
        End If
    End Using
    Return Item
End Function

Private Function GetItem(reader As SqlDataReader) As Item

    Dim ID = reader("ID")
    Dim ProductCode = reader("ProductCode")
    Dim Brand = reader("Brand")
    Dim Description = reader("Description")
    Dim Colour = reader("Colour")
    Dim Finish = reader("Finish")
    Dim Type = reader("Type")
    Dim Size = reader("Size")
    Dim Unit = reader("Unit")

    Return New Item(ID, ProductCode, Brand, Description, Colour, Finish, Type, Size, Unit)
End Function 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:40:23.687

`SelectById`只返回一个`Item`（同时`SelectAll`返回`Item`s 的集合），但您的 List 视图需要一个集合。

一个简单的解决方法是将单个项目包装在一个数组中：

```
Function List(search As String) As ActionResult
    Dim model As New SQLItemModel
    Dim items = model.SelectById(search)
    Return View({items})
End Function 
```******

# jquery - 复选框 onclick/onselect

> ID：15920206
> 
> 赞同：0
> 
> 时间：2013-04-10T08:02:23.163
> 
> 标签：jquery, checkbox

```
$('#Container').append('<input type="checkbox" id = '+ data[i].name + '/> ' + data[i].name + '<br />'); 
```

我有上面的代码来动态创建复选框。基于选择/取消选择复选框，我想操作一些东西。

1.  如果我选择 2 个复选框，我想将其存储为数组并将其存储到隐藏字段。是否可以将数组存储到隐藏字段中？

```
var selected = new Array();
$('#checkboxes input:checked').each(function() {
    selected.push($(this).attr('name'));
}); 
```

想要将选择的内容存储在隐藏字段中，以便我可以将其传递给另一个方法。

1.  我想以另一种方法（即在选择更改时）捕获选定复选框的 id 对于下拉

    `$('#dropdownid').change()`将类似地用于我想用于复选框选择。

选择复选框将复选框的值存储在数组中。将该数组与 ID 一起发送到其他方法中。

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:09:53.187

您无需将内容存储在另一个字段中即可将它们传递给*函数*（这就是您对“方法”这个词的意思吗？） - javascript函数可以访问变量和变量或参数将是与共享信息的自然方式方法。

另一方面，如果您想通过表单 POST 将数据提供给服务器端，那么您可能希望它位于隐藏字段中，并且您可能最好将其编码为 JSON，因为字段只能包含文本. 您需要解码 JSON 服务器端。

# sql - SQL Query 在 SSMS 中花费不到 1 秒，并且在代码中花费不到 1 秒

> ID：15920211
> 
> 赞同：3
> 
> 时间：2013-04-10T08:02:41.313
> 
> 标签：sql, sql-server

我正在对一个相当大的表运行此查询（我猜，大约 150-200 000 行）：

```
select count(Distinct(eti.Email)) FROM table1 eti 
LEFT OUTER JOIN table2 ti on ti.Email = eti.Email and ti.SiteId = eti.Site_Id 
WHERE eti.Site_Id=1 
```

在 SMMS（SQL Server Management Studio）中，执行时间不到 1 秒，但是当我尝试从我的 ASP.NET 站点执行时，它会超时。

我正在使用 PetaPoco 来获取“幕后”执行此代码的数据：

```
using (var cmd = CreateCommand(_sharedConnection, sql, args))
{
    object val = cmd.ExecuteScalar();
    OnExecutedCommand(cmd);
    return (T)Convert.ChangeType(val, typeof(T));
} 
```

我一直在读到 SSMS 在执行查询时有一些“特殊设置”？我真的需要启动并运行它。

连接中的“MARS”设置是否对此有任何影响？如何调试和发现问题？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:41:02.943

感谢您的帮助！

我终于找到了问题（这有点尴尬）......我发现这个来自 msdn 论坛的关于 sp_executesql 速度慢的博客问题：以及 SQL Server MVP 的 Dan Guzman 回答：[http ://social.msdn.microsoft.com /Forums/en-US/transactsql/thread/3cb08860-49a0-432a-8605-0af6b374dded/](http://social.msdn.microsoft.com/Forums/en-US/transactsql/thread/3cb08860-49a0-432a-8605-0af6b374dded/)

> 另一个可能的问题是参数和列数据类型之间的数据类型不匹配，从而导致非 sargable 表达式和错误的计划。如果您需要进一步的帮助，请发布您的查询和表格 DDL。

所以我加倍检查，结果发现 table2 的电子邮件和 SiteId 字段都设置为“Nullable”，将它们更改为匹配 table1 解决了这个问题。

# java - 如何检查 JSONObject 中的值的类型？

> ID：15920212
> 
> 赞同：57
> 
> 时间：2013-04-10T08:02:43.603
> 
> 标签：java, json

我正在尝试获取存储在`JSONObject`.

```
String jString = {"a": 1, "b": "str"};
JSONObject jObj = new JSONObject(jString); 
```

是否可以获取存储在 key 的值的类型`"a"`；像`jObj.typeOf("a") = java.lang.Integer`什么？

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2013-04-10T08:06:22.823

您可以借助[`JSONObject.get()`](http://www.json.org/javadoc/org/json/JSONObject.html#get%28java.lang.String%29)方法从 JSON 中获取对象，然后使用`instanceof`运算符检查对象的类型。

这些线上的东西： -

```
String jString = "{\"a\": 1, \"b\": \"str\"}";
JSONObject jObj = new JSONObject(jString);
Object aObj = jObj.get("a");
if (aObj instanceof Integer) {
    // do what you want
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-10T08:03:39.687

最好的解决方案是[`JSONObject.get()`](http://www.json.org/javadoc/org/json/JSONObject.html#get%28java.lang.String%29)使用运算符并检查类型`instanceof`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-03-19T11:06:35.243

请注意，它`JSONObject.get()`可能会返回一个整数 ，例如，`java.lang.Integer`我们看到`java.lang.Long``{a:3,b:100300000000}`

```
D/+++     ( 5526): +++a=>class java.lang.Integer:3
D/+++     ( 5526): +++b=>class java.lang.Long:100300000000 
```

我使用类似的代码（请注意，我们使用类型`long`and`double`而不是`int`and `float`，并且在我的任务中可能***没有嵌套`JSONObject`或`JSONArray`***不支持它们）：

```
 for (String k : new AsIterable<String>(json.keys())) {
            try {
                    Object v = json.get(k);
        //Log.d("+++","+++"+k+"=>"+v.getClass()+":"+v);
                    if (v instanceof Integer || v instanceof Long) {
                            long intToUse = ((Number)v).longValue();
                            ...
                    } else if (v instanceof Boolean) {
                            boolean boolToUse = (Boolean)v).booleanValue();
                            ...
                    } else if (v instanceof Float || v instanceof Double) {
                            double floatToUse = ((Number)v).doubleValue();
                            ...
                    } else if (JSONObject.NULL.equals(v)) {
                            Object nullToUse = null;
                            ...
                    } else {
                            String stringToUse = json.getString(k);
                            ...
                    }
            } catch (JSONException e2) {
                    // TODO Auto-generated catch block
                    Log.d("exc: "+e2);
                    e2.printStackTrace();
            }
    } 
```

where`AsIterable`让我们将`for(:)`循环与迭代器一起使用，并定义为：

```
public class AsIterable<T> implements Iterable<T> {
    private Iterator<T> iterator;
    public AsIterable(Iterator<T> iterator) {
        this.iterator = iterator;
    }
    public Iterator<T> iterator() {
        return iterator;
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-04-12T10:41:28.020

我发现这种方法可以在 JSON / Json 中查找元素值的数据类型。它对我来说工作得很好。

```
JSONObject json = new JSONObject(str);
                Iterator<String> iterator = json.keys();

                if (iterator != null) {
                    while (iterator.hasNext()) {
                        String key = iterator.next();
                        Object value = json.get(key);
                        String dataType = value.getClass().getSimpleName();

                        if (dataType.equalsIgnoreCase("Integer")) {
                            Log.i("Read Json", "Key :" + key + " | type :int | value:" + value);

                        } else if (dataType.equalsIgnoreCase("Long")) {
                            Log.i("Read Json", "Key :" + key + " | type :long | value:" + value);

                        } else if (dataType.equalsIgnoreCase("Float")) {
                            Log.i("Read Json", "Key :" + key + " | type :float | value:" + value);

                        } else if (dataType.equalsIgnoreCase("Double")) {
                            Log.i("Read Json", "Key :" + key + " | type :double | value:" + value);

                        } else if (dataType.equalsIgnoreCase("Boolean")) {
                            Log.i("Read Json", "Key :" + key + " | type :bool | value:" + value);

                        } else if (dataType.equalsIgnoreCase("String")) {
                            Log.i("Read Json", "Key :" + key + " | type :string | value:" + value);

                        }
                    }
                } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-11-12T08:51:20.183

`instanceof`不适合我。在最新版本中动态获取字段的数据类型，而不是使用`JSONObject.get`你可以做的就是`JsonPrimitive`像这样获取它

`JsonPrimitive value = json.getAsJsonPrimitive('key');`

现在你可以打电话

`value.isNumber()` `value.isBoolean()` `value.isString()`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-10T08:07:09.120

您可以将所有数据解析为`String`，然后尝试将其转换为所需的类型。此时您可能会捕获异常并确定解析数据的类型。

# jquery - 下降时的 z-index

> ID：15920214
> 
> 赞同：1
> 
> 时间：2013-04-10T08:02:45.343
> 
> 标签：jquery, jquery-ui

对于我的板，我有一个 div，我可以在其中放置 imgs，可以在板上拖动它。

我用

```
 drop: function (event, ui) 
{
    ui.draggable.clone(false)
    .removeClass('original ')
    .addClass('draggable').appendTo($(this))
    .draggable({stack: ".draggable", containment: '#board' })
    .resizable
    ({containment:'#board',aspectRatio: true})
    .css({position: 'absolute'})
;} 
```

在下降

我用

```
 .draggable({stack: ".draggable", containment: '#board' }) 
```

将最后拖动的项目设置在顶部。

但是当我添加一个新的并且最后一个图像设置为 div 板的大小时，新删除的项目将不可见，因为它的 z-index （堆栈）较低。

有没有办法获得最高的 z-index 并为新添加的 z-index 再增加 1 个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:09:07.147

好吧，您可以自己构建一个函数并循环遍历它们以获取最高的 z-index 值。

```
assignHighestZ = function(elements,newElement) {
   var _z = 0;

   elements.each(function() {
      if(parseInt($(this).css('z-index')) > _z) {
         _z = parseInt($(this).css('z-index'));
      }
   });

   z++;
   newElement.css('z-index',z);
} 
```

# mysql - 在 Ubuntu 上连接 mysql 时出错

> ID：15920215
> 
> 赞同：0
> 
> 时间：2013-04-10T08:02:46.530
> 
> 标签：mysql, ruby-on-rails, ubuntu

我在 Ubuntu 上使用 mysql 部署 Rails 应用程序，运行时`rake db:migrate`出现错误`Can't connect to local MySQL server through socket '/tmp/mysql.sock'`。

顺便说一句，我通过apt-get安装了mysql。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:06:04.670

我在这个页面上得到了答案[http://www.davideisinger.com/article/getting-started-with-ubuntu](http://www.davideisinger.com/article/getting-started-with-ubuntu)

> 最后一步仅适用于 Ruby on Rails。无论出于何种原因，Ubuntu 将 mysql.sock 文件放在与大​​多数 Linux 发行版不同的位置，这让 Rails 感到困惑。为了将其指向正确的位置，请创建以下符号链接：

`ln -s /var/run/mysqld/mysqld.sock /tmp/mysql.sock`

因为你的应用程序中的默认 database.yml 写了这个`socket: /tmp/mysql.sock`

# openstreetmap - 如何从 osm 获取预定义的行程

> ID：15920218
> 
> 赞同：0
> 
> 时间：2013-04-10T08:03:06.203
> 
> 标签：openstreetmap

我正在尝试模拟车辆行驶时的行为，我需要获取一些示例行程（起点，类似于路线）。这个过程应该是自动的。通过导入痕迹。我知道planet.osm 拥有所有信息，但它太多了。所以问题是，有没有简单的方法来执行这个任务？非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T06:45:22.407

您正在寻找随机路线？为什么不直接选择两个相距不远的随机位置，并使用众多[在线](http://wiki.openstreetmap.org/wiki/Routing/online_routers)或[离线](http://wiki.openstreetmap.org/wiki/Routing/offline_routers)路由器之一在它们之间生成路由？您甚至可以添加一些通过点以使路线更复杂。使用在线路由器，您甚至不需要本地数据库。

# php - 上传文件后在同一页面上加载对div的php响应

> ID：15920221
> 
> 赞同：1
> 
> 时间：2013-04-10T08:03:22.200
> 
> 标签：php, jquery, upload

我正在将文件上传到 PHP 脚本。它处理并给出响应。我想在同一网页的 div 或框架中加载该响应。现在下面的脚本在空白网页中给出响应。请帮我解决这个问题。php:

```
<html>
<head>
<script type="text/javascript">
function init() {
if(top.uploadDone) top.uploadDone();
}
window.onload=init;
</script>
<body>
<?php
$fn = (isset($_SERVER['HTTP_X_FILENAME']) ? $_SERVER['HTTP_X_FILENAME'] : false);
if ($fn) {
file_put_contents(
    'uploads/' . $fn,
    file_get_contents('php://input')
);
echo "$fn uploaded";
exit();
}
else {
// form submit
$files = $_FILES['fileselect'];
//print $files['name'];
foreach ($files['error'] as $id => $err) {
    if ($err == UPLOAD_ERR_OK) {
        $fn = $files['name'][$id];
        move_uploaded_file(
            $files['tmp_name'][$id],
            'uploads/' . $fn
        );
        if($id==1)
        {
            $filename = 'uploads/' . $fn;
            $fp = fopen( $filename, "r" ) or die("Couldn't open $filename");
               $line = fgets($fp);
               fclose($fp);
               $arr = split(",",$line);
               for($i=2;$i< count($arr);$i++)
                {
                    print '<input type="checkbox" name="traits" value="1">'.$arr[$i]."<br>";
                }

        }
    }
}
}
?>
</body>
</html> 
```

**查询：**

```
 function init() {
document.getElementById("upload").onsubmit=function() {
    document.getElementById("upload").target = "Analysis";
    document.getElementById("Analysis").onload = uploadDone;    }
 }
 function uploadDone() { //Function will be called when iframe is loaded
var ret = frames['Analysis'].document.getElementsByTagName("body")[0].innerHTML;
} 
```

**HTML 脚本：**

```
 <div id="content_column">

            <form id="upload" action="upload.php" method="POST" enctype="multipart/form-data">

            <fieldset>
            <div id="Geno" style="display:none">
            <strong>Select Genotypic File</strong>
            <input type="hidden" id="MAX_FILE_SIZE" name="MAX_FILE_SIZE" value="300000" />
            <div>
                <input type="file" id="fileselect" name="fileselect[]"  />
            </div> 
            </div>
 <P>
            <div id="Peno" style="display:none">
            <strong>Select Penotypic File</strong>

            <div>
                <input type="file" id="fileselect1" name="fileselect[]"   />
            </div>
            </div>
 <P>
            <div id="Other" style="display:none">
            <strong>Select Other Files*</strong>
            <div>
                <input type="file" id="fileselect2" name="fileselect[]"    multiple="multiple" />
            </div>
            </div>
            <div id="submitbutton" style="display:none">
                <INPUT TYPE="Submit" VALUE="Upload" />
            </div>
            </fieldset>
            </form>
        <iframe id="Analysis" name="Analysis" src="" ></iframe>
        </div> 
```

提前谢谢你。.

# php - 将菜单排序位置保存到后端

> ID：15920223
> 
> 赞同：1
> 
> 时间：2013-04-10T08:03:24.667
> 
> 标签：php, jquery, mysql

## 介绍

我目前使用 jQuery`.sortable`函数，它就像一个魅力。然而，这只是客户端，我想将新的排序位置存储到后端（mySQL 数据库）。

我使用数字字段存储排序顺序（并使用 SQL 检索`ORDER BY`）。

```
Menu text     Sorting ID
------------   ---------
Menu item #1 => 0
Menu item #2 => 1
Menu item #3 => 2
Menu item #4 => 3 
```

## 当前的 HTML 代码

```
<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery UI Sortable - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <style>
  #sortable { list-style-type: none; margin: 0; padding: 0; width: 60%; }
  #sortable li { margin: 0 3px 3px 3px; padding: 0.4em; padding-left: 1.5em; font-size: 1.4em; height: 18px; }
  #sortable li span { position: absolute; margin-left: -1.3em; }
  </style>
  <script>
  $(function() {
    $( "#sortable" ).sortable();
    $( "#sortable" ).disableSelection();
  });
  </script>
</head>
<body>

<ul id="sortable">
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #1</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #2</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #3</li>
  <li class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #4</li>
</ul>

</body>
</html> 
```

Tinker.io 链接：[http ://tinker.io/b3f27](http://tinker.io/b3f27)

## 问题

现在，我将如何将新位置存储到数据库中？将 ID 添加到可排序并将其发布回`php`脚本，该脚本将查找排序位置并切换它们是我会做的，但我期待您的意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:19:07.997

这是更新后使用 AJAX 发送数据的基本思想：

JS：

```
$("#sortable").sortable({
  update : function () {
      var items = $('#sortable').sortable('serialize');
    $.get("sort.php?"+items);
  }
}); 
```

HTML：

```
<ul id="sortable">
  <li id="s_1" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #1</li>
  <li id="s_2" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #2</li>
  <li id="s_3" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #3</li>
  <li id="s_4" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Menu item #4</li>
</ul> 
```

这里你需要为每个LI设置id，请看[工作演示](http://tinker.io/b3f27/1)

PHP：

```
<?php
var_dump($_GET);
?> 
```

[你可以在这里](https://stackoverflow.com/questions/7342727/jquery-ui-saving-sortable-list)找到更详细的答案

# ajax - 带有 ajax 处理程序的 WP_Query 返回相同的帖子

> ID：15920224
> 
> 赞同：0
> 
> 时间：2013-04-10T08:03:27.653
> 
> 标签：ajax, wordpress, jquery

我有一个让我秃头的问题。我有一个 ajax 调用来处理一个循环，该循环处理一些查询并为我返回帖子。

到目前为止一切都很好，但是当用户第一次看到页面时，我们应该加载 10 个帖子，然后我们想点击一个按钮来请求另外 5 个。

到目前为止，一切都很好。

但是当我们请求另外 5 个帖子时，我们又得到了 5 个第一个帖子。

我的批处理循环

```
<?php   
// Our include  
define('WP_USE_THEMES', false);  
require_once('../../../wp-load.php');  

// Our variables  
$posts = (isset($_GET['numPosts'])) ? $_GET['numPosts'] : 0;  
$page = (isset($_GET['pageNumber'])) ? $_GET['pageNumber'] : 0;  
$category = (isset($_GET['category_name'])) ? $_GET['category_name'] : 0;  

var_dump($posts);

$args = array(  
    'posts_per_page' => $posts,
    'category_name'  => $category, 
    'post_status'    => 'publish',
    'orderby'        => 'date',
    'order'          => 'DESC',
    'paged'          => $page 
);

query_posts($args);  

// $query = new WP_query($args);

// our loop  
if (have_posts()) {  

    $paged = (get_query_var('paged')) ? get_query_var('paged') : 1; query_posts($args);

       while (have_posts()){  
              the_post();  

              get_template_part( 'thumbs', get_post_format() );  
       }  
} 

// unset($page, $posts, $category);

// wp_reset_postdata();
wp_reset_query();
?> 
```

有没有人看到我做错了什么？

编辑：

批处理程序

```
 function _batchhandler() { 
        var getamount = localStorage.getItem('amount'); 

        console.log('amount of posts to retrive ' + JSON.parse(getamount));

        // Ajax call
        $.ajax({
            type: 'GET',
            data: {
                posts: getamount, 
                page: page,
                category: 'work'
            },
            dataType: 'html',
            url: 'http://dev.xxx.se/wp-content/themes/xxx/batch.php',
            beforeSend: function() {
                _setHeader;
                if( page != 1 ) {
                    console.log('Loading');
                    // Show the preloader
                    $('body').prepend('<div class="preloader"><span class="rotate"></span></div>');
                }
                // If we reach the end we hide the show more button
                if( page >= total ) {
                    $('.load').hide();
                }
            },
            success: function(data) {
                console.log(page);  
                var scroll = ($('.thumb').height() * posts);
                // If thumbs exist append them
                if( data.length ) { 
                    // Append the data
                    $('#batch').append(data);

                    // Remove the crappy width and height attrs from the image * Generated by WP *
                    $('img').removeAttr('height').removeAttr('width');

                    // Animate each new object in a nice way
                    (function _showitem() {
                        $('#batch .thumb:hidden:first').addClass('show', 80, _showitem);

                        // On the last request do load any more
                        loading = false;  
                    })();

                    // Remove the preloader
                    $('.preloader').fadeOut(200, function() {
                        $('.preloader').remove();   
                    });
                }
                // return false;
            },
            complete: function() {
                // Delete storage
                localStorage.clear();

                // Update the scroller to match the updated content length
                if (scroller)
                    setTimeout("scroller.refresh()", 300);

                // Initalize the load more button
                _clickhandler();
            },
            error: function() {
                console.log('No page found');
            }
        });
    } 
```

和我的加载更多按钮功能

```
 $('.load').on('click', function(event) {
            event.preventDefault(); 
            // Delete storage
            localStorage.clear();

            if(!loading) {
                loading = true;
                // Increase our pagenumber per click
                page++;
                count++;
                // Remove preloader
                $('.preloader').remove();

                setTimeout(function() {
                    $('#batch').css({
                        '-webkit-transform' : 'translateY(-' + ($('#batch li').outerHeight() * count)  + 'px)'
                    });
                }, 30);

                // Clear storage and set a new
                localStorage.setItem('amount', JSON.stringify(amount.medium));
                var getamount = localStorage.getItem('amount');

                // Send the request to the handler                  
                _batchhandler(page);    
            }      

        }); 
```

一切似乎都很好，前 10 个 (1-10) 帖子加载正常，但第一次单击“加载更多”时，我们得到接下来的 5 个结果，但结果是第一次加载的帖子 (5-10)。如果我们再次点击“加载更多”，我们会得到正确的结果

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:36:17.210

我认为您没有为页面定义起始值，在脚本开始时将其设置为 1，这样当它在单击时递增时，它会转到第 2 页。否则它只会得到第一页。

# sql - VB.Net使用GridView绑定字段计算值并将值输出到另一个字段

> ID：15920231
> 
> 赞同：2
> 
> 时间：2013-04-10T08:03:46.550
> 
> 标签：sql, vb.net, gridview, boundfield

在 GridView 中，是否可以使用两个或多个 asp BoundFields 的输出来计算一个值，然后将其输出到它自己的字段中？

例如，从两个绑定字段计算 %：

```
Amount    Total    % (calculated field from Amount / Total * 100)
137       69       50.4 
```

还是使用 SQL 生成此计算并将结果输出到它自己的 BoundField 更好？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:10:34.933

使用`TemplateField`而不是`BoundField`

```
<asp:TemplateField HeaderText="Calculation">
    <ItemTemplate>
        <asp:TextBox ID="tb" runat="server" 
                     Text='<% ((Convert.ToDecimal(Eval("Amount"))/Convert.ToDecimal(Eval("Total")))*Convert.ToDecimal(100)).ToString() %>' >  
        </asp:TextBox>
   </ItemTemplate>
</asp:TemplateField> 
```

# asp.net - IIS 在哪里查找文件

> ID：15920234
> 
> 赞同：0
> 
> 时间：2013-04-10T08:03:54.480
> 
> 标签：asp.net, iis-7.5

谁能解释一下.net是如何工作的。我在 Visual Studio 中创建了一个网站并将其发布到本地服务器的文件夹中

```
D:\WebSites\Project1 
```

我在 IIS 中创建了一个网站，并提供了包含该网站文件的文件夹的地址。当我使用“固定命名和单页程序集”发布站点时，所有 .aspx 文件都放在 D 驱动器上的文件夹中，每个页面的 dll 都放在该文件夹内的 bin 文件夹中。

我假设当有人想在他们的浏览器中查看页面时，IIS 从指定的文件夹中检索所需的文件，它们被处理并转换为 html 并发送到浏览器。

最近当有人点击一个调用web服务的页面上的一个按钮时- 报告了一个找不到文件的错误。显然

```
C:\Temp\bx5tn2js.dll 
```

找不到。问题是 - 为什么 IIS 决定在 C:\Temp 中查找文件？

而且，错误消息中包含大量对 xml 序列化的引用。什么是序列化的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:42:54.943

这个文件看起来像[asp.net 在编译时生成的编译文件。](http://msdn.microsoft.com/en-us/library/ms178466(v=vs.100).aspx)

这个文件夹可以在 web.config 上设置[`compilation`，](http://msdn.microsoft.com/en-us/library/s10awwz0(v=vs.100).aspx)与

```
tempDirectory="C:\Temp" 
```

如果您没有设置此选项，asp.net 将使用默认文件夹，该文件夹通常位于 asp.net 目录中，在 windows 文件夹中。但是如果你设置了这个，并且这个文件夹没有正确的权限，那么asp.net编译项目失败，你会得到这样的消息。

# java - ANTLR 可以隐藏自动生成文件中的第一行消息吗？

> ID：15920239
> 
> 赞同：1
> 
> 时间：2013-04-10T08:04:09.097
> 
> 标签：java, eclipse, antlr

我在工作中使用 ANTLR 3.5。但是，自动生成的文件（词法分析器和解析器）总是会收到以下消息：

```
"$ANTLR 3.5 D:\\PATH_OF_ANTLR_FILE\\Expression.g 2013-04-10 15:34:48" 
```

无论如何要隐藏此消息吗？我想隐藏消息，因为我将这些文件带入版本控制系统。如果此消息中的日期信息与之前的不匹配，版本控制系统将收到冲突消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T19:58:38.003

ANTLR 没有办法禁用此消息。但是，这不会导致源代码管理出现问题，因为*至少*对 Java、CSharp2 和 CSharp3 目标的推荐使用涉及在构建时从语法自动生成解析器，并且生成的文件本身被排除在源代码管理之外。

# xna - XNA：列表中实体的位置

> ID：15920241
> 
> 赞同：0
> 
> 时间：2013-04-10T08:04:16.360
> 
> 标签：xna

我正在制作一个垂直平台游戏。我放置平台的方式是通过列表：

 `````
 public void LoadPlatforms(ContentManager content, Mechanic_Levels mech, Clide clide)
    {
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());
        platforms.Add(new Entity_Platform());

       // factory.Add(new Entity_Factory());

        foreach (Entity_Platform platform in platforms)
        {
            platform.position = new Vector2(rand.Next(20, 280), rand.Next(20, 580));
            platform.currentlevel = rand.Next(12);
            platform.LoadPlatform(content);
           }
        } 
```` 

`这适用于如果我想随机放置平台但我将如何设置它以便根据当前级别平台单独重新定位自己？我知道这可能意味着我不能使用列表。`

 `* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:10:51.330

我不确定我是否给你一个 100%，但你可以通过提供一个比较方法来对你`Entity_Platform`的 s进行排序，比如`List<Entity_Platform>`

```
private static int ComparePlatforms(Entity_Platform x, Entity_Platform y)
{
        //compare your platforms according to chosen critieria
        //should return 1 if x > y, 0 if x == y, and -1 if x < y
} 
```

之后你可以使用

```
platforms.Sort(ComparePlatforms); 
```

有关MSDN 示例，请参见[此处。](http://msdn.microsoft.com/en-us/library/w56d4y5z.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:26:15.447

我认为也许一个答案（而不是评论）是合适的。我认为您要问的是如何根据预先确定的设计为每个级别加载平台集合。

保留您当前的`LoadPlatforms`方法，我将添加另一种方法，该方法将根据级别获取平台。例如：

```
public List<Entity_Platform> GetPlatformsForLevel(int level)
{
    //for this example I will hard-code the platforms, you can pull them from another source if you wish

    List<Entity_Platform> platforms = new List<Entity_Platform>();

    switch(level)
    {
        case 1:
        {
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(100, 50) });
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(200, 100) });
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(300, 75) });
        }
        break;
        case 2:
        {
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(80, 20) });
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(160, 200) });
            platforms.Add(new Entity_Platform() { currentLevel = level, position = new Vector2(250, 50) });
        }
        break;
    }

    return platforms;
} 
```

然后你可以`LoadPlatforms`像这样在你的方法中调用它：

```
public void LoadPlatforms(ContentManager content, Mechanic_Levels mech, Clide clide)
{
    int currentLevel = 1;//you need to track the current level somewhere

    List<Entity_Platform> platforms = GetPlatformsForLevel(currentLevel);

    foreach (Entity_Platform platform in platforms)
    {
        platform.LoadPlatform(content);
    }
} 
`````

# hlsl - 将混合 cg/hlsl 着色器转换为 glsl es

> ID：15920244
> 
> 赞同：2
> 
> 时间：2013-04-10T08:04:19.943
> 
> 标签：hlsl, cg, glsles, hlsl2glsl

我正在寻找一种可以将 cg/hlsl 混合着色器转换为 glsl es 着色器的工具。我尝试了 hlsl2glsl，它不理解关键字“extern”，尽管它是一个可行的 hlsl 关键字并且已经查看了 cgc，但没有找到关于如何为 glsl es 编译的文档。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-12T11:31:58.153

老问题，我知道，但无论如何我都会提供这个答案。

我在 [合法地] 想要使用一些针对 Unity 的精细 CG 着色器代码时遇到了这个问题 ;-)

**查看 Github 上的 CG-shader-to-GLSL-shader Python 转换脚本“ [cg2glsl.py](https://github.com/libretro/RetroArch/blob/master/tools/cg2glsl.py) ”（它需要`cgc`在包中找到的命令[`nvidia-cg-toolkit`](https://developer.nvidia.com/cg-toolkit)，大多数操作系统都支持。**

['从 cg 着色器转换](https://github.com/libretro/RetroArch/wiki/GLSL-shaders#converting-from-cg-shaders)'中简要概述了它的用法

引自 Tomaka17 的 CG-to-GLSL 相关博文[“Turning Cg into GLSL, then using the code”](http://blog.tomaka17.com/2010/09/turning-cg-into-glsl-and-then-using-the-code)

> Cg 是 nVidia 开发的着色语言。基本上，你用 Cg 编写所有的着色器……事实上，Cg 会将你的代码编译成特定于 API 的语言。

在[Tomaka17 的](http://blog.tomaka17.com/2010/09/turning-cg-into-glsl-and-then-using-the-code)示例中，他使用 C++ 拦截 nVidia CG 库调用以提取编译后的 GLSL 代码，我认为这在概念上与[cg2glsl.py](https://github.com/libretro/RetroArch/blob/master/tools/cg2glsl.py)将执行的操作相同（尽管不必通过其 Python 用法编译代码）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-13T12:17:16.967

cgc 文件名 -profile glslv/glslf

但是你必须为 glsl es 添加 presecion，cg 编译器不是这个

# php - JS 和 HTML 发布不同的表依赖浏览器版本

> ID：15920250
> 
> 赞同：0
> 
> 时间：2013-04-10T08:04:31.563
> 
> 标签：php, javascript, html

我在创建动态表时遇到问题，该表会`Internet Explorer 6`因为`json`使用而起作用。我实际上找到了不错的工作。我想实现`html`根据用户浏览器版本显示不同表格的脚本。
这是我的浏览器版本检测器脚本：

```
<script>
    function getInternetExplorerVersion()
    // Returns the version of Windows Internet Explorer or a -1
    // (indicating the use of another browser).
    {
        var rv = -1; // Return value assumes failure.
        if (navigator.appName == 'Microsoft Internet Explorer'){
            var ua = navigator.userAgent;
            var re  = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
            if (re.exec(ua) != null)
                rv = parseFloat( RegExp.$1 );
        }
        return rv;
    }
function checkIEVersion()
{
   var ver = getInternetExplorerVersion();
   if ( ver> -1 )
   {
      if ( ver == 6.0 ){
    <? echo"<TABLE id=\"tableToModify\" width=\"1100px\" border=\"1\"  class='list questionaire' width='600'>";
    echo" <TR class='columndesc'>";
    echo"<TD WIDTH=\"50%\">Col1<font color=\"red\">*</font></TD>";
    echo"<TD WIDTH=\"50%\">Col1<font color=\"red\">*</font></TD>";

    echo  "</TABLE>";   ?>     
   }
    echo"<TABLE id=\"tableToModify\" width=\"1100px\" border=\"1\"  class='list questionaire' width='600'>";
    echo" <TR class='columndesc'>";
    echo"<TD WIDTH=\"22%\">Col1<font color=\"red\">*</font></TD>";
    echo"<TD WIDTH=\"22%\">col2<font color=\"red\"></font></TD>";
    echo"<TD WIDTH=\"22%\">col3<font color=\"red\"></font></TD>";
    echo"<TD WIDTH=\"22%\">col4<font color=\"red\">*</font></TD>";
    echo" <TD WIDTH=\"22%\">col5<font color=\"red\">*</font></TD>";
    echo" <TD WIDTH=\"12%\"> col6<font color=\"red\">*</font></TD>";
    echo  "</TABLE>";

?>
}
}
checkIEVersion();
</script> 
```

但现在我得到了 errorz : `uncaught syntax exception`。我确实意识到这`php - echo`是原因，但我无法提出另一个想法，尤其是当我希望这张桌子显示在我想要的位置时：

```
Some html fields, imput tables buttons forms 
```

```
Script I posted above 
```

```
other form fields etc 
```

总结一下，我`HTML`在脚本上方和下方都有代码。
谁能给我一个提示如何解决我的问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:18:55.570

我相信这就是您所需要的（可能需要根据您的需要进行调整）：

```
function getInternetExplorerVersion()
// Returns the version of Windows Internet Explorer or a -1
// (indicating the use of another browser).
{
    var rv = -1; // Return value assumes failure.
    if (navigator.appName == 'Microsoft Internet Explorer') {
        var ua = navigator.userAgent;
        var re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
        if (re.exec(ua) != null) rv = parseFloat(RegExp.$1);
    }
    return rv;
}

function checkIEVersion() {
    var ver = getInternetExplorerVersion();
    if (ver > -1) {
        if (ver == 6.0) {
            $html = "<TABLE id=\"tableToModify\" width=\"1100px\" border=\"1\"  class='list questionaire' width='600'>" +
            "<TR class='columndesc'>" +
            "<TD WIDTH=\"50%\">Col1<font color=\"red\">*</font></TD>" +
            "<TD WIDTH=\"50%\">Col1<font color=\"red\">*</font></TD>" +
            "</TABLE>";
        } else {
            $html = "<TABLE id=\"tableToModify\" width=\"1100px\" border=\"1\"  class='list questionaire' width='600'>" +
            "<TR class='columndesc'>" +
            "<TD WIDTH=\"22%\">Col1<font color=\"red\">*</font></TD>" +
            "<TD WIDTH=\"22%\">col2<font color=\"red\"></font></TD>" +
            "<TD WIDTH=\"22%\">col3<font color=\"red\"></font></TD>" +
            "<TD WIDTH=\"22%\">col4<font color=\"red\">*</font></TD>" +
            "<TD WIDTH=\"22%\">col5<font color=\"red\">*</font></TD>" +
            "<TD WIDTH=\"12%\"> col6<font color=\"red\">*</font></TD>" +
            "</TABLE>";
        }
        document.write($html);
    }
}
checkIEVersion(); 
```

# c# - 如何让课堂更易测试？

> ID：15920253
> 
> 赞同：6
> 
> 时间：2013-04-10T08:04:40.720
> 
> 标签：c#, .net, oop, unit-testing, encapsulation

我有这个：

```
 class FooGenerator:IFooGenerator {
      private object _generated;

      public void Generate() {
         // Generating
         GenerateSmallPart();
         GenerateOtherSmallPart();
         GenerateTinyPart();
         // A lot similar
      }

      private void GenerateSmallPart() {
         //add small part to _generated
      }

      private void GenerateOtherSmallPart() {
         //add small part to _generated
      }

      private void GenerateTinyPart() {
         //add small part to _generated
      }
   }

   internal interface IFooGenerator {
      void Generate();
   } 
```

在我的应用程序中，我仅`IFooGenerator`通过 IoC 使用，但我想测试所有这些子方法。

正如我在[这里](https://stackoverflow.com/questions/250692/how-do-you-unit-test-private-methods)发现的，一种选择是使用所有子方法提取类。但为什么我需要这样做。它仅用于`FooGenerator`.

你有什么建议我怎样才能让我的课更容易测试？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:29:02.943

我将与您分享我通常如何处理这种情况。如果我发现出于某种原因想要测试一些私有方法（比如很难存根输入参数来测试所有代码流）——这通常对我来说意味着我的类的复杂性很高，我需要重构我的代码。在你的情况下（我不知道你的方法在做什么）你可以使用类似的东西：

```
interface IPartGenerator
{
   void GeneratePart();
}

class SmallPartGenerator : IPartGenerator
{
   void GeneratePart();
}

class OtherSmallPartGenerator : IPartGenerator
{
   void GeneratePart();
}

class TinyPartGenerator : IPartGenerator
{
   void GeneratePart();
}

class FooGenerator:IFooGenerator 
{
   private IPartGenerator[] partGenerators = new IPartGenerator[] 
                        {
                           new SmallPartGenerator(), 
                           new OtherSmallPartGenerator(), 
                           new TinyPartGenerator ()
                        }

   public void Generate()
   {
        foreach (var partGenerator in partGenerators)
        {
              partGenerator.GeneratePart();
        }
   }
} 
```

现在您可以分别测试每个零件生成器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:20:59.523

客户是谁？

许多人（[Roy Osherove](http://artofunittesting.com/)、[Michael Feathers](http://www.amazon.co.uk/Working-Effectively-Legacy-Robert-Martin/dp/0131177052)）认为测试客户端与接口或服务客户端一样有效。

考虑到这一点，我认为通过公开一些私有方法来打开可测试的接缝来稍微违反封装原则是可以的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T10:41:38.143

你的类不是一件事而是几件事——每件事都封装在一个私有方法中。这违反了单一职责原则 (SRP)。根据 SRP，一个类应该只做一件事。

Neil Thompson 建议您应该公开私有方法。这至少使它们可以被单元测试访问，但它们仍然违反 SRP。如果您的班级有很多不同的事情，那么启动通常很复杂；您必须在满足所有方法需求的状态下创建类，尽管您只想测试一个小角落。这对可测试性没有任何好处。

在此之后，outcoldman 的答案是更合理的设计。他的代码没有违反 SRP。

# c++ - “模板”消歧器是 c++11。VS2008编译器有机会吗？

> ID：15920261
> 
> 赞同：3
> 
> 时间：2013-04-10T08:05:02.067
> 
> 标签：c++, templates, visual-studio-2008, g++

几周前[，我发布了这个](https://stackoverflow.com/questions/15572415/expected-primary-expression-before-in-g-but-not-in-microsoft-compiler)关于奇怪错误消息的问题。罪魁祸首是对 < 标记的错误解析，通过使用“模板”消歧器关键字解决了这个问题。

不过，我们发现了一个意想不到的丑陋惊喜。模板消歧器是c++11，但是我们需要支持VS2008，不支持。所以我们基本上从在 Windows 上编译但不在 linux 上编译的东西变成了在 linux 上编译但不在 Windows 上编译的东西。

你知道如何解决吗？具体来说

*   Windows 编译器中是否有一个神奇的选项来启用这个 c++11 构造，或者
*   在旧的 c++ 标准中有另一种方法可以解决这种歧义，它也是交叉编译器，或者
*   如果我们需要使用预处理器，区分两个编译器的预处理器常量（如果有的话）是什么（gcc是另一个）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-10T08:07:37.800

自 C++98 以来，模板消除器一直是 C++ 的一部分。它是在引入两阶段查找时引入的，以及`typename`.

# node.js - 如何为未使用 Express 登录的用户实现默认路由？

> ID：15920269
> 
> 赞同：1
> 
> 时间：2013-04-10T08:05:34.760
> 
> 标签：node.js, express

使用 Node.js 和 Express，我想让未登录的用户始终重定向到主页。实现这一目标的最简单方法是什么？理想情况下，我不必在每条路由中添加代码来检查是否有人登录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:15:30.940

It depends on how you define 'not logged in', but say that status is stored in `req.session`. In that case, you could add a middleware that will redirect not-logged-in users to a login page:

```
app.use(function(req, res, next) {
  if (req.path === '/loginpage') // pass requests for login page
    next();
  else
  if (! req.session || req.session.isLoggedIn !== true) // check logged in status
    res.redirect('/loginpage'); // redirect to login page when not logged in
  else
    next(); // else just pass the request along
});

app.get('/loginpage', function(req, res) {
  res.send('login page');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:14:37.243

You can user something like [passport](http://passportjs.org/).It makes checking the authorized routes a lot simpler

```
function ensureAuthenticated(req, res, next) {
 if (req.isAuthenticated()) { return next(); }
 res.redirect('/login')  //Or whatever your main page is 
}; 
```

You can now check your routes like this

```
app.get('/account',ensureAuthenticated,routes.account); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:12:02.000

我很久以前在节点上工作，但它应该可以工作

```
function requireLogin(req, res, next) {
  if (req.session.loggedIn) {
    next(); // allow the next route to run
  } else {
    // require the user to log in
    res.redirect("/"); // or render a form, etc.
  }
}

// Automatically apply the `requireLogin` middleware to all
// routes starting with `/`
app.all("/*", requireLogin, function(req, res, next) {
  next(); // if the middleware allowed us to get here,
      // just move on to the next route handler
}); 
```

# linux - 使用 grep 和 sed 递归查找和替换所有文件中的字符串

> ID：15920276
> 
> 赞同：35
> 
> 时间：2013-04-10T08:06:04.947
> 
> 标签：linux, bash, recursion, sed, grep

我得到一个

```
sed: -e expression #1, char 22: unterminated `s' command 
```

我的脚本有问题吗？“oldstring”也有特殊字符

```
#!bin/bash
oldstring='<script>"[oldscript]"</script>'
newstring='<script>"[newscript]"</script>'
grep -rl $oldstring /path/to/folder | xargs sed -i s/$oldstring/$newstring/g 
```

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-04-10T12:30:24.827

正如@Didier 所说，您可以将分隔符更改为`/`：

```
grep -rl $oldstring /path/to/folder | xargs sed -i s@$oldstring@$newstring@g 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-10-28T06:26:22.650

```
grep -rl $oldstring . | xargs sed -i "s/$oldstring/$newstring/g" 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-11T12:53:39.207

当 GNU 人将递归文件搜索引入 grep 时，他们真的搞砸了。grep 用于在文件中查找 RE 并打印匹配行（g/re/p 还记得吗？）不是用于查找文件。有一个非常好的工具，用于查找文件的名称非常明显。UNIX 口号“做好一件事，做好”到底发生了什么？

无论如何，这是使用传统 UNIX 方法（未经测试）执行所需操作的方法：

```
find /path/to/folder -type f -print |
while IFS= read -r file
do
   awk -v old="$oldstring" -v new="$newstring" '
      BEGIN{ rlength = length(old) }
      rstart = index($0,old) { $0 = substr($0,rstart-1) new substr($0,rstart+rlength) }
      { print }
   ' "$file" > tmp &&
   mv tmp "$file"
done 
```

并不是说通过使用 awk/index() 而不是 sed 和 grep，您可以避免转义可能出现在旧字符串或新字符串中的所有 RE 元字符，并找出一个用作 sed 分隔符的字符t 出现在您的旧字符串或新字符串中，并且您不需要运行 grep 因为替换只会发生在包含您想要的字符串的文件中。说了这么多，如果您不希望文件时间戳在不修改文件的情况下更改，那么只需在执行 mv 之前对 tmp 和原始文件进行 diff 或在 fgrep -q 之前抛出哦。

警告：以上不适用于包含换行符的文件名。如果您有这些，请告诉我们，我们可以向您展示如何处理它们。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-10T08:21:06.940

`sed`表达式需要被引用

```
sed -i "s/$oldstring/$newstring/g" 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-11-07T14:25:19.233

```
grep -rl SOSTITUTETHIS . | xargs sed -Ei 's/(.*)SOSTITUTETHIS(.*)/\1WITHTHIS\2/g' 
```

# c++ - 如果私有变量是静态的，它们在类之外是否可见？

> ID：15920278
> 
> 赞同：2
> 
> 时间：2013-04-10T08:06:08.270
> 
> 标签：c++, static, visibility, private

在下面的示例中（取自[此处](http://msdn.microsoft.com/en-us/library/yyh8hetw.aspx)），我们有一个私有静态变量 x，然后我们在类之外更改它的名称。让我困惑的是为什么允许在类外更改私有变量？那么宣布它为`private`.

```
// static_member_functions.cpp
#include <stdio.h>

class StaticTest
{
private:
    static int x;
public:
    static int count()
    {
        return x;
    }
};

int StaticTest::x = 9;

int main()
{
    printf_s("%d\n", StaticTest::count());
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:08:46.387

这不是“改变变量”，而是*定义*它。

每个`static`成员都必须在类之外*定义*`static int x;`（只是一个声明；如果您删除`int StaticTest::x = 9;`，则会出现链接器错误，说明类似“未定义的引用`StaticTest::x`”）。

* * *

尝试在 中更改它`main`，例如：

```
StaticTest::x = 13; 
```

你会得到你所期望的错误（`error: ‘int StaticTest::x’ is private`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:12:44.910

变量在类外没有改变。

考虑这个稍微修改的例子：

```
class StaticTest
{
    private:
        static int x;

    public:
        static int count();
};

int StaticTest::x = 9;

int StaticTest::count()
{
    return x;
} 
```

既不是在“类*之外`x` *初始化”，也不是在它之外**访问*。该`class { }`块仅*声明*类成员。`StaticTest::`范围限定符告诉编译器和的后续*定义*是`x`类`count()`的一部分`StaticTest`。

尝试`x`从您的访问`main()`：

```
int main()
{
    printf_s("%d\n", StaticTest::x);
} 
```

你会发现这是不可能的，因为它`x`是私有的。

这样做是为了您可以将声明（在 .hpp 头文件中）与实现（在 .cpp 实现文件中）分开。（一旦您开始使用模板，这就会中断，但没有什么是完美的。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:12:49.343

访问控制不影响可见性：类的私有成员在任何地方都是可见的，无论它们是否是静态的。

访问控制影响对名称或符号的“访问”（而不是可见性），而不影响它们管理的实体，并且它影响对所有名称的访问，无论它们的名称是什么。因为访问控制不影响可见性，名称查找会找到名称，但如果您没有访问权限，则会出错（即使存在您有权访问的同名实体）。

关于你的例子，我不明白这个问题。唯一的访问`StaticTest::x`是在成员函数 `StaticTest::count()`中。为什么这会是个问题？

# c# - 查找数据库地址并通过代码连接到它

> ID：15920279
> 
> 赞同：0
> 
> 时间：2013-04-10T08:06:14.480
> 
> 标签：c#, sql-server, database

我刚刚使用 Microsoft SQL Server Management Studio 创建了一个新的 SQL 数据库，我正在尝试通过一些 C# 代码连接到它。但是，我在这样做时遇到了一些问题。

我正在尝试使用以下行连接到我的数据库：

```
 String DBConnection = "Data Source=unknown; Database=SQLExpress\\Darkride; Language=English"; 
```

但是我的程序找不到我的数据库，因为我不知道我的数据源在哪里。我一直试图找到它几个小时，但我什么也没得到。

有谁知道我在哪里可以找到我的数据库数据源？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:10:02.043

看看这里的连接字符串示例[http://connectionstrings.com/sql-server-2012](http://connectionstrings.com/sql-server-2012)

看起来它可能是这样的：

```
Server=.\SQLExpress;Database=Darkride;Trusted_Connection=True; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:08:27.457

您`Initial Catalog`在连接字符串中缺少：

```
 String DBConnection ="Data Source='localhost';Integrated Security='SSPI' Initial Catalog=Darkride;"; 
```

[在这里](http://msdn.microsoft.com/en-us/library/windows/desktop/ms722656%28v=vs.85%29.aspx)查看更多选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:14:12.263

Change your code to this:

```
Server=.\SQLExpress;Database=Darkride;Trusted_Connection=True; 
```

And take a look on the link below

Connectionstring.com will help : [Connection strings for SQL Server 2008](http://www.connectionstrings.com/sql-server-2008)

Best Regards

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:10:24.420

添加 `"Data Source=127.0.0.1; Database=SQLExpress\\Darkride;Initial Catalog=YourDataBase;User Id=user;Password=pass"`

您可以使用`SqlConnectionStringBuilder`该类来构建您的连接字符串。

一个很好的参考网站是[http://www.connectionstrings.com/](http://www.connectionstrings.com/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-10T08:10:26.087

**连接字符串格式为：**

```
String DBConnection = "Data Source=27.0.0.1;;Initial Catalog=Darkride;User ID=userIDText;Password=PasswordText"; 
```

# php - prestashop 中的 smarty getcwd() 变量

> ID：15920285
> 
> 赞同：1
> 
> 时间：2013-04-10T08:06:29.030
> 
> 标签：php, smarty, prestashop

我必须在 smarty (prestashop) 中检查 file_exists，但我找不到获取 prestashop 基本目录的方法。

有什么办法可以用 smarty 返回 php 的 getcwd() 吗？另一个好的解决方案是，如果你能告诉我是否有 prestashop 保留变量？

`{$base_dir}`返回 http://... (url) 但我需要 /home/user/public_html

它是在 smarty 的保留变量中定义的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:17:28.517

您可以将 PHP 常量与 smarty 一起使用：

```
{if file_exists($smarty.const._PS_ROOT_DIR_|cat:"/path/to/file.jpg")}
   {* code *}
{/if} 
```

# codeigniter - 编辑器所见即所得图像上传不起作用且没有错误

> ID：15920290
> 
> 赞同：1
> 
> 时间：2013-04-10T08:06:53.170
> 
> 标签：codeigniter, redactor

我正在尝试实现编辑器所见即所得，但图像上传有问题。

控制器

```
public function upload()
{
    $config = array(
        'upload_path' => './uploads',
        'allowed_types' => 'gif|jpg|jpeg|png|bmp',
        'max_size' => '60000',
        'encrypt_name' => TRUE,
        'remove_spaces' => TRUE
    );
    // load upload library and initialize config file
    $this->load->library('upload', $config);

    if($this->upload->do_upload('file'))
    {           
        $image_data = $this->upload->data();

        $json = array(
            'filelink' => base_url("uploads/{$image_data['file_name']}")
        );
        echo stripslashes(json_encode($json));
    }   
} 
```

看法

```
<script type="text/javascript">
$(document).ready(
    function()
    {
        $('#redactor').redactor({ 
            imageUpload: "http://localhost/rms2/admin/pages/upload",  
            minHeight: 150
        });
    }
);

</script>

<?php echo form_open_multipart($this->uri->uri_string())?>
   <div class="form">
     <div class="horizontal">
       <div class="label"><?php echo form_label('Description', 'description')?></div>
       <div class="input"><?php echo form_textarea('description', set_value('description'), 'id="redactor"')?></div>
       <div class="form_error"><?php echo form_error('description')?></div>
</div>
..... 
```

主要问题是，当我尝试上传图像时，我没有收到任何错误，如果我拖动它，我会收到 100% 加载的消息，就像上传图像一样，但是没有图像，在源文件中没有标签，什么都没有。

有人遇到过这个问题吗？？

**编辑**：

提供给图像上传的链接没有被请求，因为我尝试使用 CI 外部的链接（只是一个简单的 php 文件上传），它工作得很好，系统的设计模式是 HMVC，有人愿意提供帮助或建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:16:51.510

我在这里读过：http: [//ellislab.com/forums/viewthread/229243/#1039307](http://ellislab.com/forums/viewthread/229243/#1039307)

您必须将您的 uploadsdir 更改为：

```
$config['upload_path'] = './uploads/images'; 
```

创建这些文件夹，然后它应该可以正常工作。

希望能帮助到你！

# jqgrid - JqG rid 数据无法查看

> ID：15920291
> 
> 赞同：0
> 
> 时间：2013-04-10T08:06:57.560
> 
> 标签：jqgrid, jqgrid-asp.net, mvcjqgrid

我想在 jqgrid 中显示数据，但数据未显示我的控制器代码如下

```
 public JsonResult getjqgriddata()
    {

        var emp=from v in ent.employees select v;
     var    users = emp.ToArray();

       return Json(users, JsonRequestBehavior.AllowGet);
    } 
```

我的视图代码如下

```
 <link  rel="stylesheet" href="~/Content/ui.jqgrid.css"  type="text/css"/>
@*<script src="http://code.jquery.com/jquery-1.6.2.min.js"></script>*@
<script src="~/Scripts/jquery-1.7.1.min.js"></script>
<script src="~/Scripts/grid.locale-en.js" type="text/javascript"></script>
<script src="~/Scripts/jquery.jqGrid.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {

        $("#jqTable").jqGrid({
            url: "/HelloWorld/getjqgriddata",
            datatype: "json",
            mtype: "get",

            colNames: ["FirstName", "Id", "LastName", "Phone"],
            colModel: [
                 { name: "FirstName", Index: "FirstName", width: "40px", align: "left" },
                  { name: "Id", Index: "Id", width: "40px", align: "left" },
                  { name: "LastName", Index: "LastName", width: "40px", align: "left" },
                   { name: "Phone", Index: "Phone", width: "40px", align: "left" } ],
            width: 550,
            height: 200,
            rowNum: 1,
            jsonReader: { repeatitems: false, root: function (obj) { return obj; } },
            gridview: true,

            viewrecords: true, // Specify if "total number of records" is displayed

        });

    });

</script>

<div>
        <table id="jqTable" class="scroll"></table>
        <div id="jqTablePager" />
    </div> 
```

我想知道当从控制器发送**json res**时，数据是如何在视图中**查看**的， 请提前感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T11:01:38.650

您必须以特定格式从操作方法返回 json 数据。有关更多详细信息，请参阅此链接：

[jqgrid 在 asp.net 中使用 json 数据类型](https://stackoverflow.com/questions/3315113/jqgrid-in-asp-net-using-json-datatype)

# c++ - 保存整数值的 C++ 字符数组

> ID：15920295
> 
> 赞同：2
> 
> 时间：2013-04-10T08:07:06.990
> 
> 标签：c++, dynamic-arrays, tic-tac-toe

我正在尝试创建一个包含数字的动态字符数组，然后将它们更改为 X 或 0，

我正在创建一个井字游戏，它为您想要的特定数字创建一个网格，该数组需要包含正方形的所有数字，然后根据玩家将此数字更改为 X,0，

我目前有；

```
const int grid_size = size * size; // determines the size of the grid height x width
char **number = new char*[grid_size]; // create the array to the size of the grid

for ( int i = 1; i <= grid_size+1; i++ ) {
    number[i] = i;
} 
```

但有了这个我得到一个错误：-错误C2440：'='：无法在行号[i] = i上从'int'转换为'char *'；

我将如何创建包含数字的数组 - 1,grid_size，将这些数字更改为 X,0 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:47:32.313

我认为您不必将单元格 indides 存储在数组中。您只是使用它们将当前网格打印给用户，对吗？这个解决方案怎么样：

```
enum class Marker { PlayerX, PlayerO, None };

class TicTacToeGrid
{
public:
     TicTacToeGrid(size_t size) :
         grid(size* size, Marker::None), size(size)
     {}

     void Set(size_t cellId, Marker player)
     {
         if (cellId < 1 || cellId >= size * size)
             throw std::runtime_error("invalid cell");
         if (grid[cellId - 1] != Marker::None)
             throw std::runtime_error("cell is not free");

         grid[cellId - 1] = player;
     }

     Marker Get(size_t cellId) const
     {
         return grid[cellId - 1];
     }

     void Print(std::ostream& os) const
     {
         for(size_t row = 0; row < size; ++row)
         {
             for (size_t col = 0; col < size; ++col)
             {
                 size_t index = size * row + col;
                 os << CellContent(index) << "\t";
             }
             os << "\n";
         }
     }

     std::string CellContent(size_t index) const
     {
        Marker marker = grid[index];
        switch(marker)
        {
        case Marker::PlayerX:
            return "X";
        case Marker::PlayerO:
            return  "O";
        case Marker::None:
            // If it's not X or O let's show the cell index.
            return std::to_string(index + 1);
        }
     }

private:
     std::vector<Marker> grid;
     size_t size;
};

int main()
{
    TicTacToeGrid grid(3);
    grid.Print(std::cout);

    grid.Set(1, Marker::PlayerO);
    grid.Set(2, Marker::PlayerX);

    grid.Print(std::cout);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:19:03.187

```
char **number = new char*[size]; // create the rows

for ( int i = 0; i < size; i++ ) {
   number[i] = new char[size]; // create the columns for the current row
   for (int j = 0; j < size; j++) {
      number[i][j] = (char)i*j; // set the cell number 
   }
} 
```

请注意，我很久没有用 C++ 编写代码了，所以我可能会遇到一些语法问题。但这是做到这一点的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:22:40.060

正确的方法是......

```
#define Row_num 3
#define Col_num 3
char **number = new char*[Row_num];

for(int i=0;i<Row_num;i++){
    number[i] = new char[Col_num];
    for(int j=0;j<Col_num;j++){
        number[i][j] = j;
    }
} 
```

通过这条线

```
 char **number = new char*[Row_num]; 
```

您实际上创建了一个指针数组。所以你不能做这个任务......

```
number[i] = i; 
```

由于 number[i] 持有指向数组的指针。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:23:07.977

首先，如果你需要一个数字数组，你应该使用`int* number = new int[grid_size]`，而且绝对不是`char**`（就像你存储字符串一样）。

其次，即使您希望数字从 1 变为`grid_size`，您存储它们的数组索引也应该在 range 中`0..grid_size-1`，否则您将访问一个不存在的元素。

```
const int grid_size = size * size; // determines the size of the grid height x width
int *number = new int*[grid_size]; // create the array to the size of the grid

for ( int i = 0; i < grid_size; i++ ) {
    number[i] = i + 1;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-10T08:25:05.950

您有两种解决方案：创建一个数组数组来存储您的字符（这就是矩阵的本质），或者创建一个 char 数组，这将是矩阵的线性化版本，即。一个数组，包含矩阵的所有行放在一起。

第一种情况很简单：

```
const int grid_size = size * size; // determines the size of the grid height x width
char **number = new char*[size]; // create the array to the size of the grid

for ( int i = 0; i < size; i++ ) {
    number[i] = new char[grid_size];
    for( int j = 0; j < size; j++)
         number[i][j] = i * size + j;
}

// access any char with a double bracket notation
// beware that coordinates start at `0`
number[2][1] = 'X'; 
```

第二种解决方案比较棘手，我建议使用辅助函数将矩阵坐标转换为数组索引：

```
const int grid_size = size * size;

int idx(int x, int y){
    return y * size + x;
}

char *number = new char[grid_size];

for (int i = 0; i < grid_size; i++)
    number[i] = i;

number[idx(2,1)] = 'O'; 
```

字符实际上是变相的数字，但值远高于`9`，因此对于常规井字游戏来说，这应该不是问题，并且您应该能够让它在最大为 8*8 的情况下工作。从 65 开始，数字开始代表常规字母字符（即 65 是`A`，66 是`B`等等，查看 ASCII 码表了解更多详细信息）。解决该问题的一种方法是，如果您想将单元格编号存储在单元格中并跟踪游戏状态，则使用 254 和 255 作为表示玩家移动的值，而不是使用`O`and `X`，但您会仍然限制在 7*7 的网格大小。

对于更大的尺寸，您可能需要考虑另一种数据结构来跟踪游戏状态。

# bash - 生成二元选择的不同方法

> ID：15920303
> 
> 赞同：4
> 
> 时间：2013-04-10T08:07:39.640
> 
> 标签：bash

我目前正在阅读 Advanced Bash-Scripting Guide 并发现以下内容：

```
 # Generate binary choice, that is, "true" or "false" value.
   BINARY=2
   T=1
   number=$RANDOM

   let "number %= $BINARY"
   #  Note that    let "number >>= 14"    gives a better random distribution
   #+ (right shifts out everything except last binary digit).
   if [ "$number" -eq $T ]
   then
       echo "TRUE"
   else
       echo "FALSE"
   fi  

   echo 
```

为什么建议取第 15 位而不是第 1 位？使用二元决策的几次运行表明两者之间没有显着差异。

**// 更新** 因为有人问我是如何计算分布的，所以我们开始吧。我生成了几个 $RANDOM 数字，取了每个数字的第 15 位和第 1 位，并创建了两个二进制序列。之后，我遍历了这些序列，检查了 1 和 0 的链（运行），计算了最大长度序列将生成多少次运行（供参考）并将所有内容打印到一个混乱的表中。这是所有荣耀的代码（对不起，脏代码......）：

```
#! /bin/bash
COUNT=10000
RUN=1

# generate 2 sequences based on the same $RANDOM numbers
# seq1 = modulo 2, seq2 = bitshift 14
while [ $RUN -le $COUNT ]
do
    number=$RANDOM 
    let 'var1=number%2'
    var2=$number 
    let 'var2 >>= 14'
    seq1="${seq1}${var1}"
    seq2="${seq2}${var2}"
    (( RUN+=1 ))
done

# loop through sequences and check for chains of 1 and 0 (runs)
length=${#seq1}
prevSym=${seq1:0:1}
currRun="${prevSym}"
for (( i=1; i<length; i++ )); do
    currSym=${seq1:$i:1}
    if (( currSym==prevSym )); then
        currRun="${currRun}${currSym}"
        (( i!=length-1 )) && continue
        (( runStat1[${#currRun}]++ ))               #case: ends with run length > 1
        break
    fi
    (( runStat1[${#currRun}]++ ))
    (( prevSym=currSym ))
    (( i==length-1 )) && (( runStat1[1]++ ))             #case: ends with run length = 1
    currRun="${currSym}"
done

length=${#seq2}
prevSym=${seq2:0:1}
currRun="${prevSym}"
for (( i=1; i<length; i++ )); do
    currSym=${seq2:$i:1}
    if (( currSym==prevSym )); then
        currRun="${currRun}${currSym}"
        (( i!=length-1 )) && continue
        (( runStat2[${#currRun}]++ ))               #case: ends with run length > 1
        break
    fi
    (( runStat2[${#currRun}]++ ))
    (( prevSym=currSym ))
    (( i==length-1 )) && (( runStat2[1]++ ))             #case: ends with run length = 1
    currRun="${currSym}"
done

# print results and expected frequency
# number of expected runs with runlength k:
# 1/2**k if k<n, 1/2**(k-1) if k=n  
# $RANDOM generates random numbers in the range 0 to 32768 thus n=15
n=15
echo -e "Length L of run | # of runs with %2 | # of runs with >>14 | # of runs with MLS (calculated)\n "
echo -e "L\t|%2\t|>>14\t|MLS"
echo -e "-----------------------------------\n"
sorted="${!runStat1[*]} ${!runStat2[*]}" 
sorted=$(echo $sorted | tr ' ' '\n' | sort -n | uniq)
for a in $sorted; do
    k=${a}
    (( ${a}==${n} )) && (( k=a-1 ))
    prob=$(awk -v k=${a} -v c=${COUNT} 'BEGIN { print (((1/2)**k)*c)/k}')
    echo -e "${a} \t| ${runStat1[$a]} \t| ${runStat2[$a]} \t| ${prob} "
done 
```

运行它会打印出以下内容：

```
Length L of run | # of runs with %2 | # of runs with >>14 | # of runs with MLS (calculated)
L   |%2 |>>14   |MLS
-----------------------------------

1   | 2495  | 2450  | 5000 
2   | 1219  | 1212  | 1250 
3   | 638   | 621   | 416.667 
4   | 300   | 329   | 156.25 
5   | 162   | 166   | 62.5 
6   | 75    | 81    | 26.0417 
7   | 46    | 34    | 11.1607 
8   | 23    | 26    | 4.88281 
9   | 13    | 7     | 2.17014 
10  | 2     | 6     | 0.976562 
11  | 1     | 1     | 0.443892 
13  | 3     |   | 0.0939002 
15  |   | 2     | 0.0203451 
21  |   | 1     | 0.000227065 
```

这使我得出的结论是，不出所料，并且在所有 bash 参考资料中也提到，$RANDOM 是一个可怕的随机性来源......但“number >>= 14”也没有比“number %=”更好的随机分布2" 用于二元选择。

......或者我在这个巨大的愚蠢计算中犯了一个巨大的错误。你告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T00:11:09.440

使用高位的建议是因为许多随机数生成器是作为[线性同余生成器](http://en.wikipedia.org/wiki/Linear_congruential_generator)实现的，这会在低位中产生较差的随机性。

例如，以下 RNG 实现曾经很常见。（我相信它是在 C89 标准中作为示例给出的。）

```
unsigned old_rand() {
  next = next * 1103515245 + 12345;
  return next;
} 
```

现在看看这会产生什么样的数字。

```
2140733074   // even
3902869603   // odd
4012135520   // even
2255314201   // odd
3913576926   // even
2626310079   // odd
4159329932   // even
1903014357   // odd 
```

位 1 根本不是随机的。

[正如这个漂亮的图形演示](http://www.javamex.com/tutorials/random_numbers/lcg_bit_positions.shtml)所示，即使是更高质量的 LCG，如 Java 中使用的 LCG，也会受到这种影响。所以不要相信未知 RNG 的低位。

# javascript - 计算淘汰赛的循环依赖

> ID：15920306
> 
> 赞同：8
> 
> 时间：2013-04-10T08:07:58.923
> 
> 标签：javascript, knockout.js

看到工作 jsFiddle：http: [//jsfiddle.net/ruslans/vFK82/](http://jsfiddle.net/ruslans/vFK82/)

我有 3 个字段：净价（不含税）、税额和总价（不含增值税的价格 + 税额）。NetPrice 和 Total 是可写的，即您可以更改其中任何一个，而其他 2 个值必须自动计算。

我完成它的方式是使用 3 个可观察对象和 2 个计算剔除对象，但我认为也许更了解 Knockout 的人可以提出一种更有效的方法来实现这一点。

html:

```
Net Price:
<input type="textbox" data-bind="value: NetPriceCalc" />
<br />Tax Amount:
<label data-bind="html: TaxAmt"></label>
<br />Total:
<input type="textbox" data-bind="value: TotalCalc" /> 
```

脚本：

```
var viewModel = {
    NetPrice: ko.observable(100),
    TaxAmt: ko.observable(20),
    Total: ko.observable(120),
    TaxRate: 0.2
};

viewModel.updateTaxAmt = function (useNetPrice) {
    if (useNetPrice) {
        return this.TaxAmt(this.NetPrice() * this.TaxRate);
    } else {
        var total = Number(this.Total());
        var taxAmt = total - total / (1 + this.TaxRate);
        return this.TaxAmt(taxAmt);
    }
};
viewModel.updateNetPrice = function () {
    this.NetPrice(Number(this.Total()) - Number(this.TaxAmt()));
};
viewModel.updateTotal = function () {
    this.Total(Number(this.NetPrice()) + Number(this.TaxAmt()));
};

viewModel.NetPriceCalc = ko.computed({
    read: function () {
        console.log("NetPriceCalc read");
        return viewModel.NetPrice();
    },
    write: function (value) {
        console.log("NetPriceCalc write");
        viewModel.NetPrice(value);
        viewModel.updateTaxAmt(true);
        return viewModel.updateTotal();
    }
});
viewModel.TotalCalc = ko.computed({
    read: function () {
        console.log("TotalCalc read");
        return viewModel.Total();
    },
    write: function (value) {
        console.log("TotalCalc write");
        viewModel.Total(value);
        viewModel.updateTaxAmt(false);
        return viewModel.updateNetPrice();
    }
});

ko.applyBindings(viewModel); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-19T19:12:37.663

对 OP 的一些评论：

*   您不需要. `return`_`write``ko.computed`
*   您的方法`Number()`在多个地方使用该功能，您可能希望更改它以获得特定的精度（或用于验证用户输入的某个集中位置）。所以你可以使用[ko.extenders](http://knockoutjs.com/documentation/extenders.html)来改进它。我会特别推荐 ko 团队已经制作的扩展器，名为[`ko.extenders.numeric`](http://knockoutjs.com/documentation/extenders.html#live_example_1_forcing_input_to_be_numeric).
*   您的方法也在`console.log()`多个地方使用，您可能希望使用 ko team 制作的另一个 ko.extender [`ko.extenders.logChange`](http://knockoutjs.com/documentation/extenders.html#how_to_create_an_extender)。
*   而不是`ko.computed`在这种情况下，我认为最好使用它，[`subscribe`](http://knockoutjs.com/documentation/observables.html#explicitly_subscribing_to_observables)因为它需要更少的代码（并且可能更快）。

我的方法是这样的：

```
function viewModel() {
    this.TaxRate = 0.2;
    this.NetPrice = ko.observable().extend({ numeric: 2, logChange: "NetPrice"  });
    this.TaxAmt = ko.observable().extend({ numeric: 2, logChange: "TaxAmt"  });
    this.Total = ko.observable().extend({ numeric: 2, logChange: "Total"  });

    this.NetPrice.subscribe(function (newNetPrice) {
        this.TaxAmt(newNetPrice * this.TaxRate);
        this.Total(newNetPrice + this.TaxAmt());
    }, this);
    this.Total.subscribe(function (newTotal) {
        this.TaxAmt(newTotal - newTotal / (1 + this.TaxRate));
        this.NetPrice(newTotal - this.TaxAmt());
    }, this);

    this.NetPrice(100);
}

// then I have the extenders code copied exactly as seen in: http://knockoutjs.com/documentation/extenders.html)
ko.extenders.numeric = ...
ko.extenders.logChange = ... 

// and finally init everything as usual
ko.applyBindings(new viewModel()); 
```

你可以在这里看到工作小提琴：http: **[//jsfiddle.net/protron/JFPgu/2/](http://jsfiddle.net/protron/JFPgu/2/)**

请注意，此解决方案中的数字永远不会比数字扩展器上指定的小数位数更多（即使用户输入的值也会自动固定为所需的精度）。

并将我的答案与 gaurav 目前接受的答案进行比较（这也非常好和简单）：我认为我的方法的主要优点是它可以让你使用这些很棒的扩展器。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-10T11:37:59.187

一个稍微更好和更有效的方法可能是这样的：

[工作小提琴](http://jsfiddle.net/vFK82/4/)

*html*

```
Net Price:
<input type="textbox" data-bind="value: NetPrice" />
<br />Tax Amount:
<label data-bind="html: TaxAmt"></label>
<br />Total:
<input type="textbox" data-bind="value: Total" /> 
```

*JS*

```
function viewModel() {
    var self = this;

    self.NetPrice = ko.observable(100);

    self.TaxRate = 0.2;

    self.TaxAmt = ko.computed(function() {
        return parseFloat(self.NetPrice()) * self.TaxRate;
    });

    self.Total = ko.computed({
        read: function() { 
               return parseFloat(self.NetPrice()) + self.TaxAmt();
        },
        write: function(val){
                var total = parseFloat(val);
                var taxAmt = total - total / (1 + self.TaxRate);     
                self.NetPrice(total - taxAmt);
        }
    });
} 
```

希望能帮助到你！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-07T19:55:32.793

不能保证这会解决问题，但有时启用延迟更新可以解决此类问题。

这是一个需要注意的好特性，但在为已经工作的应用程序启用它时要谨慎——而且如果你确实有一个潜在的问题，那么你仍然需要修复它。

[http://knockoutjs.com/documentation/deferred-updates.html](http://knockoutjs.com/documentation/deferred-updates.html)

# html - 行内块元素后的水平线

> ID：15920308
> 
> 赞同：1
> 
> 时间：2013-04-10T08:08:13.627
> 
> 标签：html, css

我需要最后一条红线的宽度与之前的所有红线相同。UL 容器的宽度可能不同（这使得第 n 个选择器在这里毫无用处）。每个 LI 线的高度也可能不同。

演示：http: [//jsfiddle.net/6ZX9W/34/](http://jsfiddle.net/6ZX9W/34/)

```
<ul>
    <li>Medium medium medium medium medium contnent.</li><!--
    --><li>Short contnent.</li><!--
    --><li>Long long long long long long long long long long long long long long long long long long long long long long long long long long long long long contnent.</li><!--
    --><li>Short contnent.</li><!--
    --><li>Even more long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long contnent.</li><!--
    --><li>Short contnent.</li><!--
    --><li>Medium medium medium medium medium contnent.</li>
</ul>

li {
    position: relative;
    display: inline-block;
    width: 200px;
    vertical-align: top;
    margin-right: 20px;
    margin-bottom: 20px;
    border: solid 1px #ccc;
}
li:before {
    content: '';
    position: absolute;
    top: -10px;
    left: 0;
    display: block;
    width: 222px;
    border-top: solid 10px rgba(255,0,0,.3);
} 
```

希望在没有 JavaScript 帮助的情况下找到解决方案。

**更新。**边框颜色应该是透明的。所以要小心重叠。

**更新2。**红线不应该太长（它应该在最后一列+附加边距（margin-right：20px）之后结束）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:49:15.977

好的，那么这样的事情怎么样？使用 9999px 作为宽度值*似乎*并且可能*有点*hacky，但不管用，对吧？

这是小提琴：http: [//jsfiddle.net/6ZX9W/26/](http://jsfiddle.net/6ZX9W/26/)

这是使用的 CSS：

```
ul{
    margin: 0;
    padding: 0;
    padding-top: 10px;
    overflow: hidden;
    border: 1px #aaa dashed;  
    list-style: none;
}

li {
    position: relative;
    display: inline-block;
    width: 200px;
    vertical-align: top;
    margin-right: 20px;
    margin-bottom: 20px;
    border: solid 1px #ccc;
}
li:before {
    content: '';
    position: absolute;
    top: -10px;
    left: 0;
    display: block;
    width: 9999px;
    border-top: solid 1px #f00;
} 
```

当然，这一切都取决于一个事实，即**UL** *必须具有* `overflow: hidden`+ 我添加了一些额外的样式：删除正确的填充并且`padding-top: 10px`存在因为我们想要显示`:before`您定义的第一行的红线`top: -10px`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:23:11.917

您可以使用`display: block`而不是`display: inline-block`您的列表：

```
li {
    position: relative;
    display: block;
    width: 200px;
    vertical-align: top;
    margin-right: 20px;
    margin-bottom: 20px;
    border: solid 1px #ccc;
} 
```

[**演示**](http://jsfiddle.net/6ZX9W/3/)

或者您可以为最后一个 li 设置不同的 css：

```
li:last-child:before {
    width: 450px;
} 
```

**[演示](http://jsfiddle.net/6ZX9W/1/)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T09:24:58.223

而不是使用 li:before 尝试使用：-

```
 li:nth-child(2n+1):before {
        border-top: 1px solid #FF0000;
        content: "";
        display: block;
        left: 0;
        position: absolute;
        top: -10px;
        width: 214%; /*(or 444px)*/
   } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T10:26:29.850

我想我终于明白了；）试试[这个](http://jsfiddle.net/3GF8R/2/)

我删除了`<li>`标签上的位置并`top`从选择器中删除了值`:before`，因此将边框更改为带背景的 1px 高度。

# matlab - 在matlab中逐像素提取静脉特征

> ID：15920311
> 
> 赞同：-3
> 
> 时间：2013-04-10T08:08:15.533
> 
> 标签：matlab, image-processing

我正在研究手背静脉识别系统。我已经获得了一个细化的静脉版本，现在我必须继续进行`feature extraction`如下所示的操作。

[http://imageshack.us/a/img194/5490/0059hv1.png](http://imageshack.us/a/img194/5490/0059hv1.png)

[http://imageshack.us/a/img543/9764/zsthin0059hv1.png](http://imageshack.us/a/img543/9764/zsthin0059hv1.png)

从上图可以看出，第一张是原图。图像归一化，然后是直方图均衡、自适应阈值、维纳滤波器和细化算法，得到第二张图像。

从那里，我需要处理图像以进行特征提取以用于匹配。

如果有人可以为我提供代码以使用 matlab 循环遍历细化静脉图案（图 2）中的所有像素并将每个像素值存储在记事本文件中，我将不胜感激，该文件将用于匹配目的。

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:43:28.297

看看[bwboundaries](http://www.mathworks.com/help/images/ref/bwboundaries.html)。它可以给你你想要的。

将其用作：

```
B = bwboundaries(BW); 
```

B 将包含 5 个单元格（根据我查看图像后的估计）。每个单元格将包含包含曲线和坐标的`nx2`向量。获取坐标后，可以从原始位置获取像素值如下。假设包含曲线的和坐标，您可以使用 获取像素值。然后使用在记事本文件中写入值。`x``y``[row,col]``x``y``sub2ind``textwrite`

我会留下一些东西让你弄清楚。

# c# - c#发送后如何获取邮件名称（uid）

> ID：15920313
> 
> 赞同：-6
> 
> 时间：2013-04-10T08:08:21.317
> 
> 标签：c#, .net, email, smtp

我想阅读电子邮件名称。

例如：“281a87c6-9d53-4122-99a1-87c2b4fb4259.eml”

如何获取邮件名称 (281a87c6-9d53-4122-99a1-87c2b4fb4259)

```
 smtp.DeliveryMethod = SmtpDeliveryMethod.SpecifiedPickupDirectory;
     smtp.PickupDirectoryLocation = @"C:\Temp";
     smtp.Send(message); 
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:39:41.937

您可以像这样读取目录中的**所有**电子邮件**文件名**`C:\Temp`：-

```
DirectoryInfo dirInfo = new DirectoryInfo(@"C:\Temp");
foreach (FileInfo fInfo in dirInfo.GetFiles("*.eml*"))
{
     Console.WriteLine(fInfo.Name);
}
Console.Read(); 
```

您可能会在该目录中获得最新创建的文件，这会给您发送的最后一封电子邮件，尽管我不确定您要实现的目标是什么：-

```
var file = (from f in dirInfo.GetFiles("*.eml*")
             orderby f.LastWriteTime descending
             select f).First(); 
```

这将返回`C:\Temp`目录中创建的最新电子邮件（例如，您刚刚发送的电子邮件）。

# vb.net - 输出 2 个数据列表，但在 VB 中保持组织

> ID：15920322
> 
> 赞同：1
> 
> 时间：2013-04-10T08:09:01.353
> 
> 标签：vb.net, forms, list, organization

希望这将是我一段时间内的最后一个问题，我从你们那里获得的东西将帮助我真正开始这个项目！所以......我目前有variosu组合框和文本框被放入FORM2上的字符串列表中，所有空白都被忽略然后输出到FORM3上的列表框中。这是我的最后一块.. 组合框 1 将填充说“Premium”，然后文本框 1 将有 4 个值“400,500,600,700”，然后组合框 2 带有“封面”和文本框 2“TPO,TPFT,COMP”

我希望它看起来如下任何----只是为了间隔，因为它似乎忽略了空格键

**列表框1** --- | --- **ListBox2**
Premium ------------ 400
-------------500
------ -------------------600
-------------700
盖板--- --------------TPO
-------------TPFT

等等等等
我得到的是

**列表框1** --- | --- **ListBox2**
Premium ------------ 400
封面---------------------500
------------- ------------600
-------------700
------------ --------------TPO
-------------TPFT

字段之间没有关系，我不知道如何最好地描述或查找如何做到这一点，使其输出组合框一个，然后 textbox1 分成几行进入第二个框。然后在这些下一个组合框等下，所以我猜组合框+（（文本框1行-1值）作为空白行）如果我可以把图片放上去，这会容易得多！该死的你的声誉！！！！

终于可以有图了！！！！！！ ![在此处输入图像描述](https://i.stack.imgur.com/3syD4.jpg) 正如您所希望看到的那样，表格 1 目前是无关紧要的（对表格 2/3 的 GUI 没有影响），但是您在表格 2 中选择了各种字段，它们被映射到 form3 ATM 中的一些数据被映射到一个奇怪的顺序。并且列表 1 和 2 之间没有格式

在下面找到 Form2 和 Form3 的早期概念![Form2 和 Form3 早期概念](https://i.stack.imgur.com/zDTCx.jpg)

这就是我想要做的，数据以可读的格式排列（并且在幕后运行了各种 DROOLS，这些 DROOLS 将变形数据并打印结果）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T12:52:03.240

问题是您对工作使用了错误的控制。您需要一个可以为列表中的每个项目显示多列数据的控件。该`ListBox`控件不适合这种情况，因为它是为仅显示单个列而设计的。

假设这是一个 WinForm 项目，而不是 WPF，我建议使用`DataGridView`控件或`ListView`控件。这些控件中的任何一个都可以显示多个列，但是，该`ListView`控件仅显示多个列，其`View`属性设置为`Details`。由于我自己偏爱`ListView`控制，我会给你一个使用那个的例子:)

首先，`ListView`在表单中添加一个控件。然后，`View`在设计器中将控件的属性设置为`Details`. 然后单击按钮以编辑`Columns`控件的属性。添加两列。然后，使用这样的代码来填充列表：

```
Dim item As ListViewItem = ListView1.Items.Add("Premium")
item.SubItems.Add("400")
item = ListView1.Items.Add("")
item.SubItems.Add("500")
item = ListView1.Items.Add("")
item.SubItems.Add("600")
item = ListView1.Items.Add("")
item.SubItems.Add("700")
item = ListView1.Items.Add("Cover")
item.SubItems.Add("TPO")
item = ListView1.Items.Add("")
item.SubItems.Add("TPFT") 
```

如果看起来是这样，第一列的文本存储在组合框中，那么第二列的文本存储在逗号分隔的文本框中，那么您可以执行以下操作：

```
For Each cbo As ComboBox In MyComboBoxes
    Dim first As Boolean = True
    For Each value As String In GetTextBoxForComboBox(cbo).Text.Split(",")
        Dim item As ListViewItem = Nothing
        If first Then
            item = ListView1.Items.Add(cbo.Text)
        Else
            item = ListView1.Items.Add("")
        End If
        item.SubItems.Add(value)
        first = False
    Next
Next 
```

当然，与其拥有类似的方法`GetTextBoxForComboBox`，不如拥有一个存储控件配对的类，如下所示：

```
Private Class ControlPair
    Public Property Cbo As ComboBox
    Public Property Txt As TextBox
End Class 
```

然后，您可以像这样遍历它们：

```
For Each pair As ControlPair In MyPairs
    ' ...
    For Each value As String In pair.Txt.Text.Split(",")
        ' ...
        ListView1.Items.Add(pair.Cbo.Text)
        ' ...
    Next
Next 
```

`For Each`是一种方便的语法，用于遍历`IEnumerable`对象中的所有项（基本上是任何列表，例如 an`Array`或 a `List(Of T)`）。因此，在这种情况下，`MyPairs`需要是一个`ControlPair`对象列表，例如：

```
Dim MyPairs As New List(Of ControlPair)()
Dim pair1 As New ControlPair()
pair1.Cbo = ComboBox1
pair1.Txt = TextBox1
MyPairs.Add(pair1)
Dim pair2 As New ControlPair()
pair2.Cbo = ComboBox2
pair2.Txt = TextBox2
MyPairs.Add(pair2) 
```

或者，如果您不想创建自己的课程，则可以使用`Tuple(Of ComboBox, TextBox)`.

实际上，在看到您的屏幕截图后，看起来`TreeView`控件实际上可能更合适。您可以将每个组合框值显示为根级节点，然后在每个根级节点内将是文本框中每个分隔值的子节点，如下所示：

*   优质的
    *   400
    *   500
    *   600
    *   700
*   覆盖
    *   TPO
    *   TPFT

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:17:40.890

永远不要依赖空格或空行来格式化。编写适当的标记。

```
<form>
<label>Premium</label>
<select name="premium">
    <option>400</option>
    <option>500</option>
    <option>600</option>
    <option>700</option>
</select><br><br>
<label>Cover</label>
<select name="cover">
    <option>TPO</option>
    <option>TPFT</option>
    <option>COMP</option>
</select>
</form> 
```

# gwt - GWT，如何正确制作加载标签？

> ID：15920328
> 
> 赞同：1
> 
> 时间：2013-04-10T08:09:21.537
> 
> 标签：gwt, loading, visible

我有一个复杂的循环，可能需要 1 或 2 秒才能显示结果，所以我想指示用户等到程序完成处理，所以我做了一个 Label("...loading..." ) & 在程序开始时将 setVisible 设置为 false 并在执行循环之前将可见设置为 true，然后在循环完成后将 setVisible 设置为 false。

```
Label loadingLabel=new Label("...loading...");
public void onBind(){
    loadingLabel.setVisible(false);
}
public void onClick(ClickEvent event) {
    loadingLabel.setVisible(true);
    // a lot of loop here
    loadingLabel.setVisible(false);
} 
```

但是运行后，我没有看到可见的标签。那么让Loading Lebel正确显示的正确方法是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:36:18.233

首先，检查您是否正在向`Label`UI添加`onBind`

二、是`// a lot of loop here`同步的还是异步的？如果它是异步的，则必须在回调函数的末尾隐藏标签。

通常我更喜欢使用`EventBus`, 并且当一个大型进程开始时（它是一个同步循环，或者是一个异步调用链） y call `eventBus.fire(...)`，然后当最后一件事完成时，我`eventBus.fire(...)`再次调用。

```
 Label loadingLabel = new Label("");
 RootPanel.get().add(loadingLabel);
 loadingLabel.setVisible(false)

 eventBus.addHandler(LoadingEvent.TYPE, new LoadingEvent.Handler() {
   public void onRequestEvent(LoadingEvent ev) {
     if (ev.getMessage() == null) {
        loadingLabel.setVisible(false);
     } else {
        loadingLabel.setText(ev.getMessage());
        loadingLabel.setVisible(true);
     }
   }
 });

 // show the label and display a customized message
 eventBus.fire(new LoadingEvent("message"))

 // a lot of loop here

 // hide the label 
 eventBus.fire(new LoadingEvent(null)) 
```

当然，您可以使用这种方法获得更复杂的加载小部件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:40:19.503

我认为您需要在循环中显示一些进度。Javascript只有单线程。所以你不能这样做。您必须使用某种机制拆分 javascript 的执行。您可以为此使用[调度程序](http://google-web-toolkit.googlecode.com/svn/javadoc/2.0/com/google/gwt/core/client/Scheduler.html)。

```
Scheduler.get().scheduleIncremental(new RepeatingCommand() {
                @Override
                public boolean execute() {

if(somecodtion)
{
loadingLabel.setVisible(true);
return false;
}
else
{
 loadingLabel.setVisible(false);
return true;
}
} 
```

# jquery - 下一个被点击的锚点列表不起作用

> ID：15920331
> 
> 赞同：0
> 
> 时间：2013-04-10T08:09:29.213
> 
> 标签：jquery, click, siblings

我有一个锚标签列表，每个标签都是一个 div 中的内容，然后我有可以在正在加载的内容中来回切换的控件。但我无法让它在下一个或上一个兄弟姐妹上触发 click()：

```
 var current;
            var request = new XMLHttpRequest();
            request.open("GET", "EPUBS/" + localStorage.book, false);
            if(request.overrideMimeType){
                request.overrideMimeType('text/plain; charset=x-user-defined');
            }
            request.send();
            var file = request.responseText;
            var zip =  new JSZip(file);
            var $content = $(zip.file(localStorage.selected + "/toc.ncx").asText()).find("navPoint");
            $content.each(function(){
                $('#navbar').append("<a href = '#' id = '" + $(this).children('content').attr('src') + "' > " + $(this).children('navLabel').children('text').text() + "</a><br/>");
            });

$("#navbar > a").click(function(event) {   
    event.preventDefault();
    var t2 = ($(this).attr('id')).split("#");
    var $tr = $(zip.file("6130/" + t2[0]).asText());
    document.getElementById('main').innerHTML = "";
    $('#main').append('<h1>' + $(this).text() + '</h1>');
    document.getElementById('main').innerHTML += $tr.text();
    current = t2;    
});

$("#prev").click(function(event) {    
    event.preventDefault();
    $('#' + current).prev().click();    
});

$("#next").click(function(event) {    
    event.preventDefault();
    $('#' + current).next().click();    
});

        <div id = 'navbar'>
    </div>

    <div id = 'main'>
        <h1 id = 'mHeading'>Book</h1>
        <img src = 'book.png' width = '500px'/>
        <p id = "d"></p>
    </div>

    <div id = 'controls'>
        <table>
            <tr>
                <td width = "12%"><a href = "#"  id = "c1" onclick = "document.getElementById('main').style.color = 'black'; document.getElementById('main').style.backgroundColor = 'white';">black on white</a></td>
                <td width = "12%"><a href = "#"  id = "c2" onclick = "document.getElementById('main').style.color = 'white'; document.getElementById('main').style.backgroundColor = 'black';">white on black</a></td>
                <td width = "10%"></td>
                <td><a href = "#"  id = "prev" ><</a></td>
                <td><a href = "#"  id = "next" >></a></td>
                <td width = "5%"><a href = "#" id = "s1" style = "font-size: 12px" onclick = "document.getElementById('main').style.fontSize = '14px'">A</a></td>
                <td width = "5%"><a href = "#" id = "s1" style = "font-size: 16px"  onclick = "document.getElementById('main').style.fontSize = '16px'">A</a></td>
                <td width = "5%"><a href = "#" id = "s1" style = "font-size: 20px"  onclick = "document.getElementById('main').style.fontSize = '20px'">A</a></td>
            </tr>
        </table>
    </div> 
```

我写错了吗？第一个 .click 功能完美运行

编辑：添加了其余的代码，但是它使用了很多加载的外部文件，但是它们可以工作，我只是无法到达在第一次单击方法中添加的下一个或上一个锚点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:14:19.680

In last two functions *current* is undefined.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T09:34:22.077

我不认为 split() 是必要的，因为返回的 ID 无论如何都应该是一个字符串。我会使用：

```
current = $(this).attr('id'); 
```

而且我不知道这是如何工作的，但我认为在声明它时将 current 设置为默认值是值得的？（如果由于任何原因最后 2 个 click 函数在第一个 click 函数之前被调用？）

# c# - 如何从项目内的另一个页面下载字符串

> ID：15920341
> 
> 赞同：1
> 
> 时间：2013-04-10T08:10:09.310
> 
> 标签：c#, asp.net

我有我的`ashx`处理程序，它响应一个字符串。

```
context.Response.Write("test"); 
```

如何在另一个 Web 表单中获取此字符串？

我努力了：

```
WebClient client = new WebClient();
        html2 = client.DownloadString("~/handles/myhandler.ashx"); 
```

但这似乎不适用于相对网址。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:11:34.810

`WebClient`将发出一个 HTTP 请求。所以它需要知道整个 URL。就像您在浏览器中输入 URL 一样。

从文档：

> 如果 BaseAddress 属性不是空字符串 ("") 并且 address 不包含绝对 URI，则 address 必须是与 BaseAddress 组合以形成所请求数据的绝对 URI 的相对 URI。如果 QueryString 属性不是空字符串，则将其附加到地址。

参考：http: [//msdn.microsoft.com/en-us/library/xz398a3f.aspx](http://msdn.microsoft.com/en-us/library/xz398a3f.aspx)

# c# - 不需要的复选框/数据源行为，内容在 checkbox.Checked 事件上重新加载

> ID：15920343
> 
> 赞同：1
> 
> 时间：2013-04-10T08:10:09.700
> 
> 标签：c#, wpf, data-binding, xmldataprovider

我有一个带有文本框、复选框和按钮的表单。TextBox 和 Button 通过 .xml 文件中定义的 XmlDataProvider 绑定到 xml 文件`Grid.Datacontext`。的文本`textbox.Text`在按钮单击时更改。

问题来了：当我选中/取消选中复选框时，`TextBox.Text`属性重置为`XmlDataProvider`.

如何防止复选框从我的 DataProvider 重新加载数据？为什么我的复选框会这样？

此行为也适用于其他控件，例如`ComboBox`,`DataPicker`和`RadioButton`

![演示应用程序的屏幕截图，代码如下](https://i.stack.imgur.com/NF1uF.png)

我创建了一个简单的示例来说明问题：

MainWindow.xaml：

```
<Window x:Class="submitbehavior.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="150" Width="250">
    <Grid>
        <Grid.DataContext>
            <XmlDataProvider x:Name="DataProvider" XPath="/" Source="datacontext.xml"/>
        </Grid.DataContext>
        <StackPanel>
            <TextBox Name="MyTextBox" Text="{Binding XPath=/Contact/Lastname}" Width="100" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left"/>
            <CheckBox IsChecked="{Binding XPath=/Contact/@ShowsInterest}" Width="100" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" VerticalContentAlignment="Center" />
            <Button Content="Click" Click="ButtonBase_OnClick" Height="30" />
        </StackPanel>
    </Grid>
</Window> 
```

主窗口.xaml.cs

```
using System.Windows;

namespace submitbehavior
{
    public partial class MainWindow : Window
    {
        public MainWindow()
        {
            InitializeComponent();
        }

        private void ButtonBase_OnClick(object sender, RoutedEventArgs e)
        {
            this.MyTextBox.Text = "test";
        }
    }
} 
```

数据源（datecontext.xml）：

```
<Contact ShowsInterest="true">
  <Name>John</Name>
  <Lastname>Doe</Lastname>
</Contact> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:33:46.233

TextBox Text 属性绑定将在失去焦点时更新绑定源。将您的绑定更新为：

```
 <TextBox Name="MyTextBox" Text="{Binding XPath=/Contact/Lastname, UpdateSourceTrigger=PropertyChanged}" Width="100" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left"/> 
```

# python - Pandas 中的电子表格类函数

> ID：15920344
> 
> 赞同：1
> 
> 时间：2013-04-10T08:10:10.273
> 
> 标签：python, pandas

我有数据框，其中包含行中的期权定价模型的参数，因此：

df.Spot 是包含现货价格的列

df.Strike 是带有 Strike 价格的列，

等等

我有一个函数`blsimpv(spot, strike, rf, dy, T, price, w)`可以计算具有给定参数的期权的隐含波动率。所有参数都存在于数据框中。该`blsimpv`函数仅接受值的单个输入。

想要通过将值传递给函数来在熊猫数据框中创建新列。

```
df['vol']= df.applymap(blsimpv( df.spot, df.strike,  df.rf, df.dy, df.T,
                            df.MTMPrice, df.w)) 
```

不起作用，因为它传递`pd.series`给我只能在浮点数上计算的函数。必须是一种将函数应用于熊猫中连续元素的简单方法吗？

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T09:06:03.797

我认为最简单的方法是稍微更改您的函数（或使用包装函数，如下所示），以便它接受每个 DataFrame`row`作为参数：

```
def blsimpv_(row):
    blsimpv(row['spot'], row['strike'], row['rf'], row['dy'], row['T'], row['price'], row['w']) 
```

然后你可以[`apply`](http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.apply.html)这样做（按行）：

```
apply(blsimpv_, axis=1) 
```

# .net - 对同一个类库的多次引用

> ID：15920346
> 
> 赞同：0
> 
> 时间：2013-04-10T08:10:14.467
> 
> 标签：.net, dependencies, versioning, forward-compatibility

假设 2 年前，我编写了一个 .NET 类库，比如`mylib.dll`，它严重依赖于一个外部库，比如`foo.dll`，它是开源的、MIT 许可的（这是相关的，请继续阅读）。

许多客户使用我的库以及它的依赖程序集。包裹`mylib.dll`与`foo.dll`.

日子一天天过去，创建者`foo.dll`破坏了他们的 API，现在他们部署了一个新版本的库。这个新版本包含了旧版本中包含的大部分类型，但其中一些方法丢失或更改。

# 问题

一些潜在的消费者已经`foo.dll`在他们的应用程序中使用它的新版本，供他们自己使用。当我提供它们时`mylib.dll`，他们不能使用它。他们甚至无法成功构建，因为`mylib.dll`想要旧版本的`foo.dll`旧方法和签名。

# 如何克服这个问题？

我想要一个前向兼容的解决方案，这样就不会再次提出这个问题。所以我想了几件事：

1.  更新我的源代码以使用新版本的`foo.dll`. 但这需要大量的工作和时间。此外，这不是向前兼容的，因为有一天这个问题可能会再次出现。
2.  由于我有确切版本的来源`foo.dll`，也许我可以轻松更改其名称空间并重建整个事物。这样我就可以享受我自己的版本了`foo.dll`，这是合法的，因为它的许可证是 MIT。我可以命名修改后的程序集`mylib.foo.dll`或类似的名称。我什至可以将整个东西合并`ILMerge`到类似`mylib.merged.dll`.
3.  重新设计`mylib.dll`，以便将所需的功能`foo.dll`分离为接口和实现。在工程方面，这是最优雅的解决方案。就时间而言，这是一场灾难，因此不能被视为真正的解决方案。

# 我的问题

为了完成上面的#2，有没有一种改变给定源代码命名空间的捷径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T21:58:22.163

啊哈！是的 - 这是*流行*的开源库（如 nlog、newtonsoft 等）的消费者的常见痛苦。

**1\. 允许多个 FOO.DLL(s)**

您的问题源于您的输出目录只能包含 DLL 的一份副本（因为所有版本共享相同的文件名）。一些产品将版本号放入 DLL 文件名来解决这个问题——但我认为这很难看。您可以使用程序集绑定重定向将您的 DLL 依赖项存储在 bin/子文件夹中以防止覆盖 - 但这有点像以下解决方案更好地解决的 hack...

**2\. 合并**

*对于您的*客户来说，最简单的解决方案是将您的程序集及其依赖项打包到一个多模块 DLL 中 - 即使用[ILMerge 将](http://www.codeproject.com/Articles/9364/Merging-NET-assemblies-using-ILMerge)foo.dll 合并到您的 mylib.dll 中（是的，一个 DLL 可以包含多个程序集） - 然后您的product 似乎没有依赖项（实际上并非如此，它的依赖项只是在一个 DLL 中提供！太好了！）。

*这是一个比尝试重新编译 foo.dll 或命名空间搜索/替换更好的解决方案，因为您不必弄乱依赖源代码并冒着破坏它的风险......而且一旦您开始更改第 3 方源代码，您必须维护这些更改-当他们发布新版本时...在这里您再次搜索/替换...*

问题解决了。

警告：请记住，如果您的 mylib.dll 将 foo.dll 中声明的类型返回给调用程序（您客户的程序），他们可能会收到一个类转换异常，因为他们的 DLL 需要不同版本的类型。因此，仅当您对 foo.dll 的依赖是黑盒（未公开）时，才建议使用此解决方案。但是，我希望这对您来说不是问题，或者您不会考虑将 FOO 类型移动到不同的命名空间中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:18:34.700

如果您不使用新方法中`foo.dll`缺少的许多旧方法，一个可行的解决方案可能是将您的代码链接到新方法`foo.dll`，并制作`mylib.foo.legacy.dll`包含缺失功能的类似内容，您可以从旧方法中复制`foo`源代码，因为它是开源的并且获得了 MIT 许可。

无论您做什么，以最新版本`foo.dll`为基础，作者都不太可能回到旧功能。如果您使用该属性标记从旧 dll 复制的遗留方法`[obsolete]`，您将收到编译警告，显示仍然引用旧函数的位置。然后，随着时间的推移，您可以努力删除这些引用，直到可以完全删除旧版 dll。

# xslt - ASP - XSL 创建 href 问题

> ID：15920347
> 
> 赞同：0
> 
> 时间：2013-04-10T08:10:14.470
> 
> 标签：xslt, asp-classic

我对 ASP 非常陌生，我正在尝试为朋友设置新电子邮件。

他们有一个 xsl 文件，它是电子邮件的模板，如下所示：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
<xsl:output method="text" version="1.0" encoding="UTF-8" />

<xsl:template match="/">
Here is the text for the email, go to our website <a href="">here</a>

</xsl:template>
</xsl:stylesheet> 
```

他们想在电子邮件中输入一些动态值，所以我输入了以下内容

```
<a href="https://secure.website.com/page.asp?uid=<xsl:value-of select="email/userid"/>">Click here</a> 
```

当我插入它时，我不断收到错误，但是当我使用没有 href 标记的代码时，它显示得很好。

如果有人可以帮助我，那就太好了。

干杯，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:20:03.020

您正在寻找的是：

```
<a href="{email/userid}"> 
```

重点是 {...} 指向属性或节点值。

你也可以尝试这样的事情：

```
<a>
    <xsl:attribute name="href">https://secure.website.com/page.asp?uid=<xsl:value-of select="email/userid" /></xsl:attribute>
</a> 
```

确保 xsl:attribute 标记内没有空格。

# web - 子目录上的第二个网站给出 404 错误

> ID：15920350
> 
> 赞同：1
> 
> 时间：2013-04-10T08:10:19.460
> 
> 标签：web, magento-1.7

我真的希望有人可以在这里帮助我，我已经为解决这个问题而奋斗了 2 天。我使用带有新 .htaccess 和 index.php 的子目录“/micro_auricolare”创建了第二个网站

这是网址：

[http://www.eartecs.com/micro_auricolare/](http://www.eartecs.com/micro_auricolare/)

它显示正确，但从那里的每个链接都会给出 404 错误：登录、客户帐户、购物车...这些是我对子目录文件夹中的 index.php 所做的更改：

```
compilerConfig = MAGENTO_ROOT . ‘../includes/config.php’; 
if (file_exists($compilerConfig)) { 
include $compilerConfig; 
} 

$mageFilename = ‘../app/Mage.php’; 
$maintenanceFile = ‘maintenance.flag’; 
```

并在文件末尾：

```
$mageRunCode = isset($_SERVER[’MAGE_RUN_CODE’]) ? $_SERVER[’MAGE_RUN_CODE’] : ‘’; 

/* Run store or run website */ 
$mageRunType = isset($_SERVER[’MAGE_RUN_TYPE’]) ? $_SERVER[’MAGE_RUN_TYPE’] :        ‘website’; 

Mage::run(’micro_auricolare’, ‘website’); 
```

我在后端创建了网站并更改了安全和 usecure 基本 URL。我以前在 magento 1.5 上做过这个，但现在是在 1.7 上。我完全被困住了。

感谢您的宝贵帮助

# php - 需要 PHP 字符串帮助

> ID：15920356
> 
> 赞同：0
> 
> 时间：2013-04-10T08:10:31.637
> 
> 标签：php

我需要在字符串上调用以下参数

```
control_lbsresulted.php?lat=-25.74546&long=28.11222&dist=300&msisdn=0831231234 
```

我目前有这个字符串

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn']; ?>" class="update">Look Up</a> 
```

我似乎只能得到上面的内容来为我绘制 MSISDN，我是否需要添加带空格的分号才能根据需要获得另一个：

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn']; ?> , dist=<? echo $rows['dist']; ?>" class="update">Look Up</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:14:41.290

我会说您需要使用与符号 (&) 分隔它们，如您在第一行中所述。它看起来像：

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn']; ?>&dist=<? echo $rows['dist']; ?>" class="update">Look Up</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:15:13.067

试试下面：

```
<a href="control_lbsresulted.php?lat=<? echo $rows['lat']; ?>&long=<? echo $rows['long']; ?>&dist=<? echo $rows['dist']; ?>&msisdn=<? echo $rows['msisdn']; ?>" class="update">Look Up</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:14:36.897

尝试这个

```
<a href="control_lbsresulted.php?lat=-25.74546&long=28.11222&dist=<? echo $rows['dist']; ?>&msisdn=<?php echo $rows['msisdn']; ?>" class="update">Look Up</a> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:15:29.720

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn']; ?>&dist=<? echo $rows['dist']; ?>" class="update">Look Up</a> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-10T08:19:12.757

您需要将字符串与与号和逗号分开。你试试这个方法-

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn'];?>&dist=<? echo $rows['dist'];?>" class ="update">Look Up</a> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-10T08:20:19.757

您的第一个变量位于“？”后面，其他变量由＆符号“&”分隔

```
 <a href="control_lbsresulted.php?lat=<?php echo $rows['lat'] ?>&long=<?php echo $rows['long'] ?>&dist=<?php echo $rows['dist']; ?>&msisdn=<?php echo $rows['msisdn']; ?>" class="update">Look Up</a> 
```

哦，建议使用长标签：

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-10T08:20:42.703

使用 & 分隔参数。像这样

```
<a href="control_lbsresulted.php?msisdn=<? echo $rows['msisdn']; ?>&paramter2=<?=$row['param']?>" class="update">Look Up</a> 
```

# php - 用于验证字母数字字符串的 php 代码

> ID：15920360
> 
> 赞同：18
> 
> 时间：2013-04-10T08:10:43.230
> 
> 标签：php, regex, character

我想在 php 的表单文本框中验证字母数字字符串。它可以包含数字和特殊字符，如“。” 和 '-' 但字符串不应仅包含数字和特殊字符。请帮助提供代码。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2014-02-27T06:28:05.217

使用`ctype_alnum`如下：

```
if(ctype_alnum($string)){
    echo "Yes, It's an alphanumeric string/text";
}
else{
    echo "No, It's not an alphanumeric string/text";
} 
```

阅读[php.net上的函数规范](http://php.net/manual/en/function.ctype-alnum.php)

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-04-10T08:36:45.227

试试这个

```
// Validate alphanumeric
if (preg_match('/^[a-zA-Z]+[a-zA-Z0-9._]+$/', $input)) {
    // Valid
} else {
    // Invalid
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-12-23T05:42:46.937

代码：

`if(preg_match('/[^a-z_\-0-9]/i', $string)) { echo "not valid string"; }`

解释：

*   [] => 字符类定义
*   ^ => 否定类
*   az => 字符从 'a' 到 'z'
*   _ => 下划线
*   - => 连字符 '-' （你需要转义它）
*   0-9 => 数字（从零到九）

正则表达式末尾的“i”修饰符用于“不区分大小写”，如果您不这样做，则需要先在代码中添加大写字符，然后再执行 AZ

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-10T14:30:13.373

我对正则表达式有点陌生，但我会这样做：

```
preg_match('/^[\w.-]+$/', input) 
```

# c# - 获取输出 diffgram 中的节点名称而不是它们的索引

> ID：15920361
> 
> 赞同：4
> 
> 时间：2013-04-10T08:10:46.623
> 
> 标签：c#, xml

我正在使用`XMLdiffpatch`工具来检测两个 xml 文件之间的更改，该工具的输出 xml 文件如下所示：

```
<?xml version="1.0" encoding="utf-16"?>
<xd:xmldiff version="1.0" srcDocHash="5708212576896487287" options="None" fragments="no" xmlns:xd="http://www.microsoft.com/xmldiff">
    <xd:node match="2">
        <xd:node match="3"/>
        <xd:add>
            <e>Some text 4</e>
            <f>Some text 5</f>
        </xd:add>
        <xd:node match="4">
            <xd:change match="1">Changed text</xd:change>
            <xd:remove match="2"/>
        </xd:node>
        <xd:node match="5">
            <xd:remove match="@secondAttr"/>
            <xd:add type="2" name="newAttr">new value</xd:add>
            <xd:change match="@firstAttr">changed attribute value</xd:change>
        </xd:node>
        <xd:remove match="6" opid="1"/>
        <xd:add type="1" name="p">
            <xd:add type="1" name="q">
                <xd:add match="/2/6" opid="1"/>
            </xd:add>
        </xd:add>
    </xd:node>
    <xd:descriptor opid="1" type="move"/>
</xd:xmldiff> 
```

第一个文件：

```
<?xml version="1.0"?>
<b>
  <a>Some text 1</a>
  <b>Some text 2</b>
  <c>Some text 3</c>
  <d>
    Another text
    <foo/>
  </d>
  <x firstAttr="value1" secondAttr="value2"/>
  <y>
    <!--Any comments?-->
    <z id="10">Just another text</z>
  </y>
</b> 
```

第二个文件：

```
<?xml version="1.0"?>
<b>
  <a>Some text 1</a>
  <b>Some text 2</b>
  <c>Some text 3</c>
  <e>Some text 4</e>
  <f>Some text 5</f>
  <d>Changed text</d>
  <x firstAttr="changed attribute value" newAttr="new value"/>
  <p>
    <q>
      <y>
        <!--Any comments?-->
        <z id="10">Just another text</z>
      </y>
    </q>
  </p>
</b> 
```

如您所见，xml 根据与父节点对应的索引显示检测到的节点更改。我现在面临的问题是如何解析这些索引，以便将它们替换为原始 xml 文件中的实际节点名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T22:07:34.463

您在 xml diff 中看到的“匹配”数字是子节点的相对索引。构建整个 xml 差异以从第一个文件构造第二个文件。在你的例子中，

```
<xd:node match="2">
  <xd:node match="3"/>
    <xd:add>
        <e>Some text 4</e>
        <f>Some text 5</f>
    </xd:add> 
```

意思是：

“在第一个文件中，从根中定位第二个子节点”——即 **<?xml>**声明之后的节点**<b> 。**

 **“在找到的节点中，定位第三个子节点” - 即**<c>Some text 3</c>**

“找到节点后，插入以下文本” - 插入节点 e 和 f。

MSDN 上有一篇关于[**xmldiff 格式**](http://msdn.microsoft.com/en-us/library/aa302295.aspx#xmldif_topic4)的非常详细的文章，其中包含一些代码示例和 xmldiff 语言规范。

因此，为了将索引替换为实际值，您需要根据差异索引遍历源文档，并提取实际节点名称。[这个问题](https://stackoverflow.com/questions/4684241/help-with-xmldiffpatch-navigating-xml-doc-by-number-of-nodes)有很好的代码示例来遍历子节点。**

# python - Python编程：模拟网络和调试

> ID：15920365
> 
> 赞同：2
> 
> 时间：2013-04-10T08:11:21.597
> 
> 标签：python, debugging, networking, emulation

我在 Python 上学习网络编程：使用 TCP、UDP、ICMP、ARP 等协议编写客户端-服务器和客户端-客户端软件。

我需要一个工具来模拟具有以下功能的 N 个主机的网络：

1.  轻量级软件，可以创建 N (2, 5, 10, ...) 个主机，每个主机都带有 python 解释器（都在我的电脑上！）。像 Virtualbox 这样的虚拟机似乎太重了，并且对 RAM 的要求令人难以置信。我只需要 python 解释器和网络堆栈支持。

2.  能够配置整个网络质量，例如“丢弃 10% 的数据包”或“使信号延迟达到 500 毫秒”

3.  能够分别为每个主机配置对某些请求的响应。就像“从 5 号主机 ping 到 google.com 应该返回”“无法访问远程网络”，但“从 5 号主机 ping 到 yahoo.com”应该没问题。

4.  当然，我的网络中发生的事情会完整记录下来。

**是否有这样的软件或框架（适用于 Windows 7 和 Linux）？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:20:36.013

您必须编写自己的代码来涵盖您的确切规格。

1.  您可以使用一台服务器为每台主机使用不同端口来模拟多台服务器 - 如果您想要为每台主机使用不同的 IP，您需要弄清楚如何创建虚拟网络连接。
2.  要控制网络噪音，您可以向您的 python 服务器应用程序添加`random`和语句。`time.sleep`
3.  如果您自己编写代码，您可以在不同的端口上设置不同的应用程序以不同的方式响应。
4.  对于日志记录，python`logging`模块非常好。

Python 内置了一个[简单的 HTTP 服务器](http://docs.python.org/2/library/simplehttpserver.html)：

```
import SimpleHTTPServer
import SocketServer

PORT = 8000

Handler = SimpleHTTPServer.SimpleHTTPRequestHandler

httpd = SocketServer.TCPServer(("", PORT), Handler)

print "serving at port", PORT
httpd.serve_forever() 
```

或者你可以使用类似的东西来服务 python 请求[`FastCGI`](http://wiki.dreamhost.com/Python_FastCGI)

```
def myapp(environ, start_response):
    start_response('200 OK', [('Content-Type', 'text/plain')])
    return ['Hello World!\n']

if __name__ == '__main__':
    from fcgi import WSGIServer
    WSGIServer(myapp).run() 
```

只需替换`myapp`为您要执行的 python 命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:35:17.720

对于仅收听，您可以像这样创建多个接口（别名）：

```
ifconfig eth0:0 192.168.5.12 netmask255.255.255.0 up 
ifconfig eth0:1 192.168.5.13 netmask255.255.255.0 up 
```

稍后，您使应用程序的每个实例都在另一个接口上侦听。

但是，如果您需要从不同的 iface 发送包，则每次执行此操作时都必须重新配置路由表。这不包括您指定的其他功能。

我会在单独的虚拟机上使用一些没有 ui 的轻量级、高度可配置的 linux 发行版。

# c# - 带有 char** 参数的 PInvoke 中的问题，字符串数组不起作用

> ID：15920370
> 
> 赞同：2
> 
> 时间：2013-04-10T08:11:44.113
> 
> 标签：c#, .net, .net-4.0, pinvoke

我有一个`DLL`用`C`. 我尝试在托管代码中使用它，但有些我的功能无法正常工作。这是`C`代码。

```
int preProcessImagesC (char *p_trainingFilePath,
                       char **p_vecImageFilesOrDirs); 
```

此功能运行良好。

托管代码：

```
unsafe private static extern int preProcessImagesC(
    //Works perfact 
    String p_trainingFilePath,
    //char** thise parameter is taking junk values , String Array is not working
    [MarshalAs(UnmanagedType.SafeArray)] ref String[] p_vecImageFilesOrDirs); 
```

只有第一个参数工作正常。我应该 `char **p_vecImageFilesOrDirs` 在托管代码中使用什么参数。请帮我在`C#`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:23:59.753

你试过了吗：

```
private static extern int preProcessImagesC(
    string p_trainingFilePath,
    string[] p_vecImageFilesOrDirs
); 
```

编组器自动使用：

```
[MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.LPTStr)] 
```

这就是你所需要的。

您应该小心这一点，因为您的非托管代码无法确定传递数组的实际大小。您必须将数组的实际大小作为另一个参数传递给非托管函数，或者在两个地方都使用固定大小。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-10T08:14:09.797

A string is already an array of characters.
Thus you should be fine with

> ref String p_vecImageFilesOrDirs

You are currently copying a reference to array of array of characters.

# git - 用于 GIT 的 Visual Studio 工具与 Gitblit 一起使用

> ID：15920373
> 
> 赞同：2
> 
> 时间：2013-04-10T08:11:54.990
> 
> 标签：git, visual-studio-2012, gitblit

我成功地将[Visual Studio Tool for Git](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c/view/Discussions/0?showDiscussionForm=True)与 Gitblit 服务器集成在一起。

但是当我推送文件时出现错误：

```
An error was raised by libgit2\. Category = Net (Error).  
   Early EOF 
```

当我检查 gitblit 服务器上的数据时，一切似乎都正常。什么都没有。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-26T17:05:34.993

您可能想使用[gitscc](http://gitscc.codeplex.com/)

它支持 2008、2010 和 2012。我使用 git-scm +gitExtension+Gitblit Server+ gitscc，效果很好

# django - Django 表单集验证：自动修复表单验证错误

> ID：15920374
> 
> 赞同：0
> 
> 时间：2013-04-10T08:11:56.427
> 
> 标签：django, django-forms

在我的模型中，我有以下内容

```
--- models.py ---
class A(models.Model):
   my_Bs = models.ManyToManyField('B', through='AlinksB')
   ...

class B(models.Model):
   ...

class AlinksB(models.Model):
   my_A = models.ForeignKey(A)
   my_B = models.models.ForeignKey(B)
   order = models.IntegerField() 
```

相应的管理员也是如此（管理员视图有一个内联链接 B 实例，我准备了自定义此内联的表单集和表单所需的内容）：

```
--- admin.py ---
class AlinksBInlineForm(forms.ModelForm):
   class Meta:
      model = AlinksB

class AlinksBInlineFormset(forms.models.BaseInlineFormSet): # there also is a BaseModelFormset
   form = AlinksBInlineForm

class AlinksBInline(admin.TabularInline):
   formset = AlinksBInlineFormset
   model = AlinksB

class AAdmin(admin.ModelAdmin):
   form = AForm
   inlines = (AlinksBInline,)
   ...

class BAdmin(admin.ModelAdmin):
   ... 
```

现在自定义表单验证，没什么难的：只需覆盖表单对象的“干净”方法。如果您想在表单集中使用许多不同的表单，我认为您只需在表单集的“ **init** ”方法中手动更改一些。但是，当我们清理表单集时，以编程方式验证所有表单怎么样，并且仅在某些条件下。

就我而言：如果所有订单（要删除排除的内联行）为空，如何自动设置“订单”字段（在管理视图的内联中）并自动增加？！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:11:56.427

我刚刚花了很多时间在谷歌上搜索尝试在 Django 框架中的表单集验证期间执行自动表单清理。几天后，我想不出一个解决方案，所以我开始直接查看 Django 的源代码，看看字段、小部件、表单和表单集是如何工作的。

这是我的理解：

- 用户提交表单集时发布的所有数据，它存储在表单集的“**数据**”属性中。这个属性很丑，不能直接使用。- 表单只是字段的包装器（它调用所有字段的干净方法并填充错误缓冲区，仅此而已）

- 表单域有一个小部件。这个小部件允许从表单集的“数据”属性中取回字段的**原始值**

```
form.add_prefix('field name') # returns the 'field prefix', the key of formset.data used to retrieve the field's raw value
form.fields['field name'].widget.value_from_datadict(form.data, form.files, 'field prefix') # returns the raw value 
```

- 表单字段还有一种将原始值转换为正确 python 值的方法（在我的例子中：order 是一个整数，如果字段为空，则为 None）

```
form.fields['field name'].to_python(raw_value) # returns a value with the right type 
```

- 您可以使用以下代码更改表单集中其中一个字段的值

```
form.data.__setitem__('field prefix', value) # code to update an iterable knowing the key to change 
```

- 一旦你修改了字段值，你可以调用表单的“ **full_clean** ”方法重新尝试清理它们（这将删除以前的错误）。

- 再次验证表单后，您也可以使用其“ **full_clean** ”方法重新尝试验证表单集。但要注意避免无限循环

- 表单清理数据只能使用只读数据，在表单或表单集中添加更多错误信息

另一种解决方案是手动更改“form.clean_data”属性，并清理 formset.errors 和所有 form.errors

希望它可以帮助与我相同情况的人！

Ricola3D

# android - 从代码修改Android中的文件权限不起作用

> ID：15920379
> 
> 赞同：0
> 
> 时间：2013-04-10T08:12:02.140
> 
> 标签：android, sharedpreferences, chmod

前段时间，我创建了一个带有私有共享首选项的应用程序。现在我正在创建一个相关的应用程序，它需要检查一些以前的应用程序首选项。我面临的问题是以前的应用程序源代码在我下个月才能访问的计算机中。因为我不想等那么久，所以我认为，由于我的设备已植根，我也许可以修改首选项文件权限以便能够访问它，这样我就可以在获得前一个应用程序后立即发布这两个应用程序回码。

首选项文件位于 /data/data/my.package/shared_prefs。如果我使用 adb shell 访问它并使用**chmod 777**文件权限被修改，我可以访问首选项，但最终权限将回到 660。我尝试使用以下代码从代码中更改它们：

```
Runtime.getRuntime().exec("su");
Runtime.getRuntime().exec("chmod 777 /data/data/my.package/shared_prefs/my_preferences.xml"); 
```

权限未修改。这是为什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:47:10.483

我的猜测是运行的每个命令`exec()`都是[在单独的本机进程中执行的](https://developer.android.com/reference/java/lang/Runtime.html#exec%28java.lang.String%29)。因此，您的`su`命令不会影响对`exec()`.

试试这个：

```
Runtime.getRuntime().exec("su; chmod 777 /data/data/my.package/shared_prefs/my_preferences.xml"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T10:02:22.303

```
try {
    Process suProcess = Runtime.getRuntime().exec("su");
    DataOutputStream suOutputStream = new DataOutputStream(suProcess.getOutputStream());
    suOutputStream
            .writeBytes("chmod 777 /data/data/my.package/shared_prefs/my_preferences.xml\n");
    suOutputStream.flush();
    suOutputStream.writeBytes("exit\n");
    suOutputStream.flush();
    suProcess.waitFor();

} catch (IOException e) {
    // TODO Auto-generated catch block
} catch (InterruptedException e) {
    // TODO Auto-generated catch block
} 
```

# javascript - 将嵌套数组连接到向量？

> ID：15920381
> 
> 赞同：1
> 
> 时间：2013-04-10T08:12:06.980
> 
> 标签：javascript, arrays, math, matrix, linear-algebra

鉴于我有一个这样的数组：

```
array = [Array[8], Array[8], Array[8], ...]
# array.length is 81; each octet represents a point on a 9x9 grid 
```

每个嵌套数组包含 8 个数字元素，范围从`-2`到`2`，我将如何应用以下步骤在 Javascript 中获取向量？

> 步骤 5\. 图像的签名只是与网格点相对应的 8 元素数组的串联，从左到右、从上到下排列。因此，我们的签名是长度为 648 的向量。我们将它们存储在 648 字节的数组中，但是因为已知第一行和最后一行和列的某些条目为零，并且因为每个字节仅用于保存 5 个值，所以签名可以用 ⌈544 log [2] 5⌉ = 1264 位来表示。

（最后，这些应该是上限符号；鉴于 SO 缺乏乳胶格式，我能做到的最好）

我已经准备好阵列并正确订购，但是我对矩阵和向量的了解有点生疏，所以我不确定下一步如何处理。我将不胜感激任何澄清！

* * *

背景：我正在尝试创建一个由施乐帕洛阿尔托研究中心发布的图像处理算法的 JS 实现，用于我目前正在从事的一个副项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T14:55:23.300

从概念上讲，您可以使用以下算法将其转换为单个 1264 位数：

1.  将累加器变量初始化为零
2.  遍历所有元素，但跳过那些你知道为零的元素
3.  对于其他元素，加 2 以获得 [0,1,2,3,4] 范围内的值
4.  对于每个这样的值，将累加器乘以 5，然后添加相应的值
5.  处理完所有元素后，累加器将对数组进行编码

要反转该编码，您可以这样做：

1.  将编码值读入累加器
2.  以相反的顺序遍历所有元素，但跳过那些你知道为零的元素
3.  对于每个元素，您将获得相应的值作为累加器模 5
4.  从该值中减去 2
5.  使用截断除法将累加器除以 5

所有这一切的问题在于 JS 没有提供开箱即用的 1264 位数字。您可以尝试[如何处理 javascript 中的大数字中](https://stackoverflow.com/q/4288821/1468366)建议的库之一。

但是，除非您*绝对*需要极小的表示形式，否则我建议您使用另一种方法：您可以在 32 位有符号整数中编码多达 13 个这样的值，因为 5 ^(13) =1,220,703,125 < 2,147,483,648=2 ^(31)。因此，在对 13 个值进行编码后，我会使用这样的数字写出结果，然后将累加器重置为零。这样，您将需要 ⌈544/13⌉∙32=1376 位，这在空间要求方面并没有那么糟糕，但实施起来会快*很多。*

不是向前迭代一次，反向迭代一次，不将累加器乘以 5 可能更容易，而是将添加到该累加器的值乘以 5 的合适幂。换句话说，您保持一个因子初始化为 1，每次添加一个值时乘以 5。因此，在这种情况下，对于编码和解码，第一个数据值的重要位置将低于后面的数据值，这意味着您可以对两者使用相同的迭代顺序。

有关后一种方法的示例，请参阅下面我的评论中提到的 ideone 链接。它将完整的 9*9*8 值编码为 50 个整数，每个整数使用不超过 31 位。然后它从该编码形式解码原始矩阵，以显示所有信息仍然存在。该示例不使用任何固定零，在您的情况下 ⌈544/13⌉=42 个整数就足够了。

# javascript - 函数返回所有属性，但必须只返回被调用的那个

> ID：15920383
> 
> 赞同：1
> 
> 时间：2013-04-10T08:12:14.710
> 
> 标签：javascript

我正在尝试编写一些东西，以便我可以将我的所有函数很好地整齐地封装到一个地方，并通过那里的属性名称来调用它们，但是发生的事情是，每当我调用一个属性时，它都会返回所有的。

我如何`main('test').f3;` 只记录'f3test'并仍然保持我的概念。

```
var main = function (t) {

    var f1 = function () { console.log('f1' + ' ' + t); };
    var f2 = function () { console.log('f2' + ' ' + t); };
    var f3 = function () { console.log('f3' + ' ' + t); };
    var f4 = function () { console.log('f4' + ' ' + t); };
    var f5 = function () { console.log('f5' + ' ' + t); };
    var f6 = function () { console.log('f6' + ' ' + t); };
    var f7 = function () { console.log('f7' + ' ' + t); };
    var f8 = function () { console.log('f8' + ' ' + t); };

    return {
        f1: f1(),
        f2: f2(),
        f3: f3(),
        f4: f4(),
        f5: f5(),
        f6: f6(),
        f7: f7(),
        f8: f8(),
    }

}

//this
    main('test').f3; 
//will console.log
//f1test
//f2test
//f3test
//f4test
//f5test
//f6test
//f7test
//f8test 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:14:36.433

稍微改变你的代码：

```
return {
    f1: f1,
    f2: f2,
    f3: f3,
    f4: f4,
    f5: f5,
    f6: f6,
    f7: f7,
    f8: f8 // <-- don't put last comma here
} 
```

`()`立即执行该功能，您需要提供参考。然后你这样称呼它：

```
main('test').f3(); // f3 test 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:15:20.887

改变

```
return {
    f1: f1(),
    f2: f2(),
    f3: f3(),
    f4: f4(),
    f5: f5(),
    f6: f6(),
    f7: f7(),
    f8: f8(),
} 
```

到

```
return {
    f1: f1,
    f2: f2,
    f3: f3,
    f4: f4,
    f5: f5,
    f6: f6,
    f7: f7,
    f8: f8,
} 
```

和

```
main('test').f3; 
```

到

```
main('test').f3(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:16:13.483

您需要返回函数变量而不是函数结果，例如：

```
return {
        f1: f1,
        f2: f2,
        f3: f3,
        f4: f4,
        f5: f5,
        f6: f6,
        f7: f7,
        f8: f8,
} 
```

并称它为

```
main('test').f3(); 
```

# javascript - 文档准备好后加载 gmap

> ID：15920384
> 
> 赞同：0
> 
> 时间：2013-04-10T08:12:14.740
> 
> 标签：javascript, google-maps, google-api

当用户单击按钮时，我使用此功能生成我的 gmap

```
function getGMap(id_map,lat,lng) {

        var mapOptions = {
          center: new google.maps.LatLng(lat, lng),
          zoom: 14,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById(id_map),
            mapOptions);

        marker = new google.maps.Marker({
            map:map,
            //animation: google.maps.Animation.DROP,
            position: new google.maps.LatLng(lat, lng),
            icon: "../imgmdg/icons/map_pin.png"
        });
}

$(".toggleMap").click(function(){

       var id_map=$(this).attr('data-idmap');
       var lat=$(this).attr('data-lat');
       var lng=$(this).attr('data-lng');
       var status=$(this).attr('data-status');

       if(status=="0") { 

           console.log(id_map);
           console.log(lat);
           console.log(lng);
           $("#"+id_map).html('');
           getGMap(id_map,lat,lng); 

           $(this).attr('data-status','1');

       }

}); 
```

触发器：（第二个'li'中的类toggleMap）

```
 <ul class="nav nav-tabs tabsFixBorder">
      <li class="active"><a href="#<?=$menu->id()?>tab1" data-toggle="tab" class="tab1">Men&ugrave;</a></li>
      <li><a href="#<?=$menu->id()?>tab2" data-toggle="tab" class="tab2 toggleMap" data-idmap="map_<?=$menu->id()?>" data-lat="<?=$restaurant->lat()?>" data-lng="<?=$restaurant->lng()?>" data-status="0">Profilo</a></li>
    </ul> 
```

在我的页面中有一些像这样的 div：

```
<div id="map_1" class="gmap_container"></div>
<div id="map_2" class="gmap_container"></div>
<div id="map_3" class="gmap_container"></div> 
```

这是我的CSS：

```
html{
    font-family: Arial, Helvetica, Verdana; 
    font-size: 12px; 
    color: #2d2929;    
    height: 100%;
}
body {
    height: 100%;
    min-height: 100%;
    position: relative;
    background-image: url('../imgmdg/pattern/pattern.jpg'); 
}
.gmap_container{
    display: block;
    /*tried with height:100% as well*/
    height:200px;
    width:100%;
    background-color: #fff !important;
    margin: 0px;
    padding-bottom:10px;
} 
```

它仅适用于第一次单击我单击一次后地图有一些问题（它只加载地图的一部分）这是问题的屏幕截图：http: [//postimg.org/image/7apl01wn7/](http://postimg.org/image/7apl01wn7/)

谢谢大家的建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T21:25:48.147

最后我找到了我的问题的解决方案：最后我使用引导选项卡作为我的地图的容器。诀窍是在加载选项卡后加载地图（例如，我使用了引导事件“显示”）

```
$('a[data-toggle="tab"]').on('shown', function (e) {
    getGMap(id_map,lat,lng);
}); 
```

希望这有帮助

# objective-c - Event Date in Calendar sets on day earlier after saving

> ID：15920400
> 
> 赞同：0
> 
> 时间：2013-04-10T08:13:24.277
> 
> 标签：objective-c, ios6, calendar, nsdate, ekevent

I am new with EKEventKit and I am trying to create an event in calendar using EKEvent. It works fine but after saving the event when I check again the event date it gets one day earlier.

I am writing my code here with output. Please have a look

```
EKEventStore *eventStore = [[EKEventStore alloc]init];
    [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {
        EKEvent *event = [EKEvent eventWithEventStore:eventStore];

        // set Event Title and Notes
        event.title = @"My New Event";
        event.notes = @"New event notes are added by azeem";

        // set Event Start and End date here
        NSLog(@"before saving Date: %@",[NSDate date]);
        event.startDate = [NSDate date];
        event.endDate =[NSDate date];

        // set Evet other Properties here
        event.timeZone = [NSTimeZone timeZoneForSecondsFromGMT:0];
        event.calendar = [eventStore defaultCalendarForNewEvents];
        event.allDay = YES;

        [eventStore saveEvent:event span:EKSpanThisEvent error:&error];
        NSLog(@"After saving Date: %@",event.startDate); 
```

`OUTPUT ::`

```
Before Saving Date : 2013-04-10 08:00:40 +0000
After Saving Date:   2013-04-09 00:00:00 +0000 
```

We can see here that there is 1 Day before. but they should be same.

I hope I am very much clear with my question, but still if any question, you can ask me.

thanks in anticipation.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:58:45.287

为什么要取消时区？如果您的申请是针对不同国家/地区的，那么您不应该这样做。

```
event.timeZone = [NSTimeZone timeZoneForSecondsFromGMT:0]; 
```

是的，打印的 NSDate 与将添加到 EvencCalendar 的日期不同 - 没关系（因为 GMT +x 等）。添加日期将等于您的开始日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:51:38.610

我无法重现您的问题... [NSDate date] 会提前 1 天返回日期似乎确实很奇怪。你确定不是 event.startDate 和 event.endDate 得到改变吗？我通过以下日志获得了您的描述行为：

```
event.startDate = [NSDate date];
NSLog(@"before saving Date: %@",event.startDate);
event.endDate =[NSDate date];

// set Evet other Properties here
event.timeZone = [NSTimeZone timeZoneForSecondsFromGMT:10];
event.calendar = [eventStore defaultCalendarForNewEvents];
event.allDay = YES;

[eventStore saveEvent:event span:EKSpanThisEvent error:&error];
NSLog(@"After saving Date: %@",event.startDate); 
```

这是由于时区的设置。我建议使用 [NSTimeZone systemTimeZone] 或 [NSTimeZone localTimeZone] 来调整您的用户设置，然后让奇迹发生 :-) 您的活动日期将根据您的用户观点设置为当前日期。

干杯，

# axapta - Dynamics AX - 以电子邮件形式发送 HTML 文件

> ID：15920401
> 
> 赞同：1
> 
> 时间：2013-04-10T08:13:26.693
> 
> 标签：axapta

我对 Dynamics AX 很陌生。目前我使用 AX 4.0。我已经编写了一个代码以将纯文本作为电子邮件发送，现在我需要以 HTML 格式发送电子邮件。我有一个 HTML 文件，在发送时必须将其设置为 Email 类的正文。我没有找到合适的方法吗？有人可以指导我需要遵循的基本步骤，以便我可以从那里接管吗？

我只需要在 AX 4.0 中执行此操作。

提前致谢

~阿楚！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-20T09:46:49.380

从 AX 发送电子邮件有多种方式。如果您按照此处的建议使用 .net 类：http: [//support.microsoft.com/kb/952736](http://support.microsoft.com/kb/952736) 然后您可以将邮件消息设置为 html，如下所示：

```
 mailMessage.set_IsBodyHtml(true); 
```

如果您使用其他方法，则每种方法都有自己的设置html的方法。您可能想看看这些博客： [http ://sumitsaxfactor.wordpress.com/2008/09/09/email-techniques-in-ax-4-0/](http://sumitsaxfactor.wordpress.com/2008/09/09/email-techniques-in-ax-4-0/) [http://waikeatng.blogspot.co.uk/2010 /06/sending-emails-from-dynamics-ax.html](http://waikeatng.blogspot.co.uk/2010/06/sending-emails-from-dynamics-ax.html)

# c# - 我希望能够在网页代码隐藏中画线

> ID：15920403
> 
> 赞同：1
> 
> 时间：2013-04-10T08:13:47.170
> 
> 标签：c#, asp.net, drawing, webpage, code-behind

我正在研究能够在 C# 中的代码中绘制线条，用于在 Visual Studio 中创建的网页。它们只是垂直线，但必须能够根据其他变量改变大小。

我有一些代码，如下所示：

```
using System.Drawing;
using System.Drawing.Imaging;

public partial class SpareFields : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        Bitmap objBitmap;
        Graphics objGraphics;
        objBitmap = new Bitmap(400, 440);
        objGraphics = Graphics.FromImage(objBitmap);
        objGraphics.Clear(Color.White);
        Pen p = new Pen(Color.Yellow, 0);

        Rectangle rect = new Rectangle(600, 1500, 601, 2000);
        objGraphics.DrawEllipse(p, rect);
        objBitmap.Save(Response.OutputStream, ImageFormat.Gif);
        //objBitmap.Save(Server.MapPath("x.jpg"), ImageFormat.Jpeg);

        objBitmap.Dispose();
        objGraphics.Dispose();
    }
} 
```

等等。这只是开始`Page_Load`- 那里还有很多其他非图形代码。麻烦的是，页面的其余部分被忽略了，它只是在绘制图形。

另外，我知道上面是一个椭圆（基本上是对一些饼图的快速测试）。很容易适应一条线，或者一个非常细的矩形。

知道如何绘制，同时仍然可以使用原始页面的其余部分吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:17:38.910

最简单的方法是将此页面一分为二：

1）您的页面输出只是它的html，包括一个带有指向新页面`<img>`的属性的标签2）在该新页面中，仅使用该图像生成代码。`src`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:42:58.653

只是画一些线我会使用[SVG](http://blogs.msdn.com/b/saveenr/archive/2010/03/21/getting-started-with-svg-an-example-driven-exploration-of-basic-svg-usage-in-xhtml.aspx)，*几乎* [没有理由不将它](http://caniuse.com/#feat=svg)用于动态图像，svg 的巨大优势是您可以通过 JS 更改页面/客户端上的图像。

*但是*如果你真的想要位图，网上有很多文章讨论动态图像，[谷歌的“msdn 动态图像 asp.net”](https://www.google.co.uk/#hl=en&safe=off&output=search&sclient=psy-ab&q=msdn+dynamic+image+asp.net&oq=msdn+dynamic+image+asp.net&gs_l=hp.3..35i39.1035.1035.0.2123.1.1.0.0.0.0.252.252.2-1.1.0...0.0...1c.1.8.psy-ab.HfbIW5754r0&pbx=1&bav=on.2,or.r_cp.r_qf.&bvm=bv.44990110,d.d2k&fp=e45df0792d1f4b12&biw=1051&bih=868)应该会给你很多相关的文章和源代码。

# java - MS访问数据库Java

> ID：15920405
> 
> 赞同：-5
> 
> 时间：2013-04-10T08:13:50.203
> 
> 标签：java, database, ms-access

我在`MS Access`我的 Java 应用程序中使用数据库。应用程序每 2 分钟从数据库获取一次连接，并在一分钟后关闭连接，并整天重复此操作。

如果我使用这种值每次都会改变的方法，它会影响（损坏/崩溃）数据库吗？

示例代码

```
public void someMethod() {
    String update = "UPDATE SETTINGS SET Rem_Date = ?, Rem_Count = ?";
    try
    {
        conn = ac.getConnection();
        stmt = conn.prepareStatement(update);
        stmt.setDate(1, differentDate); //date will change here for every loop
        stmt.setInt(2, num); //value will change here for every loop
        stmt.executeUpdate();
    }catch(SQLException ex){}
    catch(ClassNotFoundException e)
    {e.printStackTrace();}

    finally
    {
        if(stmt != null) {stmt.close();}
        if(conn != null) {conn.close();}
    }
} 
```

如果我每两分钟调用一次这个方法

```
while(for every two minutes) {
    someMethod(); 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T09:43:02.107

**不，它可能不会损坏数据库。**

如果是这样，整个数据库将不稳定，与更新频率无关。

如果这崩溃了，如果更新间隔为 5 天，它也会崩溃（尽管显示症状可能会更长）。

# python - what is the fastest way in python to convert a string with formatted numbers in an numpy array

> ID：15920413
> 
> 赞同：2
> 
> 时间：2013-04-10T08:14:26.237
> 
> 标签：python, performance, numpy

I have a large ASCII file (~100GB) which consists of roughly 1.000.000 lines of known formatted numbers which I try to process with python. The file is too large to read in completely into memory, so I decided to process the file line by line:

```
fp = open(file_name)
for count,line in enumerate(fp):
    data = np.array(line.split(),dtype=np.float)
    #do stuff
fp.close() 
```

It turns out, that I spend most of the run time of my program in the `data =` line. Are there any ways to speed up that line? Also, the execution speed seem much slower than what I could get from an native FORTRAN program with formated read (see this [question](https://stackoverflow.com/questions/15834327/strange-accuracy-difference-between-ipython-and-ipython-notebook-then-using-fort), I've implemented a FORTRAN string processor and used it with f2py, but the run time was only comparable with the `data =` line. I guess the I/O handling and type conversions between Python/FORTRAN killed what I gained from FORTRAN)

Since I know the formatting, shouldn't there be a better and faster way as to use `split()`? Something like:

```
data = readf(line,'(1000F20.10)') 
```

I tried the [fortranformat](https://pypi.python.org/pypi/fortranformat) package, which worked well, but in my case was three times slower than thee `split()` approach.

P.S. As suggested by ExP and root I tried the np.fromstring and made this quick and dirtry benchmark:

```
t1 = time.time()
for i in range(500):
  data=np.array(line.split(),dtype=np.float)
t2 = time.time()    
print (t2-t1)/500
print data.shape
print data[0]
0.00160977363586
(9002,)
0.0015162509 
```

and:

```
t1 = time.time()
for i in range(500):    
   data = np.fromstring(line,sep=' ',dtype=np.float,count=9002)
t2 = time.time()
print (t2-t1)/500
print data.shape
print data[0]
0.00159792804718
(9002,)
0.0015162509 
```

so `fromstring` is in fact slightly slower in my case.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:32:34.603

你试过[`numpyp.fromstring`](http://docs.scipy.org/doc/numpy/reference/generated/numpy.fromstring.html)吗？

```
np.fromstring(line, dtype=np.float, sep=" ") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:26:03.860

np.genfromtxt函数是速度冠军，如果你能让它匹配你的输入格式[*。*](http://docs.scipy.org/doc/numpy/reference/generated/numpy.genfromtxt.html)

如果没有，那么您可能已经在使用最快的方法。您的逐行拆分为数组的方法与[SciPy Cookbook 示例](http://www.scipy.org/Cookbook/InputOutput)完全匹配。

# javascript - 如何在javascript中为字符串编写上标

> ID：15920420
> 
> 赞同：0
> 
> 时间：2013-04-10T08:14:45.347
> 
> 标签：javascript, html

你好朋友我在对象 section_data.title 中有一个数据。我使用的是不同的

```
 str= str.replace(/ft2/g,"ft<sup>2</sup>"); 
    str=str.replace(/m2/g,"m<sup>2</sup>"); 
```

对于上标

其中str=section_data.title；str="医院或疗养院的每位患者不少于 30 净**平方英尺**（2.8 净**平方米**），或有限护理机构的每位居民不少于 15 净**平方英尺**（1.4 净**平方米**），应在聚合区域内提供走廊、病房、治疗室、休息室或用餐区以及水平出口两侧的其他类似区域。在不容纳床位或垃圾患者的楼层上，每位居住者不得少于 6 净**平方英尺**（0.56 净**平方米**）在水平出口的每一侧提供相邻隔间的乘客总数。”

我怎样才能为两者编写一个正则表达式？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:17:52.730

制作一个匹配两个单位并捕获基本单位的正则表达式，以便您可以在替换字符串中使用它：

```
str = str.replace(/(ft|m)2/g,"$1<sup>2</sup>"); 
```

# javascript - 如何在 CSS 更改时调用 JavaScript

> ID：15920424
> 
> 赞同：0
> 
> 时间：2013-04-10T08:15:03.923
> 
> 标签：javascript, css, tinyscrollbar

我正在使用[tinyscrollbar](http://baijs.nl/tinyscrollbar)在框中显示一些文本。我有 2 个样式表：

```
<link rel="stylesheet" media="all and (min-width: 1152px) and (max-width: 9000px)" href="grid-1218.css"/>
<link rel="stylesheet" media="all and (min-width: 1px) and (max-width: 1151px)" href="grid-978.css"/> 
```

我面临一个问题：当我更改 CSS 时，盒子会变大，但高度保持不变，我不想在 CSS 中声明高度，因为我有更多的盒子。

有没有办法重新运行脚本以获得新的高度？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:20:10.330

据我所知，没有针对媒体查询更改的特定事件。

您可以绑定到窗口的`resize`事件并在每次调整大小时重新运行 javascript，或者进行一些检查以查看调整大小是否重要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:46:33.310

它被接受，所以只是为了记录。您还可以使用`matchMedia`and `addListener`：

```
window.matchMedia("(min-width: 152px) and (max-width: 900px)").addListener(function(mq) {
    if (mq.matches) {
        oScrollbar5.tinyscrollbar_update();
    }
}); 
```

它适用于 IE10+，所以现在肯定`window.onresize`更好。

# sql-server - 用于插入的 sql server 触发器

> ID：15920426
> 
> 赞同：0
> 
> 时间：2013-04-10T08:15:08.837
> 
> 标签：sql-server, database, triggers

我是 Sql Server 的新手，但我一直经常使用 Oracle。我看到 Sql Server 不支持某些功能。可以说，我想观察一个表以进行插入，以及插入该表的内容，我想将插入的同一行复制到另一个表中。

这是我的代码

```
Create TRIGGER Post_Trigger ON Posts For Insert
AS
INSERT INTO EmailQueueRaw (UserID,CreatedBy,EmailTypeId,EmailTablePrimaryKey)    VALUES('','Arif','1','1');
GO 
```

在 Oracle 中，我曾经使用过很棒的 New 和 Old 函数。但是我们在 Sql Server 中没有它，我不确定在这里做什么。请帮助我如何将相同的数据复制到另一个表？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:19:21.643

您将使用`INSERTED`（并且，如果需要`DELETED`），但您需要注意它们是[伪表](http://msdn.microsoft.com/en-GB/library/ms191300.aspx)，并且可能包含 0、1 或多行：

```
Create TRIGGER Post_Trigger ON Posts For Insert
AS
INSERT INTO EmailQueueRaw (UserID,CreatedBy,EmailTypeId,EmailTablePrimaryKey)
SELECT '',ColumnA,'1',ColumnB FROM inserted;
GO 
```

# cocoa - NSWindow 的挂钩事件

> ID：15920428
> 
> 赞同：0
> 
> 时间：2013-04-10T08:15:10.557
> 
> 标签：cocoa, nswindow, nswindowcontroller

我正在 NSWindow 中制作弹出工具提示，例如遵循 XCode 工具提示

![在此处输入图像描述](https://i.stack.imgur.com/1wVeI.png)

如果用户按下按钮，则会显示弹出窗口。这很容易。

但在那之后，如果用户在这个窗口中按下任何按钮，弹出窗口应该被隐藏。

但是如果用户按下按钮，则不会调用 nswindow 的 mousedown:。因此 nswindowcontroller 无法接收该事件。

nswindow 如何检测窗口区域中的所有事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:46:16.793

您可以为小窗口创建一个 contextMenu，它会在您的操作中打开。

**注意：*在图像中，这是一个自定义视图，而不是 contextMenu。*

```
- (IBAction)button:(id)sender {
    NSRect frame = [(NSButton *)sender frame];
    NSPoint menuOrigin = [[(NSButton *)sender superview] convertPoint:NSMakePoint(frame.origin.x+80, frame.origin.y+frame.size.height-10)
                                                               toView:nil];
    NSEvent *event =  [NSEvent mouseEventWithType:NSLeftMouseDown
                                         location:menuOrigin
                                    modifierFlags:NSLeftMouseDownMask // 0x100
                                        timestamp:0.0
                                     windowNumber:[[(NSButton *)sender window] windowNumber]
                                          context:[[(NSButton *)sender window] graphicsContext]
                                      eventNumber:0
                                       clickCount:1
                                         pressure:1];
    NSMenu *menu = [[NSMenu alloc] init];
    [menu setAutoenablesItems:NO];
    [menu insertItemWithTitle:@"Add Favorite"
                       action:@selector(addFavorite:)
                keyEquivalent:@""
                      atIndex:0];
    [menu insertItem:[NSMenuItem separatorItem] atIndex:1];
    [menu insertItemWithTitle:@"Manage Favorite"
                       action:@selector(manageFavorite:)
                keyEquivalent:@""
                      atIndex:2];
      [NSMenu popUpContextMenu:menu withEvent:event forView:(NSButton *)sender];
}

-(IBAction)addFavorite:(id)sender{
    NSLog(@"add");
}

-(IBAction)manageFavorite:(id)sender{
    NSLog(@"mangage");
} 
```

# android - Android：我如何使用本地图像作为我的背景

> ID：15920430
> 
> 赞同：-6
> 
> 时间：2013-04-10T08:15:13.143
> 
> 标签：android, background, local

我有一个本地图像文件，我想用作 android 应用程序背景，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:22:03.310

例如在 main.xml

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/main"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/nameOfYourLocalFile"
android:orientation="vertical" >
</LinearLayout> 
```

只需将您`nameOfYourLocalFile.png`的`drawable`目录。希望它的帮助。

# coq - 使用 Coq 中的“递归提取”提取到 OCaml 文件

> ID：15920431
> 
> 赞同：0
> 
> 时间：2013-04-10T08:15:13.673
> 
> 标签：coq, coq-extraction

我想将一个函数提取`foo`到`Coq`一个`OCaml`文件中。因为我真正的函数必须使用 . `Recursive Extraction`，所以当我运行程序时，它会在`cmd`. 但我想将其输出到文件中，例如：`foo.ml`

```
Recursive Extraction foo. 
```

当我尝试时：

```
Recursive Extraction "foo.ml" foo. 
```

或者`Recursive Extraction foo "foo.ml"`

我收到一个错误：`Syntax error: "." expected after [vernac:command] (in [vernac_aux]).`

我的问题是：我是否能够`foo`使用`Recursive Extraction`语法将函数提取到文件中？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:33:57.920

根据手册（[http://coq.inria.fr/distrib/V8.4/refman/Reference-Manual027.html](http://coq.inria.fr/distrib/V8.4/refman/Reference-Manual027.html)），`Extraction "foo.ml" foo`将提取`foo`并递归其所有依赖项到`foo.ml`，即在这种情况下您不需要`Recursive`它仅用于标准输出上的提取。

# visual-studio-2012 - Visual Studio 2012 keeps losing connection with TFS 2010

> ID：15920440
> 
> 赞同：14
> 
> 时间：2013-04-10T08:15:47.363
> 
> 标签：visual-studio-2012, tfs

I'm working with Visual Studio 2012 and when I wanted to check in my pending changes (on TFS 2010), all of sudden VS loses its connection with TFS and says (on the Team Explorer window): "HTTP Code 404: not found". The option to check in (or to shelve) is disabled. When I try to refresh the source control explorer window, it briefly shows my folders, but then closes it again (saying it was disconnected with TFS). The funny thing is that I still can get the latest version from TFS and even see my pending changes, but when I try to check these in or shelve my pending changes, it loses the connection.

I tried looking for an answer on Google, but the only answer I found was clearing the TFS cache at C:\Users\\Local Settings\Application Data\Microsoft\Team Foundation\4.0\Cache or starting up VS with the VS command prompt with the command "devenv /ResetSkipPkgs".

I'm clueless. Thanks in advance!

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-10-01T17:51:06.070

在针对 TFS 2010 运行的 Windows 7 客户端上，清除以下文件夹的内容：

```
%LOCALAPPDATA%\Microsoft\Team Foundation\3.0\Cache 
```

在针对 TFS 2012 运行的 Windows 7 客户端上，清除以下文件夹的内容：

```
%LOCALAPPDATA%\Microsoft\Team Foundation\4.0\Cache 
```

在针对 TFS 2013 运行的 Windows 7 客户端上，清除以下文件夹的内容：

```
%LOCALAPPDATA%\Microsoft\Team Foundation\5.0\Cache 
```

# ios - Website which shows CocoaPods libraries sorted by github stars

> ID：15920441
> 
> 赞同：0
> 
> 时间：2013-04-10T08:15:47.883
> 
> 标签：ios, github, cocoapods

I am looking for good iOS Libraries and Frameworks.

I discovered the great CocoaPods library manager and its great!

But its really hard to find the really goods libraries in CocoaPods. The search functionality is not very advanced. But most of the libraries are on github.

Now I am wondering if someone has already done a sorting of the CocoaPods libraries according to the github stars? So that I can find the very good or widely used libraries easy on CocoaPods.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:25:34.550

通常，您有特定的需求并寻找它，例如：去 GitHub 并放置“iOS Charts”。会弹出一堆库，选择你喜欢的。然后，检查它是否在 CocoaPods 上。如果不是，只需向创建库的人发送电子邮件以将其添加到那里。

# iphone - 响应式网站，在 iPhone 上无响应

> ID：15920446
> 
> 赞同：1
> 
> 时间：2013-04-10T08:16:05.693
> 
> 标签：iphone, html, css, responsive-design

当视口减小时，以下页面在桌面浏览器中按比例缩小

[http://rocoru.com/blog/](http://rocoru.com/blog/)

但是，从 iPhone 本身查看时，桌面版本仍然显示，无论

为什么会这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:23:14.860

尝试添加元标记：

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
```

您可以通过谷歌搜索“视口元标记”来获取有关此标记的更多信息以及为什么需要它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T17:53:37.537

尝试在您的移动媒体查询中使用它。

```
.excerpt .entry p {
overflow: hidden;
} 
```

# xpages - 通过 Java 重定向时出现 RedirectSignal 错误

> ID：15920448
> 
> 赞同：1
> 
> 时间：2013-04-10T08:16:07.807
> 
> 标签：xpages

我设计了以下方法并在托管 bean 中使用它：

```
public static void redirectToPrevious() {
    FacesContext context = FacesContext.getCurrentInstance();
    XSPContext xContext=XSPContext.getXSPContext(context);
    xContext.redirectToPrevious();
} 
```

它按预期工作。它重定向到上一页（或主页，如果没有的话）。

但是，每次它工作时，它都会抛出 RedirectSignal 错误：

```
com.ibm.xsp.FacesExceptionEx: javax.faces.el.EvaluationException: com.ibm.xsp.acl.RedirectSignal
at com.ibm.xsp.util.DataPublisher.publishControlData(DataPublisher.java:204)
at com.ibm.xsp.component.UIDataPanelBase.publishControlData(UIDataPanelBase.java:310)
at com.ibm.xsp.component.UIDataPanelBase.initBeforeContents(UIDataPanelBase.java:451)
at com.ibm.xsp.component.UIIncludeComposite.initBeforePageContents(UIIncludeComposite.java:668)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:339)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.createTree(AbstractCompiledPage.java:256)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.addComponent(AbstractCompiledPage.java:389)
at com.ibm.xsp.component.UIIncludeComposite.buildContents(UIIncludeComposite.java:453)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:334)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildFacet(CompiledComponentBuilder.java:205)
at com.ibm.xsp.component.UICallback.buildContents(UICallback.java:180)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:334)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildChildren(CompiledComponentBuilder.java:123)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildAll(CompiledComponentBuilder.java:84)
at com.ibm.xsp.extlib.component.layout.UIVarPublisherBase.buildContents(UIVarPublisherBase.java:97)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:334)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildChildren(CompiledComponentBuilder.java:123)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildAll(CompiledComponentBuilder.java:84)
at com.ibm.xsp.component.UIIncludeComposite.buildPageContents(UIIncludeComposite.java:692)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:340)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.createTree(AbstractCompiledPage.java:256)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.addComponent(AbstractCompiledPage.java:389)
at com.ibm.xsp.component.UIIncludeComposite.buildContents(UIIncludeComposite.java:453)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:334)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildChildren(CompiledComponentBuilder.java:123)
at com.ibm.xsp.page.compiled.CompiledComponentBuilder.buildAll(CompiledComponentBuilder.java:84)
at com.ibm.xsp.component.UIViewRootEx.buildContents(UIViewRootEx.java:1649)
at com.ibm.xsp.component.UIViewRootEx2.buildContents(UIViewRootEx2.java:247)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.initComponent(AbstractCompiledPage.java:334)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.createTree(AbstractCompiledPage.java:256)
at com.ibm.xsp.page.compiled.AbstractCompiledPage.createViewRoot(AbstractCompiledPage.java:167)
at com.ibm.xsp.application.ViewHandlerExImpl._createViewRoot(ViewHandlerExImpl.java:521)
at com.ibm.xsp.application.ViewHandlerExImpl.createViewRoot(ViewHandlerExImpl.java:567)
at com.ibm.xsp.application.ViewHandlerExImpl.doCreateView(ViewHandlerExImpl.java:142)
at com.ibm.xsp.application.ViewHandlerEx.createView(ViewHandlerEx.java:90)
at com.ibm.xsp.webapp.FacesServlet.serviceView(FacesServlet.java:251)
at com.ibm.xsp.webapp.FacesServletEx.serviceView(FacesServletEx.java:157)
at com.ibm.xsp.webapp.FacesServlet.service(FacesServlet.java:160)
at com.ibm.xsp.webapp.FacesServletEx.service(FacesServletEx.java:138)
at com.ibm.xsp.webapp.DesignerFacesServlet.service(DesignerFacesServlet.java:103)
at com.ibm.designer.runtime.domino.adapter.ComponentModule.invokeServlet(ComponentModule.java:576)
at com.ibm.domino.xsp.module.nsf.NSFComponentModule.invokeServlet(NSFComponentModule.java:1315)
at com.ibm.designer.runtime.domino.adapter.ComponentModule$AdapterInvoker.invokeServlet(ComponentModule.java:853)
at com.ibm.designer.runtime.domino.adapter.ComponentModule$ServletInvoker.doService(ComponentModule.java:796)
at com.ibm.designer.runtime.domino.adapter.ComponentModule.doService(ComponentModule.java:565)
at com.ibm.domino.xsp.module.nsf.NSFComponentModule.doService(NSFComponentModule.java:1299)
at com.ibm.domino.xsp.module.nsf.NSFService.doServiceInternal(NSFService.java:662)
at com.ibm.domino.xsp.module.nsf.NSFService.doService(NSFService.java:482)
at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.doService(LCDEnvironment.java:350)
at com.ibm.designer.runtime.domino.adapter.LCDEnvironment.service(LCDEnvironment.java:306)
at com.ibm.domino.xsp.bridge.http.engine.XspCmdManager.service(XspCmdManager.java:272)

Caused by: javax.faces.el.EvaluationException: com.ibm.xsp.acl.RedirectSignal
    at com.sun.faces.el.MethodBindingImpl.invoke(MethodBindingImpl.java:142)
    at com.ibm.xsp.actions.ExecuteScriptAction.invoke(ExecuteScriptAction.java:78)
    at com.ibm.xsp.actions.ActionGroup.invoke(ActionGroup.java:135)
    at com.ibm.xsp.model.AbstractDocumentDataSource.invoke(AbstractDocumentDataSource.java:299)
    at com.ibm.xsp.model.AbstractDocumentDataSource.newDocument(AbstractDocumentDataSource.java:126)
    at com.ibm.xsp.model.AbstractDocumentDataSource.load(AbstractDocumentDataSource.java:97)
    at com.ibm.xsp.model.AbstractDataSource.getDataContainer(AbstractDataSource.java:474)
    at com.ibm.xsp.model.domino.DominoDocumentData.getDataObject(DominoDocumentData.java:145)
    at com.ibm.xsp.model.AbstractDataSource.pushData(AbstractDataSource.java:576)
    at com.ibm.xsp.util.DataPublisher.publishControlData(DataPublisher.java:181)
    ... 50 more
Caused by: com.ibm.xsp.acl.RedirectSignal
    at com.ibm.xsp.designer.context.XSPContext.renderPage(XSPContext.java:194)
    at com.ibm.xsp.designer.context.XSPContext.redirectToPage(XSPContext.java:917)
    at com.ibm.xsp.designer.context.XSPContext.redirectToPage(XSPContext.java:929)
    at com.ibm.xsp.designer.context.XSPContext.redirectToPrevious(XSPContext.java:939)
    at com.developi.toolbox.BeanUtils.redirectToPrevious(BeanUtils.java:57)
    at com.hillside.flowng.beans.JobManager.postNewJob(JobManager.java:141)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
    at java.lang.reflect.Method.invoke(Method.java:611)
    at com.sun.faces.el.MethodBindingImpl.invoke(MethodBindingImpl.java:138)
    ... 59 more 
```

我可以使用 try-catch 并忽略该错误，但我不确定为什么这会发生在托管 bean 中而不是 SSJS 中。

任何想法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-10T12:40:20.683

*RedirectSignal*不是*java.lang.Exception*，而是*java.lang.Error*。这就是为什么它没有被默认的 try/catch 块捕获。还有一些其他信号来自*NoAccessSignal*或*ResponseCompleteSignal*，它们在内部处理以停止处理请求和/或代码执行，但对于 XPages servlet 来说不是“真正的”错误。

重定向到另一个页面时，需要*RedirectSignal*停止处理“无用”代码，并在 SSJS 解释器中捕获。带有此代码的按钮...

```
print("BEFORE!");
context.redirectToPrevious();
print("AFTER"); 
```

只会发送*之前！*到控制台，其余的 SSJS 将不会被执行。

您必须自己处理*RedirectSignal*（在您的 bean 的方法中）以防止打印到控制台/日志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T11:03:04.603

`XSPContext.getXSPContext(FacesContext)` just uses the variable resolver to resolve the `context` variable, so this method *should* return a handle on the same object that `context` evaluates to within SSJS. So I'm not sure why you would see different behavior in different languages.

However, a `RedirectSignal` is only shown when recursion has been detected during a redirect. If I'm interpreting your stack trace correctly, `refreshMode` is set to `partial` on your event. All redirects must be performed from within a full refresh event.

# python - py2neo 批量插入甚至 2k 个节点的超时

> ID：15920449
> 
> 赞同：0
> 
> 时间：2013-04-10T08:16:13.133
> 
> 标签：python, neo4j, py2neo

我只是想对 2k 个节点做一个简单的批量插入测试，这已经超时了。我确定这不是内存问题，因为我正在使用 ec2 xLarge 实例进行测试，并且我更改了 neo4j java 堆和数据存储内存参数。可能出了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T13:37:39.157

由于 Python 对服务器流格式的处理，存在大批量的现有错误。几周后将在 1.5 版中对此进行修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T09:13:15.683

嘿，显然有一些与 neo4j 版本 1.8.X 相关的错误，这就是我正在使用的。下面的链接可能会提供轻微的支持。

[https://groups.google.com/forum/?fromgroups=#!topic/neo4j/Nqc9g1FZSD8](https://groups.google.com/forum/?fromgroups=#!topic/neo4j/Nqc9g1FZSD8)

编辑：没关系，升级没有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T09:03:50.890

您可以通过一批插入插入 300 个节点吗？

例如：

```
nodes_to_insert = []
for n in my_nodes:
    nodes_to_insert.append(n)
    if len(nodes_to_insert) == 300:
        func_insert_by_batch(nodes_to_insert)
        nodes_to_insert = []
if nodes_to_insert:
    func_insert_by_batch(nodes_to_insert) 
```

# mysql - Rails：MySQL 数据库表被删除，如何创建一个

> ID：15920453
> 
> 赞同：0
> 
> 时间：2013-04-10T08:16:16.453
> 
> 标签：mysql, ruby-on-rails, activerecord, migration

最近我犯了一个错误（实际上是愚蠢的）。从 phpMyadmin 我丢了一张桌子。现在我无法通过此命令导入该表。

```
mysqldump --user <my_name> --password=<my_pass> deve_lockstate thermostat_histories < thermostat_histories.sql 
```

我也无法生成迁移文件，因为它已经在 ActiveRecord 中。

请帮我。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:39:40.040

您可以使用

> 耙分贝：重置

rake db:reset 任务将删除数据库，重新创建它并将当前模式加载到其中。你可以使用这个命令：

> 耙--描述数据库

描述可用的 rake db 任务。

# jquery - 使用多个容器（jQuery）延迟加载具有阈值的图像失败

> ID：15920456
> 
> 赞同：1
> 
> 时间：2013-04-10T08:16:28.843
> 
> 标签：jquery, lazy-loading, containers, lazy-evaluation, threshold

我的网站包含三个水平 div（容器），它们都在列表视图（ul -> li）中具有延迟加载图像。当“阈值”设置为“0”时，它们都加载得很好，当我向右滚动时，所有图像都会加载。

但是，当我将“阈值”设置为“500”时，它只是第一个延迟加载的容器。其他 div 容器只会开始延迟加载，直到我滚动到第一个 div 容器的末尾。

示例：如果我尝试在第二个 div 容器中滚动，则不会开始加载图像。延迟加载仅在第一个 div 容器滚动到其末尾时开始。

我的脚本：

```
 <script type="text/javascript" charset="utf-8">
  $(function () {
      $("img").lazyload({ container: $(".horizontalBookList1") });
  });
  $(function () {
      $("img").lazyload({ container: $(".horizontalBookList2") });
  });
  $(function () {
      $("img").lazyload({ container: $(".horizontalBookList3") });
  });
  $("img").lazyload({
      effect: "fadeIn"
  });
  $("img").lazyload({
      threshold: 500
  });
  </script> 
```

提前，非常感谢你:)

延迟加载脚本的链接：http: [//www.appelsiini.net/projects/lazyload](http://www.appelsiini.net/projects/lazyload)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-23T21:10:41.080

而不是初始化插件五次只做三遍。每个容器一次，并且仅用于每个容器内的图像。以下应该工作：

```
$(function() {
    $(".horizontalBookList1 img").lazyload({ 
        container: $(".horizontalBookList1"),
        effect: "fadeIn,"
        threshold: 500
    });
    $(".horizontalBookList2 img").lazyload({ 
        container: $(".horizontalBookList2"),
        effect: "fadeIn,"
        threshold: 500
    });
    $(".horizontalBookList3 img").lazyload({ 
        container: $(".horizontalBookList3"),
        effect: "fadeIn,"
        threshold: 500
    });
}; 
```

# windows - Windows 上带有“sh”扩展名的文件

> ID：15920460
> 
> 赞同：1
> 
> 时间：2013-04-10T08:16:36.603
> 
> 标签：windows

我们的 Apache Web 服务器在 Linux 环境中工作。
cgi 可执行文件通过 sh 文件（例如 /cgi-bin/iwsblogin.sh）调用。调用“/cgi-bin/iwsblogin.sh”在一个 html 文件中。

现在我想在windows上为这个web服务器做一个开发和测试环境。

我不想仅出于测试目的将 html 文件中的调用从“iwsblogin.sh”更改为“iwsblogin.bat”。

有没有办法以这种方式配置窗口，扩展名为“.sh”的文件被视为与“.bat”和“.exe”文件相同的可执行文件？

这个 .sh 文件的内容例如：
- ms dos 命令，用于设置一些环境变量。
- 应调用的 exe 文件的路径。

我知道在 stackoverflow 上存在类似的问题，用户建议使用 cygwin，但这不是我的选择！

非常感谢提前

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:49:35.637

有一些方法可以做到这一点。

1.  如果 .sh 文件在重命名为 .bat 时有效，则可以使用“运行方式”并选择 C:\Windows\System32\cmd.exe 作为默认程序
2.  使用 sh 模拟器。例如，[msysgit](http://msysgit.github.io/)包含一个，或者您可以使用[cygwin](http://cygwin.com/)（可能是相同的来源？）。

我知道你不想使用 cygwin，但为什么不呢？请解释为什么这不是一个选项。如果我们不知道为什么常规答案不起作用，就很难找到答案。

# macos - 获取调用系统调用的进程pid的方法？

> ID：15920461
> 
> 赞同：2
> 
> 时间：2013-04-10T08:16:38.197
> 
> 标签：macos, kernel, kernel-extension

[我做了一个 kext 来使用我的系统调用，而不是参考Re-routing System Calls](https://github.com/dwalters/pt_deny_attach)的现有系统 调用。

在测试期间，我想知道哪个进程调用了这个系统调用。

我需要允许应用程序正常继续，除了指定的进程。

有什么东西可以获取调用进程的信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:41:45.517

如果您查看[系统调用的](http://opensource.apple.com/source/xnu/xnu-2050.9.2/bsd/kern/mach_process.c)[常规实现`ptrace`](http://opensource.apple.com/source/xnu/xnu-2050.9.2/bsd/kern/mach_process.c)的源代码，您会发现它与`struct proc`作为第一个参数传入的表示调用进程一起使用：

```
int
ptrace(struct proc *p, struct ptrace_args *uap, int32_t *retval)
{
    // …   
    if (uap->req == PT_DENY_ATTACH) {
        proc_lock(p);
        if (ISSET(p->p_lflag, P_LTRACED)) {
            proc_unlock(p);
            KERNEL_DEBUG_CONSTANT(BSDDBG_CODE(DBG_BSD_PROC, BSD_PROC_FRCEXIT) | DBG_FUNC_NONE,
                          p->p_pid, W_EXITCODE(ENOTSUP, 0), 4, 0, 0);
            exit1(p, W_EXITCODE(ENOTSUP, 0), retval);
            /* drop funnel before we return */
            thread_exception_return();
            /* NOTREACHED */
        }
        SET(p->p_lflag, P_LNOATTACH);
        proc_unlock(p);

        return(0);
    } 
```

您可以使用 中的函数`<sys/proc.h>`来获取有关给定进程的信息，例如`proc_pid`查找 pid。

# mvvm - 带有 MVVM Light 的 Windows 应用商店应用程序中的附加行为

> ID：15920463
> 
> 赞同：1
> 
> 时间：2013-04-10T08:16:41.580
> 
> 标签：mvvm, windows-8, mvvm-light, datatemplate, attachedbehaviors

我一直在尝试使用 MVVM Light 框架在一个简单的 Windows 应用商店应用程序中使用附加行为。由于我们不能像在 Windows Phone 中那样使用 System.Windows.Interactivity，因此我一直在使用[Windows.UI.Interactivity](https://www.nuget.org/packages/Windows.UI.Interactivity)和[WinRtBehaviors](https://nuget.org/packages/WinRtBehaviors)库。它们运行良好，但问题是**我无法在数据模板中声明附加行为**。

我真正想要的是将命令附加到 GridView 中的任何项目，以便我可以将项目 ID 作为参数传递。由于该附加行为不起作用，我找到的唯一解决方案是使用 GridView 的“SelectionChanged”事件并将 SelectedItem 作为参数传递给 ViewModel 中的属性：

```
 <GridView Grid.Row="1"
              x:Name="itemGridView"
              AutomationProperties.AutomationId="ItemsGridView"
              AutomationProperties.Name="Items"
              TabIndex="1"
              Padding="116,136,116,46"
              ItemsSource="{Binding GeoTopArtists.topartists.artist}"
              SelectionMode="Single"
              SelectedItem="{Binding SelectedArtist, Mode=TwoWay}"
              IsSwipeEnabled="False"
              IsItemClickEnabled="False">

        <WinRtBehaviors:Interaction.Behaviors>
            <Win8nl_Behavior:EventToCommandBehavior Event="SelectionChanged" Command="SelectArtistCommand" CommandParameter="{Binding SelectedArtist.mbid}"/>
        </WinRtBehaviors:Interaction.Behaviors>

        <GridView.ItemTemplate>
            <DataTemplate>
                <Grid HorizontalAlignment="Left" Width="250" Height="250">
                    <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}">
                        <Image Source="{Binding image[4].text}" Stretch="UniformToFill" AutomationProperties.Name="{Binding Title}"/>
                    </Border>
                    <StackPanel VerticalAlignment="Bottom" Background="{StaticResource ListViewItemOverlayBackgroundThemeBrush}">
                        <TextBlock Text="{Binding name}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" Style="{StaticResource TitleTextStyle}" Height="60" Margin="15,0,15,0"/>
                        <TextBlock Text="{Binding url}" Foreground="{StaticResource ListViewItemOverlaySecondaryForegroundThemeBrush}" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,15,10"/>
                    </StackPanel>
                </Grid>
            </DataTemplate>
        </GridView.ItemTemplate>
    </GridView> 
```

做这样的事情会非常好（不需要在 ViewModel 中有*SelectedArtist属性）*

```
 <GridView Grid.Row="1"
              x:Name="itemGridView"
              AutomationProperties.AutomationId="ItemsGridView"
              AutomationProperties.Name="Items"
              TabIndex="1"
              Padding="116,136,116,46"
              ItemsSource="{Binding GeoTopArtists.topartists.artist}"
              SelectionMode="None"
              IsSwipeEnabled="False"
              IsItemClickEnabled="False">

        <GridView.ItemTemplate>
            <DataTemplate>
                <Grid HorizontalAlignment="Left" Width="250" Height="250">
                    <Border Background="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}">
                        <Image Source="{Binding image[4].text}" Stretch="UniformToFill" AutomationProperties.Name="{Binding Title}"/>
                    </Border>
                    <StackPanel VerticalAlignment="Bottom" Background="{StaticResource ListViewItemOverlayBackgroundThemeBrush}">
                        <TextBlock Text="{Binding name}" Foreground="{StaticResource ListViewItemOverlayForegroundThemeBrush}" Style="{StaticResource TitleTextStyle}" Height="60" Margin="15,0,15,0"/>
                        <TextBlock Text="{Binding url}" Foreground="{StaticResource ListViewItemOverlaySecondaryForegroundThemeBrush}" Style="{StaticResource CaptionTextStyle}" TextWrapping="NoWrap" Margin="15,0,15,10"/>
                    </StackPanel>

        <WinRtBehaviors:Interaction.Behaviors>
            <Win8nl_Behavior:EventToCommandBehavior Event="Tapped" Command="SelectArtistCommand" CommandParameter="{Binding Artist.mbid}"/>
        </WinRtBehaviors:Interaction.Behaviors>

                </Grid>
            </DataTemplate>
        </GridView.ItemTemplate>
    </GridView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T05:48:34.253

这个[链接](http://www.youtube.com/watch?v=gIr8nL3OgwA)可以帮助你。依赖属性被定义并连接到视图模型中的命令。因此，每当视图中有交互时，可以将所选项目作为命令参数发送，这在此视频中清楚地展示了。

# maven - 如何避免 Maven 配置文件重复

> ID：15920464
> 
> 赞同：2
> 
> 时间：2013-04-10T08:16:45.727
> 
> 标签：maven, dry

我有一个用于 webapp 的 maven 项目，它使用覆盖重新打包战争依赖项。对于两个配置文件*test*和*prod*，它应该排除*demo.jsp*文件，但对于其他配置文件，例如*local*，这个文件应该保留。有没有办法让两个配置文件只有一个配置？我不想为两个配置文件重复一种配置。我目前的解决方案：

```
<profiles>
    <profile>
        <id>test</id>
        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>2.3</version>
                    <configuration>
                        <overlays>
                            <overlay>
                                <groupId>mygroup</groupId>
                                <artifactId>mywebapp</artifactId>
                                <excludes>
                                    <exclude>demo.jsp</exclude>
                                </excludes>
                            </overlay>
                        </overlays>
                    </configuration>
                </plugin>
            </plugins>
        </build>
    </profile>
    <profile>
        <id>prod</id>
        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                    <version>2.3</version>
                    <configuration>
                        <overlays>
                            <overlay>
                                <groupId>mygroup</groupId>
                                <artifactId>mywebapp</artifactId>
                                <excludes>
                                    <exclude>demo.jsp</exclude>
                                </excludes>
                            </overlay>
                        </overlays>
                    </configuration>
                </plugin>
            </plugins>
        </build>
    </profile>
</profiles> 
```

编辑：*测试*和*产品*配置文件是相同的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:27:03.777

[插件管理](http://maven.apache.org/pom.html#Plugin_Management)可以为我们提供以下帮助：-

```
<build>
    <pluginManagement>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-war-plugin</artifactId>
            <version>2.3</version>
            <configuration>
                <overlays>
                    <overlay>
                        <groupId>mygroup</groupId>
                        <artifactId>mywebapp</artifactId>
                        <excludes>
                            <exclude>demo.jsp</exclude>
                        </excludes>
                    </overlay>
                </overlays>
            </configuration>
        </plugin>
    </pluginManagement>
</build> 
```

那么`profiles`应该如下： -

```
<profiles>
    <profile>
        <id>test</id>
        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                </plugin>
            </plugins>
        </build>
        ...
    </profile>
    <profile>
        <id>prod</id>
        <build>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-war-plugin</artifactId>
                </plugin>
            </plugins>
        </build>
        ...
    </profile>
</profiles> 
```

我希望这可能会有所帮助。

# javascript - 有没有办法在require.js中动态设置baseurl？

> ID：15920472
> 
> 赞同：5
> 
> 时间：2013-04-10T08:16:54.637
> 
> 标签：javascript, zend-framework2, requirejs

我正在[Pi-engine](https://github.com/pi-engine/pi)（基于 zend 框架 2 的 php 应用程序引擎）上构建应用程序。

在我的应用程序中，javascript 文件路径取决于应用程序名称，而应用程序名称由安装程序选择。

例如 require.js 的 url 将是：

`http://my.site.name/asset/module-{module_name}/script/js/require.js`

module_name 根据给定应用程序的名称而变化。

我知道我可以将路径放在后端的“data-main”属性中，例如：

```
<script data-main="/asset/module-{module_name}/script/" src="/asset/module-{module_name}/script/js/require.js"></script> 
```

但我想知道有没有办法使用javascript动态设置baseurl，这样我就不需要接触后端了。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-10T08:34:42.467

[http://requirejs.org/docs/api.html#config](http://requirejs.org/docs/api.html#config)

*此外，您可以在加载 require.js 之前将配置对象定义为全局变量 require，并自动应用这些值。这个例子指定了一些在 require.js 定义 require() 时要加载的依赖项：*

```
<script>
    var require = {
        baseUrl: generateBaseUrl()
    };
</script>
<script src="scripts/require.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:33:04.023

如果我正确理解了您的问题，您可以在配置对象中使用“baseUrl”，您可以在其中设置找到 js 文件的路径。

```
require.config({
   baseUrl: "/js/"
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:58:04.567

谢谢你的回答，我刚刚在页面上找到了一个使用javascript的解决方案：[如何获取当前javascript文件名的绝对路径](https://stackoverflow.com/questions/13261970/how-to-get-the-absolute-path-of-the-current-javascript-file-name)

```
var scripts = document.getElementsByTagName("script");

require.config({
    baseUrl: '/asset' + scripts[scripts.length-1].src.match(/\/module.*?\//)[0] + 'script/',
}); 
```

这看起来很奇怪，但它确实有效。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-09T20:12:32.483

为了避免对全局范围的污染，您可以像在您的情况下一样将动态配置代码包装在立即执行的函数中：

```
require.config((function(){
    var scripts = document.getElementsByTagName("script");
    return {
        baseUrl: '/asset' + scripts[scripts.length-1].src.match(/\/module.*?\//)[0]
    };
})()); 
```

# android - 如何在单个查询中获取用户的照片、电子邮件和电话号码

> ID：15920473
> 
> 赞同：5
> 
> 时间：2013-04-10T08:17:02.457
> 
> 标签：android

我正在使用三个不同的查询来获取具有以下 URI 的照片、电子邮件和电话号码：

```
private final Uri mEmailUri = ContactsContract.CommonDataKinds.Email.CONTENT_URI;
private final Uri mPhotoUri = ContactsContract.Data.CONTENT_URI;
private final Uri mPhoneUri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI; 
```

获取记录需要很长时间。有没有更快的方法来完成它？

# .htaccess - .htaccess rewriterules 排除目录

> ID：15920474
> 
> 赞同：1
> 
> 时间：2013-04-10T08:17:02.597
> 
> 标签：.htaccess

我制作了所有的 htaccess 重写器，但现在我想从中排除所有目录和文件。欢迎所有有关此 htaccess 的提示，因为我没有重写规则的经验...

我发现 RewriteCond 仅适用于随后的第一条规则。因此，如何从所有规则中排除所有文件和目录？

```
Allow from All
RewriteEngine on

SetEnv DEVELOPMENT_ENVIRONMENT true

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

#One url parameter
RewriteRule ^([a-zA-Z0-9_]*)/$ index.php?language=$1
RewriteRule ^([a-zA-Z0-9_]*)$ index.php?language=$1

#Two url parameters
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)$ index.php?language=$1&page=$2
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/$ index.php?language=$1&page=$2

#Three url parameters
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)$ index.php?language=$1&page=$2&feed=$3&message=$3&page_number=$3&id=$3
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/$ index.php?language=$1&page=$2&feed=$3&message=$3&page_number=$3&id=$3

#Four url parameters
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_\-]*)$ index.php?language=$1&page=$2&id=$3
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_\-]*)/$ index.php?language=$1&page=$2&id=$3

#Five url parameters
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)$ index.php?language=$1&page=$2&feed=$3&year=$4&month=$5
RewriteRule ^([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/([a-zA-Z0-9_]*)/$ index.php?language=$1&page=$2&feed=$3&year=$4&month=$5 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T10:11:51.347

> 因此，如何从所有规则中排除所有文件和目录？

我猜你的意思是：

> 因此，如何从所有规则中**排除所有存在的文件和目录？**

像这样：

```
RewriteCond %{REQUEST_FILENAME} -f  [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule .*  - [L] 
```

用上面的集合替换前 2`RewriteCond`行。

# php - Cakephp : 从模板创建证书

> ID：15920476
> 
> 赞同：0
> 
> 时间：2013-04-10T08:17:12.070
> 
> 标签：php, cakephp, cakephp-2.0, cakephp-2.1

我正在为一所大学开发一个系统，该系统可以满足他们在 Cakephp 2.1 中的考试和打印证书的需求。我有一个证书模板，我想采用该模板作为骨架，其中将在每个学生上打印姓名和年级等变量。是否可以在 cakephp 中使用这样的模板？如果是怎么办？如果没有，我还有其他方法可以解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:34:18.750

我以前使用过[TCPDF 库](http://www.tcpdf.org/)和 CakePHP，在非常相似的事情上取得了不错的结果——生成 PDF 证书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T12:33:04.923

您可以为证书创建一个 html 模板，然后使用此[CakePDF](https://github.com/ceeram/cakepdf)插件从中生成 pdf。

# jquery - 制作具有滚动功能的移动下拉菜单？

> ID：15920478
> 
> 赞同：1
> 
> 时间：2013-04-10T08:17:16.217
> 
> 标签：jquery, html, css, mobile, menu

所以我正在开发一个网站，尤其是移动版。我制作了一个“下拉”菜单，当用户单击“导航图标”时它会向下滑动。而且当用户点击“navicon”时，网站会向下滚动到实际的“navicon”图像，以使移动导航更流畅、更快。现在我想不出一种方法（也找不到任何地方的答案），不仅使滚动功能仅在菜单向下滑动而不是向上滑动时才起作用。但我也希望菜单项在您单击它们时关闭菜单。有什么帮助吗？

这是我的代码：

<----------------------------HTML------------------------ -->

```
<div class="naviconbutton displaydesktop displaytablet" id="navbutton">

<img src="sitefiles/img/navicon-black.png" alt="navicon" class="navicon">

</div>

<nav class="displaydesktop displaytablet">

<ul id="menu-m">

<li class="click click1"> Menu 1 </li>

<li class="click click2"> Menu 2 </li>

<li class="click click3"> Menu 3 </li>

<li class="click click4"> Menu 4 </li>

</ul>

</nav> 
```

<----------------------------CSS------------------------ -->

```
.naviconbutton {
background:#ddd;
width:100%;
opacity:0.3;
float:left;
margin:20px 0 0 0;
padding:20px 0 20px 0;
}

.naviconbutton .navicon {
display:block;
margin:0 auto;
width:10%;
padding:0;
}

#menu-m {
overflow:hidden;
float:left;
background:#eee;
width:100%;
list-style:none;
padding:0;
margin:0;
height:0px;

-webkit-box-shadow:inset 0 0 15px #999999;
-moz-box-shadow:inset 0 0 15px #999999;
-ms-box-shadow:inset 0 0 15px #999999;
box-shadow:inset 0 0 15px #999999;

-webkit-transition:height ease 0.3s;
-moz-transition:height ease 0.3s;
-ms-transition:height ease 0.3s;
transition:height ease 0.3s;
}

#menu-m.slide {
height:313px;
}

#menu-m li {
display:block;
width:100%;
float:left;
padding:30px;
text-align:center;
font-family:"Lato";
font-weight:300;
font-size:15px;

-webkit-box-sizing:border-box;
-moz-box-sizing:border-box;
-ms-box-sizing:border-box;
box-sizing:border-box;
} 
```

<----------------------------JQUERY------------------------ -->

```
$(".naviconbutton").click(function(){
$("#menu-m").toggleClass("slide");
$("html, body").animate({
scrollTop: $("#navbutton").offset().top
}, 400);
});

$(".click").click(function(){
$("#menu-m").removeClass("slide");
});

$(".click1").click(function(){
$("html, body").animate({
scrollTop:("600px")
}, 400);
}); 
```

# java - Quartz：按工作族进行间隔调度

> ID：15920485
> 
> 赞同：0
> 
> 时间：2013-04-10T08:17:45.557
> 
> 标签：java, quartz-scheduler

我正在评估调度程序，我想知道石英是否具有以下功能。

问题：我的工作与工作家庭分开。

例如：

*   家庭A：工作A1，工作A2，......工作An
*   家庭B：工作B1，工作B2，......工作Bm
*   ETC

所以我想为每个家庭定义一个时间间隔，当我从特定家庭安排一个工作时，该工作将被安排与该家庭的最后一个工作安排的间隔。

我真的很想知道石英是否具有这种能力。

# asp.net-mvc - 在开发 Azure 之前，我必须考虑它的含义吗？

> ID：15920491
> 
> 赞同：1
> 
> 时间：2013-04-10T08:18:22.910
> 
> 标签：asp.net-mvc, wcf, azure, cloud

我的目的是开发由 WCF 服务驱动的 MVC 应用程序。

然后我想将这些部署到 Azure。

我是否可以在不考虑在生命周期早期托管在 Azure 中的情况下开发我的应用程序和服务？还是我必须以不同的方式构建它？

编辑：更具体地说-我是否可以像在决定将其托管在 Auzre 之前一样开发此应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:38:12.270

根据我的研究和理解，在进行任何开发之前考虑将您的未来实现部署为 azure 是一种更好的做法，但是即使您后来决定将现有应用程序迁移到 azure，您也可能需要对您的代码进行一些修改。

请记住，Microsoft 目前正在提供可以托管您的 ASP 应用程序的 azure 网站，您可能想了解更多相关信息。

这是一些可能对您有所帮助的链接。

[http://www.windowsazure.com/en-us/home/features/web-sites/](http://www.windowsazure.com/en-us/home/features/web-sites/) [http://www.windowsazure.com/en-us/manage/services/web-sites/](http://www.windowsazure.com/en-us/manage/services/web-sites/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:52:09.320

当我回答这个问题时，此页面上出现的广告是*“将应用程序移至云端而不重写它们”*。

*   Microsoft（为广告付费）的官方立场是，您可以在开发周期的后期迁移到 Azure。
*   现实是：
    *   如果您不专门为云进行架构设计，您将失去大量计算的好处。这适用于任何云平台，而不仅仅是 Azure。
    *   如果您为普通 Windows 开发然后尝试将其移至 Azure，则可能存在一些隐藏的“陷阱”会让您感到困惑。就在今天早上，我有一位开发人员对 SQL Azure 上没有出现在他的开发机器上的错误感到沮丧。SQL Azure 的方法不同于标准 SQL（功能差异、限制等）。

有两个“取决于”是相关的：

1.  您打算使用云服务或 Azure 网站吗？Azure 网站更容易迁移，因为它们更接近于传统的 Web 开发方法。
2.  具有大量移动部件或承受高负载的应用程序需要特别考虑（无论目标平台如何），因此您需要针对 Azure 特性进行优化并利用这些特性。

如果您有充分的理由**不**专门为 Azure 开发（例如您的雇主的官方职位、平台可移植性等），那么现在不要担心 Azure。如果您的长期意图是在 Windows Azure 上运行您的应用程序，那么请预先为 Azure 编写代码——将其从 Azure 中移除（锁定）的努力将成为您稍后决定的一部分。

# asp.net - 检查两个日期是否在同一个月

> ID：15920492
> 
> 赞同：0
> 
> 时间：2013-04-10T08:18:23.530
> 
> 标签：asp.net, validation

你如何检查这两个日期是否在同一年和同一年？我应该使用哪个验证控件来实现它？我正在考虑使用客户端验证（如果可能的话）

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:22:41.493

你可以使用一个[`CustomValidator`](http://msdn.microsoft.com/en-us/library/9eee01cx%28v=VS.100%29.aspx)

aspx：

```
<asp:CustomValidator runat="server"
    ID="valMonth" 
    onservervalidate="ServerValidation" 
    onclientvalidate="ClientValidate"
    ErrorMessage="From and To must be in the same month" /> 
```

服务器验证：

```
protected void ServerValidation (object source, ServerValidateEventArgs args)
{     
    DateTime dtFrom;
    DateTime dtTo;
    if(DateTime.TryParse(TxtFrom.Text, out dtFrom) && DateTime.TryParse(TxtTo.Text, out dtTo)) 
    {
       args.IsValid = dtFrom.Year == dtTo.Year && dtFrom.Month == dtTo.Month;
    }
    else
    {
        args.IsValid = false;
    }
} 
```

您还应该添加两个[`CompareValidators`](http://msdn.microsoft.com/en-us/library/db330ayw%28v=vs.100%29.aspx)检查两者是否都是有效日期。要提供一个`ClientValidationFunction`，您可以查看[`getMonth`](http://www.w3schools.com/jsref/jsref_getmonth.asp)和[`getFullYear`](http://www.w3schools.com/jsref/jsref_getfullyear.asp)功能。

例如（未测试）：

```
<script language="javascript">
   <!--
   function ClientValidate(source, arguments)
   {
      var txtFrom = document.getElementById('<%= TxtFrom.ClientID %>');
      var txtTo = document.getElementById('<%= txtTo.ClientID %>');
      var dtFrom = new Date(txtFrom.value);  
      var dtTo = new Date(txtTo.value);  
      var monthFrom = dtFrom.getMonth();
      var monthTo = dtTo.getMonth();
      var yearFrom = dtFrom.getFullYear();
      var yearTo = dtTo.getFullYear();

      arguments.IsValid = yearFrom == yearTo && monthFrom == monthTo;
   }
   // -->
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:27:24.823

假设日期采用“dd/MM/yyyy”格式，您可以将此 javascript 函数与自定义验证器一起使用。

aspx

```
<asp:CustomValidator ID="CustomValidator1" runat="server" 
    EnableClientScript="true"
    ErrorMessage="ERROR MESSAGE HERE"
    ClientValidationFunction="checkDate">
</asp:CustomValidator> 
```

javascript

```
function checkDate() {
   var date1=document.getElementById('<%=txtDate1.ClientID%>').value;
   var date2=document.getElementById('<%=txtDate1.ClientID%>').value;
   var date1Values=date1.split("/");
   var date2Values=date2.split("/");
   if (date1Values[2] == date2Values[2] && date1Values[1] ==date2Values[1]) {
     args.IsValid = true;
   }
   else
   {
     args.IsValid = false;
   }
} 
```

如果禁用了 javascript，您也应该有服务器验证代码。见蒂姆的回答。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:33:47.633

[这是一个使用CustomValidator](http://msdn.microsoft.com/en-us/library/9eee01cx%28v=vs.100%29.aspx)控件的简短示例

```
 Date 1<asp:TextBox ID="txtDate1" runat="server" />
    <br />
    Date 2<asp:TextBox ID="txtDate2" runat="server" />
    <br />
    <asp:Button ID="btnCompare" runat="server" Text="Compare" />
    <asp:CustomValidator ID="dateValidator" runat="server" ErrorMessage="The two dates must be in the same month and year"
        OnServerValidate="ValidateDate" />
    <script runat="server">
        protected void ValidateDate(object source, ServerValidateEventArgs args)
        {
            DateTime date1 = DateTime.Parse(txtDate1.Text);
            DateTime date2 = DateTime.Parse(txtDate2.Text);

            if (date1.Month != date2.Month || date1.Year != date2.Year)
                args.IsValid = false;
        }
    </script> 
```

# java - 元素节点和文本节点的区别

> ID：15920496
> 
> 赞同：6
> 
> 时间：2013-04-10T08:18:44.427
> 
> 标签：java, xml, dom, xml-parsing

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE people SYSTEM "validator.dtd">

<people>
    <student>
        <name>John</name>
        <course>Computer Technology</course>
        <semester>6</semester>
        <scheme>E</scheme>
    </student>

    <student>
        <name>Foo</name>
        <course>Industrial Electronics</course>
        <semester>6</semester>
        <scheme>E</scheme>
    </student>
</people> 
```

在简单的 XML 语言`<open-tag> data </open-tag>`中是一个元素。
根据我上面的 XML，`<student> ... </student>`是一个元素，其他标签也是。

在 DOM 解析中，有一个`Element`节点和一个`Text`节点。参考我正在使用的书，`<student>`是一个`Element`节点和`<name>`，`<course>`其他嵌套标签是`Text`节点。

那么，如果我正确理解 DOM，那么所有外部标签都是`Elements`并且包含实际数据的标签是`Text`节点？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-10T08:48:35.720

此 xml`<people><student><name></name></student></people>`没有文本节点。

此 xml`<people><student><name>John</name></student></people>`有一个文本节点`John`

这个xml

```
<people>
    <student>
        <name>John</name>
    </student>
</people> 
```

有5个文本节点，文本节点1是空格和之间的`<people>`CRLF`<student>`等等

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-10T08:21:57.730

XML 中存在的所有 XML 元素都是一个元素节点。XML 元素中的文本是文本节点。

# excel - 删除空行

> ID：15920498
> 
> 赞同：-2
> 
> 时间：2013-04-10T08:18:48.263
> 
> 标签：excel, vba

我有一个 Excel 宏，可以删除 Excel 工作表中的所有空行。此宏需要很长时间才能完成。这些文件是自动生成的，每个文件都需要运行这个宏。宏在检查其值后一次删除一行。

我需要这样的东西：

```
If  rowValue = "" then
    deleteThisRow And deleteAll Subsequent rows at once
End If 
```

这是我现在使用的代码：

```
Sub RemoveRows()
    Range("A8").Select 
    Dim checkval 
    Dim RowAmount
    RowAmount = 93

    Do
        checkval = ActiveCell.Value
        If (checkval = "") Then
            ActiveCell.EntireRow.Delete
        Else
            ActiveCell.Offset(1, 0).Select
        End If
        RowAmount = RowAmount - 1
    Loop While RowAmount > 0
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:05:53.653

您在一次操作中删除所有必要行的想法很成功。此外，避免`Select`和避免在一系列单元格上循环也会加快速度。

这是一种适合您的方法

```
Sub Demo()
    Dim sh As Worksheet
    Dim rng As Range
    Dim rngBlanks As Range

    ' Get a reference to the sheet you want to process
    Set sh = ActiveSheet

    ' Get a reference to the range of cells to test
    With sh
        Set rng = .Range(.Cells(8, 1), .Cells(.Rows.Count, 1).End(xlUp))
    End With

    ' if there are no blanks SpecialCells will error, so handle it
    On Error Resume Next
    ' Reduce rng to reference only blank cells
    Set rngBlanks = rng.SpecialCells(xlCellTypeBlanks)
    On Error GoTo 0

    ' see if there are any blanks
    If Not rngBlanks Is Nothing Then
        ' delete all of them
        rngBlanks.EntireRow.Delete
    End If
End Sub 
```

* * *

根据提供的其他信息进行更新：“空白”单元格可能包含返回空字符串的公式。

这是一种使用方法`AutoFilter`

```
Sub Demo()
    Dim sh As Worksheet
    Dim rng As Range
    Dim rngBlanks As Range

    Application.ScreenUpdating = False
    ' Get a reference to the sheet you want to process
    Set sh = ActiveSheet

    ' Get a reference to the range of cells to test, plus header row
    With sh
        Set rng = .Range(.Cells(7, 1), .Cells(.Rows.Count, 1).End(xlUp))
    End With

    ' Apply filr to hide non-empty cells
    sh.AutoFilterMode = False
    rng.AutoFilter Field:=1, Criteria1:="=", VisibleDropDown:=True

    ' if there are no blanks SpecialCells will error, so handle it
    On Error Resume Next
    ' Reduce rng to reference only blank cells, exclude header row
    Set rngBlanks = rng.Offset(1, 0).SpecialCells(xlCellTypeVisible)
    On Error GoTo 0

    ' see if there are any blanks
    If Not rngBlanks Is Nothing Then
        ' delete all of them
        rngBlanks.EntireRow.Delete
    End If

    sh.AutoFilterMode = False
    Application.ScreenUpdating = True
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:24:36.597

所以基本上，如果它遇到一个空白行，它应该删除该行及其下面的所有行。

要删除下面的所有行，您基本上可以执行按 CTRL 和向下箭头时发生的相同操作 - 它转到下一个值（如果有，在您的情况下听起来不会是）或到最后（第 65536 行是我遇到的所有 Excel 版本的限制）。这将是...

```
Range(Selection, Selection.End(xlDown)).Select
Selection.Delete Shift:=xlUp 
```

这将从您选择的行开始（因此无需删除它），一直到下一个值或末尾，然后删除所有这些行。

编辑 - 整个宏：

```
Dim i As Integer
For i = 1 To 93
    Range("A" & i).Select
    Dim CheckVal As String
    CheckVal = ActiveCell.Value
    If (CheckVal = "") Then
        Range(Selection, Selection.End(xlDown)).Select
        Selection.Delete Shift:=xlUp
    End If
Next i 
```

但请记住，如果在找到的第一个“空白”下方有任何值，它们也会作为第一个连续值被删除。

# html - 将菜单下拉菜单向左移动

> ID：15920499
> 
> 赞同：2
> 
> 时间：2013-04-10T08:18:48.673
> 
> 标签：html, css

我有带有下拉导航（子菜单）的顶部菜单，下拉菜单位于主菜单的右侧。

CSS：

```
ul.dropdown ul {
width: 220px;
visibility: hidden;
position: absolute;
top: 100%;
left: 0;
} 
```

如何将最后一个菜单的位置更改为左侧，因为如果我将鼠标悬停在最后一个菜单上，下拉菜单会带有水平滚动，因为右侧没有空间来显示菜单？

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:23:54.077

```
ul.dropdown li {
   position: relative;
}

ul.dropdown li ul {
   position: absolute;
   top: 20px; /* assign the correct value of the top line height */
   left: 0px;
} 
```

这应该起作用^^当分配`position:absolute;`给具有绝对定位的元素的子元素时，`position:relative`它是相对于其父元素而不是相对于主体的。

我的错，不知何故用“最后一个孩子”过度阅读了最后一部分。

这可以工作：

```
ul.dropdown li:last-of-type ul {
   position:absolute;
   left:0px;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:25:23.907

您可以使用 jquery 来解决问题，试试这个

```
$(function(){
    $(".dropdown:last").css("left","-120px");
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:34:22.210

您应该使用`last-child`选择器来设置`right`属性，而不是`left`：

```
.dropdown > li:last-child:hover ul {
    left: auto;
    right: 0;
} 
```

你不提供小提琴所以我设置了这个简单的例子来演示原理：http: [//jsfiddle.net/6eBd2/](http://jsfiddle.net/6eBd2/)

# liferay-6 - 为什么我的 cron 作业每 10 秒运行一次？

> ID：15920517
> 
> 赞同：0
> 
> 时间：2013-04-10T08:19:31.383
> 
> 标签：liferay-6

环境：Liferay 6.1

在我的 liferay-portlet.xml 我有这个 cron 工作：

```
<scheduler-entry>
         <scheduler-event-listener-class>com.shorex.b2b.web.billing.IndexJob</scheduler-event-listener-class>
         <trigger>
            <cron>
                <cron-trigger-value>0 0 6 1/1 * ? *</cron-trigger-value>
            </cron> 
        </trigger>
    </scheduler-entry> 
```

这个表达式“0 0 6 1/1 * ? *”表示每天6:00:00会有一个进程执行一次。

问题是这个过程从 6:00:00 开始每 10 秒执行一次。也就是说，在 6:00:00、6:00:10、6:00:20、6:00:30……

谁能告诉我为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:36:37.430

```
<cron-trigger-value>0 0 6 ? * *</cron-trigger-value> 
```

那是每天6点。

# python - Python 3维拟合

> ID：15920521
> 
> 赞同：1
> 
> 时间：2013-04-10T08:19:48.633
> 
> 标签：python, data-fitting

我有一组 3d 数据，想用 python 中的一些多项式 ansatz 来拟合它们。我只能找到二维解决方案，谁能提供一些 3d 解决方案？谢谢！

# magento - Magento 网站、商店和商店视图名称 - 可以更改吗？

> ID：15920522
> 
> 赞同：0
> 
> 时间：2013-04-10T08:19:52.163
> 
> 标签：magento, magento-1.7

在我们的 magento 商店中，我们有大约 8 个网站，对于某些网站，有 3 个商店视图。一些网站和商店视图名称没有意义，我想更改它们。

所以基本上我的问题是：

*   如果我更改现有网站的网站名称会怎样？
*   如果我更改现有商店的商店名称会怎样？
*   如果我更改现有商店视图的商店视图名称会怎样？

我不是在谈论代码。我知道它们在 vhost/htaccess 中使用，也许在其他地方使用，所以它们应该保持原样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T10:46:31.160

如果你的名字是指商店和网站的标签，那么什么都不会发生。它只是一个人类友好的字符串。它不用于在 Magento 核心中加载商店/网站。仅使用 id 和 code。但是，我不能保证您的自定义模块也遵守此规则。

# c - 第一次使用 C 未处理异常中的列表

> ID：15920524
> 
> 赞同：2
> 
> 时间：2013-04-10T08:19:54.170
> 
> 标签：c, list, exception, unhandled

我正在尝试编写一个简单的程序，从用户那里获取一个列表（一个列表是一个带有数据的结构，以及一个指向下一个列表的指针），然后打印它。我的代码工作正常，但打印后出现错误“练习 4.exe 中 0x011e1502 处的未处理异常：0xC0000005：访问冲突读取位置 0xcdcdcdcd。”

谁能告诉我为什么？这是我的代码：

```
#include <stdio.h>
#include <conio.h>
#include <stdlib.h>
typedef int list_data;
typedef struct list
{
    list_data number;
    struct list* next_list;
} list; //definition of a list
list* create_list()
{
    list* anchor;
    anchor=(list*)malloc(sizeof(list));
    anchor->next_list=NULL;
    return anchor; // allocates a memory for a list and returns address of first block
}
list* insert_list(list* current_position,list_data x)
{
    list* temp;
    temp=(list*)malloc(sizeof(list));
    temp->number=x;
    temp->next_list=current_position->next_list;
    current_position->next_list=temp;
    return temp; //inserts a new block with a data of x 
}
void printlist(list* anchor)
{
    list* current_list=anchor->next_list;
    while(current_list!=NULL)
    {
        printf("%3d -> ",current_list->number);
        current_list=current_list->next_list;
    }
    printf("End\n");
}
void scan_list(list* anchor)
{
    int num1=1;
    list* current_position=anchor;
    printf("Enter values until 0\n");
    while(num1!=0)
    {
        scanf("%d",&num1);
        if(num1)
            current_position=insert_list(current_position,num1);
    }
}
void main()
{
    list* anchor;
    anchor=create_list();
    scan_list(anchor);
    printf("\n");
    printlist(anchor);
    free(anchor);
    getch();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:27:32.447

您正在访问一个统一的内存区域，它由 value 表示`0xcdcdcdcd`。您不能简单地`free`通过删除第一个元素来创建列表，而是删除所有元素，遍历列表并释放每个节点，否则会造成内存泄漏

```
void free_list(list* anchor){
    list* temp = anchor->next_list;
    free(anchor);
    while(temp->next_list){
       list* l = temp->next_list;
       free(temp);
       temp = l->next_list;
    }
} 
```

此外，在添加节点时，将下一个元素显式设置为`NULL`，并且您的函数中有一个奇怪的交叉引用

```
list* insert_list(list* current_position,list_data x)
{
    list* temp;
    temp=(list*)malloc(sizeof(list));
    temp->number=x;
    //temp->next_list=current_position->next_list; -> doesn't make sense
    current_position->next_list=temp;
    temp->next_list = NULL; //set to NULL
    return temp; //inserts a new block with a data of x 
} 
```

我认为有四个您没有明确告知该`next`项目是`NULL`您正在迭代列表的实际末尾。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:24:24.963

您发布的代码运行良好。它正在从用户那里获取值并正确显示它。我已经使用 linux gcc 编译了代码并进行了一些修改以避免一些警告

# internet-explorer-10 - IE10 表单标签问题

> ID：15920525
> 
> 赞同：1
> 
> 时间：2013-04-10T08:19:54.887
> 
> 标签：internet-explorer-10

我在 html 中有 div

```
<div id="test"></div> 
```

如果我做

```
$('#test').html(' <form method="GET" action="whatever"> <input type="text"/> </form>') 
```

在 IE 10 中我会得到

```
<div id="test">
 <input type="text">           

</div> 
```

在 Firefox 或 IE 8 中我会得到

```
<div id="test">
<form action="whatever" method="GET">
 <input type="text">
</form> 
```

你能帮我用IE10吗？（jQuery 1.7.2）

在 div test 周围有另一个表单标签。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T13:17:53.890

您在问题的结尾表示您正在尝试将一种形式嵌套在另一种形式中。请查看有关表单元素内容模型[的规范：](http://www.w3.org/TR/html5-author/the-form-element.html#the-form-element)

```
4.10.3 The form element
  Content model:
      Flow content, but with no form element descendants. 
```

嵌套表单元素是无效的。这可能是 Internet Explorer 10 试图保护您免受可能无法在所有浏览器中正常工作的无效标记的原因。最新版本的 Google Chrome 似乎也删除了无效的子表单。

如果您需要从另一个表单内部提交一个表单，请改用按钮上的[`form`属性](http://www.w3.org/html/wg/drafts/html/master/single-page.html#attr-fae-form)。这将告诉他们他们要提交哪种形式，而不一定是他们当前的形式。

> 4.10.18.3 控件和表单
> 的关联 默认情况下，与表单相关的元素与其最近的祖先表单元素相关联（如下所述），但可能有一个指定的表单属性来覆盖它。
> 
> **注意：**此功能允许作者解决对嵌套表单元素的支持不足的问题。

所以你可以有以下内容：

```
<form id="one">
    <!-- This button submits #two -->
    <input type="submit" form="two">
</form>
<form id="two">
    <!-- This button submits #one -->
    <input type="submit" form="one">
</form> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:20:36.273

尝试使用`.html()`HTML 功能附加表单，然后使用`.append()`推送表单中的每个元素，所以你有类似的东西：

```
$('#test').html('<form method="GET" action="whatever"></form>');
$('form [action="whatever"]').append('<input type="text"/>'); // Note for selector will be better to use ID for the form 
```

# c# - 为每个数据项生成基于 Word 文档的 PDF

> ID：15920526
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:19:56.057
> 
> 标签：c#, asp.net, pdf, ms-word, pdf-generation

有一个包含数百个数据项的**数据列表（假设每个数据项是一个客户），以及一个预定义的word文档作为****模板**，要求是 - 对于每个数据项，将相应的数据填充到模板字段中，并生成一个只读的PDF文件结果。

首选平台是带有 C# 的 ASP.NET。

我找到了两个解决方案：

1.  将 word 文档转换为 PDF 表单，并使用 iTextSharp 填充表单域。但是创建具有正确格式（字体、布局等）的 PDF 表单是一项艰巨的工作，并且当系统用户想要添加新模板时需要特定的工具和新技能（除非 PDF 表单总是由开发人员创建）。

2.  在word文件中添加文本占位符，程序可以读取word文件，替换文本，转换成PDF。但我不确定应该使用哪些组件。

我想就这个问题得到一些建议。tks。

* * *

更新 20130416：

经过一番搜索和实验，我的结论如下：

1.  客户端解决方案：使用Microsoft.Office.Interop.Word（Office2007+plugin或Office2012）读取数据，转换为pdf等。但是这种方法运行在服务器端可能不安全。

2.  服务器解决方案：

    *   制作 PDF 表单，并使用 iTextSharp 填写表单字段。缺点上面已经说了。
    *   制作 HTML 模板，替换字段占位符，使用 iTextSharp+XMLWorker 将 HTML 转换为 PDF。难点在于手动创建HTML模板并优化PDF效果。
    *   MS SharePoint Office 自动化服务是基于 MS Office 的服务器解决方案，也许这种方法会更简单，但它需要许可证和 SharePoint 服务器成本。

最后，我为这个请求选择了 HTML 模板解决方案。QED。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:25:37.280

对于第二个选项，您可以使用支持[占位符替换](http://www.aspose.com/docs/display/slidesnet/Replacing+Text+on+a+PlaceHolder)和[生成 PDF的](http://www.aspose.com/docs/display/wordsnet/How+to++Convert+a+Document+to+PDF)[iTextsharp](http://sourceforge.net/projects/itextsharp/)或[Aspose](http://www.aspose.com/.net/pdf-component.aspx)，它支持基于 MSWord 和 Openoffice 模板创建文件，这对于不想购买 MSWord 仅创建模板的用户很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:30:47.543

另一种选择是使用 ASP.NET 的 Tx 文本控件。他们有个

[邮件合并功能](http://www.textcontrol.com/en_US/support/documentation/dotnet/n_aspnet_mailmerge.invoice_sample.htm) ，允许您将数据填充到 word 模板中。

合并后的文档可以很容易地保存为 pdf。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-06T08:28:12.140

另一种选择，您可以使用 nustache 模板，用列表数据填充它们，然后使用 ItextSharp 中的 xmlworker 渲染为 pdf。

# image - 是否有可能有一个从超链接图像中获取 URL 的 VBA 脚本？

> ID：15920527
> 
> 赞同：0
> 
> 时间：2013-04-10T08:19:59.567
> 
> 标签：image, url, vba

我有一个充满文本和图像超链接的工作簿，我有一些代码可以很好地处理文本 URL，但是，图像链接存在问题，因为它们不在页面流中能够拉出这些链接。我不知道 VBA 如何将这些视为对象，是否可以定位或循环通过它们来提取它们的 URL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T08:39:27.923

试试这种方式（我使用了你的代码并放了一些错误处理说明）：

```
Sub test()
    Dim WriteRow As Integer
    WriteRow = 1
    Dim imglink As Shape

'error handling
On Error Resume Next
For Each imglink In Sheets(1).Shapes
    'if any shape doesn't have hyperling we would skip it
    ActiveWorkbook.Sheets(3).Cells(WriteRow, 1).Value = imglink.Hyperlink.Address
    If Err.Number = 0 Then
        WriteRow = WriteRow + 1
    Else
        Err.Clear
    End If
Next
End Sub 
```

我希望您每次检查超链接的形状时都会出错。

# ember.js - 为 Ember Select 设置默认值

> ID：15920530
> 
> 赞同：0
> 
> 时间：2013-04-10T08:20:03.073
> 
> 标签：ember.js, handlebars.js, ember-data

This fiddle requires user to select option B , so it gives that message when other than B option is selected. 不过，我需要在选择下拉菜单中将**默认**选项设置为 B。

[http://jsfiddle.net/fortm/YpEMH/](http://jsfiddle.net/fortm/YpEMH/)

我试过这个，但似乎无法在 SearchController 中设置 selectedName ..

```
selectedName = this.get('model').objectAt('firstChild') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:37:49.483

您可以`selectedName`在路由的`setupController`挂钩中设置控制器属性：

```
setupController: function(controller, model) {
  controller.set('model', model);
  controller.set('selectedName', model.findProperty('firstName', 'B'));
} 
```

这样当路由被渲染时，选择将默认为“B”。

我更新[了小提琴](http://jsfiddle.net/teddyzeenny/YpEMH/1/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-04T15:49:48.097

Ember select 现在允许您根据控制器属性设置默认值。有关更多详细信息，请参见[http://emberjs.com/api/classes/Ember.Select.html](http://emberjs.com/api/classes/Ember.Select.html)，但这里是一个摘要：

```
App.TreesIndexController = Ember.ArrayController.extend({

  defaultTree: 'enzyme',
  treeTypes: ['enzyme', 'chembl']

});

{{view Ember.Select
       content=treeTypes
       prompt="Please select a target class"
       value=defaultTree}} 
```

在此示例中，选项 select 将默认为“酶”。

# search - Android 操作栏上的搜索位置

> ID：15920531
> 
> 赞同：0
> 
> 时间：2013-04-10T08:20:03.837
> 
> 标签：search, location, android-actionbar, google-maps-android-api-2, google-geocoding-api

我想询问有关使用操作栏查找位置的问题。我制作的程序如下图：

我做了一个类来寻找位置。但是在我调用 EditText 搜索时，类不起作用。

```
// An AsyncTask class for accessing the GeoCoding Web Service
private class GeocoderTask extends AsyncTask<String, Void, List<Address>>{

    @Override
    protected List<Address> doInBackground(String... locationName) {
        // Creating an instance of Geocoder class
        Geocoder geocoder = new Geocoder(getBaseContext());
        List<Address> addresses = null;

        try {
            // Getting a maximum of 3 Address that matches the input text
            addresses = geocoder.getFromLocationName(locationName[0], 3);
        } catch (IOException e) {
            e.printStackTrace();
        }
        return addresses;
    }
}

protected void onPostExecute(List<Address> addresses) {

    if(addresses==null || addresses.size()==0){
        Toast.makeText(getBaseContext(), "No Location found", Toast.LENGTH_SHORT).show();
    }

    // Clears all the existing markers on the map
    map.clear();

    // Adding Markers on Google Map for each matching address
    for(int i=0;i<addresses.size();i++){

        Address address = (Address) addresses.get(i);

        // Creating an instance of GeoPoint, to display in Google Map
        latLng = new LatLng(address.getLatitude(), address.getLongitude());

        String addressText = String.format("%s, %s",
        address.getMaxAddressLineIndex() > 0 ? address.getAddressLine(0) : "",
        address.getCountryName());

        markerOptions = new MarkerOptions();
        markerOptions.position(latLng);
        markerOptions.title(addressText);

        map.addMarker(markerOptions);

        // Locate the first location
        if(i==0)
            map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));
    }
} 
```

我不得不把班级叫到班级行动栏菜单。像这样：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.cost_direction, menu);

    /** Get the action view of the menu item whose id is search */
    View v = (View) menu.findItem(R.id.search).getActionView();

    /** Get the edit text from the action view */
    EditText txtSearch = ( EditText ) v.findViewById(R.id.txt_search);

    /** Setting an action listener */
    txtSearch.setOnEditorActionListener(new OnEditorActionListener() {

        @Override
        public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {

            // Getting user input location
            String location = v.getText().toString();

            if(location!=null && !location.equals("")){
                new GeocoderTask().execute(location);
            }

            Toast.makeText(getBaseContext(), "Search : " + v.getText(), Toast.LENGTH_SHORT).show();
            return false;
        }
    });
    return super.onCreateOptionsMenu(menu);
} 
```

请帮助那些知道我遇到的问题的人。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T16:56:09.193

```
String strPlace = etSearch.getText().toString();

        Geocoder gc = new Geocoder(getBaseContext(), Locale.getDefault());
        List<Address> adrs = null;
        try{
            adrs = gc.getFromLocationName(strPlace,5);
        }catch(IOException e){

        }finally{

            if (adrs != null){
                if(adrs.size() > 0)
                {

                     LatLng loc = new LatLng(adrs.get(0).getLatitude(), adrs.get(0).getLongitude());

                     map.moveCamera(CameraUpdateFactory.newLatLngZoom(loc, 15));

                    // Zoom in, animating the camera.
                    map.animateCamera(CameraUpdateFactory.zoomTo(13), 2000, null); 
} 
```

# python - 运行python子进程以grep列表中的多个项目并将输出附加到csv文件

> ID：15920536
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:20:17.280
> 
> 标签：python, for-loop, subprocess, output, export-to-csv

我有一个 python 子进程，它 greps 文件中的字符并将结果输出到 csv 文件。我想在我的子进程中对列表中的每个项目执行相同的 grep，然后将结果输出到 csv 文件，将结果附加到先前的结果中。我有以下代码：

```
list = ['ABCD', 'EFGH', 'IJKL', 'MNOP', 'QRST']

    with open('output.csv','w') as out:
          out.writelines(
                        for x in list:
                            cat = subprocess.Popen(['cat', 'LogFile_20130410.msg.log'],
                                    stdout=subprocess.PIPE,)
                            grep = subprocess.Popen(['grep', x],
                                    stdin=cat.stdout,
                                    stdout=subprocess.PIPE,)
                            awk = subprocess.Popen(['awk', '{print $14,$10,$5,$7}'],
                                    stdin=grep.stdout,
                                    stdout=subprocess.PIPE,)
                            sort = subprocess.Popen(['sort', '-t ', '-k4', '-n', '-r'],
                                    stdin=awk.stdout,
                                    stdout=subprocess.PIPE,)
                            head = subprocess.Popen(['head', '-10'],
                                    stdin=sort.stdout,
                                    stdout=open('output.csv', 'w'),)
                        ) 
```

我认为我的子进程正在运行，但我的输出文件只包含列表中的最后一项。我想我正在覆盖我的数据。这是我的问题还是我的 for 语句错误？如果我的 for 语句是正确的，我如何写入 output.csv 文件而不覆盖？还有一种方法可以将我的输出写入单独的列吗？

我的输出如下所示：

QRST 39h0gcro 确认 83ms

这些字段中的每一个都应位于单独的列中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:25:38.177

您的代码的实际问题是：

```
head = subprocess.Popen(['head', '-10'],
                        stdin=sort.stdout,
                        stdout=open('output.csv', 'w'),) 
```

您每次都通过循环执行此操作。因此，每次通过循环时，您都会再次`output.csv`以`'w'`模式打开，这会擦除那里的所有内容并用新的输出替换它。

最重要的是，您永远不会关闭文件。您可能会很幸运，垃圾收集器每次都会在下次打开文件之前自动关闭文件。但这并不保证会发生。如果没有，在开始下一个循环之前，您可能没有从一个循环将任何内容刷新到磁盘。

此外，您已经在`with`循环中始终打开同一个文件。而且您还试图`out.writelines(…)`围绕整个循环进行。这将引发 a `SyntaxError`，因为您不能将块语句用作函数参数……但是如果您将其替换为*确实*有效的内容，则仅意味着您有两个文件描述符争夺写入和刷新同一个文件.

您可以通过以下方式一次性解决所有这些问题：(a)`with`在循环外部仅打开一次文件，(b) 不尝试`out.writelines()`在循环周围调用，以及 (c)`out`作为`stdout`管道中的最后一个命令传递，而不是重新打开同一个文件。

或者，您*不能*在循环之外打开文件，每次通过循环时都以`a`或`r+`模式而不是`w`模式打开它，并确保在循环结束之前将其关闭。但这更复杂，没有明显的好处。

* * *

无论如何，这是一个奇怪的设计。除了无用的事实之外`cat`，如果您真的只想将一堆 POSIX 命令连接在一起，只需使用`sh`而不是`python`：

```
grep $x < LogFile_20130410.msg.log | 
    awk '{print $14,$10,$5,$7}' | 
    sort -t' ' -k4 -n -r |
    head -10  >> output.csv 
```

这要简单得多。

* * *

或者，如果你想用 Python 来做，为什么不使用 Python 而不是 POSIX 命令呢？

```
with open('LogFile_20130410.msg.log') as f:
    grepped = [line for line in f if line.startswith(x)]
columns = [row.split() for row in grepped]
columns4 = [(row[13], row[9], row[4], row[6]) for row in columns]
columns4.sort(key=lambda row: int(row[3]), reverse=True)
top10 = columns4[:10]
with open('output.csv', 'a') as outf:
    csv.writer(outf).writerows(top10) 
```

这并不相同，但大多数差异都无关紧要。例如，我已将代码简化为不使用正则表达式，因为根据您的示例数据，您显然不需要它。

但它仍然不适用于您的示例数据——出于同样的原因，您`awk`的基于 - 的代码不起作用，只是方式不同。

首先，`awk`视为`$14`“第 14 列，如果没有那么多则为空”，而 Python 则视为`row[13]`“第 14 列，如果没有那么多则引发异常”。鉴于您的输入数据只有 4 列，并且您要查找的列都不在前 5 列中，您`awk`的基于 - 的代码将打印出 10 行 4 个空列，而此 Python 代码将引发异常。如果你真的想要`awk`- 风格的行为：

```
def getcol(a, col):
    try:
        return a[col]
    except IndexError:
        return ''
columns4 = [(getcol(row, 13), getcol(row, 9), getcol(row, 4), getcol(row, 6)) for row in columns] 
```

或者，由于该行有点笨拙，请添加另一个函数：

```
def getcols(a, *cols):
    return [getcol(a, col) for col in cols]
columns4 = [getcols(row, 13, 9, 4, 6) for row in columns] 
```

然后，`sort -n`将空列处理为 0，但在 Python 中`int('')`是一个例外。因此，再次创建一个包装器：

```
def intify(x):
    try:
        return int(x)
    except ValueError:
        return 0 
```

…并使用它：

```
columns4.sort(key=lambda row: intify(row[3]), reverse=True) 
```

现在，Python 代码也将成功打印出 10 行空列。

# database - 使用实体管理器的 getSingleResult 检查数据库的空返回

> ID：15920540
> 
> 赞同：0
> 
> 时间：2013-04-10T08:20:23.723
> 
> 标签：database, jakarta-ee, entitymanager

我必须检索数据库条目。我知道我写的查询只返回一行。因此，我正在使用 getSingleResult。但是，当查询返回 null 时，我无法捕捉到它。我该如何解决这个问题？这是我的一段代码

```
 try {
            result = em.createQuery("SELECT d FROM fields d WHERE d.fieldID = :fieldID", Field.class)
                       .setParameter("fieldID", fieldID)
                       .getSingleResult();

//manual null check only seems to work. But it seems tedious to check every DB column for null value :(

       if((result.getValsText() == null)){
                result = new Field();
                result.setValText("empty");

            }
        } catch (NoResultException e) {
            result = new Field();
            result.setValText("empty");

        } 
```

请指教。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:30:15.073

对于非 Id 属性，您可以

*   `COUNT`在常规查询之前发送查询或更好
*   打电话`getResultList()`给你`Query`

`getResultList`如果没有找到结果，将返回一个空列表。要获得您的单一结果，请检查列表是否为空并调用`get(0)`它。

如果属性是`@Id`属性，调用`entityManager.find(MyEntity.class, id);`-如果没有找到结果，则`find`返回，如果找到，则返回实体的单个实例。`null`

编辑-出于性能和可读性的原因，最后一个选项更可取。使用不能使用最后一个选项的第二个选项（列表）。

# c - C 运行时错误（程序应该打印前 1000 个素数）

> ID：15920552
> 
> 赞同：0
> 
> 时间：2013-04-10T08:21:14.233
> 
> 标签：c, runtime

我在其他程序中使用过 isPrime() 函数，它运行良好，我什至以前也以同样的方式引用过它。出于某种原因，在这个程序中该功能不起作用。我使用 printf() 检查函数返回的内容，它似乎是内存位置。我不知道要更改什么，因为正如我所说，我确信该功能有效。

```
#include <stdio.h>

int main(void){

 int isPrime(int a);
 int result;
 int x = 1;
 while(x <= 1000){

     result = isPrime(x);
     if (result == 1){
        printf("%d\n",x);
    }
    x++;
 }
 }

 int isPrime(int a){

 int count;
 int z;
 if(a == 1){
   return 0;
 } else {

   for (z = a; z != 0; z-- ){
      if(a % z == 0){
         count++;
      }
   }
   if(count <= 2){
      return 1;
   } else {
     return 0;
   }
 }  
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:27:33.017

初始化`count`为 0。

除此之外，在我的系统上它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:22:54.420

移出`int isPrime(int a);`该`main()`功能，在其上方。或者放到单独的头文件中。有时间时查看[函数原型。](http://opencbp.sourceforge.net/en_US.ISO8859-1/books/opencbook/func.prototypes.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:35:59.973

该`count`变量在您的程序中是一个局部变量，因此就像所有局部变量一样，应该在使用前初始化，或者它使用堆栈中的剩余值，并且使用这种不可预测的随机值，您的程序行为是未定义的。

# eclipse - MOF 1.4 和 ECore 中的“参考”有什么区别？

> ID：15920553
> 
> 赞同：1
> 
> 时间：2013-04-10T08:21:14.430
> 
> 标签：eclipse, eclipse-emf, meta-object-facility

MOF 1.4 和 ECore 中的“参考”有什么区别？MOF也有“Associations”，如果我理解正确的话可以表达相同的意思。

# sublimetext2 - 无法在 Sublime Text 2 中创建片段

> ID：15920554
> 
> 赞同：0
> 
> 时间：2013-04-10T08:21:14.547
> 
> 标签：sublimetext2

我正在尝试在 Sublime Text 2 中创建一个 HTML 5 文档片段。代码在下面共享。我已将文件保存为 html5.sublime-snippet 在 Windows 上的 Sublime Text 2/Package/user 目录中，但是当我键入 html5 并按 tab 时没有任何反应。搜索片段时我也找不到它。代码链接[https://gist.github.com/hchouhan/5352597](https://gist.github.com/hchouhan/5352597)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:46:51.073

好的，想通了。范围应该是`<scope>text.html</scope>`而不是 source.html。

# wpf - 仅在控件中的半透明背景

> ID：15920555
> 
> 赞同：1
> 
> 时间：2013-04-10T08:21:17.423
> 
> 标签：wpf

我想知道是否可以制作一个具有半透明背景的新模板（例如按钮）？我可以设置`Background`属性，然后选择 my `Opacity`，但问题出在这里......当我设置背景的不透明度时，作为带有 set 的元素的内容添加的每个元素`Opacity`也将是透明的。如何避免？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:33:11.353

这个怎么样？这只是一个简单的版本。您必须自己添加触发器等。

```
<Style x:TargetType="Button">
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate x:TargetType="Button">
                <Border BorderBrush="{TemplateBinding BorderBrush}">
                    <Grid>
                        <ContentPresenter Content="{TemplateBinding Content}"/>
                        <Border Background="{TemplateBinding Background}"/>
                    </Grid>
                </Border>
            <ControlTemplate/>
        </Setter.Value>
    <Setter/>
</Style> 
```

现在您可以在不影响内容的情况下分配您想要的任何背景画笔。

# scala - Scala未使用的导入语句与IntelliJ中的播放框架

> ID：15920558
> 
> 赞同：5
> 
> 时间：2013-04-10T08:21:27.143
> 
> 标签：scala, intellij-idea, playframework-2.0

我正在尝试学习 scala 和播放框架。我选择 IntelliJ Idea 作为 ide。问题是编辑器对像这样的导入发出警告；“未使用的导入语句”

```
import play.api._
import play.api.mvc._ 
```

还对 declerations 发出警告，例如 ; “无法解析符号控制器”

```
object Login extends Controller 
```

如何删除警告？

我遵循的步骤；

使用 play 命令创建模板创意项目；

将 scala 编译器和库添加到外部库中。

IntelliJ Idea 版本：12.1 社区版

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T09:48:09.257

我就是这样做的（我使用的是 Play！2.1.0）：

```
C:\dev>play new community
       _            _
 _ __ | | __ _ _  _| |
| '_ \| |/ _' | || |_|
|  __/|_|\____|\__ (_)
|_|            |__/

play! 2.1.0 (using Java 1.7.0_15 and Scala 2.10.0), http://www.playframework.org

The new application will be created in C:\dev\community

What is the application name? [community]
>

Which template do you want to use for this new application?

1             - Create a simple Scala application
2             - Create a simple Java application

> 1
OK, application community is created.

Have fun!

C:\dev>cd community

C:\dev\community>play idea
[info] Loading project definition from C:\dev\community\project
[info] Set current project to community (in build file:/C:/dev/community/)
[info] Trying to create an Idea module community
[info] Updating {file:/C:/dev/community/}community...
[info] Done updating.
[info] Excluding folder target
[info] Created C:\dev\community/.idea/IdeaProject.iml
[info] Created C:\dev\community\.idea
[info] Excluding folder C:\dev\community\target\scala-2.10\cache
[info] Excluding folder C:\dev\community\target\resolution-cache
[info] Excluding folder C:\dev\community\target\streams
(commons-codec_commons-codec_1.6_test,List(commons-codec_commons-codec_1.3))
(org.apache.httpcomponents_httpcore_4.1.3_test,List(org.apache.httpcomponents_httpcore_4.0.1))
(org.apache.httpcomponents_httpclient_4.1.2_test,List(org.apache.httpcomponents_httpclient_4.0.1))
[info] Created C:\dev\community\.idea_modules/community.iml
[info] Created C:\dev\community\.idea_modules/community-build.iml

C:\dev\community>play compile
[info] Loading project definition from C:\dev\community\project
[info] Set current project to community (in build file:/C:/dev/community/)
[info] Compiling 5 Scala sources and 1 Java source to C:\dev\community\target\scala-2.10\classes... 
```

![在此处输入图像描述](https://i.stack.imgur.com/d40WN.png)

这`Unused import statement`是因为该包中没有使用任何类。通过优化导入可以安全地删除此行：`Ctrl`++ 。`Alt``o`

在这种情况下，我根本没有添加任何 scala 库。我刚刚从命令行编译。

# css - 100% 网站内容 - 内容和侧边栏

> ID：15920559
> 
> 赞同：0
> 
> 时间：2013-04-10T08:21:31.667
> 
> 标签：css

所以我有一个简单的网站。

其中一个有一个标题，然后是一个包含 div 内容和侧边栏的 site_content，然后是一个粘性页脚。

这是我的代码：

html:

```
 <!DOCTYPE HTML>
<html>

<head>
  <title>Turismo Murtoseiro</title>
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="style.css" title="style" />
</head>
<body>
<div class="wrapper">
  <div id="header">
  <div id="logo"></div>
  <div id="menubar">
  <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li class="selected"><a href="index.html">Home</a></li>
          <li><a href="ilustracao.html">Cafés</a></li>
          <li><a href="3d.html">Restaurantes</a></li>
          <li><a href="video.html">Hotéis</a></li>
          <li><a href="video.html">Pensões</a></li>
          <li><a href="contacto.html">Contacto</a></li>
          </ul>
          </div>
          </div>
  <div id="site_content">
    <div id="sidebar">
      <!-- insert your sidebar items here -->
      trujytkyukliyluilouiluiol </div>
    <div id="content">
      <!-- insert the page content here -->
      <h1>Pedro Fidalgo - freelancer</h1>
    <div>
        <p> O meu nome &eacute; Pedro Fidalgo, e estudo na &aacute;rea de Multim&eacute;dia, na escola Padre Ant&oacute;nio Morais da Fonseca, na Murtosa.</p>

    </div>
    </div>
  </div>
  <div class="push"></div>
  </div>
  <div id="footer" class="footer">
    Copyright &copy; Pedro Fidalgo 2011</div>
</body>
</html> 
```

CSS：

```
* {margin:0;
padding:0;
} 

html, body {height: 100%;
font: normal .80em 'trebuchet ms', arial, sans-serif;
}

p
{
    padding: 0 0 20px 0;
    line-height: 1.7em;
    color: #666;
}

.wrapper {
    min-height: 100%;
    height: auto !important;
    height: 100%;
    background: #F0EFE2;
    margin: 0 auto -30px; /* the bottom margin is the negative value of the footer's height */
}
.footer, .push {
    height: 30px; /* .push must be the same height as .footer */
    clear: both;
}

h1, h2, h3, h4, h5, h6 
{ font: normal 175% 'century gothic', arial, sans-serif;
  color: #43423F;
  margin: 0 0 15px 0;
  padding: 15px 0 5px 0;}

a, a:hover
{ outline: none;
  text-decoration: underline;
  color: #A4AA04;}

a:hover
{ text-decoration: none;}

.left
{ float: left;
  width: auto;
  margin-right: 10px;}

.right
{ float: right; 
  width: auto;
  margin-left: 10px;}

.center
{ display: block;
  text-align: center;
  margin: 20px auto;}

blockquote
{ margin: 20px 0; 
  padding: 10px 20px 0 20px;
  border: 1px solid #E5E5DB;
  background: #FFF;}

ul
{ padding: 2px 0 22px 17px;}

ul li
{ list-style-type: circle;
  padding: 0 0 4px 5px;}

ol
{ padding: 8px 0 22px 20px;}

ol li
{ padding: 0 0 11px 0;}

#logo, #menubar
{
    margin-left: auto;
    margin-right: auto;
}

#header
{
    height: 150px;
    background-color: #708B1A;
}

#logo
{
    width: 877px;
    position: relative;
    height: 100px;
    background-color: #003;
    background-image: url(images/logo.png);
    background-repeat: no-repeat;
}

#menubar
{ width: 877px;
  height: 50px;
  padding: 0;
  background: #29415D url(images/menu.png) repeat-x;} 

ul#menu, ul#menu li
{ float: left;
  margin: 0; 
  padding: 0;}

ul#menu li
{ list-style: none;}

ul#menu li a
{ letter-spacing: 0.1em;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  display: block; 
  float: left; 
  height: 24px;
  padding: 20px 26px 6px 26px;
  text-align: center;
  color: #FFF;
  text-transform: uppercase;
  text-decoration: none;
  background: transparent;} 

ul#menu li a:hover, ul#menu li.selected a, ul#menu li.selected a:hover
{ color: #FFF;
  background: #1C2C3E url(images/menu_select.png) repeat-x;}

#site_content
{ width: 837px;
  overflow: hidden;
  color #000;
  height: 100%;
  margin: 0 auto 0 auto;
  padding: 20px 24px 20px 37px;
  background: #FFF url(images/content.png) repeat-y;} 

 #content
{ text-align: left;
  width: 595px;
  min-height: 100%;
}

#sidebar
{
    float: right;
    width: 200px;
    padding-top: 0;
    padding-right: 15px;
    padding-bottom: 30px;
    padding-left: 15px; 
}

#footer
{ width: 878px;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  height: 30px;
  text-align: center; 
  margin: 0 auto 0 auto;
  background: #29425E url(images/footer.png) repeat-x;
  color: #FFF;
} 
```

而且我不能将我的 site_content（带有内容和侧边栏）设置为 100% .. 我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:29:52.003

删除所有指定的宽度，例如`width: 878px;`, `width: 837px;`, `width: 877px;`... ，您将使其呈现为`100%`宽度。

**[演示](http://jsfiddle.net/85PK2/)**

# c# - 选择先记录每组

> ID：15920560
> 
> 赞同：1
> 
> 时间：2013-04-10T08:21:39.207
> 
> 标签：c#, mysql, linq, entity-framework, group-by

我正在使用实体框架来连接到 MySQL。

我有一个实现颠覆技术的增量数据。每组颠覆记录都相同`LinkedId`，以 . 分隔`UpdatedTime`。

我的期望是从数据库中获取每条记录的最新版本。因此，我编写了如下的 linq 语句：

```
public List<Entry> LoadFinalEntries(int rptId) {
    return (from ent in ctx.Entries
           where ent.ReportId == rptId
           orderby ent.LinkedId, ent.UpdatedTime descending
           group ent by ent.LinkedId into svnEnt
           select svnEnt.FirstOrDefault()).ToList();
} 
```

但是在运行时，它会抛出一个`EntityCommandCompilationException`提示“**不支持指定的方法。** ”。我知道那个方法是`FirstOrDefault`，但无论如何都找不到修复它。

请帮我找出另一种方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T11:28:06.887

您如何看待使用内部查询？

```
 return (from ent in ctx.Entries
            where ent.ReportId == rptId &&
            ent.UpdatedTime ==
                (from inner in ctx.Entries
                where inner.LinkedId == ent.LinkedId &&
                inner.ReportId == rptId
                select inner.UpdatedTime).Max()
            select ent).ToList(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-12T04:20:28.103

[参考这篇文章](http://www.xaprb.com/blog/2006/12/07/how-to-select-the-firstleastmax-row-per-group-in-sql/)后我找到了更好的解决方案

```
public List<Entry> GetFinalEntries(int rptId) {
    // Get the latest updated time for each linked id
    var latestUpdatedTimes = from ent in ctx.Entries
                             where ent.ReportId == rptId
                             group ent by ent.LinkedId into svnEnt
                             select new { LinkedId = svnEnt.Key, UpdatedTime = svnEnt.Max(ent => ent.UpdatedTime) };

    // Compare (by joining) to get full entries
    var latestEntries = from ent in ctx.Entries
                        where ent.ReportId == rptId
                        join time in latestUpdatedTimes
                            on new { ent.LinkedId, ent.UpdatedTime } equals time
                        select ent;

    return latestEntries.ToList();
} 
```

现在它工作正常。

# matlab - 如何循环获得所需的输出？

> ID：15920563
> 
> 赞同：0
> 
> 时间：2013-04-10T08:21:49.520
> 
> 标签：matlab, matrix

大家好，我有一个矩阵输入程序，如下所示。但是，我无法循环空输入或复杂输入或 NaN 输入。我已经厌倦了各种方法，但仍然不起作用。真诚希望得到大家的建议，以解决这个问题。

```
clear;clc
m=2;
for i = 1:m
    for j = 1:m;

        element_A = ['Enter the element in row ' num2str(i) ', col ' num2str(j) ': '];
        A(i,j) = input(element_A);

        while  isnan(A(i,j)) || ~isreal(A(i,j)) || isempty(A(i,j))
            fprintf('Input not valid')
            element_A = ['Enter the element in row ' num2str(i) ', col ' num2str(j) ': '];
            A(i,j) = input(element_A);
        end        

    end
end

%% sample loop
m = str2double( input('??? : ', 's') );
while isnan(m) || ~isreal(m) || m<0
    m = str2double( input('Enter valid value : ', 's') );
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:51:38.487

在将它们分配到`A`. 你可以这样做：

```
m=2;
A = zeros(m); % You do not have to do this but it will increase the performance of your code.
for idx = 1:m
    for jdx = 1:m;
        element_A = ['Enter the element in row ' num2str(idx) ', col ' num2str(jdx) ': '];
        inputElement = input(element_A);
        while isempty(inputElement) || isnan(inputElement) || ~isreal(inputElement)
            fprintf('Invalid input');
            inputElement = input(element_A);

        end
        A(idx,jdx) = inputElement;
    end
end 
```

请注意，我将`isempty`检查移至第一位。`||`是一个短路运算符，不会检查下一个值是第一个元素给出的`true`。如果在之后检查它，比如说`isnan`，它会给出一个错误。

# android - 从歌曲下载 url 流式传输歌曲

> ID：15920564
> 
> 赞同：-2
> 
> 时间：2013-04-10T08:21:50.693
> 
> 标签：android, media-player, android-mediaplayer

我有一个直接开始下载歌曲的链接，但我想在我的应用程序中流式传输该歌曲而不下载。可能吗？请帮我解决。

链接是：[http://workintelligentonline.com/church/audio/1New Stories (Highway Blues).wma](http://workintelligentonline.com/church/audio/1New%20Stories%20%28Highway%20Blues%29.wma)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T08:06:01.993

为了让您的应用程序播放歌曲，`decoder`必须从内存中读取数据。因此，流数据必须存储到一个`buffer`或一个`page-cache`实现中，然后将其馈送到解码器。

一旦歌曲播放完成，`MediaPlayer`引擎就会关闭，这也会释放分配的内存。只要您的应用程序**不**将内存的内容写入文件，从技术上讲，您就无需下载即可播放流媒体歌曲。

# clojure - Why does pprint to a writer truncate the output?

> ID：15920565
> 
> 赞同：4
> 
> 时间：2013-04-10T08:21:54.637
> 
> 标签：clojure

The following snippter:

```
(binding [*out* (writer "foo.txt")]
  (pprint models)) 
```

Will truncate the output at exactly 208Kb. However the following:

```
(spit "foo.txt"
      (with-out-str
        (pprint models))) 
```

Works fine and doesn't truncate the output.

Why is this?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:39:07.193

Sound like a buffer flush issue, try this:

```
(binding [*out* (writer "foo.txt")]
  (pprint models)
  (flush)) 
```

`flush` will flush the output stream buffers.

# weblogic - 在 Weblogic、JMX 或其他选项中动态定位 DataSource

> ID：15920571
> 
> 赞同：1
> 
> 时间：2013-04-10T08:22:09.833
> 
> 标签：weblogic, datasource, jndi, jmx

正如我在标题中提到的；我们需要将数据源定位到他们在 weblogic 上的相关 wepapp。经过一番谷歌搜索，我可以找到处理之前定义的数据源并在服务器上部署 .war 应用程序。但我想匹配他们。我根据需要编辑了下面链接的教程。但最后也是重要的部分是将数据源与我的应用程序匹配。有没有其他方法或教程可以指点我？

[获取数据源属性](http://middlewaremagic.com/weblogic/?p=50)

[在路径上查找可用的 .war 文件并部署](http://middlewaremagic.com/weblogic/?p=483)

# visual-studio-2012 - 如何获取 Visual Studio 当前使用的颜色主题

> ID：15920572
> 
> 赞同：9
> 
> 时间：2013-04-10T08:22:09.880
> 
> 标签：visual-studio-2012, intellisense, visual-studio-extensions

我正在创建自己的 IntelliSense Presenter，因为 Visual Studio2012 支持更改主题，所以我希望在更改主题时可以自动更改演示者的背景颜色。有没有办法跟踪主题更改事件，或者获取 Visual Studio 的当前颜色主题？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-06-13T17:11:41.963

是的，这是可能的。我不得不用我的一个扩展解决一个类似的问题......当前主题存储在 Windows 注册表中；所以我实现了以下实用程序类。

```
public enum VsTheme
{
    Unknown = 0, 
    Light, 
    Dark, 
    Blue
}

public class ThemeUtil
{
    private static readonly IDictionary<string, VsTheme> Themes = new Dictionary<string, VsTheme>()
    {
        { "de3dbbcd-f642-433c-8353-8f1df4370aba", VsTheme.Light }, 
        { "1ded0138-47ce-435e-84ef-9ec1f439b749", VsTheme.Dark }, 
        { "a4d6a176-b948-4b29-8c66-53c97a1ed7d0", VsTheme.Blue }
    };

    public static VsTheme GetCurrentTheme()
    {
        string themeId = GetThemeId();
        if (string.IsNullOrWhiteSpace(themeId) == false)
        {
            VsTheme theme;
            if (Themes.TryGetValue(themeId, out theme))
            {
                return theme;
            }
        }

        return VsTheme.Unknown;
    }

    public static string GetThemeId()
    {
        const string CategoryName = "General";
        const string ThemePropertyName = "CurrentTheme";
        string keyName = string.Format(@"Software\Microsoft\VisualStudio\11.0\{0}", CategoryName);

        using (RegistryKey key = Registry.CurrentUser.OpenSubKey(keyName))
        {
            if (key != null)
            {
                return (string)key.GetValue(ThemePropertyName, string.Empty);
            }
        }

        return null;
    }
} 
```

好的; 这只是有助于弄清楚当前的设置......听主题更改通知有点棘手。在你的包被加载之后，你必须通过 DTE 获取一个 IVsShell 实例；一旦你有了这个对象，你就可以利用 AdviceBroadcastMessages 方法来订阅事件通知。您必须提供一个类型实现 IVsBroadcastMessageEvents 接口的对象...

我不想发布整个实现，但以下几行可能说明了关键场景......

```
class VsBroadcastMessageEvents : IVsBroadcastMessageEvent
{
    int IVsBroadcastMessageEvent.OnBroadcastMessage(uint msg, IntPtr wParam, IntPtr lParam)
    {
        const uint WM_SYSCOLORCHANGE = 0x15;
        if (msg == WM_SYSCOLORCHANGE) 
        {
            // obtain current theme from the Registry and update any UI...
        }
    }
} 
```

考虑在该类型上实现 IDisposable，以便能够在包被卸载时取消订阅事件源。

这就是我订阅事件通知的方式......

```
class ShellService
{
    private readonly IVsShell shell;
    private bool advised;

    public ShellService(IVsShell shellInstance)
    {
        this.shell = shellInstance;
    }

    public void AdviseBroadcastMessages(IVsBroadcastMessageEvents broadcastMessageEvents, out uint cookie)
    {
        cookie = 0;
        try
        {
            int r = this.shell.AdviseBroadcastMessages(broadcastMessageEvents, out cookie);
            this.advised = (r == VSConstants.S_OK);
        }
        catch (COMException) { }
        catch (InvalidComObjectException) { }
    }

    public void UnadviseBroadcastMessages(uint cookie)
    {
        ...
    }
} 
```

保留cookie参数的值；你需要它来成功退订。

希望有帮助（-：

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-12-08T17:15:07.650

只是想进行更新以防万一其他人出现.. @Matze 和@Frank 完全正确.. 但是在 VS 2015 中.. 他们添加了一种简单的方法来检测主题更改。所以你需要包含 PlatformUI 并且你会得到一个超级简单的事件

```
using Microsoft.VisualStudio.PlatformUI;
....
 //Then you get an event 
 VSColorTheme.ThemeChanged += VSColorTheme_ThemeChanged; 
```

您应该确保您的控件是一次性的，以便您可以取消订阅该事件...

奖金！

它还使您可以轻松访问颜色..即使用户已将它们从默认值更改..因此您可以在设置颜色时执行此类操作

```
var defaultBackground = VSColorTheme.GetThemedColor(EnvironmentColors.ToolWindowBackgroundColorKey);
var defaultForeground = VSColorTheme.GetThemedColor(EnvironmentColors.ToolWindowTextColorKey); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2015-10-06T14:27:11.197

对于 VS 2015，这已经改变，解决方案 @Matze 仍然有效，但您需要更新 GetThemeId() 函数以检查版本，如果它是 14.0 (VS2015)，请在注册表中的不同位置查找。值的存储方式也发生了变化，它仍然是一个字符串，但现在包含由“*”分隔的其他值。主题 guid 是列表中的最后一个值。

```
if (version == "14.0")
{
   string keyName = string.Format(@"Software\Microsoft\VisualStudio\{0}\ApplicationPrivateSettings\Microsoft\VisualStudio", version);

   using (RegistryKey key = Registry.CurrentUser.OpenSubKey(keyName))
   {
      if (key != null)
      {
          var keyText = (string)key.GetValue("ColorTheme", string.Empty);

              if (!string.IsNullOrEmpty(keyText))
              {
                  var keyTextValues = keyText.Split('*');
                  if (keyTextValues.Length > 2)
                  {
                       return keyTextValues[2];
                  }
              }
      }
   }

   return null;
} 
```

# excel - 如何使用VBA将html标签添加到excel中单元格的开头

> ID：15920574
> 
> 赞同：1
> 
> 时间：2013-04-10T08:22:22.310
> 
> 标签：excel, vba

我正在尝试在 excel 2011 的列中的一组单元格前面添加以下代码。

```
<div class="cpt_product_description "><div> 
```

我试过用这个：

```
Sub Add2Formula()

' Add text

For Each c In Selection

c.Activate

ActiveCell.FormulaR1C1 = "test - " & ActiveCell.Formula

Next c

End Sub 
```

--- 这工作并在单元格前面添加了“测试 - ” - 导致这些预期结果：

```
test - lknaslkndaslkdn 
```

当我尝试在 vba 代码中添加 div html 时 - （上面的代码示例中的“test -”）它给了我类似“unexpected:exception”之类的错误，并且它突出显示文本红色，就好像在vba 编辑器....我是否遗漏了一些允许像 < 和空格和 " 之类的字符的东西？

任何帮助将不胜感激。

最终结果应如下所示：

```
<div class="cpt_product_description "><div>lknaslkndaslkdn 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:10:44.727

使用您的文本作为`"<div class=""cpt_product_description ""><div>"`

例如

```
ActiveCell.FormulaR1C1 = "<div class=""cpt_product_description ""><div>" & ActiveCell.Formula 
```

**添加说明**

" 表示 vba 中字符串的开头或结尾。如果您需要字符串中的 "，vba 让您这样做的唯一方法是使用 2 eg""。

# c# - 插件执行失败，因为 Sandbox Client 在初始化过程中遇到错误

> ID：15920575
> 
> 赞同：6
> 
> 时间：2013-04-10T08:22:24.617
> 
> 标签：c#, plugins, dynamics-crm-2011

我的 Dynamics CRM 实例拒绝运行插件。不幸的是，我没有对环境的物理访问权限，我无法调试或调查。只能猜测并指示系统管理员尝试另一种方法。

我开始从 MS CRM SDK 编译示例插件并注册它。在服务器上，只能在`sandbox`模式下注册。我没有部署管理员权限。

插件在实体上的`Create`消息上注册`account`- 以 SDK 要求的方式。但以下运行时错误会阻止执行：

```
Unhandled Exception: System.ServiceModel.FaultException`1[[Microsoft.Xrm.Sdk.OrganizationServiceFault, Microsoft.Xrm.Sdk, Version=5.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35]]: The plug-in execution failed because the Sandbox Client encountered an error during initialization.Detail: 
<OrganizationServiceFault xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/xrm/2011/Contracts">
  <ErrorCode>-2147204748</ErrorCode>
  <ErrorDetails xmlns:d2p1="http://schemas.datacontract.org/2004/07/System.Collections.Generic" />
  <Message>The plug-in execution failed because the Sandbox Client encountered an error during initialization.</Message>
  <Timestamp>2013-04-10T07:53:37.9238143Z</Timestamp>
  <InnerFault i:nil="true" />
  <TraceText>

[SamplePlugins: Microsoft.Crm.Sdk.Samples.FollowupPlugin]
[0a47eeb7-b3a1-e211-8ab3-00155d008717: Microsoft.Crm.Sdk.Samples.FollowupPlugin: Create of account] 
```

*   我尝试了不同类型的插件，无论是自定义插件还是来自 Microsoft 的示例，都一样——它们在远程服务器上失败了。
*   我在本地开发服务器上尝试了相同的插件——它们都成功了。
*   我试图以最低权限在本地开发服务器上运行沙盒服务以在本地重现错误，但它没有出现。
*   我要求以最大权限在远程开发服务器上运行沙盒服务以远程解决问题，但徒劳无功。

你能给我一个线索，我下一步可以尝试什么来解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-17T11:05:09.427

我有一个类似的问题，我可以通过运行 CRM 的修复安装并重新配置每个服务设置为的服务帐户来解决。

# architecture - 使用服务总线实现时，您是否会将日志记录为单独的服务？

> ID：15920584
> 
> 赞同：0
> 
> 时间：2013-04-10T08:22:51.147
> 
> 标签：architecture, soa, nservicebus, servicebus

使用服务总线实现。当特定用户阅读电子邮件时，我们会引发电子邮件已被阅读的事件。我们有一个订阅者，当它被引发时，它会接收到这个事件。当电子邮件被读取时，我们想要执行一个操作，然后在数据库中记录电子邮件已被读取。

我的问题是：- 你会 a) 引发另一个事件，然后该事件将由日志服务订阅，该服务将侦听为此系统和其他系统引发的所有日志事件？b) 收听电子邮件的订阅者是否已阅读电子邮件已阅读的事件日志？c) 做其他事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T00:26:12.820

你是否遵循 DDD 原则，如果是这样，你为什么想要一个服务来记录？

如果该“日志记录”是业务需求的一部分，这意味着存储库中的状态更改，那么它需要成为在用户阅读电子邮件后引发事件的事务的一部分，而不是其他方式回合，但在我看来，从 DDD 的角度来看，拥有一个单独的服务来记录并不是最好的方法，如果你有一个中央服务来处理系统中的所有消息，那么拥有一个单独的服务有什么意义呢？首先是分布式系统？

“你会 a) 引发另一个事件，然后由日志服务订阅该事件，该服务将侦听为该系统和其他系统引发的所有日志事件？

我认为您不应该这样做，因为事件处理程序不应发布另一个事件，而应提交命令。

另一方面，为什么您不能在引发事件的服务中完成该日志？因为那是行动发生的地方。

马可

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T12:44:04.473

这完全取决于您是否希望将日志记录执行作为当前事务的一部分。随着系统容量的增长，您可能会发现优化将向另一个端点发送消息以完成日志记录。我不会在日志中使用 pub/sub，您应该能够使用简单的点对点通信。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-12T04:26:43.000

在订阅者上有一个审计队列怎么样？然后，您可以有一个单独的处理程序来从审核队列中提取消息并记录您感兴趣的事件（在这种情况下，电子邮件已被读取事件）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-12T04:32:34.717

如果我理解你，你说，

> 我们引发了电子邮件已被阅读的事件。我们有一个订阅者，当它被引发时，它会接收到这个事件。当电子邮件被读取时，我们想要执行一个操作，然后在数据库中记录电子邮件已被读取。

因此，您引发“电子邮件阅读”事件，订阅者将其拾取并执行操作。目前，执行该操作后，不会进行任何记录。

您可以让同一个订阅者在执行操作后执行日志记录，或者与操作并行执行日志记录，或者您可以让第二个订阅者监听“Email Read”事件并执行日志记录。

这取决于日志记录是否意味着相对于“操作”是事务性的，日志记录是否必须可靠，以及其他此类考虑。当然，还有可维护性、管理、审计等方面的正常考虑。

换句话说，“这取决于”。

# mysql - =1和='1'与枚举之间的mysql查询有什么区别？

> ID：15920587
> 
> 赞同：1
> 
> 时间：2013-04-10T08:22:58.797
> 
> 标签：mysql, phpmyadmin

我有一个像这样的查询

```
SELECT name, town FROM clients WHERE course = 1; 
```

它给了我一些结果。

但我注意到查询没有输出最新的条目。我用 phpmyadmin 查看了表客户端，我看到了更多值为 1 的课程字段。在我将查询更改为

```
SELECT name, town FROM clients WHERE course = '1'; 
```

我得到了正确的输出。

我的问题：为什么会这样？为什么我在第一个查询中得到了一些结果？

ps：当然是一个枚举字段（'0'，'1'）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:29:14.210

`1`是整数值，或“TRUE”，或 ...（不明确），`'1'`而是字符串值。

如ENUM 类型的[MySQL 文档中所述：](http://dev.mysql.com/doc/refman/5.0/en/enum.html)

> ENUM 是一个字符串对象，其值选自创建表时列规范中明确枚举的允许值列表。
> 
> [...]
> 
> 如果您希望将数字用作枚举值，则必须将其括在引号中。如果省略引号，则将数字视为索引。由于这个和其他原因（如本节后面所述），我们强烈建议您不要使用数字作为枚举值。

因此，ENUM 是一个字符串对象，因此您需要将其作为字符串引用。

# c# - 使用 LoadHTML 时未加载 CefSharp 资源

> ID：15920588
> 
> 赞同：2
> 
> 时间：2013-04-10T08:22:59.813
> 
> 标签：c#, html, chromium-embedded, cefsharp

我正在使用[CefSharp](https://github.com/chillitom/CefSharp)在`CefSharp browser`.

当我使用`web_view.Load(@"C:\htmlfile.htm");`它时，它会显示我的身体背景。

但是当我加载`htmlfile.htm`和使用`web_view.LoadHtml(File.ReadAllText(@"C:\in.htm"));`身体背景时不显示？

我想问我必须如何在html本地文件中设置地址正文背景？

**这是我的 Html 文件内容：**

```
<html>
<body background="C:\Untitled.png">
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-02-07T12:23:00.890

尝试这个：

```
web_view.LoadHtml(File.ReadAllText(@"C:\in.htm"), @"C:\in.htm"); 
```

第二个参数表示 URL，如果 URL 是本地资源，那么页面将能够加载本地资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-22T17:01:02.727

您可以这样做的另一种方法是使用 schemeHandler （它更清洁 IMO）。

*   向 CEF 注册计划 -

> CEF.RegisterScheme("ascheme", new HandlerFactory());

*   添加一个从磁盘加载 PNG 并返回相关响应的方案处理程序

*   然后更改您的 html 以引用该方案：

> 正文背景="myscheme://Untitled.png"

如果需要，我可以填写空白……但这应该足够了！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T22:47:01.810

您将必须实现`IRequestHandler.OnBeforeResourceLoad()`，拦截每个请求，并自己从磁盘读取字节并将它们作为响应提供给 chromium。

[https://github.com/chillitom/CefSharp/blob/master/CefSharp/IRequestHandler.h#L26](https://github.com/chillitom/CefSharp/blob/master/CefSharp/IRequestHandler.h#L26)

# android - 地图叠加层中的并发修改异常

> ID：15920590
> 
> 赞同：1
> 
> 时间：2013-04-10T08:23:05.373
> 
> 标签：android, exception, android-maps

```
Hi I have a map application where I need to show all the markers fetched from database onto map it is don on pressing a button. It shows perfectly for the pressing once but if i press the button twice then it gives ConcurrentModificationException. Any help would be appreciated. Here is my asynctask class for loading the markers onto map from database.

    class LoadMarkers extends AsyncTask<Void , Void , Void>
        {

            ProgressDialog progressDialog;

            @Override
            protected void onPreExecute() 
            {

                progressDialog = ProgressDialog.show(DemoAccidentReport.this , "Loading Markers" , "Please wait..." , true , false);
                Log.d("after progress dialog onPreExecute()------->" , "onPreExecute()");
                super.onPreExecute();
            }

            @Override
            protected Void doInBackground(Void... params)
            {

                Log.d("after progress dialog doInBackground()------->" , "doInBackground()");

                try
                {
                    db = openOrCreateDatabase("LocationFetch.db", MODE_PRIVATE , null);

                    cursor = db.rawQuery("SELECT * FROM user" , null);

                    drawableOne = getResources().getDrawable(R.drawable.location_blue);

                    final List<Overlay> mapOverlays = mapView.getOverlays();
                    //helloItemizedOverlay = new HelloItemizedOverlay(drawableOne , DemoAccidentReport.this);           
                    //helloItemizedOverlay = new HelloItemizedOverlay(drawableOne);

                    popUpitemizedOverlay = new MyPopupItemizedOverlay(drawableOne, mapView);
                    Log.d("after progress dialog doInBackground() One------->" , "doInBackground()");

                    //itemizedOverlay = new CustomItemizedOverlay<CustomOverlayItem>(drawableOne , mapView);

                    Log.d("after progress dialog doInBackground()Two------->" , "doInBackground()");

                    while(cursor.moveToNext())
                    {

                        int dataID = cursor.getColumnIndex("id");

                        String dataString = cursor.getString(0);
                        Log.d("ID DATA FROM DATABASE---->" , dataString);

                        String dataNAME = cursor.getString(1).toString().trim();
                        Log.d("NAME DATA FROM DATABASE---->", dataNAME);

                        String dataDESCRIPTION = cursor.getString(6);
                        Log.d("DESCRIPTION--------->" , dataDESCRIPTION);

                        String dataLAT = cursor.getString(2).toString().trim();
                        //Log.d("LAT DATA FROM DATABASE----->" , dataLAT);

                        double latitude = Double.parseDouble(dataLAT)*1000000;
                        Log.d("LATDOUBLE DATA FROM DATABASE----->" , latitude+"");

                        String dataLON = cursor.getString(3).toString().trim();
                        //Log.d("LONDOUBLE DATA FROM DATABASE----->" , dataLON);

                        double longitude = Double.parseDouble(dataLON)*1000000;
                        Log.d("LONDOUBLE DATA FROM DATABASE----->" , longitude+"");

                        //Image at column 4

                        //byte[] picture = cursor.getBlob(4);

                        ByteArrayInputStream inputStream = new ByteArrayInputStream(cursor.getBlob(4));

                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);

                        //showLatLon(latitude , longitude , dataNAME);
                        //ArrayList<OverlayItem> items = new ArrayList<OverlayItem>();
                        //OverlayItem[] markerItem = {new OverlayItem(new GeoPoint(latitude, longitude) , ""+dataNAME , ""+dataString)};
                        //OverlayItem markerItem = new OverlayItem(new GeoPoint((int)(latitude *1E6), (int)(longitude *1E6)) , ""+dataNAME , ""+dataString);\
                        //helloItemizedOverlay.addOverlay(overlayItem);
                        //mapView.getOverlays().add(helloItemizedOverlay);
                        //mapOverlays.add(helloItemizedOverlay);

                        /*CustomOverlayItem overlayItem = new CustomOverlayItem(new GeoPoint((int)(latitude *1E6), (int)(longitude *1E6)), ""+dataLAT , ""+dataLON , R.drawable.icon);
                        itemizedOverlay.addOverlay(overlayItem);
                        mapOverlays.add(itemizedOverlay);*/

                        //-------WORKING POPUP ONLY TITLE AND DESCRIPTION------//

                        OverlayItem overlayItem = new OverlayItem(new GeoPoint((int)latitude , (int)longitude) , ""+dataNAME , ""+dataDESCRIPTION /*null*/ );

                        popUpitemizedOverlay.addOverlay(overlayItem);

                        mapView.getOverlays().add(popUpitemizedOverlay);

                        mapOverlays.add(popUpitemizedOverlay);

                    }

                }catch(SQLException e)
                {
                    e.printStackTrace();                
                }finally
                {
                    cursor.close();
                }

                db.close();

                return null;
            }

            @Override
            protected void onPostExecute(Void result) 
            {
                progressDialog.dismiss();

                super.onPostExecute(result);
            }

        } 
```

这是 logcat 的异常，它向我抛出了 Concurrent ModificationException 异常，在按下两次按钮时，即使它没有显示第一个标记，也只显示第二个标记：

```
04-10 14:05:14.898: E/AndroidRuntime(8991): FATAL EXCEPTION: main
04-10 14:05:14.898: E/AndroidRuntime(8991): java.util.ConcurrentModificationException
04-10 14:05:14.898: E/AndroidRuntime(8991):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:576)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at com.google.android.maps.OverlayBundle.draw(OverlayBundle.java:41)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at com.google.android.maps.MapView.onDraw(MapView.java:530)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.View.draw(View.java:6880)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1646)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1644)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1644)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.View.draw(View.java:6986)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.widget.FrameLayout.draw(FrameLayout.java:357)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.widget.ScrollView.draw(ScrollView.java:1683)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1646)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.View.draw(View.java:6883)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.widget.FrameLayout.draw(FrameLayout.java:357)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1646)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.drawChild(ViewGroup.java:1644)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1373)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.View.draw(View.java:6883)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.widget.FrameLayout.draw(FrameLayout.java:357)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1940)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewRoot.draw(ViewRoot.java:1527)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewRoot.performTraversals(ViewRoot.java:1264)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1865)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.os.Looper.loop(Looper.java:130)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at android.app.ActivityThread.main(ActivityThread.java:3687)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at java.lang.reflect.Method.invokeNative(Native Method)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at java.lang.reflect.Method.invoke(Method.java:507)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)
04-10 14:05:14.898: E/AndroidRuntime(8991):     at dalvik.system.NativeStart.main(Native Method) 
```

# c++ - 如何返回一个int和一个字符串？

> ID：15920599
> 
> 赞同：0
> 
> 时间：2013-04-10T08:23:25.083
> 
> 标签：c++, map, vector

我创建了一个小高分系统，可以保存到文件中，然后根据请求读取/加载。

但是，我正在加载到字符串向量中，因此创建了一个字符串构建器来添加它们并按顺序显示。

但是，我意识到这是一种不好的做法，并且不确定如何获得我想要的结果，即拥有一个可以按分数（降序）顺序以及相应名称排序的数据结构。

理论上我想做的是`<vector<int, string> theScore`. 如果有人能指出我正确的方向，我将不胜感激。

这是我所拥有的：

```
vector<string> HighScore::loadScore()
{

ifstream loadFile("scorefile.txt");

string name;
int score;

vector<string> theScore;
string builder;

if (loadFile.is_open())
{
    while (!loadFile.eof())     
    {
        loadFile >> name >> score;

        builder = to_string(score) + "\t";
            builder = builder + name;   

            //Add all entries to vector List
                theScore.push_back(builder);                                
        }   

        //Sort all entries in score to descending order (Reverse)
        std::sort(theScore.rbegin(), theScore.rbegin() +theScore.size());   

    }

    return theScore;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:33:36.097

我不太清楚你想要做什么，但我希望你想定义一个包含必要信息的类，以及一个`operator>>`和`operator<<`它。所以你最终会得到类似的东西：

```
std::vector<Entry> data;
Entry entry;
while ( loadFile >> entry ) {
    data.push_back( entry );
} 
```

如果`Entry`是这样的：

```
struct Entry
{
    int score;
    std::string name;
}; 
```

那么你`operator>>`可能看起来像：

```
std::istream&
operator>>( std::istream& source, Entry& dest )
{
    Entry results;
    source >> results.score >> results.name;
    if ( source ) {
        dest = results;
    }
    return source;
} 
```

（或者您可能想要读取一行并解析它，以便在名称中允许空格。）

要进行排序，您可以定义简单的比较运算符：

```
struct ByScore
{
    bool operator()( Entry const& lhs, Entry const& rhs ) const
    {
        return lhs.score < rhs.score;
    }
}; 
```

并将实例传递给`std::sort`：

```
std::sort( data.begin(), data.end(), ByScore() ); 
```

（我可能会补充：`while ( !loadFile.eof() )`是不正确的，就像在`>>`没有首先验证它们是否成功的情况下使用结果一样。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:25:56.817

使用类或结构。在这种情况下，结构可能非常好：

```
struct Score
{
    int score;
    std::string name;
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:26:44.030

你可以这样做[`std::pair`](http://en.cppreference.com/w/cpp/utility/pair)：

```
std::vector<std::pair<int, std::string>> theScores; 
```

或者，您也可以使用[`std::tuple`](http://en.cppreference.com/w/cpp/utility/tuple)。

或者只是，你知道，使用通缉成员的结构。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:26:47.897

看看[http://en.cppreference.com/w/cpp/utility/pair](http://en.cppreference.com/w/cpp/utility/pair)

您需要包含*实用程序*头文件

如果您的数据结构变得更加复杂，您可能希望按照其他人的建议进行操作并创建您自己的数据结构。

**例子**

```
std::pair<std::string, std::string> foo;

foo = std::make_pair("foo", "bar");

// As a vector incorporating std::pair
std::vector< std::pair<std::string, std::string> > bar;

// Probably a good time to use typedef
typedef std::pair<std::string, std::string> foo_pair;

std::vector<foo_pair> qux; 
```

您可以简单地将这对用作 std::vector 中的参数

作为示例，您必须根据需要将模板参数更改为 int 和 string

**其他**

您可以使用 std::tuple 但您需要确保您的编译器支持 C++11

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-10T08:27:22.717

您要查找的内容称为[`std::pair<>`](http://www.sgi.com/tech/stl/pair.html).

您的向量将是类型`std::vector< std::pair<int, std::string> >`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-10T08:33:20.053

我把我的 5 美分放在 上`std::vector<std::tuple<int, std::string> >`，如果你愿意，你可以在元组中放置其他类型。用于`std::make_tuple()`创建元组。

# c++ - 有没有办法在 Mac OSX 上的 C/C++ 应用程序中获取鼠标光标图标？

> ID：15920608
> 
> 赞同：1
> 
> 时间：2013-04-10T08:24:02.427
> 
> 标签：c++, macos, cursor, icons, mouse

让我详细说明我要完成的工作：我有一个 C/C++（非 Objective-C）应用程序，它可以捕获屏幕（使用来自 Quartz 显示服务的方法，例如 CGImageRef 和 CGWindowListCreateImage）。

但是，这些方法也不能捕获鼠标光标图标，所以请告诉我是否有任何方法可以仅使用 C/C++（而不是 Objective-C 或 Cocoa）来捕获它？

谢谢，

米尼亚

PS我知道有一个类似的帖子（[不显示鼠标光标](https://stackoverflow.com/questions/8008630/not-displaying-mouse-cursor)），但该线程上唯一有效的答案使用的是Objective-C代码，我不能在我的应用程序中使用它。

# windows-7 - 如何将多个文件拆分到一个gb文件夹中？

> ID：15920610
> 
> 赞同：0
> 
> 时间：2013-04-10T08:24:17.010
> 
> 标签：windows-7, split

我正在下载许多文件夹，然后将它们拆分为 Windows 操作系统中的 1 Gb 文件夹。目前，这是一个手动过程。是否有任何 Windows 命令/程序将所有文件拆分为 1Gb 文件夹？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:26:00.757

你有命令[`split`](http://unixhelp.ed.ac.uk/CGI/man-cgi?split)

```
split -b1G your_filename part 
```

# objective-c - 将 CFNumberRef 转换为 NSInteger

> ID：15920616
> 
> 赞同：1
> 
> 时间：2013-04-10T08:24:41.217
> 
> 标签：objective-c, nsinteger, cfnumberref

```
#import "someClass.h"

@implementation someClass

- (NSInteger *)checkWakeOnLan {
    SCDynamicStoreRef ds = SCDynamicStoreCreate(kCFAllocatorDefault, CFSTR("myapp"), NULL, NULL);
    CFDictionaryRef dr = SCDynamicStoreCopyValue(ds, CFSTR("State:/IOKit/PowerManagement/CurrentSettings"));
    CFNumberRef wol=CFDictionaryGetValue(dr, CFSTR("Wake On LAN"));
    CFRelease(dr);
    CFRelease(ds); 
```

这是我的问题，如何将 CFNumberRef 转换为 NSInteger，我一次又一次地尝试，但随时得到“从指针生成整数而不进行强制转换”

```
 NSInteger *value = [... ?];
    return value;
}

- (IBAction)doStuff:(NSButton *)sender {
    [myBevelButton setState:[self checkWakeOnLan]]; //setState takes NSInteger
    //myBevelButton defined elsewhere, shows different icons 
}

@end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:27:13.537

用这个：

//假设你想将 wol 转换为 NSNumber，然后再转换为 NSInteger

```
NSNumber *nsnumber = (NSNumber*)wol;
NSInteger value = [nsnumber integerValue]; 
```

**注意：*你很少需要 NSInteger 指针。在您的情况下，您可以很容易地使用 NSInteger。您还需要将方法更改为`- (NSInteger)checkWakeOnLan`

# android - Android - 如何摆脱ActionBar上方的栏

> ID：15920621
> 
> 赞同：3
> 
> 时间：2013-04-10T08:25:12.300
> 
> 标签：android, android-actionbar

编辑：下面的 Android-Developers 回答很好地解释了解决方案

我的问题是还有另一个栏，不确定它的名字是什么 - TitleBar？（带有菜单按钮和白色方形徽标的栏）在我的 ActionBar 上方。我理想中想要的是将我的 ActionBar 与该栏合并，或者如果不可能，在带有图标和菜单按钮的选项卡中完全实现我自己的栏。我已经尝试了几件事（见下图），我如何添加选项卡的粗略代码也如下所示。

![在 ActionBar 上方显示不需要的标准栏](https://i.stack.imgur.com/LwNJT.png)

将选项卡添加到 ActionBar 代码：

```
 actionBar = getActionBar();  // Get reference to ActionBar

    // Add some navigation tabs...

    // 1\. Enable ActionBar navigation tabs
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    actionBar.setDisplayShowTitleEnabled(false);

    // 2\. Add the tabs
    Tab programTab = actionBar.newTab();
    Tab settingsTab = actionBar.newTab();
    Tab historyTab = actionBar.newTab();

    programTab.setText("Program")
      .setTabListener(new TabListener<Fragment_Program>(
              this, "Program", Fragment_Program.class));

    settingsTab.setText("Settings")
             .setTabListener(new TabListener<Fragment_Settings>(
                      this, "Settings", Fragment_Settings.class));

    historyTab.setText("History")
    .setTabListener(new TabListener<Fragment_History>(
              this, "History", Fragment_History.class));

    actionBar.addTab(programTab);
    actionBar.addTab(settingsTab);
    actionBar.addTab(historyTab); 
```

我的印象是 getActionBar() 引用了屏幕截图中位于我的 ActionBar 上方的现有栏。这将是理想的。

当前的应用程序主题是`android:theme="@android:style/Theme.Holo.Light.DarkActionBar"`

无论如何，我尝试了以下方法：

*   各种清单更改，包括各种 .NoTitleBar 组合
*   `requestWindowFeature(Window.FEATURE_NO_TITLE);`之后`super.onCreate()`和之前`setContentView()`

我使用标准 ActionBar 的原因是这适用于将运行至少 4.0 且版本极不可能更改的硬件设备。

有什么想法吗？

干杯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:36:07.740

据我所知，您想删除该视图对吗？

![在此处输入图像描述](https://i.stack.imgur.com/FIIX1.png)

问题在于它是您的 ActionBar。我猜你想使用选项卡，但没有像许多正在这样做的应用程序那样的 ActionBar。为了实现这个用途：

```
bar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
bar.setDisplayShowTitleEnabled(false);
bar.setDisplayShowHomeEnabled(false); 
```

但是不要忘记一些事情，如果你想实现这一点，你不应该在你的 Fragment / Activity 中膨胀任何菜单：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    //getSupportMenuInflater().inflate(R.menu.menu_main, menu);
    return true;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:37:24.053

[你应该在这里](https://stackoverflow.com/questions/2591036/how-to-hide-the-title-bar-for-an-activity-in-xml-with-existing-custom-theme)看到@ColorWP 的答案

> 窗口标志已经设置在 super.onCreate(savedInstanceState); 在这种情况下，您可能需要使用以下命令顺序：

```
this.requestWindowFeature(Window.FEATURE_NO_TITLE);
this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);      

super.onCreate(savedInstanceState); 
```

# xslt - XSLT 按属性查询节点

> ID：15920624
> 
> 赞同：0
> 
> 时间：2013-04-10T08:25:27.897
> 
> 标签：xslt, xml-parsing, xslt-1.0

我需要查询一个大的 XML 文件以提取子 XML 树，其中仅包含所需的节点，其属性等于给定参数。

这是我的源文件

```
 <a:level1 xmlns:a="some:a" xmlns:b="some:b"
                      xmlns:c="some:c" xmlns:d="some:d">
                <a:level2>
                    <b:level3>
                        <b:date a:value="TODAY">
                            <c:level4>
                                <d:level5>
                                    <d:level6 a:value="AAA">
                                        <d:level7 a:value="AAA_AAA">
                                            <d:level8 a:value="XXX/123">
                                                <d:leaf a:value="150415">
                                                    <b:leaf1>100</b:leaf1>
                                                    <b:leaf2>100</b:leaf2>
                                                </d:leaf>
                                                <d:leaf a:value="200814">
                                                    <b:leaf1>1961</b:leaf1>
                                                    <b:leaf2>1961</b:leaf2>
                                                </d:leaf>
                                            </d:level8>
                                        </d:level7>
                                    </d:level6>
                                    <d:level6 a:value="BBB">
                                        <d:level7 a:value="BBB_BBB">
                                            <d:level8 a:value="XXX/123">
                                                <d:leaf a:value="1505">
                                                    <b:leaf1>0.42</b:leaf1>
                                                    <b:leaf2>0.42</b:leaf2>
                                                </d:leaf>
                                            </d:level8>
                                        </d:level7>
                                    </d:level6>
                                </d:level5>
                            </c:level4>
                        </b:date>
                    </b:level3>
                </a:level2>
            </a:level1> 
```

这是我的样式表：

```
 <?xml version="1.0" encoding="UTF-8"?>
        <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
            xmlns:xs="http://www.w3.org/2001/XMLSchema"
            xmlns:a="xmlCache">
            <xsl:param name="myparam" as="xs:string" required="no"/>
            <xsl:output method="xml" omit-xml-declaration="yes" indent="yes"/>
            <xsl:strip-space  elements="*"/>

            <xsl:template match="node()|@*" name="identity">
                <xsl:copy>
                    <xsl:apply-templates select="node()|@*"/>
                </xsl:copy>
            </xsl:template>

            <xsl:template match="@*">
                <xsl:message><xsl:value-of select="@a:value"/></xsl:message>
                <xsl:if test="@a:value=$myparam">
                    <xsl:call-template name="identity"/>
                </xsl:if>
            </xsl:template>
        </xsl:stylesheet> 
```

但它似乎不起作用。有人可以帮忙吗？

更新：很抱歉问题不清楚。我想提取整个子集 XML 树。例如，如果参数是 AAA，则输出将是：

```
 <a:level1 xmlns:a="some:a" xmlns:b="some:b"
                      xmlns:c="some:c" xmlns:d="some:d">
                <a:level2>
                    <b:level3>
                        <b:date a:value="TODAY">
                            <c:level4>
                                <d:level5>
                                    <d:level6 a:value="AAA">
                                        <d:level7 a:value="AAA_AAA">
                                            <d:level8 a:value="XXX/123">
                                                <d:leaf a:value="150415">
                                                    <b:leaf1>100</b:leaf1>
                                                    <b:leaf2>100</b:leaf2>
                                                </d:leaf>
                                                <d:leaf a:value="200814">
                                                    <b:leaf1>1961</b:leaf1>
                                                    <b:leaf2>1961</b:leaf2>
                                                </d:leaf>
                                            </d:level8>
                                        </d:level7>
                                    </d:level6>
                                </d:level5>
                            </c:level4>
                        </b:date>
                    </b:level3>
                </a:level2>
            </a:level1> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T10:19:15.097

更多通过猜测以下内容是您正在寻找的。

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:a="xmlCache">
    <xsl:param name="myparam"/>
    <xsl:output method="xml" omit-xml-declaration="yes" indent="yes"/>
    <xsl:strip-space  elements="*"/>

    <xsl:template match="node()|@*" mode ="copy" >
        <xsl:copy>
            <xsl:apply-templates select="node()|@*" mode="copy"/>
        </xsl:copy>
    </xsl:template>

<xsl:template match ="node()|@*">
    <xsl:choose>
        <xsl:when test="@*[name()='a:value']=$myparam">
            <xsl:copy>
                <xsl:apply-templates select="@*|*" mode="copy"/>
            </xsl:copy>
        </xsl:when>
        <xsl:when test="descendant::*/@*[name()='a:value']=$myparam">
            <xsl:copy>
                <xsl:apply-templates select="@*" mode="copy"/>
                <xsl:apply-templates select="*" />
            </xsl:copy>
        </xsl:when>
        <xsl:otherwise>
            <xsl:apply-templates />
        </xsl:otherwise>
    </xsl:choose>
</xsl:template>

</xsl:stylesheet> 
```

例如调用 whith xsltproc 和 param myparam

```
 xsltproc  --stringparam myparam BBB in.xsl in.xml 
```

它产生（希望的）预期的输出。

```
<a:level1 xmlns:a="some:a" xmlns:b="some:b" xmlns:c="some:c" xmlns:d="some:d">
  <a:level2>
    <b:level3>
      <b:date a:value="TODAY">
        <c:level4>
          <d:level5>
            <d:level6 a:value="BBB">
              <d:level7 a:value="BBB_BBB">
                <d:level8 a:value="XXX/123">
                  <d:leaf a:value="1505">
                    <b:leaf1>0.42</b:leaf1>
                    <b:leaf2>0.42</b:leaf2>
                  </d:leaf>
                </d:level8>
              </d:level7>
            </d:level6>
          </d:level5>
        </c:level4>
      </b:date>
    </b:level3>
  </a:level2>
</a:level1> 
```

# random - 自动更新 Google Chat 状态消息

> ID：15920626
> 
> 赞同：0
> 
> 时间：2013-04-10T08:25:33.593
> 
> 标签：random, chat, status

我需要经常更改我的 gmail 聊天状态消息，并将其设置为每 X 分钟 10 条预定义消息之一。我怎样才能做到这一点？应该有一个解决方案。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T04:10:08.047

有几种方法可以做到这一点。几年前我们这样做的时候，我们使用 python 和 xmpp 并修改了这里讨论的代码[http://sathyaphoenix.wordpress.com/2010/08/03/finding-invisible-friends-and-dynamically-更新你的状态在谷歌聊天使用 xmpp-scripts-linux-python-ubuntu/](http://sathyaphoenix.wordpress.com/2010/08/03/finding-invisible-friends-and-dynamically-updating-your-status-in-google-chat-using-xmpp-scripts-linux-python-ubuntu/)

这些天您可能要考虑的另一个链接是：[http ://bluegray.co.za/content/setting-google-talk-status-python-xmpp](http://bluegray.co.za/content/setting-google-talk-status-python-xmpp)

您需要做的就是使用 xmpp python 模块与 gmail xmpp 服务器建立经过身份验证的连接，并将您的自定义文本作为（显示、状态）节点对象发送。

# xcode - Xcode 外部构建工具配置中参数的目的是什么？

> ID：15920630
> 
> 赞同：1
> 
> 时间：2013-04-10T08:25:43.257
> 
> 标签：xcode, arguments, build-tools

默认情况下，使用`$(ACTION)`. 这个参数和字段有什么用？和前面的字段（构建工具的路径）有关系吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:35:43.573

`$(ACTION)`指的是[名为 的 Xcode 构建设置`ACTION`](https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW45)的值。典型用途是允许通过 调用`xcodebuild`，例如`xcodebuild install`，在从 Xcode 项目调用的外部构建工具中触发不同的操作。

# sql - 疑难解答 - 列名不明确 xyz

> ID：15920631
> 
> 赞同：0
> 
> 时间：2013-04-10T08:25:45.850
> 
> 标签：sql, sql-server, sql-server-2008

我运行以下查询，我得到了模棱两可的错误。为什么会这样？

```
select * 
from dbo.tableA as table1, dbo.tableZ as table2
where (columnB = dbo.tableZ.columnB) 
```

> 不明确的列名 columnB

tableA 还有一个名为 columnB 的列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:27:09.523

两个表都有一个`columnB`，但你的条件的第一部分没有指定使用哪个表`columnB`。

将其更改为：

```
select * 
from dbo.tableA as table1, dbo.tableZ as table2
where (table1.columnB = table2.columnB) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:34:41.037

您需要为字段名称使用别名。在创建连接时使用别名引用您的字段是一个很好的规则，以便其他人可以更轻松地阅读 SQL...

例如

```
SELECT  t1.ColA ,
        t1.ColB ,
        t2.ColA
FROM    Table1 AS t1
        INNER JOIN Table2 AS t2 ON t1.Id = t2.FId 
```

代替...

```
SELECT  ColA ,
        ColB ,
        ColA
FROM    Table1 AS t1
        INNER JOIN Table2 AS t2 ON t1.Id = t2.FId 
```

我知道第二个 SQL 查询不会解析，但这只是一个示例。

# jquery - 使用 jquery 向 html 表添加行并使用 asp.net 将 html 表导出到 excel 文件

> ID：15920633
> 
> 赞同：0
> 
> 时间：2013-04-10T08:25:53.400
> 
> 标签：jquery, asp.net

我有一个 html 表哪个表，这个 html 表在页面加载时有 1 行，这里是 html 表代码：

```
<table class="datagrid" id="tablo1" runat="server" >
    <thead><tr>
        <th>name</th>
        <th>surname</th>
        <th >number</th>
           </tr>
    </thead>
    <tbody>
        <tr>
            <td>ebrar</td>
            <td>bayburt</td>
            <td>999</td>
        </tr>
    </tbody>
</table> 
```

我可以使用 jquery 在运行时动态添加行，我使用该代码将行添加到 html 表：

```
<script type="text/javascript">
        $(document).ready(function () {
          $('#ekle').click(function () {//tabloya veri ekleme
               $('#tablo1 > tbody:last')
               .append('<tr><td class="A">' +
               $('#name_').val()
               + '</td><td class="K">' +
               $('#surname_').val()
               + '</td><td class="A">' +
               $('#number_').val()
               + '</td></tr>');
            });
         });
    </script> 
```

我可以在 html 表中添加几行（行值来自文本框），并且可以在浏览器运行时在 html 表中看到添加的行。在我将我的 html 表导出到一个 excle 文件之后，我正在使用该 asp.net 代码：

```
protected void Button1_Click(object sender, EventArgs e)
        {
            Response.Clear();
            Response.AddHeader("content-disposition", "attachment;filename=myexcel.xls");
            Response.ContentType = "application/ms-excel";
            System.IO.StringWriter sw = new System.IO.StringWriter();
            System.Web.UI.HtmlTextWriter hw = new HtmlTextWriter(sw);
            tablo1.RenderControl(hw);
            Response.Write(sw.ToString());
            Response.End();
        } 
```

当我单击“ekle”按钮时，文件下载是一个 excel 文件。我正在打开该文件，我在 excel 文件中只看到一行是我在代码中手动添加的第一行，它是：

```
 <tbody>
            <tr>
                <td>ebrar</td>
                <td>bayburt</td>
                <td>999</td>
            </tr>
        </tbody> 
```

所以我在 excel 文件中看不到在浏览器中的表格上看到的带有 jquery 的添加行。我该怎么办

# iphone - 如何使用 url 获取文件大小？

> ID：15920637
> 
> 赞同：2
> 
> 时间：2013-04-10T08:26:00.990
> 
> 标签：iphone, ios

在我的 iPhone 应用程序中，我需要获取文件大小，但我只有它的 url。

如果我有文件路径，我可以得到这样的大小：

```
NSDictionary* attributeDict = [[NSFileManager defaultManager] attributesOfItemAtPath:resourcePath error:nil];
NSNumber* fileSizeObj = [attributeDict objectForKey:NSFileSize];
long long fileSizeVal = [fileSizeObj longLongValue]; 
```

如果我有 url，如何正确获取文件大小？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:56:54.160

`NSURLConnection`与请求一起使用`Head`，响应将具有[expectedContentLength](http://developer.apple.com/library/ios/#documentation/cocoa/reference/foundation/Classes/NSURLResponse_Class/Reference/Reference.html)：

要求

```
NSMutableURLRequest * req = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://cdn.sstatic.net/stackoverflow/img/apple-touch-icon.png"]];
[req setHTTPMethod:@"Head"];
NSURLConnection * con = [[NSURLConnection alloc] initWithRequest:req
                                                    delegate:self];
[con start];
[con release]; 
```

代表

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
{
    NSLog(@"didReceiveResponse (%lld)", response.expectedContentLength);
} 
```

请注意，它可能是负面的：

```
#define NSURLResponseUnknownLength ((long long)-1) 
```

对于`NSURLSession`，使用接受`NSURLRequest`对象作为参数的任务工厂方法，例如`- (NSURLSessionDataTask *)dataTaskWithRequest:(NSURLRequest *)request completionHandler:(void (^)(NSData *data, NSURLResponse *response, NSError *error))completionHandler:`

# c++ - 如何检查 A+B 是否超过 long long？（A和B都是长长的）

> ID：15920639
> 
> 赞同：22
> 
> 时间：2013-04-10T08:26:05.500
> 
> 标签：c++, long-long

我有两个数字：`A`和`B`。我需要`A+B`在我的代码中的某个地方进行计算。两者都是`A`，它们可以是**正面的或负面**的。`B``long long`

 **我的代码运行错误，我怀疑在计算`A+B`. 我只是想检查是否`A+B`超出`long long`范围。所以，任何方法都是可以接受的，因为我只用它来调试。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-04-10T08:31:57.107

只有当两个数字具有相同的符号时，才可能发生溢出。如果两者都是正数，那么如果在数学`A + B > LLONG_MAX`上或等价上，你就会溢出`B > LLONG_MAX - A`。由于右手边是非负的，后一个条件已经暗示`B > 0`。类似的论点表明，对于否定的情况，我们也不需要检查符号`B`（感谢[Ben Voigt](https://stackoverflow.com/users/103167/ben-voigt)指出符号检查`B`是不必要的）。然后你可以检查

```
if (A > 0) {
    return B > (LLONG_MAX - A);
}
if (A < 0) {
    return B < (LLONG_MIN - A);
}
return false; 
```

检测溢出。由于初始检查，这些计算不会溢出。

检查结果的符号`A + B`将与溢出整数计算的保证环绕语义一起工作。但是有符号整数的溢出是未定义的行为，即使在实现了回绕行为的 CPU 上，编译器也可能假设没有发生未定义的行为，并在实现时完全删除溢出检查。因此，对该问题的评论中建议的检查非常不可靠。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-10T08:35:28.557

类似于以下内容：

```
long long max = std::numeric_limits<long long>::max();
long long min = std::numeric_limits<long long>::min();

if(A < 0 && B < 0) 
    return B < min - A;
if(A > 0 && B > 0)
    return B > max - A;

return false; 
```

我们可以这样推理：

*   如果`A`和`B`是相反的符号，它们就不能溢出——大于零的一个需要大于`max`或小于零的一个需要小于`min`。

*   在其他情况下，简单的代数就足够了。`A + B > max => B > max - A`如果它们都是正面的，则会溢出。否则，如果它们都是负数，`A + B < min => B < min - A`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-10T08:48:25.470

此外，如果您仅将其用于调试，则可以使用以下“hack”直接从最后一个操作中读取溢出位（假设您的编译器/cpu 支持此）：

```
int flags;
_asm {
    pushf       // push flag register on the stack
    pop flags   // read the value from the stack
}
if (flags & 0x0800) // bit 11 - overflow
    ... 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T08:51:45.007

屏蔽符号，转换为无符号值，然后执行加法。如果它在上面，`1 << (sizeof(int) * 8 - 1)`那么你有一个溢出。

```
int x, y;
if (sign(x) == sign(y)){
    unsigned int ux = abs(x), uy = abs(y);    
    overflow = ux + uy >= (1 << (sizeof(int) * 8 - 1));
} 
```

更好的是，让我们编写一个模板：

```
template <typename T> 
bool overflow(signed T x, signed T y){
    unsigned T ux = x, uy = y;
    return ( sign(x) == sign(y) && (ux + uy >= (1 << (sizeof(T) * 8 - 1)));
} 
```**

# iphone - 关于IOS UIScrollView 滑动自动会弹回来

> ID：15920646
> 
> 赞同：0
> 
> 时间：2013-04-10T08:26:23.633
> 
> 标签：iphone, ios, uiscrollview

我的应用程序的 UIScrollView 滑动自动会反弹，我该怎么办？我不想！

我的代码如下：

```
- (void)initScrollView {
    // a page is the width of the scroll view 
        sv = [[UIScrollView alloc]initWithFrame:CGRectMake(0, 96, 320, 300)];
        sv.contentSize = CGSizeMake(sv.frame.size.width * 3, sv.frame.size.height* 2);
        sv.pagingEnabled = YES;
        sv.clipsToBounds = YES;
        sv.showsHorizontalScrollIndicator = NO;
        sv.showsVerticalScrollIndicator = YES;
        sv.scrollsToTop = NO;
        sv.directionalLockEnabled = YES;
        sv.delegate = self;
        [self.view addSubview:sv];

        currentPage = 0;
        pageControl.numberOfPages = 3;
        pageControl.currentPage = 0;
        pageControl.backgroundColor = [UIColor clearColor];
        [self createAllEmptyPagesForScrollView];
}
- (void)createAllEmptyPagesForScrollView {

    tapView1 = [[UIView alloc]init];
    tapView1.backgroundColor = [UIColor clearColor];
    tapView1.frame = CGRectMake(320*0, 0, 320, sv.frame.size.height);

    tapView2 = [[UIView alloc]init];
    tapView2.backgroundColor = [UIColor clearColor];
    tapView2.frame = CGRectMake(320*1, 0, 320, sv.frame.size.height);

    tapView3 = [[UIView alloc]init];
    tapView3.backgroundColor = [UIColor clearColor];
    tapView3.frame = CGRectMake(320*2, 0, 320, sv.frame.size.height);

    [sv addSubview:tapView1];
    [sv addSubview:tapView2];
    [sv addSubview:tapView3];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T13:57:14.893

我知道为什么我向上滑动会自动反弹，我的代码有问题！不是代码！谢谢大家！

# .net - .net string.reverse 长度值

> ID：15920647
> 
> 赞同：1
> 
> 时间：2013-04-10T08:26:24.067
> 
> 标签：.net

谁能告诉我为什么下面方法返回的字符串长度总是60？这是控制台应用程序中的 C# 方法。

```
static string Reverse(string stringToReverse)
{
    string s = stringToReverse.Reverse().ToString();
    return s;
} 
```

作为招聘过程的一部分，我们要求面试候选人编写一种反转字符串的方法。这是我们得到的一个答案。长度问题让我们感到疑惑。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:29:19.200

问题是该方法根本行不通。它使用 LINQ 将其`stringToReverse`视为`IEnumerable<char>`相反的...但是调用返回的 by`ToString`不会*做*这里想要的。不要看长度——看字符串本身！（当然，对此的单个单元测试将证明这一点。）`IEnumerable<char>``Reverse()`

 *对此的明显解决方法是：

```
return new string(stringToReverse.Reverse().ToArray()); 
```

...但是由于 Unicode 组合字符、代理对等，这实际上仍然不会做正确的事情。实际上*正确地*反转字符串会非常复杂......当然不是我希望在面试，但意识到这比你想象的要难，这将是一个好的开始。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:29:10.627

因为结果：

```
stringToReverse.Reverse().ToString() 
```

是：

```
"System.Linq.Enumerable+<ReverseIterator>d__a0`1[System.Char]" 
```

而不是字符串的反转内容。这是因为被方法`string`视为一个，调用此集合将为您提供集合的字符串表示形式，而不是其内容。`IEnumerable<char>``Reverse()``ToString()`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:30:38.217

你看过结果字符串吗？

> System.Linq.Enumerable+d__a0`1[System.Char]

您的候选人使用 LinQ Reverse 方法创建了一个枚举，但没有意识到无法通过调用 .ToString() 将 Enumerable 转换为字符串。

一种可能的方法是从 char 数组创建一个新字符串：

```
static string Reverse(string stringToReverse)
{
  return new string(stringToReverse.Reverse().ToArray());
} 
```*

# c# - 如何在连接查询中使用 group by 在一个表中我必须获取列的总和而在其他表中我只需要显示它们？

> ID：15920651
> 
> 赞同：1
> 
> 时间：2013-04-10T08:26:43.273
> 
> 标签：c#, asp.net, sql-server

```
string str = string.Format(@"select m.pcode, m.fyyear, m.salary, m.ta,
                           m.contigency, m.nrc, m.institcharges, m.others,
                           y.pcode as ypcode,y.fyyear as yfyear,y.yearlyalloc,
                           y.salary as sal1,y.ta as ta1,y.contigency as cont1,
                           y.nrc as nrc1,y.institcharges as inst1,
                           y.others as other1                                      
                           FROM monthly AS m inner join yearly y
                           on m.pcode=y.pcode 
                           where m.pcode=('" + DropDownList1.SelectedItem.ToString() 
                           + "' ) AND 
                             y.fyyear like('" + DropDownList2.SelectedItem.ToString()
                           + "')group by m.pcode,m.fyyear", con); 
SqlDataAdapter da = new SqlDataAdapter(str, con);
DataTable dtNew = new DataTable();
da.Fill(dtNew);
GridView1.DataSource = dtNew;
GridView1.DataBind(); 
```

在这段代码中，月表包含我想以这种方式显示的列：

```
select m.pcode, m.fyyear, sum(m.salary) as msal, sum(m.ta) as mta, 
sum(m.contigency) as m cont, sum(m.nr) as mnrc, sum(m.institcharges) as minstit, 
sum(m.others) as mothers  
FROM monthly AS m 
where m.pcode=('" + DropDownList1.SelectedItem.ToString() + "' )
and m.fyyear like('" + DropDownList2.SelectedItem.ToString() + "')
group by m.pcode,m.fyyear 
```

和年度表数据为：

```
"selecet y.pcode as ypcode,y.fyyear as yfyear,y.yearlyalloc,y.salary as sal1,
 y.ta as ta1,y.contigency as cont1,y.nrc as nrc1,y.institcharges as inst1,
 y.others as other1 
 FROM yearly AS y
 where y.pcode=('" + DropDownList1.SelectedItem.ToString() + "' )
 and y.fyyear like('" + DropDownList2.SelectedItem.ToString() + "') 
 group by y.pcode,y.fyyear 
```

我希望这些将这两个查询结合起来，我使用 join 编写的上述复合查询正在工作，但它不允许我使用 sum 和 group by 函数。请帮忙

# asp.net - 隐藏rdlc中的重复列

> ID：15920653
> 
> 赞同：1
> 
> 时间：2013-04-10T08:26:47.177
> 
> 标签：asp.net, visual-studio-2010, report, rdlc

我有一个副本，我想在 Visual Studio 2010 rdlc 报告中进行分组。我是分组新手，所以我不明白我需要做什么。

数据格式如下

```
ServiceName   Date   Duration
Haven         4th    10
Haven         5th    15
SubTotal             25
Haven         4th    5
Haven         5th    10
SubTotal             15
GrandTotal           40 
```

我想显示如下

```
ServiceName   Date   Duration
Haven         4th    10
              5th    15
SubTotal             25
Haven         4th    5
              5th    10
SubTotal             15
GrandTotal           40 
```

我想以上述格式显示，这样重复的服务名就不会显示在每一行中，我该如何在这里进行分组。谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-16T12:26:33.133

我能够通过将列 servicename 的值的 hideduplicate 属性设置为 DATASET name 来解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:35:11.440

你必须对服务名称进行分组，并且在排序选项中你可以对特定的 ID 进行过滤

# javascript - JQuery UI 可以在 chrome 上工作，但不能在 firefox 上工作

> ID：15920655
> 
> 赞同：2
> 
> 时间：2013-04-10T08:26:54.130
> 
> 标签：javascript, jquery, jquery-ui, firefox

我的代码很简单。它可以在[这个 jsFiddle](http://jsfiddle.net/Q2NF3/)找到：

```
<div id="tabs">
<ul>
 <li><a href="#highlights">About</a></li>
 <li><a href="#fineprint">Fine Print</a></li>
 <li><a href="#location">Location</a></li>
</ul>
<div id="highlights">
  highlights
</div>
<div id="fineprint">
  FiNEPRINT
</div>
<div id="location">
  <ul>
    <li>
        <address>ADDRESS</address>
    </li>
    <li>
   MAP
    </li>
  </ul>

</div> 
```

```
<button class="btn-placeorder"><span id="maplink">View map</span></button>

 <script>
 $(function(){
  $("#tabs").tabs();
 });
 $('#maplink').click(function(){
   $("#tabs").tabs("option","active",2);
 });
</script> 
```

在 Firefox 上，您会注意到，即使在小提琴中，单击视图地图按钮时选项卡也不会更改。

我不太使用 javascript，但我很想更好地了解如何诊断和解决这些问题。为什么会发生这种情况，我该如何解决它以及如何更好地教育自己？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-10T08:40:32.293

第一个调试技巧：使用工具。现在大多数浏览器都包含调试工具，您可以使用`F12`. 在 Firefox 中，捷径是`Cmd+Opt+K`或者`Ctrl+Shift+K`尽管我建议您打开插件管理器并安装 Firebug。

第二个提示：检查您的代码是否运行。控制台 API 是一个好的开始：

```
$('#maplink').click(function () {
    console.log("Button clicked");
    $("#tabs").tabs("option", "active", 2);
}); 
```

没有打印任何内容，因此不会调用您的事件。我们可以看到它没有直接连接到按钮上，而是连接到内部`<span>`：

```
<button class="btn-placeorder"><span id="maplink">View map</span>
</button> 
```

所以我们想知道：span 上的 onclick 事件有什么问题吗？

```
$("span").on("click", function(){
    console.log("click on span: %o", this);
}); 
```

没有打印出来，所以显然有问题。按钮可能正在捕获 onclick 事件？

```
<button class="btn-placeorder"><span id="maplink">View map</span>
    </button><span>Test span</span> 
```

> 点击跨度：`<span>`

原来如此！奇怪......好吧，你为什么首先需要一个`<span>`？

```
$('.btn-placeorder').click(function () {
    console.log("Button clicked");
    $("#tabs").tabs("option", "active", 2);
}); 
```

有用！我们现在需要做的只是一些清理工作，例如为 分配一个正确的 ID`<button>`并去掉多余的`<span>`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:34:00.300

你的`#maplink`选择器匹配你的内部`<span>`元素，而不是它的`<button>`父元素。

试着写：

```
<button id="maplink" class="btn-placeorder"><span>View map</span></button> 
```

代替：

```
<button class="btn-placeorder"><span id="maplink">View map</span></button> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:50:00.337

即使其他答案也正确，也可能存在另一个问题，on click 事件处理程序注册发生在 dom 就绪之外。

尝试

```
$(function() {
    $("#tabs").tabs();
    $('#maplink').click(function() {
        $("#tabs").tabs("option", "active", 2);
    });
}); 
```

演示：[Plunker](http://plnkr.co/edit/mjOft1CdF96U3thOCROO?p=preview)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:34:15.670

将 span 的 id 替换为按钮的实际类，如下所示：

```
 $('.btn-placeorder').click(function(){
   $("#tabs").tabs("option","active",2);
 }); 
```

# tridion - 使用本地化组件获取共享页面

> ID：15920657
> 
> 赞同：1
> 
> 时间：2013-04-10T08:26:57.157
> 
> 标签：tridion, tridion-2011

我目前正在研究一个事件处理程序，它将在保存事件上，将页面的最新修订日期及其组件保存到自定义数据库中，这正在工作，但我面临一些性能问题。

让我给你一个例子，它是如何工作的：

如果保存/更新了一个组件（进行了更改），那么我想在我的自定义数据库中使用该组件更新所有页面。

基本蓝图设置： 200 包含组件 400 组件的翻译发布（200 的固有组件） 500 页面的主发布 600 本地站点发布 400 的固有组件和 500 的页面）

所以假设我们在 200 中有组件 X，该组件包含在 500 的页面中，X 在 400 中本地化（让我们称之为 X(l)）并且 600 中的页面没有本地化（即它将使用分量 x(l))

所以现在我的问题是：在我的保存事件处理程序中，我使用以下方法检查 X(l) 包含哪些页面：

```
var filter = new UsingItemsFilter(component.Session)
        {
            IncludeLocalCopies = true,
            ItemTypes = new[] { ItemType.Page }
        }; 
```

但这只会让我引用 500 中的页面。所以我然后做的（感觉有点愚蠢）是创建子出版物中所有页面的 tcm id（通过循环它们）固有这个页面（现在我正在使用一些类似伪代码的编码）：

```
foreach(var 500page in foundPages)
foreach(var publication in publications){
 if(subject.Session.IsExistingObject(
 new TcmUri(page.Id.ItemId,page.Id.ItemType,publication.Id.ItemId)
 ))
 {
  someListThatWillContainAllChildPagesFrom500.Add(TheAboveTcmUri);
 }
} 
```

然后对于每个页面，检查该页面中的组件，最后将此状态保存到我的自定义数据库中。

所以问题是，有没有办法通过使用 TOM.NET api（不是 CoreServiceClient）来查询所有使用本地化组件的页面？

有没有更好的方法来查找出版物的子出版物，所以我只需要检查 childPublication 中的页面吗？

马丁兄弟

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T11:20:01.643

以下代码示例应为您提供特定本地/本地化项目的共享项目以及项目。`BluePrintNodesFilter`于 2013 年推出，但在早期版本中`BluePrintFilter`应该以类似的方式工作。

```
SystemManager systemManager = session.SystemManager;
BluePrintNodesFilter filter = new BluePrintNodesFilter(session)
{
    BaseColumns = ListBaseColumns.Id,
    ForItem = page
};
IEnumerable<BluePrintNode> allNodes = systemManager.GetBluePrintNodes(filter);
IEnumerable<RepositoryLocalObject> sharedAndLocal = (from node in allNodes
    where node.Item != null
    where node.Item.OwningRepository.Id == page.OwningRepository.Id
    select node.Item).ToArray(); 
```

# c# - 在 MVVM 中使用一个视图对多种类型进行 CRUD

> ID：15920663
> 
> 赞同：4
> 
> 时间：2013-04-10T08:27:09.827
> 
> 标签：c#, wpf, entity-framework, mvvm, prism

我有以下三种类型的项目：

```
public class StockItem
{
    public int Id { get; set; }
    public string Name { get; set; }
    public decimal UnitPrice { get; set; }
}

public class LotItem : StockItem
{
    public virtual ICollection<Lot> Lots { get; set; }
}
public class DetailedItem : StockItem
{
    public virtual ICollection<SerialNumber> SerialNumbers { get; set; }
} 
```

当我正在开发一个使用所有 MVVM、WPF、PRISM、EF5 的应用程序时，我有点坚持：

**第一**：我将如何使用一个根据类型更改（显示/隐藏控件）的视图对这些类型进行 CRUD，知道我以后可能会有从同一类型继承的新类型？
**第二**：我将如何将视图绑定到视图模型：

*   我是否需要公开动态属性才能处理这三种类型？
*   有没有我在 MVVM 中缺少的提示来克服这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:44:46.473

**第一的：**

`DataTempate`您可以为每种类型创建适当的 s。运行时会根据对象的类型自动选择它们：

```
 <Window.Resources>
        <DataTemplate  DataType="{x:Type local:LotItem}">
            <ItemsControl ItemsSource="{Binding Path=Lots}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        ...
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </DataTemplate>
        <DataTemplate  DataType="{x:Type local:DetailedItem}">
            <ItemsControl ItemsSource="{Binding Path=SerialNumbers}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        ...
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </DataTemplate>
    </Window.Resources> 
```

您显然必须`DataTemplate`为每种新类型创建一个新的。

**第二：**

只需将 ViewModel 属性定义为基本类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:00:03.600

另一种不破坏打开/关闭原则的方法是为每种类型的 StockItem 创建视图模型和视图，然后有一个类型来整理所有暴露的子类型及其对应的视图模型，并提供一个工厂方法接受一个 StockItem 并返回匹配的视图模型。

例如，使用 IoC 容器或 MEF 很容易做到这一点。

**更新**

作为使用 MEF 的快速示例：

```
public class StockItemEditViewModelFactory : IPartImportsSatisfiedNotification
{
    private Dictionary<Type, IStockItemEditViewModelResolver> resolvers;

    [ImportMany(IStockItemEditViewModelResolver)]
    private IEnumerable<IStockItemEditViewModelResolver> importedResolvers;

    public void OnImportsSatisfied()
    {
        // Build dictionary of StockItem -> StockItemEditViewModel
        // Do error handling if no imported resolvers or duplicate types
        resolvers = new Dictionary<Type, IStockItemEditViewModelResolver>

        foreach(var importedResolver in importedResolvers)
        {
           resolvers.Add(importedResolver.StockItemType, importedResolver);
        }
    }

    public IStockItemEditViewModel Create(StockItem stockItem)
    {
        // Find the appropriate resolver based on stockItem.GetType(), handle errors
        var type = stockItem.GetType();
        var entry = this.resolvers.FirstOrDefault(kv => kv.Key == type);
        var resolver = entry.Value;
        return resolver.CreateEditViewModel(stockItem);
    }
}

[InheritedExport]
public interface IStockItemEditViewModelResolver
{ 
    Type StockItemType { get; } 
    IStockItemEditViewModel CreateEditViewModel(StockItem stockItem);                 
}

public class LotItemEditViewModelResolver : IStockItemEditViewModelResolver
{
    Type StockItemType { get { return typeof(LotItem); } }

    IStockItemEditViewModel CreateEditViewModel(StockItem stockItem)
    {
        return new LotItemEditViewModel(stockItem);
    }
}

public class MainViewModel
{
    public IStockItemEditViewModel ActiveItem { get; private set; }

    public MainViewModel(StockItemEditViewModelFactory editViewModelfactory)
    {
        StockItem stockItem = new LotItem();
        this.ActiveItem = editViewModelFactory.Create(myStockItem);
    }
} 
```

这是未经测试的，但它向您展示了一般方法。你可以使用泛型来使这个更整洁。

如果您想使用 Unity 而不是 MEF，那么概念将是相同的，但是您需要注册 IStockItemEditViewModelResolver 的每个实现（或使用 Unity 扩展并使用约定），然后您的工厂需要参考容器，以便它可以执行 ResolveAll（请参阅[Unity Resolve Multiple Classes](https://stackoverflow.com/questions/4206958/unity-resolve-multiple-classes)）。

# mysql - STR_TO_DATE() 返回无效日期

> ID：15920675
> 
> 赞同：2
> 
> 时间：2013-04-10T08:27:35.727
> 
> 标签：mysql, sql

我的工作是在数据库中创建一个具有正确数据类型的新表。以下是样本记录：

```
RegisteredMonthYear
------------------------
May 2011
March 1998
January 2000 
```

在我插入转换后的值之前，我尝试使用它来转换它`STR_TO_DATE()`以检查值是否正确以及结果是否完全不是我想要的。这是我的查询：

```
SELECT  RegisteredMonthYear,
        STR_TO_DATE(RegisteredMonthYear, '%M %Y') NewDate,
        STR_TO_DATE(CONCAT(RegisteredMonthYear, ' 01'), '%M %Y %d') newDate2,
        STR_TO_DATE(RegisteredMonthYear, '%M %Y') + INTERVAL 1 DAY newDate3
FROM    TableName

+---------------------+---------------------------------+--------------------------------+----------+
| REGISTEREDMONTHYEAR |             NEWDATE             |            NEWDATE2            | NEWDATE3 |
+---------------------+---------------------------------+--------------------------------+----------+
| May 2011            | April, 30 2011 00:00:00+0000    | May, 01 2011 00:00:00+0000     | (null)   |
| March 1998          | February, 28 1998 00:00:00+0000 | March, 01 1998 00:00:00+0000   | (null)   |
| January 2000        | December, 31 1999 00:00:00+0000 | January, 01 2000 00:00:00+0000 | (null)   |
+---------------------+---------------------------------+--------------------------------+----------+ 
```

见这里演示：[http ://www.sqlfiddle.com/#!2/89a67/7](http://www.sqlfiddle.com/#!2/89a67/7)

如您所见，列`NEWDATE`落后了一天。为什么会出现这样的结果？

当我尝试`01`在列中连接字符串时`NEWDATE2`，结果符合预期。回到`NEWDATE`专栏，我试图添加一天，认为它会在专栏中给出准确的值，`NEWDATE3`但结果是`NULL`.

对此有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:55:24.100

您可以使用以下公式（[SQLFiddle](http://www.sqlfiddle.com/#!2/543c37/1)）：

```
SELECT date(str_to_date(RegisteredMonthYear, '%M %Y'))
     + interval 1 day
FROM tablename 
```

我`DATE()`在上面添加了额外的调用`STR_TO_DATE()`- 但这一切都不同了。

但总的来说，我同意这是一个更奇怪的 MySQL 陷阱。

例如，在 PostgreSQL 中，您不需要添加 1 天，也不需要额外的强制转换，简单的 to_timestamp 就足够了：

```
SELECT to_timestamp('May 2011', 'Mon YYYY');

2013-05-01 00:00:00-07 
```

# javascript - 在 Windows 8 JS 应用程序中集成 Facebook SDK

> ID：15920678
> 
> 赞同：2
> 
> 时间：2013-04-10T08:27:46.983
> 
> 标签：javascript, windows, facebook, sdk

我正在尝试开发一个 Windows 8 应用程序，我想将 Facebook 集成到其中。
我知道这可以在没有他们的 SDK 的情况下完成，但我已经看到它也可以用它来完成，我很想去 SDK。

我下载并引用了 all.js 文件。

我在 default.html 中包含了初始化代码：

```
 <div id="fb-root"></div>
<script>
    window.fbAsyncInit = function () {
        // init the FB JS SDK
        FB.init({
            appId: '*******',                        // App ID from the app dashboard
            status: true,                                 // Check Facebook Login status
            xfbml: true                                  // Look for social plugins on the page
        });

        // Additional initialization code such as adding Event Listeners goes here
    };
</script> 
```

我试图在`FB.login()`按下按钮时使用登录，但它不起作用，因为

```
FB.getLoginStatus(function (response) {
                console.log("entered")
                if (response.status === 'connected') {
                    console.log("connected");

                } else {
                    console.log("connecting");
                    FB.login(function (response) {
                        if (response.authResponse) {
                            console.log("connected");
                        } else {
                            console.log("canceled");
                        }
                    });
                }
            }); 
```

但是，当我单击附加此功能的按钮时，什么也没有发生。会是什么？任何帮助表示赞赏，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-08-18T05:41:15.460

```
 <!DOCTYPE html>
<html>
<head>
<title>Facebook Login  Example</title>
<meta charset="UTF-8">
</head>
<body>
<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
    alert("hh");
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '197393374008468',

    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.7' // use version 2.2
  });

  // Now that we've initialized the  SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1\. Logged into your app ('connected')
  // 2\. Logged into Facebook, but not your app ('not_authorized')
  // 3\. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/all.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
</script>

<!--
  Below we include the Login Button social plugin. This button uses
  the  SDK to present a graphical Login button that triggers
  the FB.login() function when clicked.
-->

<fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
</fb:login-button>

<div id="status">
</div>

</body>
</html> 
```

# javafx-2 - 如何限制项目的可见性？

> ID：15920680
> 
> 赞同：7
> 
> 时间：2013-04-10T08:27:49.277
> 
> 标签：javafx-2, visibility, pane

想象一下，我们有一个`AnchorPane`，它有孩子`Pane`，我们有`Button`，例如。
我希望这`Button`仅在 this 中显示`Pane`。
换句话说，`Pane`如果它不完全在`Pane`. 现在`Button`即使超出`Pane`矩形也可以看到。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-10T09:40:06.140

这就是制作节点[剪辑](http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#clipProperty)的目的。

例子：

```
import javafx.application.Application;
import javafx.scene.Group;
import javafx.scene.Scene;
import javafx.scene.layout.StackPane;
import javafx.scene.paint.Color;
import javafx.scene.shape.Rectangle;
import javafx.stage.Stage;

public class ClipTest extends Application {

  public static void main(String[] args) {
    launch(args);
  }

  @Override
  public void start(Stage primaryStage) throws Exception {

    Group root = new Group();

    StackPane pane = new StackPane();

    pane.setMaxWidth(100);
    pane.setMaxHeight(100);
    pane.setLayoutX(50);
    pane.setLayoutY(50);

    Rectangle rect = new Rectangle(100, 100);

    rect.setFill(null);
    rect.setStroke(Color.RED);

    Rectangle rect2 = new Rectangle(150, 150);

    rect2.setFill(Color.BLUE);

    pane.getChildren().addAll(rect2, rect);

    root.getChildren().add(pane);

//    Rectangle clip = new Rectangle(100, 100);
//    clip.setLayoutX(25);
//    clip.setLayoutY(25);
//    pane.setClip(clip);

    Scene scene = new Scene(root, 250, 250);

    primaryStage.setScene(scene);
    primaryStage.show();
  }
} 
```

这会产生：

![无夹](https://i.stack.imgur.com/8UkR6.png)

取消注释有关剪辑的行会产生：

![带夹子](https://i.stack.imgur.com/iyEhY.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-10T09:40:23.000

您可以使用[剪辑](http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#setClip%28javafx.scene.Node%29)功能来实现这一点。

```
public class ClipPane extends Application {

    @Override
    public void start(Stage stage) throws Exception {
        Pane clipPane = new Pane();
        clipPane.setStyle("-fx-border-color: red;");
        clipPane.setPrefSize(200, 200);

        Rectangle rect = new Rectangle(200, 200);
        clipPane.setClip(rect);

        Button btn = new Button("Hello, world!");
        btn.relocate(120, 0);
        clipPane.getChildren().add(btn);

        AnchorPane root = new AnchorPane();
        root.getChildren().add(clipPane);
        AnchorPane.setTopAnchor(clipPane, 50.);
        AnchorPane.setLeftAnchor(clipPane, 50.);

        stage.setScene(new Scene(root, 300, 300));
        stage.show();
    }

    public static void main(String[] args) { launch(); }
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-04-05T08:04:22.130

另一种方法，使用可观察对象。裁剪窗格边界之外的项目（如 css oveflow:hidden）：

```
// create rectangle with sizes of pane, 
// dont need to set x and y explictly 
// as positions of clip node are relative to parent node 
// (to pane in our case)
Rectangle clipRect = new Rectangle(pane.getWidth(), pane.getHeight());

// bind properties so height and width of rect 
// changes according pane's width and height
clipRect.heightProperty().bind(pane.heightProperty());
clipRect.widthProperty().bind(pane.widthProperty());

// set rect as clip rect
pane.setClip(clipRect); 
```

# cuda - 内存检查器检测到 1 个访问冲突。错误 = 加载访问冲突（全局内存）

> ID：15920681
> 
> 赞同：0
> 
> 时间：2013-04-10T08:27:54.920
> 
> 标签：cuda

当我调试我的代码时，当光标转到时显示此错误：
`scoreMatrix[0] = dev_matrix[a]+similarityScore(dev_strA[a-1],dev_strB[b-1]);`
并重复显示
`scoreMatrix[1], scoreMatrix[2], scoreMatrix[3]`

```
__global__ void kernel_ScoreMatrix(char *dev_strA, char *dev_strB, int *dev_matrix, int *dev_array, int *array_length)
{
int x= blockIdx.x;
int y=blockIdx.y;
int m = COLUMNS*y + x;

for (int i=0; i<*(array_length); i++)
    if (m==dev_array[i]){

int a = COLUMNS*(y-1) + (x-1);
int b= COLUMNS*(y-1) + (x);
int c= COLUMNS*(y) + (x-1);

int scoreMatrix[4];

scoreMatrix[0] = dev_matrix[a]+similarityScore(dev_strA[a-1],dev_strB[b-1]);
scoreMatrix[1] = dev_matrix[b]+GAP;
scoreMatrix[2] = dev_matrix[c]+GAP;
scoreMatrix[3] = 0;
dev_matrix[m] = findMax(scoreMatrix,4);
    }
} 
```

这是问题的图片。

![在此处输入图像描述](https://i.stack.imgur.com/65LC5.jpg)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T09:21:07.053

变量的值`a`为零，因此该语句`dev_strA[a-1]`导致访问冲突。

# c# - 使用 openfire 服务器使用 C# 向客户端发送消息

> ID：15920685
> 
> 赞同：1
> 
> 时间：2013-04-10T08:28:06.017
> 
> 标签：c#, asp.net, xmpp, openfire, xmppframework

我们公司正在使用消息 API 向我们的客户发送各种警报。由于消息 API 的费用越来越高，我们计划在客户的手机上安装 WhatsApp 之类的东西（Android 聊天客户端），并通过 OpenFire 服务器向他们发送消息。

我是新来的。我在 Internet 上搜索并找到了[jabber.net](https://code.google.com/p/jabber-net/wiki/GettingStarted)，但文档对我入门没有多大帮助。

我在 CodeProject 上找到[了这个](http://www.codeproject.com/Articles/34300/Google-Chat-Desktop-Application-using-Jabber-Net)，但这是为了连接到 GMail（尽管它甚至没有连接到 GMail）。我尝试将服务器更改为我的 PC 的静态 IP，但它没有连接到它。

请注意，我可以通过 jabiru(Android)、Jabber(Android) 和 Spark(Windows 客户端) 等客户端连接到 OpenFire 并与他们聊天。所以服务器设置没有问题。

我应该如何开始呢.. 我怎样才能根据他们的用户名向不同的客户发送消息。很抱歉问了一个愚蠢的问题，但我真的被困住了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:10:07.990

在这里你可以找到 C# .NET 的 XMPP 库列表：http: [//xmpp.org/xmpp-software/libraries/](http://xmpp.org/xmpp-software/libraries/)

那里列出的所有库都带有文档和示例，还有 jabber-net。这些示例向您展示了如何登录和发送消息。它们应该可以与您的 Openfire 服务器一起使用。

# jquery - 使用 jQuery 将类添加到前一个元素

> ID：15920687
> 
> 赞同：-5
> 
> 时间：2013-04-10T08:28:17.377
> 
> 标签：jquery

我有滑块，我想获取上一个 div 并将 class="prev" 添加到此

```
<div class="mb-panel" >
    <div class="mb-inside">
        <div id="container_1" class="mymasonryclass masonry">Example 1</div>
    </div>
</div>
<div class="mb-panel current">
    <div class="mb-inside">
        <div id="container_2" class="mymasonryclass masonry current">Example 1</div>
    </div>
</div> 
```

在这里，我想要一个像“mymasonryclass masonry prev”这样的类，用于前一个 div 并以**动态方式**。

我为此使用了jquery。

我试过下面的代码：

```
$('.mymasonryclass').each(function(index, value){
    var cname = $(this).attr('class');
    if(cname.indexOf('current') != -1)
    {
        var div= $(this).parent('div');
        var prev= $(div).prev();
        var output;
        var x = $('.mb-inside');
        $('.mb-inside').each(function(index,value){
            var t1 = $(this).find('div.current');
            if(t1.length > 0)
            {
                var output = $('.mb-inside')[index-1];
                if(index-1 > 0)
                    output.css('float', 'right');
            }
        });
    }
}); 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:40:25.947

鉴于上述结构，这可能是您所追求的：

```
var $previousPanel = $('.mb-panel.current').prev(); // get previous panel
$previousPanel.addClass('prev'); // add class to panel
$previousPanel.find('.masonry').addClass('prev'); // add class to inner div too 
```

[这是一个例子](http://jsfiddle.net/5dt7f/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:57:56.467

你可以使用我的直播 [[1]: http://jsfiddle.net/liyakat/SB6N3/][1]

它仅适用于一个静态 div，您可以根据需要使其动态化

```
 $(document).ready(function() {

 $("#container_2").hover(
function () {    

   $(this).parents(".mb-panel").prev().find('div.mymasonryclass').addClass('prev');

  },
  function () {
    // $(this).removeClass("hover");
  }
); 
```

});

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-02T05:04:11.120

我已经尝试过下面的代码并且它有效

```
var a = $('.mb-panel.current').prev();
var b = a.find('.mymasonryclass.masonry');
if(b)
b.css('float', 'right'); 
```

# java - Google App Engine 中的生日查询

> ID：15920688
> 
> 赞同：2
> 
> 时间：2013-04-10T08:28:21.317
> 
> 标签：java, google-app-engine, google-cloud-datastore, objectify, gql

我想要一份不考虑年份来庆祝他们生日的联系人列表，但我似乎不能不考虑年份`gql`。

我得到的最接近的是代码

`SELECT * FROM Contact WHERE birthdate = DATE(2013, 4, 5)` 而这段代码是非常错误的。

我需要像通配符这样的东西来输入`DATE(*, 4, 5)`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:22:08.483

我不确定是否有一种有效的方法可以`datetime.datetime`仅使用 , 在月/日查询对象`GQL`，

如果这是经常使用的应用程序的关键功能，我的建议是将出生年份和出生月份/日期分别存储在数据存储中。然后您可以直接查询月/日。

# mysql - 如何插入时间戳为“X 天前”的行

> ID：15920691
> 
> 赞同：2
> 
> 时间：2013-04-10T08:28:33.660
> 
> 标签：mysql

我正在编写一些代码来生成用于测试海豚的虚拟数据。

我希望时间戳字段在过去 90 天内。鉴于我有随机 0 < X < 90，我该怎么办`INSERT INTO table timestamp values(CURRENT_TIMESTAMP - X DAYS)`？（忽略其他领域，因为我对那些没有问题）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:35:27.707

使用, 返回范围内[`RAND()`](http://dev.mysql.com/doc/refman/5.0/en/mathematical-functions.html#function_rand)的随机浮点值。用于摆脱浮动值。`v``0 <= v < 1.0``ABS()`

```
ABS(RAND() * 100)

INSERT INTO table (timestamp) values(CURRENT_TIMESTAMP - INTERVAL ABS(RAND() * 100) DAY) 
```

SqlFiddle 演示[在这里](http://sqlfiddle.com/#!2/8c51e/1)

# xml - JBPM drools.xml.ExtensibleXmlParser.error

> ID：15920692
> 
> 赞同：0
> 
> 时间：2013-04-10T08:28:37.577
> 
> 标签：xml, xml-parsing, jbpm, bpmn

我开始研究 JBPM 5.4，目前正在尝试运行社区提供的示例。在运行它们时，我总是会收到此错误。

**drools.xml.ExtensibleXmlParser.error - (null: 12, 54): cvc-complex-type.4: 属性“targetNamespace”必须出现在元素“定义”上。**

请帮助我了解如何摆脱这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T11:11:42.113

XML 解析器期望在定义标签上设置 targetNamespace，因此您只需添加：

克里斯

# android - android如何获取手机的雕像是否正在播放声音文件

> ID：15920693
> 
> 赞同：1
> 
> 时间：2013-04-10T08:28:37.457
> 
> 标签：android

用户创建了一个新任务 A 并设置了闹钟，然后他同时创建了另一个新任务 B 并设置了闹钟。

当任务 A 的警报响起时，用户并没有按时解除警报，任务 B 的警报才紧随其后。嗯，现在是二重唱。

如果手机正在播放任何音乐声音或如何防止警报显示二重奏，我需要一些帮助来判断雕像。

我的项目必须依赖 API 7。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:34:02.343

要获取手机是否在播放声音文件的状态，可以参考[这个](http://developer.android.com/training/managing-audio/audio-focus.html)文档。在您的应用开始播放任何音频之前，它应该为将要使用的流保持音频焦点。这是通过调用来完成的，如果您的请求成功`requestAudioFocus()`，则返回该调用。`AUDIOFOCUS_REQUEST_GRANTED`

# performance - 宏运行极慢

> ID：15920695
> 
> 赞同：1
> 
> 时间：2013-04-10T08:28:46.487
> 
> 标签：performance, excel, vba

我一直在编写一个宏，它在新员工的假期表中插入一个新行，现在它工作正常，但现在它已经停止并且需要大量时间来插入一个新行。这是受影响的代码：

```
For f = 1 To Worksheets.Count - 1

    Worksheets(f).Select

    Range("A1").Select

    If Worksheets(f).Name = "FLEXI" Then

        Range("A1").Select
        N = Range("A2").Value
        Range("A" & NewRow).Select
        Selection.EntireRow.Insert
        Range("A" & NewRow + N + 1).Select
        Selection.EntireRow.Insert
        GoTo flexidivert
    End If

Range("A" & NewRow).Select
Selection.EntireRow.Insert

flexidivert:
Next f 
```

我禁用了屏幕更新，禁用了启用事件并将计算设置为手动，因此通常的嫌疑人不会在这里工作。这也是一个如此简单的过程，我不明白为什么需要几分钟来计算。NewRow 是要粘贴的行，并且 worksheets.count = 5 所以没有大量的数字可以滚动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:58:31.450

除了我上面的评论，这是你想要做的吗？

```
For f = 1 To Worksheets.Count - 1
    With Worksheets(f)
        .Range("A" & NewRow).EntireRow.Insert

        If .Name = "FLEXI" Then
            N = .Range("A2").Value
            .Range("A" & NewRow + N + 1).EntireRow.Insert
        End If
    End With
Next f 
```

我假设您已正确声明所有变量，并且单元格 A2 具有数字值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T09:01:49.687

试试下面

```
Worksheets("FLEXI").select
N = Range("A2").Value
Range("A" & NewRow).EntireRow.Insert shift:=xldown 
Range("A" & NewRow + N + 1).EntireRow.Insert shift:=xldown
Range("A" & NewRow).EntireRow.Insert shift:=xldown 
```

使用 INSERT 之前无需选择单元格

另外，如果您知道wearksheet 的名称无需循环，只需通过集合直接引用即可

高温高压

菲利普

# eclipse - 从 Web 浏览器启动已配置的 Eclipse IDE

> ID：15920696
> 
> 赞同：0
> 
> 时间：2013-04-10T08:28:52.940
> 
> 标签：eclipse

我遇到了一个演示，一家公司通过网站将 Eclipse IDE 启动到开发人员的 PC 上。动态下载到工作站的 Eclipse 配置了插件和应用程序服务器配置。我没有机会问它是如何完成的，有人可以向我指出资源是如何完成的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T06:54:13.810

您可能已经看过[Yoxos](http://eclipsesource.com/en/products/yoxos/)，它允许配置插件的配置文件并安装这些预配置的配置文件。

# grouping - 在 SlickGrid 中，如何通过 javascript 折叠分组

> ID：15920700
> 
> 赞同：0
> 
> 时间：2013-04-10T08:28:58.943
> 
> 标签：grouping, slickgrid

我想在 SlickGrid 中应用分组。我想通过 javascript 折叠它们。

这是我的脚本[http://pastebin.com/MbXgQ22Y](http://pastebin.com/MbXgQ22Y) （死链接）

```
dataView.collapseGroup(0);
collapseAllGroups(); 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T13:36:14.277

您只需要 1 行代码即可折叠它们，即：`dataView.collapseAllGroups()`确保您的 SlickGrid 版本不太旧，因为此折叠所有功能是上个月实现的...

# css - wordpress 滑块中高度的位置

> ID：15920701
> 
> 赞同：1
> 
> 时间：2013-04-10T08:28:59.097
> 
> 标签：css, wordpress

我正在尝试减小我的 wordpress 网站上滑块的大小：

////

滑块是 435 像素，我做了一些研究，但找不到位置。

我确实更改了 style.css 中的滑块高度：

```
 #slider {
    position:relative;
    width:1000px;
    height:400px;
    background:url(images/loading.gif) no-repeat 50% 50%; 
```

但它仍然显示 435 像素。

有谁能帮助我吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:34:31.717

从`#slider`div 的 html ：

```
<div id="slider" class="nivoSlider" style="position: relative; height: 435px; background-image: url(http://www.webgiants-im.nl/wp-content/uploads/2013/04/internet_marketing_webgiants-im_2.jpg); background-position: initial initial; background-repeat: no-repeat no-repeat;"> 
```

您可以看到`height: 435px`标记中有一个，默认情况下它优先于 .css 文件或`<style></style>`块中定义的样式。

您可以在 css 文件中将高度标记为 !important ，这将强制使用此值：

```
#slider {
    position:relative;
    width:1000px;
    height:400px !important;
    background:url(images/loading.gif) no-repeat 50% 50%;
} 
```

或`height: 435px`从 div 的 html 标记中删除`#slider`，或将其值设置为 400px。

**编辑**：为了在将来为您省去一些麻烦，您应该使用 Web 调试工具，如 Firebug（用于 Firefox）或 Chrome 的开发工具（我个人更喜欢后者），这些可能*非常*有用。如果 F12 在大多数流行的浏览器上，我认为键盘快捷键可以带来浏览器的开发工具。

# java - JSoup POST 认证

> ID：15920710
> 
> 赞同：2
> 
> 时间：2013-04-10T08:29:22.337
> 
> 标签：java, authentication, post, login, jsoup

我正在尝试使用基本的用户名和密码身份验证连接到一个站点，保留 cookie 并解析来自需要登录页面上给出的 cookie 的站点的数据。当使用来自本地 Apache 网络服务器的网站副本时，解析工作完美。这是给我带来麻烦的身份验证。我使用 Eclipse 作为我的 IDE，并且我不断收到以下代码的错误：

```
 Response res = Jsoup
        .connect("site_with_login")
        .data("login", "MyUsername")
        .data("pass", "MyPassword")
        .method(Method.POST)
        .execute();

    //Keep logged in
    Map<String, String> cookies = res.cookies(); 
```

是`.method(Method.POST)`问题所在，因为错误在`POST`. 这是运行解析时的输出：

```
 Exception in thread "main" java.lang.Error: Unresolved compilation problem: 
POST cannot be resolved or is not a field

at parseHTML.main(parseHTML.java:26) 
```

这很奇怪，因为 stackoverflow 上的很多帖子都提到了这种精确的身份验证方式。我已经导入了所有打包的文件，并且在我的库中有 jsoup-1.7.2.jar 文件。

有谁知道我该如何解决这个烦人的问题？

提前致谢。

编辑：我目前正在使用以下软件包：

```
 import org.jsoup.Connection.Method;
    import org.jsoup.Connection;
    import org.jsoup.Jsoup;
    import org.jsoup.helper.HttpConnection.Response;
    import org.jsoup.nodes.Document;
    import org.jsoup.nodes.Element;
    import org.jsoup.select.Elements; 
```

我现在发布的整个代码块给出了以下错误：

```
 Type mismatch: cannot convert from Connection.Response to HttpConnection.Response 
```

[整个代码可在此处获得](http://pastebin.com/AbG8YB8V)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:36:07.177

我认为您使用了错误的导入。

确保您使用：

```
.method(Connection.Method.POST) 
```

确保您导入： `org.jsoup.Connection.Method`而不是`java.lang.reflect.Method`

另一个导入问题：

`import org.jsoup.Connection.Response;`

代替：

```
import org.jsoup.helper.HttpConnection.Response; 
```

# javascript - 在第一次加载时，在 fullcalendar 中的每个日期之前添加 Image 的 id （与 date 相同）

> ID：15920712
> 
> 赞同：0
> 
> 时间：2013-04-10T08:29:43.327
> 
> 标签：javascript, fullcalendar

我正在使用'Arshaw's Fullcalendar'。我在每个日期之前都添加了图像，但我无法提供与日期相同的图像 ID，而且我想在单击图像时打开一个弹出表单，然后只需要打开弹出窗口。请朋友如果您有解决此类问题的方法，请与我分享

在这里，您可以看到需要使用的计数变量，因为每当我更改视图时，图像都会在每个日期之前追加 1 或 2 次，所以请我只希望添加 1 次图像，所以请也检查此问题

* * *

```
<script>
    $(document).ready(function() {
        var count=0;
        var calendar = $('#calendar').fullCalendar({
            eventRender: function( event, element, view, start){
                //alert("New EventRender");
                if(count==0){
                    $(".fc-day-number").before("<img src='/assets/images/add2.png' style='' name='date' id='+data-date'>");
                    alert(count);
                    count++;
                }
            }
        });
    });
</script> 
```

# wget - wget 下载页面，这是一个后请求

> ID：15920719
> 
> 赞同：0
> 
> 时间：2013-04-10T08:30:11.193
> 
> 标签：wget, http-post

我想用 wget 下载一些结果页面。我发现每次单击下一页按钮时都会发生变化的是最后一个数字，如下所示：

[http://www.sth.com/friends/](http://www.sth.com/friends/) --> 第一页

[http://www.sth.com/friends/#quickfinder_member_friends_1=2](http://www.sth.com/friends/#quickfinder_member_friends_1=2) --> 第二页

[http://www.sth.com/friends/#quickfinder_member_friends_1=3](http://www.sth.com/friends/#quickfinder_member_friends_1=3) --> 第三页

当我尝试使用 wget 下载页面时，它总是保存第一页。从 Mozilla 的 webconsole 我发现它是一个发布请求而不是一个获取请求。

有谁知道我如何使用 wget 下载这些页面？

谢谢你。

# session - Symfony2 更新 Session 并存储价值

> ID：15920723
> 
> 赞同：0
> 
> 时间：2013-04-10T08:30:34.150
> 
> 标签：session, symfony, login, store, invalidation

我的用户可以在表单上更改他们的密码。如果此表单有效，我对其进行编码，通过使用使会话无效

```
$this->get('security.context')->setToken(null);
$this->getSession()->invalidate(); 
```

...将用户刷新到数据库并进行重定向（到相同的 url）。

除此之外，我还有一种机制可以在转发之前在会话中存储一些信息，并在“转发”模板中显示这些数据。

两者都可以单独使用，但不能一起使用:-)

我可以看到，该值已写入（在使会话无效之后），并且我相信 symfony 实例化了一个新会话。

我只是不知道，在那之后会发生什么。也许 symfony 正在做一些“魔术”，因为它会在显示重定向的 url 之前“注入”登录页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T13:04:15.997

我真的不明白您要做什么，以及为什么要使会话无效，但是您的用户需要登录才能看到重定向的 URL。您的代码将他注销。

您可以通过以下方式登录用户：

```
use Symfony\Component\Security\Core\Authentication\Token\UsernamePasswordToken;

$authToken = new UsernamePasswordToken($user, null, 'secured_area', array('ROLE_USER'));
$this->get('security.context')->setToken($authToken); 
```

第三个参数是providerKey，第四个是角色数组。

# iphone - iphone4 & iphone5 的自动旋转

> ID：15920731
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:30:52.960
> 
> 标签：iphone, objective-c, ios5, ios6, autorotate

我正在为 iphone4 和 5 开发应用程序。当我使用 shouldAutoRotation 时，它仅支持 iphone4。当我使用 willAnimateRotationToInterfaceOrientation 时，它仅支持 iphone5。我对 iphone4 和 5 都使用了这两种方法，它工作正常。我打算将我的应用程序发布到 appStore。我收到了一些警告，但会完美运行。苹果拒绝应用程序获取警告。

代码：

```
 - (BOOL)shouldAutorotate
    {
        //returns true if want to allow orientation change
        return TRUE;

    }
    - (NSUInteger)supportedInterfaceOrientations
    {
        //decide number of origination tob supported by Viewcontroller.
        return UIInterfaceOrientationMaskAll;

    }

    - (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
    {
        //from here you Should try to Preferred orientation for ViewController

        return UIInterfaceOrientationLandscapeLeft | UIInterfaceOrientationLandscapeRight | UIInterfaceOrientationPortrait;
    }

- (void)willAnimateRotationToInterfaceOrientation:(UIInterfaceOrientation)  interfaceOrientation duration:(NSTimeInterval)duration
{

if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

        if(interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight){

//My code here

    }

}
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{

 if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

        if(interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight){

//My code here

    }
return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:40:26.607

你可能错过了用“}”关闭这个方法

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {

     if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {

        if(interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight){

             //My code here

        }

    return YES;
    }
  // add:
  return YES;
} 
```

与 willAnimateRotationToInterfaceOrientation 方法相同...

# javascript - replace in javascript not replacing

> ID：15920732
> 
> 赞同：0
> 
> 时间：2013-04-10T08:30:52.920
> 
> 标签：javascript

so here is the code

```
var searchValue = "Dans-Test";

if ( searchValue.indexOf('-') >= 0 ){
searchValue.replace('-', ' ');  
console.log("reached here");
} else {
console.log("no -");
}

console.log(searchValue); 
```

searchValue is still outputting Dan-Test and not Dan Test, why?

it does console log reached here so the if statement is correct

thanks

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T08:31:33.833

`replace` doesn't modify the original string, it's non-mutable:

```
searchValue = searchValue.replace('-', ''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:34:54.500

Additionally, the replace function only replace the first matched character.

# fortran - 使用 Fortran 计算 Sin(x)

> ID：15920733
> 
> 赞同：0
> 
> 时间：2013-04-10T08:30:53.283
> 
> 标签：fortran, trigonometry

```
 integer   n
  real term , sum , deg
  write(*,*) 'Enter Degree'
  read(*,*) deg
  deg = deg *  3.14 /180
  n =  3
  term = deg
  sum = 0
2     if ( abs(term)  .gt. 0.000001)  then !<<<<<<<<<<< THIS CONDITION
      goto 1
   else
      goto 3
    endif
 1        sum = sum + term
     write( *,*) 'Your', n - 2, ' Term is ' , term
     term = term *(( deg ** 2)/ (n *( n - 1)))  * (-1)
     n = n + 2
     goto 2
3      write(*,*) ' YOur final sum ' , sum
   pause
   end 
```

我发现这个程序用于计算 Sin(x) 很明显 Sin(x) 的值是由用户输入的，我没有得到条件的全部点**（ abs(term) .gt. 0.000001）**这是否意味着计算机不能比这更精确。如果我错了，请纠正我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:41:26.570

该程序使用默认实变量。它们通常允许大约精度。6位数。您可以使用所谓的双精度，它可以允许更多。下面您会看到 15 位数字的示例。

```
integer,parameter :: dp = selected_real_kind(p=15,r=200)
real(dp) ::  term , sum , deg

deg = deg *  3.14_dp /180 
```

等等...

看：

[http://gcc.gnu.org/onlinedocs/gfortran/SELECTED_005fREAL_005fKIND.html](http://gcc.gnu.org/onlinedocs/gfortran/SELECTED_005fREAL_005fKIND.html)

[http://gcc.gnu.org/onlinedocs/gfortran/ISO_005fFORTRAN_005fENV.html](http://gcc.gnu.org/onlinedocs/gfortran/ISO_005fFORTRAN_005fENV.html)（尤其是real64）

在旧程序中，您还可以看到

```
double precision x 
```

已过时，或

```
real*8 x 
```

这是非标准的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T06:41:58.910

条件`if ( abs(term) .gt. 0.000001)`是一种测试项是否为非零的方法。对于整数，您只需使用`if (term .ne. 0)`，但对于实数，它可能不会在内部表示为相同的零。 `if ( abs(term) .gt. 0.000001)`过滤在实数精度范围内非零的数字。

# javascript - 在javascript中调用ajax函数

> ID：15920734
> 
> 赞同：1
> 
> 时间：2013-04-10T08:30:53.887
> 
> 标签：javascript, jquery, ajax

我想在 javascript 中调用 Ajax，但它给出了 CallPageMethod 未定义的错误。如何定义它？我是阿贾克斯的新手。你能帮助我吗？

```
<script type="text/javascript">    
    function ValidateDelete() {
        var result = CallPageMethod("IsLangExists", success, fail);

        if (result == true) { 
            return confirm('Do you want to continue ?')
        }
        else alert('You can not delete this record');
    }

    function success(response) {
        //alert(response.d);
    }

    function fail(response) {
        //alert("An error occurred.");
    }
</script>
<asp:GridView ID="grdList" OnRowCommand="grdList_RowCommand">
    <Columns>
        <asp:BoundField DataField="LangId" HeaderText="LangId" Visible="false" />            
        <asp:TemplateField HeaderText="Delete">
               <ItemTemplate>
                    <asp:ImageButton ID="imgBtnDelete" runat="server" CommandName="_Delete" CommandArgument='<%#Eval("LangId")%>' ImageUrl="~/Image/delete_icon.gif" OnClientClick="return ValidateDelete();"
                            ToolTip="Delete" />
              </ItemTemplate>
        </asp:TemplateField>
    </Columns>           
</asp:GridView> 
```

后面的代码

```
[WebMethod]
public static bool IsLangExists()
{
    return true;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T08:33:55.747

您的[CallPageMethod](http://weblogs.asp.net/craigshoemaker/archive/2008/09/29/using-jquery-to-call-asp-net-ajax-page-methods.aspx)是否在任何地方定义？

```
function CallPageMethod(methodName, onSuccess, onFail) {
    var args = '';
    var l = arguments.length;
    if (l > 3) {
        for (var i = 3; i < l - 1; i += 2) {
            if (args.length != 0) args += ',';
            args += '"' + arguments[i] + '":"' + arguments[i + 1] + '"';
        }
    }
    var loc = window.location.href;
    loc = (loc.substr(loc.length - 1, 1) == "/") ? loc + "default.aspx" : loc;
    $.ajax({
        type: "POST",
        url: loc + "/" + methodName,
        data: "{" + args + "}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: onSuccess,
        fail: onFail
    });
} 
```

要获取服务器端方法的返回值，您需要使用`onSuccess`回调，而不是检查以下值`result`：

```
function ValidateDelete() {
    CallPageMethod("IsLangExists", success, fail);
}

function success(response) {
    if (response.d) { 
        return confirm('Do you want to continue ?');
    }

    alert('You can not delete this record');
}

function fail(response) {
    //alert("An error occurred.");
} 
```

* * *

以下是所有内容的外观：

```
<script type="text/javascript">

    function CallPageMethod(methodName, onSuccess, onFail) {
        var args = '';
        var l = arguments.length;
        if (l > 3) {
            for (var i = 3; i < l - 1; i += 2) {
                if (args.length != 0) args += ',';
                args += '"' + arguments[i] + '":"' + arguments[i + 1] + '"';
            }
        }
        var loc = window.location.href;
        loc = (loc.substr(loc.length - 1, 1) == "/") ? loc + "default.aspx" : loc;
        $.ajax({
            type: "POST",
            url: loc + "/" + methodName,
            data: "{" + args + "}",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: onSuccess,
            fail: onFail
        });
    }  

    function ValidateDelete() {
        CallPageMethod("IsLangExists", success, fail);
    }

    function success(response) {
        if (response.d) { 
            return confirm('Do you want to continue ?');
        }

        alert('You can not delete this record');
    }

    function fail(response) {
        //alert("An error occurred.");
    }

</script>
<asp:GridView ID="grdList" OnRowCommand="grdList_RowCommand">
    <Columns>
        <asp:BoundField DataField="LangId" HeaderText="LangId" Visible="false" />            
        <asp:TemplateField HeaderText="Delete">
               <ItemTemplate>
                    <asp:ImageButton ID="imgBtnDelete" runat="server" CommandName="_Delete" CommandArgument='<%#Eval("LangId")%>'
                            ImageUrl="~/Image/delete_icon.gif" OnClientClick="return ValidateDelete();"
                            ToolTip="Delete" />
              </ItemTemplate>
        </asp:TemplateField>
    </Columns>           
</asp:GridView> 
```

# paypal - Cubecart 和 Paypal IPN

> ID：15920735
> 
> 赞同：0
> 
> 时间：2013-04-10T08:30:56.280
> 
> 标签：paypal, paypal-ipn

我们似乎遇到了一个拥有 cubecart 商店和 Paypal IPN 的客户的问题。问题是 IPN 通知 URL 正在工作并在成功购买后更改订单状态，但现在它似乎已停止工作。订单顺利通过，商品出现在 Paypal 账户中，但它没有更新商店的订单状态（从待处理变为自动处理）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T12:50:50.500

检查您帐户中的 IPN 历史记录。首先验证 IPN 是否正在发送出去。如果 IPN 日志显示 IPN 正在发出，请查看它是否处于失败或重试状态。还要查看 IPN 消息的详细信息，看看它是否显示从您的站点返回的状态代码。IPN 系统期望返回 200ok 响应。如果有不同的状态代码，这可能有助于确定问题的原因。此外，如果与第三方托管，请与您的托管服务提供商仔细检查，以确保他们没有对可能影响您的脚本的防火墙或代理进行任何更新。

# java - 使用java实现RSA

> ID：15920739
> 
> 赞同：3
> 
> 时间：2013-04-10T08:31:22.250
> 
> 标签：java, rsa

我在java中实现RSA我遇到了下面给出的代码，它在解密明文后以数字形式显示明文，但我想要我输入的简单英文。我不想使用 java api。

**TestRsa.Java**

```
import java.io.IOException;
import java.math.BigInteger;
import java.util.Random;

public class TestRsa {

    private BigInteger p, q;
    private BigInteger n;
    private BigInteger PhiN;
    private BigInteger e, d;

    public TestRsa() {
        initialize();
    }

    public void initialize() {
        int SIZE = 512;
        /* Step 1: Select two large prime numbers. Say p and q. */
        p = new BigInteger(SIZE, 15, new Random());
        q = new BigInteger(SIZE, 15, new Random());
        /* Step 2: Calculate n = p.q */
        n = p.multiply(q);
        /* Step 3: Calculate ø(n) = (p - 1).(q - 1) */
        PhiN = p.subtract(BigInteger.valueOf(1));
        PhiN = PhiN.multiply(q.subtract(BigInteger.valueOf(1)));
        /* Step 4: Find e such that gcd(e, ø(n)) = 1 ; 1 < e < ø(n) */
        do {
            e = new BigInteger(2 * SIZE, new Random());
        } while ((e.compareTo(PhiN) != 1)
                || (e.gcd(PhiN).compareTo(BigInteger.valueOf(1)) != 0));
        /* Step 5: Calculate d such that e.d = 1 (mod ø(n)) */
        d = e.modInverse(PhiN);
    }

    public BigInteger encrypt(BigInteger plaintext) {
        return plaintext.modPow(e, n);
    }

    public BigInteger decrypt(BigInteger ciphertext) {
        return ciphertext.modPow(d, n);
    }

    public static void main(String[] args) throws IOException {
        TestRsa app = new TestRsa();
        int plaintext;
        System.out.println("Enter any character : ");
        plaintext = System.in.read();
        BigInteger bplaintext, bciphertext;
        bplaintext = BigInteger.valueOf((long) plaintext);
        bciphertext = app.encrypt(bplaintext);
        System.out.println("Plaintext : " + bplaintext.toString());
        System.out.println("Ciphertext : " + bciphertext.toString());
        bplaintext = app.decrypt(bciphertext);
        System.out.println("After Decryption Plaintext : "
                + bplaintext.toString());
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-05-21T22:55:25.347

我的 RSA 课程：

```
package com.infovale.cripto;

import java.io.UnsupportedEncodingException;
import java.math.BigInteger;
import java.security.InvalidKeyException;
import java.security.KeyFactory;
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.NoSuchAlgorithmException;
import java.security.PrivateKey;
import java.security.PublicKey;
import java.security.spec.InvalidKeySpecException;
import java.security.spec.PKCS8EncodedKeySpec;
import java.util.Arrays;

import javax.crypto.BadPaddingException;
import javax.crypto.Cipher;
import javax.crypto.IllegalBlockSizeException;
import javax.crypto.NoSuchPaddingException;

public class RSA {

static String kPublic = "";
static String kPrivate = "";

public RSA()
{

}

public String Encrypt(String plain) throws NoSuchAlgorithmException,
        NoSuchPaddingException, InvalidKeyException,
        IllegalBlockSizeException, BadPaddingException {

    String encrypted;
    byte[] encryptedBytes;      

    KeyPairGenerator kpg = KeyPairGenerator.getInstance("RSA");
    kpg.initialize(1024);
    KeyPair kp = kpg.genKeyPair();

    PublicKey publicKey = kp.getPublic();
    PrivateKey privateKey = kp.getPrivate();

    byte[] publicKeyBytes = publicKey.getEncoded();
    byte[] privateKeyBytes = privateKey.getEncoded();

    kPublic = bytesToString(publicKeyBytes);
    kPrivate = bytesToString(privateKeyBytes);

    Cipher cipher = Cipher.getInstance("RSA");
    cipher.init(Cipher.ENCRYPT_MODE, publicKey);
    encryptedBytes = cipher.doFinal(plain.getBytes());

    encrypted = bytesToString(encryptedBytes);
    return encrypted;

}

public String Decrypt(String result) throws NoSuchAlgorithmException,
        NoSuchPaddingException, InvalidKeyException,
        IllegalBlockSizeException, BadPaddingException {

    byte[] decryptedBytes;

    byte[] byteKeyPrivate = stringToBytes(kPrivate);

    KeyFactory kf = KeyFactory.getInstance("RSA");

    PrivateKey privateKey = null;
    try {

        privateKey = kf.generatePrivate(new PKCS8EncodedKeySpec(byteKeyPrivate));

    } catch (InvalidKeySpecException e) {
        e.printStackTrace();
    }

    String decrypted;

    Cipher cipher = Cipher.getInstance("RSA");
    cipher.init(Cipher.DECRYPT_MODE, privateKey);
    decryptedBytes = cipher.doFinal(stringToBytes(result));
    decrypted = new String(decryptedBytes);
    return decrypted;

}

public String bytesToString(byte[] b) {
    byte[] b2 = new byte[b.length + 1];
    b2[0] = 1;
    System.arraycopy(b, 0, b2, 1, b.length);
    return new BigInteger(b2).toString(36);
}

public byte[] stringToBytes(String s) {
    byte[] b2 = new BigInteger(s, 36).toByteArray();
    return Arrays.copyOfRange(b2, 1, b2.length);
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-29T11:15:33.313

试试这些行：

```
System.out.println("Plaintext : " +  new String(bplaintext.toByteArray() ) );
System.out.println("Ciphertext : " +  new String(bciphertext.toByteArray() ) );
bplaintext = app.decrypt(bciphertext);
        System.out.println("After Decryption Plaintext : " + new String(bplaintext.toByteArray() ) ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-09-23T12:35:51.007

我稍微编辑了 Elton Da Costa 的课程，添加了将公钥从 String 转换为 PublicKey 类的功能。因为这个类的用户最终可能希望将公钥提供给第三方来加密消息，并保留自己的私钥以进行解密。

```
 package com.custom.util;

            import java.math.BigInteger;
            import java.security.InvalidKeyException;
            import java.security.KeyFactory;
            import java.security.KeyPair;
            import java.security.KeyPairGenerator;
            import java.security.NoSuchAlgorithmException;
            import java.security.PrivateKey;
            import java.security.PublicKey;
            import java.security.spec.InvalidKeySpecException;
            import java.security.spec.PKCS8EncodedKeySpec;
            import java.security.spec.X509EncodedKeySpec;
            import java.util.Arrays;

            import javax.crypto.BadPaddingException;
            import javax.crypto.Cipher;
            import javax.crypto.IllegalBlockSizeException;
            import javax.crypto.NoSuchPaddingException;

            public class RSA {

                static String kPublic = "";
                static String kPrivate = "";

                public RSA() {

                }

                public class KeyPairStrings {
                    private String pubKey;
                    private String privKey;

                    public String getPubKey() {
                        return pubKey;
                    }

                    public String getPrivKey() {
                        return privKey;
                    }

                    @Override
                    public String toString() {
                        return "KeyPairStrings [pubKey=" + pubKey + ", privKey=" + privKey + "]";
                    }

                }

            public KeyPairStrings getKeyPair() throws NoSuchAlgorithmException{

                KeyPairStrings keyPairStrings = new RSA.KeyPairStrings();

                KeyPairGenerator kpg = KeyPairGenerator.getInstance("RSA");
                kpg.initialize(1024);
                KeyPair kp = kpg.genKeyPair();

                PublicKey publicKey = kp.getPublic();
                PrivateKey privateKey = kp.getPrivate();

                byte[] publicKeyBytes = publicKey.getEncoded();
                byte[] privateKeyBytes = privateKey.getEncoded();

                keyPairStrings.pubKey = bytesToString(publicKeyBytes);
                keyPairStrings.privKey = bytesToString(privateKeyBytes);

                return keyPairStrings ;
            }

            public String encrypt(String text , String pubKey) throws NoSuchAlgorithmException, NoSuchPaddingException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException{

                byte[] pubKeyByte = stringToBytes(pubKey) ;

                KeyFactory kf = KeyFactory.getInstance("RSA");

                PublicKey publicKey = null;
                try {

                    publicKey = kf.generatePublic(new X509EncodedKeySpec(pubKeyByte));

                } catch (InvalidKeySpecException e) {
                    e.printStackTrace();
                }

                Cipher cipher = Cipher.getInstance("RSA");
                cipher.init(Cipher.ENCRYPT_MODE, publicKey );
                byte[] encryptedBytes = cipher.doFinal(text.getBytes());

                String encrypted = bytesToString(encryptedBytes);

                return encrypted;
            }

            public String decrypt(String encryptedText , String privKey) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException{

                byte[] privKeyByte = stringToBytes(privKey) ;

                KeyFactory kf = KeyFactory.getInstance("RSA");

                PrivateKey privateKey = null;
                try {

                    privateKey = kf.generatePrivate(new PKCS8EncodedKeySpec(privKeyByte));

                } catch (InvalidKeySpecException e) {
                    e.printStackTrace();
                }

                String decrypted;

                Cipher cipher = Cipher.getInstance("RSA");
                cipher.init(Cipher.DECRYPT_MODE, privateKey);
                byte[] decryptedBytes = cipher.doFinal(stringToBytes(encryptedText));
                decrypted = new String(decryptedBytes);
                return decrypted;
            }

            public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeyException, NoSuchPaddingException, IllegalBlockSizeException, BadPaddingException {

                String text = "hello" ;

                RSA rsa = new RSA();

                KeyPairStrings keyPairStrings =  rsa.getKeyPair() ;

                System.out.println(keyPairStrings);

                String encrypted  = rsa.encrypt(text, keyPairStrings.getPubKey());

                System.out.println("encrypted : "+encrypted);   

                String textResult = rsa.decrypt(encrypted, keyPairStrings.getPrivKey());

                System.out.println("textResult : "+textResult);

            }

                public static String bytesToString(byte[] b) {
                    byte[] b2 = new byte[b.length + 1];
                    b2[0] = 1;
                    System.arraycopy(b, 0, b2, 1, b.length);
                    return new BigInteger(b2).toString(36);
                }

                public byte[] stringToBytes(String s) {
                    byte[] b2 = new BigInteger(s, 36).toByteArray();
                    return Arrays.copyOfRange(b2, 1, b2.length);
                }
            } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-04T06:08:59.517

而不是这个（只读取第一个字符）：

```
int plaintext;
plaintext = System.in.read();
bplaintext = BigInteger.valueOf((long) plaintext); 
```

使用它（读取字符串）：

```
byte[] plaintext;
plaintext = new Scanner(System.in).nextLine().getBytes();
bplaintext = new BigInteger(plaintext); 
```

然后将其添加到末尾（将解密的 BigInteger 转换回字符串）

```
System.out.println("Original String: " + new String(bplaintext.toByteArray())); 
```

# c# - 从字符串 ascii 转换为字符串 Hex

> ID：15920741
> 
> 赞同：16
> 
> 时间：2013-04-10T08:31:30.717
> 
> 标签：c#, string, hex, ascii

假设我有这个字符串

```
string str = "1234" 
```

我需要一个将这个字符串转换为这个字符串的函数：

```
"0x31 0x32 0x33 0x34" 
```

我在网上搜索了很多类似的东西，但没有回答这个问题。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-10T08:34:23.793

```
string str = "1234";
char[] charValues = str.ToCharArray();
string hexOutput="";
foreach (char _eachChar in charValues )
{
    // Get the integral value of the character.
    int value = Convert.ToInt32(_eachChar);
    // Convert the decimal value to a hexadecimal value in string form.
    hexOutput += String.Format("{0:X}", value);
    // to make output as your eg 
    //  hexOutput +=" "+ String.Format("{0:X}", value);

}

    //here is the HEX hexOutput 
    //use hexOutput 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-04-10T08:45:49.853

这似乎是扩展方法的工作

```
void Main()
{
    string test = "ABCD1234";
    string result = test.ToHex();
}

public static class StringExtensions
{
    public static string ToHex(this string input)
    {
        StringBuilder sb = new StringBuilder();
        foreach(char c in input)
            sb.AppendFormat("0x{0:X2} ", (int)c);
        return sb.ToString().Trim();
    }
} 
```

一些提示。
不要使用字符串连接。字符串是不可变的，因此每次连接字符串时都会创建一个新字符串。（内存使用和碎片压力） StringBuilder 通常对于这种情况更有效。

字符串是字符数组，在字符串上使用 foreach 已经可以访问字符数组

这些通用代码非常适合包含在实用程序库中的扩展方法，该实用程序库始终可用于您的项目（代码重用）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-12-31T23:35:03.060

转换为字节数组，然后转换为十六进制

```
 string data = "1234";

        // Convert to byte array
        byte[] retval = System.Text.Encoding.ASCII.GetBytes(data);

        // Convert to hex and add "0x"
        data =  "0x" + BitConverter.ToString(retval).Replace("-", " 0x");

        System.Diagnostics.Debug.WriteLine(data); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T08:40:37.030

```
static void Main(string[] args)
{
    string str = "1234";
    char[] array = str.ToCharArray();
    string final = "";
    foreach (var i in array)
    {
        string hex = String.Format("{0:X}", Convert.ToInt32(i));
        final += hex.Insert(0, "0X") + " ";       
    }
    final = final.TrimEnd();
    Console.WriteLine(final);
} 
```

输出将是；

```
0X31 0X32 0X33 0X34 
```

这是一个[`DEMO`](http://ideone.com/P08w3A).

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2020-03-09T19:40:41.873

解决这个问题的一个很好的声明方式是：

```
var str = "1234"

string.Join(" ", str.Select(c => $"0x{(int)c:X}"))

// Outputs "0x31 0x32 0x33 0x34" 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-10T08:36:24.560

```
 [TestMethod]
    public void ToHex()
    {
        string str = "1234A";
        var result = str.Select(s =>  string.Format("0x{0:X2}", ((byte)s)));

       foreach (var item in result)
       {
           Debug.WriteLine(item);
       }

    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-10T08:39:25.083

这是我用过的一个：

```
private static string ConvertToHex(byte[] bytes)
        {
            var builder = new StringBuilder();

            var hexCharacters = new[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };

            for (var i = 0; i < bytes.Length; i++)
            {
                int firstValue = (bytes[i] >> 4) & 0x0F;
                int secondValue = bytes[i] & 0x0F;

                char firstCharacter = hexCharacters[firstValue];
                char secondCharacter = hexCharacters[secondValue];

                builder.Append("0x");
                builder.Append(firstCharacter);
                builder.Append(secondCharacter);
                builder.Append(' ');
            }

            return builder.ToString().Trim(' ');
        } 
```

然后像这样使用：

```
string test = "1234";
ConvertToHex(Encoding.UTF8.GetBytes(test)); 
```

# ruby - 当 rspec 的语法配置为 only should 时如何编写 expect {}.to raise_error

> ID：15920743
> 
> 赞同：4
> 
> 时间：2013-04-10T08:31:37.160
> 
> 标签：ruby, testing, syntax, rspec

我在 rspec 上有这个配置：

```
config.expect_with :rspec do |c|
  c.syntax = :should
end 
```

它使`expect {}.to raise_error`无效，我怎么能用 should 语法编写这个引发错误的测试？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-10T08:55:22.983

我建议仅在您无法使用最新的 RSpec`expect { code() }.to raise_error`语法时才使用它：

```
lambda { foo( :bad_param ) }.should raise_error 
```

或者

```
lambda { foo( :bad_param ) }.should raise_error( ArgumentError ) 
```

替换`foo( :bad_param )`为您希望断言失败的任何 Ruby 代码，以及`ArgumentError`您希望失败引发的任何异常类。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-10T10:13:51.473

在可以使用`expect`语法的测试中，我更喜欢在自己的`describe`块中定义该测试，将测试内容（即`expect { <this_content> }`）放入[stabby`lambda`](http://blog.dynamicprogrammer.com/2010/09/15/learning-about-the-stabby-lambda-syntax-in-ruby.html)中，将其粘贴到 new`subject`中，然后在块中引用它`it`，如下所示：

```
describe "some test that raises error" do
  let(:bad_statement) { something_that_raises_an_error }
  subject { -> { bad_statement } }
  it { should raise_error }
end 
```

如果您愿意，您也可以完全取消该`let`语句并将其内容直接放在`subject`.

# json-c - json -c json_object_to_json_string 释放内存时

> ID：15920749
> 
> 赞同：4
> 
> 时间：2013-04-10T08:31:45.137
> 
> 标签：json-c

我正在使用 json-c 库将 json-object 发送到客户端。我注意到没有本机函数来释放 json_object_to_json_string 分配的内存。库会自动释放它吗？或者我必须“释放（str）”以避免内存泄漏？我试图阅读它的源代码，但它让我失去知觉......所以有人知道吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-18T09:57:59.777

看来您不需要手动释放它。

我看到这个缓冲区来自 json_object （见这个函数的最后一行）：

```
const char* json_object_to_json_string_ext(struct json_object *jso, int flags)
{
    if (!jso)
        return "null";

    if ((!jso->_pb) && !(jso->_pb = printbuf_new()))
        return NULL;

    printbuf_reset(jso->_pb);

    if(jso->_to_json_string(jso, jso->_pb, 0, flags) < 0)
        return NULL;

    return jso->_pb->buf;
} 
```

删除函数释放这个缓冲区：

```
static void json_object_generic_delete(struct json_object* jso)
{
#ifdef REFCOUNT_DEBUG
  MC_DEBUG("json_object_delete_%s: %p\n",
       json_type_to_name(jso->o_type), jso);
  lh_table_delete(json_object_table, jso);
#endif /* REFCOUNT_DEBUG */
  printbuf_free(jso->_pb);
  free(jso);
} 
```

重要的是要了解此缓冲区仅在对象有效时才有效。如果对象达到 0 引用计数，则字符串也会被释放，如果您在释放后使用它，则结果是不可预测的。

# iphone - 带有 spritebatchnode 的边界框

> ID：15920751
> 
> 赞同：-4
> 
> 时间：2013-04-10T08:31:49.860
> 
> 标签：iphone, ios, objective-c, cocos2d-iphone

当我制作一个精灵批处理节点时，边界框是空的。我如何获得精灵批处理节点的边界框或矩形，以便我可以将其用于碰撞。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:48:12.957

SpriteBatch boundingBox 始终为空。但作为替代方案，您可以使用精灵批处理子项的边界框来检查碰撞

```
CCArray* children = _gameBatch.children;
NSUInteger childrenCount = children.count;
CCSprite* child;
for (NSUInteger pos = 0; pos < childrenCount; pos++) {
    child = [children objectAtIndex:pos];
    CGRect box = child.boundingBox;
} 
```

# magento - 在magento中实现验证码？

> ID：15920753
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:31:50.417
> 
> 标签：magento, captcha, contact

如何在 Magento 网站中实施验证码？我想在联系我们表格中实施验证码（如 2+3=? ）。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:42:23.633

您正在使用哪个版本的 magento。在 Magento 社区版 1.7.0.2 中。在管理部分有验证码选项。

在谷歌上做一些搜索你会找到答案。

# java - Java EE 6 @Inject 懒惰？

> ID：15920758
> 
> 赞同：5
> 
> 时间：2013-04-10T08:32:00.377
> 
> 标签：java, dependency-injection, java-ee-6, cdi, inject

我正在对我们目前正在开发的应用程序进行一些重构和审查。这样做时，我发现注入了更多的 bean，我认为让它们以惰性方式加载会更适合它们的目的。我正在使用 Java EE 6，并且倾向于使用比 EJB 注入更多的 CDI。

所以问题是是否可以懒惰地注入bean，如果可以，你怎么做？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-11T05:22:11.093

怎么用

```
@Inject
private Instance<?> lazyProvider; 
```

?

这允许获取“？”的实例 实际需要时通过

```
lazyProvider.get(); 
```

# internet-explorer - 如果我不使用 www，是什么导致 IE 破坏基本标签？

> ID：15920762
> 
> 赞同：1
> 
> 时间：2013-04-10T08:32:12.817
> 
> 标签：internet-explorer, url-rewriting, base

我正在使用这样的`<base>`标签，目前我的网站位于用于开发目的的目录中，所以

```
<base href="http://domain.com/directory/" /> 
```

现在我的样式表和一切工作正常，它也由 IE9 获取，但我`@import`在我的样式表中使用导入字体真棒样式表，但如果 IE 中的 URL 键入为 www.domain.com/directory，字体会中断，但可以如果 URL 是 domain.com/directory，那就太好了，为什么会这样？font-awesome.min.css 中的字体路径是否丢失？

目录结构：

```
root
  -Directory
    -home.php
    -about.php
    --includes
        embeds.php 
            /* embeds.php is included in all pages, and has all stylesheets with path 
            <link href="stylesheets/default.css" rel="stylesheet" type="text/css" 
            media="screen" /> */
    --stylesheets
         default.css
         font-awesome-min.css /* This is imported in default.css */
    --Fonts
      Has Font Awesome Files 
```

Font Awesome 样式表字体路径

```
@font-face{
  font-family:'FontAwesome';
  src:url('../fonts/fontawesome-webfont.eot?v=3.0.1');
  src:url('../fonts/fontawesome-webfont.eot?#iefix&v=3.0.1') format('embedded-opentype'),
  url('../fonts/fontawesome-webfont.woff?v=3.0.1') format('woff'),
  url('../fonts/fontawesome-webfont.ttf?v=3.0.1') format('truetype');
  font-weight:normal;
  font-style:normal } 
```

只有IE的问题，没有其他浏览器

注意：如果我使用以下条件，它可以正常工作

```
<!--[if IE]>
    <base href="http://www.domain.com/directory/" />
<![endif]--> 
```

# jquery-plugins - Uniform.js - 改变选择菜单的背景

> ID：15920766
> 
> 赞同：0
> 
> 时间：2013-04-10T08:32:32.787
> 
> 标签：jquery-plugins, jquery-uniform

有没有办法用 uniform.js 改变选择菜单的背景？我将身体背景更改为深色，现在所有选择菜单的背景都具有该颜色。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T01:05:08.423

我在 uniform.css 中找到了样式，现在已经修复了。

```
div.selector select {
  opacity: 0;
  filter: alpha(opacity=0);
  -moz-opacity: 0;
  border: none;
  background:  #fafaee;
  position: absolute;
  height: 22px;
  top: 2px;
  left: 0px;
  width: 100%; } 
```

# php - 如何在php中重新格式化日期时间字符串？

> ID：15920768
> 
> 赞同：55
> 
> 时间：2013-04-10T08:32:40.133
> 
> 标签：php, date, sorting, time, date-sorting

我从插件收到日期时间。我把它放到一个变量中：

```
$datetime = "20130409163705"; 
```

这实际上转化为*`yyyymmddHHmmss`*.

我需要将其作为交易时间显示给用户，但它看起来不正确。

我想把它安排成**或**。*`09/04/2013 16:37:05`* ***`09-apr-2013 16:37:05`***

 **如何进行并更改字符串的顺序？

至于现在我可以认为是使用**substr**来分隔日期和时间。我仍然不确定如何添加其他字符并重新排列日期。

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2013-04-10T08:42:41.420

为什么不使用**date()** 就像下面一样，试试这个

```
$t = strtotime('20130409163705');
echo date('d/m/y H:i:s',$t); 
```

并将被输出

```
09/04/13 16:37:05 
```

* * *

## 回答 #2

> 赞同：46
> 
> 时间：2013-04-10T08:41:47.957

对于 PHP 5 >= 5.3.0 [http://www.php.net/manual/en/datetime.createfromformat.php](http://www.php.net/manual/en/datetime.createfromformat.php)

```
$datetime = "20130409163705"; 
$d = DateTime::createFromFormat("YmdHis", $datetime);
echo $d->format("d/m/Y H:i:s"); // or any you want 
```

结果：

```
09/04/2013 16:37:05 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-05-15T08:41:27.553

`date("Y-m-d H:i:s", strtotime("2019-05-13"))`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T08:40:46.793

如果您想使用`substr()`，您可以像这样轻松添加破折号或斜线..

```
$datetime = "20130409163705"; 
$yyyy = substr($datetime,0,4);
$mm = substr($datetime,4,6);
$dd = substr($datetime,6,8);
$hh = substr($datetime,8,10);
$MM = substr($datetime,10,12);
$ss = substr($datetime,12,14);
$dt_formatted = $mm."/".$dd."/".$yyyy." ".$hh.":".$MM.":".$ss; 
```

您可以从那一点找出任何进一步的格式。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-10T08:37:17.307

试试这个

```
$datetime = "20130409163705"; 
print_r(date_parse_from_format("Y-m-d H-i-s", $datetime)); 
```

输出：

```
[year] => 2013
[month] => 4
[day] => 9
[hour] => 16
[minute] => 37
[second] => 5 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-10T08:38:37.200

你可以这样做：

```
<?php
$datetime = "20130409163705"; 
$format = "YmdHis";

$date = date_parse_from_format ($format, $datetime);
print_r ($date);
?> 
```

您可以查看接受[`date_parse_from_format()`](http://php.net/manual/en/function.date-parse-from-format.php)的[格式值。](http://www.php.net/manual/en/datetime.createfromformat.php)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-09-02T08:47:03.767

```
https://en.functions-online.com/date.html?command={"format":"l jS \\of F Y h:i:s A"} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-05-19T06:12:16.990

你有不同的选择。

**使用日期（）：**

```
$format = date('d/m/y H:i:s', 1621371929);
echo $format; 
```

输出是：

```
18/05/21 14:05:29 
```

**使用 date_format()：**

```
$date = date_create(1621371929);
echo date_format($date, 'd/m/y H:i:s'); 
```

输出是：

```
18/05/21 14:05:29 
```

**使用 DateTime::format()：**

```
$date = new DateTime('2021-05-18 14:05:29');
echo $date->format('d/m/y H:i:s'); 
```

输出是：

```
18/05/21 14:05:29 
```

[这篇文章](https://www.polynique.com/coding/format-datetime-in-php/)给大家大致介绍了这三种方法，而[这一种](https://www.polynique.com/coding/how-to-convert-datetime-to-string-in-php/)是深入的**DateTime::format() 。**

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2013-04-10T08:47:07.953

你可以使用`date_parse_from_format()`函数...

```
date_parse_from_format(string $format, string $datetime): array 
```

### 例子

```
<?php
$date = "6.1.2009 13:00+01:00";
print_r(date_parse_from_format("j.n.Y H:iP", $date));
?> 
```

上面的示例将输出：

```
Array
(
    [year] => 2009
    [month] => 1
    [day] => 6
    [hour] => 13
    [minute] => 0
    [second] => 0
    [fraction] => 
    [warning_count] => 0
    [warnings] => Array
        (
        )

    [error_count] => 0
    [errors] => Array
        (
        )

    [is_localtime] => 1
    [zone_type] => 1
    [zone] => 3600
    [is_dst] => 
) 
```

检查[PHP docs](http://php.net/manual/en/function.date-parse-from-format.php) ..你会明白的**

# maven - 在 Gradle 中筛选存储库的依赖项查找

> ID：15920769
> 
> 赞同：0
> 
> 时间：2013-04-10T08:32:41.040
> 
> 标签：maven, dependencies, gradle, repository

我在我的 Gradle 构建中定义了 2 个 Repos：

```
repositories {
  mavenLocal()
  maven { url "http://someurl:8081/nexus/content/repositories/myrepo" }
} 
```

现在我只想通过 mavenLocal 解决特定的工件（我的项目内部 groupId），所有其他依赖项都应该通过 maven repo 查找。

我的想法是做类似的事情

```
mavenLocal{
    addFilter('group') {artifact, file ->
            artifact.group == 'my.group'
        }
} 
```

但它不起作用。有没有办法拦截本地 Maven 存储库的依赖项查找？

注意：我已经看到[如何配置 gradle 以仅对某些依赖组使用本地存储库？](https://stackoverflow.com/questions/7016226/how-to-configure-gradle-to-use-a-local-repository-only-for-certain-dependency-gr)，但提供的解决方案对我来说并不令人满意。

正如这里所讨论的：[http](http://forums.gradle.org/gradle/topics/problem_mixing_gradle_and_maven_repositories) : //forums.gradle.org/gradle/topics/problem_mixing_gradle_and_maven_repositories 我需要 maven 本地 repo 来在 maven 和 gradle 构建之间进行交换

编辑：根据 Peter Niederwisers 的回答，“目前没有更细粒度的方法来控制它。” （当前版本：1.5）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:57:36.290

在所有存储库中，按照存储库声明的顺序搜索依赖项。一旦成功解决了依赖关系，搜索就会停止。目前没有更细粒度的方法来控制它。

如果您绝对需要一种解决方法，您可以尝试提出一个解决方案，该解决方案基于将依赖声明传播到多个项目（可以有不同的存储库）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-06-19T15:13:35.650

[从gradle 5.1](https://docs.gradle.org/5.1/release-notes.html#repository-to-dependency-matching) +开始更新谁在外面：我们现在（正在孵化）[声明一个存储库过滤器](https://docs.gradle.org/5.4.1/userguide/declaring_repositories.html#declaring_a_repository_filter)

```
 repositories {
  mavenLocal{
    content {
       includeGroup "my.group"
    }
  }
} 
```

# c# - 通过避免文本框验证来关闭 C# windows 窗体

> ID：15920770
> 
> 赞同：14
> 
> 时间：2013-04-10T08:32:45.050
> 
> 标签：c#, textbox

这是一个 winform C# 问题。我有一个带有验证事件侦听器的文本框，用于根据正则表达式验证文本框的内容。

验证后，如果输入的值不正确，我将显示消息框并取消事件，以便鼠标光标移回具有不正确值的文本框。

当我从那个文本框移到其他按钮/文本框时，这工作正常。

但是，当我输入不正确的值并关闭表单（使用右上角的关闭按钮）时，它会验证文本框内容并抛出消息框，并且在我取消事件时表单不会关闭。

问题是，当我单击表单右上角的 X 按钮时，我不希望触发验证，因为无论如何我都要关闭表单。我怎样才能做到这一点？

我会尽快发布代码片段。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-10-01T14:32:25.677

要使用验证处理程序，例如下面的“txtIPAddress_Validating()”处理程序，同时能够关闭表单而无需输入有效条目，我执行以下操作：

1) 启动验证处理程序：从您希望为其激活验证的控件的控件属性中，双击此控件事件列表中的“验证”事件。通过单击此控件的属性表的事件（闪电般的）工具栏按钮可以访问控件事件列表。然后，您可以在自动生成的处理程序中输入代码，其名称结合了控件名称和“_Validating”。该处理程序中将某些内容确定为无效的部分可以通过添加“e.Cancel = true”指令来强制输入有效条目。

对于此类验证方法示例，请参阅下面的“txtIPAddress_Validating()”和“txtMaskBits_Validating()”代码。不要被这些特定示例的完整验证机制分心。为了强制验证，您需要在自己的代码中查看和重现，只需在您自己的验证方法的正确位置添加“e.Cancel = true”指令。即当值被识别为无效时。

此时验证应该可以正常工作，但是任何关闭表单的尝试都将触发验证，验证将停止并在能够关闭表单之前坚持输入有效值。这并不总是你想要的。如果不是这样，我将继续以下操作。

2）“取消”按钮也取消（禁用）所有验证：

a) 在表单上放置一个常规的“取消”按钮，该按钮与下面的“btnCancel_Click()”方法相关联。

b) 在常规 'this.close();' 之前 指令，添加'AutoValidate = AutoValidate.Disable;' 操作说明。该指令禁用所有“验证”触发器。请注意，在进行任何验证之前会触发“btnCancel_Click”事件。对于将在验证事件后执行的表单关闭事件并非如此。这就是为什么不能从任何这些表单关闭事件中禁用该验证的原因。

c) 要使此“取消”按钮正常工作，您还需要将此“取消”按钮的“CausesValidation”属性设置为“假”。这是必要的，否则单击此按钮将触发验证，然后可以通过上面的“AutoValidate = AutoValidate.Disable;”禁用验证 操作说明。

此时，您应该可以通过单击“取消”按钮退出，而无需先输入有效值。但是，单击表单窗口右上角的“X”按钮仍将强制验证。

3）使右上角的“X”按钮也取消验证：

这里的挑战是在执行验证之前捕获此类“X”单击事件。任何通过表单关闭处理程序执行此操作的尝试都将不起作用，因为一旦执行到达此类处理程序就为时已晚。但是，可以通过覆盖 WndProc() 方法并测试“m.Msg == 0x10”条件来迅速捕获“X”按钮的单击。当该条件为真时，前面介绍的“AutoValidate = AutoValidate.Disable;” 在这种情况下，指令也可以再次用于禁用整体验证。有关此类方法的代码示例，请参见下面的 WndProc() 方法。您应该能够在表单类中复制和粘贴该方法。

此时，“取消”和“X”按钮都应该取消验证。但是，可用于关闭表单的转义键却没有。当使用表单的“CancelButton”属性将此转义键链接到表单的“取消”按钮时，会激活此类转义键。

4）使转义键也取消验证：

与“X”按钮类似，可以通过覆盖现有方法来捕获转义键。那就是 ProcessDialogKey() 方法。再一次，之前介绍的'AutoValidate = AutoValidate.Disable;' 指令也可用于禁用转义键的整体验证。请参阅下面代码中的“ProcessDialogKey()”覆盖方法，了解如何完成此操作。再次，您应该能够在您自己的表单类中复制和粘贴该方法。

此时你应该完成了！

进一步的考虑：

很高兴注意到以下两种关闭窗口的方法此时也应该可以正常工作。这两种方式是：

*   左上方窗口图标按钮的“关闭”选项。
*   按 Alt+F4 触发与上述“关闭”选项相同的关闭操作。

一旦您引入了上面第 3 点中描述的“X”按钮捕获机制，这两种关闭窗口的方式也开始取消验证。

到目前为止，这对我来说就是这样。希望这会有所帮助！

我的代码示例如下：

```
public partial class frmMyIP : Form
{
    public frmMyIP()
    {
          InitializeComponent();
    }

    // To capture the Upper right "X" click
    protected override void WndProc(ref Message m)
    {
        if (m.Msg == 0x10) // The upper right "X" was clicked
        {
            AutoValidate = AutoValidate.Disable; //Deactivate all validations
        }
        base.WndProc(ref m);
    }

    // To capture the "Esc" key
    protected override bool ProcessDialogKey(Keys keyData)
    {
        if (keyData == Keys.Escape)
        {
            AutoValidate = AutoValidate.Disable;
            btnCancel.PerformClick(); 
            return true;
        }
        return base.ProcessDialogKey(keyData);
    }
    public bool IsValidIP(string ipaddr)
    {
        string pattern = @"^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])"+
        @"(\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}$";

        Regex check = new Regex(pattern);
        bool valid = false;

        if (ipaddr == "")
        {
            valid = false;
        }
        else
        {
            valid = check.IsMatch(ipaddr, 0);
        }

        return valid;
    }

    private void txtIPAddress_Validating(object sender, CancelEventArgs e)
    {
        string address = txtIPAddress.Text;
        if (!IsValidIP(address))
        {
            MessageBox.Show("Invalid IP address!");
            e.Cancel = true;
        }
    }

    private void cmbMaskBits_Validating(object sender, CancelEventArgs e)
    {
        int MaskBitsValue = Convert.ToInt32(cmbMaskBits.Text);

        if (MaskBitsValue<1 || MaskBitsValue>30)
        {
        MessageBox.Show("Please select a 'Mask Bits' value between 1 and 30!");
        e.Cancel = true;
        }
    }

    private void btnCancel_Click(object sender, EventArgs e)
    {
        // Stop the validation of any controls so the form can close.
        // Note: The CausesValidation property of this <Cancel> button
        //       must also be set to false.

        AutoValidate = AutoValidate.Disable;
        this.Close();
    } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-03-09T02:21:59.270

在文本框的验证事件中插入以下内容作为第一行：

```
//Allow the form to be closed
if (this.ActiveControl.Equals(sender))
    return; 
```

由于表单的关闭事件正在触发验证，并且（通常至少）是唯一会触发验证的表单事件，我们可以假设任何触发验证的表单事件都是关闭事件。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-11-28T09:39:18.410

与这里的所有建议相比，实际答案非常简单，这些建议涉及黑客和额外多余的代码来*撤消*某些东西。

“技巧”只是让焦点改变而不是从表单本身的按钮触发验证。

您可以简单地在表单上设置两个属性：

```
MyForm.CausesValidation = false;
MyForm.AutoValidate = AutoValidate.EnableAllowFocusChange; 
```

瞧，当您尝试关闭它时，表单行为正常，并且在其他输入（例如`tab`更改焦点或鼠标单击）后验证仍然有效。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-10T08:36:54.273

```
private void Form1_FormClosing(object sender, FormClosingEventArgs e) {
    // Assume that X has been clicked and act accordingly.
} 
```

创建一个结束事件，然后简单地取消您的验证器。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-10T08:48:19.120

尝试设置`CauseValidation`为假

或在这里查看：[单击表单的取消按钮后如何跳过验证](https://stackoverflow.com/questions/1882523/how-to-skip-validating-after-clicking-on-a-forms-cancel-button)

或者尝试在 formClosing 事件中设置它

```
private void Form1_Closing(object sender, System.ComponentModel.CancelEventArgs e)
{
    // CauseValidation to false  or check 

} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-03-12T04:33:39.657

您需要的是一个类似于下面描述的实现，假设您有一个保存按钮和一个取消按钮的表单：

```
 public Form1()
    {
        // Disable validation in constructor
        textBox.CausesValidation = false;
    }

    private void OnSaveClicked(object sender, EventArgs e)
    {
        textBox.CausesValidation = true;
        if (ValidateChildren())
        {
            //
            // Do saving of the form data or other processing here ....
            //
            Close();
        }
        //
        // Set validation to false, as user may press Cancel next
        //
        textBox.CausesValidation = false;
    }

    private void OnCancelClicked(object sender, EventArgs e)
    {
        Close();
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-11-25T14:02:09.033

在验证检查中检查哪个按钮具有焦点。如果取消按钮（在我的情况下是清除按钮），请覆盖。这是我从单元格验证事件处理程序调用的内部方法。（刚刚意识到这是一个 C# 问题，但你可以翻译）

```
Private Sub validateCell(ByVal tagDesc As String, ByVal userInput As String, ByVal legalRegex As String, ByVal regexDesc As String, ByVal e As DataGridViewCellValidatingEventArgs)
    Dim match As Match = Regex.Match(userInput, legalRegex)
    Dim matches = match.Groups()
    Dim val = match.Value
    If val.Length = 0 Or userInput.Length > val.Length Then
        tagGrid.Rows(e.RowIndex).ErrorText = _
            tagDesc & " must match pattern:  " & regexDesc
        If Me.Cancel_Button.Focused Or Me.clearButton.Focused Then
            e.Cancel = False
            tagGrid.Rows(e.RowIndex).ErrorText = ""
        Else
            e.Cancel = True
            MsgBox(tagDesc & " must match pattern:  " & regexDesc, MsgBoxStyle.Critical)
        End If
    Else
        e.Cancel = False
        tagGrid.Rows(e.RowIndex).ErrorText = ""
    End If
End Sub 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-09-07T00:33:47.697

我来这里是为了寻找一种简单的方法来在 Validating 事件处理程序引发异常、报告异常并需要强制表单关闭时导致表单关闭。在阅读了这个主题和许多其他主题之后，经过一个下午的实验，我有了几个发现，并开发了一个简单的 hack 来强制关闭表单。

不过，首先要做的是；我发现当验证事件调用**this.Close()**时，传递到其**From_Closing**事件过程的**FormClosingEventArgs.Cancel标志设置为****TRUE**，从而有效地导致事件自行取消。相反，正常的 Close 事件会收到设置为**FALSE的****FormClosingEventArgs.Cancel**标志。

 ******由于表单上的**Close**方法不带参数，因此没有直接的方法来强制执行此问题，从而需要进行 hack。本文讨论了一些这样的 hack，但我认为我的实现起来要简单得多。

hack 从一个简单的表单级布尔变量开始。

```
 bool _fExceptionIsFatal = false; 
```

除了定义**Form_Closing**事件处理程序之外，这是表单所需的唯一结构更改。

**Form_Closing**事件很简单。

```
 private void From1_Closing ( object sender , FormClosingEventArgs e )
    {
        if (this.CausesValidation )
        {   // There is no sense repeating this procedure if another routine already did it.
            DisableValidation ( );
        }   // if (this.CausesValidation )          

        if ( _fExceptionIsFatal )
        {   // Cancel False == Allow form to close.
            e.Cancel = false;
        }   // if ( _fExceptionIsFatal )
    }   // From1_Closing 
```

尽管**DisableValidation**是作为当前表单的本地方法实现的，但同样的事情可以通过将**Form**引用传递到库例程中来完成，因为 Form 是 Form，并且它的 Controls 集合是 Controls 集合。不久，我将这样做，同时实现它的逆，再次打开验证。

```
 private void DisableValidation ( )
    {
        foreach ( Control ctrl in this.Controls )
        {
            ctrl.CausesValidation = false;
        }   // foreach ( Control ctrl in this.Controls )

        this.CausesValidation = false;
    }   // DisableValidation 
```

解决方案的第四部分同样简单；每当您想强制关闭表单时，请在调用**this.Close**之前将**_intValueAsInteger**设置为**TRUE**。

 *** * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-10-18T02:07:22.493

将以下代码添加到您的表单中。即使子控件正在验证，您也可以关闭表单。

```
protected override void WndProc(ref Message m)
{
    if (m.Msg == 0x10) // The upper right "X" was clicked
    {
        this.ActiveControl = null;
        this.AutoValidate = AutoValidate.Disable;
    }
    base.WndProc(ref m);
 } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-02-05T05:50:29.930

这个问题已经很老了，但无论如何都想添加答案：

在表单构造函数中：

```
this.FormClosing += Form1_FormClosing; 
```

在关闭事件处理程序中（确保表单的 CausesValidation 设置为 true。您还可以检查文本框的 CausesValidation 属性而不是表单的）：

```
private void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
    if (this.CausesValidation)
    {
        DisableValidation();    
        this.Close();
    }
} 
```

在 DisableValidation 方法中，禁用文本框和表单的验证（我使用的是 2）：

```
private void DisableValidation()
{
    txtbox1.CausesValidation = false;
    txtbox2.CausesValidation = false;
    CausesValidation = false;
} 
```********

# javascript - 导轨方式显示消息

> ID：15920773
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:32:56.790
> 
> 标签：javascript, html, ruby-on-rails

我需要显示用户浏览器已过时的消息并向用户提供消息。问题是在哪里保存用户关闭消息的配置并且不再显示它。

我有关于如何为此使用 cookie 的想法，但我不完全确定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:35:55.920

试试这个小的 jquery 插件。在这里阅读它[https://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

# javascript - 来自 Chrome 时间轴开发工具的图像解码时间

> ID：15920775
> 
> 赞同：8
> 
> 时间：2013-04-10T08:33:03.460
> 
> 标签：javascript, html, css, image

我正在构建一个视差滚动网站（不是我们所有人），除其他外，它会在用户滚动时显示图像。

我通过将图像放在背景中并在顶部放置一个实心填充的 div 来完成“显示”。然后，我根据滚动位置将此 div 从 100% 高度设置为 0% 高度，从而显示背景图像。

我多次做这种事情，不幸的是我变慢了。

使用 Chrome 的内置时间轴功能，我可以看到大部分减速来自图像解码。对于上面的揭示，它每帧重新解码图像，每帧每幅图像需要 22 毫秒。

有谁知道浏览器何时需要进行图像解码，何时不需要？在我看来，如果我调整图像大小显然需要它，但当我只覆盖图像一半时不需要它？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-19T16:25:46.960

我也经常与这个问题作斗争。到目前为止，我还没有发现任何具体的东西，而且我提出的解决方案似乎不适用于所有情况，我也无法确定原因。

反正...

似乎当您在图像顶部为实体元素设置动画时，chrome 会强制对图像进行重新编码。

我尝试了两件事，并且大部分都取得了成功。

1.  如果您添加`-webkit-transform : translate3d(0,0,0)`到覆盖元素，您应该会发现大部分（如果不是全部）图像解码都消失了。

2.  如果将上面的 CSS 添加到覆盖元素本身没有帮助，请尝试将其添加到图像中，或者确实尝试将其添加到两个元素中。

我的理解是使用 3d css 属性将图像推送到自己的复合层中，该复合层由 GPU 而不是浏览器软件渲染器缓存和处理。

90% 的时间我发现上述组合中的一种是成功的。我希望它有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:39:22.390

您如何为属性设置动画？我认为您可能有很多替代方法可以仅对高度进行动画处理（这是对容器的某种调整大小）。

也许只用另一个元素“剪辑”背景图像并不那么密集。我在 StackOverflow 上找到了一个关于它的线程并提出了一些建议。如果您使用 javascript 制作动画，不幸的是，伪元素是没有选择的......

[使用 CSS 剪辑/裁剪背景图像](https://stackoverflow.com/questions/7777159/clip-crop-background-image-with-css)

# javascript - 从 Mozilla 附加组件在终端/命令提示符中执行系统命令

> ID：15920780
> 
> 赞同：1
> 
> 时间：2013-04-10T08:33:24.887
> 
> 标签：javascript, macos, terminal, mozilla, add-on

我正在为 Mozilla 创建一个附加组件。我已经看到，如果我知道文件的路径，我可以通过生成进程来执行它。但是是否可以直接从我的 mozilla 附加组件中执行诸如“ls”、“dir”、“javac”等系统命令？

提前致谢。

编辑：

我找到了一种通过我的 Mozilla Add-on 使用 javascript 在 Windows 和 Linux 中运行 .bat 和 .sh 文件的方法。但是有没有办法在 Mac 中运行 .sh 文件？

下面我提到了一些代码来展示我是如何为 Linux 做的。

```
var exefile = Components.classes["@mozilla.org/file/local;1"]
                 .createInstance(Components.interfaces.nsILocalFile);
    /**
     * Path to terminal file.
     * I need same for Mac.
     */
    exefile.initWithPath("/usr/bin/gnome-terminal"); 

var run = Components.classes['@mozilla.org/process/util;1'].createInstance(Components.interfaces.nsIProcess);
    run.init(exefile);
var parameters = ["-e", path_of_shell_script]; //with arguments
    run.run(false, parameters,parameters.length); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:54:43.217

我不喜欢这些概念。但是这个问题有点耐人寻味。所以，我偷看了它。

好吧，如果您可以调用该文件，那么您可以调用一个批处理文件或 shell 脚本来为您解决问题。

# facebook - Facebook：是否可以深入了解特定 OpenGraph 对象的印象？

> ID：15920782
> 
> 赞同：4
> 
> 时间：2013-04-10T08:33:29.423
> 
> 标签：facebook, facebook-graph-api, facebook-opengraph, facebook-insights

我的应用程序正在为用户生成 OpenGraph 对象，我想为这些用户分析他们的对象（总印象数、点击次数等）。

[我尝试使用图形 API 通过https://graph.facebook.com/APP_ID/insights](https://graph.facebook.com/APP_ID/insights)获得这些见解，但我看不到如何通过特定的 OpenGraph 对象过滤结果。

有可能做我想要的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-02T17:44:32.883

例如，您可以提取单个帖子的洞察数据，如下所示：

首先，获取页面的帖子列表：

```
/<pageId>/posts 
```

然后为每篇文章获取如下所示的见解：

```
/<pageId>_<postId>/insights 
```

注意：最好将帖子见解批量调用到一个请求中。

# ruby-on-rails-3 - 如何从此哈希中删除评论和评论计数

> ID：15920783
> 
> 赞同：0
> 
> 时间：2013-04-10T08:33:30.597
> 
> 标签：ruby-on-rails-3, facebook-opengraph

如何从此哈希中删除评论和评论计数。我想要没有评论的数据。

```
{"id"=>"149536368430_10151515647758431", "from"=>{"category"=>"Product/service", "name"=>"Swiffer", "id"=>"149536368430"}, "to"=>{"data"=>[{"category"=>"Media/news/publishing", "name"=>"Hispanicize", "id"=>"119781464743025"}, {"category"=>"Household supplies", "name"=>"P&G everyday", "id"=>"142671152446083"}]}, "message"=>"Swiffer will be at Hispanicize in Miami Wednesday-Saturday this week. If you are attending, come dust with us at the P&G everyday Lounge and take the Abuelita Test (or Grandmother Test!)", "message_tags"=>{"19"=>[{"id"=>"119781464743025", "name"=>"Hispanicize", "type"=>"page", "offset"=>19, "length"=>11}], "117"=>[{"id"=>"142671152446083", "name"=>"P&G everyday", "type"=>"page", "offset"=>117, "length"=>12}]}, "picture"=>"http://photos-d.ak.fbcdn.net/hphotos-ak-ash3/155668_10151515647728431_245572821_s.png", "link"=>"http://www.facebook.com/photo.php?fbid=10151515647728431&set=a.186758558430.126763.149536368430&type=1&relevant_count=1", "icon"=>"http://static.ak.fbcdn.net/rsrc.php/v2/yz/r/StEh3RhPvjk.gif", "actions"=>[{"name"=>"Comment", "link"=>"http://www.facebook.com/149536368430/posts/10151515647758431"}, {"name"=>"Like", "link"=>"http://www.facebook.com/149536368430/posts/10151515647758431"}], "privacy"=>{"value"=>""}, "type"=>"photo", "status_type"=>"added_photos", "object_id"=>"10151515647728431", "created_time"=>"2013-04-08T18:03:01+0000", "updated_time"=>"2013-04-08T18:22:37+0000", "shares"=>{"count"=>1}, "likes"=>{"data"=>[{"name"=>"Penny Denton", "id"=>"100000188001574"}, {"name"=>"Angie Altman", "id"=>"100002250974930"}, {"name"=>"Jeannise R. Clagett", "id"=>"100002279556425"}, {"name"=>"Andy Tappan", "id"=>"100000485732671"}], "count"=>128}, "comments"=>{"data"=>[{"id"=>"149536368430_10151515647758431_9285816", "from"=>{"name"=>"Melissa Rivera", "id"=>"600150684"}, "message"=>"Thats cute!! Love the idea!! :)", "created_time"=>"April 08 at 06:22PM"}], "count"=>4}, "publishedDate"=>"2013-04-08 18:22:37", "source"=>"fb"} 
```

任何帮助？？？我会非常感谢！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:45:48.493

```
my_hash = {"id"=>"149536368430_10151515647758431", "from"=>{"category"=>"Product/service", "name"=>"Swiffer", "id"=>"149536368430"}, "to"=>{"data"=>[{"category"=>"Media/news/publishing", "name"=>"Hispanicize", "id"=>"119781464743025"}, {"category"=>"Household supplies", "name"=>"P&G everyday", "id"=>"142671152446083"}]}, "message"=>"Swiffer will be at Hispanicize in Miami Wednesday-Saturday this week. If you are attending, come dust with us at the P&G everyday Lounge and take the Abuelita Test (or Grandmother Test!)", "message_tags"=>{"19"=>[{"id"=>"119781464743025", "name"=>"Hispanicize", "type"=>"page", "offset"=>19, "length"=>11}], "117"=>[{"id"=>"142671152446083", "name"=>"P&G everyday", "type"=>"page", "offset"=>117, "length"=>12}]}, "picture"=>"http://photos-d.ak.fbcdn.net/hphotos-ak-ash3/155668_10151515647728431_245572821_s.png", "link"=>"http://www.facebook.com/photo.php?fbid=10151515647728431&set=a.186758558430.126763.149536368430&type=1&relevant_count=1", "icon"=>"http://static.ak.fbcdn.net/rsrc.php/v2/yz/r/StEh3RhPvjk.gif", "actions"=>[{"name"=>"Comment", "link"=>"http://www.facebook.com/149536368430/posts/10151515647758431"}, {"name"=>"Like", "link"=>"http://www.facebook.com/149536368430/posts/10151515647758431"}], "privacy"=>{"value"=>""}, "type"=>"photo", "status_type"=>"added_photos", "object_id"=>"10151515647728431", "created_time"=>"2013-04-08T18:03:01+0000", "updated_time"=>"2013-04-08T18:22:37+0000", "shares"=>{"count"=>1}, "likes"=>{"data"=>[{"name"=>"Penny Denton", "id"=>"100000188001574"}, {"name"=>"Angie Altman", "id"=>"100002250974930"}, {"name"=>"Jeannise R. Clagett", "id"=>"100002279556425"}, {"name"=>"Andy Tappan", "id"=>"100000485732671"}], "count"=>128}, "comments"=>{"data"=>[{"id"=>"149536368430_10151515647758431_9285816", "from"=>{"name"=>"Melissa Rivera", "id"=>"600150684"}, "message"=>"Thats cute!! Love the idea!! :)", "created_time"=>"April 08 at 06:22PM"}], "count"=>4}, "publishedDate"=>"2013-04-08 18:22:37", "source"=>"fb"}

my_hash.reject { |key,value| key == 'comments' } 
```

这将返回一个没有注释的哈希。

# maven - 预热 maven 依赖缓存

> ID：15920785
> 
> 赞同：2
> 
> 时间：2013-04-10T08:33:33.927
> 
> 标签：maven, caching, testing, maven-surefire-plugin

如何预热我的 Maven 测试的依赖项缓存？例如`mvn test -DskipTests`，下载一些依赖项，但不是全部，例如，一些 maven surefire 插件依赖项仅由`mvn test`.

我想创建我的文件系统的快照，以提高我的测试的执行。因此，我想下载所有依赖项，但我想在不执行测试本身的情况下实现这一点。

一些仅在期间`mvn test`而不是通过以下方式下载的依赖项`mvn test -DskipTests`：

```
Downloading: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-junit47/2.14/surefire-junit47-2.14.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-    junit47/2.14/surefire-junit47-2.14.pom (4 KB at 13.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-providers/2.14/surefire-providers-2.14.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire- 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-10T09:12:23.353

依赖项是根据需要解决的：

*   当您开始构建时，应用程序代码的编译时代码将作为第一步下载。

*   之后在各个阶段下载所需的任何插件。这也包括它们的传递依赖。

*   当要编译和执行测试时，会下载测试的依赖项。这些是与`<scope>test</scope>`.

因此，在您处于该`test`阶段时，您必须已经拥有最新的依赖项，除非您将它们缓存在本地并安装并且您处于脱机模式。

要[解决所有依赖项](http://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html)，您可以执行以下操作：

`mvn dependency:go-offline`

要[解析所有插件](http://maven.apache.org/plugins/maven-dependency-plugin/resolve-plugins-mojo.html)，您可以执行以下操作：

`mvn dependency:resolve-plugins`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:51:36.373

maven surefire 插件只为 mvn test 下载，因为这个插件的默认目标执行阶段是测试。

我想如果你想执行surefire插件，你可以指定目标执行阶段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-09T14:25:13.357

我们有以下方法来填充 Jenkins slave 上的 Maven 缓存：

*   做一个完整的构建
*   压缩`~/.m2`文件夹（其中包含缓存的实例）
*   将其放置并提取到您要运行“热身”测试的机器上
*   自动执行上述步骤以使其保持最新和最新。

# html - 如何使用eclipse打开网站

> ID：15920790
> 
> 赞同：0
> 
> 时间：2013-04-10T08:33:47.480
> 
> 标签：html, eclipse

我使用dreamviewer 设计了一个网站。如何在 Eclipse 中将其作为项目打开？

请帮我。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:36:20.847

文件 | 进口 | 文件系统 -> 找到要打开的 html 文件，选择要导入的文件夹，点击完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:44:27.973

如果我知道你的意思，你想将dreamweaver 项目作为项目导入Eclipse（如果我错了请告诉我），大概是为了进行一些编辑。

Eclipse 使用项目文件 (.project) 来定义其项目。Dreamweaver 不制作这些，因此您需要在 Eclipse 中创建一个新项目。完成此操作后，在 Eclipse 左侧的打开项目视图中，删除它在新项目中生成的所有内容（可能是您不关心的 Java 内容）。然后转到文件 > 导入 > 文件系统中的文件，然后从您的网站中选择所有文件。确保他们吃的是链接的，而不是复制的（如果我没记错的话有一个复选框），否则你的原始网站文件不会改变，只有日食的。然后你应该能够编辑你的文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:41:13.663

您可以添加新视图 - 网络浏览器。 `Window -> Show view - > Other`( alt + shift + q, q) 并选择内部网络浏览器。

# android - 使用 Arduino USB 主机进行 Android (ADB) 调试

> ID：15920804
> 
> 赞同：1
> 
> 时间：2013-04-10T08:34:18.967
> 
> 标签：android, arduino, adb, adk

我已经通过 USB 测试了 Arduino ADK 和 Android 通信，但我无法调试 Android 应用程序，因为 USB 连接到 Arduino。

有解决方法吗？

我试图通过无线连接[ADB](http://en.wikipedia.org/wiki/Android_Debug_Bridge)，但带有 Arduino 的 USB 主机不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T21:01:06.923

Wireless ADB is the only way to debug while the USB port is in use. With ADB enabled and connected via USB:

```
adb tcpip 5555
adb connect <Device IP>:5555 
```

to go back to using USB ADB:

```
adb usb 
```

# iphone - 单元格 TextLabel 多行不再工作

> ID：15920808
> 
> 赞同：0
> 
> 时间：2013-04-10T08:34:23.623
> 
> 标签：iphone, ios, objective-c, uitableview

我一年前有一个项目有效。

我已经编码：

```
cell.textLabel.numberOfLines = 0; // Multiline 
```

在 UITableView 单元格中启用多行文本，它之前在 iOS 5 上工作过（自 2012 年初以来未对其进行测试），现在多行不工作，并且在单元格中只显示 2 行文本。

我错过了 iOS 6 中的某些内容吗？是否有某种变化或错误导致了这种情况？

**编辑：**我试过 cell.textLabel.numberOfLines = 5; 出于测试目的，它再次显示 2 行

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:40:12.457

```
cell.textLabel.numberOfLines = 0;
cell.textLabel.lineBreakMode = UILineBreakModeWordWrap; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-04-27T15:16:09.273

UILineBreakModeWordWrap 在 iOS 6 中已弃用。使用 NSLineBreakByWordWrapping

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:47:02.373

写在里面`cellForRowAtIndexPath`

```
UILabel *lbl        = [[UILabel alloc]init];
lbl.text            = @"Your text value";
lbl.numberOfLines = 0;
lbl.lineBreakMode = NSLineBreakByWordWrapping;
//Set frame according to string
CGSize size = [lbl.text sizeWithFont:lbl.font
                   constrainedToSize:CGSizeMake(300, MAXFLOAT)
                       lineBreakMode:UILineBreakModeWordWrap];
[lbl setFrame:CGRectMake(0 , 0 , size.width , size.height)];
[cell.contentView addSubview:lbl]; 
```

你的`heightForRowAtIndexPath`方法应该是这样的

```
-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{

    NSString *value     = [listOfData objectAtIndex:indexPath.row];

    CGSize boundingSize = CGSizeMake(300, CGFLOAT_MAX);
    CGSize stringSize = [value sizeWithFont:[UIFont systemFontOfSize:17.0] constrainedToSize:boundingSize  lineBreakMode:UILineBreakModeWordWrap];

    return ((stringSize.height>44.00)?stringSize.height:44.00);
} 
```

*注意：您需要更改的内容*

1.  这里 300 是 label 的宽度。你可以把你的宽度放在这里
2.  如果动态添加，您也可以更改 X 和 Y。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T08:40:03.590

如果你想`cell`用多个显示你的文本，那么你也可以穿上`UILabel`,`cell.contentView`并给出`labelName.numberOfLines = 0`显示文本锡多行。

**对于 EX：**

```
UILabel *lbltitle = [[UILabel alloc]initWithFrame:CGRectMake(10, 0, 270, 35)];
lbltitle.backgroundColor = [UIColor clearColor];
NSString *originalString = @" Indian version of this popular search engine. Search the whole web or only webpages from India. Interfaces offered in English, Hindi, Bengali, Telugu, Marathi";
lbltitle.text= originalString;
lbltitle.font =[UIFont fontWithName:@"Arial-BoldMT" size:16];
lbltitle.textAlignment = UITextAlignmentLeft;
lbltitle.numberOfLines = 0;
lbltitle.textColor=[UIColor blackColor];
[cell.contentView addSubview:lbltitle]; 
```

上面的代码放在中间的`cellForRowAtIndexPath`方法上

```
if(cell == nil)
{
  cell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];

  // Put here Label Code  
} 
```

Alos 阅读此[如何在 iOS 中创建多行表格单元格？](https://stackoverflow.com/questions/4951731/how-do-i-create-a-multiline-table-cell-in-ios)

# r - 空索引向量的补码又是空索引向量

> ID：15920810
> 
> 赞同：1
> 
> 时间：2013-04-10T08:34:25.623
> 
> 标签：r, vector, indexing, complement

我知道这个问题已经发布，但答案是通过其他方式解决给定问题的技巧，但核心问题仍未得到解答。

问题是这样的。

```
somevector <- 1:5
emptyindeces <- vector()
somevector[-emptyindeces] #returns empty vector 
```

为什么不是原始向量？

这是有原因的还是我理解错了。如果是这样，那么获取索引向量的补码的正确方法是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:56:47.333

`emptyindices`是`logical(0)`（长度 = 0 的逻辑向量）并`-emptyindices`变为`integer(0)`。因此，您正在查询索引长度为 0 的向量。您得到一个长度 = 0 整数向量。

例如，您可能正在寻找`setdiff`：

```
v <- 6:10
idx1 <- c(1,3)
idx2 <- vector()
idx3 <- 1:5

v[setdiff(seq_along(v), idx1)]
# [1] 7 9 10

v[setdiff(seq_along(v), idx2)]
# [1] 6 7 8 9 10

v[setdiff(seq_along(v), idx3)]
# integer(0) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T09:00:26.510

那是因为`-0 = 0`？但是我可以看到如果忽略这一方面，算法会如何遇到问题。所以我建议使用`setdiff`而不是负指数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T09:14:59.760

somevector <- c(1:5,NA,8)
sumvec<-subset(somevector,!is.na(somevector))

不太确定这是否是您想要的，但如果您想要不同的东西，请告诉我，以便我纠正我的答案。如果这是您要寻找的答案，则带有标签的答案是替代答案。

# java - 更新后Jqgrid列扩展

> ID：15920811
> 
> 赞同：3
> 
> 时间：2013-04-10T08:34:31.543
> 
> 标签：java, jqgrid, struts2

我正在为大学开发一个网站。我在 jqGrid 中显示员工详细信息以及**员工姓名、** **地址、** **手机号码**和 **部门**。当我更改任何列时，网格如下所示![更新前](https://i.stack.imgur.com/6w72g.png)，数据库如下所示，**地址**列在数据库和网格中都变得更宽。和 DB 看起来像这样 发生这种情况的任何原因。![添加前（数据库）](https://i.stack.imgur.com/vWPMK.png)**![添加后](https://i.stack.imgur.com/G5a3e.png)![添加后（数据库）](https://i.stack.imgur.com/cPi3q.png)**

 *** * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T10:48:06.103

如果您出于任何原因在数据库中仍然需要空格，您可以随时使用标签 `cssStyle="white-space: nowrap;`上的属性来抑制它们。[`gridColumn`](http://code.google.com/p/struts2-jquery/wiki/GridColumnTag)**

# google-maps - 自定义 Google 地图信息气泡

> ID：15920813
> 
> 赞同：1
> 
> 时间：2013-04-10T08:34:35.640
> 
> 标签：google-maps

再会

我已经阅读了 Stack 上关于如何自定义单击地图标记时弹出的 Google 地图信息气泡的各种帖子。

现在所有这些答案都同意这是最好的方法：

[自定义 Google 地图 InfoBubble](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/examples/example.html)

现在很棒，但是如何将更新内容的示例实际实施到您自己的谷歌地图中？

我的意思是我正在使用嵌入谷歌地图的wordpress短代码，如下所示：

```
[google-map-v3 width="920" height="550" zoom="12" maptype="roadmap" mapalign="center" 
directionhint="false" language="default" poweredby="false" maptypecontrol="true" 
pancontrol="true" zoomcontrol="true" scalecontrol="true" streetviewcontrol="true" 
scrollwheelcontrol="false" draggable="true" tiltfourtyfive="false" 
addmarkermashupbubble="false" addmarkermashupbubble="false" 
addmarkerlist="-25.845002,28.192291{}1-default.png{}Centurion 
Offices|-33.946918,25.562375{}1-default.png{}PE Offices" bubbleautopan="true" 
showbike="false" showtraffic="false" showpanoramio="false"] 
```

# cairo - 如何子类化 Clutter.Actor（涉及 Cairo/Clutter.Canvas）

> ID：15920816
> 
> 赞同：2
> 
> 时间：2013-04-10T08:34:44.883
> 
> 标签：cairo, vala, clutter

谁能帮我让它运行？我的目标是自定义演员。（最近几天我才刚刚开始使用 Vala 进行黑客攻击，而 Clutter 也是一个谜。）

drawme 方法正在运行（当调用 invalidate 时），但似乎没有发生任何绘图（通过 Cairo 上下文）。

ETA：我在构造函数中添加了一行来显示修复 - this.set_size。

```
/*

Working from the sample code at:
https://developer.gnome.org/clutter/stable/ClutterCanvas.html

*/

public class AnActor : Clutter.Actor {

    public Clutter.Canvas canvas;

    public AnActor() {
        canvas = new Clutter.Canvas();
        canvas.set_size(300,300);

        this.set_content( canvas );
        this.set_size(300,300);

        //Connect to the draw signal.
        canvas.draw.connect(drawme);
    }

    private bool drawme( Cairo.Context ctx, int w, int h) {
        stdout.printf("Just to test this ran at all: %d\n", w);

        ctx.scale(w,h);
        ctx.set_source_rgb(0,0,0);

        //Rect doesn't draw.
        //ctx.rectangle(0,0,200,200);
        //ctx.fill();

        //paint doesn't draw.
        ctx.paint();

        return true;
    }
}

int main(string [] args) {
    // Start clutter.
    var result = Clutter.init(ref args);
    if (result != Clutter.InitError.SUCCESS) {
        stderr.printf("Error: %s\n", result.to_string());
        return 1;
    }

    var stage = Clutter.Stage.get_default();
    stage.destroy.connect(Clutter.main_quit);

    //Make my custom Actor:
    var a = new AnActor();

    //This is dodgy:
    stage.add_child(a);

    //This works:
    var r1 = new Clutter.Rectangle();
    r1.width = 50;
    r1.height = 50;
    r1.color = Clutter.Color.from_string("rgb(255, 0, 0)");
    stage.add_child(r1);

    a.canvas.invalidate();

    stage.show_all();

    Clutter.main();
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T10:19:44.183

您还需要为 Actor 指定大小，而不仅仅是 Canvas。

Canvas 的大小与 Canvas 分配到的 Actor 的大小无关，因为您可以将相同的 Canvas 实例分配给多个 Actor。

如果你打电话：

```
a.set_size(300, 300) 
```

你会看到演员和绘图的结果。

Clutter 还附带了各种示例，例如如何使用 Cairo 制作带圆角的矩形：[https](https://git.gnome.org/browse/clutter/tree/examples/rounded-rectangle.c) ://git.gnome.org/browse/clutter/tree/examples/rounded-rectangle.c - 或者如何制作一个简单的时钟：[https ://git.gnome.org/browse/clutter/tree/examples/canvas.c](https://git.gnome.org/browse/clutter/tree/examples/canvas.c)

# yaml - 在 Play 中加载初始测试数据时访问 Ebean 中的别名属性

> ID：15920819
> 
> 赞同：1
> 
> 时间：2013-04-10T08:34:49.857
> 
> 标签：yaml, playframework-2.1, ebean

我在 Play 2.1 中为我的模型加载初始测试数据。

我想访问问题模型的字符串属性“问题”。这是我的 initial-data.yml 文件：

```
- &q1 !!models.Question
    id: 001
    question: Sample question?

- &mem1 !!models.Member
    id: 001
    memberName: Test

!!models.SecurityQuestion
    member: *mem1
    question:  *q1.question
    answer: sample answer 
```

但我得到的只是以下错误：

```
Test models.ModelsTest.fullTest failed: while scanning an alias; expected alphabetic or numeric character, but found . 
```

如何访问别名的属性？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T08:05:37.570

那这个呢：

```
 questions: 

            - !!models.Question
                id: 001
                question: Sample question?

    members: 

            - !!models.Member
                id: 001
                memberName: Test

    security:

            !!models.SecurityQuestion
                member:   !!models.Member
                                id: 001
                question: !!models.Question
                                id: 001
                answer: sample answer 
```

# ruby-on-rails - ActiveRecord 不遵守夏令时 (DST)？

> ID：15920823
> 
> 赞同：1
> 
> 时间：2013-04-10T08:34:56.197
> 
> 标签：ruby-on-rails, datetime, activerecord, timezone, dst

我们在时区`Bern`，即`+0100`. 但由于我们现在处于夏季（我们有夏令时），当前的偏移量是`+0200`. 在我的 rails 应用程序中，我使用应用程序控制器中的包装器设置时区，因为我需要基于用户的时区：

```
around_filter :user_timezone

def user_timezone(&block)
  Time.use_zone(current_timezone, &block)
end 
```

现在奇怪的部分：

```
Time.zone.now                # 2013-04-10 10:32:56 +0200
                             # (correct offset)

SomeArModel.first.created_at # 2013-03-28 17:49:59 +0100
                             # (incorrect offset, no DST) 
```

对此有什么解释吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:48:59.060

那是正常行为，DST 更改发生在`Sun Mar 31 01:00:00 UTC 2013`.

```
t = Time.mktime(2013, 03, 31, 1, 15, 0)

6.times do
  t += 900
  u = Time.at(t.to_i).utc
  puts t.to_s  + " " + u.to_s
end 
```

输出：

```
Sun Mar 31 01:30:00 +0100 2013 Sun Mar 31 00:30:00 UTC 2013
Sun Mar 31 01:45:00 +0100 2013 Sun Mar 31 00:45:00 UTC 2013
Sun Mar 31 03:00:00 +0200 2013 Sun Mar 31 01:00:00 UTC 2013
Sun Mar 31 03:15:00 +0200 2013 Sun Mar 31 01:15:00 UTC 2013
Sun Mar 31 03:30:00 +0200 2013 Sun Mar 31 01:30:00 UTC 2013
Sun Mar 31 03:45:00 +0200 2013 Sun Mar 31 01:45:00 UTC 2013 
```

# c# - 如何中断从数据库中获取数据

> ID：15920824
> 
> 赞同：0
> 
> 时间：2013-04-10T08:34:57.790
> 
> 标签：c#, linq-to-sql

我们在项目中使用 LINQ to SQL。其中一个表是项目中每个操作中使用的“用户”。

最近，据说我们在表中添加了“IsDeleted”列，并在 LINQ to SQL 查询中的每个数据提取中考虑该列。

我们不想在所有查询中添加“WHERE IsDeleted = Fasle”。

在获取数据之后但在进一步发送到项目中的代码之前是否可以“中断”到 LINQ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:41:32.313

这可以通过 C# 解决，但它确实是错误的工作工具。

[在包含此语句的数据库中创建一个视图](http://msdn.microsoft.com/de-de/library/ms187956.aspx)，并且从现在开始只使用该视图。您甚至可以通过不再授予该表的权限来强制执行此操作。

# c# - 在 WF4.0 中有两个工作流，一个是另一个的一部分

> ID：15920825
> 
> 赞同：0
> 
> 时间：2013-04-10T08:35:07.017
> 
> 标签：c#, workflow, workflow-foundation, flowchart

我有一个带有工作流的小型 c# 4.0 项目（VS2010）。

首先，我只有一个工作流程，而且效果很好。

现在我插入了第二个（以后需要更多）。

我现在得到了包含许多活动的 Workflow_One，以及包含其他活动的 Workflow_Two。

Workflow_Two 作为活动插入到 Workflow_One 中。

我的问题是“我不知道如何完成或结束 Workflow_Two，它是 Workflow_One 的一部分或活动。

我试图将 W_One 作为活动插入 W_Two 本身，W_Two 应该在其中结束，但随后 VS2010 崩溃，我无法再打开流程图编辑器......

如何使用流程图编辑器或在代码中结束 W_Two，以再次继续父工作流 W_One？

顺便说一句，在我看来，当您将两个工作流程相互插入时，VS 崩溃并且流程图编辑器无法再打开时，这是一个错误...... :-)

请给我一个提示如何告诉 W_Two 它已经完成了。非常感谢！

弗勒凡兹

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-11T07:36:59.303

谢谢，我发现当我进入一个没有“追随者”的活动时，它会自动更改回父工作流程。我有一些错误从那里立即返回到子工作流程。

最好的问候，Firlefanz

# mysql - 如何将 *sorted* SELECT 结果存储在另一个表中？

> ID：15920829
> 
> 赞同：1
> 
> 时间：2013-04-10T08:35:19.613
> 
> 标签：mysql, sql, innodb

在我的项目中，我经常需要将 SELECT 的结果存储在另一个表中（我们称之为“结果集”）。原因是在 Web 应用程序中动态显示大量行，同时根据需要仅加载小块。

通常，这是通过以下查询完成的：

```
SET @counter := 0;
INSERT INTO resultsetdata
  SELECT "12345", @counter:=@counter+1, a.ID
    FROM sometable a
    JOIN bigtable b
      WHERE (a.foo = b.bar)
    ORDER BY a.whatever DESC; 
```

固定`"12345"`值只是将“结果集”标识为一个整体的值，并针对每个查询进行更改。第二列是递增索引计数器，旨在允许直接访问结果中的特定行，并且该`ID`列引用源数据表中的特定行。

当应用程序需要一定范围的结果时，我只需加入`resultsetdata`源表即可获取详细数据——这与`resultsetdata`上面的查询相反，后者可能需要 2-3 秒才能完成（这解释了为什么我需要这个中间表）。

SELECT 查询本身与此问题无关。

`resultsetdata`具有以下结构：

```
CREATE TABLE `resultsetdata` (
  `ID`      int(11) NOT NULL,
  `ContIdx` int(11) NOT NULL,
  `Value`   int(11) NOT NULL,
  PRIMARY KEY (`ID`,`ContIdx`)
) ENGINE=InnoDB; 
```

这通常就像一个魅力，但最近我们注意到在*某些*情况下结果的 ORDER 是不正确的。这取决于查询本身（*例如，添加`DISTINCT`是一个典型的原因*）、服务器版本和源表中包含的数据，所以我猜可以说使用这种方法**无法预测行顺序**。可能它取决于内部优化。

但是，现在**的问题**是我想不出任何可以给我预期结果的替代解决方案。

由于结果集可以得到几千行，因此将所有数据加载到内存中然后手动`INSERT`读取它是不可行的。

有什么建议么？

* * *

**编辑：**为了进一步澄清，看看这些查询：

```
DROP TABLE IF EXISTS test;
CREATE TABLE test (ID INT NOT NULL, PRIMARY KEY(ID)) ENGINE=InnoDB;
INSERT INTO test (ID) VALUES (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);

SET @counter:=0;
SELECT "12345", @counter:=@counter+1, ID
  FROM test
  ORDER BY ID DESC; 
```

这会产生以下“预期”结果：

```
+-------+----------------------+----+
| 12345 | @counter:=@counter+1 | ID |
+-------+----------------------+----+
| 12345 |                    1 | 10 |
| 12345 |                    2 |  9 |
| 12345 |                    3 |  8 |
| 12345 |                    4 |  7 |
| 12345 |                    5 |  6 |
| 12345 |                    6 |  5 |
| 12345 |                    7 |  4 |
| 12345 |                    8 |  3 |
| 12345 |                    9 |  2 |
| 12345 |                   10 |  1 |
+-------+----------------------+----+
10 rows in set (0.00 sec) 
```

如前所述，在**某些**情况下（我无法在此处提供测试用例，抱歉），这**可能会**导致类似于以下的结果：

```
+-------+----------------------+----+
| 12345 | @counter:=@counter+1 | ID |
+-------+----------------------+----+
| 12345 |                   10 | 10 |
| 12345 |                    9 |  9 |
| 12345 |                    8 |  8 |
| 12345 |                    7 |  7 |
| 12345 |                    6 |  6 |
| 12345 |                    5 |  5 |
| 12345 |                    4 |  4 |
| 12345 |                    3 |  3 |
| 12345 |                    2 |  2 |
| 12345 |                    1 |  1 |
+-------+----------------------+----+ 
```

我并不是说这是一个 MySQL 错误，我完全理解我的方法目前提供了不可预测的结果。不过，我不知道如何调整它以获得可预测的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:46:05.870

这是因为记录插入时的排序顺序与检索它们时的顺序无关。

当您检索它们时，将创建一个查询计划。如果您的 SELECT 语句中未指定 ORDER BY，则顺序将取决于生成的查询计划。这就是为什么它是不可预测的并且添加 DISTINCT 可以改变顺序。

解决方案是存储足够的数据，以便您可以使用 ORDER BY 子句以正确的顺序检索它们。在您的情况下，您已经通过 a.whatever 订购了您的数据。a.whatever 可以存储在结果集数据中吗？如果是这样，那么您可以按照正确的顺序读出记录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:25:16.013

也许您可以将选择包装到另一个选择中：

```
SET @counter := 0;

INSERT INTO resultsetdata
  SELECT *, @counter := @counter + 1
  FROM (
      SELECT "12345", a.ID
      FROM sometable a
      JOIN bigtable  b
      WHERE a.foo = b.bar
      ORDER BY a.whatever DESC
  ) AS tmp 
```

...但是您仍然受制于 MySQL 优化器的愚蠢。

这就是我发现的关于这个主题的全部内容，但我找不到一个硬性保证：

[结果集中行自动编号的纯 SQL 技术](https://stackoverflow.com/questions/202245/pure-sql-technique-for-auto-numbering-rows-in-result-set)

[http://www.xaprb.com/blog/2006/12/02/how-to-number-rows-in-mysql/](http://www.xaprb.com/blog/2006/12/02/how-to-number-rows-in-mysql/)

[http://www.xaprb.com/blog/2005/09/27/simulating-the-sql-row_number-function/](http://www.xaprb.com/blog/2005/09/27/simulating-the-sql-row_number-function/)

# text - 每个文本文件的映射减少实现

> ID：15920830
> 
> 赞同：1
> 
> 时间：2013-04-10T08:35:23.063
> 
> 标签：text, hadoop, mapreduce, hdfs, createfile

我需要计算每个文档每个单词的词频，所以我想为每个文本文件实现 map reduce 函数。**如何为每个文本文件实现 map() 和 reduce()？**

Map-Reduce 中的另一个问题是 Map-Reduce 将 reduce 的输出写入单个文件 /user/output/part-0000 并且**项目需要将每个文件处理后的输出写入不同的文本文件，该怎么做？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:05:17.453

请按照以下步骤操作：

1.  在作业文件中计算输入文件的数量
2.  设置`numreducers`等于输入文件的数量
3.  将数字 0 到 n-1 分配给文件并将此信息传递给分布式缓存
4.  在映射器的方法中获取文件名`setup()`并检索该文件的分配编号并将其分配给某个静态变量
5.  从`Partitioner`返回这个静态变量

Reducer 将发出“n”个文件。

# python - 如何以python方式对幅度和物理单位进行元组？

> ID：15920831
> 
> 赞同：5
> 
> 时间：2013-04-10T08:35:24.470
> 
> 标签：python, tuples

既然[如何解析字符串的大小和物理单位](https://stackoverflow.com/questions/15895819/how-to-parse-and-simplify-a-string-like-3cm-s-4e-4-sqmiles-km-h2-treatin)的问题已经解决了，下一个问题是，如何最好地继续将这两者打包在一起，一方面不会花费太多性能，但另一方面添加了单元验证。

`v = 5 m/s`为了清楚我的意思，以两个速度和为例`u = 10 mph`。上[一个问题](https://stackoverflow.com/q/15895819)已经处理了将所有内容转换为[SI 单位](https://en.wikipedia.org/wiki/International_System_of_Units)的问题（因此您不会因此而导致*另一个*[火星任务崩溃](http://en.wikipedia.org/wiki/Mars_Climate_Orbiter#Cause_of_failure)）。所以在内部会有一个元组，并且输出例程将负责使用首选单元进行输出。虽然在两者上应用单位兼容的操作，例如加法或减法，是有效的，但其他类似的操作是完整的，完全是胡说八道。但这应该如何最好地实施呢？到目前为止我考虑的一些可能性：*`v = (5, m/s)``u = (4.4704, m/s)``v - 1/u`*

 **   不。由于内部仅使用 SI 单位，因此适用哪些单位*可能*很明显。但是如果公式变得更复杂，忽略这些信息很可能会成为错误的来源
*   子类化`tuple`并覆盖所有在单元一致性检查之前的有效操作。听起来很有趣...
*   将值存储为`sympy.core.mul.Mul`s 的大小乘以 a（的有意义函数）`sympy.physics.unit.Unit`，例如`v = 5*unit.m/unit.s`。我不希望它有很好的性能，而且我仍然需要检查操作的结果是否仍然是 form `magnitude * unit`。
*   将 a与已实现元素操作`numpy.array`的附加条目一起使用。`sympy.physics.unit.Unit`这仍然需要事后进行手动单元一致性检查（事实上，例如`m+m=2m`也需要处理......）
*   子类`numpy.array`而不是，在调用*没有*单元的数组上的 -`tuple`运算符之前覆盖在单元一致性检查*之前*的运算符。也许一些魔法可以简化这一点，因为所有有效的操作都已经实现了幅度和单位......`super`*`__getattribute__`*

 *这些解决方案之一是好的/pythonic吗？或者还有什么其他方法？是否已经存在处理此问题的库？

**编辑**请注意，这不应仅限于标量值；向量、矩阵（甚至可能是`sympy.Symbol`s）也应该可以工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:51:51.550

使用[幅度](http://juanreyero.com/open/magnitude/)库：

```
from magnitude import mg

m = mg(5, 'kg')
a = mg(9.82, 'm/s2')
f = m * a
print f, f == mg(49.1, 'N')

u = mg(70, 'km/h')
g = mg(9.82, 'm/s2')
s = (u**2) / (2*g)
print s, s > mg(10, 'm') 
```

当单位不匹配时会发生有趣的事情：

```
>>> m = mg(5, 'kg')
>>> a = mg(9.82, 'm/s')
>>> f = m * a
>>> print f, f == mg(49.1, 'N')
MagnitudeError: Incompatible units in comparison: [1, -2, 0, 1, 0, 0, 0, 0, 0] and [1, -1, 0, 1, 0, 0, 0, 0, 0] 
```

也许不是最好的错误消息，但它有效地防止您以错误的方式处理值。**

# oracle - 运行Oracle语句出现无效字符错误

> ID：15920836
> 
> 赞同：2
> 
> 时间：2013-04-10T08:35:35.930
> 
> 标签：oracle, oracle11g

```
Private Function GetSumm(ByVal strLot As String) As DataSet

Dim connectionString As String = "Data Source = smsdw; User ID = rpt; Password = rpt;"

Dim sqlConnection As OracleClient.OracleConnection = New OracleClient.OracleConnection(connectionString)

Dim queryString As String = "select smsdw.device_def from smsdwSI6;"

Dim sqlCommand As OracleClient.OracleCommand = New OracleClient.OracleCommand(queryString, sqlConnection)
sqlCommand.CommandTimeout = 0

Dim dataAdapter As OracleClient.OracleDataAdapter = New OracleClient.OracleDataAdapter(sqlCommand)
Dim dataSet As DataSet = New DataSet
dataAdapter.Fill(dataSet)
Return dataSet

End Function 
```

给出：

```
Error at dataAdapter.Fill(dataSet)
ORA-00911: invalid character 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:41:17.687

SQL 语句不包含尾随分号。这是 SQL*Plus 和其他客户端中的语句分隔符，而不是语句本身的一部分。（PL/SQL 是另一回事）。

无论如何，只需删除分号：

```
Dim queryString As String = "select smsdw.device_def from smsdwSI6" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-03-09T09:30:33.623

由于从编辑器（在我的情况下为 Excel）复制，我收到了这个错误。 [这篇文章](http://www.wikitechy.com/fix-error/ORA-00911-invalid-character-n)解决了我的问题。

解决方案 - 不要从 Visual Studio 中的任何编辑器复制粘贴。

# javascript - 如何使用正则表达式和 javascript 控制数据

> ID：15920837
> 
> 赞同：0
> 
> 时间：2013-04-10T08:35:36.057
> 
> 标签：javascript, html, regex

我有一个来自数据库的这样的字符串。

```
str="This is first string.Exception  No. 1: Unprotected vertical openings in accordance with 8.2.5.8 shall be permitted.Exception  No. 2:Exception  No. 1 to 8.2.5.6(1) shall not apply to patient sleeping and treatment rooms.This is test ". 
```

我正在使用这个条件来打破新行

```
str = str.replace(/(\s\(\d+\)|exception\s*\:*)/gi, "<br /><br />$1&nbsp"); 
```

但我得到这样的输出：这是第一个字符串

```
Exception  No. 1: Unprotected vertical openings in accordance with 8.2.5.8 shall be permitted.

Exception  No. 2:

Exception  No. 1 to 8.2.5.6(1) shall not apply to patient sleeping and treatment rooms. 
```

但我想得到这样的输出： -

```
Exception  No. 1: Unprotected vertical openings in accordance with 8.2.5.8 shall be permitted.

Exception  No. 2:Exception  No. 1 to 8.2.5.6(1) shall not apply to patient sleeping and treatment rooms. 
```

这是测试。

我怎么能得到这个..提前谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:42:52.507

我建议这个：

```
var str = str.replace(/(Exception\s+No\.\s+\d+\:)/g, "<br /><br />$1&nbsp;"); 
```

用 the 捕捉整个起始表达式可`:`避免捕捉引用。请注意，我删除了`i`标志，它似乎没有用。

你也错过`;`了`&nbsp;`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:55:25.117

```
var str="Exception  No. 1: Unprotected vertical openings in accordance with"+
        " 8.2.5.8 shall be permitted.Exception  No. 2:Exception  No. 1 to 8.2.5.6(1)"+
        " shall not apply to patient sleeping and treatment rooms.This is test ",
    expected = "<br /><br />Exception  No. 1: Unprotected vertical"+
               " openings in accordance with 8.2.5.8 shall be permitted."+
               "<br /><br />Exception  No. 2:Exception  No. 1 to 8.2.5.6(1)"+
               " shall not apply to patient sleeping and treatment rooms."+
               "This is test ";
str.replace(/(Exception\s+No\.\s*\d\:)/gi,"<br /><br />$1")  === expected 
```

# c# - 如何重新绑定已经与数据表绑定的 Listview

> ID：15920842
> 
> 赞同：0
> 
> 时间：2013-04-10T08:35:50.457
> 
> 标签：c#, asp.net

我有`Listview`一个`DataTable`作为一个`DataSource`。现在我想用一个通用列表重新绑定它。之后，`Listview`数据`DataTable`和通用列表数据都将被持久化。可能吗？

With `DataTable`Binding`Listview`有 3 条记录。现在我在外部有一个添加按钮，`Listview`并且在单击添加按钮时在通用列表中添加了一条新记录，然后我暂时想将这条新记录与 `Listview1\. 最后，我在点击 FinalSubmit 时添加了这条新记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:56:26.137

如果我理解正确，您想组合两种不同的数据类型并将它们合并为一种，以便您可以将 ListView 与它绑定？

如果是这样，您必须将两者组合成一个单一类型。您可以使用以下代码将您的通用列表转换为 DataTable（扩展方法）。

```
 /// <summary>
/// Provides extensions to System.Linq object. 
/// </summary>
public static class LinqExtensions
{
    #region Methods

    /// <summary>
    /// Returns the underlying core type for a given type.
    /// </summary>
    /// <param name="typ">Type to evaluate.</param>
    /// <returns>Type.</returns>
    private static Type GetCoreType(Type typ)
    {
        if (typ != null && IsNullable(typ))
        {
            if (!typ.IsValueType)
            {
                return typ;
            }
            else
            {
                return Nullable.GetUnderlyingType(typ);
            }
        }
        else
        {
            return typ;
        }
    }

    /// <summary>
    /// Determines whether the type provided is nullable.
    /// </summary>
    /// <param name="typ">Type to evaluate.</param>
    /// <returns>True if is nullable else false.</returns>
    private static bool IsNullable(Type typ)
    {
        return !typ.IsValueType || (typ.IsGenericType && typ.GetGenericTypeDefinition() == typeof(Nullable<>));
    }

    /// <summary>
    /// Converts a generic list of type T into a data table.
    /// </summary>
    /// <typeparam name="T">The type the list consists of.</typeparam>
    /// <param name="items">Generic list being extended.</param>
    /// <returns>DataTable representing the strongly typed list.</returns>
    public static DataTable ToDataTable<T>(this Collection<T> items)
    {
        if (!object.Equals(items, null))
        {
            using (DataTable data = new DataTable(typeof(T).Name))
            {
                data.Locale = System.Globalization.CultureInfo.CurrentCulture;
                PropertyInfo[] properties = typeof(T).GetProperties(BindingFlags.Public | BindingFlags.Instance);

                foreach (PropertyInfo prop in properties)
                {
                    data.Columns.Add(prop.Name, GetCoreType(prop.PropertyType));
                }
                foreach (T item in items)
                {
                    object[] values = new object[properties.Length];

                    for (int i = 0; i < properties.Length; i++)
                    {
                        values[i] = properties[i].GetValue(item, null);
                    }
                    data.Rows.Add(values);
                }
                return data;
            }
        }
        return null;
    }

    #endregion
} 
```

然后，您可以使用 .Merge() 方法将两个数据表合并在一起。

# css - 如何最好地处理下拉菜单（选择菜单）？

> ID：15920843
> 
> 赞同：0
> 
> 时间：2013-04-10T08:35:53.347
> 
> 标签：css, html, mobile, responsive-design

我想知道截至今天，处理移动网络应用程序选择菜单的最佳方法是什么？我特别在谈论选择器（例如，当您单击选择菜单以选择一个值时会发生什么）

我知道，例如 jquery mobile 显示了一个样式很好的选择菜单替换，但是一旦您单击它，它就会打开本机选择器。或者至少，这是默认行为，您也可以使其打开非本地 jquery 移动控制列表。

但我想知道，当您使用打开本机选择器的默认行为时，这是否会在所有平台上产生理想的结果？是不是某些平台的某些早期版本没有一个很好的可用`<select>`元素选择器？

我看到越来越多的人只是在`<select>`菜单周围使用带有一些样式的原生选择器，我真的很喜欢它。我只是想知道这样做是否已经节省了，或者平台是否会给我们留下不希望的结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:58:16.887

我会推荐本机选择框。该方法已经被浏览器制造商在它碰巧运行的任何设备上实施、测试和批准。一旦你绕过他们的决定，你就靠自己了。

### 然而

如果您对您的用户群非常有信心并且您知道您想要进入的市场，那么通常可以为您的案例、分组滚动、字母跳转等提供更好的可用性。

只要您可以在 99.999% 的用户设备上进行测试，实施您自己的设备应该不会有问题。

# .net - 'System.Collections.Generic.IList' does not contain a definition for 'Add' when using 'dynamic' and 'ExpandoObject' Say that I have a class, Foo, looking something like this: public class Foo : IFoo { public F 问问题 问问题 2013-04-10T08:35:55.867 12399 次 This question shows research effort; it is useful and clear 22 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. Say that I have a class, Foo, looking something like this: public class Foo : IFoo { public Foo() { Bars = new List<dynamic>(); } public IList<dynamic> Bars { get; set; } } The interface IFoo looks like: public interface IFoo { IList<dynamic> Bars { get; set; } } Now, when I do the following: IFoo foo = new Foo(); dynamic a = new System.Dynamic.ExpandoObject(); a.Prop = 10000; dynamic b = new System.Dynamic.ExpandoObject(); b.Prop = "Some Text"; foo.Bars.Add(a); // Throws an 'System.Collections.Generic.IList<object>' does not contain a definition for 'Add' - exception!!!!! foo.Bars.Add(b); // Same here!!!!! What am I doing wrong here????? I'm not sure if this subverts your particular use case, but: Try explicitly casting Bars to System.Collections.IList. ((System.Collections.IList)foo.Bars).Add(a); Source: https://stackoverflow.com/a/9468123/364 Alternatively, just redefine Bars as IList rather than IList<dynamic> in your interface + class. .netexceptiondynamicexpandoobject 4 2 回答 2 This answer is useful 26 This is a known dynamic binding issue. Here are some work arounds. Use ICollection<dynamic> instead: void Main() { IFoo foo = new Foo(); dynamic a = new System.Dynamic.ExpandoObject(); a.Prop = 10000; dynamic b = new System.Dynamic.ExpandoObject(); b.Prop = "Some Text"; foo.Bars.Add(a); foo.Bars.Add(b); } public interface IFoo { ICollection<dynamic> Bars { get; set; } } public class Foo : IFoo { public Foo() { Bars = new List<dynamic>(); } public ICollection<dynamic> Bars { get; set; } } Or straight up List<dynamic>: public interface IFoo { List<dynamic> Bars { get; set; } } public class Foo : IFoo { public Foo() { Bars = new List<dynamic>(); } public List<dynamic> Bars { get; set; } } Or use dynamic foo: void Main() { dynamic foo = new Foo(); dynamic a = new System.Dynamic.ExpandoObject(); a.Prop = 10000; dynamic b = new System.Dynamic.ExpandoObject(); b.Prop = "Some Text"; foo.Bars.Add(a); foo.Bars.Add(b); } Or don't dynamic bind add, by casting to object: void Main() { IFoo foo = new Foo(); dynamic a = new System.Dynamic.ExpandoObject(); a.Prop = 10000; dynamic b = new System.Dynamic.ExpandoObject(); b.Prop = "Some Text"; foo.Bars.Add((object)a); foo.Bars.Add((object)b); } Or be more expressive using a third party framework like my impromptu interface with ActLike & Prototype Builder Syntax (in nuget). using ImprmoptuInterface; using Dynamitey; void Main() { dynamic New = Builder.New<ExpandoObject>(); IFoo foo = Impromptu.ActLike( New.Foo( Bars: New.List( New.Obj(Prop:10000), New.Obj(Prop:"Some Text") ) ) ); } public interface IFoo { IList<dynamic> Bars { get; set; } } 于 2013-04-11T13:08:46.213 回答 This answer is useful 2 我不确定这是否会颠覆您的特定用例，但是： 尝试显式转换Bars为System.Collections.IList. ((System.Collections.IList)foo.Bars).Add(a); 来源：https ://stackoverflow.com/a/9468123/364 或者，只需重新定义Bars为IList而不是IList<dynamic>在您的界面+类中。 于 2013-04-10T08:38:28.863 回答 Related 2 django - Django user.is_authenticated 在视图中有效，但在模板中无效 1 facebook - 在 Unity 中通过 WebView 的 Facebook 提要对话框是空白的 2 javascript - jquery验证表单逻辑 1 python - 为什么递归序列不能正常工作？ 1 kendo-ui - Kendo UI ASP.NET MVC 是开源的吗？ 0 c++ - 在单独的线程中读取和写入 Windows 管道 1 asp.net - JSON + SOAP - 是否需要 DataContract？ 3 javascript - 最后一个孩子点击没有改变 1 actionscript-3 - 如何确定 AS3 中的主要滑动方向（使用 MultiTouch）？ 0 database - 使用 Visual Studio 将图像添加到数据库（访问） Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15920844
> 
> 赞同：22
> 
> 时间：
> 
> 标签：.net, exception, dynamic, expandoobject

Say that I have a class, Foo, looking something like this:

```
public class Foo : IFoo
{
    public Foo()
    {
        Bars = new List<dynamic>();
    }
    public IList<dynamic> Bars { get; set; }
} 
```

The interface IFoo looks like:

```
public interface IFoo
{
    IList<dynamic> Bars { get; set; }
} 
```

Now, when I do the following:

```
IFoo foo = new Foo();
dynamic a = new System.Dynamic.ExpandoObject();
a.Prop = 10000;
dynamic b = new System.Dynamic.ExpandoObject();
b.Prop = "Some Text";
foo.Bars.Add(a); // Throws an 'System.Collections.Generic.IList<object>' does not contain a definition for 'Add' - exception!!!!!
foo.Bars.Add(b); // Same here!!!!! 
```

What am I doing wrong here?????

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-11T13:08:46.213

This is a known dynamic binding [issue](https://web.archive.org/web/20130609133940/http://connect.microsoft.com/VisualStudio/feedback/details/534288/ilist-dynamic-cannot-call-a-method-add-without-casting).

Here are some work arounds.

**Use `ICollection<dynamic>` instead:**

```
void Main()
{
    IFoo foo = new Foo();
    dynamic a = new System.Dynamic.ExpandoObject();
    a.Prop = 10000;
    dynamic b = new System.Dynamic.ExpandoObject();
    b.Prop = "Some Text";
    foo.Bars.Add(a);
    foo.Bars.Add(b); 
}

public interface IFoo
{
    ICollection<dynamic> Bars { get; set; }
}

public class Foo : IFoo
{
    public Foo()
    {
        Bars = new List<dynamic>();
    }

    public ICollection<dynamic> Bars { get; set; }
} 
```

**Or straight up `List<dynamic>`:**

```
public interface IFoo
{
    List<dynamic> Bars { get; set; }
}

public class Foo : IFoo
{
    public Foo()
    {
        Bars = new List<dynamic>();
    }

    public List<dynamic> Bars { get; set; }
} 
```

**Or use `dynamic foo`:**

```
void Main()
{
    dynamic foo = new Foo();
    dynamic a = new System.Dynamic.ExpandoObject();
    a.Prop = 10000;
    dynamic b = new System.Dynamic.ExpandoObject();
    b.Prop = "Some Text";
    foo.Bars.Add(a);
    foo.Bars.Add(b); 
} 
```

**Or don't dynamic bind `add`, by casting to `object`:**

```
void Main()
{
    IFoo foo = new Foo();
    dynamic a = new System.Dynamic.ExpandoObject();
    a.Prop = 10000;
    dynamic b = new System.Dynamic.ExpandoObject();
    b.Prop = "Some Text";
    foo.Bars.Add((object)a); 
    foo.Bars.Add((object)b); 
} 
```

**Or be more expressive using a third party framework like my impromptu interface with [ActLike](https://github.com/ekonbenefits/impromptu-interface/wiki/UsageBasic) & [Prototype Builder Syntax](https://github.com/ekonbenefits/dynamitey/wiki/UsageBuilder) (in nuget).**

```
using ImprmoptuInterface;
using Dynamitey;
void Main()
{
    dynamic New = Builder.New<ExpandoObject>();

    IFoo foo = Impromptu.ActLike(
                   New.Foo(
                       Bars: New.List(
                                 New.Obj(Prop:10000),
                                 New.Obj(Prop:"Some Text")
                             )
                       )
                   );
}

public interface IFoo
{
    IList<dynamic> Bars { get; set; }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:38:28.863

我不确定这是否会颠覆您的特定用例，但是：

尝试显式转换`Bars`为`System.Collections.IList`.

```
((System.Collections.IList)foo.Bars).Add(a); 
```

来源：[https ://stackoverflow.com/a/9468123/364](https://stackoverflow.com/a/9468123/364)

或者，只需重新定义`Bars`为`IList`而不是`IList<dynamic>`在您的界面+类中。

# ios - iOS - 分配的对象的潜在泄漏

> ID：15920846
> 
> 赞同：0
> 
> 时间：2013-04-10T08:35:57.270
> 
> 标签：ios, nsdata, nsmutableurlrequest

我在 postdata（NSData- 下面的代码）错误中出现潜在泄漏。

谁能告诉我如何解决这些问题？我还在我的代码中看到了内存泄漏[使用 XCode 的构建和分析]：

```
NSUserDefaults *defaults   = [NSUserDefaults standardUserDefaults];
NSString *SessionId        = [defaults objectForKey:@"SessionId"];
NSString *versionid       = [appdetails objectForKey:@"versionId"] ;

NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
[request setURL:url];

[request setHTTPMethod:@"POST"]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:41:59.640

除非您使用 ARC，否则您分配（分配）内存的任何内容都需要释放。尝试这个：

代替

```
NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
[request setURL:url]; 
```

和

```
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; 
```

第二段代码创建了一个自动释放的对象，因此您不需要手动释放它。

# c# - 在 C# 中调试时，'~' 是什么意思？

> ID：15920849
> 
> 赞同：2
> 
> 时间：2013-04-10T08:36:04.333
> 
> 标签：c#, debugging, tilde

这是我的方法：

```
public static void send(byte[] packet)
{
    Console.Write(DateTime.Now.ToString() + ": ");
    foreach (byte b in packet)
    {
        Console.Write(b.ToString("X2") + " ");
    }
    Console.WriteLine();
    if (connected)
    {
        try
        {
            connection.Socket.Send(packet);        
        }
        catch (Exception)
        {
            throw new Exception("Can't send packet");
        }
    }        
} 
```

这是来电者

```
public void addPacket(PacketProcessed packet) 
{
    int messageEvent = (int)Event.Type.Normal;
    int speed = 0;
    foreach (MessageProcessed message in packet.messages)
    {
        if ((currentlyEvent & (int)Event.Type.Speed) == (int)Event.Type.Speed)
        {
            if (Math.Abs(message.xSpeed) >= this.speedLimit - this.speedLimit * 0.1)
            {
                messageEvent |= (int)Event.Type.Speed;
                speed = Math.Max(speed, (int)Math.Abs(message.xSpeed));
            }
        }
        else
        {
            if (Math.Abs(message.xSpeed) >= this.speedLimit)
            {
                messageEvent |= (int)Event.Type.Speed;
                speed = Math.Max(speed, (int)Math.Abs(message.xSpeed));
            }
        }
    }
    this.currentlyEvent = messageEvent;
    if (this.currentlyEvent != historyEvent)
    {
        byte[] bb = ProtocolBuilder.buildProtocal(0xE0 + location, currentlyEvent, (byte)speed);
        TCPTalker.send(bb);    // <--- This line call above (send) method.
    }
    historyEvent = currentlyEvent;
    packetStorage.Add(packet);
} 
```

输出看起来像

```
~4/10/2013 3:10:59 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 44 E6 02 42 
~4/10/2013 3:11:00 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E6 00 88 
4/10/2013 3:11:00 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 45 E6 02 41 
~~4/10/2013 3:11:04 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E6 00 88 
~4/10/2013 3:11:05 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3C E3 02 4D 
~4/10/2013 3:11:13 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
4/10/2013 3:11:13 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 41 E2 02 49 
~~4/10/2013 3:11:18 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E3 00 8B 
~4/10/2013 3:11:19 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 40 E6 02 46 
~4/10/2013 3:11:24 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3D E3 02 4C 
~4/10/2013 3:11:25 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E6 00 88 
4/10/2013 3:11:25 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E3 00 8B 
~~4/10/2013 3:11:26 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3D E3 02 4C 
~4/10/2013 3:11:30 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
~4/10/2013 3:11:38 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 42 E6 02 44 
~4/10/2013 3:11:44 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E3 00 8B 
~4/10/2013 3:11:47 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3C E2 02 4E 
~4/10/2013 3:11:50 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E6 00 88 
~4/10/2013 3:11:56 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
4/10/2013 3:11:56 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3D E2 02 4D 
~~4/10/2013 3:11:57 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
~4/10/2013 3:11:59 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 3C E2 02 4E 
~4/10/2013 3:12:01 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
~4/10/2013 3:12:05 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 46 E2 02 44 
~4/10/2013 3:12:12 PM: 7E 00 1A 10 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 46 3A 00 00 00 00 00 E2 00 8C 
~ 
```

我看到“~”出现在我的调试字符串出现之前。有时输出窗口显示 ~ 然后 ~ 然后我的调试字符串看起来像 ~~4/10/2013 3:12:01 PM: 7E 00 ...

'~' 是什么意思？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:52:27.867

它没有任何预定义的含义。我会检查你的其他代码是否调用`Console.Write`；*完全猜测*，也许检查任何终结器 - 也许他们有一些输出，例如：

```
class Foo {
    ~Foo() {
        #if DEBUG
        // show that I got collected; hey I know - let's write to the console...
        // that won't confuse *anyone*
        Console.Write("~");
        #endif
    }
} 
```

但是全局搜索（++ ）`ctrl`应该`shift`可以找到它。`f``~`

# ruby-on-rails - 重新打开 gem 的控制器

> ID：15920860
> 
> 赞同：0
> 
> 时间：2013-04-10T08:36:29.160
> 
> 标签：ruby-on-rails, controller, gem, metaprogramming

我使用[收件箱](https://github.com/evrone/inboxes)gem，我需要将设计方法（ ）添加到gem`:authenticate_user!`的 base_controller 。`inboxes`对不起我的英语不好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T12:42:36.547

我不熟悉收件箱 gem，但如果您无法指定自己的收件箱控制器（例如，通过路由），您可以考虑将 before_filter 添加到您的 ApplicationController：

```
before_filter :authenticate_user! if self.controller_path == 'inboxes/base' 
```

如果您可以指定自己的基本控制器，您将能够像这样扩展 Inboxes::BaseController：

```
class MyInboxesController < Inboxes::BaseController
  # ...
end 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T09:01:22.320

如果您看到 Inboxes::BaseController 控制器，它是从应用程序控制器继承的，因此您可以向应用程序控制器添加方法，然后可以从 Inboxes::BaseController 使用方法。

但是如果你想在 Inboxes::BaseController 中添加方法，那么为它编写一个猴子补丁文件并将文件放在 config/initializer 文件夹中

像：

```
class Inboxes::BaseController
  #
  # Add method here  
  # 
end 
```

# actionscript-3 - AS3 数组“for each ... in”的性能与 for 循环，并按顺序保证？

> ID：15920863
> 
> 赞同：2
> 
> 时间：2013-04-10T08:36:38.307
> 
> 标签：actionscript-3, flash

这个问题真的是双重的：

1.  `for each`遍历 Array 与`for`通过其元素的简单循环在性能方面如何比较？

2.  循环是否保证顺序遍历？以下代码说是：

> ```
> var sample_array:Array = [];
> for (var i:uint = 0; i < 10000; i++) sample_array.push(i);
> i = 0;
> for each(var value:uint in sample_array) {
>   sample_array[i++] = value;
> }
> 
> trace('in order was:', check_in_order(sample_array));
> 
> function check_in_order(array:Array):Boolean
> {
>   for (var i:uint = 0, l:uint = array.length; i < l; ++i) {
>     if (array[i] != i) return false;
>   }
> 
>   return true;
> } 
> ```

但我听说其他（高级）工程师上下发誓，遍历并不总是按升序进行！这是真的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-31T03:49:06.960

正如[Jackson Dunstan](http://jacksondunstan.com/articles/1978)所证明的，他比较了`for`，`for each`并且`for in`使用不同的集合（数组、向量等），性能排名是（从最快到最慢）：

1.  `for`
2.  `for each`
3.  `for in`（极慢）

在所有情况下`for`都是最快的。特别是与数组或向量一起使用时，`for`具有压倒性的性能。这些是所有集合的数字（越小意味着越快）：

![杰克逊·邓斯坦的 Loop Speed Redux](https://i.stack.imgur.com/u29A4.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-12-10T12:22:55.410

这是阿德里安的固定帖子

```
var size:Number = 10000000;
var arr:Array = [];
var time:Number, o:Object, i:int;
// fill container
for (i = 0; i < size; i++) arr[i] = i;

// for i
time = getTimer();
for (i=0; i<arr.length; i++){ arr[i]; }
trace("for test: "+(getTimer()-time)+"ms");

// for i reversed
time = getTimer();
for (i=arr.length; i>0; i--) { arr[i]; }
trace("for reversed test: "+(getTimer()-time)+"ms");

// for each
time = getTimer();
for each(o in arr) { o; }
trace("for each test: "+(getTimer()-time)+"ms");

// Result
for test: 212ms
for reversed test: 26ms
for each test: 103ms 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-10T09:13:06.747

请查看我的帖子[Flex Array Performance: For vs. ForEach](http://www.redcodelabs.com/2009/07/flex-array-performance-for-vs-foreach/)

一些代码

```
var size:Number = 10000000;
var arr:Array = [];
for (var i:int=0; i
var time:Number, o:Object;

// for()
time = getTimer();
for (i=0; i=0; i--) { arr[i]; }
trace("for reversed test: "+(getTimer()-time)+"ms");

// for..in
time = getTimer();
for each(o in arr) { o; }
trace("for each test: "+(getTimer()-time)+"ms"); 
```

结果

```
for test: 124ms
for reversed test: 110ms
for each test: 261ms 
```

# ios - UIBarButton 背景图片显示问题

> ID：15920864
> 
> 赞同：0
> 
> 时间：2013-04-10T08:36:38.883
> 
> 标签：ios, iphone, image, background, uitoolbar

我在 UIViewController 中添加了一个 UIToolBar 并在其中添加了 UIBarButton，还添加了用于在背景中显示图像但不显示图像的代码

这是我的代码

```
UIBarButtonItem *b1=[[UIBarButtonItem alloc]initWithTitle:@"   Home   " style:UIBarButtonItemStyleBordered target:self action:@selector(home: )];
[b1 setImage:[UIImage imageNamed:@"b1image.png"]];

UIBarButtonItem *b3=[[    UIBarButtonItem alloc]initWithTitle:@"   WorkOuts   " style:UIBarButtonItemStyleBordered target:self action:nil];
[b1 setImage:[UIImage imageNamed:@"b3image.png"]];

UIBarButtonItem *b4=[[UIBarButtonItem alloc]initWithTitle:@"   All Exercises  " style:UIBarButtonItemStyleBordered target:self action:@selector(all:)];
[b1 setImage:[UIImage imageNamed:@"b4image.png"]];

NSArray *li=[[NSArray alloc]initWithObjects:b1,b3,b4, nil];

self.toolBar.items=li; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:42:46.583

查看[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIBarButtonItem_Class/Reference/Reference.html)_`UIBarButtonItem`

您可以使用 UIButton 来显示图像：

```
UIImage *image = [UIImage imageNamed:@"b1image"];
UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
[button setFrame:CGRectMake(0.f, 0.f, image.size.width, image.size.height)];
[button setImage:image forState:UIControlStateNormal];
[button addTarget:self action:@selector(home:) forControlEvents:UIControlEventTouchUpInside];

UIBarButtonItem *b1 = [[UIBarButtonItem alloc] initWithCustomView:button]; 
```

这应该可以解决您的问题并正确设置图像。`setImage:`是从另一个类继承的，不会影响`UIBarButtonItem`.

# c++ - C++ QList const 正确性

> ID：15920871
> 
> 赞同：0
> 
> 时间：2013-04-10T08:37:01.127
> 
> 标签：c++, qt, constants, const-correctness, qlist

我想`QList<double>`用`const double`值填写一个。

这些`const double`是由我不会更改的方法返回的。

如何简单地做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:41:11.263

由于正在复制值，因此函数是否返回它们`const`并不重要。

# git - 没有裸存储库的 Git tfs

> ID：15920872
> 
> 赞同：2
> 
> 时间：2013-04-10T08:37:06.547
> 
> 标签：git, git-tfs

我在许多不同的项目中工作，并且想在多台计算机上使用 git-tfs，而无需额外的裸存储库。

我的想法是将 git-tfs 存储库存储在共享中，并将所有推送到工作分支中。将更改合并到 master 并推送到 tfs.

我希望我能做这样的事情：

从 tfs 克隆并创建一个“工作”分支

```
cd centralrepository
git tfs quick-clone --shared http://tfs.. $/tfsfolder .
git branch work 
```

在客户端克隆工作分支

```
git clone --branch work --single-branch path/to/centralrepository 
```

在客户端工作，提交并推送到中心

```
...
git commit -m"my work"
git push 
```

再次在中央，从 tfs 获取更新，在“工作”中应用更改并推回

```
git tfs pull
git rebase master work
git checkout master     // rebase checks out the work branch
git merge work
git tfs checkintool 
```

现在回到客户端，拉动并继续工作

```
git pull 
...
git push 
```

但这不起作用，这对于有经验的 git 用户来说可能很明显

发生的情况是更改在中央和客户端中合并，导致冲突，因为 rebase 将应用更改两次。

是整个想法有缺陷还是我只是错过了一些步骤。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T07:18:00.573

在考虑更多场景时，我发现了错误。

`work`分支当然不应该在中央存储库中重新定位。`work`应该只是合并`master`然后快进。

它应该如下所示：

```
git tfs pull
git merge work
git checkout work
git merge -ff-only master
git checkout master
git tfs checkintool 
```

# c# - SQL IF ELSE 语句

> ID：15920879
> 
> 赞同：0
> 
> 时间：2013-04-10T08:37:17.257
> 
> 标签：c#, winforms, sql-server-2008-r2

我正在向数据库表（成员）`C# WinForms`中的成员创建一个插入查询。我正在使用这段代码：`INSERT`

```
IF NOT EXISTS(SELECT * FROM Members WHERE PersonalId = @PersonalId)
BEGIN
INSERT INTO Members (PersonalId, FirstName, LastName, City, PhoneNumber)
VALUES (@PersonalId, @FirstName, @LastName, @City, @PhoneNumber)
END 
```

（`@PersonalId,`应该有用户输入的值`textbox`？）

这个弹出：

![在此处输入图像描述](https://i.stack.imgur.com/UsnkP.jpg)

有什么帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:41:46.253

这表明您缺少一个参数。你应该有类似的东西：

```
cmd.Parameters.AddWithValue("PersonalId", personalId); 
```

其中（重要的是）`personalId` ***不是`null`***（虽然它可以是`DBNull.Value`）。

> （@PersonalId，应该有用户在文本框中输入的值吗？）

它可能应该，但听起来你没有正确添加它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:39:31.383

为什么要这么做？？而不是这个东西，只需将列定义为`Unique`或者甚至更好地定义为`Primary key`（如果您的表还没有 PK）。
完成后，您的 SQL 服务器会处理它，因为如果该列被标记为唯一或 PK，它将不允许其他项目在该列中具有相同的值。

真的没有必要把这个逻辑放到每个 SQL 插入中......

您的错误说明了一件事-您尚未定义参数@PersonalId，但我认为这是一种不好的方法。

# ios - 通过在方法签名中指定关系来更新 Core Data 关系的 Objective-C 函数

> ID：15920885
> 
> 赞同：0
> 
> 时间：2013-04-10T08:37:39.260
> 
> 标签：ios, objective-c, oop, core-data, polymorphism

我有各种与实体存在一对多关系的核心数据实体`Battery`：

```
Battery-----1-Many-----Comment
Battery-----1-Many-----Measurement
Battery-----1-Many-----Photo 
```

我编写了一个很棒的函数，它连接服务器并从关系中应用更新、添加和删除。在这里，为“评论”关系编码，为简洁起见非常简单地简化：

```
- (void)updateLocalDataWithClass:(Class)entityClass withSet:(NSSet*)existingRelationships {

  NSMutableSet *entitiesToRemove = [NSMutableSet setWithSet:existingRelationships];

  NSArray *serverObjects = [self getServerObjects];
  for (NSMutableDictionary *serverDict in serverObjects) {

      BaseEntityDO *existingEntity = [self getMatchingEntity:serverDict];
      if (existingEntity) {
          [existingEntity updateAttributesWithData:serverDict];
          [entitiesToRemove removeObject:existingEntity];
      } else {
          BaseEntityDO *newEntity = [entityClass createEntity:serverDict];
          [self addCommentsObject:newEntity];
      }
  }

  [self removeBatteryComments:entitiesToRemove];
} 
```

但是，我不想复制粘贴这个函数三次，对每个关系稍作修改。理想情况下，我想“将关系传递给函数”。即告诉函数我们正在处理评论、测量或照片关系 - 并让函数使用正确的“addCommentsObject”或“addMeasurementsObject”或“addPhotosObject”。

我需要替换的两行代码是：

1.  `[self addCommentsObject:newComment];`
2.  `[self removeBatteryComments:entitiesToRemove];`

理论上，我可以用一个 NSSet 替换来替换这两个，但我仍然需要知道我打算替换三个中的*哪一个：*

1.  `self.batteryComments = replacementEntitySet`

谁能指出我正确的方向，这样我就可以优雅地`updateLocalData`为每个关系调用一次我的函数。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:57:54.430

您可以使用键值编码并将关系的名称作为函数的参数：

```
NSString *relationshipName = ...; "comments" or "measurements" or "photos"
NSMutableSet *mutableSet = [self mutableSetValueForKey:relationshipName];
[mutableSet addObject:...];
[mutableSet removeObject:...]; 
```

`mutableSetValueForKey`返回绑定到托管对象的特殊“代理对象” `self`。这意味着如果您修改此集合（添加或删除某些内容），那么您有效地修改了`self`.

# testing - 在 chrome 中出现“与远程浏览器通信时出错”错误后跳过 selenium webdriver 脚本

> ID：15920888
> 
> 赞同：3
> 
> 时间：2013-04-10T08:37:48.323
> 
> 标签：testing, selenium-webdriver

我在 java 中运行一组 400 个 selenium2 脚本（支持 webdriver）。

当我在向网格注册的节点上运行脚本时，有时会**`Error communicating with the remote browser. It may have died`**出现错误。在出现此错误的脚本关闭并且其他脚本开始运行后，由于**`caused by null error`**.

此外，一次只运行一个浏览器实例。我正在使用 chrome 浏览器。

每当我收到**`Error communicating with the remote browser`**错误时，**`caused by null`**就会发生错误。

我试图摆脱[这个解决方案](https://stackoverflow.com/questions/11187172/how-to-close-a-chromedriver-when-running-on-grid)提供的第一个错误。但我仍然得到这两个错误。

有什么帮助吗？

**编辑** 此外，当我一次运行一个脚本时，所有脚本都可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T11:25:57.760

这通常发生在 Webdriver 实例仍然存在并且浏览器意外关闭时。

请提供更多详细信息，例如，

1.  您是按顺序运行脚本还是并行运行脚本。
2.  您是否在每个测试方法之前调用 Webdriver 实例并在每个方法之后关闭。
3.  您使用的是哪个测试框架。
4.  测试方法之间是否存在依赖关系。

根据您在 [如何在 Grid 上运行时关闭 ChromeDriver 的解决方案？](https://stackoverflow.com/questions/11187172/how-to-close-a-chromedriver-when-running-on-grid)听起来不太好，因为`@Aftersuite`在所有测试方法执行完毕后，您将关闭 webdriver 实例。如果浏览器在特定测试方法处意外关闭的任何原因，那么您的其余方法也将由于浏览器不活动而失败。这就是为什么你得到`null`例外。

我的建议是在每个测试方法之前和之后调用和关闭 webdriver 实例。喜欢，

```
@BeforeMethod
public void setUp(){
 WebDriver driver =  new ChromeDriver();
} 
```

并将其关闭，

```
@AfterMethod
public void tearDown(){
 driver.quit();
} 
```

这样，如果浏览器意外关闭的任何原因，只有该特定测试将失败，而不是其余的。

# spotify - Spotify 应用程序：无法加载

> ID：15920891
> 
> 赞同：1
> 
> 时间：2013-04-10T08:37:57.197
> 
> 标签：spotify

我已经搜索了很多关于此的主题，但无法弄清楚。我下载了spotify提供的测试应用，位于：[https ://github.com/spotify/apps-tutorial](https://github.com/spotify/apps-tutorial) ://github.com/spotify/apps-tutorial以创建我的第一个 Spotify 应用程序。

我已经创建了我的文件夹 /[home_directory]/Spotify/app/api-tutorial

里面的文件是：![在此处输入图像描述](https://i.stack.imgur.com/2PV1Y.png)

清单的内容是：

```
{
    "AppDescription": {
        "en": "A tutorial app for Spotify Apps API"
    },
    "AppIcon": {
        "36x18": "tutorial.png"
    },
    "AppName": {
        "en": "Spotify Apps API Tutorial"
    },
    "BundleIdentifier": "api-tutorial",
    "BundleType": "Application",
    "BundleVersion": "0.1",
    "DefaultTabs": [
        {
            "arguments": "index",
            "title": {
                "en": "Home"
            }
        },
        {
            "arguments": "tabs",
            "title": {
                "en": "How to use tabs"
            }
        }
    ],
    "Dependencies": {
      "api": "0.2.3",
      "util": "0.1.0",
      "resources": "0.2.2"
  },
    "RequiredInterface": 1,
    "RequiredPermissions": [
        "http://api.twitter.com",
        "http://o.scdn.co",
        "https://*.googleapis.com",
        "https://*.gstatic.com",
        "https://*.gmaptiles.co.kr",
        "https://earthbuilder.google.com",
        "https://earthbuilder.googleapis.com",
        "https://raw.github.com",
        "http://tile.cloudmade.com",
        "http://*.tile.cloudmade.com",
        "https://graph.facebook.com",
        "https://gist.github.com/",
        "http://search.twitter.com/",
        "http://amsterdam.last.fm",
        "http://ws.audioscrobbler.com/",
        "http://developer.echonest.com"
    ],
    "SupportedLanguages": [
        "en"
    ],
    "VendorIdentifier": "co.mager"
} 
```

我的帐户被激活为开发人员.. 但我无法加载它： ![在此处输入图像描述](https://i.stack.imgur.com/BhgkV.png)

任何关于我做错了什么的指导将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T09:13:06.907

您将应用程序放在文件夹级别太深 - 它应该放在`~/Spotify/api-tutorial`.

# android - 在 android 和 iphone 应用程序中添加 paypal 付款

> ID：15920906
> 
> 赞同：0
> 
> 时间：2013-04-10T08:38:56.547
> 
> 标签：android, iphone, html

我正在为 android 和 iphone 开发一个移动应用程序。对于常用方法，我正在使用 HTML5、JQUERY 和 JSON 开发页面。这些页面将包含在 android 和 iphone 项目中，并将在 webview 控件中打开。一切正常。现在我想在我的应用程序中包含支付网关。我到处都读到 iOS 和 Android 不允许使用除应用内支付之外的任何支付网关销售数字产品。我正在寻找这种情况，因为 iOS 和 android 收取 30% 的交易费用，而 paypal 将只收取 3%。

所以请告知我是否可以使用贝宝而不是应用内付款。

提前致谢

# javascript - javascript 禁用/启用输入文本表单

> ID：15920911
> 
> 赞同：1
> 
> 时间：2013-04-10T08:39:12.683
> 
> 标签：javascript, text, input

我有两个输入文本表单。当我选择第一个输入表单时，第二个应该被禁用，反之亦然。这是html：

我有一段代码在 Chrome 中运行良好，但在 Firefox 中无法运行

```
 <div id='input-container'  style="width:155px; height: 30px;">
    <input onclick="somefunction()"  class="input"  style="width: 155px;" id='myText'  />
</div>
<br />
<div id='input-container1'  style="width:155px; height: 30px;">
    <input onclick="somefunction1()" class="input1" style="width: 155px;" id='myText1'  />
</div> 
```

这是Jquery：

```
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
        // disable all the input boxes
        $(".input").attr("disabled", true);
        $(".input1").attr("disabled", true);
        // add handler to re-enable input boxes on click
        $("div:has(.input)").click(function() {

        $("#myText").removeAttr("disabled");
        $("#myText1").val(" ");
        $("#myText1").attr("disabled",true);
             });

        $("div:has(.input1)").click(function() {
        $("#myText1").removeAttr("disabled");
        $("#myText").val(" ");
        $("#myText").attr("disabled",true);

    });
    });
</script> 
```

有谁知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T05:56:27.770

我想出了如何解决这个问题。感谢以上所有建议。这是解决方案：

**HTML**

```
 <span style="position:relative;">
  <input id="text1" type="text" disabled />
  <div id = "div1" style="position:absolute; left:0; right:0; top:0; bottom:0; cursor: pointer;" ></div>
</span>
<span style="position:relative;">
  <input id="text2" type="text" disabled />
  <div id = "div2" style="position:absolute; left:0; right:0; top:0; bottom:0; cursor: pointer;" ></div>
</span> 
```

**JS：**

```
<script type="text/javascript">
$('#div1').click(function(){
    $('#text1').prop("disabled", false).focus();
    $('#text2').prop("disabled", true);
    $("#text2").val(" ");
});
$('#div2').click(function(){
    $('#text1').prop("disabled", true);
    $('#text2').prop("disabled", false).focus();
    $("#text1").val(" ");
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:42:48.260

**HTML**

```
<div id='input-container' class="input-container"  style="width:155px; height: 30px;">
<input onclick="somefunction()"  class="input"  style="width: 155px;" id='myText'  /> 
```

**JavaScript**

```
var containers = $('.input-container'),
    inputs = $('.input');

// disable
inputs.attr('disabled','disabled');

containers('click',function() {
   inputs.attr('disabled','disabled').val(' ');
   $(this).find('.input').removeAttr('disabled').focus();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-21T14:28:56.033

我已经做了：

```
@{
  object attributes = new { @class = "form-control" };
  object disabledAttributes = new { @class = "form-control", disabled="disabled" };
} 
```

接着：

```
@Html.DropDownListFor(model => model.Vehicle_ModelYear, TabVehiclesModel.YearsDropdown, Model.ModelYearEnabled ? attributes : disabledAttributes) 
```

# c# - 将 12 小时时间字符串转换为 DateTime 对象

> ID：15920915
> 
> 赞同：0
> 
> 时间：2013-04-10T08:39:16.807
> 
> 标签：c#, datetime

所以我正在处理一些原始 XML，它有一个时间元素，其值是这样的

晚上 10:30

或相反

上午 10:30

等等等等

日期估计是今天...

如果我要使用 DateTime.TryParse; 有人愿意帮助制作 FormatProvider 来完成这项工作吗？

如果其他人有更聪明的解决方案，它不一定是 DateTime.TryParse..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:41:00.287

您不需要使用自定义格式提供程序 - 您只需要使用[AM/PM 指示符说明符 ("tt")指定](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#ttSpecifier)[自定义格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)：

```
DateTime result;
if (DateTime.TryParseExact(text, "hh:mmtt", CultureInfo.InvariantCulture,
                           DateTimeStyles.None, out result))
{
    Console.WriteLine("Parsed to: {0}", result);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:43:04.770

[您可以使用DateTime.TryParseExact](http://msdn.microsoft.com/en-us/library/system.datetime.tryparseexact.aspx)尝试此操作，并确保格式`hh`为 12 小时和 24 小时，月和分钟的分钟`HH`相同。[在此处](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)查看更多自定义选项：`MM``mm`

```
string strTime = "10:30AM";
DateTime dtTime;
if(DateTime.TryParseExact(strTime, "hh:mmtt",  
   System.Globalization.CultureInfo.InvariantCulture, 
   System.Globalization.DateTimeStyles.None, out dtTime))
 {
    Console.WriteLine(dtTime);
 } 
```

# python - 如何检查坐标是否在某个区域？

> ID：15920922
> 
> 赞同：1
> 
> 时间：2013-04-10T08:39:35.787
> 
> 标签：python, arrays, loops, coordinates

我需要创建代码，允许您检查您输入的坐标是否位于某个区域内。到目前为止，我有这个：

```
import random
import math
import pylab
import numpy    
pylab.close("all")                                                      #All import statements
x = [(random.randint(-50,50)) for i in range(10)]               #Creating list of x coordinates
y = [(random.randint(-50,50)) for j in range(10)]               #Creating list of y coordinates
array=zip(x,y)                                                          #Creating an array by combining the x and y coordinates
print array             

counter = 0                                 #Start of 1c, resetting counter
for i, j in array:                              #Telling what to inspect
        if 35**2 <= (i**2+j**2) <= 65**2:                   #Conditions for the coordinates to fall within 15 pixels of a circle with radius 50
                counter+= 1                         #If conditions met then add 1 to counter
n=(1.0*counter/7000)*100                            #Calculating percentage of coordinates in the region
print "on average", n, "% of the locations in the array fall in this region"    #Print result, end of part 1c

name = raw_input('type a coordinate location: ')                #Start of 1d, python input result
for i, j in name:
    if i in name in array:   
        if 35**2 <= (i**2+j**2) <= 65**2:
            print "warning, your chosen location falls near the edge of the circle"
    else:
         print "coordinate does not exist" 
```

但目前我收到一条错误消息，说“需要超过 1 个值才能解包”，指的是“name = raw_input('type a coordinate location:')' 行。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:43:42.343

名称是一个字符串。你不能使用

`for i, j in name:`

您需要先将其分解为值，然后创建一个元组。

也许是这样的：

n = (name.split(',')[0],name.split(',')[1]) - 假设坐标由 ',' 分隔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:44:46.940

"raw_input" 返回一个字符串。您需要 split() 它并将数字转换为整数

# html - 需要国家代码的电话输入

> ID：15920926
> 
> 赞同：1
> 
> 时间：2013-04-10T08:39:46.937
> 
> 标签：html, input

是否有一个 HTML 表单输入只接受以国家代码为前缀的电话号码，例如 +44 代表英国，+359 代表保加利亚？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:44:23.137

为什么不将该字段分为 2 个字段：（`country-code`带有前缀的下拉列表，如 +44、+359 等）；和一个常规数字字段，剩余的`phone number`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-21T11:08:49.613

使用这个非常适合这些情况的 jQuery 插件。：[http ://www.jqueryscript.net/form/jQuery-International-Telephone-Input-With-Flags-Dial-Codes.html](http://www.jqueryscript.net/form/jQuery-International-Telephone-Input-With-Flags-Dial-Codes.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:45:01.480

我知道你可以简单地使用 javascript 来完成，但是如果你使用 asp .net 进行开发，你可以使用验证控件。

# facebook-like - 粉丝页面向非粉丝显示质量较低的照片

> ID：15920929
> 
> 赞同：0
> 
> 时间：2013-04-10T08:39:52.673
> 
> 标签：facebook-like, photo, fan-page

我想知道是否有可能实现下一个场景：在摄影粉丝页面上，向所有访问者显示相册，但将相册中的照片以小格式显示给所有非粉丝访问者。访问者喜欢该页面后，以正常尺寸显示照片。

提前感谢您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:51:26.283

这似乎与这个问题非常相似：[Retrieve Facebook users that like a URL / web page via Open Graph](https://stackoverflow.com/questions/4876422/retrieve-facebook-users-that-like-a-url-web-page-via-open-graph)它表明无法检索喜欢的页面。

也许您可以创建一个显示照片的 FB 应用程序，并根据他们是否喜欢您的页面，该应用程序显示高分辨率照片。可以将您的网站嵌入到 FB 应用程序中，您可以使用这种方法来显示您网站的高分辨率或低分辨率版本。

# c# - 虚拟键盘 wpf

> ID：15920930
> 
> 赞同：4
> 
> 时间：2013-04-10T08:39:57.197
> 
> 标签：c#, wpf, xaml, keyboard

我正在开发一个需要虚拟键盘的 WPF 应用程序。此外，该应用程序包含只需要数字键盘的窗口和其他需要孔键盘的窗口（26 个字母 + 10 个数字）。我不知道是否有工具可以做到这一点，或者我必须设计自己的键盘。

完成这项任务的最佳工具是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-10T08:44:21.683

> 完成这项任务的最佳工具是什么？

不知道它是否是最好的工具，但这个工具有[Microsoft 公共许可证 (Ms-PL)](http://www.opensource.org/licenses/ms-pl.html)，应该可以满足您的需求：

[适用于您的 WPF 应用程序的软件虚拟键盘](http://www.codeproject.com/Articles/145579/A-Software-Virtual-Keyboard-for-Your-WPF-Apps)

其他答案建议：具有相同许可证的[WPF 触摸屏键盘，请注意最后一个版本是从 2009 年开始的。](http://wpfkb.codeplex.com/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:50:41.270

我正在使用这个[http://wpfkb.codeplex.com/](http://wpfkb.codeplex.com/)它对我来说很好用。你可以根据需要修改它..

# fonts - PhpStorm 更改项目文件字体

> ID：15920938
> 
> 赞同：4
> 
> 时间：2013-04-10T08:40:12.070
> 
> 标签：fonts, settings, phpstorm

（使用PhpStorm v6.0，最后一个）

在设置`Editor > Colors & Fonts > Font`中，可以轻松更改在编辑器右侧显示的代码的字体。

但我没有在设置中看到更改编辑器左侧字体（大小）的方法 - 名为“项目文件”，其中包含属于项目的文件列表。

我想增加笔记本电脑的字体大小，以便文件列表更清晰。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-20T15:14:35.133

此截屏视频显示了如何解决此问题：

[http://www.screenr.com/ozY7](http://www.screenr.com/ozY7)

在 mac 上： **PhpStorm -> 首选项 -> 外观 -> 覆盖默认字体**

我还使用 PyCharm 成功测试了这个，所以它可能适用于 IntelliJ IDEA、RubyMine 和其他 JetBrains 工具。

# mysql - PDOException 完整性约束违规

> ID：15920939
> 
> 赞同：-3
> 
> 时间：2013-04-10T08:40:12.273
> 
> 标签：mysql, sql, symfony

我正在使用 Symfony2，执行时`doctrine:schema:update`出现以下错误

> [PDOException]
> SQLSTATE[23000]：完整性约束违规：1452 无法添加或更新子行：外键约束失败（`enquete`., CONSTRAINT `FK_880E0D76BF396750`FOREIGN KEY
> ( `id`) REFERENCES `user`( `id`) ON DELETE CASCADE）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-12T11:31:56.247

您是否在该架构更新中添加外键？你的表中有数据吗？该错误意味着您在数据库中有一条 enquete 记录，该记录引用了用户表中不存在的用户。

# e-commerce - 阔叶商务在哪里填写运输信息

> ID：15920942
> 
> 赞同：0
> 
> 时间：2013-04-10T08:40:16.623
> 
> 标签：e-commerce, broadleaf-commerce

我在 Broadleaf Commerce 上玩了几天，发现它是一个很棒的框架。感谢所有建造这个的人。但是，我面临一个问题，正在等待任何人提供帮助。我发现的问题可以通过以下步骤重现：

*   转到用户的“管理地址”页面。
*   删除地址。
*   转到“结帐”页面，您会看到包装箱内仍然提供此类运输信息。

因此，我的问题是我想知道如何填充此类运输信息。我还检查了表“blc_customer_address”，发现代表此类信息的行被删除了，但是**blc_address.is_active**仍然等于**1**，这没有意义。

顺便说一下，我根据Broadleaf2.2，MySql数据库，Apache Tomcat搭建网站。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T19:28:09.387

在 Broadleaf 中，我们将运输信息视为“履行组”。一个订单可以有多个。例如，如果您有 2 件商品添加到订单中，您可以将它们发送到 2 个不同的地址。这看起来像：

```
Order 
    -> FulfillmentGroup
        -> FulfillmentGroupItem
            -> Product A
        -> Address 1 (ship to Chicago, Illinois)
    -> FulfillmentGroup
        -> FulfillmentGroupItem
            -> Product B
        -> Address 2 (ship to Dallas, Texas) 
```

对于客户，您是对的，只有一个名为“CustomerAddress”的关系表，它只是将客户与地址相关联。但是，当您删除某些内容时，这不会删除地址本身（因为如您所见，这也可能与 Fulfillment Group 相关），因此它只是删除了关系。

# android - 是否有可能获得我的 android 应用程序的意图？

> ID：15920946
> 
> 赞同：0
> 
> 时间：2013-04-10T08:40:21.143
> 
> 标签：android, android-intent

我正在寻找一种方法来在我的[`Application`](http://developer.android.com/reference/android/app/Application.html)实现中获得我的 android 应用程序的意图。类[`Application`](http://developer.android.com/reference/android/app/Application.html)本身不`getIntent()`只是[Activity](http://developer.android.com/reference/android/app/Activity.html#getIntent%28%29)似乎有这个能力。

这样做的原因是我有一个具有多个意图的应用程序，可以称为无状态。但我需要用户登录。所以我想检查用户是否登录，如果没有提示登录对话框，而不在每个活动中破解相同的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:10:08.797

拥有一些功能的方法`Activity`是让它们都继承一个公共超类，如下所示：

```
class LoginActivity extends Activity {
    public void onCreate(Bundle savedInstanceState) {
        if (getIntent().hasExtra(...)) {
            doLogin();
        }
    }

class MyActivity extends LoginActivity {
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        // user is now logged in
        setContentView(...);
    }
} 
```

只有你的`LoginActivity`其他活动可以继承，所以不要在你的`AndroidManifest.xml`. 你不能进入`Intent`你的，`Application`因为这样的事情没有意义。`Application`只要您的*进程*正在运行，该对象就存在。在任何给定时间，您的活动可能有零个、一个或多个活动，那么`Intent`它会返回什么？

不过，我必须承认我对启动`Intent`与登录有什么关系感到有些困惑。似乎您需要一个具有会话状态/凭据的全局对象，而不是与意图有关的任何事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-10T08:45:11.160

您需要调用`getIntent()`Launcher 活动

# git - Gitolite 如何检查用户的读/写权限？

> ID：15920952
> 
> 赞同：1
> 
> 时间：2013-04-10T08:40:28.727
> 
> 标签：git, permissions, gitolite

Gitolite 如何检查当前用户是否具有给定存储库的写/读权限？这是由自定义外壳完成的吗？如果是，那么它是如何工作的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:01:43.807

它使用[ssh**强制命令**机制](http://oreilly.com/catalog/sshtdg/chapter/ch08.html#22858)来调用 gitolite-shell 脚本。

Gitolite 通过在 ~git/ssh/authorized_keys 中添加类似于以下内容的行来注册用户：

```
command="/devit_home/users/vobadm/gitpoc/ce7/gitolite/bin/gitolite-shell gitoliteadm",no-port-forwarding,no-X11-for        warding,no-agent-forwarding,no-pty ssh-rsa AAAAB3N 
```

用户 ID 直接从公钥的名称派生而来。

有关更多信息，请参阅“[像 gitolite 这样的程序如何工作？](https://stackoverflow.com/questions/13318715/how-do-programs-like-gitolite-work/13320256#13320256) ”。

读/写访问是在[文件中](http://gitolite.com/gitolite/admin.html#conf)[声明的`gitolite.conf`](http://gitolite.com/gitolite/admin.html#conf)。

> gitolite 的大部分功能都在`conf/gitolite.conf`文件中，该文件指定了 repos 的详细访问控制。
> 除了添加用户之外的一切都发生在这个文件中。

```
 @staff              =   dilbert alice           # line 1
    @projects           =   foo bar                 # line 2

    repo @projects baz                              # line 3
        RW+             =   @staff                  # line 4
        -       master  =   ashok                   # line 5
        RW              =   ashok                   # line 6
        R               =   wally                   # line 7 
```

# asp.net - 输出字符串错误包含使用 VBScript 的特殊字符

> ID：15920957
> 
> 赞同：-1
> 
> 时间：2013-04-10T08:40:55.333
> 
> 标签：asp.net, asp-classic

我有如下代码：

```
Dim title
title ="Parlez-en à votre Responsable formation";
Response.Write(title) 
```

事实上，它表明我`Parlez-en Ã votre Responsable formation`不是我想要的字符串。我也使用这个字符串在 Ms.outlook 中发送邮件，它也显示这样的字符串。请任何人帮助我，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:35:06.517

这是一个 ASP 问题，我会更改标签。您需要设置响应字符集。快乐编码！

```
<!DOCTYPE html>
<html>
<head>
</head>
<body>
<%Response.charset="utf-8"%>
<%
    Dim title
    title ="Parlez-en à votre Responsable formation"
    Response.Write(title)
  %>
</body>
</html> 
```

# javascript - exec 一个作为函数 javascript 的参数

> ID：15920968
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:28.210
> 
> 标签：javascript, function-parameter

我有一个包含很多数组的对象。此数组内容函数参数。

例如：`object = {"elem" : [fn1, fn2], "other-elem" : [fn3, fn4, fn5], ... }`

我想创建一个接收名称的方法，当该名称与对象元素键一起修复时，它必须执行该数组中的所有函数。

我怎样才能执行这个功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T08:45:31.507

使用它来获取您的功能

```
 object["elem"] 
```

在 jQuery 中你可以使用

```
$(object["elem"]).each(function(index,value){
   value();
}); 
```

在本机 JavaScript 中，您可以使用

```
for(var i = 0; i < object["elem"].length; i++)
{
   object["elem"][i]();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:51:21.753

你的 Exec 函数应该是这样的

```
function Exec(ElementName)
{
    if (object[ElementName])
    {
        for (var i = 0; i < object[ElementName].length; i++)
            object[ElementName][i]();
    }
}
Exec('elem'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T08:44:16.373

您只需使用以下命令调用它`()`：

```
var fnarray = object[name];
var i;
for (i = 0; i<fnarray.length; i++) {
  fnarray[i](); // execute the function
} 
```

# sql - 我需要编写查询出现次数

> ID：15920969
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:28.580
> 
> 标签：sql, sql-server-2008, tsql, count

```
file_id   status  date_occure
1         1       2013-04-10:3:26
1         2       2013-04-10:3:27
1         3       2013-04-10:3:28 
```

只有行具有相同的 file_id 并具有 3 个状态：1,2,3 具有相同的日期，一一发生需要计为一个发生

```
-----------------------------------
1         4       2013-04-10:3:26
rows whis another statuses not be counted
----------------------------------
1         1       2013-04-10:3:26
1         3       2013-04-10:3:27
1         2       2013-04-10:3:28       
also rows ordered by date but statuses no (1->2->3) not be counted
----------------------------------- 
```

表包含许多行，结果必须按分组 `file_id`。

谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T09:08:31.940

我认为您的问题源于您想按天分组，但您的专栏`Date_occure`也在存储时间。我不是 100% 确定您需要的确切输出，但这应该可以为您提供所需的一切：

```
WITH CTE AS
(   SELECT  [File_ID], 
            [Status],
            Date_Occure,
            Occurrences = COUNT(CASE WHEN [Status] IN (1, 2, 3) THEN [Status] END) OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE)),
            RowNumber = ROW_NUMBER() OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE) ORDER BY Date_Occure, [Status] DESC)
    FROM    T
)
SELECT  [File_ID], [Status], Date_Occure, Occurrences
FROM    CTE
WHERE   RowNumber = 1; 
```

关键是分区，`CAST(Date_Occure AS DATE)`而不仅仅是`date_occure`.

一个简化的版本是：

```
SELECT  [File_ID], 
        Date_Occure = MIN(Date_Occure),
        Occurrences = COUNT(CASE WHEN [Status] IN (1, 2, 3) THEN [Status] END)
FROM    T
GROUP BY [File_ID], CAST(Date_Occure AS DATE); 
```

**编辑**

我刚刚重新阅读了这个问题，并认为我现在理解了标准。

如果**所有**三个状态（1、2、3）都必须按顺序出现，那么您可以使用它：

```
SELECT  [File_ID],
        Date_Occure = MIN(Date_Occure)
FROM    T
WHERE   NOT EXISTS
        (   SELECT  1
            FROM    T T2
            WHERE   T2.[File_ID] = t.[File_ID]
            AND     CAST(T2.Date_Occure AS DATE) = CAST(T.Date_Occure AS DATE)
            AND     T2.[Status] > T.[Status]
            AND     T2.Date_Occure < T.Date_Occure
        )
GROUP BY [File_ID]
HAVING COUNT(DISTINCT CASE WHEN [Status] IN (1, 2, 3) THEN [Status] END) = 3; 
```

`NOT EXISTS`确保不存在具有乱序状态的记录，并确保`HAVING`所有 3 个状态（1、2、3）都存在。

如果您只想要特定日期的所有状态都是连续的所有文件，那么您可以使用这样的东西按状态顺序排列记录，并按日期顺序排列它们并排除存在不匹配的文件：

```
WITH CTE AS
(   SELECT  [File_ID], 
            [Status],
            Date_Occure,
            DateOrder = ROW_NUMBER() OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE) ORDER BY [Status], Date_Occure ASC),
            StatusOrder = ROW_NUMBER() OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE) ORDER BY Date_Occure, [Status] ASC),
            Occurrences = COUNT(*) OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE)),
            RowNumber = ROW_NUMBER() OVER(PARTITION BY [File_ID], CAST(Date_Occure AS DATE) ORDER BY Date_Occure, [Status] DESC)
    FROM    T
)
SELECT  [File_ID], [Status], Date_Occure, Occurrences
FROM    CTE
WHERE   RowNumber = 1
AND     NOT EXISTS
        (   SELECT  1
            FROM    CTE T2
            WHERE   T2.[File_ID] = CTE.[File_ID]
            AND     CAST(T2.Date_Occure AS DATE) = CAST(CTE.Date_Occure AS DATE)
            AND     T2.DateOrder != T2.StatusOrder
        ); 
```

**[SQL Fiddle 上的示例](http://www.sqlfiddle.com/#!3/e1e79/1)**

# jquery - ajaxSucceed 事件

> ID：15920970
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:29.273
> 
> 标签：jquery, ajax, asp.net-mvc

我想编写任何 ajax 完成时发生的事件（在 jquery 中）。我需要这个，因为我使用表单身份验证，并且当用户注销并进行 ajax 调用时 - div（不是所有页面）重新加载登录页面。我想改为重定向。那么如何才能成功调用 ajax 请求呢？我尝试了什么：

```
$(document).ajaxComplete(function (event,xhr,data) {
        var url = data.url;
        if (xhr.status == 302) {
            window.location = '~' + url;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:48:54.907

透明重定向是 XMLHttpRequest 规范的一部分。您无法阻止重定向。

如果服务器发送重定向（301、302），则浏览器透明地跟随重定向。对第二个请求（例如 200）的响应是向您的应用程序公开的内容。

# java - 带有字符串限制的 WSDL 生成

> ID：15920971
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:30.063
> 
> 标签：java, wsdl

我在这样的类中有一个 Getter/Setter 方法：

```
 public class milestone { 
     String milestoneType; 
     public String getMilestoneType() 
       { 
             return milestoneType; 
       } 
     public void setMilestoneType(String milestoneType)  
       {     
            this.milestoneType = milestoneType; 
       }
    } 
```

并在 weblogic 服务器的帮助下生成 WSDL，例如：

```
 <xs:complexType name="MileStone">
   <xs:sequence>
   <xs:element minOccurs="1" name="MilestoneType" nillable="true" type="xs:string" /> 
    </xs:sequence>
  </xs:complexType> 
```

现在我需要基于两个值来限制里程碑类型。我的意思是这将只允许 2 个值，需要限制除这 2 个值之外的值。

如何为此更改 getter/setter 类？请帮忙。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:43:25.810

使用`enum`仅具有您要允许的两个值的 an，如下所示：

```
public enum MilestoneType {
    PRECOMMIT,
    POSTCOMMIT
} 
```

接下来，您需要更改您的`Milestone`类以使用此类型而不是`String`，如下所示：

```
public class Milestone {
    private MilestoneType milestoneType; 
    public MilestoneType getMilestoneType()  { 
        return milestoneType; 
    } 
    public void setMilestoneType(MilestoneType milestoneType) {     
        this.milestoneType = milestoneType; 
    }
} 
```

# mongodb - morphia-1.2.9a ：由异常 InstantiationError: play.data.binding.BeanWrapper 引起的意外错误

> ID：15920972
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:31.877
> 
> 标签：mongodb, playframework

游戏框架+morphia

请求 POST /accountcontroller/signup 的内部服务器错误 (500)

```
Oops: InstantiationError
An unexpected error occured caused by exception InstantiationError: play.data.binding.BeanWrapper

play.exceptions.UnexpectedException: Unexpected Error
        at play.mvc.ActionInvoker.invoke(ActionInvoker.java:264)
        at Invocation.HTTP Request(Play!)
Caused by: java.lang.InstantiationError: play.data.binding.BeanWrapper
        at play.modules.morphia.Model.edit(Model.java:101)
        at play.modules.morphia.Model.create(Model.java:87)
        at play.modules.morphia.Model.create(Model.java:79)
        at play.modules.morphia.MorphiaPlugin.bind(MorphiaPlugin.java:727)
        at play.PlayPlugin.bind(PlayPlugin.java:70)
        at play.plugins.PluginCollection.bind(PluginCollection.java:579)
        at play.data.binding.Binder.bind(Binder.java:103)
        at play.mvc.ActionInvoker.getActionMethodArgs(ActionInvoker.java:651)
        at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
        at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
        at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)`enter code here`
        ... 1 more`enter code here` 
```

# java - 在 java 中使用 REST API 有哪些不同的用例

> ID：15920979
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:42.087
> 
> 标签：java, spring, rest

我有一个用例，我需要使用rest api调用其他系统来获取一些数据，据我了解，我已经创建了一个请求流和需要的东西。但只是不确定这是否是正确的方法。

我的 UI 有一些输入参数，我的 rest api 将根据这些参数从外部系统获取数据。

UI --> ManagedBean(映射到 UI)-->Service Layer-->Business Layer-->Rest API Layer(我格式化我的rest url，以及这里需要的其他输入)--> 调用MyCustomController(使用SPring MVC实现) ，这会将 JSON 格式的数据返回给业务层。

所以每当我调用 RestTemplate.executeService() --> 我调用控制器来拦截这个传入的请求，它会从外部系统获取数据。

这是正确的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T09:27:06.707

如果您想向消费者公开服务，那么提供 Web 服务是更好的选择。

多种方式开发 Web 服务 SOAP、REST 等。

与 SOAP 相比，我发现 REST 重量轻、直观、易于实现。

在您的情况下，您将 JSON 格式的数据用于业务层。我相信您会将其编组到 JAVA 对象中，以便于使用和良好实践。

# c++ - c++中fstream指针的映射

> ID：15920984
> 
> 赞同：0
> 
> 时间：2013-04-10T08:41:53.503
> 
> 标签：c++, map, iostream

我想要一张 (int, fstream*) 的地图并使用一些函数对其进行修改。我可以在 main 中轻松修改它，但是如果我想通过将指针发送到 fstream 来使用它，我得到了这个编译器错误：error C2440: '=' : cannot convert from 'std::fstream' to 'std::basic_fstream <_Elem,_Traits> *'

```
map<int, fstream*> m;
void func(fstream* f){
m[0] = *f; //compile error
}

int main( int argc, const char* argv[] )
{
fstream f("hi.txt");
func(&f); //error
m[0] = &f;   //work fine
f.close();
system("pause");
} 
```

我怎样才能改变它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:46:21.963

不要取消引用函数内的指针。

利用

```
void func(fstream* f){
  m[0] = f; //no more compile errors
} 
```

# c# - 通用处理程序参数大小限制？

> ID：15920985
> 
> 赞同：2
> 
> 时间：2013-04-10T08:41:54.550
> 
> 标签：c#, javascript, asp.net, post, ashx

我有一些 JavaScript 代码会生成一个很长的脚本，然后将其发送回服务器到用于创建 csv 的通用处理程序。

我用于发送数据的 JavaScript 代码是：

```
function postwith(to, p) {
var myForm = document.createElement("form");
myForm.method = "post";
myForm.action = to;
for (var k in p) {
    var myInput = document.createElement("input");
    myInput.setAttribute("name", k);
    myInput.setAttribute("value", p[k]);
    console.log(k+":"+p[k]);
    myForm.appendChild(myInput);
}
document.body.appendChild(myForm);
myForm.submit();
document.body.removeChild(myForm); 
```

}

在我的控制台中，我可以看到整个字符串已添加到表单 ("console.log(k+':'+p[k]);" 因此客户端似乎工作正常。

在我检查请求/响应的网络视图中，我可以看到“内容”（表单数据属性的名称）不完整 - 它在中间被切断。

服务器端非常简单 - 将内容作为 csv 发回：

```
public class Excel : IHttpHandler {

public void ProcessRequest (HttpContext context) {

    context.Response.ContentType = "text/csv";
    context.Response.AddHeader("Content-Disposition", "attachment; filename=" + context.Request["Report"] +System.DateTime.Now.Ticks+ ".csv");
    string content = context.Request["Content"];
    content = content.Replace(";", System.Environment.NewLine);
    System.Text.UTF8Encoding uc = new System.Text.UTF8Encoding(true);
    context.Response.Output.WriteLine(content);
    context.Response.End(); 
}

public bool IsReusable {
    get {
        return false;
    }
} 
```

}

我的猜测是服务器需要以某种方式配置以允许更大的帖子......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:49:13.150

您可以在 web.config 中设置允许的最大内容长度。默认值为 30,000,000 字节：

```
<system.webServer>
  <security>
    <requestFiltering>
      <requestLimits maxAllowedContentLength="[maxLengthInBytes]" />
    </requestFiltering>
  </security>
  ...
</system.webServer> 
```

# html - 像背景一样重复img

> ID：15920987
> 
> 赞同：2
> 
> 时间：2013-04-10T08:42:00.243
> 
> 标签：html, css

我想做的事情看起来很简单，但我想它比我想的要难得多。

因为默认情况下不会打印背景图像（我的意思是纸上的打印机），我想让用户打印他们选择的背景我想使用图像。

所以我有一个 800 x 400 的 div 和一个 1x1 的图像，它完全是一种颜色，可以说是红色。

我希望重复该图像以填充 div 。

图像尺寸不同，我的图像具有 50x50 的图案和重复图案。

所以拉伸图像无济于事。

那么我怎样才能像背景一样重复图像呢？

请首先尝试您的解决方案，因为打印背景图像取决于您使用的浏览器，但您必须假设没有打印背景（颜色和图像）！

**所以我不想使用任何类型的背景，我只想重复图像，让它像背景一样而不是背景！**

即使可以打印背景，我仍然想知道如何使 img 重复。

**例子**

[http://jsfiddle.net/aAsjv/](http://jsfiddle.net/aAsjv/)

左边div的img需要横向纵向重复，所以填满了整个

```
 div #board. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T12:42:01.367

只需单击右侧的另一个模式，看看会发生什么。

用 jQuery 做的（所以不是做这样的事情的最佳方法）但是它正在工作，如果你理解 jQuery（我猜你知道）它是非常简单的代码来理解

```
$(function(){
   repeat_bg();    
    $("#imgs img").click(function(){
        var src = $(this).attr('src');
        $("div#hidden_bg img#dummy").attr("src",src);
        repeat_bg();            
    });
});

function repeat_bg()
{
    var board_width = $('#board').width();
    var board_height = $('#board').height();
    var bg_width = $('#dummy').width();
    var bg_height = $('#dummy').height();

    var count_horizontal = board_width / bg_width;
    count_horizontal= Math.ceil(count_horizontal);

    var count_vertical = board_height / bg_height;
    count_vertical= Math.ceil(count_vertical);
    $('div#background_hack').html("");
    $('div#background_hack').css('width' ,board_width+bg_width);

    /*
    * repeat
    * alert("horizontal we need: "+count_horizontal + " images to fill up");
    * alert("vertical we need: "+count_vertical + " images to fill up");
    * alert("totaal needed images = "+count_horizontal + " * "+ count_vertical + "= "+count_horizontal * count_vertical);
    */

    for (var i=0;i<count_horizontal * count_vertical;i++)
    { 
       var clone = $('#dummy').clone();
        $('div#background_hack').append(clone);
    }    
} 
```

[链接到 jsFiddle](http://jsfiddle.net/Diabl0570/M6TyF/11/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T11:31:36.750

`.clone()`您可以在 JQuery 中使用复制元素。例如：

## HTML：

```
<div id="wrapper">
    <img class="repeat" src="#" />
</div> 
```

## CSS：

```
img.repeat{ float:left; }
#wrapper{ width: 800px; height: 400px; } 
```

## JS：

```
$(document).ready(function(){
    $('img.repeat').clone().appendTo('#wrapper');// repeat as many times as neccesary
}); 
```

使用 div 的示例：http: [//jsfiddle.net/hDyam/](http://jsfiddle.net/hDyam/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T09:00:51.520

我刚刚读到：“如果您打算让人们打印您的页面并且您不希望默认包含图像，请使用背景图像。”

因此，如果您希望用户也打印图像，则必须使用 IMG 标签而不是 background-image。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-10T09:31:13.277

我可能会创建一些 javascript 来创建类似这样的东西（给你一个想法）：

```
<style>
#bgcontainer
{
  width: 180;
  height: 180;
  overflow: hidden;
}
#innerbgcontainer
{
  width: 2000;
  height: 2000;
}
</style>

<div id="bgcontainer">
  <div id="innerbgcontainer">
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <br />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <br />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <br />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
  <img src="https://www.google.nl/images/srpr/logo4w.png" width=50 height=50 />
</div></div> 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-04-10T08:54:58.360

您必须为您的 div 设置一个 ID，并且在 CSS 中您必须使用

```
background-repeat:repeat; 
```

在这里阅读更多

[http://www.w3schools.com/cssref/pr_background-repeat.asp](http://www.w3schools.com/cssref/pr_background-repeat.asp)

# python - 如何在unix中将jpeg图像插入到excel表中

> ID：15920989
> 
> 赞同：3
> 
> 时间：2013-04-10T08:42:05.893
> 
> 标签：python, excel, unix, xlwt

我可以使用以下代码在 python 中使用模块`insert_bitmap`命令插入 bmp 图像：`xlwt`

```
import xlwt    
from PIL import Image   
book = xlwt.Workbook()
sheet3 = book.add_sheet('diagrams') 
Image.open('violations.png').convert("RGB").save('violations.bmp')    
sheet3.insert_bitmap('violations.bmp',5,13)
book.save('simple.xls') 
```

这是将 bmp 图像正确插入工作表，但我担心 bmp 图像大约为 3MB，我无法在没有明显质量损失的情况下对其进行压缩。

有没有办法将 jpeg 图像插入到 unix 的工作表中？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-10T10:08:20.627

从代码来看，xlwt 似乎只支持 24 位位图图像。

XlsxWriter [Python](https://xlsxwriter.readthedocs.org/en/latest/index.html)模块可以插入 PNG 图像（或 JPEG 或位图）。这是一个例子：

```
from xlsxwriter.workbook import Workbook

# Create an new Excel file and add a worksheet.
workbook = Workbook('images.xlsx')
worksheet = workbook.add_worksheet()

# Widen the first column to make the text clearer.
worksheet.set_column('A:A', 30)

# Insert an image.
worksheet.write('A2', 'Insert an image in a cell:')
worksheet.insert_image('B2', 'python.png')

workbook.close() 
```

输出：

![XlsxWriter 图像示例](https://i.stack.imgur.com/zavfS.png)

有关详细信息，请参阅[文档的相关部分](https://xlsxwriter.readthedocs.org/en/latest/worksheet.html#insert_image)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-05T16:17:33.350

来自 [http://xlsxwriter.readthedocs.org/en/latest/example_images.html](http://xlsxwriter.readthedocs.org/en/latest/example_images.html)

如果您需要在一个插入中偏移和缩放图像：

> > worksheet.insert_image('B5', 'python.png', {'x_offset': 2, 'y_offset': 2, 'x_scale': 0.5, 'y_scale': 0.5})

这花了我一秒钟才弄清楚，认为这可能会节省其他人一些时间

# sql-server - IIS 和 SQLServer 之间的 Kerberos

> ID：15920991
> 
> 赞同：0
> 
> 时间：2013-04-10T08:42:11.583
> 
> 标签：sql-server, iis, kerberos

假设我的计算机 SQLCOMP 和 MSSqlServer 在本地帐户 (.\sqllocuser) 下运行。

我有另一台计算机IISCOMP，带有一个IIS 应用程序（在域帐户MYDOM\IISUSER 下运行）。

两台服务器在同一个域中。IIS 应用程序可以使用 Kerberos 连接到 SQLServer 吗？

如果可能，我需要设置哪个配置？

我需要哪些 SPN？特别是应该为在本地帐户下运行的 MSSQLServer 创建哪些 SPN？与主机相关的一种（例如在网络服务下运行时）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:50:17.773

这是不可能的。

您设置的 SPN 需要映射到启动 SQL Server 的 Windows 域帐户，因此您不能使用本地帐户。

[http://msdn.microsoft.com/en-gb/library/cc280745%28v=sql.105%29.aspx](http://msdn.microsoft.com/en-gb/library/cc280745%28v=sql.105%29.aspx)

# javascript - 在表单中使用 JavaScript 将天数添加到当前日期

> ID：15920992
> 
> 赞同：0
> 
> 时间：2013-04-10T08:42:14.753
> 
> 标签：javascript, html, forms, datetime, button

我有一个代码可以在 JavaScript 中将当前日期添加 5 天，但是我无法将其放入表单中。这是我在脚本标签中的函数代码：

```
function checkDate() {
document.getElementById('dateBtn').onclick = function checkDate () {
    var dt = new Date();
    dt.setDate(dt.getDate() + 5);
    alert(dt);
}; 
```

}

我尝试使用名称和属性在表单中调用此函数：

```
<form name="Shopping" action="Confirmation_Shop.html" method="get"> 
```

为了调用从当前日期开始检查 +5 天的函数，我使用了以下代码：

```
<input type="button" value="Check Date" onclick="CheckDate()"> 
```

当我运行网页时，会显示该按钮，但什么也不做，但是其他按钮（例如我的“提交”按钮和与使用数组检查页面上项目成本的函数链接的按钮）有效。我还尝试将此代码用于检查日期按钮：

```
<input type="button" value="Check Date" onload="CheckDate()"> 
```

使用它时我仍然遇到同样的错误，单击时按钮什么也不做。

帮助我将不胜感激。谢谢！

编辑：如果我在一个单独的 html 文档上运行这个函数，并且只是在正文中创建一个按钮而不是一个表单，那么当我点击它时它工作得很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T08:45:33.047

按钮确实做了一些事情。它为不存在的元素（id = 'dateBtn'）创建一个`onclick`事件（无论如何不在您的示例代码中）。

我想也许你想要的是这样的：

```
function CheckDate() {
    var dt = new Date();
    dt.setDate(dt.getDate() + 5);
    alert(dt);
} 
```

注意：我还更改了函数名称的大小写，使其与您的 html 匹配。

* * *

就个人而言，我讨厌做内联的 html 事件处理程序（或任何你称之为的）。我更喜欢这个：

```
document.onload = function(){
    document.getElementById('dateBtn').onclick = CheckDate;  
}

function CheckDate() {
    var dt = new Date();
    dt.setDate(dt.getDate() + 5);
    alert(dt);
} 
```

使用这个 html：

```
<input id="dateBtn" type="button" value="Check Date"> 
```

...我认为您的问题总体上是您混淆了同时尝试两种不同的方式

# c# - linq to xml 从 web.config 中获取属性的值

> ID：15920996
> 
> 赞同：1
> 
> 时间：2013-04-10T08:42:25.223
> 
> 标签：c#, asp.net, xml, linq

您好，我遇到了以下问题。我想使用以下代码从以下代码中获取**baseLocation(D:\NewSites\TEST** ) 的值`linq`。我尝试了一些东西，但它似乎不起作用。任何想法如何做到这一点？提前致谢。托拉斯

我从这样的东西开始，但这返回了 null

```
XDocument document = XDocument.Load("C:\\web.config");
var dataList = from item in document.Descendants("configuration") select item; 
```

这是我的 XML

```
<?xml version="1.0"?>
<configuration>
    <configSections>
    </configSections>
    <log4net>
    </log4net>
    <web>
        <website runtimeMode="Development" siteName="TEST" baseLocation="D:\NewSites\TEST"      sitePath="D:\NewSites\TEST\WebApps\Website" siteUri="http://test.co.uk" s    iteEmail="test@gmail.com" />
        <cms defaultTemplate="TEST\Content.aspx" templatesUrl="/Manager/Templates/">
        <publishingLocations>
            <publishingLocation name="TEST" uri="http://test.co.uk" path="WebApps\Website" />
        </publishingLocations>
        <redirectables />
        <searchEngineSiteMapNotifications />
        <siteMapXmlUrls />
        <pingServices />
        <reservedTemplates />
        <templateFilters />
        </cms>
    </web>
    <location path="Manager">
    </location>
    <connectionStrings>
    </connectionStrings>
    <system.web>
    </system.web>
</configuration> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:49:41.773

要使用 LINQ 和 C# 来提取属性，请使用类似这样的东西

```
XDocument document = Xdocument.Load("~/web.config");
var location = document.Descendants().Single(i=>i.Attribute("baseLocation") !=null)
               .Attribute("baseLocation").Value; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-10T08:51:57.317

```
This will do the task:

XmlDocument xml = new XmlDocument();
xml.Load(@"location of xml/config");//  xml.Load(@""~/web.config");
XmlNode node = xml.DocumentElement.SelectSingleNode("//website");
Response.Write(node.Attributes["baseLocation"].Value); 
```

让我知道您是否需要进一步的帮助，或者如果它有帮助请标记。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-10T08:54:37.857

这个怎么样：

```
string baseLocation = document.Descendants("website").First().Attribute("baseLocation").Value; 
```

# javascript - JS从数组中删除元素没有间隙

> ID：15920997
> 
> 赞同：1
> 
> 时间：2013-04-10T08:42:26.440
> 
> 标签：javascript

```
var myList = [];
myList.push({ololo: "ololo0"});
myList.push({ololo: "ololo1"});
myList.push({ololo: "ololo2"});
console.log(myList); 
```

**结果：**

```
[Object { ololo="ololo0"}, Object { ololo="ololo1"}, Object { ololo="ololo2"}] 
```

**问题**：如何删除第二个 ( `myList[1]`) 元素而没有间隙？
**即：**

```
myList[0] = {ololo: "ololo0"}
myList[1] = {ololo: "ololo1"}
myList[2] = {ololo: "ololo2"} 
```

**应该：**

```
myList[0] = {ololo: "ololo0"}
myList[1] = {ololo: "ololo2"} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-10T08:45:16.710

你可以使用[拼接](http://www.w3schools.com/jsref/jsref_splice.asp)

[http://viralpatel.net/blogs/javascript-array-remove-element-js-array-delete-element/](http://viralpatel.net/blogs/javascript-array-remove-element-js-array-delete-element/)

您可以在下面使用此功能

```
function removeByIndex(arr, index) {
   arr.splice(index, 1);
} 
```

这是如何使用它

```
 var mynewArray =  removeByIndex(myList,1); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T08:45:39.143

尝试这个：

删除不会解决问题。但是 Array.splice 可以解决问题。

myList.splice（索引，1）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-10T08:52:07.177

```
var myList = [];
myList.push({ololo: "ololo0"});
myList.push({ololo: "ololo1"});
myList.push({ololo: "ololo2"});
console.log(myList);

console.log(remove(myList,1));

function remove(arr, index){
    arr.splice(index,1);
    return arr;
} 
```

**工作示例** [http://jsfiddle.net/qzFuj/](http://jsfiddle.net/qzFuj/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-10T08:44:16.130

使用[`splice`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/splice)：

> `array.splice(index , howMany[, element1[, ...[, elementN]]])`
> 
> 更改数组的内容，在删除旧元素的同时添加新元素。

用于删除第二个元素：`myList.splice(1, 1)`.

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-10T08:49:35.277

这是您的期望和您想要的

**如果你使用`splice`它适合你**

```
var myList = [];
myList.push({ololo: "ololo0"});
myList.push({ololo: "ololo1"});
myList.push({ololo: "ololo2"});

  ///////////////////////splice IS APPLIED////////////////////////////
    myList.splice(0, 1)
  ///////////////////////////////////////////////////////////////////

console.log(myList); 
```

**输出**（请注意，索引 0 已完全删除！）

```
[Object { ololo=

"ololo1"

}, 
Object { ololo=

"ololo2"

}] 
```

**如果您使用`delete`，它不会适合您！这就是它的样子！**

```
 var myList = [];
    myList.push({ololo: "ololo0"});
    myList.push({ololo: "ololo1"});
    myList.push({ololo: "ololo2"});

  ////////////////DELETE IS APPLIED///////////////////////////////////
    delete myList[0]
 ////////////////////////////////////////////////////////////////////

    console.log(myList); 
```

**输出：（主要看索引0处的未定义）**

```
 [

    undefined

    , Object { ololo=

    "ololo1"

    }, Object { ololo=

    "ololo2"

    }] 
```

# c++ - 错误 C2664：无法将参数 1 从“unsigned char *”转换为“RPC_WSTR”

> ID：15920999
> 
> 赞同：1
> 
> 时间：2013-04-10T08:42:35.183
> 
> 标签：c++, visual-studio, compiler-errors, client-server, rpc

我正在尝试创建一个 RPC 服务器和客户端程序。我正在使用本教程[http://www.codeproject.com/Articles/4878/Introduction-to-RPC-Part-2](http://www.codeproject.com/Articles/4878/Introduction-to-RPC-Part-2)

我完全复制了网站上的代码，但是当我尝试运行它时出现此错误：

> 错误 1 ​​错误 C2664：“RpcServerUseProtseqEpW”：无法将参数 1 从“char *”转换为“RPC_WSTR”

问题在这里：

```
 status = RpcServerUseProtseqEp(
  reinterpret_cast<unsigned char*>("ncacn_ip_tcp"), // Use TCP/IP protocol.
  RPC_C_PROTSEQ_MAX_REQS_DEFAULT, // Backlog queue length for TCP/IP.
  reinterpret_cast<unsigned char*>("4747"), // TCP/IP port to use.
  NULL); // No security. 
```