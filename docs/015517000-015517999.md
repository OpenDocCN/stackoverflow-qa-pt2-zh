# StackOverflow 问答 15517000-15517999

# python - openssl 未解密由 pycrypto 加密的文件

> ID：15517000
> 
> 赞同：2
> 
> 时间：2013-03-20T06:45:58.607
> 
> 标签：python, openssl, aes, pycrypto

我在python中加密文件：

```
from Crypto.Cipher import AES
from Crypto import Random
key = Random.new().read(16)
iv = Random.new().read(AES.block_size)
encryptor = AES.new(key, AES.MODE_CBC, iv)
with open(in_file, 'rb') as fin, open(out_file, 'wb') as fout:
    fout.write(iv)
    while True:
        chunk = fin.read(16*1024)
        if len(chunk) == 0:
             break
        elif len(chunk) % 16 != 0:
             chunk += b' ' * (16 - len(chunk) % 16)
        fout.write(encryptor.encrypt(chunk)
print base64.b32encode(key) 
```

但是当我尝试用openssl解密它之后： `openssl aes-256-cbc -d -in enc -out new.zip` 它返回包幻数我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:54:27.473

程序使用 128 位 AES 密钥进行加密，如下行所示：

```
key = Random.new().read(16) 
```

所以，而不是使用

```
openssl aes-256-cbc -d -in enc -out new.zip 
```

用这个

```
openssl aes-128-cbc -d -in enc -out new.zip 
```

# django - 通过在管理员中上传将数据导入 Django 模型？

> ID：15517007
> 
> 赞同：0
> 
> 时间：2013-03-20T06:46:24.647
> 
> 标签：django, django-admin

我正在处理我的第一个 Django 项目，但在尝试将数据导入应用程序时遇到了困难。

我的模型是（大致）

*   小贩
    *   合同（pk 在 Vendor 中）
        *   价目表项目（几行项目 - pk 在合同中）

我的目标是在管理员中有一个表单字段，允许我上传 csv 文件（格式化为遵循价目表模型）并覆盖与合同模型中的 pk 相关的该模型的内容。在管理员中，我设置了用于创建供应商、合同的表单并手动输入价目表项目 - 但是我无法弄清楚如何从 csv 文件填充价目表项目。

什么是最简单（并且希望是正确的方法）的？

我看过 django-adaptors 项目，但老实说，它的文档没有多大意义（我认为），我看过很多 github 项目，希望能找到一个类似的项目，我可以从中得到启发

# ms-access - VBA 中的复选框值是/否

> ID：15517013
> 
> 赞同：0
> 
> 时间：2013-03-20T06:46:33.947
> 
> 标签：ms-access, vba

我有一个表单，其中有一个组合框和 4 个复选框。我想从组合框和 chechboxes 中插入值，当它被选中时它是真的，而不是它是假的。

当我选中复选框时，应在数据库中插入值 YES，而当我不选中复选框时，它将为 NO。

```
Private Sub Command12_Click()
Dim strSQL As String
Dim rst As New ADODB.Recordset
Dim myval As String

If Me.Check2 Or Me.Check6 Or Me.Check8 Or Me.Check10 = -1 Then
myval = "Yes"
Else
myval = "No"

strSQL = "INSERT INTO Declaratie (Код_предр, Декларация, Данные_фирмы,   
Список_траспрота, Список_водителей) " & _
         " VALUES ('" & Me.НаимПредпр & "','" & Me.Check2 & "','" & Me.Check6 & "','" 
& Me.Check8 & "','" & Me.Check10 & "')"

Call AttServ(strSQL, rst) 'выполнение запроса
End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T11:48:28.360

您可以简单地格式化 YesNo（布尔）控件以获得 Yes 或 No，但这可能不是一个好主意。您最好将 YesNo 存储在 YesNo 字段中，并仅格式化您的表单以显示 Yes 或 No。请注意，下面的代码不适用于 YesNo 数据类型，因为您正在存储文本。

```
Private Sub Command12_Click()
Dim strSQL As String
Dim rst As New ADODB.Recordset

    strSQL = "INSERT INTO Declaratie (Код_предр, Декларация, Данные_фирмы,   
    Список_траспрота, Список_водителей) " & _
             " VALUES ('" & Me.НаимПредпр & "','" _
             & Format(Me.Check2, "Yes/No") & "','" _
             & Format(Me.Check6, "Yes/No") & "','" 
             & Format(Me.Check8, "Yes/No") & "','" _
             & Format(Me.Check10, "Yes/No") & "')"

    Call AttServ(strSQL, rst) 'выполнение запроса
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T08:31:26.787

```
If Me.Check2.VALUE = 1 Then
myval = "Yes"
Else
myval = "No"
END IF 
```

将此代码添加到每个复选框，因为我知道您不能使用代码使所有复选框或单选按钮执行相同的操作。即使相同，您也必须使用复选框或单选按钮自己的代码

# ios - 如何以相同的方式更改 NSMutable 数组的顺序另一个可变数组被更改

> ID：15517015
> 
> 赞同：0
> 
> 时间：2013-03-20T06:46:36.150
> 
> 标签：ios, sorting, nsmutablearray, nsmutabledictionary

我有三个`arrays`。它们是*姓名*、*生日*和*剩余*天数，如下所示：

```
 name                         birthdate                 remaining 

    "Abhi Shah",                 "01/14",                  300
    "Akash Parikh",              "12/09/1989",             264
    "Anand Kapadiya",            "12/01",                  256
    "Annabella Faith Perez",     "03/02",                  347
    "Aysu Can",                  "04/14/1992",             25
    "Chirag Pandya"              "10/07/1987"              201 
```

我想将*剩余*的日子重新排列成`array`升序，但同时*姓名*和*出生日期*也应该以同样的方式重新排列。

请参阅下面的示例：

```
 name                         birthdate                 remaining 

    "Aysu Can",                  "04/14/1992",             25
    "Chirag Pandya"              "10/07/1987"              201
    "etc..." 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:25:22.493

用于`NSMutableDictionary`将数据存储到`NSMutableArray`

```
NSMutableArray *array=[[NSMutableArray alloc]init];
 for (int i=0; i<totalRows; i++)
 {
        NSMutableDictionary *dic=[[NSMutableDictionary alloc]init];
        [dic setValue:[array_1 objectAtIndex:i] forKey:@"names"];
        [dic setValue:[array_2 objectAtIndex:i] forKey:@"birthdate "];
        [dic setValue:[array_3 objectAtIndex:i] forKey:@"remanning"];
        [array addObject:dic];
        [dic release];
 } 
```

在这里安排名称数组后，使用搜索选项使用名称不使用索引并使用`NSPredicate`搜索数据`NSMutableArray`

```
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"names matches[cd] %@", name];
 NSArray *result = [array filteredArrayUsingPredicate:predicate];
 NSMutableDictionary *dict = [[[result objectAtIndex:0] mutableCopy] autorelease];
 NSLog(@"%@",dict);// result 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T11:10:09.133

一旦像这样尝试它会帮助你，

```
 NSMutableDictionary *dict=[[NSMutableDictionary alloc]init];
    [dict setObject:@"rahul" forKey:@"name"];
    [dict setObject:@"10" forKey:@"value"];
    NSMutableDictionary *dict1=[[NSMutableDictionary alloc]init];
    [dict1 setObject:@"ttt" forKey:@"name"];
    [dict1 setObject:@"6" forKey:@"value"];

    NSMutableArray *ar=[[NSMutableArray alloc]init];
    [ar addObject:dict];
    [ar addObject:dict1];

    NSSortDescriptor *Sorter = [[NSSortDescriptor alloc] initWithKey:@"name" ascending:NO];
    [ar sortUsingDescriptors:[NSArray arrayWithObject:Sorter]];
    NSLog(@"---%@",ar); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T08:49:28.350

```
 self.arrayForRows = [[NSMutableArray alloc]init];
    NSMutableArray *arrayForNames = [[NSMutableArray alloc]initWithObjects:@"Abhi Shah",@"Akash",@"Nagavendra",@"Ramana",@"Simhachalam", nil];
    NSMutableArray *arrayForBirthDates = [[NSMutableArray alloc]initWithObjects:@"01/14/94",@"01/14",@"11/07/87",@"12/07/89",@"23/08/91", nil];
    NSMutableArray *arrayForRemaining = [[NSMutableArray alloc]initWithObjects:@"200",@"320",@"32",@"450",@"14", nil];

    for (int i=0; i<arrayForBirthDates.count; i++)
    {
       NSMutableDictionary *tempDicts = [[NSMutableDictionary alloc]init];
       [tempDicts setObject:[arrayForNames objectAtIndex:i] forKey:@"names"];
       [tempDicts setObject:[arrayForBirthDates objectAtIndex:i] forKey:@"birth"];
       [tempDicts setObject:[NSNumber numberWithInt:[[arrayForRemaining objectAtIndex:i] intValue]] forKey:@"remaining"];
       [self.arrayForRows addObject:tempDicts];
    }  

    NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"remaining" ascending:YES];
    [self.arrayForRows sortUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]]; 
```

**在 tableView 列表中使用它**

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return [self.arrayForRows count];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifer = @"cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifer];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifer];
    }
    cell.textLabel.text = [[self.arrayForRows objectAtIndex:indexPath.row] valueForKey:@"names"];
    return cell;
}
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-20T06:59:31.930

比如你的`MutableArray`is a `Dictionarys array`，你可以`sortUsingComparator` 用来对数组进行排序

```
[array sortUsingComparator:^NSComparisonResult(id obj1, id obj2) {

    int a = [(NSNumber *)[(NSDictionary *)obj1 objectiveForKey: @"remanning"] intValue];
    int b = [(NSNumber *)[(NSDictionary *)obj2 objectiveForKey: @"remanning"] intValue];

    if (a < b) {
        return NSOrderedAscending;
    }
    else if(a == b)
    {
        return NSOrderedSame;
    }
    return NSOrderedDescending;
}]; 
```

例如，我有一个测试：

```
NSMutableArray *array = [[NSMutableArray alloc] initWithObjects:@(30),@(20),@(5),@(100), nil];

[array sortUsingComparator:^NSComparisonResult(id obj1, id obj2) {

    int a = [(NSNumber *)obj1 intValue];
    int b = [(NSNumber *)obj2 intValue];

    if (a < b) {
        return NSOrderedAscending;
    }
    else if(a == b)
    {
        return NSOrderedSame;
    }
    return NSOrderedDescending;
}];

[array enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
    NSLog(@"%@ , %d",obj,idx);
}]; 
```

那么输出是： ![在此处输入图像描述](../Images/f410f7741f2705e657b71ab05f6db1fd.png)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-20T06:50:55.723

将每一行放入字典中，然后将这些字典放入数组中。然后使用谓词或排序块对您进行排序。例如，如果您想要一个仅包含排序名称的数组，您可以使用`[ array valueForKeyPath:@"name" ]`

数组看起来像：

```
[
    { @"name" : ..., 
        @"birthdate" : ...birthdate..., 
        @"remaining" : ...days remaining... } ,
    {...},
    {...}
] 
```

# windows-phone - Windows phone 网络浏览器弹跳行为

> ID：15517016
> 
> 赞同：0
> 
> 时间：2013-03-20T06:46:37.500
> 
> 标签：windows-phone

如何限制 webbrowser 控件的弹跳行为（上下滚动时会看到空白）。请参考下面的截图。

![windows phone 的网络浏览器控制](../Images/6715d3522f9cf092988eedca53019866.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T18:26:35.563

似乎没有办法在 WP7 或 WP8 WebBrowser 控件中禁用“反弹”。

但是您看到的问题可以通过一点 CSS 来解决。只需将 a`background-color`应用于`BODY`文档..

```
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style type="text/css">
        body {background: black}
        #content {background: black}
        p {color:white}
    </style>
</head>
<body>

<div id="content">
    <p>Item 1</p>
    <p>Item 2</p>
    <p>Item 3</p>
</div>

</body>
</html> 
```

# java - 清单文件和 lib 文件夹更改后如何更新 jar 文件？

> ID：15517020
> 
> 赞同：2
> 
> 时间：2013-03-20T06:47:01.547
> 
> 标签：java, hadoop, jar

我有`hadoop-1.0.3.jar`。我在 lib 文件夹（添加外部 jar）和清单文件中做了一些更改，现在我想用 name 重建 jar 文件`hadoop-1.0.4.jar`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:52:26.690

在外壳中，运行：

`jar cvfm hadoop-1.0.4.jar Manifest.txt [list of files you want to package into your jar file]`

您可以`jar --help`在 shell 中运行以检查可用的不同选项。

基本上，这个特定的命令意味着：

-c：创建新的jar文件。

-v：详细输出。

-f：指定打包的文件名。

-m：包含清单文件。

其余的应该很容易理解（输出名称、清单文件、要打包的文件列表）。

# javascript - 解析 ISO 8601 日期字符串时如何假设本地时区？

> ID：15517024
> 
> 赞同：34
> 
> 时间：2013-03-20T06:47:09.887
> 
> 标签：javascript

我有一个 ISO 日期字符串，如下所示

```
 var startTimeISOString = "2013-03-10T02:00:00Z"; 
```

当我使用下面的代码将它转换为 javascript 中的日期对象时，它返回

```
var startTimeDate = new Date(startTimeISOString); 
```

***输出是***

```
Date {Sun Mar 10 2013 07:30:00 GMT+0530 (India Standard Time)} 
```

它确实将**ISOString**转换为日期，但它转换为本地时间，因为`new Date()`它取决于客户端。如何将iso日期时间字符串转换为日期和时间而不是本地日期时间..？

谢谢

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2013-03-22T10:52:40.833

**[根据 MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse)：**

> **假定时区的差异**
> 
> 给定日期字符串“2014 年 3 月 7 日”，parse() 假定为本地时区，但给定 ISO 格式，例如“2014-03-07”，它将假定时区为 UTC。因此，使用这些字符串生成的 Date 对象将代表不同的时间点，除非系统设置为 UTC 的本地时区。这意味着两个看起来相同的日期字符串可能会产生两个不同的值，具体取决于正在转换的字符串的格式（此行为在 ECMAScript ed 6 中进行了更改，因此两者都将被视为本地）。

我已经这样做了，现在正在获取 ISO 日期字符串中的确切时间，而不是本地时间

```
 var startTimeISOString = "2013-03-10T02:00:00Z";

 var startTime = new Date(startTimeISOString );
 startTime =   new Date( startTime.getTime() + ( startTime.getTimezoneOffset() * 60000 ) ); 
```

这将在 iso 日期字符串中给出相同的日期时间，这里的输出是

**o/p**

```
Date {Sun Mar 10 2013 02:00:00 GMT+0530 (India Standard Time)} 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-03-20T08:45:27.883

总结一下tracevipin帖子中的对话：

所有 Date 对象都基于自 1970-01-01T00:00:00Z 以来的**毫秒**[时间值](http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.1)，因此它们的核心是 UTC。这与 UNIX 不同，UNIX 使用的值表示自同一纪元以来的**秒数。**

 ****[Date.prototype.toString](http://ecma-international.org/ecma-262/5.1/#sec-15.9.5.2)方法返回一个依赖于实现的字符串，该字符串表示基于系统设置和客户端时区偏移量的时间（也称为本地时间）。

如果需要 UTC ISO8601 时间字符串，可以使用[Date.prototype.toISOString方法。](http://ecma-international.org/ecma-262/5.1/#sec-15.9.5.43)如果需要，很容易为此方法编写“垫片”。

最后，不要相信[Date.parse](http://ecma-international.org/ecma-262/5.1/#sec-15.9.4.2)来解析字符串。ES5 中指定了对 ISO8601 格式的 UTC 字符串的支持，但是它并没有在使用的浏览器中一致地实现。如果需要广泛的浏览器支持（例如典型的 Web 应用程序），手动解析字符串会更好（这并不难，有关于如何做的示例）。

简单的 ISO8601 UTC 时间戳解析器：

```
function dateObjectFromUTC(s) {
  s = s.split(/\D/);
  return new Date(Date.UTC(+s[0], --s[1], +s[2], +s[3], +s[4], +s[5], 0));
} 
```

这是 toISOString 的垫片：

```
if (typeof Date.prototype.toISOString != 'function') {

  Date.prototype.toISOString = (function() {

    function z(n){return (n<10? '0' : '') + n;}
    function p(n){
      n = n < 10? z(n) : n;
      return n < 100? z(n) : n;
    }

    return function() {
      return this.getUTCFullYear() + '-' +
             z(this.getUTCMonth() + 1) + '-' +
             z(this.getUTCDate()) + 'T' +
             z(this.getUTCHours()) + ':' +
             z(this.getUTCMinutes()) + ':' +
             z(this.getUTCSeconds()) + '.' +
             p(this.getUTCMilliseconds()) + 'Z';
    } 
  }());
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-20T07:04:59.470

这是因为日期是使用`toString`默认返回本地时区的日期和时间的方法打印的。该方法`toUTCString`将为您提供所需的字符串。

`Date`实际上将日期保留为以毫秒为单位的 unix 时间，并提供操作它的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-10T09:05:30.587

在 vanilla javascript 中，没有办法创建一个假定您提供的 ISO 格式字符串的本地时间的日期。当您将 ISO 8601 格式的字符串传递给 javascript 时，会发生以下情况。我将使用非 UTC 时间，因为它比使用 ISO 格式的字符串更能说明问题：

1.  `var startTime = new Date("2013-03-10T02:00:00+06:00")`. 请注意，这也可以是`2013-03-10T02:00:00Z`或任何其他 ISO 格式的字符串。
2.  读取时间，应用偏移量并计算自 1970-01-01T00:00:00Z 以来的毫秒数
3.  您现在只有几毫秒 - 您已经丢失了所有时区信息。在这种情况下 1362859200000

除了为您提供该数字的 UTC 表示的函数之外，所有函数都将使用运行代码的计算机的时区将该数字解释为时间。

要做原始海报想要的，你需要做。

1.  解析 ISO 字符串，将偏移量（'Z' 或 '+06:00'）解释为时区偏移量
2.  存储时区偏移量
3.  使用时区偏移量计算并存储自纪元以来的毫秒数
4.  保持那个偏移量
5.  每当尝试进行计算或打印日期时，应用时区偏移量。

这不是微不足道的，需要对 8601 规范进行完整的解释。太多的代码放在这里。

这正是[moment.js](http://momentjs.com/docs/#/parsing/string/)的设计初衷。我强烈推荐使用它。使用 moment.js：

```
moment("2013-03-10T02:00:00Z").format()
"2013-03-10T02:00:00Z" 
```

这将导致打印原始字符串的 ISO 时间，保留偏移量。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-08-14T04:47:24.670

它将返回 ISOdate

```
var getDate = () => {
    var dt = new Date();
    var off = dt.getTimezoneOffset() * 60000
    var newdt = new Date(dt - off).toISOString()
    return newdt.slice(0, 19)
} 
```****

# if-statement - UNIX：将值传递给 IF 条件而不是值

> ID：15517028
> 
> 赞同：0
> 
> 时间：2013-03-20T06:47:27.187
> 
> 标签：if-statement, awk

我正在尝试编写一个使用 IF 语句的代码。在这里，我试图比较使用 awk 语句获得的 2 个字符串。请帮助我......如果这是可能的。

```
if [ "awk '/$search/ {print $3}' rpt1.txt" -eq    "awk '/$search/ {print $3}' rpt2.txt" ] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:53:46.133

当然，使用`$()`或``。

```
if [ $(awk '/$search/ {print $3}' rpt1.txt) -eq $(awk '/$search/ {print $3}' rpt2.txt) ] 
```

如果你想要字符串比较而不是数字，你可能想要`=`而不是`-eq`。

如果您也制作了一个函数，可能会更好地阅读：

```
search_report() {
  awk "/$1/ { print \$3 }" $2
}

if [ $(search_report $search rpt1.txt) -eq $(search_report $search rpt2.txt) ]
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:00:21.363

您可以将标准输出捕获到这样的变量中：

```
variable=$(command) 
```

试试这个

```
rpt1=$(awk '/$search/ {print $3}' rpt1.txt)
rpt2=$(awk '/$search/ {print $3}' rpt2.txt)

if [ "${rpt1}" == "${rpt2}" ]; then
    echo "match";
fi 
```

该运算符`-eq`仅适用于整数，这就是我使用它的原因`==`。

更多关于捕获标准输出 [http://www.cyberciti.biz/faq/unix-linux-bsd-appleosx-bash-assign-variable-command-output/](http://www.cyberciti.biz/faq/unix-linux-bsd-appleosx-bash-assign-variable-command-output/)

这是 bash [http://tldp.org/LDP/abs/html/comparison-ops.html中运算符的出色总结](http://tldp.org/LDP/abs/html/comparison-ops.html)

# windows-phone-8 - 在 Windows 8 手机应用程序中更新 xml 文件

> ID：15517029
> 
> 赞同：0
> 
> 时间：2013-03-20T06:47:27.767
> 
> 标签：windows-phone-8

我正在创建一个 Windows 8 手机应用程序，其中我正在读取一个名为 User 的 xml 文件，并添加希望使用 XDocument 将属性 id 和 name 添加到 xaml 的用户元素。

但我不知道如何将其保存回 xml 文件。

```
 XDocument doc = XDocument.Load(@"XDocument.Load(@"Assets\User.xml");
            XElement element = doc.Element("user");

            XAttribute idAtt = new XAttribute("id", userDetails.UserId);
            element.Add(idAtt);

            XAttribute nameAtt = new XAttribute("name", userDetails.UserName);
            element.Add(nameAtt); 
```

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:58:01.570

这就是我保存 XML 文件的方式：

```
 XmlWriterSettings xmlWriterSettings = new XmlWriterSettings();
xmlWriterSettings.Indent = true;
using (IsolatedStorageFile myIsolatedStorage = IsolatedStorageFile.GetUserStoreForApplication())
{
    using (IsolatedStorageFileStream stream = myIsolatedStorage.OpenFile("User.xml", FileMode.Create))
    {
        XmlSerializer serializer = new XmlSerializer(typeof(PrivacyDataClass));
        using (XmlWriter xmlWriter = XmlWriter.Create(stream, xmlWriterSettings))
        {
            serializer.Serialize(xmlWriter, data);
        }
    }
} 
```

# ios - iPad中的UIWebView后退按钮实现问题

> ID：15517030
> 
> 赞同：4
> 
> 时间：2013-03-20T06:47:28.460
> 
> 标签：ios, uiwebview, uiwebviewdelegate

我已经通过使用在我的应用程序中实现了一个浏览器`UIWebView`，默认情况下我在我的浏览器中加载谷歌页面。

当我在 google 页面中搜索某些内容时，会调用`UIWebViewDelegate`'s`webView:shouldStartLoadWithRequest:navigationType:`方法。

问题是当我从这个搜索页面点击后退按钮时，没有代表被调用，所以我在禁用我的后退按钮时遇到问题。

此问题仅发生在 iPad 应用程序中，而不发生在 iPhone 应用程序中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-26T10:41:58.877

这段代码可以帮助你...

UIWebView 是一个 UIView，它可以加载网页，同时保留在用户的应用程序中。通过使用网页本身中的嵌入链接，可以导航到其他网页。可以使用实例方法 goForward 和 goBack 设置通过历史的向前和向后导航，但程序员必须提供按钮。

以下示例使用 UIWebView，并且

1）添加前进和后退按钮。使用 UIWebViewDelegate 可选方法 webViewDidStartLoad: 和 webViewDidFinishLoad: 启用和突出显示按钮

2) 添加一个 UIActivityIndi​​catorView 在网页加载时显示

**在 WebViewController 的 .h 文件中：**

声明 UIWebView，*可选*：添加按钮以控制通过浏览历史和 IBAction 向前和向后移动以按下按钮，*可选再次*：添加 UIActivityIndi​​catorView。

```
@interface WebViewController : UIViewController <UIWebViewDelegate>
{
    UIWebView *webView;
    UIButton *back;
    UIButton *forward;
    UIActivityIndicatorView *activityIndicator;
}

@property(nonatomic,retain)IBOutlet UIWebView *webView;
@property(nonatomic,retain)IBOutlet UIButton *back;
@property(nonatomic,retain)IBOutlet UIButton *forward;
@property(nonatomic,retain)IBOutlet UIActivityIndicatorView *activityIndicator;

-(IBAction)backButtonPressed: (id)sender;
-(IBAction)forwardButtonPressed: (id)sender;

@end 
```

**//在WebViewController的.m文件中**

```
@implementation WebViewController

@synthesize webView;
@synthesize back;
@synthesize forward;
@synthesize activityIndicator;

//method for going backwards in the webpage history
-(IBAction)backButtonPressed:(id)sender {
    [webView goBack]; 
}

//method for going forward in the webpage history
-(IBAction)forwardButtonPressed:(id)sender
{
    [webView goForward];
}

//programmer defined method to load the webpage

-(void)startWebViewLoad
{
    //NSString *urlAddress = @"http://www.google.com";
    NSString *urlAddress = @"http://cagt.bu.edu/page/IPhone-summer2010-wiki_problemsandsolutions";

    //Create a URL object.
    NSURL *url = [NSURL URLWithString:urlAddress];

    //URL Requst Object
    NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];

    //Load the request in the UIWebView.
    [webView loadRequest:requestObj];
}

// acivityIndicator is set up here
- (void)viewDidLoad
 {
    //start an animator symbol for the webpage loading to follow
    UIActivityIndicatorView *progressWheel = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleGray];

    //makes activity indicator disappear when it is stopped
    progressWheel.hidesWhenStopped = YES;

    //used to locate position of activity indicator
    progressWheel.center = CGPointMake(160, 160);

    self.activityIndicator = progressWheel;
    [self.view addSubview: self.activityIndicator];
    [self.activityIndicator startAnimating];
    [progressWheel release];

    [super viewDidLoad];

    //call another method to do the webpage loading
    [self performSelector:@selector(startWebViewLoad) withObject:nil afterDelay:0];  
}

- (void)dealloc 
{
    [webView release];
    [back release];
    [forward release];
    [activityIndicator release];
    [super dealloc];
}

#pragma mark UIWebViewDelegate methods

//only used here to enable or disable the back and forward buttons
- (void)webViewDidStartLoad:(UIWebView *)thisWebView
{
    back.enabled = NO;
    forward.enabled = NO;
}

- (void)webViewDidFinishLoad:(UIWebView *)thisWebView
{
    //stop the activity indicator when done loading
    [self.activityIndicator stopAnimating]; 

        //canGoBack and canGoForward are properties which indicate if there is 

        //any forward or backward history

    if(thisWebView.canGoBack == YES)
    {
        back.enabled = YES;
        back.highlighted = YES;
    }

    if(thisWebView.canGoForward == YES)
    {
        forward.enabled = YES;
        forward.highlighted = YES;
    }
}

@end 
```

/ ***** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ** *** ****** /

```
//In viewDidLoad for the class which adds the WebViewController:

WebViewController *ourWebVC = [[WebViewController alloc] initWithNibName:@"WebViewController" bundle:nil];

ourWebVC.title = @"WebView";
[self.view addSubview:ourWebVC];

//release ourWebVC somewhere else 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-16T09:56:42.257

在您的情况下，您必须忽略/避免“缓存数据”。以下代码行可能会有所帮助。

```
NSURLRequest *requestObj = [NSURLRequest requestWithURL:[NSURL URLWithString:@"http://www.google.com"] cachePolicy: NSURLRequestReloadIgnoringLocalAndRemoteCacheData timeoutInterval:10.0];
[webView loadRequest:requestObj]; 
```

# performance - 快速乘法

> ID：15517036
> 
> 赞同：0
> 
> 时间：2013-03-20T06:47:49.500
> 
> 标签：performance, algorithm, optimization

当我要计算以下系列`1+x+x^2+x^3+...`时，我更愿意这样做：（`(1+x)(1+x^2)(1+x^4)...`这就像某种重复平方）这样可以显着减少乘法的次数。

现在我想计算系列`1+x/1!+(x^2)/2!+(x^3)/3!+...`，我怎样才能使用类似的技术来提高乘法的数量？

任何建议都热烈欢迎！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:21:52.123

你提到的优化方法，大概是Horner的方法：

```
a + bx +cx^2 +dx^3 = ((c+dx)x + b)x + a 
```

交替级数 A*(1-x)(1+x^2)(1-x^4)(1+x^8) ... OTOH 可用于计算 A/(1+x) 的除法的近似值，其中 x 很小。

exp(x)的泰勒级数`sigma x^n/n!`收敛性很差；其他近似值更适合获得准确的值；如果有一个技巧可以减少乘法，那就是使用临时值进行迭代：

```
 sum=1; temp=x; k=1; 
  // The sum after first iteration is (1+x) or 1+x^1/1!
  for (i=1;i<=N;i++) { sum=sum+temp; k=k*(i+1); temp = temp * x / k; }
  // or
  prod=1.0; for (i=N;i>0;i--) prod = prod * x/(double)i + 1.0; 
```

乘以阶乘应该会提高一点准确性——在现实生活`temp=temp*x/(i+1)`中，为了能够进一步迭代，或者使用查找表来获取常数 a_n / n!，可能是明智的，因为通常只需要几个术语。（sin/cos 的 4 或 5 个术语）。

事实证明，霍纳规则在几何级数到产品形式的*转换*中并没有太大的作用。`Sigma x^n`要计算指数，必须应用其他强大的技术——通常是范围缩减和有理数 (Pade)、多项式 (chebyshev) 近似等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:59:17.053

将评论转换为答案：

请注意，对于第一个系列，存在完全等价的：

```
1+x+x^2+x^3+...+x^n = (1-x^(n+1))/(1-x) 
```

使用它，您可以更快地计算它。

第二个是收敛系列`e^x`，您可能想使用标准数学库函数`pow(e, x)`或`exp(x)`代替。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:52:09.747

在第一个系列的方法中，您不认为使用 1 + x(1+ x( 1+ x( 1+x)....)) 会是更好的方法。类似的方法可以应用于第二个系列。所以 1 + x/1 *( 1+ x/2* (1 + x/3 * (1 + x/4(.....))))

# java - 将字符串转换为返回类型的日期错误 -ClassCastException

> ID：15517046
> 
> 赞同：1
> 
> 时间：2013-03-20T06:48:38.760
> 
> 标签：java, casting, type-conversion

我有移动类型对象的方法（此时类型对象是**String**类型），我想将它转换为类型 date 我应该怎么做。当我使用以下代码时出现错误：

```
java.lang.ClassCastException: java.lang.String cannot be cast to java.util.Date 
```

代码：

```
} else if (typeName.equals("Date")) {

    return new SwitchInputType<Date>((Date) memberValue); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:50:41.167

[如何解析日期？](https://stackoverflow.com/questions/999172/how-to-parse-date-in-java)

```
SimpleDateFormat parserSDF=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
Date date = parserSDF.parse(memberValue); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:50:51.137

您不能简单地将 a`String`转换为 a `Date`。要从具有表示的`Date`对象`String`中获取，请使用[SimpleDateFormat](http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html)。`String``Date`

**例如：**

```
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd"); //Change format according to your needs.
Date date = new Date();
try{
    date = sdf.parse((String)memberValue); //Update:- memberValue.toString() will also work.
}catch(ParseException pe){
    //Do something on Exception.
}
return new SwitchInputType<Date>(date); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:51:06.693

如果它是一个字符串，则需要对其进行解析。尝试使用适当格式的 SimpleDateFormat。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-20T06:51:17.323

尝试像这样创建新的日期对象，`Date date = new Date(long)`或者如果您使用 Date 类创建此字符串，请使用其静态方法`Date.valueOf(String s)`。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-20T06:51:44.023

您应该先将字符串转换为日期对象，然后再分配给日期。使用 SimpleDateFormat.parse() 方法将字符串解析为 Date 对象。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-20T06:54:41.840

您可以使用：

```
return new SwitchInputType<Date>(new SimpleDateFormat("MMMM d, yyyy", Locale.ENGLISH).parse(memberValue)); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-03-20T07:03:24.567

像这样的东西应该工作：

```
final SimpleDateFormat parsedDate = new SimpleDateFormat("yyyy-MM-dd");

final Date date;
try{ 
    date = parsedDate.parse(stringValue); 
} catch(Exception e) {
    // handle the exception.
} 
```

# excel - Excel VBA Selection.Copy 在目标工作簿表中粘贴空值

> ID：15517047
> 
> 赞同：0
> 
> 时间：2013-03-20T06:48:40.503
> 
> 标签：excel, vba

我编写了一个 Excel VBA 来将选定单元格中的数据从一个工作簿表复制到另一个工作簿表。在粘贴一些值之后，有时 VBA 粘贴空值之后，它在某些单元格上工作正常。我的意思是即使源单元格不是空的，它也会粘贴空值。我已经放了断点并看到了，但价值就在那里。请帮我解决这个问题。

代码如下。

```
Set objClickScriptWB = objExcelWB.Workbooks.Open(SourceWBPath)
    For intSheet = 9 To 12 'objClickScriptWB.Worksheets.Count
        If InStr(1, objClickScriptWB.Worksheets(intSheet).Name, "SC", vbTextCompare) > 0 Then
            blnScriptSheet = 1
            objClickScriptWB.Worksheets(intSheet).Activate
            For r = 24 To objClickScriptWB.Worksheets(intSheet).UsedRange.Rows.Count
                    If Trim(LCase(objClickScriptWB.Worksheets(intSheet).Cells(r, 6).Value)) <> Trim(LCase("Transaction")) And Trim(LCase(objClickScriptWB.Worksheets(intSheet).Cells(r, 6).Value)) <> Empty And objClickScriptWB.Worksheets(intSheet).Cells(r, 6).MergeArea.Cells.Count = 1 Then
  objClickScriptWB.Worksheets(intSheet).Cells(r, 6).Select

                                If blnCompSht = 0 Then
                                    Set objComparisonSheet = ThisWorkbook.Worksheets.Add
                                    objComparisonSheet.Name = "Comparison"
                                    objComparisonSheet.Activate

                                    objComparisonSheet.Cells(2, 2).Value = "Clickscript Transaction names"

                                    i = 3
                                    objExcelWB.Selection.Copy
                                    objComparisonSheet.Activate
                                    objComparisonSheet.Cells(i, 2).Select
                                    'Sheet3.Range("B2").Select
                                    'objComparisonSheet.Range("B" & i).PasteSpecial Paste:=xlPasteValues
                                    objComparisonSheet.Paste
                                    'Sheet2.Range("G2").Cells
                                    i = i + 1
                                    blnCompSht = 1
                                    'Application.Wait (Now + TimeValue("00:00:01"))
                                ElseIf blnCompSht = 1 Then
                                    ThisWorkbook.Worksheets("Comparison").Activate

                                    Dim LastRow As Integer
                                    For intRow = 2 To ThisWorkbook.Worksheets("Comparison").Rows.Count
                                        If ThisWorkbook.Worksheets("Comparison").Cells(intRow, 2).Value = Empty Then
                                            i = intRow
                                            Exit For
                                        End If

                                    Next

                                    objExcelWB.Selection.Copy
                                    ThisWorkbook.Worksheets("Comparison").Cells(i, 2).Select
                                    'ThisWorkbook.Worksheets("Comparison").Range("B" & intRow).PasteSpecial Paste:=xlPasteValues
                                    ThisWorkbook.Worksheets("Comparison").Paste
                                    i = i + 1
                                    'Application.Wait (Now + TimeValue("00:00:01"))
                                End If

                            'End If
                        'Next
                'Call CompareTxnNames(objClickScriptWB.Worksheets(intSheet).Name)
                    End If
                'Next
            Next

        End If
    Next
End Sub 
```

请帮我

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:42:37.637

您还可以使用如下代码直接将一个单元格的值应用于另一个单元格：

```
CellTarget.Value2 = CellSource.Value2 
```

或者在你的情况下：

```
objComparisonSheet.Cells(i, 2).Value2 = objClickScriptWB.Worksheets(intSheet).Cells(r, 6).Value2 
```

* * *

边注：

养成使用 Value2 的习惯，因为它是单元格的真实值，而 Value 是应用了格式的值。后者速度较慢，如果您不在 Excel 中使用美国日期格式，日期值可能会给出错误的日期和月份。

# c# - 如何获取剑道上传成功或完成函数返回的值

> ID：15517048
> 
> 赞同：12
> 
> 时间：2013-03-20T06:48:43.760
> 
> 标签：c#, jquery, asp.net-mvc, kendo-ui

我正在使用 Kendo UI 上传控件。我已经这样定义了 Kendo UI 上传：

```
<input type="file" name="resume" />
$("#file").kendoUpload({
    async: {
         saveUrl: "/Home/SaveResume",             
         autoUpload: true
         },            
         complete: function (e)
         {
            // here i want to get the text that is returned from the controller
         }
}); 
```

控制器代码如下：

```
public ActionResult SaveResume(HttpPostedFileBase resume)
{
    var text;
    // code for the file to convert to text and assign it to text
    return Json(text, JsonRequestBehavior.AllowGet);
} 
```

返回代码后，我想检索完整函数中的代码。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-21T05:38:51.573

您可以像这样获得对成功功能的响应

```
function onSuccess(e)
{
    var response = e.response.data();
} 
```

返回 json 可能在哪里

```
return Json(new { data = text }, "text/plain"); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-20T09:52:52.173

如果你只是传回一个字符串，你应该能够做到：

```
function onSuccess(e) {
    var text = e.XMLHttpRequest.responseText;
} 
```

如果需要，您还可以传回更复杂的对象：

```
// Object
public class MyObject
{
    public int ID { get; set; }
    public string Text { get; set; }
}

// Controller Action
public virtual ActionResult Upload(HttpPostedFileBase file)
{
    return this.Json(new MyObject(), "text/plain");
}

// Javascript Handler
function onSuccess(e) {
    var response = jQuery.parseJSON(e.XMLHttpRequest.responseText);
    var id = response.ID;
    var text = response.Text;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-31T02:40:12.857

我将在此处将我的答案与其他有效答案一起添加。首先，尽管您希望在成功函数而不是完整函数中获得返回的响应：

```
 $("#files").kendoUpload({
        async: {
            saveUrl: url,
            removeUrl: removeUrl,
            autoUpload: true
        },
        select: onFileSelect,       // function for when a file is selected
        success: onFileSuccess,     // function that returns response after upload
        complete: onFileComplete,   // function after success
        remove: onFileRemove,       // function for when a file is removed
        }); 
```

on success 函数返回一个对象（通常人们将其命名为 e）

```
function onFileSuccess(e) {

    console.log("e.response", e.response);
    console.log("e.operation", e.operation);
    console.log("e.XMLHttpRequest.status", e.XMLHttpRequest.status);

    //e.operation is upload or remove
    if (e.operation === "upload") {
        // a file was added, get the response
        var fileid = e.response;
    } else {
        // Do something after a file was removed
    }
} 
```

我的 console.log 条目返回此数据：

[控制台日志值](http://i.stack.imgur.com/Sxuvc.png)

这就是我从服务器返回数据的方式：

```
 public HttpResponseMessage InsertTempFile()
    {
        HttpPostedFile file = System.Web.HttpContext.Current.Request.Files[0];

        //........
        // Code that adds my file to the database
        // and generates a new primary key for my file
        //.........

        var response = new HttpResponseMessage(HttpStatusCode.OK);
        response.Content = new StringContent(myNewId.ToString());

        return response;
    } 
```

response.Content 在 e.response 中返回我的新 ID HttpStatusCode.Ok 返回我的状态 200。如果您检查响应，还会返回一堆其他数据。

请注意，要使用 HttpResponseMessage 和 HttpStatuseCode，您需要在类中包含以下命名空间：

```
using System.Net.Http;
using System.Net; 
```

# java - 如何在应用程序启动时制作（并保存在 RAM 中）稀疏数组？（安卓）

> ID：15517056
> 
> 赞同：0
> 
> 时间：2013-03-20T06:49:06.610
> 
> 标签：java, android, sparse-array

我正在制作一个安卓应用程序。应用程序中有一个活动，当被触发时，它会生成一个稀疏数组并用数据填充它。现在这个过程在模拟器上最多需要 1 分钟，这很长。所以我想在应用程序启动时制作一次稀疏数组，并将稀疏数组保存在 RAM 中以供应用程序的生命周期使用。并且无论何时触发活动，它都应该访问 RAM 中的稀疏数组，而不是创建一个新数组，从而节省时间和处理能力。这可以做到吗，如果可以，怎么做？对不起，如果这个问题很愚蠢，我是安卓新手。谢谢！*编辑：这是稀疏数组制作函数的样子：//访问稀疏数组制作函数的函数

```
public String[] process(){
InputStream is = context.getAssets().open("feedtitlesandaddresses.txt");
        InputStreamReader iz=new InputStreamReader(is);
        BufferedReader br = new BufferedReader(iz);
        String line = null;
while((line=br.readLine())!=null) {

            readLine(line);

            }}
//sparsearray making function
private void readLine(String line) {
//some string processing(omitted here)
int num1 = Integer.parseInt(firstNumber);

        //int num2 = Integer.parseInt(secondNumber);
        if(sparseArray.get(num1) == null) {

            sparseArray.put(num1, new SparseArray<String>());

        }
        temporarySparseArray = sparseArray.get(num1);

        for(int w=0;w<size;w++){
        temporarySparseArray.put(w, array1[w]);
                }
        sparseArray.put(num1, temporarySparseArray);

        temporarySparseArray = null;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:02:14.283

我觉得这个问题值得回答，我确信有人会想出一个答案，但是，嗯，到目前为止还没有；如果我是 Tom Wong，目前在我看来，StackOverflow 似乎是一个想要成为专家的地方，他们开始争执而不是回答问题。;) 所以我们开始吧。

*   在启动时做一些事情，只要你的应用程序在内存中，其结果就会持续：做这件事的正确位置是`Application.onCreate()`，你需要为它子类化`Application`. 在这种情况下，也可以将结果存储在对象中，您可以通过获取应用程序上下文`Application`从任何对象中访问它。`Activity`

*   做一些需要一些时间的事情：一般来说，`AsyncTask`在 Android 上使用是个好主意，但它专门用于做与用户界面相关但不能阻止它的事情。此外，如果没有一些明确的调整，它的行为会因不同的 Android 版本而异。目前，如果没有进一步的措施，如果您通过 AsyncTask 进行计算，其他 AsyncTask 将不得不先等待。此外，您想要做的不是使用 AsyncTask 的经典任务，因此请使用一次性线程，它只是将其结果最终存储在`volatile`引用中。

下面的代码片段应该会给你这个想法。

```
final class MyApplication extends Application {
    public volatile String[] expensiveToCompute;
    @Override
    public void onCreate() {
        expensiveToCreate = null;
        (new Thread() {
            @Override
            public void run() {
                String[] result = computeMyData();
                // it is important to assign the locally created data at once here
                expensiveToCompute = result;
            }
        }).start();
    }
} 
```

这样，`expensiveToCompute`将`null`一直到异步计算完成。

重要的是要理解这个线程将一直运行到它完成，并且它持有对您的`MyApplication`对象的引用。这意味着即使用户离开您的应用程序，您的线程仍将继续，如果它直到那时还没有完成。

这实际上很好，因为 Android 决定让您的 Application 对象保持活动状态只是因为它可以，在这种情况下用户体验会得到改善。或者，Android 会使用 Application 对象、您的 Thread 和任何持有的数据终止整个进程，在这种情况下，它将在下次从头开始。

还有一件事，嗯，建议将昂贵的计算移入等：Android 为此类线程分配默认的后台优先级，并且*无论 Android 系统是否空闲*`AsyncTask`，所有后台线程（当前）都必须总共使用 10% 的 CPU 时间*否则*。许多将密集计算转移到后台任务的人注意到，这将花费十倍的时间。因此，您可能想阅读我关于如何在[此处](https://stackoverflow.com/a/14214799/1856738)和/或[此处](https://stackoverflow.com/a/14217816/1856738)处理此问题的建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:53:54.720

您可以在android内部或外部文件系统中写入您的对象，并且您可以在需要使用时读取该对象。

# c# - Jquery 数据表插件不能与gridview 一起使用？

> ID：15517063
> 
> 赞同：1
> 
> 时间：2013-03-20T06:49:34.513
> 
> 标签：c#, asp.net, jquery-plugins

我正在尝试使用**`jquerydatatable plugin`**gridview.Data 在 gridview 中绑定但由于某种原因插件无法正常工作

我找不到确切的原因，但我在控制台中遇到如下错误。问题是我使用的脚本还是编码部分的问题？

```
TypeError: $(...).dataTable is not a function
Source File: http://localhost:3852/YouthPossibilities/jqDatatable.aspx 
```

这是我使用的脚本

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.dataTables.js" ></script>
<script type="text/javascript" src="js/jquery.js" ></script>
<link href="css/demo_table.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        $('#gdView').dataTable();           
    })
</script> 
```

这是aspx代码

```
 <asp:GridView ID="gdView" runat="server" AutoGenerateColumns="False" OnPreRender="gdView_PreRender">
        <Columns>
            <asp:TemplateField HeaderText="FirstName">
                <ItemTemplate >
                    <asp:Label ID="lblFstName" runat="server" Text='<%# Bind("FirstName") %>'></asp:Label>
                </ItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField HeaderText="LastName">
                <ItemTemplate>
                    <asp:Label ID="lblLstName" runat="server" Text='<%# Bind("LastName") %>'></asp:Label>
                </ItemTemplate>
            </asp:TemplateField>
            <asp:TemplateField HeaderText="Organization">
                <ItemTemplate>
                    <asp:Label ID="lblOrg" runat="server" Text='<%# Bind("Organization") %>'></asp:Label>
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>            
    </asp:GridView> 
```

这是我用于绑定gridview的c#代码

```
 List<gdViewBAL> lstgdviewBAL = new List<gdViewBAL>();
    gdViewDAL clsgdViewDAL = new gdViewDAL();
    DataTable dt = clsgdViewDAL.GetData();
    if (dt.Rows.Count > 0)
    {
        foreach (DataRow dRow in dt.Rows)
        {
            gdViewBAL clsgdviewBAL = new gdViewBAL();
            clsgdviewBAL.Cellphone = dRow["CellPhone"].ToString();
            clsgdviewBAL.Email = dRow["Email"].ToString();
            clsgdviewBAL.Firstname = dRow["FirstName"].ToString();
            clsgdviewBAL.Lastname = dRow["LastName"].ToString();
            clsgdviewBAL.Organization = dRow["Organization"].ToString();
            clsgdviewBAL.State1 = dRow["State1"].ToString();
            clsgdviewBAL.Zip1 = dRow["Zip1"].ToString();
            lstgdviewBAL.Add(clsgdviewBAL);
        }
        gdView.DataSource = lstgdviewBAL;
        gdView.DataBind();
        gdView.UseAccessibleHeader = true;
        gdView.HeaderRow.TableSection = TableRowSection.TableHeader;
        gdView.FooterRow.TableSection = TableRowSection.TableFooter; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:59:59.383

原因是您在 JavaScript 中使用了 ASP .NET 生成的 ID。这将不起作用，因为 ASP .NET 将信息添加到其 id。为此，您需要告诉 ASP .NET 不要通过添加`ClientIDMode="Static"`属性来添加额外信息。

尝试这个：

```
<asp:GridView ID="gdView" runat="server" AutoGenerateColumns="False" OnPreRender="gdView_PreRender" ClientIDMode="Static"> 
```

# ios - 在 Sqlite iOS 中找不到表

> ID：15517066
> 
> 赞同：2
> 
> 时间：2013-03-20T06:49:41.580
> 
> 标签：ios, sqlite

我正在尝试从 sqlite 数据库中提取数据。我添加了“libsqlite3.0.dylib”文件并将创建的 sqlite DB 复制到我的应用程序文件夹中。我在 appdelegate 文件中创建了两个方法。他们是

```
//To copy DB
- (void) copyDatabaseIfNeeded {

    //Using NSFileManager we can perform many file system operations.
    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSError *error;
    NSString *dbPath = [self getDBPath];
    BOOL success = [fileManager fileExistsAtPath:dbPath];

    if(!success) {
        NSLog(@"DB File %@ does not exists", dbPath);
        NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"tms.sqlite"];
        success = [fileManager copyItemAtPath:defaultDBPath toPath:dbPath error:&error];

        NSLog(@"Successfully copied db file to path %@", dbPath);
        if (!success)
            NSLog(@"Failed to create writable database file with message '%@'.", [error localizedDescription]);
    } else {
        NSLog(@"DB File %@ already exists", dbPath);
    }
}

//To get DB path
-(NSString *)getDBPath{
    NSArray *paths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentDir=[paths objectAtIndex:0];
    return [documentDir stringByAppendingPathComponent:@"sampleDB.sqlite"];
} 
```

我在 didFinishLaunchingWithOptions 中调用了 copyDatabaseIfNeeded()，并且在 ViewController.m 文件中添加了一种方法。那是

```
-(void)Display
{
    SqlitAppDelegate *appDelegate=(SqlitAppDelegate *)[UIApplication sharedApplication].delegate;
    NSString *dbPath=[appDelegate getDBPath];
    if (sqlite3_open([dbPath UTF8String], &myDB) == SQLITE_OK)
    {
        NSLog(@"Database opned successflly");
        const char *sql = "select * from sampleTable";
        NSLog(@"%s",sql);
        sqlite3_stmt *selectstmt;
        if(sqlite3_prepare_v2(myDB, sql, -1, &selectstmt, NULL) == SQLITE_OK)
            NSLog(@"Prepared successfully");
        else
        {
            NSLog(@"Preparation failed");
            NSLog(@"%s",sqlite3_errmsg(myDB));
            NSLog(@"%d",sqlite3_errcode(myDB));
        }

    }
    else
        NSLog(@"Couldn't open database");

} 
```

我在 didViewLoad 方法中调用了这个方法。

我得到以下输出：

*   2013-03-20 12:02:24.026 SqliteSample2[951:11303] 数据库成功打开
*   2013-03-20 12:02:24.027 SqliteSample2[951:11303] 从 sampleTable 中选择 *
*   2013-03-20 12:02:24.028 SqliteSample2[951:11303] 准备失败
*   2013-03-20 12:02:24.029 SqliteSample2[951:11303] 没有这样的表：sampleTable
*   2013-03-20 12:02:24.029 SqliteSample2[951:11303] 1

有人告诉我做什么吗？？？？？？

提前致谢...........

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:07:56.530

Import `SqlitAppDelegate` in your view controller and make Object like `SqlitAppDelegate *app` after @implementation ViewController

In **viewDidLoad** write

```
 app= (SqlitAppDelegate *)[[UIApplication sharedApplication]delegate];

    databasepath = [app getDBPath];

    if(sqlite3_open([databasepath UTF8String], &dbAssessor) == SQLITE_OK) 
    {
        NSString *sql = [NSString stringWithFormat:@"select * from SampleTable ;"];

        sqlite3_stmt *selectstmt;
        const char *sel_query=[sql UTF8String];

        if(sqlite3_prepare(dbAssessor, sel_query, -1, &selectstmt, NULL) == SQLITE_OK)
        {
            while(sqlite3_step(selectstmt) == SQLITE_ROW)
            {   
                NSLog(@"Prepared Successfully...");
            }
        }
        sqlite3_finalize(selectstmt);
    }
    else
        sqlite3_close(dbAssessor); 
```

Please try this code and pass me the result. Enjoy !!!

# php - Mysql根据日期计算行数

> ID：15517067
> 
> 赞同：2
> 
> 时间：2013-03-20T06:49:42.947
> 
> 标签：php, mysql, pdo

好吧，我不知道它应该是什么标题，也不知道如何解释，但我会尽力解释我的问题。

我有这张表由某些数据组成，这些数据侧重于**date_participated**和**fblike_point**。

![在此处输入图像描述](../Images/552df99bb71edbb7c82f1dc61b9043e0.png)

好吧，我想要的输出应该是

***2013-03-20 1***

***2013-03-19 3***

所以基本上，**每个日期都会计算 fblike_point 的数量**。

在 2013 年 3 月 19 日，它**总共有 3 个 fblike_point**，在 2013 年 3 月 20 日，它**总共有 1 个 fblike_point**

**我的问题**是，我输出的不是我想要的结果，我得到的结果是**2013-03-19 4**

它停留在 1 个日期并计算 fblike_point 的数量

这是我的代码。

```
$query = "SELECT DISTINCT date_participated, COUNT(fblike_point) as fblike FROM event_raffles WHERE ticket_id='". $ticket_id ."' AND event_table='". $event_table ."' AND status='1' ORDER BY date_participated DESC";
$result = db_query($query);

foreach ($result as $values) {
    echo $values->date_participated . " " . $values->fblike . "<br>";
} 
```

这东西有什么解决办法吗？任何帮助，将不胜感激。:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T06:52:11.313

您应该更改查询以使用 a`GROUP BY`而不是`DISTINCT`

```
SELECT date_participated, COUNT(fblike_point) as fblike 
FROM event_raffles
GROUP BY date_participated 
```

您使用的方法`DISTINCT`是获取所有唯一日期，并为每个结果添加*整个*结果集中返回的记录数量。

使用 a允许您使用*该组上*`GROUP BY`可用的任何聚合函数。

 ** * *

**编辑**

正如@ysth 所提到的，`COUNT`您可能希望`SUM`根据可能`fblike_point`具有的值来使用而不是使用。

使用`SUM`实际上是更明智的做法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:53:30.203

通过删除`DISTINCT`和替换`ORDER BY`来使用以下查询`GROUP BY`

```
$query = "SELECT date_participated, COUNT(fblike_point) as fblike FROM event_raffles WHERE ticket_id='". $ticket_id ."' AND event_table='". $event_table ."' 
AND status='1' GROUP BY date_participated DESC"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T06:54:57.013

代替

```
$query = "SELECT DISTINCT date_participated, COUNT(fblike_point) as fblike FROM event_raffles WHERE ticket_id='". $ticket_id ."' AND event_table='". $event_table ."' AND status='1' ORDER BY date_participated DESC"; 
```

和

```
$query = "SELECT  date_participated, COUNT(fblike_point) as fblike FROM event_raffles WHERE ticket_id='". $ticket_id ."' AND event_table='". $event_table ."' AND status='1' GROUP BY date_participated ORDER BY date_participated DESC"; 
```*

# java - 查找两个日期之间的差异并将日期存储在字符串类型中

> ID：15517076
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:50:01.570
> 
> 标签：java

我在 java 中做了一个应用程序，其中我有“从日期”和“到日期”的表单。我想检查从“To date”中选择的日期是否在“From date”之后 示例：如果从“From date”中选择的日期是 2013-03-18(YY-mm-dd) 那么选择的日期是“迄今为止”应该是 2013-03-18 之后/之后的任何日期。要获取我使用 JXDatePicker 的日期，并将日期转换为我使用的 yy-mm-dd 格式， `SimpleDateFormat formatter1 = new SimpleDateFormat("yyyy/MM/dd")` 我需要这个来验证，所以如果“To date”是>“From date”，那么它应该显示 JOptionPane错误信息。

编辑>我尝试从 JXDatePicker 中获取日期

```
Date fd = (Date) from.getDate(); 
```

这是在从 JXDatePicker 选择日期时执行的，我也尝试过打印日期，但是当我运行应用程序时出现如下错误：

```
Exception in thread "AWT-EventQueue-0" java.lang.ClassCastException: java.util.Date cannot be cast to java.sql.Date
    at rejectionCategorisedReport$1.actionPerformed(rejectionCategorisedReport.java:154)
    at org.jdesktop.swingx.JXDatePicker.fireActionPerformed(JXDatePicker.java:916)
    at org.jdesktop.swingx.JXDatePicker.commitEdit(JXDatePicker.java:706)
    at org.jdesktop.swingx.plaf.basic.BasicDatePickerUI.commit(BasicDatePickerUI.java:859)
    at org.jdesktop.swingx.plaf.basic.BasicDatePickerUI$Handler.monthViewActionPerformed(BasicDatePickerUI.java:1327)
    at org.jdesktop.swingx.plaf.basic.BasicDatePickerUI$Handler.actionPerformed(BasicDatePickerUI.java:1302)
    at org.jdesktop.swingx.JXMonthView.fireActionPerformed(JXMonthView.java:1788)
    at org.jdesktop.swingx.JXMonthView.commitSelection(JXMonthView.java:1686)
    at org.jdesktop.swingx.plaf.basic.BasicMonthViewUI$Handler.mouseReleased(BasicMonthViewUI.java:2053)
    at java.awt.Component.processMouseEvent(Unknown Source)
    at javax.swing.JComponent.processMouseEvent(Unknown Source)
    at java.awt.Component.processEvent(Unknown Source)
    at java.awt.Container.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Window.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

有人可以帮助我并告诉我问题是什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:00:19.420

首先，我会给出尽可能使用[Joda Time的常规建议。](http://joda-time.sf.net)内置的日期/时间 API 很*糟糕*，很容易混淆。

其次，尽可能避免使用字符串表示。您在要求中所说的任何内容都表明您*需要*字符串表示 - 所以不要创建一个。一般来说，尽可能早地将字符串表示转换为更合理的表示，并尽可能晚地转换*为*字符串表示*。*尽可能多地坚持使用`LocalDate`,`DateTime`等（或什`Date`至 and ）将为您提供更丰富的 API 来使用。`Calendar`

现在 Luiggi 说`Date`有`before`和`after`方法是对的，所以你*可以*使用：

```
Date fromDate = fromPicker.getDate();
Date toDate = toPicker.getDate();
if (toDate.before(fromDate)) {
    // Show an error message
} 
```

我个人可能会`LocalDate`尽早转换为（假设这些确实只是日期） - 可能使用您的表单中的方法：

```
// You'd have methods in your form to convert fromPicker.getDate() to LocalDate
// and likewise toPicker.
LocalDate fromDate = getFromDate();
LocalDate toDate = getToDate();
if (toDate.isBefore(fromDate)) {
    // Show an error message
} 
```

...再一次，这是尽早获得首选代表（Joda Time 代表）的问题。在这种特殊情况下，这可以说是矫枉过正，但只需要处理所有业务逻辑的*一种*表示有助于保持简单。

我还建议将日期选择器的时区设置为 UTC，因为您只选择日期 - 如果您使用 UTC 进行围绕此的*所有*转换，它会更容易避免问题，具体取决于您的代码位置在跑。

# sql - 错误 此功能未实现 SQL ORACLE

> ID：15517084
> 
> 赞同：0
> 
> 时间：2013-03-20T06:50:24.673
> 
> 标签：sql, oracle, dynamic-sql

我已经阅读[了这篇](http://www.java2s.com/Code/Oracle/PL-SQL/howtopassaNULLvaluetoEXECUTEIMMEDIATE.htm)关于 EXECUTE IMMEDIATE 语句中的 USING 子句的帖子：然后我只想测试它的非空值：

```
declare mydate date;
begin
mydate := to_date('01.01.2001','dd.mm.yyyy');
execute immediate 'insert into test_testik(DATEZ)
                   values :x' using mydate;
end; 
```

结果是以下错误 03001。 00000 - “未实现的功能” *原因：此功能未实现。

任何想法为什么会发生这种情况？先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:55:02.547

您应该`:x`根据 Oracle 语法用括号括起来。

# maven - Jenkins + Maven 中的自动增量版本号

> ID：15517086
> 
> 赞同：3
> 
> 时间：2013-03-20T06:50:27.040
> 
> 标签：maven, jenkins

我想在每次构建期间在 Maven 中自动增加版本号。

我尝试使用`autoincrement-versions-maven-plugin`，它工作正常。但是，修改后的 POM 文件需要从 Jenkins 内部提交回 SVN。

我怎么做？

我看过这个帖子：[Incrementing Maven Project Version with Jenkins/Git](https://stackoverflow.com/questions/9807226/incrementing-maven-project-version-with-jenkins-git)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:27:59.217

您可以使用[SVN Publisher](https://wiki.jenkins-ci.org/display/JENKINS/SVN+Publisher)

如果我理解您的问题，您需要在 jenkins 上进行提交（在 .pom 文件上提交更改）？

享受！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-03T18:46:34.503

您应该可以为此使用[Maven scm 插件](http://maven.apache.org/scm/maven-scm-plugin/usage.html)。只需在你的 pom 中设置一个 scm 块，例如

```
<project>
...
    <scm>
        <url>http://somerepository.com/view.cvs</url>
        <connection>scm:svn:http://somerepository.com/svn_repo/trunk</connection>
        <developerConnection>scm:svn:https://somerepository.com/svn_repo/trunk</developerConnection>
    </scm>
...
</project> 
```

然后添加一个 Jenkins Maven 构建步骤，其中包含目标“scm:checkin”和提交消息、存储库用户名和存储库密码等参数。更多信息[在这里](http://maven.apache.org/scm/maven-scm-plugin/checkin-mojo.html)。

# javascript - 如何使用javascript更改文本框值

> ID：15517088
> 
> 赞同：2
> 
> 时间：2013-03-20T06:50:44.380
> 
> 标签：javascript

我正在尝试更改文本框值。我正在尝试遵循 javascript，但在两个警报中都只获取图像。IE。 `$('#FileName').val = "testimage.jpg";`不会更改文本框字段值。

```
<x:input type="textbox" id="FileName"
width="210px" value=""/>

if ($("#FileName").val() == "image") {
    alert($("#FileName").val())
    $('#FileName').val = "testimage.jpg";
    alert($("#FileName").val())
 } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T06:51:54.123

你用过jquery

尝试 `$('#FileName').val("testimage.jpg");`

并使用 javascript `document.getElementById('')`

```
document.getElementById('FileName').value = "testimage.jpg"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:52:58.663

你应该试试这个

```
if ($("#FileName").val() == "image") {
    alert($("#FileName").val())
    $('#FileName').val("testimage.jpg");
    alert($("#FileName").val())
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:53:33.310

val 是一个方法，而不是一个属性，所以：

```
$('#FileName').val("testimage.jpg";) 
```

# c# - 带有绑定的扩展 WPF 工具包数据网格

> ID：15517095
> 
> 赞同：2
> 
> 时间：2013-03-20T06:50:57.473
> 
> 标签：c#, wpf, mvvm, datagrid, wpftoolkit

抱歉，我只找到了在列标记或旧样式中定义的 FieldName 的方式

```
<xcdg:DataGridCollectionViewSource x:Key="cvsMetals" Source="{Binding MetalTypes}">
    <xcdg:DataGridCollectionViewSource.GroupDescriptions>
        <!--<PropertyGroupDescription PropertyName="Year" />-->
    </xcdg:DataGridCollectionViewSource.GroupDescriptions>
</xcdg:DataGridCollectionViewSource>

<xcdg:DataGridControl ItemsSource="{Binding Source={StaticResource cvsMetals} }" AutoCreateColumns="True">
    <xcdg:DataGridControl.Columns>
        <xcdg:Column FieldName="Name" IsMainColumn="True"></xcdg:Column>
        <xcdg:Column FieldName="Year"></xcdg:Column>    
        <xcdg:Column FieldName="SelectedMetalSeries.Name"></xcdg:Column>
    </xcdg:DataGridControl.Columns>

</xcdg:DataGridControl> 
```

**SelectedMetalSeries.Name**的最后一列是具有属性的类。我没有找到显示对象的此属性名称的方法

我的视图模型：

```
public class AllMetalTypeViewModel : WorkspaceViewModel
{
    private ObservableCollection<MetalTypeViewModel> _metalTypes;
    public ObservableCollection<MetalTypeViewModel> MetalTypes
    {
        get { return _metalTypes; }
        set { Set("MetalTypes", ref _metalTypes, value); }
    } 
```

* * *

```
public class MetalTypeViewModel: WorkspaceViewModel
{
    private MetalSeries _selectedMetalSeries;
    public MetalSeries SelectedMetalSeries
    {
        get { return _selectedMetalSeries; }
        set { Set("SelectedMetalSeries", ref _selectedMetalSeries, value); }
    }

    private short _year;
    public short Year
    {
        get { return _year; }
        set { Set("Year", ref _year, value); }
    }

    private string _name;
    public string Name
    {
        get { return _name; }
        set { Set("Name", ref _name, value); }
    } 
```

* * *

```
public partial class MetalSeries
{
    #region Primitive Properties

    public virtual long ID
    {
        get;
        set;
    }

    public virtual string Name
    {
        get;
        set;
    } 
```

我发现旧样式似乎不再适用于新版本：

```
<ExtendedColumn:ExtendedDataGridTextColumn Header="Publisher" Binding="{Binding Publisher}" AllowAutoFilter="False" CanUserSort="False" Width="*"/> 
```

问题是我找不到可以绑定 ViewModel 属性的属性

[数据网格版本 1.9.0](http://wpftoolkit.codeplex.com/wikipage?title=DataGrid&referringTitle=Home)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-22T20:20:06.303

它是一个不绑定的 FieldName，我看到它不支持嵌套。然而，一个“好的”设计不应该有这样的问题。我会尝试简单地为 DataGrid 创建一个专用的 ViewModel。

# python - 使用 os.system 和 subprocess.Popen

> ID：15517104
> 
> 赞同：0
> 
> 时间：2013-03-20T06:51:40.710
> 
> 标签：python, shell, virtual-machine, vmware-workstation

我一直在尝试编写一个 python 脚本来远程控制我的虚拟机。例如，我想在我的虚拟机上运行一个程序并检查它是否正在运行。对于这一步，我尝试使用 Os.system，它似乎正在工作，但为了更好地控制我喜欢使用子进程，但不幸的是没有成功。我为 os.system 和 subprocess 提供了我的代码，如下所示：

```
os.system("vmrun -gu root -gp mohsen77 runProgramInGuest F:\Client\Ubuntu10464bit.vmx usr/bin/tcpreplay --intf1=eth4 /home/srastega/output.pcap")
print('PID is:' + str(os.getpid()))

args = shlex.split("vmrun -gu root -gp mohsen77 runProgramInGuest F:\Client\Ubuntu10464bit.vmx /bin/ls -l")
tcpreplay = subprocess.Popen(args, stderr=subprocess.STDOUT, stdout=subprocess.PIPE, shell=True)
out, err = tcpreplay.communicate()
print(out)
print('PID is:' + str(tcpreplay.pid)) 
```

对于第二段代码，我收到一个错误：

> 错误：无法打开虚拟机：F:\ClientUbuntu10464bit.vmx，找不到虚拟机

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T14:30:13.120

双引号字符串中的反斜杠可能具有特殊含义，可能会导致它们消失。我不确定为什么这两个调用的工作方式不同，但请尝试将反斜杠加倍或更改为正斜杠。

（从评论中的讨论中得到答案。）

# iphone - iPhone - 网站向左浮动

> ID：15517108
> 
> 赞同：0
> 
> 时间：2013-03-20T06:51:53.867
> 
> 标签：iphone, html, css, wordpress

我在这里有这个网站[http://heyheyandco.com/](http://heyheyandco.com/)我不知道它在 iPhone 上出了什么问题。

它在 Chrome、Firefox、IE、iPad 上看起来不错，但在 iPhone 上却不行。

好像所有东西都因为某种原因向左浮动。

这是我网站的一些 CSS（顺便说一句，它是一个 wordpress 网站）

```
.site-content article {
margin-bottom: 72px;
margin-bottom: 5.142857143rem;
padding-bottom: 24px;
padding-bottom: 1.714285714rem;
word-wrap: break-word;
-webkit-hyphens: auto;
-moz-hyphens: auto;
hyphens: auto;
padding-top: 15px;
}

.site-content {
float: left;
width: 65%;
margin: 1.714285714rem 0 0;
} 
```

我如何找出问题所在以及如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:09:52.477

对我来说，除了不适合移动设备的标题外，它在 iPhone 上看起来还不错。你能描述更多关于你的问题吗？可能是截图...

[尝试在http://mattkersley.com/responsive/](http://mattkersley.com/responsive/)此处测试设备分辨率，您也可以在其中使用开发人员工具并查看不同类型设备上出现的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T10:31:15.330

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes" /> 
```

在您的 html 文件中使用它...也许您会得到解决方案

# vb.net - 错误：Appname 已停止工作

> ID：15517111
> 
> 赞同：0
> 
> 时间：2013-03-20T06:52:03.710
> 
> 标签：vb.net, microsoft-metro, clr

我使用 vb.net 2010 开发了一个 64 位应用程序。我使用的是 64 位操作系统 windows7。当我运行此应用程序的设置时，它给出了错误“Appname has stop working”在错误窗口的详细信息中，它显示了一些文件如下

描述：停止工作

问题签名：问题事件名称：CLR20r3 问题签名 01：xmlsoa.exe 问题签名 02：0.0.3.0 问题签名 03：5141c1a6 问题签名 04：xmlSOA 问题签名 05：0.0.3.0 问题签名 06：5141c1a6 问题签名 07：4 问题签名 08：7 问题签名 09：System.InvalidCastException 操作系统版本：6.1.7600.2.0.0.256.1 区域设置 ID：1033

在线阅读我们的隐私声明：http: [//go.microsoft.com/fwlink/ ?linkid=104288&clcid=0x0409](http://go.microsoft.com/fwlink/?linkid=104288&clcid=0x0409)

如果在线隐私声明不可用，请离线阅读我们的隐私声明：C:\Windows\system32\en-US\erofflps.txt

请告诉我解决方案。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T06:53:09.517

您有一个**[System.InvalidCastException](http://msdn.microsoft.com/en-us/library/system.invalidcastexception%28v=vs.80%29.aspx)**，这意味着您的代码尝试将某些内容转换为不适合的类型。

尝试调试它。如果您没有资源，可以尝试[远程调试](http://msdn.microsoft.com/en-us/library/bt727f1t%28v=vs.71%29.aspx)

此外，如果您拥有 Visual Studio 的终极版，您可以考虑使用[Intellitrace](http://msdn.microsoft.com/en-us/library/dd264915%28v=vs.110%29.aspx)

# cocos2d-iphone - cocos 2d 和 box2d：我们如何通过 WiFi 连接两个设备来玩多人游戏？

> ID：15517115
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:52:18.057
> 
> 标签：cocos2d-iphone, wifi, box2d

我们如何通过 WiFi 连接两个设备来玩多人游戏？

使用 wifi 但不使用蓝牙的两个设备之间如何进行数据传输？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:02:45.133

以下是 Apple 如何通过 Wi-Fi 在两台设备之间传输数据的示例：[WiTap](http://developer.apple.com/library/ios/#samplecode/WiTap/Introduction/Intro.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T14:20:59.033

使用 GKSession 的 ad-hoc 网络功能。该应用程序既在本地网络上宣传自己，又自动连接到可用的对等点，从而建立一个点对点网络。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-09T11:57:16.343

作为我们都发现的记录，并且为了本文的完整性（或继续）......IOS 7.0 转储了整个 GKSession 事物，现在使用了 multipeerconnectivty 框架。有人说它更复杂，但给它一些时间，看看并理解苹果的一些例子，它真的一点也不差。

# c# - 计算 sql to ling 表中真实元素的数量

> ID：15517116
> 
> 赞同：2
> 
> 时间：2013-03-20T06:52:19.227
> 
> 标签：c#, linq

我想看看有多少已经全额支付，全额支付有点，但是 Visual Studio 和 Linq 将其转换为布尔值？

除非我强制转换，否则下面的代码将不起作用，但我该如何转换呢？我尝试了多种方法。

```
int i = (from c in YSA.YSAs
                where c.YSA_PAID_FULL = true
                select c).Count(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T06:54:20.267

你`==`不需要`=`

```
int i = (from c in YSA.YSAs
         where c.YSA_PAID_FULL == true
         select c).Count(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T06:55:18.837

看起来你应该使用`==`运算符

```
where c.YSA_PAID_FULL == true 
```

喜欢;

```
int i = (from c in YSA.YSAs
                where c.YSA_PAID_FULL == true
                select c).Count(); 
```

# opengl-es - 如何创建 LookUpTable[LUT] PNG 文件？

> ID：15517128
> 
> 赞同：0
> 
> 时间：2013-03-20T06:53:12.323
> 
> 标签：opengl-es, png, lookup-tables

我想在片段着色器中将颜色查找表作为 Sampler2D 加载，如何创建如下所示的 png 文件？

![LUT PNG](../Images/0d9a4c7e6fd84fd812d30805eaa5c625.png)

请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:00:54.463

好的。我解决了，只需在 CGContext 上绘制颜色并保存为 PNG 文件。在绘制之前，关闭抗锯齿。

```
CGContextSetAllowsAntialiasing(context,0); 
```

# android - 从 FragmentActivity (ActionBarSherlock) 获取片段视图

> ID：15517135
> 
> 赞同：-2
> 
> 时间：2013-03-20T06:53:46.267
> 
> 标签：android, android-fragments, actionbarsherlock, android-fragmentactivity

我有`TabHost` `FragmentActivity`（`SherlockFragmentActivity`）。

如何从中获取制表符（`Fragment`）？当然，没有办法。`View``FragmentActivity``static`

我的 FragmentActivity 代码

```
public class Landing extends SherlockFragmentActivity implements ProgressBarIndeterminateCallback {

    private ActionBar __ab;
    private TabHost __th;
    private TabManager __tm;
    private boolean __isWorking=false;
    public static Utils __utils;

    @SuppressLint("InlinedApi")
    @Override
    protected void onCreate(Bundle savedInstanceState){
        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);
        super.onCreate(savedInstanceState);
        __ab = getSupportActionBar();
        __ab.setDisplayShowTitleEnabled(false);
        __ab.setBackgroundDrawable( new ColorDrawable(Color.parseColor("#5EBDCF")));
        setSupportProgressBarIndeterminateVisibility(false);
        setContentView(R.layout.tab_bottom_layout);
        __th = (TabHost)findViewById(android.R.id.tabhost);
        __th.setup();
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
            __th.getTabWidget().setShowDividers(LinearLayout.SHOW_DIVIDER_NONE);
            __th.getTabWidget().setDividerPadding(0);
        } else {
            __th.getTabWidget().setDividerDrawable(getResources().getDrawable(R.drawable.tab_divider));
        }
        __tm = new TabManager(this,__th,android.R.id.tabcontent,this);
        __tm.addTab(createTab("signin","Sign In"),SignIn.class,null);
        __tm.addTab(createTab("signup","Sign Up"),SignUp.class,null);
        if (savedInstanceState != null) {
            __th.setCurrentTabByTag(savedInstanceState.getString("current_tab"));
        }
        __utils = new Utils(getApplicationContext());
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        MenuInflater inflater = getSupportMenuInflater();
        inflater.inflate(R.menu.landing, menu);
        return (super.onCreateOptionsMenu(menu));
    }

    @Override
    public boolean onPrepareOptionsMenu (final Menu menu) {
        return super.onPrepareOptionsMenu(menu);
    }
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case R.id.menu_resend_code:
        break;
        case R.id.menu_reset_password:
        break;
        case R.id.menu_about:
            startActivity(new Intent(getApplicationContext(), About.class));
        break;
        }
        return (super.onOptionsItemSelected(item));
    }

    @Override
    protected void onResume(){
        super.onResume();
    }

    @Override
    protected void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        outState.putString("current_tab", __th.getCurrentTabTag());
    }

    private TabSpec createTab(final String tag,final String title){
        final View tab = LayoutInflater.from(__th.getContext()).inflate(R.layout.landing_tab, null);
        ((TextView)tab.findViewById(R.id.text)).setText(title);
        return __th.newTabSpec(tag).setIndicator(tab);
    }

    public static class TabManager implements TabHost.OnTabChangeListener {

        private final Landing __landing;
        private final FragmentActivity __fa;
        private final TabHost __th;
        private final int __containerID;
        private final HashMap<String, TabInfo> __ti = new HashMap<String, TabInfo>();
        TabInfo __lastTab;

        static final class TabInfo {

            private final String __tag;
            private final Class<?> __class;
            private final Bundle __args;
            private Fragment __fragment;

            TabInfo(String tag, Class<?> clss, Bundle args) {
                __tag = tag;
                __class = clss;
                __args = args;
            }

        }

        static class DummyTabFactory implements TabHost.TabContentFactory {
            private final Context mContext;
            public DummyTabFactory(Context context) {
                mContext = context;
            }

            @Override
            public View createTabContent(String tag) {
                View v = new View(mContext);
                v.setMinimumWidth(0);
                v.setMinimumHeight(0);
                return v;
            }
        }

        public TabManager(FragmentActivity activity, TabHost tabHost, int containerId, Landing landing) {
            __landing = landing;
            __fa = activity;
            __th = tabHost;
            __containerID = containerId;
            __th.setOnTabChangedListener(this);
        }

        public void addTab(TabHost.TabSpec tabSpec, Class<?> clss, Bundle args) {
            tabSpec.setContent(new DummyTabFactory(__fa));
            String tag = tabSpec.getTag();
            TabInfo info = new TabInfo(tag, clss, args);
            info.__fragment = __fa.getSupportFragmentManager().findFragmentByTag(tag);
            if (info.__fragment != null && !info.__fragment.isDetached()) {
                FragmentTransaction ft = __fa.getSupportFragmentManager().beginTransaction();
                ft.detach(info.__fragment);
                ft.commit();
            }
            __ti.put(tag, info);
            __th.addTab(tabSpec);
        }

        @Override
        public void onTabChanged(String tabId) {
            if(__landing.__isWorking == false){
                SignUp.__isAvatarProvided = false;
                TabInfo newTab = __ti.get(tabId);
                if (__lastTab != newTab) {
                    FragmentTransaction ft = __fa.getSupportFragmentManager().beginTransaction();
                    if (__lastTab != null) {
                        if (__lastTab.__fragment != null) {
                            ft.detach(__lastTab.__fragment);
                        }
                    }
                    if (newTab != null) {
                        if (newTab.__fragment == null) {
                            newTab.__fragment = Fragment.instantiate(__fa,newTab.__class.getName(), newTab.__args);
                            ft.add(__containerID, newTab.__fragment, newTab.__tag);
                        } else {
                            ft.attach(newTab.__fragment);
                        }
                    }
                    __lastTab = newTab;
                    ft.commit();
                    __fa.getSupportFragmentManager().executePendingTransactions();
                }
            }
        }
    }

    @Override
    public void startProgressBarIndeterminate() {
        __isWorking = true;
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                __th.getTabWidget().setEnabled(false);
                setSupportProgressBarIndeterminateVisibility(true);
            }
        });     
    }

    @Override
    public void stopProgressBarIndeterminate() {
        __isWorking = false;
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                __th.getTabWidget().setEnabled(true);   
                setSupportProgressBarIndeterminateVisibility(false);
            }
        });
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:30:40.623

内部活动：

```
 @Override
            protected void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);
                setContentView(R.layout.your_activity);

                Fragment yourFragment = new YourFragment();

                //put fragment to activity
                //YOUR_FRAGMENT_ID is "@+id/" tag for fragment in your_activity.xml
                getSupportFragmentManager().beginTransaction().replace(R.id.YOUR_FRAGMENT_ID, yourFragment).commit();
                getSupportFragmentManager().executePendingTransactions();

               //get reference to fragment 
               Fragment refToYourFragment = (Fragment) getSupportFragmentManager().findFragmentById(YOUR_FRAGMENT_ID);
            } 
```

# gnu-make - Makefile 中的复杂命令执行

> ID：15517138
> 
> 赞同：0
> 
> 时间：2013-03-20T06:53:47.707
> 
> 标签：gnu-make, makefile, multiple-makefiles

我有一个关于在当前系统的 makefile 中执行复杂命令的查询。

我目前在makefile中使用shell命令来执行命令。但是我的命令失败了，因为它是许多命令的组合，并且执行会收集大量数据。makefile 内容是这样的：

```
variable=$(shell ls -lart | grep name | cut -d/ -f2- ) 
```

但是`make`执行失败并出现 execvp 失败，因为文件列表很大，我需要解析所有文件。

请建议我解决这个问题的任何方法。基本上我想执行一个复杂的命令并将该输出分配给我想稍后在程序中使用的makefile变量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T16:20:04.850

您可以轻松地使用 shell 功能来获得相同的结果，而不是将文件列表存储在变量中。有点奇怪的是，您将递归展平`ls`以仅获取叶子，然后运行`mkdir -p`这仅在父目录不存在时才真正有用，但是如果您知道想要的深度（例如当前目录和所有子目录下一级）您可以执行以下操作：

```
directories:
        for path in ./*name* ./*/*name*; do \
                mkdir "/some/path/$(basename "$path")" || exit 1; \
        done 
```

甚至[_](http://thehacklist.blogspot.ch/2011/08/bash-copy-directory-structure-without.html)

```
find . -name '*name*' -exec mkdir "/some/path/$(basename {})" \; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T14:54:18.967

（这可能需要几次迭代。）

这看起来像是架构的限制，而不是 Make 限制。有几种方法可以解决它，但你必须向我们展示你是如何使用它`variable`的，否则即使你成功构建它，你也可能无法按照你的意愿使用它。请向我们展示您打算执行的**确切**`variable`操作。

现在我建议你做几个实验并告诉我们结果。首先，使用简短的文件列表（例如三个）尝试分配，以验证分配是否符合您的预期。二、在文件多的目录下，试试：

```
variable=$(shell ls -lart | grep name) 
```

看看问题是否在`grep`或`cut`。

# jquery - 响应中的 JSON 对象

> ID：15517139
> 
> 赞同：1
> 
> 时间：2013-03-20T06:53:47.840
> 
> 标签：jquery, asp.net, json

尝试从 json 响应中获取值时，我一直未定义：

//错误

```
{"NewDataSet":{"Table1":{"AUTONUM":"120"}}} 
```

//代码

```
function DisplayAdvisorDetail() {
            $.ajax({
                type: "POST",
                url: "url",
                data: "{'ZipCode':'48038'}",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    var adv = response.d;
                    $("#QuickenName").html(adv.AUTONUM);
                    alert(adv.AUTONUM);
                },
                failure: function (msg) {
                    alert(msg);
                }
            });
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:58:13.573

无论如何，您的 json 格式对我来说看起来不正确.. 您可以使用`.`运算符来获取响应对象的值

```
 var adv = response.NewDataSet.Table1;
  $("#QuickenName").html(adv.AUTONUM);
  alert(adv.AUTONUM); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T06:57:21.593

这个：

```
var adv = response.d; 
```

必须：

```
var adv = response.NewDataSet.Table1; 
```

您的响应是获取 json，然后根据您获取的 json 对象添加对象`.`，在这种情况下，第一个对象`NewDataSet`就在其中`Tabel1`。进行此更改后，您肯定会在`adv.AUTONUM`.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-20T07:02:10.277

那么最好试试这个。

```
success: function (response) {
                    var adv = $.parseJSON(response.d);
                    $("#QuickenName").html(adv.Table1[0].QuickenName);
                    alert(adv.Table1[0].AUTONUM);
                }, 
```

# java - Liferay 的 service.xml 中的 Blob 数据类型

> ID：15517141
> 
> 赞同：2
> 
> 时间：2013-03-20T06:54:01.687
> 
> 标签：java, mysql, image, liferay, blob

我正在使用 liferay 并希望将图像存储在我的 MySQL 数据库中。我的 service.xml 是这样的：

```
<entity name="DLApp" local-service="true" remote-service="true">
    <column name="blobId" type="long" primary="true" />
    <column name="desc" type="String" />
    <column name="image" type="Blob" />
</entity> 
```

当我构建服务时，我收到 BUILD SUCCESSFUL 消息，但在 blobuploadModelImpl 类中的包 com.test.blob.upload 中出现错误。

我应该如何编写函数将图像存储在数据库中并检索它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-29T08:19:01.487

I had same issue with Blob, so I changed it to String type, it was enought to store images up to 10 MB as string, I have used MySql as database and those column was mapped as LONGTEXT. Also field should be 'hinted' in model hints as CLOB, See example below.

```
<entity name="UserExt" local-service="true" remote-service="true">
    <column name="photo" type="String" />
</entity>

<model-hints>
    <model name="com.project.model.UserExt">
                <field name="photo" type="String">
            <hint-collection name="CLOB" />
        </field>
       </model>
</model-hints> 
```

Alternativelly you can store your images to Liferay's image gallery.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-05T06:50:42.130

假设我的实体名称是 SB_Claims 所以我通常在 SB_ClaimsModelImpl.java 类中得到一个错误

```
 sb_ClaimsModelImpl._ContentBlobModel = null; 
```

sb_ClaimsModelImpl 变量未声明或定义。我们只是在服务构建操作之后声明了这个变量。如果您再次构建服务，则此代码将被服务构建器删除。始终在构建服务之后使用此代码，然后不构建服务，只需部署您的 portlet。这将解决问题。在下面我只是修改那个类。

```
 @Override
    public void resetOriginalValues() 
    {
SB_ClaimsModelImpl sb_ClaimsModelImpl=this;
sb_ClaimsModelImpl._ContentBlobModel = null;
     } 
```

希望这对某人有帮助。

# c# - 从“Metro”应用程序检索存储在 Windows 8 设备上的文件

> ID：15517142
> 
> 赞同：0
> 
> 时间：2013-03-20T06:54:06.967
> 
> 标签：c#, .net, windows-8, microsoft-metro

我希望能够允许我的用户从我的 Windows 8 (Metro) Store 应用程序中选择存储在他们的 Windows Phone 上的照片和视频。我不确定这是否可行，但由于 Windows Phone 在通过 USB 插入时表现为类似 USB 驱动器的设备，我假设它与任何其他`Remote Storage`.

有没有办法以编程方式访问此位置，而无需打开 Picker，以便如果他们愿意，该过程可以在某种程度上自动化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:57:41.513

有预定义的选择器

这是使用图像的文件选择器的示例。但请注意，如果用户选择了您权限范围之外的文件（来自示例桌面），则只有从选择器返回的 StorageFile 实例才有权访问。

所以只要你对那个文件做点什么，你就应该让它活着。或者你在本地复制它

```
 /// <summary>
    /// 
    /// </summary>
    /// <param name="identity"></param>
    /// <returns></returns>
    public static async Task<IStorageFile> FileFromPicker(string identity)
    {
        FileOpenPicker picker = new FileOpenPicker();

        setFileTypes(picker);

        picker.SuggestedStartLocation = PickerLocationId.PicturesLibrary;
        picker.ViewMode = PickerViewMode.Thumbnail;
        picker.SettingsIdentifier = identity;

        var storageFile = await picker.PickSingleFileAsync();

        return storageFile;
    } 
```

# database - TABLESPACE PostgreSQL 数据库的作用

> ID：15517143
> 
> 赞同：0
> 
> 时间：2013-03-20T06:54:08.310
> 
> 标签：database, postgresql

我正在使用 postgres 9.0 版本。

我已经在我的数据库中执行了这个查询：-

```
SELECT * FROM pg_tablespace; 
```

输出是这样的：

![输出示例](../Images/677c2981a464a6f9c1a38da9df541ff9.png)

我知道“pg_default”和“pg_global”是默认的 TABLESPACE，但我想知道：

1.  这些的绝对路径是什么
2.  主要目的是什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T06:58:47.717

表空间[包含在 PostgreSQL 手册](http://www.postgresql.org/docs/current/static/manage-ag-tablespaces.html)中。我引用：

> 通过使用表空间，管理员可以控制 PostgreSQL 安装的磁盘布局。这至少在两个方面很有用。首先，如果初始化集群的分区或卷空间不足且无法扩展，则可以在不同的分区上创建表空间并使用，直到可以重新配置系统。
> 
> 其次，表空间允许管理员使用数据库对象使用模式的知识来优化性能。例如，一个使用非常频繁的索引可以放在一个非常快速、高度可用的磁盘上，例如一个昂贵的固态设备。同时，存储很少使用或性能不重要的归档数据的表可以存储在成本较低、速度较慢的磁盘系统上。

并且：

> psql 程序的`\db`元命令对于列出现有表空间也很有用。

# windows-phone-8 - 将字节数组转换为列表 Windows phone 8

> ID：15517149
> 
> 赞同：0
> 
> 时间：2013-03-20T06:54:20.907
> 
> 标签：windows-phone-8

我正在使用这段代码将 List 转换为字节数组，但我想再次将此数据转换为 List 怎么可能。

```
List<String> stringlist = new List<String>();
stringlist.Add("Oye Oye");
stringlist.Add("Hello hello");
byte[] byteArr = stringlist.SelectMany(s => System.Text.Encoding.UTF8.GetBytes(s)).ToArray(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:18:28.710

在您的示例中，这是不可能的，因为您无法判断字符串在哪里结束以及下一个字符串从哪里开始。可以使用分隔符（字符 \0 通常用于指示字符串的结尾）：

```
List<String> stringlist = new List<String>();
stringlist.Add("Oye Oye");
stringlist.Add("Hello hello");
byte[] byteArr = stringlist.SelectMany(s => System.Text.Encoding.UTF8.GetBytes(s + '\0').ToArray(); 
```

然后，您可以使用以下`Split`方法检索您的列表：

```
var stringList = System.Text.Encoding.UTF8.GetString(byteArr, 0, byteArr.Length).Split('\0'); 
```

但总的来说，我认为这不是一个好主意。根据您的需要，我宁愿建议使用`DataContractSerializer`将您的数组转换为字节：

```
var serializer = new System.Runtime.Serialization.DataContractSerializer(typeof(List<string>));

byte[] byteArr;

using (var ms = new System.IO.MemoryStream())
{
    serializer.WriteObject(ms, stringlist);
    byteArr = ms.ToArray();
} 
```

并将其转换回来：

```
using (var ms = new System.IO.MemoryStream(byteArr))
{
    stringlist = (Sserializer.ReadObject(ms);
} 
```

# iphone - 在IOS中合并两个类对象

> ID：15517160
> 
> 赞同：0
> 
> 时间：2013-03-20T06:54:58.750
> 
> 标签：iphone, ios, objective-c

我正在尝试合并两个类对象，如下所示

```
Class College{ 
      name,
      collegeName,
      students(Array)
} 
```

我正在为这个名为**objCollegeA**和**objCollegeB**的类创建两个对象。

如果我为这些对象分配以下值

```
objCollegeA.name = @"name1"
objCollegeA.collegeName = @"collegeName2"
objCollegeA.students = [NSArray arrayWithObjects:@"test1",@"test2",nil]; 
```

对于第二个对象，我分配以下值

```
objCollegeB.name = @"name1"
objCollegeB.collegeName = @"collegeName2"
objCollegeB.students = nil;//Here this array is nil 
```

现在我需要合并这两个对象，如下所示

`objCollegeA + objCollegeB => objCollegeA with Values {@"name1",@"collegeName2", [NSArray arrayWithObjects:@"test1",@"test2",nil];}`

这意味着我需要合并两个对象并将 nil 值替换为第二个对象中的值并返回。有没有办法在目标C中做到这一点？

预先感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:01:15.560

您是否总是将collegeA 的nil 属性设置为collegeB 的那些属性，并使非nil 与collegeA 中的属性相同？如果是这样，你可以这样做：

```
-(College)addCollege:(College *)collegeB {
    if (!self.name) self.name = collegeB.name;
    if (!self.collegeName) self.collegeName = collegeB.collegeName;
    if (!self.students) self.students = collegeB.students;
} 
```

然后你可以打电话：

```
[collegeA addCollege:collegeB]; 
```

请注意，这会将它们设置为相同的对象，而不是复制对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:01:40.873

`College`只需在类中创建您的 add 方法

```
- (void)add:(College*)obj
{
    if(name == nil)
    {
        name = obj.name;
    }
    if(collegeName == nil)
    {
        collegeName = obj.collegeName;
    }
    if(students == nil && obj.students != nil)
    {
        students = [NSArray arrayWithArray:obj.students];
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:49:31.413

如果我理解您的问题，那么首先您需要修改此语句：

```
objCollegeA.students = [NSMutableArray arrayWithObjects:@"test1",@"test2",nil]; 
```

然后`[objCollegeA.students addObjectsFromArray:objCollegeB.students];`

如果您需要使用 objCollegeB.name 更改 objCollegeA.name，请执行以下操作：

```
objCollegeA.name = objCollegeB.name; 
```

和`objCollegeA.collegeName = objCollegeB.collegeName;`

# ios - 添加新的建筑数据后发送推送通知

> ID：15517164
> 
> 赞同：0
> 
> 时间：2013-03-20T06:55:15.727
> 
> 标签：ios, objective-c, ios6, push-notification, apple-push-notifications

我正在创建 iPhone 应用程序，我想在其中向拥有我的应用程序的用户发送通知。当管理员登录添加一些建筑物时，我想发送推送通知。（不是通过推送通知网站然后手动发送）

知道如何完成这项工作吗？

我是推送通知的新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:09:16.873

对于推送通知。，在这里注册自己。。

[城市飞艇](https://go.urbanairship.com/accounts/register/)

[教程链接](https://docs.urbanairship.com/display/DOCS/Getting+Started%3a+iOS%3a+Push)

本网站提供为我们的应用程序发送推送通知。我也在我的应用程序中实现了这一点。

享受。快乐编码。谢谢

# phantomjs - 无法通过 Selenium Grid2 使用 RemoteWebDriver(Ghost,Phantom)

> ID：15517165
> 
> 赞同：2
> 
> 时间：2013-03-20T06:55:17.270
> 
> 标签：phantomjs, selenium-grid, ghostdriver

我今天尝试了 GhostDriver 和 Phantomjs。当我使用 GhostDriver 时，它运行良好。这样开始

> phantomjs --webdriver=8910 然后

```
new RemoteWebDriver(new URL("http://localhost:8910"), sCaps); 
```

我的硒测试用例可以通过。

然后我尝试使用 Selenium2Grid，所以我启动 selenium 独立服务器作为集线器：

```
D:\_Try\selenium>java -jar selenium-server-standalone-2.31.0.jar -role hub
2013-3-20 14:13:49 org.openqa.grid.selenium.GridLauncher main
信息: Launching a selenium grid server
2013-03-20 14:13:50.026:INFO:osjs.Server:jetty-7.x.y-SNAPSHOT
2013-03-20 14:13:50.060:INFO:osjsh.ContextHandler:started o.s.j.s.ServletContextHandler{/,null}
2013-03-20 14:13:50.068:INFO:osjs.AbstractConnector:Started SocketConnector@0.0.0.0:4444 
```

然后将 GhostDriver 注册到集线器

```
C:\Users\administrator>phantomjs  --webdriver=8910 --webdriver-selenium-grid-hub=http://localhost:4444
PhantomJS is launching GhostDriver...
Ghost Driver running on port 8910
Registered with grid hub: http://localhost:4444/ (ok) 
```

然后我通过 Grid 控制台检查了注册：`http://localhost:4444/grid/console`发现 phantomjs 已经注册了。所以我修改了代码，客户端应该访问网格：

```
new RemoteWebDriver(new URL("http://localhost:4444"), sCaps); 
```

重新运行 selenium 测试用例，我认为它会运行良好，但抛出异常：

```
java.lang.ClassCastException: java.lang.String cannot be cast to java.util.Map
    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:218)
    at org.openqa.selenium.remote.RemoteWebDriver.<init>(RemoteWebDriver.java:111)
    at org.openqa.selenium.remote.RemoteWebDriver.<init>(RemoteWebDriver.java:129)
    at net.pipitest.selenium.trial.ghost.BaseTest.prepareDriver(BaseTest.java:117)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597) 
```

我调试了代码，发现在RemoteWebDriver.class中，响应是Selenium Grid Page（`http://localhost:4444`）的源代码，应该是这样的MAP对象（下面是我直接使用GhostDriver时得到的）：[platform=windows -7-32 位，acceptSslCerts=false，javascriptEnabled=true，browserName=phantomjs，rotatable=false，locationContextEnabled=false，版本=phantomjs-1.8.1+ghostdriver-1.0.2，databaseEnabled=false，cssSelectorsEnabled=true，handlesAlerts=false , browserConnectionEnabled=false, webStorageEnabled=false, proxy={proxyType=direct}, nativeEvents=true, applicationCacheEnabled=false, takeScreenshot=false]

有没有人遇到过这个问题？或者有什么建议？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:48:55.300

1.  `java -jar selenium-server-standalone-2.31.0.jar -role hub` - run selenium grid hub
2.  `phantomjs --webdriver=8080 --webdriver-selenium-grid-hub=http ://localhost:4444` - run webdriver on port 8080 and integration with selenium grid
3.  `new RemoteWebDriver(new URL("http://{lh or remote ip}:8080"), dCap);` run PhanomJSDriver in dCap must be phantomjs capability

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-17T16:14:40.320

我有一个类似的问题，解决方案只是使用 `URL("http://localhost:4444/wd/hub")` 而不是 `URL("http://localhost:4444/")`

# ruby-on-rails - 有没有列出所有正在使用的资产的 Rails 3 资产管道工具？

> ID：15517171
> 
> 赞同：1
> 
> 时间：2013-03-20T06:55:29.847
> 
> 标签：ruby-on-rails, ruby-on-rails-3, asset-pipeline

例如：我想查看整个站点实际引用了哪些图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-08T10:31:50.627

看看： http: [//blog.scoutapp.com/articles/2012/08/23/removing-deadweight-cleaning-up-our-rails-app](http://blog.scoutapp.com/articles/2012/08/23/removing-deadweight-cleaning-up-our-rails-app)。基本思想是扫描您的日志文件以获取访问条目。

# android - 将位图传递给其他活动在 logcat FAILED BINDER TRANSACTION 上获取消息

> ID：15517176
> 
> 赞同：2
> 
> 时间：2013-03-20T06:55:49.413
> 
> 标签：android, android-activity, bitmapimage

当我将位图图像传递给其他活动时，我在 logcat 上获得了 mag-

```
 03-20 12:06:56.553: E/JavaBinder(280): !!! FAILED BINDER TRANSACTION !!! 
```

大尺寸图像正在发生这种情况。小尺寸图像效果很好。我该怎么办？请帮助我。提前谢谢。

在这里，我将数据传递为-

```
Drawable drbl=_imageView.getDrawable();
    int imageh=_imageView.getHeight();
    int imagew=_imageView.getWidth();
    Bitmap bit = ((BitmapDrawable)drbl).getBitmap();
    intent.putExtra("Image_Height", imageh);
    intent.putExtra("Image_Width", imagew);
    intent.putExtra("Bitmap",bit);
    startActivityForResult(intent, 2); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:05:43.010

Putting that amount of data in **extras** is not a good approach. Easiest work around is keep a static reference of the new Bitmap

```
public static Bitmap getBitmap(Bitmap changeBitmap){
return bitmap;
} 
```

And after using it recyle it i this manner.

```
if(changedBitmap!=origanlBitmap)
orignalBitmap.recycle(); 
```

# asp.net-mvc - MVC2 - DropDownListFor 复杂属性 - 没有选定项

> ID：15517177
> 
> 赞同：0
> 
> 时间：2013-03-20T06:55:54.377
> 
> 标签：asp.net-mvc, asp.net-mvc-2

我正在使用 ASP.NET MVC 2.0，但显然这也是 MVC 3.0 中的一个问题。

基本上，如果您有一个“复杂”的属性名称，`Html.DropDownListFor`则不设置任何`SelectListItem.Selected = true`.

所以这有效（在哪里`ViewData.States`）`IEnumerable<SelectListItem>`。

```
<td><%= Html.DropDownListFor( m => m.State, ViewData.States ) %></td> 
```

但这不会：

```
<td><%= Html.DropDownListFor( m => m.CaseFields[i].State, ViewData.States ) %></td> 
```

我看到了[这个 QA，其中回答者正确地解释了问题](https://stackoverflow.com/questions/8957000/mvc3-html-dropdownlistfor-not-populating-selected-item)，但是他使用`SelectList`作为参数的解决方案`DropDownListFor`在我的情况下不起作用 - 我得到完全相同的结果（`<option>`元素负载但不是单个`selected="selected"`属性）。

我很想重新实现`DropDownListFor`，但如果有人知道解决方法，我很想听听！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T18:32:36.967

我通过`DropDownListFor`从 CodePlex 上的 MVC 项目复制源代码并进行一些更改来重新实现，从而解决了这个问题。

我所做的主要更改是将调用`ViewData.Eval`（在 MVC 2 和 3 中不支持索引属性）替换为`ModelMetadata.FromLambdaExpression().Model`，并且效果很好。

我还添加了对数字枚举值的支持，因为`DropDownListFor`如果您使用字符串（名称）值而不是数字值，则仅绑定枚举值。

# c++ - C++ 中的 SIP Websocket 客户端实现

> ID：15517179
> 
> 赞同：0
> 
> 时间：2013-03-20T06:56:00.863
> 
> 标签：c++, websocket, sip

我需要使用 c++ 实现一个 SIP websocket 客户端。我有 npm SIP websocket 服务器。我想使用 c/c++ 测试连接。是否有任何易于使用的库可用于在 c/c++ 中实现 SIP websocket 客户端？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:12:40.397

如果当然有。看看[WebSocket++](http://www.zaphoyd.com/websocketpp)。

至于具体怎么做——我不知道，因为我不知道 SIP 协议。但我冒昧地猜测您需要在 WebSocket 中使用二进制帧。你说的已经存在的服务器显然已经实现了它——它的文档应该包含一些关于如何与它交互的信息。

# asp.net - 单选按钮列表不对齐问题

> ID：15517182
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:56:16.287
> 
> 标签：asp.net, css, visual-studio-2012, visual-studio-express, radiobuttonlist

我刚刚开始使用 Visual Studio 2012 Express WEB，我在代码隐藏中创建的一些控件存在很多问题。

例如，对于我的 RadiobuttonList，实际的单选按钮位于这个类似白色文本框的背景内，而且它很长，并且文本位于单选按钮下方：

![在此处输入图像描述](../Images/fc345c0665bb3e79f869c123752ad506.png)

我的代码如下：

```
RadioButtonList radioOption = new RadioButtonList();
                    SqlCommand command1 = new SqlCommand(cmd, conn);
                    SqlDataAdapter adapter1 = new SqlDataAdapter(command1);
                    adapter1.Fill(dt1);

                    if (dt1.Rows.Count > 0)
                    {
                        for (int i = 0; i < dt1.Rows.Count; i++)
                        {
                            radioOption.Items.Add(new ListItem(dt1.Rows[i][9].ToString(), dt1.Rows[i][8].ToString()));
                        }
                    }
                    tb.Rows.Add(tr);
                    td2.Controls.Add(radioOption);
                    tr.Cells.Add(td2); 
```

有任何想法吗？我正在使用 VS Express 的母版页模板。

另外，我可以使用什么 CSS 代码来解决这个设计问题？非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T22:26:35.710

在这里找到我的解决方案：

[http://forums.asp.net/t/1876579.aspx/2/10?Weird+Radio+button+appearance+in+Visual+Web+Express+2012](http://forums.asp.net/t/1876579.aspx/2/10?Weird+Radio+button+appearance+in+Visual+Web+Express+2012)

```
label.checkbox {
    display: inline;
}

input, textarea {
    border: 1px solid #e2e2e2;
    background: #fff;
    color: #333;
    font-size: 1.2em;
    margin: 5px 0 6px 0;
    padding: 5px;
    width: 20px;
} 
```

# java - 我们可以更改 Maven 默认目录（.m2）名称吗？

> ID：15517183
> 
> 赞同：15
> 
> 时间：2013-03-20T06:56:17.667
> 
> 标签：java, linux, windows, maven

正如我们所知，Maven 将存储库中的所有 Jars 下载到本地机器中的默认目录名称**.m2**和该目录在**Windows**机器（内部**用户**文件夹）中的位置，或者在**Linux**机器的**主**目录中。现在我的问题是我们可以将**.m2**的名称更改为**myjars**或其他名称吗？

 ******* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-20T06:59:56.690

是的：

```
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0
                  http://maven.apache.org/xsd/settings-1.0.0.xsd">
   <localRepository>${user.home}/.m2/repository</localRepository>
   <interactiveMode>true</interactiveMode>
   <usePluginRegistry>false</usePluginRegistry>
   <offline>false</offline>
   ...
 </settings> 
```

*   **localRepository：**此值是此构建系统的本地存储库的路径。默认值为 ${user.home}/.m2/repository。此元素对于允许所有登录用户从公共本地存储库构建的主构建服务器特别有用。

*   **interactiveMode：**如果 Maven 应该尝试与用户交互以进行输入，则为 true，否则为 false。默认为真。

*   **usePluginRegistry：**如果 Maven 应该使用 ${user.home}/.m2/plugin-registry.xml 文件来管理插件版本，则为 true，默认为 false。请注意，对于当前版本的 Maven 2.0，不应依赖 plugin-registry.xml 文件。现在认为它处于休眠状态。

*   **离线：**如果此构建系统应在离线模式下运行，则为 true，默认为 false。由于网络设置或安全原因，此元素对于无法连接到远程存储库的构建服务器很有用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T06:58:07.423

**是**的，你可以这样做。但请确保，您在maven 主目录的文件夹中`<localRepository>`的`settings.xml`当前文件夹中进行了适当的路径更改。`conf`******

# caching - 我可以为不同的数据库调整不同的内存缓存大小吗？

> ID：15517190
> 
> 赞同：4
> 
> 时间：2013-03-20T06:56:46.233
> 
> 标签：caching, sqlite

我有一个使用 SQLite 的应用程序。它使用七个不同的数据库文件，每个文件都有一个使用`sqlite3_open`. 其中六个不是性能关键，但一个是。

我想使用`PRAGMA cache_size`. 但是，这会更改所有连接的缓存大小。七个数据库中的每一个都没有足够的内存来使用性能关键数据库所需的内存。

我已经确认该设置确实会影响所有连接。而且我已经确认没有公共池 - 每个连接都单独限制为指定的内存量。

有简单的解决方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:46:43.487

`PRAGMA cache_size`只影响一个数据库连接。

确保您的连接未[共享](http://www.sqlite.org/sharedcache.html)（与`sqlite3_enable_shared_cache`或`SQLITE_OPEN_SHAREDCACHE`）。

# c# - 限制共享点的上传速度

> ID：15517194
> 
> 赞同：0
> 
> 时间：2013-03-20T06:57:15.270
> 
> 标签：c#, asp.net, sharepoint-2010

我正在使用服务器对象模型概念在 sharepoint2010 文档库中上传文档。我想通过代码限制上传速度。谁能告诉我，我如何限制sharepoint2010的上传速度？文档库上是否有任何选项可以限制速度？或者向我提供任何 c# 代码来限制上传速度。

提前致谢

# c# - 如何在gridview中禁用html复选框

> ID：15517197
> 
> 赞同：1
> 
> 时间：2013-03-20T06:57:34.040
> 
> 标签：c#, asp.net

我正在使用下面的代码来禁用标题复选框是否项目状态为“Y”。我尝试使用此方法禁用 asp.net 复选框，但我无法在 html chackbox 中执行此操作。谁能帮我做到这一点？

```
<asp:TemplateField>
                                    <HeaderTemplate>

                                        <input id="chk_invoice" type="checkbox" onclick="CheckAllinvoice(this)" runat="server" disabled='<%# (Eval("FLD_STATUS").ToString() == "Y") ? "disabled":"enabled" %>' />// ERROR HERE
                                    </HeaderTemplate>
                                    <ItemTemplate>
                                        <asp:CheckBox ID="chkSelect" runat="server" Checked='<%# (bool)(Eval("FLD_PAID").ToString() == "Y") ? false:true %>'
                                            Enabled='<%# (bool)(Eval("FLD_PAID").ToString() == "Y") ? false:true %>' />
                                    </ItemTemplate>
                                    <ItemStyle Width="20px" />
                                </asp:TemplateField> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:11:04.683

`disabled`存在时类似于布尔属性，它意味着该复选框将被禁用。

所以我想你应该尝试类似的东西

```
.. runat="server" <%# (string)Eval("FLD_STATUS") == "Y" ? "disabled" : "" %> ... 
```

# c - 递归 strcpy 函数

> ID：15517200
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:57:41.480
> 
> 标签：c, string, recursion, strcpy

```
#include <stdio.h>
char *strcpy_r(char* s, char* t);

int main()
{
  char *s = {"Bob"};
  char *t = {"Billy"};
  char *ptr;
  ptr = strcpy_r(s, t);
  printf("%s\n", ptr);

  return 0;
}

char* strcpy_r(char* s, char* t)
{
  if((*s = *t) != '\0')
    strcpy_r(s + 1, t + 1);
  return s;
} 
```

我这样做只是为了练习，但是当我编译它时。我从主那里得到了一个段错误。有人能告诉我是什么导致了这个段错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:01:00.583

**恭喜，您在一行**中调用了两次未定义的行为。

 **首先，您不能修改字符串文字的内容。所以`strcpy()`ing on`"foo"`是错误的。

第二，即使你可以：你正在将一个字符串复制到一个比字符串短的缓冲区。这又是UB。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:00:25.760

您正在尝试修改常量字符串。这是错误的！当您修改常量字符串时，可能会出现段错误。

而是这样做：

```
 char s[10] = "Bob";
  char t[10] = "Billy";
  char *ptr; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T06:59:34.307

您不能覆盖用于保存带引号的字符串的内存。那会立即出现段错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T06:59:56.430

字符串文字是*常量*，即它们不能改变。您还尝试将较长的字符串复制到较短的字符串中，这将超出目标字符串的范围。

这两个问题都会导致*未定义*的行为，从而导致崩溃。

* * *

要解决第一个问题，您必须使用一个数组作为目标字符串。要解决另一个问题，您必须确保目标数组*至少*与源字符串一样大（包括其终止`'\0'`）。**

# bash - 两者中哪一个在文件操作方面更好？

> ID：15517201
> 
> 赞同：1
> 
> 时间：2013-03-20T06:57:42.063
> 
> 标签：bash, shell, sed, tail, head

我有一个包含大量数值（+2M）的文件“tbook1”。我必须在 bash (Solaris / RHEL) 中执行以下操作：

```
Do following:
Remove 1st and last 2 lines
Remove (,") & (")
Substitute (, ) with (,) 
```

我可以使用两种方法来做到这一点：

```
Method1:
sed -e 1d -e 's/,"//g' -e 's/, /,/g' -e 's/"//g' -e 'N;$!P;$!D;$d' tbook1 > tbook1.3

method2:
tail -n +2 tbook1 | head -n -2 > tbook1.1
sed -e 's/,"//' -e 's/, //' tbook 1.1 > tbook1.2 
```

我想知道哪个更好，即更快更高效（资源使用）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:24:11.747

方法 1 通常会更有效，主要是因为方法 2 的额外管道和读取和写入的中间文件..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:25:13.197

方法一只扫描一次文件并写入1个结果（但请将结果存储在不同名称的文件中） 方法二2扫描原始文件和中间结果并写入中间和最终结果。它肯定会慢两倍左右。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:59:04.697

我认为`head`并且`tail`对于这个行消除任务比 pure 更有效`sed`。但是另外两个答案也是对的。您应该避免运行多次。

您可以通过将它们链接在一起来改进第二种方法：

```
tail -n +2 book.txt | head -n -2 | sed -e 's/,"//' -e 's/, //' 
```

然后`head`更快`tail`。自己尝试（在合理大小的文件上）：

```
#!/usr/bin/env bash

target=/dev/null

test(){
        mode=$1
        start=$(date +%s)
        if   [ $mode == 1 ]; then
                sed -e 1d -e 's/,"//g' -e 's/, /,/g' -e 's/"//g' -e 'N;$!P;$!D;$d' book.txt > $target
        elif [ $mode == 2 ]; then
                tail -n +2 book.txt | head -n -2 | sed -e 's/,"//' -e 's/, //' > $target
        else
                cat book.txt > /dev/null
        fi

        ((time = $(date +%s) - $start))
        echo $time "seconds"
}

echo "cat > /dev/null"
test 0

echo "sed > $target"
test 1

echo "tail/head > $target"
test 2 
```

我的结果：

```
cat > /dev/null
0 seconds

sed > /dev/null
5 seconds

tail/head > /dev/null
3 seconds 
```

# ruby - Rack 是串行还是并行处理请求？

> ID：15517202
> 
> 赞同：1
> 
> 时间：2013-03-20T06:57:43.227
> 
> 标签：ruby, rack, thin, unicorn

假设我有一个单进程 Rack 应用程序，如果多个请求同时到达，是否可以`call(env)`同时发生调用？还是保证`call(env)`会连续发生，因此没有竞争条件`@counter`？使用 Unicorn 或 Thin 有什么区别吗？

```
require 'json'

class Greeter
  def call(env)
    req = Rack::Request.new(env)
    @counter ||= 0
    @counter = @counter + 1
    puts @counter
    [200, {"Content-Type" => "application/json"}, [{x:"Hello World!"}.to_json]]
  end
end

run Greeter.new 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:19:57.027

这取决于您的机架处理程序（应用程序服务器）。Unicorn 和 Thin 都能够使用多进程和/或事件模型来处理并发请求，具体取决于您选择的模型以及配置方式。所以这并不是 Rack 是否支持它的问题，因为它是负责并发的处理程序（Unicorn、Thin 或其他）。这篇文章有一些更多的细节和几个流行的 Rack 应用服务器的概述：

> [Sinatra 是多线程的吗？](https://stackoverflow.com/questions/6278817/is-sinatra-multi-threaded)

如果您想知道`Greeter`类中的实例变量是否可能在线程之间共享，即使使用其中一个并发应用程序服务器也不应该发生这种情况，因为它们每个都有自己的`Greeter`实例，因此会有单独的实例变量。但是您*需要*注意全局变量或常量，因为它们将在所有线程之间共享，因此您需要考虑到这一点并使用锁/互斥锁等。

# for-loop - 在每个子文件夹中运行 bat cmd 失败

> ID：15517204
> 
> 赞同：1
> 
> 时间：2013-03-20T06:58:07.893
> 
> 标签：for-loop, batch-file, cmd

我需要运行一个 bat 文件将每个子文件夹中的照片重命名为子文件夹名称，并将所有照片复制到一个新文件夹中。每个子文件夹仅包含一张照片。

我想写一个批处理文件来完成这个任务，因为有很多子文件夹，但是，我只能成功复制最后一个子文件夹中的照片。

子文件夹按从“00000001”开始的编号顺序命名。

我发现照片被重命名为相同，因此只能复制一张照片。

这是我的代码：

```
md "D:\photo"

for /r %%d in (.) do (cd %%d
for /r %%* in (.) do (set CurrDirName=%%~n*
echo %CurrDirName%
ren "*.jpg" "%CurrDirName%.jpg"
copy *.jpg "D:\photo")) 
```

请提出建议，以便我可以修改我的代码并成功完成我想做的事情，非常感谢！

**编辑更多细节**

在 cmd 行中，例如程序在子文件夹“00000127”中运行，设置 CurrDirName=00000127 但回显 %CurrDirName%，显示 00000128 这是最后一个子文件夹，每个子文件夹返回 00000128 但不是 CurrDirName

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:33:38.277

试试这个并删除`echo`如果输出是好的。

```
@echo off &setlocal
set "destination=d:\photo"
md "%destination%" 2>nul
for /d /r %%d in (*.*) do (
    pushd  "%%d"
    for %%i in (*.*) do echo copy "%%~i" "%destination%\%%~nd.jpg"
    popd
)
endlocal 
```

每个子文件夹中必须**只有一张照片**！

# c# - DataGridView 限制用户输入

> ID：15517205
> 
> 赞同：8
> 
> 时间：2013-03-20T06:58:09.843
> 
> 标签：c#, regex, winforms, input, datagridview

是否可以通过 限制用户对`DataGridView`单元格的输入`RegEx`？例如，将单元格输入格式设置为类似这样`[0-9]{2}`，以禁止用户输入除 2 位数字以外的内容。

**更新** 对不起，我不是很清楚。我知道`CellValidation`事件，并且我可以在用户输入后检查输入的值。但我想知道是否可以在此事件**之前防止错误的用户输入。**我的意思是当单元格正则表达式为`[0-9]`. 有可能吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-20T12:33:10.887

如果您想防止输入无效值，您可以处理该`EditingControl.KeyPress`事件。下面的示例代码。但是，您必须修改正则表达式以允许不完整的值。而且您仍然应该使用正确的验证，因为还有其他方法可以将数据放入网格中（例如复制粘贴）。

```
 private string pattern = "^[0-9]{0,2}$";

    private void dataGridView1_EditingControlShowing(object sender, DataGridViewEditingControlShowingEventArgs e)
    {
        dataGridView1.EditingControl.KeyPress -= EditingControl_KeyPress;
        dataGridView1.EditingControl.KeyPress += EditingControl_KeyPress;
    }

    private void EditingControl_KeyPress(object sender, KeyPressEventArgs e)
    {
        if (!char.IsControl(e.KeyChar))
        {
            Control editingControl = (Control)sender;
            if (!Regex.IsMatch(editingControl.Text + e.KeyChar, pattern))
                e.Handled = true;
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-26T13:50:03.117

@Ginosaji ，您的代码很好，但是`editingControl.Text + e.KeyChar`您假设用户在控制文本的末尾输入了最后一个字符。如果用户将 char 放在控件中间的某个地方怎么办？

# ipad - 如何让 onClick 功能在 ipad、jquery-mobile 中工作？

> ID：15517209
> 
> 赞同：2
> 
> 时间：2013-03-20T06:58:26.683
> 
> 标签：ipad, jquery-mobile, onclick

我遇到了这个问题，我在标签中使用 jquery-mobile 和 onClick 函数。

```
<a id="stopper" href="javascript:void(0);" onclick="stop(); return false;" data-rel="back">back</a> 
```

这是代码，我正在使用。

我想要工作的是视频播放器。没有这个，即使我更改页面，视频也会继续播放。

我已经尝试了很多脚本和技巧来让它工作，并在这里搜索了几乎所有的论坛。但我仍然在与这个作斗争。

它就像我在 pc 和 android 平板电脑（三星 Galaxy tab2）中想要的那样工作，但在 ipad 中却不行。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T12:22:05.780

而不是像这样硬编码`onclick="stop();`。你应该绑定点击事件

像这样的东西

```
$("#stopper").on("click", function(){
  // your code to stop
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T11:34:03.620

那些在 iPad 上不工作，插入`rel = "external"`和`href = "edellinensivu.asp"`那工作，至少我。

# ruby-on-rails - Rails 中的助手未生成隐藏字段

> ID：15517214
> 
> 赞同：0
> 
> 时间：2013-03-20T06:58:40.350
> 
> 标签：ruby-on-rails

我正在尝试使用 rails3 中的allows_nested_attributes_for 功能实现嵌套表单以实现调查表单。调查有很多问题有很多答案。

我想将 :_destroy 字段作为隐藏传递，并在单击链接时使用 jQuery 设置它。它工作正常，但是当我尝试使用辅助方法做同样的事情时，隐藏字段没有显示出来。

```
module ApplicationHelper
   def link_to_remove_field(link_text, builder)
   builder.hidden_field :_destroy
   link_to link_text, '#',  :class=>"remove_field"
  end
end 
```

这是我要使用的 jquery 函数。

```
$(function(){
  $('.remove_field').on('click', function(element){
  $(this).prev("input[type=hidden]").val("1");
  $(this).parent('.field').hide();
  return false;
  });
}); 
```

这是我称之为助手的部分内容

```
<%= f.label :question %><br />
<%= f.text_area :question, :rows=>1 %>
<%= link_to_remove_field("Remove question", f) %> 
```

a 标签出现，但隐藏字段不显示。

```
<textarea cols="40" id="old_question_set_old_questions_attributes_2_question" name="old_question_set[old_questions_attributes][2][question]" rows="1"></textarea>
<a href="#" class="remove_field">Remove question</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:01:16.583

您`link_to_remove_field`只返回最后一行，`link_to`因为您忘记添加`hidden_field`. 将您的助手更改为

```
def link_to_remove_field(link_text, builder)
  builder.hidden_field(:_destroy) +
  link_to(link_text, '#', :class => "remove_field")
end 
```

请注意`html_safe`调用此方法时可能需要调用

```
link_to_remove_field(....).html_safe 
```

# ruby-on-rails - has_one: through: 不添加构造函数

> ID：15517220
> 
> 赞同：1
> 
> 时间：2013-03-20T06:59:04.400
> 
> 标签：ruby-on-rails, activerecord, associations, has-many-through, has-one

我对 rails 和 ActiveRecord 还很陌生，我无法弄清楚为什么 rails 不会`User.build_company`为以下模型设置生成方法：

```
class User < ActiveRecord::Base
  has_one :found_company
  has_one :company, through: :found_company
end

class FoundCompany < ActiveRecord::Base

  belongs_to :user
  belongs_to :company
end

class Company < ActiveRecord::Base
  has_many :found_companies
  has_many :users, through: :found_companies
end 
```

这是我尝试调用 build 方法时发生的情况：

```
irb(main):035:0> user = User.all.first
    ?[1m?[36mUser Load (1.0ms)?[0m  ?[1mSELECT "users".* FROM "users" ?[0m
    => #<User id: 1, email: "user@example.com" [...] uid: nil>
    irb(main):036:0> user.build_company
NoMethodError: undefined method `build_company' for #<User:0x5bd50e0> 
```

如果我更改`has_one: through`为`has_many: through`一切按预期工作：

```
class User < ActiveRecord::Base
  has_many :found_companies
  has_many :companies, through: :found_companies
end 
```

调用 user.companies.build 工作正常：

```
irb(main):041:0> f.companies.build
=> #<Company id: nil, name: nil, created_at:
[...]
irb(main):041:0> 
```

为什么似乎没有`has_one: through`生成构建器方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:21:08.760

据我所知`user.companies.build`是正确的语法。我不知道`.build_company`作为实例化关联项目的一种方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T12:10:15.623

我不知道为什么 Rails 不提供该方法，但是您可以通过执行以下操作来实现您想要的：

```
user.build_found_company.build_company 
```

# cmake - CMake：如何从子目录访问变量而不在父范围内显式设置它

> ID：15517221
> 
> 赞同：6
> 
> 时间：2013-03-20T06:59:05.927
> 
> 标签：cmake, box2d

我`CMake`通过使用添加了一个子目录`add_subdirectory`。如何在不通过`set`结合使用显式设置变量的情况下从该子目录的范围访问变量`PARENT_SCOPE`？

```
set(BOX2D_BUILD_STATIC       1)
set(BOX2D_BUILD_EXAMPLES     0)
set(BOX2D_INSTALL_BY_DEFAULT 0)

add_subdirectory(Box2D_v2.2.1)

message(STATUS "Using Box2D version ${BOX2D_VERSION}")

# how to get ${BOX2D_VERSION} variable without modifying CMakeLists.txt in Box2D_v2.2.1? 
```

这可能吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T08:12:25.793

如果变量是普通变量（与缓存变量相反），则无法从父范围访问它。

`set(... CACHE ...)`无论范围如何，都可以访问缓存变量（用 设置的变量），全局属性（ `set_property(GLOBAL ...)`）也可以访问。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T09:25:10.943

虽然@Angew 的回答是正确的，但使用 CMake 并没有很多事情是*不可能*的 :-)

如果你有一条线

```
set(BOX2D_VERSION 2.2.1) 
```

在 Box2D_v2.2.1/CMakeLists.txt 中，您可以通过执行以下操作来检索父范围中的版本：

```
file(STRINGS Box2D_v2.2.1/CMakeLists.txt VersionSetter
     REGEX "^[ ]*set\\(BOX2D_VERSION")
string(REGEX REPLACE "(^[ ]*set\\(BOX2D_VERSION[ ]*)([^\\)]*)\\)" "\\2"
       BOX2D_VERSION ${VersionSetter}) 
```

这有点脆弱；例如，它不适合`set`命令中的额外空格，或者不适合设置两次的值。您也可以满足这些可能性，但如果您知道`set`命令的格式并且不太可能更改，那么这是一个合理的解决方法。

# javascript - 同时调用ajax函数onload和onclick

> ID：15517224
> 
> 赞同：0
> 
> 时间：2013-03-20T06:59:15.717
> 
> 标签：javascript, ajax

我在外部 javascript 文件中有一个 Ajax 函数，它是：

ajax.js

```
function webservice(x){

   jQuery.ajax
            ({
                //some code here
            });

  Data = function(data){
                    if(x==1)
                            {
                                for(i=0;i<10;i++)
                                {
                                     webservice(i);
                                alert"Onload");
                                }
                            }
                            else 
                            if(x==5)
                            {
                                for(i=0;i<10;i++)
                                {
                                webservice(i);
                                alert ("Onclick");
                                }
                            }

        } 
```

我有另一个 html 页面，它是：

webservice.html

```
 <html>
 <title>Call web service</title>
 <head>
 <script type="text/Javascript" src="jquery-1.9.1.js"></script>
 <script type = "text/javascript" src="ajax.js"></script>
 <script>

 window.onload=function()
 {
   webservice(1)('onload');    //call 1 

 }

 </script>
 </head>

  <body>

  <input id="webservice"  type = "button" name = "webservice" value = "Call Webservice"       
  onclick="webservice(5)"/>

  </body>
  </html> 
```

所以我想在 onLoad 和 onclick of button 中调用相同的函数，以便两个调用同时运行。但是当 onload 运行例如 3 次并且我单击按钮时，onload 停止并且 onclick 运行。我还希望 onclick 运行和 onload 从第 4 次迭代开始，两者都应该同时显示警报或 1 比 1。所以请帮助我。提前致谢。

也欢迎任何替代方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:08:27.193

Because `$.ajax` is an asynchronous function. In your current version, your code is called potentially before the end of the AJAX call. Therefore, you have a wird behavior.

To fix that, your code must be moved into the success callback like this :

```
function webservice(x) {
    var inputParam = x;
    jQuery.ajax({
        url: 'test.php',
        data: {},
        success: function (data) {
            if (inputParam  == 1) {
                for (i = 0; i < 10; i++) {
                    webservice(i);
                    alert("Onload");
                }
            } else if (inputParam  == 5) {
                for (i = 0; i < 10; i++) {
                    webservice(i);
                    alert("Onclick");
                }
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert('an error occurred!');
        }
    });
} 
```

**Furthermore, avoid inline JS.**

Replace

```
window.onload=function()
 {
   webservice(1)('onload');    //call 1 
 } 
```

By

```
$(document).ready(function(){
    webservice(1);//call 1 
}); 
```

And

```
 <input id="webservice"  type = "button" name = "webservice" value = "Call Webservice"       
  onclick="webservice(5)"/> 
```

By

```
$('#webservice').click(function(){
    webservice(5);
}); 
```

# iphone - 日期选择器滚动到过去的日期，即使最小日期设置为当前日期

> ID：15517226
> 
> 赞同：5
> 
> 时间：2013-03-20T06:59:17.797
> 
> 标签：iphone, ios, datepicker, ios6.1

iOS 6.1 中的奇怪行为我已经为我的日期选择器设置了最小日期为当前日期，如下所示

```
NSDate *currentTime = [NSDate date];
[picker setMinimumDate:currentTime]; 
```

![在此处输入图像描述](../Images/5e62692748483eff85ea44686218cc14.png)

但是当我运行应用程序时，我可以滚动到过去的日期，虽然它没有被选中，但选择器不会跳回当前日期。它仅在 iOS 6.1 版本中发生，并且在休息选择器中表现正常。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-06T18:39:31.583

我遇到了与您相同的问题并通过仅手动将日期设置为最大日期来修复它（在这种情况下，我将限制设置为当前日期）：

```
- (IBAction)pickerValueChanged:(id)sender {

    dispatch_async(dispatch_get_main_queue(), ^{
        UIDatePicker *datePicker = (UIDatePicker *)sender;

        if ([self.datePicker.date compare:[NSDate date]] == NSOrderedDescending) {

            datePicker.date = [NSDate date];
        }

    });
} 
```

当日期选择器中的日期值**发生变化**时触发此函数。您可以在此处设置最大值或最小值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:09:44.383

您必须设置最小和最大日期，例如：

```
NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
NSDate *currentDate = [NSDate date];
NSDateComponents *comps = [[[NSDateComponents alloc] init] autorelease];

NSDate *minDate = [calendar dateByAddingComponents:comps toDate:currentDate options:0];
[datePicker setMinimumDate:minDate]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T07:11:04.133

试试这个代码

```
 NSCalendar *calendar = [[[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar] autorelease];
 NSDate *currentDate = [NSDate date];
 NSDateComponents *comps = [[[NSDateComponents alloc] init] autorelease];
 [comps setYear:30];
 NSDate *maxDate = [calendar dateByAddingComponents:comps toDate:currentDate options:0];
 [comps setYear:-30];
 NSDate *minDate = [calendar dateByAddingComponents:comps toDate:currentDate options:0];

 [datePicker setMaximumDate:maxDate];
 [datePicker setMinimumDate:minDate]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-03-18T12:28:52.680

该属性是一个 NSDate 对象或 nil（默认值），这意味着没有最大日期。此属性以及 minimumDate 属性允许您指定有效的日期范围。如果最小日期值大于最大日期值，则忽略这两个属性。在倒数计时器模式 (UIDatePickerModeCountDownTimer) 中，最小和最大日期也会被忽略。

尝试设置有效的最小和最大日期。这个对我有用。

# android - 从 AsyncTaskLoader 的 onLoadFinished 后动态更新 Fragment 的 UI - 无法获取 ViewGroup

> ID：15517228
> 
> 赞同：3
> 
> 时间：2013-03-20T06:59:19.827
> 
> 标签：android, android-layout, android-fragments

以前，我有一个`Fragment`，它根据耗时的获取数据更新其 UI。

```
public class HomeMenuFragment extends SherlockFragment {
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        Infos arg1 = performTimeConsumingDataStructureLoading();

        // Add in various UI views in v, according to information in loaded
        // data structure.
        View v = inflater.inflate(R.layout.home_menu, container, false);
        // ...
        // Adding several LinearLayout and TextView into v, based on
        // information from loaded data structure (arg1)
        // ...
        return v;
    }
    ....
} 
```

**这真的不是一个好的设计。**有时，`performTimeConsumingDataStructureLoading`可能需要超过 5 秒，我会得到 ANR（应用程序无响应）

通过参考[http://developer.android.com/reference/android/content/AsyncTaskLoader.html](http://developer.android.com/reference/android/content/AsyncTaskLoader.html)，我最终得到了更好的解决方案。我遇到的例子是，它通过`ArrayAdapter`.

```
public class HomeMenuFragment extends SherlockFragment implements LoaderManager.LoaderCallbacks<HomeMenuFragment.Infos> {
    @Override
    public void onLoadFinished(Loader<Infos> arg0, Infos arg1) {
        LayoutInflater inflater = this.getLayoutInflater(null);
        ViewGroup container = (ViewGroup)this.getView().getParent();
        // Remove previous old views, as onLoadFinished might be triggered
        // by onContentChanged too.
        container.removeAllViews();

        View v = inflater.inflate(R.layout.home_menu, container, false);
        // ...
        // Adding several LinearLayout and TextView into v, based on
        // information from loaded data structure (arg1)
        // ...
        container.addView(v);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        return super.onCreateView(inflater, container, savedInstanceState);
    }     
    ....
} 
```

我没有，`ArrayAdapter`因为我没有使用`ListFragment`. 我想要做的是将几个`TextView`加到几个`LinearLayout`中。然后，我将添加`LinearLayout`到`Fragment`'s 容器中。

但是，以下代码给了我空指针异常。

```
ViewGroup container = (ViewGroup)this.getView().getParent(); 
```

我知道在`onLoadFinished`from之后动态更新 Fragment UI 的正确方法是什么`AsyncTaskLoader`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:12:50.710

> 但是，我遇到的大多数示例是，它们通过 ArrayAdapter 间接更新其 UI。

使用 a`Loader`并不要求您必须使用 a `ListView`，您可以更新您在应用程序中定位的任何视图。

> 我知道在从 AsyncTaskLoader 的 onLoadFinished 之后动态更新 Fragment UI 的正确方法是什么？

从 's 视图获取对容器的引用`Fragment`，您将在其中放置额外视图并添加新视图。

```
@Override
public void onLoadFinished(Loader<Infos> arg0, Infos arg1) {      
    // for some reason the fragment's view isn't built yet so abort things 
    if (getView() == null) {
         ViewGroup container = (ViewGroup) getView().findViewById(R.id.containerId);
         ViewGroup container = getViewcontainer.removeAllViews();
         // ...
         // Adding several LinearLayout and TextView into v, based on
         // information from loaded data structure (arg1)
         // ...
         container.addView(v);
    }
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    return inflater.inflate(R.layout.home_menu, container, false);;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-11T14:39:56.620

有一段时间我也试图达到同样的效果。基于上述答案，对我有用的是：

```
@Override
public void onLoadFinished(Loader<Cursor> loader, Cursor cursor) {
    adapter.swapCursor(cursor);

    ViewGroup container = (ViewGroup) getView().findViewById(R.id.fragment_oam);

    if (container != null) {
        if (adapter.getCount() == 0) {
            Log.v(TAG, "Count is: " + adapter.getCount());
            container.setBackgroundColor(Color.BLUE);
        } else {
            Log.v(TAG, "Count is: " + adapter.getCount());
            container.setBackgroundColor(Color.WHITE);
        }   
    } else {
        Log.v(TAG, "Container is null");
    }
} 
```

我的布局xml如下：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/background"
    android:background="#FFF">    
<fragment
    android:name="com.myapp.OAMCursorLoader"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/fragment_oam">
</fragment> 
```

现在，当 ContentResolver 更新光标时，onLoadFinished 会根据可见屏幕的这个背景检查光标是否为空或是否有一些内容，即 ListFragment 已更改。

您可以使用背景设置，使用可绘制图像而不是颜色，这取决于您。

# magento - 将 list.phtml 和 view.phtml 组合在一起

> ID：15517229
> 
> 赞同：0
> 
> 时间：2013-03-20T06:59:24.867
> 
> 标签：magento

您好，我需要在类别页面下显示产品详细信息页面，以便您单击类别图像时，它将在同一页面下显示相同的产品详细信息。此外，当用户单击任何类别时，它会包含所有产品和详细信息列表中的第一项。是否有可能在 magento 中？如果是，那么我该怎么做。我是 magento 的新手，但在我看来这是一个很棒的框架。请帮助我谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:56:16.957

要在类别页面上显示产品详细信息页面，您必须发出 ajax 请求并获取整个详细信息并插入到位于类别页面底部的 div 中。按照此链接 [Magento - AJAX 将产品页面元素调用到类别页面。选择未填充的框](https://stackoverflow.com/questions/13713231/magento-ajax-call-product-page-elements-to-category-page-select-box-not-popul)

# c++ - 错误：没有匹配的函数调用我的类对象

> ID：15517236
> 
> 赞同：-1
> 
> 时间：2013-03-20T06:59:40.487
> 
> 标签：c++, class, compiler-construction

也许我初始化不正确？Preety肯定这就是我们的老师向我们展示如何做到这一点的方式......但我很难过。我正在尝试将该函数用作访问器并获取数据并显示已存储在成员“入口”下的结构“坐标”中的内容

头文件：

```
#include <iostream>
#include <cstdlib>
#include <fstream>
using namespace std;

#include "type.h"
const int MAX = 50;
#ifndef MazeClass_H
#define MazeClass_H

class MazeClass
{
    private:
        SquareType Maze[MAX][MAX];
        coordinate      Entrance, Exit;
        int     height, width;
    public:
        MazeClass();
        void    ReadMaze(ifstream&);
        void    DisplayMaze();
        void    GetEntrance(coordinate);
        void    GetExit(coordinate);
        void    MarkVisited(coordinate);
        void    MarkPath(coordinate);
        bool    IsWall(coordinate);
        bool    IsClear(coordinate);
        bool    IsPath(coordinate);
        bool    IsVisited(coordinate);
        bool    IsExit(coordinate);
        bool    IsInMaze(coordinate);
};
#endif 
```

实现文件：

```
#include "MazeClass.h"
#include <iostream>
#include <cstdlib>

char maze[50][50];
MazeClass::MazeClass()
{
}

void MazeClass::ReadMaze(ifstream& myIn)
{
    int x, y;
    myIn >> x;
    myIn >> y;
    height = x;
    width = y;
    myIn >> x;
    myIn >> y;
    Entrance.row = x;
    Entrance.col = y;
    myIn >> x;
    myIn >> y;
    Exit.row = x;
    Exit.col = y;
    myIn.ignore(100, '\n');
    for(int i = 0; i < height; i++)
    {
        for(int k = 0; k < width + 1; k++)
        {
            myIn.get(maze[i][k]);
            if(maze[i][k] == '*')
                Maze[i][k] == Wall;
            else
                Maze[i][k] == Clear;
        }
    }
}

void MazeClass::DisplayMaze()
{

    for(int i = 0; i < height; i++)
    {
        for(int k = 0; k < width + 1; k++)
        {
            cout << maze[i][k];
        }
    }
}

void MazeClass::GetEntrance(coordinate Entrance)
{
}

void MazeClass::GetExit(coordinate Exit)
{
} 
```

和我的文件尝试使用它：

```
#include "MazeClass.h"
#include<iostream>
#include<fstream>
using namespace std;

int main(int argc,char *argv[])
{
    MazeClass maze;
    ifstream myIn;
    int x,y;
    string filename = argv[1]; // command line arguement stuff

    myIn.open(filename.c_str());
    maze.ReadMaze(myIn); //reads in the maze from a data file
    maze.DisplayMaze();
    cout << "The entrance is at: " << maze.GetEntrance().row << " " << maze.GetEntrance.col << endl;
    myIn.close();

    return 0;
} 
```

我得到这个错误：

```
ola4A1.cc:17: error: no matching function for call to ‘MazeClass::GetEntrance()’
MazeClass.h:21: note: candidates are: void MazeClass::GetEntrance(coordinate)
ola4A1.cc:17: error: ‘maze.MazeClass::GetEntrance’ does not have class type 
```

我试过这样放置坐标：

```
#include "MazeClass.h"
#include<iostream>
#include<fstream>
using namespace std;

int main(int argc,char *argv[])
{
    MazeClass maze;
    ifstream myIn;
    int x,y;
    string filename = argv[1]; // command line arguement stuff

    myIn.open(filename.c_str());
    maze.ReadMaze(myIn); //reads in the maze from a data file
    maze.DisplayMaze();
    cout << "The entrance is at: " << maze.GetEntrance(coordinate).row << " " << maze.GetEntrance(coordinate).col << endl;
    myIn.close();

    return 0;
} 
```

但我得到了错误：

```
ola4A1.cc: In function ‘int main(int, char**)’:
ola4A1.cc:17: error: expected primary-expression before ‘)’ token
ola4A1.cc:17: error: expected primary-expression before ‘)’ token 
```

之后......我像这样在“入口”中添加了......

```
#include "MazeClass.h"
#include<iostream>
#include<fstream>
using namespace std;

int main(int argc,char *argv[])
{
    MazeClass maze;
    ifstream myIn;
    int x,y;
    string filename = argv[1]; // command line arguement stuff

    myIn.open(filename.c_str());
    maze.ReadMaze(myIn); //reads in the maze from a data file
    maze.DisplayMaze();
    cout << "The entrance is at: " << maze.GetEntrance(coordinate Entrance).row << " " << maze.GetEntrance(coordinate Entrance).col << endl;
    myIn.close();

    return 0;
} 
```

它给了我这个错误......

```
ola4A1.cc: In function ‘int main(int, char**)’:
ola4A1.cc:17: error: expected primary-expression before ‘Entrance’
ola4A1.cc:17: error: expected primary-expression before ‘Entrance’ 
```

所以是的......我很难过......任何帮助将不胜感激！我一直在尝试解决这个问题一个小时:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:02:08.533

错误消息实际上告诉您出了什么问题：

```
error: no matching function for call to ‘MazeClass::GetEntrance()’
                                                              ^^^^^ 
```

您提供的功能是：

```
void MazeClass::GetEntrance(coordinate Entrance)
                          ^^^^^^^^^^^^^^^^^^^^^^ 
```

注意`^^^^^^`上面的。

如您所见，这两个功能不一样！
您声明并定义了一个将`coordinate`对象作为参数的方法，但您正在调用一个不带任何参数的方法，显然编译器没有找到任何此类方法并适当地抱怨。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:02:12.390

您的定义`GetEntrance`说它需要一个参数（类型`coordinate`）。

在您尝试调用它的地方，您没有传递参数，因此它正在寻找可以在没有参数的情况下调用的其他重载。

另请注意，您`maze.GetEntrance.col`可能需要`maze.GetEntrance().col`改为。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:02:42.543

1）您正在调用`maze.GetEntrance()`，但`MazeClass`没有`GetEntrance()`方法。只有`MazeClass::GetEntrance(coordinate)`.

2）您的电话`maze.GetEntrance().row`表明您希望`MazeClass::GetENtrance()`返回一些东西。它目前返回`void`，并且`void`没有成员`row`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-20T07:12:38.280

您想访问 main 中变量的成员变量`Entrance` 。我想你需要的是这个

```
coordinate MazeClass::GetEntrance()
{
   return Entrance;
} 
```

并相应地更改头文件中的函数原型。

通过此修改，您的以下语句将正常工作（检查`()`调用`col`）

```
cout << "The entrance is at: " << maze.GetEntrance().row << " " << maze.GetEntrance().col << endl; 
```

更改您的`GetExit`功能也像这样使用它

# c - 如何在 C 文件中运行 shell 命令并在变量中分配一个整数？

> ID：15517243
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:00:02.463
> 
> 标签：c, linux, bash

我正在尝试制作一个 C 文件，我需要在其中运行一些 shell 命令。

**我的任务**，

如果用户名是`jhamb`，则执行某项任务，否则执行其他任务。

**我的代码**

```
#include<stdio.h>

main() {
     char username[10];
     system("echo $USER | username");
     if(username == "jhamb")  {
         //PERFORM SPECIFIC TASKS
     }
     else {  
          // PERFORM OTHER TASKS
     }        
} 
```

但它没有给出适当的输出。告诉我如何更正此代码。

**编辑 1**

`cat /etc/security/limits.conf | grep service | grep soft | awk '{print $4}'`. 这个脚本给出了输出`13000`。

现在我想将这 13000 存储在一个变量中。

如何在 C 文件中执行此操作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T07:01:56.970

用于[`getenv`](http://linux.die.net/man/3/getenv)获取环境变量，例如`USER`.

使用该[`strcmp`](http://linux.die.net/man/3/strcmp)函数比较字符串是否相等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:06:30.503

```
#include <stdio.h> //for popen
#include <string.h>    

char* cmd_system(const char* command)
{
    char* result = "";
    FILE *fpRead;
    fpRead = popen(command, "r");
    char buf[1024];
    memset(buf,'\0',sizeof(buf));
    while(fgets(buf,1024-1,fpRead)!=NULL)
    {
        result = buf;
    }
    if(fpRead!=NULL)
       pclose(fpRead);
    return result;
} 
```

use this function, and you can get the return value.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T08:58:29.283

如果你想执行一个linux命令，你可以试试system()函数，这个函数的总结可以在这里找到[我](http://www.cplusplus.com/reference/cstdlib/system/)也写了一个程序来展示它。程序展示了如何使用命令“ls”

```
 #include <stdio.h>
    #include <stdlib.h>
    int main ()
    {
       int i;
       char *command;
       command = "ls";
       if(system(NULL))   printf("ok\n");
       else  exit(EXIT_FAILURE);
       i=system(command);
       printf(the value returned was:%d\n",i);
       return 0;
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-20T07:13:05.837

```
#include<stdio.h>
#include<stdlib.h>
#include<string.h>

int main()
{
    char *username;
    username = getenv("USER");
    if(strcmp(username,"jhamb") == 0){
        printf("Yes\n");
    }else{
        printf("No\n");
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T07:09:20.810

为什么不使用`getlogin_r()`of`unistd.h`来获取当前用户名然后使用`strcmp`它呢？

请参阅手册页`getlogin_r`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-20T07:12:04.310

您的代码将结果通过管道`echo $USER`传输到 BASH 命令`username`中。这与 C 变量不同`username`。

要捕获系统命令的输出，请使用`popen`. [这个页面](http://www.sw-at.com/blog/2011/03/23/popen-execute-shell-command-from-cc/)有一个很好的例子。出于您的目的，这样的事情应该可以工作：

```
#include <stdio.h>

main() {
    char username[50];
    FILE *in;
    extern FILE *popen();

    if(!(in = popen("echo $USER","r"))) {
        exit(-1);
    }

    fgets(username, sizeof(username), in);

    if(strcmp(username,"jhamb") == 0) {
        // proceed
    }
} 
```

请特别注意，您应该使用它`strcmp`来比较字符串。字符串本身只是指针， using`==`测试指针是否指向内存中的同一位置，而不是字符串是否相同。

# three.js - Three.js：使 Object3D 平行于我的相机的 X 轴行进

> ID：15517244
> 
> 赞同：0
> 
> 时间：2013-03-20T07:00:08.703
> 
> 标签：three.js

假设我有一个简单的三角形作为`Object3D`类中唯一的元素/子元素。我`PerspectiveCamera`看了一下，我想`Object3D`沿着相机的正 X 轴移动，比如说，当我按下一个键时。

如何操纵事物以使`Object3D`沿相机的 X 轴平行移动？在查看 的内部运作时`PerspectiveCamera`，我看到成员有类似的东西`matrixWorld`，`matrixWorldInverse`但不确定它们代表什么或如何最好地在这里使用它们。

我可以使用相机的`matrixWorldInverse`矩阵将 Object3D 获取到相机坐标中，然后沿着相机的 x 轴移动对象（我不知道如何找到，因为我没有看到它的条目`PerspectiveCamera`，尽管我可能没有看到它）然后再次将 Object3D 乘以“matrixWorld”矩阵以将其移回世界坐标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:25:51.713

你试过让你的对象成为你相机的孩子吗？然后相机的任何移动都会影响您的对象。如果您将相机放置在对象的 yz 平面上，那么对象在其 x 轴上的任何移动也将出现在相机的 x 轴上。

# android - 如何在 Android 应用程序的外部 SD 中创建目录

> ID：15517247
> 
> 赞同：1
> 
> 时间：2013-03-20T07:00:25.507
> 
> 标签：android, android-sdcard, android-permissions

我想在“/mnt/extsd/MyFolder”这条路径上创建一个目录。在调用 mkdir() 时它返回 false。我在平板电脑上插入了 sdcard，将外部路径设为“/mnt/extsd”并尝试在此路径上创建一个文件夹。下面是我的代码，

```
File lSDCardDirFile = new File("/mnt/extsd/MyFolder");
    if (!lSDCardDirFile.exists()) {
        System.out.println("Is folder created --- " + lSDCardDirFile.mkdirs());
    } 
```

我给了权限，. 我想在可移动 sd 卡的外部 sd 卡中创建文件夹。我正在使用 android 4.0 ICS 版本的设备。

我创建了一种不同的方法来获取外部 SD 卡的路径，

```
 public static String[] getStorageDirectories()
  {
      String[] lDirs = null;
      BufferedReader lBufferReader = null;
      try {
          lBufferReader = new BufferedReader(new FileReader("/proc/mounts"));
          ArrayList list = new ArrayList();
          String lStrline;
          while ((lStrline = lBufferReader.readLine()) != null) {
              if (lStrline.contains("vfat") || lStrline.contains("/mnt")) {
                  StringTokenizer lTokenizer = new StringTokenizer(lStrline, " ");
                  String lStrPath = lTokenizer.nextToken();
                  lStrPath = lTokenizer.nextToken(); // Take the second token, i.e. mount point

                  if (lStrPath.equals(Environment.getExternalStorageDirectory().getPath())) {
                      list.add(lStrPath);
                  }
                  else if (lStrline.contains("/dev/block/vold")) {
                      if (!lStrline.contains("/mnt/secure") && !lStrline.contains("/mnt/asec") && !lStrline.contains("/mnt/obb") && !lStrline.contains("/dev/mapper") && !lStrline.contains("tmpfs")) {
                          list.add(lStrPath);
                      }
                  }
              }
          }

          lDirs = new String[list.size()];
          for (int i = 0; i < list.size(); i++) {
              lDirs[i] = (String) list.get(i);
          }
      }
      catch (FileNotFoundException e) {}
      catch (IOException e) {}
      finally {
            if (lBufferReader != null) {
                try {
                    lBufferReader.close();
                } catch (IOException e) {
                }
            }
            }

      return lDirs;
  }` 
```

从这个方法我得到了路径，但是在尝试创建目录时， mkdir() 返回 false。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:04:49.657

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

我的三星 Galaxy s3 中有两个文件夹，例如 extSdCard 和 sdcard。

使用以下代码进行选择。

```
private String[] mFilePaths;

File storageDir = new File("/mnt/");
if(storageDir.isDirectory()){
    File[] dirList = storageDir.listFiles();
    for (int i = 0; i < dirList.length; i++)
    {
        mFilePaths[i] = dirList[i].getAbsolutePath();
        System.out.println("...................................."+mFilePaths[i]);
    }
}

File Dir;
if(android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED))//check if sd card is mounted
{
    Dir=new File(android.os.Environment.getExternalStorageDirectory(),"your folder name");

    if(!Dir.exists())// if directory is not here
        Dir.mkdirs() // make directory
} 
```

编辑

获取内部和外部存储的路径。下面的代码适用于三星 Galaxy s3。

```
String externalpath = new String();
String internalpath = new String();

public  void getExternalMounts() {
    Runtime runtime = Runtime.getRuntime();
    try
    {
        Process proc = runtime.exec("mount");
        InputStream is = proc.getInputStream();
        InputStreamReader isr = new InputStreamReader(is);
        String line;

        BufferedReader br = new BufferedReader(isr);
        while ((line = br.readLine()) != null) {
            if (line.contains("secure")) continue;
            if (line.contains("asec")) continue;

            if (line.contains("fat")) {//external card
                String columns[] = line.split(" ");
                if (columns != null && columns.length > 1) {
                    externalpath = externalpath.concat("*" + columns[1] + "n");
                }
            }
            else if (line.contains("fuse")) {//internal storage
                String columns[] = line.split(" ");
                if (columns != null && columns.length > 1) {
                    internalpath = internalpath.concat(columns[1] + "n");
                }
            }
        }
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
    System.out.println("Path  of sd card external............"+externalpath);
    System.out.println("Path  of internal memory............"+internalpath);
} 
```

现在您可以使用路径 os external storage 创建文件夹。

```
if(android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED))//check if sd card is mounted
{
    Dir=new File(externalpath,"your folder name");

    if(!Dir.exists())// if directory is not here
        Dir.mkdirs() // make directory
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:04:12.997

```
final String PATH = Environment.getExternalStorageDirectory() + "/myfolder/";

if(!(new File(PATH)).exists()) 
new File(PATH).mkdirs(); 
```

在清单中包含权限::

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:02:41.283

您是否在 Manifest.xml 文件中声明了权限？

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

另外，我建议您不要使用 HardCoded 路径，`/mnt/extsd/`而不要只使用`Environment.getExternalStorageDirectory().getPath()`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:06:11.227

Add permission in Manifest file

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

  File sdDir = Environment.getExternalStorageDirectory(); 
```

# microsoft-translator - 如何调用 https://api.datamarket.azure.com/Services/My/Datasets 获取 ResourceBalance

> ID：15517252
> 
> 赞同：3
> 
> 时间：2013-03-20T07:00:49.823
> 
> 标签：microsoft-translator

我在访问将提供剩余字符限制的 Microsoft 翻译服务时遇到问题。

我已经完成了令牌访问部分，唯一的事情是通过调用来获取用户数据集信息

[https://api.datamarket.azure.com/Services/My/Datasets](https://api.datamarket.azure.com/Services/My/Datasets)服务。

我提到了这个[链接](http://msdn.microsoft.com/en-us/library/windowsazure/hh973151.aspx)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-21T11:36:36.867

授权获取资源余额有两种方式

1.  使用 OAuth（需要身份验证令牌）
2.  使用基本（需要帐户密钥）

**基本授权流程**

```
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;
import org.apache.commons.codec.binary.Base64;

public class MSTranslaterUserInforService {
    public static void main(String[] args) throws Exception {
        String bingUrl = "https://api.datamarket.azure.com/Services/My/Datasets?$format=json";
        String accountKey = "place your account_key here";
        byte[] accountKeyBytes = Base64
                .encodeBase64((accountKey + ":" + accountKey).getBytes());
        String accountKeyEnc = new String(accountKeyBytes);
        URL urlb = new URL(bingUrl);
        URLConnection urlConnection = urlb.openConnection();
        urlConnection.setRequestProperty("Authorization", "Basic "
                + accountKeyEnc);
        String line;
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                urlConnection.getInputStream()));
        line = reader.readLine();
        System.out.println(line);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-05T17:58:23.190

由于没有指定语言，这涵盖了 C# 方面。

这包括用于提取 Microsoft Translator 资源计数的 quick&dirty（截至 2013 年 12 月 5 日）XML 解析。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Net;
using System.Xml;
using System.IO;

namespace translation_testing
{
    class Class1
    {
        public static int GetUsage()
        {
            string uri = "https://api.datamarket.azure.com/Services/My/Datasets";
            string general_accountkey = "your account key";

            string accountkeyraw = general_accountkey + ":" + general_accountkey;
            byte[] accountkeybytes = Encoding.UTF8.GetBytes(accountkeyraw);
            string accountkeystring = Convert.ToBase64String(accountkeybytes);

            HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(uri);
            httpWebRequest.Headers.Add("Authorization", "Basic " + accountkeystring);

            WebResponse response = null;
            try
            {
                response = httpWebRequest.GetResponse();
                using (Stream stream = response.GetResponseStream())
                {
                    StringBuilder sbresponse = new StringBuilder();
                    int len = 1;
                    while (stream.CanRead && len > 0)
                    {
                        byte[] chunk = new byte[4096];
                        len = stream.Read(chunk, 0, 4096);
                        sbresponse.Append(Encoding.UTF8.GetString(chunk, 0, len));
                    }

                    return translator_resource_count(sbresponse.ToString());
                }
            }
            catch
            {
                throw;
            }
            finally
            {
                if (response != null)
                {
                    response.Close();
                    response = null;
                }
            }
        }

        private static int translator_resource_count(string input)
        {
            bool isentry = false;
            bool iscontent = false;
            bool istitle = false;
            bool isbalance = false;

            string title = null;
            string balance = null;

            using (XmlReader reader = XmlReader.Create(new StringReader(input)))
            {
                while (reader.Read())
                {
                    if (reader.NodeType == XmlNodeType.Text)
                    {
                        if (istitle) title = reader.Value;
                        if (isbalance) balance = reader.Value;
                    }
                    else if (reader.NodeType == XmlNodeType.Element)
                    {
                        if (reader.Name == "entry") isentry = true;
                        if (isentry && reader.Name == "content") iscontent = true;
                        if (isentry && !iscontent && reader.Name == "title") istitle = true;
                        if (isentry && iscontent && title == "Microsoft Translator" && reader.Name == "d:ResourceBalance") isbalance = true;
                    }
                    else if (reader.NodeType == XmlNodeType.EndElement)
                    {
                        if (reader.Name == "entry") isentry = false;
                        if (isentry && reader.Name == "content") iscontent = false;
                        if (isentry && !iscontent && reader.Name == "title") istitle = false;
                        if (isentry && iscontent && title == "Microsoft Translator" && reader.Name == "d:ResourceBalance") isbalance = false;
                    }
                }
            }

            return int.Parse(balance);
        }

    }
} 
```

# javascript - 具有 css3 转换的单页 Web 应用程序路由器

> ID：15517255
> 
> 赞同：1
> 
> 时间：2013-03-20T07:01:05.237
> 
> 标签：javascript, css, web-applications, css-transitions, single-page-application

有人知道用于单页 Web 应用程序的 css3 转换路由的好库吗？这是 Zepto [https://github.com/dgileadi/zepto-page-transitions](https://github.com/dgileadi/zepto-page-transitions)的好库，我正在寻找类似的解决方案，但仅适用于 jquery 或没有任何 javascript 库。

我知道我可以使用 jquery mobile，但我只需要页面 css3 转换，这就是为什么感觉很重的原因。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T00:30:08.290

## 杜兰达尔斯

[Durandaljs](http://durandaljs.com/)是一个很棒的 SPA 库。它使用 jQuery 和 Knockoutjs，并且有很多功能可以让构建 spa 变得更简单。它具有用于包装 sammyjs的[路由器的插件。](http://durandaljs.com/documentation/Router/)此外，它还有一个不错的[CSS 过渡](https://gist.github.com/evanlarsen/4799019)插件。

# kendo-ui - kendo ui 网格组标题的子组标题

> ID：15517256
> 
> 赞同：0
> 
> 时间：2013-03-20T07:01:08.607
> 
> 标签：kendo-ui, kendo-grid

我正在尝试对数据进行相应的分组

```
Department A(Group)
    Class 1(Sub Group)
        Morning
        Afternoon
        Evening
    Class 2(Sub Group)
        Morning
        Afternoon
        Evening
Department B(Group) 
```

Kendo ui网格分组中的任何可能性......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T09:28:19.563

是的，这可以通过 Kendo UI Grid 实现。这是一些示例代码：

```
$("#grid").kendoGrid({
  dataSource: {
    data: [ { 
      department: "A",
      "class": 1,
      type: "Evening"
    },{ 
      department: "A",
      "class": 2,
      type: "Morning"
    }, { 
      department: "B",
      "class": 1,
      type: "Evening"
    }, { 
      department: "B",
      "class": 2,
      type: "Morning"
    }],
    // group by "department" and "class"
    group: [ { field: "department" }, { field: "class" } ] 
  },
  columns: [ { field: "type" } ]
}); 
```

还有一个现场演示：http: [//jsbin.com/ejalut/1/edit](http://jsbin.com/ejalut/1/edit)

# android - Android NDK：添加断点时断点安装失败

> ID：15517259
> 
> 赞同：0
> 
> 时间：2013-03-20T07:01:18.820
> 
> 标签：android, eclipse, debugging, android-ndk, gdb

我正在使用 android NDK，当我使用 ctrl+shift+B 向我的 cpp 文件添加断点时，会出现一个黄色警告，显示：

```
Breakpoint attribute problem: installation failed 
```

并且断点没有影响。如何正确添加断点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:21:50.797

重启eclipse后，这个警告就消失了。不知道一天要重启多少次eclipse。

# automation - LoadRunner 能否用于桌面应用程序

> ID：15517260
> 
> 赞同：0
> 
> 时间：2013-03-20T07:01:28.640
> 
> 标签：automation, automated-tests, loadrunner

我很久以前就将 LoadRunner 用于 Web 应用程序，现在我想知道我是否可以将它用于桌面应用程序自动化。可能吗 ？有人可以链接到任何指南或示例吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:37:45.883

LoadRunner 是一款性能测试工具。通常，您想测试通过某种形式的通信为多个客户端提供服务的某些服务器的性能。这适用于 Web 和桌面（以及移动）应用程序。我认为您正在寻找的是一种功能测试工具 - 一种可以自动使用应用程序而不是用户的工具。有一个名为 UFT（以前称为 QTP）的补充产品可以做到这一点！

UFT - [http://www8.hp.com/us/en/software-solutions/software.html?compURI=1172957#.UUlnERxTDRM](http://www8.hp.com/us/en/software-solutions/software.html?compURI=1172957#.UUlnERxTDRM)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T13:19:06.107

LoadRunner 可以测试 Web 和非 Web 客户端-服务器应用程序的性能。加载所有示例应用程序，您将找到适用于 Web、数据库、Winsock、DCOM 等的飞行示例……您可以查看 VUGEN 手册并找到各种非基于 Web 的客户端-服务器协议以供使用通过胖客户端应用程序。

# java - Java 使用 wamp 服务器在 Java 中编辑数据库

> ID：15517261
> 
> 赞同：1
> 
> 时间：2013-03-20T07:01:36.397
> 
> 标签：java, mysql, jdbc

我 12 岁，我正在学习导致一些问题的 java:D。因为我不能真正编程那么多所以这是我的问题。我想用 Java 编辑一个数据库，我的数据库服务器在 Wamp 上运行，所以我有 PhpMySql 。我创建了一个数据库并试图让它在 Java 中显示得很好，现在我想通过 java 编辑数据库。我认为这段代码可能有效：

```
rs = stmt.executeQuery("UPDATE  `martbank`.`users` SET  `Balance` =  
  '"+Saldo.getText()+"' WHERE  `users`.`User_Id` ="
            +Nummer.getText()
            +" AND  `users`.`Surname` =  '"+lastname.getText()
            +"' AND  `users`.`Firstname` =  '"+firstname.getText()
            +"' AND  `users`.`Pin` = '"+Password.getText()
            +"' AND  `users`.`Balance` = '"+Saldo.getText()
            +"' AND  `users`.`Password` =  '"+Password.getText()+"' LIMIT 1 ;"); 
```

如果我能得到帮助，我很高兴听到这件事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:08:23.273

Your question is - sorry to say - very unspecific, but let me try to give you a little insight.

First, you should get familiar with JDBC and the concept of connecting to a database and executing queries. The [Oracle Learing Trail](http://docs.oracle.com/javase/tutorial/jdbc/index.html) on this is a perfect start. It will give you simple out-of-the-box examples on how to use a JDBC driver, connect and how to use a database connection.

After that, make sure that you know what a `PreparedStatement` is and how to use it. The way you're composing queries allows [SQL injection attacs](http://en.wikipedia.org/wiki/SQL_injection) much too easy.

Hope this answer empowers you to get in touch with Java and Databases.

# wordpress - 设置为特色图片在 wordpress 中不起作用

> ID：15517264
> 
> 赞同：1
> 
> 时间：2013-03-20T07:01:42.340
> 
> 标签：wordpress, wordpress-theming

我正在研究一个`wordpress site`带有关系的主题。我创建了一个显示帖子的博客页面。

当我添加一个新帖子并单击`set as featured image`或者`add media`然后我什么都没有，除了控制台中的错误。

```
TypeError: _.omit is not a function
http://xyz.com/wp-admin/load-scripts.php?c=0&load%5B%5D=admin-bar,hoverIntent,common,schedule,wp-ajax-response,autosave,suggest,jquery-color,wp-lists,postbox,post,backbone,media-models&load%5B%5D=,wp-plupload,media-views,media-editor,jquery-ui-position,wp-pointer,jquery-ui-menu,jquery-ui-autocomplete,word-count,editor,quic&load%5B%5D=ktags,jquery-ui-resizable,jquery-ui-draggable,jquery-ui-button,jquery-ui-dialog,wpdialogs,wplink,wpdialogs-popup,wp-fullscreen&ver=3.5.1
Line 89 
```

谁能帮助我，我该如何解决这个问题

我的每件事都运行良好`localhost`

**编辑**：

另外，当我单击`add media`编辑器顶部时，我遇到了同样的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:46:53.907

添加`add_theme_support('post-thumbnails');`functions.php。

# ios - 动画视图背景更改

> ID：15517273
> 
> 赞同：1
> 
> 时间：2013-03-20T07:02:21.450
> 
> 标签：ios, objective-c, uiviewanimation

我有一个视图，我会随着应用程序状态的变化而改变背景。基本上，我希望视图背景更改以某种幻灯片形式进行动画处理。我一直在寻找解决方案，但还没有真正找到任何东西。

所以我想从当前背景过渡到下一个背景。

```
//current to:
self.view.backgroundColor = [UIColor colorWithPatternImage:image]; 
```

我可以毫不费力地改变背景，但我想为它制作动画。非常感谢您在正确方向上的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:21:11.843

你可以使用这个：

```
[UIView animateWithDuration:1 
delay:0 
options:UIViewAnimationOptionAutoreverse                
animations:^
{
    self.view.backgroundColor = [UIColor colorWithPatternImage:image];
}
completion:nil 
]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:28:21.887

一个非常简单的方法来处理它：

如`yourView.backgroundColor = [UIColor redColor];`

然后用它来动画改变颜色

```
#import <QuartzCore/QuartzCore.h>

yourView.backgroundColor = [UIColor blueColor];
CATransition *transiton = [[CATransition alloc] init];
transiton.duration = .5;
[yourView.layer addAnimation:transiton forKey:@"Animation"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:04:27.150

只是一个简单的动画块：

```
[UIView animateWithDuration:time animations^{
    self.view.backgroundColor = [UIColorWithPatternImage:image];
}]; 
```

这只是动画传输，花费*时间*几秒钟。

# javascript - javascript在codeigniter中检索帖子信息

> ID：15517281
> 
> 赞同：0
> 
> 时间：2013-03-20T07:02:48.177
> 
> 标签：javascript, codeigniter

我有一个`product`将 codeigniter 函数结果输出到 input 的输入`price`。

当前语法（如下）失败并出现错误： `$("#price").value is not a function`

我的观点 javascript 函数语法是：

```
<script type="text/javascript">
$("#product").change(function () {
    //get the value of the select when it changes
    var value = $("#product").val()

    //make an ajax request posting it to your controller
    $.post('sales/get_sku_prices', {data:value},function(result) {
      //change the input price with the returned value
      $('#price').value(result);
    });
});
</script> 
```

`Price`是我希望显示 javascript 结果的目标输入。

一如既往的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:56:26.837

> `$("#price").value`不是函数。

`value`是对应于输入元素的 DOM 节点的属性。调用相应的 jQuery 方法`val`。您在`post`成功回调中有这一行：

```
$("#price").value(result); 
```

将其更改为：

```
$("#price").val(result); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:57:52.140

最好使用 val() 方法来填充返回值。

```
$('#price').val(result); 
```

价值属性通常被用作：

```
.attr('value') 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-20T07:32:26.507

尝试-

```
$.post('sales/get_sku_prices', {data:value},success: function(result) { 
```

希望能帮助到你！！

# javascript - Jquery onclick 弹出工具提示

> ID：15517282
> 
> 赞同：0
> 
> 时间：2013-03-20T07:02:51.890
> 
> 标签：javascript, jquery, ruby-on-rails, coffeescript, haml

我需要工具提示的 javascript 代码在点击时出现 10 秒

大多数情况下不使用 html 代码或任何插件

```
$('a.pet_type_link').click(function() {
 //I need tooltip to appear for 10seconds
}); 
```

我正在使用 coffescript 和 haml 代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:13:32.960

检查此示例听起来与您的查询相似

[http://jqueryui.com/tooltip/#custom-animation](http://jqueryui.com/tooltip/#custom-animation)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:08:36.187

```
 timeout = setTimeout(function () {
        $("#tooltip").hide('fast');//change these options 
    }, 500); 
```

您在寻找[工具提示超时](http://jsfiddle.net/pvyhY/695/)吗？

根据您的要求更改超时功能的时间延迟。

# jquery - AJAX - 在成功和错误中获取响应正文

> ID：15517283
> 
> 赞同：18
> 
> 时间：2013-03-20T07:03:03.457
> 
> 标签：jquery, ajax, response

我为这个愚蠢的问题道歉，但我需要你的帮助。我需要获取有关内部响应的信息`AJAX`。

```
$.ajax({
          type: "POST",
          url: '/register',
          data : registerRequestJSON,
          contentType:"application/json",
          success: function(data){
              $("#register_area").text();// need to show success
          },
          error: function(err) {
            $("#register_area").text("@text"); // @text = response error, it is will be errors: 324, 500, 404 or anythings else
          }
    }); 
```

如何使用响应正文？（[文档 Jquary.Ajax](http://api.jquery.com/jQuery.ajax/)目前不工作）

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-20T07:07:37.780

错误处理程序的第一个参数是`jqxhr`，它具有`responseText`将给出响应正文的属性。

```
$.ajax({
          type: "POST",
          url: '/register',
          data : registerRequestJSON,
          contentType:"application/json",
          success: function(data){
              $("#register_area").text();// need to show success
          },
          error: function(jqxhr) {
            $("#register_area").text(jqxhr.responseText); // @text = response error, it is will be errors: 324, 500, 404 or anythings else
          }
    }); 
```

# facebook - Facebook登录按钮未重定向

> ID：15517284
> 
> 赞同：0
> 
> 时间：2013-03-20T07:03:05.760
> 
> 标签：facebook, facebook-login

我似乎无法理解为什么我没有被重定向到相应的页面。它当然存在。不是重定向我，而是弹出一个屏幕并在一秒钟后消失。

```
<div id='fb-root'></div>
<script>
window.fbAsyncInit = function() 
{
    FB.init({
        appId: 'ID', 
        status: true, 
        cookie: true, 
        xfbml: true
    });

    FB.Event.subscribe('auth.login', function(response) 
    {
        window.location = '/fb_redirect.php';
    });
};

(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = '//connect.facebook.net/en_US/all.js#xfbml=1&appId=ID';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

<div class='fb-login-button' data-show-faces='false' scope='email' data-width='200' data-max-rows='1'></div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T11:11:53.970

而不是这样做`FB.Event.subscriber`，请尝试以下操作：

```
FB.getLoginStatus(function(response) {
    if (response.status === 'connected') {
        if ( typeof response != 'undefined' && typeof response.authResponse != 'undefined' ) {
            window.location = '/fb_redirect.php';
        }
    } else if (response.status === 'not_authorized') {
        // the user is logged in to Facebook, 
        // but has not authenticated your app
    } else {
        // the user isn't logged in to Facebook.
    }
}); 
```

如果用户登录，该函数将返回`connected`，然后将他们重定向到您想要的任何页面。您可以为需要第一次登录的用户保留该`FB.Event.subscriber`功能，上面的代码将适用于返回用户。

# excel - 如何区分数据与 Excel 文件中的列/标题

> ID：15517285
> 
> 赞同：1
> 
> 时间：2013-03-20T07:03:07.273
> 
> 标签：excel, apache, file-io

我希望有人能帮我想出一个算法。

我对 Apache POI 还是很陌生，我被分配提出一个关于如何读取模板 (Excel) 并从数据本身中提取标题/列名的算法。

必须考虑以下事项：

1.  一张 Excel 文件中可以有多个标题/列名。

2.  标题本质上可以是水平的和/或垂直的。这意味着一张表中可能混合有垂直和水平标题。

3.  标题不一定必须位于文件的第一行。那里可能有介绍或横幅图片。

4.  系统必须允许任何类型的 Excel 格式，因此无法控制单元格的格式、命名约定等。

5.  一些标题本质上是字母数字，这意味着它也包含数字。

6.  一些单元格被合并为特定标题腾出空间。

非常欢迎任何想法和建议。如果您有进一步的说明，请告诉我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T12:02:52.023

（我对 Apache 一无所知，但对 Excel 互操作工作有些了解）

如果要检测的工作表是您的，我建议命名这些标题单元格。（要在 Excel 中命名一个单元格，屏幕左上角有一个字段，通常会出现单元格坐标（如“A1”或“B2”等等......）。在那个地方输入一个名称，然后你将能够通过代码通过其名称识别该单元格。（'Worksheet.Range("Name")' 是您通过代码获取这些单元格的地方）

要管理名称，请转到“插入 - 名称”或“公式 - 名称管理器”，具体取决于 Excel 的版本。

（就个人而言，我从不通过没有命名标题的代码使用工作表，然后我使用“偏移”来获取与这些标题相对应的数据单元格 - 这使我可以在以后自由编辑工作表而不会破坏代码）

如果工作表不是您的，那么您需要找出数据的范围。（最后一行和最后一列）然后检查包含所有已填充列的第一行，其中没有一个为空白。那是一个可能的水平标题。以及检查包含所有填充行的第一列。那是一个可能的垂直标题。

您还可以搜索完全空白的行和/或列以查找位于某些数据之后的标题，以防工作表包含多个水平标题或垂直标题。

您可以使用这些单元格的一些格式属性（例如 Range.Interior 或 Range.Font）来识别它们是否是标题（通常标题具有不同的格式、颜色、边框等）。

如果您确定没有数字标题，我的意思是，所有标题都包含文本，请检查单元格中的数据类型。如果都是字符串，则标题概率会增加。

即便如此，这是一件棘手的事情，如果工作表不遵循某种模式，有时其中一个可能会欺骗您的代码并带来错误的结果。如果允许，我建议在处理完成后添加人工验证以确认结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-05-16T09:26:10.057

这个问题的解决方案包括取消其中两个自由。应用的此类约束将使这成为一个易于处理的问题。大多数这样的自由来自过度谨慎的思考。自由引用如下：-

> 标题本质上可以是水平的和/或垂直的。这意味着一张表中可能混合有垂直和水平标题。

通常，在需要以编程方式检测标题的 Excel 文件中不使用垂直标题。作为此类检测的主要、最常见且有时唯一的原因**是上传/转换表格数据。**

引入垂直标题时会发生有趣的事情：

1.  它们成为形式的标签。这意味着此类表格用于数据输入而不是存储。来自此类表单的数据存储在数据的水平/列标题和行/垂直记录中。从而消除了对数据输入表的上传/转换的需要。
2.  Excel 设计为只有水平标题。垂直标题不再支持自动过滤器。
3.  即使存在垂直标题，仍然可以引入顶部水平标题行以将标题本身标记为描述/类别。

保持真实，对于自动检测标题的核心需求，我们可以声明，一旦我们的要求表明标题只能以水平对齐方式放置，解决方案会变得稍微容易处理，但并非完全如此。

> 一些单元格被合并为特定标题腾出空间。

合并单元格是数据转换/上传的全部原因的毒药和诅咒。这是我在 Excel 和 SQL 杂耍的整个职业生涯中坚决拒绝服用的药丸。您可以将所有您想要的内容合并到我关心的所有内容中，但是您不会传递到我心爱的 SQL Server 中。

出于上述对所有合并和合并的偏见和恶意的原因。我恭敬地建议你也参加这门课程。

## 解决方案

在取消 2 项自由后坚持上述要求。伪算法（解决方案）是

1.  以 cxr Excel 行为例。例如：200 x 201 行和列

2.  使用内置公式（如 COUNTA，其内容具有非零长度）查找非空单元格的计数。每行中此类非空单元格的计数作为数据结构进行维护。

3.  数据类型 ie:- Number, Date, String 也应该保持在上述能够表达以下内容的数据结构中：

    第 22 行包含
    30 个非空单元格，其中
    28 个是字母数字，
    1 个是日期，
    1 个是数字。

4.  包含最大数量的此类非空单元格和最大字符串数的第一个特定行很可能是标题行。

将上述所有内容转换为任何给定语言的特定算法对于任何处于鼎盛时期的年轻开发人员来说都是一项艰巨的任务。

# ruby-on-rails - 查询到活动记录的转换

> ID：15517286
> 
> 赞同：0
> 
> 时间：2013-03-20T07:03:08.110
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord

要执行范围查询，我们遵循类似于以下语法的内容 - ：

```
oms[:order_items].where(:internal_sla => 3..5) results in this query
 => #<Sequel::Mysql2::Dataset: "SELECT * FROM `order_items` WHERE ((`internal_sla` >= 3) AND (`internal_sla` <= 5))"> 
```

但是我怎样才能改变活动记录查询给我这样的东西=>`select internal_sla from order_items where (internal_sla<=3 and internal_sla>=0) OR (internal_sla<=15 and internal_sla>=10)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:18:55.603

```
.where("(internal_sla >= ? AND internal_sla <= ? OR 
internal_sla >= ? AND internal_sla <= ? )", 0, 3, 10, 15).pluck(:internal_sla) 
```

**评论后更新**：

如果 internal_sla 是整数，您可以：

```
.where(:internal_sla => (0..3).to_a + (10..15).to_a).pluck(:internal_sla) 
```

**编辑：**修正错字

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:23:33.260

这有效

```
oms[:order_items].where(:internal_sla => [0..3, 10..15]) 
```

# java - 使用/将 XML 文件转换为 Spring bean 定义

> ID：15517288
> 
> 赞同：1
> 
> 时间：2013-03-20T07:03:14.797
> 
> 标签：java, xml, spring

我已经定义了一个 Spring 应用程序上下文 xml，最终用户将对其进行编辑以添加新的 beans。类似于：

```
<bean name="myBeanName1" class="com.xxx.Yyy">
    <property name="type" value="type1" />
    <property name="name" value="name1" />
    <property name="arguments" value="arg1" />
</bean>

<bean name="myBeanName2" class="com.xxx.Yyy">
    <property name="type" value="type2" />
    <property name="name" value="name2" />
    <property name="arguments" value="arg2" />
</bean>

.
.
. 
```

现在我被要求将其更改为普通的 xml，以便用户不会被`bean` `property`名称所困扰`class`：

```
<def name="Name1">
    <type>type1</type>
    <argument>arg1</argument
</def>

<def name="Name2">
    <type>type2</type>
    <argument>arg2</argument
</def> 
```

由于我的代码正在使用 bean，我如何使用新的 xml 并进行最少的代码更改，以便它像以前一样转换为 bean 定义并且事情像以前一样工作？

我不知道 Spring 是否有开箱即用的解决方案。我的想法是将样式表应用于新的 xml 以创建我的旧 bean。还有其他更好/优雅的解决方案吗？

编辑：现在用户输入不再在 bean 中，是否可以使用新的 xml 注入 @Component 类？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:25:47.873

Spring 支持创建自定义标签。您需要创建 xsd 模式、NamespaceHandlerm、实现 BeanDefinitionParsers 并通过创建 spring.handlers 和 spring.schemas 特殊文件让 spring 意识到这些。

查看[可扩展的 XML 创作](http://static.springsource.org/spring/docs/2.0.x/reference/extensible-xml.html)

例子：

```
<beans xmlns declaration goes here>
    <yournamespace:yourcustomtag id="some id">
         <yournamespace:some_other_tag your-custom-attribute="some value" />
    </yournamespace:yourcustomtag>
</beans> 
```

# createjs - 画布浏览器是否支持使用easeljs？

> ID：15517295
> 
> 赞同：0
> 
> 时间：2013-03-20T07:03:42.040
> 
> 标签：createjs

当我使用 EaseLJS 将基于 Flash 的虚拟实验室转换为 HTML5 时，我认为询问是否有人知道任何浏览器支持问题或限制是个好主意？那里有很多新旧浏览器..

我想知道easeljs 如何处理这种多样性，是否存在已知的easeljs API 兼容性问题？

矩阵将是完美的！好 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T23:47:16.187

Canvas 是一个很好的支持和一致的 HTML5 功能 - 主要浏览器之间几乎没有不一致。我们正在努力解决的一些移动平台上存在一些触摸问题——主要是 Android。

干杯。

# zurb-foundation - 基础顶栏行宽未定义

> ID：15517299
> 
> 赞同：0
> 
> 时间：2013-03-20T07:03:58.923
> 
> 标签：zurb-foundation

我对以下导入有疑问

`@import "../foundation/components/top-bar";`

我明白了`Line 342 of _top-bar.scss: Undefined variable: "$row-width"`

不幸的是，我找不到很多关于这个变量的文档。

挖掘我的来源，`_top-bar.scss`我得到了offnding线`342`：

`.contain-to-grid .top-bar { max-width: $row-width; margin: 0 auto; }`

该文档说`.contain-to-grid`：

`If you want your navigation to be set to your grid width, wrap it in div class="contain-to-grid".`

这意味着该类是可选的。因此不应`$row-width`将其设置为某种默认值以防止出现上述错误（即，如果我决定不想使用`.contain-to-grid`）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T13:47:35.210

诸如我遇到的变量是在 a`templates/project/scss/_settings.scss`或 my own中定义的`settings.css`。因此，我创建了自己的原始副本`_settings.scss`并将其导入（即`@import "settings";`）。

换句话说，它一直在“使用 Sass Standalone”部分的[文档中。](http://foundation.zurb.com/docs/sass.html)

# android - 如何发出httppost请求

> ID：15517309
> 
> 赞同：0
> 
> 时间：2013-03-20T07:04:30.463
> 
> 标签：android, arrays, json, eclipse

我是安卓新手。我正在学习获取、发布、删除的 http 请求。从中我学会了获取和删除以及发布请求。但是在发布请求中发送数组时出现问题。

这是我的帖子数据结构..

```
{
 "customerId": "CUST01",
 "orderId": "101010",
 "orderTotal": 99.99,
 "orderDetailList": [
  {
    "lineId": "1",
    "itemNumber": "ABC",
     "quantity": 9,
     "price": 10.0
   },
   {
     "lineId": "2",
     "itemNumber": "XYZ",
     "quantity": 1,
     "price": 9.99
   }
 ]
} 
```

如何在帖子中发送数组？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:15:01.490

在这里，我发布了一些代码以将值发布到服务器..

```
 public void postData() {
      // Create a new HttpClient and Post Header
       HttpClient httpclient = new DefaultHttpClient();
     HttpPost httppost = new HttpPost("http://www.yoursite.com/script.php");

      try {
// Add your data
//you can add all the parameters your php needs in the BasicNameValuePair. 
//The first parameter refers to the name in the php field for example
// $id=$_POST['customerId']; the second parameter is the value.
List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
nameValuePairs.add(new BasicNameValuePair("customerId", "CUST01"));
nameValuePairs.add(new BasicNameValuePair("orderId", "101010"));
  nameValuePairs.add(new BasicNameValuePair("orderTotal", "99.99"));
httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

// Execute HTTP Post Request
 HttpResponse response = httpclient.execute(httppost);

      } catch (ClientProtocolException e) {
     // TODO Auto-generated catch block
      } catch (IOException e) {
       // TODO Auto-generated catch block
  }} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:07:31.250

在这里，我发布了一些如何从 url 获取内容的代码。

现在你必须在数组中传递字符串。

```
try{

            HttpClient httpclient = getNewHttpClient();

            HttpGet httpget = new HttpGet("url");

            HttpResponse response = httpclient.execute(httpget);
            HttpEntity entity = response.getEntity();
            is = entity.getContent();

        }catch(Exception e){
            Log.e("log_tag", "Error in http connection "+e.toString());
        }

        //convert response to string
        try{
            BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            result=sb.toString();
        }catch(Exception e){
            Log.e("log_tag", "Error converting result "+e.toString());
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:11:11.517

我假设您的请求结构是 JSONObject 与上面给出的示例数据。

现在，只需在 JSONObject 类的帮助下创建一个 JSONObject，在这里您可以浏览我的一个关于[Web API 及其在 Android 中的集成的演示文稿。](https://speakerdeck.com/pareshmayani/web-api-integration-in-android)

例子：

```
 JSONObject myJSONRequest = new JSONObject();
    myJSONRequest.put("customerId", "CUST01");
    myJSONRequest.put("orderId","101010");
    .........
    .........
    JSONArray arrayOrder = new JSONArray();
    for(int i=cntLine; i<n; i++)
    {
       JSONObject objSub = new JSONObject();
       objSub .put("lineId", String.valueOf(i));
       objSub .put("itemNumber", String.valueOf(i));
       .............
       .............

       arrayOrder.put(objSub);
    }
    myJSONRequest.put("orderDetailList", arrayOrder.toString());

    // create complete request object by placing all the values inside it.

    // Below code is for posting request data to web api

    DefaultHttpClient client = new DefaultHttpClient();
    HttpPost post = new HttpPost(url);
    post.setEntity(new StringEntity(myJSONRequest.toString(), "utf-8"));
    HttpResponse response = client.execute(post); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T08:30:52.990

在 android 中，它建议开发人员使用 HttpUrlConnection ...

你需要上面的 json 作为字符串。

步骤 1) 创建新的 URL 对象。

```
URL url = new URL("www.url.com/demoservice"); 
```

步骤 2) 创建 HttpURLConnection 对象。

```
HttpUrlConnection connection = url.openConnection(); 
```

步骤 3) 将请求属性设置为 HttpPost..

```
connection.setRequestProperty("request-Method","POST");
connection.setRequestProperty("content-type","application/json"); 
```

步骤 4) 获取输出流引用。

```
OutputStream stream = connection.getOutputStream(); 
```

步骤 5) 将 json 字符串写入输出流。

```
stream.write(jsonString.toBytes()); 
```

步骤 6) 关闭流。

```
stream.close(); 
```

希望这会有所帮助..

# c# - 在制作读取串行数据并绘制图形的 GUI 时实现线程

> ID：15517310
> 
> 赞同：3
> 
> 时间：2013-03-20T07:04:44.993
> 
> 标签：c#, multithreading, graph, serial-port, backgroundworker

我正在进行一个项目，我必须从 Arduino 的传感器读取 CSV 格式的串行数据，使用 C# 解析获得的值，并显示实时图表。

我是多线程概念的新手，我对应该创建多少线程以及每个线程应该分配什么任务感到困惑。

有什么建议么？这是一个初始示例代码，因此可能有错误。

```
 private void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)
    {
        RxString = serialPort1.ReadExisting();
        RxString = RxString.Replace("$", "");
        this.Invoke(new EventHandler(DisplayText));

    }
    //display the parsed string List
    private void DisplayText(object sender, EventArgs e)
    {

        richTextBox1.AppendText(RxString);
        GlobalList.AddRange(parsed());
        richTextBox2.Text = String.Join(Environment.NewLine, GlobalList);
    }
    //set the input rate
    private void Start_Click(object sender, EventArgs e)
    {
        serialPort1.PortName = "COM32";
        serialPort1.BaudRate = 9600;
        serialPort1.DtrEnable=true;
        serialPort1.Open();
        if (serialPort1.IsOpen)
        {
            Start.Enabled = false;
            Stop.Enabled = true;
            richTextBox1.ReadOnly = false;

        }

    }
 public List<String> parsed()
    {
                string line;
                int loc = 0;
                List<string> stringList;
                line = richTextBox1.Text;
                stringList = new List<string>(line.Split(','));
                richTextBox3.AppendText("\n Pressure:" + stringList[loc]);
                loc++;
                richTextBox3.AppendText("\n Accelerometer:" + stringList[loc]);
                loc++;
                richTextBox3.AppendText("\n Temperature:" + stringList[loc]);
                loc++;
                richTextBox3.AppendText("\n Height:" + stringList[loc]);
                loc++;

            return stringList;
    }

//plot an elementary graph from the values obtained
public void displayglobal()
    {

        for (int i = 0; i < GlobalList.Count; i++)
        {
            if (i % 3 == 0)
            {
                rtxtConsole.AppendText("\nPressure: " + GlobalList[i]);
                chart1.Series["tempvspressure"].Points.AddXY(GlobalList[i], GlobalList[i + 2]);
            }

        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T16:23:00.107

我强烈建议在任何可能阻塞的地方使用工作线程，因为这会冻结 UI。

我会分拆一个线程来读取传入的流并解析数据单元。如果流是 CSV，那么流解析器可以使用您的行分隔符（通常是新行）来分隔单元。

如果每行的工作负载非常低，则流读取线程每次有一个完整的数据单元时就可以调用UI线程进行处理。如果正在处理的行数导致 UI 锁定，则可能需要另一个工作线程将它们批量插入 UI。为此，您需要一个线程安全队列。

我在记录监听网络流的应用程序时已经这样做了很多次，并且对于串行端口来说问题似乎没有什么不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-29T04:38:53.747

借助`async`C# 中的新支持，您根本不需要多个线程。

您可以使用`port.BaseStream.ReadAsync()`which 将配合 UI 消息处理。

# josso - 如何将 Josso 1.8.6 与 REST Web 服务集成

> ID：15517311
> 
> 赞同：0
> 
> 时间：2013-03-20T07:04:45.320
> 
> 标签：josso

我有一个 Rest Web Services 应用程序和 Admin Web 应用程序，

Rest web 服务将与 mobile 交互，其中 Admin web 应用程序将用于维护目的。

对于 webservice 应用程序和 amin web 应用程序，credentails 是相同的。

所以我需要josso为此提供单点登录。

能否请您帮助如何配置星标。我浏览了 Josso 网站，那里有基本信息。如果您有要配置的文档，任何人都可以帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-07T18:17:56.127

我有一个类似的应用程序设置，其中一个 Web 应用程序提供 Rest Services 以及面向用户的 Web 应用程序。据我所知，JOSSO 将为您提供面向用户的 SSO 身份验证，并不打算与其他服务一起使用。

相反，我所做的是在 web-resource-collection 下的部署描述符 (web.xml) 中定义我的 rest 服务的 URL，在 JOSSO 配置下将被忽略。然后我定义了一个单独的过滤器来分别处理其余的身份验证。进一步来说：

web.xml

```
<security-constraint>
    <web-resource-collection>
        <web-resource-name>public-resources</web-resource-name>
        <url-pattern>/restservices/</url-pattern>
        <http-method>GET</http-method>
        <http-method>POST</http-method>
    </web-resource-collection>
</security-constraint> 
```

josso-agent-config.xml

```
 <configuration>
        <agent:agent-configuration>
            <agent:partner-apps>
                    <agent:partner-app id="myapplication-sp" vhost="10.1.8.11" context="/myappcontext" ignore-web-resource-collections="public-resources"/>
    </agent:partner-apps>
        </agent:agent-configuration>
    </configuration> 
```

有了这个，我可以使用 JOSSO 来保护我的大部分 Web 应用程序并忽略我拥有的其余服务。我为我的休息服务（Spring）使用了自定义身份验证过滤器。

希望这可以帮助！

# android - ActionBar 之外的自定义溢出菜单

> ID：15517317
> 
> 赞同：2
> 
> 时间：2013-03-20T07:04:59.767
> 
> 标签：android

如果屏幕尺寸无法显示所有图标，我需要使用菜单项和溢出图标实现自定义溢出菜单。我无法使用侧滚动条，因为我已经在展开的列表视图中。我不能使用顶部或底部操作栏菜单，因为操作会根据展开的列表项而改变。

所以我想创建自己的溢出菜单 - 类似于附加的 gmail 屏幕截图

![截图 1](../Images/007449974c316c8b05026b395ec0a622.png)

![截图 2](../Images/9972d1933e11e5658097b7011c1ef472.png)

![截图 3](../Images/37fc3541d83e87fe120e78012fdea092.png)

有任何想法吗？显然 ABS 可以用于此，但我无法弄清楚，请帮助:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T23:06:27.720

[`ListPopupWindow`](https://developer.android.com/reference/android/widget/ListPopupWindow.html)就是你要找的。但是，它是一个 API 11+ 类。ABS 包括一个向后移植的版本，它基本上只是一个`ListView`内部版本`PopupWindow`（两个 API 1 类）。

# mysql - 如何在每条记录之间的间隔不大于 5 分钟的轨道中选择记录？

> ID：15517320
> 
> 赞同：0
> 
> 时间：2013-03-20T07:05:25.617
> 
> 标签：mysql, sql, database

我有很多来自 GPS 设备的记录，我需要在地图上显示为路线。当记录之间的时间不超过 5 分钟时，记录会合并一条路线。

假设我的数据库如下所示：

```
id       date
-------  ---------------------
1        2013-01-10 11:00:00.0
2        2013-01-10 11:01:15.0
3        2013-01-10 11:02:15.0
4        2013-01-10 11:03:15.0
5        2013-01-10 11:04:45.0
6        2013-01-10 11:15:00.0
7        2013-01-10 12:00:00.0
8        2013-01-10 12:00:50.0 
```

在这种情况下，记录 1-5 和 7-8 需要形成一条路线。

我正在尝试为此编写查询，但我被卡住了。我设法在数据库之后执行操作，但这是您不应该想要的（您必须检索所有记录等）

有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:14:54.087

您只需将每个条目与其后继条目进行比较即可获得单独的段

```
SELECT 
    f.ID AS from_ID,
    t.ID AS to_ID
FROM
    GPSTable AS f 
JOIN GPSTable AS t
    ON f.ID = t.ID-1 
WHERE
    TIMESTAMPDIFF(SECOND, f.Date, t.Date) < 300
; 
```

如果存在一个条目 (A,B) 和另一个条目 (B,C)，则您知道您有一条来自 (A->B->C) 的路径。

下一步是收集所有这些路径段。这可以通过递归查询来完成，但我不熟悉 mySQL。

# sencha-touch - How to fetch record from mysql in sencha touch 2

> ID：15517324
> 
> 赞同：0
> 
> 时间：2013-03-20T07:05:52.587
> 
> 标签：sencha-touch

I am new to Sencha touch. I need to fetch record from mysql database and show it on the screen.I I have read the documentation of sencha,but I dnt understand most of it. Please help me. Information in detail will be very helpful. Thanks in Advance.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T13:48:02.493

Sencha touch 是 JS 框架，它不附带数据库驱动程序，因此您无法从它连接到 Db（顺便说一句，即使它附带，我也不建议将移动设备连接到我的数据库）。因此，如果您需要与数据库通信，您必须有一个代理/控制器层（在 Java/php 或您喜欢的任何其他技术中），它将在一端连接到 Db 并在另一端公开 http 接口，通过该接口 sencha touch 应用程序会沟通。

最佳实践是编写一个 Restful 服务并使用您的应用程序通过它进行通信。如果您还不知道，请在 Google 上搜索“如何创建 rest web 服务”。

# ruby-on-rails - 在 Rails 中看到关于新创建内容的两条确认消息

> ID：15517325
> 
> 赞同：0
> 
> 时间：2013-03-20T07:05:55.717
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我不确定为什么会发生这种情况，但是当我创建内容时，我看到两条确认消息

![http://i.imgur.com/UGAUO0s.png](../Images/69368c05791b8966e4902c4e82f0612b.png)

我在“yield”上方的 application.html.erb 中没有看到任何内容，并且无法弄清楚为什么两条确认消息而不是一条？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:32:56.887

可能是您呈现`two different div`具有相同名称的消息的地方。

# java - How to make a servlet respond to multiple requests?

> ID：15517329
> 
> 赞同：1
> 
> 时间：2013-03-20T07:06:06.087
> 
> 标签：java, servlets

I have a task that I want to wrap in a servlet to provide the ability to run the task remotely, by http request.

I know I can achieve this with REST API, but currently I assume (and please correct me if I'm wrong) that a simple servlet will do.

One of the things I want to achieve is that if a request to the servlet is made while another request is still processed, I'll get an appropriate response - "Task is already running".

I've built a simple servlet, using servlet-3.0, that calls the jar I want to run, but when I make 2 requests, the second one is not processed until the first one is finished.

EDIT:

My servlet is a simple http serlvet. service method overriden. I have a system.out.println("a") in the start. when I call the servlet in debug mode and then (while stopped at breakpoint) call it again, the message is printed only one time and printed the second time when I release the breakpoint and the first run finishes.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:15:45.187

首先，这看起来根本不像 REST。如果您真的只想生成一个（单个）后台任务，请确保在单独的工作线程中执行，而不是在请求线程中执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:17:30.110

也许你需要一把锁：

```
public class Task extends HttpServlet {
    // for singleton
    //private volatile boolean running = false;

    // or try this:

    public static boolean running = false;

    public void doGet(HttpServletRequest request, HttpServletResponse response)
throws IOException, ServletException
    {
        if(running){
             PrintWriter out = response.getWriter();
             out.println("running");
             return;
        }
        synchronized(Task.class){
            if(!running){
                running = true;
                // run the task
                running = false;
            }
        }
    }
} 
```

# ios - Storage usage in iOS, objective-c

> ID：15517331
> 
> 赞同：0
> 
> 时间：2013-03-20T07:06:08.797
> 
> 标签：ios, objective-c, file-storage

Can anyone tell me, how to get disk storage used amount in Objective-C (ex. music - 1Gb, images - 100Mb, ..., free space - 5Gb)?

UPD: I wrote this:

```
NSError *error = nil;
NSDictionary* fileAttributes = [[NSFileManager defaultManager] attributesOfFileSystemForPath:@"/"error:&error];
unsigned long long freeSpace = [[fileAttributes objectForKey:NSFileSystemFreeSize] longLongValue];
unsigned long long totalSpace = [[fileAttributes objectForKey:NSFileSystemSize] longLongValue];
msg = [NSString stringWithFormat:@"free disk space: %dGB\n total disk space: %dGB", (int)(freeSpace / (1024*1024*1024)),(int)(totalSpace / (1024*1024*1024))]; 
```

But i actually need all info, about music, video, etc... like system info about disk (screenshot: [http://cl.ly/image/1Y3Q3N1U3Q3A](http://cl.ly/image/1Y3Q3N1U3Q3A))

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:13:04.727

iPhone中没有像android这样的SDCard。您的应用程序正在运行自己的沙箱。所以沙箱外没有访问权限。所以觉得是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:22:39.317

这并不完全符合 V-Xtreme 所定义的您想要的，但以下链接

*   [https://stackoverflow.com/questions/3173768/how-to-print-current-memory-size-in-my-app](https://stackoverflow.com/questions/3173768/how-to-print-current-memory-size-in-my-app)
*   [如何以编程方式在 iPhone 中查找可用内存？](https://stackoverflow.com/questions/1020327/how-to-find-available-memory-in-iphone-programmatically)
*   [http://adeem.me/blog/2009/04/01/get-the-amount-of-free-memory-available/](http://adeem.me/blog/2009/04/01/get-the-amount-of-free-memory-available/)
*   获取可用内存： http: [//landonf.bikemonkey.org/code/iphone/Determining_Available_Memory.20081203.html](http://landonf.bikemonkey.org/code/iphone/Determining_Available_Memory.20081203.html)

# c++ - _BitScanForward64 在 c++.exe (rubenvb-4.7.2-release) 中返回错误答案

> ID：15517340
> 
> 赞同：3
> 
> 时间：2013-03-20T07:06:40.283
> 
> 标签：c++, windows, ming

长期 MSVC 用户，gcc 新手（请耐心等待）。

我在 Windows 7 上使用 rubenvb 版本的 c++（请参阅主题中的版本，是的，我正在为 64 位构建）并且我在使用 _BitScanForward64 时遇到问题。一些示例代码如下所示：

```
int __cdecl main(int argc, char* argv[])
{
    DWORD d = (DWORD)atoi(argv[1]);

    DWORD ix, ix2;
    ix2 = _BitScanForward64(&ix, d);
    printf("bsf %u %u\n", ix, ix2);
} 
```

我正在编译：

"C:\Program Files\gcc2\mingw64\bin\c++.exe" -o iTot.exe -mno-ms-bitfields -march=native -momit-leaf-frame-pointer -mwin32 -Os -fomit-frame-pointer -m64 -msse4 -mpopcnt -D WINDOWS main.cpp

当我使用参数 8 运行 iTot.exe 时，我预计 _BitScanForward64 会将 ix 设置为 3。这就是 MSVC 所做的。但是，ix 为 0，而 ix2 为 1。

另外，查看汇编程序，我看到：

```
bsfq QWORD PTR 44[rsp],rax   # MEM[(volatile LONG64 *)&ix], Mask 
```

在这种情况下，为什么 gcc 在这里强制进行内存写入+读取？

所以，有几个问题：

1.  _BitScanForward64 是否应该在 gcc 下以不同的方式调用？如果我只是说错了，那会很高兴（尽管与 MSVC 不兼容会很痛苦）。
2.  为什么 _BitScanForward64 内在强制内存写入？
3.  盯着 -S 的汇编器输出，我看不出生成的代码有什么问题。但是，使用*objdump.exe -d -Mintel*，我发​​现它没有使用上面的 asm 代码（这似乎可以工作），它实际上产生了相反的结果：

    bsf rax,QWORD PTR [rsp+0x2c]

怎么回事？为什么 -S 对我撒谎？

就像我说的，我是 gcc 的新手，所以如果我只是在做一些愚蠢的事情，请对我温柔一点。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T19:31:53.693

好的，我想我已经回答了我自己的问题。感谢 Joachim PileBorg 让我看看定义在哪里，以及 Alexey Frunze 指出参数*不能*倒退。

虽然我对 gcc 太陌生，无法权威地说出这一点，但我认为 winnt.h 中 _BitScanForward64 的定义是非常错误的。

当前定义：

```
__CRT_INLINE BOOLEAN _BitScanForward64(DWORD *Index,DWORD64 Mask) {
  __asm__ __volatile__("bsfq %1,%0" : "=r" (Mask),"=m" ((*(volatile LONG64 *)Index)));
  return Mask!=0;
} 
```

我的定义：

```
__CRT_INLINE BOOLEAN BSF(DWORD *Index,DWORD64 Mask) {
  LONG64 t;
  __asm__ ("bsfq %0,%1" : "=r" (Mask),"=r" (t));
  *Index = t;
  return Mask!=0;
} 
```

注意删除（不需要的）volatile，将参数反转为 bsfq，从 =m 更改为 =r 等。基本上，这个定义似乎是错误的，但仍然可以编译。

我猜写这篇文章的人看了 BitScanForward64 的原型并且“知道”其中一个参数必须是内存，因为唯一*可以*作为 BSF 内存的参数是 p2，这就是他们所做的。如所写，代码将读取 p2 的未写入内容并扫描它的位。它编译，但产生错误的答案。

所以，按顺序回答我的问题：

1.  不，我没有叫错。winnt.h 中的定义是错误的。事实上，该文件中可能有一堆有类似问题的文件（_BitScanForward、_BitScanForward64、_BitScanReverse、_BitScanReverse64 等）。
2.  它强制写入内存，因为 winnt.h 中的代码错误。我提议的更改不会强制任何内存访问。
3.  -S 错误地写入输出文件（objdump 正确）。使用我上面的定义会产生：

    ```
    call    atoi
    lea rcx, .LC0[rip]
    /APP
    # 7 "m.cpp" 1
    bsfq rax,rdx
    /NO_APP
    call    printf 
    ```

这不是可执行文件中的实际内容。实际的可执行文件包含（正确的）定义：

```
bsfq rdx,rax 
```

虽然我对修改系统头文件并不感到兴奋，但看来这将是我的答案。如果有人知道如何/在哪里报告此问题以便得到修复（正如我所提到的，我正在使用 reubenvb），我可以报告这两个问题，以便（希望）为每个人解决这个问题。

# excel - 基于 Activex 组合框中的选定值如何使用 vlook up

> ID：15517342
> 
> 赞同：0
> 
> 时间：2013-03-20T07:06:53.543
> 
> 标签：excel, vba

根据 Activex 组合框中的选定值，如何在特定工作表中使用 vlook up 并在另一个工作表中显示该数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:00:58.460

使用 LinkedCell 属性并在其中键入地址。如果您想在另一个电子表格中使用该值，您可以使用一个简单的工作表公式`=`来完成。

当组合框发生如下变化时，在 VBA 中为组合框添加一个脚本：

```
Private Sub ComboBox1_Change()
    Range("YOURCELL").Value2 = ComboBox1.Value
End Sub 
```

然后单元格“YOURCELL”将包含组合框的值，只要其值发生变化。如果您在 vlookup 中引用该“YOURCELL”单元格，您就在那里！

# python - How to read special characters

> ID：15517346
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:07:03.080
> 
> 标签：python

I am getting a value of column from database like below:

```
`;;][@+©

```

When I am reading this in my Python code this is giving below error message:

```
UnicodeDecodeError: 'utf8' codec can't decode byte 0xa9 in position 7: invalid start byte

```

Then I tried below code but not working:

```
unicode(' `;;][@+©', 'utf-8') 
```

Now how can I solve this problem?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T08:54:14.577

首先，阅读[这篇关于 Unicode](http://www.joelonsoftware.com/articles/Unicode.html)的文章。您拥有的字符串以*某种*编码进行编码，但不是[UTF8](http://en.wikipedia.org/wiki/UTF-8)。我们可以判断它不是 UTF8 的原因是第 7 个字节 0xa9 (= 169) 不在 0-127 (ASCII) 范围内，但前面没有前导字节。

所以诀窍是弄清楚它是什么编码。我们有一个提示：编码需要将字节 0xa9 表示为字形 ©。我猜它是[Windows-1252](http://en.wikipedia.org/wiki/Windows-1252)或[Latin-1](http://en.wikipedia.org/wiki/ISO/IEC_8859-1)编码，因为它们非常常见，并且在网格中查找 A9（字符编码与玩战舰基本相同）在两者中都给出了版权标志。

```
>>> unicode(' `;;][@+©')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc2 in position 8: ordinal not in range(128)
>>> unicode(' `;;][@+©', 'latin-1')
u' `;;][@+\xc2\xa9'
>>> unicode(' `;;][@+©', 'cp1252')
u' `;;][@+\xc2\xa9' 
```

# matlab - k-means clustering with gamma distribution

> ID：15517349
> 
> 赞同：0
> 
> 时间：2013-03-20T07:07:08.893
> 
> 标签：matlab

i am working on mammograms. I want to segment the mammograms using k-means clustering with gamma distribution in matlab . Only applying k-means-clustering i know, but don't know how to implement it with gamma distribution.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:50:01.837

本文描述了一种用于伽马分布的 k-means 聚类方法：

[Gumaei，A.，等。al“使用混合伽马分布的 k-means 算法进行乳房分割”，2012 年。](http://faculty.ksu.edu.sa/mhussain/CADProject/CP6_Gumnai2012.pdf)

该方法的关键在于您需要更新集群均值以考虑伽马分布。该等式也在论文中给出。

# c# - 如何提高 tchart refresh() 的速度？

> ID：15517350
> 
> 赞同：0
> 
> 时间：2013-03-20T07:07:09.313
> 
> 标签：c#, performance, teechart

我有 16 个图 [最大]，每个图中有 4 条快线。在每张图中，3 条快线代表最小值、最大值和理想值。第 4 条快线是来自硬件的实际值。我必须对 18,000 个样本进行测试。所以，前 3 条快线已经画好了，当开关打开并且数据进来时，第 4 条快线就画好了。为了绘制第 4 条线，我使用方法 Series4.Add(actualvalue, "" , color.red) 。这就是问题所在。每次在第 4 行抽取样本。必须刷新图表才能查看该样本的绘图。这也重绘了其他 3 条快线，每条有 18,000 个样本。所以它一次又一次地重新绘制了那么多样本而没有使用。我只需要画第四条快线。我不能使用数组来填充值，然后将其分配为 fastline 的来源，因为我事先没有任何值。我尝试了 series4.repaint() 方法和 series4.refreshseries() 方法，但实际上并没有重新绘制第 4 个系列。我们必须刷新整个图表。因此，由于每条快线 [18,000] 中的样本数量很多，并且一张图有 4 条快线，总共有 16 个这样的图，因此它会降低性能。

我已经完成了 Series4.AutoRepaint = false, Series4.DrawAllPoints = false; Series4.XValues.Order = ValueListOrder.None , Series4.YValues.Order = ValueListOrder.None

有什么办法可以提高性能吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T14:44:02.697

我制作了一个简单的代码，其中我添加了 4 个带有 4 个 FastLines 的图表，每个 fastline 有 18000 个点，使用一个表格来添加一个初始化值，并且在我只更新 Series4 的值之后。对于我要绘制的值的数量，性能很好：

```
 public Form1()
     {
         InitializeComponent();
         InitializeChart();
     }

    // Steema.TeeChart.Styles.FastLine Series1;

     Timer timer1, timer2,timer3, timer4;
     Random r;
     DateTime dt;
   DateTime[] Xvalues1;
   double[] Yvalues1; 
     Steema.TeeChart.TChart tChart1, tChart2, tChart3,tChart4;
     private void InitializeChart()
     {

         tChart1 = new TChart();
         tChart2 = new TChart();
         tChart3 = new TChart();
         tChart4 = new TChart();
         this.Controls.Add(tChart1);
         this.Controls.Add(tChart2);
         this.Controls.Add(tChart3);
         this.Controls.Add(tChart4);

         //Initialize Locations and size

         this.Width = 908;
         this.Height = 600;

         //Location
         tChart1.Left = 12;
         tChart1.Top = 53;
         tChart2.Left = 468;
         tChart2.Top = 53;
         tChart3.Left = 12;
         tChart3.Top = 318;
         tChart4.Left = 468;
         tChart4.Top = 318;

         //Size
         tChart1.Width = 373;
         tChart1.Height = 236;
         tChart2.Width = 373;
         tChart2.Height = 236;
         tChart3.Width = 373; 
         tChart3.Height = 236;
         tChart4.Width = 373;
         tChart4.Height = 236;      

         tChart1.Aspect.View3D = false;
         tChart2.Aspect.View3D = false;
         tChart3.Aspect.View3D = false;
         tChart4.Aspect.View3D = false;

         tChart1.Legend.Visible = false;
         tChart2.Legend.Visible = false;
         tChart3.Legend.Visible = false;
         tChart4.Legend.Visible = false;

         tChart1.Panel.Gradient.Visible = false;
         tChart2.Panel.Gradient.Visible = false;
         tChart3.Panel.Gradient.Visible = false;
         tChart4.Panel.Gradient.Visible = false;

         tChart1.Axes.Bottom.AxisPen.Visible = false;
         tChart2.Axes.Bottom.AxisPen.Visible = false;
         tChart3.Axes.Bottom.AxisPen.Visible = false;
         tChart4.Axes.Bottom.AxisPen.Visible = false;

         tChart1.Axes.Left.AxisPen.Visible = false;
         tChart2.Axes.Left.AxisPen.Visible = false;
         tChart3.Axes.Left.AxisPen.Visible = false;
         tChart4.Axes.Left.AxisPen.Visible = false;

         //Series
         tChart1.AutoRepaint = false;
         tChart2.AutoRepaint = false;
         tChart3.AutoRepaint = false;
         tChart4.AutoRepaint = false;

         for (int i = 0; i < 4; i++)
         {
             new Steema.TeeChart.Styles.FastLine(tChart1.Chart);
             new Steema.TeeChart.Styles.FastLine(tChart2.Chart);
             new Steema.TeeChart.Styles.FastLine(tChart3.Chart);
             new Steema.TeeChart.Styles.FastLine(tChart4.Chart);

             tChart1[i].XValues.DateTime=true;
             tChart2[i].XValues.DateTime = true;
             tChart3[i].XValues.DateTime = true;
             tChart4[i].XValues.DateTime = true;
             InitialDataSeries(tChart1[i]);
             InitialDataSeries(tChart2[i]);
             InitialDataSeries(tChart3[i]);
             InitialDataSeries(tChart4[i]);

         }

         //Axes labels
         tChart1.Axes.Bottom.Labels.DateTimeFormat = "dd/MM";
         tChart1.Axes.Bottom.Labels.Angle = 90;
         tChart2.Axes.Bottom.Labels.DateTimeFormat = "dd/MM";
         tChart2.Axes.Bottom.Labels.Angle = 90;
         tChart3.Axes.Bottom.Labels.DateTimeFormat = "dd/MM";
         tChart3.Axes.Bottom.Labels.Angle = 90;
         tChart4.Axes.Bottom.Labels.DateTimeFormat = "dd/MM";
         tChart4.Axes.Bottom.Labels.Angle = 90;
         tChart1.AutoRepaint = true;
         tChart2.AutoRepaint = true;
         tChart3.AutoRepaint = true;
         tChart4.AutoRepaint = true;
         tChart1.Refresh();
         tChart2.Refresh();
         tChart3.Refresh();
         tChart4.Refresh();

         //Timer
         timer1 = new Timer();
         timer1.Start();
         timer1.Interval = 100;
         timer1.Tick += new EventHandler(timer1_Tick);

     }

     void timer1_Tick(object sender, EventArgs e)
     {
         //See the chart data updated.
         tChart1[0].Visible = false;
         tChart1[1].Visible = false;
         tChart1[2].Visible = false;
         PopulateSeries(tChart1[3]);
         PopulateSeries(tChart2[3]);
         PopulateSeries(tChart3[3]);
         PopulateSeries(tChart4[3]);

     }
     private void PopulateSeries(Steema.TeeChart.Styles.Series Series1)
     {
         r = new Random();
         dt = DateTime.Now;
         tChart1.AutoRepaint = false;
         tChart2.AutoRepaint = false;
         tChart3.AutoRepaint = false;
         tChart4.AutoRepaint = false; 
         // show only 50 points - delete the rest
         while (Series1.Count > 10000)
         {
             Series1.Delete(0);

         }
         if (Series1.Count > 10000)
         {
            Series1.Delete(0);

         }
         else
         {
             for (int t = 0; t < 100; t++)
             {

                 Series1.Add(dt, r.Next(1000));
                 dt = dt.AddSeconds(15);
             }
         }
         tChart1.AutoRepaint = true;
         tChart2.AutoRepaint = true;
         tChart3.AutoRepaint = true;
         tChart4.AutoRepaint = true;
         tChart1.Refresh();
         tChart2.Refresh();
         tChart3.Refresh();
         tChart4.Refresh();
     }

     private void InitialDataSeries(Steema.TeeChart.Styles.Series Series1)
     {    
         //Arrays
         dt = DateTime.Now;
         r = new Random();
         Xvalues1 = new DateTime[18000];
         Yvalues1 = new double[18000];
         (Series1 as Steema.TeeChart.Styles.FastLine).DrawAllPoints = false;
         for (int j = 0; j < 18000; j++)
         {
             Xvalues1[j] = dt;
             dt = dt.AddSeconds(15);
             Yvalues1[j] = r.Next(1000);
         }

         Series1.Add(Xvalues1, Yvalues1);
     } 
```

你能告诉我们它是否对你有帮助吗？另一方面，如果我的代码对您没有帮助，我建议您使用 TeeChartDirect2D，它非常适合 DSP 实时应用程序所需的高速数据吞吐量。请参阅白皮书《[提升 Windows 窗体中](http://www.teechart.net/files/teechartnet/WhitePaper_Direct2D.pdf)的图形渲染性能》，了解详细信息。

谢谢，

# udp - org.apache.camel.ExchangeTimedOutException：在 30000 毫秒内未收到 OUT 消息

> ID：15517351
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:07:11.493
> 
> 标签：udp, apache-camel, fuseesb, mina

我目前正在研究两个相互关联的 FUSE 项目。所以我尝试使用带有自定义编解码器的 apache Camel Mina udp 端点将数据报数据包从一个项目发送到另一个项目。我的问题是其他项目收到了数据报包，尽管它会在project1中抛出超时异常。

请给我建议为什么会这样以及如何解决它？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T14:12:50.680

您正在通过该传输进行请求/回复。并且没有回复，因此 30 秒后，出现超时异常。

如果您不想做请求/回复而是单向，则将 camel-mina 组件配置为 sync=false。

如果你想做请求/回复，如果你需要更多时间，你可以将超时时间提高到 30 秒以上。

请参阅骆驼米纳文档：[http ://camel.apache.org/mina](http://camel.apache.org/mina)

# javascript - Read JSON in Java Script

> ID：15517352
> 
> 赞同：-5
> 
> 时间：2013-03-20T07:07:11.827
> 
> 标签：javascript, json, jsp

I created a JSON variable and parsing it to JSON. But I am not able to read the values. I tried everything. But its not working. Here is my JavaScript code.

```
var graph='{"graphSpace":[{"rectangle":{"minX":0.0,"minY":0.0,"maxX":0.0,"maxY":0.0},"contents":"","rights":[],"lefts":[],"tops":[],"downs":[],"annotation":{"id":255,"type":"line"}],[{"rectangle":{"minX":174.0,"minY":87.0,"maxX":989.0,"maxY": 136.0},"contents":"Carter Brothers Fire u0026 Life Safety","rights":[{"id":59}],"lefts":[],"tops":[{"id":255}],"downs":[{"id":14},{"id":16},{"id":19},{"id":21},{"id":28},{"id":31},{"id":33},{"id":35},{"id":42},{"id":45},{"id":47},{"id":49},{"id":52},{"id":183},{"id":169},{"id":199},{"id":190},{"id":201},{"id":192},{"id":208},{"id":215},{"id":230},{"id":233},{"id":240},{"id":243},{"id":246}],"annotation":{"id":7,"type":"line"}},{"rectangle":{"minX":2073.0,"minY":92.0,"maxX":2327.0,"maxY":150.0},"contents":"Invoice","rights":[],"lefts":[{"id":7}],"tops":[{"id":7},{"id":255}],"downs":[{"id":67},{"id":70},{"id":72},{"id":74},{"id":76},{"id":100},{"id":102},{"id":105},{"id":108},{"id":111},{"id":114},{"id":135},{"id":160},{"id":151},{"id":162},{"id":153},{"id":264},{"id":280},{"id":302}],"annotation":{"id":59,"type":"line"}}]}'; 
```

For your convenience, I'll put the data in a readable format.

```
 {
   "graphSpace":
    [
        {"rectangle":
            "{  "minX": 0.0,  "minY": 0.0,  "maxX": 0.0,  "maxY":0.0}",
        "contents":"",
        "rights":"[]",
        "lefts":"[]",
        "tops":"[]",
        "downs":"[]",
        "annotation":
            "{  "id": 255,  "type": "line"}"
    ],
    [
        {"rectangle":
            "{  "minX": 174.0,  "minY": 87.0,  "maxX": 989.0,  "maxY": 136.0}",
        "contents":"JSON u0026 JAVASCRIPT",
        "rights":"
            [{"id":59}]",
        "lefts":"[]",
        "tops":"[{"id":255}]",
        "downs":"
            [{"id":14},]",
        "annotation":
            "{  "id": 7,  "type": "line"}"
        },
        {"rectangle":
            "{  "minX": 2073.0,  "minY": 92.0,  "maxX": 2327.0, "maxY":150.0}",
        "contents":"JSON EXample",
        "rights":"[]",
        "lefts":
            "[{"id":7}]",
        "tops":
            "[{"id":7},{"id":255}]",
        "downs":
            "[{"id":67},{"id":70},{"id":72},]",
        "annotation":
            "{"id": 59,  "type": "line"}"
        }
    ]
} 
```

Now I am creating a variable which will store the parsed data. Then I am checking whether it stored or not. So i am reading the first value and alerting it.

```
var graphSpace=JSON.parse(graph);
var minx = graphSpace[0].rectangle.minX;
alert(minx); 
```

But when i open this JSP page, I am not able to get see that alert. What is the mistake here?

**Update: Sorry I forgot to add the first key when I was copying. Please check it**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:14:05.133

这是无效的格式。删除包裹数组的花括号。

```
 var graph='[{"rectangle":{"minX":0.0,"minY":0.0,"maxX":0.0,"maxY":0.0},"contents":"","rights":[],"lefts":[],"tops":[],"downs":[],"annotation":{"id":255,"type":"line"}],[{"rectangle":{"minX":174.0,"minY":87.0,"maxX":989.0,"maxY": 136.0},"contents":"Carter Brothers Fire u0026 Life Safety","rights":[{"id":59}],"lefts":[],"tops":[{"id":255}],"downs":[{"id":14},{"id":16},{"id":19},{"id":21},{"id":28},{"id":31},{"id":33},{"id":35},{"id":42},{"id":45},{"id":47},{"id":49},{"id":52},{"id":183},{"id":169},{"id":199},{"id":190},{"id":201},{"id":192},{"id":208},{"id":215},{"id":230},{"id":233},{"id":240},{"id":243},{"id":246}],"annotation":{"id":7,"type":"line"}},{"rectangle":{"minX":2073.0,"minY":92.0,"maxX":2327.0,"maxY":150.0},"contents":"Invoice","rights":[],"lefts":[{"id":7}],"tops":[{"id":7},{"id":255}],"downs":[{"id":67},{"id":70},{"id":72},{"id":74},{"id":76},{"id":100},{"id":102},{"id":105},{"id":108},{"id":111},{"id":114},{"id":135},{"id":160},{"id":151},{"id":162},{"id":153},{"id":264},{"id":280},{"id":302}],"annotation":{"id":59,"type":"line"}}]'; 
```

之后一切都会好的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:15:23.597

你确定你的 JSON 是有效的吗？

使用此站点检查：http: [//jsonlint.com/](http://jsonlint.com/)

它告诉我你的 JSON 有问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:14:21.693

此格式无效。最外面的 {} 是不需要的，并删除嵌入对象周围的引号，例如：

```
"rectangle": "{  "minX": 174.0,  "minY": 87.0,  "maxX": 989.0,  "maxY": 136.0}", 
```

反而：

```
"rectangle": {  "minX": 174.0,  "minY": 87.0,  "maxX": 989.0,  "maxY": 136.0}, 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:15:25.093

您的 JSON 无效。JSON 中对象的属性需要以名称：值对的形式列出，但您尚未对最外层的对象执行此操作。由于您似乎希望这是一个数组，我建议将最外面的大括号更改为方括号。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T07:20:56.977

使用 jsonlint.com 纠正您的 json.com。改正后是这样的。为 LEVEL 1 和 LEVEL 指定合适的名称作为密钥

```
{
    "LEVEL 1": [
        {
            "rectangle": {
                "minX": 0,
                "minY": 0,
                "maxX": 0,
                "maxY": 0
            },
            "contents": "",
            "rights": "[]",
            "lefts": "[]",
            "tops": "[]",
            "downs": "[]",
            "annotation": {
                "id": 255,
                "type": "line"
            }
        }
    ],
    "LEVEL 11": [
        {
            "rectangle": {
                "minX": 174,
                "minY": 87,
                "maxX": 989,
                "maxY": 136
            },
            "contents": "JSON u0026 JAVASCRIPT",
            "rights": {
                "id": 59
            },
            "lefts": "[]",
            "tops": {
                "id": 255
            },
            "downs": {
                "id": 14
            },
            "annotation": {
                "id": 7,
                "type": "line"
            }
        },
        {
            "rectangle": {
                "minX": 2073,
                "minY": 92,
                "maxX": 2327,
                "maxY": 150
            },
            "contents": "JSON EXample",
            "rights": "[]",
            "lefts": {
                "id": 7
            },
            "tops": {
                "id": 7
            },
            "you2": {
                "id": 255
            },
            "downs": [
                {
                    "id": 67
                },
                {
                    "id": 70
                },
                {
                    "id": 72
                }
            ],
            "annotation": {
                "id": 59,
                "type": "line"
            }
        }
    ]
} 
```

# html - Can tags in CSS have multiple levels of inheritance and if not, then is there a way to be similarly efficient?

> ID：15517354
> 
> 赞同：1
> 
> 时间：2013-03-20T07:07:15.630
> 
> 标签：html, css

I am learning CSS on the fly, so if this is stupid, bear with me. I need a lot of different types of `<p>` tags, as I am using CSS styles to manage an ebook in HTML (this format is required, and I am not allowed to deviate from the established structure). At the moment I have 15 different `<p>` classes, and I will need a lot more (probably over 50). Many of theses classes are very similar, with only a 1 or 2 differences between any 2.

So, is it possible to have tag classes that inherit from other classes, similar to how OOP works? And if that isn't possible, then is there some way to make this more efficient?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:54:04.680

不，没有多重继承之类的东西，这根本不是关于继承的。

要以不同方式格式化段落，您可以在标签中使用多个类`<p>`，用空格分隔，例如`<p class="warning important aside">`. 对于每个类，您可以根据需要设置 CSS 属性（范围从设置单个属性到复杂的设置）。

您不需要（也不应该）分别为每个类声明例如字体系列。通常为所有段落设置它就足够了，例如`p { font-family: Calibri, sans-serif; }`。类不是对象，也不是类对象。它只是一种对元素进行分类的方法，以便您可以在一组元素上设置 CSS 属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T09:04:04.403

您可以使用多个类：

```
<p class='main-class secondary-class'></p> 
```

之后， style: .main-class { /*你的 CSS 代码 */ }

```
.secondary-class /*Selects <p> tags with second class*/
{ 
 /*Styles that is different than the main class*/
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:25:47.030

我在 Google、Yahoo 等大多数 Giant 网站上看到的内容。

1]在一个css类中定义最小通用样式，例如：

```
.hFont { font-family: Helvetica, San-serif; } 
.vFont { font-family: Tahoma; } 

.sBold { font-weight: semi-bold; } 
.bBold { font-weight: bold; } 
```

2]您可以在1个标签中定义多个类。所以在标签中使用这个多个类，如：

```
<h1 class="hFont sBold">Hi this is Heading!!! </h1> 
```

我认为这应该是我们可以使用的最好和最有效的方法。这只是一个例子。因此，在一个 CSS 类中减少和组合您的相同样式。

# sql - how to round my answer

> ID：15517357
> 
> 赞同：2
> 
> 时间：2013-03-20T07:07:27.630
> 
> 标签：sql, sql-server, sql-server-2008

I have the following, but I need the answer in percentage and I keep getting 0\. I was wondering how to round my answer. Thanks in advance!

```
SELECT (COUNT(t1.[ENTRY CODE])/2948) AS 'SecondYearRetention'

FROM 
        t1

Inner join
        t2 ON t1.CLID = t2.CLID

WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:11:04.590

尝试`2948.0`代替`2948`：

```
SELECT 
  (COUNT(t1.[ENTRY CODE]) / 2948.0) AS 'SecondYearRetention'
FROM  t1
Inner join t2 ON t1.CLID = t2.CLID
WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:31:16.530

```
SELECT ROUND((COUNT(t1.[ENTRY CODE])/2948),3)AS 'SecondYearRetention'

FROM 
        t1

Inner join
        t2 ON t1.CLID = t2.CLID

WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

试试这个以获得更多结果 [http://msdn.microsoft.com/en-us/library/ms175003.aspx](http://msdn.microsoft.com/en-us/library/ms175003.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:33:48.577

您还可以将[CAST 或 CONVERT](http://msdn.microsoft.com/en-us/library/aa226054%28v=sql.80%29.aspx)函数与 data_type 一起使用，这对您来说是必需的

```
SELECT 
  (CAST(COUNT(t1.[ENTRY CODE]) AS decimal(9,8)) / 2948) AS 'SecondYearRetention'
FROM  t1
Inner join t2 ON t1.CLID = t2.CLID
WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

或者

```
SELECT 
  (CONVERT(decimal(9,8),COUNT(t1.[ENTRY CODE])) / 2948) AS 'SecondYearRetention'
FROM  t1
Inner join t2 ON t1.CLID = t2.CLID
WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-21T06:55:43.953

你可以试试这个：

```
SELECT ROUND(CAST(COUNT(t1.[ENTRY CODE]) AS FLOAT) / 2948),3) AS 'SecondYearRetention'

FROM 
        t1

Inner join
        t2 ON t1.CLID = t2.CLID

WHERE t1.[ENTRY CODE] = 'FTF' OR t1.[ENTRY CODE] = 'CFTF' 
```

# linux - How to count number of tabs in each line using shell script?

> ID：15517363
> 
> 赞同：17
> 
> 时间：2013-03-20T07:08:14.807
> 
> 标签：linux, bash, shell

I need to write a script to count the number of tabs in each line of a file and print the output to a text file (e.g., output.txt).

How do I do this?

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-20T08:13:22.743

```
awk '{print gsub(/\t/,"")}' inputfile > output.txt 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-20T12:42:42.870

如果您将`\t`其视为字段分隔符，则每行将少一个`\t`字段：

```
awk -F'\t' '{ print NF-1 }' input.txt > output.txt 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T08:11:21.203

```
sed 's/[^\t]//g' input.txt | awk '{ print length }' > output.txt
```

基于[这个答案](https://unix.stackexchange.com/a/18742/11912)。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-20T08:15:00.993

这将给出文件中的选项卡总数：

```
od -c infile | grep -o "\t" | wc -l > output.txt 
```

这将逐行为您提供选项卡数量：

```
awk '{print gsub(/\t/,"")}' infile > output.txt 
```

# iphone - save an image with two UIImageView which has two images - ios

> ID：15517364
> 
> 赞同：1
> 
> 时间：2013-03-20T07:08:17.470
> 
> 标签：iphone, ios, objective-c, xcode, uiimageview

In my application I have two `UIImageViews` which is overlayed one over the other. i.e ) `UIImageView-2` is placed on `UIImageView-1`. The image in `UIImageView-2` is transparent, so now I have image over another image. Now I need to save these two as a single image. Is it possible in ios? Please advice..

**The sample view is as below:** The red mark is an image in a view over tennis ball image view.

![enter image description here](../Images/6aeecefb7f98a540ffd1599b835ca2d4.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:38:56.377

希望以下方法对您有所帮助。

```
-(CGImageRef )mergedImageFromImageOne:(UIImage *)imageOne andImageTwo:(UIImage *)imageTwo
{
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
    CGSize imageSize = imageOne.size;

    UIGraphicsBeginImageContext(sizeVideo);

    [imageOne drawInRect:CGRectMake(0,0,imageSize.width,imageSize.height)];

    [imageTwo drawInRect:CGRectMake(0,0,imageSize.width,imageSize.height) alpha:1];

    CGImageRef imageRefNew =  CGImageCreateWithImageInRect(UIGraphicsGetImageFromCurrentImageContext().CGImage, CGRectMake(0,0,imageOne.width,imageOne.height));

    UIGraphicsEndImageContext();

    [pool release];

    return imageRefNew;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T07:19:15.853

我拍摄了一个设置在主图像上的**徽标图像作为应用程序参考。**

所以你可以参考这个，试试你的图片。

**根据您的图像设置宽度（w）和高度（h）。**

尝试这个 ：：

```
UIImage *img_Logo = [UIImage imageNamed:@"Img_Logo.png"];

CGSize newSize = CGSizeMake(w, h);
UIGraphicsBeginImageContext(newSize);

// Use existing opacity as is
[main_image drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];

// Apply supplied opacity
[img_Logo drawInRect:CGRectMake(0,0,newSize.width,newSize.height) blendMode:kCGBlendModeNormal alpha:0.8];

main_image = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext();

imgView.image = main_image; 
```

希望，这会帮助你。

谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T09:27:10.330

**为什么你不只为那部分截屏？？**

# svn - svn认证失败

> ID：15517367
> 
> 赞同：0
> 
> 时间：2013-03-20T07:08:31.607
> 
> 标签：svn, tortoisesvn, svnserve

我在 svnserve.conf 文件中配置了三行

```
anon-access = none
auth-access = write
password-db = passwd 
```

问题是当我右键单击我的项目文件夹 svn commit 它给出了身份验证失败错误

svn不提示用户名和密码对话框[我签入保存的数据，所有身份验证都处于清除状态]

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T13:01:17.657

在您的配置中，您应该有一个 'authz-db' 属性，它指示使用 svnserve (svn:// repositories) 的身份验证数据库，通常作为具有以下结构的文件：

```
[/]
user1 = rw
user2 = r 
```

然后，在您的 passwd 文件中，您有：

```
[users]
user1 = pass1
user2 = pass2 
```

但是，我建议使用组来聚合不同的用户（开发人员、经理）。

```
[groups]
developers = user1
architects = user2

[$repo$:/]
@developers = rw 
```

# c++ - 包含指向对象的指针的类的析构函数

> ID：15517368
> 
> 赞同：0
> 
> 时间：2013-03-20T07:08:31.820
> 
> 标签：c++, oop

假设我们有一个包含指向另一个对象的指针成员的类。如果我在析构函数中删除该指针，我会得到一个错误（我明白为什么）。

我的问题是：是否有可能在没有内存泄漏的情况下克服这个问题？

这是我在做什么的演示。

```
class A {
    public:
    ~A() { cout<< "~A()" <<endl; }
};

class B {
    A *pA;
    public:
    B(A* pA) {
        this->pA = pA;
    }
    ~B() { 
                delete pA;
        cout<<"~B()"<<endl;
    }
};

int main() {
    A a;
    {
        B b2(new A()); //deletes A, deletes B, no memory leaks
    }
    {
        B b(&a); //deletes A, error.
    }

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:12:24.520

首先，这不是内存泄漏，而是**未定义的行为**，是一个更严重的问题。试图从错误的区域释放内存。
一个应该`delete/delete[]/free()`只在相应`new/new[]/malloc()`的 .

没有完全证明和架构独立的方式，只要坚持良好的编程实践。

可能并不总是完美的，但一种方法是重载`new`并`delete`保持`std::map`类似的数据结构。每当`new`被调用时，添加指向它的指针。`delete`您可以检查指针是否存在，分配是否属于类型`new`等`new[]`。
这肯定会影响您的性能，因此您需要将其保持在调试模式下。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:15:01.293

您有两个对象认为它们拥有一个动态分配的对象并尝试删除它。解决方案是决定谁应该拥有该对象，并在适当的智能指针的帮助下实现正确的复制/分配行为：

1.  做`A`和`B`处理动态分配的对象吗？无法从原始指针中知道这一点，因此必须修改设计以涵盖一种情况或另一种情况。假设动态对象分配，那么
2.  每个对象都拥有自己的副本： 实现`A`or中的三个规则`B`，并且只有两个中的一个 delete。您可以使用作用域指针来简化内存管理（`boost_scoped_ptr`或`std::unique_ptr`）。
3.  唯一所有权：单个对象拥有副本：使用`std::unique_ptr`。禁止复制和分配，允许移动复制和移动分配
4.  共享所有权：没有人/每个人都拥有该对象。当没有人引用它时它会被删除：使用`std::shared_ptr`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:19:30.083

你必须告诉`B`它什么时候拥有指针，什么时候不拥有。

添加一个额外的标志，告诉何时

```
class B {
    bool owner;
    A *pA;
    public:
    B(A* pA, bool bOwner) : owner(bOwner) {
        this->pA = pA;
    }
    ~B() { 
        if (owner)
            delete pA;
        cout<<"~B()"<<endl;
    }
};

int main() {
    A a;
    {
        B b2(new A(), true); //deletes A, destroys B, no memory leaks
    }
    {
        B b(&a, false); //destroys B, ok.
    }

    return 0;
} 
```

# jquery - jQuery Validate 仅通过 1 个字段通过验证

> ID：15517371
> 
> 赞同：0
> 
> 时间：2013-03-20T07:08:36.677
> 
> 标签：jquery, jquery-validate

不完全确定，也找不到允许 x 个验证中的 1 个通过整个表单的验证的设置。

我不得不使用 .rules("add" 函数，因为我的字段在 name 属性中有数组键。当所有字段都失败但如果 1 个字段具有有效内容时，jQuery Validate 按预期工作，则整个表单通过验证。

```
<form id="new_user_session">
   <input class="input-block-level sq-input" id="user_session_email" name="user_session[email]" placeholder="email address" type="text">
   <input class="input-block-level sq-input" id="user_session_password" name="user_session[password]" placeholder="password" type="password">
</form>

<script type="text/javascript">
  jQuery(function() {
      jQuery('#new_user_session').validate();

      jQuery("#user_session_email").rules("add", {
          email: true,
          messages: {
              email: "Please insert a valid email address",
              required: "Please insert your email address"
          },
          required: true
      });

      jQuery("#user_session_password").rules("add", {
          messages: {
              required: "Please insert your password"
          },
          required: true
      });
  });
</script> 
```

提前致谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:25:36.150

经过一番搜索，这似乎是validate 插件的最新版本的一个[已知问题。](https://github.com/jzaefferer/jquery-validation/issues/674)当您`messages`在添加规则时使用该属性时会发生这种情况。

对于这个问题，你有两个直接的解决方案：

*   删除您的自定义消息
*   下载[以前版本](http://bassistance.de/2012/09/07/release-validation-plugin-1-10-0/)的插件

**编辑：**作者解决了[这个提交](https://github.com/jzaefferer/jquery-validation/commit/4a134b6db6db169dd272cfa7ad4e7c8782b7a39e)的问题，所以你可以添加第三个解决方案：

*   从 Github下载[源代码](https://github.com/jzaefferer/jquery-validation)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T15:56:19.553

您不需要首先使用该`rules('add')`方法，因此您可以轻松地完全避免[该错误](https://github.com/jzaefferer/jquery-validation/issues/674)。

只需遵循[包含括号的](http://docs.jquery.com/Plugins/Validation/Reference#Fields_with_complex_names_.28brackets.2C_dots.29)[文档指南`names`](http://docs.jquery.com/Plugins/Validation/Reference#Fields_with_complex_names_.28brackets.2C_dots.29)并将它们括在引号中。

**工作演示：http: [//jsfiddle.net/K65e5/](http://jsfiddle.net/K65e5/)**

```
$(document).ready(function () {

    $('#new_user_session').validate({
        rules: {
            'user_session[email]': {
                email: true,
                required: true
            },
            'user_session[password]': {
                required: true
            }
        },
        messages: {
            'user_session[email]': {
                email: "Please insert a valid email address",
                required: "Please insert your email address"
            },
            'user_session[password]': {
                required: "Please insert your password"
            }
        }
    });

}); 
```

# ruby-on-rails - Rails：String：Class的未定义方法`primary_key'

> ID：15517372
> 
> 赞同：5
> 
> 时间：2013-03-20T07:08:40.720
> 
> 标签：ruby-on-rails, activerecord

我有 3 个类，Schema、Entity 和 Property，代表 DB 设计业务。Schema-Entity 似乎有效，但 Entity-Property 无效。

```
class Hx::Entity < ActiveRecord::Base
  belongs_to :schema
  attr_accessible :name
  has_many :properties    ,  class_name: "Hx::Property"  , primary_key: "id"
end

class Hx::Property < ActiveRecord::Base
  attr_accessible :destination, :indexed, :inverse, :isToMany, :kind, :name, :optional, :transient  , :type

  belongs_to :entity
end 
```

当我运行 entity_obj.properties 时，它会抛出错误`undefined method primary_key' for String:Class`。

我扭曲了 has_many 的选项，但它没有帮助。

有人对此有任何想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T07:41:08.403

谢谢羊肉！

我解决了这个问题。

一开始，我想问题就在附近`has_many`，因为它就出现在了那里。但事实并非如此。即使我没有定义`class_name`，Rails 仍然可以找到该类。

后来我发现一些记录显示该属性`type`未`Property`分配值。根本原因是我覆盖了超类的属性！

解决方案：

```
ActiveRecord::Migration.rename_column :hx_properties , :type, :datatype 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T07:23:43.850

我认为你需要放弃“”`HX::Property`

错误消息告诉您它正在尝试调用 String:Class 对象的主键

# php - 在查询中添加两个值的总和

> ID：15517374
> 
> 赞同：0
> 
> 时间：2013-03-20T07:08:51.117
> 
> 标签：php, mysql

所以我做了一个查询，得到以下结果

```
 +---------------+---------------+---------+---------
 | payID         | payRate       | hours   | Earnings
 +---------------+---------------+---------+--------
 |  entertainment| 12            |      18 | 216
 |        retail | 10            |      28 | 280
 +---------------+---------------+---------+---------- 
```

查询和其他一些代码部分如下：

```
 $query = "SELECT jobId, payRate, SUM(hours) AS 'All_Hours' ,payRate * SUM(hours) AS 'total'
                       FROM users INNER JOIN deposit ON userId = empId
                      WHERE users.email = '" . $_SESSION['email'] ."' 
                      GROUP BY jobId,payRate";

                      $result = mysqli_query($db, $query); //we make the query

                  if (!$result) { //if the query failed
                   echo("<p id = 'greatideadescription'>
                              Error, the query could not be executed: " .
                   mysqli_error($db) . "</p>");
                   mysqli_close($db);}

                if (mysqli_num_rows($result) == 0) { //if no rows returned
                   echo("<tr><td />
                               <td>No Results</td>
                               <td /></tr>");
                   mysqli_close($db); //close the database
                   exit("</table></div></form></div></div>
                               <script>DisplayFooter();</script></body></html>");
                        } 
                       $numRows = mysqli_num_rows($result); //gets number of rows
                       $numFields = mysqli_num_fields($result); //gets number of fields
                       //prints the data in the table
                       PrintTable($result, $numRows, $numFields); 
```

函数PrintTable如下

```
 function PrintTable($result, $numRows, $numFields) {
  $row = mysqli_fetch_row($result); //fetches the first row
  for ($i = 0; $i < $numRows; $i++) {
  echo("<tr>"); //opens a new row

  for ($j = 0; $j < $numFields; $j++) { //second loop goes through columns
  echo("<td>" . $row[$j] . "</td>"); 
   } //end inner for loop

   $row = mysqli_fetch_row($result); //fetches subsequent rows
   echo("</tr>"); //closes the row
   } //end outer for loop
  } 
```

我想要的是呼应收入的总和，在这种情况下它将是 496 我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:39:40.290

如果您知道总和列的列索引，则可以尝试以下操作：

```
function PrintTable($result, $numRows, $numFields) {
    $total = 0; // Initialize variable before going through each row
    $row = mysqli_fetch_row($result); //fetches the first row
    for ($i = 0; $i < $numRows; $i++) {
        echo("<tr>"); //opens a new row

        for ($j = 0; $j < $numFields; $j++) { //second loop goes through columns
            echo("<td>" . $row[$j] . "</td>");
            if($j == 3)
              $total += $row[$j];
        } //end inner for loop

        $row = mysqli_fetch_row($result); //fetches subsequent rows
        echo("</tr>"); //closes the row
    } //end outer for loop
} 
```

之后，您可以使用您的总数或将其返回到您的主代码中以在关闭表格或或或...后回显它...

更好的方法是进行 3 项更改：

1.  `payRate * SUM(hours) AS earnings`在您的 sql 语句中，您稍后将使用该名称
2.  用于`mysqli_fetch_assoc`获取关联数组，您可以在其中按名称访问列 ( `$row['earnings']`)
3.  对列使用 foreach 循环，因为您没有可以迭代的索引

这取决于你使用哪种方式...

# windows-store-apps - 您可以在 Windows 应用商店应用程序中禁用边缘手势吗？

> ID：15517378
> 
> 赞同：2
> 
> 时间：2013-03-20T07:09:05.140
> 
> 标签：windows-store-apps

System.EdgeGesture.DisableTouchWhenFullscreen 可用于桌面应用程序以禁用边缘滑动，但对商店应用程序没有影响。我们将在信息亭上使用商店应用程序 - 有没有办法停止边缘滑动、魅力栏应用程序关闭手势？

# c - 是否需要释放用于从函数返回的变量的内存 (C)？

> ID：15517380
> 
> 赞同：1
> 
> 时间：2013-03-20T07:09:08.673
> 
> 标签：c, memory-management, return-value

假设我有以下 C 代码：

```
void myfunction() {
    time_t     t = 0;
    struct tm  *ct;

    time(&t);
    ct = localtime(&t);
} 
```

如您所见，该`localtime`函数返回一个指向`struct tm`变量的新指针。据我所知，要使函数返回的变量在调用者上下文中有效，它至少需要满足以下一项：

1.  返回的变量必须在调用者的上下文或与调用者相关的更高上下文中声明。
2.  返回的变量必须在堆上分配内存。

在我的情况下，第一点不适用，所以认为第二点得到满足是正常的。

我对吗？

如果是，这是否意味着我需要`ct`在使用变量后免费调用它？

如果没有，你能详细一点吗？

谢谢！

* * *

编辑：

从回复中，我了解到要求中应该有另一点是变量在返回的上下文中可用。那应该是静态变量。还有另一种可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:13:11.063

一些较旧的 C 函数返回指向静态缓冲区的指针。 `localtime`就是其中之一。您不需要（实际上也不应该；如果这样做，您可能会导致程序出现段错误）从`localtime`.

问题是进程空间中只有一个`localtime`缓冲区，下一次调用`localtime`（甚至在另一个线程中）会覆盖之前返回的结果。这就是为什么几乎所有以这种方式运行的函数（`strtok`另一个例子）现在都有新`_r`版本，将它们的结果放在用户传入的缓冲区中，因此是线程安全的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:11:57.123

不，您不需要释放它：

> 返回的值指向一个内部对象，其有效性或值可能会被任何后续调用 gmtime 或 localtime 更改。

[资源](http://www.cplusplus.com/reference/ctime/localtime/)

也就是说，如果你想保存这个函数的返回值，你应该手动把它保存在别处。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:13:04.580

`man localtime`在 Linux 上逐字逐句：

> 四个函数 asctime()、ctime()、gmtime() 和 localtime() 返回指向静态数据的指针，因此不是线程安全的。

所以不，没有必要释放返回的值`localtime()`，更不用说你甚至不应该尝试释放它。

OT：为了保持线程安全，手册页指出：

> 线程安全版本 asctime_r()、ctime_r()、gmtime_r() 和 localtime_r() 由 SUSv2 指定，从 libc 5.2.5 开始可用。

# mysql - Ruby on Rails 中的存储过程

> ID：15517388
> 
> 赞同：23
> 
> 时间：2013-03-20T07:09:35.207
> 
> 标签：mysql, ruby-on-rails, activerecord, stored-procedures

我是一个拥有 6 年经验的 .net 人。最近我开始研究 ROR 项目，并意识到根本没有使用存储过程/sql 函数。在询问它时，我知道这是一种常见的做法，通常团队中根本没有人编写 sql 查询，一切都是使用 ActiveRecord 完成的。

我用谷歌搜索了任何可能的原因，但没有找到太多信息。所以我只是好奇地知道

1.  不喜欢使用存储过程/sql函数是常见的做法吗？
2.  使用存储过程的优缺点是什么？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-03-20T07:20:30.753

> 不喜欢使用存储过程/sql函数是常见的做法吗？

这是*很*常见的，大多数 Rails 应用程序永远不需要使用 ActiveRecord 以外的任何东西。

Rails 背后的主要理念之一是，将一个*有效*的产品推向市场比在 6 个月*后将*一个“快速”的产品推向市场更重要。你的产品几乎肯定永远不会流行到足以让性能成为问题的程度。如果这*确实*成为问题，您可以在以后支持性能方面，但当务之急是能够快速构建应用程序，并能够快速重构部分或全部以响应您的市场。

> 使用存储过程的优缺点是什么？

它们的编写速度较慢且更难更改，因此会预先增加您的开发成本。但是，它们可以更快地执行。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-07-08T08:11:52.963

使用存储过程可能不是“rails 方式”，但它也曾经不是使用外键成本约束的“rails 方式”，我们都知道结果是一个非常糟糕的设计决策。

所以我会采取“铁轨方式”与一粒盐。如果存储过程适合您，请使用它们。

这就是我所做的。了解 ORM 通常不会真正“理解”存储过程而没有更深入的魔法，因此我避免直接​​使用它，而是创建一个封装存储过程的物化视图，然后将其呈现为常规表。正确设置，这给了 ORM 一些它可以更好地理解的东西，同时仍然利用将数据库逻辑保持在它应该存在的层内的优势，数据库，一个在数据处理方面总是优于 Web 框架的引擎。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-03-20T07:18:36.153

您可以从 Rails 调用存储过程，但您将失去 ActiveRecord 的大部分好处，因为标准生成的 SQL 将不起作用。您可以使用本地数据库连接并调用它，但这将是一个泄漏的抽象。您可能需要考虑 DataMapper。

摘自 >>[在 Rails 中使用存储过程](https://stackoverflow.com/questions/1953001/using-stored-procedures-in-rails)

总而言之，它不是使用存储过程的“RAILS WAY”。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-12-30T15:09:52.013

> 不喜欢使用存储过程/sql函数是常见的做法吗？

真的。使用 Active Record 构建查询允许您在应用程序代码中管理它们。

> 使用存储过程的优缺点是什么？

**优点：**您可以从应用程序代码中隐藏复杂的查询逻辑。

**缺点：**如果要重写过程，则必须创建并执行迁移。

[请参阅此示例，了解在数据库视图中隐藏逻辑，也适用于过程。](https://blog.codeship.com/speed-up-activerecord)

**优点示例：**

您需要选择所有在`start_time`和之间有空房的酒店`end_time`。每个酒店都有 total_rooms（整数属性）、hotel_times（定义酒店营业时间的实体）和一些预订（定义在酒店预订房间的用户的实体）。有些酒店很大，提供每日预订。其他酒店规模较小，按小时预订。您询问用户何时想要预订，可以是日期或日期与时间。

这涉及到一些连接和子查询，并且会创建一大段丑陋的 Active Record 代码。相反，您可以编写一个过程并像这样调用它：

```
Hotel.find_by_sql ['SELECT * FROM hotels_available_between(?, ?)', start_time, end_time] 
```

将它包装在一个范围内并获得更多的 ruby​​ 风格：

```
class Hotel < ActiveRecord::Base
  scope :available_between, -> start_time, end_time do
    find_by_sql ['SELECT * FROM hotels_available_between(?, ?)', start_time, end_time]
  end
end

Hotel.available_between start_time, end_time 
```

# xml - xsd 中的元素名称相同，但验证逻辑不同

> ID：15517396
> 
> 赞同：1
> 
> 时间：2013-03-20T07:10:34.587
> 
> 标签：xml, xsd, xsd-validation

我有看起来像这样的xml文件

```
<doc>
 <field name="simple_meta">book</field>
 <field name="complex_meta">journal</field>
 <field name="text_date">some text</field>
</doc> 
```

我想根据属性“名称”中的值按模式验证元素文本。也就是说，如果属性的值为“simple_meta”，我想进行“simpleRestriction”验证，以防“complex_meta”进行“complexRestriction”验证。问题是我无法在同一节点下定义具有相同名称的元素。有人可以帮我解决这个问题吗？

```
<xs:schema ......>
   <xs:simpleType name="simpleRestriction">
      <xs:restriction base="xs:string">
         <xs:maxLength value="20"/>
      </xs:restriction>
   </xs:simpleType>
   <xs:simpleType name="complexRestriction">
      <xs:restriction base="xs:string">
         <xs:maxLength value="10"/>
         <xs:pattern value="([\w])*"/>
      </xs:restriction>
   </xs:simpleType>

   <xs:element name="str">
      <xs:complexType>
         <xs:simpleContent>
            <xs:extention base="simpleRestriction">
               <xs:attribute name="name">
                  <xs:simpleType>   
                     <xs:restriction base="xs:string">  
                        <xs:pattern value="simple_meta"/>
                     </xs:restriction>
                  </xs:simpleType>   
               </xs:attribute>
            </xs:extention>
         </xs:simpleContent>
      </xs:ComplexType>
   </xs:element>
   <xs:element name="str">
      <xs:complexType>
         <xs:simpleContent>
            <xs:extention base="complexRestriction">
               <xs:attribute name="name">
                  <xs:simpleType>   
                     <xs:restriction base="xs:string">  
                        <xs:pattern value="complex_meta"/>
                     </xs:restriction>
                  </xs:simpleType>   
               </xs:attribute>
            </xs:extention>
         </xs:simpleContent>
      </xs:ComplexType>
   </xs:element>
</xs:schema> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-12T02:53:38.310

简短的回答是：不要那样做。

XSD 被设计为主要（并且在简单的情况下仅）基于元素的名称来验证元素。如果您有三种不同的验证逻辑，那么您最好告诉 XSD 验证器存在三种类型的元素（可能命名为 simple_meta、complex_meta 和 test_date），而不是难以置信地声称只有一种类型的元素。使用公共基本类型使三个元素的类型之间的关系明确，或使用公共替换组将三个元素类型本身联系起来。

如果您真的必须这样做，或者如果您真的知道自己在做什么并且想要这样做（我不确定这种组合是否可行，但我会尝试在这里保持开阔的视野），您的基本选择是：

*   在实例中使用`xsi:type`来指定实例中每个元素的类型（大致类似于您的`name`属性，但命名在架构中声明的类型）

*   使用 XSD 1.1 和条件类型赋值

*   使用 XSD 1.1 和断言

或者留下 XSD：

*   使用 Schematron 和断言

*   使用 RelaxNG 并将属性的不同值写入内容模型

# java - MySQL JDBC 的局限性

> ID：15517397
> 
> 赞同：0
> 
> 时间：2013-03-20T07:10:45.333
> 
> 标签：java, mysql, spring, jdbc, driver

问题：

我从 DB（MySQL）（超过 1 000 000 行）获得大的 ResultSet 并处理每行大约 40 秒。总结，我使用 ResultSet 超过 30 分钟，我得到的记录少于数据库表中实际包含的记录，并且没有错误和警告。如果我计算该 ResultSet 的行数，那没关系（ResultSet 的数量 = DB 的数量）。

mysql服务器或mysql jdbc驱动程序或其他一些限制吗？

我的代码。它在spring框架中工作：

```
 public void query(String query, RowCallbackHandler rowCallbackHandler) throws SQLException {
    ResultSet rs = null;
    ResultSet rsCount = null;
    Statement stmt = null;
    Statement stmtCount = null;
    try {
        stmt = createStatmant();

        rs = stmt.executeQuery(query);

        if (rs == null) {
            log.info("result set is null");
        }

        stmtCount = createStatmant();
        rsCount = stmtCount.executeQuery(query);
        int i = 0;
        while(rsCount.next()){
            i++;
        }
        log.info("ResultSet size : "+i);

        int j = 0;
        rs.next();
        do{
            j++;
            rowCallbackHandler.processRow(rs);
        }while (rs.next());
        log.info("ResultSet size real : "+i);
        log.info("ResultSet size fact : "+j);
    } catch (SQLException e) {
        throw new RuntimeException(e.getMessage());
    }finally{
        if(stmt!=null){
            stmt.close();
        }
        if(rs!=null){
            rs.close();
        }
        if(rsCount!=null){
            rsCount.close();
        }
    }
  } 
```

创建状态：

```
 private Statement createStatmant() throws SQLException {

    ((BasicDataSource)dataSource).setTimeBetweenEvictionRunsMillis(1000*60*60);
    Statement stmt = dataSource.getConnection().createStatement(
            ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);
    stmt.setFetchSize(fetchSize);
    stmt.setMaxRows(50000000-1);    
    return stmt;
} 
```

数据源是类中的全局变量：

```
 private javax.sql.DataSource dataSource; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:12:24.980

您将一个可变对象 rs 交还给您的 callbackHandler。确保它没有推进或关闭 ResultSet。

您声明了四个可以在方法顶部关闭的对象，但只能在底部关闭三个。不要忘记关闭 stmtCount。

我假设您正在执行该计数作为我们的利益的故障排除方法，并且您没有在生产中这样做。

100 万行乘以 40 秒 = 4000 万秒 = 463 天。数学不支持“处理每一行大约 40 秒”的说法。

在您阅读时，是否有任何外部写入数据库的内容？

如果您能够比较日志中的计数，则意味着您没有抛出异常。这是一个有用的线索。

# java - 如何使用 css 样式将颜色应用于指定的偏移宽度的线元素？

> ID：15517398
> 
> 赞同：2
> 
> 时间：2013-03-20T07:10:45.550
> 
> 标签：java, css, gwt, width, element

想将指定的颜色应用到 Line 元素到指定的宽度？

无论我在哪里单击该行，我都会得到它的 offsetWidth，所以我必须在该 offsetwidht 上应用不同的颜色，我该怎么做，知道吗？

```
int lineWidth = DOM.getElementPropertyInt(lineElement, "offsetWidth");
int lineLeftOffset = (width / 2) - (lineWidth / 2);
DOM.setStyleAttribute(lineElement, "left", lineLeftOffset + "px"); 
```

在这里使用 lineLeftOffset 我正在设置当前位置，并且直到当前位置我必须为 lineElement 赋予不同的颜色。我尝试了以下，但它正在将颜色应用于整个元素。

```
 DOM.setStyleAttribute(lineElement, "backgroundColor", "red"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T15:17:55.100

您可以使用 2 个元素来实现这一点 - 一个是您的 LineElement，另一个只是一个 div。将此 div 作为子元素添加到 LineElement。将您的 lineLeftOffset 和背景设置为子 div 元素，例如 -

```
<div id="LineElement">
  <div></div>
</div>

#LineElement {
   background-color: black;
  padding: 3px;
}

#LineElement div {
   background-color: orange /* set the color from the java code */;
   width: 40%; /* Adjust the width from the java code */
   height: 2px;
} 
```

要访问子 div，您可以使用

> lineElement.getElement().getFirstChild();

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T15:26:32.160

我认为将 div 内的 span 元素用作内联块然后对其应用颜色会很有用。

```
<div id="LineElement"><span>&nbsp;</span></div>

CSS:

#lineElement{
    background-color:#000033;
    height:5px;
}
#lineElement > span{
    background-color:red;
    height:inherit;
    display:inline-block;
} 
```

# iphone - SystemStackError（堆栈级别太深）：在 Rails 中上传图像时出错

> ID：15517402
> 
> 赞同：1
> 
> 时间：2013-03-20T07:11:04.500
> 
> 标签：iphone, ios, ruby-on-rails, ruby-on-rails-3, paperclip

我正在研究 ROR 并向`IOS`应用程序提供 api。在这个应用程序中，`IOS`用户将图像上传到 Rails 应用程序。我正在使用`paperclip`宝石。`bundle update`在我运行命令之前，这工作正常。现在我收到此错误：

```
SystemStackError (stack level too deep):
 actionpack (3.2.3) lib/action_dispatch/middleware/reloader.rb:70 
```

我的 Gemfile 看起来像这样：

```
gem 'rails', '3.2.3'
gem 'bootstrap-sass', '2.0.0'
gem 'bcrypt-ruby', '3.0.1'
gem 'paperclip', '~> 3.0'
gem 'activerecord-import', '>= 0.2.0'
gem 'execjs'
gem 'therubyracer' 
```

`IOS`开发人员`Base64`用于在上传到 Rails 应用程序之前对图像进行编码。我的 Rails 应用程序使用这种方法来解码`photo_data`：

```
def decode_photo_data
    data = StringIO.new(Base64.decode64(self.photo_data))
    self.photo = data 
end 
```

这一切都很好，但我不知道是 IOS 错误还是 Rails 错误。如果是 Rails 错误，它是否与回形针或其他东西有关。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:08:30.000

好的，我得到了解决方案。我发现这是一个回形针错误。由于我运行该`bundle update`命令，它下载了一个新的回形针版本`paperclip-3.4.1`，但之前`bundle update`或`bundle install`它正在使用`paperclip-3.3.1`，所以现在我将我的 Gemfile 更新为：

```
gem 'rails', '3.2.3'
gem 'bootstrap-sass', '2.0.0'
gem 'bcrypt-ruby', '3.0.1'
gem 'paperclip', '~> 3.3.1' 
```

在我的情况下它又开始工作了。现在没有错误。

# php - 我正在尝试这样做，以便如果表单字段留空，它将默认为我设置的内容

> ID：15517408
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:11:15.153
> 
> 标签：php

好的，所以我有一个 php 表单，我可以在其中动态添加到记录集。其中一个字段是图像字段。我想做的是当它留空时，我希望它插入默认图像。我会使用 if else 语句，它说类似

```
 if(image==null){
        get(logo.jpg)}
     else post image 
```

但我不完全确定如何在 PHP 中执行此操作有什么想法吗？

```
$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$insertSQL = sprintf("INSERT INTO Adventures (Image, Activity, Location, `Date`) VALUES        (%s, %s, %s, %s)",
                   GetSQLValueString($_POST['Image'], "text"),
                   GetSQLValueString($_POST['Activity'], "text"),
                   GetSQLValueString($_POST['Location'], "text"),
                   GetSQLValueString($_POST['Date'],`enter code here` "text"));

 mysql_select_db($database_Mat, $Mat);
 $Result1 = mysql_query($insertSQL, $Mat) or die(mysql_error()); 
```

这是表单的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:00:41.870

在 $_POST 上使用`isset`并另外检查字符串长度：

```
if (!isset($_POST['image']) || strlen(trim($_POST['image']))==0) 
    $image = 'image.png';
else
    $image = $_POST['image']; 
```

然后添加`$image`到数据库中。

# php - 错误消息应在特定框下方

> ID：15517409
> 
> 赞同：0
> 
> 时间：2013-03-20T07:11:19.390
> 
> 标签：php, javascript, html

在此代码中，错误消息通过警报框显示错误，但我想*在特定文本框下方*查看错误消息。意思是当我单击提交按钮时，哪个字段未填写，在该字段下方它应该在该字段下方显示消息。

还有一个问题，如果我没有填写单选按钮或复选框，而其他所有内容都已填写，当我点击提交按钮时，它会在数据库中存储除单选按钮或复选框以外的所有详细信息。

那我该如何解决

谢谢.....

```
<!DOCTYPE html>
<?php 
session_start();
if (!isset($_SESSION['txt_user'])) {
header('Location: Login.php');
}
?>
<html>
<head>
<title> Form with Validation </title>
<script language="JavaScript">
var file_selected = false;
var file_selected1 = false;
function validform()
{
var x=document.forms["form1"]["tname"].value;//Name
var y=document.forms["form1"]["address"].value;//Address
var psel=document.getElementById('fp'); //Favourite place
var valid = false;
for(var i = 0; i < psel.options.length; i++) {
    if(psel.options[i].selected) {
        valid = true;

        break;
    }
}//Favourite place
if (x==null || x=="")
{   
    alert("Please Enter Name:");
    //flag = 0;
}
if (y==null || y==" ")
{   
    alert("Please Enter Address");
}
if ((form1.gender[0].checked == false) && (form1.gender[1].checked == false))
{
    alert("Pleae Select Gender");
}
if (form1.hobby.checked == false && form1.hobby.checked == false &&     form1.hobby.checked == false) 
{
    alert ('Please!!!, Select any hobby!');
} 
if(valid==false)
{
    alert("Please! Select Any Favourite Place ");
}   
if(!file_selected)
{
    alert('Please Select any Picture');
}
if(!file_selected1)
{
    alert('Please Select any Document');
    return false;
}
{
    document.getElementById('data_form').action = "Data_con.php";  
    return false;
}
return false;
}
function Logout()
{
document.getElementById('data_form').action = "Logout.php";
}
</script>
</head>
<body> 
<!--onsubmit="return validform()"-->
<form id="data_form" name="form1" method="post" enctype="multipart/form-data"     action="">

<table align="center" border="2">
<tr>
<td>Name:</td>
<td><input type="text" name="tname"></td>
</tr>

<tr>
<td>Address:</td>
<td><textarea rows="3" cols="16" name="address"> </textarea> </td>
</tr>

<tr>
<td>Gender:</td>
<td> <input type="radio" name="gender" value="male"> Male
<input type="radio" name="gender" value="female"> Female
</td>
</tr>

<tr>
<td>Hobby:</td>
<td>
<input type="checkbox" name="hobby" value="hockey"> Hockey
<input type="checkbox" name="hobby" value="reading"> Reading<br>
<input type="checkbox" name="hobby" value="traveling"> Traveling
<br>
</td>
</tr>

<tr>
<td>Country: </td>
<td>
<select name="helo">
<option value="germany">Germany </option>
<option value="india" selected>India </option>
<option value="japan">Japan </option>
</select>
</td>
</tr>

<tr>
<td>Favourite Place:</td>
<td>
<select id="fp"  name="place" multiple="multiple">
<option value="ahmedabad">Ahmedabad</option>
<option value="nadiad">Nadiad</option>
<option value="anand">Anand</option>
<option value="vadodara">Vadodara</option>
<option value="surat">Surat</option>
</select>
</td>
</tr>

<tr>
<td>Photo:</td>
<td><input type="file" onchange="file_selected=true;" name="pic"  ></td>
</tr>

<tr>
<td>Resume:</td>
<td><input type="file" onchange="file_selected1=true;" name="doc" ></td>
</tr>

<tr>
<td colspan="2"><center>
<input type="submit" value="Submit" Name="Submit" onclick="validform();">
<input type="submit" value="Logout" Name="Submit" onclick="Logout();">
<center></td>
</tr>

</table>
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:18:32.307

您首先`td`为每个输入字段创建具有不同 id 的 s

而不是警报

```
document.getElementById('td id').innerHTML="your message";
return false; 
```

像这样

```
<tr>
<td>Favourite Place:</td>
<td>
<select id="fp"  name="place" multiple="multiple">
<option value="ahmedabad">Ahmedabad</option>
<option value="nadiad">Nadiad</option>
<option value="anand">Anand</option>
<option value="vadodara">Vadodara</option>
<option value="surat">Surat</option>
</select>
</td>
<td id="fp_error"></td>
</tr> 
```

在javascript中

```
document.getElementById('fp_error').innerHTML="your message";
return false; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:26:35.393

下载 jquery.js 和 jquery.validate.js 并使用下面的演示代码验证表单元素。

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"> </script> 
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.validate.js"> </script>
<script>
$('document').ready(function() {
$('#data_form').validate({
        rules: {
            'tname': {
                required: true
            },
            'address': {
                required: true
            }
        },
        messages:{
            'tname': {
                required: 'Please Enter Name'
            },
            'address': {
                required: 'Please Enter address'
            }
        }

    });
});
</script> 
```

这是更好的方法。易于实施，也节省时间。

# nsis - NSIS：在编译时从文件中读取

> ID：15517410
> 
> 赞同：2
> 
> 时间：2013-03-20T07:11:24.803
> 
> 标签：nsis, compile-time

当我编译我的 nsis 脚本时，我想将文件 (config.json) 中的一些值读入一些变量中。我怎么可能做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T08:16:49.447

该`!include`命令可以包含任何文件（在编译时）放置在 nsis 脚本中的位置。但是包含的文件必须符合 nsis 语法（例如它应该`!define`有一些值）。

该`!execute`命令可以帮助您：如果您绝对需要处理 json 文件，您可以编写第三方批处理命令文件来预处理 json 文件并将其转换为合适的 nsis 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T08:16:32.003

您可以使用`!define`传递一些可在编译时使用的值。例如，假设您在 nsis 源文件中有此代码：

```
!define PATHTOFILE "C:\thisfilewillbedeleted.ext"
Delete $PATHTOFILE 
```

如果你想在编译时改变这个值，你可以用这种方式调用 nsis：

```
makensis /DPATHTOFILE="C:\otherfiletodelete.ext" 
```

**[编辑]**

如果您有使用外部工具生成的 *.json 文件，并且您必须使用这种文件，我会建议您使用一些构建系统，例如`ant`. 您可以`build.xml`从 json 文件创建读取、解析数据，然后将这些数据写入`*.nsh`文件。我认为它会比在 nsis 脚本中做这一切更好、更干净。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T12:44:14.910

如果您只需要在运行时解析 json 文件，则可以使用`!define`以下`/file`选项：

```
!define /file OPTIONS json.txt 
```

它将使用 json.txt 的内容定义 OPTIONS。

如果您想在编译时利用您的 json 文件来更改生成的 exe，那么您需要某种预编译器，这就是您实际正在做的事情。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-07-30T10:00:08.967

您可以使用带有 /file 开关的 !searchparse 命令。

例子 ：

# 在 filename.cpp 中搜索一行 '#define APP_VERSION "2.5"' 并将 ${VER_MAJOR} 设置为 2，${VER_MINOR} 设置为 5。

!searchparse /file filename.cpp `#define APP_VERSION "` VER_MAJOR `.` VER_MINOR `"`

# c - 指针和取消引用它的方法

> ID：15517411
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:11:26.970
> 
> 标签：c, pointers

我对取消引用我编写了一个简单代码的指针有疑问，但我不知道它在某些情况下失败的原因，有人可以告诉它失败的原因是什么。如果我们有 char `*ptr = "stack overflow"`那么编译器本身会为它分配内存。

```
int main()
{
   int *ptr = 10;
   double *dptr = 111.111
   printf("%d", *ptr); //will give segmentation violation as we are trying to access the content in location 10
   printf("%d", ptr);//o/p will be 10 
   printf("%lf", dptr); // will give segmentation violation 
   printf("%lf", *dptr); // will give segmentation violation

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:14:19.157

```
int *ptr = 10;
double *dptr = 111.111 
```

问题出在以上两行。

`ptr`指向地址`10`，`dptr`我不知道它指向哪里。

取消引用这些指针肯定会产生未定义的行为..通常是分段违规错误。

使固定：

```
int main(){
   int iVal = 10; 
   double dVal = 111.11;

   int *ptr = &iVal;
   double *dptr = &dval;

   printf("%d", *ptr); // ok
   printf("%p", (void *)ptr);// ok
   printf("%p", (void *)dptr); // ok
   printf("%lf", *dptr); // ok
   return 0;
} 
```

* * *

理论：指针是一个保存地址的变量——或者正如 Alexey Frunze 所说：

> C 标准没有定义指针在内部是什么以及它在内部如何工作。这是故意的，以免限制平台的数量，其中 C 可以实现为编译或解释语言。
> 
> 指针值可以是某种 ID 或句柄，也可以是多个 ID 的组合（例如 x86 段和偏移量），不一定是实际内存地址。这个 ID 可以是任何东西，甚至是固定大小的文本字符串。非地址表示可能对 C 解释器特别有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:13:31.780

当你这样做

```
int *ptr = 10; 
```

您告诉编译器这`ptr`是指向*地址*10 的指针。取消引用此地址将导致*未定义的行为*并可能导致崩溃。

你很可能想要这样的东西：

```
int ival = 10;
int *ptr = &ival; 
```

类似的`double`指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:32:09.123

char *ptr = "堆栈溢出"

```
 This buffer was allocated in TEXT SEGMENT hence there is no issue of dereferencing and getting the address but if you modify the data content its a voilation [Segmentation Fault] 
```

注意：-请从网上参考，一个程序（进程）将创建多少个段？[一般来说，堆段、栈段、数据段和文本段]

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T10:07:44.993

原因`char *ptr = "stack overflow"`有效而`int *ptr = 10`无效，这`10`只是数字 10，但`"stack overflow"`计算结果为指向字符的指针。

字符串文字是特殊类型的常量。编译器将字符串的字符放在内存中的某个位置，字符串文字的值是指向这些字符的指针。相反，整数和浮点常量只是它们的值；它们不是指针。

# python - Selenium python 格式化程序测试失败

> ID：15517413
> 
> 赞同：0
> 
> 时间：2013-03-20T07:11:34.373
> 
> 标签：python, selenium, selenium-ide

我使用 selenium ide 创建测试并将其保存为 python 脚本（webdriver）。但是当我使用 python 运行它时。我收到一些错误文件“/usr/local/lib/python2.7/dist-packages/PyUnit-1.4.1-py2.7.egg/unittest.py”，第 273 行，在 failUnlessEqual

这是使用 python 格式化程序在 Selenium IDE 中自动生成的代码。

```
from selenium import webdriver

from selenium.webdriver.common.by import By

from selenium.webdriver.support.ui import Select

from selenium.common.exceptions import NoSuchElementException

import unittest, time, re

class Untitled(unittest.TestCase):

    def setUp(self):
        self.driver = webdriver.Firefox()
        self.driver.implicitly_wait(30)
        self.base_url = "https://www.google.co.in/"
        self.verificationErrors = []
        self.accept_next_alert = True

    def test_untitled(self):
        driver = self.driver
        driver.get(self.base_url + "/")
        driver.find_element_by_id("gbqfq").clear()
        driver.find_element_by_id("gbqfq").send_keys("testomg")
        try: self.assertEqual("testomg - Google Search", driver.title)
        except AssertionError as e: self.verificationErrors.append(str(e))

    def is_element_present(self, how, what):
        try: self.driver.find_element(by=how, value=what)
        except NoSuchElementException, e: return False
        return True

    def close_alert_and_get_its_text(self):
        try:
            alert = self.driver.switch_to_alert()
            if self.accept_next_alert:
                alert.accept()
            else:
                alert.dismiss()
            return alert.text
        finally: self.accept_next_alert = True

    def tearDown(self):
        self.driver.quit()
        self.assertEqual([], self.verificationErrors)

if __name__ == "__main__":
    unittest.main() 
```

结果

乙

```
ERROR: test_untitled (__main__.Untitled)

Traceback (most recent call last):
  File "testing2.py", line 40, in tearDown
    self.assertEqual([], self.verificationErrors)
  File "/usr/local/lib/python2.7/dist-packages/PyUnit-1.4.1-py2.7.egg/unittest.py", line 273, in failUnlessEqual
    raise self.failureException, (msg or '%s != %s' % (first, second))
AssertionError: [] != ['testomg - Google Search != Google'] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:03:05.213

这是您的测试的预期失败。

这条线

```
try: self.assertEqual("testomg - Google Search", driver.title) 
```

断言您访问过的页面的标题应该是“testomg - Google Search”。它实际上是“谷歌”。

你的测试失败了。可能是因为您在 Google 搜索表单中输入搜索词后没有按 Enter 或单击搜索按钮

尝试添加

```
driver.find_element_by_id("gbqfsa").click() 
```

就在您将键发送到查询框元素之后。

# ios - 在 NSDictionary 中添加数组并对其进行排序

> ID：15517417
> 
> 赞同：0
> 
> 时间：2013-03-20T07:11:55.530
> 
> 标签：ios

我有如下三个数组

```
names                      birthdate                remanning 

"Abhi Shah",                 "01/14",                  300
"Akash Parikh",              "12/09/1989",             264
"Anand Kapadiya",            "12/01",                  256
"Annabella Faith Perez",     "03/02",                  347
"Aysu Can",                  "04/14/1992",             25
"Chirag Pandya"              "10/07/1987"              201 
```

如果你给我代码来告诉我如何在 NSDictionary 中添加这三个数组，然后根据“remaning”数组对整个字典进行排序（升序），这将非常有帮助

请注意 Dic 中的所有内容都应该更改。不仅是remaning数组。姓名和生日应该以同样的方式更改剩余天数正在更改

非常感谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:19:34.327

我建议您**更改**项目的设计并 **创建一个**与具有相同属性的模型：

```
@interface YourModel : NSObject
    @property (strong) NSString *name;
    @property (strong) NDDate *birthDate;
    @property NSInteger remaining;
@end 
```

然后在你的类中创建一个 NSMutableArray，然后继续添加它们。

与处理 3 个并行数组相比，这将使您的工作更轻松，例如搜索、排序、过滤。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:30:29.823

如果您使用 Anoop 提出的设计，使用块的排序代码将类似于以下内容：

```
NSArray *sortedArray = [yourArray sortedArrayUsingComparator:^NSComparisonResult(id a, id b) {
    NSInteger first = [(YourModel*)a remaining];
    NSInteger second = [(YourModel*)b remaining];
    return [first compare:second];
}]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:31:51.163

您必须获取字典或任何结构中的每条记录（姓名、出生日期、重新分配）。并且应该创建该字典的数组。要根据您的要求对数组进行排序，可以使用任何排序机制。

```
-(void)sort
{
    //This is the array of dictionaries, where each dictionary holds a record
    NSMutableArray * array; 
    //allocate the memory to the mutable array and add the records to the arrat

    // I have used simple bubble sort you can use any other algorithm that suites you
    //bubble sort
    //
    for(int i = 0; i < [array count]; i++)
    {
        for(int j = i+1; j < [array count]; j++)
        {
            NSDictionary *recordOne = [array objectAtIndex:i];
            NSDictionary *recordTwo = [array objectAtIndex:j];

            if([[recordOne valueForKey:@"remaining"] integerValue] > [[recordTwo valueForKey:@"remaining"] integerValue])
            {
                [array xchangeObjectAtIndex:i withObjectAtIndex:j];
            }
        }   
    }

    //Here you get the sorted array
} 
```

希望这可以帮助。

# json - Sencha Touch2：解析嵌套的 Json 数据

> ID：15517419
> 
> 赞同：1
> 
> 时间：2013-03-20T07:11:58.130
> 
> 标签：json, list, sencha-touch-2

嗨，我是 Sencha Touch2 的新手，在解析嵌套的 Json 数据并显示在列表中时遇到问题。这是我的 Json 的样子：

```
[{"task":
{"agent":{"activeFlag":"false",
    "shiftId":"0","id":"0","deleteFlag":"false"},
      "id":"124","status":"Unassigned",
    "assignment":{"pnr":
    {"locator":"ABCDEF","connectTime":"0","id":"0"},
        "id":"123",
        "alerts":"Delay"
        "customers":[
            {"frequentNumber":"12345",
                "doNotMissFlag":"false",
                "customerScore":"0",
                "lastName":"XYZ",
                "firstName":"ABC",
                "primaryFlag":"true",
                "customerId":"56789"},
             {"frequentNumber":"987654",
                 "doNotMissFlag":"false",
                 "customerScore":"0",
                 "lastName":"PQR",
                "firstName":"STU ",
                 "cartNumber":"0",
                 "primaryFlag":"false",
                 "customerId":"54321"}]},
  }},
    {"task":{"agent":{...... 
```

能够获得“代理”值、“分配”值但无法获得“客户”。这是模型。模型列表.js：

```
Ext.define('CustomList.model.ModelList', {
    extend: 'Ext.data.Model',
    xtype:'modelList',
    requires:['CustomList.model.Customers'],
    config: {
            fields:['task'],
        proxy:{
            type:'ajax',
            url:'http://localhost:9091/CustomListJson/app/store/sample.json',
            reader:{
            type:'json'

        }
    },
    hasMany:{model:'CustomList.model.Customers',
             name:'customers'}
    }

}); 
```

客户.js：

```
Ext.define('CustomList.model.Customers', {
    extend: 'Ext.data.Model',
    config: {
        fields: [
            'firstName','lastName'
        ],
        belongsTo: "CustomList.model.ModelList"
    }

}); 
```

这是我的 ShowList.js：

```
Ext.define('CustomList.view.ShowList',{
    extend:'Ext.Panel',
    xtype:'showList',
    config:{
        layout:'fit',
        styleHtmlContent:'true',
        styleHtmlCls:'showListCls',
        items:[
            {
                xtype:'list',
                id: 'listitems',
                store:'StoreList',
                itemTpl:['{task.assignment.alerts}', '<div>',
                    '<h2><b>FirstName: </b></h2>',
                    '<tpl for="Customers">',      // could not able to get and show in list
                    '<div> - {firstName}</div>',  // could not able to get and show in list
                    '</tpl>',
                    '</div>']
 // am able get the below values in list
//                itemTpl:'{task.assignment.alerts}'
//                itemTpl:'{task.assignment.pnr.locator}'
//                  itemTpl:'{task.agent.activeFlag}'
//                itemTpl: '<b>{firstName} {lastName}     </b><br>'+'pnr: '+ '{locator}  <br>' +
//                    'Alerts: <font color="#990000">'+'{alerts} </font>' +'status: '+'{status} '
               }]

    }
}); 
```

这是我的 StoreList.js：

```
Ext.define('CustomList.store.StoreList', {
    extend:'Ext.data.Store',
    requires:['Ext.data.reader.Json'],
    config:{
        model:'CustomList.model.ModelList',
        autoLoad:'true'

    }
}); 
```

我遵循了这个：[http](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.reader.Reader) ://docs.sencha.com/ext-js/4-0/#!/api/Ext.data.reader.Reader 但无法在列表中显示。谁能帮帮我吗。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T13:30:32.307

我得到了我的问题的解决方案。我在 ShowList.js 中进行了更改：使用了这个：

```
 itemTpl:['{task.assignment.alerts} <div>',
                    '<tpl for="task.assignment.customers">',
                    'firstName: {firstName}<br>',
                    '</tpl> </div>'
                ].join('') 
```

使用上面我可以显示“客户”的项目。谢谢。

# solr - 带 SOLR 的 NCrawler

> ID：15517423
> 
> 赞同：1
> 
> 时间：2013-03-20T07:12:29.590
> 
> 标签：solr, web-crawler

我设法使用 NCrawler 抓取了一个网站。是否可以将该数据导入 SOLR，以便我可以使用 SOLR 中的索引数据进行搜索？

如果可能的话，我怎样才能将爬取的数据推送到 SOLR？任何帮助将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T12:26:59.850

是的，可以将爬取的数据索引到 Solr。我以前做过这个。您将需要创建一个实现 IPipelineStep 的自定义管道步骤并将其添加到您的 NCrawler 实现中。我使用[SolrNet](http://code.google.com/p/solrnet/)作为连接到 Solr 的客户端。

这是一些可以帮助您入门的代码。

```
 SolrNet.Startup.Init<IndexItem>("http://localhost:8983/solr");

 using(Crawler c = new Crawler("http://ncrawler.codeplex.com/", 
    new HtmlDocumentProcessor(), new AddCrawledItemToSolrIndex()))
 {
     c.ThreadCount = 3;
     c.MaxCrawlDepth = 2;
     c.ExcludeFilter = new[] { new RegexFilter(
        new Regex(@"(\.jpg|\.css|\.js|\.gif|\.jpeg|\.png|\.ico)",
            RegexOptions.Compiled | RegexOptions.CultureInvariant | RegexOptions.IgnoreCase)) },
     c.Crawl();
 } 
```

自定义 IPipelineStep

```
using System;
using System.Collections.ObjectModel;
using Microsoft.Practices.ServiceLocation;
using MyCrawler.Index;
using NCrawler;
using NCrawler.Interfaces;
using SolrNet;

namespace MyCrawler.Crawler
{
    public class AddCrawledItemToSolrIndex : IPipelineStep
    {
        public void Process(NCrawler.Crawler crawler, PropertyBag propertyBag)
        {
            if (string.IsNullOrWhiteSpace(propertyBag.Text))
                return;

            var indexItem = new IndexItem
            {
                Id = propertyBag.Step.Uri.ToString(),
                Url = propertyBag.Step.Uri.ToString(),
                Host = propertyBag.Step.Uri.Host,
                Content = propertyBag.Text,
                Title = propertyBag.Title,
                LastModified = Convert.ToInt64(DateTimeToUnixTimestamp(propertyBag.LastModified)),
                Date = propertyBag.LastModified.ToString("yyyyMMdd"),
                Keywords = ExtractKeywords(propertyBag.Headers),
                Type = SplitString(propertyBag.ContentType, ';'),
                Digest = CreateMD5Hash(propertyBag.Text),
            };
            var solr = ServiceLocator.Current.GetInstance<ISolrOperations<IndexItem>>();
            solr.Add(indexItem, new AddParameters {CommitWithin = 10000});
        }

        private Collection<string> SplitString(string input, char splitOn)
        {
            var values = input.Split(splitOn);
            var valueCollection = new Collection<string>();
            if (values.Length == 0) return valueCollection;
            foreach (var value in values)
            {
                valueCollection.Add(value.Trim());
            }

            return valueCollection;

        } 

        private double DateTimeToUnixTimestamp(DateTime dateTime)
        {
            return (dateTime - new DateTime(1970, 1, 1).ToLocalTime()).TotalSeconds;
        }

        private string CreateMD5Hash(string input)
        {
            // Use input string to calculate MD5 hash
            var md5 = MD5.Create();
            var inputBytes = Encoding.ASCII.GetBytes(input);
            var hashBytes = md5.ComputeHash(inputBytes);

            // Convert the byte array to hexadecimal string
            var sb = new StringBuilder();
            for (int i = 0; i < hashBytes.Length; i++)
            {
                //sb.Append(hashBytes[i].ToString("X2"));
                // To force the hex string to lower-case letters instead of
                // upper-case, use he following line instead:
                sb.Append(hashBytes[i].ToString("x2")); 
            }
            return sb.ToString();
        }

        private Collection<string> ExtractKeywords(System.Net.WebHeaderCollection headers)
        {
            var keywords = headers["keywords"];
            if (string.IsNullOrWhiteSpace(keywords))
            {
                return new Collection<string>();
            }

            return SplitString(keywords, ',');
        }
    }
} 
```

这是使用以下 IndexItem.cs 类映射到 Solr 索引字段。

```
using System.Collections.ObjectModel;
using SolrNet.Attributes;

namespace MyCrawler.Index
{
    public class IndexItem
    {
        [SolrField("id")]
        public string Id { get; set; }
        [SolrField("url")]
        public string Url { get; set; }
        [SolrField("host")]
        public string Host { get; set; }
        [SolrField("content")]
        public string Content { get; set; }
        [SolrField("title")]
        public string Title { get; set; }
        [SolrField("description")]
        public string Description { get; set; }
        [SolrField("digest")]
        public string Digest { get; set; }
        [SolrField("keywords")]
        public Collection<string> Keywords { get; set; }
        [SolrField("date")]
        public string Date { get; set; }
        [SolrField("contentLength")]
        public long ContentLength { get; set; }
        [SolrField("lastModified")]
        public long LastModified { get; set; }
        [SolrField("type")]
        public Collection<string> Type { get; set; }
    }
} 
```

Solr 字段定义 (schema.xml) 取自 Nutch 代码库。

```
 <!-- core fields -->
  <field name="segment" type="string" stored="true" indexed="false"/>
  <field name="digest" type="string" stored="true" indexed="false"/>
  <field name="boost" type="float" stored="true" indexed="false"/>

  <!-- meta-tag fields -->
  <field name="keywords" type="text_general" stored="true" indexed="true" multiValued="true"/>
  <field name="description" type="text_general" stored="true" indexed="true"/>

  <!-- fields for index-basic plugin -->
  <field name="host" type="url" stored="false" indexed="true"/>
  <field name="site" type="string" stored="true" indexed="true"/>
  <field name="url" type="url" stored="true" indexed="true"
      required="true"/>
  <field name="content" type="text_general" stored="true" indexed="true"/>
  <field name="title" type="text_general" stored="true" indexed="true"/>
  <field name="cache" type="string" stored="true" indexed="false"/>
  <field name="tstamp" type="long" stored="true" indexed="true"/>

  <!-- fields for index-anchor plugin -->
  <field name="anchor" type="string" stored="true" indexed="true"
      multiValued="true"/>

  <!-- fields for index-more plugin -->
  <field name="type" type="string" stored="true" indexed="true"
      multiValued="true"/>
  <field name="contentLength" type="long" stored="true"
      indexed="false"/>
  <field name="lastModified" type="long" stored="true"
      indexed="true"/>
  <field name="date" type="string" stored="true" indexed="true"/>

  <!-- fields for languageidentifier plugin -->
  <field name="lang" type="string" stored="true" indexed="true"/>

  <!-- fields for subcollection plugin -->
  <field name="subcollection" type="string" stored="true"
      indexed="true"/>

  <!-- fields for feed plugin -->
  <field name="author" type="string" stored="true" indexed="true"/>
  <field name="tag" type="string" stored="true" indexed="true"/>
  <field name="feed" type="string" stored="true" indexed="true"/>
  <field name="publishedDate" type="string" stored="true"
      indexed="true"/>
  <field name="updatedDate" type="string" stored="true"
      indexed="true"/>

  <!-- catchall field, containing all other searchable text fields (implemented
  via copyField further on in this schema  -->
  <field name="text" type="text_general" indexed="true" stored="false" multiValued="true"/>

  <field name="_version_" type="long" indexed="true" stored="true"/>

  <field name="timestamp" type="date" indexed="true" stored="true" default="NOW" multiValued="false"/>
</fields> 
```

显然，您将希望对其进行修改以满足您的需求，并且它可能会使用一些性能改进。但应该是一个很好的参考点。

# network-programming - JpcapCaptor，Jpcap 包中的 NetworkInterface

> ID：15517424
> 
> 赞同：1
> 
> 时间：2013-03-20T07:12:31.957
> 
> 标签：network-programming, packet-capture, jpcap, sniffer

[我已经从http://sourceforge.net/projects/jpcap/](http://sourceforge.net/projects/jpcap/)下载了一个 jpcap 包， 我已经将 jar 文件复制到了 jre 和 jdk 的 ext 中，并且还复制了 jdk 的 bin 中的文件夹。但是当我运行我的代码时，它显示 JpcapCaptor 和找不到网络接口类的错误。

我也在我的包中手动搜索过，没有名为 JpcapCaptor 的类。如果我安装了错误的软件包或什么，请帮助我？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T16:36:00.390

是的，在 0.01.16 版本中没有名为 JpcapCaptor 的类。并且您关于找不到网络接口的问题是因为 PacketCapture.getDevice 正在将 \n 和其他字符串（如窗口）添加到设备名称中，这使得在您尝试打开设备时它无法读取，因此请尝试将设备名称与您可以通过在命令提示符下使用 ipconfig 找到并使用子字符串擦除多余的字符串。您可以在打开设备时使用代码：

```
 PacketCapture pcap=new PacketCapture();
     String device=pcap.findDevice();
     device=device.substring(0, device.indexOf("}")+1);
     m_pcap.open(device, true); 
```

# regex - Unix shell脚本：找到“文本模式”时注入文本

> ID：15517428
> 
> 赞同：0
> 
> 时间：2013-03-20T07:12:44.283
> 
> 标签：regex, shell, unix, cat

假设我有两个文件：-data.txt-report.txt

该报告包含带有一些“占位符”的文本，例如：

```
HPLC results for sample: <insert-sample-id-here>, elements analyzed: <insert-element-name> 
```

数据文件包含一系列“键/值”行：

```
sampleID: 123456abc
elementName: genericThickeningAgent 
```

这里不是计算机高手，但我知道“查找和替换”的任务可以由计算机自动执行；应该使用什么样的命令来“用我的数据文件中匹配对的值替换占位符后重写 report.txt”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:27:23.400

在文件的当前形式中，很难将数据文件中的值与报告文件中的占位符匹配，因为占位符与 data.txt`<insert-sample-id-here>`不同`sampleID`。`<insert-element-name>`不等于也一样`elementName`。

但假设你有`data.txt`不同的形式：

```
insert-sample-id-here: 123456abc
insert-element-name: genericThickeningAgent 
```

（因此，如果 in 中的键与`data.txt`中的占位符匹配`report.txt`）您可以使用以下命令：

```
$ perl -ne 'print "s/<$1>/$2/g\n" if /^(.*?):\s+(.*)$/' data.txt | \
    xargs -I% perl -p -i -w -e "%" report.txt 
```

这将替换所有占位符`report.txt`：

```
$ cat report.txt
results for sample: 123456abc, elements analyzed: genericThickeningAgent 
```

# postgresql - PostgreSQL - 显示游标获取的数据

> ID：15517429
> 
> 赞同：3
> 
> 时间：2013-03-20T07:12:46.427
> 
> 标签：postgresql, cursor, fetch

我已经成功创建了返回游标集的函数，即：

```
CREATE OR REPLACE FUNCTION select_multiple(refcursor, refcursor)
  RETURNS SETOF refcursor AS
$BODY$
BEGIN
  OPEN $1 FOR SELECT testtemptable.myid FROM testtemptable;   -- Open the first cursor
  RETURN NEXT $1;                                                                              -- Return the cursor to the caller

  OPEN $2 FOR SELECT testtemptable.name FROM testtemptable;   -- Open the second cursor
  RETURN NEXT $2;                                                                              -- Return the cursor to the caller
END;
$BODY$
  LANGUAGE plpgsql VOLATILE 
```

我调用该函数，我希望每个游标返回 5 行，这看起来正在发生。这就是我所说的：

```
BEGIN;
select select_multiple('a', 'b');
FETCH ALL IN "a";
FETCH ALL IN "b";
COMMIT; 
```

但是，我的问题是，如何“可视化”数据以验证返回的内容？“数据输出”选项卡根本不显示，“消息”选项卡显示

```
Query result with 2 rows discarded.
Query result with 5 rows discarded.
Query result with 5 rows discarded.
Query returned successfully with no result in 11 ms. 
```

我的结果在哪里被丢弃了，如何在“数据输出”选项卡中显示它们？PostgreSQL 版本 9.1

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T09:40:36.893

您的基本问题是 pg_admin 不会显示来自多查询块的结果。

您需要做的是按顺序运行每个语句作为单独的查询。

IE

```
Begin; (run)
SELECT * FROM .... ; (run)
FETCH ALL FROM "a"; (run);
etc. 
```

然后它将按预期工作。

# android - 在 ExpandableListView 中从顶部滑出子列表

> ID：15517431
> 
> 赞同：1
> 
> 时间：2013-03-20T07:12:56.587
> 
> 标签：android, android-layout, android-animation

嘿伙计们，我正在尝试从顶部滑动可扩展列表视图的子视图。我通过在从适配器的 getChildView 返回的转换视图上翻译动画实现了这一点。但是子视图在子视图的父视图上滑动（列表的组视图） .here是我用来翻译的[anim xml文件。请告诉我如何在parentView后面滑动子视图？](http://pastebin.com/Rq2hGgss)

我已经看到了对此类动画使用 ListView 而不是 ExpandableListView 的解决方案，但我只需要使用 ExpandableListView。

请给我一些解决方案。

提前感谢

# javascript - jQuery多个选择器，当某些元素可能存在或可能不存在时

> ID：15517432
> 
> 赞同：2
> 
> 时间：2013-03-20T07:12:57.873
> 
> 标签：javascript, jquery, jquery-selectors

为了避免一遍又一遍地重写相同的代码，我尝试使用多个选择器。

通常，如果这些元素之一存在，则其他元素不存在。

```
 $('form#post, form#edit, form#quickpostform').submit( function()
    {
        // STUFF

        return false;
    }); 
```

*这应该*工作吗？

还是其中一些可能不存在的事实打破了它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:16:44.723

如果它无法在文档中找到特定的 ID，它会工作，并且不会中断，选择器会跳过 id。

**HTML**

```
<div id="test">test</div>
<div id="test1">test1</div> 
```

**jQuery**

```
$('#test,#test1,#test2').click(function(){
 alert('clicked');
}); 
```

看到它在[这里工作](http://jsfiddle.net/bipen/CPkaK/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:15:31.207

它会起作用的。您正在选择与这些选择器中的任何一个匹配的任何元素；每一个都可以匹配 0 个或多个元素。

您可以随时为自己测试。

# dns - 通过高级 DNS 托管服务提供商的 api 创建无限的子域

> ID：15517433
> 
> 赞同：0
> 
> 时间：2013-03-20T07:12:59.633
> 
> 标签：dns, automation, subdomain, dyndns

我已经找到了一个 [具有 api 访问权限的无限子域的帖子 DNS 提供商？](https://stackoverflow.com/questions/9779097/dns-provider-for-unlimited-subdomains-with-api-access)关于通过 api 创建子域。但是上面的帖子并没有解决我的查询

**我的要求是什么**

1) 寻找高级 dns 托管服务提供商，让我可以使用他们的 api 从我的应用程序创建无限的子域

2) 目前我从一个供应商处拥有多个专用服务器，并从另一个供应商处购买了域名。但我目前的域名注册商提供高级 dns 托管。它使我能够手动创建无限的子域而无需 api 访问。因此，我正在寻找具有 api 访问权限的第三方高级 dns 托管服务提供商来创建子域。

**笔记：**

目前我没有计划通过绑定运行我自己的 dns 服务器

**为清楚起见，请访问**

[https://webmasters.stackexchange.com/questions/45284/creating-unlimited-sub-domains-programmatically-through-api](https://webmasters.stackexchange.com/questions/45284/creating-unlimited-sub-domains-programmatically-through-api)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:20:59.783

我知道 Dreamhost 提供无限的子域，他们也有一个 API 来创建新的 DNS 记录（以及其他一些东西）......这是创建 DNS 记录（如子域等）的 wiki：[http ://wiki.dreamhost.com/ API/Dns_commands](http://wiki.dreamhost.com/API/Dns_commands) ... 或者这里是主要的 API 页面：[http ://wiki.dreamhost.com/API#List_of_API_Modules](http://wiki.dreamhost.com/API#List_of_API_Modules)

# java - 测试生成的 HTML 代码的规范方法是什么？

> ID：15517439
> 
> 赞同：2
> 
> 时间：2013-03-20T07:13:18.097
> 
> 标签：java, html, unit-testing, testing, web-testing

我通常遵循的两种方法是：

1.  将 HTML 转换为字符串，然后针对目标字符串进行测试。这种方法的问题是它太脆弱了，并且会经常出现误报，例如某处的额外空白。

2.  将 HTML 转换为字符串并将其解析为 XML，然后使用 XPath 查询在特定节点上进行断言。这种方法效果很好，但并不是所有的 HTML 都带有结束标记，并且在这种情况下，当 XML 失败时解析它。

这两种方法都有严重的缺陷。我想这种测试必须有一个完善的方法（或方法）。它是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:15:37.167

您可以使用[jsoup](http://jsoup.org/)或[JTidy](http://jtidy.sourceforge.net/)代替 XML 解析并使用您的第二种策略。

# html - 窗口恢复时的 HTML 旁白标记行为

> ID：15517443
> 
> 赞同：0
> 
> 时间：2013-03-20T07:13:37.613
> 
> 标签：html, user-interface

下面是HTML代码

```
 <div class="body-content" id="content"></div>
         <%@ include file="common/aside.jsp"%>
   <%@ include file="common/footer.jsp"%> 
```

我有一个导航菜单栏，我通过上面显示的*内容*div 内的 ajax 调用加载 json 数据。json 数据不过是显示在 jquery 数据表中的对象数组的数组。然后我有一个旁白，我在页面右侧显示我的应用程序档案。

一切都非常适合最大化浏览器窗口，但是当我恢复时，我的存档位于看起来很奇怪的数据表下方。

有什么办法可以克服这个吗？请帮忙。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-04T16:48:45.900

我知道这有点迟到，但听起来主数据元素（内容内的那个，在*旁边*的左边）有一个明确设置的宽度......或者没有。我建议您将 2 个元素（*旁边*和主数据容器）的宽度设置为 % 以防止弹出。如果你更关心，你也可以*使用 .body-content {min-width: X00px;}*来防止它变窄。

# json - 从 httphandler 返回多个参数到 FineUploader `OnComplete`

> ID：15517451
> 
> 赞同：0
> 
> 时间：2013-03-20T07:14:04.133
> 
> 标签：json, httphandler, fine-uploader

我使用 FineUploder 将图像上传到 Web 服务器。

**javascript**

```
 function createUploader() {
                    var thumbnailuploader = new qq.FineUploader({
                        element: $('#thumbnail-fine-uploader')[0],
                        request: {
                            endpoint: '<%= ResolveUrl("~/Common/uploadhandler.ashx") %>'
                        },
                        multiple: false,

                        ...

                        callbacks: {
                            onComplete: function (id, fileName, responseJSON) {
                                if (responseJSON.success) {
                                    $('#imgPreview').html('<img src="../Uploaded/' + filename + '" alt="' + filename + '">');
                                }
                            }
                        }
                    });
                }

                window.onload = createUploader; 
```

javascript 调用服务器`uploadhandler.ashx`端，并成功上传文件。

```
 public void ProcessRequest(HttpContext context)
    {
        .....

        context.Response.ContentType = "application/json";
        context.Response.Write("{\"success\":true}");
    } 
```

这里我需要用 json 响应返回另一个参数。如何向`context.Response.Write("{\"success\":true}");`javascript 'onComplete' 方法添加另一个参数并从中读取它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T16:02:23.633

您可以像这样在 JSON 消息中添加另一个字段：

context.Response.Write("{\"success\":true, \"myParam\":\"awesome\"}");

该`onComplete()`方法有一个`responseJSON`参数，您可以从中检索字段的值。请参阅此处的文档：

[http://docs.fineuploader.com/api/callbacks.html](http://docs.fineuploader.com/api/callbacks.html)

# spidermonkey - 使用 SpiderMonkey JS 引擎在 JavaScript 和 C/C++ 之间快速进行二进制数据交换

> ID：15517473
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:16.783
> 
> 标签：spidermonkey

最近我了解到 V8 中有“外部数组”。所以当你在你的应用程序中嵌入 V8 时，你可以将你的 C-array 映射到 JS-array，甚至可以选择一个类型，无论是 char、word、int 等。这可以显着加快 JS 和 C 之间的数据交换。现在问题SpiderMonkey中是否有类似的东西？

我尝试用谷歌搜索“spidermonkey 外部数组”、“二进制数组”、“地图数组”等等，但到目前为止还没有运气。

我有 SpiderMonkey 源代码，但需要很长时间才能熟悉它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-21T08:31:26.833

在 SpiderMonkey 中，您可以使用 ArrayBuffer。

```
var buffer = new ArrayBuffer(16)
var int32View = new Int32Array(buffer);
for (var i = 0; i < int32View.length; i++) {
  int32View[i] = i * 3
}
array_dump(buffer) 
```

现在 C++ 部分：

```
#include "js/jstypedarray.h"

static JSBool my_array_dump(JSContext *cx, uintN argc, jsval *vp) {
    JSObject *obj;
    JS_ValueToObject(cx, vp[0 + 2], &obj);
    js::ArrayBuffer *A;
    A = js::ArrayBuffer::fromJSObject(obj);
    int *B = (int*) A->data;
    for (int i = 0; i < A->byteLength / 4; i++) printf("%i ", B[i]);
    return JS_TRUE;
} 
```

看起来像这样，您可以在 JS 和 C/C++ 之间传递大量数据，而几乎没有开销。

*当然，最好在 SpiderMonkey 文档中清楚地解释这一点。但是，当您入侵 Mozilla 项目时，经常会发生这种情况，您最终会挖掘包含和来源，所以我认为这个答案可能对某些人有用。*

# java - Java-Eclipse-尝试使用JTextArea

> ID：15517476
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:15:28.720
> 
> 标签：java, swing, jtextarea, preferredsize

在过去两天的最后几个小时里，我一直在试图弄清楚为什么我的 GUI 不能正常工作。这是我来到你们所有人的地方，看看你们是否能帮助我。

现在我想做的是一个基于文本的游戏，简单吧？好吧，我想使用排列在屏幕左侧的按钮，底部是你的健康和所有有趣的东西，游戏的主要内容，文本，在中间，但不管我做了什么无法让它适合，然后我偶然发现了 pack() 所以我试了一下，是的......它做了它应该做的事情，遗憾的是现在我只有一个词而且屏幕很小，任何想法至于我怎样才能使屏幕更大，并保持大？

将要编辑这个并扔给你我的代码的点点滴滴，包括 textarea （请注意，我在不工作的时候已经使用 java 了两天）

```
 JTextArea textarea = new JTextArea("example");

    frame.add(textarea);
    //frame.pack(); 
```

在这里我已经打包注释掉了，因为我正在玩它。

大家还有什么想看的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:47:23.300

有很多事情可能会出错，如果没有更多代码，很难找出确切的问题......

有几件事突然想到...

*   使用适当的布局管理器，甚至是复合布局管理器
*   向 提供附加信息以`JTextArea`允许其定义可用空间，例如行和列
*   添加`JTextArea`到 a`JScrollPane`以确保它不会突然占用更多空间然后实际可用

![在此处输入图像描述](../Images/78aa63854e451d1f4be890e1714fb100.png)

```
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JProgressBar;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;

public class TestLayout21 {

    public static void main(String[] args) {
        new TestLayout21();
    }

    public TestLayout21() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new TestPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TestPane extends JPanel {

        public TestPane() {
            setLayout(new BorderLayout());

            JPanel actions = new JPanel(new GridBagLayout());
            GridBagConstraints gbc = new GridBagConstraints();
            gbc.gridwidth = GridBagConstraints.REMAINDER;
            gbc.fill= GridBagConstraints.HORIZONTAL;

            actions.add(new JButton("Walk"), gbc);
            actions.add(new JButton("Run"), gbc);
            actions.add(new JButton("Jump"), gbc);
            actions.add(new JButton("Eat"), gbc);
            actions.add(new JButton("Drink"), gbc);

            add(actions, BorderLayout.WEST);
            add(new JProgressBar(), BorderLayout.SOUTH);

            JTextArea textArea = new JTextArea(20, 40);
            add(new JScrollPane(textArea));

        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(200, 200);
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:30:23.040

Pack 确实只会使您的框架或面板只需要适合其中的组件即可。尝试preferredSize() 方法，如果它仍然不起作用，可能会发布一些代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:22:00.597

您可以尝试在对象或面板/框架本身上设置首选尺寸：

```
myPanel.preferredSize(new Dimension(1000,500)); 
```

或者

```
myFrame.preferredSize(new Dimension(1000,500)); 
```

或者

```
myTextArea.preferredSize(new Dimension(300,200)); 
```

# stream - 即使 API 说共享是公开的并被接受，流上的 401 错误

> ID：15517479
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:33.627
> 
> 标签：stream, soundcloud

所以我一直在与我的开发人员聊天，我们注意到 API 存在问题。看看这首歌：

http://api.soundcloud.com/tracks/61858057?client_id=[MYCLIENTID]

我的开发人员说：

true 开启。共享是公开的。流被接受。

但是您实际上无法访问我们的播放器中的流，因为流会返回 401 错误。

任何人都可以提供任何关于这里为什么或可能发生什么的见解，以便我可以将该信息传回给我的开发人员吗？

希望有人可以提供帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:59:57.933

[这与此](https://stackoverflow.com/a/15247013/9021)问题相同。基本上，这位艺术家已经通过 API 禁用了他们的曲目的流式传输，但曲目表示仍然显示它可以播放，而不是。

有一个修复程序即将发布 - 但请注意，该曲目仍将无法播放，该修复程序只会正确显示此状态。

# c# - 添加记录时加密和解密失败

> ID：15517481
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:36.590
> 
> 标签：c#, asp.net, ado.net, webforms

我正在使用一个简单的程序，现在我遇到了一个问题，即加密和解密密码并将它们存储在数据库中。我正在使用的逻辑是加密密码，但它没有存储在数据库中，而是抛出如下所示的错误

> System.Data.SqlClient.SqlException：“=”附近的语法不正确。

**我的代码**

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data.SqlClient;
using System.Configuration;
using System.Data;

namespace WebApplication5
{
    public partial class WebForm6 : System.Web.UI.Page
    {
        SqlConnection connection;
        protected void Page_Load(object sender, EventArgs e)
        {
            connection = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
        }

        protected void btnSubmit_Click(object sender, EventArgs e)
        {
            SqlConnection con1 = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
            con1.Open();

            SqlCommand cmd1 = new SqlCommand("select * from admin where USERNAME=@USERNAME and PASSWORD=@PASSWORD ", con1);
            cmd1.Parameters.AddWithValue("@username", txtUserName.Text);
            cmd1.Parameters.AddWithValue("@password", txtPassword.Text);
            SqlDataReader dr = cmd1.ExecuteReader();
            if (dr.HasRows)
            {
                ClientScript.RegisterStartupScript(Page.GetType(), "validation", "<script language='javascript'>alert('userName is already availables')</script>");

            }

            else
            {

                SqlConnection con = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
                con.Open();
                string strQuery = EncodePasswordToBase64("insert into admin( USERNAME,PASSWORD) values('" + txtUserName.Text + "','" + txtPassword.Text + "')");
                connection = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
                connection.Open();
                SqlCommand cmd = new SqlCommand(strQuery, connection);
                cmd.ExecuteNonQuery();
                connection.Close();
                Response.Redirect("login.aspx");

            }

            con1.Close();
        }
        public static string EncodePasswordToBase64(string password)
        {
            try
            {
                byte[] encData_byte = new byte[password.Length];
                encData_byte = System.Text.Encoding.UTF8.GetBytes(password);
                string encodedData = Convert.ToBase64String(encData_byte);
                return encodedData;
            }
            catch (Exception ex)
            {
                throw new Exception("Error in base64Encode" + ex.Message);
            }
        }

    }
} 
```

**问题是：** *我在这里做错了什么？*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:17:45.887

您正在对完整的查询进行编码，而您应该只对密码进行编码

```
string strQuery = EncodePasswordToBase64("insert .... 
```

它应该是：

```
string strQuery = "insert into admin( USERNAME,PASSWORD) values('" + txtUserName.Text + 
                   "','" +  EncodePasswordToBase64(txtPassword.Text) + "')"); 
```

您应该**使用 SqlParameter 并进行参数化查询**而不是字符串连接

```
string strQuery = "insert into admin( USERNAME,PASSWORD) values(@pUserName, @pPassword)";
SqlCommand cmd = new SqlCommand(strQuery);
cmd.Parameters.AddWithValue("@pUserName", txtUserName.Text");
cmd.Parameters.AddWithValue("@pPassword", EncodePasswordToBase64(txtPassword.Text)) 
```

# python - 如何在 Python 中从 HTML 页面中提取 URL

> ID：15517483
> 
> 赞同：17
> 
> 时间：2013-03-20T07:15:39.140
> 
> 标签：python, url, web-crawler

我必须用 Python 编写一个网络爬虫。我不知道如何解析页面并从 HTML 中提取 URL。我应该去哪里学习编写这样的程序？

换句话说，是否有一个简单的 python 程序可以用作通用网络爬虫的模板？理想情况下，它应该使用相对简单易用的模块，并且应该包含大量注释来描述每一行代码的作用。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-20T07:24:34.443

看下面的示例代码。该脚本提取网页（此处为 Python 主页）的 html 代码并提取该页面中的所有链接。希望这可以帮助。

```
#!/usr/bin/env python

import requests
from bs4 import BeautifulSoup

url = "http://www.python.org"
response = requests.get(url)
# parse html
page = str(BeautifulSoup(response.content))

def getURL(page):
    """

    :param page: html of web page (here: Python home page) 
    :return: urls in that page 
    """
    start_link = page.find("a href")
    if start_link == -1:
        return None, 0
    start_quote = page.find('"', start_link)
    end_quote = page.find('"', start_quote + 1)
    url = page[start_quote + 1: end_quote]
    return url, end_quote

while True:
    url, n = getURL(page)
    page = page[n:]
    if url:
        print(url)
    else:
        break 
```

**输出：**

```
/
#left-hand-navigation
#content-body
/search
/about/
/news/
/doc/
/download/
/getit/
/community/
/psf/
http://docs.python.org/devguide/
/about/help/
http://pypi.python.org/pypi
/download/releases/2.7.3/
http://docs.python.org/2/
/ftp/python/2.7.3/python-2.7.3.msi
/ftp/python/2.7.3/Python-2.7.3.tar.bz2
/download/releases/3.3.0/
http://docs.python.org/3/
/ftp/python/3.3.0/python-3.3.0.msi
/ftp/python/3.3.0/Python-3.3.0.tar.bz2
/community/jobs/
/community/merchandise/
/psf/donations/
http://wiki.python.org/moin/Languages
http://wiki.python.org/moin/Languages
http://www.google.com/calendar/ical/b6v58qvojllt0i6ql654r1vh00%40group.calendar.google.com/public/basic.ics
http://www.google.com/calendar/ical/j7gov1cmnqr9tvg14k621j7t5c%40group.calendar.google.com/public/basic.ics
http://pycon.org/#calendar
http://www.google.com/calendar/ical/3haig2m9msslkpf2tn1h56nn9g%40group.calendar.google.com/public/basic.ics
http://pycon.org/#calendar
http://www.psfmember.org 
```

...

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-03-20T08:08:59.273

您可以使用[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)，正如许多人所说的那样。它可以解析 HTML、XML 等。要查看它的一些功能，请参见[此处](http://www.crummy.com/software/BeautifulSoup/bs4/doc/)。

例子：

```
import urllib2
from bs4 import BeautifulSoup
url = 'http://www.google.co.in/'

conn = urllib2.urlopen(url)
html = conn.read()

soup = BeautifulSoup(html)
links = soup.find_all('a')

for tag in links:
    link = tag.get('href',None)
    if link is not None:
        print link 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-20T08:07:00.990

```
import sys
import re
import urllib2
import urlparse
tocrawl = set(["http://www.facebook.com/"])
crawled = set([])
keywordregex = re.compile('<meta\sname=["\']keywords["\']\scontent=["\'](.*?)["\']\s/>')
linkregex = re.compile('<a\s*href=[\'|"](.*?)[\'"].*?>')

while 1:
    try:
        crawling = tocrawl.pop()
        print crawling
    except KeyError:
        raise StopIteration
    url = urlparse.urlparse(crawling)
    try:
        response = urllib2.urlopen(crawling)
    except:
        continue
    msg = response.read()
    startPos = msg.find('<title>')
    if startPos != -1:
        endPos = msg.find('</title>', startPos+7)
        if endPos != -1:
            title = msg[startPos+7:endPos]
            print title
    keywordlist = keywordregex.findall(msg)
    if len(keywordlist) > 0:
        keywordlist = keywordlist[0]
        keywordlist = keywordlist.split(", ")
        print keywordlist
    links = linkregex.findall(msg)
    crawled.add(crawling)
    for link in (links.pop(0) for _ in xrange(len(links))):
        if link.startswith('/'):
            link = 'http://' + url[1] + link
        elif link.startswith('#'):
            link = 'http://' + url[1] + url[2] + link
        elif not link.startswith('http'):
            link = 'http://' + url[1] + '/' + link
        if link not in crawled:
            tocrawl.add(link) 
```

参考：[Python Web Crawler in Less Than 50 Lines](http://ryanmerl.com/2009/02/14/python-web-crawler-in-less-than-50-lines/)（速度慢或不再工作，不适合我）

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-20T07:28:27.190

您可以使用[beautifulsoup](http://www.crummy.com/software/BeautifulSoup/bs4/doc/)。遵循文档并查看符合您要求的内容。该文档还包含有关如何提取 URL 的代码片段。

```
from bs4 import BeautifulSoup
soup = BeautifulSoup(html_doc)

soup.find_all('a') # Finds all hrefs from the html doc. 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-03-20T07:27:00.457

通过解析页面，查看[`BeautifulSoup`](http://www.crummy.com/software/BeautifulSoup/)模块。它使用简单，并允许您使用 HTML 解析页面。您可以简单地从 HTML 中提取 URL`str.find('a')`

[不要使用正则表达式来解析 HTML](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454 "吨")

# iphone - iPhone 应用内购买 自动更新

> ID：15517485
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:44.823
> 
> 标签：iphone, in-app-purchase

当我第一次尝试从 iphone 沙盒环境（即产品 com.abc）购买产品时，我能够得到正确的响应，如果我再次尝试购买该产品，则会调用交易失败方法，我不知道该怎么办。当我尝试恢复产品（即 com.abc）时，会多次调用恢复方法，当我打印产品 id 时，我会打印 5 到 6 次产品 id（即 com.abc），这意味着我的恢复方法被调用了 5 到 6 次。如果有人有上述2个问题的解决方案，请帮助我。提前致谢

**注意：com.abc 产品是自动更新的。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-21T07:17:39.040

这实际上是您保留的时间段（1 年或 6 个月），基于您的订阅有效期如果您保留 1 年订阅有效期最长为 1 小时，并在一小时后[验证此链接](https://stackoverflow.com/questions/8648024/ios-subscription-end-notification)，您将获得正常交易

# javascript - 如何验证javascript中的3个字段

> ID：15517487
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:47.493
> 
> 标签：javascript

我想验证 3 个文件

1.  名字文本框
2.  姓氏文本框
3.  中间名文本框

这是我的代码：

```
function validateForm()
{
    var x=document.forms["myForm"]["fname"].value;
    var y=document.forms["myForm"]["lname"].value;
    var z=document.forms["myForm"]["mname"].value;
    if(((x!='') && (y=='' && z==''))
          || ((y!='') && (x=='' && z==''))
          || ((z!='') && (x=='' && y=='')))
    {
        alert("First name must be filled out");
        return false;
    }
    alert("fill input filed");
    return false;
}
</script> 
```

我的代码是这样执行的：如果我不会在任何字段中输入任何内容 - 警报，这部分很好。然后，当我输入其中一个字段时，它会以相同的方式提醒我 if 部分，如果我将输入两个文本框，我的 if 部分应该被执行，但它没有发生。

您能否更改该条件，以便如果我填写 2 个字段，它应该提醒我至少可以填写一个字段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:33:02.620

我想这就是你要找的...

**Javascript代码**

```
<script type="text/javascript">
function validateForm()
{
var x=document.getElementById("fname").value;
var y=document.getElementById("mname").value;
var z=document.getElementById("lname").value;

if((x==''))
{
    alert("First name must be filled out");
    return false;
}
else if((y==''))
{
    alert("Middle name is empty");
    return false;
}
else if((z==''))
{
    alert("Last name is empty");
    return false;
}
return true;
}
</script> 
```

**HTML 代码**

```
<form action="#">
    <input type ="text" id ="fname"></input>
    <input type ="text" id ="mname"></input>
    <input type ="text" id ="lname"></input>
    <input type="submit" onclick="return validateForm();">
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:21:45.113

简单点，你的名字是强制性的，所以把它放在第一位

```
if(x==''){
    alert("First name must be filled out");return false;
    if(y=='' && z==''){
    //alert();// other condtions
    }
}else{
    alert("fill input filed");return false;
} 
```

# jsf - 带有 PrimeFaces 的 InputText 的图像

> ID：15517488
> 
> 赞同：0
> 
> 时间：2013-03-20T07:15:47.943
> 
> 标签：jsf, primefaces

我打算在 InputText 旁边放置一个图像，如“*”，当在 InputText 中输入有效内容时，它会变为绿色（另一个图像）。如何将图像与 InputText 一起放置？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:37:31.150

如果您只想添加“*”，只需添加类似

```
<h:panelGroup styleClass="#{myBean.valid?'geen':'red'}">*</h:panelGroup> 
```

在您的输入旁边...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T10:40:10.173

您还可以使用 ajax 交互地制作它：

```
<h:form>
    <h:inputText value="#{userBean.name}">
        <a4j:ajax event="keyup" render="out1,out2" />
    </h:inputText>

    <!-- For a textual * -->
    <h:outputText value="*" styleClass="#{userBean.valid?'green':'red'}" id="out1" />

    <!-- For an image -->
    <h:graphicImage value="#{userBean.valid?'/img/valid.png':'/img/notvalid.png}" id="out2"/>
</h:form> 
```

抱歉使用**RichFaces**标记**a4j:ajax ，我想****Primefaces**中有一个等效标记。

问候，

# dynamic - 用于使下拉列表动态附加值永久化以使其在 dropdownloads 每次出现时出现的代码

> ID：15517494
> 
> 赞同：1
> 
> 时间：2013-03-20T07:16:11.967
> 
> 标签：dynamic, drop-down-menu

用于使下拉列表动态附加值永久化以使其在 dropdownloads 每次出现时出现的代码

protected void btnAdd_Click(object sender, EventArgs e) { txtSelectUrTime.Visible = false; btnAdd.Visible = 假；

```
 DropDownList7.Items.Remove(DropDownList7.SelectedItem);

    DropDownList7.Items.Add(new ListItem(txtSelectUrTime.Text));
    DropDownList16.Items.Add(new ListItem(txtSelectUrTime.Text));
    DropDownList21.Items.Add(new ListItem(txtSelectUrTime.Text));
    DropDownList22.Items.Add(new ListItem(txtSelectUrTime.Text));
    DropDownList23.Items.Add(new ListItem(txtSelectUrTime.Text));
    DropDownList24.Items.Add(new ListItem(txtSelectUrTime.Text));

} 
```

txtselecturtime 文本是用户在运行时 n 在按钮上更新时隙值的字段，单击此值将添加到所有下拉列表中。

这段代码的问题是这些值仅在运行时可见..在我重新加载该项目之后..n 执行它.. 用户动态添加的值不会显示，尽管它之前已显示。

# asp.net - AES128 位加密字符串与 .net 上的不同

> ID：15517496
> 
> 赞同：1
> 
> 时间：2013-03-20T07:16:35.450
> 
> 标签：asp.net, ios, xcode, ipad, aes

我在 iOS 应用程序中实现 AES128 位加密/解密，用于从 .net 服务器发送/接收数据，我几乎完成了，但是在单元测试期间，我在加密字符串中遇到了一些问题，一些加密字符串与 .net 服务器上的不相似，可以说 98% 的字符串在双方都是正确的，但问题出现在 2% 的字符串中，当我匹配双方加密的字符串时，然后在 iOS 端发现生成的字符串有点短，.net 端它是长字符串。我发现 iOS 字符串的另一件事是 .net 字符串的子字符串。当我尝试解密 iOS 生成的加密字符串时，它没有被解密显示为空，但是当我尝试解密 .net 服务器生成的加密字符串（它比 iOS 大）时，我能够看到解密的字符串。

使用相同的 KEY（服务器端和 iOS 端长 16 个字符）。

您能否提出解决方案或我错在哪里。

非常感谢大家。

原始字符串："custId=10&mode=1" KEY= "PasswordPassword"

在 iOS 加密字符串：r51TbJpBLYDkcPC+Ei6Rmg==

在 .net 加密字符串：r51TbJpBLYDkcPC+Ei6RmtY2fuzv3RsHzsXt/RpFxAs=

加密填充 = kCCOptionPKCS7Padding;

我按照本教程进行操作。 [http://automagical.rationalmind.net/2009/02/12/aes-interoperability-between-net-and-iphone/](http://automagical.rationalmind.net/2009/02/12/aes-interoperability-between-net-and-iphone/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-19T10:09:38.240

* * *

如您所见，这两个密文可能不同的原因有很多。您可以尝试一件事：将密文从一个交给另一个，并要求他们解密；如果可以的话，你可以很确定双方都在做基本相同的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T09:41:00.833

[在 CryptoSE 上发现了一个类似的问题](https://crypto.stackexchange.com/questions/3022/what-is-the-difference-between-these-aes-encryption-methods)

**我的版本 TL;DR**

本质上 .net 和 iOS 都有不同的实现，并且由于您遵循的指南是 2009 年的，我预计它现在已经过时了，因为从那时起每个平台都至少有 1 次重大修订。

**原始答案给出以下答案：**

我马上能想到四个原因：

1.  他们都没有使用AES256。我在 Obj-C 文档中看到他们正在使用 AES256 的直接声明（除非您故意更改它），我在 Visual Basic 文档中没有看到任何声明他们正在使用什么密钥大小（除非那是他们“块位”的意思）。

2.  不同的键。AES256 采用 256 位的密钥；没有标准方法可以将五个字符串转换为 256 位值。现在，有很多可能的方法；没有特别保证他们都使用同一个。

3.  不同的操作模式。AES 分组密码采用 128 位值，并将其转换为 128 位值。但是，并非我们所有的消息都可以放入 128 位，此外，有时除了消息加密之外，我们还想做其他事情。操作模式是一种采用分组密码的方法，并将其用作执行一些更普遍有用的功能（例如加密更长的消息）的工具。有许多标准的操作模式，Obj-C 文档说明它使用的是 CBC 模式；Visual Basic 文档有听起来很吓人的单词，这可能是对 CBC 模式的乱码解释。

4.  四。某些操作模式（例如 CBC 模式）让加密器随机选择一个“初始化向量”；可以与加密消息一起翻译（因为解密器需要该值）。如果您第二次加密消息，则此初始化向量所做的其中一件事是，第二个密文将与第一个密文完全不同；这样，听的人将无法推断出您只是重复了一条消息。Obj-C 文档明确表示它将选择一个随机 IV（除非告诉自己给它一个）。

5.  如您所见，这两个密文可能不同的原因有很多。您可以尝试一件事：将密文从一个交给另一个，并要求他们解密；如果可以的话，你可以很确定双方都在做基本相同的事情。

# java - 弹簧注入在用户创建的实例中工作？

> ID：15517497
> 
> 赞同：0
> 
> 时间：2013-03-20T07:16:35.670
> 
> 标签：java, spring, inversion-of-control

我正在使用 Spring，当我使用 new 运算符创建实例时，我将注入的实例设为 null，我可以详细说明该场景。

例如，让 A 类和 B 类注入到 Main 类中

```
 class Main
         {
       @autowired
      A a;
        @autowired
       B b;

```
 //getter and setter
   }

class MainExecute
{
 public static void main()
 {
   // loading the spring config xml 
 Main main = new  Main();
 A a=main.getA();
  // whether a will get the instance  ( I'm getting a as null) 

 } 
``` 这种情况可能是什么原因请指导我

提前致谢。

            回答 #1

赞同：5

时间：2013-03-20T07:20:39.053

不，它不会得到依赖注入。

只有由 spring 容器创建/管理的对象才能获得 spring 依赖注入提供的设施。

            回答 #2

赞同：4

时间：2013-03-20T07:36:29.123

要详细说明上述答案：

您需要让 spring IOC 容器为您创建对象，您无需显式创建它们。您可以通过创建一个 spring config xml 文件来做到这一点，这是一个简单的示例：

**META-INF\spring\my-spring-config.xml：**

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

<bean id="myMainClass" class="org.foo.Main" />
<bean id="myA" class="org.foo.A" />
<bean id="myB" class="org.foo.B" />

</beans> 
```

**org.foo.MainExecute：**

```
class MainExecute
{
 public static void main()
 { 

  ClassPathXmlApplicationContext appContext = new ClassPathXmlApplicationContext("META-INF\\spring\\my-spring-config.xml");
  Main main = (Main) appContext.getBean("myMainClass");

   }
} 
```

在这个例子中，Spring IOC 容器将实例化一个“A”bean 和一个“B”bean。然后它会将这些自动装配到“主”bean中。

```

# c++ - C++ Windows 命令提示 C1083“无法打开包含文件：'Magick++.h'没有这样的文件或目录”

> ID：15517499
> 
> 赞同：7
> 
> 时间：2013-03-20T07:16:40.807
> 
> 标签：c++, compilation, include, command-prompt, magick++

自从我取得任何进展以来已经超过 4 小时，并且搜索了文档和链接，坦率地说我没有想法。所以这里。

**背景**

*   我正在命令提示符下编译 C++ 程序
*   我是命令提示符的新手，对 C++ 还很陌生
*   我正在用 Notepad++（不是 VS）编写这个程序，但是安装了 VS，所以我可以编译
*   我正在尝试通过 Magick++ 来使用 ImageMagick，Magick++ 是一个 C++ API 包装器。
*   主程序目录
    *   C:/程序文件 (x86)/CameraSoftware/myCameraProgram.cpp
*   Magick++ 目录
    *   C:/程序文件 (x86)/ImageSoftware/Magick++/lib/Magick.h

**问题**

*   我正在尝试使用 Magick++ API，所以我想包含它
*   我只是在 .cpp 文件中使用它`#include <Magick++.h>`
*   我已经搞砸了许多对其他人有用但无济于事的解决方案
    *   致命错误 C1083：无法打开包含文件：'Magick++.h'：没有这样的文件或目录

**问题**

*   如何通过命令提示符正确编译并链接到“Magick++.h”？
*   目前它是这样编译的
    *   cl myCameraProgram.cpp /EHsc /link DSLRRemoteLib.lib
    *   DSLRRemoteLib 是位于同一目录中的 lib 文件，需要 /EHsc 和 /link 才能运行

**其他解决方案**

*   对于visual studio项目，我相信你可以通过一些配置来为项目添加外部目录路径，但是我没有使用notepad++的奢侈，所以我真的需要知道如何正确编译它
*   我已经尝试在 myCameraProgram.cpp #include "COMPLETE_DIR_PATH/Magick++.h" 中进行硬编码，它会编译，但 Magick++.h 中有更多包含在其中（例如`#include <Magick++/Include.h>`），它会为每个头文件带来 C1083 错误。
    *   我还尝试在 Magick++.h 中对文件路径进行硬编码，以及下一级头文件的相同问题。所以这不是一个解决方案。
    *   我还尝试在编译行中为 /link 文件添加一个附加参数
    *   `cl myCameraProgram.cpp /EHsc /link DSLRRemote "COMPLETE_DIR_PATH/Magick++.h"`但不起作用
    *   也试过 `cl myCameraProgram.cpp /EHsc /link DSLRRemote /l "COMPLETE_DIR_PATH/Magick++.h"`
    *   以及多次失败的尝试。

任何帮助或建议或方向将不胜感激，谢谢！

======== 编辑 ========

**感谢大家的提示。**

*   使用 /I "C:\Users\ME\Documents\ImageMagick-6.8.1-10\Magick++\lib" 我可以成功链接 #include "Magick++.h"，但它不会在其他任何地方查找其他文件。
*   它找不到在子目录路径“C:\Users\ME\Documents\ImageMagick-6.8.1-10\Magick++\lib\Magic++\Include.h”中的#include。
*   “Magick++/Include.h”还引用了父目录中的另一个子目录。

**进步**

*   我当前的命令提示符编译行是：
*   cl "C:\Users\ME\Documents\ImageMagick-6.8.1-10\Magick++\lib"
*   找到“Magick++.h”

**问题**

*   “Magick++.h”是一个包含 4 个头文件的头文件
*   编译时找不到子目录中的其他文件
*   有没有办法链接路径下的所有子目录和文件
*   “C:\Users\ME\Documents\ImageMagick-6.8.1-10”有机会编译吗？

* * *

## 回答 #1

> 赞同：-4
> 
> 时间：2013-08-15T23:30:44.840

```
sudo apt-get install libmagickwand-dev imagemagick
sudo apt-get install libmagick++-dev libmagick++4 
```

# android - Android：水平滚动视图问题

> ID：15517500
> 
> 赞同：1
> 
> 时间：2013-03-20T07:16:41.130
> 
> 标签：android, horizontalscrollview

我在使用水平滚动视图滚动图像时遇到布局问题，下面的复选框是我的布局

```
 <HorizontalScrollView
         android:layout_width="wrap_content"
        android:layout_height="fill_parent"
        >

        <LinearLayout
            android:id="@+id/mygallery"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
             >
        </LinearLayout>
    </HorizontalScrollView> 
```

我在另一个布局中的列表视图中使用这个滚动视图

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/albumsearch"
    android:layout_width="match_parent"
    android:layout_height="fill_parent"
    android:background="#FFFFFF"
    android:orientation="vertical" >

<ListView
            android:id="@+id/albumdetails"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"        
            android:background="#FFFFFF"
            android:paddingBottom="5dp" >
        </ListView>
    </LinearLayout> 
```

下面是我的图像和复选框的布局

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical" >

    <CheckBox
        android:id="@+id/selectedImg"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/icon"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="72dp"
        android:layout_marginTop="20dp"
        android:checked="true" />

    <ImageView
        android:id="@+id/icon"
        android:layout_width="72dp"
        android:layout_height="75dp"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true" />

</RelativeLayout> 
```

但是当我在小屏幕设备上运行此代码时，我只能看到一半图像，如何获得完整图像，感谢任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:17:36.483

已解决：使用复选框和图像视图将我的布局更改为线性布局和使用`weight`属性后

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="0dp"
    android:gravity="left"
    android:orientation="vertical" 
     android:layout_weight="1" >

    <CheckBox
        android:id="@+id/selectedImg"
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:checked="true" 
        android:layout_weight="1" 
        android:gravity="center" />

    <ImageView
        android:id="@+id/icon"
        android:layout_width="72dp"
        android:layout_height="0dp"     
        android:layout_weight="1" 
        android:gravity="center" />

</LinearLayout> 
```

# java - 无法访问 jboss 7.1.1 中资源的数据流

> ID：15517501
> 
> 赞同：1
> 
> 时间：2013-03-20T07:16:41.743
> 
> 标签：java, jboss7.x, smooks

我正在使用 smooks api 进行 java-xml 和 xml-java 转换。此代码在 jboss4.2.2 中工作，但迁移 jboss7.1.1 时出现异常是“无法访问资源数据流”

示例代码：

```
private String runSmooksTransform(Object inputJavaObject)
        throws IOException, SAXException {
              Smooks smooks = new Smooks("/WEB-INF/smooks-config.xml");
            try {
        ExecutionContext executionContext = smooks.createExecutionContext();
        StringWriter writer = new StringWriter();

        smooks.filterSource(executionContext,
                new org.milyn.payload.JavaSource(inputJavaObject),
                new StreamResult(writer));

        return writer.toString();
        } finally {
        smooks.close();
         }
         } 
```

smooks-config.xml

```
<?xml version="1.0"?>
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.0.xsd" >

    <resource-config selector="global-parameters">
        <param name="stream.filter.type">SAX</param>
    </resource-config>

</smooks-resource-list> 
```

模块.xml

```
<module xmlns="urn:jboss:module:1.1" name="org.milyn">
  <resources>
    <resource-root path="milyn-smooks-all-1.4.jar"/>
</resources>

 <dependencies>
   <module name="javax.api"/>
  <module name="org.apache.commons.logging" />
  <module name="org.jaxen" />
   <module  name="org.hibernate" slot="3" />

  </dependencies>
</module> 
```

例外 ：

```
 java.io.IOException: Failed to access data stream for resource [/WEB-INF/smooks-config.xml]. Tried (in order):
10:10:14,113 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   File System: E:\WEB-INF\smooks-config.xml
10:10:14,114 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   File System: E:\jboss-as-7.1.1.Final\bin\WEB-INF\smooks-config.xml
10:10:14,117 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   Classpath: /WEB-INF/smooks-config.xml
10:10:14,125 ERROR [stderr] (http-localhost-127.0.0.1-8080-2) 

10:10:14,126 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.milyn.resource.URIResourceLocator.getResource(URIResourceLocator.java:130)

10:10:14,128 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.milyn.resource.URIResourceLocator.getResource(URIResourceLocator.java:84)

10:10:14,129 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.milyn.Smooks.addConfigurations(Smooks.java:307)

10:10:14,131 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.milyn.Smooks.<init>(Smooks.java:151)

10:10:14,133 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at com.manam.mobee.customer.MobeeCustomerHome.runSmooksTransform(MobeeCustomerHome.java:644) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T16:22:00.293

我对 smooks 了解不多，但我猜它正在使用它的类加载器来尝试在您发送它的路径上查找资源。由于您在模块中有 smooks，因此它使用的是自己的模块`ModuleClassLoader`，因此无法查看部署的类加载器中的内容。你最好使用`java.io.InputStream`构造函数。

如果您从 servlet 运行它，则可以使用`javax.servlet.ServerContext.getResourceAsStream("WEB-INF/smokes-config.xml")`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-24T09:55:08.970

您需要将这部分中的相对路径更改`Smooks smooks = new Smooks("/WEB-INF/smooks-config.xml")`为绝对路径:)

# java - 将值添加到 DynamicTimeSeriesCollection 中的指定系列

> ID：15517509
> 
> 赞同：3
> 
> 时间：2013-03-20T07:16:49.230
> 
> 标签：java, jfreechart

该程序将每秒接收数据并将它们绘制在时间序列图表上。但是，一旦我创建了两个系列，我就无法为其添加新的价值。它只显示一条直线。

![在此处输入图像描述](../Images/70bd0a3dcfae92f3516fd2aa8cfb2d49.png)

如何将数据附加到指定的系列？即`YYY`。基于这个[例子](https://stackoverflow.com/a/5048863/230513)，这就是我正在做的事情：

```
...
    // Data set.
    final DynamicTimeSeriesCollection dataset =
        new DynamicTimeSeriesCollection( 2, COUNT, new Second() );
    dataset.setTimeBase( new Second( 0, 0, 0, 1, 1, 2011 ) );

    dataset.addSeries( gaussianData(), 0, "XXX" );
    dataset.addSeries( gaussianData(), 1, "YYY" );

    // Chart.
    JFreeChart    chart = createChart( dataset );
    this.add( new ChartPanel( chart ), BorderLayout.CENTER );

    // Timer.
    timer = new Timer( 1000, new ActionListener() {
        @Override
        public void actionPerformed ( ActionEvent e ) {
            dataset.advanceTime();
            dataset.appendData( new float[] { randomValue() } );
        }
    } );
...

private JFreeChart createChart ( final XYDataset dataset ) {
    final JFreeChart result = ChartFactory.createTimeSeriesChart(
        TITLE, "", "", dataset, true, true, false );
    final XYPlot     plot   = result.getXYPlot();
    ValueAxis        domain = plot.getDomainAxis();
    domain.setAutoRange( true );

    ValueAxis range = plot.getRangeAxis();
    range.setRange( -MINMAX, MINMAX );
    return result;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T11:14:29.450

假设您从[这里开始，您已经指定了](https://stackoverflow.com/a/5048863/230513)*一个*包含两个系列的数据集，但您只在`Timer`. 每个刻度需要两个值。以下是我如何修改原件以获得下图：

```
final DynamicTimeSeriesCollection dataset =
    new DynamicTimeSeriesCollection(2, COUNT, new Second());
...
dataset.addSeries(gaussianData(), 0, "Human");
dataset.addSeries(gaussianData(), 1, "Alien");
...
timer = new Timer(FAST, new ActionListener() {

    // two values appended with each tick
    float[] newData = new float[2];

    @Override
    public void actionPerformed(ActionEvent e) {
        newData[0] = randomValue();
        newData[1] = randomValue();
        dataset.advanceTime();
        dataset.appendData(newData);
    }
}); 
```

![图片](../Images/0d9a3b3ddaa30f2b21c371049aff3323.png)

# android - 如何从 android 的列表视图中选择特定项目？

> ID：15517510
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:16:56.423
> 
> 标签：android, web-services, listview

我有一个列表视图。它通过使用它包含来自网络服务的一些数据。

我的需要是，如果我单击该列表视图中的任何项目，它想要显示来自 Web 服务的数据。我要为此编写任何循环代码吗？如果是这样怎么办？请举例。这该怎么做？

**日志猫**

```
03-20 13:09:07.187: W/KeyCharacterMap(275): No keyboard for id 0
03-20 13:09:07.187: W/KeyCharacterMap(275): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
03-20 13:09:13.116: I/System.out(275): Transparent  17170445
03-20 13:09:13.136: W/System.err(275): org.json.JSONException: Value Login of type java.lang.String cannot be converted to JSONArray
03-20 13:09:13.136: W/System.err(275):  at org.json.JSON.typeMismatch(JSON.java:107)
03-20 13:09:13.136: W/System.err(275):  at org.json.JSONArray.<init>(JSONArray.java:91)
03-20 13:09:13.136: W/System.err(275):  at org.json.JSONArray.<init>(JSONArray.java:103)
03-20 13:09:13.136: W/System.err(275):  at  com.example.png.StationsListActivity.callService(StationsListActivity.java:115)
03-20 13:09:13.136: W/System.err(275):  at com.example.png.StationsListActivity$4.run(StationsListActivity.java:103)
03-20 13:09:13.196: D/AndroidRuntime(275): Shutting down VM
03-20 13:09:13.196: W/dalvikvm(275): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
03-20 13:09:13.206: E/AndroidRuntime(275): FATAL EXCEPTION: main
03-2 0 13:09:13.206: E/AndroidRuntime(275): java.lang.NullPointerException
03-20 13:09:13.206: E/AndroidRuntime(275):  at com.example.png.StationsListActivity$1.handleMessage(StationsListActivity.java:43)
03-20 13:09:13.206: E/AndroidRuntime(275):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-20 13:09:13.206: E/AndroidRuntime(275):  at android.os.Looper.loop(Looper.java:123)
03-20 13:09:13.206: E/AndroidRuntime(275):  at android.app.ActivityThread.main(ActivityThread.java:4627)
03-20 13:09:13.206: E/AndroidRuntime(275):  at java.lang.reflect.Method.invokeNative(Native Method)
03-20 13:09:13.206: E/AndroidRuntime(275):  at java.lang.reflect.Method.invoke(Method.java:521)
03-20 13:09:13.206: E/AndroidRuntime(275):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
03-20 13:09:13.206: E/AndroidRuntime(275):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
03-20 13:09:13.206: E/AndroidRuntime(275):  at dalvik.system.NativeStart.main(Native Method) 
```

**StationsListActivity.java**

```
public class StationsListActivity extends Activity {

TextView txt;
String res_data;

Button btn_info;
ListView listView;

ProgressDialog progressDialog;
List<Stations> list;

Handler handler =new Handler()
{
    public void handleMessage(android.os.Message msg) 
    {
        if(progressDialog.isShowing())
        {
        progressDialog.cancel();
        if(list.size() > 0)
        {
        listView.setAdapter(new StationAdapter(StationsListActivity.this, android.R.id.text1,list));    
        }
        else
        {
        Toast.makeText(StationsListActivity.this, "List is Empty",Toast.LENGTH_LONG).show();    
        }
        }
    }
};

@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.stations_list_layout);

    listView = (ListView)findViewById(R.id.listView_stations);

    Bundle extras=getIntent().getExtras();

    if(extras!=null)
    {
        res_data =extras.getString("transfered_data");
    }

    System.out.println("Transparent  "+android.R.color.transparent);
    listView = (ListView) findViewById(R.id.listView_stations);

    btn_info = (Button)findViewById(R.id.btn_info);
    progressDialog = new ProgressDialog(StationsListActivity.this);
    progressDialog.setTitle("Loading");
    progressDialog.setMessage("Please Wait");
    btn_info.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {
        Intent intnt = new Intent(StationsListActivity.this , InformationsActivity.class);
        startActivity(intnt);           
        }
    });
    Thread thread =new Thread()
    {
        @Override
        public void run() {
            // TODO Auto-generated method stub
            callService();
            handler.sendEmptyMessage(0);
        }
    };
    thread.start();
    progressDialog.show();
}

public void callService() {
    // TODO Auto-generated method stub
    try {
    JSONArray array = new JSONArray(String.valueOf(res_data).replace("verifyUserResponse{return=", "").replace("; }", ""));
    list = new ArrayList<Stations>();
    for (int i = 0; i < array.length(); i++) 
    {
        System.out.println(array.getJSONObject(i).get("1")+" == "+array.getJSONObject(i).get("0"));;
        Stations stations =new Stations();
        stations.station_code = (String) array.getJSONObject(i).get("0");
        stations.station_name = (String) array.getJSONObject(i).get("1");
        list.add(stations);
        stations = null;
        }
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
        }
    }
} 
```

**StationAdaper.java**

```
public class StationAdapter extends ArrayAdapter<Stations> {

Context context;
List<Stations> list;

public StationAdapter(Context context, int textViewResourceId,
        List<Stations> objects) {
    super(context, textViewResourceId, objects);
    this.context = context ; 
    this.list = objects ;
    // TODO Auto-generated constructor stub
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    // TODO Auto-generated method stub
    LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View view = inflater.inflate(R.layout.station_child, null);

    TextView name = (TextView) view.findViewById(R.id.textView_single_item);
    ImageView img = (ImageView)view.findViewById(R.id.imageView1);

    Stations stations =list.get(position);
    name.setText(stations.station_name);
    return view;

}} 
```

**Stations.java** 公共类 Stations {

```
public String station_name ="";
public String station_code ="";

} 
```

**station_child.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="horizontal">

<RelativeLayout

    android:layout_width="fill_parent"
    android:layout_height="55dp" >

    <TextView
        android:id="@+id/textView_single_item"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10dp"
        android:layout_alignParentLeft="true"
        android:layout_centerVertical="true"
        android:inputType="text"
        android:textColor="#ffffff"
        android:textStyle="normal"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:layout_marginRight="10dp"
        android:background="@drawable/arrow"/>

</RelativeLayout></LinearLayout> 
```

建议请感谢您的宝贵时间！..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:25:59.543

在您的 OnCreate 中包含此代码

```
 // listening to single list item on click
    listview.setOnItemClickListener(new OnItemClickListener() {
      public void onItemClick(AdapterView<?> parent, View view,
          int position, long id) {

          // selected item
          String nameOfStation = ((TextView)view.findViewById(R.id.textView_single_item)).getText().toString();

      }
    }); 
```

## LogCat 之后更新

你得到的是一个`JSONException`与你的听众无关的东西。请更换

```
 JSONArray array = new JSONArray(String.valueOf(res_data).replace("verifyUserResponse{return=", "").replace("; }", "")); 
```

到：

```
 JSONArray array = new JSONArray(res_data); 
```

这将解决异常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:28:15.760

如果您对如何从选定项目中获取文本感到困惑，那么您应该使用`listview.setOnItemClickListener`，

如果您以前没有过，您应该通过这个示例。

[http://developer.android.com/resources/tutorials/views/hello-listview.html](http://developer.android.com/resources/tutorials/views/hello-listview.html)

# c# - CompiledCode.Execute 在第一次迭代期间需要很长时间

> ID：15517511
> 
> 赞同：2
> 
> 时间：2013-03-20T07:16:58.150
> 
> 标签：c#, mono, ironpython

我在 ac# 应用程序中嵌入了小脚本。
为了提高性能，我在应用程序启动时编译它们。

```
public CompiledCode CompileScript(string script)
{
    return engine.CreateScriptSourceFromString(script).Compile();
} 
```

然后将 CompiledCode 实例存储在 Dictionary 中，以便我以后可以重用它们。

当执行它们的时候到了，我使用类似的东西：

```
result = code.Execute(scope); 
```

`ScriptScope`其中 scope 是由一个简单的帮助类维护的一个实例。
该范围是在创建助手实例时设置的，以便正确添加脚本可用的变量和程序集：

```
if (variables != null)
{
    scope = engine.CreateScope(variables);
}
else
{
    scope = engine.CreateScope();
} 
```

```
if (assemblies != null)
{                
    assemblies.ForEach(a => scope.Engine.Runtime.LoadAssembly(a));
} 
```

基本上，程序集列表被传递给辅助类的构造函数，并且我在不同的地方重用了辅助类的实例。（不是静态类，因为我确实需要针对特定​​场景的多个帮助程序实例，但在这个问题的上下文中，我们谈论的是单个实例）

在普通 PC 上使用它时，编译/运行代码的开销可以忽略不计。
但是，我在 a 上运行它`RaspberryPI`并注意到第一次执行特定脚本时，需要很长时间。（对于 2 行脚本，最长可达 40 秒）

相同`CompiledCode`实例的后续执行执行得非常快（200 毫秒）。

所以我有已经编译过的代码（奇怪的是第一次编译也非常快），但是在给定`CompiledCode`实例上第一次调用 Execute() 需要很长时间。

现在我想知道，它`Execute()`第一次做什么，有没有办法在不实际执行代码的情况下执行它在早期所做的任何事情？在编译和实际运行代码之间似乎还有一个额外的步骤。

我在想这可能与我重用由
助手类定义的范围有关，但当然，如果我只是在执行时使用默认范围，
我就没有任何变量和程序集引用。

**更新：**

> 在 RaspberryPI 上运行它意味着我正在使用 Mono。
> 更具体地说，Mono 2.10.8.1 (Debian 2.10.8.1-8)
> 我无法更新 Mono，因为我依赖于 MonoGame 的一个非常具体的版本，在撰写本文时
> 它只能与 Mono 的这个确切版本一起使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T19:41:31.910

冒昧地猜测一下，我想说的是 IronPython 程序集正在被 JITted 处理。唯一的问题是还有其他调用 IronPython 的代码路径，我不知道 Mono 的 JIT 是否适用于程序集级别或类型/方法级别。您可以尝试对 IronPython 和 DLR 程序集进行 AOT，看看是否有帮助。

# visual-c++ - 如何在 mfc 中调用函数...？

> ID：15517513
> 
> 赞同：0
> 
> 时间：2013-03-20T07:17:18.680
> 
> 标签：visual-c++, mfc, mfc-feature-pack

我是 MFC 编程的新手。我在基于对话框的应用程序中使用 vs 2008。我想在按钮单击事件上调用波纹管功能...？当我像 SortList(listboxone); 给出未找到 SortList 的错误...！请帮我..！！

```
void SortList(CListBox& templistbox)
{   
    DWORD_PTR abc;
    int a=templistbox.GetCurSel();// Select current  Item Index    
    if(a<templistbox.GetCount()-1)
    {
        abc = (DWORD_PTR )templistbox.GetItemData(a);
        a++;
        templistbox.SetItemData(a,(DWORD_PTR) templistbox.GetItemData(templistbox.GetCurSel()));
    }
} 
```

抱歉，现在我将功能更改为如上，但仍然给出相同的错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:49:37.473

您可能正在调用函数定义**上方**的函数。在 C/C++ 中，您需要在调用函数**之前**定义函数（或至少是*原型*） 。把这个：

 **```
void SortList(CListBox& templistbox); 
```

在源文件的顶部。**

# debian - 如何从文本文件中删除组分隔符

> ID：15517519
> 
> 赞同：0
> 
> 时间：2013-03-20T07:17:39.210
> 
> 标签：debian, tr, control-characters, xxd

我有一个在 Windows PC 上创建的文本文件，然后我在 debian 机器上打开它。我在 nano 中打开它，在底部显示（从 DOS 格式转换）。

当我从文件中取出一行并使用以下方法查看它的二进制表示时：

```
head -n1 filename.txt | xxd -b 
```

它显示两个 00001101 字符已添加到该行。我正在尝试使用 tr 删除它们，如下所示：

```
head -n1 filename.txt | tr -d "^]" | xxd -b 
```

但这似乎不起作用。

知道如何解决这个问题吗？要创建 ^] 我正在做 shift + ^ 然后 ] 我需要做其他事情来生成组分隔符控制字符吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:26:20.733

使用实用程序，如果您快速搜索`dos2unix`，还有很多`sed`/ `perl`/ /其他解决方案。`awk`如果这个问题在这个网站上没有回答几次，我会感到惊讶。

# matlab - Matlab中的后缀树

> ID：15517520
> 
> 赞同：0
> 
> 时间：2013-03-20T07:17:43.240
> 
> 标签：matlab, string-matching, suffix-tree

我在文本 T 中找到最长的子字符串，因此它是字符串 S 的前缀。我使用后缀树制作了算法，它提供了不太复杂的解决方案，但由于 Matlab 不使用指针或任何其他引用，我被困在执行。

有人可以建议一些解决方案或一些替代方法来解决这个问题，可能在 Matlab 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:41:38.823

以下是在 Matlab 中使用“指针”的一些建议：

*   您可以简单地使用元胞数组索引作为指针来引用元胞数组元素。这可能是最简单的方法。
*   您可以使用[Handle Class](http://www.mathworks.co.uk/help/matlab/handle-classes.html)创建可以保存引用的类。从软件工程的角度来看，涉及更多但非常好。
*   作为较少的 Matlaby 解决方案，您可以用 C 编写算法并使用 mex 在 Matlab 和您的算法之间进行接口。

# android - 移动设备中的Android opencv相机旋转问题

> ID：15517525
> 
> 赞同：1
> 
> 时间：2013-03-20T07:18:07.353
> 
> 标签：android, opencv, camera

我为 800 * 480 屏幕分辨率的特定平板设备开发了一个 android 应用程序。项目目标是捕获图像（使用人脸检测）。为此，我使用 opencv2.4.2 sdk 来捕获图像（使用 opencv 人脸检测示例）。在该设备中，右下角的相机可用。所以我用反向肖像模式捕捉图像（使用转置图像）。

```
The code snippet is below:
    @Override
    protected Bitmap processFrame(VideoCapture capture) {
        FdActivity.mSquaredImage = 0;
        resolution = 0;
        capture.retrieve(mRgba, Highgui.CV_CAP_ANDROID_COLOR_FRAME_RGBA);
        capture.retrieve(mGray, Highgui.CV_CAP_ANDROID_GREY_FRAME);        
        Core.transpose(mRgba, mRgba);
        Core.transpose(mRgba, mGray);
        .....
        .....
        return bmp;
    } 
```

它在安卓平板电脑上运行良好。

现在我想在移动设备上使用我的应用程序。所以我用 SAMSUNG GALAXY S II 对其进行了测试。

我有一个问题。

```
The following code is to open the camera.
    The code snippet is below:
    public boolean openCamera() {
        Log.i(TAG, "openCamera");
        synchronized (this) {
            releaseCamera();
            mCamera = new VideoCapture(Highgui.CV_CAP_ANDROID);
            if (!mCamera.isOpened()) {
                mCamera.release();
                mCamera = null;
                Log.e(TAG, "Failed to open native camera");
                return false;
            }
        }
        return true;
    } 
```

此代码在平板电脑中打开前置摄像头。但在 SAMSUNG GALAXY S II 中，它打开了后置摄像头。为此，我在 opencv.org 论坛中进行了搜索，得到了以下解决方案，

```
 mCamera = new VideoCapture(Highgui.CV_CAP_ANDROID+1); 
```

现在它打开了 SAMSUNG GALAXY S II 的前置摄像头。但在平板电脑中，我收到**“无法打开相机”**错误。可能是什么问题。我用 HTC 渴望 android 设备进行了测试。但它只显示黑屏（相机未打开）。

**新的要求是用户拿着相机的位置在设备的顶部。如果他们旋转设备，屏幕和图像不应该旋转**。

这是非常紧急的。请问有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-21T16:15:39.317

Android 设备可以有多个摄像头（正面或背面）。处理这种情况的最佳方法是首先检查摄像头的数量和它们的朝向，而不是使用固定的摄像头 ID。例如，如果您正在寻找前置摄像头，您可以使用以下内容：

```
Camera.CameraInfo cameraInfo = new Camera.CameraInfo();
int cameraCount = Camera.getNumberOfCameras();
for (int camIdx = 0; camIdx < cameraCount; camIdx++) 
{
  Camera.getCameraInfo(camIdx, cameraInfo);
  if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) 
  {
    mCamera = new VideoCapture(Highgui.CV_CAP_ANDROID+camIdx);
    break;
  }
} 
```

# odata - 带有 OData 的 url 中的撇号问题

> ID：15517529
> 
> 赞同：1
> 
> 时间：2013-03-20T07:18:32.323
> 
> 标签：odata, apostrophe

我正在使用`oData protocol`在 url 中添加过滤条件

例如`/api/restaurants/getall?$filter=substringof('macdonald',Name)`

我的问题是当值有撇号（如`macdonald's`）时，它会破坏 url

`%26`如果我用like替换它，它工作正常，`macdonald%26`但通过添加`s`( `macdonald%26s`) url 将不起作用

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T09:11:11.663

当在带引号的字符串中时，可以通过加倍来转义单引号。因此，在您的情况下，它看起来像“麦当劳”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-25T20:20:56.660

我看到这是一篇旧帖子，但我会指出 substringof 表达式中的参数已切换。

[https://help.nintex.com/en-us/insight/OData/HE_CON_ODATAQueryCheatSheet.htm](https://help.nintex.com/en-us/insight/OData/HE_CON_ODATAQueryCheatSheet.htm)

这不包括撇号（单引号）问题。

# twitter - 使用用户名和密码进行 Twitter 集成

> ID：15517539
> 
> 赞同：0
> 
> 时间：2013-03-20T07:19:38.583
> 
> 标签：twitter, twitter4j

我正在尝试使用 Twitter4J JAR 将 Twitter 集成到我的应用程序中。但这需要消费者密钥、秘密密钥、访问令牌。

是否可以仅使用用户名和密码进行集成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:27:25.710

Twitter 4J API 不支持用户名和密码。

请阅读以下配置步骤以获取更多信息：

[http://twitter4j.org/en/configuration.html](http://twitter4j.org/en/configuration.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:21:11.643

您需要消费者密钥、秘密密钥和访问令牌才能使用 Twitter API

# java - 如何查询在 Parse 中设置为指向其他表的指针的列的值

> ID：15517541
> 
> 赞同：10
> 
> 时间：2013-03-20T07:19:52.073
> 
> 标签：java, android, parsing, parse-platform

我正在为我的应用程序使用[Parse](http://parse.com)。我想查询一个表，其列设置为指向其他表的指针。这是查询：

```
ParseQuery query = new ParseQuery("CategoryAttribute");
        query.whereEqualTo("categoryId", categoryId);
        query.findInBackground(new FindCallback() {
            @Override
            public void done(List<ParseObject> categoryAttributes, ParseException e) {
                if (e == null) {
                    for (int i = 0; i < categoryAttributes.size(); i++){
                        String atributeCategoryId = categoryAttributes.get(i).getString("categoryId");
                        String attributeKey  = categoryAttributes.get(i).getString("attributeKey");
                        String attributeValue   = categoryAttributes.get(i).getString("attributeValue");

                        setCategoryAtributeRow(atributeCategoryId, attributeKey, attributeValue);
                    }
                } else {
                    Log.d("score", "Error: " + e.getMessage());
                }
            }
        }); 
```

所以该`categoryId`列是指向其他表的指针。其他列工作正常。我试图扫描 API 和指南，但找不到所需的解决方案。帮助将不胜感激！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-06-06T06:07:35.023

这是解决此问题的方法：

首先，您需要`ParseObject`从表的类型创建一个：

```
ParseObject sale = ParseObject.createParseObject("Sale"); 
```

然后你需要`ParseObject`从结果中得到：

```
sale = result.getParseObject(pointer_field); 
```

现在您可以像往常一样从它拥有的任何字段中提取数据`sale`，例如：

```
sale.getString("some_field") 
```

**注意：** 当您进行查询时，如果您希望能够在查询返回后从中提取数据，则必须包含指针字段。结果：

```
query.include("pointer_field") 
```

希望能帮助到你

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-03-04T19:08:12.267

@Akshat Agarwal，这是 JavaScript 中的一个示例：

```
var parseObj = Parse.Object.extend('parseObj');

new Parse.Query(parseObj)
  .include('pointerField')
  .find(function (data) {
    data.get('pointerField').get('fieldName');
  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-29T12:01:04.157

对于 iOS

```
 PFQuery *parseQuery = [PFQuery queryWithClassName:@"MyClass"];
  [parseQuery whereKey:@"categoryId" equalTo:categoryId];
  [parseQuery includeKey:@"pinter_field"];
  [parseQuery findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {
  //
  }]; 
```

# dependency-injection - Google Guice - 如何将参数传递给第三方库工厂类

> ID：15517545
> 
> 赞同：1
> 
> 时间：2013-03-20T07:20:04.260
> 
> 标签：dependency-injection, guice

我正在尝试从 Spring 迁移到 Guice 以进行依赖注入。这是来自 Spring xml 配置的示例片段：

```
<bean id="connectionFactory" class="org.somethirdparty.MyConnectionFactory">
  <property name="connectionUrl" value="${urls.connectionUrl}"/>
  <property name="ackMode" value="unordered"/>
  <property name="timeout" ref="timeoutBean"/>
</bean>

<bean id="timeoutBean" class="java.lang.Integer">
  <constructor-arg value="10000"/>
</bean> 
```

我正在努力弄清楚如何使用 Google Guice 参数化 MyConnectionFactory。我无法注释“MyConnectionFactory”的构造函数或方法，因为这是由第 3 方库提供的类。

在阅读了[Guice FAQ](https://code.google.com/p/google-guice/wiki/FrequentlyAskedQuestions)之后，在我看来唯一的选择就是为工厂建一个工厂？这对我来说似乎很愚蠢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T02:53:06.490

您可能需要为 MyConnectionFactory 创建一个工厂，但前提是您确实需要在运行时更改传递给 MyConnectionFactory 的参数。否则，你可以制作一个`Provider`——我猜这毕竟是一个工厂——或者它更苗条[的表亲 @Provides 方法](https://code.google.com/p/google-guice/wiki/ProvidesMethods)。（我猜有问题的类采用非特定或原始参数，否则 a[`toConstructor binding`](https://code.google.com/p/google-guice/wiki/ToConstructorBindings)是另一种可能性。）

工厂看起来像这样：

```
public class MyConnectionFactoryFactory {
  @Inject Provider<SomeDependency> someDependencyProvider;

  public MyConnectionFactory create(String url) {
    return new MyConnectionFactory(someDependencyProvider.get(), url, 10000);
  }
} 
```

Provider 看起来是一样的，除了它会实现`Provider<MyConnectionFactory>`，`create`而是一个 zero-arg `get()`。您可以通过`bind(MyConnectionFactory.class).toProvider(MyConnectionFactoryProvider.class)`.

但是，如果您在配置时知道所有构造函数参数，则同样可以`@Provides`在模块中创建一个方法，如下所示：

```
public class MyModule extends AbstractModule {
  @Override public void configure() { /* your configuration here */ }

  /* FYI: a @Provides method by any other name would return as sweet */
  @Provides MyConnectionFactory getConnectionFactory(SomeDependency dependency) {
    return new MyConnectionFactory(dependency, url, 10000);
  }
} 
```

...它将您的“包装代码”样板带到三个额外的非空白行。请记住，Guice 会自动为您自动绑定 、 或 的任何组合，因此您`X`可以随意绑定它，但最方便。`Provider<X>``@Provides X``X``Provider<X>`

# php - ctypevalidator 整数验证数组

> ID：15517546
> 
> 赞同：0
> 
> 时间：2013-03-20T07:20:07.163
> 
> 标签：php, yii

如何验证模型类中的整数数组？

**模型类**

> array('marks_Mark','CTypeValidator','type'=>'array')

标记_标记是一个数组。

**看法**

> echo $form->textField($model,'marks_Mark[]',array('value'=>$value->marks_Mark,'size'=>10,'maxlength'=>3));

接下来如何进行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:48:28.187

这将不起作用，因为您将始终`string`从您的`textField`. 我想，您想让用户输入类似的`1, 2, 3`内容，然后检查这些值中的每一个是否都是整数，对吗？

您可以使用常规文本字段，例如：

```
<?php echo $form->textField($model, 'marks') ?> 
```

然后编写一个自定义验证器：

```
array('marks', 'validateIntegerList')

public function validateIntegerList($attribute, $params)
{
    $message = isset($params['message']) ? 
        $params['message'] : 'Please only enter integers!';

    $value = $this->$attribute;

    // User entered single number -> OK
    if(ctype_digit(trim($value)) && strpos($value, ',')===false)
        return;

    // User entered list of numbers -> Check each
    foreach( explode(',', $this->$attribute) as $value) {
        if(!ctype_digit(trim($value))) {
            $this->addError($attribute, $message);
            return;
        }
    }
 } 
```

您可能需要稍微调整验证逻辑。但它应该给你一些想法。

# php - 我需要在 php 的两个修订之间输出 svn_deff

> ID：15517548
> 
> 赞同：5
> 
> 时间：2013-03-20T07:20:28.437
> 
> 标签：php, svn

我尝试`svn diff -r BEGIN_REVISION:END_REVISION` 在终端中使用它，我得到了结果，但我需要一个 php 中的解决方案。我试过这段代码

```
$svn_blame_array=exec("svn diff -r 125:126 --username abc --password abc753 ",$ret); 
print_r ( $ret ); 
```

在 php.ini 中。发生以下错误，

```
"You can avoid future appearances of this warning by setting the value of the 'store-plaintext-passwords' option to either 'yes' or 'no' in /var/www/.subversion/servers.
Store password unencrypted (yes/no)? svn: Can't read stdin: End of file found" 
```

谁能帮我 ？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T08:17:07.590

出现此错误，因为该`svn`命令是以运行 webserver 进程（通常称为`www-data`）的用户身份运行的。默认情况下，subversion 将尝试将身份验证数据缓存到`~/.subversion`用户的目录中（`/var/www`用于您机器上的 webserver 用户）。

如果您不希望这样，您可以尝试将`--no-auth-cache`选项添加到您的命令中。

您可能还想添加`--non-interactive`.

# c++ - 用于比较 C++ 头文件与其基文件的开源实用程序

> ID：15517550
> 
> 赞同：2
> 
> 时间：2013-03-20T07:20:34.447
> 
> 标签：c++

我需要将 C++ 头文件与同一文件的基本版本进行比较，并检查文件是否已修改。我需要特别了解一下，函数 xxxx 的原型已经修改。

有人知道有关此功能的任何开源工具的信息吗？

如果我给两个 .h 文件（一个是用于比较的基本文件，另一个是当前版本）作为输入，那么我需要得到一份报告，其中包含在当前版本中更改的所有函数原型、数据类型

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:26:37.780

1.  您可以使用`Beyond Compare`这是商业但 30 天试用版。
2.  您可以将[比较插件](http://sourceforge.net/projects/npp-compare/)与 notepad++ 一起使用。
3.  如果你使用`TortoiseSVN`client 有一个选项`Diff with previous version`。

如果您需要更多详细信息，请阅读[本文](http://smashinghub.com/10-best-file-and-documents-comparison-tools.htm)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:26:53.977

听起来您正在寻找[版本控制](http://en.wikipedia.org/wiki/Revision_control)。[Subversion](http://subversion.apache.org/)和[Git](http://git-scm.com/)都非常适合您的需求。

[`git diff`](http://learn.github.com/p/diff.html)将向您展示提交引入的差异。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:26:22.410

也许您的问题甚至不是特定于语言的。据我了解，您可能需要这样的[工具](http://winmerge.org/)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:51:30.417

我没有尝试过，但[CodeCompare](http://www.devart.com/codecompare/)声称是一个旨在比较代码的差异工具，而不仅仅是文本。
有一个免费版本，但我认为您可以尝试几天的完整版本。

# android - 蓝牙设备触发的Android和Iphone应用功能

> ID：15517552
> 
> 赞同：0
> 
> 时间：2013-03-20T07:20:34.840
> 
> 标签：android, iphone, bluetooth

我们正处于规划阶段，我们的最终目标是让手持蓝牙设备在我们的应用程序中触发功能。蓝牙设备是否可以发送更多的信号而不仅仅是音量上升或下降，或者我们的应用程序是否可以简单地拦截标准触发器，例如音量上升（如果从特定蓝牙设备发送并使用该信号来触发我们应用程序的功能。）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:33:24.030

iOS 中有一个名为**CoreBluetooth的框架可用于与蓝牙设备进行通信。**但是这个框架的基本要求是你应该有蓝牙 4.0 即支持 BLE 的设备。如果这对您有帮助，请检查此项。你第二个问题的答案是你不能在你的应用程序中拦截标准触发器，比如音量按钮事件。因为这使用了 apple 的私有 api。Apple 不允许您使用私有 api 访问硬件元素。如果您以任何方式实现这一点，那么您的申请也不会被苹果批准。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T16:36:59.843

您只能使用适用于 iOS 的 CoreBluetooth 触发 iOS 允许您执行的操作。对于 android，您必须将您的应用程序与您自己的库捆绑在一起，该库专为该手机的芯片和 Android 版本而设计。目前对运行最新版本 Android 的三星设备的支持最少。

# ruby - 枚举器跳过元素。无法弄清楚为什么

> ID：15517557
> 
> 赞同：0
> 
> 时间：2013-03-20T07:20:51.137
> 
> 标签：ruby, arrays, ruby-on-rails-3, enums

我遇到了这个奇怪的错误，其中 Enumerator 跳过了中间元素对象。一直在为此绞尽脑汁。[http://pastie.org/6636093](http://pastie.org/6636093)

```
@job.data['dj_ids'] = [1,2,3]
dj_ids = @job.data['dj_ids'] # => [1,2,3]

dj_ids.each do |t|
  puts t
  @job.data['dj_ids'].delete(t)
end

# Output:
# 1
# 3

# @job.data['dj_ids'] => [2] 
```

它是如此奇怪，以至于 [2] 甚至从未被调用，因此没有被删除。我似乎无法弄清楚可能是什么原因。

核磁共振红宝石 1.9.3。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:25:52.430

当你打电话时`dj_ids = @job.data['dj_ids']` `dj_ids`只是一个参考，所以当你`@job.data['dj_ids'].delete(t)`删除和元素时，你会`dj_ids[1]`变成 3

你`dj_ids = @job.data['dj_ids'].dup`可以避免这种情况

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:26:39.170

这是因为 dj_ids 和 @job.data['dj_ids'] 都指向同一个对象。所以你同时迭代和删除。

您可以将第二行更改为 dj_ids = @job.data['dj_ids'].clone 或 dj_ids = @job.data['dj_ids'].dup 它应该可以工作

# iphone - ARC中的自我分配或下划线分配？

> ID：15517567
> 
> 赞同：0
> 
> 时间：2013-03-20T07:21:16.167
> 
> 标签：iphone, objective-c, memory-management

假设我有一个使用强属性定义的 customView。

```
@property (nonatomic, strong) UIView *customView; 
```

分配和初始化 customView 的最佳实践是什么？

`self.customView = [[UIView alloc] initWithFrame......`

或者

`_customView = [[UIView alloc] initWithFrame...`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:25:54.733

方法 :: 默认情况下，当您合成 getter 和 setter 访问器方法时，假定属性和 ivar 具有相同的名称。

乍一看，这可能会使您在使用 getter/setter 方法以及何时直接访问 ivar 时感到困惑。

另一种方法是将 ivar 命名为与属性不同的名称。一种常见的方法是使用下划线作为 ivars 名称的前缀。

你可以参考这个链接：[Understanding Your (Objective-C) Self](http://useyourloaf.com/blog/2011/02/08/understanding-your-objective-c-self.html)

谢谢。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:27:12.940

由你决定。如果您不想再考虑它，您可以走“始终使用 getter 和 setter”的路线。或者，如果您不想浪费消息调用和`self.`（像我一样）乱扔代码，您可以选择“使用实例变量，除非我*需要*使用 getter/setter”路线。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:23:50.543

最好的方法是

```
self.customView = [[UIView alloc] initWithFrame...... 
```

因为 customView 的 getter 和 setter 只有在我们使用 self 的变量时才会被激活。否则，不需要声明该变量的属性。

# clojure - 测试日期时间对象或如何在代码中使用阅读器表单

> ID：15517570
> 
> 赞同：1
> 
> 时间：2013-03-20T07:21:29.393
> 
> 标签：clojure

我有以下 midje 代码 -

`(fact "Parsing the date received from github" (parse-date "2013-02-20T17:24:33Z") => #<DateTime 2013-02-20T17:24:33.000Z>)`

我正在尝试测试一个函数，该函数在给定字符串时返回一个日期时间对象（使用 clj-time 库的 joda 时间）。

如何`#<DateTime 2013-02-20T17:24:33.000Z>`在代码中表示日期时间对象，使其不会引发错误 `java.lang.RuntimeException: Unreadable form, compiling:(mashup/github.clj:11)`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:50:34.007

clj-time 对此有构造函数：

```
user> (use 'clj-time.core)
nil
user> (date-time 2013 02 20 17 24 33)
#<DateTime 2013-02-20T17:24:33.000Z> 
```

所以你的 midje 事实看起来像：

```
(fact "Parsing the date received from github" (parse-date "2013-02-20T17:24:33Z") 
   => (date-time 2013 02 20 17 24 33)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T08:11:56.020

您可以使用 #inst 阅读器宏：

```
user=> #inst "2013-02-20T17:24:33.000Z"
#inst "2013-02-20T17:24:33.000-00:00" 
```

# django - 模板中的django模型继承和子类访问

> ID：15517573
> 
> 赞同：0
> 
> 时间：2013-03-20T07:21:45.263
> 
> 标签：django, django-models, django-templates

在我看来，我正在研究 Django 中的一些有趣的问题：模型继承及其在模板中的行为。为了清楚起见，我是一个 django 菜鸟，所以这可能根本不是问题，实际上:)

他是我在模型中所拥有的：

## 模型.py

```
class AbstractUserProfile(models.Model):
    user = models.OneToOneField(User,
                                null=False, blank=False,
                                related_name=u'user_link')

    class Meta:
        abstract = True 

class UserProfile(AbstractUserProfile):

    personal_page = models.URLField(null=True, blank=True,
                                    verbose_name=u'personal page url')

    site_url = models.CharField(max_length=100,
                                null=False, blank=False,
                                unique=True,
                                verbose_name=u'web-site url')

    photo = ImageField(upload_to=u'profiles',
                       null=True, blank=True,
                       verbose_name=u'Profile picture') 
```

以及同一个 models.py 文件中的另外两个类：

```
class ProfileTypeOne(UserProfile):
    status = models.TextField(blank=True)

    def get_status(self):
         return mark_safe(self.status)

class ProfileTypeTwo(UserProfile):
    interests = models.TextField(blank=True)

    def get_status(self):
         return mark_safe(self.interests) 
```

在模板中我有一些代码，需要调用**ProfileType**特定的方法，比如

```
.... some html .... {{ user.user_link.get_status }} ... some more html .... 
```

O 确实知道模型继承中自动创建的 OneToOneRelationship，并且我可以通过这种方式访问​​所需的方法：

```
{{ user.user_link.profiletypeone.get_status }} 
```

唯一的问题是，我在模板渲染的某些时候不知道配置文件类型。在不引发 ProfileTypeOne.DoesNotExist 异常的情况下，解决此问题的最佳方法是什么：

1.  将此逻辑转移到视图中并创建一些标志，然后在模板中检查它并访问受尊重的子类？
2.  处理模板中的 DoesNotExist 异常？（不知道怎么做）
3.  在模板中使用这种冗余的低效结构（几乎是变体＃2）：

`{{ user.user_link.profiletypeone.get_status }}{{ user.user_link.profiletypetwo.get_status }}`

我之所以要将此逻辑放入模板中，是因为该模板将被多次扩展，并且此基本逻辑应该在所有模板中，因此迫使我，在将逻辑转移到视图部分的情况下，多次调用某些代码，而不是一个。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:01:22.340

那么我的偏好是在视图中而不是在模板中进行错误处理。有很多方法可以做到这一点，下面是一个简单的例子。

```
###helpers.py
import models

def get_profile1_or_profile2(user):
    profile = get_instance_or_none(models.ProfileTypeOne, user=user)
    if profile is None:
        profile = get_instance_or_none(models.ProfileTypeTwo, user=user)
    return profile

def get_instance_or_none(model, **kwargs):
    try:
        result = model.objects.get(**kwargs)
    except:
        result = None
    return result

###views.py
import helpers

def some_view(request):
    """
    This view renders some template.
    """

    profile = helpers.get_profile1_or_profile2(request.user)
    if profile:
        # Render the template and pass in the profile object
    else:
        # Redirect to 404 or whatever kind of error handling. 
```

然后在你的模板中你可以简单地做`{{ profile.get_status }}`

也如你所说：

> 我之所以要将此逻辑放入模板中，是因为该模板将被多次扩展，并且此基本逻辑应该在所有模板中，因此迫使我，在将逻辑转移到视图部分的情况下，多次调用某些代码，而不是一个。

如何将逻辑转移到视图，多次调用代码。我的意思是这取决于您提出的请求，无论您的代码位于模板还是视图中。这就是请求在这两种情况下的工作方式。

在视图的情况下：

> 提出请求 --> Url 向视图发送请求 --> 代码在此处运行 --> 呈现模板

如果是模板：

> 提出请求 --> Url 向视图发送请求 --> 视图呈现模板 --> 代码在此处运行

# c# - 将超过二十万行的数据表导出到excel

> ID：15517579
> 
> 赞同：0
> 
> 时间：2013-03-20T07:22:05.650
> 
> 标签：c#, asp.net, excel

我正在尝试将数据表导出到我的应用程序中的 excel 中。但我的数据表包含超过 220 万条记录，我只能将 65536 条记录写入 excel。

在google上搜索了很多，才知道2007年以前的版本只能写65536条记录到excel。

如果我们可以将超过 65536 条记录写入 excel，请告诉我

我没有在我的应用程序中使用 microsoft office lib 我使用的是我自己的一个类，它编写了一个表格来 excel

这是我的excel课

公共类 ExcelWrite { 私有流流；私人 BinaryWriter 作家；

```
 private ushort[] clBegin = { 0x0809, 8, 0, 0x10, 0, 0 };
    private ushort[] clEnd = { 0x0A, 00 };

    private void WriteUshortArray(ushort[] value)
    {
        for (int i = 0; i < value.Length; i++)
            writer.Write(value[i]);
    }

    /// <summary>
    /// Initializes a new instance of the <see cref="ExcelWriter"/> class.
    /// </summary>
    /// <param name="stream">The stream.</param>
    public ExcelWrite(Stream stream)
    {
        this.stream = stream;
        writer = new BinaryWriter(stream);
    }
    public ExcelWrite()
    {

    }
    /// <summary>
    /// Writes the text cell value.
    /// </summary>
    /// <param name="row">The row.</param>
    /// <param name="col">The col.</param>
    /// <param name="value">The string value.</param>
    public void WriteCell(int row, int col, string value)
    {
        ushort[] clData = { 0x0204, 0, 0, 0, 0, 0 };
        int iLen = value.Length;
        byte[] plainText = Encoding.ASCII.GetBytes(value);
        clData[1] = (ushort)(8 + iLen);
        clData[2] = (ushort)row;
        clData[3] = (ushort)col;
        clData[5] = (ushort)iLen;
        WriteUshortArray(clData);
        writer.Write(plainText);
    }

    /// <summary>
    /// Writes the integer cell value.
    /// </summary>
    /// <param name="row">The row number.</param>
    /// <param name="col">The column number.</param>
    /// <param name="value">The value.</param>
    public void WriteCell(int row, int col, int value)
    {
        ushort[] clData = { 0x027E, 10, 0, 0, 0 };
        clData[2] = (ushort)row;
        clData[3] = (ushort)col;
        WriteUshortArray(clData);
        int iValue = (value << 2) | 2;
        writer.Write(iValue);
    }

    /// <summary>
    /// Writes the double cell value.
    /// </summary>
    /// <param name="row">The row number.</param>
    /// <param name="col">The column number.</param>
    /// <param name="value">The value.</param>
    public void WriteCell(int row, int col, double value)
    {
        ushort[] clData = { 0x0203, 14, 0, 0, 0 };
        clData[2] = (ushort)row;
        clData[3] = (ushort)col;
        WriteUshortArray(clData);
        writer.Write(value);
    }

    /// <summary>
    /// Writes the empty cell.
    /// </summary>
    /// <param name="row">The row number.</param>
    /// <param name="col">The column number.</param>
    public void WriteCell(int row, int col)
    {
        ushort[] clData = { 0x0201, 6, 0, 0, 0x17 };
        clData[2] = (ushort)row;
        clData[3] = (ushort)col;
        WriteUshortArray(clData);
    }

    /// <summary>
    /// Must be called once for creating XLS file header
    /// </summary>
    public void BeginWrite()
    {
        WriteUshortArray(clBegin);
    }

    /// <summary>
    /// Ends the writing operation, but do not close the stream
    /// </summary>
    public void EndWrite()
    {
        WriteUshortArray(clEnd);
        writer.Flush();
    }
    public void exporttoExcel(DataTable table,string filename)
    {
        DataTable dt = new DataTable();
        try
        {

            StringBuilder SB = new StringBuilder();

            dt = table;

            if (dt.Rows.Count > 0)
            {
                FileStream stream = File.Open("C:/Application/" + filename + ".xls", FileMode.Create);

                ExcelWrite excelWriter = new ExcelWrite(stream);
                //AB_MISreports.Util.ExcelWrite excelWriter = new AB_MISreports.Util.ExcelWrite(stream);
                excelWriter.BeginWrite();
                for (int i = 0; i < dt.Columns.Count; i++)
                {
                    excelWriter.WriteCell(0, i, dt.Columns[i].ColumnName.ToString());
                    for (int j = 0; j < dt.Rows.Count; j++)
                    {
                        excelWriter.WriteCell(j + 1, i, dt.Rows[j][i].ToString());
                    }
                }

                excelWriter.EndWrite();
                stream.Close();

                HttpContext.Current.Response.ContentType = "application/vnd.xls";
                HttpContext.Current.Response.AddHeader("content-disposition", "attachment; filename=" + filename + ".xls");
                HttpContext.Current.Response.TransmitFile("C:/Application/" + filename + ".xls");
                HttpContext.Current.Response.End();
                HttpContext.Current.Response.Flush();

            }
        }
        catch (Exception ex)
        {
            throw ex;
        }
        finally
        {

            dt.Dispose();
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:36:47.377

这些是官方限制。Excel 2007 支持 .xls 和 .xlsx 格式的文件，您确定要编写较新的文件格式类型吗？它可能对您来说不是一个可行的选择，但我们使用[Aspose.Cells](http://www.aspose.com)来处理电子表格的创建。

Excel 2003 .xls - 65,536 行
（[http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP005199291.aspx](http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP005199291.aspx)）

Excel 2007 .xlsx - 1,048,576 行
（[http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP010073849.aspx](http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP010073849.aspx)）

Excel 2010 .xlsx - 1,058,576 行
（[http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP010342495.aspx](http://office.microsoft.com/en-gb/excel-help/excel-specifications-and-limits-HP010342495.aspx)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-27T05:26:59.843

请尝试将格式格式从“.xls”更改为“.xlsx” FileStream stream = File.Open("C:/Application/" + filename + ".xlsx", FileMode.Create);

# java - 用于多个目录的 Java nio WatchService

> ID：15517581
> 
> 赞同：10
> 
> 时间：2013-03-20T07:22:21.263
> 
> 标签：java, nio, java-7

我想使用 Java NIO 观看（监视）多个目录 [`WatchService`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/WatchService.html)。我的问题是要观看的目录数量是动态的，用户可以将任意数量的目录添加到`WatchService`. 这是可以实现的吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-10-10T17:07:34.440

可以使用相同的`WatchService`. 每条路径都有自己的`WatchKey`. `take()`or将`poll()`返回`WatchKey`对应于被修改的路径。

有关详细信息，请参阅[Java 的 WatchDir 示例](http://docs.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-02-06T18:46:43.347

遵循与先前答案相同的链接：[Oracle WatchDir](https://docs.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java)。

您可以先创建`WatchService`：

```
WatchService watchService = FileSystems.getDefault().newWatchService(); 
```

此时，您可以将许多路径添加到相同的`WatchService`：

```
Path path1 = Paths.get("full\path\1\\");
path1.register(watchService,
               StandardWatchEventKinds.ENTRY_CREATE);

Path path2 = Paths.get("full\path\2\\");
path2.register(watchService,
               StandardWatchEventKinds.ENTRY_CREATE); 
```

然后您可以按如下方式管理事件：

```
WatchKey key;
while ((key = watchService.take()) != null) {
    for (WatchEvent<?> event : key.pollEvents()) {
        System.out.println(
          "Event kind:" + event.kind() 
            + ". File affected: " + event.context() + ".");
    }
    key.reset();
} 
```

* * *

现在，如果您想获取有关在何处引发事件的更多信息，您可以创建一个映射以通过示例链接键和路径（您可以考虑根据您的需要将变量创建为类级别）：

```
Map<WatchKey, Path> keys; 
```

在此示例中，您可以将路径包含在列表中，然后您需要循环进入其中并将每个路径添加到相同的`WatchService`：

```
for (Path path : paths) {
    WatchKey key = path.register(
            watchService,
            StandardWatchEventKinds.ENTRY_CREATE);
    keys.put(key, path);
} 
```

现在要管理事件，您可以添加类似的内容：

```
WatchKey key;
while ((key = watchService.take()) != null) {
    Path path = keys.get(key);
    // More code here.
    key.reset();
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-02-01T08:33:15.950

我只是想解释如何使用`WatchService`.

这是一段代码，说明了如何使用一个`WatchService`实例并收听两个`Paths`

```
 this.watcher = FileSystems.getDefault().newWatchService();
        this.keys = new HashMap<>();

        Path plugins = Paths.get(INSTANCE.getPluginPath());
        logger.info(String.format("Scanning %s ...", plugins));
        registerAll(plugins);

        Path drivers = Paths.get(INSTANCE.getDriverPath());
        logger.info(String.format("Scanning %s ...", drivers));
        registerAll(drivers); 
```

该示例基于[Oracle 示例](http://docs.oracle.com/javase/tutorial/essential/io/examples/WatchDir.java)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-03-11T20:03:59.090

为几个固定目录添加一个完整的简单解决方案。这个例子有 3 个将被监视的目录，当我正在寻找一个文件被创建时，我会处理它。在 Linux 中使用这种方法而不是我需要 root 访问权限的端口侦听器。

```
import static java.nio.file.StandardWatchEventKinds.ENTRY_CREATE;
import static java.nio.file.StandardWatchEventKinds.ENTRY_DELETE;
import static java.nio.file.StandardWatchEventKinds.ENTRY_MODIFY;

import java.io.File;
import java.io.IOException;
import java.nio.file.FileSystems;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.WatchEvent;
import java.nio.file.WatchKey;
import java.nio.file.WatchService;
import java.util.HashMap;
import java.util.Map;

public class WatchDirSimple {

    public static void main(String[] args) {
        try {

            WatchService watcher = FileSystems.getDefault().newWatchService();
            Map<WatchKey,Path> keys = new HashMap<WatchKey,Path>();

            WatchDirSimple watchDirSimple = new WatchDirSimple();

            WatchKey key;
            Path dir;

            dir = Paths.get(System.getProperty("user.home")+File.separator + "Documents\\PROD_Data\\ODBI");
            key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);
            keys.put(key, dir);
            dir = Paths.get(System.getProperty("user.home")+File.separator + "Documents\\PROD_Data\\ODBI\\@fred");
            key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);
            keys.put(key, dir);
            dir = Paths.get(System.getProperty("user.home")+File.separator + "Documents\\PROD_Data\\ODBI\\CMODupgrade");
            key = dir.register(watcher, ENTRY_CREATE, ENTRY_DELETE, ENTRY_MODIFY);
            keys.put(key, dir);

            for (;;) {

                try {
                    key = watcher.take();
                } catch (InterruptedException x) {
                    return;
                }

                dir = keys.get(key);
                if (dir == null) {
                    System.err.println("WatchKey not recognized!!");
                    continue;
                }

                for (WatchEvent<?> event: key.pollEvents()) {
                    WatchEvent.Kind kind = event.kind();

                    // Context for directory entry event is the file name of entry
                    WatchEvent<Path> ev = (WatchEvent<Path>)event;
                    Path name = ev.context();
                    Path child = dir.resolve(name);

                    // print out event
                    System.out.format("%s: %s\n", event.kind().name(), child);
                }

                // reset key and remove from set if directory no longer accessible
                boolean valid = key.reset();
                if (!valid) {
                    keys.remove(key);

                    // all directories are inaccessible
                    if (keys.isEmpty()) {
                        break;
                    }
                }
            }

            watchDirSimple.register(dir, watcher, keys);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

} 
```

# javascript - 在画布上绘制形状

> ID：15517583
> 
> 赞同：1
> 
> 时间：2013-03-20T07:22:23.813
> 
> 标签：javascript, jquery, html, html5-canvas

使用下面的代码，我可以在画布上用鼠标点画线。我需要检测绘图线何时完成一个形状并用一些颜色填充它。

```
<script language="javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var worksheetCanvas = $('#worksheet-canvas');

        var context = worksheetCanvas.get(0).getContext("2d");
        var clicked = false;
        // The array of stored lines
        var storedLines = [];

        // The object for the last stored line
        var storedLine = {};
        var mouse = {
            x: -1,
            y: -1
        }

        var parentOffset = $('#canvas-holder').parent().offset();
        worksheetCanvas.click(function (e) {
            clicked = true;

            mouse.x = e.pageX - parentOffset.left;
            mouse.y = e.pageY - parentOffset.top;

            context.moveTo(mouse.x, mouse.y);

            // Push last line to the stored lines

            if (clicked) {
                storedLines.push({
                    startX: storedLine.startX,
                    startY: storedLine.startY,
                    endX: mouse.x,
                    endY: mouse.y
                });

            }

            // set last line coordinates

            storedLine.startX = mouse.x;
            storedLine.startY = mouse.y;

            $(this).mousemove(function (k) {
                // clear the canvas

                context.clearRect(0, 0, 960, 500);
                context.beginPath();
                context.strokeStyle = "rgb(180,800,95)";

                // draw the stored lines

                for (var i = 0; i < storedLines.length; i++) {
                    var v = storedLines[i];
                    context.moveTo(v.startX, v.startY);
                    context.lineTo(v.endX, v.endY);
                    context.stroke();
                }
                context.moveTo(mouse.x, mouse.y);
                context.lineTo(k.pageX - parentOffset.left, k.pageY - parentOffset.top);
                context.stroke();

                context.closePath();

            })

        })

    });
</script>
</head>
<body>
 <div id="canvas-holder">

 <canvas id="worksheet-canvas" width="960" height="500" style="background:black;">

                    </canvas>

                </div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T15:37:26.450

**[海报澄清后编辑]**

此代码将绘制/继续一条折线到用户接下来单击的位置。

如果用户在他们开始的绿色圆圈中单击返回，则多段线将被填充。

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/qwd2a/](http://jsfiddle.net/m1erickson/qwd2a/)

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../excanvas.js"></script><![endif]-->

<style>
    body{ background-color: ivory; padding:10px; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext("2d");
    var canvasMouseX;
    var canvasMouseY;
    var canvasOffset=$("#canvas").offset();
    var offsetX=canvasOffset.left;
    var offsetY=canvasOffset.top;
    var storedLines=[];
    var startX=0;
    var startY=0;
    var radius=7;

    ctx.strokeStyle="orange";
    ctx.font = '12px Arial';

    $("#canvas").mousedown(function(e){handleMouseDown(e);});

    function handleMouseDown(e){
      canvasMouseX=parseInt(e.clientX-offsetX);
      canvasMouseY=parseInt(e.clientY-offsetY);

      // Put your mousedown stuff here
      if(hitStartCircle(canvasMouseX, canvasMouseY)){
          fillPolyline();
          return;
      }
      storedLines.push({x:canvasMouseX,y:canvasMouseY});
      if(storedLines.length==1){
          startX=canvasMouseX;
          startY=canvasMouseY;
          ctx.fillStyle="green";
          ctx.beginPath();
          ctx.arc(canvasMouseX, canvasMouseY, radius, 0 , 2 * Math.PI, false);
          ctx.fill();
      }else{
          var c=storedLines.length-2;
          ctx.strokeStyle="orange";
          ctx.lineWidth=3;
          ctx.beginPath();
          ctx.moveTo(storedLines[c].x,storedLines[c].y);
          ctx.lineTo(canvasMouseX, canvasMouseY);
          ctx.stroke();
      }
    }

    function hitStartCircle(x,y){
        var dx=x-startX;
        var dy=y-startY;
        return(dx*dx+dy*dy<radius*radius)
    }
    function fillPolyline(){
        ctx.strokeStyle="red";
        ctx.fillStyle="blue";
        ctx.lineWidth=3;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.beginPath();
        ctx.moveTo(storedLines[0].x,storedLines[0].y);
        for(var i=0;i<storedLines.length;i++){
            ctx.lineTo(storedLines[i].x,storedLines[i].y);
        }
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        storedLines=[];
    }

    $("#clear").click(function(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        storedLines=[];
    });

}); // end $(function(){});
</script>

</head>

<body>
    <p>Click to draw lines</p>
    <p>Click back in the green circle to close+fill</p><br/>
    <canvas id="canvas" width=300 height=300></canvas><br/>
    <button id="clear">Clear Canvas</button>
</body>
</html> 
```

**[基于较少信息的上一个答案]**

看起来您正在尝试：

*   让用户点击画布上的点。
*   在 storedLines[] 中收集这些点。
*   稍后，使用 storedLines[] 绘制线条 + 填充颜色。
*   （我假设您不想在用户点击时立即绘制线条，因为您说*“我需要检测绘制线条何时完成......”*。）如果您*确实*想在用户点击时立即绘制，请给我一个发表评论，我也可以为您提供替代方案；）

*如果我可以在您的代码中建议进行一些清理：*

这是在画布上获取鼠标位置的好方法：

```
 // before you begin listening for mouseclicks, 
    // get the canvas’  screen position into offsetX/offsetY
    var canvasOffset=$("#canvas").offset();
    var offsetX=canvasOffset.left;
    var offsetY=canvasOffset.top;

    // then when a mousedown event occurs
    // use e.clientX/Y (not e.pageX/Y) to get the mouse position on the canvas
    canvasMouseX=parseInt(e.clientX-offsetX);
    canvasMouseY=parseInt(e.clientY-offsetY); 
```

当您实际使用上下文和存储线绘制路径时：

*   要关闭路径，请将 context.closePath() 放在 context.stroke() 和 context.fill() 之前。
*   设置一个填充样式和描边样式。
*   执行 context.fill() 和 context.stroke() -- 如果不使用 fill()，则不会获得颜色填充。

    ```
    // close a path
    context.closePath();
    context.fillStyle=”blue”;
    context.strokeStyle=”rgb(180,80,95)”;
    context.fill();
    context.stroke(); 
    ```

这是代码和小提琴：http: [//jsfiddle.net/m1erickson/zYsQh/](http://jsfiddle.net/m1erickson/zYsQh/)

```
<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" /> <!-- reset css -->
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<!--[if lt IE 9]><script type="text/javascript" src="../excanvas.js"></script><![endif]-->

<style>
    body{ background-color: ivory; padding:10px; }
    canvas{border:1px solid red;}
</style>

<script>
$(function(){

    var canvas=document.getElementById("canvas");
    var ctx=canvas.getContext("2d");
    var canvasMouseX;
    var canvasMouseY;
    var canvasOffset=$("#canvas").offset();
    var offsetX=canvasOffset.left;
    var offsetY=canvasOffset.top;
    var storedLines=[];

    ctx.strokeStyle="orange";
    ctx.font = '12px Arial';

    $("#canvas").mousedown(function(e){handleMouseDown(e);});

    function handleMouseDown(e){
      canvasMouseX=parseInt(e.clientX-offsetX);
      canvasMouseY=parseInt(e.clientY-offsetY);

      // Put your mousedown stuff here
      storedLines.push({x:canvasMouseX,y:canvasMouseY});
      var count=storedLines.length;
      var X=canvasMouseX-(count<10?4:7);
      ctx.strokeStyle="orange";
      ctx.fillStyle="black";
      ctx.lineWidth=1;
      ctx.beginPath();
      ctx.arc(canvasMouseX, canvasMouseY, 8, 0 , 2 * Math.PI, false);
      ctx.fillText(storedLines.length, X, canvasMouseY+4);
      ctx.stroke();
    }

    $("#draw").click(function(){
        ctx.strokeStyle="red";
        ctx.fillStyle="blue";
        ctx.lineWidth=3;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.beginPath();
        ctx.moveTo(storedLines[0].x,storedLines[0].y);
        for(var i=0;i<storedLines.length;i++){
            ctx.lineTo(storedLines[i].x,storedLines[i].y);
        }
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        storedLines=[];
    });

    $("#clear").click(function(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        storedLines=[];
    });

}); // end $(function(){});
</script>

</head>

<body>
    <p>Click to create storedLines[]</p>
    <p>Then press the Draw button to fill the path</p><br/>
    <canvas id="canvas" width=300 height=300></canvas><br/>
    <button id="clear">Clear Canvas</button>
    <button id="draw">Draw</button>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:37:43.923

如果您的 storedLines 数组包含其中所有值的精确副本，那么您已经绘制了一个形状，否则您还没有...

例子：

> > 你通过画三条线来画一个三角形
> 
> 1.  Line1 - (0,0) 到 (10,0)
>     
>     
> 2.  Line2 - (10,0) 到 (5,10)
>     
>     
> 3.  Line3 - (5,10) 到 (0,0)
> 
> > 因此，所有点都有它的副本。

# android - 从资源android中随机化字符串

> ID：15517585
> 
> 赞同：1
> 
> 时间：2013-03-20T07:22:37.053
> 
> 标签：android, string, random

我试过这个：

```
 int[] trivias = {
        R.string.trivia1, R.string.trivia2, R.string.trivia3, R.string.trivia4, R.string.trivia5,
        R.string.trivia6, R.string.trivia7, R.string.trivia8, R.string.trivia9, R.string.trivia10,
        R.string.trivia11, R.string.trivia12, R.string.trivia13, R.string.trivia14, R.string.trivia15,
        R.string.trivia16, R.string.trivia17, R.string.trivia18, R.string.trivia19, R.string.trivia20,
        R.string.trivia21, R.string.trivia22, R.string.trivia23, R.string.trivia24, R.string.trivia25,
        R.string.trivia26, R.string.trivia27, R.string.trivia28, R.string.trivia29, R.string.trivia30,
        R.string.trivia31, R.string.trivia32, R.string.trivia33, R.string.trivia34, R.string.trivia35,
        R.string.trivia36, R.string.trivia37, R.string.trivia38, R.string.trivia39, R.string.trivia40,
        R.string.trivia41, R.string.trivia42, R.string.trivia43, R.string.trivia44, R.string.trivia45,
        R.string.trivia46, R.string.trivia47, R.string.trivia48, R.string.trivia49, R.string.trivia50,
};

TextView tv;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.trivias);

    tv = (TextView) findViewById (R.id.tvTrivias);

    Random ran = new Random();

    tv.setText(ran.nextInt(trivias.length));

} 
```

但是 logcat 给了我 ResourcesNotFound 异常。我在这里想念什么？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:24:16.163

这..可能是..

```
tv.setText(trivias[ran.nextInt(trivias.length)]); 
```

您现在正在做的是搜索具有 id 的资源，这是由**ran.nextInt()生成的**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:27:07.770

你没有通过int trivias：-

```
tv.setText(trivias[ran.nextInt(trivias.length)]); 
```

你只是忘了**琐事[]**

# android - 获取列表视图中单击项目的隐藏字段值

> ID：15517589
> 
> 赞同：0
> 
> 时间：2013-03-20T07:23:01.030
> 
> 标签：android, listview

我无法获取单击项目的隐藏字段值。

我按照[SO Post](https://stackoverflow.com/questions/2988378/how-to-get-the-value-of-a-listview-item-which-is-clicked-in-android)获取单击的列表视图项的隐藏值，但无法获取该值。我越来越`ClassCastException`。

编码 -

```
listView.setOnItemClickListener(new OnItemClickListener() 
{
   //////////list view on click
   public void onItemClick(AdapterView<?> view, View arg1,
      int position, long arg3) {

      String S = (String)view.getItemAtPosition(position); //This line gives exception
      System.out.println("TextView vehicleSrc>>"+S);

     //OR

    String itemSelected =  ((TextView)view.findViewById(R.id.vehicle_source)).getText().toString();
   System.out.println("TextView vehicleSrc"+itemSelected); // this is giving blank
   } 
```

我的错误日志 -

```
03-20 12:47:08.742: E/AndroidRuntime(26965): FATAL EXCEPTION: main
03-20 12:47:08.742: E/AndroidRuntime(26965): java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String
03-20 12:47:08.742: E/AndroidRuntime(26965):    at com.iddl.main.EntryFragment$13$2.onItemClick(UserFragment.java:907) 
```

更新：

我在xml的隐藏字段中定义了上面的textview-

```
<TextView
     android:id="@+id/vehicle_source"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:text="" 
     android:visibility="gone"/> 
```

现在我正在尝试将每个列表视图项的值设置为 -

```
TextView vehicleSrc = (TextView) vi.findViewById(R.id.vehicle_source);

if(isCondition1)
vehicleSrc.setText("Normal");
else
vehicleSrc.setText("Other");
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:27:02.753

最后我得到了点击项目的隐藏字段值。

所以，应该是

`String itemSelected = ((TextView)arg1.findViewById(R.id.vehicle_source)).getText().toString();`

代替

```
String itemSelected =  ((TextView)view.findViewById(R.id.vehicle_source)).getText().toString(); 
```

完整代码 -

```
listView.setOnItemClickListener(new OnItemClickListener() 
{
   //////////list view on click
   public void onItemClick(AdapterView<?> view, View arg1,
      int position, long arg3) {

    String itemSelected =  ((TextView)arg1.findViewById(R.id.vehicle_source)).getText().toString();
   System.out.println("TextView vehicleSrc"+itemSelected);
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:28:24.290

您不能像这里警告的那样将整数转换为字符串

```
03-20 12:47:08.742: E/AndroidRuntime(26965): FATAL EXCEPTION: main
03-20 12:47:08.742: E/AndroidRuntime(26965): java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String
03-20 12:47:08.742: E/AndroidRuntime(26965):    at com.iddl.main.EntryFragment$13$2.onItemClick(UserFragment.java:907) 
```

如果要将整数转换为字符串，可以使用

```
Integer.toString( i ) 
```

像这个

```
String S = Integer.toString(view.getItemAtPosition(position)); //This line gives exception
      System.out.println("TextView vehicleSrc>>"+S); 
```

我认为你应该使用 android Log.i/Log.d/Log.e 来记录任何东西而不是 system.out.println :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:29:18.950

1.  永远不要在不使用**instancof的情况下投射任何东西**

    所以理想情况下你的代码应该是

    对象项目 = view.getItemAtPosition(位置);

    ```
     if(item instanceof String){
         //cast it
       } 
    ```

2.  只需检查您使用的适配器类型.. getItem 返回**TYPE** Adapter< **TYPE** >

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:31:48.063

试试这个你会得到被点击的列表列表的值

```
 String textOfSelectedItem;
                  listView.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> arg0, View v, int id,
                long position) {
            // TODO Auto-generated method stub
             textOfSelectedItem  =((TextView) v).getText().toString();
            Toast.makeText(getApplicationContext(), "Clicked is " + textOfSelectedItem, Toast.LENGTH_SHORT).show();

        }
    }); 
```

# c# - 正则表达式匹配具有混合 C# 代码的字符串中的 NC 注释

> ID：15517591
> 
> 赞同：0
> 
> 时间：2013-03-20T07:23:10.253
> 
> 标签：c#, regex, regex-lookarounds, lookbehind, negative-lookahead

我有一个混合了 NC 代码和 C# 代码的文本文件。C#-代码以“<#”开头，以“#>”结尾。现在我需要一个正则表达式来查找所有 NC-Comments。一个问题是 NC-Comments 以“;”开头 因此我遇到了一些问题来区分 NC-Comment 和“;” C#-代码。

是否可以仅使用一个正则表达式来实现这一目标？

```
; 1\. NC-Comment
FUNCT_A;
FUNCT_B;

<# // C#-Code
int temp = 42;
string var = "hello";   // C#-Comment
#>

FUNCT_C ; 2\. Comment

<# // C#-Code
for(int i = 0; i <10; i++)
{
    Console.WriteLine(i.ToString());
}
#>  

; 3\. Comment
FUNCT_D; 
```

正则表达式的结果应该是 {1\. NC-评论，2.评论，3.评论}

我玩过以下正则表达式：

```
1.) (;(.*?)\r?\n) --> Finds all NC-Comments but also C#-Code as comment
2.) (#>.*?<#)|(#>.*) --> Finds all NC-Code except the first NC-Code fragment
3.) #>.+?(?=<#) --> Finds all NC-Code except the first and last NC-Code fragment 
```

一种解决方案可能是将每个“<#”推入堆栈并从该堆栈中弹出每个“#>”。因此，如果堆栈为空，则当前字符串为 NC-Code。接下来我必须找出这个字符串是否是 NC-Comment。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T18:47:43.630

我宁愿不使用正则表达式：

```
public static List<string> GetNCComments(Stream stream)
{
    using (StreamReader sr = new StreamReader(stream))
    {
        List<string> result = new List<string>();
        bool inCS = false; // are we in C# code?
        int c;
        while ((c = sr.Read()) != -1)
        {
            if (inCS)
            {
                switch ((char)c)
                {
                    case '#':
                        if (sr.Peek() == '>') // end of C# block
                        {
                            sr.Read();
                            inCS = false;
                        }
                        break;
                    case '/':
                        if (sr.Peek() == '/') // a C# comment
                            sr.ReadLine(); // skip the whole comment
                        break;
                }
            }
            else
            {
                switch ((char)c)
                {
                    case '<':
                        if (sr.Peek() == '#') // start of C# block
                        {
                            sr.Read();
                            inCS = true;
                        }
                        break;
                    case ';': // NC comment
                        string comment = sr.ReadLine();
                        if (!string.IsNullOrEmpty(comment))
                            result.Add(comment);
                        break;
                }
            }
        }
        return result;
    }
} 
```

用法：

```
var comments = GetNCComments(new FileStream(filePath, FileMode.Open, FileAccess.Read)); 
```

代码很简单且不言自明。这也处理 C# 注释，但不处理 C# 字符串。我的意思是，如果你有`#>`一个 C# 注释，它可以正常工作。但是，如果您有相同的 C# 字符串（错误地将其视为 C# 块的结尾），则不起作用。处理这种情况也很容易。

# actionscript-3 - 从舞台上移除装载机时遇到问题

> ID：15517592
> 
> 赞同：0
> 
> 时间：2013-03-20T07:23:10.937
> 
> 标签：actionscript-3, flash

我是动作脚本的新手，但到目前为止几乎制作了一个简单的游戏。我的问题是当我调用我的`testForEnd()`函数时，加载器图像不会从那个屏幕上消失，因此我看不到我的 GAME END 屏幕。我做了一些研究`removeChild()`，希望能解决我的问题，但没有奏效。任何帮助，将不胜感激！

```
function testForEnd():void
{

    if ( score > level*30)
    {
        level++;
        level_txt.text = String(level);

        req = new URLRequest("images/" +imageNumber + ".jpg");
        loader = new Loader();
        imageNumber++;
        loader.load(req);
        addChildAt(loader,getChildIndex(settingMenu));

        if( imageNumber >= 20 ) {
            imageNumber = 0;
        }

        var tempLevelUp:LevelUp  = new LevelUp();
        addChild(tempLevelUp);
        tempLevelUp.x = stage.stageWidth / 2 - tempLevelUp.width / 2
        tempLevelUp.y = stage.stageHeight / 2 - tempLevelUp.height / 2
        if (tempLevelUp.currentFrame >= tempLevelUp.totalFrames)
        {

            removeChild(tempLevelUp);
        }

    }
    if (lives == 0) {

        gameState = STATE_END_GAME;

        }

    //gameState = STATE_END_GAME;
    trace(gameState);
}

function endGame():void
{
    removeGame();
    endScreen.visible = true;

    // this is where it doesn't work loader visible
    loader.visible = false;

   // also i tried removeChild which didn't work
   removeChild(loader);

    removeEventListener(Event.ENTER_FRAME, gameLoop);
    showResults();
}

function removeGame():void
{
    // gameState = STATE_END_GAME;
    for (var i:int = enemies.length-1; i>=0; i--) 
{

    removeEnemy(i);

}

    for (var j:int = Lasers.length - 1; j >=0; j--) 
{
    removeLaser(j);

}

    for (var k:int = explosions.length - 1; k >=0; k--) 
{
    removeExplosion(k);

}

removeChild(player);
laserTimer.stop();

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:41:38.903

您似乎在可见属性上打错字了

```
loader.visble = false; 
```

应该是可见的而不是可见的。

只要你把它作为可见的，它就会抛出一个 ReferenceError。

# asp.net - 动态链接按钮（在动态表格单元格中创建）事件未触发

> ID：15517594
> 
> 赞同：0
> 
> 时间：2013-03-20T07:23:23.930
> 
> 标签：asp.net

我的问题是我在动态创建的单元格中创建动态链接按钮。它工作正常，但动态链接按钮的点击事件处理程序没有触发。我在互联网上搜索了足够多但没有任何结果..我调用了一个方法页面加载又调用创建动态单元格和链接按钮的方法。但是点击事件仍然没有触发......即使oninit也不会工作，因为我的项目结构是这样的。是否有任何其他解决方案可以解决这个问题。我在页面加载时调用一个方法，它会做一些工作，然后调用这个创建方法。

```
 protected void create()
      {

        for (int j = 0; j < 8; j++)
       {
        Label lbl;
        LinkButton lnk;
        TableRow tRow = new TableRow();
        for (int i = 0; i < 6; i++)
        {
            TableCell tCellLessonPlan = new TableCell();
            lbl = new Label();

            lnk = new LinkButton();

                lnk.Click += new System.EventHandler(this.LinkButton_Click);

                lbl.Text = "Period";
                lnk.Text = "Details";
                tCellLessonPlan = createCell(tCellLessonPlan.Text);
                tCellLessonPlan.Controls.Add(lbl);
                tCellLessonPlan.Controls.Add(lnk);
               tRow.Cells.Add(tCellLessonPlan);

        }
        Table1.Rows.Add(tRow);
    }
}

     protected TableCell createCell(string cellText)
{
    TableCell tCell = new TableCell();
    Unit height = new Unit(20, UnitType.Pixel);
    tCell.Height = height;
    Unit width = new Unit(190, UnitType.Pixel);
    tCell.Width = width;
    tCell.BorderStyle = BorderStyle.Solid;
    tCell.BorderColor = System.Drawing.Color.Black;
    tCell.BorderWidth = Unit.Point(2);

    tCell.Text = cellText;
    return tCell;

}

protected void LinkButton_Click(object sender, EventArgs e)
{
    LinkButton lnk = (LinkButton)sender;
    //Some logic here.
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T08:54:47.040

根据您粘贴的代码以及您说它是从 Page_Load 或更早的时间调用它的事实，这应该可以工作。您可能省略了一些重要的代码。调试这个

1.  打开网页
2.  查看源代码，找到您的按钮并检查它的 ID
3.  在 Page_Load 中设置断点
4.  点击按钮
5.  查看`Request.Form`并检查按钮 ID 是否从客户端发布

您可能并不总是创建相同的控件，并且它们会基于此获得不同的 ID。您需要确保在首次呈现按钮时和发生 PostBack 时 ID 没有不同。为此，请在服务器端设置按钮的 ID 及其父级。

* * *

# ASP.NET 事件如何工作

网站是无状态的用户界面。这意味着服务器产生的输出显示给用户并且不再关心它们。为了处理用户的某些工作请求，用户浏览器向服务器发送信息。处理事件也是如此。为了让服务器知道需要处理哪个事件，它必须创建所有控件，然后检查哪个用户发送的数据并查看哪个控件用户针对他的操作。可以理解，有必要尽早创建控件，以便服务器可以查找它们并为它们找到事件处理程序。

页面生命周期有几个阶段。生命周期从用户浏览器向服务器发送请求开始，到服务器输出对该请求的响应时结束。当用户浏览器完全加载页面时，服务器不再知道它。一旦单击将数据发送回服务器的按钮，服务器将再次基于页面创建页面，并且页面将经历另一个生命周期。生命周期阶段是：

1.  **页面请求**- 在此阶段没有创建页面，仅收到来自客户端的请求。
2.  **开始**- 执行页面的基本预处理。检查请求是否是回发。
3.  **初始化**- 此时已创建控件，但尚未处理视图状态和回发数据
4.  **Load** - 从视图状态和控制状态中恢复控制信息
5.  **回发事件处理**- 回发 .... 事件处理
6.  **渲染**- 保存视图和控件状态，并`Render`为每个控件向下调用控件树
7.  **卸载**- 请求被丢弃

正如您可能已经猜到的那样，3、4 和 5 对您很重要。您应该在初始化阶段或最新的加载阶段创建控件，因为在下一阶段回发事件处理已完成。

服务器如何知道要调用哪个事件处理程序？用户回发所有需要的信息来定位控制谁的事件被触发，以及事件本身。该数据取决于控制类型。

以下面的代码为例：

```
protected void Page_Load(object sender, EventArgs e)
{
    CreateControls();
}

public void CreateControls()
{
    LinkButton linkBtn = new LinkButton();
    linkBtn.ID = "btnTest";
    linkBtn.Text = "test";
    linkBtn.Click += new EventHandler(btn_Click);
    pnl.Controls.Add(linkBtn);

    Button btn = new Button();
    btn.ID = "btnTest2";
    btn.Text = "test";
    btn.Click += new EventHandler(btn_Click);
    pnl.Controls.Add(btn);
} 
```

在这里，我们动态添加控件并附加事件处理程序。以下是第一次呈现页面时用户发送的请求数据的样子： ![首次运行时请求数据](../Images/144b6991f11b976b1014b808e19e6b32.png)

当用户点击`LinkButton`时，页面被再次处理，用户向页面发送附加信息以查看需要做什么： ![点击 LinkBut​​ton 后请求数据](../Images/16a74e5d4a3da7641ae2bca8e8e82c73.png) 用户浏览器在表单数据中发送控件 ID，在`__EVENTTARGET`key 下。服务器检查是否`__EVENTTARGET`已设置，如果已设置，则它知道需要处理事件。这发生在上面的第 5 阶段。服务器查找控件并触发它的默认事件（`Click`在 a`LinkButton`和的情况下`Button`）。

控件也会发生类似的情况`Button`： ![点击按钮后请求数据](../Images/e8334d03c356e42ffd7de07f772b0208.png) 这一次，控件 ID 作为表单数据的键值发送。在表单数据中，该键下是`value`代表按钮的 html 元素（在我们的例子中，值`test`是按钮文本）。

* * *

这应该足以了解如何在 ASP.NET 中处理事件的基础知识。现在根据这个，在 中放置一个断点`Page_Load`，检查`Request.Form["__EVENTTARGET"]`它是否被设置。如果已设置，请检查您的控件是否已在该点创建，是否具有相同的 ID，以及是否已附加事件处理程序。如果事件仍未触发，那么您要么删除该控件（或其父控件），要么在请求生命周期的第 5 阶段之前分离事件处理程序。

# cakephp - 在 Safari 5.1.7 中下载 PDF 文件

> ID：15517597
> 
> 赞同：0
> 
> 时间：2013-03-20T07:23:29.530
> 
> 标签：cakephp, pdf, safari, download

我正在使用 cakephp。我已经使用来自[http://koivi.com/fill-pdf-form-fields](http://koivi.com/fill-pdf-form-fields)这个 URL`FDF`的函数生成文件

它工作正常。然后我使用 生成 PDF 文件`PDFTK`，并有一些标题来下载文件，它在 Firefox、Chorome 和 IE 中运行良好，但在 safari 浏览器中运行不佳。在 Safari 中，它显示 PDF 文件代码。当我`exit();`在命令末尾使用时，Safari 会下载文件，但它并不完整。

文件的正常大小是 60Kb，但`exit()`它会生成 48Kb 的文件。所以这意味着一些文件内容因为命令`PDF`而丢失。`exit()`

如果有人可以给出一些提示来解决 safari 浏览器中的这个问题。提前致谢。

```
header('Content-Type: application/octet-stream');
header('Content-Disposition: attachment; filename="pdf_file_name.pdf"');
header("Content-Type: application/download");
header("Content-Length: " . filesize($pdf_doc));
header('Expires: 0');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
header('Pragma: public');
// $pdf_doc is the PDF Form physical path
// $fdf_doc is the FDF file physical path
echo passthru("/usr/local/bin/pdftk $pdf_doc fill_form $fdf_doc output - "); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T11:19:22.180

使用 PDFTK 的以下命令将生成的文件保存在磁盘上

```
passthru("pdftk $pdf_doc fill_form $fdf_doc output test.pdf"); 
```

然后对已经生成的代码使用相同的代码`PDF`。`PDF`保存文件后尝试以下代码

```
header('Content-Disposition: attachment; filename="pdf_file_name.pdf"');
header("Content-Type: application/download");
header('Content-Type:application/pdf');
header("Content-Length: " . filesize("test.pdf"));
header('Content-Transfer-Encoding: binary');
header('Expires: 0');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
header('Pragma: public');
readfile("test.pdf"); 
```

希望这也适用于野生动物园

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:26:53.893

试试看`header('Content-Type:application/pdf');`

# c# - 在水平布局中向面板动态添加控件

> ID：15517599
> 
> 赞同：1
> 
> 时间：2013-03-20T07:23:38.847
> 
> 标签：c#, asp.net, css, panel

我在我的代码隐藏文件中为每个用户创建了一个表。我想将每个表格添加到面板中，以便所有表格水平显示。该表只有 1 列和多行。所以每个表都应该添加到我尝试过 css 样式的前一个表的一侧，`float:left`但它没有正常工作。

这是我的代码

**C#部分：**

```
 foreach( DataRow dr in t.Rows )
  { 
       if(........)
       {    
           tdr.Width = "200px";
           row = new HtmlTableRow(); 
           cell = new HtmlTableCell();

           row = new HtmlTableRow(); 
           cell = new HtmlTableCell();
           cell.InnerText = doc;
           row.Cells.Add(cell);
           tdr.Rows.Add(row);
           row = new HtmlTableRow(); 
           cell = new HtmlTableCell();
           cell.InnerText = "No Timming";
           row.Cells.Add(cell);
           tdr.Rows.Add(row);
           row = new HtmlTableRow(); 
           cell = new HtmlTableCell();
           cell.InnerText = weekday[i];
           row.Cells.Add(cell);
           tdr.Rows.Add(row);
       }
       //dr_list is my panel name 
       //tdr is my table name 
       this.DR_list.Controls.Add(tdr);
   } 
```

**CSS部分：**

```
<style>
    .float-left
     {
        float: left;
     }
</style> 
```

**ASP.NET 部分：**

```
<asp:Panel ID="DR_list" runat="server" Direction="LeftToRight" Height="227px" 
    HorizontalAlign="Left" ScrollBars="Auto" Wrap="False"  
    CssClass='float-left' Width="1103px" >
</asp:Panel> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:37:10.570

您正在将 css 添加`float:left`到父容器，即您的面板。

因此您的标记变为：

```
<div id="DR_list" class="float-left" >
    <table  width="200px">
     //table 1 markup
    </table>

    <table width="200px" >
     //table 2 markup
    </table>
</div> 
```

因此它不适用于内在的孩子

您应该将其添加到各个表中，即

像这样做：

假设你`tdr`是`System.Web.UI.HtmlControls.HtmlTable`

```
 tdr.Attributes.Add("class", "float-left"); 
```

这样你的最终标记就变成了

```
<div id="DR_list"  >
    <table  width="200px" class="float-left" >
     //table 1 markup
    </table>

    <table width="200px"  class="float-left" >
     //table 2 markup
    </table>
</div> 
```

所以你的实际代码应该看起来像

```
foreach( DataRow dr in t.Rows )
{ 
       if(........)
       {   
           tdr = new HtmlTable();
           tdr.Attributes.Add("class", "float-left"); 
           tdr.Width = "200px";

           row = new HtmlTableRow(); 
           cell = new HtmlTableCell();
           /////rest of the logic
       }
} 
```

# performance - 如何将数据从一个表插入/更新到另一个表（postgresql）？

> ID：15517601
> 
> 赞同：1
> 
> 时间：2013-03-20T07:23:48.943
> 
> 标签：performance, postgresql, upsert

有两张桌子

```
tmp_stat:
date, site_id, ip, block_id, count
Primary Key (date, site_id, ip, block_id)

main_stat:
date, site_id, ip, block_id, count
Primary Key (date, site_id, ip, block_id) 
```

当没有这样的（日期、站点 ID 等）时，我需要从 tmp_stat 将行插入到 main_stat 中，并在它们已经存在时尽快更新计数

tmp_stat 包含大约 500000 行，main_stat 包含百万

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T21:42:45.263

下面的工作吗？

```
WITH upd AS (
    UPDATE main_stat t
       SET counter = s.counter
      FROM tmp_stat s
     WHERE t.date = s.date
            AND t.site_id = s.site_id
            AND t.ip = s.ip
            AND t.block_id = s.block_id
 RETURNING s.date, s.site_id, s.ip, s.block_id, s.counter
)
INSERT INTO main_stat
     SELECT s.mydate, s.site_id, s.ip, s.block_id, s.counter
       FROM tmp_stat s 
       LEFT JOIN upd ON (upd.date = s.date and  upd.site_id = s.site_id and upd.ip = s.ip and upd.block_id = s.block_id)
      WHERE upd.date IS NULL
; 
```

**更新：**

看起来这仅适用于 9.1 或更高版本。

使用 just-somebody 的建议`WHERE (t.date, t.site_id, t.ip, t.block_id) = (s.date, s.site_id, s.ip, s.block_id)`似乎可以提供更好的性能。

```
WITH upd AS (
    UPDATE main_stat t
       SET counter = s.counter
      FROM tmp_stat s
     WHERE ( t.date, t.site_id, t.ip, t.block_id ) = ( s.date, s.site_id, s.ip, s.block_id )
 RETURNING s.date, s.site_id, s.ip, s.block_id
)
INSERT INTO main_stat
     SELECT s.date, s.site_id, s.ip, s.block_id, s.counter
       FROM tmp_stat s 
       LEFT JOIN upd 
            ON ( upd.date = s.date 
                AND upd.site_id = s.site_id 
                AND upd.ip = s.ip 
                AND upd.block_id = s.block_id )
      WHERE upd.date IS NULL
; 
```

这里发生的是我们使用 CTE 执行 UPDATE，CTE 返回更新行的标识列。

然后 INSERT 使用更新的行信息过滤 tmp_stat 以仅插入*新*记录。

[Dimitri Fontaine 在此博客](http://tapoueh.org/blog/2013/03/15-batch-update.html)条目中介绍了一些并发警告。

有关 CTE 的更多信息可以在 Postgresql[文档](http://www.postgresql.org/docs/9.1/interactive/queries-with.html)中找到。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T16:35:28.737

看起来像简单的[Exists](http://www.postgresql.org/docs/8.1/static/functions-subquery.html)查询......如果列被索引它应该足够快。

例子：

```
-- insert missing rows
INSERT INTO main_stat (date, site_id, ip, block_id)
SELECT date, site_id, ip, block_id FROM tmp_stat tmp
WHERE NOT EXISTS (SELECT 1 FROM main_stats main 
                           WHERE tmp.date    = main.date 
                           AND   tmp.site_id = main.site_id 
                           AND   tmp.ip      = main.ip
                           AND   tmp.block_id = main.block_id
                 );
-- update count for existing rows
UPDATE main_stat main 
SET count =  main.count + (SELECT count FROM tmp_stats tmp
                           WHERE tmp.date    = main.date 
                           AND   tmp.site_id = main.site_id 
                           AND   tmp.ip      = main.ip
                           AND   tmp.block_id = main.block_id
                           LIMIT 1)

WHERE EXISTS (SELECT 1 FROM main_stats main 
                           WHERE tmp.date    = main.date 
                           AND   tmp.site_id = main.site_id 
                           AND   tmp.ip      = main.ip
                           AND   tmp.block_id = main.block_id 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-25T18:52:19.413

当我理解这个问题时，我正在建立 gsimes 的答案。

```
with agg_temp_stat as (
    select date, site_id, ip, block_id, sum(counter)::integer counter
    from temp_stat
    group by 1, 2, 3, 4
), upd as (
    update main_stat t
    set counter = counter + s.counter
    from agg_tmp_stat s
    where
        (t.date, t.site_id, t.ip, t.block_id)
        = (s.date, s.site_id, s.ip, s.block_id)
    returning s.date, s.site_id, s.ip, s.block_id
)
insert into main_stat
select s.date, s.site_id, s.ip, s.block_id, s.counter
from
    agg_tmp_stat s 
    left join
    upd on
        upd.date = s.date 
        and upd.site_id = s.site_id 
        and upd.ip = s.ip 
        and upd.block_id = s.block_id
where upd.date is null 
```

基本上聚合临时表并将结果计数器与已经存在的计数器相加。

# php - 替换字符串中的短语

> ID：15517604
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:24:04.600
> 
> 标签：php, regex, preg-replace, preg-match

我想替换给定格式的特定字符串。请参阅突出显示的短语以获得差异。

'67,Yoga Pura, **"15440 N. 7th Street, Suite 1"** ,凤凰城,AZ,85022,-112.066286,33.627028,26'

进入

'67,Yoga Pura, **15440 N. 7th Street Suite 1** ,Phoenix,AZ,85022,-112.066286,33.627028,26'

我正在尝试删除由双引号括起来的短语中的逗号。我知道如何替换它，但我不知道如何在变量中设置这个短语**“15440 N. 7th Street, Suite 1” 。**

```
$lines = preg_replace('/"[^"]+"/', 'new formatted text', $lines); 
```

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:36:49.077

使用正则表达式的另一种方法：

```
$str = '67,Yoga Pura,"15440 N. 7th Street, Suite ",Phoenix,AZ,85022,-112.066286,33.627028,26';
echo preg_replace ( '#"(.*?),(.*?)"#', '$1$2', $str ); 
```

输出：

```
67,Yoga Pura,15440 N. 7th Street Suite 1,Phoenix,AZ,85022,-112.066286,33.627028,26 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:32:02.210

您可以匹配双引号之间的所有段，然后使用回调函数从它们中去除双引号/逗号：

```
$string = '67,Yoga Pura,"15440 N. 7th Street, Suite 1",Phoenix,AZ,85022,-112.066286,33.627028,26';

function strip_commas($str) {
  return str_replace(array(',', '"'), '', $str[0]);
}

$string = preg_replace_callback('/".*?"/', "strip_commas", $string); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:33:41.303

尝试这个：

```
$text = preg_replace('/^(.*)"([^"]*),([^"]*)"(.*)$/', '${2}${3}', $text); 
```

隔离之间的部分`"`并删除您的`,`

或这个 ：

```
$text = preg_replace('/"([^"]*),([^"]*)"/', '${1}${2}', $text); 
```

只是为了删除`,`中间`"`。

它似乎运作良好

[这里的工作示例](http://sandbox.onlinephpfunctions.com/code/0b23295e1df0d5c7b8c80395ce840066e1f73775)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:31:42.070

您可以使用前瞻

```
/,(?=(([^"]*"[^"]*"[^"]*[^"]*"[^"]*)+|[^"]*"[^"]*)$)/
       ----------------------------  _ ----------
                   |                 |       |->matches a single odd " till end
                   |                 |->OR
                   |-> matches 1 to many occurrences of 3 " till end 
```

所以`,`只有当它后面有**奇数个**时才会匹配`"`

* * *

显然这不适用于嵌套`"`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T07:47:47.657

可能有一些速记回调 slice 'n merge one-line-wonder 为此，但让我们直接做：

```
$row = '67,Yoga Pura,"15440 N. 7th Street, Suite 1",Phoenix,AZ,85022,-112.066286,33.627028,26';
$parsed = str_getcsv($row);
$parsed2 = array();
$i = 0;

while ($col = array_shift($parsed)) {
    array_push($parsed2, str_replace(',', '', $col));
} 
```

[https://ignite.io/code/51496970ec221ee821000003](https://ignite.io/code/51496970ec221ee821000003)

当然，这是[`str_getcsv()`](http://php.net/manual/en/function.str-getcsv.php)从字符串解析 CSV 行的最简单方法（如果您的 PHP >= 5.3.0）。

略短：

```
$row = '67,Yoga Pura,"15440 N. 7th Street, Suite 1",Phoenix,AZ,85022,-112.066286,33.627028,26';
$parsed = str_replace(',', '', str_getcsv($row));

print_r($parsed);

echo implode(',', $parsed); 
```

[https://ignite.io/code/51496b2bec221ee821000004](https://ignite.io/code/51496b2bec221ee821000004)

# xml - 将xml转换为JSON的问题

> ID：15517609
> 
> 赞同：3
> 
> 时间：2013-03-20T07:24:22.837
> 
> 标签：xml, json, parsing

我遵循以下教程 - [http://davidwalsh.name/convert-xml-json](http://davidwalsh.name/convert-xml-json)并收到错误：

```
Uncaught exception: TypeError: 'xml.hasChildNodes' is not a function. 
```

我不确定如何解决这个问题？许多人在网站上发布了相同的内容。但没有运气。

请帮忙。

代码在这里：

```
<!DOCTYPE html>  
<html lang="en">  
<head>  
<title>Welcome</title>  

<script type="text/javascript">  
function myFun()  
{  
    alert("hi..");  
    var jsonText = JSON.stringify(xmlToJson("D:/Tech/data.xml"));  
    for(var i in jsonText)  
   {
        alert(i);
   }
}   

// Changes XML to JSON  
function xmlToJson(xml) {  

   // Create the return object  
   var obj = {};  

    if (xml.nodeType == 1) { // element  
        // do attributes  
        if (xml.attributes.length > 0) {  
        obj["@attributes"] = {};  
            for (var j = 0; j < xml.attributes.length; j++) {  
                var attribute = xml.attributes.item(j);  
                obj["@attributes"][attribute.nodeName] = attribute.nodeValue;  
            }  
        }  
     } else if (xml.nodeType == 3) { // text  
        obj = xml.nodeValue;  
    }

     // do children   
    if (xml.hasChildNodes()) {  
        for(var i = 0; i < xml.childNodes.length; i++) {  
            var item = xml.childNodes.item(i);  
            var nodeName = item.nodeName;  
            if (typeof(obj[nodeName]) == "undefined") {  
                obj[nodeName] = xmlToJson(item);  
             } else {  
                 if (typeof(obj[nodeName].push) == "undefined") {  
                    var old = obj[nodeName];  
                    obj[nodeName] = [];  
                    obj[nodeName].push(old);  
                }  
                 obj[nodeName].push(xmlToJson(item));  
            }  
        }  
    }  
    return obj;  
};  

 </script>  

</head>  

<body onload="myFun()">  
 Hello  
</body>  
</html> 
```

data.xml 类似于这里：

```
<applications>  
<application id="backupparking">  
  <toplevel />   
 <contexts>  
 <context id="Idle" />   
 <context id="ABCD" />   
 <context id="EFGH" />   
 <context id="LMN">  
 <payload>  
  <member id="hi" type="string" />   
  </payload>  
  </context>  
  </application>  
  </applications> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:23:44.573

`contexts`标签未正确关闭。

尝试

```
<applications>  
<application id="backupparking">  
  <toplevel />   
 <contexts />  
 <context id="Idle" />   
 <context id="ABCD" />   
 <context id="EFGH" />   
 <context id="LMN">  
 <payload>  
  <member id="hi" type="string" />   
  </payload>  
  </context>  
  </application>  
  </applications> 
```

或者

```
<applications>  
<application id="backupparking">  
  <toplevel />   
 <contexts>  
 <context id="Idle" />   
 <context id="ABCD" />   
 <context id="EFGH" />   
 <context id="LMN">  
 <payload>  
  <member id="hi" type="string" />   
  </payload>  
  </context>  
 </contexts>  
  </application>  
  </applications> 
```

# java - 通用类型：通配符与原始类型的变量

> ID：15517611
> 
> 赞同：2
> 
> 时间：2013-03-20T07:24:34.980
> 
> 标签：java, oop, generic-collections

考虑以下方法：

```
public static void listAll(LinkedList list) {

    for(Object obj : list)
        System.out.println(obj);

} 
```

和

```
public static void listAll(LinkedList<?> list) {

    for(Object obj : list)
        System.out.println(obj);

} 
```

这两种方法有什么区别？如果没有区别，为什么要使用第二个？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T08:27:36.167

`<?>`不允许您在列表中添加对象。请参阅下面的程序。它是我们传递给方法的特定类型的列表`<?>`。
具体手段，列表以特定类型创建并传递给`<?>`方法`listAll`。不要与**word** `specific`混淆。
具体可以是任何普通对象，例如，Dog、Tiger、String、Object、HashMap、File、Integer、Long .... 并且列表无穷无尽。一旦定义了包含对象的 列表*（在调用方法中定义，不在调用方法中定义**）*
`JLS` ，则强制`<?>`方法**不要在被调用方法中**执行添加**任何**操作。这就像在说**“不要碰我”。**`irrelevant objects``<?>`*`called-listAll`*`specific type`
`<?>`

 **```
public static void listAll(LinkedList list) 
{
    list.add(new String());  //works fine
    for(Object obj : list)
            System.out.println(obj);

}
public static void listAll(LinkedList<?> list) 
{
     list.add(new String());  //compile time error. Only 'null' is allowed.
     for(Object obj : list)
          System.out.println(obj);
} 
```

现在让我们看看不同的场景。当我们声明特定类型时会发生什么，例如 Dog、Tiger、Object、String ......任何东西。让我们将方法更改为`specific type`.

```
public static void listAll(LinkedList<String> list)// It is now specific type, 'String'
{
    list.add(new String());//works fine. Compile time it knows that 'list' has 'String'
    for(Object obj : list)
         System.out.println(obj);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:36:10.977

`List`是原始类型，`List<?>`是带有通配符参数的泛型类型。

假设我们有以下变量：

```
List<?> a;
List<String> b;
List c; 
```

该分配`b=a`给出了编译时错误（a`List<String>`不可分配给`List<?`），但`c=a`编译良好（`List<String>`可分配给原始类型`List`以与不使用泛型的遗留代码兼容）。

赋值`b=c`给出编译时警告（`List<?>`不可赋值给 `List<String>`），但`a=c`编译良好（`List<String>`可赋值给`List<?>`）**

# objective-c - JSON 请求使用 NSURLRequest 但不使用 ASIFormDataRequest

> ID：15517616
> 
> 赞同：2
> 
> 时间：2013-03-20T07:25:07.687
> 
> 标签：objective-c, json, asihttprequest, afnetworking, asiformdatarequest

我将两个 JSON 字典发送到一个 url。这适用于 NSURLRequest，但不适用于 ASIFormDataRequest。当使用 ASIFormDataRequest 发送相同的请求时，它会显示以下错误 -

> {"Response":"Error","Code":"400","Detail":"无法解析 form.request 中的 JSON"}

下面是我与 ASIFormDataRequest 一起使用的代码 -

```
NSString *request=[NSString stringWithFormat:@"REQUEST={\"request\":{\"api_username\":\"%@\", \"api_password\":\"%@\",\"method\":\"%@\"},",@"iphone",@"xlq229320#",@"getUser"];
NSString *methodParameter=[NSString stringWithFormat:@"\"methodparam\":{\"email\":\"%@\",\"password\":\"%@\"}}",@"ganesh@gmail.com",@"ganesh"];
NSString *finalRequest=[request stringByAppendingString:methodParameter];

NSMutableData* requestData = [NSMutableData dataWithBytes: [finalRequest UTF8String] length: [finalRequest length]];

ASIFormDataRequest *asiRequest = [ASIFormDataRequest requestWithURL:[NSURL URLWithString:urlForClinic]];

[asiRequest setTimeOutSeconds:60.0];
[asiRequest setPostBody:requestData];
[asiRequest setDelegate:self];
[asiRequest setRequestMethod:@"POST"];
[asiRequest setDidFailSelector:@selector(requestFailed:)];
[asiRequest setDidFinishSelector:@selector(requestFinished:)];
[asiRequest startAsynchronous]; 
```

我不明白我在哪里做错了。如果有人对此有任何线索，请告诉我。非常感谢。

我什至用 AFNetworking 尝试过，但也没有用。这是代码 -

```
NSDictionary *dict1 = [[NSDictionary alloc]initWithObjectsAndKeys:@"iphone",@"api_username",@"xlq229320#",@"api_password",@"getUser",@"method", nil];
NSDictionary *dict2 = [[NSDictionary alloc]initWithObjectsAndKeys:@"ganesh@gmail.com",@"email",@"ganesh",@"password",nil];
NSMutableDictionary *req = [[NSMutableDictionary alloc]initWithObjectsAndKeys:dict1,@"request",dict2,@"methodparam",nil];

NSData *jsonData = [NSJSONSerialization dataWithJSONObject:req options:NSJSONWritingPrettyPrinted error:nil];
NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];    
NSData *requestData = [NSData dataWithBytes:[jsonString UTF8String] length:[jsonString length]];

NSMutableURLRequest *request=[[NSMutableURLRequest alloc]initWithURL:[NSURL URLWithString:urlForClinic] cachePolicy:NSURLRequestReloadIgnoringCacheData timeoutInterval:30.0];
[request setHTTPMethod:@"POST"];
[request setHTTPBody:requestData];

AFJSONRequestOperation *operation = [AFJSONRequestOperation JSONRequestOperationWithRequest:request success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {
  NSLog(@"Public Timeline: %@ %@", JSON, response);
} failure:nil];

[operation start]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T09:15:52.953

将您要发送的数据格式化为 NSDictionary 中的键/值对，然后使用 NSJSONSerialization 创建您需要发送的 NSData 对象。会更兼容。

```
NSDictionary *jsonDict = @{key:value,key:value};
NSData *requestData = [NSJSONSerialisation dataWithJSONObject:jsonDict options:NSJSONWritingPrettyPrinted error:error]; 
```

# lua - 在 Corona SDK 中缩放蒙版图像

> ID：15517622
> 
> 赞同：3
> 
> 时间：2013-03-20T07:25:32.137
> 
> 标签：lua, coronasdk, masking

我有一个像这样的蒙面图像：

```
local mask = graphics.newMask("1_mask.png")
local image = display.newImage("1.png")
image:setMask(mask)
image.maskScaleX = image.xScale
image.maskScaleY = display.yScale
image.maskX = image.contentWidth/2
image.maskY = image.contentHeight/2 
```

如果我在 setMask 之后删除代码，图像看起来很好，虽然它太大了，所以我需要缩放它。但是，如果我尝试缩放图像，它看起来很破碎而且太小了。我试图避免调整我的图像大小，所以这是我的最后一个选择，那么如何缩放我的图像而不让它看起来损坏或最终太小？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:39:14.520

1.  您可以使用以下分配方案来缩短代码：

    ```
    local mask, image = graphics.newMask("1_mask.png"), display.newImage("1.png") 
    ```

2.  Corona 中有一种[`scale()`](http://docs.coronalabs.com/api/type/DisplayObject/scale.html)方法可用。您可以使用它将尺寸设置为原始尺寸的百分比。例如。将图像缩小到原始图像的 50%

    ```
    image:scale( 0.5, 0.5 ) 
    ```

3.  要保持与对象相同的蒙版比例`display`，您还需要设置`maskScaleX`和`maskScaleY`属性。

    ```
    image.maskScaleX, image.maskScaleY = 0.5, 0.5 
    ```

# php - CSS样式不适用于magento的left.phtml页面

> ID：15517624
> 
> 赞同：0
> 
> 时间：2013-03-20T07:25:36.913
> 
> 标签：php, magento

我是 magento 的新手，我正在将 css 应用于 magento 项目的 left.phtml 中的左侧导航菜单，这是代码

```
 <div id="leftnav">
    <?php
    $_menu = $this->renderCategoriesMenuHtml(0, 'level-top');
    ?>
    <?php if($_menu): ?>
    <div class="category">
        <div class="title" style="color:#fff;border:1px solid gray;padding:10px;"><?php echo $this->__('Category menu:') ?></div>

        <ul class="submenu">
            <?php echo "sidebar.phtml" ?>
        </ul>
    </div>
<?php endif ?>
</div> 
```

但是 css 不适用，所以告诉我如何进行 css 修改

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:30:56.877

可能您只是使用错误的 Phtml 进行修改。但无论如何 - 所有的 css 修改最好在 css 文件中进行，这些文件可以在 SKIN/PACKAGE/THEME/CSS 文件夹中找到

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:31:03.330

不要使用内联样式

只需更新您`style.css`的位于`skin/frontend/default/your-theme/css`

```
.title {
    color:#fff;
    border:1px solid gray;
    padding:10px;
} 
```

然后你必须`clear cache`从管理面板

1.  打开 Magento 管理面板

2.  转到系统>缓存管理

3.  检查所有缓存类型并在操作框中选择刷新

# c# - 从excel表中读取数据

> ID：15517626
> 
> 赞同：0
> 
> 时间：2013-03-20T07:25:39.777
> 
> 标签：c#, .net, excel, asp.net-mvc-4

我的 D 驱动器中有一个名为“test”的 excel 表（ms excel 2010）。我的数据如下

```
 Id                URL  
 1          http://www.sample.com/term=100898731%5Buid%5D&cmd=DetailsSearch&report=xml&format=text              
 2          http://www.sample.com/term==101120693%5Buid%5D&cmd=DetailsSearch&report=xml&format=text             
 3          http://www.sample.com/term==100893225%5Buid%5D&cmd=DetailsSearch&report=xml&format=text     
...........continues ............ 
```

如何在 C# 中编码以从 excel 表中一一读取这些 URL 并获取 "term=" 之后的数值？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:29:32.957

尝试这个

```
 System.Data.OleDb.OleDbConnection mCon;  
        mCon = new System.Data.OleDb.OleDbConnection();
        mCon.ConnectionString = ("Provider=Microsoft.ACE.OLEDB.12.0;data source=" + pathOfFile + ";Extended Properties=\"Excel 12.0;HDR=YES\";");
        System.Data.OleDb.OleDbCommand Command = new System.Data.OleDb.OleDbCommand();
        DataTable DTable = new DataTable();            
        string strSelectQuery, mstrDBTable;
        System.Data.OleDb.OleDbDataAdapter DataAdapter = new System.Data.OleDb.OleDbDataAdapter();            

        strSelectQuery = "SELECT * FROM [" + YourSheetName + "]"; 
      // YourSheetName is the sheet in xls from where you want to load data e.g Sheet1$
        if (mCon.State == ConnectionState.Closed)
        {
            mCon.Open();
        }
        DataAdapter = new System.Data.OleDb.OleDbDataAdapter(strSelectQuery, mCon);
        DataAdapter.Fill(DTable );
        mCon.Close(); 
```

现在您的 Excel 工作表在数据表中，您可以遍历它来操作 URL 中的字符串值

**编辑**

用于获取字符串

```
for(int i = 0; i<Dtable.Rows.Count;i++)
{
    string str = Dtable.Rows[i][1].ToString();
    string YourNumber = str.Substring((str.IndexOf('=') + 1), (str.IndexOf('%') - str.IndexOf('=')-1));
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T08:42:38.853

尝试这个

```
string fileName = "Activity.xls";
                            savePath += fileName; 
OleDbConnection conn= new OleDbConnection(@"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + Server.MapPath(savePath) + ";Extended Properties='Excel 12.0;HDR=YES'");
    if (conn.State == ConnectionState.Closed)
    conn.Open();
    string query = "select * from [Sheet1$]";
      OleDbDataAdapter da = new OleDbDataAdapter(query, conn);
                                DataSet ds = new DataSet();
                                da.Fill(ds, "Activities");
                                dt = ds.Tables[0];
                                conn.Close(); 
```

# jquery - 如何通过另一个类的onclick事件来控制一个完整的类？

> ID：15517627
> 
> 赞同：0
> 
> 时间：2013-03-20T07:25:40.140
> 
> 标签：jquery

我正在使用 spritespin 插件。请参阅此链接 - [http://spritespin.ginie.eu/examples.html](http://spritespin.ginie.eu/examples.html)

无论 spritespin 类中的 mouseup、mouse down 等动作发生在哪里，它都会旋转 360 度

我不想要这个动作。

我需要采取行动来控制另一个班级。

```
<div class="spritespin"></div>
<div class="left-mov"><a href="#"></a></div>
<div class="right-mov"><a href="#"></a></div> 
```

在这里，我想通过 left-mov 或 right-mov 类的鼠标悬停动作来控制 spritespin 整个动作。

我该如何进行呢？

任何想法，请指导我....

```
/* original code starts */
$(".spritespin").spritespin({
     width: 609,
     height: 503,
     frames: frames.length,
     behavior: "hold", // "hold"
     module: "360",
     sense: 1,
     source: frames,
     animate: false,
     loop: false,
     loopFrame: 0,
     frameWrap: false,
     frameStep: 1,
     frameTime: 72,
     enableCanvas: true,
     reverse: false,
     orientation: 'horizontal'
 }).bind("onFrame mouseup mousedown onLoad", function (e) {
     ----------------------------
 });

 /* original code ends */

 /* my code have to start like this */
 $(".left-mov a, .spritespin").mouseover(function (e) {

     // here i dont know how to bind the sprintespin class action, guide me please urgent....

 });
 /* my code ends */ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:34:35.017

你可以试试这个：

```
 $(".left-mov a").mouseover(function (e) {
      $(".spritespin").spritespin("prev");         
 }); 
```

如果下一步需要：

```
 $(".right-mov a").mouseover(function (e) {
      $(".spritespin").spritespin("next");         
 }); 
```

你可以在这里阅读更多：http: [//spritespin.ginie.eu/examples/api-usage](http://spritespin.ginie.eu/examples/api-usage)

# jquery - Jquery在内容页面asp net 3.5中不起作用

> ID：15517628
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:25:40.500
> 
> 标签：jquery

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
<ContentTemplate>
<script type="text/javascript" >
$(document).ready(function(){
$("#btnClick").click(function(){
    alert("Hello World");
    });
    });
</script>
<div>
    <asp:Button ID="btnClick" runat="server" Text="Click" />
</div>
</ContentTemplate>
</asp:UpdatePanel>
</asp:Content>" 
```

这是我的代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:32:53.800

它应该是

```
$(document).ready(function(){
$('input[id$="btnClick"]').click(function(){
    alert("Hello World");
    });
    }); 
```

请参阅[NAMING CONTAINER](http://msdn.microsoft.com/en-us/library/system.web.ui.control.namingcontainer.aspx)
您还应该查看[其 ID 或名称以](http://api.jquery.com/attribute-ends-with-selector/):- 结尾的 jquery 元素选择器

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:27:12.167

尝试这个

```
 $('#<%= btnClick.ClientID %>').click(function().... 
```

或者

使用`on`委托

```
 $(document).on('click','#<%= btnClick.ClientID %>',function().... 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-20T07:51:51.537

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
    <ContentTemplate>
    <script type="text/javascript" >
       $(document).ready(function(){
         $("#btnClick").click(function(){
            alert("Hello World");
         });
       });
    </script>
    <div>
        <asp:Button ID="btnClick" runat="server" Text="Click" />
    </div>
    </ContentTemplate>
    </asp:UpdatePanel>
    </asp:Content> 
```

这里你的脚本应该是这样的......

```
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
        <script type="text/javascript" >
           $(document).ready(function(){
$("#ctl00_m_g_3b0d8e69_1961_4bea_886d_413493ff7f9c_ctl00_btnClick").click(function(){
                alert("Hello World");
             });
           });
        </script>
        <div>
            <asp:Button ID="btnClick" runat="server" Text="Click" />
        </div>
        </ContentTemplate>
        </asp:UpdatePanel>
        </asp:Content> 
```

像这样的东西应该是你的控制 id:: $("#ctl00_m_g_3b0d8e69_1961_4bea_886d_413493ff7f9c_ctl00_btnClick").click(function()){}

# html - Html：单元格间距和单元格填充之间的差异

> ID：15517632
> 
> 赞同：26
> 
> 时间：2013-03-20T07:25:51.697
> 
> 标签：html, css, cellspacing, cellpadding

单元格间距和单元格填充有什么区别？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-03-20T07:50:18.997

这是我能给出的简单答案。

![在此处输入图像描述](../Images/543bfda7cc563ec6690f8b5c6f40800f.png)

* * *

## 回答 #2

> 赞同：34
> 
> 时间：2013-03-20T07:44:21.407

![单元格间距和单元格填充](../Images/e81955da035e062f7357c5e3d7393382.png)

* * *

## 单元格填充

用于格式化目的，用于指定单元格边缘之间以及单元格内容中所需的空间。指定单元格填充的一般格式如下：

```
< table width="100" border="2" cellpadding="5"> 
```

上面在每个单元格内添加了 5 个像素的填充。

## 单元格间距：

单元格间距也是使用 f 格式的一种，但单元格填充和单元格间距之间存在重大差异。如下： 单元格填充用于设置额外的空间，用于将单元格壁与其内容分开。但相比之下，单元格间距用于设置单元格之间的空间。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T07:28:41.373

`Cellpadding`是表格单元格的外边缘与单元格内容之间的空间量。

`Cellspacing`是各个**表格单元格**之间的空间量。

**更多详情****[**链接 1**](http://www.htmlcodetutorial.com/tables/index_famsupp_29.html)* *

**[链接 2](http://www.htmlite.com/lite012b.php)**

**[链接 3](http://www.hitmill.com/html/tables/two_f.html)**

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-20T08:47:27.680

顾名思义，CellSpacing 是相邻单元格之间的空间，另一方面，CellPadding 表示单元格内容周围的填充。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T07:28:03.180

单元格间距和边距是单元格**之间**的空间。

单元格内边距是单元格内的空间，位于单元格边框（即使不可见）和单元格内容（例如文本）之间。

# c# - 在 linq 中添加 where 子句

> ID：15517640
> 
> 赞同：1
> 
> 时间：2013-03-20T07:26:19.687
> 
> 标签：c#, linq, c#-4.0

我是Linq的新手。请帮助。在此查询中，我需要添加 where 子句（如`EMPLOYEE_ID==10`）。db 代表 dbcontext。

```
 var query = db.EmpQualifications.Select(EmpQu => new {
EMP_QUALI_ID = EmpQu.EMP_QUALI_ID,EMPLOYEE_ID = EmpQu.EMPLOYEE_ID,
 }).OrderBy(D => D.EMP_QUALI_ID); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T07:27:11.357

只需在`where`前面添加子句`Select`

```
var results = db.EmpQualifications
                   .Where(r=> r.EMPLOYEE_ID == 10)
                   .Select(EmpQu => 
                             new {
                                 EMP_QUALI_ID = EmpQu.EMP_QUALI_ID,
                                 EMPLOYEE_ID = EmpQu.EMPLOYEE_ID, 
                                 })
                   .OrderBy(D => D.EMP_QUALI_ID); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:29:48.890

你可以像这样使用它；

```
var query = db.EmpQualification
               .Where(e => e.MPLOYEE_ID==10)
               .Select... 
```

您可以阅读更多信息 fromm[`where clause - Query Keywords`](http://msdn.microsoft.com/en-us/library/bb311043.aspx)

> where 子句是一种过滤机制。它几乎可以定位在查询表达式中的任何位置，**但它不能是第一个或最后一个子句**。where 子句可能出现在 group 子句之前或之后，具体取决于您是否必须在分组之前或之后过滤源元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:28:22.143

在之前添加`Where`扩展方法`Select`

```
var query = db.EmpQualifications.Where(x => x.MPLOYEE_ID==10).Select.... 
```

# javascript - 由按位运算产生的 32 位 JavaScript 数字如何转换回 64 位数字

> ID：15517646
> 
> 赞同：2
> 
> 时间：2013-03-20T07:26:34.660
> 
> 标签：javascript, bit-manipulation

我试图了解 JavaScript 中的按位运算是如何工作的，更具体地说，是如何将按位运算产生的 32 位数字转换回 64 位 JavaScript 数字。在 32 位数字中设置最左边的位以及操作溢出时，我得到了一些奇怪的结果。

例如，使用以下操作：

```
0x01 << 31 
```

`0x80000000`如果数字是 32 位长，通常会导致。但是当 JavaScript 将此数字转换回 64 位值时，它会用`1`结果值填充最左边的 32 位`FFFFFFFF80000000`。

类似地，当左移 32 位，从而溢出一个 32 位整数时，操作如下：

```
0x02 << 32 
```

数字会溢出，结果值应该是`0x00`。但生成的 JavaScript 编号是`0x02`.

JavaScript 是否有任何我不知道的用于按位操作的特定规则？我知道所有按位运算都是使用 32 位整数执行的，并且 JavaScript 数字是 64 位双精度浮点数，但我不明白在两者之间转换时额外填充来自哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:33:38.597

1.  按位运算符的结果是有*符号*的 int32，当它们转换回数字时会传播符号位。

2.  您不能移动超过 31 位：

[令 shiftCount 为屏蔽掉除 rnum 的最低有效 5 位以外的所有结果，即计算 rnum & 0x1F。](http://es5.github.com/#x11.7.1)

即，`x<<32`与 相同`x<<0`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-03T17:49:42.803

在 JavaScript 中，所有数字都使用 53 位表示。JavaScript 使用浮点表示在内部存储所有数字，这意味着整数存储为浮点数（尾数有 53 位）。这篇博客文章是关于这个主题的好读物。

所以用 53 位我们可以表示最大值 2^53 = 9007199254740992。

与 C、C# 等其他语言不同，JavaScript 中不能使用右移和 AND 二进制运算从 53 位数字中提取低 32 位和高 21 位。

原因是当我们对任何数字应用二元运算符时 - JavaScript 首先将该数字转换为 32 位有符号数，应用二元运算并返回结果。这意味着任何高于 32 的位都将被丢弃。

我使用以下方法从正数 <= 2^53 中提取较高（21 位）和较低（32 位）部分。

```
var bigNumber = Math.pow(2, 53); // 9007199254740992
var bigNumberAsBinaryStr = bigNumber.toString(2); // '100000000000000000000000000000000000000000000000000000'
// Convert the above binary str to 64 bit (actually 52 bit will work) by padding zeros in the left
var bigNumberAsBinaryStr2 = '';
for (var i = 0; i < 64 - bigNumberAsBinaryStr.length; i++) {
    bigNumberAsBinaryStr2 += '0';
};

bigNumberAsBinaryStr2 += bigNumberAsBinaryStr;

var lowInt = parseInt(bigNumberAsBinaryStr2.substring(0, 32), 2);
var highInt = parseInt(bigNumberAsBinaryStr2.substring(32), 2); 
```

要回答有关转换回 64 位的问题，请参见下文：

```
Assert((lowInt * Math.pow(2, 32) + highInt) === bigNumber); 
```

# c++ - 致命错误 LNK1169：在游戏编程中发现一个或多个多重定义符号

> ID：15517658
> 
> 赞同：26
> 
> 时间：2013-03-20T07:27:09.530
> 
> 标签：c++, oop, allegro5

我一直在训练使用 C++ 中的面向对象编程，但我不断收到此错误：

```
1>main.obj : error LNK2005: "int WIDTH" (?WIDTH@@3HA) already defined in GameObject.obj
1>main.obj : error LNK2005: "int HEIGHT" (?HEIGHT@@3HA) already defined in GameObject.obj
1>Spaceship.obj : error LNK2005: "int WIDTH" (?WIDTH@@3HA) already defined in GameObject.obj
1>Spaceship.obj : error LNK2005: "int HEIGHT" (?HEIGHT@@3HA) already defined in GameObject.obj
1>C:\Users\ted\documents\visual studio 2010\Projects\fullSpace\Debug\fullSpace.exe : fatal error LNK1169: one or more multiply defined symbols found 
```

但是对我来说，似乎整个代码都写得很好，两个整数只在 Global 标头中提到，所有对象似乎都在正确继承。但是，就像我刚才说的，我是 OOP 的初学者，所以我真的需要一个意见：还值得一提的是，我正在使用 allegro 5 来创建一个侧面射手。

这是代码：

（主要的）：

```
#include <allegro5/allegro.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>
#include <allegro5/allegro_font.h>
#include <allegro5\allegro_ttf.h>
#include <allegro5\allegro_audio.h>
#include <allegro5\allegro_acodec.h>

#include <list>

#include "GameObject.h"
#include "Spaceship.h"
#include "Globals.h"

//controls

bool keys[] = {false, false, false, false, false};
enum KEYS{UP, DOWN, LEFT, RIGHT, SPACE};

//globals
Spaceship *ship;

std::list <GameObject *> objects;
std::list <GameObject *>::iterator iter;
std::list <GameObject *>::iterator iter2;

//prototypes

//main function
int main(int argc, char **argv)
{
    //shell variables
    bool done = false;
    bool render = false;

    float gameTime = 0;
    int frames = 0;
    int gameFPS = 0;

    //project variables

    ship = new Spaceship();

    ALLEGRO_BITMAP *shipImage = NULL;
    ALLEGRO_BITMAP *cometImage= NULL;
    ALLEGRO_BITMAP *explImage = NULL;
    ALLEGRO_BITMAP *bgImage = NULL;
    ALLEGRO_BITMAP *mgImage = NULL;
    ALLEGRO_BITMAP *plImage = NULL;
    ALLEGRO_BITMAP *mgImage2 = NULL;
    ALLEGRO_BITMAP *fgImage = NULL;
    ALLEGRO_BITMAP *titleImage= NULL;
    ALLEGRO_BITMAP *lostImage = NULL;

    //allegro variables
    ALLEGRO_DISPLAY *display = NULL;
    ALLEGRO_EVENT_QUEUE *event_queue = NULL;
    ALLEGRO_TIMER *timer;
    ALLEGRO_FONT *font18;

    //initiate variables
    if(!al_init())
        return -1;

    display = al_create_display(WIDTH, HEIGHT);
    if(!display)
    return -1;

    //addon installation

    al_install_keyboard();
    al_init_image_addon();
    al_init_font_addon();
    al_init_ttf_addon();
    al_init_primitives_addon();
    al_install_audio();
    al_init_acodec_addon();

    //project init

    font18 = al_load_font("arial.ttf", 18, 0);
    al_reserve_samples(15);

    bgImage = al_load_bitmap("layer1.png");
    mgImage = al_load_bitmap("layer2.png");
    plImage = al_load_bitmap("starMG.png");
    mgImage2 = al_load_bitmap("layer3.png");
    fgImage = al_load_bitmap("layer4.png");

    shipImage = al_load_bitmap("spaceship.png");
    al_convert_mask_to_alpha(shipImage, al_map_rgb(255, 0, 255));

    cometImage = al_load_bitmap("asteroid-1-96.png");
    explImage = al_load_bitmap("explosion_3_40_128.png");

    titleImage = al_load_bitmap("Shooter_Title.png");
    lostImage = al_load_bitmap("Shooter_Lose.png");

    //object init
    ship->init(shipImage);

    //iter list
    objects.push_back(ship);

    srand(time(NULL));

    //timer init and startup

    event_queue = al_create_event_queue();
    timer = al_create_timer(1.0 / 60);

    al_register_event_source(event_queue, al_get_timer_event_source(timer));
    al_register_event_source(event_queue, al_get_keyboard_event_source());

    al_start_timer(timer);
    gameTime = al_current_time();

    while(!done)
    {
        ALLEGRO_EVENT ev;
        al_wait_for_event(event_queue, &ev);

        //input
        if(ev.type == ALLEGRO_EVENT_KEY_DOWN)
        {
            switch(ev.keyboard.keycode)
            {
            case ALLEGRO_KEY_ESCAPE:
                done = true;
                break;
            case ALLEGRO_KEY_LEFT:
                keys[LEFT] = true;
                break;
            case ALLEGRO_KEY_RIGHT:
                keys[RIGHT] = true;
                break;
            case ALLEGRO_KEY_UP:
                keys[UP] = true;
                break;
            case ALLEGRO_KEY_DOWN:
                keys[DOWN] = true;
                break;
            case ALLEGRO_KEY_SPACE:
                keys[SPACE] = true;
                break;

            }
        } else if(ev.type == ALLEGRO_EVENT_KEY_UP)
        {
            switch(ev.keyboard.keycode)
            {
            case ALLEGRO_KEY_ESCAPE:
                done = true;
                break;
            case ALLEGRO_KEY_LEFT:
                keys[LEFT] = false;
                break;
            case ALLEGRO_KEY_RIGHT:
                keys[RIGHT] = false;
                break;
            case ALLEGRO_KEY_UP:
                keys[UP] = false;
                break;
            case ALLEGRO_KEY_DOWN:
                keys[DOWN] = false;
                break;
            case ALLEGRO_KEY_SPACE:
                keys[SPACE] = false;
                break;
            }
        }

        else if (ev.type == ALLEGRO_EVENT_TIMER)
        {
            render = true;

            //fps
            frames++;
            if(al_current_time() - gameTime >= 1)
            {
                gameTime = al_current_time();
                gameFPS = frames;
                frames = 0;
            }

            //shipUpdate

            if(keys[UP])
                ship ->moveUp();
            else if(keys[DOWN])
                ship ->moveDown();
            else
                ship->resetAnim(1);

            if(keys[LEFT])
                ship ->moveLeft();
            else if(keys[RIGHT])
                ship -> moveRight();
            else
                ship ->resetAnim(0);

        }
        //render

            if(render && al_is_event_queue_empty(event_queue))
            {
                render = false;

                //begin render
                for(iter = objects.begin(); iter != objects.end(); ++iter)
                    (*iter)->render();

                //Flip Buffers
                al_flip_display();
                al_clear_to_color(al_map_rgb(0,0,0));
            }
        }

                //destroy objects

        //visual objects
    al_destroy_bitmap(cometImage);
    for(iter = objects.begin(); iter != objects.end(); ++iter)
        (*iter)->destroy(shipImage);
        iter = objects.erase(iter);

    al_destroy_bitmap(explImage);
    al_destroy_bitmap(bgImage);
    al_destroy_bitmap(mgImage);
    al_destroy_bitmap(fgImage);
    al_destroy_bitmap(titleImage);
    al_destroy_bitmap(lostImage);

        //audio objects
    /*
    al_destroy_sample(shot);
    al_destroy_sample(boom);
    al_destroy_sample(song);
    al_destroy_sample_instance(songInstance);
    */

        //shell objects
    al_destroy_font(font18);
    al_destroy_timer(timer);
    al_destroy_event_queue(event_queue);
    al_destroy_display(display);

    return 0;
} 
```

(Globals.h):

```
#pragma once

int WIDTH = 1024;
int HEIGHT = 800;

enum ID{PLAYER, ENEMY, BULLET, BORDER, MISC};
enum STATES{TITLE, PLAYING, LOST}; 
```

（游戏对象.h）：

```
#pragma once

#include "Globals.h"
#include <iostream>

#include <allegro5/allegro5.h>

#include <allegro5/allegro_primitives.h>

class GameObject
{
private:
    int ID;
    bool alive;
    bool collidable;

protected:
    float x;
    float y;

    float velX;
    float velY;

    int dirX;
    int dirY;

    int boundX;
    int boundY;

    int maxFrame;
    int curFrame;
    int frameCount;
    int frameDelay;
    int frameWidth;
    int frameHeight;
    int animationColumns;
    int animationDirection;

    ALLEGRO_BITMAP *image;

public:
    GameObject();
    void virtual destroy(ALLEGRO_BITMAP *image);

    void init(float x, float y, float velX, float velY, int dirX, int dirY, int boundX, int boundY);
    void virtual update();
    void virtual render();

    float getX() {return x;}
    float getY() {return y;}

    void setX(float x) {GameObject::x = x;}
    void setY(float y) {GameObject::y = y;}

    int getBoundX() {return boundX;}
    int getBoundY() {return boundY;}

    int getID() {return ID;}
    void setID(int ID) {GameObject::ID = ID;}

    bool getAlive() {return alive;}
    void setAlive(bool alive) {GameObject::alive = alive;}

    bool getCollidable() {return collidable;}
    void setCollidable(bool collidable) {GameObject::collidable = collidable;}

    bool checkCollisions(GameObject *otherObject);
    void virtual collided(int objectID);
    bool collidableCheck();
}; 
```

（游戏对象.cpp）：

```
#include "GameObject.h"

GameObject::GameObject()
{
    x = 0;
    y = 0;

    velX = 0;
    velY = 0;

    dirX = 0;
    dirY = 0;

    boundX = 0;
    boundY = 0;

    maxFrame = 0;
    curFrame = 0;
    frameCount = 0;
    frameDelay = 0;
    frameWidth = 0;
    frameHeight = 0;
    animationColumns = 0;
    animationDirection = 0;

    image = NULL;

    alive = true;
    collidable = true;

}

void GameObject::destroy(ALLEGRO_BITMAP *image)
{
    if(image != NULL)
        al_destroy_bitmap(image);

}
void GameObject::init(float x, float y, float velX, float velY, int dirX, int dirY, int boundX, int boundY)
{
    GameObject::x = x;
    GameObject::y = y;

    GameObject::velX = velX;
    GameObject::velY = velY;

    GameObject::dirX = dirX;
    GameObject::dirY = dirY;

    GameObject::boundX = boundX;
    GameObject::boundY = boundY;

}

void GameObject::update()
{
    x += velX*dirX;
    y += velY*dirY;
}

void GameObject::render()
{

}

bool GameObject::checkCollisions(GameObject *otherObject)
{
    float oX = otherObject->getX();
    float oY = otherObject->getY();

    int obX = otherObject->getBoundX();
    int obY = otherObject->getBoundY();

    if(x + boundX > oX - obX &&
       x - boundX < oX + obX &&
       y + boundY > oY - obY &&
       y - boundY < oY + obY
       )
       return true;
    else
       return false;
}

void GameObject::collided(int objectID)
{

}
bool GameObject::collidableCheck()
{
    return alive && collidable;
} 
```

（太空船.h）：

```
#pragma once

#include "GameObject.h"

class Spaceship : public GameObject
{
private :
    int lives;
    int score;
    int animationRow;

public :
    Spaceship();

    void destroy(ALLEGRO_BITMAP *image);

    void init(ALLEGRO_BITMAP *image = NULL);

    void update();
    void render();

    void moveUp();
    void moveDown();
    void moveLeft();
    void moveRight();

    void resetAnim(int pos);

    int getLives(){return lives;}

    int getScore() {return score;}

    void looseLife() {lives--;}
    void addPoint() {score++;}

    void collide(int objectID);

}; 
```

（太空船.cpp）：

```
#include "Spaceship.h"

    Spaceship::Spaceship()
    {}

    void Spaceship::destroy(ALLEGRO_BITMAP *image)
    {
        GameObject::destroy(image);
    }
    void Spaceship::init(ALLEGRO_BITMAP *image)
    {
        GameObject::init(20, 200, 6, 6, 0, 0, 10, 12);

        setID(PLAYER);
        setAlive(true);

        lives = 3;
        score = 0;

        maxFrame = 3;
        curFrame = 0;
        frameWidth = 46;
        frameHeight = 41;
        animationColumns = 3;
        animationDirection = 1;

        animationRow = 1;

        if(image != NULL)
        {
            Spaceship::image = image;
        }
    }

    void Spaceship::update()
    {
        GameObject::update();
        if(x < 0)
            x=0;
        else if ( x > WIDTH)
            x = WIDTH;
        if(y < 0)
            y = 0;
        else if (y > HEIGHT)
            y = HEIGHT;
    }
    void Spaceship::render()
    {
        GameObject::render();

        int fx = (curFrame % animationColumns) *frameWidth;
        int fy = animationRow *frameHeight;

        al_draw_bitmap_region(image, fx, fy, frameWidth, frameHeight,
            x - frameWidth /2, y - frameHeight /2, 0);

    }

    void Spaceship::moveUp()
    {
        animationRow = 0;
        dirY = -1;

    }
    void Spaceship::moveDown()
    {
        animationRow = 2;
        dirY = 1;
    }
    void Spaceship::moveLeft()
    {
        curFrame = 2;
        dirX = -1;
    }
    void Spaceship::moveRight()
    {
        curFrame = 1;
        dirX = 1;
    }

    void Spaceship::resetAnim(int pos)
    {
        if(pos == 1)
        {
            animationRow = 1;
            dirY = 0;
        }
        else
        {
            curFrame = 0;
            dirX = 0;
        }
    }

    void Spaceship::collide(int objectID)
    {
        if(objectID == ENEMY)
            lives--;

    } 
```

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-03-20T07:34:18.290

这两个`int`变量在头文件中*定义。*这意味着每个包含标题的源文件都将包含它们的定义（标题包含纯文本）。当然会导致多个定义错误。

你有几个选项来解决这个问题。

1.  制作变量`static`( `static int WIDTH = 1024;`)。它们仍将存在于每个源文件中，但它们的定义在源文件之外将不可见。

2.  使用`extern`( `extern int WIDTH;`) 将它们的定义转换为声明，并将定义放入**一个**源文件中：`int WIDTH = 1024;`.

3.  可能是最好的选择：制作变量`const`( `const int WIDTH = 1024;`)。这使得它们`static`隐含，并且还允许它们用作编译时常量，允许编译器直接使用它们的值，而不是发出代码从变量等中读取它。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-20T07:29:15.840

您不能将变量定义放在头文件中，因为这些将成为您包含头文件的所有源文件的一部分。

这`#pragma once`只是为了防止同一源文件中的多个包含，而不是防止多个源文件中的多个包含。

您可以在头文件中*声明*变量`extern`，然后在单个源文件中*定义它们。**或者*您可以`const`在头文件中声明变量，然后编译器和链接器将对其进行管理。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:30:24.000

```
const int WIDTH = 1024;
const int HEIGHT = 800; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-25T18:53:08.447

[我在这里](https://stackoverflow.com/a/19740915/1592639)回答了一个类似的问题。

在项目的设置中，添加 `/FORCE:MULTIPLE`到链接器的**命令行**选项。

来自[MSDN](https://stackoverflow.com/a/19740915/1592639)：“使用 /FORCE:MULTIPLE 创建一个输出文件，无论 LINK 是否为一个符号找到多个定义。”

这就是程序员所说的“快速而肮脏”的解决方案，但有时您只是希望构建完成并稍后解决问题的根源，因此这是一种临时解决方案。要真正避免此错误，前提是您想要

```
int WIDTH = 1024;
int HEIGHT = 800; 
```

要在多个源文件之间共享，只需在单个 .c / .cpp 文件中声明它们，并在头文件中引用它们：

```
extern int WIDTH;
extern int HEIGHT; 
```

然后将标题包含在您希望这些全局变量可用的任何其他源文件中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-10T03:03:47.080

In my case I got error message `one or more multiply defined symbols found`, and I find another error message shows `xxx function is already defined in ooo.dll`, but in my project doensn't reference `ooo.dll` at all.

Then I recall I use `vcpkg` to install `ooo.dll` possibly globally before, so use `vcpkg` to remove uninstall `ooo.dll package`, and build again, the error is solved and build success.

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-05-09T07:19:32.123

只需添加 /FORCE 作为链接器标志，就可以了。

例如，如果您正在处理 CMakeLists.txt。然后添加以下行：

```
SET(CMAKE_EXE_LINKER_FLAGS  "/FORCE") 
```

# php - php数组指定位置到新数组

> ID：15517663
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:27:24.277
> 
> 标签：php

我有一个json数据

```
[
 {"s_month":"1", "s_name": "John"},
 {"s_month":"4", "s_name": "Merry"},
 {"s_month":"7", "s_name": "Apple"},
 {"s_month":"10", "s_name": "Kevin"}
] 
```

我想根据月份创建一个数组，但是数组的长度是12，这个数组就好了。

```
Array(
 [0]=>John
 [1]=>non
 [2]=>non
 [3]=>Merry
 [4]=>non
 [5]=>non
 [6]=>Apple
 [7]=>non
 [8]=>non
 [9]=>Kevin
 [10]=>non
 [11]=>non
) 
```

我必须构建一个默认的 12 长度数组吗？怎么做？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:33:48.107

试试这个，

```
$jsonStr = YOUR JSON STRING;
$dataArr = json_decode($jsonStr,true);
$newArr = array();
for($i=0;$i<12;$i++){
   if(!empty($dataArr[$i]["s_month"]) && $dataArr[$i]["s_month"]==($i+1)){
       $newArr[$i]=$dataArr[$i]["s_month"];
   }else{
       $newArr[$i]="NA";
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:53:10.980

```
$array = array_fill(0, 12, 'non');

foreach (json_decode($json, true) as $entry) {
    $array[$entry['s_month'] - 1] = $entry['s_name'];
} 
```

# android - Android 2.2 中缺少 PageShow 事件

> ID：15517666
> 
> 赞同：1
> 
> 时间：2013-03-20T07:27:28.397
> 
> 标签：android, cordova, jquery-mobile, pageshow

我在使用 Android 2.2 和 2.3.3 avd/phone 时遇到了一个问题，但如果我使用英特尔 atom 图像进行 avd 则不会。我正在使用 phonegap 2.3.0 和 jqm 1.3.0。我错过了页面上的 pageshow 事件，并且我的应用程序损坏了，这意味着导航不再起作用：

```
 03-19 16:09:13.045: I/CordovaLog(2733): Found log level DEBUG
03-19 16:09:13.045: I/CordovaLog(2733): Changing log level to DEBUG(3)
03-19 16:09:13.055: I/CordovaLog(2733): Found preference for useBrowserHistory=true
03-19 16:09:13.055: D/CordovaLog(2733): Found preference for useBrowserHistory=true
03-19 16:09:13.065: I/CordovaLog(2733): Found preference for exit-on-suspend=false
03-19 16:09:13.065: D/CordovaLog(2733): Found preference for exit-on-suspend=false
03-19 16:09:18.395: D/CordovaLog(2733): mobile init
03-19 16:09:20.785: D/CordovaLog(2733): init pgSplash
03-19 16:09:20.995: D/CordovaLog(2733): page before show: pgSplash
03-19 16:09:21.285: D/CordovaLog(2733): pageshow : pgSplash
03-19 16:09:21.355: D/CordovaLog(2733): init
03-19 16:09:22.035: D/CordovaLog(2733): Falling back on PROMPT mode since _cordovaNative is missing.
03-19 16:09:22.285: D/CordovaLog(2733): device ready
03-19 16:09:22.295: D/CordovaLog(2733): check version
03-19 16:09:23.795: D/CordovaLog(2733): init pgLogin
03-19 16:09:24.045: D/CordovaLog(2733): page before show: pgLogin 
```

它缺少 pgLogin 的 pageshow 事件并且导航被破坏。我绑定：

```
$('[data-role=page]').live('pageshow', function (event, ui) {

         lastPage = $.mobile.activePage.attr('id');
         console.log('pageshow : ' + lastPage);
...
}); 
```

正如您在日志中看到的，我从 jqm 获得移动初始化事件，我从 phonegap 和第一页获得设备就绪事件：pgSplash 触发所有事件：初始化、显示前页面、页面显示。但在那之后它就坏了。在 4.1 模拟器 /galaxy 选项卡设备上它可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T12:25:39.807

你在使用 jquery`1.9`吗？live 折旧为`1.9`. 开始使用`on`而不是`live`

另外为什么不使用页面ID？而不是`[data-role=page]`看看？

# jsf - 如何在 Primefaces Gmap 上标记用户的当前位置？

> ID：15517667
> 
> 赞同：4
> 
> 时间：2013-03-20T07:27:28.800
> 
> 标签：jsf, primefaces

在 Gmap 中，我们可以通过传递自定义纬度和经度来标记所需的位置。有没有办法为用户的当前位置添加标记到地图。？有没有办法获取用户的经纬度？以前有人做过吗？请分享你的想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T11:12:27.307

您需要计算出用户的 IP 地址，然后将其提供给一些 IP 地理位置工具/API，以获取纬度/经度的地理位置。最后将此信息用于您的 Google 地图。

JSF 能为您做的就是为您提供用户的 IP 地址，如下所示：

```
ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
HttpServletRequest request = (HttpServletRequest) externalContext.getRequest();
String ip = request.getRemoteAddr();
// ... 
```

如果您也想考虑代理，请检查`X-Forwarded-For`标题：

```
ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
HttpServletRequest request = (HttpServletRequest) externalContext.getRequest();
String ip = request.getRemoteAddr();
String forwardedFor = request.getHeader("X-Forwarded-For");

if (forwardedFor != null) {
    ip = forwardedFor.split("\\s*,\\s*", 2)[0];
}

// ... 
```

您又必须使用哪个 IP 地理位置工具/API 是您必须自己回答的问题。只需将关键字“ [ip geo location](http://google.com/search?q=ip+geo+location) ”提供给 Google 即可开始使用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T12:11:40.810

除了 BalusC 的回答外，还有来自[Google Maps API 文档](https://developers.google.com/maps/articles/geolocation)的引用（Primefaces 在后台使用此 API）：

> 较新的浏览器开始支持[W3C 地理定位标准](http://dev.w3.org/geo/api/spec-source.html)。该标准是 HTML5 的一部分，很可能会成为未来的事实标准。所有希望执行地理定位的应用程序都应支持此标准。
> 
> 一些浏览器使用 IP 地址来检测用户的位置；但是，由于用户的 IP 地址只能提供用户位置的粗略估计，我们不建议使用这种方法进行地理定位。W3C 方法是最简单且最受支持的方法，因此应优先于其他方法。

这是给定链接的一个简短示例：

```
var initialLocation;
var browserSupportFlag =  new Boolean();
// Try W3C Geolocation (Preferred)
  if(navigator.geolocation) {
    browserSupportFlag = true;
    navigator.geolocation.getCurrentPosition(function(position) {
      initialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
      map.setCenter(initialLocation);
    }, function() {
      handleNoGeolocation(browserSupportFlag);
    });
  } 
```

通常，当网站尝试访问位置信息时，会提示用户并要求其许可。

您可以先尝试一下，如果失败，请继续使用 Balusc 的回答。

# vb.net - vb.net 中的更新查询不起作用

> ID：15517669
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:27:30.270
> 
> 标签：vb.net, sql-update

我对更新声明有疑问。这是我的 vb.net 服务器端代码：

```
Public Function UpdateRow() As DataTable

    Dim query As String = "Update Intranet.dbo.Gn_ISCoordinators SET cUserName='" & tbUsername.Text.Trim() &
        "',lDeptUser=" & CByte(rblDept.SelectedIndex) & " WHERE cUserName=" & "'" & Session("Edit") & "'"
    Dim hehe As DataTable = New DataTable()
    Using adapter1 = New SqlDataAdapter(query, ConfigurationManager.ConnectionStrings("IntranetConnectionString").ConnectionString)
        adapter1.Fill(hehe)
        Response.Redirect("~/Home.aspx")
        Session("Edit") = Nothing
        Return hehe
    End Using

End Function 
```

我在这里称呼它：

```
Protected Sub btnSubmit_Click(sender As Object, e As System.EventArgs) Handles btnSubmit.Click
If Not Session("Edit") Is Nothing Then
        UpdateRow()
End If 
```

我想要从文本框获取数据和从 RadioButtonList 获取数据并使用数据库中的数据进行更新的查询。在我的情况下，这`Session("Edit")`与我想用文本框的文本替换它的字段相同。当我按下按钮时，它没有给我任何改变。问题究竟出在哪里？

请帮我。

提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:30:04.470

您正在运行更新查询。您需要使用 ExecuteNonQuery 执行它，适配器的 Fill 命令从数据库中读取数据而不是写入它。而你的数据不在数据库中

```
Public Function UpdateRow() As DataTable

    Dim query As String = "Update Intranet.dbo.Gn_ISCoordinators SET cUserName=@uname" +  
                          ",lDeptUser=@dept WHERE cUserName=@oldName"
    Using con = new SqlConnection(ConfigurationManager.ConnectionStrings("IntranetConnectionString").ConnectionString)    
         con.Open()
         Dim cmd = new SqlCommand(query, con)
         cmd.Parameters.AddWithValue("@uname", tbUsername.Text.Trim())
         cmd.Parameters.AddWithValue("@dept", CByte(rblDept.SelectedIndex))
         cmd.Parameters.AddWithValue("@oldname", Session("Edit"))
         cmd.ExecuteNonQuery()
    End Using
End Function 
```

另请注意，您不应该连接字符串以形成 sql 命令。这种方法会导致一个非常严重的安全问题，称为[Sql Injection](http://www.unixwiz.net/techtips/sql-injection.html)

# css - 具有响应式 css 的移动分辨率上的水平滚动

> ID：15517671
> 
> 赞同：0
> 
> 时间：2013-03-20T07:27:37.113
> 
> 标签：css, responsive-design

我有一个网站供我的客户使用，我需要设计具有跨平台兼容性的网站。我不知道我在 css 代码上做错了什么。但对于`width`下面`1024px`我将`wrapper`宽度设置为`100%`。当我将 Firefox 的大小调整为 768 时，它正在创建少量的水平滚动（大约 10 像素）。所以我将平板电脑的 with 设置为 730px，这样它就不会得到任何水平滚动，但即使是同样的问题也会导致移动分辨率。

我已经阅读了大多数与该主题相关的博客，他们建议`overflow-x:hidden`. 这可能不是最好的解决方案。请帮我解决这个问题。

网站链接：[社会选举](http://www.socialelections.com/)

任何帮助将不胜感激。提前感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:11:21.700

我已经为您的站点进行了调试，并且我知道所有设备都有一个包装容器宽度，移动设备应该是 240 像素而不是 320 像素。

请在此处查看所有设备的网站网址... [http://mattkersley.com/responsive/](http://mattkersley.com/responsive/)

# google-chrome - 端口错误：无法建立连接。“未定义”的事件处理程序出错。（镀铬扩展）

> ID：15517672
> 
> 赞同：0
> 
> 时间：2013-03-20T07:27:37.567
> 
> 标签：google-chrome, google-chrome-extension

我基本上是在尝试执行 Chrome 扩展文档中的代码。这就是我卡住的地方。

我正在尝试从内容脚本>>背景页面（对于XHR）传递值。

我进入控制台的错误是：

> 端口错误：无法建立连接。接收端不存在。miscellaneous_bindings：236
> 
> “未定义”的事件处理程序错误：无法读取未定义的属性“告别” 类型错误：无法
> 在 chrome-extension://bccajmddlghglocgmkpkpbiankmhlfkc/js/content_script.js:23:23
> 在 miscellaneous_bindings读取未定义的属性“告别” :281:11
> at chrome.Event.dispatchToListener (event_bindings:387:21)
> at chrome.Event.dispatch_ (event_bindings:373:27)
> at chrome.Event.dispatch (event_bindings:393:17)
> at Object.chromeHidden.Port。 dispatchOnDisconnect (miscellaneous_bindings:239:27)

**content_script.js**看起来像这样：

```
function func1(){

$(function() {

    $('.genericStreamStory').each(function(){
       var link = $(this).find('.uiStreamSource a').attr('href');

       $(this).find('.uiStreamFooter').find('.a1').remove();
       $(this).find('.uiStreamFooter').append("<span class='a1' style='color:red !important;'> · Sample</span>");

       $(this).find('.a1').click(function(){
           alert('hi');
            chrome.extension.sendMessage({greeting: "hello"}, function(response) {
              console.log(response.farewell);
        });

        console.log('testing');

       }); //end of click handler
    });     //end of 'each' function
});

}
func1();
window.setInterval("func1()", 1000); 
```

发送消息语句`chrome.extension.sendMessage({greeting: "hello"}, function(response) { console.log(response.farewell); });`

取自[Chrome 扩展文档](https://developer.chrome.com/extensions/messaging.html)。

**背景.js**：

```
$(function() {

    chrome.extension.onMessage.addListener(
        function(request, sender, sendResponse) {
          console.log("background");
          console.log(sender.tab ? "from a content script:" + sender.tab.url : "from the extension");
          if (request.greeting == "hello")
          sendResponse({farewell: "goodbye"});
 });// end of onMessage listener

}); 
```

onMessage Listener 的代码取自 Chrome 文档。

最后，**manifest.json**：

```
{
"name": "Facebook123",
"version": "0.1", 
"description": "Sample",

"content_scripts": [
    {
        "matches": ["https://*.facebook.com/*"],
        "js": [
                "/js/external/jquery.js", 
                "/js/content_script.js"
            ]
    }
],

"background": {
    "scripts": ["/js/background.js"]
},

"manifest_version": 2
} 
```

看起来侦听器似乎无法“处理” conrent_script.js 发送的消息。

content_script.js 中的 Click 处理程序正在工作。当我单击跨度“a1”时，会弹出“hi”警报框，并在控制台中打印“testing”消息。

可能是什么错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T11:18:58.770

打开后台页面的控制台（[Where to read console messages from background.js in a Chrome extension?](https://stackoverflow.com/a/10258029/938089?where-to-read-console-messages-from-background-js-in-a-chrome-extension)）。

您会看到类似“ReferenceError: $ is not defined”的错误，因为您在使用`$(function() { });`时没有加载 jQuery。
您不必等待后台页面中的 domready 事件，因此删除`$(function(){`并`});`解决问题。另一种解决方法是包含 jQuery：

```
"background": {
    "scripts": [
        "/js/external/jquery.js", 
        "/js/background.js"
    ]
}, 
```

通常，“端口错误”表示您正在尝试发送消息，而没有人在收听消息。在这种情况下，监听器没有因为错误而被绑定，但你经常会发现序列（事件绑定、事件触发）的时机不对，需要修复。

# java - 将任何图像作为 Blob 保存到 MySQL

> ID：15517673
> 
> 赞同：0
> 
> 时间：2013-03-20T07:27:41.770
> 
> 标签：java, mysql, blob

我有这个代码可以在 MySQL 中保存图像，但它不起作用。

```
FileInputStream fis = null;
PreparedStatement ps = null;
MyDB.con.setAutoCommit(false);
File pic = new File(txtPicPath.getText().trim());
fis = new FileInputStream(pic);
ps = MyDB.con.prepareStatement("insert into `photo`(`Employee ID`, Picture) values (?, ?)");
ps.setString(1, Data.User.getText());
ps.setBinaryStream(2, fis, pic.length());
ps.executeUpdate();
MyDB.con.commit();
JOptionPane.showMessageDialog(rootPane, "Upload Successfully");
btnPicdelete.setEnabled(true);
btnBrowse.setEnabled(false);
btnUpload.setEnabled(false);
txtPicPass.setText("");    
txtPicPath.setText(""); 
```

问题是：

```
java.io.FileNotFoundException: image1.jpg (The system cannot find the file specified) 
```

我上传的图片名称是`image1.jpg`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:49:00.620

您需要在 jTextField 中指定图像的完整路径，或者您可以将`getClass().getResource()`其用作替代方案！

例子：

```
URL url = this.getClass().getResource("../Image/pyPic.jpg");  
                InputStream is = url.openStream(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T02:34:49.993

我的文件名必须是：

```
txtPicPath.setText(file.getAbsoluteFile().toString()) 
```

# c# - 数据库管理库

> ID：15517676
> 
> 赞同：7
> 
> 时间：2013-03-20T07:27:57.413
> 
> 标签：c#, database, plugins

在我们公司，我们与多个数据库系统（MySQL、MSSQL、PL/SQL、SQlite 和 SQLCe）一起用于各种项目。正因为如此，我们开发了一个库，它将所有内容都放入一个漂亮的界面中，我们可以连接到每个数据库，而不必担心现在落后哪个数据库。但是这个库总是需要在客户端计算机上安装每个数据库，因为 .Net 坚持这样做（因为引用）。因此，我们使用 MEF 创建数据库插件，其中应用程序仅在启动时加载适当的插件，我们不需要在主机系统上安装任何其他数据库系统。

无论如何，由于每个数据库的差异，我们仍然很挣扎。假设我们想要在目标数据库中自动生成所需的表和数据（如果它们不可用）的过程。或者，如果不同的数据库使用不同的数据类型。事情变得非常复杂，就目前而言，我们也有兴趣使用似乎无法处理 MySQL、SQlite 和 PL/SQL 的 LINQ2SQL。

我的问题：

是否有任何免费/oss C# 库可以接管此任务？我们在哪里可以完全控制我们的数据库，而无需考虑现在落后于哪个数据库？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T07:38:02.937

任何成熟的 ORM 库都可以完成这项工作

*   [休眠](http://nhforge.org/)
*   [实体框架](http://msdn.microsoft.com/en-us/data/ef.aspx)

查看[此](http://ormbattle.net/)站点以查看流行 ORM 库的功能和性能比较

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:31:17.337

[实体框架](http://msdn.microsoft.com/en-us/data/ef.aspx)可以满足您的所有需求。这个框架有许多数据库引擎的提供者，它也有迁移机制，可以根据你的模型为你的应用程序调整数据库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:41:27.457

NHibernate 将是我的选择。如果通过 Castle ActiveRecord 层访问它会更容易使用。

# c# - 避免在视图中添加 if/else 逻辑

> ID：15517688
> 
> 赞同：3
> 
> 时间：2013-03-20T07:28:30.623
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3

我被要求避免在视图中添加诸如 if/else 之类的逻辑。目前，我正在开发页面的登录/注册功能，如果用户处于角色中，则必须显示一组链接，如果他是角色，则必须显示另一个链接在另一个角色。

这是我到目前为止所做的：

```
<ul id="menu">
    <li>@Html.ActionLink("Products", "Books", "Home")</li>
    @if (User.Identity.IsAuthenticated)
    { 
         <li>@Html.ActionLink("Log Out" ,"LogOut","Account")</li>
    }
    else
    {
         <li>@Html.ActionLink("Log In" ,"LogIn","Account")</li>
    }
    @if(User.IsInRole("administrator"))
    {
       <li>@Html.ActionLink("Product Manager", "Books", "ProductManager")</li>
    }
</ul> 
```

此代码存储在 _Layout.cshtml 文件中。我想避免将逻辑添加到视图中。

有什么办法可以做到吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T07:37:33.180

如果您不想在视图中执行此操作，我认为您应该在控制器中执行此操作。像这样的东西适用于从单个视图中删除条件语句：

```
// controller
ActionResult MyAction()
{
    if (!User.Identity.IsAuthenticated)
    {
        ViewBag.MenuControl = "Menu/NotLoggedIn"
    } 
    else if (User.IsInRole("Administrator"))
    {
        ViewBag.MenuControl = "Menu/Administrator"
    } 
    else
    {
        ViewBag.MenuControl = "Menu/LoggedIn"
    }

    ...
}

// view
@Html.Partial(ViewBag.MenuControl); 
```

或者要在多个视图中共享此逻辑，我建议您创建一个特定的 MenuController 来容纳此逻辑。

```
ActionResult RenderMenu()
{
    string template;
    if (!User.Identity.IsAuthenticated)
    {
        template = "Menu/NotLoggedIn"
    } 
    else if (User.IsInRole("Administrator"))
    {
        template = "Menu/Administrator"
    } 
    else
    {
        template = "Menu/LoggedIn"
    }

    return View(template);
}

// view
@Html.Action("RenderMenu", "MenuController") 
```

*但是*......“视图逻辑”和“控制器逻辑”之间存在很大差异。毕竟这是我们希望在 MVC 架构中将视图与控制器分开的主要原因之一。像“避免视图中的所有条件语句”这样的简单规则确实忽略了 MVC 的设计方式。

我真的更喜欢在视图中这样做，因为实际上它更多地与如何格式化视图有关，而不是控制器应该如何运行。我会坚持使用您当前的代码。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-20T07:47:41.613

`if/else`我认为在您的观点中发表声明并没有错。问题在于实际的条件语句本身。

以此为例：

```
@if(User.IsInRole("administrator"))
{
   <li>@Html.ActionLink("Product Manager", "Books", "ProductManager")</li>
} 
```

在这里，您将业务逻辑与视图逻辑混合在一起。您正在引用角色的名称。这与视图无关。为了解决这个问题，试试这个：

**型号代码**

```
public class MyModel
{
    public bool IsAdministrator { get; }
} 
```

**控制器代码**

```
myModel.IsAdministrator = User.IsInRole("administrator"); 
```

**查看代码**

```
@if(this.Model.IsAdministrator)
{
   <li>@Html.ActionLink("Product Manager", "Books", "ProductManager")</li>
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T08:26:24.870

MVC 的漏洞在于划分职责区域。模型必须是完全独立的，即只知道它自己。在模型中包含与表示相关的逻辑是很正常的，除非您将它与业务逻辑混合使用。在您的示例中，明显的改进可能是将所有授权信息移动到模型对象中并保留 if/else 逻辑。

**控制器：**

```
model.IsAuthenticated = User.Identity.IsAuthenticated;
model.IsAdministrator = User.IsInRole("administrator"); 
```

# ios - 在情节提要中以编程方式创建的 UITableView 的自定义 tableviewCells

> ID：15517692
> 
> 赞同：9
> 
> 时间：2013-03-20T07:28:50.760
> 
> 标签：ios, cocoa-touch, uitableview

在我的应用程序中，我正在使用情节提要。但是我以编程方式创建了一个`UITableView`，而不是从对象库中拖动。现在我想自定义以编程方式创建的单元格`UITableView`。`UITableViewCell`任何人都可以通过提供在情节提要中以编程方式创建的示例来帮助我吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T08:28:47.603

我会避免将单元格的布局和构建放入`cellForRowAtIndexPath`.

要以编程方式创建自定义单元，您应该首先创建一个`UITableViewCell`子类。

添加到它`labels`，`imageViews`等...添加作为子视图`cell.contentView`。

**以编程方式**

IE

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier
{
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    if (self) {
        _label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 100, 21)];
        [self.contentView addSubview:_label];
    }
    return self;
} 
```

如果你想做单元格的布局，那么在`MyCell`课堂上你可以做......

```
- (void)layoutSubViews
{
    [super layoutSubviews];
    // layout stuff relative to the size of the cell.
} 
```

然后在`tableViewController`你需要注册单元类...

在`viewDidLoad`...

```
[self.tableView registerClass:[MyCell class] forCellReuseIdentifier:@"MyCellIdentifier"]; 
```

**与界面构建器**

仍然创建自定义子类，但还要创建一个同名的 xib 文件。然后在您的 xib 文件中，您可以连接插座，而不必在单元格的 init 中创建它们。（如果你这样做，那么 init 无论如何都不会被调用）。

您需要的唯一其他更改是`viewDidLoad`您需要为单元格而不是类注册笔尖。

像这样...

```
UINib *cellNib = [UINib nibWithNibName:@"MyCell" bundle:nil];
[self.tableView registerNib:cellNib forCellReuseIdentifier:@"MyCellIdentifier"]; 
```

然后其他一切都一样。

**使用细胞**

要使用您为其创建子类的单元格...

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"MyCellIdentifier"];

    [self configureCustomCell:(MyCell*)cell atIndexPath:indexPath];

    return cell;
}

- (void)configureCustomCell:(MyCell*)cell atIndexPath:(NSIndexPath *)indexPath
{
    // do all you logic of getting any info from arrays etc in here.

    cell.label.text = @"Blah".
} 
```

**概括**

这样做意味着您的 tableviewcontroller 只对将内容放入单元格感兴趣。如果您将所有逻辑都用于构建细胞，那么一切都会变得非常混乱。

这也意味着您不必处理大量不同的标签来保存和检索不同的 UI 元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:51:38.280

我将描述两个选项：使用 Interface Builder（更简单）添加单元格，以及以编程方式添加单元格：

**通过使用界面生成器**

在 Interface Builder 中创建单元格并使用自定义内容添加子视图后，打开属性检查器，选择*自定义样式并在**重用标识符*文本字段中输入唯一标识符（例如，“anIdentifier”）。接下来，选择您要以编程方式访问的单元格字段，并为每个字段设置一个唯一的*标记*号（位于“*查看”*部分下）。

然后，在您的数据源代码中，实现此方法：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"anIdentifier"];

    UILabel *label;

    label = (UILabel *)[cell viewWithTag:1]; // Set a constant for this so your fellow developers understand this number
    label.text = @"This is a test";

    return cell;
} 
```

**以编程方式**

如果您想以编程方式创建单元格，则代码应类似于以下内容：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"anIdentifier";

    UILabel *aLabel;
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]];

        aLabel = [[[UILabel alloc] initWithFrame:...]];
        aLabel.tag = 1; // Set a constant for this
        aLabel.font = [UIFont systemFontOfSize:14.0];
        aLabel.textAlignment = UITextAlignmentRight;
        aLabel.textColor = [UIColor blackColor];
        aLabel.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleHeight;
        [cell.contentView addSubview:mainLabel];
    } else {
        aLabel = (UILabel *)[cell.contentView viewWithTag:1];
    }

    aLabel.text = @"This is a test";

    return cell;
} 
```

Apple 网站上有更多信息：http: [//developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/TableViewCells/TableViewCells.html](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/TableViewCells/TableViewCells.html)

# android - 使用机制 X-OAUTH2 的 Gtalk XMPP SASL 身份验证失败？

> ID：15517694
> 
> 赞同：11
> 
> 时间：2013-03-20T07:28:56.763
> 
> 标签：android, xmpp, google-oauth

我在我的应用程序中使用 GoogleTalk XMPP 进行聊天。无法通过使用用户名和 AuthToken 来创建 XMPP 连接`Google authentication`。

现在我正在使用`GoogleAuth2`for `authentication`。我尝试使用 access_token 和电子邮件进行这样的身份验证。通过使用`SASLMechanism`. 但我无法连接到 xmpp 服务器，它给出了这样的错误`SASL authentication failed using mechanism X-OAUTH2`

```
ConnectionConfiguration config = new ConnectionConfiguration(server_host, SERVER_PORT, SERVICE_NAME);
config.setSASLAuthenticationEnabled(true);
m_connection = new XMPPConnection(config);

SASLAuthentication.registerSASLMechanism("X-OAUTH2", GoogleConnectSASLMechanism.class);
SASLAuthentication.supportSASLMechanism("X-OAUTH2", 0);

config.setSecurityMode(ConnectionConfiguration.SecurityMode.enabled);   
try {           
    m_connection.connect();     
} catch (XMPPException e) {         
    e.printStackTrace();
} 
```

这是我正在使用的课程`SASLMechanism.`

```
public class GoogleConnectSASLMechanism extends SASLMechanism {

public static final String NAME = "X-OAUTH2";

private String username = "";
private String sessionKey = "";

public GoogleConnectSASLMechanism(SASLAuthentication saslAuthentication) {
    super(saslAuthentication);
}

@Override
protected String getName() {
    return NAME;
}

static void enable() {
}

@Override
protected void authenticate() throws IOException, XMPPException {

    final StringBuilder stanza = new StringBuilder();
    byte response[] = null;

    stanza.append("<auth xmlns=\"urn:ietf:params:xml:ns:xmpp-sasl\"" +
            "mechanism=\"X-OAUTH2\"" +
            "auth:service=\"oauth2\"" +
            "xmlns:auth= \"http://www.google.com/talk/protocol/auth\">");

    String composedResponse =  "\0" + username + "\0" + sessionKey;
    response = composedResponse.getBytes("UTF-8");
    String authenticationText = "";
    if (response != null) {
        authenticationText = Base64.encodeBytes(response, Base64.DONT_BREAK_LINES);
    }

    stanza.append(authenticationText);
    stanza.append("</auth>");

    // Send the authentication to the server
    Packet p=new Packet() {
        @Override
        public String toXML() {
            return stanza.toString();
        }
    };
    getSASLAuthentication().send(p);
}

public class Auth2Mechanism extends Packet {
    String stanza;

    public Auth2Mechanism(String txt) {
        stanza = txt;
    }

    public String toXML() {
        return stanza;
    }
}

/**
 * Initiating SASL authentication by select a mechanism.
 */
public class AuthMechanism extends Packet {
    final private String name;
    final private String authenticationText;

    public AuthMechanism(String name, String authenticationText) {
        if (name == null) {
            throw new NullPointerException(
                    "SASL mechanism name shouldn't be null.");
        }
        this.name = name;
        this.authenticationText = authenticationText;
    }

    public String toXML() {
        StringBuilder stanza = new StringBuilder();
        stanza.append("<auth mechanism=\"").append(name);
        stanza.append("\" xmlns=\"urn:ietf:params:xml:ns:xmpp-sasl\">");
        if (authenticationText != null
                && authenticationText.trim().length() > 0) {
            stanza.append(authenticationText);
        }
        stanza.append("</auth>");
        return stanza.toString();
    }
}
} 
```

如何`Google Auth`使用 SASL 机制进行身份验证？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T20:16:06.477

这是一个适用于我的版本，使用 OAUTH2 令牌。OAUTH2 范围是`https://www.googleapis.com/auth/googletalk`.

此代码使用 Smack XMPP 库。

OAuth2 认证机制：

```
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.logging.Logger;

import javax.security.sasl.Sasl;

import org.jivesoftware.smack.SASLAuthentication;
import org.jivesoftware.smack.XMPPException;
import org.jivesoftware.smack.sasl.SASLMechanism;
import org.jivesoftware.smack.util.Base64;

public class SALSGTalkOauthMechanism extends SASLMechanism {
    private static final Logger log = Logger.getLogger(SALSGTalkOauthMechanism.class.getName());
    public static final String NAME = "X-OAUTH2";

    /**
     * Constructor.
     */
    public SALSGTalkOauthMechanism(SASLAuthentication saslAuthentication) {
            super(saslAuthentication);
            log.info("Creating SASL mechanism for GTalk (X-OAUTH2)");
    }

    @Override
    public void authenticate(String username, String host, String accessToken) throws IOException, XMPPException {
        this.hostname = host;

        log.info("Authenticating to host "+host+" with key "+username);

        String[] mechanisms = { "X-OAUTH2" };
        Map<String, String> props = new HashMap<String, String>();
        this.sc = Sasl.createSaslClient(mechanisms, null, "xmpp", host, props, this);
        getSASLAuthentication().send(new AuthMechanism(getName(), Base64.encodeBytes(('\0'+username+'\0'+accessToken).getBytes())));
    }

    @Override
    protected String getName() {
            return NAME;
    }

     } 
```

以及使其协同工作的代码：

```
import org.jivesoftware.smack.Chat;
import org.jivesoftware.smack.ChatManager;
import org.jivesoftware.smack.Connection;
import org.jivesoftware.smack.ConnectionConfiguration;
import org.jivesoftware.smack.SASLAuthentication;
import org.jivesoftware.smack.XMPPConnection;
import org.jivesoftware.smack.packet.Message;
import org.jivesoftware.smack.packet.Presence;

import revevol.applications.cloudpulse.client.Probe;
import revevol.applications.cloudpulse.client.ProbeClient;
import revevol.applications.cloudpulse.client.ProbeClientUtils;

import com.google.api.client.auth.oauth2.Credential;

public class GTalkProbe implements Probe {
    private static final Logger log = Logger.getLogger(GTalkProbe.class.getName());
    public static final String PROBE_GTALK_IDENTIFIER = "gtalkprobe";

    @Override
    public void run(ProbeClient client, Properties properties) throws Exception {
        log.info("Start running GTalkProbe.");
        long startTimestamp = new Date().getTime();
        Exception exception = null;
        MessageReboundResult result = new MessageReboundResult();
        Connection conn1 = null;

        try {
            Credential credential = ProbeClientUtils.getOAuth2Credentials(properties);

            ConnectionConfiguration config = new ConnectionConfiguration("talk.google.com", 5222, "gmail.com");
            config.setCompressionEnabled(true);
            config.setSASLAuthenticationEnabled(true);

            conn1 = new XMPPConnection(config);

            SASLAuthentication.registerSASLMechanism("X-OAUTH2", SALSGTalkOauthMechanism.class);
            SASLAuthentication.supportSASLMechanism("X-OAUTH2", 0);
            conn1.connect();

            log.info("Logging in");
            conn1.login(ProbeClientUtils.getOAuthConsumerId(properties), credential.getAccessToken());

            Presence presence = new Presence(Presence.Type.available);
            presence.setStatus("My status");
            conn1.sendPacket(presence);

            ChatManager chatmanager = conn1.getChatManager();

            String destination = "destination@gmail.com";
            log.info("Sending chat message to " + destination);
            String message = "PING : " + UUID.randomUUID().toString();

            Chat chat = chatmanager.createChat(destination, new MessageListener(//TODO : here put your stuff));

            Message msg = new Message(destination, Message.Type.chat);

            msg.setBody(message);
            chat.sendMessage(msg);

            //Here you are
    }

} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-04T06:25:29.783

我在使用 XMPP/Openfire 服务器的聊天应用程序上做了很多工作。

这是连接/登录服务器的最简单方法 -

```
ConnectionConfiguration connConfig = new ConnectionConfiguration("abc.hostname.com",5222);
        configure(ProviderManager.getInstance());
        connection = new XMPPConnection(connConfig);
        connection.connect();
        connection.login(userName, password); 
```

在登录时获取名册

```
 roster = connection.getRoster();
    roster.setSubscriptionMode(Roster.SubscriptionMode.manual); 
```

这是提供者实例的配置方法

```
public void configure(ProviderManager pm) {
    // MUC Admin
    pm.addIQProvider("query", "http://jabber.org/protocol/muc#admin",new MUCAdminProvider());
    // MUC Owner
    pm.addIQProvider("query", "http://jabber.org/protocol/muc#owner",new MUCOwnerProvider());
    pm.addIQProvider("si", "http://jabber.org/protocol/si",new StreamInitiationProvider());
    pm.addIQProvider("query","http://jabber.org/protocol/bytestreams", new org.jivesoftware.smackx.provider.BytestreamsProvider());
    pm.addIQProvider("query","http://jabber.org/protocol/disco#items", new DiscoverItemsProvider());
    pm.addIQProvider("query","http://jabber.org/protocol/disco#info", new DiscoverInfoProvider());

    // Delayed Delivery
    pm.addExtensionProvider("x", "jabber:x:delay",new DelayInformationProvider());
    pm.addIQProvider("vCard", "vcard-temp", new VCardProvider());

    //  Group Chat Invitations
    pm.addExtensionProvider("x","jabber:x:conference", new GroupChatInvitation.Provider());
} 
```

如果您有任何疑问，请告诉我

# c++ - Qt接口类

> ID：15517697
> 
> 赞同：0
> 
> 时间：2013-03-20T07:29:11.787
> 
> 标签：c++, qt, interface

我想使用这样的主要功能：

```
int main()
{
   if (param)
      QtDisp *disp = new QtDisp(); //no visual result
   else
      SDLDisp *disp = new SDLDisp();

   disp->init(param); //displays the window

   while (1)
   {
      disp->change_color(colour); //change background colour
      sleep(1);
   }
} 
```

它适用于 SDLDisp，现在我必须创建 QtDisp。

我不知道如何处理阻塞的 exec() 。首先，我想使用 Qthread，但显示必须在第一个线程中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:56:38.043

Qt 是基于事件的驱动框架。如果没有事件循环，所有 gui 部分都将无法工作。除了可能在另一个线程中进行粗略计算之外，几乎所有事情都需要在事件循环中完成。exec() 方法启动该事件系统。因此，在您调用 exec() 之前，您将无法做一些有用的事情。以最简单的方式，您可以这样做：

```
int delay = 10; //msec
QTimer *colorChangeTimer() = new QTimer();
colorChangeTimer->setSingleshot(false);
connect(colorChageTimer, SIGNAL(timeout()), disp, SLOT(onTimerChageColor()));
colorChageTimer->start(delay);
int result = QApplication::exec();
delete colorChangeTimer;
return result; 
```

# iphone - 在 ios 应用程序中使用 SSL 进行登录

> ID：15517698
> 
> 赞同：0
> 
> 时间：2013-03-20T07:29:12.277
> 
> 标签：iphone, ios, encryption, ssl, login

因此，我正在为一家已经拥有使用 SSL 进行用户登录的 Rails 站点的初创公司制作 iPhone 应用程序，并且我正在尝试将 SSL 合并到 iOS 应用程序中。

对于使用 SSL 的应用程序的应用程序商店提交的所有法律问题，我不需要任何帮助，因为我发现了很多关于这一切的讨论。

我只需要有关如何结合 SSL/加密以在 HTTP POST 请求中发送电子邮件和密码的基本帮助。

提前谢谢大家，如果您需要更多说明，请告诉我！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-20T08:11:04.033

你不需要自己加密它。

只需使用以 https 开头的 URL 即可为您完成所有工作。

我将它用于我的应用程序。

# java - 摆动点击两个按钮

> ID：15517702
> 
> 赞同：1
> 
> 时间：2013-03-20T07:29:23.640
> 
> 标签：java, swing, button, compiler-errors, listeners

在我的程序中有两个按钮，您必须同时单击它们才能进行系统打印。不过，我在尝试实现这一目标时遇到了麻烦。

```
button[0].addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent e) {
            button[0].setEnabled( false );
            if( button[1].isEnabled( false) );
                System.out.println("you clicked both buttons");
        }
    });
    button[1].addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent e) {
            button[1].setBackground(Color.YELLOW);
            button[1].setEnabled( false );
            if( buttons[0].isEnabled( false) );
            System.out.println("you clicked both buttons");
        }
    }); 
```

我在行中遇到错误：

```
if( buttons[0].isEnabled( false) ); 
```

说

```
The method isEnabled() in the type Component is not applicable for the arguments (boolean) 
```

我只是这方面的初学者，所以如果有人可以帮助或告诉我另一种方法来做到这一点，那就太好了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:35:07.330

异常非常明显。`isEnabled()`没有参数，所以你应该以这种方式使用它`buttons[0].isEnabled()`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-20T07:36:30.847

`isEnabled`不需要参数。

做这个：

```
if( buttons[0].isEnabled() ) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T07:40:20.330

这是你的答案：

```
button1.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent arg0) {

        button1.setEnabled(false);
        if (!button1.isEnabled() && !button2.isEnabled()) {
            System.out.println("you clicked both buttons");
        }
    }
});

button2.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent e) {

        button2.setBackground(Color.YELLOW);
        button2.setEnabled(false);
        if (!button2.isEnabled() && !button1.isEnabled()) {
            System.out.println("you clicked both buttons");
        }
    }
}); 
```

# android - 在 Android 上流式传输实时网站提要

> ID：15517707
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:29:33.990
> 
> 标签：android, streaming, video-streaming, live, television

我想了解如何将实时提要从网站流式传输到 Android 应用程序，我是否需要在特定的流式传输框架上实现？我有用于直播的网址及其在网络上的工作，我想在我创建的 Android 应用程序上流式传输相同的提要。

我猜它只适用于 2.2 及更高版本，但需要有关如何启动它的指南。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T18:53:02.713

您可以使用 Vitamio 框架的 VideoView 流式传输网站。

您需要特定提要的流式传输 URL。（它可能是播放列表格式，其中包含链接/它可能是 rtsp/mms 流）。

请参考 Vitamio 的示例应用程序。[https://github.com/yixia](https://github.com/yixia)

# c# - 无法使用开始时间筛选 Outlook AppointmentItem

> ID：15517709
> 
> 赞同：0
> 
> 时间：2013-03-20T07:29:44.613
> 
> 标签：c#, outlook

这是我尝试在 Outlook 日历中查找约会：

```
var calendar = outlookApplication.GetNamespace("MAPI").GetDefaultFolder(OlDefaultFolders.olFolderCalendar);

if (calendar == null || calendar.Items == null)
{
   return null;
}

DateTime appointmentStart = new DateTime(2013, 04, 02, 10, 0 ,0);

string filter = string.Format("[Start] = '{0}'", appointmentStart );
var calendarItems = calendar.Items.Restrict(filter); 
```

这样我在日历中找不到约会者，但我在 2013 年 4 月 2 日 10:00:00 有一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:34:58.330

查看[MSDN 中的此示例](http://msdn.microsoft.com/en-us/library/office/gg619398%28v=office.14%29.aspx)`filter`，您的字符串中的日期/时间格式似乎不正确：

```
string.Format("[Start] = '{0}'", appointmentStart); 
```

返回`[Start] = '02/04/2013 10:00:00'`，而

```
string.Format("[Start] = '{0}'", appointmentStart.ToString("g")); 
```

返回`[Start] = '02/04/2013 10:00'`

请注意，此输出将取决于系统文化（`fr-FR`在我的情况下），这对我来说很有意义，因为 Outlook 应该使用相同的。

[MSDN 上还](http://msdn.microsoft.com/en-us/library/az4se3k1.aspx)提供了有关日期和时间格式字符串的更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T13:01:20.523

[在http://social.msdn.microsoft.com/Forums/en-US/outlookdev/thread/8a8d6c59-20f4-4aeb-be0d-bfdc7b414611?prof=required](http://social.msdn.microsoft.com/Forums/en-US/outlookdev/thread/8a8d6c59-20f4-4aeb-be0d-bfdc7b414611?prof=required)回答：

搜索日期/时间值时不要使用“=”。由于四舍五入错误，您将永远不会得到匹配。使用范围，例如（开始 > 值 - 1 分钟）和（开始 < 值 + 1 分钟）。或者，更好的是，通过其条目 id (Namespace.GetItemfromID) 打开约会或通过另一个属性（例如主题）搜索。

# arrays - 检查照片的网址是否在用户当前的照片中

> ID：15517710
> 
> 赞同：0
> 
> 时间：2013-03-20T07:29:47.900
> 
> 标签：arrays, facebook, algorithm, comparison, photo

我从 facebook 获得了一张照片的链接。假设用户可能已经删除了他/她的部分照片，但链接仍然存在（`url`s 仍然有效 30 天），我想检查用户是否仍然发布了照片。*我* **只想** *对用户使用该应用发布的照片*​​执行此操作，而不是对用户标记的照片执行此操作。

我认为，一种方法是在检查时获取所有照片的链接，并验证是否有任何照片与保存的照片链接具有相同的链接。基本上，得到一个包含两个数组（被比较的数组）的联合元素的数组。

这是一个好方法，还是会有更好的方法？这种方法应该有效吗？

# ssis - 将不同查询返回的执行 SQL 任务中的值存储到多个变量

> ID：15517717
> 
> 赞同：0
> 
> 时间：2013-03-20T07:30:25.220
> 
> 标签：ssis

我有一种情况，我需要使用单次执行 sql 任务将 2 个不同查询返回的值存储到 2 个不同的变量中。我知道单行结果集类型允许我们存储多个值，但它应该以单行形式返回。有人能帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T19:12:45.200

如果要将两个不同查询的结果合并到一行，但有两列，则必须确保两者中定义的字段类型相同，并且与输出变量的类型定义相匹配。也就是说，如下例所示，Row1 必须与变量 test1 的类型相同，Row2 必须与变量 test2 的类型相同。

我使用您似乎可行的方案进行了测试。

1) 设置以下查询，组合两个嵌套查询的结果。

```
SELECT
    (SELECT Row2 FROM Tests WHERE TestID = 4) AS Row1
    ,(SELECT Row2 FROM Tests WHERE TestID = 5) AS Row2 
```

2) 由于返回的结果都是 varchar（或字符串）类型，我在 SSIS 包中设置了一个数据类型为“String”的变量，称为 test1，第二个变量称为 test2。

3) 创建一个执行 SQL 任务，为 SQLStatement 定义上述 SQL 语句，并将 ResultSet 设置为“单行”。

4) 对于结果集，我添加了两个新行。第一个结果名称为 0，变量名称为“User::test1”，第二个结果名称为 1，变量名称为“User::test2”。这里的想法是，查询中的 Row1 的结果将转到 test1，而 Row2 将转到 test2。

我执行了任务并且成功了。

让我知道这是否有帮助。

谢谢。

# php - 在 Windows 命令行上查找 PHP 版本

> ID：15517718
> 
> 赞同：83
> 
> 时间：2013-03-20T07:30:26.140
> 
> 标签：php, windows, command, version

我只是想从 windows 命令输入中了解我的 PHP 版本， `C:\> php -v` 但它不起作用。它说`php is not recognized as internal or external command`。

* * *

## 回答 #1

> 赞同：177
> 
> 时间：2013-03-20T07:39:34.173

在下面的命令提示符中键入

```
set PATH=%PATH%;C:\path\to\php 
```

其中 C:\path\to\php 是您的文件所在的文件夹`php.exe`。在这次运行之后

```
C:\>php -v 
```

你会看到类似的东西

```
PHP 7.3.6 (cli) (built: May 29 2019 12:11:00) 
```

* * *

**更新：**

如果您发现当您重新启动计算机时，此解决方案将不再起作用：

设置路径如下：

> **第 1 步**- 点击`Windows`图标

[![在此处输入图像描述](../Images/1451c410e8e57a0b5faae27f22c71b08.png)](https://i.stack.imgur.com/mSQZy.png)

> **第 2 步**- 点击`Settings`图标

[![在此处输入图像描述](../Images/fcbcadd88ea01de7fb13b778017c1129.png)](https://i.stack.imgur.com/Astff.png)

> **第 3 步**- 点击`System`

[![在此处输入图像描述](../Images/5bb1de21f74f1b91cb0aa73deff9a36c.png)](https://i.stack.imgur.com/JSnk7.png)

> **第 4 步**- 点击`About`

[![在此处输入图像描述](../Images/421b98ea05d654da988292ce4fcfa079.png)](https://i.stack.imgur.com/yV7FE.png)

> **第 5 步**- 点击`System info`

[![在此处输入图像描述](../Images/908169fef5e266679d12f49e61e3feff.png)](https://i.stack.imgur.com/lnwOB.png)

> **第 6 步**- 点击`Advanced system settings`

[![在此处输入图像描述](../Images/028b18405e1cd12313db40e7649fc5c3.png)](https://i.stack.imgur.com/rWCFI.png)

> **第 7 步**- 点击`Environment variables...`

[![在此处输入图像描述](../Images/f1c0f68d356c297d87a3e5fdc577421a.png)](https://i.stack.imgur.com/fYrnD.png)

> **第 8 步**- 选择`Path`行，然后单击`Edit`

[![在此处输入图像描述](../Images/769e3f68508262c1acb06e624be79803.png)](https://i.stack.imgur.com/EmskE.png)

> **第 9 步**- 单击`New`然后单击`Browse`，然后在将打开的下一个面板中，您需要选择所需的文件夹`Path`。对于本指南的初始前提，我将添加文件夹`C:\Users\NewFolderInPath`♥</p>
> 
> **注意**：将您的 PHP 安装路径（例如：）替换`C:\Program Files\php`为上述路径♥。

[![在此处输入图像描述](../Images/6e5d0dd3a4f70d55d434a1e3a39bf77d.png)](https://i.stack.imgur.com/4ePmt.png)

> **第 10 步**- 单击`OK`并单击`OK`您将遇到的每个按钮以关闭以前的每个窗口。

[![在此处输入图像描述](../Images/b966584520f7db500794466ed90444a3.png)](https://i.stack.imgur.com/Opl3d.png)

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2016-07-20T07:23:36.507

您只需要找出您的 PHP 文件夹在哪里。

*   如果您使用的是 XAMPP 或 WAMP，那么您将看到一个 php 文件夹。
*   您只需要使用 cmd 使用命令进入 php 文件夹

> cd \xampp\php（用于 XAMPP）
> 
> cd \wamp\php（用于 WAMP）

*   然后只需输入此命令

> php -v

*   然后你会看到类似的东西

> PHP 5.6.11 (cli)（构建时间：2015 年 7 月 9 日 20:55:40）版权所有 (c) 1997-2015 The PHP Group Zend Engine v2.6.0，版权所有 (c) 1998-2015 Zend Technologies

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-01-20T05:55:23.717

1.  首先打开你的cmd
2.  然后转到 php 文件夹目录，假设您的 php 文件夹位于 C 盘上的 xampp 文件夹中。您的命令将是：

    ```
    cd c:\xampp\php 
    ```

3.  之后，检查您的版本：

    ```
    php -v 
    ```

这应该给出以下输出：

> PHP 7.2.0 (cli)（构建时间：2017 年 11 月 29 日 00:17:00）（ZTS MSVC15 (Visual C++ 2017) x86）版权所有 (c) 1997-2017 The PHP Group Zend Engine v3.2.0，版权所有 (c) 1998 -2017 Zend科技

我自己上传了一段 youtube 视频，内容是在孟加拉语中通过命令提示符检查 PHP 的版本：[https ://www.youtube.com/watch?v=zVkhD_tv9ck](https://www.youtube.com/watch?v=zVkhD_tv9ck)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2019-06-10T15:44:56.930

转到c盘并运行如下命令

C:\xampp\php>php -v

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-07-18T07:10:11.590

xampp control panel->shell->type php -v 你得到你安装的xampp的php版本

DB(mariadb/mysql)version type localhost/phpmyadmin in url click enter click on sql type select version(); 输入获取mysql或mariaDb版本

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-20T07:33:53.810

很可能 php 不在您指定的路径中。

尝试使用完整路径发出 php 命令，例如：

`C:\> "C:\Program Files\php\php.exe" -v`

*请注意，这只是一个示例，您的 php 安装可能位于不同的目录中。*

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-10-13T10:28:48.897

对于任何 php 的初学者来说，它通常存储在您的 PC（我的电脑）的 C:/ 路径文件夹中。

==在 Windows 上==
1.单击开始菜单按钮
2.键入**cmd**并按 Enter 选择第一个响应您的搜索结果的程序/应用程序。
将出现一个黑色窗口终端，这被称为**命令行解释器**
3.在终端窗口（应用程序）中键入**cd c:**并按回车
4.现在键入**php -v**并按回车

和中提琴，你将拥有安装在你机器上的当前 php 版本

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-11-17T14:26:24.407

简单的方法是：只需从 c:/windows/system32/ 复制文件 cmd.exe 并将其粘贴到 C:\xampp\php\ 并运行它，当 cmd 打开时键入不带引号的“php -v”并按 Enter。 ..你会得到你的php版本..谢谢

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-07-22T18:24:17.157

只需创建一个php文件并编写代码

```
<?php
echo phpversion();
?> 
```

并在任何浏览器中打开该文件。它将显示您系统中安装的 php 版本。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2020-02-23T13:15:59.290

第 1 步：打开 CMD

第 2 步：转到 C:/xampp/php 或 htdocs 路径：/

第三步：输入“php -v”

结果php版本

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2020-12-26T15:41:12.030

1.  打开命令提示符
2.  使用 cd C:/Xampp/php 定位目录
3.  输入命令 php -v

您将获得您的 php 版本详细信息

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2017-06-18T05:18:24.550

对我来说，PHP 路径从**php5.6.25**（或 php7）安装文件夹，经过 wamp 文件夹、bin 和 php...

> C:\wamp64\bin\php\php5.6.25>

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-09-20T10:45:13.383

1.  打开命令
2.  输入 php -v

输出：PHP 5.6.30

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-07-25T05:24:18.307

最简单的方法是，只需单击任务栏上的 WAMP 图标，然后转到 PHP >版本，将显示版本

[![在此处输入图像描述](../Images/88ffa68efe41b1ad2ee65923f3e99718.png)](https://i.stack.imgur.com/RVEVy.png)

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2018-09-04T09:48:35.830

这就是我检查 php 版本的方式

PS C:\Windows\system32>`php -version`

结果：

```
PHP 7.2.7 (cli) (built: Jun 19 2018 23:44:15) ( NTS MSVC15 (Visual C++ 2017) x86 )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies 
```

PS C:\Windows\system32>

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2018-09-16T05:32:27.963

没什么好担心的很容易

如果您使用任何本地服务器，如 Wamp、Xampp，请转到此步骤

1.  去你的驱动器
2.  检查您安装的 xampp 或 wamp 服务器
3.  在那个检查php里面，如果你得到了然后去下一步
4.  你会找到 php.exe，一旦你得到 php.exe，你就完成了。只需输入如下路径，这里我使用 XAMPP 并输入 v 来检查版本，你就完成了。

    C:>"C:\xampp\php\php.exe" -v

谢谢。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2021-03-20T03:02:55.307

如果`xampp`安装在您的`c`驱动器中，请尝试以下命令，首先打开 cmd，然后键入

```
cd c: 
```

然后

```
C:\xampp\php\php.exe -v 
```

# web-services - 从生产服务器调用第三方 webservice asmx 时出错，开发机器没有错误

> ID：15517720
> 
> 赞同：0
> 
> 时间：2013-03-20T07:30:34.700
> 
> 标签：web-services, exception, visual-studio-2005, asmx, firewall

在 VS2005 VB.NET 项目中，我们使用第三方 asmx 服务来转换帐号。

在开发机器上一切正常，但在生产服务器上，当我们调用服务时会抛出异常。

这是一个例外：

```
System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a receive. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)
   at System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)
   --- End of inner exception stack trace ---
   at System.Web.Services.Protocols.WebClientProtocol.GetWebResponse(WebRequest request)
   at System.Web.Services.Protocols.HttpWebClientProtocol.GetWebResponse(WebRequest request)
   at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters)
   at KlantenApplicatie.BL.IbanConversie.IBANBIC.calculateIBAN1(String ISOcountry, String account)
   at KlantenApplicatie.BL.Relatie.SpecGegFiscTOWBasisinfoBL.convertToIban(String rekeningNummer) 
```

出现异常需要一些时间。

网络服务是：[http ://www.ebcs.be/iban/IBANBIC.asmx](http://www.ebcs.be/iban/IBANBIC.asmx)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T09:53:56.323

问题是 Internet Explorer 中的代理配置错误。当我调整它时，一切正常。

# windows-8 - Windows 8 商店应用程序

> ID：15517725
> 
> 赞同：2
> 
> 时间：2013-03-20T07:31:08.453
> 
> 标签：windows-8, windows-store-apps

大家好，我只想将我的网站重新设计为 Windows Store 应用程序。

想象一下，我完成了上述练习。

我有两个非常基本的问题。

1.  我可以像网站一样在 IIS 中部署 Windows Store 应用程序吗？如果我无法通过 IIS 托管，我的网站用户如何访问该应用程序？

2.  Windows 应用商店应用程序是否需要 Windows 8 环境？

请帮忙。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T08:58:15.043

这是来自 Windows 应用商店应用程序开发支持博客的两篇好文章，我认为可以帮助您。

[将 ASP.NET Web 窗体应用程序迁移到 Windows 应用商店应用程序](http://blogs.msdn.com/b/win8devsupport/archive/2012/11/13/migrate-an-asp-net-web-forms-application-to-windows-store-app.aspx)

[将 ASP.NET MVC 应用程序迁移到 Windows 应用商店应用程序](http://blogs.msdn.com/b/win8devsupport/archive/2012/11/12/migrate-asp-net-mvc-application-to-windows-store-apps.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T13:31:43.880

艾伦在上面提供了一些很好的资源。此外，这里有一些说明：

> 1.  我可以像网站一样在 IIS 中部署 Windows Store 应用程序吗？如果我无法通过 IIS 托管，我的网站用户如何访问该应用程序？

不，您不能将 Windows 应用商店应用部署到 IIS。您的用户可以从 Windows 应用商店下载 Windows 应用商店应用程序。您需要为您的网络用户维护一个单独的网站代码库。

> 1.  Windows 应用商店应用程序是否需要 Windows 8 环境？

是的，您需要 Windows 8 操作系统作为开发人员开发应用程序，并作为最终用户使用应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-30T04:18:13.697

作为 HTML5 开发的 Windows 8 应用程序基本上只是压缩的 HTML+JavaScript+资源，因此只要您不使用暴露的 Windows 运行时 javaScript 对象，您应该能够通过解压缩将其部署到任何 Web 服务器。

但这只是一种可能性，在现实生活中你不会在不参考 WinJS 中的 windows 库的情况下编写 Win8 应用程序

# linux - 如何在不解压缩的情况下列出 zip 存档中的文件？

> ID：15517731
> 
> 赞同：64
> 
> 时间：2013-03-20T07:31:26.070
> 
> 标签：linux, bash, shell, unix, zip

如何在`ls`不解压缩的情况下从命令 shell 获取相当于 .zip 文件（不是 gzip）的文件？也就是说，我如何列出在我的 .zip 存档中压缩的不同文件？

* * *

## 回答 #1

> 赞同：114
> 
> 时间：2013-03-20T07:37:33.630

[使用带有](https://linux.die.net/man/1/unzip) `-l`选项的解压缩：

```
unzip -l file.zip 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2018-10-02T05:44:49.617

该`less`实用程序能够窥视`zip`档案。

Less 与 Unix 捆绑在一起，无需安装 als。输出是可滚动的（分页）并且不会将内容记录到终端（与其他答案中提到的 unzip -l 不同）。

根据[https://superuser.com/a/216675/249975](https://superuser.com/a/216675/249975)，

所以简单地使用`less filename.zip`

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-03-20T10:36:43.937

[Perreal 的回答](https://stackoverflow.com/a/15517826/119527)是正确的，但我建议安装[atool](http://www.nongnu.org/atool/)（在您的发行版的包管理器中查找它）。然后，对于任何类型的存档文件，bzip2、gzip、tar ......您只需要记住一个命令：

```
als archive_name 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2019-09-13T11:39:16.707

使用此命令在不解压缩的情况下查看压缩文件的内容

```
unzip -l file.zip 
```

我们可以使用的 Gor tar 文件

```
zcat <archived-file> 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2017-04-20T20:47:12.473

```
zipinfo -1 filename.zip 
```

它只返回文件名，不再返回示例（响应）：

```
listing.html
my_data.csv
super.txt 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-03-20T09:16:42.777

在 Debian/Ubuntu 中使用`lesspipe`，它还可以列出许多其他存档类型：

> ```
>  *.arj
>      *.tar.bz2
>      *.bz
>      *.bz2
>      *.deb, *.udeb
>      *.doc
>      *.gif, *.jpeg, *.jpg, *.pcd, *.png, *.tga, *.tiff, *.tif
>      *.iso, *.raw, *.bin
>      *.lha, *.lzh
>      *.pdf
>      *.rar, *.r[0-9][0-9]
>      *.rpm
>      *.tar.gz, *.tgz, *.tar.z, *.tar.dz
>      *.gz, *.z, *.dz
>      *.tar
>      *.jar, *.war, *.xpi, *.zip
>      *.zoo 
> ```

用法：

```
lesspipe file.zip 
```

[参考](http://maemo.org/development/documentation/man_pages/lesspipe/)

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2020-12-09T23:43:18.503

我将添加以下选项，因为我发现这是迄今为止最方便的方法（探索 2GB tar 的内容，包含数万个文件和目录）。

使用`archivemount`对我来说是最有用的方法。

执行如下：

```
mkdir mount-point
archivemount archive.tar.gz mountpoint
cd mount-point

umount mount-point 
```

**解释**

您需要创建一个空文件夹作为挂载点。最简单的方法是在您拥有存档文件的文件夹中创建该文件夹，如上例所示。尽管您可以在任何您喜欢的地方创建它。只需`mount-point`相应地更改命令即可。

`cd`进入该文件夹后，您`mount-point`将拥有一个普通的 Linux 文件夹和文件树，可以使用您在 Linux 中用于探索、查找、cat、编辑、ls 等文件夹和文件的任何命令进行探索。非常便利。

完成后用于`umount`卸载存档

注意，您可能需要先安装`archivemount`. 例如，`sudo apt install archivemount`。

### 为什么我觉得这很有用

我基本上想要一种简单的方法来调查大型 tar 文件的内容。仅仅拥有文件夹和文件名的大量文本输出（数万行）对我来说并不是特别有用。即使在找到通过其他后处理器传输内容的方法之后。

您可以将此方法用于 zip 文件、tar 文件以及使用 gzip、bzip 或 compress 压缩的文件。

完整的细节[在](https://manpages.ubuntu.com/manpages/trusty/man1/archivemount.1.html)`archivemount`这里。

一个很好的文章在[这里](https://linuxaria.com/howto/how-to-mounts-an-archive-for-access-as-a-file-system)。

这句话（来自那篇文章）总结了这个工具的灵活性：

> [因为 archivemount via FUSE] 通过 Linux 内核公开其文件系统，您可以使用任何应用程序将文件直接加载和保存到此类挂载的档案中。这使您可以对仍在存档文件中的文件使用您最喜欢的文本编辑器、图像查看器或音乐播放器。更进一步，因为 archivemount 还支持某些存档格式的写访问，您也可以直接从存档内部编辑文本文件。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-03-20T10:38:43.937

您也可以使用“zmore archive_name”。它将列出存档及其内容。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2021-02-22T19:40:46.163

如果您想浏览单个压缩文件，请尝试使用 zless。当 zip 包含多个文件时，这可能不太有用。

根据手册页的描述：

> Zless 是一种过滤器，它允许在软拷贝终端上一次一屏地检查压缩或纯文本文件。相当于将环境变量 LESSOPEN 设置为 '|gzip -cdfq -- %s'，将环境变量 LESSMETACHARS 设置为 '<new-line>;*?"()<>[|&^`#$% =~'，然后运行得更少。然而，似乎有足够多的人认为让命令 zless 可用很重要，值得提供它。

其他一些方便的“z”实用程序是 zcat 和 zmore（在前面的答案中提到）、zdiff 和 zgrep。

关于回答原始问题，如何查看 zip 的内容，我更喜欢 zipinfo 后跟 unzip -l。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-02-07T22:48:41.813

要在 Linux 主机上列出/查看压缩文件的内容而不解压缩（以及安装 GZIP 的位置），请使用“zcat”命令。

zcat 压缩文件名 |更多

# java - 遍历 ResultSet 并将其值添加到 ArrayList

> ID：15517736
> 
> 赞同：26
> 
> 时间：2013-03-20T07:31:46.477
> 
> 标签：java, jdbc, resultset, loops

我正在迭代 an`ResultSet`并尝试将其值复制到`ArrayList`. 问题是它只遍历一次。但使用`resultset.getString("Col 1")`to`resultset.getString('Col n")`显示所有列的所有条目。以下是代码片段 -

```
ResultSet resultset = null;
ArrayList<String> arrayList = new ArrayList<String>(); 
int i = 1;
while (resultset.next()) {              
    arrayList.add(resultset.getString(i++));
    System.out.println(resultset.getString("Col 1"));
    System.out.println(resultset.getString("Col 2"));
    System.out.println(resultset.getString("Col n"));
} 
```

`ResultSet`被复制到的唯一值`ArrayList`是第 1 列。然后退出。但我可以看到所有列的值。为什么？

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-03-20T09:00:06.900

如果我正确理解了您的问题，这里可能存在两个问题：

*   `resultset`是`null`- 我认为这不可能是这样的情况，就好像你会在你的 while 循环中得到一个异常并且什么都不会输出。
*   第二个问题是`resultset.getString(i++)`将从**每个后续行**中获取第 1、2、3 列等。

我认为第二点可能是您的问题。

假设您只返回了 1 行，如下所示：

```
Col 1, Col 2, Col 3 
A    ,     B,     C 
```

你的代码只会得到 A - 它不会得到其余的列。

我建议您更改代码如下：

```
ResultSet resultset = ...;
ArrayList<String> arrayList = new ArrayList<String>(); 
while (resultset.next()) {                      
    int i = 1;
    while(i <= numberOfColumns) {
        arrayList.add(resultset.getString(i++));
    }
    System.out.println(resultset.getString("Col 1"));
    System.out.println(resultset.getString("Col 2"));
    System.out.println(resultset.getString("Col 3"));                    
    System.out.println(resultset.getString("Col n"));
} 
```

**编辑：**

要获取列数：

```
ResultSetMetaData metadata = resultset.getMetaData();
int numberOfColumns = metadata.getColumnCount(); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-09-23T13:43:59.460

只是为了好玩，我提供了一个使用[jOOQ](http://www.jooq.org)和 Java 8 的替代解决方案。除了使用 jOOQ，您可以使用任何其他将 JDBC 映射`ResultSet`到的API `List`，例如[Spring JDBC](http://projects.spring.io/spring-data/)或[Apache DbUtils](http://commons.apache.org/proper/commons-dbutils/)，或者编写自己的`ResultSetIterator`：

### jOOQ 3.8 或更低

```
List<Object> list =
DSL.using(connection)
   .fetch("SELECT col1, col2, col3, ...")
   .stream()
   .flatMap(r -> Arrays.stream(r.intoArray()))
   .collect(Collectors.toList()); 
```

### jOOQ 3.9

```
List<Object> list =
DSL.using(connection)
   .fetch("SELECT col1, col2, col3, ...")
   .stream()
   .flatMap(Record::intoStream)
   .collect(Collectors.toList()); 
```

（免责声明，我在 jOOQ 背后的公司工作）

# java - GXT 3.0.1 1 个图表的多个存储和加载器

> ID：15517740
> 
> 赞同：0
> 
> 时间：2013-03-20T07:31:51.507
> 
> 标签：java, gxt, http-proxy

这里的问题是我只需要一个带有多个系列的图表（例如折线图）。数据来自不同的 Web 服务，那么如何在一个图表的存储中加载，而不仅仅是一个加载器？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T18:18:25.713

不，图表从单个商店读取项目。对于多家商店，商品的顺序可能没有意义。

相反，请考虑将所有商品加载到一个商店中。如果你想为不同的项目集实现不同的行，第一组项目可以为第二行返回空值，第二组项目可以为第一组项目返回空值。

相反，如果问题是您希望将两个不同的 HttpProxies 提供给同一个商店，请不要使用普通的商店绑定类将加载程序连接到商店，而是自己制作只添加新项目而不清除旧项目的类（即调用 store.addAll 而不是 store.replaceAll)。

添加有关您尝试做的事情的更多详细信息将使您更容易回答您的问题。

# asp.net - 在gridview中选中的每个复选框的字符串值为空

> ID：15517743
> 
> 赞同：0
> 
> 时间：2013-03-20T07:32:08.490
> 
> 标签：asp.net, gridview

我有这个代码，在单击按钮时，我想获取每行中选中的所有复选框的 Empid。但字符串变量 str 始终为空且不带任何值。为什么会这样？好心的帮助

```
 protected void btn_3id_Click(object sender, EventArgs e)
    {
        string str = "";
        string srr = "";

        for (int i = 0; i < GridView1.Rows.Count; i++)
        {
            CheckBox chk = (CheckBox)GridView1.Rows[i].FindControl("CheckBox1");
            if (chk.Checked)
            {
                if (str == "")
                {
                    str = GridView1.Rows[i].Cells[0].Text.ToString();
                }
                else
                {
                    srr = str + "," + GridView1.Rows[i].Cells[1].Text.ToString();
                }
            }
        }
        Session["card_id"] = str;
        Response.Redirect("ID.aspx");
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:51:31.553

如果您的控件名称是 Label 然后使用

```
str = ((Label)GridView1.Rows[i].FindControl("yourlabelid")).Text; 
```

代替

```
str = GridView1.Rows[i].Cells[0].Text.ToString(); 
```

# java - 向基于 Django 的后端发送 POST 请求

> ID：15517745
> 
> 赞同：0
> 
> 时间：2013-03-20T07:32:12.630
> 
> 标签：java, android, python, django, django-views

我正在尝试将 POST 请求从 Android 设备发送到基于 Django 的后端。我正在使用这些方法尝试这种方法，

**方法 1**

```
private String GetPickUpDetails(String pick_up_id2) {

        StringBuilder response  = new StringBuilder();
        String stringUrl=Constants.PICKUP_DETAILS+pick_up_id2+"/";
        URL url;
        try {
            url = new URL(stringUrl);

            HttpURLConnection httpconn = (HttpURLConnection)url.openConnection();
            if (httpconn.getResponseCode() == HttpURLConnection.HTTP_OK)
            {
                BufferedReader input = new BufferedReader(new InputStreamReader(httpconn.getInputStream()),8192);
                String strLine = null;
                while ((strLine = input.readLine()) != null)
                {
                    response.append(strLine);
                }
                input.close();
            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        System.out.println("This si the response march API "+response.toString()+" for url"+stringUrl);
        return response.toString();

    } 
```

**回复**

```
03-20 12:32:32.120: I/System.out(7442): This si the response march API <!doctype html>  <!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->  <!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->  <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->  <head>    <meta charset="utf-8">    <title>ECOM</title>            <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" >    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">            <meta name="description" content="">    <meta name="author" content="">        <meta name="apple-mobile-web-app-capable" content="yes" />        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />            <meta property="og:image" content="http://www.domain.com/images/logo.png"/>    <meta property="og:title" content="-- description here --"/>    <meta property="og:url" content="http://www.domain.com"/>            <link rel="shortcut icon" href="/static/assets/img/favicon.ico" />    <link rel="apple-touch-icon" href="/static/assets/img/apple-touch-icon.png">    <link rel="apple-touch-icon" sizes="72x72" href="/static/assets/img/apple-touch-icon-72x72.png">    <link rel="apple-touch-icon" sizes="114x114" href="/static/assets/img/apple-touch-icon-114x114.png">             <link rel="stylesheet" href="/static/assets/css/styles.css" />                    <script src="/static/assets/js/libs/modernizr.custom.60077.js"></script>          <link rel="stylesheet" href="/static/assets/css/popup.css" />             <script src="/static/assets/js/jquery-1.7.2.min.js"></script>           <script src="/static/assets/authentication/js/popup.js"></script>    </head><body><div id="backgroundPopup"></div>      <div class="header" style="text-align:center; padding-top:10px;">       <img src="/static/assets/img/Ecomlogo.png"/>  </div>   <div class="container-fluid" roll="main" id="main">    <div class="span6"><a href="/track_me/scan_open/1/" class="forgotpass pull-right">Track Shipment</a>      <div class="login">        <div class="title">          Login                  </div>                <div class="content-login">          <form action="." method="POST">          <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='xpfLvzIES8w6qzpi7kCFp0crWx9aZHGD' /></div>              <input type= "text" name ="username" placeholder="Username" class="user-name"/>            <input type= "Password" name="password" placeholder="Password"/>            <input type="submit" class="button-login"/>            <a href="#" class="forgotpass pull-right" id="forgotpass">Forgot Your Password?</a>          </form>        </div>      </div>    </div>    <div class="span6">      <div class="login">        <div class="title">          Ecom Express News                  </div>        <div class="content-login">                  </div>      </div>    </div>  </div>       <!-- modal -->  <div class="modal hide modal-add-revlet" id="add-revlet">    <div class="modal-header">      <a class="close" data-dismiss="modal">×</a>      <h3>Record</h3>    </div>    <div class="modal-body">          </div>  </div><!--modal end-->   <div id="popupContact">             <a id="popupContactClose">x</a>    </div>        <!-- uncomment pre-deloy -->  <!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->  <script>window.jQuery || document.write('<script src="assets/js/libs/jquery-1.7.1.min.js"><\/script>')</script>  <!-- bootstrap -->  <script src="/static/assets/js/bootstrap-transition.js"></script>  <script src="/static/assets/js/bootstrap-alert.js"></script>  <script src="/static/assets/js/bootstrap-modal.js"></script>  <script src="/static/assets/js/bootstrap-dropdown.js"></script>  <script src="/static/assets/js/bootstrap-scrollspy.js"></script>  <script src="/static/assets/js/bootstrap-tab.js"></script>  <script src="/static/assets/js/bootstrap-tooltip.js"></script>  <script src="/static/assets/js/bootstrap-popover.js"></script>  <script src="/static/assets/js/bootstrap-button. 
```

**方法 2**

```
try {
            // Add your data
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
            nameValuePairs.add(new BasicNameValuePair("scanned", jsonScanned.toString()));
            nameValuePairs.add(new BasicNameValuePair("unscanned",jsonUnscanned.toString()));
            nameValuePairs.add(new BasicNameValuePair("pickupid", pick_up_id));
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

            // Execute HTTP Post Request
            response = httpclient.execute(httppost);

        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
        } catch (IOException e) {
            // TODO Auto-generated catch block
        }

        if (response.getStatusLine().getStatusCode() == 200)
        {
            HttpEntity entity = response.getEntity();
            try {
                json = EntityUtils.toString(entity);
            } catch (ParseException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
        System.out.println("this is response"+json);
        int iTmp=response.getStatusLine().getStatusCode();

        return response.toString(); 
```

**回复**

```
org.apache.http.message.BasicHttpResponse@40525230 
```

在进一步学习时，我收到上述请求的错误 403。

请指出我在这种方法中所犯的错误。也欢迎使用任何其他方法以及片段。

**编辑 1** 我得到的 HTTP 响应为 200。`HttpEntity entity = response.getEntity();`代码的值为`org.apache.http.conn.BasicMangedEntity@4055505d0`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:47:48.867

你不要说第一种方法有什么问题。

对于第二个，如果您收到 403，可能是因为跨站点请求伪造保护 (CSRF)。请参阅[文档](https://docs.djangoproject.com/en/1.5/ref/contrib/csrf/)以了解如何处理它。

# android - Android - 如何在片段上启动前台服务？

> ID：15517746
> 
> 赞同：2
> 
> 时间：2013-03-20T07:32:20.650
> 
> 标签：android, service, fragment

我有一个关于在片段上启动前台服务的问题。

```
Intent intent = new Intent(this, MainActivity.class);  
PendingIntent pendingIndent = PendingIntent.getActivity(this, 1, intent, 0);  
Notification mNotification = new Notification(R.drawable.ic_music, msg, System.currentTimeMillis());  
mNotification.setLatestEventInfo(this, title, msg, pendingIndent);  
mNotification.flags = mNotification.flags|Notification.FLAG_ONGOING_EVENT;  
startForeground(1000, mNotification); 
```

↑ 我知道这段代码会在 Activity 上启动前台服务。

所以我更改了一些用于片段的代码

```
Intent intent = new Intent(getActivity(), xxx.class);  
PendingIntent pendingIndent = PendingIntent.getActivity(getActivity(), 1, intent, 0);  
Notification noti = new Notification(R.drawable.ic_xxx, "xx", System.currentTimeMillis());  
noti.setLatestEventInfo(getActivity(), "title", "xx", pendingIndent);  
noti.flags = noti.flags|Notification.FLAG_ONGOING_EVENT;  
getActivity().startForeground(1000, noti); 
```

我遇到了这个问题：

```
getActivity().startForeground(1000, noti); 
```

getActivity() 没有 startForeground 方法，我想在片段上启动前台服务。

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:52:04.757

在您的服务方法中尝试此`onStartCommand()`操作：

```
startForeground(NOTIFICATION_ID, new Notification()); 
```

您可能需要返回一个`START_STICKY`保持服务运行的 a，直到您调用`selfStop()`.

干杯!

# django - Django：在内置视图中，如果用户已经通过身份验证，如何重定向到 /？

> ID：15517747
> 
> 赞同：1
> 
> 时间：2013-03-20T07:32:20.703
> 
> 标签：django, django-1.5, django-login

对于登录，我通常使用内置视图：

`(r'^login/$', 'django.contrib.auth.views.login'),`

但是我今天注意到，如果我在已经成功登录后手动转到`myserver.com/login`，我会再次看到登录页面。

这并不一致。解决这个问题的一种方法是，如果我可以在登录视图函数顶部有这两行：

```
if request.user.is_authenticated():
    return HttpResponseRedirect('/') 
```

这样如果用户已经通过身份验证，请重定向到/。

有没有办法在仍然使用 'django.contrib.auth.views.login' 登录的同时实现这一点？

**更新：**

似乎有人已经有这个问题了： [Django: Redirect logged in users from login page](https://stackoverflow.com/questions/2320581/django-redirect-logged-in-users-from-login-page)

然而，该解决方案似乎不再适用于 Django 1.5

在自定义登录中，它会在以下位置引发异常：

```
return login(request) 
```

-->

```
AttributeError: 'AnonymousUser' object has no attribute 'backend' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:32:06.457

毕竟[，我编辑中的](https://stackoverflow.com/questions/2320581/django-redirect-logged-in-users-from-login-page)这个解决方案有效。

我导入了错误的命名空间，而不是

```
from django.contrib.auth.views import login 
```

我已经进口了：

```
from django.contrib.auth import login 
```

我希望这对其他人有帮助。

# windows - SNMP 的 snmp4j 库中的目标是什么

> ID：15517748
> 
> 赞同：0
> 
> 时间：2013-03-20T07:32:23.897
> 
> 标签：windows, networking, snmp, mib, snmp4j

大家好！！我有一个示例代码可以在 SNMP 协议中使用 snmp4j 访问设备的一些信息...在示例代码中，他们提供了将检索到的信息转储到某个目标地址的示例代码，但我没有得到这个目标地址...

下面是我的代码...

```
 /**
 * This method returns a Target, which contains information about where the
 * data should be fetched and how.
 *
 * @return
 */
private Target getTarget() {
    Address targetAddress = GenericAddress.parse(address);
    CommunityTarget target = new CommunityTarget();
    target.setCommunity(new OctetString("public"));
    target.setAddress(targetAddress);
    target.setRetries(2);
    target.setTimeout(1500);
    target.setVersion(SnmpConstants.version2c);
    return target;
} 
```

}

并且该方法已被**ResponseEvent**返回类型的**Get** 方法调用...

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T11:30:20.437

它只是您要从中检索某些 SNMP 信息的设备的 IP 地址。你可以这样写`"udp:127.0.0.1/161"`

[这是一个带有 snmp4j 的简单 SNMP 客户端示例](http://shivasoft.in/blog/java/snmp/create-snmp-client-in-java-using-snmp4j/)**

# mysql - mysql 错误 1452：无法添加或更新子行，外键约束失败

> ID：15517751
> 
> 赞同：0
> 
> 时间：2013-03-20T07:32:27.793
> 
> 标签：mysql, django

我在 stackoverflow 上进行了几个 QA，以便为我解决这个问题，但找不到。我确实尝试了这个[问题](https://stackoverflow.com/questions/1253459/mysql-error-1452-cannot-add-or-update-a-child-row-a-foreign-key-constraint-fa)的所有答案，但似乎没有帮助。

每当我尝试使用外键更新表中的记录时，都会出现以下错误。

```
Mysql error 1452 - Cannot add or update a child row 
```

还有哪些其他因素可能导致这种情况？如果这很重要，我正在使用 django 1.4。

### PS：

我尝试了我提到的问题中的答案，但我总是得到一个空的结果，如下所示：

```
MySQL returned an empty result set (i.e. zero rows). ( Query took 0.0004 sec ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:50:10.947

如果您在第一个表上插入或更新一行，则引用的地址 ID 必须存在于第二个表中。
您还可以将以下代码添加到外键约束：

> 更新级联 删除级联

这意味着所有修改都将级联到子表

# shell - 无法在 Windows Server 2003 中使用 forfiles 脚本删除目录

> ID：15517752
> 
> 赞同：0
> 
> 时间：2013-03-20T07:32:29.400
> 
> 标签：shell, scripting, batch-file

我准备了一个 forfiles 脚本，使用以下命令从多个服务器上的一个位置删除文件和文件夹。但是，下面的脚本不会删除目录和子目录，而只会删除文件，我尝试了很多开关，但没有任何效果。任何进一步的帮助都将受到高度赞赏。

```
WMIC /node:@c:\List of the servers.txt PROCESS CALL CREATE "FORFILES.exe /p %systemroot%\Temp /s /m *.* /d -2 /c \"cmd /c erase @file /q\"" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:03:12.480

试试这个（未经测试）：

```
WMIC /node:@c:\List of the servers.txt PROCESS CALL CREATE "FORFILES.exe /p %systemroot%\Temp /d -2 /c "cmd /c if @isdir==TRUE rd /s @file"" 
```

要毫无疑问地删除文件夹，请添加`/q`到`rd`命令行。

# jquery - 为什么这个 jquery 变量没有被重置？

> ID：15517754
> 
> 赞同：2
> 
> 时间：2013-03-20T07:32:38.010
> 
> 标签：jquery, variables, setinterval

我正在使用 setinterval，其中每次使用 var pro 设置 ajax 数据。BUt 没有使用 pro 变量设置数据

```
 $(document).ready(function () {

    setInterval(moving_header, 3000);
});
function moving_header() {

    var pro = '1';

    $.post('send.php', { option:'moving_header', pro:pro}, function (data) {
        alert(data);

        pro = data;

    });

} 
```

假设 data=2 但 pro=1 未设置为 pro=2.Plz 帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T07:34:05.520

在外面声明 pro`moving_header`以便每次调用moving_header时都不会初始化它`setInterval`

```
 var pro = '1';
 function moving_header() {      
    $.post('send.php', { option:'moving_header', pro:pro}, function (data) {
        alert(data);    
        pro = data;        
    });
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:38:04.700

首先在外面声明，其次您也可以删除`''`引号：

```
var pro = 1;
function moving_header() {
  $.post('send.php', { option:'moving_header', pro:pro}, function (data) {
    alert(data);
    pro = data;
  });
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:40:58.170

你确定 ajax 调用在 3 秒内完成吗？第二个请求可以在第一个请求继续时开始。

# c# - 如何转换 datagridview 中类似于 Win Os 时间选择器的列？

> ID：15517755
> 
> 赞同：1
> 
> 时间：2013-03-20T07:32:50.290
> 
> 标签：c#, custom-datetimepicker

我不知道如何开始使用它，因为我们在 datagridview 的设计器中拥有的只是按钮、文本框和组合框。

我想给它一种感觉，例如：
当用户单击该列时，该列应仅显示时间选择器而不是日期选择器。
我实际上运行了一个代码来验证文本框是否包含有效时间，但它有很多用户可以通过的错误。
此外，用户在手动输入所有数字时不会有宾至如归的感觉。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:24:27.590

基本上，您需要“创建” DateTimePicker 列，然后将其添加到数据网格中。请参阅以下 SO 问题：[Manipulate The Currenly Edited Row in a grid view](https://stackoverflow.com/questions/14012429/manipulate-the-currenly-edited-row-in-a-grid-view/14236110#14236110)

# sql - 聚合函数的 Sql 服务器性能问题

> ID：15517761
> 
> 赞同：3
> 
> 时间：2013-03-20T07:33:13.447
> 
> 标签：sql, sql-server, performance, aggregate

我有一个创建选择语句（5000 记录）的存储过程。在 select 语句中，我调用了表值函数。表值函数执行一些聚合计算

我花了超过一分钟返回结果

这是聚合函数代码

```
ALTER FUNCTION [dbo].[GetParticipationEvaluation](@Participation_ID int)
RETURNS @TabEvaluation TABLE (
   JudgeCount               int      NOT NULL,
   JudgeEvaluationCount     int     NOT NULL,
   Evaluation               float

) 
AS
BEGIN
   declare @JudgeCount int
   declare @JudgeEvaluationCount int
   declare @Evaluation float
   SELECT 
   @JudgeCount=COUNT(*),@Evaluation= AVG(Evaluation) from Judge_Participation where Participation_ID=@Participation_ID and Sys_Is_Active=1
    and status_ID =2
    SELECT 
   @JudgeEvaluationCount=COUNT(*),@Evaluation= AVG(Evaluation) from Judge_Participation where Participation_ID=@Participation_ID and Sys_Is_Active=1
    INSERT INTO @TabEvaluation (JudgeCount, JudgeEvaluationCount, Evaluation)
    select @JudgeCount,@JudgeEvaluationCount,@Evaluation
   RETURN;
END; 
```

这是存储过程代码

```
ALTER procedure [dbo].[GetEvalutionStatistics]
as
select  [Participation].[Participation_ID]
    ,[Participation].[Name_Ar]
    ,[Participation].[Name_En]
    ,[Participation].[Is_Submitted]
    ,[Participation].[Student_ID]
    ,[Participation].[Result_ID]
    ,[Participation].[Field_ID]
    ,[Participation].[Category_ID]
    ,[Participation].[Actual_Field_ID]
    ,[Participation].[Current_Member_ID]
    ,[Participation].[Sys_Is_Active]
    ,[Participation].[Turnitin_Value]
    ,[Participation].[Turnitin_Link]
    ,Eval.JudgeCount
    ,Eval.JudgeEvaluationCount
    ,Eval.Evaluation
    ,[Actual_Field_ID].[Name_Ar] as 'Actual_Field_ID.Name_Ar'
    ,[Actual_Field_ID].[Name_En] as 'Actual_Field_ID.Name_En'
    ,[Result_ID].[Name_Ar] as 'Result_ID.Name_Ar'
    ,[Result_ID].[Name_En] as 'Result_ID.Name_En'
    --,dbo.getjudgecount(participation_ID,null) 'JudgeCount'
    --,dbo.getjudgecount(participation_ID,2) 'JudgeEvaluationCount'
    --,dbo.GetAvgParticipationEvaluation(Participation_ID) 'Evaluation'
    --,dbo.getParticipationSpecialist(Participation_ID) as 'specialist'
from [Participation] 
    left join [Participation_Field_List] as [Actual_Field_ID] on [Actual_Field_ID].[Field_ID]=[Participation].[Actual_Field_ID]
    left join [Participation_Result] as [Result_ID] on [Result_ID].[Result_ID]=[Participation].[Result_ID]
OUTER APPLY dbo.GetParticipationEvaluation([Participation].participation_ID) Eval
where 
     participation.Sys_Is_Active=1 and participation.is_submitted=1 
```

我想知道导致这种糟糕表现的部分

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:47:38.057

通常你需要'join columns'和'where子句'的索引，尝试获取执行计划，看看是否缺少索引。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T08:37:05.630

试试这个没有慢速功能的程序

```
CREATE procedure [dbo].[GetEvalutionStatistics]
as
select  p.[Participation_ID]
    ,p.[Name_Ar]
    ,p.[Name_En]
    ,p.[Is_Submitted]
    ,p.[Student_ID]
    ,p.[Result_ID]
    ,p.[Field_ID]
    ,p.[Category_ID]
    ,p.[Actual_Field_ID]
    ,p.[Current_Member_ID]
    ,p.[Sys_Is_Active]
    ,p.[Turnitin_Value]
    ,p.[Turnitin_Link]
    ,Eval.JudgeCount
    ,Eval.JudgeEvaluationCount
    ,Eval.Evaluation
    ,[Actual_Field_ID].[Name_Ar] as 'Actual_Field_ID.Name_Ar'
    ,[Actual_Field_ID].[Name_En] as 'Actual_Field_ID.Name_En'
    ,[Result_ID].[Name_Ar] as 'Result_ID.Name_Ar'
    ,[Result_ID].[Name_En] as 'Result_ID.Name_En'
    --,dbo.getjudgecount(participation_ID,null) 'JudgeCount'
    --,dbo.getjudgecount(participation_ID,2) 'JudgeEvaluationCount'
    --,dbo.GetAvgParticipationEvaluation(Participation_ID) 'Evaluation'
    --,dbo.getParticipationSpecialist(Participation_ID) as 'specialist'
from [Participation] p
    left join [Participation_Field_List] as [Actual_Field_ID] on [Actual_Field_ID].[Field_ID]= p.[Actual_Field_ID]
    left join [Participation_Result] as [Result_ID] on [Result_ID].[Result_ID]= p.[Result_ID]
OUTER APPLY (
             SELECT COUNT(CASE WHEN Sys_Is_Active=1 and status_ID = 2 THEN 1 END) AS JudgeCount,
                    AVG(CASE WHEN Sys_Is_Active=1 THEN Evaluation END) AS Evaluation,
                    COUNT(CASE WHEN Sys_Is_Active=1 THEN 1 END) AS JudgeEvaluationCount      
             FROM Judge_Participation 
             WHERE Participation_ID = p.participation_ID and (Sys_Is_Active=1 OR status_ID =2)
             ) Eval
where p.Sys_Is_Active=1 and p.is_submitted=1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:56:12.153

好吧，我看到您在外部应用中使用的函数中有相当多的逻辑。没有这个功能你测试了吗？当然，您将缺少逻辑，但要确定函数或查询的其余部分是否是问题，这是可能的。

我尽量不使用函数，除非我真的必须这样做。对于我所看到的，您可以将所有逻辑放入存储过程中。

我会查看此查询将生成的查询计划。如果你不知道怎么做，在[http://plixa.nl/how-to-read-query-execution-plans/](http://plixa.nl/how-to-read-query-execution-plans/)你可以找到如何做。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T09:25:16.037

我认为由于在此查询中使用**函数**而导致性能成本。由于在查询中调用用户定义的函数会降低性能。

所以想尝试替代方法来避免功能。

请检查表中的索引。

请参考以下链接

[http://www.mindfiresolutions.com/SqlServer-Query-Optimization-Tips-470.php](http://www.mindfiresolutions.com/SqlServer-Query-Optimization-Tips-470.php)

[http://www.mssqltips.com/sql-server-tip-category/37/query-optimization/](http://www.mssqltips.com/sql-server-tip-category/37/query-optimization/)

[http://blog.sqlauthority.com/2010/02/16/sql-server-stored-procedure-optimization-tips-best-practices/](http://blog.sqlauthority.com/2010/02/16/sql-server-stored-procedure-optimization-tips-best-practices/)

# android - 分片内存管理

> ID：15517764
> 
> 赞同：0
> 
> 时间：2013-03-20T07:33:22.917
> 
> 标签：android, memory-management, fragment

我将列表视图放在项目单击侦听器代码上供您参考。在列表视图中单击每个项目时，我将用另一个片段替换片段。我将主要片段（片段 1）放在框架布局文件中。我只是在同一视图中切换片段。

```
 listView.setOnItemClickListener(new OnItemClickListener() {
                   @Override
                   public void onItemClick(AdapterView<?> adapter, View view, int position, long arg) {

                  if(array[position].equalsIgnoreCase("movies")){
                       FragmentTransaction transaction = getFragmentManager().beginTransaction();
                       transaction.replace(R.id.fragment1, new next());

                       transaction.commit();
                  }
                  if(array[position].equalsIgnoreCase("serials")){
                       FragmentTransaction transaction = getFragmentManager().beginTransaction();
                   transaction.replace(R.id.fragment1, new Item2());

                       transaction.commit();
                 }  
                  if(array[position].equalsIgnoreCase("restaurents")){
                       FragmentTransaction transaction = getFragmentManager().beginTransaction();
                   transaction.replace(R.id.fragment1, new Item3());

                       transaction.commit();
                 }     
                   } 
                }); 
```

如果我点击**电影**，片段 1 将被新片段（项目 1）替换，类似地，如果我点击**连续剧**，片段 1 被新片段（项目 2）替换，我认为当我切换到新片段时片段 1 内存将被释放（第 1 项）和片段（第 1 项）将在我单击片段（第 2 项）时被释放，告诉我它是否会以相同的方式工作。因为我需要为每个列表项单击使用更多数量的片段（列表中的项目数会更多）。我想知道它是否会以同样的方式发生是否有任何方法来管理片段的内存。建议我一个更好的方法来做到这一点，因为我希望我的应用程序在没有内存泄漏的情况下运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-29T14:11:27.247

您可以使用片段生命周期方法简单地检查这一点。

```
public void onStart() {
    super.onStart();
    Log.d(LOG_TAG, "Fragment1 onStart");
  }

  public void onResume() {
    super.onResume();
    Log.d(LOG_TAG, "Fragment1 onResume");
  }

  public void onPause() {
    super.onPause();
    Log.d(LOG_TAG, "Fragment1 onPause");
  }

  public void onStop() {
    super.onStop();
    Log.d(LOG_TAG, "Fragment1 onStop");
  }

  public void onDestroyView() {
    super.onDestroyView();
    Log.d(LOG_TAG, "Fragment1 onDestroyView");
  }

  public void onDestroy() {
    super.onDestroy();
    Log.d(LOG_TAG, "Fragment1 onDestroy");
  }

  public void onDetach() {
    super.onDetach();
    Log.d(LOG_TAG, "Fragment1 onDetach");
  } 
```

# python - AppEngine 1.7.6 和 Django 1.4.2 版本

> ID：15517766
> 
> 赞同：0
> 
> 时间：2013-03-20T07:33:29.780
> 
> 标签：python, django, google-app-engine, python-2.7, django-nonrel

AppEngine 1.7.6 已将 Django 1.4.2 升级为 GA。我想知道人们是如何使用以及是否使用我的问题的原因是 Django-nonrel 似乎卡在 Django 1.3 上，并且没有任何更新的迹象。

我想从 Djano 中使用的是控制器、视图，尤其是表单验证。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:27:24.170

如果您想要使用控制器、视图和表单验证，您仍然可以这样做。

Django 内置在 Google App Engine 中，因此您可以在其中编写 Django 应用程序。有什么问题？Django 模型是关系型的，但数据存储区不是。你有两个选择：

*   使用[CloudSQL](https://developers.google.com/cloud-sql/?hl=es-419)，这样您就可以将普通的 Django 模型与类似 MySQL 的数据库一起使用。
*   使用 Django 中的所有内容，但模型除外。只是不要使用 Django ORM，而是使用 GAE SDK。甚至[NDB](https://developers.google.com/appengine/docs/python/ndb/)。你会失去一些东西，比如`ModelForms`，但它可以使工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T14:05:10.497

GAE 中内置的 django 库是具有 SQL ORM 的普通 django。因此，您可以将其与 Cloud SQL 一起使用，但不能与 HRD 一起使用。

根据新闻组上的消息，django-nonrel 最高为 1.4.5。不幸的是，文档严重落后。

# android - 如何为不同的弹出菜单设置特定的侦听器？（里面的代码）

> ID：15517779
> 
> 赞同：1
> 
> 时间：2013-03-20T07:34:09.637
> 
> 标签：android, popup, listener, menuitem, android-menu

我正在开发一个应用程序，该应用程序的一个活动中有一个“过滤器按钮”，每次单击它时都会出现一个弹出菜单。特别是这个弹出菜单并不总是相同的，它可能会根据用户在上一个活动中所做的事情而有所不同。

到目前为止，我已经编写了允许应用程序在不同情况下显示不同弹出菜单的部分（效果很好）。现在，我一直在尝试为任何这些情况添加单独的侦听器。
这是我的代码和一些解释：

```
// method called when the user clicks on "filter_button"
// displays a different popupmenu depending on the value of
// filterVariable defined in a previous activity 

private void showPopupMenu(View v) {

    Bundle bundle = getIntent().getExtras();
    int filterVariable = bundle.getInt("filterVariable");
    switch (filterVariable) {

    // Case 1: inflates Res/Menu/popupmenu
    case 1:
        PopupMenu myPopupMenu1 = new PopupMenu(ResultListViewActivity.this, v);
        myPopupMenu1.getMenuInflater().inflate(R.menu.popupmenu,
                myPopupMenu1.getMenu());
        myPopupMenu1.setOnMenuItemClickListener(listener_1);
        myPopupMenu1.show();
        break;

    // Case 2: inflates Res/Menu/popumenu2
    case 2:
        PopupMenu myPopupMenu2 = new PopupMenu(ResultListViewActivity.this, v);
        myPopupMenu2.getMenuInflater().inflate(R.menu.popupmenu2,
                myPopupMenu2.getMenu());
        myPopupMenu2.setOnMenuItemClickListener(listener_2);
        myPopupMenu2.show();
        break;

// and so on ...
    }
} 
```

我现在要做的是为每个侦听器分配不同的事件。这就是为什么我定义了 listener_1、listener_2 等（现在他们用这个注释“listener_1 无法解析为变量”下划线 - 我告诉你这个是因为我对“变量”有点不安，不是监听器应该不是变量吗？我们可以初始化一个监听器吗？）但我不知道如何将它集成到这种代码中，这是为项目点击分配方法的传统示例（在 Android Developer 上找到） ：

```
@Override
public boolean onMenuItemClick(MenuItem item) {
switch (item.getItemId()) {
    case R.id.archive:
        // ....
        return true;
    case R.id.delete:
        // ....
        return true;

} } 
```

谢谢你的时间！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-21T06:09:22.623

我实际上找到了一种方法来做到这一点，以防有一天它可以帮助某人，我发布了我的代码。它完美地工作，并允许**为一个初始按钮分配不同的弹出菜单和不同的事件给侦听器**。
在我的例子中，case11 对应于我的第一个过滤模式（例如餐厅，每个项目都是不同种类的餐厅），cass12 对应于另一个过滤模式（例如夜生活，项目有不同的活动，等等！）。

```
private void showPopupMenu(View v) {

Bundle bundle = getIntent().getExtras();
int filterVariable = bundle.getInt("filterVariable");

switch (filterVariable) {

case 11:
    PopupMenu myPopupMenu11 = new PopupMenu(
            ResultListViewActivity.this, v);
    myPopupMenu11.getMenuInflater().inflate(R.menu.popup_fastfood,
            myPopupMenu11.getMenu());
    myPopupMenu11
            .setOnMenuItemClickListener(new OnMenuItemClickListener() {

                private String filterInterval;
                private String filterTitle;

                @Override
                public boolean onMenuItemClick(
                        android.view.MenuItem item) {
                    switch (item.getItemId()) {
                    case R.id.item11a:
                        // define your events for item11a
                        return true;

                    case R.id.item11b:
                        //....
                        return true;

                    case R.id.item11c:
                        // ...
                        return true;

                    }
                    return false;
                }
            });

    myPopupMenu11.show();
    break;
case 12:
    PopupMenu myPopupMenu12 = new PopupMenu(
            ResultListViewActivity.this, v);
    myPopupMenu12.getMenuInflater().inflate(R.menu.popup_restaurants,
            myPopupMenu12.getMenu());
    myPopupMenu12
            .setOnMenuItemClickListener(new OnMenuItemClickListener() {

                @Override
                public boolean onMenuItemClick(
                        android.view.MenuItem item) {
                    switch (item.getItemId()) {
                    case R.id.item12a:
                        // ....
                        return true;

                    case R.id.item12b:
                        // ....
                        return true;

                    }
                    return false;
                }
            });

    myPopupMenu12.show();
    break;
}

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:50:44.983

从先前的活动中添加额外内容并在弹出窗口显示的活动中接收它怎么样，您可以创建一个全局最终变量来确定将发送哪个弹出窗口，所以基本上它会像这样

BaseID 类

```
public class BaseID {
    public static final int POP_UP_1 = 1;
    public static final int POP_UP_2 = 2;
    public static final int POP_UP_3 = 3;
    public static final int POP_UP_4 = 4;
} 
```

然后在之前的活动中，在你开始新活动之前，你应该多放一个

```
Intent i = new Intent(previousactivity, popup.class);
switch(condition) {
   case condition1:
   i.putExtra("popUpType",BaseID.POP_UP_1);
   break;
   case condition2:
   i.putExtra("popUpType",BaseID.POP_UP_2);
   break;
   case condition3:
   i.putExtra("popUpType",BaseID.POP_UP_3);
   break;
   case condition4:
   i.putExtra("popUpType",BaseID.POP_UP_4);
   break;
}
startActivity(i); 
```

然后在弹出活动中，您可以使用 getIntExtra() 获得额外的

```
private int popUpType;

.
.
.

popUpType= getIntent().getIntExtra("popUpType", 0); 
```

然后你可以创建一个监听器并切换 popUpType

```
private View.onClickListener mOnClickFilter = new View.OnClickListener() {
  @Override
    public void onClick(View v) {
    switch(popUpType) {
         case BaseID.POP_UP_1:
         //show popup 1 here
         break;
         case BaseID.POP_UP_2:
         //show popup 1 here
         break;
         case BaseID.POP_UP_3:
         //show popup 1 here
         break;
         case BaseID.POP_UP_4:
         //show popup 1 here
         break;
    }
   } 
}; 
```

然后您可以将侦听器添加到 oncreate 中弹出活动中的按钮

```
mButtonFilter.setOnClickListener(mOnClickFilter); 
```

对于在弹出窗口中设置不同的操作，我认为您可以首先使用回调（java接口）定义接口

回调弹出按钮接口

```
public interface callbackPopUpButton {
    public void onClick();
} 
```

然后你可以在你想像这样显示弹出的活动中实现它

```
private class cbPopUpButton implements callbackPopUpButton {
     @Override
     public void onClick() {
          switch(popUpType) {
             case BaseID.POP_UP_1:
             //action of button in pop up 1
             break;
             case BaseID.POP_UP_2:
             //action of button in pop up 2
             break;
             case BaseID.POP_UP_3:
             //action of button in pop up 3
             break;
             case BaseID.POP_UP_4:
             //action of button in pop up 4
             break;
         }
     }
} 
```

或者如果您想根据视图进行切换，您可以在 onClick() 中添加 View v

声明类后，您可以创建一个新对象并将其传递给弹出菜单，然后像这样调用 onclick

```
myPopupMenu1.setCallback(new cbPopUpButton ); //please create new function to pass the callback 
```

函数和设置回调应该是这样的（在 myPopupMenu1 类中）

```
private callbackPopUpButton cbPopUpButton

public static void setCallback(callbackPopUpButton cbPopUpButton) {
      this.cbPopUpButton = cbPopUpButton;
} 
```

然后您可以像这样在按钮的 onclick 侦听器中添加操作

```
buttonPopUp.setOnClickListener = new View.onClickListener() {
    @Override
    public void onClick(View v) {
       cbPopUpButton.onClick();
    }
}; 
```

此代码将调用 cbPopUpButton 类中的 onClick 函数

就这样！

希望您能理解我的回答，如果您对我的回答有任何疑问，请随时在评论中提问：)

# ant - 未能创建任务或类型资源存在

> ID：15517780
> 
> 赞同：0
> 
> 时间：2013-03-20T07:34:14.860
> 
> 标签：ant

我在用

```
<resourceexists>
  <file file="${file}"/>
</resourceexists> 
```

但在 ant 1.8.2 中出现如下错误：

upgrade.xml:44：问题：未能创建任务或类型资源存在原因：名称未定义。行动：检查拼写。行动：检查是否已声明任何自定义任务/类型。行动：检查任何/声明已经发生。

可能是什么原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:10:38.003

因为`<resourceexists/>`是`<condition/>`嵌套任务。您应该以这种方式使用 is：

```
<project name="resourcetest" default="test">
    <target name="test">
        <condition property="is.resource.exists" value="true" else="false">
            <resourceexists>
                <file file="C:\ac.txt"/>
            </resourceexists>
        </condition>
        <echo>Does file C:\ac.txt exists? ${is.resource.exists}</echo>
    </target>
</project> 
```

# mysql - 使用自动数字插入后插入

> ID：15517782
> 
> 赞同：1
> 
> 时间：2013-03-20T07:34:22.760
> 
> 标签：mysql, sql, sql-insert

我必须像这样插入两个：

```
INSERT INTO CONVERSATION (issue,...) VALUES ('Presentation',...);
INSERT INTO CONVERSATIONMESSAGES VALUES (ConversationId, 'Hello everybody',...); 
```

在第一个表中，唯一的 PK 是一个自动数字字段 (ConversationId)，后来我必须知道这个自动数字字段才能插入到第二个表中。

有什么办法吗？当我做第一个插入以知道第二个插入时，做一个选择 * 之类的东西？

非常感谢，希望我解释正确。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T07:35:24.473

您可以使用在表上`LAST_INSERT_ID()`插入最后生成的*自动增量*，例如

```
INSERT INTO CONVERSATION (issue,...) VALUES ('Presentation',...);
INSERT INTO CONVERSATIONMESSAGES VALUES (LAST_INSERT_ID(), 'Hello everybody',..); 
```

*   [LAST_INSERT_ID()](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_last-insert-id)

但如果你有并发`INSERT`s，这有时会失败。

尝试为此创建一个存储过程，

```
DELIMITER $$
CREATE PROCEDURE ProcNAME(...PARAMETERS HERE...)
BEGIN
    INSERT INTO CONVERSATION (issue,...) VALUES ('Presentation',...);
    SET @lstID = (SELECT MAX(ConversationId) FROM CONVERSATION);
    INSERT INTO CONVERSATIONMESSAGES VALUES (@lstID, 'Hello..',..);
END
DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:38:11.947

```
declare @retVal as int

INSERT INTO CONVERSATION (issue,...) VALUES ('Presentation',...);

@retval=SELECT SCOPE_IDENTITY();

INSERT INTO CONVERSATIONMESSAGES VALUES (ConversationId, 'Hello everybody',...); 
```

您将在 @revVal 中获得最后插入的行号值以用于其他表

# java - for-each 循环未执行的可能原因是什么？

> ID：15517784
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:34:32.913
> 
> 标签：java, foreach

有人能告诉我java中的foreach循环没有执行的可能原因是什么吗？因为每次我调试程序时，它都不会进入我的 foreach 中。

```
 for(SurveyReport surveyReport : surveyReportList)
    {
       System.out.println(surveyReport.getRiskRank().toString());
    } 
```

这是我的 foreach 循环。简单但非常奇怪，因为我总是收到 InvocationTargetException。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:41:25.400

*   被迭代的集合是空的
*   程序流程绕过了 for-each 循环（异常、条件等）
*   错误`;`放置会导致空的 for-each 循环体语句

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T08:14:45.567

“InvocationTargetException 是一个经过检查的异常，它包装了被调用的方法或构造函数抛出的异常。” [java.lang.reflect.InvocationTargetException](http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/InvocationTargetException.html)

这表明代码可能正在进入循环，但如果是这样，则第一个 println 参数表达式涉及反射，并且通过反射调用的方法或构造函数会引发异常。

它可能在进入循环之前失败，但在你检查它到达的最后一个地方之后。

尝试捕获异常并显示其 getCause() 以查看真正出了什么问题。

# android - FragmentTransaction 类型中的方法 add(int, Fragment, String) 不适用于参数 (int, Fragment, String)

> ID：15517786
> 
> 赞同：5
> 
> 时间：2013-03-20T07:34:35.693
> 
> 标签：android, fragment, android-fragmentactivity

我有这个问题..

```
The method add(int, Fragment, String) in the type FragmentTransaction is not applicable for the arguments (int, Fragment, String) 
```

在 a 中使用以下代码时`FragenmtActivity`

```
getSupportFragmentManager().beginTransaction().add(com.korovyansk.android.slideout.R.id.slideout_placeholder,  ((Fragment)new CommentsMenuFragment()), "menu").commit(); 
```

其中 CommentsMenuFragment 实现是：

```
public class CommentsMenuFragment extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.fragment_comment, container, false);
        ListView lvComments = (ListView) view.findViewById(R.id.lvComments);

        return view;
    }

} 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-03-20T07:38:46.703

检查您的 CommentsMenuFragment 是否从 android.support.v4.app.Fragment 而不是 android.app.Fragment 扩展。

# ssas - 在 WHERE 子句中使用日期和父子的 SSAS 2008R2 mdx 查询

> ID：15517789
> 
> 赞同：0
> 
> 时间：2013-03-20T07:34:44.877
> 
> 标签：ssas, mdx

我是 olap 的新手，使用 AdventureWorksDW2008R2 db 和 Adventure Works 2008R2 olap 和 Adventure Works 多维数据集。

我想使用 T-SQL 根据结果编写一个 mdx 查询：-

```
select 
  FactResellerSales.OrderDateKey, 
  SUM(FactResellerSales.SalesAmount) as 'Reseller Sales Amount' 

from FactResellerSales with (nolock)

inner join DimEmployee on DimEmployee.EmployeeKey = FactResellerSales.EmployeeKey

where 
   FactResellerSales.OrderDateKey=20070901
   and DimEmployee.FirstName='Jae' and DimEmployee.LastName='Pak'

group by FactResellerSales.OrderDateKey 
```

结果：

```
OrderDateKey      Reseller Sales Amount
20070901          415046.9295 
```

使用 mdx 查询，我只能执行以下操作：-

```
SELECT [Measures].[Reseller Sales Amount] ON COLUMNS,

NON EMPTY [Date].[Date].members ON ROWS

FROM [Adventure Works]

WHERE [Employee].[Employees].&[291] 
```

结果是从 2006 年 7 月 1 日到 2008 年 6 月 1 日，每天都有相应的经销商销售额汇总。

我的问题是，在 mdx 查询 WHERE 子句中，我该如何：

a) 按日期过滤，即 2007 年 9 月 1 日？它不接受日期维度。

b) 使用多级层次结构中的名称“Jae B. Pak”按员工过滤，而不是使用 291 的 EmployeeKey。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T21:09:57.613

您需要将员工维度与您感兴趣的日期交叉连接。

以下将为您提供价值；

```
SELECT { [Measures].[Reseller Sales Amount] } ON COLUMNS
FROM [Adventure Works]
WHERE ({ [Employee].[Employee Department].[Employee].[Jae B. Pak]},
         {[Date].[Date].&[20070901] }) 
```

MDX 中的 where 子句是一个切片器，其行为不同于 SQL where 子句（值得一读）。以下对行的交叉连接将在不使用切片器的情况下提供相同的结果，但会在结果中包含维度属性。

```
SELECT { [Measures].[Reseller Sales Amount] } ON COLUMNS,
CROSSJOIN({ [Employee].[Employee Department].[Employee].[Jae B. Pak]}, {[Date].[Date].&[20070901] }) ON Rows
FROM [Adventure Works] 
```

最后，如果您想基于“SQL Like”返回，您可以使用 instr（以下给出了名称中包含 ja 的所有员工）

```
SELECT [Measures].[Reseller Sales Amount] ON COLUMNS,
{FILTER([Employee].[Employees].allmembers,
instr([Employee].[Employees].currentmember.member_caption,'Ja')>0) *  [Date].[Date].&[20070901]} ON ROWS
FROM [Adventure Works] 
```

希望这会让你继续前进

# php - 如何删除opencart中选择选项中的价格值？

> ID：15517791
> 
> 赞同：1
> 
> 时间：2013-03-20T07:34:54.470
> 
> 标签：php, javascript, ajax, opencart

我是**OpenCart**电子商务的新手。我想为每个产品创建一个**计算器**。在选择框选项中，我想删除选项值的价格，但我不知道该怎么做。我正在使用选择框的**onChange**事件来计算产品价格。在那个**onChange**函数中，我使用`this.options[this.selectedIndex].value`. Javascript函数：

```
function isNumber(n) {
    return !isNaN(parseFloat(n)) && isFinite(n);
}

function assign_values(values,sel_vals,id_text,id_select) {
    var mystr       = sel_vals;
    alert(mystr);
    var mystr2      = mystr.split("_");
    var mystr1      = mystr2[1];
    alert(mystr1);
    //var operator1     = mystr1.slice(mystr.lastIndexOf("("),mystr.lastIndexOf("."));
    //var operator1     = operator[1];
    //alert(operator1);

    var myarr       = mystr1.split("$");
    var symbol_s    = myarr[0];
    alert(symbol_s);
    //var symbol_a      = symbol_s.split("(");
    //var symbol        = symbol_a[1];
    //alert(symbol); 
    var split_value = myarr[1];
    alert(split_value);
    var final_value =split_value.split(".");
    var Final_price =final_value[0];
    var original_price_element=document.getElementById('original_price');
    alert(original_price_element);
    var original_prices=document.getElementById('original_price').value;
    alert(original_prices);
    var calculated_price_element=document.getElementById('calculated_price');

    if(isNumber(Final_price)) {
        if(symbol =='+') {
        var total_amount=parseInt(original_prices)+parseInt(Final_price);
        calculated_price_element.innerHTML=total_amount;
        document.getElementById('original_price').value=total_amount;
        } else if(symbol =='-') {
        var total_amount=parseInt(original_prices)-parseInt(Final_price);
        calculated_price_element.innerHTML=total_amount;
        document.getElementById('original_price').value=total_amount;
        }
        //alert('test');
    }
} 
```

这个功能不能正常工作...我想在商品详情页和购物车页计算价格...如何解决？请给我解决方案...

# android - 如何处理 Android 中的启动画面拉伸问题？

> ID：15517792
> 
> 赞同：0
> 
> 时间：2013-03-20T07:34:59.000
> 
> 标签：android, android-drawable

我正在开发一个适用于所有分辨率设备的 Android 应用程序。对于所有分辨率，如 320*480、480*800、720*1280 设备，我使用不同的初始屏幕图像并将屏幕图像放置在 mdpi(320*480)、hdpi(480*800)、xhdpi(720*1280) 可绘制文件夹中。在这里，我面临 540*960 设备的问题。这些也属于 hdpi 分辨率。所以图像从 hdpi 文件夹中获取并显示拉伸和模糊。请建议我如何为 540*960 设备分配正确的图像。在这里，我有一些 540*960 的背景图像，它们与 hdpi 设备的分辨率不同。

请问如何为 540*960 设备提供正确的图像。

# python - 如果它采用特殊方法，我该怎么称呼

> ID：15517808
> 
> 赞同：1
> 
> 时间：2013-03-20T07:36:30.573
> 
> 标签：python, pygame

当鼠标按钮向上时，我正在尝试创建一个功能，它将鬼的图片更改为一个图像。

问题是，我不知道该调用什么（因此 ??? 在脚本中）。这很难，因为幽灵是通过循环创建的。任何人都可以帮忙吗？也许我需要把鬼魂变成精灵？你也能帮忙吗？

```
import pygame
import random
import sys

class Ball:
    def __init__(self,X,Y,imagefile):
        self.velocity = [3,3]
        self.ball_image = pygame.image.load (imagefile). convert() ### i want this image to change
        self.ball_boundary = self.ball_image.get_rect (center=(X,Y))
        self.sound = pygame.mixer.Sound ('Thump.wav')

if __name__ =='__main__':
    width = 800
    height = 600
    background_colour = 0,0,0
    GHOST_IMAGE = ["images/blue-right.png", "images/red-right.png", "images/orange-right.png", "images/pink-right.png"]
    GHOST_IMAGETWO = ["images/blue-left.png", "images/red-left.png", "images/orange-left.png", "images/pink-left.png"]
    pygame.init()
    frame = pygame.display.set_mode((width, height))
    pygame.display.set_caption("Bouncing Ball animation")
    num_balls = 4
    ball_list = []
    for i in range(num_balls):
        ball_list.append( Ball(random.randint(0, width),random.randint(0, height), (GHOST_IMAGE[i]) ))
    while True:
        for event in pygame.event.get(): 
            if event.type == pygame.QUIT:
                sys.exit(0)
            elif event.type == pygame.MOUSEBUTTONUP:
                ??? = pygame.image.load("images/vulnerable.png").convert() ###i know that this is where and what i need to change it to, but dont know what instance name to call upon.
        frame.fill(background_colour)
        for ball in ball_list:
            if ball.ball_boundary.left < 0 or ball.ball_boundary.right > width:
                ball.sound.play()
                ball.velocity[0] = -1 * ball.velocity[0]

            if ball.ball_boundary.top < 0 or ball.ball_boundary.bottom > height:
                ball.sound.play()
                ball.velocity[1] = -1 * ball.velocity[1]

            ball.ball_boundary = ball.ball_boundary.move (ball.velocity)
            frame.blit (ball.ball_image, ball.ball_boundary)
        pygame.display.flip() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T07:48:13.790

一种方法是迭代`ball_list`并更改每个球：

```
elif event.type == pygame.MOUSEBUTTONUP:
    image = pygame.image.load("images/vulnerable.png").convert()
    for ball in ball_list:
        ball.ball_image = image 
```

另一种方法是直接在`Ball`类中实现图像更改行为：

```
class Ball:
    def __init__(self,X,Y,imagefile):
        self.vulnerable = False
        self.velocity = [3,3]
        self.normal_ball_image = pygame.image.load (imagefile). convert()
        self.v_ball_image = pygame.image.load("images/vulnerable.png").convert()
        self.ball_image = self.normal_ball_image
        self.ball_boundary = self.ball_image.get_rect (center=(X,Y))
        self.sound = pygame.mixer.Sound ('Thump.wav')

    def toggle(self):
        self.vulnerable = not self.vulnerable
        self.ball_image = self.v_ball_image if self.vulnerable else self.normal_ball_image 
```

在你的循环中：

```
elif event.type == pygame.MOUSEBUTTONUP:
    for ball in ball_list:
        ball.toggle() 
```

# rubygems - Ruby 的好教程 - RGL 库

> ID：15517811
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:36:36.283
> 
> 标签：rubygems

我正在努力使用 rgl 库方法进行编程。谁能告诉rgl的好来源。除了这个[http://rgl.rubyforge.org](http://rgl.rubyforge.org)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-11T11:18:27.680

这个看起来不错[http://rubydoc.info/gems/rgl/0.4.0/frames](http://rubydoc.info/gems/rgl/0.4.0/frames)，至少比你的 ruby​​forge 更好

# iphone - 从 iphone 应用程序将数据发布到服务器

> ID：15517815
> 
> 赞同：-1
> 
> 时间：2013-03-20T07:36:53.350
> 
> 标签：iphone, objective-c

我正在从 iphone 应用程序将数据发布到服务器，但是在读取有关“过度不良访问”的帖子行代码时出现异常。我用于发送四个变量数据的代码相同，然后如果我在帖子中添加更多变量，它会正常工作，它会给出错误.

```
 NSString*category=titleCategory;
NSString*sub_Category=titleSubCategory;
NSString*content_Type=@"Audio";

content_Title=TitleTextField.text;
NSString*content_Title=content_Title;
NSString*publisher=@"Celeritas";
    content_Description=descriptionTextField.text;
NSString*content_Description=content_Description;

NSString*content_ID=@"10";
NSString*content_Source=@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/productivo/pro/ali.wav";

NSString *post =[[NSString alloc] initWithFormat:@"category=%@&sub_Category=%@&content_Type=%@&content_Title=%@&publisher=%@&content_Description=%@&content_ID=%@&content_Source=%@",category,sub_Category,content_Type,content_Title,publisher,content_Description,content_ID,content_Source];

NSURL *url=[NSURL URLWithString:@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/addData.php"];

NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init] ;
[request setURL:url];
[request setHTTPMethod:@"POST"];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setHTTPBody:postData];

NSError *error;
NSURLResponse *response;
NSData *urlData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

NSString *data=[[NSString alloc]initWithData:urlData encoding:NSUTF8StringEncoding];
NSLog(@"%@",data); 
```

下面是它破坏代码的行

```
 NSString *post =[[NSString alloc] initWithFormat:@"category=%@&sub_Category=%@&content_Type=%@&content_Title=%@&publisher=%@&content_Description=%@&content_ID=%@&content_Source=%@",category,sub_Category,content_Type,content_Title,publisher,content_Description,content_ID,content_Source]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:15:15.013

```
Try this

    NSString *args = @"category=%@&sub_Category=%@&content_Type=%@&content_Title=%@&publisher=%@&content_Description=%@&content_ID=%@&content_Source=%@";

    NSString *values=[NSString stringWithFormat:args,category,sub_Category,content_Type,content_Title,publisher,content_Description,content_ID,content_Source];

    NSData *postData = [values dataUsingEncoding:NSASCIIStringEncoding                            allowLossyConversion:YES];

    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

    NSString *path = [[NSString alloc] initWithFormat:@"%s",your urlpath];

    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:path]];

    [request setHTTPMethod:@"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [request setHTTPBody:[values dataUsingEncoding:NSISOLatin1StringEncoding]];
    [request setHTTPBody:postData];

    NSURLResponse *response;
    NSError *err;

    NSData *responseData = [NSURLConnection sendSynchronousRequest:request 
                                                 returningResponse:&response error:&err];

    NSString *returnString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];

    [NSURLConnection connectionWithRequest:request delegate:self];

    //NSLog(@"String==> %@",returnString); 
```

希望这可以帮助...

祝你好运 ！！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T09:19:39.320

在我测试项目以及在 .h 文件中时，以下代码很有帮助

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController{
    NSURLConnection *connection;
    NSMutableData *responseData;
}

@end 
```

.m 文件

```
 - (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    NSString*category=@"Cat1";
    NSString*sub_Category=@"Title";
    NSString*content_Type=@"Audio";

    NSString* content_Title=@"Test";

    NSString*publisher=@"Celeritas";

    NSString*content_Description=@"Content Description";

    NSString*content_ID=@"10";
    NSString*content_Source=@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/productivo/pro/ali.wav";

    NSString*post = [NSString stringWithFormat:@"category=%@&sub_Category=%@&content_Type=%@&content_Title=%@&publisher=%@&content_Description=%@&content_ID=%@&content_Source=%@",category,sub_Category,content_Type,content_Title,publisher,content_Description,content_ID,content_Source];

    NSURL *url=[NSURL URLWithString:@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/addData.php"];

    NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

    NSMutableURLRequest *request=[NSMutableURLRequest requestWithURL:url cachePolicy:NSURLRequestReloadIgnoringCacheData timeoutInterval:60];

    [request setHTTPMethod:@"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];

    [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
    [request setHTTPBody:postData];

    connection=[NSURLConnection connectionWithRequest:request delegate:self];
    if(connection){
        responseData=[NSMutableData data];
    }
}

#pragma NSUrlConnection Delegate Methods

-(void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
    [responseData setLength: 0];
}

-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
    [responseData appendData:data];
}

-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {
//    [delegate APIResponseArrived:NULL];

}

-(void)connectionDidFinishLoading:(NSURLConnection *)connection {
    NSString *responseString =[[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
//    [delegate APIResponseArrived:responseString ];
    NSLog(@"%@",responseString);
} 
```

这段代码解决了你的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T08:22:35.167

我得到了问题的解决方案，实际上他们的无效地址存在变量分配问题，这就是为什么它给出访问错误的原因我直接分配了值然后它对我来说很好

```
 NSString*category=@"Category";
NSString*sub_Category=@"Working";
NSString*content_Type=@"Audio";

NSString*content_Title=@"Content Title";
NSString*publisher=@"Celeritas";
NSString*content_Description=@"ContentDescription";

NSString*content_ID=@"10";
NSString*content_Source=@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/productivo/pro/ali.wav";

NSString *post =[[NSString alloc] init];

post = [NSString stringWithFormat:@"category=%@&sub_Category=%@&content_Type=%@&content_Title=%@&publisher=%@&content_Description=%@&content_ID=%@&content_Source=%@",category,sub_Category,content_Type,content_Title,publisher,content_Description,content_ID,content_Source];

NSURL *url=[NSURL URLWithString:@"http://www.celeritas-solutions.com/pah_brd_v1/productivo/addData.php"];

NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];

NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];

NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init] ;
[request setURL:url];
[request setHTTPMethod:@"POST"];
[request setValue:postLength forHTTPHeaderField:@"Content-Length"];
[request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];
[request setHTTPBody:postData]; 
```

# javascript - 是否有任何方法可以隐藏/禁用使用 Javascript window.open() 打开的弹出窗口的关闭按钮？

> ID：15517816
> 
> 赞同：-3
> 
> 时间：2013-03-20T07:36:59.653
> 
> 标签：javascript, asp.net, jquery

*   有什么方法可以隐藏/禁用使用 Javascript window.open() 打开的弹出窗口的关闭按钮？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:38:51.757

不可以。您不能隐藏弹出窗口的关闭按钮。
如果你想要那种控制，不要使用窗口。

[使用jQuery Dialog](http://jqueryui.com/dialog/)创建一个对话框窗口

您可以根据需要设置样式，并且在 window.open 中显示的内容可以在对话框内的 iframe 中呈现给用户。

# android - android：验证意图发送者的身份

> ID：15517820
> 
> 赞同：7
> 
> 时间：2013-03-20T07:37:11.633
> 
> 标签：android, android-intent, broadcastreceiver, secure-coding

我在一家生产多个应用程序的公司工作，并非所有这些应用程序都具有相同的签名或更多类似的签名，我们目前至少有 5-6 个应用程序证书。

我们试图创建一种机制，使同一设备上的所有公司的应用程序共享相同的，例如如果用户从市场应用程序A安装并且没有安装应用程序，则会生成一个新的ID，如果他现在安装了应用程序A，应用程序 B 应该与应用程序 A 具有相同的 id（id 只是生成的 UUID 类型 #4）等...

我们目前正在使用广播，只有获得我们许可的应用程序才能接收该广播并使用另一个广播发回 id（这次是明确的）。广播和响应受到我们的签名级别许可的保护，这当然无济于事，因为我们有多个签名。

我试图编写一个意图广播和恢复，它可以拥有自己的保护机制，不仅限于一个签名，而是几个签名，问题是像 Binder.getSenderUID() 这样的东西不适用于广播，我得到了我的自己的uid。看起来我无法获得我的 snder 的身份，除非他自己在意图中写下他的 id，这不是我可以信任的，因为它很容易被伪造。使用加密需要应用程序附带一个密钥，这再次不受保护，转向服务器进行验证需要太多时间，而且在移动设备上不能保证成功，因为不能 100% 确定周围有网络。

任何人都知道如何从一个应用程序获取验证\安全消息到另一个应用程序？（我所有的应用程序，但可能有不同的签名）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-24T13:01:19.197

和往常一样，这里有一个具有挑战性的问题，如果有的话，我从来没有得到过正确的答案！回答，所以我被迫自己找到它。

Intents 的问题在于不可能获取发送者，因为它们与网络中的多播并行，其中发送者的地址并不重要。

如果我希望获得 snder 的 UID，即使他是本地的，我也需要进行“远程”进程，而不是使用广播 IPC，我需要将 AIDL 与 IBIinder 实现一起使用。一旦我有一个 Binder 对象，我可以在我的服务中调用 getCallingUid() 并获取调用者的 uid，这将允许我要求 PackageManager 给我它的公共证书（不询问进程本身，我询问操作系统）并进行比较它是我在apk中提前准备的一组证书。

另一端的调用应用程序（向我发送它的 ID 的另一个进程）只需使用 bindService(service, conn, flags) 方法绑定到我。这种方法的缺点当然是耗时的过程，Bind 需要时间，它是一个通过内核的异步调用，不如绑定到本地服务快。此外，由于我可能有多个应用程序，我需要同步访问我的内部 ID，因此只有第一个没有失败的绑定调用才会为我设置和 ID。我仍然需要检查是否可以使用防止多线程问题的 Messanger 方法。

希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-26T08:03:14.243

抱歉迟了回应...

绑定需要时间，更重要的是，它是异步的。但是，有一种方法可以进行同步绑定 - 当然，假设您尝试联系的服务当时已经启动。对于 BroadcastReceiver（本质上是异步的，因此不能使用普通的 bindService），Android 允许这样做更多，BroadcastReceiver 有一个“peekService”方法。

如果你想在不收听广播的情况下使用它，你可以这样做：

```
final IBinder[] b = new IBinder[1];
new BroadcastReceiver() { 
    public void onReceive(Context context, Intent intent) {
        b[0] = peekService(context, intent);
    }
}.onReceiver(context, intent);

IMyInterface i = IMyInterface.Stub.asInterface(b[0); 
```

请注意，您没有绑定到服务，因此请务必查看每次使用情况。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-04T10:16:38.097

如前所述，绑定可能是最好的解决方案。但是，您可以考虑切换到 Activity 而不是 BroadcastReceiver 然后您可以使用`getCallingActivity()`，假设您使用`startActivityForResult()`.

如下声明您的 Activity 以使其像 BroadcastReceiver 一样“静默”：

```
<activity
    android:name=".FauxReceiver"
    android:theme="@android:style/Theme.NoDisplay" 
    android:excludeFromRecents="true"
    android:noHistory="true"
>
    <intent-filter>
        ...
    </intent-filter>
</activity> 
```

启示：[如何获取 Intent 的发送者？](https://stackoverflow.com/questions/3304304/how-to-get-the-sender-of-an-intent)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-11-12T00:21:41.937

我正在寻找一种方法来验证发送我的意图过滤器接收到的意图的应用程序的包名称。我的应用程序中处理意图过滤器的活动要求意图发送者在 Intent Extras 字段中包含他们的进程 ID。然后我的接收活动可以从 ActivityManager 中获取关联的应用程序包名称。

这是我在通过 StackOverflow 移动时发现的一些示例代码。

两个应用程序所需的常量

```
public static final String EXTRA_APP_ID;
public static final String ACTION_VERIFY = "com.example.receivingapp.action.VERIFY"; 
```

通话活动

```
 Intent verifyIntent = new Intent();
    verifyIntent.setAction(Consts.ACTION_VERIFY);
    verifyIntent.putExtra(EXTRA_APP_ID, android.os.Process.myPid());
    // Verify that the intent will resolve to an activity
    if (verifyIntent.resolveActivity(getPackageManager()) != null) {
    startActivityForResult(verifyIntent, Consts.REQUEST_VERIFY);
    } else {
       Log.d(TAG, "Application not found.");
    } 
```

接收应用程序

显现

```
 <activity
            android:name="com.example.receivingapp.ReceivingActivity"
            android:label="@string/app_name">
            <intent-filter>
                <action android:name="com.example.receivingapp.VERIFY" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity> 
```

接收活动

```
if (getIntent().hasExtra(OnyxCoreConsts.EXTRA_APP_ID)) {
    string appName = null;  
    // Resolve intent
    if (getIntent().getAction().equals(ACTION_VERIFY) {    
         int appPid = getIntent().getIntExtra(EXTRA_APP_ID, -1);
         if (-1 != mAppPid) {
             appName = Utils.getAppNameByPID(mContext, mAppPid);
         }
         if (null != appName && !"".equalsIgnoreCase(appName)) {
              // Do something with the application package name
         }
    }
} 
```

实用程序类

```
public static String getAppNameByPID(Context context, int pid){
        ActivityManager manager = (ActivityManager) context.getSystemService(Context.ACTIVITY_SERVICE);

        for (RunningAppProcessInfo processInfo : manager.getRunningAppProcesses()) {
            if (processInfo.pid == pid) {
                return processInfo.processName;
            }
        }
        return "";
    } 
```

# asp.net - Windows 推送通知的 AccessToken 返回错误请求 400

> ID：15517822
> 
> 赞同：3
> 
> 时间：2013-03-20T07:37:18.310
> 
> 标签：asp.net, push-notification, windows-store-apps

**请帮忙！！无法弄清楚为什么 MSDN 给出的这个简单代码不起作用....**

我在[这篇 MSDN 文章](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/Hh868252%28v=win.10%29.aspx)中给出的 GetAccessToken() 中使用以下代码来获取要在 Windows 通知中使用的访问令牌，但它返回“错误请求 400”

PACKAGE_SECURITY_IDENTIFIER、CLIENT_SECRET 是应用注册到 Windows Store Dashboard 时获得的值

```
string urlEncodedSid = HttpUtility.UrlEncode(PACKAGE_SECURITY_IDENTIFIER);
string urlEncodedSecret = HttpUtility.UrlEncode(CLIENT_SECRET);

string body = String.Format("grant_type=client_credentials&client_id={0}&client_secret={1}&scope=notify.windows.com", urlEncodedSid, urlEncodedSecret);

string response;

using (WebClient client = new WebClient())
{
    client.Headers.Add("Content-Type", "application/x-www-form-urlencoded");
    response = client.UploadString("https://login.live.com/accesstoken.srf", body);
} 
```

任何帮助将不胜感激.......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T19:56:40.783

我怀疑问题与不正确的包标识符和/或不正确的客户端密码有关。

从 MSDN 页面[推送通知服务请求和响应标头](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868245.aspx)：

```
RESPONSE          DESCRIPTION
---------------   --------------------------
200 OK            The request was successful.
400 Bad Request   The authentication failed. 
```

**更新**- 我使用 FAKE 凭据运行了问题中的代码。

这是原始 HTTP 请求：

```
POST https://login.live.com/accesstoken.srf HTTP/1.1
Content-Type: application/x-www-form-urlencoded
Host: login.live.com
Content-Length: 88
Expect: 100-continue
Connection: Keep-Alive

grant_type=client_credentials&client_id=test&client_secret=test&scope=notify.windows.com 
```

这是服务器的 RAW 响应：

```
HTTP/1.1 400 Bad Request
Cache-Control: no-store
Content-Length: 66
Content-Type: application/json
Server: Microsoft-IIS/7.5
X-WLID-Error: 0x80045A78
PPServer: PPV: 30 H: BAYIDSLGN2A055 V: 0
Date: Thu, 21 Mar 2013 12:34:19 GMT
Connection: close

{"error":"invalid_client","error_description":"Invalid client id"} 
```

您会注意到响应是**400**。还有一些 json 指示错误的类型。就*我而言*，错误是`Invalid client id`。你可能想看看你的回答——它会让你知道发生了什么。

我使用[Fiddler](http://www.fiddler2.com/fiddler2/)来调试请求/响应。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T10:37:39.897

我找到了错误响应的原因。实际上是错误的 PACKAGE_SECURITY_IDENTIFIER 和 CLIENT_SECRET。

不要键入值。因为关联的 ASCII 值不同。因此，最好直接复制和粘贴。

您可能会通过简单的代码片段获得访问令牌。

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-05T05:26:53.050

如果您使用的是新的 HttpClient API，并且您确定您已正确复制并粘贴了 SID/secret 值，那么您可能会因为编码而遇到此问题，前提是您使用`FormUrlEncodedContent`该类作为 POST 的内容手术。

与[MSDN 文档](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868206.aspx)中的示例相反，您不希望在将 SID 和机密值添加到 KeyValuePair 集合之前对其进行 URL 编码。这是因为`FormUrlEncodedContent`该类隐含了编码，尽管我没有看到任何有关此行为的[文档](http://msdn.microsoft.com/en-us/library/system.net.http.formurlencodedcontent(v=vs.118).aspx)。希望这可以节省一些时间，因为我整晚都在努力解决这个问题......

# file - 仅当文件夹中存在完整文件时才运行 SSIS

> ID：15517827
> 
> 赞同：2
> 
> 时间：2013-03-20T07:37:35.363
> 
> 标签：file, ssis, etl

我开发了一个消耗平面文件的 ETL。平面文件的大小从 250 MB 到 300 MB 不等。当文件夹中存在文件时，它工作得非常好。但是当文件处于生成模式时它会失败。

例如：此 ETL 包从上午 8 点运行到上午 10 点，以检查文件是否存在于文件夹中。现在，在任何情况下（比如说上午 9 点），如果文件开始生成并且到现在它是 10 MB。ETL 开始处理文件并在 4-5 分钟后挂起并失败（挂在脚本任务中，该任务正在读取文件是否存在于文件夹中）。

只有在文件生成完全完成后才触发 SSIS 包的最佳方法是什么？

注意：我无法控制文件的生成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:38:02.980

添加一个`For Loop Container`布尔变量`bFileAccessible`：

*   初始化表达式是`@bFileAccessible=False`
*   Eval 表达式是`@bFileAccessible==False`

在里面`For Loop Container`添加一个`Script Task`ReadWriteVariable`User::bFileAccessible`和以下 C# 脚本（仅显示`Main()`方法）：

```
 public void Main()
    {
        try
        {
            using (Stream stream = new FileStream("Path\to\your\file", FileMode.Open))
            {
                Dts.Variables["bFileAccessible"].Value = true;
            }
        }
        catch
        {
            Dts.Variables["bFileAccessible"].Value = false;
        }

        Dts.TaskResult = (int)ScriptResults.Success;
    } 
```

您还应该为文件名使用一个变量，也许还有一点等待间隔。有关脚本的更多信息，请参见[此处](https://stackoverflow.com/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T10:07:23.643

每次检查 FIle 修改时间，并与前一个相同....这不是很好的逻辑，但如果没有完美的替代方案，这是一个好主意

# .net - 签署 windows .NET 可执行文件

> ID：15517830
> 
> 赞同：1
> 
> 时间：2013-03-20T07:37:51.617
> 
> 标签：.net, code-signing

最近我们公司购买了 Thawte 认证证书。现在我正在尝试签署非常简单的 hello-world .NET 控制台应用程序。

我用

> signtool.exe 登录向导

1.  选择我的 .exe
2.  从文件中选择证书。我选择`.crt`文件。有关证书的所有信息都可以 - 有我们公司的属性
3.  那么我建议选择私钥。我在生成证书请求文件时保存了私钥`.csr`。我选择它 -`.key`文件。 ![在此处输入图像描述](../Images/50c481eee5774f7ff5593cabb200f87f.png)
4.  单击`Next`然后出现错误，提示“证书和私钥不匹配或包含无效信息”

我根据该帖子验证了我的私钥匹配证书[验证私钥匹配证书](https://kb.wisc.edu/middleware/page.php?id=4064)并且一切看起来都很好 - 模数和公共指数是相同的。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T11:30:47.103

我已经设法使用生成的文件签署可执行`.pfx`文件。

这就是`.pfx`从`cert`和[创建 pfx](https://stackoverflow.com/questions/808669/convert-a-cert-pem-certificate-to-a-pfx-certificate)`private key`的方式

然后我使用了signtool -

> signtool.exe 签名 /f your.pfx /p pfxpassword`<exe.file>`

并且签了字！

同样，它是`.pfx`需要首先创建的文件。

# wordpress - Wordpress - 缺少当前菜单项类

> ID：15517831
> 
> 赞同：0
> 
> 时间：2013-03-20T07:37:58.547
> 
> 标签：wordpress, menu

在自定义模板文件中，我插入了一个自定义菜单：

```
<?php wp_nav_menu( array('menu' => 'Internal' ));?> 
```

但是，菜单无法为当前 li 项目生成类 current-menu-item。

我正在以与其他页面中的菜单相同的方式插入菜单，没有任何问题。

什么可能导致 Wordpress 无法输出当前菜单项？

干杯特奥多尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-12-25T11:07:56.210

尝试使用 wp_reset_query() 函数。

```
 <?php 
                 wp_reset_query();

                 wp_nav_menu( array('menu' => 'Internal' ));
             ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T08:55:28.380

尝试使用菜单功能

```
<?php wp_nav_menu( array('theme_location' => 'primary','menu' => 'Internal' ));?> 
```

您将在 li 中获得 .current-menu-item ，您可以相应地制作效果

# java - Int 不能被推迟错误

> ID：15517833
> 
> 赞同：-3
> 
> 时间：2013-03-20T07:38:01.273
> 
> 标签：java, compiler-errors, int, dereference

我试图从一种方法中获取用户输入并在另一种方法中使用它。我对这个错误感到困惑，因为它们都是 int 类型。

* * *

```
public static void move()
{
    System.out.println("What do you want to do?");
    Scanner scan = new Scanner(System.in);
    int userMove = scan.nextInt();
}

public static void usersMove(String playerName, int gesture)
{
    int userMove = userMove.move(); //error is here

    if (userMove == -1)
    {
        break;
    } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-20T07:39:18.390

```
int userMove = userMove.menu(); 
```

`userMove`这是一个`int`（原始数据类型）。你怎么能调用一个方法呢？

我猜你想要这样的东西： -

```
public static int move()
{
    System.out.println("What do you want to do?");
    Scanner scan = new Scanner(System.in);
    int userMove = scan.nextInt();
    return userMove;
}

public static void usersMove(String playerName, int gesture)
{
    int userMove = move(); //Now error will go.

    if (userMove == -1)
    {
        break;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:41:33.863

只是猜测，因为不清楚 userMove 是什么......但您似乎使用了调用者中另一个方法的变量。您需要退回它才能做到这一点

```
public static int move()
{
   System.out.println("What do you want to do?");
   Scanner scan = new Scanner(System.in);
   return scan.nextInt();
}

public static void usersMove(String playerName, int gesture)
{
   int userMove = move(); //error is here

   if (userMove == -1)
   {
       break;
   } 
```

# jsf-2 - 向 jsff 页面提供默认的 adf 和 jsf css 样式，以便在内联框架内正确呈现它

> ID：15517836
> 
> 赞同：0
> 
> 时间：2013-03-20T07:38:10.327
> 
> 标签：jsf-2, oracle-adf

我在 jsf 页面上使用内联框架来呈现喜欢各种 commandMenuItem 的不同 jsff 页面，但页面没有正确呈现它给出的消息

**此 XML 文件似乎没有任何与之关联的样式信息。文档树如下所示。**

并将页面内容显示为

 **如何克服这个问题并在内联框架内正确显示页面。当我们在不同的窗口中单独运行 jsff 页面时，我希望该页面在内联框架内显示类似。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T12:08:42.550

您不能使用内联框架引用 jsff 页面，您可以通过将 jsff 页面添加到任务流中并将任务流添加为区域来包含 jsff 页面，或者使用 jsp:include 标记

查看本指南[http://docs.oracle.com/cd/E23943_01/web.1111/b31973/af_reuse.htm#CACHFJDJ](http://docs.oracle.com/cd/E23943_01/web.1111/b31973/af_reuse.htm#CACHFJDJ)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:27:10.987

由于jsff页面不包含任何css和样式信息..所以它不会在内联框架内正确显示..但是我们可以在内联框架内显示完整的jsf页面..现在在内部显示动态jsf页面从jsf页面单击commandMenuItem上的内联框架......过程如下......

1.  首先创建一个jsf页面（比如说welcome.jsf）..向它添加commanMenuItem ...
2.  创建 2 个其他 jsf 页面，其中包含任何内容。
3.  在第一个 jsf 页面（welcome.jsf）中提到 commandMenuItem 的 id 与创建的 2 个不同页面相同，例如。commandMenuItem 1 id = "first" 和 commandMenuItem2 id = "second" 其他 2 个不同页面的名称必须与 first 和 second 相同。
4.  现在在 commandMenuItem 上创建一个动作侦听器 bean

    导入 javax.faces.event.ActionEvent；

公共类 PageBean {

```
String page = "home";//setting default page

public PageBean() {
}

public void getMenu(ActionEvent actionEvent) {
    // Add event code here...

    String id = actionEvent.getComponent().getId();
    System.out.println(" Menu ID : "+id);
    page = id;
    System.out.println("Value assigned to the page from the menu Id is :"+page);
}

public String getPage() {
    return page;
}

public void setPage(String page) {
    this.page = page;
} 
```

}

现在在 secondCommandMeuItem 上也注册了相同的 actionListner bean

包含菜单的主页上的代码...是

```
<af:panelGroupLayout id="pgl1">
<af:menuBar id="mb1">
<af:menu text="menu 1" id="m1">
<af:commandMenuItem text="commandMenuItem 1" id="page1" actionListener="#{PageBean.getMenu}">
                <a4j:support event="onclick" reRender="if1"/>
            </af:commandMenuItem>
        </af:menu>
        <af:menu text="menu 2" id="m2">
            <af:commandMenuItem text="commandMenuItem 2" id="page2" actionListener="#{PageBean.getMenu}">
                <a4j:support event="onclick" reRender="if1"/>
            </af:commandMenuItem>
        </af:menu>
    </af:menuBar>
    <af:inlineFrame id="if1" source="#{PageBean.page}.jsf" shortDesc="areaMp" partialTriggers="page1 page2"/><!-- getting dynamic page source from the managed bean variable(page) by fetching the menu id which is similar to the corresponding page name
also add the commandMenuId of the menu's in the partial trigger of the inline frame. -->
</af:panelGroupLayout> 
```

您可以在内联框架内包含和显示 jsf 页面，并且可以在 jsf 页面甚至 jsff（页面片段）上使用内联框架。**

# verilog - Verilog 测试台代码

> ID：15517838
> 
> 赞同：0
> 
> 时间：2013-03-20T07:38:16.153
> 
> 标签：verilog

谁能帮我为以下代码编写verilog测试台代码！我有尝试，但它不起作用！

```
module top(clock_in, Reset, Hold, up_down, Led_Out, f);     
  input clock_in, Reset, Hold, up_down;
  output      [6:0] Led_Out;        
  output wire [3:0] f;

  wire pulse;

  clock_design temp0(clock_in, pulse);
  up_down_counter temp1(pulse, Reset, Hold, up_down, f);
  led7 temp2(Led_Out, f);
endmodule 
```

LED7：

```
module led7(iOut, iQ);
  output reg [6:0] iOut;
  input      [3:0] iQ;

  always @(iQ)
    case (iQ)
      4'b0000: iOut = 7'b0000001; //0
      4'b0001: iOut = 7'b1001111; //1
      4'b0010: iOut = 7'b0010010; //2
      4'b0011: iOut = 7'b0000110; //3
      4'b0100: iOut = 7'b1001100; //4
      4'b0101: iOut = 7'b0100100; //5
      4'b0110: iOut = 7'b0100000; //6
      4'b0111: iOut = 7'b0001111; //7
      4'b1000: iOut = 7'b0000000; //8
      4'b1001: iOut = 7'b0000100; //9
      default: iOut = 7'b0000000; //default
    endcase  
  endmodule 
```

up_down_counter ：

```
 module up_down_counter (Clock,Reset,Hold,up_down,Q);
   input Clock,Reset,Hold,up_down;
   output reg [3:0] Q;
   integer direction;

    always @(posedge Clock)
    begin
      if(up_down)
        direction = 1;
      else
        direction = -1;

     if (!Reset && direction == 1)
        Q <= 0;
      else if(!Reset && direction == -1)
        Q <= 1001;
      else if (!Hold)           
        Q <= Q + direction; 

      if (direction==1  && Q[0]==1 && Q[1]==0 &&Q[1]==0 && Q[3]==1)
        Q <= 0; 
      else if (direction==-1 && Q[0]==0 && Q[1]==0 &&Q[2]==0 && Q[3]==0)
        Q <= 1001;
      end
    endmodule 
```

时钟设计：

```
module clock_design (clock_in,clock_out);
  input clock_in;
  output clock_out;
  parameter which_clock=1;
  reg [31:0] divided_clocks=0;

  always @(posedge clock_in)
    divided_clocks = divided_clocks +1;

  assign clock_out = divided_clocks[which_clock];
endmodule 
```

我的测试台代码

```
module counter_tb;
  reg  [6:0] Led_Out_tb;
  wire [3:0] f_tb;
  reg  clock_in_tb, Reset_tb, Hold_tb, up_down_tb;

  top dut(clock_in_tb, Reset_tb,Hold_tb, up_down_tb, Led_Out_tb, f_tb);

  initial begin
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 1;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 1;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
    #10 clock_in_tb = 0;Hold_tb = 0;Reset_tb = 1; up_down_tb = 0;
  end
endmodule 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-20T09:32:14.400

Testbench 明智的我会设置一个时钟并像这样重置：

```
reg clk ; //Rising edge every 10 timesteps
initial begin
  clk = 0;
  #5; 
  forever begin
    #5 clk = ~clk;
  end
end

// TB Reset_tb
reg Reset_tb
initial begin
  Reset_tb = 0;
  @(posedge clk);
  @(posedge clk);
  Reset_tb = 1;
end 
```

对于实际测试，例如：

```
//The actual test
initial begin
  Hold_tb    = 0;
  up_down_tb = 1;
  repeat (50) begin
    @(posedge clk);
  end
  up_down_tb = 1;
  repeat (50) begin
    @(posedge clk);
  end
  $finish();
end 
```

**关于守则**

您有一部分看起来应该是`always @(posedge clk)`块中的组合逻辑。

```
always @(posedge Clock)
begin
  if(up_down)
    direction = 1;
  else
    direction = -1; 
```

我认为这应该是：

```
 always @* begin
   if(up_down)begin
     direction = 1;
   end
   else begin
     direction = -1;
   end
 end 
```

如果不包含`begin end`if 语句，则仅适用于下一行。我会更频繁地使用开始结束，以便您的代码明确显示您的意图。

您有以下代码部分：

```
 if (!Reset && direction == 1)
    Q <= 0;
  else if(!Reset && direction == -1)
    Q <= 1001;
  else if (!Hold)           
    Q <= Q + direction; 

  if (direction==1  && Q[0]==1 && Q[1]==0 &&Q[1]==0 && Q[3]==1)
    Q <= 0; 
  else if (direction==-1 && Q[0]==0 && Q[1]==0 &&Q[2]==0 && Q[3]==0)
    Q <= 1001; 
```

4号if有没有遗漏？`if (direction==1 && Q[0]==1 && Q[1]==0 &&Q[1]==0 && Q[3]==1)`

我会避免在 RTL 中使用整数类型，因为这通常是矫枉过正的，尤其是在这里你只是存储 1 或 -1，实际上只需要一个 1 位的值。可以签署注册和电汇：

```
reg signed signed_reg ;
reg signed [7:0] signed_reg8; 
```

您还可以将常量声明为有符号：

```
reg_signed = 1'sd-1 ; //1Bit Signed Decimal value -1 
```

我发现使用混合大小写的信号名称是不好的做法，我总是使用小写。像参数和局部参数这样的常量都是大写的。这使拼写错误的可能性降低了，您可能会花费很长时间来尝试确定某些内容无法正常工作的原因，然后您会意识到其中一个连接使用的是小写而不是大写的第一个字符。

# java - 从 MAC KeyChain 访问导出证书并创建 keystore、truststore

> ID：15517839
> 
> 赞同：0
> 
> 时间：2013-03-20T07:38:17.717
> 
> 标签：java, macos, security, ssl

在此先感谢，任何人都可以解释如何从 MAC KeyChain 访问导出证书并创建密钥库、信任库。

我尝试了以下步骤，但失败了。

*   TLS 证书已在 Apple keychain access 中创建。
*   然后我从钥匙串访问中将证书和公钥导出为 Certificate.p12 和 Key.p12 以及相应的密码。

并按照以下步骤生成密钥库、信任库。

*   将私钥文件从 PKCS#12 格式转换为 PEM 格式： $ openssl pkcs12 -in Key.p12 -out Key.pem
*   当提示输入相关密码（P1）时：输入导入密码：MAC验证OK
*   为新文件 (Key.pem) 选择密码 输入 PEM 密码：验证 - 输入 PEM 密码：

*   将证书文件从 PKCS#12 格式转换为 PEM 格式： $ openssl pkcs12 -in Certificate.p12 -out Certificate.pem

*   当提示输入相关密码（P2）时：输入导入密码：MAC验证OK
*   选择新文件的密码 (Certificate.pem) 输入 PEM 密码：验证 - 输入 PEM 密码：openssl pkcs8 -topk8 -nocrypt -in Key.pem -inform PEM -out Key.der -outform DER openssl x509 -in Certificate.pem -inform PEM -out Certificate.der -outform DER

ImportKey.java 的参考链接：[Imortkey.java|http://www.agentbob.info/agentbob/79-AB.html]

user@host:~$ java ImportKey Key.der Certificate.der 使用 keystore-file : /home/user/keystore.ImportKey 一个证书，没有链。存储密钥和证书。别名：vuiis 密码：secret

cp keystore.ImportKey keystore.jks

keytool -export -file keystore.cert -keystore keystore.jks -alias vuiis keytool -import -file keystore.cert -keystore trust.jks -alias vuiis

最后我使用 keystore.jks 作为 keystore 和 trust.jks 作为 keytrust。但是连接不成功。

我的要求是在 OSIRIX(MAC Keychain access) 和 DCM4CHEE (java keystore, truststore) 之间建立 TLS 连接

任何人都可以解释我做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T21:55:43.593

尝试将 -trustcacerts 开关添加到您的信任库的导入中。

# php - 在 PHP 中使用 Sphinx。“搜索”错误：“搜索错误：。”

> ID：15517840
> 
> 赞同：0
> 
> 时间：2013-03-20T07:38:22.803
> 
> 标签：php, sphinx

我正在用 PHP 测试 Sphinx（教程：[http](http://www.siteduzero.com/informatique/tutoriels/creer-un-moteur-de-recherche-avec-sphinx-et-php) ://www.siteduzero.com/informatique/tutoriels/creer-un-moteur-de-recherche-avec-sphinx-et-php ）

如果我像这样运行“搜索”：

```
search -i news navigateur 
```

我有以下错误：

```
index 'news': search error: . 
```

索引器工作正常：

> $ sudo indexer news
> Sphinx 2.0.6-release (r3473) 版权所有 (c) 2001-2012, Andrew Aksyonoff 版权所有 (c) 2008-2012, Sphinx Technologies Inc ( [http://sphinxsearch.com](http://sphinxsearch.com) )
> 
> 使用配置文件'/usr/share/php/sphinx/etc/sphinx.conf'...索引索引'新闻'...
> 
> 收集 57 个文档，0.7 MB 排序 0.1 Mhits，100.0%
> 
> 总共完成了 57 个文档，689264 字节总共 0.050 秒，13684561 字节/秒，1131.67 文档/秒
> 
> 总共 3 次读取，0.000 秒，115.5 kb/调用平均值，0.1 毫秒/调用平均值
> 
> 总共 9 次写入，0.000 秒，83.5 kb/调用平均值，0.0 毫秒/调用平均值

而且，使用 API 进行测试，PHP 代码什么也没有返回。有人已经有这个错误了吗？

这里的配置文件：

> 指数新闻{
> 
> ```
>  source = news
>     path   = /usr/share/php/sphinx/var/data/news 
> ```
> 
> }
> 
> 索引器{
> 
> ```
>  mem_limit = 32M 
> ```
> 
> }
> 
> 搜索{
> 
> ```
>  port      = 3312
>     log       = /usr/share/php/sphinx/var/log/searchd/searchd.log
>     query_log = /usr/share/php/sphinx/var/log/searchd/query.log
>     pid_file  = /usr/share/php/sphinx/var/log/searchd/searchd.pid 
> ```
> 
> }
> 
> 来源新闻{
> 
> ```
>  type                = mysql
>     sql_host            = localhost
>     sql_user            = root
>     sql_pass            =  
>     sql_db              = siteduzero_sphinx
>     sql_query_pre       = SET NAMES utf8
>     sql_query           = SELECT id\
>                                 , categorie\
>                                 , titre\
>                                 , contenu FROM news
>     sql_attr_uint       = categorie
>     sql_query_info      = SELECT titre FROM news WHERE id=$id } 
> ```

谢谢。

法布里斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-23T12:15:33.950

刚刚遇到了同样的问题。最后一个配置参数中的邪恶根源。此命令将正常工作：

```
search -i news --noinfo navigateur 
```

或者您可以从配置中删除此字符串：

```
sql_query_info      = SELECT titre FROM news WHERE id=$id 
```

如果你不需要它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T12:28:28.213

`search`这是实用程序中的一个错误。

好消息是`search`实用程序，只是一个测试工具，所以它并不重要。它实际上并没有用于测试以外的任何事情。

至于你的 API 问题，你有`searchd`运行守护进程吗？

与其说它返回“无”，不如使用 getLastError 和 getLastWarning 来调查原因......

# wpf - VS 2012 ArgumentNullException 设计器

> ID：15517842
> 
> 赞同：1
> 
> 时间：2013-03-20T07:38:29.200
> 
> 标签：wpf, visual-studio-2012

在 VS 2010 中创建 WPF 项目后，我最近升级到 VS 2012，现在我在设计模式下收到以下错误：

![例外](../Images/07822fa7deaf2c6aad106cd9dcb3d9f7.png)

此错误不会阻止我编译和调试我的项目，但我无法查看控件的设计！

我认为这可能是实际 VS 2012 设计师的问题。

有任何想法吗？

- 更新

这是我的一个有问题的控件的构造函数：

```
public DepositLinkCtl()
{
  InitializeComponent();
  this.Loaded += DepositLinkCtl_Loaded;
} 
```

# css - 指南针 SCSS 小写颜色代码

> ID：15517843
> 
> 赞同：13
> 
> 时间：2013-03-20T07:38:34.000
> 
> 标签：css, ruby, sass, compass-sass

在我的团队中，我们拥有相同版本的 Compass（它是 Compass 0.12.2 Alnilam）。当 Compass 编译我的 SCSS 时，颜色代码在 SCSS 中从大写 (#A0CAE3) 更改为小写 (#a0cae3)。只有我有这个问题，其他开发人员有大写颜色代码。为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-28T13:06:34.270

应该检查“sass”的版本。

```
sass -v 
```

Sass 版本 3.1.15 在我的情况下工作正常。卸载所有已安装的“sass”版本

```
gem uninstall sass 
```

并安装 3.1.15 版本

```
gem install sass -v 3.1.15 
```

# cqrs - 在事件溯源中处理大量事件

> ID：15517851
> 
> 赞同：9
> 
> 时间：2013-03-20T07:39:15.783
> 
> 标签：cqrs, event-sourcing

带有事件源的 CQRS 看起来非常适合作为我们其中一个系统的架构，我们目前只担心一件小事：处理大量事件并因此处理大量事件存储。

我们当前的系统每天接收大约一百万个事件（尽管目前与事件源无关），如果我们要在更长的时间内存储它们，我们的事件存储可能会变得非常大，但如果我们转储/清除频繁地滚动快照，我们可能会失去事件溯源的一大优势：关于系统历史和重放的信息。

在 CQRS 架构中处理这个问题的常用方法是什么？有问题吗？我们是否只是在活动商店中投入更多的硬件，还是在架构设计层面我们可以做些什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-20T13:34:25.300

我认为最常见的方法是使用快照和持久读取模型。也就是说，您实际上并不经常重播您的事件，除非您需要构建一个新的读取模型或更改现有模型的工作方式。通过存储域对象的快照，您可以避免重播长的事件流。

有人可能会争辩说，存储快照和持久读取模型与仅在没有事件源的情况下进行 CQRS 并没有太大不同。但是，如果您在读取模型中犯了错误，或者需要导出新信息，或者有其他严格的审计要求，那么旧事件就会存在。

在我们的应用程序中，我们有许多业务价值较低的事件，我们计划在执行期间大量清理事件，以便我们的事件日志保持较小。但我想对于某些对象，我们仍然会退回到快照和持久模型。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-21T16:42:17.283

查看您的“活动流集”。是否存在具有生命周期的流，它们往往会出现，在相对较短的时间内发生变异，然后在达到最终状态时死亡？如果是这样，这些流可以转移到更便宜的存储（备份）。您需要它们的唯一原因是出于重播目的，因此您可能希望使它们仍然可访问（尽管响应速度较慢）或保留压缩副本以用于重播目的。在任何情况下，请询问是否有流可以移出事件存储或至少移出活动流集。

另一种选择是跨多个物理事件存储分区您的流。也许有一个可以使用的地理边界，或者也许有一些东西可以自然地划分它们（你所在的域通常会提供提示）。这是你需要反思优点和缺点的事情。

这种技术不限于事件溯源。它同样可以应用于基于状态的模型（毕竟它只是数据）。

# android - 将图像动态添加到布局会导致内存不足错误

> ID：15517853
> 
> 赞同：0
> 
> 时间：2013-03-20T07:39:20.673
> 
> 标签：android

我有大约 40 个小图像，我想动态地将它们添加到布局中。但它会导致某些设备出现内存错误。

下面是我在按钮为 LinearLayout 时将图像添加到布局的代码段 =

```
LinearLayout tables=  (LinearLayout) findViewById(R.id.table);
    undo.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            for(int i = 0; i < data.length; i++){
                ImageView image = new ImageView(getApplicationContext());
                try{
                    int imgID = getResources().getIdentifier(data[i], "drawable", "package");
                    image.setImageResource(imgID);

                }catch(Exception e){
                    int imgID = getResources().getIdentifier("nia", "drawable", "package");
                    image.setImageResource(imgID);
                }               
                tables.addView(image); 
            }
        }
    }); 
```

谁能建议我为了避免内存错误我需要做什么？

# jquery - jquery 事件句柄如何合二为一？

> ID：15517863
> 
> 赞同：1
> 
> 时间：2013-03-20T07:39:59.110
> 
> 标签：jquery, events

当我开始使用 jquery 时，它比以前更方便，但有些问题会让我感到困惑，如下所示：
我有两个锚点，它们的代码几乎相同，但我不能将它们组合成一个。

```
<a class="p" href="javascript:;">ABC</a>   
<a class="n" href="javascript:;">EFG</a> 
```

```
$(function(){

   var p = $('a.p');
   var n = $('a.n');

  p.on('mouseover',function(){
       $(this).css('color','red');
   }).on('mouseout',function(){
       $(this).css('color','black');
  });

  n.on('mouseover',function(){
     $(this).css('color','red');
  }).on('mouseout',function(){
     $(this).css('color','black');
  });

});

// You know it in javascript,we can do like this:

n[0].onmouseover = p[0].onmouseout = function(){ ....}

//and how about in jquery? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:41:25.393

```
$(function(){
  $('a.p,a.n').on('mouseover',function(){
       $(this).css('color','red');
   }).on('mouseout',function(){
       $(this).css('color','black');
  });
}); 
```

[请参阅此处](http://api.jquery.com/multiple-selector/)选择多个元素的文档

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:44:41.413

至少有三种方式。组合选择器：

```
$( 'a.p, a.n' ).on('mouseover',function(){
    $(this).css('color','red');
}).on('mouseout',function(){
    $(this).css('color','black');
}); 
```

...或对两者使用相同的功能。

```
var mouseoverevent = function() {
    $(this).css('color','red');
};

var mouseoutevent = function() {
    $(this).css('color','black');
};

p.on('mouseover', mouseoverevent).on('mouseout', mouseoutevent);
n.on('mouseover', mouseoverevent).on('mouseout', mouseoutevent); 
```

（后者在这个简单的例子中有点矫枉过正，但在更复杂的情况下很有用。）

如果要保留变量，第三种方法是将它们组合起来：

```
p.add( n ).on('mouseover',function(){
    $(this).css('color','red');
}).on('mouseout',function(){
    $(this).css('color','black');
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:45:24.660

使用多选器和悬停..

```
$(function(){
  $('a.p,a.n').hover(function(){
    $(this).css('color','red');
  },function(){
    $(this).css('color','black');
  });
}); 
```

# c - 在 C 中将窗口句柄传递给线程。（WIN32 API）

> ID：15517869
> 
> 赞同：0
> 
> 时间：2013-03-20T07:40:25.630
> 
> 标签：c, windows, multithreading, winapi

我在我的应用程序中创建了一个窗口和一个线程。现在我希望线程处理一些数据并将其显示在主窗口上。为此，我在我的线程中使用了 PostMessage() 函数。即创建一个窗口，然后创建一个线程。该线程对数据进行一些处理，并向主窗口发布一条消息，表明现在应该显示数据。但问题是，为了这个目的，我必须传递窗口的句柄，而对于这个线程，主窗口句柄是一个未声明的标识符。是否有任何可能的方法可以将主窗口的句柄传递给我的线程，以便使用这个句柄，线程能够发布消息。以下是任何帮助的代码片段：

```
///Thread Function////
DWORD WINAPI threadFunction(LPVOID param)
{   
  //do something
   PostMessage(hMainWin, WM_thread,0, 0);
   return true;
}

////Main Function///
int WINAPI WinMain(  HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd )
{
   const char AH_Glb_ClassName[] = "myWindClass";
   WNDCLASSEX wc;
   MSG Msg;
   //Registering the Window Class
   wc.cbSize        = sizeof(WNDCLASSEX);
   wc.style         = 0;
   wc.lpfnWndProc   = WndProc;
   wc.cbClsExtra    = 0;
   wc.cbWndExtra    = 0;
   wc.hInstance     = NULL;
   wc.hIcon         = LoadIcon(NULL, IDI_APPLICATION);
   wc.hCursor       = LoadCursor(NULL, IDC_ARROW);
   wc.hbrBackground = (HBRUSH)(COLOR_WINDOW+1);
   wc.lpszMenuName  = NULL;
   wc.lpszClassName = AH_Glb_ClassName;
   wc.hIconSm       = LoadIcon(NULL, IDI_APPLICATION);
   HWND hMainWin;       //Handle to Main WIndow
   ///Creating Main Window///
   hMainWin = CreateWindowEx(                                       WS_EX_CLIENTEDGE,
                                        AH_Glb_ClassName,
                                        "I am SERVER Window",
                                        WS_OVERLAPPEDWINDOW,
                                        CW_USEDEFAULT,
                                        CW_USEDEFAULT,
                                        440,
                                        120,
                                        NULL, NULL, NULL, NULL);
   if(hMainWin == NULL)
      {
         MessageBox(NULL,
                    "Window Creation Failed!",
                    "Error!",
                    MB_ICONEXCLAMATION | 
                    MB_OK);
         return 0;
      }
   ShowWindow(hMainWin,SW_MAXIMIZE);
   UpdateWindow(hMainWin);
   /////////////////THREAD////////////////
   DWORD threadID = 0;
   ///Creating Thread///
   HANDLE threadHandle = CreateThread(NULL,
                                      0,
                                      threadFunction,
                                      0,
                                      0,
                                      &threadID);

   return 0;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T07:52:13.713

```
DWORD WINAPI threadFunction(LPVOID param)
{   
     HANDLE hwnd = (HANDLE)param;
}

...

HANDLE threadHandle = CreateThread(NULL,
                                  0,
                                  threadFunction,
                                  (LPVOID)hMainWin,
                                  0,
                                  &threadID); 
```

线程函数有`LPVOID`类型，它匹配`HANDLE`类型，在 Win32 和 x64 中。

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms682453%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682453%28v=vs.85%29.aspx)

顺便说一句，您需要将消息循环添加到 WinMain。

# javascript - 从 chrome 扩展内容脚本执行网页 js

> ID：15517870
> 
> 赞同：7
> 
> 时间：2013-03-20T07:40:28.177
> 
> 标签：javascript, google-chrome, google-chrome-extension

我的网页 html 代码中有这个 js 函数。

```
function update() {
    document.getElementById( "textbox ").value = updatetext;
} 
```

当我从 chrome 控制台执行“update()”时，它可以工作。
但是如果我从 chrome 扩展执行，

```
chrome.tabs.executeScript(tab.id, {code: "update();"}, function(result){}); 
```

它说更新未定义。但是如果我用“alert('ok')”代替，它就可以了。
然后我执行

```
eval("update()") 
```

在 Chrome 扩展内容脚本中。它还说“未定义更新”。

那么我该怎么做才能在网页上调用js函数呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T08:46:35.560

Chrome 在沙箱中执行内容脚本，因此您需要注入内联脚本来与网页交互：

```
var injectedCode = 'update()';
var script = document.createElement('script');
script.appendChild(document.createTextNode('('+ injectedCode +')();'));
(document.body || document.head || document.documentElement).appendChild(script); 
```

# grails - Grails 静态映射失败（重复 id）

> ID：15517871
> 
> 赞同：0
> 
> 时间：2013-03-20T07:40:40.570
> 
> 标签：grails, mapping, grails-orm

我正在尝试进行逆向工程并为数据库中的给定表模式创建模型类。

该表的名称是`infopac_usersProva`，它有两列：

*   strCip varchar(15) 这是 id
*   USERNM varchar(75)

我写了这样的模型：

```
 class Infopac_usersProva {

       String strCip 
       String usernm

       static mapping={
        datasource 'gpaq'
        table 'infopac_usersProva'
        version false
        columns{
            id column: 'strCip'
            usernm column: 'USERNM', sqlType: "varchar(75)"
            strCip column: 'strCip', sqlType: "varchar(15)"
        }
       }

       static constraints = {
        strCip (nullable:true, insert:false, update:false)
       }
    } 
```

但我得到这个错误：

> 实体映射中的重复列：edu.upc.gpaq.domain.generic.Infopac_usersProva 列：strCip（应使用 insert="false" update="false" 映射）

我需要为 strCip 指定列名，因为如果我取出该行，模型将尝试获取 str_cip 而不是 strCip。如果我取出 "id column: 'strCip' 然后我得到一个错误，说没有 id 列。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:12:23.907

我认为你可以摆脱`strCip`定义。
而是正确定义 id 字段。

看看这是否适合你：

```
class Infopac_usersProva {

String usernm

static mapping={
    datasource 'gpaq'
    table 'infopac_usersProva'
    version false
    columns{
        id generator: 'assigned', name: 'strCip', type: 'string'
        usernm column: 'USERNM', sqlType: "varchar(75)"
    }
} 
```

*这个我没查。。。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-16T06:15:16.050

这可能有点晚了，但是您需要改用可更新和可插入的属性。它对我有用：

```
class Infopac_usersProva {

   String strCip 
   String usernm

   static mapping={
    datasource 'gpaq'
    table 'infopac_usersProva'
    version false
    columns{
        id column: 'strCip'
        usernm column: 'USERNM', sqlType: "varchar(75)"
        strCip column: 'strCip', updateable: false, insertable: false
    }
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-21T09:01:23.137

我最终做了以下事情（见粗体字）

```
class Infopac_usersProva {

  String usernm
  String id

  static mapping={
    datasource 'gpaq'
    table 'infopac_usersProva'
    version false
    autoTimestamp false
    columns{
        **id column: 'strCip', sqlType: "varchar(15)"**
        usernm column: 'USERNM', sqlType: "varchar(75)"
    }
  }

  static constraints = {

  }
} 
```

现在可以了。十分感谢！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T10:37:04.463

这个应该工作：

```
class Infopack_usersProva {
    String strCip
    String usernm

    static constraints = {
        strCip(nullable: false, maxSize: 15)
        usernm(nullable: true, maxSize: 75)
    }

    static mapping = {
        datasource('gpaq')
        table('infopac_usersProva')
        version(false)
        autoTimestamp(false)
        usernm(column: 'USERNM')
        strCip(column: 'strCip')
        id(column: 'strCip', name: 'strCip', generator: 'assigned')
    }
} 
```

但它`strCip`不为空。但是 AFAIK 你需要一个不为空的 id 列，所以我看不到任何解决方法。至少使用 grails/hibernate。

如果你不想`strCip`被包含在任何`save()`你需要指定的

```
strCip(column: 'strCip', insertable: false, updateable: false) 
```

在映射块中。我不知道任何称为`insert`或的约束`update`，并且希望它们在那里被忽略。

# php - 将 php 数组传递给 javascript 数组

> ID：15517873
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:40:51.117
> 
> 标签：php, javascript, mysqli

我在数据库中创建了一个表（测试）。现在我已经像这样在 php 中获取数组。

```
 $sql="SELECT * FROM test;";
  $result=mysqli_query($con,$sql) or die("invalid query ".mysqli_error($con));
  while($row=mysqli_fetch_array($result))
  {
    echo $row['name'];
  } 
```

现在我想将此数组传递给 javascript 数组。

```
var images=["$row[0]","$row[1]","$row[2]"];// Is that coreect way to pass php array into js array? 
```

如果不是将 php 数组传递给 javascript 数组的正确方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:49:46.187

```
<?php
$mysqli = new mysqli("localhost", "username", "password", "database_name");

$query = "SELECT * FROM test;";
$result = $mysqli->query($query);

while($row = $result->fetch_array())
{
    $rows[] = $row;
}
?>

<script>
    var images = [<?=implode(',', $rows);?>];
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:45:29.680

```
$sql="SELECT * FROM test;";
$result=mysqli_query($con,$sql) or die("invalid query ".mysqli_error($con));
print 'var images=[';
$tmp = array();
while($row=mysqli_fetch_array($result))
{
   $tmp[] = '"'.$row['name'].'"';
}
print implode(',', $tmp);
print '];'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:43:01.497

这边走：

```
var images=["<?php echo $row[0]; ?>", "<?php echo $row[1]; ?>" ... and so on] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:50:51.423

您需要在 javascript 中回显您的变量，例如：

```
<?php
     $sql="SELECT * FROM test;";
     $result=mysqli_query($con,$sql) or die("invalid query ".mysqli_error($con));
     $counter = 0;
?>

<script>
var images=new Array();
<?php
    while($row=mysqli_fetch_array($result))
    {
         echo 'images['.$counter.']="'.$row['name'].'";'
         $counter++;
    }
?>
</script> 
```

使用计数器来跟踪您要添加新项目的位置。

# paypal - 新的 PayPal API 中没有 AppID？

> ID：15517875
> 
> 赞同：1
> 
> 时间：2013-03-20T07:40:57.507
> 
> 标签：paypal

在旧的沙盒/真实账户中，有一个 AppID，可以很容易地从沙盒账户中获取。但是在新的 API 中没有这样的字段。所以我认为它已被弃用或不再需要。

如果我们使用新的 PayPal REST API 将其留空，请告知是否会影响工作流程？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:03:43.543

这是正确的。新的 REST API 没有 AppID。
注意：AppID 仅用于自适应 API，可通过 www.x.com > 我的帐户 > 我的应用程序获得。这仍然存在。

# c# - 命令停止执行

> ID：15517877
> 
> 赞同：3
> 
> 时间：2013-03-20T07:40:59.553
> 
> 标签：c#, .net, wpf, mvvm, mvvm-light

我正在制作一个小型 MVVM 应用程序。它应该采用一个完整的类`Func<string>`，并显示一个按钮列表，每个按钮执行一个包含 a 的命令`Func<string>`，并在另一个列表中显示它们的返回值。

该程序**起初**运行良好，但在按下随机数量的按钮后，它只会停止执行命令。UI 仍然是响应式的。就好像束缚断了一样。

类太多了，所以我将整个项目附在以下链接中：

[http://www.megafileupload.com/en/file/403770/GenericTester-zip.html](http://www.megafileupload.com/en/file/403770/GenericTester-zip.html)

相关代码：

```
namespace AdapterTester.ViewModel
{
  public class MainViewModel : ViewModelBase
  {
    public ObservableCollection<ViewableRelayCommand> CommandsList { get; set; }
    public ObservableCollection<string> Log { get; set; }

    /// <summary>
    /// Initializes a new instance of the MainViewModel class.
    /// </summary>
    public MainViewModel()
    {
      CommandsList = new ObservableCollection<ViewableRelayCommand>();
      Log = new ObservableCollection<string>();
      MapCommands();
    }

    /// <summary>
    /// adds a ViewableRelayCommand to the CommandsList
    /// </summary>
    public void Add(Func<string> iCommand, string CommandName, Func<bool> CanExecute = null)
    {
      CommandsList.Add(new ViewableRelayCommand()
      {
        Command = new RelayCommand(() => { Log.Insert(0, "-------------\n" + CommandName  + "\n"  + (iCommand.Invoke())); }),
        CommandName = CommandName
      });
    }

    /// <summary>
    /// For Each Func<string> in TestFunctions create a ViewableRelayCommand
    /// </summary>
    private void MapCommands()
    {
      var target = new TestFunctions();
      var methods = target.GetType().GetMethods().Where(m => m.DeclaringType == typeof(TestFunctions));
      foreach (var method in methods)
      {
        if( (method.ReturnType == typeof(string)) && (method.GetParameters().Length ==0))
        {
          Func<string> func = (Func<string>)Delegate.CreateDelegate(typeof(Func<string>), target, method);
          Add(func, method.Name);
        }
      }
    }
  }

  public class ViewableRelayCommand : ViewModelBase
  {
    public RelayCommand Command { get; set; }

    /// <summary>
    /// The <see cref="CommandName" /> property's name.
    /// </summary>
    public const string CommandNamePropertyName = "CommandName";

    private string _CommandName = "Hello";

    /// <summary>
    /// Sets and gets the CommandName property.
    /// Changes to that property's value raise the PropertyChanged event. 
    /// </summary>
    public string CommandName
    {
      get
      {
        return _CommandName;
      }

      set
      {
        if (_CommandName == value)
        {
          return;
        }

        RaisePropertyChanging(CommandNamePropertyName);
        _CommandName = value;
        RaisePropertyChanged(CommandNamePropertyName);
      }
    }
  }
} 
```

XAML：

```
<Window x:Class="AdapterTester.MainWindow"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:ignore="http://www.ignore.com"
      mc:Ignorable="d ignore"
      Width="500"
      Height="300"
      Title="MVVM Light Application"
      DataContext="{Binding Main, Source={StaticResource Locator}}">

  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="Skins/MainSkin.xaml" />
      </ResourceDictionary.MergedDictionaries>
      <DataTemplate x:Key="myButtonTemplate">
        <Button Content="{Binding Path=CommandName}" Command="{Binding Path=Command}" Margin="3"></Button>
      </DataTemplate>
    </ResourceDictionary>
  </Window.Resources>

  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="*" />
    </Grid.ColumnDefinitions>
    <ListBox Name="CommandsListBox" Grid.Column="0" 
             ItemsSource="{Binding CommandsList}"
             ItemTemplate="{StaticResource myButtonTemplate}">
    </ListBox>
     <ListBox Name="LogListBox" Grid.Column="1" 
                ItemsSource="{Binding Log}"
    </ListBox>
  </Grid>
</Window> 
```

**更新：**

答案是改变：

```
 Command = new RelayCommand(() => { Log.Insert(0, "-------------\n" + CommandName  + "\n"  + (iCommand.Invoke())); }), 
```

像这样：

```
List<Action> actions = new List<Action>();
public void Add(Func<string> iCommand, string CommandName, Func<bool> CanExecute = null)
{
    Action act = () => { Log.Insert(0, "-------------\n" + CommandName + "\n" + (iCommand.Invoke())); };
    actions.Add(act);
    CommandsList.Add(new ViewableRelayCommand()
    {
        Command = new RelayCommand(act)
        ,
        CommandName = CommandName
    });
} 
```

因为添加到中继命令的操作没有植根。

**更新**更改为我自己的中继命令有所帮助。虽然生根 Funcs 没有。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T11:53:17.863

是使用 MVVMLight 的 RelayCommand 吗？

如果是这样，您可能会遇到 GC 问题。RelayCommand 在内部使用对其回调的 WeakReference。

如果您传入一个未植根于其他地方的匿名函数，那么它可能会在 GC 运行时被清理。

大多数时候这不是问题，因为 func 是对 VM 的回调，并且 VM 本身植根于 DataContext、ViewModelLocator 或其他地方。但是，如果您正在创建未植根的 Func，这可能是一个问题。

根植这些 Func 的一种方法是`List<Func<string>>`在您的 ViewModel 中添加一个，并在创建 RelayCommands 的同时将它们添加到列表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:04:17.687

您从命令中调用命令是对的吗？

```
 Command = new RelayCommand(() => { Log.Insert(0, "-------------\n" + CommandName  + "\n"  + (Command.Invoke())); }) 
```

这不是递归的吗？

您可以尝试从表达式中删除调用吗？你为什么从内部调用它？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:40:45.133

```
Command = new RelayCommand(() => { Log.Insert(0, "-------------\n" + CommandName  + "\n"  + (Command.Invoke())); }) 
```

改成：

```
Command = new RelayCommand(() => { Log.Insert(0, "-------------\n"); }) 
```

它可以工作，但我不知道为什么不能在 Lambda 表达式中使用参数（Command 和 CommandName）？

# android - 如何检查android中的内部存储器存储计数？

> ID：15517878
> 
> 赞同：0
> 
> 时间：2013-03-20T07:41:02.200
> 
> 标签：android, download, progress-bar, custom-controls

我想在我的应用程序中获取内存和进度条中的已用内存，如下图所示。如何应用请帮助我自定义 android 中使用的进度条。我使用了下载应用程序。![在此处输入图像描述](../Images/b5f03b5a21493f6ccd3ddffc9cf30db0.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T09:15:08.677

以下是它的实现方式：
TestActivity.java：

```
public class TestActivity extends Activity {

    /**
     * Called when the activity is first created.
     */
    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final TextView occupiedSpaceText = (TextView)findViewById(R.id.occupiedSpace);
        final TextView freeSpaceText = (TextView)findViewById(R.id.freeSpace);
        final ProgressBar progressIndicator = (ProgressBar)findViewById(R.id.indicator);
        final float totalSpace = DeviceMemory.getInternalStorageSpace();
        final float occupiedSpace = DeviceMemory.getInternalUsedSpace();
        final float freeSpace = DeviceMemory.getInternalFreeSpace();
        final DecimalFormat outputFormat = new DecimalFormat("#.##");

        if (null != occupiedSpaceText) {
            occupiedSpaceText.setText(outputFormat.format(occupiedSpace) + " MB");
        }

        if (null != freeSpaceText) {
            freeSpaceText.setText(outputFormat.format(freeSpace) + " MB");
        }

        if (null != progressIndicator) {
            progressIndicator.setMax((int) totalSpace);
            progressIndicator.setProgress((int)occupiedSpace);
        }
    }

    /**
     * From question http://stackoverflow.com/questions/2652935/android-internal-phone-storage by Lazy Ninja
     */
    public static class DeviceMemory {

        public static float getInternalStorageSpace() {
            StatFs statFs = new StatFs(Environment.getDataDirectory().getAbsolutePath());
            //StatFs statFs = new StatFs("/data");
            float total = ((float)statFs.getBlockCount() * statFs.getBlockSize()) / 1048576;
            return total;
        }

        public static float getInternalFreeSpace() {
            StatFs statFs = new StatFs(Environment.getDataDirectory().getAbsolutePath());
            //StatFs statFs = new StatFs("/data");
            float free  = ((float)statFs.getAvailableBlocks() * statFs.getBlockSize()) / 1048576;
            return free;
        }

        public static float getInternalUsedSpace() {
            StatFs statFs = new StatFs(Environment.getDataDirectory().getAbsolutePath());
            //StatFs statFs = new StatFs("/data");
            float total = ((float)statFs.getBlockCount() * statFs.getBlockSize()) / 1048576;
            float free  = ((float)statFs.getAvailableBlocks() * statFs.getBlockSize()) / 1048576;
            float busy  = total - free;
            return busy;
        }
    }
} 
```

布局/main.xml：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                android:layout_width="match_parent"
                android:layout_height="match_parent">

    <ProgressBar
        android:id="@+id/indicator"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        style="@android:style/Widget.ProgressBar.Horizontal"
        android:progressDrawable="@drawable/memory_indicator_progress" />

    <TextView
        android:id="@+id/occupiedSpace"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentBottom="true"
        android:gravity="left"
        android:layout_marginLeft="5dp"
        android:textColor="@android:color/black"
        android:textStyle="bold" />
    <TextView
            android:id="@+id/freeSpace"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_alignParentBottom="true"
            android:gravity="right"
            android:layout_marginRight="5dp"
            android:textColor="@android:color/black"
            android:textStyle="bold" />
</RelativeLayout> 
```

可绘制/memory_indicator_progress.xml：

```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:id="@android:id/background">
        <shape android:shape="rectangle">
            <solid android:color="@android:color/holo_green_light" />
        </shape>
    </item>
    <item android:id="@android:id/progress">
        <clip>
            <shape android:shape="rectangle">
                <solid android:color="@android:color/darker_gray" />
            </shape>
        </clip>
    </item>

</layer-list> 
```

我不确定它是否正是您正在寻找的东西，但是在我的带有 4.1 android 的 xperia v 上，我得到了以下图片： ![在此处输入图像描述](../Images/5008b26c693284e83192bd197db550d2.png)

由于平台不同，您的设备颜色可能会有所不同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:44:53.397

使用 android.os.Environment 找到内部目录，然后使用 android.os.StatFs 在其上调用 Unix statfs 系统调用。从Android设置应用程序中无耻地[窃取：](https://github.com/android/platform_packages_apps_settings/blob/gingerbread/src/com/android/settings/deviceinfo/Memory.java#L335)

```
File path = Environment.getDataDirectory();
StatFs stat = new StatFs(path.getPath());
long blockSize = stat.getBlockSize();
long availableBlocks = stat.getAvailableBlocks();
return Formatter.formatFileSize(this, availableBlocks * blockSize); 
```

从[这个答案](https://stackoverflow.com/questions/2652935/android-internal-phone-storage)

# sql - 替换一个单元格中的两个字符

> ID：15517880
> 
> 赞同：3
> 
> 时间：2013-03-20T07:41:11.007
> 
> 标签：sql, string, oracle

我正在使用此查询替换单元格中的一个字符

```
select replace(id,',','')id from table 
```

但我想替换单元格中的两个字符。如果单元格有这些数据`(1,3.1)`，我希望它看起来像这样`(131)`。如何在一个单元格中替换两个不同的字符？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-20T07:47:12.853

使用 TRANSLATE 而不是 REPLACE()。它将第一个模式中出现的每个字符替换为第二个模式中的匹配字符。要删除字符，只需缩短替换字符串即可：

```
select translate(id, '1,.', '1') id from table 
```

请注意，第二个字符串不能为空。因此需要在两个字符串中都包含 1 （或其他字符）。

[了解更多。](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions216.htm#sthref1701)

显然，您需要转换/删除的字符越多，TRANSLATE() 就越有吸引力。REPLACE 的主要用途是更改模式（例如单词）而不是单个字符。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-20T09:27:56.657

可以使用

```
select replace(translate(id,',.',' '),' ','') from table; 
```

或者

```
select regexp_replace('1,3.1','[,.]','') from dual; 
```

或者

```
select replace(replace(id,',',''),'.','') from table; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T08:27:59.230

或者使用正则表达式：

```
select regexp_replace(id, '[.,]', '') id from table 
```

[了解更多](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions149.htm#sthref1424)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-20T07:42:12.823

再次调用更换。

```
select replace(replace(id,',',''), '.','') id from table 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-20T07:43:39.217

做这个：

```
select REPLACE(REPLACE(id,',',''),'.','') 
```

# javascript - 无法使用 style.display='block' 显示 div；

> ID：15517881
> 
> 赞同：0
> 
> 时间：2013-03-20T07:41:13.553
> 
> 标签：javascript, jsp

无法显示 div，`style.display='block';`
我有一个样式为显示的 jsp：无刷新第 2 页 3 次后。这里的结果是通过ajax调用加载的。

jsp代码：

```
<c:set var="projVar" value="ssc-portal-2.0.3.x"/>
<div style="display: none;" id="<c:out value="${projVar}"/>">
</div> 
```

javascript:

```
// result is : ssc-portal-2.0.3.x@/P_ssc@@SSC00004951@/P_ssc(WI-  1409);,
function populateActivityInfo(result) {

    var resultProjArr = result.split(',');
    var tempProjName = '';
    var activityList = '';
    var tempProj = '';
    for (var i = 0; i < resultProjArr.length; i++) {
        if (trim(resultProjArr[i]) != '') {;
            tempProjName = resultProjArr[i].split('@@')[0];
            activityList = resultProjArr[i].split('@@')[1];
            tempProj = trim(tempProjName.split('@')[0]);
            //here tempProj is ssc-portal-2.0.3.x
            document.getElementById(tempProj).style.display = 'block';
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:47:33.363

你说id是`ssc-portal-2-0-3-x`

```
//here tempProj is ssc-portal-2-0-3-x
document.getElementById(tempProj).style.display = 'block'; 
```

虽然 id 应该是`ssc-portal-2.0.3.x`.

```
<c:set var="projVar" value="ssc-portal-2.0.3.x"/> 
```

# modelica - 如何使用前一个区间中的变量值作为方程的输入......？

> ID：15517892
> 
> 赞同：3
> 
> 时间：2013-03-20T07:41:48.567
> 
> 标签：modelica, openmodelica, dymola

是否可以使用时变变量的先前值

例如：假设我的管道入口温度为 298K，具有指定的均匀质量流量（m_flow），现在假设我正在使用 100 瓦的加热器加热管道。出口温度将达到假设 302K 的更高温度，现在如果我必须使用这个出口温度作为我的入口温度（从某种意义上说我正在循环水），我会怎么做？

是否可以根据前一个时间步的出口温度更新入口温度的值？因此，对于下一次迭代，入口温度将与前一次迭代中的出口温度相同（换句话说，流体将再循环）。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-21T12:44:53.363

时间步根本没有进入它。使用有关时间步长信息的模型是错误的。自然不知道也不关心积分时间步长，模型应该反映这一点。

在我看来，您想要捕捉的是运输延迟。传输延迟是分子、电子等通过系统所花费的时间所引入的延迟。因此，大概您希望建模的是入口流体到达出口所需的时间。同样，这与积分时间步长无关，而是与流体的速度和它必须行进的距离有关。一旦您知道这需要多长时间（通过对系统的先验知识或通过查看模拟结果本身），您可以按照 Marco 的建议使用延迟算子。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-20T12:27:51.903

您无法访问上一个时间步中的值。您可以在 Modelica 中获得的最接近`delay(exp,T)`的值是用于获取 T 单位时间前的值。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-20T14:54:17.707

为了为您描述的系统设置合适的模型，我建议您查看示例：

> Modelica.Thermal.FluidHeatFlow.Examples.IndirectCooling

![Modelica.Thermal.FluidHeatFlow.Examples.IndirectCooling 模式](../Images/80fc21a26e96ad70f2b06686245b379b.png)

modelica 标准库版本。3.2\. 您可以放置​​一个环境或控制音量组件，而不是一根管道，以更好地满足您的需求。此外，使用连续和可微方程（延迟函数不是），您将受益于 Modelica 代码的一些优点，例如，您将能够在更广泛的情况下重用您的模型，解决逆问题，求解初始值问题， ...

我希望这会有所帮助，马可

# ios - ASIWebPageRequest 可以通过源内部下载多级网页吗？

> ID：15517899
> 
> 赞同：2
> 
> 时间：2013-03-20T07:42:23.470
> 
> 标签：ios, objective-c, uiwebview, asihttprequest

我想要的是实现一个可以保存多级网页的离线网络浏览器，比如保存第一级，保存两个级别。ASIWebPageRequest 可以满足吗？非常感谢！

# perl - Perl 中的@{hash{$key}} 是什么意思？

> ID：15517901
> 
> 赞同：1
> 
> 时间：2013-03-20T07:42:28.163
> 
> 标签：perl, hashtable

谁能告诉我这是什么`@{hash{$key}}`意思？我写的时候是否正确`@{hash{$key}}[$i]=$list[$i+1]`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T07:51:38.413

```
@{hash{$key}} 
```

是一种奇怪的写作方式

```
@hash{$key} 
```

这称为哈希片。它允许您一次从哈希中获取多个值。例如，

```
say for @hash{'a', 'b'}; 
```

方法

```
say for $hash{a}, $hash{b}; 
```

所以使用起来相当愚蠢

```
@hash{$key} 
```

代替

```
$hash{$key} 
```

* * *

`@{hash{$key}}[$i]=$list[$i+1];`不编译，所以不，使用它是不正确的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-20T09:11:24.373

正如 ikegami 解释的那样，`@{hash{$key}}`是一个散列片（只有一个元素）。

您可能想要这个：`@{$hash{$key}}`. 如果散列的每个元素都是数组引用，则此语法将允许您访问该数组。

例如，假设您的哈希包含数组，如下所示：

```
my %hash = (
    foo => [1, 2, 3, 4, 5],
    bar => [qw/baz sproing blargh/] 
); 
```

`@{$hash{foo}}`将会`(1, 2, 3, 4, 5)`

如果是这种情况，那么此语法将起作用：

```
${$hash{$key}}[$i]=$list[$i+1] 
```

请注意，您只访问数组的一个元素，而不是整个数组。因此，您使用`${$hash{$key}}`而不是`@{$hash{$key}}`.

另一种做同样事情的方法是：

```
$hash{$key}->[$i]=$list[$i+1] 
```

取消引用的`->`语法通常比 . 更可取`${...}`，因为它更简洁，尤其是当您拥有复杂的数据结构时。

# javascript - 从 Geobytes 获取 CityName

> ID：15517902
> 
> 赞同：2
> 
> 时间：2013-03-20T07:42:32.507
> 
> 标签：javascript, asp.net

我正在使用此代码获取有关我的 IP 地址的信息

```
protected void Page_Load(object sender, EventArgs e)
{

    WebRequest request = WebRequest.Create("http://gd.geobytes.com/gd?after=-1&variables=GeobytesCountry,GeobytesCity,GeobytesRegion,GeobytesLatitude,GeobytesLongitude");
    HttpWebResponse response = (HttpWebResponse)request.GetResponse();
    Stream dataStream = response.GetResponseStream();
    StreamReader reader = new StreamReader(dataStream);
    var responseFromServer = reader.ReadToEnd();
    Label1.Text = responseFromServer.ToString();
    reader.Close();
    dataStream.Close();
    response.Close();
} 
```

它返回到`label1`

```
var sGeobytesLocationCode="PKPBRAWA";
var sGeobytesIsLocationMatch=false;
var sGeobytesCountry="Pakistan";
var sGeobytesRegion="Punjab";
var sGeobytesCity="Rawalpindi";
var sGeobytesLatitude="33.6000";
var sGeobytesLongitude="73.0670"; 
```

我如何从中仅获取城市名称。就我而言，拉瓦尔品第

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:05:08.027

试试这个

```
string temp = responseFromServer.ToString();

Match _matchdec = Regex.Match(temp, @"\ssGeobytesCity=""\b(\S*)\b""", RegexOptions.IgnorePatternWhitespace | RegexOptions.IgnoreCase);
if (_matchdec.Success)
{
   string retval = _matchdec.Groups[1].Value;   
   Label1.Text = retval ;  
} 
```

添加命名空间`using System.Text.RegularExpressions`

希望这有帮助。

# php - 我如何使用 php 运算符添加这两个帖子 ID？

> ID：15517903
> 
> 赞同：0
> 
> 时间：2013-03-20T07:42:43.103
> 
> 标签：php, wordpress

有人可以帮助我处理这段代码吗？我还在学习 php，这是为 wordpress 准备的。

如何将另一个帖子 ID“1221”添加到此代码块中，以实现与帖子 425 相同的功能？

```
$additional_classes[] = ( is_object( $main_topic ) && 425 != $post->ID && !is_singular( $Theme->News->post_type ) ) ? 'term-' . $main_topic->slug : ''; 
```

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T08:07:00.330

如果不使用 if-shorthand 语法来真正理解这一行中发生的事情，可能会更好：

```
if( 
   is_object( $main_topic ) //checks, if $main_topic is an object
   && (1221 != $post->ID || 425 != $post->ID ) //checks, if $post->ID is NOT 1221 NOR 425
   && !is_singular( $Theme->News->post_type ) //checks, if post_type is NOT singular
) {
  $additional_classes[] = 'term-' . $main_topic->slug;
} else {
  $additional_classes[] = '';
} 
```

如果所有三个 if 语句/条件（`&&`运算符）都满足，`$additional_classes[]`将被设置，否则它是一个空字符串。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:44:22.227

```
$additional_classes[] = ( is_object( $main_topic ) && 1221 != $post->ID && !is_singular( $Theme->News->post_type ) ) ? 'term-' . $main_topic->slug : ''; 
```

希望能解决它。

# c++ - 如何指定 GetDelegateForFunctionPointer System: Func 的调用类型？

> ID：15517904
> 
> 赞同：0
> 
> 时间：2013-03-20T07:42:48.247
> 
> 标签：c++, types, clr, marshalling, function-pointers

任务将回调 typeof System::Func 传递给非托管函数。

```
 //c++ clr

        class Unmanagement
        {
          void Test()
          {
            Marshal::GetDelegateForFunctionPointer(callback,);//<----how to specify the type?
          }
          IntPtr callback;
        }

        bool Init(Func<IntPtr, Int32, Int32,Int32>^ callback)
        {
          Unmanagement a=new Unmanagement;
          IntPtr cb=Marshal::GetFunctionPointerForDelegate(callback);
          a->callback=cb;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:46:49.887

`Func<IntPtr, Int32, Int32, Int32>::typeid`?

# solr - 使用 Sunspot 对 solr 结果进行动态排序

> ID：15517909
> 
> 赞同：1
> 
> 时间：2013-03-20T07:43:16.983
> 
> 标签：solr, sunspot, sunspot-rails

我想在我的 solr 搜索中实现动态排序。

例如：如果我选择国家为印度，印度的成员必须排在结果的首位，其他国家的成员必须排在最后。

任何人都知道，如何实现这个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:31:25.667

您可以在查询时动态提升结果，例如在印度，将结果提高到更高的值，以便它们排在首位，其余的紧随其后。

# scala - Akka ZeroMQ 发布/订阅创建顺序

> ID：15517914
> 
> 赞同：1
> 
> 时间：2013-03-20T07:43:40.980
> 
> 标签：scala, akka, akka-zeromq

创建发布者和订阅者的顺序是否重要？如果我有作为发布者的应用程序 A 和几个客户端应用程序 X1 - Xn（作为应用程序 A 的订阅者），我可以先启动子应用程序，将它们注册为订阅者，然后再启动应用程序 A 吗？这会成功还是我需要启动应用程序 A？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T10:08:35.250

[http://api.zeromq.org/3-2:zmq-connect](http://api.zeromq.org/3-2:zmq-connect)

“对于大多数传输和套接字类型，连接不会立即执行，而是根据 ØMQ 的需要执行。因此，成功调用 zmq_connect() 并不意味着已经或可以实际建立连接。**因此，对于大多数传输和套接字类型绑定服务器套接字和连接客户端套接字的顺序无关紧要。**第一个例外是使用 inproc:// 传输时：您必须在调用 zmq_connect() 之前调用 zmq_bind()。第二个例外是ZMQ_PAIR 套接字，不会自动重新连接到端点。”

阅读有关一些子/发布问题的更多信息：http: [//zguide.zeromq.org/page :all#Getting-the-Message-Out](http://zguide.zeromq.org/page:all#Getting-the-Message-Out)

# jquery - jQuery下拉设置值

> ID：15517917
> 
> 赞同：3
> 
> 时间：2013-03-20T07:43:54.880
> 
> 标签：jquery, jquery-ui, drop-down-menu

我有一个 JQuery UI 下拉菜单。其实我有2个。

我在第一个中选择了一些东西，将复选框设置为 true。在该复选框的 .change() 中，我想将所选值从第一个下拉列表复制到第二个下拉列表。

我得到`$('#drop_1').val()`选定的值。

我想我可以用`$('#drop_1').val($('#drop_2').val())`. 可悲的是，这只适用于正常的下拉菜单。有没有办法像这样设置值：

```
$('#drop_1').find('option:selected').text(); 
```

知道我该怎么做吗？

这成功了，现在可以了。该值已设置，但未显示在 UI 中。

```
var selected_campaign = $('#campaign_id').val();
$('#follow_campaign_id').val(selected_campaign);
$('#follow_campaign_id').next().find('input.ui-combobox-input').val($('#follow_campaign_id').children('option[value=' +selected_campaign+ ']').html()); 
```

**固定的**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T08:33:23.997

如果您将您的包装`select`在 jquery-ui`autocomplete`小部件中：

原始选择将被隐藏，显示的 html 是输入。

您还需要设置此输入的值：

```
function(){
    var newval = $('#drop_1').val();

    $('#drop_2').val( newval );
    //you will have to find the correct selector for your particular settings here.
    //I base this code on the jquery-ui demo (see link below) :
    var $input = $('#drop_2').sibling('span.ui-combobox').find('input');
    $input.val(newval);
} 
```

用于组合框小部件[的 jquery-ui 演示](http://jqueryui.com/autocomplete/#combobox)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T08:08:08.397

> 没关系，错过了任务的 UI 部分，以下仅适用于 HTML。

JQuery 的 API 文档非常适合这类事情：[http](http://api.jquery.com/val/) ://api.jquery.com/val/ 。话虽如此，这应该可以解决问题：

```
<script type="text/javascript">
function setDrop2() {
// only change if checkbox is true
if ($('#check_1').is(':checked')) {
    $("#drop_2").val($("#drop_1").val());
}
}
</script>

<select id="drop_1">
  <option>option_1</option><option>option_2</option><option>option_3</option>
</select> drop_1  
<input type="checkbox" id="check_1" value="check1" onchange="javascript:setDrop2()"/> check_1
<select id="drop_2">
  <option>option_1</option><option>option_2</option><option>option_3</option>
</select> drop_2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-28T21:03:36.980

该标签没有任何兄弟，因此如果您尝试使用兄弟属性获取输入，代码将爆炸。点击父级，然后搜索包含输入的跨度，如下所示：

```
$("#drop-2").parent().find("span input").val($("#drop_1"); 
```

# android - 即使应用程序处于非活动状态，CursorLoader 如何自动更新视图？

> ID：15517920
> 
> 赞同：24
> 
> 时间：2013-03-20T07:44:07.913
> 
> 标签：android, android-loadermanager, android-cursorloader

我一直在开发一个小型的待办事项列表应用程序。我使用 CursorLoader 从内容提供者更新 ToDolistview。我写了一个函数`onNewItemAdded()`，当用户在文本视图中输入一个新项目并单击 Enter 时调用该函数。参考以下：

```
public void onNewItemAdded(String newItem) {
    ContentResolver cr = getContentResolver();

    ContentValues values = new ContentValues();
    values.put(ToDoContentProvider.KEY_TASK, newItem);

    cr.insert(ToDoContentProvider.CONTENT_URI, values);
    // getLoaderManager().restartLoader(0, null, this); // commented for the sake of testing
}

@Override
protected void onResume() {
    super.onResume();
    //getLoaderManager().restartLoader(0, null, this); // commented for the sake of testing
}

public Loader<Cursor> onCreateLoader(int id, Bundle args) {

    CursorLoader loader = new CursorLoader(this,
            ToDoContentProvider.CONTENT_URI, null, null, null, null);
    Log.e("GOPAL", "In the onCreateLoader");
    return loader;
}

public void onLoadFinished(Loader<Cursor> loader, Cursor cursor) {

    int keyTaskIndex = cursor.getColumnIndexOrThrow(ToDoContentProvider.KEY_TASK);
    Log.e("GOPAL", "In the onLoadFinished");
    todoItems.clear();
    if (cursor.moveToNext() == false) Log.e("GOPAL", "Empty Cursor");
    else {
        while (cursor.moveToNext()) {
            ToDoItem newItem = new ToDoItem(cursor.getString(keyTaskIndex));
            todoItems.add(newItem);
        }
        aa.notifyDataSetChanged(); // aa is arrayadapter used for the listview
    }
} 
```

我已阅读，只要内容提供程序数据库中的数据发生更改，CursorLoader 就会自动更新视图。这意味着我想，`getLoaderManager().restartLoader(0, null, this)`只要数据发生变化，就必须隐式调用，对吗？但这并没有发生。每当我添加一个新项目（该项目从 db 添加到数据库`onNewItemAdded`，但没有显式调用 restartLoader ）时，暂停此活动并恢复它。我没有看到对 restartLoader 的任何隐式调用（即使 db 已更改），并且列表视图也没有更新添加的新项目。这是为什么？`CursorLoader`即使应用程序未处于活动状态，如何自动更新视图？？？谢谢 ：）

编辑：我也用于`getContext().getContentResolver().notifyChange(insertedId, null)`插入我的内容提供者。

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-03-20T16:54:44.360

我找到了我的问题的答案。通常，CursorLoader 不会自动检测数据更改并将其加载到视图中。我们需要跟踪 URI 的变化。这可以通过以下步骤来完成：

1.  使用游标在内容解析器中注册观察者：（在 ContentProvider 的查询方法中完成）
    `cursor.setNotificationUri(getContext().getContentResolver(), uri);`

2.  `insert()`现在，当使用// URI 底层数据发生任何变化时，`delete()`我们使用以下`update(),`命令通知`ContentResolver`更改：

    `getContext().getContentResolver().notifyChange(insertedId, null);`

3.  这是由观察者接收到的，我们在步骤 1 中注册并调用了`ContentResolver.query()`，这又调用了`ContentProvider`的`query()`方法以将新的光标返回到`LoaderManager`。`LoaderManager`调用`onLoadFinished()`传递此游标，以及我们用新数据`CursorLoader`更新视图（使用）的位置。`Adapter.swapCursor()`

# 对于自定义 AsyncTaskLoaders：

有时我们需要我们的自定义加载器而不是 CursorLoader。在这里，我们可以使用光标以外的其他对象来指向加载的数据（如列表等）。在这种情况下，我们将没有特权通过光标通知 ContentResolver。应用程序也可能没有内容提供程序来跟踪 URI 更改。在这种情况下，我们使用 BroadcastReceiver 或显式 ContentObserver 来实现自动视图更新。如下：

1.  我们需要定义我们的自定义加载器，它扩展`AsyncTaskLoader`并实现了它的所有抽象方法。与 不同`CursorLoader`的是，我们的自定义加载器可能会或可能不会使用内容提供程序，并且它的构造函数可能不会调用`ContentResolver.query()`，当这个加载器被实例化时。所以我们使用广播接收器来达到目的。
2.  我们需要实例化一个`BroadCastReceiver`或抽象类 `ContentObserver`的方法。`OnStartLoading()``AsyncTaskLoader`
3.  这个广播接收器应该被定义为从内容提供者或任何系统事件（如新安装的应用程序）接收数据更改广播，并且它必须调用加载程序的`onContentChanged()`方法，以通知加载程序有关数据更改。Loader 自动完成其余工作以加载更新的数据并调用`onLoadFinished()`以更新视图。

有关更多详细信息，请参阅：http: [//developer.android.com/reference/android/content/AsyncTaskLoader.html](http://developer.android.com/reference/android/content/AsyncTaskLoader.html)

我发现这对于清晰的解释非常有用：[http ://www.androiddesignpatterns.com/2012/08/implementing-loaders.html](http://www.androiddesignpatterns.com/2012/08/implementing-loaders.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-06-20T13:48:03.613

好吧，我认为您可以在某些事件上重新启动加载程序。例如，就我而言，我有一项 TODO 活动。单击“添加”选项时，它会启动新的活动，该活动具有提供新 TODO 的视图。

我在父活动的 onActivityResult() 中使用以下代码

```
getLoaderManager().restartLoader(0, null, this); 
```

这对我来说可以。如果有更好的方法，请分享。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-03-09T01:23:34.893

在初始化时获取对加载器的引用，如下所示

```
 Loader dayWeatherLoader = getLoaderManager().initLoader(LOADER_DAY_WEATHER, null, this); 
```

然后创建一个扩展 ContentObserver 的类，如下所示

```
 class DataObserver extends ContentObserver {

    public DataObserver(Handler handler) {
        super(handler);
    }

    @Override
    public void onChange(boolean selfChange, Uri uri) {
        dayWeatherLoader.forceLoad();
    }
} 
```

然后在 onResume 生命周期方法中注册内容观察者如下

```
@Override
public void onResume() {
    super.onResume();
    getContext().getContentResolver().registerContentObserver(CONTENTPROVIDERURI,true,new DayWeatherDataObserver(new Handler()));
} 
```

每当 content provider 底层数据发生变化时，就会调用 contentobserver 的 onChange 方法，可以让 loader 重新加载数据

# solr - solr 4.1 版 PostingsSolrHighlighter 功能不起作用

> ID：15517923
> 
> 赞同：3
> 
> 时间：2013-03-20T07:44:33.787
> 
> 标签：solr, highlighting, solr-query-syntax

现在正在对 solr 4.1 版本进行分析。其中，新功能***“SOLR-4271：添加对 PostingsHighlighter 的支持”。***已被给予。

从以下链接**[http://lucene.apache.org/solr/4_1_0/solr-core/org/apache/solr/highlight/PostingsSolrHighlighter.html](http://lucene.apache.org/solr/4_1_0/solr-core/org/apache/solr/highlight/PostingsSolrHighlighter.html)**我发现了如何配置 PostingHighlighter。

所以我将我的 PostingHighLighter 配置如下，

```
 < searchComponent class="solr.HighlightComponent" name="highlight">
 < highlighting class="org.apache.solr.highlight.PostingsSolrHighlighter"
                  preTag="&lt;em_testing&gt;"
                  postTag="&lt;/em_testing&gt;"
                  ellipsis="... "
                    />
 < /searchComponent> 
```

我使用以下查询来测试荧光笔；

***solr/collection1/query?q=electronics&shard.keys=customerB!&wt=xml&hl=true&hl.fl=cat***

但我的结果是，跟随一个 <lst name="highlighting">

<lst name="F8V7067-APL-KIT">

<arr name="猫">

<str>

<em>电子产品</em>

</str>

< /arr>

预期结果是 <em_testing> 而不是 <em>。

那么我的配置有什么问题或者 PostingSolrHighlighter 的实际用途是什么。

# html - 下拉菜单，如何让它向上增加

> ID：15517927
> 
> 赞同：0
> 
> 时间：2013-03-20T07:45:02.370
> 
> 标签：html, css

我正在处理这段代码，它是一种菜单，贴在屏幕底部。我想要悬停在各种项目上的下拉菜单。但我的问题是子菜单正在向下增加，它们应该向上增加....这是我的代码，请帮忙

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>
      Dropdown menu
    </title>
    <style type="text/css">
      body{
        padding: 3em;
      }

      #menu ul {

        font: 12px georgia;
        list-style-type:none;
        position:fixed;
        left:0px;
        bottom:0px;
        height:50px;
        width:100%;
      }

      #menu a {

        display: block;
        text-decoration: none;
        color: #3B5330;
      }

      #menu a:hover {
        background:#E3E4FA;
      }

      #menu ul li ul li {
        color: #B0BD97;
        padding-top: 3px;
        padding-bottom:3px;
        padding-left: 3px;
        padding-right: 3px;
        background:#E3E4FA;
      }

      #menu ul li ul li a {
        font: 11px arial;
        font-weight:normal;
        font-variant: small-caps;
        padding-top:3px;
        padding-bottom:3px;
      }

      #menu ul li {
        float: left;
        font-weight: bold;
        border-top: solid 1px #283923;
        border-bottom: solid 1px #283923;
        background:#E3E4FA;
      }

      #menu ul li a {

        font-weight: bold;
        padding: 15px 10px;
        padding-bottom:13px;
      }

      #menu li{

        position:relative;
        float:left;
      }

      #menu ul li ul, #menu:hover ul li ul{

        display:none;
        list-style-type:none;

        padding-bottom:0px;

      }

      #menu:hover ul, #menu:hover ul li:hover ul{

        display:block;
      }

      #menu:hover ul li:hover ul {

        position: absolute;
        margin-top: 1px;
        font: 10px;
      }

      #menu>ul>li:hover>ul {

        bottom:100%;
        border-bottom: 1px solid transparent
      }
    </style>

  </head>
  <body>

    <div id="menu">
      <ul>

        <li>
          <center>
            <a href="X">
              Home
            </a>
          </center>
          <ul>
            <li>
              <a href="#">
                About Us
              </a>
            </li>
            <li>
              <a href="#">
                Disclaimer
              </a>
            </li>
          </ul>
        </li>

        <li>
          <center>
            <a href="#">
              Practice Areas
            </a>
          </center>
          <ul>
            <li>
              <a href="#">
                Civil Law
              </a>
            </li>
            <li>
              <a href="#">
                Criminal Law
              </a>
            </li>
          </ul>
        </li>

        <li>
          <a href="#">
            Family Law
          </a>
          <ul>
            <li>
              <a href="#">
                Joomla
              </a>
            </li>
            <li>
              <a href="#">
                Drupal
              </a>
            </li>
            <li>
              <a href="#">
                Wordpress
              </a>
            </li>
            <li>
              <a href="#">
                Joomla
              </a>
            </li>
            <li>
              <a href="#">
                Drupal
              </a>
            </li>
            <li>
              <a href="#">
                Wordpress
              </a>
            </li>
          </ul>
        </li>

      </ul>
    </div>
  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:00:02.057

更新：[演示](http://jsfiddle.net/fJSVz/)

```
 #navigation {
                width: 980px;
                height: 38px;
                margin-top:100px;
            }
                #navigation li {
                    float: left;
                    position: relative;
                    width:100px;
                    border:1px solid red;
                } #navigation li:hover { background: silver; }
                    #navigation li a {
                        text-transform: uppercase;
                        color: white;
                        padding: 13px 33px;
                        line-height: 38px;
                        font-size: 11px;

                    }
                        #navigation li a:hover { text-decoration: none; }
                        #navigation li ul {
                            position: absolute;
                            display:none;
                            z-index: 1000;
                            min-width: 100%;
                            left:-1px;
                        }
                        #navigation li:hover ul {
                            bottom:20px;
                            display:block;
                            background:#eee;
                        }
                            #navigation li ul li {
                                background: none;
                                width: 100%;
                            }
                                #navigation li ul li:hover {
                                    background: none;
                                    background-color: #2a51b5;
                                }
                                #navigation li ul li a {
                                    text-transform: uppercase;
                                    color: white;
                                    padding: 8px 10px;
                                    line-height: 28px;
                                width: 100%;

                                }

<ul id="navigation">

<li>1</li>

<li>2
    <ul>        
<li>2.1</li>
<li>2.2</li>
<li>2.3</li>        
    </ul>
</li>

<li>3</li>

<li>4</li>    

</ul> 
```

# jquery - jq切换做更多的工作

> ID：15517928
> 
> 赞同：0
> 
> 时间：2013-03-20T07:45:03.257
> 
> 标签：jquery, toggle

我正在使用一个简单的切换功能来下拉菜单，并且我还希望在单击时旋转移动菜单图标图像。这可以在这个函数中完成，还是我需要向图像添加一个新的事件监听器？

```
jQuery('#mobile-menu-icon').click(function() {
        jQuery('#mobile-menu').slideToggle('slow', function() {

        }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:48:08.013

是的，您可以...实际上这是正确的方法...完成`slidetoggle`时调用内部的回调函数`slideToggle`...

```
 jQuery('#mobile-menu-icon').click(function() {
    jQuery('#mobile-menu').slideToggle('slow', function() {
           //do your rotation here
    });
 }); 
```

# mysql - MySQl - 无法根据“ques_id”列从“ans_desc”列中获取 NULL 值

> ID：15517936
> 
> 赞同：-2
> 
> 时间：2013-03-20T07:45:21.160
> 
> 标签：mysql, sql

```
SELECT ques_id,ans_desc
FROM answer
ORDER BY ans_desc
HAVING ans_desc=0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:46:49.057

在子句中使用`ans_desc IS NULL`谓词`WHERE`：

```
SELECT ques_id, ans_desc 
FROM answer 
WHERE ans_desc = 0 OR ans_desc IS NULL
ORDER BY ans_desc ; 
```

这将只为您提供列中包含`0`或`NULL`值的那些`ans_desc`。

独自一`WHERE ans_desc = 0`人不会给出`NULL`价值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T08:00:13.323

当您只需要选择具有 NULL 值的行时，我认为您甚至不需要“按 ans_desc 排序”。

您应该执行以下操作：

```
SELECT ques_id as `question`, ans_desc as `answer`
FROM answer
WHERE ans_desc is NULL; 
```

此查询的优点是它不使用文件排序。

有关您正在使用的查询，请参阅解释的输出以了解更多信息。

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T07:50:38.433

`0`不同于`NULL`和不同于空

```
SELECT ques_id,ans_desc
FROM answer
WHERE ISNULL(ans_desc) OR ans_desc = ''
ORDER BY ans_desc 
```

# wcf - Windows phone 7 的 Newtonsoft.Json.DLL 中发生 Newtonsoft.Json.JsonSerializationException'

> ID：15517940
> 
> 赞同：1
> 
> 时间：2013-03-20T07:45:46.350
> 
> 标签：wcf, windows-phone-7

创建了 WCF 服务并在 IIS 中发布。我试图在 windows phone7 中访问此服务，所以我通过从 Nuget 包安装 json.net 来实现它。以正确的格式对 json 进行序列化。但是在 webClient_OpenReadCompleted 方法中，json 的反序列化失败。我在这里给出了我的代码模板

私人无效webClient_OpenReadCompleted（对象发送者，Dow​​nloadStringCompletedEventArgs e）{

```
string s = e.Result.ToString();
Customer deserCustomers = JsonConvert.DeserializeObject<Customer>(s);
int id=deserCustomers.CustomerId;
string n = deserCustomers.CustomerName;
lstCustomer.ItemsSource = deserCustomers.ToString(); 
```

}

到达以下代码时出现异常，如下所示：

客户反序列化客户 = JsonConvert.DeserializeObject(s);

Newtonsoft.Json.DLL 中出现“Newtonsoft.Json.JsonSerializationException”类型的异常，但未在用户代码中处理。

给我建议以解决此错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T09:10:31.110

其实很简单，你应该把你的类接口做成一个列表，因为你的 json 是数组，比如：

```
 public class Customer:List<object>
{        
    public int CustomerId{get; set;}        
    public string CustomerName{get; set;}
} 
```

比一切都非常基本

```
var deserCustomers = JsonConvert.DeserializeObject<Customer>(s);
foreach (var cust in deserCustomers) 
        {
          ....
        } 
```

希望它的工作（：

# c# - 抽象 URL 和路由

> ID：15517943
> 
> 赞同：1
> 
> 时间：2013-03-20T07:45:52.897
> 
> 标签：c#, asp.net, routes

我有以下 URL，我想隐藏查询字符串，如下所示：

由此：

```
/main?a=3&date_in=20/03/2013&date_out=20/03/2013 
```

对此：

```
/main?cars/from/2013/01/27/to/2013/02/26 
```

例如，其中 3 表示汽车

```
date_in = from and then the date always on that format

and date_out = to and then the date always on that format. 
```

我在 global.asax 上创建了以下内容：

```
routes.MapPageRoute("main", "main/{*queryvalues}", "~/default.aspx"); 
```

关于我该怎么做的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-25T18:39:12.500

您可以在 Global.asax 的 Application_Start 中使用以下代码

```
routes.MapPageRoute("date_range",
    "{main}/{a}/from/{fyear}/{fmonth}/{fday}/to/{tyear}/{tmonth}/{tday}",
    "~/Default.aspx"); 
```

并将下一个代码放在 default.aspx 的 Page_Load 事件中，您可以根据需要检索“a”、“date_in”和“date_out”的数据

```
string _strQuery = string.Format("you are using this {6} from: {2}/{1}/{0} to: {5}/{4}/{3}",
                Page.RouteData.Values["fyear"] as string,
                Page.RouteData.Values["fmonth"] as string,
                Page.RouteData.Values["fday"] as string,
                Page.RouteData.Values["tyear"] as string,
                Page.RouteData.Values["tmonth"] as string,
                Page.RouteData.Values["tday"] as string,
                Page.RouteData.Values["a"] as string);

Response.Write(_strQuery); 
```

# android - android让用户设置一个日期

> ID：15517945
> 
> 赞同：1
> 
> 时间：2013-03-20T07:46:08.100
> 
> 标签：android

我想允许用户为某事设置日期，我想知道是否有内置的？或者如果有任何例子，我确信这个东西已经被使用了很多，所以我只想知道如何制作一个有月份、年份和日期的屏幕以及用户设置的日期，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:49:16.317

您可以使用 DatePicker 或 TimePicker 这里有官方文档：

[http://developer.android.com/guide/topics/ui/controls/pickers.html](http://developer.android.com/guide/topics/ui/controls/pickers.html)

# asp.net - 描述中的另一个

> ID：15517949
> 
> 赞同：0
> 
> 时间：2013-03-20T07:46:44.807
> 
> 标签：asp.net

上次它是 pbl 与 enc 并将其存储在 db 中，现在 pbl 处于 dec 并从 db 中检索数据，它显示错误为

> 输入不是有效的 Base-64 字符串，因为它包含非 base 64 字符、两个以上的填充字符或填充字符中的非空白字符

**代码是这样的**：

```
using System;
using System.Collections;
using System.Configuration;
using System.Data;
using System.Linq;
using System.Web;
using System.Web.Security;
using System.Web.UI;
using System.Web.UI.HtmlControls;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using System.Xml.Linq;
using System.Security.Cryptography;
using System.Data.SqlClient;

namespace WebApplication5
{
    public partial class WebForm4 : System.Web.UI.Page
    {
        SqlConnection connection;
        protected void Page_Load(object sender, EventArgs e)
        {
            connection = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
        }

        protected void btnSubmit_Click(object sender, EventArgs e)
        {
            SqlConnection con1 = new SqlConnection(ConfigurationManager.ConnectionStrings["TestQueryConnectionString"].ConnectionString);
            con1.Open();
            SqlCommand cmd1 = new SqlCommand("select * from admin where USERNAME=@USERNAME and PASSWORD=@PASSWORD ", con1);
            cmd1.Parameters.AddWithValue("@username", txtUserName.Text);
            string strpassword = DecodeFrom64(txtPassword.Text);
            cmd1.Parameters.AddWithValue("@password", txtPassword.Text);
            SqlDataAdapter da = new SqlDataAdapter(cmd1);
            DataTable dt = new DataTable();
            da.Fill(dt);
            if (dt.Rows.Count > 0)
            {
                Response.Redirect("emplist.aspx");
            }
            else
            {
                ClientScript.RegisterStartupScript(Page.GetType(), "validation", "<script language='javascript'>alert('Invalid Username and Password')</script>");
            }
            con1.Close();
        }
        protected void btnClear_Click(object sender, EventArgs e)
        {
            txtUserName.Text = "";
            txtPassword.Text = "";
        }
        public string DecodeFrom64(string encodedData)
        {
            System.Text.UTF8Encoding encoder = new System.Text.UTF8Encoding();
            System.Text.Decoder utf8Decode = encoder.GetDecoder();
            byte[] todecode_byte = Convert.FromBase64String(encodedData);
            int charCount = utf8Decode.GetCharCount(todecode_byte, 0, todecode_byte.Length);
            char[] decoded_char = new char[charCount];
            utf8Decode.GetChars(todecode_byte, 0, todecode_byte.Length, decoded_char, 0);
            string result = new String(decoded_char);
            return result;
        }

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T07:54:38.083

对不起，我不是哈比卜，但是

`txtPassword.Text`将有用户输入的文本。用户大多不输入 Base64 编码数据。假设用户输入的密码是 Base64 编码的，这是完全错误的。

摆脱这条线应该会有所帮助

```
string strpassword = DecodeFrom64(txtPassword.Text); 
```

你以后甚至似乎都不会使用它。

此外，如果您想加密密码，请使用单向哈希，例如 SHA 和盐。Base64 不会对其进行加密。虽然不会是明文，但很容易解码。

**编辑：**
要匹配编码密码，您需要对用户输入的密码进行编码，然后选择。

```
string strpassword = EncodeToBase64(txtPassword.Text);
cmd1.Parameters.AddWithValue("@password", strpassword); 
```

# c# - 如何禁用某些用户的按钮？

> ID：15517953
> 
> 赞同：0
> 
> 时间：2013-03-20T07:46:51.193
> 
> 标签：c#, winforms

我在数据库中有一个表，其中有一列 UserName 和 UserRights。UserRights 是`admin`或者现在，如果用于登录的用户名只是一个用户`user` ，我想禁用另一种形式的一些按钮。`login form`我将如何做到这一点？我有以下代码：

```
 private void button1_Click_1(object sender, EventArgs e)
    {
        connection.Open();
        OleDbDataReader reader = null;
        OleDbCommand command = new OleDbCommand("select* from TableAcct", connection);
        reader = command.ExecuteReader();
        while (reader.Read())
        {
            uname.Add(reader["username"].ToString());
            password.Add(reader["userpassword"].ToString());
            rights.Add(reader["rights"].ToString());
        }
        connection.Close();

        int totalItems = uname.Count;
        int count = 0;
        string isValidated = "";
        while (count < totalItems)
        {
            if ((Username.Text == uname[count].ToString()) && (pword.Text == password[count].ToString()))
            {
                isValidated = "True";
                rights2 = rights[count].ToString();
                count = 100;
            }
            else
            {
                count++;
            }
        }
        if (isValidated == "True")
        {
            Mainform mainform1 = new Mainform();
            login.ActiveForm.Hide();
            mainform1.linkLabel1.Text = Username.Text;
            mainform1.ShowDialog();
            Username.Clear();
            pword.Clear();

        }
        else
        {
            MessageBox.Show("Invalid Log in. Please try again", "Error Message", MessageBoxButtons.OK, MessageBoxIcon.Error);
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:51:21.027

将登录用户名保存在会话或任何容器中。以不同的形式获取该用户名并应用条件，如果可以，然后使用

```
buttonname.visible = true
else
buttonname.visible = false. 
```

如果您将使用可见属性，则最初在 html 代码中将按钮置于可见 = false 模式。

或者你可以使用

```
buttonname.enable = true
else
buttonname.enable = false 
```

我想它会对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T07:52:52.180

您可以将 true 或 false 传递给主表单。或者您为包含用户模式（管理员或用户枚举）和用户名等的用户创建一个类。

您的主窗体的构造函数接受用户对象作为参数，在 InitializeComponent() 之后的构造函数中，您可以执行以下操作：

```
public Mainform(User user)
{
   InitializeComponent();
   if(user.UserType == UserType.User)
   {
      // Make your buttons invisible
      buttonOnlyForAdmins.Visible = false;
   }
} 
```

除了将按钮设置为不可见之外，您还可以默认设置“管理按钮”不可见，并且仅在用户是管理员时才将它们设置为可见。

用户可以是这样的类：

```
public class User
{
   public string Username{get;set;}
   public UserType UserType{get;set}
} 
```

# android - Android SimpleDateFormat

> ID：15517963
> 
> 赞同：0
> 
> 时间：2013-03-20T07:47:39.083
> 
> 标签：android, date-format, simpledateformat

我在 sqlite 数据库中有一个日期列。在光标的帮助下，我能够从该列中检索值。值采用这种格式，“YYYY-mm-dd”。我希望将它们转换为这种格式，“2013 年 3 月 8 日”。SimpleDateFormat 怎么可能？

任何人都可以建议吗？任何帮助将不胜感激！！

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T07:52:11.090

我建议你使用 DateUtils。它包含许多静态方法来帮助您将日期、时间、时间增量格式化为人类可读的字符串。

[http://developer.android.com/reference/android/text/format/DateUtils.html](http://developer.android.com/reference/android/text/format/DateUtils.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:53:19.613

这是一个快速的解决方案：

```
String sourceDate = c.getString(<columnNumber>);
SimpleDateFormat formatter = new SimpleDateFormat("MMM dd yyyy");
Date formatted = null;
try {
    formatted = formatter.parse(sourceDate);
}
catch (ParseException ex) {
   Log.w("ParseError", ex.getMessage());
}
String formattedString = formatter.format(formatted); 
```

# jquery - jQuery旋转一个div

> ID：15517966
> 
> 赞同：2
> 
> 时间：2013-03-20T07:47:45.303
> 
> 标签：jquery, rotation

我无法旋转 div。控制台中没有警告或错误。

您可以在[此处查看 JSFiddle 版本](http://jsfiddle.net/NYJWx/2/)。

我正在使用的代码是 -

```
$("#div2").click(someFunction2);

function someFunction2() {
    $("#div2").animate({
        rotate: '+=-40deg'
    }, 0);
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T07:58:54.740

您可以尝试添加一些具有 css3.0 属性的 css 类：

```
.box_rotate {
  -webkit-transform: rotate(7.5deg);  /* Chrome, Safari 3.1+ */
    -moz-transform: rotate(7.5deg);  /* Firefox 3.5-15 */
      -ms-transform: rotate(7.5deg);  /* IE 9 */
        -o-transform: rotate(7.5deg);  /* Opera 10.50-12.00 */
         transform: rotate(7.5deg);  /* Firefox 16+, IE 10+, Opera 12.50+ */
}
.box_transition {
  -webkit-transition: all 0.3s ease-out;  /* Chrome 1-25, Safari 3.2+ */
     -moz-transition: all 0.3s ease-out;  /* Firefox 4-15 */
       -o-transition: all 0.3s ease-out;  /* Opera 10.50–12.00 */
          transition: all 0.3s ease-out;  /* Chrome 26, Firefox 16+, IE 10+, Opera 12.50+ */
} 
```

jQuery：

```
function someFunction2() {
    $(this).addClass('box_rotate box_transition');
} 
```

### [检查这个小提琴](http://jsfiddle.net/NYJWx/4/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-20T07:59:24.760

这可以帮助您：

```
function someFunction2() {
    $("#div2").animate(
        {rotation: 360},
        {
          duration: 500,
          step: function(now, fx) {
              $(this).css({"transform": "rotate("+now+"deg)"});
          }
        }
    );
} 
```

享受！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-20T08:19:09.190

最好的方法是使用 CSS3，但如果你对 CSS3 不满意，你可以使用[jQueryRotate 插件](http://code.google.com/p/jqueryrotate)来实现：

```
$("#div2").click(function(){ 
    //Getting the current angle
    var curAngle = parseInt($(this).getRotateAngle()) || 0;
    $(this).rotate({
        angle: curAngle,
        animateTo: curAngle - 30,
        duration: 1000
    });
}); 
```

你的小提琴更新：http: [//jsfiddle.net/NYJWx/5/](http://jsfiddle.net/NYJWx/5/)

# java - Quickfixj 持久化消息

> ID：15517971
> 
> 赞同：1
> 
> 时间：2013-03-20T07:47:50.373
> 
> 标签：java, quickfix

我有一个将市场数据发送给用户的接受器应用程序。问题是即使我们已经设置`PersistMessages = N`了会话，我们也可以看到消息是持久的。根据 quickfixj 帮助文档，如果我们设置`PersistMessages = N`then

> 如果设置为 N，则不会保留任何消息。这将强制 QuickFIX 始终发送 GapFills 而不是重新发送消息。如果您知道您永远不想重新发送消息，请使用此选项。对市场数据流有用。

对此问题的任何帮助表示赞赏

提前感谢阿文德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:09:16.543

你能粘贴你的配置文件或其他有用的东西吗？您在日志文件中看到的消息可能是管理员消息。据我所知，即使您设置 PersistMessages = N，文件中也会有管理员消息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T10:56:41.993

It's probably an issue with your configuration file. In any case, if you are seeing persisted messages, you must be using a MessageStore that supports persistence. You can also define an empty MessageStore implementation that doesn't store anything and this will have the same effect as the setting (gap fills instead of resent messages). However, using the setting is easier and is the preferred method.

# javascript - 避免 Javascript 中变量/函数冲突的方法（没有 jQuery 插件）

> ID：15517975
> 
> 赞同：0
> 
> 时间：2013-03-20T07:48:12.327
> 
> 标签：javascript, jquery, namespaces, prototypal-inheritance

有哪些方法可以避免 Javascript 中的变量/函数冲突（不使用 jQuery 插件）？我想创建自己的新功能，但想避免冲突。

我认为使用函数作用域（仅用于作用域的函数）是一种方法。其他的可能性是什么？

此外，当您将函数包装在某些东西中以避免冲突时，您实际上如何从外部访问它？

我正在寻找基本的例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:21:53.950

如果您只是将方法附加到将调用它们的其他对象，则可以将代码包装在立即调用的函数表达式 (IIFE) 中以分配方法，而无需创建任何新的全局对象或属性。此策略对于附加侦听器很有用，其中变量使用闭包共享到 IIFE 的执行上下文而不是全局上下文，并且由于它们附加到执行上下文中已经存在的对象，因此可能没有额外的全局对象或变量。

不过，这些函数仍然可以访问全局函数。

第二种策略是创建一个命名对象并将所有方法作为属性附加到该对象上。您还可以将值作为对象的属性或通过 IIFE 分配的函数内的闭包来共享。

In practice, a suitably chosen random prefix on all your global variables is just as good for avoiding name collisions, but it's not popular.

# c# - 如何使用用户定义对象的属性对 List<> 进行排序？

> ID：15517978
> 
> 赞同：2
> 
> 时间：2013-03-20T07:48:17.500
> 
> 标签：c#

我有一个`List<OrderTime>`如下所示的 OrderTime

```
public class OrderTime
    {
        public string OrderId { get; set; }
        public DateTime StarTime { get; set; }
        public DateTime EndTime { get; set; }
    } 
```

我想按升序对这个列表进行排序`DateTime StarTime`。我可以用冒泡排序来做到这一点，但想知道是否有任何 c# 内置方法

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-20T07:49:47.243

您可以使用`LINQ`

```
List<OrderTime> _orders = new List<OrderTime>();
// _orders.Add(...);
var _result = _orders.OrderBy(x  => x.StarTime); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-20T09:11:49.847

你会想要使用

```
lst.Sort((x, y) => x.StarTime.CompareTo(y.StarTime)); 
```

请记住，使用 lst.OrderBy().ToList() 将创建 List<> 的新实例，可能会损害性能。

文档：http: [//msdn.microsoft.com/en-us/library/w56d4y5z.aspx](http://msdn.microsoft.com/en-us/library/w56d4y5z.aspx)

# ios - 如何让 GPS 应用程序在后台运行而不暂停

> ID：15517979
> 
> 赞同：0
> 
> 时间：2013-03-20T07:48:21.487
> 
> 标签：ios, gps, core-location, background-process

我在保持 GPS 在后台运行时遇到问题。

当应用程序处于后台时，我成功地保持 GPS 运行，但有时会停止。我注意到当我进入建筑物时它会停止并在那里停留 2-3 个小时。“停止”意味着即使定位服务图标仍然亮着，我也没有收到任何 GPS 点。然后，当我离开时，直到我把我的申请带到前台，我才会收到任何积分。

我将 pausesLocationUpdatesAutomatically 属性设置为 NO。

因此，一切正常，直到我进入 GPS 信号较弱的位置。当我离开那个区域时，我不再获得积分，即使我应该获得积分，因为 gps 信号现在很好。

这是应用程序进入后台时的代码：

```
- (void)applicationWillResignActive:(UIApplication *)application
{
    NSLog(@"[AppDelegate]: Application entering in background!");
    if(doesUserWantGPSTracking)
    {
    [self stopGPS];

    UIApplication *app = [UIApplication sharedApplication];

    bgTask = [app beginBackgroundTaskWithExpirationHandler:
              ^{

                    dispatch_async(dispatch_get_main_queue(),
                    ^{

                        if( bgTask != UIBackgroundTaskInvalid )
                        {
                            [app endBackgroundTask:bgTask];
                            bgTask = UIBackgroundTaskInvalid;
                        }

                    });

              }];

    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0),
        ^{

            [self startGPS];

            dispatch_async(dispatch_get_main_queue(), ^{

                if( bgTask != UIBackgroundTaskInvalid )
                {
                    [app endBackgroundTask:bgTask];
                    bgTask = UIBackgroundTaskInvalid;
                }

            });

        });
    }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-20T10:28:20.657

在您的信息列表中，添加`Required background modes`

# 并将一项设置为`App registers for location updates`

更新：

当 ios 返回`- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation`时，距离发生显着变化。我想你需要改变：

```
// Set the movement threshold.
locationManager.distanceFilter = 500; // meters 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T01:33:10.847

在建筑物内，您通常不会获得任何 GPS 位置。GPS 需要免费查看天空。如果您没有获得位置，那么让您的应用程序在后台运行的唯一原因当然是丢失了，因此 ios 使您的应用程序处于非活动状态，直到您获得下一个 GPS 位置（靠近窗口或室外）

此外，当您停止 GPS 时。在后台，[self stopGPS] 为什么？让它活着！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-25T15:47:23.193

如果您使用手机而不是 GPS，则可以使用网络进行定位服务。 `locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 300, 5, konumDinleyicisiNetwork);`

# c# - 如果 ((123 / 1000) > 0) 返回 false

> ID：15517980
> 
> 赞同：6
> 
> 时间：2013-03-20T07:48:21.883
> 
> 标签：c#, numbers

我最近在一段代码中遇到了似乎使我的数学逻辑感到困惑的东西

```
if((123/1000) > 0) 
```

出于某种原因，C# 声称这是错误的，但如果从逻辑上思考，0.123*大于*0。

有什么理由声称 0.123 小于 0？

我已经读过，以 2 为底的 double 会有一个比较问题，最好使用以 10 为底的小数。

有人可以启发我吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-20T07:51:58.480

你的谬论是你认为结果是`0.123`，而结果却是`0`。

C#（和许多其他类似 C 的语言）定义涉及两个整数的运算总是返回一个整数，因此`1 + 1`将 return `2`， not`2.0`并且`3 / 2`将 return `1`， not `1.5`。在这种情况下，小数部分被简单地丢弃，因此它总是向零舍入（即，对于正结果，它向下舍入，对于负结果，它向上舍入）。

虽然这可能有点违反直觉，但主要原因是语言/编译器的简单性、执行速度（因为您不需要弄清楚结果的类型）、使用类似`/=`which的运算符的能力结果是不同的类型）以及历史遗产和惯性。

要解决这个问题，您需要将至少一个操作数设为浮点数（另一个会自动跟随，结果也会如此）：

```
// either
if (123.0 / 1000 > 0)
// or
if (123 / 1000.0 > 0)
// or
if (123.0 / 1000.0 > 0) 
```

如果你有变量，你可能需要一个类型转换（因为你不能简单地附加`.0`:-)）：

```
if ((double)a / b > 0) 
```

通常的建议在这里也适用：在编程时，很少相信你的直觉，因为计算机是奇怪的机器，而编程语言有时甚至更陌生。将结果打印在某处或将其分配给变量并检查调试器会向您表明您的期望已偏离 :-)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-03-20T07:49:29.260

123 和 1000 是整数，结果小于 1，因此四舍五入为 0。使用这个：

```
123.0/1000.0 > 0.0 
```

它将使用双精度，即你可以有一个分数！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-20T07:50:59.667

既然`123`和`1000`是[`Int32`](http://msdn.microsoft.com/en-us/library/system.int32.aspx)，结果**一定**是[`Int32`](http://msdn.microsoft.com/en-us/library/system.int32.aspx)。但由于结果小于`1`，它会自动四舍五入为`0`。

你应该至少让这个数字是浮点数。

```
if(123.0/1000.0 > 0.0)
{
   if((123.0/1000) > 0)
   {
       if((123/1000.0) > 0)
       {
             Console.WriteLine("True"); // Prints True
       }
   }
} 
```

这是一个[`DEMO`](http://ideone.com/sr6ZzX).

看看这个问题也[可能损失分数](https://stackoverflow.com/questions/1061334/possible-loss-of-fraction)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-20T08:51:31.683

尽管已经回答了这个问题，但没有人对这个问题给出好的观点，所以我想让它更清楚：

如果你是`dividing`or`multiplying` `int`并且`float`你会得到这样的结果：

```
int/int => int
float/int => float
int/float => float 
```

因此，如果您要划分：

```
123/1000 => 0 (as there is no int number 0.123, it will then set to 0)
123.0/1000 => 0.123 (this dividing is basically saying that I need a float result of dividing)
123/1000.0 => 0.123 (this says the same as previous) 
```

所以规则基本上是 - 如果您使用的类型位于它所使用的“上”级别，那么计算将被转换为该“父”类型。但这不能笼统的说，好像用浮点型一样，总会转成浮点数。以下是更多示例：

```
long/int => long
double/float => double
double/int => double 
```

如果你想**回答**你的问题，答案是：

```
if(((float)123/1000) > 0) 
```

或者

```
if(((double)123/1000) > 0) 
```

所以它总是会计算浮点数（0.123 数）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-20T08:29:54.353

`int / int`是一个`int`- 这意味着这`123/1000`不是你`0`所`0.123`期望的 -

由于 0 不大于 0，因此表达式的计算结果为 false！

解决方法是将其中一个整数设为双精度 -

```
if(123.0 / 1000 > 0) <- true
if(123 / 1000.0 > 0) <- true
if(123.0 / 1000.0 > 0) <- true 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-20T07:49:26.827

用这个：

```
if((123.0/1000) > 0) 
```

您正试图`int`除以`int`. 所以你得到整数除法。但是你需要使用双。

如果你想定义 int 变量并获得双重使用：

```
 double doubleNum = (double)intNum1/(double)intNum2; 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-03-20T07:53:31.383

仅使用整数值进行除法时，结果也将是整数。

如果我没记错的话，小数点后的部分会被去掉。

所以你的代码被编译成类似的东西：

```
a = int(123/1000)   <--- evaluates to 0.
if (a > 0) ....       <--- false 
```

根据@algreat 答案的解决方案是强制其中一个操作数为双精度（通过添加`.0`. 这也将强制结果为浮点数。

# kendo-grid - 如何在几秒钟内将大量数据加载到 kendogrid

> ID：15517984
> 
> 赞同：2
> 
> 时间：2013-03-20T07:48:32.243
> 
> 标签：kendo-grid

我的应用程序中有剑道网格和清除过滤器按钮，我的应用程序中有大量数据，当我们清除过滤数据时会花费太多时间。是否可以在几分之一秒内清除过滤器。这里是我的网格代码

```
 var result=  $("#grid").kendoGrid({
                autoBind: false,
              dataSource: db,
                         pageable: true,
  filterable:true,
  columns:[

      {field:"OrderID",title:"OrderID",filterable:true},
           {field:"Freight",title:"Freight"} ,
           {field:"OrderDate",title:"OrderDate" ,format: "{0:MM/dd/yyyy}"},
   {field:"ShipCity",title:"ShipCity"} ]  

         }).data("kendoGrid"); 
```

这是小提琴[http://jsfiddle.net/mga6f/118/](http://jsfiddle.net/mga6f/118/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-01T15:23:43.390

请尝试使用此代码解决您的问题：

```
 $("#GridName").data("kendoGrid").dataSource.filter([]); 
```

# php - Firefox 没有从 javascript 函数创建的输入中传递值；IE作品

> ID：15517987
> 
> 赞同：-3
> 
> 时间：2013-03-20T07:48:48.003
> 
> 标签：php, javascript, firefox, dom, input

php 代码，这是一个使用 javascript 创建输入，然后将上传的文件发布到下一页的小功能。它在 IE 上运行良好，但在 FF 上失败。它只会传递第一个也是唯一一个不是由 js addMore() 创建的文件。IE: Array([name] => Array([0] => j1.jpg) )

FIREFOX Array([name] => Array([0] => j1.jpg [1](http://i.stack.imgur.com/J85rd.jpg) => j2.jpg [2](http://i.stack.imgur.com/tivji.jpg) => j3.jpg)

有朋友告诉我js DOM创建的新节点不适合旧帖子...DOM协议...所以FF无法识别...是吗？怎么改，谢谢

```
//   html content

<td id="div1">
<input name="upload[]" id="upload" type="file" style="width:250px;" />                  
<input name="button" type="button" onClick="addMore()" value="+">
<br /> to add more files, please click the "+" button
</td>

//   js content
<script language="javascript">
    var addMore = function()  
 {  

     var div = document.getElementById("div1");  
     var br = document.createElement("br");  
     //var input = document.createElement("input");
     var input = navigator.userAgent.indexOf("MSIE")>0 ? document.createElement("<input name=\"upload[]\">") : document.createElement("input");
     var button = document.createElement("input");  

     input.setAttribute("type", "file");  
     input.setAttribute("name", "upload[]");
     input.setAttribute("id", "upload");
     button.setAttribute("type", "button");  
     button.setAttribute("value", "-");  
     button.onclick = function()  
     {  
         div.removeChild(br);  
         div.removeChild(input);  
         div.removeChild(button);  
     }  
     div.appendChild(br);  
     div.appendChild(input);  
     div.appendChild(button);  

}  
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T08:01:00.827

尝试 jQuery 来做到这一点。您不需要编写所有这些代码。jQuery.clone() 会完成这项工作。如果您需要更花哨的东西，那么您可以使用[这个插件](http://tristandenyer.com/using-jquery-to-duplicate-a-section-of-a-form-maintaining-accessibility/)来简单地通过跨浏览器支持来实现所需的结果。这是[插件的演示](http://tristandenyer.com/demos/dynamic-form.html)。

# asp.net-mvc-4 - 如何在ajax的多个部分视图中使用相同的模型

> ID：15517988
> 
> 赞同：0
> 
> 时间：2013-03-20T07:49:00.583
> 
> 标签：asp.net-mvc-4, partial-views

我在 MVC 4 应用程序的同一页面中使用具有相同强类型模型的多个部分视图。我想在控制器中调用单个操作并返回模型并通过 ajax 调用一次将其用于所有部分视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T09:38:51.560

您提供的内容不多，但让我尽力而为，并举一个对您最有意义的例子。所以说你有以下模型：

```
public class UserProfile
{
    public int UserId { get; set; }
    public string UserName { get; set; }
    /// <summary>
    /// 
    /// </summary>
    /// <remarks>
    /// 1 = Premium Users
    /// 2 = Basic Users
    /// NOTE: I'm using int instead of an enum to make the sample more simple.
    /// </remarks>
    public int UserType { get; set; }
} 
```

还有一个如下所示的控制器方法：

```
 [HttpPost]
    public ActionResult SomeAction(int id)
    {            
        IEnumerable<UserProfile> profiles = some_method_that_does_something_and_builds_the_model();
        return Json(profiles);
    } 
```

您可以像这样进行 ajax 调用：

```
 $.post('@Url.Action("MyAction", "MyController")', { id: $('#myId').val() }, 
function (result) {
                // you can use $.each here but for loop is more efficient                                   
                var list1 = '';
                var list2 = '';
                for (var i = 0; i < result.length; i++) {
                    // just add the name as p's for a simple example
                    // I build the result as string as it is more efficient than building p elements
                    if (result[i].UserType == 1) {
                        list1 += '<p>' + result[i].UserName + '</p>';
                    }
                    else {
                        list2 += '<p>' + result[i].UserName + '</p>';
                    }
                }
                $("#first").append(list1);
                $("#second").append(list2);
            }); 
```

# c++ - 按对象属性搜索对象向量

> ID：15517991
> 
> 赞同：48
> 
> 时间：2013-03-20T07:49:04.353
> 
> 标签：c++, gcc, stl, std

我试图找出一种在向量中查找某个对象的索引的好方法——通过将字符串与对象中的成员字段进行比较。

像这样：

```
find(vector.begin(), vector.end(), [object where obj.getName() == myString]) 
```

我已经搜索但没有成功 - 也许我不完全了解要寻找什么。

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2013-03-20T07:51:36.953

您可以使用[`std::find_if`](http://en.cppreference.com/w/cpp/algorithm/find)合适的函子。在此示例中，使用了 C++11 lambda：

```
std::vector<Type> v = ....;
std::string myString = ....;
auto it = find_if(v.begin(), v.end(), [&myString](const Type& obj) {return obj.getName() == myString;})

if (it != v.end())
{
  // found element. it is an iterator to the first matching element.
  // if you really need the index, you can also get it:
  auto index = std::distance(v.begin(), it);
} 
```

如果您没有 C++11 lambda 支持，则仿函数可以工作：

```
struct MatchString
{
 MatchString(const std::string& s) : s_(s) {}
 bool operator()(const Type& obj) const
 {
   return obj.getName() == s_;
 }
 private:
   const std::string& s_;
}; 
```

在这里，`MatchString`它的实例可以用单个`Type`对象调用，并返回一个布尔值。例如，

```
Type t("Foo"); // assume this means t.getName() is "Foo"
MatchString m("Foo");
bool b = m(t); // b is true 
```

然后你可以将一个实例传递给`std::find`

```
std::vector<Type>::iterator it = find_if(v.begin(), v.end(), MatchString(myString)); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-20T08:23:17.993

除了 Lambda 和 juancho 使用的手写函子之外，您还可以使用`boost::bind`(C++03) 或`std::bind`(C++11) 以及一个简单的函数：

```
bool isNameOfObj(const std::string& s, const Type& obj)
{ return obj.getName() == s; }

//...
std::vector<Type>::iterator it = find_if(v.begin(), v.end(), 
  boost::bind(&isNameOfObj, myString, boost::placeholders::_1)); 
```

或者，如果`Type`有一个方法`isName`：

```
std::vector<Type>::iterator it = find_if(v.begin(), v.end(), 
  boost::bind(&Type::isName, boost::placeholders::_1, myString)); 
```

这只是为了完整性。在 C++11 中我更喜欢 Lambdas，在 C++03 中我只在比较函数本身已经存在时才使用绑定。如果不是，请选择仿函数。

**PS：**由于 C++11 没有多态/模板化的 lambda，bind 仍然在 C++11 中占有一席之地，例如，如果参数类型未知、难以拼写或不易推断。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-20T11:00:27.003

一个简单的迭代器可能会有所帮助。

```
typedef std::vector<MyDataType> MyDataTypeList;
// MyDataType findIt should have been defined and assigned 
MyDataTypeList m_MyObjects;
//By this time, the push_back() calls should have happened
MyDataTypeList::iterator itr = m_MyObjects.begin();
while (itr != m_MyObjects.end())
{
  if(m_MyObjects[*itr] == findIt) // any other comparator you may want to use
    // do what ever you like
} 
```

# java - 如何在 android 项目中包含 HTML5WebView

> ID：15517993
> 
> 赞同：0
> 
> 时间：2013-03-20T07:49:24.083
> 
> 标签：java, android, android-activity, apk

我正在尝试使用 HTML5WebView 来修复 android 中的 HTML5 视频问题。我不确定如何将文件包含在项目中。有没有人有任何想法如何去做。

这是 HTML5WebView 的链接： [https ://code.google.com/p/html5webview/](https://code.google.com/p/html5webview/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T08:15:48.127

我不知道如何使用 .apk，它可能被认为是在真实设备上安装的演示，但在这种情况下，您不必使用它。只需下载它们并将它们插入到您的项目中。现在只需像使用任何自定义视图一样使用它们。[将此文件](https://html5webview.googlecode.com/svn/trunk/HTML5WebView/src/org/itri/html5webview/HTML5WebView.java)保存到您的项目中。