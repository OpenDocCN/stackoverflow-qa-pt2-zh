# StackOverflow 问答 13854000-13854999

# ios - Xcode 无法使用所选设备运行 xcode 4.41 IOS 5.1

> ID：13854009
> 
> 赞同：0
> 
> 时间：2012-12-13T06:11:51.323
> 
> 标签：ios, xcode

> **可能重复：**
> [Xcode 4.4.1、iOS 5.1：Xcode 无法使用所选设备运行](https://stackoverflow.com/questions/13853286/xcode-4-4-1-ios-5-1-xcode-cannot-run-using-the-selected-device)

我的 xcode 版本是 4.4.1 和我的 iOS 5.1。我还安装了有效的配置文件和证书。当我通过设备部署 xcode 时，它​​显示错误 Xcode cannot run using the selected device 没有提供的 iOS 设备可用于兼容的 iOS 版本。如果有人知道你能解决我的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:21:01.603

您需要研究以下几点：

1.  您的设备是否包含在配置文件中？
2.  设备上是否安装了配置文件？
3.  你正在为什么操作系统编译？也许您的部署目标设置为 6.0，而您的设备是 5.1。您的设备至少需要与您的部署目标相同或更高版本。

# android - Facebook SDK，如何请求应用名称

> ID：13854011
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:11:56.757
> 
> 标签：android, facebook

> **可能重复：**
> [Android：如何将应用名称放入我们的文本视图](https://stackoverflow.com/questions/13836918/android-how-to-get-the-app-name-into-our-textview)

嗨，我试图从 facebook 获取 appname 但没有成功.. 如下所示

```
String queryApp = "SELECT  namespace  FROM application WHERE app_id=xxxxxxxxxxx";
                Bundle paramsApp = new Bundle();
                paramsApp.putString("method", "fql.query");
                paramsApp.putString("query", queryApp);
                String resultApp = Util.facebook.request(paramsApp);

                Log.e("APP RESULT", resultApp);

                JSONArray JAApp = new JSONArray(resultApp);

                for (int i = 0; i < JAApp.length(); i++) {
                    JSONObject JOApp = JAApp.getJSONObject(i);

                    String getDisplayName = JOApp.getString("display_name");
                    Log.e("DISPLAY NAME", getDisplayName);
                } 
```

上面的代码不起作用..我可以使用 facebookasyncrunner 来实现吗

```
Facebook facebook = new Facebook(YOUR_APP_ID);
AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook);

// all your paramsApp bundle code
...

mAsyncRunner.request(paramsApp, new BaseRequestListener() {
   ...
}); 
```

但机器人确定如何使用它......任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T08:23:32.970

您只需要请求 https://graph.facebook.com/[APP_ID]

例子：

```
 https://graph.facebook.com/102452128776 
```

# php - How to convert HTML into XHTML

> ID：13854014
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:12:12.417
> 
> 标签：php, html, xhtml

> **Possible Duplicate:**
> [PHP library for converting HTML4 to XHTML?](https://stackoverflow.com/questions/768923/php-library-for-converting-html4-to-xhtml)

Is there any ready made function in PHP to achieve this? Basically I'm taking HTML data from Smarty template and want to convert it into XHTML through coding.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:48:10.067

```
$filename = 'template.php'; // filepath to file

// All options : http://tidy.sourceforge.net/docs/quickref.html
$options = array('output-xhtml' => true, 'clean' => true, 'wrap-php' => true);

$tidy = new tidy(); // create new instance of Tidy
$tidy->parseFile($filename, $options); // open file
$tidy->cleanRepair(); // process with specified options

copy($filename, $filename . '.bak'); // backup current file

file_put_contents($filename, $tidy); // overwrite current file with XHTML version 
```

I don't have a Smarty template file to test this on, but give it a try and see if it works correctly in converting one. Backup your files as always when running something of this nature. Test out on sample files first.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:21:44.083

The problem is that you do not have an html file to work with. You have a php template written in the programming language "smarty" that is not markup, even though it contains blocks of markup. You're looking for a magic wand and no such wand exists.

If it was purely html, then you could probably use Domdocument to read the files into a Dom structure and generate xhtml, but that is simply not going to work with the pure source files, although you could potentially write a parser to read the smarty tpl files, look for the html snippets and try and load them into Domdocument objects.

With that said, I have to ask first -- why you really want to convert to xhtml when xhtml is basically a failed standard that is obsolete at this point in time, and secondarily, if you have some legitimate reason for wanting to forge ahead, why you can't use some regex search and replace snippets that change the doctypes and some regex based searches to look for tags that lack the end tags, and the other relatively minor tweaks needed. The differences between html and xhtml can be boiled down to a handful of rules that are pretty easy to understand.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:48:39.000

In answer to your original question: sort of. Core PHP -> DOM, SimpleXML, SPL = templating engine. That's why (and how) templating engines such as Smarty exist.

**Re: installing Tidy as suggested in comments,**

Tidy has a prerequisite lib. If you don't already have it:

[http://php.net/manual/en/tidy.installation.php](http://php.net/manual/en/tidy.installation.php)

> To use Tidy, you will need libtidy installed, available on the tidy homepage » [http://tidy.sourceforge.net/](http://tidy.sourceforge.net/).

To enable, you will need to recompile PHP and include it in your config flags:

> "This extension is bundled with PHP 5 and greater, and is installed using the **--with-tidy** configure option."

So, get your existing config flags:

```
php -i | grep config 
```

and add --with-tidy.

* * *

**However, this is probably the wrong approach.** *It does not solve your actual problem* (outputting XHTML instead of HTML) - it fixes Smarty's problem. Recompiling PHP to add an extension so you can use it to fix a templating engine's doctype shortcomings probably means you should consider using a different templating engine, if possible. That's sort of drastic (and adds a lot of overhead for what you get, which amounts to for a hacky non-solution bandaid workaround retroactively repairing broken output.)

## PEAR's HTML_Template_PHPTAL is probably the best solution to your problem, and the closest answer to your original question.

**And if PHPTAL doesn't quite cut it, there are at least 5 others available as PEAR libs to choose from.**

```
pear install http://phptal.org/latest.tar.gz 
```

Or it's been ported to Git:

```
git clone git://github.com/pornel/PHPTAL 
```

A cursory google search: [http://webification.com/best-php-template-engines](http://webification.com/best-php-template-engines)

HTH

# networking - 如何查找 UDP 数据包延迟时间

> ID：13854020
> 
> 赞同：0
> 
> 时间：2012-12-13T06:12:43.997
> 
> 标签：networking, udp, wireshark, network-monitoring, wireshark-dissector

如何从 Wireshark 工具中找到 UDP 数据包的往返时间？我一次收到很多更新数据包。所以我想找到每个数据包，发送响应需要多长时间。还有其他工具可以完成这个吗？ ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:21:41.103

Wireshark 对此无能为力，因为它只记录它看到 UDP 数据包发送的时间。

尝试`ping remote_host_IP_addr`- 它提供有关 RTT（往返时间）的统计信息

# google-app-engine - 2012 年 12 月 8 日，appengine 电子邮件配额减少到 20100 封（20000 封计费）电子邮件

> ID：13854028
> 
> 赞同：2
> 
> 时间：2012-12-13T06:13:13.907
> 
> 标签：google-app-engine, email, limit, reduce, quota

我将 GoogleAppEngine 用于我的应用程序。计费已启用，它会为我的公司订阅者发送每日通讯电子邮件。直到 2012 年 12 月 8 日之前没有问题我每天发送多达 27000 封电子邮件（没有限制）

在此日期之后，我的帐户受到每日限制（每天 20100 封电子邮件（20000 可计费））。

谁能解释一下为什么设置这个限制以及将来是否会增加或减少？

文档没有变化

[Google App Engine 配额邮件](https://developers.google.com/appengine/docs/quotas?hl=ka#Mail)

但现在每日发送限制减少了。

谢谢你。

# javascript - 什么叫做摩卡

> ID：13854029
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:13:17.940
> 
> 标签：javascript

我正在从这个[站点](http://www.crockford.com/javascript/javascript.html)学习 JavaScript 内容。在第一行，他们提到了`JavaScript, aka Mocha`. 这里是什么意思`Mocha`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T06:15:25.603

它是以 Mocha 的名义开发的（由 Netscape 开发）

链接：[http ://en.wikipedia.org/wiki/JavaScript](http://en.wikipedia.org/wiki/JavaScript)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:17:16.377

它们只是指 Javascript 已知的众多名称之一。

Javascript 的正式名称——即标准社区制定所有规则的名称是[Ecmascript](http://www.ecma-international.org/publications/standards/Ecma-262.htm)。

注意：正如另一个答案表明它是在名称下开发的，`Mocha`但这从来都不是用于任何发行版的名称。第一个发行版名称是 LiveScript，不久后改为 Javascript，基本上利用了免费宣传的优势，当时 Java 越来越流行。

因此，实际上它与 java 无关时的名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T06:18:59.407

raghavv@ 提供了正确答案。

如果您现在搜索 JavaScript 和 Mocha，您很可能会遇到[Mocha ：一个用于](http://visionmedia.github.com/mocha/)[node.js](http://nodejs.org/)的 JavaScript 测试框架，同名。

# hook - Webappclass 加载器无法在挂钩中加载超类？

> ID：13854030
> 
> 赞同：0
> 
> 时间：2012-12-13T06:13:18.697
> 
> 标签：hook, liferay, classloader, noclassdeffounderror

我正在使用 liferay ce 6.1.0。我需要在挂钩中扩展 LayoutAction 类。但是类加载器无法在挂钩中加载该类

```
Caused by: java.lang.NoClassDefFoundError: com/liferay/portal/action/LayoutAction
java.lang.ClassNotFoundException: com.liferay.portal.action.LayoutAction
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1688) 
```

这是类加载器的问题还是我应该使用以下不同的子类来扩展。提前致谢

我想重写 LayoutAction 类的 includeLayoutContent() 方法，以便跟踪页面的查看次数。如果无法扩展此类，是否有任何其他方法或类可以扩展以实现相同的效果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:25:42.607

`com.liferay.portal.action.LayoutAction`位于 portal-impl.jar 中，钩子无法使用。因此你不能这样做。

~~如果你能给我们一个提示，你想用这个实现什么，有人可能会告诉你如何做你想做的事。~~

通过您添加的信息，我将给您一个提示：通常，每个页面浏览的写入操作被认为是非常昂贵的：您的门户网站的性能将因此受到影响。我宁愿建议使用外部工具，如 google anayltics、piwik 或类似工具来生成统计信息，包括特定页面的综合浏览量。

如果您可以忍受较低的潜在性能，另一种方法是在您的主题中嵌入这样的方法 - 主题可以访问当前页面并可以使用它执行其他功能。最好将其放置在页面末尾，此时其他所有内容都已呈现并发送到客户端。

# asp.net-mvc-3 - 包含路径表达式必须引用在类型上定义的导航属性

> ID：13854033
> 
> 赞同：3
> 
> 时间：2012-12-13T06:13:22.433
> 
> 标签：asp.net-mvc-3, collections, model, path

我有两个模型说**“页面”**和**“产品”**产品的页面 ID 是指页面的 ID

在我的产品索引视图中，我需要将页面列表作为下拉列表，因为我正在使用

```
public ViewResult Index()
{
   var products = _db.Products.Include(p => p.Page);
            return View(products.ToList());
} 
```

但我只需要那些**PageGroup**属性值为*'Product' 的*页面。为此我使用

```
public ViewResult Index()
{
    var products = _db.Products.Include(p => p.Page.PageGroup
                                   .Contains(PageGroup.Product.ToString()));
    return View(products.ToList());
} 
```

它给出如下错误：

> 包含路径表达式必须引用在类型上定义的导航属性。对引用导航属性使用虚线路径，对集合导航属性使用 Select 运算符。参数名称：路径

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T20:30:55.040

代替

`var products = _db.Products.Include(p => p.Page.PageGroup.Contains(PageGroup.Product.ToString()));`

你想要这样的东西。

`var products = _db.Products.Include(p => p.Page).Where(p => p.Page.PageGroup.Contains(PageGroup.Product.ToString());`

您可能必须包含更多子属性（例如 PageGroup）来检查您的实际情况，但如果不了解您的数据模型，我不能肯定地说。

# java - 在java中向多个收件人发送邮件

> ID：13854037
> 
> 赞同：93
> 
> 时间：2012-12-13T06:13:32.910
> 
> 标签：java, jakarta-mail

我想使用以下方法向多个收件人发送消息：

```
message.addRecipient(Message.RecipientType.TO, String arg1); 
```

**或者**

```
message.setRecipients(Message.RecipientType.TO,String arg1); 
```

但一个困惑是，在第二次争论中，如何传递多个地址，例如：

```
message.addRecipient(Message.RecipientType.CC, "abc@abc.com,abc@def.com,ghi@abc.com"); 
```

**或者**

```
message.addRecipient(Message.RecipientType.CC, "abc@abc.com;abc@def.com;ghi@abc.com"); 
```

我也可以使用其他方法发送消息，但想知道上述方法的目的。如果我不能使用它（因为到目前为止我还没有得到上述要求的任何答案）那么这个方法需要在邮件 API 中。

* * *

## 回答 #1

> 赞同：123
> 
> 时间：2012-12-13T06:19:00.117

如果您`addRecipient`多次调用，它将给定收件人添加到给定时间的收件人列表（TO，CC，BCC）

例如：

```
message.addRecipient(Message.RecipientType.CC, InternetAddress.parse("abc@abc.com"));
message.addRecipient(Message.RecipientType.CC, InternetAddress.parse("abc@def.com"));
message.addRecipient(Message.RecipientType.CC, InternetAddress.parse("ghi@abc.com")); 
```

将 3 个地址添加到 CC

* * *

如果您希望一次添加所有地址，您应该使用`setRecipients`or`addRecipients`并为其提供地址数组

```
Address[] cc = new Address[] {InternetAddress.parse("abc@abc.com"),
                               InternetAddress.parse("abc@def.com"), 
                               InternetAddress.parse("ghi@abc.com")};
message.addRecipients(Message.RecipientType.CC, cc); 
```

* * *

您还可以使用`InternetAddress.parse`来解析地址列表

```
message.addRecipients(Message.RecipientType.CC, 
                      InternetAddress.parse("abc@abc.com,abc@def.com,ghi@abc.com")); 
```

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2014-04-02T14:54:23.937

大家好，此代码对我有用，请尝试使用此代码向多个收件人发送邮件

```
private String recipient = "yamabs@gmail.com ,priya@gmail.com ";
String[] recipientList = recipient.split(",");
InternetAddress[] recipientAddress = new InternetAddress[recipientList.length];
int counter = 0;
for (String recipient : recipientList) {
    recipientAddress[counter] = new InternetAddress(recipient.trim());
    counter++;
}
message.setRecipients(Message.RecipientType.TO, recipientAddress); 
```

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-11-13T18:58:57.563

只需使用带有逗号分隔的多个地址的方法 message.setRecipients ：

```
message.setRecipients(Message.RecipientType.TO, InternetAddress.parse("abc@abc.com,abc@def.com,ghi@abc.com"));

message.setRecipients(Message.RecipientType.CC, InternetAddress.parse("abc@abc.com,abc@def.com,ghi@abc.com")); 
```

只有一个地址也可以正常工作

```
message.setRecipients(Message.RecipientType.TO, InternetAddress.parse("abc@abc.com")); 
```

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2014-06-12T15:34:58.693

试试这个方法：

```
message.setRecipients(Message.RecipientType.TO, InternetAddress.parse("mail3@mail.com"));
String address = "mail@mail.com,mail2@mail.com";
InternetAddress[] iAdressArray = InternetAddress.parse(address);
message.setRecipients(Message.RecipientType.CC, iAdressArray); 
```

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2012-12-13T06:56:41.730

您可以使用逗号分隔多个地址

```
if (cc.indexOf(',') > 0)
    message.setRecipients(Message.RecipientType.CC, InternetAddress.parse(cc));   
else
    message.setRecipient(Message.RecipientType.CC, new InternetAddress(cc)); 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2019-01-16T14:09:40.947

Internet 电子邮件地址格式 ( [`RFC 822`](https://www.ietf.org/rfc/rfc0822.txt?number=822))

> `(,)`逗号分隔的地址序列

javax.mail - 1.4.7`parse( String[] )`是不允许的。所以我们必须将逗号分隔的地址序列赋予[`InternetAddress`](https://docs.oracle.com/javaee/7/api/javax/mail/internet/InternetAddress.html)对象。地址必须遵循 RFC822 语法。

```
String toAddress = "mail@mail.com,mail2@mail.com";
InternetAddress.parse( toAddress ); 
```

> `(;)`分号分隔的地址序列 « 如果[地址列表组](http://jkorpela.fi/rfc/822addr.html)带有分隔符，则为“;” 然后使用 split 方法转换为 String 数组以使用以下函数。

```
String[] addressList = { "mail@mail.com", "mail2@mail.com" };

String toGroup = "mail@mail.com;mail2@mail.com";
String[] addressList2 = toGroup.split(";");

setRecipients(message, addressList); 
```

```
public static void setRecipients(Message message, Object addresslist) throws AddressException, MessagingException {
    if ( addresslist instanceof String ) { // CharSequence
        message.setRecipients(Message.RecipientType.TO, InternetAddress.parse( (String) addresslist  ));
    } else if ( addresslist instanceof String[] ) { // String[] « Array with collection of Strings/
        String[] toAddressList = (String[]) addresslist;
        InternetAddress[] mailAddress_TO = new InternetAddress[ toAddressList.length ];
        for (int i = 0; i < toAddressList.length; i++) {
            mailAddress_TO[i] = new InternetAddress( toAddressList[i] );
        }
        message.setRecipients(Message.RecipientType.TO, mailAddress_TO);
    }
} 
```

完整示例：

```
public static Properties getMailProperties( boolean addExteraProps ) {
    Properties props = new Properties();
    props.put("mail.transport.protocol", MAIL_TRNSPORT_PROTOCOL);
    props.put("mail.smtp.host", MAIL_SERVER_NAME);
    props.put("mail.smtp.port", MAIL_PORT);

    // Sending Email to the GMail SMTP server requires authentication and SSL.
    props.put("mail.smtp.auth", true);
    if( ENCRYPTION_METHOD.equals("STARTTLS") ) {
        props.put("mail.smtp.starttls.enable", true);
        props.put("mail.smtp.socketFactory.port", SMTP_STARTTLS_PORT); // 587
    } else {
        props.put("mail.smtps.ssl.enable", true);
        props.put("mail.smtp.socketFactory.port", SMTP_SSL_PORT); // 465
    }
    props.put("mail.smtp.socketFactory", SOCKETFACTORY_CLASS);
    return props;
}

public static boolean sendMail(String subject, String contentType, String msg, Object recipients) throws Exception {

    Properties props = getMailProperties( false );
    Session mailSession = Session.getInstance(props, null);
    mailSession.setDebug(true);

    Message message = new MimeMessage( mailSession );
    message.setFrom( new InternetAddress( USER_NAME ) );

    setRecipients(message, recipients);

    message.setSubject( subject );

    String htmlData = "<h1>This is actual message embedded in HTML tags</h1>";
    message.setContent( htmlData, "text/html");

    Transport transport = mailSession.getTransport( MAIL_TRNSPORT_PROTOCOL );
    transport.connect(MAIL_SERVER_NAME, Integer.valueOf(MAIL_PORT), USER_NAME, PASSWORD);
    message.saveChanges(); // don't forget this

    transport.sendMessage(message, message.getAllRecipients());
    transport.close();
} 
```

* * *

> 使用 Appache `SimpleEmail`-`commons-email-1.3.1`

例子：`email.addTo( addressList );`

```
public static void sendSimpleMail() throws Exception {
    Email email = new SimpleEmail();
    email.setSmtpPort(587);

    DefaultAuthenticator defaultAuthenticator = new DefaultAuthenticator( USER_NAME, PASSWORD );

    email.setAuthenticator( defaultAuthenticator );
    email.setDebug(false);
    email.setHostName( MAIL_SERVER_NAME );
    email.setFrom( USER_NAME );
    email.setSubject("Hi");
    email.setMsg("This is a test mail ... :-)");

    //email.addTo( "mail@mail.com", "Yash" );
    String[] toAddressList = { "mail@mail.com", "mail2@mail.com" }
    email.addTo( addressList );

    email.setTLS(true);
    email.setStartTLSEnabled( true );
    email.send();
    System.out.println("Mail sent!");
} 
```

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2013-07-03T16:05:29.123

所以...花了好几个月，但仍然...您可以使用“，”作为分隔符和

```
message.setRecipients(Message.RecipientType.CC, "abc@abc.com,abc@def.com,ghi@abc.com"); 
```

没关系。至少在 JavaMail 1.4.5 中

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2014-08-14T15:51:26.953

InternetAddress.Parse is going to be your friend! See the worked example below:

```
String to = "med@joe.com, maz@frank.com, jezz@jam.com";
String toCommaAndSpaces = "med@joe.com maz@frank.com, jezz@jam.com"; 
```

1.  Parse a comma-separated list of email addresses. Be strict. Require comma separated list.
2.  If strict is true, many (but not all) of the [RFC822](http://www.ietf.org/rfc/rfc0822.txt?number=822) syntax rules for emails are enforced.

    ```
    msg.setRecipients(Message.RecipientType.CC,
    InternetAddress.parse(to, true)); 
    ```

3.  Parse comma/space-separated list. Cut some slack. We allow spaces seperated list as well, plus invalid email formats.

    ```
    msg.setRecipients(Message.RecipientType.BCC,
    InternetAddress.parse(toCommaAndSpaces, false)); 
    ```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2015-07-25T05:41:10.070

```
String[] mailAddressTo = new String[3];    
mailAddressTo[0] = emailId_1;    
mailAddressTo[1] = emailId_2;    
mailAddressTo[2] = "xyz@gmail.com";

InternetAddress[] mailAddress_TO = new InternetAddress[mailAddressTo.length];

for (int i = 0; i < mailAddressTo.length; i++)
{
    mailAddress_TO[i] = new InternetAddress(mailAddressTo[i]);
}

message.addRecipients(Message.RecipientType.TO, mailAddress_TO);ress_TO = new InternetAddress[mailAddressTo.length]; 
```

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2019-05-18T18:21:54.710

简单的方法

```
String[] listofIDS={"ramasamygms@gmail.com","ramasamycse94@gmail.com"};

for(String cc:listofIDS) {
    message.addRecipients(Message.RecipientType.CC,InternetAddress.parse(cc));
} 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2014-11-03T08:04:52.960

如果您想使用 MimeMessageHelper 作为抄送发送

```
List<String> emails= new ArrayList();
email.add("email1");
email.add("email2");
for (String string : emails) {
message.addCc(string);
} 
```

同样，您可以使用添加多个收件人。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2012-12-13T06:59:03.743

您可以使用以下方法的 n 个收件人：

```
 String to[] = {"a@gmail.com"} //Mail id you want to send;
  InternetAddress[] address = new InternetAddress[to.length];
  for(int i =0; i< to.length; i++)
  {
      address[i] = new InternetAddress(to[i]);
  }

   msg.setRecipients(Message.RecipientType.TO, address); 
```

# java - 我需要获取路径而不是在浏览对话框中选择文件名来保存文件

> ID：13854038
> 
> 赞同：1
> 
> 时间：2012-12-13T06:13:43.360
> 
> 标签：java, html, security, file-upload, forms

这是我的代码。这将只采用文件名。我希望我的浏览对话框选择路径位置来保存我的文件。

```
<form name="uploadFile" method="POST"  
 enctype="multipart/form-data">
     <input type="file" name="myfile"><br />
     <input type="submit" value="Submit" /> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:39:47.077

我不认为这是可能的。服务器无法知道用户保存文件的位置。即使你得到了路径，那又如何呢？您无法访问客户端的机器。您不必担心路径。只需给用户一个要下载的文件，浏览器就会打开一个对话框，询问他/她的路径。

# iphone - 无法从 tableView 中选择单元格

> ID：13854042
> 
> 赞同：0
> 
> 时间：2012-12-13T06:14:10.807
> 
> 标签：iphone, objective-c, ios, ipad, uitableview

嗨朋友们，这是我面临的一个奇怪问题，我`UItableCustomCells`在一个分组的 TableView 中使用多个部分。

我只能选择第一个部分的行，然后当我单击另一个部分的行时，它的选择方法不起作用，我不明白哪里出错了，我的`cellForRowAtIndexPath`代码如下：-

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    NSString *CellIdentifier =[NSString stringWithFormat:@"%d",indexPath.row];
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    //if (cell == nil) {

    if(indexPath.section==0)
    {
        if(indexPath.row==0)
        {
            [[NSBundle mainBundle]loadNibNamed:@"CustomCell1" owner:self options:nil];
            cell = self.Cell1;
            self.Cell1 = nil;

            txtincidentName = (UITextField*)[cell.contentView viewWithTag:1];

        }
        else if(indexPath.row==1)
        {
            [[NSBundle mainBundle]loadNibNamed:@"CustomCell2" owner:self options:nil];
            cell = self.Cell2;
            self.Cell2 = nil;
             lblDatefirst = (UILabel*)[cell.contentView viewWithTag:2];
            btnCalfirst  = (UIButton*)[cell.contentView viewWithTag:3];
            lblTimeFirst = (UILabel*)[cell.contentView viewWithTag:4];

        }
        else if(indexPath.row==2)
        {
            [[NSBundle mainBundle]loadNibNamed:@"CustomCell2" owner:self options:nil];
            cell = self.Cell2;
            self.Cell2 = nil;

            lblDatefirst = (UILabel*)[cell.contentView viewWithTag:2];
            btnCalfirst  = (UIButton*)[cell.contentView viewWithTag:3];
            lblTimeFirst = (UILabel*)[cell.contentView viewWithTag:4];
            lblInciTime =(UILabel*)[cell.contentView viewWithTag:9];
            lblInciTime.text=@"Date/Time";

        }

    }
    else if(indexPath.section==1)
    {
        if(indexPath.row==0)
        {
            [[NSBundle mainBundle]loadNibNamed:@"CustomCell3" owner:self options:nil];
            cell = self.Cell3;
            self.Cell3 = nil;

            btndropDown1 = (UIButton*)[cell.contentView viewWithTag:5];
            btndropDown2  = (UIButton*)[cell.contentView viewWithTag:6];
            btndropDown3 = (UIButton*)[cell.contentView viewWithTag:7];

        }
        else if(indexPath.row==1)
        {
            [[NSBundle mainBundle]loadNibNamed:@"CustomCell4" owner:self options:nil];
            cell = self.Cell4;
            self.Cell4 = nil;
             txtViewofdetails = (UITextView*)[cell.contentView viewWithTag:7];
        }

    }

        return cell;

} 
```

**模拟器图像**

![在此处输入图像描述](../Images/55e599aac2e4485e55850d25bca36ae3.png)

请帮助和指导谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:17:35.043

不要像这样从笔尖加载细胞。而是在 NIB 中使用重用标识符注册单元。这将导致出队根据标识符选择正确的单元格原型。

您当前的方法很可能会弄乱表格视图的触摸处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:31:28.277

嘿试试这种类型的概念和代码流

```
 NSString *CellIdentifier =[NSString stringWithFormat:@"%d%d",indexPath.section,indexPath.row];
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) 
    {
        NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"CustomCell1" owner:self options:nil];

        for (id currentObject in topLevelObjects){
            if ([currentObject isKindOfClass:[UITableViewCell class]]){
                cell =  (CustomCell1 *) currentObject;
                break;
            }
        }
    } 
```

# ios5 - UIButton 内部事件在 ios5 中不工作而在 ios6 中正常

> ID：13854045
> 
> 赞同：7
> 
> 时间：2012-12-13T06:14:30.743
> 
> 标签：ios5, ios6, uibutton, storyboard

我有一个包含大量 UIButton 的项目，使用 xcode 4.5 和故事板和 ARC。在ios6中测试后，一切正常。但是在 ios5 中，UIButton touch up 里面的事件不起作用，动作没有被调用。我尝试使用 touch down 并且它有效。但是，我有很多 UIButton，我无法一一更改。更重要的是，触地事件确实提供了良好的体验。

我在许多视图控制器中使用了以下代码：在 viewDidLoad 中：

```
UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self
                                                                      action:@selector(dismissKeyboard)];

[self.view addGestureRecognizer:tap];

-(void)dismissKeyboard {
       [aTextField resignFirstResponder];
} 
```

这可能是原因。我稍后会检查它。但它适用于ios6。你知道出了什么问题吗？非常感谢！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-16T06:51:24.947

我对你有同样的问题。那是因为当您注册的gestureRecognizer 捕获事件时，iOS5 中的触摸事件被阻止。

有两种解决方案。

一：

1）在您的视图中添加一个新视图。它应该与按钮具有相同的级别。按钮的优先级应该高于新视图。

2) 将“addGestureRecognizer”的调用更改为新视图。

```
[self.newView addGestureRecognizer:tap]; 
```

二：

1）实现下面的代码。当点在按钮中时，您应该返回 NO。

```
- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer
{
    CGPoint point = [gestureRecognizer locationInView:self.view];

    NSLog(@"x = %.0f, y = %.0f", point.x, point.y);
    if (CGRectContainsPoint(self.testBtn.layer.frame, point))
        return NO;

    return YES;
} 
```

附言。您应该导入 QuartzCore.h 以访问层的属性。

```
#import <QuartzCore/QuartzCore.h> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-05-15T08:01:40.977

只需在 UITapGestureRecognizer 点击上使用属性“cancelsTouchesInView”（否）

例子：

```
UITapGestureRecognizer *gesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(didTap)];
gesture.cancelsTouchesInView = NO;
[self.view addGestureRecognizer:gesture]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-07-06T15:52:59.773

覆盖您的按钮父视图 pointinside 方法，设置包含您的按钮的新自定义框架大小。

# go - Go 中的资源文件

> ID：13854048
> 
> 赞同：5
> 
> 时间：2012-12-13T06:14:47.447
> 
> 标签：go

我有一些运行某些`_test`案例所需的二进制文件。

目前，这些文件的相对路径被硬编码到测试中，我不喜欢这样，因为如果您更改文件夹层次结构中的任何内容并使测试变得脆弱，测试就会中断。

是否有处理此问题的首选最佳实践以及一般的资源文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T08:22:40.147

测试资源名称可能是硬编码的，但路径不必是硬编码的。

```
(09:13) jnml@fsc-r550:~/src/tmp/SO/13854048$ ls -a
.  ..  a_test.go
(09:13) jnml@fsc-r550:~/src/tmp/SO/13854048$ cat a_test.go 
package foo

import (
        "testing"
        "io/ioutil"
)

func Test(t *testing.T) {
        b, err := ioutil.ReadFile("foo")
        if err != nil {
                t.Fatal(err)
        }

        t.Logf("resource content is: %s", b)
}
(09:13) jnml@fsc-r550:~/src/tmp/SO/13854048$ go test -v
=== RUN Test
--- FAIL: Test (0.00 seconds)
a_test.go:11:         open foo: no such file or directory
FAIL
exit status 1
FAIL        tmp/SO/13854048        0.005s
(09:14) jnml@fsc-r550:~/src/tmp/SO/13854048$ 
```

正确，没有这样的资源（还）。让我们创建它。

```
(09:14) jnml@fsc-r550:~/src/tmp/SO/13854048$ echo blah > foo
(09:14) jnml@fsc-r550:~/src/tmp/SO/13854048$ go test -v
=== RUN Test
--- PASS: Test (0.00 seconds)
a_test.go:14:         resource content is: blah
PASS
ok          tmp/SO/13854048        0.007s
(09:14) jnml@fsc-r550:~/src/tmp/SO/13854048$ cd
(09:14) jnml@fsc-r550:~$ go test -v tmp/SO/13854048
=== RUN Test
--- PASS: Test (0.00 seconds)
a_test.go:14:         resource content is: blah
PASS
ok          tmp/SO/13854048        0.005s
(09:14) jnml@fsc-r550:~$ 
```

请注意（在上面的最后一次运行中）即使`go test`从其他地方调用 cwd 也是正确的。

# arrays - 使用 perl 在列中动态显示数组内容

> ID：13854056
> 
> 赞同：4
> 
> 时间：2012-12-13T06:15:24.957
> 
> 标签：arrays, perl, loops

我想在列视图中显示数组内容。例如：我的数组包含 9 个值，如下所示：

```
@numbers = ("One","Two","Three","Four","Five","Six","Seven","Eight","Nine"); 
```

我想在 2 列中显示值，如下所示：

```
One      Two
Three    Four
Five     Six
Seven    Eight
Nine 
```

我可以使用表格和显示如上所示，但我想动态地使用循环对一个非常大的数组做同样的事情。

谁能帮我解决这个问题。

谢谢你

阿维内什

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-13T06:19:38.437

使用拼接，您还可以修改列数：

```
use strict;
use warnings;

my @numbers = ("One","Two","Three","Four","Five","Six","Seven","Eight","Nine");
my $numcols = 2;
while (@numbers) {
  print join("\t", splice(@numbers,0, $numcols)), "\n";
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-13T08:38:16.037

一个简单的数学技巧也可以做到这一点。检查数组索引是否可被 2 整除。如果是，则打印一个换行符，只要它不是第 0 个元素。

```
my @numbers = ("One","Two","Three","Four","Five","Six","Seven","Eight","Nine");

foreach my $i (0..$#numbers) {
  print "\n" if ($i%2 == 0 and $i != 0);
  print $numbers[$i] . "\t";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T08:10:31.200

如果你想要一些可打印的东西而不是标签，

```
push @data, '' if @data % 2 != 0;

my $col1_width = 0;
my $col2_width = 0;
for (my $i=0; $i<@data; ) {
   $col1_width = length($data[$i]) if length($data[$i]) > $col1_width; ++$i;
   $col2_width = length($data[$i]) if length($data[$i]) > $col2_width; ++$i;
}

my $format = "%-${col1_width}s  %-${col2_width}s\n";
printf($format, splice(@data, 0, 2))
   while @data; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T11:49:11.510

您应该利用[CPAN](http://www.cpan.org/)的力量，使用模块[Data::Tabulator](https://metacpan.org/module/Data%3a%3aTabulator)。它完全符合您的需要，*“从列表（一维数组）创建一个表（二维数组）”*。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T11:39:41.697

您还可以使用**地图**：

```
map { print $numbers[$_] . ( ($_ + 1) % $numcols == 0 ? "\n" : "\t" ) } 0..$#numbers; 
```

或者：

```
@numbers = map { $numbers[$_] . ( ($_ + 1) % $numcols == 0 ? "\n" : "\t" ) } 0..$#numbers;
print @numbers; 
```

# php - SimplePie 获取无效的 XML 文档

> ID：13854059
> 
> 赞同：2
> 
> 时间：2012-12-13T06:15:41.273
> 
> 标签：php, xml-parsing, simplepie

我正在使用一个名为[SimplePie](http://simplepie.org)的非常酷的 php 库（不管它叫什么） 。我正在使用最新版本。

我有这个代码：

```
$url = 'http://www.seobook.com/feeds.shtml';
$SimplePieFeed->set_feed_url($url);
$SimplePieFeed->force_feed(true);
$SimplePieFeed->enable_order_by_date(true);
$success = $SimplePieFeed->init();
if( !$SimplePieFeed->error() ) {
    foreach( $SimplePieFeed->get_items() as $item ) {
      ......
    }
} else {
    print_r( $SimplePieFeed->error() );
} 
```

为什么当我运行此代码时会出现这种错误：

> 此 XML 文档无效，可能是由于字符无效。XML 错误：第 8 行第 76 列的格式不正确（令牌无效）

我尝试在[Simplepie 的演示](http://simplepie.org/demo/?feed=http://www.seobook.com/feeds.shtml)中运行这个，一切都很顺利。为什么当我最终运行它时会出现这种错误？是因为缓存吗？我注意到 Simplepie 将提要存储在缓存中。我已经尝试过`$SimplePieFeed->enable_cache(false);`，但我仍然收到该错误。我什至不确定这是否与这种错误有关。哈哈！

您的帮助将不胜感激和奖励！：非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-31T09:47:05.950

很简单，您的 xml 文件有问题，您应该重新制作 .xml 文件，如果您使用的是名为 google 站点地图的 wordpress 简单使用插件，它非常好。

如果您使用其他东西，如 php 或 html 基础站点，您应该制作有效的 xml 文档生成器，如此处列出的[一些](http://seoskylimit.com/)，

```
xml-sitemaps.com
xmlgrid.net   (editor viewer)
web-site-map.com 
```

愿它对你的情况帮助不大。

# jquery - jquery keydown 事件无法正常工作

> ID：13854061
> 
> 赞同：2
> 
> 时间：2012-12-13T06:15:44.360
> 
> 标签：jquery

```
 $("#id").keydown(function(evt) {
     alert('Hello');
 }); 
```

我试过这个，但是这不起作用，你能纠正这个吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:20:53.923

它有效：http: [//jsfiddle.net/rrikesh/v7MdG/](http://jsfiddle.net/rrikesh/v7MdG/)

HTML：

```
<input type="text" id="id"> 
```

JS：

```
$("#id").keydown(function(evt) {
     alert('Hello');
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:24:24.813

你的代码是正确的。我认为您必须确保包含 jquery。并确保您的文本元素具有与您的 jquery 代码中使用的相同的 ID。

在这种情况下，请确保输入类型如下。

```
 <input type="text" id="id" /> 
```

还按 F12 并在控制台中查看发生了什么错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-14T06:16:28.440

你应该`jquery.keydown`在`$(document).ready`. 还要确保您拥有独一无二`id`的`div`.

HTML：

```
<input  id="yourId" type="text"> 
```

JS：

```
$(document).ready(function () {
    $("#yourId").keydown(function(evt) {
         alert('Hello');
    }); 
}); 
```

# ruby-on-rails - 传入数组的活动记录选择

> ID：13854063
> 
> 赞同：0
> 
> 时间：2012-12-13T06:15:46.750
> 
> 标签：ruby-on-rails, activerecord, select

如何显示 status.name 等于数组中项目的所有票证？

带有 select 的单个项目似乎像这样工作

```
@project_tickets = @project.tickets.select { |m| m.status.name == "new"] } 
```

但不是一系列项目

```
params[:array_here] = ["new","implemented"]

@project = Project.find_by_id(params[:project_id])
@project_tickets = @project.tickets.select { |m| m.status.name == [params[:array_here]] } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:28:37.567

你要求的方式是这样的：

```
@project_tickets = @project.tickets.select { |m| params[:array_here].include? m.status.name } 
```

但是你真的应该把它委托给数据库。

```
@project_tickets = Ticket.includes(:status).where(:project_id => @project.id, :status => { :name => params[:array_here] }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:20:02.920

不`where`工作？

```
@project_tickets = @project.tickets.where("name = ?", params[:array_here]) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:21:08.853

```
 @new_tickets=@project.tickets.select { |m| m.status.name == params[:array_here][0] }

 @implemented_tickets=@project.tickets.select { |m| m.status.name == params[:array_here][1] } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:24:59.663

```
params[:array_here] = ["new","implemented"]

@project = Project.find_by_id(params[:project_id])
@project_tickets = @project.tickets.select { |m| params[:array_here].include?(m.status.name) } 
```

# git - 如何在 git 中跟踪具有相同核心文件的单独项目

> ID：13854066
> 
> 赞同：2
> 
> 时间：2012-12-13T06:16:00.290
> 
> 标签：git, version-control, development-environment, git-submodules, git-subtree

我使用 git 版本控制，并且我有多个使用相同基目录的项目，尽管某些更改是针对特定项目的。

有没有一种方法可以使用相同的 git repo 跟踪超级文件夹（在我的情况下为 root/private/core）以及公共和私有项目特定目录。另外，如果我在一个项目中对核心文件进行更改，我希望在其他项目 git repo 中也进行更改。

我想出的方法是在根文件夹中创建一个 git repo，然后为项目创建分支，而不是跟踪其他项目文件。但是使用这种方法，我必须合并其他项目中的核心更改，并且也存在逻辑错误，因为在这种情况下，分支将用作项目。

我也研究过子模块，但这似乎也不是最好的解决方案。如果有一个解决方案需要我更改我的项目目录系统，我可以做到，尽管我想分别保留公共、私有和核心目录。

目前我的目录的简化示例：

*   根
    *   私人的
        *   核
        *   项目
            *   项目1
            *   项目2
    *   上市
        *   项目1
        *   项目2

在私有项目文件夹中有特定于项目的核心 php 扩展，而在公共项目文件夹中只有样式表、javascript 和索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T18:28:16.047

而不是子模块（有自己的限制 - “你不能从主项目中修改子模块的内容” - 并且**会改变**你通常的 Git 工作流程）你可以考虑[git-subtree](https://github.com/apenwarr/git-subtree)，在这种情况下核心将被添加为所有超级项目中的子树（但仍作为单独的仓库存在）。[git-subtree](http://psionides.eu/2010/02/04/sharing-code-between-projects-with-git-subtree/)在让人想起您的状态的情况下的用例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:52:07.723

> 我也研究过子模块，但这似乎也不是最好的解决方案

然而，它可能是一个有效的解决方案：

*   `private`一个父 repo，包括`core`和`project1`作为`project2`子模块
*   `public`父仓库，包括`project1`和`project2`作为子模块

每次修改子模块（如`project1`in `private`）时，您需要：

*   提交，将其推送到上游仓库（与父仓库相同`private`），
*   进入另一个父 repo ( `public`/ `project1`)的同一个子模块
*   git 拉

不完全是微不足道的，但这允许您准确引用每个父 repo 使用的配置（“配置”是您需要的子模块的 SHA1 的确切列表）

# c# - xml 文档异常中禁止的 DTD

> ID：13854068
> 
> 赞同：53
> 
> 时间：2012-12-13T06:16:18.233
> 
> 标签：c#, xml-parsing, xmlreader

尝试在 C# 应用程序中解析 XML 文档时出现此错误：

> “出于安全原因，此 XML 文档中禁止 DTD。要启用 DTD 处理，请将 XmlReaderSettings 上的 ProhibitDtd 属性设置为 false，并将设置传递给 XmlReader.Create 方法。”

作为参考，异常发生在以下代码的第二行：

```
using (XmlReader reader = XmlReader.Create(uri))
{
    reader.MoveToContent(); //here

    while (reader.Read()) //(code to parse xml doc follows). 
```

我对 Xml 的了解非常有限，我不知道 DTD 处理是什么，也不知道如何执行错误消息提示的操作。关于可能导致此问题的原因以及如何解决此问题的任何帮助？谢谢...

* * *

## 回答 #1

> 赞同：78
> 
> 时间：2012-12-13T19:59:14.860

首先，一些背景。

## 什么是 DTD？

您尝试解析的文档包含文档类型声明；如果您查看文档，您会发现在开头附近有一串以相应的 . 开头`<!DOCTYPE`和结尾的字符`>`。这样的声明允许 XML 处理器根据一组声明验证文档，这些声明指定一组元素和属性并限制它们可以具有的值或内容。

由于实体也在 DTD 中声明，因此 DTD 允许处理器知道如何扩展对实体的引用。（实体`pubdate`可能被定义为包含文档的发布日期，例如“2012 年 12 月 15 日”，并在文档中多次引用为`&pubdate;`-- 因为实际日期仅给出一次，在实体声明中，这种用法使得更容易使文档中对出版日期的各种引用保持一致。）

## DTD 是什么意思？

文档类型声明具有纯粹的声明性含义：可以在某个位置找到此文档类型的模式，按照 XML 规范中定义的语法，可以在某个位置找到。

一些由对 XML 基础知识不甚了解的人编写的软件对声明的含义存在基本的混淆；它假定文档类型声明的含义不是*声明性*的（架构在那边），而是*命令性*的（请验证此文档）。您正在使用的解析器似乎就是这样的解析器；它假定通过将具有文档类型声明的 XML 文档交给它，您已经请求了某种处理。它的作者可能会从有关如何接受用户的运行时参数的补习课程中受益。（您会看到某些人理解声明性语义是多么困难：即使是某些 XML 解析器的创建者有时也无法理解它们，而是陷入了命令式思维。叹息。）

## 他们在谈论的这些“安全原因”是什么？

一些有安全意识的人认为 DTD 处理（验证，或未经验证的实体扩展）构成安全风险。使用实体扩展，可以很容易地制作一个非常小的 XML 数据流，当所有实体都完全展开时，它会扩展为一个非常大的文档。如果您想了解更多信息，请搜索有关所谓的“十亿笑声攻击”的信息。

防止十亿笑攻击的一种明显方法是，对于那些在用户提供或不受信任的数据上调用解析器的人来说，在限制内存量或允许解析过程消耗的时间的环境中调用解析器。自 1960 年代中期以来，此类资源限制一直是操作系统的标准部分。然而，出于对我来说仍然模糊不清的原因，一些具有安全意识的人认为正确的答案是在不受*资源限制*的情况下对不受信任的输入运行解析器，他们显然认为只要您无法验证输入是安全的反对商定的模式。

这就是为什么您的系统会告诉您您的数据存在安全问题。

对于某些人来说，DTD 是一种安全风险的想法听起来更像是偏执狂，而不是理智，但我不相信他们是正确的。请记住 (a) 健康的偏执狂是安全专家在生活中所需要的，并且 (b) 任何真正对安全感兴趣的人在任何情况下都会坚持资源限制——在解析过程中存在资源限制的情况下，DTD 是无害。禁止 DTD 不是偏执狂，而是拜物教。

* * *

现在，有了这个背景......

## 你如何解决这个问题？

最好的解决方案是向您的供应商苦涩地抱怨他们被一个老太太关于 XML 安全性的故事所吸引，并告诉他们如果他们关心安全性，他们应该进行合理的安全性分析，而不是禁止 DTD。

同时，正如消息所示，您可以“将 XmlReaderSettings 上的 ProhibitDtd 属性设置为 false 并将设置传递给 XmlReader.Create 方法。” 如果输入实际上是不受信任的，您还可以研究为进程提供适当资源限制的方法。

作为后备（我不推荐这样做），您可以在输入中注释掉文档类型声明。

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2015-02-11T16:29:01.123

请注意，settings.ProhibitDtd 现在已过时，请改用 DtdProcessing：（Ignore、Parse 或 Prohibit 的新选项）

```
XmlReaderSettings settings = new XmlReaderSettings();
settings.DtdProcessing = DtdProcessing.Parse; 
```

正如这篇文章所述： [十亿笑 XML DoS 攻击是如何工作的？](https://stackoverflow.com/questions/3451203/billion-laughs-dos-attack)

您应该限制字符数以避免 DoS 攻击：

```
XmlReaderSettings settings = new XmlReaderSettings();
settings.DtdProcessing = DtdProcessing.Parse;
settings.MaxCharactersFromEntities = 1024; 
```

* * *

## 回答 #3

> 赞同：29
> 
> 时间：2012-12-19T16:50:03.760

至于解决这个问题，环顾四周，我发现它就像添加一样简单：

```
XmlReaderSettings settings = new XmlReaderSettings();
settings.ProhibitDtd = false; 
```

并将这些设置传递给 create 方法。

[2017 年 3 月 9 日更新]

正如一些人指出的那样，.ProhibitDTDT 现在已被弃用。[下面Aaron Dishno 博士](https://stackoverflow.com/users/4219973/dr-aaron-dishno)的回答显示了替代解决方案

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2020-02-12T13:08:41.677

在尝试所有上述答案均未成功后，我将服务用户从 service@mydomain.com 更改为**service@mydomain.onmicrosoft.com**，现在该应用程序在 azure 中运行时可以正常工作。

或者，如果您在可以更好地控制的环境中遇到此问题；您可以将以下内容粘贴到您的主机文件中：

```
127.0.0.1 msoid.onmicrosoft.com
127.0.0.1 msoid.mydomain.com
127.0.0.1 msoid.mydomain.onmicrosoft.com
127.0.0.1 msoid.*.onmicrosoft.com 
```

# objective-c - 我如何在触摸该对象时访问图像的特定对象

> ID：13854071
> 
> 赞同：1
> 
> 时间：2012-12-13T06:17:00.597
> 
> 标签：objective-c

我正在使用 imageview 并想要访问图像的特定对象，但是在 imageview 上的图像中包含许多对象。触摸特定对象后，整个对象必须反映在另一个图像视图上。

# java - Java简单计算文件中的单词

> ID：13854073
> 
> 赞同：1
> 
> 时间：2012-12-13T06:17:05.347
> 
> 标签：java

我正在创建一个简单的程序来计算论文中的字数、行数和总字符数（不包括空格）。这是一个非常简单的程序。我的文件可以编译，但是当我运行它时，我收到了这个错误：

```
Exception in thread "main" java.util.NoSuchElementException
    at java.util.Scanner.throwFor(Scanner.java:838)
    at java.util.Scanner.next(Scanner.java:1347)
    at WordCount.wordCounter(WordCount.java:30)
    at WordCount.main(WordCount.java:16) 
```

有谁知道为什么会这样？

```
 import java.util.*;
 import java.io.*;
 public class WordCount {
//throws the exception
public static void main(String[] args) throws FileNotFoundException {
    //calls on each counter method and prints each one
    System.out.println("Number of Words: " + wordCounter());
    System.out.println("Number of Lines: " + lineCounter());
    System.out.println("Number of Characters: " + charCounter());

}

//static method that counts words in the text file  
public static int wordCounter() throws FileNotFoundException { 
//inputs the text file
Scanner input = new Scanner(new File("words.txt")); 
    int countWords = 0;
    //while there are more lines
    while (input.hasNextLine()) {
        //goes to each next word
        String word = input.next();
        //counts each word
        countWords++;
    }
    return countWords;
}

//static method that counts lines in the text file  
public static int lineCounter() throws FileNotFoundException {
//inputs the text file
Scanner input2 = new Scanner(new File("words.txt"));
    int countLines = 0;
    //while there are more lines
    while (input2.hasNextLine()) {
        //casts each line as a string
        String line = input2.nextLine();
        //counts each line
        countLines++;
    }
    return countLines;
   }    

//static method that counts characters in the text file 
public static int charCounter() throws FileNotFoundException {
//inputs the text file
Scanner input3 = new Scanner(new File("words.txt"));
    int countChar = 0;
    int character = 0;
    //while there are more lines
    while(input3.hasNextLine()) {
       //casts each line as a string
        String line = input3.nextLine();
        //goes through each character of the line
        for(int i=0; i < line.length(); i++){
            character = line.charAt(i);
             //if character is not a space (gets rid of whitespace)
            if (character != 32){
                //counts each character
                countChar++;
            }
        }           
    }
   return countChar;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:25:04.420

```
public static int wordCounter() throws FileNotFoundException 
{ 
    Scanner input = new Scanner(new File("words.txt")); 
    int countWords = 0;

    while (input.hasNextLine()) {

        if(input.hasNext()) {
            String word = input.next();
            countWords++;
        }
    }

    return countWords;
} 
```

我刚刚`if`在 while 循环中添加了一个条件。只需确保检查是否有要解析的令牌。我只在这个地方改变了。只要确保在需要的地方进行更改。

这个[链接](http://javarevisited.blogspot.in/2012/02/how-to-solve-javautilnosuchelementexcep.html)将提供很好的信息。对此。

希望对您有所帮助。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:26:43.713

如果不查看文件，我真的无法说出问题的确切原因（甚至可能不是那样）。

```
 while (input.hasNextLine()) {
        //goes to each next word
        String word = input.next();
        //counts each word
        countWords++;
    } 
```

是你的问题。如果您`input.hasNextLine()`在 while 条件语句中使用`input.nextLine()`. 由于您正在使用`input.next()`，您应该`input.hasNext()`在 while 循环条件语句中使用。

# xml - 如何获取 XML 文件中某个值的父节点？

> ID：13854074
> 
> 赞同：1
> 
> 时间：2012-12-13T06:17:12.423
> 
> 标签：xml, vb.net

下面是我的 XML 文件和使用值获取父节点的函数。但我很惊讶地得到了父节点。

当值 133 传递给函数时，它应该返回“firstnode”，当 124 传递给函数时，它应该返回“secondnode”

我怎样才能做到这一点？我正在使用 vb.net，但我也可以使用 C#。

我的 XML 文件：

```
<sample>
    <firstnode>
        <id>133</id>
    </firstnode>
    <secondnode>
        <id>124</id>
    </secondnode>
</sample> 
```

我在 vb.net 中的功能：

```
Public Shared Function Get_NodeName_by_ID(ByVal ID As String) As String
    Dim value As String = "" 
    Dim strPath = HttpContext.Current.Server.MapPath("~/" + ConfigurationManager.AppSettings("app_settings").ToString())
    Dim doc As New XmlDocument()
    doc.Load(strPath) 

    Return value
End Function 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:30:14.910

XPath 为您提供了根据您的要求操作 XML 文档的工具。使用下面的 XPath 表达式来执行此操作，抱歉我的代码是 C#，所以您需要将其转换为 vb。

XPath 表达式：sample/*[id=133]

C#代码：

```
//Load FileXML
XmlDocument objFileXML = new XmlDocument();

objFileXML .Load(sFilePath);

//For selecting nodes having given value
XmlNodeList lstNodes = objFileXML .SelectNodes("sample/*[id=133]"); 
```

注意：如果要动态放置值，可以放置任何变量。它只会在您的 vb 代码中。我希望这对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T08:33:51.693

我的这个解决方案工作者。

```
 Dim strPath = HttpContext.Current.Server.MapPath("~/" + ConfigurationManager.AppSettings("settings").ToString())
            Dim doc As New XmlDocument()
            doc.Load(strPath)

        Dim ParentNode As XmlNodeList = doc.GetElementsByTagName("id")
        For Each node As XmlNode In ParentNode 
            If (ID.Equals(node.ChildNodes(0).Value)) Then
                value = node.ParentNode.Name.ToString()
            End If 
        Next 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-26T17:10:38.103

虽然确实可能存在相对晦涩的方法来通过无数 XML 处理技术获得所需的答案/结果，但永远不要忽视低级方法的简单性和速度。

提交的 foreach 迭代的逻辑对我来说看起来很棒，但我没有时间测试它。尽管如此，作者声称他们已经这样做了；粗略一看，发现它的逻辑似乎是合理的；我相信任何选择部署它的人都会很快发现它的价值。它可能是一颗宝石。

但我认为应该提供替代解决方案的原因是，虽然我们必须尊重可以提供此类答案的私密资金，但*我们的*立场是，每当我们遇到此类表面上的困难时，缺乏如此私密的知识（否则我们不会没有问题）。找到一种高级方法来解决我们的问题通常需要大量的研究和思考，然后才能有机会获得这样的前瞻性解决方案。并且，在他们的设计中有特定的意图，他们通常可能不会产生我们所追求的结果。我经常看到寻找和掌握这些方法的努力远远超过了我们自己设计一个合适的方法的工作。

为了避免这些更高的成本，我们应该首先想出如何自己完成所引用的复杂性的目标。在过去对平面文件数据库进行了大量工作*后*，我觉得简单的文本文件处理方法很容易解决您的问题。但是，以下建议方法的潜在成功取决于对随问题提供的 XML 数据格式的不可侵犯的遵守。

因为您的问题对象需要识别 XML*标记*的内容，您可以通过搜索 XML 文件非常简单地解决您的问题，而不是搜索“ *133* ”，而是搜索“ *>133<* ”。例如，如果可能无意中将空格包含在标签中（例如在 "> 133 <" 中），您可以使用正则表达式搜索来解决这种潜在的差异。但是，正确生成的文件不应具有此类预期偏差。尽管如此，您有责任预见这些可能性，并在可能的情况下对其进行*解释*存在。由于正则表达式会减慢您的搜索速度（因为并行功能会减慢 XML 工具的搜索速度），如果不需要正则表达式，请避免正则表达式的额外开销和单调乏味。

在任何情况下，如果文件是按照您仔细问题的标准写入的（正确显示没有空格的值），您可以简单地在文件中搜索“>133<”（消除错误处理“123133”的可能性， “13345”等）。

在文件中获取您成功查找的位置，然后解析以下字符，直到您发现“</”的第一个实例 - 此后仅收集以下字符，直到但不包括下一个“>”。

这种简单而常规的做法将分别产生您所要求的答案，“firstnode”和“secondnode”。

很可能，任何更高级别的方法甚至可能会慢一点，或者需要更多开销（尽管两者的结果在中小型文件上应该几乎是即时的），因为例如，XML 工具通常会查找和处理开始和结束标签 - 如果它识别出该字段表示整数，则检测并删除潜在的空白。我们通常并不真正知道这些内部功能是如何工作的，而是从观察到的行为中知道的。然而，必要时，高级设施经常执行对我们应用程序的显式对象来说可有可无的操作。

因此，考虑到处理文本文件的二进制方法早已被优化，您精心编写的低级方法应该提供最大的速度......即使这实际上只是在超大文件中的考虑因素。速度总是代表效率和理想的编码实践。需要了解的重要一点是，您的低级流程可能至少与使用您自己可能永远找不到的高级 XML 工具一样快——并且可能无法在您可以编写一个简单的低级程序。

# c# - 响应后如何关闭窗口？

> ID：13854078
> 
> 赞同：1
> 
> 时间：2012-12-13T06:17:26.347
> 
> 标签：c#, javascript, jquery, asp.net

我正在使用 ASP.NET 和 C#。我正在生成pdf并使用页面加载发送它

```
response.TransmitFile(file); 
```

所以在此之后我需要关闭这个窗口。我尝试编写用于关闭的动态脚本，但这不起作用。

单击按钮时，我正在使用此代码打开窗口。

```
window.open("Export.aspx?JobNumbers=" + jobnums,'',"resizable=0,scrollbars=0,status=0,height=200,width=500"); 
```

在 export.cs 的页面加载上，我正在使用 itextsharp 创建 pdf。然后使用 this 来创建 pdf。它在使用动态单击的按钮的 buttonclick 上调用

```
 string script = "var btn = document.getElementById('" + Button1.ClientID + "');";
            script += "btn.click();";
            Page.ClientScript.RegisterStartupScript(this.GetType(), "Eport", script, true); 
```

这是按钮的onclick事件。

```
 protected void StartExport(object sender, EventArgs e)
           {
            response.Clear();
            response.ContentType = "application/pdf";
            response.AddHeader("content-disposition", "attachment;filename=" + Path.GetFileName(strFilePath));
            response.TransmitFile(strFilePath);
            response.Flush();  
           } 
```

在此之后，我需要关闭这个 export.aspx 窗口，因为我使用了这个。

```
Page.ClientScript.RegisterStartupScript(this.GetType(), "Export", "window.onfocus=function(){window.close();}", true); 
```

和

```
HttpContext.Current.Response.Write("<script>window.onfocus=function(){window.close();}</script>"); 
```

但没有奏效。

是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:26:19.040

你应该尝试这样的事情：

```
<script>
    $.get('/call/the/page.aspx'); // Send a request to the page from which you Transmit the file

    window.setTimeOut(function() { window.close(); }, 5000);
</script> 
```

这将在 5 秒后尝试关闭窗口，留出足够的时间让下载开始。

你必须把它放在一个页面中，在一个弹出窗口中打开那个页面，这样这个脚本就会执行，请求文件，然后关闭它自己。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-11T13:05:14.963

在正文标签 html 上，您必须设置 event unload="window.close()" 。这对我有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-10T07:01:09.347

我建议写一个HttpHandler：

```
/// <summary>
/// here is your server-side file generator
/// </summary>
public class export : IHttpHandler
{
    public void ProcessRequest(HttpContext context)
    {
        // get some id from query string
        string someid = context.Request.QueryString["id"];

        try
        {
            ...

            context.Response.ContentType = "application/pdf";
            context.Response.HeaderEncoding = System.Text.Encoding.UTF8;
            context.Response.ContentEncoding = System.Text.Encoding.UTF8;
            context.Response.AppendHeader("Content-Disposition", "attachment; filename=filename.pdf");

            context.Response.Write(yourPDF); 
            /* or context.Response.WriteFile(...); */

        }
        catch (Exception ex)
        {
            /* exception handling */
        }
    }

    public bool IsReusable
    {
        get
        {
            return false;
        }
    }
} 
```

不要忘记在 Web.config 中注册它：

```
<system.webServer>
    <handlers>
        <add name="/export_GET" path="/export" verb="GET" type="YourNamespace.export" preCondition="integratedMode,runtimeVersionv4.0" resourceType="Unspecified" />
    </handlers>
</system.webServer> 
```

之后，您只需从 javascript 调用此处理程序，如下所示：

```
ExportFile: function () {

    ...

    var url = "http://" + window.location.hostname + ":4433/export?cid=" + id;

    window.open(url);
} 
```

它会向您显示保存对话框，而无需手动关闭新窗口（它将自动关闭）。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-13T06:29:08.937

由于很明显您无法关闭浏览器因下载文件而创建的窗口（例如下载文件列表/您是否要打开提示），所以我认为问题是“如何关闭已初始化的托管页面”获取 PDF”操作。

由于页面无法知道下载文件的完成情况，如果下载完成，您可能需要询问服务器（即 AJAX erquest） - 它需要一些服务器端代码来跟踪下载（并且您可能无法使用会话状态来存储下载状态，因为它将被其他请求锁定）。当您确认下载完成后，您可以关闭窗口。请注意，用户打开的关闭窗口要么失败，要么至少显示确认“你真的要关闭吗”......

# javascript - Javascript中的数组（包含对象）

> ID：13854084
> 
> 赞同：0
> 
> 时间：2012-12-13T06:18:14.233
> 
> 标签：javascript, arrays

我正在尝试创建一个包含对象的数组数组，

这是我的代码，

```
var objA = new Array();

function myFunction(){
     objA ['1'] = new Array();
     objA ['1'].push({'bird':'parrot','animal':'rabbit'});
     var item = objA ['1'];
     alert(item['bird']);
} 
```

现在理想情况下，上面的代码应该提醒“鹦鹉”，但我得到的是“未定义”。
我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:20:52.910

你应该使用：

```
var item = objA ['1'][0]; 
```

当你这样做时，`objA ['1'].push(..)`你正在将一个项目**附加**到数组`objA ['1']`- 其项目应该由索引引用`objA ['1'][0]`，`objA ['1'][1]`等等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T06:21:14.690

您将属性设置为新数组：

```
objA ['1'] = new Array(); 
```

因此，当然，当您检索它时，*您将返回一个数组*。

```
var item = objA ['1']; 
```

数组没有`bird`属性。但是，数组中的第一项确实如此。

```
alert(item[0]['bird']); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T06:27:58.207

总是`console.log(anything)`为了更好地理解对象。需要进行以下更改。

```
var item = objA ['1'][0]; 
```

[http://jsfiddle.net/rpnzG/](http://jsfiddle.net/rpnzG/)

# android - 图表没有绘图

> ID：13854091
> 
> 赞同：1
> 
> 时间：2012-12-13T06:18:45.760
> 
> 标签：android, sqlite, bar-chart, achartengine

我已经编写了以下代码来绘制图表，但它没有绘制并且我没有任何错误。

请告诉我我做错了什么。我正在尝试通过从数据库中获取值来创建条形图。

```
package flu.solutions.travelsense;

import org.achartengine.ChartFactory;
import org.achartengine.chart.PointStyle;
import org.achartengine.model.TimeSeries;
import org.achartengine.model.XYMultipleSeriesDataset;
import org.achartengine.renderer.XYMultipleSeriesRenderer;
import org.achartengine.renderer.XYSeriesRenderer;

import android.app.Activity;
import android.content.ContentValues;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.graphics.Color;
public class ChartActivity<BMICalculatorDB> extends Activity{

    public ChartActivity() {
        super();
    }
        //public ChartActivity(Context context, String name, CursorFactory factory,
            //int version, DatabaseErrorHandler errorHandler) {
        //super();
        // TODO Auto-generated constructor stub
    //}

        public static final String KEY_BMIID = "bmi_id";
        public static final String KEY_BMIDATA = "bmi_data";
        public static final String KEY_BMIDATE = "bmi_date";

        private static final String DATABASE_NAME = "Jayant";
        private static final String DATABASE_TABLE = "android_metadata";
        private static final int DATABASE_VERSION = 2;

        private DBHelper ourHelper;
        private static Context ourContext;
        private SQLiteDatabase ourDatabase;

        private static class DBHelper extends SQLiteOpenHelper{

            public DBHelper(Context context) {
                super(context, DATABASE_NAME, null, DATABASE_VERSION);
                // TODO Auto-generated constructor stub
            }

            @Override
            public void onCreate(SQLiteDatabase db) {
                // TODO Auto-generated method stub
                db.execSQL( "CREATE TABLE " + DATABASE_TABLE + " (" +
                KEY_BMIID + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                        KEY_BMIDATA + " TEXT NOT NULL, " +
                        KEY_BMIDATE + " TEXT NOT NULL );"
                        );
            }

            @Override
            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                // TODO Auto-generated method stub
                db.execSQL( "DROP TABLE IF EXISTS " + DATABASE_TABLE );
                onCreate(db);
            }

        }

        public void BMICalculatorDB(Context c){
            ourContext = c;
        }

        @SuppressWarnings("unchecked")
        public BMICalculatorDB open(){
            ourHelper = new DBHelper(ourContext);
            ourDatabase = ourHelper.getWritableDatabase();
            return (BMICalculatorDB) this;
        }

        public void close(){
            ourHelper.close();
        }

        public long createEntry( String data, String date ) {
            //, String date 
            // TODO Auto-generated method stub
            ContentValues cv = new ContentValues();
            cv.put(KEY_BMIDATA, data);
            cv.put(KEY_BMIDATE, date);
            return ourDatabase.insert(DATABASE_TABLE, null, cv);
        }

        public String getBMIID() {
            // TODO Auto-generated method stub
            String[] column =
                    new String[]{ KEY_BMIID };
            Cursor c = 
                    ourDatabase.query(DATABASE_TABLE, column, null, null, null, null, null);

            String result = "";
            int iID = c.getColumnIndex(KEY_BMIID);

            for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
                result = result + c.getString(iID);
            }

            return result;
        }

        public String getBMIDataData(){

            String[] column =
                        new String[]{ KEY_BMIDATA };
                Cursor c = 
                        ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

                String result = "";
                int iData = c.getColumnIndex( KEY_BMIDATA );

                for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
                    result = result + c.getString( iData );
                }

            return result;
        }

        public String getBMIDateData(){
            String[] column =
                    new String[]{ KEY_BMIDATE };
            Cursor c = 
                    ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

            String result = "";
            int iDate = c.getColumnIndex( KEY_BMIDATE);

            for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
                result = result + c.getString( iDate );
            }

        return result;
        }

        public void updateEntry( long lId, String mData, String mDate ) {
            // TODO Auto-generated method stub
            ContentValues cvUpdate = new ContentValues();

            cvUpdate.put( KEY_BMIDATA, mData );
            cvUpdate.put( KEY_BMIDATE, mDate );
            ourDatabase.update( DATABASE_TABLE, cvUpdate, KEY_BMIID + " = lId", null );
        }

        public String getData(long l) {
            // TODO Auto-generated method stub
            return null;
        }

        public String getDate(long l) {
            // TODO Auto-generated method stub
            return null;
        }

        public XYMultipleSeriesDataset getDemoDataset(String title) {

            String[] column =
                    new String[]{ KEY_BMIDATA };
            Cursor c = ourHelper.getWritableDatabase().query( DATABASE_TABLE, column, null, null, null, null, null );

            XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

            TimeSeries series = new TimeSeries("Bar1");
            TimeSeries series2 = new TimeSeries(title);

            getBMIDataData();

            while (!c.isAfterLast()) {
                int date = c.getInt((Integer) c.getColumnIndexOrThrow("DAYS"));
                int weight = c.getInt((Integer) c.getColumnIndexOrThrow("TOP 10"));
                series2.add(weight, date);
                c.moveToNext();
            }

            c.close();

            dataset.addSeries(series);
            dataset.addSeries(series2);

            return dataset;
        }

        public Intent getIntent(Context context) {

            //Lager TimeSeries for den første linja
            XYMultipleSeriesDataset dataset = getDemoDataset("Bar1");

            //Kode for render
            XYMultipleSeriesRenderer mRenderer = new XYMultipleSeriesRenderer();

            //Optimalisering linje1
            XYSeriesRenderer renderer = new XYSeriesRenderer();
            renderer.setColor(Color.YELLOW);
            renderer.setPointStyle(PointStyle.CIRCLE);
            renderer.setFillPoints(true);

            // Optimalisering linje2 husk rekke følgen
            XYSeriesRenderer renderer2 = new XYSeriesRenderer();
            renderer2.setColor(Color.BLUE);
            renderer2.setPointStyle(PointStyle.SQUARE);
            renderer2.setFillPoints(true);

            //Legger til render seriene
            mRenderer.addSeriesRenderer(renderer);

            //Optimalisering grafen
            mRenderer.setChartTitle("Test");
            mRenderer.setZoomEnabled(true);
            mRenderer.setZoomButtonsVisible(true);
            mRenderer.setBackgroundColor(Color.BLACK);
            mRenderer.setApplyBackgroundColor(true);
            mRenderer.setXTitle("Dager");
            mRenderer.setShowGrid(true);

            mRenderer.addSeriesRenderer(renderer2);

            Intent intent = ChartFactory.getLineChartIntent(context, dataset, 
                    mRenderer, "Bar Graph Title");

            return intent;

        }

        public void onCreate(SQLiteDatabase db) {
            // TODO Auto-generated method stub

        }

        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            // TODO Auto-generated method stub

        }
    } 
```

编辑的代码。

```
package flu.solutions.travelsense;

import java.util.List;

import org.achartengine.ChartFactory;
import org.achartengine.chart.PointStyle;
import org.achartengine.chart.BarChart.Type;
import org.achartengine.model.CategorySeries;
import org.achartengine.model.TimeSeries;
import org.achartengine.model.XYMultipleSeriesDataset;
import org.achartengine.renderer.SimpleSeriesRenderer;
import org.achartengine.renderer.XYMultipleSeriesRenderer;
import org.achartengine.renderer.XYSeriesRenderer;
import org.achartengine.renderer.XYMultipleSeriesRenderer.Orientation;

import android.content.ContentValues;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.graphics.Color;
import android.view.Menu;

public class DBHelper extends SQLiteOpenHelper{

    public static final String KEY_Primary1 = "pri_id";
    public static final String KEY_Primary2 = "pri_data";

    private static final String DATABASE_NAME = "Jayant";
    private static final String DATABASE_TABLE = "android_data";
    private static final int DATABASE_VERSION = 1;

    String[] titles = new String[] { "Average Booking Value of Transactions Across Time", " " };

    private DBHelper ourHelper;
    @SuppressWarnings("unused")
    private Context ourContext;
    private SQLiteDatabase ourDatabase;

    public DBHelper(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL( "CREATE TABLE " + DATABASE_TABLE + " (" +
                KEY_Primary1 + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                KEY_Primary2 + " TEXT NOT NULL, "                 
                );
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        db.execSQL( "DROP TABLE IF EXISTS " + DATABASE_TABLE );
        onCreate(db);
    }

    public void open() {
        ourDatabase = getWritableDatabase();
    }

    public long createEntry( String data, String date ) {
        //, String date 
        // TODO Auto-generated method stub
        ContentValues cv = new ContentValues();
        cv.put(KEY_Primary2, data);
        return ourDatabase.insert(DATABASE_TABLE, null, cv);
    }

    public String getBMIID() {
        // TODO Auto-generated method stub
        String[] column =
                new String[]{ KEY_Primary1 };
        Cursor c = 
                ourDatabase.query(DATABASE_TABLE, column, null, null, null, null, null);

        String result = "";
        int iID = c.getColumnIndex(KEY_Primary1);

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString(iID);
        }

        return result;
    }

    public String getBMIDataData(){

        String[] column =
                new String[]{ KEY_Primary2 };
        Cursor c = 
                ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

        String result = "";
        int iData = c.getColumnIndex( KEY_Primary2 );

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString( iData );
        }
        return result;
    }

    public void updateEntry( long lId, String mData, String mDate ) {
        // TODO Auto-generated method stub
        ContentValues cvUpdate = new ContentValues();

        cvUpdate.put( KEY_Primary2, mData );
        ourDatabase.update( DATABASE_TABLE, cvUpdate, KEY_Primary1 + " = lId", null );
    }

    public String getData(long l) {
        // TODO Auto-generated method stub
        return null;
    }

    public String getDate(long l) {
        // TODO Auto-generated method stub
        return null;
    }

    public XYMultipleSeriesDataset getDemoDataset(String title) {

        String[] column =
                new String[]{ KEY_Primary2 };
        Cursor c = ourHelper.getWritableDatabase().query( DATABASE_TABLE, column, null, null, null, null, null );

        XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

        TimeSeries series = new TimeSeries("Bar1");
        TimeSeries series2 = new TimeSeries(title);

        getBMIDataData();

        while (!c.isAfterLast()) {
            int date = c.getInt((Integer) c.getColumnIndexOrThrow("DAYS"));
            int weight = c.getInt((Integer) c.getColumnIndexOrThrow("TOP 10"));
            series2.add(weight, date);
            c.moveToNext();
        }

        c.close();

        dataset.addSeries(series);
        dataset.addSeries(series2);

        return dataset;
    }

    public Intent getIntent(Context context) {

         int[] colors = new int[] { Color.RED, Color.BLACK};

            XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
            renderer.setOrientation(Orientation.HORIZONTAL);

            setChartSettings(renderer, "Average Booking Value of Transactions Across Time", " ", " ", 0,10, 0,10, Color.GRAY, Color.LTGRAY);

            renderer.setXLabels(1);
            renderer.setYLabels(10);

            int length = renderer.getSeriesRendererCount();
            for (int i = 0; i < length; i++) 
            {
              SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
              seriesRenderer.setDisplayChartValues(false);
              }

            return ChartFactory.getBarChartIntent(this, buildBarDataset(titles, DATABASE_TABLE), renderer,Type.DEFAULT);
            }

            protected XYMultipleSeriesRenderer buildBarRenderer(int[] colors) 
            {

            // creates a SeriesRenderer and initializes it with useful default values as well as colors

                XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();

                renderer.setAxisTitleTextSize(16);

                renderer.setChartTitleTextSize(20);

                renderer.setLabelsTextSize(15);

                renderer.setLegendTextSize(15);

                int length = colors.length;

                for (int i = 0; i < length; i++) 
                {
                  SimpleSeriesRenderer r = new SimpleSeriesRenderer();
                  r.setColor(colors[i]);
                  renderer.addSeriesRenderer(r);
                }
                return renderer;
              }

               protected void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle,
               String yTitle, double xMin, double xMax, double yMin, double yMax, int axesColor,int labelsColor) 
              {

              // sets lots of default values for this renderer

               renderer.setChartTitle(title);

               renderer.setXTitle(xTitle);
               renderer.setYTitle(yTitle);

               renderer.setXAxisMin(xMin);
               renderer.setXAxisMax(xMax);

               renderer.setYAxisMin(yMin);
               renderer.setYAxisMax(yMax);

               renderer.setAxesColor(axesColor);
               renderer.setLabelsColor(labelsColor);

               renderer.setApplyBackgroundColor(true);
               renderer.setBackgroundColor(Color.BLACK);

               renderer.setBarSpacing(0.5f);

            }

            protected XYMultipleSeriesDataset buildBarDataset(String[] titles, String databaseTable) 
            {

                // adds the axis titles and values into the dataset

                XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
                int length = titles.length;

                for (int i = 0; i < length; i++) 
                {
                  CategorySeries series = new CategorySeries(titles[i]);
                  double[] v = databaseTable.get(i);
                  int seriesLength = v.length;
                  for (int k = 0; k < seriesLength; k++) 
                  {
                    series.add(v[k]);
                  }

                  dataset.addSeries(series.toXYSeries());
                 }
                return dataset;
                }

            public boolean onCreateOptionsMenu(Menu menu) {
                // Inflate the menu; this adds items to the action bar if it is present.
                getMenuInflater().inflate(R.menu.activity_chart, menu);
                return true;
            }

        //Lager TimeSeries for den første linja
        } 
```

嗨，我已经编辑了上面的代码，但我仍然面临错误，谁能告诉我我在这里做错了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:52:28.007

这是一类：

```
public class ChartActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        DBHelper db = new DBHelper(this);
        db.open();
        Intent intent = db.getIntent(this);
        startActivity(intent);
    }

} 
```

这是另一个：

```
public class DBHelper extends SQLiteOpenHelper{

    public static final String KEY_BMIID = "bmi_id";
    public static final String KEY_BMIDATA = "bmi_data";
    public static final String KEY_BMIDATE = "bmi_date";

    private static final String DATABASE_NAME = "Jayant";
    private static final String DATABASE_TABLE = "android_metadata";
    private static final int DATABASE_VERSION = 1;

    private DBHelper ourHelper;
    private Context ourContext;
    private SQLiteDatabase ourDatabase;

    public DBHelper(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        db.execSQL( "CREATE TABLE " + DATABASE_TABLE + " (" +
                KEY_BMIID + " INTEGER PRIMARY KEY AUTOINCREMENT, " +
                KEY_BMIDATA + " TEXT NOT NULL, " +
                KEY_BMIDATE + " TEXT NOT NULL );"
                );
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        db.execSQL( "DROP TABLE IF EXISTS " + DATABASE_TABLE );
        onCreate(db);
    }

    public void open() {
        ourDatabase = getWritableDatabase();
    }

    public long createEntry( String data, String date ) {
        //, String date 
        // TODO Auto-generated method stub
        ContentValues cv = new ContentValues();
        cv.put(KEY_BMIDATA, data);
        cv.put(KEY_BMIDATE, date);
        return ourDatabase.insert(DATABASE_TABLE, null, cv);
    }

    public String getBMIID() {
        // TODO Auto-generated method stub
        String[] column =
                new String[]{ KEY_BMIID };
        Cursor c = 
                ourDatabase.query(DATABASE_TABLE, column, null, null, null, null, null);

        String result = "";
        int iID = c.getColumnIndex(KEY_BMIID);

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString(iID);
        }

        return result;
    }

    public String getBMIDataData(){

        String[] column =
                new String[]{ KEY_BMIDATA };
        Cursor c = 
                ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

        String result = "";
        int iData = c.getColumnIndex( KEY_BMIDATA );

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString( iData );
        }
        return result;
    }

    public String getBMIDateData(){
        String[] column =
                new String[]{ KEY_BMIDATE };
        Cursor c = 
                ourDatabase.query( DATABASE_TABLE, column, null, null, null, null, null );

        String result = "";
        int iDate = c.getColumnIndex( KEY_BMIDATE);

        for ( c.moveToFirst(); ! c.isAfterLast(); c.moveToNext() ){
            result = result + c.getString( iDate );
        }
        return result;
    }

    public void updateEntry( long lId, String mData, String mDate ) {
        // TODO Auto-generated method stub
        ContentValues cvUpdate = new ContentValues();

        cvUpdate.put( KEY_BMIDATA, mData );
        cvUpdate.put( KEY_BMIDATE, mDate );
        ourDatabase.update( DATABASE_TABLE, cvUpdate, KEY_BMIID + " = lId", null );
    }

    public String getData(long l) {
        // TODO Auto-generated method stub
        return null;
    }

    public String getDate(long l) {
        // TODO Auto-generated method stub
        return null;
    }

    public XYMultipleSeriesDataset getDemoDataset(String title) {

        String[] column =
                new String[]{ KEY_BMIDATA };
        Cursor c = ourHelper.getWritableDatabase().query( DATABASE_TABLE, column, null, null, null, null, null );

        XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();

        TimeSeries series = new TimeSeries("Bar1");
        TimeSeries series2 = new TimeSeries(title);

        getBMIDataData();

        while (!c.isAfterLast()) {
            int date = c.getInt((Integer) c.getColumnIndexOrThrow("DAYS"));
            int weight = c.getInt((Integer) c.getColumnIndexOrThrow("TOP 10"));
            series2.add(weight, date);
            c.moveToNext();
        }

        c.close();

        dataset.addSeries(series);
        dataset.addSeries(series2);

        return dataset;
    }

    public Intent getIntent(Context context) {

        //Lager TimeSeries for den første linja
        XYMultipleSeriesDataset dataset = getDemoDataset("Bar1");

        //Kode for render
        XYMultipleSeriesRenderer mRenderer = new XYMultipleSeriesRenderer();

        //Optimalisering linje1
        XYSeriesRenderer renderer = new XYSeriesRenderer();
        renderer.setColor(Color.YELLOW);
        renderer.setPointStyle(PointStyle.CIRCLE);
        renderer.setFillPoints(true);

        // Optimalisering linje2 husk rekke følgen
        XYSeriesRenderer renderer2 = new XYSeriesRenderer();
        renderer2.setColor(Color.BLUE);
        renderer2.setPointStyle(PointStyle.SQUARE);
        renderer2.setFillPoints(true);

        //Legger til render seriene
        mRenderer.addSeriesRenderer(renderer);

        //Optimalisering grafen
        mRenderer.setChartTitle("Test");
        mRenderer.setZoomEnabled(true);
        mRenderer.setZoomButtonsVisible(true);
        mRenderer.setBackgroundColor(Color.BLACK);
        mRenderer.setApplyBackgroundColor(true);
        mRenderer.setXTitle("Dager");
        mRenderer.setShowGrid(true);

        mRenderer.addSeriesRenderer(renderer2);

        Intent intent = ChartFactory.getLineChartIntent(context, dataset, 
                mRenderer, "Bar Graph Title");

        return intent;
    }
} 
```

这将为您提供折线图而不是条形图。罪魁祸首是：Intent intent = ChartFactory。**getLineChartIntent**（上下文...除其他外，您需要根据自己的规范修改更多此代码。

# wso2 - WSO2 CEP 存储桶创建错误

> ID：13854097
> 
> 赞同：1
> 
> 时间：2012-12-13T06:19:05.343
> 
> 标签：wso2, complex-event-processing, wso2cep

我试图从 WSO CEP 示例中执行示例访问分析。在创建与示例中给出的相同的存储桶后，我收到一个错误并且它没有创建存储桶。任何人都可以帮助解决问题吗？

错误日志：

```
[2012-12-13 15:09:21,654]  INFO {org.apache.axis2.deployment.DeploymentEngine} -
org.apache.axis2.deployment.DeploymentException: wrong configuration provided for adding AccessAnalysisBucket.xml 
```

当我在添加查询表达式中提供查询语法时出现此错误。如果我不给这个，它将创建存储桶。

# python - 附加dict列表时Python json转储语法错误

> ID：13854100
> 
> 赞同：1
> 
> 时间：2012-12-13T06:19:11.097
> 
> 标签：python, json

我有两个返回字典列表的函数，我试图让 json 对其进行编码，当我尝试使用我的第一个函数时它可以工作，但现在我正在附加第二个函数，语法错误为`": expected"`. 我最终将附加总共 7 个函数，每个函数都输出一个 dict 列表。有没有更好的方法来实现这一点？

```
import dmidecode
import simplejson as json

def get_bios_specs():
    BIOSdict = {}
    BIOSlist = []
    for v in dmidecode.bios().values():
        if type(v) == dict and v['dmi_type'] == 0:
            BIOSdict["Name"] = str((v['data']['Vendor']))
            BIOSdict["Description"] = str((v['data']['Vendor']))
            BIOSdict["BuildNumber"] = str((v['data']['Version']))
            BIOSdict["SoftwareElementID"] = str((v['data']['BIOS Revision']))
            BIOSdict["primaryBIOS"] = "True"

            BIOSlist.append(BIOSdict)
    return BIOSlist

def get_board_specs():
    MOBOdict = {}
    MOBOlist = []
    for v in dmidecode.baseboard().values():
        if type(v) == dict and v['dmi_type'] == 2:
           MOBOdict["Manufacturer"] =  str(v['data']['Manufacturer'])
           MOBOdict["Model"] = str(v['data']['Product Name'])

           MOBOlist.append(MOBOdict)
    return MOBOlist

def get_json_dumps():
    jsonOBJ = json

    #Syntax error is here, i can't use comma to continue adding more, nor + to append.
    return  jsonOBJ.dumps({'HardwareSpec':{'BIOS': get_bios_specs()},{'Motherboard': get_board_specs()}}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:24:14.297

在嵌套字典中使用多个项目。

```
jsonOBJ.dumps({
    'HardwareSpec': {
        'BIOS': get_bios_specs(),
        'Motherboard': get_board_specs()
     }
}) 
```

如果您想要多个`BIOS`项目或`Motherboard`项目，只需使用一个列表。

```
...
     'HardwareSpec': {
        'BIOS': [
            get_bios_specs(),
            get_uefi_specs()
        ]
        ...
     } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:33:28.897

如果您想要更方便地查找规格，您可以嵌入一个字典：

```
jsonOBJ.dumps({'HardwareSpec':{'BIOS': get_bios_specs(), 
  'Motherboard': get_board_specs()
  }
}) 
```

# c# - 使用 aspx 页面中的 JavaScript 设置 Telerik RadGrid 的值并在后面的代码中检索它

> ID：13854101
> 
> 赞同：0
> 
> 时间：2012-12-13T06:19:12.313
> 
> 标签：c#, asp.net, telerik

我正在使用来自 Aspx 页面的 JavaScript 设置 RadNumeric 文本框值。但是当我在 .CS 页面中使用该值时，它显示的是旧值。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:25:00.623

有一种从javascript设置值的不同方法，以便可以通过后面的代码获取。检查[http://www.telerik.com/community/forums/aspnet-ajax/input/rad-numericinput-box-not-retain-client-side-set-values.aspx](http://www.telerik.com/community/forums/aspnet-ajax/input/rad-numericinput-box-not-retain-client-side-set-values.aspx)

# sharepoint-2007 - 共享点警报自定义

> ID：13854102
> 
> 赞同：1
> 
> 时间：2012-12-13T06:19:18.063
> 
> 标签：sharepoint-2007

我想自定义共享点警报模板。
我想在邮件中添加一些固定的共享点列和修改的列

试过这个链接可以限制列。
[http://blogs.msdn.com/b/sharepointdeveloperdocs/archive/2007/12/07/customizing-alert-notifications-and-alert-templates-in-windows-sharepoint-services-3-0.aspx](http://blogs.msdn.com/b/sharepointdeveloperdocs/archive/2007/12/07/customizing-alert-notifications-and-alert-templates-in-windows-sharepoint-services-3-0.aspx)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T11:38:17.873

您必须自定义“C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\TEMPLATE\XML”中的警报模板

在此模板中，您必须提供您喜欢显示的文件。

请参阅下面给出的 URL 以获取更多详细信息

> [http://www.alectang.com/blog/archive/2012/05/16/how-to-customise-sharepoint-alert-email-template.aspx](http://www.alectang.com/blog/archive/2012/05/16/how-to-customise-sharepoint-alert-email-template.aspx)

# java - android中的警报框不起作用

> ID：13854103
> 
> 赞同：0
> 
> 时间：2012-12-13T06:19:27.947
> 
> 标签：java, android, android-alertdialog

代码不起作用。请帮我。它打印替换所有字符串，但没有运行进一步的代码。

当我调试它时，代码中没有错误。它将显示警报框的代码。

```
if(count>0)

          {
              System.out.println("replace all string name ");
                 // final Intent intent_ul=new Intent(this, UploadExcel.class);
              AlertDialog.Builder alertDialogBuilder_ue = new AlertDialog.Builder(this);            
                 alertDialogBuilder_ue.setTitle("Alert!!");
                 alertDialogBuilder_ue
                    .setMessage("Are you sure you want to Replace all the data related to this style ? ")

                    .setCancelable(false)
                    .setPositiveButton("Yes",new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,int id) {
                             mySQLiteAdapter.openToWrite();
                              mySQLiteAdapter.delete_style_measurement(style_no);
                              Log.d("","yes click");
                              count=0;
                              mySQLiteAdapter.close();

                        }
                    })
                    .setNegativeButton("No",new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface dialog,int id) {
                            Log.d("","No click");
                            count++;
                            dialog.cancel();
                            // startActivity(intent_ul);
                             //finish();
                        }
                    });
          } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:24:30.723

**在if**条件结束之前添加这些行

```
 AlertDialog alertDialog = alertDialogBuilder_ue.create();
 alertDialog.show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:24:12.677

检查此代码。这段代码对我有用

```
Context context = CurrentActivity.this;
AlertDialog.Builder ad = new AlertDialog.Builder(context);
ad.setTitle("Application");
ad.setMessage("Do you want to proceed?");
ad.setPositiveButton("Yes", new OnClickListener() 
{
 public void onClick(DialogInterface dialog, int arg1) 
 {

 }
});
ad.setNegativeButton("Cancel", new OnClickListener() 
{
 public void onClick(DialogInterface dialog, int arg1)
 {

 }
});
ad.setCancelable(false);
ad.show(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:21:05.870

您需要添加

```
alertDialogBuilder_ue.show(); 
```

在你的代码中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:52:52.743

在您的代码中添加`alertDialogBuilder_ue.show();`应该使对话框出现。

有人建议您**必须**使用它`alertDialogBuilder_ue.create();`来获得一个句柄，`AlertDialog`然后您才能使用该`.show()`方法。

两者都是可能的，但如果您不需要句柄，则不必**使用**该选项`.create()``AlertDialog`

# javascript - 将 Javascript 日期对象转换为 PST 时区

> ID：13854105
> 
> 赞同：8
> 
> 时间：2012-12-13T06:19:37.390
> 
> 标签：javascript, datetime

我需要从日历中选择一个未来的日期，假设我选择的日期是`10/14/2014`，现在我想要将日期和时间发送到服务器，以便在服务器端它总是在 PST 时区和格式中达到早上 6 点日期应该是UTC。

我正在做的是

`targetDate = new Date($("#calendar").val()); targetDate = targetDate.toUTCString(); targetDate = targetDate.addHours(14);`

我的理解是 PST 时区是 -8:00，所以我在 UTC 时间上增加了 14 小时，这样时间就变成了太平洋标准时间上午 6:00

我面临的问题是它不允许我添加 14 小时，因为对象已经转换为字符串。

addHours 是我必须在给定时间内添加小时数的自定义函数。

如果我写

`targetDate = new Date($("#calendar").val()); targetDate = targetDate.addHours(14); targetDate = targetDate.toUTCString();`

那么它工作得很好，但在这种情况下，问题是当请求来自不同时区时，时间总是不同的。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2021-02-23T18:46:55.103

这对我有用：

```
var myDate = new Date(1633071599000)
var pstDate = myDate.toLocaleString("en-US", {
  timeZone: "America/Los_Angeles"
})
console.log(pstDate)
```

哪个输出`"9/30/2021, 11:59:59 PM"`

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-07-04T19:23:04.200

你说：

> 我的理解是 PST 时区是 -8:00，所以我在 UTC 时间上增加了 14 小时，这样时间就变成了太平洋标准时间上午 6:00

呃 - 不。这会让你在第二天。如果你想留在 PST，你会从 UTC 时间中 *减去8 小时。*`-8:00`表示比UTC*晚8 小时。*

但是，太平洋时区不仅仅固定在 PST。它在 PST (-8) 和 PDT (-7) 之间交替进行夏令时。为了确定正确的偏移量，您需要使用实现 TZDB 数据库的库。请在此处参考[此重复答案](https://stackoverflow.com/a/17476856/634824)。

如果没有花哨的图书馆，唯一的方法就是实际*处于*太平洋时区。JavaScript 会将 UTC 日期转换为本地时区以进行显示，并将使用正确的偏移量。但它只知道*本地*时区。如果太平洋时间不是您当地的时区，那么您必须使用库。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-13T06:25:10.820

建议您查看 DateJS [http://code.google.com/p/datejs/](http://code.google.com/p/datejs/)或[http://www.datejs.com/](http://www.datejs.com/)。为您处理 PDT。

这是您的替代方案：

使用：Date.UTC(年、月、日、时、分、秒、毫秒)

示例：太平洋标准时间 2013 年 1 月 1 日上午 6 点

```
var date = new Date(Date.UTC(2013, 0, 1, 14, 0, 0))   
console.log(date.toUTCString()); 
```

印刷品：“格林威治标准时间 2013 年 1 月 1 日星期二 14:00:00”

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-11-10T19:25:03.147

```
var date = new Date();
var utcDate = new Date(date.toUTCString());
utcDate.setHours(utcDate.getHours()-8);
var usDate = new Date(utcDate);
console.log(usDate); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-03-24T21:55:49.317

```
document.getElementById('tmp_button-48523').addEventListener('click', function() {
  let d = new Date();
  let localTime = d.getTime();
  let localOffset = d.getTimezoneOffset() * 60000;
  let utc = localTime + localOffset;
  let target_offset = -7;//PST from UTC 7 hours behind right now, will need to fix for daylight
  let los_angles = utc+(3600000*target_offset);
  nd = new Date(los_angles);
  let current_day = nd.getDay();
  let hours = nd.getHours();
  let mins = nd.getMinutes();
alert("los_angles time is " + nd.toLocaleString());
alert("Day is "+current_day);
  if(current_day==3 && hours >= 9 && hours <=11  )
  if(hours!=11 && mins >= 45)
  fbq('track', 'LT-Login');
}, false);

function fbq(p1,p2){
alert(p1);
}
```

```
<button id="tmp_button-48523">
Click me!
</button>
```

这是为在太平洋标准时间上午 9:45 到太平洋标准时间上午 11:00 之间的星期三跟踪 fb 像素而创建的代码

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-13T07:07:18.827

主要是评论：

> 我需要从日历中选择一个未来的日期，假设我选择的日期是 10/14/2014，

由于没有第 14 个月，我想您的意思是 2014 年 10 月 14 日。由于这是一个国际论坛，最好使用明确的格式。

> …日期的格式应该是UTC

UTC 不是一种格式，它是标准时间。

我觉得你很困惑。如果你想说 2014-10-14T06:00:00-08:00 的 UTC，那么等价的就是 2014-10-14T14:00:00Z。

您正在使用该`toUTCString`方法，但它依赖于实现，因此您将在不同的浏览器中获得不同的结果。您可能想要该`toISOString`方法，但它是 ES5 并且并非在所有浏览器中都实现。

您需要提供一些您希望如何转换时间的示例，否则您也可以获取 ISO8601 格式的日期并在其上附加“T14:00:00Z”。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-02-23T17:01:20.823

我认为问题询问如何将 UTC 转换为 PST 时间（如标题所示）。我假设当地时间是太平洋时间（即服务器或本地网络浏览器等）

如果是这种情况，为了将 UTC 时间转换为本地 PST，只需执行此操作

```
// Create date object from datetime (Assume this is the UTC /GMT) time
var date = new Date('Tue, 21 Apr 2020 09:20:30 GMT');

// Covert to local PST datetime, AGAIN this only works if the server/browser is in PST
date.toString(); 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-12-13T06:29:24.350

我相信您可以在转换为 UTC 之前简单地添加 14 小时。

或者，您可以使用 UTC 字符串创建一个新的 Date 对象：

```
var date = new Date();
date = date.addHours(14);
var dateUTC = new Date(date.toUTCString()); 
```

# sql-server-2008 - 批量插入在 SQL Server 2008 中不起作用

> ID：13854107
> 
> 赞同：1
> 
> 时间：2012-12-13T06:19:54.483
> 
> 标签：sql-server-2008, csv, bulkinsert

这是我将 CSV 文件批量加载到 SQL Server 2008 中的 SQL，但它返回：

```
0 row(s) affected. 
```

代码：

```
USE energyDB
GO

BULK INSERT energydata
FROM 'c:\temp\24544_MSSQL_out.csv'
WITH
(
  FIRSTROW = 2,
  FIELDTERMINATOR = ',',
  ROWTERMINATOR = '\n'
)
GO 
```

CSV 文件如下所示（忽略顶行）

```
24544,"1970-01-01 10:00:00","8056060 kWh"
24544,"2012-12-04 00:15:00",0.176
24544,"2012-12-04 00:30:00",0.163
24544,"2012-12-04 00:45:00",0.016 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-07T13:51:27.883

这个问题有点老了，但是当我搜索问题时它出现了，所以我想我会提供我的解决方案。

就我而言，没有插入正确的表格是一个简单的错误，因此请务必检查您要插入的表格。在试图弄清楚发生了什么时，我发现您可以让批量插入过程创建一个错误文件，希望能引导您朝着正确的方向前进。为此，您可以使用类似`ERRORFILE ='E:\Error.txt'`. 这应该将您收到的错误输出到名为 Error.txt 的文件中。我在下面提供了一个完整的例子：

```
BEGIN TRANSACTION
BEGIN TRY
BULK INSERT [Table Name]
FROM 'E:\FileName.csv'
WITH (FIELDTERMINATOR = ',', ROWTERMINATOR = '\n', ERRORFILE ='E:\Error.txt')
COMMIT TRANSACTION
END TRY
BEGIN CATCH
ROLLBACK TRANSACTION
END CATCH 
```

您会注意到我已将批量插入过程包装在事务中。这样一来，如果在批量插入期间发生任何问题，它将回滚所有内容，并且我不会获得部分数据导入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:29:52.590

批量插入不会从数据中删除引号，您需要更改正在导入的文件或导入到每列都是字符字段的表中，然后在查询中去除引号并转换数据类型。我刚刚找到了以下 MSDN 文章：

[http://msdn.microsoft.com/en-us/library/ms188609.aspx](http://msdn.microsoft.com/en-us/library/ms188609.aspx)

它指出：

SQL Server 大容量导入操作不支持逗号分隔值 (CSV) 文件。

然后继续举几个例子来说明它将在哪些情况下工作。

# ruby - 如何将变量传递给水豚中的 page.executescript()

> ID：13854115
> 
> 赞同：9
> 
> 时间：2012-12-13T06:20:31.043
> 
> 标签：ruby, capybara

我需要通过 javascript 中的变量通过 capybara 中的 excute_script 方法执行。

我无法将变量传递给它。

请任何人帮助我。

例子：

```
@idd="sample"
txt=page.execute_script('var user_id = ${@idd}; return user_id;')
puts txt 
```

我期待打印文本示例，但我收到 java 脚本错误。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T07:02:31.460

我认为问题出在 ${}; 你必须使用 #{}; 尝试：

```
page.execute_script("var user_id = '#{@idd}'; return user_id;") 
```

# c# - 使用 tfs api 连接到 tfs 时身份验证失败

> ID：13854120
> 
> 赞同：0
> 
> 时间：2012-12-13T06:20:44.427
> 
> 标签：c#, asp.net, tfs

> **可能重复：**
> [使用 tfs api 连接到 tfs 时身份验证失败](https://stackoverflow.com/questions/13854147/authentication-failed-while-connecting-to-tfs-using-tfs-api)

我面临一个奇怪的问题。我想以编程方式使用 tfs api 连接 tfs 服务器。即使在提供了正确的 authentcaion crdiatials 之后，它也会失败。但是如果我通过在浏览器中键入 tfs 服务器名称来手动完成它，它就会连接起来。

代码：

```
TeamFoundationServer tfs = 
      new TeamFoundationServer(new Uri("http://xx.xx.xx.xx:8080/tfs"), 
                        new NetworkCredential(@"user", "pass", "domain"));
tfs.EnsureAuthenticated() 
```

请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:41:31.247

你可以用[一种更简单的方式](https://bitbucket.org/mrshrinkray/spruce/src/5809d7787e29c73874e531764f435b3f4bce8caa/Spruce.Core/UserContext.cs?at=default)来做（假设你已经通过了身份验证）：

```
var tfsCollection = new TfsTeamProjectCollection(new Uri("http://yourtfs:8080/tfs/"));
tfsCollection.Authenticate();
var workItemStore = new WorkItemStore(TfsCollection); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T13:34:08.803

您可能希望使用此[替代方法](http://msdn.microsoft.com/en-us/library/bb286958.aspx)：

```
using Microsoft.TeamFoundation.Client;
using Microsoft.TeamFoundation.Framework.Client;
using Microsoft.TeamFoundation.Framework.Common;
using System;
using System.Collections.ObjectModel;

class Program
{
    static void Main()
    {
        var tfsUri = new Uri("http://xx.xx.xx.xx:8080/tfs");

        TfsConfigurationServer configurationServer =
                TfsConfigurationServerFactory.GetConfigurationServer(tfsUri);

        // Get the catalog of team project collections
        ReadOnlyCollection<CatalogNode> collectionNodes = configurationServer.CatalogNode.QueryChildren(
            new[] { CatalogResourceTypes.ProjectCollection },
            false, CatalogQueryOptions.None);

        // List the team project collections
        foreach (CatalogNode collectionNode in collectionNodes)
        {
            // Use the InstanceId property to get the team project collection
            Guid collectionId = new Guid(collectionNode.Resource.Properties["InstanceId"]);
            TfsTeamProjectCollection teamProjectCollection = configurationServer.GetTeamProjectCollection(collectionId);

            // Print the name of the team project collection
            Console.WriteLine("Collection: " + teamProjectCollection.Name);

            // Get a catalog of team projects for the collection
            ReadOnlyCollection<CatalogNode> projectNodes = collectionNode.QueryChildren(
                new[] { CatalogResourceTypes.TeamProject },
                false, CatalogQueryOptions.None);

            // List the team projects in the collection
            foreach (CatalogNode projectNode in projectNodes)
            {
                Console.WriteLine(" Team Project: " + projectNode.Resource.DisplayName);
            }
        }
    }
} 
```

# android - 如何使用通用图像加载器

> ID：13854125
> 
> 赞同：12
> 
> 时间：2012-12-13T06:20:57.820
> 
> 标签：android, android-listview, android-image, android-adapter

我有一个需要加载缩略图的要求，以及一个由`Text`自`ListView`定义设置的`Adapter`. 缩略图应该存储在缓存中，因为我使用的是通用图像加载器，但是我对它的实现以及如何根据我的要求使用它来`ListView`从`URL`. 请建议我一些实施良好的方法。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-13T06:40:18.577

将下面的代码行写入适配器的 getView() 方法，这里 imageUrls[position] 是 Image Urls 的数组， holder.image 是 imageview。

```
imageLoader.displayImage(imageUrls[position], holder.image, null); 
```

并将下面的代码行写入您的适配器构造函数。

```
ImageLoader imageLoader=new  ImageLoader(activity.getApplicationContext()); 
```

它将解决您的问题，如果您对此有任何疑问，请告诉我。

有关通用图像加载器示例的完整源代码，请参见下面的链接。

[Android - 通用图像加载器](https://github.com/nostra13/Android-Universal-Image-Loader)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-13T06:28:43.040

在适配器的 oncreate() 中定义

```
 ImageLoader imageLoader=new  ImageLoader(activity.getApplicationContext()); 
```

并在 getView() 方法中使用它：

```
imageLoader.DisplayImage(//your image url, //your imageView); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-12-13T06:34:01.347

我会建议你使用 AQuery - (Android-Query) - 一个用于 Android 的超级简单的 UI 操作框架。

AQuery 以库的形式出现，您需要将其包含在构建路径中。

在 AQuery 中，您可以使用以下几行下载、显示（带有效果）和缓存图像（在内存和磁盘中）：

```
AQuery aq = new AQuery(yourActivity.this);
boolean memCache = true;
boolean fileCache = true;
aq.id(R.id.image1).image("http://www.example.com/image.jpg", memCache, fileCache); 
```

AQuery 将处理所有数据下载过程，并将在您提供的 ImageView 上显示图像。加载图像后，将根据布尔参数`memCache`和`fileCache`. 下一次，它将从内存缓存或文件缓存中加载图像。

有关更多信息和示例，您应该访问[http://code.google.com/p/android-query/上的 AQuery 项目](http://code.google.com/p/android-query/)

有关图像加载的更多代码 - [http://code.google.com/p/android-query/wiki/ImageLoading](http://code.google.com/p/android-query/wiki/ImageLoading)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-10-20T12:39:04.143

这将帮助您使用通用图像加载器加载 imageurl 它会给 imageurl 的状态是开始加载、已完成或失败，并且请求是取消状态也提供。我希望它可以帮助你..

```
 public void ImageLoaderListener(String url){

        imageLoader.loadImage(url,new ImageLoadingListener(){
            @Override
            public void onLoadingStarted(String imageUri, View view) {
                Log.e("tag", "onLoadingStarted");
            }

            @Override
            public void onLoadingFailed(String imageUri, View view, FailReason failReason) {
                Log.e("tag", "onLoadingFailed");
            }
            @Override
            public void onLoadingComplete(String imageUri, View view, Bitmap loadedImage) {
                Log.e("tag", "onLoadingComplete");
                imageView.setImageBitmap(loadedImage);
            }
            @Override
            public void onLoadingCancelled(String imageUri, View view) {
                Log.e("tag", "onLoadingCancelled");
            }
        });
    } 
```

如果您想缓存图像，请在下面添加此功能...但是要在创建时启动，因为它非常高...

```
 ImageLoaderConfiguration config = new ImageLoaderConfiguration.Builder(getApplicationContext())
            .defaultDisplayImageOptions(DisplayImageOptions.createSimple())
            .build();

    imageLoader = ImageLoader.getInstance();

    if (!imageLoader.isInited()) {
        imageLoader.init(config);
    }
    defaultOptions = new DisplayImageOptions.Builder()
            .cacheInMemory(true)
            .cacheOnDisc(true)
            .build(); 
```

然后您将添加该 ImageLoadingListener() 函数...

```
public void ImageLoaderListener(String url){
  imageLoader.loadImage(url, defaultOptions, new ImageLoadingListener() { 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-05-13T09:25:31.477

```
public class CategoryModel 
{
        String CatId;
        String CatName;
        String Image;
        String Price;
        Bitmap ImgSrc;
        CategoryAdapter Ma;
        public CategoryModel()
        {
        }
        public CategoryModel(String catid,String catname,String image,String price)
        {
            this.CatId = catid;
            this.CatName = catname;
            this.Image = image;
            this.Price = price;
        }
        public CategoryModel(String catname,String image,String price)
        {
            this.CatName = catname;
            this.Image = image;
            this.Price = price;
        }
        public void setCatId(String catid)
        {
            this.CatId =catid;
        }
        public String getCatId()
        {
            return this.CatId;
        }
        public void setCatName(String catname)
        {
            this.CatName=catname;
        }
        public String getCatName()
        {
            return this.CatName;
        }
        public void setImage(String image)
        {
            this.Image=image;
        }
        public String getImage()
        {
            return this.Image;
        }
        public void setPrice(String price)
        {
            this.Price=price;
        }
        public String getPrice()
        {
            return this.Price;
        }
        public Bitmap getImagesrc()
        {
            return this.ImgSrc;
        }
        public void setAdapter(CategoryAdapter adf)
        {
            this.Ma = adf;
        }
        public CategoryAdapter getAdapter()
        {
            return this.Ma;
        }

        public void LoadImage(CategoryAdapter adap)
        {
            this.Ma = adap;
            if(Image != null && !Image.equals(""))
            {
                new ImageLoader().execute(new String[]{ Image });
            }
        }
        public static Bitmap getBitmapUrl(String src)
        {
            try
            {
                URL url = new URL(src);
                HttpURLConnection connection = (HttpURLConnection) url.openConnection();
                connection.setDoInput(true);
                connection.connect();
                InputStream input = connection.getInputStream();
                Bitmap mybitmap = BitmapFactory.decodeStream(input);
                connection.disconnect();
                return mybitmap;
            }
            catch (Exception e) {
                return null;
            }
        }
        private class ImageLoader extends AsyncTask<String, String, Bitmap>
        {
            @Override
            protected void onPreExecute()
            {
            }
            @Override
            protected Bitmap doInBackground(String... params) {
                try
                {
                    Bitmap b = getBitmapUrl(params[0]);
                    return b;
                }
                catch (Exception e)
                {
                    Log.e("Excep", e.toString());
                    return null;
                }
            }
            @Override
            protected void onPostExecute(Bitmap res)
            {
                if(res!=null)
                {
                    ImgSrc = res;
                    if(Ma!=null)
                    {
                        Ma.notifyDataSetChanged();
                    }
                }
                else
                {
                    Log.e("Error", "Image not Loading");
                }
            }
        }
} 
```

# jquery - Foundation Jquery选项卡中的Tinyscrollbar不起作用

> ID：13854134
> 
> 赞同：1
> 
> 时间：2012-12-13T06:21:35.733
> 
> 标签：jquery

我在使用 Zurb 基础选项卡时遇到了一个小问题。我希望我的内容在基础选项卡中位于 tinyscrollbar 滚动窗格中。我正在使用这个插件 tinyscrollbar [http://baijs.nl/tinyscrollbar/](http://baijs.nl/tinyscrollbar/)。活动选项卡的内容在滚动窗格中显示良好，其他不活动的不工作。当我从第一个选项卡中删除活动类时（最初工作它不起作用）..任何帮助或建议plz ..已经尝试了一个星期，但没有成功..这是我正在做的事情是在这里[http://jscroll.kehldesign.com/](http://jscroll.kehldesign.com/)（选项卡 2 是活动的）。选项卡一不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-11T06:30:15.677

即使文档另有说明，请将 .active 类添加到所有选项卡或将 style="display: block" 添加到其他选项卡。两种方法都有效。您的“非活动选项卡”不起作用的原因是因为 tinyscrollbar 无法计算高度。将 display: block 添加到标记允许 tinyscrollbar 查找并计算“隐藏”容器的高度。

一个警告：这在 IE 中无法正常工作。滚动条将起作用，但第一个选项卡也将显示第二个选项卡的滚动条。我还没有解决办法。

# windows-phone - 如何从 Visual Studio Express 2012 for Windows Phone 修复这些错误？

> ID：13854137
> 
> 赞同：2
> 
> 时间：2012-12-13T06:21:58.377
> 
> 标签：windows-phone

我在 Visual Studio Express 2012 for Windows Phone 中，并遵循位于以下链接的 MiniBrowser 教程：

[http://msdn.microsoft.com/en-US/library/windowsphone/develop/ff402526(v=vs.105).aspx](http://msdn.microsoft.com/en-US/library/windowsphone/develop/ff402526(v=vs.105).aspx)

遵循所有说明后，一旦我进入说明的“运行您的应用程序”部分，在第 1 步“构建”下，将生成以下错误：

```
Error 1  The name "LocalizedStrings" does not exist in the namespace "clr-namespace:MiniBrowser".   c:\users\avery_000\documents\visual studio 2012\Projects\MiniBrowser\MiniBrowser\App.xaml   1   1   MiniBrowser

Error 2  The name "LocalizedStrings" does not exist in the namespace "clr-namespace:MiniBrowser".   c:\users\avery_000\documents\visual studio 2012\Projects\MiniBrowser\MiniBrowser\App.xaml   10  9   MiniBrowser

Error 3  The build stopped unexpectedly because of an internal failure.
Microsoft.Build.Exceptions.BuildAbortedException: Build was canceled. Failed to successfully launch or connect to a child MSBuild.exe process. Verify that the MSBuild.exe "C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe" launches successfully, and that it is loading the same microsoft.build.dll that the launching process loaded. If the location seems incorrect, try specifying the correct location in the BuildParameters object, or with the MSBUILD_EXE_PATH environment variable.
   at Microsoft.Build.BackEnd.NodeProviderOutOfProc.CreateNode(Int32 nodeId, INodePacketFactory factory, NodeConfiguration configuration)
   at Microsoft.Build.BackEnd.NodeManager.AttemptCreateNode(INodeProvider nodeProvider, NodeConfiguration nodeConfiguration)
   at Microsoft.Build.BackEnd.NodeManager.CreateNode(NodeConfiguration configuration, NodeAffinity nodeAffinity)
   at Microsoft.Build.Execution.BuildManager.PerformSchedulingActions(IEnumerable`1 responses)
   at Microsoft.Build.Execution.BuildManager.HandleNewRequest(Int32 node, BuildRequestBlocker blocker)
   at Microsoft.Build.Execution.BuildManager.IssueRequestToScheduler(BuildSubmission submission, Boolean allowMainThreadBuild, BuildRequestBlocker blocker) c:\users\avery_000\documents\visual studio 2012\Projects\MiniBrowser\MiniBrowser\MiniBrowser.csproj MiniBrowser 
```

这些错误是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T02:13:24.167

看起来当 Visual Studio Express 2012 for Windows Phone 安装在我的计算机上时，它会将项目文件夹与应用程序放在同一个硬盘上。出于某种原因，为了编译它，解决方案是在不同的硬盘驱动器上重新创建项目，然后从那里开始工作。

感谢大家的帮助！

# python - 熊猫加入分组和普通数据框

> ID：13854140
> 
> 赞同：0
> 
> 时间：2012-12-13T06:22:08.067
> 
> 标签：python, pandas

我正在使用 Pandas (0.9.1) 编写物理代码。我有两个数据框：

级别：

```
class 'pandas.core.frame.DataFrame'>
Int64Index: 37331 entries, 0 to 37330
Data columns:
atomic_number    37331  non-null values
ion_number       37331  non-null values
level_number     37331  non-null values
energy           37331  non-null values
g                37331  non-null values
metastable       37331  non-null values 
```

线路：

```
<class 'pandas.core.frame.DataFrame'>
Int64Index: 314338 entries, 0 to 314337
Data columns:
id                    314338  non-null values
wavelength            314338  non-null values
atomic_number         314338  non-null values
ion_number            314338  non-null values
f_ul                  314338  non-null values
f_lu                  314338  non-null values
level_number_lower    314338  non-null values
level_number_upper    314338  non-null values
dtypes: float64(3), int64(7) 
```

我需要做几件事：我需要用线（原子、离子、级别）连接级别：首先在 atom、ion、level_number_upper 上，然后在 atom、ion、level_number_lower 上。有没有办法预先计算连接 - 内存不是问题，但速度是。

我还需要对级别进行分组（在原子、离子上）并在级别上进行操作。我已经这样做了（非常快），但是在将结果系列与 lines 数据框连接起来时遇到了麻烦。

我该怎么做呢？

干杯沃尔夫冈

更新 v1：

为了显示我想在此处加入合并的代码片段

```
def calc_group_func(group):
    return np.sum(group['g']*np.exp(-group['energy'])
grouped_data = levels.group_by('atomic_number', 'ion_number')
grouped_data.apply(calc_group_func) 
```

然后我想用 atomic_number 和 ion_number 上的行加入/合并分组数据

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-16T03:21:12.300

可能有更好的方法，但也许 df.merge() 会在这里工作。df.merge() 作用于两个DataFrame，因此apply() 之后的Series 中的每个(atom, ion) 对计算的值需要先放在DataFrame 中，此时最终的列名可以也被指定。

```
In [9]: grouped_vals = grouped_data.apply(calc_group_func)

In [10]: grouped_vals
Out[10]: 
atomic_number  ion_number
0              0             0.517541
               1             0.046833
1              0             0.253188
               1             0.440194

In [11]: lines.merge(pd.DataFrame({'group_val': grouped_vals}),
   ....:             left_on=['atomic_number', 'ion_number'],
   ....:             right_index=True)
Out[11]: 
    atomic_number  ion_number  group_val
id                                      
a               0           0   0.517541
b               0           0   0.517541
c               0           1   0.046833
d               0           1   0.046833
e               1           0   0.253188
f               1           0   0.253188
g               1           1   0.440194
h               1           1   0.440194 
```

# java - 来自 Java 的 Sql 异常 - 从 Sqlite GUI 进行查询

> ID：13854142
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:22:30.997
> 
> 标签：java, sqlite

当我尝试使用 Java 代码对 Sqlite 执行此查询时，它给了我异常：

询问：

```
INSERT INTO "tbl_appwidgets" VALUES (85,'2012-03-28 17:29:30','2012-03-28   17:29:30','AEBFB085','RD Filmography','','https://play.google.com/store/apps/details?  id=com.techv.filmography','R.D.Burman was a renowned Bollywood Music Director. In a prolific career spanning over 33 years, RD composed music for over 290 Hindi Films.
R.D.Burman Filmography is a tribute by www.panchammagic.org to the legendary music  composer.   It is an easy reference App that provides list of each and every Hindi movie and  its songs   for which RD composed music.',0,NULL,'0',1,0,1,'0',13000,0,51,137); 
```

例外：

```
java.sql.SQLException: unrecognized token: "'R.D.Burman was a renowned Bollywood Music Director. In a prolific career spanning over 33 years, RD composed music for over 290 Hindi Films."
at org.sqlite.DB.throwex(DB.java:288)
at org.sqlite.NativeDB.prepare(Native Method)
at org.sqlite.DB.prepare(DB.java:114)
at org.sqlite.Stmt.executeUpdate(Stmt.java:102)
at ReadMySqlDump.<init>(ReadMySqlDump.java:96)
at ReadMySqlDump.main(ReadMySqlDump.java:115)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:616)
at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120) 
```

当我从 Sqlite GUI 运行它并且该行被正确插入时，这个查询工作正常。有人可以指出原因和解决方案吗？

**编辑**

执行插入的 Java 代码： public class ReadMySqlDump {

```
static String sep = System.getProperty("line.separator");

public  ReadMySqlDump(){
    try{
        String s = "";
        String buff="";
        ArrayList<String> creates = new ArrayList<String> ();
           ArrayList<String> inserts = new ArrayList<String> ();

        boolean createStart = false;
        String currentCreate = "";

        BufferedReader br = new BufferedReader(new FileReader("mydb.sql.sql"));
        while((buff=br.readLine()) != null){
            buff = buff.trim();
             if(buff.length() == 0)continue;
            if(buff.startsWith("/*"))continue;
             if(buff.startsWith("--"))continue;
            if(createStart && buff.startsWith(");")){
             //   System.out.println("before: " + currentCreate);
                currentCreate = currentCreate.trim();
                if(currentCreate.endsWith(","))currentCreate = currentCreate.substring(0, currentCreate.length()-1);

             //currentCreate = currentCreate.substring(0, currentCreate.length()-2);
               //  System.out.println("after: " + currentCreate);
                    currentCreate += " " + buff + sep;
                createStart = false;
                System.out.println("Current create:::::::::::::::::::::"+currentCreate);
                creates.add(currentCreate);
                currentCreate = "";
                continue;
            }
            if(createStart){
                currentCreate += " " + buff +sep;
                System.out.println("Current create 3:::::::::::::::::::::"+currentCreate);
                continue;
            }
            if(!createStart && buff.startsWith("CREATE")){
                createStart = true;
                currentCreate += buff + sep;
                System.out.println("Current create 2:::::::::::::::::::::"+currentCreate);
                continue;
            }

            if(buff.startsWith("INSERT")) {
                inserts.add(buff);
                continue;

            }

        }
        br.close();

        for(String ss: creates){
            System.out.println(ss);
        }

        System.out.println("");
          System.out.println("");

                for(String ss: inserts){
            System.out.println(ss);
        }

         Class.forName("org.sqlite.JDBC");
    Connection conn = DriverManager.getConnection("jdbc:sqlite:testNew5.db");
    Statement stat = conn.createStatement();
          for(String ss: creates){

              System.out.println("SQL command: " + ss);

            stat.executeUpdate(ss);
        }

      //  ResultSet rs = stat.executeQuery("select * from tbl_passion_attributes");
        //  while(rs.next()){

         // }
        Connection conn = DriverManager.getConnection("jdbc:sqlite:testNew5.db");
        Statement stat = conn.createStatement();
                  for(String ss: inserts){

            System.out.println("ss: " + ss);
            int n =  stat.executeUpdate(ss);
            System.out.println("n: " + n);
        }
             conn.close();

    } catch(Exception ex){

        ex.printStackTrace();

    }

}

public static void main(String[] args) {

    new   ReadMySqlDump();
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:25:14.810

应该是断线吧 您的实际 Java 代码是什么样的？

# c# - 更新面板在 asp.net 中不起作用

> ID：13854143
> 
> 赞同：0
> 
> 时间：2012-12-13T06:22:31.393
> 
> 标签：c#, asp.net, asynchronous-postback

我在我的网站中使用更新面板并尝试为列表框创建 AsyncPostBackTrigger。但它显示以下错误。所以我尝试在 page_Init 部分创建此事件。它没有通过任何错误消息。但我尝试单击列表框中的最后一项意味着它回发控件并转到第一项。请帮我解决这个问题..

> 在 UpdatePanel 'update_pan' 中找不到触发器的 ID 为 'ddl_discount' 的控件。

```
 protected void Page_Init()
        {
            AsyncPostBackTrigger trigger = new AsyncPostBackTrigger();
            trigger.EventName = "SelectedIndexChanged";
            trigger.ControlID = ddl_discount.UniqueID.ToString();
            update_pan.Triggers.Add(trigger);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:14:51.023

尝试将脚本管理器放在页面而不是母版页中。

不需要任何触发器。这个对我有用。

# node.js - 建立在 node.js 之上的条带支付的一个很好的例子是什么？

> ID：13854144
> 
> 赞同：2
> 
> 时间：2012-12-13T06:22:41.030
> 
> 标签：node.js, stripe-payments

我正在尝试找到一个集成到 node.js 服务器中的条带支付的好例子。Stripe 文档有很好的 php、python 和 ruby​​ 示例，并且这些语言中有很好的示例全功能应用程序，但在 Javascript 中并不多，并且与 node-stripe npm 模块集成。我发现[这个](http://www.catonmat.net/blog/stripe-payments-with-node/)访问量很大的例子真的很有帮助。

有人找到或愿意分享任何其他 node.js 实现条带支付的例子吗？

# c# - 使用 tfs api 连接到 tfs 时身份验证失败

> ID：13854147
> 
> 赞同：1
> 
> 时间：2012-12-13T06:23:07.287
> 
> 标签：c#, asp.net, tfs

我面临一个奇怪的问题。我想以编程方式使用 tfs api 连接 tfs 服务器。即使在提供了正确的 authentcaion crdiatials 之后，它也会失败。但是如果我通过在浏览器中键入 tfs 服务器名称来手动完成它，它就会连接起来。

代码：

```
TeamFoundationServer tfs = new TeamFoundationServer(new Uri("http://10.112.205.145:8080/tfs"),  new NetworkCredential(@"usrname", "pwd", "domain"));
tfs.EnsureAuthenticated() 
```

请建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T14:06:08.937

一种简单的方法是将“Syetem.Net”命名空间添加到您的代码中，然后使用“CredentialCache”对象。使用“DefaultCredentials”将使用活动用户的凭据进行身份验证。

```
// connect to the collection
using (TfsTeamProjectCollection teamProjectCollection = new TfsTeamProjectCollection("http://server:8080/tfs/DefaultCollection", CredentialCache.DefaultCredentials))
            { 
                //Do Stuff here 
            } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:06:55.667

你有没有试过这样做。。

```
TfsTeamProjectCollection collection = new TfsTeamProjectCollection(
    new Uri(http://server:8080/tfs/DefaultCollection,
    new System.Net.NetworkCredential("domain_name\\user_name", "pwd"));
collection.EnsureAuthenticated(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-04T09:01:04.677

对于您的问题，通常您会收到如下错误：

失败的可能原因包括： - Team Foundation Server 的名称、端口号或协议不正确。- Team Foundation Server 处于脱机状态。- 密码已过期或不正确。

您的问题的根本原因是**URI 应该以集合名称结尾**。所以解决方法是将“ [http://10.112.205.145:8080/tfs](http://10.112.205.145:8080/tfs) ”更改为“ [http://10.112.205.145:8080/tfs/](http://10.112.205.145:8080/tfs/) **%YourCollectionName%** ”，然后它会起作用！:-)

# iphone - 为什么 iPhone 关机时异步 URL 请求返 回错误？

> ID：13854155
> 
> 赞同：1
> 
> 时间：2012-12-13T06:24:04.563
> 
> 标签：iphone, objective-c, ios, sendasynchronousrequest

我正在开发一个 iOS 应用程序，我正在使用该 `NSURLConnection sendAsynchronousRequest: queue: completionHandler:` 方法。当我开始在 iPhone 上测试应用程序时，每当应用程序调用该方法并锁定手机时，该方法都会返回错误。为什么会这样？无论如何我可以阻止它这样做，以便即使手机被锁定，该方法仍然可以运行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:21:33.460

[https://developer.apple.com/library/ios/#documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/uikit/reference/UIApplicationDelegate_Protocol/Reference/Reference.html)

这可能会有所帮助——

**applicationProtectedDataWillBecomeUnavailable**

如果您的应用程序当前正在访问受保护的文件，您可以使用此方法释放对该文件的任何引用。虽然在设备锁定时访问文件不是错误，但任何尝试这样做都会失败。因此，如果您的应用程序依赖于该文件，您可能需要采取措施避免在设备锁定时使用该文件。

在使用内容保护的设备上，受保护的文件以加密形式存储，并且仅在特定时间可用，通常是在设备解锁时。此通知让您的应用程序知道设备即将被锁定，并且它当前正在访问的任何受保护文件可能很快就会变得不可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:20:56.453

当 UI 被锁定时，您的应用程序将被置于后台。如果有人在您的应用程序运行时按下主页按钮，也会发生同样的事情。您应该更改您的应用程序以处理被放置在后台。

# jquery - 如何在jquery中获取按钮的类ID？

> ID：13854159
> 
> 赞同：2
> 
> 时间：2012-12-13T06:24:13.640
> 
> 标签：jquery

如何在jquery中获取按钮的类ID？我正在尝试使用此代码。

```
<div><button id="Button2" class="Default">2\. Click to get Class ID.</button> </div> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T06:27:36.517

```
$("#myButton").click( function() {
     var class = $(this).attr("class");
}); 
```

请注意，这可能包含多个类。

如果您需要检查特定类是否存在于 CSS 类列表中：

```
$("#myButton").click( function() {
     var isHighlighted = $(this).hasClass("highlight");
}); 
```

还有 addClass() 和 removeClass()。通常，几乎没有理由将完整的类属性作为字符串检索 - 使用 jQuery 方法来操作或比较属性要容易得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:25:44.903

```
<input type="button" id="btn1" class="btnclass" onclick="alert(this.className);" /> 
```

**或者**

```
document.getElementById('btn1').onclick = function () { alert(this.className); } 
```

第二种选择是更好的做事方式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T06:25:53.900

您需要[**`click`**](http://api.jquery.com/click/)先将事件绑定到按钮，然后使用 jQuery**[`attr()`](http://api.jquery.com/attr/)**获取类。

**[现场演示](http://jsfiddle.net/rajaadil/ghcsb/)**

```
$('#Button2').click(function(){
    alert($(this).attr('class'));
}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:36:45.383

如果要获取单击按钮的所有 id，则只需捕获单击事件的目标 id：

在小提琴中看到这个：http: **[//jsfiddle.net/DhjBW/](http://jsfiddle.net/DhjBW/)**

这是html：

```
<span></span>

<button id='button 1'>btn1</button>
<button id='button 2'>btn2</button>
<button id='button 3'>btn3</button> 
```

这是jQuery：

```
$("button").click(function(e) {
    $('span').text($(e.target).attr("id"));
}); 
```

# php - jquery ui spinner（ajax调用后无法初始化）

> ID：13854163
> 
> 赞同：1
> 
> 时间：2012-12-13T06:24:24.150
> 
> 标签：php, jquery

我遇到了一个问题，找不到解决方案。我在购物车中使用 jquery ui 微调器。微调器的 onchange 它必须使用 ajax 调用更新购物车。第一次它适用于所有购物车更新但在第二次它不会调用。我重新初始化它但仍然无法正常工作。这是我的示例代码

```
 $('.spinner').spinner({
    min: 0,
    stop: function(event, ui) {
        var get_row_id                = this.id;
        var get_row_value             = this.value;

            var temp                  = get_row_id.split('_');
            var row_id                = temp[1];
            var product_id            = temp[2];
            var checkout_flag         = $("#hidden_checkout_flag").val();
            var qty                   = $("#productqty_"+row_id+"_"+product_id).val();

            $.ajax
            ({
                type                  :"POST",
                url           : "client/cart/update_qty",
                data    :{'qty':qty,'product_id':product_id,'row_id':row_id}
                dataType    :'json',

                success function(msg)
                {
                    var value  = eval(msg);
                    $(".order_box").html(value.sidebar_content);
                    $(".landing_cart_content").html(value.cart_content);
                    $(".out_of_stock_error").html(value.out_of_stock_error);
                    setTimeout(function() {
                        $(".out_of_stock_error").slideUp();
                      }, 4000);
                      $( ".spinner" ).spinner();//reinitialize

                   }
              });

           }

         }); 
```

我在ajax调用和微调器的onChange之后重新初始化它应该再次调用'update_cart'函数，但它没有这样做。我已经浪费了一整天来解决这个问题仍然没有运气。

任何帮助将不胜感激，谢谢

# c++ - 如何用 ID2D1PathGeometry 画一个圆

> ID：13854168
> 
> 赞同：4
> 
> 时间：2012-12-13T06:24:33.823
> 
> 标签：c++, direct2d

ID2D1PathGeometry::Open 返回一个支持添加直线、圆弧和曲线的 ID2D1GeometrySink。但是有没有办法添加一个圆（椭圆），或者至少以某种方式模拟一个？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-15T02:16:15.267

使用 AddArc 函数，您可以简单地绘制两条具有相同 x 和 y 半径的弧来构建一个圆。这是图片和代码，希望这可以帮助你。

![在此处输入图像描述](../Images/b3ff31f686dfb3cf11dd44b64dd3f601.png)

```
// create circle with two arcs
hr = g_pD2DFactory->CreatePathGeometry(&g_pCircleGeometry) ;
if (SUCCEEDED(hr))
{
    ID2D1GeometrySink *pSink = NULL;

    hr = g_pCircleGeometry->Open(&pSink);
    if (SUCCEEDED(hr))
    {
        pSink->SetFillMode(D2D1_FILL_MODE_WINDING);

        pSink->BeginFigure(
            D2D1::Point2F(100, 300), // Start point of the top half circle
            D2D1_FIGURE_BEGIN_FILLED
            );

        // Add the top half circle
        pSink->AddArc(
            D2D1::ArcSegment(
            D2D1::Point2F(400, 300), // end point of the top half circle, also the start point of the bottom half circle
            D2D1::SizeF(150, 150), // radius
            0.0f, // rotation angle
            D2D1_SWEEP_DIRECTION_CLOCKWISE,
            D2D1_ARC_SIZE_SMALL
            ));            

        // Add the bottom half circle
        pSink->AddArc(
            D2D1::ArcSegment(
            D2D1::Point2F(100, 300), // end point of the bottom half circle
            D2D1::SizeF(150, 150),   // radius of the bottom half circle, same as previous one.
            0.0f, // rotation angle
            D2D1_SWEEP_DIRECTION_CLOCKWISE,
            D2D1_ARC_SIZE_SMALL
            ));       

        pSink->EndFigure(D2D1_FIGURE_END_CLOSED);
    }
    hr = pSink->Close();
    SAFE_RELEASE(pSink);
} 
```

# php - 为什么 htaccess 以点开头

> ID：13854173
> 
> 赞同：1
> 
> 时间：2012-12-13T06:24:58.013
> 
> 标签：php, apache, .htaccess

我正在研究 apache 的`.htaccess`文件并理解它背后的概念。我遵循了一些很好的教程/文章，但没有任何明确的解释说明为什么 htaccess 以 dot ( `.htaccess)`.

有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T06:27:41.790

这些类型的文件称为[点文件](http://linux.about.com/cs/linux101/g/dot_file.htm)。

以点开头的文件表示隐藏文件，通常用于配置目的。您可以在此处找到其他常见点文件的列表[。](http://kb.iu.edu/data/afyy.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T06:28:14.667

在 *nix 系统上，`.`文件名开头的 a 表示它是隐藏文件。我假设 apache 表示这不是网站的正常页面，因此使用隐藏文件。

# ruby-on-rails-3 - 无法在 ruby on rails 中正确访问表单元素。

> ID：13854178
> 
> 赞同：0
> 
> 时间：2012-12-13T06:25:07.903
> 
> 标签：ruby-on-rails-3, search, form-submit

我正在开发一个 Rails 应用程序。我对表单提交和呈现有疑问。这是“显示”视图的代码。

```
 <%= form_for :search_form do |f| %>
    <%= f.text_field :search_tag %><br>
    <%= f.submit "find" %>
    <% end %>
  <% @array_bookmark = @bookmark.class == Array ? @bookmark : [@bookmark] %>
  <% @array_bookmark.each do |book| %>
  <li><%= book.url%>
  <b>Title:</b>
  <li><%= book.title%>
  <% end %> 
```

控制器动作是：

```
def show
  if request.post?
  @bookmark = Bookmark.new(params[:search_form])

  bookmark = Bookmark.find_by_title(@bookmark.search_tag)
  respond_to do |format|
    format.html # index.html.erb
    format.json { render json: @bookmark }
  end
  end  
end 
```

视图是搜索表单，当表单被提交时，它会进入控制器并搜索在数据库中输入的元素，并将其返回到显示它的相同视图。
我该怎么做？请给我一个解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T16:09:11.627

谷歌搜索“rails 搜索示例”的第一个结果是[https://we.riseup.net/rails/simple-search-tutorial](https://we.riseup.net/rails/simple-search-tutorial)

我建议您花一些时间阅读 Rails 文档。从这里开始[http://guides.rubyonrails.org/action_controller_overview.html](http://guides.rubyonrails.org/action_controller_overview.html)

另请注意 form_for 帮助器用于围绕特定模型创建表单[http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-form_for](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-form_for)。如果您正在创建一些随机自定义表单，您想要的助手是 form_tag [http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag](http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag)。

此外，通常显示视图旨在显示单个资源。索引视图旨在显示资源集合。当然，这些只是约定，而不是规则，但我建议您的代码在这里违反约定。

# android - 重新启动异步任务

> ID：13854183
> 
> 赞同：0
> 
> 时间：2012-12-13T06:25:21.300
> 
> 标签：android, android-asynctask

在我的 android 应用程序中，我使用 asynctask 使用 achartengine 绘制实时图表。我有两个按钮启动和停止。我希望图表在我按下开始按钮时开始加载，并在我按下停止按钮时清除视图。再次按下开始按钮时，图表应再次从开始开始。这是我的代码：

```
 mstart.setOnClickListener(new OnClickListener() {

         @Override
        public void onClick(View arg0) 
        {

             if(algo_done)
             {
                 layout_eeg1.addView(view_eeg1); 
                 layout_eeg2.addView(view_eeg2);
             }
             if (view_eeg1== null) 
             {                      
                view_eeg1= ChartFactory.getLineChartView(BluetoothConnect.this, eeg1, renderer_eeg1);                    
                layout_eeg1.addView(view_eeg1);
             } 
             else 
             {
                 view_eeg1.repaint();
             }
             if (view_eeg2== null)
             {
                view_eeg2= ChartFactory.getLineChartView(BluetoothConnect.this, eeg2, renderer_eeg2);            
                layout_eeg2.addView(view_eeg2);
             } 
             else
             {
                view_eeg2.repaint();
             }  

             if(fhr_alg!=null)
                    fhr_alg = null;

             fhr_alg = new AddStringTask();

             algo_done = false;

            Thread tt = new Thread()
            {
                public void run()
                {                       
                    try{
                        sleep(1000);                                
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }finally{

                        fhr_alg.execute();

                    }

                }
            };tt.start();

            // w1.loadUrl("javascript:callJS()");               
             mstart.setEnabled(false);

        }           
    });

mstop.setOnClickListener(new OnClickListener() {

         @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub
            //curr_instance.onDestroy();
            if(fhr_alg!=null)
            {
                fhr_alg.cancel(true);   
                algo_done = true;
//                  flag = false;
                    w2.stopLoading();
                    w2.clearAnimation();
                    w2.removeAllViews();
                    layout_eeg1.removeAllViews();
                    layout_eeg2.removeAllViews();

            }

            if (!mstart.isEnabled())
            {
                mstart.setEnabled(true);                    
            }           

        SaveData(data, id);                     

        }
    });

class AddStringTask extends android.os.AsyncTask<Void, Integer, Integer> {

        @Override
        protected void onPostExecute(Integer result) {
            // TODO Auto-generated method stub
            super.onPostExecute(result);
            algo_done=true;
            //Toast.makeText(Html.this, "Done Algo !", Toast.LENGTH_SHORT).show();
        }

        @SuppressLint("UseValueOf")
        @Override
        protected Integer doInBackground(Void... unused) {

                try {
                    for (int r = 0; r <= 5000; r++) {
                        if (!algo_done && !isCancelled()) {
                        publishProgress((int) r);
                        SystemClock.sleep(450);
                        }
                    }
                } catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            return (0);

        }

        @Override
        protected void onProgressUpdate(Integer ... value) {    
        final int fhr=value[0];
        w2.loadUrl("javascript:count(\""+data[fhr]+"\")"); 

        series2.add(fhr,data[fhr]);
        Log.e(Integer.toString(fhr), Integer.toString(data[fhr]));
        double max2 = series2.getMaxX();    
        if(max2>900)
        {
            renderer_eeg2.setXAxisMax(max2);
            renderer_eeg2.setXAxisMin(max2-900);
        }
        else
        {
            renderer_eeg2.setXAxisMax(900);
            renderer_eeg2.setXAxisMin(0);
        }
        view_eeg2.repaint();
        series1.add(fhr*2,data[fhr]);
        double max1 = series1.getMaxX();            
        switch (k) {
        case 0:
        {           
            renderer_eeg1.setXAxisMax(max1);
            renderer_eeg1.setXAxisMin(0);
            view_eeg1.repaint();
            return;             
        }   
        case 1:
        {
            if(max1>300)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-300);
            }
            else
            {
                renderer_eeg1.setXAxisMax(300);
                renderer_eeg1.setXAxisMin(0);
            }               
            view_eeg1.repaint();
            return;
        }
        case 2:
        {
            if(max1>900)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-900);
            }
            else
            {
                renderer_eeg1.setXAxisMax(900);
                renderer_eeg1.setXAxisMin(0);
            }
            view_eeg1.repaint();
            return;
        }
        case 3:
        {
            if(max1>1800)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-1800);
            }
            else
            {
                renderer_eeg1.setXAxisMax(1800);
                renderer_eeg1.setXAxisMin(0);
            }
            view_eeg1.repaint();
            return;
        }
        case 4:
        {
            if(max1>3600)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-3600);
            }
            else
            {
                renderer_eeg1.setXAxisMax(3600);
                renderer_eeg1.setXAxisMin(0);
            }
            view_eeg1.repaint();
            return;
        }
        case 5:
        {
            if(max1>14400)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-14400);
            }
            else
            {
                renderer_eeg1.setXAxisMax(14400);
                renderer_eeg1.setXAxisMin(0);
            }
            view_eeg1.repaint();
            return;
        }
        case 6:
        {
            if(max1>86400)
            {
                renderer_eeg1.setXAxisMax(max1);
                renderer_eeg1.setXAxisMin(max1-86400);
            }
            else
            {
                renderer_eeg1.setXAxisMax(86400);
                renderer_eeg1.setXAxisMin(0);
            }
            view_eeg1.repaint();
            return;
        }

    }       
            }
} 
```

问题是当我再次按下开始按钮时，图表已加载，但没有重新启动。它从最后一个位置开始。我希望它再次从 0 开始。

# html - 与此类似的 HTML 列表框

> ID：13854187
> 
> 赞同：0
> 
> 时间：2012-12-13T06:25:50.947
> 
> 标签：html, listbox, styles

有谁知道我在哪里可以找到一个 html 列表框，如下面的屏幕截图所示？

[http://s3.picofile.com/file/7582998488/search.jpg](http://s3.picofile.com/file/7582998488/search.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:38:32.277

Bootstrap 可以提供你需要的皮肤。它只是与 CSS 一起应用的。更多信息可以在这里找到：http: [//twitter.github.com/bootstrap/components.html](http://twitter.github.com/bootstrap/components.html)

# javascript - 为什么这个简单的谷歌地图代码不起作用？

> ID：13854191
> 
> 赞同：1
> 
> 时间：2012-12-13T06:25:59.080
> 
> 标签：javascript, html, google-maps-api-3

我正在使用*没有*密钥的 3.8 版。我以前在我的桌面上使用过这个确切的代码（没有密钥），它工作得很好，但现在由于某种原因它不能工作。

我找不到任何拼写错误，没有密钥的导入声明是否与我使用的有所不同？

这是我的精简代码：

```
<!DOCTYPE html>
<html>
    <head>
        <title>asdfasdf</title>
    </head>
    <body onload = "initialize();">

        <!-- map here -->
        <div id = "map"></div>

        <!-- Google Maps API -->
        <script type = "text/javascript" src = "http://maps.googleapis.com/maps/api/js?&amp;sensor=true&amp;v=3.8"></script>

        <script type = "text/javascript">

            function initialize()
            {
                // object literal for map options
                var myOptions =
                {
                    center: new google.maps.LatLng(37.09024, -95.712891), // coordinates for center of map 30, 3
                    zoom: 4, // smaller number --> zoom out
                    mapTypeId: google.maps.MapTypeId.HYBRID // ROADMAP, SATELLITE, TERRAIN, or HYBRID
                };

                // note: if the id has a dash in its' name, map instantiation doesn't work!
                var map = new google.maps.Map(document.getElementById("map"), myOptions);

            } // end of initialize
        </script>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:39:51.870

它正在工作。也许你忘了给`width/height`你地图 div 所以你看不到它？

你可以看看这里[http://jsfiddle.net/2HmMQ/](http://jsfiddle.net/2HmMQ/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T06:44:59.223

[V3.8 已退役](https://developers.google.com/maps/documentation/javascript/basics#Versioning)，如果您提出要求，您将获得 v3.9。

你的问题是你的地图没有尺寸，所以你看不到它。

如果我改变你的地图 div 给它一个大小，像这样：

```
 <div id="map" style="height:500px; width:600px;"></div> 
```

有用。

# java - 如何将多线程应用程序作为线程执行？

> ID：13854193
> 
> 赞同：0
> 
> 时间：2012-12-13T06:26:05.163
> 
> 标签：java, multithreading

我有 Java 多线程应用程序，它使用线程调用一个或多个作业（java 代码）。此应用程序已在 cron 选项卡中安排，并且该应用程序的一个或多个实例在特定时间点被调用。它运作良好。在这种情况下，它作为进程调用。

现在，我需要将此应用程序作为线程执行。我有一些问题需要澄清

1.  使用线程或进程执行多线程应用程序的好方法是什么？
2.  将多线程应用程序转换为适合单线程模型的瓶颈是什么？
3.  这个多线程应用程序具有单吨模式。如果同时，两个线程从单线程模型调用这个多线程应用程序，那么（假设存在同步）它会产生任何线程问题还是需要删除这个单例模式？

任何建议，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:30:30.237

我必须完成这项任务——为此我使用了[nailgun](http://www.martiansoftware.com/nailgun/)。这是一个旧软件，但可以很好地完成这项工作。您将只有一个`JVM`，每个`java`程序都将在其中运行，而不是单独的`jvm`.

**编辑：**你不需要修改你的程序来使用 with `nailgun`，即使是单例模式，因为我记得，对于每个任务（程序）它使用一个单独的类加载器（小心内存泄漏）。

# android - 退出Android时应用程序强制关闭

> ID：13854196
> 
> 赞同：2
> 
> 时间：2012-12-13T06:26:18.747
> 
> 标签：android, duration, forceclose, android-music-player

我的音乐播放器应用程序似乎有问题。当我退出它时，它会弹出强制关闭警告。这是代码的一部分，我认为在调试后可能是问题的原因：

```
private Runnable mUpdateTimeTask = new Runnable() {
           public void run() {
               long totalDuration = mp.getDuration();
               long currentDuration = mp.getCurrentPosition();

               // Displaying Total Duration time
               songTotalDurationLabel.setText(""+utils.milliSecondsToTimer(totalDuration));
               // Displaying time completed playing
               songCurrentDurationLabel.setText(""+utils.milliSecondsToTimer(currentDuration));

               // Updating progress bar
               int progress = (int)(utils.getProgressPercentage(currentDuration, totalDuration));
               //Log.d("Progress", ""+progress);
               songProgressBar.setProgress(progress);

               // Running this thread after 100 milliseconds
               mHandler.postDelayed(this, 100);
           }
        }; 
```

这是logcat：

```
12-13 13:26:01.700: E/AndroidRuntime(31838): FATAL EXCEPTION: main
12-13 13:26:01.700: E/AndroidRuntime(31838): java.lang.IllegalStateException
12-13 13:26:01.700: E/AndroidRuntime(31838):    at android.media.MediaPlayer.getDuration(Native Method)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at com.example.musicshare.AndroidBuildingMusicPlayerActivity$1.run(AndroidBuildingMusicPlayerActivity.java:341)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at android.os.Handler.handleCallback(Handler.java:587)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at android.os.Handler.dispatchMessage(Handler.java:92)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at android.os.Looper.loop(Looper.java:123)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at android.app.ActivityThread.main(ActivityThread.java:3691)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at java.lang.reflect.Method.invokeNative(Native Method)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at java.lang.reflect.Method.invoke(Method.java:507)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:847)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:605)
12-13 13:26:01.700: E/AndroidRuntime(31838):    at dalvik.system.NativeStart.main(Native Method) 
```

我认为问题出在 mp.getDuration 上，但我不知道如何解决。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T06:29:34.477

看起来即使您退出后，您的可运行任务仍会在后面运行。所以我的猜测是你可能忘记打电话给`removeCallbacks()`.

我的建议是在您`onBackPressed()`或退出应用程序的地方添加以下行，

```
 mHandler.removeCallbacks(mUpdateTimeTask); 
```

确保全局声明 Runnable mUpdateTimeTask 以便它在您的代码中可用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-29T10:52:54.583

应该在 postRunnable 之前移除回调

```
mHandler.removeCallbacks(mUpdateTimeTask);
mHandler.post(...); 
```

# wpf - 当 NoResize 和 Maximized 时，WPF 窗口应用程序的大小也会改变

> ID：13854197
> 
> 赞同：0
> 
> 时间：2012-12-13T06:26:25.100
> 
> 标签：wpf, user-interface

我的应用程序是 wpf 中的一个简单的桌面 UI，我想始终以最大化状态运行它，所以我提供了 ResizeMode=NoResize，当用户拖动标题栏时它仍然会缩小我如何防止这种情况我的 xaml 看起来像这样

```
<Window x:Class="GUI.MyScreen"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:GUI"        
    Title="MyScreen" Height="Auto" Width="Auto" WindowState="Maximized" 
            Closing="Window_Closing"  
            ResizeMode="NoResize" MouseUp="Window_MouseUp">
</Window> 
```

任何帮助将不胜感激提前谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:49:36.293

如果你只是设置`ResizeMode="NoResize"`，那么窗口可以通过双击来驻留。我不确定你是否可以通过拖动鼠标来调整它的大小。拖动只是移动窗口。
无论如何，您可以设置`WindowStyle="None"`.

# wordpress - 你能让 iFrame 响应式吗？

> ID：13854198
> 
> 赞同：5
> 
> 时间：2012-12-13T06:26:27.317
> 
> 标签：wordpress, iframe, responsive-design

我想在另一个网站的 WordPress 页面中嵌入一个网站。

iframed 网站是 ASP 中的联系表单处理页面，它没有响应。

我可以将它包装在响应式的 div 标签中，还是可以让 iFrame 响应式？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-19T09:40:06.883

取决于您希望*iframe*响应的内容：包含块的更改或*iframe*内内容的更改。

如果您希望 iframe 适应包含块的大小（例如，用户调整浏览器窗口的大小），您可能希望使用百分比值向*iframe*元素添加相对尺寸，例如，通过样式表：

```
html,body {
    height:100%;
}

iframe {
  width:80%;
  height:80%;
} 
```

为此，您还需要将*html*和*body*设置为 100% 的高度，不要问我为什么 :-) 但这个魔法很有效。

示例：http: [//jsfiddle.net/4z2hn/](http://jsfiddle.net/4z2hn/)

我想补充一下我的个人观点：**最好不要使用 JavaScript 来解决布局问题。**为此，请改用 CSS。当前 CSS 实现的强大功能允许样式灵活性，并提供以前不可用的设计可能性。只有当所有其他方法都失败时，才诉诸脚本解决方案。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:00:21.433

不确定联系表单 asp 页面上有哪些元素。

您可以尝试通过 jquery 调整大小的方法。来自[如何在缩小浏览器时创建自动调整 iframe 的大小？](https://stackoverflow.com/questions/9432010/how-do-you-create-auto-resizing-a-iframe-when-you-make-your-browser-smaller)

```
$(window).resize(function() {
  $('IFRAME').width($(window).width());
}); 
```

或者使用其他方法。

[在窗口调整大小时调整 iframe 的宽度](https://stackoverflow.com/questions/12432143/resizing-an-iframes-width-on-window-resize)

```
$(function() {
   var newwidth = $(window).width() - 250;
   $('iframe').css({width: newwidth+'px'});
});

$(window).resize(function() {
   var newwidth = $(window).width() - 250;
   $('iframe').css({width: newwidth+'px'});
}); 
```

这取决于框架内的内容，调整大小对您的实际效果如何。但这是一个开始。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-30T08:45:46.770

调整大小并保持原始比例。

1.  使用原始高度和宽度计算比例
2.  获取新宽度（即带有 css 的 % 大小）
3.  推导出新高度

X / newWidth = originHeight / originWidth
X = newWidth * (originHeight / originWidth )
X = 新高度

见这里： [https ://jsfiddle.net/koaab543/2/](https://jsfiddle.net/koaab543/2/)

```
function responseveIframe() {
  $('iframe').height(
    $('iframe').attr("height") / $('iframe').attr("width") * $('iframe').width()
  );
}

responseveIframe();

$(window).resize(function() {
  responseveIframe();
});
```

```
iframe {
  max-width: 98%;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<iframe width="854" height="480" src="https://www.youtube.com/embed/C0DPdy98e4c"></iframe>
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-09-04T08:37:56.933

如果 iframe 内容不是您的页面，则您无法使其具有响应性。您可以添加 iframe 样式

```
iframe {
  width: 100%;
} 
```

使 iframe 包装器响应。但是其中的内容-将与以前相同-（正如我所说-除非它也是您的页面）

# mysql - sql查询组合列

> ID：13854203
> 
> 赞同：1
> 
> 时间：2012-12-13T06:26:53.407
> 
> 标签：mysql, sql, database, postgresql

我正在做 sql 查询的练习，但是到了我有 3 个具有相同名称的列并且其中一些包含 null 的地步，有什么选择，所以我可以将它们组合成一列调用价格而不是 3。

```
Short database description "Computer firm":

The database scheme consists of four tables:
Product(maker, model, type)
PC(code, model, speed, ram, hd, cd, price)
Laptop(code, model, speed, ram, hd, screen, price)
Printer(code, model, color, type, price) 
```

“产品”表包括有关制造商、型号和类型（“PC”、“笔记本电脑”或“打印机”）的信息。假定产品表中的型号对于所有制造商和产品类型都是唯一的。由表“PC”中的代码唯一指定的每台 PC 的特征在于型号（参考产品表的外键）、速度（处理器的 MHz）、RAM 总量 - ram（以 Mb 为单位）、硬盘驱动器容量- hd（以 Gb 为单位）、CD ROM 速度 - cd（例如，'4x'）和价格。表“笔记本电脑”类似于 PC 之一，除了 CD ROM 速度，它被屏幕尺寸 - 屏幕（英寸）取代。对于“打印机”表中的每台打印机，它都被告知打印机是否是彩色的（彩色打印机的颜色属性为“y”；

练习： 7 找出制造商 B 生产的所有产品（任何类型）的型号和价格。

我的查询：

```
SELECT distinct Product.model, PC.price, Laptop.price,Printer.price as price 
from   Product 
left   join PC 
on     Product.model=PC.model 
left JOIN Laptop 
ON Product.model=Laptop.model 
left join Printer 
on Product.model= Printer.model 
where Product.maker='B'; 
```

输出：

您的查询：

```
model   price   price   price
1121    850     NULL    NULL
1750    NULL    1200    NULL 
```

正确查询：

```
model   price
1121    850
1750    1200 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:28:46.487

尝试使用`COALESCE`

```
SELECT distinct Product.model, 
       COALESCE(PC.price, Laptop.price,Printer.price) as price 
from Product left join PC 
            on Product.model = PC.model 
     left JOIN Laptop 
            ON Product.model = Laptop.model 
     left join Printer 
           on Product.model = Printer.model 
where Product.maker='B' 
```

从定义来看，

```
COALESCE Returns the first nonnull expression among its arguments. 
```

**更新 1**

```
SELECT  a.model, a.price
FROM    PC a INNER JOIN Product b
            ON a.model = b.model
WHERE   b.maker = 'makerB'
UNION
SELECT  a.model, a.price
FROM    Laptop a INNER JOIN Product b
            ON a.model = b.model
WHERE   b.maker = 'makerB'
UNION
SELECT  a.model, a.price
FROM    Printer a INNER JOIN Product b
            ON a.model = b.model
WHERE   b.maker = 'makerB' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:41:43.737

您可以使用联合

```
SELECT Product.model, newTbl.price FROM Product
  INNER JOIN
(
SELECT model, price FROM PC
  UNION
SELECT model, price FROM Laptop
  UNION
SELECT model, price FROM Printer
)newTbl ON Product.model = newTbl.model 
```

或者如果您只需要*模型*表 Product 中的 1 列，您可以像这样丢弃 Product 表

```
SELECT model, price FROM PC
      UNION
SELECT model, price FROM Laptop
      UNION
SELECT model, price FROM Printer 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-04-30T11:05:36.007

```
SELECT AVG( price) FROM (
    SELECT price, model
    FROM pc
    WHERE model IN (
        SELECT model
        FROM product
        WHERE maker='A' AND type='PC'
    )
    UNION ALL
    SELECT price, model
    FROM laptop
    WHERE model IN (
        SELECT model
        FROM product
        WHERE maker='A' AND type='Laptop'
    )
) as prod 
```

# java - 使用您自己的定制课程为您完成工作

> ID：13854204
> 
> 赞同：4
> 
> 时间：2012-12-13T06:26:54.903
> 
> 标签：java, class, input, int

我正在为我的大学课程开发一个 Java 应用程序，并且在程序中的某个时刻，我要求用户输入一个整数。我可以让用户输入一个整数，如果有问题，就像他们输入“abcdefg”一样，我可以有一个带有循环的 try/catch 语句。但不久前，我创建了一个自定义类，它自己解决了这个问题，称为`InputValidator`. 它有一个内置的扫描仪，基本上可以处理所有事情（检查以确保它实际上是一个 int、double 等），在主类中，您可以简单地设置一个等于 getter 方法之一的值来确保它实际上是一个有效的输入。

我想知道的是，你认为我的教授会认为我“懒惰”，直觉，还是只是不必要的？这个类可能对很多事情有用，但也可以被认为是“浪费内存”（它还检查双精度，而我在程序中只检查一个 int）。我想使用它，但我想确保在课堂上编程时这样做是合法的。先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:37:25.233

您可以随时进行自定义课程。但是需要考虑的是，当已经有可用的最佳实践实现时，为什么要创建自己的代码。

Java 更侧重于代码重用。因此，在 java 世界中，如果某个 api 提供了默认方法，那么使用它总是一个好习惯，因为该 api 将提供最佳实践实现，我们在编写自己的代码时可能无法实现，而这些类将是很好的测试。所以失败的可能性很小。

绝对不会因为在 java api 中使用默认方法而被视为“懒惰”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:38:30.710

作为 C++ 和 Java 开发人员，这两种方法在我看来都是有效的。如果我用 Java 编写代码，try catch 方法似乎合理且简单。

在 C++ 中，由于显式转换，这将是有问题的。

如果这是一个纯 Java 类，我认为 try catch 就足够且干净了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:40:13.727

我也使用自己的类来验证输入。我不认为这是一个问题，它减少了您需要在其他地方编写的代码，您可以让班级为您完成这项工作。你的教授不应该介意，因为他可以清楚地看到你理解验证输入。

[在这里](http://computersciencecs.blogspot.dk/2012/12/java-input-checking.html)你可以看到我使用的类。

# android - Android中GridView中的OnScrollListener

> ID：13854213
> 
> 赞同：0
> 
> 时间：2012-12-13T06:27:37.487
> 
> 标签：android, android-fragments, android-gridview

这是具有图像网格视图的片段。最初，我正在加载包含 20 个项目的网格。当用户向下滚动网格时，我想通知数据集已更改并应重新加载视图。我添加了 OnScrollListener。但这似乎不起作用。当我滚动列表时，它没有调用 onScroll 方法。而且我还想知道滚动何时到达终点。这里有什么错误？

```
public class AllStoresFragment extends Fragment implements OnScrollListener{
       GridView gridview;
       @Override
       public View onCreateView(LayoutInflater inflater, ViewGroup container,
                                Bundle savedInstanceState) {

          view = inflater.inflate(R.layout.allstores_fragment, container,
            false);     
          gridview = (GridView) view.findViewById(R.id.grid_view_storestab);
          gridview.setAdapter(new ImageAdapter(jsonresultinitial));
    }
   }   

private void notifyMe()
{
    ((BaseAdapter) ((GridView) view.findViewById(R.id.grid_view_storestab))
            .getAdapter()).notifyDataSetChanged();

    gridview.setAdapter(new ImageAdapter(
            jsonresult));

}

@Override
public void onScroll(AbsListView view, int firstVisibleItem,
        int visibleItemCount, int totalItemCount) {
    Log.v("first visible count",firstVisibleItem+"");
    Log.v("visible count",visibleItemCount+"");
    Log.v("total item count",totalItemCount+"");
    notifyMe();

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:39:38.623

您需要在您的电话上调用 setOnScrollListener`GridView`

就像是

```
 public class AllStoresFragment extends Fragment {
           GridView gridview;
           @Override
           public View onCreateView(LayoutInflater inflater, ViewGroup container,
                                    Bundle savedInstanceState) {

              view = inflater.inflate(R.layout.allstores_fragment, container,
                false);     
              gridview = (GridView) view.findViewById(R.id.grid_view_storestab);
              gridview.setAdapter(new ImageAdapter(jsonresultinitial));
              gridview.setOnScrollListener(new GVOnScrollListener());
        }
       }   

    private void notifyMe()
    {
        ((BaseAdapter) ((GridView) view.findViewById(R.id.grid_view_storestab))
                .getAdapter()).notifyDataSetChanged();

        gridview.setAdapter(new ImageAdapter(
                jsonresult));

    }

   public final class GVOnScrollListener implements AbsListView.OnScrollListener {
       @Override 
       public void onScroll(AbsListView view, int firstVisibleItem,
                int visibleItemCount, int totalItemCount) {
            Log.v("first visible count",firstVisibleItem+"");
            Log.v("visible count",visibleItemCount+"");
            Log.v("total item count",totalItemCount+"");
            notifyMe();

        }
   } 
```

# perl - Perl MQSeries-1.33 安装失败

> ID：13854215
> 
> 赞同：1
> 
> 时间：2012-12-13T06:27:47.173
> 
> 标签：perl, ibm-mq

我正在通过 CPAN shell 安装 MQSeries-1.33 Perl 模块，但它失败了。我正在使用 Windows 7 和 Strawberry perl v5.16.2。

我还安装了 IBM Websphere MQ v7.5。

模块在制作时失败。下面是错误。

```
Cannot add determine value for 'MQENC_TNS', unknown constant 'MQENC_INTEGER_NORMAL '
Cannot add determine value for 'MQGMO_BROWSE_HANDLE', unknown constant 'MQGMO_MARK_BROWSE_HANDLE '
Cannot add determine value for 'MQENC_NORMAL', unknown constant 'MQENC_INTEGER_NORMAL '
Cannot add determine value for 'MQENC_S390', unknown constant 'MQENC_INTEGER_NORMAL '
Cannot add determine value for 'MQENC_REVERSED', unknown constant 'MQENC_INTEGER_REVERSED '
Cannot add determine value for 'MQGMO_BROWSE_CO_OP', unknown constant 'MQGMO_MARK_BROWSE_CO_OP '
typemap.PL: warning: type MQIEP.MQHMSG (MQINT64) not supported
C:\strawberry\perl\bin\perl.exe C:\strawberry\perl\lib\ExtUtils\xsubpp  -typemap C:\strawberry\perl\lib\ExtUtils\typemap -typemap typemap  MQSeries.xs > MQSeries.xsc && C:\strawberry\perl\bin\perl.exe
 -MExtUtils::Command -e mv -- MQSeries.xsc MQSeries.c
gcc -c  -I"C:/Mqm/Tools/C/include" -I../include         -s -O2 -DWIN32 -DPERL_TEXTMODE_SCRIPTS -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields -s -O2     -DVERSION=\"1.
33\"    -DXS_VERSION=\"1.33\"  "-IC:\strawberry\perl\lib\CORE"   MQSeries.c
In file included from MQSeries.xs:66:0:
C:/Mqm/Tools/C/include/cmqc.h:3584:2: error: unknown type name 'int64'
C:/Mqm/Tools/C/include/cmqc.h:3585:25: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'MQUINT64'
C:/Mqm/Tools/C/include/cmqc.h:3610:2: error: unknown type name 'MQUINT64'
dmake:  Error code 129, while making 'MQSeries.o'
dmake.exe:  Error code 255, while making 'subdirs'
  MQSERIES/MQSeries-1.33.tar.gz
  C:\strawberry\c\bin\dmake.exe -- NOT OK
Running make test
  Can't test without successful make
Running make install
  Make had returned bad status, install seems impossible
Stopping: 'install' failed for 'MQSeries'.
Failed during this command:
 MQSERIES/MQSeries-1.33.tar.gz                : make NO 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T18:33:45.477

首先，您为什么不下载并使用 Windows 的预构建 MQSeries v1.33 Perl 二进制文件？

> gcc -c -I"C:/Mqm/Tools/C/include" -I../include

IBM 不支持 Windows 上的 GCC（32 位或 64 位）。您需要使用受支持的编译器，即 MS Visual C++。

> C:/Mqm/Tools/C/include/cmqc.h:3584:2: 错误: 未知类型名称'int64'

一个不受支持的解决方法是在代码的最顶部添加以下定义：

```
#define _int64 __int64 
```

这会让您看到编译错误，但请记住，IBM 不支持它。

# php - MySQL一次并发连接太多

> ID：13854218
> 
> 赞同：2
> 
> 时间：2012-12-13T06:28:09.737
> 
> 标签：php, mysql, apache

我一次用 200 个并发用户测试 JMeter 大约 30 秒，发现 MySQL 连接失败。

该数据库结构良好，具有索引、查询和缓存。

现在是时候我们需要看看像 MySQL 企业这样的东西了吗？

或者有什么办法可以改善这一点？

这是我得到的错误：

```
Error: 2002 - Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2) 
```

`mysql_connect()`触发 PHP 函数时也会创建错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:00:19.373

您需要设置 MySQL 全局变量 max_connections 以增加每台 MySQL 服务器的最大连接数。但是，您需要知道增加多个连接意味着更多的 CPU 和内存消耗。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:33:03.423

尝试`max_connections`在 MySQL 中设置变量 - 200 个连接应该不是太大的问题，除非您的查询非常复杂。

```
SET GLOBAL max_connections=500; 
```

如果这没有帮助，请使用您的 JMeter 结果来确定哪些查询比其他查询花费更长的时间（使用加速期和/或最大用户数来获得大量样本*而不会实际连接失败*。

然后，这些查询需要重构和/或相关数据需要重构。如果您尝试避免过多的连接和嵌套的选择语句，即使在索引良好的系统上，也可以大大提高查询性能。使用 MySQL 的[`EXPLAIN`](http://dev.mysql.com/doc/refman/5.0/en/explain.html)功能来了解数据库实际上为您做了多少工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:53:49.540

在 php.ini 中，检查

```
mysql.allow_persistent = xx
mysql.max_persistent = xx
mysql.max_links = xx
mysql.connect_timeout = xx 
```

如果您的服务提供商允许，也可以使用 ini_set() 在您的代码中设置它们。

见[http://php.net/manual/en/ini.list.php](http://php.net/manual/en/ini.list.php)

# c++ - Mandatory initialization function inside the class

> ID：13854221
> 
> 赞同：1
> 
> 时间：2012-12-13T06:28:21.213
> 
> 标签：c++, oop

I have a custom shape class, simplified for the question here, and looks like the following:

```
class Shape : public SpriteProperties{

}; 
```

where class SpriteProperties is:

```
class SpriteProperties{
Point rotationPivotPoint;
Point rotationPivtoAxes;
float width, height, xPos, yPos, zPos;
Point color;
}; 
```

In the user's code, when the user initializes the shape, he uses a function of the following prototype. The params in the function are the **required** properties for any shape to be represented.

```
void init(float _x, float _y, float _w, float _h, Point* _color)
{
    //Initialize the shape
} 
```

However, my shapes also have additional properties such as rotation pivot points and axes, that the user should specify during this initialization process somehow, and these rotation properties might/might not come to use at a later point for the user depending on how he used the class.

```
void prepareRotationParams(Point* _rotationPivot, Point* _rotationAxes)
{
    //
} 
```

My question: I am thinking of restricting the user to use this prepare rotation function which might be utilized at a later point in the code, and at the same time I do not want to give the prepare rotation params in the `init` function itself, since these do not fall in line with the core properties that `must` be explicitly specified by the user for any shape. What would be the ideal approach?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:46:09.093

Use default arguments:

```
void init(float _x, float _y, float _w, float _h, Point* _color, Point* rPivot=0, Point *rAxes=0)
{
    //Initialize the shape
    if (rPivot && rAxes) {
        prepareRotationParams(rPivot, rAxes);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:37:06.247

First, consider to pass in arguments in the constructor. Of course this sometimes is not possible.

Second, are the rotation parameters constant once set, or can they be set multiple times? If they only can be set once and setting them twice is not supported, reconsider your design, because you essentially have 3 initialization functions (`constructor`, `init`, `prepareRotationParams`), which makes it easy for the user to accidentally use a partially initialized object.

Instead of having 3 initialization functions, consider the builder pattern. [http://en.wikipedia.org/wiki/Builder_pattern](http://en.wikipedia.org/wiki/Builder_pattern)

# iphone - 如何在单击 UIPageControl 的点时更改页面

> ID：13854222
> 
> 赞同：46
> 
> 时间：2012-12-13T06:28:26.203
> 
> 标签：iphone, ios, uiscrollview, uipagecontrol

在这里我有一个`pagecontrol`效果很好但是点击点它不会改变页面所以请帮助`changepage`：

```
- (void)viewDidLoad {
    scrollView=[[UIScrollView alloc]initWithFrame:CGRectMake(0, 0, 320, 420)];
    scrollView.delegate = self;
    [self.scrollView setBackgroundColor:[UIColor whiteColor]];
    [scrollView setCanCancelContentTouches:NO];
    scrollView.indicatorStyle = UIScrollViewIndicatorStyleWhite;
    scrollView.clipsToBounds = YES;
    scrollView.scrollEnabled = YES;
    [scrollView setShowsHorizontalScrollIndicator:NO];
    scrollView.pagingEnabled = YES;
    [self.view addSubview:scrollView];
    pageControl=[[UIPageControl alloc]initWithFrame:CGRectMake(0, 420, 320, 40)];
    [pageControl addTarget:self action:@selector(changepage:) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:pageControl];

    UIView *blueView = [[UIView alloc] init];
    blueView.frame = CGRectMake(0, 0, 640, 480);
    blueView.backgroundColor = [UIColor whiteColor];
    [scrollView addSubview:blueView];
    self.pageControl.numberOfPages = 2;
    [scrollView setContentSize:CGSizeMake(640, 0)];
}

-(void)changepage:(id)sender
{
    int page = pageControl.currentPage;
    if (page < 0)
        return;
    if (page >= 2)
        return;
    CGRect frame = scrollView.frame;
    frame.origin.x = frame.size.width * page;
    frame.origin.y = 0;
    [scrollView scrollRectToVisible:frame animated:YES];

}

- (void)scrollViewDidScroll:(UIScrollView *)_scrollView
{
    if (pageControlIsChangingPage)
        return;
    CGFloat pageWidth = _scrollView.frame.size.width;
    int page = floor((_scrollView.contentOffset.x - pageWidth / 2) / pageWidth) + 1;
    pageControl.currentPage = page;
} 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-01-04T12:15:13.070

您可以创建一个事件更改页面：

```
- (IBAction)changePage:(id)sender {
    UIPageControl *pager=sender;
    int page = pager.currentPage;
    CGRect frame = imageGrid_scrollView.frame;
    frame.origin.x = frame.size.width * page;
    frame.origin.y = 0;
    [imageGrid_scrollView scrollRectToVisible:frame animated:YES];
} 
```

将其绑定到 Pagecontrol 的值更改事件。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2018-10-05T07:54:46.263

这对于***swift 3***和***swift 4***的 pagecontrol 点单击操作更改页面索引非常有用。

```
@IBAction func pageControlSelectionAction(_ sender: UIPageControl) {
    let page: Int? = sender.currentPage
    var frame: CGRect = self.yourcollectionview.frame
    frame.origin.x = frame.size.width * CGFloat(page ?? 0)
    frame.origin.y = 0
    self.yourcollectionview.scrollRectToVisible(frame, animated: true)
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-07-13T07:37:33.313

只是为了完成银行家米塔尔的回答，最简单的快速方法是将想要的矩形滚动到可见。您不必处理“左”和“右”滚动，因为 iOS 本身会意识到您点击了哪个点，因此您可以滚动到正确的帧：

```
private func moveScrollViewToCurrentPage() {

 //You can use your UICollectionView variable too instead of my scrollview variable
            self.scrollView
                .scrollRectToVisible(CGRect(
                    x: Int(self.scrollView.frame.size.width) * self.pager.currentPage,
                    y: 0,
                     width:Int(self.scrollView.frame.size.width),
                    height: Int(self.scrollView.frame.size.height)),
                                     animated: true)

    } 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-12-25T06:49:48.627

这是***Swift 2***的解决方案`UICollectionView`。单击`UIPageControl's dots`将当前视图向左或向右移动。

```
// Define bounds
private var currentIndex:Int = 0
private let maxLimit = 25
private let minLimit = 0

// Define @IBAction from UIPageControl
@IBAction func moveViewLeftRight(sender: UIPageControl) {
    // Move to Right
    if currentIndex < maxLimit && sender.currentPage > currentIndex {
        currentIndex++
        self.collectionView.scrollToItemAtIndexPath(NSIndexPath(forItem: currentIndex, inSection: 0), atScrollPosition: .Right, animated: true)
    // Move to Left
    } else if currentIndex > minLimit {
        currentIndex--
        self.collectionView.scrollToItemAtIndexPath(NSIndexPath(forItem: currentIndex, inSection: 0), atScrollPosition: .Left, animated: true)
    }
} 
```

# php - 导出数据库时出错

> ID：13854225
> 
> 赞同：0
> 
> 时间：2012-12-13T06:28:41.073
> 
> 标签：php, mysql, database, exec

[我想使用在这里](http://faq.1and1.com/web_space__access/mysql/13.html)找到的 PHP 脚本导出我的数据库。

当我运行 PHP 脚本时，a`sql`被创建，但`sql`为空。

此外，它还在浏览器中显示此错误：

```
Strict Standards: Only variables should be passed by reference in C:\xampp\htdocs\test\Export.php on line 12
There was a warning during the export of testing to ~/database/test1.sql 
```

第 12 行是这一行：

```
exec($command,$output=array(),$worked); 
```

此外，我从示例中更改了输出路径，

```
$mysqlExportPath ='database/test1.sql'; 
```

如何解决这个错误？或者任何其他的例子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:39:12.510

问题是您在这一行中分配了一个空白数组

```
exec($command,$output=array(),$worked); 
```

所以只要在这个命令里面放一个变量。

```
$output=array();
exec($command,$output,$worked); 
```

# javascript - AWS S3 CORS 上传 - 文件大小控制

> ID：13854229
> 
> 赞同：0
> 
> 时间：2012-12-13T06:28:47.517
> 
> 标签：javascript, python, amazon-s3, cors, filesize

我打算使用他们[新的 CORS 上传](http://docs.amazonwebservices.com/AmazonS3/latest/dev/cors.html)api 将我古老的文件上传路由更改为 S3。但甚至在我开始之前，我就遇到了障碍。我可以很容易地生成带有自动过期的签名 URL，并将其发送回我的客户端脚本以开始上传。但是我现在如何限制文件大小？我不能只在我的脚本中添加限制。有没有办法在生成签名 URL 时配置文件大小？我在 python 上使用[BOTO](https://github.com/boto/boto)进行签名。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-17T14:41:21.900

看起来您可以在`content-length-range`通过 POST 上传的文件中包含签名策略（包括值）。这些链接中的任何一个都有帮助吗？

[使用 Ajax 请求（无 PHP）使用 HTML、javascript 和 jQuery 将图像上传到 Amazon s3](https://stackoverflow.com/questions/11240127/uploading-image-to-amazon-s3-with-html-javascript-jquery-with-ajax-request-n/12378395#12378395)

[http://www.tweetegy.com/2012/01/save-an-image-file-directly-to-s3-from-a-web-browser-using-html5-and-backbone-js/](http://www.tweetegy.com/2012/01/save-an-image-file-directly-to-s3-from-a-web-browser-using-html5-and-backbone-js/) （这个没有'实际上并未在策略中包含 content-length-range，但您可以添加它。）

# openssl - 从命令行查看/显示 PDF 的数字签名

> ID：13854230
> 
> 赞同：4
> 
> 时间：2012-12-13T06:28:49.747
> 
> 标签：openssl, digital-signature, sha1

我正在尝试了解有关数字签名的更多信息，并且在此过程中想尝试验证签名文件的真实性。我读到 GPO 签署了他们在 gpo.gov 上托管​​的所有文件，所以这些是我一直在查看的文件。这里有一个特别的：

[http://www.gpo.gov/fdsys/search/pagedetails.action?particleId=&packageId=BUDGET-2013-BUD](http://www.gpo.gov/fdsys/search/pagedetails.action?granuleId=&packageId=BUDGET-2013-BUD)

我在站点链接到的 Authenticity Metadate“PREMIS”文件中找到了公钥，但该节点是空的——我认为这是我可以找到文件签名的地方。

我可以使用以下命令创建文件的 sha-1 摘要：

```
openssl dgst -sha1 -out digest.txt BUDGET-2013-BUD.pdf 
```

我的理解是，要验证文件的真实性，我需要 1) 文件摘要，2) 签名者的公钥，以及 3)*签名*，使用这样的命令（我在[此处](http://users.dcc.uchile.cl/~pcamacho/tutorial/crypto/openssl/openssl_intro.html)找到）：

```
openssl rsautl -verify -in <signature> -out <digest> \
     -inkey <key> -pubin 
```

我知道您可以使用 Adob​​e Reader 来验证数字签名的 PDF，但也可以从命令行进行吗？除了我应该寻找的签名之外，还有什么其他的东西来完成这个吗？

# javascript - VB JavaScript 警报

> ID：13854232
> 
> 赞同：0
> 
> 时间：2012-12-13T06:28:50.047
> 
> 标签：javascript, asp.net, alert

这是我的代码，我被困在如何放置警报框上：

```
 If Session("prs") <300 Then
   ??????????????
     'Response.Redirect("profile.aspx")
     End IF 
```

我想要如果“prs”<300 然后弹出一个警告框并且该框保留在该页面上。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:35:05.143

这可能是您正在寻找的：

```
Response.Write("<script language='javascript'>alert('this is an alert');</script>"); 
```

# iphone - ios collison detection in CALayer

> ID：13854238
> 
> 赞同：0
> 
> 时间：2012-12-13T06:29:12.607
> 
> 标签：iphone, objective-c, xcode

I'm using 3 CALayers which are animating Up and Down in a line, how can i detect collision between these layers, i have used CGRectIntersectsRect to detect collision but i didn't get anything. Please help me.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:09:10.097

`CGRectIntersectRect` is a function which returns the boolean value, if one object intersects with other object. You must passed the two parameters(rect of two objects whose intersection you want to check) for this function. Please send some lines of code for better understanding.

[possible duplicate](https://stackoverflow.com/questions/6698085/cgrectintersectsrect)

[possible duplicate](https://stackoverflow.com/questions/6696393/cgrectintersectsrect-problem)

# c# - 如何在 Json Get 请求中传递参数

> ID：13854240
> 
> 赞同：1
> 
> 时间：2012-12-13T06:29:15.960
> 
> 标签：c#, json

我有一个像 "https://landfill.bugzilla.org/bugzilla-tip/jsonrpc.cgi?method=Product.get¶ms=[{"ids":"4"}]" 这样的 json 网址

我想在 c# 程序中将此作为 URL 传递。下面是代码片段。我怎样才能像上面那样传递像 ids 这样的参数？

```
try
{
    string url="https://landfill.bugzilla.org/bugzilla-tip/jsonrpc.cgi?method=Product.get";
    string ret = string.Empty;
    StreamWriter requestWriter;
    var webRequest = System.Net.WebRequest.Create(url) as HttpWebRequest;
    if (webRequest != null)
    {
        webRequest.Method = "GET";
        webRequest.ServicePoint.Expect100Continue = false;
        webRequest.Timeout = 20000;

        webRequest.ContentType = "application/json";        
    }
    HttpWebResponse resp = (HttpWebResponse)webRequest.GetResponse();
    Stream resStream = resp.GetResponseStream();
    StreamReader reader = new StreamReader(resStream);
    ret = reader.ReadToEnd();
    return ret;
}
catch (WebException exception)
{
    string responseText;
    using (var reader = new StreamReader(exception.Response.GetResponseStream()))
    {
        responseText = reader.ReadToEnd();
    }
    return responseText;
}
} 
```

需要传递“ids”作为参数，请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:35:06.417

困难的方法是手动创建一个字符串。更好的方法是使用 JSON.Net (Newtonsoft.Json) 之类的库...创建您的对象，使用该库中的 JSON 序列化程序，然后您就可以参加比赛了。

获取请求只是一个 URL，它是一个字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:56:20.120

如果您知道 Url 的外观并确定该参数是 Url 安全的（如`int`），则可以简单地使用 String.Format 来构造它：

```
 int id = 4;
 var url = String.Format("https://landfill.bugzilla.org/bugzilla-tip/"
       + "jsonrpc.cgi?method=Product.get&params=[{{\"ids\":\"{0}\"}}]", id); 
```

请注意，这不是构造 Url 的好方法——它只适用于一次性使用的代码，并且当您知道插入的参数是 Url 安全的时。正确的方法是使用 Uri 类或[如何在 C# 中为 URL 构建查询字符串中的方法？](https://stackoverflow.com/questions/829080/how-to-build-a-query-string-for-a-url-in-c)

如果您需要构造更复杂的参数（如 ID 数组） - 使用 jbehren 建议进行 JSON 序列化。

# php - 如何使用 php 将多维数组与公共密钥对进行比较？

> ID：13854244
> 
> 赞同：1
> 
> 时间：2012-12-13T06:29:28.177
> 
> 标签：php, arrays, compare

**阵列 A**

```
Array
(
    [0] => Array
        (
            [id] => 8
            [name] => test1
        )

    [1] => Array
        (
            [id] => 4
            [name] => test2
        )

    [2] => Array
        (
            [id] => 3
            [name] => test3
        )

) 
```

**阵列 B**

```
Array
(
    [0] => Array
        (
            [id] => 3
            [place] => madurai
        )

    [1] => Array
        (
            [id] => 4
            [place] => Trichy
        )

    [2] => Array
        (
            [id] => 55
            [place] => chennai
        )

) 
```

我需要一个用于数组比较的示例 php 代码。在数组中，**一**组密钥对 (id) 与数组**b**中的每个数组密钥对 (id) 进行比较。我想检索以下输出。

**输出**

```
Array
(
    [0] => Array
        (
            [id] => 8
            [name] => test1
            [place] => empty
        )

    [1] => Array
        (
            [id] => 4
            [name] => test2
            [place] => Trichy
        )

    [2] => Array
        (
            [id] => 3
            [name] => test3
            [place] => madurai
        )

) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:45:43.853

可能不是最有效的方法，但试试这个

```
<?php

$arrayA=array();
$arrayA[0]["id"]=8;
$arrayA[0]["name"]="test1";
$arrayA[1]["id"]=4;
$arrayA[1]["name"]="test2";
$arrayA[2]["id"]=3;
$arrayA[2]["name"]="test3";

$arrayB=array();
$arrayB[0]["id"]=3;
$arrayB[0]["place"]="madurai";
$arrayB[1]["id"]=4;
$arrayB[1]["place"]="Trichy";
$arrayB[2]["id"]=55;
$arrayB[2]["place"]="chennai";

$places=Array();
$i=0;
foreach($arrayA as $itemA)
{
    $places[$i]["id"]=$itemA["id"];
    $places[$i]["name"]=$itemA["name"];
    $match=0;
    foreach($arrayB as $itemB)
    {
        if($itemA["id"]==$itemB["id"])
        {
            $places[$i]["place"]=$itemB["place"];
            $match=1;
        }
    }
    if($match==0)
    {
            $places[$i]["place"]="empty";
    }
    $i++;
}

print_r($places);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:33:53.450

这段代码更好地说明了你的逻辑

```
<?php
$country1 = array("id" => "1", "country" => "Australia",);

$country2 = array("id" => "3", "country" => "India",);
$country3 = array("id" => "2", "country" => "USA",);

$array1 = array($country1, $country2, $country3);

$capital1 = array("id" => "1", "capital" => "Sydney",);

$capital2 = array("id" => "3","capital" => "Delhi",);

$capital3 = array("id" => "4","capital" => "Berne",);

$array2=array($capital1, $capital2, $capital3);

$size1 = count($array1);
$size2 = count($array2);

$j = 0;

while($j < $size2)
{
    $i=0;
    while($i < $size1)
    {
        if(($array1[$i]['id']) == ($array2[$j]['id']))
        { 
             echo $array2[$i]['capital']."is capital of ".$array1[$j]['country']."<br/>";
        }
        $i++;
    }
    $j++;
}

?> 
```

这是关联数组数组的一个简单示例。

# c# - 鼠标悬停在文本上，从表格中检索该文本的详细信息

> ID：13854245
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:29:29.783
> 
> 标签：c#, asp.net

ALL，这是我在 Stack Overflow 上的第一篇文章。我用 C# 编程已经有一段时间了。这样做时，我遇到了一个要求，即在网格视图的一列中，要显示一些文本（短文本）。现在，如果用户将鼠标悬停在此文本上，我希望将与存储在其他表格中的此短文本相关的详细信息显示为弹出窗口。

我一直在寻找很长时间，但找不到解决方案。请帮忙。我不知道从哪里开始。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:37:38.977

jQuery ajax 将是一个很好的解决方案。
在 onhover 事件中，使用 ajax 从服务器获取数据，然后构建 html 并弹出（使用 jQuery Dialog）。请参阅下面的 jQuery ajax 和对话框示例
[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)
[http://jqueryui.com/dialog/](http://jqueryui.com/dialog/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T03:59:32.283

谢谢大家！！我能够做到。我可以从 AjaxControlTool 工具包中找到一个 Ajax 控件：HoverMenuExtender。这解决了我的问题。但是是否建议使用此控件或按代码执行？

# iphone - iOS：如何创建类似新闻纸样式的 UILabel

> ID：13854248
> 
> 赞同：2
> 
> 时间：2012-12-13T06:29:40.250
> 
> 标签：iphone, ios, ipad, uilabel

![在此处输入图像描述](../Images/66513f65defbda9db3ad001fbd17c66d.png)

请参阅我想在 iOS 中创建标签的附件图片，谁能帮我解决这个问题，第一个大，另一个小，比如报纸风格。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T09:25:37.677

这不是您可以使用 UILabel 轻松完成的事情。如果文本是静态的，您可以制作 2 个 UILabel，一个用于第一个字母，一个用于其余文本。另一种选择是制作一个 webview 并创建一个 html 文件，您可以在项目中本地加载该文件。在该文件中，您可以使用 HTML/CSS 格式化文本（可能有点矫枉过正）。另一个不错的解决方案是[TTTAttributedLabel](https://github.com/mattt/TTTAttributedLabel)，它允许您在一个标签中执行不同的颜色和格式设置。

（ps如果您希望人们回答您的问题；如果您发现答案有帮助，则应单击答案旁边的复选标记。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T18:18:14.337

我从下面的链接得到了解决方案..

[https://github.com/C4Code/DropCap](https://github.com/C4Code/DropCap)

看看享受... :-]

# database - 代号一个模拟器文件访问错误

> ID：13854249
> 
> 赞同：0
> 
> 时间：2012-12-13T06:29:41.153
> 
> 标签：database, java-me, lwuit, codenameone

我用代号开发了一个应用程序，现在我向它添加了 Perst 数据库引擎。

当我想打开数据库文件时，出现错误“文件访问错误”。这是错误输出：

```
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:601)
at com.codename1.impl.javase.Executor$1.run(Executor.java:87)
at com.codename1.ui.Display.processSerialCalls(Display.java:984)
at com.codename1.ui.Display.mainEDTLoop(Display.java:827)
at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:119)
at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176) 
```

引起：org.garret.perst.StorageError：文件访问错误：org.garret.perst.impl.StorageImpl 的 org.garret.perst.impl.RmsFile.open(RmsFile.java:169) 处的 java.lang.NullPointerException。在 com.saminray.mobilebank.MainUI.(MainUI.java:21) 在 com.saminray.mobilebank.Main 的 com.saminray.database.DBManager.foo(DBManager.java:24) 打开（StorageImpl.java:827）。 start(Main.java:78) ... 还有 9 个 Java 结果：1

我认为这取决于代号模拟器。我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:16:53.127

您不能将外部数据库添加到 codenameone 应用程序。如果 J2ME 的设备（IOS、Android、RIM）上存在 SQLite，CodenameOne 支持 sqlite，您拥有更便携且适用于所有平台的 Storage API。

# javascript - 了解跨域 XHR 和 XML 数据

> ID：13854250
> 
> 赞同：0
> 
> 时间：2012-12-13T06:29:42.350
> 
> 标签：javascript, jquery, ajax, xmlhttprequest

我使用 JavaScript 和 AJAX 已经有一段时间了，我想了解 Cross Domain XHR 是如何工作的以及 JQuery 是如何处理它的，出于某种原因，我从来没有想过它是如何工作的。我已经阅读了[Wikipedia JSONP](http://en.wikipedia.org/wiki/JSONP)文章，我更加困惑。我不确定我不明白什么。

我知道使用`JSONP`我可以`JSON`直接在 JavaScript 中使用数据。例如[这个 JS Fiddle 例子](http://jsfiddle.net/ch4nd4n/NCMJS/)。在这里，我`JSON`用来显示图像列表。我可以使用`XML`数据来实现同样的目标吗？在回答这部分问题之前，请阅读类比的其余部分。

1）如果我尝试类似下面的东西或[小提琴链接](http://jsfiddle.net/ch4nd4n/AQDDE/16/)我得到错误`Uncaught ReferenceError: jsonFlickrFeed is not defined`

```
​$.ajax({
    url: "http://api.flickr.com/services/feeds/photos_public.gne",
    data: {
        format: "json"
    },
    dataType: "jsonp",
    success: function(d) {
        console.log(d);
    }
});​ 
```

2）下面的例子或[小提琴链接](http://jsfiddle.net/ch4nd4n/AQDDE/15/)工作正常

```
$.ajax({
    url : "http://api.flickr.com/services/feeds/photos_public.gne",
    data: {format: "json"},
    dataType: "jsonp"
});
jsonFlickrFeed = function(d){
    console.log(d);
} 
```

问）我想在 1 和 2 之间，因为返回的数据格式就像`jsonFlickrFeed({})`我们需要编写 jsonFlickrFeed 回调函数才能使其工作？

Q) 为什么它从不调用成功回调？

Q) 是 Fl​​ickr 端点完成返回 JSONP 的工作吗（我的意思是格式中的数据`jsonFlickrFeed({})`）？或者它只是返回实际的 JSON 和 JQuery 填充它？

3）`$.getJSON`代码如下所示或[小提琴](http://jsfiddle.net/ch4nd4n/NCMJS/)

```
$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?", {
    format: "json"
}, function(d) {
    console.log(d)
});​ 
```

Q) 在案例 3) 中 JQuery 如何处理它？我看到返回的数据是格式`jQuery1820349100150866434_1355379638775({})`所以如果我假设 JQuery 完成将 JSON 与回调关联的工作是否正确？

Q) 由于上述原因，它被称为 JQuery 的速记方法？

无论我尝试什么，我都无法使用 XML 数据。我一直想不出一种使用 XML 数据而不是 JSON 的方法。

Q) 是否可以以类似的方式使用 XML 数据而不是 JSON？

Q) 我能想到的唯一方法是通过同一个域代理数据。这种理解正确吗？

如果它在这里有帮助的话是我在 Dropbox 上的[XML 示例。](http://goo.gl/pcD48)这是为了证明当 XML 数据来自同一个域时，它可以被解析。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:37:18.050

> Q) 是否可以以类似的方式使用 XML 数据而不是 JSON？

不，因为 JSONP 不是 json，它是 javascript。客户端需要来自服务器的脚本，该脚本在客户端上执行。“JSONP”是一种使用脚本标签来获取 javascript 对象的技巧。您可以在 javascript 对象中以字符串形式发送 XML。

> Q) 我能想到的唯一方法是通过同一个域代理数据。这种理解正确吗？

或者让服务器支持 CORS

[http://en.wikipedia.org/wiki/Cross-origin_resource_sharing](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

我的观点是，如果域默认情况下不允许来自客户端脚本的 X 源请求，那么您将无能为力。某些浏览器可能允许它，但这不是默认行为。在这种情况下，唯一的选择是同一域上的代理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T14:27:44.927

@adeneo 回答了这个问题，但在评论中。所以我的理解`JSONP`从根本上是有缺陷的。当发出 JSONP 请求时，它不是 XHR 请求。相反，需要注意的是`script`动态插入标签并获取`JSON`. 因此，即使调用看起来像 XHR（至少 IMO JQuery），它也不是。根本不使用 XMLHttpRequest 对象。

这个问题已经回答过了[JSONP 到底是什么？](https://stackoverflow.com/questions/2067472/what-is-jsonp-all-about)但我以前不知何故错过了它。另一个解释跨域请求的好资源是[devlog](http://devlog.info/2010/03/10/cross-domain-ajax/)

我提出的其他问题变得多余了！

# qt - QML：属性动画，X 坐标总是回到旧位置 [已编辑]

> ID：13854251
> 
> 赞同：0
> 
> 时间：2012-12-13T06:29:43.913
> 
> 标签：qt, animation, position, qml, qt-quick

我做了一个动画，4 个矩形是改变 x 位置，一个到另一个。这是默认位置的屏幕截图：

我假设： - 图片1 = **A** - 图片2 = **B** - 图片3 = **C** - 图片4 = **D**

职位是：

```
A      B

C      D 
```

并且在动画发生后，位置变化是这样的：

```
B      A

D      C 
```

动画（id：anim1）发生后，出现了奇怪的情况。突然左图（B＆D）都向右移动（回到之前的位置）

```
 BA

       DC 
```

为什么会是这样？

这是我的动画代码。（运行过渡后我的动画调用）

```
Transition {
        from: ""
        to: "StartGame"
        reversible: false
        SequentialAnimation{
            PropertyAnimation{
                properties: "width"
                duration: 300
            }
            PropertyAnimation{
                properties: "x"
                duration: 500
            }
            PauseAnimation { duration: 200 }
            ParallelAnimation{
                PropertyAnimation{target: rot1; property: "angle"; from:0; to: 180; duration: 1000}
                PropertyAnimation{target: rot2; property: "angle"; from:0; to: 180; duration: 1000}
                PropertyAnimation{target: rot3; property: "angle"; from:0; to: 180; duration: 1000}
                PropertyAnimation{target: rot4; property: "angle"; from:0; to: 180; duration: 1000}
            }

            PauseAnimation { duration: 1000 }

            ScriptAction{
                script: anim1.start();
            }
    } 
```

这是anim1：

```
ParallelAnimation{
    id: anim1
    PropertyAnimation{
        target: card1
        property: "x"
        to: 550
        duration: 700
    }
    PropertyAnimation{
        target: card3
        properties: "x"
        to: 550
        duration: 700
    }
    PropertyAnimation{
        target: card2
        properties: "x"
        to: 100
        duration: 700
    }
    PropertyAnimation{
        target: card4
        properties: "x"
        to: 100
        duration: 700
    }
} 
```

我需要尽快解决这个问题。谢谢你的关注

这是完整的代码：

```
// import QtQuick 1.0 // to target S60 5th Edition or Maemo 5
import QtQuick 1.1
import "../../javascript/Functions.js" as Script

Rectangle {
    id: mainScreen
    width: 800
    height: 600
    property variant datas : [0,0,0,0]

    /*Main Menu*/
    Rectangle{
        id: startGame
        width: parent.width/2
        height: parent.height
        anchors.left: parent.left
        color: "#08FC39"
        Text{
            id: txtStartGame
            text: "Start Game"
            anchors{
                horizontalCenter: parent.horizontalCenter
                verticalCenter: parent.verticalCenter
            }
            color: "White"
            font{bold: true; family: "Segoe UI Bold"; pointSize: 15}
        }
        MouseArea{
            id: maStartGame
            anchors.fill: parent
            onClicked: {
                Script.randomPict();
                Script.randomAnimation();
                mainScreen.state="StartGame"
            }
        }
    }
    Rectangle{
        id: highScore
        width: parent.width/2
        height: parent.height
        anchors.right: parent.right
        color: "#0851FC"
        Text{
            id: txtHighScore
            text: "High Score"
            anchors{
                horizontalCenter: parent.horizontalCenter
                verticalCenter: parent.verticalCenter
            }
            color: "white"
            font{bold: true; family: "Segoe UI Bold"; pointSize: 15}
        }
        MouseArea{
            id: maHighScore
            anchors.fill: parent
            onClicked: mainScreen.state="HighScore"
        }
    }
    /*------------------------------*/

    /*StartGame*/
    Text{
        id: startGameTitle
        visible: false
        anchors{
            top: mainScreen.top
            topMargin: 20
            horizontalCenter: mainScreen.horizontalCenter
        }
        text: "Choose This Picture"
        color: "white"
        font{bold:true; family: "Segoe UI Bold"; pointSize: 20}
    }

    Flipable{
        id:card1
        width: 150
        height: width
        visible: false
        x:-width
        y:100
        transform: Rotation {
            id: rot1
            origin.x: card1.width/2
            origin.y: 0
            axis.x: 0; axis.y: 1; axis.z: 0;
            angle: 0
            onAngleChanged: img1.source = "../../images/models/"+Script.getPict(0)+".jpg";
            Behavior on angle {PropertyAnimation{}}
        }
        front:
            Rectangle {
                color: "#FAFF70"
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked: {
                        //img1.source =  "../../images/models/"+Script.getPict(0)+".jpg"
                        Script.showBack(rot1);
                    }
                }
        }

        back:
            Image {
                id: img1
                width: 150
                height: width
                property variant no: Script.getPict(0);
                MouseArea {
                    anchors.fill: parent;
                    onClicked:
                    {
                        Script.showFront(rot1);
                    }
                }
        }
    }

    Flipable{
        id:card2
        width: 150
        height: width
        visible: false
        x: mainScreen.width
        y: 100
        transform: Rotation {
            id: rot2
            origin.x: card2.width/2
            origin.y: 0
            axis.x: 0; axis.y: 1; axis.z: 0;
            angle: 0
            onAngleChanged: img2.source = "../../images/models/"+Script.getPict(1)+".jpg";
            Behavior on angle {PropertyAnimation{}}
        }
        front:
            Rectangle {
                color: "#FAFF70"
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked: {
                        //img2.source =  "../../images/models/"+Script.getPict(1)+".jpg"
                        Script.showBack(rot2);
                    }
                }
        }

        back:
            Image {
                id: img2
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked:
                    {
                        Script.showFront(rot2);
                    }
                }
        }
    }

    Flipable{
        id:card3
        width: 150
        height: width
        visible: false
        x: -width
        y: mainScreen.height - width - 50
        transform: Rotation {
            id: rot3
            origin.x: card3.width/2
            origin.y: 0
            axis.x: 0; axis.y: 1; axis.z: 0;
            angle: 0
            onAngleChanged: img3.source = "../../images/models/"+Script.getPict(2)+".jpg";
            Behavior on angle {PropertyAnimation{}}
        }
        front:
            Rectangle {
                color: "#FAFF70"
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked: {
                        //img3.source =  "../../images/models/"+Script.getPict(2)+".jpg"
                        Script.showBack(rot3);
                    }
                }
        }

        back:
            Image {
                id: img3
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked:
                    {
                        Script.showFront(rot3);
                    }
                }
        }
    }

    Flipable{
        id:card4
        width: 150
        height: width
        visible: false
        x: mainScreen.width
        y: mainScreen.height - width - 50
        transform: Rotation {
            id: rot4
            origin.x: card4.width/2
            origin.y: 0
            axis.x: 0; axis.y: 1; axis.z: 0;
            angle: 0
            onAngleChanged: img4.source = "../../images/models/"+Script.getPict(3)+".jpg";
            Behavior on angle {PropertyAnimation{}}
        }
        front:
            Rectangle {
                color: "#FAFF70"
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked: {
                        //img4.source =  "../../images/models/"+Script.getPict(3)+".jpg"
                        Script.showBack(rot4);
                    }
                }
        }

        back:
            Image {
                id: img4
                width: 150
                height: width
                MouseArea {
                    anchors.fill: parent;
                    onClicked:
                    {
                        Script.showFront(rot4);
                    }
                }
        }
    }
    /*------------------------------*/
    states:[
        State{
            name: "MainMenu"
            PropertyChanges{
                target: startGame
                width: mainScreen.width/2
            }
            PropertyChanges{
                target: highScore
                width: mainScreen.width/2
            }
        },
        State{
            name: "StartGame"
            PropertyChanges {
                target: startGame
                width: mainScreen.width
            }
            PropertyChanges {
                target: highScore
                width: 0
            }
            PropertyChanges {
                target: txtStartGame
                visible: false
            }
            PropertyChanges{
                target: txtHighScore
                visible: false
            }
            PropertyChanges{
                target: maStartGame
                enabled: false
            }
            PropertyChanges {
                target: card1
                visible: true
                x: 100
            }
            PropertyChanges {
                target: card2
                visible: true
                x: mainScreen.width - card2.width - 100
            }
            PropertyChanges {
                target: card3
                visible: true
                x: 100
            }
            PropertyChanges {
                target: card4
                visible: true
                x: mainScreen.width - card4.width - 100
            }
            PropertyChanges {
                target: startGameTitle
                visible: true
            }
        },
        State{
            name: "HighScore"
            PropertyChanges {
                target: startGame
                width: 0
            }
            PropertyChanges {
                target: highScore
                width: mainScreen.width
            }
            PropertyChanges {
                target: txtStartGame
                visible: false
            }
            PropertyChanges{
                target: txtHighScore
                visible: false
            }
            PropertyChanges{
                target: maHighScore
                enabled: false
            }
        }
    ]

    transitions:[
        Transition {
            from: ""
            to: "StartGame"
            reversible: false
            SequentialAnimation{
                PropertyAnimation{
                    properties: "width"
                    duration: 300
                }
                PropertyAnimation{
                    properties: "x"
                    duration: 500
                }
                PauseAnimation { duration: 200 }
                ParallelAnimation{
                    PropertyAnimation{target: rot1; property: "angle"; from:0; to: 180; duration: 1000}
                    PropertyAnimation{target: rot2; property: "angle"; from:0; to: 180; duration: 1000}
                    PropertyAnimation{target: rot3; property: "angle"; from:0; to: 180; duration: 1000}
                    PropertyAnimation{target: rot4; property: "angle"; from:0; to: 180; duration: 1000}
                }

                PauseAnimation { duration: 1000 }

                ScriptAction{
                    script: anim1.start();
                }
            }
        },
        Transition {
            from: ""
            to: "HighScore"
            PropertyAnimation{
                properties: "width"
                duration: 300
            }
        }
    ]
    ParallelAnimation{
        id: anim1
        PropertyAnimation{
            target: card1
            property: "x"
            to: 550
            duration: 700
        }
        PropertyAnimation{
            target: card3
            properties: "x"
            to: 550
            duration: 700
        }
        PropertyAnimation{
            target: card2
            properties: "x"
            to: 100
            duration: 700
        }
        PropertyAnimation{
            target: card4
            properties: "x"
            to: 100
            duration: 700
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T16:06:00.100

```
 State{
        name: "StartGame"
        PropertyChanges {
            target: startGame
            width: mainScreen.width
        }
        PropertyChanges {
            target: highScore
            width: 0
        }
        PropertyChanges {
            target: txtStartGame
            visible: false
        }
        PropertyChanges{
            target: txtHighScore
            visible: false
        }
        PropertyChanges{
            target: maStartGame
            enabled: false
        }
        PropertyChanges {
            target: card1
            visible: true
            x: 100
        }
        PropertyChanges {
            target: card2
            visible: true
            x: mainScreen.width - card2.width - 100
        }
        PropertyChanges {
            target: card3
            visible: true
            x: 100
        }
        PropertyChanges {
            target: card4
            visible: true
            x: mainScreen.width - card4.width - 100
        }
        PropertyChanges {
            target: startGameTitle
            visible: true
        }
    }, 
```

在您的“开始游戏”状态下，您重置所有卡片的 x……将卡片 1 的“x:100”更改为“x:500”，依此类推。

下次提供代码时，请尝试将其缩减为显示问题的基本要素，并且仍然可以作为独立的工作，而不是整个工作。

# http - 如何让iphone上的网络浏览器自动添加http://www。在任何 URL 之前

> ID：13854252
> 
> 赞同：-2
> 
> 时间：2012-12-13T06:29:50.907
> 
> 标签：http, url, web

我正在为 iphone 制作一个网络浏览器，我想知道如何让网络浏览器`http:// www`在用户输入的任何 URL 之前自动添加。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:12:47.047

您没有向我们展示任何代码，甚至没有指定您的语言，所以我假设您要求的是您已经知道在哪里添加的正确算法：

如果你想添加`http://www.`到任何 URL，你当然可以，但这很难被推荐。例如，一个人会认为`http://www.en.wikipedia.org`没有用。我相信您可以找到一个确实中断的页面。`http://www.https://bank.example.com`肯定是无效的。

我推荐这个：

1.  如果 URL 不是以指定的协议开头（“协议指定”的正则表达式：），则在`^\w+\:\/\/`前面添加`http://`
2.  尝试 DNS 查找或访问 URL。
3.  如果查找失败，并且 URL 尚未以 开头`www.`，则在前面添加`www.`.
4.  你可以在这里停下来。您已经尽可能地处理了前缀。
5.  如果你添加了`www.`，做一个新的查找
6.  如果查找仍然失败，请尝试将流行的顶级域 ( `.com`, `.net`, `.org`, ...) 附加到 URL 中，无论是否带有`www.`.

你甚至可以观察用户的习惯，找出用户最常访问的顶级域，并尝试先追加它们。

当然，如果你想要更好的东西，你可以。观察任何现代桌面浏览器中地址栏的行为：它基本上对曾经访问过的地址集执行全文搜索，按访问次数（和新鲜度？）加权。您甚至可以跟踪访问次数与访问它的字符串，而不是为不相关的输入提供 URL。Chrome 确实跟踪输入与 URL => 命中计数（建议成功的频率）和未命中计数（建议不成功的频率）。

最有可能的是，您需要为此制作自己的虚拟键盘，但这与编写渲染核心或 javascript 引擎（甚至是相当快的 CSS 引擎）相比只是少量工作。

# xml - 查找包含特定单词的节点数

> ID：13854253
> 
> 赞同：1
> 
> 时间：2012-12-13T06:29:51.133
> 
> 标签：xml, flash

这是一个常见的 xml 结构，我需要包含单词“yes”的节点长度。例如。在这里，我们看到包含“是”的节点是 2。

如何找到这些长度？

```
<floor1>
    <block>no</block>
    <block>no</block>   
    <block>yes</block>  
    <block>no</block>   
    <block>no</block>   
    <block>yes</block>          
</floor1> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-07T18:42:34.847

在 Java 7 中使用[XPath ：](http://docs.oracle.com/javase/7/docs/api/javax/xml/xpath/package-summary.html)

```
InputSource source = new InputSource("count.xml");
Number count = (Number) XPathFactory.newInstance()
    .newXPath()
    .evaluate("count(//block[text()='yes'])", source, XPathConstants.NUMBER); 
```

# qt - 如何链接到 libc6-dbg 而不仅仅是 libc6

> ID：13854256
> 
> 赞同：1
> 
> 时间：2012-12-13T06:30:05.253
> 
> 标签：qt, qmake, debug-symbols, libc

我有一个程序，在调试模式下编译。然而，当我做 ldd 时：

```
libpthread.so.0 => /lib/i386-linux-gnu/libpthread.so.0 (0x00821000)
libstdc++.so.6 => /usr/lib/i386-linux-gnu/libstdc++.so.6 (0x0083c000)
libm.so.6 => /lib/i386-linux-gnu/libm.so.6 (0x00921000)
libgcc_s.so.1 => /lib/i386-linux-gnu/libgcc_s.so.1 (0x009ac000)
libc.so.6 => /lib/i386-linux-gnu/libc.so.6 (0x152fa000)
libgthread-2.0.so.0 => /usr/lib/i386-linux-gnu/libgthread-2.0.so.0 (0x0094d000)
... 
```

我在这里看不到任何调试符号...

我的程序崩溃了，我在 gdb bt 中有这个输出：

```
#0  0x00007f2f95ca7030 in ?? ()
#1  0x00007f3013edd801 in ?? ()
#2  0x0002965300014c4c in ?? ()
#3  0x00007f305e3006c0 in ?? ()
#4  0x00007f3000000084 in ?? ()
#5  0x00007f3000000002 in ?? ()
#6  0x00007f307a57aec0 in ?? ()
#7  0x000000000494c740 in ?? ()
#8  0x00007f3092e93720 in ?? () from /lib/x86_64-linux-gnu/libc.so.6
#9  0x0000000000000030 in ?? ()
#10 0x000000000b85de60 in ?? ()
#11 0x00007f305f913000 in ?? ()
#12 0x00007f3095cbe750 in ?? ()
#13 0x00007f3089eb2390 in ?? ()
#14 0x00007f3095cc4a88 in ?? ()
#15 0x00007f30956b4d78 in ?? () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
#16 0x00007f3095cc3800 in ?? ()
#17 0x00007f3089eb2000 in ?? ()
#18 0x00007f3088c41230 in ?? ()
#19 0x00007f30956b4d78 in ?? () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
#20 0x0000000004c35488 in ?? ()
#21 0x00007f3089eb2060 in ?? ()
#22 0x00007f3095cbe738 in ?? ()
#23 0x00007f30952c83a1 in ?? () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
#24 0x00007f309535f567 in ?? () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
#25 0x00007f30953349a2 in ?? () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
#26 0x00007f30954176ce in QScriptValue::call(QScriptValue const&, QList<QScriptValue> const&) () from /usr/lib/x86_64-linux-gnu/libQtScript.so.4
... (Readable backtrace from my code) 
```

所以我的问题是，如何链接到 libc6 的调试版本？如果我知道要传递给编译器的内容，那么我可以将其放入 qmake 文件中，以便以这种方式编译。

我也安装了 libc6-dbg。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T07:14:57.850

> 我在这里看不到任何调试符号...

目前尚不清楚您是如何获得该堆栈跟踪的。您可能没有正确调用 GDB。

> 如何链接到 libc6-dbg 而不仅仅是 libc6

你不做这种事。`libc6-dbg`软件包提供[单独的调试文件](http://sourceware.org/gdb/onlinedocs/gdb/Separate-Debug-Files.html)。您不需要链接它们——GDB 知道如何自动加载它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:04:13.473

`CONFIG`您可以通过qmake 文件中的宏提供不同的配置：

```
CONFIG(debug, debug|release) {
    LIBS += -llibc6-dbg
} else {
    LIBS += -llibc6
} 
```

如果您试图理解语法：它告诉 qmake 检查选项`debug`和变量`release`，`CONFIG`如果找到`debug`，则执行第一个路径，否则执行第二个。

如果您遇到任何麻烦，[此论坛主题](http://qt-project.org/forums/viewthread/3972)可能会对您有所帮助。

# iphone - 来自 Plist 的 UItableView 数据

> ID：13854261
> 
> 赞同：0
> 
> 时间：2012-12-13T06:30:35.477
> 
> 标签：iphone, ios, ipad, uitableview, plist

我有一个包含数千个数组的 plist。每个数组包含字典，其中包含 51 个项目。这意味着总共有大约 40,000 个数据，我已经`UITableView`正确填充了。如果我在其中输入大约 10 个`Array`..`UITableView`它显示行在良好的视野中......但是当我超过 40 个阵列时......`UITableView`变得很奇怪。你甚至无法理解。 ![第一的](../Images/3cdd062fc97bbf0196e730d7aa41ce96.png) . .

并且`UITableView`在下面..

![秒](../Images/87aa85b5f2bc505b09e90d3781e3f578.png) .

我还尝试为每个部分扩展行。这对我也不起作用..我该怎么办？

**编辑**代码

```
-(void)ViewDidLoad
NSString *plistPath = [[NSBundle mainBundle] pathForResource:@"sam" ofType:@"plist"];

//Load the file in a dictionnary
NSDictionary *dict = [[NSDictionary alloc] initWithContentsOfFile:plistPath];

self.myData = dict;

//SORTING THE DICTIONARY    
NSArray *dicoArray = [[self.myData allKeys] sortedArrayUsingComparator:^(id firstObject, id secondObject) {
    return [((NSString *)firstObject) compare:((NSString *)secondObject) options: NSCaseInsensitiveSearch];
}];

self.mySections = dicoArray;

NSLog(@"path values%@",tableDict);

}
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{

return [self.mySections count];

}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{

 if ([self tableView:tableView canCollapseSection:section])
 {
    if ([expandedSections containsIndex:section])
    {

NSString *key = [self.mySections objectAtIndex:section];
NSArray *dataInSection = [[self.myData objectForKey:key] objectAtIndex:0];
return [dataInSection count];
    }
    return 1;
  }
return 1;
  }

-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {
NSString *key = [self.mySections objectAtIndex:section];
 return [NSString stringWithFormat:@"%@", key];
}

-(NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView {
return self.mySections;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier] autorelease];
}

// Configure the cell...

NSUInteger section = [indexPath section];
NSUInteger row = [indexPath row];

NSString *key = [self.mySections objectAtIndex:section];

NSDictionary *dataForSection = [[self.myData objectForKey:key] objectAtIndex:0];
NSArray *array=dataForSection.allKeys;

cell.textLabel.text = [[dataForSection allKeys] objectAtIndex:row];    
cell.detailTextLabel.text=[dataForSection valueForKey:[array objectAtIndex:indexPath.row]];

   return cell;     
 } 
```

此代码工作正常如果我将更少的数组说 10Array 与 51 个值...但是当我采取更多...屏幕显示像这样

**编辑**

```
 <?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
 <plist version="1.0">
 <dict>
    <key>BUTTER,WITH SALT</key>
    <array>
        <dict>
            <key>Alpha_Carot_(µg)</key>
            <string>0</string>
            <key>Ash_(g)</key>
            <string>2.11</string>
            <key>Beta_Carot_(µg)</key>
            <string>158</string>
            <key>Beta_Crypt_(µg)</key>
            <string>0</string>
            <key>Calcium_(mg)</key>
            <string>24</string>
            <key>Carbohydrt_(g)</key>
            <string>0.06</string>
            <key>Cholestrl_(mg)</key>
            <string>215</string>
            <key>Choline_Tot_ (mg)</key>
            <string>18.8</string>
            <key>Copper_mg)</key>
            <string>0</string>
            <key>Energ_Kcal</key>
            <string>717</string>
            <key>FA_Mono_(g)</key>
            <string>21.021</string>
            <key>FA_Poly_(g)</key>
            <string>3.043</string>
            <key>FA_Sat_(g)</key>
            <string>51.368</string>
            <key>Fiber_TD_(g)</key>
            <string>0</string>
            <key>Folate_DFE_(µg)</key>
            <string>3</string>
            <key>Folate_Tot_(µg)</key>
            <string>3</string>
            <key>Folic_Acid_(µg)</key>
            <string>0</string>
            <key>Food_Folate_(µg)</key>
            <string>3</string>
            <key>GmWt_1</key>
            <string>227</string>
            <key>GmWt_2</key>
            <string>14.2</string>
            <key>GmWt_Desc1</key>
            <string>1 cup</string>
            <key>GmWt_Desc2</key>
            <string>1 tbsp</string>
            <key>Iron_(mg)</key>
            <string>0.02</string>
            <key>Lipid_Tot_(g)</key>
            <string>81.11</string>
            <key>Lut+Zea_ (µg)</key>
            <string>0</string>
            <key>Lycopene_(µg)</key>
            <string>0</string>
            <key>Magnesium_(mg)</key>
            <string>2</string>
            <key>Manganese_(mg)</key>
            <string>0</string>
            <key>Niacin_(mg)</key>
            <string>0.042</string>
            <key>Panto_Acid_mg)</key>
            <string>0.11</string>
            <key>Phosphorus_(mg)</key>
            <string>24</string>
            <key>Potassium_(mg)</key>
            <string>24</string>
            <key>Protein_(g)</key>
            <string>0.85</string>
            <key>Refuse_Pct</key>
            <string>0</string>
            <key>Retinol_(µg)</key>
            <string>671</string>
            <key>Riboflavin_(mg)</key>
            <string>0.034</string>
            <key>Selenium_(µg)</key>
            <string>1</string>
            <key>Sodium_(mg)</key>
            <string>714</string>
            <key>Sugar_Tot_(g)</key>
            <string>0.06</string>

        </dict>

    </array>
    <key>BUTTER,WHIPPED,WITH SALT</key>
    <array>
        <dict>
            <key>Alpha_Carot_(µg)</key>
            <string>0</string>
            <key>Ash_(g)</key>
            <string>2.11</string>
            <key>Beta_Carot_(µg)</key>
            <string>158</string>
            <key>Beta_Crypt_(µg)</key>
            <string>0</string>
            <key>Calcium_(mg)</key>
            <string>24</string>
            <key>Carbohydrt_(g)</key>
            <string>0.06</string>
            <key>Cholestrl_(mg)</key>
            <string>219</string>
            <key>Choline_Tot_ (mg)</key>
            <string>18.8</string>
            <key>Copper_mg)</key>
            <string>0.016</string>
            <key>Energ_Kcal</key>
            <string>717</string>
            <key>FA_Mono_(g)</key>
            <string>23.426</string>
            <key>FA_Poly_(g)</key>
            <string>3.012</string>
            <key>FA_Sat_(g)</key>
            <string>50.489</string>
            <key>Fiber_TD_(g)</key>
            <string>0</string>
            </dict></array>
      </dict></plist> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:28:52.963

我现在明白问题是什么了。您有一个太大的索引选择。

您可以通过删除 sectionIndexTitlesForTableView 方法来删​​除它。

如果您真的想要这个，您可以将所有字符串格式化为不大于几个字符，例如：

```
-(NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView
{
    NSMutableArray *shorterArray = [[NSMutableArray alloc]init];
    for( NSString *sectionTitle in self.mySections ){
        NSString *shortSectionTitle;
        if( sectionTitle.length > 4 ){
            shortSectionTitle = [NSString stringWithFormat:@"%@..", [sectionTitle substringToIndex:4]];
        } else {
            shortSectionTitle = sectionTitle;
        }
        [shorterArray addObject:shortSectionTitle];
    }
    return shorterArray;
} 
```

如果您需要更多帮助，请告诉我

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:15:58.930

```
NSDictionary *dataForSection = [self.mySections objectAtIndex:section];
NSArray *array=dataForSection.allKeys;

cell.textLabel.text = [array objectAtIndex:row];    
cell.detailTextLabel.text=[dataForSection objectForKey:[array objectAtIndex:row]]; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-13T06:46:27.320

尝试删除 if (cell == nil) { } 条件。即声明，cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:CellIdentifier] autorelease]; 如果括号外。

# xml - 使用 Oracle XMLType 时处理空值

> ID：13854265
> 
> 赞同：2
> 
> 时间：2012-12-13T06:30:59.573
> 
> 标签：xml, oracle, stored-procedures, xmltype

我正在使用 Oracle 的 XMLType 函数从返回游标的存储过程中获取 XML 数据。我的 SQL 看起来像这样：

```
select 
XMLType(
    package_name.storedProcName('PARAM1', 'PARAM2', 'PARAM3')
) as sresult 
from dual; 
```

在存储过程返回记录的情况下，这可以正常工作，并且我得到了我期望的 XML 结果。但是，当该过程不返回任何记录时，我收到以下错误：

```
ORA-06502: PL/SQL: numeric or value error
ORA-06512: at "SYS.XMLTYPE", line 334
ORA-06512: at line 1 
```

在这种情况下，我最好返回 null、空白字符串或其他值。当然，我想避免每次发生这种情况时都引发 Oracle 异常。我能做些什么来实现这一目标？

**澄清：**我的问题是当存储过程返回一个空游标时，XMLType 构造函数会引发异常。如何在我的 SQL 查询中检测到空游标？（不幸的是，我没有在 Oracle 端编程的奢侈——我正在编写一个 Java 客户端。）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T13:06:49.370

对于 SQL 解决方案：

```
select 
XMLType.createxml(
    package_name.storedProcName('PARAM1', 'PARAM2', 'PARAM3')
) as sresult 
from dual; 
```

那应该避免构造函数错误。

例如

```
SQL> select xmltype.createxml(mycur(0)) from dual;

XMLTYPE.CREATEXML(MYCUR(0))
-------------------------------------------------------------------------------

SQL> select xmltype(mycur(0)) from dual;
ERROR:
ORA-06502: PL/SQL: numeric or value error
ORA-06512: at "SYS.XMLTYPE", line 334
ORA-06512: at line 1

no rows selected

x
SQL> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-30T03:50:17.463

我已经解决了同样的问题处理异常

```
begin
  xml:=xmltype(cur);
exception when others then 
  dbms_output.put_line(sqlerrm);
  xml:=xmltype('<ROWS></ROWS>');
end; 
```

# android - 无法在 Android 中输入 AutoCompleteTextView

> ID：13854266
> 
> 赞同：1
> 
> 时间：2012-12-13T06:31:05.837
> 
> 标签：android, layout, autocompletetextview

我在我的布局中放置了一个 AutoCompleteTextView，我不能在其中写任何可见的东西！我找不到这个问题的解决方案。

这是我的布局：

```
<AutoCompleteTextView
        android:id="@+id/txtOccupation"
        android:layout_width="510dp"
        android:layout_height="40dp"
        android:layout_below="@+id/datePicker"
        android:layout_toRightOf="@id/lblOccupation"
        android:background="#FFFFFF"
        android:paddingTop="10dp"
        android:paddingBottom="10dp" /> 
```

这是我在 OnCreate() 中编写的处理 autoCompletion 的代码：

```
//---AutoComplete ---
        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_dropdown_item_1line, Occupations);
                AutoCompleteTextView textView = (AutoCompleteTextView)
                findViewById(R.id.txtOccupation);
                textView.setThreshold(3);
                textView.setAdapter(adapter); 
```

我的活动课程中有一个数组：

```
String[] Occupations = {"Software Engineer","Denist","Insustrial Engineer","University Professor","Secretary"}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:46:24.543

在 XML 中放这个。在该 completionThreshold=1 意味着，在键入一个字母后，列表将显示，而不是像这样将其设置为 2。

```
<AutoCompleteTextView
     android:id="@+id/autoCompleteTextView_search_location"
     android:layout_width="match_parent"
     android:layout_height="wrap_content"
     android:layout_gravity="center_horizontal"
     android:completionThreshold="1"
     android:imeOptions="actionDone"
     android:inputType="text"
     android:paddingLeft="10dp"
     android:singleLine="true"
     android:maxLength="20"
     android:textSize="22px" >
</AutoCompleteTextView> 
```

在 Activity 中，它应该实现 TextWatcher。然后为此添加未实现的方法。然后像这样设置适配器。

```
autoCompleteTextView_search_location.addTextChangedListener(this);
autoCompleteTextView_search_location.setAdapter(new ArrayAdapter<String>(this,
    android.R.layout.simple_dropdown_item_1line,occupations)); 
```

让我知道您的问题是否已解决。

# python - 是否可以通过提供网站的 URL 来获得包括 css 在内的网站的完整源代码？+ 蟒蛇

> ID：13854274
> 
> 赞同：2
> 
> 时间：2012-12-13T06:31:36.653
> 
> 标签：python

我正在寻找一个带有网站 URL 的 python 脚本，它可以将带有 css 链接的完整 HTML 源代码也下载到我正在运行我的 python 脚本的本地计算机中。

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:42:53.267

是的，这很容易。您可以使用[PyCurl](http://pypi.python.org/pypi/pycurl)（用于 curl 的 python 绑定）

但是（很可能）您将得到的是经过处理的 html+javascript。（即客户端浏览器读取的内容）。

至于 javascript，大多数生产/商业网站都使用 javascript 框架，这些框架试图优化代码，从而使人类无法阅读。HTML 也是如此，许多框架允许为 html（可扩展模板）创建分层架构，因此您将得到每页一个 html，它（很可能）由框架使用许多（模板）文件生成。Css 比其他 2 简单一点；）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:51:02.240

我同意 0xc0de 和乔迪的观点。PyCurl 和 HTTrack 可以做你想做的事。如果您使用的是 'Nix OS，您还可以使用`wget`.

是的，这是可能的。事实上，我已经写完了你几天前描述的脚本。;) 我不会在这里发布脚本，但我会根据我所做的工作给你一些提示。

1.  下载网页。您可以为此使用`urllib2.urlopen`(Python 2.x) 或 `urllib.request.urlopen`(Python 3)。
2.  然后在下载页面后，解析下载页面的源代码（好吧，您也可以在线解析源代码，但这意味着再次调用
    `urllib2.urlopen`/ `urllib.request.urlopen`）并获取您需要的所有链接。您可以为此使用[BeautifulSoup 。](http://www.crummy.com/software/BeautifulSoup/)然后下载您需要的所有内容（使用您在步骤 1 中用于下载网页的相同代码）。
3.  `href`通过将所有/更改`src`为 css/image/js 文件的本地路径来更新本地页面。您可以`fileinput`用于就地文本替换。有关更多详细信息，请参阅此[SO 帖子](https://stackoverflow.com/questions/1325905/inserting-line-at-specified-position-of-a-text-file-in-python)。

而已。您必须担心的可选内容是使用代理从网络连接/下载（如果您使用代理）、创建文件夹和记录器。

你也可以使用[Scrapy](http://scrapy.org/)。查看这篇关于如何使用 Scrapy 抓取网站的[博客文章。](http://isbullsh.it/2012/04/Web-crawling-with-scrapy/)

# android - android-通过凭据进行 sip 注册

> ID：13854275
> 
> 赞同：0
> 
> 时间：2012-12-13T06:31:41.687
> 
> 标签：android, port, registration, sip

我想知道在 sipRegistration 期间是否有传递凭据。我所做的是读取客户端的注册请求，并使用 UDP 服务器回复客户端的 Ip 并端口成功消息。这样就注册成功了，可以不用sipServer直接调用。但问题是我想修复 sip 客户端正在侦听成功消息的端口。

有什么方法可以设置此侦听端口或在注册请求数据包中发送此凭据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:04:54.443

不，您无法使用默认 SIP 客户端修复端口。它提供了一个相当高级的界面，如果你想调整选项或扩展它可能不是一个很好的选择。而且它自 2.3 以来没有变化，所以不太清楚它是否会进化。

# python - 将csv中的列动态导入sqlite3和python中的数据库表

> ID：13854276
> 
> 赞同：5
> 
> 时间：2012-12-13T06:31:42.200
> 
> 标签：python, sql, sqlite, csv, import

如何获取任意 csv 文件并使用 python 创建一个包含指定列的新表？假设我有许多具有不同列名的不同 csv 文件，我想使用 python 为每个单独的文件创建一个表。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T09:39:38.360

在以下示例中，我假设文件包含定义列名的第一行。否则，您可以只使用固定的名称列表。我概述的解决方案可以改进以测试实际数据值以推断它们的类型，但我假设最初您会对只为 CSV 文件中的每一列定义一个 varchar 字段的解决方案感到满意（sqlite 将所有内容存储为无论如何字符数据）。

```
In [54]: f = open("/Users/sholden/test.csv", 'rU')

In [55]: reader = csv.reader(f)

In [56]: names = reader.next()

In [57]: names
Out[57]: ['First', 'Second', 'Third']

In [65]: import sqlite3 as db

In [66]: conn = db.connect(":memory:")

In [67]: curs = conn.cursor()

In [68]: sql = """create table x (\n""" +\
      ",\n".join([("%s varchar" % name) for name in names])\
      + ")"

In [69]: sql
Out[69]: 'create table x (\nFirst varchar,\nSecond varchar,\nThird varchar)'

In [70]: curs.execute(sql)
Out[70]: <sqlite3.Cursor at 0x101f2eea0>

In [71]: for line in reader:
    curs.execute("""INSERT INTO x (First, Second, Third)
                    VALUES (?, ?, ?)""", tuple(line))
   ....:     

In [72]: curs.execute("SELECT * FROM x")
Out[72]: <sqlite3.Cursor at 0x101f2eea0>

In [73]: curs.fetchall()
Out[73]: [(u'3', u'4', u'Charlie'), (u'5', u'6', u'Damion'), (u'78', u'90', u'Sidney')] 
```

如果您的数据涉及 Unicode，请小心，因为已知 Python 2 csv 模块不是 Unicode 安全的。（出于这个原因，我最近不得不写自己的读者）。

# spring - Spring Security 3.0.3.RELEASE：ArtifactTransferException：传输失败

> ID：13854278
> 
> 赞同：1
> 
> 时间：2012-12-13T06:31:43.003
> 
> 标签：spring, spring-security, maven-3, pom.xml

以下是解决依赖关系时 spring security 3 的错误 I：

```
Multiple annotations found at this line:
    - Missing artifact org.springframework.security:org.springframework.security.web:jar:3.0.3.RELEASE
    - ArtifactTransferException: Failure to transfer 
     org.springframework.security:org.springframework.security.web:jar:3.0.3.RELEASE from http://
     repository.springsource.com/maven/bundles/release was cached in the local repository, resolution will not be 
     reattempted until the update interval of com.springsource.repository.bundles.release has elapsed or updates are 
     forced. Original error: Could not transfer artifact org.springframework.security:org.springframework.security.web:jar:
     3.0.3.RELEASE from/to com.springsource.repository.bundles.release (http://repository.springsource.com/maven/
     bundles/release): connection timed out to http://repository.springsource.com/maven/bundles/release/org/
     springframework/security/org.springframework.security.web/3.0.3.RELEASE/
     org.springframework.security.web-3.0.3.RELEASE.jar 
```

以下是我的 pom 文件中定义的 spring security 3 依赖项：

```
 <!-- Spring Security dependencies -->
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>org.springframework.security.acls</artifactId>
            <version>${spring.security.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>org.springframework.security.config</artifactId>
            <version>${spring.security.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>org.springframework.security.core</artifactId>
            <version>${spring.security.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>org.springframework.security.taglibs</artifactId>
            <version>${spring.security.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>org.springframework.security.web</artifactId>
            <version>${spring.security.version}</version>
        </dependency> 
```

以下是我在 pom 中定义的存储库：

```
 <!-- SpringSource EBR repos -->
    <repository>
        <id>com.springsource.repository.bundles.release</id>
        <name>SpringSource Enterprise Bundle Repository - SpringSource Bundle Releases</name>
        <url>http://repository.springsource.com/maven/bundles/release</url>
    </repository>
    <repository>
        <id>com.springsource.repository.bundles.external</id>
        <name>SpringSource Enterprise Bundle Repository - External Bundle Releases</name>
        <url>http://repository.springsource.com/maven/bundles/external</url>
    </repository> 
```

有人可以帮我理解为什么我会收到这个错误吗？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T07:59:42.567

我测试了网址：

`http://repository.springsource.com/maven/bundles/release/org/springframework/security/org.springframework.security.web/3.0.3.RELEASE/org.springframework.security.web-3.0.3.RELEASE.jar`

它没有问题（我得到了文件）。

从本地 m2 存储库中删除（或重命名以进行备份）该文件夹`org/springframework/security/org.springframework.security.web/3.0.3.RELEASE`，然后重试。

# regex - gsub 段落中的单词列表

> ID：13854279
> 
> 赞同：0
> 
> 时间：2012-12-13T06:31:44.983
> 
> 标签：regex, r

给定以下代码：

```
list = c("the", "at", "ok")
paragraph = "the cat ath the hat is ok" 
```

如何从“段落”中删除列表中的所有单词？

我试着做：

`gsub(list, '', paragraph)`

但只删除了列表的第一项。我知道这不应该很复杂，但这仍然让我感到困惑。我也想避免使用 for 循环，但 apply 系列应该没问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-13T06:38:45.273

该模式`"(the|at|ok)"`将匹配列表中任何字符串的出现。

听起来，虽然，你想匹配那些实际的单词而不是它们所属的单词（即匹配“the”但不匹配“then”，“at”但不匹配“rattle”等）如果是这样的话，您可以改为使用模式`"\\b(the|at|ok)\\b"`（`"\\b"`在单词边界匹配的模式在哪里）。

您可以使用`paste0()`从任意匹配词向量构造所需的模式：

```
list <- c("the", "at", "ok")
paragraph <- "the cat ath the hat is ok"

## Construct the regular expression
pat <- paste0("\\b(", paste0(list, collapse="|"), ")\\b")    
pat
# [1] "\\b(the|at|ok)\\b"

## Use it
gsub(pat, "", paragraph)
# [1] " cat ath  hat is " 
```

# asp.net-mvc - DevExpress 按钮在 MVC 中的回发页面上不起作用

> ID：13854280
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:31:48.923
> 
> 标签：asp.net-mvc, devexpress

当页面重新加载时，我在我的视图页面中使用 devexpress 按钮，按钮不起作用。但是 actionlink 在相同的条件下工作正常，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T01:29:18.503

我不知道您是否仍在寻找答案，但我刚刚看到您的帖子，我认为您的问题的解决方案是这样的：

DevExpress 按钮有一个名为 AutoPostback 的属性，默认设置为 false。这意味着默认情况下，除非您将 AutoPostback 属性设置为 True，否则使用此按钮的用户活动不会被发送回服务器。

让我知道这是否有帮助。

祝你好运

# java - Java中带有十六进制的字节

> ID：13854282
> 
> 赞同：3
> 
> 时间：2012-12-13T06:31:52.657
> 
> 标签：java, byte, bytebuffer

缓冲区是一个字节缓冲区。我因此而失去了精确度错误。

```
 byte myPort = buffer.get(0); // Might need to change this depending on byte order
    switch(myPort){
        case 0xF1: // Chat service
            break;
        case 0xF2: // Voice service
            break;
        case 0xF3: // Video service
            break;
        case 0xF4: // File transfer service
            break;
        case 0xF5: // Remote login
            break;
    } 
```

显然， 0xFF 在java中不是一个字节，它真的让我很困惑。我不知道我是否会丢失它，但 0xF 不是一个半字节而 0xFF 不是一个字节吗？显然我的 ide netbeans 允许字节值一直到 127。这似乎是有符号值的问题，但我不知道为什么。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:42:23.880

如评论中所述，字节为 [-128 .. 127]。

您应该将字节从字节缓冲区转换为 int，以保留您假设的“无符号字节”范围（并且在 Java 中不存在）：

```
 int myPort = buffer.get(0) & 0xff; // Might need to change this depending on byte order
  switch(myPort){
      case 0xF1: // Chat service
          break;
      case 0xF2: // Voice service
          break;
      case 0xF3: // Video service
          break;
      case 0xF4: // File transfer service
          break;
      case 0xF5: // Remote login
          break;
  } 
```

请注意，由于符号扩展，简单地将字节分配给 int 是行不通的：

```
 byte val = (byte) 0xb6;  
  int myPort = val; 
```

结果`myPort = -74 (0xffffffb6)`，而

```
 byte val = (byte) 0xb6;
  int myPort = val & 0xff; 
```

结果`myPort = 182 (0xb6)`。

* * *

请参阅[为什么 Java 不支持无符号整数？](https://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints)有关 Java 中不存在无符号数据类型的一些好的背景信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:38:48.483

你是对的：Java“字节”是一个介于 -127 和 127 之间的有符号数。

解决方案是简单地转换为“short”或“int”。

例子：

```
int myPort = buffer.get(0); // Might need to change this depending on byte order
    switch(myPort){
        case 0xF1: // Chat service
            break;
        case 0xF2: // Voice service
            break;
        case 0xF3: // Video service
            break;
        case 0xF4: // File transfer service
            break;
        case 0xF5: // Remote login
            break;
    } 
```

如果您希望将“myPort”保留为“字节”，则只需在 switch 语句中转换为 int：

例子：

```
byte myPort = buffer.get(0); // Might need to change this depending on byte order
    switch(0xff & (int)myPort){
        case 0xF1: // Chat service
            break;
        ... 
```

无论哪种方式，BITS 都是相同的：导致编译错误的是它们的含义。

# breakout - 我正在制作一个突破性游戏，我的桨一直超出边界，我该如何解决这个问题

> ID：13854285
> 
> 赞同：1
> 
> 时间：2012-12-13T06:32:10.303
> 
> 标签：breakout

```
double right = xCenter + (PADDLE_WIDTH / 2);
double left = xCenter - (PADDLE_WIDTH / 2);

paddle.setLocation(   xCenter - (PADDLE_WIDTH / 2) , PADDLE_Y_OFFSET );
if (left == getWidth()|| right != getWidth()) {
    paddle.setLocation(xCenter - (PADDLE_WIDTH / 2) , PADDLE_Y_OFFSET );
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:38:26.613

你需要这样的东西（伪代码）：

```
if left < leftBoundary then setLocation (leftBoundary)
if right > rightBounday then setLocation (rightBoundart - paddleWidth) 
```

假设 setLocation 将桨的左角作为参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:39:42.163

显式测试以查看桨的任何部分是否超出边界条件。而不是使用 'if(left == getWidth() || right != getWidth())' 使用不等式 '>' 或 '<' 来测试位置是否在边界内。

# javafx-2 - 最小化javafx2中的窗口

> ID：13854287
> 
> 赞同：11
> 
> 时间：2012-12-13T06:32:13.123
> 
> 标签：javafx-2, javafx

我在 javafx2 中取消了对窗口的装饰。现在我想通过操作来最小化窗口。这是我的代码

```
 minIcon.setOnMouseClicked(new EventHandler<MouseEvent>() {
        public void handle(MouseEvent me) {
            primaryStage.toBack();
        }
    }); 
```

当另一个窗口打开时，窗口会返回。否则不是。请让我知道如何做到这一点？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-12-13T06:56:51.207

搜索了一段时间后，我自己找到了答案。

```
minIcon.setOnMouseClicked(new EventHandler<MouseEvent>() {
    public void handle(MouseEvent me) {
        primaryStage.setIconified(true);
    }
}); 
```

这工作正常..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-12-05T19:13:10.883

以下代码应该可以工作：

```
iconid.setOnMouseClicked( event -> {
  Stage obj = (Stage) iconid.getScene().getWindow();
  obj.setIconified(true);
}); 
```

编辑：我是新来的，所以我不知道如何更好地展示我的代码。所以我会尽力而为。

这是 expln：- 变量含义- `iconid`：您的 ImageView 元素的 fxid。 `obj` ：您可以声明的随机舞台对象。

这`event ->{}`是一个 lambda 函数，它减少了我的工作量，所以我经常使用它。

第二行的作用是创建一个新的舞台对象并将其等同于正在显示的当前舞台，这是使用`.getScene().getWindow()`属性检索的。为了保持一致性，我使用了相同的 ImageView 元素，但您可以使用属于同一阶段的任何元素。（例如，来自同一窗口的按钮）

第三行是您调用该方法的位置`setIconified(boolean)`[不是最好的命名 ik，但我认为它与将其“图标化”到任务栏有关 - 将其从窗口变成图标] 将其设置为“真”可最小化您指定的窗口. 就是这样。

# hbase - HBase REST API 锁定行

> ID：13854288
> 
> 赞同：2
> 
> 时间：2012-12-13T06:32:18.540
> 
> 标签：hbase

我正在使用 C# 中的 HBase REST API。我想在使用 C# 中的 REST API 检索行时实现锁定 [HBase Java API 中的行锁]。帮我解决这个问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T00:46:04.627

首先，行锁定在[0.94](https://github.com/apache/hbase/commit/45b6a2f6adaf7729c165ebac155a7ebbe25d9881)中已被弃用，并将很快在[主干](https://issues.apache.org/jira/browse/HBASE-7315)中删除，因此您可能不想依赖它。

其次，我认为 REST 服务器没有行锁定 api（有关可用资源，请参见[此处）。](https://github.com/apache/hbase/tree/0.94/src/main/java/org/apache/hadoop/hbase/rest)Rest 服务器的文档位于[此处](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/rest/package-summary.html)

如果你想实现锁，你可以使用 check and put。它在休息时不可用，但在[Thrift2上可用](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/thrift2/ThriftHBaseServiceHandler.html)

# windows-8 - 相当于 Windows 8 SDK 中的 D3DX11CreateShaderResourceViewFromFile？

> ID：13854289
> 
> 赞同：3
> 
> 时间：2012-12-13T06:32:23.790
> 
> 标签：windows-8, directx-11

我想知道使用 Windows 8 SDK 从文件创建着色器资源视图的等价物是什么？

我在 MSDN 上查找了 D3DX11CreateShaderResourceViewFromFile .. 说它已被弃用，并使用 CreateXXSFromFile （其中 XXS 是 DDS，所以在我的情况下 CreateDDSFromFile）（在 DirectXTK 库中）...

但我找不到任何关于它的文档。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-23T09:29:26.163

是的，您应该使用 CreateXXXTextureFromFile。DirectXTex 网站包含带有详细信息的示例和文档。例如，此处描述了 CreateDDSTextureFromFile：[http](http://directxtex.codeplex.com/wikipage?title=DDSTextureLoader) ://directxtex.codeplex.com/wikipage?title=DDSTextureLoader 。

# extjs - ExtJS 分页组合与远程 JSON 存储。使用分页显示选定的值

> ID：13854290
> 
> 赞同：1
> 
> 时间：2012-12-13T06:32:26.290
> 
> 标签：extjs, combobox, paging, jsonstore

我有一个带远程存储的 ExtJS 组合，它以 JSON 格式返回给我的数据。当我在第一页上选择一个值（例如）然后导航到另一个页面时，组合显示选择的 id，而不是值。

如何始终显示选定的值？

代码：

```
Ext.onReady(function() {
    Ext.define('Model', {
        extend: 'Ext.data.Model',
        fields: ['title'],
        idProperty: 'threadid'
    });

    var store = Ext.create('Ext.data.Store', {
        pageSize: 50,
        model: 'Model',
        remoteSort: true,
        proxy: {
            type: 'jsonp',
            url: 'http://www.sencha.com/forum/topics-browse-remote.php',
            reader: {
                root: 'topics',
                totalProperty: 'totalCount'
            },
            simpleSortMode: true
        }
    });

    var combo = Ext.create('Ext.form.ComboBox', {
        fieldLabel: 'Value',
        store: store,
        queryMode: 'remote',
        displayField: 'title',
        valueField: 'threadid',
        pageSize: 50,
        labelWidth: 50,
        width: 300,
        padding: '60 0 0 0'
    });

    Ext.create('Ext.window.Window', {
        title: 'Hello',
        height: 200,
        width: 400,
        layout: { type: 'vbox', align: 'center' },
        items: combo
    }).show();
})​ 
```

示例：http: [//jsfiddle.net/coshmos/5wT6H/](http://jsfiddle.net/coshmos/5wT6H/)

更多信息（案例研究）：
我有一个可以更新记录的表。我单击一个项目，然后我的服务器从数据库返回值。然后出现一个带有 UI 的窗口。对于所有分页组合，它只返回 id。因此，除非我没有导航到带有返回 id 的项目的页面，否则我看不到任何值。如果我禁用分页并加载所有值，一切都会按预期工作，但加载数千个值并不好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T18:31:03.600

可以这样修复：

```
Ext.override(Ext.form.field.ComboBox,{
    findRecord: function(field, value) {
        var foundRec = null;
        Ext.each(this.lastSelection, function(rec) {
            if (rec.get(field) === value) {
                foundRec = rec;
                return false; // stop 'each' loop
            }
        });
        if (foundRec) {
            return foundRec;
        } else {
            return this.callParent(arguments);
        }
    }
}); 
```

试试看：http: [//jsfiddle.net/5wT6H/3/](http://jsfiddle.net/5wT6H/3/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-17T09:40:03.147

我改变了逻辑。另外发送一个组合框值的 Id，然后使用此 Id 设置 extraProxyParams 并加载存储。之后清理 extraProxyParams 。因此，在用户搜索另一个值之后，他可以做到这一点。

# iphone - 核心数据模型版本控制和数据迁移

> ID：13854291
> 
> 赞同：0
> 
> 时间：2012-12-13T06:32:29.550
> 
> 标签：iphone, ios, core-data, core-data-migration

我想更新应用程序版本，但是在新版本中，我在核心数据中添加了两个新属性，我想将数据从旧版本迁移到新版本。我的步骤：

1.  选择.xcdatamodeld文件，然后editor->Add Model Version
2.  设计 > 数据模型 > 设置当前版本。
3.  修改选项

    ```
     NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:  
                                        [NSNumber numberWithBool:YES],  NSMigratePersistentStoresAutomaticallyOption,  
                                        [NSNumber numberWithBool:YES],   NSInferMappingModelAutomaticallyOption, nil];  
     if (![persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeUrl options:options error:&error]) 
    ```

但我的新版本没有找到旧版本的任何数据。如何修改它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T08:59:58.353

我发现了我的错误：PushNoticationModal.sqlite 与名称 PushNoticationModel.xcdatamodel 不同，你看到 PushNoticationModal 不像 PushNoticationModel。

当您只构建一个 sqlite 时，名称 PushNoticationModal.sqlite 与 PushNoticationModel.xcdatamodel 不同，您的应用程序也可以运行。但是当您构建迁移时，您应该保持相同

# css - 尝试将鼠标悬停在列表项上时，子菜单列表不会保留

> ID：13854298
> 
> 赞同：0
> 
> 时间：2012-12-13T06:33:13.720
> 
> 标签：css, menu, hover, html-lists

我是 CSS 新手。我正在尝试创建一个菜单

![在此处输入图像描述](../Images/13efffa8ad1363ba14b7d19f600da326.png)

和 Palletized 链接有`SubMenu`

![在此处输入图像描述](../Images/fe467cb5e301a1a12f410ead2eee6dc2.png)

当我将鼠标悬停在`Palletized`我想要显示的链接上时`SubMenu`。我试过这个[代码](http://jsfiddle.net/4sxna/10/)

但它没有提供所需的输出。当我尝试将光标更改为我的`submenu`时它消失了

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T07:01:50.807

解决了您的代码上的消失问题

给你：//jsfiddle.net/4sxna/23/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:39:23.587

我希望这能解决你的问题[水平菜单](http://javascriptkit.com/script/script2/csstopmenu.shtml)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:41:07.813

见这里 => [http://www.cssplay.co.uk/menus/dd_valid.html](http://www.cssplay.co.uk/menus/dd_valid.html)。

或在这里：[仅 CSS 下拉菜单](https://stackoverflow.com/questions/3314198/css-only-drop-down-menu) （可能是骗局）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:56:41.740

检查这个工作**[小提琴](http://jsfiddle.net/4sxna/18/)**

从其他标签中删除显示属性。

添加将以下代码放入您的css：

**CSS**

```
 .SubMenu a
 {display:none;}

 #Menu li:hover>.SubMenu a 
 {display:block;} 
```

# java - Double#doubleToLongBits(double) 值排序

> ID：13854299
> 
> 赞同：1
> 
> 时间：2012-12-13T06:33:22.220
> 
> 标签：java, jpa, double

如果两个双精度值（a 和 b）

1.  两者都不是负面的
2.  两者都不是 an`NaN`也不是 any `(POSITIVE|NEGATIVE)_INFINITY`，
3.  a >= b

总是真的吗

1.  Double.doubleToLongBits(a) >= Double.doubleToLongBits(b)

?

每个 IEEE 754 的东西是否有任何可能的错误？

我打算将两个正（非零）整数的速率值存储为 long 值而不是 double 值。

```
@Entity
public class ExchangeRate {

    @PrePersist
    protected void prePersist() {
        targetAmountPerSourceAmount = Double.doubleToLongBits(
            (double) targetAmount / (double) sourceAmount);
    }

    @Basic
    private long targetAmountPerSourceAmount;

    @Min(1)
    @Max(Short.MAX_VALUE)
    private short targetAmount;

    @Min(1)
    @Max(Short.MAX_VALUE)
    private short sourceAmount;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:26:28.950

好吧，零会给您带来问题，因为 +0.0 == -0.0 但它们具有不同的表示形式。

```
 double a = -0.0;
    double b = +0.0;
    System.out.println("a == b? " + (a == b)); // true
    long aLong = Double.doubleToLongBits(a);
    long bLong = Double.doubleToLongBits(b);
    System.out.println("a' >= b'? " + (aLong >= bLong)); // false 
```

# ios - Phonegap插入查询+不工作

> ID：13854303
> 
> 赞同：0
> 
> 时间：2012-12-13T06:33:35.963
> 
> 标签：ios, sqlite, cordova

我正在使用phoneagap框架进行APP开发。在 phonegap 中插入查询：

```
tx.executeSql('insert into "'+gAppConfig.configTable+'" (key , value) values(uniqueId,"'+uniqueId+'"),(serverURL,"'+serverURL+'")' , querySuccess, errorQuery); 
```

这不起作用，谁能告诉我可能出了什么问题。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:44:09.440

我想您已经在数据库中创建了一个表，并且您已将其命名为“tablename”，其中包含 2 列“id”和“serverURL”；其中“id”是主键。

尝试这个：

```
 Iquery = "INSERT INTO 'tableName' VALUES(null, "+serverURL+");";
   tx.executeSql(
      Iquery,
      null,
      function(){ /* to do on success, or you may just set it as "null" */},
      function(){ /* to do on error, or you may just set it as "null" */}); 
```

或者你可以试试这个：

```
 tx.executeSql("INSERT INTO tableName(id, serverURL) VALUES (?,?)",
        [null, serverURL], // these are the variables to insert
        function(){ /* to do on success, or you may just set it as "null" */},
        function(){ /* to do on fail, or you may just set it as "null" */}); 
```

您可以参考[cordova 的原始文档以](http://docs.phonegap.com/en/2.2.0/cordova_storage_storage.md.html#SQLTransaction)获取更多信息。

# php - 根据比率生成元素大小

> ID：13854305
> 
> 赞同：1
> 
> 时间：2012-12-13T06:33:41.220
> 
> 标签：php, html, css, parsing

这可能是一个奇怪的问题类型，但是您将如何根据下一页包含的链接数量生成具有其大小的方形链接。

将使用以下方法生成链接数量：

```
$directory = "directory/subdirectory1/";
$files = glob($directory . "*");
$count = 0;
foreach($files as $file)
{
    if(is_dir($file))
    {
        count++;
    }
} 
```

因此，假设在文件夹目录中，我们有 6 个子目录，名称为 subdirectory1 - 6，对于每个目录，我们将找出每个目录有多少个目录，然后将其存储在一个数组中。

从这里我们可以开始生成正方形。一切都应该根据百分比来完成，所以我们不必担心绝对值。他们不应该有小尺寸。

所以假设`subdirectory1`里面有 18 个目录，`subdirectory2`有 15 个，`subdirectory3`有 12 个，`subdirectory4`有 9 个，`subdirectory5`有 6 个，`subdirectory6`还有 2 个

在这种情况下，很明显`subdirectory1`应该是最大的，所以应该是页面的 50%，然后`subdirectory2`,`subdirectory3`并且`subdirectory4`有非常相似的数量，所以我会说通过将它们分成 50% 的一半高度`subdirectory1`并`subdirectory4`放在下一行，那么最后 2 行将是该行的 25%，结果如下：

![在此处输入图像描述](../Images/67fe1b5b1cb0fa3262ca6a3d50fa69f2.png)

但是我怎么能满足目录的任何比例，任何可以帮助我的算法呢？这需要能够容纳 30 多个不同的子目录。

谢谢你的时间 ：）

* * *

**更新**

所以我决定对它们进行分组，而不仅仅是文件夹的数量，我要做的是将它们存储在数据库中，并按父 ID 对它们进行分组。

我将根据几个不同的因素确定大小，首先是父 ID，这将是决定的主体，然后是流行度，所以分析数据，页面被浏览了多少，人们与帖子互动了多少（评论、投票等）。

根据这个数据，我会给每个父母一个 0 到 100 之间的分数，并以此为基础，会有 4 种尺寸，它们很容易分配，x > 75 最大，50 < x > 75 大，25 > x < 50 正常，0 > x < 25 小，0 无。

有人对我应该用于分数的算法有什么建议吗？

# jquery - jQuery 可以加载和替换整个网页（类似于 iframe）吗？

> ID：13854314
> 
> 赞同：1
> 
> 时间：2012-12-13T06:34:18.023
> 
> 标签：jquery, ajax, wordpress

**这是我将用作示例的网站：http:** [//templatic.com/demos/geoplaces4/](http://templatic.com/demos/geoplaces4/)

当用户选择他们的城市时，jQuery 是否可以淡出现有页面并加载到下一页，而无需实际刷新浏览器？我想这类似于 Facebook 新的响应式链接的工作方式。

我只是不知道从哪里开始，而且我似乎找不到任何信息，因此非常感谢任何链接/资源/提示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:44:52.353

您不能将整个文档替换到位，这也没有多大意义。如果您要交换整个文档，这实际上与重新加载页面或加载新页面没有什么不同。

但是，您可以替换最顶层的文档元素 - 这是正文，然后修改文档的标题以通常模拟相同的行为，但是您必须手动管理更新的内容（即管理脚本和加载的 css 等。 )

进行“页面”交换的典型应用程序倾向于使用单个页面框架，然后将文档的主要部分交换进或交换出 - 标题保持不变，仅操作关键标题。这是单页应用程序 (SPA) 背后的基本概念。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:04:19.800

您已经将文档分为大约 2 个分区，这些分区在您的城市选择器和地图显示页面之间保持相对固定。因此，您可以为他们两个单独添加新内容的 AJAX。为什么需要替换整个文档？我意识到这种方法最容易与您给定的框架相匹配，但我向您保证，这不是 Facebook 正在做的事情。

这种类型的单页应用程序背后的方法是这样的：

html

```
<body><!-- with a solid background color -->
    <div id="main-content">
        <header>
        </header>
        <div id="city-picker">
             <!-- city picker stuff here -->
        </div>
    </div>
 </body> 
```

Javascript

```
// inside On click/on select handler for your city picker
// Animate the fade-out of your first page
$('#main-content').hide(2000).html('')
    .load('ajax/city-map.php?theCity='+selectedValue).show(2000); 
```

基本上就是这样 - 2 秒淡出，仅`<body>`显示标签的纯色背景，用于`.load`将新文档的 html 提取到`main-content`div 中，然后 2 秒淡入。

这种依赖于瞬时 AJAX 请求，这显然是不可能的。正确的做法是从 .load 完成函数回调中将其淡入。查看[.load 上](http://api.jquery.com/load/)的文档以获取有关使用回调的详细信息。您可以更高级并在开始淡出之前启动 ajax，因此在用户观看内容淡出时请求正在进行。但这应该足以让你开始。

需要注意的另一件事`.load`是基本上调用`$('#main-content').html(data)`，其中 data 是 AJAX 请求的 URL 返回的整个响应。因此，如果您返回带有 doctype、. 和标签的完全格式化的 html 文档，这是**不恰当**的，并且**可能会破坏用户体验。**

# php - 自上次更新以来，无法弄清楚如何让 symfony2.1.5 自动加载我的供应商库

> ID：13854317
> 
> 赞同：0
> 
> 时间：2012-12-13T06:34:51.843
> 
> 标签：php, symfony

我最近更新了 symfony，因为我的供应商不再工作。我有这个错误

```
Fatal error: Class 'Paging' not found in /home/username/workspace/project/src/project/projectBundle/Controller/MyController.php on line 22 
```

在第 22 和 23 行的 MyController 中，我有

```
...
$paging = new \Paging($em, $query, $currentPage, $nbOfResults);
$trainings = $paging->run();
... 
```

我试图像这样在 ../vendor/composer/autoload_classmap.php 中添加库，因为它曾经可以工作

```
'Paging' => $baseDir . '/vendor/se/Paging/Paging.php', 
```

但我收到以下错误

```
Fatal error: Symfony\Component\ClassLoader\DebugClassLoader::loadClass(): Failed opening required '/home/username/workspace/project/vendor/se/Paging/Paging.php' (include_path='.:/usr/share/php:/usr/share/pear') in /home/username/workspace/project/vendor/symfony/symfony/src/Symfony/Component/ClassLoader/DebugClassLoader.php on line 82 
```

我还尝试在项目根目录的 composer.json 文件中添加“适当”行，但没有成功

```
"autoload": {
    "psr-0": {
        "": "src/",
        "Paging": "vendor/se/Paging/" //I've added this line
    }
}, 
```

这一切都发生在我使用以下命令行更新我的项目之后

```
php composer.phar self-update
php composer.phar update
php composer.phar install 
```

我也在跑步

```
php composer.phar install 
```

每次我更新 composer.json 文件

提前致谢！

# jsp - 我们可以通过多少种方式将值从 servlet 传输到 jsp？

> ID：13854321
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:35:16.463
> 
> 标签：jsp, servlets

我想将 servlet 参数传输到 jsp 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:46:18.487

我知道有两种方法。

1.  在请求属性中设置值。

    *   在 servlet 中，您可以使用以下代码。

request.setAttribute("名称", "值");

并且您需要将请求转发到 jsp 页面而不是重定向。为此，您可以使用 RequestDispatcher 类。请参考以下链接 [http://www.roseindia.net/help/java/d/requestdispatcher.shtml](http://www.roseindia.net/help/java/d/requestdispatcher.shtml)

1.  在会话属性中设置值。

    *   在会话中，您需要获取会话然后将值放入其中。session.setAttribute("名称", "值");

最好的方法是在请求属性中设置值。如果您在会话到期之前需要价值，您可以使用 session.

# c# - 获取 Windows 详细信息，如产品密钥、域名、用户名等。

> ID：13854322
> 
> 赞同：4
> 
> 时间：2012-12-13T06:35:21.750
> 
> 标签：c#, .net, windows

如何获取操作系统详细信息，如操作系统`Serial Number`（操作系统产品密钥）`User Domain Name`、`User Name`和`PC Full Name`？获得它的最佳方式和最佳方式是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T06:40:24.297

## 系统.环境

查看（静态）[`System.Environment`](http://msdn.microsoft.com/en-us/library/system.environment.aspx)类。

它具有[`MachineName`](http://msdn.microsoft.com/en-us/library/system.environment.machinename.aspx)、[`UserDomainName`](http://msdn.microsoft.com/en-us/library/system.environment.userdomainname.aspx)和的属性[`UserName`](http://msdn.microsoft.com/en-us/library/system.environment.username.aspx)。

## 系统管理

如果您正在寻找 BIOS 序列号（或其他硬件上的大量信息），您可以尝试[`System.Management`](http://msdn.microsoft.com/en-us/library/system.management.aspx)命名空间，特别是[`SelectQuery`](http://msdn.microsoft.com/en-us/library/system.management.selectquery.aspx)和[`ManagementObjectSearcher`](http://msdn.microsoft.com/en-us/library/system.management.managementobjectsearcher.aspx).

```
var query = new SelectQuery("select * from Win32_Bios");
var search = new ManagementObjectSearcher(query);
foreach (ManagementBaseObject item in search.Get())
{
    string serial = item["SerialNumber"] as string;
    if (serial != null)
        return serial;
} 
```

您可以通过查询获得有关机器的其他信息，例如[MSDN](http://msdn.microsoft.com/en-us/library/aa389273.aspx)`Win32_Processor`上列出的或其他信息。这是使用via 。[`WMI`](http://msdn.microsoft.com/en-us/library/aa394582.aspx)[`WQL`](http://en.wikipedia.org/wiki/WQL)

## 通过注册表的 Windows 产品密钥

对于操作系统序列号，在许多版本的 Windows 中，它存储在注册表中`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\DigitalProductId`，但它是某种编码形式，需要解码才能获得产品密钥。

您可以使用以下方法解码此值，可在[此处](http://geekswithblogs.net/willemf/archive/2006/04/23/76125.aspx)找到（但为清楚起见稍作修改）。

```
public string DecodeProductKey(byte[] digitalProductId)
{
    // Possible alpha-numeric characters in product key.
    const string digits = "BCDFGHJKMPQRTVWXY2346789";
    // Length of decoded product key in byte-form. Each byte represents 2 chars.
    const int decodeStringLength = 15;
    // Decoded product key is of length 29
    char[] decodedChars = new char[29];

    // Extract encoded product key from bytes [52,67]
    List<byte> hexPid = new List<byte>();
    for (int i = 52; i <= 67; i++)
    {
        hexPid.Add(digitalProductId[i]);
    }

    // Decode characters
    for (int i = decodedChars.Length - 1; i >= 0; i--)
    {
        // Every sixth char is a separator.
        if ((i + 1) % 6 == 0)
        {
            decodedChars[i] = '-';
        }
        else
        {
            // Do the actual decoding.
            int digitMapIndex = 0;
            for (int j = decodeStringLength - 1; j >= 0; j--)
            {
                int byteValue = (digitMapIndex << 8) | (byte)hexPid[j];
                hexPid[j] = (byte)(byteValue / 24);
                digitMapIndex = byteValue % 24;
                decodedChars[i] = digits[digitMapIndex];
            }
        }
    }

    return new string(decodedChars);
} 
```

或者，我发现了一个开源 c# 项目，据说可以提取任何版本的 Windows 的产品密钥：[http](http://wpkf.codeplex.com/) ://wpkf.codeplex.com/它使用上面给出的方法并提供有关机器的一些附加信息。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-13T06:40:01.727

您需要使用[IPGlobalProperties.GetIPGlobalProperties 方法](http://msdn.microsoft.com/en-us/library/system.net.networkinformation.ipglobalproperties.getipglobalproperties.aspx) 来获取网络相关信息：

```
var conInfo = IPGlobalProperties.GetIPGlobalProperties();
Console.WriteLine(conInfo.HostName);
Console.WriteLine(conInfo.DomainName);
... 
```

对于机器名称，请使用[Environment.MachineName 属性](http://msdn.microsoft.com/en-us/library/system.environment.machinename.aspx)：

```
Console.WriteLine(System.Environment.MachineName); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-13T06:40:15.097

您是否尝试过[Systeminformation 类](http://msdn.microsoft.com/en-us/library/system.windows.forms.systeminformation.aspx)，它提供了有关当前系统环境的大量信息，请查看 MSDN 网站上的示例。它具有以下特性：

[计算机](http://msdn.microsoft.com/en-us/library/system.windows.forms.systeminformation.computername.aspx)名，用户[域名](http://msdn.microsoft.com/en-us/library/system.windows.forms.systeminformation.userdomainname.aspx)，[用户名](http://msdn.microsoft.com/en-us/library/system.windows.forms.systeminformation.username.aspx)...等

# javascript - 如何在 ZK 中调用 javascript 函数

> ID：13854326
> 
> 赞同：11
> 
> 时间：2012-12-13T06:35:57.133
> 
> 标签：javascript, zk

在 ZK 框架中，在 zul 文件中我想调用 javascript 函数，但它没有发生。

```
<a label="Click" onClick="popUp();"> 
```

我也有那个 popUp() 函数。但是当我点击

```
<script type="text/javascript">
    function createPopUp(url)
    {
        var w = 600;
        var h = 500;
        var left = (screen.width/2)-(w/2);
        var top = (screen.height/2)-(h/2);
        window.open(url,'name','scrollbars=yes,width='+w+', height='+h+', top='+top+', left='+left);
    }
</script> 
```

但是当我单击该链接时，它会显示以下错误：

```
Sourced file: inline evaluation of: `` popUp();'' : 
Command not found: popUp() : at Line: 13 : 
in file: inline evaluation of: `` popUp();'' : popUp ( ) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T06:42:07.853

为了解决这个问题，我找到了以下方法：

```
<a label="Click" xmlns:w="http://www.zkoss.org/2005/zk/client" w:onClick="createPopUp('http://www.facebook.com/prabhatsubedi');"/> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T19:35:01.387

作为替代方案，如果您想在 java 中实现这一点，而不是 .zul 文件，您可以使用

```
label.setWidgetListener(Events.ON_CLICK, "popUp();"); 
```

如此处所示[，](http://books.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Event_Listening)使用[javadoc](http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zk/ui/Component.html#setWidgetListener%28java.lang.String,%20java.lang.String%29)

# php - 这个符号是什么。*？表示 PHP（HTML 解析）

> ID：13854332
> 
> 赞同：1
> 
> 时间：2012-12-13T06:36:19.663
> 
> 标签：php, html, html-parsing, screen-scraping, symbols

我只想问这个符号是什么。*？在 php 中的意思。这是示例代码：

```
 function parse($html) {
    //echo "Find table(id=weekdays)..\n";
    $pattern = "/(<table.*?id=\"weekdays\".*)/ims";
    //$pattern = "/(<div.*?id=\"flexBox_flex_calendar_mainCal\".*)/ims";
    //echo $pattern."\n";
    $match = array();
    //$html = str_replace("\r", "", $html);
    //$html = str_replace("\n", "", $html);
    if (preg_match($pattern, $html, $match) > 0) {
        //print_r($match);
        //echo $match[1];
        //echo count($match);
        $this->parseTable($match[1]);
    } else {
        echo "Error: no match calendar data(table id=weekdays) found, maybe fx.com change its site html'!\n";
    }
} 
```

我正在维护一个网站，该网站具有从另一个/外部网站提取表值然后解析它以插入我们的数据库的功能。

我必须更改 $pattern 的值，但我不能，因为我不知道这些符号是什么意思..

十分感谢你的帮助..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T06:37:46.763

这称为正则表达式，您可以在此处了解更多信息：[http ://www.regular-expressions.info/](http://www.regular-expressions.info/)

`/.*?/ims`意思是“匹配任何字符，如果有的话（非贪婪）”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T06:41:04.983

那是正则表达式中的通配符。

`(<table.*?id=\"weekdays\".*)`

`/./s` 表示任何字符

`*`表示0次或多次

所以`/.*/s`意味着“匹配任何字符0次或更多次”

细绳 ：`hello , now this is some garbage , world. And this is a long sentence which ends in world`

`hello.*world`将匹配整个字符串。

参见示例：[http ://regexr.com?334em](http://regexr.com?334em)

并且`/.*?/s`表示“匹配任何字符 0 次或更多次，但非贪婪匹配，即返回最早的匹配项（此处：零长度字符串）。

`/hello.*?world/s`只会匹配`hello , now this is some garbage , world`，因为它是最小的非贪婪匹配。

看到相同的例子有区别： [http ://regexr.com?334ep](http://regexr.com?334ep)

`ims`是标志`i`，`m`并且`s`

你可以在这里阅读它们：[PHP：regex patterns ^(*Docs中可能的修饰符*)](http://php.net/reference.pcre.pattern.modifiers)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T09:09:48.890

[http://weblogtoolscollection.com/regex/regex.php](http://weblogtoolscollection.com/regex/regex.php)

[http://webcheatsheet.com/php/regular_expressions.php](http://webcheatsheet.com/php/regular_expressions.php)

这些可能对你有帮助

# java - 如何使用带有参数的正则表达式匹配 Drools 中的字符串？

> ID：13854334
> 
> 赞同：3
> 
> 时间：2012-12-13T06:36:35.047
> 
> 标签：java, regex, drools, rules

我想在 drools 的 when 部分使用 in build 关键字匹配来匹配字符串。

例如

```
rule "test"
when Foo( fooid : id )
     Bar( barid : id, barid not matches "ID=" + fooid + ", " + name )
then ... 
```

它似乎不起作用，因为它抱怨“ID =”+ fooid +“，”+名称。

但是如果我删除所有参数，它就会运行，即只留下“ID =”

所以问题似乎在于你如何在匹配模式中包含更多参数，你将如何解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:57:36.480

在检查规则之前，您可以同时保存 fooid 和 barid 吗？不确定是否可行，您可以尝试一下。

```
string fooid = Food id // use correct syntax
string barid = Bar id // use correct syntax
string checkstring = "ID=" + fooid + "," + name

rule "test"  
    when   
        barid: String(this not matches "(?i)." + checkstring)  
    then  
        System.out.println(checkstring);  
    end 
```

**笔记：**

(?i) - 忽略大小写

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T10:21:31.680

rule "PuneUser_Rule"

```
no-loop true
ruleflow-group "EvalLoopcondition"
when
    m:HelloProcessModel(userlocation in ("PuneUser"), count < 4)
then
    m.setLoopcondition(6);update(m); 
```

end

Here we check the rule, if PuneUser and count is less than 4 then loop will run from count till loopcondition that is till 6 .

This rule will be follwed only when you are checking the string is PuneUser or not

# javascript - 用jquery替换字符串中出现的字符

> ID：13854336
> 
> 赞同：-2
> 
> 时间：2012-12-13T06:36:46.630
> 
> 标签：javascript, jquery

我需要在字符串中`\`替换出现的非常。`-`我正在使用以下代码，但它仅替换一次：

```
var start = '1/1/12';
startNew = start.replace('/', "-"); 
```

我得到的结果是：`1-1/12`

我想要的结果是：`1-1-12`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:40:53.570

您需要使用`reqular expression`with **[replace()](http://www.w3schools.com/jsref/jsref_replace.asp)**并且需要使用`escape`正斜杠。

**[现场演示](http://jsfiddle.net/rajaadil/AjFHw/)**

```
var start = '1/1/12';
startNew = start.replace(/\//g, "-"); 
```

*`/yourtext/g`是用于替换所有出现的正则表达式的语法 replace `function`，因为你的文本是正斜杠`/`，你必须通过在它之前放回`\`斜杠来转义它。*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:40:19.383

以下会做，但只会取代一个事件：

```
"string".replace('/', '-'); // same as you have done 
```

对于全局替换，或者如果您更喜欢正则表达式，您只需要转义斜线：

```
"string".replace(/\//g, '-'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:40:48.617

尝试这个：

```
start.replace(/\\/g,"-"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:37:41.960

```
startNew = start.replace(/\\//g, "-"); 
```

# compact-framework - 使用 C# compact 2.0 在 Windows CE 5.0 中获取当前目录

> ID：13854338
> 
> 赞同：5
> 
> 时间：2012-12-13T06:36:50.563
> 
> 标签：compact-framework, windows-ce, compact-framework2.0

如何获取运行我的 EXE 的当前目录？我尝试了以下两个代码，但它们不起作用。

```
Path.GetDirectoryName(Assembly.GetExecutingAssembly().GetName().CodeBase); 
```

使用上面我得到错误“名称“Assembly”不存在......”

```
Directory.GetCurrentDirectory() 
```

也不起作用。

**编辑**
好的，我找到了另一个有效的代码，但它给了我目录“\Windows”，但我的程序是从 SD 卡运行的。我将程序复制到设备上的“Program Files”文件夹，但它再次给了我目录“\Windows”。

如何获取当前目录或更具体地说如何获取 SD 卡/闪存路径？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-13T09:19:15.317

通过使用解决的问题：

```
System.Reflection.Assembly.GetExecutingAssembly().GetName().CodeBase; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-01-24T08:49:16.090

以下代码可用于获取`myApp.exe`CE 5.0 系统上已启动的目录：

```
// i.e. "\hard disk2\my program\myApp.exe"
string assemblyLocation = Assembly.GetExecutingAssembly().GetName().CodeBase;
// i.e. "\hard disk2\my program\"
string currentDirectory = Path.GetDirectoryName(assemblyLocation); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-13T22:27:06.457

MS Windows CE 上没有“当前目录”之类的东西，至少版本 6。

# opencv - OpenCV 支持哪些图像格式

> ID：13854343
> 
> 赞同：2
> 
> 时间：2012-12-13T06:37:04.213
> 
> 标签：opencv

对于我的一个项目，需要在主屏幕上叠加一个图像（某些公司的徽标），我只希望徽标可见，而不是图像的边框或额外区域，我什至尝试叠加 .png 图像但随后边框与徽标一起以黑色可见。

谁能让我知道我应该使用哪种格式的图像以便只显示我的图像的徽标，而不是图像矩形部分中的额外部分。

如果您需要更多说明...请告诉我

谢谢 ：）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T06:50:06.630

听起来您应该做的是使用图像编辑程序（如 Paint、[Paint.net](http://www.getpaint.net)、[GIMP](http://www.gimp.org/)或 Photoshop）裁剪图像，然后显示或覆盖裁剪的图像。

如果你真的想使用 OpenCV 来做到这一点，这里是[如何加载和显示图像](http://docs.opencv.org/doc/tutorials/introduction/display_image/display_image.html)，这里是[imread](http://docs.opencv.org/modules/highgui/doc/reading_and_writing_images_and_video.html?highlight=imread#imread)函数的文档。从后者，回答你的问题的标题：

> 目前，支持以下文件格式：
> 
> ```
>  Windows bitmaps - *.bmp, *.dib (always supported)
>     JPEG files - *.jpeg, *.jpg, *.jpe (see the Notes section)
>     JPEG 2000 files - *.jp2 (see the Notes section)
>     Portable Network Graphics - *.png (see the Notes section)
>     Portable image format - *.pbm, *.pgm, *.ppm (always supported)
>     Sun rasters - *.sr, *.ras (always supported)
>     TIFF files - *.tiff, *.tif (see the Notes section) 
> ```

# c# - 使用 .NET 在浏览器中打开响应

> ID：13854344
> 
> 赞同：0
> 
> 时间：2012-12-13T06:37:11.497
> 
> 标签：c#, post, browser, httpwebrequest

如何制作`HttpWebRequest`（其中包含 POST 数据）以便在默认浏览器中打开响应（当然是网页）而不是在代码中返回给我？

场景是我只想在我的应用程序中单击一个按钮，单击该按钮应用程序会将用户带到他的“主页”（用户登录后出现的页面）。该网站只是在两个 POST 字段中接受用户名和密码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:42:33.893

您无法响应`HttpWebRequest`来浏览器，而且您将无法在目标站点上欺骗必要的cookie。

POST 没有同源限制 - 您可以在浏览器中启动自己的页面，然后立即将正确的数据发布到相关页面。

# python - 浮点数的行为不像预定义函数中的浮点数

> ID：13854347
> 
> 赞同：2
> 
> 时间：2012-12-13T06:37:20.030
> 
> 标签：python

我正在寻找使用预定义函数的垃圾邮件过滤器的精度和召回率

使用预定义函数时，我无法让它们返回值 1.0 以外的任何值。

我知道这是不正确的，因为我应该得到 0.529411764706 的精度结果。

另外，我使用 pop 因为由于某种原因每个列表的第一个条目不是数字，所以我不能使用 append(int(...

以下是功能：

```
def precision(ref, hyp):
    """Calculates precision.
    Args:
    - ref: a list of 0's and 1's extracted from a reference file
    - hyp: a list of 0's and 1's extracted from a hypothesis file
    Returns:
    - A floating point number indicating the precision of the hypothesis
    """
    (n, np, ntp) = (len(ref), 0.0, 0.0)
    for i in range(n):
            if bool(hyp[i]):
                    np += 1
                    if bool(ref[i]):
                            ntp += 1
    return ntp/np

def recall(ref, hyp):
    """Calculates recall.
    Args:
    - ref: a list of 0's and 1's extracted from a reference file
    - hyp: a list of 0's and 1's extracted from a hypothesis file
    Returns:
    - A floating point number indicating the recall rate of the hypothesis
    """
    (n, nt, ntp) = (len(ref), 0.0, 0.0)
    for i in range(n):
            if bool(ref[i]):
                    nt += 1
                    if bool(hyp[i]):
                            ntp += 1
    return ntp/nt 
```

这是我的代码：

```
import hw10_lib
from hw10_lib import precision
from hw10_lib import recall

actual = []
for line in open("/path/hw10.ref", 'r'):
    actual.append(line.strip().split('\t')[-1])
actual.pop(0)

predicted = []
for line in open("/path/hw10.hyp", 'r'):
    predicted.append(line.strip().split('\t')[-1])
predicted.pop(0)

prec = precision(actual, predicted)
rec = recall(actual, predicted)

print ('Precision: ', prec)
print ('Recall: ', rec) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:58:11.017

您在函数中将字符串视为数字。如果字符串不为空，则测试 bool(aString) 将始终为真。

在将有效字段传递给函数之前或在遍历值时在函数内将它们转换为浮点数。

```
bool("0") # True
bool("1") # True 
```

如果一切都为真，那么 1 / 1 == 1 和 100 / 100 == 1

还要记住划分浮点数而不是整数，以保持浮点精度。

```
 for i in range(n):
        if float(hyp[i]):
            np += 1.0
            if float(ref[i]):
                ntp += 1.0
    return ntp/np 
```

您也可以正确地将值附加到原始列表中：

```
for line in open("/path/hw10.ref", 'r'):
    try:
        val = float(line.strip().split('\t')[-1])
    except:
        continue
    actual.append(val) 
```

然后你将只有有效的浮动，不需要弹出。

# python - 从文本文件读取到列表中，然后写回该列表 Python/CGI

> ID：13854353
> 
> 赞同：0
> 
> 时间：2012-12-13T06:37:44.110
> 
> 标签：python, html, cgi

我试图基本上从keywords.txt 中获取数据并将其放入列表中。然后，如果用户在表单中输入的数据不在列表中，它会被写入文件，它会根据它是否在列表中将用户带到某个网页。我本质上希望文件只包含一个单词，但首先我只是想让它工作。

如果有意义的话，我很难理解用户输入的数据是什么变量。

```
#!/usr/bin/env python
import cgi
import cgitb
cgitb.enable()

form = cgi.FieldStorage()
keyword = form.getvalue('keyword')

print 'Content-type: text/html\r\n\r'
print '<html>'
print '<h1>Please enter a keyword of your choice</h1>'
print '<form action="results.cgi" method="post">'
print 'Keyword: <input type="text" name="keyword">  <br />'
print '<input type="submit" value="Submit" />'
print '</form>'
print '</html>'

keylist = []
f = open('keywords.txt', 'rw')
for each in f.readline():
    keylist.append(each)

if keyword in keylist:
    print 'Location: %s' % # my url

else:
    f.write(keyword)
    f.close()
    print 'Location: %s' % # my second url 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:49:15.647

```
for each in f.readline() 
```

仅使用第一行，即 f.readline 的结果。因此，变量 each 将是第一行的每个字符。

如果你使用

```
for each in f.read().split() 
```

你应该得到你想要的。f.read() 一次读取整个文件， split() 在换行符处拆分（以及所有类型的空格）

除此之外，你应该使用 rw+ 模式打开文件，否则你会得到一个 IOError。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:44:42.683

与您的问题没有直接关系，但我看到阅读您的代码，**如果关键字****不在**您的*keylist*中，**您只会关闭**文件。

 *****也许你想搬家

> f.close()

低于 else 条件。不过，只是一个想法。

是的，我会接受*Hyperboreus*的回答：

> for line in f.readlines(): *#where line 可以很容易地成为你的“每个”******

# c# - 从 sql 报告服务器下载 XML 文件

> ID：13854356
> 
> 赞同：4
> 
> 时间：2012-12-13T06:37:59.820
> 
> 标签：c#, windows-phone-7, azure, reporting-services

我正在尝试从需要身份验证才能获取文件的 Azure SQL 报告服务器下载 xml 文件。我正在尝试以下两种方法：

**方法一**

在这种方法中，我尝试在 c# 控制台应用程序下面，它从服务器下载文件。它工作正常！

```
void DownloadFile(string uname, string password)
{
        ServerReport report = new ServerReport();
        report.ReportServerUrl = new System.Uri("https://xxxxx.reporting.windows.net/ReportServer", System.UriKind.Absolute);
        report.ReportPath = "/Demo2.rdl";
        report.ReportServerCredentials.SetFormsCredentials(null, uname, password, "xxxxx.reporting.windows.net");
        byte[] data = report.Render("XML");
        FileStream fs = new FileStream(@"c:\output.xml", FileMode.Create);
        fs.Write(data, 0, data.Length);
        fs.Close();
} 
```

**方法二**

现在我想从 Windows Phone 应用程序下载相同的文件。现在，由于 Windows Phone 中不存在 ServerReport，我依靠 WebClient 来下载文件。所以我正在尝试下面的代码，但它似乎不起作用：

```
void DownloadFile(string uname, string password)
{
    WebClient webClient = new WebClient();
    webClient.Credentials = new NetworkCredential(uname, password, "xxxxx.reporting.windows.net");    
    webClient.DownloadFile("https://xxxxx.reporting.windows.net/ReportServer?%2fDemo2.rdl&rs:Command=Render&rs:Format=XML", @"c:\output.xml");
} 
```

下面是方法 2 的输出：看起来它正在重定向到登录页面？

```
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" >

    <html lang="en-US">
       <head id="Head1"><meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" /><link rel="Stylesheet" type="text/css" href="Public/Logon.css" /><title>
        Windows Azure SQL Reporting
    </title></head>
       <body >
          <form name="Logon" method="post" action="logon.aspx?ReturnUrl=%2fReportServer%3f%252fDemo2.rdl%26rs%3aCommand%3dRender%26rs%3aFormat%3dXML&amp;%2fDemo2.rdl&amp;rs%3aCommand=Render&amp;rs%3aFormat=XML" id="Logon">
    <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/XXXX" />

    <input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/YYYY" />

            <h1 id="Title"><span id="LblTitleContent">Windows Azure</span></h1>
            <hr />
            <div class="ClsIntro">
                <span id="LblIntro"></span>
            </div>
            <div class="ClsInput">
                <div>
                    <label for="TxtUser" id="LblUser">User name</label>
                </div>
                <div>
                    <input name="TxtUser" type="text" id="TxtUser" tabindex="1" />
                </div>
            </div>
            <div class="ClsInput">
                <div>
                    <label for="TxtPwd" id="LblPwd">Password</label>
                </div>
                <div>
                    <input name="TxtPwd" type="password" id="TxtPwd" tabindex="2" />
                </div>
            </div>
            <div class="ClsSignIn">
                <input type="submit" name="BtnLogon" value="Sign in" id="BtnLogon" tabindex="4" /><input type="image" name="BtnLogonArrow" id="BtnLogonArrow" tabindex="5" src="Public/WhiteRightArrow.png" alt="Sign in" align="baseline" border="0" />
            </div>
            <div class="ClsErrMsg">
                <span id="lblMessage"></span>
            </div>
            <hr />
          </form>
       </body>
    </html> 
```

方法2可能有什么问题，我们错过了什么吗？

**更新**

我对这个天蓝色和网络服务很陌生。我可能会问一些愚蠢的问题。这是我尝试过的：

*   我尝试在我的 windows phone 7 项目中向 azure sql 报告服务器添加“服务参考”。我注意到的一件事是我无法将服务添加为“Web 参考”，因为它在 Windows Phone 7 应用程序中被禁用。
*   将服务添加到我的应用程序后，我得到了一组课程。其中之一是 ReportExecutionServiceSoapClient；
*   ReportExecutionService 不可用。
*   我不太确定如何使用 ReportExecutionServiceSoapClient api 来获取可用于 WebClient 的 cookie。
*   任何关于如何使用这些 API 的示例应用程序都会很棒。我尝试通过互联网搜索，但无法获得更多信息。
*   以下是我尝试过的，但 cookie 计数为空。

    ```
    ReportExecutionServiceSoapClient client = new ReportExecutionServiceSoapClient();
    void MainPage_Loaded(object sender, RoutedEventArgs e)
    {
        client.ClientCredentials.UserName.UserName = "XXXX";
        client.ClientCredentials.UserName.Password = "XXXX";
        client.CookieContainer = new CookieContainer();
        client.LogonUserCompleted += new EventHandler<System.ComponentModel.AsyncCompletedEventArgs>(client_LogonUserCompleted);
        client.LogonUserAsync("XXXX", "XXXX", "xxxx.reporting.windows.net");
    }

    void client_LogonUserCompleted(object sender, System.ComponentModel.AsyncCompletedEventArgs e)
    {
        int count = client.CookieContainer.Count;  // NULL COOKIE COUNT!!!
    } 
    ```

下面是 ClientConfig 文件。我添加了 enableHttpCookieContainer="true"。

```
 <configuration>
        <system.serviceModel>
            <bindings>
                <basicHttpBinding>
                    <binding name="ReportExecutionServiceSoap" maxBufferSize="2147483647"
                        enableHttpCookieContainer="true"
                             maxReceivedMessageSize="2147483647">
                        <security mode="Transport" />
                    </binding>
                </basicHttpBinding>
            </bindings>
            <client>
                <endpoint address="https://xxxx.reporting.windows.net:443/ReportServer/ReportExecution2005.asmx"
                    binding="basicHttpBinding" bindingConfiguration="ReportExecutionServiceSoap"
                    contract="SqlReportingService.ReportExecutionServiceSoap"
                    name="ReportExecutionServiceSoap" />
            </client>
        </system.serviceModel>
    </configuration> 
```

*   请让我知道缺少什么。

**已解决** - 最后我能够从 Azure Sql 报告服务器下载 xml 文件。- 以下是解决方案。- 首先添加对Sql 报告服务器的服务引用。- 然后执行 ReportExecutionServiceSoapClient::LogonUserAsync。- 将获得的 cookie 与 WebClient 一起使用以进行进一步请求。

```
 public class WebClientExtended : WebClient
            {
                private CookieContainer myContainer;
                private HttpWebRequest myRequest;
                [SecuritySafeCritical]
                public WebClientExtended()
                {
                }

                [SecuritySafeCritical]
                public WebClientExtended(CookieContainer containter) 
                { 
                    myContainer = containter; 
                }

                public CookieContainer Cookies
                {
                    get { return myContainer; }
                    set { myContainer = value; }
                }

                protected override WebRequest GetWebRequest(Uri address)
                {
                    myRequest = (HttpWebRequest)base.GetWebRequest(address);
                    myRequest.Method = "GET";
                    myRequest.CookieContainer = Cookies;
                    return myRequest;
                }

                protected override WebResponse GetWebResponse(WebRequest request, IAsyncResult result)
                {
                    return myRequest.EndGetResponse(result);
                }
            }

            ReportExecutionServiceSoapClient rs = new ReportExecutionServiceSoapClient();
            string servername = "XXXX.reporting.windows.net";
            string uname = "XXXX";
            string password = "XXXX";

            public void LoadReport()
            {
                rs.ClientCredentials.UserName.UserName = uname;
                rs.ClientCredentials.UserName.Password = password;
                rs.CookieContainer = new CookieContainer();
                rs.LogonUserCompleted += new EventHandler<System.ComponentModel.AsyncCompletedEventArgs>(rs_LogonUserCompleted);
                rs.LogonUserAsync(uname, password, servername);

            }

            void rs_LogonUserCompleted(object sender, System.ComponentModel.AsyncCompletedEventArgs e)
            {
                WebClientExtended webClient = new WebClientExtended(rs.CookieContainer);
                webClient.Credentials = new NetworkCredential(uname, password, servername);
                webClient.DownloadStringCompleted += new DownloadStringCompletedEventHandler(webClient_DownloadStringCompleted);
                webClient.DownloadStringAsync(new Uri(String.Format("https://{0}/ReportServer?%2fDemo2.rdl&rs:Command=Render&rs:Format=XML", servername)));
            }

            void webClient_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
            {
                 MessageBox.Show(e.Result);
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T09:23:15.890

该类`ServerReport`将调用 上的`LogonUser`方法`ReportExecutionService`以获取表单身份验证 cookie，该 cookie 将用于所有其他请求（如呈现到 XML）。

在 WP7 应用程序中的 WebClient 上使用凭据不包括这一点。您有 2 个选项：

*   尝试通过调用 LogonUser 获取 cookie 并在您的 WebClient 中使用它
*   不要使用 WebClient 而是通过 ReportExecutionService 呈现报告

查看[Windows Azure SQL 报告：使用 SOAP API](http://blogs.msdn.com/b/chaitanya_medikonduri/archive/2012/07/23/10321694.aspx)博客文章以开始在 SQL Azure 中使用此服务。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T12:23:37.793

**在方法更新：** 即使代码表明这些不存在，您实际上可能已经收到 cookie。由于“安全问题”，这些只是隐藏在 CookieContainer 内的某个地方。

只需尝试将相同的 CookieContainer 实例插入下一个 WebRequest 并尝试它是否通过身份验证。

# iphone - 在 iPhone 应用程序的根控制器上重新显示选项卡栏

> ID：13854357
> 
> 赞同：1
> 
> 时间：2012-12-13T06:38:07.713
> 
> 标签：iphone, uinavigationcontroller, uitabbarcontroller, uitabbar

我用过标签栏控制器。当我通过推送控制器导航时，我使用方法隐藏了标签栏

```
self.hidesBottomBarWhenPushed = YES; 
```

当回到主根控制器时，它仍然是隐藏的。但是，我想在根控制器上重新显示标签栏控制器。

我用过

```
self.tabBarController.tabBar.hidden = FALSE; 
```

但不工作。那么，我怎样才能得到这个？

告诉我任何解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:20:24.490

您可以使用此隐藏您的 tabBar

```
self.tabBarController.tabBar.hidden=YES; 
```

如果您想再次显示它，请使用 viewWillApper

```
-(void)viewWillAppear:(BOOL)animated
{
    self.tabBarController.tabBar.hidden=NO;
} 
```

如果你想用 hide 和 show tabBar 制作动画然后按照我的回答[Stack Answer Link](https://stackoverflow.com/questions/11273563/hide-uitabbar-when-pushed-while-retaining-touch/11273959#11273959)

# javascript - 动态 javascript 元素更改文本

> ID：13854360
> 
> 赞同：0
> 
> 时间：2012-12-13T06:38:12.397
> 
> 标签：javascript, jquery, asp.net

我想通过用户选择更改用户嵌入的链接文本。该表单有 2 个文本框，一个用于带有 onkeyup 事件的用户输入，另一个是带有 href html 标记的只读文本框

当用户开始在第一个文本框中输入时，需要更改只读输入。

我尝试了不同的方法，但没有奏效

```
<asp:TextBox ID="txtAlinkTitle" runat="server" Text="Register Now" onkeyup="func(this,<%=txtALink.ClientID%>)" /><br />
    <asp:TextBox ID="txtALink" Text="<a href='http://google.com'>my text for link</a> " ReadOnly="true" runat="server" Width="100%" /> 
```

我怎样才能做到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:32:23.660

试试这个更新的：http: [**//jsfiddle.net/cfzt9/1/**](http://jsfiddle.net/cfzt9/1/)

我的html：

```
<input type='text' id='txtAlinkTitle' value=''/>
<input type='text' style='width:320px' id='txtALink' readonly='true' value="<a href='google.com'>aaa</a>"/> 
```

和我的 jQuery：

```
$('#txtAlinkTitle').keyup(function(){
    var textVal = $(this).val();
    var aa = $('#txtALink').attr('value');
    var bb = aa.substr(0, aa.indexOf('>')+1);
    var cc = aa.substr(aa.indexOf('</a>'));
    $('#txtALink').attr({"value":bb+textVal+cc});
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:38:02.980

这是在文本框文本中给出 href 的错误方法。您可以在文本框更改时使用 jquery 放置锚标记并设置其 href 值。

```
<asp:TextBox ID="txtAlinkTitle" runat="server" Text="Register Now" onkeyup="changeHref(this)" /><br />
<a id='aTag' href='http://google.com'>my text for link</a> 

funcation changeHref(sender)
{
   $("#aTag").attr('href', sender.val());
} 
```

您也可以使用 javascript 代替 jquery。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:48:23.210

如果您不想放置标签，请在函数中传递 url，

```
 <asp:TextBox ID="txtAlinkTitle" runat="server" Text="Register Now" onkeyup="changeHref(this,url)" /><br />
   <asp:TextBox ID="txtALink" Text="<a href='http://google.com'>my text for link</a> " ReadOnly="true" runat="server" Width="100%" />

funcation changeHref(sender,target,url)
{

   $('#<%=txtALink.ClientID%>').attr('href', '<a href=" + url + " >" + sender.val() + "</a>');
 } 
```

或使用[Javascript 子字符串方法替换](http://www.w3schools.com/jsref/jsref_substring.asp)

# cloud - 为 Appcelerator Cloud API 调用设置超时

> ID：13854361
> 
> 赞同：1
> 
> 时间：2012-12-13T06:38:13.817
> 
> 标签：cloud, appcelerator

我正在使用 Titanium Mobile 框架为 iPhone 开发应用程序。

我在为 ACS（Appcelerator 云服务）API 调用设置超时时遇到问题，因此如果网络不够强，应用程序不会挂起。

我怎样才能做到这一点。我阅读了文档，但找不到与此相关的内容。

以下是我的代码。

```
Cloud.Objects.query({
        classname: 'MyScores',
        page: 2,
        per_page: 5,
    }, function (e) {
        if (e.success) {

        }
        else {

        }
    }); 
```

# mysql - 检查数据是否存在并将100K记录插入/更新到Mysql数据库的有效方法

> ID：13854362
> 
> 赞同：0
> 
> 时间：2012-12-13T06:38:17.763
> 
> 标签：mysql

我们正在将数据从一个数据库迁移到另一个具有某些业务条件的数据库。一般来说，我们需要检查表中是否存在数据。如果数据不存在，则插入 else 更新。目前，仅 20K 条记录需要更多时间（约 15 分钟）。有人可以为检查和插入/更新提供有效的解决方案吗？

# wordpress - 将 Wordpress 降级到以前的版本

> ID：13854374
> 
> 赞同：0
> 
> 时间：2012-12-13T06:38:54.257
> 
> 标签：wordpress

我在 CKEditor 3.6.3 中使用 3.4.2 版，一切正常，但是 WP 自动更新到 3.4.5 版，现在 CKEditor 不起作用，并且使用默认编辑器新帖子的格式不符合预期。

有谁知道再次将版本降级到 3.4.2 的安全方法。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:59:52.280

有几种方法可以做到这一点，但这种方法会降级所有 wp 文件，包括根目录中的文件。在某些时候，WP 可以修改这些文件，因此包含它们是最安全的。

此过程仅在核心 WP 文件未被修改（由您修改）时才有效，但不应该。

1.  备份您的网站，以防万一。
2.  将所有不属于 WP 的文件（图标、错误页面等）保存在根目录中。
3.  将文件保存`wp-config.php`在根目录中。
4.  保存完整`themes/`目录
5.  保存完整`plugins/`目录
6.  如果没有，请下载 3.4.2 版本。
7.  将其解压缩到 WP 目录中，确保替换现有文件。
8.  将所有保存的文件恢复到原始目录和`themes/`和`plugins/`目录。

WP 第一次会要求授权更新数据库。选择是。

除了版本之外，一切都应该相同。中的文件 `/wp-content/uploads/`将是相同的。

我不确定 WP 是否有自动更新，我不这么认为，但如果有，请**禁用它们。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-19T13:43:37.700

给定的答案对我从 3.6 降级到 3.5.2 不起作用，但我能够找到一种可行的方法：

1.  导出网站。

2.  制作 Wordpress 目录的副本。不要移动它，只需复制它。

3.  下载以前的版本。

4.  将以前的版本解压到 Wordpress 目录中，替换现有文件。
    （这应该保持权限相同。如果您移动目录并创建一个新目录，您的权限可能是错误的。）

5.  将主题/ 和插件/ 目录从备份复制到 wp-content 目录。

6.  不应该有 wp-config.php 文件，因此只需将备份复制到 Wordpress 目录即可。

7.  尝试打开您的网站。如果它有效，你可能很好，如果没有，请继续以下步骤

8.  打开服务器上的 wp-config.php 文件并更改 $table_prefix。
    例如 $table_prefix = 'wp2_';

9.  导入以前版本的导出文件。
    希望这可行，否则您需要弄清楚哪些表已更改以及您需要在导出文件中更改哪些内容以使其与旧数据库匹配。您可以导出当前的旧版本以查看发生了什么变化。当然在你添加一些内容之后。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-05-10T15:22:17.660

现在有一个用于降级 WordPress 的插件。只需使用它：[https ://wordpress.org/plugins/wp-downgrade/](https://wordpress.org/plugins/wp-downgrade/)

# django - Django导入错误说django设置环境变量未定义

> ID：13854378
> 
> 赞同：0
> 
> 时间：2012-12-13T06:38:58.417
> 
> 标签：django, django-admin

我在 windows xp 上创建了一个项目示例和一个应用程序 sampapp 当我尝试使用命令`sqlall`时，我收到以下错误。

> C:\Python27\Django-1.3.1\django\bin>django-admin.py sqlall sampapp

```
 Traceback (most recent call last): File
 "C:\Python27\Django-1.3.1\django\bin\django-admin.py", line 5, in
 <module > management.execute_from_command_line() File
 "C:\Python27\lib\site-packages\django\core\management\__init__.py",
 line 429, in execute_from_command_line utility.execute() File
 "C:\Python27\lib\site-packages\django\core\management\__init__.py",
 line 379, in execute
 self.fetch_command(subcommand).run_from_argv(self.argv) File
 "C:\Python27\lib\site-packages\django\core\management\__init__.py",
 line 261, in fetch_command klass = load_command_class(app_name,
 subcommand) File
 "C:\Python27\lib\site-packages\django\core\management\__init__.py",
 line 67, in load_command_class module =
 import_module('%s.management.commands.%s' % (app_name, name)) File
 "C:\Python27\lib\site-packages\django\utils\importlib.py", line 35, in
 im port_module __import__(name) File
 "C:\Python27\lib\site-packages\django\core\management\commands\sqlall.py"
 , line 4, in <module> from django.core.management.sql import sql_all
 File "C:\Python27\lib\site-packages\django\core\management\sql.py",
 line 6, in <module> from django.db import models File
 "C:\Python27\lib\site-packages\django\db\__init__.py", line 14, in
 <modul e> if not settings.DATABASES: File
 "C:\Python27\lib\site-packages\django\utils\functional.py", line 276,
 in __getattr__ self._setup() File
 "C:\Python27\lib\site-packages\django\conf\__init__.py", line 40, in
 _set up raise ImportError("Settings cannot be imported, because environment variable %s is undefined." % ENVIRONMENT_VARIABLE)
 ImportError: Settings cannot be imported, because environment variable
 DJANGO_SE TTINGS_MODULE is undefined. 
```

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:00:51.090

导航到您的项目目录并在那里运行本地 manage.py。

```
C:\...\my_project_where_sampapp_lives\> python manage.py sqlall sampapp 
```

当您应该使用“python manage.py”时，您正在使用“django-admin.py”

```
$ django-admin.py shell
Error: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.
$ python manage.py shell
...
>>> print "now it works" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:16:26.057

Django-admin.py 正在寻找`settings.py`它无法找到的项目文件，因此它会引发 ImportError。好像您在使用 django-admin.py 命令时没有导航到您的项目目录。

您需要做的就是导航到您的项目目录。就像是：

（假设你的项目名称是我的项目）

```
cd myproject 
```

然后运行

```
django-admin.py sqlall sampapp 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:44:49.370

应该指定 DJANGO_SETTINGS_MODULE，我通常将这一行添加到我的 .bashrc 文件中：

导出 PYTHONPATH=。DJANGO_SETTINGS_MODULE=*你的设置文件*

# java - 在android中将1小时添加到当前时间

> ID：13854379
> 
> 赞同：16
> 
> 时间：2012-12-13T06:39:06.657
> 
> 标签：java, android, calendar

> **可能重复：**
> [如何将时间增加 1 小时](https://stackoverflow.com/questions/5950417/how-to-increment-time-by-1-hour)

我正在使用此代码获取当前日期和时间

```
SimpleDateFormat sdf = new SimpleDateFormat("yyyy:MM:dd:HH:mm");
String currentDateandTime = sdf.format(new Date());
System.out.println("current time date" + currentDateandTime); 
```

现在我想为此增加 1 小时。我搜索了但我没有得到我想要的答案。现在我变成了这样：

```
current time date2012:12:13:12:05 
```

我想要一个像`2012:12:13:13:05`24 小时格式的答案。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-12-13T06:43:19.647

尝试：

```
SimpleDateFormat sdf = new SimpleDateFormat("yyyy:MM:dd:HH:mm");
String currentDateandTime = sdf.format(new Date());

Date date = sdf.parse(currentDateandTime);
Calendar calendar = Calendar.getInstance();
calendar.setTime(date);
calendar.add(Calendar.HOUR, 1);

System.out.println("Time here "+calendar.getTime()); 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-12-13T06:44:54.070

您可以在将日期传递给 sdf.format(date) 之前像这样增加日期

```
 Date a=new Date();
   a.setTime(System.currentTimeMillis()+(60*60*1000)); 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-12-13T07:03:09.790

```
Calendar now = Calendar.getInstance();
now.add(Calendar.HOUR,1);
System.out.println(now.getTime()); 
```

# java - Scala日期格式问题

> ID：13854381
> 
> 赞同：1
> 
> 时间：2012-12-13T06:39:09.383
> 
> 标签：java, scala, scala-2.8

我有代码片段，它在 scala 和 java 中给出不同的输出。我想要与Java相同的输出，请任何人指导。

Java`2012-12-13T10:36:38`
中的输出： Scala 中的输出：`2012-12-13T10:35:38.000+04:00`

```
/**
 * Convert the datetime to XMLGregorianCalendar datetime format.
 * <br><h6>Example Date format You have to Give is : </h6>
 * new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").format(Calendar.getInstance().getTime())) 
 * <br>1900-01-01T00:00:00
 */
public static XMLGregorianCalendar stringToXMLGregorianCalendar(String datetime) throws Exception {

    try {
        if(datetime == null || "".equals(datetime))
            return null;
        GregorianCalendar gc = (GregorianCalendar) GregorianCalendar.getInstance();
        gc.setTime(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").parse(datetime));
        return DatatypeFactory.newInstance().newXMLGregorianCalendar(gc);
    } catch (DatatypeConfigurationException e) {
        logger.error(e.fillInStackTrace());
        throw new Exception(e.fillInStackTrace());
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T15:26:54.357

也许您应该更改时区

```
val d = new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").format(java.util.Calendar.getInstance().getTime())
val gc: java.util.GregorianCalendar = classOf[java.util.GregorianCalendar].newInstance().asInstanceOf[java.util.GregorianCalendar];     gc.setTime(new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").parse(d));
gc.getTime
gc.getTimeZone 
```

结果：

```
res6: java.util.Date = Thu Dec 13 17:21:50 GMT+02:00 2012
res7: java.util.TimeZone = sun.util.calendar.ZoneInfo[id="GMT+02:00",offset=7200000,dstSavings=0,useDaylight=false,transitions=0,lastRule=null] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:40:44.513

我已经解决了问题，请在下面找到解决方案。

我在上面的代码中将时区和毫秒设置为未定义。

`xgc.setMillisecond(DatatypeConstants.FIELD_UNDEFINED)` `xgc.setTimezone(DatatypeConstants.FIELD_UNDEFINED)`

```
 try {
        if (datetime == null || "".equals(datetime))
            return null
        val gc = new GregorianCalendar()
        gc.setTime(new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss").parse(datetime))
        val xgc = DatatypeFactory.newInstance().newXMLGregorianCalendar(gc)
        xgc.setMillisecond(DatatypeConstants.FIELD_UNDEFINED)
        xgc.setTimezone(DatatypeConstants.FIELD_UNDEFINED)
        return xgc
    } catch {
        case e: DatatypeConfigurationException => logger.error(e.fillInStackTrace()); throw new Exception(e.fillInStackTrace())
    } 
```

# javascript - 输入键+控制键按下在textarea中创建新行在ie9中不起作用

> ID：13854387
> 
> 赞同：1
> 
> 时间：2012-12-13T06:39:27.330
> 
> 标签：javascript, jquery, internet-explorer-9, textarea, caret

我正在尝试生成控制键并输入 key keypress 以在 textarea 中放置新行。在 chrome、firefox 中效果很好，但在 ie9 中效果不佳。我搜索了一下，结果发现在 IE 渲染新行时存在回车或类似问题。我可以将光标移动到新行，但是当我开始键入时，它会从前一行开始。

代码示例如下：

```
var beforeCursor = base.$el.val().substr(0,pos.start);
var afterCursor = base.$el.val().substr(pos.start,base.$el.val().length);
    base.$el.val(beforeCursor +"\n"+afterCursor);
    base.$el.caret(beforeCursor.length+1, beforeCursor.length+1); 
```

任何帮助或可能提供帮助的链接都很好。提前致谢。

# iphone - 动画后如何从超级视图中删除图像

> ID：13854388
> 
> 赞同：1
> 
> 时间：2012-12-13T06:39:33.017
> 
> 标签：iphone, xcode

我正在制作一个应用程序，当用户单击图像时，它会显示出来，然后是下一个代码。如您所见，它会使图像消失，然后我想将其从超级视图中删除。

这是代码：

```
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:0.8f];
[UIView setAnimationDelay:1.0f];
[UIView setAnimationCurve:UIViewAnimationCurveEaseOut];
tempImageView1.alpha = 0;
tempImageView2.alpha = 0;
[UIView commitAnimations];

[tempImageView1 removeFromSuperview];
[tempImageView2 removeFromSuperview];
//[self performSelector:@selector(removeFromSuperview) withObject:tempImageView1 afterDelay:1.8f];
//[self performSelector:@selector(removeFromSuperview) withObject:tempImageView2 afterDelay:1.8f]; 
```

令我困惑的是，如果我写 [tempImageView1 removeFromSuperview]; 该应用程序可以正常工作，但当然图像甚至在显示之前就关闭了。当我尝试编写上面注释的行之一时，做同样的事情但有延迟，我收到一条错误消息。

原因是：“[GamePage2 removeFromSuperview]: unrecognized selector sent to instance”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:48:06.780

因为您在 self 上调用选择器，而不是 tempImageView1。

你试过了`[tempImageView1 performSelector ...]` 吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:48:26.847

只是为了它首先用上面的代码创建一个方法，然后用延迟时间调用这个方法

```
[self performSelector:@selector(removeImage) withObject:nil afterDelay:2.0];

-(void)removeImage{

     [tempImageView1 removeFromSuperview];
     [tempImageView2 removeFromSuperview];
     CATransition *animation = [CATransition animation];
 [animation setDelegate:self];  
 [animation setType:kCATransitionFade];
 [animation setDuration:0.5];
 [animation setTimingFunction:[CAMediaTimingFunction functionWithName:
                              kCAMediaTimingFunctionEaseInEaseOut]];
  [[tempImageView1 layer] addAnimation:animation forKey:@"transitionViewAnimation"];
 [[tempImageView2 layer] addAnimation:animation forKey:@"transitionViewAnimation"];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:50:42.997

在你的代码中做

```
tempImageView1.alpha = 1;
tempImageView2.alpha = 1;
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:0.8f];
[UIView setAnimationDelay:1.0f];
[UIView setAnimationCurve:UIViewAnimationCurveEaseOut];
tempImageView1.alpha = 0;
tempImageView2.alpha = 0;
[tempImageView1 removeFromSuperview];
[tempImageView2 removeFromSuperview];
[UIView commitAnimations]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:51:12.933

对于中间的任何动画循环，您的代码的执行都不会停止，因此，当您调用“removeFromSuperView”时，即使在动画完成之前也会执行该方法。这会导致您的图像在没有任何动画的情况下被删除。您可以在延迟方法之后使用执行选择器，但您必须在相应的对象上调用它，在这种情况下是 GamePage2。用 GamePage2 替换 self ，它应该可以正常工作。更好的方法是使用动画完成处理程序，可以像下面这样完成

```
 [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:.1.8];
    [UIView setAnimationDelegate: self];
    [UIView setAnimationDidStopSelector:@selector(animationFinished:context:)];

    //your animation code... 
    [UIView commitAnimations]; 
```

这将在动画完成后调用给定的选择器，您可以在那里编写从 superview 中删除的方法。

# css - 解析 HTML5 画布的精灵

> ID：13854389
> 
> 赞同：1
> 
> 时间：2012-12-13T06:39:34.393
> 
> 标签：css, image, html, canvas, sprite

这是一个困扰我很久的问题。比如说，我需要在页面中引入一个布娃娃角色动画。显然，这样一个角色的每个身体部位都是一个图像，并且这些图像的数量可以根据角色的复杂性和角色的数量而变得相当大。如果这些字符是静态的（事实上，DOM 动画仍然是可能的，但可能会慢很多），我可以使用 CSS 背景精灵，但是当涉及到使用画布时，似乎你必须求助于加载所有一张一张的图片，这可能会对页面加载时间产生影响。

此外，我想使用一些允许在画布上创建持久对象的框架，例如[paper.js](http://paperjs.org)或[fabric.js](http://fabricjs.com)，并处理重绘周期。

虽然我认为编写一个解析器来读取字符的 XML/JSON 描述并根据坐标创建对象是一项微不足道（但耗时）的任务，但我想知道是否已经创建和使用了任何此类工具，我可能不知道。

我想使用的是这样的结构：

```
character : {
  image : 'characters.png',
  body : {
    head : {
      width : 40,
      height : 50,
      xOff : 50,
      yOff : 125
    }
    // Other parts follow
  }
} 
```

是否有任何框架或游戏引擎允许从这种结构创建对象？将多个图像加载到画布中的最佳方法是什么？

感谢您的任何建议。

**UPD。添加了一些细节。**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T06:51:20.297

为此有一个重载版本`drawImage`：

```
drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
// where image: valid image
//          sx: source slice x position
//          sy: source slice y position
//          sWidth:  source slice width
//          sHeight: source slice height
//       same for dx etc. 
```

所以你可以简单地使用与 CSS 背景精灵相同的方法。

### 参考：

*   MDN：[画布教程：切片](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Canvas_tutorial/Using_images#Slicing)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:29:33.287

您可以尝试框架[EaselJs](http://www.createjs.com/#!/EaselJS)。

# c# - 制作一个侦听器来检测内存使用情况

> ID：13854391
> 
> 赞同：0
> 
> 时间：2012-12-13T06:39:37.160
> 
> 标签：c#, .net, wpf, memory-management

我希望做一个`Listener`观察/跟踪 RAM 使用情况。

我知道在 C# 中我们可以使用

```
 public static class PerformanceInfo
  {
      [DllImport("psapi.dll", SetLastError = true)]
      [return: MarshalAs(UnmanagedType.Bool)]
      public static extern bool GetPerformanceInfo([Out] out PerformanceInformation       PerformanceInformation, [In] int Size);

      [StructLayout(LayoutKind.Sequential)]
      public struct PerformanceInformation
      {
        public int Size;
        public IntPtr CommitTotal;
        public IntPtr CommitLimit;
        public IntPtr CommitPeak;
        public IntPtr PhysicalTotal;
        public IntPtr PhysicalAvailable;
        public IntPtr SystemCache;
        public IntPtr KernelTotal;
        public IntPtr KernelPaged;
        public IntPtr KernelNonPaged;
        public IntPtr PageSize;
        public int HandlesCount;
        public int ProcessCount;
        public int ThreadCount;
      }

      public static Int64 GetPhysicalAvailableMemoryInMiB()
      {
          PerformanceInformation pi = new PerformanceInformation();
          if (GetPerformanceInfo(out pi, Marshal.SizeOf(pi)))
          {
            return Convert.ToInt64((pi.PhysicalAvailable.ToInt64() * pi.PageSize.ToInt64() / 1048576));
          }
          else
          {
            return -1;
          }

      }

      public static Int64 GetTotalMemoryInMiB()
      {
        PerformanceInformation pi = new PerformanceInformation();
        if (GetPerformanceInfo(out pi, Marshal.SizeOf(pi)))
        {
          return Convert.ToInt64((pi.PhysicalTotal.ToInt64() * pi.PageSize.ToInt64() / 1048576));
        }
        else
        {
          return -1;
        }

      }
    }
  } 
```

不，此侦听器应每秒跟踪 RAM 使用情况，如果它大于指定的 %age，则它应该`Kill Some Processes`或应该向我的应用程序（WPF 应用程序）提供一些通知以终止某些特定进程

我怎样才能让一段代码不断地听系统，然后调用一些动作

在这方面的任何帮助都会很棒..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:45:33.023

使用 Timer 类。像[System.Timers.Timer](http://msdn.microsoft.com/en-us/library/system.timers.timer%28v=vs.100%29.aspx)甚至简单`Thread.Sleep(1000)`都可以（假设您的代码在单独的非 UI 线程上运行）。

# jsf - 是否有任何活动 ?

> ID：13854394
> 
> 赞同：0
> 
> 时间：2012-12-13T06:39:40.903
> 
> 标签：jsf, primefaces, tooltip

我正在使用 primefaces 。`<p:tooltip>` 在我的屏幕中，如果鼠标光标位于日期字段中，我必须计算并显示剩余天数。这该怎么做 ？工具提示有任何事件吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:25:39.417

没有与之相关的 PrimeFaces 事件，`p:tooltip`但是您可以使用 Javascrip/jQuery 来模拟 a 的延迟加载`p:tooltip`：

```
<h:form id="form">
    <p:commandButton id="button" value="button" />
    <p:tooltip for="button" id="tooltip">
        <p:outputPanel id="tooltip-content-wrapper">
            <h:outputText value="#{bean.tooltipContent}"
                rendered="#{bean.tooltipVisible}" />
        </p:outputPanel>
    </p:tooltip>
    <p:remoteCommand name="loadTooltip"
        action="#{bean.loadTooltipContent}" update="tooltip-content-wrapper" />
</h:form>
<script type="text/javascript">
$("[id='form:button']").on("mouseover", function() { loadTooltip(); });
</script> 
```

和支持bean：

```
public class Bean
{
    private boolean tooltipVisible = false;
    private String tooltipContent = "test";

    public void loadTooltipContent()
    {
        tooltipVisible = true;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:15:57.100

`<p:toolTip/>`定义控制它的显示 ( `showEvent`) 和隐藏 ( `hideEvent`) 的 javascript 事件，并且分别默认为`mouseover`和`mouseout`。基于两者，您在技术上可以显示您想要的内容（最好通过 javascript）

如果你不走 javascript 路线，你可以

1.  定义`title`日期字段并绑定到支持 bean 变量

    ```
     <h:inputText id="theDate"  value="#{bean.date}" title="#{bean.daysLeft}"/> 
    ```

2.  添加工具提示

    ```
     <p:tooltip id="theToolTip" for="theDate"/> 
    ```

3.  通过输入字段上的 ajax 事件，更新标题并让工具提示自动拾取它

    ```
     <h:inputText id="theDate"  value="#{bean.date}" title="#{bean.daysLefy}">
            <p:ajax event="blur" listener="#{bean.someMethodToUpdateDaysLeft}" update="theDate,theToolTip" execute="theDate"/>
         </h:inputText> 
    ```

# line - 使用 selenium+C# 在 excel 中验证空行

> ID：13854398
> 
> 赞同：1
> 
> 时间：2012-12-13T06:39:50.723
> 
> 标签：line

我有一个包含数据组的 Excel 表。
每个组都用一个空行来区分。

例如：
组 1：
数据 1 数据 2 数据 3
数据 4 数据 5 数据 6
数据 4 数据 5 数据 6

第 2 组：
数据 1 数据 2 数据 3
数据 4 数据 5 数据 6
数据 4 数据 5 数据 6

第 3 组：
数据 1 数据 2 数据 3
数据 4 数据 5 数据 6
数据 4 数据 5 数据 6

所以，在这里我需要验证是否存在空行。我需要使用 selenium webdriver + C# 来完成。请务必提出一些解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-02-11T09:41:44.237

不确定您是否可以为此使用 Selenium。

对我来说，您似乎可以使用纯 C#。

*   困难的方式：如果您可以访问 excels 数据，您应该使用正则表达式来解析它。

*   轻松方式：`yourString.Split(new[] {Environment.NewLine}, StringSplitOptions.None);`

# javascript - 如何创建弹出消息并动态更新内部文本

> ID：13854406
> 
> 赞同：0
> 
> 时间：2012-12-13T06:40:22.150
> 
> 标签：javascript, timer, settimeout, alert

我想创建一个弹出消息并根据某些事件更改内部文本，例如显示计时器！。

它是：带有更改文本的单个消息框

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:44:29.460

据我所知，原始 javascript 确认或警报框无法动态更新文本，因为该框本身是一个阻塞调用。（在盒子关闭之前不会运行额外的 javascript）。

最好的选择是使用 HTML 样式的弹出框，而不是 javascript window.alert 或 window.confirm

请参阅此处的示例： http: [//malsup.com/jquery/block/#dialog](http://malsup.com/jquery/block/#dialog)

# mysql - 连接失败

> ID：13854411
> 
> 赞同：1
> 
> 时间：2012-12-13T06:40:54.233
> 
> 标签：mysql, connection

我正在使用正确的用户名和密码连接 php 页面中的数据库，但出现访问被拒绝问题。我检查了很多次我的用户名和密码是否正确，而不是为什么会出现此错误。帮助我下面给出错误或警告“警告：mysql_connect（）[function.mysql-connect]：在'读取初始通信数据包'时丢失与MySQL服务器的连接，系统错误：/home/dewasdia/public_html/main中的0。第 7 行的 php 失败”

我正在使用这个功能

```
 function connection()
     {
    mysql_connect('xyz.com','username','password') or die (" fail");
    mysql_select_db('dewasdia_dewas') or die(mysql_error());
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T06:49:33.313

[MySQL 服务器在“读取初始通信数据包”，系统错误：111](https://stackoverflow.com/questions/11168945/mysql-server-at-reading-initial-communication-packet-system-error-111)

参考那个问题。这是您需要的确切问题。

# r - 如何仅为单个图中 6 个箱线图中的两个为背景着色？

> ID：13854417
> 
> 赞同：3
> 
> 时间：2012-12-13T06:41:05.373
> 
> 标签：r, boxplot

我有 6 个数据集，我需要在单个图中使用 R 绘制箱线图。在 6 中，2 更重要，所以我想通过阴影背景来突出它们。是否可以在使用 R 的 boxplot() 函数时选择性地遮蔽箱线图后面的背景，以便很少有人留下？ ![就像这张图片](../Images/3661427d877820b9975da946424ea352.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-13T06:48:24.667

您可以尝试使用函数`rect()`并给出左下角和右上角的坐标和颜色。参数`lty=0`确保没有边界。函数`boxplot()`使用了两次，因为`rect()`会隐藏第一个箱线图。`add=TRUE`在第二个`boxplot()`确保情节是在同一个图形上进行的。

```
a<-rep(c("g1","g2","g3","g4","g5","g6"),each=10)
b<-rnorm(60)    
boxplot(b~a)
rect(0.5,-3,1.5,3,col="grey75",lty=0)
rect(2.5,-3,3.5,3,col="grey75",lty=0)
boxplot(b~a,add=TRUE) 
```

![在此处输入图像描述](../Images/f1998d0526a37e72d98da703371d4355.png)

# android - 如何在android cocos2d中使用plist显示粒子效果？

> ID：13854420
> 
> 赞同：0
> 
> 时间：2012-12-13T06:41:46.403
> 
> 标签：android, android-emulator, cocos2d-android

我正在使用 cocos2d 在 android 中做一个小游戏，我想使用 plist 文件显示粒子效果。我尝试使用下面的代码，但我得到一个空指针异常。如果不使用 .png 文件，如何显示 plist 文件？

GamestartLayer.clss：

```
 public class GamestartLayer extends CCColorLayer {
    CCSprite ss;
    float movement;

   CGSize winSize = CCDirector.sharedDirector().displaySize();
    protected GamestartLayer(ccColor4B color) {
    super(color);
    // TODO Auto-generated constructor stub

    this.setIsTouchEnabled(true);
     ss=CCSprite.sprite("ant_1_1.png");
       ss.setPosition(CGPoint.ccp(768*0.5f, 1024*0.5f));
    this.addChild(ss,5);
    this.setIsAccelerometerEnabled(true);
    this.schedule("gameLogic"); 
       CCParticleSystem       fire=CCParticleFire.particleWithFile("Rocketfire2.plist");

       fire.setPosition(CGPoint.ccp(winSize.width/2.0f, winSize.height/2.0f));
       this.addChild(fire);
}

public static CCScene scene() {
    // TODO Auto-generated method stub
       CCScene scene = CCScene.node();

         GamestartLayer  layer = new GamestartLayer(ccColor4B.ccc4(225, 225,225, 225));

        //adds layer to scene
        scene.addChild(layer);

        return scene;
}

      } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:13:17.280

你可以试试[WiEngine](https://github.com/stubma/WiEngine)。它是最好的 Cocos2d java 跨平台移植。[还可以从 android市场](https://play.google.com/store/apps/details?id=com.wiyun.engine&feature=search_result)查看 Wiengine 的 api Demo

# iphone - AFImageRequestOperation 产生错误

> ID：13854421
> 
> 赞同：0
> 
> 时间：2012-12-13T06:41:53.220
> 
> 标签：iphone, ios, afnetworking

我的应用程序必须从 facebook 下载个人资料图片。我为下载图像而编写的代码适用于具有直接链接的图像 url（例如：[http](http://www.mydomain.com/profile_picture.png) ://www.mydomain.com/profile_picture.png ）

但它会为 facebook url 产生错误（例如： http: [//graph.facebook.com/100000741043402/picture](http://graph.facebook.com/100000741043402/picture)）

以下是代码：

```
NSURLRequest *imageRequest = [NSURLRequest requestWithURL:[NSURL URLWithString:imageUrl] cachePolicy:NSURLRequestReturnCacheDataDontLoad timeoutInterval:30.0];
    AFImageRequestOperation *operation = [AFImageRequestOperation imageRequestOperationWithRequest:imageRequest
                                                                              imageProcessingBlock:nil
                                                                                         cacheName:@"nscache"
                                                                                           success:^(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image){                                                                                                                                                                                                   profilePicture.image = image;

                                                                                               [profilePicture.layer setBorderColor: [[UIColor colorWithRed:137.0/255.0 green:137.0/255.0 blue:137.0/255.0 alpha:1.0] CGColor]];
                                                                                               [profilePicture.layer setBorderWidth: 2.0];
                                                                                           }
                                                                                           failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error){ NSLog(@"%@",[error description]); }
                                          ];
    [operation start]; 
```

以下是回应：

```
Error Domain=NSURLErrorDomain Code=-1008 "resource unavailable" UserInfo=0x97e0ae0 {NSErrorFailingURLStringKey=http://graph.facebook.com/100000741043402/picture, NSErrorFailingURLKey=http://graph.facebook.com/100000741043402/picture, NSLocalizedDescription=resource unavailable, NSUnderlyingError=0xa3559b0 "resource unavailable"} 
```

任何提示/建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:08:22.390

如果您使用 curl 转储整个 HTTP 对话的标头，您将看到：

```
$curl -IL http://graph.facebook.com/100000741043402/picture
HTTP/1.1 302 Found
Access-Control-Allow-Origin: *
Cache-Control: private, no-cache, no-store, must-revalidate
Content-Type: image/jpeg
Expires: Sat, 01 Jan 2000 00:00:00 GMT
Location: http://profile.ak.fbcdn.net/hprofile-ak-snc6/186199_100000741043402_1626005174_q.jpg
Pragma: no-cache
X-FB-Rev: 693801
X-FB-Debug: dB4yzLkbQuq46xPMq51wruVSccPCm94U4tePFC/VKoc=
Date: Thu, 13 Dec 2012 07:00:39 GMT
Connection: keep-alive
Content-Length: 0

HTTP/1.1 200 OK
Content-Type: image/jpeg
Content-Length: 3055
Last-Modified: Fri, 01 Jan 2010 00:00:00 GMT
X-Backend: hs478.snc6
X-BlockId: 186199
X-Object-Type: PHOTO_PROFILE
Access-Control-Allow-Origin: *
Cache-Control: max-age=1209600
Expires: Thu, 27 Dec 2012 07:00:40 GMT
Date: Thu, 13 Dec 2012 07:00:40 GMT
Connection: keep-alive 
```

因此 FB 会将您重定向到个人资料图片，但 NSURLRequest 本身并不遵循重定向。 [这篇文章（使用 NSURLConnection 正确处理重定向）](https://stackoverflow.com/questions/1446509/handling-redirects-correctly-with-nsurlconnection)展示了如何处理这个问题，主要的教训是你必须遵循重定向，直到你最终得到 200 响应，该响应将指示终端 URL。

# javascript - 如何在 DOM JQuery 中关闭 div

> ID：13854423
> 
> 赞同：-6
> 
> 时间：2012-12-13T06:42:09.480
> 
> 标签：javascript, jquery, html, dom

我显示了当我将 li 添加到我的 html 时的错误。这个 li 涵盖了我的代码中的所有 html 部分。我不知道我在哪里关闭 li

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:55:20.240

```
$('<li />', {'class': 'liBullet'}).append(
    $('<div />', {'class': 'layerCheck'}).append(
        $('<input />', {id: layer.id, type: "checkbox"})
    )
).append(
    $('<label />', {'for': layer.id, text: layer.name})
).append(
    $('<div />', {id: 'legend' + layer.id, 'class': 'loadingLegend'})
).appendTo("#layer_list"); 
```

[**小提琴**](http://jsfiddle.net/VvvbW/1/)

# android - 如何避免 APK 文件的逆向工程

> ID：13854425
> 
> 赞同：826
> 
> 时间：2012-12-13T06:42:14.893
> 
> 标签：android, security, proguard, reverse-engineering

我正在为 Android 开发一个**支付处理应用程序**，我想防止黑客访问[APK](http://en.wikipedia.org/wiki/APK_%28file_format%29)文件中的任何资源、资产或源代码。

如果有人将 .apk 扩展名更改为 .zip，他们可以将其解压缩并轻松访问应用程序的所有资源和资产，并且使用[dex2jar](http://code.google.com/p/dex2jar/wiki/Faq)和 Java 反编译器，他们还可以访问源代码。对 Android APK 文件进行逆向工程非常容易 - 有关更多详细信息，请参阅 Stack Overflow 问题*[Reverse engineering from an APK file to a project](https://stackoverflow.com/questions/12732882/reverse-engineering-from-apk-to-project)*。

我使用了 Android SDK 提供的 Proguard 工具。当我对使用签名密钥库和 Proguard 生成的 APK 文件进行反向工程时，我得到了混淆代码。

但是，Android 组件的名称保持不变，一些代码（如应用中使用的键值对）保持不变。根据 Proguard 文档，该工具不能混淆 Manifest 文件中提到的组件。

现在我的问题是：

1.  如何**完全防止**Android APK 的逆向工程？这可能吗？
2.  如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解 APK 文件？
3.  **有没有办法让黑客攻击变得更加困难甚至不可能？**我还能做些什么来保护我的 APK 文件中的源代码？

* * *

## 回答 #1

> 赞同：398
> 
> 时间：2012-12-13T07:03:12.323

> 1\. 如何完全避免Android APK的逆向工程？这可能吗？

AFAIK，没有任何技巧可以完全避免逆向工程。

@inazaruk 也说得很好：*无论您对代码做什么，潜在的攻击者都能够以她或他认为可行的任何方式对其进行更改*。您基本上无法保护您的应用程序不被修改。您在那里放置的任何保护都可以被禁用/删除。

> 2\. 如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解APK文件？

不过，您可以采取不同的技巧来提高黑客攻击的难度。例如，使用混淆（如果是 Java 代码）。这通常会显着减慢逆向工程的速度。

> 3\. 有没有办法让黑客攻击变得更加困难甚至不可能？我还能做些什么来保护我的 APK 文件中的源代码？

正如每个人所说，并且您可能知道，没有 100% 的安全性。但谷歌内置的 Android 的起点是 ProGuard。如果您可以选择包含**共享库**，则可以在 C++ 中包含所需的代码以验证文件大小、集成等。如果您需要在每次构建时将外部原生库添加到 APK 的库文件夹中，那么您可以使用它通过以下建议。

将库放在项目文件夹中默认为“libs”的本机库路径中。如果您为**“armeabi”**目标构建了本机代码，则将其放在**libs/armeabi**下。如果它是用**armeabi-v7a**构建的，则将其放在 **libs/armeabi-v7a 下。**

```
<project>/libs/armeabi/libstuff.so 
```

* * *

## 回答 #2

> 赞同：139
> 
> 时间：2012-12-13T07:07:32.593

AFAIK，您无法保护 /res 目录中的文件，而现在它们受到保护。

但是，您可以采取一些措施来保护您的源代码，或者至少它的作用（如果不是全部）。

1.  使用 ProGuard 等工具。这些会混淆你的代码，并且在反编译时使其更难阅读，如果不是不可能的话。
2.  将服务中最关键的部分从应用程序中移出，移到 Web 服务中，隐藏在像 PHP 这样的服务器端语言之后。例如，如果你有一个算法花了你一百万美元来编写。您显然不希望人们从您的应用程序中窃取它。移动算法并让它处理远程服务器上的数据，然后使用应用程序简单地为其提供数据。或者使用 NDK 将它们原生地写入 .so 文件，与 apks 相比，这些文件被反编译的可能性要小得多。我认为 .so 文件的反编译器现在甚至不存在（即使它存在，它也不会像 Java 反编译器那样好）。此外，正如@nikolay 在评论中提到的，您应该在服务器和设备之间进行交互时使用 SSL。
3.  在设备上存储值时，不要以原始格式存储它们。例如，如果您有一个游戏，并且您将用户拥有的游戏货币数量存储在 SharedPreferences 中。我们假设它是`10000`硬币。与其`10000`直接保存，不如使用类似`((currency*2)+1)/13`. 因此`10000`，您保存`1538.53846154`到 SharedPreferences 中，而不是 。然而，上面的例子并不完美，你必须努力想出一个不会因舍入错误等而失去货币的等式。
4.  您可以对服务器端任务执行类似的操作。现在举个例子，让我们以您的支付处理应用为例。假设用户必须支付`$200`. 与其向`$200`服务器发送原始值，不如发送一系列较小的预定义值，这些值加起来为`$200`. 例如，在您的服务器上有一个将单词与值等同的文件或表。因此，假设`Charlie`对应于`$47`和。因此，您可以发送四次而不是发送`John``$3``$200``Charlie``John`四次。在服务器上，解释它们的意思并加起来。这可以防止黑客向您的服务器发送任意值，因为他们不知道哪个词对应于什么值。作为额外的安全措施，您也可以有一个类似于第 3 点的等式，并每隔`n`几天更改一次关键字。
5.  最后，你可以在你的应用程序中插入随机无用的源代码，让黑客大海捞针。插入包含来自互联网的片段的随机类，或者只是用于计算诸如斐波那契数列之类的随机事物的函数。确保这些类可以编译，但不会被应用程序的实际功能使用。添加足够多的这些虚假类，黑客将很难找到你的真实代码。

总而言之，没有办法 100% 保护您的应用程序。你可以让它变得更难，但并非不可能。您的网络服务器可能会受到攻击，黑客可以通过监控多个交易金额和您为其发送的关键字来找出您的关键字，黑客可能会煞费苦心地检查源代码并找出哪些代码是伪代码。

你只能反击，但永远不会赢。

* * *

## 回答 #3

> 赞同：126
> 
> 时间：2012-12-13T08:28:23.160

在计算历史上，当您将软件的工作副本提供给攻击者时，从来没有可能阻止软件的逆向工程。而且，在最有可能的情况下，**它永远不可能**。

了解了这一点，就有了一个明显的解决方案：*不要将你的秘密透露给攻击者。*虽然您无法保护 APK 的内容，但您*可以*保护的是您未分发的任何内容。通常，这是用于激活、支付、规则执行和其他有趣代码的服务器端软件。*您可以通过不在*您的 APK 中分发有价值的资产来保护它们。相反，设置一个服务器来响应来自您的应用程序的请求，“使用”资产（无论这可能意味着什么），然后将结果发送回应用程序。如果此模型不适用于您心目中的资产，那么您可能需要重新考虑您的策略。

此外，**如果您的主要目标是防止应用盗版**：请不要打扰。您在这个问题上花费的时间和金钱比任何反盗版措施都可能希望拯救您的时间和金钱还要多。解决这个问题的投资回报率是如此之低，以至于考虑它都没有意义。

* * *

## 回答 #4

> 赞同：97
> 
> 时间：2012-12-13T19:39:20.687

> **应用程序安全的第一条规则：**攻击者获得不受限制的物理或电子访问权限的任何机器现在都属于您的攻击者，无论它实际在哪里或您为此支付了什么费用。
> 
> **应用程序安全的第二条规则：**任何离开攻击者无法渗透的物理边界的软件现在都属于您的攻击者，无论您花了多少时间编写它。
> 
> **第三条规则：**任何离开攻击者无法穿透的物理边界的信息现在都属于你的攻击者，无论它对你有多有价值。

信息技术安全的基础基于这三个基本原则；唯一真正安全的计算机是锁在保险箱里、法拉第笼子里、钢笼子里的那台。有些计算机的大部分使用寿命都处于这种状态。每年（或更少）一次，他们为受信任的根证书颁发机构生成私钥（在众多目击者面前，用摄像头记录他们所在房间的每一寸）。

现在，大多数计算机都不是在这些类型的环境下使用的；它们实际上是在户外，通过无线电频道连接到互联网。简而言之，它们很容易受到攻击，就像它们的软件一样。因此，他们不值得信任。计算机及其软件必须知道或做某些事情才能发挥作用，但必须注意确保它们永远不会知道或做的事情足以造成损害（至少不会造成超出单台机器范围的永久性损害） ）。

你已经知道了这一切；这就是您试图保护应用程序代码的原因。但是，这是第一个问题；混淆工具可以使代码变得一团糟，人类试图挖掘，但程序仍然必须运行；这意味着应用程序的实际逻辑流程及其使用的数据不受混淆的影响。只要有一点韧性，攻击者就可以简单地对代码进行去混淆处理，在某些情况下，这甚至是不必要的，因为他正在查看的内容只能是他正在寻找的内容。

相反，您应该努力确保攻击者无法对您的代码做任何事情，无论他多么容易获得它的清晰副本。这意味着，没有硬编码的秘密，因为一旦代码离开您开发它的建筑物，这些秘密就不是秘密了。

您硬编码的这些键值应从应用程序的源代码中完全删除。相反，它们应该位于三个位置之一；设备上的易失性内存，攻击者更难（但仍然不是不可能）获得离线副本；永久在服务器集群上，您可以用铁腕控制对它的访问；或在与您的设备或服务器无关的第二个数据存储中，例如物理卡或用户的内存中（这意味着它最终将在易失性内存中，但不必很长时间）。

考虑以下方案。用户将他们的应用程序凭据从内存输入到设备中。不幸的是，您必须相信用户的设备尚未被键盘记录器或木马入侵；在这方面，您可以做的最好的事情是实施多因素安全性，通过记住有关用户使用的设备（MAC/IP、IMEI 等）的难以伪造的识别信息，并通过以下方式提供至少一个额外的通道可以验证在不熟悉的设备上的登录尝试。

凭据一旦输入，就会被客户端软件混淆（使用安全散列），并丢弃纯文本凭据；他们已经达到了他们的目的。混淆后的凭证通过安全通道发送到经过证书验证的服务器，服务器*再次*对其进行哈希处理以生成用于验证登录有效性的数据。这样，客户端永远不知道实际与数据库值相比的是什么，应用服务器永远不知道它接收到的用于验证的明文凭据，数据服务器永远不知道它存储的用于验证的数据是如何产生的，并且一个人在即使安全通道遭到破坏，中间人也只会看到胡言乱语。

一旦经过验证，服务器就会通过通道发回一个令牌。令牌仅在安全会话中有用，由随机噪声或会话标识符的加密（因此可验证）副本组成，客户端应用程序必须在同一通道上将此令牌作为任何请求的一部分发送到服务器做某事。客户端应用程序会多次这样做，因为它不能做任何涉及金钱、敏感数据或任何其他可能对其自身造成破坏的事情；它必须改为要求服务器执行此任务。客户端应用程序永远不会将任何敏感信息写入设备本身的持久内存中，至少不会以纯文本形式；客户端可以通过安全通道向服务器请求对称密钥来加密服务器将记住的任何本地数据；在以后的会话中，客户端可以向服务器请求相同的密钥来解密数据以在易失性存储器中使用。该数据也不会是唯一的副本；客户端存储的任何内容也应该以某种形式传输到服务器。

显然，这使您的应用程序严重依赖 Internet 访问；如果没有与服务器的正确连接和验证，客户端设备将无法执行其任何基本功能。真的，和 Facebook 没有什么不同。

现在，攻击者想要的计算机是您的服务器，因为它而不是客户端应用程序/设备可以让他赚钱或让其他人为他的享受而痛苦。没关系; 与尝试保护所有客户端相比，花费金钱和精力来保护服务器会获得更多的收益。该服务器可以位于各种防火墙和其他电子安全系统之后，此外还可以在钢筋、混凝土、钥匙卡/密码访问和 24 小时视频监控之后进行物理保护。您的攻击者确实需要非常复杂才能直接获得对服务器的任何类型的访问权限，并且您将（应该）立即知道它。

攻击者能做的最好的事情就是窃取用户的电话和凭据，并以客户端的有限权限登录服务器。如果发生这种情况，就像丢失信用卡一样，应该指示合法用户拨打 800 号码（最好容易记住，而不是在他们随身携带的钱包、钱包或公文包中的卡片背面与移动设备一起被盗）从他们可以访问的任何电话直接连接到您的客户服务。他们声称他们的手机被盗，提供了一些基本的唯一标识符，并且帐户被锁定，攻击者可能能够处理的任何交易都被回滚，攻击者又回到了原点。

* * *

## 回答 #5

> 赞同：68
> 
> 时间：2012-12-13T07:11:32.750

> 1\. 如何完全避免Android APK的逆向工程？这可能吗？

**这是不可能的**

> 2\. 如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解APK文件？

当有人将 .apk 扩展名更改为 .zip 时，解压缩后，有人可以轻松获取所有资源（*Manifest.xml*除外），但使用**[APKtool](http://code.google.com/p/android-apktool/)**也可以获取清单文件的真实内容。再次，不。

> 3\. 有没有办法让黑客攻击变得更加困难甚至不可能？我还能做些什么来保护我的 APK 文件中的源代码？

再说一次，不，但你可以在某种程度上阻止，也就是说，

*   从 Web 下载资源并执行一些加密过程
*   使用预编译的原生库（C、C++、JNI、NDK）
*   始终执行一些散列（[MD5](http://en.wikipedia.org/wiki/MD5) / [SHA](http://en.wikipedia.org/wiki/SHA-1)密钥或任何其他逻辑）

即使使用`Smali`，人们也可以使用您的代码。总而言之，这是不可能的。

* * *

## 回答 #6

> 赞同：42
> 
> 时间：2012-12-13T07:07:24.350

100% 避免对 Android APK 进行逆向工程是不可能的，但您可以使用这些方法来避免提取更多数据，例如源代码、APK 中的资产和资源：

1.  使用 ProGuard 混淆应用程序代码

2.  使用*C 和 C++*使用*NDK*将您的应用程序核心和代码的安全部分放在文件中*`.so`*

**   为保护资源，请勿在 APK 的 assets 文件夹中包含所有重要资源。在应用程序首次启动时下载这些资源。* 

 ** * *

## 回答 #7

> 赞同：37
> 
> 时间：2012-12-13T06:55:28.927

开发人员可以采取以下步骤来防止 APK 以某种方式被盗，

*   最基本的方法是使用`ProGuard`混淆代码之类的工具，但到目前为止，要完全阻止某人反编译应用程序是相当困难的。

*   我也听说过一个工具[HoseDex2Jar](http://www.decompilingandroid.com/hosedex2jar/)。它`Dex2Jar`通过在 Android APK 中插入无害的代码来停止，这些代码会混淆和禁用`Dex2Jar`并保护代码免于反编译。它可以以某种方式阻止黑客将 APK 反编译为可读的 Java 代码。

*   仅在需要时才使用某些服务器端应用程序与应用程序进行通信。它可以帮助防止重要数据。

根本无法完全保护您的代码免受潜在黑客的攻击。不知何故，您可能会使他们反编译您的代码变得困难且令人沮丧。最有效的方法之一是编写本机代码（C/C++）并将其存储为编译库。

* * *

## 回答 #8

> 赞同：30
> 
> 时间：2013-01-01T15:49:48.367

您可以尝试以下几种方法：

1.  使用[混淆和](http://en.wikipedia.org/wiki/Obfuscation_%28software%29)[ProGuard](http://proguard.sourceforge.net/)等工具。
2.  加密部分源代码和数据。
3.  在应用程序中使用专有的内置校验和来检测篡改。
4.  引入代码避免在调试器中加载，即让应用程序具有检测调试器并退出/杀死调试器的能力。
5.  将身份验证分离为在线服务。
6.  使用[应用程序多样性](http://dl.acm.org/citation.cfm?id=1900550)
7.  在对设备进行身份验证之前，使用指纹技术，例如，来自不同子系统的设备的硬件签名。

* * *

## 回答 #9

> 赞同：25
> 
> 时间：2012-12-13T07:04:17.243

> 1\. 如何完全避免Android APK的逆向工程？这可能吗？

不可能的

> 2\. 如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解APK文件？

不可能的

> 3\. 有没有办法让黑客攻击变得更加困难甚至不可能？我还能做些什么来保护我的 APK 文件中的源代码？

更难——可能，但实际上对于普通用户来说会更难，他们只是在谷歌上搜索黑客指南。如果有人真的想破解您的应用程序 - 它迟早会被破解。

* * *

## 回答 #10

> 赞同：22
> 
> 时间：2012-12-14T05:11:14.480

> 1\. 如何完全避免Android APK的逆向工程？这可能吗？

**那是不可能的**

> 2\. 如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解APK文件？

**开发人员可以采取措施，例如使用 ProGuard 之类的工具来混淆他们的代码，但到目前为止，要完全阻止某人反编译应用程序是相当困难的。**

这是一个非常棒的工具，可以增加“逆向”代码的难度，同时缩小代码的占用空间。

集成的 ProGuard 支持：ProGuard 现在与 SDK 工具一起打包。开发人员现在可以将他们的代码混淆为发布构建的一个集成部分。

> 3\. 有没有办法让黑客攻击变得更加困难甚至不可能？我还能做些什么来保护我的 APK 文件中的源代码？

在研究过程中，我开始了解[HoseDex2Jar](http://www.decompilingandroid.com/hosedex2jar/)。该工具将保护您的代码免于反编译，但似乎无法完全保护您的代码。

一些有用的链接，您可以参考它们。

*   [Proguard、Android 和许可服务器](http://android-developers.blogspot.in/2010/09/proguard-android-and-licensing-server.html)
*   [保护 Android LVL 应用程序](http://android-developers.blogspot.in/2010/09/securing-android-lvl-applications.html)
*   Stack Overflow 问题*[真的不可能保护 Android 应用免受逆向工程吗？](https://stackoverflow.com/questions/4336637/is-it-really-impossible-to-protect-android-apps-from-reverse-engineering)*
*   Stack Overflow 问题*[如何防止对 Android APK 文件进行逆向工程以保护代码？](https://stackoverflow.com/questions/13380097/how-to-prevent-reverse-engineer-for-android-apk-to-secure-code)*

* * *

## 回答 #11

> 赞同：21
> 
> 时间：2012-12-13T07:11:26.243

这里的主要问题是 dex 文件是否可以反编译，答案是它们可以是“某种”。有[dedexer](http://dedexer.sourceforge.net/)和[smali](http://code.google.com/p/smali/)等反汇编程序。

[正确配置的ProGuard](https://en.wikipedia.org/wiki/ProGuard_(software))将混淆您的代码。[DexGuard](https://www.guardsquare.com/dexguard)是 ProGuard 的商业扩展版本，可能会有所帮助。但是，您的代码仍然可以转换为 smali，具有逆向工程经验的开发人员将能够从 smali 中弄清楚您在做什么。

也许选择一个好的许可证并以最好的方式依法执行。

* * *

## 回答 #12

> 赞同：12
> 
> 时间：2012-12-13T12:16:08.287

你的客户应该雇佣一个知道自己在做什么、能做出正确决定并能指导你的人。

上面谈论你有能力改变后端的事务处理系统是荒谬的——你不应该被允许做这样的架构改变，所以不要指望能够做到。

我对此的理由：

由于您的域是支付处理，因此可以安全地假设 PCI DSS 和/或 PA DSS（以及潜在的州/联邦法律）对您的业务很重要——要合规，您必须证明您是安全的。要不安全，然后（通过测试）发现您不安全，然后修复、重新测试等，直到可以在合适的级别验证安全性 = 昂贵、缓慢、高风险的成功方式。做正确的事，提前思考，让有经验的人才投入工作，以安全的方式开发，然后测试、修复（更少）等等（更少），直到可以在合适的水平上验证安全性 = 便宜、快速、低风险的成功之路。

* * *

## 回答 #13

> 赞同：10
> 
> 时间：2012-12-14T00:30:29.580

如果我们想让逆向工程（几乎）不可能，我们可以将应用程序放在一个高度防篡改的芯片上，该芯片在内部执行所有敏感内容，并与某些协议通信以使主机上的控制 GUI 成为可能。即使是防篡改芯片也不是 100% 防裂的；他们只是设定了比软件方法高得多的标准。当然，这很不方便：应用程序需要一些小的 USB 疣来固定要插入设备的芯片。

这个问题并没有揭示出如此嫉妒地想要保护这个应用程序的动机。

如果目的是通过隐藏应用程序可能存在的任何安全漏洞（已知或其他）来提高支付方式的安全性，那是完全错误的。如果可行的话，安全敏感位实际上应该是开源的。您应该让任何审查您的应用程序的安全研究人员尽可能轻松地找到这些位并仔细检查他们的操作，并与您联系。支付应用程序不应包含任何嵌入式证书。也就是说，不应该有服务器应用程序仅仅因为设备具有工厂的固定证书而信任它。支付交易应仅根据用户的凭据进行，使用正确设计的端到端身份验证协议，该协议排除信任应用程序、平台或网络等。

如果目标是防止克隆，没有防篡改芯片，那么您就无法保护程序不被逆向工程和复制，因此有人将兼容的支付方式合并到他们自己的应用程序中，给上升为“未经授权的客户”。有一些方法可以使开发未经授权的客户变得困难。一种是基于程序完整状态的快照创建校验和：所有状态变量，适用于所有内容。GUI，逻辑，等等。克隆程序不会具有完全相同的内部状态。当然，它是一个状态机，具有相似的外部可见状态转换（可以通过输入和输出观察到），但内部状态几乎不一样。服务器应用程序可以询问程序：您的详细状态是什么？（IE 给我所有内部状态变量的校验和）。这可以与在服务器上并行执行的虚拟客户端代码进行比较，通过真正的状态转换。第三方克隆必须复制正版程序的所有相关状态更改才能给出正确的响应，这将阻碍其开发。

* * *

## 回答 #14

> 赞同：10
> 
> 时间：2012-12-16T15:17:44.497

作为在支付平台上广泛工作的人，包括一个移动支付应用程序 (MyCheck)，我想说您需要将此行为委托给服务器。支付处理器（无论是哪个）的用户名或密码都不应存储或硬编码在移动应用程序中。这是您最不想要的，因为即使您混淆了代码，也可以理解源代码。

此外，您不应在应用程序上存储信用卡或支付令牌。一切都应该再次委托给您构建的服务。它还可以让您以后更轻松地符合 PCI 标准，并且信用卡公司不会对您嗤之以鼻（就像他们为我们所做的那样）。

* * *

## 回答 #15

> 赞同：9
> 
> 时间：2012-12-13T19:45:29.223

这里其他赞成的答案是正确的。我只想提供另一种选择。

对于您认为重要的某些功能，您可以在您的应用中托管[WebView控件。](http://developer.android.com/reference/android/webkit/WebView.html)然后，该功能将在您的 Web 服务器上实现。它看起来像是在您的应用程序中运行。

* * *

## 回答 #16

> 赞同：7
> 
> 时间：2018-01-25T10:01:50.827

Agreed with @Muhammad Saqib here: [https://stackoverflow.com/a/46183706/2496464](https://stackoverflow.com/a/46183706/2496464)

And @Mumair gives good starting steps: [https://stackoverflow.com/a/35411378/474330](https://stackoverflow.com/a/35411378/474330)

It is always safe to assume that everything you distribute to your user's device, belong to the user. Plain and simple. You may be able to use the latest tools and procedure to encrypt your intellectual property, but there is no way to prevent a determined person from 'studying' your system. And even if the current technology may make it difficult for them to gain unwanted access, there might be some easy way tomorrow, or even just the next hour!

Thus, here comes the equation:

> When it comes to money, we always assume that client is untrusted.

Even in as simple as an in-game economy. (Especially in games! There are more 'sophisticated' users there and loopholes spread in seconds!)

How do we stay safe?

Most, if not all, of our key processing systems (and database of course) located on the server side. And between the client and server, lies encrypted communications, validations, etc. That is the idea of a thin client.

* * *

## 回答 #17

> 赞同：5
> 
> 时间：2012-12-13T08:29:14.143

我建议您查看*[Protect Software Applications from Attacks](http://www.arxan.com/solutions/)*。这是一项商业服务，但我朋友的公司使用了它，他们很高兴使用它。

* * *

## 回答 #18

> 赞同：4
> 
> 时间：2016-05-16T11:09:32.580

**APK signature scheme v2 in [Android 7.0](https://en.wikipedia.org/wiki/Android_Nougat) (Nougat)**

The PackageManager class now supports verifying apps using the APK signature scheme v2\. The APK signature scheme v2 is a whole-file signature scheme that significantly improves verification speed and strengthens integrity guarantees by detecting any unauthorized changes to APK files.

To maintain backward-compatibility, an APK must be signed with the v1 signature scheme (JAR signature scheme) before being signed with the v2 signature scheme. With the v2 signature scheme, verification fails if you sign the APK with an additional certificate after signing with the v2 scheme.

APK signature scheme v2 support will be available later in the N Developer Preview.

[http://developer.android.com/preview/api-overview.html#apk_signature_v2](http://developer.android.com/preview/api-overview.html#apk_signature_v2)

* * *

## 回答 #19

> 赞同：4
> 
> 时间：2016-10-12T04:16:19.717

There is no way to completely avoid reverse engineering of an APK file. To protect application assets, resources, you can use encryption.

*   Encryption will make harder to use it without decryption. Choosing some strong encryption algorithm will make cracking harder.
*   Adding some spoof code into your main logic to make it harder to crack.
*   If you can write your critical logic in any native language and that surely will make harder to decompile.
*   Using any third party security frameworks, like [Quixxi](https://quixxi.com/)

* * *

## 回答 #20

> 赞同：3
> 
> 时间：2012-12-13T15:31:22.507

基本上是不可能的。这永远不可能。不过，还是有希望的。您可以使用[混淆](http://en.wikipedia.org/wiki/Obfuscation_%28software%29)器来制作它，这样一些常见的攻击就更难执行了，包括：

1.  重命名方法/类（所以在反编译器中你会得到类似的类型`a.a`）
2.  混淆控制流（因此在反编译器中代码很难阅读）
3.  加密字符串和可能的资源

我敢肯定还有其他的，但这是主要的。[我在.NET](http://en.wikipedia.org/wiki/.NET_Framework)混淆器上为一家名为 PreEmptive Solutions 的公司工作。他们还有一个适用于 Android 的 Java 混淆器以及一个名为[DashO](http://www.preemptive.com/products/dasho)的混淆器。

不过，混淆总是要付出代价的。值得注意的是，性能通常更差，并且通常需要一些额外的发布时间。但是，如果您的知识产权对您来说极其重要，那么它通常是值得的。

否则，您唯一的选择就是让您的 Android 应用程序直接通过服务器，该服务器托管您的应用程序的所有真实逻辑。这有其自身的问题，因为这意味着用户必须连接到 Internet 才能使用您的应用程序。

此外，不只是安卓有这个问题。这是每个应用商店的问题。这只是获取包文件的难度问题（例如，我不相信在 iPhone 上这很容易，但仍然有可能）。

* * *

## 回答 #21

> 赞同：3
> 
> 时间：2015-11-26T07:17:01.853

* * *

## 回答 #22

> 赞同：3
> 
> 时间：2017-09-12T19:05:26.823

If your app is this sensitive then you should consider the payment processing part at the server side. Try to change your payment processing algorithms. Use an Android app only for collecting and displaying user information (i.e., account balance) and rather than processing payments within Java code, send this task to your server using a secure SSL protocol with encrypted parameters. Create a fully encrypted and secure API to communicate with your server.

Of course, it can also be hacked too and it has nothing to do with source code protection, but consider it another security layer to make it harder for hackers to trick your app.

* * *

## 回答 #23

> 赞同：3
> 
> 时间：2019-05-24T07:02:59.767

100% security of the source code and resources is not possible in Android. But, you can make it little bit difficult for the reverse engineer. You can find more details on this in below links:

Visit *[Saving constant values securely](https://stackoverflow.com/questions/20679488/saving-constant-values-securely#answer-20709213)* and *[Mobile App Security Best Practices for App Developers](https://www.agicent.com/blog/mobile-app-security-best-practices/)*.

* * *

## 回答 #24

> 赞同：2
> 
> 时间：2013-01-08T13:32:58.633

[可信平台模块](https://en.wikipedia.org/wiki/Trusted_Platform_Module)(TPM) 芯片不应该为您管理受保护的代码吗？

它们在个人电脑（尤其是苹果电脑）上变得越来越普遍，而且它们可能已经存在于今天的智能手机芯片中。不幸的是，还没有任何操作系统 API 可以使用它。希望有一天，Android 会增加对此的支持。这也是清理内容 DRM（Google 正在为[WebM](https://en.wikipedia.org/wiki/WebM)开发的）的关键。

* * *

## 回答 #25

> 赞同：2
> 
> 时间：2016-02-15T14:02:10.613

> Nothing is secure when you put it on end-users hand but some common practice may make this harder for attacker to steal data.

*   Put your main logic (algorithms) on the server side.
*   Communicate with the server and client; make sure communication between server and client is secured via SSL or HTTPS; or use other techniques for key-pair generation algorithms ([ECC](https://en.wikipedia.org/wiki/Elliptic-curve_cryptography) and [RSA](https://en.wikipedia.org/wiki/RSA_(cryptosystem))). Ensure that sensitive information is remain [end-to-end encrypted](https://en.wikipedia.org/wiki/End-to-end_encryption).
*   Use sessions and expire them after a specific time interval.
*   Encrypt resources and fetch them from the server on demand.
*   **Or you can make a** ***hybrid*** **app which access system via `webview` protect resource + code on server**

Multiple approaches; this is obvious you have to sacrifice among **performance** and **security**.

* * *

## 回答 #26

> 赞同：2
> 
> 时间：2018-03-14T10:25:34.343

Tool: Using [ProGuard](https://en.wikipedia.org/wiki/ProGuard_(software)) in your application, it can be restricted to reverse engineering your application

* * *

## 回答 #27

> 赞同：2
> 
> 时间：2018-09-05T10:46:32.673

I can see that there are good answers for this question. In addition to that, you can use Facebook [ReDex](https://fbredex.com/docs/installation) to optimize the code. ReDex works on the `.dex` level where [ProGuard](https://en.wikipedia.org/wiki/ProGuard_(software)) works as `.class` level.

* * *

## 回答 #28

> 赞同：2
> 
> 时间：2020-05-08T15:00:30.957

I know some banking apps are using [DexGuard](https://www.guardsquare.com/en/products/dexguard) which provides obfuscation as well as encryption of classes, strings, assets, resource files and native libraries.

* * *

## 回答 #29

> 赞同：1
> 
> 时间：2012-12-19T05:16:36.047

> 如何保护应用程序的所有资源、资产和源代码，使黑客无法以任何方式破解 APK 文件？

APK 文件受[SHA-1](http://en.wikipedia.org/wiki/SHA-1)算法保护。您可以在APK的**META-INF**文件夹中看到一些文件。如果您提取任何 APK 文件并更改其任何内容并再次压缩它，当您在 Android 机器上运行该新 APK 文件时，它将无法工作，因为 SHA-1 哈希值永远不会匹配。

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2015-09-03T09:58:58.240

当他们在手机上安装该应用程序时，他们可以完全访问它的内存。因此，如果您想防止它被黑客入侵，您可以尝试使其无法使用调试器直接获取静态内存地址。如果他们有地方可以写并且有限制，他们可以进行堆栈缓冲区溢出。所以尽量做到这一点，当他们写东西时，如果你必须有一个限制，如果他们发送的字符多于限制，如果（输入>限制）然后忽略，所以他们不能把汇编代码放在那里。

* * *

## 回答 #31

> 赞同：-1
> 
> 时间：2013-04-05T05:44:48.363

只是对上面已经很好的答案的补充。

我知道的另一个技巧是将有价值的代码存储为 Java 库。然后将该库设置为您的 Android 项目。可以作为 C .so 文件使用，但 Android Lib 可以。

这样这些存储在 Android 库中的有价值的代码在反编译后将不可见。

* * *

## 回答 #32

> 赞同：-3
> 
> 时间：2013-07-16T07:25:11.907

基本上，有五种方法可以保护您的 APK 文件：

1.  隔离 Java 程序，
2.  加密类文件，
3.  转换为本机代码，
4.  代码混淆
5.  [在线加密](http://www.apkprotect.com/)

我建议您使用在线加密，因为它既安全又方便。您不需要花费太多时间来实现这一目标。

比如[APK 保护](http://www.apkprotect.com/)。这是一个APK的在线加密网站。提供Java代码和C++代码保护，实现反调试和反编译效果。操作过程简单易行。

* * *

## 回答 #33

> 赞同：-5
> 
> 时间：2015-11-12T10:37:34.440

## 不行，做不到！

您的三个问题围绕 100% 保护应用程序不被阅读。原则上是做不到的。你投入的越多，你的体验就越糟糕，最终，任何一台机器试图读取你的应用程序都会变得更糟糕。想想[HTTPS](https://en.wikipedia.org/wiki/HTTPS)本质上比 HTTP 有多慢，因为需要处理安全层和数学。层数越多，别人打开它的速度就越慢，但绝不是不可能的，因为你真的希望它被阅读，这就是为什么它被做成一个包并交付的原因。

一个简单的类比是将任何给定的隐藏对象提供给某人。如果那个人可以看到里面的东西，那么他们就可以拍照并做一些完全一样的事情。更重要的是，在代码的情况下，即使使用完全不同的过程，足够敬业的人也可以创建该对象的精确副本。

## 虚假的安全感

作为一个**处理应用程序**，您不应该关心您认为可以在二进制代码中创建的任何安全性，而是为了整个系统的完整性。假设来自**客户端**的任何东西很快就会变得**不可靠**。保持应用程序简单、流畅和快速。相反，请担心您的**服务器**。例如，制定严格的通信协议以轻松**监控服务器**。这是我们唯一可以依靠的。

现在，就如何改进服务器端，坚持我的另一个想法......

## 嘴上的钱

> 我正在开发一个**支付处理应用程序**

谷歌通过使用[简单的财务方法](http://www.securityweek.com/google-promises-more-money-chrome-vulnerabilities)来“保护”[谷歌浏览器，](https://www.google.pt/about/appsecurity/chrome-rewards/)[成功](http://techcrunch.com/2010/03/19/google-chrome-1337/)地避免了一般的恶意黑客，我引用：

> 我们为那些可以在访客模式下通过设备持久性破坏 Chromebook 或 Chromebox 的参与者提供 50,000 美元的长期奖励

我们实际上接近 100%“安全”的最佳选择是为我们的钱选择正确的战斗。也许大多数人无法提供 50k 的奖励，但即使是 1k 的奖励也能起到很大的作用，而且它也比将这笔钱投入到设计任何类型的 bug 捕捉器上要便宜得多。

投资人工智能以识别资金流动模式以预测潜在风险并发现小泄漏也比试图通过任何工程来预防两者要便宜得多。

## 明显的例外

诚然，这不会保护我们免受“疯子”和“幸运的恶作剧者”的伤害......但没有什么可以。同时，如果设置得当，后一组只能在里面享受很少的时间，而系统会重新调整。我们只需要担心一个疯子，以防它变得大到有克星。无论如何，这将是一个伟大的故事！:)

## 太长; 没读过；

换句话说，问自己一个更好的问题，而不是“*如何避免在我的应用程序中进行逆向工程*”可能是“*如何设计一个**更安全**的支付处理系统*”，并专注于你实际想要实现的目标：**一个安全的系统**。

^(很久以前，我尝试写[更多关于上述所有内容的内容](http://talk.cregox.com/t/cheap-philosophical-links-about-the-financial-rabbit-hole/7748?u=cregox)，以回答诸如为什么我将“安全”和“保护”放在引号中的问题（它们的真正含义是什么？）。)*

# c# - 与多个项目共享 nlog 配置以及所有写入同一日志文件的正确线程安全方式？

> ID：13854426
> 
> 赞同：8
> 
> 时间：2012-12-13T06:42:17.733
> 
> 标签：c#, nlog

我的程序由一个 EXE 和 6 个 DLL 组成（当然每个人都引用了每个人），我目前有一个粗略的静态日志记录类 (Logger)，它位于它自己的 DLL (Logger.dll) 中，我将其添加为每个的引用我的项目和使用......但我没有重新发明轮子，而是希望用 nLog 替换它。

问题是我似乎无法弄清楚我的所有项目如何共享相同的 nLog 配置文件（我希望所有内容都记录到 SAME 文件中，并且我不想为每个项目定义一个配置文件）。

1.  有没有办法为我的所有项目提供一个配置文件？
2.  这样做安全吗？访问同一文件的每个项目中的 nLog 不会导致争用问题吗？nLog 已经正确处理了吗？

或者将 nLog 包装在我的静态 Logger.dll 中（这很奇怪，但也可以）并继续像我今天在我的应用程序中所做的那样，对我来说是不是最好？

谢谢，

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T15:30:36.367

NLog 应该处理你想要的。NLog.config 文件应用于应用程序 (EXE) 级别。因此，如果您在 NLog.config 中配置 NLog，则该配置将在应用程序启动时被读取。所有类，无论是在 EXE 中，还是在您的一个 DLL 中，当它们从 NLog 检索记录器时，都将返回一个已根据 EXE 级别的 NLog.config 文件配置的记录器。

# jsp - 在浏览器中重定向外部 url

> ID：13854429
> 
> 赞同：0
> 
> 时间：2012-12-13T06:42:38.853
> 
> 标签：jsp, struts2

从我的操作类中获得某个 url 后，我想重定向该 url [https://api.login.yahoo.com/oauth/v2/request_auth?oauth_token=abcdefg] 并自动在浏览器中显示该 url。但是现在我收到 No Action Mapped 404 消息，尽管我从动作类正确传递了 url。

```
public String getMail(){
        try {  //some code

            url = accessToken.getCallbackUrl();
            if(url != null){

                return "redirect";
            }

            return "input";

        } catch (UnsupportedOperationException e) {
            return "input";
        }
    }

    <action name="getMail" method="getMail"
                  class="test.MailAction">
                <result name="input">/index.jsp</result>
                <result name="redirect" type="redirect">${url}</result>
    </action> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:29:50.483

我只是缺少 getter ， url 的设置器。现在可以工作了：D

```
public String getUrl() {
        return url;
    }

    public void setUrl(String url) {
        this.url = url;
    } 
```

# c++ - 使用 Qt Installer Framework 中的 archivegen 工具将文件打包为 7zip 存档

> ID：13854432
> 
> 赞同：0
> 
> 时间：2012-12-13T06:42:44.327
> 
> 标签：c++, qt, qt-installer

我想在 Qt 中创建一个安装程序，但我遇到了问题。这是如何使用archivegen工具将文件打包为7zip存档并将其复制到数据目录。我在 Qt Installer Framework 中搜索但未找到有关使用 archivegen 工具的信息 如何使用 archivegen 工具在 Qt Installer Framework 中将文件打包为 7zip 存档并将其复制到数据目录。网址：[http](http://doc-snapshot.qt-project.org/qtifw-1.2/ifw-component-description.html#component-dependencies) ://doc-snapshot.qt-project.org/qtifw-1.2/ifw-component-description.html#component-dependencies 请帮帮我，谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-24T18:47:43.587

希望您现在得到答案，但仅供参考：

如果你在命令行上写“archivegen”，它会回复：

用法：archivegen directory.7z 目录

通常，我在数据目录中创建一个文件夹，其中包含我希望安装程序解压缩的任何内容，然后我在该文件夹上使用 archivegen。这种结构可能不是绝对必要的，但是当您的用户解包内容时它也会有所帮助；他们得到一个存放它的文件夹，它不仅仅是@TargetDir@中的不相关文件

# c++ - 插入地图没有发生

> ID：13854435
> 
> 赞同：0
> 
> 时间：2012-12-13T06:43:00.773
> 
> 标签：c++, visual-c++, map, vector

我们在我们的视觉工作室应用程序中使用了地图。在调试模式下，插入进行得很好。但是在释放模式下插入地图时，抛出以下异常“exe中0x201a1cfd（dll）处的未处理异常：0xC0000005：访问冲突读取位置0xcdcdcdd1。” 当控制通过下面的代码行时。

```
 "iterator _Where = this->lower_bound(_Keyval);"

mapped_type& operator[](const key_type& _Keyval)
    {   // find element matching _Keyval or insert with default mapped
    iterator _Where = this->lower_bound(_Keyval);
    if (_Where == this->end()
        || this->comp(_Keyval, this->_Key(_Where._Mynode())))
        _Where = this->insert(_Where,
            value_type(_Keyval, mapped_type()));
    return ((*_Where).second);
    } 
```

这段代码位于外部依赖项内的映射文件中。

请任何人提出解决方案..提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T09:52:23.477

可能 My_DestPipeLines 不是您想要的。向我们展示它的声明。

# c++ - 如何在 C++ 中读取二进制图像（tif）？

> ID：13854439
> 
> 赞同：2
> 
> 时间：2012-12-13T06:43:09.133
> 
> 标签：c++, visual-studio, tiff, binaryfiles, gdal

我有 tif 图像，必须使用 c++ 中的 Visual Studio 2010 阅读它。我已经包含了 GDAL 的库，但无法继续进行。我已阅读“GDAL APT 教程” [http://www.gdal.org/gdal_tutorial.html](http://www.gdal.org/gdal_tutorial.html)。但仍然显示很多错误，因为它不接受 pszfilename（我的图像的扩展名）。谁能帮我下一步该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:47:04.447

查找有关 TIFF[文件结构](http://partners.adobe.com/public/developer/en/tiff/TIFF6.pdf)的文档，了解 tiff 文件中存在的标签，使用您最喜欢的十六进制编辑器查看文件。或者找一个读取 tiff 文件的库，有一个叫做[libtiff](http://www.remotesensing.org/libtiff/) ...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T08:19:06.093

使用正确的 (.tif) 扩展名时是否有效？如果您可以使用其他库，Qt 有一个插件可以读取 tiff 图像。你可以只给它文件的内容，忽略文件扩展名。

# facebook-like - 如何在“2013 年 1 月重大变更”之后通过 like-url 获得评论

> ID：13854443
> 
> 赞同：1
> 
> 时间：2012-12-13T06:43:33.033
> 
> 标签：facebook-like

如果我们在应用程序/设置/高级中禁用“2013 年 1 月重大更改”，我们可以通过 like-url 获得评论。

```
SELECT post_fbid, fromid, object_id, text, time \
FROM comment \
WHERE object_id IN \
  (SELECT comments_fbid \
   FROM link_stat \
   WHERE url ='http://developers.facebook.com/docs/reference/fql/comment/') 
```

但是，如果我们启用它，我无法从 link_stat 获取 comments_fbid。

所以，我的问题是如何在“2013 年 1 月重大变更”之后通过 like-url 获得评论？

# c# - 通过 ajax 调用 wcf 服务中的会话错误

> ID：13854446
> 
> 赞同：0
> 
> 时间：2012-12-13T06:43:43.720
> 
> 标签：c#, .net, ajax, wcf, extjs

我想知道是否通过 ajax 调用维护会话。我有一个 Sencha(JS) 客户端，它对服务器进行 ajax GET 调用。服务器端是使用 WCF C# 实现的。现在，当我进行第一次调用时，会话应该开始并且它似乎正在开始。但是，当应用程序进行下一次调用时，需要服务器从会话中检索它在第一次调用中保存的一些值时，我遇到了一个错误。因为设置会话的第一次调用是抛出错误，所以我相信会话正在开始。但在第二次调用中它抛出错误。

注意事项：这仅在通过应用程序调用时发生。如果我打电话只是在浏览器中点击 GET url，一切都会正常工作。

请帮助可能是什么原因。我很茫然。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:57:28.080

会话使用会话 cookie 映射。

您应该验证您的应用程序实际上是在失败的调用中转发会话 cookie。枚举有效调用和失败调用中的所有 cookie 并进行比较。

继续：

我通常通过通用处理程序 (.ashx) 执行 ajax，我将其用作外观，然后调用任何子系统。在这个处理程序中，我进行参数转换和 json（反）序列化。也许您应该采用这种方法而不是公开您的 WCF 层？

# java - 是否有与 Javascript 的 with 语句等效的 Java？

> ID：13854448
> 
> 赞同：5
> 
> 时间：2012-12-13T06:43:44.253
> 
> 标签：java, javascript, with-statement

是否有类似的方式在 Java 中声明*with 语句*（如在 Javascript 中），或者是否有结构上的原因导致这不可能？

* * *

例如，这个 Javascript：

```
with(obj)
{
  getHomeworkAverage();
  getTestAverage();
  getAttendance();
} 
```

...很好很容易。但是，似乎*每次在 Java 中方法调用**都*必须链接到它们的对象，没有这样优雅的快捷方式可用：

 *```
obj.getHomeworkAverage();
obj.getTestAverage();
obj.getAttendance(); 
```

这是非常多余的，尤其是在有很多方法要调用的时候更令人恼火。

* * *

*   那么，有没有类似的方式在 Java中声明一个*with 语句？*
*   如果这是**不可能的，那么与在 Java 中***不可能*相比，在 Javascript 中可以实现的原因是*什么*？

 ** * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-13T07:15:11.373

没有“with”的直接等价物。

如果方法是实例方法，您可以给目标对象引用一个短标识符，以便在块中使用：

```
{
  Student s = student;
  s.getHomeworkAverage();
  s.getTestAverage();
  s.getAttendance();
} 
```

如果方法是静态的，您可以使用“import static”：

```
import static java.lang.Math.*;

public class Test {
  public static void main(String[] args) {
    System.out.println(sqrt(2));
  }
} 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-12-13T06:47:18.800

不，Java 中没有*with*语句或类似的构造。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-12-13T06:49:53.293

如果类`obj`在您的控制之下，您可以提供一个[Fluent 接口](http://en.wikipedia.org/wiki/Fluent_interface)，基本上`this`在每个函数中返回。这将让您像这样链接方法调用-

`obj.getHomeworkAverage().getTestAverage().getAttendance();`

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-12-13T06:51:46.253

你不能在 Java 中做到这一点是有原因的。也许最明显的是函数不是 Java 中的一等对象，因此您不能简单地使用一个名称来引用该函数——它必须在一个类之下。正如 Karthik T 所提到的，缩短它的方法可能只是创造性地使用空格：

```
obj
    .meth1()
    .meth2()
    .meth3() 
```

其中每个方法都返回对象。

有关一流功能的更多信息：[维基百科](http://en.wikipedia.org/wiki/First-class_function)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-13T08:23:30.453

> 那么，有没有类似的方式在 Java 中声明一个 with 语句？

不，那里没有。最接近的是`import static`Patricia Shanahan 的回答中描述的机制。

> 如果这是不可能的，那么与在 Java 中不可能相比，在 Javascript 中可以实现的原因是什么？

它们是两种完全不同的语言，具有不同的特性/优势/劣势。打个比方：锤子和螺丝刀都是工具，但它们的使用方式不同。**

# mysql - MySql 数据库设计 - 对可能为空的列最有效？

> ID：13854451
> 
> 赞同：1
> 
> 时间：2012-12-13T06:43:59.373
> 
> 标签：mysql, database-design

在这个数据库中，有时员工只在一个司法管辖区，有时不止一个。例如，Bob 的司法管辖区将是北美、南美和非洲。而简斯将只是北美。但是，每个员工都会有一个部门。

由于某些员工只会分配一个管辖区，而其他员工可能会分配更多管辖区，这是实施管辖区的最佳方式吗？或者有没有更有效的方法？

我将使用连接语句并按部门选择我的查询。

```
employees
-----------------
userID (primary key)
deptID (foreign key and NOT NULL references departments)
firstName
lastName
jurisdiction1 (foreign key references jurisdictions)
jurisdiction2 (foreign key references jurisdictions)
jurisdiction3 (foreign key references jurisdictions)
jurisdiction4 (foreign key references jurisdictions)
jurisdiction5 (foreign key references jurisdictions)
jurisdiction6 (foreign key references jurisdictions)
jurisdiction7 (foreign key references jurisdictions)

jurisdictions
-------------------
jurID primary key
jurisdictionName

departments
--------------------
deptID primary key
departmentName 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:51:41.890

您的方案中的管辖表设计不正确。您需要一个中间表来存储用户和区域之间的关系。像这样。

```
employee table
--------------
user_id
first_name
depart_id
j_id

jurisdiction table
-----------------
j_id
region

employee_jurisdiction
------------------
id
user_id 
j_id
(Set INDEX as no duplicate for user_id+j_id) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:48:20.323

在这种情况下，最好有一个新表`jurisdictions`，并且`EmployeesJurisdictions`：

**`Jurisdictions`：**

*   `Id`,
*   `JurisdictionName`.

**`UsersJurisdictions`：**

*   `EmployeeId`外键引用`Employees(EmployeeId)`。
*   `JurisdictionId`一个外键引用`jurisdictions(jurisdictionId)`。

# c# - 如何在 Windows Phone 中以编程方式将应用程序发送到后台

> ID：13854458
> 
> 赞同：1
> 
> 时间：2012-12-13T06:44:36.160
> 
> 标签：c#, windows-phone-7, windows-phone-7.1, windows-phone-8

我正在开发一个 Windows Phone8 应用程序，当应用程序启动时，我正在执行某些功能。但在那之后我想立即将应用程序发送到后台/关闭应用程序。

意味着我想从代码中模拟 Back Key 功能。有没有这方面的规定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:48:27.290

不，您不能强制用户从您的代码中意外关闭应用程序。并且不要抛出未处理的异常并使应用程序崩溃，这不是非常用户友好的。

# c# - 3 层应用程序中的配置设置放置

> ID：13854464
> 
> 赞同：3
> 
> 时间：2012-12-13T06:44:58.430
> 
> 标签：c#, design-patterns, configuration

在标准的 3 层应用程序（Winforms Ui、BLL、DAL）中，我需要针对每一层进行设置。

我应该使用 Winforms 应用程序设置来包含所有这些，还是应该让每个 dll（BLL、DAL）都带有它们的设置？

我需要一个简单的解决方案，而不是在数据库或自定义 xmls 中，我还需要为同一架构提供多个 UI。

**更新**：目前我倾向于为每个层使用单独的 .config 文件，我只是不知道这是否是允许大多数未来更改（层和/或多个 UI 应用程序的更改）的最佳实践。

**结果：**我想我将在每个需要设置的项目中都有一个静态单例类。每次我都会用最合适的方式将它们填充到上层。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:31:48.913

1.  自定义 xml 文件是一种灵活的方法，但需要一些努力。

2.  使用单独的库项目仅用于设置，这是一种更简单的方法，因为您可以使用默认设置类来保存/加载设置，但对于嵌套设置不是很灵活。

3.  使用 DAL 放置所有设置，因为它位于根目录下，所有其他项目（UI、BAL）都引用它）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T09:05:49.530

如果所有层都在同一个 AppDomain 中运行（而不是在 WCF 服务中托管 BLL/DAL），那么 KISS 解决方案是将所有配置信息包含在客户端的 app.config 文件中。

您可以使用命名约定来区分属于每个层的设置。

**更新**

来自评论：

> 目前是的，但我希望以后可以自由更改 DAL 演示文稿（例如通过 WCF）。

这很简单：当您将逻辑层移动到不同的物理层（例如 WCF）时，您会将其配置移动到主机的配置文件中（例如，如果主机是 IIS，则为 web.config）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T09:53:08.813

每次我尝试使用内置的 app.config 文件时，由于内置解决方案的缺点，我最终实现了自己的配置解决方案。实现自定义的基于 xml 的解决方案并不复杂。这实际上很容易。

只需将此基类放入您的解决方案中：

```
[Serializable]
public abstract class ConfigBase<DerivedT> where DerivedT : ConfigBase<DerivedT>
{
    protected string FilePath;
    public string FileVersion;

    public ConfigBase() { }

    public void Save()
    {
        XmlSerializer xs = new XmlSerializer(GetType());
        using (StreamWriter writer = File.CreateText(FilePath))
        {
            xs.Serialize(writer, this);
        }
    }

    public static DerivedT Load(string filename)
    {
        XmlSerializer xs = new XmlSerializer(typeof(DerivedT));
        using (StreamReader reader = File.OpenText(filename))
        {
            DerivedT config = (DerivedT)xs.Deserialize(reader);
            config.FilePath = filename;
            return config;
        }
    }
} 
```

然后你可以像这样制作你的配置文件：

```
public class Config : ConfigBase<Config>
{
    // put your variables here like below
    public string DatabaseConnectionString;
    public int numberOfConnections;
} 
```

像这样使用它：

```
// Load it like this
Config config = Config.Load(ConfigFileName);
// Save it like this
config.Save(); 
```

随意在配置文件中使用属性、数组和其他复杂结构。它将全部自动序列化。如果您不想序列化某些字段/属性，请使用 XmlIgnore 属性。使用此解决方案，您可以拥有许多不同的配置文件，但只有一个机制来加载和保存它们。

我经常在 Config 文件中包含一个公共静态 Config GenerateDefault(string ConfigFileName) 工厂方法，它将生成一个具有默认值的示例配置。

不要忘记检查文件文件是否存在并将其加载到 try/catch 块中。

一个更好的解决方案是使用 DataContracts，它允许您序列化私有成员并提供良好的机制来支持不同版本的 DataContracts，但它有点复杂。

# google-chrome - Chrome 检查元素自动完成错误（在我输入时删除字母）

> ID：13854466
> 
> 赞同：1
> 
> 时间：2012-12-13T06:45:02.947
> 
> 标签：google-chrome, google-chrome-extension, google-chrome-devtools

当我在 Chrome 开发者工具的 CSS 面板中输入样式时，开发者工具会删除我输入的每个第 2 或第 3 个字母。例如，如果我尝试输入“border-bottom”，我最终会得到类似“brder-bttom”的内容，并且几乎不可能完全输入，除非我输入的速度非常快或非常慢（一个字母一个字母）。**我认为自动完成正在尝试覆盖我的输入，因为当没有建议时，我可以输入正常。**

如果有人知道解决方案或有相同的错误，请告诉我。我正在使用 Chrome 23.0.1271.97。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:33:49.583

这看起来像是我从未有机会重现的[http://code.google.com/p/chromium/issues/detail?id=133789](http://code.google.com/p/chromium/issues/detail?id=133789)的表现形式（到目前为止，这只是第二份报告）。

由于 Chromium 中的回归行为，我们大约在一年前遇到了这个错误，但令人讨厌的变化被恢复了。请通过粘贴您的 chrome://version/ 的内容以及可能重现此问题的一些步骤来评论上述问题。

# cuda - 如果 cudaMalloc() 分配全局内存，那我为什么需要 cudaMemcpy()？

> ID：13854469
> 
> 赞同：3
> 
> 时间：2012-12-13T06:45:10.990
> 
> 标签：cuda, parallel-processing

我正在学习 cuda，到目前为止，我已经了解到 cuda 具有`cudaMalloc()`为全局对象分配内存的功能。但现在在一些矩阵乘法代码中，我看到他们正在使用另一个函数，该函数`cudaMemcpy()`将对象从主机复制到设备或以其他方式复制。但我不明白为什么需要它？由于`cudaMalloc()`正在分配全局内存，所有设备内核都应该可以访问它，不是吗？

我的误解在哪里？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T06:56:45.637

[看一下这张](http://developer.download.nvidia.com/CUDA/training/GTC_Express_Sarah_Tariq_June2011.pdf)幻灯片中的第 10、11 和 12 张幻灯片。它们说明了基本的处理流程。通常出现在内核调用之前的 cudaMemcpy 对应于幻灯片 10 中的活动。内核调用本身由幻灯片 11 表示。幻灯片 12 表示发生在内核调用之后的 cudaMemcpy。GPU`cudaMalloc`与 CPU 类似`malloc`——它只分配空间，但不填充任何数据。使用 分配 GPU 上的空间后`cudaMalloc`，需要使用 将数据复制到它`cudaMemcpy`。在这种情况下，“全局内存”是指*设备上的内存*，即幻灯片 10、11 和 12 的右侧。设备内核只能处理设备上的数据，即已移动到幻灯片 10、11 右侧的 DRAM，和 12。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-13T06:47:52.340

cudaMalloc() 仅在 GPU 内存上为您提供一块具有未定义初始值的内存。您必须从主机或设备上的某处复制您想要的内存内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-05-30T15:10:32.407

malloc() 在主机上分配动态内存，即在 cpu 上。在设备上分配全局内存需要调用 cudaMalloc()。要使用 gpu 对数据进行操作，您的孔数据需要在全局内存上传输。cudaMalloc() 仅分配内存，它不会将您的数据复制到设备内存上。因此，要将数据从主机内存复制到设备内存，您需要调用 cudaMemcpy()。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T16:55:16.540

在 CPU 上运行的代码只能访问分配在其（主机）内存中的缓冲区，而 GPU 代码（CUDA 内核）只能访问设备（GPU）内存中的内存。由于在矩阵乘法示例中初始化输入矩阵的代码在 CPU 上运行，因此只能在主机内存中执行。然后它必须调用 cudaMemcpy 以将这些矩阵复制到它在设备内存中分配的空间，因为它不能直接将其写入那里。然后启动 CUDA 内核，它对设备内存中的矩阵进行处理，并将结果存储在设备内存中的另一个缓冲区中。一旦内核完成将结果从设备内存复制到主机内存中，然后再次使用 cudaMemcpy，主机代码可以再次使用结果（例如，显示或存储结果。）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-17T12:21:06.497

**所有内存分配和复制只能从主机完成。**

对于所有 GPU 活动，将在设备 (GPU) 中分配内存，这应该从主机 (CPU) 启动。

之后，来自主机的内存将被传输到设备（Memcpy）以进行计算/处理。

然后在此之后，将调用内核进行计算。

然后在设备中计算的结果通过 Memcpy 传回主机。

# llvm - 跟踪llvm中的寄存器值

> ID：13854470
> 
> 赞同：0
> 
> 时间：2012-12-13T06:45:17.773
> 
> 标签：llvm

在 llvm 中，可以追溯到定义特定寄存器值的指令吗？例如，如果我有如下指令：

```
 %add14 = add i32 %add7, %add5 
```

这是一种让我追溯到定义 add5 的指令的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:38:58.387

首先，LLVM IR 中没有寄存器：所有名称中带有的东西`%`都只是值的名称。您不会在这些东西中存储信息，它们不是变量或内存位置，它们只是名称。我推荐阅读[SSA form](http://en.wikipedia.org/wiki/Static_single_assignment_form)，这有助于进一步解释这一点。

在任何情况下，您需要做的是调用`getOperand(n)`指令上的方法以获取其第 n 个操作数 - 例如，`getOperand(0)`在您的示例中将返回名为 的值`%add7`。然后，您可以通过检查其类型 ( ) 来检查该值是否确实是一条指令（而不是一个函数参数`isa<Instruction>`）。

强调一下 - 调用该`getOperand`方法*将为*您提供定义操作数的实际位置，不需要其他任何东西。

# python - Windows路径的Python正则表达式

> ID：13854472
> 
> 赞同：0
> 
> 时间：2012-12-13T06:45:35.837
> 
> 标签：python, regex

我有

```
d = re.search(r'c:\wng\Qmns\vin2_2012-12-13_RES',r'c:\wng\Qmns\vin2_2012-12-13_RES_1.xls'). 
```

它返回无。我在这里缺少什么？它应该找到字符串知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:56:59.323

```
Python 2.7.3 (default, Aug  1 2012, 05:14:39) 
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import re
>>> re.search(r'c:\wng\Qmns\vin2_2012-12-13_RES',r'c:\wng\Qmns\vin2_2012-12-13_RES_1.xls')
>>> re.search(r'c:\\wng\\Qmns\\vin2_2012-12-13_RES',r'c:\wng\Qmns\vin2_2012-12-13_RES_1.xls')
<_sre.SRE_Match object at 0x7f9c2000bb90>
>>> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:56:36.323

您需要在比赛方面而不是在目标上进行双重转义：

```
>>> re.search(r'c:\\wng\\Qmns\\vin2_2012-12-13_RES',r'c:\wng\Qmns\vin2_2012-12-13_RES_1.xls')
<_sre.SRE_Match object at 0x105ba34a8> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:31:20.913

要检查一个字符串是否以另一个字符串开头，您不需要正则表达式：

```
path = r'c:\wng\Qmns\vin2_2012-12-13_RES_1.xls'

if path.startswith(r'c:\wng\Qmns\vin2_2012-12-13_RES'):
    ... 
```

# macos - 如何在 Mac OS X 10.6.8 上安装 openCV 库

> ID：13854475
> 
> 赞同：0
> 
> 时间：2012-12-13T06:45:51.283
> 
> 标签：macos, opencv

我是openCV的新手。如何在 Mac OS X 10.6.8 上安装此库以及如何将其包含在 Xcode 中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T13:00:27.210

一次从一件事开始：

1.  安装 OpenCV
2.  设置 XCode 项目

安装 OpenCV 最简单的方法是通过[MacPorts](http://www.macports.org/)。确保您首先安装了**XCode 的命令行工具**！

```
sudo port install opencv 
```

请注意，您还可以使用端口变体（添加额外的功能，例如 python 和 QT 支持）

```
sudo port install opencv +qt4 +python27 
```

最近，MacPorts 中也应该[支持 OpenNI](https://trac.macports.org/ticket/35512)。

另一种选择是使用终端从源代码构建。您还需要在 XCode 命令行工具之上使用[CMake](http://cmake.org/)

关于在 XCode 中使用 OpenCV，只需制作一个 c++ 项目并为项目设置头文件和库搜索路径。`/opt/local/include/`如果您使用 Macports ，那将是`/opt/local/lib`

# python - pandas 的变换不起作用对 groupby 输出进行排序

> ID：13854476
> 
> 赞同：23
> 
> 时间：2012-12-13T06:46:04.593
> 
> 标签：python, aggregate, pandas

另一个熊猫问题。

阅读 Wes Mckinney 关于数据分析和 Pandas 的优秀书籍，我遇到了以下我认为应该可行的事情：

假设我有一些关于提示的信息。

```
In [119]:

tips.head()
Out[119]:
total_bill  tip      sex     smoker    day   time    size  tip_pct
0    16.99   1.01    Female  False   Sun     Dinner  2   0.059447
1    10.34   1.66    Male    False   Sun     Dinner  3   0.160542
2    21.01   3.50    Male    False   Sun     Dinner  3   0.166587
3    23.68   3.31    Male    False   Sun     Dinner  2   0.139780
4    24.59   3.61    Female  False   Sun     Dinner  4   0.146808 
```

我想知道与总账单有关的五个最大的提示，即`tip_pct`分别针对吸烟者和非吸烟者。所以这有效：

```
def top(df, n=5, column='tip_pct'): 
    return df.sort_index(by=column)[-n:]

In [101]:

tips.groupby('smoker').apply(top)
Out[101]:
           total_bill   tip sex smoker  day time    size    tip_pct
smoker                                  
False   88   24.71   5.85    Male    False   Thur    Lunch   2   0.236746
185  20.69   5.00    Male    False   Sun     Dinner  5   0.241663
51   10.29   2.60    Female  False   Sun     Dinner  2   0.252672
149  7.51    2.00    Male    False   Thur    Lunch   2   0.266312
232  11.61   3.39    Male    False   Sat     Dinner  2   0.291990

True    109  14.31   4.00    Female  True    Sat     Dinner  2   0.279525
183  23.17   6.50    Male    True    Sun     Dinner  4   0.280535
67   3.07    1.00    Female  True    Sat     Dinner  1   0.325733
178  9.60    4.00    Female  True    Sun     Dinner  2   0.416667
172  7.25    5.15    Male    True    Sun     Dinner  2   0.710345 
```

足够好，但后来我想使用 pandas 的变换来做同样的事情：

```
def top_all(df):
    return df.sort_index(by='tip_pct')

tips.groupby('smoker').transform(top_all) 
```

但相反，我得到了这个：

```
TypeError: Transform function invalid for data types 
```

为什么？我知道转换需要返回一个与它作为输入接受的相同尺寸的数组，所以我认为我会遵守该要求，只需对原始 DataFrame 的两个切片（吸烟者和非吸烟者）进行排序而不改变它们各自的尺寸. 谁能解释它为什么失败？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-12-13T07:19:15.917

`transform`没有很好的记录，但它的工作方式似乎是传递转换函数的不是整个组作为数据框，而是单个组的单个列。我不认为它真的适用于您正在尝试做的事情，并且您的解决方案`apply`很好。

所以假设`tips.groupby('smoker').transform(func)`。将有两个组，分别称为 group1 和 group2。转换不调用`func(group1)`and `func(group2)`。相反，它调用`func(group1['total_bill'])`, then`func(group1['tip'])`等，然后`func(group2['total_bill'])`, `func(group2['tip'])`。这是一个例子：

```
>>> print d
   A  B  C
0 -2  5  4
1  1 -1  2
2  0  2  1
3 -3  1  2
4  5  0  2
>>> def foo(df):
...     print ">>>"
...     print df
...     print "<<<"
...     return df
>>> print d.groupby('C').transform(foo)
>>>
2    0
Name: A
<<<
>>>
2    2
Name: B
<<<
>>>
1    1
3   -3
4    5
Name: A
<<<
>>>
1   -1
3    1
4    0
Name: B
# etc. 
```

您可以看到，`foo`它首先只使用原始数据框的 C=1 组的 A 列，然后是该组的 B 列，然后是 C=2 组的 A 列，等等。

如果您考虑一下转换的用途，这是有道理的。它用于在组上应用变换函数。但一般来说，这些函数在应用于整个组时没有意义，仅应用于给定列。例如，pandas 文档中的示例是关于使用`transform`. 如果您有一个包含年龄和体重列的 DataFrame，则针对这两个变量的总体平均值进行 z 标准化是没有意义的。取一堆数字的整体平均值甚至没有任何意义，其中一些是年龄，其中一些是权重。您必须根据平均年龄对年龄和相对于平均体重的体重进行 z 标准化，这意味着您要为每列单独转换。

所以基本上，你不需要在这里使用转换。 `apply`在这里是合适的函数，因为`apply`确实确实将每个组作为单个 DataFrame 进行`transform`操作，而对每个组的每一列进行操作。

# twitter - 带有本地主机的 Twitteroauth

> ID：13854482
> 
> 赞同：0
> 
> 时间：2012-12-13T06:46:35.463
> 
> 标签：twitter, localhost, wamp, twitter-oauth

我目前有一个网站正在运行，它使用 Twitteroauth 类（abraham's）和 Twitter API。一切正常，但是，我还想在我的本地主机上运行该项目以进行调试/编码，这样我就不会有弄乱我的实时版本的危险。

我想知道是否可以在本地主机上运行 Twitterouth。我知道有一些方法可以在 Twitter 网站上操作应用程序的回调 URL，但是我不想这样做，因为我的实时版本需要回调 URL。

我希望这是有道理的，我希望有一个解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-16T00:09:34.307

可以在 localhost 中运行 Twitteroauth。您应该从您的网站复制您的项目文件并将其复制到您的本地主机。您可能会看到一个文件“config.php”，您将在其中定义回调 url。

```
define('OAUTH_CALLBACK', 'http://localhost/path_to_callback.php file'); 
```

它会将您重定向到您的 callback.php 文件，并且可以在 localhost 中运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-07T12:45:03.967

为了在本地运行 Abramham William 的 twitterauth，您可以在 twitter 上创建另一个测试应用程序，这样它就不会干扰实时版本。然后不要在地址栏中使用 localhost/ ，而应该使用 localhost 的 IP 地址，我的这个错误消耗了很多时间。示例： 地址栏中的**127.0.0.1** /twittertest/index.php 而不是 localhost/twittertest/index.php。

您需要在 twitter 应用程序中提供相同的 oauth 回调。

# xcode - 自定义编程 UITableViewCell 的自动布局在滚动时失败

> ID：13854485
> 
> 赞同：3
> 
> 时间：2012-12-13T06:46:40.860
> 
> 标签：xcode, uitableview, scroll, autolayout

我正在尝试在以编程方式实现的自定义 UITableViewCell 上使用 iOS 6 的新自动布局功能。我添加了 addConstraint 调用，它一开始可以正常工作——直到我滚动。当我滚动布局后回到单元格时，布局被丢弃。垃圾我的意思是字段之间的边距都是错误的（太大，远远超出单元格的大小）。我推测这与 dequeueReusableCellWithIdentifier 方法给我留下一个“脏”单元格有关，就像你发现自己需要重新初始化单元格内的字段一样，但我似乎无法做任何事情来哄它正确渲染再次。在返回单元格之前，我尝试调用 [self.contentView updateConstraints]。我已经尝试破坏约束并重新创建它们。不仅不行，但是如果在 layoutSubviews 中尝试它，它会冻结在某种无限循环中。有任何想法吗？

这是建立约束的代码。它位于 initWithStyle:reuseIdentifier:

```
[self.completedLabel setTranslatesAutoresizingMaskIntoConstraints:NO];
[self.nextSetHeaderLabel setTranslatesAutoresizingMaskIntoConstraints:NO];
[self.nextSetDetailLabel setTranslatesAutoresizingMaskIntoConstraints:NO];
[self.youWillLearnHeaderLabel setTranslatesAutoresizingMaskIntoConstraints:NO];
[self.youWillLearnDetailLabel setTranslatesAutoresizingMaskIntoConstraints:NO];

[self.contentView removeConstraints:[self.contentView constraints]];

NSDictionary *views = NSDictionaryOfVariableBindings(_completedLabel, _nextSetHeaderLabel, _nextSetDetailLabel, _youWillLearnHeaderLabel, _youWillLearnDetailLabel);

[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"H:|-5-[_completedLabel]-5-|"
                                         options:0
                                         metrics:nil
                                           views:views]];
[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"H:|-5-[_nextSetHeaderLabel]-5-|"
                                         options:0
                                         metrics:nil
                                           views:views]];

[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"H:|-5-[_nextSetDetailLabel]-5-|"
                                         options:0
                                         metrics:nil
                                           views:views]];

[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"H:|-5-[_youWillLearnHeaderLabel]-5-|"
                                         options:0
                                         metrics:nil
                                           views:views]];

[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"H:|-5-[_youWillLearnDetailLabel]-4-|"
                                         options:0
                                         metrics:nil
                                           views:views]];

[self.contentView addConstraints:
 [NSLayoutConstraint constraintsWithVisualFormat:@"V:|-5-[_completedLabel]-12-[_nextSetHeaderLabel]-0-[_nextSetDetailLabel]-12-[_youWillLearnHeaderLabel]-0-[_youWillLearnDetailLabel(>=20)]-1-|"
                                         options:0
                                         metrics:nil
                                           views:views]]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-22T09:59:46.497

我也遇到了这个问题。如果我没有将单元格出列，那么一切似乎都正常 - 滚动、旋转等。但是，如果我将单元格出列，那么布局开始变得混乱。我可以让它工作的唯一方法是重写单元格的 prepareForReuse 方法。在这种方法中，

```
-(void) prepareForReuse
{
    [self removeCustomSubviewsFromContentView];
    [self.contentView removeConstraints:self.constraints] //self.constraits holds all the added constraints
    [self setupSubviewsInContentView];
    [self addConstraintsToContentView];
} 
```

如果有更好的方法来做到这一点，我也很想学习 :) 我相信 dequeing 的优点是 tableView 不必在内存中保存大量单元格 - 但是，使用这种方法，一个有每次出队时都要承担基本上设置单元的成本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-20T12:25:34.143

我有一个类似的问题，如果有人有兴趣我找到了解决方案，请参阅这个[问题](https://stackoverflow.com/questions/17208277/uitableviewcell-autolayout/17213520#17213520)

我做了什么：

```
- (void)awakeFromNib
{
    [super awakeFromNib];

    for (NSLayoutConstraint *cellConstraint in self.constraints)
    {
        [self removeConstraint:cellConstraint];

        id firstItem = cellConstraint.firstItem == self ? self.contentView : cellConstraint.firstItem;
        id seccondItem = cellConstraint.secondItem == self ? self.contentView : cellConstraint.secondItem;

        NSLayoutConstraint* contentViewConstraint = [NSLayoutConstraint constraintWithItem:firstItem
                                                                                 attribute:cellConstraint.firstAttribute
                                                                                 relatedBy:cellConstraint.relation
                                                                                    toItem:seccondItem
                                                                                 attribute:cellConstraint.secondAttribute
                                                                                multiplier:cellConstraint.multiplier
                                                                                  constant:cellConstraint.constant];

        [self.contentView addConstraint:contentViewConstraint];
    }
} 
```

# jquery - 如何使用 jQuery 为圆形设置动画以垂直移动

> ID：13854486
> 
> 赞同：1
> 
> 时间：2012-12-13T06:46:51.983
> 
> 标签：jquery

我想在按钮单击时为对象设置动画。我怎样才能在 jQuery 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T08:07:43.897

用圆弧函数创建一个圆形对象，并为按钮对象添加点击事件。

```
$("#buttonId").click(function() {
     $("#circleId").animate({top: "-=30px",width:"100%"},2500,"slow");
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:50:46.453

我会选择*动画*功能并将*顶级*样式设置为某些东西。不要忘记将*position*设置为*absolute*。

编辑

```
<script>
  $("#clickaroo").click(
    function() {
      $("#movaroo").animate(
        { top: "+=100px", width:"100%" }, 1000);
    }
  );
</script>
<button id="clickaroo"></button>
<img id="movaroo" src="../Images/circle.gif /> 
```

像上面这样的东西，也许？当然，需要一些适应，但你明白了一般的想法。

# php - 消息库、My_Controller 和 __remap 问题

> ID：13854488
> 
> 赞同：3
> 
> 时间：2012-12-13T06:46:56.680
> 
> 标签：php, codeigniter, message

我正在创建一个应用程序并处理`MY_Controller`. 我正在使用消息库来显示常见消息。

这是 MY_Controller.php：

```
<?php
class MY_Controller extends CI_Controller {

    public $data            =   array();
    public $view            =   TRUE;
    public $theme           =   FALSE;
    public $layout          =   'default';    
    protected $redirect;    

    protected $models       =   array();
    protected $controller_model;
    protected $controller_class;
    protected $controller_library;  

    protected $controller_name;

    protected $partials     =   array(
                                    'meta'      =>  'partials/meta',
                                    'header'        =>  'partials/header',
                                    'navigation'    =>  'partials/navigation',
                                    'content'       =>  'partials/content',
                                    'footer'        =>  'partials/footer'
                                    );

    public function __construct()
    {
        parent::__construct();
        $this->output->enable_profiler(true);

        $this->load->helper('inflector');
        $this->load->helper('url');     

        $this->controller_class =   $this->router->class;

        if(count($this->models)>0)
        {
            foreach ($this->models as $model)
            {
                if (file_exists(APPPATH . 'models/' . $model . '.php'))
                {
                    $this->controller_model =   $model;
                    $this->load->model($model);
                }   
            }   
        }else{

             if (file_exists(APPPATH . 'models/' . $this->controller_model . '.php'))
            {
                $this->load->model($this->controller_model);
            }           
        }       

        $this->controller_name  =   $this->router->fetch_class();
        $this->action_name  =   $this->router->fetch_method();      

    }

    public function _remap($method, $parameters)
    {
        if (method_exists($this, $method))
        {
            $this->run_filter('before', $parameters);
            $return =   call_user_func_array(array($this, $method),$parameters);
            $this->run_filter('after', $parameters);    
        }else{
            show_404();
        }

        if($this->theme === TRUE OR $this->theme === '')
        {
            $this->theme    =   'default';
            $this->template->set_theme($this->theme);       
        }else if(strlen($this->theme) > 0){
            $this->template->set_theme($this->theme);
        }else{

        }       

        if($this->layout === TRUE OR $this->layout === '')
        {
            $this->layout   =   'default';
            $this->template->set_layout($this->layout);     
        }else if(strlen($this->layout) > 0){
            $this->template->set_layout($this->layout);
        }else{

        }

        if(isset($this->partials))
        {

            foreach($this->partials as $key =>  $value)
            {
                $this->template->set_partial($key,$value);
            }
        }       

        if(isset($this->data) AND count($this->data)>0)
        {
            foreach($this->data as $key =>  $value)
            {
                if(!is_object($value))
                {
                    $this->template->set($key,$value);
                }
            }
        }

        if($this->view === TRUE OR $this->view === '')
        {
            if($this->parse == TRUE)
            {
                $parse_string   =   $this->template->build($this->router->method ,'' ,$this->parse);
                echo $this->parse($parse_string);
            }else{
                $this->_call_content($this->router->method);
                $this->template->build($this->router->method,array());
            }

        }else if(strlen($this->view) > 0){

            if($this->parse == TRUE){

                $parse_string   =   $this->template->build($this->router->method ,'' ,$this->parse);
                echo $this->parse($parse_string);
            }else{
                $view   =   $this->view;
                $this->_call_content($view);
                $this->template->build($view,array());
            }           

        }else{
            $checkpoint =   $this->session->flashdata('exit');
            if($checkpoint){
                exit();
            }else{
                $this->session->set_flashdata('exit',TRUE);
            }

            $this->redirect();
        }   

    }

    public function _call_content($view)
    {
        $value  =   $this->load->view($view,$this->data,TRUE);
        $this->template->set('content',$value);
    }

    /*  Common Controller Functions */
    public function index()
    {
        $data[$this->controller_model]  =   $this->{$this->controller_model}->get_all();

        $this->data     =   $data;
        $this->view     =   TRUE;   

        if($this->input->is_ajax_request() || $this->session->flashdata('ajax')){
            $this->layout   =   FALSE;      
        }else{
            $this->layout   =   TRUE;   
        }

    }   

    public function form()
    {
        if($this->input->is_ajax_request() OR !$this->input->is_ajax_request())
        {
            $this->load->helper('inflector');
            $id                     =   $this->uri->segment(4,0); 

            if($data = $this->input->post()){
                $result =   $this->{$this->controller_model}->validate($data);
                if($result){
                    if($id > 0){

                    }else{
                        $this->{$this->controller_model}->insert($data);
                    }
                    $this->message->set('message','The page has been added successfully.');
                    $this->view     =   FALSE;
                    $this->layout       =   FALSE;
                    $this->redirect =   "index";
                }else{
                    $this->message->set('message','The Red fields are required');
                }
            }
            $row    =   $this->{$this->controller_model}->where($id)->get();

            $this->data[$module_name]=  $row;
        }   
    }

    public function delete()
    {
        $id =   $this->uri->segment(3,0);

        if($id != 0){
            $this->{$this->controller_model}->delete($id);
        }

        $this->view     =   FALSE;  
        $this->layout       =   FALSE;  
    }       

    public function redirect()
    {
        redirect($this->redirect);
    }

    public function call_post($data)
    {
        foreach($data as $key => $row){
            $_POST[$key]    =   $row;
        }   
    }   

    public function query()
    {
        echo $this->db->last_query();
    }

    public function go($data = '')
    {
        if(isset($data)){
            echo '<pre>';
            print_r($data);     
        }else{
            echo '<pre>';
            print_r($this->data);
        }
    }   
}   

/**/ 
```

如您所见，我正在使用 Phil Sturgeon 的模板库，并且正在使用 Jamierumbelow 的技术处理布局。当我设置有关表单插入失败的消息时，它很好。我可以像这样在_remap中显示它

```
echo $this->message->display(); 
```

在控制器中它工作正常但是当我在部分导航中调用它时它不显示消息。可能是什么问题。我已经尝试过 My_Controller 中的不同位置。它工作正常，但不是部分，甚至我已经以失败的形式尝试过，我再次加载。这是我正在使用的消息库

[https://github.com/jeroenvdgulik/codeigniter-message](https://github.com/jeroenvdgulik/codeigniter-message)

这是我的导航部分

```
<nav>
    <div id = "navigation">
        <ul id="menubar">
            <li>Home</li>
            <li>Downloads</li>
            <li>About Us</li>
        </ul>
    </div>
    <div id="breadcrumb">
        <div class="breadcrumbs">
            <!-- Here i will pull breadcrumbs dynamically-->
        </div>
        <!--<h3>Dashboard</h3>-->
    </div>
    <br  clear = "all"/>
    <div id="message">
    <?php 
    $data['message']    =   $message ;
    $this->load->view('messages/success',$data);?>
    </div>
</nav> 
```

正在使用会话的消息库可能是 flashdata，所以我认为它以某种方式丢失了会话数据。虽然我正在使用会话正确地自动加载它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:27:35.453

我发现了这个问题。这很简单。我在配置文件中使用基本 url 作为空

```
$config['base_url'] = ''; 
```

我必须像这样改变它

```
$config['base_url'] = 'http://localhost/myproject/'; 
```

# algorithm - 关于不同k-means算法的质量

> ID：13854492
> 
> 赞同：4
> 
> 时间：2012-12-13T06:47:09.240
> 
> 标签：algorithm, machine-learning, k-means

我看到对于 k-means，我们有 Lloyd 算法、Elkan 算法，我们还有 k-means 的分层版本。

对于所有这些算法，我看到 Elkan 的算法可以提高速度。但我想知道的是所有这些 k-means 算法的质量。每次，我们运行这些算法，结果都会不同，因为它们具有启发式和概率性质。现在，我的问题是，当涉及到像 k-means 这样的聚类算法时，如果我们想在所有这些 k-means 算法之间获得更好的质量结果（如更小的失真等），哪种算法能够给出你的质量更好？可以测量这样的东西吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T08:40:32.377

更好的解决方案通常是具有更好（更低）`J(x,c)`值的解决方案，其中：

```
J(x,c) = 1/|x| * Sum(distance(x(i),c(centroid(i)))) for each i in [1,|x|] 
```

**地点：**

*   `x`是样本列表
*   `|x|`是`x`（元素数量）的大小
*   `[1,|x|]`从 1 到`|x|`（含）的所有数字
*   `c`是簇的质心（或均值）列表（即，对于`k`簇 |c| = k）
*   `distance(a,b)`（有时表示为 ||ab|| 是“点”a 到“点”b 之间的距离（在欧几里得二维空间中`sqrt((a.x-b.x)^2 + (a.y-b.y)^2)`）
*   centroid(i) - 最接近的质心/平均值`x(i)`

请注意，这种方法不需要切换到监督技术，并且可以完全自动化！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:39:23.473

据我了解，您需要一些带有标签的数据来交叉验证您的聚类算法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T09:55:54.573

两个月亮数据集的病态案例怎么样？无监督的 k-means 会严重失败。我知道的一种高质量方法采用了一种使用互信息和组合优化的概率更高的方法。基本上，您将聚类问题转换为在两个聚类的情况下找到完整点集的最佳 [聚类] 子集的问题。

您可以在[此处找到相关论文](http://arxiv.org/pdf/1111.6453v1.pdf)（第 42 页）并在此处找到相应的[Matlab 代码](http://www.di.ens.fr/~fbach/submodular/)（查看两​​个月亮案例）。如果您对加速超过 30 倍的 C++ 高性能实现感兴趣，那么您可以[在 HPSFO](http://hpsfo.bitbucket.org)找到它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-14T16:55:18.700

[为了比较质量，你应该有一个标记的数据集，并通过一些标准（如NMI](http://nlp.stanford.edu/IR-book/html/htmledition/evaluation-of-clustering-1.html)）来衡量结果

# sql - 表的SQL中行的序列和

> ID：13854493
> 
> 赞同：1
> 
> 时间：2012-12-13T06:47:11.997
> 
> 标签：sql, sql-server-2008, tsql

考虑下表。

```
ID          UserCount
----------- -----------
1           2
2           3
3           5 
```

我如何添加另一列 ( `SequenceUserCount`)`UserCount`并按顺序添加。

预期结果：

```
ID          UserCount   SequenceUserCount
----------- ----------- ------------------
1           2           2
2           3           5
3           5           10 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:52:22.027

你可以这样做：

```
;WITH CTE
AS
(
   SELECT *,
  ROW_NUMBER() OVER(ORDER BY usercount) rownum
  FROM @table1
) 
SELECT 
  c1.id, 
  c1.usercount,
  SequenceUserCount = (SELECT SUM(c2.usercount) 
                       FROM cte c2
                       WHERE c2.rownum <= c1.rownum)
FROM CTE c1; 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/d41d8/7109)

这会给你：

```
| ID | USERCOUNT | SequenceUserCount  |
--------------------------------------
|  1 |         2 |        2           |
|  2 |         3 |        5           |
|  3 |         5 |       10           | 
```

**或者：**您可以使用`JOIN`相关子查询来代替，如下所示：

```
;WITH CTE
AS
(
   SELECT *,
  ROW_NUMBER() OVER(ORDER BY usercount) rownum
  FROM @table1
) 
SELECT 
  c1.id, 
  c1.usercount,
  SequenceUserCount = SUM(c2.usercount) 
FROM CTE c1
INNER JOIN CTE c2 ON c2.rownum <= c1.rownum
GROUP BY c1.id, c1.usercount; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:52:58.380

尝试这个

```
 select id,
   usercount       
   sum(usercount) over(order by usercount rows unbounded preceding) 
   as  sequenceusercount
 from Table 
```

# visual-studio - 构建具有多个目标的项目

> ID：13854498
> 
> 赞同：0
> 
> 时间：2012-12-13T06:47:59.360
> 
> 标签：visual-studio, msbuild

我有一个项目，它实际上是在 Win32/.Net4.0 (VS2012) 上构建的。现在我还需要将这个项目构建到 x64/.Net4.0，以及 Win32/3.5 和 x64/3.5。

我知道可能有 4 个项目，并且每次都构建每个项目。但是代码总是相同的，所以我想知道是否有可能有一个项目，它是在一个构建过程中构建每个目标的？

谢谢古奇

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-30T16:18:44.003

您可以针对同一个项目/解决方案多次调用 msbuild 以涵盖您所需的所有配置。只需通过命令行传递配置。因此，对于 x86 的发布配置：

```
msbuild MySolution.sln /p:Configuration=Release /p:Platform=x86 
```

然后，您可以为另一个目标平台添加第二个调用。

# excel - Excel VBA - 未填充用户窗体列表框

> ID：13854501
> 
> 赞同：0
> 
> 时间：2012-12-13T06:48:10.953
> 
> 标签：excel, vba

我有一个添加到用户窗体的列表框。当我通过代码设置属性、添加项目等时，列表框中没有任何内容。我没有收到错误，列表框只是保持空白。这是一个片段。我查看了列表框属性，启用和可见为真，锁定为假。

```
Private Sub Refresh_Click()
ListBox1.Clear
Dim wb As Workbook
UserForm1.ListBox1.BackColor = RGB(5, 5, 5) 'threw this in for testing; box not changed
For Each wb In Workbooks
   MsgBox wb.Name
   ListBox1.AddItem wb.Name 
   'this is what I'm trying to accomplish; 
   'wb.Name shows in the MsgBox but not in the listbox
Next wb
End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:03:04.680

该代码没有错误并且可以正常工作，但是我必须更改列表框的前景色才能看到该项目

# javascript - 在 onMouseOver() 上操作 innerHtml

> ID：13854509
> 
> 赞同：0
> 
> 时间：2012-12-13T06:48:38.030
> 
> 标签：javascript, html, css

我有一个简单的导航栏，看起来像这样：

```
<ul class="navigation">
    <li><a href="index.html">Home</a></li>
    <li><a href="about.html">About Us</a></li>
    <li><a href="products.html">Products</a></li>
    <li><a href="contact.html">Contact Us</a></li>
</ul> 
```

所以一个非常简单的导航。当用户将鼠标悬停在其中一个链接上时，我想在链接文本的任一侧添加波浪括号，如下所示：

> 首页 {关于我们} 产品展示 联系我们

我认为我可以在 javascript 中执行此操作，在每个标签上添加 onClick="navAnimation('TheLinkName')" 。然后在 JS 中，我只获取给定链接标签的 innerHTML 并在文本的任一侧添加波浪线。

这是最好的方法吗？对于如此微不足道的事情，似乎需要做很多工作..

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T06:51:32.727

您可以使用伪元素仅使用 CSS 执行此操作：

```
ul.navigation a:hover:before { content: "{"; }
ul.navigation a:hover:after { content: "}"; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:42:05.597

我想最好的方法是处理 A 或 LI 元素上的“onmouseover”事件。

```
<ul class="navigation">
    <li><a onmouseover="AddBrackets(this);" href="index.html">Home</a></li>
    <li><a onmouseover="AddBrackets(this); href="about.html">About Us</a></li>
    <li><a onmouseover="AddBrackets(this); href="products.html">Products</a></li>
    <li><a onmouseover="AddBrackets(this); href="contact.html">Contact Us</a></li>
</ul> 
```

AddBrackets 函数类似于：

```
function AddBrackets(x) {
    x.innerHTML = "{" + x.innerHTML + "}";
} 
```

听起来像你想做的吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:53:30.477

使用`pseudo`类`after and before`

**CSS**

```
ul li{display:inline; padding:2px 6px; color:green; text-align:center}
ul li a{display:inline; color:green; width:100px; text-decoration:none; display:inline-block}
ul li a:hover:after{ content:"}" }
ul li a:hover:before{ content:"{" } 
```

​<strong> [DEMO](http://jsfiddle.net/nVkqR/1/)

# grails - config.groovy 使用 grails 中的 .property 文件

> ID：13854512
> 
> 赞同：1
> 
> 时间：2012-12-13T06:49:00.683
> 
> 标签：grails, configuration, dependency-properties, config, configuration-files

在我的 config.groovy 中，我设置了 ..

`emailTo="admin@xzyz.com" emailForm="notification@oabc.com"`

但我想要一些灵活性。我可以在我的项目运行表单属性文件时更改它吗？请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:46:30.110

是的，您也可以使用`.property`文件，默认情况下 Grails 会在以下位置查找属性：

*   在课程路径中`${appName}-config.properties`
*   和全局配置`~/.grails/${appName}-config.properties`
*   作为名为的系统变量传递的路径`${appName}.config.location`

看看你的前几行`Config.groovy`，你可以放任何其他路径到你自己的 .properties

另请参阅[http://grails.org/doc/2.1.0/guide/conf.html#configExternalized](http://grails.org/doc/2.1.0/guide/conf.html#configExternalized)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:03:29.027

我相信有一个插件可以在外部配置文件更改时支持动态重新加载，但从概念上讲，如果这是应该在运行时修改的数据，那么将其表示为域对象并将其存储在数据库。

我在许多项目中使用这种方法，定义了一个领域类

```
class AppConfiguration {
  String adminEmail
  String appTitle
  // etc
} 
```

并确保数据库中始终只有一个实例，`BootStrap`如果它尚不存在，则在其中创建一个初始实例。现在在需要此配置数据的应用程序中的任何地方，我只是做`AppConfiguration.list()[0]`

我只是对编辑页面使用动态脚手架，这些页面仅限于管理员用户通过 Spring Security 访问。

# python - 用于停止 Windows 脚本的全局热键

> ID：13854515
> 
> 赞同：5
> 
> 时间：2012-12-13T06:49:21.997
> 
> 标签：python

我正在编写一个脚本，该脚本可以控制我的鼠标并在一个简单的无限 while 循环中运行。

```
def main():
    while True:
        do_mouse_stuff() 
```

因为鼠标控制的关系，在python窗口上点击然后按ctrl-c很痛苦，所以一直在寻找一种在windows中实现全局热键的方法。我也是一个相对的 Python 菜鸟，所以我可能错过了一个明显的答案。我发现的东西：

pyhk - 我得到的最接近的，但是这个模块出于某种原因对我的计算机做了一些讨厌的事情（可能是我做错了），它引入了主要的鼠标延迟，完全输入锁定，各种我不聪明的东西足以应付。

pyHook - 按照[教程](http://sourceforge.net/apps/mediawiki/pyhook/index.php?title=PyHook_Tutorial)，工作正常，但无限运行的消息泵和我的 while 循环似乎只运行，我还没有弄清楚如何让它工作。

[另一种方法](http://timgolden.me.uk/python/win32_how_do_i/catch_system_wide_hotkeys.html)——我也找到了这个方法，但是我和pyHook有同样的问题，try循环和我的while循环不能共存。

我试图弄清楚如何将我的循环集成到这些示例中，而不是维护一个单独的循环，但我无法完成这项工作，这可能也是由于我的笨拙。有人能帮我弄清楚如何完成这项工作吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-13T07:02:50.537

也许使用[`msvcrt`](http://docs.python.org/2/library/msvcrt.html)？我不确定它是否是“全球性的”，不幸的是，我现在无法对其进行测试，但这里有一个检测 Escape 键的示例（取自[这个问题](https://stackoverflow.com/questions/5137238/how-to-detect-escape-keypress-in-python)），与您的键盘内容集成：

```
import msvcrt

def main():
    while True:
        do_mouse_stuff()

        # Check if `Esc` has been pressed
        if msvcrt.kbhit() and msvcrt.getch() == chr(27).encode():
            aborted = True
            break 
```

# objective-c - 按常数将字符串拆分为数组

> ID：13854516
> 
> 赞同：0
> 
> 时间：2012-12-13T06:49:30.873
> 
> 标签：objective-c, cocoa-touch

我一直在尝试按数字将字符串拆分为组件数组，但不知道该怎么做。我知道每个组件的长度都是 9，除了最后一个。但它们之间没有分离。也许有人会知道我怎样才能使这种分裂成为可能？

字符串：E44000000R33000444V33441 我想得到数组：E44000000 R33000444 V33441

过去我使用过这种方法，但我想应该有一种方法可以用常数分隔。有任何想法吗

```
NSArray *myWords = [message componentsSeparatedByString:@";"]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:58:15.193

请尝试以下代码。

```
NSString *stringTest = @"E44000000R33000444V33441323";
NSMutableArray *arrayTest = [NSMutableArray array];
while([stringTest length] > 8) {
    [arrayTest addObject:[NSString stringWithString:[stringTest substringToIndex:9]]];
    stringTest = [stringTest substringFromIndex:9];
}
NSLog(@"arrayTest - %@", arrayTest); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:38:27.483

试试这个。。

```
NSString *mainString=@"E44000000R33000444V";
NSMutableArray *brokenString=[NSMutableArray new];

int start=0;
for (; start<mainString.length-9; start+=9) {
     [brokenString addObject:[mainString substringWithRange:NSMakeRange(start, 9)]];
}
[brokenString addObject:[mainString substringFromIndex:start]];
NSLog(@"->%@",brokenString); 
```

输出是：

```
->(
    E44000000,
    R33000444,
    V
) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:12:42.370

我调查了 NSString，但没有发现任何类似的功能。但是您可以创建一个 NSString 类别并将此函数放在该类别中，您可以将其用作 NSString 实例方法。

```
- (NSArray *) componentSaparetedByLength:(NSUInteger) length{
        NSMutableArray *array = [NSMutableArray new];
        NSRange range = NSMakeRange(0, length);
        NSString *subString = nil;
        while (range.location + range.length <= self.length) {
            subString = [self substringWithRange:range];
            [array addObject:subString];
            //Edit
            range.location = range.length + range.location;
            //Edit
            range.length = length;
        }

        if(range.location<self.length){
            subString = [self substringFromIndex:range.location];
            [array addObject:subString];
        }
        return array;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T07:01:46.707

您可以在循环（字符串长度）中将子字符串获取到您想要的字符并传递下一个索引以获取下一个子字符串。获取每个子字符串后，您可以将其添加到数组中。使用`SubstringToIndex`&`SubstringFromIndex`函数来获取子字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T19:30:25.617

这里也不是必需的，我想提出一个能够处理来自更复杂的脚本系统的字符的解决方案，例如[代理对](http://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B10000_to_U.2B10FFFF)、基本字符加上[组合标记](http://en.wikipedia.org/wiki/Combining_character)、[Hangul jamo](http://en.wikipedia.org/wiki/Hangul)和[Indic consonant clusters](http://rishida.net/scripts/indic-overview/#consonantclusters)。

```
@interface NSString (Split)
-(NSArray *)arrayBySplittingWithMaximumSize:(NSUInteger)size
                                     options:(NSStringEnumerationOptions) option;
@end

@implementation NSString (Split)

-(NSArray *)arrayBySplittingWithMaximumSize:(NSUInteger)size
                                     options:(NSStringEnumerationOptions) option
{
    NSMutableArray *letterArray = [NSMutableArray array];
    [self enumerateSubstringsInRange:NSMakeRange(0, [self length])
                                options:(option)
                             usingBlock:^(NSString *substring,
                                          NSRange substringRange,
                                          NSRange enclosingRange,
                                          BOOL *stop) {
                                 [letterArray addObject:substring];
                             }];

    NSMutableArray *array = [NSMutableArray array];
    [letterArray enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
        if (idx%size == 0) {
            [array addObject: [NSMutableString stringWithCapacity:size]];
        }
        NSMutableString *string = [array objectAtIndex:[array count]-1];
        [string appendString:obj];

    }];

    return array;
}

@end 
```

用法

```
NSArray *array = [@"E44000000R33000444V33441" arraysBySplittingWithMaximumSize:9 
                                                                       options:NSStringEnumerationByComposedCharacterSequences]; 
```

结果是：

```
(
    E44000000,
    R33000444,
    V33441
) 
```

# c++ - c++：函数左值或右值

> ID：13854518
> 
> 赞同：8
> 
> 时间：2012-12-13T06:49:34.780
> 
> 标签：c++, c++11, lvalue, rvalue

[我刚刚通过阅读此页面](http://thbecker.net/articles/rvalue_references/section_01.html)开始学习 c++11 中的右值引用，但我被困在了第一页。这是我从该页面获取的代码。

```
 int& foo();
  foo() = 42; // ok, foo() is an lvalue
  int* p1 = &foo(); // ok, foo() is an lvalue

  int foobar();
  j = foobar(); // ok, foobar() is an rvalue
  int* p2 = &foobar(); // error, cannot take the address of an rvalue 
```

1.  为什么是`foo()`左值？是因为`foo()`返回`int&`基本上是左值吗？
2.  为什么是`foobar()`右值？是因为`foobar()`退货`int`吗？
3.  一般来说，你为什么要关心一个函数是否是一个右值？我想如果我阅读那篇文章的其余部分，我会得到我的答案。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-12-13T07:25:10.387

L-Values 是位置，R-Values 是*可存储*的值（即，可以分配的值：例如，命名空间是**不可**分配的；感谢@Maggyero 的编辑建议）。

所以：

1.  因为`foo()`返回一个引用（`int&`），所以它本身就是一个左值。
2.  正确的。`foobar()`是一个右值，因为`foobar()`返回`int`.
3.  我们不太关心函数是否是 R 值。我们感到兴奋的是 R-Value 参考。

你指的那篇文章很有趣，我之前没有考虑过转发或在工厂中使用。我对 R-Value 引用感到兴奋的原因是移动语义，例如：

```
BigClass my_function (const int& val, const OtherClass & valb);

BigClass x;
x = my_function(5, other_class_instance); 
```

在该示例中， x 被销毁，然后 my_function 的返回值通过复制构造函数复制到 x 中。为了从历史上解决这个问题，你会写：

```
void my_function (BigClass *ret, const int& val, const OtherClass & valb);

BigClass x;
my_function(&x, 5, other_class_instance); 
```

这意味着现在`my_function`有副作用，而且它不是那么容易阅读。现在，使用 C++11，我们可以改为：

```
BigClass & my_function (const int& val, const OtherClass & valb);

BigClass x;
x = my_function(5, other_class_instance); 
```

让它像第二个例子一样有效地运行。

# drools-planner - Drools 车辆路线规划器，但略有不同

> ID：13854521
> 
> 赞同：1
> 
> 时间：2012-12-13T06:49:55.150
> 
> 标签：drools-planner

我正在做一个具有以下参数的车辆路线：

1.  车辆必须两次访问同一个地方。前期是设置后期是收集。
2.  这两个时间已经在数据库中使用 lat 和 lng 坐标进行了预先确定。
3.  车辆不能在给定时间位于 2 个不同的位置

我该如何使用drools planner来做到这一点？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:02:16.097

1.  复制粘贴 VehicleRoutingExample
2.  将 VrpCustomer 重命名为 VrpVisit
3.  在 VrpVisit 上添加一个属性 visitType。它是 SETUP 和 COLLECT 的枚举
4.  为每个客户创建 2 次 VrpVisit 访问，每种类型一个

也许您还需要添加一个约束，即同一客户的 2 次访问需要由同一辆车访问。甚至订单也很重要（收集之前的设置）

# dynamics-crm-2011 - 货币代码和值出现在表格标题中，没有空格

> ID：13854526
> 
> 赞同：0
> 
> 时间：2012-12-13T06:50:41.747
> 
> 标签：dynamics-crm-2011, dynamics-crm

在 Dynamics CRM 2011 中，我遇到了以下问题。我设置了一个货币字段，并将其显示在表单的标题以及主体中。

在标题中我得到了这个，“美元”和金额之间没有空格。

![在此处输入图像描述](../Images/42b31e0733be5f020d3ccd0e83f6ace8.png)

而在主窗体上，我根据需要使用空格（不是很大的空间，但至少它在那里！）：

![在此处输入图像描述](../Images/cb3c6078fd41dbd0a1aa741dc991c2eb.png)

有什么办法可以让空间出现在标题版本中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:15:51.847

恐怕对你来说不是一个很好的答案，但我相信这里的答案是“不”。它在标题中看起来不同的原因是 CRM 只是使用不同的控件在标题中显示。

我可以确认这种行为在 CRM Online 中是可重复的。我想知道是否可以将“货币符号”（您无法更改货币代码）更改为“USD”，但只要将值保存在货币记录中，尾随空格就会被修剪。如果您真的需要它，您可以扩展该概念并将您的货币符号保存为“USD__”，但它远非优雅。

当然，您可以使用一些 JavaScript 来攻击它，但我怀疑对于本质上只是装饰性的东西进行不受支持的更改是否值得。

作为最后的选择，同样不优雅，但是将“Holding Value”添加到您的表单中的多个位置作为只读字段将使其在用户在表单上的任何位置都可以直观地访问，如果达到与放置相同的目的，则排序它在标题中。

编辑：另一种选择可能是引入`float`由（按优先顺序）插件、工作流或 JavaScript 填充的新属性，以便它始终包含与“持有值”相同的值。然后，您可以将货币代码*和*新字段放在标题中，以与您在表单正文中看到的布局大致相同。

# c++ - 不同操作系统上的发起者和接受者

> ID：13854537
> 
> 赞同：0
> 
> 时间：2012-12-13T06:51:40.827
> 
> 标签：c++, tcp-ip, quickfix

我必须在两个不同的操作系统上运行我的启动器和接受器。我看到一个奇怪的套接字断开问题。以下是我尝试过的不同场景。我正在使用 C++/Quickfix。我在 Debian/Ubuntu 上使用该设置已经很长时间了，没有问题。使用 CentOS 和 Ubuntu 建立连接是有问题的。问题的详细信息：-

## 场景一（问题场景）

我的启动器在 CentOS 的 Machine-1 上运行

我的接受器在 Ubuntu 的 Machine-2 上运行

当我尝试连接时，出现以下错误：-

```
<20121213-03:57:41.619, FIX.4.2:ft-trade->ES, event>
  (Connecting to 10.0.0.40 on port 31209)
<20121213-03:57:41.620, FIX.4.2:ft-trade->ES, outgoing>
  (8=FIX.4.2 9=77 35=A 34=1 49=ft-trade 52=20121213-03:57:41.620 56=ES 98=0 108=30 141=Y 10=230 )
<20121213-03:57:41.620, FIX.4.2:ft-trade->ES, event>
  (Initiated logon request)
<20121213-03:57:41.621, FIX.4.2:ft-trade->ES, event>
  (Socket Error: Connection reset by peer.)
<20121213-03:57:41.621, FIX.4.2:ft-trade->ES, event>
  (Disconnecting) 
```

请不要通过上述数据包中的校验和字段，因为我必须在此处发布之前更改发件人/目标 compids。

## 场景 2（工作正常）

我将相同的启动器代码带到了不同的 Machine-3。现在都是Ubuntu。

从 Machine-3，我可以成功连接到 Machine-2。

这种情况没有问题，所以我的设置文件等都很好。

## 场景 3（工作正常）

我将相同的接受器代码带到 Machine-1。现在两个 CentOS

再次，我可以成功连接。

我还检查了是否存在与防火墙相关的问题。但是没有问题，因为从 Machine-1 到 Machine-2 的 telnet 是成功的。

据我了解，当对等方在打开套接字后断开或关闭套接字时，这是一个 TCP/IP 错误。但是消息进来的方式，它不确定错误是由于 TCP/IP 还是 quickfix。我看不出 TCP/IP 握手问题的任何原因，因为 TELNET 也可以正常工作。

# c# - C#：使 xml 文件与数据模型保持同步

> ID：13854539
> 
> 赞同：1
> 
> 时间：2012-12-13T06:51:42.103
> 
> 标签：c#, xml

假设我有`List<Book>`一个用户可以添加/从中删除书籍。该列表被保存到一个 xml 文件中，以便数据在网站上的会话之间可用。

现在，显然这不是一个理想的解决方案，数据库会更好。但这是针对具有一些严格限制的学校项目。我想弄清楚的是，是否有一种好方法可以在每次`List<Book>`更改时“更新”xml文件，而不是每次都简单地重写整个文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:03:51.793

不*，如果不重写整个文件，就不可能“更新”XML。XML 格式不允许就地修改甚至简单的追加。

*) 可以想出一些聪明的方法来允许一些就地更新（即留下额外的空白和缓存元素的文件偏移量），但我建议只为个人娱乐项目做这些事情。

# c# - 如何将数据从 DataTable 插入 Oracle 数据库表：

> ID：13854542
> 
> 赞同：0
> 
> 时间：2012-12-13T06:51:53.667
> 
> 标签：c#, asp.net

我`DataTable`有 2 行 3 列的数据。我想将该数据插入`Oracle`表中。

我该如何插入？请给我一些例子。

并且

如何将数据表传递给**ORACLE**中的存储过程...

我以以下方式传递数据表，但数据表类型问题即将到来。我该如何解决这个问题？

```
cmd.Parameters.Add("@Details",dtSupplier);   
(OR)  
cmd.Parameters.Add("Details", DbType.Single).Value = dtSupplier.ToString(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:59:48.757

想要将数据集或数据表插入 ORACLE，

1.  创建一个 ORACLE 数据适配器。
2.  创建一个用于插入的命令对象，
3.  将 CommandType 设置为 StoredProcedure。
4.  数据适配器的更新命令，
5.  将数据集或数据表作为参数传递。

像这样：

```
OracleDataAdapter da = new OracleDataAdapter();
OracleCommand cmdOra = new OracleCommand(StoredProcedureName, Connection);
cmdOra.CommandType = CommandType.StoredProcedure;

da.InsertCommand = cmdOra;
da.Update(dsDataSet); 
```

**或者**

如果以上不起作用，则将数据表作为 xml 参数传递而不是处理它

有关详细信息，请查看：[**ADO.NET DataTable as XML parameter to an Oracle/SQL Server Database Stored Procedure**](http://www.codeproject.com/Articles/54784/ADO-NET-DataTable-as-XML-parameter-to-an-Oracle-SQ)

**或者**

在 Oracle 站点上查看此线程：[**线程：将数据表传递给 Oracle 存储过程**](https://forums.oracle.com/forums/thread.jspa?threadID=930871&start=15&tstart=0)

检查现有答案：[如何将数据表作为输入传递给 C# 中的过程？](https://stackoverflow.com/questions/12025085/how-to-pass-datatable-as-input-to-procedure-in-c)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-18T14:09:48.050

这个答案我***很晚***了，但我详细说明了一些更易读（我希望）的代码，并避免所有这些`.ToString()`值，以便`null`可以处理 s 和其他不太常见的值；这里是：

```
public void Copy(String tableName, DataTable dataTable)
{
    var insert = $"insert into {tableName} ({GetColumnNames(dataTable)}) values ({GetParamPlaceholders(dataTable)})";
    using (var connection = /*a method to get a new open connection*/)
    {       
        for (var row = 0; row < dataTable.Rows.Count; row++)
        {
            InsertRow(dataTable, insert, connection, row);
        }
    }
}

private static void InsertRow(DataTable dataTable, String insert, OracleConnection connection, Int32 row)
{
    using (var command = new OracleCommand(insert, connection))
    {
        AssembleParameters(dataTable, command, row);
        command.ExecuteNonQuery();
    }
}

private static void AssembleParameters(DataTable dataTable, OracleCommand command, Int32 row)
{
    for (var col = 0; col < dataTable.Columns.Count; col++)
    {
        command.Parameters.Add(ParameterFor(dataTable, row, col));
    }
}

private static OracleParameter ParameterFor(DataTable dataTable, Int32 row, Int32 col)
{
    return new OracleParameter(GetParamName(dataTable.Columns[col]), dataTable.Rows[row].ItemArray.GetValue(col));
}

private static String GetColumnNames(DataTable data) => (from DataColumn column in data.Columns select column.ColumnName).StringJoin(", ");

private static String GetParamPlaceholders(DataTable data) => (from DataColumn column in data.Columns select GetParamName(column)).StringJoin(", ");

private static String GetParamName(DataColumn column) => $":{column.ColumnName}_param"; 
```

希望这对某人仍然有用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T06:55:31.487

最好的办法是按照下面提到的步骤

1.  创建交易
2.  开始交易
3.  循环遍历您的数据表
4.  打电话给你的程序
5.  如果没有发生错误提交事务
6.  否则回滚事务

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T06:58:34.880

关于你问题的这一部分：

> cmd.Parameters.Add("@Details",dtSupplier);
> (OR)
> cmd.Parameters.Add("详细信息", DbType.Single).Value = dtSupplier.ToString();

“详细信息”参数的类型是什么？是单曲吗？然后，您必须从 DataTable 中选择一 (1) 个值并将其传递给您的参数，例如 dtSupplier.Rows[0]["col"]。
如果您使用 dtSupplier.ToString() 您只是在制作整个 DataTable 的字符串（我猜这将始终是 DataTable 的类型名称）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-12T14:18:28.263

我知道这**件事**很重要，但同样的需要：“将数据从数据表插入到 Oracle 表”发生在我身上。我找到了这个线程。我也尝试了答案并得出结论，执行

```
...
cmd.ExecuteNonQuery();
... 
```

在一个循环中，是坏的。真的很糟糕。不好的第一件事是性能，第二是不必要的复杂性，第三是不必要的 Oracle 对象（存储过程）。完成（比如说 200 行）所需的时间几乎是 1 分钟，这就是我将其四舍五入。因此，希望其他人会发现这很有帮助，这是我的经验。

我很固执，又搜索了一些，所以我发现了[这个](https://www.c-sharpcorner.com/article/two-ways-to-insert-bulk-data-into-oracle-database-using-c-sharp/)，真的是从 2018 年开始的。但我自己也在 2021 年......

所以基本代码是：

```
using Oracle.ManagedDataAccess.Client; // you don't need other dll, just install this from nuget gallery
using System.Data;
public static void Datatable2Oracle(string tableName, DataTable dataTable)
{
    string connString = "connection string";
    OracleBulkCopy copy= new(connString, OracleBulkCopyOptions.UseInternalTransaction /*I don't know what this option does*/);
    copy.DestinationTableName = tableName; 
    copy.WriteToServer(dataTable);
    copy.Dispose();
} 
```

这应该与原始 oracle DDL 性能相匹配：

```
create table table_name as select * from other_table_name 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-03-28T19:03:32.607

首先，您需要`Oracle.DataAccess.dll`在 Visual Studio 中添加为引用。大多数情况下，你可以在目录中找到这个dll`C:\ProgramData\Oracle11g\product\11.2.0\client_1\ODP.NET\bin\2.x\Oracle.DataAccess.dll`

如果只是需要将数据表中的记录插入到 Oracle 表中，则可以调用以下函数。考虑您的 DataTable 名称是`dt`.

```
string error = "";
int noOfInserts = DataTableToTable(dt,out error); 
```

**1.不使用Oracle参数（特殊字符不安全）**

下面给出函数的定义。在这里，我们只是使查询动态化，以便将其作为 sql 语句传递给`InsertWithQuery`函数。

```
public int DataTableToTable(DataTable dt,out string error)
{
    error = "";
    for (int i = 0; i < dt.Rows.Count; i++)
    {
        finalSql = "INSERT INTO TABLENAME SELECT ";
        for (int j = 0; j < dt.Columns.Count; j++)
        {
            colValue += "'" + dt.Rows[i][j].ToString() + "',"; 
        }
        colValue = colValue.Remove(colValue.Length - 1, 1);
        finalSql += colValue + " FROM DUAL";
        InsertWithQuery(finalSql, out error);
        if (error != "")
           return error;
        inserts++;
        colValue = "";
    }
} 
```

函数代码`InsertWithQuery`如下。在这里，您必须在连接字符串中放置数据库详细信息，例如主机、用户名、密码等。

```
public int InsertWithQuery(string query, out string error)
{
     error = "";
     int rowsInserted = 0;        
     if (error == "")
     {
          OracleConnection con = new OracleConnection("Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=)(PORT=)))(CONNECT_DATA=(SERVER=DEDICATED)(SID=)));User Id=;Password="); 
          OracleTransaction trans = con.BeginTransaction();              
          try
          {
              error = "";
              OracleCommand cmd = new OracleCommand();
              cmd.Transaction = trans;
              cmd.Connection = con;
              cmd.CommandText = query;
              rowsInserted = cmd.ExecuteNonQuery();
              trans.Commit();
              con.Dispose();
              return rowsInserted;
          }
          catch (Exception ex)
          {
              trans.Rollback();
              error = ex.Message;
              rowsInserted = 0;
          }
          finally
          {
              con.Dispose();
          }
     }
     return rowsInserted;
} 
```

**2.使用Oracle参数（特殊字符安全）**
这可以处理列值中的单引号等特殊字符。

```
public int DataTableToTable(DataTable dt,out string error)
{
    error = "";
    string finalSql = "";
    List<string> colValue = new List<string>();
    List<string> cols = new List<string>() {"COLUMN1","COLUMN2","COLUMN3"};
    for (int i = 0; i < dt.Rows.Count; i++)
    {
         finalSql = "INSERT INTO TABLENAME(COLUMN1,COLUMN2,COLUMN3) VALUES(:COLUMN1,:COLUMN2,:COLUMN3) ";                    
         for (int j = 0; j < dt.Columns.Count; j++)
         {
             colValue.Add(dt.Rows[i][j].ToString());
         }                     
         objDAL.InsertWithParams(finalSql,colValue,cols, out error);
         if (error != "")
             return error;
         inserts++;
         colValue.Clear();
    }
} 
```

下面`InsertWithParams`给出

```
public string InsertWithParams(string sql, List<string> colValue, List<string> cols, out string error)
{
     error = "";
     try
     {
         OracleConnection con = new OracleConnection("Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=)(PORT=)))(CONNECT_DATA=(SERVER=DEDICATED)(SID=)));User Id=;Password="); 
         OracleCommand command = new OracleCommand(sql, con);
         for (int i = 0; i < colValue.Count; i++)
         {
              command.Parameters.Add(new OracleParameter(cols[i], colValue[i]));
         }
         command.ExecuteNonQuery();
         command.Connection.Close();
    }
    catch (Exception ex)
    {
         error = ex.Message;
    }
    return null;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-03-28T19:48:26.563

```
 try  {

                    //Suppose you have DataTable dt
                    string connectionString = @"Provider=Microsoft.ACE.OLEDB.12.0;" +
                                              @"Data Source='Give path of your access database file here';Persist Security Info=False";

                    OleDbConnection dbConn = new OleDbConnection(connectionString);
                    dbConn.Open();
                    using (dbConn)
                    {
                        int j = 0;
                        for (int i = 0; i < 2; i++)
                        {
                            OleDbCommand cmd = new OleDbCommand(
                            "INSERT INTO Participant_Profile ([column1], [column2] , [column3] ) VALUES (@c1 , @c2 , @c3 )", dbConn);
                            cmd.Parameters.AddWithValue("@c1", dt.rows[i][j].ToString());
                            cmd.Parameters.AddWithValue("@c2", dt.rows[i][j].ToString());
                            cmd.Parameters.AddWithValue("@c3", dt.rows[i][j].ToString());
                            cmd.ExecuteNonQuery();
                            j++;
                        }

                    }
                }
                catch (OleDbException exception)
                {
                    Console.WriteLine("SQL Error occured: " + exception);
                } 
```

# perforce - 在 Perforce 中跨多个位置实例化文件

> ID：13854544
> 
> 赞同：0
> 
> 时间：2012-12-13T06:52:02.867
> 
> 标签：perforce

也许一些 Perforce 大师可以提供一些建议。

我们有一个仓库，在中央文件夹中有一个 setting.xml 文件：

```
///depot/central/config/setting.xml 
```

并希望它在多个位置实例化，例如：

```
///depot/projectA/tool1/config/setting.xml
///depot/customerB/tool2/config/setting.xml 
```

好处是维护。setting.xml 文件只需要在 //depot/central 更新一次，然后其他地方的所有文件也会更新，所以我们不必进入每个地方，一次又一次地复制它。

AlienBrain 有一个称为“快捷方式”的功能，Perforce 有类似的功能吗？

我们已经尝试使用操作系统的符号链接功能，但它并没有像预期的那样运行——克隆的文件仍然需要先签出，然后再次签入——这使得克隆的文件拥有自己的修订版反对原来的。

最好只保留原始文件和克隆文件具有相同的修订版。**因此，如果向setting.xml(5/5)**提交新修订（使其成为**setting.xml(6/6)**），则克隆文件此时仍保留为**setting.xml(5/6)**。因此，projectA 和 customerB 上的人可以简单地同步到最新版本。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T19:12:11.697

您可以使用 Perforce 客户端规范将文件从软件仓库映射到您的工作区，这应该几乎完全符合您的要求。

例如，您的工具 1 的客户端规范将类似于：

```
//depot/projectA/tool1/... //workspace_for_tool1/...
//depot/central/config/setting.xml //workspace_for_tool1/config/setting.xml 
```

您对工具 2 的客户规范将类似于：

```
//depot/customerB/tool2/... //workspace_for_tool2/...
//depot/central/config/setting.xml //workspace_for_tool2/config/setting.xml 
```

这种方法的主要缺点是您需要在每个客户端规范中进行此更改，并且您需要一些专用于将客户端规范传播到新工作区的基础设施。

# json - 如何以json格式发送多条记录

> ID：13854551
> 
> 赞同：0
> 
> 时间：2012-12-13T06:52:31.090
> 
> 标签：json, yii

我正在 Yii 框架中创建项目。在控制器中，我的功能为-

```
public function actiongetCuriosityQuestionAnswer()
{
    $model=new Curiosityquestion;
    $json='{"questionId":1}';
    $obj=json_decode($json);

    $model->questionId=$obj->questionId;
    $record=Curiosityquestion::model()->findByPk($model->questionId);
    echo "The Question=".$record->question."</br>"."Its answer is-".$record->answer;
    echo CJSON::encode($record->answer,$record->question);
} 
```

我想以 json 格式发送问题和答案。但是“ `CJSON::encode($record->answer,$record->question);`”只发送 json 格式的答案。即`CJSON::_encode`只接受一个参数。那么如何同时发送json格式的问题和选项呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:57:00.607

将整个对象传递给 CJSON::encode，例如：

```
echo CJSON::encode($record); 
```

如果您想要特定元素，请作为数组传递，例如：

```
echo CJSON::encode(array('answer'=>$record->answer, 'question'=>$record->question)); 
```

在您的 javascript 中，您可以将元素作为 javascript 对象访问，例如`data['answer']`或类似的东西

# jquery - 文本上的 Jquery 正则表达式

> ID：13854552
> 
> 赞同：-1
> 
> 时间：2012-12-13T06:52:36.727
> 
> 标签：jquery, regex

我正在尝试使用 jquery 将一段文本拆分成句子。但是，我遇到了一些句子会被错误拆分的情况。

如下案例

我的答案是 5.6 个答案是错误的。

鉴于上述情况，如果没有空格，则不能拆分两个句子。

目前我这样做的方式只是查找期间的索引，这不起作用。有没有办法使用正则表达式匹配方法来做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:59:41.067

句子拆分是一个充满异常的问题。考虑一下：

> 对脾气暴躁的先生来说，那是一段黑暗时期，他被恰当地打了个勾。

大多数人寻找后面跟着一些空格的句点，而不是前面一些已知是首字母缩略词的特殊单词，如`Mr`.

```
(?<!Mr|Mrs|Dr)\.\s+ 
```

然后`split`在这个。

即使这也不是那么好，因为它不考虑随机首字母，所以`James T. Kirk`会打败它。如果您不允许这样做（`(?<!Mr|Mrs|^[A-Z]|\s[A-Z])`在后面），那么您将无法阻止以单个字母 ( `Look at exhibit B.`) 结尾的句子。

难的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:58:27.527

您可以检查`'.'`空格。像这样：

```
var paragraph = 'se tenc one. se tenc two. se tenc 5.6 one. ';
var sentenses = paragraph.split(/\.[ ]+/g); 
alert(sentenses);
```

它会显示`se tenc one,se tenc two,se tenc 5.6 one,`。

现在您可以添加其他句尾字符，例如`'!?;'`.

```
var paragraph = 'se tenc one. se tenc two. se tenc 5.6 one. ';
var sentenses = paragraph.split(/[\.!?;][ ]+/g); 
alert(sentenses);
```

# sql - 在postgresql中显示表的唯一属性和总值

> ID：13854556
> 
> 赞同：0
> 
> 时间：2012-12-13T06:52:53.197
> 
> 标签：sql, postgresql

我有一张表，其中包含 stamp_type 和 amount 列，如下所示

```
 stamp_type                          | amount
--------------------------------------------------------------+--------
 GENERAL STAMP                                                |  11000
 GENERAL STAMP                                                |  25000
 COURT FEE STAMP                                              |   9800
 SPECIAL ADHESIVE                                             | 721000
 GENERAL STAMP                                                | 125000
 COURT FEE STAMP                                              |  21000 
```

现在我想显示如下：

```
 stamp_type                                                    | amount
    GENERAL STAMP                                                   161000
    COURT FEE STAMP                                                 30800
    SPECIAL ADHESIVE                                                721000

TOTAL:912800 
```

我无法显示唯一值。任何人都可以给我建议的查询。我尝试使用 Distinct 但效果很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:09:44.123

```
select * from 
(
select  0 as srt, stamp_type, sum(amount) as SumAmount from t group by stamp_type
union 
select 1 as srt, 'Total' as stamp_type, sum(amount) as SumAmount from t 
) b order by srt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:06:06.397

试试这个代码::

```
 select stamp_type, sum(amount) amount
    from tbl
    group by stamp_type
 union
 select 'Total:' stamp_type,sum(amount) amount
 from tbl; 
```

# asp.net - Razor html编码不起作用

> ID：13854558
> 
> 赞同：0
> 
> 时间：2012-12-13T06:53:06.253
> 
> 标签：asp.net, asp.net-mvc-3, razor

```
@using MvcMusicStore.Models;
@model IEnumerable<Album>

@{
ViewBag.Title = "List2";
string hola = "Test <script>alert('bip')</script>";

}

 <h2>@@List2</h2>
 <span>@hola</span>

 <ul>
  @foreach (Album a in Model )
   {
<li>@a.Title,@a.Tipo</li>

}

</ul> 
```

我已经读过剃须刀自动对字符串进行html编码，但是在我看来，上面的代码我仍然可以按原样获得字符串，而无需任何编码。

顺便说一句，我在本地主机上运行，​​以防它以任何方式影响。

提前致谢

更新：

感谢您对 Codo 的特别回答。问题是我只是查看打印在页面上的文本，而不是查看反映编码的页面源。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:54:42.277

我已将测试用例简化为相关部分：

```
@{
  string hola = "Test <script>alert('bip')</script>";
}

<span>@hola</span> 
```

执行时，它会生成以下 HTML 代码（查看源 HTML 时）：

```
<span>Test &lt;script&gt;alert(&#39;bip&#39;)&lt;/script&gt;</span> 
```

在浏览器中，它显示：

> 测试 <script>alert('bip')</script>

它不会将其作为 Javascript 代码执行，也不会显示警告框。

所以我会说它作为广告工作并正确编码 HTML。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-13T07:37:44.177

我在这里看不到问题：

```
<span>@Html.Raw(hola)</span>
<br />
<span>@hola</span> 
```

结果在浏览器中可见：

```
Test 
Test <script>alert('bip')</script> 
```

并且是“警报弹出”说bip。

注意：这不是您期待的答案，请更详细地解释您的问题。

# windows-7 - Windows Phone 7上的requirejs

> ID：13854559
> 
> 赞同：0
> 
> 时间：2012-12-13T06:53:16.170
> 
> 标签：windows-7, requirejs

所以我之前问了一个关于带有骨干网和 jquery 的 windows phone 7 和 require 的问题。

我继续对此进行调查并将其剥离到最低限度

和刚刚拥有的索引页面

```
 <script data-main="js/main" src="js/vendor/require/requireNew.js"></script> 
```

然后是一个只有一个 jQuery 路径的 main.js

```
require.config({
//path mappings for module names not found directly under baseUrl
paths: {
    jquery:     'vendor/jqm/jquery_1.7_min'
}

});

alert('why');

$(document).ready(function() {
  alert('DOM IS READY ');
}); 
```

在 Windows 7 中，它会显示警报原因 - 但这里没有 DOM ......

它将在包括 ie7 在内的所有其他浏览器上执行此操作！

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T08:40:41.867

不确定您是否使用 Phonegap，如果不是，您应该使用（或等效框架）。

如果您按照此处的说明进行操作，请在此处[输入链接描述](http://docs.phonegap.com/en/2.9.0/guide_getting-started_windows-phone-7_index.md.html#Windows%20Phone%207%20Platform%20Guide)

当您查看生成的 index.js 时，您将能够构建一个默认的 phonegap WP7 应用程序

```
var app = {
    // Application Constructor
    initialize: function() {
        this.bindEvents();
    },
    // Bind Event Listeners
    //
    // Bind any events that are required on startup. Common events are:
    // `load`, `deviceready`, `offline`, and `online`.
    bindEvents: function() {
        document.addEventListener('deviceready', this.onDeviceReady, false);
    },
    // deviceready Event Handler
    //
    // The scope of `this` is the event. In order to call the `receivedEvent`
    // function, we must explicity call `app.receivedEvent(...);`
    onDeviceReady: function() {
        app.receivedEvent('deviceready');
    },
    // Update DOM on a Received Event
    receivedEvent: function(id) {
        var parentElement = document.getElementById(id);
        var listeningElement = parentElement.querySelector('.listening');
        var receivedElement = parentElement.querySelector('.received');

        listeningElement.setAttribute('style', 'display:none;');
        receivedElement.setAttribute('style', 'display:block;');

        console.log('Received Event: ' + id);
    }
}; 
```

在移动设备上有点复杂，因为您首先必须等待“设备就绪”事件才能获得“dom 就绪”事件

# c# - 单击搜索后 - 选择的值被重置，而不是存储

> ID：13854560
> 
> 赞同：0
> 
> 时间：2012-12-13T06:53:18.357
> 
> 标签：c#, asp.net

我不明白单击“搜索”后如何实现保存所选参数的逻辑

有aspx文件：

```
<form class="search_css" runat="server">
    <div class="search_div_search_box">
         <table class="filter_component_css">
              <tr>
                  <td>miap</td>
                  <td><asp:TextBox CssClass="search_format" ID="miap_textbox" runat="server"></asp:TextBox></td>
              </tr>
              <tr>
                   <td>purchase order</td>
                   <td><asp:TextBox CssClass="search_format" ID="po_textbox" runat="server"></asp:TextBox></td>
              </tr>
              <tr>
                   <td>material desc</td>
                   <td><asp:TextBox CssClass="search_format" ID="material_desc_textbox" runat="server"></asp:TextBox></td>
              </tr>
              <tr>
                   <td>supplier</td>
                   <td><asp:TextBox CssClass="search_format" ID="supplier_textbox" runat="server"></asp:TextBox></td>
              </tr>
              <tr>
                   <td>manufacturer</td>
                   <td><asp:TextBox CssClass="search_format" ID="manufacturer_textbox" runat="server"></asp:TextBox></td>
              </tr>
              <tr>
                   <td>spare parts</td>
                   <td><asp:CheckBox CssClass="search_format" ID="parts_checkbox" runat="server" OnCheckedChanged="spareParts_Checked" ViewStateMode="Enabled"/></td>
              </tr>
              <tr>
                   <td>first fills</td>
                   <td><asp:CheckBox CssClass="search_format" ID="fills_checkbox" runat="server" OnCheckedChanged="firstFills_Checked" ViewStateMode="Enabled"/></td>
              </tr>
              <tr><td>special tools</td>              
                  <td><asp:Checkbox CssClass="search_format" ID="tools_checkbox" runat="server" OnCheckedChanged="specialTools_Checked" ViewStateMode="Enabled"/>
                  </td>
              </tr>
              <tr>
                  <td colspan="2">
                      <asp:Button ID="buttonReset"  CssClass="filter_component_css_3" runat="server" Text="Reset" OnClick="submitResetClick"/>
                      <asp:Button ID="buttonSearch"  CssClass="filter_component_css_3" runat="server" Text="Search" OnClick="submitSearchClick"/>
                  </td>
              </tr>
         </table>
    </div>
</form> 
```

c#类：

```
<script runat="server">
    //spare parts variable 
    int sp_id=0; 

    //first fills variable 
    int ff_id=0;

    //special tools variable 
    int st_id=0;

    void spareParts_Checked(Object sender, EventArgs e)
    {
        if (parts_checkbox.Checked)
        {
            sp_id = 1;
        }
    }

    void firstFills_Checked(Object sender, EventArgs e)
    {
        if (fills_checkbox.Checked)
        {
            ff_id = 1;
        }
    }

    void specialTools_Checked(Object sender, EventArgs e)
    {
         if (tools_checkbox.Checked)
         {
             st_id = 1;
         }
    }

    protected void submitSearchClick(object sender, EventArgs e)
    {
         ViewState.Add("flag", true);
         ViewState.Add("sp_id", sp_id);
         ViewState.Add("ff_id", ff_id);
         ViewState.Add("st_id", st_id);

         GridViewS.DataSource = SqlDataSource_Search;

         Response.Write("miap like '%" + miap_textbox.Text + "%' and pocode like '%" + po_textbox.Text + "%' and materialdescription like '%" + material_desc_textbox.Text + "%' and suppliername like '%" + supplier_textbox.Text + "%' and manufacturername like '%" + manufacturer_textbox.Text
                                + "%' and spareparts =" + sp_id + " and firstfills=" + ff_id + " and specialtools =" + st_id + "");

         SqlDataSource_Search.FilterExpression = "miap like '%" + miap_textbox.Text + "%' and pocode like '%" + po_textbox.Text + "%' and materialdescription like '%" + material_desc_textbox.Text + "%' and suppliername like '%" + supplier_textbox.Text + "%' and manufacturername like '%" + manufacturer_textbox.Text
                                + "%' and spareparts =" +sp_id+ " and firstfills=" +ff_id+ " and specialtools =" + st_id + "";

         GridViewS.DataBind();

    }
</script> 
```

例如，如果我选中 3 个复选框 - 备件、首次填充、特殊工具 - 单击“搜索”> 响应写入结果：... 和备件 =1 和首次填充 =1 和特殊工具 =1

如果在那之后我取消选中仅第一次填充 - 单击“搜索”> ... 和备件 =0 和 firstfills=0 和 specialtools =0

**我需要的结果：** ... 和备件 =1 和 firstfills=0 和 specialtools =1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:41:03.987

改用 CheckBoxList 并根据您的要求进行调整：

**aspx**

```
<asp:CheckBoxList ID="chklBidType" runat="server">
 <asp:ListItem Text="spare parts" Value="1" />
 <asp:ListItem Text="first fills" Value="2" />
 <asp:ListItem Text="special tools" Value="3" />
</asp:CheckBoxList> 
```

**CS**

```
protected void Button1_Click(object sender, EventArgs e) 
{
 string strBidType = "";
 foreach(ListItem cBox in chklBidType.Items) 
 {
   if(cBox.Selected) 
   {
    strBidType += cBox.Value + " / ";
   }
 }
 Response.Write(strBidType);
} 
```

# wpf - 如何从 ViewBase 中的不同程序集访问动态资源

> ID：13854564
> 
> 赞同：0
> 
> 时间：2012-12-13T06:53:36.340
> 
> 标签：wpf, xaml, resources, .net-assembly, dynamicresource

我正在使用一个 Xaml 文件，该文件是从 ViewBase 派生的自定义视图，并且我想访问位于不同程序集中的 DynamicResource。我已经看到可以使用类似的东西：

```
<Application.Resources>
    <ResourceDictionary
    Source="/mylib;Resources/MyStyleDictionary.xaml" />
</Application.Resources> 
```

但是，我正在处理一个类似于以下内容的 xaml 文件：

```
<myLib:ViewBase> 
    <Grid>
        <Button>
            Style="{DynamicResource MyButtonStyle}" // I want this style to come from a different assembly
        </Button>
    </Grid>
 </myLib:ViewBase> 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T14:10:17.273

了解动态资源和静态资源之间的区别很重要。[WPF中的StaticResource和DynamicResource有什么区别？](https://stackoverflow.com/questions/200839/whats-the-difference-between-staticresource-and-dynamicresource-in-wpf)

但是要回答这个问题：

```
<Application.Resources>
    <ResourceDictionary>
        <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="/SomeOtherAssembly;Resources/SomeOtherDictionaryWithMyButtonStyleKey.xaml" />
            <ResourceDictionary Source="/mylib;Resources/MyStyleDictionary.xaml" />
        </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
</Application.Resources> 
```

资源被动态引用，因此在 MyStyleDictionary.xaml 合并之前合并 SomeOtherDictionaryWithMyButtonStyleKey.xaml 应该可以工作。

# websphere - IBM Websphere 中的会话超时设置

> ID：13854566
> 
> 赞同：2
> 
> 时间：2012-12-13T06:53:39.010
> 
> 标签：websphere, session-timeout

会话超时后是否可以将用户带到自定义网页？在 websphere 中设置的参数是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T06:57:50.507

我不知道 WAS 中的此类设置。

我认为你最好的机会是实现一个[过滤器](http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html)来检查会话的有效性，如果它是有效的，它将重定向或继续链。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T08:33:23.000

您必须从您的代码中进行重定向。

例如，在 servlet`request.getSession(false)`返回 null 时，将请求重定向到登录页面。

# .net - MEF 构造函数中的 InheritedExport 等属性

> ID：13854568
> 
> 赞同：1
> 
> 时间：2012-12-13T06:53:43.917
> 
> 标签：.net, dependencies, mef, composition

我正在开发一个开放式应用程序，我是 MEF 的新手。我需要从派生类中完全隐藏 MEF。所以这是我的场景。

我有一个 BaseAssembly

```
public class ListContainer
{
    [ImportMany(typeof(IBase))]
    public List<IBase> MyObjects { get; set; }

    public void AssembleDriverComponents()
{
     .... Some code to create catalogue..
     //Crete the composition container
        var container = new CompositionContainer(aggregateCatalog);

        // Composable parts are created here i.e. the Import and Export components assembles here
        container.ComposeParts(this);
}
}

 [InheritedExport(typeof(IBase))]
public abstract class Base : IBase
{
    private IInfoBase infoBase;

    //This is something which I want to do. If I have a derived class from Base. 
      Then It does not need to use ImportingConstructor.
    [ImportingConstructor()]
    public Base(InfoBase nfoBase)
    {
        this.infoBase = infoBase;
    }
}

[InheritedExport(typeof(IInfoBase))]
public interface IInfoBase
{
    string Category { get; set; }
}

public class InfoBase : IInfoBase
{

    public string Category
    {
        get;
        set;
    }
} 
```

其他组件将参考基础组件。

ReferenceAssembly 将有

```
public class Derived : Base
{
    public Derived(BaseInfo info)
        : base(info)
    {
        info.Category = "CategoryA";
    }
} 
```

在这种情况下，MEF 不会为派生对象创建对象。

总之，我还需要像 InheritedExport 这样的 ImportingConstructor 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T00:50:46.723

您可以使用 MEF2 执行此操作。MEF2 引入了[基于约定的编程模型](http://msdn.microsoft.com/en-us/library/hh925579.aspx)，它可以替代或补充“属性化编程模型”。

对于接口`IBase`：

```
public interface IBase { } 
```

抽象基类`Base`：

```
[InheritedExport(typeof(IBase))]
public abstract class Base : IBase
{
    private IInfoBase infoBase;

    //No ImportingConstructorAttribute. This will be set with conventions.
    public Base(IInfoBase infoBase)
    {
        this.infoBase = infoBase;
    }
} 
```

几个`Base`实现：

```
public class Derived : Base
{        
    public Derived(IInfoBase info)
        : base(info)
    {
        info.Category = "CategoryA";
    }
}

public class AnotherDerived : Base
{
    public AnotherDerived(IInfoBase info)
        : base(info)
    {
        info.Category = "CategoryB";
    }
} 
```

info接口不变：

```
[InheritedExport(typeof(IInfoBase))]    
public interface IInfoBase
{
    string Category { get; set; }
} 
```

添加了 PartCreationPolicyAttribute，以便导出的部件不会在 Base 的实现之间共享。不过这没关系。

```
[PartCreationPolicy(CreationPolicy.NonShared)]
public class InfoBase : IInfoBase
{
    public string Category
    {
        get;
        set;
    }
} 
```

最后是`ListContainer`：

```
public class ListContainer
{
    [ImportMany(typeof(IBase))]
    public List<IBase> MyObjects { get; set; }

    public void AssembleDriverComponents()
    {
        var regBuilder = new RegistrationBuilder();
        //SelectConstructor is the equivalent of the ImportingConstructorAttribute.
        //Note that my approach here is very crude. Simply use the first constructor.
        regBuilder.ForTypesDerivedFrom<Base>().SelectConstructor(ctors => ctors.First());

        //Only an AssemblyCatalog for this example. Note that the registration 
        //builder is used here.
        var catalog = new AssemblyCatalog(Assembly.GetExecutingAssembly(), regBuilder);
        //Crete the composition container
        var container = new CompositionContainer(catalog);

        // Composable parts are created here i.e. the Import and Export components assembles here
        container.SatisfyImportsOnce(this);
        System.Diagnostics.Debug.Assert(this.MyObjects.Count == 2);
    }
} 
```

有关 MEF 约定的更多信息： [MEF 2 文章系列](http://blogs.microsoft.co.il/blogs/bnaya/archive/2013/01/06/mef-2-0-toc.aspx)和MEF 2[中基于约定的部件注册入门](http://blogs.msdn.com/b/bclteam/archive/2011/11/01/getting-started-with-convention-based-part-registration-in-mef-version-2.aspx)

# asp.net - runat="server" 时出现 iframe 错误

> ID：13854573
> 
> 赞同：4
> 
> 时间：2012-12-13T06:54:14.733
> 
> 标签：asp.net

我的一个网页中有一个 iframe，其中`runat="server"`一个 javascript 函数分配给了 onload 事件。
当页面呈现时，它会给出一个错误，因为
`"CS1012: Too many characters in character literal"`
当我删除 runat="server" 属性时它工作得很好，但我需要 iframe 来运行at="server"。
我怎样才能解决这个问题？

```
<iframe id='contentFrame' name='contentFrame' 
   runat="server" width="500"
   onload="resizeFrame(document.getElementById('contentFrame'))">
 </iframe> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T07:26:32.400

当您使用*runat="server"* - 'onload' 开始被解析为 Html 服务器控件的 C# 事件，例如 Button.Click。您应该在控件/页面的类中设置**C# 事件处理程序方法**的名称（不是 JAVASCRIPT）。此代码将起作用：

```
<script runat="server">
    void contentFrame_onLoadServer(object sender, EventArgs e)
    {
        if (!IsPostBack)
            contentFrame.Attributes.Add("onLoad", "contentFrame_onLoadClient();");
    }
</script>
<script type="text/javascript">
    function contentFrame_onLoadClient() {
        resizeFrame(document.getElementById('<%=contentFrame.ClientID %>'));
    }
    function resizeFrame(element) {
        alert(element); // do your logic here
    }
</script>
<iframe 
    runat="server" 
    id='contentFrame' 
    name='contentFrame' 
    width="500" 
    onload="contentFrame_onLoadServer"
    /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:48:42.390

您不能“只”为客户端代码添加 onload，因为它被 .NET 服务器端 onload “占用”。您需要通过代码将其连接起来（并且我增强了 @Philipp 的代码）：

```
<script runat="server">
void onIframeLoad(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        contentFrame.Attributes.Add("onload", "resizeFrame(document.getElementById('contentFrame'));");
    }
}
</script>
<iframe id='contentFrame' 
    name='contentFrame' 
    runat="server" width="500" 
    onload="onIframeLoad"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:12:43.570

您不能`document.getElementById('contentFrame')`在 onload 方法中写入。把它写在你的 javascript 函数中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T07:41:23.673

runat="server" 更改 IFrame 的 ID。

而不是通过**“document.getElementById（'contentFrame'）** ”在javascript中传递**“this” 。**

或者你也可以通过

```
document.getElementById('<%= contentFrame.ClientID%>') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T06:59:05.397

用双引号替换单引号：

```
< iframe id="contentFrame" name="contentFrame" runat="server" width="500" onload="resizeFrame(document.getElementById('contentFrame'))"> 
```

# php - 如何在 Drupal 7 默认用户注册表单中实现多步骤

> ID：13854574
> 
> 赞同：3
> 
> 时间：2012-12-13T06:54:28.087
> 
> 标签：php, drupal, drupal-7, user-registration, drupal-forms

我需要在 Drupal 7 中创建一个用户注册表单。我的要求如下：-

1.  我想使用默认的 Drupal 7 用户注册表单，即 admin/config/people/accounts

2.  当用户在用户登录表单中单击“创建新帐户”时，表单必须出现在弹出窗口/模式中

3.  表格应该是多步的，即填写表格需要 3/4 步。

4.  自定义表单，使用户名、密码和电子邮件出现在表单的最后一步。

请让我知道是否可以在 Drupal 7 默认用户注册表单中以及如何？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T09:27:18.790

以下是一些可供参考的参考资料：

*   [一步一步的教程](http://grasmash.com/article/building-multistep-registration-form-drupal-7)。

*   [克莱夫的这个真棒回答](https://stackoverflow.com/a/7814517/863380)。

*   此外，考虑使用[Profile2](http://drupal.org/project/profile2)和[Profile2 注册路径](http://drupal.org/project/profile2_regpath)模块来更好地自定义注册表单。

# ios - 如何在 NSArray 的第一个索引处添加对象

> ID：13854576
> 
> 赞同：20
> 
> 时间：2012-12-13T06:54:38.180
> 
> 标签：ios, objective-c, nsarray

我想在 NSARRAY 的第一个索引处添加 @"ALL ITEMS" 对象。

最初，Array 有 10 个对象。添加后，该数组应包含 11 个对象。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-12-13T06:58:53.930

您无法修改`NSArray`以进行插入和添加。你需要使用`NSMutableArray`. 如果要在指定索引处插入对象

`[array1 insertObject:@"ALL ITEMS" atIndex:0];`

在`Swift 2.0`

```
array1.insertObject("ALL ITEMS", atIndex: 0) 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-12-13T07:18:03.990

首先，NSArray 在初始化时需要填充。所以如果你想在数组中添加一些对象，那么你必须使用 NSMutableArray。希望下面的代码能给你一些想法和解决方案。

```
NSArray *array = [[NSArray alloc] initWithObjects:@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8",@"9",@"0", nil];
NSMutableArray *mutableArray = [[NSMutableArray alloc] init];
[mutableArray addObject:@"ALL ITEMS"];
[mutableArray addObjectsFromArray:array]; 
```

addObject 方法将插入对象作为 NSMutableArray 的最后一个元素。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2014-05-15T21:29:02.157

我知道对于 insertObject 我们有六个答案，一个用于创建 (n) NSMutableArray 数组然后调用 addObject，但也有这个：

```
myArray = [@[@"ALL ITEMS"] arrayByAddingObjectsFromArray:myArray]; 
```

不过我也没有介绍过。

* * *

## 回答 #4

> 赞同：16
> 
> 时间：2012-12-13T06:56:37.040

看一下 NSMutableArray 类的 insertObject:atIndex: 方法。要将对象添加到数组的前面，使用 0 作为索引：

```
[myMutableArray insertObject:myObject atIndex:0]; 
```

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2012-12-13T07:13:14.593

[NSArray](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html)是不可变数组，您无法在运行时对其进行修改。使用[NSMutableArray](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSMutableArray_Class/Reference/Reference.html#//apple_ref/occ/cl/NSMutableArray)

```
[array insertObject:@"YourObject" atIndex:0]; 
```

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2012-12-13T06:58:20.017

NSArray 是不可变的，但您可以使用 insertObject: NSMutableArray 类的方法

```
[array insertObject:@"all items" atIndex:0]; 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-12-13T07:46:50.907

由于您的数组中已经有 10 个对象，并且您需要在索引 11 处添加另一个项目...所以，您必须尝试这个...希望这会有所帮助..

```
NSMutableArray *yourArray = [[NSMutableArray alloc] initWithCapacity:11];
[yourArray insertObject:@"All Items" atIndex:0]; 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-12-13T06:58:08.893

NSArray 不能动态解决您必须使用 NSMutableArray 的目的。参考以下方法

```
- (void)insertObject:(id)anObject atIndex:(NSUInteger)index; 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-05-25T14:11:34.620

苹果文件说**NSMutableArray**方法

```
 [temp insertObject:@"all" atIndex:0]; 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2017-09-27T09:31:14.873

斯威夫特 3：

```
func addObject(){
    var arrayName:[String] = ["Name1", "Name2", "Name3"]
    arrayName.insert("Name0", at: 0)
    print("---> ",arrayName)
}

Output:
---> ["Name0","Name1", "Name2", "Name3"] 
```

# javascript - 设置 AJAX 回调操作的最短等待时间

> ID：13854578
> 
> 赞同：5
> 
> 时间：2012-12-13T06:54:38.993
> 
> 标签：javascript, jquery, jquery-callback

我有一个内置在 HTML 中的应用程序，它使用 $.get() 在模态中加载全屏

我有一个加载屏幕，当有人单击图标加载应用程序时触发。

我希望加载屏幕至少显示 2 秒，然后再清除并显示应用程序。

是否有一种好的、安全的方法来启动一个运行 2000 毫秒的计时器，检查由回调填充的变量以查看它是否为空，然后仅在加载变量时继续执行特定操作？

我知道 while 循环可以解决问题，但可能会在内容缓慢的一天加载之前循环 1000 次，这似乎是一种低效的做事方式。

**回答**

```
$('#testApp').click(function() {
    var twoSecMin = $.Deferred();
    setTimeout(function () { twoSecMin.resolve(); }, 2000);
    $('#appModal').fadeIn(400);
    $.when($.get("/usm/portal/_layouts/monkeysphere/test.aspx"),twoSecMin).then(function (data) {
        $('#appContainer').html(data[0]);
        $('#appContainer').show();
        $('#appModal').fadeOut(200);
    });
}); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T07:11:38.530

如果您使用的是最新版本的 jQuery（1.5 或更高版本），您可以创建一个[`$.Deferred`](http://api.jquery.com/category/deferred-object/)并[`resolve`](http://api.jquery.com/deferred.resolve/)设置一个固定的超时时间：

```
var twoSecMin = $.Deferred();
setTimeout(function () { twoSecMin.resolve(); }, 2000); 
```

另外，保存`jqXHR`返回的 by `$.get`，它是一个扩展`Deferred`对象：

```
var ajaxReq = $.get("/usm/test.aspx", ...); 
```

然后[等待两者](http://api.jquery.com/jQuery.when/)：

```
$.when(twoSecMin, ajaxReq).then(function (_, res) {
    // ready...

    var data = res[0];
    // ...
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T06:56:23.967

您可能只使用 a`setTimeout(fn, 2e3)`来执行此操作。

要测试您的变量是否为空，您可以使用`yourVariable === null`.

# xml - 检索 XML 树层次结构中的默认值

> ID：13854582
> 
> 赞同：0
> 
> 时间：2012-12-13T06:54:53.197
> 
> 标签：xml, xml-parsing, xsd

是否可以在 XML 层次结构中设置和检索默认值。

```
 <commission-rate>
        <region-NA> <!-- can we set a default at this level, if userId is NOT 123, it should return this default -->
            <userId-123>
                9
            </userId-123>
        </region-NA>
    </commission-rate> 
```

例如，如果我想检索 Commission-rate.region-NA，它应该返回默认值（比如 5），但 Commission-rate.region-NA.userId-123 应该将 9 作为值。

此外，是否使用推荐的 XML 标签，或者我应该使用命名属性（例如

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:50:39.117

*对于你的第一个问题：*

XML 文档本身不包含任何默认值。它只包含文档包含的值。其他一切都是未定义的。

*对于你的第二个问题：*

请参阅：[您应该如何构建您的 xml 文件？](https://stackoverflow.com/q/521454/367456)

# c# - 如何在水晶报表中删除表格中的行之间的距离

> ID：13854583
> 
> 赞同：0
> 
> 时间：2012-12-13T06:54:58.553
> 
> 标签：c#, winforms, crystal-reports, crystal-reports-2008

我在水晶报告的第 3 节中使用了 2 个框。但在运行时，行之间，显示空间。！ ![在此处输入图像描述](../Images/a787df2eabf878217fd8d05ded27009a.png)

box1 中的标题和 box2 中的结果信息。在 box2 中，对于每一行，行之间的空间。如何在水晶报表中删除表格中的行之间的距离？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T06:59:22.607

在报告中做一件事：右键单击部分并抑制或设置适合部分选项。你的报告应该是这样的。 ![报告](../Images/71fd0d2cec3d1e0eea7aa0905e1090a4.png)

# java - 数据库错误：供应商 20

> ID：13854585
> 
> 赞同：0
> 
> 时间：2012-12-13T06:55:04.563
> 
> 标签：java, oracle, jdbc

当我连接数据库时，它显示以下错误

```
An error was encountered performing the requested operation:
The Network Adapter could not establish the connection
Vendor code 20 
```

我认为这是由于我的类路径有问题我试图修复它但没有成功我的类路径是：

```
E:\app\JamesPJ\product\11.2.0\dbhome_1\jlib\orai18n.jar;E:\app\JamesPJ\product\11.2.0\dbhome_1\jdbc\lib\ojdc6_g.jar;E:\app\JamesPJ\product\11.2.0\dbhome_1\BIN;C:\Program Files\Java\jdk1.7.0_09\bin;C:\Users\JamesPJ\Documents;E:\app\JamesPJ\product\11.2.0\dbhome_1\jdbc\lib;E:\app\JamesPJ\product\11.2.0\dbhome_1\jlib;E:\app\JamesPJ\product\11.2.0\dbhome_1\jdbc\lib\ojdbc6.jar;E:\app\JamesPJ\product\11.2.0\dbhome_1\oc4j\jdbc\lib\orai18n.jar;E:\app\JamesPJ\product\11.2.0\dbhome_1\oc4j\jdbc\lib\ocrs12.jar 
```

如果有人知道解决方案，请帮助我

提前致谢.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:12:17.953

如果您使用的是 oracle，请确保已启动 Oracle 侦听器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T06:57:34.037

> 网络适​​配器无法建立连接

我认为你有网络相关的问题。因此，至少您错误地指定了数据库连接端点或数据库已关闭。

# events - 在 extjs 3.4 组合中禁用 ENTER 键事件

> ID：13854588
> 
> 赞同：1
> 
> 时间：2012-12-13T06:55:22.923
> 
> 标签：events, extjs, combobox, enter

我正在使用 extjs 3.4。我需要禁用组合的 ENTER 键事件。我尝试使用以下代码但无法成功。请帮忙。

```
var combo = new Ext.form.comboBox({
  id: 'id',
  enableKeyEvents: true,
  store: store,
  triggerAction: 'all',
  listeners: {
   keydown: function(combo, e) {
     var key = e.getKey();
     if (key == e.ENTER) {
       e.stopEvent();
     }
   }
  }
}); 
```

以上不起作用。仍然输入事件适用于组合。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T08:34:39.830

您好，您可以简单地使用以下...

```
 onkeypress="if(event.keyCode==13){return false;}" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:04:08.743

查看 ext-all-debug.js，您应该能够在创建组合框后覆盖 keyNav 的输入处理程序：

```
listeners: {
  render: function() {
    this.keyNav.enter = function() { ... };
  }
} 
```

# sql-server-2008 - 查询适用于 sql server management studio 2008，但不适用于 delphi

> ID：13854592
> 
> 赞同：4
> 
> 时间：2012-12-13T06:55:35.823
> 
> 标签：sql-server-2008, delphi

我正在开发一个程序来使用 sql server 更新 delphi 7 中表中的某些字段。程序是这样的：

```
sql := 'UPDATE tb_dt_contract SET '
      +' id_schedule = '+quotedstr(label_id_schedule.Caption)
      +',start_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_start.Date))
      +',finish_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_finish.Date))
      +',contract_location = '+quotedstr(uppercase(Edit_location.Text))
      +',sign_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_sign.Date))
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL; 
```

当我运行程序时，它给了我一个错误：'=''附近的语法不正确。但是当我使用 showmessage 查看查询并在 sql server management 2008 中运行它时，它工作正常。

然后我尝试将查询拆分为如下部分：

```
SQL := 'UPDATE tb_dt_contract SET '
      +' id_schedule = '+QUOTEDSTR(label_id_schedule.CAPTION)
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL;

SQL := 'UPDATE tb_dt_contract SET '
      +' start_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_start.Date))
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL;

SQL := 'UPDATE tb_dt_contract SET '
      +' finish_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_finish.Date))
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL;

SQL := 'UPDATE tb_dt_contract SET '
      +' contract_location = '+quotedstr(uppercase(edit_location.Text))
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL;

SQL := 'UPDATE tb_dt_contract SET '
      +' sign_date = '+quotedstr(formatdatetime('mm/dd/yyyy',DateTime_sign.Date))
      +' WHERE id = '+quotedstr(label_id.Caption);
ADOQuery1.Close;
ADOQuery1.SQL.Text := sql;
ADOQuery1.ExecSQL; 
```

然后我发现它只在更新日期类型字段时触发错误。我开发了其他程序来使用类似的查询更新不同的表，它工作正常。我尝试关闭项目并重新打开它，但它仍然给我那个错误消息。请告诉我我该怎么做..

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T07:08:43.747

为避免转换并创建独立于数据库的保存查询，您应该使用参数，如果多次使用，这也可以加快操作速度。

```
 Adoquery1.SQL.Text := 'UPDATE tb_dt_contract SET finish_date=:df where WHERE id =:id';
  // in some cases it may be necessary to add  the three comented lines
  //Adoquery1.Parameters.ParseSQL(Adoquery1.SQL.Text,true);
  //Adoquery1.Parameters.ParamByName('df').DataType := ftDateTime;
  //Adoquery1.Parameters.ParamByName('id').DataType := ftInteger;
  Adoquery1.Parameters.ParamByName('df').Value :=DateTime_finish.Date;
  Adoquery1.Parameters.ParamByName('ID').Value :=StrToInt(label_id.Caption);
  Adoquery1.ExecSQL; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-13T08:16:58.597

我想到了！（更像是，我的同事做了）

显然在用 datetostr 替换 FormatDateTime('mm/dd/yyyy' 并将 shortdateformat 设置为 'mm/dd/yyyy' 之后，查询工作正常。我想知道为什么会这样？我认为这些命令做同样的事情？

# arrays - Matlab：遍历数组并从一个值递增到下一个值

> ID：13854595
> 
> 赞同：1
> 
> 时间：2012-12-13T06:55:54.373
> 
> 标签：arrays, matlab, increment

我有一个数组：

```
step1 = [0,0;
         0,1;
         1,1;
         2,3;
         3,4;
         3,5;
         3,6;
         3,7;
         4,7;
         5,7;
         6,7;
         6,6;
         6,5;
         6,4;
         6,3;
         6,2;
         5,1]; 
```

我想单步执行这个数组并为从一行到另一行递增 0.1 的行和列创建新数组。这就是我所做的：

```
z=1;
u=length(step1);
step_b4X = zeros(u,1);
step_b4Y = zeros(u,1);
while z <= length(step1)
    step_b4X = step_presentX;
    step_presentX(z,1) = step1(z,1);
    step_b4Y = step_presentX;
    step_presentY(z,1) = step1(z,2);
    pathX = step_b4X:0.1:step_presentX;
    pathY = step_b4Y:0.1:step_presentY;
    z = z+1;
end 
```

我得到零。我想要 pathX = 0:0.1:0....pathY = 0:0.1:1 next pathX = 0:0.1:1....pathY = 1:0.1:1... 等等

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:13:15.053

如果你这样做

```
start:increment:end 
```

其中`start == end`，你会得到一个等于的标量`start`（这是合乎逻辑的）。

如果您希望每次迭代`pathX`都`pathY`具有相同的长度，则必须这样做：

```
z = 1;
while z <= length(step1)

    currentX = step(z,1);   nextX = step(z+1,1);
    currentY = step(z,2);   nextY = step(z+1,2);

    pathX = currentX : 0.1 : nextX;
    pathY = currentY : 0.1 : nextY;

    if numel(pathX) == 1
        pathX = repmat(pathX, numel(pathY),1); end
    if numel(pathY) == 1
        pathY = repmat(pathY, numel(pathX),1); end

    z = z+1;
end 
```

现在，您将在每次迭代中拥有正确的数组，您将直接使用或保存在`cell`-array 中以备后用。如果您想要一个大数组中的所有内容，请将其添加到循环的末尾：

```
 pathX_final = [pathX_final; pathX];
    pathY_final = [pathY_final; pathY]; 
```

当然，在循环之前将它们初始化为空。

或者（更清洁，可能更快），放弃整个循环并使用`interp1`：

```
x = step1(:,1);
y = step1(:,2);

xx = interp1(1:numel(x), x, 1:0.1:numel(x));
yy = interp1(1:numel(y), y, 1:0.1:numel(y)); 
```

# html - 将元素部分向右对齐

> ID：13854596
> 
> 赞同：0
> 
> 时间：2012-12-13T06:55:56.357
> 
> 标签：html, css

我想使用 div align="right" 对齐一些文本，但我不希望它一直向右。有什么方法可以指定我希望文本的正确程度。这似乎很简单，但我无法找到如何做到这一点。

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T06:57:52.403

用这个：

```
.divClass {
    padding-right: 50px;
    text-align: right;
} 
```

填充会将 div 内的所有内容向左推任何您想要的距离。您还可以指定 %, pt, em, in, cm...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T06:57:15.900

您可以`text-align: right`在 CSS 中和`padding-right: 30px`元素上进行设置，使其不会出现在元素的最右侧。

如果您不希望元素因填充而增长，则可以`box-sizing: border-box`在其上使用，以便填充包含在其宽度中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:33:23.220

要在 HTML 中自定义`div align = 'right'`标签，您可以在 HTML 代码中使用 CSS 类。所以，你可以试试这个：

```
 <html>
    <head>
    <style>
   p.first {

        padding-right: 100px;
        text-align:right;
        background-color: gray; 
        color:red;

     }
    </style>
    </head>
    <body>
    <h2>Embedding CSS Classes</h2>
    <p class="first">This is the p.first paragraph</p>
    <div align ="right">This isnot formatted Sentence</div>
    </body>
    </html> 
```

我希望你得到了你需要的东西！

# visual-studio-2012 - 使用多个解决方案文件和多个项目文件相互引用修改项目

> ID：13854600
> 
> 赞同：0
> 
> 时间：2012-12-13T06:56:08.443
> 
> 标签：visual-studio-2012, setup-project, solution

我有一个项目结构，如 -

```
proj_Main
    proj_A(directory) 
         somefile.cs(etc.)
         proj_A.csproj

    proj_B(dir)
         somefile.cs
         proj_B.csproj

    proj_C(dir)
         somefile.cs
         proj_C.csproj

    proj_D(dir)
         somefile.cs
         proj_D.csproj

    proj_Main(dir)
         other dirs etc.
         some.cs files
         proj_Main.csproj
         proj_Main.csproj.user
         proj_Main2010.csproj
         proj_Main2010.csproj.user
         proj_Main2010.v11.suo

    proj_A.sln
    proj_B.sln
    proj_C.sln
    proj_D.sln
    proj_Main.sln
    proj_Main2010.sln 
```

（里面其实有10多个解决方案，为了简单起见，我在上面描述了4个。）

在 VS 2012 中打开它时，我打开了 proj_Main2010.sln，它显示了其他链接的项目，在解决方案中打开它们。这个 proj_Main 从那些其他项目中引用其他项目的 dll。到目前为止还好。

现在我必须修改所有项目文件中的代码，但如果我这样做，之前引用的类和代码将停止工作，并引发各种错误 -

```
 Error 2   The type or namespace name 'XXXX' could not be found (are you missing a using directive or an assembly reference?) 
```

我不确定，如果这是描述场景的正确方式，我对此表示歉意。

我的问题是，我不确定我是否打开了正确的文件来处理此解决方案，或者我是否正在尝试安全地修改文件。

任何建议，将不胜感激。

ps我也有一个安装项目（但我猜它与部署一个在开发/重新开发时无用的应用程序有关）

# html - JSP 在链接中包含项目名称的前缀

> ID：13854601
> 
> 赞同：2
> 
> 时间：2012-12-13T06:56:16.573
> 
> 标签：html, jsp, tags

我在共享文件夹中有一个 html 文件（即，不在网络服务器位置），我必须使用 .js 将它包含在 jsp 中 `<jsp:include page="//TestFolder/Sample.html">`。运行应用程序时，页面上会出现以下错误：

```
The requested resource (/projectName//TestFolder/Sample.html) is not available 
```

此处应用程序名称 (/projectName) 以目标路径为前缀。如何摆脱应用程序名称以便html可以包含在jsp中？

任何澄清都将是可观的。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:03:35.057

Based on your comment, what you are trying to achieve is not possible with jsp inclued tag nor jsp include directive. This is because, at the end of the day, all JSPs become servlets. And a servlet with dependency outside of it's WAR (or any other packaging) would be quite tricky, now, wouldn't it?

I imagine, however, that you could create your own tag that would dynamically read a static HTML file and include it's contents in response. Just put into account that bypassing this limitation will put your application at risk of this HTML not being available unless you prepare your tag for that.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:39:34.067

该`jsp:include`操作只能在相同的 servlet 上下文中使用。它只接受相对 url（相对于页面或相对于应用程序）

# java - java脚本中的JSON对象操作

> ID：13854605
> 
> 赞同：0
> 
> 时间：2012-12-13T06:56:26.680
> 
> 标签：java, javascript, json

我在*jsp*文件中有*JSON*对象数据，我已通过超链接*onclick*方法将此数据传递给*javascript*函数。我在*javascript*函数中编写警报框，因此它显示得很好，但问题是我想提取*JSON*对象中的 url 并转换为数组。

 ****javascript*函数中的实际数据如下...

```
[Image{url='/images/HH/Images/US/NYC/NYC-MEL-1.jpg', description='Exterior', alt='null', sortOrder=1, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-9.jpg', description='Exterior', alt='null', sortOrder=1, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-11.jpg', description='Lobby', alt='null', sortOrder=4, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-5.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-6.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-7.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-8.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-10.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-3.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-2.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}, Image{url='/images/HH/Images/US/NYC/NYC-MEL-4.jpg', description='Guest Room', alt='null', sortOrder=34, externalUrl='null'}] 
```

上面的文本包含的`List`对象`Image`包含 urls 和 alt 以及描述等...

我需要解决方案`javascript`来迭代java脚本中的url并转换为数组..

请你能给我建议答案吗....

谢谢 Ram Prasad G 08527960397

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:08:04.853

*这不是一个有效的 JSON 字符串。*您将需要推出自己的解析方法来正确解析内容。

但是，您应该能够通过`JSON.parse(..)`在结果字符串上调用 a 之前执行以下操作将其转换为有效的 JSON。

1.  替换`"Image{"`为`"{"`
2.  将所有`"="`字符替换为`":"`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:03:54.257

我会为此目的使用 JQuery。你可以去：[http](http://api.jquery.com/jQuery.parseJSON/) ://api.jquery.com/jQuery.parseJSON/ 并且在迭代图像循环时，你可以对它们做任何你喜欢的事情（包括创建它们的数组）

**编辑**

此外，正如大多数人所建议的那样，您没有`JSON`在问题中提供格式。正如我所假设的，您有由`jsp`( `java`) 生成的数据，您可以首先在服务器端访问`POJO`to `JSON`，这将在客户端读取/解析`javascript`。

为了让服务器端为您生成 JSON，我会使用：Jackson。参见示例：[http ://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/](http://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/)***

# windows - Using cygwin and mingw together

> ID：13854617
> 
> 赞同：3
> 
> 时间：2012-12-13T06:56:59.433
> 
> 标签：windows, cygwin, mingw

*   I want to use **mingw** compiler and some mingw stuff from mingw-get
*   I want to use bash and unix tools that shipped with **cygwin**. Because MSYS has some deficiencies.
*   I also want to be able to "switch" from using cygwin-gcc to mingw one and back with same bash session if possible.

*   I have C:\cygwin and C:\mingw installed and working

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-06T14:45:02.230

The MinGW compiler is available as a Cygwin package. The MinGW-w64 compilers are also available as Cygwin packages. In this way you can use Cygwin for the Linux environment, but also compile executables that do not rely on the Cygwin dll.

I recommend uninstall MinGW completely, and start using Cygwin in this way.

# cookies - 如何为 Titanium 网络套接字 TCP 设置标头/cookie？

> ID：13854619
> 
> 赞同：0
> 
> 时间：2012-12-13T06:57:11.227
> 
> 标签：cookies, tcp, titanium, session-cookies, titanium-mobile

我正在尝试使用 Titanium.Network.Socket.TCP 从远程服务器下载图像文件。服务器需要header/cookies，如何设置cookies？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T13:49:10.207

在 HTTP 请求中，您可以使用方法**setRequestHeader**来包含您的标头信息。

例如：

```
xhr.setRequestHeader("X-Auth-Token", "foobar"); 
```

文档：[http ://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Network.HTTPClient-method-setRequestHeader](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Network.HTTPClient-method-setRequestHeader)

# android - 如何通过 USB 从无根的 Android 设备访问在 Win7 PC 上运行的 Web 服务？

> ID：13854626
> 
> 赞同：4
> 
> 时间：2012-12-13T06:57:32.623
> 
> 标签：android, web-services, usb

我有一个用例，我在 Android 设备上运行的应用程序需要与在 Win7 PC 上运行的 Web 服务进行通信。这是使用 Wi-Fi 成功实现的。但现在我需要使用 USB 连接来实现这一点，因为我们可能没有在客户处工作的 Wi-Fi。

Android 设备是无根的。我不能使用“反向网络共享应用程序”，因为它需要设备被植根。

以下链接有相同的问题，但没有任何答案：

[从 USB 连接的 Android 移动设备访问 PC 的本地主机](https://stackoverflow.com/questions/9887621/accessing-localhost-of-pc-from-usb-connected-android-mobile-device)

有人对此有答案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T17:49:43.437

I've done this before. Try this:

*   On your Android device enabled USB debugging

    *   Android 3.2 or older, you can find the option under Settings > Applications > Development.
    *   On Android 4.0 and newer, it's in Settings > Developer options.
*   On your Android device open the browser and visit `http://192.168.2.2` (this assumes your web services is on port 80)

# windows-phone-7 - 墓碑状态图块导航问题

> ID：13854628
> 
> 赞同：1
> 
> 时间：2012-12-13T06:57:47.087
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone-7.1.1

我的应用程序中的每个页面都有辅助磁贴。当我将我的应用程序切换到 Tombstone 状态时，它无法从辅助磁贴导航相应的页面。加载前一个页面的应用程序在停用之前打开。

这里是创建辅助磁贴的示例代码。

```
if (!app.TileExists("/requestcalls"))
{
 StandardTileData NewTileData = new StandardTileData
{
 BackgroundImage = new Uri("/Assets/Images/Tile.png", UriKind.Relative),
 Title = Request Calls",
 BackTitle = Request Calls",
 BackContent = "Add a new request", 
```

}; ShellTile.Create(new Uri("/requestcalls.xaml?", UriKind.Relative), NewTileData); }

# optimization - 哪个 scipy.optimize.minimize 对起始位置最不敏感？

> ID：13854632
> 
> 赞同：1
> 
> 时间：2012-12-13T06:57:58.413
> 
> 标签：optimization, numpy, scipy

我正在尝试使用其中一个[scipy minimizers](http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize)来最小化一个函数。不幸的是，我的函数有等值的平台，所以最小化者卡在那里。我想知道哪个 scipy 优化器对此最不敏感，为什么？

我知道我可以在随机位置启动多次，但我无法用我目前正在做的工作来做到这一点，并且必须开箱即用地使用这些最小化器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T10:20:51.030

将坐标的线性函数添加到您的函数中，为平坦区域提供一些非零但非常小的斜率。如果你的最小值/最大值在一个平坦区域，你需要决定选择平坦区域的哪一部分作为你的最终答案，所以你不妨偏向整个搜索。在达到最小值/最大值后，使用它作为起点重新运行优化，并且不增加偏差。

如果有办法确定搜索空间的边界，那么您可能会尝试大量的起始位置来统一采样搜索空间。

# java - Cassandra 在 OS X 上的服务器启动错误

> ID：13854638
> 
> 赞同：5
> 
> 时间：2012-12-13T06:58:16.893
> 
> 标签：java, macos, cassandra

我正在尝试在我的 OS X macbook 上设置 apache cassandra。我正在尝试测试 NoSql 数据库，我已经设置了 memcached 和 redis。但是对于 cassandra，我正在使用来自 oracle 的 jdk 1.7.0_09 我已按照安装说明进行操作，但是当我尝试启动服务器时，我从控制台得到了这个问题：

```
 `MacBook-Air-Urij:bin urijvoskresenskij$ ./cassandra -f
xss =  -ea -javaagent:./../lib/jamm-0.2.5.jar -XX:+UseThreadPriorities -XX:ThreadPriorityPolicy=42 -Xms1024M -Xmx1024M -Xmn200M -XX:+HeapDumpOnOutOfMemoryError
log4j:ERROR setFile(null,true) call failed.
java.io.FileNotFoundException: /var/log/cassandra/system.log (Permission denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:212)
    at java.io.FileOutputStream.<init>(FileOutputStream.java:136)
    at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)
    at org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)
    at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)
    at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)
    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)
    at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)
    at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)
    at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)
    at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)
    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)
    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:395)
    at org.apache.log4j.PropertyWatchdog.doOnChange(PropertyConfigurator.java:922)
    at org.apache.log4j.helpers.FileWatchdog.checkAndConfigure(FileWatchdog.java:89)
    at org.apache.log4j.helpers.FileWatchdog.<init>(FileWatchdog.java:58)
    at org.apache.log4j.PropertyWatchdog.<init>(PropertyConfigurator.java:914)
    at org.apache.log4j.PropertyConfigurator.configureAndWatch(PropertyConfigurator.java:461)
    at org.apache.cassandra.service.AbstractCassandraDaemon.initLog4j(AbstractCassandraDaemon.java:100)
    at org.apache.cassandra.thrift.CassandraDaemon.<clinit>(CassandraDaemon.java:61)
 INFO 17:40:17,717 Logging initialized
 INFO 17:40:17,720 JVM vendor/version: Java HotSpot(TM) 64-Bit Server VM/1.7.0_09
 INFO 17:40:17,720 Heap size: 1052770304/1052770304
 INFO 17:40:17,721 Classpath: ./../conf:./../build/classes/main:./../build/classes/thrift:./../lib/antlr-3.2.jar:./../lib/apache-cassandra-1.1.7.jar:./../lib/apache-cassandra-clientutil-1.1.7.jar:./../lib/apache-cassandra-thrift-1.1.7.jar:./../lib/avro-1.4.0-fixes.jar:./../lib/avro-1.4.0-sources-fixes.jar:./../lib/commons-cli-1.1.jar:./../lib/commons-codec-1.2.jar:./../lib/commons-lang-2.4.jar:./../lib/compress-lzf-0.8.4.jar:./../lib/concurrentlinkedhashmap-lru-1.3.jar:./../lib/guava-r08.jar:./../lib/high-scale-lib-1.1.2.jar:./../lib/jackson-core-asl-1.9.2.jar:./../lib/jackson-mapper-asl-1.9.2.jar:./../lib/jamm-0.2.5.jar:./../lib/jline-0.9.94.jar:./../lib/json-simple-1.1.jar:./../lib/libthrift-0.7.0.jar:./../lib/log4j-1.2.16.jar:./../lib/metrics-core-2.0.3.jar:./../lib/servlet-api-2.5-20081211.jar:./../lib/slf4j-api-1.6.1.jar:./../lib/slf4j-log4j12-1.6.1.jar:./../lib/snakeyaml-1.6.jar:./../lib/snappy-java-1.0.4.1.jar:./../lib/snaptree-0.1.jar:./../lib/jamm-0.2.5.jar
 INFO 17:40:17,722 JNA not found. Native methods will be disabled.
 INFO 17:40:17,734 Loading settings from file:/Users/urijvoskresenskij/apache-cassandra-1.1.7/conf/cassandra.yaml
 INFO 17:40:17,924 DiskAccessMode 'auto' determined to be mmap, indexAccessMode is mmap
 INFO 17:40:18,149 Global memtable threshold is enabled at 334MB
java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:317)
    at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:219)
    at org.xerial.snappy.Snappy.<clinit>(Snappy.java:44)
    at org.apache.cassandra.io.compress.SnappyCompressor.create(SnappyCompressor.java:46)
    at org.apache.cassandra.io.compress.SnappyCompressor.isAvailable(SnappyCompressor.java:56)
    at org.apache.cassandra.io.compress.SnappyCompressor.<clinit>(SnappyCompressor.java:38)
    at org.apache.cassandra.config.CFMetaData.<clinit>(CFMetaData.java:76)
    at org.apache.cassandra.config.KSMetaData.systemKeyspace(KSMetaData.java:84)
    at org.apache.cassandra.config.DatabaseDescriptor.loadYaml(DatabaseDescriptor.java:438)
    at org.apache.cassandra.config.DatabaseDescriptor.<clinit>(DatabaseDescriptor.java:114)
    at org.apache.cassandra.service.AbstractCassandraDaemon.setup(AbstractCassandraDaemon.java:127)
    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:389)
    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:106)
Caused by: java.lang.UnsatisfiedLinkError: no snappyjava in java.library.path
    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)
    at java.lang.Runtime.loadLibrary0(Runtime.java:845)
    at java.lang.System.loadLibrary(System.java:1084)
    at org.xerial.snappy.SnappyNativeLoader.loadLibrary(SnappyNativeLoader.java:52)
    ... 17 more
 WARN 17:40:18,269 Cannot initialize native Snappy library. Compression on new tables will be disabled.
ERROR 17:40:18,317 Exception encountered during startup
java.lang.AssertionError: Directory /var/lib/cassandra/data is not accessible.
    at org.apache.cassandra.service.AbstractCassandraDaemon.setup(AbstractCassandraDaemon.java:155)
    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:389)
    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:106)
java.lang.AssertionError: Directory /var/lib/cassandra/data is not accessible.
    at org.apache.cassandra.service.AbstractCassandraDaemon.setup(AbstractCassandraDaemon.java:155)
    at org.apache.cassandra.service.AbstractCassandraDaemon.activate(AbstractCassandraDaemon.java:389)
    at org.apache.cassandra.thrift.CassandraDaemon.main(CassandraDaemon.java:106)
Exception encountered during startup: Directory /var/lib/cassandra/data is not accessible.
</pre></code>` 

我不知道如何解决这个问题。请帮帮我，伙计们:)

            回答 #1

赞同：7

时间：2012-12-13T14:36:19.653

您没有写入 /var/log 的权限，这是意料之中的。您需要以 sudo 身份运行 Cassandra 或使用适当的权限自行创建目录。

            回答 #2

赞同：4

时间：2012-12-15T11:23:08.757

config/cassandra.yaml - 包含 Cassandra 所需的所有文件夹的路径。将这些路径更改为您的用户具有写入权限的位置，这样您就不需要将其作为 sudo 运行。

            回答 #3

赞同：1

时间：2013-06-09T21:03:44.970

我认为在本地开发机器上工作的一个潜在的侵入性较小的解决方案是根本不弄乱 root 权限。只需通过编辑目录中的 log4j 属性文件将日志位置更改为您想要的任何位置`<cassandra_install_dir>/conf`。

```

# java - egit->eclipse 正确导入general_project->Java_project

> ID：13854645
> 
> 赞同：0
> 
> 时间：2012-12-13T06:58:41.593
> 
> 标签：java, eclipse, playframework-2.0, egit, deadbolt

我已经使用存储库中的 egit 检查了 deadbolt-2-core。

然后我将它作为“通用项目”导入：

![在此处输入图像描述](../Images/29f64f20c17ccf39a96702256255a26d.png)

然后我添加到 .project 文件中：

```
<buildSpec>
    <buildCommand>
        <name>org.eclipse.jdt.core.javabuilder</name>
        <arguments>
        </arguments>
    </buildCommand>
</buildSpec>
<natures>
    <nature>org.eclipse.jdt.core.javanature</nature>
</natures> 
```

项目开始看起来像：

![在此处输入图像描述](../Images/f49c2fd5f538e46fc9f430852e414d4a.png)

这里的“app”应该是文件夹，“be.objectify.deadbolt.core”应该是模块名称。如何在所有导入工作且项目准备好被其他项目引用的情况下组织项目的正确视图？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:11:07.320

这根本与 EGit 无关。似乎您已将项目本身添加为源文件夹，而不是`app`. 要更正此问题，请执行以下操作：

1.  打开项目的属性
2.  转到*Java 构建路径*>*源*
3.  从构建路径中删除项目文件夹
4.  将 app 文件夹添加到构建路径

# php - 如何在PHP中调用父类的非静态方法形成子类的静态方法

> ID：13854653
> 
> 赞同：3
> 
> 时间：2012-12-13T06:59:08.783
> 
> 标签：php, class, static

如何在 PHP 中调用父类的非静态方法形成子类的静态方法？请帮忙。

```
 public static function countryArray(){
    $sql = "SELECT `country_id`, `country_name` FROM `dr_tbl_country`";
    $resultSet  = parent::dBQueryExecute($sql);
    if(mysql_num_rows($resultSet) > 0){
        $countryArray = array();
        while($result = mysql_fetch_array($resultSet)){
            extract($result);
            $countryArray[$country_id]['country_id'] = $country_id;
            $countryArray[$country_id]['country_name'] = $country_name;
        }
        return $countryArray;       
    }else{
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:00:23.443

你不能；静态项目与其他静态项目一起使用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:04:31.637

我很确定您不能从静态方法（无论是父级还是子级）调用非静态方法。那是因为没有办法知道应该在什么实例上调用非静态方法...... from with in the static method。这应该适用于所有 OOP 语言。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:07:03.477

简而言之，**你不能**

您不能`static`从子类的方法调用父类的非方法`static`。

您最好的选择是使该方法非`static`

# java-me - 在 j2me 中以编程方式访问应用程序权限

> ID：13854657
> 
> 赞同：0
> 
> 时间：2012-12-13T06:59:48.523
> 
> 标签：java-me, jar, permissions

我知道我可以在启动 j2me 应用程序之前设置它的权限，然后再启动它第一次询问 SMS、Read 和 Write。我想要做的是如何在从应用程序内部启动应用程序后访问这些选项（无论我的应用程序尚未签名）。我只是想务实地访问这些权限，我试着看几个例子，但它们差别很大，有人知道吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T07:31:57.923

发现无法在 J2me 应用程序中获取权限设置，最好也是唯一的解决方案是签署您的应用程序并在启动时请求权限。

# android - 滚动时，ScrollView 孩子失去焦点

> ID：13854659
> 
> 赞同：1
> 
> 时间：2012-12-13T06:59:58.757
> 
> 标签：android, scrollview

我在滚动视图中有一个列表视图和按钮。当我滚动列表和按钮时失去焦点。当我点击按钮时它不起作用但下次我点击它时我认为按钮失去焦点并且焦点朝向滚动视图如何处理这个请帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:08:55.733

切勿`ListView`放入`ScrollView`. `ListView`处理滚动，并将其包装在 a`ScrollView`中可能会导致焦点、触摸事件等问题。如果您希望将其他`Views`添加到列表的顶部或底部，只需使用[`ListView.addHeaderView()`](http://developer.android.com/reference/android/widget/ListView.html#addHeaderView%28android.view.View%29)或[`ListView.addFooterView()`](http://developer.android.com/reference/android/widget/ListView.html#addFooterView%28android.view.View%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:12:07.913

滚动视图只能有一个子视图，将您的按钮和列表视图放在通用布局中并尝试一下。

# php - 在查询中两次引用同一个表的外键链接

> ID：13854661
> 
> 赞同：0
> 
> 时间：2012-12-13T07:00:12.323
> 
> 标签：php, mysql, mysqli, foreign-keys

我需要一些帮助在 PHP 中编写 mysql 语句。我在同一个表中引用了两次相同的外键，我需要使用 SELECT 语句引用这两个实例。IE 我有一个名为messages 的表，然后有两列标记为sender 和receiver。两列都链接到表用户。我需要在同一个查询中从发送者用户和接收者用户那里提取信息。我在 StackOverflow 上看到了其他答案，但我似乎做得不对：/

这是我当前在 PHP 中的 mysqli 调用，只获取了发件人-用户链接：

```
require_once('includes/connection.inc.php');

$db = dbConnect();

$stmt = $db->stmt_init();

$stmt = $db->prepare("
SELECT message.timestamp, message_type.type, 
message.sender, message.receiver, message.sender_language, 
language.translate_code, message.subject_translate, message.body_translate,
message.subject, message.body, users.image, users.externalid, users.fname,
users.lname FROM message 
INNER JOIN users ON message.sender=users.id 
INNER JOIN language ON message.sender_language=language.id
INNER JOIN message_type ON message.type=message_type.id 
WHERE (message.receiver=? AND message.archived='n') 
ORDER BY message.timestamp DESC 
LIMIT 0,10 ");

$stmt->bind_param('i', $session_id);

$stmt->execute();

$stmt->bind_result($row['date'], $row['message_type'], $row['sender'],
$row['receiver'], $row['sender_language'], $row['sender_language_code'],
$row['subject'], $row['body'], $row['subject_original'], 
$row['body_original'], $row['image'], $row['user_name'], $row['fname'],
$row['lname'] );

$record_count = 0;

while($stmt->fetch()){... 
```

此代码工作正常，但我需要添加

```
"INNER JOIN users ON message.receiver=users.id" 
```

正确，所以我可以包含关于 message.receiver 而不仅仅是 message.sender 的“users.image，users.externalid，users.fname，users.lname”

我正在参考这个问题/答案重写我的代码，但后来卡住了：[ForeignKey Reference Same Table](https://stackoverflow.com/questions/12708579/foreignkey-referencing-same-table)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:36:46.560

使用别名尝试此策略：

```
SELECT msg.id, sender.id, receiver.id
FROM message msg
INNER JOIN users sender ON msg.sender=sender.id 
INNER JOIN users receiver ON msg.receiver=receiver.id 
WHERE [PUT_THE_WHERE_CONDITIONS_HERE]
ORDER BY message.timestamp DESC 
LIMIT 0,10 
```

# jquery - jQuery递归函数

> ID：13854667
> 
> 赞同：1
> 
> 时间：2012-12-13T07:00:42.337
> 
> 标签：jquery, ruby-on-rails

我是 Jquery 的新手...我正在开发一个使用 ruby​​ on rails 的应用程序。在这里，我要做的是从 Jquery 调用控制器操作，并在具有打字机效果的 div 中显示其输出。现在我想在单击哪个打字机效果开始时显示一个按钮“播放”，并且“播放”按钮更改为“停止”。在停止它时，它会转换为“播放”并开始播放等等。为此，我在 Jquery 上使用了此代码。

```
var text="content of text here";
var delay=50;
var currentChar=1;
var destination="[not defined]";

function set_file(id,time,user,node,activity) 
{
       var filename = "";
       filename = user+"_"+node+"_"+activity+"_"+time;

       jQuery("#play_"+id).click(function(event){
       event.preventDefault();
       jQuery("#img_"+id).attr('src',"/images/stop_images.png");
       jQuery("#img_"+id).attr('title',"Stop");
       jQuery(this).attr('id','stop_'+id);
       jQuery.get('/requests/download_log/?filename=' + filename, function(data) {
       startTyping(data, 50, "request_"+id);
       });
      jQuery("#stop_"+id).click(function(){
            jQuery("#img_"+id).attr('src',"/images/play_images.png");
            jQuery("#img_"+id).attr('title',"Play");
                    text="content of text here";
                    delay=50;
                    currentChar=1;
                    destination="[not defined]";
            });
  }

 function startTyping(textParam, delayParam, destinationParam)
 {
      text=textParam;
      delay=delayParam;
       currentChar=1;
    destination=destinationParam;
    type();
   }
 function type()
 {
  if (document.getElementById)
 {
   var dest=document.getElementById(destination);
  if (dest)
  {
  dest.innerHTML=text.substr(0, currentChar);
  currentChar++
    if(currentChar <= text.length)
     {
            setTimeout("type()", delay);
      }
  }
  }
 } 
```

我的查看页面是

```
<% i = 1%>
 <%=link_to_function result.time,:id => "log_#{i}",:onclick => "set_file(#{i},'#{time_val}','#{result.user}','#{result.nodeip}','#{result.activityuser}')" %>
<div id = "file_<%= i %>" class = "file">
<%= link_to_function image_tag("play_images.png",:width => 30, :height => 30,:align => 'left', :title => 'Play', :id => "img_#{i}"),:id => "play_#{i}"%>
<b><h7 id= "fname_<%= i %>" class = "h7">""</h7></b>
<%= link_to_function image_tag("images.jpeg",:align => 'right'), :id => "close_#{i}"%>
<div id = "request_<%= i%>" class = "request">
</div>
</div>
<%i = i + 1%> 
```

请任何人告诉我我该怎么做，我怎么能停止打字机模式？

# javascript - 使用 ASCII 检查字符和空格对于其他语言失败

> ID：13854671
> 
> 赞同：0
> 
> 时间：2012-12-13T07:01:14.130
> 
> 标签：javascript, ascii, multilingual

如果我们只允许字符和空格，我们通常会在 javascript 中比较 ASCII 值。但是，如果我们支持多种语言，检查将无法正常工作。请在这方面给我建议，考虑其他语言的任何其他方式......我们通常使用的javascript是这样的-->

```
function charAndSpacesOnly(objEvent) {
    if((objEvent.keyCode>=97 && objEvent.keyCode<=122) || (objEvent.keyCode>=65 && objEvent.keyCode<=90) || (objEvent.keyCode==32) || (objEvent.keyCode==45)) {      
        return true;
    } else {
        return false;
    }
    return false;     
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:07:27.937

我想这与`objEvent.keyCode<=122`. 所以 122 之后的所有字符（其他语言）都被排除在外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:06:29.797

那是因为您非常严格地只允许使用 26 个拉丁字母，没有任何变音符号，更不用说东方、西里尔或汉字。

您*可以*扩展 if 以支持所有这些字符。只需从 Internet 上获取包含所有这些代码的表格，在一两天内，您就可以实现每一个合理的 unicode 字符范围。

但我认为你应该问问自己是否需要这个限制。如果他们愿意，人们总是可以输入垃圾，并且`AaAaAaAaAa`（您的检查没问题）真的比`Golez Trol the 3rd`？

PS：你`else {return false;}`的已经过时了。

# c - 写一个函数的定义，isReverse

> ID：13854673
> 
> 赞同：-5
> 
> 时间：2012-12-13T07:01:42.270
> 
> 标签：c

编写函数 isReverse 的定义，它的前两个参数是大小相等的整数数组，第三个参数是一个整数，表示每个数组的大小。当且仅当一个数组与另一个数组相反时，该函数才返回 true。（此处的“反向”表示相同的元素，但顺序相反。）

```
int isReverse(int array1[], int array2[], int size)
{ 
    int i;
    for (i=0;i<size;i++)
    {
        if(array1[i] == array2[size-1])
            return 0;
        else
            return 1;
    }
} 
```

我不断收到错误消息。它出什么问题了。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T07:10:13.283

当您`return`从函数中的任何块中执行函数时，函数执行结束，因此在您的情况下，即使数组的第一个元素匹配不正确，您也会从函数返回，您应该检查整个数组，然后从函数返回最后，检查下面的代码：

```
int isReverse(int array1[], int array2[], int size)
{ 
    int i,status=1;

    for (i=0;i<size;i++) //Size is the length of the array? if yes than you need -1 from it.
    {
        if(array1[i] == array2[size])
        {
            status=0;
            --size;
        }
        else
            return 1;
    }

    return status;
} 
```

此外，`size-1`不会改变变量大小本身的值，因此`size`将在整个循环中保持不变，使用`--size`这将减少实际变量的值，因此每次将其减一。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:29:53.080

我就是这样做的。

```
 int isReverse(int array1[], int array2[], int SIZE)
    {
    for( int counter = 0; counter <= SIZE/2; counter++ )
    if(array1[counter] != array2[SIZE-counter] || array2[counter] != array1[SIZE-counter])
        return 1;
    return 0;
    } 
```

您只是将索引 i 处的值与常量 SIZE-1 进行比较。相反，您希望将 i 处的值与比较数组的 size-i 进行比较。因此，每次计数器增加时，它都会与对面数组的 size-i 进行比较。而且您只需对阵列的一半执行此操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:05:05.083

返回值是错误的，因为您只检查每个数组中的 1 个值，而不是全部。你想做的是这样的。

```
for (i=0;i<size;i++)
{
    if(!(array1[i] == array2[size-i-1])) 
       return 0;
}
return 1; 
```

基本上你一个一个地遍历数组，如果其中任何一个值与另一个数组上的适当值不同，这不是反向，所以我们返回0。如果我们没有经过就退出for循环，`if`这意味着它们是反向的，所以我们返回 1。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T07:07:00.003

变量“大小”永远不会改变，因此您总是检查 array1 的元素与 array2 的最后一个元素。

由于这听起来像是一个家庭作业问题，我会让你看看你是否可以从那里开始。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T07:39:44.767

```
int isReverse(int a[], int b[], int n)
{
int i = 0;
while (i<n)
{
if (a[i] != b[n-i-1]) {return 0; break;}
else i++;
}
return 1;
} 
```

这是正确的答案。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-13T07:05:52.123

```
 int isReverse(int array1[], int array2[], int size)
  {
      int flag = 0;
      for (int i=0;i<size;i++)
      {
      if(array1[i] != array2[size-1]){
          flag = 1;
          break;
      }
      return flag;
      }
  } 
```

在代码中，您将 return 语句保留在循环内...将 return 语句保留在循环之外并尝试

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-10-19T01:16:50.720

```
bool isReverse(int array1[], int array2[],int size)
{
    int i=0;
    for (int k=0;k<size;k++){
        if (array1[k]==array2[size-k-1]){
           i++;
        }
    }
    if (i==size){
       return true;
    }else{
       return false;
    }
} 
```

# ios - 如何通过类名获取 iOS CoreData

> ID：13854674
> 
> 赞同：0
> 
> 时间：2012-12-13T07:01:41.977
> 
> 标签：ios, core-data

我有一个尝试使用 CoreData 的 iOS 项目。

在我的模型中，我有两个类`ChildA`并且`ChildB`继承自`ParentClass`.

在我的`UITableViewController`中，我可以通过以下方式轻松获取所有对象：

`NSEntityDescription *entity = [NSEntityDescription entityForName:@"ParentClass" inManagedObjectContext:self.managedObjectContext];`

我现在想要实现的是将结果按`Classname`. 但我不知道如何在我`NSFetchedResultsController`的参数中实现这一点`sectionNameKeyPath`

`NSFetchedResultsController *aFetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest managedObjectContext:self.managedObjectContext sectionNameKeyPath:@"?????" cacheName:@"Master"];`

我想在我的中使用的结果`UITableView`应该类似于

```
ChildA
   Obj1
   Obj2
   Obj3
   ...
ChildB
   Obj4
   Obj5
   Obj6
   ... 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:50:14.653

我找到了一种可能的方法来实现这一目标......

`NSFetchedResultsController`我在我的声明中声明了两个`UITableViewController`

```
@interface MMPOITableViewController : UITableViewController <NSFetchedResultsControllerDelegate>
@property (strong, nonatomic) NSFetchedResultsController *childAFetchedResultsController;
@property (strong, nonatomic) NSFetchedResultsController *childBFetchedResultsController;
@end 
```

第一个负责管理类对象，`ChildA`第二个负责管理类对象`ChildB`。

然后我设法使用`childAFetchedResultsController`或`childBFetchedResultsController`依赖于当前部分。

希望它会帮助别人;）

# c - 如何在 ubuntu 11.10 的 eclipse IDE 中编程和编译 C？我需要安装哪个插件？

> ID：13854676
> 
> 赞同：1
> 
> 时间：2012-12-13T07:01:45.260
> 
> 标签：c, linux, eclipse, eclipse-plugin

我需要在我的 Eclipse 中为 C 程序安装哪个插件我如何安装它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:22:23.210

您需要安装 eclipse [CDT](http://www.eclipse.org/cdt/)（C 开发工具包）。您可以选择要与 CDT 一起使用的编译器。[你可以在这里](http://www3.ntu.edu.sg/home/ehchua/programming/howto/EclipseCpp_HowTo.html)阅读更多。

# java - 按下空格键时如何使用Jquery自动完成获取数据？

> ID：13854679
> 
> 赞同：3
> 
> 时间：2012-12-13T07:01:57.963
> 
> 标签：java, javascript, jquery-ui, autocomplete

我正在实现 jquery 自动完成，这里是代码，

```
<script>
$(function() {
    var availableTags = [
        "ActionScript",
        "AppleScript",
        "Scheme"
    ];
    function split( val ) {
        return val.split( /,\s*/ );
    }
    function extractLast( term ) {
        return split( term ).pop();
    }

    $( "#tags" )
        // don't navigate away from the field on tab when selecting an item
        .bind( "keydown", function( event ) {
            if ( event.keyCode === $.ui.keyCode.TAB &&
                    $( this ).data( "autocomplete" ).menu.active ) {
                event.preventDefault();
            }
        })
        .autocomplete({
            minLength: 0,
            source: function( request, response ) {
                // delegate back to autocomplete, but extract the last term
                response( $.ui.autocomplete.filter(
                    availableTags, extractLast( request.term ) ) );
            },
            focus: function() {
                // prevent value inserted on focus
                return false;
            },
            select: function( event, ui ) {
                var terms = split( this.value );
                // remove the current input
                terms.pop();
                // add the selected item
                terms.push( ui.item.value );
                // add placeholder to get the comma-and-space at the end
                terms.push( "" );
                this.value = terms.join( ", " );
                return false;
            }
        });
});
</script> 
```

这是 HTML 代码：

```
 <label for="tags">Tag programming languages: </label>

 <textarea rows="3" cols="50" id="tags"></textarea> 
```

现在的问题是，当我输入“a”或“s”时，我会从自动完成中获取相关数据。我想以这样一种方式实现，当我按下“空格键”时，我需要获取所有数据。我该怎么做。请帮助...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:18:51.747

如果你可以定义一个函数 extractAll 你可以做如下

```
if(request.term == " ")
    response( $.ui.autocomplete.filter(
                        availableTags, extractAll() ) );
    else
    response( $.ui.autocomplete.filter(
                        availableTags, extractLast( request.term ) ) ); 
```

# javascript - 如何在 Windows 环境中使用 Node.js 编写第一个应用程序？

> ID：13854680
> 
> 赞同：1
> 
> 时间：2012-12-13T07:01:59.633
> 
> 标签：javascript, windows, node.js, web

我已经`Node.js`在我的 windows xp 操作系统中从他们的网站下载了。我已经通过微软安装程序安装了它。我不知道如何编写我的第一个应用程序，将它们保存在哪里以及如何在 Windows 中执行它们。我有一个`node.js`命令提示符，但我不能使用它。我进行了很多搜索，但只有`linux`and的说明`mac`。我没有找到`tutorial`可以从头开始启动节点应用程序的任何合适或示例。

如果有人可以将一些`documentation`或`steps`任何这样的教程放在我可以得到帮助的地方，那对我来说会很棒。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T07:51:02.893

正如Eric 的[这篇博客文章](http://thecodinghumanist.com/blog/archives/2011/4/23/getting-started-with-node-js-on-windows)`127.0.0.1:#port#`，在.

真的很容易。我只是做了这一切......比写这篇文章还要长。

1.  下载适合操作系统的 node.js ^(**1**)：[http ://nodejs.org/](http://nodejs.org/)

2.  `.txt`现在，在与您相同的文件夹中创建一个（纯文本）文件`node.exe`并将其重命名为`server.js`.

3.  将此 Javascript 放入该文件中：

    ```
    var http = require('http');

    http.createServer(function (request, response) {
        console.log('request starting...');

        response.writeHead(200, { 'Content-Type': 'text/html' });

        var html = '<p>Hello World!</p>';

        response.end(html, 'utf-8');
    }).listen(8125);

    console.log('Server running at http://127.0.0.1:8125/'); 
    ```

4.  打开一个`cmd.exe`和`cd c:\path\to\the\node\executable`，在哪里`node.exe`驻留。

5.  从那里运行：

    ```
    node server.js 
    ```

    你应该看到它说：

    ```
    Server running at http://127.0.0.1:8125 
    ```

6.  打开浏览器并`http://127.0.0.1:8125/`输入地址栏。

    你应该看到它说：

    ```
    Hello World! 
    ```

就是这样。这很容易。谚语`Hello World!`在 15 秒或更短的时间内完成。现在如何让它解析一个 Javascript 文件并返回该输出而不是简单的 HTML ......

* * *

[^(**1.**)注意，我得到了可执行文件，`node.exe`在某处创建了一个文件夹，将可执行文件放在该文件夹中。没有安装程序。奇迹般有效。]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-15T12:23:36.820

Here is the new way develop node.js app with Windows Environments and Visual Studio >= 2012 [https://nodejstools.codeplex.com/](https://nodejstools.codeplex.com/)

# ruby-on-rails - /path/to/local/git/repo 的 {gem} 的本地覆盖正在使用分支开发，但 Gemfile 指定开发

> ID：13854683
> 
> 赞同：5
> 
> 时间：2012-12-13T07:02:17.760
> 
> 标签：ruby-on-rails, git, gem, bundler

我正在运行 bundler v1.3.0.pre.2 并试图让 bundler 将一个本地 git 存储库捆绑到一个 rails 应用程序中。

宝石文件：

```
gem 'mygem', :github => 'myrepo/mygem', :branch => 'develop' 
```

配置：

```
bundle config local.mygem /path/to/local/git/repo 
```

捆绑安装抛出错误：

> /path/to/local/git/repo 的 mygem 的本地覆盖正在使用分支开发，但 Gemfile 指定开发

这是一个错误吗？我看到分支名称完全相同。有什么问题？Bundler v1.2.3 也出现同样的错误

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-06-17T21:49:34.933

您可以使用本地 gem，甚至可以像这样使用您正在处理的分支

```
gem 'rspec-rails', path: '~/forks/rspec-rails', branch: 'feature-branch' 
```

只需更改`github`为`path`, 然后

```
bundle install 
```

同样就捆绑器配置而言，虽然它在文档中，但我从来不需要像上面那样更改本地配置。

使用这种方法，我从来不需要删除`Gemfile.lock`，它只会获取对本地存储库的更改。

虽然我不推荐它，但您可以禁用 bundler 使用的分支检查功能，以确保您在开发时使用正确的分支

```
bundle config disable_local_branch_check true 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-08-14T18:17:57.217

如果您只需要指向您正在使用的本地存储库中的一个分支，那么在 gemfile 中：

```
gem 'gem-name', :path=> 'relative/path/to/directory' 
```

`bundle`然后在-ing之前为该“gem”创建捆绑器配置

^(（请记住，存储库名称可能与 gem 的名称不同，尽管这不是常态）。)

```
bundle config local.repository-name relative/path/to/directory 
```

神奇的是，当您启动本地服务器时，当前在本地签出的任何分支都将处于活动状态。如果您需要进行更改或更改分支，您可能需要重新启动服务器（除非您有某种类型的自动重新加载功能）。

一个问题是已经建立了配置设置（比如说通过上面的机制），并且您需要使用/引用远程 git gem - 您不需要捆绑器配置来使用远程 git gem（如果您有一个活动的配置，你会得到`local override`错误）。

检查以确保您没有给定 gem 的本地设置：

```
bundle config local.gem-name 
```

如果这样做，请删除该 gem 的配置：

```
bundle config --delete local.gem-name 
```

然后在 gemfile 中指向远程仓库和分支：

```
gem 'gem-name', :path => 'https://github.com/reponame.git', :branch => 'branch_name' 
```

更多信息：

Git 宝石：[http ://bundler.io/v1.7/git.html](http://bundler.io/v1.7/git.html)

“捆绑配置”：[http ://bundler.io/v1.7/man/bundle-config.1.html](http://bundler.io/v1.7/man/bundle-config.1.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-31T20:48:21.643

这个[GitHub 问题](https://github.com/carlhuda/bundler/issues/1957)表明解决方法可能是删除`Gemfile.lock`并`bundle install`再次执行。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-07-01T16:23:40.457

您在 Gemfile 中引用的分支需要与您在本地存储库中签出的分支相同。请注意，在本地存储库中提交后，您需要在主应用程序上运行 bundle install ，以便它重建 Gemfile.lock 以包含新的修订哈希并提交它。我建议使用下面的 gem，因为它可以为您自动执行此过程，并且还有助于其他情况。有关详细信息，请参阅 gem 页面。

[https://github.com/EPI-USE-Labs/git-bundle](https://github.com/EPI-USE-Labs/git-bundle)

**发生的事情的完整细节：**

当您在 gemfile 中使用 git 存储库时，您可以使用[bundle local overrides 进行开发](http://bundler.io/v1.5/git.html#local)，它将修订哈希存储在您的 Gemfile.lock 中。在生产中，这些确切的修订哈希将在运行 bundle install 时被检出。

**宝石文件：** `gem 'example', git: 'https://github.com/your_name/example.git', branch: :master`

**捆绑配置 shell 命令：** `bundle config local.example /path/to/local/git/repository`

**Gemfile.lock（自动生成）：** `GIT remote: https://github.com/your_name/example.git revision: b9270e61abb89e1ff77fb8cfacb463e4d04388ad branch: master`

# image - 如何使用电晕使按钮保持按下状态

> ID：13854684
> 
> 赞同：-1
> 
> 时间：2012-12-13T07:02:19.203
> 
> 标签：image, button, replace, coronasdk, pressed

我试图让我的按钮在释放后保持“按下”状态。现在我正在为电晕使用改进的按钮模块，我的默认图像是看起来未按下的按钮，而上方的图像被看起来按下的图像替换。

我想要做的是一旦按下按钮，它就会停留在图像上。这是我的代码是如何为我正在测试的按钮设置的。

```
local digButton = buttons.newButton{
    default = "digButton.png",
    over = "digButtonPressed.png",
    onEvent = digButtonFunction,
    id = "dig"
    }
    digButton:setReferencePoint(display.CenterReferencePoint)
    digButton.x = display.contentWidth/5
    digButton.y = display.contentHeight/1.9 
```

另外，我有一个函数（digButtonFunction），它将此按钮的 id 设置为一个变量，用于在用户按下该按钮之后的按钮时运行 if 语句。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-15T19:17:44.653

这听起来像你真正想要的是一个开关。按钮并不是真正从 UI 角度设计的。向下状态只是为了向用户提供一些操作发生的反馈。

如果是我，我根本不会使用按钮位，而是使用 display.newImageRect() 加载到图像中并首先绘制下态，然后是上态。在每个将隐藏一个或另一个的触摸事件侦听器上构建。我在游戏中为声音开/关按钮执行此操作。

```
local soundOn = true 
local soundOnBtn, soundOffBtn

local function soundToggle(event)
    if soundOn then
        soundOn = false
        soundOnBtn.isVisible = false
        soundOffBtn.isVisible = true
    else
        soundOn = true
        soundOnBtn.isVisible = true
        soundOffBtn.isVisible = false
    end
    return true
end
soundOnBtn = display.newImageRect("images/switch_on.png", 46, 36)
soundOnBtn.x = display.contentWidth / 2 + 25
soundOnBtn.y = display.contentHeight / 2 - 15
group:insert(soundOnBtn)
soundOnBtn:addEventListener("tap", soundToggle)

soundOffBtn = display.newImageRect("images/switch_off.png", 46, 36)
soundOffBtn.x = display.contentWidth / 2 + 25
soundOffBtn.y = display.contentHeight / 2 - 15
group:insert(soundOffBtn)
soundOffBtn:addEventListener("tap", soundToggle)

soundOffBtn.isVisible = false 
```

# c# - Rx .net Subscribe() 和 EventPattern 奇怪

> ID：13854686
> 
> 赞同：3
> 
> 时间：2012-12-13T07:02:40.413
> 
> 标签：c#, .net, system.reactive

我将 Rx 与使用`EventPattern`. `StartWatching()`在此 API 中，您在对象上注册事件处理程序，然后在启动事件以开始触发的对象上调用方法。我正在使用`Observable.FromEventPattern`Rx 世界中的 API 来桥接 API，但我遇到了非常奇怪的问题，即订阅只有在调用`StartWatching()`. 下面是我所看到的*简化案例。*

这有效：

```
foreach (var iq in interactionQueues)
        {
            Observable.FromEventPattern(iq, "TheEvent")
                .Subscribe(e => Log.Info("I got called!"), 
                       e => Log.Info("Error!", e),
                       () => Console.WriteLine("Seq completed!"));

            iq.StartWatching();
        } 
```

如果我在不同的循环中调用`Subscribe()`and`StartWatching()`它会停止工作：

```
foreach (var iq in interactionQueues)
            Observable.FromEventPattern(iq, "TheEvent")
                .Subscribe(e => Log.Info("I got called!"), 
                       e => Log.Info("Error!", e),
                       () => Console.WriteLine("Seq completed!"));
foreach (var iq in interactionQueues)
           iq.StartWatching(); 
```

对于为什么会发生这种情况，我唯一的想法是观察或订阅发生在错误的线程上。我曾尝试使用`Scheduler.CurrentThread`and `Scheduler.Immediate`with `SubscribeOn`，`ObserveOn`但这并没有帮助。还有其他想法吗？我应该尝试不同的`Scheduler`还是那是红鲱鱼？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T22:27:04.130

让我们用一种更友好的方法来包装它：

```
public static TheEventArgs WatchEvent(this InteractionQueue this)
{
    var ret = Observable.Create<TheEventArgs>(subj => {
        // This entire block gets called every time someone calls Subscribe
        var disp = new CompositeDisposable();

        // Subscribe to the event
        disp.Add(Observable.FromEventPattern(iq, "TheEvent").Subscribe(subj));

        // Stop watching when we're done
        disp.Add(Disposable.Create(() => iq.StopWatching());

        iq.StartWatching();

        // This is what to Dispose on Unsubscribe
        return disp;
    });

    // When > 1 person Subscribes, only call the block above (i.e. StartWatching) once
    return ret.Multicast(new Subject<TheEventArgs>()).RefCount();
} 
```

# php - PHP拆分/爆炸

> ID：13854689
> 
> 赞同：0
> 
> 时间：2012-12-13T07:02:55.133
> 
> 标签：php, regex, preg-match, explode

我目前有一些这样的文字：

`W. 50DateWorkSuggested breakTotalMondayTuesday11/1217:00-01:0020:30-21:157:15Wednesday12/1217:00-01:0019:00-19:457:15ThursdayFridaySaturday15/1216:00-23:0020:00-20:456:15Sunday16/1217:00-01:0021:00-21:457:15Total:28W. 51DateWorkSuggested breakTotalMonday17/1217:00-01:0019:00-19:457:15TuesdayWednesday19/1217:00-00:0021:00-21:456:15Thursday20/1223:00-07:0003:00-03:457:15Friday21/1223:00-07:0002:30-03:157:15SaturdaySundayTotal:28W. 52DateWorkSuggested breakTotalMondayTuesdayWednesdayThursdayFridaySaturdaySundayTotal:0W. 1DateWorkSuggested breakTotalMonday------Total:0 Total number of hours: 77:45 Schedule for Month: December`

它最初看起来不同，但我删除了 html 标签，因为它都在表格中，

但是，我现在想溢出/分解这些数据，以便每一行都有一天的读数，例如：

```
Monday    10/12:
Tuesday   11/12: 17:00 - 01:00
Wednesday 12/12: 17:00 - 01:00
Thursday  13/12:
Friday    14/12:
Saturday: 15/12: 16:00 - 23:00 
```

这是第一周的一个例子，我尝试过如下代码：

```
 preg_match_all (("/Monday|Tuesday|Wednesday|Thusday|Fiday|Saturday|Sunday/"), $content, $parts ); 

    print_r ($parts); 
```

但没有真正的运气，所以任何帮助将不胜感激，

谢谢，

杰克。

带有 HTML 标签的原始代码：

```
<body> <table border=0 class=blackborder cellpadding=2 cellspacing=2> 
<tr><td><table class=blackborder width=315><tr><td><b>W. 50</b></td><td><B>Date</B></td><td><B>Work</B></td><td><B>Suggested break</B></td><td><B>Total</B></td><tr><td></tr><tr><td>Monday</tr><tr><td>Tuesday<td>11/12</td><td>17:00-01:00</td><td>20:30-21:15</td><td>7:15</td></tr><tr><td>Wednesday<td>12/12</td><td>17:00-01:00</td><td>19:00-19:45</td><td>7:15</td></tr><tr><td>Thursday</tr><tr><td>Friday</tr><tr><td>Saturday<td>15/12</td><td>16:00-23:00</td><td>20:00-20:45</td><td>6:15</td></tr><tr><td>Sunday<td>16/12</td><td>17:00-01:00</td><td>21:00-21:45</td><td>7:15</td></td></tr><tr><td>Total:</td><td></td><td></td><td></td><td>28</td></tr></table></td><td><table class=blackborder width=315><tr><td><b>W. 51</b></td><td><B>Date</B></td><td><B>Work</B></td><td><B>Suggested break</B></td><td><B>Total</B></td><tr><td></tr><tr><td>Monday<td>17/12</td><td>17:00-01:00</td><td>19:00-19:45</td><td>7:15</td></tr><tr><td>Tuesday</tr><tr><td>Wednesday<td>19/12</td><td>17:00-00:00</td><td>21:00-21:45</td><td>6:15</td></tr><tr><td>Thursday<td>20/12</td><td>23:00-07:00</td><td>03:00-03:45</td><td>7:15</td></tr><tr><td>Friday<td>21/12</td><td>23:00-07:00</td><td>02:30-03:15</td><td>7:15</td></tr><tr><td>Saturday</tr><tr><td>Sunday</td></tr><tr><td>Total:</td><td></td><td></td><td></td><td>28</td></tr></table></td></tr><tr><td><table class=blackborder width=315><tr><td><b>W. 52</b></td><td><B>Date</B></td><td><B>Work</B></td><td><B>Suggested break</B></td><td><B>Total</B></td><tr><td></tr><tr><td>Monday</tr><tr><td>Tuesday</tr><tr><td>Wednesday</tr><tr><td>Thursday</tr><tr><td>Friday</tr><tr><td>Saturday</tr><tr><td>Sunday</td></tr><tr><td>Total:</td><td></td><td></td><td></td><td>0</td></tr></table></td><td><table class=blackborder width=315><tr><td><b>W. 1</b></td><td><B>Date</B></td><td><B>Work</B></td><td><B>Suggested break</B></td><td><B>Total</B></td><tr><td></tr><tr><td>Monday</td></tr><tr><td>-</td></tr><tr><td>-</td></tr><tr><td>-</td></tr><tr><td>-</td></tr><tr><td>-</td></tr><tr><td>-</td></tr><tr><td>Total:</td><td></td><td></td><td></td><td>0</td></tr></table> </td> </tr> <tr> <td colspan=2> <b>Total number of hours:</b> 77:45<br> </td> </tr> </table> </body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:19:24.270

好吧，我可以用正则表达式得到一天和时间

```
$str = 'W. 50DateWorkSuggested breakTotalMondayTuesday11/1217:00-01:0020:30-21:157:15Wednesday12/1217:00-01:0019:00-19:457:15ThursdayFridaySaturday15/1216:00-23:0020:00-20:456:15Sunday16/1217:00-01:0021:00-21:457:15Total:28W. 51DateWorkSuggested breakTotalMonday17/1217:00-01:0019:00-19:457:15TuesdayWednesday19/1217:00-00:0021:00-21:456:15Thursday20/1223:00-07:0003:00-03:457:15Friday21/1223:00-07:0002:30-03:157:15SaturdaySundayTotal:28W. 52DateWorkSuggested breakTotalMondayTuesdayWednesdayThursdayFridaySaturdaySundayTotal:0W. 1DateWorkSuggested breakTotalMonday------Total:0 Total number of hours: 77:45 Schedule for Month: December';
$ptr = "/(?P<day>:Monday|Tuesday|Wednesday|Thusday|Fiday|Saturday|Sunday?)(?P<time>([0-9:\/\- ]?)+)/";
preg_match_all($ptr, $str, $data);
echo '<pre>';
print_r($data);
echo '</pre>'; 
```

输出将是这样的

```
Array
(
    [0] => Array
        (
            [0] => Tuesday11/1217:00-01:0020:30-21:157:15
            [1] => Wednesday12/1217:00-01:0019:00-19:457:15
            [2] => Saturday15/1216:00-23:0020:00-20:456:15
            [3] => Sunday16/1217:00-01:0021:00-21:457:15
            [4] => Tuesday
            [5] => Wednesday19/1217:00-00:0021:00-21:456:15
            [6] => Saturday
            [7] => Sunday
            [8] => Tuesday
            [9] => Wednesday
            [10] => Saturday
            [11] => Sunday
        )

    [day] => Array
        (
            [0] => Tuesday
            [1] => Wednesday
            [2] => Saturday
            [3] => Sunday
            [4] => Tuesday
            [5] => Wednesday
            [6] => Saturday
            [7] => Sunday
            [8] => Tuesday
            [9] => Wednesday
            [10] => Saturday
            [11] => Sunday
        )

    [1] => Array
        (
            [0] => Tuesday
            [1] => Wednesday
            [2] => Saturday
            [3] => Sunday
            [4] => Tuesday
            [5] => Wednesday
            [6] => Saturday
            [7] => Sunday
            [8] => Tuesday
            [9] => Wednesday
            [10] => Saturday
            [11] => Sunday
        )

    [time] => Array
        (
            [0] => 11/1217:00-01:0020:30-21:157:15
            [1] => 12/1217:00-01:0019:00-19:457:15
            [2] => 15/1216:00-23:0020:00-20:456:15
            [3] => 16/1217:00-01:0021:00-21:457:15
            [4] => 
            [5] => 19/1217:00-00:0021:00-21:456:15
            [6] => 
            [7] => 
            [8] => 
            [9] => 
            [10] => 
            [11] => 
        )

    [2] => Array
        (
            [0] => 11/1217:00-01:0020:30-21:157:15
            [1] => 12/1217:00-01:0019:00-19:457:15
            [2] => 15/1216:00-23:0020:00-20:456:15
            [3] => 16/1217:00-01:0021:00-21:457:15
            [4] => 
            [5] => 19/1217:00-00:0021:00-21:456:15
            [6] => 
            [7] => 
            [8] => 
            [9] => 
            [10] => 
            [11] => 
        )

    [3] => Array
        (
            [0] => 
            [1] => 
            [2] => 
            [3] => 
            [4] => 
            [5] => 
            [6] => 
            [7] => 
            [8] => 
            [9] => 
            [10] => 
            [11] => 
        )

) 
```

然后你可以循环使数据变好；）

# jquery - 如何找到通过设置 val() 函数更改的文本框值？

> ID：13854694
> 
> 赞同：0
> 
> 时间：2012-12-13T07:03:12.433
> 
> 标签：jquery

我正在尝试实现一个**新的自动完成控件**。我有一个文本框`$("#Code")`。从表中选择值后，我正在使用

```
$("#Code").val(selectedValue); 
```

由于我必须检查相同的验证，因此我试图获取文本框的更改事件`$("#Code")`。当我在文本框上按键时触发相同，但是当我分配使用`$.val()`函数时更改事件没有触发。

我尝试了以下方法。

```
Entity="#Code"; //for example

 $(Entity).keypress(function (event) {
   firing on keypress.. // ok.. No Problem
 });

 $(Entity).keydown(function (event) {
   firing on keydown.. // ok.. No Problem
 });

 $(Entity).bind('input',function() {
   firing on keypress.. // ok.. No Problem
 });

 $(Entity).change(function (event) {
   firing on keypress.. // ok.. No Problem
 }); 
```

谁能帮助如何检测事件`val()`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:10:35.390

您可以显式调用更改方法

```
$("#ID").val("hi").change(); 
```

谢谢

# python - easy_install 或 pip install 找不到包

> ID：13854695
> 
> 赞同：2
> 
> 时间：2012-12-13T07:03:21.367
> 
> 标签：python, package, debian

我想安装 python-pythonmagick 包 [http://packages.debian.org/squeeze/python-pythonmagick](http://packages.debian.org/squeeze/python-pythonmagick)

但是当我运行`pip install`或`easy_install`python-pythonmagick 时，它找不到包。

我想我可以向 /etc/apt/sources.list 添加一个 url
我想添加到这个文件的 url 是什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-13T07:13:10.800

那是一个由 Debian repo 维护的 Python 包。您可以使用 Debian 软件包管理器安装它：

```
sudo apt-get install python-pythonmagick 
```

或者

```
sudo aptitude install python-pythonmagick 
```

* * *

但是，我更愿意坚持使用`pip`(with `virtualenv`) 并改用以下任一方法：

```
→ pip search pythonmagick
PythonMagickWand          - Python wrapper for the ImageMagick wand API
PythonMagick              - Wrapper around GraphicsMagick

→ pip search pgmagick
pgmagick                  - Yet Another Python wrapper for GraphicsMagick 
```

请注意，`GraphicsMagick`如果`ImageMagick`您使用`pip`. `pgmagick`/`pythonmagick`只是 / 的 Python 包装`GraphicsMagick`器`ImageMagick`。

更多：[pgmagick](http://pypi.python.org/pypi/pgmagick/0.3.3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-26T15:39:57.917

这对我在 ubuntu 上运行 vagrant 有用...

```
sudo yum install python-pythonmagick 
```

# c++ - C++ 多态行为：交换派生指针类型

> ID：13854696
> 
> 赞同：0
> 
> 时间：2012-12-13T07:03:29.580
> 
> 标签：c++, pointers, polymorphism, dynamic-memory-allocation

观察以下代码：

```
class A { public: virtual void Foo() = 0; int Bar; };

class B : public A { public: B( float X ); void Foo(); private: float X; };

class C : public A { public: C( float Y ); void Foo(); private: float Y; }; 
```

现在，在某些功能中，假设我这样做：

```
A*& pToA = pToDerived; // allocated as A* pToDerived = new B( ... );

pToA     = pToC; // allocated as A* pToC = new C( ... ); 
```

这是有效的吗？如果是这样，即使`pToA`是对指针的引用，它是否会导致内存泄漏`pToDerived`？

**SSCS**

假设它`Node`有 2 种或多种派生自它的类型。这是我目前正在实现的链表的一个片段，它可能需要多态性才能正常工作，因为它并不意味着是通用的。`newnode`是传递给插入函数的参数。

```
 Node* iNode;

    for( iNode = mStart; iNode != mEnd; iNode = iNode->Next )
    {
        if ( iNode->Key == k ) // Replace current node with newnode
        {
            newnode->Next = iNode->Next;
            newnode->Prev = iNode->Prev;

            *iNode        = *newnode;

            delete newnode;

            return;         // We're done, so we quit.
        }
    }   

    // Node doesn't alreay exist, so we add it.

    Node*& uglyhack = mEnd;

    iNode->Next   = newnode;
    newnode->Prev = iNode;
    uglyhack      = newnode; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:07:11.947

这和做的一样

```
pToDerived = pToC; 
```

这本身并没有什么错。仅当您像往常一样从不删除对象时，它才会泄漏内存。

在您更新的代码中，您可以这样做：

```
iNode->Next   = newnode;
newnode->Prev = iNode;
mEnd          = newnode; 
```

它会是一样的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:16:23.860

假设您有以下内容：

```
// See http://codepad.org/8mG6YiLy
class A { public: virtual void Foo() = 0; int Bar; };

// Added definitions for these so that this would compile
class B : public A {
    public: B( float x ) : X(x) {}
    virtual void Foo() {} // Once virtual, always virtual
    private: float X;
};

class C : public A {
    public: C( float y ) : Y(y) {}
    virtual void Foo() {}
    private: float Y;
};

int main()
{
    A* pToDerived = new B(3.14);
    // pToDerived -> B

    A*& pToA = pToDerived;
    // pToDerived -> B
    // pToA IS pToDerived

    A* pToC = new C(2.718);
    // pToDerived -> B
    // pToC -> C
    // pToA IS pToDerived

    pToA = pToC;
    // pToDerived -> C
    // pToC -> C
    // pToA IS pToDerived
    // One object of type B no longer has pointers pointing to it
} 
```

这段代码泄漏了两个对象——一个类型`B`（发生在`pToA = pToC`语句中）和一个类型`C`（发生在`main`返回时）。在这种情况下，“参考”实际上并没有在这里发挥多大作用。在 C++ 中，引用只是其他对象的别名。您不能“重新安装”它们。也就是说，一旦引用引用了某些东西，它就再也不能引用其他任何东西了。

在本例中，当您创建 pToA 时，您创建了对指针的引用——本例中的指针为`pToDerived`. 进行此引用对内存管理或某些代码`delete`在正确位置调用的责任没有影响。

# java - 在一个类中处理所有点击方法？

> ID：13854697
> 
> 赞同：-1
> 
> 时间：2012-12-13T07:03:33.680
> 
> 标签：java, android, onclick, onclicklistener

好吧，可以说我有一个应用程序，周围有 50-60 个按钮，我想处理其他包中的所有点击方法。我如何处理对包 app.test 的点击；包 app.test.clicks 中的第一类点击次数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:10:15.290

创建一个实现 OnClickListener 的类，

```
 public class ClickHandler implements OnClickListener

 {
     public void onClick(View v) {

    //This method will be automatically implemented once OnClickListener is implemented. 

     }

 } 
```

现在像这样将 onClickistener 设置为您的按钮。

```
button.setOnClickListener(new ClickHandler()); 
```

现在在 onClick() 里面做这个，

```
 public void onClick(View v) {

        if(v.getId()==R.id.button)
            {
                //your stuff here. 
            } 

    } 
```

如果您需要上下文对象，请尝试`v.getContext();`。"v" 是 onClick() 的参数形式。

确保将 ClickHandler 类的包名导入到 Activity 中。

但是，如果您将其作为每个 Activity 的内部类，那就更好了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:14:30.063

```
public class HeaderActivity extends Activity implements OnClickListener{
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    ((Button)findViewById(R.id.home)).setOnClickListener(this);
    ((Button)findViewById(R.id.search)).setOnClickListener(this);
    ((Button)findViewById(R.id.list)).setOnClickListener(this);
    ((Button)findViewById(R.id.filter)).setOnClickListener(this);

}

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    switch(v.getId()){
    case R.id.home:

        Intent home=new Intent(this,HomeScreen.class);
        startActivity(home);
        finish();

        break;
    case R.id.search:
        Intent search=new Intent(this,SearchScreen.class);
        startActivity(search);
        finish();
        break;

    case R.id.list:
        Intent list=new Intent(this,ListScreen.class);
        startActivity(list);
        finish();
        break;

    case R.id.filter:
        Intent filter=new Intent(this,FilterScreen.class);
        startActivity(filter);
        finish();
        break;

    default :  break;   

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:08:13.337

好吧，我认为实施这不是一个好主意。但是，您需要将**Context**传递给 clicks 类。从上下文对象中，您将能够访问已单击的控件，并且您可以相应地编写逻辑。

# c# - 如何在未安装 Office 2010 的计算机上安装带有 MS Access 数据库的 Visual Studio 2010 安装项目？

> ID：13854698
> 
> 赞同：3
> 
> 时间：2012-12-13T07:03:39.407
> 
> 标签：c#, wpf, installation, ms-access-2010

我正在用 C# 开发 wpf 应用程序。我已经在 Visual Studio 2010 中成功创建了 wpf 应用程序的安装项目。我使用 MS Access 2010 作为数据库。它可以在所有计算机上正常安装。但是在某些计算机上没有安装 Microsoft Office，并且在某些计算机上安装了 MS Office 2003 等较低版本的 MS Office。当我在这些计算机上安装我的应用程序时，它给我带来了连接问题。你能告诉我我需要做什么吗？我是否需要在 Visual Studio 2010 安装项目中包含 MS Access 2010 的任何先决条件？如果有的话，它们是什么以及如何包含它们？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-06T05:41:26.730

我遇到了同样的问题，但我已经为 Microsoft Access Database Engine 2010 创建了一个引导程序包。我还包含在这个包的 x64 版本中。所以它也应该在 64 机器上工作。要包含任何先决条件，您必须添加一个引导程序包。之后，您可以在先决条件列表中获得它。你已经知道我的想法了。要构建引导程序，您需要 2 个清单 XML 文件。1 是 product.xml，另一个是 package.xml 对吗？我正在编写下面的所有 XML 脚本。

产品 XML：

```
<Product
  xmlns="http://schemas.microsoft.com/developer/2004/01/bootstrapper"
  ProductCode="Access.Database.Engine.2010"
>
  <!-- Defines list of files to be copied on build -->
  <PackageFiles CopyAllPackageFiles="false">
    <PackageFile Name="AccessDatabaseEngine.exe" HomeSite="http://download.microsoft.com/download/2/4/3/24375141-E08D-4803-AB0E-10F2E3A07AAA/AccessDatabaseEngine.exe" />
    <PackageFile Name="AccessDatabaseEngine_x64.exe" HomeSite="http://download.microsoft.com/download/2/4/3/24375141-E08D-4803-AB0E-10F2E3A07AAA/AccessDatabaseEngine_x64.exe" />
  </PackageFiles>

  <RelatedProducts>
    <DependsOnProduct Code="Microsoft.Net.Framework.2.0" />
  </RelatedProducts>

  <InstallChecks>
            <MsiProductCheck Property="IsInstalled" 
                Product="{90140000-00D1-0409-0000-0000000FF1CE}"/>
  </InstallChecks>

  <Commands>
    <Command PackageFile="AccessDatabaseEngine.exe"
         Arguments='/passive'>

      <!-- These checks determine whether the package is to be installed -->

      <InstallConditions>
        <!-- ByPass if the Processor is not x86 -->
        <BypassIf Property="ProcessorArchitecture" Compare="ValueNotEqualTo" Value="Intel"/>

    <!-- ByPass if we have installed -->
        <BypassIf Property="IsInstalled" Compare="ValueGreaterThan" Value="0" />

        <!-- Block install if user does not have admin privileges -->
        <FailIf Property="AdminUser" Compare="ValueEqualTo" Value="false" String="AdminRequired"/>

        <!-- Block install on Win95 -->
        <FailIf Property="Version9x" Compare="VersionLessThan" Value="4.10" String="InvalidPlatformWin9x"/>

        <!-- Block install on NT 4 or less -->
        <FailIf Property="VersionNT" Compare="VersionLessThan" Value="5.00" String="InvalidPlatformWinNT"/>
      </InstallConditions>

      <ExitCodes>
        <ExitCode Value="0" Result="Success"/>
        <ExitCode Value="1641" Result="SuccessReboot"/>
        <ExitCode Value="3010" Result="SuccessReboot"/>
        <DefaultExitCode Result="Fail" FormatMessageFromSystem="true" String="GeneralFailure" />
      </ExitCodes>
    </Command>

    <Command PackageFile="AccessDatabaseEngine_x64.exe"
         Arguments='/passive'>

      <!-- These checks determine whether the package is to be installed -->

      <InstallConditions>
        <!-- ByPass if the Processor is not x64 -->
        <BypassIf Property="ProcessorArchitecture" Compare="ValueNotEqualTo" Value="AMD64"/>

    <!-- ByPass if we have installed -->
        <BypassIf Property="IsInstalled" Compare="ValueGreaterThan" Value="0" />

        <!-- Block install if user does not have admin privileges -->
        <FailIf Property="AdminUser" Compare="ValueEqualTo" Value="false" String="AdminRequired"/>

        <!-- Block install on Win95 -->
        <FailIf Property="Version9x" Compare="VersionLessThan" Value="4.10" String="InvalidPlatformWin9x"/>

        <!-- Block install on NT 4 or less -->
        <FailIf Property="VersionNT" Compare="VersionLessThan" Value="5.00" String="InvalidPlatformWinNT"/>
      </InstallConditions>

      <ExitCodes>
        <ExitCode Value="0" Result="Success"/>
        <ExitCode Value="1641" Result="SuccessReboot"/>
        <ExitCode Value="3010" Result="SuccessReboot"/>
        <DefaultExitCode Result="Fail" FormatMessageFromSystem="true" String="GeneralFailure" />
      </ExitCodes>
    </Command>

  </Commands>
</Product> 
```

包装 XML：

```
<?xml version="1.0" encoding="utf-8" ?> 

<Package
  xmlns="http://schemas.microsoft.com/developer/2004/01/bootstrapper"
  Name="DisplayName"
  Culture="Culture"
  LicenseAgreement="license.txt"
>

  <PackageFiles>
    <PackageFile Name="license.txt"/>
  </PackageFiles>

  <!-- Defines a localizable string table for error messages and url's  -->
  <Strings>
    <String Name="DisplayName">Microsoft Access database engine 2010 (x86, x64)</String>
    <String Name="Culture">en</String>
    <String Name="DotNetFxRequired">Installation of Microsoft Access database engine 2010 requires Microsoft .NET Framework 2.0\. Contact your application vendor.</String>
    <String Name="InvalidPlatformWin9x">Installation of Microsoft Access database engine 2010 is not supported on Windows 95\. Contact your application vendor.</String>
    <String Name="InvalidPlatformWinNT">Installation of Microsoft Access database engine 2010 is not supported on Windows NT 4.0\. Contact your application vendor.</String>
    <String Name="GeneralFailure">A fatal error occurred during the installation of Microsoft Access database engine 2010.</String>
    <String Name="AdminRequired">You do not have the permissions required to install this application.  Please contact your administrator.</String>
  </Strings>

</Package> 
```

许可证.txt

```
For detail please Log on http://www.microsoft.com/en-us/download/details.aspx?id=13255 
```

注意：我已经在我的 Windows 7 x86 机器上进行了测试，它运行良好。如果已经安装，它不会重新安装。我没有 x64 机器，所以我不知道它的产品代码。但我相信它也会起作用。它还从网站下载这个包，我已经测试过了。

如果您需要任何进一步的帮助或完成引导程序包，请告诉我。

干杯。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T07:24:43.820

您可以使用 [Microsoft Access Database Engine 2010 Redistributable](http://www.microsoft.com/en-us/download/details.aspx?id=13255)

**-- 更新 --**
要添加自定义先决条件，您需要创建一个引导程序包，这里有一些说明： [创建引导程序包](http://msdn.microsoft.com/en-us/library/ms165429.aspx)
[使用引导程序清单生成器部署自定义的 Visual Studio 必备项](http://udaykirant.blogspot.se/2010/04/deploying-custom-made-visual-studio.html)

**-- 更新 2 --**
对于 64 位实现，请参阅下面 Massood Khaari 的评论。

# jquery - jquery PageMethod saying the method does not exist

> ID：13854712
> 
> 赞同：2
> 
> 时间：2012-12-13T07:04:54.847
> 
> 标签：jquery, asp.net, ajax, webmethod, pagemethods

i am trying to get a value of this asp.net function :

```
[ScriptMethod, WebMethod]
public static bool checkRefresh()
{
    return isChanging;
} 
```

by calling it in jquery using the PageMethod:

```
var isAllowed = false;
$("#edit").click(function () {
    PageMethods.editFunc();
    PageMethods.checkRefresh(DisplayMyResult);   //this line gives the error, though it's probably because it's first.
});

function DisplayMyResult(ResultString) {
    isAllowed = ResultString;
    if (isAllowed == true || isAllowed == "true") {
        location.reload();
    }
    else {
        PageMethods.checkRefresh(DisplayMyResult);
    }
} 
```

the error i get (in the chrome console) is

```
Uncaught TypeError: Object function () {
PageMethods.initializeBase(this);
this._timeout = 0;
this._userContext = null;
this._succeeded = null;
this._failed = null;
} has no method 'checkRefresh' 
```

i do not know why is it not working, can anyone help?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T05:49:59.860

rather than using ScriptManager I would like to calling the page method with jQuery instead. please go through this nice article [Using jQuery to directly call ASP.NET AJAX page methods](http://encosia.com/using-jquery-to-directly-call-aspnet-ajax-page-methods/)

```
 [WebMethod]
  public static string checkRefresh()
  {
    return isChanging;
  }

$.ajax({
  type: "POST",
  url: "PageName.aspx/checkRefresh",
  data: "{}",
  contentType: "application/json; charset=utf-8",
  dataType: "json",
  success: function(msg) {
    // Do something interesting here.
   }
}); 
```

# java - 如何在 JSP 页面中从 Java 类中设置 hashmap 的值，以便在控制器中进一步使用

> ID：13854714
> 
> 赞同：0
> 
> 时间：2012-12-13T07:05:30.863
> 
> 标签：java, spring, jsp, jstl

需要一些帮助来解决以下问题。

我有 Java 中的 Web 应用程序，带有 Spring（mvc、security）、Hibernate 等。网页源在 JSP 中

我有一个变量索引列表，我需要为其设置值，然后自动处理它。比如说，客户以以下格式看到它们：

```
A1.1 - Description - Dropdown list(0, 0.5, 1)
A1.2 - Description - Dropdown list(0, 0.5, 1)
...etc 
```

域对象是：

```
public class A1Model {
    private HashMap<Integer, Double> map;
    //initilising, getter and setter for map object
} 
```

我有的 JSP 页面：

```
<form:form modelAttribute="m1ChapterModel" method="POST" action="${saveUrl}">
        <c:forEach items="${m1ChapterModel.map}" var="m1_parameter_i">           
                    A1.${m1_parameter_i.key}
                <spring2:message code="M1.1.label"/>
                <form:select path="${m1ChapterModel.map[m1_parameter_i.key]}">
                    <form:option value="0"/>
                    <form:option value="0.5"/>
                    <form:option value="1"/>
.... 
```

但这当然行不通。问题是：

```
<form:select path="${m1ChapterModel.map[m1_parameter_i.key]}"> 
```

问题是：如何修改 Java 类和 JSP 以使其正常工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:54:08.943

代替

```
<form:select path="${m1ChapterModel.map[m1_parameter_i.key]}"> 
```

采用

```
<form:select path="map[${m1_parameter_i.key}]"> 
```

因为路径变量需要路径，而不是具体值

# c# - 什么时候应该使用 Task.Run() 而不是 await？

> ID：13854720
> 
> 赞同：1
> 
> 时间：2012-12-13T07:05:41.970
> 
> 标签：c#, asynchronous, windows-runtime, windows-store-apps

我正在存储我的数据模型的状态。我克隆数据模型，然后希望将其异步写入“磁盘”。

我应该使用在后台线程上运行它的 Task.Run() 吗？或者我应该让它成为一个异步函数而不是等待它？（这将使它在 UI 线程上运行）

与此类似的东西，但我的问题有点不同： [async Task.Run with MVVM](https://stackoverflow.com/questions/8460290/async-task-run-with-mvvm)

决定选择哪一个的标准是什么？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T12:29:38.433

您应该`Task.Run`用于要在线程池线程上运行的基于 CPU 的工作。

在您的情况下，您希望在不阻塞 UI 的情况下进行基于 I/O 的工作，因此`Task.Run`不会得到任何东西（除非您没有可用的异步 I/O API）。

作为旁注，你肯定*想要*这项`await`工作。这使得错误处理更加清晰。

所以，这样的事情就足够了：

```
async void buttonSaveClick(..)
{
  buttonSave.Enabled = false;

  try
  {
    await myModel.Clone().SaveAsync();
  }
  catch (Exception ex)
  {
    // Display error.
  }

  buttonSave.Enabled = true;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:53:54.080

我不认为这很重要。据我所知，这两种方法都被分派到线程池中的一个线程。

使用`async`将使**异步方法在后台线程上运行，并在异步方法完成时继续在启动它的线程上**。您可以想象编译器看到 await 关键字，将 awaited 方法放在后台线程中并连接事件以通知异步方法何时完成。因此，如果您因为成功保存而想要显示 UI 更改，这可能是更好的选择，因为这当然是更少的代码。

`Task.Run()`当您出于任何原因不想将代码放入`async`方法中时会更好，例如因为您希望调用方法本身不是异步的。此外，涉及较少的事件编组，但我严重怀疑是否存在任何性能差异。

# iphone - 如何获取iphone图库中图像的路径

> ID：13854723
> 
> 赞同：4
> 
> 时间：2012-12-13T07:05:51.597
> 
> 标签：iphone, objective-c, ios, path, uiimagepickercontroller

我需要从 iphone 图库上传一张图片，但我没有得到所选择图片的**路径**（使用**图片选择器**）

在图像选择器委托方法中，我正在执行以下操作

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {
    [picker dismissModalViewControllerAnimated:YES];
    imageView.image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

    NSString *strImagePath = [info valueForKey:UIImagePickerControllerReferenceURL];
    NSString *strImagePath1 = [info valueForKey:UIImagePickerControllerMediaURL];
    NSLog(@"%@",strImagePath);
    NSLog(@"%@",strImagePath1);
    NSLog(@"%@",info);

} 
```

并且信息字典包含以下键值

```
{
    UIImagePickerControllerMediaType = "public.image";
    UIImagePickerControllerOriginalImage = "<UIImage: 0x16adc0>";
    UIImagePickerControllerReferenceURL = "assets-library://asset/asset.PNG?id=1000000153&ext=PNG";
} 
```

我使用键 UIImagePickerControllerReferenceURL 的值作为将其上传到 FTP 的图像路径，但我无法上传文件，可能我采用的路径不正确。

**任何人都可以帮助我如何使用图像选择器获取拾取图像的实际路径**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-13T07:48:29.813

可能对你有帮助

```
[picker dismissModalViewControllerAnimated:YES];
imageView.image= [info objectForKey:@"UIImagePickerControllerOriginalImage"];
NSData *webData = UIImagePNGRepresentation(imageView.image);
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = [paths objectAtIndex:0];
NSString *localFilePath = [documentsDirectory stringByAppendingPathComponent:png];
[webData writeToFile:localFilePath atomically:YES];
NSLog(@"localFilePath.%@",localFilePath);

UIImage *image = [UIImage imageWithContentsOfFile:localFilePath]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:15:13.393

转换你的图像`NSData`，然后上传这个`NSData`。

您在 NSData 中的图像

```
NSData *dataImage = UIImageJPEGRepresentation([info objectForKey:@"UIImagePickerControllerOriginalImage"],1); 
```

或者您可以将 yourImage 转换为`NSData`使用

```
NSData *dataImage = UIImagePNGRepresentation(yourImageView.image); 
```

有关更多信息，请阅读[NSData 类参考](http://developer.apple.com/documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/)

# jquery - 如何使用 jquery 禁用表单元素

> ID：13854724
> 
> 赞同：0
> 
> 时间：2012-12-13T07:05:52.980
> 
> 标签：jquery, disabled-control

我在一个页面上有多个表单元素，每个表单都有一个下一步按钮。我填写了一个表格，然后单击下一个按钮滚动到下一个表格。我希望在用户单击下一步按钮时填写表单后，它应该禁用先前元素的所有元素。

**我尝试了什么：**
我为所有表单分配了唯一`id`性并尝试了以下操作

```
$('form #firstFrm').find('input').attr('disabled','disabled'); 
```

但它什么也没做。

```
$("#firstFrm> input").attr("disabled", true); 
```

但没有效果。

```
$("#firstFrm :input").attr("disabled", true); 
```

为此，它不是`form`使用`id` **firstFrm**禁用元素，而是禁用所有形式的元素。

如何仅禁用特定形式的元素。

**HTML 代码**

```
<form action="" method="post">      
    <fieldset class="sectionwrap">
        <legend style="padding-right: 425px;">User Details</legend>
        <fieldset class="column" style= "width: 500px;margin-top: 10px;">
            <div id="firstFrm">
                <table style="padding-right: 20px; float: left"> 
                    <tr>
                        <td id="targetTD">
                            Username : <input id="email" type="email" name="email"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Password : <input id="password" name="password" type="password" class="text" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            password : <input id="confirmPassword" name="confirmPassword" type="password" class="text" />
                        </td>
                    </tr>
                </table>
            </div>
        </fieldset>

    </fieldset>
</form> 
```

## 解决方案

我在`div`下面创建`form`并将所有元素放入其中`div`，而不是在下面`form`禁用元素`div`。这工作得很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:12:53.197

这会有点冗长，但是您可以在用户进入下一个输入类型后立即尝试，您可以使用其 id 禁用上述元素，即

```
{ $( '#input' ).attr ( 'disabled', true ); } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:22:57.607

`$('form #firstFrm')`将寻找`id="firstForm"`在另一个`<form>`元素内的表单

```
<form>
    <div>
        <form id="firstForm"></form>
    </div>
</form> 
```

`$("#firstFrm > input")`只会得到`<input/>`表单的直接子级

```
<form>
    <input />     // this is matched
    <div>
        <input/>  // this is not matched
    </div>
</form> 
```

要获取所有输入，请尝试以下操作：

```
$("input", $("#formId")).attr("disabled", true) 
```

或者

```
$("#formId input").attr("disabled", true) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:07:53.243

试试这个：

```
$( '#firstFrm input' ).attr ( 'disabled', true ); 
```

# ruby-on-rails - Rails 3 控制器私有方法作为辅助方法

> ID：13854727
> 
> 赞同：4
> 
> 时间：2012-12-13T07:06:04.837
> 
> 标签：ruby-on-rails

是否有必要像在控制器中一样提及控制器中的私有方法`helper_methods`？喜欢

```
class PostsController < ApplicationController
  helper_method :check_something

  def new
    check_something
    @post = Post.new
  end

  def show
    @post = Post.find(params[:id])
  end

private

  def check_something
    redirect_to(root_path) and return if something
  end
end 
```

是否声明： `helper_method :check_something`必需？如果是，为什么？

当我从控制器操作方法调用私有方法时，`params`可以在私有方法还是方法中访问哈希`helper`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T07:21:39.573

我认为您误解了“helper_method”的概念。

`helper_method`用于使您的控制器方法充当辅助模块中的方法

因此，在您的控制器内部，您始终可以在没有“ `helper_method`”部分的情况下访问您的私有方法

如果您添加一个控制器方法作为辅助方法，就像您已经完成的那样，在您的视图中您可以简单地调用它

对于您的第二个问题，是的，可以通过控制器私有方法访问参数哈希

高温高压

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-13T07:11:53.143

不，没有必要。您始终可以`private`在控制器中调用控制器的方法。

此外，控制器内`params`的方法将自动可用。`private`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-13T07:16:00.003

无需在控制器中提及私有方法作为辅助方法。您可以通过传递参数（如 params）或任何东西直接从同一控制器的其他方法调用它们。

```
class ContorllerName < ApplicationController
 def index
  private_method(params)
 end
 private
 def private_method(vals)
   vals
 end 
end 
```

# asp.net-mvc-3 - 学习 ASP.NET MVC 3 EntityFramework library 4.1.0.0（不是最新的）并且没有得到任何数据

> ID：13854730
> 
> 赞同：1
> 
> 时间：2012-12-13T07:06:19.803
> 
> 标签：asp.net-mvc-3

我的背景是：

```
public class RegistrationManagerContext : DbContext
{
    public DbSet<User> Users { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<User>()                
            .ToTable("aspnet_Users");
    }
} 
```

我的用户类是：

```
[Table("aspnet_Users")]
public class User
{
    [Key]
    [Display(AutoGenerateField = true)]
    [Required]
    public Guid UserId { get; set; }

    [DataType("nvarchar")]
    [MaxLength(256)]
    [Required]
    public string UserName { get; set; }

    [DisplayFormat(ApplyFormatInEditMode = true, ConvertEmptyStringToNull = true, DataFormatString = "{0:d}")]
    [Required]
    public DateTime LastActivityDate { get; set; }

    [NotMapped]
    public AccountProfile Profile
    { 
        get 
        { 
            if (_profile == null)
            {
                _profile = AccountProfile.GetUserProfile(this.UserName);
            }
            return _profile;
        }
    }
    private AccountProfile _profile = null;
} 
```

我的调用方法（控制器）是：

```
namespace RegistrationManager.Controllers
{

    [Authorize(Roles="Admins")]
    public class AdminController : Controller
    {

        private RegistrationManagerContext db = new RegistrationManagerContext();

        //
        // GET: /Admin/

        public ActionResult Index(int? id)
        {
            var viewModel = db.Users;
            if (id.HasValue)
            {
                ViewBag.UserID = id.Value;
            }
            return View(viewModel);
        }

    }
} 
```

我的看法是：

```
@model IEnumerable<RegistrationManager.Models.User>

@{
        ViewBag.Title = "Users";
}

<h2>Users</h2>

<table>
    <tr>
        <th>Email Address</th>
        <th>Given Names</th>
        <th>Surname</th>
        <th>Last Ac</th>
        <th>Refresh</th>
    </tr>

@foreach (var item in Model)
{
    string selectedRow = "";
    if (ViewBag.UserId != null && item.UserId == ViewBag.UserId)  
    {  
        selectedRow = "selectedrow";  
    }  
    <tr class="@selectedRow" valign="top">
        <td>
            @item.UserName
        </td>
        <td>
            @item.Profile.GivenNames
        </td>
        <td>
            @item.Profile.Surname
        </td>
        <td>
            @String.Format("{0:d}", item.LastActivityDate)
        </td>
        <td>
            @Html.ActionLink("Refresh", "Refresh", "Admin", new { id = item.UserId }) 
        </td>
    </tr>
}
</table> 
```

那么我做错了什么或者我错过了什么？因为我没有数据！？？？肯定有数据，因为我至少应该看到我自己的登录信息，对吧！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:33:31.257

你不应该做这样的事情：

```
 public ActionResult Index(Guid? id)
    {
        if (id.HasValue)
        {
            var viewModel = db.Users.Where(x=>x.UserId == id.Value).FirstOrDefault();
            //ViewBag.UserID = id.Value; //You do not need it here
            if(viewModel != null)
                  return View(viewModel);
        }
        return RedirectToAction("UsersListPage");
    } 
```

更新#1

控制器：

```
 public ViewResult Index(){
           return View(db.Users.ToList());
    } 
```

看法：

```
 @model IEnumerable<YourNamespace.User>

    @foreach (var user in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => user.UserName)
        </td>            
    </tr>
     } 
```

这不适合你吗？

# java - 使用 Junit 进行数据驱动测试

> ID：13854732
> 
> 赞同：1
> 
> 时间：2012-12-13T07:06:21.950
> 
> 标签：java, unit-testing, junit, data-driven-tests

我是junit概念的新手。

谁能清楚地向我解释数据驱动的概念是什么？

另一个问题是我们是否可以`RunWith`在一个 junit 类中编写两个带注释的方法。

```
@RunWith(Parameterized.class)
... 
```

和

```
@RunWith(Theories.class)
... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:14:55.750

[http://support.smartbear.com/viewarticle/29139/](http://support.smartbear.com/viewarticle/29139/)

详细解释数据驱动的概念。简而言之，它主要涉及创建不同的数据集来测试代码。主要用于编写自动化测试用例，其中一段代码总是通过不同类型的测试数据运行并测试所需的输出。

对于第二个问题，我认为多个 @Runwith 方法没有意义，因为它是 junit 加载正确运行器以执行测试用例而不是内置于 Junit 中的默认运行器的指令。我也没试过。希望这能为您的问题提供一些答案。

# python - Python 请求 - 管理 cookie

> ID：13854735
> 
> 赞同：15
> 
> 时间：2012-12-13T07:06:43.027
> 
> 标签：python, cookies, python-requests

我正在尝试使用请求（和 bs4）从站点自动获取一些内容

我有一个获取 cookie 的脚本：

```
def getCookies(self):
    username = 'username'
    password = 'password'
    URL = 'logonURL'
    r = requests.get(URL, auth=('username', 'password'))
    cookies = r.cookies 
```

cookie 的转储如下所示：

```
<<class 'requests.cookies.RequestsCookieJar'>[<Cookie ASP.NET_SessionId=yqokjr55ezarqbijyrwnov45 for URL.com/>, <Cookie BIGipServerPE_Journals.lww.com_80=1440336906.20480.0000 for URL.com/>, <Cookie JournalsLockCookie=id=a5720750-3f20-4207-a500-93ae4389213c&ip=IP address for URL.com/>]> 
```

但是当我将 cookie 对象传递给下一个 URL 时：

```
 soup = Soup(s.get(URL, cookies = cookies).content) 
```

它不工作 - 我可以通过倾倒汤看到我没有正确地向网络服务器提供我的凭据

我尝试运行请求会话：

```
def getCookies(self):
    self.s = requests.session()
    username = 'username'
    password = 'password'
    URL = 'logURL'
    r = self.s.get(URL, auth=('username', 'password')) 
```

我得到同样的不快乐。

当我访问第二页时，我通过 FF 中的 liveHttp 查看了标题，并看到了一个非常不同的形式：

```
Cookie: WT_FPC=id=264b0aa85e0247eb4f11355304127862:lv=1355317068013:ss=1355314918680; UserInfo=Username=username; BIGipServerPE_Journals.lww.com_80=1423559690.20480.0000; PlatformAuthCookie=true; Institution=ReferrerUrl=http://logonURL.com/?wa=wsignin1.0&wtrealm=urn:adis&wctx=http://URL.com/_layouts/Authenticate.aspx?Source=%252fpecnews%252ftoc%252f2012%252f06440&token=method|ExpireAbsolute; counterSessionGuidId=6e2bd57f-b6da-4dd4-bcb0-742428e08b5e; MyListsRefresh=12/13/2012 12:59:04 AM; ASP.NET_SessionId=40a04p45zppozc45wbadah45; JournalsLockCookie=id=85d1f38f-dcbb-476a-bc2e-92f7ac1ae493&ip=10.204.217.84; FedAuth=77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U2VjdXJpdHlDb250ZXh0VG9rZW4gcDE6SWQ9Il9mMGU5N2M3Zi1jNzQ5LTQ4ZjktYTUxNS1mODNlYjJiNGNlYzUtNEU1MDQzOEY0RTk5QURCNDFBQTA0Mjc0RDE5QzREMEEiIHhtbG5zOnAxPSJodHRwOi8vZG9jcy5vYXNpcy1vcGVuLm9yZy93c3MvMjAwNC8wMS9vYXNpcy0yMDA0MDEtd3NzLXdzc2VjdXJpdHktdXRpbGl0eS0xLjAueHNkIiB4bWxucz0iaHR0cDovL2RvY3Mub2FzaXMtb3Blbi5vcmcvd3Mtc3gvd3Mtc2VjdXJlY29udmVyc2F0aW9uLzIwMDUxMiI+PElkZW50aWZpZXI+dXJuOnV1aWQ6ZjJmNGY5MGItMmE4Yy00OTdlLTkwNzktY2EwYjM3MTBkN2I1PC9JZGVudGlmaWVyPjxJbnN0YW5jZT51cm46dXVpZDo2NzMxN2U5Ny1lMWQ3LTQ2YzUtOTg2OC05ZGJhYjA3NDkzOWY8L0luc3RhbmNlPjwvU2VjdXJpdHlDb250ZXh0VG9rZW4+ 
```

出于显而易见的原因，我已经从问题中删除了用户名、密码和 URL。

我错过了一些明显的东西吗？是否有不同/正确的方法来捕获 cookie - 我正在使用的当前方法不起作用。

编辑：

这是会话代码的独立版本：

```
s = requests.session()
username = 'username'
password = 'password'
URL = 'logonURL.aspx'
r = s.get(URL, auth=('username', 'password'))
URL = r"URL.aspx"
soup = Soup(s.get(URL).content) 
```

阅读汤的转储，我可以在 html 中看到它告诉我我无权访问 - 此字符串仅在您未登录时通过浏览器显示。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-10-02T03:04:17.350

我有一个类似的问题，并在这个问题中找到了帮助。会话 jar 是空的，要实际获取我需要使用会话的 cookie。

```
session = requests.session()
p = session.post("http://example.com", {'user':user,'password':password})
print 'headers', p.headers
print 'cookies', requests.utils.dict_from_cookiejar(session.cookies)
print 'html',  p.text 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-13T07:11:09.100

您应该重用整个*会话*对象，而不是关联的 cookiejar。用于`self.s`您提出的所有请求。

如果您的请求在重用会话时仍然失败，它们将因不同的原因而失败，而不是因为您没有正确返回 cookie。

请注意，如果您需要使用`auth=('username', 'password')`，则身份验证是基于 HTTPAuth 的，而不是基于 cookie 的。您需要为所有调用传递相同的身份验证。requests 会话也可以为您执行此操作：

```
s = requests.session(auth=('username', 'password')) 
```

但是，如果登录页面是带有用户名和密码字段的表单，则您需要改为调用表单目标。检查表单是 POST 还是 GET，并检查字段名称：

```
s.post(loginTarget, {usernamefield=username, passwordfield=password, otherfield=othervalue}) 
```

并且根本不使用 HTTP 身份验证。

# android - 图像的字节数组到 imageview

> ID：13854742
> 
> 赞同：42
> 
> 时间：2012-12-13T07:07:02.993
> 
> 标签：android, android-imageview

我已经搜索了一下，但无法清楚地看到它。如何将图像的字节数组设置为`ImageView`？我试过这个，但没有用。

```
BufferedImage img = ImageIO.read(new ByteArrayInputStream(bytes)); 
```

* * *

## 回答 #1

> 赞同：114
> 
> 时间：2012-12-13T07:10:52.083

这是您可以将 a 转换`Bitmap`为 a`ByteArray`并将 a转换为`ByteArray`a 的方法`Bitmap`：

* * *

将位图转换为字节数组：

```
Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.ic_launcher);
ByteArrayOutputStream stream = new ByteArrayOutputStream();
bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);
byte[] byteArray = stream.toByteArray(); 
```

将 ByteArray 转换为位图：

```
Bitmap bmp = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);
ImageView image = (ImageView) findViewById(R.id.imageView1);
image.setImageBitmap(Bitmap.createScaledBitmap(bmp, image.getWidth(), image.getHeight(), false)); 
```

# json - jQuery ajax 回调 json 解析问题

> ID：13854752
> 
> 赞同：0
> 
> 时间：2012-12-13T07:07:32.480
> 
> 标签：json, jquery, github

我正在使用 Github API V3

我正在使用以下代码进行 ajax 调用

```
$.ajax({
    type:'POST',
    url: 'https://api.github.com/gists',
    data: JSON.stringify({
        "public": true,
        "files": {
            "sample.html": {
                "content": 'html content'
            }           
        }, 
    }),
    success:function(response){
        alert(response.id);
    }
}); 
```

我必须对数据进行字符串化，因为 Github API 返回错误 400！如果我不这样做。对于上面的例子，Github API 会按照我的预期做出响应。

我在回调解析方面遇到了问题。上面的代码适用于 webkit & opera，但 firefox 失败并显示成功功能。我必须修改如下代码才能在 Firefox 中工作。

```
success:function(response){
    alert(JSON.parse(response).id);
} 
```

但随后 Webkit & Opera 失败，并使用上述修改后的代码成功响应。

在所有浏览器中获得成功回调的正确方法是什么？我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:15:23.063

将`dataType: 'json',`属性添加到您的 ajax 调用检查它是否有效..如下所示

```
$.ajax({
  url: url,
  dataType: 'json',
  data: data,
  success: callback
}); 
```

# java - 使用 spring-data-mongodb 持久化包含对象的对象

> ID：13854753
> 
> 赞同：5
> 
> 时间：2012-12-13T07:07:35.100
> 
> 标签：java, naming-conventions, spring-data, mongodb-java, spring-data-mongodb

[以下是问题 13832188](https://stackoverflow.com/questions/13832188)的后续问题：

我正在使用`spring-data-mongodb`版本`1.1.1.RELEASE`。如果所有成员变量都是原始类型，即使参数的名称与使用和注释 `@PersistenceConstructor`的成员变量的名称不完全匹配，我也能够持久化一个对象。`@Field``@Value`

但是，`MappingInstantiationException`当我尝试持久化包含其他对象的对象时，我得到了一个。我的问题：

*   这是一个错误`spring-data-mongodb`还是我做错了什么？
*   需要更改哪些内容才能正确持久化包含对象的对象？

.

```
org.springframework.data.mapping.model.MappingInstantiationException: Could not instantiate bean class [com.recorder.TestRecorder2$ObjectContainer]: Illegal arguments for constructor; nested exception is java.lang.IllegalArgumentException: argument type mismatch
    at org.springframework.data.convert.ReflectionEntityInstantiator.createInstance(ReflectionEntityInstantiator.java:77)
    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:229)
    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:209)
    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:173)
    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:169)
    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:72)
    at org.springframework.data.mongodb.core.MongoTemplate$ReadDbObjectCallback.doWith(MongoTemplate.java:1820)
    at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1542)
    at org.springframework.data.mongodb.core.MongoTemplate.findAll(MongoTemplate.java:1064)
    at com.recorder.TestRecorder2.testObjectContainer(RecorderTest2.java:63)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.recorder.TestRecorder2$ObjectContainer]: Illegal arguments for constructor; nested exception is java.lang.IllegalArgumentException: argument type mismatch
    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:158)
    at org.springframework.data.convert.ReflectionEntityInstantiator.createInstance(ReflectionEntityInstantiator.java:75)
    ... 34 more
Caused by: java.lang.IllegalArgumentException: argument type mismatch
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)
    ... 35 more 
```

我`PrimitiveContainer`和`ObjectContainer`班级如下：

```
@Document
class PrimitiveContainer {

    @Field("property") 
    private final int m_property;

    @PersistenceConstructor
    public PrimitiveContainer(@Value("#root.property") int a_property) {
        m_property = a_property;
    }

    public int property() {
        return m_property;
    }
}

@Document
class ObjectContainer {

    @Field("property") 
    private final PrimitiveContainer m_property;

    @PersistenceConstructor
    public ObjectContainer(@Value("#root.property") PrimitiveContainer a_property) {
        m_property = a_property;
    }

    public PrimitiveContainer property() {
        return m_property;
    }
} 
```

* * *

**更新：**奇怪的是，将注释中的字符串更改为`@Field`“属性”以外的内容或完全删除`@Field`注释以`ObjectContainer` `m_property`允许 spring-data-mongo-db 属性重新实例化我的持久`ObjectContainer`类。我不明白为什么会这样。有人有想法么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T20:24:25.777

你似乎发现了一个错误。从第一个 Spel 表达式求值得到的值是 a`DBObject`并且实际上并未转换为参数类型。我已经在本地有一些代码可以解决这个问题。你介意创建一个针对 Spring Data MongoDB 的票证以将其归档为错误吗？

# android - facebook.request 2nd 时间，返回 OAuthException 错误代码 2500

> ID：13854754
> 
> 赞同：0
> 
> 时间：2012-12-13T07:07:39.423
> 
> 标签：android, facebook

我尝试从我的 facebook 帐户获取专辑列表，但我的帐户中有超过 25 张专辑，facebook 在每次查询时只返回 25 张专辑。

1.  第一次正常使用查询专辑前25张专辑列表

    ```
     facebook.request(me/albums); 
    ```

    并成功返回专辑列表。

2.  我使用以下查询接下来的 25 个专辑，它将返回错误代码 2500

    ```
    facebook.request(me/albums?after=.......); 
    ```

得到回应是

```
response = {"error":{"message":"An active access token must be used to query information about the current user.","type":"OAuthException","code":2500}} 
```

如果我在我的请求字符串中手动添加访问令牌，像这样

```
 facebook.request(me/albums?after=.......&access_token=......); 
```

它将返回错误代码 190

```
 response = {"error":{"message":"Malformed access token ...............?access_token=...............","type":"OAuthException","code":190}} 
```

我做错什么了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T03:55:02.113

我发现使用命令 facebook.request 时会出现错误代码 2500 的问题。

在 Graph API Explorer 网站中查询时，相同的命令可以正常工作，但在代码运行时将无法正常工作。

所以最后我改变了获取专辑列表的方式。使用 FQL 查询，那么这个问题就解决了。

# .net - 使用 vb.net 的网络爬虫/蜘蛛

> ID：13854760
> 
> 赞同：1
> 
> 时间：2012-12-13T07:08:13.460
> 
> 标签：.net, vb.net, web-crawler

我正在寻找一种方法来自动化一项非常耗时的任务。我们有制造商名称和产品编号，我们会在网络上搜索以查找同时具有信息的站点，或者更确切地说是搜索制造商或供应商站点，并使用链接上的信息来填充我们数据库中的相关字段。

手动搜索过程会消耗大量时间，我正在寻找一种工具，它可以将名称和产品＃作为输入在网络上搜索与输入匹配的站点并转储这些链接。

有人能帮我一下吗！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:28:38.460

您要实现的目标需要大量工作，恐怕您没有提供足够的信息让我深入了解细节。然而，概括地说，一个简单的爬虫算法需要以下步骤：

*   为所需的 url创建一个[HttpWebRequest实例。](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest%28v=vs.100%29.aspx)如果您需要执行 POST 请求，请使用[GetRequestStream()](http://msdn.microsoft.com/en-us/library/d4cek6cc%28v=vs.100%29.aspx)方法填充正文。
*   在请求上调用[GetResponse()](http://msdn.microsoft.com/en-us/library/system.net.httpwebrequest.getresponse%28v=vs.100%29.aspx)以从服务器获取响应。使用[GetResponseStream()](http://msdn.microsoft.com/en-us/library/system.net.httpwebresponse.getresponsestream%28v=vs.100%29.aspx)从响应中读取 HTML 标记；
*   使用[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)遍历 DOM 节点并选择所需的数据。
*   使用[Fiddler](http://www.fiddler2.com/fiddler2/)查看浏览器发送的内容与您的应用程序发送的内容之间的区别。
*   最后但同样重要的是，如果您遇到无法解决或不知道答案的问题 - 您已经知道如何使用[StackOverflow](https://stackoverflow.com/) :)

# java - 如何处理jsp、java和js代码中的连续页面刷新

> ID：13854762
> 
> 赞同：1
> 
> 时间：2012-12-13T07:08:19.040
> 
> 标签：java, javascript, jsp

如果用户使用 F5 功能键不断刷新页面，则页面加载非常缓慢，并且可以长时间看到空白页面。

如何解决这个问题呢？

我尝试在服务器端使用缓存，但我认为我没有以正确的方式使用它。

有人可以帮我举个例子。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:15:56.087

很难阻止用户按 F5。

尝试使您的代码更加优化。使用[元标记](http://www.i18nguy.com/markup/metatags.html)进行缓存，例如：

缓存控制 EXPIRES PRAGMA NO-CACHE

还要检查[JSP](https://stackoverflow.com/q/1953431/420613)缓存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:12:14.030

我认为您需要使用浏览器缓存，它可以通过 http 标头或元标记来控制。 [http://www.mnot.net/cache_docs/](http://www.mnot.net/cache_docs/)

您需要将页面缓存设置为大约 5 秒或某个类似值，以便在该时间间隔内不会向服务器发送新请求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:19:14.163

一些东西：

1.  您可以尝试最小化应用程序中的处理时间，也许是通过最小化浪费的操作。听起来您的应用程序花费大量时间重新创建输出。

2.  您可以尝试在服务器端添加某种缓存，并在一段时间内向用户发送相同的页面（即没有“新”处理）。根据机制，这可能不可行（https，安全性？）。至少，afaik。

3.  当然，您可以更改网站的工作方式。您可以使用 Ajax 将信息推送到用户所在的站点，从而消除他刷新的冲动。

4.  也许您的服务器没有足够的能力同时为大量用户提供服务？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-14T06:28:10.137

response.setIntHeader("刷新",5); 只需使用此 jsp 方法自动刷新您的网页... [http://www.tutorialspoint.com/jsp/jsp_auto_refresh.htm](http://www.tutorialspoint.com/jsp/jsp_auto_refresh.htm)

# javascript - 无法将 html 元素附加到主干中的 el。

> ID：13854772
> 
> 赞同：4
> 
> 时间：2012-12-13T07:09:47.317
> 
> 标签：javascript, backbone.js, frameworks

我似乎对下面的代码有问题。我的 html 中有一个 id='content' 的 div 元素。我想用 div 元素替换 el 属性的 'body' 元素，但是当我输入 el: $('div') 或 el:$('div#content') 或 el: $( '＃内容'）。我是backbone.js的初学者，据我所知，我相信这个el属性包含我们的父标签，我们所有的模板都将作为子元素添加（在这种情况下，'body'标签是父元素，'p'标签是孩子）。

```
(function($){
    var ListView = Backbone.View.extend({
    el: $('body'),      

    initialize: function(){
        this.render();
    },

    render: function(){
        (this.el).append("<p>Hello World</p>");
    }
});

var listView = new ListView();
})(jQuery); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T07:30:26.133

该`View.el`属性应定义为 jQuery 选择器（字符串），而不是对 HTML 元素的引用。

从[骨干文档](http://backbonejs.org/#View-el)：

```
var BodyView = Backbone.View.extend({
  el: 'body'
}); 
```

或者如你所愿，

```
el:'div#content' 
```

当视图初始化时，Backbone 引用元素使其通过`view.$el`属性可用，该属性是一个缓存的 jQuery 对象。

```
this.$el.append("<p>Hello World</p>"); 
```

您发布的示例代码有效，因为始终只有一个`body`元素，并且在呈现视图时该元素已经存在于 DOM 中。因此，当您声明 时`el:$('body')`，您将获得对 body 元素的引用。中的代码`render`有效，因为 this.el 现在是对 jQuery 对象的直接引用：

```
(this.el).append("<p>Hello World</p>"); 
```

如果您需要使用现有的 DOM 元素（不是选择器）初始化 Backbone 视图，Backbone 文档建议在[初始化](http://backbonejs.org/#View-constructor)函数中传递它。

# database - 如何从 servlet 同步数据库读取和写入

> ID：13854774
> 
> 赞同：0
> 
> 时间：2012-12-13T07:10:03.700
> 
> 标签：database, jsp, servlets

我有一个 Servlet，当请求到来时它会检查用户 ID，然后如果 id 不存在，它会在数据库中创建一个新的用户 ID。但是，如果我收到多个延迟很短的请求，那么所有这些请求往往会看到目前没有用户并创建多个具有相同名称的用户。我只是不想让用户 id 字段唯一来解决这个问题。除了用户 ID，我还存储了一些相关数据。

我需要知道如何在一个 Servlet 请求完成处理之前保持数据库锁定。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-13T07:20:54.910

您需要使您的 servlet 代码同步。

简单的方法是让你的 servlet 实现 SingleThreadModel。

[http://www.javatpoint.com/SingleThreadModel-interface](http://www.javatpoint.com/SingleThreadModel-interface)

但这不是一个好方法，因为您的 servlet 一次只能处理一个线程/请求。好的解决方案是同步您检查和生成 uid 的部分。

# drupal - drupal面板或区域？

> ID：13854780
> 
> 赞同：0
> 
> 时间：2012-12-13T07:10:27.003
> 
> 标签：drupal, drupal-7, grid, drupal-modules, drupal-theming

我想让我的 Drupal 7 站点看起来像 www.io1.biz

我该怎么办？不同之处在于我想添加最新内容类型的三个视图，而不是最大图像下方的三列......我想更改图片。我该怎么办？我应该使用面板还是自定义 drupal 区域？看起来很简单。如果答案是面板，我的网站在面板上有一些 ajax 问题，我现在不知道如何解决这个问题。[问题在[这里](http://drupal.org/node/1863608)和[这里](https://drupal.stackexchange.com/questions/52902/panels-ajax-problem)]，我应该使用哪个主题？唯一的事情就是在 h1 标签中添加border-bottom！我想....有没有什么主题可以让我简单地通过拖放来制作这个子主题？谢谢各位大师

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:13:43.043

我建议使用区域。它更加灵活和可维护。

如果这些块只出现在首页，最好为首页使用单独的模板`page--front.tpl.php`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T09:32:12.060

使用 Zeropoint 主题，它具有三个区域选项并复制粘贴 page.tpl.php 并将其重命名为 page--front.tpl.php 并根据您的要求对其进行自定义。

io1.biz 网站很简单，你可以很容易地复制这个网站。

# c# - 我在 Asp.net MVC 中从 SQL 获取数据时超时

> ID：13854783
> 
> 赞同：0
> 
> 时间：2012-12-13T07:10:36.963
> 
> 标签：c#, sql, sql-server, asp.net-mvc

我有一个只有 2 个表的数据库`Object`，，`User`

显然用户表有关于所有用户的信息，而对象表有数百万条记录

**对象表**

1.  标识（整数）
2.  文本 1 (nvarchar(max))
3.  文本 2 (nvarchar(max))

我正在尝试制作翻译器，首先我将所有数据放入数据库中，如下所示

1：好，好
2：坏，不好
3：男人，女人的丈夫

如果假设我的网站用户中有 2 个文本框，请输入以下文本

`Good Bad Man`

然后我将在空间上拆分该字符串，然后我将拥有一个字符串数组，现在我将获取数组的第一个元素并转到服务器以查找无论`Good`在我的数据库中是否有任何匹配项，如果我找到匹配项，那么我将替换它与`Text2`我们所拥有`Well`的价值一样，`Good` 它花费了太多时间来翻译，有时它会给出`Request Timed Out`。那么，处理它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:01:03.913

您没有提供很多信息来帮助您解决超时问题。

我只能告诉你的是：

*   首先，检查您的 Text1 和 Text2 列上是否有索引。如果没有，添加它
*   看看你的 sql 查询。应该是`SELECT * FROM OBJECT WHERE TEXT1='Good'`（也许添加前 100 名以避免使用 LIKE 返回许多事情）。为了使索引顺利运行，TEXT1 列上不应调用任何函数（如大写或修剪）。如果用like的话应该是TEXT1 LIKE 'good%'（%结尾）
*   如果您使用like，请注意不要在空条目、% 或 _ 条目上返回整个表（LIKE '%'、LIKE '%%'、LIKE '_%' 可能是坏事）
*   如果您只是存储单词，为什么要使用 nvarchar(max) ？
*   不要忘记清理您的条目以避免sql注入

# actionscript-3 - Adboe AGAL 对寄存器感到困惑

> ID：13854785
> 
> 赞同：0
> 
> 时间：2012-12-13T07:10:43.390
> 
> 标签：actionscript-3, flash, stage3d, agal

我对寄存器有点困惑。

在这篇文章中， [http://www.adobe.com/devnet/flashplayer/articles/what-is-agal.html](http://www.adobe.com/devnet/flashplayer/articles/what-is-agal.html)

有两行 AGAL 代码

```
m44 op, va0, vc0
mov v0, va1 
```

第一行将计算结果放入运算寄存器，但第二行没有操作运算寄存器，

那么做第一行是什么意思？

我还找到了一个演示：

```
//compile vertex shader
var vertexShader:Array =
    [
    "dp4 op.x, va0, vc0", //4x4 matrix transform from 0 to output clipspace
    "dp4 op.y, va0, vc1",
    "dp4 op.z, va0, vc2",
    "dp4 op.w, va0, vc3",
    "mov v0, va1.xyzw"    //copy texcoord from 1 to fragment program
    ];
var vertexAssembler:AGALMiniAssembler = new AGALMiniAssembler();
vertexAssembler.assemble(flash.display3D.Context3DProgramType.VERTEX, vertexShader.join("\n"));

//compile fragment shader
var fragmentShader:Array =
    [
    "mov ft0, v0\n",
    "tex ft1, ft0, fs1 <2d,clamp,linear>\n", //sample texture 1     
    "mov oc, ft1\n"
    ]; 
```

在vertexShader中，前三行也将reslut放在op中，但第四行alos没有使用它。

那是什么意思？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:56:27.290

第一行简单地将当前顶点位置和模型-视图-投影矩阵相乘，并将结果写入输出寄存器。

第二行使用可变寄存器将一些数据传递给像素着色器。由于这两行是我能看到的所有代码，我只能说 va1 可能包含纹理 UV 坐标。

# javascript - 在特定字符串之后删除

> ID：13854786
> 
> 赞同：1
> 
> 时间：2012-12-13T07:10:44.573
> 
> 标签：javascript, regex, string

我有一些文字内容

```
atxtCtnt = "Helow Hay How Are You" 
```

如果**Hay**存在，我需要删除**Hay 你好吗**

我是这样做的：

```
var atxtCtnt = "Helow Hay How Are You",
txt = atxtCtnt.substring(atxtCtnt.indexOf("Hay"));
atxtCtnt = atxtCtnt.replace(txt , "");
alert(atxtCtnt ); 
```

请在没有 RegExp 的情况下以更好的方式帮助我

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T07:17:32.173

如果您不想使用正则表达式...我认为这会使您的代码更短一些

```
a = atxtCtnt.indexOf('Hay');
atxtCtnt = a >=0?atxtCtnt.substring(0,a):atxtCtnt; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T07:18:01.260

您需要从 0 到索引的子字符串。但仅当索引大于 0 时（文中存在“干草”一词）。像这样

```
var atxtCtnt = "Helow Hay How Are You";
var index = atxtCtnt.indexOf("Hay");
var newText = (index < 0) ? atxtCtnt : atxtCtnt.substring(0, index);
alert(newText);
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T07:12:33.953

这应该有效：

```
atxtCtnt = atxtCtnt.substring(0, atxtCtnt.indexOf("Hay")); 
```

**编辑**：要考虑是否`Hay`不存在：

```
atxtCtnt = atxtCtnt.substring(0, atxtCtnt.indexOf("Hay") === -1 ? atxtCtnt.length : atxtCtnt.indexOf("Hay")); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-13T07:17:51.913

我不确定这是否比子字符串更好的解决方案，但你也可以试试这个：

```
atxtCtnt.split('Hay')[0] 
```

您可以像这样删除“Helow”末尾的空格：

```
atxtCtnt.split('Hay')[0].trim() 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-12-13T07:18:43.300

```
var word = "Hay";
var a = "Helow Hay How Are You";
var b = a.split(word); // now you have two parts b[0] = Helow and b[1] = How Are You
document.body.innerHTML=b[0]; 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-12-13T10:14:38.630

这就是我所做的

```
var atxtCtnt = "Helow Hay How Are You",
txt = atxtCtnt.substring(0, atxtCtnt.indexOf("Hay"));
alert(txt );​ 
```

谢谢你的回答:)

# c - 解释这段代码的工作；子进程如何返回值以及在哪里？

> ID：13854788
> 
> 赞同：2
> 
> 时间：2012-12-13T07:10:56.493
> 
> 标签：c, data-structures, fork, child-process

我不明白子进程如何返回值以及返回给谁？

输出为 6, 7 ；问题来源：[http ://www.cs.utexas.edu/~mwalfish/classes/s11-cs372h/hw/sol1.html](http://www.cs.utexas.edu/~mwalfish/classes/s11-cs372h/hw/sol1.html)

```
Program 1: 
main() 
{ 
    val = 5; 
    if(fork()) 
    wait(&val); 
    val++; 
    printf("%d\n", val); 
    return val; 
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T07:16:26.277

主要工艺：

```
val = 5; 
wait(&val); // wait until child finishes 
```

子进程：

```
val++; // val becomes 6
printf("%d\n", val); // prints 6
return val; // return val back to main process 
```

主要工艺：

```
wait(&val); // val becomes 6
val++; // val becomes 7
printf("%d\n", val); // prints 7
return val; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:15:18.713

```
if(fork()) 
```

创建一个子进程。每个进程都会获得一份`var`. `fork`在父进程中返回一个非零值。所以`if`只为父进程执行。并且`wait`只为父进程调用。它等待子进程完成执行。

子进程增量`val`打印它并返回。一旦它返回父进程恢复并通过递增`var`、打印它的值然后从它返回来进一步执行`main()`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:33:48.240

A`fork()`基本上创建了一个新进程。这意味着将复制所有当前值。这也得出结论，`val`在您的父进程中不是`val`在您的子进程中。这就是您必须以某种方式与子进程进行通信的原因，您可以使用`wait`.

```
      父进程 | 子进程
---------------------------|---------- -----
主要（） |
{ | #########################
    整数值 = 5；| // int val = parent.val;
** int tmp = fork(); | ** int tmp = 0;
    if(tmp) // 真 | if(tmp) // 假
        等待(&val); | // 不使用等待
        // 等到 | 验证++；// 值 = 6
        // 子进程 | printf("%d\n", val);
        // 返回。| 返回值；// 返回 6
        // 保存返回 | ###########|############
        // val 中的值 <---------------+
    验证++；// 值 = 7 | #########################
    printf("%d\n", val); | #########################
    返回值；| #########################
}
```

每当一个进程在 Linux 中退出时，返回值都是临时存储的。只要父进程没有得到这个存储值，子进程仍然被列为僵尸。该值可以通过 获取`wait`。所以每当你`return <value>`在你的应用程序结束时使用`wait()`你的调用者都会给你这个返回值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-03-27T20:22:33.137

## The above output is wrong.

Main process:

* * *

```
val = 5; 
wait(&val); // wait until child finishes 
```

## Child process:

```
val++; // val becomes 6
printf("%d\n", val); // prints 6
return val; // return val*256 back to main process 
```

## Main process:

```
wait(&val); // val becomes 6
val++; // val becomes 1792+1=1793
printf("%d\n", val); // prints 1793
return val; 
```

## The above output is right if you add one line in a code !

```
Program 1: 
main() 
{ 
    val = 5; 
    if(fork()) 
    wait(&val); 
```

> val=val/256 // if you add this line then the above output is correct

```
 val++; 
    printf("%d\n", val); 
    return val; 
} 
```

it is due to

```
#define WEXITSTATUS(status) (((status)>>8) & 0xFF) 
```

# iphone - 如何在多种单元格类型中使用新的 iOS 6 registerClass UITableView 方法

> ID：13854789
> 
> 赞同：1
> 
> 时间：2012-12-13T07:11:00.687
> 
> 标签：iphone, ios, uitableview

我在使用 UITableView 的新 registerClass 方法时遇到了问题。我很好地注册了我的单元格，然后当我想制作一个单元格时，我这样做：

```
static NSString *imageIdentifier = @"image";
CustomCell *cell = [self.tableView dequeueReusableCellWithIdentifier:imageIdentifier];

if (!cell) {
    cell = [[CustomCell alloc] initWithQuestion:self.question reuseIdentifier:imageIdentifier];
    [cell setSelectionStyle:UITableViewCellSelectionStyleNone];
} 
```

这可能不是现代的方法，但我以前就是这样做的。问题在于，如果队列中没有新的单元格，则新的 registerClass 方法会**为**您创建一个新单元格，因此 if (!aCell) 检查失败，并且单元格未正确构建。

我没有使用这种新方法正确出列吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T07:32:45.840

`prepareForReuse`1）在您的 UITableViewCell 子类的方法中设置单元格（在您的情况下为 selectionStyle） 。

2）在委托方法中`dequeueReusableCellWithIdentifier:`调用后设置单元格的内容。`tableView:cellForRowAtIndexPath:`

`dequeueReusableCellWithIdentifier:`如果您`registerClass:`使用相应的标识符调用，将始终返回一个单元格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:18:39.483

您使用新方法 ,`dequeueReusableCellWithIdentifier:forIndexPath:`并省略 if 子句。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    CustomTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"myCell" forIndexPath:indexPath];
    // configure cell here
    return cell;
} 
```

当您注册您的课程或 xib 时，您将使用相同的重用标识符。

# ios6 - Xcode 4.5.2如何支持IOS 4.3以下？

> ID：13854811
> 
> 赞同：0
> 
> 时间：2012-12-13T07:12:33.123
> 
> 标签：ios6, xcode4.5

我的 iMac 版本是 10.8.2，安装了 Xcode 4.5.2。Xcode 项目 iOS Deployment 目标为 4.3，Base SDK iOS 6.0。我正在尝试开发一个可以从 3G 运行的应用程序。Base SDK 仅显示 IOS 6.0 但未列出任何较低版本，还安装了 iPhone 5.0 模拟器。但没有用。

以下是我的问题
1) Xcode 将如何显示低于 IOS 6.0 的 Base SDK 版本？
2）我们如何才能支持不同的IOS版本？

请让我知道正确的方向，提前谢谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:33:54.747

看看这个[问题](https://stackoverflow.com/questions/3747432/how-to-build-against-older-ios-versions-with-the-latest-xcode-downloads)。

它解释了如何发布到旧的 iOS 目标。

# c# - RedirctToAction 将我带到当前控制器的基本控制器而不是定向控制器

> ID：13854818
> 
> 赞同：2
> 
> 时间：2012-12-13T07:13:05.513
> 
> 标签：c#, asp.net-mvc

我有两个控制器，分别命名为 forms 和 mobile，在 forms 控制器中，我有一个 return 语句调用 mobile 控制器中的操作，如下所示：

```
public class formscontroller: customcontroller
{ 
public ActionResult submit(int? id = null, string jsString = null)
        {   code code    
if (CSConfigurationMgr.IsMobileUrl(Request.UrlReferrer.AbsoluteUri.PathFromURL()))
                    return RedirectToAction("home", "mobile", new { success = true });
  return code
}
} 
```

家是一种行动

```
 public ActionResult home(string res)
            {
code code
} 
```

但是我无法使用该功能，它直接将我带到表单的基本控制器，它被命名为自定义。

有解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:23:04.143

“条件”可能永远不会评估为真。

请检查并确保代码执行达到该点。

如果您在此处发布两个控制器（如果它们不是太大），可能会更有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T08:56:23.407

对我来说，这似乎是一个路由问题。

也许您还没有定义到您的 mobile/home/res 控制器的路由，然后路由引擎将您重定向到您的默认参数路由？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-20T08:54:13.317

假设 home 是移动控制器上的操作，那么您的签名可能在操作上不正确，`home`因为它声明了一个`string`参数并且您正在发送一个`boolean`.

# java - 应用程序部署在 jboss 上，但当我尝试访问时出现 404 错误

> ID：13854826
> 
> 赞同：1
> 
> 时间：2012-12-13T07:13:49.807
> 
> 标签：java, spring, maven, jboss

所以，我已经在 J​​BOSS（Linux 机器）上部署了我的应用程序，当我尝试访问 URL 时，它给了我 404 错误。我在本地 JBOSS 上部署和测试的同一个应用程序可以完美运行。我的 Web.xml 文件：

```
<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
         http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

    <display-name>Server-status Monitoring</display-name>

    <welcome-file-list>
        <welcome-file>WEB-INF\jsp\systemsettings\serverStatus.jsp</welcome-file>
    </welcome-file-list>

    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath*:WEB-INF/spring-mvc-servlet.xml</param-value>
    </context-param>

    <servlet>
        <servlet-name>spring-mvc</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>spring-mvc</servlet-name>
        <url-pattern>*.do</url-pattern>
    </servlet-mapping>

    <jsp-config>

        <taglib>
            <taglib-uri>http://displaytag.sf.net</taglib-uri>
            <taglib-location>/WEB-INF/tlds/displaytag.tld</taglib-location>
        </taglib>

        <taglib>
            <taglib-uri>/gridtags</taglib-uri>
            <taglib-location>/WEB-INF/tlds/grid-converter-changed.tld</taglib-location>
        </taglib>

    </jsp-config>

</web-app> 
```

我的 spring-mvc-servlet.xml 文件：

```
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
    xmlns:aop="http://www.springframework.org/schema/aop" xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans 
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
        http://www.springframework.org/schema/context 
        http://www.springframework.org/schema/context/spring-context-2.5.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

    <bean name="/*.do" class="com.sterling.ag.controller.ServerStatusController">
        <property name="serverStatusFacade">
            <bean class="com.sterling.ag.facadeImpl.ServerStatusFacadeImpl" />
        </property>
    </bean>

    <bean id="viewResolver"
        class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix">
            <value>/WEB-INF/jsp/systemsettings/</value>
        </property>
        <property name="suffix">
            <value>.jsp</value>
        </property>
    </bean>

</beans> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T13:00:06.233

正如我们在您的 web.xml 中看到的那样

您正在使用**WEB-INF\jsp\systemsettings\serverStatus.jsp**

你应该使用**WEB-INF/jsp/systemsettings/serverStatus.jsp**

而不是**“\”**使用 **“/”**

# sql - Grails & GORM：如何在域类上指定 CREATE INDEX 等效项？

> ID：13854828
> 
> 赞同：1
> 
> 时间：2012-12-13T07:13:57.057
> 
> 标签：sql, grails, indexing, grails-orm

我可以分享我的挫败感。GORM（和 Grails ..）似乎有一个非常有限的关于数据库索引的文档。当我希望索引不仅仅是此处记录的内容时，我还没有从任何地方找到有关如何为域类创建索引的任何帮助：http: [//grails.org/doc/latest/guide/ GORM.html](http://grails.org/doc/latest/guide/GORM.html)。

这是我想要实现 Grails 的 SQL 方式：

```
CREATE INDEX very_fast_index 
ON slow_table(date DESC NULLS LAST) 
WHERE is_latest = true; 
```

似乎我可以告诉 GORM 为日期列创建索引。但看起来有零选项可以添加其他标准。

因为我讨厌简单的事情变得极其复杂，所以我在 PostgreSQL CLI 中手动创建了这些索引。不是来自 Grails，它会更便携。我不想写任何 HQL，因为我也不喜欢这个想法。

有任何想法吗？我只有手动方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:29:01.487

HQL 是一种 [数据操作语言](http://en.wikipedia.org/wiki/Data_manipulation_language)而非[数据定义语言](http://en.wikipedia.org/wiki/Data_definition_language)，因此对您的需求没有用处。如果您想使用数据库供应商特定的功能，您必须绕过休眠并使用较低级别的 jdbc 连接来执行 SQL 查询。在 grails 中，您可以使用 dataSource bean 以[groovy 方式](https://groovy-lang.org/databases.html)进行查询。当然，这会使您紧贴特定数据库（在您的情况下为 Postgres）。

# c# - LINQ - 如果查询不存在的元素，结果不为空

> ID：13854836
> 
> 赞同：1
> 
> 时间：2012-12-13T07:14:54.423
> 
> 标签：c#, linq, null

目前，我有一张包含水果、等级和价格数据的表格。我的表中可用的等级是**A**、**B**和**C**。*请看代码片段*。如您所见，我将**D**放入`where`过滤器中。我想这`query`将是空的。但是在我运行代码后，程序提示“Not Null？WTH？”。那么，如果 D 不在表中，我可以知道其中有什么`query`以及如何检测**D吗？**

p/s: 我是新手

C#代码片段：

```
 var query = (from p in db
              where p.grade == "D"
              select p.price).ToArray();

 if (query == null)
              System.Console.WriteLine("You get Null in the query");
 else if (query != null)
              System.Console.WriteLine("Not Null? WTH?"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T07:16:25.403

既然你在做`ToArray`，它永远不会为空。你可以检查长度。

```
if(query.Length <= 0) 
```

或者如果你这样做会更好：

```
var query = (from p in db
            where p.grade == "D"
            select p.price).Count();

if(query > 0) 
```

或者

```
var ifItemExist = (from p in db
                   where p.grade == "D"
                   select p.price).Any(); 
```

或更短：

```
var ifItemExist = db.Any(p=> p.grade == "D"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T07:20:24.363

你不会得到 null 因为这个方法仍然会返回一个数组。数组将为空，但数组不会为空。（这实际上是 null 存在的原因......它是为了区分“零”值和不存在值。

如果要测试结果中是否有任何元素，可以使用：

```
if (query.Any()) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T07:16:45.073

实际上，它不是 null，它返回一个与 null 不同的空数组。

或者，你可以这样做，

```
int query = (from p in db
              where p.grade == "D"
              select p.price).Count();

 if (query > 0)
 {
    System.Console.WriteLine("Found");
 }
  else
 {
    System.Console.WriteLine("Not Found");
 } 
```

# c++ - 将 C++ 枚举映射为 const char*

> ID：13854843
> 
> 赞同：2
> 
> 时间：2012-12-13T07:15:31.430
> 
> 标签：c++, map

我有以下枚举和地图：

```
typedef enum {
    MaxX = 0,
    MaxY,
    MaxCells,
    MaxCycles,
    Threes
} SettingName;

typedef std::map<SettingName, const char*> SettingNameCollection;

SettingNameCollection settingNames; 
```

我有以下函数来返回枚举名称：

```
const char* gofBoard::getSettingName(unsigned x) {
    return settingNames[static_cast<SettingName>(x)];
} 
```

从我读过的内容来看，这应该可以工作，但该函数不返回任何内容。没有编译时错误，也没有运行时错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T07:38:44.007

这是我的建议：

1-写这个宏：

`#define SMART_STRINGIFY_CASE(ENUM_CODE) case ENUM_CODE: return # ENUM_CODE`

2-编写此函数：

```
const char* SettingNamesToString( settingNames const input)
{
  switch(input)
  {
    SMART_STRINGIFY_CASE(MaxX);
    SMART_STRINGIFY_CASE(MaxY);
    ...
  default:
    // your own ! 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:23:33.633

`operator[]`用于在 std::map 中检索/插入数据。您可能更符合`std::map::find`：

```
const char* gofBoard::getSettingName(unsigned x) {
    auto found = settingNames.find(static_cast<SettingName>(x));
    if (found == settingNames.end())
        /* throw appropriate exception */
    /* or assert */
    assert ( found != settingNames.end() );
    return found->second;
} 
```

编辑：就像有人说的那样，为了您的目的，一个简单的`std::array`就足够了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:20:10.893

如果您在调用该函数之前没有填充地图，那么您得到的不是错误，它是一个空白字符串（我猜）

你想做这样的事情

```
typedef std::array<const char*,Threes+1> SettingNameCollection;  
// usually for such purposes, sometimes an extra enum is added to give you number of valid enum values ( Settings_Num for instance)

SettingNameCollection settingNames {
    "MaxX ",
    .....
    "Threes",
}; // first time using the new syntax, is this correct?

const char* gofBoard::getSettingName(SettingName setting) {
    return settingNames[setting]; //do i need to cast to int in c++11?
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T08:10:56.170

`map`如果您的枚举是连续的，A肯定是矫枉过正。我建议切换到[宏定义](https://stackoverflow.com/a/10177840/147192)。

摘抄：

```
SANDBOX_DEFINE_ENUM(MyEnum, (Foo)(Bar)(Team)) 
```

将扩展为：

```
struct MyEnum {
  enum Type {
    Foo,
    Bar,
    Team
  };
  static Type const First = Foo;
  static Type const Last = Team;
};

inline char const* toString(MyEnum::Type value) {
  switch(value) {
  case MyEnum::Foo: return "Foo";
  case MyEnum::Bar: return "Bar";
  case MyEnum::Team: return "Team";
  }
  return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T08:50:17.360

每个广泛使用 C++ 编程的人都遇到过枚举到字符串转换（以及字符串到枚举转换）的问题。要很好地解决问题，需要考虑多个方面，例如，如果请求了无效枚举的字符串怎么办。我认为您将受益于使用可用于大多数或所有枚举的通用解决方案。这个问题涵盖了这个问题：

[您使用的是 C++ 中的哪个类型安全枚举？](https://stackoverflow.com/questions/217549/which-typesafe-enum-in-c-are-you-using)

# android - ListView 高度和宽度的 wrap_content

> ID：13854844
> 
> 赞同：1
> 
> 时间：2012-12-13T07:15:32.457
> 
> 标签：android, android-layout, listview

我想限制 a 的高度和宽度，`ListView`根据孩子的数量包装高度，并根据列表视图行的宽度包装宽度。

到目前为止，我已经能够限制 ListView 的高度。我用来限制高度的代码是：

```
listview.setLayoutParams(new linealayout.layoutparams(LayoutParams.WRAP_CONTENT, 0,1)); 
```

我怎样才能限制宽度？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:30:21.827

我希望您应该更具体地了解您想要的屏幕外观/视图

**但是当谈到 listview 时，我会说永远不要使用 20,30 dp 来设置宽度和高度，只需使用 weight 和 wrap_content 来使其灵活。**

请参阅下面的代码示例，这可能会对您有所帮助

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center">
    <ListView
        android:layout_height="wrap_content"
        android:id="@+id/listView1"
        android:layout_width="match_parent"
        android:layout_weight="1"></ListView>
    <Button
        android:text="Button"
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"></Button>

</LinearLayout> 
```

*让我知道您是否仍然无法获得这个。*

# php - php 后期静态绑定：使用反射返回 static::CONST

> ID：13854848
> 
> 赞同：0
> 
> 时间：2012-12-13T07:15:53.990
> 
> 标签：php, reflection

> **可能重复：**
> [使用包含常量名称的简单变量访问类常量](https://stackoverflow.com/questions/7506530/accessing-a-class-constant-using-a-simple-variable-which-contains-the-name-of-th)

由于静态调用，我想使用反射来发送 const 数组

```
class ArrowType extends AbstractAttributeType
{
    const NORMAL = 'normal';
    const INV = 'inv';

    static function getPossibleValues()
    {
        $refl = new \ReflectionClass(__CLASS__);
        $class_vars = $refl->getConstants();
        $res = array();
        foreach ($class_vars as $name => $value) {
            $res[] = static::$$name;
        }

        return $res;
    }
} 
```

这给了我

> 致命错误：访问未声明的静态属性：**ArrowType::$NORMAL**

我想得到

> *箭头类型::正常*

调用*$arrowType->getPossibleValues()时*

**编辑**

为了使我的问题更容易理解，我将向您提供详细信息。我正在使用[https://github.com/yethee/BiplaneEnumBundle](https://github.com/yethee/BiplaneEnumBundle)，我正在努力让我的生活更轻松。目前，我必须生成下面的代码才能满足库的要求。

```
class ArrowType extends AbstractAttributeType
{
    const NORMAL = 'normal';
    const INV = 'inv';
    const DOT = 'dot';
    const INVDOT = 'invdot';
    const ODOT = 'odot';
    const INVODOT = 'invodot';
    const NONE = 'none';

    static function getPossibleValues()
    {
        return array(
                    static::NORMAL,
                    static::INV,
                    static::DOT,
                    static::INVDOT,
                    static::ODOT,
                    static::INVODOT,
                    static::NONE
                    );
    }

    static function getReadables()
    {
        return array(
                    static::NORMAL => 'normal',
                    static::INV => 'inv',
                    static::DOT => 'dot',
                    static::INVDOT => 'invdot',
                    static::ODOT => 'odot',
                    static::INVODOT => 'invodot',
                    static::NONE => 'none'
                );
    }

} 
```

我现在想要实现的是在两个函数中动态构建数组，以便将这些函数放在父类中，并在我的类中声明 const 部分。我希望这能帮助善良的读者理解我想要什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:22:27.137

等等，等等，等一下。

```
 $class_vars = $refl->getConstants();
    $res = array();
    foreach ($class_vars as $name => $value) {
        ... 
```

你*已经*拥有了价值。它就在那里。你甚至不需要foreach。只是`return $refl->getConstants()`

# mysql - 如何使用我的 liferay 自定义 portlet 中的自定义 mysql 查询？

> ID：13854852
> 
> 赞同：1
> 
> 时间：2012-12-13T07:16:00.613
> 
> 标签：mysql, liferay, portlet, liferay-6, liferay-ide

我正在使用 Liferay 并开发我的自定义 portlet，现在我想使用自定义查询从多个带有连接等的表中检索一些数据。

我已经用谷歌搜索了我的问题，但找不到简单的方法来理解分步过程。

因此，如果有人可以指导我或给我任何教程来为我的自定义 portlet 创建自定义 SQL 查询。

在这第 4 步之后，我在 Eclipse 中构建了我的服务，并且它的显示成功。在服务/持久性包中创建了两个名称为的文件`AdvertiseFinder.java`，`AdvertiseFinderUtil.java`但是当我尝试访问该方法`getAd_DisplayforReports`时，`advertiseFinderUtil.getAd_DisplayforReports("Any arguement with string")` 它给我的错误是没有这样的方法AdvertiseFinderUtil

更新我的 AdvertiseFinderImpl 方法后，我已经构建了服务。但它不起作用

这是我的 AdvertiseFinderImpl 类

```
package emenu.advertise.database.service.persistence;

import com.liferay.portal.service.persistence.impl.BasePersistenceImpl;

import emenu.advertise.database.model.ad_display;
import emenu.advertise.database.model.advertise;
import emenu.advertise.database.model.impl.ad_displayImpl;

import java.util.List;

import com.liferay.portal.SystemException;
import com.liferay.portal.kernel.dao.orm.QueryPos;
import com.liferay.portal.kernel.dao.orm.SQLQuery;
import com.liferay.portal.kernel.dao.orm.Session;
import com.liferay.util.dao.orm.CustomSQLUtil;

public class AdvertiseFinderImpl  extends BasePersistenceImpl<ad_display> implements advertiseFinder{

    public void getall() {
    }

    // the name of the query
        public static String GET_ADVERTISE = AdvertiseFinderImpl.class.getName()
                + ".getAdvertise";

        // the method which will be called from the ServiceImpl class
        public List<ad_display> getAd_DisplayforReports(String pattern) throws SystemException {

            Session session = null;
            try {
                // open a new hibernate session
                session = openSession();

                // pull out our query from book.xml, created earlier
                String sql = CustomSQLUtil.get(GET_ADVERTISE);

                // create a SQLQuery object
                SQLQuery q = session.createSQLQuery(sql);

                // replace the "Book" in the query string with the fully qualified java class
                // this has to be the hibernate table name
                q.addEntity("a_ad_display", ad_displayImpl.class);

                // Get query position instance
                QueryPos qPos = QueryPos.getInstance(q);

                // fill in the "?" value of the custom query
                // this is same like forming a prepared statement
                qPos.add(pattern);

                // execute the query and return a list from the db
                return (List<ad_display>)q.list();

                /*
                 // use this block if you want to return the no. of rows (count)

                 int rows = 0;

                 Iterator<Long> itr = q.list().iterator();

                 if (itr.hasNext()) { Long count = itr.next();

                 if (count != null) { rows = count.intValue(); } }

                 return rows;
                 */
            } catch (Exception e) {
                throw new SystemException(e);
            } finally {
                closeSession(session);
            }
        }

} 
```

我的 default-ext.xml 如下

```
<?xml version="1.0"?>

<custom-sql>
<sql file="custom-sql/emenu.xml" />
</custom-sql> 
```

我的 emenu.xml 在这里

```
<custom-sql>
    <sql id="emenu.advertise.database.service.persistence.AdvertiseFinderImpl.getAd_DisplayforReports">
      <![CDATA[
            SELECT
                    *
            FROM
                a_ad_display
        ]]>
    </sql>
</custom-sql> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-07T14:47:35.927

以下是在 Liferay 中编写自定义查询/查找方法的步骤：

1.  在 /generated/service/persistence 目录中创建一个名为 EntityFinderImpl.java 的新查找器。
2.  项目上的“构建服务”。
3.  ServiceBuilder 自动生成以下两个额外文件：EntityFinder.java 和 EntityFinderUtil.java
4.  现在打开 EntityFinderImpl.java 文件，让这个类扩展 BasePersistenceImpl 并实现 EntityFinder。（假设实体（表名）在 service.xml 中定义，其他所需的类也由 ServiceBuilder 自动生成）
5.  现在将所需的自定义方法添加到 EntityFinderImpl.java 并再次构建服务以将此方法分发给 Util 类。

可以使用 liferay 的 DynamicQuery API 或 SQL-query 创建自定义方法，如下所示：

```
public List<Entity> getCustomDataFromFinder("Parameters") throws SystemException {

    Session session = null;
    StringBuilder queryString = new StringBuilder();    
    Entity e = new EntityImpl();

    try {
        session = openSession();

        queryString.append(" Write your Query here and conditionally append parameter value(s).");

        SQLQuery query = session.createSQLQuery(queryString.toString());
                 query.addEntity("EntityName", EntityImpl.class);           

        return (List<Entity>) QueryUtil.list(query, getDialect(), 0, -1);
    } 
    catch (Exception e) {
        throw new SystemException(e);
    }       
    finally {
        if (session != null) {
            closeSession(session);
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-12T15:42:03.610

改变

```
return (List<ad_display>)q.list(); 
```

至

```
return (List<ad_display>) QueryUtil.list(q, getDialect(), -1, -1); 
```

# sql-server - SQL Server重复使用已删除身份PK

> ID：13854855
> 
> 赞同：0
> 
> 时间：2012-12-13T07:16:10.053
> 
> 标签：sql-server, sql-server-2008, tsql

只是一个普遍的问题。我有一个 IDENTITY PK 表，它没有通过任何表连接。表中还有另一个也是唯一的 FK。

我在某些条件下对该表运行 DELETE 命令。

我可以使用自动插入的下一个 PK ID 将任何新记录插入到表中。

但是在 PK 中没有重复使用 ID 号。

如果我运行类似的东西

```
DECLARE @max_PKid BIGINT;
SET @max_PKid = (SELECT ISNULL(MAX(PKid), 0) FROM Table WHERE FKid=@somevalue);
DBCC CHECKIDENT ('Table', reseed, @max_PKid) 
```

在 DELETE 之后，下一次 INSERT 会出现访问冲突问题

问题 1：在不使用 DBCC CHECKIDENT 的情况下执行 DELETE/INSERT 后，通常在表中的无序（例如，未播种）PKid 中具有间隔是一种好的做法吗？我应该关心他们吗？

问题2：如果没有，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:56:34.917

不，你不应该担心。在其他情况下，您可能会在 IDENTITY 范围内获得“漏洞”。例如，如果您启动一个事务，将 100,000 行插入到一个表中，然后回滚该事务 - 那些 IDENTITY 值就消失了。这不是您应该担心的事情。

# java - 如何以正确的方式使用 Enum？

> ID：13854856
> 
> 赞同：3
> 
> 时间：2012-12-13T07:16:18.740
> 
> 标签：java, enums

我非常喜欢 Java，我第一次像这样使用枚举：

```
 public class Web {
        public String baseUrl;
        public static enum Environment {

            DEVELOPMENT("http://development") ,
            PRODUCTION("http://production"),
            SANDBOX("http://sandbox");

            public final String baseUrl;

            private Environment(String baseUrl)
            {
                this.baseUrl = baseUrl;
            }
        }
    } 
```

枚举`Environment`具有三个常数`DEVELOPMENT`, `PRODUCTION`, `SANDBOX`。该类`Web`还具有要设置`baseUrl`的`Environment`' `baseUrl`（不确定这是这样做的好习惯）。

为了设置`baseUrl`我目前正在这样做：

```
new Web().setBaseUrl(Web.Environment.PRODUCTION.baseUrl) 
```

我不确定这是在类中使用枚举的正确方法。有没有办法直接设置`Web` `baseUrl`为 enums `baseUrl`。

我在这里错过了什么吗。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:24:56.597

我认为您走在正确的轨道上，但是通过以这种方式访问​​ URL，您正在失去 Java 枚举的一些优势。相反，使用枚举的类型来帮助确保您将正确的值传递给您的方法。也就是说，单独传递枚举，让方法从中提取任何值。例如：

```
new Web().setEnvironment(Web.Environment.PRODUCTION); 
```

现在您只能将 Environments 传递给您的 Web 类，而不是任何 ol' 字符串。

[编辑] 然后您的 Web.setEnvironment 方法如下所示：

```
public void setEnvironment(Environment environment) {
    this.baseUrl = environment.getBaseUrl();
} 
```

这样一来，我就不能不`new Web().setEnvironment("marvo")`小心过来打电话了。它强制执行一定程度的正确性。

vishal_aim 是对的。即使使用 Enums，您也应该练习数据隐藏和封装，因此将实例变量设为私有，并提供像 getBaseUrl() 这样的访问器来检索值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:19:40.127

与其直接使用 Enum 的成员，不如将`baseUrl`其设为私有并在 enum 类中有一个 getter 方法。除此之外，我认为以这种方式使用枚举是可以的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:21:01.893

使枚举成为顶级类/枚举。
为 baseUrl 字段添加一个 getter。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T07:26:32.717

我认为您使用 Enum 的方式没有任何问题。但是代码看起来有点笨拙：

```
new Web().setBaseUrl(Web.Environment.PRODUCTION.baseUrl) 
```

我会将 Enum 从`Web`类中取出并省略类中多余的“baseUrl”字段 -`Web`你不需要它，因为你的 Enum 中有值。而不是`baseUrl`我会有一个 urlType 类型的成员`Environment`。将访问器方法添加到枚举`baseUrl`内部也会很好`Environment`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T07:27:02.943

除了 Bohemian 和 vishal_aim 所说的，您可能会不必要地公开 baseUrl 成员（或重构后的 getBaseUrl() 方法）。而是将枚举传递给 Web 类并让它从枚举中挖掘 URL。这样，如果您将枚举保留在 Web 类中，则可以将 baseUrl 保留为私有。

```
public void setEnvironment(Environment env) {
    baseUrl = env.getBaseUrl();
    ....
} 
```

# objective-c - 将数组添加到数组中的数组 - objC

> ID：13854864
> 
> 赞同：-5
> 
> 时间：2012-12-13T07:16:48.447
> 
> 标签：objective-c, nsmutablearray, nsarray, nsdictionary

伙计，如果我想直接使用现有的可变数组进行更改，就像上面的主题一样。我想知道如何将新数组添加到可变数组中的现有数组感谢您的任何建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:26:17.800

您提到的将数组添加到 NSMutableArray 中包含的另一个数组中的问题，可以这样做

```
NSMutableArray *childArray = [self.ParentArray objectAtIndex:index];
[childArray addObjectsFromArray:yourArrayToAdd]; 
```

希望能解决你的问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:31:42.393

假设我们有一个`NSMutableArray`名为`numbersArray`

```
numbersArray = [[NSMutableArray alloc]initWithObjects:@"1",@"2",@"3",@"4",@"5",@"6",@"7",@"8",@"9",@"10" , nil]; 
```

如果您想向其中添加一个数组而不是原始数组，可以说该数组是其自身内容的随机数组：

```
NSMutableArray *temp = [[NSMutableArray alloc] initWithArray:numbersArray];

for(NSUInteger i = [numbersArray count]; i > 1; i--) {
    NSUInteger j = arc4random_uniform(i);
    [temp exchangeObjectAtIndex:i-1 withObjectAtIndex:j];
}
numbersArray = temp; 
```

最后一行给出了数组`numbersArray`的内容`temp`

我们可以做到这一点

```
numbersArray = [temp copy]; 
```

对于索引交换，您可以使用`exchangeObjectAtIndex`如下：

```
[numbersArray exchangeObjectAtIndex:0 withObjectAtIndex:3];
[numbersArray exchangeObjectAtIndex:1 withObjectAtIndex:4];
[numbersArray exchangeObjectAtIndex:2 withObjectAtIndex:5]; 
```

# c# - 在 lucene.net 中重新索引

> ID：13854867
> 
> 赞同：1
> 
> 时间：2012-12-13T07:16:53.453
> 
> 标签：c#, lucene.net

我正在使用 lucene.net。我正在编写一个代码，它应该在一段时间后索引同一个文件夹。如果该文件夹中的内容已被索引，我如何重新索引？假设我索引了 4 个文档。5分钟后，任何文件都没有变化，那么如何管理这种情况？另外我想知道如果最近更新了其中一个文件，那么我如何通过替换或删除相同的旧索引来仅 REINDEX 备份该文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T15:22:50.963

只需将每个文件的时间戳或 CRC 存储在某处（即数据库）。

然后，您抓取文件系统并仅更新使用更改的文件，使用`IndexWriter.UpdateDocument()`添加新文件`IndexWriter.AddDocument()`并删除不再存在的文件`IndexWriter.DeleteDocument()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-07T08:11:08.660

在现代版本的 Lucene.Net 中，您可以将键作为文档的一部分进行索引，然后根据键修剪现有索引：

```
var document = new Document()
{
  new StringField("DocumentId", source.DocumentId, Field.Store.YES),
  new StringField("DocumentPath", source.DocumentPath, Field.Store.YES),
  new TextField("Content", source.Text, Field.Store.NO),
  new TextField("Tags", source.Tags, Field.Store.YES),
}; 
```

...

```
var writer = GetIndexWriter();

// Delete existing records
var query = new BooleanQuery
{
  {new TermQuery(new Term("DocumentId", source.DocumentId)), Occur.MUST},
  {new TermQuery(new Term("DocumentPath", source.DocumentPath)), Occur.MUST},
};
writer.DeleteDocuments(query);

// Add new document
writer.AddDocument(document); 
```

例如，您还可以将上次更新时间戳存储为索引的一部分，并使用它来确定何时重新索引文件。

绝对不需要为此使用外部数据库。

注意：您应该使用`StringField`this 而不是`TextField`，以便您可以匹配复杂的键；IE。A`TextField`可能会将 ABC-DEF 之类的 id 转换为标记 ABC 和 DEF，因此对于`ABC-DEF`.

# sql - 如何创建带参数的 SQL 函数？

> ID：13854870
> 
> 赞同：1
> 
> 时间：2012-12-13T07:17:09.960
> 
> 标签：sql, postgresql, stored-procedures

我有一个 SQL 函数：

```
-- Function: insert_into_wgs()

-- DROP FUNCTION insert_into_wgs();

CREATE OR REPLACE FUNCTION insert_into_wgs()
  RETURNS void AS
$BODY$
BEGIN
INSERT INTO parcels (num,vid,support_num,name_dispatcher,cadastr,the_geom,status_id)  
SELECT num,vid,support_num,name_dispatcher,cadastr,ST_TRANSFORM(the_geom,4326),status_id
FROM parcels_temp
WHERE num NOT IN (SELECT num FROM parcels)AND deleted='no';
end;
$BODY$
LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION insert_into_wgs() OWNER TO postgres; 
```

您会看到它仅适用于`parcels`,`parcels_temp`表。如何创建带参数的函数`insert_into_wgs(table, table_temp);`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:49:51.317

正如评论中提到的，如果要对标识符进行参数化，则必须使用**动态 SQL 。**并[`EXECUTE`在 plpgsql](http://www.postgresql.org/docs/current/interactive/plpgsql-statements.html#PLPGSQL-STATEMENTS-EXECUTING-DYN)中使用。

在基本查询中更好地使用`NOT EXISTS`而不是 col `NOT IN (<subquery>)`。

现在，如果*只有*表名改变并且列保持不变，这个简单的演示就可以完成这项工作：

```
CREATE OR REPLACE FUNCTION insert_into_tbl(_tbl text, _tbl_tmp text)
  RETURNS void AS
$func$
BEGIN

EXECUTE format($x$
INSERT INTO %I (...)  -- enter columns
SELECT ...            -- enter columns
FROM %I t
WHERE NOT EXISTS (
    SELECT 1
    FROM   %1$I p     -- reuse first table name
    WHERE  p.num = t.num
    )
AND   deleted = 'no'$x$, _tbl, _tbl_tmp);

END
$func$ LANGUAGE plpgsql; 
```

[`format()`在手册中](http://www.postgresql.org/docs/current/interactive/functions-string.html)查看。
SO上有很多相关的答案。[试试这个搜索](https://stackoverflow.com/search?q=%2b%5Bdynamic-sql%5D%20%2b%5Bplpgsql%5D%20%2bexecute&submit=search)。

# java - 从子类访问受保护的超类成员

> ID：13854871
> 
> 赞同：1
> 
> 时间：2012-12-13T07:17:15.467
> 
> 标签：java, inheritance, protected

我正在阅读这本 Java SCJP 书，我遇到了这个：

> 受保护的和默认的访问控制级别几乎相同，但有一个关键区别。只有当访问该成员的类属于同一个包时，才能访问默认成员，而即使子类位于不同的包中，子类也可以（通过继承）访问受保护的成员。

所以我决定测试一下`protected`。

我在一个包中有一个超类

```
package scjp;

public class Token {

    protected int age = 6; //This is the protected class-level variable.

    public Token(String name){
        this.name = name;
    }
    public Token(String name, int age){
        this.name = name;
        this.age = age;
    }

    public String getName(){
        return this.name;
    }

    public int getAge(){
        return this.age;
    }
} 
```

我在另一个包中有一个子类；

```
package pack;

import scjp.Token;

public class son extends Token{

    public static void main(String[] args) {
       System.out.println(Token.age);
    }

} 
```

如您所见，我正在尝试访问`age`超类中受保护的类级整数变量。

但我得到这个错误：

```
 age has protected access in scjp.Token
        at pack.son.main(son.java:11)
Java Result: 1 
```

那么，怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:22:56.557

您正在尝试使用类引用访问超类的非静态受保护成员。

```
public static void main(String[] args) {
       Token t = new Token("somehting");
       System.out.println(t.age);
    } 
```

将编译并正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:18:36.160

`age`不是您班级中的**静态变量**`Token`。它是一个**实例非静态成员，您可以使用****类的实例**访问实例非静态成员。

```
 System.out.println(new Token().age); 
```

应该管用

而且你`Son IS-A Token` 也应该能够直接访问它，除非你的 Son 类中有另一个具有相同名称（阴影）的变量，在这种情况下，它将访问 Son 中声明的“年龄”，我可以看到你没有声明`age`在您的 Son 类中，您也可以像这样直接访问它：

```
System.out.println(age); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:19:09.150

`age`不是静态成员。您将需要使用类的实例来访问它`Token`。不是类名本身。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T07:23:24.597

你误解了这个概念

> 而子类可以（通过继承）访问受保护的成员，即使该子类位于不同的包中。

意味着您可以通过在您的类中扩展它来访问该成员，但是您尝试通过静态概念访问您的类中的变量，即使您的变量不是静态的所以我认为您必须看一下 java 的基础知识。意味着您可以通过两种方式修复程序。

**1.** 创建您的类的对象并访问您的受保护变量，您必须创建一个应该调用父构造函数的构造函数。您的儿子班可能如下所示。

```
public son(String name) {
    super(name);
    // TODO Auto-generated constructor stub
}

public static void main(String[] args) {
    son s = new son("Hello"); //$NON-NLS-1$
   System.out.println(s.age);
} 
```

**2.** 您可以通过将受保护的变量设为静态并从您的类中使用它来获得访问权限，如下所示。
**令牌类：**

```
public class Token {
   protected static int age = 6; //This is the protected class-level variable.
  ....
} 
```

**儿子班：**

```
 System.out.println(son.age); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-01T02:40:57.177

您无法访问静态成员，如果要测试继承，可以执行以下操作

```
public static void main(String[] args) {
   son s = new son();
   System.out.println(s.age);
} 
```

您不应该使用以小写字母开头的公共类名称。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-01-26T08:51:59.093

**受保护成员：**换句话说，**受保护 = 继承**

对于包外的子类，受保护的成员**只能通过继承来访问**。子类***不能***在超类引用上使用点运算符来访问受保护的成员。

您没有从子类访问它。您正在从 main() 访问它。“main”方法不是任一类的成员，但它试图直接访问成员变量。

```
public class son extends Token{
    public static void main(String[] args) {
       System.out.println(Token.age); // Error
    }
} 
```

创建非静态方法并继承受保护的成员。

```
public class son extends Token{
   public void test1() {
     System.out.println(age); // 6
     System.out.println(new Token().age); // 6 This also works.
   }
} 
```

# asp.net - 我的密码文本框显示字符

> ID：13854883
> 
> 赞同：2
> 
> 时间：2012-12-13T07:18:11.637
> 
> 标签：asp.net, user-interface, textbox

我使用asp.net登录，我想在我的文本框中默认有一些文本，单击它后，文本框将被清除。我已经做到了，而且效果很好。像图片1。但是当我使用tab键进入密码字段并没有输入任何输入时，它会显示像图片2的字符！应该是星星！或黑圈！

对于我的密码文本框，我使用了以下代码：

```
<asp:TextBox ID="Password" runat="server" TextMode="SingleLine"  
 onclick="this.value=''; this.type='password'; " Width="166px" 
 Font-Size="9pt"  Font-Names="Tahoma">Password                                                    
</asp:TextBox> 
```

![在此处输入图像描述](../Images/cbd779fde1122cf2fe7703f3a104ed94.png)

图片编号 1

![在此处输入图像描述](../Images/3d5e9c601d05568e1a101d7fbd475213.png)

图片编号 2

这个问题有什么想法吗？请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:26:29.783

```
<asp:TextBox ID="TextBox1" runat="server" TextMode="Password"></asp:TextBox> 
```

[更多信息](http://devssolution.wordpress.com/2012/03/29/set-watermark-text-when-textbox-mode-is-password/)

或者您可以使用[占位符](http://www.w3schools.com/html5/att_input_placeholder.asp)属性：

```
<asp:TextBox runat="server" placeholder="Enter your name"  TextMode="Password"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:20:05.767

采用：

```
TextMode="Password" 
```

所以应该是：

```
<asp:TextBox ID="Password" runat="server" TextMode="Password"  
onclick="this.value=''; this.type='password'; " Width="166px" 
Font-Size="9pt" 
Font-Names="Tahoma">Password                                                    
</asp:TextBox> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T07:23:14.380

将您的密码文本框输入为密码：

```
 <asp:TextBox ID="TextBox1" runat="server" TextMode="Password"></asp:TextBox> 
```

并检查你所看到的。

# android - Gridview 单个单元格

> ID：13854884
> 
> 赞同：1
> 
> 时间：2012-12-13T07:18:15.693
> 
> 标签：android, gridview, view

伙计们，我有一个如下的网格视图

```
view 1  view 2 view 3
view 4  view 5 view 6
...... 
```

我使用以下组件制作了这个网格视图

```
android:numColumns="auto_fit" 
android:columnWidth="90dp" 
android:stretchMode="columnWidth" 
```

我想要一个底部的网格作为

```
view 1  view 2 view 3
view 4  view 5 view 6       (FIG 2)
V I E W 7 (completely) 
```

我玩了上面所有的 3 个组件，但我得到了一个像

```
V I E W 1
 V I E W 2.. 
```

但我需要（图 2）

下面是xml

```
 <FrameLayout android:id="@android:id/tabcontent" android:layout_width="fill_parent" android:layout_height="fill_parent"
                    android:layout_below="@+id/EmptyFonesLayout" >
 <GridView xmlns:android="http://schemas.android.com/apk/res/android" android:id="@+id/gridview" android:layout_width="fill_parent" android:layout_height="wrap_content"  android:verticalSpacing="4dp" android:horizontalSpacing="4dp" android:numColumns="auto_fit" android:columnWidth="90dp" android:stretchMode="columnWidth"   android:background="#ffffff"
                android:textFilterEnabled="true" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:35:34.220

利用

```
android:columnSpan="number of columns" 
```

在您的 xml 中用于第 7 个视图

放上你的 xml 布局文件以使其更清晰

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:38:29.143

stretchMode 导致了这个问题。当您将stretchMode 设置为columnWidth 时。

正如文件所说

> stretchMode 定义列应如何拉伸以填充可用的空白空间（如果有）。在 columnWidth 选项中，每列均被拉伸。

有关更多详细信息，请查看[文档](http://developer.android.com/reference/android/widget/GridView.html#attr_android%3astretchMode)

我没有尝试过，但尝试将 stretchMode 设置为 none/spacingWidth/spacingWidthUniform 而不是 columnWidth

```
`<GridView
       android:stretchMode="none"
 /> 
```

# c# - WPF：如何区分 Window.Close() 调用和系统菜单关闭操作？

> ID：13854889
> 
> 赞同：4
> 
> 时间：2012-12-13T07:18:24.593
> 
> 标签：c#, .net, wpf, xaml

> **可能重复：**
> [如何在关闭处理程序中区分“单击的窗口关闭按钮 (X)”与 window.Close()](https://stackoverflow.com/questions/13361260/how-to-distinguish-window-close-button-clicked-x-vs-window-close-in-closi)

在 WPF 中，以下是关闭 a 的不同方法`Window`：

1) `Window.Close()`
2) 从窗口系统菜单中选择“关闭”（左上角）
3) 单击窗口标题栏上的“X”按钮（右上角）
4) 键盘快捷键：Alt+F4

所有这些操作都会触发 WPF 事件`Window.Closing`

如何区分这两种类型的操作？

在 Excel/VBA 中，这是可能的：`VBA.VbQueryClose.vbFormCode`与`VBA.VbQueryClose.vbFormControlMenu`.

[这个相关的问题/答案](https://stackoverflow.com/questions/3155782/what-is-the-difference-between-wm-quit-wm-close-and-wm-destroy-in-a-windows-pr)说系统菜单操作将生成 Windows 事件`WM_CLOSE`。也许有一种方法可以从 WPF 中查看底层 Windows 事件。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T08:14:32.073

您可以调用 HwndSource.AddHook 来处理 Win32 消息以获取关闭窗口的原因。就像是：

```
Window myWindow = new Window();
myWindow .Loaded += delegate
{
    HwndSource source = (HwndSource)PresentationSource.FromDependencyObject(myWindow );
    source.AddHook(WindowProc);
}; 
```

以及WindowProc的实现：

```
 private static IntPtr WindowProc(IntPtr hwnd, int msg, IntPtr wParam, IntPtr lParam,      
      ref bool handled){
     switch (msg)
     {
         case: 0x10:
              Console.WriteLine("Close reason: Clicking X");
         case 0x11:
         case 0x16:
             Console.WriteLine("Close reason: WindowsShutDown");
             break;

         case 0x112:
             if (((ushort)wParam & 0xfff0) == 0xf060)
                 Console.WriteLine("Close reason: User closing from menu");
             break;
     }
     return IntPtr.Zero;
    } 
```

[你有一个所有 Windows 消息的列表](http://www.autohotkey.com/docs/misc/SendMessageList.htm)

[WM_SYSCOMMND 的 wParam 值](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646360%28v=vs.85%29.aspx)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T07:28:59.633

`Window.Close`一个简单的选择是在调用自己之前设置一些标志。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T07:35:40.433

当然，当您按`Alt +F4`;时也可能发生这种情况。
如果您正在处理鼠标事件，请检查并查看鼠标在哪个元素上。

# android - 多次点击强制关闭

> ID：13854903
> 
> 赞同：-2
> 
> 时间：2012-12-13T07:19:31.663
> 
> 标签：android, android-widget

我已经成功完成了一个项目，问题是当用户同时点击 2 个或更多按钮时，应用程序会崩溃，当应用程序从服务中获取数据时，当用户点击其他小部件时，它会强制关闭。

错误日志如..

```
12-13 12:42:03.763: W/webcore(576): java.lang.Throwable: EventHub.removeMessages(int what = 107) is not supported before the WebViewCore is set up.
12-13 12:44:52.284: E/AndroidRuntime(665):  at android.os.Looper.loop(Looper.java:137)
12-13 12:44:52.284: E/AndroidRuntime(665):  at android.app.ActivityThread.main(ActivityThread.java:4340)
12-13 12:44:52.284: E/AndroidRuntime(665):  at java.lang.reflect.Method.invokeNative(Native Method)
12-13 12:44:52.284: E/AndroidRuntime(665):  at java.lang.reflect.Method.invoke(Method.java:511)
12-13 12:44:52.284: E/AndroidRuntime(665):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
12-13 12:44:52.284: E/AndroidRuntime(665):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 
```

有没有可能将请求队列放入android代码的方法？

我如何在 android 应用程序中处理强制关闭？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:29:04.353

如果您不想对代码进行更多更改，那么只需使用一个标志来检查服务器请求当前是否正在执行或完成，如下所示：

```
public static boolean status=true;
    getdatabuttn.setOnClickListener(new OnClickListener()
    {
        public void onClick(View v)
        {
                   // check flag here before makeing 
                   //new request to server
                   if(status==true){
                      status=false;
                      // get data here
                         getDatafromServer();
                    }
                   else{
                    // show message already downloading data from server
                    }
        }
         }); 
```

用于向服务器发出数据请求的获取数据方法

```
public void getDatafromServer(){

//your code here for getting data
//....

// after getting data change flag
status=true;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:24:21.760

> 从服务获取数据时使用异步类。或使用处理程序来处理这种崩溃。否则禁用按钮，直到您从服务中获取数据...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:33:46.463

使用 asyn 类从服务中获取数据，用 try/catch 包围按钮来处理异常。

# unix - 下载文件列表，每次迭代增加文件名

> ID：13854907
> 
> 赞同：2
> 
> 时间：2012-12-13T07:19:36.040
> 
> 标签：unix, curl, xargs

我正在使用[这个问题](https://stackoverflow.com/questions/9865866/pipe-output-of-cat-to-curl-to-download-a-list-of-files)来帮助我将文件列表下载到目录中。但是，如果我想实际下载它们，我也需要指定一个文件名来保存。这是我到目前为止所拥有的：

```
$ xargs -n 1  curl > newname.html -0 < ../list.txt 
```

它通过列表很好，但似乎它总是`newname.html`在每次迭代中覆盖。如何对下载进行编号，以便拥有“newname1”、“newname2”等？我不太了解终端命令，所以我什至不知道从哪里开始解读这个。我基本上只是结合了典型的 cURL 下载命令和我上面链接的关于从列表中获取我所在位置的线程。

# dojo - dojo.io.iframe.send 在 dojo 1.8 中第二次以后不再发送请求

> ID：13854908
> 
> 赞同：4
> 
> 时间：2012-12-13T07:19:37.967
> 
> 标签：dojo

示例代码片段

```
this._deferred = dojo.io.iframe.send({
        url: "/Some/Servie",
        method: "post",
        handleAs: 'html',
        content: {},
        load: function(response, ioArgs){
            //DO successfull callback
        },
        error: function(response, ioArgs){  
            // DO Failer callback
        }
    }); 
```

脚步

1.  点击提交按钮发送请求并成功得到响应
2.  再次单击提交按钮...请求从不发送...

感谢任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-14T00:46:43.060

我不能谈论 1.8，但我使用的是 dojo 1.6，并且遇到了一个非常相似的问题，我通过以下方法解决了这个问题：

```
dojo.io.iframe._currentDfd = null; //insert this line
dojo.io.iframe.send
({... 
```

*在 Chrome 版本 25.0.1364.152 m 中验证

来源： http: [//mail.dojotoolkit.org/pipermail/dojo-interest/2012-May/066109.html](http://mail.dojotoolkit.org/pipermail/dojo-interest/2012-May/066109.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-06T20:28:46.547

`dojo.io.frame.send`一次只会发送一个请求，所以如果它认为第一个请求仍在处理中（无论它实际上是否是），它就不会在第二个调用上工作。诀窍是调用`cancel()`返回的延迟结果（如果存在），如下所示：

```
if (this._deferred) {
    this._deferred.cancel();
}
this._deferred = dojo.io.iframe.send({
.... 
```

这将取消第一个请求并允许第二个请求正确发送。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T03:28:29.980

对于 dojo 1.8，`dojo.io.iframe`已弃用。`dojo.request.iframe`改为使用。

@Sorry-Im-a-N00b 的解决方案仍然有效：

```
iframe._currentDfd = null;

iframe.get(url, {
    data: sendData,
}); 
```

# google-apps-script - 如何通过 google Apps Script 从域的用户帐户访问 Google Cloud SQL

> ID：13854911
> 
> 赞同：0
> 
> 时间：2012-12-13T07:20:03.530
> 
> 标签：google-apps-script, google-cloud-sql

域管理员创建了一个 Google Cloud SQL 实例....现在该域的用户想要通过 google Apps 脚本访问 Google Cloud SQL，但他无法访问....当我从管理员帐户运行此代码时有用 ：

var conn = Jdbc.getCloudSqlConnection("jdbc:google:rdbms://"+instance_name+"/"+database_name,"root","");

但是当我从域用户运行此代码时，它会出现此错误：

无法建立数据库连接。检查连接字符串、用户名和密码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:35:42.270

该用户是否有权访问数据库？[请参阅此处的文档](https://developers.google.com/cloud-sql/docs/access_control)。或者您也可以[在参数中提供用户名和密码作为高级参数](https://developers.google.com/apps-script/class_jdbc)

# ios - 用于 iOS 上的非线性拟合的 lib

> ID：13854917
> 
> 赞同：0
> 
> 时间：2012-12-13T07:20:27.843
> 
> 标签：ios, open-source, statistics

我需要在 iOS 应用程序中添加一些数据，基本上是使用牛顿冷却定律：

```
y = a + b * c^{x} 
```

我发现[GNU 科学图书馆](http://www.gnu.org/software/gsl/manual/html_node/Initializing-the-Nonlinear-Least_002dSquares-Solver.html)可能会处理这个问题，但是，为了 GPL，它不在考虑范围之内。是否有任何开源的 C/C++ 非线性卡方求解器具有商业友好许可证（例如 BSD、APL 等）？

期待您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T08:54:15.293

看来MINPACK可以完成这项工作。

[https://github.com/johannesgerer/jburkardt-cpp/tree/master/minpack](https://github.com/johannesgerer/jburkardt-cpp/tree/master/minpack)

# c - 为什么从 inptr 读取到数组中的值与 fgetc(inptr) 给出的值不同？

> ID：13854919
> 
> 赞同：2
> 
> 时间：2012-12-13T07:20:39.153
> 
> 标签：c, arrays, file-io, gdb

我正在尝试遍历 .raw 文件以查找指示 jpeg 正在启动的 4 个字节（0xffd8ffe0 或 0xffd8ffe1）：

```
int junk = fgetc(inptr);
while (junk != 0xff)
    if (junk == EOF)
    {
        printf("Reached end of file.\n");
        printf("2\n");
        return 2;
    }
    else
    {
        junk = fgetc(inptr);
    } 
```

一旦我找到 0xff，我 fseek(inptr, -1, SEEK_CUR)，然后：

```
while (feof(inptr) == 0)
{
    // declared write file outptr

    // write header
    char header[4];
    do
    {
        fread(&header, sizeof(char), 4, inptr);
        if (header[1-4] are 0xffd8ffe0 or 0xffd8ffe1)
            fwrite(&header, 1, 4, outptr);
    } while (header[1-4] are not 0xffd8ffe0 or 0xffd8ffe1); 
```

如果我在 GDB 中并且在 while 循环开始之前打印 fgetc(inptr) 4 次，那么我肯定会得到 0xffd8ffe0。如果我让 do-while 循环 fwrite 到 header，然后在 gdb 中打印 header，我会得到疯狂的垃圾值，并且 do-while 变成一个无限循环。我不知道发生了什么。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:43:56.013

即使原始文件存在，您的代码也可能无法在 RAW 文件中找到 JPEG 标头，前提是标头之前的原始部分中有 0xff。例如，如果文件包含：

```
0x00 0xff 0x00 0x00 0xff 0xd8 0xff 0xe0 <JPEG data> 
```

您的代码不会找到标题。

相反，您应该逐字节读取文件（记住最后三个读取字节）并将这些字节与 JPEG 标头的常量进行比较。

# jaxb - 等效于 EclipseLink MOXy 中 @XmlPath 中的 @XmlElement.required

> ID：13854920
> 
> 赞同：3
> 
> 时间：2012-12-13T07:20:41.520
> 
> 标签：jaxb, eclipselink, moxy

如何在[**EclipseLink MOXy**](http://www.eclipse.org/eclipselink/moxy.php) 2.4.1 版本中使用注解实现`@XmlElement.required`标志？`@XmlPath`[](http://www.eclipse.org/eclipselink/moxy.php)

 *** * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T11:45:00.333

您可以将`@XmlElement(required=true)`与`@XmlPath`注释一起使用来指定需要叶元素。

**顾客**

下面是一个示例域模型，其中两个字段映射`@XmlPath`到其中一个我也使用过`@XmlElement(required=true)`。

```
package forum13854920;

import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlPath;

@XmlAccessorType(XmlAccessType.FIELD)
public class Customer {

    @XmlPath("personal-info/first-name/text()")
    private String firstName;

    @XmlPath("personal-info/last-name/text()")
    @XmlElement(required=true)
    private String lastName;

} 
```

**jaxb.properties**

要将 MOXy 用作您的 JAXB 提供程序，您需要包含一个`jaxb.properties`在与您的域模型相同的包中调用的文件，其中包含以下条目：

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

**XML 模式**

下面是对应于域模型的 XML 模式。请注意该`last-name`元素如何没有`minOccurs="0"`.

```
<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
   <xsd:complexType name="customer">
      <xsd:sequence>
         <xsd:element name="personal-info" minOccurs="0">
            <xsd:complexType>
               <xsd:sequence>
                  <xsd:element name="first-name" type="xsd:string" minOccurs="0"/>
                  <xsd:element name="last-name" type="xsd:string"/>
               </xsd:sequence>
            </xsd:complexType>
         </xsd:element>
      </xsd:sequence>
   </xsd:complexType>
</xsd:schema> 
```

**演示**

以下演示代码可用于生成 XML 模式。

```
package forum13854920;

import java.io.IOException;
import javax.xml.bind.*;
import javax.xml.transform.Result;
import javax.xml.transform.stream.StreamResult;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Customer.class);

        jc.generateSchema(new SchemaOutputResolver() {

            @Override
            public Result createOutput(String namespaceURI, String suggestedFileName) throws IOException {
                StreamResult result = new StreamResult(System.out);
                result.setSystemId(suggestedFileName);
                return result;
            }

        });
    }

} 
```

* * *

目前[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)没有与路径其他段的注释`required`上的属性等效的属性。`@XmlElement`如果您对此行为感兴趣，请使用以下链接输入增强请求：

*   [https://bugs.eclipse.org/bugs/enter_bug.cgi?product=EclipseLink](https://bugs.eclipse.org/bugs/enter_bug.cgi?product=EclipseLink)**

# c# - 方法'form3'没有重载需要'0'参数C#

> ID：13854934
> 
> 赞同：0
> 
> 时间：2012-12-13T07:21:54.097
> 
> 标签：c#, .net, winforms

我在 form2 上使用了这种方法来将值传递给 form3：

```
**form2.cs**

Form3 frm3 = new Form3(cbDelivery.Text, cbOderNo.Text, cbCartonCode.Text, lblGRV.Text);
frm3.Show();
this.Hide(); 
```

但是现在每次我想使用它时，我都会得到“方法'form3'没有重载需要'0'参数”。

我确实理解它正在寻找相同的值，但我不需要它们。例如，当我在 form4 并想回到 form3 时。

我该如何绕过这个？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:38:33.460

在您的代码中的某处，调用了一个名为 form3 的方法（在您的代码示例中，它是一个构造函数，但错误另有说明），参数为零。重载是一项功能，可让您创建具有相同名称但参数数量不同的多个方法。所以编译器正在寻找一个匹配项，并告诉你这个方法没有重载，它接受 0 个参数。你应该修复你的方法调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:28:32.357

您可以在定义类时为构造函数参数设置默认值。

或者定义一个不带参数的重载构造函数。

```
public class form3
{
    public form3(string cbDelivery="", string cbOrderNo = "",
                 string cbCartonCode = "", string lblGRV = "")
    {

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:28:56.443

如果我正确理解了您的查询，我认为这可能会对您有所帮助

[使用 C# 在 Visual Studio 中的 3 个窗口窗体之间传递数据](https://stackoverflow.com/questions/5040415/passing-data-between-3-windows-forms-in-visual-studio-using-c-sharp)

# php - 提高文件写入速度

> ID：13854935
> 
> 赞同：1
> 
> 时间：2012-12-13T07:22:01.507
> 
> 标签：php, image, file-io, jpeg, imagick

我创建了一个网站，其中有一个结帐按钮，每当客户单击结帐按钮时，我需要创建 4 个 jpg 格式的图像文件并将它们保存在服务器上。这些图像文件稍后将由站点管理员打印

现在，其中一个图像文件的大小可能为 3MB 到 4MB，而其余 3 个图像文件的大小大部分在 250KB 到 500KB 之间

现在的问题是可能从 3MB 到 4MB 的第一个文件需要一些时间来创建，例如 5-10 秒（这只是一次一个客户结帐时）

但是当我使用 2 个不同的设备同时执行 Checkout 时，时间范围增加到 20 秒，其中一个 Checkout 首先处理，而另一个等待或工作有点慢，所以总时间是 20 秒，否则其中一个的时间结帐是 8 秒，而另一个是 12 秒

所以我担心如果 10 或 20 位客户同时执行结帐，那么他们中的一些人可能不得不等待 2 或 3 分钟甚至更长时间

所以谁能告诉我，我如何提高 PHP 写入文件的速度或提高 PHP 执行速度或增加 RAM 可能会有所帮助（目前是 1GB）

注意：-
-> 我正在使用 IMagick 创建图像文件，
-> 也不能降低 jpg 质量，因为它稍后将以 150 dpi 打印，
-> 第一个图像文件是高清照片，而其余 3 个是仅填充纯色
->它们的分辨率也很高，宽度和高度都在 2800 到 4400 像素之间
->还有一个序列号要添加到所有 4 个图像文件中，所以我不能降低它的质量，否则序列号打印所有 4 个图像文件时，编号可能不可见

更新：客户首先上传照片，然后他可以缩放图像，裁剪甚至移动它（用于裁剪目的）

所以简而言之，他主要是裁剪上传的图像，当他点击结帐按钮时，会创建新图像并添加序列号

我检查了图像在大约 1 秒内被处理或在内存（RAM）中创建的代码，但是当我添加用于在服务器本身的硬盘驱动器上写入图像的代码时，它需要一些时间 5-如果没有同时请求，则为 8 秒；如果有 20-30 个同时请求，则为 10-15 分钟

此外，我必须向他们显示成功或失败消息，但我只能在创建所有 4 个图像文件后显示成功消息，所以即使我使用 ajax，我也无法在所有图像之前显示成功消息创建

同样，如果我删除用于编写图像的代码，那么如果没有同时请求，则时间减少到 1 秒，如果有 20-30 个同时请求，则时间减少到 5-10 秒

所以我认为问题在于编写图像文件而不是处理或生成它

此外，当用户仍在裁剪图像时，我无法创建图像文件，否则会减慢裁剪过程。同样情况不会改变，反而会变得更糟，从“同时结账时会发生什么”的问题将变为“同时裁剪时会发生什么”。所以这不是一个选择

此外，如果我说将向您发送一封电子邮件，通知您您的结帐是否成功，我认为这看起来并不专业。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:35:03.063

只是一些想法，也许其中一个可以帮助您完成手头的任务：

*   试着找出你在这些图像上执行的哪些步骤会侵蚀你的表现。也许显示一些代码，以便人们可以提供帮助。
*   由于硬件（CPU、RAM、HD）较旧，某些图像操作可能需要更长时间。你的硬件够好吗？
*   您使用的是最新版本的 IMagick 吗？
*   尝试将图像处理与结帐过程分开。也许首先将原始数据写入数据库、文件或其他任何内容，然后创建一个 cron（或触发它）来进行处理，这样您的用户就不必等待这个。
*   您可能还必须深入研究您的 php 和 apache 配置。未优化的设置也可能导致性能问题。

# actionscript-3 - 如何将输入文本值复制到 MovieClip1 中的动态文本中

> ID：13854936
> 
> 赞同：0
> 
> 时间：2012-12-13T07:22:02.490
> 
> 标签：actionscript-3, flash

目前我的代码就是这样

```
setcustomlocation.addEventListener(MouseEvent.CLICK,customlocation2);

function customlocation2(e:MouseEvent):void
{
    locationinput.text = FlashingWon.Won1.name.text;
} 
```

我正在尝试使其将输入文本字段值复制到动态文本中。但是，它会引发错误

> TypeError：错误 #1009：无法访问空对象引用的属性或方法。在 main/customlocation2()[main::frame1:9]

我只能假设它无法与另一个影片剪辑中的影片剪辑中的动态文本字段进行通信。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T10:03:09.917

好的，抱歉耽搁了，我假期出去了。我打开了你的例子，可以看到问题出在哪里：

`FlashingWon`1）当您在第一帧上启动 dynoText 时，您正试图达到，`var dynoText = FlashingWon.Won1.getChildByName('name_txt');`但 FlashingWon 元素仅在第五帧上可用。这意味着您还不能完全参考它，除非您将它添加到第一帧并使其在第五帧之前不可见。`goto1`（如果您希望在该`goToAndStop(5)`行之后，可以使其在函数中可见）

2) 您在元素 'name' 上调用了 TextField，`Won1`这是 AS3 中的一个受限制的字符串，因此如果您愿意，可以将其更改为 name_txt 或标签，它会起作用。

让我知道它是如何工作的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:50:18.803

首先，您可以 100% 确定它可以与 MovieClip 中的动态 TextField 进行通信。

根据您的描述，我了解到您希望从输入复制到动态。但是从您的代码中，我看到您将动态转换为输入，请检查一下：

```
// This will copy in such a way: input <= wonText 
locationinput.text = FlashingWon.Won1.name.text;

// This will copy from input
FlashingWon.Won1.name.text = locationinput.text; 
```

无论如何，您得到的错误与此无关，就像您已经注意到的那样，您的 TextField 之一不是*'found'*。为此，我向您推荐一个最佳实践：创建您想要使用的对象的实例，并通过 getChildByName 方法从舞台填充它们。这样，如果您想要获得的孩子有任何拼写错误或结构缺失，您现在会立即（特别是如果您在构造或初始化时这样做）。

像这样：

```
var inputText: TextField;
var dynoText: TextField; 
```

在您的 Constructor 或其他地方，在不久的将来，为您的 vars 赋予适当的值：

```
inputText = getChildByName('locationinput') as TextField;
dynoText = FlashingWon.Won1.getChildByName('name') as TextField; 
```

这样，您很快就会知道是否在您提供的对象下找不到这 2 个文本字段之一，并且您只有一个地方可以错过拼写它。您还将在 TextFields 上完成代码。

最后复制文本部分：

```
dynoText.text = inputText.text; 
```

希望能帮助到你。

# html - 如何将vbscript中的复选框选中数据从xml获取到html表

> ID：13854937
> 
> 赞同：1
> 
> 时间：2012-12-13T07:22:11.873
> 
> 标签：html, xml, vbscript

这是我的 vbscript 代码

1.  我要求在表格中显示数据

2.  在我的页面中，当我检查其中一些状态为“已关闭”并单击按钮时，我有一些复选框......然后我需要获取带有复选框选中的表格（其状态为关闭）和其余所有状态的表格应该显示...

3.  现在我怎样才能得到选中的复选框数据。

```
sXML4= goBO.QueryXML("SELECT ISS_REL_ID, ISNULL(CONVERT(VARCHAR(11),ISS_RANK , 106),'NA') AS DATEREPORTED,ISS_TITLE AS ISSUESREPORT,ISS_IMPACT AS REPORTEDBY, "&_
                           " ISNULL(CONVERT(VARCHAR(11),ISS_TRG_RS_DATE , 106),'NA') AS DATECLOSED, "&_
                           " C_CATEGORY AS CATEGORY, "&_
                           " CASE WHEN ISS_STATUS ='C' THEN 'Closed' WHEN ISS_STATUS ='O' THEN 'Work In Progress' WHEN ISS_STATUS ='K' THEN 'KIV'END AS "&_
                           " STATUS, ISS_PROGRESS_RPT, "&_
                           " CASE WHEN ISS_STATUS ='C' THEN 'GREEN' WHEN ISS_STATUS ='O' THEN 'ORANGE' WHEN ISS_STATUS ='K' THEN 'ORANGE'END AS COL "&_
                           " FROM v_iss_list WHERE  ISS_PROGRESS_RPT='Y' and ISS_REL_ID = 'prj0000152' order by status ","TYPES","TYPE")

On Error Resume Next
if goBO.HasError then HandleError

Set oXML4 = Server.CreateObject("MSXML.DOMDocument")
oXML4.async = false
oXML4.loadXML sXML4
For each oNode4 in oXML4.documentElement.childNodes

    sDataPoint4 = sDataPoint4 + "<tr>"
    'sDataPoint4 = sDataPoint4 + "<td align=""center"" style=""font-family:verdana;font-size:11"">&nbsp;<label><input type=""checkbox"" value=""Yes"" name=""myTextEditBox""""></label>&nbsp</td>" + vbNewline

    sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11"">&nbsp;<label>"& oNode4.getAttribute("DATEREPORTED") &"</label>&nbsp</td>" + vbNewline
    sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11"">&nbsp;<label>"& oNode4.getAttribute("ISSUESREPORT") &"</label>&nbsp</td>" + vbNewline
    sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11"">&nbsp;<label>"& oNode4.getAttribute("REPORTEDBY") &"</label>&nbsp</td>" + vbNewline
    sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11"">&nbsp;<label>"& oNode4.getAttribute("DATECLOSED") &"</label>&nbsp</td>" + vbNewline
    sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11"">&nbsp;<label>"& oNode4.getAttribute("CATEGORY") &"</label>&nbsp</td>" + vbNewline

    if oNode4.getAttribute("STATUS") = "Closed" then
       dim val
       val =  oNode4.getAttribute("ISSUESREPORT") 

       sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11;background-color:"& oNode4.getAttribute("COL") &""">&nbsp;<label>"& oNode4.getAttribute("STATUS") &"&nbsp<input type=""checkbox""  name=""myTextEditBox"" value=""yes""""></label>&nbsp</td>" + vbNewline
    else 
       sDataPoint4 = sDataPoint4 + "<td align=""left"" style=""font-family:verdana;font-size:11;background-color:"& oNode4.getAttribute("COL") &""">&nbsp;<label>"& oNode4.getAttribute("STATUS") &"</label>&nbsp</td>" + vbNewline
    end if 
    sDataPoint4 = sDataPoint4 + "</tr>" + vbNewline

Next

'bp oXML4.documentElement.childNodes(0).getAttribute("ISSUESREPORT")  

Set oXML4 = nothing
set oBO = nothing

SUB GetResults(myTextEditBox)

    ON ERROR RESUME NEXT
        IF myTextEditBox.Checked = TRUE THEN
            MSGBOX myTextEditBox.Value
        END IF
        IF ERR.Number <> 0 THEN
            FOR i = 0 TO myTextEditBox.Length - 1
                IF myTextEditBox(i).Checked = TRUE THEN
                     MSGBOX myTextEditBox(i).Value
                END IF
            NEXT
        END IF
    ON ERROR GOTO 0
END SUB 
```

一些身体可以帮助我...

谢谢

# unit-testing - 如何使用不可重复的数据设置测试用例？

> ID：13854938
> 
> 赞同：0
> 
> 时间：2012-12-13T07:22:19.283
> 
> 标签：unit-testing, testing

我遇到了不可重复的测试用例。比如说，一个测试用例是将文件上传到第三方服务。该服务限制一天上传一次。因此，如果我运行时间戳为 2012.10.10 的测试用例，我实际上无法在同一天重新运行测试。我们如何设计我们的测试用例来克服这个问题？谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:32:26.200

您所做的不是测试您的代码，而是测试第三方服务。

在这种情况下，您应该针对服务的模拟运行测试，而不是真实的东西。

# iphone - 将文件从一个应用程序传输到同一设备中的任何其他应用程序

> ID：13854944
> 
> 赞同：1
> 
> 时间：2012-12-13T07:22:48.713
> 
> 标签：iphone, ios, ios4, converter, file-transfer

我有一个应用程序，可以将文件从 .png 转换为 .pdf 等。现在我想在任何其他支持查看此类文件（如 pdf 查看器等）的应用程序中打开这些转换后的文件。我制作了一个示例应用程序，它可以识别各种同一设备中的其他应用程序，我也可以在其中打开我的文件***但是***所有这些应用程序**都是在 Apple 商店中启动的。**

**主要问题**是我如何在我的应用程序中测试此功能，该应用程序处于测试阶段并且未在 Apple Store 上发布？

我使用以下代码打开其他应用程序：-

```
- (UIDocumentInteractionController *) setupControllerWithURL:(NSURL *)fileURL
                                               usingDelegate:(id <UIDocumentInteractionControllerDelegate>)         interactionDelegate {

    UIDocumentInteractionController *interactionController =
    [UIDocumentInteractionController interactionControllerWithURL:fileURL];
    interactionController.delegate = interactionDelegate;

    return interactionController;
}

- (void)showOptionsMenu
{
    NSURL *fileURL = [NSURL fileURLWithPath:@"https://itunes.apple.com/us/app/ifiles-converter-lite-convert/id576154331?ls=1&mt=8"];
    docController = [self setupControllerWithURL:fileURL
                                   usingDelegate:self];
    bool didShow = [docController presentOptionsMenuFromBarButtonItem:_btnActions
                                                             animated:YES];
} 
```

# azure - 确定特定消息是否仍在 Azure 服务总线中排队的模式

> ID：13854947
> 
> 赞同：0
> 
> 时间：2012-12-13T07:22:58.637
> 
> 标签：azure, azureservicebus

我有一个将消息 x 代理到 Azure 服务总线的推送器。这是客户对某个订单的请求。

消费者出现并想知道“消息 x 的状态是什么”？我想尽可能多地了解消息 x，但至少我需要回答“是/否”它还在队列中吗？Azure 服务总线中是否有推荐的模式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:08:41.570

在[查看 Azure 服务总线队列的内容时，](https://stackoverflow.com/questions/10043219/view-content-of-an-azure-service-bus-queue) Clemens Vasters 解释说，目前服务总线队列/主题中没有可用的浏览功能。了解状态的唯一方法是将其存储在外部（以表存储为例）。

# html - 使用 css 创建二级下拉菜单

> ID：13854949
> 
> 赞同：0
> 
> 时间：2012-12-13T07:22:59.713
> 
> 标签：html, css, drop-down-menu

我正在尝试创建第二级下拉列表。我成功创建了第一级下拉菜单，但在使其成为第 2 级时有点卡住了。请协助我完成它..

还请解释我在做什么错误，即使css部分很好，我也无法获得二级下拉菜单（我认为是这样）

**编辑**：我知道有很多关于下拉 CSS 的教程。但我想知道为什么这不起作用。

这是**[jsbin的链接](http://jsbin.com/ehawet/2/edit)**

**HTML**

```
<ul id="nav">
  <li>Home</li>
  <li>Details
    <ul id="subNav">
    <li>x details<li>
      <li>y details</li>
    </ul></li>

  <li>About Us
    <ul id="xSubNav">
      <li>About company
        <ul>
          <li>full information</li>
          <li>summary</li>
        </ul></li>
      <li>About Author</li>
    </ul></li>
</ul> 
```

**CSS**

```
*{font-family:consolas;}

li{line-height:20px;}

ul#nav>li{float:left;width:100px;list-style:none;
          cursor:hand;cursor:pointer;}

ul#nav li li
{display:none;width:150px;}

ul#nav li ul
{padding:0;margin:0;}

ul#nav>li:hover>ul>li
{display:block;}

ul#nav>li:hover{color:grey;}

ul li li{color:black;}

ul li li:hover
{color:cornflowerblue;}

ul li li:hover li   /* level 2 dropdown part */
{display:block;margin-left:150px;width:300px;} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T07:38:04.070

这是您的代码的解决方案

只需添加以下CSS：

```
ul ul li { position:relative;}
ul ul li ul { position:absolute; display:none; left:0px; top:0px;}
ul ul li:hover ul { display:block;}
ul#nav li li li {display:block;} 
```

检查这个工作[**小提琴**](http://jsfiddle.net/RGrw2/7/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T07:24:27.437

问题在于 CSS 规则的特殊性。只需将#nav 添加到最后三个规则，以免被第一个规则覆盖。

```
ul#nav li li{color:black;}

ul#nav li li:hover
{color:cornflowerblue;}

ul#nav li li:hover li
{display:block;margin-left:150px;width:300px;} 
```

而且我认为需要进行一些其他调整，但这就是想法。

# c++ - 使用 c++ 处理 zip 档案

> ID：13854950
> 
> 赞同：3
> 
> 时间：2012-12-13T07:23:00.057
> 
> 标签：c++, qt, zip

你们有没有人在处理 zip-archives 方面有一些经验？我有一个在文件系统上搜索并在 XML 文件中搜索关键字的程序。但是 XML 文件存储在 zip64 档案中。所以每次我想搜索一些东西时，我都必须解压缩文件。由于我使用的是 Qt，所以我尝试的第一件事是 Quazip，但就像 libarchive 一样，它似乎不支持 zip64。比我找到了 poco-library 或 zipstream 之类的库，但在运行时遇到了麻烦。

现在我想问是否有人能说出对压缩文件执行搜索可能需要多长时间。因为搜索已经花费了 15 分钟。如果它慢很多，可能不值得付出努力（例如，如果之后需要超过 20 分钟，我就不会使用它）。

是否可以预测使用压缩文件的额外时间？

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T10:20:33.850

InfoZip 支持 zip64。但是，无论如何要在压缩的 XML 中搜索，您都应该解压缩它们，这会占用您大部分时间。

# php - mySQLi 准备好的语句

> ID：13854954
> 
> 赞同：2
> 
> 时间：2012-12-13T07:23:18.437
> 
> 标签：php, mysqli

我已经搜索了很多其他人发布的问题，但我仍然找不到我的代码有什么问题。在那里我找不到太多与我相似的东西，而且我发现大部分是在 OO 方法中。

我试过这个：

```
$query = "SELECT * FROM userinfo WHERE (username = '?')";

if($stmt = mysqli_prepare($mysqli, $query))
{
    mysqli_stmt_bind_param($stmt, "s", $login_username);
    mysqli_stmt_execute($stmt);

} 
```

和：

```
$query = "SELECT re_password FROM userinfo WHERE (username = '?')";

if($stmt = mysqli_prepare($mysqli, $query))
{
    mysqli_stmt_bind_param($stmt, "s", $login_username);
    mysqli_stmt_execute($stmt);

} 
```

而且我仍然收到此消息：mysqli_stmt_bind_param() [function.mysqli-stmt-bind-param]: Number of variables doesn't match number of parameters in Prepared statement

我真的需要一些大的帮助。我曾经在 mySQL 中做，我不知道或者更确切地说不知道准备语句的做法。现在我正在自学mySQLi，同时学习如何使用preparing statement进行编码。不管我怎么看说明书，我还是不明白。

此外，在 OO 或程序方法中编码是否有任何偏好或优点/缺点？

多谢你们！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:28:17.503

尝试替换“？” 和 ？：

```
$query = "SELECT * FROM userinfo WHERE username = ?";

if($stmt = mysqli_prepare($mysqli, $query))
{
    mysqli_stmt_bind_param($stmt, "s", $login_username);
    mysqli_stmt_execute($stmt);

} 
```

# android - Android Listview 项目 10 秒后自动更改？

> ID：13854955
> 
> 赞同：3
> 
> 时间：2012-12-13T07:23:21.490
> 
> 标签：android, listview, runnable

我有两个数组列表，一个是出发列表，一个是到达列表我想显示这个列表

或者意味着 10 秒后列表会自动更改

前 10 秒出发列表和下一个 10 秒到达列表

> 主页活动.java

```
 final int []sliderImageArray={R.drawable.banner,R.drawable.banner01,R.drawable.banner02};
        final int []footerImageArray={R.drawable.bottomadv,R.drawable.sandwich,R.drawable.underbig};
        try 
        {

            Log.e("Land Scape Run","");
            Log.e("LandScape  Run","Handler ");
                final Handler imagehandler = new Handler();

                Runnable runnable;

                runnable = new Runnable()
                {

                    int i=0;
                    public void run()
                    {   // slider image run
                        imageslider.setImageResource(sliderImageArray[i]);  //Log.e("Image Run",""+sliderImageArray[i]);
                        i++;
                        if(i>sliderImageArray.length-1)
                        {
                                i=0;    
                                clear();
                        }
                        imagehandler.postDelayed(this, 4000); // for interval
                    }

                };
                imagehandler.postDelayed(runnable,10);

                final Handler footerimagehandler =new Handler();
                runnable = new Runnable()
                {   
                    int j=0;
                    public void run()
                    {   // footer image run
                        imagefooter.setImageResource(footerImageArray[j]); //   Log.e("Image Run",""+footerImageArray[j]);
                        j++;
                        if(j>footerImageArray.length-1)
                        {
                                j=0;    
                                clear();
                        }
                        footerimagehandler.postDelayed(this, 5000); // for interval
                    }
                };

                footerimagehandler.postDelayed(runnable, 10);

                // For ListView Change after 10 seconds;
                final Handler listhandler= new Handler();
                runnable = new Runnable() {

                    public void run() {
                        // departure flight list

                                if(!flightList.isEmpty())
                                {
                                        int displaymode=getResources().getConfiguration().orientation;
                                        if(displaymode==1)
                                        {
                                                textviewinfo.setText("Departure Flight List");
                                                ListAdapter adapter = new SimpleAdapter(HomeActivity.this,flightList,
                                                        R.layout.listportrait,
                                                        new String[] { TAG_MDESTINATION, TAG_MFLIGHT, TAG_MAIRLINE,TAG_MSCHEDULE,TAG_MTERMINALGATE,TAG_MFSTATUS  }, new int[] {
                                                                R.id.textdestination, R.id.textflight, R.id.textairline,R.id.textschedule,R.id.texttermgate,R.id.textstatus });
                                                setListAdapter(adapter);

                                        }
                                        else
                                        {
                                               textviewcity.setText(textcity);
                                               textviewairport.setText(textairport);
                                               textviewinfo.setText("Departure Flight List");

                                            ListAdapter adapter = new SimpleAdapter(HomeActivity.this,flightList,
                                                    R.layout.list,
                                                    new String[] { TAG_MDESTINATION, TAG_MFLIGHT, TAG_MAIRLINE,TAG_MSCHEDULE,TAG_MTERMINALGATE,TAG_MFSTATUS  }, new int[] {
                                                            R.id.textdestination, R.id.textflight, R.id.textairline,R.id.textschedule,R.id.texttermgate,R.id.textstatus });
                                            setListAdapter(adapter);

                                        }
                                }listhandler.postDelayed(this,1000);// if loop complete departure
                            // arrival flight list
                                if(!arrivalList.isEmpty())
                                {

                                        int displaymode=getResources().getConfiguration().orientation;
                                        if(displaymode==1)
                                        {
                                            text1.setText("Origin");
                                            text4.setText("Arrival");
                                            textviewinfo.setText("Arrival Flight List");

                                                ListAdapter adapter = new SimpleAdapter(HomeActivity.this,arrivalList,
                                                        R.layout.listportrait,
                                                        new String[] { TAG_MDESTINATION, TAG_MFLIGHT, TAG_MAIRLINE,TAG_MSCHEDULE,TAG_MTERMINALGATE,TAG_MFSTATUS  }, new int[] {
                                                                R.id.textdestination, R.id.textflight, R.id.textairline,R.id.textschedule,R.id.texttermgate,R.id.textstatus });
                                                setListAdapter(adapter);

                                        }
                                        else
                                        {
                                                text1.setText("Origin");
                                                text4.setText("Arrival");
                                                textviewinfo.setText("Arrival Flight List");

                                            ListAdapter adapter = new SimpleAdapter(HomeActivity.this,arrivalList,
                                                    R.layout.list,
                                                    new String[] { TAG_MDESTINATION, TAG_MFLIGHT, TAG_MAIRLINE,TAG_MSCHEDULE,TAG_MTERMINALGATE,TAG_MFSTATUS  }, new int[] {
                                                            R.id.textdestination, R.id.textflight, R.id.textairline,R.id.textschedule,R.id.texttermgate,R.id.textstatus });
                                            setListAdapter(adapter);

                                        }
                                }listhandler.postDelayed(this,100);// if complete arrrival

                    }
                };
                listhandler.postDelayed(runnable, 10); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:31:31.180

```
Handler handler = new Handler();

handler.postDelayed(new Runnable() {
@Override
public void run() {

//do anything

}
}, 10000); 
```

这段代码几乎相同。您可以尝试以`recursive call`10 秒的延迟创建这两种方法的“”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T07:29:00.130

我不会总是创建新的 ListAdapters。我会为出发创建一个，为到达创建一个，并将它们保存在内存中。然后我只需在 UIThread 的 ListView 中交换适配器。由于交换适配器会对 UI 产生影响，这应该在 UIThread 中完成。然后，我将更新当前未在后台使用的适配器的数据。最后，您只需要一个后台线程即可使您的数据保持最新。

但通常你应该阅读 Loaders 和 Oberserables 和 Observers 并尝试使用这种方法。然后，Android 不仅为您消除了所有复杂的线程和线程同步，而且您有一个很好的可扩展和平台一致性方法。

# php - 有什么方法可以在不逐行分配空值的情况下使所有 $this 变量无效？

> ID：13854959
> 
> 赞同：0
> 
> 时间：2012-12-13T07:23:38.030
> 
> 标签：php, class, variables, this

有什么方法可以在不逐行分配空值的情况下使所有 $this 变量无效？

```
 public function refresh(){
    unset($this);
} 
```

未设置不起作用..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:26:05.700

你不能 unset($ths) 当你在 $this; 否则你将无处可去。

```
$this->propertyA = $this->propertyB = $this->propertyC = NULL; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:27:04.773

你为什么要这样做？简单地取消设置你正在使用的类的实例，里面的一切都消失了

```
$a = new SomeClass();
$a->someVar = "1";
$a->someOtherVar = "2";
unset($a); 
```

但是不要忘记创建一个新实例，如果你想继续`$a` 但是，这会将所有值重置为它们在属性定义中设置的默认值：

```
foreach (get_class_vars(get_class($this)) as $name => $def){ 
  $this->$name = $def;
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-13T07:29:05.660

您可以尝试遍历每个字段并一一取消设置。像这样：

```
 function refresh() {
       foreach($this as $key => $value) {
           unset($this->$key);
       }
    }
```

注意：我现在无法测试此代码未经测试。

# php - Ajax Jquery 链式组合不起作用

> ID：13854965
> 
> 赞同：1
> 
> 时间：2012-12-13T07:23:59.103
> 
> 标签：php, jquery, ajax

我正在尝试从 PHP Jquery 食谱运行本教程，但第一个组合框没有填充国家数据并且它是空的！我在数据库中有 4 个表，我检查了它们，它们都很好！表是：Country、States、Towns 和 Towninfo

在我的 html 中，我有：

```
<html>
<head>
</head>
<body>
    <ul>
        <li>
            <strong>Country</strong>
            <select id="countryList">
                <option value="">select</option>
            </select>
        </li>
        <li>
            <strong>State</strong>
            <select id="stateList">
                <option value="">select</option>
            </select>
        </li>
        <li>
            <strong>Town</strong>
            <select id="townList">
                <option value="">select</option>
            </select>
        </li>
    </ul>
    <p id="information"></p>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
        $(document).ready(function()
        {
       $('select').change(getList);
            getList();
            function getList()
            {
                var url, target;
                var id = $(this).attr('id');
                var selectedValue = $(this).val();
                switch (id)
                {
                    case 'countryList':
                        if(selectedValue == '') return;
                        url = 'results.php?find=states&id='+ selectedValue;
                        target = 'stateList';
                    break;

                    case 'stateList':
                        if($(this).val() == '') return;
                        url = 'results.php?find=towns&id='+ selectedValue;
                        target = 'townList';
                    break;

                    case 'townList':
                        if($(this).val() == '') return;
                        url = 'results.php?find=information&id='+ selectedValue;
                        target = 'information';
                    break;

                    default:
                        url = 'results.php?find=country';
                        target = 'countryList';
                }
                $.get(
                    url,
                    { },
                    function(data)
                    {
                        $('#'+target).html(data);
                    }
                )
            }
        });
    </script>
</body>
</html> 
```

在我的 php 文件中：

```
 <?php
 $mysqli = new mysqli('localhost', 'root', '', 'chain');
 $find = $_GET['find'];
  switch ($find)
  {
case 'country':
$query = 'SELECT id, countryName FROM country';
break;

    case 'states':
$query = 'SELECT id, stateName FROM states WHERE countryId='.$_GET['id'];
break;

    case 'towns':
$query = 'SELECT id, townName FROM towns WHERE stateId='.$_GET['id'];
break;
case 'information':
    $query = 'SELECT id, description FROM towninfo WHERE townId='.$_GET['id'] .' LIMIT 1';
break;
    }
    if ($mysqli->query($query)) 
    {
$result = $mysqli->query($query);
if($find == 'information')
{
    if($result->num_rows > 0)
    {
        $row = $result->fetch_array();
        echo $row[1];
    }
    else
    {
        echo 'No Information found';
    }
}
else
{
     ?>
    <option value="">select</option>
     <?php          
    while($row = $result->fetch_array()) 
    {
      ?>        
        <option value="<?php echo $row[0]; ?>"><?php echo $row[1]; ?>         </option>     
      <?php         
    }
}
     }
     ?> 
```

根据书第一个组合框必须在页面加载后填充，但我不知道为什么它是空的！你能告诉我为什么会这样吗！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:40:49.897

调用：getList();

加载页面后将无法正常工作，因为它没有正确的值“this”上下文。

您可以尝试使用：

```
$('select').trigger("change"); 
```

而不是 getList(); 首次加载

或另一种尝试方式：

```
$(document).ready(function(){
    $('select').change(getList);
    getList.call($('select'));
    function getList(){...}
} 
```

这应该设置正确的上下文。（但我不是 100% 确定它是否会起作用，因为没有尝试制作小提琴。）

# sql-server - SQL Server：更改多行中的字符串

> ID：13854966
> 
> 赞同：0
> 
> 时间：2012-12-13T07:24:07.313
> 
> 标签：sql-server, date, format

我的表中有大约 200 万行，其中有一列日期...此列的类型为`VARCHAR`，并且它包含错误的日期格式，我们有这种格式`dd/mm/YYYY`，它必须是`YYYY-mm-dd`...

我怎样才能改变它？请记住，它是一`Varchar`列，而不是一`Datetime`列（它不能是日期时间字段，因为我们使用查询对其进行操作）

谢谢你的建议。

**更新**

正如我所说，我有数百万行，因此不可能将日期字段逐个查询到新字段，正如您在回复中所说的那样......我需要某种“自动”模式来传输每一行到它的新格式和数据类型列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T07:36:19.170

试试这个

```
Declare @t table (dt varchar(25));
insert into @t
SELECT '01/01/2012' UNION 
SELECT '02/01/2012' UNION
SELECT '03/01/2012'

SELECT convert(varchar(10), CONVERT(datetime, dt, 103), 120) as dt_new
from @t;

CREATE TABLE newT(id, dt varchar(10));
INSERT INTO newT
SELECT id, convert(varchar(10), CONVERT(datetime, dt, 103), 120) as dt_new
    from oldT; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T07:41:43.010

如果您的最终目标只是清理以在日期时间列中结束，则只需添加一个新列，然后传输数据：

```
update tbl
   set new_datetime_col = convert(datetime, dateinvarchar, 103); 
```

* * *

**查询**：

```
update tbl
   set dateinvarchar = convert(char(10),
                       convert(datetime,
                               dateinvarchar, 103), 121)
select * from tbl 
```

**样品表**：

```
create table tbl (dateinvarchar varchar(10));
insert tbl values
  ('01/02/2012'),
  ('02/02/2012'),
  ('03/02/2012'),
  ('14/12/2012'); 
```

**[样本结果](http://sqlfiddle.com/#!3/550c6/2/0)**：

```
| DATEINVARCHAR |
-----------------
|    2012-02-01 |
|    2012-02-02 |
|    2012-02-03 |
|    2012-12-14 | 
```

# java - 项目中的 web.xml 由什么组成，最初服务器从 web.xml 文件开始？

> ID：13854980
> 
> 赞同：-2
> 
> 时间：2012-12-13T07:25:34.930
> 
> 标签：java, eclipse, jakarta-ee, servlets, web.xml

项目中的 web.xml 由什么组成，最初服务器从 web.xml 文件开始？如果我在 ma 项目中使用任何框架，它是如何从 web.xml 文件中调用的。能否请你帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T07:30:51.457

您为 Web 应用程序 web.xml 使用的技术就像一颗心

首先，服务器检查 web.xml 并从 web.xml 中使用的欢迎列表标签中调用第一个文件，然后它将继续使用您正在使用的技术，如 sevlet、struts 等。

# android - 识别 UUID

> ID：13854984
> 
> 赞同：0
> 
> 时间：2012-12-13T07:26:16.953
> 
> 标签：android, bluetooth, uuid

我正在构建一个应用程序，我将在其中扫描所有蓝牙设备并连接到感兴趣的蓝牙设备。我读到我需要设备的 UUID 才能连接到它。

我正在使用以下代码来获取 UUIDS

```
Class cl = Class.forName("android.bluetooth.BluetoothDevice");
Class[] par = {};
Method method = cl.getMethod("getUuids", par);
Object[] args = {};
ParcelUuid[] retval = (ParcelUuid[]) method.invoke(device, args);
return retval; 
```

现在这是返回一个 UUID 的数组。现在我如何确定我必须使用哪个 UUID 来连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-04T21:54:14.567

我的理解是任何蓝牙设备都可能提供多种服务。每个服务都有自己的 UUID。您可以通过检查其协议标识符（前两个字节）来识别您需要使用的 UUID。[这里](https://www.bluetooth.org/en-us/specification/assigned-numbers-overview/service-discovery)有一个清单。

# iphone - 可滚动位置后的窗口背面

> ID：13854987
> 
> 赞同：0
> 
> 时间：2012-12-13T07:26:28.070
> 
> 标签：iphone, objective-c, ios, xcode

我的应用程序背面有一个 iphone 背景图像。当我尝试过多地滚动可滚动视图时，我可以看到它。你可以在照片上看到它。有什么办法可以用另一个 iphone 默认背景或自定义图像来改变它？

谢谢，

![窗口的默认iphone背景](../Images/a01eb2c6f0462d0fc2dae99b94e09d4e.png)

编辑：我不是要求视图的背景颜色和 clearColor 。这类似于我的应用程序背景或其他内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T08:02:39.110

Try this

```
 tableView.backgroundColor = [UIColor clearColor]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:38:04.490

这些答案可能会有所帮助

*   [如何设置 UITableView 的背景...](https://stackoverflow.com/questions/894875/how-can-i-set-the-background-of-uitableview-the-tableview-style-is-grouped-to-u)
*   [如何自定义分组表视图的背景颜色？](https://stackoverflow.com/questions/400965/how-to-customize-the-background-border-colors-of-a-grouped-table-view)

# iphone - 在iphone中获取文档目录文件的日期修改时间

> ID：13854993
> 
> 赞同：2
> 
> 时间：2012-12-13T07:26:52.850
> 
> 标签：iphone, ios

```
NSArray *documentPath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *currDircetory = [documentPath objectAtIndex:0];
NSArray *filePathsArray = [[NSFileManager defaultManager] subpathsOfDirectoryAtPath:currDircetory  error:nil];
for (NSString *s in filePathsArray){
        NSLog(@"file %@", s);
} 
```

现在我使用上面的代码从文档目录中获取文件列表现在我想知道如何获取文档目录中文件的修改时间。

谢谢，

维杰扬

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-13T08:08:59.033

你可以使用这个：

```
NSArray *documentPath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *currDircetory = [documentPath objectAtIndex:0];
NSArray *filePathsArray = [[NSFileManager defaultManager] subpathsOfDirectoryAtPath:currDircetory  error:nil];

for (NSString *s in filePathsArray){

    NSString *filestring = [currDircetory stringByAppendingFormat:@"/%@",s];
    NSDictionary *filePathsArray1 = [[NSFileManager defaultManager] attributesOfItemAtPath:filestring error:nil];
    NSLog(@"Modified Day : %@", [filePathsArray1 objectForKey:NSFileModificationDate]);
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-13T07:52:43.007

```
NSFileManager* filemngr = [NSFileManager defaultManager];

NSDictionary* attributes = [filemngr attributesOfItemAtPath:path error:nil];

if (attributes != nil) {

    NSDate *date = (NSDate*)[attributes objectForKey:NSFileModificationDate];
} else {

    NSLog(@"File Not found !!!");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T07:40:49.847

[你可以在这里](https://stackoverflow.com/questions/2108953/ios-how-do-you-find-the-creation-date-of-a-file#answer-6428757)得到你的答案。

但你要做的唯一改变是，你需要`NSFileCreationDate`改变`NSFileModificationDate`

```
NSDate *date = (NSDate*)[attrs objectForKey: NSFileModificationDate]; 
```

# javascript - 仅第一次触发的连续 Html5 音频 .play()

> ID：13854999
> 
> 赞同：3
> 
> 时间：2012-12-13T07:27:17.820
> 
> 标签：javascript, jquery, html, ipad, html5-audio

`.play()`我想通过在每个函数中执行函数调用回退来播放连续的声音序列，以逐个播放声音。

**最有趣的是：** **每次在我的 iPad 设备上播放都会有不同的声音表现。** **有时播放音频 3 次，有时播放 4 次，甚至只播放 1 次！**

**仅限 iPad 中的“突然停止问题”，在我的谷歌浏览器上很好。**

这不是 iPad 的自动播放问题，我想因为我已经第一次触发了...

请看一下并在 iPad 上进行测试，请帮助...

Html - 正文：

```
<audio id="html5soundtag"> 
    <source src="1.mp3" type="audio/mpeg">
</audio> 
<a href="javascript://" onClick="playhtml5sound1('1.mp3')">aaaa</a> 
```

Javascript：

```
var audioPath ="";

var audioElement = document.getElementById('html5soundtag');

function playhtml5sound1(filename){ 
    audioPath = filename;
    audioElement.src = audioPath;
    audioElement.src = audioPath
    audioElement.load()
    audioElement.play();
    audioElement.addEventListener("ended",soundcallback1);
};
var soundcallback1 = function (){
    alert("1st");
    audioElement.removeEventListener("ended",soundcallback1);
    playhtml5sound2("1.mp3");
}

function playhtml5sound2(filename){
    audioPath = filename;
    audioElement.src = audioPath;
    audioElement.src = audioPath
    audioElement.load();        
    audioElement.play();
    audioElement.addEventListener("ended",soundcallback2);

};
var soundcallback2 = function (){
    alert("2nd");
    audioElement.removeEventListener("ended",soundcallback2);
    playhtml5sound3("1.mp3");
}

function playhtml5sound3(filename){
    audioPath = filename;
    audioElement.src = audioPath;
    audioElement.src = audioPath
    audioElement.load();
    audioElement.play();
    audioElement.addEventListener("ended",soundcallback3);

};var soundcallback3 = function (){
    alert("3rd");
    audioElement.removeEventListener("ended",soundcallback3);
    playhtml5sound4("1.mp3");
}

function playhtml5sound4(filename){
    audioPath = filename;
    audioElement.src = audioPath;
    audioElement.src = audioPath
    audioElement.load();
    audioElement.play();

    audioElement.addEventListener("ended",soundcallback4);

};var soundcallback4 = function (){
    alert("4th");
    audioElement.removeEventListener("ended",soundcallback4);
    playhtml5sound5("1.mp3");
}

function playhtml5sound5(filename){
    audioPath = filename;
    audioElement.src = audioPath;
    audioElement.src = audioPath
    audioElement.load();
    audioElement.play();

    audioElement.addEventListener("ended",soundcallback5);

};var soundcallback5 = function (){
    alert("5th");
    audioElement.removeEventListener("ended",soundcallback5);
    playhtml5sound6("1.mp3");
}

function playhtml5sound6(filename){
    alert("This is End. " + filename);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T07:56:48.923

This should fix your problem, and at very least, it will keep your code more maintainable:

```
var audioPath = "";
var audioElement = document.getElementById('html5soundtag');

var soundIndex = 0;
var sounds = ["1.mp3","2.mp3","3.mp3","4.mp3","5.mp3"]

function playhtml5sound(){
    if(soundIndex < sounds.length){
        audioPath = sounds[soundIndex];
        audioElement.src = audioPath;
        audioElement.load()
        audioElement.play();
        soundIndex++;
    }else{
        audioElement.removeEventListener("ended",playhtml5sound);
        alert("Last sound ended!")
    }
};

audioElement.addEventListener("ended", playhtml5sound); 
```

```
<a href="javascript://" onClick="playhtml5sound()">aaaa</a> 
```

Each time the music finishes, `playhtml5sound()` is executed, playing the next sound.
If the last sound is played, remove the event listener, and alert the ending.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T07:58:07.383

Not directly an answer, but the code is too large for showing in a comment.

I suggest you add the following code to your script and check the console log for any other events than ended (for example stalled or error events). I tested in iPad and iPod, both work ok, maybe you have errors due to networking.

```
var media_events = new Array();
function audioattachevents(selector) {
    media_events["abort"] = 0;
    media_events["error"] = 0;
    media_events["mousewheel"] = 0;
    media_events["blur"] = 0;
    media_events["focus"] = 0;
    media_events["pause"] = 0;
    media_events["canplay"] = 0;
    media_events["formchange"] = 0;
    media_events["play"] = 0;
    media_events["canplaythrough"] = 0;
    media_events["forminput"] = 0;
    media_events["playing"] = 0;
    media_events["change"] = 0;
    media_events["input"] = 0;
    media_events["progress"] = 0;
    media_events["click"] = 0;
    media_events["invalid"] = 0;
    media_events["ratechange"] = 0;
    media_events["contextmenu"] = 0;
    media_events["keydown"] = 0;
    media_events["readystatechange"] = 0;
    media_events["dblclick"] = 0;
    media_events["keypress"] = 0;
    media_events["scroll"] = 0;
    media_events["drag"] = 0;
    media_events["keyup"] = 0;
    media_events["seeked"] = 0;
    media_events["dragend"] = 0;
    media_events["load*"] = 0;
    media_events["seeking"] = 0;
    media_events["dragenter"] = 0;
    media_events["loadeddata"] = 0;
    media_events["select"] = 0;
    media_events["dragleave"] = 0;
    media_events["loadedmetadata"] = 0;
    media_events["show"] = 0;
    media_events["dragover"] = 0;
    media_events["loadstart"] = 0;
    media_events["stalled"] = 0;
    media_events["dragstart"] = 0;
    media_events["mousedown"] = 0;
    media_events["submit"] = 0;
    media_events["drop"] = 0;
    media_events["mousemove"] = 0;
    media_events["suspend"] = 0;
    media_events["durationchange"] = 0;
    media_events["mouseout"] = 0;
    media_events["timeupdate"] = 0;
    media_events["emptied"] = 0;
    media_events["mouseover"] = 0;
    media_events["volumechange"] = 0;
    media_events["ended"] = 0;
    media_events["mouseup"] = 0;
    media_events["waiting"] = 0;

    for (key in media_events) {
      selector.bind(key, function (e, data) {
        console.log(e.type);
      });
    }
}

audioattachevents($('#html5soundtag')); 
```

Especially for those who want the short notation:

```
media_events = {"abort":0,"error":0, "mousewheel":0, "blur":0, "focus":0, "pause":0, 
   "canplay":0, "formchange":0, "play":0, "canplaythrough":0, "forminput":0, 
   "playing":0, "change":0, "input":0, "progress":0, "click":0, "invalid":0, 
   "ratechange":0, "contextmenu":0, "keydown":0, "readystatechange":0,       
   "dblclick":0, "keypress":0, "scroll":0, "drag":0, "keyup":0, "seeked":0, 
   "dragend":0, "load*":0, "seeking":0, "dragenter":0, "loadeddata":0, 
   "select":0, "dragleave":0, "loadedmetadata":0, "show":0, "dragover":0, 
   "loadstart":0, "stalled":0, "dragstart":0, "mousedown":0, "submit":0, 
   "drop":0, "mousemove":0, "suspend":0, "durationchange":0, 
   "mouseout":0, "timeupdate":0, "emptied":0, "mouseover":0, 
   "volumechange":0, "ended":0, "mouseup":0, "waiting":0} 
```