# StackOverflow 问答 16146000-16146999

# jquery - 从 jQuery 中的滑块中获取值并将该值保存到一个变量中

> ID：16146011
> 
> 赞同：0
> 
> 时间：2013-04-22T11:25:03.177
> 
> 标签：jquery, slider

我使用创建了一个滑块`html.<input type="range" name="slider-fill" id="accountLup" value="0" min="0" max="365" data-highlight="true" />`。

我想从滑块中检索此值并将其保存到一个变量中。我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:28:08.673

如果您使用 jquery ui 滑块，我认为您应该使用它。

```
// getter
var value = $( ".selector" ).slider( "option", "value" );

// setter
$( ".selector" ).slider( "option", "value", 10 ); 
```

或通过方法

```
var selected_value = $( ".selector" ).slider( "value" ); 
```

“.selector”是分配给您用作滑块的元素的类的名称。例如：

```
<div class="selector"></div> 
```

更多你会在这里找到

[http://api.jqueryui.com/slider/#option-value](http://api.jqueryui.com/slider/#option-value)

[http://api.jqueryui.com/slider/#method-value](http://api.jqueryui.com/slider/#method-value)

还要记住在文档准备好后绑定“滑块”。

```
$(function() {
$( ".selector" ).slider();
$("#button_to_show_value").click(function (){
     alert($( ".selector" ).slider( "value" ));
  });
}); 
```

单击按钮后显示值

```
<input type="button" id="button_to_show_value" value="click to show value" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:28:26.760

```
var YourVariable = $( "#sliderId" ).slider( "value" ); 
```

阅读有关滑块的更多信息：[这里](http://jqueryui.com/slider/#colorpicker)

[http://api.jqueryui.com/slider/#method-value](http://api.jqueryui.com/slider/#method-value)

# websocket - Jetty 9 的基本 Websocket 示例

> ID：16146014
> 
> 赞同：2
> 
> 时间：2013-04-22T11:25:16.837
> 
> 标签：websocket, jetty

我正在尝试在独立的 Jetty 上制作一个真正的基本 Websocket 示例，但我被困在 NullPointerException 上。

这是我的 2 个服务器类：

```
@WebServlet("/MyWebSocketServlet")
public class MyWebSocketServlet extends WebSocketServlet {

    @Override
    public void configure(WebSocketServletFactory factory) {
        factory.register(MyWebSocket.class);
    }
} 
```

```
@WebSocket
public class MyWebSocket{

    @OnWebSocketConnect
    public void onConnect(Session session){
        System.out.println("MyWebSocket.onConnect()");
    }

    @OnWebSocketMessage
    public void onText(String msg) {
        System.out.println("MyWebSocket.onText()");
    }

    @OnWebSocketClose
    public void onClose(int statusCode, String reason) {
        System.out.println("MyWebSocket.onClose()");
    } 
} 
```

我尝试在 Chrome 中通过 JavaScript 建立通信：

```
<script type="text/javascript">
    var echoSocket = new WebSocket(
        "ws://localhost:8080/JettyWebsocketsTest/MyWebSocketServlet"
    );

    echoSocket.onopen = function(e) {
        console.log("onopen()");
        echoSocket.send("Hello");
    }

    echoSocket.onmessage = function(e) {
        console.log("msg received");
    };
</script> 
```

不幸的是，连接不会建立，而是抛出了这个 NullPointerException：

```
java.lang.NullPointerException
at org.eclipse.jetty.websocket.server.WebSocketServerFactory.upgrade(WebSocketServerFactory.java:400)
at org.eclipse.jetty.websocket.server.WebSocketServerFactory.acceptWebSocket(WebSocketServerFactory.java:168)
at org.eclipse.jetty.websocket.servlet.WebSocketServlet.service(WebSocketServlet.java:160)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)
at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:558)
at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:489)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)
at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:520)
at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:233)
at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:972)
at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:417)
at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:906)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:110)
at org.eclipse.jetty.server.Server.handle(Server.java:350)
at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:442)
at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:910)
at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:565)
at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:217)
at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:46)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:545)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:43)
at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:598)
at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:533)
at java.lang.Thread.run(Thread.java:722) 
```

WebSocketServerFactory 中的这些行抛出该异常：

```
HttpConnection http = HttpConnection.getCurrentConnection();
EndPoint endp = http.getEndPoint(); 
```

我可以为可用的 HttpConnection 做什么？

# c# - 根据传入的 Web 服务请求动态更新 Listview 和 Datapager 内容

> ID：16146015
> 
> 赞同：0
> 
> 时间：2013-04-22T11:25:20.593
> 
> 标签：c#, asp.net, listview, updatepanel, dynamic-data

我目前有一个产品列表，它存储在我页面上的哈希表中。我的 Page_Load() 事件调用一个方法，该方法发送多个 Web 服务请求并生成一个产品列表。然后产品列表数据绑定到我的 ListView 并且一切正常。唯一的问题是我必须等待所有 Web 服务请求完成才能加载我的页面。

我的问题如下：考虑 Web 服务调用将返回 300 个产品的事实。我将如何进行数据绑定和显示第一个服务请求（比如前 30 个项目），然后在请求完成时将其余的产品项目（其他 Web 服务请求）加载到 ListView 中。加载所有数据时，将有一个更新面板和动画。

我想这样做的原因是因为它减少了页面显示之前的等待时间，并且它在填充其余产品时为用户提供了一些可以查看的内容。

我将如何去做这样的事情？对于我的具体问题，我似乎无法在网上找到任何信息。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:05:15.810

您正在寻找“分页”。为了使用分页，您需要配置您的 List-/GridView 控件并指定分页属性。

但是，您还需要告诉您的 Web 服务，您只想加载一页的项目。否则，您有一个分页，但仍在加载所有项目。

假设您有一个包含所有客户的列表。

您可能需要从

```
public IEnumerable<Customer> GetAllCustomers(); 
```

到

```
public int GetAllCustomerCount();
public IEnumerable<Customer> GetAllCustomers(int itemsPerPage, int page); 
```

1.  您需要知道查询的总数（但实际上并不是全部加载）
2.  您需要一种方法来仅获取当前页面所需的项目。

# android - 在 Quickblox 中连接 iOS 和 Android 之间的聊天的消息 ID 问题

> ID：16146016
> 
> 赞同：0
> 
> 时间：2013-04-22T11:25:22.953
> 
> 标签：android, ios, quickblox

我在使用消息 ID 将 iOS 和 Android 设备与其相应的 QBChat 库连接时遇到问题。

Quickblox 的 iOS 库中的消息对象被定义为 QBChatMessage 对象，这在 Quickblox 的 Android 库中不存在（它将它们委托给 SMACK 库中的 Message 类）。

问题是 QBChatMessage 类将消息 ID 管理为整数，而 Message 类将它们管理为字符串。从我的 Android 设备发送的每条消息都有一个 7 个字符的唯一字符串 + 一个数字，其中包含消息在 SMACK 聊天中的位置。当我的 iPhone 收到消息时，它的 ID 是一个数字，其中 SMACK 中的 ID 已尽可能多地解析，如以下通信示例（取自 Android 设备）：

```
SENT <message id="D64u5-4" to="102521-1799@chat.quickblox.com" from="132505-1799@chat.quickblox.com/Smack" type="chat"><body>{"content":{"text":"hello"},"type":1}</body><thread>7J9230</thread></message>
SENT <message id="D64u5-5" to="102521-1799@chat.quickblox.com" from="132505-1799@chat.quickblox.com/Smack" type="chat"><body>{"content":{"text":"yeah"},"type":1}</body><thread>7J9230</thread></message>
SENT <message id="D64u5-6" to="102521-1799@chat.quickblox.com" from="132505-1799@chat.quickblox.com/Smack" type="chat"><body>{"content":{"text":"test"},"type":1}</body><thread>7J9230</thread></message>

RCV <message id="0" from="102521-1799@chat.quickblox.com" type="chat" xmlns="jabber:client" to="132505-1799@chat.quickblox.com"><body>{"content":{"text":"hello"},"type":1}</body></message>
RCV <message id="1" from="102521-1799@chat.quickblox.com" type="chat" xmlns="jabber:client" to="132505-1799@chat.quickblox.com"><body>{"content":{"text":"yeah?"},"type":1}</body></message>
RCV <message id="2" from="102521-1799@chat.quickblox.com" type="chat" xmlns="jabber:client" to="132505-1799@chat.quickblox.com"><body>{"content":{"text":"yeah!"},"type":1}</body></message> 
```

按照数据库存储的顺序，消息的 ID 对我来说很重要。这怎么可能？我应该怎么做才能解决这个问题？

谢谢，亲切的问候！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T19:11:02.890

丹尼尔，听起来不错。将 QBChatMessages.ID 的类型更改为 NSString 会解决您的问题吗？

将在下一个版本中做到这一点。如果您没有时间等待 - 只需将您的请求写到assist@quickblox.com，将为您制作特殊的SDK

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-26T21:42:15.023

以下是我用于群聊的 Android 代码：

```
 /* Sends messages */
    public void sendChatMessage(String text)
    {
        Message message = muc.createMessage();
        message.setBody(text);
        message.setPacketID("ABC_1");
        muc.sendMessage(message);
    }

    /* Listens for messages */
    public void receiveMessage()
    {
      muc.addMessageListener(new PacketListener() {
                 public void processPacket(Packet packet) 
                 {
                   final Message message = (Message) packet;
                   log.i("packed  id: ", packet.getPacketID());
                   log.i("message id: ", message.getPacketID());
             }
        });
     } 
```

我在 logcat 中看到的输出是

数据包ID：空消息ID：空

你能告诉我为什么ID是空的吗？我在这里错过了什么吗？

# android - 回声消除

> ID：16146018
> 
> 赞同：0
> 
> 时间：2013-04-22T11:25:34.287
> 
> 标签：android, aec

有谁知道仅适用于一个扬声器的 Android AEC 吗？假设我与我的 Android 手机通话，它将音频数据流式传输到 PC，PC 会立即在扬声器上输出这些数据。所以我会听到自己的声音。

我不确定 WebRTC- 和 Speex-AEC 是否只能消除另一个扬声器的回声。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-31T06:50:25.457

我没有尝试你的情况，但在我的情况下，我使用 WebRTC-AECM 模块来处理回声的事情，我在一部安卓手机上做了一个环回测试，它在没有回声的情况下效果很好，但是有很多说完后自激。希望我有所帮助。

# android - 从 Flash Media Server 实时流式传输到 Android 设备

> ID：16146020
> 
> 赞同：0
> 
> 时间：2013-04-22T11:25:39.317
> 
> 标签：android, rtsp, rtmp

我正在开发一个 android 应用程序来在突尼斯流式传输直播电视。他们有自己的服务器用于在 Web 上进行流式传输。他们使用 Flash Media Server 和 rtmp 协议进行流式传输。所以，我对一些不支持 Flash 媒体播放器的设备有疑问。你能帮我找到一个解决方案，比如将 rtmp 转换为 rtsp 或任何其他解决方案吗？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:31:57.430

你的问题很模糊。如果您需要在某些未安装 flash 的设备上安装 flash，则必须通过

> adb install your_path/flash.apk

如您所知，Flash 不再出现在应用商店中。下载apk的链接是[这个](http://d-h.st/x4v)。转到该页面并下载apk。

其次，如果您想了解 RTMP（实时消息传递协议）和 RTSP（实时流协议），那么[此链接](https://stackoverflow.com/questions/6023335/what-is-difference-between-rtmp-and-rtsp-protocol)将对您有所帮助。

# c# - Windows 服务：调用线程无法访问此对象，因为不同的线程拥有它

> ID：16146022
> 
> 赞同：1
> 
> 时间：2013-04-22T11:25:45.047
> 
> 标签：c#, windows, multithreading, service, timer

尝试使用 XSL 转换 XML 文件并打印输出。但是，收到以下消息：调用线程无法访问此对象，因为不同的线程拥有它。

要设置检查文件的时间间隔，请在 OnStart 中添加一个计时器。

```
 if (findPrinter() > 0)
            {
                System.Timers.Timer printNetterCheck = new System.Timers.Timer();
                printNetterCheck.Elapsed += new ElapsedEventHandler(OnTimedEvent);

                printNetterCheck.Interval = 30000;
                printNetterCheck.Enabled = true;
            } 
```

OnTimedEvent：

```
 private void OnTimedEvent(object source, ElapsedEventArgs e)
    {            
        getFiles();
    } 
```

如果有可用的文件，请调用 print：

```
 foreach (string file in files)
            {
                try
                {
                    StringWriter xslTransformResult = new StringWriter();
                    XslCompiledTransform xslt = new XslCompiledTransform();
                    xslt.Load(xslPath);
                    xslt.Transform(file, null, xslTransformResult);

                    if (print(xslTransformResult) == 1)
                    {
                              //do some things 
```

打印功能：

```
 private int print(StringWriter transformedXML)
    {
        //assume OK
        int rc = 1;

        try
        {
            StringReader printNetterStreamReader = new StringReader(transformedXML.ToString());
            PrintSystemJobInfo printNetterJob = printer.AddJob("PrintNetterPrint");

            Stream printNetterStream = printNetterJob.JobStream;

            Byte[] printNetterByteBuffer = UnicodeEncoding.Unicode.GetBytes(printNetterStreamReader.ReadToEnd());

            printNetterStream.Write(printNetterByteBuffer, 0, printNetterByteBuffer.Length);
            printNetterStream.Close();
        }
        catch (Exception e)
        {
            //return fail
            rc = -1;
            eventLog.WriteEntry("Error printing: " + e.Message, EventLogEntryType.Error);
        }

        return rc;

    } 
```

调用 print 时，我收到线程错误。找到了一些关于 Dispatchers 等的东西。但是这些在使用服务时不可用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:44:48.487

检查[`PrintQueue.AddJob`](http://msdn.microsoft.com/en-us/library/ms552914.aspx)。

该方法进行 COM 调用，要求应用程序在单个单元 ( `STA`) 中运行。解决此问题的最简单方法是添加`STAThreadAttribute`将`Main`强制应用程序在单个线程中运行的内容。如果您需要在应用程序中使用多线程，那么您将需要实现必要的管道以`PrintQueue`在`STA` `Thread`.

```
// Create a factory to hold your printer configuration
// So that it can be retrieved on demand
// You might need to move the findPrinter() logic
public class PrintQueueFactory
{
    private static PrintQueue _instance = new PrinterQueue(/* Details */);

    public static PrintQueue PrintQueue { get { return _instance; } }
}

private int print(StringWriter transformedXML)
{
    //assume OK
    int rc = 1;

    try
    {
        var printer = PrintQueueFactory.PrintQueue;
        var staThread = new Thread(() => Print(printer, transformedXML.ToString()));
        staThread.SetApartmentState(ApartmentState.STA);
        staThread.Start();
        staThread.Join();
    }
    catch (Exception e)
    {
        //return fail
        rc = -1;
        eventLog.WriteEntry("Error printing: " + e.Message, EventLogEntryType.Error);
    }

    return rc;

}

private static void Print(PrintQueue printer, string lines)
{
    using(var printNetterJob = printer.AddJob("PrintNetterPrint"))
    using(var printNetterStreamReader = new StringReader(lines))
    using(var printNetterStream = printNetterJob.JobStream)
    {
        Byte[] printNetterByteBuffer = UnicodeEncoding.Unicode.GetBytes(printNetterStreamReader.ReadToEnd());
        printNetterStream.Write(printNetterByteBuffer, 0, printNetterByteBuffer.Length);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:46:17.287

也许，当您使用 Timer 控件时，它与多线程有关，也许您应该检查 Timer.Elapsed 事件处理程序中是否需要调用 (InvokeRequired)。

如果是这样，您应该创建一个委托来调用此函数，以便它可以在正确的线程中执行。

[检查这个需要调用的问题](https://stackoverflow.com/questions/527947/invoke-required)

# c++ - 捕获破坏了我的 lambda 函数

> ID：16146023
> 
> 赞同：7
> 
> 时间：2013-04-22T11:25:48.760
> 
> 标签：c++, c++11, lambda

我有一个函数 getTotal：

```
int getTotal( const HitMap& hitMap, bool( *accept)(int chan) ) 
```

其中第二个参数是一个布尔函数，指定容器 hitMap 的哪些成员应添加到总数中。

我正在尝试用 lambda 调用它。这有效：

```
auto boxresult =
getTotal(piHits, [](int pmt)->bool
{ return (pmt/100) == 1;} ); 
```

但这不是：

```
int sector = 100;
auto boxresult =
getTotal(piHits, [sector](int pmt)->bool
{ return (pmt/sector) == 1;} ); 
```

我得到错误

```
cannot convert ‘main(int, char**)::<lambda(int)>’ to ‘bool (*)(int)’
for argument ‘2’ to ‘int getTotal(const HitMap&, bool (*)(int))’ 
```

来自我的编译器（GCC 4.6.3）。我试过了`[&sector]`，`[=sector]`但没有任何区别。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-22T11:28:29.493

当 lambda 具有捕获子句时，它不能再被视为函数指针。要更正，`std::function<bool(int)>`请用作 的参数类型`getTotal()`：

```
int getTotal( const HitMap& hitMap, std::function<bool(int)> accept) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T11:32:30.200

带有捕获的 lambda 函数不是您所期望的，您可以使用以下方式：

```
template <typename F>
int getTotal( const HitMap& hitMap, F accept )
{

} 
```

或者

```
int getTotal( const HitMap& hitMap, std::function<bool(int)> accept )
{

} 
```

基于模板的`getTotal`性能更好。[阅读更多](https://stackoverflow.com/q/15409133/952747)。

# java - Sonar Web Service API，按开发者过滤数据

> ID：16146029
> 
> 赞同：2
> 
> 时间：2013-04-22T11:26:34.523
> 
> 标签：java, sonarqube, metrics

我一直在尝试 Sonar 的[Web Service API](http://docs.codehaus.org/display/SONAR/Web+Service+API "网络服务 API")，到目前为止它似乎提供了很多信息。但是，看起来在每个开发人员级别上工作并不容易 - 或受支持。

例如，我想获取两件事：

*   项目的开发人员列表。我知道使用`qualifiers=DEV`我可以获得系统中所有开发人员的列表（[示例请求](http://nemo.sonarsource.org/api/resources?qualifiers=DEV)），但不能按项目过滤。
*   按开发人员和项目过滤指标。例如，*获取项目 P1 中开发人员 D1 的代码的圈复杂度*。我是怎么做到的？甚至可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T14:05:22.330

您可以使用以下 API 调用获取特定项目的开发人员的度量：

```
http://nemo.sonarsource.org/api/resources?resource=DEV:Fabrice%20Bellingard:org.codehaus.sonar:sonar&metrics=ncloc,coverage 
```

资源键是复合的，包括：

*   “开发者：”
*   用户名
*   “：”
*   项目密钥

请注意，并非所有指标都是针对开发人员计算的。例如，您暂时无法拥有复杂性。当您进入开发人员仪表板时，您可以看到计算了哪些指标：例如，上面的 API 调用[在 Sonar 上提供了关于我的](http://nemo.sonarsource.org/dashboard/index/DEV%3aFabrice%20Bellingard%3aorg.codehaus.sonar%3asonar)指标。

# c++ - 带有 gpfs _fcntl 的 EINVAL

> ID：16146032
> 
> 赞同：1
> 
> 时间：2013-04-22T11:26:41.557
> 
> 标签：c++, c, filesystems

我正在尝试对 IO 繁重的代码使用预取提示。我根据我对 gpfs​​_fcntl() 手册页的理解设置了代码，但确实得到了 EINVAL。我现在做错了什么有点迷茫 - 任何提示都值得赞赏。

山：`/dev/scratch16 on /bgscratch type gpfs (rw,dev=cadmos-gss.gss1a:scratch16,ldev=scratch16)`

```
Error: Prefetch using gpfs_fcntl failed: Invalid argument (22), 32768b at 7713095680 from /bgscratch/foo.dat 
```

文件：`-rw-rw-r-- 1 delalond bbp 14739308544 Jul 25 2012 /bgscratch/foo.dat`

资源：

```
void BufferedFile::prefetch( const uint64_t offset, const uint64_t size )
{
   if( file_.fd == -1 )
       file_.fd = ::open( filename.c_str(), O_RDONLY );
   if( file_.fd == -1 )
   {
       LBWARN << "open() failed: " << lunchbox::sysError << std::endl;
       return;
   }
   struct
   {
       gpfsFcntlHeader_t hdr;
       gpfsAccessRange_t acc;
   } arg;
   arg.hdr.totalLength = sizeof(arg);
   arg.hdr.fcntlVersion = GPFS_FCNTL_CURRENT_VERSION;
   arg.hdr.fcntlReserved = 0;
   arg.acc.structLen = sizeof(arg.acc);
   arg.acc.structType = GPFS_ACCESS_RANGE;
   arg.acc.start = offset;
   arg.acc.length = size;
   arg.acc.isWrite = 0;
   if( gpfs_fcntl( file_.fd, &arg ) != 0 )
        LBWARN << "Prefetch using gpfs_fcntl failed: " << lunchbox::sysError
               << ", " << size << "b at " << offset << " from " << filename
               << std::endl;
} 
```

编辑：我可以在独立应用程序中重现该问题，并且一旦启动大于 4GB 就会发生错误，即使它是一个很长的 64 位系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T18:38:40.860

你的`offset`和`size`是`uint64_t`无符号整数。虽然 struct 的文档`gpfsAccessRange_t`包含元素`start`和`length`as being `offset_t`，但它们可能是有符号整数。你知道怎么`offset_t`定义的吗？

我还注意到 HDF5 使用`off_t`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-27T17:18:20.753

我忍不住注意到`/bgscratch`：如果您使用的是蓝色基因 /Q 系统，除非您运行 V1R2M1 或更新版本，否则 gpfs​​_fcntl() 将无法工作。较旧的驱动程序版本不会将 gpfs​​_fcntl 系统调用中继到 i/o 节点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-02T09:44:11.897

您正在尝试在文件结束后阅读。

鉴于`fileSize`，尝试类似

```
arg.acc.length = fileSize > offset + size ? size : fileSize - offset; 
```

# javascript - 带有标签的流行状态？

> ID：16146034
> 
> 赞同：1
> 
> 时间：2013-04-22T11:26:41.837
> 
> 标签：javascript, html, ajax

我有一个使用 AJAX 将内容动态加载到 div 的站点。

这样做的链接是带有 href="#" 的锚点和触发 AJAX 的 onclick 事件。

当我单击返回时，这使我没有历史记录，因此，如果我加载一个页面，然后再加载另一个页面并单击返回，它什么也不做。

代码的基本版本是这样的：

```
<script type="text/javascript">
function loadXMLDoc(url)
{
<!-- Load XML Script here. -->
}
</script>

</head>

<body>

<div id="myDiv">

<!-- Target div. -->

</div>

<a href="#1" onclick="loadXMLDoc('1.txt')">Click Me.</a>

<a href="#2" onclick="loadXMLDoc('2.txt')">Click Me.</a>

<a href="#3" onclick="loadXMLDoc('3.txt')">Click Me.</a>

</body> 
```

我想知道的是，我可以给每个链接一个不同的“#”，然后使用 popstate 处理程序来调用适当的事件，所以如果我点击链接 1、2 和 3，然后开始点击后退按钮，它'会回到 2 然后 1 等等..

我打算使用 history.js 并开始在 loadXML 脚本中使用 pushstate，但我认为整个操纵历史的事情有点肮脏和不可靠。

我在想正确的路线还是有更好的方法？

目前我所有的链接都只使用“#”，以便在加载更多内容时它会弹回页面顶部，但如果可能的话，我希望能够返回。

任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:40:28.050

浏览器将主题标签正确保存到历史记录。只需将主题标签#1 添加到此问题页面，按回车键，将其更改为＃2，按回车键，将其更改为＃3，按回车键。现在单击返回按钮，您将看到哈希值从 #3 变为 #2。我建议仅在链接单击时更改哈希本身，并对页面哈希更改和页面加载事件做出反应。

```
function react() {
    var hash = window.location.hash.replace("#", "");
    loadXMLDoc(hash + ".txt");
};

document.body.onload = function() {
    react();
    window.onhashchange = react;    
};

<a href="#1">Click me</a>
<a href="#2">Click me</a>
<a href="#3">Click me</a> 
```

请注意，`onhashchange`旧 IE 不支持该事件。如果您愿意，唯一的处理方法是使用 setInterval 定义计时器并检查哈希是否相等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:41:17.447

尝试结合使用 LocalStorage 和 HistoryAPI。当您加载 XMLDoc 时，将其存储在 LocatStorage 中，当按下返回时 - 从存储加载数据，而不是从 Web 加载数据。上面一点代码。

```
 /* Handling history.back added */
    window.onpopstate = function(event) {
      yourHandleBackFunction(event.state);
    };

function yourHandleBackFunction(renderTs) {
      /*Check TS and load from localStorage if needed*/
  }; 
```

# php - 为超链接添加名称以增加好奇心

> ID：16146038
> 
> 赞同：0
> 
> 时间：2013-04-22T11:26:57.517
> 
> 标签：php, html, wordpress

我希望能够将潜在客户名称添加到我网站上的链接中，例如。

> mydomainname.com/postname/客户名称

没有网站抛出 404 错误。

有没有一种简单的方法可以做到这一点？

我要做的大多数网站都是基于wordpress的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:39:37.340

我用这个：我的 htaccess 文件

```
 Options +FollowSymLinks  
    RewriteEngine On  

    RewriteCond %{SCRIPT_FILENAME} !-d  
    RewriteCond %{SCRIPT_FILENAME} !-f  

    RewriteRule ^.*$ ./index.php 
```

这是 index.php

```
<?php  
  #remove the directory path we don't want 
  $request  = str_replace("mydomainname.com/", "", $_SERVER['REQUEST_URI']); 

  #split the path by '/'   
  $params     = split("/", $request);  
?> 
```

将参数作为数组获取后。我希望我能帮上忙！玩得开心！

# python - 完全或增量抓取 - 人们使用什么？

> ID：16146040
> 
> 赞同：1
> 
> 时间：2013-04-22T11:27:04.613
> 
> 标签：python, mysql, web-scraping, screen-scraping, scrapy

我有一个关于从网站上抓取内容的问题。让我们想象在这个例子中，我们谈论的是分类风格网站上的内容，例如亚马逊或 Ebay。关于此内容的重要说明是它可以更改并且可以删除。

我看到它的方式有两个选择：

1.  每天一次完整的新鲜刮擦。我从一个空白的数据库架构开始新的一天，每天完全重新抓取每个站点并将内容插入到新的数据库中。

2.  增量抓取，我从昨天抓取的内容开始，在重新抓取网站时，我执行以下操作：

    ```
    Check existing URL      
            Content is still online and is it the same - Leave in DB                        
            Content is not availiable - Delete from DB      
            Content is different - Rescrape content 
    ```

我的问题是，进行增量抓取所增加的复杂性是否真的值得，这样做有什么好处吗？我真的很喜欢每天进行一次新的抓取的简单性，但这是我的第一个抓取项目，我真的很想知道抓取专家在这种情况下会做什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:55:00.613

我认为答案取决于您如何使用已抓取的数据。有时增加的复杂性是值得的，有时则不然。**问问自己：我的刮刀有什么要求，我需要做多少工作才能满足这些要求？**

例如，如果您出于研究目的而进行刮擦，并且每天进行一次新鲜刮擦更容易，那么这可能就是您想要走的路。

正如您所说，执行增量抓取肯定更复杂，因为您需要确保正确处理更改的内容（未更改，更改，删除）。只要确保您也有处理**新内容**的方法。

话虽如此，增量抓取可能是合理的甚至是必要的是有原因的。例如，如果您在抓取的数据之上构建一些东西，并且由于积极的抓取工作而无法承受停机时间，您可能需要考虑增量抓取。

另请注意，实现增量抓取的方法不止一种：可以实现多种增量抓取。例如，您可能希望将某些内容优先于其他内容，例如更频繁地更新热门内容而不是不受欢迎的内容。这里的问题是，您可以添加到刮板的复杂程度没有上限。事实上，人们可以将搜索引擎爬虫视为高度复杂的增量爬虫。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-29T17:44:26.783

我实现了一个基于云的应用程序，可让您自动进行抓取。

它将网站转换为 JSON/CSV 您可以选择每天下载更新的完整数据集或仅下载实施差异。

[新加坡电影放映时间的每日重复抓取作业示例](https://dev.krake.io/krakes/24)

# cxf - wsdl2java (CXF) 中的自定义包

> ID：16146043
> 
> 赞同：5
> 
> 时间：2013-04-22T11:27:08.620
> 
> 标签：cxf

我想使用 wsdl2java(CXF) 命令生成自定义包。

我的 WSDL 结构是：

```
wsdl:definitions xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/"   
xmlns:jms="http://www.tibco.com/namespaces/ws/2004/soap/binding/JMS" 
xmlns:ns20="http://cdm.test.co.uk/marketing/Promotions/2.0"   
xmlns:jndi="http://www.tibco.com/namespaces/ws/2004/soap/apis/jndi" 
xmlns:ns16="http://cdm.test.co.uk/common/CrossRef/2.0" 
xmlns:ns17="http://services.test.co.uk/service/CommonMessage/2.0" 
xmlns:ns14="http://cdm.test.co.uk/banking/Wallet/2.0"     
xmlns:ns15="http://cdm.test.co.uk/common/Currency/2.0" 
xmlns:ns18="http://cdm.test.co.uk/customer/Transaction/2.0" 
xmlns:ns19="http://cdm.test.co.uk/party/PartyRole/2.0" 
xmlns:ns9="http://cdm.test.co.uk/common/Channel/2.0" 
xmlns:soap1="http://schemas.xmlsoap.org/wsdl/soap12/" 
xmlns:ns12="http://cdm.test.co.uk/banking/Payment/2.0" 
xmlns:ns5="http://cdm.test.co.uk/common/InternationalMoney/2.0" 
xmlns:ns13="http://cdm.test.co.uk/customer/Account/2.0" 
xmlns:ns6="http://cdm.test.co.uk/common/Location/2.0" 
xmlns:ns10="http://cdm.test.co.uk/retail/RetailShop/2.0"  
xmlns:ns7="http://cdm.test.co.uk/party/Party/2.0" 
xmlns:ns11="http://cdm.test.co.uk/common/BaseType/2.0" 
xmlns:ns8="http://cdm.test.co.uk/product/Games/2.0" 
xmlns:ns2="http://cdm.test.co.uk/common/Country/2.0" 
xmlns:ns1="http://cdm.test.co.uk/customer/Customer/2.0" 
xmlns:ns4="http://cdm.test.co.uk/partner/Affiliate/2.0" 
xmlns:ns3="http:///common/ManagedEntity/2.0" 
xmlns:tns="http://services.test.co.uk/service/banking/walletTransaction/TransferFunds/1.0" 
xmlns:ns0="http://cdm.test.co.uk/producdm.test.co.ukct/Catalogue/2.0" 
xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
targetNamespace="http://services.test.co.uk/service/banking/walletTransaction/TransferFunds/1.0" 
```

我正在使用以下命令生成 java 文件：

**wsdl2java -db xmlbeans -d "D:\MY_PROJECT" wsdllocation**

所以所有的 java 文件都是在 uk.co.test.cdm 和 uk.co.test.services 文件夹中创建的。

但我想在 com.greeting.cdm 和 com.greeting.services 文件夹下生成所有文件。表示 uk.co.test 应替换为 com.greeting。

我在命令中使用了这个选项来更改包 **：-p com.greeting**但这不起作用。

任何人都可以提供解决此问题的解决方案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-23T01:51:42.250

你应该使用很多 -p 选项。像这样：

```
wsdl2java -db xmlbeans -d "D:\MY_PROJECT" \
-p http://services.test.co.uk/service/banking/walletTransaction/TransferFunds/1.0=com.greeting.services \
-p http://cdm.test.co.uk/common/Country/2.0=com.greeting.cdm \
-p http://cdm.test.co.uk/customer/Customer/2.0=com.greeting.cdm \
... \
wsdllocation 
```

# magento - Magento Stock（可配置，捆绑）

> ID：16146047
> 
> 赞同：0
> 
> 时间：2013-04-22T11:27:13.517
> 
> 标签：magento, bundle, stock, configurable

我有一个用 Magento 制作的网站，以及我自己的主题。问题是：

低库存的简单产品与可配置产品相​​关联，当我尝试添加更多数量的简单产品时，它允许，然后，在结帐过程之后，我们收到来自商店的电子邮件，有过程中的失败，例如：

*付款操作失败：

原因：
并非所有产品都按要求的数量提供*

它也出现在默认数量大于 1 的捆绑产品中。

有人可以帮助我吗？

谢谢。

**编辑：** 找到了这个解决方案，但我无法截断数据库上的销售表。我那里有我所有的销售记录，而且有很多。我不能松开它。[Magento：订购可配置产品后，由于缺货而取消](https://stackoverflow.com/questions/2161035/magento-after-ordering-configurable-product-its-canceled-because-its-out-of-st?rq=1)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T23:52:41.497

您需要删除多少订单？如果您有少数可以手动计数，您可以尝试此解决方案来删除不需要的订单。

[如何从 magento 中删除测试订单](https://stackoverflow.com/questions/4526914/how-can-i-delete-test-order-from-magento)

看起来它应该可以工作，但是，和往常一样，检查代码并首先尝试一个订单..

# java - 确保异步线程在 ui 线程上运行

> ID：16146055
> 
> 赞同：0
> 
> 时间：2013-04-22T11:27:35.960
> 
> 标签：java, android

我有需要将异步任务作为内部方法运行的对象（不在 ui 线程上），我想将 ui 线程传递给该方法，然后以这种方式在 asynctask 上实现 ui 线程 - 有没有办法这样做?

伪代码：

```
 public class EditDetails extends Activity{          
                MyObject obj = new obj;
                obj.syncWithServer(EditDetails.this);
      }

      public class MyObject {
           public void syncWithWerver(EditDetails parent){
                 final class GetUserHttpTask extends AsyncTask<String/* Param */, Boolean /* Progress */, String /* Result */> {
                        @Override
                        protected String doInBackground(String... params) {
                             return "";
                        }
                        @Override
                        protected String onPostExecute(String result) {
                              //this doesn't run
                        }
                 }
           }
      } 
```

注意：目前这不起作用，因为 onPostExecute 在 doInBackground 之后没有触发

**编辑**

这段代码是伪代码，实际问题仍在发生，我在[这里列出了它](http://pastebin.com/jW6JpUbg)[http://pastebin.com/jW6JpUbg](http://pastebin.com/jW6JpUbg) .. 基本上它在从不执行 onPostExecute 的 pastebin 上运行第 72 行后卡住了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:31:13.670

[`onPostExecute`](http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29)应该是够奇怪的`void`。我想知道你的代码是如何编译的，因为你改变了被覆盖方法的返回类型？

更正后，您`onPostExecute`可以`AsyncTask`按如下方式运行：

```
final class GetUserHttpTask extends AsyncTask<String/* Param */, Boolean /* Progress */, String /* Result */> {
        @Override
        protected String doInBackground(String... params) {
             return "";
        }
        @Override
        protected String onPostExecute(String result) {
              // this will run
        }
} 
public void syncWithWerver(EditDetails parent){
     AsyncTask task = new GetUserHttpTask();
     task.execute();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:32:44.100

你试过这样执行你的任务吗？

```
parent.runOnUiThread(new Runnable() {

        @Override
        public void run() {
            new GetUserHttpTask().execute();
        }
}); 
```

我认为这应该工作..

**添加：**

您的[`AsyncTask`](http://developer.android.com/reference/android/os/AsyncTask.html)实施应如下所示：注意：阅读更新的评论

```
class GetUserHttpTask extends AsyncTask<String/* in parameter for doInBackground */, Boolean /* in parameter for onProgressUpdate */, String /* Out parameter and in parameter for onPostExecute method*/> {
    @Override
    protected String doInBackground(String... params) {
        return "";
    }

    @Override
    protected void onPostExecute(String result) {
        // this doesn't run
    }

    @Override
    protected void onProgressUpdate(Boolean... values) {
        // TODO Auto-generated method stub
        super.onProgressUpdate(values);
    }
} 
```

# javascript - MVVM 与 kendo ui 框架的使用

> ID：16146056
> 
> 赞同：0
> 
> 时间：2013-04-22T11:27:38.073
> 
> 标签：javascript, asp.net-mvc, mvvm, kendo-ui, signalr

我有两个视图有自己的视图模型。其中一个只包含一个网格，另一个包含一个表单。我同时动态加载其中两个。

这是我的视图包含网格的视图模型：

```
$(function () {

var ticker = $.connection.marketWatch;
var initializationData = null; // marketWatchData 
function init() {
    return ticker.server.getAllMarketWatchData().done(function (data) {

        initializationData = data;

        $("#marketWatchGrid").data("kendoGrid").dataSource.data(data);
    });
}

// Add client-side hub methods that the server will call
$.extend(ticker.client, {
    updateMarketWatchData: function (marketWatchData) {
        // do something...
    }
});

// Start the connection
$.connection.hub.start()
    .pipe(init)
    .done(function () {
        viewModelMarketRates.data = initializationData;

        viewModelOrder.updateInstruments();
    });
});

var viewModelMarketRates = kendo.observable({
    data: null
});

kendo.bind($("#marketWatchGrid"), viewModelMarketRates); 
```

我的视图的视图模型包含表单：

```
$(function () {
var viewModelOrder = kendo.observable({
    instruments: viewModelMarketRates.data,
    selectedInstrument: "EURUSD",
    amount: "0.1",
    slActivate: false,
    sl: "0.0",
    tpActivate: false,
    tp: "0.0",
    buy: function () {
        //e.preventDefault();

        //alert("buy");
    },
    sell: function () {
        //e.preventDefault();

        //alert("sell");
    },
    updateInstruments: function () {
        this.set("instruments", viewModelMarketRates.data);
        this.set("selectedInstrument", "EURUSD");
    }
});

//viewModelOrder.instruments = viewModelMarketRates.data;
//alert(viewModelOrder.instruments.length);
kendo.bind($("#orderForm"), viewModelOrder);
}); 
```

如您所见，我在 init 函数中获取市场汇率数据并将其存储在 viewModelMarketRates 的数据属性中。我调用 viewModelOrder 的 updateInstruments 函数，但在萤火虫中出现以下错误：

**ReferenceError：未定义 viewModelOrder**

**viewModelOrder.updateInstruments();**

我怎样才能防止这个错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T21:55:23.007

1.  您的问题的根源是您的 viewModelOrder 与网格的文档就绪范围不同。
2.  您不应该从同时加载的多个动态加载的视图中引用函数/对象。如果一个加载晚于另一个怎么办？还是根本不加载？

我能想到的最简单的解决方案 atm： 1\. 同步视图。网格后加载表格。2.将网格文档的内容准备好

```
function grid_ready(){
//all that ticker and connections start stuff
} 
```

并在准备好的表格文档中使用该功能

```
$(function(){
//create view model etc,
grid_ready();
}); 
```

编辑：语法。

# apache-flex - 如何在 Flex 运行时更改 mx:canvas 的标签？

> ID：16146057
> 
> 赞同：0
> 
> 时间：2013-04-22T11:27:46.070
> 
> 标签：apache-flex, canvas, label

在下面的代码中，如何在 Accordion 崩溃时在运行时更改 Canvas 的标签

```
<components:CollapsibleAccordion id="colap1" >
                    <mx:Canvas id="canvas1" label="Analysis (Ctrl + A)" >
                        <panel:AnalysisByMgr id="analysisByMgr" />
                    </mx:Canvas> 
                </components:CollapsibleAccordion> 
```

例如，当我在分析屏幕中时，我的屏幕标题应该是“分析”，但是当我关闭该屏幕时，它应该显示“分析（Ctrl + A）”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T14:54:25.800

在运行时设置标签只需设置画布的样式..它对我有用..

canvas1.setStyle('label', '新标签');

希望它也适用于你。

# javascript - 如何在 ACE 中加载 XML？

> ID：16146059
> 
> 赞同：1
> 
> 时间：2013-04-22T11:27:49.287
> 
> 标签：javascript, c++, xml, ace-editor, wt

**更新 1**

这是我目前将文本加载到我的 WT 项目中的方式。

```
wApp->require("ace.js");

//orignal XML, reads in incorrectly on one line
//std::string data = ReadFile("Q:\\settings.xml");

//XML after being formatted in notepad to look like xml, reads in correctly
//std::string data = ReadFile("Q:\\settings.txt");

//changed extension back to XML, edited in notepad++ to XML format, reads in correctly
std::string data = ReadFile("Q:\\settings_from_text.xml");

//test xml tag, reads in correctly
//std::string data = "<tag_1>some tag content</tag_1>";

//test xml tag with newline, reads in incorrectly on one line, doesnt read newline
//std::string data = "<tag_1>some tag content</tag_1>\n<tag_1>some tag content</tag_1>";

_ace_editor = new WText(data, Wt::PlainText);

//_ace_editor->setText(data);
_ace_editor->setInline(false);

// A WContainerWidget is rendered as a div
_ace_editor->resize(1000, 500);

std::string editor_ref = _ace_editor->jsRef(); // is a text string that will be the element when executed in JS

std::string command =
  editor_ref + "._ace_editor = ace.edit(" + editor_ref + ");" +
  editor_ref + "._ace_editor.setTheme(\"ace/theme/chrome\");" +
  editor_ref + "._ace_editor.getSession().setMode(\"ace/mode/xml\");";// +
  //editor_ref + "._ace_editor.setValue(\"" + data + "\");";

_ace_editor->doJavaScript(command); 
```

另外，这里是 ReadFile 函数

```
std::ifstream in(path, std::ios::in | std::ios::binary);
if(in)
{
  std::string contents;
  in.seekg(0, std::ios::end);
  contents.resize(in.tellg());
  in.seekg(0, std::ios::beg);
  in.read(&contents[0], contents.size());
  in.close();
  return(contents);
}
throw(errno); 
```

**原帖**

我正在尝试将一些 XML 文件加载到我嵌入 WT ( [http://www.webtoolkit.eu/wt?wtd的 Ace (](http://www.webtoolkit.eu/wt?wtd=rqBfShGlNupXgK3M1sWOxUk1Loz3BsW0) [http://ajaxorg.github.io/ace/#nav=about ) 编辑器中](http://ajaxorg.github.io/ace/#nav=about)[=rqBfShGlNupXgK3M1sWOxUk1Loz3BsW0](http://www.webtoolkit.eu/wt?wtd=rqBfShGlNupXgK3M1sWOxUk1Loz3BsW0) ) 页。问题在于，无论出于何种原因，XML 文件的所有标签都从加载中省略了。示例：具有以下内容的 XML 文件

```
<?xml version="1.0"?>
<settings>
    <tag_1>some tag content</tag_1>
    <tag_2/>
</settings> 
```

将被加载为

```
some tag content 
```

我需要整个 XML 文件，而不仅仅是标签的内容。

在做了一些研究之后，我在不同的论坛上发现很多其他人都在问同样的问题，但到目前为止我所尝试的一切都没有奏效，这让我来到了这里。

这包括将 Ace 模式设置为 XML、在将文本设置为 ace 窗口之前尝试将文本加载到不同的容器中、更改配色方案以及以不同的方式解析文件。

我正在使用 Visual Studio 2010，从调试中我可以看到该文件确实被完全读入带有所有标签的字符串中，但是在将其设置为 Ace 窗口之后，它们被省略了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T13:08:46.680

无论您是否将其放在 WT 页面上，归根结底这是一个 javascript 问题，因为这就是 ACE 编辑器，一个 javascript 工具。由于您根本没有显示有关如何加载 xml 内容的任何内容，我只能推测您必须将 xml 文件的内容写入页面输出源？我敢打赌，如果您查看源代码，您会看到标签吗？好吧，如果是这样，那你就错了。xml 文件需要通过 javascript/ajax 加载，因为我将在下面使用一个完整的示例进行演示（编辑 $.ajax 调用中的“url”到服务器上 xml 文件的位置），它显示标签和所有内容的xml文件。添加 jQuery 库只是为了简化 ajax 请求代码。享受！

```
<!DOCTYPE html>
<html lang="en">
<head>
<title>ACE in Action</title>
<style type="text/css" media="screen">
    #editor { 
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
    }
</style>
</head>
<body>

<div id="editor"></div>

<script src="http://rawgithub.com/ajaxorg/ace-builds/master/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script>
    var callback = function (data, status, xhr) {
        //data will be the xml returned from the server
        if (status == 'success') {
            var editor = ace.edit("editor");
            //apparently, only modes supported are 'html', 'javascript' & 'text'
            editor.getSession().setMode("ace/mode/html");
            editor.setValue(data);
        }
    };
    //using jQuery to fire off an ajax request to load the xml,
    //using our callback as the success function
    $.ajax(
        {
            url : '/testing/cd_catalog.xml',
            dataType : 'text', //explicitly requesting the xml as text, rather than an xml document
            success : callback
        }
    );

</script>
</body>
</html> 
```

实际上，我收回了我所说的“必须通过 javascript/ajax 加载”的部分内容，因为我现在意识到您只是按照 ACE 的示例预先将内容放入编辑器 div 中。如果您想对 html 或 xml 内容执行此操作，则标签将由浏览器评估并且不会显示，除非您复制编辑器 div 的 innerHTML 然后实例化编辑器，然后将其值设置为先前保存的 innerHTML。例如：

```
<div id="editor"><?xml version="1.0" encoding="ISO-8859-1">
<books>
<text>some text content</text>
<book/>
</books></div>

<script src="http://rawgithub.com/ajaxorg/ace-builds/master/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var txt = document.getElementById('editor').innerHTML;
    var editor = ace.edit("editor");
    //editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/html");
    editor.setValue(txt);
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T09:09:15.380

XML 中的 XML 片段......您可以以某种方式期望您的浏览器会解释它们，除非正确转义。尝试这个：

```
txt = new WText("<bla>something</bla>", Wt::PlainText); 
```

这将转义文本中的所有 XML-ish 字符。

Wt 的默认 (XHTMLText) 将尝试将您的输入解析为 XML，如果成功，则在将其作为 XML 发送到浏览器之前从 XML 中过滤可能的 XSS 向量。如果它不能将文本解析为 XML，它将转义 XML-ish 字符以避免具有自由解析器的浏览器无意中执行攻击向量。

第三个选项 (XHTMLUnsafeText) 绕过 XSS 过滤 - 危险，因此只有在您知道您的文本是安全的并且不会受到用户直接或间接影响时才使用它。

# ios - UIView的viewDidLoad？

> ID：16146063
> 
> 赞同：30
> 
> 时间：2013-04-22T11:27:56.373
> 
> 标签：ios, objective-c, uiview, uiviewcontroller

是`viewDidLoad`为了`UIView`什么？

我有一个`UIView`带有xib的。我想在加载时隐藏其中一个子视图。我试着用这个。

```
- (id)initWithCoder:(NSCoder *)aDecoder{
    ....
    _theView.hidden = YES;
} 
```

但此时子视图`_theView`为零。

[这个答案](https://stackoverflow.com/questions/10167706/ios-viewdidload-for-uiview)对我没有帮助，因为在创建的那一刻`UIViewController`，`UIView`还没有创建。它是稍后以编程方式创建的。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-04-22T11:30:04.877

尝试

`-awakeFromNib`方法

或在 xib 中为您的子视图设置隐藏的视图属性

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2015-02-18T08:57:46.983

`AwakeFromNib`仅当从 nib 文件加载视图时才调用。 `layoutSubviews`为所有视图调用，您可以`_loaded = yes;`在`layoutSubviews`函数中添加 bool 并知道视图是否加载。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-02-18T19:14:19.870

接受的答案具有误导性。awakeFromNib 将始终被调用，而不仅仅是在使用 nib 时。来自苹果文档：

**awakeFromNib：**

> 从 Interface Builder 存档或 nib 文件加载接收器后，准备接收器进行服务。

[关联](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSNibAwaking_Protocol/#//apple_ref/occ/instm/NSObject/awakeFromNib)

在下一个示例中，我只使用了一个故事板，您可以非常轻松地对其进行测试。

这是我们的视图控制器：

![在此处输入图像描述](https://i.stack.imgur.com/YH0YN.png)

**视图控制器.m：**

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    NSLog(@"viewDidLoad");
}

-(void)awakeFromNib
{
    NSLog(@"awakeFromNib in view controller");
}

@end 
```

**RedView.m:**

```
#import "RedView.h"

@implementation RedView

-(void)awakeFromNib
{
        NSLog(@"awakeFromNib inside RedView");
        self.green.hidden = YES;
}

@end 
```

打印顺序：

1.  视图控制器中的 awakeFromNib
2.  RedView 中的 awakeFromNib
3.  viewDidLoad

当然，绿色视图将被隐藏。

* * *

**编辑：**

如果您仅使用代码创建视图，则不会调用 awakeFromNib，但您可以自己调用它，或者更好的是，创建自己的方法。

没有 StoryBoard 的示例（仅代码）：

**RedView.m:**

```
#import "RedView.h"

@implementation RedView

-(void)loadRedView
{
    NSLog(@"loadRedView");
    self.green = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 100, 100)];
    self.green.backgroundColor = [UIColor greenColor];
    [self addSubview:self.green];
    self.green.hidden = YES;
}
@end 
```

**视图控制器.m：**

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    self.red = [[RedView alloc]initWithFrame:CGRectMake(0, 0, 200, 200)];
    self.red.backgroundColor = [UIColor redColor];
    [self.view addSubview:self.red];
    [self.red loadRedView];
}

@end 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-02-19T12:56:08.890

一般没有这种方法。问题是，你`_theView`从哪里来。

如果您的视图（包括其子视图）是从同一个 nib/xib/storyboard 加载的，那么您可以使用`awakeFromNib`它将在从存档加载完整的对象层次结构后调用，因此您`_theView`也应该设置。

如果您的视图是以编程方式创建的，但没有为`_theView`自己创建子视图，这意味着您的代码中必须有一个位置可以添加该子视图。在这种情况下，您有两个选择

*   `_theView`添加后对呼叫者隐藏
*   或者在您的视图类上声明一个`prepareForDisplay`方法（或类似方法）并在您的视图创建并`_theView`分配后调用它。在那种`prepareForDisplay`（或您选择的任何名称）方法中，您可以做任何您喜欢的事情，例如 hide `_theView`。

我不建议滥用`layoutSubviews`它，因为它是为了不同的目的，并且会在视图的生命周期内被调用多次，而不仅仅是你想要的一次。是的，您可以保存之前是否调用过它，但我也认为这是一种黑客行为。在正确设置并调用它之后，最好创建自己的方法以您想要的方式初始化视图。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-19T12:16:18.613

layoutSubviews 将调用您可以设置为隐藏的所有视图，而不是 awakeFromNib。如果您使用的是 xib，那么您可以设置默认的隐藏属性。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-03-19T16:09:48.053

```
private var layoutSubviewsCounter = 0
override func layoutSubviews() {
    super.layoutSubviews()
    if layoutSubviewsCounter == 0 {
        layoutSubviewsCounter += 1
        viewDidLoad()
    }
}

func viewDidLoad() {
    // your code here
} 
```

# c# - 选择索引更改的下拉菜单不会触发

> ID：16146064
> 
> 赞同：0
> 
> 时间：2013-04-22T11:27:58.430
> 
> 标签：c#, asp.net, ajax

我正在做一个项目，我正在做弹出窗口和弹出窗口，当我从网格中弹出数据时，会填充到文本框/下拉列表中，但发生的事情是我有一个类别下拉列表和另一个下拉列表作为子类别，我想要什么是当我选择类别时，与类别相关的子类别会填写在子类别下拉列表中，但发生的事情是所有子类别都自动填充。

```
<table class="panel_table">
<tr style="background-color:#0095E4">
<td colspan="2"><span class="panel_heading1">Category Details</span></td></tr>

<tr class="row1">
<td  colspan="2">
<span  class="paneltb_column1">BookID--</span>
<asp:Label ID="lblEditbookID" runat="server" Text="book ID"></asp:Label></td>
</tr>

<tr class="row1" >
<td colspan="2">
<span  class="paneltb_column2">Book Name</span>
<asp:TextBox CssClass="txtbox1"  ID="txtEditbookname" runat="server"></asp:TextBox>
</td></tr>

<tr class="row1" >
<td colspan="2">
<span  class="paneltb_column2">Category Name</span> 

<asp:DropDownList ID="drp_editcatname" runat="server" Width="120px"
   AutoPostBack="true"        OnSelectedIndexChanged="drpeditgetvaluesubcategory_onselectinindexchange">       </asp:DropDownList>
 </td></tr>

 <tr class="row1">
 <td colspan="2">
 <span  class="paneltb_column2">SubCategory Name</span>
 <asp:DropDownList ID="drpEditsubcatname" CssClass="txtbox2" 
  runat="server">               </asp:DropDownList>
 </td>
 </tr>
 <tr class="row1" >
 <td colspan="2">
 <span  class="paneltb_column2">Author Name</span>
 <asp:DropDownList ID="drp_editauthorname" runat="server"></asp:DropDownList>
 </td>
 </tr>
  </table> 
```

后面的代码

```
 protected void drpgetvaluesubcategory_onselectedindexchange(object sender,EventArgs e)
 {

   sql = "select subcat_id,subcategoryname from library_subcategory where    cat_id='"+drp_categoryname.SelectedItem.Value+"'";
   ds = obj.openDataset(sql, Session["SCHOOLCODE"].ToString());
    drp_subcategoryname.Items.Clear();  
    ListItem li = new ListItem();
    li.Text = "Select SubCategory";
    li.Value = "0";
    drp_subcategoryname.Items.Add(li);
    for (int i = 0; i < ds.Tables[0].Rows.Count; i++)
    {

        li = new ListItem();
        li.Text = ds.Tables[0].Rows[i]["subcategoryname"].ToString();
        li.Value = ds.Tables[0].Rows[i]["subcat_id"].ToString();
        drp_subcategoryname.Items.Add(li);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:34:20.667

检查是否正确放置在 aspx 上的事件名称，

```
 OnSelectedIndexChanged="drpeditgetvaluesubcategory_
     onselectinindexchange" 
```

两个词之间有空格吗？事件名称与后面的代码不同

您需要将其更正为

```
 OnSelectedIndexChanged="drpgetvaluesubcategory_onselectedindexchange" 
```

和事件名称应该是`drpgetvaluesubcategory_onselectedindexchange`

# javascript - 在 Heroku 生产上预编译时 Rails ckeditor gem js 错误

> ID：16146065
> 
> 赞同：3
> 
> 时间：2013-04-22T11:27:59.343
> 
> 标签：javascript, ruby-on-rails, ckeditor

我在 Rails 3.2.11 / Ruby 1.9.3 上使用`ckeditor`( [https://github.com/galetahub/ckeditor ) gem。](https://github.com/galetahub/ckeditor)

`rake assets:precompile`在生产环境（部署到 Heroku）之后，我一直收到这个 JS 错误

```
Uncaught TypeError: Object #<Object> has no method 'apply' 
```

我不知道它是否相关，但我已经将错误（使用 Chrome 的 webdev 工具）追踪到一个开始的块：

```
CKEDITOR.plugins.add("basicstyles", ...) 
```

我假设它是负责将粗体、斜体、下划线和其他此类字体样式按钮添加到工具栏的插件。

textarea 在没有 CKEditor UI 的情况下仍然显示。

我正在使用 ruby​​gems 的最新版本（4.0.4）。

我有这个`application.js`：

```
//= require 'ckeditor/init'
//= require 'ckeditor/config' 
```

我有一个自定义配置文件，`app/assets/ckeditor/config.js`并且有两个自定义插件`app/assets/ckeditor/plugins/`。

我也在本地使用它进行了测试，但`RAILS_ENV=production`也无法正常工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-20T21:50:40.743

我找到了导致问题的原因。这是一个旧的uglifier版本。将它从 ~> 1.0.3 移动到 >= 1.0.3（更新到 2.1.1）解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:45:11.890

几件事可能会有所帮助

这些`//= require`行需要进入你的`application.js`文件，你`Gemfile`应该只有`gem 'ckeditor'`.

它也应该是：

`app/assets/javascripts/ckeditor/config.js`和`app/assets/javascripts/ckeditor/plugins`

而不是

`app/assets/ckeditor/config.js`和`app/assets/ckeditor/plugins`

最后你可以使用

```
<%= f.input :content, :input_html => {:class => 'ckeditor', :rows => "10"}%> 
```

在你看来。请注意，这是一个 SimpleForm 输入。

我使用了[ckeditor-rails](https://github.com/tsechingho/ckeditor-rails) gem，对我来说一切都很顺利。

希望能帮助到你。

# twitter-bootstrap - LESS - 如果孩子存在，请回到祖父母身边

> ID：16146072
> 
> 赞同：0
> 
> 时间：2013-04-22T11:28:28.843
> 
> 标签：twitter-bootstrap, less, chaining, nested

这让我抓狂。

我在 bootstrap v3 中有标签组件。标签有label-danger（红色）、label-success（绿色）等修饰符。需要区分label是否为链接。

我有两个列表，一个有锚作为子元素，另一个没有：

```
<ul id="labels1">
    <li>Success</li>
    <li>Danger</li> 
```

```
<ul id="labels2">
    <li><a href="#">Success</a></li>
    <li><a href="#">Danger</a></li>
</ul> 
```

接下来是labels.less，它看起来像这样：

```
.label {
  display: inline;
  padding: .25em .6em;
  font-size: 75%;
  font-weight: 500;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: @grayLight;
  border-radius: .25em;

  a,
  a:hover,
  a:focus,
  a&,
  a&:hover,
  a&:focus {
    color: #fff;
    text-decoration: none;
    cursor: pointer;
  }
}

.label-danger {
  background-color: @label-danger-bg;
  a& {
    background-color: darken(@label-danger-bg, 10%);
  }
}
.label-success {
  background-color: @label-success-bg;
  a& {
    background-color: darken(@label-success-bg, 10%);
  }
} 
```

接下来是 - 我有一个 LESS 母版表，我在其中定义：

```
#labels1 {
    li {
        .label;
        &:first-child {
            .label-success;
        }
        &:last-child {
            .label-danger;
        }
    }
} 
```

在这部分之前没关系：

```
#labels2 {
    li {
        a {
            .label;
        }
        &:first-child {
            a {
                .label-success;
            }
        }
        &:last-child {
            a {
                .label-danger;
            }
        }
    }
} 
```

没有办法通过 LESS 告诉我我正在设计一个`a`元素的样式，所以它应该有一个更深的颜色。

如果我做这样的事情：

```
#labels2 {
    li {
        &:first-child {
            .label;
            .label-success;
        }
        //  etc
    }
} 
```

它只会产生正常的颜色（不是那些更暗的颜色）。

我想做的是为LESS中不存在的东西找到一种解决方法（链中的祖父母选择器匹配）：

```
.label-success {
  background-color: @label-success-bg;
  a {
    && { // go 2 levels up and style the .label-success 
         // if LESS can dig to this rule - eg. if there technically 
         // exists an anchor inside the li.
        background-color: darken(@label-success-bg, 10%);
    }
  }
} 
```

有谁知道这种情况该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T19:02:30.183

我认为您的规则中不需要“&”。它应该是：

```
.label-danger {
  background-color: @label-danger-bg;
  a {
    background-color: darken(@label-danger-bg, 10%);
  }
}
.label-success {
  background-color: @label-success-bg;
  a {
    background-color: darken(@label-success-bg, 10%);
  }
} 
```

那么你的 #labels1 规则应该适用于两者：

```
#labels1, #labels2 {
    li {
        .label;
        &:first-child {
            .label-success;
        }
        &:last-child {
            .label-danger;
        }
    }
} 
```

# python - Python：食谱程序

> ID：16146075
> 
> 赞同：1
> 
> 时间：2013-04-22T11:28:34.627
> 
> 标签：python, recipe

我正在为 GCSE 计算做一个食谱项目。它将食谱存储在 .txt 文档中，然后在请求时打开并显示信息供人们阅读。

此时，它将配方存储在 .txt 文件的顶部，将配料存储在底部。它通过标题 1 运行配方并将其拆分以进行展示。然后它应该通过标题 2 并查看每一列、成分、重量和尺寸。然后使用 for 循环，将遍历列表并显示成分及其各自的重量和尺寸。

代码如下：

```
#-------------------------------------------------------------------------------
# Name:        Recipe Holder
# Purpose:      Hold recipes
#
# Author:      Ashley Collinge
#
# Created:     25/02/2013
# Copyright:   (c) Ashley Collinge 2013
#-------------------------------------------------------------------------------
def menu():
    print "Recipe Holder"
    print "Use the numbers to navigate the menu."
    print ""
    print ""
    print "1) View Recipes"
    print "2) Add Recipes"
    print "3) Delete Recipe"
    print ""
    choice_completed = False
    while choice_completed == False:
        choice = raw_input("")
        if choice == "1":
            choice_completed = True
            view_recipe()
        elif choice == "2":
            choice_completed = True
            add_recipe()
        elif choice == "3":
            choice_completed = True
            delete_recipe()
        else:
            choice_completed = False

def view_recipe():
    print ""
    print ""
    mypath = "/recipe"
    from os import listdir
    from os.path import isfile, join
    onlyfiles = [ f for f in listdir("H:/Recipes/recipes") if isfile(join("H:/Recipes/recipes",f)) ]
    a = -1
    for i in onlyfiles:
        a = a +1
        print a, i
    print ""
    print "Type in the number of the recipe you would like to view, below and press enter."
    print ""
    choice = input("")
    import os, sys
    print onlyfiles[choice]
    something = str(onlyfiles[choice])
    directory =  "recipes" + "\\" + something
    from itertools import takewhile, imap
    with open(directory) as f:
        items = list(takewhile("heading1".__ne__, imap(str.rstrip, f)))
        print "Recipe for " + directory
        for h in range(len(items)): #following three lines to take the list of recipe and split it by line in to instructions then display
            print str(h)+". "+str(items[h])
    def getColumn(title,file):
        result = []
        global result
        with open(file) as f:
            headers = f.readline().split(',')
            index = headers.index(title)
            for l in f.readlines():
                result.append(l.rstrip().split(',')[index])
            return result

    ingredients = (getColumn("ingredients",directory))
    weight = (getColumn("weight",directory))
    measurement = (getColumn("measurement",directory))
    print directory
    print "Ingredients"
    for i in range(len(ingredients)):
        print ingredients[i]+" "+weight[i]+" "+measurement[i]
    input("")

def delete_recipe():
    print "Delete Recipe"
    print "Type in the number of the recipe you would like to delete, below and press enter."
    mypath = "/recipe"
    from os import listdir
    from os.path import isfile, join
    onlyfiles = [ f for f in listdir("H:/Recipes/recipes") if isfile(join("H:/Recipes/recipes",f)) ]
    a = -1
    for i in onlyfiles:
        a = a +1
        print a, i
    choice = input("")
    import os, sys
    print onlyfiles[choice]
    something = str(onlyfiles[choice])
    directory =  "recipes" + "\\" + something
    os.remove(directory)

menu() 
```

文本文件如下：

```
Recipe As now
Put sugar in bowl
heading1
ingredients,weight,measurement,
Sugar,100,grams
heading2 
```

我收到以下错误消息：

```
raspberry_pie - Copy (8).txt
Recipe for recipes\raspberry_pie - Copy (8).txt
0\. Recipe As now
1\. fhgje
2\. fe
Traceback (most recent call last):
  File "H:\Recipes\Recipe Program.py", line 96, in <module>
    menu()
  File "H:\Recipes\Recipe Program.py", line 24, in menu
    view_recipe()
  File "H:\Recipes\Recipe Program.py", line 69, in view_recipe
    ingredients = (getColumn("ingredients",directory))
  File "H:\Recipes\Recipe Program.py", line 65, in getColumn
    index = headers.index(title)
ValueError: 'ingredients' is not in list 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T15:03:59.490

这是上面程序的重写版本。唯一不起作用的是添加食谱。如果您需要进一步的帮助，请对此答案发表评论。您将需要在该程序旁边创建一个名为*recipes*的子目录（或任何您设置的`SUBDIR`变量名称）。要进行测试，请确保`raspberry_pie.txt`在运行之前将文件放在该文件夹中。

```
#-------------------------------------------------------------------------------
# Name:         Recipe Holder
# Purpose:      Hold recipes
#
# Author:       Ashley Collinge & Stephen Chappell
#
# Created:      11 July 2013
# Copyright:    (c) Ashley Collinge 2013
#-------------------------------------------------------------------------------

from collections import OrderedDict
from itertools import takewhile, zip_longest
from os import listdir, remove
from os.path import join, isfile, splitext, basename

#-------------------------------------------------------------------------------

SUBDIR = 'recipes'

def main():
    print('Recipe Holder')
    print('Use the numbers to navigate the menu.')
    options = {'1': view_recipe,
               '2': add_recipe,
               '3': delete_recipe}
    for key in sorted(options, key=int):
        print('{}) {}'.format(key, get_title(options[key].__name__)))
    while True:
        choice = input('> ')
        if choice in options:
            options[choice]()
            break

#-------------------------------------------------------------------------------

def view_recipe():
    path = get_file('Type in the number of the recipe you '
                    'would like to view and press enter.')
    print('Reciple for', get_name(path))
    with open(path) as file:
        lines = filter(None, map(str.strip, file))
        for step in enumerate(takewhile('heading1'.__ne__, lines), 1):
            print('{}. {}'.format(*step))
        columns = OrderedDict((name.strip(), [])
                              for name in next(lines).split(','))
        max_split = len(columns) - 1
        for info in takewhile('heading2'.__ne__, lines):
            fields = tuple(map(str.strip, info.split(',', max_split)))
            for key, value in zip_longest(columns, fields, fillvalue=''):
                columns[key].append(value)
    ingredients = columns['ingredients']
    weights = columns['weight']
    measurements = columns['measurement']
    assert len(ingredients) == len(weights) == len(measurements)
    print('Ingredients')
    for specification in zip(ingredients, weights, measurements):
        print(*specification)

def add_recipe():
    raise NotImplementedError()

def delete_recipe():
    path = get_file('Type in the number of the recipe you '
                    'would like to delete and press enter.')
    remove(path)

#-------------------------------------------------------------------------------

def get_file(prompt):
    files = tuple(name for name in
                  (join(SUBDIR, name) for name in listdir(SUBDIR))
                  if isfile(name))
    for index, path in enumerate(files, 1):
        print('{}) {}'.format(index, get_name(path)))
    print('Type in the number of the recipe you '
          'would like to view and press enter.')
    return files[int(input('> ')) - 1]

def get_name(path):
    return get_title(splitext(basename(path))[0])

def get_title(name):
    return name.replace('_', ' ').title()

#-------------------------------------------------------------------------------

if __name__ == '__main__':
    main() 
```

# iphone - JSONKit在从iphone中的Web服务解码JSON对象时更改浮点值

> ID：16146081
> 
> 赞同：2
> 
> 时间：2013-04-22T11:28:51.423
> 
> 标签：iphone, ios, objective-c, json, jsonkit

使用 解析后，浮点值会发生变化`JSONKit`。调用`objectFromJSONString`或后出现问题`mutableObjectFromJSONString`。

在触发此方法之前，JSON 响应很好`JSONKit.m`：

```
static id _NSStringObjectFromJSONString(NSString *jsonString, JKParseOptionFlags parseOptionFlags, NSError **error, BOOL mutableCollection) 
```

原始回复：

```
"value":"1002.65" 
```

调用后的响应`objectFromJSONString`：

```
"value":"1002.6500000001" or sometimes "value":"1002.649999999 " 
```

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T11:42:40.427

这不是问题。

**该值`1002.65`不能使用 IEEE 754 浮点数精确表示**。[使用printf](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/printf.3.html)格式转换说明符 %.17g 将浮点数转换为十进制表示。

从[文档](https://github.com/johnezang/JSONKit)：

> C double 基元类型，或 IEEE 754 Double 64 位浮点，用于表示浮点 JSON 数字值。JSON 包含不能表示为双精度的浮点数值（即，由于上溢或下溢）将无法解析并可选择返回 NSError 对象。函数 strtod() 用于执行转换。请注意，JSON 标准不允许无穷大或 NaN（非数字）。浮点值的转换和操作并非易事。不幸的是，RFC 4627 没有说明如何处理这些细节。您不应该依赖或期望当浮点值被往返时，它将具有相同的文本表示，甚至比较相等。即使将 JSONKit 用作 JSON 的解析器和创建者也是如此，

来源：请参阅此线程[https://github.com/johnezang/JSONKit/issues/110](https://github.com/johnezang/JSONKit/issues/110)

解决方案：您可以指定精度，同时将浮点数转换为字符串以进行输出。[NSNumberFormatter](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSNumberFormatter_Class/Reference/Reference.html)将是一个更好的选择，或者使用一些 printf 解决方案，如上一个答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:36:31.677

使用浮点定点表示，例如，

```
 NSLog(@"value = %.2f",floatvalue); 
```

现在它将显示 value = 1002.65

# c# - 如何将html表单添加到asp：PlaceHolder（缺少表单标签）

> ID：16146085
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:10.983
> 
> 标签：c#, asp.net, webforms, forms, asp.net-placeholder

我必须将简单的表单添加到 asp:PlaceHolder

```
<form action="https://www...." method="post" target="_top">
<input type="hidden"...
<input type="hidden"...
<input type="image" ...name="submit">
</form> 
```

在`PageLoad()`我补充说：

```
data = "<form action=...."
this.myPlaceHolder.Controls.Add(new LiteralControl(data)); 
```

当页面呈现页面源为：

```
<input type="hidden"...
<input type="hidden"...
<input type="image"...name="submit"...
<img alt=""... 
```

如您所见，**没有表单标签**？但我确信该`data`变量包含“ `<form ...`”。有没有其他方法可以添加表单， `placeholder`也许我使用了错误的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T13:09:15.653

我必须添加这个答案也许会对某人有所帮助。
当我添加“ `<form...`”表单标签时没有添加，但
如果我将“ `<form></form><form...`”添加到占位符，那么它就可以工作。
我不明白为什么，但它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:47:07.087

而不是动态添加表单，您应该将它们添加到 asp 文件中。像这样：

```
<form action="https://www" method="post" target="_top">
   <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server">
   </asp:ContentPlaceHolder>
</form> 
```

然后您可以在占位符上添加任何对象。

# xml - 需要 FormatText 语句说明

> ID：16146087
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:14.697
> 
> 标签：xml, syntax

我正在尝试对脚本中文本的格式进行一些更改。

目前的脚本是：`<Title FormatText="{0}, {1}, {2}, {3}, {4}">`

我找不到“FormatText”语句的解释，所以我不知道正确的运算符/语法是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:02:29.427

如果没有看到试图执行格式的代码，很难给出一个好的答案。但我怀疑他们可能正在使用它`String.Format`来生成输出。

[http://msdn.microsoft.com/en-us/library/system.string.format.aspx](http://msdn.microsoft.com/en-us/library/system.string.format.aspx)

# apache-flex - 通过适用于 ios 的 flex/flash builder 移动应用程序打印

> ID：16146088
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:16.527
> 
> 标签：apache-flex, printing, air, flash-builder4.5

我必须允许用户通过我的应用程序进行打印。我正在使用 flash builder 4.5.1 为 ios 创建应用程序

这是它的代码：-

```
<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
        xmlns:s="library://ns.adobe.com/flex/spark" title="HomeView">
    <fx:Declarations>
        <!-- Place non-visual elements (e.g., services, value objects) here -->
    </fx:Declarations>

    <fx:Script>
        <![CDATA[

            import mx.printing.*;

            // Create a PrintJob instance.
            private function doPrint():void
            {
                // Create an instance of the FlexPrintJob class.

                    var printJob = new FlexPrintJob(); // calls the dialog

                    if(printJob.start())  // Starts when the user presses ok
                    {

                        printJob.addObject(dashPreview,FlexPrintJobScaleType.MATCH_WIDTH); // the object you want to add, and the scaling you want to apply
                        printJob.send(); // Send everything to the printers.        
                    } 
            }
        ]]>
    </fx:Script>

    <s:Label id="dashPreview" x="334" y="110" text="naveed mansuri">

    </s:Label>

    <s:Button id="myButton" x="19" y="215" width="729" label="Print" click="doPrint();">

    </s:Button>     
</s:View> 
```

但是当我运行这个应用程序并在打印时 clicl 时，我得到了以下错误框：-

```
Error: Error #2055: The print job could not be started. at Error$/throwError()
    at flash.printing::PrintJob/start()
    at mx.printing::FlexPrintJob/start()[E:\dev\4.5.1\frameworks\projects\framework\src\mx\printing\FlexPrintJob.as:200]
    at views::PrintHomeView/doPrint()[C:\Documents and Settings\naveedmansuri\Adobe Flash Builder 4.5\Print\src\views\PrintHomeView.mxml:20]
    at views::PrintHomeView/__myButton_click()[C:\Documents and Settings\naveedmansuri\Adobe Flash Builder 4.5\Print\src\views\PrintHomeView.mxml:34] 
```

这段代码有什么问题？打印类不是移动优化的吗？我只需要打印标签文本。真诚的请求让我摆脱这个问题。我很快就会有这个应用程序的发布日期。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T16:16:46.100

从[LiveDocs](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/printing/PrintJob.html)：

> **移动浏览器支持**：移动浏览器不支持此类。
> 
> *AIR 配置文件支持*：所有桌面操作系统都支持此功能，但移动设备或 AIR for TV 设备***不支持此功能。***您可以使用 PrintJob.isSupported 属性在运行时测试支持。有关跨多个配置文件的 API 支持的更多信息，请参阅 AIR 配置文件支持。

在移动设备上打印的唯一方法是通过 AIR 本机扩展。

# python - mapreduce 简单函数 - 使用 python

> ID：16146089
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:17.600
> 
> 标签：python, mapreduce, bigdata

我试图更好地理解大数据编程，但我对 python 几乎一无所知。所以我使用 mapreduce 范例，实际上在 python 中我处理存储在某个目录中的一些文本文件`mydir`，所以我的数据源是：

```
global_file = glob.glob("mydir/*")

def file_contents(file_name):
     f = open(file_name)
     try:
         return f.read()
     finally:
         f.close()

datasource = dict((file_name, file_contents(file_name)) for file_name in global_file) 
```

那么我的mapreduce函数是

```
#each line in each text file is structured as follow : paper-id:::author1::author2::…. ::authorN:::title
def mapfn(k, v):
    for w in v.splitlines():
        separator = w.split('\:\:|\:\:\:')
        for x in separator[1:len(separator)-1]:
            for y in separator[-1].split():
                yield x + y, 1 
```

首先，`k`and`v`代表一个键值对，其中`k`是文件的 id `v`，是后一个文件的内容。（最后我想获得按作者分组的每个单词的出现次数）

现在的问题是，当我运行算法时，我得到一个空白数组结果。我的 python 语法正确吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T21:19:04.747

我用更好的命名和正确的拆分正则表达式部分重写了您的 mapfn 函数，并添加了一个简单的测试：

```
import re

datasource = {
    "foo":(
        "paper-1:::author1::author2::authorN:::title1\n" 
        "paper-2:::author21::author22::author23::author2N:::title2\n"
        "paper-3:::author31::author32:::title3"
        )
    }

def mapfn(k, v):
    for line in v.splitlines():
        data = re.split(r":{2,3}", line)
        words = data[-1].split()
        for author in data[1:-1]:
            for word in words:
                yield author + word, 1

def main():
    for k, v in datasource.items():
        for result in mapfn(k, v):
            print result

if __name__ == "__main__":
    main() 
```

这会产生以下结果：

```
bruno@betty ~/Work/playground $ python mapf.py 
('author1title1', 1)
('author2title1', 1)
('authorNtitle1', 1)
('author21title2', 1)
('author22title2', 1)
('author23title2', 1)
('author2Ntitle2', 1)
('author31title3', 1)
('author32title3', 1) 
```

不确定这是您所期望的，但至少它会产生一些输出。到目前为止，我没有任何使用 mapReduce 的实践经验，因此您要么必须更多地了解上下文以及如何运行代码和/或等待本地 mapReduce 专家介入。

# gwt - GWT，columnSortHandler.setComparator 用于循环中的所有列，使排序混乱？

> ID：16146094
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:32.067
> 
> 标签：gwt, sorting, loops, celltable

我有这个代码：

```
ListHandler<List<String>> columnSortHandler = new ListHandler<List<String>>(list);

for (int k=0; k<10; k++){
         IndexedColumn myColumn=new IndexedColumn(k+1);
         table.addColumn(myColumn, "col "+k);
         myColumn.setSortable(true);

         columnSortHandler.setComparator(myColumn, new Comparator<List<String>>() {

             public int compare(List<String> o1,     List<String> o2) {
                 return o1.get(0).compareTo(o2.get(0));
             }

         });
} 
```

当我进行排序时，调用了排序操作，表进行了排序，但该列中值的顺序不正确。所以我怀疑可能是我把`columnSortHandler.setComparator`里面放了一个循环&这导致了问题。

我如何解决它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T14:38:12.627

您的问题是，每次比较时，您都会比较`String`列表中的第一个。假设列表中的每个对象都代表该索引列的值，那么您应该只更改您在比较器中获得的索引。

假设我上面说的是对的，那么您可能想看看我在[此处](https://stackoverflow.com/questions/15192593/gwt-cell-table-dynamic-columns-sorting)发布的答案。

在您的情况下，您的比较器应该是：

```
columnSortHandler.setComparator(myColumn, new Comparator<List<String>>(){

    public int compare(List<String> o1, List<String> o2) {

          if (o1 == o2) {
            return 0;
          }

          // Compare the column.
          if (o1 != null) {
            return (o2 != null) ? o1.get(k).compareTo(o2.get(k)) : 1;
          }
          return -1;
    }

}); 
```

现在我不确定在上面的代码中`k`是否应该只是`k`或`k+1`。查看您发布的代码，我不清楚您的第一列的值是在索引 0 还是 1。

# javascript - 为错误 js/jquery 附加事件

> ID：16146096
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:36.793
> 
> 标签：javascript, jquery, try-catch, throw

我正在寻找一个可以在触发错误时使用的钩子。我知道您可以尝试/捕获，但我想要像 jQuery 的 .error 但绑定到所有错误的东西。

有人知道这样的事情吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:38:42.817

也许这就是您正在寻找的[window.onerror](https://developer.mozilla.org/en/docs/DOM/window.onerror)

> 概括
> 
> 运行时脚本错误的事件处理程序。
> 
> 请注意，一些/许多错误事件不会触发 window.onerror，您必须专门监听它们。

# php - 单击时使文本段落成为可编辑的文本区域

> ID：16146098
> 
> 赞同：0
> 
> 时间：2013-04-22T11:29:41.053
> 
> 标签：php, jquery, html, css

我正在处理的个人资料页面上有一个关于框（见下文）。现在由 textarea 显示的区域将在空间中生成一个 PHP 变量（关于用户列）。

![在此处输入图像描述](https://i.stack.imgur.com/BY8CZ.png)

我想要做的是当用户单击编辑时，生成的段落内容变成可编辑的`<textarea>`，然后我可以保存它，它将新数据写入我的 PostGreSQL 数据库并立即显示新的编辑。

基本上我正在寻找一个动态可编辑的段落/文本区域组合，它将自动更新将原始文本数据存储在关于用户列中的数据库。

我在 jsfiddle 上研究了许多这样的 JQuery 示例 - [http://jsfiddle.net/BenjaminRH/467S5/](http://jsfiddle.net/BenjaminRH/467S5/)但它没有我正在寻找的数据库功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:31:29.747

本质上，HTML5[`ContentEditable`](http://html5demos.com/contenteditable)属性在这里可能是完美的。

这不会自动更新任何数据库或任何与此相关的东西，但也不会自动更新任何不是专门为（甚至通用化处理）某些数据库类型和场景和框架等的复合材料的控件。

因此，为了获得这个（一个可以完成所有工作的控件），您可能需要寻找第三方产品 - 可能有一个免费的产品（我还没有看到类似 PHP 或 ASP 的产品） .NET 或其他主要框架，坦率地说我很高兴），否则您可能会不得不购买一个。正如预期的那样，我个人不能保证任何，也不会推荐这样的*即插即用*控制。

但是，根据我的第一个建议，任务完成了一半——只需将代码隐藏在可重用的类中，然后将其连接起来。

# xml - Oracle：将树结构转换为 XML

> ID：16146102
> 
> 赞同：2
> 
> 时间：2013-04-22T11:29:58.413
> 
> 标签：xml, oracle, hierarchical-data

我有一个简单的树结构，其中子元素连接到父元素，我需要将其转换为 XML。

目前，我使用递归函数调用来实现这一点（即检索给定元素的子元素），这似乎不是最聪明的方法。涉及 CONNECT BY PRIOR 的语句将输出结果，但我不知道如何将其转换为 XML。

我的简化数据结构：

```
CREATE TABLE ENTRY
  (
    "ID"        NUMBER(10,0) NOT NULL ENABLE,
    "PARENT_ID" NUMBER(10,0),
    "TAG"       VARCHAR2(1000 CHAR)
  ) 
```

期望的输出：

```
<?xml version="1.0" encoding="UTF-8"?>
<entries>
    <entry>
        <tag>parent A</tag>
        <entries>
            <entry>
                <tag>child A-1</tag>
                <entries>
                    <entry>
                        <tag>grandchild A-1</tag>
                    </entry>
                </entries>
            </entry>
            <entry>
                <tag>child A-2</tag>
            </entry>
        </entries>
    </entry>
    <entry>
        <tag>bla parent B</tag>
        <entries>
            <entry>
                <tag>child B-1</tag>
            </entry>
        </entries>
    </entry>
</entries> 
```

我正在寻找一个 SELECT 语句来完成这项工作:)

感谢您的任何建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:15:38.140

您可以使用递归 PL/SQL 函数：

```
SQL> CREATE OR REPLACE FUNCTION getXMLChildren(p_parent_id NUMBER)
  2     RETURN XMLTYPE IS
  3     l XMLTYPE;
  4  BEGIN
  5     SELECT xmlelement("entries",
  6                       xmlagg(xmlelement("entry",
  7                                         xmlelement("tag", tag),
  8                                         getXMLChildren(ID))))
  9       INTO l
 10       FROM ENTRY
 11      WHERE (p_parent_id IS NOT NULL AND parent_ID = p_parent_id)
 12         OR (p_parent_id IS NULL AND parent_id IS NULL) --
 13      HAVING COUNT(*) > 0;
 14     RETURN l;
 15  END;
 16  /

Function created 
```

该函数构建第一层，然后在子级上调用自身：

```
SQL> select XMLSERIALIZE(document getXMLChildren(NULL)
  2                      as CLOB INDENT SIZE = 2) xml
  3    from dual;

XML
--------------------------------------------------------------------------------
<entries>
  <entry>
    <tag>bla parent</tag>
    <entries>
      <entry>
        <tag>bla child 1</tag>
        <entries>
          <entry>
            <tag>bla grandchild1</tag>
          </entry>
        </entries>
      </entry>
      <entry>
        <tag>bla child 2</tag>
      </entry>
    </entries>
  </entry>
</entries> 
```

# java - TimePicker 在 SQLite 数据库中保存零值

> ID：16146105
> 
> 赞同：0
> 
> 时间：2013-04-22T11:30:01.383
> 
> 标签：java, android, database, sqlite

我有一个 TimePicker，我想用它来确定用户可以保持连接的时间长度。如果用户选择 11:00，假设现在的时间是 10:00 - 我希望下面的源代码确定当前时间与所选时间之间有 60 分钟 - 并将其设置为字符串/长（分钟），然后我将其显示为文本视图。

我已经按照我的想法编写了所有代码 - 但是 textview 似乎永远不会更新分钟值。每次我尝试查看数据时 - 无论时间选择器设置什么，我都会得到 0 值。

有人有什么建议吗？我现在很困惑，我不确定还有什么可以尝试的。

ADDEDITDEVICE.JAVA（时间选择器和分钟确定发生的地方）

```
public class AddEditDevice extends Activity {

     private long rowID; 
     private EditText nameEt;
     private EditText capEt;
     private EditText codeEt;
     private TimePicker timeEt;
     private TextView ssidTextView;
     Date date = new Date();
     TimePicker tp;

      // @Override
       public void onCreate(Bundle savedInstanceState) 
       {
          super.onCreate(savedInstanceState); 
          setContentView(R.layout.add_country);
          WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);
          WifiInfo info = wifi.getConnectionInfo();
          String ssidString = info.getSSID();

          if (ssidString.startsWith("\"") && ssidString.endsWith("\"")){
              ssidString = ssidString.substring(1, ssidString.length()-1);

          //TextView ssidTextView = (TextView) findViewById(R.id.wifiSSID);
          ssidTextView = (TextView) findViewById(R.id.wifiSSID);
          ssidTextView.setText(ssidString); 

          nameEt = (EditText) findViewById(R.id.nameEdit);
          capEt = (EditText) findViewById(R.id.capEdit);
          codeEt = (EditText) findViewById(R.id.codeEdit);
          timeEt = (TimePicker) findViewById(R.id.timeEdit);

          Bundle extras = getIntent().getExtras(); 

          if (extras != null)
          {
             rowID = extras.getLong("row_id");
             nameEt.setText(extras.getString("name"));  
             capEt.setText(extras.getString("cap"));  
             codeEt.setText(extras.getString("code"));    
             String time = extras.getString("time");
             String[] parts = time.split(":");
             timeEt.setCurrentHour(Integer.valueOf(parts[0]));
             timeEt.setCurrentMinute(Integer.valueOf(parts[1]));
             timeEt.setIs24HourView(false);

             date.setMinutes(tp.getCurrentMinute());
             date.setHours(tp.getCurrentHour());
             Long.toString(minutes);

          }

          Button saveButton =(Button) findViewById(R.id.saveBtn);
          saveButton.setOnClickListener(new OnClickListener() {

              public void onClick(View v) 
              {
                 if (nameEt.getText().length() != 0)
                 {
                    AsyncTask<Object, Object, Object> saveContactTask = 
                       new AsyncTask<Object, Object, Object>() 
                       {
                          @Override
                          protected Object doInBackground(Object... params) 
                          {
                             saveContact();
                             return null;
                          }

                          @Override
                          protected void onPostExecute(Object result) 
                          {
                             finish();
                          }
                       }; 

                    saveContactTask.execute((Object[]) null); 
                 }

                 else
                 {
                    AlertDialog.Builder alert = new AlertDialog.Builder(AddEditDevice.this);
                    alert.setTitle(R.string.errorTitle); 
                    alert.setMessage(R.string.errorMessage);
                    alert.setPositiveButton(R.string.errorButton, null); 
                    alert.show();
                 }
              } 
         });}
       }

       long minutes = ((new Date()).getTime() - date.getTime()) / (1000 * 60);

           private void saveContact() 
           {
              DatabaseConnector dbConnector = new DatabaseConnector(this);

              if (getIntent().getExtras() == null)
              {
//                Log.i("Test for Null", ""+dbConnector+" "+nameEt+" "+capEt+" "+timeEt+" "+codeEt+" "+ssidTextView);
                  dbConnector.insertContact(nameEt.getText().toString(),
                          capEt.getText().toString(),
                          timeEt.getCurrentHour().toString() + ":"
                              + timeEt.getCurrentMinute().toString(),
                          codeEt.getText().toString(),   
                          Long.toString(minutes),
                       ssidTextView.getText().toString());

              }
              else
              {
                 dbConnector.updateContact(rowID,
                         nameEt.getText().toString(),
                            capEt.getText().toString(),
                              timeEt.getCurrentHour().toString() + ":"
                                  + timeEt.getCurrentMinute().toString(),
                              codeEt.getText().toString(),
                              Long.toString(minutes),
                              ssidTextView.getText().toString());
              }
           }
} 
```

VIEW COUNTRY.JAVA（时间选择器设置的分钟数据应该是可见的）

```
public class ViewCountry extends NfcBeamWriterActivity {

    private static final String TAG = ViewCountry.class.getName();

    protected Message message;

    NfcAdapter mNfcAdapter;
    private static final int MESSAGE_SENT = 1;
    private long rowID;
    private TextView nameTv;
    private TextView capTv;
    private TextView codeTv;
    private TextView timeTv;
    private TextView ssidTv;
    private TextView combined;
    private TextView minutes;
    //String timetest = "300";

    // String a="\"";
    // String b="\"";

    // String message1 = a + ssidTv.getText().toString() +"," +
    // capTv.getText().toString()+b;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.view_country);

    SharedPreferences prefs=getPreferences(Context.MODE_PRIVATE);
        SharedPreferences.Editor editor=prefs.edit();
        editor.putBoolean("name", true);
        editor.putBoolean("cap", true);
        editor.putBoolean("code", true);
        editor.putBoolean("time", true);
        editor.putBoolean("ssid",true);
        editor.putBoolean("minutes",true);
        editor.putBoolean("timetest",true);
        editor.commit();

        setDetecting(true);
        startPushing();

        setUpViews();
        Bundle extras = getIntent().getExtras();
        rowID = extras.getLong(CountryList.ROW_ID);
    }

    private void setUpViews() {
        nameTv = (TextView) findViewById(R.id.nameText);
        capTv = (TextView) findViewById(R.id.capText);
        timeTv = (TextView) findViewById(R.id.timeEdit);
        codeTv = (TextView) findViewById(R.id.codeText);
        ssidTv = (TextView) findViewById(R.id.wifiSSID);
        minutes = (TextView) findViewById(R.id.Minutes);
    }

    @Override
    protected void onResume() {
        super.onResume();
        new LoadContacts().execute(rowID);
    }

    private class LoadContacts extends AsyncTask<Long, Object, Cursor> {
        DatabaseConnector dbConnector = new DatabaseConnector(ViewCountry.this);

        @Override
        protected Cursor doInBackground(Long... params) {
            dbConnector.open();
            return dbConnector.getOneContact(params[0]);
        }

        @Override
        protected void onPostExecute(Cursor result) {
            super.onPostExecute(result);

            result.moveToFirst();
            int nameIndex = result.getColumnIndex("name");
            int capIndex = result.getColumnIndex("cap");
            int codeIndex = result.getColumnIndex("code");
            int timeIndex = result.getColumnIndex("time");
            int ssidIndex = result.getColumnIndex("ssid");

            nameTv.setText(result.getString(nameIndex));
            capTv.setText(result.getString(capIndex));
            timeTv.setText(result.getString(timeIndex));
            codeTv.setText(result.getString(codeIndex));
            ssidTv.setText(result.getString(ssidIndex));

            result.close();
            dbConnector.close();
        }
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        super.onCreateOptionsMenu(menu);
        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.menu.view_country_menu, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case R.id.editItem:
            Intent addEditContact = new Intent(this, AddEditDevice.class);

            // addEditContact.putExtra(CountryList.ROW_ID, rowID);
            // addEditContact.putExtra("name", nameTv.getText());
            // addEditContact.putExtra("cap", capTv.getText());
            // addEditContact.putExtra("code", codeTv.getText());
            startActivity(addEditContact);
            return true;

        case R.id.user1SettingsSave:
            Intent Tap = new Intent(this, Tap.class);
            startActivity(Tap);
            return true;

        case R.id.deleteItem:
            deleteContact();
            return true;

        default:
            return super.onOptionsItemSelected(item);
        }
    }

    private void deleteContact() {

        AlertDialog.Builder alert = new AlertDialog.Builder(ViewCountry.this);

        alert.setTitle(R.string.confirmTitle);
        alert.setMessage(R.string.confirmMessage);

        alert.setPositiveButton(R.string.delete_btn,
                new DialogInterface.OnClickListener() {
                    public void onClick(DialogInterface dialog, int button) {
                        final DatabaseConnector dbConnector = new DatabaseConnector(
                                ViewCountry.this);

                        AsyncTask<Long, Object, Object> deleteTask = new AsyncTask<Long, Object, Object>() {
                            @Override
                            protected Object doInBackground(Long... params) {
                                dbConnector.deleteContact(params[0]);
                                return null;
                            }

                            @Override
                            protected void onPostExecute(Object result) {
                                finish();
                            }
                        };

                        deleteTask.execute(new Long[] { rowID });
                    }
                });

        alert.setNegativeButton(R.string.cancel_btn, null).show();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:21:36.327

```
dbConnector.insertContact(nameEt.getText().toString(),  
capEt.getText().toString(),  
timeEt.getCurrentHour().toString() + ":" + timeEt.getCurrentMinute().toString(),  
codeEt.getText().toString(),  
minutes,  
Long.toString(minutes),  
ssidTextView.getText().toString()); 
```

您拥有添加联系人的代码，但在您的数据库连接器中，您拥有：

```
public void insertContact(String name,
String cap,
String code, 
String time, 
long minutes, 
String ssid,
String string){ 
```

我认为不匹配，所以这就是为什么不正确插入的原因。顺便说一句，我目前无法发表评论，因为我需要 50 声望。

问候

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-22T11:35:57.410

使用 CREATE TABLE IF NOT EXISTS T/N 那么您的问题将得到解决。

否则它将覆盖当前表，同时所有数据都将丢失。

# asp.net - asp.net 中是否有任何内置事件触发所有 PageLoads？

> ID：16146115
> 
> 赞同：0
> 
> 时间：2013-04-22T11:30:32.643
> 
> 标签：asp.net

完成我的 asp 项目后，我提出了一个新要求。为此，我必须在所有页面加载事件中执行一些代码。我可以获得所有这些页面加载的事件吗？我不能使用 Global.asax 的 Session_start，因为它将包含带有会话状态的 WebHandler。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:34:43.137

您保留一个基本页面并从所有 aspx 页面继承它。通过这种方式，您可以保持逻辑集中。

**例子**

**页面**

```
public partial class MyAspxPage : BasePage
{

} 
```

**基本页面**

```
public class BasePage : Page
{
    protected override void OnLoad(EventArgs e)
    {

    }
} 
```

您还应该将 AutoEventWireup 设置为 false。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:50:24.167

会话开始不合适，因为它只会在用户获得新会话时触发，而不是每次加载页面时触发。

有几个选项，包括使用所有页面都继承自的基本页面。这意味着您需要记住将其连接到所有页面。

我的建议是编写一个 http 模块，该模块会为所有 aspx 页面加载而触发。

您将需要创建一个实现 System.Web.IHttpModule 的模块。

```
using System;
using System.Web;
public class HelloWorldModule : IHttpModule
{
    public HelloWorldModule()
    {
    }

    public String ModuleName
    {
        get { return "HelloWorldModule"; }
    }

    // In the Init function, register for HttpApplication 
    // events by adding your handlers.
    public void Init(HttpApplication application)
    {
        application.BeginRequest += 
            (new EventHandler(this.Application_BeginRequest));
        application.EndRequest += 
            (new EventHandler(this.Application_EndRequest));
    }

    private void Application_BeginRequest(Object source, 
         EventArgs e)
    {
    // Create HttpApplication and HttpContext objects to access
    // request and response properties.
        HttpApplication application = (HttpApplication)source;
        HttpContext context = application.Context;
        string filePath = context.Request.FilePath;
        string fileExtension = 
            VirtualPathUtility.GetExtension(filePath);
        if (fileExtension.Equals(".aspx"))
        {
            context.Response.Write("<h1><font color=red>" +
                "HelloWorldModule: Beginning of Request" +
                "</font></h1><hr>");
        }
    }

    public void Dispose() { }
} 
```

然后按照此处的示例将其连接到 web.config 中。

```
<httpModules>
  <add name="HelloWorldModule" type="HelloWorldModule" />
</httpModules> 
```

您需要检查模块中的 context.Request.Path 属性以排除路径不符合您的条件的任何请求（即不以 aspx 结尾）。

更多信息在这里。 [http://www.4guysfromrolla.com/demos/printPage.aspx?path=/articles/011404-1.aspx](http://www.4guysfromrolla.com/demos/printPage.aspx?path=/articles/011404-1.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:36:16.533

我认为这里最好的解决方案是创建一个实现 PageLoad 的自定义基页面类，然后从中继承所有页面。

就像是：

```
public abstract class BasePage: Page
{
   protected void Page_Load(object sender, EventArgs e) {
      // your code
   }
} 
```

您可以在 web.config 中注册基页类：

```
<system.web>
  <!-- ... -->
    <pages pageBaseType="MyWeb.UI.BasePage" />
  <!-- ... -->
</system.web> 
```

# ios - 如何将 NSMutableArray 存储在 plist 中

> ID：16146116
> 
> 赞同：-2
> 
> 时间：2013-04-22T11:30:39.517
> 
> 标签：ios, objective-c, nsmutablearray, plist

我`NSMutableArray`的名字“add”在自己的名字中`cell`（in `UITableView`）我想把这个“add”存储`NSMutableArray`在`.plist`文件中。

这是“添加”代码：

```
//NSArray *NaMe;
//NSMutableArray *add;
//NSMutableArray *all;
for (int i =0; i<11; i++) {
        NSIndexPath *indexPath = [self.Table indexPathForSelectedRow];
        NaMe = [[all objectAtIndex:(indexPath.row)+i]objectForKey:@"name"];
        if(!add){
            add = [NSMutableArray array];
        }
        [add addObject:NaMe];
    }
    NSLog(@"%@",add); 
```

这个添加显示单元格的名称，我想将此名称存储在 .plist 文件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:32:53.017

我假设您想保存 plist 以保持持久性。

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentsDirectory = paths[0]; 
NSString *filePath = [documentsDirectory stringByAppendingPathComponent:@"Names.plist"];

[add writeToFile:filePath atomically:YES]; 
```

从 plist 回读

```
NSArray *array = [NSArray arrayWithContentsOfFile:filePath]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:38:36.203

```
NSArray*pListpaths =NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,  YES);
NSString*pListdocumentsDirectory = [pListpathsobjectAtIndex:0];
NSString*pListpath = [pListdocumentsDirectory stringByAppendingPathComponent:@"Apps.plist"]; NSFileManager*pListfileMgr = [NSFileManager defaultManager];
     //Create a plist if it doesn't alread exist
if (![pListfileMgrfileExistsAtPath: pListpath])
{
     NSString*bundle = [[NSBundle mainBundle]pathForResource:@"Apps" ofType:@"plist"];
    [pListfileMgrcopyItemAtPath:bundletoPath: pListpatherror:&error]; 
}

 //Write to the plist
NSMutableDictionary*thePList = [[NSMutableDictionary alloc] initWithContentsOfFile: pListpath]; 
[thePList setObject:[NSString stringWithFormat:@"YourContent"] forKey:@"Related Key"];
[thePList writeToFile: pListpathatomically: YES]; 
```

试试这个示例代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:46:31.677

使用此代码

```
#define DOC_DIR [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0]

NSArray *NaMe;
NSMutableArray *add;
NSMutableArray *all;
for (int i =0; i<11; i++) {
    NSIndexPath *indexPath = [self.Table indexPathForSelectedRow];
    NaMe = [[all objectAtIndex:(indexPath.row)+i]objectForKey:@"name"];
    if(!add){
        add = [NSMutableArray array];
    }
    [add addObject:NaMe];
}
NSLog(@"%@",add);
[self writeDataToPlistFromArray:add];

-(void) writeDataToPlistFromArray:(NSArray  *) dataArray
{

    NSMutableDictionary *dic = [NSMutableDictionary dictionaryWithObjectsAndKeys:dataArray,@"Root", nil];
    NSString *path = [DOC_DIR stringByAppendingPathComponent:@"Names.plist"];
    [dic writeToFile:path atomically:YES];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T11:36:41.980

解决方案非常简单。创建一个包含 NSMutableArray 的 NSArray，然后将其写入路径。

```
NSArray *yourArray=[NSArray arrayWithObjects:<#(id), ...#>, nil];

NSArray *yourPath = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, YES);
NSString *libDir = [yourPath objectAtIndex:0];
NSString *loc = [libDir stringByAppendingString:@"/anyfilename.plist"];
[yourArray writeToFile:loc atomically:YES]; 
```

使用以下方法获取您的数组：

```
yourPath = [bundle pathForResource:@"anyfilename" ofType:@"plist"];
yourArray = (yourArray!= nil ? [NSArray arrayWithContentsOfFile:loc] : nil); 
```

# google-app-engine - 如何在 Go 中的 App Engine 上为 OAuth2 使用客户端 ID？

> ID：16146117
> 
> 赞同：1
> 
> 时间：2013-04-22T11:30:44.927
> 
> 标签：google-app-engine, go, google-oauth, google-api-go-client

我在 AppEngine 中运行了一些相当简单的 Go 代码，应该使用 OAuth2 从用户帐户中获取文件列表。似乎可以初始化服务，但是当它尝试获取文件列表时，出现此错误： **OAuthError：RoundTrip：未提供令牌**

```
package foo

import (
    "appengine"
    "appengine/urlfetch"
    "code.google.com/p/goauth2/oauth"
    "code.google.com/p/google-api-go-client/drive/v2"
    "fmt"
    "net/http"
)

var config = &oauth.Config{
    ClientId:     "(redacted).apps.googleusercontent.com",
    ClientSecret: "REDACTED",
    Scope:        "https://www.googleapis.com/auth/drive",
    AuthURL:      "https://accounts.google.com/o/oauth2/auth",
    TokenURL:     "https://accounts.google.com/o/oauth2/token",
}

func init() {
    http.HandleFunc("/", home)
}

func home(w http.ResponseWriter, r *http.Request) {
    c := appengine.NewContext(r)
    transport := &oauth.Transport{
        Config:    config,
        Transport: &urlfetch.Transport{Context: c}}
    svc, err := drive.New(transport.Client())
    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return
    }
    q := svc.Files.List()
    _, err = q.Do()
    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return
    }
    fmt.Fprintf(w, "Success!")
} 
```

我无法弄清楚我在这里做错了什么。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-11T02:38:59.967

这个页面有点旧，但它用 Go 代码很好地概述了这些步骤。 [http://golangtutorials.blogspot.com/2011/11/oauth2-3-legged-authorization-in-go-web.html](http://golangtutorials.blogspot.com/2011/11/oauth2-3-legged-authorization-in-go-web.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T16:50:04.710

The token configuration is not enough; you first have to get a valid access token with the following steps:

1.  Redirect the user to the page returned by [AuthCodeURL](http://godoc.org/code.google.com/p/goauth2/oauth#Config.AuthCodeURL). The user will be shown the name of your application and the requested permissions.

2.  If the user grants the permissions, they will be redirected to the [RedirectURL](http://godoc.org/code.google.com/p/goauth2/oauth#Config) you gave in the configuration. The URL will contain a query parameter named `code`.

3.  Retrieve the `code` parameter and pass it to [Exchange](http://godoc.org/code.google.com/p/goauth2/oauth#Transport.Exchange). If everything went well, the requests should now be authenticated properly.

# c++ - 在没有分支的情况下比较字符是否相等

> ID：16146118
> 
> 赞同：3
> 
> 时间：2013-04-22T11:30:47.670
> 
> 标签：c++, performance, optimization, comparison, branch-prediction

在我想优化此功能的[上一个问题上：](https://stackoverflow.com/q/16145027/819272)

```
static
lvh_distance levenshtein_distance( const std::string & s1, const std::string & s2 )
{
    const size_t len1 = s1.size(), len2 = s2.size();
    std::vector<unsigned int> col( len2+1 ), prevCol( len2+1 );

    const size_t prevColSize = prevCol.size();
    for( unsigned int i = 0; i < prevColSize; i++ )
        prevCol[i] = i;

    for( unsigned int i = 0, j; i < len1; ++i )
    {
        col[0] = i+1;
        const char s1i = s1[i];
        for( j = 0; j < len2; ++j )
        {
            const auto minPrev = 1 + std::min( col[j], prevCol[1 + j] );
            col[j+1] = std::min( minPrev, prevCol[j] + (  s1i == s2[j] ? 0 : 1   ) );

        }
        col.swap( prevCol );
    }
    return prevCol[len2];
} 
```

一位用户评论说我可以替换`s1i == s2[j] ? 0 : 1`为`((s1i - s2[j]) & 0x80) >> 7`以防止条件跳转。这个把戏是错误的，用户删除了他的评论，但我想知道是否真的有办法做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:37:09.573

假设代码

```
s1i == s2[j] ? 0 : 1 
```

确实为您提供了您真正想避免的分支操作，您可以简单地尝试以下操作：

```
!(s1i == s2[j]) 
```

这应该会产生相同的效果，并且可以帮助编译器删除分支。或者，您可以颠倒逻辑并编写

```
s1i != s2[j] 
```

与这种类型的优化一样，永远无法保证这实际上会达到您希望的结果。优化器做了很多聪明的事情，试图预测他们对你的技巧的反应通常很困难。因此，即使在最好的情况下，您所能做的就是尝试不同的解决方案并比较生成的二进制代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T11:41:34.583

为什么不使用以下内容： `!(s1i == s2[j])`或者`(s1i != s2[j])`因为 bool 到 int 的转换是隐式的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:54:52.160

不是一个实际的答案，而是解决一个难题。
创建一个数组`one_or_zero[UCHAR_MAX+1]`，用 1 填充它，`one_or_zero[0] = 0;`
现在你可以做这样的事情，`prevCol[j] + one_or_zero[s1i^s2[j]])`
这将导致 0`s1i==s2[j]`和 1 被添加到`prevCol[j]`

# java - 无法在 java Swing 中创建登录表单

> ID：16146122
> 
> 赞同：0
> 
> 时间：2013-04-22T11:31:10.380
> 
> 标签：java, swing, jpanel, layout-manager

我必须`Login Form`在`Swing`. `JButton` `ActionListner`所以我写了以下代码：

```
private void Balance() throws IOException {
 getContentPane().removeAll();
 JPanel test = new JPanel();
 JLabel singin = new JLabel();
 javax.swing.ImageIcon icon = createImageIcon(
  "https://dl.dropboxusercontent.com/u/20476478/Capture.PNG",
    "a pretty but meaningless splat");
 singin.setIcon(icon);
 test.add(singin);
 getContentPane().add(test);
 repaint();
 printAll(getGraphics());
} 
```

它创建如下 UI：

![样本](https://i.stack.imgur.com/fTXuk.png)

```
But i am looking for this: 
```

![我想要这样](https://i.stack.imgur.com/Moi6S.png)

我尝试了很多，但无法适应上述尺寸。我刚开始学习`Swing`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:42:58.973

您可以使用[FormLayout](http://www.jgoodies.com/freeware/libraries/forms/)。[这](http://www.java2s.com/Code/Java/Swing-Components/FormLayoutDefaultFormBuilderExample1.htm)是一个例子。

# sql - if else 语句连接到登录用户唯一的数据库

> ID：16146129
> 
> 赞同：0
> 
> 时间：2013-04-22T11:31:26.537
> 
> 标签：sql, pdo

我创建了一个类似于学习目的的 twitter 平台，我已经达到了关注和取消关注的部分。

我有两个按钮，关注和取消关注按钮，它们都可以正常工作如果我按下关注它插入会话 ID 和我想关注的用户的 ID。如果我按下取消关注它会删除该行。都好。

我现在已经向按钮添加了广告 if else 语句，因此如果您按下关注按钮，它会变为取消关注，并且通过按下取消关注，它会变回关注。

问题是，由于 if else 的工作取决于该行是否为空，它为每个登录用户返回相同的结果。也许有更好的方法来显示按钮？

这就是我现在所拥有的。

```
 <?php foreach(fetch_users($_GET['uid'])as $user){   

    if(empty($user['follow_id'])){ ?> <form action="" method='POST'>
    <button type="submit" class="follow" name="submit" value="<?php echo $user['id'] ?>"/>FOLLOW</button> 
    </form>

<?php }    else{     ?>
    <form action="" method='POST'>
    <button type="submit" class="follow" name="delete" value="<?php echo $user['id'] ?>"/>UNFOLLOW </button> 
    </form>
    <?php 
    }
    ?>
    </form>

    </div>
    <?php } ?>

function fetch_users($uid){
global $db;
$query = $db->query("SELECT user.id, user.username, user.email, userdetails.profile_img, following.follow_id
FROM user
JOIN userdetails ON user.id = userdetails.user_id
LEFT JOIN following ON user.id = following.follow_id
WHERE user.id != '{$uid}' ");
$user = array();
while(($row = $query->fetch(PDO::FETCH_ASSOC)) !==FALSE) { 
$user[] = $row;

}
return $user;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:38:30.033

```
<?php foreach(fetch_users($_GET['uid']) as $user): ?>
<?php $butt = $user['follow_id'] ? 'UNFOLLOW' : 'FOLLOW'; ?>
<form method='POST'>
  <button type="submit" class="follow" name="<?=$butt?>" value="<?=$user['id']?>">
    <?=$butt?>
  </button> 
</form>
<?php endforeach ?>
<?
function fetch_users($uid){
    global $db;

    $query = "SELECT user.id, username, email, profile_img, follow_id
              FROM user
              JOIN userdetails ON user.id = userdetails.user_id
              LEFT JOIN following ON user.id = following.follow_id
              WHERE user.id != ?";
    $stm = $db->prepare($query);
    $stm->execute(array($uid));
    return $stm->fetchAll();
} 
```

# php - MySQL 选择其中编号 IN 列

> ID：16146130
> 
> 赞同：0
> 
> 时间：2013-04-22T11:31:27.413
> 
> 标签：php, mysql

我需要这样的东西：

```
SELECT * FROM `table` WHERE '123' IN (`column`) 
```

在“列”（varchar 255 字段）中有一些数字，如 1、50、145、123、58、

我不知道更好地解释，但我想你明白我需要什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T11:33:56.060

```
SELECT * FROM table WHERE FIND_IN_SET('123', column); 
```

见[http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:36:07.150

尝试[find_in_set](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set)

`SELECT * FROM table WHERE find_in_set('123',column)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:33:24.967

```
SELECT * FROM table WHERE column LIKE '%123%'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T11:33:36.920

尝试这个：

```
SELECT * FROM table WHERE column IN ('123'); 
```

# matlab - movie2avi 产生 45 度角的轴

> ID：16146134
> 
> 赞同：1
> 
> 时间：2013-04-22T11:31:36.480
> 
> 标签：matlab

我用 M(i) = getframe; 在我的循环中捕捉我身材的每一帧，并且运行电影（M）完美无缺。

但后来我尝试了

```
movie2avi(M, 'excav_sim.avi', 'compression', 'None'); 
```

而不是直接显示我的轴，它们有一个 45 度角的轴，其他所有东西都相应地倾斜。我能做什么（任何电影选项都可以，但到目前为止在线资源没有帮助）。

# php - PHP SQL 准备语句：对成员函数的致命错误调用

> ID：16146137
> 
> 赞同：1
> 
> 时间：2013-04-22T11:32:06.113
> 
> 标签：php, sql, prepared-statement

我一直在尝试使准备好的语句正常工作-但是，我一直遇到以下错误

```
<b>Fatal error</b>:  Call to a member function bindParam() on a non-object on line <b>41</b><br /> 
```

我已经复制了很多教程，甚至提供的代码也不起作用并抛出了同样的错误。

我的代码如下：

```
$mysqli = new mysqli(connect, username,pass, datatbase);
$name = 'Tester';
if (mysqli_connect_errno()) {
    echo "Can't connect to MySQL Server. Errorcode: %s\n", mysqli_connect_error();
   }
      $stmt = $mysqli->prepare("INSERT INTO Parks VALUES (null,?,?,?,?,?,?,?,?,?,?,?,?,?,Now(),?,?,?, 0, 0, 0)");
  if ($stmt === FALSE) {
      die ("Mysql Error: " . $mysqli->error);
}
    $stmt->bind_param('ssssssssssssssss', $name, $theme, $size, $mountains, $hills, $river, $lake, $island, $setofislands, $ocean, $waterfalls, $file, $image, $description, $author,$cs);

$stmt->execute();
$stmt->close();
$mysqli->close(); 
```

这是导致错误的 BindParam 行。

提前致谢 ：）

编辑：错误已解决，但是，没有数据被插入到数据库中。编辑：更新的查询，数据库包含 VARCHAR，但描述除外，它是 LONGTEXT。最后 3 个是整数/双精度数，并且有一个当前日期字段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:34:11.480

`bindParam`是 PDO 函数。您正在使用 mysqli，所以请尝试`bind_param`。你有'name'的地方也应该是类型定义，所以你需要's'作为字符串。

例如：

`$stmt->bind_param('s', $name);`

编辑：虽然这么说，但错误并没有说功能不正确。它说该对象不存在......运行它可以为您提供有关准备失败原因的信息。

```
$stmt = $mysqli->prepare("INSERT INTO 'Parks' VALUES(null, ?");

if ($stmt === FALSE) {
    die ("Mysql Error: " . $mysqli->error);
} 
```

由于 SQL 不正确，准​​备工作很可能失败（我的猜测是表名“Parks”不应该在 qutoes 中）

编辑2：我的猜测仍然无法正常工作是：

`$stmt->bindParam('name', $name);`

你有'name'的地方实际上应该是变量类型，如整数、双精度、字符串等。这样数据库就知道你的变量是什么了。

尝试将该行替换为：

`$stmt->bindParam('s', $name);`

# report - 哪些报表服务可以使用 Odata 作为数据源？

> ID：16146138
> 
> 赞同：2
> 
> 时间：2013-04-22T11:32:12.943
> 
> 标签：report, reporting, datasource, odata

我开发了一个 OData API，其中包含我们用户收集的数据。其中一些用户希望通过一些第 3 方报告包根据这些数据创建自己的报告。我注意到 Telerik Reports 可以访问 Odata API。

所以我的问题是：是否还有其他报告包也可以做到这一点？也许甚至是一些免费的解决方案？

谢谢，

阿德里安

# mysql - 更改特定表列中的值

> ID：16146141
> 
> 赞同：0
> 
> 时间：2013-04-22T11:32:24.270
> 
> 标签：mysql

我需要编辑数据库中某些表中特定列的值。

*解释*：
我需要获取我的数据库中匹配“table_00”[00 是任意数字] 的所有表。
在这些表中，我需要找到任何具有`product_name`as 的行`ice cream`。
如果该`product_description`行不包含该单词`cold`，我需要将其添加到已经存在的值中

如何在管理员的 sql 命令中执行此操作？
谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:46:55.400

尝试更新查询

```
<?php

function update($table)
  {
    $qry="UPDATE ".$table." SET product_description=concat(product_description, 'freezing cold') WHERE product_name='ice cream' AND product_description NOT LIKE '%cold%' ";
    mysql_query($qry) or die(mysql_error()."<br>".$qry);
  }
?> 
```

并使用传递表名作为参数调用此函数

# c# - C# Visual Studio 2008 - SQLite 更新循环

> ID：16146149
> 
> 赞同：0
> 
> 时间：2013-04-22T11:32:47.583
> 
> 标签：c#, sqlite

我正在使用 C# 并且对 SQLite 很陌生。

我需要通过将记录字段“Value1”除以特定用户和日期范围的给定分母来更新记录字段（第一个记录日期到特定日期，例如 2012-03-01）。

所以我需要遍历数据集，如果 User=John 和 Date <= than 2012-03-01 然后将 Value1 除以 10

这显然不能单独在 SQL 中完成，因为我需要知道 Value1 是什么，以便我可以对其进行划分。我该怎么做呢？

下面是我需要修改哪些数据的示例

```
User | Date        | Value1 | Value2 | Value3
----------------------------------------------
John | 2012-01-01  |  *50   |  5     |  80
John | 2012-02-01  |  *100  |  78    |  60 
John | 2012-03-01  |  *10   |  100   |  5
John | 2012-04-01  |  5     |  89    |  55
John | 2012-05-01  |  15    |  50    |  44
Max  | 2012-01-01  |  40    |  25    |  90
Max  | 2012-02-01  |  99    |  79    |  30 
Max  | 2012-03-01  |  100   |  110   |  59
Max  | 2012-04-01  |  25    |  29    |  85
Max  | 2012-05-01  |  15    |  30    |  88 
```

修改后的数据除以 10

```
User | Date        | Value1 | Value2 | Value3
----------------------------------------------
John | 2012-01-01  |  *5    |  5     |  80
John | 2012-02-01  |  *10   |  78    |  60 
John | 2012-03-01  |  *1    |  100   |  5
John | 2012-04-01  |  5     |  89    |  55
John | 2012-05-01  |  15    |  50    |  44
Max  | 2012-01-01  |  40    |  25    |  90
Max  | 2012-02-01  |  99    |  79    |  30 
Max  | 2012-03-01  |  100   |  110   |  59
Max  | 2012-04-01  |  25    |  29    |  85
Max  | 2012-05-01  |  15    |  30    |  88 
```

如果 Value1 是常量，那么我可以使用下面的代码。但它不是，它会将 2012-01-01 更新为 2012-03-01 Value1 都将是 5。

```
Value1 = 50
Val = Value1 / 10

sql_cmd = sql_con.CreateCommand();
sql_cmd.CommandText = "UPDATE Tablename SET Value1= '"+Val+"' WHERE User = 'John' and Date <= '2012-03-01'";
sql_cmd.ExecuteNonQuery(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:50:30.407

您确实需要复习您的 SQL 语法，但通常，如果您想在`UPDATE`语句的当前行中使用文件，您可以将等式（或字符串函数或任何合适的）放入`UPDATE`语句本身。

因此，对于您的示例，将`Value1`特定行（或一组行）除以 10：

```
UPDATE Tablename SET Value1 = Value1/10 WHERE User = 'John' and Date <= '2012-03-01' 
```

从您上面的最新评论中，如果您需要其他条件来选择不同的行，请将它们放在`WHERE`子句中：

```
UPDATE Tablename SET Value1 = 1 WHERE User = 'John' and Date <= '2012-03-01' and Value1 = 10 
```

所以，也许做一些关于 SQL 语法的阅读（这是一个很大的主题），然后重新发布任何关于语法的具体问题。

# php - $_POST 与 klein.php 路由器：如何将 $_POST 传递给视图？

> ID：16146150
> 
> 赞同：2
> 
> 时间：2013-04-22T11:32:48.020
> 
> 标签：php, forms, routes, url-routing, klein-mvc

在未知的水域钓鱼，我给了[klein.php](https://github.com/chriso/klein.php)路由一个旋转，我一生都无法找到如何将 $_POST 从 html 表单传递到另一个视图。

**例子：**

**索引.php**

```
<?php
//START ROUTING
require 'klein.php';
require 'autoload.php';

respond('/', function ($request, $response) {
    $response->render('homepage.php', array(
        'meta_title' => 'My Homepage'
    ));
});
respond('/[:name]', function ($request, $response) {
    $response->render('siteinfo.php', array(
        'meta_title' => 'My Details Page'
        ));
}); 
```

现在，我在**homepage.php**上有一个表单，我在其中执行以下操作：

```
<form method="post">
    <input type="text" name="url">
    <button type="submit">Submit</button>
</form> 
```

siteinfo.php 抓取 url 之后传递的任何内容（即 example.com/product123 -> product123）并在视图“siteinfo.php”中显示有关该信息的信息。到目前为止，如果在地址栏中手动输入上述代码，这可以完美地工作，因为我可以在 siteinfo.php 上以 $request->name 的形式访问 [:name]。

每当我在表单上触发搜索时，我想将 $_POST 从 homepage.php 视图传递给 index.php 作为 [:name] 没有 $_GET！知道这如何与 klein.php 一起工作，或者我应该从哪里开始寻找答案？

我也尝试过传递 param() 值，但这仍然不适用于表单。我也尝试添加 action=index.php/siteinfo.php/homepage.php 作为表单的操作，但仍然没有爱......

任何帮助都非常感激......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-23T11:05:49.257

这将是一个很好的起点。你试过什么了？

```
respond('POST', '/', function ($request, $response) {

    $request->validate('url')->notNull();

    $response->url= $request->url;

    $response->render('homepage.php');
}); 
```

# python - 查找一串单词的索引号

> ID：16146152
> 
> 赞同：2
> 
> 时间：2013-04-22T11:32:50.417
> 
> 标签：python, indexing

我正在用python创建一个程序，它将遍历句子列表并在句子中找到大写的单词。我现在使用 findall 函数来获取首都。

这是我现在收到的输出示例：

```
line 0: the dog_SUBJ bit_VERB the cat_OBJ
['S'] ['U'] ['B'] ['J'] [] ['V'] ['E'] ['R'] ['B'] [] ['O'] ['B'] ['J'] 
```

但是，我希望输出是完整的单词，如下所示：

```
['SUBJ'] [] ['VERB'] [] ['OBJ'] 
```

我也想要单词的索引：

```
['SUBJ'] [0]
['VERB'] [1]
['OBJ'] [2] 
```

是否有可能做到这一点？我之前在终端上看到过上述操作，我认为使用了“索引”或类似的东西？

下面是我的代码（据我所知）：

```
import re, sys
f = open('findallEX.txt', 'r')
lines = f.readlines()
ii=0
for l in lines:
    sys.stdout.write('line %s: %s' %(ii, l))
    ii = ii + 1
    results = []
    for s in l:
        results.append(re.findall('[A-Z]+', s)) 
```

谢谢！任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:36:25.463

就像是：

```
>>> s = 'the dog_SUBJ bit_VERB the cat_OBJ'
>>> import re
>>> from itertools import count
>>> zip(re.findall('[A-Z]+', s), count())
[('SUBJ', 0), ('VERB', 1), ('OBJ', 2)] 
```

适当的格式...

# xml - XML - 具有属性和子元素序列的模式元素

> ID：16146153
> 
> 赞同：0
> 
> 时间：2013-04-22T11:32:50.553
> 
> 标签：xml, xsd

我有一个如下的 XML 模式：

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           elementFormDefault="qualified">

    <xs:element name="labels">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="label"  minOccurs="1" maxOccurs="unbounded">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="language"  minOccurs="1" maxOccurs="unbounded">
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="value" type="xs:string" />
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                    </xs:complexType>
                </xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>    

</xs:schema> 
```

`<labels>`可以有很多`<label>`元素，一个`<label>`元素可以有很多`<language>`元素。现在我需要的是让我的`<label>`元素具有一个称为“标识符”的唯一属性。

我想要一个这样的 XML 结构：

```
<?xml version="1.0" encoding="UTF-8"?>

<labels
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
    xsi:noNamespaceSchemaLocation='labels.xsd'>

    <label identifier="class_contact">
        <language value="english">Contacts</language>
        <language value="afrikaans">Kontakte</language>
    </label>

</labels> 
```

好的，我把它改成了这个，现在它允许标识符属性，但它不强制它是唯一的。

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           elementFormDefault="qualified">

    <xs:element name="labels">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="label" maxOccurs="unbounded">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="language"  minOccurs="1" maxOccurs="unbounded">
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="value" type="xs:string" />
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="identifier" type="xs:string" />
                    </xs:complexType>
                    <xs:unique name="UniqueLabelLanguage">
                        <xs:selector xpath="language" /> 
                        <xs:field xpath="@value" /> 
                    </xs:unique>
                    <xs:unique name="UniqueLabelIdentifier">
                        <xs:selector xpath="label" /> 
                        <xs:field xpath="@identifier" /> 
                    </xs:unique>
                </xs:element>
            </xs:sequence>
        </xs:complexType>
    </xs:element>    

</xs:schema> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:06:48.607

```
<?xml version="1.0" encoding="ISO-8859-1"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           elementFormDefault="qualified">

    <xs:element name="labels">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="label" maxOccurs="unbounded">
                    <xs:complexType>
                        <xs:sequence>
                            <xs:element name="language"  minOccurs="1" maxOccurs="unbounded">
                                <xs:complexType>
                                    <xs:simpleContent>
                                        <xs:extension base="xs:string">
                                            <xs:attribute name="value" type="xs:string" />
                                        </xs:extension>
                                    </xs:simpleContent>
                                </xs:complexType>
                            </xs:element>
                        </xs:sequence>
                        <xs:attribute name="identifier" type="xs:string" />
                    </xs:complexType>
                    <xs:unique name="UniqueLabelLanguage">
                        <xs:selector xpath="language" /> 
                        <xs:field xpath="@value" /> 
                    </xs:unique>
                </xs:element>
            </xs:sequence>
        </xs:complexType>
        <xs:unique name="UniqueLabelIdentifier">
            <xs:selector xpath="label" /> 
            <xs:field xpath="@identifier" /> 
        </xs:unique>
    </xs:element>    

</xs:schema> 
```

# c# - SA1125：为什么要强制执行“int”？与“可空 " 但不在 "typeof()" 内？

> ID：16146157
> 
> 赞同：6
> 
> 时间：2013-04-22T11:33:04.533
> 
> 标签：c#, stylecop

[SA1125](http://www.stylecop.com/docs/SA1125.html)：UseShorthandForNullableTypes 有这个描述（取自 StyleCop 4.7 设置编辑器应用程序）：

> 强制使用可空类型的简写，而不是 a 中的`Nullable<T>`except `typeof()`。

它有`typeof()`声明例外的原因吗？`typeof(int?)`编译一样好 - 这只是 StyleCop 作者的偏好还是有更深层次的推理？

**编辑**：由于官方文档没有提到这个异常，我测试了以下代码：

```
var x = new Nullable<int>();
var y = new int?();
var z = typeof(Nullable<int>);
var v = typeof(int?); 
```

结果：只有第一行引发 SA1125 警告。

**编辑 2**：[StyleCop 的工作项要求修复此行为](https://stylecop.codeplex.com/workitem/7524)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:52:03.137

虽然我实际上并不知道原因（因为我不是此规则的开发者），但我怀疑它的设计方式是不会针对以下特定用法生成警告`typeof`：

```
typeof(Nullable<>) 
```

话虽如此，如果这是实际的官方原因，他们可以硬编码此特定用法的异常，而不是为`typeof(Nullable<X>)`.

请注意，所有这些都只是*假设*。

* * *

编辑来自[Stylecop 的源代码](http://stylecop.codeplex.com/SourceControl/changeset/view/249eed5b15ed#Project/Src/AddIns/CSharp/Analyzers/ReadabilityRules.cs)：

```
// Check the declaration of the generic type for longhand, but allow Nullable<> which has no shorthand 
```

因此，据我了解，基本上是搜索速记泛型类型，并处理`Nullable<>`它们允许的特殊情况，因为**没有可用的速记**。AFAIK，`Nullable<>`仅在 的上下文中才有意义`typeof()`，所以我猜他们为这种情况做了例外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:43:48.530

我的观点是，这至多是一个错误，至少是一个错过的行为。代码指出：

```
// Check the declaration of the generic type for longhand, but allow Nullable<> which has no shorthand
if (genericType.ChildTokens.Count > 0 && Utils.TokenContainNullable(genericType.ChildTokens.First))
{
    if (genericType.Parent == null || !(genericType.Parent is TypeofExpression))
    { 
```

看起来它正在尝试`Nullable<>`支持`typeof(Nullable<>)`. 但是，检查无意中会无缘无故`TypeofExpression`地过滤掉*封闭的泛型。*

寻找`CheckShorthandForNullableTypes`：

[http://stylecop.codeplex.com/SourceControl/changeset/view/249eed5b15ed#Project/Src/AddIns/CSharp/Analyzers/ReadabilityRules.cs](http://stylecop.codeplex.com/SourceControl/changeset/view/249eed5b15ed#Project/Src/AddIns/CSharp/Analyzers/ReadabilityRules.cs)

# php - PHP mailer 发送简单的联系表格

> ID：16146159
> 
> 赞同：1
> 
> 时间：2013-04-22T11:33:05.150
> 
> 标签：php, html, forms, email, mailer

我一直在尝试将 mail() 函数与 PHP 一起使用，但在测试联系表单时似乎无法将消息发送到我的电子邮件地址。它只是进入一个白屏，没有进一步......它甚至没有在下面显示成功消息。

这是PHP：

```
<?php 
if(isset($_POST['submit'])) {
$name = $_POST['name'];
$address = $_POST['address'];
$number = $_POST['number'];
$email = $_POST['email'];
$message = $_POST['message'];
$subject = 'Message from Reef website';
$to = 'myemail@hotmail.co.uk';

if (empty($name) || empty($address) || empty($number) || empty($email) || empty($subject) || empty($message)) {
    if (empty($name))
        $error['name'] = "Please enter your Full Name";
    if (empty($name))
        $error['address'] = "Please enter your address";
    if (empty($name))
        $error['number'] = "Please enter a contact number";
    if (empty($email))
        $error['email'] = "Please enter a valid Email Address";
    if (empty($message))
        $error['message'] = "Please write a message, enquiries or other concerns above";
}
else { //if not empty

    $headers="From: {$email}\r\nReply-To: {$email}";
    mail($to,$subject,$message,$headers);
    $success = "Thank you! You're email has been sent.";
}
}
?> 
```

这是我的 HTML 表单：

```
<form method="POST" action="mailer.php">
    <table border="1">
            <tr>
    <td><label for="name" class="g">Name</label></td>
    <td><input id="name" name="name" type="text" required autofocus></td>
    </tr>

    <tr>
    <td><label for="address" class="g">Address</label></td>
    <td><textarea rows="3" id="address" name="address" cols="50"></textarea></td>
    </tr>

    <tr>
    <td><label for="number" class="g">Contact number</label></td>
    <td><input id="number" name="text" type="text" required autofocus></td>
    </tr>

     <tr>
      <td><label for="email" class="g">Email</label></td>
      <td><input id="email" name="email" type="text" placeholder="example@domain.com" required autofocus></td>
      </tr>

      <tr>
      <td><label for="message" class="g">Enquiry</label></td>
      <td><textarea rows="3" id="message" name="message" cols="50"></textarea></td>
      </tr>
      </table>
      <input type="submit" value="Submit" name="submit">
</form> 
```

任何人都可以看到缺少什么吗？看看其他类似的问题，都和我的一样，但他们说他们有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:38:23.153

```
if (empty($name))
    $error['name'] = "Please enter your Full Name";
if (empty($name))
    $error['address'] = "Please enter your address";
if (empty($name))
    $error['number'] = "Please enter a contact number"; 
```

您`$name`在每个`if`语句中都使用。用相应的变量改变它。

**和**

改变 `<input id="number" name="text" type="text" required autofocus>`

至`<input id="number" name="number" type="text" required autofocus>`

我想你明白了。您正在检查始终`empty($number)`为的父语句，并且由于错误的变量 ( ) ，您没有收到任何消息。`if``true``$name`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:39:54.127

它进入空白页面的原因是 PHP 页面是空白的！您似乎没有在页面上的任何地方呼应您的成功信息。

我建议更改您的表单，以便 HTML 如下所示：

```
<form method="POST"> 
```

然后将 PHP 粘贴到该页面的顶部。请记住将页面类型设置为 .php 而不是 .html/.htm

最后在表单顶部添加一个回显，以便显示成功消息，如下所示

```
<?php
    if ($success) {
        echo $success;
    }
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:41:22.340

改变

```
mail($to,$subject,$message,$headers); 
```

至

```
if(mail($to,$subject,$message,$headers))
{
  echo "mail has been sent";
}
else
{
 echo "error during sending mail";
} 
```

也改变你的 ifs 因为你只检查一个变量

```
if (empty($name)) 
```

总是 $name

放入您的第一行进行调试：

```
error_reporting(E_ALL); 
```

你为什么使用“id”对你来说有必要吗？

```
<input id="name" name="name" type="text" required autofocus> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T11:37:50.127

你有一个问题

您正在尝试访问这样的数字值

```
$number = $_POST['number']; 
```

但在您的表单中它是 name="text"

```
<input id="number" name="text" type="text" required autofocus> 
```

所以将表单字段更改为此

```
<input id="number" name="number" type="text" required autofocus> 
```

这导致您的验证失败。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T11:38:45.023

我认为，您没有在 php.ini 中设置 SMTP 数据如果可以，请使用其他库发送邮件，例如[https://github.com/Synchro/PHPMailer](https://github.com/Synchro/PHPMailer)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-22T11:37:41.063

您的 php.ini 文件中的 SMTP 服务器设置是什么？您需要运行 SMTP 服务器来发送邮件。

一个更简单的解决方案是使用[PHPMailer](https://github.com/Synchro/PHPMailer)。

# ios - UIRefreshControl 属性标题多行

> ID：16146160
> 
> 赞同：4
> 
> 时间：2013-04-22T11:33:08.607
> 
> 标签：ios, objective-c, uirefreshcontrol

是否可以在`UIRefreshControl`标题中使用多行？每当我将 \n 添加到`NSAttributedString`唯一的第一行时，都会显示。我正在尝试设置标题，并在下一行设置更多文本。那么是否有一种解决方法可以在 中使用两行文本`UIRefreshControl`？

这是仅显示“Title Here”的当前代码：

```
self.refreshControl = [[UIRefreshControl alloc] init];

NSString *title = @"Title Here";
NSString *subText = @"Subtext Here";
NSMutableAttributedString *attString=[[NSMutableAttributedString alloc] initWithString:[NSString stringWithFormat:@"%@\n%@",title,subText]];

[attString addAttribute:NSFontAttributeName value:[UIFont fontWithName:@"Helvetica" size:20.0f] range:NSMakeRange(0, [title length])];
[attString addAttribute:NSFontAttributeName value:[UIFont fontWithName:@"Helvetica" size:14.0f] range:NSMakeRange([title length],[subText length])];

[attString addAttribute:NSForegroundColorAttributeName value:[UIColor blackColor] range:NSMakeRange(0, [title length])];
[attString addAttribute:NSForegroundColorAttributeName value:[UIColor lightGrayColor] range:NSMakeRange([title length], [subText length])];

self.refreshControl.attributedTitle = attString; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-11-12T14:02:45.990

这是一个***棘手***的方法：在 UIRefreshControl 中找到 UILabel 并设置 numberOfLines = 0。

```
UILabel *titleLabel = [[[[self.refreshControl subviews] firstObject] subviews] lastObject];
if (titleLabel) {
    titleLabel.numberOfLines = 0;

    NSString title = @"Pull to Refresh.\nUpdated Time: 09:30"; // \n for new line.
    self.refreshControl.attributedTitle = [[NSAttributedString alloc] initWithString:title];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:07:50.253

这段代码可以工作

```
NSString *title = @"Title Here";
NSString *subText = @"Subtext Here";

NSMutableAttributedString *titleAttString =  [[NSMutableAttributedString alloc] initWithString:title];
NSMutableAttributedString *subTitleAttString =  [[NSMutableAttributedString alloc] initWithString:subText];

[titleAttString addAttribute:NSFontAttributeName value:[UIFont fontWithName:@"Helvetica" size:20.0f] range:NSMakeRange(0, [title length])];
[subTitleAttString addAttribute:NSFontAttributeName value:[UIFont fontWithName:@"Helvetica" size:14.0f] range:NSMakeRange(0,[subTitle length])];

[titleAttString addAttribute:NSForegroundColorAttributeName value:[UIColor blackColor] range:NSMakeRange(0, [title length])];
[subTitleAttString addAttribute:NSForegroundColorAttributeName value:[UIColor lightGrayColor] range:NSMakeRange(0, [subTitle length])];

[titleAttString appendAttributedString:subTitleAttString];

self.refreshControl.attributedTitle = titleAttString; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-07T04:21:50.197

诀窍是将刷新控制器的 UILable 属性更改为零。hack 是我们必须通过子视图和子视图找到标签，如下所示。

这是一个斯威夫特版本

```
 if let refreshLabel = refreshControl?.subviews.first?.subviews.last as? UILabel {
            refreshLabel.numberOfLines = 0
    } 
```

所以这是完整的代码示例

```
private var marketRefreshController = UIRefreshControl()
private var lastUpdatedDate = Date()

override func viewDidLoad() {
    super.viewDidLoad()
    tableView.refreshControl = marketRefreshController
    if let refreshLabel = refreshControl?.subviews.first?.subviews.last as? UILabel {
        refreshLabel.numberOfLines = 0
    }
    marketRefreshController.addTarget(self, action: #selector(refreshMarketData), for: .valueChanged)
    marketRefreshController.tintColor = UIColor.blue
    let textAttributes = [NSAttributedString.Key.font: UIFont.appSubTitle,
                          NSAttributedString.Key.foregroundColor: UIColor.blue]
    let timeSinceLastUpdate = lastUpdatedDate.timeAgoSinceNow // Date Sting Converter Helper Method
    let displayString = "Fetching Market Data ... \n Last Updated: \(timeSinceLastUpdate)"
    marketRefreshController.attributedTitle = NSAttributedString(string: displayString,
                                                                 attributes: textAttributes)
    tableView.addSubview(marketRefreshController)
} 
```

预期的输出应该是 - [![在 tableview 控制器上使用多行文本刷新控件](https://i.stack.imgur.com/g3ZC8.png)](https://i.stack.imgur.com/g3ZC8.png)

# javascript - 基于背景图像的文本反转

> ID：16146167
> 
> 赞同：8
> 
> 时间：2013-04-22T11:33:37.853
> 
> 标签：javascript, html, css

是否有可能仅使用 CSS/CSS3 或 javascript 获得类似的东西？但没有文字图像。

![在此处输入图像描述](https://i.stack.imgur.com/SU9v3.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T18:24:57.500

With limited support from old browsers, you can achieve this with text clipping:

for this html:

```
<div class="filter">
<div class="base">SOME TEXT</div>
</div> 
```

with that CSS:

```
.filter {
    width: 250px;
    height: 250px;
    background: -webkit-linear-gradient(-45deg, black 0%,black 50%,white 51%,white 100%);
}
.base {
    width: 100%;
    height: 100%;
    font-size: 80px;
    background: -webkit-linear-gradient(-45deg, white 0%,white 50%,black 51%,black 100%);
    -webkit-background-clip: text;
    color: transparent;
} 
```

You will get the background from the base (that has the inverted colors of the first div) to show only thru the text.

[webkit demo](http://jsfiddle.net/AEbmK/)

**Editing**

Have found that it can be done in a single element. The style would be:

```
.base {
    width: 100%;
    height: 100%;
    font-size: 80px;
    background: -webkit-linear-gradient(-45deg, white 0%,white 50%,black 51%,black 100%), -webkit-linear-gradient(-45deg, black 0%,black 50%,white 51%,white 100%);
    -webkit-background-clip: text, border;
    color: transparent;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T11:42:28.720

要在 CSS 中实现这一点，您需要使用渐变。一个用于背景，一个用于文本，渐变将是恒定的。看到这个来生成它们： http: [//www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)来产生这个：

```
 background: #000000; /* Old browsers */
background: -moz-linear-gradient(-45deg,  #000000 0%, #000000 50%, #ffffff 51%, #ffffff 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,#000000), color-stop(50%,#000000), color-stop(51%,#ffffff), color-stop(100%,#ffffff)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(-45deg,  #000000 0%,#000000 50%,#ffffff 51%,#ffffff 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(-45deg,  #000000 0%,#000000 50%,#ffffff 51%,#ffffff 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(-45deg,  #000000 0%,#000000 50%,#ffffff 51%,#ffffff 100%); /* IE10+ */
background: linear-gradient(135deg,  #000000 0%,#000000 50%,#ffffff 51%,#ffffff 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#000000', endColorstr='#ffffff',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */ 
```

您仍然面临的主要问题是无法“检测”背景图像以使文本颜色相反。

**如果您想检测背景，您可以查看 webkit -webkit-background-composite ，它具有 XOR 和 plus-darker 和 plus-lighter 的复合效果**

希望这可以帮助。

# delphi - Dephi / Pascal 语法（SAM Broadcaster PAL 脚本） - 如何使用毫秒对象创建时间戳？

> ID：16146168
> 
> 赞同：-1
> 
> 时间：2013-04-22T11:33:47.387
> 
> 标签：delphi, pascal

我是菜鸟，所以请不要以为我知道很多。如果我使用了不正确的术语，请随时告诉我。

我在 SAM 广播器、无线电自动化软件的 PAL 脚本（基于 Pascal / Delphi）中有一个函数。

该函数返回与音乐文件相关的数据库记录中提示点 1 的时间（以毫秒为单位）。

我希望在我的脚本主体中调用这个函数的输出，因为你可能是一个变量。但它需要表示为 hh:mm:ss 时间戳。

这是函数，它的输出可能为 20000，持续 20 秒。

```
var CP : Integer = 0;

function ExtractCP(Song : TSongInfo):Integer;
var
P : Integer;
XFade : String;
begin
Result := -1;
XFade := Trim(Song['xfade']);

WriteLn('Decoding XFade string');
WriteLn('XFade: '+XFade);

if XFade = '' then
  Result := -1
else
  begin
   P := Pos('ct0=',XFade);  {Where 0 is the Custom Cue Point Number}
   if (P > 0) then
    begin
     Delete(XFade,1,P+2);
     P := Pos('&',XFade);
     if (P>0) then
      Delete(XFade,P,Length(XFade));

     Result := StrToIntDef(XFade,-1);

     WriteLn('CP time detected: '+XFade);
    end;
  end;
end; 
```

这是实现组件。

```
 while (Song['songtype']='S') and (not Skip) do
        begin   
         VAR DT : DateTime;
         VAR frac : Float;
         VAR hours, minutes, seconds, milliseconds : Integer;
         hours := 24;
         minutes := 60;
         seconds := 60;
         milliseconds := 1000;

     // 1 millisecond as fractional part of a day
     frac := 1.0 / hours / minutes / seconds / milliseconds;
     frac := frac * cp;

     dt := Now + DateTime (frac); {Wait for Cue Point 0}
     WriteLn(DateTimeToStr(dt));
     PAL.WaitForTime(DT);
     Skip := True;
    end; 
```

我想我的问题很简单。

未导入计算变量“cp”，如何正确调用该行中的函数结果...

```
 frac := frac * cp; 
```

我在这里得到了帮助（对于完整的背景，包括时间戳计算方法和整个脚本）......

[http://support.spacialaudio.com/forums/viewtopic.php?f=23&t=40795&start=15](http://support.spacialaudio.com/forums/viewtopic.php?f=23&t=40795&start=15)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T13:15:39.627

假设 XFade 包含像 'ABC ct0=1234&' 这样的字符串，
`Delete(XFade,1,P+2);`将提供 '=1234&'

```
P := Pos('&',XFade);
     if (P>0) then
      Delete(XFade,P,Length(XFade)); 
```

将提供无法转换为整数的 '=1234'
所以至少你必须更改`Delete(XFade,1,P+2);`为`Delete(XFade,1,P+3);`

dt 的生成可以缩短为

```
{ if not defined
Const
  MSecsPerDay= 24*60*60*1000;
}
cp := ExtractCP(Song);
if cp>-1 then
   begin
     dt := Now + CP / MSecsPerDay;
     .....
   end; 
```

# ios - 在 iOS 上实现机器学习算法

> ID：16146170
> 
> 赞同：3
> 
> 时间：2013-04-22T11:33:54.563
> 
> 标签：ios, objective-c, ipad, machine-learning

我想在 iOS 上尝试机器学习算法——首先是线性回归。有人建议我在 PC 上使用八度音阶，这会使矩阵运算之类的事情变得更容易。我想知道是否可以为 iOS 找到一个库来执行这些操作。

欢迎任何建议。

谢谢。

编辑：

听起来不模糊，考虑解决一个线性回归问题，这将涉及计算矩阵的转置，矩阵的逆。如果我有一个带有 API 的库，我会很高兴。openCV 确实有它，但使用它会完全脱离上下文。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:01:00.020

我不确定您对 API 的确切要求。但它猜测可以在 IOS 上使用 OpenCV 并进行各种处理。有关更多信息，请查看此链接。

[http://docs.opencv.org/doc/tutorials/ios/image_manipulation/image_manipulation.html](http://docs.opencv.org/doc/tutorials/ios/image_manipulation/image_manipulation.html)

一旦你有了 Mat 格式的图像，我认为你可以进行很多操作。也是你列出的那个。

# javascript - 如何在 Javascript-App 中引用 SQLite SIMPLE 方式只需使用“DB_open，执行 SQL ..”VS2012

> ID：16146172
> 
> 赞同：0
> 
> 时间：2013-04-22T11:33:57.857
> 
> 标签：javascript, sqlite, visual-studio-2012, transactions

我想用 SQLite（VS2012）编写一个应用程序（JS）。所以我找不到一个简单的初学者指南。当我安装*SQLite for Windows Runtime 时*。有一个 C++ 代码 (GitHub) 可以插入到 Projekt 中。那么，JS - Projekt 会发生什么？JS如何引用DB-Objekt（dll，ocx，SQLite-Runtime中的任何内容）的属性和方法只是为了以简单的方式打开DB，执行SQL等？

在 Android-Browser 中，以下**简单的 JS 代码（不再）**是 korrekt：

```
 var shortName = 'testDb';
    var version = '1.0';
    var displayName = 'test db';
    var maxSize = 1048576; // in bytes
    mydb = window.openDatabase(shortName, version, displayName, maxSize);

     function(transaction) {
          transaction.executeSql('CREATE TABLE IF NOT EXISTS person(id INTEGER ..);', [], NullDataHandler, errorHandler);
} 
```

有人在这里 - 可以在没有开销、高级设置和错误管理的情况下在 VS2012 中向我展示相同的 SIMPLE - 我无法遵循代码？1\. DB_open : .. 2\. 执行 SQL : ..

来自巴伐利亚 ralphi 的许多问候 PS：为什么不允许插入链接？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:58:28.573

我假设您的 Javascript 正在网页上运行。实际上，没有办法从网页操作 Sqlite 数据库。出于安全原因，从网页访问本地文件的能力受到严格限制。尽管支持 HTML5 的新浏览器允许您以有限且安全的方式访问本地文件，但在 HTML 世界中无法直接使用本地数据库。

# ruby-on-rails - rails rake task - 访问命令行参数变量名

> ID：16146175
> 
> 赞同：0
> 
> 时间：2013-04-22T11:34:08.600
> 
> 标签：ruby-on-rails, command-line, rake, command-line-arguments, variable-names

好的，我有以下任务，

```
namespace :test do
  task :a do |t,args|  
    p ENV.keys
  end 
end

$ rake test:a ARG1 = "me" ARG2 = "my wife" 
```

上面的命令显示一个大数组，即 ENV.keys

`ENV.keys`看起来像这样

```
["MANPATH", "SSH_AGENT_PID",........,"BUNDLE_BIN_PATH", "RUBYOPT", "ARG1", "ARG2"] 
```

我只想要“ARG1”和“ARG2”，而不想要“MANPATH”、“RUBYOPT”和其他东西。（不是“我”和“我的妻子”）。

命令行变量名称。不是价值观。

帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:06:43.697

试试这种方式：

```
namespace :test do
  task :a, [:param_me, :param_wife] do |t, args|  
    p args.param_me
    p args.param_wife
  end 
end

$ rake "test:a[me, my wife]" 
```

如果参数中有空格，则只需要双引号。

# vba - 有没有办法在 MS Office VBA 编辑器中对相关代码模块进行分组？

> ID：16146186
> 
> 赞同：2
> 
> 时间：2013-04-22T11:34:28.393
> 
> 标签：vba, excel, editor

方便的是，VBA 编辑器的项目资源管理器按项目然后按类型（Excel 对象、表单、模块和类模块）对项目进行分组。

然而，我的一个项目使用了大量的对象，并且拖网它们变得很麻烦。有没有办法将它们组合在一起，也许类似于 Java 的包命名约定？

例如 com.site.maths.geometry.shapes

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:57:37.900

不，它不能在 Excel 的 VB 编辑器中完成。也许 VSTO 提供了类似的东西，或者 VS .NET

# ext.net - Ext.net 中 ComboBox 的一些问题

> ID：16146188
> 
> 赞同：1
> 
> 时间：2013-04-22T11:34:38.423
> 
> 标签：ext.net

我有一个页面，其中有一个 FormPanel（里面有一个 ComboBox）和一个 TreePanel（有一个默认的根节点），然后打开 ViewState。

我在 GET 中为 ComboBox 设置了一个值。

当我获取页面时，TreePanel 的商店在 FormPane 在客户端呈现之前发送一个 POST 请求（存储读取），在这个 POST 请求中，fromdata 没有关于 FormPane 的信息。

在 POST 请求中从 ViewState 中恢复 ComboBox.Value，但在 ComboBoxBase.LoadPostData() Ext.Net 中从 formdata 中获取值并覆盖 ComboBox.Value 而没有先决条件

这是 ComboBoxBase.LoadPostData() 代码

```
protected override bool LoadPostData(string postDataKey, NameValueCollection postCollection)
   {
       this.HasLoadPostData = true;

       string text = postCollection[this.UniqueName];
       string state = postCollection[this.ValueHiddenName.IsNotEmpty() ? this.ValueHiddenName : ("_" + this.UniqueName + "_state")];

       this.SuspendScripting();
       this.RawValue = text;
       this.Value = text;
       this.ResumeScripting();

       if (state == null && text == null)
       {
           return false;
       }

       if (!this.EmptyText.Equals(text) && text.IsNotEmpty())
       {
           List<ListItem> items = null;
           if (this.SimpleSubmit)
           {
               var array = state.Split(new char[] { ',' });
               items = new List<ListItem>(array.Length);
               foreach (var item in array)
               {
                   items.Add(new ListItem(item));
               }                    
           }
           else if(state.IsNotEmpty())
           {
               items = ComboBoxBase.ParseSelectedItems(state);
           }

           bool fireEvent = false;

           if (items == null)
           {
               items = new List<ListItem> 
               { 
                   new ListItem(text)
               };                    

               /*fireEvent = this.SelectedItems.Count > 0;
               this.SelectedItems.Clear();
               return fireEvent;
               */
           }

           foreach (var item in items)
           {
               if (!this.SelectedItems.Contains(item))
               {
                   fireEvent = true;
                   break;
               }
           }

           this.SelectedItems.Clear();
           this.SelectedItems.AddRange(items);

           return fireEvent;
       }
       else
       {
           if (this.EmptyText.Equals(text) && this.SelectedItems.Count > 0)
           {
               this.SelectedItems.Clear();

               return true;
           }
       }

       return false;
   } 
```

看看5到11号线，为什么不改成这样

```
string text = postCollection[this.UniqueName];
        string state = postCollection[this.ValueHiddenName.IsNotEmpty() ? this.ValueHiddenName : ("_" + this.UniqueName + "_state")];

       this.SuspendScripting();
       this.RawValue = text;
       this.ResumeScripting();

       if (state == null && text == null)
       {
           return false;
       }

       this.SuspendScripting();
       this.Value = text;
       this.ResumeScripting(); 
```

此问题的示例

页面文件

```
 <html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<body>
    <ext:ResourceManager ID="ResourceManager1" runat="server" DisableViewState="false"
        AjaxViewStateMode="Enabled"  ViewStateMode="Enabled"/>
    <form id="form1" runat="server">
    <ext:Viewport runat="server" ID="VP">
    </ext:Viewport>
    </form>
</body>
</html> 
```

.cs 文件

```
public partial class WebFormTest : System.Web.UI.Page
{
    protected override void OnInitComplete(EventArgs e)
    {
        FP = new FormPanel();
        FP.ID = "FP";
        FP.Title = "FP";
        FP.Region = Region.Center;

        TF = new TextField();
        TF.ID = "TF";
        TF.FieldLabel = "TF";

        CB = new ComboBox();
        CB.ID = "CB";
        CB.FieldLabel = "CB";
        CB.Items.Clear();
        CB.Items.Add(new ListItem("one", "1"));
        CB.Items.Add(new ListItem("two", "2"));

        Button test = new Button() { ID = "testbtn", Text = "test" };
        test.Listeners.Click.Handler = "App.Store2.load()";
        FP.TopBar.Add(new Toolbar() { Items = { test } });

        FP.Items.Add(TF);
        FP.Items.Add(CB);

        GP = new GridPanel();
        GP.ID = "GP";
        GP.Title = "GP";
        GP.Region = Region.East;

        GP.Listeners.BeforeRender.Handler = "App.Store1.reload()";

        BTN = new Button();
        BTN.ID = "BTN";
        BTN.Text = "click";
        BTN.Icon = Icon.ArrowJoin;
        BTN.DirectEvents.Click.Event += new ComponentDirectEvent.DirectEventHandler(Click);

        TB = new Toolbar();
        TB.Items.Add(BTN);

        GP.TopBar.Add(TB);

        Store1 = new Store();
        Store1.ID = "Store1";
        Store1.ReadData += new Store.AjaxReadDataEventHandler(WebFormTest_ReadData);

        Model1 = new Model();
        Model1.ID = "Model1";

        Store1.Model.Add(Model1);

        GP.Store.Add(Store1);

        TP = new TreePanel();
        TP.ID = "TP";
        TP.Title = "TP";
        TP.Region = Region.East;
        TP.RootVisible = false;
        TP.Root.Add(new Node() { NodeID = "test", Text = "test" });

        Store2 = new TreeStore();
        Store2.ID = "Store2";
        Store2.ReadData += new TreeStoreBase.ReadDataEventHandler(Store2_ReadData);

        TP.Store.Add(Store2);

        VP.Items.Add(FP);

        //VP.Items.Add(GP);

        VP.Items.Add(TP);

        if (!X.IsAjaxRequest)
        {
            CB.Value = "2";
            TF.Value = "TEXT";
        }
        base.OnInitComplete(e);
    }

    FormPanel FP;
    TextField TF;
    ComboBox CB;
    GridPanel GP;
    Button BTN;
    Toolbar TB;
    Store Store1;
    Model Model1;
    TreePanel TP;
    TreeStore Store2;
    protected override void CreateChildControls()
    {

        base.CreateChildControls();
    }

    void Store2_ReadData(object sender, NodeLoadEventArgs e)
    {

    }

    protected void Page_Load(object sender, EventArgs e)
    {
        //if (!X.IsAjaxRequest)
        //{
        //    this.Store1.DataSource = this.Data;
        //    this.Store1.DataBind();

        //}

    }

    protected void Refresh(object sender, DirectEventArgs e)
    {

    }

    bool flag = false;
    protected void Click(object sender, DirectEventArgs e)
    {
        GP.GetStore().Reload();
        flag = true;
    }

    protected override void OnPreRender(EventArgs e)
    {
        if (flag)
        {
            TF.Value = "asdasd";
        }
        base.OnPreRender(e);
    }

    protected void WebFormTest_ReadData(object sender, StoreReadDataEventArgs e)
    {

    }

    private object[] Data
    {
        get
        {
            return new object[]
        {
            new object[] { "3m Co", 71.72, 0.02, 0.03, "9/1 12:00am" },
        };
        }
    }
} 
```

您也可以在[Ext.net 论坛中讨论](http://forums.ext.net/showthread.php?24507-Some-trouble-with-ComboBox)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T03:35:37.010

我们将更改提交到 SVN 主干。它将进入下一个版本（v2.3）。

更改与您的更改类似，但我们决定也不更改 RawValue。感谢您的报告和建议的修复。

**修复（ComboBoxBase LoadPostData）**

```
protected override bool LoadPostData(string postDataKey, NameValueCollection postCollection)
{
    this.HasLoadPostData = true;

    string text = postCollection[this.UniqueName];
    string state = postCollection[this.ValueHiddenName.IsNotEmpty() ? this.ValueHiddenName : ("_" + this.UniqueName + "_state")];

    if (state == null && text == null)
    {
        return false;
    }

    this.SuspendScripting();
    this.RawValue = text;
    this.Value = text;
    this.ResumeScripting(); 
```

# http - Web API 帮助示例 - C#

> ID：16146194
> 
> 赞同：2
> 
> 时间：2013-04-22T11:34:49.493
> 
> 标签：http, asp.net-web-api, sample-data

ASP.NET Web API 有一个带有示例生成器的易于安装的 Nuget 帮助页面。让它生成和显示示例请求很容易，但让它显示示例响应（httpsampleresponses）似乎并不容易，因此当开发人员查看帮助页面时，他们会看到生成响应的示例/不是静态的/键入的在响应中，但实际上是生成的。我以前在另一个项目上看到过它，但仍然无法弄清楚如何去做。[MSDN 的 YAO 有一个很好的博客](http://blogs.msdn.com/b/yaohuang1/archive/2012/10/13/asp-net-web-api-help-page-part-2-providing-custom-samples-on-the-help-page.aspx)，但由于某种原因，它并没有让我一路走上成功之路。

根据我在现场看到的工作以及在线阅读的内容，这绝对是根据 config.SetSampleResponses() 设置正确获取 HelpPageConfig 文件。我发现了为 SetSampleResponses() 方法设置参数的配置文件，但我仍然没有尝试任何工作。有人建议我应该创建一个自定义类型并使用扩展方法，但是让它对应并显示我需要的东西还没有发生。我可以让它编译没有错误，但它仍然没有在页面上显示生成的响应示例。使用 SetSampleForType 片段很容易让一个部分显示在请求部分中，但给我带来麻烦的是响应部分。

有没有人成功地使用 SetSampleResponses() 完成了这项工作，是否有任何技巧可以明确定义以使其正常工作？您对设置特定的泛型类型并使其工作有任何提示吗？

我在想这一定是一件非常简单的事情，我只是没有点击来实现它....

感谢您提供任何潜在的信息...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:02:09.403

HelpPageConfig 上的 SetSampleResponse 扩展用于为您的操作静态定义示例。

```
config.SetSampleResponse("\"Hello World!\"", new MediaTypeHeaderValue("application/json"), "Values", "Get", "id"); 
```

如果您正在寻找特定类型的生成样本，您是否尝试过使用 SetSampleObjects 扩展，它允许您为不同类型设置样本对象，并且在从操作返回该特定类型的所有情况下都使用相同的对象。

```
config.SetSampleObjects(new Dictionary<Type, object>
        {
            {typeof(string), "Hello World!"}
        }); 
```

您能否分享更多关于您如何使用 SetSampleResponse 扩展的具体（代码）详细信息？

# jquery-ui - JqG rid 重新定位 Add 按钮

> ID：16146195
> 
> 赞同：1
> 
> 时间：2013-04-22T11:34:49.660
> 
> 标签：jquery-ui, jquery, jqgrid

我是 jqGrid 的初学者，在哪里使用 navGrid，用于添加（用于文件上传），当我单击添加按钮时，它会在页面左侧的顶部弹出一个模态对话框。它很难进入顶部再来一次，有什么方法可以定位“添加”对话框，它应该显示在 + 按钮旁边？

```
 jQuery(table).jqGrid('navGrid',pager,{edit:false,add:true,del:false,search:false,refresh:true,cloneToTop:true},{},{addCaption:'Add',width:500,recreateForm: true,reloadAfterSubmit:false,closeAfterAdd:true,closeAfterEdit: true, closeOnEscape:true, afterSubmit : UploadAttachedFile }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:24:29.790

[您可以在afterShowForm](http://www.trirand.com/jqgridwiki/doku.php?id=wiki:form_editing#events)回调中更改添加对话框的位置。例如，您可以使用[jQuery UI Position](http://jqueryui.com/position/)来执行此操作。

[该演示](http://www.ok-soft-gmbh.com/jqGrid/AddDialogPosition.htm)使用以下代码

```
var $grid = $("#list");

...

$grid.jqGrid('navGrid', '#pager', {del:false}, {}, {
    afterShowForm: function ($form) {
        $form.closest(".ui-jqdialog").position({
            of: "#add_" + $.jgrid.jqID($grid[0].id),
            at: "left bottom",
            my: "right top"
        });
    }
}); 
```

结果如下图所示

![在此处输入图像描述](https://i.stack.imgur.com/bbQ6I.png)

您可以更改 的值`at`和`my`属性`position`以获得所需的准确结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:54:40.703

试试这个：将此添加到您的`Add`按钮代码中

```
top:400,left:20 
```

您的代码应如下所示：

```
jQuery(table).jqGrid('navGrid',pager,{edit:false,add:true,del:false,search:false,refresh:true,cloneToTop:true},
    {},
    {
        addCaption:'Add',
        width:500,
        recreateForm: true,
        reloadAfterSubmit:false,
        closeAfterAdd:true,
        closeAfterEdit: true,
        closeOnEscape:true,
        afterSubmit : UploadAttachedFile,
        top:400,    //position from top
        left:20    //position from left
    }); 
```

# internet-explorer-10 - Extjs 3.2：内置函数“onDocumentReady”中的 Js 错误

> ID：16146198
> 
> 赞同：0
> 
> 时间：2013-04-22T11:35:03.537
> 
> 标签：internet-explorer-10, extjs3

加载以下函数后，我收到 js 错误，

```
 Ext.onReady(function(){
        aFunc123([{header:'ss',Fn:'aFunc1(1)'}],"",undefined,{showCheck:true})
        })
        After coming out of "aFunc123" function,extjs immediatly calls "onDocumentReady" function, problem is, passed arguments are undefined,and also I dont know how it`s getting called.Please check out, for this problem I`m getting error like `"Unable to get property 'apply' of undefined or null reference"`. 
```

请告诉我我在这里做错了什么。

我正在使用 ExtJS 3.2，IE10。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:37:57.973

最近发布的 Ext 3.4.1a 添加了对 IE10 的支持。您可以从 Ext 网站下载它。否则，旧版本不支持 IE10。

# sql - How can I implement Stored Procedure that accept dynamic search criteria?

> ID：16146199
> 
> 赞同：0
> 
> 时间：2013-04-22T11:35:09.320
> 
> 标签：sql, sql-server-2008, stored-procedures

Suppose I have the below table ( TestTable ) :

> **ID , SystemID , UserID** ( all columns are of type int )

I want to write a stored procedure that should accept a string parameter; its value like **((5 and 6) or 7)** to return all users that apply the below queries :

```
Select * From TestTable Where SystemID = 5

Intersect

Select * From TestTable Where SystemID = 6 
```

and the above result is ***union*** with

```
Select * From TestTable Where SystemID = 7 
```

SP must accept any combination like **(((4 or 5) and 6) or 8)** , **(((5 or 9) or 8) and 10)** .. etc

***How can I implement that ?***

**Update :** my issue isn't how to split the string .. but how can i make dynamic sql to implement it's logical mean

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:56:01.740

```
DECLARE @param NVARCHAR(MAX) = N'4 or 5 and 6 or 8 and 10';

DECLARE 
  @sql NVARCHAR(MAX) = N'', 
  @q NVARCHAR(MAX) = N'SELECT UserID FROM dbo.TestTable WHERE SystemID = ';

SELECT @sql = @q + REPLACE(REPLACE(@param, ' or ', '
   UNION ALL ' + @q),
 ' and ', '
   INTERSECT ' + @q);

PRINT @sql;
-- EXEC sp_executesql @sql; 
```

Results:

```
SELECT UserID FROM dbo.TestTable WHERE SystemID = 4
   UNION ALL SELECT UserID FROM dbo.TestTable WHERE SystemID = 5
   INTERSECT SELECT UserID FROM dbo.TestTable WHERE SystemID = 6
   UNION ALL SELECT UserID FROM dbo.TestTable WHERE SystemID = 8
   INTERSECT SELECT UserID FROM dbo.TestTable WHERE SystemID = 10 
```

Now, whether this query yields the results you're actually after, I have no idea, but I believe it meets the requirements as stated.

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-22T12:24:51.110

Try this... I have little changed Aaron Bertrand's query.

```
 DECLARE @param NVARCHAR(MAX) = N'(((4 or 5) and 6) or 8)';
    DECLARE   @sql NVARCHAR(MAX) = N'', 
      @q NVARCHAR(MAX) =  N'SELECT * FROM dbo.TestTable WHERE SystemID = ',
      @paranth NVARCHAR(100) = substring(@param,0,PATINDEX('%[0-9]%',@param));
      set @param =substring(@param,PATINDEX('%[0-9]%',@param),len(@param)-PATINDEX('%[0-9]%',@param))

    SELECT @sql = @q + REPLACE(REPLACE(@param, ' or ', '
       UNION ALL ' + @q),
     ' and ', '
       INTERSECT ' + @q);
       set @sql=@paranth+@sql
       if (isnull(@paranth,'')<>'')
        set @sql=@sql+')'

    PRINT @sql; 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-04-22T11:38:58.200

You could use a CSV to Integer table value function inside your SP. You have to create the CsvToInt function first of course. Then you can use it inside your Stored Procedure to turn a parameter into an integer list. As pointed out this only suits the "Or" component of your dynamic search criteria.

You can use this in conjunction with `EXEC` or `sp_executesql`. Which will allow you to add sql as a parameter.

```
SET @myBaseQuery = 'SELECT * FROM TestTable WHERE SystemId = ' + @myParam
EXECUTE(@myBaseQuery) 
```

or

```
SELECT * FROM TestTable WHERE SystemID IN (SELECT IntValue FROM dbo.CsvToInt('2,3,4,5,6'))
-- use your parameters

CREATE FUNCTION [dbo].[CsvToInt] ( @Array VARCHAR(1000)) 
RETURNS @IntTable TABLE 
    (IntValue INT)
AS
BEGIN
    DECLARE @separator CHAR(1)
    SET @separator = ','
    DECLARE @separator_position INT 
    DECLARE @array_value VARCHAR(1000) 
    SET @array = @array + ','
    While patindex('%,%' , @array) <> 0 
    BEGIN
      SELECT @separator_position =  patindex('%,%' , @array)
      SELECT @array_value = LEFT(@array, @separator_position - 1)
        INSERT @IntTable
        VALUES (CAST(@array_value AS INT))
      SELECT @array = stuff(@array, 1, @separator_position, '')
    END
    RETURN
END 
```

CsvToInt function taken from [http://www.summit-pro.com/blog/2010/05/18/csv-list-to-int-sql-function/](http://www.summit-pro.com/blog/2010/05/18/csv-list-to-int-sql-function/)

# jquery - UL 和 DIV 之间的差距

> ID：16146200
> 
> 赞同：0
> 
> 时间：2013-04-22T11:35:19.130
> 
> 标签：jquery, html

JS 垂直滑动我的 html，当我在最后一张图片中时，最后一个元素和滑块之间存在间隙。当我删除“标题”时它消失了。

这是我的脚本

```
<body onload="
var div = $('#slider-left'),
    wrapScreenHeight = div.height(),
    wrapHeight = div.outerHeight(),
    listHeight = div.find('ul').outerHeight();
    topHeight = $('#slider-left ul').css('top');

div.on('mousemove', function(e) {
    var cPointY = e.pageY,
        dP = ((cPointY / wrapHeight));
          div.scrollTop((listHeight * dP) - wrapScreenHeight);

});"> 
```

有谁知道如何在不删除顶部的情况下删除此间隙？

屏幕：

```
http://i1275.photobucket.com/albums/y455/gonliSs/gap_zpse2cb1f65.jpg
http://i1275.photobucket.com/albums/y455/gonliSs/gap2_zps828b716d.jpg
http://i1275.photobucket.com/albums/y455/gonliSs/gap3_zpse0ae33e7.jpg 
```

# r - 如何在 Forlus R 中添加

> ID：16146201
> 
> 赞同：0
> 
> 时间：2013-04-22T11:35:21.277
> 
> 标签：r, for-loop

我有一个快速的问题。我想取一个系列中每 12 个元素的平均值。我有以下代码：

```
PPrateav = NULL
for (i in 80) {
    PPrateav[i] = sum(PPrate[1+(i-1)*12:(i*12)])/12
} 
```

我看不出问题出在哪里。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:04:30.763

这会成功的

```
library(zoo)
PPrateav <- rollapply(PPrate, width=12, mean, by=12) 
```

有关和论据`?rollapply`的更多详细信息，请参阅。`width``by`

如果您真的想使用`for`循环，请尝试将原始循环更改为这个新版本：

```
PPrateav <- NULL
for (i in 1:floor(length(PPrate)/12)) {
  PPrateav[i] = mean(PPrate[(1+(i-1)*12):(i*12)])
} 
```

# ios - iOS、APNS、推送通知、DeviceToken、iPhone

> ID：16146205
> 
> 赞同：1
> 
> 时间：2013-04-22T11:35:37.520
> 
> 标签：ios, apple-push-notifications

我们正在为 APNS 注册我们的 iOS 应用程序。之后，APNS 提供一个 deviceToken。是否有任何流程可以在 APNS 上获取 iOS 设备注册 URL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:05:48.203

我认为不。您需要自己的服务器来放置通知逻辑。

# sql - DB2 自动增量在重启后自行更改

> ID：16146207
> 
> 赞同：1
> 
> 时间：2013-04-22T11:35:43.420
> 
> 标签：sql, db2

每次我重新启动我的 DB2 服务时，自动增量字段总是自行更改，例如：在我重新启动之前，自动增量值是 13，它增加了 1，我重新启动后它总是变成 31，它总是增加 20 知道是什么原因造成的吗？

每次我重新启动我的 Db2 服务时，我都必须执行这个命令

```
ALTER TABLE <table> ALTER COLUMN <column> RESTART WITH 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:51:46.787

DB2 有一个生成值的缓存，以减少生成值的开销（减少 IO）。此缓存在内存中，并根据请求分配值。

在创建/更改表时查看缓存选项。默认情况下，缓存值为 20。

了解序列在 DB2 中的工作方式非常重要。序列与生成的值/标识列共享许多概念。

*   创建表[http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0000927.html](http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0000927.html)
*   更改表[http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0000888.html](http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0000888.html)
*   序列[http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.admin.dbobj.doc/doc/c0023175.html](http://publib.boulder.ibm.com/infocenter/db2luw/v10r1/topic/com.ibm.db2.luw.admin.dbobj.doc/doc/c0023175.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:27:45.180

来自[W3schools](http://www.w3schools.com/sql/sql_autoincrement.asp)：

“自动增量允许在将新记录插入表时生成唯一编号。”

这是您唯一可能期望的：唯一（=非冲突）数字。这些是如何生成的则留给 DBMS。你不能期望一个没有任何间隔的数字序列。

例如，出于性能原因，DBMS 可能会选择“预分配”十个数字（23..32、33..42、...）的块，因此自动增量字段只能为每个 (最多）十条记录。如果您有一条`INSERT`语句只向新创建的表中插入 5 条记录，则它可以“获取 10 个数字的块”（0..9），使用它的前五个值（0..4）并保留其余的没用过。通过获取这一个数字块，计数器从 0 增加到 10。因此，下一个获取块的 INSERT 语句将获取范围从 10 到 19 的数字。

# xml - 使用 XSLT 在 plmxml 模式中显示 UserValue

> ID：16146209
> 
> 赞同：0
> 
> 时间：2013-04-22T11:35:51.017
> 
> 标签：xml, xpath, xslt-1.0

嗨，我有以下代码，我想显示 ProductRevision 中与 Occurrence 中的 instancedRef 匹配的 UserValue。架构是 plmxml ...

```
<ProductRevision id="id279" name="Intermediate Shaft" accessRefs="#id17" subType="M3HI_MPTRevision" masterRef="#id284" revision="A" source="unset">
<ApplicationRef version="gCVFl6cKY1F1YB" application="Teamcenter" label="Q_VFl6cKY1F1YB"></ApplicationRef>
<UserData id="id280">
<UserValue value="11111" title="m3hi_Order_No"></UserValue></UserData>
<AssociatedForm id="id283" role="IMAN_master_form" formRef="#id281"></AssociatedForm></ProductRevision> 
```

我正在尝试使用以下 XSLT 获取 UserValue 的值

```
<xsl:variable name="mptRevID" select="substring-after(/plm:PLMXML/plm:ProductView/plm:Occurrence[@id=$mptId]/@instancedRef, '#')"/>
<xsl:variable name="RevTag" select="/plm:PLMXML/plm:ProductRevision[@id=$mptRevID]"/> 
<xsl:variable name="Ord" select="$mptRevTag/plm:UserData/plm:UserValue/@value"/> 
```

当我执行上述操作时，它在输出中给了我一个空白。

请让我知道我在代码中犯的错误或如何从 xml 访问 UserData 和 UserValue。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-04T09:08:20.490

我向您推荐用于 PLMXML 的特殊 XSLT 处理器。 [http://plmski.webnode.com/plmxml-xslt-processor/](http://plmski.webnode.com/plmxml-xslt-processor/) 处理器自动确定“ref-id”。您无需确定 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-05T14:21:35.370

我想你有两个问题：

1.  错字：您在选择变量“Ord”时使用“$mptRevTag”而不是“$RevTag”
2.  Xpath：在 PLMXML 结构中（至少我知道的），ProductRevision 元素并不直接位于根节点下，但 XPath 表达式应如下所示：/PLMXML/ProductDef/InstanceGraph/ProductRevision

此外，由于“标题”，我当然也会过滤 UserValue，因为 Teamcenter 的所有属性都使用此元素导出。

问候，洛伊克

# c++ - Qt 中的多色工具提示

> ID：16146211
> 
> 赞同：4
> 
> 时间：2013-04-22T11:36:00.147
> 
> 标签：c++, qt, tooltip, qgraphicsscene

我想为 QGraphicsItems 提供可移动的多色工具提示。例如，当我在场景中单击 graphicsItem 时，会出现工具提示，然后在拖动鼠标时工具提示应该跟随光标。我可以使用标准 QToolTip 实现可移动工具提示，但似乎 Qt 仅支持整个工具提示的一种颜色。QToolTip也没有paintEvent，所以我决定创建继承自QTextEdit的ColoredTooltip类，但是当我第一次显示ColoredTooltip对象时出现问题。它开始抓取鼠标事件，这对我来说不好，因为我无法捕捉图形场景的 mouseMove 事件并移动 colouredTooltip。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-22T12:03:21.040

要为单个单词（或文本的任何部分）着色，请使用[Qt 的富文本引擎支持的微小 HTML 子集](http://qt-project.org/doc/qt-4.8/richtext-html-subset.html)。支持`<font>`标签和属性。支持富文本。`color=``QToolTip`

这个对我有用：

```
toolTip.setText("foo <font color=\"red\">bar</font>"); 
```

要使用任何 RGB 颜色（不仅是已知名称），请使用十六进制表示法：

```
toolTip.setText("foo <font color=\"#ff0000\">bar</font>"); 
```

![显示工具提示的图像，其中一个单词以红色着色](https://i.stack.imgur.com/sVeO8.png)

请注意，除非您需要在显示时移动工具提示或想要设置其他属性，否则您可以简单地使用[`QGraphicsItem::setToolTip`](http://qt-project.org/doc/qt-4.8/qgraphicsitem.html#setToolTip).

# matlab - 如何为 SVM 结果绘制 3D 超平面？

> ID：16146212
> 
> 赞同：5
> 
> 时间：2013-04-22T11:36:01.790
> 
> 标签：matlab, svm

我只是想知道如何绘制 SVM 结果的超平面。

例如，这里我们使用两个特征，我们可以在 2D 中绘制决策边界。但是，如果我们使用 3 个特征，我们如何在 3D 中绘制超平面呢？

```
load fisheriris;

features = meas(1:100,:);
featureSelcted = features(1:100,1:2); % For example, featureSelcted = features(1:100,1:3) can not be plotted
groundTruthGroup = species(1:100);

svmStruct                               = svmtrain(featureSelcted, groundTruthGroup, ...
    'Kernel_Function', 'rbf', 'boxconstraint', Inf, 'showplot', true, 'Method', 'QP');
svmClassified                           = svmclassify(svmStruct,featureSelcted,'showplot',true); 
```

可以在[svm-fit-hyperplane](https://stackoverflow.com/questions/8017427/plotting-data-from-an-svm-fit-hyperplane)找到 R 中的类似解决方案，但 Matlab 实现会很方便。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-11-14T04:11:49.197

这是一个在 MATLAB 中绘制 3D SVM 结果的函数。

```
function [] = svm_3d_matlab_vis(svmStruct,Xdata,group)
sv =  svmStruct.SupportVectors;
alphaHat = svmStruct.Alpha;
bias = svmStruct.Bias;
kfun = svmStruct.KernelFunction;
kfunargs = svmStruct.KernelFunctionArgs;
sh = svmStruct.ScaleData.shift; % shift vector
scalef = svmStruct.ScaleData.scaleFactor; % scale vector

group = group(~any(isnan(Xdata),2));
Xdata =Xdata(~any(isnan(Xdata),2),:); % remove rows with NaN 

% scale and shift data
Xdata1 = repmat(scalef,size(Xdata,1),1).*(Xdata+repmat(sh,size(Xdata,1),1));
k = 50; 
cubeXMin = min(Xdata1(:,1));
cubeYMin = min(Xdata1(:,2));
cubeZMin = min(Xdata1(:,3));

cubeXMax = max(Xdata1(:,1));
cubeYMax = max(Xdata1(:,2));
cubeZMax = max(Xdata1(:,3));
stepx = (cubeXMax-cubeXMin)/(k-1);
stepy = (cubeYMax-cubeYMin)/(k-1);
stepz = (cubeZMax-cubeZMin)/(k-1);
[x, y, z] = meshgrid(cubeXMin:stepx:cubeXMax,cubeYMin:stepy:cubeYMax,cubeZMin:stepz:cubeZMax);
mm = size(x);
x = x(:);
y = y(:);
z = z(:);
f = (feval(kfun,sv,[x y z],kfunargs{:})'*alphaHat(:)) + bias;
t = strcmp(group, group{1});

% unscale and unshift data 
Xdata1 =(Xdata1./repmat(scalef,size(Xdata,1),1)) - repmat(sh,size(Xdata,1),1);
x =(x./repmat(scalef(1),size(x,1),1)) - repmat(sh(1),size(x,1),1);
y =(y./repmat(scalef(2),size(y,1),1)) - repmat(sh(2),size(y,1),1);
z =(z./repmat(scalef(3),size(z,1),1)) - repmat(sh(3),size(z,1),1);
figure
plot3(Xdata1(t, 1), Xdata1(t, 2), Xdata1(t, 3), 'b.');
hold on
plot3(Xdata1(~t, 1), Xdata1(~t, 2), Xdata1(~t, 3), 'r.');
hold on
% load unscaled support vectors for plotting
sv = svmStruct.SupportVectorIndices;
sv = [Xdata1(sv, :)];
plot3(sv(:, 1), sv(:, 2), sv(:, 3), 'go');
legend(group{1},group{end},'support vectors')

x0 = reshape(x, mm);
y0 = reshape(y, mm);
z0 = reshape(z, mm);
v0 = reshape(f, mm);

[faces,verts,colors] = isosurface(x0, y0, z0, v0, 0, x0);
patch('Vertices', verts, 'Faces', faces, 'FaceColor','k','edgecolor', 'none', 'FaceAlpha', 0.5);
grid on
box on
view(3)
hold off
end 
```

示例图：

```
 % load data
     load fisheriris;
% train svm using three features for two species
    svmStruct = svmtrain(meas(1:100,1:3),species(1:100),'showplot','false','kernel_function','rbf',...
      'boxconstraint',1,'kktviolationlevel',0.05,'tolkkt',5e-3); 
    % run function described above
     svm_3d_matlab_vis(svmStruct,meas(1:100,1:3),species(1:100)) 
```

![使用 SVM 超平面的 3D 数据图](https://i.stack.imgur.com/1TyJD.png)

# java - 我可以将文件索引设置为文件的开头吗？

> ID：16146216
> 
> 赞同：0
> 
> 时间：2013-04-22T11:36:07.163
> 
> 标签：java, fileinputstream, fileoutputstream

我希望能够在将一个对象流式传输到文件后从文件中读取一个对象。现在，当我第一次阅读时它工作正常，但是当我尝试再次阅读（到另一个对象）时，有一个我无法处理的异常。

现在，我猜文件索引到了文件的末尾，因此我无法再次从中读取。

我错了吗？如果不是，我可以将文件索引设置为文件的开头吗？

```
try{
    Classba cb=new Classba();
    FileOutputStream fos=new FileOutputStream(args[0]);
    ObjectOutputStream oos=new ObjectOutputStream(fos);
    oos.writeObject(cb);
    FileInputStream fis=new FileInputStream(args[0]);
    ObjectInputStream ois=new ObjectInputStream(fis);
    Classba cb2;
    cb2=(Classba)ois.readObject();
    cb2.print();   
    Classba cb3;          //*OK Till Here*//
    cb3=(Classba)ois.readObject();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:07:15.747

您[可以](http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html#reset%28%29)在`ObjectInputStream`.

# c - 从 CvPoint 获取 XY 坐标

> ID：16146218
> 
> 赞同：0
> 
> 时间：2013-04-22T11:36:07.657
> 
> 标签：c, opencv

我有一个代码可以在图像中找到轮廓。这工作正常，找到的轮廓被存储，CvPoints 用于在轮廓周围绘制线条。

现在我想为图像设置 ROI，但我不知道如何参考要使用的 CvPoint 的 X/Y 点。点 pt 都有定义的值。

```
CvPoint *pt[4];
int ROIwidth = *pt[0].x - *pt[1].x; 
```

这似乎不起作用。我收到错误说“.x”的左边必须有类/结构/联合我该怎么做？我发现的另一篇文章建议通过添加 .x 或 .y 应该能够做到这一点..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:47:20.287

`*`您的情况下的错误可以通过优先级低于`.`因此您尝试*取消引用 integer*的事实来解释。这导致了这个问题。

因此，您应该使用：

```
pt[0]->x; 
```

或者

```
*(pt[0]).x; 
```

# java - Java double.MAX_VALUE？

> ID：16146219
> 
> 赞同：24
> 
> 时间：2013-04-22T11:36:08.523
> 
> 标签：java, double

对于我的任务，我必须为一家燃气公司创建一个燃气表系统，以允许员工创建新的客户账户并修改名称和单位成本等数据，同时从他们的账户中提取（存入）资金。

我已经创建了我的构造函数，甚至添加了一个重载方法，尽管我目前在启动我命名为**deposit**的方法之一时遇到了问题，这应该从用户帐户中取钱，而其他方法（如***recordUnits）***允许员工导入客户使用了多少单位的燃气表读数，并更新该客户帐户的余额，这本质上是客户欠公司的款项。

在尝试启动存款方法时仅使用预设信息测试程序时，我得到了这个

```
Account.deposit(Double.MAX_VALUE); 
```

我不太确定这意味着什么，而且似乎无论如何也找不到通过它的方法！

测试数据和代码见下：

```
public class TestGasAccount 

{
    public static void main (String [] args)
    {
        GasAccount Account = new GasAccount (223,"Havana","TQ",1000);

        Account.getAccNo();
        Account.getName();
        Account.getAddress();
        Account.getUnits();
        Account.getBalance();
        Account.recordUnits(1000);
        Account.getUnits();
        Account.getBalance();
        Account.deposit(Double.MAX_VALUE);
    }
} 
```

休息

```
public class GasAccount 
{
    private int intAccNo;
    private String strName;
    private String strAddress; 
    private double dblBalance;
    private double dblUnits;
    protected double dblUnitCost = 0.02; 

     public GasAccount(int intNewAccNo,String strNewName,String strNewAddress,double dblNewUnits)
     {
         intAccNo = intNewAccNo;
         strName = strNewName;
         strAddress = strNewAddress;
         dblUnits = dblNewUnits;
         dblBalance = dblNewUnits * dblUnitCost;
     }

     public GasAccount (int intNewAccNo, String strNewName, String strNewAddress)
     {
         intAccNo = intNewAccNo;
         strName = strNewName;
         strAddress = strNewAddress;
     }

     public double deposit (Double dblDepositAmount)
     {
        dblBalance = dblBalance - dblDepositAmount; 
        return dblBalance;
     }

     public String recordUnits (double dblUnitsUsed)
     {
         double dblTempBalance;

         dblTempBalance = dblUnitsUsed * dblUnitCost;
         dblBalance = dblBalance + dblTempBalance;
         dblUnits = dblUnits + dblUnitsUsed;

         return "Transaction Successful"; 
     }

     public int getAccNo ()
     {
         System.out.println(intAccNo);
         return intAccNo;
     }

     public String getName()
     {
         System.out.println(strName);
         return strName; 
     }

      public String getAddress()
     {
         System.out.println(strAddress);
         return strName; 
     }

     public double getBalance()
     {
         System.out.println("£"+dblBalance);
         return dblBalance; 
     }

     public double getUnitCost()
     {

         return dblUnitCost;
     }

     public double getUnits ()
     {
         System.out.println(dblUnits);
         return dblUnits;
     }

     public void updateUnitCost (double dblNewUnitCost)
     {
         dblUnitCost = dblNewUnitCost;

     }

} 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-04-22T11:50:40.810

[Double.MAX_VALUE](http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#MAX_VALUE)是 double 可以表示的最大值（大约 1.7*10^308）。

如果您尝试减去数据类型的最大可能值，这应该会导致一些计算问题。

即使在处理金钱时，您也不应该使用浮点值，尤其是在四舍五入时会导致问题（那时您的系统中要么有很多钱，要么有更少的钱）。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2016-11-08T12:28:47.797

在这里复活死者，但以防万一有人像我一样绊倒。我*知道*从哪里获得双倍的最大值，（更）有趣的部分是他们是如何得到这个数字的。

double 有 64 位。第一个是为标志保留的。

接下来的 11 代表指数（即 1023 偏差）。这只是表示正/负值的另一种方式。如果有 11 位，则最大值为 1023。

然后有 52 位保存尾数。

这很容易计算，例如：

```
public static void main(String[] args) {

    String test = Strings.repeat("1", 52);

    double first = 0.5;
    double result = 0.0;
    for (char c : test.toCharArray()) {
        result += first;
        first = first / 2;
    }

    System.out.println(result); // close approximation of 1
    System.out.println(Math.pow(2, 1023) * (1 + result));
    System.out.println(Double.MAX_VALUE);

} 
```

您也可以以相反的顺序证明这一点：

```
 String max = "0" + Long.toBinaryString(Double.doubleToLongBits(Double.MAX_VALUE));

    String sign = max.substring(0, 1);
    String exponent = max.substring(1, 12); // 11111111110
    String mantissa = max.substring(12, 64);

    System.out.println(sign); // 0 - positive
    System.out.println(exponent); // 2046 - 1023 = 1023
    System.out.println(mantissa); // 0.99999...8 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:42:04.733

这表明`Account.deposit(Double.MAX_VALUE);` 它将存款值设置为`Double`dataType.to 的 MAX 值以运行测试。

# html - IE8 CSS 相对位置额外的空白

> ID：16146220
> 
> 赞同：3
> 
> 时间：2013-04-22T11:36:10.540
> 
> 标签：html, css, internet-explorer, internet-explorer-8

我遇到了一个我无法解决的问题，当我添加`Position:relative;`到一个 div 时，它会出现一个白色边框，或者像图像中的额外空间![在此处输入图像描述](https://i.stack.imgur.com/dRHfY.png)

如果我删除 `Position:relative;`边框移动到也有的父级， `Position:relative;`这仅在 IE8 上。标记：

```
<div class="content clearfix">
    Some content goes here
         <div class="block">
               <div class="block_content" style="display: block;">
                 Some content goes here
              </div>
          </div>
 </div> 
```

CSS：

```
.content {
min-height: 100%;
height: 100%;
position: relative;
width:100%;
background-color:#ebebeb;
}
.block_content {
display:none;
position:relative;
margin: 25px 20px 15px 20px;
}
.block{
      overflow:hidden;
    width:58%;
    padding-bottom:60px;
float:right;
position:relative;
margin-right:10%;
background: rgb(222,222,222); /* Old browsers */
background: -moz-linear-gradient(top,  rgba(222,222,222,1) 0%, rgba(255,255,255,1) 0%, rgba(222,222,222,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(222,222,222,1)), color-stop(0%,rgba(255,255,255,1)), color-stop(100%,rgba(222,222,222,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  rgba(222,222,222,1) 0%,rgba(255,255,255,1) 0%,rgba(222,222,222,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  rgba(222,222,222,1) 0%,rgba(255,255,255,1) 0%,rgba(222,222,222,1) 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  rgba(222,222,222,1) 0%,rgba(255,255,255,1) 0%,rgba(222,222,222,1) 100%); /* IE10+ */
background: linear-gradient(to bottom,  rgba(222,222,222,1) 0%,rgba(255,255,255,1) 0%,rgba(222,222,222,1) 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#dedede',GradientType=0 ); /* IE6-9 */

            box-shadow: 6px 6px 14px #333333;
        -moz-box-shadow:6px 6px 14px #333333;
    -webkit-box-shadow: 6px 6px 14px #333333;
    } 
```

演示链接：[http](http://bank.benseno.com.tr/Sunus.html) ://bank.benseno.com.tr/Sunus.html 任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-24T15:09:33.707

好吧，好吧，好吧，我想我知道那个奇怪的边界是从哪里来的。

出自那一段：

```
.maroon:before {
    border: 4px solid #FFFFFF;
    bottom: 0;
    content: "";
    display: block;
    left: 0;
    position: absolute; 
    right: 0;
    top: 0;
    z-index: -1;
} 
```

如果您删除`content:"";`，则不再看到该边框。

似乎 IE8 让父母一团糟。因此，如果您更改父级`position:relative`或删除它，IE8 会将此样式应用于前一个`relative`元素。我不知道这是否适用于`filter`你申请实现轮换的东西......

抱歉信息不完整，至少我们可以定位问题出在哪里...我继续研究，但现在也许您或其他用户知道这一点，可以帮助解决它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-24T14:04:30.357

由于 Web 浏览器以非常特殊的方式处理默认 CSS 属性，因此在开始开发之前重置 CSS 始终是一个好习惯。在我的测试中，我能够应用 Eric Meyers 的重置 css 技术解决问题，但重要的是要注意它在提供的代码是文档中唯一存在的代码的环境下工作。

查看您提供的示例网站，我可以看到您已经使用了 CSS 重置解决方案，但您没有使用在 HTML 5 页面（如该页面）上考虑的 CSS 重置。所以，我建议你改用 HTML5 Doctor CSS Reset。它基于 Eric Meyer 的解决方案，您可以在这里获得：[http ://www.cssreset.com/](http://www.cssreset.com/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-24T15:10:52.690

The problem lies with this line in `layout.css` (line 480):

```
.maroon:before{
    border: 4px solid #FFF;
    bottom: 0;
    content: "";
    display: block;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    z-index: -1;
} 
```

Remove the border and content, or change the class.

# java - Java NumberFormat 具有等效的正负模式

> ID：16146222
> 
> 赞同：0
> 
> 时间：2013-04-22T11:36:17.120
> 
> 标签：java, formatting, number-formatting

我想为正数和负数格式化一个没有任何前缀（或相同前缀）的数字。

NumberFormat 的规范规定，您可以为正数指定一个子模式，为负数指定一个子模式，用分号分隔。

> 每个子模式都有一个前缀、数字部分和后缀。否定子模式是可选的；如果不存在，则以局部减号（在大多数语言环境中为“-”）为前缀的正子模式用作负子模式。也就是说，单独的“0.00”等同于“0.00;-0.00”。

只要正负子模式具有不同的前缀或后缀，这就行得通。如果它们相同，则默认为带有减号的默认行为。

我想要的是格式化：

*   +1 为：01
*   -1 为：01

我知道我可以使用 Math.abs()，这在 JSP/EL 环境中并不容易，而且它是一个纯粹的格式问题，所以应该在 JSP 中完成，但这根本不是重点。我在文档中找不到有关该行为的任何提示。当我阅读以上内容时，我认为只要我指定任何负子模式，就会使用它。事实并非如此。

有人知道吗？我可能会向 Oracle 提交错误，但如果我遗漏了什么，我想先检查一下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-13T19:56:03.280

假设您的 wepapp 中有 JSTL，您可以使用以下内容：

```
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<fmt:formatNumber pattern=":#" minIntegerDigits="2" value="${fn:replace('-1', '-', '')}" /> 
```

希望这有助于...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-26T01:03:57.573

不确定您的格式到底应该是什么，但这似乎适用于您的示例：

```
DecimalFormat f = new DecimalFormat(":00");
f.setNegativePrefix(":");
System.out.println(f.format(1));  // :01
System.out.println(f.format(-1)); // :01 
```

# java - 在 Oracle ADF 模型中创建动态 VO 对象和 LOV 并为值设置 groovy

> ID：16146229
> 
> 赞同：1
> 
> 时间：2013-04-22T11:36:36.927
> 
> 标签：java, groovy, oracle-adf

我创建了动态视图运行时，并且我有一个瞬态字段。我为这个瞬态字段创建了 LOV，并从 LOV 视图对象中填充了这个字段和另一个字段。在编辑模式下，我需要在瞬态字段中加载 LOV 值。我像这样创建 groovy 并设置相关的 AttributeDef：

```
int clmnIndex = newView.getAttributeIndexOf(lovColumnName);
AttributeDefImpl _voAttrDef = (AttributeDefImpl)newView.getAttributeDef(clmnIndex);
_voAttrDef.setRecalcExpression("true");
_voAttrDef.setTransientExpression(getGroovyFindByKey());
_voAttrDef.setLOVName(lovName);
_voAttrDef.setProperty(AttributeHints.ATTRIBUTE_CTL_TYPE, AttributeHints.CTLTYPE_LOV);
newView.resolveDefObject();
newView.registerDefObject();

private String getGroovyFindByKey(){
     String groovy = "test";
    return groovy;
} 
```

但是当我在 UI 中加载数据时，我们在代码中创建的上述动态配置不会执行我的常规操作。

除了这个 API 调用之外，我还必须做些什么来启用我的 groovy 代码的运行时执行。

# regex - 包含（或不包含）整个单词的正则表达式

> ID：16146233
> 
> 赞同：1
> 
> 时间：2013-04-22T11:37:02.597
> 
> 标签：regex

我想要一个匹配“房子”，“黑房子”......（*房子）的正则表达式，但不是“白宫”。

> \b^(白色)\b* 房子

那是我的尝试之一，但它不符合我的需要。有任何想法吗？？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T11:40:58.410

如果您的语言支持它，您想使用[否定的lookbehind](http://www.regular-expressions.info/lookaround.html)：

```
.*(?<!white\s)\bhouse\b 
```

在此处查看[现场演示](http://rubular.com/r/K9mstlsMRV)。

# android - 在android中单击Griditem时如何更改另一个网格项的背景

> ID：16146236
> 
> 赞同：3
> 
> 时间：2013-04-22T11:37:13.603
> 
> 标签：android, resources, calendar

我正在创建一个`calendar`，我用过`grid view to display the dates in that calendar`。现在我想在用户选择每个网格项时更改每个网格项的背景。这里背景随着用户点击特定日期而改变，但之前的项目或日期的背景没有回滚到原来的？我怎样才能做到这一点？例如：如果我单击第一个网格视图项目，该项目变为蓝色，当我单击项目 2 时，项目 #2 的颜色变为蓝色，但第一个项目保持相同颜色，我不希望发生这种情况. 如何将第一项颜色更改为默认颜色。

```
if(cur_posn == 0){
   cur_posn = position;
   old_posn = position;
   v.setBackgroundResource(R.drawable.calendar_tile_green);
} 
else {
   cur_posn = position;
   parent.getChildAt(old_posn).setBackgroundResource(R.drawable.calendar_tile_small);
   v.setBackgroundResource(R.drawable.calendar_tile_green);                                                     
   old_posn = cur_posn;                                 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-18T07:35:23.657

我认为这就是你想要做的。在你的适配器中添加这个：

```
private int clickedChildPosition;

public void setClickedChildPosition(int newClickedChildPosition){
    this.clickedChildPosition=newClickedChildPosition;
}

public View getView(int position, View convertView, ViewGroup parent) {
//Other things like setTag and getTag goes in here
    if(position==clickedChildPosition)
        v.setBackgroundResource(R.drawable.calendar_tile_green);
    else
        v.setBackgroundResource(R.drawable.calendar_tile_default);
} 
```

在您使用该适配器调用的活动中：

```
gridView.setOnItemClickListener(new OnItemClickListener(){

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {
            adapter.setClickedChildPosition(position);
            adapter.notifyDataSetChanged();

        }

    }); 
```

# objective-c - gnustep ubuntu 上的核心图形

> ID：16146242
> 
> 赞同：0
> 
> 时间：2013-04-22T11:37:49.000
> 
> 标签：objective-c, ubuntu-12.04, quartz-2d, gnustep

所以我正在考虑将一些为我的 ios 应用程序编写的逻辑移植到服务器上。我正在构建视图层次结构，然后将其光栅化为位图

我已经使用[chameleon](http://chameleonproject.org/)成功地将相关位移植到 mac os。

现在我想尝试将它移植到 ubuntu，因为 GNUstep 在 AppKit 上有一个开放的实现。我设法让 hello world 应用程序正常工作。但是，对我来说，以下在编译时引发错误似乎很奇怪。

```
#import <Foundation/Foundation.h>
#import <AppKit/AppKit.h>

int main (int argc, const char * argv[])
{
        NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];
    [NSApplication sharedApplication];
        NSRunAlertPanel(@"Random",@"hello from GNUStep Appkit!",@"close this window",@"Another Button",nil);
    NSView *view = [[NSView alloc]init];
    view.layer;
    CGRect rect;
        [pool drain];
        return 0;
} 
```

错误：

```
hello.m: In function ‘main’:
hello.m:10:6: error: request for member ‘layer’ in something not a structure or union
hello.m:11:2: error: unknown type name ‘CGRect’ 
```

对我来说，应该抛出这些错误似乎很奇怪，因为我认为 coregraphics 位于 AppKit 之下。我是否缺少 gnustep 中的特定模块？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T22:01:16.190

据我所知，CoreGraphics 没有在 GNUstep 中实现。我相信虽然[Cocotron](http://cocotron.org/)有一个实现。

该错误`error: request for member ‘layer’ in something not a structure or union`指的是`view.layer`您打算从对象返回`layer`属性的表达式。`view`该语法来自 Objective-C 2.0，GNUstep 不支持开箱即用，最后我知道；检查[ObjC2FAQ](http://wiki.gnustep.org/index.php/ObjC2_FAQ)以获取有关启用它的信息（以及它对 GNUstep 的限制是什么）。

同时，您可以改用原始的 Objective-C 语法：`[view layer]`.

# asp.net - 会话超时优先级。哪个文件中描述的超时优先级更高？Global.asax 或 web.config 文件

> ID：16146249
> 
> 赞同：0
> 
> 时间：2013-04-22T11:38:20.363
> 
> 标签：asp.net, vb.net, visual-studio-2010, session-timeout

我对会话超时有疑问。

在 web.config 文件中，我将会话超时，如下所示。

```
<sessionState mode="InProc" cookieless="UseCookies" timeout ="30"/> 
```

在 Global.asax 文件中，我指定会话超时，如下所示。

```
 Sub Session_Start(ByVal sender As Object, ByVal e As EventArgs)

    Session.Timeout = 10

End Sub 
```

应用程序将首选哪个超时值？是 web.config 之一还是 Global.asax 之一？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:04:23.073

web.config 保存配置数据，而 global.asax 保存应用程序开始和结束事件，因此您可以看到 web.config 绝对优先于 global.asax。

我们还可以看到类似的情况，您在相当长的一段时间后刷新页面，然后应用程序不会使用 Application_Start 方法来检查会话超时值，而是会查找 web.config。

我想你现在明白我的意思了...

# sharepoint - url 在 SharePoint 超链接列中更改

> ID：16146252
> 
> 赞同：-1
> 
> 时间：2013-04-22T11:38:30.707
> 
> 标签：sharepoint, alternate-access-mappings

我有一个 SharePoint 2010 Web 应用程序“myapp.test.com”，我已将此应用程序扩展到 myapp-edit.test.com

我还配置了以下两个替代访问映射 url：

```
•myapp.test.com (Zone: Default) 
•myapp-edit.test.com (Zone: Intranet) 
```

我创建了一个带有超链接列的列表。问题是，当我使用 url: 将项目添加到此列表时，`myapp.test.com/Pages/myPage.aspx`此 url 将更改为

```
myapp-edit.test.com/Pages/myPage.aspx 
```

我如何让它保持原样`myapp.test.com/Pages/myPage.aspx`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:09:07.003

我建议做它`/Pages/myPage.aspx`，它在这两种情况下都可以工作。

# c++ - 如何从另一个 .cpp 文件访问全局结构？

> ID：16146260
> 
> 赞同：0
> 
> 时间：2013-04-22T11:38:49.420
> 
> 标签：c++, oop, class, struct, global

在 Surface.h 我有：

```
struct Surface{

    bool isAllowedOnTile[TILETYPE_COUNT];

    float moveBecomes;  // When this is 0, it is ignored
    float moveChange;   // Is ignored if moveBecomes is non-zero
    float affChange[ELEMENT_COUNT];

    ID2D1BitmapBrush* pBrush;
}; 
```

在某些时候，我需要像这样初始化多个表面：

```
Surface surface[SURFACEBMP_COUNT];

surface[0].moveBecomes = 123;
surface[0].moveChange = 0;
surface[0].affChange[0]= 2.0f;

... 
```

然后我想从我的程序中的任何地方访问surface[0]、surface[1]、surface[2]...。我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:41:07.917

最简单的方法——在头文件中使用

```
extern Surface surface[SURFACEBMP_COUNT]; 
```

然后在 .cpp 文件中声明并初始化它，并随时使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T11:41:46.940

使用`extern`, 并使`surface`全局。

`file.h`

```
#ifndef FILE_H
#define FILE_H

...

extern Surface surface[SURFACEBMP_COUNT];

#endif 
```

它是头文件，你应该将它包含在你需要的地方`surface`。

`file.cpp`

```
#include "file.h"

Surface surface[SURFACEBMP_COUNT]; 
```

# .net - 如何在 Visual Studio 2010 上以 json 格式从 SPARQL 端点检索数据

> ID：16146262
> 
> 赞同：0
> 
> 时间：2013-04-22T11:38:54.170
> 
> 标签：.net, json, rdf, sparql

我有一个从端点检索数据的应用程序：http: [//dblp.l3s.de/d2r/snorql/](http://dblp.l3s.de/d2r/snorql/)，在那里建立连接，发送查询并收到结果。我如何接收 JSON 格式的数据，端点可以选择以这种格式发送结果，默认我得到的是 RDF 三元组。我正在使用 Visual Studio 2010

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T18:56:39.303

您使用的工具应该无关紧要。

`http://dblp.l3s.de/d2r/sparql` 如果您发送`output`带有 value 的参数，sparql 端点将返回 json `json`，如下所示：

```
curl "http://dblp.l3s.de/d2r/sparql?query=SELECT+DISTINCT+*+WHERE+%7B%0D%0A++%3Fs+%3Fp+%3Fo%0D%0A%7D%0D%0ALIMIT+10&output=json" 
```

[运行查询](http://dblp.l3s.de/d2r/sparql?query=SELECT%20DISTINCT%20%2a%20WHERE%20%7B%0D%0A%20%20?s%20?p%20?o%0D%0A%7D%0D%0ALIMIT%2010&output=json)

# ssas - MDX - 使用 IIF 计算总计

> ID：16146273
> 
> 赞同：1
> 
> 时间：2013-04-22T11:39:31.820
> 
> 标签：ssas, mdx

我正在尝试使用 IIF 在计算中包含一些维度/属性。我可以过滤维度，但这些措施不计算总计。以下是我正在使用的功能。（我希望你能够忽略丹麦语的使用）

```
CREATE MEMBER CURRENTCUBE.[Measures].[Børn medtaget i årsrapport]
AS  
sum (iif(
    exists({[Ernaering].[NSU - Type].&[Udelukkende amning]}, [Ernaering].[NSU - Type].CurrentMember).Count = 1 AND 
    exists({[Ernaeringsperiode].[Måned].&[0]:[Ernaeringsperiode].[Måned].&[8]}, [Ernaeringsperiode].[Måned].CurrentMember).Count = 1
    , [Measures].[Antal børn]
    , null
))
, 
FORMAT_STRING = "#,##0;-#,##0",
VISIBLE = 1  ; 
```

[措施].[Antal børn] 是不同的计数，这也必须适用于总计。

希望有人能解答，先谢谢了。

最好的问候 Jens Henrik

# sql - 拆分并计算与分隔符合并的值

> ID：16146278
> 
> 赞同：4
> 
> 时间：2013-04-22T11:39:48.820
> 
> 标签：sql, sql-server

我在一个单元格中有 a|b|c|d|.. 值。如何通过在分隔符的帮助下拆分它来计算所有调用中 b 的总出现次数

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-22T11:44:53.930

如果需要计算出现次数，可以使用这个（SQL Server）：

```
SELECT LEN(yourColumn) - LEN(REPLACE(yourColumn, 'b', '')) FROM yourTable 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T11:48:09.097

我在 SQL-Server 2005 上并使用此`Split`功能：

```
SELECT split.Item, count=Count(*)
FROM dbo.Foo f
CROSS APPLY dbo.Split(f.ColName, '|')split
GROUP BY split.Item
Having split.Item='b' 
```

这里的表值函数：

```
CREATE FUNCTION [dbo].[Split]
(
    @ItemList NVARCHAR(MAX), 
    @delimiter CHAR(1)
)
RETURNS @IDTable TABLE (Item VARCHAR(50))  
AS      

BEGIN    
    DECLARE @tempItemList NVARCHAR(MAX)
    SET @tempItemList = @ItemList

    DECLARE @i INT    
    DECLARE @Item NVARCHAR(4000)

    SET @tempItemList = REPLACE (@tempItemList, ' ', '')
    SET @i = CHARINDEX(@delimiter, @tempItemList)

    WHILE (LEN(@tempItemList) > 0)
    BEGIN
        IF @i = 0
            SET @Item = @tempItemList
        ELSE
            SET @Item = LEFT(@tempItemList, @i - 1)
        INSERT INTO @IDTable(Item) VALUES(@Item)
        IF @i = 0
            SET @tempItemList = ''
        ELSE
            SET @tempItemList = RIGHT(@tempItemList, LEN(@tempItemList) - @i)
        SET @i = CHARINDEX(@delimiter, @tempItemList)
    END 
    RETURN
END 
```

[**演示**](http://sqlfiddle.com/#!3/e618c/1/0)

# xcode - MapView 在注释上显示不匹配的数据？

> ID：16146284
> 
> 赞同：0
> 
> 时间：2013-04-22T11:40:09.363
> 
> 标签：xcode, ios4, mkmapview

我是 iPhone 编程的新手，我正在练习 MKMapView。但它显示的是未占用的数据。我有两个 ViewController。在第一个 ViewController 上，我们有一个按钮，下面是这样编写的编码：- 有两个数组具有如下所示的数据：- **DetailArray:-** inNetwork = true;

```
 resName = taverna1;  
    statusColor = "#FF0000";
    statusString = "30 MIN";
    true = hasPromo;
},
    {
    false = hasPromo;
    inNetwork = true;
    resName = bungalow;
    statusColor = 00FF00;
    statusString = "NO WAIT";
},
    {
    inNetwork = true;
    resName = "casa_nostra";
    statusColor = 00FF00;
    statusString = "NO WAIT";
    true = hasPromo;
},
    {
    inNetwork = true;
    resName = karebu;
    statusColor = 00FF00;
    statusString = "NO WAIT";
    true = hasPromo;
}

**Annotation Array**

(
    "<MyAnnotViewController: 0x8457b60>",
    "<MyAnnotViewController: 0x845a040>",
    "<MyAnnotViewController: 0x84439f0>",
    "<MyAnnotViewController: 0x806f090>"
) 
```

MyAnnoationViewcontroller 是 MKAnnotation 的子类。它成功包含标题和坐标。

```
 SecondViewController *_SecondViewController =[[SecondViewController alloc]initWithNibName:@"SecondViewController" bundle:nil];
    _SecondViewController.DetailArray = detailArray;
    _SecondViewController.annotationArray = annotationArray;
     [self.navigationController pushViewController:_SecondViewController animated:YES]; 
```

在 secondViewController 上：-

```
MKMapView * MapView =[[MKMapView alloc]initWithFrame:CGRectMake(0, 0, 320, 415)];
MapView.delegate =self;
MapView.showsUserLocation =NO;

[MapView addAnnotations:annotationArray];

[self.view addSubview:MapView]; 
```

在 Delegate 方法上，它在注释上显示出非常不确定的结果。氯化物和标题是所需的输出。但是第一个休息名称的颜色显示第二个餐厅的颜色，第二个显示任何其他颜色。请任何人帮助我摆脱这个问题。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T21:27:29.933

您还没有显示您的代码，`viewForAnnotation`所以我只是在黑暗中刺伤并猜测您正在根据数组的顺序而不是在传递的注释对象上设置您正在绘制的视图的颜色在`viewForAnnotation`. `viewForAnnotation`你可以在 StackOverflow 上找到很多关于这里的问题。

PS你真的在使用iOS 4.0吗？那是相当老了。

# iphone - 一个 Xcode 项目可以有多个核心数据模型文件吗？

> ID：16146289
> 
> 赞同：6
> 
> 时间：2013-04-22T11:40:25.213
> 
> 标签：iphone, ios, xcode, core-data, synchronization

我正在开发一个 ipad 应用程序，我正在处理核心数据。

应用程序管理的数据可以分为两类。

*   第一种数据仅特定于该设备或应用程序。
*   而另一类数据需要在具有相同应用程序的各种设备之间同步。

所以在这个场景中，我想到在我的项目中有两个模型文件和两个相应的 sqlite 文件。并同步一个sqlite文件以实现同步。

请建议，如果我的方法是正确和可行的。如果没有，那么请提出其他解决方案。

请尝试理解这个问题。在这里，我谈论的是两个具有不同结构的 sqlite 文件。表示“.xcdatamodel”模型文件

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-22T11:43:35.300

[此处](https://stackoverflow.com/questions/13109257/is-it-possible-to-have-multiple-core-data-databases-on-one-ios-app)可能重复。

您可以拥有任意数量的数据模型，只要您为每个模型创建不同的托管对象上下文并正确管理它们。

```
- (NSURL *)applicationDocumentsDirectoryForCoreData
{
    return [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];
} 
```

//第一个数据模型

```
NSURL *modelURL1 = [[NSBundle mainBundle] URLForResource:@"1_model" withExtension:@"momd"];
NSURL *storeURL1 = [[self applicationDocumentsDirectoryForCoreData] URLByAppendingPathComponent:@"1_model.sqlite"];
NSError *error = nil;
NSManagedObjectModel *managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL1];
persistentStoreCoordinator1 = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel: managedObjectModel];

if (![persistentStoreCoordinator1 addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL1 options:nil error:&error])
    {
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    } 
```

//第二个模型。

```
 NSURL *modelURL2 = [[NSBundle mainBundle] URLForResource:@"2_model" withExtension:@"momd"];
 NSURL *storeURL2 = [[self applicationDocumentsDirectoryForCoreData] URLByAppendingPathComponent:@"2_model.sqlite"];
 managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL2];
 NSError *error = nil;
 persistentStoreCoordinator2 = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:managedObjectModel];

 if (![persistentStoreCoordinator2 addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL2 options:nil error:&error])
    {
        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    } 
```

在为您想要的商店取出 MOC 时：

```
//select your store - do that in selectStore or a function like that.
NSPersistentStoreCoordinator *coordinator = [self selectStore];
    if (coordinator != nil) {
        managedObjectContext = [[NSManagedObjectContext alloc] init];
        [managedObjectContext setPersistentStoreCoordinator:coordinator];
    } 
```

两个商店之间的选择。

```
-(NSPersistentStoreCoordinator *)selectStore
 {
    if(someCondtion? return persistentStoreCoordinator1: persistentStoreCoordinator2;
 } 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-04-22T11:44:40.377

您应该使用 plist 并将其存储为所有设备特定内容的文件，因为我怀疑它不会经常更新。然后，您可以在一行代码中将其读入字典或数组。

因此，要回答您的问题，是的，您可以拥有任意数量的 coredata 文件，但是维护起来会很麻烦

# php - 使用没有黑色背景的 PHP 从 Canvas 保存图像

> ID：16146292
> 
> 赞同：1
> 
> 时间：2013-04-22T11:40:34.580
> 
> 标签：php, javascript, canvas

我有一个项目，我需要使用 php 从用户绘制的画布中保存图像。问题是当我希望默认为白色或透明时，保存的文件总是有黑色背景。

我曾尝试在画布上绘制白色填充，但在画布中进行交互时，sketch.js 会将其擦除。

JS

```
function saveImage(){
    var xmlhttp;
    xmlhttp=((window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));
    xmlhttp.onreadystatechange=function()
    {
      if (xmlhttp.readyState==4 && xmlhttp.status==200)
        {
            //do something with the response
        }
    }
    xmlhttp.open("POST","upload.php",true);
    var oldCanvas = document.getElementById('colors_sketch').toDataURL("image/png");
    var img = new Image();
    img.src = oldCanvas;
    xmlhttp.setRequestHeader("Content-type", "application/upload")
    xmlhttp.send(oldCanvas);
} 
```

PHP

```
$im = imagecreatefrompng($GLOBALS["HTTP_RAW_POST_DATA"]);

imagepng($im, 'filename.png'); 
```

我已按照建议对其进行了修改，但似乎无法保存

```
$filePath = '($GLOBALS["HTTP_RAW_POST_DATA"])';  
$savePath = 'filename.png';  //full path to saved png, including filename and extension
$colorRgb = array('red' => 255, 'green' => 0, 'blue' => 0);  //background color

$img = @imagecreatefrompng($filePath);
$width  = imagesx($img);
$height = imagesy($img);

$backgroundImg = @imagecreatetruecolor($width, $height);
$color = imagecolorallocate($backgroundImg, $colorRgb['red'], $colorRgb['green'],                 $colorRgb['blue']);
imagefill($backgroundImg, 0, 0, $color);

imagecopy($backgroundImg, $img, 0, 0, 0, 0, $width, $height);

imagepng($backgroundImg, $savePath, 0); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:47:45.567

您需要在**PHP**中而不是在 Canvas 中添加背景。

看看[这个](https://stackoverflow.com/a/8447558/739897)解决方案。主要关键是创建带有背景的图像：

```
$backgroundImg = @imagecreatetruecolor($width, $height);
$color = imagecolorallocate($backgroundImg, $colorRgb['red'], $colorRgb['green'], $colorRgb['blue']);
imagefill($backgroundImg, 0, 0, $color); 
```

并在其上复制您的图像：

```
imagecopy($backgroundImg, $img, 0, 0, 0, 0, $width, $height); 
```

# actionscript-3 - 如何在 Flash as3 中获取特定帧

> ID：16146293
> 
> 赞同：0
> 
> 时间：2013-04-22T11:40:38.413
> 
> 标签：actionscript-3, flash

我在frame1的主时间线上有一个movieclip（MCa），在这个movieclip里面我在（MCa）时间轴的frame1上有另一个movieclip（MCb），在（MCb）里面有按钮，当我按下一个按钮时我想goandplay（主时间线的 frame2)。到目前为止，我已经设法使用以下代码进入（MCa）的（frame2）：

```
 MovieClip(this.parent).gotoAndPlay("2"); 
```

但是当我添加此代码时：

```
MovieClip(this.parent.parent).gotoAndPlay("2"); 
```

我收到一个错误，请告诉我解决此问题的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:54:41.707

试试这个

```
MovieClip(MovieClip(this.parent).parent).gotoAndPlay("2"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:25:51.070

```
MovieClip(this.parent.parent).gotoAndPlay("2"); 
```

在这里，您将转到标签名称为“2”的框架。

而如果你使用

```
MovieClip(this.parent.parent).gotoAndPlay(2); 
```

这将转到第 2 帧。

即，如果您使用引号，gotoAndPlay 需要一个帧标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:28:12.713

您最好使用`addEventListener`vs 您`MCb`的按钮，将主要时间线功能附加到它们。在这种情况下，您将不会在处理主时间线或主时间线时遇到麻烦`MCa`，`MCb`因为您将处于主时间线的上下文中。否则，请检查`MovieClip(root).gotoAndPlay(2)`它是否符合您的目的。

要添加侦听器，请在主时间线的上下文中使用以下内容：

```
MCa.MCb.TheButton.addEventListener(MouseEvent.CLICK,goTo2);
public function goTo2(e:MouseEvent:):void {
    gotoAndPlay(2);
} 
```

`TheButton`是要使主时间线前进到第 2 帧的按钮的实例名称。

# knockout.js - 淘汰赛 - 可观察值未更新

> ID：16146298
> 
> 赞同：0
> 
> 时间：2013-04-22T11:40:59.783
> 
> 标签：knockout.js, knockout-2.0, knockout-validation

我已经在之前的帖子中问过这个问题，但我并没有更接近一个解决方案：

[淘汰赛 - 无法使用订阅更新 Observable 值（由于扩展验证）](https://stackoverflow.com/questions/16133318/knockout-cant-update-observable-value-using-subscribe-due-to-extension-valid)

我有一个绑定到 TextBoxFor 的 observable (Amount)。

```
@Html.TextBoxFor(m => m.Amount, new { type = "number", data_bind = "value: Amount" }) 
```

当输入一个值时，需要对其进行验证以确保它不超过 999999。除此之外，如果该值小于 50，则需要将其设置为 50。每次“量的变化。

```
var viewModel = {
    Amount: ko.observable().extend({numeric: 0, max: 999999})
}; 
```

我已经尝试实施解决方案（在我之前帖子的回答中），但我无法让这些解决方案发挥作用。

我想出的最好的方法是创建一个计算如下。这将检查输入值并在第一次尝试时正确更新。随后的值更改不会触发屏幕上的更改，但单步执行代码似乎会更新 ViewModel.Amount 值。

```
@Html.TextBoxFor(m => m.Amount, new { type = "number", data_bind = "value: amountMin" })

quoteVehicleViewModel.VehicleMileage = ko.observable(0);

viewModel.amountMin = ko.computed({
    read: function () {
        return viewModel.Amount();  
    },
    write: function (value) {
        if (value < 50) {
            viewModel.Amount(50);
        }
    }
}).extend({ numeric: 0, max: 999999 }); 
```

** 在控制台中输入的“viewModel.Amount()”显示值为 1000，但屏幕上的值仍显示为输入的值。

感激地收到任何帮助

约翰

# c# - 使用表创建 c# 类。Sqlite网

> ID：16146306
> 
> 赞同：3
> 
> 时间：2013-04-22T11:41:39.873
> 
> 标签：c#, linq, sqlite, windows-runtime

我在 Windows Store App 的隔离存储中有 SQLite 数据库。我用`SQLite for Windows Runtime`

我的课：

```
[Table("Projects")]
public class Project
{
    [PrimaryKey]
    [Column ("id")]
    public int Id { get; set; }

    [Column("group_id")]
    public int GroupId { get; set; }

    public string Name { get; set; }
} 
```

我从网络服务器获取数据并将其放到本地`DataBase`。当我尝试将数据存储到时`DataBase`，我处理了异常

```
 e.message = table Projects has no column named Name 
```

因为`DataBase`没有列“名称”

我的问题是：如何将一个类与字段、映射`DataBase Column`和简单字段一起使用？（我不会包含某些字段`DataBase`，但我在课堂上需要它。）

**UPD。**

```
using System.ComponentModel.DataAnnotations.Schema;

[NotMapped]
public string Name { get; set; }

Error The type or namespace name 'NotMappedAttribute' does not exist in the namespace 'System.ComponentModel.DataAnnotations.Schema' (are you missing an assembly reference?) 
```

当我尝试添加`System.ComponentModel.DataAnnotations.dll`错误时：`System.ComponentModel.DataAnnotations.dll could not be added. This component is already automaticaly referenced by the build system`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:22:26.893

在这种情况下，您似乎正在使用[sqlite-net](https://github.com/praeclarum/sqlite-net)库，您需要使用`SQLite.IgnoreAttribute`

```
[SQLite.Ignore]
public string Name { get; set; } 
```

# excel-formula - 需要一个 Excel 公式来计算每两周一次的累积假期

> ID：16146311
> 
> 赞同：0
> 
> 时间：2013-04-22T11:41:55.280
> 
> 标签：excel-formula

我需要一个 Excel 公式来计算每两周一次的累积假期。输入变量是“开始日期”、“累计天数十进制值”。员工在前 4 年每年赚取 10 天。五年后，他们每年累积 20 天。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:29:44.997

好的，我根据当前日期快速了解了一下。

您可以通过选择一个确切的日期而不是 TODAY()（提示另一个单元格）并在另一个单元格中找到一周的中点来为 Bi 每周添加一个额外的列。

我总是建议按位构建公式，然后可能隐藏您不想看到的列，而不是尝试创建一个难以在单个单元格中维护的复杂公式。

在第 2 行

*   Col A : 人名
*   Col B：开始日期（日期）
*   Col C : 自开始日期和今天以来的年数`=YEARFRAC( B2, TODAY())`
*   Col D : 5 年以下应计天数`=IF(C2<5, C2*10, 50)`
*   Col E : 5 年累积的天数`=IF(C2<5, 0, C2-5)*20`
*   Col F : 总计`=D2+E2`

![在此处输入图像描述](https://i.stack.imgur.com/x7l8C.png)

# java - jboss中的dodeploy战争时对象是否有资格进行垃圾收集？

> ID：16146317
> 
> 赞同：1
> 
> 时间：2013-04-22T11:42:23.460
> 
> 标签：java, jboss

据我所知，服务器上部署了多个战争，因此每次重新启动服务器都不是一个好的选择。所以我只是部署具有任何版本更新的特定战争。但几天后它会引发堆空间问题。如果我在更新版本时没有做 dodeploy 并重新启动服务器。它不会引发堆空间问题。

所以我对此表示怀疑。

1）在jboss7中部署战争时它在内部做什么？

2）不是对之前战争的所有对象进行垃圾收集吗？

3）在部署时是否需要任何额外的设置才能完美运行？

这个问题可能很愚蠢..但在生产服务器上对我来说这是一个非常严重的问题。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:43:25.890

重新部署 WAR 文件触发的 OOME 是类加载器泄漏的典型症状：

*   JBoss 7 中显然存在类加载器泄漏。

*   您的代码正在执行的某些操作可能会导致类加载器泄漏。

不幸的是，这些泄漏很难追踪和修复，关闭并重新启动容器通常更实际。

参考：

*   [类加载器泄漏：可怕的“java.lang.OutOfMemoryError: PermGen space”异常](http://frankkieviet.blogspot.com.au/2006/10/classloader-leaks-dreaded-permgen-space.html)
*   [如何修复可怕的“java.lang.OutOfMemoryError: PermGen space”异常](http://frankkieviet.blogspot.com.au/2006/10/how-to-fix-dreaded-permgen-space.html)
*   [AS7 中的 ClassLoader 泄漏](https://community.jboss.org/message/716191)
*   [JBoss 7，java.lang.OutOfMemoryError：PermGen 空间](https://stackoverflow.com/questions/11646483/jboss-7-java-lang-outofmemoryerror-permgen-space)

# html - MIME::Lite 和内联 CSS 图像

> ID：16146323
> 
> 赞同：0
> 
> 时间：2013-04-22T11:42:50.190
> 
> 标签：html, perl, email, mime

我有以下代码：

```
#!/root/bin/perl
use strict;
use warnings;
use MIME::Lite;

my $data =<<"DATA";
<!DOCTYPE HTML PUBLIC >
<html>
<head>
<style>

#header {
  background-image: url("cid:background.png");
}
</style>

</head>
<body>
<div id="header"></div>
<img src="cid:logo_header.png"></img>
</body>
</html>

DATA

my $msg = MIME::Lite->new(
         To      => 'xxx@xxx.com',
         Subject => 'title',
         Type    => 'text/html',
         Data    => $data
    );
    $msg->attach(
        Type => 'image/png',
        Id   => 'logo_header.png',
        Path => 'logo_header.png',
    );
   $msg->attach( Type => 'image/png',
                 Id   => 'background.png',
                 Path => 'background.png'); 
   $msg->send(); 
```

`<img>`当我将图像作为背景放置或显示它时，似乎它没有在 CSS 中显示图像（这个模块甚至解析非 HTML 标签吗？） 。我什至尝试`background-image: url("cid:background.png");`变成`background-image: url("background.png");`，但这也不起作用。

任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:39:22.060

我想你会想要[CSS::Inliner](https://metacpan.org/module/CSS%3a%3aInliner)。专门为这个问题设计的。

html 电子邮件客户端有很多限制。如果您围绕该主题进行谷歌搜索，您会发现他们都有自己迷人的怪癖。

# javascript - 在 javascript phonegap1.7 应用程序中解析 JSON

> ID：16146328
> 
> 赞同：0
> 
> 时间：2013-04-22T11:43:12.147
> 
> 标签：javascript, objective-c, json, cordova

我有一个用 phonegap 编写的应用程序。我正在尝试将“json”（字符串）从目标 c 代码传递到 javascript 代码。json 包含希伯来字母，json 看起来像这样：

```
{
    "cell":[
    {
      "CellType":"HomePageData",
      "HBImage":"https://www.wwe.co.il/he-il/we/we/we/2013/04April/TFS/TFS_Big.jpg",
      "TitleA":"Twentyfourseven ",
      "SubTitle":"50 ש\"ח הנחה בקנייה ב- 250 ש\"ח ",
      "PurchaseType":"0",
      "BenefitId":"101616",
      "BenefitBalance":"",
      "CustomerFirstName":"",
      "CurrentBenefitNum":""
    }]
 } 
```

在 json 到 javascript 之后，我用 jQuery.parseJSON 做 Presser。

虽然 json 是合法的，但我收到错误语法错误或意外令牌

当值得不包含希伯来字母的json时就可以了。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:58:40.980

其实你不需要解析这个json

您可以通过以下方式直接访问它：

```
var a= {
            "cell":[
                {
                    "CellType":"HomePageData",
                    "HBImage":"https://www.wwe.co.il/he-il/we/we/we/2013/04April/TFS/TFS_Big.jpg",
                    "TitleA":"Twentyfourseven ",
                    "SubTitle":"50 ש\"ח הנחה בקנייה ב- 250 ש\"ח ",
                    "PurchaseType":"0",
                    "BenefitId":"101616",
                    "BenefitBalance":"",
                    "CustomerFirstName":"",
                    "CurrentBenefitNum":""
                }]
        }

    alert(a.cell[0].CellType)
    alert(a.cell[0].CellType)
    alert(a.cell[0].HBImage)
    alert(a.cell[0].TitleA)
    alert(a.cell[0].SubTitle) 
```

等等..

# php - 设置 POST 变量和重定向页面

> ID：16146330
> 
> 赞同：0
> 
> 时间：2013-04-22T11:43:17.457
> 
> 标签：php

我目前有一个标准的贝宝表格，它张贴到贝宝并收取一定的费用。然而，这些细节可以很容易地被用户修改。所以，我想知道我是否可以执行以下操作：

而不是我的“完成和支付”按钮直接转到贝宝，按钮的形式指向我的网站。

然后我的网站 PHP 代码设置了 POST 变量（地址、姓名、金额、业务、return_url 等），然后将页面重定向到贝宝网站。

PHP怎么可能做到这一点？到目前为止，我知道要做的唯一代码是使用该`header()`函数来重定向页面，但我不知道如何设置 POST 变量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:48:26.930

**编辑 - 这不起作用**

尝试这个：

```
// Set Data
$data = array();
$data['address'] = $_POST['address'];
$data['name'] = $_POST['name'];
//  the other info ....

// Send post data as url-encoded in the header
$req = http_build_query($data);

header("method: POST\r\n");
header("Host: localhost\r\n");
header("Content-Type: application/x-www-form-urlencoded\r\n");
header("Content-Length: ".strlen($req)."\r\n");
header($req."\r\n\r\n");
header("Connection: close\r\n\r\n");

header("Location: http://paypal.com/path/\r\n"); 
```

**初始帖子**

你可以使用卷曲：

```
$ch = curl_init('http://paypal.com/path/');

// Set Data
$data = array();
$data['address'] = $_POST['address'];
$data['name'] = $_POST['name'];
//  the other info ....

// Set options
curl_setopt($ch, CURLOPT_POST, 1);
curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

// Execute
$page = curl_exec($ch); 
```

# javascript - 如何将选项卡设置为禁用/启用

> ID：16146336
> 
> 赞同：0
> 
> 时间：2013-04-22T11:43:42.873
> 
> 标签：javascript, jquery, html, css

我有一个任务是通过单击复选框来禁用和启用选项卡。但是在我的第一个选项卡中，我有两个字段名称和年龄。第二个选项卡只有在第一个选项卡的验证完成后才启用。我可以通过选中复选框来显示选项卡，但它不应该启用。我该怎么做？我的 HTML 代码是

```
 <div id="tabs">
        <ul>
            <li><a href="#tabs-0">Tab1</a> 
            </li>
            <li><a href="#tabs-1">Tab2</a>

            </li>
            <li><a href="#tabs-2">Tab3</a>

            </li>
            <li><a href="#tabs-3">Tab4</a>

            </li>
        </ul>
        <div id="tabs-0"> <b>Name</b>

            <input type="text" id="name" />
            <br/> <b>Age</b>
            <input type="text" id="age" />
            <br/>
    <input type="checkbox" name="tabs-0" value="0" checked>tabs-1
    <input type="checkbox" name="tabs-1" value="1" disabled>tabs-2
    <input type="checkbox" name="tabs-2" value="2" disabled>tabs-3
    <input type="checkbox" name="tabs-3" value="3" disabled>tabs-4

            <input type="submit" value="next" class="submit" />
        </div>
        <div id="tabs-1"> <b>city</b>

            <input type="text" id="name" />
            <br/> <b>state</b>

            <input type="text" id="age" />
            <br/>
            <input type="submit" value="next" class="submit" />
        </div>
        <div id="tabs-2">
            <p>Tab3</p>
        </div>
        <div id="tabs-3">
            <p>Tab4</p>
        </div>

    </div> 
```

Javascript

```
$(function () {
    $("#tabs").tabs();
    $("#tabs").tabs("option", {
        "selected": 0,
            "disabled": [1, 2, 3]
    });

    $('.submit').click(function () {
        if($('#name').val()=='')
        {
            alert("empty");
        }
        else
        {
        var nexttab = parseInt($(this).parent().next().attr('id').match(/\d+/g), 10);
        $('#tabs').tabs("enable", nexttab).tabs("select", nexttab);
        $('input[name="tabs-'+nexttab+'"]').removeAttr('disabled').prop('checked', true);
        }
    });

    $("input[type=checkbox]").click(function () {
        if ($(this).is(':checked')) {
            $('#tabs').tabs("enable", $(this).val());
            $('#tabs').tabs("select", $(this).val()-1);
        } else {
            $('#tabs').tabs("disable", $(this).val());
            var tab = $(this);
            $(":checked").each(function (index) {
                $('#tabs').tabs("select", $(this).val());
            });
        }
    });
}); 
```

你可以看[DEMO](http://jsfiddle.net/2aQ2g/63/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:49:17.050

据我了解。试试这个

```
<input type="checkbox" name="tabs-1" value="1" checked>tabs-2
<input type="checkbox" name="tabs-2" value="2" checked>tabs-3
<input type="checkbox" name="tabs-3" value="3" checked>tabs-4 
```

代替

```
<input type="checkbox" name="tabs-1" value="1" disabled>tabs-2
<input type="checkbox" name="tabs-2" value="2" disabled>tabs-3
<input type="checkbox" name="tabs-3" value="3" disabled>tabs-4 
```

删除 CSS

```
.ui-state-disabled {
 display: none;
 } 
```

JS 更改

```
$("#tabs").tabs("option", {
    "selected": 0            
}); 
```

[演示](http://jsfiddle.net/2aQ2g/60/)

# c# - 如何在 C# 中将数组添加到 SQL 行？

> ID：16146337
> 
> 赞同：6
> 
> 时间：2013-04-22T11:43:48.633
> 
> 标签：c#, sql, arrays, .net, sql-server

我有一个由 StringBuilder 制作的数组：

```
string[] input;
input = sb.ToString().Split(','); 
```

现在我想将此“输入”数组中的数据插入到 SQL 行中？数组中的第一个元素必须是整数。我怎样才能以最快的方式实现这一点？

在此先感谢您的帮助或示例。

* * *

我已经从 SQL 表中读取，编辑，我已经到 sb 并且我有：

```
{50001,Pingu,C:\Users\Public\Pictures\Sample Pictures\Penguins.jpg,A,Skift 2,Requill,sQ,,,,,S5,,,,,,,Motvikt,,Kvalité_nr_2,,,,,,,,,,,,}

col(0)  col(1)   col(2) col(3)  col(4)  col(5)  col(6)  col(7)

50001   Pingu    Pathway    A   Skift 2  Requill    SQ    "" 
```

现在我想保存回 SQL。SQL 中的列数量和名称正在发生变化。这就是我使用数组的原因。

维多

* * *

我已经尝试了以下（见代码），现在我得到了错误：

必须声明标量变量“@Param”

cbItems 数组包含数据库中列的名称。

```
 string[] cbItems;
        cbItems = sbItems.ToString().Split(',');

        string[] input;
        input = sb.ToString().Split(',');

        DataSet dataSet = new DataSet();
        dataTable = dataSet.Tables.Add();

        SqlConnection cn = new SqlConnection(connString);

        int firstElement;
        Int32.TryParse(input[0], out firstElement);

        string sql = "INSERT INTO UserData1 (Anställningsnummer) VALUES (@ID)";

        cn.Open();
        SqlCommand cmd = new SqlCommand(sql, cn);
        cmd.Parameters.AddWithValue("@ID", firstElement);
        cmd.ExecuteNonQuery();

        int i = 1;
        foreach (string r in input)
        {
            string paramName = cbItems[i].ToString();
            string anyElement= input[i].ToString();
            SqlCommand myInsertCmd = new SqlCommand("INSERT INTO UserData1(" + paramName + ") VALUES(@Param)", cn);

            cmd.Parameters.AddWithValue("@Param", anyElement);

            i++;
            myInsertCmd.ExecuteNonQuery();
        }

        cn.Close(); 
```

我错过了什么吗？

维多

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T11:47:18.167

您必须将数组中的第一个元素解析为整数。

```
 int firstElement;
 Int32.TryParse(input[0], out firstElement); 
```

然后，您可以使用`firstElement`并将其添加为`SQL Parameter`

```
string sql = "INSERT INTO TABLE (ID) VALUES (@ID)";

SqlCommand cmd = new SqlCommand(sql, _connection);
cmd.Parameters.AddWithValue("@ID", firstElement); 
```

# php - PHP OOP 数据库类 - 真的需要吗？

> ID：16146342
> 
> 赞同：4
> 
> 时间：2013-04-22T11:44:08.110
> 
> 标签：php, oop, mysqli

我目前正在学习在 PHP 中使用 OOP 进行编码，并且经常遇到数据库类和抽象层。我正在编写一个 CMS 作为一个巨大的挑战，我开始编写一个数据库类而没有考虑太多。

我实际上倾向于按原样使用 MySQLi（我认为按原样使用非常好），而不是创建一个类来处理 CRUD 操作，所以我真的需要一个类来处理所有这些东西吗？

如果不是，那么连接到数据库的最佳方法是什么，只需在我的应用程序开始时进行并传递连接？或者编写一个我缺少的数据库类真的有很大的好处吗？

我认为错误处理将是一个这样的好处，但如果我让我的课程尽可能接近 MySQLi，那么这是继续上课的充分理由吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T11:47:08.197

主要好处是，如果您可以让所有代码通过您的数据库对象。您可以在将来轻松更改数据库实现。您说您正在学习 mysqli，但说在您更改为 PDO 的中途，您将不得不重构 -everything-。

使用您的自定义数据库对象，您可以简单地更改集成而不影响其余代码。例如，您的 objects->connect() 函数仍然可以像现在一样被调用，但底层代码会发生变化，因为它都在您的自定义类中，所以您所做的更改是最小的。

这只是众多好处之一。与数据库对象接口以运行查询和存储结果的自定义类很常见（MVC 的模型部分 - 通常扩展一个公共基础对象，通常称为 RecordSet 或类似的具有运行选择/更新/删除功能/ETC）。同样，您可以轻松地将实现从一种方法更改为另一种方法。

我所描述的是面向对象编程的一个非常普遍的优势。请参阅您的常识的答案以获得另一个好处。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T12:11:27.383

谢谢你的好问题。

> PHP OOP 数据库类 - 真的需要吗？

绝对可以，但前提是您不喜欢在代码中执行的每个查询都出现大量重复代码。

如果您重新审视执行一个平均查询所需的代码，您可能会注意到它的数量非常可怕。虽然您只需要定义一个查询、传递变量、运行它并获得结果，但您必须编写数千个无用的运算符，并为每个查询重复。

手册中的示例（即使没有错误处理）

```
if ($stmt = $mysqli->prepare("SELECT District FROM City WHERE Name=?")) {
    $stmt->bind_param("s", $city);
    $stmt->execute();
    $stmt->bind_result($district);
    $stmt->fetch();
    echo $district;
} 
```

使用数据库助手类的示例：

```
$district = $db->getOne("SELECT District FROM City WHERE Name=?s", $city);
echo $district; 
```

这仅适用于单行。对于行数组，如果使用原始 API，代码量将加倍

如果使用 mysqli，情况会变得更糟。

让我们举个简单的例子。想象有一个未知大小的 id 数组。您需要在简单查询中将它们全部添加到 IN 语句中

```
SELECT * FROM t WHERE id IN (1,2,3) // filled from array. 
```

尝试使用 mysqli 准备好的语句获取数据

# php - 获取某个类别中的工厂数量

> ID：16146345
> 
> 赞同：0
> 
> 时间：2013-04-22T11:44:25.600
> 
> 标签：php, mysql, codeigniter, count, categories

在[这个](https://stackoverflow.com/questions/15758599/show-number-of-factories-behind-categories-in-sidebar-codeigniter)问题中，我询问了如何显示位于特定类别中的工厂数量（使用计数）。

我只想做这样的事情：

```
Sidebar
------
Category1 (3)
Category2 (7)
Category3 (2) 
```

其中 () 之间的数字是位于特定类别中的工厂。

我使用连接表来获取 factoryid 和 categoryid。我将此表称为工厂类别。这样，我可以为我的工厂指定多个类别。

那么如何计算那些具有类别 id 的工厂呢？

当我在 url 中使用 id 时，我可以让它工作，但是在索引页面上，我的 url 中没有 id，所以这不起作用。

我的表结构：

```
factorycategories
-----------------
idfactorycategories
idfactories
idcategories

factories
---------
idfactories
factoryname
adress
postcode
country
etc etc..

categories
----------
idcategories
category 
```

# 编辑

我当前的代码：

工厂型号：

```
function bedrijf_categorie()
{

    $sql = "
    SELECT count(b.idbedrijven) as ItemCount, c.Categorie as Categorie
    FROM `bedrijven` b
    INNER JOIN `bedrijfcategorieen` bc
    ON bc.idbedrijven = b.idbedrijven
    INNER JOIN `categorieen` c
    ON c.idcategorieen = bc.idcategorieen
    GROUP BY c.idcategorieen
    ";
    $query = $this->db->query($sql);
    return $query->result();
}

    function index()
    {
    $data['counts'] = $this->bedrijven_model->bedrijf_categorie();
    } 
```

在我看来：

```
print_r($counts) 
```

# 编辑2

修复。我删除了

```
foreach($query as $k->$value){ 
```

这是我的旧功能。

并添加

```
foreach($counts as $count){ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:51:49.150

你只是在寻找这样的东西

```
 select count(Factorycategories.idfactorycategories) as total , Factorycategories.idcategories, Categories.Category from Factorycategories 

LEFT JOIN Categories
ON Factorycategories.idcategories=Categories.idcategories

group by Factorycategories.idcategories

idfactorycategories idcategories    idfactories
        1              1                1
        2                  1                2
        3              2                3
        4              3                4
        5              1                5 
```

您只需使用左连接或示例连接获取类别名称即可从类别表中打印类别名称

**输出**

```
total   idcategories
3            1
1            2
1            3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T15:24:45.230

在您的模型中，您需要调整查询。我不确定您的表结构到底是什么样的，所以我使用自己的示例：

```
SELECT count(c.id) as ItemCount, p.shortname as Page
FROM `icms3_content` c
INNER JOIN `icms3_page_content` pc
ON pc.content_id = c.id
INNER JOIN `icms3_page` p
ON p.id = pc.page_id
GROUP BY p.id 
```

这给我带来的结果如下：

```
ItemCount | Page
===========================
        2 | home
        1 | typography
        1 | responsive 
```

这是正确的结果，因为主页有两条内容，而其他 2 页各只有一项。

下面是我的表结构：

```
CREATE TABLE IF NOT EXISTS `icms3_content` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(255) NOT NULL,
  `teaser` varchar(255) NOT NULL,
  `content` longtext NOT NULL,
  `author` varchar(64) NOT NULL,
  `active` enum('Yes','No') NOT NULL,
  `publish_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `unpublish_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

CREATE TABLE IF NOT EXISTS `icms3_page` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `shortname` varchar(64) NOT NULL,
  `image` varchar(255) NOT NULL,
  `title` varchar(64) NOT NULL,
  `keywords` varchar(255) NOT NULL,
  `description` varchar(320) NOT NULL,
  `author` varchar(128) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ;

CREATE TABLE IF NOT EXISTS `icms3_page_content` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `page_id` int(11) NOT NULL,
  `content_id` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 ; 
```

**编辑：使用您发布的表格，您的查询将更改为以下内容：**

```
SELECT count(f.id) as ItemCount, c.category as Category
FROM `factories` f
INNER JOIN `factorycategories` fc
ON fc.idfactories = f.idfactories
INNER JOIN `categories` c
ON c.idcategories = fc.idcategories
GROUP BY c.idcategories 
```

# php - 在 foreach 中或在 php 中时不起作用

> ID：16146350
> 
> 赞同：-2
> 
> 时间：2013-04-22T11:44:35.303
> 
> 标签：php, mysql, foreach, while-loop

该`while`循环仅适用于该值的第一条记录`foreach`。我不明白为什么。任何帮助将不胜感激。

```
foreach($country_array as $country_new)
{ 
    $result=mysql_query("select product.product_id,product.product_name from product left join country_iso_telcode on product.country=country_iso_telcode.country_name left join product_category_listing on product.product_id=product_category_listing.product_id where product.product_name REGEXP '[[:<:]]$search' and country_iso_telcode.region='$region' and product.country='$country_new'")or die("wrong query in search results displaying button results"); 

    while($row=mysql_fetch_array($result)) 
    { 
        $product_id=$row['product_id'];
        $product_name=$row['product_name'];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:51:00.083

基本上你需要把结果放在一个数组中

```
$arr = array();
foreach($country_array as $country_new)
 { 
     $result=mysql_query("select product.product_id,product.product_name from product left join country_iso_telcode on product.country=country_iso_telcode.country_name left join product_category_listing on product.product_id=product_category_listing.product_id where product.product_name REGEXP '[[:<:]]$search' and country_iso_telcode.region='$region' and product.country='$country_new'")or die("wrong query in search results displaying button results"); 
$i = 0;
while($row=mysql_fetch_array($result)) 
{ 
    $arr[$country_new]['product_id'][$i]=$row['product_id'];
    $arr[$country_new]['product_name'][$i]=$row['product_name'];
    $i++;
}

}
print_r($arr); 
```

# java - 以编程方式从 JUnit 测试中导出 XML 结果？

> ID：16146355
> 
> 赞同：0
> 
> 时间：2013-04-22T11:45:10.110
> 
> 标签：java, eclipse, junit

我在 Eclipse 中运行 JUnit 测试。最后，我想将结果导出到 XML 文件中。这可以使用 JUnit 视图中的导出功能手动完成。

是否可以在测试结束时从我的 Java 代码中自动导出？ANT 不是一个选项！

# mysql - MySQL：从表中删除除 20 行之外的所有行？

> ID：16146359
> 
> 赞同：2
> 
> 时间：2013-04-22T11:45:29.363
> 
> 标签：mysql

我有一张有数十万行的表，分配给一个用户。例如：

```
itemid | userid | etc
1      | 1      | etc
2      | 1      | etc
3      | 1      | etc
4      | 3      | etc
5      | 3      | etc
6      | 3      | etc
etc    | etc    | etc 
```

用户可以有任意数量的项目分配给他或她。即从0 到无穷大的任何数字。我的问题是我想要一个 SQL 查询，它将删除每个用户的所有项目，但保留 20 个。如果用户少于 20 个，例如，只分配了 10 个项目，它必须保留所有 10 个。

我怎么做？

**更新**

如果用户有 50 个项目，ID 为 1 - 50，则它必须返回项目 30 - 50。换句话说，该用户的最后 20 个插入项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:14:38.680

假设我们要删除每个用户的两个最新条目之外的所有条目......

```
CREATE TABLE my_table(itemid INT NOT NULL AUTO_INCREMENT PRIMARY KEY,userid INT NOT NULL);

INSERT INTO my_table VALUES
(1, 1),
(2, 1),
(3, 1),
(4, 3),
(5, 3),
(6, 3);

SELECT * FROM my_table;
+--------+--------+
| itemid | userid |
+--------+--------+
|      1 |      1 |
|      2 |      1 |
|      3 |      1 |
|      4 |      3 |
|      5 |      3 |
|      6 |      3 |
+--------+--------+ 
```

这是一个选择要删除的行的查询...

```
SELECT a.* 
  FROM my_table a 
  LEFT 
  JOIN 
     ( SELECT x.*, COUNT(*) FROM my_table x JOIN my_table y ON y.userid = x.userid AND y.itemid >= x.itemid GROUP BY x.itemid HAVING COUNT(*) <=2)b 
    ON b.itemid = a.itemid 
 WHERE b.itemid IS NULL;
+--------+--------+
| itemid | userid |
+--------+--------+
|      1 |      1 |
|      4 |      3 |
+--------+--------+ 
```

...这是删除它们的查询...

```
DELETE a 
  FROM my_table a 
  LEFT 
  JOIN 
     ( SELECT x.*, COUNT(*) FROM my_table x JOIN my_table y ON y.userid = x.userid AND y.itemid >= x.itemid GROUP BY x.itemid HAVING COUNT(*) <=2)b 
    ON b.itemid = a.itemid 
 WHERE b.itemid IS NULL;

SELECT * FROM my_table;
+--------+--------+
| itemid | userid |
+--------+--------+
|      2 |      1 |
|      3 |      1 |
|      5 |      3 |
|      6 |      3 |
+--------+--------+ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:40:40.320

尝试这个

```
 delete from Fruits where itemid  
     not in (select itemid from (select itemid from Fruits where userid = 1
     ORDER BY itemid desc limit 20)x  )
     and userid=1 
```

[**在这里演示**](http://sqlfiddle.com/#!2/2b1ea/2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:53:02.170

该代码的工作原理如下：

*   创建一个新列：count - 计算每个用户的项目
*   按 itemid 降序排列结果 - 以便用户的第一个事件获得最高 id
*   选择/删除所有计数 > 20 的行 - 保持最后 20 个（或更少）事件不变

**选择：**

```
SET @count=1;
SET @last_user_id=0;

SELECT * FROM (
SELECT *,
case 
when (@last_user_id = userid) 
then 
@count:=@count+1
else @count:=1 end as count,
case 
when (@last_user_id!=userid) 
then 
@last_user_id:=userid
end
as new
FROM <tablename> ORDER BY userid, itemid DESC) AS inner_table WHERE count > 20 
```

**删除：**

```
SET @count=1;
SET @last_user_id=0;

DELETE FROM (
SELECT *,
CASE 
WHEN (@last_user_id = userid) 
THEN  
@count:=@count+1
ELSE 
@count:=1 
END 
AS count,
CASE 
WHEN (@last_user_id!=userid) 
THEN  
@last_user_id:=userid
END 
AS new
FROM <tablename> ORDER BY userid, itemid DESC) AS inner_table WHERE count > 20 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-22T12:39:04.580

这对我有用：

```
DELETE FROM table WHERE itemid NOT IN ( 
      SELECT itemid 
        FROM ( 
          SELECT * 
          FROM table
          WHERE userid = 1
          ORDER BY itemid  DESC 
          LIMIT 20
        ) x 
    ) 
    AND userid = 1 
```

# ruby-on-rails - 运行 rake 测试时如何跳过一些测试文件夹

> ID：16146364
> 
> 赞同：1
> 
> 时间：2013-04-22T11:45:44.097
> 
> 标签：ruby-on-rails, ruby, rake, rake-task, rake-test

我有以下配置来运行 gem 的测试：

```
require 'rake/testtask'

Rake::TestTask.new(:test) do |t|
  t.libs << 'lib'
  t.libs << 'test'
  t.pattern = 'test/**/*_test.rb'
  t.verbose = false
end 
```

在我`test`的文件夹中，我有一个文件夹（比方说`skipped_tests`），其中包含我不想使用此任务进行测试的测试。是否可以调整模式以跳过特定文件夹，如下所示：

```
t.pattern = 'test/^skipped_tests/*_test.rb' 
```

请分享您对此的看法。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:55:24.063

您可以使用`test_files`而不是`pattern`这样：

```
t.test_files = Dir['test/**/*_test.rb'].reject do |path| 
  path.include?('skipped_test')
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-17T19:50:43.393

一种选择是将 a`FileList`与`test_files`属性一起使用。它可能比手动执行剔除更简洁（和/或精确）。

因此，OP 的示例将变为：

```
require 'rake/testtask'

Rake::TestTask.new(:test) do |t|
  t.libs << 'lib'
  t.libs << 'test'
  t.test_files = FileList['test/**/*_test.rb'].exclude('test/skipped_tests/**/*')
  t.verbose = false
end 
```

# python - 从另一个函数调用变量

> ID：16146365
> 
> 赞同：0
> 
> 时间：2013-04-22T11:45:45.387
> 
> 标签：python, function, error-handling

这是我遇到的问题类型的一个简单示例：

```
def making_list(text):
    list_ = []
    i = 0
    while i < int(len(text)):
        list_.append(text[i])
        i += 1
    return list_

def calling_list(list_):
    print list_

text = raw_input("text input")

making_list(text)
calling_list(list_) 
```

来自**making_list**的变量*list_*不能被函数**calling_list**识别。这个问题的可能解决方案是什么？

 ****谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:46:58.373

您没有将变量存储在任何地方。

```
mylist = making_list(text)
calling_list(mylist) 
```

说明：变量名仅在函数范围内有效。如果你离开函数（返回一些局部变量），你只返回变量的“值”，而不是它的名称，你需要将它分配给外部变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:49:29.543

您必须声明将输出`making_list`作为其值的变量。`making_list`函数返回`list_`；但是如果您不将它分配给函数之外的另一个变量，则无法访问它。

`list_ = making_list(text)`将解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:34:05.140

您的`making_list`-function 不返回任何内容。这将起作用

```
list = making_list(text)
calling_list(list) 
```

那可行。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T13:10:02.470

我不想更改或优化您的代码，我只想提供一个可能的解决方案：

1）如果要`list_`存储在内存中，请更改代码的最后两行，如下所示：

```
list_=making_list(text)
calling_list(list_) 
```

现在您可以在代码中的任何位置访问 list_。

2）如果您不想存储`list_`并且只想打印它并忘记它，请删除代码的最后两行并改写这一行：

```
calling_list(making_list(text)) 
```****

# java - 爪哇；数组列表 指数

> ID：16146376
> 
> 赞同：0
> 
> 时间：2013-04-22T11:46:42.090
> 
> 标签：java

大家好！我已经使用这个项目来记录棒球赛季，并且我在使用 ArrayList 时遇到了这个问题：

. . .

```
private ArrayList<Team> list1 = new ArrayList<Team>();

Team something = new Team("Somename");
Team somethingelse = new Team("Someothername"); 
```

然后我使用了一些设置器，例如：

```
something.setPoints(1);
somethingelse.setPoints(2); 
```

接着：

```
list1.add(something);
list1.add(somethingelse); 
```

但问题来了：

```
int help1 = list1.indexOf(something);
System.out.println(help1); 
```

返回 -1

但列表包含这些对象：

```
for (Team d: list1) {
      System.out.println(d);
 } 
```

输出是我写给 Team 类的 toString() 方法......

然后我尝试了

```
ArrayList<Integer> list2 = new ArrayList<Integer>();

list2.add(1);

list2.add(2);

int help2 = list2.indexOf(1);
System.out.println(help2); 
```

返回 0

所以基本上我要问的是，当列表包含具有多个值的对象时，使用 indexOf 的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:48:35.940

您需要覆盖类[`equals`](http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29)中的方法`Team`。因此，当您这样做时`list1.indexOf(something);`，该[`indexOf`](http://docs.oracle.com/javase/6/docs/api/java/util/List.html#indexOf%28java.lang.Object%29)方法知道如何定位对象`something`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T11:50:02.207

您需要覆盖 Team 类的 hashcode 和 equals ！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:50:36.247

根据Java doc[`indexOf`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#indexOf%28java.lang.Object%29)

> 返回此列表中指定元素第一次出现的索引，如果此列表不包含该元素，则返回 -1。更正式地说，返回满足 (o==null ? get(i)==null : o.equals(get(i))) 的最低索引 i，如果没有这样的索引，则返回 -1。

因此，您基本上需要使用您想要匹配的任何方法，例如`override`：`equals()`

```
@Override
public boolean equals(object obj)
{
     if(obj instanceof Team)
     {
          Team t = (Team) obj;
          return t.getName().equals(this.getName());
     }
     return false;

} 
```

此代码未经测试，但它应该可以满足您的需求。在这种情况下，如果两个团队名称相同，我认为它们是相等的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T11:51:31.423

如果该`something`对象在整个示例中都是*同一个*实例，那么一切都应该没问题，因为`Object.equals`正在使用，它为同一个实例返回 true。

但是，如果您正在创建另一个具有相同值和所有值的对象，`Object.equals`则将返回`false`. 您需要实现一个考虑您的对象字段的`equals`and方法。`hashCode`

# c++ - XRender 显示来自磁盘/应用程序生成的图像的图片

> ID：16146377
> 
> 赞同：2
> 
> 时间：2013-04-22T11:46:47.523
> 
> 标签：c++, linux, x11, xlib

我正在使用 GCC 在 Linux 上制作一个应用程序，其中一段时间​​以来我一直在使用 PngLIB 从磁盘加载我的图片。我从标准的 xlib 跳到 Xrender 扩展，以便利用这个扩展提供的抗锯齿和 alpha 通道属性。

但是，此扩展提供了一组减少的原语。例如，为了显示从磁盘加载的图片，我一直在使用 pnglib 加载它，然后调用 XRenderFillRectangle，宽度和高度为 1 个像素以及该像素所需的颜色。然而，随着我增加从磁盘加载的图标和图片的数量，很容易理解我很容易遇到数百万次对原始 XRenderFillRectangle 的调用。结论：目前，该应用程序需要大约 20 秒来渲染所有内容，这甚至不是我想要渲染的一半。

我很确定我使用的这种方法是完全错误的，必须有另一种方法！而且我也很确定这不是 Cairo 或 Java2D 生成这些东西的方式。

**所以我的问题是：**如何准备并放入由应用程序生成的 Xrender 图像的图片？例如，从磁盘加载的图像？

可以将标准的 XPutImage 函数应用于 Xrender 的图片吗？我应该在生成图片之前将数据放入 Pixmap 吗？到目前为止，我的方法还没有奏效。

**PS：**请不要推荐我使用更丰富的库，例如 Cairo 或 Qt。我现在在这里提出这个问题，因为不幸的是，每次我找到有关这种情况的帖子时，大多数人的回答是：使用开罗。我真的需要在这个 X11 系统上保持尽可能低的水平。非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T21:48:39.863

XRenderCreatePicture 将像素图（或任何可绘制对象）作为参数。为了使用 xrender 绘制像素，您需要：

*   创建像素图
*   使用 XPutImage 将图像数据传输到服务器
*   创建与您的像素图关联的图片对象
*   创建与您的窗口关联的图片对象
*   使用 XRenderComposite 组合它们

[在此处](http://www.x.org/releases/X11R7.6/doc/libXrender/libXrender.txt)查看 libXRender 文档

[使用node-x11 的](https://github.com/sidorares/node-x11)示例：

```
var x11 = require('x11');

var Exposure = x11.eventMask.Exposure;

var width = 300;
var height = 300;

var rgb = {
  data:new Buffer(width*height*4),
  width: width,
  height: height
};

var index;
for (var x = 0; x < rgb.width; ++x)
{
  for (var y = 0; y < rgb.height; ++y)
  {
    index = (x + y*rgb.width)*4;
    rgb.data[index] = parseInt(Math.sin(13*x/rgb.width)*255);
    rgb.data[index+1] = parseInt(Math.cos(15*y/rgb.height)*255);
    rgb.data[index+2] = parseInt(Math.cos(16*y/rgb.height)*255);
  }
}

x11.createClient(function(err, display)
{
  var X = display.client;
  X.require('render', function(Render) {
    var root = display.screen[0].root; 
    var win, picWin, pic, gc;

    win = X.AllocID();
    X.CreateWindow(
       win, root,
       0, 0, rgb.width, rgb.height,
       0, 0, 0, 0,
       { eventMask: Exposure }
    );
    X.MapWindow(win);

    gc = X.AllocID();
    X.CreateGC(gc, win);

    var rgbPixmap = X.AllocID();
    X.CreatePixmap(rgbPixmap, win, 24, rgb.width, rgb.height);
    X.PutImage(2, rgbPixmap, gc, rgb.width, rgb.height, 0, 0, 0, 24, rgb.data);

    var rgbPicture = X.AllocID();
    Render.CreatePicture(rgbPicture, rgbPixmap, Render.rgb24);
    var winPicture = X.AllocID();
    Render.CreatePicture(winPicture, win, Render.rgb24);

    X.on('event', function(ev) {
      if (ev.name == 'Expose')
        Render.Composite(3, rgbPicture, 0, winPicture, 0, 0, 0, 0, 0, 0, rgb.width, rgb.height);
    });
  });
}); 
```

# html - 点击里面后HTML textarea外观改变了吗？

> ID：16146384
> 
> 赞同：1
> 
> 时间：2013-04-22T11:47:10.630
> 
> 标签：html, css, google-chrome, textarea, opera

在我点击进去后，我的`Textarea`外观将会改变。这将发生在`google-chrome`, `Safari`。当页面被加载时，它还会显示一个滚动条`Opera`。

我不想改变外观。

在点击之前`Textarea`，

![在此处输入图像描述](https://i.stack.imgur.com/61yoR.png)

点击进去后`Textarea`，

![在此处输入图像描述](https://i.stack.imgur.com/AQZlk.png)

同样在 `opera`，Textarea 看起来带有滚动条，

![在此处输入图像描述](https://i.stack.imgur.com/3lUJx.png)

如何禁用此滚动条`opera`？它会在页面加载时发生在歌剧中。

我的`jsp`意志是，

```
<div id="messageArea">
    <table border="0" width="95%">
        <tr>
            <td id="msgvalue" style="width:91%;border-color: #6495ED;border-style: solid;border-width: 1px;">
            <textarea id="message" onkeypress="javascript:message_onkeypress(event);" ></textarea></td>
            <td style="width:2%;"></td>
            <td style="width:7%;"><input type="submit" name="send" value="Send" id="sendButton"  /></td>
        </tr>
    </table>
</div> 
```

我的`CSS`意志是

```
#messageArea {
    padding-left: 16px;
    height: 10%;
    width: 95%;
    background-color: white;
}

#message {
    width: 99.5%;
    height: 49px;
    border: none;
    overflow: auto;
    resize: none;
}

#sendButton {
    width: 100%;
    height: 60px;
    background-color: #5690dd;
    color: white;
} 
```

好的答案将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:49:21.027

您应该可以使用以下方法将其删除：

```
textarea:focus, input:focus{
    outline: none;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:05:29.680

你可以这样写：

```
#message{outline:none} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T13:19:09.953

所有版本的 IE 在文本区域上都有一个滚动条，即使它们是空的。如果你想删除试试这个

```
CSS

textarea { overflow: auto; } 
```

当文本区域中的文本扩展超出其边界时，滚动条将（正确地）返回。

**编辑：** 你可以试试这个歌剧

```
textarea {

resize: none;

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T14:50:27.620

尝试这个：

```
textarea 
{ 
    overflow: auto; 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T11:56:24.773

`td`从您的元素中删除边框样式，然后将其应用到您的元素上`textarea`，您应该一切顺利。

```
<td id="msgvalue" style="width:91%;">
   <textarea id="message" onkeypress="javascript:message_onkeypress(event);" style="border: 1px solid #6495ED"></textarea>
</td> 
```

# php - 如何在不使用 Ajax 重新加载页面的情况下更新数据库和 div

> ID：16146389
> 
> 赞同：-2
> 
> 时间：2013-04-22T11:47:20.343
> 
> 标签：php, ajax

我对编程很陌生。我制作了一个带有下拉菜单的页面，并通过选择我希望更新 MySQL 数据库中的字段（分数）以及同一页面的 div 中的选项而无需实际重新加载整个页面。有人可以向我展示一个如何使用 Ajax 进行操作的示例吗？-谢谢

```
while($row=mysql_fetch_assoc($result_arrays)){
        $userid=$row['userid']; 
        $score=$row['score'];
        echo "                      
             <p><div class='user'><a href='#'><b>$userid</b></a></div>
             <p><div class='score'>Score: $score</div>   
             <form action ='' method = 'POST'>
               <select name='userscore' id='user_scores'>
               <option>1</option><option>2</option><option>3</option><option>4</option>
               </select>                   
               <input type='submit' value = 'Update Score' id= 'submit-score'/>
             </form>                         
             <br />
             ";
           } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:53:57.730

如果您愿意使用 jQuery，您可以在[此处](http://api.jquery.com/jQuery.ajax/)阅读有关 ajax 的文档，这是一个很好的起点。

一旦你掌握了 ajax 的概念，你只需要定义要被 ajax 函数调用的 php 脚本。您必须传递要存储的参数并让 php 脚本处理保存。如果你愿意，你可以回显一些结果，如果你通过`json_encode`它是一个原生 PHP 函数对它们进行编码会更好。

要处理结果，您将定义一个 javascript 函数，该函数将在 ajax 调用成功时调用，该函数将根据收到的结果在 div 上执行您需要的更新。

抱歉，我认为您不会从实际代码中受益，因为互联网上充满了我建议您的每个步骤的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:57:10.763

```
$.ajax({
type: "POST",
url: "some.php", // target url which is triggered upon ajax call
data: { name: "John", location: "Boston" } ,// The drop down selected val
success:function(response){
$('target_div').text(response); //updating the div content on successful ajax call
 //update database also. 
}
}); 
```

快乐编码:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:54:16.357

使用 jQuery

```
<script>
$("#user_scores").change(function () {
  var str = "";
  $("#user_scores option:selected").each(function () {
        str += $(this).text() + ",";
      });
  $.ajax({
  type: "POST",
  url: "some.php",
  data: { values: str }
}).done(function( msg ) {
  alert( "Data Saved: " + msg );
});
})
.trigger('change');
</script> 
```

更多关于[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

some.php 是您的带有脚本的 php 文件。

请记住在文档准备好或加载您的选择代码后绑定“更改”事件。

在 some.php 中，您应该以这种方式获取这些值

```
$values = explode(",",$_POST['values']); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-28T06:23:21.760

您可以简单地进行 AJAX 调用来更新数据（使用 PHP）并使用 JQuery .load() 函数来更新

更多关于[http://www.a100websolutions.in/ajax-php-database-update/](http://www.a100websolutions.in/ajax-php-database-update/)

您可以在此处获得详细教程

# entity-framework - 使用 Entity Framework 5.0 从 DB 流式传输文件

> ID：16146393
> 
> 赞同：2
> 
> 时间：2013-04-22T11:47:30.197
> 
> 标签：entity-framework

我们的项目中有一个场景需要我们将大文件存储到数据库中。我们使用实体框架 5.0 进行数据访问。

这里要注意的另一件事是，我们的项目需要同时支持 Oracle/SQL Server。

在这种情况下，是否可以使用实体框架进行流式读/写？

# mysql - 选择查询具有父子关系的类别数据

> ID：16146401
> 
> 赞同：2
> 
> 时间：2013-04-22T11:48:00.020
> 
> 标签：mysql, sql, select, tree

我有这个数据库表

```
CREATE TABLE IF NOT EXISTS `category` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `parent_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `inherit` enum('Y','N') NOT NULL DEFAULT 'N',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1 AUTO_INCREMENT=15 ;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `parent_id`, `name`, `inherit`) VALUES
(1, 0, 'Fruits', 'N'),
(2, 0, 'Electronics', 'N'),
(3, 0, 'Furniture', 'N'),
(4, 0, 'Garden', 'N'),
(5, 1, 'Apples', 'N'),
(6, 1, 'Bananas', 'N'),
(7, 5, 'Green Apples', 'Y'),
(8, 5, 'Red Apples', 'N'),
(9, 2, 'Mobiles', 'Y'),
(10, 2, 'Televisions', 'N'),
(11, 9, 'Android', 'N'),
(12, 9, 'iPhone', 'Y'),
(13, 7, 'One Dozen Green Apples', 'Y'),
(14, 7, 'Two Dozens Green Apples', 'N'); 
```

还有另一个表，我保留 user_id，category_id 例如 user_id 1000 可以看到 1 和 5，我将此信息放在会话中，以便我的查询变为

```
SELECT *
FROM `category`
WHERE id
IN ( 1, 5 ) 
```

这个查询显示`Fruits > Apples`- 这一切都很好。但是，我已经标记了“ `Green Apples`”，`Inherit = 'Yes'`因此用户 1000 也应该看到“ `Green Apples`”，但看不到“ `Red Apples`”。如果青苹果下有标记为继承 = 'Y' 的子类别......例如“一打青苹果”也应该列出！！

我想试一试 UNION，但不知道如何让 UNION 更深 2 级以上……

```
SELECT * FROM (
    SELECT *
    FROM `category`
    WHERE id
    IN ( 1, 5 )

    UNION

    SELECT c.*
    FROM `category` c
    INNER JOIN `category` parent ON parent.id = c.id AND c.inherit = 'Y'
    WHERE c.parent_id
    IN ( 1, 5 )
) all_cats 
```

你会给我什么建议？如果这会使查询更容易，我会更改开放表结构吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:04:13.020

尝试自我加入：

**编辑：**我忘了放 WHERE 子句

```
SELECT
    a.name,
    b.name,
    c.name
FROM 
    category as a
LEFT JOIN category as b
    ON b.parent_id = a.id
INNER JOIN category as c
    ON c.parent_id = b.id
    AND c.inherit = 'Y'
WHERE
    a.id = 1 
```

但理想的解决方案是使用递归函数来执行此操作，因为在该表中您正在描述类别树。上面的查询是静态的，它可以追溯到 2 个级别（2 个子类别），据我了解，您需要一些动态的东西。

类似于下面的函数：

```
public String getCategory(int categId){

    String sSql = "SELECT name FROM category WHERE id = " + categId ;
    String name = oDb.exec(sql).get("name");

    sSql = "SELECT id FROM category WHERE inherit = 'Y' AND parent_id = " + categId ;
    int nextCategId = oDb.exec(sql).get("id");

    if(nextCategId != null){
        return name + "," + getCategory(nextCategId);
    }else{
        return name;
    }

} 
```

所以假设苹果的分类是继承的，结果`getCategory(1)`应该是`Fruits,Apples,Green Apples`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-23T06:47:54.927

要在 mysql 中通过一个查询获取所有类别，您将需要与类别树中的深度级别一样多的自联接。如果您的深度级别不受限制，这显然是不可能的。但是，您可以使用存储过程来执行 id。

假设您有一个包含用户类别的表格，例如：

```
CREATE TABLE IF NOT EXISTS `user_category` (
  `user_id` int(11) NOT NULL,
  `category_id` int(11) NOT NULL,
  PRIMARY KEY (`user_id`,`category_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=latin1; 
```

有一些数据，如：

```
INSERT INTO `user_category` ( `user_id`, `category_id` ) VALUES
( 1000, 1 ),
( 1000, 5 ); 
```

您可以创建一个`cat_tree`存储类别 ID 的临时表，使用 user_category 表中给定 user_id 的所有父类别对其进行初始化，并在树中重复自联接，只要最后一个联接插入了至少一个尚不存在的类别.

```
DELIMITER //
DROP PROCEDURE IF EXISTS show_user_categories//
CREATE PROCEDURE show_user_categories( uid INT(11) )
BEGIN
  DECLARE found INT(11) DEFAULT 1;
  DROP TABLE IF EXISTS cat_tree;
  CREATE TABLE cat_tree (cat_id int(11) PRIMARY KEY) ENGINE=HEAP;
  INSERT INTO cat_tree
    SELECT category_id FROM user_category
    WHERE user_id = uid;
  SET found = ROW_COUNT();
  WHILE found > 0 DO
    INSERT IGNORE INTO cat_tree
      SELECT c_child.id FROM cat_tree c JOIN category c_child 
      WHERE c.cat_id = c_child.parent_id AND c_child.inherit = 'Y';
    SET found = ROW_COUNT();
  END WHILE;
  SELECT cat_id FROM cat_tree;
  DROP TABLE cat_tree;
END;//
DELIMITER ; 
```

此过程为您提供给定 user_id 的类别 ID 的完整列表。

```
CALL show_user_categories( 1000 ); 
```

[请参阅sqlfiddle](http://sqlfiddle.com/#!2/a618f/1)的工作示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:08:41.797

在 SQL Server 中：

```
;with CTE as
(
select id,name from category where id in(1,5)
union all
select c.id,c.name from category c join CTE ct on  c.parent_id=ct.id and c.inherit='Y'
)

select * from CTE 
```

# java - 字符串到字符数组和字符串数组

> ID：16146404
> 
> 赞同：3
> 
> 时间：2013-04-22T11:48:03.950
> 
> 标签：java, arrays, string, char

如何将 char 数组转换为字符串数组？

例如`"Text not text" → "Text not text" as char array → "Text" "not" "text"`

我知道怎么做`"Text not text" → "Text not text"`，但不知道怎么做

`"Text not text" as char array → "Text" "not" "text"`

这是代码示例，但它不起作用

```
public class main {
    public static void main(String[] args) {
        StringBuffer inString = new StringBuffer("text not text");
        int n = inString.toString().replaceAll("[^a-zA-ZА-Я а-я]", "")
                .split(" ").length;
        char[] chList = inString.toString().toCharArray();
        System.out.print("Text splited by chars - ");
        for (int i = 0; i < chList.length; i++) {
            System.out.print(chList[i] + " ");
        }
        System.out.println();
        String[] temp = new String[n];
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < chList.length; j++) {
                if (chList[j] != ' ') {
                    temp[i] = new String(chList);
                }
            }
            System.out.println(temp[i]);
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:25:21.750

所以你有一个 char 数组，我是对的：

```
char[] chars = new char[] {'T', 'e', 'x', 't', ' ', 'n', 'o', 't', ' ', 't', 'e', 'x', 't'}; 
```

那么你想要得到的是单独的单词`Text`, `not`and `text`??

如果是这样，请执行以下操作：

```
String newString = new String(chars);
String[] strArray = newString.split(" "); 
```

现在`strArray`是你的阵列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:50:58.430

使用`String.split()`方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:50:48.873

简短的甜蜜答案[来自 anvarik](https://stackoverflow.com/a/16147068/474189)。但是，如果您需要展示一些工作（也许这是家庭作业？），以下代码将手动构建列表：

```
char[] chars = "text not text".toCharArray();

List<String> results = new ArrayList<String>();
StringBuilder builder = new StringBuilder();

for (int i = 0; i < chars.length; i++) {
  char c = chars[i];

  builder.append(c);

  if (c == ' ' || i == chars.length - 1) {
    results.add(builder.toString().trim());
    builder = new StringBuilder();
  }
}

for (String s : results) {
  System.out.println(s);
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-22T11:54:32.470

我认为如果在用 $ 符号转换“Text not text”时替换所有空格，那么结果字符串将变为 'T ext$ not$ tex t'

字符串 ex= ex.replaceAll("\s","$");

并且在将其转换回来时，您可以再次将 $ 替换为空格。

除此之外，我似乎想不出任何其他方式来说明如何在拆分时保持单词的含义。

# android - 如果有人打电话，警报意图不起作用

> ID：16146406
> 
> 赞同：1
> 
> 时间：2013-04-22T11:48:05.067
> 
> 标签：android, android-intent, alarm

如果没有人打电话，一切都会好起来的。如果我使用 Opera、Gmail 或其他应用程序，那就没问题了。并及时目标警报意图启动。

```
Intent i2 = new Intent();
i2.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP  | Intent.FLAG_ACTIVITY_SINGLE_TOP);
pIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, i2, 0);

curtimeset = System.currentTimeMillis();
am = (AlarmManager) getSystemService(ALARM_SERVICE);
am.set(AlarmManager.RTC_WAKEUP, curtimeset + full, pIntent); //full time in mills when alarm will be on even from lock mode 
```

当计时器开始和当前时间等于目标时间时。应用启动意图。从前台加载它。

```
public void instanceinitiale() {
    Intent resumeIntent = new Intent(getApplicationContext(), Main.class);
    resumeIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP
            | Intent.FLAG_ACTIVITY_SINGLE_TOP);
    startActivity(resumeIntent);

} 
```

在任何情况下如何加载我的警报？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T15:46:07.870

当需要报警时，系统会调用您的应用程序。系统将向您发送相同的意图（您在创建警报时使用）。如果您在创建数据时放置数据，则可以获取它

```
public class AlarmService extends BroadcastReceiver {

private final static String action="android.intent.action.ALARMHANDLERACTIVITY";
public AlarmService(){
}

@Override
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub
    if(intent.getAction().compareTo(action)==0){
        context.startActivity(intent);
    }
}

public void createAlarm(){
    Intent intent=new Intent("android.intent.action.ALARMHANDLERACTIVITY");
    intent.putExtra("eventID", Integer.valueOf(id));

    PendingIntent pendingIntent=PendingIntent.getActivity(context, 0, intent,0);
    AlarmManager aManager=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);

    aManager.set(AlarmManager.RTC_WAKEUP, temp.getStartDate().getTimeInMillis(), pendingIntent);
}

} 
```

要定义您的接收器，请将其写入清单的应用程序块：

```
 <receiver android:name=".alarmService.AlarmService">
        <intent-filter android:priority="200">
            <action android:name="android.intent.action.BOOT_COMPLETED"/>
        </intent-filter>
    </receiver> 
```

# c# - 将文件/类移动到另一个项目

> ID：16146407
> 
> 赞同：10
> 
> 时间：2013-04-22T11:48:05.953
> 
> 标签：c#, visual-studio-2012, resharper

是否可以在 VS2012 或 Resharper（有或没有插件）的帮助下将一个类移动到另一个项目？

会使 TDD 更容易一些。

**更新**

我使用 resharper 直接从测试方法创建类。该类被添加到与测试类相同的文件中。然后我可以在类上按 ALT+Enter 将其移动到单独的文件中。之后，我手动将文件拖到另一个项目中。

但我想有一种方法可以直接将其移动到另一个项目而无需拖动它。在不存在的类上按 ALT+ENTER 并选择“在项目 Y 中创建”

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-04-10T13:13:48.800

VS 解决方案资源管理器中的“Shift + Drag”允许您移动文件。然后，您可以使用 Resharper 修复命名空间

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-22T11:50:46.410

使用 resharper：右键单击（解决方案资源管理器中的文件）-> 重构-> 移动。

*由 jgauffin 编辑：*

1.  将光标放在测试方法中不存在的类上，然后按 ALT-ENTER
2.  在上下文菜单中选择创建类
3.  按 END 移动到班级名称
4.  按 CTRL+SHIFT+R 调出 Resharper Refactor 菜单
5.  按 DOWN 键“移动到文件夹”，然后按 ENTER
6.  在新对话框中按 TAB，然后按 ENTER 以显示目标树视图（在组合框下方）
7.  使用箭头键导航
8.  完成后按 ENTER

# java - spring security：当相对路径较长时注销不起作用

> ID：16146408
> 
> 赞同：0
> 
> 时间：2013-04-22T11:48:07.583
> 
> 标签：java, spring, jsp, spring-security, jstl

在我的 Spring Security 应用程序中，我的注销按钮放置了以下代码

```
<li><a href="<c:url value="j_spring_security_logout"/>">Log out</a></li> 
```

现在，当我的 URL 为 时`http://localhost:8080/servletname`，注销工作正常。

即使`http://localhost:8080/servletname/abc`它工作正常。

但是当 URL 是`http://localhost:8080/servletname/abc/xyz`时，当我单击注销按钮时，我会得到一个 404 页面，因为页面被重定向到`http://localhost:8080/servletname/abc/j_spring_security_logout`.

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:02:17.843

">登出[链接](http://www.w3.org/TR/WD-html40-970708/htmlweb.html)特别是部分：

```
Given a base URL and a relative URL (that does not begin with a slash), a full URL is derived as follows:

If the base URL ends with a slash the full URL is derived by appending the relative URL to the base URL. For example, if the base URL is http://nosite.com/dir1/dir2/ and the relative URL is gee.html, the derived URL is http://nosite.com/dir1/dir2/gee.html.
If the base URL doesn't end with a slash, the last piece of the base URL is considered a resource, so the full URL is derived by appending the relative URL to the parent of the base URL. For example, if the base URL is http://nosite.com/dir1/dir2 and the relative URL is gee.html, the derived URL is http://nosite.com/dir1/gee.html 
```

您正在使用相对路径，通过在 url 开头使用“/”使其成为绝对路径：

```
<a href="<c:url value="/j_spring_security_logout"/>">Log out</a> 
```

# php - 通过 POST 将特定值传递给 PHP

> ID：16146411
> 
> 赞同：0
> 
> 时间：2013-04-22T11:48:15.917
> 
> 标签：php, javascript, jquery, post

我得到了一个`<img>`应该能够点击的用户（例如删除墙上的帖子）。每张图片都有`imageid`与文章本身的 ID 相匹配的“”。现在我想`imageid`通过 javascript/jQuery/whatever 将这个“”传递给我的`delete.php`文件，在该文件中我将该 ID 发送到我的 Oracle 数据库以了解要删除的文章。

IMG 看起来像：

```
 <img alt="Delete Article" src="include/images/delete.png" imageID="21" title="Delete Article"> 
```

和javascript：

```
$(document).ready(function erase() {
    $("img[title='Delete Article']").click(function() {
        if (confirm("Are you sure?")) {
            var image = $(this).data('imageID');    
            $.ajax({
                 type: "POST",
                 url: 'include/site/delete.php',
                 data: 'imageID=' + image,
                });
        }
    });
}); 
```

我只找到了创建隐藏表单标签并以这种方式发送它的方法，但我想以另一种方式来做（如果可能的话）:)

提前致谢

**找到解决方案！**

```
$(document).ready(function () {
        $("img[title='Delete Article']").click(function() {
            if (confirm("Are you sure?")) {
                var getimageID = $(this).attr('imageID');
                $.post("include/site/delete.php", {
                    catchedID : "ID ist " + getimageID
                });
            }
        });
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:52:04.520

您应该在图像标签上使用诸如“data-imageId”之类的数据属性，然后执行

```
<img alt="Delete Article" src="include/images/delete.png" data-imageid="21" title="Delete Article">
//jquery in your if(confirm)
var $post = ;//some selector for the post/image
var testvalue = $(this).data('imageId');

$.ajax({
 type: "POST",
 url: 'delete.php,
 data: 'imageId=' + testValue,
 success: function(data){},
  $post.remove();
}); 
```

信息在这里[http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:50:31.933

```
var testvalue = $(this).attr('imageid'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:54:36.990

如果您愿意，可以使用 GET 或 POST 发送它。对于 GET，只需像这样构建链接：

```
 <a href="delete.php?imageid=<?php echo($imageid);?>"
 onClick="return confirm('Are you sure?');">Click to Delete</a> 
```

您还可以通过将每个项目转换为自己的形式来使用 POST，然后将图像 ID 添加为隐藏值。

请记住，这些都不是非常安全的，并且您将要确保 delete.php 不只是删除没有实际具有适当权限的人删除的内容。

# mouse - 鼠标移动距离（厘米）

> ID：16146417
> 
> 赞同：1
> 
> 时间：2013-04-22T11:48:46.450
> 
> 标签：mouse, coordinates, distance

我正在编写一个记录鼠标活动的小程序。但现在我想更进一步。反正有没有得到你的鼠标已经行进的距离（在桌子上）（而不是屏幕上的指针）。

我已经考虑过了，我正在考虑一个校准功能，它显示一条 200 像素的线。而且你必须将鼠标移到上面，然后你需要填写鼠标移动了多少厘米。然后程序可以使用它来根据 100 像素的比例计算鼠标在桌面上移动的距离。

但是，没有更好/更简单的方法来做这样的事情吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:51:34.260

最好的方法可能是使线长于 200 像素，并使用各种校准点——例如使用用户必须单击所有四个角的大矩形。如果您使矩形尽可能大，您将获得最高的精度。

当然，最终结果的准确性（计算的随时间变化的距离）也取决于跟踪的分辨率，因此您可以考虑快速向上移动，然后快速向下移动。只是一个观察:-)

祝你好运！

# html - 使用 Twitter Bootstrap 的表单中的水平字段

> ID：16146422
> 
> 赞同：0
> 
> 时间：2013-04-22T11:48:59.133
> 
> 标签：html, forms, twitter-bootstrap

我正在使用 Twitter 引导程序来创建我的表单。我的目标是在表单中创建两行（实际上更多，但我正在简化它以使问题变得简单）。第一行包含三个标签。第二行将包含三个输入框，用于获取文本作为输入。

我编写了以下代码来实现这一点：

```
<div class="span6" id="create_trips" >
                    <form class="form-horizontal" method='post' action=''>
                        <fieldset>

                            <legend>
                                Test
                            </legend>
                            <div class="control-group">
                                <label class="control-label">test1</label>
                                <label class="control-label">test2</label>
                                <label class="control-label">test3</label>
                            </div>

                            <div class="control-group">
                                <div class="controls">
                                    <input type="text" class="input-mini">
                                </div>
                                <div class="controls">
                                    <input type="text" class="input-mini">
                                </div>
                                <div class="controls">
                                    <input type="text" class="input-mini">
                                </div>
                            </div>                              
                        </fieldset>
                    </form>
                </div> 
```

但问题是第二行完全不对齐。而我的第一行是正确的。我在此处附上了上述代码产生的当前输出：![输出](https://i.stack.imgur.com/TpjEv.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:58:08.827

您在引导程序中有 12 个列...所以按行创建 3 个列，如下所示：

```
<!-- The row -->
<div class="row-fluid">
  <!-- One col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>

  <!-- Another col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>

  <!-- The last col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>
</div>

<!-- Another row -->
<div class="row-fluid">
  <!-- One col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>

  <!-- Another col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>

  <!-- The last col -->
  <div class="span4">
    <div class="control-group">
      <label class="control-label">test1</label>
      <div class="controls">
        <input type="text" ... />
      </div>                    
    </div>
  </div>
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T08:50:36.840

最后，我使用一些自定义 CSS 并更改 HTML 代码中的类名解决了这个问题。这是HTML代码：

```
<form class="form-horizontal" method='post' action=''>
<fieldset>
    <legend>Test</legend>
    <div class="control-group">
        <label class="control-trip" style="text-align: center">test1</label>
        <label class="control-trip" style="text-align: center">test2</label>
        <label class="control-trip" style="text-align: center">test3</label>
    </div>
    <div class="control-group">
        <div class="control-trip">
            <input type="text" class="input-mini">
        </div>
        <div class="control-trip">
            <input type="text" class="input-mini">
        </div>
        <div class="control-trip">
            <input type="text" class="input-mini">
        </div>
    </div>
</fieldset> 
```

这是相应的CSS：

```
 .form-horizontal .control-trip
{
    text-align: center;
    float: left;
    width: 140px;
    padding-top: 5px;
} 
```

解决方案在这个[jsfiddle 中。](http://jsfiddle.net/3Mzs2/7/)

# c# - 动态数据 IObjectContextAdapter 缺少参考

> ID：16146423
> 
> 赞同：6
> 
> 时间：2013-04-22T11:48:59.133
> 
> 标签：c#, asp.net, entity-framework-5

我全新安装了带有更新 2 的 VS2012。我创建了一个“ASP.NET 动态数据实体 Web 应用程序”的新项目。然后，我添加了一个从现有 SQLServerExpress 数据库生成的“ADO.NET 实体数据模型”。

但是，当我去构建解决方案时，我收到以下错误：

> 找不到类型或命名空间名称“IObjectContextAdapter”（您是否缺少 using 指令或程序集引用？）

这似乎是在其中声明的，`System.Data.Entity.Infrastructure`但我在任何地方都找不到该程序集。我已经验证我已经为解决方案安装了 EF5，因为我的 packages.config 显示：

```
<?xml version="1.0" encoding="utf-8"?>
<packages>
  <package id="EntityFramework" version="5.0.0" targetFramework="net45" />
</packages> 
```

EntityFramework 参考属性显示：

> 运行时版本：v4.0.30319
> 版本：5.0.0.0

在 web.config 我有：

```
 <assemblies>
    <add assembly="System.Data.Entity, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
  </assemblies> 
```

这看起来不对，因为它应该说 5.0.0.0？但是，更改它没有任何效果。有人可以指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-25T05:54:58.147

让它编译起来非常容易。我需要补充：

```
using System.Data.Entity.Infrastructure; 
```

到 Global.asax.cs。似乎 T4 模板不包含此默认值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-02-13T00:17:09.647

```
<%@ Import Namespace="System.Data.Entity.Infrastructure" %> 
```

将此行添加到 global.asax 的顶部也可以。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-09-10T12:23:33.550

确保为您的项目安装了 EntityFramework Nuget 包。

在 Visual Studio 解决方案资源管理器中右键单击解决方案，单击管理解决方案的 Nuget 包并安装 EntityFramework。

安装后，我仍然有错误，但后来重新安装：

`Update-Package -reinstall`

在包管理器控制台中执行此操作（查看 > 其他窗口 > 包管理器控制台）。
现在一切都很好！

来自：[https ://stackoverflow.com/a/52257676/125938](https://stackoverflow.com/a/52257676/125938)

# sql - 在查询中搜索多个列

> ID：16146428
> 
> 赞同：0
> 
> 时间：2013-04-22T11:49:17.627
> 
> 标签：sql, coldfusion, group-by

我目前正在开发一个搜索功能，用户可以通过主持演出的乐队的名称或演出本身的位置来搜索演出。我遇到的问题是搜索的位置部分，我想搜索我存储的城镇、县和国家字段，以便说明演出地点是否是“英格兰约克郡利兹”并且用户搜索“ Eng" 它会匹配，因为它在国家/地区字段中找到了它。如果他们因为在利兹的比赛而搜索“eds”，同样适用。

我知道这可以通过在查询中使用 Group By 方法来实现，但是，我一直在寻找有关最佳实践的建议以及如何应用它，因为我以前没有使用过 Group By。

这是我开始的错误查询：

```
<cfquery datasource="#datasource#" name="findgigs">
    Select artist_id, gig_id, gig_artistid, gig_town, gig_county, gig_country
    From artists, gigs
    Where artist_id = gig_artistid
    <cfif IsDefined("URL.search")>
        And gig_town LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%>
        Or gig_county LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%>
        Or gig_country LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%>
    </cfif>
</cfquery> 
```

正如我在运行查询后发现的（应该事先知道）它返回许多重复项。但是，查看该查询，您可以看到我试图获取它的内容完全以错误的方式完成。任何有关如何改进这一点的知识或建议将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:37:14.250

```
<cfquery datasource="#datasource#" name="findgigs">
    SELECT  artist_id
    FROM    artists
    WHERE   artist_id IN 
      (    

           SELECT  gig_artistid 
           FROM    gigs 
           WHERE   1 = 0 
           <cfif structKeyExists(url,'search')>
             OR  gig_town LIKE  <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
             OR  gig_county LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
             OR  gig_country LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
         </cfif>
      )
</cfquery> 
```

1.  如果您担心重复的值，这个子查询将有助于在不分组的情况下解决这个问题。

2.  添加了 cfqueryparam 作为最佳实践，以帮助防止 sql 注入

查询的逻辑是“不显示任何内容开始”，然后如果您的搜索已定义，OR 将开始允许显示结果。

选项#2

```
<cfquery datasource="#datasource#" name="findgigs">
    SELECT artist_id
    FROM   artists
   <cfif structKeyExists(url,'search')>
    WHERE  artist_id IN 
        ( 
           SELECT  gig_artistid 
           FROM    gigs
           WHERE   gig_town LIKE  <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
           OR      gig_county LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
           OR      gig_country LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#">
       )
   </cfif>
</cfquery> 
```

从显示所有开始。如果添加了搜索条件，它将开始过滤掉结果以包含您的搜索条件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-23T17:52:31.437

您的 WHERE 子句不包含围绕您的 OR 的任何分组。这导致在检查县或国家/地区时忽略初始标准。由于您使用 ANSI 89 语法来处理您的连接（未指定 INNER JOIN），这将破坏您的连接。

有几种方法可以解决这个问题。如果您想继续使用 ANSI 89：

```
<cfquery datasource="#datasource#" name="findgigs">
    Select artist_id, gig_id, gig_artistid, gig_town, gig_county, gig_country
    From artists, gigs
    Where artist_id = gig_artistid
    <cfif IsDefined("URL.search")>
        And (gig_town LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">
        Or gig_county LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">
        Or gig_country LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">)
    </cfif>
</cfquery> 
```

如您所见，我所做的只是在最后一个 cfparam 之后添加一个“（”和一个“）”。这会将这些标准组合在一起，以便针对所有三个标准使用 Artist_id 标准（防止额外的结果）。

如果您想更改 SQL 以显式定义您的连接 (ANSI 92)：

```
<cfquery datasource="#datasource#" name="findgigs">
    Select artist_id, gig_id, gig_artistid, gig_town, gig_county, gig_country
    From artists
    Inner Join gigs ON artist_id = gig_artistid
    <cfif IsDefined("URL.search")>
        Where gig_town LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">
        Or gig_county LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">
        Or gig_country LIKE <cfqueryparam cfsqltype="cf_sql_varchar" value="%#URL.search#%">
    </cfif>
</cfquery> 
```

# database - 实验室的ER图

> ID：16146429
> 
> 赞同：0
> 
> 时间：2013-04-22T11:49:18.173
> 
> 标签：database, relational-database, entity-relationship

为以下情况画一个 ER 图：一个实验室有几个化学家在一个或多个项目上工作。化学家也可以在每个项目中使用某些类型的设备。o Chemist 的属性包括 EmployeeID（标识符）、姓名和电话号码。o Project 的属性包括 ProjectID（标识符）和 StartDate。o 设备的属性包括序列号（标识符）和成本。o 组织希望记录分配日期，即给定设备项目分配给从事特定项目的特定化学家的日期。o 该组织还希望记录项目与化学家之间的关联。必须为至少一个项目分配一名化学家。任何数量的化学家都可以在一个项目中工作。o 无需分配给定的设备项，也无需为给定的项目分配任何设备项。

![溶胶](https://i.stack.imgur.com/R72pk.png)

我的回答与答案键略有不同。我不明白为什么装备从分配中分支出来。根据问题，“不需要分配给定的设备项，不需要为给定的项目分配任何设备项”，不应该装备从项目分支出来？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:52:24.100

设备可以在其生命周期内分配给多个项目，因此可以在`assignment`表中的多对多关系中进行管理

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-31T16:08:13.673

erd.每个员工可能被分配到一个或多个项目，也可能不被分配到一个项目，一个项目必须至少分配一名员工，并且可以分配任意数量的员工。员工计费率因项目而异，公司记录分配给特定项目时每个员工的 BILL_RATE

# c - Kerberos 获得初始凭证

> ID：16146432
> 
> 赞同：1
> 
> 时间：2013-04-22T11:49:28.473
> 
> 标签：c, kerberos

我尝试为我的应用程序编写一个 Kerberized 登录模块，但我有一些不清楚的概念。

我正在通过`mod_auth_kerb`从 Apache HTTP 服务器读取源代码来学习 MIT Kerberos API（找不到更好的起点，没有在线找到 API 教程或演示代码）。从中，我发现我需要通过密钥表文件或用户输入的密码来获取初始机密。让我很困惑的是，我`kinit`在登录操作系统的时候已经有了，而且我确定我有principal `krbtgt/LOCALHOST@LOCALHOST`by的票`klist`，那么我是否需要再次获得初始机密`krb5_get_init_cred_password/keytab`？

*   如果是，既然我的操作系统帐户是 Kerberos 中的有效主体，并且我已经获得了 TGS 的票证，我为什么要再次获得初始机密？这不违反 Kerberos 的单点登录功能吗？
*   如果不是，我如何通过代码获取主体票证 `krbtgt/LOCALHOST@LOCALHOST`，或者说，我如何将我的登录帐户与相应的 Kerberos 主体关联起来？

顺便说一句，网上有没有好的 MIT Kerberos API 教程？虽然官方的开发者手册是完整的，但从一开始感觉就像从字典里学习第二语言:)。

非常感谢和最好的问候！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T13:48:53.600

有两件事： 1\. kinit 是一个实用工具，它在代码内部使用 krb5_get_init_cred_pa​​ssword 来获取凭据。2\. 然后您可以使用 kvno 实用程序使用通过 kinit 获取的票证来获取服务票证。前任：

```
 kinit -f adminitrator@XYZ.COM 
```

这样，您将获得管理员票。现在，如果您想将此票证用于某些服务，可以说 CIFS。

```
 kvno [-k <keytab file> | -c <credential cache>] -u <client> -P service 
```

您可以使用凭证缓存或您可以使用 ktutil 实用程序创建的 keytab 文件。

其次，如果你想从代码中控制一切，你需要了解 krb api 和函数，例如：

krb5_get_init_creds_password

kerb_get_credentials

krb5_get_crendentials_for_user

krb5_get_crendentials_for_proxy 等。

您可以简单地从 MIT kerberos 库中查看 kinit 和 kvno 的源代码，以更好地了解这些函数的使用方式等。

安库尔

# java - 为什么 ResultSet 不为空，但我无法从 ResultSet 中获取数据

> ID：16146433
> 
> 赞同：0
> 
> 时间：2013-04-22T11:49:29.480
> 
> 标签：java, mysql

```
public List<Course> searchCourse(String name) {
        List<Course> list = null;
        Course course = null;
        PreparedStatement pstmt = null; 
        ResultSet rs = null,rs1 = null;

        String sql = "select username,course_name from view_teacourse where username=? or course_name=? ";

        try{
            pstmt = conn.prepareStatement(sql);
            pstmt.setString(1, name);
            pstmt.setString(2, name);
            rs = pstmt.executeQuery();
            while(next()){
                String sql1 = "select * from courseinfo where course_name=?";
                pstmt.setString(1, rs.getString("cousre_name"));
                rs1 = pstmt.executeQuery();
                while(rs1.next()){
                    course.setCourseid(rs.getInt("course_id"));
                    course.setCourseName(rs1.getString("course_name"));
                    course.setCourseScheme(rs.getString("course_scheme"));
                    course.setCourseBook(rs.getString("course_book"));
                    course.setCourseTerm(rs.getString("course_term"));
                    course.setIntroduction(rs.getString("introduction"));
                    course.setStartTime(rs.getTimestamp("start_time"));
                    course.setEndTime(rs.getTimestamp("end_time"));
                    course.setValidation(rs.getBoolean("validation"));
                    course.setCourseType(rs.getInt("coursetypeid"));
                    list.add(course);
                }
            }
        }catch(Exception e){
            e.printStackTrace();
        }finally{
            DBBase.releaseResultSet(rs1);
            DBBase.releaseResultSet(rs);
            DBBase.releaseStatement(pstmt);
            DBBase.releaseConnection(conn);
        }
        return list;
    } 
```

的值`rs.next()`越来越错误。它不能进入​​while循环。但是，如果我`rs.wasNull()`这样写，我又弄错了。所以我很困惑。我可以在我的数据库中使用相同的 SQL 获得正确的结果。当它在java文件中时它不起作用！我找不到错在哪里！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T11:50:29.047

`while(next()){`需要`while(rs.next()){`，不是吗？

（确实如此，但@duffymo 的答案是您可能应该注意的答案）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T11:52:47.767

你可以用这种方式编写代码，但这是一个经典的 (n+1) 延迟陷阱。随着外部结果集大小的增长，它的性能会越来越差。

如果您学习了如何正确编写 JOIN，您还可以在一次网络往返中将所有数据带回。

如果您必须这样做，我将创建两个 PreparedStatement 实例：一个用于外部循环，另一个用于内部循环。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:16:33.610

这肯定看起来像一个错字：

```
pstmt.setString(1, rs.getString("cousre_name")); 
```

`null`除了to之外，您似乎也没有分配任何东西`course`。Java 明确的赋值规则是你的朋友；`null`不是。

您确定这*正是*您正在运行的代码吗？

# java - 如何在代码中包含 jpeg2000 压缩标准？

> ID：16146436
> 
> 赞同：0
> 
> 时间：2013-04-22T11:49:44.310
> 
> 标签：java, image-processing, image-compression, jpeg2000

我是 JAVA 的新手。我正在处理图像压缩。如何在 JAVA 中使用 jpeg2000 压缩 .jpg 图像。java有库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T16:44:04.233

不久前，我不得不阅读一个 jpeg2000 文件。我发现旧版本的 Java Advanced Imaging (JAI) 支持 jpeg2000，但后来的不支持。

1.1 版可在此处获得。[http://download.java.net/media/jai-imageio/builds/release/1.1/](http://download.java.net/media/jai-imageio/builds/release/1.1/)

链接到我的帖子。 [在java中读取jpeg2000文件](https://stackoverflow.com/questions/2662916/read-jpeg2000-files-in-java/13167748#13167748)

# android - 在 getChildView 方法中查看

> ID：16146437
> 
> 赞同：0
> 
> 时间：2013-04-22T11:49:52.023
> 
> 标签：android, view

`View`我的可扩展子组的布局很简单`listview`。我想更改该视图的背景颜色。我就是这样做的：

```
public View getChildView(final int groupPosition, final int childPosition,
        boolean isLastChild, View view, ViewGroup parent) {
    ...
    View colorView = (View) view.findViewById(R.id.color_view);
    colorView.setBackgroundResource(R.color.my_color);
    ...
    return view;
} 
```

无论我做什么，我都无法改变颜色。当我尝试`TextView`在同一个 ChildGroup 中更改 a 的背景时，它起作用了，怎么会？如果您需要更多代码，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:56:59.660

使用这个

```
colorView.setBackgroundResource(getResources().getColor(R.color.my_color)); 
```

代替

```
colorView.setBackgroundResource(R.color.my_color); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:54:36.320

利用

```
colorView.setBackgroundColor(getResources().getColor(R.color.my_color)); 
```

# java - 如何使用 java 知道网络打印机的状态？

> ID：16146447
> 
> 赞同：1
> 
> 时间：2013-04-22T11:50:11.110
> 
> 标签：java

要检查默认打印机的当前状态，我们可以使用 Java API。我们需要重写属性更新方法。

```
@Override
    public void attributeUpdate(PrintServiceAttributeEvent psae)
    {

        Attribute[] att;
        att = psae.getAttributes().toArray();
        for (Attribute attribute : att)
            {
                System.out.println(attribute.toString());
            }
    } 
```

但我的问题是它会将请求发送到物理打印机并给我们响应，或者只是检查我们本地机器上的驱动程序安装并给我们状态？如果它来自本地机器，我如何将请求发送到物理打印机并获得响应？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:58:42.007

它只会查询本地机器以确定属性。如果你想实际发送一个数据包，那么你应该使用[snmp4j](http://ruchiram4.blogspot.com/2009/04/buil-your-own-snmp-monitoring-tool.html)或[LPR](http://www.jguru.com/faq/view.jsp?EID=775536)

# knockout.js - Durandal/热毛巾 SPA、Bing 地图和淘汰赛自定义绑定

> ID：16146448
> 
> 赞同：-1
> 
> 时间：2013-04-22T11:50:13.207
> 
> 标签：knockout.js, bing-maps, durandal, custom-binding, hottowel

我正在使用 Durandal/Hot Towel SPA 和此处描述的 Bing 地图库[http://soulsolutions.com.au/Blog/tabid/73/EntryId/818/Knockout-JS-and-Bing-Maps.aspx](http://soulsolutions.com.au/Blog/tabid/73/EntryId/818/Knockout-JS-and-Bing-Maps.aspx)。该库创建自定义 ko 绑定以访问地图控件。

对于 durandal，这种绑定仅以一种方式起作用。更改后可以从地图控件中获取值（例如缩放级别），但是当我想在单击后设置缩放级别时，它不起作用。

在 Durandal 之外，当我在一个简单的 html 页面上对其进行测试时，一切正常。

知道有什么问题吗？任何帮助将不胜感激。

我的视图模型：

```
 var mapVM = function () {
    this.map = {
        options: {
            credentials: "bing key",
            customizeOverlays: true,
            showScalebar: false,
            showMapTypeSelector: false,
            enableClickableLogo: false,
            enableSearchLogo: false,
        },
        mapview: {
            zoom: ko.observable(4).extend({ throttle: 1 }),
        },
    };

    this.testZoom = function () {
        this.map.mapview.zoom(5);
    };
}; 
```

看法：

```
<input data-bind='value: map.mapview.zoom, valueUpdate: "afterkeydown"' />
<input type="button" data-bind="click: testZoom" value="test zoom" />
<div id="mapControl" data-bind="bingmaps: { map: map }" style="position: relative; width: auto; height: 400px"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T02:21:38.590

我认为您的 testZoom 工作正常。但是函数内部的引用`this`没有`map`属性：

```
var mapVM = function () {
    var that = this;
    that.map = {
        options: {
            credentials: "bing key",
            customizeOverlays: true,
            showScalebar: false,
            showMapTypeSelector: false,
            enableClickableLogo: false,
            enableSearchLogo: false,
        },
        mapview: {
            zoom: ko.observable(4).extend({ throttle: 1 }),
        },
    };

    that.testZoom = function () {
        that.map.mapview.zoom(5);
    };
}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-11T17:27:15.027

@Damian，我正在尝试将路由器的 routeinfo 破解为支持的嵌套菜单并携带对象，但不确定安全性。你可以看看[这里](https://stackoverflow.com/a/16472791/2198331)

# jsf - 删除 PrimeFaces 数据表中的行

> ID：16146454
> 
> 赞同：8
> 
> 时间：2013-04-22T11:50:28.417
> 
> 标签：jsf, primefaces

我正在使用 PrimeFaces 3.5，并且正在实现[DataTable - ContextMenu](http://www.primefaces.org/showcase-labs/ui/datatableContextMenu.jsf)组件。但是，我想通过单击行中的一个单元格来删除一行。

我的 JSF 页面：

```
<h:form id="form">

    <p:growl id="messages" showDetail="true" />

    <p:contextMenu for="productID" widgetVar="cMenu">
        <p:menuitem value="Edit Cell" icon="ui-icon-search"
                    onclick="productService.showCellEditor();return false;" />
        <p:menuitem value="Delete Row" icon="ui-icon-search"
                    onclick="productService.delete();return false;" />
    </p:contextMenu>

    <p:dataTable id="productID" var="product"
                 value="#{productService.getListOrderedByDate()}"
                 editable="true" editMode="cell" widgetVar="productTable"
                 paginator="true" rows="10"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="5,10,15">

        <f:facet name="header"> Airbnb Product  </f:facet>

        <p:ajax event="cellEdit"
                listener="#{productService.onCellEdit}"
                update=":form:messages" />

        <p:column headerText="id" style="width:15%">
            <p:cellEditor>
                <f:facet name="output">
                    <h:outputText value="#{product.id}" />
                </f:facet>
                <f:facet name="input">
                    <p:inputText value="#{product.id}" style="width:96%" />
                </f:facet>
            </p:cellEditor>
        ...
        </p:column>
    </p:dataTable>
</h:form> 
```

我在我的服务中实现了一个删除方法，它应该可以工作。但是，当我按下上下文菜单中的删除按钮时，什么也没有发生。问题的原因可能是什么？

**更新**

我在 PF 页面上这样做了：

```
public void delete() {
    log.info("Deleting data:");
    log.info(selectedRow.getId());
//  productDAO.delete(selectedRow);

} 
```

和我的数据表：

```
 <p:contextMenu for="productID" widgetVar="cMenu">
                    <p:menuitem value="Edit Cell" icon="ui-icon-search"
                        onclick="productService.showCellEditor();return false;" />
                    <p:menuitem value="Delete" update="productID" icon="ui-icon-close"
                        actionListener="#{productService.delete}" />
                </p:contextMenu>

                <p:dataTable id="productID" var="product"
                    value="#{productService.getListOrderedByDate()}"
                    editable="true" editMode="cell" widgetVar="productTable"
                    paginator="true" rows="10"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="5,10,15"
                    selection="#{productService.selectedRow}" selectionMode="single" rowKey="#{product.id}"> 
```

但是，当我想从选定的行中获取 ID 时，我得到一个`NullPointerException`. 我真的很感谢你的回答！！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:06:07.247

这是使用上下文菜单删除行的一种方法...

```
<p:menuitem value="Delete" update="productID" icon="ui-icon-close" action="#{productService.delete}"/> 
```

添加到您的表中：

```
<p:dataTable selection="#{productService.selectedRow}" selectionMode="single".... 
```

在你的豆子里

```
public void delete() {  
    carsSmall.remove(selectedRow);  
}  

//declare selectedRow variable + getter/setter 
```

从 primefaces 展示中获取它：[DataTable - ContextMenu](http://www.primefaces.org/showcase-labs/ui/datatableContextMenu.jsf)

# javascript - 创建在 Express 请求中返回的错误消息的正确方法是什么？

> ID：16146461
> 
> 赞同：6
> 
> 时间：2013-04-22T11:50:32.977
> 
> 标签：javascript, node.js, error-handling, express

我有一个调用函数`a`，它接受一个回调，如果有一个错误，就会调用它。

`a`在 Express 路由请求中调用。如果有错误，错误应该是请求的响应。

```
function a(cb) {
  cb(new Error('Some error message'))
}

app.get('/', function (req, res) {
  a(function (error) {
    if (error) {
      res.json(error, 400)
    }
    res.send('No error')
  })
}) 
```

我已经查看了 Express 的代码，它似乎`res.json`会将我的`error`. 但是，这样做的结果是一个空字符串：

```
> var e = new Error('Some error message')
undefined
> JSON.stringify(e)
'{}'
> e.message
'Some error message' 
```

有一些方法可以让我的路线在此处返回错误消息，例如`toString`在我的路线中转换错误对象。但是，我想知道在 Node API 中格式化错误消息的最佳实践是什么，以及这是否会改变这里的情况。我应该以不同的方式格式化我的错误消息，还是应该只处理`Error`路由中的对象，例如：

```
res.json({ error: error.message }, 400) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T13:34:38.810

要添加到@steveukx 的答案，您可以在 express 中指定一个错误处理程序，`.use`方法是使用 arity 为四的函数。

```
app.use(function(err, req, res, next){
  res.json(500, {
    error: err.message
  });
}); 
```

每当您这样做时都会调用它`next(err)`。请参阅[文档](http://expressjs.com/guide.html#error-handling)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:09:52.593

当没有发生错误时，我现在不知道您的响应是什么样的，但这是我通常处理 JSON 响应的方式：

```
function (err, data) {
    if (err) {
        res.json({
            success: false,
            error: err.message
        }, 400);
    }
    else {
        res.json({
            success: true,
            data: data
        });
    }
} 
```

尝试将其包装在一个额外的中间件/函数中。保持函数的签名类似于标准节点样式。（第一个参数错误，后面的参数是实际数据。）这种方式很容易让客户端处理您的响应，因为您所要做的就是查看该`success`字段。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:37:55.710

[快速](http://expressjs.com/)路由可以使用第三个参数`next`，它可以通过调用跳过当前路由`next()`，或者通过调用传递错误`next(err)`。

尝试使用：

```
app.get('/', function (req, res, next) {
  a(function (error) {
    if (error) {
      next(error);
    }
    else {
      res.send('No error')
    }
  });
}); 
```

有关更多信息，请查看[http://expressjs.com/api.html#app.param](http://expressjs.com/api.html#app.param)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-12-06T23:11:00.490

抛出错误的正确方法是使用信息性错误而不是通用错误。仅当信息错误本身由于某种原因失败时，才应抛出通用错误。这是我使用的通用处理程序来演示自定义错误并退回到通用错误：

```
fpToExpressJson = async (response, next, fp, args) => {
  const oResponse = await fp(args).catch(err => err);

  if (!oResponse) {
    return next(createError(404));
  }

  if (oResponse.errorCode) {
    // Good job developer! You threw a descriptive error.
    try {
      return response.status(oResponse.errorCode).send(oResponse);
    } catch (error) {
      return next(error);
    }
  }

  return response.json(oResponse);
}; 
```

# centos - SNORT 没有提醒控制台

> ID：16146464
> 
> 赞同：2
> 
> 时间：2013-04-22T11:50:43.137
> 
> 标签：centos, snort

我正在尝试在 CentOS 6.4 上测试 snort 2.9.4，但在控制台上看不到任何警报。我使用以下命令运行它：

snort -i eth2 -c /etc/snort/snort.conf

eth2 是连接到 span 端口的接口。如果我在接口上做一个 tcpdump，我会得到很多很多数据。

我在 local.rules 中有以下规则：

```
alert icmp any any -> any any (msg: "ICMP Testing Rule"; sid:1000001; rev:1;)
alert tcp any any -> any 80 (msg: "TCP Testing Rule"; sid:1000002; rev:1;)
alert udp any any -> any any (msg: "UDP Testing Rule"; sid:1000003; rev:1;) 
```

当我点击“控制 c”时，我得到以下统计信息：

```
===============================================================================
Run time for packet processing was 817.54341 seconds
Snort processed 17555 packets.
Snort ran for 0 days 0 hours 13 minutes 37 seconds
   Pkts/min:         1350
   Pkts/sec:           21
===============================================================================
Packet I/O Totals:
   Received:        17610
   Analyzed:        17555 ( 99.688%)
    Dropped:           55 (  0.311%)
   Filtered:            0 (  0.000%)
Outstanding:           55 (  0.312%)
   Injected:            0
===============================================================================
Breakdown by protocol (includes rebuilt packets):
        Eth:        17599 (100.000%)
       VLAN:            0 (  0.000%)
        IP4:        17175 ( 97.591%)
       Frag:            0 (  0.000%)
       ICMP:           16 (  0.091%)
        UDP:          794 (  4.512%)
        TCP:        16365 ( 92.988%)
        IP6:           12 (  0.068%)
    IP6 Ext:           12 (  0.068%)
   IP6 Opts:            0 (  0.000%)
      Frag6:            0 (  0.000%)
      ICMP6:           12 (  0.068%)
       UDP6:            0 (  0.000%)
       TCP6:            0 (  0.000%)
     Teredo:           12 (  0.068%)
    ICMP-IP:            0 (  0.000%)
      EAPOL:            0 (  0.000%)
    IP4/IP4:            0 (  0.000%)
    IP4/IP6:            0 (  0.000%)
    IP6/IP4:            0 (  0.000%)
    IP6/IP6:            0 (  0.000%)
        GRE:            0 (  0.000%)
    GRE Eth:            0 (  0.000%)
   GRE VLAN:            0 (  0.000%)
    GRE IP4:            0 (  0.000%)
    GRE IP6:            0 (  0.000%)
GRE IP6 Ext:            0 (  0.000%)
   GRE PPTP:            0 (  0.000%)
    GRE ARP:            0 (  0.000%)
    GRE IPX:            0 (  0.000%)
   GRE Loop:            0 (  0.000%)
       MPLS:            0 (  0.000%)
        ARP:            3 (  0.017%)
        IPX:            0 (  0.000%)
   Eth Loop:            0 (  0.000%)
   Eth Disc:            0 (  0.000%)
   IP4 Disc:            0 (  0.000%)
   IP6 Disc:            0 (  0.000%)
   TCP Disc:            0 (  0.000%)
   UDP Disc:            0 (  0.000%)
  ICMP Disc:            0 (  0.000%)
All Discard:            0 (  0.000%)
      Other:          421 (  2.392%)
Bad Chk Sum:            0 (  0.000%)
    Bad TTL:            0 (  0.000%)
     S5 G 1:           11 (  0.063%)
     S5 G 2:           33 (  0.188%)
      Total:        17599
===============================================================================
Action Stats:
     Alerts:         4933 ( 28.030%)
     Logged:         4933 ( 28.030%)
     Passed:            0 (  0.000%)
Limits:
      Match:            0
      Queue:            0
        Log:            0
      Event:            0
      Alert:          261
Verdicts:
      Allow:        13263 ( 75.315%)
      Block:            0 (  0.000%)
    Replace:            0 (  0.000%)
  Whitelist:         4292 ( 24.373%)
  Blacklist:            0 (  0.000%)
     Ignore:            0 (  0.000%)
===============================================================================
Frag3 statistics:
        Total Fragments: 0
      Frags Reassembled: 0
               Discards: 0
          Memory Faults: 0
               Timeouts: 0
               Overlaps: 0
              Anomalies: 0
                 Alerts: 0
                  Drops: 0
     FragTrackers Added: 0
    FragTrackers Dumped: 0
FragTrackers Auto Freed: 0
    Frag Nodes Inserted: 0
     Frag Nodes Deleted: 0
===============================================================================
Stream5 statistics:
            Total sessions: 643
              TCP sessions: 285
              UDP sessions: 358
             ICMP sessions: 0
               IP sessions: 0
                TCP Prunes: 0
                UDP Prunes: 0
               ICMP Prunes: 0
                 IP Prunes: 0
TCP StreamTrackers Created: 285
TCP StreamTrackers Deleted: 285
              TCP Timeouts: 0
              TCP Overlaps: 0
       TCP Segments Queued: 7229
     TCP Segments Released: 7229
       TCP Rebuilt Packets: 1401
         TCP Segments Used: 7068
              TCP Discards: 95
                  TCP Gaps: 4
      UDP Sessions Created: 358
      UDP Sessions Deleted: 358
              UDP Timeouts: 0
              UDP Discards: 0
                    Events: 0
           Internal Events: 0
           TCP Port Filter
                   Dropped: 0
                 Inspected: 0
                   Tracked: 16321
           UDP Port Filter
                   Dropped: 0
                 Inspected: 51
                   Tracked: 358
===============================================================================
HTTP Inspect - encodings (Note: stream-reassembled packets included):
    POST methods:                         8
    GET methods:                          238
    HTTP Request Headers extracted:       261
    HTTP Request Cookies extracted:       94
    Post parameters extracted:            8
    HTTP response Headers extracted:      251
    HTTP Response Cookies extracted:      18
    Unicode:                              0
    Double unicode:                       0
    Non-ASCII representable:              0
    Directory traversals:                 0
    Extra slashes ("//"):                 37
    Self-referencing paths ("./"):        0
    HTTP Response Gzip packets extracted: 55
    Gzip Compressed Data Processed:       363978.00
    Gzip Decompressed Data Processed:     1132880.00
    Total packets processed:              8600
===============================================================================
SMTP Preprocessor Statistics
  Total sessions                                    : 0
  Max concurrent sessions                           : 0
===============================================================================
dcerpc2 Preprocessor Statistics
  Total sessions: 0
===============================================================================
SSL Preprocessor:
   SSL packets decoded: 1159
          Client Hello: 134
          Server Hello: 121
           Certificate: 89
           Server Done: 228
   Client Key Exchange: 77
   Server Key Exchange: 9
         Change Cipher: 214
              Finished: 0
    Client Application: 151
    Server Application: 59
                 Alert: 0
  Unrecognized records: 608
  Completed handshakes: 0
        Bad handshakes: 0
      Sessions ignored: 59
    Detection disabled: 0
===============================================================================
SIP Preprocessor Statistics
  Total sessions: 0
===============================================================================
Snort exiting 
```

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-23T07:47:36.660

嗯，也许你可以在终端试试这个：

```
snort -i eth2 -A full 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-30T13:49:35.227

snort.conf 文件中的警报设置是什么？此外，我建议`tail -f <path to snort alert file>`在运行 snort 时运行，这样您就可以在这些警报发生时看到它们。

# verilog - 在verilog中访问寄存器内存中的特定元素组

> ID：16146465
> 
> 赞同：-1
> 
> 时间：2013-04-22T11:50:46.297
> 
> 标签：verilog

假设我通过编写以下代码声明了一个包含 8 个位长度为 8 位的字的内存空间：

```
reg [7:0]mem[0:7] 
```

我想访问第三个单词的元素 3 到 5 并将它们设置为零。这个的语法应该是什么样的？

`reg[0:7]mem[0:7]`

这会是一段有效的代码吗？还是必须像初始化 1 一样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:05:15.517

如果您有一个相当现代的模拟器/合成器（V2001 之后），那么您可以直接访问数组单词中的部分选择：

```
 reg[7:0] mem[0:7];
   initial begin
      mem[3][7:6] = 2'b00;
      mem[3][5:0] = 6'b111111;  // mem[3] = 8'h3f
   end; 
```

在较旧的工具中，您必须读取/写入整个单词，并在临时变量中进行位或部分选择。

# xpath - XPATH：带有文本的节点或具有特定值的任何属性

> ID：16146469
> 
> 赞同：1
> 
> 时间：2013-04-22T11:50:58.417
> 
> 标签：xpath

我正在用 C# 编写代码，我需要根据条件找到一个子节点并替换它的值。

**有什么可用的：**

1.  XML 节点
2.  placeholder = 表示占位符的字符串
3.  replacementString = 占位符字符串需要替换为这个字符串

**什么是要做 ：**

1.  在 xml 节点中查找具有 text = placeholder 的子节点或具有 value = placeholder 字符串的任何属性的节点

2.  如果是节点，则分配内部文本 = replacementString。if属性，用replacementString替换属性值

**到目前为止的进展：**

我能够找到一个带有占位符的节点作为带有 xpath 的文本

```
descendant::*[text()='placeHolder'] 
```

但是现在我坚持添加占位符也可以作为属性值存在的规则。

**限制：**

它需要在 XPath 中完成，才能在 SelectSingleNode 中使用。可以确保只有一个节点/属性具有给定的占位符

**选择：**

我知道我可以获取 xmlnode 的字符串，执行字符串替换，在 DOM 中加载它并获取文档元素。但我不想仅仅为了字符串替换而在内存中创建另一个 DOM。

已经谢谢了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:10:41.293

给定

```
XmlNode foo;
string placeHolder, replacement; 
```

你应该可以使用

```
XmlNode rep = foo.SelectSingleNode(string.Format("//@*[. = '{0}'] | //text()[. = '{0}']", placeHolder));
if (rep != null) {
  rep.InnerText = replacement;
} 
```

两者`XmlText`都`XmlAttribute`具有可设置的`InnerText`属性。

[编辑] 如果节点`foo`是较大文档的一部分，那么最好将 XPath 更改为

```
XmlNode rep = foo.SelectSingleNode(string.Format(".//@*[. = '{0}'] | .//text()[. = '{0}']", placeHolder)); 
```

# linux - 为什么 Linux 内核使用 kobj->name[0] 来确定一个 NULL c 字符串？

> ID：16146470
> 
> 赞同：1
> 
> 时间：2013-04-22T11:51:01.600
> 
> 标签：linux, linux-kernel, linux-device-driver, c-strings, sysfs

有一个关于在Linux内核代码中检查c string null的问题，能不能帮帮我，谢谢！

在 kobject.c 中，[kobject_add_internal](http://lxr.linux.no/linux+v3.8.8/lib/kobject.c#L156)检查名称是否为 NULL：

```
if (!kobj->name || !kobj->name[0]) {
    WARN(1, "kobject: (%p): attempted to be registered with empty "
                               "name!\n", kobj);
    return -EINVAL;
} 
```

为什么`if(!kobje->name)`还不够？

谢谢！

亲切的问候比尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T11:53:27.690

`!kobj->name`当字符串为 NULL 时为真。

`!kobj->name[0]`当字符串为空时为真。AC 字符串以字符结尾`0`，因此当且仅当字符串的第一个字符为 时，字符串为空`0`。

# c# - 用C#中的if语句检查表是否存在？

> ID：16146473
> 
> 赞同：10
> 
> 时间：2013-04-22T11:51:14.900
> 
> 标签：c#, datagridview, datatable, exists, readxml

我尝试提出一个 if 语句来检查是否已经创建了一个表。我只想创建一个表，但现在我每次单击按钮来存储信息时都会创建一个表。有什么建议么？

```
 DataTable dt;

    private void InitDataTable()
    {

        if () { 

        }

        dt = new DataTable();
        DataSet ds = new DataSet();
        ds.ReadXml("gjesteInfo.xml");
        ds.Tables.Add(dt);

        DataColumn dc1 = new DataColumn("Fullt navn");
        DataColumn dc2 = new DataColumn("Start dato");
        DataColumn dc3 = new DataColumn("Antall dager");

        dt.Columns.Add(dc1);
        dt.Columns.Add(dc2);
        dt.Columns.Add(dc3);

        dt.Rows.Add(gjestenavnInput.Text, datoInnsjekk.Text, antallDager.Text);

        ds.Merge(dt);

        ds.WriteXml("gjesteInfo.xml");

    }

    private void lagre_Click(object sender, EventArgs e)
    {

        InitDataTable();

        gjesterutenrom.Items.Add(gjestenavnInput.Text);

        gjestenavnInput.Text = "";
        datoInnsjekk.Text = "";
        antallDager.Text = "";

        DataSet onClick = new DataSet();
        onClick.ReadXml("gjesteInfo.xml");
        lagredeGjester.DataSource = onClick.Tables[0];

    } 
```

我尝试使用名为 lagredeGjester 的 DataGridView 获取存储在 XLM 中的信息，如图所示。

更新问题：

现在我写了这样的代码：

```
 DataTable dt;

    DataSet ds = new DataSet();

    private void InitDataTable()
    {

         if( ds.Tables.Contains("Gjester")   )
        {
            dt.Rows.Add(gjestenavnInput.Text, datoInnsjekk.Text, antallDager.Text);
            ds.Merge(dt);

            ds.WriteXml("gjesteInfo.xml");

        }
        else {

            dt = new DataTable("Gjester");

            ds.ReadXml("gjesteInfo.xml");
            ds.Tables.Add(dt);

            DataColumn dc1 = new DataColumn("Fullt navn");
            DataColumn dc2 = new DataColumn("Start dato");
            DataColumn dc3 = new DataColumn("Antall dager");

            dt.Columns.Add(dc1);
            dt.Columns.Add(dc2);
            dt.Columns.Add(dc3);

            dt.Rows.Add(gjestenavnInput.Text, datoInnsjekk.Text, antallDager.Text);
            ds.Merge(dt);

            ds.WriteXml("gjesteInfo.xml");

        }

    } 
```

在我第一次运行时，我输入了两个不同的信息并按下了我的按钮。这两个信息都按我的意愿放在同一张桌子上。但我似乎无法正确编写我的 if 语句。当我运行上面的代码时，它使用一个空的 XML（没有表），但只要创建了“Gjester”表，它就会显示“名为 'Gjester' 的数据表已经属于这个数据集”。但这不是我的 if 语句应该防止的吗？正如我现在写的那样，它不应该只是添加信息而不是尝试创建一个新表吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-22T11:57:11.043

可以通过以下方式检查：

```
if(ds.Tables.Contains("tablename")) 
```

或者

```
 if(dt.Rows.Count == 0) 
```

或者

```
int flag=0;
try
{

    if(ds.Tables["tablename"].Rows.Count>0)
    {
      // execute something
    }
}
catch(Exception ex)
{
 flag=1;
}

if(flag==1)
{
  messagebox.show("Table does not exists");
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-22T14:26:11.280

您还可以扩展 DataSet 以添加方法 FetchOrCreate()

```
 public static DataTable FetchOrCreate(this DataSet ds, string tableName)
  {
       if (ds.Tables.Contains(tableName)) 
           return ds.Tables[tableName];
       // -------------------------------
       var dt = new Datatable(tableName);
       ds.Tables.Add(dt);
       return dt;          
  } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-22T11:57:52.257

一个可能的解决方案是定义`DataSet`函数外。然后检查数据集中的表数。

```
DataSet ds = new DataSet();

private void InitDataTable()
{
    DataTable dt;

    if(ds.Tables.Count > 0 )
    {
        dt = ds.Tables[0];
    }

    dt = new DataTable();

    //your code
} 
```

# python - 格式化文本python，使用浮点数？

> ID：16146475
> 
> 赞同：0
> 
> 时间：2013-04-22T11:51:18.087
> 
> 标签：python

我正在尝试用值格式化表格，但觉得我做得不好。例如，在分割和传递到字符串时必须将整数字典转换为整数。而且 %f 似乎也打印了 0 的负载。我只想要一个带小数点的除法，而不是所有尾随的 0

```
band1= {'channel1': 10564, 'channel2': 10589, 'channel3': 10612, 'channel4': 10637,'channel5': 10662, 'channel6': 10687,
'channel7': 10712, 'channel8': 10737, 'channel9': 10762, 'channel10': 10787,'channel11': 10812, 'channel12': 10837, }

print '%10s %10s %10s %10s %10s %10s %10s %10s %10s %10s %10s %10s' % ("Channel 1", "Channel 2", "Channel 3",
"Channel 4", "Channel 5", "Channel 6", "Channel 7","Channel 8", "Channel 9", "Channel 10", "Channel 11", "Channel 12")
print '%10s %10s %10s %10s %10s %10s %10s %10s %10s %10s %10s %10s' % (band1['channel1'], band1['channel2'], band1['channel3'],
band1['channel4'], band1['channel5'], band1['channel6'], band1['channel7'], band1['channel8'], band1['channel9'], 
band1['channel10'], band1['channel11'], band1['channel12'])
print '%5f %5f %5f %5f %5f %5f %5f %5f %5f %5f %5f %5f' % (int(band1['channel1'])/5.0, int(band1['channel2'])/5.0, int(band1['channel3'])/5.0,
int(band1['channel4'])/5.0, int(band1['channel5'])/5.0, int(band1['channel6'])/5.0, int(band1['channel7'])/5.0, int(band1['channel8'])/5.0, int(band1['channel9'])/5.0, 
int(band1['channel10'])/5.0, int(band1['channel11'])/5.0, int(band1['channel12'])/5.0) 
```

这给出了：

```
Channel 1  Channel 2  Channel 3  Channel 4  Channel 5  Channel 6  Channel 7  Channel 8  Channel 9 Channel 10 Channel 11 Channel 12
    10564      10589      10612      10637      10662      10687      10712      10737      10762      10787      10812      10837
2112.800000 2117.800000 2122.400000 2127.400000 2132.400000 2137.400000 2142.400000 2147.400000 2152.400000 2157.400000 2162.400000 2167.400000 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:08:33.090

```
rows = zip(*((key, value, value/5.) for key, value in sorted(band1.items(), 
                                           key= lambda x: int(x[0][7:]))))

print '\n'.join(''.join('{0:<10}'.format(elem) for elem in tup) 
                                               for tup in rows) 
```

出去：

```
channel1  channel2  channel3  channel4  channel5  channel6  channel7  channel8  channel9  channel10 channel11 channel12
10564     10589     10612     10637     10662     10687     10712     10737     10762     10787     10812     10837    
2112.8    2117.8    2122.4    2127.4    2132.4    2137.4    2142.4    2147.4    2152.4    2157.4    2162.4    2167.4 
```

分成几块：

```
cols = [(key, value, value/5.) for key, value in sorted(band1.items(), 
                                        key= lambda x: int(x[0][7:]))]
print cols
# [('channel1', 10564, 2112.8), ('channel2', 10589, 2117.8), ('channel3', 10612, 2122.4), ('channel4', 10637, 2127.4), ('channel5', 10662, 2132.4), ('channel6', 10687, 2137.4), ('channel7', 10712, 2142.4), ('channel8', 10737, 2147.4), ('channel9', 10762, 2152.4), ('channel10', 10787, 2157.4), ('channel11', 10812, 2162.4), ('channel12', 10837, 2167.4)]
rows = zip(*cols)
print rows
# [('channel1', 'channel2', 'channel3', 'channel4', 'channel5', 'channel6', 'channel7', 'channel8', 'channel9', 'channel10', 'channel11', 'channel12'), (10564, 10589, 10612, 10637, 10662, 10687, 10712, 10737, 10762, 10787, 10812, 10837), (2112.8, 2117.8, 2122.4, 2127.4, 2132.4, 2137.4, 2142.4, 2147.4, 2152.4, 2157.4, 2162.4, 2167.4)] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:01:01.027

如果保证每个结果数字只有 1 个小数点且尾随零，那么您可以：

**使用[字符串格式](http://docs.python.org/2/library/string.html#format-specification-mini-language)：**

```
>>> i = 2112.800000
>>> print "{0:5.1f}".format(i)
2112.8 
```

**或者 ：**

```
>>> i = 2112.800000
>>> print "%5.1f" % i
2112.8 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:56:03.907

`round(your_float, decimal_point)`将解决您的问题。

例子：

`my_float = 3.5678009`

`rounded = round(my_float, 2)`

`print rounded`

--> 3.57

# html - CSS 定位问题。无法添加第二个侧边栏

> ID：16146476
> 
> 赞同：0
> 
> 时间：2013-04-22T11:51:20.490
> 
> 标签：html, css

我无法在我今天制作的示例网页中添加 2 个侧边栏。

HTML：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0045)http://csseasy.com/layouts/fixed/1column.html -->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org" />
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
  <link rel="stylesheet" type="text/css" href="style2.css" />

  <title>CSSeasy.com example page</title>
</head>

<body>
  <div id="header"></div>

  <div id="content"></div>

  <div id="ltsidebar"></div>

  <div id="rtsidebar">
    <div id="footer"></div>
  </div>
</body>
</html> 
```

CSS

```
body
{
    width:1400px;
}

#header
{
    background-color:#666;
    height:150px;
    margin-left:250px;
    width:750px;
}

#content
{
    background-color:#666;
    height:auto!important;
    margin-bottom:20px;
    margin-left:250px;
    margin-top:20px;
    min-height:500px;
    width:750px;
}

#footer
{
    background-color:#666;
    height:100px;
    margin-left:250px;
    margin-top:0;
    width:750px;
}

#ltsidebar
{
    background-color:#666;
    float:left;
    height:300px;
    margin-bottom:20px;
    margin-top:-500px;
    width:200px;
}

#rtsidebar
{
    background-color:#666;
    float:right;
    height:300px;
    margin-bottom:20px;
    margin-right:160px;
    margin-top:-500px;
    width:200px;
} 
```

我能够添加一个浮动到左侧的侧边栏。但是当我为右侧边栏制作另一个 div 并将“body”宽度从 960 像素增加到 1400 像素时，我看到脚栏在右侧。为什么？我希望脚踏板仅位于底部。所以我的问题是为什么页脚向右移动？解决方案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:58:46.837

试试这个以将页脚保持在底部：

```
 <div id="header"></div>

  <div id="content"></div>

  <div id="ltsidebar"></div>

  <div id="rtsidebar">

  </div>
  <div id="footer"></div> 
```

我已将页脚 div 部分移出 rtsidebar 并将其放在 rtsidebar 下方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:38:19.053

如果您使用浮动元素，则必须清除此浮动。

**代码**

```
 <div id="header"></div>
  <div class="wrapper">
      <div id="ltsidebar"></div>
      <div id="content"></div>      
      <div id="rtsidebar">
  </div>   
  <div id="footer"></div> 
```

**CSS 代码**

```
body
{
    width:1400px;
}

#header
{
    background-color:#666;
    height:150px;
    margin: 0 auto;
    width:750px;
}

#content
{
    background-color:#666;
    height:auto!important;
    margin: 20px 125px;
    min-height:500px;
    width:750px;
    float: left;
}

#footer
{
    background-color:#666;
    height:100px;
    margin: 0 auto;
    width:750px;
    clear: both;
}

#ltsidebar
{
    float:left;
    width:200px;
    height:300px;
    background-color:#666;
}

#rtsidebar
{
    float:right;
    width:200px;
    height:300px;
    margin-bottom:20px;
    background-color:#666;  
} 
```

**演示**

[http://jsfiddle.net/SmXKj/2/](http://jsfiddle.net/SmXKj/2/)

# c# - Visual Studio：如果编译为 dll，则排除一个类

> ID：16146486
> 
> 赞同：1
> 
> 时间：2013-04-22T11:51:56.173
> 
> 标签：c#, visual-studio-2010, dll, projects-and-solutions

我有一个 DLL 项目，我经常将其编译为一个`.exe`，以便我可以轻松地测试其中的类。一个类包含一个`Main()`方法，当我将它编译为`.dll`文件时它是无用的。每当我将它编译为类库时，我想自动从项目中排除这个类。看来我一定是第一个遇到这个问题的人，因为全能的谷歌似乎没有回答我的问题：我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:59:51.223

我会认真考虑单元测试是为了不断地这样做。即使没有正确实施单元测试，您也只是将其用作中间调试器。我什至会说做一个单元测试项目作为调试代码的控制台应用程序，在获得访问权方面，它会让你的生活更轻松，如果你希望在未来实现某种形式的单元测试你可以。

```
[TestMethod]
public class YourClassNameTests
{
  public T YourObject;
  [TestInitialize()]
  public void Initializer()
  {
    YourObject = new T();
  }
  [TestMethod()]
  public void YourMethodTest()
  {
    //Arrange
    YourObject.ReliantProperty = 1;
    //Act
    var objResult = YourObject.YourMethod();
    //Assert
    Assert.IsTrue(objResult == 1);
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:59:58.883

你有几个我能想到的解决方案：

1）使用条件编译器选项。例如，只有在调试时才包含它

#如果调试

```
public void Main() {  
// Do Stuff  
} 
```

＃万一

2）制作 Main 方法`internal`，或将其移动到您可以运行的测试项目中。然后你要么直接使用它，要么确保你的测试 DLL 可以看到内部方法。

3) 将 Main 方法移到引用原始 DLL 的完全不同的 .exe 中。（这类似于不使用测试框架的选项 2）。

# sql - 不存在 ORA-00904: 标识符无效错误

> ID：16146493
> 
> 赞同：0
> 
> 时间：2013-04-22T11:52:14.180
> 
> 标签：sql, oracle11g

当我执行下面的查询时，它会出现错误，就像`"ORA-00904: "R"."MEASURE": invalid identifier"`
我认为查询没有错一样。但我找不到问题。你能帮我吗...谢谢。

```
SELECT  DISTINCT 0 ROW_ID,  Division , Outlet , Class , Package , Type , Measure 
FROM       NEW_OUTLET_TOTAL_PLAN_2013 S 
WHERE   NOT EXISTS
(SELECT  1
FROM    TEMP_BWXROW3  R 
WHERE   
R.Division = S.Division AND 
R.Outlet = S.Outlet AND 
R.Class = S.Class AND 
R.Package = S.Package AND 
r.type = s.type and 
R.Measure = S.Measure ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:17:56.017

执行这个：

```
SELECT *
  FROM USER_TAB_COLS
  WHERE UPPER(TABLE_NAME) = 'TEMP_BWXROW3' AND
        UPPER(COLUMN_NAME) = 'MEASURE' 
```

这将向您显示使用的确切列名。密切注意列名的大小写（大写、小写或混合）。如果不是全部大写（即“MEASURE”），则在使用时需要用双引号将列名括起来。因此，例如，如果实际列名是“测量”，您需要将查询更改为

```
SELECT  DISTINCT 0 ROW_ID,  Division , Outlet , Class , Package , Type , Measure
FROM       NEW_OUTLET_TOTAL_PLAN_2013 S 
WHERE   NOT EXISTS
(SELECT  1
FROM    TEMP_BWXROW3  R 
WHERE   
R.Division = S.Division AND 
R.Outlet = S.Outlet AND 
R.Class = S.Class AND 
R.Package = S.Package AND 
r.type = s.type and 
R."Measure" = S.Measure); 
```

分享和享受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:57:52.657

TEMP_BWXROW3 中有区分大小写的列名吗？如果是这样，请使用 R."Measure" ...

# regex - 使用具有以下 2 种格式的正则表达式进行解析（CSV 文件）

> ID：16146494
> 
> 赞同：0
> 
> 时间：2013-04-22T11:52:15.590
> 
> 标签：regex, csv, format

我有一个平面文件*(* CSV *)*`"|"`，其值**由**

 ****为了做到这一点，我创建了这个正则表达式规则：

```
(\|\ *)([0-9]{0,3})(\.|\ )?([0-9]{3})?(\.|\ )?([0-9]{3})?(,)?([0-9]{0,3})(-| )?(\|) 
```

这很好用，除非 2 个数字是连续的，例如：

```
| 9 450,000 |**9 809 100,000** | 1 890,000 |UN | 
```

我该如何纠正？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:15:48.527

如果您使用的正则表达式风格允许两种环视，我认为这可能就足够了：

```
(?<=\d)(?: |\.)(?=\d) 
```

然后用空字符串替换匹配项可能就足够了。
但是，如果你不能使用它们，你仍然可以使用

```
(\d)(?: |\.)(\d) 
```

然后使用引用的组（`$1$2`或`\1\2`取决于口味）。

**编辑：**
确保不替换日期：

```
(?<=\d)(?: |\.)(?=\d)(?=[ .\d]*,) 
```

当您使用 csv 文件时，您的数据被分隔`|`以便可以工作（因为我没有您的全部数据，我不确定）。****

# c# - ASP.NET 动态数据根据元数据自动填充下拉列表

> ID：16146497
> 
> 赞同：0
> 
> 时间：2013-04-22T11:52:29.990
> 
> 标签：c#, asp.net, asp.net-dynamic-data

我正在使用 ASP.NET 动态数据，我想做的一件事是拥有一个元类，例如：

```
 public class CopyTermsHolidaysMetadata
    {
        [Required]
        public int SchoolID { get; set; }

        [Required]
        [UIHint("AcademicYear")]
        public int AcademicYear { get; set; }

        [DisplayName("Recipient School")]
        [Required]
        public int DestinationSchoolID { get; set; }
    } 
```

现在，两个字段 SchoolID 和 DestinationSchoolID 是来自“School”表的下拉列表。

是否有任何属性可以用来自动将它们填充为它们的下拉列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T09:49:07.857

您应该使用`FilterUIHintAttribute`允许在`CopyTermsHolidays`实体上替换（或添加新过滤器）默认过滤器的类。

例如：

```
[Required]
[UIHint("AcademicYear")]
[FilterUIHint("AcademicYearFilter")]
public int AcademicYear { get; set; } 
```

`AcademicYearFilter`需要位于`~\DynamicData\Filters`目录 ( `AcademicYearFilter.ascx`)中的自定义过滤器在哪里。

[FilterUIHintAttribute 类](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.filteruihintattribute.aspx)的更多信息。

我会鼓起勇气附上我的答案过滤器模板查找算法和一些来自*ASP.NET Dynamic Data UNLEASHED*
的引用：

 *> 与字段模板的查找规则相比，过滤器模板的查找规则比较简单。动态数据仅使用与列关联的 FilterUIHint，并且具有多种列类型的内在知识。如果数据模型中没有指定FilterUIHint，并且该列是外键（表示子实体中多对一或一对一关联的父导航属性的列），布尔值，或枚举，Dynamic Data 分别选择预定义的 FilterUIHint 值、ForeignKey、布尔值或枚举。有了 FilterUIHint 值，Dynamic Data 会尝试在 Web 应用程序项目的 DynamicData\Filters 目录中找到具有匹配名称的用户控件。如果用户控件不存在，则查找过程结束，

![在此处输入图像描述](https://i.stack.imgur.com/5MHmf.png)*

# wpf - 在 MVVM 上切换视图

> ID：16146498
> 
> 赞同：1
> 
> 时间：2013-04-22T11:52:36.443
> 
> 标签：wpf, xaml, views

我有 4 个视图模型（BaseViewModel、MainViewModel 和两个为不同的视图显示：ViewModelMainPage、ViewModelWorkPage）和 1 个视图。我想在单个窗口上应用不同的视图。到目前为止，我已经在 window.resources 中创建了 2 个数据模板（每个模板都有自己的视图模型）。我在网格列 0 上有两个按钮可以在它们之间切换，在网格列 1 中将显示选定的数据模板。从这里开始，我不知道该怎么办。我真的很感激任何帮助。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T17:34:28.830

您可以扩展您`DataTemplate`在父视图中声明的子视图的概念。

可以在[此处找到与您所做的](http://www.codeproject.com/Articles/323187/MVVMLight-Using-Two-Views)**非常**相似的工作示例（尝试下载示例中的项目“TwoViews”）。下载源代码并通读文章。

您也可以通读[This SO Question's Answer](https://stackoverflow.com/questions/16056927/custom-dependencyproperty-having-the-type-of-a-model-and-automatic-creation-of-v/16061114#comment22926780_16061114)以了解当模型发挥作用时它是如何扩展的。

[这个 Codeplex 示例](http://apuntanotas.codeplex.com/)也非常适合 MVVM 的初学者。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:32:13.960

你需要的是一个数据模板选择器。查看 MSDN 链接以获取有关如何使用选择器的示例。

[http://msdn.microsoft.com/en-us/library/system.windows.controls.datatemplateselector.aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.datatemplateselector.aspx)

# javascript - javascript：使用 window.open 时防止浏览器使用 shiftKey

> ID：16146502
> 
> 赞同：0
> 
> 时间：2013-04-22T11:52:47.257
> 
> 标签：javascript

看这个例子：http: [//jsfiddle.net/casaschi/qKD9q/](http://jsfiddle.net/casaschi/qKD9q/)

```
<div style="color:blue;" onclick="window.open('http://www.google.com/search?q=' + Math.random(), '_blank');">
click me while pressing the shift key and then while NOT pressing it
</div>
<br/>
does one window appear as popup and the other one as a new tab? 
```

如果单击 chrome 或 IE 上的蓝线，将打开一个新选项卡。如果您按住 Shift 键单击蓝线，则会打开一个弹出窗口。

有没有办法从我的 javascript 代码中控制新窗口的打开方式，例如始终作为新窗口，无论用户是否按下 shiftKey？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:55:48.240

这不能被覆盖。大多数允许用户在哪里打开新窗口/标签的首选项的浏览器功能不能被覆盖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:19:19.293

```
$(document).ready(function () {
    $('div').keypress(function(e) {
    console.log(e.shiftKey);
    if (e.which == 163) {
        e.preventDefault();
    }
    });
}); 
```

尝试这个。这将始终在新标签中打开。即使按下 shift 键

# javascript - 无法创建 javascript 闭包

> ID：16146506
> 
> 赞同：0
> 
> 时间：2013-04-22T11:53:02.640
> 
> 标签：javascript, syntax, scope, closures

尝试创建与 in 中`test.tgt`的函数相同的函数，`test.src`但它们将具有上下文。

```
test.src.fn() => test.work.fn.call(context) 
```

这是试验台

```
var fn1 = function() { console.log('fn1'); };
var fn2 = function() { console.log('fn2'); };
var 上下文 = { a: 1 };
变种测试 = {
  tgt：{}，
  src：{一：fn1，二：fn2}，
  初始化：函数（）{
    for( var i in test.src ) {
      test.tgt[i] = function(arg) { test.src[i].call(test.cxt,arg); };
    }
  }
}
测试.init();
test.src.one() => 'fn1'
test.tgt.one() => 'fn2' 哎哟！！

```

问题是`test.src[i]`在执行函数之前不会对其进行评估。

如何`test.src[i]`在新创建的函数中获得“真实”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T11:59:23.290

尝试为循环的每次迭代创建一个闭包：

```
var fn1 = function() { console.log( 'fn1' ); }; 
var fn2 = function() { console.log( 'fn2' ); }; 
var context = { a: 1 };
var test = {
  tgt: {},
  src: { one: fn1, two: fn2 },
  init: function() {
    for( var i in test.src ) {
      test.tgt[i] = (function(index){return function(arg) { test.src[index].call(test.cxt,arg); };}(i));
    }
  }
}
test.init();
test.src.one() // => 'fn1'
test.tgt.one() // => 'fn1' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:01:08.033

这是一个经典的 Javascript 问题。您假设`i`在 for 循环的上下文中应该将其捕获为创建函数时的值，但它是 i 的最后一个值。为了解决这个问题，您可以像这样在本地捕获它：

```
test.tgt[i] = (function(local_i){
    return function(arg) { test.src[local_i].call(test.cxt,arg); };
})(i); 
```

因此，您将其包装在立即执行的函数上下文中，并且内部函数在该迭代中获得 i 的正确值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T11:59:10.053

您在内部创建的所有函数`init`都有共享闭包，因此它们共享`i`变量，因此它始终是最后一个。试试这个：

```
init: function() {
    for( var i in test.src ) {
      (function(idx) { 
          test.tgt[idx] = function(arg) {test.src[idx].call(test.cxt,arg); };
      }(i));
    }
} 
```

# jquery - 在 for 循环之后访问元素的 id

> ID：16146507
> 
> 赞同：0
> 
> 时间：2013-04-22T11:53:07.750
> 
> 标签：jquery, for-loop, onclick

我正在使用 .get() 来构建季节列表。当我这样做时，我将附加`<li><a>`到我的`<ul>`元素。加载后，我想访问`<a>`元素以返回它们的 id，onclick。但是，当我尝试这个时，我无法在点击时访问这些元素。

```
<script type="text/javascript">
    $(function(){
      var org = localStorage.getItem("org");
      var key = localStorage.getItem("key");
      var user = localStorage.getItem("user");
      $.get('https://domain.com/App/GetSeasons/?user='+user+'&key='+key+'&org='+org, function(xml){
            var seasons = $.xml2json(xml);
            for (i=0; i<=seasons.Season.length; i++){
            var seasonName = seasons.Season[i].name;
            var SeasonID = seasons.Season[i].id;
            $("#seasonlist").append("<li><a href='#' id="+SeasonID+">" + seasonName + "<span class=pull-right>></span></a></li>");
            }
            });
      });
    </script>
<script>
      $("#seasonlist > li > a").click(function(){
                             var test = $(this).attr("id");
                                      console.log(test);
                                      });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T11:56:44.100

尝试使用`.on`-

```
 $(document).on('click',"#seasonlist > li > a",function(){
     var test = $(this).attr("id");
     console.log(test);
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:56:16.423

[使用.on()](http://api.jquery.com/on/)将事件处理程序附加到父元素，并将选择器作为参数传递。这也适用于动态添加的元素......

```
 $("#seasonlist").on('click', 'li > a', function(){
      var test = $(this).attr("id");
      console.log(test);
 }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T11:56:16.323

您需要对动态添加的元素使用委托：

```
$('#seasonlist').on("click", 'li > a', function () {
    var test = $(this).attr("id");
    console.log(test);
}); 
```

检查[**文档**](http://api.jquery.com/on/)

# xml - XML/DTD 元素类型“Movie”的内容必须匹配“(Title,Price)”。[7]

> ID：16146508
> 
> 赞同：0
> 
> 时间：2013-04-22T11:53:09.513
> 
> 标签：xml, dtd

希望有人能在这里指出错误——这只是我正在尝试的一个示例，但我就是无法解析 XML .....

DTD 看起来像这样

```
<?xml version="1.0" encoding="UTF-8"?>
<!ELEMENT Movies (Movie*)>
<!ELEMENT Movie (Title, Price)>
<!ATTLIST Movie year CDATA #REQUIRED>
<!ELEMENT Title (#PCDATA)>
<!ELEMENT Price (#PCDATA)> 
```

示例 XML 看起来像这样（我无法阻止预览解释 XML ！！）

```
<?xml version="1.1"?>
<!DOCTYPE Movies SYSTEM "movies.dtd">
<Movies>
    <Movie year="1946">
        <Title>It’s a Wonderful Life</Title>
        <Price>14.95</Price>
    </Movie>
    <Movie year="1965">
        <Title>The Great Race</Title>
        <Price>12.95</Price>
    </Movie>
    <Movie year="1974">
        <Title>Young Frankenstein</Title>
        <Price>16.95</Price>
    </Movie>
    <Movie year="1975">
        <Title>The Return of the Pink Panther</Title>
        <Price>11.95</Price>
    </Movie>
</Movies> 
```

我得到的错误是......

元素类型“Movie”的内容必须匹配“(Title,Price)”。

对于数据库中的每个“电影”条目，我希望它是愚蠢的——因为我看不到它！

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:06:30.700

XML 版本应该是 1.0-：

```
<?xml version="1.0"?> 
```

和最后的结束标签`</Movies>`丢失 - 可能只是错过了将其粘贴到帖子上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-25T06:35:15.603

好的 - 没有其他回应，但我发现了问题。

这取决于 XML 文件的格式。我有点惊讶，但我去掉了所有的线端等，一切都很好。

# android - Android 中的 URL HTMLCLient 调用

> ID：16146515
> 
> 赞同：0
> 
> 时间：2013-04-22T11:53:44.390
> 
> 标签：android, http, url, android-webview, androidhttpclient

我正在使用一个 API，它要求我进行“URL HTMLCLient 调用”，它返回 JSON 格式的数据。我已经在我的浏览器上测试了这些链接，它们工作正常，但是当我尝试在 Android 中检索数据时，我不断得到一个空值。

这是我下面的代码

```
public String callWebservice(String weblink) {

String result = "";

    try {

        //String link = "http://free.worldweatheronline.com/feed/weather.ashx?q=cardiff&num_of_days=4&format=json&key=eb9390089uhq175307132201";
        URL url = new URL(weblink);

        URLConnection urlc = url.openConnection();
        BufferedReader bfr = new BufferedReader(new InputStreamReader(
                urlc.getInputStream()));
        result = bfr.readLine();

    } catch (Exception e) {
        e.printStackTrace();
        result = "timeout";
    }
    return result;
} 
```

该网络链接包含我正在尝试检索信息的 url，我已经使用 worldweatheronline JSON API 测试了代码并且它工作正常。我的问题是，API 文档所说的进行 URL HTMLClient 调用的事实是否要求我以与常规 HTTP 请求不同的方式执行此操作，如果不是，那么当我返回空值时可能是什么原因相同的链接在我的浏览器上运行良好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:58:46.597

在您的代码中，您不会在 URL 调用之后附加缓冲输出。

这是您更新的代码：

```
public String callWebservice() {
        String result = "", line = "";

        try {

            String weblink = "http://itwillbealright.co.uk/dev1/camc/clientmethod.php?method=Login&id=&version=&username=m&password=m";
            URL url = new URL(weblink);

            URLConnection urlc = url.openConnection();
            BufferedReader bfr = new BufferedReader(new InputStreamReader(
                    urlc.getInputStream()));

            while ((line = bfr.readLine()) != null) {
                result += line;
            }

        } catch (Exception e) {
            e.printStackTrace();
            result = "timeout";
        }
        return result;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T11:59:34.657

尝试一下

// 在你的代码中的某个地方，这被称为 // 在不是用户界面的线程中 // 线程

```
try {
  URL url = new URL("http://www.vogella.com");
  HttpURLConnection con = (HttpURLConnection) url
    .openConnection();
  readStream(con.getInputStream());
  } catch (Exception e) {
  e.printStackTrace();
}

private void readStream(InputStream in) {
  BufferedReader reader = null;
  try {
    reader = new BufferedReader(new InputStreamReader(in));
    String line = "";
    while ((line = reader.readLine()) != null) {
      System.out.println(line);
    }
  } catch (IOException e) {
    e.printStackTrace();
  } finally {
    if (reader != null) {
      try {
        reader.close();
      } catch (IOException e) {
        e.printStackTrace();
        }
    }
  }
} 
```

# c# - 在 Page_Init 上设置 Page.EnableEventValidation

> ID：16146523
> 
> 赞同：0
> 
> 时间：2013-04-22T11:54:16.913
> 
> 标签：c#, asp.net, webforms

我有一个用户控件，我已在代码隐藏中成功设置`Page.EnableEventValidation = false`了`Page_Init`事件（以便将页面标记呈现为字符串）：

**MyControl.ascx.cs**

```
protected void Page_Init(object sender, EventArgs e)        
{  
    if (Request.Form["__EVENTTARGET"] != null
        && Request.Form["__EVENTTARGET"] == btnPrint.ClientID.Replace("_", "$"))
    {
        Page.EnableEventValidation = false;
    }
} 
```

但是，当我尝试在单独的页面上复制此功能时（这次是在`runat=server`脚本标签中）...

**我的页面.aspx**

```
<script runat="server">
    protected void Page_Init(object sender, EventArgs e)        
    {  
        if (Request.Form["__EVENTTARGET"] != null
            && Request.Form["__EVENTTARGET"] ==
            btnDownloadPDF.ClientID.Replace("_", "$"))
        {
            Page.EnableEventValidation = false;
        }
    }
</script> 
```

...我收到以下错误：

> 'EnableEventValidation' 属性只能在页面指令或配置部分中设置。

现在，在我的第一个示例中，我最初尝试在`Page_Load`;上执行此操作时收到此错误。但是，您似乎*可以通过*编程方式禁用事件验证，只要它在期间（或之前）完成`Page_Init`。不幸的是，这在我的第二个示例中不起作用。

为什么这在一种情况下有效，而在另一种情况下无效？是否与代码不在代码隐藏中的事实有关？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T12:48:43.280

出于安全原因，通常使用`Page.EnableEventValidation = false`是一个坏主意。

相反，你应该看看`Page.ClientScript.RegisterForEventValidation`

例如：

```
protected override void Render(HtmlTextWriter writer)
{
    Page.ClientScript.RegisterForEventValidation(btnDownloadPDF.UniqueID);
    base.Render(writer);
} 
```

这将注册事件引用并允许事件触发。然后就可以离开了`Page.EnableEventValidation = true`。

从 MSDN检查[这个例子。](http://msdn.microsoft.com/en-us/library/ms223397.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1)

# c# - C# rtmp-播放器库

> ID：16146525
> 
> 赞同：2
> 
> 时间：2013-04-22T11:54:18.747
> 
> 标签：c#, c#-4.0, streaming, video-streaming, rtmp

我正在创建一个 C# 应用程序，我需要它来播放 rtmp 实时流。我不必创建像 VLC 播放器这样的终极工具，因为播放流不是我的应用程序的主要目的。我必须做的关于 RTMP 的唯一事情就是在 WPF 窗口中播放流。问题是，我不知道该怎么做。

我找到了几个RTMP库（例如Broccoli），但据我所知，它们只能在flv文件中录制视频，而不能播放。

我也尝试在我的项目中使用 FFplay 并且效果很好，但是这个工具在它的自身窗口中播放流，我不知道如何将它放入我的 WPF 表单中（这是必然的）。

唯一真正有效的变体是通过 AxShockwaveFlash 和 WindowsFormsHost 对象将 Flash 播放器放入我的 WPF 窗口，但它非常耗费资源（尤其是创建和处置操作），所以我认为这不是最佳选择。

你能给我什么建议？

# vim - Vim：在操作挂起模式下交换 2 个字符

> ID：16146526
> 
> 赞同：4
> 
> 时间：2013-04-22T11:54:21.350
> 
> 标签：vim, key-bindings, remap

使用异国情调的键盘布局，我必须重新映射 g（以及其他），它在我的布局中位于经典 qwerty 布局的 h 位置。为此，我决定使用以下命令将 g 与 h 交换：

```
noremap g h
noremap h g 
```

这行不通。例如，键入 hh 被视为 gh 而不是 gg。此外，当点击 g 它显示 g（`showcmd`启用）而不是 h 并且它似乎没有考虑重新映射，它就像 g 命令一样。但是当再次按下 g 或等待 1 秒时，它实际上向左移动。

我尝试了以下操作以使其在等待操作模式下工作

```
onoremap g h
onoremap h g 
```

但它不会改变任何东西。

那么为什么它会这样呢？以及如何解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:07:56.020

多键命令`gg`（或`<C-w>`我记得类似问题的各种命令）的问题在于它们*不是*`g`操作员后面的命令`g`。（尤其是`g`前缀，在那个空间的原始 vi 中找不到一整套不相关的命令。）

恐怕您必须为所有这些定义单独的重新映射：

```
:nnoremap hh gg
... 
```

# fuelphp - 如何输出/记录 Fuel PHP 的 Orm 查询生成的 sql 查询？

> ID：16146542
> 
> 赞同：6
> 
> 时间：2013-04-22T11:55:33.567
> 
> 标签：fuelphp

是否有某种方法可以记录或输出从 a`Model_Orm::query()`或 a生成的 mysql 查询字符串`Model_Orm::find()`？

我有一个复合体`Orm::query()`没有给我预期的结果，我想知道为什么！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-23T09:04:08.507

在执行任何运行查询的操作之后，无论是以下任何一项

```
\Model_Something::find('all');
\Model_Something::query()...
\DB::query()...
\DB::select()... 
```

您可以使用

```
echo \DB::last_query(); 
```

查看上次运行的内容，无论您使用哪种方式查询数据库。

取自生产代码的工作示例：

```
$product = Model_Product::find('all', array(
     'related' => array(
              'i18ns',
     ),
     'where' => array(
              array('i18ns.variant_slug', $slug)
     )
));

echo \DB::last_query();
exit;

SELECT `t0`.`family_id` AS `t0_c0`, `t0`.`type_id` AS `t0_c1`,
       `t0`.`sort_weight` AS `t0_c2`, `t0`.`active` AS `t0_c3`,
       `t0`.`attribute_set` AS `t0_c4`, `t0`.`created_at` AS `t0_c5`,
       `t0`.`updated_at` AS `t0_c6`, `t0`.`site_id` AS `t0_c7`,
       `t0`.`temporal_start` AS `t0_c8`, `t0`.`temporal_end` AS `t0_c9`,
       `t0`.`id` AS `t0_c10`, `t1`.`id` AS `t1_c0`, `t1`.`product_id` AS `t1_c1`,
       `t1`.`language_id` AS `t1_c2`, `t1`.`slug` AS `t1_c3`,
       `t1`.`variant_slug` AS `t1_c4`, `t1`.`title` AS `t1_c5`,
       `t1`.`description` AS `t1_c6`, `t1`.`temporal_start` AS `t1_c7`,
       `t1`.`temporal_end` AS `t1_c8`
FROM `products` AS `t0`
LEFT JOIN `product_i18n` AS `t1`
     ON (`t0`.`id` = `t1`.`product_id`)
WHERE `t1`.`variant_slug` = 'test-product' 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T17:28:56.133

有一些方法可以实现这一点，如果您只想打印您构建的复杂查询，请使用 get_query(); ORM 查询类的方法。

下面是打印查询的示例代码。

```
$queryToExecute = Model_Article::query()
        ->select('author')
        ->where('date', '<', time())
        ->where('draft', '=', 1);

// This will print the query which is actually executed by your ORM 
echo $queryToExecute->get_query(); 
```

如果要记录查询并执行

```
$queryString = $queryToExecute->get_query();
Log::info("Query that is executed {$queryString} "); 
```

如果您想分析您的查询的性能，您应该使用[DB profiler](http://fuelphp.com/docs/general/profiling.html)，通过在您的应用程序配置中启用。

希望我上面的解决方案能解决你的问题

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-09T07:31:32.280

执行查询后，可以使用 follow 语句

`echo \Database_Connection::instance(Model_Foo::$_connection)->last_query;`

# php - jQuery电子邮件验证和recaptcha在两阶段表单提交过程中不起作用

> ID：16146546
> 
> 赞同：0
> 
> 时间：2013-04-22T11:55:53.710
> 
> 标签：php, javascript, jquery, validation, recaptcha

**情景**-

```
PHASE1:-
User enters email id-
    IF_NOT_EMPTY
      VALIDATE email
        IF valid_email
              SHOW recaptcha with another form submit button( id="button2")
              DISABLE email field
              HIDE button1
        ELSE throw_valid_email_error
    ELSE throw_blank_email_error

PHASE2:-
    If captcha is correct and user             
    Clicks on button2 
            SHOW success message in a div(id="success") 
```

**两个问题**——

1.  有时我`recaptcha`在页面加载时出现然后隐藏，我该如何防止这种情况？（或者更好的方法让我知道）
2.  如果我将按钮类型从更改`submit`为`button`验证停止工作，`<input class="button1" type="submit" value="Submit" id="button1" />`我正在尝试此更改，因为我的`submit`按钮将在电子邮件验证后进入第二步。这次 recaptcha 和 form 没有按正确的顺序工作，让我知道我该如何处理这件事？

**整个代码**-

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
<style type="text/css">
* { font-family: Verdana; font-size: 96%; }
label { width: 10em; float: left; }
label.error { float: none; color: red; padding-left: .5em; vertical-align: top; }
p { clear: both; }
.submit { margin-left: 12em; }
em { font-weight: bold; padding-right: 1em; vertical-align: top; }
</style>
  <script>
  $(document).ready(function(){
        $("#showcaptcha").hide();
        $("#success").hide();
        $("#button1").on('click', function(e){
        if( $("#commentForm").valid() )
        {
            //alert("Valid Email");
            $("#showcaptcha").show();
            $("#cemail").prop("disabled", true);
            $(this).hide();
            e.preventDefault();
        }
        else
        {
            alert("Check your email!!");
        }
        });
        $("#button2").on('click', function(e){
            $("#success").show();
        });
  });
  </script>

</head>
<body>

  <?php
require_once('recaptchalib.php');

// Get a key from https://www.google.com/recaptcha/admin/create
$publickey = "PUBLIC_KEY";
$privatekey = "PRIVATE_KEY";

# the response from reCAPTCHA
$resp = null;
# the error code from reCAPTCHA, if any
$error = null;

# was there a reCAPTCHA response?
if ($_POST["recaptcha_response_field"]) {
        $resp = recaptcha_check_answer ($privatekey,
                                        $_SERVER["REMOTE_ADDR"],
                                        $_POST["recaptcha_challenge_field"],
                                        $_POST["recaptcha_response_field"]);

        if ($resp->is_valid) {
                echo "You got it!";
        } else {
                # set the error code so that we can display it
                $error = $resp->error;
                echo $error;
        }
}
?>

 <form class="cmxform" id="commentForm" method="post" action="">
 <fieldset>
   <legend>A simple demo app to connect!!</legend>
   <p>
     <label for="cemail">E-Mail</label>
     <input id="cemail" name="email" size="25"  class="required email" />
   </p>
   <p>
     <input class="button1" type="submit" value="Submit" id="button1" />
   </p>
   <div id="showcaptcha">
   <?php echo recaptcha_get_html($publickey, $error); ?>
   <input type="submit" value="submit"  id="button2" name="button2" />
   </div>
 </fieldset>
 </form>
 <div id="success">Thanks <?php if( isset($_POST['button2']) ){ echo $_POST['email']; } ?>, I will contact you soon!!</div>
</body>
</html> 
```

**仅供参考**-

要使其正常工作，您需要包含[recaptchalib.php](http://pastebin.com/UC32DdR9)`PUBLIC/PRIVATE`并在上述代码中输入您的 recaptcha KEYS。

如果还有什么不清楚的，请让我知道情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:05:09.833

将 button1 类型更改为“button”并添加 onclick="valid();return;" 按钮的事件。

# javascript - 如何将大型菜单的点击事件转换为悬停

> ID：16146549
> 
> 赞同：0
> 
> 时间：2013-04-22T11:56:00.917
> 
> 标签：javascript, jquery, responsive-design

我找到了一个不错的 Mega 菜单，需要进行一些修改，以便它可以与 ASP.Net webform 应用程序一起使用。

除此之外，这个大型菜单适用于 Click 事件，这有时可能会使用户感到困惑，因为通常大多数用户都习惯于将鼠标悬停在菜单上。

我如何才能将点击更改为悬停，以便当用户将鼠标悬停在菜单上时它会显示出来，直到用户将鼠标移出菜单才是下拉菜单。这是一个响应式菜单设计，可能是为点击事件而设计的。

[http://jsfiddle.net/9fmfC/1/](http://jsfiddle.net/9fmfC/1/)

```
 $(function() {
        cbpHorizontalMenu.init();
    }); 
```

实际示例：[http ://tympanus.net/Blueprints/Horizo​​ntalDropDownMenu/](http://tympanus.net/Blueprints/HorizontalDropDownMenu/)

注意：请把jsFiddle的`Result1区域的宽度调大到大屏视图，否则会调整到小屏视图

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:02:57.100

那么它需要你修改[菜单的 javascript 源代码](http://tympanus.net/Blueprints/HorizontalDropDownMenu/js/cbpHorizontalMenu.min.js)。

所以它应该看起来像这样。

```
<div class="container">
    <div class="main">
        <nav id="cbp-hrmenu" class="cbp-hrmenu">
            <ul>
                <li>    <a href="#">Products</a>

                    <div class="cbp-hrsub">
                        <div class="cbp-hrsub-inner">
                            <div>
                                    <h4>Learning &amp; Games</h4>

                                <ul>
                                    <li><a href="#">Catch the Bullet</a>
                                    </li>
                                    <li><a href="#">Snoopydoo</a>
                                    </li>
                                    <li><a href="#">Fallen Angel</a>
                                    </li>
                                    <li><a href="#">Sui Maker</a>
                                    </li>
                                    <li><a href="#">Wave Master</a>
                                    </li>
                                    <li><a href="#">Golf Pro</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Utilities</h4>

                                <ul>
                                    <li><a href="#">Gadget Finder</a>
                                    </li>
                                    <li><a href="#">Green Tree Express</a>
                                    </li>
                                    <li><a href="#">Green Tree Pro</a>
                                    </li>
                                    <li><a href="#">Wobbler 3.0</a>
                                    </li>
                                    <li><a href="#">Coolkid</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Education</h4>

                                <ul>
                                    <li><a href="#">Learn Thai</a>
                                    </li>
                                    <li><a href="#">Math Genius</a>
                                    </li>
                                    <li><a href="#">Chemokid</a>
                                    </li>
                                </ul>
                                    <h4>Professionals</h4>

                                <ul>
                                    <li><a href="#">Success 1.0</a>
                                    </li>
                                    <li><a href="#">Moneymaker</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /cbp-hrsub-inner -->
                    </div>
                    <!-- /cbp-hrsub -->
                </li>
                <li>    <a href="#">Downloads</a>

                    <div class="cbp-hrsub">
                        <div class="cbp-hrsub-inner">
                            <div>
                                    <h4>Education &amp; Learning</h4>

                                <ul>
                                    <li><a href="#">Learn Thai</a>
                                    </li>
                                    <li><a href="#">Math Genius</a>
                                    </li>
                                    <li><a href="#">Chemokid</a>
                                    </li>
                                </ul>
                                    <h4>Professionals</h4>

                                <ul>
                                    <li><a href="#">Success 1.0</a>
                                    </li>
                                    <li><a href="#">Moneymaker</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Entertainment</h4>

                                <ul>
                                    <li><a href="#">Gadget Finder</a>
                                    </li>
                                    <li><a href="#">Green Tree Express</a>
                                    </li>
                                    <li><a href="#">Green Tree Pro</a>
                                    </li>
                                    <li><a href="#">Holy Cannoli</a>
                                    </li>
                                    <li><a href="#">Wobbler 3.0</a>
                                    </li>
                                    <li><a href="#">Coolkid</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Games</h4>

                                <ul>
                                    <li><a href="#">Catch the Bullet</a>
                                    </li>
                                    <li><a href="#">Snoopydoo</a>
                                    </li>
                                    <li><a href="#">Fallen Angel</a>
                                    </li>
                                    <li><a href="#">Sui Maker</a>
                                    </li>
                                    <li><a href="#">Wave Master</a>
                                    </li>
                                    <li><a href="#">Golf Pro</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /cbp-hrsub-inner -->
                    </div>
                    <!-- /cbp-hrsub -->
                </li>
                <li>    <a href="#">Applications</a>

                    <div class="cbp-hrsub">
                        <div class="cbp-hrsub-inner">
                            <div>
                                    <h4>Learning &amp; Games</h4>

                                <ul>
                                    <li><a href="#">Catch the Bullet</a>
                                    </li>
                                    <li><a href="#">Snoopydoo</a>
                                    </li>
                                </ul>
                                    <h4>Utilities</h4>

                                <ul>
                                    <li><a href="#">Gadget Finder</a>
                                    </li>
                                    <li><a href="#">Green Tree Express</a>
                                    </li>
                                    <li><a href="#">Green Tree Pro</a>
                                    </li>
                                    <li><a href="#">Wobbler 3.0</a>
                                    </li>
                                    <li><a href="#">Coolkid</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Education</h4>

                                <ul>
                                    <li><a href="#">Learn Thai</a>
                                    </li>
                                    <li><a href="#">Math Genius</a>
                                    </li>
                                    <li><a href="#">Chemokid</a>
                                    </li>
                                </ul>
                                    <h4>Professionals</h4>

                                <ul>
                                    <li><a href="#">Success 1.0</a>
                                    </li>
                                    <li><a href="#">Moneymaker</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /cbp-hrsub-inner -->
                    </div>
                    <!-- /cbp-hrsub -->
                </li>
                <li>    <a href="#">Projects</a>

                    <div class="cbp-hrsub">
                        <div class="cbp-hrsub-inner">
                            <div>
                                    <h4>Learning &amp; Games</h4>

                                <ul>
                                    <li><a href="#">Catch the Bullet</a>
                                    </li>
                                    <li><a href="#">Snoopydoo</a>
                                    </li>
                                    <li><a href="#">Fallen Angel</a>
                                    </li>
                                    <li><a href="#">Sui Maker</a>
                                    </li>
                                    <li><a href="#">Wave Master</a>
                                    </li>
                                    <li><a href="#">Golf Pro</a>
                                    </li>
                                </ul>
                                    <h4>Utilities</h4>

                                <ul>
                                    <li><a href="#">Gadget Finder</a>
                                    </li>
                                    <li><a href="#">Green Tree Express</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Entertainment</h4>

                                <ul>
                                    <li><a href="#">Gadget Finder</a>
                                    </li>
                                    <li><a href="#">Green Tree Express</a>
                                    </li>
                                    <li><a href="#">Green Tree Pro</a>
                                    </li>
                                    <li><a href="#">Holy Cannoli</a>
                                    </li>
                                    <li><a href="#">Wobbler 3.0</a>
                                    </li>
                                    <li><a href="#">Coolkid</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /cbp-hrsub-inner -->
                    </div>
                    <!-- /cbp-hrsub -->
                </li>
                <li>    <a href="#">Freeware</a>

                    <div class="cbp-hrsub">
                        <div class="cbp-hrsub-inner">
                            <div>
                                    <h4>Utilities</h4>

                                <ul>
                                    <li><a href="#">Green Tree Pro</a>
                                    </li>
                                    <li><a href="#">Wobbler 3.0</a>
                                    </li>
                                    <li><a href="#">Coolkid</a>
                                    </li>
                                </ul>
                                    <h4>Education</h4>

                                <ul>
                                    <li><a href="#">Learn Thai</a>
                                    </li>
                                    <li><a href="#">Math Genius</a>
                                    </li>
                                    <li><a href="#">Chemokid</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Professionals</h4>

                                <ul>
                                    <li><a href="#">Success 1.0</a>
                                    </li>
                                    <li><a href="#">Moneymaker</a>
                                    </li>
                                </ul>
                            </div>
                            <div>
                                    <h4>Learning &amp; Games</h4>

                                <ul>
                                    <li><a href="#">Catch the Bullet</a>
                                    </li>
                                    <li><a href="#">Snoopydoo</a>
                                    </li>
                                    <li><a href="#">Fallen Angel</a>
                                    </li>
                                    <li><a href="#">Sui Maker</a>
                                    </li>
                                    <li><a href="#">Wave Master</a>
                                    </li>
                                    <li><a href="#">Golf Pro</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /cbp-hrsub-inner -->
                    </div>
                    <!-- /cbp-hrsub -->
                </li>
            </ul>
        </nav>
    </div>
</div> 
```

以及美化修改后的代码

```
var cbpHorizontalMenu = (function () {
    var b = $("#cbp-hrmenu > ul > li"),
        g = b.children("a"),
        c = $("body"),
        d = -1;

    function f() {
        g.on("mouseover", a);
        b.on("mouseover", function (h) {
            h.stopPropagation()
        })
    }

    function a(j) {
        if (d !== -1) {
            b.eq(d).removeClass("cbp-hropen")
        }
        var i = $(j.currentTarget).parent("li"),
            h = i.index();
        if (d === h) {
            i.removeClass("cbp-hropen");
            d = -1
        } else {
            i.addClass("cbp-hropen");
            d = h;
            c.off("click").on("click", e)
        }
        return false
    }

    function e(h) {
        b.eq(d).removeClass("cbp-hropen");
        d = -1
    }
    return {
        init: f
    }
})();

$(function () {
    cbpHorizontalMenu.init();
}); 
```

在[jsfiddle上](http://jsfiddle.net/Xotic750/q9HfR/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T12:17:27.443

该脚本完全有效:)

```
var cbpHorizontalMenu = (function() {

var $listItems = $( '#cbp-hrmenu > ul > li' ),
    $menuItems = $listItems.children( 'a' ),
    $body = $( 'body' ),
    current = -1;

function init() {
    $menuItems.on( 'mouseover', open );
    $listItems.on( 'mouseover', function( event ) { event.stopPropagation();} );
            $listItems.on( 'mouseleave', close );
}

function open( event ) {

    if( current !== -1 ) {
        $listItems.eq( current ).removeClass( 'cbp-hropen' );
    }

    var $item = $( event.currentTarget ).parent( 'li' ),
        idx = $item.index();

    if( current === idx ) {
        $item.removeClass( 'cbp-hropen' );
        current = -1;
    }
    else {
        $item.addClass( 'cbp-hropen' );
        current = idx;
    }

    return false;

}

function close( event ) {
    $listItems.eq( current ).removeClass( 'cbp-hropen' );
    current = -1;
}

return { init : init };

})(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-16T17:19:00.147

```
 var cbpHorizontalMenu = (function () {
var b = jQuery("#cbp-hrmenu > ul > li"),
    g = b.children("a"),
    c = $("body"),
    d = -1;

function f() {
 g.on("mouseenter", a);

 b.on("mouseenter", function (h) { h.stopPropagation(); });
}

function a(j) {
    if (d !== -1) {
      b.eq(d).removeClass("cbp-hropen");
    }
    var i = jQuery(j.currentTarget).parent("li"),
        h = i.index();

    if (d == h)  {           
        i.addClass("cbp-hropen");
        d = h;
        //alert(h);
    }
    else if (d === h) {
        i.removeClass("cbp-hropen");
        d = -1 
    } else {

        i.addClass("cbp-hropen");
        d = h;
        c.off("mouseenter").on("mouseenter", e)
    }
    return false
}

function e(h) {
   b.eq(d).removeClass("cbp-hropen");
   d = -1
}
return {
    init: f
} 
```

})();

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:23:17.980

只需修改一项功能

```
function f() {
    g.on("mouseover", a); b.on("mouseover", function (h) { h.stopPropagation() });
} 
```

将“点击”替换为“鼠标悬停”

# java - 处理括号语法

> ID：16146556
> 
> 赞同：0
> 
> 时间：2013-04-22T11:56:26.097
> 
> 标签：java, syntax, syntax-error, processing, parentheses

这似乎是一个非常简单的问题，但我很困惑。我有一个 if 条件，其中包含许多条件，我无法弄清楚在这种情况下要使用的括号语法。谁能给我一些提示，告诉我如何为这种情况或在 if 语句中有这么多条件的任何其他情况找出正确的语法？谢谢！

```
 void collisionEn() {
    for (int i = 0; i < myPlats.length; i++) {
      if (posEx > myPlats[i].xPos) 
        && (posEx+wEx > myPlats[i].xPos) 
          && (posEx+wEx < myPlats[i].xPos + myPlats[i].platWidth)  
            && (posEx < myPlats[i].xPos + myPlats[i].platWidth)
              && (posEy > myPlats[i].yPos) 
                && (posEy < myPlats[i].yPos + myPlats[i].platHeight) 
                  && (posEy+wEy > myPlats[i]yPos) 
                    && (posEy+wEy < myPlats[i].yPos + myPlats[i].platHeight)
                      rect(0, 0, 1000, 1000); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:00:23.310

***每个条件***周围的括号不是必需的（但允许）。每个条件都有括号，这没关系。

但是，整个条件需要***一***组括号。

```
if (condition) 
```

因此，在您的情况下，在开头添加一个左括号，在最后添加一个右括号，您将拥有它。

```
 if ((posEx > myPlats[i].xPos) 
    && (posEx+wEx > myPlats[i].xPos) 
      && (posEx+wEx < myPlats[i].xPos + myPlats[i].platWidth)  
        && (posEx < myPlats[i].xPos + myPlats[i].platWidth)
          && (posEy > myPlats[i].yPos) 
            && (posEy < myPlats[i].yPos + myPlats[i].platHeight) 
              && (posEy+wEy > myPlats[i]yPos) 
                && (posEy+wEy < myPlats[i].yPos + myPlats[i].platHeight))
                  rect(0, 0, 1000, 1000) 
```

正是因为你有很多括号，如果你的风格指南允许的话，我建议删除每个条件周围的可选括号。它们不是必需的，在这种情况下，它们会增加混乱。

```
 if (posEx > myPlats[i].xPos
    && posEx+wEx > myPlats[i].xPos
    && posEx+wEx < myPlats[i].xPos + myPlats[i].platWidth
    && posEx < myPlats[i].xPos + myPlats[i].platWidth
    && posEy > myPlats[i].yPos
    && posEy < myPlats[i].yPos + myPlats[i].platHeight
    && posEy+wEy > myPlats[i]yPos
    && posEy+wEy < myPlats[i].yPos + myPlats[i].platHeight)
      rect(0, 0, 1000, 1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T15:44:33.497

为了使代码更简单，我做的另一件事是让一些本地 var 临时代表要测试的计算，后者如果你想在测试区域添加一个边距，这可以很容易地在一个地方完成，比如：

```
 float mpX = myPlats[i].xPos;
 float mpY = myPlats[i].yPos;
 float mpW = mpX + myPlats[i].platWidth;
 float mpH = mpY + myPlats[i].platHeight
 float pEx = posEx+wEx;
 float pEy = posEy+wEy;

 if (  posEx > mpX   &&   pEx > mpX
    &&   pEx < mpW   && posEx < mpW
    && posEy > mpY   && posEy < mpH
    &&   pEy > mpY   &&   pEy < mpH)
 rect(0, 0, 1000, 1000); 
```

关于括号，它们在 if() 中的工作就像在任何其他计算中一样，因此您必须注意[运算符的优先级](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html)，尽管在 if 语句中需要它们并不常见。但是...有时它们是，尤其是 && 之间的优先级，！和 || 需要注意

# oracle - 具有重复数据的主键？

> ID：16146558
> 
> 赞同：0
> 
> 时间：2013-04-22T11:56:30.350
> 
> 标签：oracle, database-design, key

我正在尝试分配主键，但某些数据重复？我们如何保留数据但仍然有主键？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T13:31:42.807

在 17 年的数据库工作中，我唯一一次遇到这种情况，是由于数据错误。一个客户已经两次以相同的 id 输入到一个没有主键的表中。

当需要声明主键时，需要先清除数据错误，才能使用最符合逻辑的列作为主键。

所以我的建议是查看表中的所有数据是否符合业务规则，并检查业务规则是否暗示使用该列作为主键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:09:29.960

您可以在要约束的列上手动创建非唯一索引，然后使用`novalidate`子句添加主键约束，例如：

```
create table t1 (x number);

insert into t1 (x) values (1);
insert into t1 (x) values (1);
commit;

create index t1_pk on t1 (x);

alter table t1 add (
   constraint t1_pk primary key (x) novalidate
); 
```

然而，我必须强调，尽管有可能，但这通常是糟糕的设计！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:03:07.907

据我猜测，您有数据，并且您尝试将一列分配为主键，但是该数据具有该列的重复值。

主键必须是唯一的。那是数据库 101。如果唯一可用作主键的是重复项，则说明您的表结构不正确。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-22T12:01:28.300

主键是一系列*唯一值*。因此，您可以保留重复数据，也可以拥有主键，但不能同时拥有。

或者，您可以通过将 ID 列添加到表并从序列中填充它来使用代理键。当然，在这种情况下，“主密钥”毫无意义，因为您没有强制执行业务密钥的唯一性。但至少你可以欺骗自己，你有真正的正直。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-25T13:32:25.727

主键是唯一的，所以如果你想在某个列中有重复的数据，那么同一列不能是该表的主键。

# java - JAXB 条件绑定

> ID：16146559
> 
> 赞同：1
> 
> 时间：2013-04-22T11:56:31.970
> 
> 标签：java, json, binding, jaxb, conditional

我有一个像这样的课程：

```
@XmlRootElement 
Class ClassA {

public long objectId;

public String status;

public String property1;

......
} 
```

我希望 JAXB 的 JSON 输出以属性“状态”为条件。前任：

if status != "deleted" -> 绑定所有字段

```
{"objectId":1,"status":"new","property1":"value1","property2":"value2","prop3":"val3"....} 
```

if status == "deleted" -> 只绑定 2 个字段

```
{"objectsId":1,"status":"deleted"} 
```

这可能与JAXB有关吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-23T20:26:34.957

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

您可以使用我们在 EclipseLink 2.5 中添加到 MOXy 的对象图扩展来处理这个用例。您可以从以下位置下载每晚构建：

*   [http://www.eclipse.org/eclipselink/downloads/nightly.php](http://www.eclipse.org/eclipselink/downloads/nightly.php)

**A类**

我们将使用 MOXy 的对象图扩展来指定可以编组的值的子集。

*   [http://blog.bdoughan.com/2013/03/moxys-object-graphs-inputoutput-partial.html](http://blog.bdoughan.com/2013/03/moxys-object-graphs-inputoutput-partial.html)
*   [http://blog.bdoughan.com/2013/03/moxys-object-graphs-partial-models-on.html](http://blog.bdoughan.com/2013/03/moxys-object-graphs-partial-models-on.html)

```
import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.*;

@XmlRootElement 
@XmlNamedObjectGraph(
    name="deleted",
    attributeNodes = { 
        @XmlNamedAttributeNode("objectId"),
        @XmlNamedAttributeNode("status")
    }
)
public class ClassA {

    public long objectId;
    public String status;
    public String property1;

} 
```

**jaxb.properties**

要将 MOXy 指定为您的 JAXB 提供程序，您需要包含一个`jaxb.properties`在与域模型相同的包中调用的文件，其中包含以下条目（请参阅： [http ://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as -你的.html](http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html)）：

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

**演示**

在下面的演示代码中，我们将`MarshallerProperties.OBJECT_GRAPH`属性设置为`deleted`on`Marshaller`如果`status`on 的实例`ClassA`等于`deleted`。

```
import java.util.*;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.Marshaller;
import org.eclipse.persistence.jaxb.JAXBContextProperties;
import org.eclipse.persistence.jaxb.MarshallerProperties;

public class Demo {

    public static void main(String[] args) throws Exception {
        Map<String, Object> properties = new HashMap<String, Object>(2);
        properties.put(JAXBContextProperties.MEDIA_TYPE, "application/json");
        properties.put(JAXBContextProperties.JSON_INCLUDE_ROOT, false);
        JAXBContext jc = JAXBContext.newInstance(new Class[] {ClassA.class}, properties);

        ClassA classA = new ClassA();
        classA.objectId = 1;
        classA.property1 = "value1";

        classA.status = "new";
        marshal(jc, classA);

        classA.status = "deleted";
        marshal(jc, classA);
    }

    private static void marshal(JAXBContext jc, ClassA classA) throws Exception {
        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        if("deleted".equals(classA.status)) {
            marshaller.setProperty(MarshallerProperties.OBJECT_GRAPH, "deleted");
        }
        marshaller.marshal(classA, System.out);
    }

} 
```

**输出**

下面是运行演示代码的输出。当`status`等于`deleted`该`property1`值时不进行编组。

```
{
   "objectId" : 1,
   "status" : "new",
   "property1" : "value1"
}
{
   "objectId" : 1,
   "status" : "deleted"
} 
```

* * *

我已打开以下增强请求以使此用例更易于处理：

*   [http://bugs.eclipse.org/406375](http://bugs.eclipse.org/406375)

# sharepoint - 如何在列表视图中显示日历重复数据字段（每日、每周、每月）？

> ID：16146562
> 
> 赞同：0
> 
> 时间：2013-04-22T11:56:40.903
> 
> 标签：sharepoint, sharepoint-2007, sharepoint-designer, spservices

我需要有关在列表视图中显示重复数据（每日、每周等）字段的帮助。我有一个日历事件列表，在我的自定义视图中，我需要在一列中显示重复数据的值。我已经检查了“修改视图”部分中的“重复”字段，但我只看到“代表重复事件的圆形箭头图标”而不是重复数据。这在sharepoint 2007中可能吗？

**列 1 列 2**

某文日报

sometext 周刊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T15:18:23.480

这是不可能的，因为“重复”字段提供的值不足以满足您的要求。

然而，有一篇关于如何使用 SPServices 将[重复事件作为不同项目获取](https://www.nothingbutsharepoint.com/sites/eusp/Pages/Use-SPServices-to-Get-Recurring-Events-as-Distinct-Items.aspx)的长博客文章。涵盖了一些项目，包括查询时某些日期范围如何无法按预期工作，但他提供了解决这些项目的方法。

使用提供的每个项目的重复信息，您可以创建另一种方法来过滤它们，如果它们是每天、每周或每月重复，然后再将它们显示在自定义页面上。

# asp.net-mvc - 在 mvc3 razor 客户端上显示来自 wcf 服务的数据

> ID：16146566
> 
> 赞同：0
> 
> 时间：2013-04-22T11:56:57.527
> 
> 标签：asp.net-mvc, wcf, razor

我有一个使用 wcf 服务的客户端 asp.net mvc3 razoc。我有一个 GetTopCollections 方法，它返回 Collection[]“服务器上的顶级集合”，我有一个 GetTreeView(string id) 方法，它只返回这个 Collection 的第一级而不是所有树。

我想在第一次显示顶级集合（完成），当我点击其中一个顶级集合时，我通过调用 GetTreeView(handle) 方法显示它的树的第一级。

这是控制器上的第一种方法：

```
public ActionResult GetData()
    {
        client = new DSServiceClient();
        Collection[] _top = new Collection[10];
        client.Open();
        _top = client.GetTopCollections();
        client.Close();
        return View(_top);
    } 
```

这是 GetData 的视图

```
@model DSClient.Controllers.Collection[]

@{
   ViewBag.Title = "GetData";
   @Html.ActionLink( @Model.ElementAt(0).Handle,"GetData3","Home",new { handle=@Model.ElementAt(0).Handle });
 } 
```

这是 GetData2()

```
public PartialViewResult GetData2(string handle)
    {
        client = new DSServiceClient();
        Tree tree = new Tree();
        tree = client.GetTreeView(handle);
        return PartialView("~/Views/Shared/GetData2.cshtml",tree);
    } 
```

这是 GetData2 的视图

```
@model DSClient.Controllers.Tree

@{
ViewBag.Title = "GetData3";
@Model.listObjects.ElementAt(0).Name;
} 
```

这是调用 GetData 的链接

```
@Html.ActionLink("WebService", "GetData", "Home") 
```

我的问题是 GetData3 的结果显示在其他视图上，但我想在同一个视图上显示它。就像树视图一样。有人能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:20:49.653

您将需要：

1.  渲染整个树并隐藏第二层，直到用户单击它
2.  像您一样只加载第一级，并在用户单击它们时使用 AJAX 加载其他级别

为您提供一些 jQuery 树视图 -> [http://freebiesdesign.com/7-best-jquery-treeview-plugins/](http://freebiesdesign.com/7-best-jquery-treeview-plugins/)

# javascript - 如何在没有任何嵌入库的情况下使用 Javascript 检查是否安装了 Flash Player？

> ID：16146567
> 
> 赞同：-2
> 
> 时间：2013-04-22T11:56:59.557
> 
> 标签：javascript, jquery

我知道通过使用 SWFObject 库，我们可以找出是否安装了 Flash 播放器。但是没有任何外部库，它可能会安装或不使用 jquery 安装 Flash 播放器。它应该在主要浏览器（Chrome、Firefox、IE）中工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:00:43.307

**简短的回答**：并非没有严重的头痛。

**长答案**：SWFObject 也可以处理所有浏览器的小怪癖；手动映射它们将花费您比仅使用它更长的时间，并且您的版本很可能不会得到优化。

快速补丁：

```
var hasFlash = false;
try {
  var fo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');
  if(fo) hasFlash = true;
} catch(e) {
   if(navigator.mimeTypes ["application/x-shockwave-flash"] != undefined) hasFlash = true;
} 
```

这将尝试调用 IE ActiveX 版本 (IE6-7-8)，如果失败，将查看浏览器的已知 mimetime 以了解 SWF 的 mimetype。如果它在那里，你*可能*有闪光灯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T13:24:09.710

在 SWF 对象库中，他们编写了代码来检查插件和 Activex 对象。
以下 if 条件用于检查插件

```
 if (typeof navigator.plugins != "undefined" && typeof navigator.plugins["Shockwave Flash"] == "object") {
               var ab = navigator.plugins["Shockwave Flash"].description;
                if (ab && !(typeof navigator.mimeTypes != "undefined" && navigator.mimeTypes[q] && !navigator.mimeTypes[q].enabledPlugin)) {

                }
            } 
```

以下 if 条件用于检查 ActiveX

```
if (typeof window.ActiveXObject != "undefined") {
                    try {
                        var ad = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
                        if (ad) {
                            ab = ad.GetVariable("$version");
                            if (ab) {

                            }
                        }
                    } catch (Z) {}
                } 
```

上面的代码写在 SWF 对象库中。现在我有一个疑问，插件条件可以在所有浏览器中工作，但 Activex 只能在 IE 中工作。[SWF 对象库可以在所有浏览器中使用吗？](https://stackoverflow.com/questions/16147835/swf-object-library-will-work-in-all-the-browsers)

# java - 我应该为 OpenCL for Java 使用什么 API

> ID：16146571
> 
> 赞同：3
> 
> 时间：2013-04-22T11:57:05.153
> 
> 标签：java, opencl

我应该使用什么 API 来支持 Java 中的 OpenCL。

我想知道这对性能最好

1.  JavaCL
2.  Aparapi（AMD 提供的 API）
3.  JOCL

是否需要 JavaCL 才能将 Java 字节码转换为 OpenCL，或者只是 Aparapi（AMD 提供的 API）可以做到。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-22T20:49:43.557

据我了解，Aparapi 是唯一提供从字节码自动转换 OpenCL 的框架。RootBeer 为 CUDA 提供了类似的选项。

WRT 性能如果您准备手动调整 OpenCL 和/或知道如何利用 OpenCL 的一些更高级功能（本地内存、向量指令、重叠传输/调度），您可能会发现 JavaCL 或 JOCL 提供更多性能机会。

具体来说，如果您希望应用多个 OpenCL 内核（例如在管道中），您可以使用 JOCL/JavaCL 更轻松地最小化主机和 GPU 之间的缓冲区传输。Aparapi 在这里缺乏一些灵活性。

但是，我希望（并且已经观察到）大多数“简单”算法的性能在这三个框架之间非常相似。

如果您发现自己想要“调整”生成的 OpenCL（Aparapi 将允许您列出它生成的代码），或者发现您想要进行实验，我的建议（完全披露我是 Aparapi 发明者/初始贡献者）将是尝试 Aparapi对于重叠的缓冲区/传输或多内核调度，当您获得更多经验时，您总是可以切换到 JOCL/JavaCL。

# javascript - 我应该将变量放在 window.document 中还是使用全局上下文？

> ID：16146574
> 
> 赞同：4
> 
> 时间：2013-04-22T11:57:17.593
> 
> 标签：javascript, api

我有一个变量**api**，其中我有更多要在**测试**变量中使用的方法，并且两者都在全局上下文中。

我认为如果我把它们放在 window.document 上会更好，我想知道还有什么其他选择。

```
var api = (function(){

  this.run= function(){
    console.log("run api");
  };

  return this;

})(); 
```

// 测试在单独的文件中

```
var test = (function(one_){

  this.as = function(){
    console.log(one_.run());
  };

  return this;

})(one);

test.as(); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:17:10.333

```
var company = company || {} ;

company.doSomething = function() {
};

company.test = {};
company.test.submodule = {};
company.test.submodule.doSomething = function() {};

company.api = {};
company.api.submodule = {}; 
```

您通常应该避免全局定义变量。对于清晰可维护的代码，使用对象作为命名空间，避免污染全局命名空间。

这也极大地增强了默认的 JS 功能。如果你真的很喜欢它，`require.js`在你的项目中添加类似的东西，你会得到一个非常棒的类似 Java 的功能。

因此，使用`require.js`，您的`company.api`和`company.test`可以放置在不同的文件中，并且可以彼此放置`require`，就像`import company.test`使用 Java一样`package`。

**命名空间是一种非常有效的做法。你得到：**

1.  可读性（世界上最重要的事情！！）。
2.  可维护性。
3.  更快的调试。
4.  更快的升级。
5.  逻辑和功能的有效划分。
6.  防止 IE`window`与`global`对象错误。
7.  使团队工作变得可能和愉快。
8.  加快了开发**速度**。大多数 IDE 将索引并自动填充您的命名空间对象。
9.  您可以有效地使用 jsDoc 标签来记录您的 JavaScript 代码。

**重要的**

`this`在静态上下文中使用它也相当危险。JavaScript 命名约定规定静态将以小写字符开头命名，类将以大写字符开头定义，当然使用 camelCase。

再次，一个非常强大和有用的约定。它告诉开发人员眨眼间某事是静态的或类。例如，如果您有：

```
company.test.submodule.doSomething = function() {
    // this is a static function. It's a normal property, it's not nested under the prototype.
}; 
```

相反，如果你想创建一个类，你可以`this`以正确的方式使用引用。

```
 // Notice Person starts with uppercase P.
company.test.subModule.Person = function(name) {
    this.name = name;
    this.numberOfEyes = 2;
};
company.test.subModule.Person.prototype.cryMeARiver = function() {
    console.log(this.name + " can cry a river.");
}; 
```

现在在任何其他功能中，您可以执行以下操作：

```
company.api.someSubModule.peopleCryRivers = function() {
    // this is again a static context.
    var bodgan = new company.test.subModule.Person("Bogdan");
    var andreea = new company.test.subModule.Person("Andreea");
    bodgan.cryMeARiver();// will output "Bogdan can cry a river."
    andreea.cryMeARiver();// will output "Andreea can cry a river."
    // etc..
}; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:09:19.430

恕我直言，在全局命名空间（即`window`）和`window.document`.

有时（特别是从多个源模块访问变量时）您只*需要*创建一个全局变量，因此当您这样做时，请使用命名空间来封装您的变量，将命名空间本身作为唯一泄露的变量：

模块一：

```
var BOGDAN = BOGDAN || {};
BOGDAN.api = ... 
```

模块 2：

```
var BOGDAN = BOGDAN || {};
BOGDAN.test = ... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:40:33.763

将变量附加到`window.document`对我来说没有意义，而将它们附加到`window`与在全局命名空间中声明相同。

您可以创建（全局）变量作为命名空间并将其他变量附加到此。

```
var APP = {};
APP.api = ... 
```

这当然会冒与另一个名为“APP”的对象发生冲突的风险。

另一种选择是简单地将变量包装在立即调用的函数表达式中。

```
(function() {
    var api = ...
}(); 
```

这将使它们在 IIFE 范围内，它们不能在其中产生冲突。这也意味着当您的变量超出范围时，它们将有资格进行垃圾收集。

# html - 本地下载后网页中断

> ID：16146575
> 
> 赞同：1
> 
> 时间：2013-04-22T11:57:25.170
> 
> 标签：html, xampp, localhost

所以我需要在本地下载一个文件进行开发。我无权访问它所在的服务器。我使用 Chrome 的保存页面作为（“网页，完成”）。

这一切都很好，但是一旦我将这些文件复制到我的 XAMPP 目录并开始进行更改，它就会破坏所有 JS 依赖项。

有没有人有解决使用浏览器“另存为”功能或使用其他方法在本地下载文件引起的问题的经验？

HTTTrack 我试过了，但我正在谈论的页面是一个没有自己的 URL 的表单的一部分，所以我无法下载该页面。

**已编辑**- 最好在保存资产时保留原始文件结构，但这不是必需的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:18:18.710

您将无法访问用于开发的源文件。当您使用另存为（或从任何浏览器进行任何类型的保存）时，您并没有下载源 php/perl 文件；相反，您正在下载他们生成的 html 输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T18:20:14.467

当您执行另存为时，不会保存 CSS/JS，您只是在下载 HTML 页面。您需要查看源代码并下载任何引用的 .css 或 .js，并修复 HTML 文件中的路径。

# trigger.io - 使用 trigger.io 录制音频

> ID：16146583
> 
> 赞同：2
> 
> 时间：2013-04-22T11:57:44.423
> 
> 标签：trigger.io

我已经看到可以通过媒体 API 的 createAudioPlayer 方法播放音频。可以录制音频吗？它有任何API吗？我可以以任何方式访问设备的麦克风并用它录制吗？

好像我正在寻找像 Cordova's media.startRecord metgod on media API 这样的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T15:16:48.230

目前，没有 - 我们没有在我们的模块之一中实现。

如果您有急事，请查看我们的[原生插件](http://docs.trigger.io/en/v1.4/modules/native/)！

# java - JComboBox 的条件

> ID：16146587
> 
> 赞同：0
> 
> 时间：2013-04-22T11:57:55.650
> 
> 标签：java, swing, jcombobox

我正在使用 2 个 JComboBoxes

```
String arr1[] = {"text1", "text2", "text3"};
String arr2[] = {"text1", "text2", "text3"};

JComboBox box1 = new JComboBox(arr1);
JComboBox box2 = new JComboBox(arr2); 
```

我正在寻找类似的条件

```
if(text1 in box1 is selected)
only text2 and text3 is selectable/enabled in box2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:00:21.433

要从*JComboBox*中获取所选值，请使用[getSelectedItem](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#getSelectedItem%28%29)：

```
String value = (String)box.getSelectedItem(); 
```

现在您可以检查是否`value`等于`text1`，如果是，您可以使用[removeItem](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#removeItem%28java.lang.Object%29)从另一个*JComboBox*中删除项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:03:27.420

您可以添加一个动作监听器`box1`并控制显示/启用的内容`box2`

```
box1.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent arg0) {
             // code to manipulate values in box2 depending upon value in `box1Value`
            String box1Value = txtFilename.getSelectedItem().toString();
            if(box1Value.equalsIgnoreCase("text1")){
                String arr2[] = { "text2", "text3"};
                new JComboBox(arr2);
            } else {
                // ..
            }
        }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:17:36.363

如果你想`Disable`在你的项目中`JComboBox`不删除它，就像这样：

![在此处输入图像描述](https://i.stack.imgur.com/loRD1.png)

所以你可以试试[这个例子](http://www.java2s.com/Code/Java/Swing-Components/DisabledComboBoxExample.htm)

# android - Twitter Bootstrap 在 Android WebView 中不起作用

> ID：16146589
> 
> 赞同：10
> 
> 时间：2013-04-22T11:58:02.690
> 
> 标签：android, html, eclipse, twitter-bootstrap, webview

HTML 文件（test.html）是

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link href="bootstrap.css" rel="stylesheet" type="text/css"/>
    <link href="bootstrap-responsive.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<h1>Hello World!!!</h1>
 <a class="btn btn-primary btn-large">
    Learn more
</a>
</body>
</html> 
```

HTML 和引导 css 文件放置在 assets 文件夹中。如果我在 IE/Firefox 中打开 HTML 文件，它会正确显示。但是 Android WebView 不能正确呈现这个

WebView 的代码是

```
WebView webView = (WebView) findViewById(R.id.webview);
webView.getSettings().setJavaScriptEnabled(true);
String url = "file:///android_asset/test.html";
webView.loadUrl(url); 
```

IE 渲染成这样

![IE 渲染成这样](https://i.stack.imgur.com/ndtdc.png)

WebView 是这样渲染的

![WebView 渲染成这样](https://i.stack.imgur.com/jZhAi.png)

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-13T19:00:42.187

添加这一行

```
webView.getSettings().setDomStorageEnabled(true); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-18T09:47:58.510

在模拟器上测试 - 带有 Bootstrap v2.3.2 的 Android 版本 4.2

我的应用资产文件夹中的文件：

```
 bootstrap-responsive.css
 bootstrap.css
 test.html 
```

无需在 Android 清单中添加“android.permission.INTERNET”，因为 css 文件在应用程序的资产文件夹中本地可用。

这是它如何呈现的屏幕截图。除非 CSS 文件有问题，否则没有理由看不到它（这又不太可能，因为您可以在浏览器上看到结果）。

![在此处输入图像描述](https://i.stack.imgur.com/1pHuq.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-24T06:02:22.120

```
 WebView webView = (WebView) findViewById(R.id.webview);
  webView.getSettings().setJavaScriptEnabled(true);    
  String htmlData ="<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\">"+yourdata;    
  webview.loadData(htmlData, "text/html",  "UTF-8"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-30T17:14:16.213

在科特林：

```
webview.settings.javaScriptEnabled = true 
```

# plugins - 为 websphere 应用服务器创建扩展点

> ID：16146595
> 
> 赞同：1
> 
> 时间：2013-04-22T11:58:12.707
> 
> 标签：plugins, eclipse-plugin, websphere, application-server

我知道 WAS 支持 eclipse 扩展 API，因为我们使用多个扩展点来扩展其他应用程序的功能。但是，我似乎无法弄清楚如何创建其他人实现的我自己的扩展点。我知道这是受支持的，因为我找到了一些文档[http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/topic/com.ibm.websphere.base.doc/info/aes/ae/tweb_regfilter_extension。 .html](http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/topic/com.ibm.websphere.base.doc/info/aes/ae/tweb_regfilter_extension.html) _

我创建了一个 plugin.xml 和一个模式文件，它们都在一个 jar 中，该 jar 被加载到 WAS 共享库中。我还创建了一个测试实现，它是一个 Web 应用程序。

但是，问题是，当我调用 Platform.createInstances("my.point.id", "class", true); 要获取已添加的扩展点的实例，我没有得到任何已创建的实例，也不知道为什么。

我错过了一步吗？

# angularjs - 微风js hasChangesChanged 事件未引发

> ID：16146597
> 
> 赞同：0
> 
> 时间：2013-04-22T11:58:17.830
> 
> 标签：angularjs, breeze

不太确定这是 AngularJS 还是 BreezJs 问题...

我有一个控制器，我在其中执行以下操作：

```
$scope.mandat = domiciliationService.createMandat(); 
```

并在 domiciliationService 中：

```
function createMandat () {
        return manager.createEntity('Mandate');
} 
```

我的视图绑定到 $scope.mandat，当我更改绑定到 $scope.mandat 属性之一的文本框中的值时，我可以看到它反映在实际对象上（通过在跨度中显示值） . 到目前为止，一切都很好。

但是，从未引发 hasChangesChanged 事件。在服务中，这是我订阅的方式：

```
manager.hasChangesChanged.subscribe(function (args) {
        var hasChangesChanged = args.hasChanges;
        var entityManager = args.entityManager;
        alert('changed');
    }); 
```

就像当我更改视图中的值时，他们修改了 $scope 上的对象，而不是实际的实体......我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T10:17:02.003

所以在玩了这个活动之后，我想出了两件事。实际上，为了确保我的代码没有问题，我已经调试了 John Papa 的 Hot Towel 应用程序，因为他也使用了微风。并且行为与我的应用程序中的相同。

1.  当我创建一个新实体时，会触发 hasChangesChanged 事件。然后，当我在绑定到该实体属性的表单控件中输入数据时，不会触发该事件。

2.  当我编辑现有实体时，只有在我修改属性时才会触发 hasChangesChanged 事件（如果我在文本框中编辑值）。

因此，有人可能会争辩说，在用户开始实际填写数据之前，不应在第一种情况下触发 hasChangesChanged 事件。但我可以忍受。

# matlab - 在 MATLAB 中创建人工数据

> ID：16146599
> 
> 赞同：8
> 
> 时间：2013-04-22T11:58:27.940
> 
> 标签：matlab, machine-learning

我需要一些人工数据，即“Two-Spiral”、“Cluster-inside-Cluster”、“Half-Kernel”、“crescent-full-moon”和“outlier”用于机器学习目的。

![人工数据](https://i.stack.imgur.com/nOyrp.png)

MATLAB 中是否有任何指南/包/源代码？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-22T23:35:48.267

因为我认为拥有这些类型的数据集会很有用，而且这将是一个有趣的练习，所以我编写了一些函数来生成与图片中显示的非常相似的随机数据集。有很多选项可以控制实例的数量、噪声量等。每个函数的输出是一个 Nx3 矩阵，其中每一行包含 X、Y 坐标和实例的类别。

这是输出的样子：

![生成的数据集示例](https://i.stack.imgur.com/kaeCK.png)

我做了 6 个脚本，每个脚本 30-40 行。我将脚本上传到 Matlab 文件交换，但尚未审核。目前，您可以在[此处](http://www.junuxx.net/datasets.zip)获取文件。在第一个版本中几乎没有任何注释，但我希望代码是不言自明的。还有一个演示脚本 ( `datasetsdemo.m`) 将运行所有脚本并生成如上所示的图像。

# perl - 使用 SWIG 生成具有单独命名空间的 perl 模块

> ID：16146606
> 
> 赞同：4
> 
> 时间：2013-04-22T11:58:49.333
> 
> 标签：perl, swig

我需要生成一个 perl 模块 Vinod::StatHandler。我有 2 个与 c++ 代码相关的文件。(statHandler.h,statHandler.cpp)

目前我正在使用以下命令来生成模块。

```
swig -perl -noproxy -c++ -o StatHandler_wrap.cxx StatHandler.i 
```

它生成了模块 StatHandler.pm

我使用以下命令生成了 .so 文件。

```
g++ -c statHandler.h statHandler.cpp -fPIC
g++ -O2 -shared -o StatHandler.so statHandler.o 
```

仅包含“use StatHandler;”时出现以下错误 在测试 Perl 脚本中。

```
Can't find 'boot_StatHandler' symbol in /home/vinod/cpp/swig//StatHandler.so 
```

LD_LIBRARY_PATH 设置正确。我试图浏览 SWIG 文档，但并没有从中得到太多。

我应该在 StatHandler.i 文件中指定什么来生成包“Vinod::StatHandler”。我需要为 swig 提供任何其他选项吗？

StatHandler.i 的内容：

```
%module "Vinod::StatHandler"
%{
#include "statHandler.h"
%}
#ifdef STATIC
%include perlmain.i
#endif

class StatHandler {
 StatHandler(string _dirName, string _statsFile):_statsDir(_dirName),_finalStatsFile(_statsFile){};
  void printStats();
 }; 
```

statHandler.h 的内容：

```
#ifndef STATHANDLER_H_
#define STATHANDLER_H_

#include<iostream>
#include<string.h>
#include<map>
#include<vector>

using namespace std;

class StatHandler {
 private:
  string _statsDir;
  string _finalStatsFile;
  vector<string> _statFiles;
  map <string, int> _dailyStats;
 public:
 StatHandler(string _dirName, string _statsFile):_statsDir(_dirName),_finalStatsFile(_statsFile){};
  bool getAllStatFiles();
  void extractStats();
  void printStats();
};

#endif 
```

StatHandlers.cpp 的内容：

```
#include <iostream>
#include "statHandler.h"
#include <sys/types.h>
#include <dirent.h>
#include <fstream>
#include <cstdlib>
using namespace std;

bool StatHandler::getAllStatFiles() {
  DIR* dirHandler;
  struct dirent* statsFile;
  if(dirHandler=opendir(_statsDir.c_str())){
    while(statsFile = readdir(dirHandler)){
      size_t size=strlen(statsFile->d_name);
      if(size>3) {
    char extension[4];
    memcpy(extension, &(statsFile->d_name[size-3]), 3);
    extension[3]='\0';
    if(strcmp(extension,".st") == 0) {
      _statFiles.push_back(_statsDir+statsFile->d_name);
    }
      }
    }
  } else {
    return false;
  }
  return true;
}

void StatHandler::extractStats() {
  getAllStatFiles();

  for(vector<string>::iterator fileIter=_statFiles.begin();fileIter!=_statFiles.end();++fileIter) {
    cout<<*(fileIter)<<"\n";
    ifstream in;
    in.open(fileIter->c_str(), ios::in);
    string term;
    while( in.is_open() && !getline(in, term, '\n').eof() ){
      size_t pos=0;
      if( (pos=term.find(" ")) != string::npos) {
    string keyword = term.substr(0,pos);
    string countStr=term.substr(pos+1);
    int count = atoi(countStr.c_str());
    if(_dailyStats.find(keyword) != _dailyStats.end()) {
      _dailyStats[keyword]+=count;
    } else {
       _dailyStats[keyword]=count;
    }
      }
      term.clear();
    }
    in.close();
  }  
}

void StatHandler::printStats() {
  ofstream out;
  out.open(_finalStatsFile.c_str(), ios::out);
  if(out) {
    for(map<string, int>::iterator statIter=_dailyStats.begin(); statIter!=_dailyStats.end();++statIter) {
      out<<statIter->first<<"\t"<<statIter->second<<"\n";
    }
    out.close();
  }

}

int main(int argc, char** argv) {
  StatHandler sh("/home/vinod/cpp/swig/","/home/vinod/cpp/swig/finalStats");
  sh.extractStats();
  sh.printStats();
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-09T12:06:35.080

实际上，您**忘记**编译**由**`swig`.

如[SWIG Doc](http://www.swig.org/Doc1.3/Perl5.html)中所述，您需要：

```
 swig -perl -noproxy -c++ -o StatHandler_wrap.cxx StatHandler.i
    g++ -c StatHandler.cpp -fPIC
    g++ -c StatHandler_wrap.cxx -I /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE -fPIC
    g++ -O2 -shared -o StatHandler.so StatHandler.o StatHandler_wrap.o 
```

然后，只要您将整个内容放在`Vinod/`子目录中，`LD_LIBRARY_PATH="Vinod" perl -MVinod::StatHandler`就会按预期工作。

注意：我在您的各种文件中编辑了案例和复数，因为它们不一致。

# audio - 自定义 Shoutcast 服务器 - 客户端缓冲后音频失真

> ID：16146608
> 
> 赞同：1
> 
> 时间：2013-04-22T11:58:51.270
> 
> 标签：audio, stream, buffer, shoutcast, icecast

所以，我正在编写自己的 Shoutcast 协议实现。进展相当顺利。我已经把它完全写好了，当我的互联网很好时，我不必暂停缓冲，流就可以完美地工作。有时它甚至会随机出现故障。尽管有这个问题，它改变了歌曲和一切。但是一旦我开始缓冲，一切都会走下坡路。音频失真，直到我停止并重新启动客户端上的连接。我认为造成这种情况的原因是我发送的 icy-mettaint 标头已关闭（在客户端），即使它是从服务器正确发送的。Shoutcast 和 Icecast 等应用程序如何弥补这一点？我认为这与 MTU 有关，但我一生都无法弄清楚。每次发送的音乐块大小完全相同。元数据还应该与大多数客户端中的解析器兼容。这是 GitHub 上的项目： [https://github.com/ClayFreeman/Radio-PHP](https://github.com/ClayFreeman/Radio-PHP)

# rest - 在 Wso2 应用服务器上启用 https

> ID：16146609
> 
> 赞同：3
> 
> 时间：2013-04-22T11:58:57.183
> 
> 标签：rest, ssl, https, wso2

我使用 Spring MVC 框架制作了 REST API。生成的 WAR 文件已部署在 wso2 App 服务器上。它工作正常，REST URI 就像`http://domainName:9743/context/api/service.`

现在我想使用 SSL 证书使这些服务安全，以便它们可以作为访问`https://domainName:9743/context/api/service.`

请建议如何进行，以及如何以及在哪里可以在 Wso2 App 服务器中安装证书。我是否需要在应用程序中进行更改以使其在 https 上运行。

我们正在使用最新的 wso2 应用服务器版本 5.1.0

谢谢沙克希

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T13:59:25.107

您可以使用 WSO2 应用程序服务器访问 http 和 https REST API，而无需进行任何更改。但是默认的http端口是9763，https端口是9443。所以，你需要适当地改变这些。

例如。在您的情况下，其余网址将如下所示。

```
http://domainName:9763/context/api/service

https://domainName:9443/context/api/service 
```

这是可能的，因为默认情况下 WSO2 AS 附带自签名证书。您可以[将自己的证书添加到 AS](http://wso2.org/library/knowledge-base/2012/08/install-your-own-certificate-esb)，也可以[添加 CA 签名证书](http://wso2.org/library/knowledge-base/2011/08/adding-ca-certificate-authority-signed-certificate-wso2-products)。

[可以按照添加 HTTP/HTTPS 通道安全](http://static.springsource.org/spring-security/site/docs/3.1.x/reference/ns-config.html#ns-requires-channel)性中的说明配置进一步的 HTTP/HTTPS 安全性。http、https 端口映射等将对您有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T13:01:47.173

您可以使用 WSO2 ESB 轻松实现此目的...请参阅文档[http://docs.wso2.org/wiki/display/ESB460/Securing+REST+APIs](http://docs.wso2.org/wiki/display/ESB460/Securing+REST+APIs) ...

有关更多基于 OAuth 的安全性，请参阅： http: [//malalanayake.wordpress.com/tag/how-easily-engage-the-security-for-rest-services-with-wso2-esb/](http://malalanayake.wordpress.com/tag/how-easily-engage-the-security-for-rest-services-with-wso2-esb/)

谢谢，

莫汉

# c - NIOS II 中的内存写入 - 值放入错误的地址

> ID：16146612
> 
> 赞同：1
> 
> 时间：2013-04-22T11:59:09.810
> 
> 标签：c, vhdl, i2c, nios

首先，我应该承认我已经在altera 论坛（[http://www.alteraforum.com/forum/showthread.php?t=40494](http://www.alteraforum.com/forum/showthread.php?t=40494)）上提交了这个问题。我也在这里问，因为我认为它可能是完全不同的观众。如果这个重复的帖子违反任何堆栈溢出规则或礼仪，请告诉我，我会删除它。如果不是，我会用我在这里收到的任何答案更新论坛提交，反之亦然。

我正在尝试将来自 opencores 的 I2C 内核集成到我的 Cyclone IV 设备中。显然，我正在使用的版本应该只是放入 SOPC 并在连接到某些输出（[alterawiki.com/wiki/I2C_(OpenCores)](http://alterawiki.com/wiki/I2C_%28OpenCores%29)）后工作。核心编译时没有错误或警告。

带有内核的 I2C 文档显示了 6 个相关寄存器依次寻址（PRERlo、PRERhi、CTR、TXR、RXR、CR、SR）。但是，当我尝试写入这些寄存器时，无论是从我的代码中还是在调试内存窗口中手动写入，都会被放入错误的地址。

为了调查这一点，我将寄存器设置为 VHDL 中的初始值，以在调试窗口中查看结果。这表明 TXR 和 CR 的寄存器地址不是文档中建议的。

```
Address   0  1  2  3 
09866160 AA 00 00 00 -- PRERlo
09866164 00 00 00 00 -- PRERhi
09866168 BB 00 00 00 -- CTR
0986616C DD 00 00 00 -- RXR
09866170 FA 00 00 00 -- SR
09866174 CC 00 00 00 -- TX
09866174 EE 00 00 00 -- CR 
```

但是，这很好，当我尝试写入地址 09866174 (TXR) 时，值将插入到 09866164 (PRERhi)。同样，当我写入 09866178 (CR) 时，该值将插入 09866168(CTR)。无论写入来自代码还是手动来自调试窗口，都会发生这种情况。这尤其令人困惑，因为在 VHDL 中写入这些寄存器可以正常工作。

```
#define IOWR(base,offset,value) __builtin_stwio ((unsigned int*)BASE + OFFSET, (DATA));
IOWR(I2C_MASTER_BASE, 5, 0x1D); 
```

我也试图从信号抽头调试这个。但是，从未实现任何寄存器上的触发器。

如果有人能在这里指出正确的方向，我将不胜感激。

谢谢！

-update：我一直在使用 VHDL 版本的内核。但是，我决定暂时放弃并使用 Verilog 版本，当我连接它时，它几乎可以立即工作。我打算在我的应用程序完成后回到 VHDL 核心，然后再更新它。

# ios - 核心音频：非远程 IO 单元上的 kAudioOutputUnitProperty_SetInputCallback

> ID：16146614
> 
> 赞同：0
> 
> 时间：2013-04-22T11:59:13.510
> 
> 标签：ios, cocoa, core-audio, audiounit, remoteio

我是 Core Audio 的新手，所以我可能看不到明显的东西……我的目标是处理以前录制的音频信号。但是，应首先过滤这些信号。我不需要播放任何音频。我只需要记录和处理它。

我的图表如下所示： RemoteIO --> HighPassFilter --> 回调（处理音频）

我这样设置：

```
LBAudioDetectiveGetDefaultFormat(&detective->streamFormat);

// Create new AUGraph
OSStatus error = NewAUGraph(&detective->graph);
LBErrorCheck(error);

// Initialize AUNodes
AudioComponentDescription rioCD = {0};
rioCD.componentType = kAudioUnitType_Output;
rioCD.componentSubType = kAudioUnitSubType_RemoteIO;
rioCD.componentManufacturer = kAudioUnitManufacturer_Apple;

AUNode rioNode;
error = AUGraphAddNode(detective->graph, &rioCD, &rioNode);
LBErrorCheck(error);

AudioComponentDescription filterCD = {0};
filterCD.componentType = kAudioUnitType_Effect;
filterCD.componentSubType = kAudioUnitSubType_HighPassFilter;
filterCD.componentManufacturer = kAudioUnitManufacturer_Apple;

AUNode filterNode;
error = AUGraphAddNode(detective->graph, &filterCD, &filterNode);
LBErrorCheck(error);

// Open the graph so I can modify the AudioUnits
error = AUGraphOpen(detective->graph);

// Adapt rioUnit
error = AUGraphNodeInfo(detective->graph, rioNode, NULL, &detective->rioUnit);
LBErrorCheck(error);

UInt32 onFlag = 1;
AudioUnitElement bus1 = 1;
UInt32 propertySize = sizeof(UInt32);    
error = AudioUnitSetProperty(detective->rioUnit, kAudioOutputUnitProperty_EnableIO, kAudioUnitScope_Input, bus1, &onFlag, propertySize);
LBErrorCheck(error);

propertySize = sizeof(AudioStreamBasicDescription);
error = AudioUnitSetProperty(detective->rioUnit, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Output, bus1, &detective->streamFormat, propertySize);
LBErrorCheck(error);

// Adapt filterUnit
error = AUGraphNodeInfo(detective->graph, filterNode, NULL, &detective->filterUnit);
LBErrorCheck(error);

AURenderCallbackStruct callback = {0};
callback.inputProc = _LBAudioDetectiveFilterOutput;
callback.inputProcRefCon = detective;
propertySize = sizeof(AURenderCallbackStruct);
error = AudioUnitSetProperty(detective->filterUnit, kAudioOutputUnitProperty_SetInputCallback, kAudioUnitScope_Global, 0, &callback, propertySize);
LBErrorCheck(error);

// Connect the two units
AudioUnitElement bus0 = 0;
error = AUGraphConnectNodeInput(detective->graph, rioNode, bus1, filterNode, bus0);
LBErrorCheck(error);

AUGraphInitialize(detective->graph); 
```

当我尝试设置回调时，我的代码失败并显示错误 -10879。我假设过滤器音频单元不支持此属性。那我应该如何获得录制的声音呢？据我所知，不允许使用第二个通用输出单元。

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T16:08:12.370

在 RemoteIO 音频单元（而不是过滤器单元或输入总线）的输出（总线 0）上配置回调，但在该 RemoteIO 回调中，从过滤器单元拉（渲染）。然后将调用过滤器单元以从 RemoteIO 输入（总线 1）中提取可用数据以进行处理。

如果您不想发出任何声音，也可以用零填充输出缓冲区。

基本上，RemoteIO 的扬声器端为 RemoteIO 的麦克风端的数据提供回调的时间，即使您不想通过扬声器播放任何声音。这是因为整个音频单元链是基于拉模型（ADC 没有地方将数据推送到 API），但输入和输出的硬件采样率恰好相同。因此，在音频单元链从麦克风输入缓冲区中拉出的正确时间调用输出。

# c++ - 提升::iostreams 使用标记器，无需不必要的复制

> ID：16146615
> 
> 赞同：1
> 
> 时间：2013-04-22T11:59:17.127
> 
> 标签：c++, boost, iostream, tokenize, stringstream

我正在尝试从文件中创建一个可以标记的字符串。有效的是

```
boost::iostreams::stream_buffer<boost::iostreams::mapped_file_source> file("file.txt");
boost::char_separator<char> sep(",");
std::string buf(file->begin(),file->end())
boost::tokenizer<boost::char_separator<char>> tokeniser(buf,sep); 
```

但我不会不必要地将文件的缓冲区复制到我认为可以做到的字符串中：

```
boost::iostreams::stream_buffer<boost::iostreams::mapped_file_source> file("file.txt");
boost::iterator_range<const char*> it = make_iterator_range(file->begin(),file->end());
boost::tokenizer<boost::char_separator<char>> tokeniser(it,sep); 
```

或者

```
std::istringstream buf;
buf.rdbuf()->pubsetbuf(const_cast<char*>(file->data()),file->size());
boost::char_separator<char> sep(",");
boost::tokenizer<boost::char_separator<char>> tokeniser(buf,sep); 
```

我也试过

```
boost::tokenizer<boost::char_separator<char>> tokeniser(boost::as_literal(file->data()),sep); 
```

但是每次标记器不接受迭代器

有没有一种有效的便携方式来做到这一点？

**编辑**我认为可能的答案可以解决这个问题

从那以后我想到的是使用 istream 迭代器来实现非复制，因为我相当（尽管不是 100%）确信迭代器会迭代并且不会复制其基础数据

```
boost::iostreams::stream_buffer<boost::iostreams::mapped_file_source> file("names.txt");
std::istream in(&file);
std::istream_iterator<std::string> iter(in);
boost::char_separator<char> sep(",");
boost::tokenizer<boost::char_separator<char>> tokeniser(*iter,sep); 
```

想法？还是有更好的东西？

# android - 在 android-16 中播放时直播音频延迟？

> ID：16146617
> 
> 赞同：5
> 
> 时间：2013-04-22T11:59:18.353
> 
> 标签：android, media-player, android-mediaplayer, rtsp

我正在开发一个小型 android 应用程序，我在其中使用 android 媒体播放器播放 rtsp 链接。它在少于 android 16 api 上正常工作。但问题是，当我在 android 16 上运行时，它需要很长时间才能播放，有时甚至无法播放。以下是我正在使用的代码

```
sdrPlayer = new MediaPlayer();
sdrPlayer.setDataSource(url);
sdrPlayer.prepare();
sdrPlayer.setOnCompletionListener(video.this);
sdrPlayer.setOnPreparedListener(video.this);
sdrPlayer.setOnBufferingUpdateListener(video.this);
sdrPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC); 
```

以下是一些测试用例

1.  ZTE N860 – 开始播放收音机大约需要 4 到 5 分钟。
2.  三星 Galaxy S4 – 音频根本不起作用。它在方法中调用 start 方法，`onprepare`但没有音频。
3.  三星 SCH1415 - 开始播放收音机大约需要 8 分钟
4.  HTC V5 – 音频无法始终正常工作。它开始播放，但没有音频。这种行为是不一致的，这导致了更多的挫败感。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-19T04:08:52.460

对于播放 rtsp 链接，您应该使用`sdrPlayer.prepareAsync();`而不是

```
sdrPlayer.prepare(); 
```

因为文档说

它异步准备播放器进行播放。设置数据源和显示界面后，您需要调用`prepare()`或`prepareAsync()`。**对于流，您应该调用`prepareAsync()`**立即返回，而不是阻塞直到缓冲了足够的数据。

# c# - 如何同时绑定到列表和子列表？

> ID：16146618
> 
> 赞同：3
> 
> 时间：2013-04-22T11:59:19.353
> 
> 标签：c#, winforms, data-binding

我在表单上有想要绑定到组合框的数据。组合框需要始终显示相同的对象，并绑定到对象的不同属性，但其中一个仅显示所有可能对象的子集。

我的对象可以描述为：

```
{"q",#1,1},{"w",#1,2},{"e",#1,3},{"r",#2,6},{"t",#3,2},{"y",#3,6} etc 
```

第一个组合框显示第一个字段和完整列表，确切地说：

```
"q","w","e","r","t","y" etc 
```

第二个组合框显示第三个字段，但仅适用于与当前选定对象具有相似第二个字段的对象。

如果选择 {"q",#1,1}，则会显示：

```
1,2,3 
```

如果选择 {"r",#2,6}，则显示：

```
6 
```

在任何组合框中选择另一个项目会更改当前选定的项目和（相应地更新其他组合框）。

使用winforms数据绑定最优雅或“正确”的方法是什么？（对我来说，elegat 不会诉诸于处理当前选定项目的更改）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:13:32.570

这可能会有所帮助：

```
List<Tuple<string, string, int>> values = new List<Tuple<string, string, int>>(); 
```

然后：

```
comboBox1.DisplayMember = "Item1";
comboBox1.DataSource = values;

comboBox2.DisplayMember = "Item3";

var filter = ((Tuple<string, string, int>)comboBox1.SelectedItem).Item2;

comboBox2.DataSource = values.Where(input => input.Item2 == filter); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:14:15.120

为每个要绑定的 ComboBox 创建一个属性。现在，这些属性实际上可以是一个 LINQ 表达式，为您过滤正确的数据。

此类属性的示例：

```
private final List<MyObj> _allObjects = new List<MyObj>();
... // fill the _allObjects somewhere

public IEnumerable<MyObj> AllGoodObjects 
{
    get { return from o in _allObjects 
                 where o.IsGood
                 select o; }
}

public IEnumerable<MyObj> AllBadObjects 
{
    get { return from o in _allObjects 
                 where !o.IsGood
                 select o; }
} 
```

您可以创建复杂的查询，并以虚拟方式选择您想要的任何内容。

# javascript - 实时搜索 localstorage（在数组中搜索）

> ID：16146620
> 
> 赞同：2
> 
> 时间：2013-04-22T11:59:25.630
> 
> 标签：javascript, jquery, arrays, search, object

这就是我所拥有的： ![在此处输入图像描述](https://i.stack.imgur.com/ZsI4s.png)

现在我想进行实时搜索。关键是当您在文本框中键入时，您必须自动在本地存储中搜索与搜索框中的文本相同的内容。所有不匹配的数据都将消失。

```
$("#searchbox").keyup(function(){

    // Retrieve the input field text
    var searchtext = $(this).val();

    // Loop through the local storage
    var a = {};
    a = JSON.parse(localStorage.getItem('session'));

    alert(a);
}); 
```

如您所见，我发出警报，我的输出是这样的：

```
{"21114":{"id":"21114","external_id":"","sessiongroupid":"1844","eventid":"5588","order":"0","name":"localStorage
 HTML5 Session","description":"localstorage","starttime":"2013-04-23
 12:00:00","endtime":"2013-04-23
 13:30:00","speaker":"","location":"","mapid":"0","xpos":"0.000000","ypos":"0.000000","maptype":"plan","imageurl":"","presentation":"","organizer":"0","twitter":"","allowAddToFavorites":"0","allowAddToAgenda":"0","votes":"0","url":"","venueid":"0"},"21115":{"id":"21115","external_id":"","sessiongroupid":"1845","eventid":"5588","order":"0","name":"tweede","description":"tweede","starttime":"2013-04-03
 00:00:00","endtime":"2013-04-04
 00:00:00","speaker":"","location":"","mapid":"0","xpos":"0.000000","ypos":"0.000000","maptype":"plan","imageurl":"","presentation":"","organizer":"0","twitter":"","allowAddToFavorites":"0","allowAddToAgenda":"0","votes":"0","url":"","venueid":"0"}} 
```

现在我想搜索名称。有人可以帮我怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:06:38.457

简单地遍历对象

```
var json = JSON.parse(localStorage);

for(obj in json) {
    console.log(json[obj].name); //compare this with your "searchtext"
} 
```

印刷

```
localStorage HTML5 Session
tweede 
```

您可以简单地检查循环内部是否`.name`匹配您想要的任何内容并进行处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-29T16:57:04.967

试试这个简单的代码

```
dataArray.filter(function(object) {
   return object.name == new RegExp('text to search', 'gi')
}) 
```

用您的密钥更改 .name 想要搜索

# svg - 组合多个 SVG

> ID：16146621
> 
> 赞同：3
> 
> 时间：2013-04-22T11:59:26.430
> 
> 标签：svg, inkscape

我想将多个 SVG 合并为一个。我目前的解决方案是这样的：

```
<svg>
    <svg>...</svg>
    <svg>...</svg>
    <svg>...</svg>
</svg> 
```

这非常方便，因为我可以为每个元素单独使用 viewBox、size 等。但是当我尝试使用 Inkscape 编辑该文件时，元素似乎会以一种奇怪的方式跳跃并改变它们的大小。

我想过将每个 svg 转换为一个组元素，但我不知道如何，因为我必须手动应用 viewBox、大小和位置（相对于父级）。

有人对此有任何建议吗？

以下是此类文件的示例：

```
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1680" height="966">
    <svg  contentScriptType="text/ecmascript" zoomAndPan="magnify" contentStyleType="text/css" id="965194" version="1.1" width="325" preserveAspectRatio="xMidYMid meet" viewBox="426 337 1031 992" height="312" x="666" y="179">
        <rect x="426" stroke-linecap="round" y="337" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)" fill="none" width="1031" id="52872" height="992" stroke="#000000" stroke-width="10"/>
    </svg>
    <svg  contentScriptType="text/ecmascript" zoomAndPan="magnify" contentStyleType="text/css" id="346790" version="1.1" width="150" preserveAspectRatio="xMidYMid meet" viewBox="28 58 445 470" height="159" x="760" y="257">
        <ellipse stroke-linecap="round" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)" fill="none" rx="212.5" cx="250.5" ry="225.0" id="89340" cy="293.0" stroke="#000000" stroke-width="10"/>
    </svg>
    <svg  contentScriptType="text/ecmascript" zoomAndPan="magnify" contentStyleType="text/css" id="342294" version="1.1" width="780" preserveAspectRatio="xMidYMid meet" viewBox="115 363 1665 1461" height="684" x="413" y="2">
        <rect x="115" stroke-linecap="round" y="363" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)" fill="none" width="1665" id="74016" height="1461" stroke="#000000" stroke-width="10"/>
    </svg>
</svg> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-23T06:44:29.100

对于多个 SVG，最简单的方法是将其嵌入为 <image> 并在此元素上执行转换。所有浏览器都更容易重现精确的图形并进行编辑。

另一种方法是将 <svg> 包装在 <g>roup 标记`transform="translate(x,y) rotate(zz)"`内并在 <g>roup 标记内执行。

# php - 注销不会破坏会话

> ID：16146622
> 
> 赞同：3
> 
> 时间：2013-04-22T11:59:29.883
> 
> 标签：php, mysql

我的注销页面没有破坏会话。我已经搜索并阅读了相同的问题，但没有一个能解决我的问题。

下面是我的注销页面。请注意，我有两个 php 块，因为中间有一个模板。

```
<?php
  error_reporting(E_ALL ^ E_NOTICE);
  session_start();
  $userid = $_SESSION['userid'];
  $username = $_SESSION['username'];
?>
<?php
  if($username && $userid) {
    session_destroy();
    echo "You have been logged out.<a href='members.only.php'>My Logs.</a>";
  }
  else
    echo "You are not logged in.";
?> 
```

正如我注销后所看到的那样，我有一个指向会员限制页面的链接，因此我可以查看。但它仍然欢迎最后一个登录的用户。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:01:40.983

请阅读[session_destroy](http://php.net/manual/en/function.session-destroy.php)的文档：

`session_destroy() destroys all of the data associated with the current session. It does not unset any of the global variables associated with the session, or unset the session cookie. To use the session variables again, session_start() has to be called.`

这意味着，你应该做点别的。例如：

`$_SESSION = array();`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:01:43.497

session_destroy() 销毁与当前会话关联的所有数据。它不会取消设置与会话关联的任何全局变量，也不会取消设置会话 cookie。要再次使用会话变量，必须调用 session_start()。[你可以在这里](http://de2.php.net/manual/en/function.session-destroy.php)阅读更多关于它的信息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:05:10.920

用这个替换 session_destroy 部分：

```
 <?php
      if($username && $userid) {

    // If it's desired to kill the session, also delete the session cookie.
    // Note: This will destroy the session, and not just the session data!
    if (ini_get("session.use_cookies")) {
        $params = session_get_cookie_params();
        setcookie(session_name(), '', time() - 42000,
            $params["path"], $params["domain"],
            $params["secure"], $params["httponly"]
        );
    }

    // Finally, destroy the session.
    session_destroy();
    $_SESSION = array();
        echo "You have been logged out.<a href='members.only.php'>My Logs.</a>";
      }
      else
        echo "You are not logged in.";
    ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:01:16.967

尝试使用：

```
session_cache_limiter ('private_no_expire, must-revalidate'); 
```

# android - 如何从 listView 动态添加按钮？

> ID：16146631
> 
> 赞同：1
> 
> 时间：2013-04-22T12:00:15.780
> 
> 标签：android, listview, button, custom-adapter

我有一个添加按钮，通过单击该添加按钮会弹出一个列表视图，并且在该列表视图的每一行中都有一个按钮。通过单击特定行的按钮（我的意思是该行的文本和图像）应该作为图像按钮添加到我的应用程序的主屏幕。

这是 listView 的 customadapter 类

```
public class NewsRowAdapter extends ArrayAdapter<Item> {

private Activity activity;
private List<Item> items;
private Item objBean;
private int row;
private DisplayImageOptions options;
ImageLoader imageLoader;

public NewsRowAdapter(Activity act, int resource, List<Item> arrayList) {
    super(act, resource, arrayList);
    this.activity = act;
    this.row = resource;
    this.items = arrayList;

    options = new DisplayImageOptions.Builder()
            .showStubImage(R.drawable.profile)
            .showImageForEmptyUrl(R.drawable.profile).cacheInMemory()
            .cacheOnDisc().build();
    imageLoader = ImageLoader.getInstance();

}

@Override
public View getView(final int position, View convertView, ViewGroup parent) {
    View view = convertView;
    ViewHolder holder;
    if (view == null) {
        LayoutInflater inflater = (LayoutInflater) activity
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        view = inflater.inflate(row, null);

        holder = new ViewHolder();
        view.setTag(holder);
    } else {
        holder = (ViewHolder) view.getTag();
    }

    if ((items == null) || ((position + 1) > items.size()))
        return view;

    objBean = items.get(position);

    holder.tvTitle = (TextView) view.findViewById(R.id.tvtitle);
    holder.tvDesc = (TextView) view.findViewById(R.id.tvdesc);
    holder.tvDate = (TextView) view.findViewById(R.id.tvdate);
    holder.imgView = (ImageView) view.findViewById(R.id.image);
    holder.pbar = (ProgressBar) view.findViewById(R.id.pbar);
            holder.button = (Button) view.findViewById(R.id.button);
    if (holder.tvTitle != null && null != objBean.getTitle()
            && objBean.getTitle().trim().length() > 0) {
        holder.tvTitle.setText(Html.fromHtml(objBean.getTitle()));
    }
    if (holder.tvDesc != null && null != objBean.getDesc()
            && objBean.getDesc().trim().length() > 0) {
        holder.tvDesc.setText(Html.fromHtml(objBean.getDesc()));
    }
    if (holder.tvDate != null && null != objBean.getPubdate()
            && objBean.getPubdate().trim().length() > 0) {
        holder.tvDate.setText(Html.fromHtml(objBean.getPubdate()));
    }
    if (holder.imgView != null) {
        if (null != objBean.getLink()
                && objBean.getLink().trim().length() > 0) {
            final ProgressBar pbar = holder.pbar;

            imageLoader.init(ImageLoaderConfiguration
                    .createDefault(activity));
            imageLoader.displayImage(objBean.getLink(), holder.imgView,
                    options, new ImageLoadingListener() {
                        @Override
                        public void onLoadingComplete() {
                            pbar.setVisibility(View.INVISIBLE);

                        }

                        @Override
                        public void onLoadingFailed() {
                            pbar.setVisibility(View.INVISIBLE);
                        }

                        @Override
                        public void onLoadingStarted() {
                            pbar.setVisibility(View.VISIBLE);

                        }
                    });

        } else {
            holder.imgView.setImageResource(R.drawable.ic_launcher);
        }
    }

    return view;
}

public class ViewHolder {

    public TextView tvTitle, tvDesc, tvDate;
    private ImageView imgView;
    private ProgressBar pbar;

}

} 
```

这个列表视图是通过 json 解析的，所以当我添加一个按钮时，该按钮应该是布局中的第一个按钮所以我的第一个问题是如何将按钮动态添加到主屏幕？第二个问题我应该使用 GridView 来显示按钮或表格布局或其他一些吗？

Plzz 帮助我在 android 编程方面是新手......

提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T18:05:19.997

我认为您可以使用`gridView`，但它先在列中添加子元素，然后在行中添加子元素。如果您想以这种方式显示您的主屏幕，您可以使用它。

您可以创建一个`listener`将监听您在列表中单击按钮并将该项目添加到`array`将填充您的`gridView`.

注意：-`array`如果您有较少的项目`ArrayList`或任何其他数据结构，请使用

# vb.net - 画线的按钮 vb.net 不起作用？

> ID：16146633
> 
> 赞同：1
> 
> 时间：2013-04-22T12:00:22.243
> 
> 标签：vb.net, button, line, draw

我正在尝试使用不起作用的按钮创建一条线。

如果我使用以下代码，

```
Imports System.Drawing
Imports System.Drawing.Drawing2D
Imports System.Windows.Forms

  Protected Overrides Sub OnPaint(ByVal e As PaintEventArgs)
      Dim g As Graphics = e.Graphics
      Dim pn As New Pen(Color.Blue)
      Dim pt1 As New Point(30, 30)
      Dim pt2 As New Point(110, 100)
      g.DrawLine(pn, pt1, pt2)
End sub 
```

它工作得很好，但是如果我只想在单击按钮后进行绘制，例如，

```
Imports System.Drawing
Imports System.Drawing.Drawing2D
Imports System.Windows.Forms

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click

      Dim g As Graphics = e.Graphics
      Dim pn As New Pen(Color.Blue)
      Dim pt1 As New Point(30, 30)
      Dim pt2 As New Point(110, 100)
      g.DrawLine(pn, pt1, pt2)

    End Sub 
```

它说“'Graphics' 不是 'System.EventArgs' 的成员。？？？

我也尝试改变：

```
 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click 
```

至：

```
 Private Sub Button1_Click(ByVal sender As graphics.Object, ByVal e As System.EventArgs) Handles Button1.Click 
```

还有一些类似的变化（很多人都列出来了），但我得到了一些错误响应。

那么如何使用 e.graphics 通过单击按钮绘制一条线？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:09:21.593

您需要对表单的 Graphics 上下文的引用（我在这里假设为 WinForms）。

最简单的方法是在单击按钮的顶部添加这一行：

```
Dim g As Graphics = Me.CreateGraphics 
```

绘制图形比这更复杂，因为`OnPaint`如果您绘制的内容包含在 的`e.ClipRectangle`属性中，您应该真正将绘制的内容持久保存到内存中并在事件触发时根据需要重新绘制它`PaintEventArgs`，但上面的代码行应该让您现在开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:10:03.600

您使用的两个事件具有不同的 EventArgs。Click EventArgs 包含有关单击的信息，PaintEventArgs 包含有关要绘制什么的信息。

您可以调用以重新绘制按钮并使用您的 onPaint 方法。这是一种很好的编程风格。将事件与相应的内容配对。画来画。点击点击。

```
Private drawLine as boolean = false

Private Sub Button1_Paint(sender As Object, e As PaintEventArgs) Handles Button1.Paint
  If drawLine then
    Dim g As Graphics = e.Graphics
    Dim pn As New Pen(Color.Blue)
    Dim pt1 As New Point(30, 30)
    Dim pt2 As New Point(110, 100)
    g.DrawLine(pn, pt1, pt2)
  End if
End sub

Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
  drawLine = true
  Button1.refresh()
End Sub 
```

# jquery - 带有用户控制回发的 JQuery 弹出窗口将控制属性设置为空

> ID：16146642
> 
> 赞同：0
> 
> 时间：2013-04-22T12:00:56.633
> 
> 标签：jquery, asp.net, .net

我使用了 Teleric 网格的用户控件。它包含 GridClientSelectColumn。我使用 jquery 弹出这个用户控件。在这个*“确定”*按钮中，我想在页面上和回发事件中进行回发，以调用返回所选列列表的用户控件方法。
但是选中的 item.selected 始终为 false

如何解决这个问题呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T06:31:24.630

最后，我在使用 $(this).dialog("destroy"); 的 OK 按钮中得到了解决方案；它解决了我的问题谢谢所有试图帮助我的人。

# php - Yii登录成 功后返回最后输入的URL

> ID：16146644
> 
> 赞同：6
> 
> 时间：2013-04-22T12:00:58.563
> 
> 标签：php, yii

我在其成功的功能控制转到功能登录`dashboard/index`。假设`leads/index`由于定义的访问规则，用户进入页面返回登录，我只想**在成功登录后控制进入最后输入的 URL，**即`leads/index`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:18:12.907

```
... Controller extends CController (){
...
public function init() {

   if($this->isValidForRedirectRequest(Yii::app()->request)){
       Yii::app()->user->returnUrl = Yii::app()->request->requestUri;
   }
}
...

public function isValidForRedirectRequest(){
   /*something validations of request, like isAjax or other */
}
}...

... LoginController()...{

if($authIdentity->authenticate()) $this->redirect(Yii::app()->user->returnUrl);
...

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:12:00.493

我认为这会起作用：

```
Yii::app()->user->setReturnUrl("Your url"); 
```

然后使用，

```
$this->redirect(Yii::app()->user->returnUrl); 
```

重定向。

或者你也可以在会话的帮助下。

登录前设置

```
Yii::app()->session['beforelogin'] = Yii::app()->request->requestUri;` 
```

就在登录检查后重定向之前

```
if(isset(Yii::app()->session['beforelogin'])) {
  $this->redirect(Yii::app()->session['beforelogin']);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-09-23T09:14:43.593

我认为这个问题最简单的答案是这段代码：

```
$this->redirect(Yii::app()->request->urlReferrer); 
```

使用此代码就是这样。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-08-15T12:47:56.460

**对于 Yii2。**

在方法的控制器中`actionLogin()`使用这个：

```
if (Yii::$app->user->getReturnUrl() == '/') {
  return $this->redirect('dashboard/index');
} else {
  return $this->redirect(Yii::$app->user->getReturnUrl());
} 
```

它将检查登录是否来自主页（`getReturnUrl() == '/'`），然后在登录后将您重定向到`dashboard/index`页面。否则，它将重定向到请求的页面。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-07-12T04:51:50.013

在`$this->redirect(Yii::app()->user->returnUrl)`你的`SiteController`.

```
public function actionLogin() {
    $this->setTheme();
    $this->layout = '//layouts/login';
    $model = new LoginForm;

    // if it is ajax validation request
    if (isset($_POST['ajax']) && $_POST['ajax'] === 'login-form') {
        echo CActiveForm::validate($model);
        Yii::app()->end();
    }

    // collect user input data
    if (isset($_POST['LoginForm'])) {
        $model->attributes = $_POST['LoginForm'];
        // validate user input and redirect to the previous page if valid
        if ($model->validate() && $model->login())
            $this->redirect(Yii::app()->user->returnUrl);
    }
    // display the login form
    $this->render('login', array('model' => $model));
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-15T12:54:23.367

最好通过会话来控制这种行为（例如分页，...）但是，

```
return $this->goBack(); 
```

将工作。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-08-19T23:13:43.213

actionID=auth 时有一个条件，所以它只有在 action 是 auth 时才有效，这会打开 Google auth 窗口。

```
public function beforeAction($action){
  if ($action->id == 'auth' && Yii::$app->request->referrer !== null) {
        Yii::$app->session->set('returnUrl', Yii::$app->request->referrer);
  }
 return parent::beforeAction($action);
} 
```

# maven - java.lang.NoClassDefFoundError: org/zkoss/util/resource/XMLResourcesLocator 问题

> ID：16146658
> 
> 赞同：1
> 
> 时间：2013-04-22T12:02:04.227
> 
> 标签：maven, intellij-idea, noclassdeffounderror, zk

我在 IntelliJ 中使用 Maven 和 ZK 创建了一个 Web 应用程序。我有以下错误，让我非常头疼。它说我在 org.zkoss.common 中找不到 XMLResourceLocator 类。我的 POM 文件中确实有这个包的工件，但问题仍然存在。有人可以告诉我问题可能出在哪里吗？

```
SEVERE: Exception thrown by attributes event listener
java.lang.NoClassDefFoundError: org/zkoss/util/resource/XMLResourcesLocator
at org.zkoss.zk.ui.http.HttpSessionListener23.attributeAdded(HttpSessionListener23.java:87)
at org.apache.catalina.core.ApplicationContext.setAttribute(ApplicationContext.java:859)
at org.apache.catalina.core.ApplicationContextFacade.setAttribute(ApplicationContextFacade.java:400)
at org.springframework.web.context.support.WebApplicationContextUtils.registerWebApplicationScopes(WebApplicationContextUtils.java:153)
at org.springframework.web.context.support.AbstractRefreshableWebApplicationContext.postProcessBeanFactory(AbstractRefreshableWebApplicationContext.java:143)
at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:448)
at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)
at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
at java.util.concurrent.FutureTask.run(FutureTask.java:166)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:679)
Caused by: java.lang.ClassNotFoundException: org.zkoss.util.resource.XMLResourcesLocator
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
... 23 more
Apr 22, 2013 12:38:31 PM org.apache.catalina.core.ApplicationContext log
SEVERE: Exception thrown by attributes event listener
java.lang.NoClassDefFoundError: org/zkoss/util/resource/XMLResourcesLocator
at org.zkoss.zk.ui.http.HttpSessionListener23.attributeAdded(HttpSessionListener23.java:87)
at org.apache.catalina.core.ApplicationContext.setAttribute(ApplicationContext.java:859)
at org.apache.catalina.core.ApplicationContextFacade.setAttribute(ApplicationContextFacade.java:400)
at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:205)
at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)
at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
at java.util.concurrent.FutureTask.run(FutureTask.java:166)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:679)
Caused by: java.lang.ClassNotFoundException: org.zkoss.util.resource.XMLResourcesLocator
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
... 19 more
 Apr 22, 2013 12:38:31 PM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Exception sending context initialized event to listener instance of class org.zkoss.zk.ui.http.HttpSessionListener
java.lang.NoClassDefFoundError: org/zkoss/util/resource/XMLResourcesLocator
at org.zkoss.zk.ui.http.HttpSessionListener23.contextInitialized(HttpSessionListener23.java:139)
at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)
at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
at java.util.concurrent.FutureTask.run(FutureTask.java:166)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:679)
Caused by: java.lang.ClassNotFoundException: org.zkoss.util.resource.XMLResourcesLocator
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
... 15 more
Apr 22, 2013 12:38:31 PM org.apache.catalina.core.ApplicationContext log
INFO: Closing Spring root WebApplicationContext
Apr 22, 2013 12:38:31 PM org.apache.catalina.core.ApplicationContext log
SEVERE: Exception thrown by attributes event listener
java.lang.NoClassDefFoundError: org/zkoss/util/resource/XMLResourcesLocator
at org.zkoss.zk.ui.http.HttpSessionListener23.attributeRemoved(HttpSessionListener23.java:96)
at org.apache.catalina.core.ApplicationContext.removeAttribute(ApplicationContext.java:782)
at org.apache.catalina.core.ApplicationContextFacade.removeAttribute(ApplicationContextFacade.java:410)
at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:395)
at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:78)
at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4831)
at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5478)
at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)
at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1637)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
at java.util.concurrent.FutureTask.run(FutureTask.java:166)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
at java.lang.Thread.run(Thread.java:679)
Caused by: java.lang.ClassNotFoundException: org.zkoss.util.resource.XMLResourcesLocator
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
... 20 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:19:17.910

您应该确保将包/类部署
到您的 server/war 文件。
最好的方法是导出为 *.war 并使用 zip 程序
查看类文件夹并搜索可能丢失的文件。

[这](http://www.jetbrains.com/idea/webhelp/configuring-web-application-deployment.html)也许也有帮助。

# python - 如何检查python列表中是否存在任何值

> ID：16146663
> 
> 赞同：2
> 
> 时间：2013-04-22T12:02:18.727
> 
> 标签：python, list

我有这样的清单

```
l = ['dd','rr','abcde']

l2 = ['ddf','fdfd','123'] 
```

`l`如果存在任何值，我想要一个返回 true 的函数`l2`。

现在这也可以是部分匹配。我的意思是字符串应该出现在`l2`

编辑：

输出应为真或假

就像在我的示例中一样，它应该返回 true 因为`dd`匹配`ddf`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T12:05:23.017

`True`如果 from 的任何值`l`是 中任何值的子字符串，则返回`l2`：

```
any(l_value in l2_value for l_value in l for l2_value in l2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:14:02.820

嵌套循环：

```
print any(sub in full for sub in l for full in l2) 
```

高效的嵌套循环

```
from itertools import product
print any(sub in full for sub, full in product(l, l2)) 
```

没有循环：

```
import re
print re.match('|'.join(l), ' '.join(l2)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:11:38.730

```
def match():
   for e in l:
      for e2 in l2:
          if e in e2:
              return True
   else:
       return False 
```

这将包括部分匹配。

**更新：** 使用列表理解：

```
[re.search(x,",".join(l2)) for x in l if re.search(x,",".join(l2)) is not None] and 'True' or 'False' 
```

# visual-studio-2012 - 如何在 Team Foundation Service 中查看来自早期代码审查的评论？

> ID：16146666
> 
> 赞同：25
> 
> 时间：2013-04-22T12:02:31.630
> 
> 标签：visual-studio-2012, tfs, azure-devops, tfs-code-review

我正在使用 Microsoft 的在线 Team Foundation Service 和 Visual Studio 2012 Premium。

几个月前，我为一位同事进行了一次代码审查，现在同一个项目又进行了一次代码审查。

我希望能够查看我在第一次代码审查时所做的评论，以确保一切都已采取行动。但是，我在 Visual Studio 或 TFS 中找不到任何可以显示之前代码审查评论的地方。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-04-22T13:06:10.110

好的，我通过反复试验找到了答案：

1.  在 Visual Studio 2012 中打开团队资源管理器
2.  在工作项下，单击“新建查询”
3.  运行查询以查找相关的代码审查项
4.  在查询结果中，双击代码审查工作项
5.  点击“在团队资源管理器中打开代码审查（左上角）
6.  代码审查将在 Team Explorer 面板中打开

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-06-14T21:16:06.830

如果您不执行多次代码审查，这也可能更容易：在团队资源管理器中，在我的工作下，靠近底部有一个代码审查部分。一个微妙的下拉菜单可以让您选择其他选项，例如：

*   我的代码审查
*   传入请求
*   最近完成
*   最近关门了

如果您选择“最近完成”，您应该能够查看已完成的代码审查并从中选择您想要的。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-06-20T21:23:07.680

在 Visual Studio 2017 中，该链接`Open Code Review in Team Explorer`可能不会出现。要在代码审查工作项上显示链接，请从主菜单开始执行以下操作：

```
Tools -> Options -> Work Items 
```

`Open work items in:`从更改`Default browser`为`Visual Studio`。

`Microsoft.CodeReviewResponseCategory`现在您可以对类型为or的工作项执行查询，`Microsoft.CodeReviewRequestCategory`并且该链接应出现在工作项的左上角。

* * *

*感谢[user735232](https://stackoverflow.com/users/735232/user735232)的评论，我将此添加为答案以使解决方案更加明显。*

# iphone - 为 iOS 构建 GDAL 时出错

> ID：16146671
> 
> 赞同：1
> 
> 时间：2013-04-22T12:03:05.673
> 
> 标签：iphone, ios, sqlite, build, gdal

我一直在尝试为 iOS 构建 GDAL 一段时间。使用[这个线程](https://stackoverflow.com/questions/12643898/incorporating-gdal-ogr-into-an-ios-project-a-quick-guide)中的 MikL shell 脚本，我设法开始了构建过程，但它总是给我同样的错误：

```
In file included from hugefileresolver.cpp:57:
/usr/include/sqlite3.h:4493: error: expected initializer before'__AVAILABILITY_INTERNAL__IPHONE_2_0_DEP__IPHONE_5_0'
make[3]: *** [../o/hugefileresolver.lo] Error 1
make[2]: *** [gml-target] Error 2
make[1]: *** [sublibs] Error 2
make: *** [ogr-target] Error 2 
```

几周来我一直在努力解决这个问题，所以任何建议都将不胜感激。

# ios - 在呈现 tableview 时，最终布局渲染是动画的

> ID：16146678
> 
> 赞同：1
> 
> 时间：2013-04-22T12:03:33.430
> 
> 标签：ios, cocoa-touch, uitableview

我在自定义开发的 UI 控件中使用 tableview。
我的 tableView 的默认框架是 {0,0,0,0}..所以它不可见..我正在使用 UIview 的动画类方法和块 (animateWithDuration:delay:..etc..) 为这个 tableview 设置动画“进入屏幕”。动画块仅包含 frame.size 更改为 {0,0,320,250}。很明显，随着 tableview 的框架发生变化，一些单元格变得可见。

此外，我有一个自定义 UIView，其中包含四个 UILabel。标签正在捕捉到底部。在 cellForRowAtIndexPath: 中，我将此自定义视图添加到单元格的内容视图中，并调整此自定义视图的大小以匹配内容视图框架。

```
customView.frame = cell.frame;
[cell.contentView addSubview:customView]; 
```

我的问题是，由于单元格的高度不同（在 heightForRowAtIndexPath 中解决）......特定单元格中的特定自定义视图正在更改其框架，在主动画期间有效地将标签垂直向下移动几个像素。

当我展示 tableview 时，我希望他们已经在他们的位置上。~

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:37:15.707

您需要使用单元格的 autoresizingMask 属性，或者：

您可以创建一个自定义表格视图单元格，添加这些视图，并在单元格的 layoutSubviews 中进行处理。

# coldfusion - 调用动态方法名（来自字符串的方法名）

> ID：16146682
> 
> 赞同：1
> 
> 时间：2013-04-22T12:03:52.533
> 
> 标签：coldfusion, cfml, openbd

如果我有

```
<cfset methodName = "a">
<cfset object = createObject(...)> 
```

如何调用`methodName`从组件命名的函数`object`。我会期待一些类似的东西

```
<cfset object[methodName]()> 
```

就像在 JS 中一样，但这似乎不起作用。我知道我可以使用 a `cfinvoke`，但是我认为我不需要深入研究我不想使用该标签的原因（现在将其用作临时修复）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:14:02.880

`cfinvoke`Adobe ColdFusion 10+ 中也有`invoke()`基于脚本的代码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T16:42:59.393

您可以将未知/动态方法设置为对象中的显式键并从该键执行它：

```
<cfset methodName = "a">
<cfset object = createObject(...)>
<cfset object.doMethod = object[methodName]>
<cfset object.doMethod()> 
```

仍然不是很优雅，但它避免了`<cfinvoke>`and `evaluate()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T13:45:40.793

这很笨拙，但是，您始终可以将代码行写入 .cfm 文件，然后 cfinclude 它。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-22T12:13:15.233

`cfinvoke`或`evaluate('object.#a#()')`（确保您可以信任 a）

# java - 构造函数调用可重写方法（延迟调用）

> ID：16146689
> 
> 赞同：1
> 
> 时间：2013-04-22T12:04:22.573
> 
> 标签：java, constructor, callback, overriding

我在正常情况下理解此警告，例如：

```
class Test {
  public Test() {
    hello();
  }
  public void hello() {}
} 
```

但是如果我们有类似的东西怎么办：

```
class Test {
  public Test() { 
    // Put the call on a queue that will be executed later
    queue.submit( new Runnable() { 
      public void run() {
        hello();
      }
    });
  }
  public void hello() {}
} 
```

对 hello() 的调用不会立即发生。即使在子类准备好构造后很长时间执行回调的情况下，这仍然很糟糕/有风险吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:13:49.673

> 即使在子类准备好构造后很长时间执行回调的情况下，这仍然很糟糕/有风险吗

是的，它仍然有风险。构造函数调用*不是*原子的，因此如果您在另一个线程中执行此操作，则推迟从构造函数调用实例方法同样安全，因为您无法保证在（最终）调用线程时对象将被完全构造。

现在，***假设***，如果子类对象完全构造（强调 if），那么是的，未来的回调将是安全的。换句话说，它不会绕过部分构造的对象，与其访问它一样危险。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:16:55.393

我会说是的，这是有风险的，因为您在`Test`对象完全构造之前将其暴露给第二个线程。

如果您需要`Test`通过确保`hello`被调用来控制实例的初始化，请考虑使用工厂方法进行实例化。将它与私有构造函数结合起来，您可以保证在所有对象`hello`上安全地调用：`Test`

```
public Test {
    /**
     * Factory method to create Test instances and safely call public method
     */
    public static Test getInstance() {
        Test test = new Test();
        test.hello();
        return test;
    }

    /**
     * Private constructor to control Test object creation.
     */
    private Test() {
      super();
    }

    public void hello() {
    }
} 
```

# entity-framework-5 - 使用两个外键生成表时出错

> ID：16146692
> 
> 赞同：4
> 
> 时间：2013-04-22T12:04:24.810
> 
> 标签：entity-framework-5, code-first

我正在尝试使用 EF5 Code First 生成数据库。这是我的`SmartCodeRights`表域类：

```
public class SmartCodeRight
{
    [Key, Column(Order = 1)]
    public long UserId { get; set; }
    public virtual User User { get; set; }

    [Key, Column(Order = 2)]
    public long CodeId { get; set; }
    public virtual SmartCode Code { get; set; }

    public CodeRight CodeRight { get; set; }
} 
```

`User`这个表只是为了促进和之间的多对多关系`SmartCode`。

这是我的`Code`表的域类的一部分：

```
public class Code
{
    // ...
    [ForeignKey("User")]
    public long? UserId{get; set;}
    public Virtual User User{get; set;}
    // ...
} 
```

`CodeRight`是一个`enum`。

应用这两个约束：

```
ALTER TABLE [dbo].[SmartCodeRights] 
ADD CONSTRAINT [FK_dbo.SmartCodeRights_dbo.Users_UserId] 
FOREIGN KEY ([UserId]) 
REFERENCES [dbo].[Users] ([UserId]) 
ON DELETE CASCADE

ALTER TABLE [dbo].[SmartCodeRights] 
ADD CONSTRAINT [FK_dbo.SmartCodeRights_dbo.SmartCodes_CodeId] 
FOREIGN KEY ([CodeId]) 
REFERENCES [dbo].[SmartCodes] ([CodeId]) 
ON DELETE CASCADE 
```

导致以下错误：

`System.Data.SqlClient.SqlException (0x80131904):``FK_dbo.SmartCodeRights_dbo.SmartCodes_CodeId`对表 引入 FOREIGN KEY 约束`SmartCodeRights`可能会导致循环或多个级联路径。指定 ON DELETE NO ACTION 或 ON UPDATE NO ACTION，或修改其他 FOREIGN KEY 约束。无法创建约束。请参阅以前的错误。

我做错了什么，实现这一目标的正确方法是什么？优先使用`CodeFirst` `Data Annotations`.

# intellij-idea - 只需按一下按钮，是否可以在 IntelliJ 中运行多个应用程序？

> ID：16146696
> 
> 赞同：83
> 
> 时间：2013-04-22T12:04:39.027
> 
> 标签：intellij-idea

有没有办法一键运行多个应用程序？

比如说，我有*AppA*、*AppB*和*AppC*（它们都在 java 中）。有没有办法让他们只需按下一个按钮就可以按某种顺序运行所有 3 个？

为 10 个应用程序点击“运行”按钮有点乏味。我假设一个脚本或插件？

* * *

## 回答 #1

> 赞同：136
> 
> 时间：2016-03-02T17:11:40.643

我认为这从版本 15 开始就成为可能。您只需创建一个“复合”类型的运行/调试配置，然后选择要运行的配置，因此：

0.  确保您之前已为要运行的各种应用程序（或其他运行配置）设置了运行配置。
1.  点击“运行”菜单
2.  单击“编辑配置”
3.  单击绿色的“+”图标（窗口左上角）
4.  点击“复合”
5.  在右侧窗格中，为您的组输入一个有意义的名称，然后单击绿色的“+”图标（右侧窗格中的那个，而不是窗口左上角的那个）
6.  选择一种运行配置
7.  重复 5 和 6 以单击一次即可运行的所有配置
8.  点击确定
9.  在菜单栏的下拉列表中选择您新创建的复合配置
10.  点击运行按钮（请注意，您似乎无法在调试模式下启动所有应用程序，如果您想这样做，则需要单独执行）
11.  一个接一个地观看所有应用程序的启动。陶醉于您新发现的空闲时间

### 2个缺点：

1.  正如 CashIsClay 在下面指出的那样，您无法明确更改配置运行的顺序；它们按字母顺序运行。我不确定这是一个很大的限制，但我希望我的应用程序能够以任何顺序启动，以便在生产环境中恢复。当然，一个不可怕的解决方法是将您的运行配置命名为：'1\. 福'; '2。Bar'，如果 Foo 在 Bar 启动之前运行是必不可少的。
2.  您只能以“运行”模式启动，不能以“调试”模式启动。

其他答案提到了 Multirun 插件，它可能提供比 IntelliJ 的本机选项更多的功能。我没有使用它，但它可能值得一看。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2013-12-31T12:54:40.237

IDEA似乎有一个[Multirun 插件](http://plugins.jetbrains.com/plugin/7248)：

> 允许一次运行多个运行配置：将多个运行配置分组并单击启动它们。不仅可以对应用程序和测试运行配置进行分组，而且可以将其他 Multirun 配置组织到单个运行配置中。

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2018-12-20T09:23:00.310

在 IntelliJ IDEA 2018.3（社区版）版本中，可以这样做：`Run`-> `Edit Configurations...`-> Checked `Allow running in parallel`，然后可以启动多个主类。

* * *

## 回答 #4

> 赞同：14
> 
> 时间：2019-11-21T11:48:12.840

您可以对项目进行分组，转到“编辑配置...”

[![在此处输入图像描述](https://i.stack.imgur.com/8oazX.png)](https://i.stack.imgur.com/8oazX.png)

将打开以下屏幕，在“应用程序”下配置您的设置

[![在此处输入图像描述](https://i.stack.imgur.com/amfMM.png)](https://i.stack.imgur.com/amfMM.png)

一旦你创建了一个“复合”

[![在此处输入图像描述](https://i.stack.imgur.com/LQ71x.png)](https://i.stack.imgur.com/LQ71x.png)

并把“复合”你的设置

[![在此处输入图像描述](https://i.stack.imgur.com/9O66Z.png)](https://i.stack.imgur.com/9O66Z.png)

完成，只需运行“复合”

[![在此处输入图像描述](https://i.stack.imgur.com/FJDaG.png)](https://i.stack.imgur.com/FJDaG.png)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-04-22T13:46:59.377

还没有这样的功能，请投票：

*   [IDEA-94341 一次](http://youtrack.jetbrains.com/issue/IDEA-94341)启动多个“运行/调试配置”

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-11-06T00:37:40.233

编辑运行配置，选中*允许并行运行*复选框。

* * *

## 回答 #7

> 赞同：-4
> 
> 时间：2020-09-04T10:45:41.807

选择书面程序（java/Scala）->右键单击->编辑->选择允许并行运行复选框[在此处输入图像描述](https://i.stack.imgur.com/BG8Ww.png)

# android - Urban Airship - Push Sample => APID 每次都为空

> ID：16146698
> 
> 赞同：4
> 
> 时间：2013-04-22T12:04:53.237
> 
> 标签：android, push, sample, urbanairship.com

我是 android 新手，想使用`UrbanAirship`.
我下载了示例项目并测试了推送示例项目，我只是更改`developmentAppKey`了`developmentAppSecret`. `MyApplication.java`该应用程序可以正常启动并且运行时不会崩溃，但是要发送推送消息，我需要注册一个 APID，但我不知道如何。

此外，我得到以下日志，我认为 APID 不应该为空：

```
04-22 10:17:50.716: I/Push Sample - UALib(2843): My Application onCreate - App APID: null 
```

我得到这个错误：

```
04-22 11:58:49.763: E/Push Sample - UALib(916): com.google.android.c2dm.permission.RECEIVE is unknown to PackageManager. Note that an AVD emulator may not support GCM. 
```

我发现有人遇到同样的问题，但他没有得到有用的答案： https: [//support.urbanairship.com/customer/portal/questions/59269-android-pushsample-null-apid-missing-permission-that -真的在那里-](https://support.urbanairship.com/customer/portal/questions/59269-android-pushsample-null-apid-missing-permission-that-is-really-there-)

任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-10T10:34:35.090

我也遇到了类似的问题。您应该仔细检查您的谷歌帐户数据。我使用的旧密码实际上不是最新的。设置新的 PW 后，它对我非常有用。

# typo3 - 在前端显示带有typo3流体的外国列

> ID：16146699
> 
> 赞同：1
> 
> 时间：2013-04-22T12:04:55.887
> 
> 标签：typo3, extbase, typo3-flow

我的表Person有名称列和Position表中的外键列，那么如何显示我的表Position对应于当前Person的标签并保存它。

```
table Person                          Position
uid name position(foreign key)        uid label_position 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T13:30:13.077

这是1：1的关系吗？您可以使用 {person.position.label_position}

# java - 监视/轮询 FTP 位置

> ID：16146707
> 
> 赞同：2
> 
> 时间：2013-04-22T12:05:08.153
> 
> 标签：java, svn, ftp, monitoring, polling

任何人都可以建议在 JAVA 中使用开源库来监控 FTP 位置更改吗？我正在尝试监视 FTP 位置的更改，一旦检测到更改，更改的文件将被复制到 SVN 位置以进行提交。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-10-06T11:35:57.967

Java的**远程目录轮询器**(rdp4j) 库可以帮助您轮询 FTP 位置并通知您事件（例如在目录中添加/修改/删除文件）。有关以下快速教程的实现，请参阅[用户指南：](https://github.com/drapostolos/rdp4j/wiki/User-Guide)`FtpDirectory``MyListener`

```
package example

import java.util.concurrent.TimeUnit;
import com.github.drapostolos.rdp4j.DirectoryPoller;
import com.github.drapostolos.rdp4j.spi.PolledDirectory;

public class FtpExample {

    public static void main(String[] args) throws Exception {
        String host = "ftp.mozilla.org";
        String workingDirectory = "pub/addons";
        String username = "anonymous";
        String password = "anonymous";
        PolledDirectory polledDirectory = new FtpDirectory(host, workingDirectory, username, password);

        DirectoryPoller dp = DirectoryPoller.newBuilder()
        .addPolledDirectory(polledDirectory)
        .addListener(new MyListener())
        .setPollingInterval(10, TimeUnit.MINUTES)
        .start();

        TimeUnit.HOURS.sleep(2);

        dp.stop();
    }
} 
```

# sql - 是否可以找出谁调用了 SQL Server 2005 中的存储过程

> ID：16146715
> 
> 赞同：5
> 
> 时间：2013-04-22T12:05:23.093
> 
> 标签：sql, sql-server, sql-server-2005

是否可以找出谁调用了存储过程？我正在使用以下查询来确定执行计数等，但我无法确定哪个作业/触发器/进程正在调用它。请问有什么想法吗？

```
SELECT  
    a.execution_count, OBJECT_NAME(objectid) Name,
    (CASE WHEN a.statement_end_offset = -1 
             THEN LEN(CONVERT(nvarchar(max), b.text)) * 2
             ELSE a.statement_end_offset
     END - a.statement_start_offset) / 2),
    b.dbid, dbname = db_name(b.dbid), b.objectid,
    a.creation_time, a.last_execution_time, a.* 
FROM  
    sys.dm_exec_query_stats a 
CROSS APPLY 
    sys.dm_exec_sql_text(a.sql_handle) AS b
WHERE 
    OBJECT_NAME(objectid) = 'Rebuild_Indexes' 
ORDER BY 
    a.last_execution_time
ESCquery_text = SUBSTRING(b.text,a.statement_start_offset/2, 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:55:48.080

如果您想查看谁在执行存储过程，一种方法是创建服务器端 Trace 并捕获`SP:Completed`事件。此事件类提供的数据将为您提供所需的所有调用者信息。

参考：关于[事件类](http://msdn.microsoft.com/en-us/library/ms188675.aspx)[的 BOL 文档`SP:Completed`](http://msdn.microsoft.com/en-us/library/ms188675.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T15:38:54.630

使用 Adam Machanic 的[Who is Active](http://whoisactive.com)存储过程 - 这将返回有关活动语句的各种信息，包括启动它们的用户。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-22T12:55:56.717

好吧，如果您启动 SQL 探查器，它会显示 NT 用户的网络 ID，如果这是偶尔使用，我建议您在服务器上运行跟踪探查器。或者，如果您不使用简单恢复模式，那么答案将在事务日志备份中。然而，这并不容易分析或阅读。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-22T18:36:56.470

将选项与[动态管理视图](http://msdn.microsoft.com/en-us/library/ms188068%28v=sql.90%29.aspx)一起使用。DMV 提供了一个简单而熟悉的关系接口，用于从 SQL Server 收集关键系统信息。

```
SELECT DB_NAME(der.database_id) AS databaseName,
       OBJECT_NAME(objectid),
       der.session_id,
       login_name,
       USER_NAME(der.user_id) AS user_name,
       der.command,
       dest.text AS [CommandText],
       des.login_time,
       des.[host_name],
       dec.client_net_address,
       des.[program_name],       
       der.status
FROM sys.dm_exec_requests der
  INNER JOIN sys.dm_exec_connections dec ON der.session_id = dec.session_id
  INNER JOIN sys.dm_exec_sessions des ON der.session_id = des.session_id
  CROSS APPLY sys.dm_exec_sql_text (sql_handle) AS dest
WHERE des.is_user_process = 1 
  --AND OBJECT_NAME(objectid) = 'Rebuild_Indexes' 
```

# php - 如何使用正则表达式拆分字符串

> ID：16146717
> 
> 赞同：-3
> 
> 时间：2013-04-22T12:05:29.650
> 
> 标签：php, regex

我有以下字符串：

```
Str="   $str='The requirements of this chapter apply to the following:
              (a) New buildings or portions thereof used as health care occupancies (see 1.4.1) (b) Additions made to, or used as, a health care occupancy (see 4.6.6 and 18.1.1.4) Exception: The requirement of 18.1.1.1.1 shall not apply to additions classified as occupancies other than health care that are separated from the health care occupancy in accordance with 18.1.2.1(2) and conform to the requirements for the specific occupancy in accordance with Chapters 12 through 17 and Chapters 20 through 42, as appropriate. (c) Alterations, modernizations, or renovations of existing health care occupancies (see 4.6.7 and 18.1.1.4) (d) Existing buildings or portions thereof upon change of occupancy to a health care occupancy (see 4.6.11) Exception*: Facilities where the authority having jurisdiction has determined equivalent safety has been provided in accordance with Section 1.5.';
       "; 
```

但我想要的输出是这样的：-

```
 $str='The requirements of this chapter apply to the following:
(a) New buildings or portions thereof used as health care occupancies (see 1.4.1) 

(b) Additions made to, or used as, a health care occupancy (see 4.6.6 and 18.1.1.4) Exception: The requirement of 18.1.1.1.1 shall not apply to additions classified as occupancies other than health care that are separated from the health care occupancy in accordance with 18.1.2.1(2) and conform to the requirements for the specific occupancy in accordance with Chapters 12 through 17 and Chapters 20 through 42, as appropriate.

 (c) Alterations, modernizations, or renovations of existing health care occupancies (see 4.6.7 and 18.1.1.4) 

(d) Existing buildings or portions thereof upon change of occupancy to a health care occupancy (see 4.6.11) Exception*: Facilities where the authority having jurisdiction has determined equivalent safety has been provided in accordance with Section 1.5.'; 
```

我想拆分条件（az）。如何使用正则表达式来做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:14:08.773

对于一组字符，您可以分别使用小写`[a-z]`和`[A-Z]`大写字母。您需要的不仅仅是字母，而是拆分`(<letter>)`（包括括号）。为此，您可能需要`\([a-z]\)`（即转义括号，因为它们是分隔表达式组的所谓元字符）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:23:23.887

你可以使用这个正则表达式：

```
 str = "The requirements of this chapter apply to the following:(a)hello (b)asdadsdsa (c)asdadssad";
 $str = str.replace(/(\([a-z]+\))/ig, "<br/>$1");
 /*
 $str's value now is:
 The requirements of this chapter apply to the following:
 <br/>(a)hello 
 <br/>(b)asdadsdsa 
 <br/>(c)asdadssad
 */ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:27:11.257

不完全确定你想要什么，但使用正则表达式替换应该让你开始：

```
$str.replace(/(\([a-z]+\))/ig, '\n$1'); 
```

# jquery - 在 Select2 中删除标签时，Selectbox 的宽度会缩小

> ID：16146718
> 
> 赞同：5
> 
> 时间：2013-04-22T12:05:31.273
> 
> 标签：jquery, select, width, jquery-select2

我使用 Select2 来制作一个标签框。我添加了以下html代码：

```
<select id="tags" multiple="">
    <option value="tag_1">Tag1</option>
    <option value="tag_2">Tag2</option>
    <option value="tag_3">Tag3</option>
</select> 
```

我使用了这个 JS：

```
$(document).ready(function() {
    $("#tags").select2({
        placeholder: "Select tag",
        allowClear: true,
        minimumInputLength: 2,
        maximumSelectionSize: 1,
    });
}); 
```

问题是：文本框在首次加载时具有正常宽度。插入标签后，它将正确显示。但是，如果我单击退格键或单击标记的 x 将其删除，则文本框的宽度会缩小到 5px 左右。我究竟做错了什么？我也使用 twitter 引导程序，是否有一些依赖？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-07-16T22:06:53.103

这是一个简单的修复。只需将您的代码更改为：

```
$(document).ready(function() {
    $("#tags").select2({
        placeholder: "Select tag",
        allowClear: true,
        minimumInputLength: 2,
        maximumSelectionSize: 1,
        width: '100%',
    });
}); 
```

您还可以通过添加以下属性来设置自定义 CSS：

```
containerCssClass: 'mySpecialClass' 
```

然后分配一些自定义 CSS 来处理宽度。

```
.mySpecialClass {
    width: 100%;
} 
```

其中任何一个都可以！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-05T15:26:28.027

有同样的问题，但仅限于 Bootstrap。我发现这行得通。这些是我发现由 Select2 生成的类。

```
#s2id_groupSelect, .select2-input, .select2-container, .select2-search-field, .select2-choices {
width: 358px;
} 
```

将宽度设置为您需要的任何值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-29T08:38:52.207

尝试将`width`选项添加到 select2 初始化代码。

```
$("#tags").select2({ width: '100%' }); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-01-25T19:58:09.723

我有同样的问题，我从谷歌搜索了更多我没有找到正确的解决方案，经过今天的一些尝试，我解决了我的问题。WordPress管理文件夹中`.menu ul`菜单中的问题`load-styles.php`

下面的代码减少了`input`选择框中的文本字段以适应选择框，并且在删除标签后不缩小。

试试这对我来说是正确的

```
.menu ul {
    width: 97%;
} 
```

# java - 即使服务器已关闭，在每 2 个月的第一天安排一个进程的最佳方法

> ID：16146721
> 
> 赞同：0
> 
> 时间：2013-04-22T12:05:47.173
> 
> 标签：java, spring, quartz-scheduler, crontrigger

我有一个简单的任务：我需要在每 2 个月的第一天运行一个进程，即使服务器已关闭如果服务器不会关闭 - 任务很简单：

```
ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();
CronTrigger trigger = new CronTrigger("0 0 1 1 */2 ?");
scheduler.schedule(new Runnable() {
    @Override
    public void run() {
        // do the job
        job();
    }
}, trigger); 
```

但是如果服务器宕机而我一个月前开始工作怎么办？在这种情况下，我想在下月初执行我的工作。我上次执行作业时决定存储在数据库中：

```
private void job() {
// Store when the job was executed the last time
} 
```

现在，当我的服务器启动时，我需要再次启动触发器，但不是立即启动。我可以轻松计算何时要启动触发器，但不幸的是我在`ThreadPoolTaskScheduler`. 有一个功能允许在开始时定期运行任务： `public ScheduledFuture scheduleAtFixedRate(Runnable task, Date startTime, long period)`

不幸的是，ThreadPoolTask​​Scheduler 不支持 `public ScheduledFuture schedule(Runnable task, Date startTime, Trigger trigger)` 我使用额外的 scheduler.execute 实现了该功能，但问题是是否可以使用一个计划来实现。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:16:38.227

您可以使用[java.util.Timer](http://docs.oracle.com/javase/6/docs/api/java/util/Timer.html)来执行此操作，并在 TimerTask 实现中安排下一个 TimerTask。

如果必须正好是两个月，您应该在 TimerTask 启动时安排另一个 TimerTask，否则您可以在 TimerTask 结束时安排它。

# php - 登录 cakephp 时活动/非活动检查不起作用

> ID：16146723
> 
> 赞同：0
> 
> 时间：2013-04-22T12:05:49.910
> 
> 标签：php, cakephp, authentication

我的蛋糕 php 应用程序有一个带有活动字段数据类型 enum(1,0) 的用户表

我想禁止非活动用户登录我的应用程序。为此，我在我的 Appcontroller.php 中添加了这段代码

```
 public $components = array('Acl', 'Session',
      'Auth' => array('authorize' => array('Controller'),
          'loginRedirect' => array('controller' => 'users', 'action' => 'index'),
          'logoutRedirect' => array('controller' => 'users', 'action' => 'login'),
          'Form' => array('userModel' => 'User'),
          'all' => array('scope' => array('User.active' => 1)))
  ); 
```

我的用户模型是用户

但这允许活跃用户也登录到应用程序。

我究竟做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:39:53.580

请检查您的阵列，这是错误的评估

检查下面的数组，它会为你工作

```
public $components = array(
'Auth' => array(
    'loginAction' => array(
        'controller'    => 'users',
        'action'        => 'login'
    ),
    'authError' => 'Je hebt geen toegang tot dit gedeelte',
    'authenticate' => array(
        'Form' => array(
            'fields' => array('username' => 'email'),
            'scope' => array('is_admin' => '1')
        ),

    )
),
'Session' 
```

);

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:19:07.560

每当我在 CakePHP 中处理枚举时，它们的值总是一个字符串。因此，我认为您遇到的问题`1`是不等于`'1'`.

对于您的活动字段，请尝试使用`BOOLEAN`同义词的数据类型`TINYINT(1)`。然后，您应该在`Auth`组件配置中写入：

```
public $components = array('Acl', 'Session',
    'Auth' => array('authorize' => array('Controller'),
    'loginRedirect' => array('controller' => 'users', 'action' => 'index'),
    'logoutRedirect' => array('controller' => 'users', 'action' => 'login'),
    'Form' => array('userModel' => 'User'),
    'all' => array('scope' => array('User.active' => true)))
); 
```

从语义上讲，我觉得这更有意义。

# google-app-engine - 如何提供 Blobstorage 图像的大型 zip 文件？

> ID：16146725
> 
> 赞同：1
> 
> 时间：2013-04-22T12:05:52.020
> 
> 标签：google-app-engine, go, blobstore

我想提供一个动态 zip 文件，其中包含存储在 blobstorage 中的多个用户上传的图像

我使用以下代码成功完成了此操作，但遇到了 Appengine 实例因消耗过多内存而被终止的问题。

是否可以通过将此类 zip 文件直接流式传输到客户端而不将它们保存在内存中来提供此类 zip 文件？还有其他解决方案吗？

```
w.Header().Set("Content-Type", "application/zip")
w.Header().Set("Content-Disposition", "attachment;filename=photos.zip")

writer := zip.NewWriter(w)

defer writer.Close()

for _, key := range l.Files {
    info, err := blobstore.Stat(c, appengine.BlobKey(key))

    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return  
    }

    wr, err := writer.Create(info.Filename)

    if err != nil {
        http.Error(w, err.Error(), http.StatusInternalServerError)
        return  
    }

    reader := blobstore.NewReader(c, appengine.BlobKey(key))

    io.Copy(wr, reader)
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:50:44.463

您可能应该在 blobstore 中创建 zip 文件，然后从那里提供它：

*   [使用blobstore.Writer](https://developers.google.com/appengine/docs/go/blobstore/reference#Writer.Key)在 blobstore 中创建 zip
*   [使用blobstore.Send](https://developers.google.com/appengine/docs/go/blobstore/overview#Serving_a_Blob)提供 zip

这样，您还可以加快对相同 zip/bundle 的后续请求，因为您已经创建/存储了它。

# tfs - TFS 2012 - 代码审查 - 审查者姓名不在允许的审查者列表中

> ID：16146727
> 
> 赞同：7
> 
> 时间：2013-04-22T12:05:54.740
> 
> 标签：tfs, tfs-code-review

我想使用 TFS 2012 代码审查模板。我正在使用 vS2012 在线 TFS 工作区，我在其中创建了 5 个用户。从 VS2012 开始，我正在尝试添加审阅者来审阅我的代码，它显示错误，例如“审阅者名称不在允许的审阅者列表中”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-30T22:40:44.357

您需要转到您的团队项目并将一些用户添加到您的团队。如果您首先选择您的团队项目 \ 团队，您会注意到右侧有一个“成员 (0)”。如果单击该标题下的“管理所有成员”，则可以将任意数量的 Windows 或 Microsoft Id 用户添加到该列表中。

![将用户添加到团队](https://i.stack.imgur.com/4hBzf.png)

现在您已将用户添加到团队中，如果您还在 Visual Studio 中选择该团队，您将能够选择任何这些用户进行审核。该列表实际上是对通过使用上述过程授予的团队项目具有“贡献者”权限的所有用户。

如果您在设置和配置团队时遇到问题，我[在 Team Foundation Server 2013 中的建模团队](http://nakedalm.com/modelling-teams-in-team-foundation-server-2013/ "Team Foundation Server 2013 中的团队建模")上创建了一个帖子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-10-02T03:38:21.073

在解决这个问题几周后，我发现我必须在我的 Visual Studio 上进行硬清除缓存。之后，它向我展示了正确的审稿人名单。

我通过这个论坛帖子发现：[https ://developercommunityapi.westus.cloudapp.azure.com/content/problem/1145784/reviewer-name-is-not-in-the-list-of-allowed-review-1 .html](https://developercommunityapi.westus.cloudapp.azure.com/content/problem/1145784/reviewer-name-is-not-in-the-list-of-allowed-review-1.html)

以下是清除 VS 缓存的方法（我必须执行所有步骤）： [https ://errorhandlinginskills.wordpress.com/2018/07/28/how-to-clear-visual-studio-cache/](https://errorhandlinginskills.wordpress.com/2018/07/28/how-to-clear-visual-studio-cache/)

# oracle - Oracle 10 中的嵌套 cos() 计算

> ID：16146728
> 
> 赞同：6
> 
> 时间：2013-04-22T12:05:57.663
> 
> 标签：oracle, oracle10g, recursive-query

我有一些正整数的表

```
n
----
1
2
5
10 
```

对于该表的每一行，我希望**通过 SQL 语句**计算值`cos(cos(...cos(0)..))`（应用 n 次） （不允许使用 PL/SQL 存储过程和函数）： `cos`

 **```
n   coscos
--- --------
1   1
2   0.540302305868
5   0.793480358743
10  0.731404042423 
```

我[可以](http://www.sqlfiddle.com/#!4/d039c/1)在 Oracle 11g 中使用递归查询来做到这一点。
是否可以在 Oracle 10g 中做同样的事情？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-23T05:04:05.723

该[`MODEL`](http://docs.oracle.com/cd/E11882_01/server.112/e25554/sqlmodel.htm#g1042989)子句可以解决这个问题：

**测试数据：**

```
create table test1(n number unique);
insert into test1 select * from table(sys.odcinumberlist(1,2,5,10));
commit; 
```

**询问：**

```
--The last row for each N has the final coscos value.
select n, coscos
from
(
    --Set each value to the cos() of the previous value.
    select * from
    (
        --Each value of N has N rows, with value rownumber from 1 to N.
        select n, rownumber
        from
        (
            --Maximum number of rows needed (the largest number in the table)
            select level rownumber
            from dual
            connect by level <= (select max(n) from test1)
        ) max_rows
        cross join test1
        where max_rows.rownumber <= test1.n
        order by n, rownumber
    ) n_to_rows
    model
    partition by (n)
    dimension by (rownumber)
    measures (0 as coscos)
    (
        coscos[1] = cos(0),
        coscos[rownumber > 1] = cos(coscos[cv(rownumber)-1])
    )
)
where n = rownumber
order by n; 
```

**结果：**

```
N   COSCOS
1   1
2   0.54030230586814
5   0.793480358742566
10  0.73140404242251 
```

**让圣战开始吧：**

这个查询是个好主意吗？我不会在生产中运行这个查询，但希望它是一个有用的演示，任何问题都可以用 SQL 解决。

我已经看到实际上浪费了数千个小时，因为人们害怕使用 SQL。如果您大量使用数据库，那么不使用 SQL 作为您的主要编程语言是愚蠢的。偶尔花几个小时来测试一下 SQL 的极限是很好的。为了避免感染许多数据库程序员的灾难性的逐行处理思维方式，一些奇怪的查询是一个很小的代价。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-09-20T18:37:37.217

使用 [`WITH FUNCTION`](https://oracle-base.com/articles/12c/with-clause-enhancements-12cr1)（Oracle 12c）：

```
WITH FUNCTION coscos(n INT) RETURN NUMBER IS
BEGIN
   IF n > 1 
     THEN RETURN cos(coscos(n-1));
     ELSE RETURN cos(0);   
   END IF;
END;
SELECT n, coscos(n)
FROM t; 
```

**[db<>小提琴演示](https://dbfiddle.uk/?rdbms=oracle_18&fiddle=93db55e4ee046fff01c104a315f763ac)**

输出：

```
+-----+-------------------------------------------+
| N   |                 COSCOS(N)                 |
+-----+-------------------------------------------+
|  1  |                                         1 |
|  2  | .5403023058681397174009366074429766037354 |
|  5  |  .793480358742565591826054230990284002387 |
| 10  | .7314040424225098582924268769524825209688 |
+-----+-------------------------------------------+ 
```**

# ios - MKMapView 世界区域

> ID：16146732
> 
> 赞同：0
> 
> 时间：2013-04-22T12:06:14.423
> 
> 标签：ios, mkmapview, mapkit

我有一个 320 点宽度和 120 点高度的 MKMapview

我用这段代码在 mapview 上展示整个世界，

```
[self.mapView setCenterCoordinate:self.mapView.userLocation.coordinate zoomLevel:0 animated:NO]; 
```

但是 MKMapView SDK 在 iOS 5 和 iOS 6.1 中的行为不同

上图是 iOS 5 下图是 iOS 6.1

我总是想展示像顶级图像。如何在 iOS 6 及更高版本中修复它？

谢谢。

![上：iOS5 下：iOS6](https://i.stack.imgur.com/KZWok.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:35:53.367

Apple 现在在 ios6 中使用矢量图，之前它使用的是位图。此外，它已经开始使用自己的图块，而不是谷歌地图图块。您无法控制这种行为，因此您可以尝试使用 iOS 版 Google 地图。

为 ios5 和 ios6 集成谷歌地图将给出相同的结果......

[谷歌地图](https://developers.google.com/maps/documentation/ios/intro)

# android - 非活动类中的 findViewById(R.id.something)

> ID：16146733
> 
> 赞同：1
> 
> 时间：2013-04-22T12:06:16.080
> 
> 标签：android, android-layout, layout, user-interface

在我的活动中，我通过了一堆控件（输入字段），并创建了一个

```
for(ControlTemplate field: fieldMap.get(string))
{
    View view = field.getFieldControl(true, this);
    l.addView(view, new PredicateLayout.LayoutParams(2, 0));
} 
```

ControlTemplate 的 getFieldControl 包含一个 switch 语句，它应该返回不同类型的视图。

```
 case LABEL:                       
        view = new TextView(context);
        view.setLayoutParams(new ViewGroup.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT));
        ((TextView) view).setText(value);
  break; 
```

但是，我希望能够从 xml 定义创建视图，但这是不可能的，因为该类没有活动，因此它没有布局。我想做的是这样的：

```
case TEXTBOX:   
    view = (EditText) passedActivity.findViewById(R.id.edit_message);
break; 
```

其中passedActivity 是创建ControlField 类的活动。有没有办法将当前活动作为参数传递，或者只是它的布局资产？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:11:05.340

使用[LayoutInflater](http://developer.android.com/reference/android/view/LayoutInflater.html)加载布局资源

```
 LayoutInflater mInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

view = mInflater.inflate(R.layout.edit_message, parent, false); 
```

膨胀参数见[这个](http://developer.android.com/reference/android/view/LayoutInflater.html#inflate%28int,%20android.view.ViewGroup,%20boolean%29)

```
public View inflate (int resource, ViewGroup root, boolean attachToRoot) 
```

**参数**

```
resource 
```

要加载的 XML 布局资源的 ID（例如，R.layout.main_page）

```
 root 
```

作为生成层次结构的父级的可选视图（如果 attachToRoot 为 true），或者只是为返回的层次结构的根提供一组 LayoutParams 值的对象（如果 attachToRoot 为 false。）

```
attachToRoot 
```

膨胀的层次结构是否应该附加到根参数？如果为 false，则 root 仅用于为 XML 中的根视图创建正确的 LayoutParams 子类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:13:16.197

如果您将 Activity 中的上下文传递给您的其他类，则可以通过上下文获取所需的一切。您应该能够从上下文以及相关视图中获取 R。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:16:01.917

如果我正确理解您的问题，您需要将活动的上下文传递给 ControlTemplate 类。

例如我发送**这个**（当前上下文）。

```
adapter = new ChecklistBaseAdapter(this, checklistitems); 
```

调用我的基本适配器类时

```
public ChecklistBaseAdapter(Context context, ArrayList<Checklist> results) 
```

然后，我可以使用我的 ChecklistBaseAdapter 类引用对当前活动的更改控件。

希望能帮助到你

# c# - 通用扩展方法的编译器错误

> ID：16146740
> 
> 赞同：2
> 
> 时间：2013-04-22T12:06:39.827
> 
> 标签：c#, generics, extension-methods

我正在尝试编写编译器在运行时无法解析的通用扩展方法，尽管 Visual Studio 的智能感知确实找到了它。

编译器错误是`'SampleSolution.OtherGenericClass<SampleSolution.IGenericInterface<SampleSolution.ISimpleInterface>,SampleSolution.ISimpleInterface>' does not contain a definition for 'GenericExtensionMethod' and no extension method 'GenericExtensionMethod' accepting a first argument of type 'SampleSolution.OtherGenericClass<SampleSolution.IGenericInterface<SampleSolution.ISimpleInterface>,SampleSolution.ISimpleInterface>' could be found (are you missing a using directive or an assembly reference?)`

这是一些我能想出的最简单形式的示例代码，可以重现问题。我知道我可以添加`GenericExtensionMethod`，`IOtherGenericInterface`但我需要一个扩展方法，因为它需要在实现之外`IOtherGenericInterface`。

```
public interface ISimpleInterface
{

}

public interface IGenericInterface<T>
{

}

public class GenericClass<T> : IGenericInterface<T>
{

}

public interface IOtherGenericInterface<TGenericDerived>
{

}

public class OtherGenericClass<TGenericInterface, TSimpleInterface> : 
    IOtherGenericInterface<TGenericInterface>
    where TGenericInterface : IGenericInterface<TSimpleInterface>
{

}

public static class GenericExtensionMethods
{
    public static IOtherGenericInterface<TGenericInterface> 
        GenericExtensionMethod<TGenericInterface, TSimple>(
            this IOtherGenericInterface<TGenericInterface> expect)
        where TGenericInterface : IGenericInterface<TSimple>
    {
        return expect;
    }
}

class Program
{
    static void Main(string[] args)
    {
        var exp = new OtherGenericClass<IGenericInterface<ISimpleInterface>,
                                        ISimpleInterface>();

        //exp.GenericExtensionMethod(); // This doesn't compile
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:11:52.057

它没有足够的信息来明确地解析泛型类型参数；你将不得不使用：

```
exp.GenericExtensionMethod<IGenericInterface<ISimpleInterface>, ISimpleInterface>(); 
```

特别要注意的是，`where`约束在解析*后*得到验证——它们本身不参与解析——所以在解析过程中它只能推断出`TGenericInterface`.

# solr - Solr 查询以返回按“在集合中查找”排序的结果

> ID：16146743
> 
> 赞同：0
> 
> 时间：2013-04-22T12:06:55.820
> 
> 标签：solr, solr4

这是问题所在。

我有一个这样的 solr 查询：

例子：

```
post_id: ( 31234, 56756, 24352, 78465, 23424 ) 
```

我想订购它们，因为它们在查询中。

相当于这个的Mysql是：

```
ORDER BY FIND_IN_SET(post_id, '31234, 56756, 24352, 78465, 23424') 
```

我正在查看 Solr 排序文档、谷歌搜索等，但什么也没有。是否可以像这样在 Solr 中订购文章？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T13:07:49.007

如果您相应地增加您的文件，您只能获得这种订单。

例如`q=post_id:31234^5 post_id:56756^4 post_id:24352^3`......

# asp.net - 在经典 ASP 中跟踪请求处理时间

> ID：16146744
> 
> 赞同：1
> 
> 时间：2013-04-22T12:06:56.687
> 
> 标签：asp.net, performance, iis, iis-7, asp-classic

处理经典 ASP 应用程序的性能问题。

我想跟踪请求开始时间和请求结束时间，例如我们如何在 ASP.Net 应用程序的 global.asax.cs 文件的 BeginRequest 和 EndRequest 中执行此操作或使用一些 HTTPModule。

**有没有办法在 IIS 下运行的 asp 应用程序可以实现一样？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T17:28:01.167

您可以使用 vbScript 的`Timer()`函数获得近似值。此函数返回自 12:00 AM 以来的秒数和毫秒数。如果您真的想测量高性能操作，那么粒度还有待改进，但对于日常使用，我已经取得了一些成功。

你可以使用这样的函数：

```
Option Explicit

Dim startTime
Dim executionTime

startTime = Timer()
' Do some stuff here that takes a while....'
executionTime = Timer() - startTime

Response.Write "Execution time: " & executionTime 
```

# java - 在 IE8 上打印 AMCharts 图表

> ID：16146748
> 
> 赞同：1
> 
> 时间：2013-04-22T12:07:03.937
> 
> 标签：java, graph, internet-explorer-8, amcharts

我在从[AMCharts](http://amcharts.com)打印折线图时遇到问题。在我的页面上，图表是正确的，但是当我尝试打印它时，有些空格是空白的。例如，这张图片显示了我如何在我的页面上看到这张图片：

![图片](https://i.stack.imgur.com/WwlFE.png)

当我尝试打印它（CTRL + P）时，有些空格是空白的。看这张图：

![图片](https://i.stack.imgur.com/iLmAU.png)

该问题仅发生在 IE8 或更低版本中。在 IE9 和 IE10 中，当我进入兼容模式时会出现此问题。在其他浏览器中它工作正常。

我需要它在 IE8 中工作。我们有一些运行 Windows Server 2003 的终端服务器，无法更新 IE 的版本。使用另一个浏览器也是不可能的，因为我们需要多会话并且只有 IE 提供了这个选项。我们计划将我们的服务器升级到新版本的 Windows，但这需要一些时间，我正在寻找快速修复。

根据我的研究，amCharts 使用 SVG 构建图形。但是，在 IE8（或使用兼容模式的 IE9~IE10）中它使用 VML。

有没有办法让它与 IE8 一起工作？或者使用Java（系统中使用的语言）将生成的VML代码转换为Image？我进行了研究，但没有找到任何可以帮助我的东西。有什么办法可以让它在 IE8 中正常工作吗？

# netbeans-7 - 使用布尔值时 JavaDB 会抛出错误。为什么？

> ID：16146749
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:05.350
> 
> 标签：netbeans-7, java-7, javadb

这是我尝试在 JavaDB 中创建的表。

```
CREATE TABLE USER(
  userid INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1),
  displayName VARCHAR(20) not null,
  username VARCHAR(15) not null unique,
  password VARCHAR(15) not null,
  adminrole boolean default false,
  lastlogin timestamp default CURRENT TIMESTAMP
); 
```

我得到错误代码 -1，SQL 状态 42X01：语法错误：BOOLEAN。第 3 行，第 1 列

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-12T06:09:45.883

您必须使用 JavaDB 10.7 或更高版本，并将数据库升级到新版本。

# variables - 即使在代码中的任何地方都没有使用“&”，变量弹出窗口也会不断出现

> ID：16146751
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:06.810
> 
> 标签：variables, popup, toad

以下是我的 TOAD 的版本详细信息：

```
Oracle Database 11g Enterprise Edition Release 11.2.0.3.0 - 64bit Production
PL/SQL Release 11.2.0.3.0 - Production
CORE    11.2.0.3.0  Production
TNS for Linux: Version 11.2.0.3.0 - Production
NLSRTL Version 11.2.0.3.0 - Production 
```

根据我的理解，如果代码中有变量，则会弹出变量`&`。但是`&`我的代码中没有。

请让我知道是否有任何其他原因导致显示此弹出窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-12T19:07:16.670

它不一定是'&'，它也可能是一个？或 :1 种参数。

# wpf - 使用 DataTemplateSelector 一次显示 UserControl

> ID：16146754
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:20.620
> 
> 标签：wpf, c#-4.0, datatemplateselector

我有几个特定的​​用户控件来显示一些内容，例如简单的图像、WebControl，但还有两个复杂的特定自定义控件在画布上绘制。

现在我想使用 DataTemplateSelector 来处理不同的 UserControls。我实际上使用了这个[http://tech.pro/tutorial/807/wpf-tutorial-how-to-use-a-datatemplateselector](http://tech.pro/tutorial/807/wpf-tutorial-how-to-use-a-datatemplateselector)作为参考。

我更改了代码，以便表单在以下集合中动态加载 UserControls（根据文件扩展名）：

```
ObservableCollection<string> _pathCollection = new ObservableCollection<string>(); 
```

与引用的唯一区别是现在我想通过只显示一个控件来前后导航到下一个控件。我应该使用哪个控件而不是 ListView？

```
<Grid>
    <ListView ScrollViewer.CanContentScroll="False" 
              ItemsSource="{Binding ElementName=This, Path=PathCollection}" 
              ItemTemplateSelector="{StaticResource imgStringTemplateSelector}">
    </ListView>
 </Grid> 
```

我需要如何将它绑定到模板（等于上面的 ItemTemplateSelector）？WPF 对我来说仍然很新，我正在学习。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:22:02.630

使用内容控件。将当前项目绑定到 Content-property，将 DataTemplateSelector 绑定到 ContentTemplateSelector-property。

```
<ContentControl Content="{Binding Path=CurrentItem, Mode=OneWay}", ContentTemplateSelector="{StaticResource imgStringTemplateSelector}" /> 
```

您的 CurrentItem 应该是 DataContext 的 DependencyProperty 或 INotifyPropertyChanged 属性。当您更改 CurrentItem 时，ContentControl 将在 TemplateSelector 的帮助下自动更新模板。

# c++ - 使用函数调用 T(0) 和模板进行类型转换

> ID：16146755
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:23.493
> 
> 标签：c++, templates, casting

我有一个函数将“模拟域”转换为体素数组（3D 像素）。每个体素可以是 0 或 1，或者至少是`false`或`true`。由于域可以非常大，因为离散化步骤可以非常小，它需要非常大量的内存。

我使用我的体素数组使用 FFTW3 执行散射模拟（在这种情况下，如果函数可以在`double[2]`（FFTW3 已知的复杂类型，以便我可以执行就地变换）的数组上工作，那就太好了。但是当我使用我的体素数组执行“简单”操作（例如体积分数估计）我只希望我的数组是我可以使用的最小类型，所以布尔数组就可以了。

我在想类似以下的事情：

```
#include <iostream>
int N = 10 ;

template<typename T>
void voxelizator(T* & Voxels) {
    // N = total number of voxels, stored in a row-major 1D array
    if (Voxels==NULL) Voxels = new T[N] ; //
    for (int n = 0 ;  n < N ; n++) Voxels[n] = T(0) ;
    { // Code to voxelizate the space -- DUMB condition 
        for (int n = 0 ; n<N ; n++) if (n%2==0) Voxels[n] = T(1) ;
    }
}

int main()
{
    int * voxOfInt = NULL ;
    std::cout << "Array of int :" << std::endl ;
    voxelizator(voxOfInt) ;
    std::cout << "Done" << std::endl ;
    for (int n = 0 ; n < N ; n++)  std::cout << n << "\t" << voxOfInt[n] << std::endl ;
    delete[] voxOfInt ;

    bool * voxOfBool = NULL ;
    std::cout << "Array of boolean " << std::endl ;
    voxelizator(voxOfBool) ;
    std::cout << "Done" << std::endl ;
    for (int n = 0 ; n < N ; n++)  std::cout << n << "\t" << voxOfBool[n] << std::endl ;
    delete[] voxOfBool ;

} 
```

但是`ISO C++ forbids casting to an array type 'double[2]'`当我使用 double[2] 数组（来自 FFTW3 的复数）（或本例中的 int[2] 调用此函数时，会触发该错误：）

```
...    
typedef double complex [2]  ;
...
// in main {}

    complex * voxOfArray = NULL ;
    std::cout << "Array of an array " << std::endl ;
    voxelizator(voxOfArray) ; // It fails to call the T(0) at compile time, but i would be more than happy to explain g++ what is T(0) for int[2] ...
    std::cout << "Done" << std::endl ;
    for (int n = 0 ; n < N ; n++)  std::cout << n << "\t" << voxOfArray[n] << std::endl ;
    delete[] voxOfArray ; 
```

问题是：我在哪里可以给 g++ 类型转换的接收方：

*   当 T 为 double[2] 时，T(0) 到 {0,0} 和 T(1) 到 {1,0} ？
*   当 T 是布尔值时，T(0) 变为 FALSE，T(1) 变为 TRUE？

注意：一个类型的函数调用运算符对我来说似乎很奇怪，但我知道它可以与我已经使用的以下符号函数一起正常工作（请在此处插入狗做化学的图片并说“我不知道我“正在做”）

```
template <typename T> int sign(T value) {
    return (T(0) < value) - (value < T(O)) ; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:49:18.427

如果您使用的是 C++11：您可以使用如下辅助结构：

```
struct voxel_t {
    double val_[2];
    voxel_t() : val_{0.0, 0.0}{};
    explicit voxel_t(bool b): val_{double(b), 0.0}{};
};

template<typename T>
void voxelizator(T* Voxels) {
    // N = total number of voxels, stored in a row-major 1D array
    if (Voxels==NULL) Voxels = new T[N]{} ; // performs below initialization
    //for (int n = 0 ;  n < N ; n++) Voxels[n] = T(0) ;  // no longer needed
    { // Code to voxelizate the space 
        for (int n = 0 ; n<N ; n++) if (is_Matter(n)) Voxels[n] = T{true};
    }
} 
```

[ideone](http://ideone.com/4l84do)上的示例用法。

这解决了 double[2] 的情况，对于 bool，您不需要做任何特别的事情。

# javascript - 使用 OpenID 登录 yahoo 以获取多语言网站

> ID：16146757
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:44.100
> 
> 标签：javascript, asp.net, openid, socialauth

我正在为我的网站集成 yahoo 开放 ID。我的网站运行不同的语言（en、jp、cn 等）。当我尝试使用 yahoo opend ID 从英文网站登录时，它很好，但是当我从日文或中文网站尝试相同时，它不会将我重定向到 yahoo open id 登录。

每次我从 javascript 收到以下错误

> 错误：未声明纯文本文档的字符编码。如果文档包含 US-ASCII 范围之外的字符，则文档将在某些浏览器配置中呈现乱码。文件的字符编码需要在传输协议中声明或文件需要使用字节顺序标记作为编码签名。源文件： [http](http://uatstorefrontjpcr.mobi-book.com/ReturnFromSocial/LogOnYahoo) ://uatstorefrontjpcr.mobi-book.com/ReturnFromSocial/LogOnYahoo 线路：0

任何人都可以建议做什么。

为此，我使用了 SocialAuth-net.dll。我已经在 web.config 中设置了所有必需的包装器。Google 和 facebook 开放 ID 可以使用相同的编码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-07T03:40:13.517

您的 Web 服务器可能正在发回一个带有`Content-Type`. `text/plain`当 Web 浏览器收到具有该内容类型的响应时，它不知道应该使用什么编码来解码它；由于您还没有告诉它如何解码，因此不同的浏览器可能会选择不同的方式。

解决方案是提供显式编码。例如，如果您知道文本是 UTF-8 编码的，那么您可以在标头中提供它，如下所示：

```
Content-Type: text/plain; charset=UTF-8 
```

根据W3C[的信息页面](http://www.w3.org/International/O-HTTP-charset#scripting)，您可以让 ASP.Net 使用[`Response.ContentEncoding`](http://msdn.microsoft.com/en-us/library/system.web.httpresponse.contentencoding.aspx). 再次以 UTF-8 为例，您可以这样设置：

```
Response.ContentEncoding = Encoding.UTF8; 
```

# coffeescript - 咖啡脚本中的简单 for 循环不起作用

> ID：16146758
> 
> 赞同：1
> 
> 时间：2013-04-22T12:07:46.440
> 
> 标签：coffeescript

这可能是一个答案非常简单的问题，但我无法理解为什么这不起作用；

```
sort = (arr) ->
    word for word in arr
        if word is 'some word'
                console.log 'word present' 
```

我想要做的就是 console.log 是数组中存在一个单词，但我只是得到

```
Parse error on line 4: Unexpected 'INDENT' 
```

有人可以解释或提示我为什么这不起作用。谢谢 ：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:16:03.697

您的代码应如下所示。（仔细观察循环）：

```
sort = (arr) ->
    for word in arr
        if word is 'some word'
            console.log 'word present' 
```

或速记：

```
sort = (arr) ->
    for word in arr when word is 'some word'
        console.log 'word present' 
```

您尝试使用的语法是为了理解。

这是一个示例，您可以保存匹配的数组的每个元素的第一个字母：

```
sort = (arr) ->
    firstLetter = (word[0] for word in arr when word is 'some word') 
```

**编辑：**
结合上面的例子：

```
sort = (arr) ->
    console.log word for word in arr when word is 'some word' 
```

# oracle - 查询中的周计算

> ID：16146761
> 
> 赞同：0
> 
> 时间：2013-04-22T12:07:51.743
> 
> 标签：oracle, plsql, date-arithmetic

使用oracle数据库，表是这样的

```
id    sdate        offer
1   16-04-13       offer1
2   11-04-13       offer2
3   21-04-13       offer4
4   31-03-13       offer5
5   14-04-13       offer8
6   10-04-13       offer4
7   15-04-13       offer1 
```

我想将周数计算为 w1 w2 等等`sysdate`。例子：

*   对于`id=1`,`sdate`落在 16-04-13 所以它是`week1`。
*   对于`id=5`,`sdate`落在 14-04-13 所以它是`week2`

结果应该是这样的

```
id  week   offer
1    w1   offer1
5    w2   offer8
............. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:47:02.663

要将今天和前六天视为“第 1 周”，然后将之前的 7 天视为“第 2 周”，依此类推，请尝试以下操作：

```
SELECT
  id,
  'w' || TO_CHAR(TRUNC((TRUNC(SYSDATE) - sdate) / 7) + 1) as week,
  offer
FROM ... and so on 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T16:31:18.107

你也有一个格式。来自[OTN](https://forums.oracle.com/forums/thread.jspa?threadID=685308)

```
select to_char( date '2008-01-04', 'IW' ) from dual 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T13:44:14.613

One date minus another date gives their difference in days. Divide by seven to get difference in weeks. Use `floor()` to get rid of the remainder. Add 1 because you want to start at W1 not W0\.

```
select id
        , sdate
        , 'W'||trim(to_char(floor((sysdate - sdate)/7) + 1)) as wkno
from your_table
/ 
```

Note that `wkno` comes out as 'W1', 'W2', ... 'W10' which won't sort numerically. There are various workarounds, somne more obvious than opthers, if that's something which botehrs you.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:18:25.190

我认为您可以将功能[`TO_CHAR`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions200.htm#SQLRF06129)和结合起来[`DECODE`](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions049.htm#SQLRF00631)，例如：

```
sql> select decode(to_char(sdate, 'W'),
                   '1', 'w1',
                   '2', 'w2',
                   '3', 'w3',
                   '4', 'w4',
                   '5', 'w5')
       from table1; 
```

# ruby-on-rails - 黄瓜和机械师的参数错误

> ID：16146763
> 
> 赞同：2
> 
> 时间：2013-04-22T12:08:01.557
> 
> 标签：ruby-on-rails, cucumber, machinist

我正在使用 Cucumber Factory 并使其易于使用带有 Cucumber 的机械师，但我遇到了 ArgumentError。我的功能文件中导致问题的行是：

```
Given there is a tag 
```

在蓝图文件中，我将 Tag 定义为这个（不是最好的，一旦我通过 ArgumentError 就会得到改进）：

```
Tag.blueprint do
    name                { "tag" }   
    slug                { "slug" }
    uuid                { "uuid" }
end 
```

这是回溯：

```
cucumber_factory-1.8.4/lib/cucumber/factory.rb:24
  wrong number of arguments (2 for 1) (ArgumentError)
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.2.6/lib/active_record/attribute_assignment.rb:33:in `attributes='
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber_factory-1.8.4/lib/cucumber/factory.rb:124:in `create_record'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber_factory-1.8.4/lib/cucumber/factory.rb:79:in `parse_creation'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber_factory-1.8.4/lib/cucumber/factory.rb:24:in `block in <class:Factory>'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/core_ext/instance_exec.rb:48:in `instance_exec'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/core_ext/instance_exec.rb:48:in `block in cucumber_instance_exec'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/core_ext/instance_exec.rb:69:in `cucumber_run_with_backtrace_filtering'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/core_ext/instance_exec.rb:36:in `cucumber_instance_exec'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/rb_support/rb_step_definition.rb:97:in `invoke'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/step_match.rb:25:in `invoke'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/step_invocation.rb:60:in `invoke'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/step_invocation.rb:38:in `accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:99:in `block in visit_step'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:163:in `broadcast'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:98:in `visit_step'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/step_collection.rb:15:in `block in accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/step_collection.rb:14:in `each'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/step_collection.rb:14:in `accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:93:in `block in visit_steps'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:163:in `broadcast'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:92:in `visit_steps'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/background.rb:41:in `block in accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/background.rb:52:in `block in with_visitor'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/scenario.rb:105:in `with_visitor'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/background.rb:51:in `with_visitor'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/background.rb:38:in `accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:57:in `block in visit_background'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:163:in `broadcast'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:56:in `visit_background'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/feature.rb:41:in `accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:20:in `block in visit_feature'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:163:in `broadcast'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:19:in `visit_feature'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/features.rb:29:in `block in accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/features.rb:17:in `each'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/features.rb:17:in `each'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/features.rb:28:in `accept'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:14:in `block in visit_features'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:163:in `broadcast'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/ast/tree_walker.rb:13:in `visit_features'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/runtime.rb:47:in `run!'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/cli/main.rb:43:in `execute!'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/lib/cucumber/cli/main.rb:20:in `execute'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/gems/cucumber-1.2.5/bin/cucumber:14:in `<top (required)>'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/bin/cucumber:23:in `load'
  /Users/andreas/.rvm/gems/ruby-1.9.3-p194/bin/cucumber:23:in `<main>'
  features/api/v1/source/get_source.feature:7:in `And there is a tag' 
```

我正在使用 Ruby 1.9.3、Rails 3.2.6、Cucumber 1.2.5、Cucumber Rails 1.3.1、Cucumber Factory 1.8.4 和 Machinist 2.0。蓝图看起来不错，因为 Tag.make 在 rails 控制台中工作。

对于如何克服 ArgumentErrors 的任何想法，我将不胜感激！

# java - Gradle 依赖解析

> ID：16146765
> 
> 赞同：0
> 
> 时间：2013-04-22T12:08:22.920
> 
> 标签：java, jar, gradle, dependency-management

我对 gradle 如何解决我的依赖项有疑问。

我有四个存储库需要针对不同的 jar 进行调查，其中五个是 Maven 中心。因此，我在 gradle.build 中的 repo 语句如下所示：

```
repositories {

  maven {
    url 'urltoRepoA'
    artifactUrls mavenLocal()
  }
  maven {
    url 'urltoRepoB'
    artifactUrls mavenLocal()
  }
  maven {
    url 'urltoRepoC'
    artifactUrls mavenLocal()
  }
  maven {
    url 'urltoRepoD'
    artifactUrls mavenLocal()
  }

  mavenCentral()
} 
```

我想要实现的目标：在远程存储库和本地 maven 存储库中查找依赖项。

但是我在下面得到这个错误，这是一个应该从 repoA 解决的 jar（repoA 是 maven central 的镜像，我已经验证可以在那里找到这个 jar）

```
[16:43:10][Step 1/3] > Could not resolve all dependencies for configuration ':runtime'.
[16:43:10][Step 1/3]    > Artifact 'junit:junit:4.11@jar' not found. 
```

根据我在 gradles 手册中读到的内容，它试图解决来自同一个 repo 的所有依赖项。这就是我要跑到这里来的吗？还是我未能正确配置 gradle？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T13:14:13.013

我怀疑您的 gradle 配置中的其他地方有问题。我认为您误解了 gradle 如何解决工件。

根据[gradle docs](http://www.gradle.org/docs/current/userguide/artifact_dependencies_tutorial.html)（见第 8.5 节）

> 一个项目可以有多个存储库。Gradle 将按照指定的顺序在每个存储库中查找依赖项，并在包含所请求模块的第一个存储库处停止。

事实上，在一个 gradle 脚本中有多个存储库是很常见的。

# perl - 使用包访问 perl 哈希

> ID：16146769
> 
> 赞同：0
> 
> 时间：2013-04-22T12:08:49.543
> 
> 标签：perl, hash, package

请回答以下链接中发布的问题：

[如何在我的 Perl 脚本中填充哈希（已在单独的文件中定义）并对其进行必要的操作？](https://stackoverflow.com/questions/15631292/how-do-i-populate-a-hash-that-has-been-defined-in-a-separate-file-in-my-perl-s)

请查看页面的最后一部分..即

现在假设说我想从 file2.def 或 file3.def 等访问哈希..

如何使我的脚本通用，以便它自动从包含的文件中捕获哈希名称并自动访问其键-> 值对

IE

```
$file1::"here I want it to take the name of the hash depending on the file included" 
```

# python - python中的iso-8859-1和utf8

> ID：16146771
> 
> 赞同：1
> 
> 时间：2013-04-22T12:09:02.077
> 
> 标签：python, encoding, utf-8, iso-8859-1

我有 2 个两个字符串，我想将它们一起比较。

1.  `"H&#7895; tr&#7907; ng&#244;n ng&#7919;"`我认为这是 iso-8859-1 编码
2.  `u'H\u1ed7 tr\u1ee3 ng\xf4n ng\u1eef'` 统一码。

2个字符串具有相同的内容。我想比较一下。如何将第一个字符串转换为与第二个字符串相同的编码。？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-22T12:15:39.130

您有 HTML 实体，只需使用该`HTMLParser`模块来取消转义：

```
>>> import HTMLParser
>>> h = HTMLParser.HTMLParser()
>>> h.unescape("H&#7895; tr&#7907; ng&#244;n ng&#7919;")
u'H\u1ed7 tr\u1ee3 ng\xf4n ng\u1eef'
>>> print h.unescape("H&#7895; tr&#7907; ng&#244;n ng&#7919;")
Hỗ trợ ngôn ngữ 
```

这些 HTML 实体使用十进制数字，而不是十六进制。`7895`是`1ed7`十六进制等。它们编码 unicode 代码点，不使用 UTF-8 或 ISO-8859-1。ISO-8859-1 或 Latin-1 甚至无法编码这些特定的代码点（根据谷歌翻译，越南语表示“语言支持”）。

# mysqldump - 从 mysql 3.3 迁移到 mysql 5.5

> ID：16146779
> 
> 赞同：0
> 
> 时间：2013-04-22T12:09:35.757
> 
> 标签：mysqldump

我需要将我的网站与 MySQL 3.23 旧服务器上的 mysql 数据库移动到 mysql 5.5.20 的新服务器

我用 gzip 制作了一个 mysqldump 并将其上传到新服务器。使用 gunzip 文件.sql.gz | mysql -uusername -ppasword dbname 我试图让它工作。但我得到了一个错误。错误是

> 第 4 行的 ERROR 1064 (42000)：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取在 '----- 附近使用的正确语法
> 
> 在第 1 行创建 TABLE lite_'

我应该怎么做才能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-23T00:35:48.623

对于此特定错误，请删除 sql 中的 -- 注释行。您可以使用以下任何一种：

```
sed -i '/^--/d' dumpfile.sql
awk '!/^--/' dumpfile.sql > filteredfile.sql
grep -v '^--' dumpfile.sql > filteredfile.sql 
```

您可能还会遇到 myisam 的类型错误。

[mysql错误'TYPE = MyISAM'](https://stackoverflow.com/questions/11471075/mysql-error-type-myisam)

注意你的类型编码。您可以从文件中删除所有非 ASCII 字符

```
perl -plne 's/[^[:ascii:]]//g' dumpfile.sql 
```

[特殊字符在 MySQL 导出/导入中丢失](https://stackoverflow.com/questions/11185324/special-characters-get-lost-in-mysql-export-import)

关于 3 到 5 转换的其他说明。

[http://hisdeedsaredust.com/2009/02/mysql-version-3-to-version-5/](http://hisdeedsaredust.com/2009/02/mysql-version-3-to-version-5/)

我在 mysql 上的其他笔记可以在这里找到：

[http://dave.thehorners.com/tech-talk/random-tech/325-mysql](http://dave.thehorners.com/tech-talk/random-tech/325-mysql)

**恕我直言，应该编写 mysqlimport 以支持以前版本的输出。**

# coldfusion - 使用动态参数数组调用函数

> ID：16146781
> 
> 赞同：4
> 
> 时间：2013-04-22T12:09:45.550
> 
> 标签：coldfusion, cfml, openbd

如果我有

```
<cfset arr_arguments = ["a","b","c"]>
<cfunction name="someFunction">
 <cfargument name="someArgumentOne">
 <cfargument name="someArgumentTwo">
 <cfargument name="someArgumentThree">

</cffunction> 
```

有什么方法可以调用`someFunction`参数`arr_arguments`，类似于`someFunction("a","b","c")`？我当然知道我可以`argumentCollection`用来将（键控）结构传递给函数，但我特别询问是否传入（无键）数组。在 JS 中，这可以很容易地完成`someFunction.apply(this,arr_arguments)`，但在 Coldfusion 中我找不到任何方法来做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-22T16:56:34.010

Unnamed arguments are passed into a function as a structure with numeric keys matching the positions of the arguments defined in the function arguments. So instead of passing the named arguments, you can convert your array to a struct with numeric keys, and then pass the struct in with argumentCollection:

```
<cfset arr_arguments = {"1"="a","2"="b","3"="c"}>
<cfset someFunction(argumentCollection=arr_arguments)> 
```

You can easily convert an array to a struct with numeric keys like this:

```
<cfset args = {}>
<cfloop from="1" to="#arrayLen(arr_arguments)#" index="i">
    <cfset args[i] = arr_arguments[i]>
</cfloop> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-23T08:08:29.567

在 Coldfusion 10 中，您可以使用[调用函数](http://help.adobe.com/en_US/ColdFusion/10.0/CFMLRef/WSd8001ae4abdbd911-5c900a4e1350d8b2511-8000.html)来执行此操作。按顺序传递参数数组似乎是一种未记录的方式。cfscript 中的示例：

```
invoke('', 'someFunction', ['a','b','c']); 
```

的第一个参数`invoke`是组件名称（或 UDF 的空字符串）。第二个是函数名，第三个是参数数组。请注意，组件和函数名称都必须作为字符串传递。

我在有和没有定义的参数名称的情况下都对此进行了测试，并且保留了参数的顺序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T13:47:47.460

好的，如果您要调用带有任意参数数组的函数，我建议的最佳选择是创建一个包装函数。请参见下面的示例代码

```
<cfscript>
    function testMe(
        required string arg1,
        required string arg2
    ) {
        writedump(arguments);
    }

    function invokeFunction(
        required inFunction,
        required array functionArguments
    ) {
        var stcArguments = {};
        // Introspect to get the method parameters
        var arrFunctionArguments = GetMetaData(arguments.inFunction).parameters;
        // Now figure out what we are iterating to
        var numArgumentsToParse = Min(ArrayLen(arguments.functionArguments),ArrayLen(arrFunctionArguments));
        // Populate the arguments structure
        for (var i=1;i<=numArgumentsToParse;i++) {
            stcArguments[arrFunctionArguments[i].name] = arguments.functionArguments[i];
        }
        // And try to call it
        return arguments.inFunction(
            argumentCollection = stcArguments
        );
    }

    invokeFunction(testMe,[1,2]);           // Works fine
    invokeFunction(testMe,[1,2,3,4]);       // Just skips 3 and 4
//  invokeFunction(testMe,[1]);             // Errors due to not enough arguments
//  invokeFunction(fakeFunctionName,[1]);   // Errors due to undefined function
</cfscript> 
```

如果发生以下任何一种情况，这当然会出错

*   一个或多个参数的类型不正确
*   该功能实际上并不存在
*   并非所有必需的参数都传入

但你可以在外面处理。这将使用自省来找出参数名称，相应地填充结构，并调用请求的函数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-22T14:17:26.740

这是一个 UDF，它将为您做到这一点：

```
<cfscript>
function test_function(a,b,c){      
    writeOutput("arguments.a"&arguments.a&"<br>");
    writeOutput("arguments.b"&arguments.b&"<br>");
    writeOutput("arguments.c"&arguments.c&"<br>");

    return arguments.a & "::" & arguments.b & "::" & arguments.c;
}

function invoke_positional(func,arr){
    var metaData = GetMetaData(func);
    var args={};
    for(var pos=1;pos<=ArrayLen(arr);pos++){
        args[metaData.parameters[pos].name]=arr[pos];
    }
    return arguments.func(argumentCollection=args);
}

data = ["StringOne","StringTwo",22];

result = invoke_positional(test_function,data);

</cfscript>

<cfoutput>
<p>
Returned: #result#
</p>
</cfoutput> 
```

invoke_positional 通过使用 UDF 的元数据来构建一组命名参数，然后将它们与 argumentCollection= 一起使用

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T14:22:14.060

因此，我发现一个可行的选择是创建一个与实际实参范围分开的参数对象，并使用数字索引简单地将值添加到其中。

```
<cfset args_input = createObject("java","com.naryx.tagfusion.cfm.engine.cfArgStructData").init()>
<cfloop from="1" to="#arraylen(arr_arguments)#" index="i">
    <cfset args_input[i] = arr_arguments[i]>
</cfloop>
<cfset someFunction(argumentCollection=args_input)> 
```

如果您在使用 adobe Coldfusion 时遇到这种情况，我建议您尝试一下

```
<cfset correctClass = arguments.getClass().getName()> 
```

获取要传递给 createObject 的字符串。或者，如果这不起作用，只需有一个专用函数来返回一个空参数对象

```
<cfset args_input = this.generateArgumentObject()> 
```

和

```
<cffunction name="generateArgumentObject">
    <cfreturn arguments>
</cffunction> 
```

哦，好吧，我只知道它肯定会在 OpenBD 中工作，并且基于我过去在 Ben Nadel 的博客上看到的一篇文章，我很确定这也应该在 Adob​​e ColdFusion 中工作。

# java - JButton 的侦听器在另一个类中定义并在 JFrame 中使用

> ID：16146782
> 
> 赞同：0
> 
> 时间：2013-04-22T12:09:47.647
> 
> 标签：java, swing, jpanel, actionlistener

我正在努力。在此框架中，单击“添加记录”按钮，我向 Jframe 添加了一个面板，该面板是通过扩展 JPanel 类定义的。现在我希望在面板中创建按钮单击“保存”，我想从面板中定义的文本字段中获取文本，该文本字段将存储在变量中。在按钮单击保存时没有任何反应。帮我。提前致谢。

```
import java.awt.Color;
import java.sql.Savepoint;
import java.util.Calendar;
import javax.swing.*;
import java.awt.event.*;
import addPanel.panelAddForm;

public class frontPage extends JFrame implements ActionListener
{

//----------*******Variable Declarations*******-------------------  
    JPanel  panelheaderImage, panelSideBar, panelTittle, panelTittleBar;

            //panelFrontPage;           

    JLabel  labelheaderImage, labelDate, labelTime, labelTittle, labelBottomImage;

    JButton buttonAddRecord, buttonSearch, buttonadd;

    JTextField nameSearch;

    Calendar currentDate;

    String year, month, day;

//------------------------------------------------------------------

//--------******FRAME CONSTRUCTOR*********------------------------  
    frontPage( )
    {

        //------------frame initialization--------
        setBackground( Color.BLUE );
        setSize( 750, 850 );
        setVisible( true );
        setLayout( null );

//------------frame initialization ENDS------------------------     

//------------Panel Initialization Starts----------------------

        framBottomImage frameimg = new framBottomImage();       
        frameBottom framebottom = new frameBottom();
        //frameAddForm addform= new frameAddForm();

        add( frameimg.panelBottomImage );
        add( framebottom.panelBottomText );
        //add( addform.panelAddForm );

        panelheaderImage = new JPanel( );
        panelheaderImage.setBounds( 0, 0, 600, 80 );
        add( panelheaderImage );

        panelSideBar = new JPanel( );
        panelSideBar.setBounds( 520, 90, 200, 40);
        panelSideBar.setLayout(null);
        add( panelSideBar );

        panelTittle = new JPanel();
        panelTittle.setLayout(null);
        panelTittle.setBounds(0, 85, 550, 30);
        add ( panelTittle );

        panelTittleBar = new JPanel( );
        panelTittleBar.setBounds( 0, 150, 450, 40);
        panelTittleBar.setLayout(null);
        add( panelTittleBar );

        /*panelFrontPage = new JPanel();
        panelFrontPage.setLayout(null);
        panelFrontPage.setBounds(0, 200, 500, 650);
        panelFrontPage.setEnabled(true);
        panelFrontPage.setVisible(true);
        add(panelFrontPage);*/

//------------Panel Initialization Ends---------------------------- 

        labelheaderImage = new JLabel( new ImageIcon( "C:\\Users\\SUN\\Desktop\\img.jpg" ) );
        panelheaderImage.add( labelheaderImage );

        currentDate = Calendar.getInstance();
        year = "" + currentDate.get( Calendar.YEAR );
        month = "" + currentDate.get( Calendar.MONTH );
        day = "" + currentDate.get( Calendar.DAY_OF_MONTH );

        labelDate = new JLabel( "Date:" + day + "/" + month + "/" + year );
        labelDate.setBounds(0, 0, 90, 20);
        panelSideBar.add( labelDate );

        labelTime = new JLabel( "Time:" );
        labelTime.setBounds(0, 20, 50, 20);
        panelSideBar.add( labelTime );

        labelTittle = new JLabel( "Patient's Case Paper" );
        labelTittle.setBounds( 150, 0, 250, 25);
        panelTittle.add( labelTittle );

        buttonAddRecord = new JButton( "ADD RECORD" );
        buttonAddRecord.setBounds( 25, 0, 110, 25 );
        buttonAddRecord.addActionListener(this);
        panelTittleBar.add( buttonAddRecord );

        nameSearch = new JTextField( "" );
        nameSearch.setBounds( 170, 0, 110, 25 );
        panelTittleBar.add( nameSearch );

        buttonSearch = new JButton( "Search" );
        buttonSearch.setBounds( 320, 0, 100, 25 );
        panelTittleBar.add( buttonSearch );

        buttonadd = new JButton( "add" );
        buttonadd.setBounds( 170, 410, 80, 25 );
        buttonadd.addActionListener(this);
        panelTittleBar.add( buttonadd );

    }

    public void actionPerformed( ActionEvent ae )
    {
        panelAddForm addform = new panelAddForm();
        addform.save.addActionListener(this);   

        if( ae.getSource( ) == buttonAddRecord )
        {
            addform.revalidate();
            addform.repaint();
            add( addform );
            System.out.println("at add record button end");
        } 

        if( ae.getSource() == addform.save )
        {
            System.out.println("Save Clicked");
        }

    }

} 
```

类 panelAddForm.java：

```
 package addPanel;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.security.PublicKey;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import javax.swing.*;

public class panelAddForm extends JPanel 
{

    JLabel  labelName, labelFirstName, labelLastName, labelMiddleName,
            labelGender, labelAge, labelCity, labelContact, labelFees,
            labelNote, registrationId;

    public JTextField   textFieldFirstName, textFieldMiddleName, textFieldLastName,
                textFieldAge, textFieldCity, textFieldContact, textFieldFees,
                textFieldId;

    JTextArea textAreaNote;

    JRadioButton male, female;
    ButtonGroup selection;
    public JButton save, cancel;

    public panelAddForm()
    {
       this.setLayout(null);
       setVisible(true);
       setBounds(0, 200, 500, 450);

        registrationId= new JLabel("Registration Id");
        registrationId.setBounds(20, 0, 120, 20);
        add(registrationId);

        textFieldId = new JTextField();
        textFieldId.setBounds(130, 0, 50, 20);
        add(textFieldId);

        labelName = new JLabel( "Name" );
        labelName.setBounds( 20, 30, 50, 20);
        add(labelName);   

        labelFirstName = new JLabel("First Name");
        labelFirstName.setBounds(100, 50, 80, 10);
        add(labelFirstName);

        textFieldFirstName = new JTextField(  );
        textFieldFirstName.setBounds( 100, 30, 80, 20 );

        textFieldFirstName.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldFirstName.getText(  );
            Pattern p = Pattern.compile( "[ 0-9,&%$#@!()*^,\t\n\f\r]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Please Enter Valid Name",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }

        }
    } );

    add( textFieldFirstName );

//----------------------------------------MNAME---------------------------------------------------

    labelMiddleName= new JLabel("Middle Name");
    labelMiddleName.setBounds( 190, 50, 80,  10);
    add(labelMiddleName);

    textFieldMiddleName = new JTextField(  );
    textFieldMiddleName.setBounds( 190, 30, 80, 20 );

    textFieldMiddleName.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldMiddleName.getText(  );
            Pattern p = Pattern.compile( "[ 0-9,&%$#@!()*^]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Please Enter Valid Name",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }

        }
    } );

    add( textFieldMiddleName );

//-----------------------------------labelName-----------------------------------------------------------

    labelLastName = new JLabel("Last Name");
    labelLastName.setBounds(280, 50, 80, 10);
    add(labelLastName);

    textFieldLastName = new JTextField(  );
    textFieldLastName.setBounds( 280, 30, 80, 20 );

    textFieldLastName.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldLastName.getText(  );
            Pattern p = Pattern.compile( "[ 0-9,&%$#@!()*^]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Please Enter Valid Name",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }
        }
    } );

    add( textFieldLastName );

    labelGender = new JLabel( "Gender" );
    labelGender.setBounds( 20, 70, 70, 20 );
    add(labelGender);

    selection = new ButtonGroup();

    male = new JRadioButton( "Male" );
    male.setBounds( 90, 70, 70, 20 );
    selection.add( male );
    add( male );

    female = new JRadioButton( "Female" );
    female.setBounds( 170, 70, 70, 20 );
    selection.add( male );
    add( female );

//---------------------AGE---------------------------------------   
    labelAge = new JLabel( "Age" );
    labelAge.setBounds( 20, 110, 50, 20 );
    add( labelAge );

    textFieldAge = new JTextField(  );
    textFieldAge.setBounds( 100, 110, 80, 20 );

    textFieldAge.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldAge.getText(  );
            Pattern p = Pattern.compile( "[ A-Z,a-z,&%$#@!()*^]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Numbers only",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }

        }
    } );
    add( textFieldAge );

    //---------------------CITY---------------------------------------
    labelCity = new JLabel( "City" );
    labelCity.setBounds( 20, 160, 80, 20 );
    add( labelCity );

    textFieldCity = new JTextField(  );
    textFieldCity.setBounds( 120, 160, 80, 20 );
    add(textFieldCity);

    textFieldCity.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldCity.getText(  );
            Pattern p = Pattern.compile( "[ 0-9,&%$#@!()*^]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Characters only",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }

        }
    } );

    //-----------------CONTACT---------------------------------------
    labelContact = new JLabel( "Phone Number" );
    labelContact.setBounds( 20, 210, 100, 20 );
    add( labelContact );

    textFieldContact = new JTextField( 10 );
    textFieldContact.setBounds( 120, 210, 80, 20 );
    add( textFieldContact );

    textFieldContact.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldContact.getText(  );
            Pattern p = Pattern.compile( "^[ 1-9][ 0-9]{12}$" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "numbers only",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }
        }
    } );

    add( textFieldContact );

    //-----------------NOTE---------------------------------------

    labelNote = new JLabel( "Note" );
    labelNote.setBounds( 20, 260, 140, 30 );
    add( labelNote );

    textAreaNote = new JTextArea();
    textAreaNote.setBounds(100, 260, 200, 50);
    add(textAreaNote);

    //----------------FEES--------------------------------------
    labelFees = new JLabel( "Consultation Fees" );
    labelFees.setBounds( 20, 330, 120, 20 );
    add( labelFees );

    textFieldFees = new JTextField(  );
    textFieldFees.setBounds( 140, 330, 80, 20 );
    add( textFieldFees );

    textFieldFees.addKeyListener( new KeyAdapter(  ) {
        public void keyTyped( KeyEvent e ) {
            String input = textFieldFees.getText(  );
            Pattern p = Pattern.compile( "[ A-Z,a-z,&%$#@!(    )*^]" );
            Matcher m = p.matcher( input );
            if ( m.find(  ) ) {
                JOptionPane.showMessageDialog( null, "Numbers only",
                        "Sorry", JOptionPane.ERROR_MESSAGE );
            }

        }
    } );

// ----------------------------------------------------

    save = new JButton( "SAVE" );
    save.setBounds( 25, 380, 70, 20 );
    //save.addActionListener( this );
    add( save );

    cancel = new JButton( "CANCEL" );
    cancel.setBounds( 150, 380, 80, 20 );
    //cancel.addActionListener( this );
    add( cancel );
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:19:32.617

由于您将表单添加到对来自它的事件做出反应的函数中，因此永远不会有任何东西可以产生这些事件。尝试将这两行移出`actionPerformed`和移入`frontPage`或另一个初始化函数。

```
public void actionPerformed( ActionEvent ae )
{
    panelAddForm addform = new panelAddForm();
    addform.save.addActionListener(this);   
    ...
} 
```

# java - Java-Spring Reflection 带来了类中不存在的方法

> ID：16146786
> 
> 赞同：1
> 
> 时间：2013-04-22T12:09:55.613
> 
> 标签：java, spring, spring-mvc, reflection

我尝试调查给定包中可用的类。暂时我已经硬编码了类名，`I get so many methods which are not available in the class when i try to print all the methods and parameter type the method takes`

以下是我的主要课程，我在其中研究课程及其方法：

```
package com.hexgen.reflection;

`// removed imports to post question`
import com.hexgen.tools.HexgenClassUtils;

public class HexgenWebAPITest {

    @SuppressWarnings({ "rawtypes", "unchecked", "unused" })
    public static void main(String[] args) {
        HexgenWebAPITest test = new HexgenWebAPITest();
        HexgenClassUtils hexgenClassUtils = new HexgenClassUtils();
        String uri="";
        String[] mappingValues=null;
        HttpClientRequests httpRequest = new HttpClientRequests();
        Class parames = CreateRequisitionRO[].class;

        Class booleanVal;
        booleanVal = Boolean.TYPE;
        Class cls;

        try {
            List classNames = hexgenClassUtils.findMyTypes("com.hexgen.*");
            Iterator<Class> it = classNames.iterator();
            while(it.hasNext())
            {

                Class obj = it.next(); 
                System.out.println("Methods available in : "+obj.getName());
                System.out.println("===================================");
                if(obj.getName().equals("com.hexgen.api.facade.HexgenWebAPI")){
                    cls = Class.forName(obj.getName());
                    cls.getClass();
                    Method[] method = cls.getDeclaredMethods();
                    int i=1;
                    for (Method method2 : method) {
                        System.out.println(+i+":"+method2.getName());
                        Class[] parameterTypes = method2.getParameterTypes();
                        for (Class class1 : parameterTypes) {
                            System.out.println("Parameter Type : "+class1.getName());
                        }
                        i++;
                    }
                }

            }

        } catch (Exception ex) {
            ex.printStackTrace();
        }

    }

} 
```

这是`Utility Class`

```
package com.hexgen.tools; 
```

`// removed imports to post the question here`

```
public class HexgenClassUtils {
    @SuppressWarnings({ "rawtypes"})
    public List<Class> findMyTypes(String basePackage) throws IOException, ClassNotFoundException
    {
        ResourcePatternResolver resourcePatternResolver = new PathMatchingResourcePatternResolver();
        MetadataReaderFactory metadataReaderFactory = new CachingMetadataReaderFactory(resourcePatternResolver);

        List<Class> candidates = new ArrayList<Class>();
        String packageSearchPath = ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX +
                                   resolveBasePackage(basePackage) + "/" + "**/*.class";
        Resource[] resources = resourcePatternResolver.getResources(packageSearchPath);
        for (Resource resource : resources) {
            if (resource.isReadable()) {
                MetadataReader metadataReader = metadataReaderFactory.getMetadataReader(resource);
                if (isCandidate(metadataReader)) {
                    candidates.add(Class.forName(metadataReader.getClassMetadata().getClassName()));
                }
            }
        }
        return candidates;
    }
    public String resolveBasePackage(String basePackage) {
        return ClassUtils.convertClassNameToResourcePath(SystemPropertyUtils.resolvePlaceholders(basePackage));
    }

    @SuppressWarnings({ "rawtypes", "unchecked" })
    public boolean isCandidate(MetadataReader metadataReader) throws ClassNotFoundException
    {
        try {
            Class c = Class.forName(metadataReader.getClassMetadata().getClassName());
            if (!c.isInterface() && c.getAnnotation(Controller.class) != null) {
                return true;
            }
        }
        catch(Throwable e){
        }
        return false;
    }

} 
```

这是我正在调查的实际课程：

```
package com.hexgen.api.facade;

`// removed imports to post question here`

import com.hexgen.datauploader.ETLServiceProvider;

import com.hexgen.ro.response.UserDetailsResponse;

/**
 * Hexagon Global IT Services (ALL RIGHTS RESERVED) Created with IntelliJ IDEA.
 * User: mayankk Date: 23/11/12 Time: 10:27 AM To change this template use File
 * | Settings | File Templates.
 */
@Controller
@Transactional
public class HexgenWebAPI {

    @Resource(name = "facadeDbFuncs")
    private DbFuncs dbFuncs;

    @Resource(name = "gatekeeper")
    private IGateKeeper gateKeeper;

    @Resource(name = "userContext")
    private UserContext userContext;

    @Resource(name = "costCalc")
    private FinancialCalculator financialCalculator;

    @Resource(name = "ytmCalc")
    private YTMCalculator ytmCalc;

    @Resource(name = "etlService")
    private ETLServiceProvider etlService;

    @Resource(name = "biManager")
    private IBIManager biManager;

    private String tmpFileName;

    Logger logger = LoggerFactory.getLogger(HexgenWebAPI.class);

    private Pattern c4Pattern;

    public HexgenWebAPI() {
        String cmdPattern = "([bsBS])[ ]+(\\w+)[ ]+(\\d+)[ ]*@[ ]*(\\d+\\.?\\d*)";
        c4Pattern = Pattern.compile(cmdPattern);
    }

    @RequestMapping(method = RequestMethod.GET, value = "/user/details")
    public @ResponseBody
    UserDetailsResponse getLoggedinUserDetails() {
        HexGenUser details = (HexGenUser) SecurityContextHolder.getContext()
                .getAuthentication().getPrincipal();

        populateImplementationDetails(response);
        return response;
    }

    private void populateImplementationDetails(UserDetailsResponse response) {
        logger.debug("Finding revision details");
        try {
            CodeSource codeSource = this.getClass().getProtectionDomain()
                    .getCodeSource();
            if (codeSource != null) {
                JarInputStream jarStream = new JarInputStream(codeSource
                        .getLocation().openStream());
                Manifest manifest = jarStream.getManifest();
                logger.debug("Manifest not found!");
                if (manifest != null) {

                }
            }
        } catch (Throwable e) {
            logger.debug(e.getMessage());
        }
        logger.debug("Could not find revision details, seems like development environment.");
    }

    @PreAuthorize("isAuthenticated() and hasPermission(#request, 'CREATE_REQUISITION')")
    @RequestMapping(method = RequestMethod.POST, value = "/trade/createrequisition")
    public @ResponseBody
    void createRequisition(@RequestBody CreateRequisitionRO[] request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.debug("Starting createRequisition()...");
        for (int i = 0; i < request.length; i++) {
            CreateRequisitionRO requisitionRequest = request[i];

        {
            logger.debug("Record is for update ? {}", mr.isUpdate());
            logger.debug("attrs are {}", mr.getChangedRecord());
        }
        gateKeeper.route(request);
    }

    @PreAuthorize("isAuthenticated() and hasPermission(#request, 'CREATE_ORDER')")
    @RequestMapping(method = RequestMethod.POST, value = "/trade/createorder")
    public @ResponseBody
    void createOrder(@RequestBody CreateOrderRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {

        TradeDtl orderRow = dbFuncs.references.tradeDtl.findByTransId(request
                .getTransRef());
        d

        logger.debug("Starting createOrder()...");
        gateKeeper.route(request);
    }

    @RequestMapping(method = RequestMethod.POST, value = "/trade/confirmorder")
    public @ResponseBody
    void confirmOrder(@RequestBody ConfirmOrderRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {

        logger.debug("Starting confirmOrder()...");
        gateKeeper.route(request);
    }

    @RequestMapping(method = RequestMethod.PUT, value = "/trade/review/approve")
    public @ResponseBody
    void approveReview(@RequestBody ApproveReviewRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.trace("approveReview({},{})", request, validateOnly);
        gateKeeper.route(request);
    }

    @RequestMapping(method = RequestMethod.PUT, value = "/trade/review/reject")
    public @ResponseBody
    void rejectReview(@RequestBody RejectReviewRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.trace("HexgenWebAPI.rejectReview({},{})", request, validateOnly);
        gateKeeper.route(request);
    }

    @RequestMapping(method = RequestMethod.PUT, value = "/upload/overwrite/approve")
    public @ResponseBody
    void approveUpload(@RequestBody ApproveReviewRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {
        logger.trace("approveUpload({},{})", request, validateOnly);
        UploadJobMaster uploadJobMaster = dbFuncs.references.uploadJobMaster.findOne(request.getId());
        AbstractUploadOverwriteRO uploadAcceptRO = null;
        Class<?> loaderRO = null;
        try {
            String className = etlService.getOverwriteAcceptEventName(uploadJobMaster.getUploadGenericType());
            loaderRO = Class.forName(className);
            uploadAcceptRO = (AbstractUploadOverwriteRO) loaderRO.newInstance();
            uploadAcceptRO.setUploadID(uploadJobMaster.getUploadId());
        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (InstantiationException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        gateKeeper.route((IRO) uploadAcceptRO);
    }

    @RequestMapping(method = RequestMethod.PUT, value = "/upload/overwrite/reject")
    public @ResponseBody
    void rejectUpload(@RequestBody RejectReviewRO request,
            @RequestHeader("validateOnly") boolean validateOnly) {

        try {
            String className = etlService.getOverwriteRejectEventName(uploadJobMaster.getUploadGenericType());

        } catch (ClassNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (InstantiationException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        gateKeeper.route((IRO) uploadRejectRO);
    }

    @RequestMapping(method = RequestMethod.POST, value = "/upload/file")
    public @ResponseBody
    FileUploadResponse upload(@RequestParam("file") MultipartFile file) {
        FileUploadResponse fileUploadResponse = new FileUploadResponse();

        try {
            file.transferTo(tmpFile);
        } catch (IllegalStateException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        fileUploadResponse.setStatusMessage("passed");
        return fileUploadResponse;
    }

    @RequestMapping(method = RequestMethod.POST, value = "/upload/form/{uploadType}/{uploadName}")
    public @ResponseBody
    void uploadForm(@PathVariable String uploadType,
            @PathVariable String uploadName) {
        FileReceivedForUploadRO requisitionRequest = new FileReceivedForUploadRO(

        gateKeeper.route(requisitionRequest);
    }

    //Reports
    @PostFilter("isAuthenticated() and hasPermission(null, 'REPG' + filterObject.groupId)")
    @RequestMapping(method = RequestMethod.GET, value = "/reports/groups")
    public @ResponseBody
    List<ReportsGroups> RetrieveReportGroups() {
        UserDetails userDetails = (UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();

        return biManager.getReportGroups();
    }

    @PostFilter("isAuthenticated() and hasPermission(null, 'REPN' + filterObject.reportId)")
    @RequestMapping(method = RequestMethod.GET, value = "/reports/list")
    public @ResponseBody
    List<ReportNames> RetrieveReports(@RequestParam("groupId") BigDecimal groupId) {
        return biManager.getReportNames(groupId);
    }

    @PreAuthorize("isAuthenticated() and hasPermission(null, 'REPN' + #reportId)")
    @RequestMapping(method = RequestMethod.GET, value = "/reports/fields")
    public @ResponseBody
    List<FilterParameters> RetrieveReportFields(@RequestParam("reportId") BigDecimal reportId) {
        ReportGroupMapping report = dbFuncs.references.reportGroupMapping.findOne(reportId);
        return biManager.getFilterParameters(report.getReportName());
    }

    @PreAuthorize("isAuthenticated() and hasPermission(null, 'REPN' + #request.reportId)")
    @RequestMapping(method = RequestMethod.POST, value = "/reports/generateurl")
    public @ResponseBody
    GenerateURLResponse generateURL(@RequestBody GenerateURLRO request) { 
        ReportGroupMapping report = dbFuncs.references.reportGroupMapping.findOne(request.getReportId());
        try {
            return new GenerateURLResponse(biManager.generateURL(report.getReportName(), request.getReportParameters()));
        } catch(BOValidationException e) {
            throw new ValidationException(e.getViolations());
        }
    }

    // TODO throw away code
    @RequestMapping(method = RequestMethod.POST, value = "/upload/eodprocess")
    public @ResponseBody
    void dayChange() {
        DayChangeRO dayChangeRO = new DayChangeRO();
        gateKeeper.route(dayChangeRO);
    }

    @RequestMapping(method = RequestMethod.GET, value = "/overview/holdings")
    public @ResponseBody
    List<HoldingsRO> generateHoldingsReport() {
        List<HoldingsQO> holdingsQO = dbFuncs.references.reportsMgrFinders
                .getAllHoldings();

            holdingsRO.add(new HoldingsRO(holding.getAssetClass(), holding
                    .getUnRealTcy(), holding.getUnRealPcy()));
        }

        return holdingsRO;
    }

    @RequestMapping(method = RequestMethod.GET, value = "/overview/funds")
    public @ResponseBody
    List<FundOverviewRO> generatePortfolioTrend() {
        List<FundOverviewQO> fundOverviewQO = dbFuncs.references.reportsMgrFinders
                .getPortfolioMovement();

        List<FundOverviewRO> fundOverviewRO = new ArrayList<FundOverviewRO>();
        .getLast30Day()));
        }

        return fundOverviewRO;
    }

    @RequestMapping(method = RequestMethod.GET, value = "/fund/holdings/{portfolio}")
    public @ResponseBody
    List<HoldingsRO> generateHoldingsReport(@PathVariable String portfolio) {
        List<HoldingsQO> holdingsQO = dbFuncs.references.reportsMgrFinders
                .getFundHoldings(portfolio);

        List<HoldingsRO> holdingsRO = new ArrayList<HoldingsRO>();
        for (HoldingsQO holding : holdingsQO) {
            String securityDescription = holding.getSecurityDescription()
                    .substring(
                            0,
                            Math.min(holding.getSecurityDescription().length(),
                                    20));
            holdingsRO.add(new HoldingsRO(holding.getAssetClass(), holding
                    .getAccrIntTcy(), holding.getAodTcy(), holding
                    .getUnRealTcy(), holding.getUnRealPcy()));
        }

        return holdingsRO;
    }

    @RequestMapping(method = RequestMethod.GET, value = "/fund/concentration/{portfolio}")
    public @ResponseBody
    ConcentrationRO[] getConcentrationForFund(@PathVariable String portfolio) {
        List<ConcentrationRO> concentrations = new ArrayList<ConcentrationRO>();

        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getAssetGroupExposureFor(userContext.getCompany(),
                                portfolio)));
        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getAssetClassExposureFor(userContext.getCompany(),
                                portfolio)));
        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getIndustryExposureFor(userContext.getCompany(),
                                portfolio, "IND")));

        return concentrations
                .toArray(new ConcentrationRO[concentrations.size()]);
    }

    @RequestMapping(method = RequestMethod.GET, value = "/overview/concentration")
    public @ResponseBody
    ConcentrationRO[] getConcentrationForFund() {
        List<ConcentrationRO> concentrations = new ArrayList<ConcentrationRO>();

        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getAssetGroupExposureFor(userContext.getCompany())));
        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getAssetClassExposureFor(userContext.getCompany())));
        concentrations
                .add(generateConcentrationRO(dbFuncs.references.concentrationFinders
                        .getIndustryExposureFor(userContext.getCompany(), "IND")));

        return concentrations
                .toArray(new ConcentrationRO[concentrations.size()]);
    }

    public ConcentrationRO generateConcentrationRO(
            ConcentrationFinders concentrationFinder) {
        ConcentrationRO concentrationRO = new ConcentrationRO();

        for (ValueQO valueQO : concentrationFinder.getValues()) {
            concentrationRO.addValue(valueQO.getName(), valueQO.getActual(),
                    valueQO.getGuidance());
        }

        return concentrationRO;
    }

    @RequestMapping(method = RequestMethod.POST, value = "/c4/execute")
    public @ResponseBody
    void executeC4Command(@RequestBody C4CommandRO request) {

        logger.debug("Received command for execution : " + request.getCmd());

        try {

            Matcher matcher = c4Pattern.matcher(request.getCmd());
            if (matcher.matches()) {
                String parsedTransCode = matcher.group(1);

            } else {
                logger.debug("Invalid C4 command");
                throw new RuntimeException();
            }
        } catch (Throwable e) {
            logger.debug("Ooops !! C4 command execution failed - "
                    + e.getMessage());
            throw new RuntimeException(e);
        }

    }

    // FIXME C4 throw away code
    private void createRequisitionThroughC4(String security, String transCode,
            BigDecimal price, BigDecimal quantity) {

        logger.debug("Starting createRequisition() through C4...");

        try {

            Security securityRow = dbFuncs.references.security
                    .findBySecurity(security);

            if (securityRow.getIsIntApplic() || securityRow.getIsDiscounted()) {
                createRequisition.setYtm(ytmCalc.computeXIRR(security, price,
                        userContext.getBusinessDate()));
            } else {
                createRequisition.setYtm(BigDecimal.ZERO);
            }

            SystemDefault defaults = dbFuncs.references.systemDefault
                    .findByParamLevelAndCompanyAndDivisionAndPortfolio(
                            ParamLevel.PF, userContext.getCompany(),
                            userContext.getDivision(), portfolio);

            OutputValuesFromInvestmentsDO response = financialCalculator
                    .costSettlementCalculator(input);

            createRequisition.setTransSrlNo(BigDecimal.ONE);
            if (transCode.equals("BUY")) {
                createRequisition.setInflowOutflow(InflowOutflow.I);
            } else {
                createRequisition.setInflowOutflow(InflowOutflow.O);
            }
            createRequisition.setFundManager(createRequisition.getUserId());
            createRequisition.setCustodianN(defaults.getCustodianN());

            gateKeeper.route(createRequisition);

        } catch (Throwable e) {
            logger.debug("Ooops !! C4 command execution failed - "
                    + e.getMessage());
            throw new RuntimeException(e);
        }

    }

} 
```

但以下是我得到的输出，我看到许多方法在类中不存在：

```
1:ajc$get$validator
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
2:ajc$set$validator
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : javax.validation.Validator
3:ajc$get$requestToEventTranslator
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
4:ajc$set$requestToEventTranslator
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.p0.translator.RequestToEventTranslator
5:ajc$interMethodDispatch2$com_hexgen_api_facade_HexgenWebAPIValidation$validate
Parameter Type : com.hexgen.ro.IRO
6:handleValidationException
Parameter Type : com.hexgen.api.facade.ValidationException
7:createRequisition
Parameter Type : [Lcom.hexgen.ro.request.CreateRequisitionRO;
Parameter Type : boolean
8:getLoggedinUserDetails
9:populateImplementationDetails
Parameter Type : com.hexgen.ro.response.UserDetailsResponse
10:excelMDM
Parameter Type : com.hexgen.ro.request.MdmFromExcelRO
11:createOrder
Parameter Type : com.hexgen.ro.request.CreateOrderRO
Parameter Type : boolean
12:confirmOrder
Parameter Type : com.hexgen.ro.request.ConfirmOrderRO
Parameter Type : boolean
13:approveReview
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
14:rejectReview
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
15:approveUpload
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
16:rejectUpload
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
17:upload
Parameter Type : org.springframework.web.multipart.MultipartFile
18:uploadForm
Parameter Type : java.lang.String
Parameter Type : java.lang.String
19:RetrieveReportGroups
20:RetrieveReports
Parameter Type : java.math.BigDecimal
21:RetrieveReportFields
Parameter Type : java.math.BigDecimal
22:generateURL
Parameter Type : com.hexgen.ro.request.GenerateURLRO
23:dayChange
24:generateHoldingsReport
25:generateHoldingsReport
Parameter Type : java.lang.String
26:generatePortfolioTrend
27:getConcentrationForFund
Parameter Type : java.lang.String
28:getConcentrationForFund
29:generateConcentrationRO
Parameter Type : com.hexgen.core.orm.finders.repositories.ConcentrationFinders
30:executeC4Command
Parameter Type : com.hexgen.ro.request.C4CommandRO
31:createRequisitionThroughC4
Parameter Type : java.lang.String
Parameter Type : java.lang.String
Parameter Type : java.math.BigDecimal
Parameter Type : java.math.BigDecimal
32:createRequisition_aroundBody0
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : [Lcom.hexgen.ro.request.CreateRequisitionRO;
Parameter Type : boolean
33:createRequisition_aroundBody1$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : [Lcom.hexgen.ro.request.CreateRequisitionRO;
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : [Lcom.hexgen.ro.IRO;
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
34:createOrder_aroundBody2
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.CreateOrderRO
Parameter Type : boolean
35:createOrder_aroundBody3$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.CreateOrderRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
36:confirmOrder_aroundBody4
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ConfirmOrderRO
Parameter Type : boolean
37:confirmOrder_aroundBody5$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ConfirmOrderRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
38:approveReview_aroundBody6
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
39:approveReview_aroundBody7$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
40:rejectReview_aroundBody8
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
41:rejectReview_aroundBody9$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
42:approveUpload_aroundBody10
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
43:approveUpload_aroundBody11$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.ApproveReviewRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
44:rejectUpload_aroundBody12
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
45:rejectUpload_aroundBody13$advice
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : com.hexgen.ro.request.RejectReviewRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPIValidation
Parameter Type : com.hexgen.ro.IRO
Parameter Type : boolean
Parameter Type : com.hexgen.api.facade.HexgenWebAPI
Parameter Type : org.aspectj.runtime.internal.AroundClosure
46:ajc$preClinit 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:18:59.947

Spring 框架的不同部分在运行时执行检测，以扩充类并提供附加功能。Spring 使用三种不同的工具：

*   DynamicProxies - 这是 J2SE 的一个特性，它允许通过指定“方法处理程序”来“即时”生成接口 - 一种被调用以处理方法调用的方法。处理程序将查看方法签名和参数来决定要做什么。通常这将涉及在实现相同接口的具体目标类上调用相应方法之前或之后添加圆顶功能。（因此名称为“代理”）。当类由接口支持时，动态代理是默认设置。

*   字节码工程（BCEL）。这涉及覆盖在第一次需要时加载类的类加载器方法。被覆盖的方法返回一个在运行时生成的子类，并包含额外的功能。Spring 使用的库是 'cglib'，它建立在 'asm' 之上。. . 这些库优先考虑性能而不是易用性。. . （易用性不是问题，因为 Spring 用户不为自己做任何字节码工程——只使用检测类）。

*   AspectJ 编织。这涉及使用编译时编织或运行时编织。在后者的情况下，使用特殊的 Java 代理（JVM 的命令行参数）而不是拦截类加载器。

检测的示例是基于注释的事务、安全注释、验证等。

您正在观察第二种类型的检测（运行时生成的子类），这是具体类的默认值。. . （AspectJ 可以用于更复杂的情况，例如在 Spring 容器之外的类上提供依赖注入）。

# ruby-on-rails - 在 Rails 中，我应该生成一个模型来包含简单的普通列表吗？

> ID：16146789
> 
> 赞同：0
> 
> 时间：2013-04-22T12:10:00.500
> 
> 标签：ruby-on-rails, ruby

我目前正在使用 Ruby on Rails 构建一个网页。我正在创建一个如下工作的数据模型：项目有很多里程碑，里程碑有很多目标

例子：

```
Project.milestones.goals 
```

所以我为项目生成了一个模型和一个里程碑模型，但是为目标列表生成一个模型似乎很大而且没有必要。

我应该为目标生成一个模型，还是有其他更适合此目的的模型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:16:32.087

这一切都归结为这个问题：目标需要持久化在您的数据库中吗？
如果答案是肯定的，那么您必须创建一个继承自 的模型，`ActiveRecord::Base`如果答案是否定的，您可以创建一个模型，它不需要 的持久性方法`ActiveRecord`，但行为类似于`Enum`，具有静态值和东西。

# git - Team Foundation Server 2012 和 GIT

> ID：16146791
> 
> 赞同：3
> 
> 时间：2013-04-22T12:10:06.037
> 
> 标签：git, tfs

是否可以构建在 vs2012 中创建的项目，使用 Team Foundation Server 2010/12 手动推送到我的 git 存储库？

换句话说：我可以选择我的 git 存储库路径作为源，用 TFS 构建它吗？我选择 TFVC 作为源代码控制是因为 TFS2012 还不支持 git 作为源代码控制。我知道我可以在 Team Foundation Service 中执行此操作，但我不想使用它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:14:27.900

现在应该可以了，请记住，VS 2012 的更新 2 添加了 GIT 支持。看看：[http ://www.hanselman.com/blog/GitSupportForVisualStudioGitTFSAndVSPutIntoContext.aspx](http://www.hanselman.com/blog/GitSupportForVisualStudioGitTFSAndVSPutIntoContext.aspx)

> 只需打开项目，您就可以在所有 Git 项目中使用 VS Git 支持。这只是Git。我正在将分支推送到 CodePlex、GitHub 和其他 Git 存储库。我还在继续交替使用我的其他 Git 工具，因为我喜欢。
> 
> 对于团队，您可以访问[http://tfs.visualstudio.com](http://tfs.visualstudio.com)并注册一个帐户并免费获得 5 个用户。您可以选择 Git 或 Team Foundation 版本控制 (TFVC) 作为源提供程序，并为您的 ALM 工具使用所有 Team Foundation 敏捷、scrum 或其他模板。

# android - 使用 facebook API Notification 向 facebook 发送 android 应用程序通知

> ID：16146792
> 
> 赞同：6
> 
> 时间：2013-04-22T12:10:06.970
> 
> 标签：android, facebook, notifications

嗨，我想从 android 应用程序向 facebook 发送通知。要发送 facebook 通知，我得到了这个链接：[https](https://developers.facebook.com/docs/concepts/notifications/) ://developers.facebook.com/docs/concepts/notifications/ 但我不知道如何在 android 中使用这个链接来发送通知。

请任何人都可以指导我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-05T11:37:16.073

您无法从 Android 应用发送通知。尝试使用您提供的链接发布并收到以下错误：

```
{"error":{"message":"(#200) Only web canvas apps can send app notifications","type":"OAuthException","code":200}} 
```

也许你可以使用这个： [https ://developers.facebook.com/docs/android/send-requests/](https://developers.facebook.com/docs/android/send-requests/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-01T08:43:33.003

我们不允许使用通知 API 从 Android 应用发送通知，也不允许使用请求 API 从非游戏应用发送应用请求。我也很想知道我们如何从非游戏安卓应用程序通知用户。

# java - BufferedImage 颜色通道蒙版

> ID：16146794
> 
> 赞同：0
> 
> 时间：2013-04-22T12:10:11.857
> 
> 标签：java, image, colors, bufferedimage, mask

我在 JavaDoc 上找到了这段代码，但我似乎无法理解它。

```
output.setRGB(x, y, (image.getRGB(x, y) & 0xff00ff00)
                    | ((image.getRGB(x, y) & 0xff0000) >> 16)
                    | ((image.getRGB(x, y) & 0xff) << 16)); 
```

我只知道这段代码在 BufferedImage 中将蓝色变为红色。但是如果我想用白色或其他颜色代替蓝色，反之亦然呢？

我将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:16:01.667

颜色以十六进制存储如下：

```
RRGGBBAA 
```

红色，绿色，蓝色，阿尔法。现在让我们看一下其中的一行：

```
(image.getRGB(x, y) & 0xff0000) >> 16 
```

`image.getRGB(x, y)`将返回一个`RRGGBBAA`值，并且此*行*使用`0xff0000`. 这是一个视觉效果：

```
RRGGBBAA
&
00FF0000
=
00GG0000 
```

因此，它将`RRGGBBAA`值转换为`GG0000`。

然后，向右*移位*16 个**二进制位。**Java 不能以十六进制移动位，但我们现在正在以十六进制可视化颜色。因此，我们必须将 16 个二进制移位转换为 4 个十六进制移位，因为十六进制是 base-16。二进制是以 2 为底的，并且`2^4`是 16，十六进制的底数。

因此，您必须右移 4 位。这将`GG0000`变成`GG`，因为这些位向右移动了 4 位。

因此，我们现在有了颜色中绿色量的值。

您可以将类似的逻辑应用于其他行，以查看它们是如何工作的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:28:07.957

当我使用颜色时，我使用不同的想法：

```
 BufferedImage image = //create Buffered image
    int rgb = image.getRGB(x,y);   //get Rgb color value
    Color color = new Color(rgb);  // create color with this value
    Color resultColor = new Color(color.getRed(), color.getBlue(), color.getGreen()); //create new color change blue and green colors values
    image.setRGB(x,y,resultColor.getRGB());   //set color 
```

我认为这个想法更容易理解。

如果你想得到白色使用这个：

```
 BufferedImage image = new BufferedImage();
    Color color = new Color(255,255,255);
    image.setRGB(x,y,color.getRGB()); 
```

# sql - monetdb 中的日期查询？

> ID：16146798
> 
> 赞同：1
> 
> 时间：2013-04-22T12:10:24.317
> 
> 标签：sql, database, monetdb

我能够执行以下查询

```
select (current_date-interval '1' day) ,a,b from (select '1' as a, 2 as b) as t2; 
```

但我无法用变量代替“1”。我尝试了以下方法但没有成功

```
select (current_date-interval b day) ,a,b from (select '1' as a, 2 as b) as t2;
select (current_date-interval a day) ,a,b from (select '1' as a, 2 as b) as t2; 
```

我也尝试过铸造，但仍然没有结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-29T07:40:09.587

我找到了解决方案：

```
select (current_date-interval 1 day*b) ,a,b from (select '1' as a, 2 as b) as t2;
select (current_date-interval 1 day*cast(a as int)) ,a,b from (select '1' as a, 2 as b) as t2; 
```

所以这个问题得到了回答:)

# iphone - 当方向从横向更改为纵向时，UInavigationbar 背景图像无法正确调整大小

> ID：16146800
> 
> 赞同：0
> 
> 时间：2013-04-22T12:10:36.473
> 
> 标签：iphone, ios, ios5, uinavigationbar

我正在尝试为纵向和横向设置 uinavigationbar 的背景图像。我正在使用以下代码：

```
UIImage *navbarImage = [[UIImage imageNamed:@"navbar"]
                            resizableImageWithCapInsets:UIEdgeInsetsMake(0, 9.0, 0, 9.0)];
UIImage *navbarLandscapeImage = [[UIImage imageNamed:@"navbar-landscape"]
                                 resizableImageWithCapInsets:UIEdgeInsetsMake(0, 9.0, 0, 9.0)];
[[UINavigationBar appearance] setBackgroundImage:navbarImage
                                   forBarMetrics:UIBarMetricsDefault];
[[UINavigationBar appearance] setBackgroundImage:navbarLandscapeImage
                                   forBarMetrics:UIBarMetricsLandscapePhone]; 
```

但是，在 iOS5.1 模拟器中，当我将方向从纵向更改为横向再到纵向时，使用的图像是 navbar-landscape.png 而不是 navbar.png。

以下是一些示例图像：

纵向默认： ![在此处输入图像描述](https://i.stack.imgur.com/h4dwx.png)

更改为横向： ![在此处输入图像描述](https://i.stack.imgur.com/qQAjs.png)

改回纵向： ![在此处输入图像描述](https://i.stack.imgur.com/Qku7C.png)

有谁知道这里的问题是什么？我不确定为什么使用了错误的图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-26T16:47:11.740

实际上，事实证明问题是模拟器中的错误。我尝试了上述所有解决方案，但没有一个对问题何时得到解决产生影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T14:03:09.357

您可以只为风景和肖像提供一张图像，而无需拥有两个不同的两个不同图像，而不是像这样提供 UIEdgeinset

```
UIImage *navbarImage = [[UIImage imageNamed:@"navbar"]
                        resizableImageWithCapInsets:UIEdgeInsetsMake(0, 9.0, 0, 9.0)]; 
```

您可以指定顶部和底部插图，以便它可以调整高度

```
UIImage *navbarImage = [[UIImage imageNamed:@"navbar"]
                        resizableImageWithCapInsets:UIEdgeInsetsMake(some value according the image u have, 9.0, some value according the image u have, 9.0)]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:30:46.143

你在哪里设置这个？您可以尝试将其添加到 -(void)viewWillLayoutSubviews。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-22T12:30:46.253

在纵向模式下：UINavigationBar 高度 = 44。

在横向模式下：UInavigationbar 高度 = 32

如果您希望它们相同，则需要考虑它们的高度。例如：

```
- (void)viewWillAppear:(BOOL)animated {
    CGRect navframe = [[self.navigationController navigationBar] frame];
    navframe.size.height = 44.0f;
    [self.navigationController navigationBar].frame = navframe;
} 
```

# c# - 如何将子菜单项添加到菜单项

> ID：16146801
> 
> 赞同：9
> 
> 时间：2013-04-22T12:10:38.130
> 
> 标签：c#, winforms, contextmenu, tablelayout, menu-items

我在 Windows 窗体中创建了一个表格布局，如图所示，我在表格中添加了一个鼠标右键单击菜单，

我不想将子菜单项添加到以下菜单项，例如

当我点击`add device`它应该显示子项，例如`sounder`，`MCP`等`strobe`当我单击`fault` 它应该显示子项，例如`open circuit fault`，，`sounder fault``短路故障'等等

这就是我创建菜单项的方式

```
 ContextMenu m = new ContextMenu();
    MenuItem addDevice = new MenuItem("Add Device");
    MenuItem deleteDevice = new MenuItem("delete Device");
    MenuItem fire = new MenuItem("Fire");
    MenuItem fault = new MenuItem("Fault");
    MenuItem suppress = new MenuItem("Suppress");
    m.MenuItems.AddRange(new MenuItem[] { addDevice, deleteDevice, fire, fault,suppress});
    tableLayout.ContextMenu = m;
    m.Show((Control)(sender), e.Location); 
```

下面是我的表格和表格布局

[![http://i48.tinypic.com/33ok3cw.jpg](https://i.stack.imgur.com/8UyqC.jpg)](https://i.stack.imgur.com/8UyqC.jpg)

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-22T12:16:40.977

您可以添加`MenuItems`到现有的`MenuItem`类似：

```
MenuItem addDevice = new MenuItem("Add Device");
addDevice.MenuItems.Add( new MenuItem("Add More ..")); 
```

它会像这样可见：

![在此处输入图像描述](https://i.stack.imgur.com/gqCvQ.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-16T11:53:56.373

```
MenuItem newMenuItem1 = new MenuItem("Employee Master");
            MenuItem mnuSubMenuItem = new MenuItem();
            newMenuItem1.ChildItems.Add(mnuSubMenuItem);
            mnuSubMenuItem.Text = "Add User...";
            mnuSubMenuItem.NavigateUrl = "ADDURL.aspx";

            MenuItem mnuSubMenuItem1 = new MenuItem();
            newMenuItem1.ChildItems.Add(mnuSubMenuItem1);
            mnuSubMenuItem1.Text = "Edit User...";
            mnuSubMenuItem1.NavigateUrl = "EDITURL.aspx";
            this.MenuMaster.Items.Add(newMenuItem1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-29T14:57:50.567

这种格式对我不起作用。我被迫使用：

```
// People often exclude the applicable "using" statements--so samples don't work!
using System.Web.UI.WebControls; 

// Create the MAIN menu item
MenuItem mnuMenuItem = new MenuItem();         

// Create the SUB menu item
MenuItem mnuSubMenuItem = new MenuItem();      

// Create the SUB menu item, "under" the MAIN menu item!
mnuMenuItem.ChildItems.Add(mnuSubMenuItem); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:18:15.823

你可以添加这个

```
var someMenu= new MenuItem("Foo");
someMenu.MenuItems.Add( new MenuItem("foo ")); 
```

# jakarta-ee - 缺少“javaee-endorsed-api-6.0”

> ID：16146806
> 
> 赞同：12
> 
> 时间：2013-04-22T12:10:56.713
> 
> 标签：jakarta-ee, netbeans

谁能告诉我：
**该项目使用了一个名为“javaee-endorsed-api-6.0”的类库，但没有找到这个类库。**
我已经下载了 javaee-endorsed-api-6.0.jar 并在 netbeans 7.3 中单击 Resolve，添加 jar。但是解决不了。我已经搜索了很多。但我找不到解决方案。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2016-04-14T19:48:57.750

我遇到了同样的问题，并通过 NetBeans 安装了一些 Java 企业版资源来解决它。转到插件并接受安装名为“EJB 和 EAR”的插件。完成后，安装 NetBeans 将自动找到它需要的文件。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-05-11T16:33:19.083

您需要将其添加为**库**（而不是 jar）。创建一个同名的库，即**javaee-endorsed-api-6.0**并将**下载的 javaee-endorsed-api-6.0.jar 文件添加到此库**中。这将解决您的问题。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-06-07T13:06:49.937

我遇到了同样的问题，并且能够通过编辑`build.properties`在 IDE 的 userdir 中找到的文件来解决问题。例如，在典型的 Windows 安装中，该文件位于`C:\Users\Kuldeep\AppData\Roaming\NetBeans\7.4`

编辑文件并添加以下行：

```
libs.javaee-endorsed-api-6.0.classpath=C:\\Program Files\\NetBeans 7.4\\enterprise\\modules\\ext\\javaee-api-6.0.jar
libs.javaee-endorsed-api-6.0.maven-pom=
libs.javaee-endorsed-api-6.0.src= 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-05-03T13:44:57.843

这解决了我的类似问题

1.  下载这个罐子

    ```
    javaee-endorsed-api-6.0.jar 
    ```

    确保将 jar 文件复制到

    ```
    netbeans/enterprise/modules/ext directory 
    ```

2.  在 netbeans 提示上单击解决
3.  在 Netbeans ANT 库管理器上创建一个新库

    ```
    javaee-endorsed-api-6.0 
    ```

4.  在类路径选项卡下单击添加 JAR 按钮并选择步骤 1 中的位置

添加后，您可以重新启动 netbeans，问题不再存在。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T14:24:27.430

也许它与缺少插件有关 -[这](http://forums.netbeans.org/topic21379.html)有帮助吗？

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-06-16T11:55:41.750

有同样的问题。通过添加库解决了它，如下所示：

1.  单击解决，将弹出一个窗口。
2.  它显示类库。在它下面，添加与指定的缺失库同名的库，例如。对于缺少**javaee-endorsed-api-6.0**库文件，添加名为**javaee-endorsed-api-6.0 的新库**
3.  添加新库后，单击 Add JAR/Folder 按钮在该库下添加必要的 jar 文件。
4.  单击确定解决。

**注意：-** `javaee-endorsed-api-6.0.jar`文件是库，如果不存在，则需要为此问题下载和引用。

# asp.net - 在 asp.net4 中使用 zedGargh.dll 时出错

> ID：16146809
> 
> 赞同：0
> 
> 时间：2013-04-22T12:11:11.023
> 
> 标签：asp.net, zedgraph

我想在 asp.net 4 中使用 zedgraph。但我得到**以下错误**：

**`System.IO.DirectoryNotFoundException`**：

`Could not find a part of the path C:\Users\stn-1\Desktop\ZedGraphWebAp1_CompiledSite8 \ZedGraphImages\ZedGraphWeb1fc6eb2c0-023a-4818-bff9-9c957971af4b.png`. 在 System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath) 在 System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs , String msgPath, Boolean bFromProxy, Boolean useLongPath) at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share) at ZedGraph.Web.ZedGraphWeb.Render(HtmlTextWriter output)

我使用下面的代码：

```
 protected void ZedGraphWeb1_RenderGraph(ZedGraphWeb webObject, System.Drawing.Graphics g, MasterPane pane)
{
    GraphPane myPane = pane[0];

    myPane.Title.Text = "Title";
    myPane.XAxis.Title.Text = "X axis label";
    myPane.YAxis.Title.Text = "Y axis label";

    PointPairList list1 = new PointPairList();

    for (int i = 0; i < 10; i++)
    {
        double x = Convert.ToDouble(i);
        double y = x * x;
        list1.Add(x, y);
    }

    string textForLegend = "x-squared";
    myPane.CurveList.Clear();
    LineItem myCurve = myPane.AddCurve(textForLegend,
        list1, Color.Red, SymbolType.Diamond);
    myCurve.Symbol.IsVisible = true;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-15T06:37:35.550

原因是 zedgraph 不会在根文件夹中自动创建文件夹名称“ZedGraphImages”...您应该手动创建它...

# accurev - 如何在 Accurev 中获取自日期/修订版以来修改的文件列表

> ID：16146810
> 
> 赞同：2
> 
> 时间：2013-04-22T12:11:11.717
> 
> 标签：accurev

我创建了一个由一些协作流支持的工作区。该信息流由团队成员定期更新。我的目标是在给定路径中获取修改后的文件并将它们放入另一个存储库（定期执行）。

问题是如何创建自修订或日期或..以来修改的文件列表？（我不知道哪种方法最好。）命令行更可取。

一旦我得到文件列表，我就会创建一个自动化脚本来从一个地方获取文件并将它们放到另一个地方。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-17T10:15:14.970

accurev hist -s Your_Stream -t "2013/05/16 01:00:00"-now -a -fl

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-23T08:32:09.997

您可以运行`accurev stat -m -fx`然后解析生成的 XML。`element`元素将具有`modTime`属性，即文件被修改时的 UNIX 时间戳。

# git - 两个分支同时活跃？

> ID：16146814
> 
> 赞同：0
> 
> 时间：2013-04-22T12:11:45.940
> 
> 标签：git, github

我有一个登台服务器，它通常用作我们开发分支的测试平台。最近，我们添加了一位正在开发新功能的新程序员。我们希望能够同时在服务器上托管多个分支。

我想我希望能够将我们的 IIS 指向 GIT 中的隐藏文件夹，但是有没有办法让所有分支都可见？

目前我有一个新站点设置为目录的副本，但是当它切换到分支 B 时，我必须手动复制目录，然后将 git 切换回分支 A。

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:21:10.857

您可以简单地将该机器上的 2 个 repo 克隆放在单独的文件夹中，以便同时签出 2 个分支。或者，你可以试试[git-new-workdir](http://nuclearsquid.com/writings/git-new-workdir/)

# java - 如何让我的应用每分钟重复此功能？

> ID：16146817
> 
> 赞同：1
> 
> 时间：2013-04-22T12:11:55.580
> 
> 标签：java, android, function, repeat

我目前正在制作一个在随机位置 onCreate 显示数字时钟的应用程序。我希望应用程序做的只是每分钟重复一次该功能。有人知道如何实施吗？

```
public class MainActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    TextView textView = (TextView) findViewById(R.id.digitalClock1);  
    Random r = new Random();

    int x = r.nextInt(350 - 100);
    int y = r.nextInt(800 - 100);

    textView.setX(x);  
    textView.setY(y);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:15:45.203

利用`Handler`

```
Handler handler = new Handler();
        handler.postDelayed(new Runnable() {
            @Override
            public void run() {
                Random r = new Random();

                int x = r.nextInt(350 - 100);
                int y = r.nextInt(800 - 100);

                textView.setX(x);  
                textView.setY(y);
            }
        }, 1000 * 60); 
```

# mysql - 使用存储过程和 auto_increment 字段插入实体框架相关对象

> ID：16146818
> 
> 赞同：0
> 
> 时间：2013-04-22T12:11:56.547
> 
> 标签：mysql, entity-framework, foreign-keys, ria, auto-increment

我在通过 Entity Framework 5 插入相关行时遇到问题。我将它与 RIA 服务和 .NET Framework 4.5 版一起使用。数据库系统为 MySQL 5.6。连接器版本为 6.6.5。

**它引发了外键约束异常。**

我选择简化模型以暴露我的问题。

> **LDM**
> 
> 提供者（ID、名称、地址）
> 
> 文章（ID、名称、价格）
> 
> LinkToProvider(provider_id, article_id, provider_price)
> 
> // Id 是 auto_increment 列。

首先，我创建了一个 Article 的新实例。我将 LinkToProvider 的一个实例添加到文章的 LinkProvider 集合中。在此 LinkToProvider 对象中，引用了产品本身。还引用了现有的提供程序。然后我提交更改。

> **来自 DataViewModel 的示例代码**

```
this.CurrentArticle = new Article();

...

this.CurrentArticle.LinkToProvider.Add(

new LinkToProvider { Article = this.CurrentArticle, Provider = 
this.ProviderCollection.CurrentItem }

);

...

this.DomainContext.articles.Add(this.CurrentArticle);

this.DomainContext.SubmitChanges(); 
```

**笔记 ：**

在开始时，Entity Framework 很好地插入了产品。然后它失败了，因为它试图在 LinkToPrivder 表中插入一个具有未知产品 ID 的行，如下所示。

```
INSERT
INTO LinkToProvider
VALUES(5, 0, 1.2) 
```

它放置 0 而不是生成的 id。

但是，如果我单独插入一个产品而没有任何关系，则产品 ID 会在数据库中正确生成。

任何帮助都感激不尽 ！谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T13:12:48.063

我找到了答案。您需要将存储过程**的结果绑定到****edmx 模型中**的 id 列

 **所以我必须修改我的存储过程以添加一条指令，以在标准输出上显示文章表的最后插入 id。

```
SELECT LAST_INSERT_ID() AS NewArticleId; 
```

然后我用存储过程返回的列名的名称添加了绑定。这是NewArticleId。

它在这里解释：http: [//learnentityframework.com/LearnEntityFramework/tutorials/using-stored-procedures-for-insert-update-amp-delete-in-an-entity-data-model/](http://learnentityframework.com/LearnEntityFramework/tutorials/using-stored-procedures-for-insert-update-amp-delete-in-an-entity-data-model/)。**

# linux - 没有相关信息的 GDB 调试跟踪（#0 0x2e6e6f69 in ?? ()）

> ID：16146819
> 
> 赞同：0
> 
> 时间：2013-04-22T12:11:56.687
> 
> 标签：linux, gdb, segmentation-fault, coredump, memory-corruption

在使用 GDB 进行调试时，我面临着一个特定的挑战。我的二进制文件正在生成核心。当我调试它 GDB 时。我没有得到相关的调试信息。

```
GDB stack trace (bt):-

[root@ussdgw5 bin]# gdb pull core.11328
GNU gdb (GDB) Red Hat Enterprise Linux (7.0.1-23.el5)
Copyright (C) 2009 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i386-redhat-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /home/abc/xyz/bin/pull...done.
[New Thread 11379]
[New Thread 11378]
[New Thread 11377]
[New Thread 11376]
Reading symbols from /lib/libpthread.so.0...(no debugging symbols found)...done.
Loaded symbols for /lib/libpthread.so.0
Reading symbols from /lib/libm.so.6...(no debugging symbols found)...done.
Loaded symbols for /lib/libm.so.6
Reading symbols from /opt/septel/lib32/libgctlib.so.1...(no debugging symbols found)...done.
Loaded symbols for /opt/septel/lib32/libgctlib.so.1
Reading symbols from /lib/libc.so.6...(no debugging symbols found)...done.
Loaded symbols for /lib/libc.so.6
Reading symbols from /lib/ld-linux.so.2...(no debugging symbols found)...done.
Loaded symbols for /lib/ld-linux.so.2
Reading symbols from /lib/libnss_files.so.2...(no debugging symbols found)...done.
Loaded symbols for /lib/libnss_files.so.2
Core was generated by `./pull -c /home/abc/xyz/conf/Common.cfg -g /home/abc/xyz/'.
Program terminated with signal 11, Segmentation fault.
#0  0x2e6e6f69 in ?? ()
(gdb) bt
#0  0x2e6e6f69 in ?? ()
#1  0x40310738 in ?? ()
#2  0x20459102 in menu_table ()
#3  0x31073900 in ?? ()
#4  0x35910240 in ?? ()
#5  0x01530084 in ?? ()
#6  0x00000052 in ?? ()
#7  0x00000000 in ?? ()
(gdb) q 
```

bt 和 bt full 没有显示任何有用的信息。我已经遵守了我的二进制 -g 标志。相同的二进制文件生成了我已修复的正常核心（具有正确调试信息的核心）。

在这种特殊情况下，我无法确定任何问题。请建议我如何调试和解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:37:23.920

下面的指针可以帮助您检查调试信息 -
1\. 检查您是否编译了带有调试信息的代码。（如 -g 和优化标志关闭 -O(2/3/4/5)）等
2\. 在核心生成期间检查 - 您的系统中有足够的空间。截断的核心文件将没有完整的详细信息来检查符号。
3\. 检查调试环境是否与运行环境完全一致（如果两者在不同的位置）。不正确的环境也可能导致未知符号。

这些是一些指针。如果我记得更多，我会更新答案。！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T14:00:43.843

> `gdb pull core.11328`
> 
> `Core was generated by` ./ussd_pull_gw ...`

您的问题最可能的原因是二进制不匹配：您可能正在分析由*不同*可执行文件生成的核心。

您需要使用生成核心的*完全相同的*可执行文件。使用 eg`-g`而不是重建可执行文件`-O2`会导致您观察到的结果（但`-g -O2`经常使用重建）。

# android - 在 onPostExecute() 中运行另一个 AsyncTask

> ID：16146825
> 
> 赞同：13
> 
> 时间：2013-04-22T12:12:57.947
> 
> 标签：android, android-asynctask

如果我需要在另一个异步任务中运行另一个异步任务怎么办，这意味着在`onPostExecute()`方法中，该怎么做？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-04-22T12:15:33.920

作为建议，请尝试在第一次接听电话时尽可能多地分流`AsyncTask`。但是，如果您的应用程序设计是这样一种方式，即您只需要在第一个任务完成后执行另一个任务，那么只需按照与第一个任务`AsyncTask`完全相同的方式执行第二个任务。

```
@Override
protected void onPostExecute(String result) {
     new MySecondAsyncTask().execute(params);   //params if any
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:15:43.723

您可以尝试以下代码来创建一个`NewAsyncTask`in`onPostExecute`然后执行新任务。

```
@Override
protected void onPostExecute(String result) {
    NewAsyncTask newtask = new NewAsyncTask();
    newtask.execute();    
} 
```

# php - 在mysql中获取接近主值的值？

> ID：16146828
> 
> 赞同：-1
> 
> 时间：2013-04-22T12:13:10.540
> 
> 标签：php, mysql

我有一张桌子**`results`**。

表有**名称**和**金额**列

那里有成千上万的记录。有些有数百个，有些有数千个，有些是 100k，有些是数千万。

我从 url 得到**$amount**作为变量。

我只想要 6 个更接近**$amount**的结果。

这次我使用mysql 的**between**子句。但问题是我怎么知道我使用了多少低于或高于 $amount。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:26:43.887

取绝对差值，然后用于`limit`获取前几位：

```
SELECT * 
FROM  `numbers` 
ORDER BY ABS( amount - $amount ) ASC 
LIMIT 6 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:24:26.323

您可以简单地尝试以下查询，

```
SELECT name, amount, ABS( amount - $amount ) AS diff
FROM results
ORDER BY diff
LIMIT 6 
```

# php - 忽略 codeigniter 中的 frontpage.php

> ID：16146832
> 
> 赞同：0
> 
> 时间：2013-04-22T12:13:16.133
> 
> 标签：php, codeigniter

我目前正在使用在 codeigniter 中创建的现有网站。每当用户进入一个页面时，他会被重定向到 frontpage.php，它会检查用户是否登录，如果没有，他会被重定向到登录页面。现在，我有一页不应该执行这个frontpage.php，任何用户都可以输入它。

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:12:52.820

有类似的问题并通过使用一些在线教程以这种方式解决

1：在“frontpage.php”之前创建一个单独的登录页面（例如 login.php）。

2：将登录名、密码和会话变量传递到首页。

3：重新编码“frontpage.php”以检查“login.php”传递的会话变量。

如果您通过正常方式进入页面，它将使用正常登录。如果您通过新的“login.php”页面进入该页面，它将被重新编码的“frontpage.php”拾取并绕过正常方式。

希望这可以帮助

格茨

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:21:28.657

制作新的控制器

```
class Newpage extends CI_Controller {

  public function index(){
    $this->load->view('newpage');
  }
} 
```

现在转到

**yourhost.com/index.php/newpage**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:25:05.800

可能是您的默认控制器具有检查用户是否登录的编码。请删除或更改控制器中的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:38:11.160

我认为您需要删除控制器，它就是这样工作的！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T13:04:01.010

将所有内容重新路由到您的页面控制器并将其用作您的默认值

```
$route['default_controller'] = 'pages';

$route['(.*)'] = 'pages/index/$1'; 
```

-

```
class Pages extends CI_Controller
{
    protected $currentUser = null;

    public function __construct()
    {
        parent::__construct();
        $this->currentUser = Auth::getCurrentUserObject(); //check user is logged in
    }

    public function index($uri='home')
    {

        $sizeOfSegments = sizeof($this->uri->rsegments);

        if ($sizeOfSegments >= 3)
        {       
            $uri = $this->uri->rsegments[3];
        } 
        else
        {
            $uri = 'home';
        }

        $pageFound = Page::find($uri); //query the database

        if (!$pageFound)
        {
            return show_404($uri); // find out where there were headed 
        }

        unset($sizeOfSegments, $uri);

        if(is_null($this->currentUser) OR !$this->currentUserHasPermissionToViewThisPage OR !$pageIsNotPublic)
        {
            return redirect('login');
        }

        $this->load->view();

    }
} 
```

# android - 在一段中如何在android textview中以编程方式查找每一行的第一个和最后一个单词

> ID：16146833
> 
> 赞同：0
> 
> 时间：2013-04-22T12:13:17.610
> 
> 标签：android, textview

我想找到该行段落的第一个和最后一个单词。

样本 ：

**我的**国家是土耳其。我非常爱我的**国家**。

**我国一年有四个季节**。****每个****

 ****一个**有3个月。**那是每个人**的地方

 ****住**在**中**。

在这样的一段中，我想要粗体字。这一段在 textview 中，代码必须注意 textview 的宽度。如果宽度改变，第一个和最后一个词也会改变，算法必须找到它们。

如果你能帮忙，我会很高兴的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:22:49.957

我不确定android如何通过调整大小和所有这些来处理文本的实际放置。我真的怀疑它是否会在文本中添加制表符和换行符以显示它们，但如果是这样，您可以使用正则表达式来找到它。或带有线锚的正则表达式。看看这个，看看它是否有帮助：

[http://www.regular-expressions.info/anchors.html](http://www.regular-expressions.info/anchors.html)****

# php - symfony 1.4 sfValidatorChoice 不工作

> ID：16146841
> 
> 赞同：0
> 
> 时间：2013-04-22T12:13:33.017
> 
> 标签：php, forms, symfony1, symfony-1.4, symfony-forms

我写了几个文件来提交表单。但是表单验证器不适用于选择（付款状态）。

这是我的表格。

```
class bookingAddForm extends sfForm
{
    protected static $paymentStatus = array(
        0                => 'Select Payment Status',
        'PAID'           => 'Paid',
        'PARTIALLY_PAID' => 'Partially Paid',
        'NOT_PAID'       => 'Not Paid',
    );

    public function configure()
    {
        $this->widgetSchema['check_in'] = new sfWidgetFormInputText();
        $this->widgetSchema['check_out'] = new sfWidgetFormInputText();

        $this->widgetSchema['payment_status'] = new sfWidgetFormSelect(array('choices' => self::$paymentStatus));

        unset($paymentStatus[0]);

        $this->validatorSchema['check_in'] = new sfValidatorDate(array(
                                                    'min'         => strtotime('today'), 
                                                    'date_format' => '~(?P<day>\d{2})/(?P<month>\d{2})/(?P<year>\d{4})~'
                                                ), 
                                                array(
                                                    'required'   => 'From date is required',
                                                    'bad_format' => '"%value%" does not match the date format (DD/MM/YYYY).',
                                                    'min'        => 'Invalid Date',
                                                )
                                            );
        $this->validatorSchema['check_out'] = new sfValidatorDate(array(
                                                    'min'         => strtotime('today'), 
                                                    'date_format' => '~(?P<day>\d{2})/(?P<month>\d{2})/(?P<year>\d{4})~'
                                                ), 
                                                array(
                                                    'required'   => 'To date is required',
                                                    'bad_format' => '"%value%" does not match the date format (DD/MM/YYYY).',
                                                    'min'        => 'Invalid Date'
                                                )
                                            );

        $this->validatorSchema['payment_status'] = new sfValidatorChoice(array('choices' => array_keys(self::$paymentStatus)));

        $this->widgetSchema->setNameFormat('reservation[%s]');
    }

} 
```

这是我的行动。

```
 public function executeAddReservation(sfWebRequest $request)
    {
        $chaletId   =  $request->getParameter('id');
        $this->chalet = skiChaletTable::getInstance()->getChalet($chaletId);

        $this->form = new bookingAddForm();

        if ($request->getMethod() == sfRequest::POST) {           
            $this->form->bind($request->getParameter($this->form->getName()));
            if ($this->form->isValid()) {
                die('submitted');
            } 
        }
    } 
```

这是我的看法

```
<div class="form">
    <form id="owner-add-reservation" action="<?php print url_for('owner_add_reservation', array('id' => $chalet->getId())); ?>" method="post">
        <?php echo $form->renderHiddenFields(); ?>

        <div class="row">
            <div class="col">
                <?php echo $form['check_in']->renderLabel(); ?><br/>
                <?php echo $form['check_in']->render(); ?>
                <a href="javascript:void(0);" id="check_in_picker"><img style="vertical-align:middle;" src="/images/icon_checkin_checkout.jpg"></a>
                <span id="<?php echo 'form_error_' . $form->getName() . '_check_in' ?>" class="form_error">
                    <?php echo $form['check_in']->getError(); ?>
                </span>
            </div>
            <div class="col">
                <?php echo $form['check_out']->renderLabel(); ?><br/>
                <?php echo $form['check_out']->render(); ?>
                <a href="javascript:void(0);" id="check_out_picker"><img style="vertical-align:middle;" src="/images/icon_checkin_checkout.jpg"></a>
                <span id="<?php echo 'form_error_' . $form->getName() . '_check_out' ?>" class="form_error">
                    <?php echo $form['check_out']->getError(); ?>
                </span>
            </div>            
        </div>

        <div class="row">
            <div class="col">
                <?php echo $form['payment_status']->renderLabel(); ?><br/>
                <?php echo $form['payment_status']->render(); ?>                
                <span id="<?php echo 'form_error_' . $form->getName() . '_payment_status' ?>" class="form_error">
                    <?php echo $form['payment_status']->getError(); ?>
                </span>
            </div>

        </div>

        <div class="row">
            <div class="col float-right">
              <input type="submit" value="Add Reservation" class="button_black"/>
            <div class="col">
        </div>
    </form>
    <div class="clearfix"></div>
</div> 
```

验证适用于 check_in 和 check_out。但它也不适用于 payement_status。请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:47:42.247

表单的 configure() 方法中的这行代码

```
unset($paymentStatus[0]); 
```

没有效果，因为您在验证器的选项中引用了表单静态变量 self::$paymentStatus。您应该更改您的 sfValidatorChoice 以便它的选项是

```
array('choices' => array_keys($paymentStatus)) 
```

代替

```
array('choices' => array_keys(self::$paymentStatus)) 
```

或者更容易做到这一点：

```
protected static $paymentStatus = array(
    'PAID'           => 'Paid',
    'PARTIALLY_PAID' => 'Partially Paid',
    'NOT_PAID'       => 'Not Paid',
);

public function configure()
{
    //....
    $this->widgetSchema['payment_status'] = new sfWidgetFormSelect(array('choices' => array_merge(array('' => 'Select a payment status'), self::$paymentStatus)));
    //...
} 
```

# fortran - Fortran 算术异常

> ID：16146843
> 
> 赞同：2
> 
> 时间：2013-04-22T12:13:40.097
> 
> 标签：fortran, gfortran

这是一个简短的问题，但我试图提供尽可能多的细节。

我正在 Scientific Linux 上编译一个旧的但仍在积极开发的 fortran 代码（f77 标准）。此代码的推荐编译器是 ifort 和 gfortran。使用 gfortran 我可以编译和运行这段代码。但是，如果我使用 DEBUG=1 标志进行代码编译，但会以 SEG FAULT 终止。使用 gdb 单步执行会导致以下错误来源：

```
REAL*4 TIME_CURRENT     
CALL CPU_TIME(TIME_CURRENT) 
ISECS = 100*INT(TIME_CURRENT) 
```

该程序终止于：

```
Program received signal SIGFPE, Arithmetic exception. 
timer (init=1, isecs=0) at myprog.f:1818
1818 ISECS = 100*INT(TIME_CURRENT) 
```

如果我在第 1818 行停止执行并检查 ISECS 和 TIME_CURRENT，我会得到：

```
(gdb) ptype(TIME_CURRENT)
type = real(kind=4)
(gdb) ptype(ISECS)
type = integer(kind=4) 
```

我尝试过更具体并使用：

```
ISECS = 100*INT(TIME_CURRENT,4) 
```

但这无济于事。我看不出这怎么可能等同于算术错误？

我的（生成的makefile）调试编译标志是：

```
gfortran -fno-automatic -m32 -O0 -g \
         -ffpe-trap=invalid,zero,overflow,underflow,precision -static-libgfortran 
```

当我从调试中编译时，我不再收到 SEG FAULT 但我的编译标志是

```
gfortran -fno-automatic -m32 -O2 -ffast-math -static-libgfortran 
```

我不是 Fortran 程序员，因此我们将不胜感激。请注意，我在 64 位系统上编译，但强制进行 32 位编译，因为这是必需的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-22T12:30:54.573

您的代码看起来不像 FORTRAN 77，`CPU_TIME`而是来自 Fortran 95。无论如何，您的调试选项非常严格。`-ffpe-trap=invalid,zero,overflow,underflow,precision`意味着浮点运算的许多合法使用将导致异常。我建议只使用`-ffpe-trap=invalid,zero,overflow`.

特别来自 gfortran 手册：

```
Some of the routines in the Fortran runtime library, like CPU_TIME ,
are likely to trigger floating point exceptions when "ffpe-trap=precision"
is used. For this reason, the use of "ffpe-trap=precision" is not recommended. 
```

# iphone - 更改附件图像有效，但我也想更改 plist 中的 BOOL 值

> ID：16146844
> 
> 赞同：0
> 
> 时间：2013-04-22T12:13:43.487
> 
> 标签：iphone, uitableview, plist

我使用以下示例更改 UITableViewCell 中的（附件）图像。它工作得很好。但是，代码只更改图像，而不更改 plist 中的值。 [http://www.edumobile.org/iphone/iphone-programming-tutorials/impliment-a-custom-accessory-view-for-your-uitableview-in-iphone/](http://www.edumobile.org/iphone/iphone-programming-tutorials/impliment-a-custom-accessory-view-for-your-uitableview-in-iphone/)

在下面的方法中，我想将更改后的 BOOL 保存在 dataList.plist 中。

```
- (void)checkButtonTapped:(id)sender event:(id)event
{
NSSet *touches = [event allTouches];
UITouch *touch = [touches anyObject];
CGPoint currentTouchPosition = [touch locationInView:self.tableView];
NSIndexPath *indexPath = [self.tableView indexPathForRowAtPoint: currentTouchPosition];
if (indexPath != nil)
{
[self tableView: self.tableView accessoryButtonTappedForRowWithIndexPath: indexPath];
} 
```

**最好的方法应该是什么？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T13:17:31.447

只需更新用于填充表视图的（可变）数据数组。当数据发生更改并且您希望将其持久化时，请通过标准文件管理器调用将整个数据阵列写入磁盘。

不幸的是，plist 只能一次读取/写入。

# windows-phone-7 - 如何从后台代理中进行同步 Web 调用

> ID：16146848
> 
> 赞同：0
> 
> 时间：2013-04-22T12:13:51.707
> 
> 标签：windows-phone-7, asynchronous, webclient, background-agents

我对 wp7 开发相当陌生，目前正在开发一个应用程序，它有一个后台代理来根据它从网络调用到 api 获得的响应来更新值。

我的问题是对网络调用的响应是异步调用，我无法访问从后台代理返回的结果。

有什么方法可以让我从后台代理中进行同步调用，以便让我在同一个代理中处理结果？

我曾尝试在共享库中的一个类中处理 Web 调用，但异步调用仅在代理的 onInvoke 方法完成后进行，因此没有用。任何想法都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:56:38.133

您只需要在异步调用的 Completed 处理程序中调用 NotifyComplete() 方法，而不是之前。在 Invoke 结束时删除调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T20:21:28.413

你可以像这样使用 AutoResetEvent：

```
protected override void OnInvoke(ScheduledTask task)
{
  AutoResetEvent are = new AutoResetEvent(false);

  //your asynchronous call, for example:
  WebClient wc = new WebClient();
  wc.OpenReadCompleted += new OpenReadCompletedEventHandler(wc_OpenReadCompleted);
  wc.OpenReadAsync(searchUri, channel);

  // lock the thread until web call is completed
  are.WaitOne();

  //finally call the NotifyComplete method to end the background agent
  NotifyComplete(); 
} 
```

您的回调方法应如下所示：

```
void wc_OpenReadCompleted(object sender, OpenReadCompletedEventArgs e)
{
  //do stuff with the web call response

  //signals locked thread that can now proceed
  are.Set();
} 
```

请记住，您应该检查连接是否可用并处理可能的异常，如果您的后台代理连续两次被杀死（由于内存消耗或持续时间），它将被操作系统禁用。

# oracle - 返回 varchar2 的函数给出错误的结果

> ID：16146856
> 
> 赞同：0
> 
> 时间：2013-04-22T12:14:25.267
> 
> 标签：oracle, where-clause, dynamic-sql

我想根据从 gui 中选择的标准动态构建查询。这是我的甲骨文包，

```
CREATE OR REPLACE PACKAGE TestPkg 
AS
    g_lastnamelist VARCHAR2(50);

    FUNCTION getLastName return VARCHAR2;
    FUNCTION buildQuery(p_lastnamelist VARCHAR2);
END;

CREATE OR REPLACE PACKAGE BODY TestPkg 
AS

   FUNCTION getLastName return VARCHAR2
   IS
   BEGIN
       RETURN replace(g_lastnamelist, '''', '');
   END;

   FUNCTION buildQuery(p_lastnamelist VARCHAR2);
   IS
       m_query varchar2(1000);
   BEGIN
       g_lastnamelist := p_lastnamelist;
       m_query := 'SELECT * FROM emp WHERE last_name IN(TestPkg.getLastName)';
   END;
END; 
```

在这里，如果我使用`'SELECT * FROM emp WHERE last_name IN('||p_lastnamelist||')';`它，它会返回正确的记录，但如果我`'SELECT * FROM emp WHERE last_name IN(TestPkg.getLastName)';`这样使用，那么它会失败。什么原因。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:06:31.437

我假设您传递的是逗号分隔的引用值列表，例如`p_lastnamelist`is `'Smith','Jones'`，因为这是您的第一个查询起作用的唯一方式，并解释了`replace`调用。（如果您显示输入、输出和您得到的任何错误，这会有所帮助，因此我们不必猜测和假设）。当在查询中使用它时，它们最终看起来有很大不同。第一个：

```
'SELECT * FROM emp WHERE last_name IN('||p_lastnamelist||')' 
```

变成：

```
SELECT * FROM emp WHERE last_name IN('Smith','Jones') 
```

...这将匹配具有这些姓氏中的任何一个的任何记录。但是第二个：

```
'SELECT * FROM emp WHERE last_name IN(TestPkg.getLastName)' 
```

在您从*value*中删除引号后，变为：

```
SELECT * FROM emp WHERE last_name IN('Smith,Jones') 
```

...它正在寻找单个值，并且仅当您有一条带有 last name 的记录时才会匹配`Smith,Jones`，这不太可能。无论返回什么，`TestPkg.getLastName`都将被视为单个字符串值。必须是因为函数返回一个`varchar2`. 但是，如果您按照 Egor 的建议使用绑定变量，情况也是如此。

# google-app-engine - 如何使用 GAE 访问 gmail 收件箱

> ID：16146857
> 
> 赞同：3
> 
> 时间：2013-04-22T12:14:26.973
> 
> 标签：google-app-engine, sockets, imap, gmail-imap

我们正在尝试从我们的 Java 应用程序访问 gmail 收件箱。我们可以阅读收件箱、消息、添加标签，但我们正在实现所有所需的功能。

我们的结论：

-GAE SDK 中嵌入的-javax.mail 不起作用，我们无法获取电子邮件的内容，它总是返回 null（正如预期的不适用于 IMAP 协议）。

*   使用包 mail.jar ( [https://java.net/projects/javamail/pages/Home](https://java.net/projects/javamail/pages/Home) )，库会引发错误，因为有两个同名的库。(javax)

*   我们进行了调查，并在 Google Groups 上找到了一个解决方案，该解决方案包括将文件从 javamail.jar 复制到我们的 WEB-INF/classes 目录到我们的项目中。

*   之后，javamail 库工作，但我们的项目（eclipse）无法识别 com.sun 包，因此我们无法获取附件的内容，确实需要使用“com.sun.mail.util”包。

如何将此库添加到我们的项目中？

我们用：

App Engine Java SDK 1.7.7 GWT 2.5.1 Java Sun 1.6 Eclipse 3.7.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T15:35:29.877

您应确保接收电子邮件时应将入站邮件服务设为 true

```
<inbound-services>
  <service>mail</service>
</inbound-services> 
```

您可以在文档中阅读更多配置详细信息。，

[接收电子邮件](https://developers.google.com/appengine/docs/java/mail/overview#Receiving_Mail)

# ruby - 使用 Ruby 过滤大型 json 文件

> ID：16146860
> 
> 赞同：1
> 
> 时间：2013-04-22T12:14:45.910
> 
> 标签：ruby, arrays, json, parsing, filter

作为一个编程的初学者，我正在尝试为我在大学的硕士论文过滤一个 JSON 文件。该文件包含大约 500 个哈希，其中 115 个是我感兴趣的。

我想做的事：

（1）过滤文件，选择我感兴趣的hash

(2) 对于每个选择的哈希，只返回一些特定的键

带有哈希（“贷款”）的数组格式包括：

```
{"header": {
   "total":546188,
   "page":868,
   "date":"2013-04-11T10:21:24Z",
   "page_size":500},
 "loans": [{
   "id":427853,
   "name":"Peter Pan",
   ...,
   "status":"expired",
   "paid_amount":525,
   ...,
   "activity":"Construction Supplies",
   "sector":"Construction"," },
    ... ]
 } 
```

具体来说，我想要以下内容：

(1) 过滤掉 "status":"expired" 的 "loans" 哈希

(2) 只为每个这样的“过期”贷款返回某些键：“id”、“name”、“activity”……

(3) 最终，将所有内容导出到一个文件中，我可以在 Excel 中或使用一些统计软件（SPSS 或 Stata）进行分析

到目前为止，我自己想出的是：

```
require 'rubygems'
require 'json'

toberead = File.read('loans_868.json')
another = JSON.parse(toberead)

read = another.select {|hash| hash['status'] == 'expired'}

puts hash 
```

这显然是完全不完整的。我感到完全迷失了。现在，我不知道在哪里以及如何继续。尽管已经搜索并阅读了大量关于如何过滤 JSON 的文章......

有没有人可以帮我解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-22T15:58:36.850

JSON 将被解析为哈希，“header”是一个键，“loans”是另一个键。

所以在你的 JSON.parse 行之后，你可以做

```
loans = another['loans'] 
```

现在贷款是一个哈希数组，每个哈希代表你的一个贷款。然后你可以做

```
expired_loans = loans.select {|loan| loan['status'] == 'expired'}
puts expired_loans 
```

得到你想要的输出。

# jdbc - 在 as400 和 Oracle 之间传输数据

> ID：16146864
> 
> 赞同：0
> 
> 时间：2013-04-22T12:14:53.597
> 
> 标签：jdbc, oracle11g, ibm-midrange, data-migration

我需要将大量数据从 AS400 传输到 Oracle db。我想写一个java代码但是我很久没有开发java了。我想我需要同时使用 AS400 和 Oracle jdbc 驱动程序。

我可以这样写一个语句：

插入 ORACLE_DB.TABLE_TARGET SELECT * FROM AS400.TABLE_SOURCE

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T13:10:58.083

两个数据库都需要不同的 JDBC 驱动程序……所以我认为您不能轻松地在 select 上插入。

您可能必须编写一个程序来进行数据传输。查看[这篇](https://stackoverflow.com/questions/6397342/connecting-to-multiple-databases-using-different-jdbc-drivers)文章以获取有关使用两个 jdbc 驱动程序的信息。

# php - 在 Laravel 中创建一个多语言站点

> ID：16146865
> 
> 赞同：5
> 
> 时间：2013-04-22T12:14:54.000
> 
> 标签：php, laravel, multilingual

我即将创建一个多语言站点，其中公共页面将使用英语，然后管理员使用阿拉伯语。我以前从未做过这方面的工作，也不确定从哪里开始。也许以前做过多语言网站的人可以为我回答几个问题。

1.  英语和阿拉伯语可以保存在同一张表中吗？如果是这样，我的排序规则一直是 utf-8 Unicode，这是否意味着我不能再使用 utf8 了？
2.  我网站的阿拉伯语部分是否需要自己的表格？如果是这样，什么整理？
3.  在我的视图中，我输入什么来代替`<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />`？
4.  关于启动多语言网站，我应该知道些什么？

提前致谢！我真的有点迷失从哪里开始。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-22T12:32:50.443

1.  是的，你可以使用 utf8
2.  不，您可以在同一张表中同时使用阿拉伯语和英语
3.  阿拉伯字符集是`iso-8859-6`，因此您需要在管理视图中更改字符集属性
4.  您可能想`body { direction: rtl; }`在您的 css 中使用阿拉伯语页面

您可能会发现这些链接很有用：

*   [Laravel 本地化文档](http://laravel.com/docs/localization)
*   [在 Laravel 视图中查找当前语言](https://stackoverflow.com/questions/12706463/how-can-i-find-the-current-language-in-a-laravel-view/12708094#12708094)
*   [切换语言](https://stackoverflow.com/questions/12708392/whats-the-best-logic-for-switching-language-in-laravel)

`application/language/XX/validation.php`当你想`:attribute`使用Laravel 的翻译文件`name`（您可以通过使用 Validation Attributes 数组将英语字段名称与阿拉伯语等效项联系起来来解决此问题。如果您发现已经将它们翻译成另一种语言文件，则可以改用以下代码：

```
'attributes' => array_merge(
    Lang::file('application', 'ar', 'filename_without_extension'),
    Lang::file('application', 'ar', 'another_file')
), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-25T23:57:40.717

默认情况下，Laravel 使用 email 字段进行身份验证。如果你想自定义这个，你可以在你的 LoginController 上定义一个用户名方法：

```
public function username()
{
    return 'username';
} 
```

# php - 如何在 PHP 中剪切这个字符串？

> ID：16146869
> 
> 赞同：0
> 
> 时间：2013-04-22T12:15:22.667
> 
> 标签：php, regex, expression

我目前正在编写一个脚本来存档一个图像板。我有点坚持正确地引用链接，所以我可以使用一些帮助。

我收到这个字符串：

```
<a href="10028949#p10028949" class="quotelink">&gt;&gt;10028949</a><br><br>who that guy??? 
```

在所述字符串中，我需要更改这部分：

```
<a href="10028949#p10028949" 
```

变成这样：

```
<a href="#p10028949" 
```

使用 PHP。

这部分可能在字符串中出现多次，也可能根本不出现。如果您有我可以用于此目的的代码片段，我将不胜感激。

提前致谢！肯尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:20:25.667

免责声明：正如评论中所说，使用 DOM 解析器更好地解析 HTML。

话虽如此：

```
"/(<a[^>]*?href=")\d+(#[^"]+")/" 
```

取而代之`$1$2`

所以...

```
$myString = preg_replace("/(<a[^>]*?href=\")\d+(#[^\"]+\")/", "$1$2", $myString); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:22:19.507

试试这个

```
<a href="<?php echo strstr($str, '#')?>" class="quotelink">&gt;&gt;10028949</a><br><br>who that guy??? 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T13:30:43.933

虽然您已经回答了问题，但我邀请您看看（大约 xD）是正确的方法，用 DOM 解析它：

```
$string = '<a href="10028949#p10028949" class="quotelink">&gt;&gt;10028949</a><br><br>who that guy???';

$dom = new DOMDocument();
$dom->loadHTML($string);

$links = $dom->getElementsByTagName('a'); // This stores all the links in an array (actually a nodeList Object)

foreach($links as $link){
    $href = $link->getAttribute('href'); //getting the href

    $cut = strpos($href, '#');
    $new_href =  substr($href, $cut); //cutting the string by the #

    $link->setAttribute('href', $new_href); //setting the good href
}

$body = $dom->getElementsByTagName('body')->item(0); //selecting everything

$output = $dom->saveHTML($body); //passing it into a string

echo $output; 
```

* * *

这样做的好处是：

*   更有条理/更清洁
*   更容易被其他人阅读
*   例如，您可能有混合链接，而您只想修改其中的一些。使用 Dom 你实际上只能选择某些类
*   您也可以更改其他属性，或所选标签的兄弟姐妹、父母、孩子等...

当然，您也可以使用正则表达式达到最后两点，但这将是一团糟......

# javascript - 如何在茉莉花中存根javascript依赖项（jquery）？

> ID：16146870
> 
> 赞同：1
> 
> 时间：2013-04-22T12:15:30.950
> 
> 标签：javascript, jquery, testing, jasmine

我手上有一些遗留代码，这些代码是用/依赖于以下堆栈编写的：

*   jQuery 1.8.1
*   jQuery 延迟加载 1.8.0
*   d3 v2

在我更改代码中的任何内容之前，我想我会**为它编写测试**，所以我什么也做不了:)。

*   我选择了[jasmine测试框架](http://pivotal.github.io/jasmine/)，因为我熟悉rspec

我遇到了一些问题，因为**我要编写测试的代码依赖于 jquery**来定义一些“常量”，例如：

```
var WIDTH = $(document).width(); 
```

我想没有办法绕过存根。

1.  我应该在 jasmine 中包含 jquery 并**尝试指定文档吗？**
2.  或者不在 jasmine 和**stub`$`**中包含 jquery ？

我担心我可能会走错方向，非常感谢一些指导（非常感谢代码片段）。感谢您帮助菜鸟！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-08T13:37:53.983

我会包含 jQuery 并模拟它调用的函数。在你的例子中，我会这样做。

```
spyOn($.fn, 'width').andReturn(300); //Return a value that you expect to be used 
```

Jasmine 间谍有一个属性`calls`，它是所有调用的数组，我所做的一件事是检查调用条目，您可以检查调用对象。作为一个 jQuery 对象，它具有`selector`您可以期望等于的属性`document`

```
expect($.fn.width.calls[0].object.selector).toEqual(document); 
```

尽管请记住您正在尝试测试代码的预期行为，但并不是代码的每一步都在编写时完成。尝试测试某些行是否存在将阻止您轻松重构。

# java - getResponseCode 抛出 NPE

> ID：16146875
> 
> 赞同：1
> 
> 时间：2013-04-22T12:15:38.293
> 
> 标签：java, android

```
HttpURLConnection urlConnection = (HttpURLConnection) new URL(url).openConnection();
urlConnection.setReadTimeout(10000);
urlConnection.setConnectTimeout(10000);
urlConnection.setDoInput(true);

try {
  int statusCode = urlConnection.getResponseCode(); 
```

最后一行，正是方法`getResponseCode`抛出 NPE：

```
04-22 15:59:28.704: E/sreda(1627): java.lang.NullPointerException
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.readln(HttpURLConnectionImpl.java:1279)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl$ChunkedInputStream.readChunkSize(HttpURLConnectionImpl.java:404)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl$ChunkedInputStream.<init>(HttpURLConnectionImpl.java:340)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getContentStream(HttpURLConnectionImpl.java:1175)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.doRequestInternal(HttpURLConnectionImpl.java:1754)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.doRequest(HttpURLConnectionImpl.java:1649)
04-22 15:59:28.704: E/sreda(1627):  at org.apache.harmony.luni.internal.net.www.protocol.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:1374)
04-22 15:59:28.704: E/sreda(1627):  at my.pack.service.DataService.get(DataService.java:184)
04-22 15:59:28.704: E/sreda(1627):  at my.pack.service.DataService.getWithRefresh(DataService.java:148)
04-22 15:59:28.704: E/sreda(1627):  at my.pack.service.DataService.getRemoteContacts(DataService.java:355)
04-22 15:59:28.704: E/sreda(1627):  at my.pack.activity.ContactsActivity$3.doInBackground(ContactsActivity.java:247)
04-22 15:59:28.704: E/sreda(1627):  at my.pack.activity.ContactsActivity$3.doInBackground(ContactsActivity.java:1)
04-22 15:59:28.704: E/sreda(1627):  at android.os.AsyncTask$2.call(AsyncTask.java:185)
04-22 15:59:28.704: E/sreda(1627):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
04-22 15:59:28.704: E/sreda(1627):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)
04-22 15:59:28.704: E/sreda(1627):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1068)
04-22 15:59:28.704: E/sreda(1627):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:561)
04-22 15:59:28.704: E/sreda(1627):  at java.lang.Thread.run(Thread.java:1096) 
```

Android 4.0 上的 UPD 没有例外，但在 Android 2.2 上

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:40:21.890

[您可能会遇到与此问题](https://stackoverflow.com/questions/9512849/jsoup-throwing-nullpointerexception-on-connection-get-in-android-emulator)中看到的相同的问题，其中出现了类似的堆栈跟踪...长话短说：对于旧的 android 版本，使用 Apache HttpClient 会更安全。

# matlab - Matlab中的矩阵样本和记录矩阵索引

> ID：16146877
> 
> 赞同：0
> 
> 时间：2013-04-22T12:15:39.463
> 
> 标签：matlab

我有以下形式的两列矩阵：

```
 1\.   1  1 
 2\.   1  1
 3\.   1  2
 4\.   1  2
 5\.   2  2
 6\.   2  2
 7\.   3  2
 8\.   3  2
 9\.   3  3 
 10\.  4  3
 11\.  4  4 
```

我想使用 randsample() 从第一列中抽取一个数字。

假设结果是 2。

我想知道的是样本取自哪一行？（在这种情况下，它可能是从第 5 行或第 6 行采样的）

这可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:29:12.453

`find`使用and很容易`==`：

```
>> A = [
    1  1
    1  1
    1  2
    1  2
    2  2
    2  2
    3  2
    3  2
    3  3
    4  3
    4  4];

>> R = randsample(4,1)
>> find(A(:,1) == R)

R =
     4
ans =
    10
    11 
```

或者，正如 igor milla 所指出的，

```
>> I = randi(11)
>> A(I, :)

I =
     9
ans =
     3     3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T17:50:36.933

如果您只需要对一个值进行采样，@igor milla 给出的解决方案就可以了。但是，如果您想使用`randsample`then 给出的选项，我建议您对列号进行采样，而不是直接采样。

```
A = rand(11,2); %suppose this is your matrix
k = 1; %This is the size of your desired sample
mysampleid = randsample(size(A,1),k)
mysample = A(mysampleid,:) 
```

现在`mysampleid`包含列数，而 mysample 包含您采样的行。如果您只想对第一列进行采样，则可以`A(mysampleid,1)`改用。

# c# - C# DataSet：我如何知道一列是否为 DateTime/Boolean 类型

> ID：16146878
> 
> 赞同：3
> 
> 时间：2013-04-22T12:15:39.667
> 
> 标签：c#, datetime, dataset

在 C# 中，我从一些查询创建一些数据集或数据表。

来自数据库中 DateTime 列的数据被键入为 System.String。

有没有办法以编程方式将列标识为包含 DateTime 信息？

被视为 System.Int32 的布尔数据的相同问题？

谢谢

**EDIT1**，因为这似乎没有完全理解：

```
MyDataColumn.DataType is "System.String" (for DateTime) !

MyDataColumn.DataType is "System.Int32" (for Boolean) ! 
```

所以我不能从 DataType 中得到我想要的，否则我什至不会发布这个。

**EDIT2**并且 TryParse() 的想法在这里有一个大问题，布尔/System.Int32 混淆更加明显：如果我看到“1”或“0”，我可能认为它是一个布尔值，而它也可能是一个 Int32柱子。TryParse() 有同样的缺陷。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:24:40.487

```
if (myDataTable.Columns["thisColumn"].DataType == System.Type.GetType("System.DateTime"))
{
...
}
else
{
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-22T12:17:27.780

**编辑：**

要检查包含的数据，您可以尝试解析其值。因此，对于该列中的每个值，您都可以这样做：

```
 DateTime dateTime;
 DateTime.TryParse("your string", out dateTime); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:22:18.337

创建一个存储过程，如下所示：

```
Alter proc proc_GetDataTypeValueByColumnName
(    
@TableName varchar(500)='tblAdminUser',    
@ColumnName varchar(500)='Id'    
)    
as    
declare @DataType varchar(500);    
if exists(select 1 from sys.tables where name=@TableName)    
begin    
  set @DataType=(SELECT t.Name 'Data type'FROM sys.columns c INNER JOIN     
   sys.types t ON c.system_type_id = t.system_type_id    
  WHERE    
   c.object_id = OBJECT_ID(''+@TableName+'') and c.name=@ColumnName)    
-- select dbo.GetDataTypeValue(@DataType)  
select   @DataType
End 
```

如果要在代码中获取数据类型，则需要传递要获取其数据类型的表名和列名，然后可以使用以下内容：

```
public String GetNumberForDataTypeofColumn(String TableName, String ColumnName)
{
    SqlParameter[] param = new SqlParameter[2];
    param[0] = new SqlParameter("@TableName", TableName);
    param[1] = new SqlParameter("@ColumnName", ColumnName);
    String result = SqlHelper.ExecuteScalar(ConfigurationManager.ConnectionStrings["cn"].ConnectionString, CommandType.StoredProcedure, "proc_GetDataTypeValueByColumnName", param).ToString();
    return result;
} 
```

还有另一种方法是:: data Column 具有属性“DataType”，您也可以从以下内容中进行检查：

```
dtItems.Columns[0].DataType 
```

希望对你有帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:43:01.633

您可以使用 LINQ 查看数据表中是否`DateTime`存在任何类型的列。您需要解析每一列`DateTime.TryParse`以查看是否有任何列被成功解析，例如：

```
 if (dt == null || dt.Rows.Count <= 0)
    return false;

DateTime temp;
if (dt.Rows[0].ItemArray.Any(r => DateTime.TryParse(r.ToString(), 
                                CultureInfo.InvariantCulture,
                                DateTimeStyles.None, 
                                out temp)))

{
 //Column exists.

} 
```

如果要获取列索引，则可以尝试：

```
var column = dt.Rows[0].ItemArray
                           .Select((r, index) => new { Value = r, Index = index })
                           .FirstOrDefault(t => DateTime.TryParse(t.ToString(),
                                                CultureInfo.InvariantCulture,
                                                DateTimeStyles.None,
                                                out temp));
if(column != null)
    Console.WriteLine(column.Index); 
```

*（记得包括 System.LINQ）*

# database-design - sybase 数据库进程可视化

> ID：16146879
> 
> 赞同：0
> 
> 时间：2013-04-22T12:15:41.150
> 
> 标签：database-design, process, sybase, data-visualization, business-process-management

我正在寻找一种可以获取视图或存储过程并以图形方式表示工作流程的工具，例如 visio（或实际上任何流程图）

基本上我要做的是获取一个 sybase 视图和存储过程并运行一个报告（通过工具），该报告基本上显示所有输入和输出（所有视图、对表的插入/更新等）

我正在开展一个项目，以记录交易系统的所有输入和提取提要，并且大部分日终批处理工作通过存储的过程引用表/视图在数据库中发生。真的很想用一个工具来完成大部分繁重的工作，把各个部分放在一起。

---聪明不努力

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T15:16:33.043

查看[SAP Sybase PowerDesigner](http://www.sybase.com/products/modelingdevelopment/powerdesigner)。它应该具有您正在寻找的功能。

# javascript - Wami 录音机，未调用回调函数

> ID：16146885
> 
> 赞同：1
> 
> 时间：2013-04-22T12:15:52.623
> 
> 标签：javascript, flash, audio

我正在使用 Wami 录音机

[https://code.google.com/p/wami-recorder/](https://code.google.com/p/wami-recorder/)

问题是当音频播放完成时回调函数不执行。

这是我正在使用的代码：

```
function startPlaying()
{
    Wami.startPlaying(playBackUrl, startfn, finishedfn, failedfn );
}

function startfn()
{
  alert('start');
}
function finishedfn()
{
  alert('finish');
}
function failedfn ()
{
  alert('failed');
} 
```

最初我正在调用`startPlaying()`，它开始播放音频文件。即使音频结束，`finishedfn`也不会被调用。Wami Recorder 中是否存在错误？

我什至尝试过改变函数的定义。

```
var finishedfn = function ()
{
  alert('finish');
} 
```

但这也没有帮助我。Google/Stackoverflow 上几乎没有任何可用于 Wami 的帮助。:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-13T03:34:03.270

Wami 包含辅助函数**Wami.nameCallback**以允许您传递回调。正如 Garland 所指出的，flash 对象实际上需要字符串。您可以使用 nameCallback 函数将回调转换为字符串。如果您查看包含的 gui.js 文件，您将看到这一点。

这是示例用法：

```
Wami.startRecording('/myUrl', Wami.nameCallback(function () {
  alert('started recording');    
})); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-17T15:50:29.913

我知道这是一个很晚的回应，但我刚刚遇到了同样的问题，并认为我应该分享，如果你仍然需要知道，希望能节省其他人一点时间。

JS 函数 Wami.startPlaying() 在 Flash WAMI 对象中调用相同的函数，该函数采用以下参数：

```
url:String,
startedCallback:String = null,
finishedCallback:String = null,
failedCallback:String = null 
```

如您所见，3 个回调函数实际上采用字符串（不是原始函数），因此要成功获取回调，您需要通过调用

```
Wami.startPlaying(playBackUrl, "startfn()", "finishedfn()", "failedfn()"); 
```

# list - 从 asynctask 中获取 List

> ID：16146886
> 
> 赞同：0
> 
> 时间：2013-04-22T12:15:55.107
> 
> 标签：list, android-asynctask, assign

```
 public class GetAllEggs extends AsyncTask<Void, Void, List<Egg>>  {
    List<Egg> eggs;
    Egg eg;
     JSONParser jParser = new JSONParser();
    @Override
    protected void onPreExecute() {
        super.onPreExecute();

    }
    @Override
    protected List<Egg> doInBackground(Void... params) {
        // TODO Auto-generated method stub

        try {
            // Thread.sleep(5000);
            /*** fetch data from server and save in the local db ***/
            String url = Utils.alleggsofuser;
            JSONObject jObject  = jParser.makeHttpRequest(url, "GET", null);
            //Log.d(DEBUG_TAG, "news response: " + response);

            JSONArray categoryArray = new JSONArray(
                    jObject.getString("categories"));

            for (int i = 0; i < categoryArray.length(); i++) {
                /* make entries in the db */
                JSONObject Category = categoryArray.getJSONObject(i);
                eg=new Egg();
                    eg.setEggid(Category.getInt("eggid"));

                    eg.setApp_user_id(Category.getInt("app_user_id"));

                    eg.setEgg_query(Category.getString("egg_query"));
                    eg.setEgg_date_time(null);
                    eggs.add(eg);
                /**/
            }

            /**/
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } finally {
            // pBar.cancel();
        }
        return eggs;
    }

    protected void onPostExecute(List<Egg> result) {
        // TODO Auto-generated method stub

    }

List<Egg> eggs=new ArrayList();  
new GetAllEggs().execute(eggs); 
```

我希望鸡蛋获取返回的数据`GetAllEggs().execute()`。

这样我就可以在另一个可以显示的类中使用返回的鸡蛋。

我正在尝试将返回的数据分配给新类中的列表。

`postexecute()`由于程序的结构，我无法执行操作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T06:02:37.790

我可以使用 runOnUiThread(new Runnable() { public void run() {}}) 在 post execute 中调用 ui 线程，而不是从 post execute 传递到 ui 线程；

# ios - 进行更改后如何使 UIAlertView 调用 `alertViewShouldEnableFirstOtherButton:`？

> ID：16146892
> 
> 赞同：7
> 
> 时间：2013-04-22T12:16:08.500
> 
> 标签：ios, cocoa-touch, uialertview

我有一个带有 UITextField 的 UIAlertView。我已连接 UIAlertView 委托，并`alertViewShouldEnableFirstOtherButton:`根据 UITextField 中的文本返回 YES 或 NO。

我需要以编程方式更改 textField 的文本。这按预期工作。

不幸的是，我不知道如何让 UIAlertView 调用`alertViewShouldEnableFirstOtherButton:`委托方法，以便在我更改 textField 的文本后启用或禁用另一个按钮。

我认为 UIAlertView 注册为 UITextField 的目标，所以我尝试`UIControlEventValueChanged`从 textField 发送一个。没用。

* * *

从堆栈跟踪中我发现委托方法是从私有 UIAlertView 方法调用的`_alertSheetTextFieldDidChange:`。

因此，如果我`[self.currentAlert performSelector:@selector(_alertSheetTextFieldDidChange:) withObject:textField];`在更改文本后执行此操作，则会调用委托方法并且按钮的启用状态会更改。但是，由于这是一个私有方法，应用程序可能会被拒绝。我不想冒险。

* * *

有没有一种干净的方法来进行警报视图调用`alertViewShouldEnableFirstOtherButton:`？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:22:38.930

我在发送控制事件方面走在了正确的轨道上。我只是选择了错误的事件。

这将起作用：

```
[textField sendActionsForControlEvents:UIControlEventEditingChanged]; 
```

# windows-phone-8 - 错误代码 2001：AppManifest.xaml 中有重复文件。删除其中一个文件，然后重试

> ID：16146896
> 
> 赞同：1
> 
> 时间：2013-04-22T12:16:21.140
> 
> 标签：windows-phone-8

我已经为 Winodws Phone 8 平台制作了一个应用程序，我正在 Windows phone 8 商店中发布它。一切都很好，但最后出现错误：错误代码 2001：AppManifest.xaml 中有重复文件。删除其中一个文件，然后重试。

我在谷歌上搜索了很多，我清理了我的解决方案，重建了解决方案，交叉检查了清单文件，但都是徒劳的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-17T20:15:10.583

转到`ur_proj_folder/bin/release`并`appmanifest.xaml`在记事本中打开并检查命名空间的重复引用:) 希望它有所帮助

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-06T13:15:43.950

如果您对依赖 dll 有重复引用，通常会发生这种情况。例如，我同时添加了两个不同版本的 Advertising sdk 参考。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-17T20:12:55.670

正如 Niwin 所说，问题是“Release/AppManifest.xaml”中重复的命名空间引用，但原因是添加到项目中的引用，在我的情况下，当我手动添加“Microsoft Advertising SDK for Windows Phone 8.1 (Silverlight) " 这个 dll 开始与 "Microsoft.Advertising.Mobile.UI.dll" 冲突，因为它们具有相同的名称。只需删除引用，问题就会消失。

# c# - 在 DotNetBar 中将指定列更改为 DataGridViewComboBoxExColumn？

> ID：16146905
> 
> 赞同：0
> 
> 时间：2013-04-22T12:16:51.930
> 
> 标签：c#, winforms, datagridview, datagridcomboboxcolumn

本题要求您熟悉Windows 窗体的[DotNetBar UI](http://www.devcomponents.com/dotnetbar/)库。

我知道如何将 a 添加`DataGridViewComboBoxExColumn`到 a `DataGridViewX`，但只有当我知道 DataGridViewX 有哪些列时它才有用。问题是我不知道有哪些列`DataGridViewX`，它的 DataSource 可以更改并且这些列将被自动填充。我唯一知道的是列的类型（由列名或列数据类型指定）我想把它变成`DataGridViewComboBoxExColumn`.

不知道在DotNetBar中能不能做到，如果不能，真的很可惜，在DevExpress中我可以做到，但工作也不简单。

# windows-phone-7 - 尝试绑定独立存储映像时应用程序崩溃

> ID：16146906
> 
> 赞同：8
> 
> 时间：2013-04-22T12:16:52.813
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone

在我的应用程序中，我使用下面提到的帮助方法将我的独立存储图像绑定到图像控件。我从链接“[将存储在独立存储中的图像绑定到 Windows Phone 中的图像控件”中](https://stackoverflow.com/questions/16102651/binding-image-stored-in-the-isolated-storage-to-image-control-in-windows-phone/16103494#comment23023219_16103494)得到了这个帮助方法

```
public class IsoStoreImageSource : DependencyObject
{
public static void SetIsoStoreFileName(UIElement element, string value)
{
    element.SetValue(IsoStoreFileNameProperty, value);
}
public static string GetIsoStoreFileName(UIElement element)
{
    return (string)element.GetValue(IsoStoreFileNameProperty);
}

// Using a DependencyProperty as the backing store for IsoStoreFileName.  This enables animation, styling, binding, etc...
public static readonly DependencyProperty IsoStoreFileNameProperty =
    DependencyProperty.RegisterAttached("IsoStoreFileName", typeof(string), typeof(IsoStoreImageSource), new PropertyMetadata("", Changed));

private static void Changed(DependencyObject d, DependencyPropertyChangedEventArgs e)
{
    Image img = d as Image;

    if (img != null)
    {
        var path = e.NewValue as string;
        SynchronizationContext uiThread = SynchronizationContext.Current;

        Task.Factory.StartNew(() =>
        {
            using (var isoStore = IsolatedStorageFile.GetUserStoreForApplication())
            {
                if (isoStore.FileExists(path))
                {
                    var stream = isoStore.OpenFile(path, System.IO.FileMode.Open, FileAccess.Read);
                    uiThread.Post(_ =>
                    {
                        var _img = new BitmapImage();
                        _img.SetSource(stream);
                        img.Source = _img;
                    }, null);
                }
            }
        });               
    }
} 
```

}

我在 ListBox 控件中使用它。如果尝试使用默认库图像，一切都会按预期工作。但是，如果我尝试使用大尺寸的图像（通过设备相机拍摄），应用程序就会崩溃。

这是我得到的例外

System.Windows.ni.dll 中出现“System.OutOfMemoryException”类型的异常，但未在用户代码中处理

堆栈跟踪

在 MS.Internal.FrameworkCallbacks.NotifyManagedDebuggerOnNativeOOM() 在 MS.Internal.XcpImports.BitmapSource_SetSource(BitmapSource bitmapSource, CValue& byteStream) 在 System.Windows.Media.Imaging.BitmapSource.SetSourceInternal(Stream streamSource) 在 System.Windows.Media.Imaging。 BitmapImage.SetSourceInternal(Stream streamSource) 在 System.Windows.Media.Imaging.BitmapSource.SetSource(Stream streamSource) 在 MyaPP.Common.IsoStoreImageSource.<>c__DisplayClass4.<>c__DisplayClass6.b__1(Object _)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T16:11:52.353

好的，我花了一些时间才回到这个问题。我将在这里分享我的发现，但我并不认为它们是问题的真正答案，而是一种解决方法。但是，我希望它会对某人有所帮助。

首先，我想确认`OutOfMemoryException`在某些情况下发生。但是，令人惊讶的是，这取决于您使用的页面布局。事实上，如果你的布局涉及`StackPanel`，你会有一个例外。我想，这归结为如何实现方法`MeasureOverride`和`ArrangeOverride`方法的事实`StackPanel`（尽管我在这里可能完全错了）。看起来像什么时候`ListBox`是一个孩子`StackPanel`，它尝试在显示之前加载所有图像。当然，这会导致内存泄漏。

另一方面，如果您使用类似`Grid`图像列表的父级，则没有此类异常，并且内存负载是合理的。

这是对我有用的页面布局：

```
<Grid>
    <ListBox ItemsSource="{Binding IsoStorePics}">
        <ListBox.ItemTemplate>
            <DataTemplate>
                <Image local:IsoStoreImageSource.IsoStoreFileName="{Binding Path}" Margin="5"/>
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</Grid> 
```

这是我现在给你的最好的答案。请让我知道它是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-05T06:59:22.797

你可以这样尝试，Stream对象会自动释放。

```
using (IsolatedStorageFile iso = IsolatedStorageFile.GetUserStoreForApplication())
{                               
     if (iso.FileExists(imagePath))
     {
         using (Stream imagestream = new IsolatedStorageFileStream(imagePath, FileMode.Open, FileAccess.Read, FileShare.Read, iso))
         {
               BitmapImage bmp = new BitmapImage();
               bmp.SetSource(imagestream);
               imgControl.Source = bmp;
         }
     }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:50:51.903

中的缓存`ListBox`可能会占用您的内存，这对于较大的图像尤其明显。我不熟悉您发布的辅助方法，但尝试添加它。

```
if (img != null)
{
    BitmapImage bitmapImage = img.Source as BitmapImage;
    bitmapImage.UriSource = null;
    img.Source = null;

    //rest of the code ...
} 
```

# jquery - 在 navGrid jqgrid 中使用 jquery datetimepicker

> ID：16146907
> 
> 赞同：0
> 
> 时间：2013-04-22T12:16:53.377
> 
> 标签：jquery, jqgrid

如何将 jquery datetimepicker 和 label 添加到 jqgrid 的 navGrid？我希望能够在分页旁边的 jqgrid 的 navGrid 中按日期搜索

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T13:41:16.917

试试这个：

```
myGrid.navButtonAdd("#pagerId",{caption:"Search<input type='text' id='datePicker'>", buttonicon:"ui-icon-search", onClickButton:customSearch, position: "last", title:"", cursor: "pointer"});

function customSearch() {
    //Custom Search Logic
} 
```

在网格的加载完成时添加：

```
loadComplete: function (data) {
    $('#datePicker').datepicker();
}, 
```

# jquery - jQuery - 从 div 中删除具有特定类的所有锚标记

> ID：16146910
> 
> 赞同：4
> 
> 时间：2013-04-22T12:16:56.207
> 
> 标签：jquery

在某些情况下，出于超出此问题范围的原因，锚点会重复出现。这是一个示例 div：

```
<div class="unifyRepeat listing">
    <a class="businessAnchor" name="abcchildcareandlearningcenter"></a>
    <a class="businessAnchor" name="abcchildcareandlearningcenter"></a>
    <a class="businessAnchor" name="abcchildcareandlearningcenter"></a>
    <a class="businessAnchor mceItemAnchor" name="abcchildcareandlearningcenter"></a>
    <table class="tblListing">
        <tbody>
            <tr>
                <td>
                    <p class="bold">ABC Child Care and Learning Center</p>
                    <p>Jane Smith</p>
                    <p>(555) 555-1234</p>
                </td>
                <td>
                    <img alt="" src="images/ABCchildcare.jpg">
                </td>
                <td>
                </td>
            </tr>
        </tbody>
    </table>
    <a class="linkToTop" href="#top">^ Top</a>
</div> 
```

这是附加锚点并尝试删除任何现有锚点的 jQuery：

```
$('#businessListings div.listing').each(function() {
    var name = $(this).find('p:first').text(),
        cleanedName = name.replace(/\W/g, '').toLowerCase();

    $('ul#businessListingLinks').append('<li><a href="#' + cleanedName + '">' + name + '</a>');

    var anchor = '<a class="businessAnchor" name="' + cleanedName + '"></a>';
    $(this).remove('a.businessAnchor');
    //$(this).each('a.businessAnchor').remove();
    $(this).prepend(anchor);
}); 
```

我认为 remove() 行会选择**所有**具有“businessAnchor”类的锚标记，但事实并非如此。

如您所见，我尝试了 each() 函数，但没有奏效。我不确定那是因为我没有正确实施它，还是其他原因。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:20:53.687

尝试这个：

```
$(this).find('a.businessAnchor').remove(); 
```

因为，从标记来看，它似乎`a.businessAnchor`是 div 的直接子级，所以你也可以这样做：

```
$(this).children('a.businessAnchor').remove(); 
```

# php - 如何在不同的文件夹深度 php 中包含相同的相对 php？

> ID：16146912
> 
> 赞同：0
> 
> 时间：2013-04-22T12:16:59.230
> 
> 标签：php, zen-cart

如何在不同的文件夹深度 php 中包含相同的相对 php？
出于某种原因，我需要在我的 zencart 网站中添加一个 www/subam/index.php ，并且这个 php 需要添加到 www/includes/application_top.php ，但是如果我需要（../includes/application_top.php），它会出错。怎么做？

```
<?php 
/* index.php */
require('includes/application_top.php');

/* subam/index.php */
// this will be wrong
require('../includes/application_top.php');
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:19:30.590

总是使用物理完整路径，那么你不会有任何问题：

php 5.3：

```
require(__DIR__ . '/lib/file.php'); 
```

如果您需要从您所在的位置返回，请使用 ../：

```
require(__DIR__ . '/../lib/file.php'); 
```

php 5.2 及更低版本：替换`__DIR__`为`dirname(__FILE__)`

在你的例子中：

```
/* index.php */
require(__DIR__ .  '/includes/application_top.php');

/* subam/index.php */
require(__DIR__ .  '/../includes/application_top.php'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:20:08.760

您需要设置包含路径

```
set_include_path(get_include_path() . DIRECTORY_SEPARATOR . '..'); 
```

# java - NullPointerException 取决于具有 createStatement 的设备

> ID：16146916
> 
> 赞同：0
> 
> 时间：2013-04-22T12:17:19.967
> 
> 标签：java, android, sql-server, nullpointerexception

我想用 Android 连接到 SQL Server。

这是我的代码：

```
Class.forName("net.sourceforge.jtds.jdbc.Driver");
conn = DriverManager.getConnection(db_connect_string, db_userid, db_password);

try{
Statement ps = conn.createStatement();
ResultSet rs = ps.executeQuery ("select * from cliente");
.....
}
catch (SQLException e) {
e.printStackTrace();
} 
```

如果我在三星 Galaxy Ace 中运行该应用程序，一切正常，但如果我想在另一台设备上运行它，则出现以下错误：

```
java.lang.NullPointerException 
```

这个错误是一致的：

```
Statement ps = conn.createStatement(); 
```

我不知道为什么这取决于运行或不运行的设备。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:19:01.930

```
Statement ps = db.conn.createStatement(); 
```

这应该是

```
Statement ps = conn.createStatement(); 
```

这里 db 的值是`null`i guss，所以你是`NullPointerException`从这行代码中得到的。
如有任何疑问，请告诉我。

编辑：

如果您的代码中不存在 db，则将 Sysout 设置为：

```
conn = DriverManager.getConnection(db_connect_string, db_userid, db_password);
Sysout.out.Println("value of conn is "+conn); 
```

并检查 conn 的值。根据我的理解，这是无效的。

供参考：

```
Class.forName("net.sourceforge.jtds.jdbc.Driver");
conn = DriverManager.getConnection(db_connect_string, db_userid, db_password); 
```

这些牵引线必须在 try/catch 块内。

# mapping - D3中的城市级渲染

> ID：16146917
> 
> 赞同：1
> 
> 时间：2013-04-22T12:17:23.137
> 
> 标签：mapping, d3.js, projection

我正在尝试使用 Open Street Maps 中的数据渲染投影。[我从这里](http://vdstech.com/osm-data.aspx)下载了瑞典交通文件并将建筑物 shapefile 转换为 topojson。这是一个摘录：

```
{"type":"Topology","transform":{"scale":[0.0013154551155115512,0.0013336730673067306],"translate":[11.0320167,55.3382768]},"objects":{"buildings":{"type":"GeometryCollection","geometries":[{"type":"Polygon","arcs":[[0,1,2]]},{"type":null},{"type":"Polygon","arcs":[[3]]}... 
```

我的目标是创建斯德哥尔摩建筑物的地图，并具有以下 D3 代码：

```
<script>

var width = 960,
    height = 500;

var projection = d3.geo.albers()
    .translate(width/2, height/2)
    .scale(20000)
    .rotate([-18.0365, 0])
    .center([0, 59.3115]);

var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

d3.json('buildings.json', function(err, city) {
    svg.append("path")
        .datum(topojson.object(city, city.objects.buildings.geometries))
        .attr("d", path);
}); 

</script> 
```

但是，这只会加载一个空白页面，并且 javascript 控制台中没有错误。不知道下一步该去哪里，任何帮助将不胜感激。谢谢，汤姆

# asp.net-mvc - 使用 IList 在 .cshtml 中绑定值

> ID：16146920
> 
> 赞同：0
> 
> 时间：2013-04-22T12:17:31.083
> 
> 标签：asp.net-mvc, list, razor, asp.net-mvc-4

我的控制器内容是：

```
public ActionResult Step2()
{
    Step2BusinessLogic step2BusinessLogic = new Step2BusinessLogic();
    Step2ViewModel step2ViewModel = step2BusinessLogic.CreateStep2ViewModel();
    return View(step2ViewModel);
}

[HttpPost]
public ActionResult Step2()
{
    ....
} 
```

Step2ViewModel 具有类似...的属性

```
public class Step2ViewModel : MultiStepBaseViewModel
{
    public IList<LayoutDetail> LayoutConfig { get; set; }
} 
```

业务逻辑类就像......

```
public class Step2BusinessLogic
{
    public Step2ViewModel CreateStep2ViewModel(string Id)
    {
        Step2ViewModel step2ViewModel = new Step2ViewModel();
        step2ViewModel.MultiStepId = new Guid(Id);
        step2ViewModel.LayoutConfig = GetLayout();
        return createEmailStep2ViewModel;
    }

    public List<LayoutDetail> GetLayout()
    {
        List<LayoutDetail> layoutList = new List<LayoutDetail>();

        LayoutDetail layout1 = new LayoutDetail();
        layout1.LayoutID = 1;
        layout1.LayoutTitle = "1 Column";
        layout1.LayoutImg = "~/img/create/layout/layout-1.png";
        layout1.LayoutImgPrev = "img/create/layout/layout-1-preview.png";
        layoutList.Add(layout1);

        LayoutDetail layout2 = new LayoutDetail();
        layout2.LayoutID = 2;
        layout2.LayoutTitle = "1:2 Column";
        layout2.LayoutImg = "~/img/create/layout/layout-2.png";
        layout2.LayoutImgPrev = "img/create/layout/layout-2-preview.png";
        layoutList.Add(layout2);

        .........(12 Items)

        return layoutList;
    }
}

public class LayoutDetail
{
    public int LayoutID { get; set; }

    public string LayoutTitle { get; set; }

    public string LayoutImg { get; set; }

    public string LayoutImgPrev { get; set; }
} 
```

在我的 .cshtml 视图中，我想要这样的东西......

```
@using (Html.BeginForm())
{
    @Html.HiddenFor(model => model.MultiStepId)
    @Html.ValidationSummary(true)

    @for (int i = 0; i < 12; i++)
    {
        <div class="grid_3 tcenter">
        <div class="divhighlight">
        <div style="width: 165px; margin: 6px auto 4px auto;" class="f16 bold tcenter"      id="helptrigger1">@LayoutConfig.Title</div>
        <a class="fancybox" rel="layouts" href="@LayoutConfig.LayoutImgPrev" title="1 Column">
        <img src="@LayoutConfig.LayoutImg" alt="1 Column" width="189" height="227" vspace="5" /></a>
        <div style="width:189px; margin:auto">
        <button class="button gobutton" style="margin-right: 40px; width: 165px;" value="@LayoutConfig.LayoutID">Select</button></div>
        </div>
        </div>
    } 
```

我想将`IList<LayoutDetail>`Step2ViewModel 的属性值绑定到 .cshtml 页面的控件。我尝试了其他几件事但无法成功

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T12:22:08.913

你错过了这个`@Model.LayoutConfig[i]`

```
@for (int i = 0; i < Model.LayoutConfig.Count(); i++)
    {
        <div class="grid_3 tcenter">
        <div class="divhighlight">
        <div style="width: 165px; margin: 6px auto 4px auto;" class="f16 bold tcenter"      id="helptrigger1">@Model.LayoutConfig[i].LayoutTitle </div>
        <a class="fancybox" rel="layouts" href="@Model.LayoutConfig[i].LayoutImgPrev" title="1 Column">
        <img src="@Model.LayoutConfig[i].LayoutImg" alt="1 Column" width="189" height="227" vspace="5" /></a>
        <div style="width:189px; margin:auto">
        <button class="button gobutton" style="margin-right: 40px; width: 165px;" value="@Model.LayoutConfig[i].LayoutID">Select</button></div>
        </div>
        </div>
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:21:14.140

你需要使用

```
@Model.LayoutConfig[i].LayoutImg 
```

代替

```
@LayoutConfig.LayoutImg 
```

当然还有其他情况

```
@LayoutConfig.LayoutID
@LayoutConfig.LayoutImgPrev 
```

# jquery - 将 jQuery Isotope 插件扩展到水平布局元素

> ID：16146925
> 
> 赞同：0
> 
> 时间：2013-04-22T12:17:52.563
> 
> 标签：jquery, jquery-plugins, jquery-masonry, jquery-isotope

我试图模仿这里看到的行为：

[http://isotope.metafizzy.co/custom-layout-modes/centered-masonry.html](http://isotope.metafizzy.co/custom-layout-modes/centered-masonry.html)

您可以看到元素以垂直边界（固定宽度）很好地排列。底部添加了新元素。我也想做同样的事情，只是我需要将元素排列成水平边界（固定高度）。

我将不胜感激任何帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-02T22:35:17.893

不确定您最近是否检查过，但请查看 masonryHorizo​​ntal ：

[http://isotope.metafizzy.co/docs/layout-modes.html#masonryhorizo​​ntal](http://isotope.metafizzy.co/docs/layout-modes.html#masonryhorizontal)

# vb.net - LINQ to Entities 仅支持无参数构造函数和初始化程序

> ID：16146930
> 
> 赞同：1
> 
> 时间：2013-04-22T12:18:15.143
> 
> 标签：vb.net, linq, entity-framework

帮助我理解为什么这不起作用：

```
Dim i = (From f In EfUtil.Db.EMAILADDRESSHISTORY _
                Where f.EMAILADDRESS.CUSTOMERCONTACTPERSON.CUSTOMERguid = New Guid(Request.QueryString("customer")) _
                Select New With {.guid = f.ACTIONguid, .name = f.ACTIONname}).ToList 
```

我收到以下错误

> LINQ to Entities 仅支持无参数构造函数和初始化程序。

尽管如此，我还是找到了很多这种结构有效的例子。我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:20:30.000

您最有可能找到的示例是 LINQ to Objects 示例，而不是 LINQ to Entities。

您可以通过事先声明 GUID 来解决此问题：

```
Dim customerGuid as Guid = New Guid(Request.QueryString("customer"))
Dim i = (From f In EfUtil.Db.EMAILADDRESSHISTORY _
         Where f.EMAILADDRESS.CUSTOMERCONTACTPERSON.CUSTOMERguid = customerGuid _
         Select New With {.guid = f.ACTIONguid, .name = f.ACTIONname}).ToList 
```

需要明确的是：这里的问题不是你的`Select`. 问题是`New Guid(...)`在`Where`条件。

# asp.net - 在 vb.net 中使用中继器控件

> ID：16146933
> 
> 赞同：1
> 
> 时间：2013-04-22T12:18:21.453
> 
> 标签：asp.net, .net, vb.net

我正在使用转发器控件来查看数据库表数据，我想在每行旁边添加一个链接按钮以删除特定行，我该如何使用 vb.net 来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T12:45:16.283

没什么可做的，您要显示它吗（所有行的链接按钮？如果是，请尝试以下代码）

```
<table cellpadding="0" cellspacing="0">
                        <tr valign="top" class="list_heading">
                            <td width="25%">
                                Column
                            </td>
                            <td width="25%">
                                Operation
                            </td>
                            <td width="19%" style="display: none;">
                                And/Or
                            </td>
                            <td width="25%">
                                Value
                            </td>
                            <td width="06%">
                                Remove
                            </td>
                        </tr>
                        <tbody>
                            <asp:Repeater ID="rpSearchItems" runat="server">
                                <ItemTemplate>
                                    <tr>
                                        <td style="display: none;">
                                        </td>
                                        <td>
                                            <%# Eval("ColumnName") %>
                                        </td>
                                        <td>
                                            <%# Eval("Operation") %>
                                        </td>
                                        <td style="display: none;">
                                            <%# Eval("AndOr") %>
                                        </td>
                                        <td>
                                            <%# Eval("Value") %>
                                        </td>
                                        <td align="center">
                                            <asp:ImageButton ID="ibtnRemoveSearchItem" ImageUrl="~/Controls/ImagesForSearch/Remove.png"
                                                CommandArgument=' <%# Eval("Id") %>' CssClass="RemoveUitem" ToolTip="Remove Item"
                                                runat="server" OnClick="ibtnRemoveSearchItem_Click" />
                                        </td>
                                    </tr>
                                </ItemTemplate>
                            </asp:Repeater>
                        </tbody>
                        <tr valign="top" class="list_bottom">
                            <td colspan="6">
                                &nbsp;
                            </td>
                        </tr>
                    </table> 
```

在代码后面的代码中，您可以这样：

```
Protected Sub ibtnRemoveSearchItem_Click(sender As Object, e As EventArgs)
 ImageButton ibtnRemoveSearchItem = (ImageButton)sender;
    Int32 Id = Convert.ToInt32(ibtnRemoveSearchItem.CommandArgument);
//Using the above two lines you can get the Coomand Argument, pass it to you delete stored proc thats all
// do your stuff here
End Sub 
```

希望对你有帮助

**更新：** 如果你想有条件地添加它，那么你可以从中继器的“ **OnItemDataBound** ”事件中做到这一点

欲了解更多信息，请[查看此](http://www.codeproject.com/Articles/438259/Insert-Update-Search-and-Delete-CRUD-operation-usi)

[这个也可以帮你](http://www.c-sharpcorner.com/uploadfile/kannagoud/edit-update-delete-record-in-repeater-control/)

# grid - zurb 基础 4 网格问题与 variables.scss

> ID：16146938
> 
> 赞同：0
> 
> 时间：2013-04-22T12:18:43.383
> 
> 标签：grid, zurb-foundation

我正在 _variables.scss 文件中工作，并按照您的评论将 $em-base 的值设置为 $base-font-size ($em-base: $base-font-size;)

我已经做到了`$em-base: $base-font-size;`

因此我在codekit中遇到编译错误

错误是：错误 style.scss（_global.scss 的第 192 行：7.68em*px/% 不是有效的 CSS 值。）覆盖 style.css

我这样做是因为我想要正确的网格大小，因为我将网格设置为 1320 像素，并且在浏览器上检查的行显示为 990 像素

请你帮助我好吗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-06T19:33:33.493

您需要确保将 $base-font-size 的值设置为您想要的 $em-base 值。无论您为 em-base 设置什么，都将计算诸如网格之类的东西的宽度。所以如果你有一个 16px $em-base，你的行宽的 em 值为 82.5em。

# c - C：memcpy 改变指针？

> ID：16146939
> 
> 赞同：-5
> 
> 时间：2013-04-22T12:18:55.493
> 
> 标签：c

如果指针引用的数据也在范围内，是否`memcpy`调整指向复制数据的指针`memcpy`？（我假设不是，但永远不知道......）

因此，假设，例如，将指针复制到该指针所引用的内容。问题是：指针是被无声地复制（即没有改变）还是被调整为指向新复制的内容？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-22T12:20:41.763

不，memcpy 盲目地将 x 字节从源复制到目标。

参见例如： http: [//man7.org/linux/man-pages/man3/memcpy.3.html](http://man7.org/linux/man-pages/man3/memcpy.3.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:21:58.630

`memcpy`不修改任何指针；它只修改`dst`参数指向的内存块的内容。

`memcpy` **如果两个内存块以任何方式重叠，则不应使用**。在这种情况下`memmove`应该使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-22T12:21:36.590

根据标准，如果源指针和目标指针重叠，则行为是未定义的。

来自[`valgrind`](http://www.network-theory.co.uk/docs/valgrind/valgrind_49.html)-manual的示例

```
==27492== Source and destination overlap in
            memcpy(0xbffff294, 0xbffff280, 21)
==27492==    at 0x40026CDC: memcpy
               (mc_replace_strmem.c:71)
==27492==    by 0x804865A: main (overlap.c:40) 
```

您不希望这两个块重叠，因为其中一个块可能会被复制部分覆盖。

...

此外，对于其中许多功能，POSIX 标准的措辞类似于“如果复制发生在重叠的对象之间，则行为未定义”。因此，重叠副本违反了标准。

也看[这里](http://linux.die.net/man/3/memcpy)：

```
Description
The memcpy() function copies n bytes from memory area src to memory area dest.
The memory areas must not overlap. Use memmove(3) if the memory areas do overlap. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-22T12:22:05.287

的原型`memcpy()`是

```
 void * memcpy ( void * destination, const void * source, size_t num ); 
```

它将num字节的值从source指向的位置直接复制到destination指向的内存块。它返回一个指向目标的指针。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-22T12:21:07.567

`memcpy`内部执行的操作超出了规范的范围。在外部，对任何指针的任何更改都是不可见的，因为`memcpy`它使用作为参数传递的指针的副本。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-22T12:21:26.060

根据[这个](http://research.microsoft.com/en-us/um/redmond/projects/invisible/src/crt/memcpy.c.htm)来源，它没有。

# ruby-on-rails - 如何配置路由在 url 中包含“/username”和“/group-name”？

> ID：16146957
> 
> 赞同：0
> 
> 时间：2013-04-22T12:19:43.460
> 
> 标签：ruby-on-rails, routes

如何在 Rails 中配置路由和控制器以具有以下内容？我想要可以通过用户名指向用户或通过用户名指向组的路径。

例如 /username 和 /groupname 而不是 /user/name 和 /group/name。很明显，用户和组不能共享名称。我还希望有 /username/about、/groupname/posts 和任何其他在两个模型之间不常见的任意路径。

我还生成了一个模型和表来链接名称、对象和 ID。另外，您将如何在这里构建控制器。你能帮助我吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T14:08:24.267

为什么不让控制器查找名称并根据结果选择适当的逻辑路径（例如，`/name`路由到`#show`，它需要`show_user()`用户名和组名`show_group()`）？

# python - Django non-rel 无法将 db 与 mongo 2.4.2 同步

> ID：16146966
> 
> 赞同：3
> 
> 时间：2013-04-22T12:20:12.610
> 
> 标签：python, django, mongodb, django-nonrel, django-mongodb-engine

我一直在使用 Django 1.3 non-rel 和 django-mongodb_engine 0.4。正在使用的 Mongodb 版本是 1.8.2，一切正常。最近我尝试升级到 mongodb 2.4.2(latest stable) 版本并遇到以下问题。

同步数据库后，我得到以下异常：

```
Traceback (most recent call last):
File "manage.py", line 14, in <module>
execute_manager(settings)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line    
438, in execute_manager
utility.execute()
File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 
379, in execute
self.fetch_command(subcommand).run_from_argv(self.argv)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 191, 
in run_from_argv
self.execute(*args, **options.__dict__)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 220, 
in execute
output = self.handle(*args, **options)
File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 351,   
in handle
return self.handle_noargs(**options)
File "/usr/local/lib/python2.7/dist-
packages/django/core/management/commands/syncdb.py", line 90, in handle_noargs
sql, references = connection.creation.sql_create_model(model, self.style, seen_models)
File "/usr/local/lib/python2.7/dist-packages/django_mongodb_engine/creation.py", line 
142, in sql_create_model
self.connection.get_collection(model._meta.db_table, **kwargs)
File "/usr/local/lib/python2.7/dist-packages/django_mongodb_engine/base.py", line 98, 
in get_collection
collection = self.collection_class(self.database, name, **kwargs)
File "/usr/local/lib/python2.7/dist-packages/pymongo/collection.py", line 108, in 
__init__
self.__create(kwargs)
File "/usr/local/lib/python2.7/dist-packages/pymongo/collection.py", line 119, in 
__create
self.__database.command("create", self.__name, **options)
File "/usr/local/lib/python2.7/dist-packages/pymongo/database.py", line 393, in command
msg, allowable_errors)
File "/usr/local/lib/python2.7/dist-packages/pymongo/helpers.py", line 144, in 
_check_command_response
raise OperationFailure(msg % details["errmsg"])
pymongo.errors.OperationFailure: command SON([('create', u'auth_permission'), ('max', 
False), ('capped', False), ('size', 0.0)]) failed: exception: create collection invalid   
size spec 
```

与以前的 mongodb 版本（< 1.8）相比，异常的原因似乎是 mongo 2.X 版本之间的某种不兼容。

从错误中可以看出，有没有办法解决这个有上限/无上限的集合创建问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-19T02:04:11.920

目前 createCollection 命令验证 size 参数并将不大于 0 的数字视为无效。

从[这个 2.3.1 提交](https://github.com/mongodb/mongo/commit/b456a5d2ed6da61b43642590cf39e61afe562479)开始，如果传入的 size 是一个数字，就会发生 0 检查。以前断言是后来的，这种变化是票证[SERVER-7543](http://jira.mongodb.org/browse/SERVER-7543)的结果-核心问题在Django中，在这里进行了深入讨论：[https](https://github.com/django-nonrel/mongodb-engine/pull/134) ://github.com/django-nonrel/mongodb-engine/pull/134此处的实际修复：[https ://github.com/django-nonrel/mongodb-engine/pull/134/files#L4L134](https://github.com/django-nonrel/mongodb-engine/pull/134/files#L4L134)

如果您使用的是包含此修复程序的版本，我认为您需要在 Django 列表中提出问题。

# android - 添加外部 Jar 库

> ID：16146969
> 
> 赞同：1
> 
> 时间：2013-04-22T12:20:19.837
> 
> 标签：android, eclipse, noclassdeffounderror, slidingmenu

我知道我们应该将`.jar`库放入`libs`项目目录中的文件夹中，然后一切都会自动正常工作。它修复了我的代码和导入类中的错误，但它会引发异常。例如，当我使用 jfeinstein10/SlidingMenu 库时，抛出

```
java.lang.NoClassDefFoundError: com.slidingmenu.lib.R$styleable 
```

一遇到

```
SlidingMenu slidingMenu = new SlidingMenu(); 
```

在运行时。我的图书馆添加过程有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:26:12.720

[https://github.com/jfeinstein10/SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)是一个库项目。

将您的库项目滑动菜单导入 Eclipse。

右键单击库项目。转到属性。选择安卓。您应该看到 Is Library 已选中。

在您的 Android 项目中，右键单击转到属性。选择安卓。单击添加。浏览库项目添加并单击确定。

[http://developer.android.com/tools/projects/projects-eclipse.html](http://developer.android.com/tools/projects/projects-eclipse.html)

[http://developer.android.com/tools/projects/index.html](http://developer.android.com/tools/projects/index.html)

在Android项目中引用动作栏sherlock（也是一个库项目）。（添加快照）。检查下面的链接以获取快照。

[导入 actionbarsherlock 时无法解析 import .R](https://stackoverflow.com/questions/16003396/import-r-cannot-be-resolved-when-i-import-actionbarsherlock/16003930#16003930)

也按照滑动菜单的步骤操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-22T12:28:05.730

除了 Raghunandan，[文档](http://developer.android.com/tools/projects/index.html#LibraryProjects)是这样说的：

> 您不能将库项目导出到独立的 JAR 文件，就像您对真正的库所做的那样。相反，您必须通过在依赖应用程序中引用库并构建该应用程序来间接编译库。

他是完全正确的。您不能将 SlidingMenu 用作 jar 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-22T12:26:36.510

可能是您的`jar`文件在运行时不可用，请先检查您的`javabuildpath`让我清楚的是它是 a`library project`还是它的 a `jar`。

# php - RSA：在 Javascript 中加密和在 PHP 中解密

> ID：16146970
> 
> 赞同：0
> 
> 时间：2013-04-22T12:20:19.983
> 
> 标签：php, encryption, rsa, public-key-encryption

我找到了许多与主题行相关的网站（stackoverflow.com 本身很少）。然而，不幸的是我无法得到我想要的。

我想要的是 - 我已经准备好一对公私密钥。（像这样 - [http://andytson.com/blog/2009/07/php-public-key-cryptography-using-openssl/](http://andytson.com/blog/2009/07/php-public-key-cryptography-using-openssl/)）

现在，我想要一个使用这个公钥的 javascript 页面。并加密一些数据。然后将此数据传递到 php 页面。php页面解密数据。

到目前为止，我发现很少有 JS 页面可以从头开始（即从生成密钥对）做这些事情。php 也是如此。但这对我没有帮助。

非常感谢任何帮助。

干杯

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-22T15:46:43.077

[http://area51.phpbb.com/phpBB/viewtopic.php?f=84&t=33024&start=0](http://area51.phpbb.com/phpBB/viewtopic.php?f=84&t=33024&start=0)做你想要的吗？这是独立的演示：

[http://www.frostjedi.com/terra/dev/rsa/index.php](http://www.frostjedi.com/terra/dev/rsa/index.php)

来源：

[http://www.frostjedi.com/terra/dev/rsa/index.txt](http://www.frostjedi.com/terra/dev/rsa/index.txt)

# excel - VLOOKUP & 插入与单元格对应的文本

> ID：16146976
> 
> 赞同：0
> 
> 时间：2013-04-22T12:20:46.007
> 
> 标签：excel, excel-formula, vba

我很难让我的 vlookup 公式从另一张表（表 2）中提取 url 数据，并根据表 1 上的 A 单元格中的内容将添加的信息插入到 url。

例如，

vlookup 公式`=VLOOKUP(B2,Sheet2!A:B,2,FALSE)`将检查 B2（表 1）是否与表 2 上的数据匹配。然后它将返回匹配的数据：

```
=HYPERLINK("http://www.dpd.co.uk/tracking/quicktrack.do?search.consignmentNumber="&Sheet1!A2&"&search.searchType=16&search.javascriptValidated=0&appmode=guest") 
```

然后，我希望 url 链接插入**Sheet 1 A 单元格**中的任何文本。

我使用的公式很好地做到了这一点，但我希望该公式对应于单元格 A 中的任何内容的工作簿，而不仅仅是 A1，即 Sheet 1 A3，Sheet 1 A4 ....

我怎样才能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T23:46:25.953

我不确定我是否完全理解您的要求，但请允许我与我认为类似的问题分享我的经验。我的解决方案是偏移/匹配公式。我使用了类似于以下的公式： =OFFSET($A$1,(MATCH(B$2,'Sheet2'!$A:$B,0)+$A1),0) 并且在 A 列中有一个对应的值列表到该行到我想要保持不变的对象单元格的距离。然后我使用自动填充在表格下方填充列，直到我填充公式。这样，每行的偏移参考都发生了变化，我仍然能够自动填充。我希望这会有所帮助

# c++ - C++ 正确的 static_cast 方法

> ID：16146982
> 
> 赞同：6
> 
> 时间：2013-04-22T12:20:55.323
> 
> 标签：c++, exception, casting, static-cast

`static_cast`不会抛出异常。但如果它不成功，它将产生一个未定义的结果。检查演员表是否成功的最正确方法是什么？

这会有帮助吗？

```
NewType new_typ_obj = static_cast<NewType>(obj); 

if (new_typ_obj)
    new_typ_obj.do(); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-22T12:22:40.797

[static_cast](http://msdn.microsoft.com/en-us/library/c36yw7x9%28v=vs.80%29.aspx)不会为您提供有关成功的信息。如果您需要进行动态类型转换，请使用 dynamic_cast 或 boost any 之类的库。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-22T12:24:12.320

在您给出的示例中，这`static_cast` *可能会*根据所涉及的类型引发异常，例如，如果`NewType`throws 的构造函数。如果不存在从 to 类型的任何转换链`obj`，`NewType`那么它甚至不会编译。

您可能正在考虑使用`static_cast`将指向基址的指针转换为指向派生的指针，这是`dynamic_cast`检查的情况。没有办法判断`static_cast`在这种情况下是否成功。作为程序员，您有责任仅在正确的情况下使用它。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-22T12:26:19.367

`static_cast`仅当您在指针、引用或指向成员类型的指针之间进行强制转换时，A才具有未定义的行为。当您对不是真正指向的对象类型的类型执行向下转换时，就会发生这种情况。

在您的示例中，除非`NewType`是指针或引用类型的 typedef 并且`obj`也是这些类型，如果强制转换无效，编译器会给您一个错误。

在任何情况下，表演`if (new_typ_obj)`对于检查演员表是否成功都是没有意义的`static_cast`。如果`NewType`不是这些多态类型之一，那么仅当您有某种方式将其转换为（或它*是*）时，`new_type_obj`用作条件才有效。即便如此，也与演员无关。相反，如果您通过指向继承层次结构的指针进行 ing，则不会向您提供有关它是否成功的任何信息。为此，您想要.`bool` *`bool``static_cast``static_cast``dynamic_cast`*

 ** * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-22T12:29:40.380

`static_cast`**如果您要转换的类型与您要转换的类型无关**，则不会编译。除了与`void *`所有类型有关。因此 static_cast 在编译时仍然是一个很大的保证。

仍然存在做错事的危险。

我个人的规则是：

*   更喜欢使用 static_cast 进行向上转换，（显示意图）
*   更喜欢使用 dynamic_cast 进行向下转换，并检查返回值。

如果 downcast 的 static_cast 没有危险，则可以取消后一条规则。*

# ruby-on-rails - 如何仅显示存储在数据库中的消息的前 10 个字符？

> ID：16146986
> 
> 赞同：1
> 
> 时间：2013-04-22T12:21:15.697
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

在我的收件箱视图中，我可以列出每条单独的消息，如果消息大于 10 个字符，我想显示消息的前 10 个字符或显示整个消息。然后用户可以单击消息以查看整个消息。

```
message.body 
```

是消息内容存储在数据库中的位置。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-22T12:24:27.517

试试这个：

```
truncate(message.body, :length => 10) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-22T12:23:53.810

使用`truncate`. 文档链接： http: [//api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-truncate](http://api.rubyonrails.org/classes/ActionView/Helpers/TextHelper.html#method-i-truncate)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-05T13:47:38.420

拥有一个总共 10 个字符的字符串（包括末尾的 ...）

```
message.body.truncate(10) 
```

或切到最后一个完整单词的结尾

```
message.body.truncate(10, separator: /\s/) 
```

例子：

```
"some simple words here that is too long".truncate(23)
 => "some simple words he..." 

"some simple words here that is too long".truncate(23,separator: /\s/)
 => "some simple words..." 
```

# php - PHP代码未能给出正确的结果最有可能的逻辑错误

> ID：16146987
> 
> 赞同：1
> 
> 时间：2013-04-22T12:21:15.827
> 
> 标签：php, arrays, logic, collision-detection

在过去的几天里，我一直在为这个问题绞尽脑汁，而对于我的一生来说，似乎可以找到问题代码。本质上，此代码生成具有 x 和 y 坐标和半径的随机数量的对象，然后代码检查新对象是否与任何其他对象发生碰撞，如果没有，则将其添加到主数组中然后返回调用函数。我的问题是，当我加载页面时，所有对象都在那里，但有些对象仍然相互碰撞，我不知道为什么。任何人都可以看到这个问题吗？

```
public function Generate($chunkX, $chunkY) {
    if (!(isset($this->ChunkX) && isset($this->ChunkY) )) {
        $this->ChunkX = $chunkX;
        $this->ChunkY = $chunkY;
    }
    $counter = 0;
    $this->ObjectLocations = array();
    $totalAstroids = $this->GetAstroidNo();

    while ($counter < $totalAstroids) {
        $tempObjectLocations = array();
        //X and Y Chunk Coordinates
        $tempObjectLocations['chunkX'] = $chunkX;
        $tempObjectLocations['chunkY'] = $chunkY;
        //X and Y coordinates for the object.
        $tempObjectLocations['coordX'] = rand(4, 60);
        $tempObjectLocations['coordY'] = rand(4, 60);
        $tempObjectLocations['radius'] = rand(4, 12);
        //Checks if objects already exist in array
        if (count($this->ObjectLocations) > 0) {

            //if the object does not collide with any other object 
            //the location will be added into the database
            if ($this->isColliding($tempObjectLocations) == false) {
                array_push($this->ObjectLocations, $tempObjectLocations);
                $counter += 1;
            }
            // if object is the first created insert into table.
        } else {
            array_push($this->ObjectLocations, $tempObjectLocations);
            $counter += 1;
        }
    }

    return $this->ObjectLocations;
}
public function isColliding($obj1) {
    //Checks if object conflicts with nearby objects
    $a = count($this->ObjectLocations);
    for ($i = 0; $i < $a; $i++) {
        $obj2 = $this->ObjectLocations[$i];

        //Calculates the distance between two points
        $distance = sqrt(($obj1['coordX'] - $obj2['coordX']) ^ 2 + ($obj1['coordY'] - $obj2['coordY']) ^ 2);

        //Checks if the distance between the two objects is 
        //more than the radius of both objects added together
        if ($distance < ($obj1['radius'] + $obj2['radius'] )) {
            return true;
        }
    }
    return false;
} 
```

json结果

```
parseResponse([
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 54,
    "coordY": 17,
    "radius": 8
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 41,
    "coordY": 57,
    "radius": 12
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 42,
    "coordY": 36,
    "radius": 8
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 40,
    "coordY": 58,
    "radius": 8
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 25,
    "coordY": 58,
    "radius": 12
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 57,
    "coordY": 8,
    "radius": 10
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 46,
    "coordY": 17,
    "radius": 11
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 42,
    "coordY": 29,
    "radius": 8
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 18,
    "coordY": 58,
    "radius": 11
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 59,
    "coordY": 5,
    "radius": 11
},
{
    "chunkX": "1",
    "chunkY": "1",
    "coordX": 15,
    "coordY": 56,
    "radius": 12
} 
```

]);

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-22T12:55:19.030

我有一些提议。在你的`isColliding`：

```
public function isColliding($obj1) {
    //Checks if object conflicts with nearby objects
    $a = count($this->ObjectLocations);
    for ($i = 0; $i < $a; $i++) {
        $obj2 = $this->ObjectLocations[$i];

        //Calculates the distance between two points
        $distance = sqrt(($obj1['coordX'] - $obj2['coordX']) ^ 2 + ($obj1['coordY'] - $obj2['coordY']) ^ 2);

        //Checks if the distance between the two objects is 
        //more than the radius of both objects added together
        if ($distance < ($obj1['radius'] + $obj2['radius'] )) { // -> Bad idea !
            return true;
        }
    }
    return false;
} 
```

我已经标记了不好的地方。为什么 ？因为您将小行星视为质点，但实际上并非如此。如果它们的半径之和等于它们之间的距离，它们仍然会相互碰撞。所以这个条件应该是这样的：

```
if ($distance <= ($obj1['radius'] + $obj2['radius'] )) { // -> Should work :)
                return true;
            } 
```

每个人都在看，但看不到。有一些基本错误（当然我也没有看到这个:)）。在 PHP中， **^**运算符是 XOR 运算符而不是幂运算符 :)，因此脚本的正确表示法是：

```
public function isColliding($obj1) {
    //Checks if object conflicts with nearby objects
    $a = count($this->ObjectLocations);
    for ($i = 0; $i < $a; $i++) {
        $obj2 = $this->ObjectLocations[$i];

        //Calculates the distance between two points
//correct ^2 to pow function
        $distance = sqrt(pow($obj1['coordX'] - $obj2['coordX'], 2) + pow($obj1['coordY'] - $obj2['coordY'], 2));

        //Checks if the distance between the two objects is 
        //more than the radius of both objects added together
        if ($distance < ($obj1['radius'] + $obj2['radius'] )) { // -> Bad idea !
            return true;
        }
    }
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T12:26:45.787

也许没有帮助的答案，但是......我认为你的 IF/ELSE 语句应该导致两种不同的状态？

```
 if ($this->isColliding($tempObjectLocations) == false) {
            array_push($this->ObjectLocations, $tempObjectLocations);
            $counter += 1;
        }
        // if object is the first created insert into table.
    } else {
        array_push($this->ObjectLocations, $tempObjectLocations);
        $counter += 1;
    } 
```

正如我所看到的，无论它是否碰撞，你都将它推入一个数组？

# java - 如何获取不同注释的值

> ID：16146991
> 
> 赞同：2
> 
> 时间：2013-04-22T12:21:31.847
> 
> 标签：java, annotations

如何打印不同注释的注释值？

我有以下两个注解

```
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface Author 
{
    String name() default "--Unknown--";
    String date() default "--Unknown--";
} 
```

和

```
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface Revision 
{
    int version() default 0;
    String modifiedBy() default "--Unknown--";
} 
```

现在一个类同时使用这个注释，在这个类中我想显示两个注释的注释值

```
@Author(
        name = "Panther",
        date = "22.04.2013"
        )

@Revision(
        version = 2,
        modifiedBy = "Black", 
        )
public class AnnotationTest
{
    public static void main(String[] args)
    {
        AnnotationTest b = new AnnotationTest();
        for(Annotation a : AnnotationTest.class.getDeclaredAnnotations())
        {
            // for Author display name and date
            // for revision display version and modifiedBy
        }
    }
} 
```

有什么办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-22T12:27:00.597

您可以使用`instanceof`：

```
for (Annotation a : AnnotationTest.class.getDeclaredAnnotations()) {
   if (a instanceof Author) {
      Author author = (Author) a;
      System.out.println("Author Name: " + author.name());
      System.out.println("Date: " + author.date());

   } else if (a instanceof Revision) {
      Revision revision = (Revision) a;
      System.out.println("Version: " + revision.version());
      System.out.println("Modified By: " + revision.modifiedBy());
   } 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-22T12:30:48.437

答案很简单：

```
a.getClass().getAnnotation(Author.class).name(); 
```

这是通用的，所以 getAnnotation 将返回您要求的类型，然后您可以直接获取字段。

# php - 无法使用 xdebug 让 Notepad++ 达到断点

> ID：16146996
> 
> 赞同：0
> 
> 时间：2013-04-22T12:21:55.007
> 
> 标签：php, xdebug

我在尝试使用 xdebug、DBGp 和 Notepad++ 进行调试时遇到问题，因为它永远不会到达我的断点。我做了很多搜索，但看不到哪里出错了：

我已经配置了正确的端口，当查看我的 xdebug.log 时，我可以看到它似乎很高兴：

```
Log opened at 2013-04-22 12:10:58
I: Connecting to configured address/port: 127.0.0.1:8080.
I: Connected to client. :-)
-> <init xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" fileuri="file:///C:/Program%20Files%20%28x86%29/resources/appliance/download_agents.php" language="PHP" protocol_version="1.0" appid="2740" idekey="xdebug"><engine version="2.2.2"><![CDATA[Xdebug]]></engine><author><![CDATA[Derick Rethans]]></author><url><![CDATA[http://xdebug.org]]></url><copyright><![CDATA[Copyright (c) 2002-2013 by Derick Rethans]]></copyright></init>

-> <response xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" status="stopping" reason="ok"></response>

Log closed at 2013-04-22 12:10:58

Log opened at 2013-04-22 12:11:19
I: Connecting to configured address/port: 127.0.0.1:8080.
I: Connected to client. :-)
-> <init xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" fileuri="file:///C:/Program%20Files%20%28x86%29/resources/appliance/download_agents.php" language="PHP" protocol_version="1.0" appid="2740" idekey="xdebug"><engine version="2.2.2"><![CDATA[Xdebug]]></engine><author><![CDATA[Derick Rethans]]></author><url><![CDATA[http://xdebug.org]]></url><copyright><![CDATA[Copyright (c) 2002-2013 by Derick Rethans]]></copyright></init>

-> <response xmlns="urn:debugger_protocol_v1" xmlns:xdebug="http://xdebug.org/dbgp/xdebug" status="stopping" reason="ok"></response>

Log closed at 2013-04-22 12:11:19 
```

然而，它似乎从来没有达到断点。

我在文件 download_agents.php 中设置了 DBG 断点并输入了 URL：

```
http://localhost:8080/download_agents.php?XDEBUG_SESSION_START=xdebug 
```

但它从来没有击中它。刷新会导致将新条目添加到上述日志文件中，因此似乎可以连接。但是，Notepad++ 中 DBG 的 GUI 上没有连接消息。

我的 php.ini 文件条目如下：

```
[xdebug]
zend_extension="C:\nginx\php\ext\php_xdebug-2.2.2-5.3-vc9.dll"
xdebug.remote_enable=1 
xdebug.remote_handler=dbgp 
xdebug.remote_host=127.0.0.1 
xdebug.remote_port=8080 
xdebug.remote_mode=req 
xdebug.idekey=default 
xdebug.remote_log="c:\tmp\xdebug\xdebug.log" 
xdebug.show_exception_trace=0 
xdebug.show_local_vars=9 
xdebug.show_mem_delta=0 
xdebug.trace_format=0 
xdebug.profiler_enable  = 1 
xdebug.profiler_output_dir ="c:\tmp\xdebug" 
```

DBG 配置如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/gyQlv.png)

远程路径和本地路径都指向我的 Web 应用程序的根目录，并与 xdebug.log 文件中的输出匹配：

file:///C:/Program%20Files%20%28x86%29/resources/appliance/download_agents.php"

请任何帮助将不胜感激..

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T11:48:28.437

2个应用程序：一个是您的服务器，另一个是xdebug（直到您设置回默认值）。你必须说的是，你在哪里得到那个错误消息或者更好的是如何抛出这个消息。如果是 Notepad++，您可以尝试更新/全新安装 Npp（只是为了确定）。也许，您可以在详细模式下启动 DBGp。另一种尝试可能是使用 filemon，希望您发现 npp 正在读取 xml。