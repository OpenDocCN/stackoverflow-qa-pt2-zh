# StackOverflow 问答 14496000-14496999

# java - 用类中的值填充下拉框

> ID：14496002
> 
> 赞同：-1
> 
> 时间：2013-01-24T07:28:56.163
> 
> 标签：java, jsp, jstl, el, html-select

我有这个作为 JSP 页面，我想要一个组合框来填充数据库中表中的值。我有一个类Assembly和一个类Assembly，在Assemblys中，我将每条记录都作为Assembly的实例并将其放入列表中。但我无法在 JSTL 中检索它？为什么是这样？

```
 <%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%> 
 .....
 <select name = "assembly">
 <c:forEach var ="item" items="${Assemblys}">
 <option value="${item.id}">${item.Name}</option>
 </c:forEach>
 </select> 
```

这作为类组装类

```
 public class Assembly {
 public String Name;
 public int cost;
 public int id;

 public Assembly(String Name, int cost, int id) {
    this.Name = Name;
    this.cost = cost;
    this.id = id;
 }
} 
```

这是类Assemblys

```
 public class Assemblys {
  List<Assembly> list = new ArrayList<Assembly>();
  public Assemblys(){

  list = getAssemblys();
         }

  private List<Assembly> getAssemblys() {

    try {
        Connection conn = MysqlConnect.conn();

        PreparedStatement pstmt = null;
        ResultSet rs = null;
        String Query = "Select * from tbl_assembly";
        pstmt = conn.prepareStatement(Query);
           rs = pstmt.executeQuery();
        while (rs.next()) {
          Assembly ass = new Assembly(rs.getString(2),rs.getInt(3),rs.getInt(1));
           list.add(ass);
         }
         conn.close();

    } catch (SQLException ex) {
        Logger.getLogger(Assemblys.class.getName()).log(Level.SEVERE, null, ex);
    }

    return list;
    }
} 
```

为什么我的下拉列表是空白的？我不明白。我认为这是正确的代码？

提前谢谢了！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:41:34.150

首先，您应该将 getter 添加到 Assembly 类。

```
public class Assembly {
 public String Name;
 public int cost;
 public int id;

 public String getName() {
  return this.Name;
 } 

 public int getId() {
   return this.id;
 }

 public Assembly(String Name, int cost, int id) {
    this.Name = Name;
    this.cost = cost;
    this.id = id;
 }
} 
```

其次将getList方法添加到Assemblys

```
public class Assemblys {
  List<Assembly> list = new ArrayList<Assembly>();

  public List<Assembly> getList() {
        return this.list;
  } 

  public Assemblys(){

  list = getAssemblys();
         }

  private List<Assembly> getAssemblys() {

    try {
        Connection conn = MysqlConnect.conn();

        PreparedStatement pstmt = null;
        ResultSet rs = null;
        String Query = "Select * from tbl_assembly";
        pstmt = conn.prepareStatement(Query);
           rs = pstmt.executeQuery();
        while (rs.next()) {
          Assembly ass = new Assembly(rs.getString(2),rs.getInt(3),rs.getInt(1));
           list.add(ass);
         }
         conn.close();

    } catch (SQLException ex) {
        Logger.getLogger(Assemblys.class.getName()).log(Level.SEVERE, null, ex);
    }

    return list;
    }
} 
```

现在jsp

```
 <select name = "assembly">
 <c:forEach var ="item" items="${Assemblys.list}">
 <option value="${item.id}">${item.Name}</option>
 </c:forEach>
 </select> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T07:56:13.507

您需要一个 servlet 或在 jsp 中使用 scriptlet（标记为不好的做法）来调用类程序集。您指定的标签，我猜您正在使用 servlet/jsp 应用程序。

jsp中使用的名称Assemblys应该在请求对象中作为属性。您为程序集指定的键可用于获取列表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:40:21.660

代替

```
<c:forEach var ="item" items="${Assemblys}"> 
```

和

```
<c:forEach var ="item" items="${Assemblys.list}"> 
```

**编辑 ：**

结合@user2006574 和@AntonIlinchik 的答案，您必须将getter 添加到Assembly，将Assemblys 中的getter 更改为公共访问。

另外，发布`Assemblys`调用构造函数的代码。

# wcf - 通过链接发现 WCF 服务

> ID：14496003
> 
> 赞同：1
> 
> 时间：2013-01-24T07:28:58.900
> 
> 标签：wcf, discovery

我想使用它的地址查找 WCF 服务。我写了以下代码：

```
var uri = "http://bla-blabla.svc"
var obj = new DiscoveryClient(new UdpDiscoveryEndpoint());
        var findCriteria = new FindCriteria();
        findCriteria.Duration = TimeSpan.FromSeconds(10);
        findCriteria.Scopes.Add(new Uri(uri));
        var findResponse = obj.Find(findCriteria); 
```

但它什么也没找到...如果我尝试使用链接使用 WCF 测试客户端进行搜索，它可以工作...我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:07:40.110

当您使用 WCF 测试客户端时，您没有使用发现功能。这是对服务的 wsdl/元数据的经典调用。

通过在主机或配置中添加一些内容，您的目标服务应该是可发现的。

**代码**

```
ServiceHost host = new ServiceHost(...); 
host.AddServiceEndpoint(new UdpDiscoveryEndpoint());
ServiceDiscoveryBehavior discovery = new ServiceDiscoveryBehavior();
host.Description.Behaviors.Add(discovery);
host.Open(); 
```

**配置**

```
<services>
       <service name = "MyService">
          <endpoint 
             kind = "udpDiscoveryEndpoint"
          />
          ...
       </service>
    </services>
    <behaviors>
       <serviceBehaviors>
          <behavior>
             <serviceDiscovery/>
          </behavior>
       </serviceBehaviors>
    </behaviors> 
```

首先，还要删除查找条件中的范围。

# python - 查找字符串中最后出现的子字符串，替换它

> ID：14496006
> 
> 赞同：107
> 
> 时间：2013-01-24T07:29:13.450
> 
> 标签：python, string, parsing

所以我有一长串相同格式的字符串，我想找到最后一个“。” 每个字符，并将其替换为“。 - ”。我试过使用 rfind，但我似乎无法正确利用它来做到这一点。

* * *

## 回答 #1

> 赞同：168
> 
> 时间：2013-01-24T07:35:09.320

这应该这样做

```
old_string = "this is going to have a full stop. some written sstuff!"
k = old_string.rfind(".")
new_string = old_string[:k] + ". - " + old_string[k+1:] 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-01-24T07:39:01.400

从右边替换：

```
def replace_right(source, target, replacement, replacements=None):
    return replacement.join(source.rsplit(target, replacements)) 
```

正在使用：

```
>>> replace_right("asd.asd.asd.", ".", ". -", 1)
'asd.asd.asd. -' 
```

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2013-01-24T07:34:37.407

我会使用正则表达式：

```
import re
new_list = [re.sub(r"\.(?=[^.]*$)", r". - ", s) for s in old_list] 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-03-07T12:48:23.720

一个班轮将是：

`str=str[::-1].replace(".",".-",1)[::-1]`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-08-02T11:19:38.540

您可以使用下面的函数从右边替换第一次出现的单词。

```
def replace_from_right(text: str, original_text: str, new_text: str) -> str:
    """ Replace first occurrence of original_text by new_text. """
    return text[::-1].replace(original_text[::-1], new_text[::-1], 1)[::-1] 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-01-11T05:23:05.877

```
a = "A long string with a . in the middle ending with ." 
```

# 如果你想找到任何字符串最后一次出现的索引，在我们的例子中，我们 #will 找到最后一次出现的索引 with

```
index = a.rfind("with") 
```

# 结果将是 44，因为索引从 0 开始。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-01-24T07:38:13.433

天真的方法：

```
a = "A long string with a . in the middle ending with ."
fchar = '.'
rchar = '. -'
a[::-1].replace(fchar, rchar[::-1], 1)[::-1]

Out[2]: 'A long string with a . in the middle ending with . -' 
```

* * *

Aditya Sihag 的回答是`rfind`：

```
pos = a.rfind('.')
a[:pos] + '. -' + a[pos+1:] 
```

# drupal-7 - drupal：在关系中的两种内容类型之间创建关系

> ID：14496007
> 
> 赞同：0
> 
> 时间：2013-01-24T07:29:14.580
> 
> 标签：drupal-7, drupal-views, content-type

如何在两个内容类型节点之间的两个视图中创建新关系 1.问题内容类型 2.回答内容类型 回答内容类型的标题应该从问题内容类型中获取。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T01:01:43.470

我不确定我是否正确理解了这个问题，但我会首先使用[References](http://drupal.org/project/references)模块在内容类型中创建关系（在指向问题的答案中添加一个节点引用字段 - [Node Reference URL Widget](http://drupal.org/project/nodereference_url)模块提供了一个输入部分的良好 UI 方式（即自动在问题节点上放置一个添加答案链接）。

然后在您拥有的任何视图中，您都可以使用关系（或反向关系）将问题链接到答案（或问题的答案）。或者，您可以使用带有[实体附加视图](http://drupal.org/project/eva)的上下文过滤器来获取问题的所有答案并在视图中显示它们。

# magento - Magento URL 重写

> ID：14496010
> 
> 赞同：0
> 
> 时间：2013-01-24T07:29:34.547
> 
> 标签：magento, url, rewrite

我不知道如何进行 URL 重写，所以我希望这是可行的，并且有人可以捐赠我的代码片段。

这就是我想要的：

我想写这些类别的 URL ...

```
maybe-category-here/category-something-here.html?p=2 
```

我想写第二，第三，第四等页面的结尾，其中“.html？p = 2

类似于：

也许-类别-here/category-something-here/page-2.html 等

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:44:56.070

我没有什么大的描述者，但这里是为了获得直接帮助

[http://www.magentocommerce.com/knowledge-base/entry/what-url-rewrites-are-and-why-they-are-important](http://www.magentocommerce.com/knowledge-base/entry/what-url-rewrites-are-and-why-they-are-important)

# javascript - 在表单中存储 javascript 代码

> ID：14496012
> 
> 赞同：1
> 
> 时间：2013-01-24T07:29:46.183
> 
> 标签：javascript, django

我需要从 Django 动态创建表单，并且我需要一个脚本在提交之前执行用户确认。我可以将脚本标签存储在表单中吗？还是在表单主体之后粘贴脚本更好？是否有执行表单提交的 javascript 确认的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:34:42.733

```
<form onsubmit="return confirm('do you really want to submit?');"></form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:24:15.580

如果您需要更复杂的东西，请查看[Form Media 。](https://docs.djangoproject.com/en/1.4/topics/forms/media/)

```
form.js:
$(document).ready(function() {
     $('#form_id').submit(function() {
          return confirm('do you really want to submit?');
     });
});

forms.py:
class YourForm(forms.Form):
    class Media:
        js = ('form.js',)

template.html:
{{ form.media }} 
```

# php - 联邦银行和 MIGS 虚拟支付客户端错误代码

> ID：14496014
> 
> 赞同：0
> 
> 时间：2013-01-24T07:29:54.133
> 
> 标签：php, joomla, e-commerce, payment-gateway, paypal-adaptive-payments

我正在测试帐户上测试 MIGS 虚拟支付客户端，我发送我的虚拟购物车号码等

当响应返回给我时，它显示错误代码 2“银行拒绝交易”，我没有

知道这是否是正确的答复。我知道正确的代码是 0 但这是我的交易

工作正常或有一些错误。我可以去现场服务器还是不去。任何人都可以在这方面帮助我。等待回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:44:12.213

您的问题似乎是无效的 CSC 或卡背面的安全码。此外，您应该使用有效的测试未过期信用卡号。另请注意，如果您仍处于开发阶段，您的商家 ID 应具有前缀“TEST”。有关错误说明，请参见下图。

![在此处输入图像描述](../Images/77ccd8dfca368193077116e6caae045d.png)

尝试使用以下测试卡。他们的 CSC 是 210

![在此处输入图像描述](../Images/f73beed65940c38eefd1cf1e9c614190.png)

# javascript - jQuery 时间选择器

> ID：14496025
> 
> 赞同：0
> 
> 时间：2013-01-24T07:30:45.113
> 
> 标签：javascript, jquery, jquery-ui-timepicker

我正在使用 JQuery Timepicker，并且正在添加 O 应用 Timepicker 的动态字段。我希望当用户在两个字段上选择时间时，它会自动显示小时数。

这是我的时间字段的 HTML，带有一个通过单击按钮添加更多字段的按钮，它调用 JavaScript 的方法并添加更多字段：

```
<label id="l" style="width:160px;">From</label>
<input name="from[]" id="tm1" class="l" type="text" size="15" height="5px" onblur="" value="" style="width:auto;"/>
<label id="l" style="width:20px;">To</label>
<input name="to[]"  id="tm" class="l" type="text" size="15" height="5px" onblur="" value="" style="width:auto;"/>
<label id="l" style="width:30px;">Hours</label>
<input name="hours[]" id="l" type="text" size="15" height="5px" onblur="" value="" style="width:auto;" readonly="readonly"/>
<input type="button" id="add_sch()" onclick="add_sch('add_sch')" name="btn" value="Add More!" /><br> 
```

克隆领域：

```
<div id="add_sch" style="display:none">
<label id="l" style="width:160px;">From</label>
<input name="from[]" class="tm"  type="text" size="15" height="5px" onblur="" value="" style=":Arial;font-weight:normal;font-size:11px;color:#7c7b77;outline: none;border: 1px solid #c7c7c7;margin:3px 5px;padding:8px 0;padding-left:5px;-moz-box-shadow: 0 0 5px #c7c7c7;-webkit-box-shadow: 0 0 5px #c7c7c7;box-shadow: 0 0 5px #c7c7c7;float:left;border-radius: 5px;"/>
<label id="l" style="width:20px;">To</label>
<input name="to[]" class="tm"  type="text" size="15" height="5px" onblur="" value="" style=":Arial;font-weight:normal;font-size:11px;color:#7c7b77;outline: none;border: 1px solid #c7c7c7;margin:3px 5px;padding:8px 0;padding-left:5px;-moz-box-shadow: 0 0 5px #c7c7c7;-webkit-box-shadow: 0 0 5px #c7c7c7;box-shadow: 0 0 5px #c7c7c7;float:left;border-radius: 5px;"/>
<label id="l" style="width:30px;">Hours</label>
<input name="hours[]" id="l" type="text" size="15" height="5px" onblur="" value="" style="width:auto;" readonly="readonly"/></div> 
```

JavaScript：

```
var counter = 0;
function add_sch (FieldName) {
    counter++;
    var newFields = document.getElementById(FieldName).cloneNode(true);
    newFields.id = '';
    newFields.style.display = 'block';
    var newField = newFields.childNodes;
    for (var i=0;i<newField.length;i++) {
        var theName = newField[i].name
        if (theName)
            newField[i].name = theName + counter;
    }
    var insertHere = document.getElementById(FieldName);
    insertHere.parentNode.insertBefore(newFields,insertHere);
    $(newFields).find('.tm').timepicker();
} 
```

# asp.net-mvc-3 - 如何使用外键更新实体？

> ID：14496032
> 
> 赞同：1
> 
> 时间：2013-01-24T07:31:27.223
> 
> 标签：asp.net-mvc-3

我有两个实体如下：

```
 public class Package
     {
            public int PackageId { get; set; }
            public int BusinessId { get; set; }

             public string Name { get; set; }
     } 
```

和

```
 public class Business
     {

    public int BusinessId { get; set; }
    public string Name { get; set; }
    public string Description { get; set; }
    } 
```

我想编辑包并更新相关的业务实体。我一直在尝试以下方法：

```
 [HttpPost]
    public ActionResult Edit(Package package)
    {

        if (ModelState.IsValid)
        {

                db.Packages.Attach(new Package { PackageId=package.PackageId
       });

                db.Entry(package).State = EntityState.Modified;

                db.SaveChanges();

            return RedirectToAction("Index");
        }
        ViewBag.GenreId = new SelectList(db.Businesses , "BusinessId", "Name", package.BusinessId);
        return View(package);
    } 
```

代码在此处停止并显示以下消息：

ObjectStateManager 中已存在具有相同键的对象。ObjectStateManager 无法跟踪具有相同键的多个对象。

我一直在尝试这里的示例... [http://blogs.msdn.com/b/efdesign/archive/2009/03/16/foreign-keys-in-the-entity-framework.aspx](http://blogs.msdn.com/b/efdesign/archive/2009/03/16/foreign-keys-in-the-entity-framework.aspx)。 ..但我不确定我做错了什么。

如何使用外键更新实体？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:38:09.060

```
[HttpPost]
public ActionResult Edit(int packageId)
{

    var package = db.Packages.FirstOrDefault(x=>x.Id == packageId);
    if(TryUpdateModel(package))
    {
        ...
        db.SaveChanges();
    }
} 
```

# actionscript - 我们如何设置影片剪辑的宽度和高度？

> ID：14496035
> 
> 赞同：0
> 
> 时间：2013-01-24T07:31:55.673
> 
> 标签：actionscript, actionscript-2

我创建了一个空影片剪辑，从剪辑加载程序加载图像。我希望影片剪辑具有固定的高度和宽度，并且图像应该适合影片剪辑。

我想不出任何方法来做到这一点。任何人都可以帮忙吗？

注意：我使用的是 Actionscript 2.0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T10:43:10.297

假设您已加载图像的影片剪辑称为 pic_holder 您通过 pic_holder._width pic_holder._height 属性设置它的宽度和高度

但我想你已经尝试过了，你的问题是它不起作用。问题，很可能是您试图在图像加载之前调整它的大小。因此，您必须在加载*后调整图像大小。*

因此，您可以 a) 连续循环并检查它是否已加载 b) 添加一个事件侦听器，该事件侦听器将在加载图片时调用调整大小功能

一种）

```
this.pic_holder.onEnterFrame = function(){
  if(this._width>0){
    this._width=...your width...
    this._height=...your height...
    this.onEnterFrame=null;
  }
} 
```

b) 从[as2 语言参考](http://help.adobe.com/en_US/AS2LCR/Flash_10.0/help.html?content=00001383.html "as2 语言参考")中提取。请注意，我们使用的是 loadClip 而不是 loadMovie

```
 var loadListener:Object = new Object();
  loadListener.onLoadComplete = function(target_mc:MovieClip, httpStatus:Number):Void {
    target_mc._width=...your width...
    target_mc._height=...your height...
  }
  var mcLoader:MovieClipLoader = new MovieClipLoader();
  mcLoader.addListener(loadListener);
  mcLoader.loadClip("..path to image..", pic_holder); 
```

# mysql - mysql中对于具有不同列数的表的连接限制

> ID：14496048
> 
> 赞同：0
> 
> 时间：2013-01-24T07:32:55.973
> 
> 标签：mysql, database-design, composite-primary-key

我正在尝试加入 20 个表，每个表之间有近 6 个加入条件。每个表有大约 280 个不同的库数。每个表有四个复合主键。所有 20 个表都通用。执行查询时无法从所有表中获取列。

似乎有一些加入限制，或者可能是最终表有一些列数限制。

请提出一些解决方案来组合那里的表格并获得所需的结果。

希望提出建议。

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:30:10.020

没有这种类型的子句或规则“某些连接限制或可能是最终表具有某些列数限制”。正确检查您的查询某些条件肯定会返回错误行，即条件不匹配。尝试规范化你的表，因为使实体具有 300 个属性是非常不寻常的。

# popup - jquery mobile 1.3 beta webmatrix 2：弹出窗口中的href链接到另一个cshtml页面不起作用

> ID：14496050
> 
> 赞同：0
> 
> 时间：2013-01-24T07:33:17.843
> 
> 标签：popup

一如既往地请求您的紧急帮助:-)

这是使用 jQueryMobile V 1.3.0 Beta 1 的 WebMatrix2 的 .cshtml 页面的问题。

在我的cshtml页面中，我有以下带有导航栏的页脚；它有一个“选择”按钮，单击时会显示一个 id = 'PopupMenu' 的弹出窗口（代码如下所示）。

弹出窗口包含一个 Listview，其中包含指向其他 cshtml 页面的链接的 ita listitems（代码如下所示）。

当我单击页脚中的选择按钮时，它可以正常工作并正确显示带有 Listview 的弹出窗口。

但是当我单击列表项时，它不会带我到所需的页面，即 Page1 或 Page2

```
 <div data-role="footer" data-theme="b" data-position="fixed">
     <div data-role="navbar">
        <ul>
         <li><a href="#popupMenu" data-rel="popup" data-role="button" data-inline="true" data-transition="fade">Select</a></li>
       </ul>
     </div>
    </div>

    <div data-role="popup" id="popupMenu" data-overlay-theme="b">
       <ul data-role="listview" data-inset="true" style="width:180px;" data-theme="b">
         <li><a data-rel="popup" href="page1.cshtml">Select Page 1</a></li>
         <li><a data-rel="popup" href="page2.cshtml">Select Page 2</a></li>
      </ul>
    </div> 
```

所以我的问题是：

1.  弹出窗口中的链接是否应该仅链接到同一页面的内容？

2.  如果上述问题的答案是肯定的，那么是否有解决方法来实现我想要做的事情？

谢谢。

拉特纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T07:02:00.713

问题是由于代码错误。

我自己的问题的答案：

1.  不！
2.  不出现！id='popupMenu' 的Popup 中Listview 的ListItems 包含Quote data-rel="popup" UnQuote。这是不正确的，应该删除。

现在它工作正常。

谢谢，拉特纳

# c# - System.Configuration.dll 中的 ConfigurationManager 异常

> ID：14496052
> 
> 赞同：0
> 
> 时间：2013-01-24T07:33:23.600
> 
> 标签：c#, wcf, config, configurationmanager

我正在为 silverlight 应用程序编写 WCF 服务。在 MainService 我想从配置文件中读取信息。所以我想使用 ConfigurationManager。我将 System.Configuration.dll 添加到项目编译和发布中。然后在调用 WCF 服务后出现错误，见下文。如果我不使用 ConfigurationManager（不引用 DLL）它正在工作。这是调用设置和存储设置的代码的一部分。

```
var connectionManagerDatabaseServers = ConfigurationManager.GetSection("ConnectionManagerDatabaseServers") as NameValueCollection;
string config = connectionManagerDatabaseServers["ConnectionString"];

<configSections>
    <section name="ConnectionManagerDatabaseServers" type="System.Configuration.NameValueSectionHandler" />
</configSections>

<ConnectionManagerDatabaseServers>
    <add key="DatabaseType" value="1" />
    <add key="ConnectionString" value="VALUE" />
</ConnectionManagerDatabaseServers> 
```

> 服务器在处理请求时遇到错误。异常消息是“填充无效，无法删除。”。有关更多详细信息，请参阅服务器日志。异常堆栈跟踪是：
> 
> 在 System.Security.Cryptography.RijndaelManagedTransform.DecryptData(Byte[] inputBuffer, Int32 inputOffset, Int32 inputCount, Byte[]& outputBuffer, Int32 outputOffset, PaddingMode paddingMode, Boolean fLast) 在 System.Security.Cryptography.RijndaelManagedTransform.TransformFinalBlock(Byte[ ] inputBuffer, Int32 inputOffset, Int32 inputCount) at System.Security.Cryptography.CryptoStream.FlushFinalBlock() 在 System.Security.Cryptography.CryptoStream.Dispose(Boolean disposing) 在 System.IO.Stream.Close() 在 System.IO。 Stream.Dispose() at GX.Framework.Utils.Encryption.Decrypt(String encryptedText) at ServiceWCF.MainService..ctor() at CreateServiceWCF.MainService() at System.ServiceModel.Dispatcher.InstanceProvider.GetInstance(InstanceContext instanceContext, Message message ) 在 System.ServiceModel.Dispatcher.InstanceBehavior。GetInstance(InstanceContext instanceContext, Message request) at System.ServiceModel.InstanceContext.GetServiceInstance(Message message) at System.ServiceModel.Dispatcher.InstanceBehavior.EnsureServiceInstance(MessageRpc& rpc) 在 System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage41(MessageRpc& rpc) 在 System .ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage4(MessageRpc& rpc) 在 System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage31(MessageRpc& rpc) 在 System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage3(MessageRpc& rpc) 在 System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage2 (MessageRpc& rpc) 在 System.ServiceModel.Dispatcher.ImmutableDispatchRuntime.ProcessMessage11(MessageRpc& rpc) 在 System.ServiceModel.Dispatcher。System.ServiceModel.Dispatcher.MessageRpc.Process(Boolean isOperationContextSet) 处的 ImmutableDispatchRuntime.ProcessMessage1(MessageRpc& rpc)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T12:57:56.103

我解决了异常！问题出在服务的构造函数中。在构造函数中，我在一种方法中犯了错误。所以现在它的工作。抱歉发布这个错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:06:00.590

Musketyr，配置文件必须命名为 Web.config

```
 <configuration>
      <appSettings>
        <add key="DatabaseType" value="1" />
        <add key="ConnectionString" value="VALUE" />
      </appSettings>
      ...

    try this
    [WebMethod]
    public string GetString()
    {
      return ConfigurationManager.AppSettings["ConnectionString"].ToString();
    } 
```

# hadoop - 如何在hadoop作业中伪造任务报告？

> ID：14496053
> 
> 赞同：1
> 
> 时间：2013-01-24T07:33:29.497
> 
> 标签：hadoop, mapreduce

我正在使用 hadoop 1.0.3 来运行一些数据处理作业。我的 reducer 不写入 HDFS，而是让我的 reducer 将结果直接写入 mongoDB。最近我开始面临一个问题；我的工作有时“超时”并重新启动，我从 hadoop 控制台收到的消息是“任务尝试_201301241103_0003_m_000001_0 未能报告状态 601 秒”。所以我认为问题出在我的方法上，即写入 mongodb 而不是 HDFS。我想伪造 hadoop 工作状态报告。我怎样才能做到这一点 ？请帮忙。

此外，我观察到我的 reducer 始终保持 0%，只有 Map 阶段以 % 显示恒定增量。工作一完成，reducer一下子就显示100%了。

谢谢， 问候， Mohsin

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:00:52.297

您看到的控制台上的消息来自地图阶段。注意里面的“ **m** ”。要继续发送进度，您可以执行 context.progress(); 在地图方法中。 [http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/StatusReporter.html](http://hadoop.apache.org/docs/stable/api/org/apache/hadoop/mapreduce/StatusReporter.html)

# ms-access - Microsoft Access 2003 VBA - 登录表单

> ID：14496057
> 
> 赞同：1
> 
> 时间：2013-01-24T07:33:37.043
> 
> 标签：ms-access, vba, ms-access-2003

这是我第一次尝试创建登录表单。我已经阅读了一些关于它的论坛并自己尝试过。但是，我在尝试表单时遇到了错误。

“运行时错误‘2001’：您取消了之前的操作。”

这是我的代码！突出显示的错误是 DLOOKUP 语句。当我将光标移动到 LanID 时，它似乎为 0。（我想这与它有关？）

```
Option Compare Database
Option Explicit

Private intLoginAttempts As Integer

Private Sub cmdLogin_Click()
'Check mandatory fields
If IsNull(Me.txtLanID) Or Me.txtLanID = "" Then
   MsgBox "Lan ID is required.", vbOKOnly, "Required Data"
   Me.txtLanID.SetFocus
   Exit Sub
End If

If IsNull(Me.txtPassword) Or Me.txtPassword = "" Then
   MsgBox "Password is required.", vbOKOnly, "Required Data"
   Me.txtPassword.SetFocus
   Exit Sub
End If

'Compare input password and database password
If Me.txtLanID <> "" Then
   If Me.txtPassword = DLookup("Password", "tblUser", "[LanID]=" & Me.txtLanID) Then
      LanID = Me.txtLanID

      'Close Login Page
      DoCmd.Close acForm, "frmUserLogin", acSaveNo

      'Check whether user is an admin
      If Me.txtAdmin = DLookup("Administrator", "tblUser", "[LanID]=" & Me.txtLanID) Then
         If Me.txtAdmin = -1 Then
            DoCmd.OpenForm "frmMenu"
            Else
               DoCmd.OpenForm "frmBack"
         End If
      End If

   Else
      MsgBox "Invalid Password. Try again.", vbOKOnly, "Invalid Entry!"
      Me.txtPassword.SetFocus
   End If
End If

'If user enters incorrect password 3 times
intLoginAttempts = intLoginAttempts + 1
If intLoginAttempts = 3 Then
   MsgBox "You do not have access to the database. Please contact system administrator.", vbCritical, "Restricted Access!"
   Application.Quit
End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:58:12.670

如果`tblUser.LanID`是文本数据类型，`Me.txtLanID`请用引号括起来以避免`DLookup()`表达式出错。（您不需要`.Value`那里，因为它是默认属性。）

```
DLookup("Password", "tblUser", "[LanID]='" & Me.txtLanID & "'") 
```

如果这不是解释，请`DLookup()`在“立即”窗口中测试您的表达式（使用`Ctrl`+去那里`g`），看看它是否引发错误或返回什么值。

请注意，当您`DLookup()`在“立即”窗口中进行测试时，请使用 的当前值`Me.txtLanID`。例如，如果`Me.txtLanID`包含文本“ *foo* ”，则像这样测试它...

```
? DLookup("Password", "tblUser", "[LanID]='foo'") 
```

# c# - LINQ 和实体框架有什么不同？

> ID：14496058
> 
> 赞同：4
> 
> 时间：2013-01-24T07:33:40.777
> 
> 标签：c#, asp.net, .net, ado.net

我知道 LINQ 的好处，并且知道在 .Net 应用程序中使用它。我填写了作为实体框架提供的相同内容。

那么 LINQ 和实体框架之间的主要区别是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-24T07:35:04.167

[LINQ](http://msdn.microsoft.com/en-us/library/vstudio/bb397926.aspx)可以应用于任何数据源：内存中的对象、XML、SQL...

[实体框架](http://msdn.microsoft.com/en-us/data/ef.aspx)可以使用 LINQ 对关系数据库执行查询。

[LINQ to SQL](http://msdn.microsoft.com/en-us/library/bb386976.aspx)是实体框架的前身，现在已经过时。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-24T07:35:56.030

比较 EF 和 LINQ 是不正确的。两者是不同的东西，它们经常一起工作以提供更好的开发人员体验（和生产力优势）。

LINQ 正在查询可应用于任何数据源的语法/模型。EF 提供了一种这样的数据源。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T07:35:44.263

它们有些相似，并且可以以非常相似的方式使用代码，但它们有一些重要的区别。请注意，“LINQ”与“LINQ to SQL”不同；EF 也使用 LINQ。一些显着的区别是：

*   LINQ to SQL 在很大程度上只是 SQL Server，与其说是设计上的，不如说是实现上的。如果您有兼容的 ADO.NET 提供程序，则 EF 旨在支持并且确实支持多个 DB。
*   开箱即用，LINQ to SQL 在数据库元数据更改方面的情况非常糟糕。您必须从头开始重新生成模型的某些部分，并且会丢失自定义。
*   EF 支持多对多关系和继承等模型特性。LINQ to SQL 不直接支持这些。
*   在 .NET 3.5 中，LINQ to SQL 对 SQL-Server 特定功能的支持比 EF 好得多。这在 .NET 4 中大部分是不正确的。它们在这方面非常相似。
*   EF 允许您选择 Model First、DB First 或 Code First 建模。开箱即用的 LINQ to SQL 真的只支持 DB First。

* * *

### 来源：[这里](https://stackoverflow.com/questions/3293995/what-is-the-difference-between-entity-framework-and-linq-to-sql-by-net-4-0)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T10:01:47.973

我完全同意VinayC。你无法真正比​​较。

使用实体框架，您将能够在程序中拥有数据库的完整表示。它将帮助您创建与数据库元素相对应的类，就像它们在数据库中一样连接在一起。您可以直接与这些类的元素进行交互，这样会影响数据库。您将在 Visual Studio 中对这些类图进行一些表示。它基本上通常比直接使用数据库元素更简单，即使设置它需要一些努力。

Linq 的用途是对数据​​源执行查询。

# c - 初始化 int 是否有任何副作用？

> ID：14496059
> 
> 赞同：0
> 
> 时间：2013-01-24T07:33:42.507
> 
> 标签：c, clang

我在项目中收到来自以下第三方代码的叮当警告：

```
uLong x ;
int i;
int err;

err = unzlocal_getByte(pzlib_filefunc_def,filestream,&i); d
x = (uLong)i; // <- CLANG: Assigned value is garbage or undefined 
```

因此，为了摆脱这个错误，我想将 i 的初始化更改为：

```
int i = 0; 
```

这会导致任何意想不到的后果吗？我想在不搞砸任何事情的情况下压制这个警告。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T07:48:42.807

我认为您可以将其更改为`int i = 0;`.

根据您的代码，初始`i`变量未初始化，因此它可能包含任意值，即垃圾。

我不知道，甚至编译器也不知道，函数`unzlocal_getByte`实际上会改变`i`变量的值，所以它会警告你`i`变量可能的不确定状态。

无论如何，先前初始化`i`变量不会使情况变得更糟。

# sql-server-2008 - 查询以获取每个项目组的前 10 个项目

> ID：14496061
> 
> 赞同：1
> 
> 时间：2013-01-24T07:33:55.413
> 
> 标签：sql-server-2008

我正在尝试进行查询，从而可以为每个项目组的前 10 个项目生成一个列表。它适用于连锁超市，其中所有物品都分为物品组。例如大米、盐等。会有不同品牌的大米和不同品牌的盐。

我需要从 SAP Business One 表（MS SQL Server 2008）中获取数据

来自项目组表 OITB 的示例结果

`SELECT * FROM OITB`（显示项目组的前两列）

```
ItmsGrpCod  ItmsGrpNam
101         RICE
102         SALT
103         SUGAR
104         FROZEN VEGETABLE 
```

这将返回 224 个结果。

`SELECT * FROM OITB`（显示项目的前两列）

```
ItemCode    ItemName          ItmsGrpCod    
2001        A1 GRAIN RICE     101
2001        ASHA BRAND RICE   101
2003        PISHORI RICE      101
2004        B7 GRADE RICE     101
2019        JIM SALT          102
2020        KAYKAY SALT       102 
```

我在下面也有这个查询，它获取前 10 个项目，但我必须指定项目组代码（字段 ItmsGrpCod）

```
SELECT TOP 100 T0.ItemCode, T0.ItemName, T1.DocDate, T6.Price AS COST,P3.Price AS POS,
((P3.Price-T6.Price)/T6.Price)*100 AS [Markup %], T2.OnHand, SUM(T1.Quantity) 
AS Quantity, SUM(T1.LineTotal) AS SALES,T6.Price *SUM(T1.Quantity) AS [Sales 
Cost],SUM(T1.LineTotal) - T6.Price *SUM(T1.Quantity) AS [GP Amount],
(SUM(T1.LineTotal) - T6.Price *SUM(T1.Quantity))/(T6.Price *SUM(T1.Quantity))
*100 as [GP %],T3.WhsName FROM OITM T0
INNER JOIN INV1 T1 ON T0.ItemCode = T1.ItemCode 
INNER JOIN OITW T2 ON T0.ItemCode = T2.ItemCode 
INNER JOIN OWHS T3 ON T1.WhsCode = T3.WhsCode 
INNER JOIN OINV T4 ON T1.DocEntry = T4.DocEntry 
INNER JOIN OITB T5 ON T0.ItmsGrpCod = T5.ItmsGrpCod 
INNER JOIN ITM1 T6 ON T0.ItemCode = T6.ItemCode  
INNER JOIN (SELECT P1.ItemCode, P2.Price FROM OITM P1 
INNER JOIN ITM1 P2 ON P1.ItemCode=P2.ItemCode WHERE 
P2.PriceList='1') P3 ON P3.ItemCode=T0.ItemCode WHERE T6.PriceList ='2' 
AND T2.WhsCode = '01' AND T1.WhsCode = '01' AND T4.DocDate 
= CONVERT(VARCHAR, GETDATE() -1, 101)
AND T0.ItmsGrpCod = '103'  --(Item Group Code)
GROUP BY T0.ItemCode, T0.ItmsGrpCod, T0.ItemName, T1.DocDate, T6.Price, P3.Price, ((P3.Price-T6.Price)
/NULLIF(T6.Price, 0))* 100, T2.OnHand, T3.WhsName ORDER BY Quantity DESC 
```

我需要的是一个查询，它首先从 OITB 获取所有项目组代码并将它们临时存储在一个数组中，然后为每个项目组代码运行第二个查询。假设每个项目组中至少有 10 个项目，查询应该返回 2240 个结果。但是，某些项目组的项目少于 10 个。我真的没有在 SQl 中使用过数组，所以我将如何构建一个查询来获得我想要的东西？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T07:11:35.257

我认为这个声明会有所帮助：

```
Create table OITB (itmsGrpCod int ,ItmsGrpNam varchar(30) )

insert into OITB select 101,'RICE'
insert into OITB select 102,'SALT'
insert into OITB select 103,'SUGAR'
insert into OITB select 104,'FROZEN VEGETABLE'

Create table Item (ItemCode int ,ItemName varchar(20),ItmsGrpCod int )

insert into Item select 1011,'A RICE',101
insert into Item select 1012,'B RICE',101
insert into Item select 1013,'C RICE',101
insert into Item select 1014,'D RICE',101
insert into Item select 1015,'E RICE',101
insert into Item select 1016,'F RICE',101
insert into Item select 1017,'G RICE',101
insert into Item select 1018,'H RICE',101
insert into Item select 1019,'I RICE',101
insert into Item select 10111,'J RICE',101
insert into Item select 10112,'K RICE',101
insert into Item select 10113,'L RICE',101
insert into Item select 10114,'M RICE',101
insert into Item select 1020,'A SALT',102
insert into Item select 1021,'B SALT',102
insert into Item select 1042,'C SALT',102

WITH recordsList
AS
(
    SELECT  Item.*,
            ROW_NUMBER() OVER (PARTITION BY ItmsGrpNam
                                ORDER BY Item.itmsGrpCod ) rn
    FROM    OITB
  inner join 
  Item on OITB.ItmsGrpCod=Item.ItmsGrpCod
)
SELECT  *
FROM    recordsList
WHERE   rn <= 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-02T07:36:27.940

我搜索了 OITM 和 OITB 模式。

我了解到您错误地将 OITB 描述为组和项目实体。

根据我的发现：

*   OITB - 产品组
*   OITM - 产品项目
*   INV1 - 库存

因此，扩展 Ravi 的解决方案，这应该可以解决问题：

```
WITH OITB_OITM AS
(
  SELECT
    OITB.ItmsGrpCod, OITB.ItmsGrpNam,
    OITM.ItemCode, OITM.ItemName,
    INV1.Quantity,
    ROW_NUMBER() OVER
    (
      PARTITION BY OITB.ItmsGrpNam
      ORDER BY
        INV1.Quantity DESC,
        OITM.ItemName /* For clashing quantities */
    ) idx
  FROM
    OITM
      INNER JOIN INV1 ON INV1.ItemCode   = OITM.ItemCode
      INNER JOIN OITB ON OITB.ItmsGrpCod = OITM.ItmsGrpCod
)
SELECT *
FROM OITB_OITM
WHERE idx <= 10 
```

# android - 使用广播接收器按电源按钮的点击次数打开应用程序

> ID：14496062
> 
> 赞同：2
> 
> 时间：2013-01-24T07:34:06.263
> 
> 标签：android, broadcastreceiver

我正在尝试生成一些日志并在单击电源按钮后在屏幕上举杯。但这似乎不起作用。这是代码：

AndroidManifest.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.test.pbtest"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<uses-permission android:name="android.permission.ACTION_SHUTDOWN" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.test.pbtest.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <receiver android:name="com.test.pbtest.MyReceiver">
        <intent-filter>
        <action android:name="android.intent.action.SCREEN_OFF"></action>
            <action android:name="android.intent.action.SCREEN_ON"></action>
            <action android:name="android.intent.action.ACTION_POWER_CONNECTED"></action>
            <action android:name="android.intent.action.ACTION_POWER_DISCONNECTED"></action>
            <action android:name="android.intent.action.ACTION_SHUTDOWN"></action>          
        </intent-filter>
    </receiver>        
</application>

</manifest> 
```

MyReceiver.java 类：

```
package com.test.pbtest;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import android.widget.Toast;

public class MyReceiver extends BroadcastReceiver {

    @Override
public void onReceive(Context arg0, Intent arg1) {
    // TODO Auto-generated method stub
    Log.v("Hurray!", "Power button was clicked!");
        Toast.makeText(arg0, "power button clicked",Toast.LENGTH_LONG).show();
}

} 
```

MainActivity.java 类：

```
package com.test.pbtest;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

据我所知，我不需要显式注册我的接收器，因为我已经在清单文件中使用了它。请指导我哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-10T10:27:17.750

出于某种原因，您必须在运行时注册您的接收器..您可以通过服务注册它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:44:02.940

您需要`ACTION_SHUTDOWN`在 AndroidManifest.xml 中添加权限：

```
 <uses-permission android:name="android.permission.ACTION_SHUTDOWN" /> 
```

# mongodb - 创建更改日志时 mongoexport 选项太多错误

> ID：14496065
> 
> 赞同：2
> 
> 时间：2013-01-24T07:34:11.940
> 
> 标签：mongodb, changelog, mongoimport, mongoexport

试图使用 mongoexport 导出 oplog 的 csv ......尝试了我迄今为止读过的所有报价组合......

```
../mongodb/bin/mongoexport --csv -d local -c oplog.rs -o export.csv -f {op,ns,o._id} -q "{ts: { \"$gte\": Timestamp(1355100998000,1)} , op :{ \"$nin\" : [\"c\",\"n\"]}" 
```

但我不断得到

```
ERROR: too many positional options
..... 
```

有什么问题？

经过大量的努力后，我尝试了这个

```
q="{op: { \$nin: [\"c\",\"n\"]}}"
mongoexport --csv -d local -c oplog.rs -o export.csv -f {op,ns,o._id} -q "$q" 
```

这就像一个魅力。但这仍然是

```
q="{ts: { \$gte: Timestamp(1355100998000,1)}, op: { \$nin: [\"c\",\"n\"]}}"
../mongodb/bin/mongoexport --csv --db local --collection oplog.rs -o changelog.csv --fields op,ns -q "$q" 
```

不起作用。输出

```
 Assertion: 10340:Failure parsing JSON string near: ts: { $gte 
```

感觉 Timestamp() 有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:22:11.060

所以最后这就是它应该如何做......或者我是如何做到的。在 30000 条记录上尝试它的速度非常快，最多需要 2 秒。发生的一切是我通过使用带有 --eval 选项的 mongo 将结果存储在一个新集合中

```
q="db.oplog.rs.find({ ts : { \$gte : Timestamp( $timestamp, 1)}, op : { \$nin : [\"c\",\"n\"] } }, { op : 1 , ns : 1 , \"o._id\" : 1 , h : 1 } ).forEach(function(x){db.changelog.save(x);})"

../mongodb/bin/mongo localhost:27017/local --eval "$q" 
```

然后使用 mongoexport 将其导出为 .csv

```
../mongodb/bin/mongoexport --csv --db local --collection changelog -o changelog.csv --fields "o._id","op","ns","h" 
```

并删除临时数据库以支持未来的变更日志

```
../mongodb/bin/mongo localhost:27017/local --eval 'db.changelog.remove()' 
```

# c# - 通过拖放单击网格视图？

> ID：14496067
> 
> 赞同：0
> 
> 时间：2013-01-24T07:34:26.897
> 
> 标签：c#, winforms, image, gridview

> **可能重复：**
> [单击并将图像拖动到图像网格？](https://stackoverflow.com/questions/14494769/click-and-drag-image-to-image-grid)

我的表单中有几个图像框，我想知道如何在表单上放置一个网格，其中包含一堆线条，所以整个网格是一堆 64 x 64 的正方形。我需要它，所以我可以选择一个图像并使用鼠标将其放置到一个特定的正方形上，并且能够遍历整个网格并检查网格上一个特定图像的数量。为了让您更好地了解我在做什么，我有几个包含不同 64 x 64 图像的图像框。还有另一个图像框显示了我上次单击的图像，它就像一个画笔，因为每当您左键单击网格中的一个框时，它都会将其粘贴到网格中的特定框中。我也需要它，所以我可以右键单击该框并删除鼠标所在框中的图像。最后，我需要能够读取框中的所有图像并将其输出到我以后可以打开的文件中。我正在使用它在游戏中创建土地，程序将输出所需的纹理以及构成整个地形的盒子的地面水平。我需要知道的是我应该做什么样的事情才能做到这一点？在过去的几个小时里，我一直在尝试如何制作盒子以及如何知道鼠标在哪里等等，但我完全被卡住了。一个简单的想法会很有帮助。我实际上不知道我应该为此使用什么控件，因此不涉及任何网格控件的想法仍然非常有用。我需要知道的是我应该做什么样的事情才能做到这一点？在过去的几个小时里，我一直在尝试如何制作盒子以及如何知道鼠标在哪里等等，但我完全被卡住了。一个简单的想法会很有帮助。我实际上不知道我应该为此使用什么控件，因此不涉及任何网格控件的想法仍然非常有用。我需要知道的是我应该做什么样的事情才能做到这一点？在过去的几个小时里，我一直在尝试如何制作盒子以及如何知道鼠标在哪里等等，但我完全被卡住了。一个简单的想法会很有帮助。我实际上不知道我应该为此使用什么控件，因此不涉及任何网格控件的想法仍然非常有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:50:39.303

我不知道这是否是最好的主意，但您可以使用 FlowLayoutPanel 并将 WrapContent 设置为 true 并且 FlowDirection = LeftToRight。虽然我不知道拖放操作（从来没有用 FlowLayoutPanel 做过，但是那里有一些不错的教程）。

您可以使用鼠标事件跟踪鼠标位置。如果您不想这样做：

您可以随时使用以下方法获得绝对位置：

```
Point currentPos = System.Windows.Forms.Cursor.Position; 
```

然后，要获得（当前）控件的相对位置：

```
Point relativeLoc = this.PointToClient(currentPos) 
```

...然后，要控制鼠标在 FlowLaoutPanel 上的位置：

```
Control c = flowLayoutPanel1.GetChildAtPoint(relativeLoc); 
```

# c - 编写一个程序，在 C 中打印两个输入整数的和、积和商

> ID：14496076
> 
> 赞同：0
> 
> 时间：2013-01-24T07:34:47.800
> 
> 标签：c, compiler-errors

我是这门语言的新手，所有这些溢出问题和整数类型都让我很紧张。这就是我所拥有的，但是当我运行它时，我得到了，

```
-bash: syntax error near unexpected token `newline' 
```

编码：

```
#include <stdio.h>
int main(void)
{
   int one, two, s, q, m;
   s = one+two
   q = one/two
   m = one*two
   printf("Enter first positive integer: ");
   scanf("%d", &one);
   printf("Enter second positive integer: ");
   scanf("%d", &two);
   printf("The addition of %d and %d is %d", one, two, s);
   printf("The integer division of %d divided by %d is %d", one, two, q);
   printf("the multiplication of %d and %d is %d", &one, &two, m);
   return 0;
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:37:09.447

您应该在获得输入后执行计算。

```
printf("Enter first positive integer: ");
scanf("%d", &one);
printf("Enter second positive integer: ");
scanf("%d", &two);

s = one+two;
q = one/two;
m = one*two; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:37:01.557

尝试这个：

```
#include <stdio.h>
int main(void)
{
int one, two;
printf("Enter first positive integer: ");
scanf("%d", &one);
printf("Enter second positive integer: ");
scanf("%d", &two);
printf("The addition of %d and %d is %d", one, two, (one+two));
printf("The integer division of %d divided by %d is %d", one, two, (one/two));
printf("the multiplication of %d and %d is %d", &one, &two, (one*two));
return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:38:05.813

您在之后缺少分号

```
 s = one+two
   q = one/two
   m = one*two 
```

另外，您应该在阅读输入后执行计算，但这是一个不同的问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T07:38:39.417

这些行产生了问题：

```
s = one+two
q = one/two
m = one*two 
```

你错过了`;`（分号）

像这样改变它：

```
s = one+two;
q = one/two;
m = one*two; 
```

在执行操作之前，还要先读取用户的输入。

# jquery - 如何委托焦点事件？

> ID：14496083
> 
> 赞同：7
> 
> 时间：2013-01-24T07:35:07.940
> 
> 标签：jquery

> **可能重复：**
> [焦点和模糊 jQuery 事件不冒泡](https://stackoverflow.com/questions/9577971/focus-and-blur-jquery-events-not-bubbling)

```
var default_input_value = null;
jQuery('body').on('focus focusout', 'input[type="text"]', function(event){
    if(event.type === 'focus'){
        default_input_value = jQuery(this).val();
        jQuery(this).val('');
    }else if(event.type === 'focusout')
        if(jQuery(this).val().length === 0)
        jQuery(this).val(default_input_value);
    }
); 
```

此代码根本不响应事件。PS重要的是会有`input[type="text"]`，因为在某些情况下`jQuery focus`也会触发`checkbox`....

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-24T07:45:50.593

在[`.on()`](http://api.jquery.com/on/)jquery文档下，有一段描述：

和事件由 W3C 指定为不冒泡，但 jQuery 定义了跨浏览器和`focus`冒泡的事件。当和用于附加委托事件处理程序时，jQuery 映射名称并将它们分别作为和传递。为了一致性和清晰性，使用冒泡事件类型名称。`blur``focusin``focusout``focus``blur``focusin``focusout`

希望这会很有用。

你可以试试这段代码：

```
var default_input_value = null;
jQuery('body').on('focusin focusout', 'input[type="text"]', function(event){
    if(event.type === 'focusin'){
        default_input_value = jQuery(this).val();
        jQuery(this).val('');
    }else if(event.type === 'focusout'){
        if(jQuery(this).val().length === 0)
        jQuery(this).val(default_input_value);
    }
}); 
```

# mysql - 如何在sql中将Varchar转换为Double？

> ID：14496090
> 
> 赞同：23
> 
> 时间：2013-01-24T07:35:25.333
> 
> 标签：mysql, sql, numeric, varchar

当我尝试将 varchar 字段转换为双精度（数字）时，我的查询出现问题。我有这个 sql 语句：

```
SELECT fullName, CAST(totalBal as numeric(9,2) FROM client_info ORDER BY totalBal DESC 
```

实际上我想`totalBal`按降序显示 的值。但由于该字段在 varchar 中，结果集有时是错误的。这是我尝试使用此语句查询时的结果集：

```
SELECT fullName, totalBal FROM client_info ORDER BY totalBal DESC 
```

结果集是：

![在此处输入图像描述](../Images/8ce53a5a2d368312448fd779f888f54a.png)

排序`totalBal`不正确。因此，我决定将 varchar 转换为数字，以便对其进行完美排序。任何的想法？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-01-24T07:36:47.920

使用`DECIMAL()`or`NUMERIC()`因为它们是固定的精度和比例数字。

```
SELECT fullName, 
       CAST(totalBal as DECIMAL(9,2)) _totalBal
FROM client_info 
ORDER BY _totalBal DESC 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-11-18T10:12:44.640

这可能更可取，即使用 float 代替

```
SELECT fullName, CAST(totalBal as float) totalBal FROM client_info ORDER BY totalBal DESC 
```

# reporting-services - 改变指标背景

> ID：14496091
> 
> 赞同：2
> 
> 时间：2013-01-24T07:35:26.103
> 
> 标签：reporting-services, ssrs-2008, reportbuilder3.0

我有一个交替行颜色的表（我使用了以下表达式`=iif(RowNumber(Nothing) Mod 2, "Gainsboro", "White")`）。现在在表格的一个单元格中，我放置了一个指示器。

当我运行我的报告时，指标的背景颜色保持固定为白色：

![在此处输入图像描述](../Images/5ced046f8897f2812f20215e2451e02c.png)

我尝试将指示器背景颜色设置为`no color`.

我还做了一些变通方法（使用指示器图标创建图像文件 - 每个图标 2 个图像（每个图像具有不同的背景颜色），并使用表达式在图像之间切换。但这种变通方法具有限制性（因为我必须保留单元格比例正确的图像比例 - 否则图像呈现不佳）

**您知道解决此问题的任何选项/更好的解决方法吗？**谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T12:24:25.230

行，

修复方法如下

**问题1的解决方案：**

点击“行”本身而不是其中一列（见截图）

然后将您的表达式添加到“背景颜色”属性

```
=iif(RowNumber(Nothing) Mod 2, "Gainsboro", "White") 
```

![在此处输入图像描述](../Images/bc21e3908b7042b3640ef937341c74a3.png)

**问题2的解决方案**

强制图像不增加的方法是将列属性“Can Grow”设置为False

请对每一列都这样做（见截图）我希望它帮助你:)

![在此处输入图像描述](../Images/4d2c44faf1f5afbc056e7e03f29dbbbb.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T12:11:07.433

[该线程](http://blogs.msdn.com/b/feldman/archive/2007/11/18/transparent-images-in-reporting-services.aspx)可能会有所帮助：它建议您将 img 包裹在一个矩形内，显然图像中的透明度随后会被强制正确渲染。

# node.js - node js异步函数和线程

> ID：14496092
> 
> 赞同：0
> 
> 时间：2013-01-24T07:35:27.987
> 
> 标签：node.js

我已经阅读了一些关于 nodejs 的介绍文章，这似乎是一种创建 webapps 的有趣方式。但是，我不确定我是否理解“只有一个线程”和“事件循环”，所以我希望有人可以为我澄清。

可以说我有一个函数“computeBigNumbers（数据，回调）”。现在，当发出 http 请求时，我调用此函数并在完成时提供回调。在“computeBigNumbers”函数中，如果我没有专门在子进程中运行代码或启动 Web 工作线程，它会是异步的吗？我想没有。正确的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:38:38.640

> 在“computeBigNumbers”函数中，如果我没有专门在子进程中运行代码或启动 Web 工作线程，它会是异步的吗？

...或调用另一个异步函数。

但是，是的，node.js 中只有一个线程，您有责任不阻塞它（通过使耗时的任务显式异步）。

I/O 适合回调，但如果您有一个 CPU 密集型操作，那么您可能需要将其分配给 web worker 或子进程。Javascript 中的密集循环或对 C 函数的同步调用将使整个服务器等待您。

# google-app-engine - 如何在 Google App Engine 中使用 XMPP 协议获取聊天消息发送者的 IP 地址？

> ID：14496093
> 
> 赞同：2
> 
> 时间：2013-01-24T07:35:28.483
> 
> 标签：google-app-engine, ip, xmpp, chat

我正在开发一个可以响应用户聊天消息的应用程序。我需要知道聊天消息发送者的 IP 地址。我在谷歌应用引擎上做我的应用程序，并使用 XMPP 协议进行聊天。如何使用 XMPP 协议检测聊天消息发送者的 IP 地址？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:55:03.110

只有 XMPP 服务器知道 IP 地址。如果你控制 XMPP 服务器，你可以编写一个扩展，以某种方式在消息中包含 IP 地址（或检查一个是否已经可用）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-06T15:40:59.307

[如何从 XMPP 绑定消息中获取我的公共 IP？](https://stackoverflow.com/questions/4461722/how-to-get-my-public-ip-from-xmpp-bind-message)

[http://xmpp.org/extensions/xep-0279.html](http://xmpp.org/extensions/xep-0279.html)

* * *

首先，客户端向其服务器发送一个 IQ-get 请求。

**示例 1.**客户端向服务器请求其 IP 地址

```
<iq from='romeo@montague.lit/orchard'
    id='ik2s7159'
    type='get'>
  <address xmlns='urn:xmpp:sic:1'/>
</iq> 
```

然后，服务器返回一个 IQ 结果，其中包含一个元素，该元素包含一个指定客户端外部 IP 地址的元素，以及一个可选的指定客户端外部端口的元素。

**示例 2.**服务器返回 IP 地址和端口

```
<iq id='ik2s7159'
    to='romeo@montague.lit/orchard'
    type='result'>
  <address xmlns='urn:xmpp:sic:1'>
    <ip>192.168.4.1</ip>
    <port>12345</port>
</iq> 
```

请注意，IP 地址可以是 IPv4 或 IPv6。

**示例 3.**服务器返回 IPv6 地址

```
<iq id='ik2s7159'
    to='romeo@montague.lit/orchard'
    type='result'>
  <address xmlns='urn:xmpp:sic:1'>
    <ip>2001:db8::9:1</ip>
    <port>12345</port>
  </address>
</iq> 
```

# tfs - 为什么所有文件都写保护以及如何签入？

> ID：14496098
> 
> 赞同：47
> 
> 时间：2013-01-24T07:35:59.610
> 
> 标签：tfs, visual-studio-2012

我目前使用 Team Foundation Server 和 Visual Studio。两天以来，我不断收到无法写入文件的错误消息（我尝试访问哪个文件似乎无关紧要）。我是团队中唯一有这些问题的人。

因此，当我尝试办理登机手续时，我得到：

![在此处输入图像描述](../Images/7828a98a2dddfc6106e0a858fb2cfa6d.png)

当我点击覆盖时，我可以覆盖它。但是当我尝试签入挂起的更改时，我看不到任何更改。如果我修改了一个源文件，我可以将它与最新版本进行比较，看看有没有变化。

我怎样才能解决这个问题？我只是想工作...

解决方法：如果我“签出以进行编辑...”文件（所以我得到了锁）我可以编辑它。但这不适用于解决方案文件，因为其他人检查了它。

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2013-01-24T09:46:37.633

1.  去`Solution Explorer`
2.  右键单击您的解决方案
3.  点击`Go online`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-24T08:33:31.693

您的解决方案似乎未连接到 Team Foundation Server。

我建议您删除工作区的映射，删除工作区的所有本地文件，然后从 Team Foundation Server 获取新版本（获取最新版本）。

要删除映射，您需要在 Visual Studio 中打开源代码管理资源管理器。导航到您正在处理的分支并打开上下文菜单（右键单击分支）。在您选择的菜单`Advanced->Remove mappings...`中。

在对话框中，您可以编辑或删除工作区的映射。（**注意：**当您选择删除映射时，将删除本地文件夹中由 TFS 控制的所有文件）

您还可以做的是检查您的工作区/解决方案的状态，如果它连接到 TFS。为此，您需要在 Visual Studio 中打开解决方案，然后在 Visual Studio`File->SourceControl->Advanced->Change Source Control...`的文件菜单中打开。

在对话框中，您将看到您的解决方案和项目是否连接到 TFS 以及它们连接到的服务器

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-01-16T09:08:33.963

你应该有相应的本地文件，就像在源代码管理中一样。转到本地文件，右键单击它并选择属性，

在打开的对话框中取消选中只读复选框，如果要将更改应用于所有子文件夹和文件，请单击问题的是。

希望这会有所帮助。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-02-25T10:28:52.660

将您的工作区位置设置为服务器时，您将面临同样的问题（在我的情况下，这以某种方式神奇地发生了）。

要再次将位置更改为本地，请打开源代码管理资源管理器并在上部找到标有“工作区”的下拉菜单。从此下拉列表中选择“工作区...”。这将打开“管理工作区”对话框，您可以在其中选择工作区并单击“编辑”按钮。在“编辑”对话框中单击“高级”按钮，您将看到位置下拉菜单，您可以在其中再次将其更改为本地。

MSDN 提供了有关本地和服务器工作空间的优缺点的[详细信息。](https://msdn.microsoft.com/en-us/library/bb892960.aspx)

# email - Sharepoint：使用 mailto 命令发送主题和正文

> ID：14496099
> 
> 赞同：0
> 
> 时间：2013-01-24T07:36:00.640
> 
> 标签：email, sharepoint, mailto, subject

我正在 SharePoint 中开发，我想准备一个 mailto 命令，但我想向电子邮件发送两个值，而不仅仅是一个。通常在 html 中该命令有效

```
<a href="mailto:email@here.com?subject=The%20Subject&body=The%20Body">Email</a> 
```

但在 SharePoint 中，我似乎只能在*email@here.com 之后发送第一部分？*. 根据我首先定位的内容，我有时会通过**@Body**字段或通过**@Title**。似乎由于某种原因“ **&** ”不被接受。我也试过**%26**代替 & 没有结果。

让（正文和主题）都通过邮件客户端的最佳方法是什么？

提前感谢您的宝贵时间，任何指导将不胜感激

# php - 使用亚马逊 MWS 向亚马逊卖家中心添加产品时如何添加价格和数量详情？

> ID：14496101
> 
> 赞同：6
> 
> 时间：2013-01-24T07:36:23.810
> 
> 标签：php, amazon-web-services, amazon, amazon-mws

我正在使用亚马逊 MWS Feeds API 将产品添加到亚马逊卖家中央商店。当我使用 Amazon's [Feeds API Section Reference](https://images-na.ssl-images-amazon.com/images/G/01/mwsportal/doc/en_US/bde/MWSFeedsApiReference._V388518764_.pdf)中的一个示例时，产品添加到商店时没有价格。我在下面添加了用于将产品添加到亚马逊卖家中央商店的代码。

```
<?xml version="1.0" encoding="iso-8859-1"?>
<AmazonEnvelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="amzn-envelope.xsd">
    <Header>
        <DocumentVersion>1.01</DocumentVersion>
        <MerchantIdentifier>M_EXAMPLE_123456</MerchantIdentifier>
    </Header>
  <MessageType>Product</MessageType>
  <PurgeAndReplace>false</PurgeAndReplace>
  <Message>
    <MessageID>1</MessageID>
    <OperationType>Update</OperationType>
    <Product>
        <SKU>TEST1234</SKU>
        <StandardProductID>
          <Type>ASIN</Type>
          <Value>B0EXAMPLEG</Value>
        </StandardProductID>
        <ProductTaxCode>A_GEN_NOTAX</ProductTaxCode>
        <DescriptionData>
          <Title>Example Product Title</Title>
          <Brand>Example Product Brand</Brand>
          <Description>This is an example product description.</Description>
          <MSRP currency="USD">25.19</MSRP>
          <Manufacturer>Example Product Manufacturer</Manufacturer>
          <ItemType>example-item-type</ItemType>
        </DescriptionData>
        <ProductData>
          <Health>
            <ProductType>
              <HealthMisc>
                <Ingredients>Example Ingredients</Ingredients>
                <Directions>Example Directions</Directions>
              </HealthMisc>
            </ProductType>
          </Health>
        </ProductData>
    </Product>
  </Message>
</AmazonEnvelope> 
```

有谁知道这个问题并告诉我如何解决它以及如何在上面的代码中添加数量？我使用了来自 Amazon Feed API 参考的这段代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-30T06:56:04.573

您需要为产品、价格、库存等提交不同的 xml 文件和提要类型。您不能将这些信息一起发送到 xml 文件中以上传产品。但是，如果您使用的是 excel 电子表格，则可以将所有这些信息发送到一个文件中。你可以参考这个来了解电子表格上传。[http://www.amazon.com/gp/help/customer/display.html?nodeId=200203300](http://www.amazon.com/gp/help/customer/display.html?nodeId=200203300)

# regex - Oracle (pl-sql) - 如何从文本中提取特定数据到对象类型变量中？

> ID：14496103
> 
> 赞同：0
> 
> 时间：2013-01-24T07:36:40.600
> 
> 标签：regex, oracle, plsql, procedure

我将文本作为 varchar2 变量提供，例如：

```
EXER/ATP-45/-//
MSGID/BIOCHEM3/-/-/-/-/-//
GEODATUM/UTM//
PAPAA/1KM/-//15KM/-// 
```

因此，每个行分隔符都是 //（但也可以有空格、新行等，它们应该被忽略）。'-' 表示空白字段，应忽略。我还定义了新的对象类型，定义如下：

```
TYPE t_promien      IS RECORD(
EXER                VARCHAR2,
MSGID               VARCHAR2(1000),
PAPAA               t_papaa
......
) 
```

我需要将相应行中的数据提取到具有 t_promien 类型的新变量中并设置其字段，例如 - EXER 应该有 'ATP-45' 值，MSGID 应该有 'BIOCHEM3'，PAPAA 应该有 ('1KM','15KM ') 值（t_papaa 也是我的自定义类型，它包含 2 个 varchar 字段）。

在 oracle PL-SQL 过程中执行此操作的最佳方法是什么？我需要将所需的数据提取到 out 参数中。我可以为此使用正则表达式吗（如何？）不幸的是，我完全是 oracle 的新手，所以...

你能给我一些建议吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:57:48.723

你可以`REGEXP_SUBSTR`用这样的东西来做到这一点：

```
SELECT REGEXP_SUBSTR('EXER/ATP-45/-//
MSGID/BIOCHEM3/-/-/-/-/-//
GEODATUM/UTM//
PAPAA/1KM/-//15KM/-//', 'EXER/[^/]+/', 1, 1) AS EXER
FROM DUAL; 
```

上面的重要一点是`'EXER/[^/]+/'`它正在寻找一个以文字开头的字符串，`EXER/`然后是一系列字符，这些字符不是`/`并且以 final 结尾`/`。

上面的查询将返回`EXER/ATP-45/`，但您可以使用标准字符串函数，如`SUBSTR`,`LTRIM`或`RTRIM`删除不需要的位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-27T12:07:00.503

在 PL/SQL 中使用 REGEXP_SUBSTR 的简单演示。

```
CREATE OR REPLACE PROCEDURE TEST_REGEXP_PROC(VAR_PI_MSG IN VARCHAR2,
                                             T_PO_PAPAA OUT T_PROMIEN) AS

  VAR_L_EXER  VARCHAR2(1000);
  VAR_L_MSGID VARCHAR2(1000);

BEGIN

  SELECT SUBSTR(REPLACE(REGEXP_SUBSTR(VAR_PI_MSG, 'EXER/[^/]+/', 1, 1),'/'),5)
    INTO VAR_L_EXER
    FROM DUAL;

  T_PO_PAPAA.EXER := VAR_L_EXER;

  SELECT SUBSTR(REPLACE(REGEXP_SUBSTR(VAR_PI_MSG, 'MSGID/[^/]+/', 1, 1),'/'),6)
    INTO VAR_L_MSGID
    FROM DUAL;

  T_PO_PAPAA.MSGID := VAR_L_MSGID;  

END; 
```

希望这会让你开始。

# javascript - 如何将图像添加到此画布球？

> ID：14496107
> 
> 赞同：2
> 
> 时间：2013-01-24T07:36:48.420
> 
> 标签：javascript, html, html5-canvas, dom-events

我正在尝试制作一个简单的游戏，但是如果我需要一个弹跳球的图像，那么我该怎么做呢？我正在这样做——

```
function draw() {
    ctx.clearRect(0, 0, 300, 300);
    if (ctx.getContext) {

            Snooker = new Image();
            Snooker.onload = loadingComplete;
            Snooker.src = "http://www.wpclipart.com/toys/balls/red_snooker_ball.png";
        }
    x += dx;
    y += dy;
    bounce();
} 
```

**和->**

```
function init() {
    var ctx = document.getElementById("canvas");

    return setInterval(draw, 10);
} 
```

现在画布是空白的。

**这是小提琴链接-** [http://jsfiddle.net/stackmanoz/QcLTw/1/](http://jsfiddle.net/stackmanoz/QcLTw/1/)

我想添加的图像而不是这个简单的球 - [http://www.wpclipart.com/toys/balls/red_snooker_ball.png](http://www.wpclipart.com/toys/balls/red_snooker_ball.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:49:36.430

这是使用图像而不是`arc`. 您可能希望使用 Javascript 加载 img `new Image()`，然后将源设置为您想要的图像。然后使用`drawImage`而不是`arc`.

[http://jsfiddle.net/QcLTw/7/](http://jsfiddle.net/QcLTw/7/)

# javascript - 从 WPF 中的 Web 浏览器调用 HTML 页面中存在的 JavaScript 函数

> ID：14496108
> 
> 赞同：3
> 
> 时间：2013-01-24T07:36:48.310
> 
> 标签：javascript, wpf, google-maps, wpf-controls, browser

我是 WPF 的新手。我在我的 wpf 应用程序中使用“WebBroswer”来呈现谷歌地图。我有一个 googlemap.htm 页面，它包含一个 initialize(lat, log) JavaScript 函数。现在我想用 lat 和 log 参数从我的 .xaml.cs 文件中调用这个函数。

谷歌地图.htm

```
 <script>
        function initialize(lat, log) {
            var mapProp = {
                center: new google.maps.LatLng(lat, log),
                zoom: 5,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T08:23:56.760

最简单的方法是使用[`WebBrowser.InvokeScript`](http://msdn.microsoft.com/en-us/library/vstudio/cc452443%28v=vs.100%29.aspx)方法：

```
 this.WebBrowser.InvokeScript("initialize", 1, 2); 
```

或者，您也可以像这样重写 JavaScript 代码：

```
 function initialize(lat, log) {
    var mapProp = {
       center: new google.maps.LatLng(lat, log),
       zoom: 5,
       mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
 }

 document.myfunc = initialize; // expose it to the document scope

 google.maps.event.addDomListener(window, 'load', initialize); 
```

所以现在您可以`myfunc`从 C# 代码访问：

```
private void WebBrowser_OnLoadCompleted(object sender, NavigationEventArgs e)
{
    dynamic document = WebBrowser.Document;

    document.myfunc(1, 2);
} 
```

您也可以`myfunc`不使用`dynamic`关键字调用：

```
private void WebBrowser_OnLoadCompleted(object sender, NavigationEventArgs e)
{    
   var document = this.WebBrowser.Document;

   document.GetType().InvokeMember("myfunc", BindingFlags.InvokeMethod, null, document, new object[] {1, 2});
} 
```

# jquery - fancybox 2.1.4 中“hideOnOverlayClick”和“enableEscapeButton”的替代属性

> ID：14496110
> 
> 赞同：1
> 
> 时间：2013-01-24T07:36:55.643
> 
> 标签：jquery, fancybox, fancybox-2

我正在从 fancybox 1.3.4 移动到 fancybox 2.1.4 ，我想要替代属性，`hideOnOverlayClick`并且`enableEscapeButton`在 fancybox 1.3.4 中可用，但我无法在 fancybox 2.1.4 中找到这两个属性

那么在 fancybox 2.1.4 中这两个属性是否有任何替代方案可用？

请帮我。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:06:34.933

使用`hideOnOverlayClick`：

```
$(".fancybox").fancybox({
  helpers   : { 
    overlay : { closeClick: false } 
  }
}); 
```

检查[https://stackoverflow.com/a/8404587/1055987](https://stackoverflow.com/a/8404587/1055987)了解更多信息。

使用`enableEscapeButton`：

```
$(".fancybox").fancybox({
  keys : {
    close : null // default value = [27]
  }
}); 
```

一共？

```
$(".fancybox").fancybox({
  helpers   : { 
    overlay : { closeClick: false } // same as "hideOnOverlayClick" : false, in v1.3.4
  },
  keys : {
    close : null // same as "enableEscapeButton" : false, in v1.3.4
  }
}); 
```

见**[JSFIDDLE](http://jsfiddle.net/F5z7s/)**

# android - Android：ListView 上的 AutoCompleteTextView 上边距

> ID：14496113
> 
> 赞同：4
> 
> 时间：2013-01-24T07:37:06.247
> 
> 标签：android, android-listview, autocompletetextview

AutoCompleteTextView 在弹出窗口中显示一个 ListView 用于自动完成。附件是详细说明问题的图像。就在第一项之前，几乎没有白边。此边距仅在列表顶部可见。此问题在运行 2.3 的设备上可见，而在 4.x 上此问题不可见。

![在此处输入图像描述](../Images/8a80d4ee43289e794461f1ed4aafce0f.png)

有人可以指出这种行为的原因以及解决方法。

包含 AutoCompleteTextview 的布局代码

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:paddingLeft="8dp"
          android:paddingRight="8dp"
          android:layout_height="wrap_content"
          android:layout_width="match_parent">

<AutoCompleteTextView
        android:id="@+id/menu_search_field"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@drawable/textfield_searchview_holo_light"
        android:clickable="true"
        android:hint="@string/search_hint"
        android:imeOptions="actionSearch"
        android:lines="1"
        android:singleLine="true"
        android:textColor="@color/header_text_color"
        android:textColorHint="@color/header_hint_text_color"
        android:textSize="14dip"/>

</LinearLayout> 
```

在 Listview 中定义项目的布局。

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:padding="10dp"
    android:textSize="16sp"
    android:textColor="@android:color/white"
    android:background="@android:color/black"
    android:ellipsize="end"
    >
</TextView> 
```

以及 textfield_searchview_holo_light 的可绘制对象

```
<?xml version="1.0" encoding="utf-8"?>
 <selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_focused="true"  android:drawable="@drawable/textfield_search_default_holo_dark" />
    <item android:drawable="@drawable/textfield_search_default_holo_dark" />
</selector> 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T09:39:32.400

尝试将 XML 属性添加到您的 AutoCompleteTextView：

```
android:popupBackground="color_what_you_want_to_background" 
```

在你的情况下，像

```
android:popupBackground="@android:color/black" 
```

希望对你有帮助

# xml - 我的 xml 文件有问题吗？

> ID：14496120
> 
> 赞同：0
> 
> 时间：2013-01-24T07:37:19.993
> 
> 标签：xml, xml-parsing

我创建的 xml 有问题吗？有什么办法可以优化或改进吗？

```
<?xml version="1.0" encoding="UTF-8"?>
    <countries>
        <country>
            <countryname>Philippines</countryname>
            <subsidiaries>
                <subsidiary>
                    <name>Sartorius Philippines Inc.</name>
                <address>Unit 20-A The World Centre Building, 330 Senator Gil Puyat Avenue Makati 1209 City Philippines, Philippines</address>
                <phone>+63.2.8640.929</phone>
                <fax>+63.28640.932</fax>
                <email>enquiry.philippines@sartorius.com</email>
                <website>http://www.sartorius-mechatronics.com.ph</website>
            </subsidiary>
        </subsidiaries>
    </country>
<country>
        <countryname>Denmark</countryname>
        <subsidiaries>
            <subsidiary>
                <name>Sartorius Stedim Nordic A|S</name>
                <address>stedim Hoerskaetten 6d 2630 Taastrup, Denmark</address>
                <phone>+45.7023.4400</phone>
                <fax>+45.4630.4030</fax>
                <email>ne.customersupport@sartorius.com</email>
                <website></website>
            </subsidiary>
            <subsidiary>
                <name>Sartorius Nordic A|S</name>
                <address>Hoerskaetten 6D 2630 Taastrup, Denmark</address>
                <phone>+45.7023.4400</phone>
                <fax>+45.4630.4030</fax>
                <email>ne.customersupport@sartorius.com</email>
                <website></website>
            </subsidiary>
        </subsidiaries>
    </country>
</countries> 
```

我只是创建 xml 的新手，我不知道我的 xml 是否好，我需要你的建议。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:54:45.560

[经http://validator.w3.org/](http://validator.w3.org/)验证，您的标记有效且格式正确

这里不是 100%，但我认为你写得`<website></website>`好像`<website />`你想写一样。。

# mysql - 如何从 Windows Azure 下载 MySQL 转储？

> ID：14496121
> 
> 赞同：0
> 
> 时间：2013-01-24T07:37:22.587
> 
> 标签：mysql, azure, dump

我从图库中使用 Drupal 创建 Web 角色。如何下载自动创建的数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:45:14.067

我还没有使用 Azure，但我认为您可以通过[安装 Adminer](http://www.adminer.org)（免费）轻松解决这个问题。

# r - 如何使用转义字符构建对 sed 的 system() 函数调用？

> ID：14496127
> 
> 赞同：0
> 
> 时间：2013-01-24T07:38:07.523
> 
> 标签：r, sed, awk, read.table

我不能让它工作。我想用出现和附加的空格替换 csv 文件的第一个字段中出现的所有两个字符`X`，并删除空格。例如`SA`并且`SA` 应该映射到`SAX`新文件中。以下是我尝试过的`sed`（通过早期问题的帮助）

```
system( paste("sed ","'" ,'  s/^GG/GGX/g; s/^GG\\s/GGX/g;  s/^GP/GPX/g;
 s/^GP\\s/GPX/g; s/^FG/FGX/g; s/^FG\\s/FGX/g; s/^SA/SAX/g; s/^SA\\s/SAX/g; 
 s/^TP/TPX/g; s/^TP\\s/TPX/g   ',"'",' ./data/concat_csv.2 >     
./data/concatenated_csv.2 ',sep='')) 
```

我尝试使用该`sQuote()`功能，但这仍然没有帮助。该文件存在由 read.csv 处理的问题，因为某些字段中存在基于某些行上的分隔符过多和不足的错误。

我可以尝试分段读取和编辑文件，但我不知道如何将其作为流式处理。

我真的只想使用`system()`调用编辑文件的第一个字段。该文件大约30GB。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:17:44.107

在这样的文件上尝试以下操作：

```
echo "fi,second,third" | awk '{len = split($0,array,","); str = ""; for (i = 1; i <= len; ++i) if (i == 1) { m = split(array[i],array2,""); if (m == 2) {str = array[i]"X";} else {str = array[i]};} else str = str","array[i]; print str;}' 
```

因此您可以使用以下内容从 R 调用它作为 paste() 调用的输入

```
cat fileNameToBeRead | awk '{len = split($0,array,","); str = ""; for (i = 1; i <= len; ++i) if (i == 1) { m = split(array[i],array2,""); if (m == 2) {str = array[i]"X";} else {str = array[i]};} else str = str","array[i]; print str;}' > newFile 
```

此代码不会处理您的空格要求。您能否提供示例来演示您正在查看的功能类型

# linux - 为什么我可以删除自己目录中的写保护文件（硬链接）？

> ID：14496128
> 
> 赞同：4
> 
> 时间：2013-01-24T07:38:08.463
> 
> 标签：linux, unix

该过程如下`root`是一个文件，其所有者是`root`：

```
~$ ln root another_file
~$ ls -l another_file
-rw-r--r-- 2 root root 0 Jan 24 15:48 another_file
~$ rm another_file
rm: remove write-protected regular empty file `another_file'? y
~$ ls -l another_file 
```

然而，这行不通。。

```
~$ ln root another_file
~$ chmod a+w another_file
chmod: changing permissions of `another_file': Operation not permitted 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T07:41:06.807

这是unix原则之一。完全没问题。原因很简单，就是您对目录本身具有写权限。这使您可以控制该目录中包含的所有条目。否则你会遇到很大的问题。请注意，此规则不仅限于硬链接，而且通常适用于每个条目。

# ios - 关于保留计数

> ID：14496132
> 
> 赞同：-6
> 
> 时间：2013-01-24T07:38:20.447
> 
> 标签：ios, objective-c, cocoa-touch

```
NSArray *arr = [[NSArray arrayWithObjects:@"ag", @"sdfg", @"dgh", nil] retain];
NSArray *newArr = [[arr mutableCopy] retain];
[arr release];
[newArr release];
newArr = [NSArray arrayWithObject:@"sdfdhs"]; 
```

每行之后将保留什么计数？请给我解释一下。感谢您...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:55:35.450

保留计数几乎没有用，有关原因的详细信息，请参阅[http://whentouseretaincounts.com](http://whentouseretaincounts.com)。

但是，我向您的代码添加了调用`retainCount`并运行了以下命令：

```
NSArray *arr = [[NSArray arrayWithObjects:@"ag", @"sdfg", @"dgh", nil] retain];
NSLog(@"%ld", [arr retainCount]);

NSArray *newArr = [[arr mutableCopy] retain];
NSLog(@"%ld", [newArr retainCount]);

[arr release];
NSLog(@"%ld", [arr retainCount]);

[newArr release];
NSLog(@"%ld", [newArr retainCount]);

newArr = [NSArray arrayWithObject:@"sdfdhs"];
NSLog(@"%ld", [newArr retainCount]); 
```

并得到以下结果：

```
2013-01-24 15:45:56.840 Untitled 2[96774:707] 2 
2013-01-24 15:45:56.842 Untitled 2[96774:707] 2 
2013-01-24 15:45:56.842 Untitled 2[96774:707] 1 
2013-01-24 15:45:56.843 Untitled 2[96774:707] 1 
2013-01-24 15:45:56.843 Untitled 2[96774:707] 1 
```

第一个结果`2`不是`1`因为 from 的返回值`arrayWithObjects`已经被自动释放但实际上还没有被释放，因为自动释放池还没有被刷新（这通常发生在事件循环中）。

第二个结果是`2`因为`mutableCopy`返回了一个保留对象，我们`retain`再次对其进行了 ing。

第三个结果是`1`因为我们发布`arr`了保留计数为`2`. 仍然没有刷新自动释放池。

第四个结果是`1`因为我们发布`newArr`了保留计数为`2`.

最终的结果是`1`因为我们泄露了变量的内容，`newArr`并为变量分配了一个新的自动释放数组。的保留计数`1`是尚未自动释放的计数。

但是，不应信任保留计数。学习内存管理规则（无论你是否使用 ARC）。

# php - 将数据从 mysql php 检索到 Android

> ID：14496133
> 
> 赞同：0
> 
> 时间：2013-01-24T07:38:25.680
> 
> 标签：php, android, mysql

这就是我们通常使用 httppost 或 get 从服务器检索原始数据的方式。这是来自谷歌搜索 [教程链接的教程之一](http://blog.sptechnolab.com/2011/02/10/android/android-connecting-to-mysql-using-php/)

1.  使用 HttpPost 获取数据，
2.  将响应转换为字符串解析
3.  JSON 数据，并根据需要使用它

但是，如果我想将数据和相关图像一起检索到我的**android 应用程序**中怎么办？合适的方法是什么？

这是我的**数据**示例。

```
id    image_name  caption
 1      01.jpg     Abcd 
```

和我的图像存储在**我的服务器**某处。

```
upload/background_image/01.jpg 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:44:12.307

您可以将它们作为 url 响应，当您需要图像内容时，发出另一个请求。

或者

您可以读取图像内容，对其进行 base64_encode 并以字符串形式响应

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:39:09.820

在服务器端转换 base64 字符串中的图像，并从应用程序中检索它。然后使用以下将base64字符串解码为位图

```
public static String encodeTobase64(Bitmap image)
{
    Bitmap immagex=image;
    ByteArrayOutputStream baos = new ByteArrayOutputStream();  
    immagex.compress(Bitmap.CompressFormat.JPEG, 100, baos);
    byte[] b = baos.toByteArray();
    String imageEncoded = Base64.encodeToString(b,Base64.DEFAULT);

   // Log.e("LOOK", imageEncoded);
    return imageEncoded;
}
public static Bitmap decodeBase64(String input) 
{
    byte[] decodedByte = Base64.decode(input, 0);
    return BitmapFactory.decodeByteArray(decodedByte, 0, decodedByte.length); 
} 
```

# java - Java break/label 语句可以在字节码混淆中充当“goto”吗？

> ID：14496134
> 
> 赞同：10
> 
> 时间：2013-01-24T07:38:34.613
> 
> 标签：java, bytecode

我试图在反编译后对一些 Java .class 文件进行去混淆处理，并且我遇到了一部分代码，它以我认为无法使用的方式使用标签。我不知道这是否是反编译器误解标签的错误，或者代码是否故意以这种方式混淆。换句话说，标签可以在Java字节码中这样使用吗？

请注意，标签出现在相关的 break 语句之后，而不是之前。它几乎似乎将它们用作 goto，而不是用于退出循环的标签。也根本没有循环，所以我对它们应该如何在这里使用感到有点困惑。

这里发生了什么？我在评论中标记了 3 个标签 (###)

```
if (i != 96)
  {
    if ((i ^ 0xFFFFFFFF) != -98)
    {
      if (i == 98)
        break label417;  // ### Here are the three breaks... The relevant labels appear later in the code
      if (i != 99)
        break label540;
      if (!bool)
        break label461;
    }
  }
  else
  {
    if (localwb == this.localWB5)
    {
      if (this.localWB4 != null) {
          this.localWB4.a((byte)-92, this);
        if (!bool);
      }
      else
      {
          this.localWB6.a((byte)-9, this);
      }
      return true;
    }
    if (localwb == this.localWB4)
    {
        this.localWB6.a((byte)-59, this);
      return true;
    }
    if (this.localWB3 != localwb)
      break label540;
      this.localWB2.a((byte)-38, this);
    return true;
  }
  if (this.localWB6 == localwb)
  {
    if (this.localWB4 != null) {
        this.localWB4.a((byte)-122, this);
      if (!bool);
    }
    else {
        this.localWB5.a((byte)-63, this);
    }
    return true;
  }
  if (this.localWB4 == localwb)
  {
    this.localWB5.a((byte)-22, this);
    return true;
  }
  if ((this.localWB2 == localwb) && (this.localWB3.M))
  {
    this.localWB3.a((byte)-84, this);
    return true;
    label417:  //  ### The first label.  Note how this next if-statement has inaccessible code... if the above if-statement is true, it would have already returned true;  However, the label appears after the return statement, almost as if the label is being used as a goto.
    if (localwb == this.localWB2)
    {
        this.localWB6.a((byte)-86, this);
      return true;
    }
    if (this.localWB3 == localwb)
    {
      this.localWB5.a((byte)-31, this);
      return true;
      label461:  //  ###  The second label
      if ((this.localWB6 == localwb) || (this.localWB4 == localwb))
      {
          this.localWB2.a((byte)-60, this);
        return true;
      }
      if (localwb == this.localWB5)
      {
        if (this.localWB3.M)
        {
          this.localWB3.a((byte)-44, this);
          if (!bool);
        }
        else {
            this.localWB2.a((byte)-9, this);
        }
        return true;
      }
    }
  }
  label540:  //  ###  The final label. 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T08:04:12.393

[`goto`字节码指令](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.goto)（是的，它实际上称为“goto”）用于实现`break`和其他构造。

`goto`本身的规范*仅*将目标限制在与指令相同的方法内`goto`。

[4.10`class`](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10)中定义了许多其他约束。[文件](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10)[验证](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10)，特别是在[检查代码](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10.1.3.3)中，它描述了如何验证方法的实际*字节码*。

我*怀疑*你不能产生对局部变量和操作数堆栈的不一致解释`goto`，例如通过要求目标指令与源指令兼容，但我实际的规范是用 Prolog 编写的，如果任何人都得到了确保这一点的相关点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T07:51:07.830

[`break <label>`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.15)可用于退出代码块，如下所示：

```
public static boolean is_answer(int arg) {
    boolean ret = false;
    label: {
        if (arg != 42)
            break label;
        ret = true;
    }
    return ret;
} 
```

但是，由于以下 JLS 要求，您显示的反编译代码不是有效的 Java：

> `break`语句将控制权转移到**封闭语句之外**。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-01T18:31:51.913

问题源于 Java 和字节码之间的不匹配。Java 施加了许多字节码级别不存在的限制。如果您所做的只是反编译一个正常编译的 Java 类文件，那么这将不是问题。但是，混淆器通常会将方法的控制流重新排列为不再对应于有效 Java 的等效版本。如您所见，一个幼稚的反编译器会感到困惑并只会发出无效的 Java。

如果你对反编译混淆的类文件感兴趣，可以试试我写的开源[Krakatau Decompiler 。](https://github.com/Storyyeller/Krakatau)尝试将混淆的字节码转换回有效的 Java 要聪明得多，因此它通常可以反编译其他反编译器无法做到的类。但是，即使它是有效的，生成的代码也可能不会很漂亮，反编译器仍然可能会失败。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T07:50:51.127

每当我对 Java 语言及其编写方式有疑问时，我都会参考方便的 Java 语言规范，这是非常详尽的文档。

从[14.15 开始。`break`声明](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.15)：[_](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.15)

> break 语句必须引用直接封闭的方法、构造函数或初始化程序中的标签。没有非局部跳转。如果在直接封闭的方法、构造函数或初始化程序中没有以标识符作为其标签的标签语句包含 break 语句，则会发生编译时错误。

我在那里看不到任何标有 break label 的东西；必须在休息之前或“围绕”休息。

# python - 在保存模型之前使用 Autofield 生成 URL

> ID：14496139
> 
> 赞同：0
> 
> 时间：2013-01-24T07:38:43.023
> 
> 标签：python, django, image, url

我希望我的图像 url 是 /img/1 和 /img/2，我认为使用分配给每个模型的自动递增 id 将是完美的，这样每个 url 都会有所不同。问题是模型的实例在保存之前没有 id。这是来自 models.py 的以下代码中的一个问题：

```
def update_filename(instance, filename):
    a = type(instance.id)
    if a is not int:
        a = 1
    else: 
        a = instance.id
    path = "img" + "/" + str(a) + ".jpg"
    return path

class User_Image(models.Model):
    image = models.ImageField(upload_to=update_filename) 
```

对于如何解决这个问题，有任何的建议吗？当 django 保存图片时，每个实例的 id 都是 None，所以每个图像都以“None”或“None_1”等形式保存到我的 img 目录中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:09:15.390

你不能。从[文档](https://docs.djangoproject.com/en/dev/ref/models/fields/#django.db.models.FileField.upload_to)中：

> 在大多数情况下，这个对象还没有保存到数据库中，所以如果它使用默认的 AutoField，它可能还没有主键字段的值。

我使用这样的功能：

```
import uuid
def update_filename(instance, filename):
    """ Rename picture """

    extension = os.path.splitext(filename)[1]
    return 'img/%s%s' % (uuid.uuid4(), extension) 
```

# zurb-foundation - 如何更改面包屑分隔符？

> ID：14496144
> 
> 赞同：2
> 
> 时间：2013-01-24T07:38:57.750
> 
> 标签：zurb-foundation

是否可以将面包屑分隔符更改`/`为其他内容？例如：`>`

还是我应该忽略 zurb 并以传统方式进行？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T11:25:42.030

`/`分隔符是通过 css in 定义的[`foundation/scss/foundation/components/modules/_ui.scss`](https://github.com/zurb/foundation/blob/27cc595496233b42bf0b8a212811d32eb081aa94/scss/foundation/components/modules/_ui.scss)：

```
ul.breadcrumbs { 
    li:before { content: "/"; color: #aaa; }
    li:first-child:before { content: " "; }
} 
```

要更改它，您需要在`app.css`文件中覆盖此 CSS：

```
ul.breadcrumbs li:before { content: ">"; } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-02-11T20:16:36.180

将以下内容添加到您的 CSS 中：

```
.breadcrumbs li:not(:last-child)::after
{
     content:">";
} 
```

# linux - copy_to_user 在内核模块中不起作用

> ID：14496146
> 
> 赞同：2
> 
> 时间：2013-01-24T07:39:01.700
> 
> 标签：linux, linux-kernel, linux-device-driver

我试图在内核模块读取函数中使用 copy_to_user，但无法将数据从内核复制到用户缓冲区。如果我做错了什么，请谁能告诉我。我的内核版本是 2.6.35。我给出了内核模块的一部分以及用于测试它的应用程序。现在我的重点是为什么这个 copy_to_user 不起作用。任何帮助都会很棒。

```
///////////////////////////////////kernel module//////////////////////////////////////

#define BUF_LEN 80

static char msg[BUF_LEN];       
static char *msg_Ptr;

static int device_open(struct inode *inode, struct file *file)
{
static int counter = 0;

if (Device_Open)
    return -EBUSY;

Device_Open++;
printk(KERN_ALERT "In open device call\n");

sprintf(msg, "I already told you %d times Hello world!\n", counter++);
msg_Ptr = msg;
try_module_get(THIS_MODULE);

return SUCCESS;
}

static ssize_t device_read(struct file *filp,    
           char __user *buffer,    
           size_t length,    
           loff_t * offset)
{
/*
 * Number of bytes actually written to the buffer 
 */
int bytes_read = 0;

/*
 * If we are at the end of the message, 
 * return 0 signifying end of file 
 */
if (*msg_Ptr == 0)
    return 0;

/* 
 * Actually put the data into the buffer 
 */

else {
    bytes_read=copy_to_user(buffer, msg, length);
    if (bytes_read==-1);
        {
         printk(KERN_INFO "Error in else while copying the data \n");
        }

    }

   return bytes_read;
}

////////////////////////////////////////application////////////////////////
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h> 
#include <stdlib.h>

#define  BUF_SIZE    40

int main()
{
ssize_t num_bytes;
int fd, n=0;
char buf[BUF_SIZE];

fd=open("/dev/chardev", O_RDWR);
if(fd== -1){perror("Error while opening device");exit(1);}

printf("fd=%d\n",fd);
num_bytes=read(fd, buf, BUF_SIZE);
if(num_bytes==-1){perror("Error while reading"); exit(2);}

printf("The value fetched is %lu bytes\n", num_bytes);

while(n<=num_bytes)
    {
        printf("%c",buf[n]);
        n++;
    }

close(fd);
return 0;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:07:49.033

您编写的代码片段中存在一些问题。首先，调用它不是一件好事。`try_module_get(THIS_MODULE);`
这条语句试图增加模块的引用计数......在模块本身！相反，您应该在 init 方法**中将 file_ops**结构的`owner`字段设置为。这样，引用处理将发生在模块代码*之外*的 VFS 层中。你可以看看[Linux Kernel Modules: When to use try_module_get / module_put](https://stackoverflow.com/questions/1741415/linux-kernel-modules-when-to-use-try-module-get-module-put)。 然后，正如 Vineet 所说，您应该从**file_ops**字段中检索指针。 **`THIS_MODULE` ***`private_data`*****

 *****最后但并非最不重要的一点是，这就是为什么似乎发生错误的原因......实际上......它没有：`copy_to_user`如果它已成功将所有所需字节复制到目标内存区域，则调用返回 0 并且严格为正值说明在发生错误时未复制的字节*数*。也就是说，当您运行时：

```
/* Kernel part */
bytes_read=copy_to_user(buffer, msg, length);
/* 
 * Wrong error checking :
 * In the below statement, "-1" is viewed as an unsigned long.
 * With a simple equality test, this will not bother you
 * But this is dangerous with other comparisons like "<" or ">"
 * (unsigned long)(-1) is at least 2^32 - 1 so ...
 */
if (-1 == bytes_read) {
    /* etc. */
}
return bytes_read;

/* App part */
num_bytes=read(fd, buf, BUF_SIZE);
/* etc.. */
while(n<=num_bytes) {
    printf("%c",buf[n]);
    n++;
} 
```

您应该只在成功复制时获得一个角色，在您的情况下只有一个“我”。此外，您使用 msg_Ptr 指针作为保护措施，但您从不更新它。这可能会导致对 的错误调用`copy_to_user`。
`copy_to_user`调用 来检查用户空间指针`access_ok`，但如果内核空间指针和给定长度不正确，这可能会以内核错误/恐慌结束。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:43:43.237

我认为您应该在打开的情况下更新 file->private_data，然后您必须在您的结构中获取它。因为我猜味精缓冲区（内核缓冲区）没有得到正确的参考。*****

# cuda - sdk 设备查询示例和占用计算器之间的不同声明？

> ID：14496147
> 
> 赞同：1
> 
> 时间：2013-01-24T07:39:02.160
> 
> 标签：cuda

目前，我尝试为我的内核获得更好的占用率，并使用占用率计算器和从 sdk 示例设备查询中获得的设备信息。我想知道块和流式多处理器（sm）的声明略有不同。在 sdk 示例中，它被称为

> 每个块的共享内存总量

和

> 每个块可用的寄存器总数

但在占用计算器中，这些信息是按 sm 计算的，这对我来说更有意义。

这只是 sdk 示例中的错误声明吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:24:09.327

我同意你的看法。

共享内存和寄存器是硬件资源，而块是软件编程模型的概念。

另一方面，我认为我们可以说一个块可以使用的最大共享内存量等于 GPU 设备的每个多处理器的共享内存总量。

官方文档 CUDA 编程指南也使用术语“每个多处理器共享内存”，如[计算能力](http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#compute-capabilities)部分所示；

# html - 如何更改单选按钮之间的填充/边距？

> ID：14496150
> 
> 赞同：0
> 
> 时间：2013-01-24T07:39:09.713
> 
> 标签：html, forms, css, radio-button

谁能告诉我如何让单选按钮看起来更接近？（他们目前都彼此相距很远）

请检查[此链接](http://www.immigration1services.com/staging/assessment/family-sponsorship-assessment/)，

我尝试如下使用“padding-left”，但这并没有解决我的问题。谁能告诉我到底出了什么问题？

我试过了：

```
.gform_wrapper .left_label ul.gfield_checkbox,
.gform_wrapper .right_label ul.gfield_checkbox,
.gform_wrapper .left_label ul.gfield_radio,
.gform_wrapper .right_label ul.gfield_radio {
  margin-left: 32%;
  overflow: hidden;
  padding-left: 20px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:46:12.117

您需要更改“男性”、“女性”等标签的宽度。我会为这些标签添加一个类，这样它们就不会从其他规则中获得 200 像素的宽度。理论上，

```
<li class="gchoice_6_0">
   <input name="input_6" type="radio" value="Male" id="choice_6_0" tabindex="4" onclick="gf_apply_rules(3,[0]);">
   <label for="choice_6_0" class="radioLabel">Male</label>
</li> 
```

然后将以下规则添加到您的 css

```
#main-content .gform_wrapper label.radioLabel {
    width:30px; //Adjust this width for the result you want. 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:48:21.397

假设您将有 2 行，每行有 2 个单选按钮，就像您提供的链接一样。

**第一行**

```
<div class="radioDiv">
   <input type="radio" name="group1" class="leftRadio" value="male"/>
   <input type="radio" name="group1" class="rightRadio" value="female"/>
</div> 
```

**第二行**

```
<div class="radioDiv">
   <input type="radio" name="group2" class="leftRadio" value="single"/>
   <input type="radio" name="group2" class="rightRadio" value="married"/>
</div> 
```

**CSS**

```
.radioDiv
{
   width:200px;
}
.leftRadio
{
   float:left;
}
.rightRadio
{
   float:right;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:50:44.543

用这个：

```
<label for="choice_6_0" style="width: 50px;">Male</label> 
```

并为所有标签（如男性等）添加宽度

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T07:51:43.983

您的各种 CSS 文件中有几个相互矛盾的规则。
例如，[这](http://www.immigration1services.com/staging/wp-content/themes/celtabusiness/presentation/styles.css)说

```
.wpcf7-form label, #main-content .gform_wrapper label {
    float: left;
    width: 70px;
} 
```

虽然[这](http://www.immigration1services.com/staging/wp-content/themes/celtabusiness/style.css)说

```
#main-content .gform_wrapper label { width: 200px; } 
```

后者恰好覆盖了前者，但这只是因为您稍后包含了第二个文件。

因此，您可以删除第二行中的行，或者更改包含 CSS 文件的顺序。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T07:43:23.143

```
#main-content .gform_wrapper label {
  width: 200px;
} 
```

此规则适用于您的单选按钮标签，这就是为什么您在项目之间有如此大的空间。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-24T07:43:53.510

试试这个，这可能会减少单选按钮之间的空间。

.ginput_container ul li 标签{width:120px;}

# javascript - 在 Play 2.0 中使用来自缩小的 .js (Google Closure) 的函数

> ID：14496159
> 
> 赞同：0
> 
> 时间：2013-01-24T07:39:36.783
> 
> 标签：javascript, playframework-2.0, google-closure-compiler

我想使用 Google Closure Compiler 来最小化 javascript，但在最小化版本中它会重命名函数名称。这是预期的行为吗？在那种情况下如何使用它？

lib.js

```
function myfun() {
   $('#test').hide();
} 
```

lib.min.js

```
function myfun$$module$main(){$("#test").hide()} 
```

看法

```
<a href="#" onclick="myfun()">no longer works</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:38:45.893

您应该将事件处理程序分配给 JavaScript 中的 HTML 元素，以便在编译过程中 Google Closure 也可以重命名这些函数。您还可以使用不重命名函数或表达式的更简单版本的优化 ( [WHITESPACE_ONLY )。](https://developers.google.com/closure/compiler/docs/compilation_levels)

为 HTML 元素分配一个 ID：`<a href="#" id="link">does this work?</a>`。

在您的 JavaScript 中，分配事件：

```
var link = document.getElementById("link");
var myFun = function () {
    alert("hello world");
};
link.onclick = myFun; 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T09:27:16.503

好的，你可以在那里做一些事情，你可以去：

1) window['functionName'] = functionName 将保留它或

2）在闭包库中链接并使用 goog.exportSymbol

# html - Kohana 或 Mustache 不能渲染新线 ？

> ID：14496160
> 
> 赞同：0
> 
> 时间：2013-01-24T07:39:40.073
> 
> 标签：html, kohana, newline, mustache

我使用 Kohana 3 + Kostache（用于 Kohana 插件的 Mustache）。在某些时候，我创建了字符串：

```
$addStr .= "<br/>";
$addStr .= $sumrow['name'].": ".$sumrow['counter']; 
```

然后将字符串放入表中。然后该表由 Mustache 呈现。不幸的是，`<br/>`标签没有正确呈现，而是呈现为常规文本（`&lt;`和`&gt;`）。

有没有办法强制 Mustache 或 Kohana 不逃避标签而只是渲染它们？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T09:17:06.573

我终于明白了。我只需要放入`{{{addStr}}}`我的 .mustache 模板文件中。

# android - 获取错误的宽度、高度信息

> ID：14496161
> 
> 赞同：0
> 
> 时间：2013-01-24T07:39:43.753
> 
> 标签：android, android-framelayout, layoutparams

我已经使用`setLayoutParams(params)`mainActivity 类设置了 ViewB 的框架。当我在 ViewB 类中检查 ViewB 的框架时，我得到的宽度、高度不正确。（得到宽度= -2，高度= -1）

有人知道原因吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:00:48.537

如果您在 onCreate Methode 中使用 getheight()/getwidth() 函数，那么现在询问尺寸还为时过早，因为那时它们还没有设置或换句话说没有创建。

如果您的 xml 中的 fagemnt 的高度是 wrap_contnent 或 match_parent，那么您仍然不会得到正确的高度、宽度，因为尺寸已经在 xml 中设置并且它不是固定的数值。我认为 -1 是 match_parent。

# android - Android相机按钮无法拍照

> ID：14496162
> 
> 赞同：1
> 
> 时间：2013-01-24T07:39:48.903
> 
> 标签：android, camera, android-camera

我有一个相机项目，它可以拍照，但是当我快速按两次拍照按钮时，它崩溃了。

LogCat 中的第 71 行是**camera.takePicture(myShutterCallback, myPictureCallback_RAW, myPictureCallback_JPG);**

这是日志文件[https://dl.dropbox.com/u/15065300/LogCat2.png](https://dl.dropbox.com/u/15065300/LogCat2.png)

这是代码

```
public class AndroidCamera extends Activity implements SurfaceHolder.Callback{

 Camera camera;
 SurfaceView surfaceView;
 SurfaceHolder surfaceHolder;
 boolean previewing = false;
 LayoutInflater controlInflater = null;

 Button buttonTakePicture;

 final int RESULT_SAVEIMAGE = 0;

   /** Called when the activity is first created. */

@Override
   public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.main);

       getWindow().setFormat(PixelFormat.UNKNOWN);
       surfaceView = (SurfaceView)findViewById(R.id.camerapreview);
       surfaceHolder = surfaceView.getHolder();
       surfaceHolder.addCallback(this);

       controlInflater = LayoutInflater.from(getBaseContext());
       View viewControl = controlInflater.inflate(R.layout.control, null);
       LayoutParams layoutParamsControl
        = new LayoutParams(LayoutParams.FILL_PARENT,
        LayoutParams.FILL_PARENT);
       this.addContentView(viewControl, layoutParamsControl);

       buttonTakePicture = (Button)findViewById(R.id.takepicture);
       buttonTakePicture.setOnClickListener(new Button.OnClickListener(){

   @Override
   public void onClick(View arg0) {    
    // TODO Auto-generated method stub
    camera.takePicture(myShutterCallback, myPictureCallback_RAW, myPictureCallback_JPG);
   }});

       LinearLayout layoutBackground = (LinearLayout)findViewById(R.id.background);
       layoutBackground.setOnClickListener(new LinearLayout.OnClickListener(){

   @Override
   public void onClick(View arg0) {
    // TODO Auto-generated method stub

    buttonTakePicture.setEnabled(false);
    camera.autoFocus(myAutoFocusCallback);
   }});
   }

   AutoFocusCallback myAutoFocusCallback = new AutoFocusCallback(){

  @Override
  public void onAutoFocus(boolean arg0, Camera arg1) {
   // TODO Auto-generated method stub
   buttonTakePicture.setEnabled(true);
  }};

   ShutterCallback myShutterCallback = new ShutterCallback(){

  @Override
  public void onShutter() {
   // TODO Auto-generated method stub

  }};

 PictureCallback myPictureCallback_RAW = new PictureCallback(){

  @Override
  public void onPictureTaken(byte[] arg0, Camera arg1) {
   // TODO Auto-generated method stub

  }};

 PictureCallback myPictureCallback_JPG = new PictureCallback(){

  @Override
  public void onPictureTaken(byte[] arg0, Camera arg1) {
   // TODO Auto-generated method stub
   /*Bitmap bitmapPicture
    = BitmapFactory.decodeByteArray(arg0, 0, arg0.length); */

   Uri uriTarget = getContentResolver().insert(Media.EXTERNAL_CONTENT_URI, new ContentValues());

   OutputStream imageFileOS;
   try {
    imageFileOS = getContentResolver().openOutputStream(uriTarget);
    imageFileOS.write(arg0);
    imageFileOS.flush();
    imageFileOS.close();

    Toast.makeText(AndroidCamera.this,
      "Image saved",
      Toast.LENGTH_SHORT).show();

   } catch (FileNotFoundException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
   } catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
   }

   camera.startPreview();
  }};

 @Override
 public void surfaceChanged(SurfaceHolder holder, int format, int width,
   int height) {
  // TODO Auto-generated method stub
  if(previewing){
   camera.stopPreview();
   previewing = false;
  }

  if (camera != null){
   try {
    camera.setPreviewDisplay(surfaceHolder);  
    camera.startPreview();
    previewing = true;
   } catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
   }
  }
 }

 @Override
 public void surfaceCreated(SurfaceHolder holder) {
    camera = Camera.open();

 }

 @Override
 public void surfaceDestroyed(SurfaceHolder holder) {
  // TODO Auto-generated method stub
  camera.stopPreview();
  camera.release();
  camera = null;
  previewing = false;
 }
} 
```

在清单中：

```
 <uses-permission android:name="android.permission.CAMERA" />
    <uses-feature android:name="android.hardware.camera" />
    <uses-feature android:name="android.hardware.camera.autofocus" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:47:59.570

愿我实现的这些代码可以帮助你......！！！！

[https://stackoverflow.com/a/14495691/1626848](https://stackoverflow.com/a/14495691/1626848)

如果有什么合适的，你想在评论中添加......！！！！

# android - 我将如何在自定义列表视图中使用搜索

> ID：14496168
> 
> 赞同：1
> 
> 时间：2013-01-24T07:40:07.547
> 
> 标签：android, list, search

我在自定义搜索上花费了太多时间。
谁能告诉我，我将如何在我的代码中实现它。请帮助我已经在列表中获取数据，我有编辑框，但我不知道，它将如何在 Using Filterable 类中实现或我将如何 `addTextChangedListener(){}` 使用这段代码。

```
 editTxt.addTextChangedListener(new TextWatcher() {

     @Override
     public void onTextChanged(CharSequence s, int start, int before, int count) {

     }

     @Override
     public void beforeTextChanged(CharSequence s, int start, int count,
             int after) {

     }

     @Override
     public void afterTextChanged(Editable s) {
     }
 }); 
```

我的代码是 **MainSearch.java**，我会在哪里得到列表。

在这个调用中，我将在其中实现搜索代码.. 我有一点想法，如果我将所有列表项保存在 arrayList 中，并将所有这些值与 editText 值进行比较。它可能会提供解决方案。不确定。

```
public class MainSEarch extends Activity {

    // Progress Dialog
        private ProgressDialog pDialog;
    ListView list;
    LazyAdapter adapter;

    // Connection detector
        ConnectionDetector cd;

        // Alert dialog manager
        AlertDialogManager alert = new AlertDialogManager();

        ArrayList<HashMap<String, String>> contactList;
    // Search EditText
   EditText inputSearch;
   int textlength = 0;

    // url to make request
    String url = "URl NOT HERE But like  as  http://api.androidhive.info/contacts/"; 

    // JSON Node names
        static final String TAG_CONTACTS = "userinfo";
         static final String TAG_ID = "id";
          static final String TAG_NAME = "name";
          static final String TAG_EMAIL = "email";
          static final String TAG_PHONE = "cb_phonenumber";

    // contacts JSONArray
    JSONArray userinfo = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.list_search);
        inputSearch = (EditText) findViewById(R.id.editText1); // Search Box

        cd = new ConnectionDetector(getApplicationContext());

       // Check for internet connection
       if (!cd.isConnectingToInternet()) {
           // Internet Connection is not present
           alert.showAlertDialog(MainSEarch.this, "Internet Connection Error",
                   "Please connect to working Internet connection", false);
           // stop executing code by return
           return;
       }

        // Hashmap for ListView
         contactList = new ArrayList<HashMap<String, String>>();

        // Loading Agents list JSON in Background Thread
                new LoadAgentList().execute();

                inputSearch.addTextChangedListener(new TextWatcher() {

                    @Override
                    public void onTextChanged(CharSequence s, int start, int before, int count) {
            //what should I do in this method.plz provide some solutions.           

                        }

                    @Override
                    public void beforeTextChanged(CharSequence s, int start, int count,
                            int after) {

                    }

                    @Override
                    public void afterTextChanged(Editable s) {
                    }
                });     

    }

    /**
     * Background Async Task to Load all Albums by making http request
     * */
    class LoadAgentList extends AsyncTask<String, String, String> 
    {

    /** *
         * Before starting background thread Show Progress Dialog
         * */
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(MainSEarch.this);
            pDialog.setMessage("Agents List ...");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(false);
            pDialog.show();
        }

        @Override
        protected String doInBackground(String... params) {
            // TODO Auto-generated method stub

            // Creating JSON Parser instance
                    JSONParser jParser = new JSONParser();

                    // getting JSON string from URL
                    JSONObject json = jParser.getJSONFromUrl(url);

                    try{

                        // Getting Array of Contacts
                        userinfo = json.getJSONArray(TAG_CONTACTS);

                        // looping through All Contacts
                        for(int i = 0; i < userinfo.length(); i++){
                            JSONObject c = userinfo.getJSONObject(i);

                            // Storing each json item in variable
                            String id = c.getString(TAG_ID);
                            String name = c.getString(TAG_NAME);
                            String email = c.getString(TAG_EMAIL);
                            String mobile = c.getString(TAG_PHONE);

                            // creating new HashMap
                            HashMap<String, String> map = new HashMap<String, String>();

                            // adding each child node to HashMap key => value
                            map.put(TAG_ID, id);
                            map.put(TAG_NAME, name);
                            map.put(TAG_EMAIL, email);
                            map.put(TAG_PHONE, mobile);

                            // adding HashList to ArrayList
                            contactList.add(map);
                        }
                    }
                        catch (JSONException e) {
                            e.printStackTrace();
                        }

            return null;
        }

            @Override
            protected void onPostExecute(String file_url) {
                // dismiss the dialog after getting all albums
                pDialog.dismiss();
                // updating UI from Background Thread
                runOnUiThread(new Runnable() {
                    public void run() {

                        list=(ListView)findViewById(R.id.mylist);

                        // Getting adapter by passing xml data ArrayList
                        adapter=new LazyAdapter(MainSEarch.this,contactList);      
                        list.setAdapter(adapter);
                    }
                });

            }

    } 
```

我的第二类是**LazyAdapter**：它将显示 getView() 方法如何使视图膨胀以及惰性列表将如何工作代码是我在这个类中所做的

```
public class LazyAdapter extends BaseAdapter {

    private Activity activity;
    private ArrayList<HashMap<String, String>> data;
    private static LayoutInflater inflater=null;

    public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    }

    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return data.size();
    }

    @Override
    public Object getItem(int arg0) {
        // TODO Auto-generated method stub
        return null;
    }

    @Override
    public long getItemId(int arg0) {
        // TODO Auto-generated method stub
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
         View vi=convertView;
            if(convertView==null)
                vi = inflater.inflate(R.layout.list_item, null);

            TextView name = (TextView)vi.findViewById(R.id.name); // name
            TextView email = (TextView)vi.findViewById(R.id.email); //  email
            TextView phone = (TextView)vi.findViewById(R.id.mobile); // phone

            HashMap<String, String> song = new HashMap<String, String>();
            song = data.get(position);

            // Setting all values in listview
            name.setText(song.get(MainSEarch.TAG_NAME));
            email.setText(song.get(MainSEarch.TAG_EMAIL));
            phone.setText(song.get(MainSEarch.TAG_PHONE));

        return vi;
    }

} 
```

我的代码中应该有什么变化，我的搜索将被执行。Plz我是Android的初学者。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:52:59.807

看看这个例子。希望你会有一个想法。使用文本观察器。[http://abdennour-insat.blogspot.in/2012/05/listview-textwatcher-autocomplete.html](http://abdennour-insat.blogspot.in/2012/05/listview-textwatcher-autocomplete.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:47:07.870

我使用以下代码从我的自定义列表视图中过滤数据。看看它，看看你是否可以在你的情况下实现它，

```
adapter = new CustomListViewAdapter(this,R.layout.list_row, rowItems);
listView.setAdapter(adapter);
listView.setTextFilterEnabled(true); 
```

对于基于编辑文本的过滤搜索，我使用过，

```
editText.addTextChangedListener(new TextWatcher() {

            public void onTextChanged(CharSequence arg0, int arg1, int arg2,
                    int arg3) {

            }

            public void beforeTextChanged(CharSequence arg0, int arg1,
                    int arg2, int arg3) {

            }

            public void afterTextChanged(Editable arg0) {
                ActivityName.this.adapter.getFilter().filter(arg0);

            }
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:54:34.777

您必须在自定义适配器中实现自己的过滤器，这里有一个示例（非常简单）：

```
public Filter getFilter() {
        Log.d("Filter", "BeginFilter");
        return new Filter() {
                @SuppressWarnings("unchecked")
                @Override
                protected void publishResults(CharSequence arg0, FilterResults arg1) {
                    Log.d("Filter", "publishResults");
                    mGuides = (ArrayList<Guide>)arg1.values;
                    notifyDataSetChanged();
                }

                @Override
                protected FilterResults performFiltering(CharSequence constraint) {
                    Log.d("Filter","Perform filtering");

                    constraint = constraint.toString().toLowerCase();

                    ArrayList<Guide> filteredGuides = new ArrayList<Guide>();

                    for (int i = 0; i < mGuides.size(); i++)
                    {
                        Guide newGuide = mGuides.get(i);
                        if (newGuide.getName().toLowerCase().contains(constraint))
                            filteredGuides.add(newGuide);
                    }

                    FilterResults filterResults = new FilterResults();
                    filterResults.count = filteredGuides.size();
                    filterResults.values = filteredGuides;
                    return filterResults;
                }
            };
    } 
```

你从活动中这样称呼它：

```
public void onTextChanged(CharSequence arg0, int arg1, int arg2, int arg3) {
                adapter.getFilter().filter(arg0);
            } 
```

# javascript - 如何使用Javascript在文本文件中写入值

> ID：14496169
> 
> 赞同：-2
> 
> 时间：2013-01-24T07:40:12.447
> 
> 标签：javascript, dom-events

我正在使用 JavaScript 处理每个页面的多个视图。

```
<SCRIPT LANGUAGE="JavaScript">
<!--
       var cookiec = document.cookie
       if (cookiec != "") {
               var eqchr = 0;
               for (var cloop = 1; cloop <= cookiec.length; cloop++) {
                       if (cookiec.charAt(cloop) == "=") {
                               eqchr=(++cloop);
                       }
               }
               var cookiess = 0;
               clength=cookiec.length;
               cookies="";
               for (cloop = eqchr; cloop < clength; cloop++) {
                       if (cookiec==";") {
                               cloop=clength;
                       }
                       else {
                               cookies = cookies + cookiec.charAt(cloop);                        
                       }
               }
               cookiess = parseInt(cookies);
               document.write("[" + cookiess + "]");
               cookiess++;
               cookies = cookiess;
               var one_week = 7 * 24 * 60 * 60 * 1000;
               var expDate = new Date();
               expDate.setTime(expDate.getTime() + one_week);
               document.cookie = "Counter=" + escape(cookies) + "; expires=" + expDate.toGMTString();
       }        
       else {
               var one_week = 7 * 24 * 60 * 60 * 1000;
               var expDate = new Date();
               expDate.setTime(expDate.getTime() + one_week);
                document.cookie = "Counter=2; expires=" + expDate.toGMTString();
               document.write("[1]");
       }

// -->
</SCRIPT> 
```

我正在使用上面的 JavaScript 来计算每页的浏览量，并且我想将数据写入文本文件中。

你有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:52:42.033

如果您的 JavaScript 在浏览器环境中运行，我强烈建议您使用[HTML5 localStorage](http://diveintohtml5.info/storage.html)存储（键、值）对或使用[AJAX](http://api.jquery.com/jQuery.ajax/)与服务器通信，而不是尝试访问客户端计算机上的文件，这可能会成为安全/隐私问题。下面是一个`localStorage`用于存储页面浏览次数的简单示例：

```
if (localStorage.numberOfViews) {
  localStorage.numberOfViews = Number(localStorage.numberOfViews) + 1;
} else {
  localStorage.numberOfViews = 1;
} 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T09:37:54.573

Javascript 在普通的网络浏览器中运行，对本地文件系统的访问非常有限。

因此，现代网络浏览器将允许您将数据保存到专门目录中的文件中，与其他所有内容隔离。

在大多数情况下，使用 localStorage（正如其他人所提到的）是您最好的选择。

如果您在 Windows 下运行，您可以创建一个名为“.HTA”的专用文件，该文件以与常规文件相同的访问和权限运行。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T17:50:13.730

属性 LANGUAGE="JavaScript" 已弃用。你可以删除它。现在，回答您的问题，您可以使用 PHP 来完成。当用户进入页面时发送数据，通过 AJAX 将其发送到您的服务器并使用 PHP 进行处理。

# asp.net - 将记录从gridview 导出到asp.net 中的excel？

> ID：14496175
> 
> 赞同：0
> 
> 时间：2013-01-24T07:40:27.787
> 
> 标签：asp.net, visual-studio-2010, excel, gridview

我想通过仅使用 vb.net 作为编程语言将记录从我的 gridview 导出到 excel。我见过很多使用 C# 的代码，但我不是 C# 从业者，我只使用 vb.net。

这里是 ZedBee 爵士

```
<body>
<form id="form1" runat="server">

<div id= "bg">

<div id = "scroll">

    <asp:GridView ID="tblreport" runat="server" CellPadding="4" ForeColor="#333333" 

        style="z-index: 1; left: -1px; top: 0px; position: absolute; height: 1px; width: 880px" 
        BorderColor="Black">
        <AlternatingRowStyle BackColor="White" />
        <EditRowStyle BackColor="#7C6F57" />
        <FooterStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
        <HeaderStyle BackColor="#1C5E55" Font-Bold="True" ForeColor="White" />
        <PagerStyle BackColor="#666666" ForeColor="White" HorizontalAlign="Center" />
        <RowStyle BackColor="#E3EAEB" />
        <SelectedRowStyle BackColor="#C5BBAF" Font-Bold="True" ForeColor="#333333" />
        <SortedAscendingCellStyle BackColor="#F8FAFA" />
        <SortedAscendingHeaderStyle BackColor="#246B61" />
        <SortedDescendingCellStyle BackColor="#D4DFE1" />
        <SortedDescendingHeaderStyle BackColor="#15524A" />
    </asp:GridView>
    </div>

    <asp:Button ID="Button1" runat="server" 
        style="z-index: 1; left: 410px; top: 396px; position: absolute; height: 26px;" 
        Text="Generate" />
    <asp:Button ID="Button2" runat="server" 
        style="z-index: 1; left: 511px; top: 395px; position: absolute; width: 70px" 
        Text="Cancel" />
    <asp:TextBox ID="TextBox1" runat="server" 
        style="z-index: 1; left: 182px; top: 65px; position: absolute"></asp:TextBox>
    <asp:DropDownList ID="dditem" runat="server" 
        DataSourceID="SqlDataSource1" DataTextField="TABLE_NAME" 
        DataValueField="TABLE_NAME" 
        style="z-index: 1; left: 83px; top: 32px; position: absolute">
    </asp:DropDownList>
    <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
        ConnectionString="<%$ ConnectionStrings:dbapproveditemConnectionString %>" 
        ProviderName="<%$ ConnectionStrings:dbapproveditemConnectionString.ProviderName %>" 
        SelectCommand="SELECT TABLE_NAME FROM information_schema.COLUMNS WHERE (TABLE_SCHEMA = 'dbitem') AND (ORDINAL_POSITION = 1)">
    </asp:SqlDataSource>
    <asp:Button ID="Button3" runat="server" 
        style="z-index: 1; left: 330px; top: 62px; position: absolute; width: 62px" 
        Text="OK" />
    <asp:DropDownList ID="DropDownList2" runat="server" 

        style="z-index: 1; left: 82px; top: 65px; position: absolute; height: 16px; width: 79px;">
        <asp:ListItem>Status</asp:ListItem>
    </asp:DropDownList>

</div>

</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:37:47.587

尝试这个

```
 response.ClearHeaders()
    'first let's clean up the response.object
    response.Clear()
    response.Charset = ""
    'set the response mime type for excel
    response.ContentType = "application/vnd.ms-excel"

     strfileName = "InActiveContactOptions"

    'response.AddHeader("Content-Disposition", "inline;filename=ContactOptions.xls")
    response.AddHeader("Content-Disposition", "inline;filename=" + strfileName + ".xls")
    'create a stringwriter
    Dim stringWrite As New System.IO.StringWriter
    'create an htmltextwriter which uses the stringwriter
    Dim htmlWrite As New System.Web.UI.HtmlTextWriter(stringWrite)
    'instantiate a datagrid
    Dim dg As New DataGrid
    'set the datagrid datasource to the dataset passed in
    dg.HeaderStyle.BackColor = Drawing.Color.Gray
    dg.HeaderStyle.ForeColor = Drawing.Color.White
    dg.Caption = _Caption
    dg.CaptionAlign = TableCaptionAlign.Left
    dg.AlternatingItemStyle.BackColor = Drawing.Color.Ivory
    dg.DataSource = ds.Tables(0)
    'bind the datagrid
    dg.DataBind()
    'tell the datagrid to render itself to our htmltextwriter
    dg.RenderControl(htmlWrite)
    'all that's left is to output the html
    response.Write(stringWrite.ToString.Replace("&nbsp;", ""))
    response.End() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-29T08:39:31.770

```
 Response.Clear()
    Response.AddHeader("content-disposition", "attachment;filename=" + "Name of excel" + ".xls")
    Response.Charset = ""
    Response.Cache.SetCacheability(HttpCacheability.NoCache)
    Response.ContentType = "application/vnd.ms-excel" ' for excel 2003
    'Response.ContentType = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" ' for excel 2007
    Dim stringWrite As System.IO.StringWriter = New System.IO.StringWriter()
    Dim htmlWrite As System.Web.UI.HtmlTextWriter = New System.Web.UI.HtmlTextWriter(stringWrite)
    Dim gv As System.Web.UI.WebControls.GridView = New System.Web.UI.WebControls.GridView()
    gv.DataSource = dt
    gv.DataBind()

    gv.HeaderRow.Style.Add("background-color", "#FFFFFF")
    gv.HeaderRow.Style.Add("Height", "30px")

    For i As Integer = 0 To gv.HeaderRow.Cells.Count - 1 Step i + 1
        gv.HeaderRow.Cells(i).Style.Add("background-color", "#f5f5f5")
    Next

    Dim i1 As Integer = gv.HeaderRow.Cells.Count - 1
    For i As Integer = 0 To gv.Rows.Count - 1
        Dim row As GridViewRow = gv.Rows(i)
        'Change Color back to white
        row.BackColor = System.Drawing.Color.White
        'Apply text style to each Row
        row.Attributes.Add("class", "textmode")
        'Apply style to Individual Cells of Alternating Row
        If i Mod 2 <> 0 Then
            For i0 As Integer = 0 To i1
                row.Cells(i0).Style.Add("background-color", "#F2F2F2")
            Next
        End If
    Next
    gv.RenderControl(htmlWrite)
    'style to format numbers to string
    Dim style As String = "<style>.textmode{mso-number-format:\@;}</style>"
    Response.Write(style)
    Response.Output.Write(stringWrite.ToString())
    Response.Flush()
    Response.End() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:57:17.757

你试过这个代码吗？

> IT 在 C# 中为我工作，我只是使用在线转换器将其转换为 VB

将此添加到您的导出按钮单击事件中

```
Dim filename As String = "Test.xls"
Dim tw As New System.IO.StringWriter()
Dim hw As New System.Web.UI.HtmlTextWriter(tw)

'Get the H`enter code here`TML for the control.
yourGrid.RenderControl(hw)
'Write the HTML back to the browser.
Response.ContentType = "application/vnd.ms-excel"
Response.AppendHeader("Content-Disposition", "attachment; filename=" & filename & "")

Response.Write(tw.ToString()) 
```

原文来源：[https ://stackoverflow.com/a/11308445/1196411](https://stackoverflow.com/a/11308445/1196411)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T07:46:41.700

[这篇](http://www.devcurry.com/2009/01/export-gridview-to-excel.html)博文有用于将数据导出到 excel 的 vb.net 代码。

可以通过在后面的代码中覆盖 VerifyRenderingInServerForm 来解决该错误。请阅读博客中的评论。

# android - 如何将颜色代码转换为十六进制？

> ID：14496179
> 
> 赞同：0
> 
> 时间：2013-01-24T07:40:44.187
> 
> 标签：android

如何在android中将颜色代码转换为代码十六进制？我从 webservice 获取这个颜色代码，所以我必须将它转换为十六进制以便我使用它。

```
Ex:  0x59b512 -> #12b559 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:51:25.683

你的问题不是很清楚。如果您需要在 .xml 文件中使用十六进制编码颜色，则需要在 xml 中创建一组样式（通常在 res/values/styles.xml 中）。例如

```
<color name="gray">#eaeaea</color>
<color name="titlebackgroundcolor">#00abd7</color>
<color name="titlecolor">#666666</color> 
```

在布局文件中，您可以调用颜色或样式：

```
android:textColor="@color/titlecolor" 
```

如果您有问题，请发表评论。

编辑：您可以尝试使用以下方法将其转换为十六进制：

```
String strColor = String.format("#%06X", Color); 
```

然后`strColor`用来设置你的背景。

# actionscript-3 - 如何从 youtube 播放器中删除 youtube 徽标以在其他应用程序中使用？

> ID：14496186
> 
> 赞同：3
> 
> 时间：2013-01-24T07:41:37.037
> 
> 标签：actionscript-3, flash, apache-flex, actionscript, youtube-api

我想在我的应用程序中使用 Charmless youtube 播放器，并且我想从播放器中删除 youtube 徽标。我怎样才能做到这一点？我的应用程序是使用 AS3 开发的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T07:44:02.457

只需添加`?modestbranding=1`到 URL 的末尾。

[在这里](https://developers.google.com/youtube/player_parameters)查看更多。

> 谦虚品牌（支持的播放器：AS3、HTML5） 此参数允许您使用不显示 YouTube 徽标的 YouTube 播放器。将参数值设置为 1 以防止 YouTube 徽标显示在控制栏中。请注意，当用户的鼠标指针悬停在播放器上时，一个小的 YouTube 文本标签仍会显示在暂停视频的右上角。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T06:53:45.833

试试这个 API 播放器代码。

[http://www.youtube.com/apiplayer?version=3&modestbranding=1&showinfo=1](http://www.youtube.com/apiplayer?version=3&modestbranding=1&showinfo=1)

Chromeless 播放器，除非 API 播放器必须“showinfo=1”，否则适度的品牌化无效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:24:24.297

我尝试通过多种方式删除 youtube 徽标。但我没有成功从 youtube 播放器中删除它。

最后我检查了 youtube 播放器的功能和行为。当视频附加到播放器时，它将显示在中心。如果播放器容器高度大于视频高度，则（顶部和底部）两侧的黑色条都会出现。只是我们必须使用遮罩概念从用户显示区域隐藏黑条。（在 Flash 中，我们可以将掩码应用于容器，同样的事情将在 Javascript 中使用 DOM 模型完成。）

直接根据最终用户的角度将其删除，而不是实际。因此从播放器中删除了间接方式的 youtube 徽标。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2014-08-19T08:59:39.570

您可以使用 JWPlayer 5.x 在以下位置尝试 GKPlugin 这个插件：

```
https://drive.google.com/folderview?id=0B0OhZLpuvlSRTDZLMXowQWNMZTA#list 
```

# mongodb - 创建一个新的 meteor.js 文件并得到错误 100，MongoDB 无法写入

> ID：14496190
> 
> 赞同：8
> 
> 时间：2013-01-24T07:41:53.730
> 
> 标签：mongodb, meteor

我正在玩meteor.js，我收到了这个错误：

```
Unexpected mongo exit code 100\. Restarting.
Unexpected mongo exit code 100\. Restarting.
Unexpected mongo exit code 100\. Restarting.
Can't start mongod

MongoDB had an unspecified uncaught exception.
Check to make sure that MongoDB is able to write to its database directory. 
```

我不知道如何解决这个问题，特别是在我在雪豹 mac os 上使用 curl 安装的 Meteor.js 的上下文中。

它实际上工作了一段时间，因为我从我的一本书中做了一些练习，然后它因错误而崩溃。不知道我做了什么。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-16T23:40:44.123

我通过去`.meteor\local\db`和删除解决了这个问题`mongod.lock`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-04-05T20:24:34.797

当我在本地环境中从 0.7 更新到 0.8 时遇到了这个问题，我在本地数据库中没有任何松动，所以我通过以下方式修复：

```
rm -rf .meteor/local/db 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-01-24T08:19:50.553

与我们的讨论一样，您只需要释放一些磁盘空间，我希望流星会给出更多描述性错误。

如果您释放一些空间，它应该自行整理

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-08T18:18:28.310

可能是您已经有一个`mongod`正在运行的实例，请执行

```
ps -el | grep mongo 
```

如果它正在运行，请杀死它并重新启动

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-14T12:19:23.687

正如@Akshat 所说：

如果您即使是 root 也无法运行流星，它可能是一个完整的分区，您必须清理或只是将文件夹移动到另一个分区。

如果您可以以 root 身份运行流星，则可能是可以通过以下方式解决的权限问题：
在流星项目文件夹中：`sudo chown -R $USER:$USER .`
我建议不要使用 NTFS 分区，因为在那里设置正确的权限很困难。

# eclipse-plugin - 安装 cloudbees 插件的先决条件

> ID：14496191
> 
> 赞同：0
> 
> 时间：2013-01-24T07:42:02.340
> 
> 标签：eclipse-plugin, cloudbees

我试图在我的 Eclipse Juno 中安装 cloudbees 插件，但它给了我错误：

无法完成安装，因为找不到一项或多项所需项目。正在安装的软件：CloudBees Eclipse Toolkit SVN 支持（**必须安装 SUBCLIPSE！！**）（可选）1.1.0.201210091648（com.cloudbees.eclipse.dev.scm.subclipse.feature.group 1.1.0.201210091648）缺少要求：CloudBees Scm Subclipse 1.1 .0.201210091648 (com.cloudbees.eclipse.dev.scm.subclipse 1.1.0.201210091648) 需要 'bundle org.tigris.subversion.subclipse.core [1.6.0,2.0.0)' 但找不到不能满足依赖：来自：CloudBees Eclipse Toolkit SVN 支持（**必须安装 SUBCLIPSE！！**）（可选）1.1.0.201210091648（com.cloudbees.eclipse.dev.scm.subclipse.feature.group 1.1.0.201210091648）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T14:13:25.220

您需要安装 Subclipse。

如果您将 Subversion 用于您的版本控制系统，那么您可能在 Eclipse 中使用 Subclipse 或 Subversive。根据您使用的是哪一个，您应该安装相应的 CloudBees 工具包适配器。你不需要另一个，如果你使用的是 Git（或其他东西），你也不需要。

# php - 使用令牌而不是凭据进行远程登录 - 这是个好主意吗？

> ID：14496192
> 
> 赞同：1
> 
> 时间：2013-01-24T07:42:05.173
> 
> 标签：php, security, login, cryptography, token

我不是密码学家，如果我发现了其他东西，我可能不会尝试自己解决这个问题，那么您如何看待这种使用令牌而不是凭据从另一个站点远程登录网站的方法？

如果有人指出一个经过验证的解决方案，我实际上会很高兴，因为这只是另一个自制软件。

*   站点 A（我想登录）使用密码，例如 d4ffa3793[...]392258e6a。

*   站点 B（带有登录按钮的站点）也知道此代码。

*   当我在站点 B 上单击“登录”时，B 会获取此密钥并使用 PHP 的 crypt 函数使用当前时间的时间戳*对其进行加密。

*   访问者使用生成的令牌被发送到站点 A，站点 A 执行与站点 B 相同的操作来验证令牌。如果它们匹配，它将登录用户。

*我正在使用当前时间的时间戳，因为某些服务器的时间略有不同，并且在生成和验证令牌之间需要一段时间，

那么，这是怎么回事？你有什么建议？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T11:15:32.753

如果应用程序不是安全敏感的（即，即使有人确实弄清楚如何利用交叉登录机制窃取另一个用户的帐户，您也不会遇到大麻烦），那么我会像您说的那样处理它：通过散列/加密用户名 + 时间戳 + 共享密钥创建令牌，将令牌 + 明文用户名 + 明文时间戳发送到服务器 B（通过重定向 URL 中的 GET 参数），在服务器 B 上验证正确性和新鲜度。

如果它是一个敏感的应用程序，我宁愿研究一些专业的 SSO 解决方案。

如果您选择自制解决方案，您应该注意的一件事是某些哈希（如 MD5）对[长度扩展攻击](http://en.wikipedia.org/wiki/Length_extension_attack)的脆弱性。此外，众所周知，of 的语法`crypt`很容易出错。

# python - 有没有办法在使用 org-mode 运行时获取（python）脚本输出

> ID：14496193
> 
> 赞同：4
> 
> 时间：2013-01-24T07:42:17.450
> 
> 标签：python, emacs, org-mode

我正在文件中编写少量代码`org-mode`。这段代码很慢（从远程机器复制文件），我想看看复制进度如何（有时与远程机器的连接失败，我想知道）。为此，我想打印当前访问文件的序列号。

Org-mode 的代码块有两个问题：

1.  它将打印的消息或返回的变量放置在块的结果部分中。
2.  只有在代码结束时才会这样做。

有没有办法将打印输出转换为单独的实时变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-16T15:23:42.437

重新打开 sys.stdout 以便刷新它应该会有所帮助。

请参阅[如何刷新 Python 打印的输出？](https://stackoverflow.com/questions/230751/how-to-flush-output-of-python-print)，以及这篇博文：

[http://algorithmicallyrandom.blogspot.com.es/2009/10/python-tips-and-tricks-flushing-stdout.html](http://algorithmicallyrandom.blogspot.com.es/2009/10/python-tips-and-tricks-flushing-stdout.html)

# c++ - 执行另一个类的构造函数时出错

> ID：14496195
> 
> 赞同：0
> 
> 时间：2013-01-24T07:42:22.380
> 
> 标签：c++, visual-studio-2010

> **可能重复：**
> [为什么没有调用构造函数？](https://stackoverflow.com/questions/3810570/why-is-there-no-call-to-the-constructor)

请看下面的代码

**UIHandler.h**

```
#pragma once
class UIHandler
{
public:
    UIHandler();
    ~UIHandler(void);

private:
    //Book *books;
}; 
```

**UIHandler.cpp**

```
 #include "UIHandler.h"
    #include <iostream>

    using namespace std;

    UIHandler::UIHandler()
    {        
       {
       //action once code goes here
       }        
        int selection;

        cout << "..............Welcome to DigitalLab Library..........." << endl << endl;;
        cout << "Kindly press, " << endl;
        cout << "1\. Enter Books" << endl;
        cout << "2\. Display Books"<< endl;
        cout << "3\. Member Area" << endl;

        cout << "Your Selection: ";
        cin >> selection;
    }        

    UIHandler::~UIHandler(void)
    {
    } 
```

**主文件**

```
#include <iostream>
#include "UIHandler.h"

using namespace std;

int main()
{
    UIHandler a();

    system("pause");
    return 0;
} 
```

在这段代码中，我无法在 UIHandler 中执行构造函数，因为代码运行但没有任何反应。如果我将参数传递给 UIHandler 构造函数，它应该可以正常工作，即使我没有使用构造函数。这是为什么？请帮忙！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T07:45:00.150

您声明一个`a`返回`UIHandler`类型的函数，请参阅[最令人烦恼的解析](http://en.wikipedia.org/wiki/Most_vexing_parse)

更新

```
UIHandler a(); 
```

到

```
UIHandler a; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T07:44:42.700

`UIHandler a();`是一个函数声明，它将返回`UIHandler`对象。删除`()`后`a`

**更新：**将定义更改为声明。感谢@JesseGood

# sql - 基于子查询显示列

> ID：14496202
> 
> 赞同：2
> 
> 时间：2013-01-24T07:43:00.103
> 
> 标签：sql, oracle, subquery

我想显示工资总和最高的部门名称。我正在使用 oracle sql，表结构是`Dept(Deptno,Dname,Loc)`and `Emp(Empno,Ename,Job,Salary,Deptno)`。

我使用的查询是

```
select Dname 
from Dept 
where Deptno=
      ( select Deptno 
        from Emp 
        where rownum=1 
        group by Deptno 
        order by sum(Salary) Desc
      ); 
```

这给出了一个错误：

> 缺少右括号。

当我单独运行子查询时，它成功返回一个`Deptno`. 但是对于父查询，我得到了上述错误。

问题是什么，可能的解决方案是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:00:26.037

```
select dname
  from (select dname, rank() over (order by sum(salary) desc) rnk
          from dept d 
               inner join emp e 
                       on e.deptno = d.deptno
        group by dname, e.deptno
       )
 where rnk = 1; 
```

请注意，在您的示例`where rownum=1`中，您所做的是一个巨大的错误。这意味着选择 1 个随机行并对其进行排序（不是真正的最高薪水行..只是任何旧行）

如果 2 个部门的最高薪水相同，我的解决方案可能会超过 1 行。如果需要，您可以使用`row_number()`而不是`rank()`只选择一个。

# c++ - 选择不等待 C++ 套接字中的超时值

> ID：14496204
> 
> 赞同：2
> 
> 时间：2013-01-24T07:43:08.433
> 
> 标签：c++, sockets, client-server

我编写了一个服务器代码，它接受新客户端和来自客户端的数据。但问题是尽管没有来自客户端的数据，但 select 不会等到超时。我想等待 5 秒钟，然后为可用的客户发送心跳。但它在第一次迭代中等待 5 秒，然后在下一次迭代中快速发送心跳。如何解决这个问题呢。提前致谢。

```
void * Communicate(void * id)
{
int *iSockID = (int *) id;
int listener =  *iSockID;

fd_set master;    // master file descriptor list
fd_set read_fds;  // temp file descriptor list for select() read
fd_set write_fds; // temp file descriptor list for select() read
int fdmax;        // maximum file descriptor number

int i, j, rv;

FD_ZERO(&master);    // clear the master and temp sets
FD_ZERO(&read_fds);
FD_ZERO(&write_fds);
// add the listener to the master set
FD_SET(listener, &master);
printf("Listener is %d \n" , listener);

// keep track of the biggest file descriptor
fdmax = listener; // so far, it's this one
//accept 3 clients

// main loop
for(;;) {
    read_fds = master; // copy it
    write_fds = master;
    struct timeval tv;
    tv.tv_sec = 5;
    tv.tv_usec = 0;
    int iResult = select(fdmax+1, &read_fds, &write_fds, NULL, &tv) ;
    if (iResult == -1) 
    {
        perror("select");
        exit(4);
    }

    for(i = 0; i <= fdmax; i++) 
    {           
        //send work for clients
        SendHeartBeats(write_fds , fdmax , listener , i );

    }

    // run through the existing connections looking for data to read
    // ADD NEW CONNECTIONS READ FROM CONNECTIONS    
    for(i = 0; i <= fdmax; i++)
    {   

        if (FD_ISSET(i, &read_fds)) 
        { // we got one!!
            // handle new connections               
            if (i == listener) 
            {                                    
                AcceptNewClients(master , fdmax , listener );   
            } else 
            {
                AccepeDataFromClients(i , master);
            } // END handle data from client
        } // END got new incoming connection
    } // END looping through file descriptors
    sleep(3);
} // END for(;;)
return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:46:35.173

你不能 fd_set 等式变量。您需要使用 FD_COPY。如果不这样做，您只需将句柄复制到已标记为已完成的实际数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T10:11:33.863

您需要更改代码以在每次调用时重新初始化`read_fd`and变量，因为它会在退出时修改它们，因此您每次都需要重置它们。正如其他人所说，使用运算符复制变量不是复制结构的正确方法。`write_fd``select()``=``master``fd_set`

试试这个：

```
void * Communicate(void * id)
{
    int *iSockID = (int *) id;
    int listener =  *iSockID;

    fd_set master;    // master file descriptor list
    fd_set read_fds;  // temp file descriptor list for select() read
    fd_set write_fds; // temp file descriptor list for select() read
    struct timeval tv;
    int fdmax;        // maximum file descriptor number
    int i, j, rv;

    printf("Listener is %d \n", listener);

    // add the listener to the master set
    FD_ZERO(&master);
    FD_SET(listener, &master);

    // keep track of the biggest file descriptor
    fdmax = listener; // so far, it's this one
    //accept 3 clients

    // main loop
    clock_t c1 = clock();
    while (1)
    {
        FD_ZERO(&read_fds);
        FD_ZERO(&write_fds);

        #ifdef MSWINDOWS
        // Windows does not have FD_COPY()
        for (u_int i = 0; i < master.fd_count; ++i)
        {
            FD_SET(master.fd_array[i], &read_fd);
            FD_SET(master.fd_array[i], &write_fd);
        }
        #else
        FD_COPY(&master, &read_fd);
        FD_COPY(&master, &write_fd);
        #endif

        tv.tv_sec = 1;
        tv.tv_usec = 0;

        int iResult = select(fdmax+1, &read_fds, &write_fds, NULL, &tv);
        if (iResult == -1) 
        {
            perror("select");
            exit(4);
        }

        clock_t c2 = clock();
        if (((c2-c1) / CLOCKS_PER_SEC) >= 5)
        {
            c1 = c2;
            for(i = 0; i <= fdmax; i++) 
            {           
                if ((i != listener) && FD_ISSET(i, &write_fds))
                { 
                    //send work for client
                    SendHeartBeat(i);
                }
            }
        }

        // run through the existing connections looking for data to read
        // ADD NEW CONNECTIONS READ FROM CONNECTIONS    
        for(i = 0; i <= fdmax; i++)
        {   
            if (FD_ISSET(i, &read_fds)) 
            {
                // we got one!!
                if (i == listener) 
                {                                    
                    AcceptNewClient(master, fdmax, listener);   
                }
                else 
                {
                    AcceptDataFromClient(i);
                }
            }
        }
    }

    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-13T18:49:56.153

您在您正在使用的评论中声明`Linux 2.6.27`。由于在 Linux 中，an`fd_set`是一个包含整数类型数组的结构，因此使用赋值复制`master`到`read_fds`是可以的。

您的`select`呼叫没有被阻塞的原因是因为您正在初始化`read_fds`和`write_fds`from `master`。您的空闲客户端套接字始终是可写的，因此您会立即醒来。顺便说一句，在您的`listener`套接字上选择可写是没有意义的。

您应该只在`write_fds`尝试写入但收到`EAGAIN`/`EWOULDBLOCK`错误时设置客户端套接字。

# php - PHP - CLI vs cronjob - 相同的脚本，不同的结果

> ID：14496206
> 
> 赞同：1
> 
> 时间：2013-01-24T07:43:23.970
> 
> 标签：php, cron, system, exec, command-line-interface

如果我像这样简单地运行它，我有一个 PHP 脚本在命令行上运行得非常好`php /path/to/script/script.php`。如果我现在在 cron 中使用这个命令`crontab -e`并添加以下行：

```
*/1 * * * * php /path/to/script/script.php 2>&1 >> /var/log/logfile.log 
```

它确实按预期每分钟执行一次，并且所有输出都被放入日志文件中，就像在命令行上运行它一样。但是脚本的某些部分似乎不起作用。这些特定部分是类似的行：

```
system('mkdir /mnt/temp', $retVal); 
```

或者

```
exec('mkdir /mnt/temp'); 
```

我已经尝试了所有可能的事情，比如以 root 身份运行它，对所有受影响的脚本和文件夹的权限，使用`/bin/mkdir`而不是`mkdir`. system() 的返回值是 0 用于在 CLI 上运行它，1 用于 crontab 方式。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:01:09.817

我无法解决 CLI 与 crontab 的问题，但对我有用的解决方案是在 cron 中使用 bash 脚本。而那个 bash 脚本又调用 PHP 脚本。在我需要运行脚本的任何用户下，这就像一个魅力。所以我不能说这是或不是权限问题。

感谢您的所有评论

# windows - （UpdateDriverForPlugAndPlayDevices）调用而不是（硬件启动）

> ID：14496207
> 
> 赞同：1
> 
> 时间：2013-01-24T07:43:25.837
> 
> 标签：windows, driver, smartcard-reader

我有一个虚拟智能卡读卡器驱动程序。它可以正确安装在我的电脑上（Windows 7 x64）。但是当我在另一台 Windows 7 x64 PC 上安装它时安装失败。当然，我以相同的方式安装它们：

```
devcon install <inf> <hwid> 
```

我比较了**setupapi.dev.log**文件并在第一行发现了不同之处：

*   在我的电脑上成功的会话总是从

    [设备安装（**硬件启动**）- {892EDE5E-BE49-443c-A0B3-005D74F2D69C}\ScFilter\1&3908c5bd&9&01]

*   另一台 PC 上的失败会话总是从

    [设备安装 ( **UpdateDriverForPlugAndPlayDevices** ) - root\BixVirtualReader]

我在 Divice Manager 有另一个虚拟智能卡读卡器。但我在安装新驱动程序之前将其关闭。

# algorithm - 去除最少边以强制增加未加权无向图中最短路径长度的算法

> ID：14496220
> 
> 赞同：8
> 
> 时间：2013-01-24T07:44:08.410
> 
> 标签：algorithm, graph-theory, graph-algorithm, shortest-path

给定一个未加权无向图的邻接矩阵，是否有一种有效的方法（多项式算法）来扩展/增加任何给定两个节点 s 和 t 之间的最短路径的长度？

**例子：**

在下面的示例中，从顶点 s=1 到顶点 t=5 有 5 条不同的“最短路径”，每个长度为 3。我想删除最少数量的边，以便最短路径长度强制变为 4 或更多的。（断开图表是可以的。）

邻接矩阵（扩展以纠正示例）：

```
 0 1 0 0 0 1 1 1 0 1 0 
 1 0 1 1 0 0 0 0 0 0 0  
 0 1 0 0 1 0 0 0 0 0 1 
 0 1 0 0 1 1 0 0 0 0 0  
 0 0 1 1 0 1 0 0 0 0 0 
 1 0 0 1 1 0 0 0 1 0 0 
 1 0 0 0 0 0 0 0 1 0 0 
 1 0 0 0 0 0 0 0 1 0 0 
 0 0 0 0 0 1 1 1 0 0 0
 1 0 0 0 0 0 0 0 0 0 1
 0 0 1 0 0 0 0 0 0 1 0 
```

表示此图：

![修正图 (AKE)](../Images/e73d397451aeb9817e19cdfb09b9c763.png)

强制最短路径长度从 3 增加到 4 的最小成本是去除两条边 (1,2) 和 (5,9)

**目标：**

您能否为找到在一般情况下必须删除的边集的通用算法提供任何想法？

* * *

**更正：**如我的评论中所述，此示例不完整。通过添加另外两个顶点 10 和 11（以红色显示），该示例被救出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T21:44:26.757

输入：G = (V,E)，顶点 s，t 和正整数 d。

问题：最小化删除所需的边数，使得 dist(s,t) >= d。

这个问题对于 d > 3 是 NP-hard 并且对于 d 的其他值是多项式可解的。

问题是在距离 d 和允许删除的边数 k 上参数化 FPT：算法如下：找到长度最多为 d 的 (s,t)-路径，并在您要到达的 d 边上分支可以删除。这导致算法在时间 O(d^k * n^2) 中运行。

当仅由 d 参数化（即仅 k）时，它是对 NP 完全的（分别为 W[1]-hard）。

参考：有界长度路径及其切割：参数化复杂性和算法，Golovach，PA 和 Thilikos，DM，离散优化第 8 卷，第 1 期，第 72 - 86 页，2011 年，出版商 E​​lsevier。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-29T09:37:00.213

我用我在“Pål GD”答案的第三条评论中提到的方法解决了这个问题。这是它的java代码。希望对您有所帮助！

```
// BFS to find the depth of every node (from source node)
// graph is the adjacency matrix.
// elements of row zero and column zero are all useless. this program
// works with indices >=1 
private int[][] BFS (int[][] graph, int source, boolean SPedges){
    int[][] temp = null;

    // nodes is number of graph nodes. (nodes == graph.length - 1)
    if (SPedges){
        temp = new int[nodes + 1][nodes + 1];
    }
    else{
        depth[source] = 0;
    }
    LinkedList<Integer> Q = new LinkedList<Integer>();
    Q.clear();
    visited[source] = true;
    Q.addFirst(source);
    while (!Q.isEmpty()){
        int u = Q.removeLast();
        for (int k = 1; k <= nodes; k++){
            if (!SPedges){
                // checking if there's a edge between node u and other nodes
                if (graph[u][k] == 1 && visited[k] == false){
                    visited[k] = true;
                    depth[k] = depth[u] + 1;
                    Q.addFirst(k);
                }
            }
            else{
                if (graph[u][k] == 1 && depth[k] == depth[u] - 1){
                    Q.addFirst(k);
                    temp[k][u] = 1;
                }
            }
        }   
    }
    return temp;
}

// fills the edges of shortest path graph in flow 
private ArrayList<Edge> maxFlow(int[][] spg, int source, int sink){ 
    int u = source;
    ArrayList<Integer> path = new ArrayList<Integer> (depth[sink]);
    path.add(source);
    Arrays.fill(visited, false);
    visited[source] = true;
    for (int i = 1; i <= nodes + 1; i++){
        if (i == nodes + 1){
            if (u == source)
                break;
            u = path.get(path.size() - 2);
            i = path.remove(path.size() - 1);
        }
        else if(spg[u][i] == 1 && visited[i] == false){
            visited[i] = true;
            path.add(i);
            if (i == sink){
                for(int k = 0; k < path.size() - 1; k++){
                    spg[path.get(k)][path.get(k+1)] = 0;
                    spg[path.get(k+1)][path.get(k)] = 1;
                }
                i = 0;
                u = source;
                path.clear();
                path.add(u);
                Arrays.fill(visited, false);
            }
            else{
                u = i;
                i = 0;
            }
        }
    }

    LinkedList<Integer> Q = new LinkedList<Integer>();
    Q.clear();

    Arrays.fill(visited, false);

    visited[source] = true;
    Q.addFirst(source);
    while (!Q.isEmpty()){
        u = Q.removeLast();
        for (int k = 1; k <= nodes; k++){
            if (spg[u][k] == 1 && visited[k] == false){
                visited[k] = true;
                Q.addFirst(k);
            }   
        }
    }
    ArrayList<Edge> edges = new ArrayList<Edge>();
    for (int i = 1; i <= nodes; i++){
        for (int j = 1; j <= nodes; j++){
            if ((spg[i][j] == 1) && (visited[i] ^ visited[j])){
                edges.add(new Edge(i, j));
            }
        }
    }

    return edges;
}

public void Solv(){
    // adjacency matrix as g. represents the graph.
    // first we find depth of each node corresponding to source node by a BFS from source
    BFS(g, s, false);

    // shortest path length from source to sink (node t)
    SPL = depth[t];

    // shortest path graph
    // it's a subgraph of main graph consisting only edges that are in a shortest path
    // between s and t
    spg = BFS(g, t, true);

    // lastly we find edges of a min cut in shortest paths graph
    // and store them in "edges"
    edges = maxFlow(spg, s, t);
}    

class Edge{
    private int begin, end;
    public Edge(int begin, int end){
        this.begin = begin;
        this.end = end;
    }
    @Override
    public String toString() {
        return new String(String.valueOf(begin) + " " + String.valueOf(end));
    }
} 
```

# cuda - CUDA 5 NSIGHT 设置编译标志

> ID：14496224
> 
> 赞同：1
> 
> 时间：2013-01-24T07:44:13.383
> 
> 标签：cuda, nsight

为了为 Kepler K20 编译项目，我们需要设置`-rdc=true`标志。我们如何在 nsight eclipse 版本中设置这个标志？我的版本是 CUDA 5.K20。nsight eclipse 版

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T17:24:55.887

在 Nsight Eclipse Edition 中启用单独编译：

1.  打开项目属性
2.  在左侧树中，选择“Build”/“CUDA”
3.  选择页面顶部的“单独编译”单选按钮。
4.  清理项目并重建。

这样，Nsight 将为编译器和链接器指定 -rdc=true。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:43:13.837

对于其他选项`-rdc`，您可以直接在编译器设置的命令行中添加它们。

在你的眼中，

项目菜单 -> 属性 -> 构建 -> 设置 -> 工具设置 -> NVCC 编译器

附加`-rdc=true`到“命令”字符串或“命令行模式”字符串

您可能还需要将此选项附加到 NVCC 链接器命令。

# perl - 比较perl中字符串的第二个数字

> ID：14496231
> 
> 赞同：0
> 
> 时间：2013-01-24T07:44:45.647
> 
> 标签：perl

如何比较字符串的第一个数字？假设我有 713 和 213，返回 13。
另一个例子：
518 和 21 => 没有结果
423 和 413 => 没有结果
315 和 215 => 15
谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T07:51:06.403

有了这个你可以做到：

```
if(substr($str1,1) eq substr($str2,1)) 
```

[在这里](http://ideone.com/rIprx1)测试

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T09:26:41.283

`substr`操作员将为您提取子字符串。的第二个参数`substr`是你想要的子字符串开始的偏移量，所以如果你想要第二个字符开始，你必须说`substr $string, 1`。

该程序获取您自己的数据并将这两个数字放入`$i`和`$j`中。然后`substr`调用两次以将这些字符串的第二个字符复制到`$i2`and`$j2`中。该`if`语句比较两个值并相应地打印输出。

```
use strict;
use warnings;

for (
    '518 and 21',
    '423 and 413',
    '315 and 215') {

  my ($i, $j) = /\d+/g;

  my $i2 = substr $i, 1;
  my $j2 = substr $j, 1;

  if ($i2 eq $j2) {
    print "$i and $j => $i2\n";
  }
  else {
    print "$i and $j => no result\n";
  }
} 
```

**输出**

```
518 and 21 => no result
423 and 413 => no result
315 and 215 => 15 
```

# php - 如果数组 id 相同，则追加/分组到数组

> ID：14496236
> 
> 赞同：0
> 
> 时间：2013-01-24T07:45:16.820
> 
> 标签：php, arrays

如何按数组中的某些值对数组元素进行分组？

例如，考虑以下数组数组。我想通过其 ID 对数组进行分组/连接/附加

```
 $array['key1'] => Array (
 [0] => Array(
  'id' => 567,
  'value' => 780
 ),
 [1] => Array(
  'id' => 676,
  'value' => 743
 ),
 [2] => Array(
  'id' => 676,
  'value' => 721
 ),
 [3] => Array(
  'id' => 234,
  'value' => 766
 ),
 [4] => Array(
  'id' => 234,
  'value' => 780
 )
) 
```

期望的输出：

```
$array['key1'] => Array (
 [0] => Array(
  'id' => 567,
  'value' => 780
 ),
 [1] => Array(
  'id' => 676,
  'value' => Array(
    [0] => 743,
    [1] => 721
  )
 ),
 [2] => Array(
  'id' => 234,
  'value' =>  Array(
    [0] => 766,
    [1] => 680
  )
 ),
) 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:05:44.257

您确定要在有一个值时将值作为整数，而在有更多值时将值作为数组？

```
<?php
$array = array(
    array('id' => 567, 'value' => 780),
    array('id' => 676, 'value' => 743),
    array('id' => 676, 'value' => 721),
    array('id' => 234, 'value' => 766),
    array('id' => 234, 'value' => 680)
);

foreach ($array as $item) {
    $result[$item['id']][] = $item['value'];
}

foreach ($result as $id => $value) {
    if (count($value) > 1) {
        $output[] = array(
            'id' => $id,
            'value' => $value
        );
    } else {
        $output[] = array(
            'id' => $id,
            'value' => $value[0]
        );
    }
}

echo '<pre>';
print_r($output);
echo '</pre>';
?> 
```

如果不

```
<?php
$array = array(
    array('id' => 567, 'value' => 780),
    array('id' => 676, 'value' => 743),
    array('id' => 676, 'value' => 721),
    array('id' => 234, 'value' => 766),
    array('id' => 234, 'value' => 680)
);

foreach ($array as $item) {
    $result[$item['id']][] = $item['value'];
}

foreach ($result as $id => $value) {
    $output[] = array(
        'id' => $id,
        'value' => $value
    );
}

echo '<pre>';
print_r($output);
echo '</pre>';
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:58:17.520

在那里，为您完成了所有工作。那是多么容易！

```
//create the array as you have now
$array[0] = ['id'=>567, 'value'=>780];
$array[1] = ['id'=>676, 'value'=>743];
$array[2] = ['id'=>676, 'value'=>721];
$array[3] = ['id'=>234, 'value'=>766];
$array[4] = ['id'=>234, 'value'=>780];

print_r($array);
print chr(10).chr(10);

//create a new array with the values combined on key
$concat = array();
foreach($array as $val) {
  $i = $val['id'];
  $v = $val['value'];

  if (!is_array($concat[$i]))
    $concat[$i] = array();

  $concat[$i][] = $v;
}

print_r($concat);
print chr(10).chr(10);

//create a new array to show the data as you want.
$newarray = array();
foreach($concat as $key=>$val) {
  $t = array();
  $t['id'] = $key;

  if (count($val)==1)
    $t['value'] = $val[0];
  else {
    $t['value'] = array();
    foreach($val as $v)
      $t['value'][] = $v;
  } 

  $newarray[] = $t;
}

print_r($newarray);
print chr(10).chr(10); 
```

结果：

```
Array
(
    [0] => Array
        (
            [id] => 567
            [value] => 780
        )

    [1] => Array
        (
            [id] => 676
            [value] => 743
        )

    [2] => Array
        (
            [id] => 676
            [value] => 721
        )

    [3] => Array
        (
            [id] => 234
            [value] => 766
        )

    [4] => Array
        (
            [id] => 234
            [value] => 780
        )

)

Array
(
    [567] => Array
        (
            [0] => 780
        )

    [676] => Array
        (
            [0] => 743
            [1] => 721
        )

    [234] => Array
        (
            [0] => 766
            [1] => 780
        )

)

Array
(
    [0] => Array
        (
            [id] => 567
            [value] => 780
        )

    [1] => Array
        (
            [id] => 676
            [value] => Array
                (
                    [0] => 743
                    [1] => 721
                )

        )

    [2] => Array
        (
            [id] => 234
            [value] => Array
                (
                    [0] => 766
                    [1] => 780
                )

        )

) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:01:22.453

试试这个

```
$array['key1'] = array(
    0=>array('id'=>567, 'value'=>780),
    1=>array('id'=>676, 'value'=>743),
    2=>array('id'=>676, 'value'=>721),
    3=>array('id'=>234, 'value'=>766),
    4=>array('id'=>234, 'value'=>780)
    );

foreach($array['key1'] as $subarray){
    $group_id = $subarray['id'];

    if(!isset($return[$group_id]))
        $return[$group_id] = $subarray;
    else{
        if(is_array($return[$group_id]['value']))
            array_push($return[$group_id]['value'], $subarray['value']);
        else 
            $return[$group_id]['value'] = array($subarray['value'], $return[$group_id]['value']);
    }
}

// reset grouping keys into 0,1...
$return = array_values($return);
print_r($return); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T08:14:40.903

```
<?php
$arr['key1']    = array(
    array(
        'id'    => 567, 
        'value' => 780, 
    ), 
    array(
        'id'    => 676, 
        'value' => 743, 
    ), 
    array(
        'id'    => 676, 
        'value' => 721, 
    ), 
    array(
        'id'    => 234, 
        'value' => 766, 
    ), 
    array(
        'id'    => 234, 
        'value' => 780, 
    ), 
);

/* handle element merge */
function array_internal_merge_func($a, $b) {
    if ( is_array($a['value']) )
        $a['value'][]   = $b['value'];
    else 
        $a['value']     = array($a['value'], $b['value']);
    return $a;
}
/* handle array merge */
function array_internal_merge($array, $key, $merge_func) {
    $hashed = array();
    $result = array();
    foreach ( $array as $idx => $ele ) 
        $hashed[$ele[$key]][]   = $idx;
    foreach ( $hashed as $key => $idxies ) {
        reset($idxies);
        $idx0           = current($idxies);
        $result[$idx0]  = $array[$idx0];
        while ( $idx = next($idxies) ) 
            $result[$idx0]  = $merge_func($result[$idx0], $array[$idx]);
    }
    return $result;
}

print_r(array_internal_merge($arr['key1'], 'id', 'array_internal_merge_func')); 
```

# git - 如何在远程机器（而不是本地）上使用 Git 接收后挂钩？

> ID：14496239
> 
> 赞同：0
> 
> 时间：2013-01-24T07:45:32.803
> 
> 标签：git, git-post-receive, git-bare

我们正在使用 Windows 开发服务器来托管我的 Git 裸仓库。我们使用对服务器的直接文件访问（无 SSH、GIT 或 HTTP）。这很好，团队很高兴。

我们现在尝试让开发服务器在每次有人在裸仓库中推送代码时执行部署操作。我们在服务器上创建了一个本地仓库，并将裸仓库添加为远程仓库。

我们发现在 post-receive 挂钩中使用本地路径根本不起作用。post-receive 钩子似乎在客户端系统上搜索文件夹，而不是在服务器本身上。当我们在服务器上使用 //server/c$/[path] （以及服务器本地 repo 的远程设置）时，一切似乎都可以正常工作 - 但速度很慢。它现在开始让我们发疯，所以我们现在停止使用它:(。

简而言之，我们的问题是：

1.  post-receive 是否具有客户端本地范围？
2.  如果 1 为真：是否可以让 post-receive 在服务器范围内运行？
3.  是否有人成功使用了上述机制？

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T13:40:28.963

将您的钩子放在服务器的 .git/hook 中，而不是您的本地并进行检查

此外，部署系统必须处理每个案例重置、标记。

这是一个部署脚本（它不能处理所有情况，但您可以接受并改进它）

[https://gist.github.com/4621684](https://gist.github.com/4621684)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T22:07:21.997

事实证明，当使用文件路径进行部署时，范围仍然是客户端范围。这似乎是设计使然，因此，我不得不寻找另一个发布选项。

我现在使用 WebGitNet (github.com/otac0n/WebGitNet) 进行推送，这使我能够通过 http(s) 发布并这样做，它也在服务器的范围内运行。目前，我也在使用相同的机制进行拉取，但我不必——为了速度，我还可以选择文件系统访问来拉取…

# javascript - 向下滚动一点后如何粘贴 div

> ID：14496240
> 
> 赞同：21
> 
> 时间：2013-01-24T07:45:34.043
> 
> 标签：javascript, html, css

当我们向下滚动页面并且第二个 div 遇到顶部边界时，我想粘贴第二个 div。修复后，它应该与其他页面一起滚动。我怎样才能做到这一点？

```
#settings{
    width:100%;
    background:#383838;
    height:60px;
}
#menu{
    width:100%;
    position:relative;
    height:100px;
    background:#aaa;
}
#body-content{
    height:900px;
    position:relative;
} 
```

和 HTML

```
<body>
<div id="top">
    <div id="settings">
    </div>
    <div id="menu">
    </div>
</div>
<div id="body-content">
</div>

</body> 
```

在这个例子[http://jsfiddle.net/WBur3/](http://jsfiddle.net/WBur3/)中，当我们滚动页面时，第二个 div 应该是固定的。当我们向上滚动时，应该会变成之前的状态本身。请帮我。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-01-24T07:49:15.093

你可以得到这个效果`jquery`

```
$(function(){
        // Check the initial Poistion of the Sticky Header
        var stickyHeaderTop = $('#stickyheader').offset().top;

        $(window).scroll(function(){
                if( $(window).scrollTop() > stickyHeaderTop ) {
                        $('#stickyheader').css({position: 'fixed', top: '0px'});
                        $('#stickyalias').css('display', 'block');
                } else {
                        $('#stickyheader').css({position: 'static', top: '0px'});
                        $('#stickyalias').css('display', 'none');
                }
        });
  }); 
```

**[在这里演示](http://jsfiddle.net/uFq2k/)**

***注意：****不要忘记在您的页面中包含 jquery 库链接（假设您是初学者）*

```
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-01-08T21:42:05.783

我会在这里添加评论，但我没有足够的声誉来做到这一点。我在一个项目中需要类似的东西，我想我会分享我对@Sowmya 答案的更改。我稍微清理了代码并使滚动效果更加平滑。[JSfiddle](http://jsfiddle.net/uFq2k/1224/)

```
$(function () {
    // Check the initial Poistion of the Sticky Header
    var stickyHeaderTop = $('#stickyheader').offset().top;

    $(window).scroll(function () {
        if ($(window).scrollTop() > stickyHeaderTop) {
            $('#stickyheader').css({
                position: 'fixed',
                top: '0px'
            });
            $('#othercontent').css('margin-top', $('#stickyheader').outerHeight(true) + parseInt($('#unstickyheader').css('marginBottom')));
        } else {
            $('#stickyheader').css({
                position: 'static',
                top: '0px'
            });
            $('#othercontent').css('margin-top', '0px');
        }
    });
});
```

```
body {
    font: 13px sans-serif;
}
#stickyheader {
    width: 100%;
    height: 40px;
    background:black;
    color:white;
    margin-bottom: 10px;
}
#unstickyheader {
    margin-bottom: 15px;
}
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-08T13:14:18.077

为菜单 div 分配一个 id：

```
 <div id ="menuContainer"> 
```

在项目和页面中包含 jquery：

```
<script src="Scripts/jquery-1.11.3.min.js" type="text/javascript"></script> 
```

下面是实现预期效果的代码：

```
<script type="text/javascript">

    $("document").ready(function ($) {

        // On document load get the position of the div u want to stick on certain position
        var offsets = document.getElementById('menuContainer').getBoundingClientRect();

        // Get position from top of browser
                var topoffsets = offsets.top;

                // Binding fuction to windows scroll event
                $(window).bind('scroll', function () {

                    if ($(window).scrollTop() > topoffsets) {

                               $("#menuContainer").css({ top: 0, position: 'fixed' });

                            } else {
                               $("#menuContainer").css({ top: '', position: '' });
                            }
                });
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-01T08:54:51.683

没有`

```
 <!DOCTYPE html>
    <html>
    <head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <style>
    /* Note: Try to remove the following lines to see the effect of CSS positioning */
    .affix {
      top: 0;
      width: 100%;
    }
    .affix + .container-fluid {
      padding-top: 70px;
    }
    </style>
    </head>
    <body>
    <div class="container-fluid" style="background-color:#F44336;color:#fff;height:200px;">
    <h1>Bootstrap Affix Example</h1>
    <h3>Fixed (sticky) navbar on scroll</h3>
    <p>Scroll this page to see how the navbar behaves with data-spy="affix".</p>
    <p>The navbar is attached to the top of the page after you have scrolled a specified amount of pixels.</p>
    </div>

    <nav class="navbar navbar-inverse" data-spy="affix" data-offset-top="197">
    <ul class="nav navbar-nav">
    <li class="active"><a href="#">Basic Topnav</a></li>
    <li><a href="#">Page 1</a></li>
    <li><a href="#">Page 2</a></li>
    <li><a href="#">Page 3</a></li>
    </ul>
    </nav>
    <div class="container-fluid" style="height:1000px">
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    <h1>Some text to enable scrolling</h1>
    </div>
    </body>
    </html>
```

`，我们可以使用上面的代码来做到这一点。

# jsf-2 - PrimeFaces：阻止用户界面不工作

> ID：14496247
> 
> 赞同：3
> 
> 时间：2013-01-24T07:46:03.187
> 
> 标签：jsf-2, primefaces

嗨，我正在使用**js2+ primefaces** 这是我阻止 UI 的代码

```
<table>

<h:form id="main">

<tr>

<p:growl --->
    ---
    <p:dashboard   id="board" model="#{adminD.userProfl}" disabled="true">

<p:panel id="adminActivity" header="Admin Activities">
  <table id="hor-minimalist-b" >
    <tbody>
      <tr>
        <td>
          <h:commandLink action="#{photoValidation.ooDirectory()}" name="submit" type="submit" id="convertPhotos">
            <h:outputText value="Convert All Photos in Databse "/>
            <f:ajax execute=":main:adminActivity"  render=":main:growl"/>
          </h:commandLink>
        </td>
      </tr>
    </tbody>
  </table>
</p:panel>
</p:dashboard>

<p:blockUI block=":main:board" trigger=":main:convertPhotos">
  LOADING<br />  
  <p:graphicImage value="#{facesContext.externalContext.requestContextPath}/resources/images/ajax-loader.gif"/>  
</p:blockUI> 
```

* * *

这里**板**是仪表板ID**主要**是表格ID

还实现了带有 5 秒 thread.sleep 的托管 bean

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-07T12:27:59.537

你可以试试这个代码吗？

```
<p:blockUI block="board" trigger="adminActivity:convertPhotos"> 
```

它只是tipp，但您可以通过firebug或浏览器中的其他网络工具找到组件元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T14:35:31.127

尝试将 h:commandLink 更改为 p:commandLink：

```
<p:commandLink actionListener="#{photoValidation.ooDirectory()}"  update=":main:growl"   id="convertPhotos"><h:outputText value="Convert All Photos in Databse "/></p:commandLink> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:15:20.667

删除所有`:main:`前缀，因为所有这些都在同一个`h:form`中，所以不需要添加那个`main`前缀

利用

```
<p:blockUI block="board" trigger="convertPhotos"> 
```

# javascript - 设置 mouserover 背景颜色为无

> ID：14496256
> 
> 赞同：0
> 
> 时间：2013-01-24T07:46:53.907
> 
> 标签：javascript, jquery, css, mouseover, background-color

我`select`在 jQuery 中使用了一些颜色，但是当我移动光标时，我得到了蓝色的背景颜色。我希望背景颜色为“无”。

这是我的代码：

```
var oColor = {};
oColor['Red'] = '#FF0000';
oColor['Green'] = '#006400';
oColor['Blue'] = '#0000FF';                 
oColor['Sienna'] = '#A0522D';

$.each(oColor, function(colorName, color){
   $("#color").append("<option value='"+color+"'  style='height: 15px; background-color:"+color+"'></option>");
});  

$("#color").change(function(){
    $(this).css("background-color", $(this).val());
});  

<select class="color" id="color" name="color" style="padding:0px;">
    <option value="" >Select Color</option>
</select> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:15:50.980

悬停在所选选项上是一种浏览器功能，如箭头样式。除非您使用 js 编写自己的选择类型，否则您无法更改它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:17:18.557

如果我正确理解您的问题，当您单击`select`并选择您想要的选项时，当鼠标悬停时每个选项的蓝色背景是不可更改的。那是`select`元素的操作系统/浏览器特定实现，而不是 CSS。一旦你选择了一个选项，你定义的 CSS 就会被应用。

如果您希望选择一致的外观，请考虑使用一些 jQuery`dropdown`插件，其中`select`

# android - 如果在 textview 中设置了任何电子邮件，则在单击时打开默认电子邮件客户端

> ID：14496259
> 
> 赞同：0
> 
> 时间：2013-01-24T07:47:21.833
> 
> 标签：android

在我的应用程序中，如果设置了任何号码，则单击它会启动对该号码的呼叫，如果提供了任何网站链接，那么它还会显示下划线并单击它会打开浏览器。

同样，如果在文本视图中设置了任何电子邮件地址，我想打开电子邮件客户端并在下划线显示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:55:56.277

[在这里](http://developer.android.com/reference/android/util/Patterns.html)，您将了解模式。

最初，当屏幕启动时，您需要检查值的类型，然后设置样式并单击`TextView`下面的功能。我想您知道如何发送电子邮件、拨打电话和打开带有链接的网络浏览器。我已经制作了三个点击监听器，但使用一个很好。您可以为此设置一个标志，并根据该标志进行操作。

```
public void setStyleAndFunction(CharSequence target) {
    if(Patterns.EMAIL_ADDRESS.matcher(target).matches()) {
       textview.setonClickListener() {
         //   send email
       }
    }
    if(Patterns.PHONE.matcher(target).matches()) {
       textview.setonClickListener() {
            // make call
       }
    }
    if(Patterns.WEB_URL.matcher(target).matches()) {
       //set style (underline)
       textview.setonClickListener() {
           //open a web browser
       }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:11:10.747

试试它对我有用：

只需编写此代码**TextView ClickEvent**或设置为**Linkify**并调用它。

```
 Intent i2 = new Intent(android.content.Intent.ACTION_SEND);
    i2.setType("text/html");
    i2.putExtra(Intent.EXTRA_CC,new String[]{"Your CC Mail ID"});  
    i2.putExtra(Intent.EXTRA_EMAIL  , new String[]{"Your TO Mail ID"});
    i2.putExtra(android.content.Intent.EXTRA_SUBJECT, "Your Mail Body"); 
```

# objective-c - 如何延迟精灵的出现？

> ID：14496261
> 
> 赞同：0
> 
> 时间：2013-01-24T07:47:50.490
> 
> 标签：objective-c, xcode, cocos2d-iphone

我几乎完成了我目前正在制作的应用程序，但我很难找出我需要的一项功能。我有 5 个不同的精灵以随机的间隔和位置落在屏幕上。我的问题是我需要告诉我的代码在一定时间内，例如 20 秒，一次只会出现 1 个精灵。然后在 20 秒后，更多的会同时开始下降。这是我删除精灵的方法的样子：

```
//The init method
-(id) init
{
if((self=[super init])) {
    //Enable touch
    self.isTouchEnabled = YES;

    //Allocate and initialise
    sprites = [[NSMutableArray alloc]init];

    CGSize winSize = [[CCDirector sharedDirector]winSize];

    //Add the sprites
    [self schedule:@selector(scheduleDrop:)interval:2.0];
}
return self;
}

//Method to drop sprites
-(void)spriteDrop
{
    CGSize winSize = [[CCDirector sharedDirector]winSize];

int RandomX = (arc4random() % 200);

NSString *strSprite = @"1.png";

switch(arc4random() % 5){
    case 1:
        strSprite = @"1.png";
        break;
    case 2:
        strSprite = @"2.png";
        break;
    case 3:
        strSprite = @"3.png";
        break;
    case 4:
        strSprite = @"4.png";
        break;
    case 5:
        strSprite = @"5.png";
        break;
}

sprite = [CCSprite spriteWithFile:strSprite];
sprite.position = ccp(RandomX, 500);
sprite.scaleX = 40 / sprite.contentSize.width;
sprite.scaleY = 150 / winSize.height;

int posMinY = sprite.contentSize.width / 2;
int posMaxY = winSize.height - sprite.contentSize.height / 2;
int range = posMaxY - posMinY;
int actual = (arc4random()%range);
currentPos = actual;

[self addChild:baby];

int minDur = 2.0;
int maxDur = 5.0;
int rangeDur = maxDur - minDur;
int actualDur = (arc4random()%rangeDur) + minDur;

id drop = [CCMoveTo actionWithDuration:actualDur position:ccp(actual, -sprite.contentSize.height/2)];
id dropDone = [CCCallFuncN actionWithTarget:self selector:@selector(spriteDropDone:)];
[sprite runAction:[CCSequence actions:drop, dropDone, nil]];

sprite.tag = 1;
[sprites addObject: sprites];
}

//This is the method that schedules the drop
-(void)scheduleDrop:(ccTime)dt
{
[self spriteDrop];} 
```

我希望有人能够帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:00:11.397

不确定您是否希望被丢弃的精灵数量或类型（视觉上）随着时间而改变。

一种解决方案是使用 ivar _numberOfSpritesToBeDropped。这可以在由调度程序以请求的时间间隔（例如 20 秒）控制的方法中增加。然后，您只需在控制精灵分散的方法中使用此 ivar...

如果您只是想每 20 次添加不同类型的精灵。几秒钟，您只需将随机语句更改为

```
switch(arc4random() % _numberOfSpritesToBeDropped)... 
```

旁注：您的 spriteDrop 方法似乎不仅仅是简单地删除精灵，它肯定会被分成两种不同的方法。

根据我们下面的讨论，可能是这样的：

```
NSInteger _maximumCurrentNumberOfSpritesAllowed;

-(id) init{
    self = [super init];

    if(self) {
        [self setup];
    }
    return self;
}

-(void) setup{
    self.isTouchEnabled = YES;
    sprites = [[NSMutableArray alloc]init];
    _maximumCurrentNumberOfSpritesAllowed = 1;
    [self schedule:@selector(scheduleDrop:)interval:2.0];
}

-(void)spriteDrop{
    if (sprites.count < _maximumCurrentNumberOfSpritesAllowed) {

        CGSize winSize = [[CCDirector sharedDirector]winSize];

        NSString *spriteName = [self randomSpriteName]; // I'd consider doing something similar with the position etc. as well
        sprite = [CCSprite spriteWithFile:spriteName];

        int RandomX = (arc4random() % 200);
        sprite.position = ccp(RandomX, 500);
        sprite.scaleX = 40 / sprite.contentSize.width;
        sprite.scaleY = 150 / winSize.height;

        int posMinY = sprite.contentSize.width / 2;
        int posMaxY = winSize.height - sprite.contentSize.height / 2;
        int range = posMaxY - posMinY;
        int actual = (arc4random()%range);
        currentPos = actual;

        [self addChild:baby];

        int minDur = 2.0;
        int maxDur = 5.0;
        int rangeDur = maxDur - minDur;
        int actualDur = (arc4random()%rangeDur) + minDur;

        id drop = [CCMoveTo actionWithDuration:actualDur position:ccp(actual, -sprite.contentSize.height/2)];
        id dropDone = [CCCallFuncN actionWithTarget:self selector:@selector(spriteDropDone:)];
        [sprite runAction:[CCSequence actions:drop, dropDone, nil]];

        sprite.tag = 1;
        [sprites addObject: sprites];
    }
}

-(NSString *)randomSpriteName{
    NSString *strSprite; 
    switch(arc4random() % 5){
        case 1:
            strSprite = @"1.png";
            break;
        case 2:
            strSprite = @"2.png";
            break;
        case 3:
            strSprite = @"3.png";
            break;
        case 4:
            strSprite = @"4.png";
            break;
        case 5:
            strSprite = @"5.png";
            break;
        default:
            strSprite = @"1.png";
            break;
    }

    return strSprite;
}

// Call this method with a scheduler at whatever interval you'd like
-(void) increaseMaximumNumberOfSpritesAllowed{
    _maximumCurrentNumberOfSpritesAllowed++;
}

//This is the method that schedules the drop
-(void)scheduleDrop:(ccTime)dt{
    [self spriteDrop];
} 
```

# c - linux内核中的mmap（）访问未映射的内存

> ID：14496263
> 
> 赞同：0
> 
> 时间：2013-01-24T07:48:04.850
> 
> 标签：c, linux, memory, memory-management, linux-kernel

我正在尝试使用 linux-kernel 中提供的 mamp() 功能。当我们在用户空间调用 mmap() 时，我们尝试将用户空间进程的虚拟内存区域映射到内核空间中的内存。

内核中 mamp() 的定义是在我的内核模块中完成的，它尝试在页面中分配一些内存并在 mmap 系统调用期间映射它。这个内核空间内存的内存内容可以被这个模块填充。

我想问的问题是，在内存映射之后，用户空间进程可以直接访问映射的内存而无需任何额外的内核过载，因此不会有像 read() 这样**的系统调用，但是如果内存（分配在内核内部- space & mapped in the kernel-space) 包含指向在内核空间内分配的其他内存（未映射）的指针，那么用户空间进程能否借助映射内存的内容（指针）访问这个未映射的内存到这个未映射的内存。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:51:44.353

不，用户空间不能追逐映射内存中指向未映射内核内存的指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T11:04:55.463

没有用户空间的进程不能访问未映射的内存。内核不允许您访问该内存。您只能访问通过 mmap 映射的那部分内存。我认为使用可以明确使用 remap_pfn_range 函数来重新映射区域。

来自[Linux mmap 手册页](http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html)

未指定更改与文件的添加或删除区域相对应的页面上映射的基础文件大小的效果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-04T22:04:39.443

不，你不能。

但是，如果您的目的是动态更改您的映射区域，这里有一些选项：

A. 在用户空间中，您可以使用 mremap 扩展（或缩小）现有内存映射。

B. 在内核空间，在你的驱动中，你需要实现 nopage() 方法或者 remap_pfn_range，但是 remap_pfn_range 有它的限制，Linux 只给出保留的页面，你甚至不能重新映射正常的地址，比如 get_free_page() 分配的那个

# android - 如何删除 Android CheckBox 周围的填充

> ID：14496265
> 
> 赞同：68
> 
> 时间：2013-01-24T07:48:16.947
> 
> 标签：android, checkbox, margin, padding

我需要检查我的图像视图的右上角。但是当我这样做时，我注意到我的复选框周围有一个默认边距。有没有办法去掉这个？？

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <FrameLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true" >

        <ImageView
            android:id="@+id/thumbImage"
            android:layout_width="100dp"
            android:layout_height="132dp"
            android:layout_gravity="center" />
    </FrameLayout>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"
        android:background="#ff0000"
        android:gravity="center" >

        <CheckBox
            android:id="@+id/itemCheckBox"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentEnd="true"
            android:layout_gravity="center"
            android:button="@drawable/checkbox_background"
            android:paddingLeft="0dp"
            android:paddingTop="0dp" />

    </LinearLayout>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：133
> 
> 时间：2019-06-10T11:29:06.283

现在有更好的方法来做到这一点：

```
android:minWidth="0dp"
android:minHeight="0dp" 
```

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2020-12-11T14:16:31.973

在android中删除单选按钮默认边距或填充

如果你使用 xml

```
android:minWidth="0dp"
android:minHeight="0dp" 
```

如果以编程方式使用

```
 radiobtn.setMinimumHeight(0);
 radiobtn.setMinimumWidth(0); 
```

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2013-01-24T07:53:54.910

您可以使用负边距。

```
android:layout_marginTop = "-5dp"
android:layout_marginRight = "-5dp" 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2020-05-27T06:38:36.530

这在**Constraint Layout**中对我有用。我希望它适用于另一种布局。

```
<androidx.appcompat.widget.AppCompatCheckBox
                ...
                android:translationX="-5dp"
                 /> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-01-09T12:38:06.187

如果您查看在**onDraw()方法中由**[Checkbox](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/CheckBox.java)类扩展的 CompoundButton 类的[源代码](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/widget/CompoundButton.java#500)，填充取决于重力

 **```
 @Override
    protected void onDraw(Canvas canvas) {
        ...

            final int top;
            switch (verticalGravity) {
                case Gravity.BOTTOM:
                    top = getHeight() - drawableHeight;
                    break;
                case Gravity.CENTER_VERTICAL:
                    top = (getHeight() - drawableHeight) / 2;
                    break;
                default:
                    top = 0;
            }
       ...
    } 
```

所以你可以做的是将属性重力的xml值设置为
`android:gravity="top|start"`

但这只能在您不想在复选框中使用文本时使用，因为重力用于使文本居中。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-11-21T15:44:50.757

感谢@VladislavShcherbakov 的评论，它是：

```
android:paddingLeft="-5dp"
android:layout_marginStart="-5dp"
android:layout_marginLeft="-5dp"
// android:translationX="-5dp" 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2013-01-24T08:06:43.733

为什么要用负填充和所有复杂化。使用简单直接的方法，为 FrameLayout 提供填充，而不是在最上面的相对布局中进行填充。由于您在第二个布局中只有 CheckBox，因此无需为其提供填充。

如果您遇到任何问题或有任何疑问，请告诉我**

# c - 得到一个错误：错误：预期的'）'之前

> ID：14496266
> 
> 赞同：0
> 
> 时间：2013-01-24T07:48:17.653
> 
> 标签：c

## 啊

```
#define print_line(fmt,...) do{\
    struct timespec _t; clock_gettime(CLOCK_MONOTONIC, &_t);\
    printf("%ld.%ld %s:%d: " fmt "\n", _t.tv_sec + _t.tv_nsec / 1000000, __func__, __LINE__, ##__VA_ARGS__);\
}while(0) 
```

## 交流

```
struct timespec timeval;

print_line(timeval) 
```

收到错误：`error: expected ')' before .`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:08:19.393

出现`"..." fmt "..."`在您`#define`中的 仅当`fmt`是字符串文字 ( `"..."`) 时才有效。

我怀疑你想要更多的东西：

```
 #define print_line(fmt,...) do{\
    char str[100]; \
    sprintf(str, "%%ld.%%ld %%s:%%d: %s\n", fmt);\
    printf(str, 1.0 / 1000000, __func__, __LINE__, ##__VA_ARGS__);\
}while(0) 
```

测试：

```
char *i = "hello%s";
print_line(i, "abc"); 
```

另一件事-C 不知道如何转换`struct timespec`为字符串，因此您需要执行以下操作：（如果 timespec 以空终止字符数组以外的任何内容开头，则它将不起作用）

```
struct timespec
{
   char abc[100];
};
struct timespec ts;
sprintf(ts.abc, "hello%%s"); // for testing
print_line(&ts, "abc"); 
```

还有一件事 - "%ld.%ld" 似乎打印出垃圾，我不完全确定为什么。也许你想要 "%f" 代替。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:30:25.197

我假设您想要一个调试工具，只需打印您将要使用的变量的名称、时间（以秒和毫秒为单位）、源代码位置和一些可选注释。

```
#define print_line(fmt,...) do{\
    struct timespec _t; clock_gettime(CLOCK_MONOTONIC, &_t);\
    printf("%ld s %ld ms %s:%d: %s" " fmt " "\n", _t.tv_sec , _t.tv_nsec / 1000000, __func__, __LINE__, ##__VA_ARGS__);\
}while(0) 
```

采用：

```
 struct timespec timeval;
 print_line(timeval) ; 
```

# javascript - 单击按钮时动态添加和删除表行

> ID：14496267
> 
> 赞同：1
> 
> 时间：2013-01-24T07:48:18.063
> 
> 标签：javascript, html-table

我正在创建一个表单，它在单击按钮时添加了一个表格行，到目前为止它工作正常，但我希望在按钮单击生成的每一行旁边都有一个删除按钮，但不是在第一行。我搜索了很多博客，但没有任何人可以指导我这样做吗？我只是一个初学者。这是我的脚本：

```
<?php
session_start();
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<script language="javascript" type="text/javascript">
var i=1;
function addRow()
{
          var tbl = document.getElementById('table1');
          var lastRow = tbl.rows.length;
          var iteration = lastRow - 1;
          var row = tbl.insertRow(lastRow);

          var firstCell = row.insertCell(0);
          var el = document.createElement('input');
          el.type = 'text';
          el.name = 'name' + i;
          el.id = 'name' + i;
          el.size = 20;
          el.maxlength = 20;
          firstCell.appendChild(el);

          var secondCell = row.insertCell(1);
          var el2 = document.createElement('input');
          el2.type = 'text';
          el2.name = 'address' + i;
          el2.id = 'address' + i;
          el2.size = 20;
          el2.maxlength = 20;
          secondCell.appendChild(el2);

          var thirdCell = row.insertCell(2);
          var el3 = document.createElement('input');
          el3.type = 'text';
          el3.name = 'contactNum' + i;
          el3.id = 'contactNum' + i;
          el3.size = 20;
          el3.maxlength = 20;
          thirdCell.appendChild(el3);
         frm.h.value=i;
                  i++;

}
</script>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Untitled Document</title></head>

<body>
<form action="submit.php" method="post" name="frm" id="frm">
<table width="40%" border="2" cellpadding="0" cellspacing="0" id="table1">
  <tr>
    <td><strong>Name</strong></td>
    <td><strong>Address</strong> </td>
    <td><strong>Contact Num</strong> </td>
  </tr>
  <tr>
    <td><input name="name" type="text" id="name" size="20" maxlength="20" /></td>
    <td><input name="address" type="text" id="address" size="20" maxlength="20" /></td>
    <td><input name="contactNum" type="text" id="contactNum" size="20" maxlength="12" /></td>
  </tr>

</table>
<input type="button" value="Add" onclick="addRow();" />
<input name="Submit" type="submit" value="Submit" />
<label>
<input name="h" type="hidden" id="h" value="0" />
</label>
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:56:41.983

我认为您正在寻找[添加行](http://www.examplet.buss.hk/jquery/table.addrow.php)jquery 插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:55:37.023

您可以将[deleteRow() 方法](http://www.w3schools.com/jsref/met_table_deleterow.asp)与[rowIndex 属性](http://www.w3schools.com/jsref/prop_tablerow_rowindex.asp)一起使用。尝试对行中的按钮使用 onClick(this) 调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T07:59:09.440

最好尝试搜索数据表。他们可以直接使用。您也不需要编写更多代码。您还嵌入了许多其他功能。

# python - 从 Python 2.7.* 切换到 2.6.8 Mac Os X 10.8.2

> ID：14496270
> 
> 赞同：0
> 
> 时间：2013-01-24T07:48:21.783
> 
> 标签：python, unix, terminal, osx-mountain-lion

请记住，我对终端/Unix 并不太精通。

我最初安装了一些版本的python 2.7，现在需要运行旧版本（2.6.8）。到目前为止，在您的帮助下（加上大量的故障排除和可怕的删除 python2.7 等内容）。

最初我做了以下事情：

```
sudo rm -rf /Library/Frameworks/Python.framework/Versions/2.7

sudo rm -rf "/Applications/Python 2.7" 
```

然后尝试：

```
cd /usr/local/bin; 

ls -l . | grep '../Library/Frameworks/Python.framework/Versions/2.7' | awk '{print $9}' | xargs rm 
```

我以为我已尽一切努力卸载 2.7，然后`"./configure"`在 2.6.8 文件夹中运行，这似乎有效，除了：

当我输入`"python --version"`命令行并且它应该返回 Python 2.6.8 时，它会返回：

```
Python 2.7.2 
```

因此，我根据提供其他命令的同一页面中的信息删除/删除了一些似乎需要删除的其他文件，试图：

删除符号链接`/usr/local/bin`

（我确实知道哪些，并且可以根据需要提供该信息），现在它返回：

```
"python: posix_spawn: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: No such file or directory" 
```

这显然也不好。当我尝试从命令行运行 python 时，我得到了相同的响应。我该如何解决这个问题/让它寻找 2.6.8？

# sql - 谷歌地图 + 从 SQL Server 到当前位置附近的地方，带有半正弦公式

> ID：14496272
> 
> 赞同：1
> 
> 时间：2013-01-24T07:48:36.327
> 
> 标签：sql, sql-server, google-maps, google-maps-api-3

我正在尝试显示靠近当前地图位置的一般商店列表。

一切正常，但我刚刚意识到，无论我将地图平移到哪里，许多离当前地图位置不远的商店都会从我的 SQL Server 数据库中调用。

例子：

我在数据库中有一家位于德国的商店：

```
Venue        Venue_Lat       Venue_Lng
Bookstore    51.165712       10.451547 
```

我在我的存储过程 [GetNearbyLocations] 中使用 Haversine 公式来检索假定在当前位置 50 英里范围内的商店，假设我通过半径为 50 英里的 USA 的当前位置：

```
Radius: 50
USA Lat: 38.5554745
USA Lng: -95.6649999 
```

即使不在 50 英里半径范围内，德国的商店也会被调用。我理解并接受这些公式并非 100% 准确，但这是否常见？任何人都可以请对此提出建议。谢谢。

SProc 的一部分：

```
DECLARE @intMilesModifier int
SET @intMilesModifier = 3959

    SELECT .... some fields,
     [Venue_Lat],
     [Venue_Long],
    (@intMilesModifier*acos(cos(radians(@dmlLat))*cos(radians(Venue_Lat))*cos(radians(Venue_Long)-radians(@dmlLng))+sin(radians(@dmlLat))*sin(radians(Venue_Lat)))) AS distance
    FROM  [Stores] a 
    WHERE (@intMilesModifier*acos(cos(radians(@dmlLat))*cos(radians(Venue_Lat))*cos(radians(Venue_Long)-radians(@dmlLng))+sin(radians(@dmlLat))*sin(radians(Venue_Lat)))) < @Radius 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T11:44:25.210

此 PHP/MySQL PDO SQL 语句使用公式（6371 表示公里，3959 表示英里）

```
$stmt = $dbh->prepare("SELECT  name, lat, lng, ( 3959 * acos( cos( radians(?) ) * cos( radians( lat ) ) * cos( radians( lng ) - radians(?) ) + sin( radians(?) ) * sin( radians( lat ) ) ) ) AS distance FROM gbstn HAVING distance < ? ORDER BY distance LIMIT 0 , 20");
    // Assign parameters
    $stmt->bindParam(1,$center_lat);//coordinate of center
    $stmt->bindParam(2,$center_lng);//coordinate of center
    $stmt->bindParam(3,$center_lat);
    $stmt->bindParam(4,$radius); 
```

您需要修改它以适应

**编辑** 您的公式中有额外的计算。我已经编辑了我的声明以显示您应该拥有的内容。我删除了 [] 括号和`a`from `[Stores] a`，不需要别名，但由于我没有 SQL Server，所以无法运行查询。

```
"SELECT  Venue_Lat,Venue_Long,(@intMilesModifier * acos( cos( radians(@dmlLat) ) * cos( radians( Venue_Lat ) ) * cos( radians( Venue_Long ) - radians(@dmlLng) ) + sin( radians(@dmlLat) ) * sin( radians( Venue_Lat ) ) ) ) AS distance FROM Stores HAVING distance < @Radius ORDER BY distance LIMIT 0 , 20" 
```

# api - SugarSync API 获取用户信息：错误 401 未授权

> ID：14496280
> 
> 赞同：3
> 
> 时间：2013-01-24T07:49:38.403
> 
> 标签：api, winhttp

我正在尝试使用`WinHttp`函数获取对用户信息的请求。[此处引用了](https://www.sugarsync.com/developer?ref=/dev/api/resource-ref.html)REST API`SugarSync`调用。

我的代码如下：

```
DWORD dwBytesWritten = 0;
DWORD dwStatusCode = 0;
DWORD dwSize = sizeof(DWORD);
BOOL  bResults = FALSE;
string data;
HINTERNET hSession = NULL, 
hConnect = NULL,
hRequest = NULL;

WINHTTP_PROXY_INFO proxyInfo;
winhttpintObj.setProxyInfo(proxyInfo);

HINTERNET hSession = WinHttpOpen(  L"A WinHTTP Example Program/1.0", 
                                   WINHTTP_ACCESS_TYPE_DEFAULT_PROXY,
                                   WINHTTP_NO_PROXY_NAME, 
                                   WINHTTP_NO_PROXY_BYPASS, 0);

HINTERNET hConnect = WinHttpConnect( hSession, L"api.sugarsync.com",   
                                     INTERNET_DEFAULT_HTTPS_PORT, 0);

HINTERNET hRequest = WinHttpOpenRequest( hConnect, 
                                         L"GET", L"/user/<userID>", 
                                         NULL, 
                                         WINHTTP_NO_REFERER, 
                                         0, 
                                         WINHTTP_FLAG_SECURE);

string header("Authorization: ");
header += (accessToken);
header += "\n";
wstring ws = wstring(header.begin(), header.end());
WinHttpAddRequestHeaders( hRequest, ws.c_str(), (ULONG)-1L, WINHTTP_ADDREQ_FLAG_ADD );

WinHttpSendRequest( hRequest,
                    WINHTTP_NO_ADDITIONAL_HEADERS,
                    0,
                    WINHTTP_NO_REQUEST_DATA,
                    0, 
                    0, 
                    0 );

WinHttpReceiveResponse( hRequest, NULL);

WinHttpQueryHeaders( hRequest, 
                     WINHTTP_QUERY_STATUS_CODE |
                     WINHTTP_QUERY_FLAG_NUMBER,
                     NULL, 
                     &dwStatusCode, 
                     &dwSize, 
                     NULL );

cout << "dwStatusCode: " << dwStatusCode << endl; 
```

`accessToken`是`https://api.sugarsync.com/authorization/......`。_ 返回的状态码是`401: Authorization required`。但是，我已经在标题中指定了它。我可以知道问题发生在哪里以及解决问题的可能方法是什么？谢谢你。

# objective-c - 图像在设备上不可见，但出现在模拟器上

> ID：14496281
> 
> 赞同：0
> 
> 时间：2013-01-24T07:49:39.353
> 
> 标签：objective-c

在我的应用程序中，我为分段控制设置了自定义图像。图像在模拟器上显示得很好，但在设备上却没有。我检查了所有可能的方法，并尝试了之前针对这个问题的回答，这些问题与我现在遇到的问题相同。但我仍然无法找到确切的解决方案。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:57:10.627

您是否尝试删除/读取图像？据我所知，模拟器有自己的缓存，如果图像以某种方式被删除，这可能就是它出现的原因。

你可以试试：

1.  从 xcode 中删除图像，然后重新添加它
2.  进行干净的构建
3.  从“捆绑资源”中删除图像（参见：[https](https://stackoverflow.com/a/12741872/936957) : //stackoverflow.com/a/12741872/936957）并阅读它
4.  退出/重新启动 xcode

其中一个应该有帮助

# ruby - 数组的 attr_writer

> ID：14496283
> 
> 赞同：1
> 
> 时间：2013-01-24T07:49:46.557
> 
> 标签：ruby

我对 Ruby 的 attr_writer 感到困惑。我正在尝试在数组中添加一个值，但遇到以下错误：

> 第 13 行：# (NoMethodError) 的未定义方法 `test'

```
class Pet
  attr_writer :test
  def initialize()
    @test = []
  end
end

pet = Pet.new()
pet.test << "Test was a pet" 
```

为什么？据我了解， attr_writer 相当于一个 setter 方法。请解释。谢谢你。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T07:51:59.867

是的，`attr_writer`定义了一个 setter 方法。但是您的代码尝试使用吸气剂

```
pet.test << "Test was a pet" 
```

这是红宝石的看法（或多或少）

```
t = pet.test
t << "Test was a pet" 
```

如果您实际设置了一个数组，它将起作用

```
pet.test = ['Test was a pet'] 
```

*附带说明：我个人认为只写属性是一种代码味道。这里可能有问题。在我的职业生涯中，我从未使用过只写属性。*

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-24T08:01:31.150

最好的方法是使用[attr_accessor](http://www.ruby-doc.org/core-1.9.3/Module.html#method-i-attr_accessor)方法。这样，您就可以使用一行代码定义 setter 和 getter 变量。使用访问器方法，您可以检索定义的实例变量值或设置另一个值。

在您的代码中，即使您将方法定义为 setter，您也尝试初始化 getter 方法。

```
attr_accessor :test
...
print pet.test << "Test was a pet" # => ["Test was a pet"] 
```

# ruby-on-rails - 如何对获取的记录进行编号？

> ID：14496285
> 
> 赞同：2
> 
> 时间：2013-01-24T07:49:54.053
> 
> 标签：ruby-on-rails, ruby-on-rails-3, pagination, kaminari

此代码获取 10 条最新记录

```
@comments = @topic.comment_threads.order("created_at DESC").page(params[:page]).per(10) 
```

我想对获取的记录进行编号。
因为它是 desc 顺序，所以它会是这样的

```
"Displaying comments 1 - 10 of 18 in total 

No. 18 Hi
No. 17 Hello
No. 16 Hola
No. 15 Howdy
No. 14 What's up
No. 13 Hi there
No. 12 Yo
No. 11 Oh
No. 10 Ah
No.  9 Eeeee 
```

我怎样才能在视图中获得这个编号？它应该是这样的

```
<%= "No. " + ????????????? %> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T07:53:41.337

采用**`each_with_index`**

```
@comments.each_with_index.map {|comment, index| "No #{index} #{comment}"} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:25:36.633

**更新2：**

用于**下降**

```
<% params[:page] = params[:page].blank? ? 1 : params[:page]%>
<% total = @comments.total_count - ((params[:page].to_i-1)*10)+1 %>
<% @comments.each do |comment| %>
   <%= "No. #{total-=1} #{comment}" %>
<% end %> 
```

用于**上升**

```
<% params[:page] = params[:page].blank? ? 1 : params[:page]%>
<% i = ((params[:page].to_i-1)*10)+1 %>
<% @comments.each do |comment| %>
   <%= "No. #{i+=1} #{comment}" %>
<% end %> 
```

# c# - 如何初始化泛型类的列表

> ID：14496287
> 
> 赞同：1
> 
> 时间：2013-01-24T07:50:05.850
> 
> 标签：c#, .net, list, generics

我有一个通用类

```
public class MetadataDifference<T>
{
    public T NewMetadata { get; private set; }
    public T OldMetadata { get; private set; }
    // Other useful properties

    public MetadataDifference(T newMetadata, T oldMetadata)
    {
        NewMetadata = newMetadata;
        OldMetadata = oldMetadata;
    }
} 
```

我有一个包装类，它有一个 MetadataDifference<> 列表作为属性。

这不起作用：

> 找不到类型或命名空间名称“T”

代码：

```
public class DifferencesResult
{
    public IEnumerable<MetadataDifference<T>> MetadataChanges { get; set; }

    // other fields
} 
```

如何初始化通用对象的列表？可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:52:04.910

任一封闭类型都必须以通用方式打开：

```
public class DifferencesResult<T>
{
    public IEnumerable<MetadataDifference<T>> MetadataChanges { get; set; }

    // other fields
} 
```

或者你应该使用方法而不是属性：

```
public class DifferencesResult
{
    public IEnumerable<MetadataDifference<T>> GetMetadataChanges<T>();
    private void SetMetadataChanges<T>(IEnumerable<MetadataDifference<T>> value)

    // other fields
} 
```

在 C# 中，您不能在非泛型类中保存泛型属性。这取决于你想要达到什么结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T07:51:12.173

这里应该使用封闭类型，例如：

```
public class DifferencesResult
{
    public IEnumerable<MetadataDifference<string>> MetadataChanges { get; set; }

    // other fields
} 
```

因为您不能在非泛型类中拥有泛型属性。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T07:53:19.303

您可以关闭它：

```
public class DifferencesResult
{
    public IEnumerable<MetadataDifference<{sometype}>> MetadataChanges { get; set; }

    // other fields
} 
```

或使用`dynamic`：

```
public class DifferencesResult
{
    public IEnumerable<MetadataDifference<dynamic>> MetadataChanges { get; set; }

    // other fields
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-25T04:56:13.450

定义一个没有任何泛型类型的接口，该接口`MetadataDifference`实现提供对底层对象的无类型访问：

```
public interface IMetadataDifference
{
    object NewMetadata { get; }
    object OldMetadata { get; }
}

public interface IMetadataDifference<out T> : IMetadataDifference
{
    new T NewMetadata { get; }
    new T OldMetadata { get; }
}

public class MetadataDifference<T> : IMetadataDifference<T>
{
    object IMetadataDifference.NewMetadata { get { return NewMetadata; } }
    object IMetadataDifference.OldMetadata { get { return OldMetadata; } }

    public T NewMetadata { get; private set; }
    public T OldMetadata { get; private set; }
    // Other useful properties

    public MetadataDifference(T newMetadata, T oldMetadata)
    {
        NewMetadata = newMetadata;
        OldMetadata = oldMetadata;
    }
}

public class DifferencesResult
{
    public IEnumerable<IMetadataDifference> MetadataChanges { get; set; }

    // other fields
} 
```

# jquery - Google map api v3，如何平滑放大/缩小

> ID：14496290
> 
> 赞同：1
> 
> 时间：2013-01-24T07:50:13.560
> 
> 标签：jquery, google-maps-api-3, map

我的问题是放大/缩小行为。这不像[https://maps.google.com/](https://maps.google.com/)那样流畅，这是我的地图的网址： http: [//store.elegantways.com/store-locator.html](http://store.elegantways.com/store-locator.html)。

我在 div 中加载地图。有人能解决这个问题吗？

# plugins - 如何在客户端浏览器端找到Itune软件安装？

> ID：14496295
> 
> 赞同：0
> 
> 时间：2013-01-24T07:50:41.220
> 
> 标签：plugins, browser

我有一个带有 url “itms://itunes.apple.com/us/app/movietickets-com-showtimes/id402114309?mt=8”的锚标签。如果客户端系统没有 Itune 软件，那么浏览器没有打开页面。

有没有办法知道用户是否安装了 Itune 软件。

提前致谢。

笔记：

> 如果你去 [https://itunes.apple.com/us/app/movietickets-com-showtimes/id402114309?mt=8](https://itunes.apple.com/us/app/movietickets-com-showtimes/id402114309?mt=8)
> 
> 在这里你可以找到或检查“在 itune 中查看”按钮。在那里你可以看到一些 javascript 来检测它。但我不知道他们在做什么！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:00:32.117

苹果已经有代码来检测是否安装了 iTunes，你可以在这里找到他们的代码：http: [//ax.itunes.apple.com/detection/itmsCheck.js](http://ax.itunes.apple.com/detection/itmsCheck.js)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T12:27:13.180

终于有办法了

从以下网站[https://itunes.apple.com/us/app/movietickets.com-showtimes/id402114309?mt=8](https://itunes.apple.com/us/app/movietickets.com-showtimes/id402114309?mt=8)

你需要拿两个js文件。（它包含一些额外的 javascript 和 jquery - 如果您知道不再需要它们，您可以删除它们）

1.  [https://itunes.apple.com/htmlResources/99EF/web-storefront-base.js](https://itunes.apple.com/htmlResources/99EF/web-storefront-base.js)
2.  [https://itunes.apple.com/htmlResources/99EF/web-storefront-preview.js](https://itunes.apple.com/htmlResources/99EF/web-storefront-preview.js)

您需要将以下代码添加到您的页面 html 中，

“”

最后，每当您想检查插件时，只需调用

```
if (its.detect.itunesDetected()) 
{
      //Your code if plugin installed
}
else
{
       //Your code if plugin not installed
} 
```

# iphone - 使用iphone在wcf中传递参数

> ID：14496297
> 
> 赞同：1
> 
> 时间：2013-01-24T07:50:46.183
> 
> 标签：iphone, ios, ipad

我正在将一些参数传递给 wcf 服务以获取数据，一切都运行良好，但我没有获取数据。我想检查参数如何调用服务并对其进行调试。任何人都可以让我知道如何检查它。请在下面找到我的代码供您参考。

```
NSArray *propertyNames = [NSArray arrayWithObjects:@"studentID",  nil];
    NSArray *propertyValues = [NSArray arrayWithObjects:@"E6A83233-7D7F-49AF-B54E-375BBF3E3E59", nil];

    NSDictionary *properties = [NSDictionary dictionaryWithObjects:propertyValues forKeys:propertyNames];
   // NSMutableDictionary* personObject = [NSMutableDictionary dictionary];
  // [personObject setObject:properties forKey:@"person"];
    NSMutableArray  * arr;
    //[arr addObject: personObject];
    arr=[[NSMutableArray alloc]initWithObjects:properties, nil];
    NSLog(@"%@",arr);
   // NSString *jsonString = [personObject JSONRepresentation];
    //NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
    NSError * error;
    NSData *jsonData2 = [NSJSONSerialization dataWithJSONObject:arr options:NSJSONWritingPrettyPrinted error:&error];

    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http://parentportal.technologyorg.com/parentportal.svc/GetSchoolEvents"]];
    NSString *jsonString = [[NSString alloc] initWithData:jsonData2 encoding:NSUTF8StringEncoding];
    [request setValue:jsonString forHTTPHeaderField:@"json"];
    [request setHTTPMethod:@"Post"];
    [request setHTTPBody:jsonData2];
    NSLog(@"JSON String: %@",jsonString);
    NSError *errorReturned = nil;
    NSURLResponse *theResponse =[[NSURLResponse alloc]init];
    NSData *data = [NSURLConnection sendSynchronousRequest:request returningResponse:&theResponse error:&errorReturned];
    if (errorReturned) {
        //...handle the error
        NSLog(@"error");
    }
    else {
        NSString *retVal = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];
        //...do something with the returned value

        NSLog(@"RETVAL%@",retVal);
    } 
```

让我知道是否有任何问题

# c# - 如何从一个函数返回 2 个值

> ID：14496304
> 
> 赞同：20
> 
> 时间：2013-01-24T07:51:15.413
> 
> 标签：c#

我有一个计算两个位置的函数，我想同时获得它们，有没有办法从同一个函数返回两个值，而不会将它们变成一个数组。我认为一些有争议的东西或类似的东西...... tnx。这是我的代码：

```
public static int Location(int p_1, int p_2, int p_3, int p_4)
{
  int  XLocation = p_2 - p_1;
  int YLocation = p_4-p_3;
  return XLocation,YLocation;
}

public void Print()
{
} 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-01-24T08:03:31.793

有多种方法：

1）用途：

```
public KeyValuePair<int, int> Location(int p_1, int p_2, int p_3, int p_4)
{                 
    return new KeyValuePair<int,int>(p_2 - p_1, p_4-p_3);
} 
```

或者

```
static Tuple<int, int> Location(int p_1, int p_2, int p_3, int p_4)
{
    return new Tuple<int, int>(p_2 - p_1, p_4-p_3);
} 
```

2）使用自定义类，如`Point`

```
public class Point
{
    public int XLocation { get; set; }
    public int YLocation { get; set; }
}

public static Point Location(int p_1, int p_2, int p_3, int p_4) 
{    
     return new Point 
     {
        XLocation  = p_2 - p_1;
        YLocation = p_4 - p_3;
     }      
 } 
```

3）使用`out`关键字：

```
 public static int Location(int p_1, int p_2, int p_3, int p_4, out int XLocation, out int YLocation)
   {
        XLocation = p_2 - p_1;    
        YLocation = p_4 - p_3;
   } 
```

以下是这些方法的比较：[multiple-return-values](http://www.dotnetperls.com/multiple-return-values)。

**最快的方式（最佳性能）是：**

```
public KeyValuePair<int, int> Location(int p_1, int p_2, int p_3, int p_4)
{                 
    return new KeyValuePair<int,int>(p_2 - p_1, p_4-p_3);
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-24T07:54:12.507

使用结构或类：

```
public struct Coordinates
{
    public readonly int x;
    public readonly int y;

    public Coordinates (int _x, int _y) 
    {
        x = _x;
        y = _y;
    }
}

public static Coordinates Location(int p_1, int p_2, int p_3, int p_4) 
{
    return new Coordinates(p_2 - p_1, p_4 - p_3);
} 
```

我觉得它比使用`out`关键字更漂亮。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-01-24T07:52:40.160

您不能以这种方式返回 2 个值。但是您可以将变量作为输出变量传递，如下所示：

```
 public static void Location(int p_1, int p_2, int p_3, int p_4, out int XLocation, out int YLocation)
{
    XLocation = p_2 - p_1;

    YLocation = p_4-p_3;
} 
```

然后你只需要将目标变量传递给方法：

```
int Xlocation, YLocation;
Location(int p_1, int p_2, int p_3, int p_4, out int XLocation, out int YLocation); 
```

它将用计算值填充它们。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-08-27T16:27:30.167

从 C# 7.0 开始，您可以像这样使用元组：

```
(string, string) LookupName(long id) // tuple return type
{
    ... // retrieve first, middle and last from data storage
    return (first, last); // tuple literal
}

var names = LookupName(id);
WriteLine($"found {names.Item1} {names.Item2}."); 
```

甚至有名字：

```
(string first, string middle, string last) LookupName(long id)

var names = LookupName(id);
WriteLine($"found {names.first} {names.last}."); 
```

> 更多信息可以在[这里](https://blogs.msdn.microsoft.com/dotnet/2016/08/24/whats-new-in-csharp-7-0/)找到。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-01-24T07:59:19.737

运算符'return'不可能返回两个值。您可以将以下代码与“结构”一起使用：

```
public static Position Location(int p_1, int p_2, int p_3, int p_4)
{

Position location;
location.xLocation = p_2 - p_1;
location.yLocation =p_4-p_3;;

return location;
}

public struct Position
{
public int xLocation;
public int yLocation;
} 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-01-24T08:00:17.900

您可以使用输出、坐标结构或元组。

使用元组：

```
public Tuple<int, int> GetLocation()
{
     return new Tuple<int,int>(1,2);
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-01-24T08:01:25.647

如果您使用的是 windows 窗体，则可以使用`Point`struct；

```
public static Point Location(Point p1, Point p2)
{
    return new Point(p2.X - p1.X, p2.Y - p1.Y);
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-01-24T07:59:36.050

如果方法不是公共合同的一部分，我更喜欢使用[元组](http://msdn.microsoft.com/en-us/library/system.tuple.aspx)：

```
private Tuple<int, string> Foo()
{
  // ...
} 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-01-24T17:53:25.470

您可以使用 a`Tuple<T1, T2>`或使用 out 参数。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-01-24T08:37:08.603

**使用数组列表**

```
public ArrayList Location(int p_1, int p_2, int p_3, int p_4)
{
 ArrayList ar = new ArrayList();
 ar.AddRange(new string[] { "", "" });  
 int  XLocation = p_2 - p_1;
 int YLocation = p_4-p_3;
 ar[0] = XLocation.ToString(); 
 ar[1] = YLocation.ToString(); 
 return ar;
 } 
```

# linq - Linq GroupBy 多个字段

> ID：14496308
> 
> 赞同：0
> 
> 时间：2013-01-24T07:51:25.963
> 
> 标签：linq, group-by

我在列表中有以下项目：

```
Date          Amount    AnId     AnotherId    MainDate
2013/01/10    1000      1        5            2013/01/12
2013/01/11    2000      2        5            2013/01/12
2013/01/15    4000      1        5            2013/01/12 
```

我想使用 linq 返回以下内容：

```
Date          Amount    AnId     AnotherId    MainDate
2013/01/11    2000      2        5            2013/01/12
2013/01/15    4000      1        5            2013/01/12 
```

即对于特定的，我只想要在和`MainDate`之间唯一的最新项目。因此，2013/01/10 上的项目被删除，因为有一个相同的项目，并且日期晚于项目日期......`AnId``anotherId``MainDate``AnId``AnotherId`

我一直在尝试*Group By* `MainDate`和*Then By* `AnId`和*OrderByDescending*`AnotherId` ，然后为每个组选择第一个项目，但对 linq 不太了解，所以我很挣扎......

 ** * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:02:07.557

`anonymous`在点表示法中使用与查询表达式中相同的类型：

```
var qry = cust.GroupBy(cm => new { cm.MainDate, cm.AnId ,  cm.AnotherId }) 
```

请参阅：
[如何在 LINQ 中按多列分组？](http://social.msdn.microsoft.com/Forums/en/linqprojectgeneral/thread/53d37800-0f96-4dac-a721-dad97fcdd7f2)
[LINQ 按多个字段分组 - 语法帮助](https://stackoverflow.com/questions/1869001/linq-group-by-multiple-fields-syntax-help)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:01:30.690

使用 lambda 表达式，您可以编写

```
.GroupBy(e=>new { MainDate = e.MainDate, Id = e.AnId}) 
```*

# regex - 正则表达式空格后跟特殊字符

> ID：14496309
> 
> 赞同：0
> 
> 时间：2013-01-24T07:51:30.473
> 
> 标签：regex

嘿伙计们，我以为我已经锁定了这个，但测试证明并非如此。

我需要一个正则表达式，它只匹配一个空格，后跟一个 @ 符号

IE。'@'

目前我的正则表达式

```
str.match(/[\s\@](.+)$/) 
```

如果字符串中的任何位置有空格和@，则返回 true

**不**匹配 'asd asd@' 的示例

**应该**匹配“asd @asd”的示例

我被卡住了，感谢帮助：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:52:49.473

为什么不简单地使用

```
str.match(/\s@/) 
```

# javascript - 如何获取某个日期范围内存在的一周中的天数列表（Javascript）

> ID：14496310
> 
> 赞同：1
> 
> 时间：2013-01-24T07:51:36.990
> 
> 标签：javascript

您好，我需要在某个日期范围内定义现有日期。我不会从开始到结束日期进行循环并像这里一样使用[http://www.w3schools.com/jsref/jsref_getday.asp](http://www.w3schools.com/jsref/jsref_getday.asp) 是否可以通过某种方式计算它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:52:10.490

```
function getDays(earlierDate, laterDate) {
  var dayNames = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
  var elapsedDays = (laterDate - earlierDate) / 1000 / 60 / 60 / 24;
  if (elapsedDays < 7) {
    var dayArray = [];
    for (i = 0; i <= elapsedDays; i++) {
        dayArray.push(dayNames[(earlierDate.getDay()+i) % 7]);
    }
    return dayArray;
  }
  return dayNames;
} 
```

并在 js 控制台中进行测试：

```
> getDays(new Date("03-01-2012"), new Date("03-01-2012"));
["Thursday"]
> getDays(new Date("03-01-2012"), new Date("03-05-2012"));
["Thursday", "Friday", "Saturday", "Sunday", "Monday"]
> getDays(new Date("03-01-2012"), new Date("03-05-2013"));
["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:49:30.010

```
 var sevenDaysInMS = 604800000;
    if (new Date(dTo - dFrom).getTime() >= sevenDaysInMS) {
        $('.day_hid').attr(attrUnaviableDay, "true");
    } else {
        var dt = dFrom;
        do {
            var day = dt.getDay();
            ActivateDaySelector(day);
            dt.setDate(dt.getDate() + 1);
        } while (dt <= dTo);
    } 
```

我认为没关系。你怎么看 ？

# app-store-connect - 您的应用版本已被拒绝元数据。请更正问题并重新提交新的元数据

> ID：14496311
> 
> 赞同：0
> 
> 时间：2013-01-24T07:51:39.137
> 
> 标签：app-store-connect, appstore-approval

您的应用版本已被拒绝元数据。请更正问题并重新提交新的元数据。

是什么导致了这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-05T05:19:31.860

如果您的应用程序被拒绝，您可以通过单击您最近提交的应用程序版本中的**查看详细信息按钮来查找原因。**然后单击位于右上角的“**解决中心”按钮。**在那里你会发现苹果发布的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:05:24.583

如果正确，请在 iTunes Connect 上检查您的应用程序元数据。

更多详情，请查看 [Does ios app Metadata denied mean binary is good](https://stackoverflow.com/questions/10936300/does-ios-app-metadata-rejected-means-binary-is-good)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-14T08:12:48.473

朋友们
不确定这会有所帮助
，但这是描述更好的链接
[https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa/da/rejectionReasons?adamId=774935608](https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa/da/rejectionReasons?adamId=774935608)

# java - 在 Java 中从文件错误加载？

> ID：14496314
> 
> 赞同：-1
> 
> 时间：2013-01-24T07:51:45.707
> 
> 标签：java, file, arraylist, objectinputstream, readfile

我必须为 java 项目实现对象文件，但是在加载文件时遇到问题（保存一切正常）

```
public static void loadStudentList() {
    boolean endOfFile = false;

    try {
        // create a FileInputStream object, studentFile
        FileInputStream studentFile = new FileInputStream("Students.obf");
        // create am ObjectImnputStream object to wrap around studentStream
        ObjectInputStream studentStream = new ObjectInputStream(studentFile) ;

        // read the first (whole) object with the readObject method
        Student tempStudent = (Student) studentStream.readObject();
        while (endOfFile != true) {
            try {
                tempStudent = (Student) studentStream.readObject();
                stud1.add(tempStudent);
            }
            catch(EOFException e) {
                endOfFile = true;
            }
        }
        studentStream.close();
        //use the fact that the readObject throws an EOFException to check whether the end of eth file has been reached
    }
    catch(FileNotFoundException e) {
        System.out.println("File not found");
    }

    catch(ClassNotFoundException e) {  // thrown by readObject
    /* which indicates that the object just read does not correspond to any class
known to the program */
        System.out.println("Trying to read an object of an unkonown class");
    }
    catch(StreamCorruptedException e) { //thrown by constructor
    // which indicates that the input stream given to it was not produced by an ObjectOutputStream object
        System.out.println("Unreadable File Format");
    }
    catch(IOException e) {
        System.out.println("There was a problem reading the file");
    }
} 
```

这是我用来加载文件的代码。该程序将**仅**加载我文件中的最后 2 条记录。想法是我将它们全部加载到一个数组列表中，以备将来在程序中使用。我也没有得到任何我的收获。有什么帮助吗？谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:56:23.367

为什么不将对象添加到`ArrayList<Type>`然后将它们写入/序列化到文件中，然后为了读取/反序列化它，将数据读入一个`ArrayList<Type>`.

然后你可以从 ArrayList 中一一获取你的对象

这可能是一种更简单的无故障方式。

```
 //Serialize
  ArrayList<Student> students = new ArrayList<Student>();
  //Add the student objects to the array list
  File f = new File("FileName.ser");
  ObjectOutputStream objOut = new ObjectOutputStream(new FileOutputStream(f));
  objOut.writeObject(students);

   //Deserialize
   ArrayList<Student> students = new ArrayList<Student>();
   ObjectInputStream objIn = new ObjectInputStream(new FileInputStream(new File("FileName.ser")));
   students = (ArrayList<String>) objIn.readObject(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:00:33.027

您永远不会将您阅读的第一个学生添加到列表中

```
Student tempStudent = (Student) studentStream.readObject();
         while (endOfFile != true)
        {
            try
            {

                 tempStudent = (Student) studentStream.readObject();
                 stud1.add(tempStudent);
            } 
```

删除while之前的读取，如下面的代码

```
 while (endOfFile != true)
    {
        try
        {

             Student tempStudent = (Student) studentStream.readObject();
             stud1.add(tempStudent);
        } 
```

我不确定这是否能解决您的问题

# apache-camel - 并发消费者可以在 Camel 中共享数据的任何简单方法？

> ID：14496315
> 
> 赞同：0
> 
> 时间：2013-01-24T07:51:47.140
> 
> 标签：apache-camel

我们有一个典型的场景，我们必须对一组克隆的消费者应用程序进行负载平衡，每个应用程序都在不同的物理服务器上运行。在这里，我们应该能够动态添加更多服务器以实现可扩展性。

我们正在考虑在这里使用循环负载平衡。但是我们不希望服务器中长时间运行的作业导致消息在其队列中等待消费。

为了解决这个问题，我们考虑为每个服务器应用程序配置 2 个并发消费者。当一个线程处理了一条较旧的消息并且有一条新消息到达时，后者将被第二个线程从队列中消费。在处理新消息时，第二个线程必须检查线程共享的类（全局）变量。如果为“ON”，则可以假定一个线程处于活动状态（即作业已经在进行中）。在这种情况下，它将消息重新路由回其源队列。但是如果类变量是'OFF'，它可以用消息数据开始工作。

这些作业本身就是重量级的，因此我们希望一次只处理一个作业。这就是为什么如果另一个线程处于活动状态，第二个线程会重新路由消息。

所以，问题是“并发消费者可以在 Camel 中共享数据的任何简单方法吗？”。或者，我们可以用完全不同的方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:50:45.780

对于像 ActiveMQ 这样的 JMS 代理，您应该能够简单地在同一个队列上使用并发侦听器。它应该进行循环，但仅适用于空闲的消费者。所以基本上这应该可以工作。最终，您必须将预取大小设置为 1，因为预取可能会导致消费者获取消息，即使长时间运行的进程会阻止它们。

# android - 如何在android中处理数据

> ID：14496316
> 
> 赞同：2
> 
> 时间：2013-01-24T07:51:49.810
> 
> 标签：android, sql, xml, database

我正在开发一个自测应用程序。我想知道如何存储数据，我有 200 多个问题，还有更多问题正在处理中。正在考虑将它们存储为 XML，但没有找到一种在不将整个字符串数组读取到变量的情况下获得随机问题的方法，这对内存不利。所以正确的方法是使用 SQL 数据库，对吗？

但是我如何制作这样一个数据库，以便它在启动时存在并且不需要在启动期间创建？似乎找不到任何关于这个主题的教程，关于如何处理问卷。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:00:05.367

[这是关于SQLite 和 Content Provider](http://www.vogella.com/articles/AndroidSQLite/article.html)的一个很好的教程。它将向您介绍如何在 Android 上使用 SQL 数据库，并将它们包装成`ContentProvider`.

至于如何将数据获取到设备 - 您有两种选择：

*   您将 SQLite`.db`文件打包到应用程序`assets`文件夹中。**优点**：数据库已准备好在应用程序的第一次运行时使用。**缺点**：您的 .apk 太大。更新很难。
*   您在第一次运行时下载数据。**优点**：你的 .apk 很苗条。更新很容易**缺点**：用户可以使用该应用程序之前存在延迟。
*   `.db`您发送一个包含前 10 个问题的小文件。**优点**：您的用户可以立即开始使用该应用程序，而您在后台下载其余问题。**缺点**：您必须选择 10 个您可能永远不会或很少更改的问题，否则您的应用程序可能会从过时的数据开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:58:02.423

离线创建数据库并将其放入 apk 或下载。

# android - ArrayList 对象覆盖 ListView 行

> ID：14496319
> 
> 赞同：0
> 
> 时间：2013-01-24T07:52:02.267
> 
> 标签：android, listview

我有一个列出蓝牙设备的列表视图，但是每次发现蓝牙设备时，列表视图行都会被覆盖。我正在使用 fetch.clear() 方法清除 arraylist 对象，以避免同一蓝牙设备的多个条目。将 fetch.clear() 方法放在其他任何地方都会创建同一蓝牙设备的多个条目。如何停止覆盖列表视图中的同一行？

```
 ArrayList<Custom> fetch = new ArrayList<Custom>();

         btOnOff.setOnClickListener(new OnClickListener() {
    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        if(btOnOff.isChecked()){

            btAdapter.startDiscovery();
            setProgressBarIndeterminateVisibility(true);

                bcReceiver = new BroadcastReceiver() {
                    @Override
                    public void onReceive(Context context, Intent intent) {
                        // TODO Auto-generated method stub
                        String action = intent.getAction();
                        if(BluetoothDevice.ACTION_FOUND.equals(action)){
                            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);

                            deviceName = device.getName();
                            currentDateTime = DateFormat.getDateTimeInstance().format(new Date());

                            fetch.clear(); //clear arraylist object
                            Custom data = new Custom(deviceName, currentDateTime);
                            fetch.add(data);

                            lv.setAdapter(cAdapter);

                        }else if(btAdapter.ACTION_DISCOVERY_FINISHED.equals(action)){
                            btAdapter.startDiscovery();
                        }
                    }
                };
                IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);
                registerReceiver(bcReceiver, filter);
        } else {
            btAdapter.cancelDiscovery();
        }
    }

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:56:40.800

使用两个列表 - 一个发送到适配器，一个在每次发现时填写。发现完成后，切换它们。这样，每次发现它只会更新一次。

# sql-server - 在 Sql server 中获取未知位置的总和？

> ID：14496321
> 
> 赞同：0
> 
> 时间：2013-01-24T07:52:05.840
> 
> 标签：sql-server, sql-server-2008

有一个`insurance policy`和这个政策可以支付`1-3 agents`。

![在此处输入图像描述](../Images/16c057ca870f54d05ee38994f58fab8a.png)

第 #1 行）例如：对于策略 ID ， **ID**为`1`的代理，已付费**`100``123`**

 **line #3 ) 例如：对于 policy Id `3`，一个**ID**是`999`,paid的`741`代理，以及另一个 ID 是`100`payed的代理`874`

*（表示`not`应该如何正确完成，但我如何将其作为事实）。*

我怎样才能知道代理ID**总共**`100`支付了多少？(123+541+874+557+471+552)

 ***我有一个非常丑陋的工会解决方案。*

**[SQL 在线](https://data.stackexchange.com/stackoverflow/query/edit/93494)**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T07:54:42.533

在一个规范化的模型中，这是一个简单的查询。您可以在 CTE 查询中“规范化”，然后求和：

```
with cte as (
  select agent1id as id, agent1sum as s
  from insurance where agent1id is not null
 union all
  select agent2id as id, agent2sum as s
  from insurance where agent2id is not null
 union all
  select agent3id as id, agent3sum as s
  from insurance where agent3id is not null
)
select sum( s)
  from cte
 where id = 100 
```

如果您的表包含代理列的索引，这是一个友好的索引近似值。友好的索引查询避免了全表扫描。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T07:55:29.367

好像

```
SUM(
   CASE WHEN agent1id=100 THEN agent1sum ELSE 0 END +
   CASE WHEN agent2id=100 THEN agent2sum ELSE 0 END +
   CASE WHEN agent3id=100 THEN agent3sum ELSE 0 END) 
```

应该正确地聚合它。如果您需要为所有代理执行此操作，我会在此查询之前使用代理表或使用 CTE 来获取不同的代理 ID，然后替换上面的 100。****

# jquery - 如何解析来自 Facebook 提要 (JSON) 的日期返回

> ID：14496324
> 
> 赞同：-1
> 
> 时间：2013-01-24T07:52:34.280
> 
> 标签：jquery, facebook-graph-api, datetime

我正在调用以下内容：

`https://graph.facebook.com/ZZZZ/feed?access_token=ZZZZZ&limit=4&`

返回的 JSON 包括

`created_time": "2012-12-13T04:14:29+0000"`

如何解析返回的日期并将其格式化为更友好的格式？（即 3 月 3 日星期二下午 3 点）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T07:53:55.043

尝试

```
var ms = Date.parse("2012-12-13T04:14:29+0000"); 
```

它将为您提供自 1970 年 1 月 1 日午夜以来的毫秒数。

如果你想要一个日期对象，你可以把输出放在`Date`构造函数中，像这样：

```
var ms = Date.parse("2012-12-13T04:14:29+0000");
var date = new Date(ms); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T21:32:33.320

最好的解决方案是使用[moment.js](http://momentjs.com)库并像这样解析

```
 var date_parsed  = moment(fb.created_time, "YYYY-MM-DD hh:mm Z");
    var date_display = a.format("MMM Do YYYY, h:mm a"); 
```

# r - R list.files() 中的自然排序顺序（人类排序顺序）

> ID：14496325
> 
> 赞同：6
> 
> 时间：2013-01-24T07:52:37.940
> 
> 标签：r, natural-sort

有没有一种简单的方法可以按自然顺序（也称为人为顺序）对文件进行排序，即 file9.csv 在 file10.csv 之前？list.files() 似乎没有排序顺序选项。

有很多其他语言的实现（例如[here](http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html)），而[Rosetta Code](http://rosettacode.org/wiki/Natural_sorting)只有C、Perl、Python等的解决方案。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T08:38:38.857

“人类分类”是疯子的错觉，仅在假设的 AI 系统上可用，但只有在具有适当的上下文知识时才可用。

为此，您应该使用一些快速的正则表达式从文件名中提取元数据并使用它们对文件进行排序：

```
files<-c("file9.txt","file10.txt");
as.numeric(gsub('^file([0123456789]*)\\.txt$','\\1',files))->fileNum;
files[order(fileNum)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T07:56:53.543

您可以尝试将其命名为 file09.csv ...

```
filenames <- paste0("file", 0:20, ".txt")
new_filenames <- sub("file([[:digit:]])\\.txt", "file0\\1\\.txt", filenames)
is_different <- new_filenames != filenames
file.rename(filenames[is_different], new_filenames[is_different]) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-05T22:52:07.987

[正如@baptiste](https://stackoverflow.com/users/471093/baptiste)在评论中指出的那样，您可以使用`mixedsort()`or `mixedorder()`from package 。`gtools`

# android - Android中---Gmail OAuthentication 打不开Gmail登录页面

> ID：14496326
> 
> 赞同：0
> 
> 时间：2013-01-24T07:52:40.020
> 
> 标签：android

在 Android 中，我如何使用 Gmail OAuthentication。我从 github svn 导入示例代码，但未打开 gmail 登录页面。

[Svn Rep](https://github.com/ddewaele/AndroidOAuthFlowSample.git) （我还添加了3个jar文件signpost-commonshttp4-1.2.1.1.jar，signpost-core-1.2.1.1.jar，signpost-jetty6-1.2.1.1.jar）

它不包含错误，但是当我打开应用程序时，它的显示

```
Responce status : Unauthorized. 
```

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T05:46:50.720

Please use below link code.

[Sending Email in Android using JavaMail API without using the default/built-in app](https://stackoverflow.com/questions/2020088/sending-email-in-android-using-javamail-api-without-using-the-default-built-in-a)

It work great.(Not contain Unauthorized error).

Thanks.

# mysql - 如何在 MySQL 中指定一个常量值进行显示？

> ID：14496331
> 
> 赞同：0
> 
> 时间：2013-01-24T07:52:45.933
> 
> 标签：mysql

我需要为 MySQL 表的字段（制造商）指定一个常量值。这是示例：

```
select cust_id as 'Customer Record ID', address_flag as 'Address Verified',
oem_manuf as 'Manufacturer'
from sales_db; 
```

我希望它在字段制造商设置为 XYZ Inc 的查询中返回。如何在查询中执行此操作，而不必在 oem_manuf 字段的每一行中逐行存储 XYZ Inc？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T07:55:46.993

```
select cust_id as 'Customer Record ID', address_flag as 'Address Verified',
'XYZ Inc' as 'Manufacturer' from sales_db; 
```

# .htaccess - .htaccess 重写 #

> ID：14496333
> 
> 赞同：1
> 
> 时间：2013-01-24T07:52:52.803
> 
> 标签：.htaccess, mod-rewrite

我想将 url 重写为锚标记，如下所示：

```
RedirectMatch 301 /subpage http://domain.com/#subpage 
```

有了这个，新的 URL 看起来像这样：

```
http://comain.com/%23subpage 
```

如何保留#Anchor 标志？

编辑：我必须在哪里将 NE 标签放在我的代码中？

```
<IfModule mod_rewrite.c>
        RewriteEngine On
    RewriteCond $1 !\.(gif|jpe?g|png)$ [NC]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.php/$1 [L]

    RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
    RewriteRule ^(.*)$ http://%1/$1 [L,R=301]

RedirectMatch 301 /subpage http://domain.com/#subpage
</IfModule> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T07:57:52.860

[apache文档](http://httpd.apache.org/docs/2.0/rewrite/rewrite_guide.html)中的简单查找显示：

```
Use the [NE] flag on the RewriteRule. NE stands for No Escape. 
```

您当然可以自己完成查找，不是吗？

# android - Android 通话统计

> ID：14496336
> 
> 赞同：2
> 
> 时间：2013-01-24T07:53:16.027
> 
> 标签：android

是否可以获取 Android 与特定联系人相关的通话、短信和聊天的统计信息？这个统计数据是否存储在某个地方？如果没有，是否有任何方法可以使用 Android SDK 获取和存储该统计信息？使用 Android NDK？Android系统是否允许以某种方式挂钩短信和聊天事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:24:15.267

1\. 来电和去电，可通过BroadCastReceivers手动收听。

显现：

```
<receiver android:name="IncomingCallReceiver" >
    <intent-filter>
        <action android:name="android.intent.action.PHONE_STATE" />
    </intent-filter>
</receiver>
<receiver android:name="OutgoingCallReceiver" >
    <intent-filter>
        <action android:name="android.intent.action.NEW_OUTGOING_CALL" />
    </intent-filter>
</receiver> 
```

广播接收器：

```
public class IncomingCallReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        Bundle extras = intent.getExtras();
        if(extras == null)
            return;

        String callState = extras.getString(TelephonyManager.EXTRA_STATE);

        // ringing state
        if(callState.equalsIgnoreCase(TelephonyManager.EXTRA_STATE_RINGING)){
            String incomingNumber = extras.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
            Toast.makeText(context,"Incoming number: " + incomingNumber,Toast.LENGTH_LONG).show();
        }
    }
}

public class OutgoingCallReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        Bundle extras = intent.getExtras();
        if(extras == null)
            return;
        // caller
        String phoneNumber = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);

        // Toast megjelenitese
        Toast.makeText(context,"Outgoing number: "+phoneNumber, Toast.LENGTH_LONG).show();
    }
} 
```

2.您还可以创建一个光标到通话记录，然后您可以遍历该光标。

```
String[] strFields = { android.provider.CallLog.Calls._ID,
        android.provider.CallLog.Calls.NUMBER,
        android.provider.CallLog.Calls.CACHED_NAME};
String strOrder = android.provider.CallLog.Calls.DATE + " DESC";
final Cursor cursorCall = getContentResolver().query(
        android.provider.CallLog.Calls.CONTENT_URI, strFields,
        null, null, strOrder); 
```

3\. 对于 SMS 你也可以创建*BroadcastReceivers*，或者你也可以创建一个*ContentObserver*到特定的内容。也许聊天被保存到您可以与*ContentObserver*挂钩的地方。

# .net - 无法在 UserControl 上设置 x:Name="Root"

> ID：14496353
> 
> 赞同：1
> 
> 时间：2013-01-24T07:54:31.023
> 
> 标签：.net, wpf, xaml, user-controls, compiler-errors

我正在尝试将 x:Name 属性设置为 UserControl 的定义，以便稍后将其用于内部绑定：

```
<UserControl 
    x:Name="root"
    x:Class="ElementManager.UserControl1"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
</UserControl> 
```

它没有编译说：

> “ElementManager.ElementManager”类型中不存在类型名称“UserControl1”

如果我删除 x:Name 属性，它会编译并且一切正常。这是故意的还是我错过了一些微不足道的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:25:09.473

XAML-MSBuild 任务将您的类型`ElementManager`与同名命名空间混淆。为您的类型`ElementManager`指定另一个名称，而不是其周围的命名空间。

# iphone - iPhone：从它推送的地方推送 UIViewController

> ID：14496355
> 
> 赞同：0
> 
> 时间：2013-01-24T07:54:40.073
> 
> 标签：iphone, uiviewcontroller, pushviewcontroller

我有两个`UIViewControllers`说`ViewController_A`和`ViewController_B`

我的流程是，**A**`ViewController_A` ---> **B**`ViewController_B` ---> **C**`ViewController_A`

对于 A、B 和 C 导航，我有以下情况，

**A** - 在`ViewController_A`我有 100 条记录中`UITableViewCell`，用户选择任何一条，它将推送到`ViewController_B`将显示从 中选择的记录`ViewController_A`。

**B** - 将显示从中选择的数据`ViewController_A`，并有返回按钮返回（我可以弹出）。另一件事，有一个`UIButton`，如果用户点击它，它将再次显示`ViewController_A`但只有那条记录

**C** - 从那时起我们会弹出`ViewController_B`没有问题，但我又想推，所以我需要`#import` `ViewController_A`in `ViewController_B`（因为我已经导入`ViewController_B`了`ViewController_A`所以我不能重新导入`ViewController_A`，`ViewController_B`对吧？）将为那些`UIViewControllers`.

**在C**中解决问题的更好方法应该是什么，一个建议是让另一个``ViewController_D`喜欢并显示与 in 相同，`ViewController_A`但我认为它不是正确的方法，因为我已经`UI`和`coded`功能。

需要建议。如果您有任何疑问，请告诉我！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:05:25.793

我的理解是您在使用#import 指令时遇到问题？我猜你是在 .h 文件中导入标题？如果是这样，请在 .m 文件中执行 #import；在.h 中你应该使用@class YouViewControllerA。

例如与 AViewController：

**。H**

```
@class BViewController

@interface AViewController : UIViewController 
{
  //Your attributes here
}

@end 
```

**.m**

```
#import "BViewController.h"

@implementation AViewController

//Some AViewController methods here

@end 
```

对 AViewController 和 BViewController 执行此操作，它应该可以工作。

**编辑：** #import 指令旨在避免递归错误，所以无论如何你都不应该出错。如果您知道一些预处理，#import 会（自动）执行以下操作：

```
#ifndef TOTO_HEADER
#define TOTO_HEADER

//your methods here

#endif 
```

**更多解释：**

当您编写 #import "toto.h" 时，编译器将在编译时进行以下检查：

*   预处理变量“TOTO_HEADER”是否已定义？（这对应于 ifndef "TOTO_HEADER" 行）
*   如果不是，我们定义它（这是#define "TOTO_HEADER" 行）并且我们“包含”方法和函数。
*   如果已经定义，则无需包含方法（因为它们已经包含在内）。

这样，如果已经包含头文件，我们就可以防止它们被包含在内。（并且通过扩展它不应该产生任何递归错误）。

换句话说：#import 确保头文件只包含一次，这样您就不会遇到递归包含的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:06:41.793

一种解决方案可能是这样-

首先将选定的值保存在 NSUserDefaults 中，然后在单击 viewController B 中的 UIButton 时获取 bool。然后将 segue 推送到 ViewController A 并检查那里的 Bool 值。如果它为真，那么只打印 NSUserDefaults 的值，否则打印整组 100 条记录。

# objective-c - CGBitmapContext为 RBG565 创建 bitsPerComponent

> ID：14496366
> 
> 赞同：0
> 
> 时间：2013-01-24T07:55:06.467
> 
> 标签：objective-c, cgbitmapcontextcreate, cgcontextref

我正在尝试创建一个`CGContextRef`using `CGBitmapContextCreate`. 我要创建的位图是 RBG565（红色和蓝色是 5 位，绿色是 6 位）。的参数之一`CGBitmapContextCreate`是`bitsPerComponent`。由于我有 variable `bitsPerComponent`，我不确定是否将其设置为 5，或者有更好的方法吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:21:00.673

CoreGraphics 本身不支持 RGB565。您需要使用不同格式创建位图上下文，然后使用`vImageConvert_ARGB8888toRGB565`.

# ruby-on-rails - Rails 电子邮件确认系统

> ID：14496367
> 
> 赞同：0
> 
> 时间：2013-01-24T07:55:20.257
> 
> 标签：ruby-on-rails, email, hash

这是我在 Rails 应用程序中必须做的事情，我感谢任何人的任何好的见解。

当用户在我的应用程序中注册时，我想向他提供的电子邮件地址发送一封电子邮件，以查看该地址是否有效。最重要的是，我想验证该电子邮件是某些大学的地址，例如 [“US College”、“KO 大学”、“NY 大学”] 等。

我已经成功设置了一个动作邮件程序，所以我所要做的就是在我的表中添加一个布尔值`confirmed`和一个`college`列`users`。

我想知道这样做的正确和干净的方式。此外，如果有一个宝石可以很好地包含所有大学名称及其对应的 .edu 电子邮件，例如`{[harvard.edu, Harvard University]}`，我也会非常感激。

任何实现我想要的功能的建议将不胜感激！

# android - 将数据添加到 ArrayList android

> ID：14496377
> 
> 赞同：1
> 
> 时间：2013-01-24T07:56:00.693
> 
> 标签：android, json

在 logcat 中，我得到了`null pointer exception`这个代码示例。我正在尝试在其中添加例如`oneObject.has(TAG_TITLE)`，`Arraylist`但是例如当我打印时`currentPost.getid()`，我得到了这个`nullpointer excepttion`。有人能帮助我吗。

// 从 URL 获取 JSON 字符串

```
JSONArray jArray = jParser.getJSONFromUrl(url);
ArrayList<Post> PostList = new ArrayList<Post>();
Post currentPost = new Post();

// looping through All element
for(int i = 0; i < jArray.length(); i++){
    try{
        JSONObject  oneObject = jArray.getJSONObject(i);
        // Storing each json item in variable
        if(oneObject.has(TAG_ID)){
            id = oneObject.getString(TAG_ID);
            currentPost.setId(id);
        }
        else{
            id="";
        }
        if(oneObject.has(TAG_TITLE)){
            title = oneObject.getString(TAG_TITLE);
            currentPost.setTitle(title);
        }
        else{
            title ="";
        }
        if(oneObject.has(TAG_CONTENT)){
            content = oneObject.getString(TAG_CONTENT);
            currentPost.setContent(content);
        }
        else{
            content ="";
        }
        System.out.println("postlist: "+currentPost.getId());
        PostList.add(currentPost);
        currentPost = new Post(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:05:43.753

如果 Json 字符串中不存在键名，您还需要将 currentPost 对象字段值设置为默认值：

```
 // your code here...
            if(oneObject.has(TAG_ID)){

                id = oneObject.getString(TAG_ID);

                currentPost.setId(id);
            }
            else{

                id="DEFAULT_VALUE";
                currentPost.setId(id);  //<<<< set default value here
            }
           // your code here... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:00:36.063

在您的代码中

```
// Storing each json item in variable

                    if(oneObject.has(TAG_ID)){

                        id = oneObject.getString(TAG_ID);

                        currentPost.setId(id);
                    }
                    else{

                        id="";
                    } 
```

您错过了将当前`oneObject.has(TAG_ID)`返回的 ID 设置为 false。

避免这种情况的最佳方法是如果未设置参数，则从所有 getter 中返回空字符串。

编辑：

添加以粗体显示的更改。

// 将每个 json 项存储在变量中

```
 if(oneObject.has(TAG_ID)){

                        id = oneObject.getString(TAG_ID);

                        currentPost.setId(id);
                    }
                    else{

                        id=""; 
                        **currentPost.setId(id);**
                    } 
```

# jsf-1.2 - Issue with JSF1.2 in Websphere 8.0.0.4

> ID：14496380
> 
> 赞同：0
> 
> 时间：2013-01-24T07:56:13.553
> 
> 标签：jsf-1.2, websphere-8

Is there any conflict in Websphere 8.0.0.4 with JSF 1.2 (Sun provider/ IBM provider)?

I am getting below issue while accessing my application:

Caused by: java.lang.ClassNotFoundException: com.sun.faces.application.ApplicationAssociate at java.net.URLClassLoader.findClass(URLClassLoader.java:434) at com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:204) at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:665) at java.lang.ClassLoader.loadClass(ClassLoader.java:644) at com.ibm.ws.bootstrap.ExtClassLoader.loadClass(ExtClassLoader.java:119) at java.lang.ClassLoader.loadClass(ClassLoader.java:627) at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:62) at com.ibm.ws.classloader.ProtectionClassLoader.loadClass(ProtectionClassLoader.java:58) at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:566) at java.lang.ClassLoader.loadClass(ClassLoader.java:627) at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:566) at java.lang.ClassLoader.loadClass(ClassLoader.java:627) at com.ibm.ws.classloader.CompoundClassLoader.loadClass(CompoundClassLoader.java:566) at java.lang.ClassLoader.loadClass(ClassLoader.java:627)

My POM Entries are:

```
 <dependency>
        <groupId>javax.faces</groupId>
        <artifactId>jsf-api</artifactId>
        <version>1.2</version>
    </dependency>

     <dependency>
        <groupId>com.ibm.faces</groupId>
        <artifactId>jsf-ibm</artifactId>
        <version>1.0</version>
    </dependency>

     <dependency>
        <groupId>javax.faces</groupId>
        <artifactId>jsf-impl-messages</artifactId>
        <version>1.0</version>
    </dependency> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T13:45:02.607

I found the answer.

1.  Basically, websphere 8 is based on Java EE 6 and Java EE 6 is based on JSF 2.0 (refer this: [http://www.oracle.com/technetwork/java/javaee/tech/index.html](http://www.oracle.com/technetwork/java/javaee/tech/index.html)). Where, websphere 7 is based on Java EE 5 and Java EE 5 is based on JSF 1.2 (refer this: [http://www.oracle.com/technetwork/java/javaee/tech/javaee5-jsp-135162.html](http://www.oracle.com/technetwork/java/javaee/tech/javaee5-jsp-135162.html))

2.  Websphere 8 has J2ee.jar (Java EE 6) and com.ibm.ws.jsf.jar which has JSF 2.0 Implementation.

Best option is to not go with websphere 8.0 with jsf 1.2\. But, if you still need to switch to websphere 8.0 with having jsf 1.2, you need to take either of the following options:

using jsf 2.0 jars with jsf 1.2 code

Or

We need to change the classloading hierarchy ( Parent last ) and add JSF 1.2 specific jars in your application. This will allow to refer JSF 1.2 jars from application not fromwebspeher shared libraries

# php - 上传时显示图片

> ID：14496382
> 
> 赞同：0
> 
> 时间：2013-01-24T07:56:21.843
> 
> 标签：php, file-upload

我以前问过这个问题，但我没有得到真正的解决方案。我正在开发一个社交网站。在用户注册页面中，用户有添加照片的规定。我的问题是我想显示图像在点击表单末尾的提交按钮之前，它已由用户上传到一个 div。我搜索了很多，但找不到合适的。

我的html代码是这样的：

```
 <img src="<?php echo $row_picture;?>" name="picture" class="settingspic"  width="75" height="91" alt="profile pic" name="picture"/><a href="" onclick="return uploadimg()"> Upload</a></li>
 <input type="file" name="file" id="file" style="display:none;" /> 
```

我的 JavaScript 代码是：

```
function uploadimg()
{
 var uploader = document.getElementById('file');
 uploader.click();
 return false;
} 
```

当我单击提交按钮时，图像被插入到数据库中。我希望在用户上传文件时显示图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:02:14.090

这是我在我们网站上使用的。这是为了在上传之前预览图像，即在提交表单之前。你的问题有点不同，但我希望这会有所帮助。

**HTML：**

```
<img id="preview_img" style="max-width: 130px; max-height: 130px;" src="http://www.domain.com/images/<?php echo $this->profile_details->photo? $this->profile_details->photo: "default.png"; ?>"/>
<input type="file" id="avatar" name="avatar" onchange="readURL(this);"/> 
```

**JavaScript：**

```
function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#preview_img').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
} 
```

# eclipse - 从表生成实体时更改默认字段类型

> ID：14496384
> 
> 赞同：1
> 
> 时间：2013-01-24T07:56:26.557
> 
> 标签：eclipse, jpa-2.0, dali

使用 Eclipse Dali 工具“[从表中生成实体](http://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks006.htm#BABBAGFI)”，但我想更改默认表列/实体字段映射。

例如，当列类型为**int**时，工具会生成以下映射。

```
@Column(name="QUANTITY")
private int quantity; 
```

但是当数量可以为空时，它会在验证阶段出现问题，所以我将其更改为：

```
@Column(name="QUANTITY",  columnDefinition="int")
private BigDecimal quantity; 
```

这可以全局配置吗？

# xcode - 从整个应用程序中关闭警报视图

> ID：14496392
> 
> 赞同：1
> 
> 时间：2013-01-24T07:57:13.217
> 
> 标签：xcode, uialertview

当用户单击一个按钮时，我正在调用一个 web 服务，并且解析是从另一个类完成的。同时，当我获取数据时，我正在显示一个带有活动指示器的警报视图，告诉用户等待。只有在我收到回复后，警报视图才会关闭。如果有任何类型的错误/失败，它会显示一个警告，上面写着“失败”和一个取消按钮“确定”。但是带有活动指示器的警报视图继续显示，从而冻结了应用程序。如何从我正在调用和解析 Web 服务的类中解散它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T17:32:46.280

您可以使用以下位置共享的代码关闭应用程序中已显示的所有现有警报视图：

[iOS 在显示另一个之前关闭 UIAlertView](https://stackoverflow.com/questions/5399219/ios-dismiss-uialertview-beforing-showing-another)

```
for (UIWindow* w in [UIApplication sharedApplication].windows)
    for (NSObject* o in w.subviews)
        if ([o isKindOfClass:[UIAlertView class]])
            [(UIAlertView*)o dismissWithClickedButtonIndex:[(UIAlertView*)o cancelButtonIndex] animated:YES]; 
```

# zend-framework - 如何在 Zend Framework Google Calendar API 中更新事件日期？

> ID：14496396
> 
> 赞同：1
> 
> 时间：2013-01-24T07:57:23.677
> 
> 标签：zend-framework, frameworks, google-calendar-api

在 Zend Framework Google Calendar Api 的手册中，我找不到更新日期说明。

在文档中，我们有：

```
// Get the first event in the user's event list
$event = $eventFeed[0];

// Change the title to a new value
$event->title = $service->newTitle("Woof!");

// Upload the changes to the server
try {
    $event->save();
} catch (Zend_Gdata_App_Exception $e) {
    echo "Error: " . $e->getMessage();
} 
```

但是我如何更新任何事件的 startDate 和 endDate ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-19T08:43:32.037

**在 Zend Framework (1.2) Google Calendar API 中更新事件日期可以正常工作**

```
 $user = "xxxx@gmail.com";
                $pass = "12345@mapring";

                $service = Zend_Gdata_Calendar::AUTH_SERVICE_NAME;
                $client = Zend_Gdata_ClientLogin::getHttpClient($user, $pass, $service);
                $service = new Zend_Gdata_Calendar($client);

                $query = $service->newEventQuery();
                $query->setUser('default');

                /*to update your event*/
                $urlid = "https://www.google.com/calendar/feeds/default/private/full/tbc633h37hgv4s4u0ivl3eigak/63509906072";
                $event = $service->getCalendarEventEntry($urlid);
                // Change the title
                $event->title = $service->newTitle("New Title!");
                $event->save(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T03:45:01.233

我从参考指南中获取了这个例子。

[采埃孚参考指南](http://framework.zend.com/manual/1.12/en/zend.gdata.calendar.html)

```
$start = new Zend_Date();
$end = new Zend_Date();
$end->addHour(2);

$when = $event->newWhen();

$when->startTime = $start->toString(Zend_Date::RFC_3339);
$when->endTime = $end->toString(Zend_Date::RFC_3339);

$event->when = array($when); 
```

# php - 使用 ClipboardActiveX.dll 的 ASP.NET 对象错误

> ID：14496397
> 
> 赞同：1
> 
> 时间：2013-01-24T07:57:25.757
> 
> 标签：php, javascript, asp.net

我被要求将复制的图像从剪贴板粘贴到 Web 窗体并直接上传到 Web 服务器。我找到了一些[教程](http://www.codeproject.com/Articles/25967/Clipboard-ActiveX-for-Image-Copy-Paste-into-Web-Fo)！关于它，但它已经死了快 4 年了，我需要有人指导我，我是编程新手，我目前正在实习作为 php 程序员。

我可以将剪贴板中的图像粘贴到 Web 窗体，但是当我开始将其上传到服务器时，我收到了这个错误“需要对象”。我似乎找不到修复它的方法。

```
 function uplImages() {
      flagUploadingStarted = true;

      // Uploading Image 1 if its present.
      if (document.getElementById("<%= hdnImageFileName1.ClientID%>").value != "") {
          uploadImage1(document.getElementById("<%= hdnImageFileName1.ClientID%  >").value); // Error get here "OBJECT REQUIRED".
      }
  } 
```

# php - 如何使用 ajax 发布上传文件的同时我需要发布字符串检查 = 1？`数据：fd + '&check=' + 1，`？

> ID：14496399
> 
> 赞同：3
> 
> 时间：2013-01-24T07:57:29.480
> 
> 标签：php, jquery, ajax

> **可能重复：**
> [如何使用 jQuery 异步上传文件？](https://stackoverflow.com/questions/166221/how-can-i-upload-files-asynchronously-with-jquery)

如何使用 ajax 发布上传文件的同时我需要发布字符串检查 = 1？
`data: fd + '&check=' + 1,`这是行不通的。有什么建议吗？

谢谢。

```
var uf =$('.formname');
var fd = new FormData(formname);    
$.ajax({
    type: "POST",
    url: 'http://example.com/script.php',
    data: fd,
    processData: false,
    contentType: false,
    success: function(data){
    }
}); 
```

php

```
if($_FILES && $_POST['check'] == 1) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:00:41.227

您可以使用[FormData.append](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData#append%28%29)添加一组新值

```
var uf =$('.formname');
var fd = new FormData(uf[0]);
fd.append('check','1'); 
$.ajax({
    type: "POST",
    url: 'http://example.com/script.php',
    data: fd,
    processData: false,
    contentType: false,
    success: function(data){
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:02:53.770

通过ajax回发函数传递文件真的很复杂。但试试这个会有所帮助。这个问题以前被问过。 [点击查看问题的答案](https://stackoverflow.com/questions/14374319/how-can-pass-an-image-location-to-a-php-function-using-jquerys-call-back-functi)

这个库将帮助您轻松实现所有这些。

[Mails Up 会有所帮助。点击这里](http://malsup.com/jquery/form/)

# mysql - SQL线程长时间处于“Reading event from the realy log”状态如何查看正在执行的查询

> ID：14496400
> 
> 赞同：1
> 
> 时间：2013-01-24T07:57:44.233
> 
> 标签：mysql, replication

在我的一台生产服务器上，我已经看到 SLQ 线程处于以下提到的状态大约 10 小时（35000 秒）。

```
Reading events from the relay log
(means that SQL thread has read and event from the relay log) 
```

那么即使在阅读了一个事件之后，那个线程在这么长时间内都在做什么呢？

我相信这是在运行一些查询。但我只能在我期待查询的“信息”字段下看到“NULL”。

如果它正在运行在信息字段下不可见的查询，如何查看该查询或这种情况意味着什么......

提前致谢。

# php - 分组连续双倍结果

> ID：14496403
> 
> 赞同：3
> 
> 时间：2013-01-24T07:57:51.613
> 
> 标签：php, mysql

我一直在开发一个运行以下查询的应用程序：

```
SELECT m.*, GROUP_CONCAT(g.title) as genres
FROM movie m
INNER JOIN genre_movie gm ON gm.movie_id = m.id
INNER JOIN genre g ON gm.genre_id = g.id
WHERE m.imdb_id = '454876' 
```

当我在查询浏览器中运行查询或直接通过 SSH 运行查询时，它会返回以下结果（示例：）

![在此处输入图像描述](../Images/ca9967a40f616162dee51a5fbe56ee84.png)

在我的 PHP 代码中，我执行以下操作来遍历流派：

```
<?php $get =  mysql_query($query); // $query is the above query ?>
<?php $movieInfo = mysql_fetch_assoc($get); ?>
<?php $genres = explode(",", $movieInfo['genres']); ?>
<?php foreach ($genres as $genre) { ?>
    <li class="clear"><a><span class="value"><?php echo $genre; ?></span></a></li>
<?php } ?> 
```

**虽然预期的结果是：**

> 剧情、冒险

**输出是：**

> 戏剧，戏剧，戏剧，冒险，冒险，冒险

知道为什么会发生这种情况，因为我无法弄清楚吗？

PS：我知道一种解决方法是`array_unique()`在我爆炸以逗号分隔的流派列表时添加，但我想知道问题的根源。

基本上，当我手动运行查询时，类型显示正常，当它在应用程序中运行时，它显示双倍，而其余信息仍然显示正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:15:18.090

似乎您忘记了 SQL 中的**GROUP BY**子句，因此写入了重复记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T07:59:57.527

您是否按正确的电影 ID 分组？这可能是您将所有类型归为一个的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:15:56.787

解决了，问题出在查询上，我忘了 GROUP BY：

```
SELECT m.*, GROUP_CONCAT(g.title) as genres
FROM movie m
INNER JOIN genre_movie gm ON gm.movie_id = m.id
INNER JOIN genre g ON gm.genre_id = g.id
WHERE m.imdb_id = '454876' GROUP BY m.id 
```

# javascript - JavaScript 对象和公共变量

> ID：14496405
> 
> 赞同：0
> 
> 时间：2013-01-24T07:57:52.860
> 
> 标签：javascript

我正在尝试使用公共方法和公共变量创建一个 javascript 对象：

```
jeeni.DataGrid = (function(elementId){
    var divId = elementId;
    var div;
    var saveUrl;
    var columns;
    var dataUrl;

    var validate = function(){
        console.log("divId: " + (divId));
        console.log("div: " + div);
        console.log("saveUrl: " + saveUrl);
        console.log("columns: " + columns);
        console.log("dataUrl: " + dataUrl);
    };

    return {
        toString:validate,
        dateURL:dataUrl,
        saveURL:saveUrl,
        columnDefs:columns
    };

}); 
```

我像这样使用它：

```
<script>
    $(document).ready(function() {

        var grid = new jeeni.DataGrid("myDataGrid");

        grid.saveURL = "http://www.jeeni.co.uk/grid/save";
        grid.dataURL = "http://www.jeeni.co.uk/grid/data";
        grid.columnDefs = "[{text:'Column1',width:75}, {text:'Column2',width:150}]";
        grid.toString();
    });
</script> 
```

但在控制台我得到：

```
divId: myDataGrid
div: undefined
saveUrl: undefined
columns: undefined
dataUrl: undefined 
```

谁能解释为什么未定义的变量是未定义的。退货不让他们公开吗？以及如何在不必使用 getter 和 setter 的情况下让它们可分配。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:10:12.727

您当前正在获取私有变量、提取 VALUES 并在对象中返回这些变量。您返回的对象没有对私有变量的引用，它只有一个副本。当您在调用函数后重新分配值时，您只是在更改副本，而不是私有变量。

您需要做的是将数据直接存储在对象上，因为对象上的所有属性都是通过 REFERENCE 检索的。例子：

```
jeeni.DataGrid = function(elementId){

    // These are private
    var divId = elementId;
    var div;

    var public = {
      "toString"   : validate,
      "dateURL"    : null,
      "saveURL"    : null,
      "columnDefs" : null
    };

    function validate(){
        console.log("divId: "   + divId);
        console.log("div: "     + div);
        console.log("saveUrl: " + public.saveURL);
        console.log("columns: " + public.columnDefs);
        console.log("dataUrl: " + public.dataURL);
    };

    return public;

}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:00:36.680

您的模式构建私有字段（这通常是使用它的主要原因）。所以当你这样做时

```
grid.saveURL = ... 
```

您只是添加一个新字段，而不是更改现有的隐藏字段。

如果您想要公共字段，请执行以下操作：

```
jeeni.DataGrid = function(elementId){
    this.divId = elementId;
};
jeeni.DataGrid.prototype.validate = function(){
    console.log("divId: " + (this.divId));
    console.log("div: " + this.div);
    console.log("saveUrl: " + this.saveUrl);
    console.log("columns: " + this.columns);
    console.log("dataUrl: " + this.dataUrl);
}; 
```

如果你想保持你的字段私有，那么你必须添加函数来改变它们，但在你的情况下这会更重。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:03:55.757

如果要`()`立即调用函数并将返回的对象分配给`jeeni.DataGrid`. 例如，

```
var obj = (function (someArg1) {
    return { pubVar1 : someArg1 };
}("Hello World"));

//Alerts "Hello World".
alert(obj.pubVar1); 
```

要测试函数/变量的返回值，您可以随时使用`console.log(obj)`并检查浏览器调试控制台上的输出（如果您使用的是 Chrome F12，通常会显示此控制台）。

希望这可以帮助！

# objective-c - Objective-C中id和指针类型之间的转换

> ID：14496412
> 
> 赞同：2
> 
> 时间：2013-01-24T07:58:26.123
> 
> 标签：objective-c, xcode, casting, cocos2d-iphone, llvm

在 Objective-C 中，以下代码编译时没有警告：

```
id obj = [[NSObject alloc] init];
NSString *str = obj;
NSLog(@"%@", str); 
```

虽然以下代码编译时带有指针分配警告：

```
NSObject *obj = [[NSObject alloc] init];
NSString *str = obj;
NSLog(@"%@", str); 
```

由于 Cocoa 开发人员的常见做法是让大多数*init*和 factory 方法返回一个**id**，因此很容易出现前一种情况：

```
Mammal *animal = [Crocodile animalWithName:@"Croc"]; // Method animalWithName returns id. 
```

对于现实世界的场景，我可以参考 Cocos2D for iOS：

```
CCFiniteTimeAction *walkAction = [CCRepeatForever actionWithAction: action]; // Method actionWithAction returns id. 
```

我同意 CCRepeatForever 听起来不像 CCFiniteTimeAction（相反，它是 CCAction 的直接子类），但如果能从编译器那里得到一些帮助会很好。在这些情况下，程序员有没有办法让 Xcode 生成警告？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T09:40:06.160

改变你的`build settings > apple llvm compiler 4.1 -warnings`

我不确定您必须做出“是”才能获得您想要的东西的具体警告。

# list - 将 TCL 中的列表拆分为两个大小相同的列表

> ID：14496414
> 
> 赞同：1
> 
> 时间：2013-01-24T07:58:30.080
> 
> 标签：list, loops, tcl

除了有没有更好的方法

1.  查找列表的长度 ( `[llength]`)
2.  反击中途岛 `[llength]/2`
3.  然后弹出所有`[lindex $index]`元素`lindex/2`
4.  然后使用原始列表与步骤 3 中的列表相交

如果有一种较少涉及的方式来弹出 list1 中的一个元素和 list 2 中的下一个元素等，那就太好了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:07:18.827

```
set len [expr {[llength $src] / 2}]
set left [lrange $src 0 [expr {$len - 1}]]
set right [lrange $src $len end] 
```

您也可以先检查全长是否为大于或等于 2 的偶数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T23:10:10.917

您可以使用 foreach 循环。

```
set pairedlist [list "FirstName" "Tony" "LastName" "Bennett"]

set keys [list]
set values [list]

foreach {key value} $pairedlist {
  puts "$key: $value"
  lappend keys $key
  lappend values $value
}

puts $keys
puts $values 
```

# java - 读取解析JSON

> ID：14496417
> 
> 赞同：0
> 
> 时间：2013-01-24T07:58:49.570
> 
> 标签：java, json

我有一个 JSON 字符串

```
 [
   {"created_at":"Thu Jan 24 07:27:12 +0000 2013",
     "id":294345590119227392,
     "user":{
             "id":213539531,
              "name":"Hamid",
              "screen_name":"HamidMirGEO",
             },
     "retweeted":false
     }] 
```

使用以下代码解析

```
 InputStream is = this.getResources().openRawResource(R.raw.jsontwitter);
        byte [] buffer = new byte[is.available()];
        while (is.read(buffer) != -1);
        String jsontext = new String(buffer);
        JSONArray entries = new JSONArray(jsontext);
        for (i=0;i<entries.length();i++)
        {
            JSONObject post = entries.getJSONObject(i);
            x += "Date:" + post.getString("created_at") + "\n";
            x += "Post:" + post.getString("text") + "\n\n";
            x += "Pp:" + post.getString("screen_name") + "\n\n";//error reading this
        } 
```

成功解析前两个，但在读取第二个大括号 {} 中的数据时遇到问题；对此的任何解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:01:37.707

采用：

```
x += "Pp:" + post.getJSONObject("user").getString("screen_name") + "\n\n"; 
```

代替：

```
x += "Pp:" + post.getString("screen_name") + "\n\n"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:01:38.410

`screen_name`在嵌套对象中。使用此代码：

```
post.getJSONObject("user").getString("screen_name"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T08:09:55.243

要获取 screen_name，您需要访问`JSONObject`它包含的内容。像这样：

```
JSONObject user = post.getJSONObject("user");
user.getString("screen_name") // this will return the screen_name 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T08:03:19.377

在“HamidMirGeo”之后你有一个额外的昏迷，删除它。

# c# - ADO.Net 实体框架事务

> ID：14496420
> 
> 赞同：3
> 
> 时间：2013-01-24T07:59:17.730
> 
> 标签：c#, sql, entity-framework, ado.net, transactions

我想问在 ADO.Net Entity Framework (call,rollback,commit) 中使用事务的正确方法是什么？我有这段代码，但这给了我例外

```
"Invalid operation. The connection is closed." 
```

（在此代码中 NorthwindEntities 继承“DBContext”）

```
NorthwindEntities context = new NorthwindEntities();
DbTransaction tran = context.Database.Connection.BeginTransaction();
var cust = context.Customers.FirstOrDefault(x => x.CustomerID == "BOLID");
cust.Country = "Nigeria";
context.SaveChanges();
tran.Rollback(); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T08:02:40.210

要在 EF 中*提交*“事务”，只需调用`context.SaveChanges()`.

在内部，`SaveChanges`打开一个连接，启动一个数据库事务，将上下文跟踪的所有未决更改推送到存储，提交事务并释放连接。如果在保存更改期间出现任何错误，则数据库事务正在回滚。

要*回滚*“事务”，只需丢弃上下文实例。

通常，EF 不需要使用外部数据库事务。

请注意，我在引号中使用“事务”，因为 EF 上下文的更改跟踪器不等同于 db 事务。当您对由上下文跟踪的数据进行一些更改时，这些更改不会立即影响存储。他们正在等待，直到您致电`SaveChanges`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T05:13:45.850

EF 的 TransactionScope 类似于本地数据库事务。TransactionScope 适用于您的应用程序层，但行为类似于 db 事务并受 EF 内部支持）

# android - 如何在 Android 中绘制类似小部件的气压计

> ID：14496422
> 
> 赞同：-2
> 
> 时间：2013-01-24T07:59:31.410
> 
> 标签：android, android-widget, android-canvas

我正在尝试为我的应用程序开发一些小部件，如下图所示。我不知道用什么来开发这些。OpenGL 或 Android Canvas 或 AiCharts 等图表库

有人能指出我正确的方向吗？ ![晴雨表之类的小部件](../Images/d5c579ef952cf0d277818b045ae9086d.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:09:03.567

我确实是这样看待的。

![在此处输入图像描述](../Images/8de80d73f457086cdf132fc77daa88d1.png)

并且可以给你我的代码，但我很久以前就这样做了，代码可能不太好））

```
public class Tachometer extends View {
    public static final String TAG = Tachometer.class.getSimpleName();

    private Bitmap tachometer;
    private Bitmap arrow;

    private float rotateDegree = 0;
    private float currentValue = 0;
    private float pxDp = getResources().getDimension(R.dimen.one_dp);

    private static final float MB = 1024;
    private static final float FIRST_RATE = MB / 105;
    private static final float SECOND_RATE = MB * 9 / 105;
    private static final float MIN_SPEED = 0;
    private static final float MAX_SPEED = MB * 10;

    public Tachometer(Context context) {
        super(context);
        initTachometer();
    }

   public Tachometer (Context context, AttributeSet attrs) {
        super(context, attrs);
        initTachometer();
    }

    private void initTachometer () {
        Options opt = new Options();
        opt.inScaled = true;
        tachometer = BitmapFactory.decodeResource(getContext().getResources(), R.drawable.tachometer_custom, opt);
        arrow = BitmapFactory.decodeResource(getContext().getResources(), R.drawable.arrow_custom , opt);
        setStartPosition();
        this.invalidate();
    }

    @Override
    public void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        Matrix matrix = new Matrix();
        matrix.postRotate(rotateDegree, arrow.getWidth() / 2, arrow.getHeight() - 7.5f*pxDp);
        matrix.postTranslate((tachometer.getWidth()/2) - (arrow.getWidth()/2), 25*pxDp);

        drawRegion_1(canvas, initRed());
        drawRegion_2(canvas, initOrange());
        drawRegion_3(canvas, initYellow());
        drawRegion_4(canvas, initGreen());

        canvas.drawBitmap(tachometer, 0, 0, null);
        canvas.drawBitmap(arrow, matrix , null);
    }

    public void update (float value) {
        if (value < MIN_SPEED) update(MIN_SPEED); else
            if (value > MAX_SPEED) update(MAX_SPEED); else {
                if (value < MB ) {
                    rotateDegree = (value / FIRST_RATE) - 105 ;
                } else {
                    rotateDegree = ((value - MB) / SECOND_RATE);
                }
            }
        currentValue = value;
        this.invalidate();
    }

    private void setStartPosition () {
        update(MIN_SPEED);
    }

    private void drawRegions (Canvas canvas , float startConer , float mainConer , int color) {
        Paint paint = new Paint();
        RectF rect = new RectF();

        rect.set((getResources().getDimension(R.dimen.left) - (getResources().getDimension(R.dimen.x37_5_dp))),
                ((getResources().getDimension(R.dimen.top) - (getResources().getDimension(R.dimen.x37_5_dp)))),
                ((getResources().getDimension(R.dimen.right) + (getResources().getDimension(R.dimen.x37_5_dp)))),
                ((getResources().getDimension(R.dimen.bottom) + (getResources().getDimension(R.dimen.x37_5_dp))))); 

        paint.setColor(color);
        paint.setStrokeWidth(getResources().getDimension(R.dimen.stroke_width));
        paint.setAntiAlias(true);
        paint.setStyle(Paint.Style.STROKE);
        canvas.drawArc(rect, startConer, mainConer, false, paint);
    }

    private void drawRegion_1 (Canvas canvas , int color) {
        drawRegions(canvas , 163f , 60f , color);
    }

    private void drawRegion_2 (Canvas canvas , int color) {
        drawRegions(canvas , 163f+60f , 47f , color);
    }

    private void drawRegion_3 (Canvas canvas , int color) {
        drawRegions(canvas , 165f+63f+42f , 44f , color);
    }

    private void drawRegion_4 (Canvas canvas , int color) {
        drawRegions(canvas , 163f+63f+42f+46f , 62f , color);
    }

    private int initRed () {
        float piece = MB / 8; //~128kb/s

        if (currentValue == 0) return getResources().getColor(R.color.transpert); else 
            if (currentValue < piece) return getResources().getColor(R.color.red_75); else
                if (currentValue < piece * 2) return getResources().getColor(R.color.red_50); else
                    if (currentValue < piece * 3) return getResources().getColor(R.color.red_25); else
                        return getResources().getColor(R.color.red);

    }

    private int initOrange () {
        float piece = MB / 8;//~128kb/s

        if (currentValue < piece * 4) return getResources().getColor(R.color.transpert); else 
            if (currentValue < piece * 5) return getResources().getColor(R.color.orange_75); else
                if (currentValue < piece * 6) return getResources().getColor(R.color.orange_50); else
                    if (currentValue < piece * 7) return getResources().getColor(R.color.orange_25); else
                        return getResources().getColor(R.color.orange);

    }

    private int initYellow () {
        if (currentValue < MB) return getResources().getColor(R.color.transpert); else 
            if (currentValue < MB * 2) return getResources().getColor(R.color.yellow_75); else
                if (currentValue < MB * 3) return getResources().getColor(R.color.yellow_50); else
                    if (currentValue < MB * 4) return getResources().getColor(R.color.yellow_25); else
                        return getResources().getColor(R.color.yellow);

    }

    private int initGreen () {
        float piece = MAX_SPEED / 9; //~1.2 Mb/sec
        float fiveMb = MB * 5;

        if (currentValue < fiveMb) return getResources().getColor(R.color.transpert); else 
            if (currentValue < fiveMb + piece) return getResources().getColor(R.color.green_75); else
                if (currentValue < fiveMb + piece * 2) return getResources().getColor(R.color.green_50); else
                    if (currentValue < fiveMb + piece * 3) return getResources().getColor(R.color.green_25); else
                        return getResources().getColor(R.color.green);

    }
} 
```

有 4 个扇区（红色、橙色、黄色、绿色）并且取决于状态颜色可以是透明的。尝试查看代码。它可以为您提供帮助。

祝你好运！

# perl - 在模式匹配中使用未初始化的值 (m//)

> ID：14496427
> 
> 赞同：0
> 
> 时间：2013-01-24T07:59:57.427
> 
> 标签：perl

我尝试在浏览器中点击我的 perl 脚本，它给出了内部服务器错误

> 服务器遇到内部错误或配置错误，无法完成您的请求。
> 
> 请联系服务器管理员 root@localhost 并告知他们错误发生的时间，以及您所做的任何可能导致错误的事情。
> 
> 服务器错误日志中可能提供有关此错误的更多信息。

当我在该行检查服务器日志时，该行是 if ($content1 =~ m/IP/g) `{` $value1=pos($content1); }

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T09:15:55.727

根据您的标题，我假设您有一条错误消息，上面写着

```
Use of uninitialized value in pattern match 
```

某处。你应该把它放在你的问题中。

问题在于`$content1`尝试`undef`模式匹配时。除非您显示更多代码，否则我们无法猜测为什么会这样。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-24T08:42:42.907

为了摆脱该警告，您可以简单地：

```
 if ( $content1 and $content1 =~ m/IP/g) { $value1=pos($content1); } 
```

但这是一个警告，并不会导致你`internal server error`

# bash - bash中方括号的含义

> ID：14496428
> 
> 赞同：11
> 
> 时间：2013-01-24T08:00:03.713
> 
> 标签：bash

[在Kyle Brandt 的回答中的](https://serverfault.com/questions/53577/linux-bash-syntax-meaning-of-and)这个问题上，该`[[ ]]`构造被描述为“bash 内置测试命令”。以下作为示例显示。

```
 if [[ ( $a -gt 2 ) && ( $a -lt 5 ) ]]; then ... 
```

为什么从字面上看，双方括号是`[[ ]]`必要的？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T10:07:28.483

[[ 是 bash 中 [ 的更通用的版本。

例如，使用 [[ ... ]] 测试构造，而不是 [ ... ] 可以防止脚本中的许多逻辑错误。例如，&&、||、< 和 > 运算符在 [[ ]] 测试中工作，尽管在 [ ] 构造中给出错误。

此外，它们的实现方式也不同

```
-bash-3.2$ type [
[ is a shell builtin
-bash-3.2$ type [[
[[ is a shell keyword 
```

参考[这里](http://tldp.org/LDP/abs/html/testconstructs.html)以获得很好的解释

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:05:50.843

`[[ ]]`等于`test`关键字。

您也可以使用`[ ]`但`[[ ]]`不兼容所有 shell 类型

对我来说，如果我理解问题的真正意义，问题本身并没有很好地表述。
这些括号必须在这里不是为了确定订单，而是因为 bash 概要需要它们

# 编辑

问题变了，所以我的答案也变了。

`[[ ]]`用于反对，`[ ]`因为您不必担心引用将作为变量读取的测试的左侧。
而且，`<`也不`>`需要逃避

# kineticjs - 如何为图像的简单动画设置帧速率

> ID：14496430
> 
> 赞同：0
> 
> 时间：2013-01-24T08:00:06.513
> 
> 标签：kineticjs

我正在尝试为从页面左侧到右侧然后再返回的图像设置动画。

它与此示例非常相似：

[http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-animate-position-tutorial/](http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-animate-position-tutorial/)

我已经在移动设备和台式机上尝试过我的应用程序，但我得到了非常不同的帧速率。有没有办法为这样的简单动画设置帧速率，以便图像从一侧移动到另一侧的时间在所有设备和浏览器上总是相同的？

我看到您可以为 Sprites 设置它，但不能为动画设置它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:26:34.523

看：

[https://github.com/mrdoob/three.js/issues/642](https://github.com/mrdoob/three.js/issues/642)

[想要控制动画的 FPS 是否是继续使用 setTimeout 而不是 requestAnimationFrame 的好理由？](https://stackoverflow.com/questions/8195602/is-wanting-to-control-the-fps-of-my-animation-a-good-reason-to-continue-using-se)

[requestAnimationFrame 以有限的帧速率](https://stackoverflow.com/questions/9308257/requestanimationframe-at-a-limited-framerate)

您基本上是在考虑必须覆盖内置的 requestAnimationFrame 功能（旨在尽可能快地制作动画），并改为创建计时器，但目前 kineticjs 中没有内置功能来设置动画的帧速率。

您可以进入从 kineticjs 网站下载的 .js 文件，并弄乱以下代码：

```
Kinetic.Animation._animationLoop = function() {
    var that = this;
    if(this.animations.length > 0) {
        this._runFrames();
        Kinetic.Animation.requestAnimFrame(function() {
            that._animationLoop();
        });
    }
    else {
        this.animRunning = false;
    }
};
Kinetic.Animation._handleAnimation = function() {
    var that = this;
    if(!this.animRunning) {
        this.animRunning = true;
        that._animationLoop();
    }
};
RAF = (function() {
    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || Kinetic.Animation.fixedRequestAnimFrame;
})();

Kinetic.Animation.requestAnimFrame = function(callback) {
    var raf = Kinetic.DD && Kinetic.DD.moving ? this.fixedRequestAnimFrame : RAF;
    raf(callback);
};
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-15T12:56:33.490

也许这也有帮助：

在 Animation 函数中，我放置了一个 if 查询以确保动画仅在 x 秒后起作用：

```
 var lastTime = 1000;
    var frameRate = 500;

    var anim = new Kinetic.Animation(function(frame) {

        if(frame.time > (lastTime + frameRate)){
            **YOUR CODE HERE** 

            lastTime = frame.time;
        }

    }, this.layer); 
```

# php - 刷新时插入 MySQL 数据库的空白数据

> ID：14496435
> 
> 赞同：-2
> 
> 时间：2013-01-24T08:00:19.473
> 
> 标签：php, wordpress

刷新到mysql数据库时添加的空白数据如何摆脱？

**这是我的代码**

[https://docs.google.com/file/d/0B3bU0f9cR-ehM1E1Z1MzWHBNQkU/edit](https://docs.google.com/file/d/0B3bU0f9cR-ehM1E1Z1MzWHBNQkU/edit)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:08:42.290

每个 Web 开发人员都必须遵守 2 条严格的规则

1.  所有更改服务器状态的请求（即更改数据库）都必须使用 POST 方法执行
2.  处理 POST 方法请求后，必须进行 GET 方法重定向

因此，例如，在插入后添加这些行

```
header("Location:".$_SERVER['PHP_SELF']);
exit; 
```

# javascript - 带有引号的jQuery属性选择器不起作用

> ID：14496438
> 
> 赞同：0
> 
> 时间：2013-01-24T08:00:28.347
> 
> 标签：javascript, jquery, jquery-selectors, knockout.js

我有一个`.aa_ant`包含 value的类名的输入`1`。

现在，当我加载页面时，我正在执行此操作（案例 1）：

```
alert($('.aa_ant[value*=1]').length ) 
```

它`1`按预期输出。

现在，我将其更改为（CASE 2）：

```
alert($('.aa_ant[value*="1"]').length ) 
```

它停止工作。此外，如果我将其更改`1`为`a`它也会停止工作（案例 1 和 2）。

我做错了什么？

**更新：** .aa_ant 是淘汰赛控制：

```
<input class='aa_ant' data-bind='value: aa_ant, readOnly: is_readonly' />

```

那会是个问题吗？

**更新：**使用长度属性，我想查看是否有任何输入元素包含该值（我不希望任何元素具有该值）。另外，我知道我可以获取所有 .aa_ant 元素并通过它们进行枚举，以查看是否有人包含该值，但我想做 jquery-ish。

**更新：** 这是供参考的实际解决方案：

```
if($('.aa_ant').filter(function(index) {
    if(this.value.indexOf("1") >=0) {
        返回真；
    }
    返回假；
}).长度>0 ) {
    警报（“错误”）；
}

```

谢谢您的帮助 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:12:53.233

您的控件似乎没有`value`属性。如果 CSS 属性选择器未在标记中设置，则无法读取元素的属性，这就是它失败的原因。

这是一个 jQuery 实际上并不完全符合所宣传的 CSS 规范的情况。无论如何都可以工作的唯一原因`[value*=1]`是因为它不是有效的 CSS 选择器，因此在现代浏览器中，它会跳过浏览器的本机 Selectors API 并使用 jQuery 的选择器引擎，它确实支持不带引号的数字*并且*可以基于`value`属性返回，即使`value`属性不会出现在标记中，因此您会得到预期的结果。其他选择器`[value*="1"]`和`[value*=a]`都是`[value*="a"]`有效的 CSS，但与您的控件不匹配，因为它`value`在标记中没有属性，因此您不会得到任何结果。

如果你需要通过实际值查询一个输入控件，看看你是否可以通过别的东西来识别它（Knockout.js 是否给它一个 ID？），否则你必须做一些[DOM 遍历](http://api.jquery.com/category/traversing)或[过滤](http://api.jquery.com/category/traversing/filtering)，并使用[`.val()`](http://api.jquery.com/val)来检查它值以获得正确的元素。选择器应该只用于基于静态属性（即通常不会改变值的属性）的查询，而不是像元素这样`value`的动态属性。`input`

`.filter()`一个使用and的简单示例`.val()`：

```
$('.aa_ant').filter(function() { return $(this).val().indexOf('1') >= 0; }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:10:58.453

你想用 .length 属性实现什么？.length 将返回页面上匹配选择器的数量。

如果您尝试查找输入值的长度，则需要执行以下操作：

```
alert($('.aa_ant[value*="1"]').val().length) 
```

这是您的示例：http: [//jsfiddle.net/ptzVy/](http://jsfiddle.net/ptzVy/)

这是一个如何获取输入长度的示例：

[http://jsfiddle.net/J52Yr/](http://jsfiddle.net/J52Yr/)

# regex - 用于检查字符串是否包含至少一个 [az] 和 [0-9, 两个 [AZ] 并且整个字符串的长度应为 4 到 10 个字符的正则表达式

> ID：14496447
> 
> 赞同：-3
> 
> 时间：2013-01-24T08:00:55.900
> 
> 标签：regex

用于检查字符串是否至少包含一个`[a-z]`&的正则表达式`[0-9]`。两个`[A-Z]`和这里的整个更严格代码的长度应该是 4 到 10 个字符。

我已经尝试了很长时间......但我无法做到。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:06:37.210

```
/^(?=.*?[a-z])(?=.*?[0-9])(?=.*?[A-Z].*?[A-Z]).{4,10}$/ 
```

但是，使用单个正则表达式分别进行四个测试或者`getStringLength()`会更具可读性和可维护性。

# php - 致命错误：在第 516 行的 domainfolder/app/mage.php 中找不到类“Helper_Data”

> ID：14496453
> 
> 赞同：0
> 
> 时间：2013-01-24T08:01:15.337
> 
> 标签：php, magento

登录后，我在管理面板中收到此错误：

> “致命错误：在第 516 行的 /home/hotshopl/public_html/wholesaleapparelshop.com/app/Mage.php 中找不到类 'Webdziner_Ajaxsearch_Helper_Data'”

我尝试在我的 1.6.0.0 站点中安装一个主题，一切都很顺利，直到我刷新了缓存，然后它都崩溃了并给了我消息。[http://www.wholesaleapparelshop.com](http://www.wholesaleapparelshop.com)我想弄清楚这个 Helper 文件在哪里。我已经查看了其他问题和答案，但我似乎找不到我的问题的好答案。我到处找。

看了这个帖子，但什么也没有[http://www.magentocommerce.com/boards/viewthread/239818/](http://www.magentocommerce.com/boards/viewthread/239818/)

我能联系到的最亲密的人是

> [Magento 模块致命错误：在第 516 行的 \xampp\htdocs\magento\app\Mage.php 中找不到类“Mage_Cashondelivery_Helper_Data”](https://stackoverflow.com/questions/9190044/magento-module-fatal-error-class-mage-cashondelivery-helper-data-not-found-in)

请指教帮助 谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-10-03T21:30:24.223

您可以检查是否在 System>Tools>Compiler 下启用了 Compiler。如果已启用，请将其禁用，然后刷新 Magento 缓存。之后您可能不再收到此错误，因为这对我有用。

之后您始终可以再次启用编译器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:09:41.283

> 我想弄清楚这个 Helper 文件在哪里

它*应该*在`app/code/[pool]/Webdziner/Ajaxsearch/Helper/Data.php`, 中带有 [pool]`local`或者`community`. 请记住，路径名区分大小写。

如果文件明确位于此位置，请检查以下内容：

*   是否安装了像 APC 这样的操作码缓存？然后清除它并重试
*   文件的所有者和权限设置是否正确？它应该可以被 PHP 读取（如果不确定，例如将权限与 Mage.php 的权限进行比较）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-02T11:38:43.520

It's not that complicated, take it easy :)

Listen, First you must have the below code(/Helper/Data.php)

```
class Mage_Profile_Helper_Data extends Mage_Core_Helper_Abstract
{

} 
```

From now, take care- it is all about where you have called the helper { Eg: Mage::helper('modulename') }. If such a call is there, then you need to have a code like:

```
<global>
......
    <helpers>
        <yournamespace_modulename>
            <class>yournamespace_modulename_Helper</class>
        </yournamespace_modulename>
    </helpers>
....
</global> 
```

-in your /etc/config.xml I mean, it is all about the 'modulename' in the helper call.

Notice: It is not that good to have more than one `<helpers>` in your /etc/config.xml. Use it only if you are in the middle of guys running codes smarter than you.

Thank You.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-10T06:11:52.970

我也面临同样的问题。但我正在使用代码上传文件和我要上传文件的文件夹，没有写权限。因此，请检查您的代码，您也可以授予 var 和 media 文件夹及其子文件夹的写入权限并检查它。

# php - php url 路由

> ID：14496459
> 
> 赞同：0
> 
> 时间：2013-01-24T08:01:30.443
> 
> 标签：php

您好，我有以下代码用于从 url 构建正则表达式。问题是当我没有将某些参数传递给方法时，我收到以下错误：

```
Warning: preg_match(): Empty regular expression on line 27 
```

这是代码：

```
public function buildRegex($uri, array $params)
{
    // Find {params} in URI
    if(preg_match_all('/\{(?:[^\}]+)\}/', $uri, $this->matches, PREG_SET_ORDER))
    {
        foreach($this->matches as $isMatch)
        {
            // Swap {param} with a placeholder
            $this->uri = str_replace($isMatch, "%s", $uri);
        }
        // Build final Regex
        $this->finalRegex = '/^' . preg_quote($this->uri, '/') . '$/';
        $this->finalRegex = vsprintf($this->finalRegex, $params);

        return $this->finalRegex;
    }
} 
```

当我这样使用时：

```
$routeCollection->add('index', '/index.php/index/home/{name}', 'SiteName:Controller:Index', 'Home', ['name' => '(\w+)']); 
```

它工作得很好，但是当我没有参数时，我只是通过了类似的东西：

```
$routeCollection->add('contact', '/index.php/contact/', 'SiteName:Controller:Contact', 'index'); 
```

我得到那个错误。无论如何，请帮我解决这个问题，因为我没有想法。

类的完整代码：

```
class RouterCollection
{
    public $routeCollection = [];

    public function add($name, $pattern, $controller, $action = null, array $params = [])
    {
        if(!isset($this->routeCollection[$name]))
            $this->routeCollection[$name] =
        [
            'pattern' => $pattern,
            'controller' => $controller,
            'action' => $action,
            'params' => $params,
        ];
    }
    public function findMatch($url)
    {
        foreach($this->routeCollection as $routeMap)
        {
            $this->regex = $this->buildRegex($routeMap['pattern'], $routeMap['params']);
            // Let's test the route.
            if(preg_match($this->regex, $url))
            {
                return ['controller' => $routeMap['controller'], 'action' => $routeMap['action']];
            }
            else
            {
                return ['controller' => $this->routeCollection['404']['controller'], 'action' => $this->routeCollection['404']['action']];
            }
        }
    }
    public function buildRegex($uri, array $params)
    {
        // Find {params} in URI
        if(preg_match_all('/\{(?:[^\}]+)\}/', $uri, $this->matches, PREG_SET_ORDER))
        {
            foreach($this->matches as $isMatch)
            {
                // Swap {param} with a placeholder
                $this->uri = str_replace($isMatch, "%s", $uri);
            }
            // Build final Regex
            $this->finalRegex = '/^' . preg_quote($this->uri, '/') . '$/';
            $this->finalRegex = vsprintf($this->finalRegex, $params);

            return $this->finalRegex;
        }
    }
    public function getCollection()
    {
        return $this->routeCollection;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-25T10:01:49.520

当提供的没有时，您的`buildRegex()`方法返回。 `NULL``$uri``{...}`

`NULL`是一个*空的正则表达式*。

解决方案？总是`buildRegex()`返回一个正则表达式！

# c++ - 如何制作链表

> ID：14496461
> 
> 赞同：-3
> 
> 时间：2013-01-24T08:01:34.010
> 
> 标签：c++

所以我正在尝试用 C++ 编写一个链表，但我不知道该怎么做。我或多或少地理解了这个概念，我看到了一个给我这段代码的教程，但它并没有很好地解释它。我想知道你们是否可以帮助我完成接下来的步骤，向我解释我刚刚做了什么，并向我解释如何继续。我希望它以堆叠的方式添加元素，弹出或推送元素，后进先出，最后释放元素并释放内存以防止内存泄漏。谢谢你。

```
 #include <iostream>
using namespace std;

struct node
{
    int num;
    node *link;
}*p;

void main()
{
    node *root;

    root = new node;
    root->num=5;
    root->link = p;
    p = root;

    node *q;

    for(q = p; q != NULL; q = q->link)
    {
        cout<<q->num;
        cout<<endl;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:04:59.710

一个简单的链表演示

```
#include <iostream>
using namespace std;

typedef struct NODE
{
    int value;
    NODE *next;
};

int main()
{
    int opt;
    NODE *root = NULL;
    NODE *tmp = NULL;
    NODE *last = NULL;
    do
    {
        cout << "Simple Singly Linked-List Example\n\n";
        cout << "\t1\. Create Root\n";
        cout << "\t2\. Add Node\n";
        cout << "\t3\. Delete First Node\n";
        cout << "\t4\. Display Last Node\n";
        cout << "\t5\. Display Nodes\n";
        cout << "\t6\. Exit Program.\n\n";

        cout << "Enter a choice : ";
        cin >> opt;

        switch (opt)
        {

            case 1: // create root;
                if (root != NULL) // root already exists no need to ceate one
                {
                    cout << "Root already exists\n\n";
                    break;
                }

                root = new NODE;
                cout << "Enter Value for new Node : ";
                cin >> root->value;
                root->next = NULL;

                // root & last will be same for the when the node count is ONE
                last = root;
                cout << "\nRoot node has been created successfully\nPress any key to continue...\n\n";
                cin.get();

                break;

            case 2:
                if (root == NULL)
                {
                    cout << "Create root node first\n\n";
                    break;
                }

                tmp = new NODE;
                cout << "Enter Value for new Node : ";
                cin >> tmp->value;
                tmp->next = NULL;
                // attach it to the last node
                last->next = tmp;

                //set newly created node as last node
                last = tmp;
                cout << "\nRoot node has been created successfully\nPress any key to continue...\n\n";
                cin.get();
                break;

            case 3:
                if (root == NULL)
                {
                    cout << "No nodes to delete\n\n";
                    break;
                }

                // we have to delete the root node and set the next node as root
                tmp = root->next;
                cout << "Deleted the node with value : " << root->value << "\nPress any key to continue...\n\n";
                delete root;
                cin.get();

                //set second node as root now
                root = tmp;
                break;

            case 4:
                if (root == NULL)
                {
                    cout << "No nodes to delete\n\n";
                    break;
                }

                // delete the very last node (easy) and update the next pointer of second last node to null (tricky)

                //first lets find the second last node
                tmp = root;
                while(tmp->next != NULL)
                {
                    tmp = tmp->next;
                }
                //update the second last node next pointer to null
                cout << "Deleted the node with value : " << last->value << "\nPress any key to continue...\n\n";
                cin.get();
                delete last;

                //update second last one as last node
                last = tmp;
                last->next = NULL;

                break;
            case 5:
                if (root == NULL)
                {
                    cout << "No nodes to disply\n\n";
                    break;
                }

                tmp = root;
                cout << "Node Values  : ";
                while(tmp)
                {
                    cout << tmp->value << ",\t";
                    // set to print next node
                    if (tmp->next)
                        tmp = tmp-next;
                    else
                        break;

                }
                cout << "\nPress any key to continue\n\n";
                cin.get();
                break;

            default:
                cout << "Invalid Option\n\nPress any key to continue...\n\n";
                cin.get();

        }
    }while(opt != 6);

    // always a good practise to delete objects u have created;
    tmp = root;
    while(tmp)
    {
        //sorry for using the last node pointer, dont seems subtle
        last = tmp;
        tmp = tmp->next;
        cout << "Deleted Node with value : " << last->value << "\n";
        delete last;
    }

    return 0;
} 
```

* * *

检查有关链接列表的几个链接

[链接＃1](http://www.codeproject.com/Articles/24684/How-to-create-Linked-list-using-C-C)

[链接#2](http://www.cplusplus.com/articles/Lw6AC542/)

[链接＃3](http://www.baumann.info/public/cpp_lernaufgabe_linked_list.pdf) <--非常有用，我仍然在书签中

[Link #4](http://www.cprogramming.com/tutorial/lesson15.html) <--单链表，最基本的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:11:32.190

首先，既然您已经使用了标准库 ( `#include <iostream>`)，请注意标准库已经有列表： ( `#include <list>`) 以及其他*容器*。

[**你可以在这里**](http://en.cppreference.com/w/cpp/container)找到他们的文档[](http://en.cppreference.com/w/cpp/container)

 **如果您想自己编写，请使用适当的方法：不要将所有内容都放入 main，而是定义适当的类和方法来操作元素。您可以参考我作为“灵感”链接的标准文档。

你可能最终会得到类似的东西

```
class list
{
    struct element
    {
        element* pnext;
        int value;
    };

    element* root;

public:

    list() :root() 
    {}

    ~list() 
    { while(root) pop(); }

    list(const list&) =delete;

    list& operator=(const list&) =delete;

    void push(int val) 
    { 
        element* p = new element;
        p->value = val;
        p->pnext = root;
        root = p;
    }

    void pop()
    {
        element* pe = root;
        root = pe->pnext;
        delete pe;
    }

    class index
    {
        element* p;
        index(element* s) :p(s) {}
        friend class list;
    };

    index start() const const 
    { return index(root); }

    index next(index i) const 
    { return index(i.p->pnext); }

    int at(index i) const 
    { return i.p->value; }

    bool is_end(index i) const 
    { return i.p == nullptr; }
}; 
```**

# javascript - 可以将 ResponsiveImageGallery 设置为自动和手动吗？

> ID：14496464
> 
> 赞同：0
> 
> 时间：2013-01-24T08:01:41.040
> 
> 标签：javascript, jquery, plugins

我使用响应式图片库。我希望幻灯片显示为自动和手动。有没有办法改变这个？任何人都可以帮忙吗？请！演示链接是
[http://tympanus.net/Tutorials/ResponsiveImageGallery/](http://tympanus.net/Tutorials/ResponsiveImageGallery/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:24:07.263

更多信息和代码可能会有所帮助。但我想我有你正在寻找的答案，如果你查看主页：[http](http://tympanus.net/codrops/2011/09/20/responsive-image-gallery/) ://tympanus.net/codrops/2011/09/20/responsive-image-gallery/ 在反馈部分，有一个帖子来自 James 于 2012 年 5 月 23 日 18:41 解释自动幻灯片。

引用：

> ...
> 
> 在文件 gallery.js 中，在函数 _initCarousel 中，在 $esCarousel.elastislide( 'setCurrent', current ); 之后添加这些行 （〜第103行）：

```
window.setInterval(function(){
   _navigate( ‘right’ );
 }, 5000); 
```

> 您只需将 5000 更改为您想要的值。

我希望这涵盖了您的问题。

# python - 如何找出更新查询的状态

> ID：14496465
> 
> 赞同：0
> 
> 时间：2013-01-24T08:01:46.533
> 
> 标签：python, mysql-python

我怎么知道以下更新是否成功执行，现在语句执行但表没有反映。

```
cursor = mysql.cursor()
cursor.execute("""UPDATE foo SET key1 = %s  WHERE id = %s""", (val1, id2)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:03:15.333

据我所知，你需要打电话

```
mysql.commit() 
```

使您的更改生效。

这可以确保您的数据库操作（可以有多个）在**一个**所谓的*事务*中执行。如果出现问题，您可以还原整个更改。

在一个事务中，您将属于一起的东西放在一起，例如添加一个新人并在另一个表中设置对该人的引用。

另请参阅此页面上的**插入操作**`rollback`一章（在异常情况下使用）：[http ://www.tutorialspoint.com/python/python_database_access.htm](http://www.tutorialspoint.com/python/python_database_access.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T09:00:25.350

您可以参考 Source Forge 上的文档， http: [//mysql-python.sourceforge.net/MySQLdb.html](http://mysql-python.sourceforge.net/MySQLdb.html)。

首先，正如您提到的，您在此游标上执行连接、游标和查询。这是来自文档的示例：

```
import MySQLdb
db=MySQLdb.connect(passwd="moonpie",db="thangs")
c=db.cursor()
max_price=5
c.execute("""SELECT spam, eggs, sausage FROM breakfast
          WHERE price < %s""", (max_price,)) 
```

**然后，您**使用以下方法获取结果：

```
c.fetchone() 
```

结果作为单个元组返回。如果结果包含更多行，请使用

```
c.fetchall() 
```

或者

```
c.fetchmany() 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T09:22:08.377

如果默认禁用自动提交，则需要显式执行`commit`语句。

`SET autocommit = 1`启用自动提交，并且每个语句都将在它们运行时提交。参考[这个链接](http://dev.mysql.com/doc/refman/5.0/en/commit.html)

# javascript - 需要从 URL 中获取最后一个单词

> ID：14496467
> 
> 赞同：0
> 
> 时间：2013-01-24T08:02:04.927
> 
> 标签：javascript

我需要从描述中提供的 URL 中获取最后一个单词。例如，有一个描述包含一个 URL 和一些其他文本，并且 URL 中的最后一个单词从一个页面更改为另一个页面（使用 JavaScript）。

我需要使用 URL 的最后一个单词来获取记录。你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:08:13.693

如果您知道将单词与 URL 的其余部分分开的字符，则可以使用`split`返回字符串数组的方法。从那个开始，最后一个元素是你的话。

例如，“&”作为分隔符：

```
var str  = document.URL;
var n=str.split("&");
var word = n[n.length - 1]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:46:27.010

举例说明您的描述和网址。我的猜测是这样的：

```
blabla blablabla http://url.domain/bla/bla/bla.html bla bla bla 
```

然后你用'http'分割你的字符串

```
str.split("http"); 
```

你得到一个包含 2 个元素的数组。您在遇到的第一个空格处拆分第二个元素，然后您得到最后一次出现 / 并且最后一个 / 之后的文本是您的页面。

前任：

```
function getString() {
    var str = "bla bla bla http://www.dell.com/index.html bla blabla"

    var sub = str.split("http")[1];
    var index = sub.indexOf(" ");
    sub = sub.substring(0,index);
    index = sub.lastIndexOf("/");
    sub = sub.substring(index+1,sub.lenght);
    alert(sub);
} 
```

# angularjs - 如何在类属性中使用 AngularJS ng-controller 指令

> ID：14496474
> 
> 赞同：2
> 
> 时间：2013-01-24T08:02:35.040
> 
> 标签：angularjs, directive

我是 AngularJS 的新手，并试图让以下代码正常工作。

这实际上是 AngularJS 教程中的代码，稍作修改。我所做的改变是我将所有指令都作为类而不是属性。

问题是 AngularJS 可以成功引导，并且可以评估表达式 {{ 1 + 2 }}。但是 ng-controller 似乎无法被识别，并且以下 ng-repeat 也不起作用。

我检查了 AngularJS API 文档，它说 ng-controller 可以用作一个类。

任何有使用 AngularJS 指令作为类的经验的人都可以帮助我吗？

ng-controller 作为类（不工作）：http: [//jsfiddle.net/qZmky/](http://jsfiddle.net/qZmky/)

ng-controller 作为属性（工作）：http: [//jsfiddle.net/p45Uv/](http://jsfiddle.net/p45Uv/)

```
<html class="ng-app">
<p>Nothing here {{1 + 2}}</p>
<head>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular.js">    </script>
  <script>
    function PhoneListCtrl($scope){
       $scope.phones = [
          {"name": "Nexus S","snippet": "Fast just got faster with Nexus S."},
          {"name": "Motorola XOOM™ with Wi-Fi","snippet": "The Next, Next Generation tablet."},
          {"name": "MOTOROLA XOOM™","snippet": "The Next, Next Generation tablet."}
       ]; 
    }
   </script>
</head>
<body class="ng-controller: PhoneListCtrl;">
  <ul>
    <li ng-repeat="phone in phones;">
      {{phone.name}}
      <p>{{phone.snippet}}</p>
    </li>
  </ul>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-26T03:46:26.930

从 AngularJS 邮件列表中得到答案，API 文档实际上是错误的......

详情请参考以下内容：

[https://groups.google.com/forum/?fromgroups=#!searchin/angular/ng-controller/angular/5-regnflDD4/VR4fqdEVtM8J](https://groups.google.com/forum/?fromgroups=#!searchin/angular/ng-controller/angular/5-regnflDD4/VR4fqdEVtM8J)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:26:55.327

我为此示例创建了一个 jsfiddle - [http://jsfiddle.net/bsphere/xgGjL/](http://jsfiddle.net/bsphere/xgGjL/)

按照文档 - [http://docs.angularjs.org/api/ng.directive:ngController](http://docs.angularjs.org/api/ng.directive:ngController)它对我也不起作用。

为什么不简单地使用`<body ng-controller="PhoneListCtrl">`？

也许您应该尝试在邮件列表中提出这个问题（提供 jsfiddle）

# mysql - Codeigniter $this->db->query 不适用于有效的本机 SQL

> ID：14496484
> 
> 赞同：2
> 
> 时间：2013-01-24T08:03:30.317
> 
> 标签：mysql, codeigniter

我按照此处的 CI 用户指南进行操作`http://ellislab.com/codeigniter/user-guide/database/queries.html`，但仍然无法让此查询正常工作。我可以将不带 '' 的确切代码粘贴到工作台中，它运行良好，所以我不确定 CI 语法在哪里出错。这里是：

```
 public function test(){
        ini_set('memory_limit','-1')
        $my_sql = $this->db->query( 

            'DROP TABLE temp1;
            DROP TABLE temp2;
            CREATE TEMPORARY TABLE temp1 (id varchar(150),user varchar(150),item varchar(150),city varchar(150));
            INSERT INTO  temp1 SELECT id, user, item, city FROM add WHERE user = 1;
            CREATE TEMPORARY TABLE temp2 (id varchar(50),vendor varchar(50)) ;
            INSERT INTO temp2 SELECT id, vendor FROM selection;
            SELECT a.user, a.id, a.item, a.city, b.vendor
            FROM temp1 a 
            RIGHT JOIN temp2 b ON a.id=b.id;'
        );

        $query = $this->db->get($my_sql);
        return $query->result_array();

    } 
```

我的错误是 1064 `error in SQL syntax`。当我在本地运行它时，它引用 DB_driver.php 文件第 330 行。在云中运行时，它引用这一行`$query = $this->db->get($my_sql);`。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:15:27.793

没必要，`get()`因为你已经打电话了`query()`..

> get 运行选择查询并返回结果。可单独用于从表中检索所有记录

尝试这个

```
 $my_sql = $this->db->query( 

        'DROP TABLE temp1;
        DROP TABLE temp2;
        CREATE TEMPORARY TABLE temp1 (id varchar(150),user varchar(150),item varchar(150),city varchar(150));
        INSERT INTO  temp1 SELECT id, user, item, city FROM add WHERE user = 1;
        CREATE TEMPORARY TABLE temp2 (id varchar(50),vendor varchar(50)) ;
        INSERT INTO temp2 SELECT id, vendor FROM selection;
        SELECT a.user, a.id, a.item, a.city, b.vendor
        FROM temp1 a 
        RIGHT JOIN temp2 b ON a.id=b.id;'
    );

    return $my_sql->result_array(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:08:18.390

请使用此处[http://ellislab.com/codeigniter/user-guide/database/forge.html](http://ellislab.com/codeigniter/user-guide/database/forge.html)的 DCL 和 DDL 操作的 Database Forge 类。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-27T12:34:02.537

您需要直接从 $my_sql 返回结果，只需使用 this: return`$my_sql->result_array();`或 this 获取更多信息：

```
if ($my_sql-> num_rows() > 0) {
    $result = $my_sql-> result();
    return $result;
} else {
    return FALSE;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-13T20:23:07.430

问题是 CI 默认使用 mysql PHP API，运行 ->query 最终运行 mysql_query 函数，该函数不允许多个 SQL 语句（这是出于安全原因）。
看起来 mysqli API 有一个 multi_query 函数，允许执行多个查询。您的另一个选择是使用 REGEX 将包含多个查询的字符串拆分为子查询。

# mongodb - 如何在 Mongodb 中使用时区设置进行查询

> ID：14496489
> 
> 赞同：9
> 
> 时间：2013-01-24T08:03:57.243
> 
> 标签：mongodb, timezone

我正在尝试将我的应用程序数据库从 Mysql 转移到 Mongodb，但我遇到了日期时间查询的问题。

在 Mysql 中，当有 datetime 或 timestamp 列时，您可以使用命令为每个请求设置特定的时区：

```
SET time_zone = timezone;
// do queries here 
```

对于这种需求，有没有类似的解决方案？

我知道应用程序可以在从 mongodb 检索数据后完成这项工作，但是将聚合与 $hour、$month 或 $day 运算符一起使用呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-20T15:39:49.223

MongoDB 以 UTC 存储所有日期和时间。这允许时区支持和翻译在应用程序端而不是服务器端完成。

存储日期和时间的最佳方式是通过 Javascript [Date](http://w3schools.com/jsref/jsref_obj_date.asp)对象。这将允许您使用 getTime() 和 Date(milliseconds) 在 Unix 时间戳之间转换日期。

应该注意的是，Javascript 以毫秒为单位存储自 UNIX 纪元以来的时间，而标准的[UNIX 时间戳](http://en.wikipedia.org/wiki/Unix_time)以自纪元以​​来的秒数为单位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:14:28.533

在这里讨论了类似的问题， [https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/PodDGnWM09Q](https://groups.google.com/forum/?fromgroups=#!topic/mongodb-user/PodDGnWM09Q)

此外，这个网站也可能会派上用场以供将来参考:) [http://www.querymongo.com/](http://www.querymongo.com/)

# objective-c - 如何创建与已有对象具有相同类的新对象？

> ID：14496495
> 
> 赞同：0
> 
> 时间：2013-01-24T08:04:21.233
> 
> 标签：objective-c, cocoa-touch, introspection

我有一个包含不同类型对象的数组：`UIButton`s、`UILabel`s、`UITableView`s 等。

有什么方法可以在不使用`if`/`else`条件的情况下在数组中循环时动态创建这些对象，如下所示：

```
for (NSObject *obj in objectsArray)
{
    if ([obj isKindOfClass:[UIButton class]]) 
    {
         UIButton *btn = [UIButton buttonWithType:UIButtonTypeRoundedRect];
         [self.view addSubview:btn];
    }
    else if ([obj isKindOfClass:[UILabel class]]) 
    {
        UILabel *lbl = (UILabel*)obj;
        [self.view addSubview:lbl];
    }
} 
```

我们可以创建对象，例如`UIButton *btn`或`UILabel *lbl`使用反射或动态的东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T09:09:42.590

你可以做

```
for (Class _class in classArray) {
    id object = [[_class alloc] init];
} 
```

或者

```
for (NSString *className in classNameArray) {
    id object = [[NSClassFromString(className) alloc] init];
} 
```

所以你不需要类引用的实例。

# ssl - 使用 dart:io WebSocket 和 wss:// 协议 (SSL)

> ID：14496496
> 
> 赞同：3
> 
> 时间：2013-01-24T08:04:22.580
> 
> 标签：ssl, websocket, dart

我尝试使用包中的WebSocket[类](http://api.dartlang.org/docs/releases/latest/dart_io/WebSocket.html)`dart:io`连接到 SSL WebSocket 服务。这似乎不起作用。目前不`wss://`支持协议还是我遗漏了什么。这是使用的代码：

```
var ws = new WebSocket('wss://...');

ws.onopen = () {
    print('open');
};

ws.onmessage = (e) {
    print(e.data);
}; 
```

我还尝试了替代 API：

```
var client = new HttpClient(),
    conn = new WebSocketClientConnection(client.getUrl(new Uri.fromString('https://...')));

    conn.onMessage = (msg) {
        print(msg);
    };

    conn.onOpen = () {
        print('open');
    }; 
```

这似乎也不起作用，我收到如下错误：

> 1006 HttpParserException：在收到完整响应标头之前连接已关闭 1006 HttpParserException：请求方法无效

我正在使用最新的 SDK。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T21:52:38.980

我假设你是最新版本的 Dart。如果您不是，我建议您更新。

您正在调用的某些方法 -返回对象`conn.onMessage()`，您需要使用 a来访问（“收听”）流。这是语法：`conn.onOpen()``Stream``.listen()`

```
import 'dart:html';

void main() {
  var wss = new WebSocket('wss://echo.websocket.org');
  wss.onOpen.listen((item) {
    wss.send("hello world");
  });

  wss.onMessage.listen((message) {
    print(message.data);
  });
} 
```

等等

你能试试吗？有关更多详细信息，请阅读api 文档中的[Stream](http://api.dartlang.org/docs/releases/latest/dart_async/Stream.html)和[Websocket](http://api.dartlang.org/docs/releases/latest/dart_html/WebSocket.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T22:02:28.483

实际上，第二种选择适用于最新的 SDK。问题是我正在连接到 Socket.io 服务并且我没有执行 HTTP 握手。

# xml - 如何使用 xslt 从 xml 文档中获取节点

> ID：14496502
> 
> 赞同：0
> 
> 时间：2013-01-24T08:04:53.017
> 
> 标签：xml, xslt

我对xml不熟悉。我有一个结构如下的 xml 文档：

```
<?xml version="1.0" encoding="UTF-8"?>
<a:b xmlns="something">
  <a:c>
    <d>
      <e>
        <item>item1</item>
        <item>item1</item>
        <item>item1</item>
       </e>
     </d>
   <a:c>
 <a:b> 
```

我想让节点“e”在我的 xslt 中检索其子项，如下所示：

```
<xsl:variable name="Product" select="document('itemList.xml')/node()[1]/node()[0]/node()[0]/node()[0]"/> 
```

但它不起作用。请提出正确的方法。另外，第一个节点是由 node()[0] 还是 node()[1] 引用的？欢迎提供文章链接，以便更好地理解 xml 的这个节点概念。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:09:01.947

您的 XML 没有`a`绑定到 URI 的前缀。假设这是固定的。

```
a:b/a:c/x:d/x:e 
```

当 x 绑定到时将为您提供节点`something`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:25:41.207

您提供的 XML 当前无效。它已声明默认命名空间，但尚未声明`a:`命名空间。它需要从这样的事情开始：

```
<a:b xmlns="something" xmlns:a="somethingElse"> 
```

如果在 XSLT 中声明了命名空间并将命名空间与前缀`a`关联，则可以使用以下命令访问节点：`something``s``e`

```
/a:b/a:c/s:d/s:e 
```

如果您只想根据节点的位置访问节点，您可以这样做，尽管这通常不是一个很好的做法：

```
/*[1]/*[1]/*[1]/*[1] 
```

要回答您的问题，XPath 是基于 1 索引的，因此任何选择中的第一项都可以使用 [1] 访问。

# css - 如何自动调整弹出框大小

> ID：14496514
> 
> 赞同：3
> 
> 时间：2013-01-24T08:05:46.070
> 
> 标签：css, twitter-bootstrap

这是我的小提琴。 [http://jsfiddle.net/sNrLQ/1/](http://jsfiddle.net/sNrLQ/1/)

我希望弹出窗口根据其内容自动调整大小。我也试图给它一个 400px 的最大宽度。

我的 CSS

```
.popover2{display:block!important;width: 400px !important;} 
```

还有我的html

```
<div class="popover popover2 left"><div class="arrow"></div><div class="popover-content"><p>tellus. Donec dui tortor, commodo nec laoreet ac, </p></div></div> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-08-19T18:23:33.543

**[演示](http://jsfiddle.net/sNrLQ/6/)**

试试这个

## css

```
.popover2{
    display:block !important;
    max-width: 400px!important;
    width:auto;
} 
```

希望这有帮助，谢谢

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:09:42.363

使用`min-height`max-h css 属性和`overflow:auto`

通常，如果您使用 twitter bootstrap，自动调整大小已经被处理，跨浏览器:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-21T04:34:28.797

您最常在 boostrap.min.css 中配置最大宽度。信息会根据文件中预设的最大宽度自动调整大小。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-05-13T14:37:35.687

我希望它会有用

```
var $btn = $("#my_btn")
  .popover()
  .on("show.bs.popover", function(e){
    p.data("bs.popover").tip().css({"max-width": "500px"});
  });
```

# regex - `(a|e|i|o|u) 之间的正则表达式性能？` 和 `([aeiou])?`

> ID：14496515
> 
> 赞同：3
> 
> 时间：2013-01-24T08:05:46.213
> 
> 标签：regex, performance

看起来两者都`(a|e|i|o|u)?` 具有`[aeiou]?`相同的效果，我想知道性能上是否有任何显着差异。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:22:57.427

在您给出的示例中，使用类而不是交替有一个显着的好处。

例如：

```
string 'abcde'
regex1 /(a|e|i|o|u)cde/
regex2 /[aeiou]cde/ 
```

将 regex1 或 regex2 应用于该字符串将失败，但是幕后发生了什么？

Regex1 获取字符串的第一个字符并查看它是否与正则表达式匹配，因此它会根据匹配的 (a|e|i|o|u) 检查 'a'，但是正则表达式引擎还指出，还有 4 种其他替代可能是测试这个是否稍后失败。然后它获取字符串的第二个字符并将其与正则表达式“c”的第二个原子组匹配这会导致正则表达式失败，但是它仍然有 4 个其他“状态”可以用来尝试进行匹配，因此正则表达式在决定正则表达式将完全失败并退出之前，引擎将后退一步并尝试将字符串的第一个字符与 eiou 匹配。

另一方面，正则表达式 2 确定字符串 'a' 的第一个字符是类 [aeiou] 中的一个字符，因此不会创建更多状态，因此当第二个字符无法匹配时，它会以失败退出，快得多比正则表达式1。

正则表达式内部的工作原理还有很多，因为有两种类型的引擎（确定性和非确定性），但如果您有兴趣阅读更多正则表达式[。info](http://www.regular-expressions.info/tutorial.html)对正在发生的事情有很好的详细描述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:13:16.463

以上都将匹配相同的东西，但不同之处在于 [AEIOU] 将启动一个字符类。而不是写出 (1|2|3|4|5) 你可以简单地写出 [1-5]，它会被解释为同样的事情。使用另一种方法，您每次都需要重新声明您想要匹配的所有内容。

更多内容可以在这里阅读[http://www.regular-expressions.info/charclass.html](http://www.regular-expressions.info/charclass.html)

# c# - FileHelpers DelimiterFieldBuilder 问题

> ID：14496518
> 
> 赞同：1
> 
> 时间：2013-01-24T08:06:13.457
> 
> 标签：c#, filehelpers

我有这个简单的文件。

```
first name 1,last name 1
first name 2
first name 3,last name 3
first name 4,last name 4 
```

*   案例1：我使用这个类从文件中读取数据：

    ```
     [DelimitedRecord(",")]
        public partial class Person
        {
            private string firstName;

            [FieldNullValue("default last name")]
            private string lastName;

            public string FirstName
            {
                get { return firstName; }
                set { firstName = value; }
            }

            public string LastName
            {
                get { return lastName; }
                set { lastName = value; }
            }
        } 
    ```

    和这段代码

    ```
     ExcelStorage provider = new ExcelStorage(typeof(Person));
            provider.FileName = "data.csv";
            Person[] res = provider.ExtractRecords() as Person[]; 
    ```

我正确获取数据，数组中的第二个元素具有姓氏 = 默认姓氏。

*   案例 2：我使用动态构建类型读取数据：

    ```
     DelimitedClassBuilder cb = new DelimitedClassBuilder("Person2", ",");
            cb.AddField("firstName", typeof(string));
            cb.AddField("lastName", typeof(string));
            cb.LastField.FieldNullValue = "default last name";
            DelimitedFileEngine engine = new DelimitedFileEngine(cb.CreateRecordClass());
            DataTable dt = engine.ReadFileAsDT("data.csv"); 
    ```

我得到以下异常：`Line: 2 Column: 0\. Delimiter ',' not found after field 'firstName' (the record has less fields, the delimiter is wrong or the next field must be marked as optional).`

让我们像这样更改文件，在第二行添加分隔符

```
first name 1,last name 1
first name 2,
first name 3,last name 3
first name 4,last name 4 
```

*   案例 1：使用静态类型类读取：我得到相同的结果：有一个默认姓氏
*   案例2：使用动态创建的对象读取：不再刹车但没有默认值，只有“”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:38:41.170

首先，您应该将第二个字段设置为可选。

```
 cb.LastField.FieldNullValue = "default last name"; 
```

然后你不需要添加逗号。

其次，如果您确实添加了逗号，那么您需要更改动态运行时类处理空字段的方式。`ClassBuilder`不被视为`string.Empty`（`null`这可能是一个错误，因为它与您没有动态创建类的第一种方法不同）。但是您可以提供一个简单的转换器来处理这个问题。

```
 cb.LastField.Converter.TypeName = typeof(NullValueConverter).ToString(); 
```

这是转换器的代码

```
public class NullValueConverter : ConverterBase
{
    public override object StringToField(string stringSource)
    {
        return stringSource;
    }

    public override string FieldToString(object fieldValue)
    {
        // treat string.empty as null
        string result = fieldValue.ToString();
        if (string.IsNullOrWhiteSpace(result))
            return null;
        return result;
    }
} 
```

# javascript - 为什么我使用 jQuery filter() 不起作用

> ID：14496519
> 
> 赞同：0
> 
> 时间：2013-01-24T08:06:16.597
> 
> 标签：javascript, jquery

我需要按日期、类型和地点对一些事件进行排序。当单击日历中的复选框或日期时，我只想显示该日期和那些复选框的事件。例如，如果我从**日历中选择****21**，从流派复选框中选择**古典，从场所复选框中选择****卢卡斯剧院**，我希望它只显示 21 日在卢卡斯的经典事件。我希望它隐藏其他所有内容。

 ******但是，我的 filter() 仅显示所选内容似乎不起作用。我对 filter() 的概念或我对它的使用有误，还是问题出在其他地方？

这是我的 jQuery：

```
$(function(){

    $('input').attr('checked', false);

    $('label.check').click(function(){
            if( $(this).find('input').is(':checked') ){
                $(this).find('input').attr('checked', false);
                $(this).removeClass('checked');
            } else {
                $(this).find('input').attr('checked', true);
                $(this).addClass('checked');
            }

            $(this).find('input').trigger('change');

            return false;
        });

    $('label.check, .calendar a').click(function(){
        $(this).toggleClass('active');
        filtering();
        return false;
    });

    function filtering(){
        var values = {}
        $('.search-options').each(function(){

            var attr_name = $(this).attr('name');
            var check_value = $(this).find('input:checked');
            var date_text = $(this).find('.calendar a.active');

            values[attr_name] = [];

            check_value.each(function(){
                values[attr_name].push('' + attr_name + '="' + $(this).val() + '"');
            });

            date_text.each(function(){
                values[attr_name].push('' + attr_name + '="' + $(this).text() + '"');
            });
        })

        for ( var i in values ){

            var joined = values[i].join()
            var match = $('.widget.left').filter(joined);
            match.show()
            console.log( match );
        };
    };
}); 
```

这是我的 HTML 它是关于：

```
 <div class="dd">
       <div class="concerts check-group">
           <form action="" method="post">
               <div class="search-options left" name="date">
                    <h3>Select Dates</h3>
                    <div class="calendar-title">
                        <h4>March &amp; April 2013</h4>
                    </div>
                    <div class="calendar">
                        <table width="100%" border="0" cellspacing="0" cellpadding="0">
                            <tr>
                                <th>s</th>
                                <th>m</th>
                                <th>t</th>
                                <th>w</th>
                                <th>t</th>
                                <th>f</th>
                                <th>s</th>
                            </tr>
                            <tr>
                                <td class="disabled">17</td>
                                <td class="disabled">18</td>
                                <td class="disabled">19</td>
                                <td class="disabled">20</td>
                                <td><a href="#">21</a></td>
                                <td><a href="#">22</a></td>
                                <td><a href="#">23</a></td>
                            </tr>
                            <tr>
                                <td><a href="#">24</a></td>
                                <td><a href="#">25</a></td>
                                <td><a href="#">26</a></td>
                                <td><a href="#">27</a></td>
                                <td><a href="#">28</a></td>
                                <td><a href="#">29</a></td>
                                <td><a href="#">30</a></td>
                            </tr>
                            <tr>
                                <td><a href="#">31</a></td>
                                <td><a href="#">1</a></td>
                                <td><a href="#">2</a></td>
                                <td><a href="#">3</a></td>
                                <td><a href="#">4</a></td>
                                <td><a href="#">5</a></td>
                                <td><a href="#">6</a></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="search-options left" name="genre">
                    <h3>genre</h3>
                    <div class="labels genre-vals">
                        <label class="check">
                            <span></span>
                            <input type="checkbox" class="checkfield all-check" value="all" checked="checked" />
                            All genres
                        </label>
                        <label class="check">
                            <span></span>
                            <input type="checkbox" class="checkfield" value="jazz-and-blues" checked="checked" />
                            jazz &amp; Blues
                        </label>
                        <label class="check">
                            <span></span>
                            <input type="checkbox" class="checkfield" value="classical" checked="checked" />
                            Classical
                        </label>
                        <label class="check">
                            <span></span>
                            <input type="checkbox" class="checkfield" value="americana" checked="checked" />
                            Americana
                        </label>
                        <label class="check">
                            <span></span>
                            <input type="checkbox" class="checkfield" value="world-music" checked="checked" />
                            World Music
                        </label>
                    </div>
                </div>

                <div class="search-options wide right venue-vals" name="venue">
                    <h3>venues</h3>
                    <div class="col">
                        <div class="labels">
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield all-check" value="all" checked="checked" />
                                All venues
                            </label>
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="telfair" checked="checked" />
                                Telfair Academy of Arts &amp; Science
                            </label>
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="lucas" checked="checked" />
                                Lucas Theatre for the Arts
                            </label>
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="trustees" checked="checked" />
                                Trustees Theater
                            </label>
                        </div>
                    </div>

                    <div class="col">
                        <div class="labels">
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="charles" checked="checked" />
                                Charles H. Morris Center
                            </label>
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="trinity" checked="checked" />
                                Trinity United Methodist Church
                            </label>
                            <label class="check">
                                <span></span>
                                <input type="checkbox" class="checkfield" value="ships" checked="checked" />
                                Ships of the Sea North Garden
                            </label>
                        </div>
                    </div>
                    <div class="cl">&nbsp;</div>
                </div>
                <div class="cl">&nbsp;</div>
            </form>
        </div>

    </div>
    <!-- end dropdown -->

    <!-- widgets -->
    <div class="events result-list">
        <div class="widget left" date="22" genre="classical" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="22" genre="jazz-and-blues" venue="lucas">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="22" genre="americana" venue="charles">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="23" genre="world-music" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="23" genre="classical" venue="trustees">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="24" genre="americana" venue="ships">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="24" genre="classical" venue="lucas">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="25" genre="jazz-and-blues" venue="trinity">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="26" genre="jazz-and-blues" venue="charles">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="26" genre="classical" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="26" genre="world-music" venue="charles">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="27" genre="americana" venue="trinity">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="27" genre="classical" venue="lucas">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="28" genre="jazz-and-blues" venue="ships">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="28" genre="classical" venue="ships">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="29" genre="world-music" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="29" genre="americana" venue="trustees">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="30" genre="classical" venue="trustees">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="30" genre="world-music" venue="charles">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="31" genre="jazz-and-blues" venue="lucas">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="31" genre="world-music" venue="trustees">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="1" genre="classical" venue="ships">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="2" genre="classical" venue="lucas">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="2" genre="jazz-and-blues" venue="trinity">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="3" genre="classical" venue="charles">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="4" genre="jazz-and-blues" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="5" genre="classical" venue="telfair">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>

        <div class="widget left" date="6" genre="americana" venue="ships">
            <a href="#">
                <span class="date">THUR 3/21</span>
                <img src="css/images/photo05.jpg" alt="" id="image1" />
            </a>
            <div class="widget-cnt">
                <h4><a href="#">Noon30: sweet singing harmony harmoneers</a></h4>
                <p>12:30 pm | Charles H. Morris Center</p>
                <p>Carrying forth the tradition of jubilee gospel greats the Fairfield Four and the Golden Gate Quartet,...</p>
                <div class="widget-links">
                    <a href="#">read more</a>
                    <a href="#">buy tickets</a>
                </div>
            </div>
        </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:21:18.243

我更改了**Bergi**提到的属性选择器并更改了此代码（或过滤）：

```
 widgets.hide();
    for ( var i in values ){
        var joined = values[i].join();
        var match = widgets.filter(joined);
        match.show();
    }; 
```

演示：http: [//jsfiddle.net/tZyWa/](http://jsfiddle.net/tZyWa/)

或（AND 过滤）：

```
 widgets.hide();
    var match = widgets;
    for ( var i in values ){
        var joined = values[i].join();
        match = match.filter(joined);
    };
    match.show(); 
```

演示：http: [//jsfiddle.net/tZyWa/1/](http://jsfiddle.net/tZyWa/1/)******

# android - 搜索对话框和搜索小部件 Android 之间的区别

> ID：14496520
> 
> 赞同：7
> 
> 时间：2013-01-24T08:06:22.397
> 
> 标签：android, android-widget, search-dialog

我想知道 Android 中的 Search Dialog 和 Search Widget 之间的区别。我知道如何用代码实现它们中的每一个，但不知道外观、行为等方面的差异。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2016-08-01T04:10:25.667

**搜索对话框**是由 Android 系统控制的 UI 组件。当用户激活时，搜索对话框出现在活动的顶部。

**搜索小部件**是 SearchView 的一个实例，您可以将其放置在布局中的任何位置。默认情况下，搜索小部件的行为类似于标准的 EditText 小部件并且不执行任何操作，但您可以对其进行配置，以便 Android 系统处理所有输入事件，将查询传递给适当的活动，并提供搜索建议

# asp.net - asp.net webforms 是否足以用于 web 开发

> ID：14496521
> 
> 赞同：0
> 
> 时间：2013-01-24T08:06:22.840
> 
> 标签：asp.net, asp.net-mvc, webforms

我是 asp.net 的初学者，我发现自己介于两种类型的项目（Webforms 和 MVC）之间，我从 Webforms 开始，我做得很好，我的问题是：Webforms 是否足以进行强大的 Web 开发（我知道如何使用 CSS-Javascript-Jquery）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:09:32.180

从 2002 年到 2008 年，Web Forms 是开发 ASP.NET 站点的唯一方法，并且已经使用 Web Forms 框架编写了大量大型企业站点。所以是的 - 这对于“良好的 Web 开发”来说已经足够了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T08:21:56.447

你问错问题了。正如@MikeBrind 指出的那样，十多年来，Web 表单一直被用于为处理大量流量的网站提供动力。相反，您应该问自己哪种技术最适合您从事的项目类型，以及哪种技术的优势对您最重要。

还要记住，ASP.Net MVC 和 Web 窗体共享大量底层架构。

我的（有偏见的）意见：您可以使用 Web 表单编写出色的应用程序，**但**要做到这一点，您必须掌握框架并丢弃许多内置功能。我见过的大多数 Web 表单应用程序都写得不好。

这部分是因为 Web 表单提供了许多旨在将开发人员从 HTTP 模型中抽象出来的特性。这可以加快开发速度，但抽象通常是以膨胀和开发人员的无知为代价的。

但是编写良好的网络表单应用程序不需要被替换，因为它们在某种程度上是“坏的”。

也就是说，微软在 MVC 背后付出了巨大的努力，而且——虽然 MVC 模式早已存在——ASP.Net MVC Web 框架是围绕着在 Web Forms 出现时并不广为人知/流行的概念构建的。发达。

具体来说，Web 表单在以下方面很薄弱：

*   REST（在 2000 年的一篇论文中介绍；但当时 SOAP Web 服务和有状态 RPC 更流行）
*   不显眼的 JavaScript
*   异步 JavaScript
*   干净的路由和“可破解”的 URL
*   测试驱动开发（很难将 Web 表单组件分解为可测试的部分）
*   精确控制生成的标记

# php - 使用 php 更改 html 按钮文本

> ID：14496524
> 
> 赞同：0
> 
> 时间：2013-01-24T08:06:29.240
> 
> 标签：php, html, button

我只是在学习 php，一件事我没有运气就搜索了整个网络。我知道以下内容在客户端脚本（javascript）中非常简单，但我想知道在 php 中是否可行。

我有一个 html 按钮元素，使用 php 代码可以更改其文本吗？每次单击按钮时都会反复更改某些内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T09:18:05.413

只需通过变量定义按钮值：

```
<?php 
$buttonName = "bla bla";
?>

<input type="submit" value="<?php echo $buttonName; ?>" /> 
```

**或者**

```
<button><?php echo $buttonName ?></button> 
```

然后你可以随心所欲地使用变量

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:08:47.987

PHP 只能在页面最初呈现时操作页面的源代码，因为它在页面发送到客户端之前在服务器上执行。如果按钮导致页面在每次点击时重新加载，您可以更改按钮标签。

例如，要在每次加载时为按钮提供一个随机数，您可以执行以下操作：

```
<button><?php echo rand(1,10); ?></button> 
```

但这将取决于导致页面重新加载的按钮。如果您想在不重新加载页面的情况下执行此操作，那么 JavaScript 是完成这项工作的正确工具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:32:53.473

您可以在点击按钮时将按钮的当前文本发送到服务器，并将其与新的随机文本进行比较，如果不相等，则将其回显到页面，如果不相等，则继续搜索不相等的随机文本.

你也可以通过会话来做到这一点。将当前文本放入会话 var，并在提交中创建另一个文本，并将其与先前创建的会话 var 进行比较，并回显到页面。

```
<?php
session_start();
if (isset($_POST)) // check button submission - do it with any way you like
{
    while(1)
    {
        $new_rand = rand();
        if($new_rand != $_SESSION['currText'])
        {
           $curr_text = $new_rand;
           $_SESSION['currText'] = $curr_text;
           echo "<button>$curr_text</button>";
           break;
        }
    }

}
else // and here is the first page request, when no button is clicked
{
    $new_rand = rand();
    $_SESSION['curr_text'] = $new_rand;
    echo "<button>$new_rand</button>";
}

?> 
```

有了这个，你每次按下按钮都会得到完全不同的文本；）

在这段代码和上面的场景中，我谈到了随机数，因为 PHP`rand()`函数返回数字。如果你想要文本，你可以把你想在页面中显示的所有文本放在一个数组中，并使用随机获取一个`rand(0, $max_index_of_the_array)`- 在数组中显示文本索引来自`rand(0, $max_index_of_the_array)`.

# web - 使用 Amazon AWS，但使用不同的网络托管公司

> ID：14496528
> 
> 赞同：0
> 
> 时间：2013-01-24T08:06:38.680
> 
> 标签：web, amazon-web-services, routes, host

我正在考虑为我的最终用户使用亚马逊的 AWS，这是否意味着我必须将我的公司网站从现有的网络主机移动到亚马逊？是否有可能我仍然使用现有的网络主机，但通过路由所有 AWS 服务流量。我现有的网站？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:07:48.373

是的，这绝对是可能的，您可以参考亚马逊在此处提供的文档：http: [//docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html](http://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:08:17.873

否 - use 可以使用您的正常 URL。调整您的 DNS - 例如使用 Amazon Route 53。

实际上-我建议您尝试一下。无需任何费用 - 您可以在 AWS 免费套餐下进行 (http://aws.amazon.com/free/)

# javascript - 添加两个数字将它们连接起来，而不是计算总和

> ID：14496531
> 
> 赞同：234
> 
> 时间：2013-01-24T08:06:43.313
> 
> 标签：javascript, html

我正在添加两个数字，但我没有得到正确的值。

例如，doing`1 + 2`返回 12 而不是 3

我在这段代码中做错了什么？

```
function myFunction() {
  var y = document.getElementById("txt1").value;
  var z = document.getElementById("txt2").value;
  var x = y + z;
  document.getElementById("demo").innerHTML = x;
}
```

```
<p>
  Click the button to calculate x.
  <button onclick="myFunction()">Try it</button>
</p>
<p>
  Enter first number:
  <input type="text" id="txt1" name="text1" value="1">
  Enter second number:
  <input type="text" id="txt2" name="text2" value="2">
</p>
<p id="demo"></p>
```

* * *

## 回答 #1

> 赞同：413
> 
> 时间：2013-01-24T08:08:52.470

它们实际上是字符串，而不是数字。从字符串中生成数字的最简单方法是在其前面加上`+`：

```
var x = +y + +z; 
```

* * *

## 回答 #2

> 赞同：157
> 
> 时间：2013-12-10T14:02:10.183

我只是使用`Number()`：

```
var i=2;  
var j=3;  
var k = Number(i) + Number(j); // 5 
```

* * *

## 回答 #3

> 赞同：31
> 
> 时间：2013-01-24T08:09:07.500

您需要使用 javaScript 的`parseInt()`方法将字符串转换回数字。现在它们是字符串，所以添加两个字符串将它们连接起来，这就是你得到“12”的原因。

* * *

## 回答 #4

> 赞同：23
> 
> 时间：2013-01-24T08:12:53.667

使用[parseInt(...)](http://www.w3schools.com/jsref/jsref_parseint.asp)但确保指定基数值；否则你会遇到几个错误（如果字符串以“0”开头，基数是八进制/8等）。

```
var x = parseInt(stringValueX, 10);
var y = parseInt(stringValueY, 10);

alert(x + y); 
```

希望这可以帮助！

* * *

## 回答 #5

> 赞同：14
> 
> 时间：2018-04-10T11:55:55.000

以下内容一般来说可能是有用的。

*   首先，HTML 表单字段仅限于*text*。这尤其适用于文本框，即使您已尽力确保该值*看起来*像一个数字。

*   其次，无论好坏，JavaScript 都`+`以两种含义重载了运算符：添加数字和连接字符串。它偏好连接，因此即使是 like 的表达式`3+'4'`也会被视为连接。

*   第三，如果可以并且需要的话，JavaScript 会尝试动态地改变类型。例如`'2'*'3'`，将两种类型都更改为数字，因为您不能将字符串相乘。如果其中一个不兼容，您将得到`NaN`, Not a Number。

出现您的问题是因为来自表单的数据被视为字符串，`+`因此将连接而不是添加。

从表单中读取所谓的数字数据时，您应该始终将其推入`parseInt()`或`parseFloat()`，具体取决于您想要整数还是小数。

请注意，这两个函数都没有真正*将*字符串转换为数字。相反，它将从左到右解析字符串，直到它到达一个无效的数字字符或到最后并转换已接受的内容。在 的情况下`parseFloat`，它包括一个小数点，但不包括两个小数点。

有效数字之后的任何内容都将被忽略。如果字符串甚至没有以数字开头，它们都会失败。然后你会得到`NaN`.

从表单中获取数字的一个很好的通用技术是这样的：

```
var data=parseInt(form.elements['data'].value); //  or parseFloat 
```

如果您准备将无效字符串合并为 0，则可以使用：

```
var data=parseInt(form.elements['data'].value) || 0; 
```

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2013-09-27T20:41:32.760

只需添加一个简单的类型转换方法，因为输入是文本格式的。使用以下内容：

```
 var y = parseInt(document.getElementById("txt1").value);
    var z = parseInt(document.getElementById("txt2").value);
    var x = y + z; 
```

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2016-08-18T10:49:35.870

这不会总结数字；相反，它将连接它：

```
var x = y + z; 
```

你需要做：

```
var x = (y)+(z); 
```

您必须使用 parseInt 来指定对数字的操作。例子：

```
var x = parseInt(y) + parseInt(z); [final soulution, as everything us] 
```

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2015-01-15T09:07:23.867

简单的

```
var result = parseInt("1") + parseInt("2");
console.log(result ); // Outputs 3 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2016-01-10T07:22:54.170

这段代码总结了这两个变量！把它放到你的函数中

```
var y = parseInt(document.getElementById("txt1").value);
var z = parseInt(document.getElementById("txt2").value);
var x = (y +z);
document.getElementById("demo").innerHTML = x;` 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2020-09-01T19:26:48.960

或者你可以简单地初始化

变量 x = 0; （你应该使用 let x = 0;）

这样它将添加不连接。

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2013-12-02T08:19:37.013

这很简单：

```
<html>

    <body>
        <p>Click the button to calculate x.</p>
        <button onclick="myFunction()">Try it</button>
        <br/>
        <br/>Enter first number:
        <input type="text" id="txt1" name="text1">Enter second number:
        <input type="text" id="txt2" name="text2">
        <p id="demo"></p>

        <script>
            function myFunction() {
                var y = document.getElementById("txt1").value;
                var z = document.getElementById("txt2").value;
                var x = +y + +z;
                document.getElementById("demo").innerHTML = x;
            }
        </script>
    </body>
</html> 
```

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2014-06-13T11:28:28.107

试试这个：

```
<!DOCTYPE html>
<html>

    <body>
        <p>Add Section</p>

        <label>First Number:</label>
        <input id="txt1"  type="text"/><br />
        <label>Second Number:</label>
        <input id="txt2"  type="text"/><br />

        <input type="button" name="Add" value="Add" onclick="addTwoNumber()"/>
        <p id="demo"></p>

        <script>
            function myFunction() {
                document.getElementById("demo").innerHTML = Date();
            }

            function addTwoNumber(){
                var a = document.getElementById("txt1").value;
                var b = document.getElementById("txt2").value;

                var x = Number(a) + Number(b);
                document.getElementById("demo").innerHTML = "Add Value: " + x;
            }
        </script>
    </body>
</html> 
```

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2015-02-28T19:53:44.853

您在添加步骤中缺少类型转换......
`var x = y + z;`应该是`var x = parseInt(y) + parseInt(z);`

```
 <!DOCTYPE html>

 <html>
 <body>
  <p>Click the button to calculate x.</p>
  <button onclick="myFunction()">Try it</button>
  <br/>
  <br/>Enter first number:
  <input type="text" id="txt1" name="text1">Enter second number:
  <input type="text" id="txt2" name="text2">
  <p id="demo"></p>
 <script>
    function myFunction() 
    {
      var y = document.getElementById("txt1").value;
      var z = document.getElementById("txt2").value;
      var x = parseInt(y) + parseInt(z);
      document.getElementById("demo").innerHTML = x;
    }
 </script>
 </body>
 </html> 
```

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2015-12-11T09:06:37.430

```
 <head>
        <script type="text/javascript">
            function addition()
            {
                var a = parseInt(form.input1.value);
                var b = parseInt(form.input2.value);
                var c = a+b
                document.write(c);
            }
        </script>
    </head>

    <body>
        <form name="form" method="GET">
        <input type="text" name="input1" value=20><br>
        <input type="text" name="input2" value=10><br>
        <input type="button" value="ADD" onclick="addition()">
        </form>
    </body>
</html> 
```

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2016-07-26T08:26:08.383

如果我们有两个输入字段，则从输入字段中获取值，然后使用 JavaScript 添加它们。

```
$('input[name="yourname"]').keyup(function(event) {
    /* Act on the event */
    var value1 = $(this).val();
    var value2 = $('input[name="secondName"]').val();
    var roundofa = +value2+ +value1;

    $('input[name="total"]').val(addition);
}); 
```

* * *

## 回答 #16

> 赞同：2
> 
> 时间：2017-05-30T05:19:52.443

```
 <input type="text" name="num1" id="num1" onkeyup="sum()">
  <input type="text" name="num2" id="num2" onkeyup="sum()">
  <input type="text" name="num2" id="result">

  <script>
     function sum()
     {

        var number1 = document.getElementById('num1').value;
        var number2 = document.getElementById('num2').value;

        if (number1 == '') {
           number1 = 0
           var num3 = parseInt(number1) + parseInt(number2);
           document.getElementById('result').value = num3;
        }
        else if(number2 == '')
        {
           number2 = 0;
           var num3 = parseInt(number1) + parseInt(number2);
           document.getElementById('result').value = num3;
        }
        else
        {
           var num3 = parseInt(number1) + parseInt(number2);
           document.getElementById('result').value = num3;
        }

     }
  </script> 
```

* * *

## 回答 #17

> 赞同：2
> 
> 时间：2020-09-29T03:29:59.860

这也可以通过使用[`output`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/output)元素的更原生的 HTML 解决方案来实现。

```
<form oninput="result.value=parseInt(a.valueAsNumber)+parseInt(b.valueAsNumber)">
  <input type="number" id="a" name="a" value="10" /> +
  <input type="number" id="b" name="b" value="50" /> =
  <output name="result" for="a b">60</output>
</form> 
```

[https://jsfiddle.net/gxu1rtqL/](https://jsfiddle.net/gxu1rtqL/)

该`output`元素可以用作计算或输出用户动作的容器元素。您还可以将 HTML 类型从 更改`number`为`range`并使用不同的 UI 元素保持相同的代码和功能，如下所示。

```
<form oninput="result.value=parseInt(a.valueAsNumber)+parseInt(b.valueAsNumber)">
  <input type="range" id="a" name="a" value="10" /> +
  <input type="number" id="b" name="b" value="50" /> =
  <output name="result" for="a b">60</output>
</form> 
```

[https://jsfiddle.net/gxu1rtqL/2/](https://jsfiddle.net/gxu1rtqL/2/)

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2013-01-24T08:24:15.310

您可以使用正则表达式进行预检查，无论它们是否是数字

```
function myFunction() {
    var y = document.getElementById("txt1").value;
    var z = document.getElementById("txt2").value;
    if((x.search(/[^0-9]/g) != -1)&&(y.search(/[^0-9]/g) != -1))
      var x = Number(y)+ Number(z);
    else
      alert("invalid values....");
    document.getElementById("demo").innerHTML = x;
  } 
```

* * *

## 回答 #19

> 赞同：1
> 
> 时间：2016-11-30T20:51:03.030

通过解析函数中的变量来执行您的代码。

```
<html>
  <body>
    <p>Click the button to calculate x.</p>
    <button onclick="myFunction()">Try it</button>
    <br/>
    <br/>Enter first number:
    <input type="text" id="txt1" name="text1">
    <br>Enter second number:
    <input type="text" id="txt2" name="text2">
    <p id="demo"></p>
    <script>
      function myFunction() {
        var y = parseInt(document.getElementById("txt1").value);
        var z = parseInt(document.getElementById("txt2").value);
        var x = y + z;
        document.getElementById("demo").innerHTML = x;
      }
    </script>
  </body>
</html> 
```

***回答***

[![在此处输入图像描述](../Images/2eb7fe09adb9e1498e29d7026dc48fdd.png)](https://i.stack.imgur.com/N344f.png)

* * *

## 回答 #20

> 赞同：1
> 
> 时间：2017-05-10T12:30:33.273

使用`parseFloat`它将字符串转换为数字，包括十进制值。

```
 function myFunction() {
      var y = document.getElementById("txt1").value;
      var z = document.getElementById("txt2").value;
      var x = parseFloat(y) + parseFloat(z);
      document.getElementById("demo").innerHTML = x;
    } 
```

```
<p>
  Click the button to calculate x.
  <button onclick="myFunction()">Try it</button>
</p>
<p>
  Enter first number:
  <input type="text" id="txt1" name="text1" value="1">
  Enter second number:
  <input type="text" id="txt2" name="text2" value="2">
</p>
<p id="demo"></p> 
```

* * *

## 回答 #21

> 赞同：1
> 
> 时间：2018-01-26T09:31:48.373

你也可以写： var z = x - -y ; 你得到正确的答案。

```
<body>

<input type="text" id="number1" name="">
<input type="text" id="number2" name="">
<button type="button" onclick="myFunction()">Submit</button>

<p id="demo"></p>

    <script>
    function myFunction() {
        var x, y ;

        x = document.getElementById('number1').value;
        y = document.getElementById('number2').value;

        var z = x - -y ;

        document.getElementById('demo').innerHTML = z;
    }
    </script>
</body> 
```

* * *

## 回答 #22

> 赞同：1
> 
> 时间：2020-09-08T09:59:23.987

如果没有任何效果，那么只能试试这个。这可能不是正确的方法，但是当上述所有方法都失败时，它对我有用。

```
 var1 - (- var2) 
```

* * *

## 回答 #23

> 赞同：0
> 
> 时间：2021-02-25T13:09:05.090

也许你可以使用这个函数来添加数字：

```
function calculate(a, b) {
  return a + b
}
console.log(calculate(5, 6)) 
```

* * *

## 回答 #24

> 赞同：-2
> 
> 时间：2014-05-28T07:32:39.190

另一种解决方案，只是分享:)：

```
var result=eval(num1)+eval(num2); 
```

# c# - 转换列表 到哈希表

> ID：14496532
> 
> 赞同：6
> 
> 时间：2013-01-24T08:06:45.057
> 
> 标签：c#, linq, c#-4.0, hashtable, extension-methods

我有一个清单：

```
public class tmp
{
    public int Id;
    public string Name;
    public string LName;
    public decimal Index;
}

List<tmp> lst = GetSomeData(); 
```

我想将此列表转换为 HashTable，并且我想在扩展方法参数中指定`Key`和。`Value`例如，我可能想要`Key=Id`and`Value=Index`或`Key = Id + Index`and `Value = Name + LName`。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-24T08:11:24.250

您可以使用`ToDictionary`方法：

```
var dic1 = list.ToDictionary(item => item.Id, 
                             item => item.Name);

var dic2 = list.ToDictionary(item => item.Id + item.Index, 
                             item => item.Name + item.LName); 
```

您不需要使用`Hashtable`来自 .NET 1.1 的版本，`Dictionary`它更安全。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-24T08:11:11.793

在 C# 4.0 中，您可以使用`Dictionary<TKey, TValue>`：

```
var dict = lst.ToDictionary(x => x.Id + x.Index, x => x.Name + x.LName); 
```

但是，如果您真的想要一个`Hashtable`，请将该字典作为`HashTable`构造函数中的参数传递...

```
var hashTable = new Hashtable(dict); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T08:10:51.593

您可以使用[`ToDictionary`](http://msdn.microsoft.com/de-de/library/system.linq.enumerable.todictionary.aspx)扩展方法并将生成的 Dictionary 传递给[`Hashtable`](http://msdn.microsoft.com/en-us/library/system.collections.hashtable%28v=vs.71%29.aspx)构造函数：

```
var result = new Hashtable(lst.ToDictionary(e=>e.Id, e=>e.Index)); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T08:16:09.573

最后是 NON-Linq 方式

```
 private static void Main()
    {
        List<tmp> lst = new List<tmp>();
        Dictionary<decimal, string> myDict = new Dictionary<decimal, string>();
        foreach (tmp temp in lst)
        {
            myDict.Add(temp.Id + temp.Index, string.Format("{0}{1}", temp.Name, temp.LName));
        }
        Hashtable table = new Hashtable(myDict);
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-24T08:19:14.567

作为扩展方法，转换`List<tmp>`为`Hashtable`;

```
public static class tmpExtensions
    {
    public static System.Collections.Hashtable ToHashTable(this List<tmp> t, bool option)
    {
        if (t.Count < 1)
            return null;

        System.Collections.Hashtable hashTable = new System.Collections.Hashtable();
        if (option)
        {
            t.ForEach(q => hashTable.Add(q.Id + q.Index,q.Name+q.LName));
        }
        else
        {
            t.ForEach(q => hashTable.Add(q.Id,q.Index));
        }
        return hashTable;
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-24T08:11:15.603

您可以使用 LINQ 将列表转换为通用字典，这比原始 HashTable 好得多：

```
List<tmp> list = GetSomeData();
var dictionary = list.ToDictionary(entity => entity.Id); 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2013-01-24T08:25:38.633

使用 ForEach。

```
 List<tmp> lst = GetSomeData();
        Hashtable myHashTable = new Hashtable();
        lst.ForEach((item) => myHashTable.Add(item.Id + item.Index, item.Name + item.LName)); 
```

# android - 按保存按钮后自动转到结果页面

> ID：14496533
> 
> 赞同：0
> 
> 时间：2013-01-24T08:06:44.720
> 
> 标签：android, eclipse

按保存按钮后如何使其自动转到结果页面？按下保存按钮后，我的应用程序似乎停留在同一页面上。下面附上源代码

DetailForm.Java

```
public class DetailForm extends Activity {
EditText name = null;
EditText address = null;
EditText telephone = null;
EditText details = null;
NameCardHelper helper = null;
String namecardId = null;
TextView location = null;
LocationManager locMgr = null;
double latitude = 0.0d;
double longitude = 0.0d;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.detail_form);

    locMgr = (LocationManager) getSystemService(LOCATION_SERVICE);

    helper = new NameCardHelper(this);

    name = (EditText) findViewById(R.id.name);
    address = (EditText) findViewById(R.id.address);
    telephone = (EditText) findViewById(R.id.telephone);
    details = (EditText) findViewById(R.id.details);
    location = (TextView) findViewById(R.id.location);

    namecardId = getIntent().getStringExtra(NameCardList.ID_EXTRA);
    if (namecardId != null) {
        load();
    }
}

@Override
public void onPause() {
    save();
    super.onPause();
}

@Override
public void onDestroy() {
    helper.close();
    locMgr.removeUpdates(onLocationChange);
    super.onDestroy();
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    new MenuInflater(this).inflate(R.menu.details_option, menu);
    return (super.onCreateOptionsMenu(menu));
}

@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    if (namecardId == null) {
        menu.findItem(R.id.location).setEnabled(false);
        menu.findItem(R.id.map).setEnabled(false);
    }
    return (super.onPrepareOptionsMenu(menu));
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    if (item.getItemId() == R.id.location) {

        locMgr.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0,
                onLocationChange);
        return (true);

        } else if (item.getItemId() == R.id.map) {
            Intent i = new Intent(this, NameCardMap.class);
            i.putExtra(NameCardMap.EXTRA_LATITUDE, latitude);
            i.putExtra(NameCardMap.EXTRA_LONGITUDE, longitude);
            i.putExtra(NameCardMap.EXTRA_NAME, name.getText().toString());
            startActivity(i);
            return (true);
        } else if (item.getItemId() == R.id.call) {
             Intent i = new Intent(Intent.ACTION_CALL);

                String p = "tel:" + telephone.getText();
                i.setData(Uri.parse(p));
                startActivity(i);
        } else if (item.getItemId() == R.id.sms) {

            Intent smsIntent = new Intent(Intent.ACTION_SENDTO);
            smsIntent.addCategory(Intent.CATEGORY_DEFAULT);
            smsIntent.setType("vnd.android-dir/mms-sms");
            smsIntent.setData(Uri.parse("sms:" + telephone.getText()));
            startActivity(smsIntent);
        } else if (item.getItemId() == R.id.delete) {

            helper.delete(namecardId);

            startActivity(new Intent(this, NameCardList.class));
            return (true);
        }
    return true;
        }

private boolean isNetworkAvailable() {
    ConnectivityManager cm = (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);

    NetworkInfo info = cm.getActiveNetworkInfo();
    return (info != null);
}

private void load() {
    Cursor c = helper.getById(namecardId);
    c.moveToFirst();

    name.setText(helper.getName(c));
    address.setText(helper.getAddress(c));
    telephone.setText(helper.getTelephone(c));
    details.setText(helper.getDetails(c));

    latitude = helper.getLatitude(c);
    longitude = helper.getLongitude(c);
    location.setText(String.valueOf(latitude) + ", "
            + String.valueOf(longitude));

    c.close();
}

private void save() {
    if (name.getText().toString().length() > 0) {

        if (namecardId == null) {
            helper.insert(name.getText().toString(), address.getText()
                    .toString(), telephone.getText().toString(),
                    details.getText().toString());
        } else {
            helper.update(namecardId, name.getText().toString(), address
                    .getText().toString(), telephone.getText().toString(),
                    details.getText().toString());
        }
    }

}

LocationListener onLocationChange = new LocationListener() {
    public void onLocationChanged(Location fix) {
        helper.updateLocation(namecardId, fix.getLatitude(),
                fix.getLongitude());
        location.setText(String.valueOf(fix.getLatitude()) + ", "
                + String.valueOf(fix.getLongitude()));
        locMgr.removeUpdates(onLocationChange);

        Toast.makeText(DetailForm.this, "Location saved", Toast.LENGTH_LONG)
                .show();
    }

    public void onProviderDisabled(String provider) {
        // required for interface, not used
    }

    public void onProviderEnabled(String provider) {
        // required for interface, not used
    }

    public void onStatusChanged(String provider, int status, Bundle extras) {
        // required for interface, not used
    }
};
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:10:31.800

假设您的结果页面名为 ResultActivity

```
 Intent intent = new Intent(this, ResultActivity.class);

  startActivity(intent); 
```

确保结果活动在清单中:) ...在保存按钮单击侦听器中使用上面的代码

Daniel 是正确的，您首先需要为保存按钮设置单击侦听器，例如“btn”是 xml 中您的 Button 的 id。

```
 Button btn = (Button) findViewById(R.id.btn);   
  btn .setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
          Intent intent = new Intent(this, ResultActivity.class);
          startActivity(intent);

        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:23:43.897

您是否在 xml 页面中给出了 onClick，即该按钮的 android:Onclick="save" 然后它可以工作，否则您可以在活动类中绑定按钮并向其添加动作侦听器

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:13:41.887

你的保存按钮在哪里？似乎没有任何参考。

您需要有一个公共方法，您可以通过您的 xml 中的按钮（通过 onClick）与之交谈，或者您需要向源中的按钮添加点击回调。您似乎也没有这样做，因此，如果您的 XML 中有一个按钮，目前它不会附加到任何操作。

# javascript - onclick 功能在第一次单击时不起作用

> ID：14496534
> 
> 赞同：1
> 
> 时间：2013-01-24T08:06:50.880
> 
> 标签：javascript, html, function, button, onclick

我尝试在“重置”按钮类型上设置 onclick 功能，该功能仅在我单击两次时才有效，我什至将其作为普通按钮类型进行了尝试，结果相同。我已将它放在网站的其他部分，但相同的结果仍然存在。

它的功能是删除每次添加新订单时动态出现的文本。并且 html 重置功能会清除站点的其余输入，我猜这没问题。

在这里您可以访问该网站并亲自查看：

[http://www.premiere-produkter.no/pp/lagersalg/index.php](http://www.premiere-produkter.no/pp/lagersalg/index.php)

这是代码的一部分，

```
var tester;
var tester = function () {
    document.form['reset'].onclick = function () {
        contact_box_kurv.innerHTML = ("").replace (/,/g, ''); 
        return false;
    };
};
</script>

<h2><INPUT TYPE="RESET" name="reset" id="reset" VALUE="Tøm Handlekurv" onclick="tester()"></h2> 
```

注意：要在网站上查看该功能，您需要添加订单。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:08:58.483

您的按钮有一个`onclick`调用的内联属性`tester()`。因此，在第一次单击时，它会执行任何`tester()`操作 - 将其替换`onclick`为内部匿名函数的另一组`tester()`。因此，在第二次单击时，它将执行第二个匿名函数所做的事情。

试试这个：

```
var tester = function () {
    contact_box_kurv.innerHTML = ("").replace (/,/g, ''); 
    return false;
}; 
```

（即，直接在 中具有所需的功能`tester()`。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:10:12.237

您需要单独放置此脚本：

```
window.onload = function ()
{
    document.form['reset'].onclick = function () {
    contact_box_kurv.innerHTML = ("").replace (/,/g, ''); 
    return false;
    };
}; 
```

删除事件处理程序脚本。

# iphone - 在 iOS 6 UIWebview 组件中显示智能横幅

> ID：14496536
> 
> 赞同：10
> 
> 时间：2013-01-24T08:06:55.447
> 
> 标签：iphone, ios, uiwebview, ios6

我想在我的网站上使用智能横幅。它在 Safari 移动版中运行良好，但在 Tweetbot、Twitter 应用程序、Facebook 应用程序或任何其他将在 UIWebView 组件中显示我的网站的应用程序中根本不显示。

您是否知道实现该目标的方法或解决方法，可以让我检测我的应用程序是否已安装并仅在未安装时显示消息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T06:07:26.933

不幸的是，我认为 SmartBanners 仅适用于 MobileSafari。但是，您可以设计自己的 SmartBanner 界面并使用以下问题中概述的技术：[是否可以为 iPhone 应用程序（如 YouTube 和地图）注册基于 http+域的 URL 方案？](https://stackoverflow.com/questions/1108693/is-it-possible-to-register-a-httpdomain-based-url-scheme-for-iphone-apps-like)要做到这一点。

# ios - 将值分配给 BOOL 指针时出现奇怪的警告问题

> ID：14496539
> 
> 赞同：0
> 
> 时间：2013-01-24T08:07:11.863
> 
> 标签：ios, objective-c, boolean

我正在开发 iOS6 并使用 Xcode 4.5.2。

我有一个`UIViewController`，假设它的名字是`aViewController`。在此`UIViewController`，我使用此代码将**BOOL 指针**声明为属性。实际上，这不是我实现的一段代码，所以我真的不知道为什么使用**BOOL 指针**。

**现在，当给这个BOOL 指针**赋值时，我得到了这个著名的警告`Incompatible integer to pointer conversion assigning to 'BOOL *' (aka 'signed char *') from 'signed char'`，这是完全可以理解的，因为在我的例子中，**BOOL**指向一个布尔变量。

为了解决这个问题，我试过[这个](https://stackoverflow.com/questions/5364506/how-to-assign-a-value-to-a-bool-pointer-in-objective-c)。所以我的代码是这样的：

```
aViewController.aBoolPointer = YES; 
```

然后，我试过了，

```
aViewController.(*aBoolPointer) = YES; 
```

由于 Objective-c 是 C 的超集，我记得在 C`.*`表示法中等于`->`. 上面的符号给出了一个错误。错误描述：**预期标识符**。

如果我将代码更改为这样：

```
aViewController->aBoolPointer = YES ; 
```

我收到此错误**Instance variable aBoolPointer is protected**。

这是奇怪的问题，如果我使用此代码

```
aViewController.aBoolPointer = NO ; 
```

然后，我没有收到任何警告。

所以我的问题是：

**1** - 为什么当我为**BOOL 指针分配****NO**值时没有收到警告？

 ****2** - 如何正确地将**YES**值分配给**BOOL 指针**？

**3** -通过考虑我解释的步骤， **YES**或**NO**有什么区别？

谢谢你们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:21:01.403

> 1 为什么当我为 BOOL 指针分配 NO 值时没有收到警告？

因为与, 或,`NO`相同，所以就像将 a 分配给指针一样，如下所示：`0``NULL``NULL`

```
BOOL *p = NULL; 
```

> 2 如何正确地将 YES 值分配给 BOOL 指针？

如果属性定义为：

```
@property(assign, nonatomic) BOOL *boolp; 
```

然后：

```
BOOL b = YES;
obj.boolp = &b; 
```

> 3 通过考虑我解释的步骤，YES 或 NO 有什么区别？

我不明白这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:24:29.343

BOOL 指针只是和其他指针一样的指针

```
if (aViewController.aBoolPointer != NULL)
    *(aViewController.aBoolPointer) = YES; 
```

不过，我不知道为什么属性会使用 BOOL 指针作为类型。你在使用一些第三方框架吗？您最好检查他们的文档或询问作者。**

# ruby-on-rails-3 - before_filter {@amount =Amount.new}

> ID：14496543
> 
> 赞同：0
> 
> 时间：2013-01-24T08:07:24.677
> 
> 标签：ruby-on-rails-3, model, before-filter

我收到此错误消息

> 金额不能为空

我想根据我认为我创建的金额创建付款`before_filter {@amount=Amount.new}`，它不会将创建的金额分配给付款方式。因此，即使在创建新金额后，我的付款仍会出现上述错误。

支付控制器

```
before_filter {@amount =Amount.new}

def new
 @payment = Payment.new
 respond_to do |format|
  format.html 
  format.json { render :json => @order }
end
end

def create
  @payment = @amount.payments.build(params[:payment])      
  if @payment.save       
     if @payment.purchase
       render :action=> "success"
      else
        render :action=> "failure"
     end
  else
    render :action => "new" 
  end       
end 
```

数量控制器

```
def create
@amount = current_user.amounts.build(params[:amount])
respond_to do |format|
  if @amount.save
    format.html { redirect_to root_url, :notice => 'Amount was successfully created.' }
    format.json { render :json => @amount, :status => :created, :location => @amount }
  else
    format.html { render :action => "new" }
    format.json { render :json => @amount.errors, :status => :unprocessable_entity }
  end
end
end

def new
 @amount = Amount.new
 respond_to do |format|
  format.html 
  format.json { render :json => @amount }
 end
end 
```

支付模式

```
belongs_to :amount 
```

金额模型

```
 has_many :payments 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T15:08:02.950

根据指南手册，“过滤器不在控制器的范围内运行”，因此`@amount`实际上是在某些`ActiveSupport::Callbacks::Callback`而不是您的控制器中设置变量，而不是您预期的。

我认为你可以通过把`lambda`你的小块放在前面来解决这个问题。如果没有，您将必须定义一个`:set_amount`方法并将您的代码放在那里。

参考：

[rails 是如何实现 before_filter 的？](https://stackoverflow.com/questions/12174704/how-does-rails-implement-before-filter)

[http://guides.rubyonrails.org/action_controller_overview.html](http://guides.rubyonrails.org/action_controller_overview.html)

希望有帮助。

# db2 - 如何获取有关唯一密钥违规的现有记录

> ID：14496544
> 
> 赞同：1
> 
> 时间：2013-01-24T08:07:26.433
> 
> 标签：db2, unique-constraint, rowid

执行插入时，我收到以下错误消息

```
AN INSERTED OR UPDATED VALUE IS INVALID BECAUSE INDEX IN INDEX SPACE xxxxx CONSTRAINS 
COLUMNS OF THE TABLE SO NO TWO ROWS CAN CONTAIN DUPLICATE VALUES IN THOSE COLUMNS. 
RID OF EXISTING ROW IS X'0000000A20'.. SQLCODE=-803, SQLSTATE=23505, DRIVER=3.53.95 
```

如何进行选择以获取数据库中已存在的行？

平台是 z/OS；`SELECT GETVARIABLE('SYSIBM.VERSION') FROM SYSIBM.SYSDUMMY1`返回`DSN09015`所以我猜那是第 9 版

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-29T11:15:59.313

`X'0000000A20'`是十六进制格式。您可以使用 Windows calc 翻译它。

```
A20 = 2592 
```

所以你可以做`SELECT * FROM table_name where RID(table_name) = 2592`，你会得到你需要的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-30T08:59:34.007

您应该考虑使用 DSN1PRNT 实用程序，它可以帮助您以本机格式读取 db2 zos 数据页（即使数据被压缩）。阅读 SYSPRINT 并找到您的数据。

请记住，RID 是此文件中的地址：X'PPPPPPPPII'

如果 RID 是：X'0000000A20' 那么页码是 X'0000000A' 并且行 ix x'20' 的 Id（x'20' 是 32 十进制 ==> 页面中的第 32 行）找到的地址SYSPRINT 中 ID-MAP 表的第 32 行并享受您的数据。

# xml - Excel 到 XML - 在最高级别复制记录

> ID：14496553
> 
> 赞同：1
> 
> 时间：2013-01-24T08:08:36.713
> 
> 标签：xml, excel

我在从 Excel 导出到 XML 时遇到了一些问题。我有什么：

```
 <tree1>
        <Name>Admin</Name>
        <if1>true</if1>
        <if2>true</if2>
        <Component>
            <Name>name1</Name>
            <Roles>
                <Role>
                    <Role>Admin1</Role>
                </Role>
            </Roles>
        </Component>            
    </tree1>
    <tree1>
        <Name>Admin</Name>
        <if1>true</if1>
        <if2>true</if2>
        <Component>
            <Name>name2</Name>
            <Roles>
                <Role>
                    <Role>Admin2</Role>
                </Role>
            </Roles>
        </Component>            
    </tree1> 
```

在excel中：

```
Admin true true name1 Admin1
Admin true true name2 Admin2 
```

我想拥有什么：

```
 <tree1>
        <Name>Admin</Name>
        <if1>true</if1>
        <if2>true</if2>
            <Component>
            <Name>name1</Name>
            <Roles>
                <Role>
                    <Role>Admin1</Role>
                </Role>
            </Roles>
        </Component> 
        <Component>
            <Name>name2</Name>
            <Roles>
                <Role>
                    <Role>Admin2</Role>
                </Role>
            </Roles>
        </Component>            
    </tree1> 
```

我如何修改我的 xml 架构来做这种 xml 文件？

# ios - 我如何将 ScrollView 放在 ViewController 上

> ID：14496562
> 
> 赞同：-1
> 
> 时间：2013-01-24T08:09:04.643
> 
> 标签：ios, xcode, uiscrollview

我正在尝试将 Scrollview 放在 viewcontroller 上？是否可以？我也想把 UIView 放在 ScrollView 上。

```
UIScrollView *scrollView =[[UIScrollView alloc]initWithFrame:CGRectMake(20, 60, 280, 200)];
    scrollView.contentSize = CGSizeMake(280, 200);
    scrollView.backgroundColor=[UIColor orangeColor];
    scrollView.delegate = self;
    [self.view addSubview:scrollView];

    UIView *container = [[UIView alloc] initWithFrame:CGRectMake(20, 60, 280, 200)];
    container.backgroundColor = [UIColor whiteColor];
    [scrollView addSubview:container]; 
```

在这段代码中，我尝试将滚动视图放在 VC 上，也尝试将 View 放在 ScrollView 上。

```
 rb1 = [[RadioButton alloc] initWithGroupId:@"first group" index:j];
            rb1.frame = CGRectMake(20,dy,22,22);
            [container addSubview:rb1];
            [rb1 release];

            label1 =[[UILabel alloc] initWithFrame:CGRectMake(50, dy, 60, 20)];
            label1.backgroundColor = [UIColor clearColor];
            label1.text = [answers objectAtIndex:j];
            [container addSubview:label1]; 
```

在这里，我尝试将单选按钮放在 View 上。

我希望很清楚:) 对不起我的英语不好。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:12:37.727

在这里，您放置与滚动大小相同的内容大小：

```
scrollView.contentSize = CGSizeMake(280, 200); 
```

在内容大小中，您应该输入要滚动的区域的大小。在您的情况下，滚动不需要滚动，因为可滚动区域与滚动视图大小相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:14:29.047

试试这个把滚动视图放在控制器上

```
#import <UIKit/UIKit.h>

@interface YourClass : UIViewController {

IBOutlet UIScrollView *scrollView;

}

@property (nonatomic, retain) UIScrollView *scrollView;

@end 
```

放 v/v 试试这个

```
 NSUInteger scrollContentCount = 0;

   for (NSUInteger arrayIndex = 0; 
         arrayIndex < [contents count]; 
         arrayIndex++) {

    // set scorllview properties
    CGRect frame;
    frame.origin.x = self.mScrollView.frame.size.width * arrayIndex;
    frame.origin.y = 0;
    frame.size = self.mScrollView.frame.size;

    myScrollView.autoresizingMask = YES;

    // alloc - init PODetailsView Controller
    myController = [[MyController alloc] initWithNibName:@"MyController" bundle:[NSBundle mainBundle]];

    [myController.view setFrame:frame];

    // add view in scroll view
    [self.myScrollView addSubview:myController.view];

    scrollContentCount = scrollContentCount + 1;
}

 // set scroll content size
 self.myScrollView.contentSize = 
CGSizeMake(self.myScrollView.frame.size.width * scrollContentCount, 
                     self.myScrollView.frame.size.height);
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:43:16.267

当滚动视图的框架小于您的内容大小时，就会发生滚动。

您的框架大小为 (280,200)，并且您为 contentSize 提供了相同的大小。

为了使滚动成为可能，请将下面的行替换到您的代码中。

scrollView.contentSize = CGSizeMake(300, 260);

# jsp - spring message i18n with spring-mvc 3.2 + jsp + tiles 3

> ID：14496566
> 
> 赞同：1
> 
> 时间：2013-01-24T08:09:20.160
> 
> 标签：jsp, spring-mvc, internationalization, tiles

在“login.jsp”页面中，变量“title”的值无法传递到“default.jsp”页面中的title标签，更具体地说是代码“arguments”。当我访问登录网址时，页面的标题实际上是“{0} - CompanyName”。这是不正确的，它应该是“登录 - 公司名称”。请帮忙。

```
----layout/tiles.xml----
<tiles-definitions>
    <definition name="default" template="/WEB-INF/views/layout/default.jsp">
        <put-attribute name="header" value="/WEB-INF/views/layout/header.jsp" />
        <put-attribute name="footer" value="/WEB-INF/views/layout/footer.jsp" />
    </definition>
</tiles-definitions>

----users/tiles.xml----
<tiles-definitions>
    <definition extends="default" name="users/login">
        <put-attribute name="body" value="/WEB-INF/views/users/login.jsp" />
    </definition>
</tiles-definitions>

----layout/default.jsp----
<head>
    <title><spring:message code="title" arguments="${title}" />
</title>
</head>
<body>
    <tiles:insertAttribute name="header" ignore="true" />
    <tiles:insertAttribute name="body" />
    <tiles:insertAttribute name="footer" ignore="true" />
</body>

----users/login.jsp----
<spring:message code="title.login" var="title" />

----layout.properties----
title = {0} - CompanyName
title.login = Login 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T04:06:52.510

固定的。当访问 url "/login" 时，标题显示 "Login - CompanyName"。访问“/blogs/123”时，标题为“Name123 - Blog - CompanyName”。完美的解决方案！

```
----servlet-context.xml----
<bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource"
    p:fallbackToSystemLocale="false"
    p:basenames="WEB-INF/i18n/layout" />

----layout.properties----
title = {0} - CompanyName
title.login = Login
title.blog = {0} - Blog

----AccessController.java----
@Autowired
MessageSource messageSource;

@RequestMapping("/login")
public String login(Model model, Locale locale) {
    model.addAttribute("title",
            messageSource.getMessage("title.login", null, locale));
    return "access/login";
}

----BlogController.java----
@RequestMapping(value = "/{id}", method = RequestMethod.GET)
public String show(@PathVariable("id") Long id, Model model, Locale locale) {
    Blog blog = blogService.findById(id);
    model.addAttribute("title", messageSource.getMessage(
            "title.blog", new Object[] { blog.getName() },
            locale));
    return "blogs/show";
} 
```

# c# - 在 Razor MVC3 中使用 ViewModel 在单个视图中显示多个模型（视图中只有详细信息）

> ID：14496568
> 
> 赞同：4
> 
> 时间：2013-01-24T08:09:29.263
> 
> 标签：c#, asp.net-mvc-3, razor, asp.net-mvc-viewmodel

我的任务是在`models`一个视图中显示多个。我已经为我的要求创建了一个`ViewModel`，但我没有满足我的要求。请查看下面的代码并纠正我哪里出错了？？？

```
public partial class StudentsDetail
    {
        public int StudentID { get; set; }
        public int ParentID { get; set; }
        public string StudentName { get; set; }
        public string Gender { get; set; }
        public string FatherName { get; set; }
        public string MotherName { get; set; }
        public Nullable<System.DateTime> DateOfBirth { get; set; }

        public virtual ParentsDetail ParentsDetail { get; set; }
        public virtual SchoolDetail SchoolDetail { get; set; }
} 
```

//模型2

```
 public partial class ParentsDetail
    {
        public ParentsDetail()
        {
            this.StudentsDetails = new HashSet<StudentsDetail>();
        }

        public int ParentID { get; set; }
        public string Occupation { get; set; }
        public string Organization { get; set; }
        public string AnnualIncome { get; set; }

        public virtual ICollection<StudentsDetail> StudentsDetails { get; set; }
    } 
```

//我创建的ViewModel

```
 public class ParentsInformationViewModel
    {
        public List<StudentsDetail> StudentsDetails { get; set; }
        public List<ParentsDetail> ParentsDetails { get; set; }

        public ParentsInformationViewModel(List<StudentsDetail> _studentDetails, List<ParentsDetail> _parentsDetails) //Should i pass all the required parameters that i want to display in view ????
        {
            StudentsDetails = _studentDetails;
            ParentsDetails = _parentsDetails;

        } 
```

//最后这是我在 StudentController 中定义的方法（我是否在正确的位置/方式定义了它？？）

```
public ActionResult StudentViewModel()
        {
            ViewBag.ParentsDetail = new ParentsDetail(); //ParentsDetail is my controller
            List<StudentsDetail> studentListObj = StudentsDetailsDAL.GetStudentDetails();
            List<ParentsInformationViewModel> ParentInfoVMObj = new List<ParentsInformationViewModel>();
            //foreach (var student in studentListObj)
            //{
            //    ParentInfoVMObj.Add(new ParentsInformationViewModel(student.StudentID, student.ParentID));

            //}
            //ParentInfoVMObj.Add(ParentInfoVMObj); /// don't know how to call the required viewmodel
            return View(ParentInfoVMObj);
        } 
```

我知道上面的 a 方法`ViewModel`是错误的，但是如何使用它或者我哪里出错了，我无法理解。我想`ViewModel`在视图中显示为详细视图。请纠正我，因为我是 MVC3 的初学者。

提前致谢！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T08:48:48.437

在您的控制器中，如下定义您的操作方法。

```
public ActionResult ParentsDetails()
{
    var studentDetails = new List<StudentDetail>();
    var parentDetails = new List<ParentsDetail>();

    // Fill your lists here, and pass them to viewmodel constructor.
    var viewModel = new ParentsInformationViewModel(studentDetails, parentDetails)

    // Return your viewmodel to corresponding view.
    return View(viewModel);
} 
```

在您的视图中定义您的模型。

```
@model MySolution.ViewModels.ParentsInformationViewModel 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:50:55.350

在您的视图中是否声明您正在接收类型的模型

鉴于：

```
@model IEnumerable<ParentsInformationViewModel> 
```

# android - Android listview 随机行为

> ID：14496569
> 
> 赞同：0
> 
> 时间：2013-01-24T08:09:32.103
> 
> 标签：android, android-layout, android-widget

我面临 listview 的问题，即我在运行时对 ListViewItem 的某些视图进行膨胀，这导致 ListView 行的增加，即 listview 中的某些行具有不同的高度，而其他行具有不同的高度，这会导致错误的 getView 位置。

```
import android.os.Bundle;
import android.view.View;
import android.widget.ListView;
import android.app.Activity;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        ListView listView = (ListView) findViewById(R.id.listView1);
        TestAdapter adapter = new TestAdapter(this);
        listView.setAdapter(adapter);
    }
    public void onClickAction(View v){
         v.findViewById(R.id.l1).setVisibility(View.VISIBLE);
    }
}

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;

public class TestAdapter extends BaseAdapter {
    private String[] items = {"a","b","c","d","e","f","g","h","i"};
    private Context context;
    public TestAdapter(Context context) {
        this.context = context;
    }
    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return items.length;
    }

    @Override
    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return items[position];
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }
    ViewHolder holder;
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        if(convertView == null){
            convertView = LayoutInflater.from(context).inflate(R.layout.list_view_item, null);
            holder = new ViewHolder();
            holder.textView = (TextView) convertView.findViewById(R.id.textView1);
            convertView.setTag(holder);
        }else{
            holder = (ViewHolder) convertView.getTag();
        }
        holder.textView.setText("value = "+position);
        return convertView;
    }
    static class ViewHolder{
        TextView textView;
    }

}

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".MainActivity" >

<ListView
    android:id="@+id/listView1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

</ListView> 
```

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:id="@+id/mainLayout"
    android:onClick="onClickAction"
    android:orientation="vertical" >
    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Large Text"        
        android:textAppearance="?android:attr/textAppearanceLarge" />
    <LinearLayout
        android:id="@+id/l1"
        android:layout_width="fill_parent"
        android:layout_height="250dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/textView1"
        android:visibility="gone"
        android:background="@android:color/darker_gray"
        android:orientation="vertical" >
    </LinearLayout>
</RelativeLayout> 
```

# php - 通过php将文本转换为html

> ID：14496576
> 
> 赞同：-1
> 
> 时间：2013-01-24T08:10:02.733
> 
> 标签：php, html, email

我在 html 中创建了一个表单并使用 php 发送电子邮件

```
<form action="xxxxxx" method="post">
  <textarea rows="15" cols="80" name="texttosend" >
    Here is the list
    1) xxxx
    2) yyyy
    3) zzzz
  </textarea>
  <input type="hidden" name="do"    value="admin" />
  <input type="hidden" name="page"  value="mytext" />
  <input type="submit" class="button" name="sendmail" value="Send" />
</form> 
```

在 php 中，我捕获 textarea 的内容并通过将电子邮件的标题设置为 html 将其发送为

```
Content-Type: text/html; charset="iso-8859-1" 
```

但是，发出的电子邮件丢失了所有格式（我的意思是似乎所有的行返回都消失了，所有行都显示在一行中。所以我尝试将 textarea 的内容包装在 <p> </p> 中，但它没有t 再次工作 以在文本区域中键入的方式发送 html 消息的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:20:52.033

您可以使用`htmentites()`

```
echo htmentites($_POST['texttosend']); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:14:05.893

做你的标题

```
Content-Type: text/plain; charset="iso-8859-1" 
```

因为您的消息中没有 HTML

# iphone - 以分钟为单位的时间添加到 12 小时格式的时间

> ID：14496577
> 
> 赞同：0
> 
> 时间：2013-01-24T08:10:07.910
> 
> 标签：iphone, xcode4.5

我需要在 12 小时格式的时间中添加一些动态分钟数。我有一个 12 小时格式的时间为下午 1:45。如何添加一些动态分钟数，如 15、30、60，如果添加 15 分钟，则为下午 2:00。当它是 12:00如果添加60分钟，添加的时间应该变成下午1:00。在android中我们可以拆分做相应的过程。但无法理解在iphone中如何做。

时间为 AM 格式时的情况相同

任何建议/帮助都将是可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T09:06:12.860

用于`NSDate`根据您的时间创建日期对象。然后[`NSDateComponents`](https://developer.apple.com/library/iOS/#documentation/Cocoa/Reference/Foundation/Classes/NSDateComponents_Class/Reference/Reference.html)从该日期创建并将分钟添加到日期。之后，您可以创建一个新`NSDate`对象，您可以使用 12HR 格式向用户发送该对象`NSDateFormatter`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:50:45.163

假设现在时间=1:45 这意味着

小时=1 & 分钟=45 & 你必须加 15 min.then

```
 minutes=minutes+15
    if(minutes==60)
    {
    hour=hour+1;
    minutes=0;
    }
   else if(minutes>60)
   {
   hour=hour+1;
   minutes=minutes-60;
   }
   else
   {
    minutes=minutes;
   } 
```

您可以通过以下代码获取小时、分钟、秒

```
NSDate *date = [NSDate date];
NSCalendar *calendar = [NSCalendar currentCalendar];
unsigned int unitFlags = NSHourCalendarUnit|NSMinuteCalendarUnit|NSSecondCalendarUnit;
NSDateComponents *comp = [calendar components:unitFlags fromDate:date];
NSInteger h = [comp hour];
NSInteger m = [comp minute];
NSInteger s = [comp second];
NSLog(@"%i,%i,%i", h,m,s); 
```

UPdated1：对于将 AM 设置为 PM 或 PM 设置为 AM ，只需检查小时是否大于 12。

这意味着假设现在是 PM。

如果您新计算的时间是`hour>12`然后将其更改为 AM

# windows-8 - 如何让 FlipView 只滚动一个方向

> ID：14496578
> 
> 赞同：1
> 
> 时间：2013-01-24T08:10:08.967
> 
> 标签：windows-8, windows-runtime, windows-store-apps, winrt-xaml

像这样的简单xaml

```
<FlipView>
    <FlipView>
        <FlipView.ItemsPanel>
            <ItemsPanelTemplate>
                <StackPanel Orientation="Vertical" />
            </ItemsPanelTemplate>
        </FlipView.ItemsPanel>
        <Rectangle Fill="CornflowerBlue" />
        <Rectangle Fill="CornflowerBlue" />
    </FlipView>
    <FlipView>
        <FlipView.ItemsPanel>
            <ItemsPanelTemplate>
                <StackPanel Orientation="Vertical" />
            </ItemsPanelTemplate>
        </FlipView.ItemsPanel>
        <Rectangle Fill="CornflowerBlue" />
        <Rectangle Fill="CornflowerBlue" />
    </FlipView>
    <ListBox>
        <Rectangle Fill="CornflowerBlue" />
        <Rectangle Fill="CornflowerBlue" />
    </ListBox>
</FlipView> 
```

如果主FlipView的当前item是一个flipview，你可以在两个方向上拖动和滚动它的item。但是如果是一个listbox，只有一个方向可用。意味着在你的手指抬起之前，你不能在另一个方向上拖动和滚动它（水平或垂直）。

那么如何使翻转视图的行为与列表框相同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T16:31:24.753

如果您从 FlipView 中提取默认模板，您可以看到样式如何具有这些设置器：

```
<Setter
    Property="ScrollViewer.IsHorizontalRailEnabled"
    Value="False" />
<Setter
    Property="ScrollViewer.IsVerticalRailEnabled"
    Value="False" />
<Setter 
```

从中您可以推断出该设置`ScrollViewer.IsHorizontalRailEnabled`并`ScrollViewer.IsVerticalRailEnabled`在您的 FlipView 上`True`给出您想要的。

# spring - 一对多左连接查询

> ID：14496580
> 
> 赞同：1
> 
> 时间：2013-01-24T08:10:11.353
> 
> 标签：spring, hibernate, jpa

大家好，我是休眠JPA的新手。下面是我定义的实体 A 和 B 之间的关系。

这是类的代码`A`

```
class A{

   @Id
   @GeneratedValue
   private Long id;

   @Column(name = "col_1")
private Long col1;

   @Column(name = "col_2")
private Long col2;

   @OneToMany(fetch = FetchType.EAGER,mappedBy = "a")
private List<B> bList= new LinkedList<B>();

   public Long getId() {
    return id;
}

public void setId(Long id) {
    this.id = id;
}

   public List<B> getBList() {
    return bList;
}

public void setBList(List<B> bList) {
    this.bList = bList;
}

} 
```

这是类的代码`B`

```
class B{

   @Id
   @GeneratedValue
   private Long id;

   @NotNull
@ManyToOne(optional=false)
@JoinColumns(value = { @JoinColumn(name = "col_1", referencedColumnName="col_1"),
        @JoinColumn(name = "col_1", referencedColumnName="col_2") })
private A a;

    @Column(name = "col_1")
private Long col1;

    @Column(name = "col_2")
private Long col2;

    public A getA() {
    return a;
}

public void setA(A a) {
    this.a = a;
}

     public Long getId() {
    return id;
}

public void setId(Long id) {
    this.id = id;
}
} 
```

我有一个`crudrepository`用于`A`. 当我运行一个加载`A`实体的 crud 方法时，我看到一个左外连接查询，用于`B`映射到`col_1`的`col_2`每条记录`A`。所有这些查询都是多余的。我期望只执行一个左外连接查询。这导致我的应用程序超时。谢谢你的帮助:)

# com-interop - 使用分布式优化对象 (DTO) 创建普遍数据库

> ID：14496587
> 
> 赞同：0
> 
> 时间：2013-01-24T08:10:36.350
> 
> 标签：com-interop, pervasive

我正在用 C# (.NET 4.0) 编写一个应用程序，它必须与另一个更旧的应用程序集成。部分要求是与使用 Pervasive PSQL 版本 9 的更旧的程序集成。我问[了这个](https://stackoverflow.com/questions/14474589/read-pervasive-database-9-without-creating-odbc-dsn)问题，即无需安装 ODBC DSN 即可访问数据库。部分答案（非常感谢）是我需要使用[DTO](http://docs.pervasive.com/products/database/psqlv11/wwhelp/wwhimpl/js/html/wwhelp.htm#href=dto/dtointro.1.1.html)创建一个数据库。

我已经使用 COM 互操作来访问`dto2.dll`COM 库，并阅读了示例，但我在创建数据库时遇到了问题。这是我正在使用的代码的摘要。

```
var session = new DtoSession();
var result = session.Connect("localhost", "", "");
Assert.AreEqual(dtoResult.Dto_Success, result);

testDB = new DtoDatabase {
    Session = session,
    Name = "Test1",
    Ddfpath = @"C:\TEMP\DATA\DDF",
    DataPath = @"C:\TEMP\DATA",
};

result = session.Databases.Add(testDB);
Assert.AreEqual(dtoResult.Dto_Success, result); 
```

无论我对名称和路径使用什么值，最终的断言总是失败。错误代码是`Dto_errDuplicateName`。如果我不包含该`Session`属性，我会得到不同的错误代码 (7039)。

有没有人成功做到这一点？我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:27:51.347

我相信您缺少对象的`Flags`属性`DtoDatabase`。我的存档中有以下代码作为使用 DTO 添加数据库的示例。这段代码可能是在 DTO 首次发布时编写的，但它可以工作，我能看到的唯一区别是`Flags`属性。

```
DtoSession session = new DtoSession();
dtoResult result;
result = session.Connect("localhost", "","");
if (result != dtoResult.Dto_Success)
{
    Console.WriteLine("Error connecting. Error code: " + result.ToString());
    return;
}
DtoDatabase testDB = new DtoDatabase();
testDB.Name = "Test1";
testDB.DataPath = @"C:\DATA";
testDB.DdfPath = @"C:\DATA";
testDB.Flags = dtoDbFlags.dtoDbFlagNotApplicable;
result = session.Databases.Add(testDB);
if (result != dtoResult.Dto_Success)
{
    Console.WriteLine("Error Adding. Error code: " + result.ToString());
    return;
}
Console.WriteLine("DB Added."); 
```

# c - 使用 fscanf 读取项目

> ID：14496596
> 
> 赞同：0
> 
> 时间：2013-01-24T08:11:00.503
> 
> 标签：c

有一个文件 a.txt 看起来像这样：

```
1 abc
2 
3 jkl 
```

我想将该文件的每一行作为一个`int`和一个字符串读取，如下所示：

```
fp = fopen("a.txt", "r");
while (1) {
    int num;
    char str[10];
    int ret =fscanf(fp, "%d%s", &num, str);
    if (EOF == ret)
        break;
    else if (2 != ret)
        continue;
    // do something with num and str
} 
```

但是有一个问题，如果a.txt中的一行只包含一个num，没有字符串（就像第2行一样），那么上面的代码就会卡在该行。

那么有什么方法可以跳到下一行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:31:13.613

分两步进行：

1.  使用 阅读整行`fgets()`。这假设您可以对要支持的行的长度设置一个简单的静态限制，但这种情况经常发生。
2.  用于`sscanf()`检查和解析行。

这可以解决您遇到的问题，并且通常是解决此类问题的更好方法。

**更新**：试图回应您的评论。在我看来，最简单的方法是始终阅读整行（如上），然后解析出您认为它包含的两个字段：数字和字符串。

如果您使用 执行此操作，您可以使用返回值来确定它是如何进行的，就像您在代码中`sscanf()`尝试的那样：`fscanf()`

```
const int num_fields = sscanf(line, "%d %s", &num, str);
if( num_fields == 1 )
  ; /* we got only the number */
else if( num_fields == 2 )
  ; /* we got both the number and the string */
else
  ; /* failed to get either */ 
```

不知道什么时候你不会“需要”这个字符串；它要么存在，要么不存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:15:44.427

如果字符串的第一个字符是`\r or\n`这将是一个空字符串。您可以使用比较。如果单词中包含空格（或空行），则 fscanf() 不适合。在这种情况下，最好使用 fgets()

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-04T20:17:33.980

如何解决“使用 fscanf”：

在 之后`int`，寻找空格（不要保存），然后寻找`char`不是`'\n'`。

```
int num;
char str[10];
#define ScanInt            "%d"
#define ScanSpacesDontSave "%*[ ]"
#define ScanUntilEOL       "%9[^\n]"

int ret = fscanf(fp, ScanInt ScanSpacesDontSave ScanUntilEOL, &num, str);
if (EOF == ret) break;
else if (1 == ret) HandleNum(num);
else if (2 == ret) HandleNumStr(num, str);
else HadleMissingNum(); 
```

`ret`如果*某些*内容被扫描到中，则为 2 `str`，否则`ret`通常为 1。上面的技巧是不要在.`'\n'`之后扫描`int`。因此，代码既不能使用`"%s"`也不能使用它们`" "`，`"%d"`它们都消耗所有（前导）空白。下*一次* `fscanf()`调用将`'\n'`通过`"%d"`.

小提示：读取行`fgets()`然后解析缓冲区通常是一种更好的方法，但编码目标可能会排除这种情况。

# c# - 读取存储在 SharePoint 文档库中的 excel 文件

> ID：14496608
> 
> 赞同：1
> 
> 时间：2013-01-24T08:12:00.120
> 
> 标签：c#, sharepoint-2010

我有一个存储在 SharePoint 文档库中的 excel 文件。我需要读取这个 excel 文件并以编程方式从文件路径中获取数据

例如：SharePoint 站点：http:// servername :1000

Excel文件路径：http://servername:1000/ExcelDocs//ExcelFile.xlsx

正如我们所见，我有存储在 SharePoint 文档库中的 excel 文件的路径。我需要从此文件中获取数据。有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-03-29T18:43:29.533

事实上，您可以在不涉及任何第三方组件的情况下仅使用 SharePoint 功能来读取 Excel 文件内容。

该解决方案演示了如何*使用 SharePoint REST 服务来读取 Excel 数据*。关于此方法的另一点是，由于根本不存在**对**SharePoint 库的任何依赖项，因此既不引用服务器端程序集，也未引用客户端程序集。

> 先决条件：必须配置[Excel Services 服务应用程序](https://msdn.microsoft.com/en-us/library/office/ms546696(v=office.14).aspx)

## 准备excel数据

假设以下excel文件

![在此处输入图像描述](../Images/00b84b50cc86f0c1d88fedc19756584f.png)

工作簿中包含以下项目：

*   表（如何[在工作表中创建或删除 Excel 表](https://support.office.com/en-in/article/Create-or-delete-an-Excel-table-in-a-worksheet-867f3add-0522-493c-94ab-b1b9933f46ca)）
*   图表

在将文件上传到 SharePoint 库之前，请转到`File -> Browse View Options -> choose Items in the Workbook`如下所示。然后保存文件并将其上传到 SharePoint`Documents`库。

![在此处输入图像描述](../Images/8031803ef84204f2579942688529add2.png)

## 如何通过 Excel Services 2010 REST API 读取 excel 数据

以下示例演示如何使用[Excel Services 2010 REST API读取](https://i.stack.imgur.com/jid1b.png)*excel 表格内容*：

```
using System;
using System.Net;

namespace SharePoint.Client.Office
{
    public class ExcelClient : IDisposable
    {

        public ExcelClient(Uri webUri, ICredentials credentials)
        {
            WebUri = webUri;
            _client = new WebClient {Credentials = credentials};
        }

        public string ReadTable(string libraryName,string fileName, string tableName,string formatType)
        {
            var endpointUrl = string.Format("{0}/_vti_bin/ExcelRest.aspx/{1}/{2}/Model/Tables('{3}')?$format={4}", WebUri,libraryName,fileName, tableName, formatType);
            return _client.DownloadString(endpointUrl);
        }

        public void Dispose()
        {
            _client.Dispose();
            GC.SuppressFinalize(this);
        }

        public Uri WebUri { get; private set; }

        private readonly WebClient _client;

    }
} 
```

**用法**

该示例演示了如何使用 JSON 格式读取表格内容：

```
var credentials = new NetworkCredential(userName,password,domain);  
var client = new ExcelClient(webUri, credentials);
var tableData = client.ReadTable("Documents","ciscoexpo.xlsx", "CiscoSalesTable","html"); 
```

## 参考

*   [使用 Excel Services 2010 REST API](https://msdn.microsoft.com/en-us/library/office/ff961897%28v=office.14%29.aspx)
*   [在工作表中创建或删除 Excel 表格](https://support.office.com/en-in/article/Create-or-delete-an-Excel-table-in-a-worksheet-867f3add-0522-493c-94ab-b1b9933f46ca)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:27:17.963

您可以从 SPFile 对象获取二进制数据，然后在第三方库[ClosedXML中打开它](http://closedxml.codeplex.com/)

```
SPFile file = web.GetFile("http://servername:1000/ExcelDocs//ExcelFile.xlsx");
Stream dataStream = file.OpenBinaryStream();
XLWorkbook workbook = new XLWorkbook(dataStream); 
```

或者您可以使用[OpenXML](http://msdn.microsoft.com/en-us/office/ee358824.aspx)，它是 Microsoft SDK。

```
SPFile file = web.GetFile("http://servername:1000/ExcelDocs//ExcelFile.xlsx");
Stream dataStream = file.OpenBinaryStream();
SpreadsheetDocument document = SpreadsheetDocument.Open(dataStream, false);
Workbook workbook = document.WorkbookPart.Workbook; 
```

这是使用 OpenXML的[示例](http://msdn.microsoft.com/en-us/library/office/hh180830%28v=office.14%29.aspx)

# erlang - 从列表到字符串并返回到列表

> ID：14496614
> 
> 赞同：-1
> 
> 时间：2013-01-24T08:12:31.947
> 
> 标签：erlang

我已经阅读了一个多行文件并将其转换为具有以下代码的列表：

```
Lines = string:tokens(erlang:binary_to_list(Binary), "\n"), 
```

我将其转换为字符串以对其进行一些处理：

```
Flat = string:join(Lines, "\r\n"), 
```

我完成了对字符串的处理，现在我需要将其转换回多行列表，我尝试重复上面显示的第一个片段但从未奏效，我尝试了 string:join 并且没有奏效..我如何将它转换回来到一个像以前一样的列表（虽然现在修改了）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T15:06:39.623

上面的第一个片段包含一个调用`erlang:binary_to_list/1`，首先将二进制文件转换为字符串（列表），然后将其与调用拆分`string:tokens/2`，然后与`string:join/2`. 正如您所写的那样，执行`tokens`then的结果`join`似乎是将其从包含由分隔的行的字符串转换为包含由分隔的行的`\n`字符串`\r\n`。请注意，这是一个扁平的字符列表。

这是你想要的吗？

您现在应该做什么取决于“我需要将其转换回多行列表”的意思。您是指单个字符列表（字符串）中的所有内容，还是嵌套行列表中的所有内容，其中每行都是字符列表（字符串）。即如果你最终得到

```
"here is line 1\r\nhere is line 2\r\nhere is line 3\r\n" 
```

这已经是一个多行列表，或者你的意思是

```
["here is line 1","here is line 2","here is line 3"] 
```

请注意，每个“字符串”本身就是一个字符列表。之后你打算用它做什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T13:24:29.810

这取决于您对扁平字符串所做的修改。 `string:tokens/2`将始终使用您提供的分隔符来分解字符串。因此，只要您的转换保留特定字符串作为各个子字符串之间的分隔符，就应该没有问题。

但是，如果您在转换中做一些更复杂和破坏性的事情，那么唯一的方法是手动迭代字符串并构造各个子字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T15:59:30.650

你把你的术语弄糊涂了。任何语言中的字符串都是对应于人类可读字符的整数值序列。无论值的表示是二进制还是列表都无关紧要，因为它们包含的数据在技术上都是字符串。

话虽如此，您在第一组指令中将二进制字符串转换为列表字符串。要将列表转换为二进制，您可以调用`erlang:list_to_binary/1`，或者`erlang:iolist_to_binary/1`如果您的列表不平坦。例如：

```
BinString = <<"this\nis\na\nstring">>.
ListString = "this\nis\na\nstring" = binary_to_list(BinString).
Words = ["this", "is", "a", "string"] = string:tokens(ListString, "\n").
<<"thisisastring">> = iolist_to_binary(Words).
Rejoined = "this\r\nis\r\na\r\nstring" = string:join(Words, "\r\n").
BinAgain = <<"this\r\nis\r\na\r\nstring">> = list_to_binary(Rejoined). 
```

供您参考，`string`模块***总是***需要一个平面列表（例如，“这是一个字符串”，但不是 [“this”，“is”，“a”，“string”]），除了`string:join`，它需要一个列表扁弦。

# sql - 删除列不会减少数据库大小

> ID：14496615
> 
> 赞同：12
> 
> 时间：2013-01-24T08:12:35.540
> 
> 标签：sql, sql-server, sql-server-2008

我有一个测试数据库，其中包含 1 个包含大约 5000 万条记录的表。该表最初有 50 列。该表没有索引。当我执行“sp_spaceused”过程时，我得到“24733.88 MB”作为结果。现在为了减小这个数据库的大小，我删除了 15 列（主要是 int 列）并运行“sp_spaceused”，结果仍然是“24733.88 MB”。

为什么删除这么多列后数据库大小没有减少？我在这里错过了什么吗？

**编辑：**我尝试过缩小数据库，但也无济于事

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-01-24T08:19:47.187

尝试运行以下命令：

```
DBCC CLEANTABLE ('dbname', 'yourTable', 0) 
```

它将从表或索引视图中删除的可变长度列中释放空间。此处的更多信息[DBCC CLEANTABLE](http://msdn.microsoft.com/en-us/library/ms174418.aspx)和此处的[Space used does not get changed after drop a column](http://www.sqldbadiaries.com/2011/03/03/space-used-does-not-get-changed-after-dropping-a-column/)

此外，正如在此答案的第一条评论中发布的链接上正确指出的那样。执行完 DBCC CLEANTABLE 命令后，您需要重建聚簇索引以防表有一个，以便取回空间。

```
ALTER INDEX IndexName ON YourTable REBUILD 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T08:22:10.763

当从表中删除任何可变长度列时，它不会减小表的大小。在重组或重建索引之前，表大小保持不变。

还有 DBCC 命令 DBCC CLEANTABLE，可用于回收以前被可变长度列占用的任何空间。这是语法：

```
DBCC CLEANTABLE ('MyDatabase','MySchema.MyTable', 0)WITH NO_INFOMSGS;
GO 
```

拉吉

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:17:38.200

数据库大小不会仅仅因为您删除了对象而缩小。数据库服务器通常持有回收的空间以用于后续数据插入或新对象。

要回收释放的空间，您必须缩小数据库文件。请参阅[如何缩小我的 SQL Server 数据库？](https://stackoverflow.com/questions/439071/how-do-i-shrink-my-sql-server-database)

# php - 外部 URL AJAX 和 JSON PHP 方面

> ID：14496618
> 
> 赞同：1
> 
> 时间：2013-01-24T08:12:40.423
> 
> 标签：php, jquery, ajax, json

我知道现代浏览器不允许对外部 URLS 的 AJAX 请求，解决方法是 JSON 编码，我这样做是这样的：

```
 function findZipCodesInRadius(userZip, radiusInMiles) {

     $.getJSON("http://mydomain.com/php/zipCodesInRadius.php?callback=?", {
         TheUserZip: userZip,
         TheRadiusInMiles: radiusInMiles
     },

     function (data) {
         alert("Data Loaded: " + data);
     });

 } 
```

在 PHP 方面，我让它像这样“回响”结果：

```
$JSONData = array("callback"=>"true"); 
echo json_encode($JSONData); 
```

环顾谷歌后，上面的代码是我发现的，但它仍然无法正常工作。如何正确回显回调？也许我做错了ajax请求？我通常以不同的方式进行操作，但是因为我试图访问我的另一个网站上的文件，所以我一直在到处寻找发送请求的正确方式，这就是我想出的。不知道我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:16:09.013

您需要实现一个回调函数才能使其正常工作。您将需要使用定义在`$_GET['callback']`.

例如，`echo $_GET['callback']."(".json_encode($JSONData).")";`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:16:36.890

您必须为 jsonp 请求添加回调

```
$JSONData = array("callback"=>"true");
$callback = $_GET['callback'];
echo $callback,'(',json_encode($JSONData),')'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:21:20.803

> 我知道现代浏览器不允许 AJAX 请求到外部 URL，

相反，*现代*浏览器允许这样做，如果你告诉他们（见[CORS](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing)）

解决方法不是 JSON*编码*，而是[JSONP](http://en.wikipedia.org/wiki/JSONP)，一种使用动态`<script>`元素加载外部源的技术。为此，源代码必须是可执行的 JavaScript，这就是`callback`参数发挥作用的地方：

```
echo $_GET['callback'] . '(' . json_encode($JSONData) . ')'; 
```

该参数将是一个函数名称，但您不必在 JS 代码中关心它，JQuery.getJSON 透明地为您处理它。

# delphi - 在 Delphi 中实现变更日志

> ID：14496630
> 
> 赞同：4
> 
> 时间：2013-01-24T08:13:22.197
> 
> 标签：delphi, filesystems, delphi-xe2, ntfs, ntfs-mft

我正在寻求使用[更改日志](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363798%28v=vs.85%29.aspx)而不是`ReadDirectoryChangesW`跟踪我的 delphi XE2 应用程序中的更改（至于原因：[ReadDirectoryChangesW 不那么可靠](http://social.msdn.microsoft.com/forums/en-US/netfxbcl/thread/4465cafb-f4ed-434f-89d8-c85ced6ffaa8/)）

我在 delphi/pascal 中能找到的最接近的是[Delphi MFT/Journal helpers](https://bitbucket.org/ZeljkoMarjanovic/delphi-mft-journal-helpers/src/a2040df226cb/Units?at=default)，它包含两个帕斯卡单位：[uMFT.pas](https://bitbucket.org/ZeljkoMarjanovic/delphi-mft-journal-helpers/src/a2040df226cb/Units/uMFT.pas)和[uDevNotification.pas](https://bitbucket.org/ZeljkoMarjanovic/delphi-mft-journal-helpers/src/a2040df226cb/Units/uDevNotification.pas?at=default)。

上面的代码处理 MFT（实际上非​​常好），但没有任何**变化日志**。

我还发现[了这个 C# 代码](http://www.donationcoder.com/forum/index.php?topic=22695)，它似乎可以做我想做的事，只是它在 C# 中

**我的问题是：**任何人都知道**Delphi XE2**代码（或如何转换 C# 代码）以与更改日志交互和/或查询？

正如我所说，我的目标是替换`ReadDirectoryChangesW`，因此我最终需要与更改日志进行交互，以便在文件系统发生更改时通知我

# php - 如何将 MySQL 字段中的 1 或空白更改为 Y 或 N？

> ID：14496631
> 
> 赞同：0
> 
> 时间：2013-01-24T08:13:26.220
> 
> 标签：php, mysql

我正在导出要在 Salesforce 中使用的 MySQL 表。有一个字段用于将数据设置为 1 或空白。我需要能够让 MySQL 将其输出为 1 的 Y 和空白的 N。这可以用 MySQL 完成，还是用 PHP 更好，还是必须用 PHP 完成？我不太了解 MySQL，是否有类似 IF field1 = "1" then field1="Y", else field1="N" 的东西？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:15:36.297

```
SELECT *, IF(field1=1,'Y','N') as field1 FROM ... 
```

> 在 PHP 中这样做会更好吗？

没有不同

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:19:59.557

你可以这样：

```
SELECT IF( field1 = 1, 'Y', 'N' ) AS `field`
FROM `tablename` 
```

或者，或者：

```
SELECT (CASE WHEN field1 = 1 THEN 'Y' WHEN field1 IS NULL THEN 'N' END) AS `field`
FROM `tablename` 
```

* * *

如果您对更新感兴趣，那么它会是这样的：

```
UPDATE `tablename`
SET field1 = REPLACE( REPLACE( `field1`, NULL, 'N'), '1', 'Y' ); 
```

# php - 有什么方法可以在 Yii 的模块/控制器/动作表单中返回 REFERRER 吗？

> ID：14496635
> 
> 赞同：3
> 
> 时间：2013-01-24T08:13:48.077
> 
> 标签：php, browser, yii

我用：

```
if(!empty(YII::app()->request->urlReferrer))echo YII::app()->request->urlReferrer; 
```

但是，我想使用`YII::app()->request->urlReferrer`with的值`CHtml::link(...)`并创建一个链接标签；

我不想写：

```
<a href="<?php echo YII::app()->request->urlReferrer; ?>">Go Back</a> 
```

我想从 REFERRAL 中提取模块、控制器、操作。

我开始思考和写计划，我发现我需要在我的一些网页上存储原始模块/控制器/动作；如果用户应该导航到某个地方，其中一些页面将使用存储的数据，例如模块/控制器/操作和当前页面（如果可用），以及每页列出了多少项目（如果可用）；

所以，我还需要一种方法来存储整个网页的原始状态，如果用户想回到原始页面，我必须加载存储的数据；

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:37:00.680

你可以试试这个：

```
echo CHtml::link(
        'Go Back',
        empty(Yii::app()->request->urlReferrer)?'#':Yii::app()->request->urlReferrer
); 
```

# java - Java ArrayList 和 LinkedList - 在最终实现细节处添加元素

> ID：14496638
> 
> 赞同：3
> 
> 时间：2013-01-24T08:14:25.103
> 
> 标签：java, arrays, collections, arraylist, linked-list

我对为什么arraylist 比linkedlist 更快的理解是，使用arraylist 你基本上只需要一个操作——更新数组末尾元素的引用，而使用链表你必须做更多的事情，例如创建一个新节点，更新2引用，遍历链表并更新最后一个节点以指向新节点等。

但是我不确定java如何实现这些。arraylist 如何知道“最后一个”元素在哪里，它是存储最后一个元素的值还是遍历数组并在最后一个元素之后添加一个新元素？

而链表，它们是存储对列表中最后一个节点的引用，还是遍历整个列表到达末尾？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:18:59.370

看源码：

[数组列表](http://docjar.com/html/api/java/util/ArrayList.java.html)：

```
public boolean add(E e) {
    ensureCapacityInternal(size + 1);  // Increments modCount!!
    elementData[size++] = e;
    return true;
} 
```

[链表](http://docjar.com/html/api/java/util/LinkedList.java.html)：

```
public boolean add(E e) {
    linkLast(e);
    return true;
}

void linkLast(E e) {
    final Node<E> l = last;
    final Node<E> newNode = new Node<>(l, e, null);
    last = newNode;
    if (l == null)
        first = newNode;
    else
        l.next = newNode;
    size++;
    modCount++;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:33:06.437

数组列表仅在某些操作中更快。如果在数组中间添加一个元素，则 arraylist 基本上需要将所有数据复制到一个新数组中。只有当数组列表已经为新数据分配了空间时，它才会在插入空的数据时快速（通常在最后）。按索引读取/更新非常快。

LinkedList 在插入时速度很快，因为它从不需要复制整个数组。但是访问链表中的数据很慢，因为您需要“遍历”所有元素，直到找到要查找的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:18:34.563

您可以随时查看`java.*`类的来源。

但是，特别回答您的问题：类中有一个`int`字段`ArrayList`，其中包含填充的内部数组区域的当前大小。当您在`ArrayList`对象中添加新值时，此字段会递增，然后直接寻址到内部数组中的该元素。

# c++ - 新运算符导致内存损坏

> ID：14496642
> 
> 赞同：-3
> 
> 时间：2013-01-24T08:14:34.067
> 
> 标签：c++, memory-management, new-operator

我使用 new 来分配内存并初始化一个类的变量。

这是使用的代码：

新运营商：

```
ptrIssuResrc = new IssuResource();
----------------------------------- 
```

类定义：

```
class IssuResource
{
 public:
    // constructor: create a IssueResource object
    IssuResource(void)
    {
        lastUpdatedResource = 0;
    }
    UINT16 lastUpdatedResource;
    UINT32 conn_list[MAX_CONNECTION];
    bool addConnResourceToList(UINT32); 
```

使用`ptrIssuRescr`：

```
class IssuResource *issuResrcPtr = NULL;
issuResrcPtr = card->ptrIssuResrc;

class IssuResource *ptrIssuResrc = card->ptrIssuResrc;
ptrIssuResrc->addConnResourceToList(connection->getLcn()); 
```

* * *

由于此代码，我面临一些内存损坏，已缩小范围。请帮我解决这里有什么问题？如何确保没有内存损坏？我已将新运算符移动到代码中的另一个位置，它工作正常。但我仍然需要确保不会导致新问题。

TIA

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:43:02.060

由于我们不熟悉您的代码，因此我们无法真正帮助您。你的类定义并没有告诉我们一切——我们应该知道在执行代码期间你的对象到底发生了什么。如果你不能使用 Valgrind，我会推荐你​​使用 AppVerifier + DebugDiag，它们是免费的并且可以在 Windows 操作系统上运行。

这些应用程序在内存损坏方面帮助了我很多。为了找出我的代码出了什么问题，我苦苦挣扎了很长时间，多亏了他们，我只花了几分钟就搞定了。

这是一个关于如何使用它们的好教程的链接：http: [//blogs.msdn.com/b/lagdas/archive/2008/06/24/debugging-heap-corruption-with-application-verifier-and-debugdiag .aspx](http://blogs.msdn.com/b/lagdas/archive/2008/06/24/debugging-heap-corruption-with-application-verifier-and-debugdiag.aspx)

它基本上会告诉您堆损坏出现在哪个位置，因此您更容易找到问题。

希望这会帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:31:43.213

好吧，您的帖子中没有很多上下文，但是您可以尝试在 Valgrind 中运行此代码，以查看是否有任何内存韭菜，访问未初始化的数据等。

可能有更多说明问题的代码会有所帮助......

# jquery - 如何使用 JQuery 将随机值放入 css 属性？

> ID：14496643
> 
> 赞同：1
> 
> 时间：2013-01-24T08:14:38.940
> 
> 标签：jquery, css

我想为已知数量的 div 生成属性，但我可以弄清楚我哪里出错了。我现在尝试的是：

```
$(document).ready(function(){
   for(var i=1; i<=7; i++)
   {
    var randBottom = Math.ceil(Math.random()*200); 
    var randHeight = Math.ceil(Math.random()*300)+200-randBottom;
    var randWidth = Math.ceil(Math.random()*50)+20;
    var oceanWidth= $("#ocean").css(["width"]);
    var randLeft= Math.ceil(Math.random()*oceanWidth)-randWidth;
     var cssObj = {
        'bottom' : randBottom+'px',
         'height' : randHeight+'px',
         'widht' : randWidth+'px
        };
    $("#bubble"+i).css(cssObj);
   }
}); 
```

[这](http://jsfiddle.net/dZJJu/)是一个完整的正在进行中的示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:18:03.007

您的代码中有一些错误。

```
$(document).ready(function(){
   for(var i=1; i<=7; i++)
   {
    var randBottom = Math.ceil(Math.random()*200); 
    var randHeight = Math.ceil(Math.random()*300)+200-randBottom;
    var randWidth = Math.ceil(Math.random()*50)+20;
    var oceanWidth= $("#ocean").css(["width"]);
    var randLeft= Math.ceil(Math.random()*oceanWidth)-randWidth;
     var cssObj = {
        'bottom' : randBottom+'px',
         'height' : randHeight+'px',
         'width' : randWidth+'px'
        };
    $("#bubble"+i).css(cssObj);
   }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:19:14.520

您忘记了 ' 在 css 对象中最后一个元素的末尾。

```
var cssObj = 
{
    'bottom' : randBottom + 'px',
    'height' : randHeight + 'px',
    'widht' : randWidth + 'px'
};
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:31:16.580

代码有一些问题：

*   使用`width`方法来获取元素的大小，使用`css(["width"])`不会给你作为数字的宽度，它给你一个具有名为属性的对象，该属性`width`是一个具有宽度和单位的字符串，例如`{ width: '420px' }`。
*   您忘记包含`left`.
*   指定`top`and`left`而不是`bottom`and `left`。（您可能需要为此更改计算。）
*   你拼错`'width'`了`'widht'`。
*   您可能希望在乘以随机数以计算左侧位置之前减去元素的宽度，否则您会得到负值。

这至少会将元素放置在某处：

```
for(var i=1; i<=7; i++)
   {
    var randBottom = Math.ceil(Math.random()*200); 
    var randHeight = Math.ceil(Math.random()*300)+200-randBottom;
    var randWidth = Math.ceil(Math.random()*50)+20;
    var oceanWidth= $("#ocean").width();
    var randLeft= Math.ceil(Math.random()*(oceanWidth-randWidth));
     var cssObj = {
        'left': randLeft + 'px',
        'top' : randBottom+'px',
         'height' : randHeight+'px',
         'width' : randWidth+'px'
        };
       console.log(cssObj);
    $("#bubble"+i).css(cssObj);
   } 
```

# android - 从android调用soap webservice

> ID：14496645
> 
> 赞同：0
> 
> 时间：2013-01-24T08:14:53.833
> 
> 标签：android

您好，我正在尝试从 android 调用 Web 服务。代码工作正常，没有错误，但我没有得到输出。我是安卓新手。请帮帮我。

整个教程在[这里](http://www.c-sharpcorner.com/UploadFile/88b6e5/how-to-call-web-service-in-android-using-soap/)....

有三个按钮`clear button`做得很好，但两个都`convert to celsius`不起作用`convert to fahrenheit`。实际上在 try 块中它们都有语句

```
SoapObject result = (SoapObject)envelope.bodyIn; 
```

我猜在这一行应用程序卡住了，因为我将生成器消息放在它提示的每个语句之后，但在此语句之后它没有。请告诉我是什么问题，我真的很担心..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T09:38:06.057

尝试使用此类调用 Web 服务：

```
public class WSRequest {

    public HttpTransportSE androidHttpTransport;
    public SoapSerializationEnvelope envelope; 
    public String methodName;
    public SoapObject request;

    public WSRequest(String methodName)
    {
        this.methodName = methodName;
        this.request = new SoapObject(SRWebServer.NAMESPACE, methodName);
        envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
        envelope.implicitTypes = true;
        envelope.dotNet = true;
        envelope.setOutputSoapObject(request);

        androidHttpTransport = new HttpTransportSE(SRWebServer.URL);
    }

    public void RegisterMarshal()
    {
        MarshalBase64 marshal = new MarshalBase64();
        marshal.register(envelope);
    }

    public SoapObject Send() throws IOException, XmlPullParserException 
    {
        System.setProperty("http.keepAlive", "false");
        new MarshalDate().register(envelope);
        this.androidHttpTransport.call(SRWebServer.NAMESPACE + this.methodName, envelope);
        return (SoapObject) this.envelope.getResponse();
    }

    public void AddProperties(String name, Object value)
    {
        this.request.addProperty(name, value);

    }
        // 

} 
```

并使用这种方式：

```
WSRequest request =  new WSRequest("method name here");
request.addProperties("property1Name",property1);
request.Send(); 
```

`requestSend()`将返回一个包含从 Web 服务接收到的对象的 SoapObject。

# java - 如何检索/提取 XML 元素属性值

> ID：14496647
> 
> 赞同：0
> 
> 时间：2013-01-24T08:15:00.710
> 
> 标签：java, xml, xml-parsing

我有一个如下的 XML，

```
<?xml version="1.0" encoding="utf-8"?>
    <PaymentElement>
        <Payment seqID="3">
            <TPayment>
                <Status>status</Status>
            </TPayment>
        </Payment>
    </PaymentElement> 
```

问题是如何通过 java 检索/提取 3 的 seqID 值。

我尝试了以下方法，但它不起作用。

```
InputStream xml = conn.getInputStream(); 
DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
DocumentBuilder db = dbf.newDocumentBuilder();
Document doc = db.parse(xml);
NodeList list = doc.getElementsByTagName("PaymentElement");

for(int i=0; i<=list.getLength();i++){
    NodeList paySeq=doc.getElementsByTagName("Payment seqID");
System.out.println("Payment seqID"+paySeq);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:25:30.240

```
XPath xpath = XPathFactory.newInstance().newXPath();
XPathExpression expr = xpath.compile("/PaymentElement/Payment/@seqID");
Object result = expr.evaluate(doc, XPathConstants.STRING); 
```

`result`现在应该有`3`。

**完整示例**

```
import java.io.*;
import javax.xml.xpath.*;
import org.xml.sax.InputSource;

public class Demo {

    public static void main(String[] args) throws Exception {
        InputStream inputStream = new FileInputStream("sample.xml");
        InputSource inputSource = new InputSource(inputStream);
        XPath xpath = XPathFactory.newInstance().newXPath();
        XPathExpression expr = xpath.compile("/PaymentElement/Payment/@seqID");
        Object result = expr.evaluate(inputSource, XPathConstants.STRING);
        System.out.println(result);
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:33:04.523

尝试

```
 DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
    DocumentBuilder db = dbf.newDocumentBuilder();
    Document doc = db.parse(new File("1.xml"));
    Element e  = (Element)doc.getDocumentElement().getElementsByTagName("Payment").item(0);
    String id = e.getAttribute("seqID");
    System.out.println("Payment seqID = " + id); 
```

输出

```
 Payment seqID = 3 
```

# mono - 可空属性上的导出属性导致崩溃

> ID：14496649
> 
> 赞同：1
> 
> 时间：2013-01-24T08:15:10.463
> 
> 标签：mono, monomac

使用 mono 2.10.9 和 monomac，我编写了 ac# 类，继承了用于从 Xcode 进行 Cocoa 绑定的 NSObject。如果我的类包含使用可空值的属性，如下所示：

```
[Export]
public bool? IsRegistered  { get; set; } 
```

我的应用程序在启动期间以丑陋的方式崩溃（请参阅下面的崩溃报告）。主窗口甚至还没有显示。只要我改变布尔？布尔，一切正常，但我实际上想使用布尔？有什么建议么？

崩溃报告：

```
Process:         SQAT [44677]
Path:            /Users/USER/*/SQAT.app/Contents/MacOS/SQAT
Identifier:      SQAT
Version:         4 (1)
Code Type:       X86 (Native)
Parent Process:  launchd [136]

Date/Time:       2013-01-23 15:31:51.540 +0100
OS Version:      Mac OS X 10.7.5 (11G63)
Report Version:  9

Crashed Thread:  0  Dispatch queue: com.apple.main-thread

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x0000000000000000, 0x0000000000000000

Application Specific Information:
objc[44677]: garbage collection is OFF
abort() called

Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   libsystem_kernel.dylib          0x95da69c6 __pthread_kill + 10
1   libsystem_c.dylib               0x90dc0f78 pthread_kill + 106
2   libsystem_c.dylib               0x90db1bdd abort + 167
3   libmono-2.0.dylib               0x0029eefd mono_handle_native_sigsegv + 685
4   libsystem_c.dylib               0x90e1659b _sigtramp + 43
5   ???                             0xffffffff 0 + 4294967295
6   libmono-2.0.dylib               0x002ed970 mono_runtime_posix_install_handlers + 288
7   libsystem_c.dylib               0x90db1bdd abort + 167
8   libmono-2.0.dylib               0x003ff47f monoeg_g_logv + 159
9   libmono-2.0.dylib               0x003ff4ab monoeg_assertion_message + 43
10  libmono-2.0.dylib               0x0035a4ee mono_marshal_emit_managed_wrapper + 782
11  libmono-2.0.dylib               0x0035ae50 mono_marshal_get_managed_wrapper + 752
12  libmono-2.0.dylib               0x0035b2a2 mono_delegate_to_ftnptr + 146
13  ???                             0x011bf4be 0 + 18609342
14  ???                             0x011bf45c 0 + 18609244
15  ???                             0x01203350 0 + 18887504
16  ???                             0x01203148 0 + 18886984
17  ???                             0x013340fc 0 + 20136188
18  ???                             0x011c10a8 0 + 18616488
19  ???                             0x011c090c 0 + 18614540
20  ???                             0x01205cd8 0 + 18898136
21  ???                             0x0092bfe0 0 + 9617376
22  ???                             0x0092b6dc 0 + 9615068
23  ???                             0x0092bdde 0 + 9616862
24  libmono-2.0.dylib               0x0020dca4 mono_jit_runtime_invoke + 164
25  libmono-2.0.dylib               0x003832e4 mono_runtime_invoke + 68
26  libmono-2.0.dylib               0x003893ae mono_runtime_exec_main + 238
27  libmono-2.0.dylib               0x002735fd mono_main + 6797
28  SQAT                            0x000394bf main + 3135
29  SQAT                            0x00038875 start + 53 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T14:21:05.307

有没有直接等价于bool？在 ObjectiveC 中，因此目前无法导出这样的属性。

您究竟是如何尝试从 ObjectiveC 中使用这个属性的？

# iphone - 如何在目标 c 的 UIAlertView 中翻转图像视图

> ID：14496651
> 
> 赞同：1
> 
> 时间：2013-01-24T08:15:17.223
> 
> 标签：iphone, objective-c, xcode, uiimageview, uialertview

我有一个`AlertView`，`imageView`我必须在翻转动画（`UIViewAnimationTransitionFlipFromLeft`/ `Right`）中显示图像作为`subview`警报视图

我正在使用以下方法

```
- (void) setAnimationFlip:(UIAlertView*)alertView {

    UIView *containerView = [[UIView alloc]initWithFrame:CGRectMake(20, 40, 150, 150)];
    UIImageView *mainView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"scene1.jpg"]];
    UIImageView *flipToView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"scene2.jpg"]];

    mainView.frame = CGRectMake(20, 40, 200, 210);
    flipToView.frame = CGRectMake(20, 40, 200, 210);

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:2.0];

    [UIView setAnimationTransition:([mainView superview] ?
                                    UIViewAnimationTransitionFlipFromLeft : UIViewAnimationTransitionFlipFromRight)
                           forView:containerView cache:YES];
    if ([flipToView superview])
    {
        [flipToView removeFromSuperview];
        [containerView addSubview:mainView];

    }
    else
    {
        [mainView removeFromSuperview];
        [containerView addSubview:flipToView];
    }

    [self.alrtViewPreview addSubview:containerView];
    [self.alrtViewPreview show];

    [UIView commitAnimations];

    //[containerView release];
    //[mainView release];
    //[flipToView release];

} 
```

并打电话给...

```
 switch (iEffect) {
            case 1:

                [self setAnimationFlip:alrtViewPreview];
                break;
    } 
```

但这对我不起作用，任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T11:07:52.030

```
-(IBAction)btnClick:(UIButton*)sender {

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:1];
    [UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromLeft forView:sender cache:YES]; 
    [UIView setAnimationDelegate:self]; 
    [sender setImage:[UIImage imageNamed:[NSString stringWithFormat:@"%@",self.tileImage]] forState:UIControlStateNormal];
        [sender setTitle:self.tileText forState:UIControlStateNormal];

    [UIView commitAnimations];

} 
```

# dart - 检查 Future 是否完整

> ID：14496657
> 
> 赞同：12
> 
> 时间：2013-01-24T08:15:37.887
> 
> 标签：dart

在“m3”之前，您可以使用“completer.future.isComplete”检查 Future 是否已完成，这似乎已经消失了。有替代品吗？还是我需要自己保存它（似乎 _CompleterImpl 内部仍然有一个字段 '_isComplete' 但它没有暴露

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-25T22:04:54.177

使用 M3 Dart，最好只使用您自己的标志。

```
future.whenComplete(() {
  tweenCompleted = true;
}); 
```

Dart 是一种单线程语言，因此这里没有竞争条件。请注意，当这个未来完成时，会调用 [action] 函数，无论它是使用值还是错误完成。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2021-10-27T00:07:27.673

[@Cutch](https://stackoverflow.com/users/1232819/cutch)的解决方案的替代方法是将`Future`a包装起来`Completer`：

```
Completer<T> wrapInCompleter<T>(Future<T> future) {
  final completer = Completer<T>();
  future.then(completer.complete).catchError(completer.completeError);
  return completer;
}

Future<void> main() async {
  final completer = wrapInCompleter(asyncComputation());
  if (completer.isCompleted) {
    final result = await completer.future;
    // do your stuff
  }
} 
```

这种方法更有资源，因为您既可以异步等待完成，也可以检查未来是否同步完成。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2022-01-28T08:42:00.200

使用 Future 的扩展并以 Hugo Passos 的回答为基础：

```
extension FutureExtension<T> on Future<T> {
  /// Checks if the future has returned a value, using a Completer.
  bool isCompleted() {
    final completer = Completer<T>();
    then(completer.complete).catchError(completer.completeError);
    return completer.isCompleted;
  }
} 
```

# java - 如何在 SWT 中添加开/关滑块？

> ID：14496663
> 
> 赞同：0
> 
> 时间：2013-01-24T08:15:59.873
> 
> 标签：java, swt

我[在 SO 上发现了一个类似的问题，](https://stackoverflow.com/questions/7304017/how-to-add-sexy-on-off-sliders)但它在 Swing 中。我想在 SWT 中做同样的事情。

那么如何在 SWT 中制作 ON/OFF 滑块？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T14:29:42.690

[opal 项目](http://code.google.com/a/eclipselabs.org/p/opal/)有一个[`SwitchButton`](http://code.google.com/a/eclipselabs.org/p/opal/wiki/SwitchButton)应该正是您正在搜索的内容。这是一个屏幕截图：

![在此处输入图像描述](../Images/5e7ceeb4f4109a186cbde7373f1aa9f0.png)

你可以像这样使用它：

```
SwitchButton button = new SwitchButton(shell, SWT.NONE);
button.setTextForSelect("ON");
button.setTextForUnselect("OFF"); 
```

# android - 我的自定义列表视图项目布局的不需要的侧边距

> ID：14496669
> 
> 赞同：2
> 
> 时间：2013-01-24T08:16:14.487
> 
> 标签：android

`listview`使用自定义项目布局时，我得到了一些奇怪的左右边距。它们是边距（或至少不是容器的填充），因为背景不会延伸到边缘。

在这个布局中，我使用了一个简单的垂直`LinearLayout`，带有一堆`textviews`和一个`progressbar`. 如果我切换回内置的**simple_list_item_activated_1.xml**，边距就会消失。线性布局本身没有任何布局边距。我专门剥离了它的任何属性，只留下 id、`layout_width="match_parent"`and`layout_height="wrap_content"`和边距仍然存在。

我在这里有什么遗漏吗？

**可以在此处看到问题的屏幕截图：**

![在此处输入图像描述](../Images/4ba214822a0786fd63ed2477b69ac31f.png)

**编辑1：** @Grishu：正如我之前所说，即使布局非常简单，这些边距也会出现，例如这样

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" 
    android:layout_height="wrap_content"
    android:orientation="vertical">

    <TextView 
        android:id="@+id/some_text"
        android:layout_width="match_parent" 
        android:layout_height="wrap_content" />

</LinearLayout> 
```

我只是从内存中输入的，所以它可能包含语法错误。但你明白了。

**Edit2：**我刚刚检查了我所有的布局。有问题的边距是在其中一个父容器上设置的，因此它与列表项无关。很抱歉垃圾邮件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-11T13:59:13.950

我在 listview 项目布局中遇到了类似的问题，它在 eclipse 的图形布局中看起来很好，我通过设置解决了它：

```
android:layout_margin="0dp"
android:padding="0dp" 
```

在主要的相对布局中，希望这会有所帮助。

# java - 按名称调用方法

> ID：14496670
> 
> 赞同：2
> 
> 时间：2013-01-24T08:16:16.907
> 
> 标签：java, methods

> **可能重复：**
> [当将方法名称作为字符串给出时，如何调用 Java 方法？](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string)

我有 10 个方法名为：`m1`, `m2`, `m3`,...

像这样：

```
public void m1(){
..
} 
```

如何在“for”循环中使用字符串调用它们？

我想做这个：

```
for (int i=1;i<11;i++){
   invoke('m'+i);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:19:23.420

你需要使用`reflection`来实现这一点。

```
 Method method = getClass().getMethod(methodName);
    method.invoke(this); 
```

因此，您需要将方法名称存储在一个数组中，并使用此代码段来一一调用这些方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:20:05.307

你可以用[反射](http://docs.oracle.com/javase/tutorial/reflect/index.html)来做到这一点。

但是，我会对您的用例感兴趣。通常可以重构应用程序，因此反射的使用是多余的。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-24T08:18:43.360

`this`在对象上使用 java 反射。

# c++ - 开始使用 OpenNI 编写 Kinect 应用程序

> ID：14496671
> 
> 赞同：2
> 
> 时间：2013-01-24T08:16:16.670
> 
> 标签：c++, visual-studio-2012, kinect, openni

我即将开始我的最后一年项目，该项目需要我开发 Kinect Fusion 算法。有人告诉我用 C++ 编写代码并使用 OpenNI API。

问题：

*   我在网上阅读，但我仍然对如何开始感到困惑。我安装了 Microsoft Visual Studio 2012 Express 和 OpenNI，但我应该如何开始？（我被告知在开始项目工作之前先练习编码）
*   如果我想练习和了解代码的工作原理以及 Kinect 如何响应代码，我应该如何开始有什么建议吗？因为我现在真的迷路了，走到了死胡同，不知道接下来要做什么，网上有很多我不太了解的信息。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T16:15:59.543

首先，如果你打算将 OpenNI 与 Kinect 一起使用，我建议你不要使用 2.0 版本，该版本可在官网获得。原因很简单，目前还没有驱动支持微软Kinect（OpenNI背后的公司——PrimeSense——只支持他们自己的传感器的驱动，这与Kinect不同，社区还没有开始写Kinect 驱动程序）。

取而代之的是从[simple-openni 项目](http://code.google.com/p/simple-openni/downloads/list)的下载页面获取该包——它包含了一切可以帮助你的东西：来自 1.5.x 行的库。

*   OpenNI 是准系统框架——它只包含用于自然接口数据处理的架构。
*   NITE 是 PrimeSense 的专有（免费软件）库，它提供代码将原始深度图像处理成有意义的数据——手部跟踪、骨骼跟踪等。
*   SensorKinect 是社区维护的驱动程序，用于使 Kinect 与 OpenNI 交互。

请注意，这些驱动程序无法控制 Kinect 的倾斜电机和 LED 灯。您可能需要为此使用[libfreenect](http://openkinect.org/wiki/Main_Page)。

至于入门，OpenNI 和 NITE 包都包含用于简单演示该技术的源代码示例。从一个开始并对其进行修改以满足您的需求是一个好主意。这就是我为实现自己的项目（[使用 Kinect 控制 Google Chrome](http://www.youtube.com/watch?v=3B2DqfxtVWQ) ）所做的工作。

As for learning C++, there are tons of materials out there. I recommend the book "Thinking in C++" by Bruce Eckel, if you're a technical person.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T16:08:53.310

有多个为 OpenNI 编写的示例，可在 GitHub 存储库中找到：[https ://github.com/OpenNI/OpenNI](https://github.com/OpenNI/OpenNI)

最好的起点是查看 OpenNI.org 上的资源[页面](http://www.OpenNI.org)[，](http://www.openni.org/resources/)然后是[参考指南](http://www.openni.org/reference-guide/)。然后处理几个示例——运行它们，逐步检查它们并修改它们以了解它们是如何工作的。

# ruby-on-rails - 如何将从 CSV 文件解析的值写入 YAML 文件？

> ID：14496674
> 
> 赞同：1
> 
> 时间：2013-01-24T08:16:29.933
> 
> 标签：ruby-on-rails, ruby, yaml

我想将从 CSV 文件解析的值写入 YAML 文件：

```
home_phone = row['HomePhone']
 if home_phone.length == 10  
  puts "First Name: #{row['first_Name']} - Home Phone: #{home_phone} -  Zip Code: #{zip_code}"
  elsif home_phone.length == 11 && home_phone.start_with?('1')   
  home_phone.slice!(0)
      puts "First Name: #{row['first_Name']} - Home Phone: #{home_phone} -  Zip Code: #{zip_code}"   
  else  
      puts "First Name: #{row['first_Name']} - Home Phone: #{"0000000000"} -  Zip Code: #{zip_code}"      
  end 
```

上面的代码用于逐行打印详细信息。从代码中得到的输出是：

```
First Name: Douglas - Home Phone: 4252745000 -  Zip Code: 50309'

'First Name: Aya - Home Phone: 9995901339 -  Zip Code: 90210'

'First Name: Audrey - Home Phone: 0 -  Zip Code: 05667' 
```

如何将这些值写入 YAML 文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T15:44:30.380

如果要将 CSV 文件转换为 YAML...

我创建了一个名为“test.csv”的文件，如下所示：

```
名字，家庭电话，邮政编码
道格拉斯,4252745000,50309
绫,9995901339,90210
奥黛丽,0,05667

```

使用此代码：

```
require 'csv'
require 'yaml'

csv = CSV.read('test.csv')
File.write('test.yaml', csv.to_yaml)
pp YAML.load_file('test.yaml') 
```

生成：

```
---
- - 名
  - 家庭电话
  - 邮政编码
- - 道格拉斯
  - '4252745000'
  - '50309'
- - 绫
  - '9995901339'
  - '90210'
- - 奥黛丽
  - '0'
  - '05667'

```

`pp`我通过 YAML-land 显示 CSV 数据的正确往返得到此输出：

```
[[“名字”，“家庭电话”，“邮政编码”]，
 [“道格拉斯”，“4252745000”，“50309”]，
 [“绫”，“9995901339”，“90210”]，
 [“奥黛丽”，“0”，“05667”]]

```

这只是一个简单的解决方案，它将整个 CSV 文件加载到内存中。如果您处理的文件大于系统上的可用 RAM，这不是一个可扩展的解决方案。CSV 支持`foreach`逐行读取文件，但 YAML 可能会因为生成文件的方式而难以逐行写入文件；它需要一个完整的哈希或数组，但您将向它传递子数组，这将导致 YAML 文件看起来像：

```
---
- - 名
  - 家庭电话
  - 邮政编码
---
- - 道格拉斯
  - '4252745000'
  - '50309'
---
- - 绫
  - '9995901339'
  - '90210'
---
- - 奥黛丽
  - '0'
  - '05667'

```

加载它`YAML.load_file`会导致：

```
[
    [0] [
        [0] "名字",
        [1]“家庭电话”，
        [2]“邮政编码”
    ]
]

```

换句话说，只会返回第一行。

解决方法是使用`YAML.load_documents(File.open('test.yaml', 'r'))`instead of `load_file`，它将部件重新组合成一个数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:29:17.280

如果您的行数据是哈希（看起来是），请尝试使用[to_yaml](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/syck/rdoc/Hash.html#method-i-to_yaml) ，如下所示：

```
File.open(<path to your output file here>, "w") { |f| f.write(row.to_yaml) } 
```

然后你可以像这样阅读它：

```
YAML.load_file(<path to your output file here>) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-24T08:23:11.947

```
require 'yaml'
File.open('somefile.yaml','w') do |f|
  f.write(row['first_Name'])
  f.write(row['home_phone'])
  f.write(row['zip_code'])
end 
```

# c# - UserControl 减慢了 Aspx 页面

> ID：14496675
> 
> 赞同：1
> 
> 时间：2013-01-24T08:16:35.083
> 
> 标签：c#, asp.net, user-controls, code-behind, webusercontrol

我有一个包含 GridView 的用户控件。当我在 aspx 页面中使用此用户控件时，它工作正常。但是当我在 GridView 中选择一行时，它的工作速度很慢。

您有任何解决方案可以更快地获得它吗？

**1.用户控制**

**1.1.Html** 父网格：

```
 <asp:GridView ID="gvChannelUC" name="gvChannelUCName" /> 
```

子网格：

```
<asp:GridView ID="gvContentServerUC" 
```

**1.2.代码隐藏：**

页面加载（）函数

```
 {
//Fill data for ParentGrid
    DataTable dt = new DataTable();
                DataRow dr = null;
                dt.Columns.Add(new DataColumn("fullIndex", typeof(string)));
                dt.Columns.Add(new DataColumn("IPAddress", typeof(string)));
                dt.Columns.Add(new DataColumn("SubNetMask", typeof(string)));
                dt.Columns.Add(new DataColumn("Port", typeof(string)));
                dt.Columns.Add(new DataColumn("MaxConnect", typeof(string)));
                if (valuesUC.interfaces!=null)
                foreach (IPSInterface IPSInteface in valuesUC.interfaces)
                {
                    foreach (IPSChannel ipsChannel in IPSInteface.channels)
                    {
                        dr = dt.NewRow();
                        dr["fullIndex"] = ipsChannel.fullIndex;
                        dr["IPAddress"] = IPSInteface.LocalInterfaceIP;
                        dr["SubNetMask"] = IPSInteface.LocalInterfaceNetmask;
                        dr["Port"] = ipsChannel.localInterfacePort;
                        dr["MaxConnect"] = ipsChannel.maxConnections;
                        dt.Rows.Add(dr);
                    }
                }
                Session["dt"] = dt;
                gvChannelUC.DataSource = dt;
                gvChannelUC.DataBind();
            }
    } 
```

//为ChildGrid填充数据

```
protected void gvChannelSelected()
        {
            ip = IP;
            port = Port;
            if(  (((SetupIPServicesValues)Session["values"]).interfaces)!=null)
            foreach (IPSInterface IPSInteface in ((SetupIPServicesValues)Session["values"]).interfaces)
            {
                foreach (IPSChannel ipsChannel in IPSInteface.channels)
                {
                    string fullIndexFor = null;
                    string fullIndex = null;
                    fullIndex = gvChannelUC.SelectedRow.Cells[1].Text.ToString().Trim();//=======1 mean fullIndex
                    fullIndexFor = ipsChannel.fullIndex.Trim();
                    if (fullIndex.Equals(fullIndexFor))//Compare Channel fullIndex with array
                    {
                        DataTable dtCS = null;
                        DataRow drCS = null;
                        dtCS = new DataTable();
                        dtCS.Columns.Add(new DataColumn("fullIndex", typeof(string)));
                        dtCS.Columns.Add(new DataColumn("IPAddress", typeof(string)));
                        dtCS.Columns.Add(new DataColumn("Port", typeof(string)));
                        dtCS.Columns.Add(new DataColumn("Notes", typeof(string)));
                        foreach (IPSServer ipServer in ipsChannel.servers)//Get Content Server from array to fill grid
                        {
                            drCS = dtCS.NewRow();
                            drCS["fullIndex"] = ipServer.fullIndex;
                            drCS["IPAddress"] = ipServer.address;
                            drCS["Port"] = ipServer.port;
                            drCS["Notes"] = ipServer.notes;
                            dtCS.Rows.Add(drCS);
                        }
                        Session["dtContentServer"] = dtCS;
                        gvContentServerUC.DataSource = dtCS;
                        gvContentServerUC.DataBind();

                        //Other controls                 
                        if (txtServerMonitoring.Items.Count == 0)
                            setDrdSource(txtServerMonitoring, ipsChannel.IPSMonitoringPolicyListString);
                        if (txtServerMonitoring.Items.Count != 0)
                        {
                            string valueMonitorAPI = ipsChannel.monitoringPolicy.Trim();
                            if (valueMonitorAPI == "None")
                                txtServerMonitoring.Text = "None";
                            else if (valueMonitorAPI == "Echo")
                                txtServerMonitoring.Text = "Echo";
                            else if (valueMonitorAPI == "Connect")
                                txtServerMonitoring.Text = "Connect";
                            else if (valueMonitorAPI == "0")
                                txtServerMonitoring.Text = "0";
                        }

                        if (txtLoadBalancingPolicy.Items.Count == 0)
                            setDrdSource(txtLoadBalancingPolicy, ipsChannel.IPSLoadBalancePolicyListString);
                        if (txtLoadBalancingPolicy.Items.Count != 0)
                            setLoadBalancePolicyFtp(ipsChannel.loadBalancePolicy);

                        if (txtConnectivity.Items.Count == 0)
                            setDrdSource(txtConnectivity, ipsChannel.ConnectivityListString);

                        if (txtConnectivity.Items.Count != 0)
                        {
                            string valueAPI = ipsChannel.Connectivity.Trim();
                            if (valueAPI == "managed")
                                txtConnectivity.Text = "managed";
                            else if (valueAPI == "dsr")
                                //txtConnectivity.Text = "Direct Server Return";
                                txtConnectivity.Text = "dsr";
                            else if (valueAPI == "transparency")
                                txtConnectivity.Text = "transparency";
                            else if (valueAPI == "gateway")
                                txtConnectivity.Text = "gateway";
                        }

                        if (txtCachingStrategy.Items.Count == 0)
                            setDrdSource(txtCachingStrategy, ipsChannel.IPSCachePortListString);
                        if (txtCachingStrategy.Items.Count != 0)
                            txtCachingStrategy.SelectedIndex = ipsChannel.cachePort;

                        if (txtSSL.Items.Count == 0)
                            setDrdSource(txtSSL, ipsChannel.IPSSSLCertificateListString);
                        if (txtSSL.Items.Count != 0)
                            setCertificateName(ipsChannel.certificateName);

                        if (txtContentSSL.Items.Count == 0)
                            setDrdSource(txtContentSSL, ipsChannel.IPSSSLClientCertificateListString);
                        if (txtContentSSL.Items.Count != 0)
                            setClientCertificateName(ipsChannel.ClientCertificateName);
                        //=============6 drd end
                        chkEnableConnectionPolling.Checked = ipsChannel.CSGPoolEnabled;
                        if (ipsChannel.CSGPoolSize != null)
                            txtConnectionPoolSize.Text = ipsChannel.CSGPoolSize;

                        if (txtAvailableFP.Items.Count == 0)
                            if (ipsChannel.FlightPathSelectionListString != null)
                                setDrdSource(txtAvailableFP, ipsChannel.FlightPathSelectionListString);
                        lbl.Text = ipsChannel.SelectedFPRule;
                        return;//return void after fill data to Content Server
                    }
                }
            }
        } 
```

**2.aspx主页**

2.1.Html:Place Holder 用于添加动态 UserControl

```
<asp:PlaceHolder ID="phDevices" runat="server" >
                                            </asp:PlaceHolder> 
```

代码隐藏：

页面加载（）函数：

```
//Add more dynamic UserControl to PlaceHolder
    foreach (DataRow row in dtDevicesListByRole.Rows)
                {
                wuc[i] = (Test2.SetupGroup.Ipservice.IpInterfaceUC)LoadControl("IpInterfaceUC.ascx");
    } 
```

如果您需要详细信息，我会添加更多。谢谢

# asp.net - 如何将用户身份从一个 IIS 中托管的 Web 应用程序传递到另一个 IIS 中托管的 Web 服务？

> ID：14496677
> 
> 赞同：3
> 
> 时间：2013-01-24T08:16:40.010
> 
> 标签：asp.net, wcf, iis, windows-authentication, impersonation

我有一个托管在机器上的 Web 应用程序（在 ASP.net 4.0 中开发`IIS 6.0`）`Windows Server 2003 R2`。`Integrated Windows Authentication`已为此 Web 应用程序打开。

我在`IIS 7.5`机器上托管了一个 Web 服务（使用 WCF 开发） `Windows Server 2008 R2`。'`Windows Authentication`也为此 Web 应用程序启用。

*   我使用我的 Windows 域帐户登录到我的本地计算机。当我浏览 Web 应用程序时，它会询问我的域用户名和密码。在网络应用程序中，我正确地获得了我的身份。
*   在我的机器上（使用其他一些 Winform 应用程序），如果我调用相同的 Web 应用程序（Web 服务的），服务代码将以我的 Windows 身份执行。

**因此`Integrated Windows Authentication`，对于托管在不同机器上的不同 IIS 中的 Web 应用程序，它们都可以独立工作。**

当从我的本地计算机浏览 Web 应用程序并且网页在内部调用该服务时，就会出现问题。在这种情况下，“服务没有在我的 Windows 身份下运行”正如预期的那样。它可以在 asp.net Web 应用程序或 Web 服务的 Web 应用程序的应用程序池的标识下运行。

**我不希望我的 Web 服务负责对用户进行身份验证。它会使用简单的`basicHttpBinding`. 它只会读取使用`CurrentPrincipal`或`HttpContext`等的用户名。验证用户的身份只能由 IIS 完成。**

有人可以帮我将我的 Windows 身份从一个 IIS 传递到另一个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T05:39:49.290

您需要设置 kerberos 委托，因为默认情况下不会将身份传递给另一台机器。

[http://blogs.technet.com/b/askds/archive/2008/11/25/fun-with-the-kerberos-delegation-web-site.aspx](http://blogs.technet.com/b/askds/archive/2008/11/25/fun-with-the-kerberos-delegation-web-site.aspx)

# java - Switch with string in Java1.6

> ID：14496678
> 
> 赞同：3
> 
> 时间：2013-01-24T08:16:52.100
> 
> 标签：java, switch-statement, java-6

> **Possible Duplicate:**
> [Switch Statement with Strings in Java](https://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java)

Im using the following code and I wonder if there is a way to do it with switch , the reason that I don't use it as default since type name is type string.(I know that this option is supported in 1.7 version but I need to use 1.6) There is a way to overcome this problem ?

```
public static SwitchInputType<?> switchInput(String typeName) {

        if (typeName.equals("Binary")) {
            return new SwitchInputType<Byte>(new Byte("23ABFF"));
        }
        else if (typeName.equals("Decimal")) {
            return new SwitchInputType<BigDecimal>(new BigDecimal("A"));
        }
        else if (typeName.equals("Boolean")) {
            return new SwitchInputType<Boolean>(new Boolean("true")); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:36:57.677

As explained in other answers, you can't use switch statement with strings if you're working with Java 1.6.

The best thing to do is to use an enumerator instead of string values:

```
public static SwitchInputType<?> switchInput(InputType type) {
    switch(type){
        BINARY:
            return new SwitchInputType<Byte>(new Byte("23ABFF"));
        DECIMAL:
            return new SwitchInputType<BigDecimal>(new BigDecimal("A"));
        BOOLEAN:
            return new SwitchInputType<Boolean>(new Boolean("true"));
    }
} 
```

where:

```
public enum InputType{
    BINARY, DECIMAL, BOOLEAN // etc.
} 
```

**UPDATE:**

In your `Field` class add an `InputType fieldType` property. Then inside the loop:

```
MemberTypeRouting.switchInput(field.getFieldType()); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:20:56.667

Switches with Strings are only supported since Java 7\. Sadly it was not supported in older versions, so you cannot use it wit Java 6, and you'll have to stay with the if/else statements you are already using.

See also this question, asked a few years back: [Why can't I switch on a String?](https://stackoverflow.com/questions/338206/switch-statement-with-strings-in-java)

# ajax - $(this) 对象在 AJAX 回调中不可用

> ID：14496680
> 
> 赞同：1
> 
> 时间：2013-01-24T08:17:00.460
> 
> 标签：ajax, jquery, closures, jquery-callback

> **可能重复：**
> [AJAX 成功中的 $(this) 不起作用](https://stackoverflow.com/questions/6394812/this-inside-of-ajax-success-not-working)

我正在使用一个按钮单击，其中有一个 ajax 回调。如果它返回成功，我想向我的按钮添加一个类，`$(this).addClass('abc');`但没有用。 `$(this)`不在 AJAX 中工作。这样做的替代方法是什么，因为有几个相同的块。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T08:20:29.443

一旦你在 AJAX 回调内部，`this`就不再指向你的按钮（谷歌“JavaScript 闭包和这个”以获得更多信息）。

您需要将对当前的引用保存`this`到一个变量中，然后使用它来添加类。像这样的东西：

```
$( '#button' ).click ( function () {
  var $this = $( this );
  $.get (
    'url',
    function ( data ) {
      $this.addClass ( 'abc' );
    }
  );
} ); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-24T08:20:31.677

你是对的。this 在 ajax 调用中不可访问，因为它是对 ajax 对象的引用。但是，您可以将其保存为另一个变量并在回调中使用它。

工作演示：http: [//jsfiddle.net/gZ8qB/](http://jsfiddle.net/gZ8qB/)

```
$("#mybutton").click(function () {
    var $this = $(this);
    $.ajax({
        url: "http://fiddle.jshell.net/favicon.png",
        beforeSend: function ( xhr ) {
            xhr.overrideMimeType("text/plain; charset=x-user-defined");
        }
    }).done(function ( data ) {
        $this.addClass("done");
    });
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T08:21:15.450

保存`$(this)`到变量..并使用它

试试这个

```
var $this=$(this); 
```

进行ajax调用..并使用

```
 $this.addClass("done"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T08:20:51.967

该`$(this)`对象未在 AJAX 调用的回调函数中定义。如果需要引用触发调用的原始元素，可以将其分配给事件处理函数中的变量，使其在回调函数范围内也可用。

例如（使用`$.get`简写）：

```
$('#some-button').on('click', function() {
    var some_button = $(this); // Assign the variable in the event handler
    $.get('some_url',{some_ariable:'some_value'}, function(data) {
         some_button.addClass('some_class'); // some_button is now also in the scope of the AJAX callback function
    });
}); 
```

这个概念被称为`closures`，其中`"functions have access to variables that were available in the scope where the function was created"`。有关此主题的更多信息，请参见[jQuery's - Javascript 101](http://learn.jquery.com/javascript-101/closures/)。

# php - 仅在特定 id 上循环

> ID：14496681
> 
> 赞同：0
> 
> 时间：2013-01-24T08:17:13.113
> 
> 标签：php, loops, while-loop

```
<?php

class Friends {
  public function __construct() { 
    global $DB, $name, $f_name;
    $name = $_SESSION['name'];
    if (isset($_POST['submitted'])) {
      $f_name = mysql_real_escape_string($_POST['f_name']);
    }
  }

  public function AddList() {
    global $DB,$name;
    echo "<center>";
    $result = $DB->query(
        "SELECT * FROM friends WHERE user_name!='{$name}' AND friend_name!='{$name}' "
    );

    while($row = mysql_fetch_array($result)) {
      echo "<form method='post'>";
      echo '<input type="hidden" value=' . $row['user_name'] . ' name="f_name"</th> ';
      echo '<tr>';

      echo '<th><b><font color="#663300">' . $row['user_name'] . '</font></b></th>';

      $this->auth();
      echo "</form>";
      echo "</tr>";
      echo "</tr>";
    }

    echo "</table>";
    echo "</center>";
  }

  public function auth() {
    global $name,$f_name,$DB;
    $authprove = $DB->query("SELECT * FROM approval WHERE sender_id='{$name}'");

    if (mysql_num_rows($authprove) > 0) {
      echo '<th><b>Approving...</th>';
    } else {
      echo '<th><b><input type="submit" name="submitted" value="Add"></th>';
    }
  }
}

$F= new Friends();

?> 
```

一点解释：

是否可以只制作一个特定的 id 来输出 Approving 和另一个输出 Add。

像这样

当表（批准）：

---- 发件人 ID || 接收标识

---- 管理员 || 来宾

输出 Friends.php ：

- - 添加朋友 ：

---- 访客 -> 等待批准

---- Guest2 -> 添加为好友

---- Guest3 -> 添加为好友

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:21:00.583

您执行任务的效率非常低：如果您有 N 个用户，您将运行 N+1 个查询。您可以使用 JOIN 通过单个查询来完成。在这种情况下，您将有一个循环，并且执行您需要的操作没有问题。

就像是：

```
$query = "
    SELECT 
      f.id, 
      f.user_name, 
      f.fullname, 
      a.status 
    FROM 
      friends f
      LEFT OUTER JOIN approval a ON (f.id=a.sender_id) 
    WHERE 
      user_name!='{$name}' 
      AND friend_name!='{$name}'
";

$result = $DB->query( $query );
while( $row = mysql_fetch_array( $result ) ) {
  echo $row['f.fullname'];
  if ( $row['a.status'] == 'approved' ) echo "Add as Friend";
  else echo "Add as Friend";
} 
```

# android - Appcelerator 没有日期框日历的日期选择器

> ID：14496682
> 
> 赞同：0
> 
> 时间：2013-01-24T08:17:15.650
> 
> 标签：android, datepicker, appcelerator-mobile

应用程序类型：移动，Titanium SDK：3.0，平台和版本：Android 4.1，设备：Samsung S3 使用日期选择器时，我得到一个包含三列（日、月和年）的选择器，但我也得到了一个类似于框的日历右侧包含天数。如何删除日历框并保留选择器列？我正在针对 android 3.2 SDK 进行编译

```
<android xmlns:android="http://schemas.android.com/apk/res/android">
    <tool-api-level>13</tool-api-level>
    <manifest>
        <uses-sdk android:targetSdkVersion="13" android:minSdkVersion="13"/>
        <!--
        <uses-sdk android:minSdkVersion="10"/>
        -->
    </manifest>
</android> 
```

我的代码：

```
var minDate = new Date();
        var curMonth = 0;
        for (var i = 0; i < 12; i++) {
            curMonth = minDate.getMonth();
            curMonth--;
            minDate.setMonth(curMonth);
        }
        var now = new Date();
        this.visitDatePicker = Ti.UI.createPicker({
            type : Ti.UI.PICKER_TYPE_DATE,
            maxDate : now,
            value : now,
            minDate : minDate,
            selectionIndicator : true
        }); 
```

我添加了我的意思的屏幕截图，也许我会得到一些回复:) 我的问题是出现在日期选择器右侧的框，我该如何摆脱它？

![钛金属日期选择器](../Images/9e8ae17c13a1cc4a8b99b1de9fa30e08.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T10:29:51.707

好的，这是一个错误，请参阅[Android：将 calendarViewShown 添加到选择器 TIMOB-12539](https://jira.appcelerator.org/browse/TIMOB-12539) jira 问题。我花在调试和优化钛上的时间比实际编写代码和业务逻辑要多。我的下一个项目肯定不会使用 Titanium....不可接受

# android - 如何在android中向多个收件人发送电子邮件？

> ID：14496687
> 
> 赞同：1
> 
> 时间：2013-01-24T08:17:35.423
> 
> 标签：android, email

我是android的新手。请帮我。我无法向多个收件人发送电子邮件。这是我的代码。

```
public class SendEmailActivity extends Activity{

EditText subject_ed,message_ed;
TextView subject_tv,message_tv;
Button send_btn;

 ArrayList<String> emailList;
 ArrayList<Integer> idList;
 int eventId;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.contacts_email_sms_layout);
    setupViews();
    Intent intent = getIntent();
    Bundle b = intent.getExtras();
    eventId =  b.getInt("EventId");//event id
    idList = b.getIntegerArrayList("IdList");//list of Ids
    emailList = b.getStringArrayList("EmailList");//list of email ids
    buttonListeners();
}

public void setupViews()
{
    subject_ed = (EditText)findViewById(R.id.ed_subject_email);
    message_ed = (EditText)findViewById(R.id.ed_msg_body);
    subject_tv = (TextView)findViewById(R.id.tv_subject_email);
    message_tv = (TextView)findViewById(R.id.tv_msg_body);
    send_btn = (Button)findViewById(R.id.btn_send_sms_email);
}               

public void buttonListeners()
{
    send_btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            Toast.makeText(getApplicationContext(), "Email sent",Toast.LENGTH_LONG).show();
            // String to = textTo.getText().toString();
              String subject = subject_ed.getText().toString();
              String message = message_ed.getText().toString();
            Object[] to =  emailList.toArray();
//            for(int i = 0; i<=emailList.size(); i++)
////                  {
////                      
//                  String  to=   emailList.get(0);
////                     
////                  }

              Intent email = new Intent(Intent.ACTION_SEND);
              for(int i = 0; i < to.length; i++)
                {
                    Log.i("String is", (String)to[i]);
                    //String[] str = (String[])to[i];
                     email.putExtra(Intent.EXTRA_EMAIL,",'" +(String)to[i] + "'");
                }

              email.putExtra(Intent.EXTRA_SUBJECT, subject);
              email.putExtra(Intent.EXTRA_TEXT, message);

              //need this to prompts email client only
              email.setType("message/rfc822");

              startActivity(Intent.createChooser(email, "Choose an Email client :"));
             // finish();
        }
    });
}

} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T12:10:22.400

首先，您从 List 到 String[] 的转换是错误的，您需要执行以下操作..

```
List<String> list = new ArrayList<String>();
String[] arrayOfStrings = list.toArray(new String[list.size()]); 
```

接下来是你需要提到 android.Content.Intent 如下..

所以最后你需要改变如下

```
ArrayList<String> emailList;
emailList = b.getStringArrayList("EmailList");
String[] emailArray;

Intent email = new Intent(android.content.Intent.ACTION_SEND);

for(int i = 0; i < to.length; i++){
    Log.i("String is", (String)to[i]);
    email.putExtra(android.content.Intent.EXTRA_EMAIL, 
                   emailList.toArray(new String[emailList.size()]));
}
email.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);
email.putExtra(android.content.Intent.EXTRA_TEXT, message);    
email.setType("message/rfc822"); //or email.setType("text/plain");

startActivity(Intent.createChooser(email, "Choose an Email client :")); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:32:38.147

不使用

```
public Intent putExtra (String name, String value) 
```

设置电子邮件收件人时，有另一种方法可以接受必须用于电子邮件的字符串数组

```
public Intent putExtra (String name, String[] value) 
```

所以你的块

```
for(int i = 0; i < to.length; i++)
{
    Log.i("String is", (String)to[i]);
    //String[] str = (String[])to[i];
    email.putExtra(Intent.EXTRA_EMAIL,",'" +(String)to[i] + "'");
} 
```

只会变成

```
email.putExtra(Intent.EXTRA_EMAIL, to); 
```

[有关使用Intent](http://developer.android.com/reference/android/content/Intent.html)的更多详细信息，请参阅 Android 开发人员参考资料，特别是[EXTRA_EMAIL](http://developer.android.com/reference/android/content/Intent.html#EXTRA_EMAIL)参数，该参数需要一个字符串数组，而不是单个字符串。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:48:12.020

如果我是你，我会把它放在不同的线程上，这样你的 Activity 线程（或 UI 线程）上就没有任何进程。这是一个很好的关于如何做到这一点的[安卓教程。](http://android-developers.blogspot.com/2009/05/painless-threading.html)在 Android 中理解线程非常重要。如果你有时间我也会看这个[线程教程](http://www.youtube.com/watch?v=-P1eiRy-klk)。

```
button.Onclick(){
  // get all the messages information
  // the button to send the emails has been collected
  new SendEmailTask().execute(messages)
} 
```

然后在您的异步任务中，您可以发送所有消息

```
SendEmailTask extends AsyncTask<Message,Void,Void>(){

  function doInBackground(Message... msgs){
    for(Message m : msgs){
     // process each of your messages
     // send the messages out
    }
  }
  function onPostExecute(){
    // tell the UI thread that you are finished
  }

} 
```

祝你好运！

# linux - 虚拟机还是主机？

> ID：14496691
> 
> 赞同：1
> 
> 时间：2013-01-24T08:17:42.037
> 
> 标签：linux, virtual-machine

有没有办法找出我正在登录的（linux）系统是主机还是虚拟机？我可以通过 shell 或任何其他实用程序（VM）查看的任何症状？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:25:53.203

您可以检查已加载的驱动程序，以防 VMware 等完整的虚拟化环境。使用 lspci,lsmod, ... 等，或者您可以使用 dmesg 来获取此类信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:26:58.053

如果脚本可用，则有一些脚本会尝试检测虚拟化的存在。例如[virt-what](http://people.redhat.com/~rjones/virt-what/)，但我想您的问题没有通用解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T09:43:01.583

[你可以在这里](http://search.cpan.org/dist/Sys-Detect-Virtualization/script/virtdetect)使用 perl 模块 Sys::Detect::Virtualization

```
use Sys::Detect::Virtualization;

my $detector = eval { Sys::Detect::Virtualization->new() };
if( $@ ) {
    print "Detector may not be supported for your platform.  Error was: $@\n";
}

my @found = $detector->detect();
if( @found ) {
    print "Possible virtualized system.  May be running under:\n";
    print "\t$_\n" for @found;
} 
```

# caching - 缓存控制的默认值是多少？

> ID：14496694
> 
> 赞同：71
> 
> 时间：2013-01-24T08:17:48.007
> 
> 标签：caching, browser, browser-cache

我的问题是：有时浏览器会过度缓存一些资源，即使我已经修改了它们。但是F5之后，一切都很好。

我整个下午都在研究这个案例。现在我完全理解了“Last-Modified”或“Cache-Control”的意义。而且我知道如何解决我的**问题**（只是 .js?version 或显式 max-age=xxxx）。但**问题**仍未解决：浏览器如何处理**没有**“Cache-Control”的响应头，如下所示：

```
Content-Length: 49675
Content-Type: text/html
Last-Modified: Thu, 27 Dec 2012 03:03:50 GMT
Accept-Ranges: bytes
Etag: "0af7fcbdee3cd1:972"
Server: Microsoft-IIS/6.0
X-Powered-By: ASP.NET
Date: Thu, 24 Jan 2013 07:46:16 GMT 
```

当“进入酒吧”时，他们清楚地缓存了它们

![在此处输入图像描述](../Images/0c620e659ff191967c7bef57cfeec769.png)

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2016-06-14T15:55:43.100

[RFC 7234](https://www.rfc-editor.org/rfc/rfc7234#page-5)详细说明了浏览器和代理默认应该做什么：

> 尽管缓存是 HTTP 的一个完全可选的特性，但可以假设重用缓存的响应是可取的，并且当没有要求或本地配置阻止它时，这种重用是默认行为。因此，HTTP 缓存要求侧重于防止缓存存储不可重用的响应或不恰当地重用存储的响应，而不是强制缓存始终存储和重用特定的响应。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2016-08-26T07:22:42.050

缓存通常在浏览器中默认启用，因此`cache-control`可用于自定义此行为或禁用它。

> 尽管缓存是 HTTP 的一个完全可选的特性，但可以假设重用缓存的响应是可取的，并且当没有要求或本地配置阻止它时，这种重用是默认行为。因此，HTTP 缓存要求侧重于防止缓存存储不可重用的响应或不恰当地重用存储的响应，而不是强制缓存始终存储和重用特定的响应。[https://www.rfc-editor.org/rfc/rfc7234#section-2]

浏览器认为缓存响应新鲜的时间通常与上次修改的时间有关：

> 由于原始服务器并不总是提供明确的过期时间，缓存可以在未指定明确时间时分配启发式过期时间，采用使用其他头字段值（例如 Last-Modified 时间）的算法......如果响应具有 Last-Modified 头字段（[RFC7232] 的第 2.2 节），鼓励缓存使用启发式过期值，该值不超过自该时间以来间隔的一部分。该分数的典型设置可能是 10%。[https://www.rfc-editor.org/rfc/rfc7234#section-4.2.2]

[这篇文章](https://stackoverflow.com/a/31852117/5189680)详细介绍了不同浏览器如何计算该值。

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2017-01-18T08:32:30.420

新鲜度生命周期是根据几个标头计算的。如果指定了“Cache-control: max-age=N”标头，则新鲜生命周期等于 N。如果此标头不存在（通常是这种情况），则检查是否存在 Expires 标头。如果存在 Expires 标头，则其值减去 Date 标头的值确定新鲜度生命周期。最后，如果两个标头都不存在，则查找 Last-Modified 标头。如果此标头存在，则缓存的新鲜度生命周期等于 Date 标头的值减去 Last-modified 标头的值除以 10。

来源：[https ://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#Freshness](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#Freshness)

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2013-01-24T09:19:46.790

默认缓存控制标头是： **Private**

> 缓存机制可以将此页面缓存在私有缓存中，然后仅将其重新发送给单个客户端。**这是默认值。**大多数代理服务器不会使用此设置缓存页面。

请参阅[http://msdn.microsoft.com/en-us/library/ms524721%28v=vs.90%29.aspx](http://msdn.microsoft.com/en-us/library/ms524721%28v=vs.90%29.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-25T21:21:13.203

如果没有缓存控制标头，浏览器每次加载新（？）页面时都会请求资源。按 F5，您会使该页面中的任何缓存项无效（甚至在逻辑上删除），因为没有可用的本地版本，从而强制完全重新加载 - 我不确定浏览器是否在再次请求它们之前从缓存中删除了这些资源。

有趣的是，某些浏览器中有一些“附加”设置会导致一些优化，例如每次页面加载仅请求一次资源。如果您有一个图像会随着每个请求而更改，例如计数器，即使您多次使用它，您也只会看到该图像的一个版本。

下一个是浏览器通过应用某种本地“首选”缓存来重用未明确设置为 nocache 的图像。如果您希望每次需要将其设置为重新验证并将过期设置为 -1 或类似的东西时都有一个请求。

因此，根据指定的资源，通常不会触发一些默认值，这些默认值与您在阅读规范时所期望的不同。

关于源是本地、驱动器还是真正的远程 Internet 服务器，也可能存在不同的行为。据说并不是所有的浏览器都有不同的行为，我很有限。

有帮助的是查看 www.google.com 并查找其页面请求的跟踪像素（从 metrics.gstats.com 请求的两个 1x1 像素，子域上有随机部分）。

如果您使用 firebug 检查标头，您会看到它们以任何可能的方式指定 nocache 指令。标题如下所示：

```
Alternate-Protocol  443:quic
Cache-Control   no-cache, must-revalidate
Content-Length  35
Content-Type    image/gif
Date    Mon, 25 Nov 2013 14:33:30 GMT
Expires Fri, 01 Jan 1990 00:00:00 GMT
Last-Modified   Tue, 14 Aug 2012 10:47:46 GMT
Pragma  no-cache
Server  sffe
X-Content-Type-Options  nosniff
X-Firefox-Spdy  3
X-XSS-Protection    1; mode=block 
```

尝试将此作为设置并检查这是否解决了浏览器未获取您更改的资源的问题。must-revalidate 指令甚至会导致代理缓存每次都请求资源并检查 304 Not Modified 回复。

我目前遇到类似的事情。我有一个设置 etag 的 localhost 连接，所有发生的事情是缓存从不询问。我没有设置缓存信息等。单独指定 etag 接缝会导致 FireFox 不再请求资源。所以我遇到了与你的问题类似的事情。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-06-04T07:35:01.000

在您的情况下，您有`Etag: "0af7fcbdee3cd1:972"`响应标头，因此它也被缓存。

# javascript - 如何在选择框选择项的基础上滚动div垂直滚动条？

> ID：14496696
> 
> 赞同：0
> 
> 时间：2013-01-24T08:17:56.860
> 
> 标签：javascript, jquery, html, css

根据要求，我需要选择框中的水平和垂直滚动条。经过研究，我发现选择不支持水平滚动条。所以我将 SELECT 包装在 DIV 中。

```
<style type="text/css">
 .scrollable{
   overflow: auto;
   width: 70px; /* adjust this width depending to amount of text to display */
   height: 80px; /* adjust height depending on number of options to display */
   border: 1px silver solid;
 }
 .scrollable select{
   border: none;
 }
</style>

<div class="scrollable" id="scrolldiv">
<select size="6" multiple="multiple" id="selectbox">
    <option value="1" selected>option 1 The Long Option</option>
    <option value="2">option 2</option>
    <option value="3">option 3</option>
    <option value="4">option 4</option>
    <option value="5">option 5 Another Longer than the Long Option ;)</option>
    <option value="6">option 6</option>
</select>
</div> 
```

when the select box item grow,and you want to select item from bottom of select,div vertical scroll bar don't move the select item.

请帮助我，如何在选择框中选择项目的情况下移动 div 的垂直滚动条。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T09:54:22.520

您必须使用`CSS`来设置选项项的字体大小，然后将`jQuery`'`change()`方法与`scrollTop()`. 我相信这是你需要的：

更新样式

```
.scrollable select {
    font-size: 14px;
    border: none;
} 
```

添加以下内容`jQuery`

```
$("select").change(function () {
  $("select option:selected").each(function () {
    $("#scrolldiv").scrollTop($(this)[0].index*14);
  });
}); 
```

链接在`jsFiddle`这里：http: [//jsfiddle.net/jKZ5s/1/](http://jsfiddle.net/jKZ5s/1/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T10:22:01.180

这段代码对我有用。

```
jQuery(document).ready(function($)
    {

    $('#selectbox').change(function()
    {
     var divscrollvalue = ( parseInt(this.selectedIndex))*17;
     $('#scrolldiv').scrollTop(divscrollvalue );

    });

    }); 
```

# actionscript-3 - 滚动条在 flex 中的自定义布局下不起作用

> ID：14496700
> 
> 赞同：0
> 
> 时间：2013-01-24T08:18:07.140
> 
> 标签：actionscript-3, apache-flex, flex4.6

我创建了一个自定义布局并应用如下代码：

```
 <mx:Accordion x="10" y="10" width="292" height="417">
      <s:NavigatorContent width="100%" height="100%" label="Electronics Symbols">
        <s:Scroller x="0" y="0" width="200" height="300">
            <s:Group width="100%" height="100%">
                <s:layout>
                    <local:gridLayout/>
                </s:layout>

                <inductors:Inductor mouseDown="mouseDown(event)"/>
                <inductors:IronCoreInductor mouseDown="mouseDown(event)"/>
                <inductors:LongInductor mouseDown="mouseDown(event)"/>
                <inductors:VariableInductor mouseDown="mouseDown(event)"/>

                ` 
```

这里 gridLayout 是我的自定义布局。当我使用 flex 布局滚动器工作但在这个布局上它不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T06:31:10.110

只需将您在 NavigatorContent 下使用的任何组件包装起来。

# c - 链接使用不同预处理器标志或 C 标准构建的库

> ID：14496704
> 
> 赞同：1
> 
> 时间：2013-01-24T08:18:22.483
> 
> 标签：c, gcc, linker, shared-libraries

场景 1：我想将一个新库 (libA) 链接到我的程序中，libA 是使用带有 -std=gnu99 标志的 gcc 构建的，而我的程序的当前库是在没有该选项的情况下构建的（假设 gcc 使用 -std= gnu89 默认）。

场景 2：libB 是使用一些预处理器标志构建的，如“-D_XOPEN_SOURCE -D_XOPEN_SOURCE_EXTENDED”以启用 XPG4 功能，例如 struct msghdr 的 msg_control 成员。虽然 libC 不是在没有这些预处理器标志的情况下构建的，但它与 libB 相关联。

链接使用不同预处理器标志或 C 标准构建的库是否错误？我关心的主要是结构定义不匹配。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:40:35.330

我遇到的结构定义不匹配的几次是在组合 C 和 C++ 代码时，在这些情况下，有一个明确的警告，表明正在发生可怕的事情。就像是

```
/usr/lib/gcc/i586-suse-linux/4.3/../../../../i586-suse-linux/bin/ld: Warning: size of symbol `tree' changed from 324 in /tmp/ccvx8fpJ.o to 328 in gpu.o 
```

[看到那个问题。](https://stackoverflow.com/questions/13782480/why-do-gcc-and-nvcc-g-see-two-different-structure-sizes)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T09:09:01.810

场景 1 对您来说是完全安全的。`std=`GCC 中的选项检查代码与标准的兼容性，但与 ABI 无关，因此您可以随意将预编译代码与不同的 std 选项结合使用。

场景 2 可能不安全。我在这里只举一个简单的例子，实际情况可能要复杂得多。

考虑一下，你有一些功能，比如：

```
#ifdef MYDEF
int foo(int x) { ... }
#else
int foo(float x) { ... }
#endif 
```

`a.o`并且您可以在有`-DMYDEF`和`b.o`没有的情况下进行编译，并`bar`从`a.o`调用函数`foo`in 中调用函数`b.o`。接下来，您将其链接在一起，一切似乎都很好。然后在运行时一切都失败了，您可能很难调试为什么要从一个模块传递 int ，而期望在被调用方方面浮动。

一些更棘手的情况可能包括条件定义的结构字段、调用约定、全局变量大小。

PS 假设您所有的源代码都是用相同的语言编写的，只改变标准选项和宏定义。有时结合 C 和 C++ 代码真的很棘手，同意 Mikhail 的观点。

# android - 扩展 BaseAdapter 结果覆盖以前的 ArrayList 项

> ID：14496705
> 
> 赞同：0
> 
> 时间：2013-01-24T08:18:23.753
> 
> 标签：android, arraylist, baseadapter

我有一个像这样的 DateAapter 类..

```
 public class DateAdapter extends BaseAdapter
    { 
    ...
    } 
```

我在我的“mainActivity”的 12 个不同的地方调用这个 DateApapter，方法是使用`constructor`这个结果并将这个结果存储在一个 DateApapter 对象“mDefaultAdapter”中，就像这样..

```
mDefaultAdapter = new DateAdapter(this,days,sysDate,disablePastDays, selectedDateTypeDf); 
```

并像这样将 mDefaultAdapter 的各种结果存储在 ArrayList 中。

```
ArrayList<DateAdapter> mDefaultAdapterList = new ArrayList<DateAdapter>();
mDefaultAdapterList.add(mDefaultAdapter); 
```

现在来解决问题，

*   在我的第一次调用 DateAdapter 构造函数中，它返回一月份的详细信息，我将此结果（一月）添加到 ArrayList 中，它的工作正常。现在 ArrayList 有一个项目，即一月份的详细信息。
*   但是当我将第二个结果（二月）调用到 arrayList 时，它也覆盖了第一个结果。现在 ArrayList 有两个项目，这两个项目都是二月份的详细信息。
*   这意味着 DateAdapter 的最后一个结果填充了整个 ArrayList。最后我只从 ArrayList 获得了 12 月的详细信息。

为什么 DateAdapter 结果在以前的 ArrayList 项中被覆盖？我没有在整个程序中使用任何静态变量或方法。请帮我解决这个问题。谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:56:17.390

我不太确定您的适配器发生了什么。也许您对`ArrayList`所有适配器使用相同的对象。

但我认为你应该重新考虑你的方法。

这就是我要做的。

1-将日历事件存储在`SQLite`数据库中。

2- 在您的`FragmentPagerAdapter`中，将位置传递给您的日历`Fragment`。

3- 在您的日历`Fragment`中，检索位置（0：1 月 - 11：12 月）并查询您的数据库以检索事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T05:05:41.783

It was my mistake.. The problem is Illegal object reference overwrite my previous ArrayList Items. I saved myself by making a separate object for Date Adapter.

# .htaccess - 没有斜杠，重写不起作用

> ID：14496706
> 
> 赞同：0
> 
> 时间：2013-01-24T08:18:24.220
> 
> 标签：.htaccess, mod-rewrite, trailing-slash

我无法在不输入斜杠的情况下使 URL 正常工作。

它的：

`www.domain.com/shop/buy/products/show/range/`

.htaccess 重写规则是：

```
RewriteRule ^shop/buy/([A-Za-z0-9]+)/show/([A-Za-z0-9\-\,]+)/?$  _shop/products.php?trg=${productmap:$1}&range=$2 [L] 
```

它适用于斜杠（我不希望在 URL 中出现），但并非没有。我还应该补充一点，如果我要从 URL 中删除“/show/”（虽然我不能这样做），它可以在没有尾部斜杠的情况下工作，或者如果“range”包含破折号“-”，如“new” -product'，它也有效。

但是，此 URL 可以带或不带斜杠：

`www.domain.com/shop/buy/products/show/range/color`

此 URL 的 .htaccess 重写规则是：

```
RewriteRule ^shop/buy/([A-Za-z0-9]+)/show/([A-Za-z0-9\-\,]+)/([A-Za-z0-9\-\,]+)/?$    _shop/products.php?trg=${productmap:$1}&range=$2&color=$3 [L] 
```

如何在没有斜杠的情况下使第一个 URL 正常工作？这可能很明显，因为我是最近使用 .htaccess 的新手，但我现在花了几个小时盯着代码并阅读有关重写的论坛帖子，但无法解决这个问题。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T09:21:07.637

您可以测试此代码

```
Options +FollowSymLinks -MultiViews
RewriteEngine On
RewriteBase   /
RewriteRule ^shop/buy/(.*?)/show/(.*)/(.*)$ _shop/products.php?trg=$1&range=$2&color=$3 [S,L,QSA]
RewriteRule ^shop/buy/(.*?)/show/(.*)$ _shop/products.php?trg=$1&range=$2 [S,L,QSA] 
```

样本：

www.domain.com/shop/buy/products/show/range/

www.domain.com/shop/buy/products/show/range

重定向到：

www.domain.com/_shop/products.php?trg=products&range=range

和：

www.domain.com/shop/buy/products/show/range/color

www.domain.com/shop/buy/products/show/range/color/

重定向到：

www.domain.com/_shop/products.php?trg=products&range=range&color=color

另一种方法是您只能使用此代码

```
RewriteRule ^shop/buy/(.*?)/show/(.*)$ _shop/products.php?trg=$1&range=$2 [L,QSA] 
```

在php中的那个分割范围之后

```
list($range,$coler)=explode("/",$_GET['range']); 
```

这也是工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:48:20.350

我不太确定，但你是否尝试放入`/?`大括号：`(/)?`，我认为这会起作用：

```
RewriteRule ^shop/buy/([A-Za-z0-9]+)/show/([A-Za-z0-9\-\,]+)([/]?)$  _shop/products.php?trg=${productmap:$1}&range=$2 [L] 
```

# ember.js - ember.js 模板未呈现

> ID：14496725
> 
> 赞同：2
> 
> 时间：2013-01-24T08:19:28.397
> 
> 标签：ember.js

虽然它并没有变得比这更简单：[fiddle](http://jsfiddle.net/RfNJ8/1/) 我无法获得要渲染的模板。我显然错过了一些简单的东西，但现在已经主演了好几个小时了。有人可以发现错误吗？

在 chrome 中调试时，我可以看到视图和控制器都已输入，但模板似乎并没有出现。我的笔记本电脑上运行了其他几个 ember 测试，效果很好。

```
<script type="text/x-handlebars" data-template-name="index">
    <h1>Application</h1>

    <p>Your content here.</p>

    {{outlet}}

</script>

Albumartist = Ember.Application.create();

Albumartist.Router.map(function(match) {
    this.route('index', {path: '/'});
});

Albumartist.IndexView = Ember.View.extend({
});

Albumartist.IndexRoute = Ember.Route.extend({
});

Albumartist.IndexController = Ember.Controller.extend({
    renderTemplate: function(controller, model){
        console.log('hi');
    }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:23:44.973

如果我没记错的话，您需要将代码包装在`<script>`似乎丢失的标签中。但是，当您将代码复制到此站点时，这可能是由于拼写错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T10:49:22.240

问题很简单：您选择 Ember 作为框架没有包含 jQuery，这是 Ember 运行所必需的。我更新[了 Fiddle](http://jsfiddle.net/RfNJ8/2/)以包含**Ember 和 Handlebars**作为**资源**和**jQuery**作为**Framework**。

此外，由于路由器 v2.1，您不必将`match`参数传递给路由器：

```
Albumartist.Router.map(function() { // no match argument needed anymore
    this.route('index', {path: '/'});
}); 
```

# javascript - 如何将图像 (byte[]) 从 servlet 发送到 HTML 页面

> ID：14496726
> 
> 赞同：0
> 
> 时间：2013-01-24T08:19:36.540
> 
> 标签：javascript, html, css, jsp, servlets

我在 servlet 中有一个字节 [] 形式的图像。我想通过将请求转发到该 html（或 JSP）来将此图像发送到 html（或 JSP 页面）页面。请告诉我我将如何做到这一点，以及该图像将如何显示在 HTML 页面上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:33:12.643

我会将`byte[]`数据转换为图像，并为 HTML 页面提供生成图像的 URL。下面是一个简单的转换示例：

```
BufferedImage img = ImageIO.read(new ByteArrayInputStream(bytes)); 
```

希望这可以帮助。

# debugging - mov eax, 大 fs:30h

> ID：14496730
> 
> 赞同：14
> 
> 时间：2013-01-24T08:19:51.267
> 
> 标签：debugging, assembly, x86, ida, mov

我正在分析一些 x86 二进制文件，发现以下指令我无法理解。有人可以按照说明向我解释吗？

```
mov eax, 大 fs:30h

```

我用谷歌搜索了这个，结果发现它是一些反调试的东西......但这就是我所知道的。

是什么`large`意思？？是什么`fs:30`意思？

我知道分段，但我不知道何时使用`fs`寄存器。例如`cs:`，`ds:`当指令引用代码或数据时，会隐式跳过。但什么是`fs`，什么是`gs`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-24T10:14:27.933

看起来是Windows代码，通过线程信息块加载进程环境块（PEB）的地址，可以通过FS段访问。

除其他外，PEB 包含一个标志，指示进程是否正在调试。

MSDN 有一个关于它的页面[here](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa813706%28v=vs.85%29.aspx)

# c++ - 使用fisherfaces的Opencv人脸识别

> ID：14496742
> 
> 赞同：1
> 
> 时间：2013-01-24T08:20:54.057
> 
> 标签：c++, opencv, face-recognition, unhandled-exception

我正在从事基于人脸识别的项目，并且我使用了 Open cv Fisherfaces。我首先打算将人脸保存在一个目录中并从该目录中读取以训练 Fisher 人脸对象，但在训练时 Windows 显示错误。我正在使用 Qt 创建 GUI：

```
Problem signature:
  Problem Event Name: APPCRASH
  Application Name:   QtTracker3.exe
  Application Version:    0.0.0.0
  Application Timestamp:  5100b46b
  Fault Module Name:  libopencv_core242.dll
  Fault Module Version:   0.0.0.0
  Fault Module Timestamp: 50da6896
  Exception Code: c0000005
  Exception Offset:   000a38f0
  OS Version: 6.1.7600.2.3.0.256.1
  Locale ID:  1033
  Additional Information 1:   0a9e
  Additional Information 2:   0a9e372d3b4ad19135b953a78882e789
  Additional Information 3:   0a9e
  Additional Information 4:   0a9e372d3b4ad19135b953a78882e789 
```

显示错误的代码条：

```
void Dialog::on_btnAdd_2_clicked()
{
    tmrTimer->stop();
    ui->boxConsole->appendPlainText("Training Started....!!");

    cv::Ptr<cv::FaceRecognizer> model = cv::createFisherFaceRecognizer();

    dir=QDir(directory);
    QFileInfoList files;
    QFileInfo file;
    QString filen;

    dir.setFilter(QDir::Files | QDir::Hidden | QDir::NoSymLinks);
    files=dir.entryInfoList();
    int nofiles;
    nofiles=files.size();
    for(int i=0;i<nofiles;i++)
    {
        file=files.at(i);
        filen=file.absoluteFilePath();
        char* path;
        std::string fname = filen.toStdString();
        path = new char [fname.size()+1];
        strcpy( path, fname.c_str() );

        ui->boxConsole->appendPlainText(path);
        newImages.push_back(cv::imread(path,0)); //std::vector<cv::Mat> newImages; std::vector<int> newLabels; defined in the header
        newLabels.push_back(i);
    }

    model->train(newImages,newLabels);  //this wen commented relieves the error but needs it....
    strcat(home,"\\data.xml");

    model->save(home);

    ui->boxConsole->appendPlainText("Training Completed!!");
    tmrTimer->start();
} 
```

# ruby-on-rails - Rails 中的 PUT 请求不会更新 respond_with 调用的状态

> ID：14496747
> 
> 赞同：11
> 
> 时间：2013-01-24T08:21:01.437
> 
> 标签：ruby-on-rails, json

给定 Rails 中的以下控制器：

```
class AccountsController < ApplicationController
    respond_to :json, :xml
    def update
        @account = Account.where(uuid: params[:id]).first
        unless @account.nil?
            if @account.update_attributes params[:account]
                respond_with @account, location: account_url(@account)
            else
                respond_with error_hash, status: :unprocessable_entity, root: :error, location: api_account_url(@account)
            end
        else
            respond_with error_hash, status: :not_found, root: :error, location: accounts_url
        end
    end

    def error_hash
        { :example => "Example for this question", :parameter => 42 }
    end
end 
```

我希望`PUT`/accounts/update/ 请求执行以下操作

1.  如果 id 存在，并且 update_attributes 调用成功，则传递`204 (No Content)`成功消息。（我将它设置为返回@account，这很好，但没什么大不了的。204 在这里很好。）
2.  如果 id 存在，但数据不正确，则传递`422 (Unprocessable Entity)`错误消息，以及表示错误的 xml/json。
3.  如果 id 不存在，则传递`404 (Not Found)`错误消息，以及表示错误的 xml/json。

实际发生的是：

1.  交付没有主体的 204。
2.  交付没有主体的 204。
3.  交付没有主体的 204。

为什么它既无视我的地位，也无视我的身体？`GET`对于效果很好的请求（正确的状态，正确的正文），我有一个类似的设置。

示例`CURL`请求（针对不存在的 ID）：

`PUT`要求

```
curl -i --header "Accept: application/xml" --header "Content-type: application/json" -X PUT -d '{"name": "whoop"}' http://localhost:3000/api /accounts/3d2cc5d0653911e2aaadc82a14ffee9
HTTP/1.1 204 无内容
位置：http://localhost:3000/api/accounts
X-Ua 兼容：IE=Edge
缓存控制：无缓存
X 请求 ID：bf0a02f452fbace65576aab6d2bd7c1e
X 运行时：0.029193
服务器：WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
日期：2013 年 1 月 24 日星期四 08:01:31 GMT
连接：关闭
设置 Cookie：_bankshare_session=BAh7BkkiD3Nlc3Npb25faWQGOgZFRkkiJWFmNmI2MmU0MzViMmE3N2YzMDIzOTdjMDJmZDhiMzEwBjsAVA%3D%3D--133e394eb760a7fce07f1fd51349dc46c2d51626；路径=/; HttpOnly

```

`GET`要求

```
curl -i --header "Accept: application/json" --header "Content-type: application/json" -X GET http://localhost:3000/api/accounts/3d2cc5d0653911e2aaadc82a14ffee9
HTTP/1.1 404 未找到
内容类型：应用程序/json；字符集=utf-8
X-Ua 兼容：IE=Edge
缓存控制：无缓存
X 请求 ID：9cc0d1cdfb27bb86a206cbc38cd75473
X 运行时：0.005118
服务器：WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
日期：2013 年 1 月 24 日星期四 08:19:45 GMT
内容长度：116
连接：保持活动

{"friendly-status":"not-found","status":404,"message":"找不到 ID 为 '3d2cc5d0653911e2aaadc82a14ffee9' 的帐户"}

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-21T05:30:26.837

根据[这个](https://github.com/rails/rails/commit/0d3333257156544feba729ba28f6874d5a30d561)讨论，这种相当不直观的行为是由于希望保持与支架的兼容性。

> 一般来说，我们保持响应者与脚手架相同的实现。这让我们可以说：用respond_with 替换respond_to，一切都会完全一样。
> 
> ——**约瑟瓦林**

您有两种选择来覆盖默认行为。

### A) 将一个块传递给 respond_with

```
unless @account.nil?
  if @account.update_attributes params[:account]
    respond_with @account do |format|
      format.json { render json: @account.to_json, status: :ok }  
      format.xml  { render xml: @account.to_xml, status: :ok }
    end
  else
    respond_with error_hash do |format|
      format.json { render json: error_hash.to_json(root: :error), status: :unprocessable_entity }
      format.xml { render xml: error_hash.to_xml(root: :error), status: :unprocessable_entity }
    end
  end
else
  respond_with error_hash do |format|
    format.json { render json: error_hash.to_json(root: :error), status: :not_found }
    format.xml { render xml: error_hash.to_xml(root: :error), status: :not_found }
  end
end 
```

不幸的是，我们不得不为每种格式返回重复，但这似乎是迄今为止 Rails 4.0 的当前建议；看[这里](http://rubydoc.info/docs/rails/ActionController/Responder)。

如果您要返回更新的对象，您应该返回**200 - OK**，而不是**204 - No Content**，或者不返回任何内容并让您的客户端代码“获取”更新的对象。:location 在 api 上下文中没有意义，它用于重定向 html 响应。

### B) 创建自定义响应者

```
respond_with @account, status: :ok, responder: MyResponder 
```

我自己没有这样做，所以我不能举个例子，但无论如何这里似乎有点矫枉过正。

查看[Railscasts Episode:224](http://railscasts.com/episodes/224-controllers-in-rails-3)以了解有关 respond_with 的一些讨论，包括自定义响应者。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-06-13T21:22:37.887

你看到 ActionController::Responder 类了吗？这里有一些方法可以考虑

```
 # All other formats follow the procedure below. First we try to render a
    # template, if the template is not available, we verify if the resource
    # responds to :to_format and display it.
    #
    def to_format
      if get? || !has_errors? || response_overridden?
        default_render
      else
        display_errors
      end
    rescue ActionView::MissingTemplate => e
      api_behavior(e)
    end 
```

和

```
def api_behavior(error)
      raise error unless resourceful?

      if get?
        display resource
      elsif post?
        display resource, :status => :created, :location => api_location
      else
        head :no_content
      end
    end 
```

如您所见， api_behavior 适用于 post 和 get 方法，但不适用于 put 。如果修改了现有资源，则应发送 200（OK）或 204（No Content）响应代码以指示请求成功完成。

head :no_content 就是你得到的。

所以这样做的原因是rails不明白你在做什么。Rails 认为在这种情况下使用 respond_with 时没有错误。（这不是一个错误，你不应该那样使用它）

我认为`respond_to`是你需要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-22T02:16:31.463

恕我直言，我会先尝试一下。如果找不到记录，这`.first!`将使 rails 发出 404。如果成功将呈现 204。如果在保存时出错，它将从模型错误对象中提取错误。

```
class AccountsController < ApplicationController
  respond_to :json, :xml

  def update
    @account = Account.where(uuid: params[:id]).first!
    @account.update_attributes params[:account]
    respond_with @account, location: account_url(@account)
  end
end 
```

如果模型验证消息还不够，那么您将需要有条件地发出结果。成功路径将如上所示，如果失败，您将呈现您需要的内容。

```
class AccountsController < ApplicationController
  respond_to :json, :xml

  def update
    @account = Account.where(uuid: params[:id]).first!
    if @account.update_attributes params[:account]
      respond_with @account, location: account_url(@account)
    else
      respond_to error_hash do |format|
        format.json { render json: error_hash, status: :unprocessable_entity }
        format.xml { render xml: error_hash, status: :unprocessable_entity }
      end
    end
  end

  def error_hash
    { :example => "Example for this question", :parameter => 42 }
  end
end 
```

# android - Android Fragment，强制 View 手动释放

> ID：14496750
> 
> 赞同：4
> 
> 时间：2013-01-24T08:21:16.693
> 
> 标签：android, actionbarsherlock, fragment

我有一个`FragmentPagerAdapter`，我在选项卡之间切换`ActionBarSherlock`。在选项卡之间切换时，我隐藏一个`Fragment`并显示另一个`Fragment`。

现在我有一个关于内存消耗的问题，如果我隐藏它，如何`FragmentManager`释放？`Fragments`当其中有更多`Fragments`内容时，是否可以手动`Fragment Object`从内存中删除 a ？

如果我分离 a `Fragment`，则保存对象，如果我删除 a`Fragment`它仅从 中删除`View`，如果我设置`Fragment = null`，`Fragment`则不释放，我总是得到一个片段：`myActivity.getSupportFragmentManager().findFragmentByTag(myTag);`

有人可以解释一下如何`FragmentManager`发布`Views`，如果有必要，我怎么能意识到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-30T04:47:44.417

来自[安卓](http://developer.android.com/reference/android/support/v4/app/FragmentPagerAdapter.html)文档。

> PagerAdapter 的实现，它将每个页面表示为一个 Fragment，只要用户可以返回该页面，它就会永久保存在 Fragment 管理器中。

因此，如果您担心内存问题，请不要使用 FragmentPagerAdapter，我建议您改用[FragmentStatePagerAdapter](http://developer.android.com/reference/android/support/v4/app/FragmentStatePagerAdapter.html)。

> 在 FragmentStatePagerAdapter 中，当页面对用户不可见时，它们的整个 Fragment 可能会被销毁，只保留该 Fragment 的已保存状态。与 FragmentPagerAdapter 相比，这允许分页器保留与每个访问的页面相关联的内存少得多，但代价是在页面之间切换时可能会产生更多开销。

FragmentStatePagerAdapter 的工作方式有点像列表视图，并且在内存方面更有效。

# sql - 如何在 cakephp 中执行此查询

> ID：14496757
> 
> 赞同：2
> 
> 时间：2013-01-24T08:22:11.560
> 
> 标签：sql, cakephp

你知道我如何在 cakephp 中使用 helper find 进行这个查询吗？

```
$req = "SELECT * FROM brand 
        WHERE nom LIKE '$nom%'  AND 
              genre LIKE '$genre%' AND     
              mouvement LIKE '$mouvement%' AND 
              forme LIKE '$forme%' AND 
              prix >= '$mini' AND 
               prix <= '$maxi' 
         ORDER BY prix ASC"; 
```

我做了这样的事情，但它不起作用

```
 $results=$this->Model->find('all',array('conditions'=>array
  ('AND'=>array('name   LIKE'=>$nom,'genre LIKE'=>$genre,
  'mouvement LIKE'=>$mouvement,.....)))); 
```

提前感谢您的回复；-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:30:35.773

尝试这个

```
$this->Brand->find('all',array
(
    'conditions' => array
    (
        'Brand.nom LIKE' => "{$nom}%",
        'Brand.genre LIKE' => "{$genre}%",
        'Brand.mouvement LIKE' => "{$mouvement}%",
        'Brand.forme LIKE' => "{$forme}%",
        'Brand.prix >=' => $mini,
        'Brand.prix <=' => $maxi
    ),
    'order' => array('Brand.prix' => 'ASC')
));
```

# java-me - 如何使用 J2me MIDlet 获取 Hashtable 值并在另一个屏幕的列表视图中显示

> ID：14496764
> 
> 赞同：3
> 
> 时间：2013-01-24T08:22:31.520
> 
> 标签：java-me, midp, lcdui

我正在为诺基亚设备开发 J2Me 中的应用程序。

我已经创建了菜单列表并添加了`ClickEvents(CommandEvent)`，我的问题是如何通过clickEvent在显示中一个一个地获取哈希表数据，例如另一个屏幕中的listview。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T16:20:28.527

例如，您可以在 Midlet 类中创建一个静态，并从应用程序的其他页面`Hashtable`访问它。`Hashtable`

# asp.net-mvc - 为什么为我的值为 0 的“Id”属性触发了 Fluent Validation 的 IsEmpty 规则？

> ID：14496768
> 
> 赞同：0
> 
> 时间：2013-01-24T08:22:51.417
> 
> 标签：asp.net-mvc, fluentvalidation, business-rules

我有一个`ApplicantProfileModel`适用于所有方面的视图模型。它声明了一个属性

```
[HiddenInput(DisplayValue = false)]
public int Id { get; set; } 
```

并且这个属性出现在像这样的局部视图中

```
@model Comair.RI.UI.Models.ApplicantProfileModel
@Html.ValidationSummary(true)
<fieldset>
    <legend></legend>
    <ul class="form-column">
        @Html.HiddenFor(m => m.Id)
    ..... 
```

我对此属性有以下流利验证规则：

```
RuleFor(p => p.Id).NotEmpty().WithMessage("Id is empty. Messsage may have been tampered with."); 
```

`int`值为零的An肯定不是“空的”。我知道我可以将规则更改为不等于零，但这并不能解决我的问题并回答我的问题，即为什么一个`int`of 值`0`被流畅的验证视为空？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:29:50.203

因为 an`int`是值类型，不能没有值。在引擎盖下`FluentValidation`检查`default`该类型，我相信 0 对于`int`. 如果您可以使您`Id`的 int 可以为空，您可以获得该行为。否则我会按照你的建议做并检查不等于0。

# wpf - 当 .ischecked 属性更改时，XAML WPF Checkbox 不可视化

> ID：14496769
> 
> 赞同：0
> 
> 时间：2013-01-24T08:22:54.230
> 
> 标签：wpf, xaml, checkbox

我是 WPF 和 XAML 编程的初学者。而且我的英语不是很好。对不起！

这是我的问题。我想要一个自定义复选框。只有当鼠标悬停并且光标应更改为帮助光标时才应启用它。

这很好用！当我单击复选框时，复选框变为`.ischeckd = true`并在复选框中显示小箭头。当我再次单击复选框时，`.ischecked`属性更改为复选框中`false`的小箭头消失了。到现在为止还挺好！但是，当我以编程方式设置 .ischeckd 值时，它不会更改复选框中的小箭头。因此，即使 .ischecked 属性为假，程序的用户仍认为复选框是“活动的”。希望您理解我的问题...这是 XAML 代码：

```
</Style>
    <Storyboard x:Key="StoryboardCheckBox"/>
    <Style x:Key="CheckBoxStyle1" TargetType="{x:Type CheckBox}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type CheckBox}">
                    <Grid Margin="0,0,42,0">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.IsEnabled)" Storyboard.TargetName="checkBox">
                                            <DiscreteBooleanKeyFrame KeyTime="0" Value="True"/>
                                        </BooleanAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed"/>
                                <VisualState x:Name="Disabled"/>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <CheckBox x:Name="checkBox" Content="Gutschrift" FontSize="13.333" IsEnabled="False" Cursor="Help" Margin="0,0,4.937,0"/>
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Content="" Margin="78.063,9.723,0,0"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style> 
```

...一些标签和按钮以及其他东西

```
<CheckBox Content="CheckBox" HorizontalAlignment="Left" Height="23" Margin="29,0,0,44" Grid.Row="1" Style="{DynamicResource CheckBoxStyle1}" VerticalAlignment="Bottom" Width="125" Name="CheckBoxGutschrift" IsChecked="False" DataContext="{Binding}" Checked="CheckBoxGutschrift_Checked" Unchecked="CheckBoxGutschrift_Unchecked" ClickMode="Press" IsTabStop="False" /> 
```

希望你能理解我的问题！非常感谢您的回答，Ruediger

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:37:08.177

您忘记`IsChecked`在控件模板中绑定内部复选框的属性：

```
<CheckBox x:Name="checkBox" IsChecked="{TemplateBinding IsChecked}" ... 
```

# iphone - 全局 objectForKey 的类别：安全

> ID：14496770
> 
> 赞同：2
> 
> 时间：2013-01-24T08:22:55.460
> 
> 标签：iphone, objective-c, json, nsarray, nsdictionary

我们遇到了无数关于 JSON 提要的问题，导致`[__NSCFString objectForKey:]`在处理（使用 AFNetworking JSON 框架）时导致应用程序崩溃的错误。

我们知道为什么会这样，因为字符串占据了`NSDictionary`预期 an 的位置。

但我在想，是不是可以创建一个`objectForKey`函数的类别或子类来快速检查所讨论的对象是否是字典？`ObjectForKey`在s上穿同样的东西会很可爱`NSArray`。

这肯定会降低此类问题在我们的项目中再次发生的风险。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:31:33.317

我认为拥有一些功能不会太难，比如......

```
- (NSString*)stringForKey:(id)key; 
```

你可以做类似...

```
- (NSString*)stringForKey:(id)key
{
    id object = [self objectForKey:key];

    if ([object isKindOfClass:[NSString class]]) {
        return (NSString*)object;
    }

    return nil;
} 
```

对于其他对象类型，您也可以有类似的。

这样，您始终会收到您期望的对象类型或 nil。

**编辑**

事实上，经过一番搜索。我认为这个功能已经存在于 NSDictionary 中。（更正感谢 jrturton。这仅适用于 NSUserDefaults。）

# ajax - 从 Chrome 调用 Web API 正常，从 IE9 调用失败 (DotNetNuke)

> ID：14496771
> 
> 赞同：3
> 
> 时间：2013-01-24T08:22:55.287
> 
> 标签：ajax, web-services, dotnetnuke, asp.net-web-api

我对此感到困惑。我正在编写一个 Web API 方法，当在 Chrome 中通过 ajax 调用时工作正常，但在 IE9 中进行时，相同的调用返回“未授权”......我正在使用 DotNetNuke 7 的 Web API 实现，并且在调试时调用没有达到我的断点在方法“processUpload”中。这可能是什么原因造成的？

这是我的片段，谢谢帮助

```
data = { alc: 'private', bucket: 'Dev', file: file.name, key: 'drop/' };
$.ajax({
    url: sf.getServiceRoot('mySite') + "Upload/processUpload",
    type: 'POST',
    data: data,
    beforeSend: sf.setModuleHeaders
}).done(function (response, status) {
    if (status == "success") {
        params[response.file] = { policy: response.policy, signature: response.signature }
    }
}).fail(function (xhr, result, status) {
    alert("Uh-oh, something broke: " + status);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T11:14:33.363

这就是我的 ajax 调用的样子

```
odata = { alc: 'private', bucket: 'Dev', file: file.name, key: 'drop/' };
    $.ajax({
        type: "POST",
        contentType: "application/json;charset=utf-8",
        url: sf.getServiceRoot('mySite') + "Upload/processUpload",
        beforeSend: sf.setModuleHeaders,
        data: odata ,
        success: function (result) {
            params[response.file] = { policy: response.policy, signature: response.signature }
        },
        error: function (xhr, status, error) {
    alert("Uh-oh, something broke: " + xhr.responseText);
        }
    }); 
```

您还可以尝试如下修改您的 web.config

```
<modules runAllManagedModulesForAllRequests="true"> 
```

# image-processing - Gigatexel 等于十亿个字符还是十亿个浮点数？

> ID：14496774
> 
> 赞同：4
> 
> 时间：2013-01-24T08:22:58.367
> 
> 标签：image-processing, cuda, gpu, nvidia

我正在看[NVIDIA 关于 GTX680 GPU 的白皮书](http://www.geforce.com/Active/en_US/en_US/pdf/GeForce-GTX-680-Whitepaper-FINAL.pdf)。在第 6 页，白皮书提到 GTX680 的填充率为 128.8 Gigatexels/sec。

我对此有几个问题：

1.  一个纹素等于*一个字节*，还是*四个字节*？换句话说，纹素是 RGBA（或浮点数），还是只是一个字符？

2.  “ 128.8 Gigatexels/sec 的填充率”与“128.8 GB/s 的带宽”是一样**的****吗**？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:40:48.803

Gigatexels 是纹理单元吞吐量的度量。基本上它每秒能够处理 1288 亿个过滤纹理样本。

1）正如您所提到的，纹素的大小可能会有所不同。纹理通常是 RGBA 4 字符（4 字节）、浮点数（4 字节）或 4 浮点数（16 字节）。还有其他纹理格式，纹素是指纹理上一个点的数据。

2) 否。以 GB/s 为单位的内存吞吐量定义了 GPU 可以“潜在”从其主/全局内存中读取的速度。如果纹理样本不连贯（即不使用纹理的相同/相邻部分），则将需要全局获取，并且主内存的带宽成为一个问题。这也适用于与 Gigatexel 图不同的任何数据，并且还包括顶点数据也从内存中读取的事实。拥有高带宽至关重要，尤其是当有许多甚至数千个内核请求这些数据时。

# c++ - 从托管 C++ 引用非托管 C++ DLL

> ID：14496782
> 
> 赞同：2
> 
> 时间：2013-01-24T08:23:42.587
> 
> 标签：c++, visual-studio-2010, dll, clr, unmanaged

这个问题来自我之前的问题：[Create DLL from unmanaged C++](https://stackoverflow.com/questions/14462049/create-dll-from-unmanaged-c)，但您不必阅读它来理解这个新问题。

我现在有一个 DLL，其中包含由几个函数组成的非托管 C++ 代码，其中我只导出一个以供外部使用。接下来，我需要在托管 C++ 项目（使用公共语言运行时支持构建）中使用此 DLL。到目前为止，我已经通过`Additional Include Directories`在 Visual Studio 2010 中设置了对现有非托管项目的头文件的引用。

如果我现在尝试添加对 DLL 文件的引用：`MyManagedProject > Properties > Common Properties > Add New Reference > Browse > MyUnmanagedDLL.dll`，我会收到错误`Could not add a reference to file MyUnmanagedDLL.dll because it is neither a .NET assembly nor a registered ActiveX control.` 但是，如果我使用前面提到的 DLL 并将其复制到与我的托管 C++ 的可执行文件相同的文件夹中，一切正常。

我不确定这是否是正确的方法，因为它似乎是一个骇人听闻的解决方案。此外，这意味着我每次更改其源代码时都必须复制 DLL。

总结一下我的问题：

1.  我创建了一个由非托管 C++ 代码组成的 DLL，我们称之为`MyUnmanagedDLL.dll`. 我还为这个 DLL 创建了一个头文件。
2.  我有一个托管 C++ 项目 (CLR)，我们称之为`MyManagedProject.vxproj`
3.  `MyUnmanagedDLL.dll`我该如何使用`MyManagedProject.vxproj`？是否有正确的方法来引用它，还是应该将它复制到与它相同的目录`MyManagedProject.exe`？（这行得通，但我不确定它是否是好的做法......）

额外信息：Windows 7、Visual Studio 2010 Ultimate、CMake 2.8.10.2

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-24T09:18:09.550

您不能将非托管 DLL 添加为对托管 C++ 项目的引用。您只能使用托管 DLL 来执行此操作。您所做的是链接到非托管 DLL，其方式与链接到非托管 C++ 项目中的非托管 DLL 的方式相同：

*   使用头文件进行编译。
*   将非托管 DLL 的 .lib 文件提供给链接器，例如通过将其添加到链接器配置页面中的*Additional Dependencies列表中。*
*   将 DLL 放在与可执行文件相同的目录中，以便加载程序可以找到它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-02T19:50:30.460

显然，唯一的解决方案是在用 DllImport 属性修饰的方法中传递非托管 dll 路径。

为了保持整洁，您可以创建一个 lib 文件夹来放置非托管 dll，并将其属性“复制到输出目录”标记为“始终复制”（右键单击非托管 dll- >属性->复制到输出目录：总是复制）。

在您的方法 DllImport 属性中，您必须将参数指定为“lib/unmanaged.dll”。在 C# 中，你会有这样的东西。

```
[DllImport("lib/testLib.dll")]
private static extern int DisplayHelloFromDLL(); 
```

这种方法与以前的答案没有区别，但它可以帮助您保持代码更整洁。

# php - 代码中未定义的错误

> ID：14496785
> 
> 赞同：2
> 
> 时间：2013-01-24T08:23:45.233
> 
> 标签：php

我的 php 代码有问题，我在这两行中都得到未定义的索引：

```
$Page = $_GET["Page"];    
if(!$_GET["Page"]) 
```

它只发生在第一页..当然它应该只发生在那个时候..有人可以告诉我如何解决它吗？

我发现了类似的东西，但我无法完全删除通知。

```
(!empty($_GET['query_age']) ? $_GET['query_age'] : null); 
```

我需要知道如何在我的代码中实现它，但我无法......

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:25:59.697

```
$page = isset($_GET['Page']) ? $_GET['Page']: ''; 
```

然后你可以使用`$page`. 未定义索引是`$_GET`因为您没有 GET 参数而未设置索引。然后你应该在你的代码中设置这个值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:28:14.427

```
$Page = null;
if (array_key_exists('Page', $_GET)) {
    $Page = $_GET['Page'];
} 
```

是你能做的最明确和最精确的事情。你也可以使用`isset()`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:31:23.507

```
$Page = isset($_GET["Page"])?$_GET["Page"]:""; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T08:26:21.597

```
if(isset($_GET["Page"])) {
     $Page = $_GET["Page"];
} else {
     $Page = "";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T08:28:42.903

你`$_GET['Page']`是空的，你会收到`Undefined`通知（不是错误）。因此，在将其分配给`$Page`您之前，应该检查是否有一些数据：

```
if(isset($_GET['Page'])) {
    $Page = $_GET['Page'];
} else {
    $Page = ''; // $_GET['Page'] is undefined
} 
```

# android - Android：如何使用 LocalBroadcastManager

> ID：14496786
> 
> 赞同：5
> 
> 时间：2013-01-24T08:23:48.970
> 
> 标签：android

我试图找到答案如何`LocalBroadcastManager`在扩展的课堂上使用，`BaseAdapter`但在花费数小时研究如何做到这一点后，我没有找到正确的答案。我需要从`Fragment`适配器内部调用方法，但我不知道该怎么做。有人可以解释我该怎么做吗？感谢您的回复和帮助。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-14T20:54:56.850

我只能回答有关 LocalBroadcastManager 的问题。

1.  [将支持库添加到您的 SDK，然后添加到您的 Android 项目。](http://developer.android.com/training/basics/fragments/support-lib.html)
2.  显然，在你的java类等中导入支持库。
3.  声明你的 LocalBroadcastManager 并实例化它。此外，您可以将其声明为静态并在整个（整个）应用程序中使用它。所以你不必为每个活动都实例化一个新的，等等。

    ```
    public static LocalBroadcastManager mBroadcaster;
    mBroadcaster = LocalBroadcastManager.getInstance(yourAppContextHere); 
    ```

4.  在每个活动、服务等中，根据每个活动的生命周期注册和取消注册一个接收器。每个接收器可以有不同的过滤器。例如在 onResume (或 onCreate) 和 onPause (或 onDestroy)::

    ```
    IntentFilter mFilter = new IntentFilter(MY_ACTION_1);
    mFilter.addAction(MY_ACTION_2);

    mBroadcaster.registerReceiver(localBluetoothReceiver, mFilter);
    mBroadcaster.unregisterReceiver(localBluetoothReceiver); 
    ```

    最后，发送广播并与接收者一起接收：

    ```
    Intent sendCmdIntent = new Intent("your.package.name.your.action.name");
    sendCmdIntent.putExtra(key, value);
    mBroadcaster.sendBroadcast(sendCmdIntent);

    private BroadcastReceiver localBluetoothReceiver = new BroadcastReceiver() {
        @Override
        public void onReceive(Context context, Intent intent) {
            String action = intent.getAction();
            Do whatever depending on the action and on the extra stuff you put in the intent. 
    ```

以上都是凭记忆引用的，欢迎修改！

# android - 如何将 Google Chrome 设置为我以编程方式制作的应用程序的默认浏览器

> ID：14496788
> 
> 赞同：3
> 
> 时间：2013-01-24T08:23:50.200
> 
> 标签：android, google-chrome

我们可以将谷歌浏览器设置为默认浏览器吗？因为我了解到在 android 4.2 中它们不再是 android 中的通用浏览器，所以他们将其更改为 Google Chrome。就像下面的这段代码一样。

```
Intent intent= new Intent();        
intent.setAction("android.intent.action.VIEW");    
Uri content_url = Uri.parse("http://www.eltosystem.com");   
intent.setData(content_url);
intent.setClassName("com.android.browser","com.android.browser.BrowserActivity");   
                        startActivity(intent); 
```

我们是否可以更改代码以将 Google Chrome 设置为默认值？提前致谢。:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T08:41:41.617

不要在意图上设置类名。如果只有一个应用程序处理该 url，则该应用程序将启动。如果有多个应用程序，并且用户尚未选择默认应用程序，则会提示用户。如果用户已经选择了一个，这将启动用户首选的一个。让用户选择他们想要使用的浏览器总是一个好主意。事实证明，Chrome plain 不适合他们的原因有很多。例如，由于特定的残疾，用户可能需要使用特殊的浏览器。

如果您仍想显式启动 Google Chrome，则必须找到其包名称 ( `com.android.chrome`:-)) 和处理该`android.intent.action.VIEW`操作的活动。您可以从存储在其 .apk 中的 Google Chrome 清单中找到它。您需要从安装了它的设备中提取它。

但是请注意，即使设备运行的是 JB 4.2，也无法保证设备上会显示 Google Chrome。OEM 可以自由（在一定程度上）自定义设备上安装的软件包列表，因此即使标准 4.2 GMS 映像包含 Chrome，例如三星仍可能决定将其删除。更不用说基于 4.2 AOSP 的设备可能永远不会有 Chrome，因为它不是开源 Android 平台的一部分，用户无法从 Google Play 商店下载它，因为它也不属于 AOSP。（我故意忽略了基于 AOSP 的设备的场景，其中包括 Google Play、Google Maps 和 Chrome，但没有适当的 GMS 许可）

# codeigniter - 在 if 语句中比较 $this->session->userdata('username') 的值时，if else 语句总是转到 else 部分

> ID：14496794
> 
> 赞同：0
> 
> 时间：2013-01-24T08:24:07.027
> 
> 标签：codeigniter

我们一直在开发一个系统，我们刚刚发现了这种错误，我们尝试了我们认为在逻辑上正确的条件，但我们总是针对 else 部分。在我们的系统中，我们已将登录系统的用户电子邮件的每个值分配给`this->session->userdata('username')`. 当某个用户使用他自己的电子邮件帐户登录时，该值的值自动`$this->session->userdata('username')`是登录该用户的电子邮件。但是，如果我使用其他用户电子邮件更改 url 部分中的电子邮件，我将被定向到该帐户，所以我们做了什么，我们在 if 语句部分设置了条件。这是代码：

```
public function get_course()
{

   if($this->session->userdata['username']==$this->uri->segment(3)) {

      $data=$this->data;

      $tennant_url_id=$this->uri->segment(3);

      if(!empty($tennant_url_id)) {
         $tennant_code=$tennant_url_id;
      } else {
         $tennant_code=$this->session->userdata('username');
      }

      $num_row=$this->session->userdata('total_row');
      $total_row=$this->course_booking_model->check_tennant($tennant_code);
      $data['tennant_id'] = $tennant_code;
      $data['total_row']=$total_row;
      $data['data']=$this->course_booking_model->get_all_courses($tennant_code);
      $this->load->view('view_course_admin',$data);

   } else {
      $this->session->set_flashdata('Sess_expire', 'Your session has expired! Please Login again.');

      redirect("/admin/logout");
   }
} 
```

当我更改 url 中的电子邮件然后我退出时它工作正常。但是，如果我单击页面的任何链接或刷新页面而不更改 url 中的电子邮件，则始终执行 else 部分并将其定向到注销页面。任何人都可以弄清楚这里有什么问题吗？非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:46:09.613

一方面，

```
if($this->session->userdata['username'] == $this->uri->segment(3)) 
```

应该：

```
//not square brackets but regular brackets
if($this->session->userdata('username') == $this->uri->segment(3)) 
```

# php - 如何使用 Ajax 从 Mysql 获取多个列值到 JQuery 函数中

> ID：14496805
> 
> 赞同：0
> 
> 时间：2013-01-24T08:24:25.283
> 
> 标签：php, mysql, jquery

我有一个 Jquery 函数，它可以生成条形图、折线图等报告。

我在 Jquery 中使用 ajax 来调用返回 Json 对象的 php 函数。问题是，我必须返回表中所有列的完整数据。使用 ajax，我已成功地将单列中的所有值返回到我的 Jquery 函数。但是，我无法返回多个列。请帮我。

```
//Ajax function calling
$.ajax({                                      
    url: 'Data.php',                  //the script to call to get data          
    data: "",                        //you can insert url argumnets here to pas
                                   //for example "id=5&parent=6"
  dataType: 'json',    
  async: false,//data format      
  success: function(data)          //on recieve of reply
  {
 var returnedArray = [];
returnedArray = data;

  } 
 });
  ///// Data.php code
<?php 

   $host = "localhost";
   $user = "root";
   $pass = "";

   $databaseName = "edb";
   $tableName = "user";
   $con = mysql_connect($host,$user,$pass);
  $dbs = mysql_select_db($databaseName, $con);

$i=0;
$storeArray= Array();

$result = mysql_query("SELECT User_Id FROM user");
while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) 
    {
    $storeArray[$i] =  $row['User_Id'];  

    $i++;
    }   

    echo json_encode($newstoreArray);

     ?> 
```

在上面的 Data.php 中，我已成功返回单列“User_Id”值的值。我想返回更多列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:37:56.557

首先，您应该在查询中包含更多列：

```
$result = mysql_query("SELECT User_Id, col2, col3, ... FROM user");
while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) 
{
    array_push($storeArray, array('User_Id' => $row['User_Id'],
                                 'col2'    => $row['col2'],
                                 ... //tell the rest of your columns
                                 ));
    $i++;
} 
```

其次，在`success`函数中，您应该处理这些新列的值，例如：

```
success: function(data)          //on recieve of reply
{
   var returnedArray = [];
   returnedArray = data;

   var item = '';
   $.each(data, function(){
       // here you can loop through all columns values like this['User_Id'], this['col2']
       item = ... 
   });
} 
```

**请注意：**尽量避免`mysql_query`使用准备好的语句或 PDO。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:26:54.187

只需将其替换为`while`mysql，您将获得完整的结果。

```
$query = "SELECT User_ID, col2, col3 FROM user"; // select multiple columns
$result = mysqli_query($conn, $query); // replaced with procedural mysqli
while ($row = mysqli_fetch_array($result, MYSQL_ASSOC)) 
{
    $storeArray[] =  $row;  
} 
```

PS：停止使用[mysql](http://php.net/manual/en/function.mysql-connect.php)扩展，它已被弃用（检查链接中的大红色框）。将其替换为[mysqli](http://php.net/manual/en/book.mysqli.php)或[PDO](http://php.net/manual/en/book.pdo.php)

# matlab - MATLAB 代码到 C++（使用 OPENCV）

> ID：14496808
> 
> 赞同：0
> 
> 时间：2013-01-24T08:24:33.610
> 
> 标签：matlab, histogram

有人可以帮我把这个命令翻译成 C++（OpenCV）吗？

```
[h t] = hist(img(roi_mask>0),2048); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T10:41:01.063

对于直方图，您可以使用以下类（类来自 openCV 2 Computer Vision 书）：

```
class Histogram1D{
private:
    int histSize[1];
    float hranges[2];
    const float* ranges[1];
    int channels[1];
    cv::MatND hist;
public:
    Histogram1D()
        {
        histSize[0] = 2048;
        hranges[0]=0.0;
        hranges[1] = 255.0;
        ranges[0] = hranges;
        channels[0] = 0;//by default, we look at channel 0
        }
    Histogram1D(float minval,float maxval)
        {
        histSize[0] = 2048;
        hranges[0]=minval;
        hranges[1] = maxval;
        ranges[0] = hranges;
        channels[0] = 0;//by default, we look at channel 0
        }

    //Hier wird die cv funktion zum bestimmen vom Histogramm gestartet
    cv::MatND calcHistogram(const cv::Mat &image){
        //compute histogram
        cv::calcHist(&image,
            1,         //histogram from 1 image only
            channels,  //the channel used
            cv::Mat(), //no mask is used
            hist,      //the resulting histogram
            1,         //it is a 1D histogram
            histSize,  //number of bins
            ranges     //pixel value range
            );
        return hist;
        }

    cv::MatND getHistogram(){

        return hist;
        }

    cv::Mat getHistogramImage(){
        //compute histogram first
        cv::MatND hist= getHistogram();

        //get min and max bin values
        double maxVal=0;
        double minVal=0;
        cv::minMaxLoc(hist, &minVal, &maxVal, 0,0);

        //Image on which to display histogram
        cv::Mat histImg(histSize[0]+40, histSize[0],CV_8U,cv::Scalar(255));

        //set highest point at 90% of nbins
        int hpt = static_cast<int>(0.9*histSize[0]);

        //Draw a vertical line for each bin
        for (int h=0;h<histSize[0];h++)
            {
            float binVal=hist.at<float>(h);
            int intensity = static_cast<int>(binVal*hpt/maxVal);

            //This function draws a line between 2 points
            cv::line(histImg,cv::Point(h,histSize[0]),cv::Point(h,histSize[0]-intensity),cv::Scalar::all(0));
            }

        //min und max val im Histogramm angeben
        char maxValStr[10],minValStr[10];
        sprintf (maxValStr, "%d",static_cast<int>(hranges[1]));
        sprintf (minValStr, "%d",static_cast<int>(hranges[0]));

        int fontFace = cv::FONT_HERSHEY_SCRIPT_SIMPLEX;
        double fontScale = 0.3;
        int thickness = 1;  
        cv::Point textOrgmax(histSize[0]-40, histSize[0]+20),textOrgmin(5, histSize[0]+20);

        cv::putText(histImg, maxValStr, textOrgmax, fontFace, fontScale, cv::Scalar::all(0), thickness,8);
        cv::putText(histImg, minValStr, textOrgmin, fontFace, fontScale, cv::Scalar::all(0), thickness,8);
        return histImg;
        }

    }; 
```

这里是你如何使用它：

```
// Transform it into the C++ cv::Mat format
cv::Mat image(imagesource);

// Setup a rectangle to define your region of interest
cv::Rect myROI(10, 10, 100, 100);

// Crop the full image to that image contained by the rectangle myROI
// Note that this doesn't copy the data
cv::Mat croppedImage = image(myROI);

    cv::Mat tmp = croppedImage .clone();//clone image
        double min =0,max = 0;
    cv::minMaxLoc(tmp,&min,&max);

    cv::namedWindow("Histogram",CV_WINDOW_AUTOSIZE);
    Histogram1D h(min,max);
    h.calcHistogram(tmp);
    cv::imshow("Histogram",h.getHistogramImage()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T10:38:38.087

因此，您需要蒙版图像上的 2048 个 bin 的直方图，返回一个包含计数和 bin 值的矩阵。

我想您可以使用 calcHist，甚至可以自定义它或构建您自己的函数。您需要知道如何访问数组元素、数组操作和直方图的基本理论。

您的问题隐藏了许多问题，因为 Matlab 级别更高。分解你的问题，你会发现所有的答案都散落在论坛里......

# java - 在将应用程序发布到 Websphere 应用程序服务器时，它必须使用 spring 从数据库中加载所有表

> ID：14496812
> 
> 赞同：0
> 
> 时间：2013-01-24T08:24:46.680
> 
> 标签：java, spring, ejb, websphere

在我们的项目中，需要在将应用程序发布到 Websphere 应用程序服务器时从数据库中加载所有表。

我刚刚在类路径中定义了 applicationContext .. 在发布它时在控制台中显示 applicationContext 我编写了 bean 来检索所有表。但是是否可以在不调用 .getBean 方法的情况下加载 bean

我们使用的是 EJB3 项目而不是 Webproject，所以它没有 web.xml 来调用 applicationContext.xml

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T03:34:58.420

这是获取 bean 引用的常用方法。你有什么问题吗？

```
ApplicationContext context = new ClassPathXmlApplicationContext("applicationContext.xml");
SomeBean someBean = context.getBean(SomeBean.class); 
```

# themes - Apex 启动器图标停止工作？

> ID：14496813
> 
> 赞同：0
> 
> 时间：2013-01-23T21:30:59.143
> 
> 标签：themes

我正在尝试为 Apex Launcher 编写皮肤，但似乎遇到了问题。我已经成功添加了几张图片，但是我现在正在尝试添加 Authenticator 和 Google Calendar 图标。

我已将字符串添加到 iconpack.xml，然后将它们添加到 appfilter.xml 的下方。我无法让日历或身份验证器工作。如果我将 Play Store 图标设置为我试图用于 Authenticator 的图标，它会显示该图标。我 100% 确定我的活动是正确的，因为我查看了 Apex Launcher 中的活动并用谷歌搜索了它。

有什么建议么？

```
<!-- Authenticator -->
<item component="ComponentInfo{com.google.android.apps.authenticator/com.google.android.apps.authenticator.AuthenticatorActivity}" drawable="com_android_auth" />     

<!-- Play Store -->
<item component="ComponentInfo{com.android.vending/com.android.vending.AssetBrowserActivity}" drawable="com_android_store" /> 

 <!-- Calendar -->
<item component="ComponentInfo{com.android.calendar/com.android.calendar.LaunchActivity}" drawable="com_android_calendar" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T05:50:31.237

对于身份验证器，我必须使用以下内容：

`com.google.android.apps.authenticator2/com.google.android.apps.authenticator.AuthenticatorActivity`

注意只添加了一个“2”。

我自己仍然无法弄清楚谷歌日历。

# javascript - 通过 JS 代码禁用元素 - 不工作

> ID：14496816
> 
> 赞同：1
> 
> 时间：2013-01-24T08:25:00.227
> 
> 标签：javascript, jquery, html, jquery-mobile

我有两个单选按钮，单击其中一个我将允许下面的输入，然后单击另一个我允许第二个输入。

这是我的HTML：

```
 <fieldset data-role="controlgroup">
                <input onclick="ChangeChoise(1);" type="radio" name="radio-choice" id="radio-choice-1" value="choice-1" checked="checked" />
                <input  id="Input1"/>
                <input onclick="ChangeChoise(2);" type="radio" name="radio-choice" id="radio-choice-2" value="choice-2" />
                <input disabled="disabled"  id="Input2"/>
</fieldset> 
```

起初第二个输入未启用，通过单击输入运行以下功能：

```
var ChoseDiv = 1;
function ChangeChoise(NumChoise) {
    if (ChoseDiv == NumChoise)
        return;
    else
        if (NumChoise == 1) {
            $('#MyInput2').attr('disabled', 'disabled');
            $('#MyInput1').attr('disabled', '');
        }
        else {
            $('#MyInput1').attr('disabled', 'disabled');
            $('#MyInput2').attr('disabled', '');
        }
    ChoseDiv = NumChoise;
} 
```

**它不起作用**

我也尝试过这种方式：`$('#MyInput2').removeAttr('disabled');`它没有用..

我错过了什么？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:29:55.437

jQuery Mobile 具有启用/禁用功能：

```
$('#Input1').textinput('disable');
$('#Input2').textinput('enable'); 
```

这是一个工作示例：http: [//jsfiddle.net/Gajotres/5N3vL/](http://jsfiddle.net/Gajotres/5N3vL/)

这是官方文档：http: [//jquerymobile.com/demos/1.2.0/docs/forms/search/methods.html](http://jquerymobile.com/demos/1.2.0/docs/forms/search/methods.html)

# php - 我需要一个简单的 PHP 正则表达式来匹配括号序列和其中的任何字符

> ID：14496818
> 
> 赞同：-1
> 
> 时间：2013-01-24T08:25:12.070
> 
> 标签：php, regex

我似乎无法弄清楚这个简单的事情。

基本上我有这样的条目：

```
Bree@email.com (Bree Olsen)
(Daisy Marie) +015487572
etc 
```

我只需要使用实际地址或电话号码。因此我需要删除`(any)`字符串的一部分。

请指教

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:28:27.757

`$parenthesesContentRemoved = preg_replace('/\(.*\)/', '', $content);`

这应该可以解决问题..

或者..`$parenthesesContentRemoved = preg_replace('/\s?\(.*\)\s?/', '', $content);`

这也应该删除括号周围的空格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:31:50.357

```
/^(.*)\([^)]*\)(.*)$/$1$2/ 
```

解释：

*   ^ 锚定开始，
*   (.*) 第 1 组中的任意字符系列
*   一个左括号 (
*   除右括号 [^)]* 以外的任何字符序列
*   右括号
*   第 2 组中的任何一系列字符

# css - 将 div 向左拉伸到无穷大

> ID：14496819
> 
> 赞同：2
> 
> 时间：2013-01-24T08:25:19.850
> 
> 标签：css, infinity

我希望`<h2>`标签将背景拉伸到浏览器窗口的左侧，但似乎无法做到。任何人都可以帮忙吗？

jsfiddle在这里：[jsfiddle.net/4fm8x/20](http://jsfiddle.net/4fm8x/20)

包装器 div 用于在较大分辨率的屏幕上居中页面。如果可能的话，我想保持这个中心。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:20:34.373

一旦您的 div 位于较小的父级中，就很难将其拉伸到浏览器边框。应该做的是使用整个空间，然后将每个项目居中（h2除外）。您需要在 h2 内有一个额外的跨度来保存实际内容。

缩小版：

```
<div id="wrapper">
    <h2><span>This is a header/title</span></h2>
    <p>This is the text.</p>
</div> 
```

和

```
p {
    width:500px;
    margin:0 auto;
}

h2 {
    width:50%;
    overflow: hidden;
    background: #FF8C00;
}

h2 span {
    width: 250px;
    float: right;
} 
```

或以您的风格：http: [//jsfiddle.net/YW2ce/](http://jsfiddle.net/YW2ce/)

# c# - 在项目中使用降价

> ID：14496820
> 
> 赞同：0
> 
> 时间：2013-01-24T08:25:19.943
> 
> 标签：c#, markdown

我非常不熟悉 Mark down 以及如何将其应用于 Web 表单项目，我希望得到一些建议。

我有一个基本的文本框，多行文本框，我希望能够通过输入来应用降价，例如**粗体**或*斜体*。我在我的项目中添加了 MarkdownSharp.dll 作为参考。

我当时正在考虑在我的表单中添加一个标签，我想用它以 Web 格式显示降价。例如，我将如何做呢？基本上，它需要与我正在编写的这个文本框类似的功能。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:10:34.893

You can use the [PageDown](https://code.google.com/p/pagedown/wiki/PageDown) plugin. Which is based on the Markdown code used here in Stackoverflow.

# ios - 我的代码抛出 Exception Unrecognized selector sent

> ID：14496831
> 
> 赞同：0
> 
> 时间：2013-01-24T08:25:53.687
> 
> 标签：ios, nsstring, sbjson

这是我用来通过 SBJson 解析获取字符串的代码：

```
NSMutableArray *abc=[jsonData valueForKey:@"items"];

NSString *imgStr=(NSString *)[abc valueForKey:@"image"];
NSLog(@"%@",imgStr); 
```

这里是 abc`NSMutableArray`

它抛出的异常是

```
> -[__NSArrayI stringByReplacingOccurrencesOfString:withString:]: unrecognized selector sent to instance 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:42:04.643

在第一行中，您声明`abc`为`NSMutableArray`

在第二行中，您尝试将其作为`NSDictionary`.

在你的情况下（我在这里猜），我希望你有一个项目数组，每个项目都是一个带有“图像”键的字典。

所以要得到你的第一个项目，你可能会使用

```
 NSDictionary* firstItem = [abc objectAtIndex:0]; 
```

然后你可以从中提取你的图像：

~~NSString *imgStr=(NSString *)[firstItem valueForKey:@"image"];~~ ¹

```
 NSString *imgStr = [abc objectForKey:@"image"]; 
```

¹见@Stig 的评论

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T11:26:02.680

您的代码有几个问题：

1.  对于 NSArray，`valueForKey:`返回另一个数组。无论您的演员如何，它都*不会返回 NSString。*您需要获取对数组中第一个条目的引用，然后调用`objectForKey:`它。

2.  您正在使用 NSKeyValueCoding 方法`valueForKey:`，您可能打算使用 NSDictionary 方法`objectForKey:`。对于字典，它们大致可以互换，但如果你使用过`objectForKey:`，你会得到一个易于理解的错误，即无法调用`objectForKey:`数组。**仅在您确实需要键值编码语义时****使用。`valueForKey:`**

3.  您几乎*不需要*`id`在 Objective-C 中进行转换。您只是以这种方式隐藏错误。（在这种情况下它可能会或可能不会隐藏您的问题，但它肯定更丑陋，不正确（因为您试图将数组转换为字符串）并且只是愚弄您认为您有一个字符串，因为转换没有失败。）

你可能打算写这样的东西：

```
NSArray *abc = [jsonData valueForKey:@"items"];
NSDictionary *entry = [abc objectAtIndex:0];    
NSString *imgStr = [entry objectForKey:@"image"];
NSLog(@"%@", imgStr); 
```

# extjs - 清除和刷新ext js中链接组合框中的值

> ID：14496837
> 
> 赞同：0
> 
> 时间：2013-01-24T08:26:17.773
> 
> 标签：extjs, combobox

我在 ext js 中创建了两个链接的组合框，使用 json/ajax/php 获取数据。当在第一个组合框中选择一个值（汽车制造商）时，第二个组合框会使用该制造商下的模型进行自我更新，例如在第一个组合中选择 toyota 将使用 avensis、corolla、premio、ist 等值更新第二个组合框.

第一的。遇到的问题是，当我在第一个组合中选择一个项目时，例如“toyota”，然后在第二个组合中选择例如“avensis”，然后更改为另一个制造商，例如梅赛德斯奔驰。如果梅赛德斯在其下方有模型，例如 C200、E500 等，它们将显示在第二个组合中，但之前选择的值 'avensis' 仍然保留在第一个组合中选择的值。如何清除该值？

第二。如果我返回的 json 没有值，则第二个组合值不会改变。如果返回的 json 具有空值，如何使第二个组合为空？这是我的代码片段：

```
xtype: 'combo',
                name: 'auto_make',
                id: 'auto_make',
                fieldLabel: 'Auto Make',
                store: auto_make_store,
                queryMode: 'local',
                displayField: 'name',
                valueField: 'id',
                listeners: {
                    "select": function(obj){ 
                        var makeid = obj.getValue();// value of selected combo item

                        Ext.Ajax.request({
                            url: '../includes/dhx_dataview.php?action=15&mk='+ makeid +'&sc=' + subid + '&ac=' + cat,
                            success: function (response) {
                                var data = Ext.decode(response.responseText).models;
                                auto_model_store.loadData(data);
//Do I clear/ refresh second combo here? How?
                            }
                        });
                    }

                } 
```

Thnx 和 rgds。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:36:28.363

你可以尝试这样的事情 - 这将重新加载你的组合框

```
{
 xtype: 'checkbox',
 //configs
 listeners : {
     checked : function (checkbox, checkedBool) {
     var yourCombo = Ext.getCmp(yourComboID);

     yourCombo.store.reload(
              {   
                 params: 
                     {yourParam : checkedBool},
                     {yourRowID : rowID}
                });
      }
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T11:41:13.300

您可以尝试将**[forceSelection: true](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.form.field.ComboBox-cfg-forceSelection)**添加到您的组合框。这将要求所选值存在于绑定存储中。

# sql - SQL - 在同一个表中复制数据并增加版本

> ID：14496838
> 
> 赞同：1
> 
> 时间：2013-01-24T08:26:17.460
> 
> 标签：sql, sql-server, select, insert, ssis

我将**MS SQL**与**SSIS**结合使用，我需要为给定的 DocumentID 复制和粘贴表的行（源和目标**相同**的表），同时*增加*“subversion”列。

**例子：**

```
DocumentID=123 | Location=a | Version=2 |Subversion=4
DocumentID=123 | Location=b | Version=2 |Subversion=4
DocumentID=123 | Location=c | Version=2 |Subversion=4 
```

**复制后：**

```
DocumentID=123 | Location=a | Version=2 |Subversion=5
DocumentID=123 | Location=b | Version=2 |Subversion=5
DocumentID=123 | Location=c | Version=2 |Subversion=5 
```

在 SSIS 中，我已经增加了 max(Subversion)（在示例中从 4 到 5）。我需要的是一个选择/插入语句来复制数据。

由于该表有大约 150 列，我希望找到一种不列出所有列的方法，但如果可能的话，我找不到任何信息。

我尝试将 Insert into 与 Select 结合使用，但它总是以错误结尾（聚合问题）。

```
 Insert Into MyTable (AllMyColumns)
  select (AllmyColumns)
  from MyTable
  where DocumentID =123 AND ... 
```

我需要如何构建这个语句？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:39:27.580

既然您说您需要`insert into select`尝试一下，然后根据需要添加条件..

```
INSERT INTO table1(docid, location, version, subversion)
SELECT  (docid, location, version, subversion)
FROM    table1
; 
```

为了给出更好的答案，您可能至少需要显示您当前的查询以及增量的机制，表模式......我什至可以假设你已经在这一步......

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T09:32:44.347

我认为以下解决方法会对您有所帮助。

```
--Move incremental rows to the #temp table
Select * into #temp from MyTable where DocumentID=123 and ......

Declare @version varchar(20)

Select @version = Max(SubVersion) from #temp

--To increment the value
set @version='Subversion='+Cast(Substring(@version,charindex('=',@version)+1,len(@version)) as int)+1

--To update the value into temp
update #temp set SubVersion=@version

--Now insert into your table
insert into MyTable
Select * from #temp

--drop the temp table
drop table #temp 
```

希望这可以帮助

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-24T08:39:55.283

如果您的源列和目标列的顺序相同，那么只需执行以下操作：

```
INSERT INTO MyTable
SELECT *
FROM MyTable
WHERE DocumentID =123 AND ... 
```

# iphone - 如何在iphone横向模式下删除UITableview滚动中的空白？

> ID：14496842
> 
> 赞同：2
> 
> 时间：2013-01-24T08:26:24.403
> 
> 标签：iphone, objective-c, uitableview, scroll, landscape

在我的**tableview**中，我禁用了**纵向**模式下的默认滚动。但是当方向变为**横向**模式时，我启用了滚动，以便我可以查看表格的全部内容。但是，当滚动时，表格视图单元格之前和之后的**空白区域是可见的。**那么，谁能告诉我如何在横向模式下删除表格默认滚动视图中的这个空白？我尝试使用**autoresizingmask**，并尝试根据横向模式**设置表格的内容大小。**两者都没有工作，这是我到目前为止的代码。

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation

{

    // Return YES for supported orientations

    return (interfaceOrientation != UIInterfaceOrientationPortraitUpsideDown);

  }

-(void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation {

if((self.interfaceOrientation == UIDeviceOrientationLandscapeLeft) || (self.interfaceOrientation == UIDeviceOrientationLandscapeRight)){

        self.tableView.scrollEnabled = YES;

        self.tableView.sectionIndexMinimumDisplayRowCount =5;

       self.tableView.contentSize = CGSizeMake(480, 320);

        self.tableView.autoresizingMask = YES;

       //CGFloat cellHeight;}

    else if((self.interfaceOrientation == UIDeviceOrientationPortrait) || (self.interfaceOrientation == UIDeviceOrientationPortraitUpsideDown)){

        self.tableView.scrollEnabled = NO;

        }
  } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-24T08:41:32.023

在 didRotateFromInterfaceOrientation 方法中试试这个，

```
[self.tableView setBounces: NO]; 
```

它阻止滚动弹跳并删除空白。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:39:43.523

将单元格分隔符设置为无并将背景颜色设置为 clearColor。确保将 scrollView 样式设置为默认值。

# php - php中会话之间的共享数据（缓存）

> ID：14496845
> 
> 赞同：1
> 
> 时间：2013-01-24T08:26:38.893
> 
> 标签：php, caching, memcached, ram

我需要将不同用户之间的数据（因此不同的会话）存储到 RAM 中，以加速用 PHP 编写的 Web 应用程序（数据库和文件系统不是一个选项）。

我一直在谷歌搜索几天，没有任何运气。我听说过**memcached**和**apc**，但我真的不知道它们是否适合我或者如何使用它。

我还需要这个数据结构是线程安全的（没有竞争条件和数据不一致）。

用例：我有一个`getById($id)`返回类实例的静态工厂函数。我需要这个函数首先检查实例是否存在，如果存在，则返回它或创建一个新的填充数据库中的数据的函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:42:10.810

Memcached 是分布式缓存，缓存在 memcached 上的数据在远程服务器上，而且 Memcached 提供 CAS 锁（乐观锁），你可以用它来做你的线程安全应用：

1.  $value = $memcached->get($key, NULL, $cas);
2.  业务流程；
3.  $ret = $memcached->cas($cas, $key, $value, $exp);
4.  “cas”方法将“成功时返回 TRUE，失败时返回 FALSE。如果您尝试存储的项目自上次获取后已被修改，则 Memcached::getResultCode() 将返回 Memcached::RES_DATA_EXISTS。”

但是，APC是本地缓存，它通过共享内存实现，是否线程安全我不知道

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-05T14:31:36.593

memcached 或 memcache 的问题在于它只是 php 上的客户端模块。您还需要安装服务器应用程序并在那里连接。因此，您可以使用任何其他数据库或文件。最快的解决方案将是共享内存[http://php.net/manual/en/book.shmop.php](http://php.net/manual/en/book.shmop.php) 但再次启用它“使用配置行中的 --enable-shmop 参数编译 PHP”，因此没有数据库和访问php检查**fopen**和**flock**函数

# c# - lambda 中的 SQL 'IN' 运算符

> ID：14496848
> 
> 赞同：1
> 
> 时间：2013-01-24T08:26:40.633
> 
> 标签：c#, lambda

开发者。得到下一个快速问题。

这是关于良好实践的。

```
ListA.Where(x => (x.Name == "James Bond") || (x.Number == "007" || x.Number == "7")); 
```

我正在寻找 007 或 7 号的詹姆斯邦德或特工。

//一些乐趣

好吧，在这个例子中，我只寻找 2 个数字。lambda 表达式中是否有类似于 SQL 中的 IN 运算符的方法？

IE

```
string[] nums = {"007","7"};
ListA.Where(x => (x.Name == "James Bond") || (x.Number.Contains(nums)); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T08:31:11.057

```
string[] nums = {"007","7"};
ListA.Where(x => (x.Name == "James Bond") || (nums.Contains(x.Number)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-24T08:31:19.617

```
ListA.Where(x => (x.Name == "James Bond") || nums.Contains(x.Number)); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-24T08:35:06.677

尝试这个

```
ListA.Where(x => (x.Name.Equals("James Bond")) || nums.Contains(x.Number)); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-24T08:35:17.530

```
string[] nums = {"007","7"};//Array of numbers to be checked

ListA.Where(x => (x.Name == "James Bond") || (nums.Contains(x.Number); 
```

# bash - 如何理解“echo ${ALL%.*}”？

> ID：14496850
> 
> 赞同：1
> 
> 时间：2013-01-24T08:26:44.640
> 
> 标签：bash

代码：

```
#! /bin/bash 

ALL="hello.log"
echo ${ALL%.*} 
```

我知道 "hello" 会显示，但是如何理解**"${ALL%.*}"**？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:30:53.753

`{ }`用于扩展，`%.*`用于`ALL`从句号开始从回显中删除变量中包含的所有字符。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:48:05.513

让我们分解一下；

```
${ALL%.*} 
```

*   `${ }`- 使用[参数扩展](http://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html)。
*   `ALL`- 变量的名称。
*   `%`- 从字符串末尾删除开头（RHS）（非贪婪）。
*   `.*`- 模式匹配表达式；一个文字点，后跟任何字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:35:14.073

这是一个*参数扩展*。它记录在手册的相应部分中，您可以通过键入来查看`man bash`。搜索`${parameter%word}`。

# android - 通过 fileUri 检索 jpg 图像

> ID：14496858
> 
> 赞同：1
> 
> 时间：2013-01-24T08:27:21.097
> 
> 标签：android, android-layout, android-intent, android-emulator, android-widget

我需要一些帮助。我想知道是否有办法从 fileUri 中检索 jpg 照片对象。

我基本上正在使用一个 API，其中所需的参数是照片对象 (jpg)。我不需要显示或显示任何缩略图等。

只需将 jpg 文件传递​​给 API。

一些示例代码将有很大帮助！

请协助:) 谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T10:18:34.650

不了解您的 API，但如果您可以传递位图，那么您可以使用它 -

```
public static Bitmap getImagefromURL(String url) {
    HttpURLConnection connection  = (HttpURLConnection) url.openConnection();
    InputStream is = connection.getInputStream();
    Bitmap img = BitmapFactory.decodeStream(is);  
    return img;
 } 
```

然后你可以将位图转换成jpg... [bmp to jp](https://stackoverflow.com/questions/12144941/memory-efficient-android-jpeg-conversion)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:21:58.207

检索位图格式的图像将位图转换为字节数组通过编码将字节数组转换为base64字符串。

在 api 中传递字符串。服务器需要将其解码回图像文件。

# python - How to Beautiful Soup (bs4) 只匹配一个，而且只匹配一个，css 类

> ID：14496860
> 
> 赞同：4
> 
> 时间：2013-01-24T08:27:41.300
> 
> 标签：python, web-scraping, beautifulsoup

我正在使用以下代码来匹配所有具有 CSS 类“ad_item”的 div。

```
soup.find_all('div',class_="ad_item") 
```

我遇到的问题是，在该网页上，还有 div 将 CSS 类设置为“ad_ex_item”和“ad_ex_item”。

```
<div class="ad_item ad_ex_item"> 
```

[在文档中指出：](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class)

> 当您搜索与某个 CSS 类匹配的标签时，您将匹配其任何 CSS 类：

那么如何匹配只有“ad_item”而没有“ad_ex_item”的 div。

或者换句话说，如何搜索只有 CSS 类 "ad_item" 的 div ？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-25T06:48:32.880

我找到了一种解决方案，虽然它与BS4无关，但它是纯python代码。

```
for item in soup.find_all('div',class_="ad_item"):
     if len(item["class"]) != 1:
         continue; 
```

如果有多个 CSS 类，它基本上会跳过项目。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2018-02-27T23:06:05.377

您可以使用这样的严格条件：

```
soup.select("div[class='ad_item']") 
```

`div`与确切的课程相得益彰。在这种情况下，只有`'ad_item'`空间类加入，没有其他人加入。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-06-09T13:40:23.417

您可以将 lambda 函数传递给`find`和`find_all`方法。

```
soup.find_all(lambda x:
    x.name == 'div' and
    'ad_item' in x.get('class', []) and
    not 'ad_ex_item' in x['class']
) 
```

这`x.get('class', [])`将避免没有属性的标签的`KeyError`异常。`div``class`

如果您需要排除多个类，您可以将最后一个条件替换为：

```
 not any(c in x['class'] for c in {'ad_ex_item', 'another_class'}) 
```

如果你想排除一些你可以使用的类：

```
 not all(c in x['class'] for c in {'ad_ex_item', 'another_class'}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T09:30:38.860

您是否尝试使用`select`：[http ://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#css-selectors)

```
soup.select(".add_item") 
```

不幸的是，似乎`:not`不支持 CSS3 的选择器。如果您真的需要这个，您可能需要查看[lxml](http://lxml.de)。它似乎支持它。见[http://packages.python.org/cssselect/#supported-selectors](http://packages.python.org/cssselect/#supported-selectors)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T15:18:45.333

您始终可以[编写一个与您想要的标签匹配的 Python 函数，](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function)并将该函数传递给 find_all()：

```
def match(tag):
    return (
        tag.name == 'div'
        and 'ad_item' in tag.get('class')
        and 'ad_ex_item' not in tag.get('class'))

soup.find_all(match) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-06-14T16:39:54.770

最佳答案是正确的，但如果您想要一种方法来保持 for 循环干净或喜欢单行解决方案，请使用下面的列表理解。

```
data = [item for item in soup.find_all("div", class_="ad_item") if len(item["class"]) == 1] 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2013-01-24T08:50:52.953

```
soup.fetch('div',{'class':'add_item'}) 
```

# google-drive-api - 为什么我的云端硬盘和在线版本的硬盘在 Google Drive 中会不一样？

> ID：14496864
> 
> 赞同：0
> 
> 时间：2013-01-24T08:27:45.730
> 
> 标签：google-drive-api

为什么我的云端硬盘和在线版本的硬盘在 Google Drive 中会不一样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T21:32:22.230

在线 Drive UI 和已安装的应用程序之间存在一些同步问题。它们通常会在一段时间后同步。

# google-apps-script - 电子表格中的 GOOGLECLOCK() 几点钟了？

> ID：14496867
> 
> 赞同：0
> 
> 时间：2013-01-24T08:27:56.123
> 
> 标签：google-apps-script, google-sheets, formula, google-apps

您好，电子表格中的 GOOGLECLOCK() 几点钟了？

我从文档中知道 GoogleClock “根据您的计算机系统返回当前日期和时间”（引用）。

但是当电子表格由时间驱动的触发器在客户端打开时呢？GoogleClock() 会是几点？

如果有人有任何想法，请分享。非常感谢您的关注。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T01:54:04.037

快速且易于测试。这将说明文档令人困惑，并且可能是错误的。*（不过是在网上，所以一定是真的！）*

1.  将单元格 A1 中的公式设置为`GoogleClock()`。

2.  输入测试脚本。这只是读取 A1 中的值，并将其写入 A2。

3.  将基于时间的触发器设置为在已知时间触发一次。

4.  关闭您的电子表格，只留下触发器使用它。

5.  触发器运行后返回电子表格，并检查结果。

在它触发之后，您会看到 A2 = A1，至少直到 A1 像每分钟一样发生变化。我认为文档可能意味着时间将根据您计算机的时区和语言环境显示；但它不是从您的计算机上读取时间。所以时钟的实际来源与`Today()`函数的来源相同；它正在执行的服务器。

```
function testGoogleClock () {
  var curGClock = SpreadsheetApp.getActiveSheet().getRange("A1").getValue();
  SpreadsheetApp.getActiveSheet().getRange("A2").setValue(curGClock);
} 
```

作为进一步的实验，更改 PC 上的时间；让它休息10分钟，说。查看您的电子表格，并注意`GoogleClock()`打勾。无论您的 PC 设置为什么，它都能保持网络时间。

接下来，更改 PC 的时区。检查`GoogleClock()`。您会发现它与时区更改不匹配......仍然保持网络时间，无论您的 PC 设置为什么。

电子表格设置呢？将它们更改为不同的时区，您会发现`GoogleClock()`它与之匹配。

文档应该说..

> 根据计算机系统返回***当前日期和时间。***

或者，为了与`Now()`...的文档保持一致

> 返回计算机系统时间和日期。每分钟自动更新（与 NOW 功能不同）。

PS：在这些实验之后修正你的时间设置！

# php - 在 php 中将标头 Access-Control-Allow-Origin 添加到 XMLHttpResponse

> ID：14496874
> 
> 赞同：0
> 
> 时间：2013-01-24T08:28:30.533
> 
> 标签：php, xmlhttprequest

我正在向用 php 编写的服务器发送 XHR 请求，它工作正常。但在某些跨域来源不允许加载和处理来自服务器的响应。它正在抛出错误

```
XMLHttpRequest cannot load http://mydomain/getInfo?blabla. Origin http://www.somedomain.com is not allowed by Access-Control-Allow-Origin. 
```

那么如何在 php 的响应标头中设置 Access-Control-Allow-Origin 呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:36:12.903

你可以像下面这样说：

```
header('Access-Control-Allow-Origin: *'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:50:31.423

如果您的 JavaScript 在 example.com 上运行，并且您请求的服务器在 example.net 中。确保它允许您的 js 通过此标头运行的页面

```
Access-Control-Allow-Origin: http://example.com/ajax.html 
```

您还需要将`Origin`标头从 ajax 发送到服务器

```
Origin: http://example.com/ajax.html 
```

有关[HTTP 访问控制 (CORS)的更多信息](https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS)

# android - 在 BroadcastReceiver 的 onReceive() 方法中创建 Toast

> ID：14496876
> 
> 赞同：2
> 
> 时间：2013-01-24T08:28:40.327
> 
> 标签：android, broadcastreceiver, toast

您可能知道，BroadcastReceiver 类的 onReceive() 方法的文档说：

> 当它在主线程上运行时，您永远不应该在其中执行长时间运行的操作（在考虑接收器被阻塞和候选者被杀死之前系统允许的超时时间为 10 秒）。您不能在 onReceive() 的实现中启动弹出对话框。

当我收到广播时，我想向用户显示 Toast，但我不确定 Toast 是否被视为“弹出对话框”，或者只有 Dialog 类中的对象是它们所指的对象。

我已经看到了许多在此函数中使用 Toast 的代码示例，但我不确定这是否是不好的做法，或者它是否会对性能产生很大的影响。

我想知道的是我是否应该在这个函数中创建一个 Toast，如果不是，那么我应该怎么做（扩展 Toast 然后使用一个意图来调用它？）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-24T08:32:08.213

Toast 不被视为弹出对话框。它被认为是一种通知方法，类似于通知栏中的通知。许多应用程序在 BroadcastReceivers 中使用它，包括我自己的。迄今为止，我从未见过任何设备上显示 Toast 对性能的影响。

您应该可以很好地显示来自 BroadcastReceiver 的 Toast。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T08:36:45.010

使用 a `Toast`from a是完全安全的`BroadcastReceiver`。

但是要小心，`Toast`如果在应用程序的上下文之外显示 a 会被认为是侵入性的 - 如果从`BroadcastReceiver`.

为了获得更好的用户体验，请使用[Notification](http://developer.android.com/reference/android/app/Notification.html)。

# wpf - 处理 WPF 用户控制和内存管理

> ID：14496879
> 
> 赞同：1
> 
> 时间：2013-01-24T08:28:46.023
> 
> 标签：wpf, datagrid, memory-leaks, idisposable, red-gate-ants

我创建了一个自定义数据网格控件，该控件继承自 WPF 中的 wpf 数据网格控件。

因此，当用户查询数据库时，数百条记录返回，每条记录有 15 到 20 列。

我相信当我控制屏幕时，分配给该屏幕及其网格的所有内存都应该由 GC 回收。但这种情况并非如此。

我在 Red Gate 的 Memory Profiler 中测试我的应用程序，当我打开屏幕时它显示分配给它的 30 mb 内存。

但是当我关闭此屏幕时，应用程序仍以某种方式保留该内存，当我在 ant 内存分析器中查看原因时，它显示由于我的自定义数据网格，我的屏幕实例仍在内存中。

我已将卸载事件添加到我的用户控件并分离我在此过程中附加的所有事件处理程序。

我错过了什么，我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:35:07.830

您不必处理 UserControl，并且您可能不应该构建 IDisposable UserControl。那是设计的味道。内存分析器可以告诉您*为什么*应用程序仍然保留该内存，然后您必须修复该错误。

**更新：**

要找出谁在 ANTS 中实际持有该内存，您可以使用[Instance Retention Graph](http://www.red-gate.com/products/dotnet-development/ants-memory-profiler/features/instance-retention-graph)功能。在 .NET Memory Profiler（我更喜欢 ANTS）中，它被称为[Root Path](http://memprofiler.com/findmemoryleaks.aspx)。

# java - 向android项目添加不同的外部jar

> ID：14496883
> 
> 赞同：1
> 
> 时间：2013-01-24T08:28:59.520
> 
> 标签：java, android, eclipse, jar, external

我之前已经在 stackoverflow 上看到过与此类似的问题，但我一直无法找到解决我的特定问题的方法。我想要做的是将多个外部 jar 文件添加到我可以在 eclipse 或命令行中构建的 android 项目中，并将 jar 文件捆绑到 apk 中，以便程序可以在设备上正确运行。

我发现，如果我只是通过将所有外部 jars 放入 .classpath 文本文件中并将它们声明为导出来将它们添加到我的项目中，那么虽然我的程序编译得很好，但生成的 apk 不包含 jar 文件，并且在设备上运行它会导致 noclassdeffounderror。

[2694392](https://stackoverflow.com/questions/2694392)答案中的解决方案对我来说真的不起作用，因为如果我必须将 jar 文件放在项目自己的 libs 目录中，那么我最终将与如何设置源代码控制树进行斗争......加上, 不得不手动将 jar 文件复制到本地文件夹中，我已经尝试说它是外部的，这很烦人。理想情况下，构建系统应该将任何外部 jar 文件复制到运行时希望它们全部单独存在的位置。我。实际上，我的问题似乎与问题[5312478的海报最相似](https://stackoverflow.com/questions/5312478)，但是如果我必须重载 jar.libs.dir 的值以引用我可能保存 jar 文件的位置，正如该问题的答案中所建议的那样，那么我无法轻松地从不同的目录导入不同的 jar 文件。

我有一个普遍的感觉，将所有外部 jar 从它们的必要位置复制到必要的 libs 文件夹作为完全打包 apk 之前的一个阶段可能就足够了，但是作为一个 ant 的新手，我是不确定到底要在 custom-rules.xml 文件中放什么，这样脚本本身就不必具体知道我想要包含哪些 jar（即，它们都列在单个属性或其他东西中）

非常感谢您提供的任何帮助。

*编辑：虽然当然非常感谢所有有帮助的尝试，但我鼓励那些可能正在考虑用类似于在stackoverflow上其他地方回答的内容来回答这个问题的人简要地重新阅读上面为什么我提到的类似问题的答案以上并不完全适用于我的问题。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:48:57.903

将您的 jar 文件放在 libs 文件夹下，Android 开发者工具将完成剩下的工作。

将 jar 文件放入库后，清理并构建项目。您应该能够在您的 java 程序中使用您的类。

# loops - Arduino Serial.println 奇怪的错误

> ID：14496886
> 
> 赞同：0
> 
> 时间：2013-01-24T08:29:27.017
> 
> 标签：loops, button, serial-port, arduino

我正在尝试 arduino 并编写了一些带有状态开关的按钮。如果它是“开”的，那么它会变成“关”，反之亦然。

```
#include <Bounce.h>

const int buttonPin = 2;     
const int ledPin =  6;      

int ledState = HIGH;     
int a = LOW;            
int b = LOW;  
Bounce push1 = Bounce( buttonPin,5 );

void setup() {
  pinMode(buttonPin, INPUT);
  pinMode(ledPin, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  push1.update ( );
  int x = digitalRead(push1.read());
  if (x != b) {
    if (x == HIGH) {
      if (a == HIGH) {
        a = LOW;
        }
        else {
          a = HIGH;
        }
  }
  else {
    }
  }

digitalWrite(ledPin, a);
Serial.println(a);  // Weird thing
b = x;
} 
```

它工作得很好，但奇怪的是，当我编程时，我添加了一些串行打印来监视通过 COM 的输出。然后在一切正常之后我想消除`Serial.println(a);`但它不起作用！

循环根本不响应我的按钮按下。我错过了什么吗？什么可能导致这种事情？也许我错过了什么，所以新鲜的眼睛会很棒:)

**非常感谢！**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:50:18.270

您正在通过调用 读取按钮的状态`digitalRead(push1.read())`。

这几乎肯定是不正确的（但我没有使用 Bounce 库）。`push1.read()`正在读取按钮的状态，大概是 HIGH (0x1) 或 LOW (0x0)。然后，此按钮状态值被用作在对 的调用中读取的引脚`digitalRead`。因此，在我看来，您正在读取引脚 0 或 1 的状态，而不是按钮所在的引脚 2。如果我没记错引脚 0 和 1 是硬件串行端口。

改变：

```
int x = digitalRead(push1.read()); 
```

到：

```
int x = push1.read(); 
```

看看是否效果更好。

我怀疑这`Serial.println(a)`是一个红鲱鱼，它肯定会起到延迟的作用。串行端口和您的代码之间可能会发生奇怪的交互，因为我相信您正在`x`从串行端口而不是按钮读取“按钮状态”（）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T14:22:36.570

mttrb 是正确的

```
int x = digitalRead(push1.read()); 
```

是问题的根源。可以在[Arduino 的图书馆网页上](http://playground.arduino.cc/code/bounce)看到，它的示例最初可能是错误的。

```
digitalWrite(LED, bouncer.read()); 
```

值得注意的是，虽然

```
int x = push1.read(); 
```

根据图书馆代码，只是定期读取 digitalread(buttonPin); 没有多少真正的好处。通常对哪些地方更有利

```
if (push1.fallingEdge()) {
... 
```

注意falling/risingEdge() 函数是有状态的，并且这些成员函数清除状态变化。以便相应地标记新边缘以供读取。

# wadl - 可视化 WADL 编辑器

> ID：14496892
> 
> 赞同：8
> 
> 时间：2013-01-24T08:30:15.307
> 
> 标签：wadl

WADL 接缝成为注释 REST 服务的更好（轻量级）方式。

我的问题：您知道创建和管理 WADL 规范的可视化工具（在线、Eclipse 插件或其他）吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-20T01:12:19.547

我很惊讶上面的答案被接受了，它们只是验证 WADL 的工具的链接，而不是创建它。Altova 的 XMLSpy 确实有很好的可视化**WSDL**编辑器，但没有**WADL**选项。您只能在此处将其作为普通 XML 进行编辑，但您只能获得普通的 XML 编辑器。

我发现最接近可视化 WADL 编辑器的是这个 Eclipse 插件：

[http://www.myeclipseide.com/module-htmlpages-display-pid-10.html](http://www.myeclipseide.com/module-htmlpages-display-pid-10.html)

您可以在下面的图片中看到您有一个用于定义服务的可视化编辑器，然后它会生成 Jersey REST 服务......您可以从中获取 WADL。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-25T11:17:02.123

我发现[SOAPUI](http://www.soapui.org/REST-Testing/getting-started.html)非常适合编辑 WADL 定义和创建 API 契约（并且可以为 WSDL 做同样的事情）。

虽然它不像 xmlspy 那样可视化；它的结构化方法对于建立 WebService“合同”要好得多。然后可以选择使用它来创建测试用例和服务模拟。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-25T10:53:03.763

对于在线，我用它来验证 WADL 并取得了良好的效果。 [http://www.utilities-online.info/xsdvalidation/](http://www.utilities-online.info/xsdvalidation/)

您可以在此处从 W3C 站点获取 WADL 的 XSD：http: [//www.w3.org/Submission/wadl/wadl.xsd](http://www.w3.org/Submission/wadl/wadl.xsd)

在线工具非常易于使用。您的 WADL 位于左侧窗格中，而 XSD 位于另一个窗格中。验证需要一段时间，因此您可能需要稍微哄一下您的浏览器......

我还针对同一个 XSD 使用了 oXygen，并且会通过在线工具推荐它。它会在您键入时进行检查，因此如果您正在创作大量 WADL，那么许可证真的值得。 [http://www.oxygenxml.com/](http://www.oxygenxml.com/)

另一个可视化工具是 Altova 的 XML Spy。我已经有一段时间没有使用它了，但是他们有很多产品，值得考虑是否可以使用他们包中的其他工具，例如 diffdog 应该非常好。 [http://www.altova.com/xmlspy.html](http://www.altova.com/xmlspy.html)

最后，Netbeans IDE 得到了支持，但是运行 IDE 来编写 WADL 似乎有点矫枉过正。这不是轻量级的:-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-10T08:21:37.853

我还发现了这个 WADL 生成器，它还可以加载现有的 wadl 文件并创建 PHP、Ruby、PYTHON、Java 或 C# 类：

[http://tomayac.de/rest-describe/latest/RestDescribe.html](http://tomayac.de/rest-describe/latest/RestDescribe.html)

您也可以从这里下载源代码：

[http://blog.tomayac.com/index.php?date=2007-05-28&time=19:34:40&perma=Generate+Python+from+your+WADL+REST+API+Descriptions+with+REST+Describe+% 26+编译.html](http://blog.tomayac.com/index.php?date=2007-05-28&time=19:34:40&perma=Generate+Python+from+your+WADL+REST+API+Descriptions+with+REST+Describe+%26+Compile.html)

# java - 如何在 Java 中将大端字节缓冲区写入小端

> ID：14496893
> 
> 赞同：8
> 
> 时间：2013-01-24T08:30:19.207
> 
> 标签：java, bytebuffer, endianness

我目前有一个 Java ByteBuffer，它已经拥有 Big Endian 格式的数据。然后我想以 Little Endian 的形式写入二进制文件。

这是仍然在 Big Endian 中写入文件的代码：

```
 public void writeBinFile(String fileName, boolean append) throws FileNotFoundException, IOException
 {
     FileOutputStream outStream = null;
     try
     {
         outStream = new FileOutputStream(fileName, append);
         FileChannel out = outStream.getChannel();
         byteBuff.position(byteBuff.capacity());
         byteBuff.flip();
         byteBuff.order(ByteOrder.LITTLE_ENDIAN);
         out.write(byteBuff);
     }
     finally
     {
         if (outStream != null)
         {
            outStream.close();
         }
     }

 } 
```

请注意，byteBuff 是一个已经以 Big Endian 格式填充的 ByteBuffer。

我最后的手段是创建另一个缓冲区并将 ByteBuffer 设置为小端，然后从原始（大端）缓冲区读取“getInt”值，并将值“setInt”到小端缓冲区的蛮力方法。我想有更好的方法...

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-24T09:32:33.910

Endianess 对 byte[] 没有意义。Endianess 仅对多字节数据类型（如 short、int、long、float 或 double）有意义。获得正确字节序的正确时间是当您将原始数据写入字节并读取实际格式时。

如果你有一个 byte[] 给你，你必须解码原始数据类型并用不同的字节序重新编码它们。我相信你会同意这是 a) 不容易做到或理想 b) 不能自动完成。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-08-21T14:58:19.087

这是我解决类似问题的方法，希望得到我正在写入输出文件的整数的“字节顺序”正确：

```
byte[] theBytes = /* obtain a byte array that is the input */
ByteBuffer byteBuffer = ByteBuffer.wrap(theBytes);

ByteBuffer destByteBuffer = ByteBuffer.allocate(theBytes.length);
destByteBuffer.order(ByteOrder.LITTLE_ENDIAN);
IntBuffer destBuffer = destByteBuffer.asIntBuffer();

while (byteBuffer.hasRemaining())
{
    int element = byteBuffer.getInt();

    destBuffer.put(element);

    /* Could write destBuffer int-by-int here, or outside this loop */
} 
```

可能有更有效的方法可以做到这一点，但对于我的特殊问题，我必须在将元素复制到新缓冲区时对元素应用数学变换。但这仍然适用于您的特定问题。

# linux - 目录存在时 mkdir -p 失败

> ID：14496897
> 
> 赞同：34
> 
> 时间：2013-01-24T08:30:32.247
> 
> 标签：linux, shell, mkdir

当目录存在时，在我们的一个远程系统上`mkdir -p $directory`失败。这意味着它显示

> mkdir: 无法创建目录 '$directory' : 文件存在

这真的很令人费解，因为我相信`-p`当目录已经存在时，契约总是成功的。它适用于我尝试过的其他系统。

`test`所有这些系统上都有一个用户，并且`directory=/home/test/tmp`.

* * *

## 回答 #1

> 赞同：47
> 
> 时间：2013-01-24T08:33:34.737

如果目录中已经存在同名**文件，则可能会导致此问题。**

请注意，在 Linux 机器上，一个目录不能同时包含同名的文件和文件夹。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-24T08:35:09.603

检查是否有与 $directory 同名的文件（不是目录）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-24T14:30:19.687

如果同一目录中存在同名文件，则 mkdir -p 不会创建目录。否则它将按预期工作。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-12-14T20:29:34.890

您的目录是否是基于[FUSE](https://en.wikipedia.org/wiki/Filesystem_in_Userspace)的网络挂载？

除了**具有该名称的文件已经存在（其他答案）之外，当****曾经在此目录中安装某些内容的 FUSE 进程崩溃**（或被杀死，例如使用`kill -9`或通过 Linux OOM 杀手）时，可能会发生这种情况。

要详细了解发生了什么，请运行`strace -fy mkdir -p $directory`，它会显示所有涉及的系统调用及其返回值。

* * *

我认为在这种情况下发出的错误消息是`mkdir -p`（特别是`gnulib`库）中的错误：

当您在安装了 FUSE 进程但该进程崩溃的目录上运行它时，它会说

```
mkdir: cannot create directory ‘/mymount’: File exists 
```

这是相当不准确的，因为[底层`stat()`](http://git.savannah.gnu.org/cgit/gnulib.git/tree/lib/mkdir-p.c?id=a02a6f2e1dcad63999954bb72825a084800742ae#n152)调用返回`ENOTCONN (Transport endpoint is not connected)`；但`mkdir`会传播上一个 sycall 中不太具体[的`mkdir()`错误](http://git.savannah.gnu.org/cgit/gnulib.git/tree/lib/mkdir-p.c?id=a02a6f2e1dcad63999954bb72825a084800742ae#n130)。这更加令人困惑，因为手册页说：

```
 -p, --parents
          no error if existing, make parent directories as needed 
```

因此，如果目录存在，它不应该出错，但`ls -l /`显示：

```
d????????? ? ?    ?       ?            ? files 
```

所以根据这个（`d`），它*是*一个目录，但它不是根据`test -d`。

* * *

我相信更好的错误消息（`mkdir -p`在这种情况下应该发出）是：

```
mkdir: cannot create directory ‘/mymount’: Transport endpoint is not connected 
```

# ios - 单个 UIViewcontroller，如何在多个 xib 之间切换？

> ID：14496901
> 
> 赞同：6
> 
> 时间：2013-01-24T08:30:41.150
> 
> 标签：ios, objective-c, cocoa-touch, uiviewcontroller

我有一个子类`UIViewController`：

```
 @interface KBViewController : UIViewController 
```

有多个`xib`s，例如一个是a `Qwerty`，另一个是`Dvorak`layout：

```
 KBViewControllerQuerty~iphone.xib
 KBViewControllerDvorak~iphone.xib 
```

所以当用户点击一个按钮时，`Qwerty`就是切换到`Dvorak`. 如您所见，两种键盘布局的代码逻辑相同。我需要的是重新加载`view`另一个`xib`.

希望 中的所有按钮都`Dvorak` `xib`将成为响应`IBOutlet`中的 s 的钩子`KBViewController`。

`xib`在两个s之间切换的正确方法是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T10:19:46.770

所有 Nibs 都有指定的`File's Owner`. IBOutlet 和 IBAction 链接是基于`File's Owner`. 所以你可以定义一个视图控制器和两个 Nib，每个 Nib 文件都`File's Owner`设置为定义的视图控制器。

也就是说，如果您将`File's Owner`所有 KBViewController*.xib 文件设置为 KBViewController 并在某处有一个 KBViewController 对象，您可以通过`initWithNibNamed`方法加载所需的 KBViewController*.xib（重新创建视图控制器）

如果你应该一直保持相同的 KBViewController 对象，你可以创建一个没有 Nib 的 KBViewController 对象。在 KBViewController.m 中，使用方法实现`loadView`并手动加载 UIView 对象`-[NSBundle loadNibNamed]`（以编程方式加载和更改 self.view）。

```
UIView *someView = [[[NSBundle mainBundle] loadNibNamed:@"SomeNibFile"
                                                  owner:self
                                                options:nil] objectAtIndex:0];
self.view = someView; 
```

注意`owner:self`上面的代码。它必须与`File's Owner`@"SomeNib​​File" 匹配。

要更改已加载的视图：

```
id superview = self.view.superview;
[self.view removeFromSuperview];
UIView *someView = [[[NSBundle mainBundle] loadNibNamed:@"SomeNibFile"
                                                  owner:self
                                                options:nil] objectAtIndex:0];
self.view = someView;
[superview addSubview:self.view]; 
```

更详细的解释： [资源编程指南 - 以编程方式加载 Nib 文件](http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/LoadingResources/CocoaNibs/CocoaNibs.html#//apple_ref/doc/uid/10000051i-CH4-SW10)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:51:51.897

您可以手动加载您的 nib 文件并`view`分别更改视图控制器的属性或更改您想要的任何视图。

```
 UIView *someView = [[[NSBundle mainBundle] loadNibNamed:@"SomeNibFile"
                                                      owner:self
                                                    options:nil] objectAtIndex:0]; 
```

仅当您的 nib 文件`objectAtIndex:0`中只有一个`UIView`根对象时才正确

加载视图后，您可以设置

```
self.view = someView; 
```

当然，如果您的视图控制器中有一个子视图，那么您也可以更改它。

# iphone - 无法从资产 URL 加载图像

> ID：14496910
> 
> 赞同：8
> 
> 时间：2013-01-24T08:31:19.870
> 
> 标签：iphone, alassetslibrary

我有一个类，用于存储有关手机上资产（图像、视频）的信息。

我的班级有`ResourceURLString`这样的定义

```
@property NSURL *ResourceURL; 
```

我正在设置属性，同时`assets`通过电话循环

```
Item.ResourceURLString = [[asset valueForProperty:ALAssetPropertyURLs] objectForKey:[[asset valueForProperty:ALAssetPropertyRepresentations] objectAtIndex:0]]; 
```

当用户单击图像时，我想加载图像。

我拥有的代码是这个

```
NSData *imageUrl = [NSData dataWithContentsOfURL:[NSURL URLWithString:[CurrentItem.ResourceURL absoluteString]]];    

Img = [UIImage imageWithData:imageUrl]; 
```

但是 Image 总是 nil 我已经验证 ResourceURL 属性包含 URL 资产：`library://asset/asset.JPG?id=82690321-91C1-4650-8348-F3FD93D14613&ext=JPG`

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-24T08:37:53.323

您不能以这种方式加载图像。

您需要为此使用`ALAssetsLibrary`类。

将 assetslibrary 框架添加到您的项目并添加头文件。

使用以下代码加载图像：

```
ALAssetsLibraryAssetForURLResultBlock resultblock = ^(ALAsset *myasset)
{
    ALAssetRepresentation *rep = [myasset defaultRepresentation];
    CGImageRef iref = [rep fullResolutionImage];
    if (iref) {
        UIImage *largeimage = [UIImage imageWithCGImage:iref];
        yourImageView.image = largeImage;
    }
};

ALAssetsLibraryAccessFailureBlock failureblock  = ^(NSError *myerror)
{
    NSLog(@"Can't get image - %@",[myerror localizedDescription]);
};

NSURL *asseturl = [NSURL URLWithString:yourURL];
ALAssetsLibrary* assetslibrary = [[[ALAssetsLibrary alloc] init] autorelease];
[assetslibrary assetForURL:asseturl 
                   resultBlock:resultblock
                  failureBlock:failureblock]; 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-11-08T08:10:57.480

从**iOS 8**开始，您可以使用 [照片框架](https://developer.apple.com/reference/photos)，这里是如何在**Swift 3中做到这一点**

```
import Photos // use the Photos Framework

// declare your asset url
let assetUrl = URL(string: "assets-library://asset/asset.JPG?id=9F983DBA-EC35-42B8-8773-B597CF782EDD&ext=JPG")!

// retrieve the list of matching results for your asset url
let fetchResult = PHAsset.fetchAssets(withALAssetURLs: [assetUrl], options: nil)

if let photo = fetchResult.firstObject {

    // retrieve the image for the first result
    PHImageManager.default().requestImage(for: photo, targetSize: PHImageManagerMaximumSize, contentMode: .aspectFill, options: nil) {
        image, info in

        let myImage = image //here is the image
    }
} 
```

如果要检索图片的原始大小，请使用**PHImageManagerMaximumSize 。**但是，如果您想检索更小或特定的大小，可以将**PHImageManagerMaximumSize**替换为`CGSize(width:150, height:150)`

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-03-04T13:22:52.997

自 iOS 9.0 起`ALAssetsLibrary`已弃用。从 iOS 8.0 开始，这适用于 PHPhotoLibrary。这是一个小的 UIImage 扩展，Swift 2X。这使用固定的图像尺寸。

```
import Photos

extension UIImageView {

    func imageFromAssetURL(assetURL: NSURL) {

        let asset = PHAsset.fetchAssetsWithALAssetURLs([assetURL], options: nil)

        guard let result = asset.firstObject where result is PHAsset else {
           return
        }

        let imageManager = PHImageManager.defaultManager()

        imageManager.requestImageForAsset(result as! PHAsset, targetSize: CGSize(width: 200, height: 200), contentMode: PHImageContentMode.AspectFill, options: nil) { (image, dict) -> Void in
            if let image = image {
                self.image = image
            }
        }
    }
} 
```

从 UIImagePickerController 委托获取 imageReferenceURL：

```
func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) {
    imageURL = info[UIImagePickerControllerReferenceURL] as? NSURL
} 
```

设置图像

```
let imageView = UIImageView()
imageView.imageFromAssetURL(imageURL) 
```

可能有我还没有遇到过的效果，经典的就是 UITableViewCell 或者线程问题。我会保持更新，也感谢您的反馈。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-01-31T05:58:22.720

对于斯威夫特 5

`fetchAssets(withALAssetURLs)`将在未来的版本中删除。因此我们使用`fetchAssets`从资产本地标识符获取图像

```
extension UIImageView {
func imageFromLocalIdentifier(localIdentifier: String, targetSize: CGSize) {
        let fetchOptions = PHFetchOptions()
        // sort by date desending
        fetchOptions.sortDescriptors = [NSSortDescriptor(key: "creationDate", ascending: false)]
        // fetch photo with localIdentifier
        let results = PHAsset.fetchAssets(withLocalIdentifiers: [localIdentifier], options: fetchOptions)
        let manager = PHImageManager.default()
        results.enumerateObjects { (thisAsset, _, _) in
            manager.requestImage(for: thisAsset, targetSize: targetSize, contentMode: .aspectFit, options: nil, resultHandler: {(image, _) in
                DispatchQueue.main.async {[weak self] in
                    self?.image = image
                }
            })
        }
    }
} 
```

**更新**

```
let image = UIImage(data: NSData(contentsOf: imageURL as URL)! as Data) 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-24T11:03:20.760

```
ALAsset *asset = "asset array index"
[tileView.tileImageView setImage:[UIImage imageWithCGImage:[asset thumbnail]]]; 
```

# batch-file - 为什么我的批处理文件即使放在“启动”文件夹中也不会自动执行？

> ID：14496912
> 
> 赞同：1
> 
> 时间：2013-01-24T08:31:24.023
> 
> 标签：batch-file

这听起来太天真了，因为我不是程序员。我需要有关批处理文件执行的帮助。

我的启用 Windows XP 的 PC 上有两个用户帐户，其中一个帐户由我的兄弟使用。有时我需要给他留言以提醒他一些事情，例如，在他下次登录时备份他的个人文件夹。

因此，我使用以下代码创建了一个简单的批处理文件：

```
@echo off  
msg * It's time to backup your folders! 
```

通过双击执行时，该文件可以正常工作并显示预期的消息。我将批处理文件的副本放在“C:\Documents and Settings\Brother\Start Menu\Programs\Startup”中，但是当我的兄弟登录时，它无法自动执行。

有人可以告诉我我哪里出错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:56:18.273

根据超级用户的[这个](https://superuser.com/a/181845/106832)答案，XP的启动文件夹实际上在

```
%AllUsersProfile%\Start Menu\Startup
%UserProfile%\Start Menu\Startup 
```

所以 Programs\Startup 可以用于其他用途。

# android - 德语 - 英语翻译数据库

> ID：14496913
> 
> 赞同：3
> 
> 时间：2013-01-24T08:31:25.153
> 
> 标签：android, offline, translate

我正在处理一个移动应用程序，它应该执行离线工作的单词翻译（而不是使用任何 api -bing/google 在线）。我如何在android中执行任何单词翻译（如德语--->英语）。就像 WORDLENS/任何离线翻译器一样。

有没有可以从德语翻译成英语的数据库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:40:39.787

我认为这将很难找到。有付费版本：[http](http://www.language-databases.com/database-english.html) ://www.language-databases.com/database-english.html这将花费你相当多的钱来购买许可证。您可以尝试编写一个脚本，使用德语单词列表从各种在线资源中获取翻译。这可能需要你几个星期，但它会更便宜。（不确定法律后果是什么。）

# magento - Magento 覆盖模型 Mage_Catalog_Model_Product_Attribute_Backend_Media

> ID：14496916
> 
> 赞同：0
> 
> 时间：2013-01-24T08:31:36.017
> 
> 标签：magento, model, overriding

我使用 magento 1.7 并尝试覆盖模型 Model Mage_Catalog_Model_Product_Attribute_Backend_Media 但这不起作用。

我的课 ：

```
class Mycompany_Mymodule_Model_Catalog_Product_Attribute_Backend_Media extends Mage_Catalog_Model_Product_Attribute_Backend_Media 
```

我的配置：

```
... 
<model>
       <catalog>
            <rewrite>        <product_attribute_backend_media>Mycompany_Mymodule_Model_Catalog_Product_Attribute_Backend_Media</product_attribute_backend_media>
            </rewrite>
        </catalog>
    </model> 
```

你能帮助我吗 ？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T09:29:06.990

您根本不需要重写任何核心文件。

您需要做的是创建 1 个新文件：

```
 [Namespace]/[Module]/Block/[Adminhtml]/template/grid/renderer/Image.php 
```

对于 Image.php

```
 class [Namespace]_[Module]_Block_[Adminhtml]_Template_Grid_Renderer_Image extends Mage_Adminhtml_Block_Widget_Grid_Column_Renderer_Action {

  public function render(Varien_Object $row)
{
    return $this->_getValue($row);
}
public function _getValue(Varien_Object $row)
{
    if ($getter = $this->getColumn()->getGetter()) {
        $val = $row->$getter();
    }
    $val = $row->getData($this->getColumn()->getIndex());
    $val = str_replace("no_selection", "", $val);
    $url = Mage::getBaseUrl('media') . DS . $val;

    $out = $val. '<center><a href="'.$_url.'" target="_blank" id="imageurl">';
    $out .= "<img src=". $url ." width='60px' ";
    $out .=" />";
    $out .= '</a></center>';

    return $out;

}
  } 
```

根据需要更改函数中的代码以访问您的文件夹，并进行错误检查。

对于 Grid.php，将以下内容添加到您的 addColumns 之一，如下所示

```
 $this->addColumn('image1', array(
        'header' => Mage::helper('attributeimages')->__('Image 1'),
        'align' => 'left',
        'index' => 'image1',
        'renderer' => '[module]/[adminhtml]_template_grid_renderer_image',)); 
```

注意“渲染器”选项！

随心所欲地定制

# mysql - 将两个单独的 sql 查询合并为一个查询

> ID：14496920
> 
> 赞同：0
> 
> 时间：2013-01-24T08:31:49.517
> 
> 标签：mysql, sql

我有两个 sql 查询

```
SELECT sub_id, 
       sub_sent_code, 
       date_time 
FROM   moviedatabase.reg_sub_master 
WHERE  (date_time >= '2013-01-19' 
         AND date_time <= '2013-01-29'); 
```

和

```
SELECT sub_id, 
       sub_sent_code, 
       date_time 
FROM   moviedatabase.reg_sub_master 
WHERE  date_time <= '2013-01-19'; 
```

我的要求是从第一次查询中得出的结果`sub_id,sub_sent_code,date_time`不应该出现在第二次查询中。

我想让它成为单个查询。

**编辑**：实际上我想要的结果`date_time >='2013-01-19'`和我得到`date_time <='2013-01-29'`的结果`sub_id`不应该是以前的`'2013-01-19'`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T08:32:54.680

尝试 ：

```
SELECT sub_id,sub_sent_code,date_time
FROM   moviedatabase.reg_sub_master
WHERE  (date_time >='2013-01-19' 
    AND date_time <='2013-01-29')
    AND sub_id NOT IN (
        SELECT DISTINCT sub_id
        FROM   moviedatabase.reg_sub_master
        WHERE  date_time <='2013-01-19; 
```

# android - Google Docs Viewer 在线阅读您的 pdf - Android

> ID：14496922
> 
> 赞同：1
> 
> 时间：2013-01-24T08:31:53.640
> 
> 标签：android, android-webview

Android PDF阅读器里面`web-view`

```
WebView webview = (WebView) findViewById(R.id.webview);
webview.getSettings().setJavaScriptEnabled(true); 
String pdf = "http://www.adobe.com/devnet/acrobat/pdfs/pdf_open_parameters.pdf";
webview.loadUrl("http://docs.google.com/gview?embedded=true&url=" + pdf); 
```

如果谷歌更改网址，这是否可靠？

# c# - 想要从字符串参数中获取 xml 值

> ID：14496929
> 
> 赞同：2
> 
> 时间：2013-01-24T08:32:32.803
> 
> 标签：c#, asp.net, xml, string

我在字符串变量中有以下 xml-

```
 <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<person>
  <first-name>RaJeEv(๏๏)</first-name>
  <last-name>Diboliya</last-name>
  <headline>Software Engineer at FASTTRACK INDIA.</headline>
  <site-standard-profile-request>
    <url>http://www.linkedin.com/profile?viewProfile=&amp;url>
  </site-standard-profile-request>
</person> 
```

现在我想从这个字符串中获取名字和姓氏。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:42:30.233

例如

```
public class Program {
    public static void Main(String[] args) {
        XDocument xdoc = XDocument.Parse(@"<?xml version=""1.0"" encoding=""UTF-8""     standalone=""yes""?>
<person>
  <first-name>RaJeEv(๏๏)</first-name>
  <last-name>Diboliya</last-name>
  <headline>Software Engineer at FASTTRACK INDIA.</headline>
  <site-standard-profile-request>
    <url>http://www.linkedin.com/profile?viewProfile</url>
  </site-standard-profile-request>
</person>");

        XElement xe = xdoc.Elements("person").First();

        Console.WriteLine("{0} {1}", xe.Element("first-name").Value, xe.Element("last-name").Value);
    }         
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-24T08:42:53.647

这是我将如何反序列化它 -

创建一个具体的领域类`Person`

```
[Serializable()]
public class Person
{
    [System.Xml.Serialization.XmlElementAttribute("first-name")]
    public string FirstName{ get; set; }

    [System.Xml.Serialization.XmlElementAttribute("last-name")]
    public string LastName{ get; set; }

    [System.Xml.Serialization.XmlElementAttribute("headline")]
    public string Headline{ get; set; }

    [System.Xml.Serialization.XmlElementAttribute("site-standard-profile-request")]
    public string ProfileRequest{ get; set; }
} 
```

使用 XmlSerializer 将其转换为 Person 类型

```
XmlSerializer serializer = new XmlSerializer(typeof(Person));
var person = serializer.Deserialize(xml) as Person; 
```

然后可以像这样访问属性

```
var firstName = person.FirstName;
var lastName = person.LastName; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:41:44.780

就在 MSDN 上

[使用 XmlReader 解析 XML](http://msdn.microsoft.com/en-us/library/cc189056(v=vs.95).aspx)

但是，如果您在类强类型中有此结构，您还可以看到有关如何将其转换为 xml 并返回的答案： [Send XML String as Response](https://stackoverflow.com/questions/2947561/send-xml-string-as-response/2948028#2948028)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T08:43:59.520

```
var person = XElement.Parse(yourString).Element("person");
string firstName = person.Element("first-name").Value;
string lastName = person.Element("last-name").Value; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T08:48:56.530

这就是你要找的..

```
 XmlDocument xmldoc = new XmlDocument();
        XmlNodeList xmlnode;
        FileStream fs = new FileStream(xmlFilePath, FileMode.Open, FileAccess.Read);
        xmldoc.Load(fs);

        xmlnode = xmldoc.GetElementsByTagName("first-name");
        string firstname= string.Empty;
        if(xmlnode!=null)
            strOption = Regex.Replace(xmlnode[0].InnerText, @"\t|\n|\r| ", "");

        xmlnode = xmldoc.GetElementsByTagName("last-name");
        string lastname= string.Empty;
        if(xmlnode!=null)
            strOption = Regex.Replace(xmlnode[0].InnerText, @"\t|\n|\r| ", ""); 
```

希望能帮助到你 ：）

# visual-studio-2010 - 如何使用其他二进制文件（例如 tee.exe）作为 Visual Studio 的命令行参数？

> ID：14496936
> 
> 赞同：1
> 
> 时间：2013-01-24T08:33:00.980
> 
> 标签：visual-studio-2010, visual-studio, visual-c++, development-environment

在调试时，我想在控制台上显示控制台输出并将备份保存在文件中。Windows 没有 tee，但您可以添加一个。假设文件夹是 c:\bin\ ，它工作正常。我已将其添加到系统的 PATH 中。

问题是设置 "[ ]| tee[.exe] output.txt" 或 "| tee[.exe] output.txt" 不起作用 - output.txt 无处可寻。我还尝试在调试和合并环境下的 VC 目录或环境中显式添加 c:\bin\ 路径为是。

"> output.txt" 工作正常。

任何人都知道我该如何解决这个问题？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-25T03:42:22.800

我假设您将`| tee.exe output.txt`字符串放在项目属性“调试|命令参数”中。

不幸的是，该属性仅支持重定向运算符，不支持管道运算符。如果您 `| tee.exe output.txt`在 preoperty 中有字符串并运行转储命令行参数的程序，您会看到该信息只是作为参数传递。“调试 | 命令参数”实际上并没有被成熟的 shell（例如`cmd.exe`）处理 - 它只是支持一些简单重定向的 IDE（实际上，它似乎支持的比我预期的要多）：

来自[http://msdn.microsoft.com/en-us/library/kcw4dzyf.aspx](http://msdn.microsoft.com/en-us/library/kcw4dzyf.aspx)：

```
You can use the following redirection operators in this box:

    < file
        Reads stdin from file.

    > file
        Writes stdout to file.

    >> file
        Appends stdout to file.

    2> file
        Writes stderr to file.

    2>> file
        Appends stderr to file.

    2> &1
        Sends stderr (2) output to same location as stdout (1).

    1> &2
        Sends stdout (1) output to same location as stderr (2). 
```

`>>`通过使用命令将程序的输出重定向到文件并使用`tail-f`命令显示添加到文件中的任何内容，您可以获得所需内容的有限版本。如果你这样做，你可能会想要调用`setvbuf( stdout, NULL, _IONBF, 0 )`第一件事，`main()`以便 I/O 没有缓冲。否则`tail -f`在缓冲区被刷新之前不会看到它，我想你希望看到每个输出操作发生时。

另一种选择是将控制台窗口的“屏幕缓冲区高度”属性提高到一个很大的数字——当我得到一台新的 Windows 机器时，我做的第一件事就是将该值设置为 3000 左右——然后正常调试程序并复制/ 粘贴控制台窗口关闭前的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T03:02:26.883

您最好不要`printf`用于此目的。相反，编写自己的函数；采用格式化输入，如 printf - 具有可变数量的参数（`...`）。该函数将使用 printf 在控制台上显示，将缓冲区写入文件，将发送到输出到调试窗口等等。您可以根据调试/发布版本对其进行自定义。

它可能会像（可能有一些小错误）：

```
void PrintDebuggingInfo(const char* pFormatString, ...) 
{    
    va_list  arguments;

    char OutputString[1024];

    va_start(pFormatString, argument);    
    vsprintf(OutputString,  pFormatString, argument); // Generate string

   // Now use `OutputString` as you wish! 
} 
```

您可以使用`vsprintf`. 事实上，所有格式化函数都只使用这个函数！

# php - mysql_fetch_row 每隔一行返回一次？

> ID：14496941
> 
> 赞同：1
> 
> 时间：2013-01-24T08:33:16.953
> 
> 标签：php, mysql

```
$sql = "SELECT `description`,`auction_id` FROM `auctions` WHERE `description` REGEXP  '(97(8|9))?[[:digit:]]{9}([[:digit:]]|X)'";
$result = mysql_query($sql);

while ($row = mysql_fetch_assoc($result)) {
$row = mysql_fetch_row($result);
echo "$row[1]"; 
```

有什么理由`echo "$row[1]";`返回每隔一行？我得到的结果是这样的，我试图得到每一行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:39:08.230

要真正回答您的问题，**为什么**会发生

```
$row = mysql_fetch_assoc($result); //this advances the internal data pointer by 1
$row = mysql_fetch_row($result); //this advances it by 1 more 
```

两者都在循环的每次迭代中执行。 **你应该使用一个，而不是两个。**

此外，您不应该在新代码中使用**mysql_***函数，因为它已被弃用。如评论中所述，使用 PDO 或 MySQLi。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T08:39:55.770

如果查询在 phpmyadmin 中正常工作，那么您可以使用

```
while ($row = mysql_fetch_assoc($result)) {
echo $row['description'];
} 
```

或者

```
$row = mysql_fetch_row($result);
echo $row[1]; 
```

或者

```
while ($row = mysql_fetch_array($result)) {
echo $row['description']; //or
echo $row[1];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:35:11.653

您正在调用 fetch 函数两次，因此它似乎每次都跳过一行。

```
while ($row = mysql_fetch_assoc($result)) {
$row = mysql_fetch_row($result);    //This is not needed
echo "$row[1]";
} 
```

应该

```
while ($row = mysql_fetch_assoc($result)) {
echo $row[1];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-24T08:35:20.440

而不是让循环为：

```
while ($row = mysql_fetch_assoc($result)) {
    $row = mysql_fetch_row($result); 
```

利用：

```
while ($row = mysql_fetch_assoc($result)) { 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T08:36:09.723

你应该这样使用。

```
while ($row = mysql_fetch_assoc($result)) {
  $desc[] = $row['description'];
} 
```

# eclipse - 扩展或配置 Eclipse 比较文件功能

> ID：14496942
> 
> 赞同：1
> 
> 时间：2013-01-24T08:33:23.567
> 
> 标签：eclipse, eclipse-plugin

Eclipse[内置了](https://stackoverflow.com/questions/4623564/how-do-i-compare-two-files-using-eclipse-is-there-any-option-provided-by-eclips)用于比较文件的功能，但是如何配置该功能？假设我创建了一个新文件类型并希望外部程序执行差异。我该如何设置？

我可以创建一个 Eclipse 插件来添加我自己的插件来处理文件比较吗？或许这就是第一个问题的答案……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:39:49.473

您可能想查看[EMF 比较项目](http://www.eclipse.org/emf/compare/)，它有助于为 EMF 模型构建比较编辑器。如果您的文件类型没有 EMF 模型，您可以创建一个或查看 EMF Compare 的源代码以了解它是如何工作的。

[开发人员指南](http://wiki.eclipse.org/EMF_Compare/Developer_Guide)解释了如何使用代码来编写您的自定义查看器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-25T17:59:04.390

有一个[插件将 Beyond Compare 集成到 Eclipse](http://beyondcvs.sourceforge.net/)中。由于它是开源的，因此您可能会通过查看其来源获得线索。

# visual-studio-2010 - 在创建项目时自定义默认 WinMain.cpp

> ID：14496944
> 
> 赞同：0
> 
> 时间：2013-01-24T08:33:34.027
> 
> 标签：visual-studio-2010, visual-c++

当我在 Microsoft Visual C++ 2010 Express 中创建一个新的 Win32 项目并使用默认 WinMain 函数创建默认 WinMain.cpp 文件时...

**是否可以加载不同的 WinMain.cpp 文件，即我自己的 WinMain.cpp 文件/模板？**

希望这是有道理的。更具体地说，每当我创建一个新的 Win32 项目时，我都希望在 WinMain.cpp 中有不同的默认代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T16:35:27.480

几年前我用 VC6 完成了它——它被称为**自定义项目向导**。

在**New Project -> General**中选择`Custom Wizard`开始。

使用自定义向导，您可以创建一个新的向导类型来创建项目。您可以根据需要设置向导，编写逻辑代码等。完成并注册后，您的向导将作为另一种类型出现。

检查这个：http: [//msdn.microsoft.com/en-us/library/vstudio/bhceedxx.aspx](http://msdn.microsoft.com/en-us/library/vstudio/bhceedxx.aspx)

# powershell - 在 PowerShell V3 中解析 HTML 表

> ID：14496951
> 
> 赞同：0
> 
> 时间：2013-01-24T08:34:04.440
> 
> 标签：powershell, html-agility-pack

我有以下 HTML 表格[链接到 HTML](http://pastebin.com/kyy9rMJZ)

我想解析它并将其转换为 XML/CSV/PS 对象，我尝试使用 HtmlAgilityPack.dll 但没有成功。任何人都可以给我任何指示吗？

* * *

我想将表格转换为 PSObject 并将其导出为 csv，我目前只有代码的开头，并且可以访问行但我无法访问行中的值

```
Add-Type -Path C:\Windows\system32\HtmlAgilityPack.dll
$HTML = New-Object HtmlAgilityPack.HtmlDocument
$res = $HTML.Load("C:\Test\Test.html")
$table = $HTML.DocumentNode.SelectNodes("//table/tr/td/nobr") 
```

当我访问 $table[0..47].InnerHtml 我只得到文件的第一列 **，我无法访问第二列等等

谢谢奥哈德

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T10:25:07.777

你可以试试这个来获取`<nobr>`标签中的所有 html。我让你找到输出你想要的逻辑......

```
$ie = new-object -com "InternetExplorer.Application"
$ie.navigate("http://urltoyourfile.html")
$doc = $ie.Document
($doc.getElementsByTagName("nobr"))|%{$_.innerHTML} 
```

输出 ：

```
Lead User&nbsp;&nbsp;
Accesses&nbsp;&nbsp;
Last Accessed&nbsp;&nbsp;
Average&nbsp;&nbsp;
Max&nbsp;&nbsp;
Min&nbsp;&nbsp;
Total&nbsp;&nbsp;
amirt</NO br>
2
01/20/2013 09:40:47
04:18:17
06:19:26
02:17:09
08:36:35
andream
1
01/20/2013 10:33:01
02:34:37
02:34:37
02:34:37
02:34:37
avnerm
1
01/17/2013 11:34:16
00:30:44
00:30:44
00:30:44
00:30:44
brouria 
```

一种解析它的方法：

```
($doc.getElementsByTagName("nobr"))|%{
    write-host -nonew $_.innerHTML";"
    $cpt++
    if ($cpt % 8 -eq 0){$cpt=1;write-host ""}
} 
```

# ios - 辅助功能：在更新 UIAlertView 的消息时，Voice over 读取的文本不会改变？

> ID：14496954
> 
> 赞同：0
> 
> 时间：2013-01-24T08:34:30.023
> 
> 标签：ios, accessibility, uialertview

请参考以下代码：

```
UIAlertView *progressAlertView = [[UIAlertView alloc] 
                                  initWithTitle:@"Title"
                                  message:@"Message"  
                                  delegate:self 
                                  cancelButtonTitle:@"Cancel"
                                  otherButtonTitles:nil];

progressAlertView.message=@"Hello, I am the new one"; 
```

画外音总是读“消息”，从不读第二行“你好，我是新的”中设置的新消息字符串。无法更改 UIAlertView 的 bodyTextLabel 控件/子视图的此可访问性标签。

知道如何让 UIAlertView 在分配后更改其可访问性标签吗？

谢谢，

-希尔皮

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-07T09:25:01.470

您可以使用 accessibilityTraits 作为 UIAccessibilityTraitUpdatesFrequently 来阅读更新的消息。它的工作原理如下：

```
alertObj.accessibilityTraits =   UIAccessibilityTraitUpdatesFrequently; 
```

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T09:28:35.037

您可以更改子视图`UIAlertView`以更改单个属性，例如可访问性标签：

```
UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Test"
                                                message:@"Message"
                                               delegate:nil
                                      cancelButtonTitle:@"Ok"
                                      otherButtonTitles:nil];

// In a standard UIAlertView there are 2 UILabels and some buttons
// The UILabel with the message is always the 2nd object in the array
NSArray *subviews = alert.subviews;
UILabel *messageLabel = [subviews objectAtIndex:1];
[messageLabel setAccessibilityLabel:@"Some other text"]; 
```

使用此代码，您只需更改辅助功能标签，以便 VoiceOver 读取另一个文本但显示旧文本。

在您的情况下，您应该将可访问性标签设置为与要设置`UIAlertView`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T08:37:23.463

使用这种方式设置**UIAlertView的消息**

```
UIAlertView *progressAlertView = [[UIAlertView alloc] 
                                  initWithTitle:@"Title"
                                  message:@"Message"  
                                  delegate:self 
                                  cancelButtonTitle:@"Cancel"
                                  otherButtonTitles:nil];

[alertView setMessage:@"Hello, I am the new one"];
[alertView show]; 
```

有关 UIAlertView 的更多信息，请参阅此 [http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAlertView_Class/UIAlertView/UIAlertView.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIAlertView_Class/UIAlertView/UIAlertView.html)

# android - 对宏的依赖

> ID：14496955
> 
> 赞同：0
> 
> 时间：2013-01-24T08:34:44.873
> 
> 标签：android, makefile

我在 Android 源代码的 build/core/java.mk 中看到了这一行：

```
$(full_classes_compiled_jar): PRIVATE_JAVAC_DEBUG_FLAGS := -g 
```

依赖宏而不是真实文件是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T08:39:55.413

好的。我找到了答案。它是一个[特定于目标的变量](http://www.makelinux.net/make3/make3-CHP-3-SECT-5)。

# php - PHP GD 库中的 X、Y 坐标在哪里测量？

> ID：14496956
> 
> 赞同：4
> 
> 时间：2013-01-24T08:34:45.840
> 
> 标签：php, gd

我用 PHP 编写了一个用于裁剪图像的类，它可以工作。问题是我不懂数学。向您展示其工作原理的最佳方式可能是通过图像。

我不明白的是，[`imagecopyresampled()`](http://php.net/manual/en/function.imagecopyresampled.php)在 PHP 中使用时，实际用作源图像的 x 和 y 变量的参考点。

起初我假设它是图像的中心，因此意味着绝对中心 = y/2 和 x/2。这适用于 y 值，但不适用于 x。我从重采样区域的左侧计算了 x。

```
(source y - resamplearea y) / 2 
```

在我看来，有两个不同的参考点。我阅读了 PHP 手册中的相关文档，但我找不到任何关于参考点的信息。

它是从左下角引用的吗？如果是这样，为什么我必须自己解决这个问题？

小例子截图：

```
imagecopyresampled($outputImage, $this->tempImage, 0, 0, $this->src_x, $this->src_y, $this->outputx, $this->outputy, $this->inputImageWidth, $this->inputImageHeight); 
```

我错过了什么吗？

![JPEG 采样](../Images/cc85a453339640bc946966efa06c460b.png)

# oracle - 自动类型生成

> ID：14496970
> 
> 赞同：3
> 
> 时间：2013-01-24T08:35:17.023
> 
> 标签：oracle, plsql, oracle11g

我在 PL/SQL 包中创建了一个函数，该函数使用定义为数字表的自定义类型。我在带有 SELECT COLUMN_VALUE 指令的 SQL 查询中使用这种类型的对象，如下所示：

包中的类型定义：

```
type T_IDS is table of my_table.col_id%type; 
```

包体中一个过程内的查询：

```
l_ids_list T_IDS ;
begin
select col_ids bulk collect into T_IDS from my_table;
select sum(t.rec_value) into total_value 
          from my_table t where t.col_id in (
            select column_value from Table(l_ids_list) ); 
```

一切正常，当我编译这段代码时，我可以看到在我的 schema_name/type 部分下生成了一个新类型。

一旦我在测试环境中安装了它，它就会导致编译失败并出现错误：

> 错误：PLS-00642：SQL 语句中不允许本地集合类型
> 错误：PL/SQL：ORA-22905：无法访问非嵌套表项中的行

数据库版本（本地和测试）完全相同，11g。有没有办法在 DBMS 上激活这样的一代？

重现的例子：

```
create table my_table (
col_id number,
rec_value number
);

insert into my_table (col_id, rec_value) values (1,100);
insert into my_table (col_id, rec_value) values (2,200);
insert into my_table (col_id, rec_value) values (3,300);
insert into my_table (col_id, rec_value) values (4,400);

commit; 
```

包创建：

```
create or replace package test_pck as

type T_IDS is table of my_table.col_id%type;

procedure test_list;

end test_pck;
/

create or replace
package body test_pck as

procedure test_list is
  l_ids_list T_IDS ;
  total_value number;
begin
  select col_id bulk collect into l_ids_list from my_table;
  select sum(t.rec_value) into total_value 
            from my_table t where t.col_id in (
              select column_value from Table(l_ids_list) );
end test_list;
end test_pck;
/ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T13:08:58.113

你在做什么是错的。您应该创建 SQL 类型，而不是使用 pl/sql 类型来访问该`TABLE`函数。

现在至于为什么它实际上在您的开发环境中起作用。

静默 pl/sql 表创建是为流水线函数设计的，并且已经存在了一段时间，但是您在非流水线函数中使用它，因此应该失败。但是，在 11g 第 1 版（准确地说是 11.1.0.7）中，一个错误意味着它实际上可以编译。如果你真的尝试运行它，虽然你会得到一个错误：

```
SQL> create package body foo
  2  as
  3
  4    procedure test
  5     is
  6             l_ids_list T_IDS ;
  7             total_value number;
  8     begin
  9             select col_id bulk collect into l_ids_list from my_table;
 10             select sum(t.rec_value) into total_value
 11               from my_table t
 12              where t.col_id in (select column_value from Table(l_ids_list));
 13     end;
 14  end;
 15  /

Package body created.

SQL> exec foo.test;
BEGIN foo.test; END;

*
ERROR at line 1:
ORA-21700: object does not exist or is marked for delete
ORA-06512: at "TEST.FOO", line 10
ORA-06512: at line 1
SQL> select * from v$version;

BANNER
--------------------------------------------------------------------------------
Oracle Database 11g Enterprise Edition Release 11.2.0.2.0 - 64bit Production
PL/SQL Release 11.2.0.2.0 - Production
CORE    11.2.0.2.0      Production
TNS for Linux: Version 11.2.0.2.0 - Production
NLSRTL Version 11.2.0.2.0 - Production 
```

现在，Oracle 在 11.2.0.3 中修复了这个错误行为。现在在编译时抛出错误：

```
SQL> create package body foo
  2  as
  3
  4    procedure test
  5     is
  6             l_ids_list T_IDS ;
  7             total_value number;
  8     begin
  9             select col_id bulk collect into l_ids_list from my_table;
 10             select sum(t.rec_value) into total_value
 11               from my_table t
 12              where t.col_id in (select column_value from Table(l_ids_list));
 13     end;
 14  end;
 15  /

Warning: Package Body created with compilation errors.

SQL> show errors
Errors for PACKAGE BODY FOO:

LINE/COL ERROR
-------- -----------------------------------------------------------------
10/3     PL/SQL: SQL Statement ignored
12/48    PL/SQL: ORA-22905: cannot access rows from a non-nested table
         item

12/54    PLS-00642: local collection types not allowed in SQL statements
SQL> select * from v$version;

BANNER
--------------------------------------------------------------------------------
Oracle Database 11g Enterprise Edition Release 11.2.0.3.0 - 64bit Production
PL/SQL Release 11.2.0.3.0 - Production
CORE    11.2.0.3.0      Production
TNS for Linux: Version 11.2.0.3.0 - Production
NLSRTL Version 11.2.0.3.0 - Production 
```

简而言之，创建一个 SQL 类型`create type`并使用它来代替：

```
SQL> create type T_IDS as table of number;
  2  /

Type created.

SQL> create package body foo
  2  as
  3
  4    procedure test
  5     is
  6             l_ids_list T_IDS ;
  7             total_value number;
  8     begin
  9             select col_id bulk collect into l_ids_list from my_table;
 10             select sum(t.rec_value) into total_value
 11               from my_table t
 12              where t.col_id in (select column_value from Table(l_ids_list));
 13     end;
 14  end;
 15  /

Package body created.

SQL> exec foo.test

PL/SQL procedure successfully completed.

SQL> select * from v$version;

BANNER
--------------------------------------------------------------------------------
Oracle Database 11g Enterprise Edition Release 11.2.0.3.0 - 64bit Production
PL/SQL Release 11.2.0.3.0 - Production
CORE    11.2.0.3.0      Production
TNS for Linux: Version 11.2.0.3.0 - Production
NLSRTL Version 11.2.0.3.0 - Production 
```

# nstableview - Cocoa：自定义 NSCell 不响应双击动作

> ID：14496972
> 
> 赞同：2
> 
> 时间：2013-01-24T08:35:26.887
> 
> 标签：nstableview, double-click, nscell, nstableviewcell

我专注于 10.6 支持的可可应用程序，我使用基于单元格的`NSTableView`.

我自定义了它，`NSCell`以便它可以显示图像和文本。这里的问题是：当我将 设置`doubleClickAction`为 tableview 时，它没有响应。

由于自定义单元格，我已经找到了它。我猜细胞会停止响应链，但我不知道如何修复它。我搜索文档，但我不知道要覆盖哪种方法。

请提供一些指导，谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-19T00:26:11.170

对于像我一样遇到这个问题的任何人，我的解决方案是未接来电：

```
[self.tableView setTarget:self]; //This was missed
[self.tableView setDoubleClickAction:@selector(doubleClick:)]; 
```

# actionscript-3 - Flash 滚动条上拇指图形的大小

> ID：14496974
> 
> 赞同：1
> 
> 时间：2013-01-24T08:35:32.220
> 
> 标签：actionscript-3, flash, flash-cs6

我正在尝试自定义 Flash 中的内置滚动条组件。具体来说，我需要自定义滚动条的拇指以具有固定的高度和宽度。

这就是我现在所拥有的。拇指高度自行调整。我需要修复拇指的高度。

![当前状态](../Images/485906031ee53f425bddf03c45d2699d.png)

我想要实现的目标（固定高度的拇指）：

![我想要达到的目标](../Images/f4ac4fdf98b9649450529c172a5c7cb8.png)

任何关于如何在 Flash 中设置拇指大小的指针将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T10:38:42.840

没有简单的方法可以做到这一点，我的意思是 Flash CS6 ScrollBar 不支持这个功能。受保护方法中的拇指高度更新`fl.controls.ScrollBar`：

```
 protected function updateThumb():void {
        var per:Number = _maxScrollPosition - _minScrollPosition + _pageSize;
        if (track.height <= 12 || _maxScrollPosition <= _minScrollPosition || (per == 0 || isNaN(per))) {
            thumb.height = 12;
            thumb.visible = false;
        } else {
            thumb.height = Math.max(13,_pageSize / per * track.height);
            thumb.y = track.y+(track.height-thumb.height)*((_scrollPosition-_minScrollPosition)/(_maxScrollPosition-_minScrollPosition));
            thumb.visible = enabled;
        }
    } 
```

正如您所看到的，没有任何标志可以跳过`thumb.height`else 块中的设置。**可能的解决方案**可以是扩展`ScrollPane`并覆盖该`configUI`方法 - 并添加您的自定义 CustomScrollPane （扩展 ScrollBar 并覆盖该`updateThumb`方法）而不是 created `_verticalScrollBar:ScrollBar`。

**另一种解决方案**是在您的 swf 的主 ApplicationDomain 中用您自己的同名 fl.controls.ScrollPane 替换原始的 fl ScrollPane 类。但要做到这一点，您必须以这样一种方式组织类加载，即您自己的类在 fl 类之前加载，即您必须在外部 swfs 中动态加载所有类。

# solr - Solr DataImportHandler - 转换 XML 字段

> ID：14496976
> 
> 赞同：2
> 
> 时间：2013-01-24T08:35:42.727
> 
> 标签：solr, dataimporthandler

我的数据库上的一列（同步到我的 SOLR 存储库）是 XML，看起来像：

```
<Party>
    <StartDate>2013-12-31T06:00:00</StartDate>
</Party> 
```

在 SOLR 中，它存储在一个`type="string"`字段中，一切正常。

然而，现在，我希望`<StartDate>`从 XML 中提取值并将其存储在独立`string`或`date`字段中（目前还没有偏好）。

解决这个问题的最佳方法是什么？

我的解决方案是附加一个 JavaScript 转换器，它将使用普通字符串函数（即 indexOf 和子字符串）解析 XML。不过这看起来不是很漂亮。有没有更简单的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T17:53:06.350

您需要结合数据源的切换使用嵌套实体。对于内部数据源，您需要使用[FieldReaderDataSource](http://wiki.apache.org/solr/DataImportHandler#FieldReaderDataSource)和 XPathEntityProcessor 处理 XML 到目标值的映射。我认为您的日期已经采用正确的格式，可以直接映射到数据类型。但如果不是，则需要在内部实体上使用[DateFormatTransformer 。](http://wiki.apache.org/solr/DataImportHandler#DateFormatTransformer)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-24T12:46:20.247

我建议查看Solr [DataImportHandler提供的](http://wiki.apache.org/solr/DataImportHandler)[DateFormatTransformer](http://wiki.apache.org/solr/DataImportHandler#DateFormatTransformer)。

# javascript - 在 touchstart 事件中获取元素位置

> ID：14496977
> 
> 赞同：2
> 
> 时间：2013-01-24T08:35:43.927
> 
> 标签：javascript, html, css

想象一个复杂的 HTML 结构，你不知道事物的确切位置，因为有些元素会随着时间移动，有些元素会随着悬停而移动，等等。不管是什么原因，你只是不知道它们的位置/边距/填充。

我的问题是：如果我有一个容器（#my_element_container），包含在一些我没有那么多信息的包装器（#complex_wrapper）中，它包含随机数量的元素（#my_element_container li），我想要能够在容器上附加一个 touchstart 事件侦听器，并能够判断用户单击了哪个元素。

本示例的样式如下：

```
#complex_wrapper {
    position: absolute;
    width: 600px;
    height: 600px;
    margin-top: 50px;   /* These two change randomly so I can't hardcode a -50! */
    margin-left: 12px;
    background-color: gray;
}
#my_element_container {
    position: absolute;
    top: 95px;
    left: 31px;
}
#my_element_container li{
    position: relative;
    width: 480px;
    height: 90px;
    background-color: red;
    border: 1px black solid;
} 
```

有人在之前的帖子中暗示我必须设法减去容器的边距和填充，所以我会在元素的顶部得到一个 0 坐标，我可以据此计算。我理解这个逻辑，但我很难找到一种动态地使“减去值”的方法，无论其他边距是多少。

我做了一个 jsfiddle 来展示我的要求，我的目标是能够，无论我硬编码到#complex_wrapper 中，告诉哪个元素被点击：http: [//jsfiddle.net/342jU/1/](http://jsfiddle.net/342jU/1/)

我们的项目没有也不会使用 jquery（不确定原因，我只知道我们没有）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T09:00:08.033

您可以使用`.elementFromPoint(x,y)`, 其中`x,y`显然是鼠标事件坐标（我从未使用过`touchstart`，但我想您可以以类似的方式获取坐标）。类似的东西：http: [//jsfiddle.net/Polmonite/Sty7d/](http://jsfiddle.net/Polmonite/Sty7d/)。

它变成这样：

```
my_element_container.addEventListener('click', function(e) {
    e.preventDefault();
    var element = document.elementFromPoint(e.clientX,e.clientY);

// do something with element

}, false); 
```

# django - 模板中字段的详细名称

> ID：14496978
> 
> 赞同：26
> 
> 时间：2013-01-24T08:35:51.573
> 
> 标签：django, django-templates

假设我有一个模型：

```
from django.db import models

class Test(models.Model):
    name=models.CharField(max_length=255, verbose_name=u'custom name') 
```

如何在模板中获取模型字段的详细名称？以下不起作用：

`{{ test_instance.name.verbose_name }}`

我非常感谢这个解决方案，就像我们在使用表单时所做的那样，在模板中使用标签属性：

```
{{ form_field.label }} 
```

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2013-01-24T10:21:52.213

您可以为此使用以下 python 代码

```
Test._meta.get_field("name").verbose_name.title() 
```

如果您想在模板中使用它，那么最好为此注册模板标签。在您的应用程序内创建一个`templatetags`文件夹，其中包含两个文件（`__init__.py`和`verbose_names.py`）。将以下代码放入`verbose_names.py`：

```
from django import template
register = template.Library()

@register.simple_tag
def get_verbose_field_name(instance, field_name):
    """
    Returns verbose_name for a field.
    """
    return instance._meta.get_field(field_name).verbose_name.title() 
```

现在，您可以在加载库后在模板中使用此模板标记，如下所示：

```
{% load verbose_names %}
{% get_verbose_field_name test_instance "name" %} 
```

您可以阅读[`Custom template tags`](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)官方 django 文档。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-03-07T08:15:46.247

[接受的答案](https://stackoverflow.com/a/14498938/353550)中的方法很棒！

如果你想生成一个字段列表，也许你会喜欢这个。

向 Test 类添加一个可迭代对象可以方便地列出字段的详细名称和值。

**模型**

```
class Test(models.Model):
...
def __iter__(self):
    for field in self._meta.fields:
        yield (field.verbose_name, field.value_to_string(self)) 
```

**模板**

```
{% for field, val in test_instance %}
<div>
    <label>{{ field }}:</label>
    <p>{{ val }}</p>
</div>
{% endfor %} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-29T09:01:30.493

基于这个答案[https://stackoverflow.com/a/14498938](https://stackoverflow.com/a/14498938) .in Django 模型我添加

```
class Meta:
  app_name = 'myapp' 
```

在列表视图中我有

```
from django.core import serializers
context['data'] = serializers.serialize( "python", self.get_queryset() ) 
```

在 mylist.html 我有

```
{% for field, value in data.0.fields.items %}
<th style="text-align:center;">{% get_verbose_field_name data.0.model field %}</th>
{% endfor %} 
```

在过滤器中：

```
from django import template
register = template.Library()
from .models import Mymodel
@register.simple_tag
def get_verbose_field_name(instance, field_name):
  """
  Returns verbose_name for a field.
  """
  myinstance = eval(instance.split('.')[1].title())
  return myinstance._meta.get_field(field_name).verbose_name.title() 
```

具体示例的上述过滤器中的实例是 myapp.mymodel 我将实例评估为模型对象，并且我返回字段详细名称

它适用于 django 1.9

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-27T16:51:10.880

回答可能为时已晚，但我遇到了同样的问题，直到我意识到我是通过覆盖 form.py (self.fields['fieldname'] = ..) 中的字段引起的。如果这样做，您还需要设置标签，否则它使用从字段名派生的标签。

希望这个快速回复有意义。

# jquery - jQuery：顺序编号控制

> ID：14496981
> 
> 赞同：0
> 
> 时间：2013-01-24T08:36:01.980
> 
> 标签：jquery, sorting, sequence, html-select

使用下拉列表选择新序列时，是否有任何插件可用于更改表内项目的顺序编号？

例如

更改排序 ID 之前

```
+-----+-----+-----+-----+
| AAA | ... | ... |  1  |
+-----+-----+-----+-----+
| BBB | ... | ... |  3  | < I like to change this sequence id to 2 using DropDown
+-----+-----+-----+-----+
| CCC | ... | ... |  2  |
+-----+-----+-----+-----+ 
```

选择序列后，它应该看起来像

```
+-----+-----+-----+-----+
| AAA | ... | ... |  1  |
+-----+-----+-----+-----+
| BBB | ... | ... |  2  |
+-----+-----+-----+-----+
| CCC | ... | ... |  3  |
+-----+-----+-----+-----+ 
```

CCC应该自动更新

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T08:48:31.623

您可能需要一个循环遍历每个表行并将“订单号”设置为连续的函数。每次订单更改时，您都会运行该函数：

使用 jquery（还有其他可用的方法/库）例如

```
function set_sequence(){
var count = 0
$("table tr").each(function(){
        count++;
        $(this).attr(id) = count; //or
        $(this).find('td.order').text(count);

    }); 
} 
```

这是未经测试的，但希望你能明白。

# twilio - 按住 Twilio 键

> ID：14496984
> 
> 赞同：2
> 
> 时间：2013-01-24T08:36:13.300
> 
> 标签：twilio

Twilio API 是否允许按下和“按住”拨号键？

我正在编写一个需要按住拨号键 N 秒的应用程序。Twilio 可以做到这一点吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T18:52:54.143

不幸的是，不是..它实际上只是推送/未推送的二进制状态或推送了多少次。

你在这里的目标是什么？

（披露：Twilio 布道者在这里..）

# r - 日期显示为数字

> ID：14496985
> 
> 赞同：6
> 
> 时间：2013-01-24T08:36:17.653
> 
> 标签：r, postgresql, date

我从 postgresql 中获取了一组日期，它们看起来是正确的：

```
[1] "2007-07-13" "2007-07-14" "2007-07-22" "2007-07-23" "2007-07-24"
[6] "2007-07-25" "2007-08-13" "2007-08-14" "2007-08-15" "2007-08-16"
etc. 
```

然后我想对它们运行一个循环来制作新的 sql 语句来获取其他一些数据集（是的，我知道我在做什么，不可能在数据库服务器中完成所有处理）

所以我尝试了

```
for(date in geilodates)
 mapdate(date,geilo)
Error in postgresqlExecStatement(conn, statement, ...) : 
  RS-DBI driver: (could not Retrieve the result : ERROR:  invalid input syntax for type date: "13707"
LINE 1: ...id_date_location where not cowid is null and date='13707' or... 
```

mapdate 是我编写的一个函数，其中日期的使用是

```
sql=paste('select * from gps_coord where cowid=',cowid," and date='",date,"'",sep='') 
```

所以，发生的事情是，在我尝试将 sql 粘贴在一起之前，R 默默地将我的格式化日期转换为它们的整数表示。

如何获得日期的原始文本表示？我试过了

```
for(date in geilodates){
  d=as.Date(date,origin="1970-01-01")
  mapdate(d,geilo)
}
Error in charToDate(x) : 
character string is not in a standard unambiguous format 
```

而且我还没有设法找到任何其他函数来创建日期字符串（或将日期“服务”为列出变量时得到的字符串

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-24T09:10:54.847

Thanks to wush978 for pointing me in the right direction, In the end I had to do:

```
for(d in geilodates){
 date=format(as.Date(d,origin="1970-01-01"))
 mapdate(date,geilo)
} 
```

For some reason, inside the loop the "date" variable was seen as an integer, so I explicitely had to convert it to a date and then format it...

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-24T08:44:33.637

尝试`?format.Date`

```
x <- Sys.Date()
class(x)
class(format(x)) 
```

在 R 中，类的数据`Date`是数字类型。表示为字符串的官方方法`Date`是调用`format`.

我怀疑`date`在你的情况下定义了格式，所以`paste` 有一些意想不到的事情。

也许你需要`format(x, "%Y-%m-%d")`输入你的`paste`函数而不是`date`告诉 R 你想要哪种格式的日期。

# java - 使用 Java Swing 创建内部向导

> ID：14496986
> 
> 赞同：2
> 
> 时间：2013-01-24T08:36:17.330
> 
> 标签：java, swing, wizard

我想在我的 Java GUI 应用程序中创建一个内部向导，以便单击菜单项会弹出一个向导，引导用户完成一系列步骤。我做了很多研究，找不到任何有足够好的文档的东西。有人可以帮帮我吗？是否有人致力于创建一个在 GUI 应用程序中弹出的向导？

提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-12-09T13:05:24.150

您可以使用[cjwizard](https://github.com/cjwizard/cjwizard)。它可以嵌入到 JDialog 中，因为它基于 JPanel。

[您可以在https://github.com/cjwizard/cjwizard/blob/master/docs/quickstart.md](https://github.com/cjwizard/cjwizard/blob/master/docs/quickstart.md)中查看如何使用它，例如：

```
 // create the WizardContainer:
   final PageFactory pageFactory = /* create a PageFactory, see the link */;
   final WizardContainer wizard = new WizardContainer(pageFactory)

   // stick the WizardContainer into a dialog:
   final JDialog dialog = new JDialog();
   dialog.getContentPane().add(wizard);
   dialog.pack();
   dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
   dialog.setVisible(true); 
```

*免责声明：我是开发团队的一员。*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-24T08:39:42.453

如果没有第三方库可以满足您的要求，那么您可以编写自己的方法。一组面板，每个面板都有上一个、下一个按钮，其中一些是完成。当前面板只需要知道哪些是前一个面板和下一个面板。

# codeigniter - Codeigniter 模块使用 ajax 检查

> ID：14496988
> 
> 赞同：0
> 
> 时间：2013-01-24T08:36:30.673
> 
> 标签：codeigniter, module, conditional-statements, pyrocms

虽然我找不到适合这种需要的标题，但问题就在这里。

我有一个名为 Files 的现有模块。当我使用这个模块时，一些 javascript 运行并为不同类型的文件创建拇指。它在窗口负载下运行。
现在我正在开发一个名为 File Links 的模块。
在这个模块中，我需要在 Windows 加载时创建拇指。
我已经从 Files 模块复制了代码。
这是一些代码

```
public function folder_contents()
{
    $parent = $this->input->post('parent');
    echo json_encode(Files::folder_contents($parent));
} 
```

这需要来自 ajax 请求的父参数并获取文件夹内容。
我想显示所有文件。为此，我创建了另一种获取所有文件的模型方法。
现在的问题是，在加载 ajax 请求的文件链接模块中运行并点击上述方法。这是我尝试过的

```
public function folder_contents()
{
    $parent = $this->input->post('parent');
    $modules    =   $this->router->fetch_module();

    if($modules == 'files'){
        echo json_encode(Files::folder_contents($parent));
    }else{
        echo json_encode(Files::getAllFiles());
    }
} 
```

在这种方法中，如果不是文件，我将检查模块名称，然后获取所有文件，但是当调用此方法时，模块始终是文件。此方法位于文件控制器中。另一件事是我不想写 ajax 请求来指向其他地方，因为它是 pre-maid 并且效果很好。
现在我如何设置一些让 getAllFiles() 运行的条件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T02:46:23.410

模块总是显示为“文件”的原因是，*无论*哪个模块触发了 ajax 请求，ajax 请求都会调用 Files 模块。这是一个单独的请求。

要使其正常工作，您可以使用 $parent 值来确定是要返回所有文件还是只返回具有特定父文件夹的文件。如果您从自定义 ajax 调用中删除 POST 值，则 folder_contents() 将返回所有文件，如下所示。

```
public function folder_contents()
{
    $parent = $this->input->post('parent');

    if($parent){
        echo json_encode(Files::folder_contents($parent));
    }else{
        echo json_encode(Files::getAllFiles());
    }
} 
```

由于默认的 ajax 调用 POST 文件夹 ID，因此它仍将仅返回该文件夹中的文件。

# c# - 根据类型处理字典中的通用方法

> ID：14496989
> 
> 赞同：4
> 
> 时间：2013-01-24T08:36:37.853
> 
> 标签：c#, generics, delegates, methodinfo, method-invocation

我有一个通用方法

```
public delegate void Handler<T>(T val); 
```

我使用户能够注册事件并提供此委托。我需要根据他们的类型保存委托列表。

我尝试保存在类型和对象的字典中。添加方法时，我将其转换为

```
List<Handler<T>> 
```

根据 T. 但是当事件发生时我没有 T 所以不能转换到相关的通用处理程序列表（我有 Type 但没有 T）

我通过为每种类型保存 methodInfo 列表来解决这个问题

```
 private Dictionary<Type, List<MethodInfo>>  handlers = new Dictionary<Type, List<MethodInfo>>();

    public delegate void Handler<T>(T val);

    public void Register<T>( Handler<T> handler )
    {
        List<MethodInfo> lst;
        if (!handlers.TryGetValue(typeof(T), out lst))
        {
            lst = new List<MethodInfo>();
            handlers.Add(typeof(T), lst);
        }
       lst.Add(handler.Method);

    }

    public void RaiseEvent( string value)
    {
       foreach (KeyValuePair<Type, List<MethodInfo>> pair in handlers)
            {
                object typedValue;

                if (pair.Key.IsEnum)
                {
                    typedValue = Enum.Parse(pair.Key, value);
                }
                else
                {
                    typedValue = Convert.ChangeType(value, pair.Key);
                }

                foreach (MethodInfo  methodInfo  in pair.Value )
                {
                    methodInfo.Invoke(null, new[] { typedValue });
                }
            }
        }
    } 
```

但问题是这种方法只有在方法是 static 时才有效，否则它将需要类的类型。

这个问题有解决办法吗？？？

启用通用事件...谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T08:58:11.877

也许这会有所帮助：

```
public delegate void Handler<in T>(T val);

private List<Delegate> m_list = new List<Delegate>();

public void AddListener<T>(Handler<T> handler) {
  m_list.Add(handler);
}

public void Call(object eventArg) {
  foreach (var handler in m_list) {
    handler.DynamicInvoke(eventArg);
  }
} 
```

然后，如果您有这样的处理程序：

```
private void MyHandler(int val) {
  // Do something
} 
```

您可以像这样将其添加到列表中：

```
AddListener<int>(MyHandler); 
```

（这假设我正确理解了您要执行的操作。不过我不确定。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T09:50:22.550

您还可以使用非通用委托创建处理程序存储库，例如：

```
public delegate void Handler(object val);
public delegate void Handler<T>(T val);

public class HandlerRepository
{
  private Dictionary<Type, Handler>  handlers = new Dictionary<Type, Handler>();

  public void RegisterHandler<T>(Handler<T> handler)
  {
     //error checking omitted
     //create a non-generic handler that calls the generic handler 
     //with the correct type.
     handlers.Add(typeof(T), (value)=>handler((T)value));
  }

  public void ExecuteHandler<T>(T value)
  {
     //error checking ommited
     handlers[typeof(T)](value);
  }
} 
```

并像这样使用它：

```
Handler<int> handleInt = value => Console.WriteLine("Int32 is {0}", value);
Handler<string> handleString = value => Console.WriteLine("String is {0}", value);
HandlerRepository repo = new HandlerRepository();
repo.RegisterHandler(handleInt);
repo.RegisterHandler(handleString);

//this call boxes the argument to an object   
repo.ExecuteHandler(5);  // "Int32 is 5"
repo.ExecuteHandler("Hello, world"); "String is Hello, world" 
```

# javascript - 如何使用 jQuery 检测两次快速点击并更改两者的操作

> ID：14496990
> 
> 赞同：1
> 
> 时间：2013-01-24T08:36:39.033
> 
> 标签：javascript, jquery, click, settimeout, addclass

我有一些具体的情况。

有点击动作，之后我添加了一些类。在第一次点击时我没有这门课，我想从第一个条件做一些事情，当我在我的按钮上的 700 毫秒间隔中间快速点击第二次时，我需要做其他事情取决于我的课程'v 之前追加。所以我这样做：

```
btn.live('click', function(e){
    block.addClass('animation_time');
    setTimeout(function(){
        block.removeClass('animation_time')
    }, 700);
    if (!block.hasClass('animation_time')){
        // do something
    } else {
        setTimeout(function(){
            // do something
        }, 350);
    }
}); 
```

在这之后我有 CSS 动画，我需要在另一个开始之前允许其中一个，所以这就是我添加这个时间线条件的方式。当我需要检查这个元素和附加类时，有什么不对？谢谢帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T08:39:27.673

您需要在检查他的存在后追加新类，否则 `block.hasClass('animation_time')`将始终为真。

```
btn.live('click', function(e){
    if (block.hasClass('animation_time')){
        // do double click action
    } else {
        setTimeout(function(){
            if (!block.hasClass('animation_time')) {
                // do single click action
            }
        }, 700);
    }
    block.addClass('animation_time');
    setTimeout(function(){
        block.removeClass('animation_time')
    }, 700);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T08:50:41.803

您需要缓存 setTimeout 函数结果，以便能够在第二次单击时清除超时：

```
<input id="btn" type="button" value="Click Me" />
<div class="block">Odio platea! Nec elementum massa elit augue mus ut. Sed tristique dolor,
    rhoncus aliquet urna? Parturient urna scelerisque, adipiscing amet montes
    eu a egestas in, odio est odio, platea nisi enim egestas ac. Scelerisque
    tempor augue scelerisque lectus porttitor! Augue?
</div>

var fastSndClickTimeout = null;
$("#btn").on("click", function () {
    if (fastSndClickTimeout != null) {
        clearTimeout(fastSndClickTimeout);
        fastSndClickTimeout = null;
        $(".block").css("background-color", "green");
    } else {
        fastSndClickTimeout = setTimeout(function () {
            $(".block").css("background-color", "red");
            fastSndClickTimeout = null;
        }, 700);
    }
}); 
```

# c# - 如何在 Xml 中的 XAttribute 名称中添加“：”（命名空间前缀）

> ID：14496991
> 
> 赞同：0
> 
> 时间：2013-01-24T08:36:42.420
> 
> 标签：c#, xml, xml-namespaces

我有一个 xml 文件并在 silverlight 中使用。

```
doc.Descendants(xamlparent).FirstOrDefault().Add(new XAttribute("x:Class","WorkflowConsoleApplication1.modify")); 
```

但是在这个“：”十六进制导致错误。我怎样才能在属性名称中添加这个十六进制。这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T10:17:19.397

您必须查看映射到`x`命名空间前缀的命名空间的 URI。查看 XML 文档的顶部，它将包含类似`xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"`.

`XAttribute`然后，您使用上面的完整 XML 命名空间 URI实例化，如下所示：

```
new XAttribute(XName.Get("Class", "http://schemas.microsoft.com/winfx/2006/xaml"), "WorkflowConsoleApplication1.modify") 
```

进一步阅读：

*   [XName.Get 方法（字符串，字符串）](http://msdn.microsoft.com/en-us/library/bb299741.aspx)
*   维基百科上的[XML 命名空间](http://en.wikipedia.org/wiki/XML_namespace)

# android - 在 ActionBarSherlock 中设置自定义主页布局

> ID：14496993
> 
> 赞同：2
> 
> 时间：2013-01-24T08:36:48.147
> 
> 标签：android, android-actionbar, actionbarsherlock

如何设置自定义布局而不是主页布局？布局通过 XML 定义。我试过了，但应用程序崩溃了。

```
<?xml version="1.0" encoding="utf-8"?>
<resources xmlns:android="http://schemas.android.com/apk/res/android">
<style name="MyStyle" parent="Theme.Sherlock.Light.DarkActionBar">
    <item name="actionBarStyle">@style/Widget.Styled.ActionBar</item>
    <item name="android:actionBarStyle">@style/Widget.Styled.ActionBar</item>
</style>

<style name="Widget.Styled.ActionBar" parent="Widget.Sherlock.Light.ActionBar.Solid.Inverse">
    <item name="homeLayout">@layout/custom_home</item>
    <item name="android:homeLayout">@layout/custom_home</item>
</style> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T09:07:30.013

您无法更改家庭布局。尽管`android:homeLayout`项目是通过 API 公开的，但您无法触摸它而不会导致崩溃。即使您将其设置为`@null`值，它也不会改变。

我认为它错误地出现在 API 中。因为在内部，布局总是被转换`HomeView`为私有布局扩展`FrameLayout`。

永远不要改变`android:homeLayout`！如果您想拥有不同的主页布局，请将其隐藏并创建自定义视图。

# ide - 如何在 Free Pascal IDE 中创建项目文件？

> ID：14496998
> 
> 赞同：2
> 
> 时间：2013-01-24T08:37:08.370
> 
> 标签：ide, project, pascal, freepascal, fpc

我开始学习 Free Pascal 并坚持一个简单但重要的问题：是否可以在控制台 Free Pascal IDE 中创建项目？

如何将两个单元编译为一个程序？

我在互联网上搜索过，但所有链接都指向`Lazarus`，这与`Free Pascal IDE`...不同

我最好的线索是使用 Makefile，但据我所知，这方面的信息也非常非常有限。

那么如何在 Free Pascal IDE 中创建和编译多单元 Pascal 程序呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-24T19:16:38.523

textmode IDE 没有保存文件列表或任何外部构建系统的项目概念。

基本上利用了编译器（即内置）的自动构建功能，因此在主模块（程序）上按编译或构建将编译全部内容。

主模块可以在编译器->主文件中设置，这样编译也可以从非主模块工作。

但是，可以通过将所有 fp.(cfg|dsk|ini) 文件从 FPC 目录复制到项目目录，然后自定义它们（从 IDE 中）来进行本地 IDE 设置（主文件、目录、定义） .

可以将一组配置文件 + 主模块目录的组合视为项目或解决方案。