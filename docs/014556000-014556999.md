# StackOverflow 问答 14556000-14556999

# sql-server-2008 - 我想根据相同的 student_id 合并列的内容

> ID：14556002
> 
> 赞同：1
> 
> 时间：2013-01-28T05:33:17.580
> 
> 标签：sql-server-2008, merge

我在 SQL Server 2008 中有一个像这样的表：

```
st_id   st_rollno  st_name  subject  Theory      Total   Lab      Total
--------------------------------------------------------------------------------
086001  IT001      PRANAV   mat        21           22       11       14
086002  IT002      DEEP     mat        21           22       11       14
086001  IT001      PRANAV   sci        20           24       09       12
086002  IT002      DEEP     sci        21           24       08       12 
```

我希望我的输出如下，使用 SQL Server 2008 功能，如果有任何 1 可以帮助我..？

```
st_id   st_rollno   st_name   subject   Theory   Total            Lab      Total
---------------------------------------------------------------------------------------
086001  IT001      PRANAV   mat,sci 21,20       22,24          11,09       14,12
086002  IT002       DEEP    mat,sci 21,21       22 ,24         11,08       14,12 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:40:12.387

[SQL小提琴](http://sqlfiddle.com/#!3/5ed99/2)

**MS SQL Server 2008 架构设置**：

```
create table YourTable
(
  st_id varchar(6),
  st_rollno varchar(5),
  st_name varchar(6),
  subject varchar(3),
  Theory int,
  Total1 int,
  Lab int,
  Total2 int
)

insert into YourTable values
('086001',  'IT001',      'PRANAV',   'mat',        21,           22,       11,       14),
('086002',  'IT002',      'DEEP  ',   'mat',        21,           22,       11,       14),
('086001',  'IT001',      'PRANAV',   'sci',        20,           24,       09,       12),
('086002',  'IT002',      'DEEP  ',   'sci',        21,           24,       08,       12) 
```

**查询 1**：

```
select T1.st_id,
       T1.st_rollno,
       T1.st_name,
       stuff(T3.X.query('subject').value('.', 'varchar(max)'), 1, 1, '') as subject,
       stuff(T3.X.query('Theory').value('.', 'varchar(max)'), 1, 1, '') as theory,
       stuff(T3.X.query('Total1').value('.', 'varchar(max)'), 1, 1, '') as Total1,
       stuff(T3.X.query('Lab').value('.', 'varchar(max)'), 1, 1, '') as Lab,
       stuff(T3.X.query('Total2').value('.', 'varchar(max)'), 1, 1, '') as Total2
from (
     select st_id, st_rollno, st_name
     from YourTable
     group by st_id, st_rollno, st_name
     ) as T1
cross apply 
     (
     select  ','+T2.subject                     as subject,
             ','+cast(T2.Theory as varchar(10)) as Theory,
             ','+cast(T2.Total1 as varchar(10)) as Total1,
             ','+cast(T2.Lab    as varchar(10)) as Lab,
             ','+cast(T2.Total2 as varchar(10)) as Total2
     from YourTable as T2
     where T1.st_id = T2.st_id and
           T1.st_name = T2.st_name and
           T1.st_rollno = T2.st_rollno
     for xml path(''), type
     ) as T3(X) 
```

**[结果](http://sqlfiddle.com/#!3/5ed99/2/0)**：

```
|  ST_ID | ST_ROLLNO | ST_NAME | SUBJECT | THEORY | TOTAL1 |  LAB | TOTAL2 |
----------------------------------------------------------------------------
| 086001 |     IT001 |  PRANAV | mat,sci |  21,20 |  22,24 | 11,9 |  14,12 |
| 086002 |     IT002 |  DEEP   | mat,sci |  21,21 |  22,24 | 11,8 |  14,12 | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T05:57:29.693

改编自这里：[SQL Server Concatenate GROUP BY](https://stackoverflow.com/questions/10461874/sql-server-concatenate-group-by)你正在寻找这样的东西：

```
SELECT 
 st_id, st_rollno, st_name,
 STUFF
 (
    (
        SELECT 
            ',' +subject  
        FROM
            yourtable
        WHERE
            yourtable.st_id=st_id
        FOR XML PATH('')
    )
,1,1,'') AS subject, 

...

FROM yourtable 
```

这里要理解的核心概念是`stuff`，`for xml`我的语法不太正确，但如果没有其他人发帖，这应该会让你走上正确的道路。当我靠近 SSMS 并可以测试时，我会更新这个。这绝对是可行的。我发现在 MySQL 中使用 Group_Concat 更容易。

# javascript - 我在下面的代码中做错了什么？

> ID：14556003
> 
> 赞同：0
> 
> 时间：2013-01-28T05:33:20.080
> 
> 标签：javascript, html

```
<html>

<h1>MB calculator</h1>

<script type="text/javascript">

var level = "0"; var brawlpoints = "0"; var brawlenergy = "0"; var pointsmake = "0";

function setlv()
{
level = docuent.forms["form"]["lv"].value;
alert("level = " + level);
}

var maxen = 95+(lv*5);
var exptolv = 110+(lv*15);

function setbpbe()
{
brawlpoints = document.forms["form"]["bp"].value;
brawlenergy = document.forms["form"]["be"].value;
alert("points per brawl = " + brawlpoints + "; energy per brawl = " brawlenergy);
}

function pointsupdate()
{
pointsmake = document.forms["form"]["p2m"].value;
alert("you want to make " + pointsmake);
}

function calculate()
{
var math1 = pointsmake/brawlpoints + 1;
var math2 = brawlenergy*math1;
var math3 = maxen*1.75;
var math4 = math2/math3 + 1;

document.write("To achieve your goal it will take you " + math1 + " brawls, this will take you " + math2 + " energy, or " + math4 + " levels, assuming a 75% refill levels you.);
}

</script>

<form name="form">

level:
<input type="text" name="lv" value="0">
<br>
<input type="button" value="update level" onclick="setlv()"> 
<br>
points per brawl done:
<input type="text" name="bp" value="0">
<br>
energy per brawl done:
<input type="text name="be" value="0">
<br>
<input type="button" value="update brawl energy and points" onclick="setbpbe()">
<br>
how many points you want to make:
<input type="text" name="p2m" value="0">
<br>
<input type="button" value="set points you want to make" onclick="pointsupdate()">
</form>

<input type="button" value="calculate" onclick="calculate()">

<h1>LV calculator</h1>

</html> 
```

我看了几次，我不知道我做错了什么......很抱歉发布了整个事情，但我什至无法真正缩小错误所在，我对照一个类似的代码检查了它让它工作正常，我找不到与我一致的名称以外的区别......按钮不起作用。谢谢你的帮助。

Javascript 输出控制台

```
Uncaught ReferenceError: calculate is not defined test.html:64
Uncaught ReferenceError: pointsupdate is not defined test.html:61
Uncaught ReferenceError: setbpbe is not defined test.html:56
Uncaught ReferenceError: setlv is not defined test.html 
```

单击每个按钮时的javascript输出控制台

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T05:41:07.347

你错过了很多东西：比如

```
// lv is not defined anywhere before using here
var maxen = 95+(lv*5);
var exptolv = 110+(lv*15); 
```

此处缺少 concat 运算符

```
alert("points per brawl = " + brawlpoints + "; energy per brawl = " brawlenergy); 
```

应该

```
alert("points per brawl = " + brawlpoints + "; energy per brawl = " + brawlenergy); 
```

此处缺少结束语

```
document.write("To achieve your goal it will take you " + math1 + " brawls, this will take you " + math2 + " energy, or " + math4 + " levels, assuming a 75% refill levels you.); 
```

应该

```
document.write("To achieve your goal it will take you " + math1 + " brawls, this will take you " + math2 + " energy, or " + math4 + " levels, assuming a 75% refill levels you."); 
```

**还有更多**……养成使用javascript控制台的习惯，这样你就知道你的代码哪里出了问题……

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:41:37.420

存在一个拼写错误，而不是文档，您键入的是文档。可能是它导致错误。

# iphone - UItapgesture 不适用于 uitableview

> ID：14556011
> 
> 赞同：0
> 
> 时间：2013-01-28T05:34:03.277
> 
> 标签：iphone, xcode

这是我的代码：

```
UITapGestureRecognizer *gestureRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(resignTextView)];
    [self.tableview addGestureRecognizer:gestureRecognizer];

-(void)resignTextView
{
    [textView resignFirstResponder];
} 
```

我用`UITapGetureRecognizer`. 我不知道为什么它不工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T05:39:31.580

请加

```
 gestureRecognizer.numberOfTapsRequired = numberOfTapsRequired; 
```

int在哪里`numberOfTapsRequired`，然后尝试。（默认是1，你可以试试用2来检查）

并且由于您使用的是 UITableView 我不确定您正在处理哪种类型的层次结构...您可以查看此答案以了解其工作原理。

[UITapGestureRecognizer 中断 UITableView didSelectRowAtIndexPath](https://stackoverflow.com/questions/8192480/uitapgesturerecognizer-breaks-uitableview-didselectrowatindexpath)

# c# - 将类成员的类型链接到 doxygen 中的外部 URL

> ID：14556012
> 
> 赞同：2
> 
> 时间：2013-01-28T05:34:03.393
> 
> 标签：c#, class, doxygen, member, external-url

我正在使用 doxygen 编写 C# 代码库的文档。我正在使用的一些类包括其类型在代码外部的成员变量，并且这些外部类型已经以网页的形式拥有大量文档；我自然想在生成的文档中链接到这些页面。

例如，如果一个类有一个 Foo 类型的成员，而 Foo 属于我的代码库，则 doxygen 在为该类生成“公共属性”部分时会在我的文档中正确生成指向该类的链接。

但是，如果另一个类有一个 Bar 类型的成员，并且 Bar 不属于我的代码库，但在[http://someURL.com/Bar.html](http://someURL.com/Bar.html)上有一个专用于它的网页，我似乎无法打开将“公共属性”部分中的成员类型添加到该页面的链接中。

反正我能做到吗？这个问题对于我的代码库外部的方法参数的类型来说是广泛的，我希望能够将它们的类型名称转换为生成的文档中的适当链接。属性、返回值等也是如此。

提前致谢！

更新：我正在使用 doxygen 1.8.3.1

# image - 服务器更改后 Opencart 产品和横幅图像未出现

> ID：14556013
> 
> 赞同：1
> 
> 时间：2013-01-28T05:34:07.877
> 
> 标签：image, opencart

我在本地服务器上建立了一个基于 opencart 的网站，昨晚我将本地文件移到了一个免费主机上。现在产品和横幅图像无法正常显示。在 chrome 中我去控制台它显示以下错误。

```
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined    
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined
Failed to load resource: the server responded with a status of 404 (Not Found) http://magichomegym.hostingsiteforfree.com/undefined 
```

我也无法在文件管理器的支持下上传图像。如果我上传任何图像，它只是加载很长时间。

我的网站是[http://magichomegym.hostingsiteforfree.com/](http://magichomegym.hostingsiteforfree.com/)

我的根配置文件是，

```
<?php
// HTTP
define('HTTP_SERVER', 'http://magichomegym.hostingsiteforfree.com/');
define('HTTP_IMAGE', 'http://magichomegym.hostingsiteforfree.com/image/');
define('HTTP_ADMIN', 'http://magichomegym.hostingsiteforfree.com/admin/');

// HTTPS
define('HTTPS_SERVER', 'http://magichomegym.hostingsiteforfree.com/');
define('HTTPS_IMAGE', 'http://magichomegym.hostingsiteforfree.com/image/');

// DIR
define('DIR_APPLICATION', '/home/u230336461/public_html/catalog/');
define('DIR_SYSTEM', '/home/u230336461/public_html/system/');
define('DIR_DATABASE', '/home/u230336461/public_html/system/database/');
define('DIR_LANGUAGE', '/home/u230336461/public_html/catalog/language/');
define('DIR_TEMPLATE', '/home/u230336461/public_html/catalog/view/theme/');
define('DIR_CONFIG', '/home/u230336461/public_html/system/config/');
define('DIR_IMAGE', 'home/u230336461/public_html/image/');
define('DIR_CACHE', '/home/u230336461/public_html/system/cache/');
define('DIR_DOWNLOAD', '/home/u230336461/public_html/download/');
define('DIR_LOGS', '/home/u230336461/public_html/system/logs/');

// DB
define('DB_DRIVER', 'mysql');
define('DB_HOSTNAME', 'mysql.1freehosting.com');
define('DB_USERNAME', 'u230336461_homeg');
define('DB_PASSWORD', 'mypassword');
define('DB_DATABASE', 'u230336461_homegym');
define('DB_PREFIX', '');
?> 
```

我的管理配置文件是，

```
<?php
// HTTP
define('HTTP_SERVER', 'http://magichomegym.hostingsiteforfree.com/admin/');
define('HTTP_CATALOG', 'http://magichomegym.hostingsiteforfree.com/');
define('HTTP_IMAGE', 'http://magichomegym.hostingsiteforfree.com/image/');

// HTTPS
define('HTTPS_SERVER', 'http://magichomegym.hostingsiteforfree.com/admin/');
define('HTTPS_CATALOG', 'http://magichomegym.hostingsiteforfree.com/');
define('HTTPS_IMAGE', 'http://magichomegym.hostingsiteforfree.com/image/');

// DIR
define('DIR_APPLICATION', '/home/u230336461/public_html/admin/');
define('DIR_SYSTEM', '/home/u230336461/public_html/system/');
define('DIR_DATABASE', '/home/u230336461/public_html/system/database/');
define('DIR_LANGUAGE', '/home/u230336461/public_html/admin/language/');
define('DIR_TEMPLATE', '/home/u230336461/public_html/admin/view/template/');
define('DIR_CONFIG', '/home/u230336461/public_html/system/config/');
define('DIR_IMAGE', '/home/u230336461/public_html/image/');
define('DIR_CACHE', '/home/u230336461/public_html/system/cache/');
define('DIR_DOWNLOAD', '/home/u230336461/public_html/download/');
define('DIR_LOGS', '/home/u230336461/public_html/system/logs/');
define('DIR_CATALOG', '/home/u230336461/public_html/catalog/');

// DB
define('DB_DRIVER', 'mysql');
define('DB_HOSTNAME', 'mysql.1freehosting.com');
define('DB_USERNAME', 'u230336461_homeg');
define('DB_PASSWORD', 'mypassword');
define('DB_DATABASE', 'u230336461_homegym');
define('DB_PREFIX', '');
?> 
```

有人知道吗？

# php - 如何在 foreach 循环中为相同的属性值设置条件 - php - xml

> ID：14556022
> 
> 赞同：0
> 
> 时间：2013-01-28T05:35:06.463
> 
> 标签：php, loops, xml-parsing

我从 xml 提要中获取数据，然后使用 foreach 循环在 mysql 中插入数据。

但是 xml 提要包含多个具有相同属性的项目，如下所示

但我想要的是，

添加具有相同值的属性的子项

如 xml 所示，属性 tag1111 有 3 种类型的值

如果我在 foreach 循环中添加一些东西，它会被每个循环替换。

我怎样才能做到这一点 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:54:30.313

```
<?php
$requestUrl = "url";
$data = simplexml_load_file($requestUrl);
$i=0;
foreach($data->item as $subitem) {
    if(!in_array($data->item[$i]['promocode'], $arr_promocode))
        $arr_promocode[] = $data->item[$i]['promocode'];
    else{
        $key = array_search($data->item[$i]['promocode'], $arr_promocode);
        $data->item[$key]['clicks'] = $data->item[$key]['clicks'] + $subitem->clicks;
    }
    $arr_program[] = $data->item[$i]['program'];
    $arr_program_name[] = $data->item[$i]['program_name'];
    $clicks = $subitem->clicks;
    $total = $subitem->total;
    $i++;
} 
```

# ruby-on-rails - 如何在 Rails 中使用查询进行简单连接

> ID：14556023
> 
> 赞同：0
> 
> 时间：2013-01-28T05:35:07.310
> 
> 标签：ruby-on-rails, postgresql

我对 Rails 很陌生，但我对 sql 有一些经验，所以现在我真的很难用 Rails 语法做一件简单的事情。

所以，有两个表：

```
class WorkshopMetadata < ActiveRecord::Base
  attr_accessible :uuid, :action
  belongs_to :workshop
end

class Workshop < ActiveRecord::Base
  has_many :workshop_metadatas
end 
```

我想做的查询是：

```
SELECT workshops.*
FROM workshops LEFT JOIN
(SELECT workshop_metadatas.workshop_id as id, workshop_metadatas.uuid 
        FROM workshop_metadatas WHERE uuid = 'smth') as metadatas
WHERE uuid IS NULL 
```

我知道要进行左连接，您必须使用包含，但是我如何包含查询，而不是表？我对此完全感到困惑。

谢谢！

PS 当我们在做的时候，是否有任何好的和全面的 Rails 文档？例如，列出所有可用参数的方法包括方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:58:13.943

我建议阅读[ActiveRecord 查询界面指南](http://guides.rubyonrails.org/active_record_querying.html)——它有点冗长，但它有很多很棒的指针！对于详尽的 API 参考，我通常会将您指向[http://api.rubyonrails.org/](http://api.rubyonrails.org/)，但对于`ActiveRecord::QueryMethods`:( 该指南是最好的选择...

让我重新表述您的查询以确保我的查询正确：您想选择所有*没有*元数据行且 uuid 为 smth 的研讨会？

值得庆幸的是，rails 允许您下拉查询片段，因此您应该能够通过以下方式完成：

```
Workshop.joins(
  'LEFT JOIN workshop_metadatas ON workshop_metadatas.workshop_id = workshops.id'
).where('uuid IS NULL') 
```

（这不是在没有子查询的情况下表达同样的事情吗？如果不是：您应该能够将您的子查询传递给`joins`调用）

# android - 如何使用logcat

> ID：14556025
> 
> 赞同：1
> 
> 时间：2013-01-28T05:35:24.300
> 
> 标签：android, eclipse

如何在 Eclipse 中使用 logcat？我知道它在哪里，但它始终是空白的，并且什么也没有出现。问题可能是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T05:49:53.113

你有没有尝试在 logcat 上打印一些东西，比如。

```
 Log.d("tagname","string you want to execute"); 
```

在你的代码中？

然后检查左侧的 logcat 环境，如果您选择了过滤器，请选择“所有消息（无过滤器）”按钮以确保安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T05:39:05.300

查看左侧面板，您会在其中找到设备符号，单击它，然后选择合适的设备或仿真器，希望它能为您提供 logcat 的信息。

![在此处输入图像描述](../Images/80b5ce76991c19887b9dff515057560c.png)

如果您仍然没有得到任何东西，那么`restart`您的 adb

# android - android：导出的活动不需要权限

> ID：14556026
> 
> 赞同：2
> 
> 时间：2013-01-28T05:35:25.447
> 
> 标签：android, android-layout, android-emulator

当我在清单文件中添加屏幕（src 文件夹）信息时，我收到此警告“导出的活动不需要权限”，但无法解决此问题。任何人都可以为此提供解决方案。请建议我如何在清单文件中添加屏幕（src 文件夹）

```
<application android:allowBackup="true" android:icon="@drawable/ic_launcher"
    android:label="@string/app_name" android:theme="@style/AppTheme">
    <activity android:name="com.projectmine.Simpleproject">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
        >
    </activity>
    <activity
         android:name="com.projectmine.MainActivity">
        <intent-filter>
            <action android:name="com.projectmine.MAINACTIVITY" />
            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>
</application> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T05:38:20.297

请试试这个：

```
<application android:allowBackup="true" android:icon="@drawable/ic_launcher"
android:label="@string/app_name" android:theme="@style/AppTheme">
<activity android:name="com.projectmine.Simpleproject">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />

        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
<activity
     android:name="com.projectmine.MainActivity">
</activity> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:41:07.847

添加

```
android:exported="false" 
```

到您的活动定义

**编辑：**您可以了解有关 android:exported 的更多信息： [Android 指南](http://developer.android.com/guide/topics/manifest/activity-element.html)

同样作为 rIHaN JiTHiN 的回答，它可能是由于 MainActivity 的意图过滤器而发生的

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-17T07:36:16.330

这是一个错误的警告，[CommonsWare已](https://stackoverflow.com/users/115145/commonsware)[在此处](http://code.google.com/p/android/issues/detail?id=33976)提交了一个相关问题，因为应该有一天会修复。

对于类似的线程访问[这里](https://stackoverflow.com/questions/11916590/exported-activity-permission-for-appwidget-configuration-activity)

# algorithm - 最大二分匹配算法测试的样本数据集？

> ID：14556027
> 
> 赞同：0
> 
> 时间：2013-01-28T05:35:26.950
> 
> 标签：algorithm, dataset, bipartite

我需要测试我编写的一些代码来解决最大二分匹配问题。有谁知道我可以用来测试的大型数据集的任何示例？理想情况下，这些将包括二分图的数字表示，最好是大尺寸的，甚至更理想的是，提前包含解决方案，以便我可以检查我的结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:27:32.497

检查你的代码最简单的方法是在像uva这样的在线法官系统上提交它。下面是一个应该通过最大二分匹配算法来解决的问题。你可以试一试。您需要做的就是适应问题的输入/输出，然后提交。

[地鼠二](http://acm.uva.es/p/v100/10080.html)

# php - 对 Twitter API 返回的结果使用 substr_count？

> ID：14556032
> 
> 赞同：0
> 
> 时间：2013-01-28T05:35:55.323
> 
> 标签：php, json, twitter

我正在尝试计算在 Twitter 的结果中使用某个单词的次数，但到目前为止以下内容不起作用：

```
$recentTweets = $connection->get('https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=username');
echo substr_count($recentTweets), 'the'); 
```

如果我使用：

```
$number = substr_count(strip_tags($recentTweets), 'the'); 
```

我得到一个零。

我认为这是因为 Twitter 返回的结果格式不正确，无法与“substr_count”一起使用，但我不知道如何修复它，任何帮助将不胜感激。

如果有帮助，我正在使用 Abraham 的 PHP 库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T05:57:35.777

twitter url 返回 json 编码响应，并且您正在使用[substr_count()](http://php.net/manual/en/function.substr-count.php)，因此更改为：

```
$recentTweets = $connection->get('https://api.twitter.com/1.1/statuses/user_timeline.json?screen_name=username');
$decoded = json_decode($recentTweets); //to array
//loop thru the $decoded array
//get text content and use substr_count() on it 
```

# c - 如何使用并行计算机 (MPI) 将矩阵相乘

> ID：14556034
> 
> 赞同：0
> 
> 时间：2013-01-28T05:36:09.620
> 
> 标签：c, parallel-processing, mpi

我正在努力让我的代码使用 MPI 运行。我正在尝试实现矩阵乘法。

我的代码是这样的

1.  有两个矩阵 A 和 B

2.  分散A的行

3.  广播矩阵 B

4.  计算

5.  收集

我已经编写了代码...但是代码运行不正确...我遇到了分段错误。

我不知道为什么会发生这种情况......我尝试了很多调整代码......但似乎总是有问题。

有人可以检查这段代码并告诉我为什么代码不起作用吗？

我已经添加了评论：

“散射矩阵”

“收集答案”等等......所以即使你可以通过程序的分散部分告诉我为什么它不正确，我会很感激！

```
#define N 512
#include <stdio.h>
#include <math.h>
#include <sys/time.h>
#include "mpi.h"
void print_results(char *prompt, float result[N][N]);
int main(int argc, char *argv[])
{
int i, j, k;
MPI_Status status;
int process_rank;//rank of a process
int no_of_processes;//no. of processes

int Master_To_Slave = 0;
int Slave_To_Master = 5;

float a[N][N], b[N][N], c[N][N];
char *usage = "Usage: %s file\n";
FILE *fd;
double elapsed_time, start_time, end_time;
struct timeval tv1, tv2;
if (argc < 2) {
fprintf (stderr, usage, argv[0]);
return -1;
}
if ((fd = fopen (argv[1], "r")) == NULL) {
fprintf (stderr, "%s: Cannot open file %s for reading.\n",
argv[0], argv[1]);
fprintf (stderr, usage, argv[0]);
return -1;
}
// Read input from file for matrices a and b.
// The I/O is not timed because this I/O needs
// to be done regardless of whether this program
// is run sequentially on one processor or in
// parallel on many processors. Therefore, it is
// irrelevant when considering speedup.
for (i = 0; i < N; i++)
{
    for (j = 0; j < N; j++)
        {
            fscanf (fd, "%f", &a[i][j]);

        }
}
for (i = 0; i < N; i++)
    for (j = 0; j < N; j++)
        fscanf (fd, "%f", &b[i][j]);

int num_of_rows_A = N;
int num_of_cols_A = N;

int num_of_rows_B = N;
int num_of_cols_B = N;

int lower_index_of_A;
int upper_index_of_A;

//TODO: Add a barrier prior to the time stamp.
MPI_Init(&argc, &argv); //initialize MPI operations
MPI_Barrier(MPI_COMM_WORLD); //Added Barrier

// Take a time stamp
gettimeofday(&tv1, NULL);

//TODO: Scatter the input matrices a and b.

    MPI_Comm_rank(MPI_COMM_WORLD, &process_rank); //get the rank
    MPI_Comm_size(MPI_COMM_WORLD, &no_of_processes); //get number of processes

    if(process_rank==0){
        fprintf (stderr, "Main process started");
        fprintf (stderr, "No. of process %d",no_of_processes);
        fprintf (stderr, "\n\n");
        fprintf (stderr, "\n\n");

    for( i=1; i<no_of_processes;i++)
    {
        int rows_per_process = num_of_rows_A/(no_of_processes-1);

         lower_index_of_A = (i-1)*rows_per_process;
       // fprintf (stderr, "Current lower Index of A %s",lower_index_of_A);

        if(i+1==no_of_processes &&((num_of_rows_A%(no_of_processes-1))!=0))
        {
            upper_index_of_A=num_of_rows_A; 
           // fprintf (stderr, "Current upper Index of A %s",upper_index_of_A);
        }
        else
        {         
            upper_index_of_A=lower_index_of_A+rows_per_process;
           // fprintf (stderr, "Current upper Index of A %s",upper_index_of_A);
        }
        fprintf (stderr, "Lower index of A %d", lower_index_of_A);
        fprintf (stderr, "Upper index of A %d", upper_index_of_A);
        fprintf (stderr, "\n\n");

        MPI_Send(&lower_index_of_A,1,MPI_INT,i,Master_To_Slave,MPI_COMM_WORLD); //send lower index
        MPI_Send(&upper_index_of_A,1,MPI_INT,i,Master_To_Slave+1,MPI_COMM_WORLD);//send upper  index

        MPI_Send(&a[lower_index_of_A][0],(upper_index_of_A-lower_index_of_A)*num_of_cols_A,MPI_DOUBLE,i,Master_To_Slave+2,MPI_COMM_WORLD);//send rows of A
        fprintf (stderr, "Scatter done");

    }
    MPI_Bcast(&b, num_of_rows_A*num_of_cols_B, MPI_DOUBLE, 0, MPI_COMM_WORLD);
    fprintf (stderr, "Broadcast done");
    }
    else
    {

        MPI_Recv(&lower_index_of_A, 1, MPI_INT, 0, Master_To_Slave,MPI_COMM_WORLD, &status);

        MPI_Recv(&upper_index_of_A, 1, MPI_INT, 0, Master_To_Slave+1,MPI_COMM_WORLD,&status);

        MPI_Recv(&a[lower_index_of_A], (upper_index_of_A-lower_index_of_A)*num_of_cols_A, MPI_DOUBLE,0, Master_To_Slave+2,MPI_COMM_WORLD, &status);

        //TODO: Add code to implement matrix multiplication (C=AxB) in parallel.

        for( i=lower_index_of_A;i<upper_index_of_A;i++)
        {
            for( j=0;j<num_of_cols_B;j++)
            {
                for( k=0;k<num_of_rows_B;k++)
                {

                    c[i][j]+=(a[i][k]*b[k][j]);

                }
            }
        }

        MPI_Send(&lower_index_of_A, 1, MPI_INT, 0, Slave_To_Master,MPI_COMM_WORLD);
        MPI_Send(&upper_index_of_A, 1, MPI_INT, 0, Slave_To_Master+1,MPI_COMM_WORLD);
        MPI_Send(&c[lower_index_of_A], (upper_index_of_A-lower_index_of_A)*num_of_cols_B, MPI_DOUBLE,0, Slave_To_Master+2,MPI_COMM_WORLD);
    }

//TODO: Gather partial result back to the master process.
    if(process_rank==0)
    {   
        for(i=1;i<no_of_processes;i++)
        {

            MPI_Recv(&lower_index_of_A, 1, MPI_INT, i, Slave_To_Master, MPI_COMM_WORLD, &status);
            //receive upper bound from a slave
            MPI_Recv(&upper_index_of_A, 1, MPI_INT, i, Slave_To_Master + 1, MPI_COMM_WORLD, &status);
            //receive processed data from a slave
            MPI_Recv(&c[lower_index_of_A][0], (upper_index_of_A - lower_index_of_A) * num_of_cols_B, MPI_DOUBLE, i, Slave_To_Master + 2, MPI_COMM_WORLD, &status);
        }

    }

// Take a time stamp. This won't happen until after the master
// process has gathered all the input from the other processes.
gettimeofday(&tv2, NULL);
elapsed_time = (tv2.tv_sec - tv1.tv_sec) +
((tv2.tv_usec - tv1.tv_usec) / 1000000.0);
printf ("elapsed_time=\t%lf (seconds)\n", elapsed_time);
// print results
print_results("C = ", c);
}
void print_results(char *prompt, float result[N][N])
{
int i, j;
printf ("\n\n%s\n", prompt);
for (i = 0; i < N; i++) {
for (j = 0; j < N; j++) {
printf(" %.2f", result[i][j]);
}
printf ("\n");
}
printf ("\n\n");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-03T22:35:13.540

每当发生这种类型的事情时，我都会启动一个调试器。

我总是推荐并行调试器[Allinea DDT](http://www.allinea.com/products/ddt)，但我有偏见，因为我是开发它的团队之一，但它有助于发现这种错误。您也可以尝试 GDB，但这需要更多的手动干预来处理多个进程。

在您的情况下，您发布的代码在我的 MPI（Open MPI）中没有段错误，它实际上挂在 proc 0 中的 MPI_Bcast 处，其余的则挂在循环分支中的 MPI_Sends 处。这是因为 rank 1 及以上没有调用 MPI_Bcast：它们需要匹配发送者、rank 0 并接收数据。

为什么不下载调试器并亲自查看 - 一旦您修复了此广播不匹配，调试器将在您遇到您正在寻找的分段错误时立即停止您的程序并告诉您故障所在。

# javascript - 如何在内容可编辑 iframe 中创建非内容可编辑 div？

> ID：14556035
> 
> 赞同：3
> 
> 时间：2013-01-28T05:36:25.183
> 
> 标签：javascript

我需要将内容可编辑 iframe 中的某些部分设置为不可编辑。我怎么做？下面的代码适用于 chrome，但不适用于 Firefox。Firefox 中的所有内容都是可编辑的。需要复选框不可编辑

```
<iframe contentEditable="true" >
    Editable text<div contentEditable="false"><input type="checkbox" /></div>
</iframe> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-28T05:39:22.477

用这个：

```
Editable text<div contentEditable="false" readonly>Non content editable text</div> 
```

如果你想使用 JQuery：

```
$('#divId').attr('readonly', 'true'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-03T16:51:14.247

我找到了一个带有只读属性的输入文本的解决方案。我发现跨度不可见的输入宽度，并且跨度的宽度超出了我的内容可编辑范围。

像cham一样工作！

# java - 处理器核心数与线程池大小

> ID：14556037
> 
> 赞同：19
> 
> 时间：2013-01-28T05:36:33.530
> 
> 标签：java, multithreading

很多时候我听说最好将线程池中的线程数保持在该系统中的内核数以下。拥有比核心数量多两倍或更多的线程不仅是一种浪费，而且还可能导致性能下降。

这些是真的吗？如果不是，那么揭穿这些主张的基本原则是什么（特别是与 java 相关）？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-01-28T06:45:58.977

> 很多时候我听说最好将线程池中的线程数保持在该系统中的内核数以下。拥有比核心数量多两倍或更多的线程不仅是一种浪费，而且还可能导致性能下降。

*作为一般性声明，*这些说法并不正确。也就是说，有时它们是真实的（或真实的），有时它们显然是错误的。

有几件事是毋庸置疑的：

1.  更多的线程意味着更多的内存使用。每个线程都需要一个线程堆栈。对于最近的 HotSpot JVM，*最小*线程堆栈大小为 64Kb，默认可高达 1Mb。这可能很重要。此外，任何处于活动状态的线程都可能拥有或共享堆中的对象，无论它当前是否可运行。因此可以合理地预期更多的线程意味着更大的内存工作集。

2.  JVM 实际运行的线程不能多于执行硬件上的内核（或超线程内核或其他）。汽车没有引擎就无法运行，线程没有核心就无法运行。

除此之外，事情变得不那么明确了。“问题”是活动线程可以处于各种“状态”。例如：

*   可以运行一个活动线程；即主动执行指令。
*   一个活线程可以运行；即等待一个核心，以便它可以运行。
*   一个活线程可以通过同步；即等待来自另一个线程的信号，或等待释放锁。
*   活动线程可以等待外部事件；例如等待一些外部服务器/服务响应请求。

“每个核心一个线程”启发式假设线程正在运行或可运行（根据上述）。但是对于很多多线程应用程序来说，启发式是错误的……因为它没有考虑其他状态的线程。

现在，“太多”线程显然*会*导致性能显着下降，这很简单，就是使用太多内存。（想象一下，您有 4Gb 的物理内存，并创建了 8,000 个线程和 1Mb 的堆栈。这就是虚拟内存抖动的秘诀。）

但是其他的呢？线程过多*会导致*上下文切换过多吗？

我不这么认为。如果您有很多线程，并且您的应用程序使用这些线程可能会导致过多的上下文切换，这对*性能*不利。但是，我认为上下文切换的根本原因不是线程的实际数量。性能问题的根源更有可能是应用程序：

*   以特别浪费的方式进行同步；例如使用`Object.notifyAll()`何时`Object.notify()`会更好，或者
*   在高度竞争的数据结构上同步，或者
*   相对于每个线程正在做的有用工作量做太多同步，或者
*   试图并行执行太多 I/O。

（在最后一种情况下，瓶颈很可能是 I/O 系统而不是上下文切换……除非 I/O 是 IPC 与同一台机器上的服务/程序。）

另一点是，在没有上述混淆因素的情况下，拥有更多线程不会增加上下文切换。如果您的应用程序有 N 个可运行线程竞争 M 个处理器，并且这些线程纯粹是计算和无争用的，那么操作系统的线程调度程序将尝试在它们之间进行时间片。但是时间片的长度很可能以十分之一秒（或更多）来衡量，因此与 CPU 绑定线程在其片期间实际执行的工作相比，上下文切换开销可以忽略不计。如果我们假设时间片的长度是恒定的，那么上下文切换开销也将是恒定的。添加更多可运行线程（增加 N）不会显着改变工作与开销的比率。

* * *

综上所述，“线程过多”确实对性能有害。然而，对于有多少是“太多”，并没有可靠的通用“经验法则”。而且（幸运的是）在“太多”的性能问题变得严重之前，您通常有相当大的余地。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-28T05:41:23.353

线程数少于内核数通常意味着您*无法*利用所有可用的内核数。

通常的问题是你想要的线程比内核多多少。但是，这会有所不同，具体取决于线程花费在 I/O 之类的事情上的时间（总体）与它们花费在计算上的时间。如果它们都在进行纯计算，那么您通常需要与内核数量相同的线程。如果他们正在执行大量 I/O，您通常需要比内核多得多的线程。

从另一个方向看一会儿，您希望运行足够多的线程，以确保每当一个线程因某种原因阻塞（通常等待 I/O）时，您就有另一个线程（未被阻塞）可在该内核上运行。所需的确切数字取决于每个线程花费多少时间阻塞。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-01-28T05:41:08.793

这不是真的，除非线程的数量远远多于内核的数量。原因是额外的线程将意味着额外的上下文切换。但这不是真的，因为操作系统只会在上下文切换有益的情况下进行非强制上下文切换，并且额外的线程不会强制额外的上下文切换。

如果你创建了一个荒谬的线程数，那会浪费资源。但与创建太少线程的糟糕程度相比，这一切都不算什么。如果您创建的线程太少，意外的块（例如页面错误）可能会导致 CPU 处于空闲状态，并且会消除一些额外的上下文切换可能带来的任何危害。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-28T05:42:03.830

不完全正确，这取决于整体软件架构。保留比可用内核更多的线程是有原因的，以防某些线程被操作系统挂起，因为它们正在等待 I/O 完成。这可能是显式的 I/O 调用（例如从文件同步读取），也可能是隐式的，例如系统分页处理。

实际上，我在一本书中读到，将线程数保持为 CPU 内核数的两倍是一种很好的做法。

# c# - CLEyeMulticam.dll 在我的系统上没有任何位置 PS3 Eye C#

> ID：14556041
> 
> 赞同：1
> 
> 时间：2013-01-28T05:37:32.097
> 
> 标签：c#, dll, camera

我正在尝试在 C# 中使用 PS3 Eye 相机并收到错误“无法加载 DLL 'CLEyeMulticam.dll'：找不到指定的模块。（来自 HRESULT 的异常：0x8007007E）”

运行示例 WinForms 应用程序时。该 DLL 文件不在我系统上的任何位置。安装的 Lib 目录中有一个 CLEyeMulticam.lib 文件。

安装程序不再工作了吗？我可以在某处手动下载 dll，还是我只是错过了什么？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T16:45:31.307

好吧，安装 CL Eye 平台驱动程序（[http://codelaboratories.com/downloads/](http://codelaboratories.com/downloads/)）就可以解决这个问题。

'CLEyeMulticam.dll' 在我的电脑上仍然找不到，但是哦。如果有人碰巧理解它，我仍然很想知道是什么导致了这个错误（或者是什么导致它在 dll 不存在时被修复）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-09-19T18:09:39.993

对于任何难以找到 CLEyeMulticam.dll 的人，您可以在这里找到它：[https ://codelaboratories.com/?ACT=47&fid=13&aid=157_YuOeYe4kVMWACHcBszBD&board_id=1](https://codelaboratories.com/?ACT=47&fid=13&aid=157_YuOeYe4kVMWACHcBszBD&board_id=1)

它将位于：C:\Program Files (x86)\Code Laboratories\CL-Eye Platform SDK\Bin

# node.js - 带有 command.js 的未命名参数

> ID：14556042
> 
> 赞同：20
> 
> 时间：2013-01-28T05:37:37.787
> 
> 标签：node.js, command-line-interface

我目前正在查看[commander.js](https://github.com/visionmedia/commander.js)，因为我想使用Node.js 实现一个CLI。

使用命名参数很容易，正如“披萨”程序的示例所示：

```
program
  .version('0.0.1')
  .option('-p, --peppers', 'Add peppers')
  .option('-P, --pineapple', 'Add pineapple')
  .option('-b, --bbq', 'Add bbq sauce')
  .option('-c, --cheese [type]', 'Add the specified type of cheese [marble]', 'marble')
  .parse(process.argv); 
```

现在，例如，我可以使用以下方法调用程序：

```
$ app -p -b 
```

但是一个未命名的参数呢？如果我想用它来调用它怎么办

```
$ app italian -p -b 
```

? 我认为这并不少见，因此为`cp`命令提供文件也不需要您使用命名参数。只是

```
$ cp source target 
```

并不是：

```
$ cp -s source -t target 
```

如何使用 command.js 实现这一点？

而且，我如何告诉 command.js 需要未命名的参数？例如，如果您查看`cp`命令，则需要源和目标。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2016-02-14T23:28:49.093

使用当前版本的指挥官，可以使用位置参数。有关详细信息，请参阅[有关参数语法的文档](https://github.com/tj/commander.js/#specify-the-argument-syntax)，但使用您的`cp`示例将类似于：

```
program
.version('0.0.1')
.arguments('<source> <target>')
.action(function(source, target) {
    // do something with source and target
})
.parse(process.argv); 
```

如果两个参数都不存在，这个程序会抱怨，并给出适当的警告信息。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-28T08:02:50.497

您可以通过`program.args`. 将以下行添加到您的示例中

```
console.log(' args: %j', program.args); 
```

当你运行你的应用程序时，`-p -b -c gouda arg1 arg2`你会得到

```
you ordered a pizza with:
- peppers
- bbq
- gouda cheese
args: ["arg1","arg2"] 
```

然后你可以写类似

```
copy args[0] to args[1] // just to give an idea 
```

# python - 从 Python 中的字符串创建重叠子字符串列表的最快方法

> ID：14556044
> 
> 赞同：5
> 
> 时间：2013-01-28T05:38:07.093
> 
> 标签：python, string, performance, cython

我正在尝试生成给定字符串中所有重叠的 n 长度子字符串的列表。

例如，对于 n of`6`和字符串，`"hereismystring"`我将生成 list `["hereis", "ereism", "reismy", ..., "string"]`。我现在使用的简单代码如下所示：

```
n = 6
l = len(string)
substrings = [string[i:(i + n)] for i in xrange(l - n + 1)] 
```

很容易。问题是，我想加快速度（我有很多很长的字符串）。Python中有更快的技术吗？考虑到 Python 的字符串例程无论如何都在 C 语言中，是否会下降到 Cython 的帮助？

作为参考，对于 500 长度的字符串和 30 的 n，此技术在我的机器（新的 Macbook Pro）上大约需要 100us。

我在这里先向您的帮助表示感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:54:36.683

从哪种 Python 编码技术最快的问题上退后一步，我会以不同的方式处理这个问题。由于所有字符串的长度相同，并且都来自单个源字符串，为什么不直接使用字符范围，而不是将它们转换为正确的字符串呢？您将避免大量分配和复制，但您必须调整代码以知道每个“字符串”的长度为 n 个字符。

换句话说，当您想使用子字符串时，只需直接从源字符串中读取范围。您将尽可能快地从缓存中提取所需的字符。您可以将“子字符串”仅表示为源字符串的偏移量。

有时，如果您想要超快的性能，您必须放弃熟悉的数据结构。只是一个想法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:13:47.390

怎么样：

```
>>> d = deque("hereismystring")
>>> s = ''.join(d)[:6]
>>> while not len(s) % 6:
...    print s
...    _ = d.popleft()
...    s = ''.join(d)[:6]
... 
hereis
ereism
reismy
eismys
ismyst
smystr
mystri
ystrin
string
>>> 
```

我相信双端队列是 O(1) 而列表是 O(n)

# html - 资产净值需要跨页面证明

> ID：14556047
> 
> 赞同：0
> 
> 时间：2013-01-28T05:38:23.640
> 
> 标签：html, css, nav

我的导航栏有一个背景设置，并且在我的链接的左侧和右侧有 22 像素的填充。由于这不准确，我在右侧有一点空间与以下内容不匹配。

HTML

```
<ul>
<li><a href="#">Bikes</a></li>
<li><a href="#">Components</a></li>
<li><a href="#">Featured Merch</a></li>
<li><a href="#">Accessories</a></li>
<li><a href="#">Nutrition</a></li>
<li><a href="#">Apparel</a></li>
</ul> 
```

然后我的CSS

```
 nav ul {
        margin-left: 0px;
    }

 nav li {
        text-decoration: none;
        display: inline;
        text-transform: uppercase;
        font-size: 18px;
    }

    nav a {
        color: white;
        background-color: #4c4d4f;
        padding: 2px 22px;
    }

    nav a:hover {
        color: #FDB813;
        text-decoration: none;
    } 
```

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T05:55:35.623

首先，`display: inline`造成你提到的空间。将其替换为`float: left`.

那么你可能需要`<li>`s 之间的空格：

```
nav li {
    margin-right: 4px;
} 
```

并删除最后一个边距`<li>`：

```
nav li:last-child {
    margin-right: 0;
} 
```

然后你就有了你想要的行为。

见[jsFiddle](http://jsfiddle.net/k6wy8/)

# javascript - 从 jConfirm 对话框返回值给调用者

> ID：14556049
> 
> 赞同：1
> 
> 时间：2013-01-28T05:38:35.230
> 
> 标签：javascript, jquery, asp.net

我`asp.net`用于开发网站。

它包含一个管理面板，可以在单击取消图像时删除员工。

起初我使用`confirm`javascript 中可用的 , 来处理这个问题，但这将标题显示为`Message from website`.

所以，我计划使用`jConfirm`插件

这是我用过的代码

```
function confirm_delete() {
      jConfirm("Are you sure you want to delete employee?", "Delete Employee", function (callback) {
                if (callback) {
                    return true;
                } else {
                    return false;
                }
            });

        } 
```

这是gridview中的代码：

```
<ItemTemplate>
<asp:ImageButton ID="imgDelete" OnClick="imgDelete_Click" ImageUrl="~/images/delete.gif" runat="server" OnClientClick="return confirm_delete()"/>
</ItemTemplate> 
```

我的问题是，当`imgDelete`单击图像时，它会`confirm_delete()`运行并立即执行整个功能，而无需等待用户确认请求。

虽然普通 javascript 不是这种情况`confirm`，但它会等到用户发出请求。

所以，当我点击`imgDelete`员工记录被删除时，无需等待确认。即使单击确定，函数也始终返回 false。如何摆脱这个？

任何帮助将不胜感激。

**编辑**

jConfirm的js代码：

```
 // jQuery Alert Dialogs Plugin
//
// Version 1.1
//
// Cory S.N. LaViska
// A Beautiful Site (http://abeautifulsite.net/)
// 14 May 2009
//
// Website: http://abeautifulsite.net/blog/2008/12/jquery-alert-dialogs/
//
// Usage:
//      jAlert( message, [title, callback] )
//      jConfirm( message, [title, callback] )
//      jPrompt( message, [value, title, callback] )
// 
// History:
//
//      1.00 - Released (29 December 2008)
//
//      1.01 - Fixed bug where unbinding would destroy all resize events
//
// License:
// 
// This plugin is dual-licensed under the GNU General Public License and the MIT License and
// is copyright 2008 A Beautiful Site, LLC. 
//
(function($) {

    $.alerts = {

        // These properties can be read/written by accessing $.alerts.propertyName from your scripts at any time

        verticalOffset: -75,                // vertical offset of the dialog from center screen, in pixels
        horizontalOffset: 0,                // horizontal offset of the dialog from center screen, in pixels/
        repositionOnResize: true,           // re-centers the dialog on window resize
        overlayOpacity: .01,                // transparency level of overlay
        overlayColor: '#FFF',               // base color of overlay
        draggable: true,                    // make the dialogs draggable (requires UI Draggables plugin)
        okButton: '&nbsp;OK&nbsp;',         // text for the OK button
        cancelButton: '&nbsp;Cancel&nbsp;', // text for the Cancel button
        dialogClass: null,                  // if specified, this class will be applied to all dialogs

        // Public methods

        alert: function(message, title, callback) {
            if( title == null ) title = 'Alert';
            $.alerts._show(title, message, null, 'alert', function(result) {
                if( callback ) callback(result);
            });
        },

        confirm: function(message, title, callback) {
            if( title == null ) title = 'Confirm';
            $.alerts._show(title, message, null, 'confirm', function(result) {
                if( callback ) callback(result);
            });
        },

        prompt: function(message, value, title, callback) {
            if( title == null ) title = 'Prompt';
            $.alerts._show(title, message, value, 'prompt', function(result) {
                if( callback ) callback(result);
            });
        },

        // Private methods

        _show: function(title, msg, value, type, callback) {

            $.alerts._hide();
            $.alerts._overlay('show');

            $("BODY").append(
              '<div id="popup_container">' +
                '<h1 id="popup_title"></h1>' +
                '<div id="popup_content">' +
                  '<div id="popup_message"></div>' +
                '</div>' +
              '</div>');

            if( $.alerts.dialogClass ) $("#popup_container").addClass($.alerts.dialogClass);

            // IE6 Fix
            var pos = ($.browser.msie && parseInt($.browser.version) <= 6 ) ? 'absolute' : 'fixed'; 

            $("#popup_container").css({
                position: pos,
                zIndex: 99999,
                padding: 0,
                margin: 0
            });

            $("#popup_title").text(title);
            $("#popup_content").addClass(type);
            $("#popup_message").text(msg);
            $("#popup_message").html( $("#popup_message").text().replace(/\n/g, '<br />') );

            $("#popup_container").css({
                minWidth: $("#popup_container").outerWidth(),
                maxWidth: $("#popup_container").outerWidth()
            });

            $.alerts._reposition();
            $.alerts._maintainPosition(true);

            switch( type ) {
                case 'alert':
                    $("#popup_message").after('<div id="popup_panel"><input type="button" value="' + $.alerts.okButton + '" id="popup_ok" /></div>');
                    $("#popup_ok").click( function() {
                        $.alerts._hide();
                        callback(true);
                    });
                    $("#popup_ok").focus().keypress( function(e) {
                        if( e.keyCode == 13 || e.keyCode == 27 ) $("#popup_ok").trigger('click');
                    });
                break;
                case 'confirm':
                    $("#popup_message").after('<div id="popup_panel"><input type="button" value="' + $.alerts.okButton + '" id="popup_ok" /> <input type="button" value="' + $.alerts.cancelButton + '" id="popup_cancel" /></div>');
                    $("#popup_ok").click( function() {
                        $.alerts._hide();
                        if( callback ) callback(true);
                    });
                    $("#popup_cancel").click( function() {
                        $.alerts._hide();
                        if( callback ) callback(false);
                    });
                    $("#popup_ok").focus();
                    $("#popup_ok, #popup_cancel").keypress( function(e) {
                        if( e.keyCode == 13 ) $("#popup_ok").trigger('click');
                        if( e.keyCode == 27 ) $("#popup_cancel").trigger('click');
                    });
                break;
                case 'prompt':
                    $("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="' + $.alerts.okButton + '" id="popup_ok" /> <input type="button" value="' + $.alerts.cancelButton + '" id="popup_cancel" /></div>');
                    $("#popup_prompt").width( $("#popup_message").width() );
                    $("#popup_ok").click( function() {
                        var val = $("#popup_prompt").val();
                        $.alerts._hide();
                        if( callback ) callback( val );
                    });
                    $("#popup_cancel").click( function() {
                        $.alerts._hide();
                        if( callback ) callback( null );
                    });
                    $("#popup_prompt, #popup_ok, #popup_cancel").keypress( function(e) {
                        if( e.keyCode == 13 ) $("#popup_ok").trigger('click');
                        if( e.keyCode == 27 ) $("#popup_cancel").trigger('click');
                    });
                    if( value ) $("#popup_prompt").val(value);
                    $("#popup_prompt").focus().select();
                break;
            }

            // Make draggable
            if( $.alerts.draggable ) {
                try {
                    $("#popup_container").draggable({ handle: $("#popup_title") });
                    $("#popup_title").css({ cursor: 'move' });
                } catch(e) { /* requires jQuery UI draggables */ }
            }
        },

        _hide: function() {
            $("#popup_container").remove();
            $.alerts._overlay('hide');
            $.alerts._maintainPosition(false);
        },

        _overlay: function(status) {
            switch( status ) {
                case 'show':
                    $.alerts._overlay('hide');
                    $("BODY").append('<div id="popup_overlay"></div>');
                    $("#popup_overlay").css({
                        position: 'absolute',
                        zIndex: 99998,
                        top: '0px',
                        left: '0px',
                        width: '100%',
                        height: $(document).height(),
                        background: $.alerts.overlayColor,
                        opacity: $.alerts.overlayOpacity
                    });
                break;
                case 'hide':
                    $("#popup_overlay").remove();
                break;
            }
        },

        _reposition: function() {
            var top = (($(window).height() / 2) - ($("#popup_container").outerHeight() / 2)) + $.alerts.verticalOffset;
            var left = (($(window).width() / 2) - ($("#popup_container").outerWidth() / 2)) + $.alerts.horizontalOffset;
            if( top < 0 ) top = 0;
            if( left < 0 ) left = 0;

            // IE6 fix
            if( $.browser.msie && parseInt($.browser.version) <= 6 ) top = top + $(window).scrollTop();

            $("#popup_container").css({
                top: top + 'px',
                left: left + 'px'
            });
            $("#popup_overlay").height( $(document).height() );
        },

        _maintainPosition: function(status) {
            if( $.alerts.repositionOnResize ) {
                switch(status) {
                    case true:
                        $(window).bind('resize', $.alerts._reposition);
                    break;
                    case false:
                        $(window).unbind('resize', $.alerts._reposition);
                    break;
                }
            }
        }

    }

    // Shortuct functions
    jAlert = function(message, title, callback) {
        $.alerts.alert(message, title, callback);
    }

    jConfirm = function(message, title, callback) {
        $.alerts.confirm(message, title, callback);
    };

    jPrompt = function(message, value, title, callback) {
        $.alerts.prompt(message, value, title, callback);
    };

})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T21:54:20.360

这是一个非常困难的情况，因为 jConfirm 没有保持函数的返回，并且 javascript 没有任何机制在用户返回输入之前休眠。

所以你需要用另一种设计来解决这个问题。一个想法是将`onclick`事件保存在一个变量中，用 jConfirm 完全改变它，并且只在 OK 时运行它。

方法如下：http: [//jsfiddle.net/Pgx3A/7/](http://jsfiddle.net/Pgx3A/7/)

```
$(document).ready( function() 
{
    $(".confirm").each(function () 
    {
     // get the actually click function
    var onclick = jQuery(this).attr('onclick');
    // change it here
    $(this).attr('onclick', null).click(function () 
    {
        jConfirm("Are you sure you want to delete employee?", "Delete Employee",function (callback) 
           {
            if (callback) {
                            // onclick(); can work also, or use eval.
                return eval(onclick);
            } else {
                return false;
            }
        });

        return false;            
    });
    });
}); 
```

和html部分：

```
<script src="http://labs.abeautifulsite.net/archived/jquery-alerts/demo/jquery.alerts.js" type="text/javascript"></script>
<link href="http://labs.abeautifulsite.net/archived/jquery-alerts/demo/jquery.alerts.css" rel="stylesheet" type="text/css" media="screen" />

<input id="confirm_button" type="button" value="Show Confirm"  onclick="alert('now run...')" class="confirm" /> 
```

类似的情况，只需使用`confirm`：[https ://stackoverflow.com/a/14147955/159270](https://stackoverflow.com/a/14147955/159270)

你也可以使用另类的设计，比如有一个隐藏的运行按钮，可见的可以询问jConfirm，然后jConfirm运行隐藏的。

当然，如果您成功将其`input`用作自己的回帖，则仍然存在问题，因为此解决方案实际上是尝试触发`onclick`输入按钮上存在（如果存在）的下一个功能。也许这`confirm`是一个很好的快速解决方案，否则您需要设计一个完整的流程来说明如何执行这些步骤。

# java - weblogic.xml 中的错误：cvc-complex-type.2.4.a：发现以元素“prefer-application-packages”开头的无效内容

> ID：14556050
> 
> 赞同：6
> 
> 时间：2013-01-28T05:38:35.287
> 
> 标签：java, xml, spring, spring-mvc, xml-parsing

我正在使用弹簧源工具套件。我在 weblogic.xml 文件中遇到错误——

```
cvc-complex-type.2.4.a: Invalid content was found starting with element 'prefer-   
application-packages'. One of '{"http://www.bea.com/ns/weblogic/weblogic-web-app":retain-
original-url, "http://www.bea.com/ns/weblogic/weblogic-web-app":show-archived-real-path-
enabled, "http://www.bea.com/ns/weblogic/weblogic-web-app":require-admin-traffic,    
"http://www.bea.com/ns/weblogic/weblogic-web-app":access-logging-disabled}' is expected.
enter code here 
```

我的 weblogic.xml 看起来像这样

```
<?xml version="1.0"?>
<weblogic-web-app xmlns="http://www.bea.com/ns/weblogic/weblogic-web-app"     
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.bea.com/ns/weblogic/weblogic-web-app   
http://www.bea.com/ns/weblogic/weblogic-web-app/1.0/weblogic-web-app.xsd">
<jsp-descriptor>
    <keepgenerated>true</keepgenerated>
    <page-check-seconds>60</page-check-seconds>
    <precompile>true</precompile>
    <precompile-continue>true</precompile-continue>
</jsp-descriptor>
<container-descriptor>
    <optimistic-serialization>true</optimistic-serialization>
    <prefer-application-packages>
        <package-name>antlr.*</package-name>
        <package-name>javax.persistence.*</package-name>
        <package-name>org.apache.commons.*</package-name>  
    </prefer-application-packages>
    <show-archived-real-path-enabled>true</show-archived-real-path-enabled>
</container-descriptor>

</weblogic-web-app> 
```

错误显示在标签的开头..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-29T05:38:01.753

```
weblogic-web-app
xmlns:wls="http://xmlns.oracle.com/weblogic/weblogic-web-app"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd
http://xmlns.oracle.com/weblogic/weblogic-web-app
http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd"> 
```

将命名空间更改为上述命名空间..它现在可以工作了..

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-28T09:11:44.627

我对weblogic一无所知，但是您引用的架构

[http://www.bea.com/ns/weblogic/weblogic-web-app/1.0/weblogic-web-app.xsd](http://www.bea.com/ns/weblogic/weblogic-web-app/1.0/weblogic-web-app.xsd)

显示容器描述符元素中预期的子元素，它们不允许使用 prefer-application-packages 元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-25T11:52:53.660

顺序应与下面给出的相同

```
<wls:timeout-secs>1800</wls:timeout-secs>
<wls:cookie-path>/my</wls:cookie-path>
<wls:cookie-secure>true</wls:cookie-secure>
<wls:cookie-http-only>true</wls:cookie-http-only>
<wls:url-rewriting-enabled>false</wls:url-rewriting-enabled> 
```

# delphi - 销毁表单关闭的形状

> ID：14556051
> 
> 赞同：3
> 
> 时间：2013-01-28T05:38:42.457
> 
> 标签：delphi, delphi-xe2

目前，当我单击一个按钮时，它会在新表单上创建一些形状。一旦我关闭了新表格，我该如何破坏它制作的形状。

如果需要，我可以添加更多信息，但希望有一种简单的方法可以在表单关闭时销毁所有 TMachine 实例。

`TMachine`是一个 TShape 类

```
procedure TFLayout1.GetClick(Sender: TObject);
var
  azone: string;
  adept: string;
  machine : TMachine;
begin
  fdb.count := 0;  //keeps track of number of machines in zone
  azone := MyDataModule.fDB.GetZone(Name);    //gets name of zone
  adept := TButton(Sender).Name;       //gets name of dept
  fdeptlayout.ListBox1.Clear;

  fdeptlayout.show;
  with fdeptlayout.ADOQuery1 do
    begin
         sql.Clear;
         sql.BeginUpdate;
         sql.Add('SELECT');
         sql.Add(' *');
         sql.Add('FROM');
         sql.Add(' `MList`');
         sql.Add('WHERE `Zone` = :myzone ');
         sql.Add(' AND `Dept` = :mydept');
         sql.EndUpdate;

         parameters.ParamByName('myzone').Value := azone;
         parameters.ParamByName('mydept').Value := adept;
         open;
    end;

  //gets number of machines in total
  while not fdeptlayout.ADOQuery1.Eof do
    begin
      fdb.count := fdb.count+1;
      fdeptlayout.ADOQuery1.Next;
    end;

  //restarts back at first query
  fdeptlayout.ADOQuery1.First;

   //clears the last x value
   fdb.LastX :=0;

  //creates the shape
  while not fdeptlayout.ADOQuery1.Eof do
    begin
        machine := MachineShape.TMachine.Create(self);
        machine.Parent := fdeptlayout;
        machine.PlaceShape(44,44,'CM402','first','123/33/123');
        fdeptlayout.ListBox1.Items.Add(fdeptlayout.ADOQuery1.FieldByName('Name').AsString);
        fdeptlayout.ADOQuery1.Next;
    end;
end; 
```

TMachine 类

```
unit MachineShape;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, extctrls,myDataModule,Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls;

type

TMachine = class(TShape)
  private
    { Private declarations }
  public
    { Public declarations }
    procedure PlaceShape(sizeW,sizeH :integer; name, order,asset : string);
  end;
implementation

    Procedure TMachine.PlaceShape(sizeW,sizeH :integer; name, order,asset : string);
    begin
       self.width :=  sizeW;
       self.height := sizeH;
       self.top := 136;
       self.left := MyDataModule.fDB.LastX +2;//set left
       MyDataModule.fDB.lastx := left + sizeW;
       showmessage(inttostr(mydatamodule.fDB.LastX));
    end;

end. 
```

FDeptLayout

```
unit DeptLayout;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls,mydatamodule, Vcl.Forms, Vcl.Dialogs, Data.DB, Data.Win.ADODB, Vcl.StdCtrls,
  Vcl.ExtCtrls;

type
  TfDeptLayout = class(TForm)
    ADOQuery1: TADOQuery;
    ListBox1: TListBox;
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  fDeptLayout: TfDeptLayout;

implementation

{$R *.dfm}

procedure TfDeptLayout.FormClose(Sender: TObject; var Action: TCloseAction);
begin

end;

end. 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T05:44:53.993

显示的代码利用了[VCL 所有权模型](http://docwiki.embarcadero.com/Libraries/XE3/en/System.Classes.TComponent.Owner)，表单将为您释放它，因为您只需在创建表单时将表单本身作为组件的所有者传递：

```
machine := MachineShape.TMachine.Create(self); 
```

因为这是从 TFLayout1 类调用的，所以当表单的特定实例正在销毁自身时，它将释放所有拥有的组件。

有关更多信息，您可以阅读文章：[Delphi 中的所有者与父级](http://delphi.about.com/od/objectpascalide/a/owner_parent.htm)。

# 编辑

根据评论，它导致您`TMachine`在与显示它的表单不同的类上创建实例，并且在关闭它时不会破坏表单实例，因此，您可以达到您想要进行此更改的内容：

*   将形状显示为所有者的表单，将创建它们的代码更改为：

    ```
    //don't use self, now the parent is the instance referenced by fdeptlayout
    machine := MachineShape.TMachine.Create(fdeptlayout); 
    ```

*   在您的 Tfdeptlayout 类上，使用以下代码添加 OnClose 处理程序：

    ```
    begin
      for I := ComponentCount - 1 downto 0 do
        if Components[I] is TMachine then
          Components[I].Free;
    end; 
    ```

也就是说，您确实必须阅读文档和参考文章才能对 Delphi 应用程序的幕后情况有所了解。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T05:47:36.470

`Owner`您正在为您的`TMachine`对象分配一个。当`Owner`自身被释放时，形状将被自动释放。

假设`TFLayout1`是你的 Form 类，那么默认情况下它在关闭时不会自动释放。默认情况下隐藏已关闭的表单，因此您可以在需要时重新显示。要在关闭时真正释放它，您必须将事件中的`Action`参数设置为，或者在表单关闭后的某个时间直接调用（例如，如果您使用 显示表单，那么您可以在退出后调用）。`TForm.OnClose``caFree``TForm.Free()``ShowModal()``Free()``ShowModal()`

如果您想自己释放形状而不依赖于的行为，则`Owner`在`Owner`创建`nil`形状时将确保您可以在需要时做到这一点。比如在Form的事件中。`TMachine``TList``TObjectList``OwnsObjects``Clear()``OnClose`

# cuda - 为什么我在 cuda 中尝试此代码时会看到黑屏？

> ID：14556058
> 
> 赞同：1
> 
> 时间：2013-01-28T05:39:35.803
> 
> 标签：cuda, nsight

我在“visual studio 2010”中使用 Win8 和 Nsight，并为我的显卡（9300m Gs）安装了“310.90-notebook-win8-win7-winvista-32bit-international-whql”。但是当我尝试下面的代码时，我看到黑屏！和错误：“显示驱动程序停止响应并已恢复”！我知道问题出在“cudaMemcpy”上，但我不知道为什么！？

```
#include "cuda_runtime.h"
#include "device_launch_parameters.h"

#include <stdio.h>

#define N 8
__global__ void kernel(int *a)
{
int x = threadIdx.x + blockIdx.x * blockDim.x;
int step = x;
while(step<N){
    a[step] =  threadIdx.x;
    step += x;
}
}

int main()
{
int a[N],i=N,j=0;
for(;j<N;j++)
    a[j]=i--;

int *dev_a;
cudaMalloc( (void**)&dev_a, N * sizeof(int) );
cudaMemcpy( dev_a, a, N * sizeof(int), cudaMemcpyHostToDevice);

    kernel<<<2,2>>>(dev_a);

cudaError_t cudaStatus = cudaMemcpy(a, dev_a,N-1 * sizeof(int), cudaMemcpyDeviceToHost);
if (cudaStatus != cudaSuccess) {
    fprintf(stderr, "cudaMemcpy failed!");
    //goto Error;
}

for(j=0;j<N;j++)printf("\n%d",a[j]);

int t;
scanf("%d",&t);
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-28T06:47:27.277

在内核中，`threadIdx.x`= 0 和`blockIdx.x`= 0 的线程即第一个块的第一个线程将无限期地运行，导致内核崩溃。

当`threadIdx.x`= 0 和`blockIdx.x`= 0 时，内核代码将变为：

```
int x = 0;
int step = 0;
while(step<N)
{
    a[step] =  0;
    step += 0; //This will create infinite loop
} 
```

另外（可能是错字），您的代码的以下行中存在逻辑错误：

```
cudaError_t cudaStatus = cudaMemcpy(a, dev_a,N-1 * sizeof(int), cudaMemcpyDeviceToHost); 
```

考虑到 C 中的运算符优先级，表达式`N-1 * sizeof(int)`将计算为`N-4`（如果`sizeof(int)`为 4）。

# iphone - 按图案遮罩图像

> ID：14556061
> 
> 赞同：3
> 
> 时间：2013-01-28T05:39:52.353
> 
> 标签：iphone, ios, uiimageview

如何使用图像中的图案来遮罩/裁剪图片`UIImageView`？任何人都可以帮助我参考吗？

![在此处输入图像描述](../Images/9a6826c458a7c69396e70c4e9219e110.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T05:44:01.537

将两张图片传递给下面的函数。1）要蒙版的图像和 2）您的蒙版图案图像。

```
- (UIImage*) maskImage:(UIImage *)image withMask:(UIImage *)maskImage {

        CGImageRef maskRef = maskImage.CGImage; 

        CGImageRef mask = CGImageMaskCreate(CGImageGetWidth(maskRef),
            CGImageGetHeight(maskRef),
            CGImageGetBitsPerComponent(maskRef),
            CGImageGetBitsPerPixel(maskRef),
            CGImageGetBytesPerRow(maskRef),
            CGImageGetDataProvider(maskRef), NULL, false);

        CGImageRef masked = CGImageCreateWithMask([image CGImage], mask);
        return [UIImage imageWithCGImage:masked];

    } 
```

[你可以在这里](http://mobiledevelopertips.com/cocoa/how-to-mask-an-image.html)参考完整的教程。

如果你想通过传递一些路径来剪辑图像，那么看看这个[SO Answer](https://stackoverflow.com/a/2570861/1070711)。

希望这能解决您的问题。

# c - 在 C 中取消引用指向不完整类型错误的指针

> ID：14556062
> 
> 赞同：1
> 
> 时间：2013-01-28T05:40:02.307
> 
> 标签：c, struct

当我试图访问我定义的结构中的一个字段时，我遇到了这个错误：

```
struct linkNode{
    struct linkNode *next;
    char *value;
}; 
```

在头文件中，我定义了一个名为 linkNode_t 的类型：

```
typedef struct linkNode linkNode_t; 
```

当我尝试在另一个文件的主文件中使用此结构时，其他一切都很好，除非我尝试这样做

```
linkNode_t* currentpath = /*a pointer to a struct of type linkNode_t*/
int something = strlen(currentpath->value);/****ERROR*****/ 
```

编译器给了我不完整的类型错误。我是否正确声明了结构？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:43:08.640

在执行 typedef 之前，必须在 header 中声明 Struct。您可以将两者结合起来：

```
typedef struct linkNode {
    struct linkNode *next;
    char *value;
} linkNode_t; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:50:46.810

正如其他人指出的那样，通常最好将“typedef”和结构定义放在同一个地方。

但这不是必需的，这不是问题所在。

此测试用例编译并正确运行：

```
#include <stdio.h>
#include <string.h>

#define NULL 0

struct linkNode{
    struct linkNode *next;
    char *value;
};

typedef struct linkNode linkNode_t;

linkNode_t rec = {
  NULL,
  "abcdef"
};

int
main (int argc, char *argv[])
{

  linkNode_t* currentpath = &rec;
  int something = strlen(currentpath->value);
  printf ("sizeof (rec)= %d, currentpath->value= %s, something= %d...\n", 
    sizeof (rec), currentpath->value, something);
  return 0;
} 
```

实际问题和解决方案：

1）你在做所有正确的事情。

2）只需确保将“typedef”放在结构定义*之后*（或至少作为其一部分）：

```
struct linkNode{
...
};

typedef struct linkNode linkNode_t; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T05:46:08.730

```
struct linkNode{
    struct linkNode *next;
    char *value;
}; 
```

这是不完整的，因为您不能直接在结构内部使用 struct。

你应该使用

```
typedef struct linkNode{
    struct linkNode *next;
    char *value;
}new_name; 
```

# c# - 在 DateTime.ParseExact 中没有修剪时间

> ID：14556064
> 
> 赞同：1
> 
> 时间：2013-01-28T05:40:09.970
> 
> 标签：c#, asp.net, datetime, ado.net, datetime-parsing

我有一个文本框控件

```
<asp:TextBox ID="TxtStartDate" runat="server" CssClass="Text1"></asp:TextBox> 
```

这需要一个日期和时间，但我只想向数据库发送一个日期。

```
DateTime.ParseExact(TxtStartDate.Text.Trim(), "dd/MM/yyyy", null); 
```

我在cs页面上使用它，但它不会减少时间。有哪些可能的错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:44:06.303

> 我只想向数据库发送一个日期。

使用对象[`Date`](http://msdn.microsoft.com/en-us/library/system.datetime.date.aspx)上的`DateTime`属性。

```
Console.Write(yourDateTimeObject.Date); 
```

这不会修剪，`Time`但会将时间设置为`12:00:00 midnight (00:00:00)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:43:56.603

> 我在cs页面上使用它，但它不会减少时间。

修剪不应该修剪文本框的时间部分。从文本框中删除时间部分或以 DateTime.ParseExact 格式包含时间部分。

```
DateTime dt = DateTime.ParseExact(TxtStartDate.Text.Trim(), "dd/MM/yyyy hh:mm:ss", null);
DateTime onlyDate = dt.Date; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T05:44:52.743

尝试这个

```
DateTime myDate = DateTime.ParseExact(TxtStartDate.Text.Trim(), "yyyy-MM-dd",
                                   System.Globalization.CultureInfo.InvariantCulture) 
```

# gwt - 如何在每个展示示例中获得 gwt 菜单栏中的渐变？

> ID：14556068
> 
> 赞同：0
> 
> 时间：2013-01-28T05:40:33.557
> 
> 标签：gwt

在 Google Web Toolkit Showcase 中，菜单栏示例 ( [http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwMenuBar](http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwMenuBar) ) 将菜单栏的背景显示为渐变色。但是，当我使用他们的 css（来自 gwt 包的 clean.css）时，我得到了坚实的背景。

有谁知道如何获得渐变？他们的 css 文件中没有明确引用“渐变”。仅供参考，我正在使用 iceweasel 3.5.15（本质上是 firefox 3.5.16）对此进行测试。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:20:49.647

它不是渐变 css 样式。而是设置了背景图像***hborder.png***。您可以使用 Chrome Dev Tools 或 Firefox/Firebug 查看样式/背景图像

![在此处输入图像描述](../Images/8c38d1852d792efca9168496f635d72f.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T15:38:39.400

（上面的评论有点难以辨认，我无法编辑它）。

hborder.png 在 css 文件中指定，例如

> .gwt-MenuBar-horizo​​ntal { 背景：#e3e8f3 url(images/hborder.png) 重复-x 0px -2003px; 边框：1px 实心#e0e0e0；}

我希望这会创建渐变，但它似乎没有任何效果。

# c# - 使用高度和宽度重定向页面

> ID：14556069
> 
> 赞同：-2
> 
> 时间：2013-01-28T05:40:41.257
> 
> 标签：c#, asp.net

我怀疑我可以重定向页面，但我可以把高度和宽度放在那里

```
response.redirect("Mypage.aspx"); 
```

例如

```
response.redirect("Mypage.aspx",height="300px",width="200px"); 
```

我在 asp.net 中做这个，c#

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:00:36.123

您无法使用此方法打开页面，请改用 javascript `window.open`。

```
 ClientScript.RegisterStartupScript(this.Page.GetType(), "", "window.open('Mypage.aspx','mywindow','menubar=1,resizable=1,width=300,height=200');", true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:05:11.853

老兄，你迷路了……我建议你先了解web应用程序的服务器端概念，否则学习asp.net的经验可能会令人沮丧……

关于你的问题，没有你想做的事情，页面上的显示是客户端的 html 格式（将样式（例如）应用于 html 元素）

虽然你可以在服务器端映射那些 html ui

# javascript - 在日期选择器中将今天设置为月份的开始日期

> ID：14556070
> 
> 赞同：0
> 
> 时间：2013-01-28T05:40:58.700
> 
> 标签：javascript, jquery-ui-datepicker

我们可以将本月的开始日期设置为今天，并将结束日期设置为下个月的那个日期。

例如：今天是 01/28/2013 日历应该显示从 01/28/2013 到 02/27/2013

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:56:22.850

试试这个（-1D 得到下个月的 27 日，否则今天的日期相同）：

```
$(function() {
    $( "#datepicker" ).datepicker({ minDate: 0, maxDate: "+1M -1D" });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:47:53.130

是的你可以：

做这个：

```
 $(document).ready(function(){
    $("#txtDate").datepicker({ minDate: 0, maxDate: '+1M', numberOfMonths:1 });
}); 
```

# android - 在不插入整个项目代码的情况下如何将一个项目中的类调用到android中的另一个项目中

> ID：14556076
> 
> 赞同：0
> 
> 时间：2013-01-28T05:41:28.590
> 
> 标签：android

```
01-28 13:51:17.332: D/AndroidRuntime(766): Shutting down VM
01-28 13:51:17.332: W/dalvikvm(766): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
01-28 13:51:17.522: E/AndroidRuntime(766): FATAL EXCEPTION: main
01-28 13:51:17.522: E/AndroidRuntime(766): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.canadaqbank.usmle/com.canadaqbank.usmle.USMLEActivity}: java.lang.ClassNotFoundException: com.canadaqbank.usmle.USMLEActivity in loader dalvik.system.PathClassLoader[/data/app/com.canadaqbank.usmle-1.apk]
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.os.Looper.loop(Looper.java:123)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.main(ActivityThread.java:4627)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.reflect.Method.invokeNative(Native Method)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.reflect.Method.invoke(Method.java:521)
01-28 13:51:17.522: E/AndroidRuntime(766):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
01-28 13:51:17.522: E/AndroidRuntime(766):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
01-28 13:51:17.522: E/AndroidRuntime(766):  at dalvik.system.NativeStart.main(Native Method)
01-28 13:51:17.522: E/AndroidRuntime(766): Caused by: java.lang.ClassNotFoundException: com.canadaqbank.usmle.USMLEActivity in loader dalvik.system.PathClassLoader[/data/app/com.canadaqbank.usmle-1.apk]
01-28 13:51:17.522: E/AndroidRuntime(766):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
01-28 13:51:17.522: E/AndroidRuntime(766):  ... 11 more 
```

我想将一个项目类调用到另一个项目中而不保留该项目中的所有整个代码，我将它添加到构建路径中，并在清单文件中声明了该类，但是当我调用它时，它给了我一个`android.view.InflateException: Binary XML file line #8: Error inflating class . I am calling it from intent`.

```
android.view.InflateException: Binary XML file line #8: Error inflating class com.bank.Header
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.os.Looper.loop(Looper.java:123)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread.main(ActivityThread.java:4627)
01-28 10:42:57.503: E/AndroidRuntime(309):  at java.lang.reflect.Method.invokeNative(Native Method)
01-28 10:42:57.503: E/AndroidRuntime(309):  at java.lang.reflect.Method.invoke(Method.java:521)
01-28 10:42:57.503: E/AndroidRuntime(309):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
01-28 10:42:57.503: E/AndroidRuntime(309):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
01-28 10:42:57.503: E/AndroidRuntime(309):  at dalvik.system.NativeStart.main(Native Method)
01-28 10:42:57.503: E/AndroidRuntime(309): Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class com.bank.Header
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.createView(LayoutInflater.java:513)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:565)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:618)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.inflate(LayoutInflater.java:407)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
01-28 10:42:57.503: E/AndroidRuntime(309):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.Activity.setContentView(Activity.java:1647)
01-28 10:42:57.503: E/AndroidRuntime(309):  at com.bank.us.USActivity.onCreate(USActivity.java:25)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
01-28 10:42:57.503: E/AndroidRuntime(309):  ... 11 more
01-28 10:42:57.503: E/AndroidRuntime(309): Caused by: java.lang.reflect.InvocationTargetException
01-28 10:42:57.503: E/AndroidRuntime(309):  at com.bank.Header.<init>(Header.java:223)
01-28 10:42:57.503: E/AndroidRuntime(309):  at java.lang.reflect.Constructor.constructNative(Native Method)
01-28 10:42:57.503: E/AndroidRuntime(309):  at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
01-28 10:42:57.503: E/AndroidRuntime(309):  at android.view.LayoutInflater.createView(LayoutInflater.java:500)
01-28 10:42:57.503: E/AndroidRuntime(309):  ... 21 more
01-28 10:42:57.503: E/AndroidRuntime(309): Caused by: java.lang.NullPointerException
01-28 10:42:57.503: E/AndroidRuntime(309):  ... 25 more 
```

* * *

更新： - 新的 logcat 错误

```
01-28 13:51:17.332: D/AndroidRuntime(766): Shutting down VM
01-28 13:51:17.332: W/dalvikvm(766): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
01-28 13:51:17.522: E/AndroidRuntime(766): FATAL EXCEPTION: main
01-28 13:51:17.522: E/AndroidRuntime(766): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.bank.us/com.bank.us.USActivity}: java.lang.ClassNotFoundException: com.bank.us.USActivity in loader dalvik.system.PathClassLoader[/data/app/com.bank.us-1.apk]
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.os.Looper.loop(Looper.java:123)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.main(ActivityThread.java:4627)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.reflect.Method.invokeNative(Native Method)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.reflect.Method.invoke(Method.java:521)
01-28 13:51:17.522: E/AndroidRuntime(766):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
01-28 13:51:17.522: E/AndroidRuntime(766):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
01-28 13:51:17.522: E/AndroidRuntime(766):  at dalvik.system.NativeStart.main(Native Method)
01-28 13:51:17.522: E/AndroidRuntime(766): Caused by: java.lang.ClassNotFoundException: com.canadaqbank.usmle.USMLEActivity in loader dalvik.system.PathClassLoader[/data/app/com.canadaqbank.usmle-1.apk]
01-28 13:51:17.522: E/AndroidRuntime(766):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
01-28 13:51:17.522: E/AndroidRuntime(766):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
01-28 13:51:17.522: E/AndroidRuntime(766):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
01-28 13:51:17.522: E/AndroidRuntime(766):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T05:43:48.747

如果您正在开始另一个项目的活动，那么您可以通过以下方式进行：

```
Intent intent = new Intent(Intent.ACTION_MAIN);
intent.setComponent(new ComponentName(
                "com.abc.def.packname",
                "com.abc.def.packname.MyActivity"));

startActivity(intent); 
```

# backbone.js - Backbone.js - 重置不触发渲染功能

> ID：14556083
> 
> 赞同：-1
> 
> 时间：2013-01-28T05:42:14.177
> 
> 标签：backbone.js, backbone-views

> **可能重复：**
> [Backbone.js - 添加参数发送以获取不触发集合](https://stackoverflow.com/questions/14460449/backbone-js-add-parameter-sending-to-fetch-not-trigger-the-collection)

在我的函数中，即使我添加了重置以触发我的渲染函数，但什么也没有发生......任何线索我错了我做了什么......？

代码：

```
$(document).ready(function(){

    var school = {};

    school.model = Backbone.Model.extend({
        defaults:{
            name:'name yet to decide'    
        }    
    });

    school.collect = Backbone.Collection.extend({
        model:school.model,
        url:'js/school.json',
        parse:function(response){
            return response;
        }
    });

    school.view = Backbone.View.extend({
        tagName:'div',
        className:'division',
        template:$('#newTemp').html(),
        render:function(){
            var temp = _.template(this.template);
            this.$el.html(temp(this.model.toJSON()));
            return this;
        }
    });

    school.views = Backbone.View.extend({
        el:$('#content'),
        initialize:function(){
            _.bindAll(this);
            this.collection = new school.collect;
            this.collection.bind("reset", this.render);
            this.collection.fetch({
                update:true
            })
        },
        render:function(){
            var that = this;
            _.each(this.collection.models, function(item){
                that.addItems(newItem);
            })
        },
        resets:function(){
            console.log(this.collection.models)
            console.log('calling from resets')    
        },
        addItems:function(item){
            var newItem = new school.collect({model:item});
            this.$el.append(newItem.render().el);
        },
        changed:function(){
            console.log('calling from changed')
        }
    });

    var newSchool = new school.views;
}) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T08:20:55.040

与 Backbone.js 1.0.0 一样，您听`reset`但通过`{reset:true}`选项。

> 当模型数据从服务器返回时，集合将（有效）重置，除非您传递 {update: true}，在这种情况下，它将使用 update （智能）合并获取的模型

[http://backbonejs.org/#Collection-fetch](http://backbonejs.org/#Collection-fetch)

# android - Android admob 不适用于 2.3.3 版视频广告

> ID：14556089
> 
> 赞同：1
> 
> 时间：2013-01-28T05:42:37.423
> 
> 标签：android, admob, ads

目前我已经在我的项目中实现了一个视频广告。我为此使用了[admob 适配器](http://developer.brightroll.com/admob/)。

该演示适用于 4.2.1，但它在 2.3.5 中崩溃。日志如下：

```
01-28 11:03:23.433: D/Database(23886): dbopen(): path = /data/data/com.brightroll.brightrollintegrationexample/databases/webview.db, flag = 6, cannot stat file, errno: 2,message: No such file or directory
01-28 11:03:23.433: D/Database(23886): dbopen(): path = /data/data/com.brightroll.brightrollintegrationexample/databases/webview.db, mode: delete, disk free size: 21 M, handle: 0x252860
01-28 11:03:23.923: V/webviewdatabase(23886): TCP pre connection: creating table in database
01-28 11:03:24.034: D/Database(23886): dbopen(): path = /data/data/com.brightroll.brightrollintegrationexample/databases/webviewCache.db, flag = 6, cannot stat file, errno: 2,message: No such file or directory
01-28 11:03:24.044: D/Database(23886): dbopen(): path = /data/data/com.brightroll.brightrollintegrationexample/databases/webviewCache.db, mode: delete, disk free size: 21 M, handle: 0x24dcf8
01-28 11:03:24.354: D/skia(23886): htcFlashPlugin::htcFlashPlugin
01-28 11:03:24.354: D/qct(23886): [WebView.WebView] >> Enable Shutdown = true
01-28 11:03:24.364: D/WindowManagerImpl(23886): addView, new view, mViews[0]: com.android.internal.policy.impl.PhoneWindow$DecorView@4069dcb0
01-28 11:03:24.454: D/qct(23886): [RequestQueue.ActivePool.ActivePool] >> Enable Shutdown = true
01-28 11:03:24.454: D/qct(23886): [IdleCache.IdleCache] >> IDLE_CACHE_MAX = 40
01-28 11:03:24.764: D/webkit-timers(23886): [JWebCoreJavaBridge::resume] >> do resume
01-28 11:03:25.605: D/dalvikvm(23886): GC_CONCURRENT freed 195K, 40% free 3399K/5639K, external 0K/0K, paused 10ms+5ms
01-28 11:03:25.675: W/dalvikvm(23886): ReferenceTable overflow (max=512)
01-28 11:03:25.675: W/dalvikvm(23886): Last 10 entries in JNI local reference table:
01-28 11:03:25.675: W/dalvikvm(23886):   502: 0x401938b8 cls=Ljava/lang/Class; 'Ljava/lang/String;' (284 bytes)
01-28 11:03:25.675: W/dalvikvm(23886):   503: 0x40696788 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.675: W/dalvikvm(23886):   504: 0x406e5600 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   505: 0x401938b8 cls=Ljava/lang/Class; 'Ljava/lang/String;' (284 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   506: 0x40696788 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   507: 0x406e5698 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   508: 0x401938b8 cls=Ljava/lang/Class; 'Ljava/lang/String;' (284 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   509: 0x40696788 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   510: 0x406e5720 cls=Ljava/lang/String; (28 bytes)
01-28 11:03:25.685: W/dalvikvm(23886):   511: 0x4071e338 cls=Ljava/lang/reflect/Field; (36 bytes)
01-28 11:03:25.685: W/dalvikvm(23886): JNI local reference table summary (512 entries):
01-28 11:03:25.685: W/dalvikvm(23886):   169 of Ljava/lang/Class; 284B (1 unique)
01-28 11:03:25.685: W/dalvikvm(23886):     1 of Ljava/lang/Class; 9332B
01-28 11:03:25.685: W/dalvikvm(23886):     1 of Ljava/lang/reflect/Field; 36B
01-28 11:03:25.685: W/dalvikvm(23886):     1 of [Ljava/lang/reflect/Field; 1548B
01-28 11:03:25.685: W/dalvikvm(23886):   339 of Ljava/lang/String; 28B (171 unique)
01-28 11:03:25.685: W/dalvikvm(23886):     1 of Lcom/brightroll/androidsdk/RTB; 124B
01-28 11:03:25.685: W/dalvikvm(23886): Memory held directly by tracked refs is 16112 bytes
01-28 11:03:25.695: E/dalvikvm(23886): Failed adding to JNI local ref table (has 512 entries)
01-28 11:03:25.695: I/dalvikvm(23886): "WebViewCoreThread" prio=5 tid=9 RUNNABLE
01-28 11:03:25.695: I/dalvikvm(23886):   | group="main" sCount=0 dsCount=0 obj=0x406b1268 self=0x24eef0
01-28 11:03:25.695: I/dalvikvm(23886):   | sysTid=23901 nice=0 sched=0/0 cgrp=default handle=2420776
01-28 11:03:25.695: I/dalvikvm(23886):   | schedstat=( 617278346 715788246 1845 )
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.BrowserFrame.stringByEvaluatingJavaScriptFromString(Native Method)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.BrowserFrame.stringByEvaluatingJavaScriptFromString(Native Method)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.BrowserFrame.loadUrl(BrowserFrame.java:332)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.WebViewCore.loadUrl(WebViewCore.java:1938)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.WebViewCore.access$1900(WebViewCore.java:74)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.WebViewCore$EventHub$1.handleMessage(WebViewCore.java:1079)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.os.Handler.dispatchMessage(Handler.java:99)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.os.Looper.loop(Looper.java:150)
01-28 11:03:25.705: I/dalvikvm(23886):   at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:696)
01-28 11:03:25.705: I/dalvikvm(23886):   at java.lang.Thread.run(Thread.java:1027)
01-28 11:03:25.705: E/dalvikvm(23886): VM aborting 
```

有什么特别需要的吗？

```
 android:minSdkVersion="8"
 android:targetSdkVersion="15" 
```

请提出任何解决方案。

# javascript - 在 Javascript 中循环遍历 JSON 对象数组

> ID：14556097
> 
> 赞同：0
> 
> 时间：2013-01-28T05:43:30.783
> 
> 标签：javascript, json

我原本打算问一个问题，为什么它不起作用。但是当我评论代码时，我意识到我可以访问文本数组样式并`item`给我索引。我花了一段时间才找到这个解决方案，但是我宁愿`item.text`在 for 循环中使用它。这是 [我发布的答案] 在 Javascript 中循环遍历 JSON 对象的有效方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:57:58.463

[没有 JSON 对象之类的东西](http://benalman.com/news/2010/03/theres-no-such-thing-as-a-json/)——一旦你解析了你的 JSON（它是一个字符串），你最终会得到一个简单的对象。或者一个数组。

无论如何，要遍历一组对象，请使用传统的`for`循环。循环可能会起作用，但不推荐使用`for..in`，因为它可能会遍历非数字属性（如果有人一直在弄乱内置数组）。

在您的特定情况下，如果`obj.body.items`是一个数组，则执行以下操作：

```
for (var i = 0; i < obj.body.items.length; i++) {
    // obj.body.items[i] is current item
    console.log(obj.body.items[i].text);
} 
```

`obj.body.`可以说，您还可以通过直接保持对数组的引用而不是每次都通过整个链访问它来使代码更整洁：

```
var items = obj.body.items;
for (var i = 0; i < items.length; i++) {
    console.log(items[i].text);
} 
```

> ***“我宁愿* `item.text` *在 for 循环中使用”***

在您的回答中-确实应该作为问题的一部分发布-因为您正在使用`for..in`循环，因此您的`item`变量被依次设置为每个索引作为字符串，例如，在第一次迭代时，它将是 string `"0"`，并且字符串没有`text`属性，因此`item.text`不起作用-尽管它应该给您`undefined`，而不是`null`. 但是你可以这样做：

```
var item;
for (var i = 0; i < obj.body.items.length; i++) {
    item = obj.body.items[i] // get current item
    console.log(item.text);  // use current item
} 
```

也就是说，`item`在每次循环迭代开始时声明一个您设置为引用当前数组项的变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T05:43:30.783

```
 <script type="text/javascript">
    ...   
    obj = JSON.parse(xmlhttp.responseText);
    // displays the object as expected
    console.log(obj);
    // display the string next as expected
    console.log(obj.body.next);
    // displays the text of the item as expected
    console.log(obj.body.items[0].text);
    for (var item in obj.body.items) {
    // displays the index value of the item
        console.log(item);
    // displays null - WHAT?? HUH?
        console.log(item.text);
    // displays the text - finally
        console.log(obj.body.items[item].text);
    }
    <script> 
```

# android - 在android中检查按钮图像

> ID：14556102
> 
> 赞同：0
> 
> 时间：2013-01-28T05:44:05.330
> 
> 标签：android, image, button

在我的 android 应用程序中，我正在检查按钮的图像。然后更改它。我怎样才能做到这一点？

代码-

```
Drawable a;
a=b1.getBackground();
int i=R.drawable.happy;
// b1 is button
if(a==R.drawable.happy)
 b1.setBackgroundResource(R.drawable.whoa);
else
 b1.setBackgroundResource(R.drawable.happy); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T05:55:10.133

试试这个：

```
Drawable a = b1.getDrawable();
Drawable image = getResources().getDrawable(R.drawable.happy);
// b1 is button
if(image.equals(a))
 b1.setBackgroundResource(R.drawable.whoa);
else
 b1.setBackgroundResource(R.drawable.happy); 
```

# ruby-on-rails - 生成一个唯一且随机的 6 字符长字符串来表示 ruby 中的链接

> ID：14556104
> 
> 赞同：1
> 
> 时间：2013-01-28T05:44:11.830
> 
> 标签：ruby-on-rails, ruby

我正在生成一个唯一且随机的字母数字字符串段来表示将由用户生成的某些链接。为此，我使用**“uuid”**数字来确保它的唯一性和随机性，但是，根据我的要求，字符串的长度不应超过 5 个字符。所以我放弃了这个想法。

然后我决定使用 ruby​​ 的随机函数和当前时间戳生成这样一个字符串。我的随机字符串的代码是这样的：-

```
 temp=DateTime.now
 temp=temp + rand(DateTime.now.to_i)
 temp= hash.abs.to_s(36) 
```

我所做的是将当前日期时间存储在一个临时变量中，然后生成一个随机数，将当前日期时间作为参数传递。然后在第二行中实际将当前日期时间和随机数加在一起，形成一个唯一且随机的字符串。

很快我发现，当我在两台不同的机器上测试我的应用程序并同时发送请求时，它在 100 多次试验后生成了相同的字符串（虽然很少见）。

现在我在想，在将 to_s(36) 传递给 temp 变量之前，我应该再添加一个参数，例如 mac 地址或客户端 IP 地址。但无法弄清楚如何做到这一点，即使那样它是否会是独一无二的，也不是......

谢谢....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T05:52:20.133

[ruby 中的SecureRandom](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/securerandom/rdoc/SecureRandom.html)使用进程 ID（如果可用）和当前时间。您可以使用 urlsafe_base64(n= 16) 类方法来生成您需要的序列。根据您的要求，我认为这是您最好的选择。

编辑：经过一番测试，我仍然认为这种方法会生成非唯一键。我为条形码生成解决这个问题的方法是：

```
barcode= barcode_sql_id_hash("#{sql_id}#{keyword}") 
```

在这里，您的关键字可以是时间 + pid。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-28T12:53:03.337

如果您确定您永远不需要超过给定 M 数量的唯一值，并且您只需要防止猜测下一个生成的 id 的基本保护，您可以使用[线性同余生成器](http://en.wikipedia.org/wiki/Linear_congruential_generator)来生成您的标识符。您所要做的就是记住最后生成的 id，并使用以下公式使用它来生成新的：

*newid* = ( *A* * *oldid* + *B* ) mod *M*

如果 2³² 不同的 id 值足以满足您的需求，请尝试：

```
def generate_id
  if @lcg
    @lcg = (1664525 * @lcg + 1013904223) % (2**32)
  else
    @lcg = rand(2**32) # Random seed
  end
end 
```

现在只需选择一组合适的字符来代表 id 少至 6 个字符。大写和小写字母应该可以解决问题，因为 (26+26)^6 > 2^32：

```
ENCODE_CHARS = [*?a..?z, *?A..?Z]

def encode(n)
  6.times.map { |i|
    n, mod = n.divmod(ENCODE_CHARS.size)
    ENCODE_CHARS[mod]
  }.join
end 
```

例子：

```
> 10.times { n = generate_id ; puts "%10d = %s" % [n, encode(n)] }

2574974483 = dyhjOg
3636751446 = QxyuDj
 368621501 = bBGvYa
1689949688 = yuTgxe
1457610999 = NqzsRd
3936504298 = MPpusk
 133820481 = PQLpsa
2956135596 = yvXpOh
3269402651 = VFUhFi
 724653758 = knLfVb 
```

由于 LCG 的性质，生成的 id 不会重复，直到所有 2³² 值每个都被使用过一次。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T06:56:58.117

您无法生成只有五个字符的**唯一**UUID，对于字符和数字，您的基本空间大约为 56 个字符，因此最多有 56^5 个组合，大约 5.51 亿（大约 2^29）。

如果使用此方案，您将要生成 10.000 个 UUID（UUID 的数量非常少），您将有 1/5.000 的概率生成冲突。使用加密时，足够大空间以避免冲突的标准定义约为 2^80。

从这个角度来看，如果你的算法只生成一个随机整数（一个 32 位 uint 是 2^32，是你提议的大小的 8 倍），你的算法会更好，这显然是一个坏主意。

# cocos2d-iphone - 如何在 cocos2d 中为灰度 CCSprite 着色？

> ID：14556105
> 
> 赞同：1
> 
> 时间：2013-01-28T05:44:13.997
> 
> 标签：cocos2d-iphone, shader, grayscale, colorize

我想通过编程给cocos2d中的一个灰度CCSprite上色，例如灰度CCSprite为：

[http://cc.cocimg.com/bbs/attachment/Fid_18/18_171059_43b48b6f1bc40a5.png](http://cc.cocimg.com/bbs/attachment/Fid_18/18_171059_43b48b6f1bc40a5.png)

输出 CCSprite 是：

[http://cc.cocimg.com/bbs/attachment/Fid_18/18_171059_574b2f34cb78b49.png](http://cc.cocimg.com/bbs/attachment/Fid_18/18_171059_574b2f34cb78b49.png)

但我无法得到正确的结果。

如果我使用 [CCSprite setColor]，我得到一个 CCSprite 是深色的，我使用了 CCRenderTexture 并尝试了两种不同的 blendFunc，

```
-(CCSprite *) try1:(CCSprite *)gray color:(ccColor3B) color
{
    CCRenderTexture *rtx = [CCRenderTexture renderTextureWithWidth:gray.contentSize.width height:gray.contentSize.height];
    ccColor4F c = ccc4FFromccc3B(color);
    [rtx beginWithClear:c.r g:c.g b:c.b a:c.a];
    gray.position = ccp(gray.contentSize.width/2, gray.contentSize.height/2);
    gray.blendFunc = (ccBlendFunc){GL_ONE_MINUS_SRC_COLOR, GL_SRC_COLOR};
    [gray visit];
    [rtx end];

    CCSprite *sp = [CCSprite spriteWithTexture:rtx.sprite.texture];
    sp.flipY = YES;
    return sp;
} 
```

另一个是：

```
-(CCSprite *) try2:(CCSprite *)gray color:(ccColor3B) color
{
    CCRenderTexture *rtx = [CCRenderTexture renderTextureWithWidth:gray.contentSize.width height:gray.contentSize.height];
    ccColor4F c = ccc4FFromccc3B(color);
    [rtx beginWithClear:c.r g:c.g b:c.b a:0];
    gray.position = ccp(gray.contentSize.width/2, gray.contentSize.height/2);
    gray.blendFunc = (ccBlendFunc){GL_SRC_COLOR, GL_SRC_ALPHA};
    [gray visit];
    [rtx end];

    CCSprite *sp = [CCSprite spriteWithTexture:rtx.sprite.texture];
    sp.flipY = YES;
    return sp;
} 
```

我什至尝试了着色器：

```
#ifdef GL_ES
precision mediump float;
#endif
uniform sampler2D u_texture;
varying vec2 v_texCoord;
varying vec4 v_fragmentColor;

uniform vec4 u_fillcolor;

#pragma debug(on)

void main(void)
{
    vec4 c = texture2D(u_texture, v_texCoord);

    float r;
    float g;
    float b;

    r = u_fillcolor.r + (2.0 * c.r - 1.0);
    g = u_fillcolor.g + (2.0 * c.g - 1.0);
    b = u_fillcolor.b + (2.0 * c.b - 1.0);

    gl_FragColor = vec4(r,g,b, c.a);
} 
```

但输出不正确。

你能帮我找到一种输出正确 CCSprite 的方法吗？

谢谢。

（我是stackoverflow的新用户，我的声誉不足以添加图像，所以我必须添加图像作为链接。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T09:46:01.803

如果您不经常更改颜色，则此方法将起作用。

```
typedef struct _SOARGB {
    unsigned char a;
    unsigned char r;
    unsigned char g;
    unsigned char b;
} SOARGB;

+(CGImageRef)colorizeImage:(CGImageRef)image {
    CGContextRef contextRef = [self createARGBBitmapContext:image];
    NSAssert(contextRef != nil, @"Failed to create context");
    // Get image width, height. We'll use the entire image.
    size_t width = CGImageGetWidth(image);
    size_t height = CGImageGetHeight(image);
    CGRect rect = {{0,0},{width,height}};

    // Draw the image to the bitmap context.
    CGContextDrawImage(contextRef, rect, image);

    // Get a pointer to the image data associated with the bitmap context.
    SOARGB *data = (SOARGB*)CGBitmapContextGetData (contextRef);
    NSAssert(data != NULL, @"Could not retrieve pixel data from context");

    //
    // Do the colorization job.
    //

    // This colorization method is ONLY an example and
    // should probably be changed!
    SOARGB tint;
    tint.r = 255;
    tint.g = 0;
    tint.b = 0;
    tint.a = 0;

    for (int i = 0; i < width*height; i++) {
        SOARGB *c = &data[i];
        CGFloat alpha = c->r / 255.0;
        c->r -= (c->r - tint.r)*0.3*alpha*alpha;
        c->g -= (c->g - tint.g)*0.3*alpha*alpha;
        c->b -= (c->b - tint.b)*0.3*alpha*alpha;
    }

    // End of coloriation job

    // Create image from modified context
    return CGBitmapContextCreateImage(contextRef);
}

+(CGContextRef)createARGBBitmapContext:(CGImageRef)inImage {
    CGContextRef    context = NULL;
    CGColorSpaceRef colorSpace;
    void *          bitmapData;
    int             bitmapByteCount;
    int             bitmapBytesPerRow;

    // Get image width, height. We'll use the entire image.
    size_t pixelsWide = CGImageGetWidth(inImage);
    size_t pixelsHigh = CGImageGetHeight(inImage);

    // Declare the number of bytes per row. Each pixel in the bitmap in this
    // example is represented by 4 bytes; 8 bits each of red, green, blue, and
    // alpha.
    bitmapBytesPerRow   = (pixelsWide * 4);
    bitmapByteCount     = (bitmapBytesPerRow * pixelsHigh);

    // Use the generic RGB color space.
    colorSpace = CGColorSpaceCreateDeviceRGB();
    if (colorSpace == NULL)
    {
        fprintf(stderr, "Error allocating color space\n");
        return NULL;
    }

    // Allocate memory for image data. This is the destination in memory
    // where any drawing to the bitmap context will be rendered.
    bitmapData = malloc( bitmapByteCount );
    if (bitmapData == NULL)
    {
        fprintf (stderr, "Memory not allocated!");
        CGColorSpaceRelease( colorSpace );
        return NULL;
    }

    // zeroing out the data
    memset(bitmapData, 0, bitmapByteCount);

    // Create the bitmap context. We want pre-multiplied ARGB, 8-bits
    // per component. Regardless of what the source image format is
    // (CMYK, Grayscale, and so on) it will be converted over to the format
    // specified here by CGBitmapContextCreate.
    context = CGBitmapContextCreate (bitmapData,
                                     pixelsWide,
                                     pixelsHigh,
                                     8,      // bits per component
                                     bitmapBytesPerRow,
                                     colorSpace,
                                     kCGImageAlphaPremultipliedFirst);
    if (context == NULL)
    {
        free (bitmapData);
        fprintf (stderr, "Context not created!");
    }

    // Make sure and release colorspace before returning
    CGColorSpaceRelease( colorSpace );

    return context;
} 
```

使用上述方法加载精灵：

```
UIImage *image = [UIImage imageNamed:@"myImage.png"];
CGImageRef colorizedImageRef = [self colorizeImage:image.CGImage];
CCSprite *colorizedSprite = [CCSprite spriteWithCGImage:colorizedImageRef key:@"myImage"]; 
```

希望这可以帮助。

# erlang - trap_exit EXIT msg 和 common msg 之间的竞争条件

> ID：14556109
> 
> 赞同：6
> 
> 时间：2013-01-28T05:44:35.403
> 
> 标签：erlang

嗨，问题如下：假设我们有链接的进程 A 和 B。进程的 A 标志 trap_exit 设置为 true。让 B 进程向 A 发送一条消息然后退出：

```
PidA ! 'msg',
exit(reason). 
```

我想知道我们是否可以确定进程 A 将收到 'msg' 并且只有在它 {'EXIT', Pid, reason} 之后才会出现？我们可以预测消息的顺序吗？我在文档中找不到任何证据，但我想它会这样工作，但我需要一些证据。不想在这里有比赛条件..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T16:19:41.063

至于不要让这个问题悬而未决。这是 erlang-questions 邮件列表中的讨论：

[http://thread.gmane.org/gmane.comp.lang.erlang.general/66788](http://thread.gmane.org/gmane.comp.lang.erlang.general/66788)

长话短说：所有消息都是信号（或所有信号都是消息），出口被视为来自流程的消息，保证以它们发送的相同顺序到达。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T16:57:14.403

对我来说听起来像是代码味道。为什么需要依赖`trap_exit`？您是否考虑过替代方案，例如适当的监控？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T08:14:00.643

我在这里有 O'Reilly Erlang 编程书，在第 4 章的消息传递部分，它说：

> 邮件按投递顺序存储在邮箱中。如果两条消息从一个进程发送到另一个进程，则保证消息按照它们发送的相同顺序被接收。但是，此保证不会扩展到从不同进程发送的消息，并且在这种情况下，排序取决于 VM。

但是，在您的情况下，我不确定退出消息实际上来自进程 B。它可能起源于 VM 内部的某个地方。如果我想确定，我实际上会让进程 A 在收到您的通知消息时触发进程 B 的退出。

# sql - SQL查询不会得到数据

> ID：14556113
> 
> 赞同：-1
> 
> 时间：2013-01-28T05:45:08.780
> 
> 标签：sql

谁能告诉我这个 SQL 有什么问题

```
SELECT 
    ctransno, cplateno, ctransfrm, ctransto, dtransdate 
FROM 
    VTRANSFERS 
WHERE 
    dtransdate = '1/28/2013' 
ORDER BY 
    dtransdate DESC` 
```

此 SQL 运行但它不会检索数据，`dtransdate`属于`DATETIME`类型

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:48:00.273

当您已经指定日期时，dtransdate = '1/28/2013'

那么你怎么能期望在相同的日期进行降序排序呢？在发布之前先考虑您的查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T05:49:53.787

如果您使用的是 sql server，则使用`DateDiff`函数。

```
SELECT ctransno,cplateno,ctransfrm,ctransto,dtransdate
FROM VTRANSFERS WHERE DATEDIFF(dd,dtransdate ,'1/28/2013')=0 
ORDER BY dtransdate DESC 
```

# php - 如何将图像复制到 Amazon S3？

> ID：14556114
> 
> 赞同：1
> 
> 时间：2013-01-28T05:45:09.970
> 
> 标签：php, amazon-s3, copy

我在将图像复制到 Amazon S3 时遇到问题

我正在使用 PHP 复制功能将图像从一台服务器复制到另一台服务器..它适用于 go-daddy 主机服务器。但它不适用于 S3。这是不起作用的代码：

```
$strSource =http://img.youtube.com/vi/got6nXcpLGA/hqdefault.jpg

copy($strSource ,$dest); 
```

$dest 是我的存储桶 url，其中包含用于上传图像的文件夹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:35:37.553

我不确定您是否可以像那样将图像复制到 AWS。我建议使用与 AWS 服务器对话的库，然后运行您的命令。

检查这个 - [http://undesign.org.za/2007/10/22/amazon-s3-php-class](http://undesigned.org.za/2007/10/22/amazon-s3-php-class)

它`REST`为 AWS 提供了一个实现。

例如，如果要复制图像，可以执行以下操作：

```
$s3 = new S3($awsAccessKey, $awsSecretKey);
$s3->copyObject($srcBucket, $srcName, $bucketName, $saveName, $metaHeaders = array(), $requestHeaders = array()); 
```

`$awsAccessKey`并且`$awsSecretKey`是 AWS a/c 的密钥。

检查一下，希望它有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:48:59.427

这是我从文档中复制 S3 存储桶中的对象的示例

```
public function copyObject($sSourceKey, $sDestKey)
    {
        $this->checkKey($sSourceKey);
        $this->checkKey($sDestKey);

        $bRet = false;

        // http://docs.aws.amazon.com/aws-sdk-php-2/latest/class-Aws.S3.S3Client.html#_copyObject
        try {
            $response = $this->_oS3Client->copyObject(
                array(
                    'Bucket' => $this->getBucketName(),
                    'Key' => $sDestKey,
                    'CopySource' => urlencode($this->getBucketName() . '/' . $sSourceKey),
                )
            );

            if (isset($response['LastModified'])) {
                $bRet = true;
            }
        } catch (Exception $e) {

            $GLOBALS['error'] = 1;
            $GLOBALS["info_msg"][] = __METHOD__ . ' ' . $e->getMessage();
            $bRet = false;
        }

        return $bRet;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:40:47.273

不确定您是否使用过[AWS PHP 开发工具包](http://aws.amazon.com/sdkforphp/)，但 AWS 开发工具包可以在这种情况下派上用场。SDK 可以与 IAM 角色结合使用，以授予对您的 S3 存储桶的访问权限。这些是步骤：

1.  修改您的代码以使用 PHP SDK 上传文件（如果需要）。
2.  创建一个 IAM 角色并将该角色权限授予所需的 S3 存储桶。
3.  当您启动 EC2 实例时，指定您要使用该角色。

然后您的代码将自动使用您授予该角色的权限。IAM 为开发工具包使用的实例提供临时凭证。IAM 和 EC2 会自动为您轮换这些凭证。

# matlab - GUI 轴上的 3D 散点图

> ID：14556116
> 
> 赞同：1
> 
> 时间：2013-01-28T05:45:19.497
> 
> 标签：matlab, plot, scatter-plot

我`scatter3`在我的 gui 中有一个问题`axes`，该`scatter3`函数不支持将轴句柄作为参数传递。

* * *

Mathworks 文档中的函数语法 [没有关于轴句柄的内容]

```
scatter3(X,Y,Z,S,C)
scatter3(X,Y,Z)
scatter3(X,Y,Z,S)
scatter3(...,markertype)
scatter3(...,'filled')
scatter3(...,'PropertyName',propertyvalue)
h = scatter3(...) 
```

* * *

假设轴句柄是`hAxes`. 这是来自函数文档的示例数据：

```
[x,y,z] = sphere(16);
X = [x(:)*.5 x(:)*.75 x(:)];
Y = [y(:)*.5 y(:)*.75 y(:)];
Z = [z(:)*.5 z(:)*.75 z(:)];
S = repmat([1 .75 .5]*10,numel(x),1);
C = repmat([1 2 3],numel(x),1); 
```

**Q1：** *如何使用手柄在轴上绘制 3D 散点图`hAxes`？*

**Q2：**我发现问题只发生在一个轴上，散点图出现在 2D 中，就好像它是一个正常的`scatter`.

可能是什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:40:58.223

**答案1：**

虽然没有提到，但似乎轴句柄可以正常传递，这个 cab 可以通过以下代码轻松完成：

```
scatter3(hAxes, X(:),Y(:),Z(:),S(:),C(:),'filled'); 
```

**答案2：**

它是 3D 的，但需要一个旋转工具才能从不同角度获取视图！

# java - 人们如何让 Java SPNEGO 客户端在 Windows 中工作？

> ID：14556119
> 
> 赞同：16
> 
> 时间：2013-01-28T05:45:51.727
> 
> 标签：java, spnego, gssapi, sspi, negotiate

为了在 Windows 上使用 Java 进行客户端 HTTP SPNEGO 身份验证，您需要设置 Windows 注册表项[allowtgtsessionkey](http://support.microsoft.com/kb/2627903 "允许会话密钥")。这是有据可查的。我不明白的是人们如何解决这个问题？大多数公司网站永远不会接受为了单个软件而在 Windows 中更改此注册表项。如果需要在组织中的每个工作站上进行更改，还要考虑一下麻烦。但这只是理论，因为到目前为止我无法说服我们的任何客户更改此注册表项。

我不怪他们。大多数公司管理员会认为这是一种*放松*安全措施，因此会反对。

我读过这篇文章： [Java 或命令行实用程序中是否有办法使用本机 SSPI API 获取服务的 Kerberos 票证？](https://stackoverflow.com/questions/2335896/is-there-a-way-in-java-or-a-command-line-util-to-obtain-a-kerberos-ticket-for-a)

但它现在已经很旧了。

所以我真的，真的不明白人们如何让 Windows + Java 客户端 + Kerberos 在大学环境、家庭用户等之外的任何地方工作。

*我从企业管理员那里得到的问题是“当 IE 和 Firefox 等应用程序在不设置此键的情况下执行 SPNEGO没有*问题时，为什么我们需要设置此注册表键？”。嗯，我知道答案是什么。这是因为（很可能）IE 和 Firefox 等应用程序基于 Windows 原生 GSS API (SSPI)，而 Sun 的 Java 使用自己的实现。

我假设使用类似[WAFFLE](http://dblock.github.com/waffle/ "胡扯")的东西可以解决问题，但我更喜欢纯 Java 解决方案。我还假设使用基于 Java 的解决方案（例如 Spring security 或 Apache HttpClient）将无济于事，因为它们都会遇到这个问题。

任何帮助或指示将不胜感激。

**更新1**：

我发现在 Oracle 的错误数据库中有一个[RFE](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6722928 "关于在 Windows 上支持 SSPI 的 RFE")。Oracle 员工也[提交了一个补丁，并](http://cr.openjdk.java.net/~weijun/6722928/webrev.00/)[在 JDK 邮件列表中讨论了这个特性](http://mail.openjdk.java.net/pipermail/security-dev/2012-August/005330.html)。除了据我所知，这在当前的 Java 7 中是不可用的，甚至不是实验性的，这并没有让我变得更聪明。正确的？

**更新2**：

这个问题现在在 OpenJDK 安全开发邮件列表中[再次出现。](http://mail.openjdk.java.net/pipermail/security-dev/2017-April/015777.html)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-28T10:30:32.190

感谢您在 security-dev 邮件列表中引用我的线程；-) 我的中期目标是通过认可的类路径使这个补丁可用于 Java 6+。您可能对我最近创建的这张 WAFFLE 票感兴趣：[https ://github.com/dblock/waffle/issues/50](https://github.com/dblock/waffle/issues/50)

我也评估了 WAFFLE，但它不像 Java-GSS 那样必须创建重复的代码，这是我想尽一切办法避免的事情。

这整个问题并不完全是甲骨文的错。Microsoft 只是通过 LSA`CallPackage`功能阻止对会话票证的任何调用。借口是安全。当我无法合理访问 TGT 时，我真的很想知道 SSPI 如何创建服务票证。因此，这样的封闭源解决方案很糟糕。

目前，您只有三个选择：

1.  通过Java方式再次获取TGT
2.  试试华夫饼
3.  编写自定义代码

我已经埋葬了蹩脚的注册表项，因为它无论如何都不适用于具有域帐户的本地管理员。就我而言，Windows 上的 Tomcat 开发者同时调用了 Java 的 kinit。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2021-11-04T15:59:47.353

对于使用 Java 8 寻找简单解决方案的人来说，[Waffle](https://github.com/Waffle/waffle)是最佳选择。

代码：

```
import java.net.URI;
import java.util.Base64;

import waffle.windows.auth.IWindowsSecurityContext;
import waffle.windows.auth.impl.WindowsSecurityContextImpl;

public class KerberosCredentiels {

  /**
   * Generate current user token using Kerberos ticket
   */
  public String retrieveToken(URI uri) {
    IWindowsSecurityContext clientContext = WindowsSecurityContextImpl.getCurrent("Kerberos", convertToSPN(uri));
    byte[] token = clientContext.getToken();

    return Base64.getEncoder().encodeToString(token);
  }

  private static String convertToSPN(URI uri) {
    StringBuilder builder = new StringBuilder();

    builder.append("http/");
    builder.append(uri.getHost());

    return builder.toString();
  }

} 
```

Maven依赖：

```
<dependency>
    <groupId>com.github.waffle</groupId>
    <artifactId>waffle-jna</artifactId>
    <version>1.8.3</version>
</dependency>

<dependency>
    <groupId>net.java.dev.jna</groupId>
    <artifactId>jna-platform</artifactId>
    <version>4.3.0</version>
</dependency>

<dependency>
    <groupId>net.java.dev.jna</groupId>
    <artifactId>jna</artifactId>
    <version>4.3.0</version>
</dependency> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-02T14:57:42.347

现在 Apache HTTP 客户端中包含了一个非常好的解决方案，使用 JNA 从本机 SSPI API 获取票证。看到这个答案：

[https://stackoverflow.com/a/22865583/381161](https://stackoverflow.com/a/22865583/381161)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-11-22T22:48:13.640

从 Java 13 开始，JDK 中现在为 Windows 自己的 GSS API（又名 SSPI）提供了内置支持。

请参阅[Java 13 的发行说明](https://www.oracle.com/technetwork/java/13-relnote-issues-5460548.html)以及[JDK-6722928](https://bugs.openjdk.java.net/browse/JDK-6722928)。

**更新：** 现在已向[后移植到 Java 11](https://bugs.openjdk.java.net/browse/JDK-8234694)。您需要使用 Java 11.0.10 或更高版本。`sspi_bridge.dll`如果您的 JDK 发行版包含在目录中命名的文件，您可以识别它是否支持 SSPI `bin`。

甚至还有[向后移植到 Java 8 的门票，](https://bugs.openjdk.java.net/browse/JDK-8234695)但截至 2021 年 11 月，它尚未实施。

# java - Java：打印数组：IndexOutOfBoundsException：索引：2，大小：2

> ID：14556121
> 
> 赞同：0
> 
> 时间：2013-01-28T05:46:07.817
> 
> 标签：java, arrays, indexoutofboundsexception

我正在尝试使用 System.out.print() 打印数组的内容，但遇到此错误：

```
Exception in thread "AWT-EventQueue-0" java.lang.IndexOutOfBoundsException: Index: 2, Size: 2
at java.util.ArrayList.rangeCheck(ArrayList.java:604)
at java.util.ArrayList.get(ArrayList.java:382)
at Polymorphism.actionPerformed(Polymorphism.java:196)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
at java.awt.Component.processMouseEvent(Component.java:6505)
at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
at java.awt.Component.processEvent(Component.java:6270)
at java.awt.Container.processEvent(Container.java:2229)
at java.awt.Component.dispatchEventImpl(Component.java:4861)
at java.awt.Container.dispatchEventImpl(Container.java:2287)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
at java.awt.Container.dispatchEventImpl(Container.java:2273)
at java.awt.Window.dispatchEventImpl(Window.java:2713)
at java.awt.Component.dispatchEvent(Component.java:4687)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)
at java.awt.EventQueue.access$000(EventQueue.java:101)
at java.awt.EventQueue$3.run(EventQueue.java:666)
at java.awt.EventQueue$3.run(EventQueue.java:664)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
at java.awt.EventQueue$4.run(EventQueue.java:680)
at java.awt.EventQueue$4.run(EventQueue.java:678)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:90) 
```

错误所指的行是第 3 行：

```
 else if (e.getSource() == printArray) {
        for (int q=0; q<j; q++){
            System.out.print("Type: " + itemList.get(j).selectedType + "    ");
            System.out.print("Width: " + itemList.get(j).selectedWidth + "    ");
            System.out.print("Length: " + itemList.get(j).selectedLength + "    ");
    }
} 
```

我没有任何调试器经验，所以我很感激任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T05:51:02.367

正如 Renjith 所说，更改为**.get(j)**，您还可以确保永远不会遇到您所处的情况

代替

```
for (int q=0; q<j; q++) { 
```

做

```
for (int q=0; q<itemList.size(); q++) { 
```

这样你就不能从任何大于列表/数组大小的东西中获取

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T05:47:24.277

我猜你指的是错误的索引。

将 itemList.get(j) 更改为 itemList.get(q) ；

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T05:52:59.347

代替

```
 System.out.print("Type: " + itemList.get(j).selectedType + "    ");
        System.out.print("Width: " + itemList.get(j).selectedWidth + "    ");
        System.out.print("Length: " + itemList.get(j).selectedLength + "    "); 
```

和

```
 System.out.print("Type: " + itemList.get(q).selectedType + "    ");
   System.out.print("Width: " + itemList.get(q).selectedWidth + "    ");
   System.out.print("Length: " + itemList.get(q).selectedLength + "    "); 
```

原因是您正在使用列表大小的查找值遍历列表。

当循环索引（始终为 < listsize）大于 listsize（在本例中为 2）时，条件被打破

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T05:49:35.330

那是大错特错！采用：

```
else if (e.getSource() == printArray) {
        for (int q=0; q<j; q++){
            System.out.print("Type: " + itemList.get(q).selectedType + "    ");
            System.out.print("Width: " + itemList.get(q).selectedWidth + "    ");
            System.out.print("Length: " + itemList.get(q).selectedLength + "    ");
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-28T05:56:18.073

您正在使用此代码打印元素

```
 itemList.get(j).selectedType 
```

你需要使用这个

```
 itemList.get(q).selectedType 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-28T05:49:10.510

如果`j`是您的项目列表的大小，`itemList.get(j)`它将给您一个超出范围的索引，因为从零开始的索引只会转到 j - 1。`itemList.get(q)`从您的代码看起来像您想要的那样。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-28T05:52:51.017

看来这是一个`pretty common mistake`. 如果您正在使用 any `IDE like Eclipse`，您应该考虑了解更多关于`Debug Perspective`.

# jquery - 通过 append 动态创建元素后的 jQuery 无法返回 htmldivelement。相反，它返回对象

> ID：14556124
> 
> 赞同：-2
> 
> 时间：2013-01-28T05:46:13.660
> 
> 标签：jquery, append

```
$("#mainMenu").children('li').eq(0).children('a').bind({
    click : function() { 
```

在这里，我正在清除块和部分。并通过附加动态创建它们`worksParser();`。

```
 $('aside > *').remove();
        $('section > *').remove();
        worksParser(); 
```

在这里我想从 AsideToSection 调用函数。并将刚刚附加的 dom 元素发送`$('aside').children('.workExample')`到一边。

```
 var x = $('aside').children('.workExample');
        alert(x);
        fromAsideToSection.call(x); 
```

但是 x 返回`(object object)`，而不是`(object HtmlDivElement)`。我如何发送`(object HtmlDivElement`) 来发挥作用？

```
 }
});

function worksParser() {
    $.ajax({
        type : "GET",
        url : "base.xml",
        dataType : "xml",
        success : function(xml) {
            $(xml).find('siteExample').each(function() {
                var name_dump = $(this).attr('name');
                var mediaType_dump = $(this).attr('mediaType');
                var media_dump = $(this).attr('media');
                var video_dump = $(this).text();
                var description_dump = $(this).attr('description');
                var url_dump = $(this).attr('url');

                if (mediaType_dump != 'video') {
                    $('aside').append('<div class="workExample"><div class="mediaName">' + name_dump + '</div><div class="exampleMedia"><img src="' + media_dump + '" alt="" /></div><div class="descrExample" style="display: none">' + description_dump + '</div><div class="urlExample" style="display: none">' + url_dump + '</div></div><div class="separator"></div>');
                } else {
                    $('aside').append('<div class="workExample"><div class="mediaName">' + name_dump + '</div><div class="exampleMedia"><img src="' + media_dump + '" alt="" /></div><div class="descrExample" style="display: none">' + description_dump + '</div><div class="videoExample" style="display: none">' + video_dump + '</div></div><div class="separator"></div>');
                }
            });
        }
    });
}

function fromAsideToSection() {
    alert(this);
    if ($(this).children('.videoExample').length > 0) {
        $('section > *').remove();
        $('section').append('<div id="mediaName" class="mediaName">' + $(this).children(".mediaName").text() + '</div><div id="mediaBlock"></div><div id="mediaMore">Описание</div><div id="mediaDescription">' + $(this).children('.descrExample').text() + '</div>');
        $('section').children('#mediaBlock').append($(this).children(".videoExample").children().clone("withDataAndEvents, deepWithDataAndEvents"));

    } else {
        $('section > *').remove();
        $('section').append('<div id="mediaName" class="mediaName">' + $(this).children(".mediaName").text() + '</div><div id="mediaBlock"><a target="_blank" style="" href="' + $(this).children('.exampleMedia').children('img').attr('src') + '"> <img src=' + $(this).children('.exampleMedia').children('img').attr('src') + ' alt="1.jpg"></a></div><div id="mediaMore">Описание</div><div id="mediaDescription">' + $(this).children('.descrExample').text() + '</div>');
    }
    sectHeight = null;
    oldHeight = null;
    sectHeight = $('section').height();
    $('aside').height(sectHeight);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:19:38.280

这听起来像是[.get()](http://api.jquery.com/get/) *的工作

```
x.get(); 
```

[根据您提交的简单小提琴](http://jsfiddle.net/gillyspy/xKKvY/)

Buuut，你的函数`fromAsideToSection`（顺便说一句被截断了）正在使用`$(this)`，所以如果这是一个元素或一个 jQuery 对象，那没关系 - jQuery 会识别它，并且无论是 jQuery ，`$(this)`最终都会本质上是一样的`this`对象或 DOM 元素。我在小提琴中强调了这一点。

**不要与 ajax 简写 jQuery.get() 混淆参考：api.jquery.com/jQuery.get/*

# c# - 以编程方式使用条件格式在 Excel 工作表中查找重复值

> ID：14556125
> 
> 赞同：1
> 
> 时间：2013-01-28T05:46:16.580
> 
> 标签：c#, excel, formatting, conditional

我需要以编程方式使用条件格式在 Excel 工作表中查找重复值。

试过这种方式，但在 6 行代码中我有 COM 异常

> 无法转换为 Excel.FormatCondition

这是我的代码

```
Excel.Workbook xlWB = Application.ActiveWorkbook;
Excel.Worksheet xlWS = xlWB.ActiveSheet;
xlWS.Range["B2:B9"].Select();
Excel.Range xlS = Application.Selection;
xlS.FormatConditions.AddUniqueValues();
Excel.FormatCondition xlFC = 
    (Excel.FormatCondition)xlS.FormatConditions[xlS.FormatConditions.Count];
xlFC.SetFirstPriority();
Excel.FormatCondition xlFC1 = (Excel.FormatCondition)xlS.FormatConditions[1];
xlFC1.Interior.Pattern = Excel.XlPattern.xlPatternAutomatic;
xlFC1.Interior.TintAndShade = 0;
xlFC1.Interior.Color = ColorTranslator.FromOle(13551615); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:24:12.413

看看它[MSDN 链接](http://social.msdn.microsoft.com/Forums/en/vsto/thread/995f883c-bd4c-4f9a-b4cd-099320d5c721)

或者你可以使用这样的东西

```
 Excel.Range usedRange = Worksheet.UsedRange;
 usedRange.Interior.Color =    
 System.Drawing.ColorTranslator.ToOle(System.Drawing.Color.Red);

  FormatCondition format = (FormatCondition)(Worksheet.get_Range("A1:D13",
            Type.Missing).FormatConditions.Add(XlFormatConditionType.xlExpression,    
  XlFormatConditionOperator.xlEqual,
            "=$A1=$D1", Type.Missing, Type.Missing, Type.Missing, Type.Missing, 
  Type.Missing));

   format.Font.Bold = true;
   format.Interior.Color = 
   System.Drawing.ColorTranslator.ToOle(System.Drawing.Color.Yellow);//Duplicate values 
```

希望这有帮助..它对我有用

# php - PHP更新不起作用

> ID：14556127
> 
> 赞同：0
> 
> 时间：2013-01-28T05:46:49.700
> 
> 标签：php, sql, pdo, sql-update

我正在构建一个自定义 CMS，并且我编写了一个脚本，该脚本*应该*编辑我的数据库中已有的信息。

我之前已经将代码用于不同的数据库，并且它可以正常工作，但是我已经更改了索引名称以引用新数据库，现在它无法正常工作。

信息显示在带有“编辑”按钮的页面上，该按钮将用户链接到 html 表单，该表单在文本框中显示选定的信息。

在表单中显示信息没有问题，但是一旦按下提交按钮，代码就不会执行它，并且信息不会更新，也不会显示错误消息..

所以我相当确定这其中某处存在问题......（忽略评论）

```
 if (isset($_GET['edittimeslot']))
    {   
       $timeslotid = $_GET['timeslotid']; 

       try
       {
          $sql = "SELECT timeslotid, Time FROM timeslots WHERE timeslotid = timeslotid" ;
          //echo $sql;
          $data = $pdo->query($sql);
          $timeslots = $data->fetch();
          //print_r($acts);
       }
       catch(PDOException $e)
       {
          echo "this didnt work" .$e->getMessage()  ;
       }

       $pagetitle = 'Edit your date here';
       $timeslotid = $timeslots['timeslotid'];
       $time = $timeslots['Time'];
       $button = 'Edit timeslot';
       include 'timeslot.form.php';
       exit();
    }

     // is all of the requested feilds appropiate
    if (isset($_POST['submit']) && $_POST['submit'] == 'Edit timeslot')
    {       
       // get the form data that was posted ready to insert into the stage database
       $timeslotid = $_POST['timeslotid'];
       $time= htmlspecialchars($_POST['time']);

       try
       {
           // prepare the query to insert data into stages table
           $sql = "UPDATE timeslots 
                                    SET Time = :Time,
                                    WHERE timeslotid = :timeslotid";

           $stmt = $pdo->prepare($sql);
           $stmt->bindParam(':Time', $time);
           $stmt->bindParam(':timeslotid', $timeslotid);
           $stmt->execute();
        }
        catch(PDOException $e)
        {
           //error message goes here if the insert fails
        }
  } 
```

HTML：

```
 <!doctype html>
<head>
    <style type="text/css">
        .container {
            width: 800px;
            margin: 0 auto;
        }
    </style>
</head>
<body>
<div class="container">
<h1><?php echo $pagetitle;?></h1>

<form action='.' method='post'>
    <!-- stage name -->
    <p><label for='time'> What is the timeslots you would like to add? 00:00-00:00 </label></p>
    <p><input type='text' name='time' id='time' value='<?php echo $time;?>'> </p>
    <p><input type='submit' name='submit' value='<?php echo $button;?>'></p>
</form>

</div>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T05:56:36.247

不`WHERE timeslotid = timeslotid`应该`WHERE timeslotid = $timeslotid`吗？

此外，直接使用表单值是一个坏主意。至少像`$timeslotid = (int)$_GET['timeslotid'];`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:15:53.960

好的，我马上看到的一件事是这一行：

```
$timeslotid = $_POST['timeslotid']; 
```

表单中的那个表单域在哪里？我在任何地方都看不到它。还尝试将执行分配给一个变量并 var_dump 它，以便您可以查看它是返回 TRUE 还是 FALSE：

```
$success = $stmt->execute();
var_dump($success); 
```

此外，请确保您的数据库列被命名为**时间**，而不是全部小写的**时间。**

# java - 这个 RadioGroup 布局或其 LinearLayout 父级是无用的

> ID：14556133
> 
> 赞同：2
> 
> 时间：2013-01-28T05:47:50.810
> 
> 标签：java, android

我正在尝试嵌入`RadioGroup`，`LinearLayout`以便将元素动态添加到我的布局中。我的代码在这里

`

```
<RadioButton
    android:id="@+id/dailyCheck"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/dailyCheck"/>

<RadioButton
    android:id="@+id/selectedCheck"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/selectedCheck" />

<RadioButton
    android:id="@+id/specificCheck"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/specificCheck" /> 
```

`

这样做会显示一个异常：

`This RadioGroup layout or its LinearLayout parent is useless`

请建议我该怎么做。

为什么不能`LinearLayout`和`RadioGroup`在一起在一个文件中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:52:34.720

```
package app.test;

import android.app.Activity;
import android.os.Bundle;

import android.view.Gravity;
import android.widget.LinearLayout;
import android.widget.RadioGroup;

public class Test extends Activity implements
RadioGroup.OnCheckedChangeListener {
  RadioGroup orientation;
  RadioGroup gravity;

  @Override
  public void onCreate(Bundle icicle) {
super.onCreate(icicle);
setContentView(R.layout.main);

orientation = (RadioGroup) findViewById(R.id.orientation);
orientation.setOnCheckedChangeListener(this);
gravity = (RadioGroup) findViewById(R.id.gravity);
gravity.setOnCheckedChangeListener(this);
  }

  public void onCheckedChanged(RadioGroup group, int checkedId) {
switch (checkedId) {
case R.id.horizontal:
  orientation.setOrientation(LinearLayout.HORIZONTAL);
  break;

case R.id.vertical:
  orientation.setOrientation(LinearLayout.VERTICAL);
  break;

case R.id.left:
  gravity.setGravity(Gravity.LEFT);
  break;

case R.id.center:
  gravity.setGravity(Gravity.CENTER_HORIZONTAL);
  break;

case R.id.right:
  gravity.setGravity(Gravity.RIGHT);
  break;
}
  }
}

//main.xml

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  >
  <RadioGroup android:id="@+id/orientation"
android:orientation="horizontal"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:padding="5px">
<RadioButton
  android:id="@+id/horizontal"
  android:text="horizontal" />
<RadioButton
  android:id="@+id/vertical"
  android:text="vertical" />
  </RadioGroup>
  <RadioGroup android:id="@+id/gravity"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:padding="5px">
    <RadioButton
      android:id="@+id/left"
      android:text="left" />
    <RadioButton
      android:id="@+id/center"
      android:text="center" />
    <RadioButton
      android:id="@+id/right"
      android:text="right" />
  </RadioGroup>
   </LinearLayout> 
```

# c - 在 C 中使用 crypt 函数时出现问题

> ID：14556138
> 
> 赞同：-1
> 
> 时间：2013-01-28T05:48:16.150
> 
> 标签：c, encryption, cs50

我在 C 中使用 crypt 函数，我在其中给命令行输入一个加密的单词。我使用 /usr/share/dict/words 中的单词并使用 crypt 函数对其进行加密，然后将 crypt 函数的加密输出与命令行输入进行比较。如果单词相同，则我使用 printf 语句将未加密的代码作为输出给出。代码如下。

```
 #include<stdio.h>
    #define _XOPEN_SOURCE
    #include<unistd.h>
    #include<cs50.h>
    #include<string.h>
    int
    main(int argc, string argv[]){
    char line[80];
    string crypto;
    if(argc>2||argc<2)
     {
     printf("ERROR. Enter only one crypt");
     return 1;
     }
    string crypti=argv[1];
    FILE *fr;
    string as;
    fr=fopen("/usr/share/dict/words","r");
    if(!fr)
        {
      printf("File can't be read");
      exit(-1);
        }
    while(fgets(line,80,fr)!=NULL)
      {
      as=crypt(line,"50");
      if(strcmp(as,crypti)==0)
       {
     printf("%s",line);
      break;
       }
       }
    fclose(fr);
   } 
```

该代码似乎仅适用于 1 个输入，即当我给出“./a.out 50q.zrL5e0Sak”（不带引号）时。但是，如果我对 crypt 使用任何其他输入，则代码似乎会失败。另一个密码：加密密码的例子是 abaca:50TZxhJSbeG1I。abaca 一词出现在列表中，但无法识别。我无法修复此代码以适用于所有输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:06:32.500

将以下代码段添加到`while (fgets...)`正文的开头：

```
 size_t len = strlen(line);
  if (len)
    line[len-1]='\0'; 
```

读取的缓冲区末尾通常有一个换行符`\n`（读取时）`fgets`。

您的原始代码适用，`"password"`因为`crypt`. 它也适用于长度为 8 或更长的任何单词。

此外，通过在格式字符串中添加换行符或（如果您不想输出额外的换行符）调用，确保在打印结果后刷新输出`fflush(stdout)`：

```
printf("%s\n",line);
/* or */
printf("%s",line);
fflush(stdout); 
```

# c - 减少循环中的内存访问 (C)

> ID：14556142
> 
> 赞同：1
> 
> 时间：2013-01-28T05:48:43.077
> 
> 标签：c

我有一个关于减少循环中的内存调用数量的问题。考虑下面的代码（这不是我的代码，因为它太长了，我不能在这里表示它）：

```
for(k=0;k<n;k++)
{
    y[k] = x[0]*2 + z[1];
} 
```

如您所见，在每次迭代中，内存中的相同块 (x[0], z[1]) 都被调用。我想知道当同一个内存块被多次调用时，是否有任何方法可以减少内存访问。提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T05:52:13.067

简单地说，在循环之前获取值：

```
i = x[0];
j = z[1];
for(k=0;k<n;k++)
{
    y[k] = i*2 + j;
} 
```

当然，即使您不进行任何更改，编译器也会对此进行优化（*如果可以的话），但这有助于编写更具可读性和直观性的代码。*您不需要在每次迭代中获取值，您编写的代码应该表明这一点。
**忘记微优化编写更直观和可读的代码！**

正如评论中正确指出的那样，右手表达式完全独立于循环，因此：

```
i = x[0]*2 + z[1];
for(k=0;k<n;k++)
{
    y[k] = i;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T05:58:39.770

这是你可以做的。

```
float value =  x[0]*2 + z[1];

for(k=0;k<n;k++)
{
  y[k] = value;
} 
```

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T05:59:14.670

```
v = x[0]*2 + z[1];
for(k=0;k<n;++k) y[k] = v 
```

假设 x[0] 和 z[1] 没有映射到 y[0..n-1]

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T06:53:55.983

如果`z`类型比`int`（例如`char`）短，您可以尝试以下技巧：

```
char value = x[0]*2 + z[1];
unsigned int value32 = value | (value << 8) | (value << 16) | (value << 24);

unsigned int k;

// Going by blocks of 4
for(k = 0; k < n - n%4; k+=4) {
    (unsigned int)z[k] = value32;
}

// Finishing loop
for(; k < n; k++) {
    z[k] = value;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T05:55:28.483

编译器会对此进行优化，

但是，如果您使用没有优化的损坏编译器：您可以将它们都放在`register`整数中，然后使用它们。像这样：

```
x0 = x[0]*2;
z1 = z[1];
y0 = x0 + z1;
register int k;
for(k=0;k<n;k++)
{
   y[k] = y0;
} 
```

这并不能保证 x[0] 和 z[1] 将在一个寄存器上，但至少提示编译器它们应该在一个寄存器上。

# c - 如何识别 gnome-terminal 配置文件？

> ID：14556144
> 
> 赞同：3
> 
> 时间：2013-01-28T05:48:57.273
> 
> 标签：c, bash, gnome-terminal

[不久前，我在askubuntu](https://askubuntu.com/questions/230367/how-to-get-gnome-terminal-profile-for-current-window-or-profileid)上发布了一个问题。由于没有任何动作，而且我还挖了一些，我会在这里尝试。可能是一个更正确的地方，（我不知道是否可以再[提出问题](https://unix.stackexchange.com/questions/14159/how-do-i-find-the-window-dimensions-and-position-accurately)（我没有得到任何这些选项））。

无论如何：

有没有办法获取 gnome-terminal 配置文件 ID？在 bash 脚本中需要它——例如——</p>

```
gconftool-2 "do some change to some value for current profile." 
```

在我试图回答这个问题的过程中，我取得了一些进展——但没有令人满意的解决方案。老实说，它真的让我害怕应用程序是如何屏蔽从命令行**作为终端仿真器**进行修改的！对我来说这是不可理解的。

除了接触 gnome-terminal 的来源，（我不想要自定义版本），还有什么*合法*的方法可以得到这个吗？事实上，它是 vte 的包装器，它使用各种共享库，以某种我没有想到的方式，等等。

将一些 C 代码添加到混合中就可以了。

至今：

*   我已经检查了“保存配置”选项，但因为它 1\. 不令人满意，也就是 100%，并且 2\. 更重要的是，这也**将**[被删除](http://git.gnome.org/browse/gnome-terminal/commit/?id=7391805f5cc259a0e04e07710b2a6db9452bd8e9)，它完全失败了。有关更多详细信息，请参见下面我自己的答案。

*   这没有环境变量。

*   dbus：似乎没有任何消息传输或任何功能可用于此类信息。已测试当前（3.6.0）版本和最新开发。

*   注入：虽然它是可能的，并且已经尝试向它注入自定义代码，但这是一个容易出错的尝试，它不是一个解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:57:07.510

## 如果有人想知道等等。

决定再看看这个 - 并取得了一些进展。

使用内置选项`--save-config`有以下感兴趣的属性：

```
Role=gnome-terminal-window-2587-1856448950-1359348087
ActiveTerminal=Terminal0xa896200
Geometry=110x87+900+1
WorkingDirectory=/home/xxx/tmp 
```

仔细看。连续打开两个窗口，做了一个`save-config`。

## 角色

我们可以将其拆分为各个部分：

```
gnome-terminal-window
2587
1856448950
1359348087 
```

### PID

`2587`两者都是一样的，很快`pstree 2587 -p`我们发现它是PID。此外，还可以`echo $$`找到我们的 bash（或任何一个更喜欢的）。

### 开始时间

现在第二个数字完全不同，这表明它可能是一个随机值。最后一个，tho，只有 diff 中的最后一个数字。很可能是时间戳。我知道我在*这个*`tmp`窗口的目录中——所以，通过我们对[proc 文件系统](http://www.kernel.org/doc/man-pages/online/pages/man5/proc.5.html)的了解：

 *```
# btime: boot time, in seconds since the Epoch
$ cat /proc/stat | grep ^btime | cut -d' ' -f2
1359039155
# starttime: The time in jiffies the process started after system boot.
$ cat /proc/$$/stat | cut -d' ' -f22
30893222

# WANT: 1359348087
btime + starttime / Hertz
1359039155 + (30893222 / 100) = 1359348087.22 ~ 1359348087 
```

好的。最后一位是 Epoch 开始的时间戳。但不幸的是，它不是 jiffies 和舍入的值，所以如果我们通过例如脚本启动了几个窗口，我们最终会得到相同的值。

*（经过一些检查后，似乎秒数被四舍五入**到最接近**的值而不是零等）*

### 随机值

好的。那么PID之后的值呢？很可能是一个随机值，但可以肯定的是。要检查这一点，我们必须去源头。

```
$ git clone git://git.gnome.org/gnome-terminal
$ gnome-terminal --version
GNOME Terminal 3.6.0

$ git log --grep="3\.6\.0"
commit f4d291a90dc4f513fc15f80fdebcdc3c3349b70a
...    
    Version 3.6.0

$ git checkout f4d291a90dc4f513fc15f80fdebcdc3c3349b70a 
```

经过一番挖掘，我们发现：

```
# terminal-util.c
48: void
terminal_util_set_unique_role (GtkWindow *window, const char *prefix)
{
    char *role;

    role = g_strdup_printf(
        "%s-%d-%d-%d", 
        prefix, 
        getpid(), 
        g_random_int(), 
        (int) time (NULL)
    );
    gtk_window_set_role (window, role);
    g_free (role);
} 
```

好的。我们不仅确认秒是随机值，而且确认 PI 和时间是正确的。

### 几何学

```
xwininfo -id $(xdotool getactivewindow) | \
grep '^\s*-geometry' | \
sed 's/^\s*[^ ]* \(.*\)/\1/'

# yields 110x87+900+1 
```

好的。现在我们要检查三个值：

*   时间
*   几何学
*   小路

* * *

问题是即使这样，我们也可以轻松地拥有两个具有相同值的窗口。更重要的是；一些天才决定从应用程序的选项中删除它。

* * *

### 终端窗口十六进制

进一步查看代码，发现`ActiveTerminal`etc. 中的十六进制值是指向当前窗口结构的内存中当前地址的指针值。如果不想破解内存映射，AKA 就不是很有用。*

# mysql - 如何连接两个表并仅获取特定记录

> ID：14556145
> 
> 赞同：0
> 
> 时间：2013-01-28T05:48:58.917
> 
> 标签：mysql

如何连接两个表并仅获取特定记录？

我有两张桌子

1.  供应商 - 列 ( `supp_id`, `supp_code`, `supp_name`, `address`)
2.  SelectedSuppliers -- 列 ( `supplier_id`, `is_selected`, date_a)

我将所有供应商加载到网格视图并通过复选框选择特定供应商

对于供应商表中的特定日期，它会转到`SelectedSupplier`table 。

当我从表中加载保存`SelectedSupplier`的供应商时，我需要从两个表中查看所有供应商。这意味着如果我添加了一个新供应商，它应该在我第二次加载时显示。

这是我的查询

```
SELECT
    `supplier`.`supp_id`,
    `supplier`.`supp_name`,
    `supplier`.`address`,
    `supplier`.`supp_code`,
    `SelectedSuppliers `.`is_selected`
FROM 
    `SelectedSuppliers `
LEFT JOIN 
    `supplier` ON (`shop_list`.`supplier_id` = `supplier`.`supp_id`)
WHERE
    SelectedSuppliers.date_a = '2013-1-5' 
```

它可以工作，但仅加载`SelectedSupplier`记录而不是所有记录

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:57:24.523

```
SELECT
  `supplier`.`supp_id`,
  `supplier`.`supp_name`,
  `supplier`.`address`,
  `supplier`.`supp_code`,
  `SelectedSuppliers `.`is_selected`
FROM 'supplier',`SelectedSuppliers`
  LEFT JOIN `supplier`
    ON (`shop_list`.`supplier_id` = `supplier`.`supp_id`)
where SelectedSuppliers.date_a = '2013-1-5' 
```

请看一下图片![在此处输入图像描述](../Images/4ec5e73d71b3e5bff8bcffab0268fe7b.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:57:31.293

只需反转连接顺序并将条件移动到`ON`子句中以允许左连接仍然有效：

```
SELECT
  `supplier`.`supp_id`,
  `supplier`.`supp_name`,
  `supplier`.`address`,
  `supplier`.`supp_code`,
  `SelectedSuppliers `.`is_selected`
FROM `supplier`
LEFT JOIN `SelectedSuppliers ` 
    ON `shop_list`.`supplier_id` = `supplier`.`supp_id`
    AND SelectedSuppliers.date_a = '2013-1-5' 
```

通过`suppliers`先选择，*然后*左加入，您将获得每个供应商行。

注意：通常（并且错误地）认为该`ON`子句可能只有“键相关”条件，但实际上它可能包含任何条件（甚至与正在连接的表无关！）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T05:53:56.653

使用此表格

```
SELECT A1,A2,...
FROM TABLE1,TABLE2,TABLE3,....
WHERE ...... 
```

注意：从表名创建您通过指定 where 子句从中选择的所有值的笛卡尔积。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:03:03.217

您放入 is_selected 列的任何信息，以了解该信息是否已提供或未在您的 where 条件下使用该信息。假设默认情况下它是 0（如果未选择）并且您希望加载这些记录，然后只需输入`where SelectedSuppliers.is_selected = 0`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T06:04:52.687

完全不清楚您为什么引用`shop_list`，当该表或别名没有出现在您的查询中时，或者为什么您的表名之一包含尾随空格，

根据您的描述，我认为您希望`supplier`位于 LEFT JOIN 的左侧（返回供应商表中的所有行。

（我用对 的引用替换了对`shop_list`的引用`SelectedSuppliers`。我在表名上留下了尾随空格，如您的示例查询中所示。）

```
SELECT s.supp_id
     , s.supp_name
     , s.address
     , s.supp_code
     , e.is_selected
  FROM `supplier` s
  LEFT 
  JOIN `SelectedSuppliers ` e
    ON e.supplier_id = s.supp_id
   AND e.date_a = '2013-1-5' 
```

所有行都将从左侧的表中返回（在此查询中，即`supplier`），以及右侧表中的任何匹配行。

`is_selected`当 SelectedSuppliers 表中没有匹配的行时，in的值将为 NULL。如果需要，可以通过将其包装在 IFNULL 函数中轻松地将其替换为 0。

如果您的意图是排除已选择的供应商，我们可以在查询中添加一个简单的谓词来消除匹配的行：

```
WHERE e.supplier_id IS NULL 
```

这将返回表`supplier`中没有匹配行的行，`SelectedSuppliers`

# asp.net-mvc - 远程验证在局部视图中不起作用

> ID：14556146
> 
> 赞同：0
> 
> 时间：2013-01-28T05:49:03.333
> 
> 标签：asp.net-mvc

让我描述一下我的页面布局。我的页面上有一个拆分器，左页是导航面板，右页是内容。所以当用户点击面板上的一个节点时，内容将显示在右侧。**问题是当用户在显示的内容上提供值时，远程验证不会触发**。当页面不是局部视图并且它正在工作时，我尝试了这个。

这是加载局部视图时的脚本。

```
var onPanelItemSelect = function (e) {

    var windowPath;

    windowPath = $(e.item).attr('data-value');

    if (windowPath != '#') {

        $.ajax({
            type: 'GET',
            url: windowPath,
            success: function (data) {
                $('#right_pane').html(data);                                
            }
        });
    }

    return false;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:00:05.900

从本质上讲，我有一种感觉，如果您使用相同的模型来绑定主页和部分，那么问题也可能是属性名称绑定不正确。

例如，如果您有一个模型类（称为 ModelClass），它具有两个面板（称为 ModelClass.LeftPanel 和 ModelClass.RightPanel）的属性

LeftPanel 可以有一个属性 (TextProperty)，用于绑定到右侧部分页面。您可能希望它被命名为“RightPanel.TextProperty”，但它实际上以一个名称“TextProperty”结束。这也可能影响远程验证。

[这个](https://stackoverflow.com/questions/1488890/asp-net-mvc-partial-views-input-name-prefixes)Stackoverflow 问题描述了我认为的问题，以及各种解决方案。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T13:41:48.087

尝试这个：

改变

```
success: function (data) {
$('#right_pane').html(data);                                
} 
```

至

```
success: function (data) {
$('#right_pane').html(data);
jQuery.validator.unobtrusive.parse("#right_pane");                                
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-29T08:55:28.120

请在您的部分页面中添加对 validate.min.js 和 validate.unobtrusive.js 的引用。它为我工作。

PS：我是不是太晚了：）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-05T08:47:30.330

解决了这个问题，如果有人有更好的答案，我很乐意。在每个视图的标题上，我附上了验证和不显眼的脚本。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-01T07:40:24.950

我的文章有一个**远程验证**的描述性代码，你可以看看。

[远程验证文章](http://shalinjirawla.webs.com/apps/blog/show/25137793-interesting-about-asp-net-mvc?)

# c++ - 从命令行获取 char 向量

> ID：14556147
> 
> 赞同：0
> 
> 时间：2013-01-28T05:49:04.117
> 
> 标签：c++, vector, command, char, endl

我正在接受一个命令，我想将它存储为一个字符向量。

```
int main()
{
    vector<char> command;
    cout << "Reservations>>";
    char next;
    cin >> next;
    while (next !='\n'){
        command.push_back(next);
        cin >> next;
    }
    for(int i=0; i< command.size(); i++)
        cout << command[i];
} 
```

但是 while(next !='\n') 不起作用，因为即使我按 Enter 键，它仍然让我输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-13T18:28:24.723

我会用这个：

```
cout << "Reservations>>";
string str;
getline (std::cin, str);
vector<char> command(str.begin(), str.end()); 
```

`getline`作为默认用途`\r`和`\n`作为分隔符，与之相比`cin`也使用空间。`std::string`是最常见的`char`容器，所以我确定您不需要将其转换为`vector`，但我添加了最快的方法，如何做到这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:01:25.120

把输入变成一个字符串然后迭代器呢？还是只使用 std::string 来存储命令？

```
int main()
{
  cout << "Reservations>>";
  std::string command;
  cin >> command;  
  std::cout << command << std::endl;

  return (0);
} 
```

我不确定你为什么使用 std::vector 但下面的示例应该可以工作：

```
int main()
{
  std::vector<char> command;
  cout << "Reservations>>";
  std::string next;
  cin >> next;    
  for(size_t i = 0; i < next.size(); i++)
  {
    command.push_back(next.at(i));
  }

  for(int i=0; i< command.size(); i++)
  {
      cout << command[i];
  }

  return (0);
} 
```

# php - 如何使 Aptana 在 .php 文件中显示 Laravel 语句颜色（支持 Laravel）？

> ID：14556155
> 
> 赞同：3
> 
> 时间：2013-01-28T05:49:43.287
> 
> 标签：php, aptana, laravel

我的教程视频中的 Sublime Text 2 很好地显示了 Laravel 语句颜色，我的 Aptana 中的相同代码只是白色（在 *.php 文件中），它将代码视为纯 HTML 文本，我如何设置 Aptana 以显示带有颜色的代码（支持 Laravel）？

```
@layout('master')
@section('main')
    @foreach($users as $user)
        {{$user->email}}
    @endforeach
@endsection
@section('nav')
    <li>Details</li>
    @parent
@endsection 
```

除了 <li></li> 标签之外，以上所有代码都是白色的，这不是我想要的方式。

我不知道如何设置 Aptana Studio 3，我需要帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:46:54.607

Sublime Text 2 为 Laravel Blade 模板提供了一个包 - 这意味着它“理解”代码并可以正确着色。

此选项在 Aptana 中不存在 - 所以您不能这样做。

# android - 从 iOS 应用使用 OAuth 2.0 登录微博？

> ID：14556156
> 
> 赞同：0
> 
> 时间：2013-01-28T05:49:45.290
> 
> 标签：android, ios, oauth-2.0, weibo

我正在尝试使用 OAuth 2.0 从我的 iOS 应用程序登录新浪微博。我从这里获得了官方的新浪微博 SDK 和从[这里](http://open.weibo.com/wiki/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8SSO%E6%8E%88%E6%9D%83)[获得](https://github.com/mobileresearch/weibo_ios_sdk_sso-oauth)的官方文档。

当我导入 SDK 并创建一个实例时，它会要求 appRedirectURI。

```
SinaWeibo *sinaWeibo = [[SinaWeibo alloc] initWithAppKey:kAppKey appSecret:kAppSecret appRedirectURI:kAppRedirectURI andDelegate:self]; 
```

我想知道为什么我们在 iOS 应用程序中需要 RedirectURI，我知道它在 Android 应用程序中是必需的，但我认为它在 iOS 应用程序中不是必需的。

有人可以解释一下吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:01:02.933

你没有尝试过[这里](https://github.com/mobileresearch/weibo_ios_sdk_sso-oauth)的包装类，这让事情变得简单吗？

# regex - 在 Python 中比较两个文件的算法

> ID：14556161
> 
> 赞同：0
> 
> 时间：2013-01-28T05:50:06.513
> 
> 标签：regex, python-3.x, compare

我想创建一个 python 脚本来比较一个工具生成的两个日志文件（名为`foo.log`和）。`bar.log`日志文件有一些可以忽略的行和一些不能忽略的行（用于比较）。

我创建了正则表达式来标识可以忽略的行。以下是我实现代码的方式：

```
import re

p_1 = re.compile(...) # Pattern 1 to be ignored
p_2 = re.compile(...) # Pattern 2 to be ignored
p_3 = re.compile(...) # Pattern 3 to be ignored
...
p_n = re.compile(...) # Pattern n to be ignored

with open("foo.log", mode = 'r') as foo:
    with open("foo_temp.log", mode = 'w') as foo_temp:
        for foo_lines in foo:
            if p_1.match(foo_lines):
                continue
            elif p_2.match(foo_lines):
                continue
            elif p_3.match(foo_lines):
                continue
            ...
            ...
            ...
            elif p_n.match(foo_lines):
                continue
            else:
                foo_temp.write(foo_lines)

with open("bar.log", mode = 'r') as bar:
    with open("bar_temp.log", mode = 'w') as bar_temp:
        for bar_lines in bar:
            if p_1.match(bar_lines):
                continue
            elif p_2.match(bar_lines):
                continue
            elif p_3.match(bar_lines):
                continue
            ...
            ...
            ...
            elif p_n.match(bar_lines):
                continue
            else:
                bar_temp.write(bar_lines) 
```

运行脚本后，我会得到两个文件`foo_temp.log`，`bar_temp.log`稍后我会使用 WinMerge 手动比较它们。以下是我的问题：

1）有什么方法可以优化我使用正则表达式的方式（我实际上是正则表达式的新手，我觉得在这方面有很多可以优化的地方）

2）稍后当我必须添加要忽略的新模式时，我可以从用户的角度更容易地添加新模式吗？（目前我需要添加一个新模式，然后在 2 个位置检查 - 一个 for`foo.log`和一个 for `bar.log`）

3）我听说在处理巨大的文件时使用了生成器。虽然我比较的日志相对较小（最大 50MB），但我是否应该研究如何使用生成器并将它们合并到我的脚本中？

4) 除了使用 WinMerge 创建`foo_temp.log`和`bar_temp.log`执行手动检查之外，有没有一种方法可以让我在 Python 本身中进行（减少的文件的）比较？`filecmp`也许来自模块的东西？

**注意：**一些可以忽略的行在两个日志中都出现混乱（无序）：例如，`foo.log`以下可能是模式：

```
Line 1: <<Pattern_1: Ignore>>
Line 2: <<Pattern_2: Do not Ignore>>
Line 3: <<Pattern_3: Do not Ignore>>
Line 4: <<Pattern_4: Do not Ignore>>
Line 5: <<Pattern_5: Ignore>> 
```

而`bar.log`可能具有以下模式：

```
Line 1: <<Pattern_1: Ignore>>
Line 2: <<Pattern_5: Ignore>>
Line 3: <<Pattern_2: Do not Ignore>>
Line 4: <<Pattern_3: Do not Ignore>>
Line 5: <<Pattern_4: Do not Ignore>> 
```

请注意，一旦我们删除了可以忽略的行，这两个文件将具有相同的模式。出于这个原因，我决定一次性删除所有可以忽略的行，然后对缩小的文件进行比较。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:07:02.550

我不知道您想到的是哪种比较-`difflib`可能会派上用场-但据我所知，您的代码减少到

```
import re

raw_patterns = [r'aaa', r'bbb', r'ccc']
patterns = [re.compile(p) for p in raw_patterns]

names = "foo", "bar"

for name in names:
    with open(name + ".log", "r") as in_fp, open(name + "_temp.log", "w") as temp:
        for line in in_fp:
            if not any(patt.match(line) for patt in patterns):
                temp.write(line) 
```

该原则被称为 DRY，意思是“不要重复自己”。每当您发现自己重复代码时，您可以考虑将重复抽象掉。在这种情况下，我们可以将模式和文件名放在列表中，然后遍历它们。

--

在生成器方面，这是真的：您不需要构造中间文件。您可以创建一个仅产生您关心的行的对象，然后对其进行迭代。例如：

```
from itertools import zip_longest

def informative_lines(filename):
    with open(filename) as infile:
        for line in infile:
            if not any(patt.match(line) for patt in patterns):
                yield line

paired_lines = zip_longest(informative_lines("foo.log"),
                           informative_lines("bar.log"))

for i, (line0, line1) in enumerate(paired_lines):
    if line0 != line1:
        print('mismatch at non-ignored line #', i)
        print(line0)
        print(line1)
        raise Exception("problem!")

print("hooray, files matched!") 
```

# aem - DAY CQ5.4 xtype 下拉菜单

> ID：14556163
> 
> 赞同：0
> 
> 时间：2013-01-28T05:50:31.770
> 
> 标签：aem, day-cq

**第 cq5 天我** 如何更改 cq 中下拉菜单的宽度。目前它的固定宽度约为 279 像素，为了获得下拉菜单，我将类型指定为选择，将 xtype 指定为选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:42:04.117

[选择小部件](http://dev.day.com/docs/en/cq/current/widgets-api/index.html?class=CQ.form.Selection)有一个宽度属性，您应该能够将其设置为您想要的宽度。如果你还没有尝试过，我显然会从那里开始......

# ruby-on-rails-3.2 - Rails 范围返回所有关联匹配条件的记录

> ID：14556165
> 
> 赞同：2
> 
> 时间：2013-01-28T05:50:38.403
> 
> 标签：ruby-on-rails-3.2, named-scope

我在编写范围以返回所有 has_many 关联都符合条件的记录时遇到问题。

我有这些模型：

```
class Product
  has_many :listings
end

class Listing
  belongs_to :product
  belongs_to :issue
end

class Issue
  has_many :listings
end 
```

基本上一个产品可以列出几个不同的问题。我希望能够获得在特定问题中没有列表的所有产品。到目前为止，我的产品模型中有这个范围：

```
scope :not_listed_in, lambda { |issue|
  joins(:listings)
    .where("listings.issue_id != ?", issue.id)
} 
```

这不起作用，因为它会找到至少一个列表不在问题中的任何产品。我需要某种方式来询问在特定问题中没有列表的所有产品。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T21:46:51.020

假设您使用 ActiveRecord，您可以通过查找所有产品并删除问题中的产品来实现此目的。这通常会产生一个数组，所以在下面的代码中，我做了一个额外的数据库查询，让它返回一个范围内的结果，这样你就可以将其他“where”子句级联到结果中。

```
class Product < ActiveRecord::Base
  has_many :listings
  scope :not_listed_in, lambda { |issue|
    id_list = Product.pluck(:id) - issue.products.pluck(:id)
    Product.where(id:id_list)
  }
end

class Listing < ActiveRecord::Base
  belongs_to :product
  belongs_to :issue
end

class Issue < ActiveRecord::Base
  has_many :listings
  has_many :products, through: :listings
end 
```

# python - Django 和外键保存连接

> ID：14556168
> 
> 赞同：1
> 
> 时间：2013-01-28T05:50:44.987
> 
> 标签：python, django, foreign-keys, django-views

我正在创建一个关于棒球运动员的网站以供学习。我很了解如何处理外键。这是我的模型：

```
class Player_Bios(models.Model):

   mlb_id           = models.SlugField(unique=True)    
   name             = models.CharField(max_length=50) 
   last             = models.CharField(max_length=50)
   middle           = models.CharField(max_length=50, blank=True)
   jersey           = models.CharField(max_length=5)
   def __unicode__(self):
        return self.mlb_id

class Stat (models.Model):
   player_id       = models.ForeignKey('Player_Bios')
   year            = models.IntegerField(max_length=50)
   h               = models.IntegerField(max_length=50)
   2h              = models.IntegerField(max_length=50)

   def __unicode__(self):
       return self.stat_id 
```

所以我可以去获取球员的数据，但是如何将他们保存到数据库中呢？

我想做的事的例子。我能够收集并保存我想在我的网站上拥有的所有玩家并保存他们的所有简历。我唯一需要的是球员生涯数据。

```
from player_bios.models import *

year = "2012"     # I use variable in this example because I don't want to put all my code
h    = 180        #But think that I have this info
2h   = 30
st= Stat(player_id=, year=year,h=h,2h=2h)  #I don't know what to use on player id because                     that's the foreign key
st. save 
```

**更新**：

我仍然在将数据保存到数据库时遇到问题。这是我的代码：

```
from django.core.management.base import BaseCommand, CommandError
from player_bios.models import *
import urllib2
import json
import string
import re

DR_ID = [u'430947', u'499864', u'405395']
stint = ["player_id","sport_code","ab","league_full","bb","ops","hr","season","ao","team_id",
    "go","cs","league_short","avg","go_ao","sport_id","team_full","league","sport","gidp",
    "d","g","team_abbrev","league_id","h","ibb","team_seq","sf","sac","team_short","r","so",
    "t","rbi","sb","slg","tb","hbp","obp"]
st = {}

class Command(BaseCommand):

for i in DR_ID:
    url = ("http://mlb.mlb.com/lookup/json/named.sport_hitting_composed.bam?game_type='R'&sport_code='mlb'&sport_code='aaa'&sport_code='aax'&sport_code='afa'&sport_code='afx'&sport_code='asx'&sport_code='rok'&sort_by='season_asc'&player_id="+i+"&sport_hitting_composed.season=2013")
    res = urllib2.urlopen(url)
    data = json.load(res)
    numberofseasons = data['sport_hitting_composed']['sport_hitting_tm']['queryResults']['totalSize']
    numberofseasons= int(numberofseasons)
    row = 0

    while row < numberofseasons:

        for x in stint:

            data2 = data['sport_hitting_composed']['sport_hitting_tm']['queryResults']['row'][row][x]
            st[x]=data2

        row +=1
        p_id = p=Player_Bios.objects.get(mlb_id=i)
        p_id_st=str(p_id)
        bat_id = (st['season']+st["team_id"])
        bat_id = p_id_st + bat_id
        c = BatStat(player_id_id= p_id.mlb_id,bat_stat_id=bat_id, sport_code = st["sport_code"],ab=st['ab'],league_full=st['league_full'],bb=st['bb'],ops=st['ops'],hr=st['hr'],season=st['season'],ao=st['ao'],
                    team_id=st['team_id'],go=st['go'],cs=st['cs'],league_short=st['league_short'],avg=st['avg'],go_ao=st['go_ao'],sport_id=st['sport_id'],team_full=st['team_full'],
                    league=st['league'],sport=st['sport'],gidp=st['gidp'],d=st['d'],g=st['g'],team_abbrev=st['team_abbrev'],league_id=st['team_id'],h=st['h'],ibb=st['ibb'],
                    team_seq=st['team_seq'],sf=st['sf'],sac=st['sac'],team_short=st['team_short'],r=st['r'],so=st['so'],t=st['t'],rbi=st['rbi'],sb=st['sb'],slg=st['slg'],tb=st['tb'],
                    hbp=st['hbp'],obp=st['obp'])
        c.save() 
```

我收到以下错误：

```
django.db.utils.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key      constraint fails (`player_bios_info`.`player_bios_batstat`, CONSTRAINT `player_id_id_refs_id_ee2da61` FOREIGN KEY (`player_id_id`) REFERENCES `player_bios_player_bios` (`id`))') 
```

在模型中，我有 player_id，但在数据库中，我将其视为 player_id_id。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:04:28.677

您需要创建表单，以便您轻松选择播放器。如果您想像手动添加一样添加，那对您来说将很困难。

**表格.py**

```
class StatForm(forms.ModelForm):
    class Meta:
        model = Stat

    def __init__(self, user, *args, **kwargs):
        super(StatForm, self).__init__(*args, **kwargs)
        self.fields['player_id'].queryset = Player_Bios.objects.filter() 
```

**视图.py**

```
def add_stat(request):
    if request.method == 'POST':
        form = StatForm(request.POST)
        if form.is_valid():
            form.save() 
return render(request, 'add_stat.html', {
    'form': StatForm(),
}) 
```

**add_stat.html**

```
<form method="post">{% csrf_token %}
    {% for field in form %}
        {{field}}<br/>
    {% endfor %}
    <input type="submit" value="Save Stat">
</form> 
```

# ios - 子视图如何识别父视图（iPhone）的设置属性？

> ID：14556171
> 
> 赞同：2
> 
> 时间：2013-01-28T05:51:13.287
> 
> 标签：ios, uiview, uikit, user-interaction, uiresponder

场景是这样的，

我有`UIButton`一对一`UIView`。`UIView`父视图和`UIButton`子视图也是如此。
现在，

1.  如果我将父视图的用户交互设置为 false，那么我可以点击 `UIButton`吗？
2.  如果我不能触摸`UIButton`那为什么`UIButton`不能触摸？

你能解释一下如何`UIButton`知道它的父视图的用户交互是错误的吗？

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:53:04.440

类似问题，看[这里](https://stackoverflow.com/questions/5887305/uiview-user-interaction-enabled-false-on-parent-but-true-on-child)

1.  不，你不能。父视图上的 userInteractionEnabled 设置为 NO 将阻止所有子视图。

2.  这是 Appel 关于“事件交付”的文档，请查看[链接](http://developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/EventsiPhoneOS/EventsiPhoneOS.html#//apple_ref/doc/uid/TP40009541-CH2-SW1)

3.  检查方法或方法`self.superView.userInteractionEnabled`中的属性。`hitTest:withEvent:``pointInside:withEvent:`

# facebook - 获取喜欢特定页面的朋友

> ID：14556175
> 
> 赞同：0
> 
> 时间：2013-01-28T05:51:37.247
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

我正在使用 JavaScript 来检索朋友的信息，如下所示：

```
FB.api('/me/friends', {fields:'name,id,hometown,education'}, function(response){

var l=''
    $.each(response.data,function(idx,val){
    l=l+val.id+(idx<response.data.length-1?',':'')
    });

FB.api("likes?ids="+l,function(res){
    allLikes = res;
    });
} 
```

使用上面的代码，我已经成功地检索到了用户所有朋友的所有喜欢。我想检查用户的哪些朋友喜欢特定页面。响应数据约为 1.5MB。我必须逐个遍历所有朋友的个人喜好才能弄清楚这一点。如何仅检索那些已经喜欢特定页面的朋友的信息？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:40:30.000

`<page_id>`您可以使用以下 FQL 查询获取喜欢某个特定用户的朋友的所有用户 ID 。

```
FB.api({
     method: 'fql.query',
     query: 'select uid from page_fan where page_id=<page_id>
              and uid in (select uid2 from friend where uid1=me())'
   },function(response){
        //do what you want to do with user ids (uid) you got
}); 
```

# c# - 在visual studio的设计阶段如何在面板之间切换？

> ID：14556189
> 
> 赞同：1
> 
> 时间：2013-01-28T05:52:58.510
> 
> 标签：c#, visual-studio-2010

我正在 Visual Studio 中使用 c# 开发一个简单的应用程序。在设计过程中如何在多个面板之间切换，通常面板会重叠。所以任何人都可以帮我解决这个问题。请避免建议使用标签，我知道使用标签。面板的答案

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T05:56:37.743

使用[文档大纲窗口](http://msdn.microsoft.com/en-us/library/46xf4h0w%28v=vs.100%29.aspx)：

> 在 Visual Studio 中的“视图”菜单上，单击“其他窗口”，然后单击“文档大纲”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T05:56:38.273

放在前面/放在后面 - 认为它在视图或编辑菜单下。肯定在面板上下文菜单上

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:03:50.073

[http://www.codeproject.com/Articles/53318/C-Custom-Control-Featuring-a-Collapsible-Panel](http://www.codeproject.com/Articles/53318/C-Custom-Control-Featuring-a-Collapsible-Panel) [如何在 Winforms 中创建可折叠面板作为自定义控件？](https://stackoverflow.com/questions/1521271/how-to-create-collapsible-panels-as-custom-controls-in-winforms) 希望对你有帮助..

# javascript - 在javascript中将字节转换为字符串

> ID：14556191
> 
> 赞同：0
> 
> 时间：2013-01-28T05:53:21.707
> 
> 标签：javascript

我有一个项目，我在 .cs 文件中使用 gzip 来压缩数据。这是我的代码。

```
public byte[] CustomerList()
{
    SqlDataAdapter da = new SqlDataAdapter("select CustomerID from CustomerMaster", con);

    DataSet ds = new DataSet();
    da.Fill(ds);
    return CompressData(ds);
}
public byte[] CompressData(DataSet ds)
{
    using (MemoryStream memory = new MemoryStream())
    {
        using (GZipStream gzip = new GZipStream(memory, CompressionMode.Compress))
        {
            var formatter = new BinaryFormatter();
            formatter.Serialize(gzip, ds);
            gzip.Close();
        }

        return memory.ToArray();
    }
} 
```

我从我的 js 文件中调用了这个 zip 函数，并以字节格式获取数据。

```
<script type="text/javascript" language="javascript">
$(document).ready(function () {

                $.ajax({
                    type: "POST",
                    url: "Service1.svc/CustomerList",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    processdata: true,
                    success: function (data) {
                        alert(data.CustomerListResult);
                    },
                    error: function () {
                        alert("Error");
                    }
                });
            }); 
```

现在我想解密这个 [byte-data] 以获得原始字符串。问题从这里开始。我应该如何获取原始数据，这意味着我将如何解密或解压缩 [字节数据] 以获取原始字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:06:08.493

你的问题也有类似的。 [Gzip](https://stackoverflow.com/questions/294297/javascript-implementation-of-gzip) 和 [JavaScript 的 JavaScript 实现：解压缩 / 膨胀 / 解压缩 / ungzip 字符串](https://stackoverflow.com/questions/4875020/javascript-decompress-inflate-unzip-ungzip-strings)

# sql-server-2008 - 如何使用 qt 连接到 SQL Server 2008？

> ID：14556193
> 
> 赞同：8
> 
> 时间：2013-01-28T05:53:32.543
> 
> 标签：sql-server-2008, qt, qt4

我正在尝试使用 qt 连接到 SQL Server 2008 ...我正在这样做：

```
 QSqlDatabase db = QSqlDatabase::addDatabase("QODBC");

 db.setHostName("ITPL_PC1\\SQLEXPRESS");
 db.setDatabaseName("Test");
  db.setUserName("sa");
  db.setPassword("insforia");
  bool ok = db.open();

  //query

  db.close(); 
```

我还添加了`qtsql4`和`qtsqld4`库，但现在的问题是我收到一个错误，即数据库无法打开......我在 qt 中很新，我不知道该怎么做？那么关于如何连接到数据库的任何帮助我应该添加什么或者我错了？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-29T06:53:08.070

在尝试了这么多时间之后，我终于设法让它发挥作用......这就是我所做的：

```
QSqlDatabase db = QSqlDatabase::addDatabase("QODBC3");

db.setDatabaseName("DRIVER={SQL Server};Server=ITPL_PC1;Database=Test;Uid=sa;Port=1433;Pwd=*******;WSID=.");

db.open();

QSqlQueryModel *model = new QSqlQueryModel;

QString query = "insert into qttable(PID) values('ARINDAM')";
model->setQuery(query, db);

db.close(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-11-05T23:07:58.837

这可能是另一个：

```
//2005  
db.setDatabaseName(DRIVER={SQL Server};SERVER=localhost\\SQLExpress;DATABASE=secundaria;UID=sa;PWD=contraseña;WSID=.;Trusted_connection=yes)

//2008
db.setDatabaseName("DRIVER={SQL Server Native Client 10.0};SERVER=localhost\\SQLExpress;DATABASE=myDbName;UID=user;PWD=userPwd;WSID=.;Trusted_connection=yes")

//2012
db.setDatabaseName("DRIVER={SQL Server Native Client 11.0};SERVER=localhost\\SQLExpress;DATABASE=myDbName;UID=user;PWD=userPwd;WSID=.;Trusted_connection=yes") 
```

# codeigniter - 单击每个链接或重新加载页面时，CodeIgniter-Checking 会话变量是否已设置

> ID：14556194
> 
> 赞同：3
> 
> 时间：2013-01-28T05:53:46.510
> 
> 标签：codeigniter, session

我有一个名为 admin 的控制器，如果设置了会话变量，则可以使用控制器中的所有功能，那么在单击页面中的每个链接或重新加载页面时，检查会话是否设置的最佳方法是什么。 .

> 例如：如果我在浏览器的多个选项卡中打开我的管理主页并从第一个选项卡注销，那么在第二个选项卡中的所有链接都正常工作

所以我想检查会话是否设置...

谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-28T06:10:33.477

如果要检查是否设置了会话变量，请使用它。

```
if($this->session->userdata('session_variable')) {

      // Do your code here
} 
```

同时，如果要检查会话变量是否设置了特定值，则可以使用它。

```
if($this->session->userdata('session_variable') == "VALUE") {

      // Do your code here
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T05:57:52.407

根据[http://ellislab.com/codeigniter/user-guide/libraries/sessions.html](http://ellislab.com/codeigniter/user-guide/libraries/sessions.html) “检索会话数据”，

```
$this->session->userdata('not_set') 
```

返回假。

* * *

## 回答 #3

> 赞同：-7
> 
> 时间：2017-10-03T06:33:01.087

简单的连接查询解决您的问题。

```
$this->db->select('*');
$this->db->from('first_table_name ftn');
$this->db->join('second_table_name stn', 'ftn.id = stn.id','left');
$query = $this->db->get(); 
```

# asp.net - 更改 ascx 文件并避免编译错误

> ID：14556196
> 
> 赞同：0
> 
> 时间：2013-01-28T05:53:53.440
> 
> 标签：asp.net

我正在开发用户控件并对 HTML 进行一些更改。当我这样做并刷新页面时，出现编译错误：

> 编译器错误消息：CS0433：“c:\Users\compname\AppData\Local\Temp\Temporary ASP.NET Files\dev\342db40c\e48a4253\App_Web_1hgtod1r.dll”和“c:”中都存在“ASP.usercontrols_somepagename_ascx”类型： \Users\compname\AppData\Local\Temp\Temporary ASP.NET Files\dev\342db40c\e48a4253\App_Web_nqhev1ea.dll'

所以每次我做出改变时，我都需要重建网站。这有效，但很痛苦。如何删除此额外步骤并修复此错误？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:05:33.487

您将拥有类似于以下的路径：

```
C:\Windows\Microsoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files 
```

或者

```
c:\Users\compname\AppData\Local\Temp\Temporary ASP.NET Files\dev 
```

删除整个文件夹的内容（不会造成任何伤害），然后尝试清理并重建您的解决方案。

# java - 显示正在键入的文本

> ID：14556202
> 
> 赞同：0
> 
> 时间：2013-01-28T05:54:44.403
> 
> 标签：java, android, android-edittext

我正在尝试为 Android 应用程序开发一个聊天室。我为用户键入的文本创建了一些区域`EditText`和相应的按钮。`Enter`

单击`Enter`我想在同一屏幕上显示键入的文本，即无论键入什么文本，它随后都会显示在同一屏幕上。我正在使用`Linear Layout(Horizontal)`我的应用程序。

我该如何实现这个？有人可以帮我写代码。我对 Android 开发框架完全陌生。谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T05:59:26.387

您可以使用“Toast”来显示味精或使用使用“setText()”设置的另一个“TextView”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:11:51.900

它非常简单。您使用一个 textView、一个 edittext 和一个按钮创建 xml 文件。然后在 mainActivity 中处理按钮单击事件并从中调用 onResume。覆盖 onResume 以便您可以更新文本视图。

```
@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();
    TextView text = (TextView) findViewById(R.id.txtView1);
    EditText editBox = (EditText)findViewById(R.id.txtBox1);
    String str = text.getText().toString();
    text.setText(str+" "+editBox.getText().toString());
    editBox.setText("");
    editBox.setHint("Type in here");

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:12:56.723

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent">
     <LinearLayout android:id="@+id/linearLayout1" android:layout_width="match_parent"android:orientation="vertical" android:layout_height="match_parent">
     </LinearLayout>
     <LinearLayout  android:id="@+id/linearLayout2"android:orientation="horizontal" android:layout_width="fill_parent" android:layout_height="fill_parent">

      <EditText...
      <Button...
     </LinearLayout>
</LinearLayout> 
```

* * *

```
setContentView(R.Layout.main);
LinearLayout ll = (LinearLayout)findViewById(R.id.linearLayout1); //Layout where you want to put your new dynamic TextView.

    String s=editText.getText().toString(); //Fetching String from your EditText
    TextView tv = new TextView(this);
    tv.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
    tv.setText(s);
    ll.addView(tv); //Add TextView inside the Layout. 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:35:04.870

您可以使用一个 editText 进行输入，一个 TextView 用于显示键入的消息：

```
 tvChatWindow = (TextView) findViewById(R.id.tvChatWindow);
 etInputWindow = (EditText) findViewById(R.id.etInputWindow);        
 btnEnter = (Button) findViewById(R.id.btnEnter);

 btnEnter.setOnClickListener(new View.OnClickListener() {
     public void onClick(View v) {
         // send message to other chat clients here

         //add a new line break character and the typed string to Chat Window
         tvChatWindow.append("\n" + etInputWindow.getText().toString());  

         //clear the text you have typed on the edittext
         etInputWindow.setText("");
     }
 }); 
```

# android - 为什么 sqlite 会这样

> ID：14556208
> 
> 赞同：-2
> 
> 时间：2013-01-28T05:55:02.687
> 
> 标签：android, sqlite

我想在我的书籍表中添加新列，但显示错误：- 我做错了什么。

**引起：android.database.sqlite.SQLiteException：表书已经存在**

以上错误

```
@Override
        public void onCreate(SQLiteDatabase db) {
            db.execSQL( "CREATE TABLE books (id INTEGER PRIMARY KEY AUTOINCREMENT,title TEXT ,author TEXT,isbn TEXT,city TEXT );");

            Log.v("onCreate-------","called onCreate"); 

        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            android.util.Log.w("books",
            "Upgrading database, which will destroy all old data");
            //db.execSQL("DROP TABLE IF EXISTS books");
            db.execSQL("ALTER TABLE books ADD COLUMN city2 TEXT");

            onCreate(db);
            Log.v("onUpgrade-------","called onUpgrade with alter"); 
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T05:58:31.927

```
onCreate(db);
Log.v("onUpgrade-----","调用 onUpgrade with alter");

```

此处无需再次调用 onCreate。那就是问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:00:37.603

将创建查询更改为 -

```
CREATE TABLE IF NOT EXISTS books.... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:18:36.490

使用以下检查数据库是否已经存在？
可能会帮助你。

```
public static final String DB_PATH = "/data/data/com.test.appname/databases/";
public static final String DB_NAME = "databasename.db";
public boolean checkDBExists()
{
    try 
    {
        File file = new File(DB_PATH+DB_NAME);
        if(file.exists())
        {
          // do nothing
        }
        else
        {
         db.execSQL( "CREATE TABLE books (id INTEGER PRIMARY KEY AUTOINCREMENT,title TEXT ,author TEXT,isbn TEXT,city TEXT );");
        }
   }
   catch (Exception e) 
   {
     e.printStackTrace();
     return false;
   }
} 
```

# jquery - 克隆 tr 和删除克隆的 tr

> ID：14556211
> 
> 赞同：0
> 
> 时间：2013-01-28T05:55:24.210
> 
> 标签：jquery, html

我在删除克隆的 tr 时遇到问题。我的克隆功能运行良好，但是每当我尝试在右侧添加删除按钮时，什么都没有发生。请帮助我

jQuery :

```
$(".addjob").click(function(){
        var $clone = $('table.tbll tr.cloneme:first').clone();
         console.log($clone);
         $clone.append("<td><div class='rmv' >Remove</div></td>");
         $('table.tbll').append($clone);    
 });

        $(".rmv").click(function(){
            alert("wee");
           // $(this).parents('td').remove();
        }); 
```

HTML：

```
<table cellspacing="10" class="tbll" >
<tr>
<td>Choose Sub Heading</td><td><select name="subheading_id" style="min-width:145Px">
            <option value="1" Sub heading Me</option>
            <option value="2" Sub heading Me 2</option>     
    </select></td><td>&nbsp;</td>
</tr>
<tr classs="cloneme">
<td>Choose Job Title</td><td><select name="jobtitles_id" style="min-width:145Px"><?php
            <option value="a" >A</option>   
            <option value="b" >B</option>   
            <option value="c" >C</option>       
                    <option value="none" >None</option> 
    </select></td>
</tr>
<tr>
<td><div class="addjob" >Add another Job Title</div></td>
</tr>
</table> 
```

请帮我。我不知道该怎么办

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:02:45.947

您的删除点击功能不适用于动态添加的元素。你必须使用jquery`.on`

```
$('body').on('click', '.rmv',function(){
    alert("wee");
    $(this).closest('tr').remove();
}); 
```

此外，您仍然有`classs`cloneme，请将其更正为`class`.

这是一个工作小提琴：http: [//jsfiddle.net/7Z5kt/](http://jsfiddle.net/7Z5kt/)

编辑：我已将您更改`.parents('td')`为`.closest('tr')`假设您想删除整行。请相应地更改此设置。

注意：.closest 有助于在层次结构中找到所需的元素，并帮助您避免返回的元素`.parents()`

编辑 2：这是一个使用 .live 在 jquery 1.7 之前使用的版本

```
$('.rmv').live('click', function(){
    alert("wee");
    $(this).closest('tr').remove();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:09:23.807

您只需要一个事件委托：`[http://jsfiddle.net/h9pH5/](http://jsfiddle.net/h9pH5/)`

```
$(".addjob").click(function () {
   var $clone = $('table.tbll tr.cloneme:first').clone();
   console.log($clone);
   $clone.append("<td><div class='rmv' >Remove</div></td>");
   $('table.tbll').append($clone);
});

$('.tbll').on('click', '.rmv', function () {
   alert("wee");
   $(this).closest('tr').remove();
}); 
```

在你的 html 中你有`s`多个

```
`<tr classs="cloneme">`
      //--^---here 
```

# python - python中缺少模块

> ID：14556217
> 
> 赞同：0
> 
> 时间：2013-01-28T05:56:24.690
> 
> 标签：python, vim

我最近尝试安装 powerline-vim，但遇到了问题。

每次打开新窗口时，都会看到此错误：

```
Error detected while processing function <SNR>9_UpdateWindows..<SNR>9_pyeval:
line   1:
Traceback (most recent call last):
File "<string>", line 1, in <module>
File "<string>", line 1, in <module>
File "opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/uuid.py", line 545, in uuid4 import random
File "opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/uuid.py", line 545, in uuid4 from os import urandom as _urandom
ImportError: cannot import name urandom 
```

当我从我的 .vimrc 文件中删除这一行（有效地禁用 powerline-vim）时，错误就消失了。

```
python from powerline.ext.vim import source_plugin; source_plugin() 
```

奇怪的是，当我从终端启动 python 时，导入工作正常。

```
 Python 2.7.3 (default, Nov 17 2012, 19:54:34) 
 [GCC 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66))] on darwin
 Type "help", "copyright", "credits" or "license" for more information.
 >>> import random
 >>> from os import urandom as _urandom
 >>> 
```

哪个python的输出：

```
/opt/local/bin/python 
```

我正在运行 OS X 10.8.2。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:14:16.993

1.  检查您的问题是否与此有关：[Python: cannot import urandom module (OS X)](https://stackoverflow.com/questions/12658141/python-cannot-import-urandom-module-os-x)。检查你的`sys.path`价值。确保`os`从 Python 安装中导入模块，而不是从系统 Python 中导入。

2.  `configure`检查构建 Python 时生成的日志以获取线索。你在构建 Python 时指定了前缀吗？

3.  编辑代码并打印`os`，并`sys.path`在错误发生之前检查插件是否更改了某些内容。如果 sys.path 被修改，通常你可以通过执行`import sys; sys.path = tuple(sys.path)`. 它不会在 上崩溃`sys.path = smth`，但会在`append()`和上崩溃`+=`。也许这足以显示`path`修改的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T21:57:36.530

问题是我执行了错误的 Python 版本。

```
sudo port select python python27-apple 
```

运行那条线修复了它。

谢谢！

# c++ - 在 OpenCV 中自动检测和裁剪 ROI

> ID：14556226
> 
> 赞同：4
> 
> 时间：2013-01-28T05:56:55.610
> 
> 标签：c++, visual-studio-2010, opencv

我有这些图像可以相互比较。但是，我认为我可以裁剪出太多的黑色以使比较更有效。

![火星 1](../Images/3342c183656d84729e9ac9f826fbbeb1.png) ![火星 2](../Images/587300bc3480db4878ceb46f6891a414.png) ![火星 3](../Images/3c0beddfec7ababa6c1e66f9c3984fb4.png)

我想做的是作物火星。比较时，矩形或圆形可能会产生更好的结果。我担心如果裁剪会导致图像大小不同，比较不会像预期的那样好？如果可能的话，想法如何做和示例代码？提前致谢

更新：尝试使用 cvHoughCircles() 它不会检测到地球：/

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T08:00:47.970

尝试使用颜色检测。您需要找到除黑色以外的所有颜色。[这里](http://www.aishack.in/tutorials/tracking-colored-objects-opencv/)和[这里](http://opencv-srf.blogspot.ru/2010/09/object-detection-using-color-seperation.html)是对这种方法的很好的解释。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-29T12:08:10.723

您可以使用将这些图像转换为灰度图像`cvCvtColor(img,imgGrayScale,CV_BGR2GRAY)`

然后使用`cvThreshold(imgGrayScale,imgThresh,x,255,CV_THRESH_BINARY)`. 在这里，你必须为 x 找到一个好的值（我认为 x=50 是可以的）。

```
CvMoments *moments = (CvMoments*)malloc(sizeof(CvMoments));
cvMoments(imgThresh, moments, 1);
double moment10 = cvGetSpatialMoment(moments, 1, 0);
double moment01 = cvGetSpatialMoment(moments, 0, 1);
double area = cvGetCentralMoment(moments, 0, 0);
int x = moment10/area;
int y = moment01/area; 
```

现在您知道了 blob 的 (xy) 坐标。然后您可以使用`cvSetImageROI(imgThresh, cvRect(x-10, y-10, x+10, y+10))`. 这里我假设这个 blob 的半径小于 10 像素。

所有裁剪的图像都具有相同的大小，并且白色斑点（行星）正好位于图像的中间。

然后，您可以使用归一化互相关比较图像。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T10:58:12.867

There's no fundamental reason why a histogram would fail here. I would convert the image to greyscale before doing a histogram, just to make the numbers more manageable. A color image has a 3D histogram; the Red, Green, Blue and Greyscale histograms are all 1D projections of that 3D histogram.

# objective-c - 当我在 XCode 4.5 以后声明一个属性时，自动生成的 ivar 取什么名字？

> ID：14556232
> 
> 赞同：1
> 
> 时间：2013-01-28T05:57:24.920
> 
> 标签：objective-c, ios6, xcode4.5

早些时候，我在 Snow Leopard 上长期使用 XCode 4.2 很长时间。我已经在 iOS 6 SDK 和 ARC 上使用 XCode 4.5 直接跳转到 Mountain Lion。

对我来说发生了很多变化。只是想知道，默认变量的命名方式是否发生了变化？

因为在较旧的 XCode 中，如果我自己不声明 ivar，它将采用与属性相同的名称。

在 4.5 中，我声明了一个属性（不再需要综合！）。

在覆盖的设置器中，我试图使用与属性同名的变量，比如 abc。

但 XCode 没有识别它并给我 _abc 的建议！

自动生成的 ivar 是否以 _ now 开头？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T06:19:34.520

自动生成的`@synthesize`语句使用带有下划线前缀的实例变量：

```
@synthesize abc = _abc; 
```

但是`@synthesize`没有实例变量的显式语句

```
@synthesize abc; 
```

仍然相当于

```
@synthesize abc = abc; 
```

为了与旧 Xcode 版本兼容。

# windows - 如何使用哪个端口（windows api）在windows中查找哪些服务？

> ID：14556238
> 
> 赞同：2
> 
> 时间：2013-01-28T05:57:51.237
> 
> 标签：windows, service

我通过 GetTcpTable() 找到了端口号和进程 ID，PID 仅标识进程，但我希望进程中的服务，例如 svchost.exe 正在使用该端口.... sysinternals“procexp”工具显示 TCP/IP 端口以及服务使用这些端口，在“TCP/IP”选项卡下......我想知道应该使用什么 win32 api 来实现这样的功能？或者如何通过其他方式实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T09:42:07.480

**首先从带有TCP_TABLE_OWNER_MODULE_ALL**标志的表（例如 TCP 或 UDP）中查询端口信息，您将获得带有信息的表。`GetOwnerModuleFromTcpEntry()`现在将表中的每一行发送到**IpHlper API**。现在您将获得 ModuleName ，它是在给定端口上运行的进程名称或服务名称。现在，您可以从此模块名称中检索有关服务或流程的其他信息。

# python - 使用 SQLAlchemy 检索除某些列外的所有列

> ID：14556244
> 
> 赞同：11
> 
> 时间：2013-01-28T05:58:18.790
> 
> 标签：python, sqlalchemy

我正在制作一个以 JSON 格式发送特定表的 WebService。我使用 SQLAlchemy 与数据库进行通信。

我只想检索用户有权查看的列。

有没有办法告诉 SQLAlchemy 不检索某些列？这是不正确的，但像这样：

```
SELECT * EXCEPT column1 FROM table. 
```

我知道可以在 SELECT 语句中只指定一些列，但这并不是我想要的，因为我不知道所有表列。我只想要所有的列，但一些。

我还尝试获取所有列并删除我不想要的列属性：

```
 result = db_session.query(Table).all()
 for row in result:
     row.__delattr(column1) 
```

但似乎 SQLAlchemy 不允许这样做。我收到警告：

```
Warning: Column 'column1' cannot be null 
cursor.execute(statement, parameters)
ok 
```

对你们来说最优化的方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-28T07:47:31.130

您可以将表中的所有列（不需要的列除外）传递给查询方法。

```
session.query(*[c for c in User.__table__.c if c.name != 'password']) 
```

这是一个可运行的示例：

```
#!/usr/bin/env python

from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import Session

Base = declarative_base()
class User(Base):
    __tablename__ = 'users'

    id = Column(Integer, primary_key=True)
    name = Column(String)
    fullname = Column(String)
    password = Column(String)

    def __init__(self, name, fullname, password):
        self.name = name
        self.fullname = fullname
        self.password = password

    def __repr__(self):
       return "<User('%s','%s', '%s')>" % (self.name, self.fullname, self.password)

engine = create_engine('sqlite:///:memory:', echo=True)

Base.metadata.create_all(engine)
session = Session(bind=engine)
ed_user = User('ed', 'Ed Jones', 'edspassword')
session.add(ed_user)
session.commit()

result = session.query(*[c for c in User.__table__.c if c.name != 'password']).all()
print(result) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-28T08:31:18.263

您可以使列成为延迟列。此功能允许仅在直接访问时加载表的特定列，而不是在使用 Query 查询实体时加载。

请参阅[延迟列加载](http://docs.sqlalchemy.org/en/latest/orm/loading_columns.html#deferred-column-loading)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2021-11-21T07:24:44.100

这对我有用

```
 users = db.query(models.User).filter(models.User.email != current_user.email).all()
 return users 
```

# ruby-on-rails - 用于内容管理系统的 Rails 信誉系统

> ID：14556247
> 
> 赞同：0
> 
> 时间：2013-01-28T05:58:32.377
> 
> 标签：ruby-on-rails, ranking

我正在研究 CMS，我需要实施一个启用这些功能的信誉系统

1.  徽章
2.  积分
3.  排名

我从 twitter，[activerecord-reputation-system 中](https://github.com/twitter/activerecord-reputation-system)找到了这个 gem，但我不太确定如何在我自己的应用程序中使用它。感谢有人可以帮助我。这是我的场景。（仅示例）

```
class Manager < ActiveRecord::Base
end

class Employee < ActiveRecord::Base
has_many :jobs
end

class Category < ActiveRecord::Base
# has a name and points field 
# example: Cat A, 5 
# example: Cat B, 10
end

class Job < ActiveRecord::Base
belongs_to :employee
belongs_to :category
end 
```

所以模型`Managers, Employees, Jobs, Categories.`基本上是`Manager`创建条目并为每个作业条目`Job`分配`Employee`和。`Category`

我需要做的是，每次经理创建工作条目时，根据他们所属的工作类别为员工分配积分，并根据他们获得的积分计算排名或分配徽章。（使用`Category.points)`

这在 Gem 上方可行吗？如果是这样，我如何`has_reputation`在我的模型中使用。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T16:11:53.810

[activerecord-reputation-system](https://github.com/twitter/activerecord-reputation-system)不包括徽章。

满足您的要求（徽章、积分和排名）的一种流行宝石是[优点](https://github.com/tute/merit)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T13:46:40.623

在这颗宝石上查看 R. Bates railscast ......

[http://railscasts.com/episodes/364-active-record-reputation-system](http://railscasts.com/episodes/364-active-record-reputation-system)

..那应该让你朝着正确的方向前进。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T15:13:16.220

看看我的[Paths of Glory](https://github.com/nazar/paths_of_glory)克隆，一个管理用户成就/徽章的插件。

可以在[此处查看](http://recipetrees.com/profiles/1_nazar-aziz)此插件生成的示例页面（单击“徽章”选项卡。）

这个插件还有其他几个分支，值得探索克隆树。

HTH，祝你好运。

# java - StringBuffer 和多线程

> ID：14556250
> 
> 赞同：-1
> 
> 时间：2013-01-28T05:58:52.533
> 
> 标签：java, thread-safety, stringbuffer

`StringBuffer`可以处理多个线程`synchronization`如果您的文本可以更改，并且可以从多个线程访问，请使用 StringBuffer 因为`StringBuffer`是同步的。

谁能解释一下多线程什么时候发生？我们是在我们的程序实现中创建线程`runnable interface or extending Thread class`还是`OS`基于它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:13:03.227

线程可以通过多种方式发生。如果您正在创建线程（例如`extends Thread`），或者您正在创建传递给某种线程模型的对象（例如`implements Runnable`），或者即使您只是在某处有处理类似事件的代码（例如回调函数）。如何创建线程并不重要。无论如何，当你有这样的事情时：

```
public String someMethod()
{
    StringBuilder b = new StringBuilder();
    b.append("Some Method");
    return(b.toString());
} 
```

你知道那是线程安全的。`StringBuilder`对'方法的任何访问`append()`都不需要同步。但是，如果你有这样的事情（只是一个例子）：

```
public class Test
{
    StringBuffer b;

    public Test()
    {
        b = new StringBuffer();
    }

    public String someMethod()
    {
        b.append("Some Method");
        return(b.toString());
    }
} 
```

在这里，您可以看到不止一个执行“线程”可以调用`someMethod()`，并且由于它们都可以访问`StringBuffer`，因此需要对其进行同步。可能是在任何给定时间只有一个线程调用该方法，但这种编写方式并不禁止 2 个线程同时调用它。如果`StringBuilder`使用 a （不是线程安全的），您可能会遇到问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T06:05:02.240

它是`'implementing runnable'`或者`'extending Thread'`

如果资源（此处`StringBuffer`）在多个线程（java进程）之间共享/假设`StringBuffer`在非监控范围内（即外部`synchronize{}`块）定义

在这种情况下，多个线程将不会在队列中等待访问`StringBuffer`实例，因为没有监视器/或需要获取锁来修改实例。

[有关java 并发](http://download.oracle.com/javase/tutorial/essential/concurrency/procthread.html)的更多信息

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T08:23:11.437

让我们假设您的程序无法同时执行两个不同的操作/事件。那你需要考虑一下`Threads`。从逻辑的角度来看，`multithreading`意味着一个程序的多行。在这种情况下，操作系统将程序视为两个独立且不同的进程

Java 的创造者慷慨地设计了两种创建线程的方法：`implementing an interface and extending a class`. 一个简单的案例是当您拥有一个日志文件并且多个线程正在记录`and`写入该日志文件的错误或警告时。

狗的嗅觉是`polymorphic`。如果狗闻到猫的气味，它会吠叫并追赶它。如果狗闻到食物的味道，它会流口水并跑到它的碗里。嗅觉在这两种情况下都在起作用。区别在于嗅到的是什么，也就是狗的鼻子操作的数据类型！

让我们举个例子：

**// 这是我们的主类。**

```
class ThreadTest2 {
    public static void main(String args[]){

        Thread thread1 = new Thread(new MyClass("thread1: "));
        Thread thread2 = new Thread(new MyClass("thread2: "));

        thread1.start();
        thread2.start();

        boolean thread1IsAlive = true;
        boolean thread2IsAlive = true;

        do {
            if (thread1IsAlive && !thread1.isAlive()) {
                thread1IsAlive = false;
                System.out.println("Thread 1 is dead.");
            }

            if (thread2IsAlive && !thread2.isAlive()) {
                thread2IsAlive = false;
                System.out.println("Thread 2 is dead.");
            }
        } while (thread1IsAlive || thread2IsAlive);

    }

} 
```

**// 这是我们实现可运行接口的类。**

```
class MyClass implements Runnable {
    static String message[] = { "Java", "is", "hot,", "aromatic"};
    String name;

    public MyClass(String id){
        name = id;
    }

    public void run(){

        for(int i=0;i<message.length;++i) {
            randomWait();
            System.out.println(name+message[i]);
        }
    }

    void randomWait(){
        try {
            Thread.currentThread().sleep((long)(3000*Math.random()));
        } catch (InterruptedException x) {
            System.out.println("Interrupted!");
        }
    }
} 
```

该程序`thread1 and thread2`从 MyThread 类创建两个执行线程。然后它启动两个线程并执行等待线程终止的 do 语句。线程显示 Java 是热的、芳香的。一个字一个字地发送消息，同时在每个字之间等待一小段随机的时间。`Because both threads share the console window`，程序的输出标识了哪些线程能够在程序执行期间的不同时间写入控制台。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T06:07:35.063

例如，您需要通过接口或类显式创建额外`Thread`的，`Runnable`以便`Thread`多线程成为关注点。这也适用于`Java EE`JVM 创建额外线程的某些情况。

如果`OS`在后台使用额外的线程，它而不是你，负责线程安全，所以你不需要担心。

您可以[在 Java 教程的并发部分](http://docs.oracle.com/javase/tutorial/essential/concurrency/index.html)阅读更多内容。

# apache-httpclient-4.x - 如何为 SOCKs 代理配置基本身份验证

> ID：14556259
> 
> 赞同：0
> 
> 时间：2013-01-28T05:59:34.110
> 
> 标签：apache-httpclient-4.x, apache-commons-httpclient

我正在使用 Apache HttpClient 4.2.3 库通过 HTTP/HTTPS 访问资源。请求通过需要“基本身份验证”的 SOCKs 代理发送。

我查看了 API 文档，发现有 ProxyAuthenticationStrategy 类，看起来可以达到目的。

但我无法弄清楚如何使用它。具体来说，我无法找到如何向 ProxyAuthenticationStrategy 提供代理凭据。

我查看了文档并在网上搜索，但找不到有关此主题的适当帮助。

有人可以指导我如何为 SOCKs 代理配置基本身份验证吗？

注意：我无需身份验证即可通过 SOCKs 代理使用 Apache HttpClient 4.2.3 库成功进行通信。

谢谢，萨钦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T12:12:36.617

SOCKS 是 TCP/IP 级别的代理协议。它与 HTTP 无关，就 HttpClient 而言超出了范围。HttpClient 可以配置为通过 SOCKS 代理连接它创建的所有网络套接字，但它不会尝试向 SOCKS 代理提供任何用户凭据。

# android - 无法从 Android 应用程序调用 Java Webservice

> ID：14556260
> 
> 赞同：1
> 
> 时间：2013-01-28T06:00:01.783
> 
> 标签：android, web-services

我正在尝试从 android 应用程序调用 java webservice 但无法调用它。当我生成`WSDL`文件时，`SOAPAction`显示空白

`string(<soap:operation soapAction=""/>) in soap:operation`.

我的安卓应用程序代码：

```
public class MainActivity extends Activity {

private static final String SOAP_ACTION = "http://com/add";
private static final String METHOD_NAME = "add";
private static final String NAMESPACE = "http://com/";
private static final String URL = "http://localhost:8080/WebApplication1/demo";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

        Button button=(Button)findViewById(R.id.button1);
        button.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

            PropertyInfo pi1 = new PropertyInfo();
            pi1.setName("i");
            pi1.setValue(3);
            pi1.setType(int.class);
            request.addProperty(pi1);

            PropertyInfo pi2 = new PropertyInfo();
            pi2.setName("j");
            pi2.setValue(3);
            pi2.setType(int.class);
            request.addProperty(pi2);

            SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(
                    SoapEnvelope.VER11);
            envelope.dotNet = true;
            envelope.setOutputSoapObject(request);

            // HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
            AndroidHttpTransport androidHttpTransport = new AndroidHttpTransport(URL);

            try {
                ((TextView) findViewById(R.id.textView1)).setText(String
                        .valueOf("The WebService is about to call"));
                androidHttpTransport.call(SOAP_ACTION, envelope);
                ((TextView) findViewById(R.id.textView1)).setText(String
                        .valueOf("The WebService call is done"));

                SoapPrimitive response = (SoapPrimitive) envelope.getResponse();

                ((TextView) findViewById(R.id.textView1)).setText(String
                        .valueOf(response.toString()));

                ((TextView) findViewById(R.id.textView1)).setText(String
                        .valueOf("Done"));

            } catch (Exception e) {
                e.printStackTrace();
                Log.e("Err", "Error Says: " + e.toString());
            }

        }
    });
} 
```

}

有显示异常`network on main thread exception`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-10T06:28:20.120

因为您在主线程中调用 Web 服务。这必须使用后台线程在后台完成。您可以使用 asyntask 进行后台操作。

# ruby-on-rails - 旧表的模型生成

> ID：14556263
> 
> 赞同：1
> 
> 时间：2013-01-28T06:00:28.830
> 
> 标签：ruby-on-rails, ruby-on-rails-3

[https://www.ruby-toolbox.com/projects/magic_model_generator](https://www.ruby-toolbox.com/projects/magic_model_generator)我们无法使用上面的 gem，还有什么可以满足从 Rails3 的现有遗留数据库生成模式/模型类的需求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:35:43.027

唯一的其他宝石是[Dr Nic's Magic Models](http://magicmodels.rubyforge.org/)，但遇到与您的建议相同的问题，未针对 Rails 3 进行更新。

我最近对此进行了调查，得出的结论是，您可以更新 Nic 博士的 gem 以与 Rails 3 一起使用（如果您这样做了，我会为您欢呼）或者采用逐表方法并手动为遗留表建模.

由于我只有少量桌子，我选择手工制作。但是让 Nic 博士的宝石加速会很棒，所以如果你走那条路，请告诉我，也许我们可以提供帮助。

# algorithm - 如何计算大数的组合

> ID：14556266
> 
> 赞同：2
> 
> 时间：2013-01-28T06:00:48.367
> 
> 标签：algorithm, math, combinations

我将数字的排列计算为：-

`nPr = n!/(n-r)!`

其中 n 和 r 给出。 `1<= n,r <= 100`

```
i find p=(n-r)+1
and 
for(i=n;i>=p;i--)
  multiply digit by digit and store in array. 
```

但是我将如何计算 nCr = n!/[r! * (nr)!] 对于相同的范围。？

我使用递归来做到这一点，如下所示： -

```
#include <stdio.h>
typedef unsigned long long i64;
i64 dp[100][100];
i64 nCr(int n, int r)
{
if(n==r) return dp[n][r] = 1;
if(r==0) return dp[n][r] = 1;
if(r==1) return dp[n][r] = (i64)n;
if(dp[n][r]) return dp[n][r];
return dp[n][r] = nCr(n-1,r) + nCr(n-1,r-1);
}

int main()
{
int n, r;
while(scanf("%d %d",&n,&r)==2)
{
    r = (r<n-r)? r : n-r;
    printf("%llu\n",nCr(n,r));
}
return 0;
} 
```

但是 n <=100 的范围，这不适用于 n>60 。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T14:22:27.400

考虑使用 BigInteger 类型的类来表示您的大数字。BigInteger 在 Java 和 C#（.NET Framework 4+ 版本）中可用。从您的问题来看，您似乎正在使用 C++（您应该始终将其添加为标签）。所以试着在[这里](http://mahmoud.devgator.com/?page=programming&single=1&post=125&like=0)和[这里](https://mattmccutchen.net/bigint/)寻找一个可用的 C++ BigInteger 类。

我见过的计算二项式系数的最佳方法之一是[Mark Dominus](http://blog.plover.com/math/choose.html)。与其他一些方法相比，使用较大的 N 和 K 值溢出的可能性要小得多。

```
static long GetBinCoeff(long N, long K)
{
   // This function gets the total number of unique combinations based upon N and K.
   // N is the total number of items.
   // K is the size of the group.
   // Total number of unique combinations = N! / ( K! (N - K)! ).
   // This function is less efficient, but is more likely to not overflow when N and K are large.
   // Taken from:  http://blog.plover.com/math/choose.html
   //
   if (K > N) return 0;
   long r = 1;
   long d;
   for (d = 1; d <= K; d++)
   {
      r *= N--;
      r /= d;
   }
   return r;
} 
```

只需用 BigInt 替换所有长定义，就可以了。

# javascript - 显示/隐藏部分表格条目

> ID：14556267
> 
> 赞同：0
> 
> 时间：2013-01-28T06:00:48.450
> 
> 标签：javascript, jquery, html, bsp

我有一个 10 行的 html 表。我想显示表格的前 5 行 5 秒，接下来的 5 行再显示 5 秒。当显示一组行时，应隐藏另一组。

请帮助

感谢和问候，

abk

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:22:27.047

这是在第一行和最后五行之间连续循环的粗略且现成的方法：

```
$(document).ready(function() {
    var $rows = $("table tr"),
        i = 0;    
    function cycle() {
        $rows.hide();
        $rows.slice(i, i + 5).show();
        i = (i + 5) % $rows.length;
        setTimeout(cycle, 5000);
    }
    cycle();
}); 
```

[http://jsfiddle.net/Lawu5/](http://jsfiddle.net/Lawu5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:24:29.177

您需要将表格分成两部分（div），然后使用 setTimeout() 和 JQuery 的 toggle() 来切换这些部分。试一试！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:37:15.853

好的，根据我对您的要求的理解，我已经对此进行了编码。请检查这是你想要的。！

```
<table width="100">
<tr class="first-five-tr">
    <td>first</td>
</tr>
<tr class="first-five-tr">
    <td>first</td>
</tr>
<tr class="first-five-tr">
    <td>first</td>
</tr>
<tr class="first-five-tr">
    <td>first</td>
</tr>
<tr class="first-five-tr">
    <td>first</td>
</tr>
<tr class="second-five-tr">
    <td>second</td>
</tr>
<tr class="second-five-tr">
    <td>second</td>
</tr>
<tr class="second-five-tr">
    <td>second</td>
</tr>
<tr class="second-five-tr">
    <td>second</td>
</tr>
<tr class="second-five-tr">
    <td>second</td>
</tr>
</table>
<script>
var hideFirstfive = null;
function hideSecondFive() {
$('.second-five-tr').hide();
$('.first-five-tr').show();
clearInterval(hideSecondfive);
hideFirstfive = setInterval(hideFirstFive, 5000);
}

function hideFirstFive() {
$('.first-five-tr').hide();
$('.second-five-tr').show();
clearInterval(hideFirstfive);
hideSecondfive = setInterval(hideSecondFive, 5000);
}

var hideSecondfive = setInterval(hideSecondFive, 5000);

</script> 
```

这是工作小提琴:) [http://jsfiddle.net/Dilip_naga_kumar/HVWDD/](http://jsfiddle.net/Dilip_naga_kumar/HVWDD/)

# javascript - 用于打印的 HTML 自动分页符

> ID：14556270
> 
> 赞同：0
> 
> 时间：2013-01-28T06:00:55.543
> 
> 标签：javascript, jquery, html, css

我必须打印一张包含多个表格的发票。一个表（其中列出了项目）具有动态内容。由于内容是动态的，我无法给出明确的分页符。当我打印发票时，表格的盒子是分开的，一行的一半打印在一个页面上，另一半打印在下一页上。如何设置打印样式？有什么方法可以自动分页吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:12:01.257

CSS 规则`page-break-after`，应该对你有所帮助`page-break-before`。`page-break-inside`

特别是，您可以添加`page-break-inside: avoid`到您的`<table>`以防止它破裂。

注意：这些 CSS 规则可能只会**尽量**避免中断，并且可能不适用于表格超过一页的情况。

# android - 减少android中edittext的大小

> ID：14556274
> 
> 赞同：0
> 
> 时间：2013-01-28T06:01:11.393
> 
> 标签：android

我对 android 很陌生，我想减小`EditText`布局中的字段大小。

例如，如果用户只需要在文本字段中输入 3 位数字，那么 的大小`EditText`应该足够小，而不是默认提供的大小。

有可能这样做吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:07:34.590

试试这样。。

```
android:layout_width="wrap_content" 
```

或者

```
android:layout_width="20dp" //size your choice 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:04:20.987

在您的布局文件中，将属性设置为该文本字段宽度为

`android:layout_width="wrap_content"`..这将 `width`作为文本`content entered into the field`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-01T06:59:07.157

你可以使用 **android:layout_margin="size you want"**

使用也可以使用 **android:layout_margin_left="你想要的大小"**

而不是“**左**”，你也可以**右**、**上**、**下**。

# php - joomla的时间很晚

> ID：14556277
> 
> 赞同：0
> 
> 时间：2013-01-28T06:01:33.527
> 
> 标签：php, joomla, joomla2.5

> **可能重复：**
> [Joomla 2.5 显示错误的日期时间](https://stackoverflow.com/questions/12637322/joomla-2-5-displays-wrong-datetime)

我正在尝试在我的组件中显示当前日期和时间，如下所示：

```
<?php                   
$date =& JFactory::getDate();
echo 'Current date and time is: ' . $date->toFormat() . "\n";
?> 
```

我已经在我的机器、joomla 服务器配置甚至 php.ini中将时区设置为**Asia/Dhaka ，但返回的值仍然晚了 6 小时。**请建议我有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:11:34.180

尝试使用 JFactory::getDate('now') 来使用服务器的当前时间。如果这没有帮助，您可以添加第二个选项来设置您的时区偏移量。

由于我在美国东海岸，我会使用强制 EST：

```
JFactory::getDate('now' , -5) 
```

# javascript - Javascript中的正则表达式查找带有src =“”的img标签，表示未指定图像

> ID：14556279
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:01:47.363
> 
> 标签：javascript, html, image

我的要求是删除所有没有指定 img 的 img 标签。我尝试在正则表达式的帮助下进行操作，也就是说`content.replace(/<img[^>]*>/g,"")`，但这会删除所有 img 标签，我想验证它是否只替换为空的 img 标签。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:26:39.477

你可以这样做：

```
var imgTags = document.getElementsByTagName("img");
for(var i = 0; i < imgTags.length; i++) {
if(imgTags[i].getAttribute("src") === "")
    imgTags[i].parentNode.removeChild(imgTags[i]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:22:02.693

```
<script type="text/javascript">
        $(document).ready(function() {

           $('body').find('img').each(function(i) { 
               var src=$(this).attr('src');
               if(src=="")
              {
                $(this).remove();
               }
              }); 

        });
    </script> 
```

# mysql - MySQL：这是真的，如果不是，那么这个

> ID：14556280
> 
> 赞同：0
> 
> 时间：2013-01-28T06:02:02.243
> 
> 标签：mysql, conditional-statements, where, where-clause

我的查询：

```
SELECT *
FROM ranks
WHERE
    (price = 25.00 AND accumulate = 0)
    OR
    (price <= (SELECT SUM(amount) FROM donations WHERE username = 'username' AND amount IN (SELECT price FROM ranks WHERE accumulate = 1)))
ORDER BY price
DESC LIMIT 1 
```

基本上，如果找到匹配项，我想返回第一个 where 子句，否则返回第二个子句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:10:10.890

此查询将起作用

```
SELECT *
FROM ranks
WHERE price = 25.00 AND accumulate = 0

UNION ALL

SELECT *
FROM ranks
WHERE NOT EXISTS(SELECT *
                  FROM ranks
                  WHERE price = 25.00 AND accumulate = 0)
      AND (price <= (SELECT SUM(amount) FROM donations WHERE username = 'username' AND        amount IN (SELECT price FROM ranks WHERE accumulate = 1)))
ORDER BY price
DESC LIMIT 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:08:14.127

用 IF 试试这个查询

```
SELECT *
FROM ranks
WHERE if(price = 25.00,accumulate = 0, price <= (SELECT
                           SUM(amount)
                         FROM donations
                         WHERE username = 'username'
                             AND amount IN(SELECT
                                     price
                                   FROM ranks
                                   WHERE accumulate = 1)))
ORDER BY price DESC
LIMIT 1 
```

# c# - 将“<”替换为“ ”，将“>”替换为“ ”

> ID：14556282
> 
> 赞同：0
> 
> 时间：2013-01-28T06:02:11.050
> 
> 标签：c#, string, replace

```
string x = "I am a hunter, what do i do. <Name> is a good boy. His age is <Age> and a <occupation> of <Institute>. \n\n He is passionate about his <passion> and also a hardworking fellow. <WifeName> is his wife and she is a sweet girl, She loves her husband a lot. Her age is <WifeAge> and <occupation> of <Institute>"; 
```

这段文字没有任何意义。但我要做的是将所有“ `<`”替换为“ `<b>`”，将所有“”替换`>`为“ `</b>`”，将所有“ `\n\n`”替换为“ `<br/>`”。

我尝试使用：

```
string y = replace(replace(x,"<","<b>"),">","</b>"); 
```

这导致了我毁灭性的结果。我想你们都可以猜到，发生了什么。现在我正在寻找一种简单易行的替代解决方案。我希望，我能说清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:13:35.427

正如建议的那样，使用正则表达式可以做到最好。

尝试这样的事情：

```
string x = "I am a hunter, what do i do. <Name> is a good boy. His age is <Age> and a <occupation> of <Institute>. \n\n He is passionate about his <passion> and also a hardworking fellow. <WifeName> is his wife and she is a sweet girl, She loves her husband a lot. Her age is <WifeAge> and <occupation> of <Institute>";
var y = Regex.Replace(x, "<(?<match>[^>.]*)>", "<b>${match}</b>"); 
```

正则表达式的作用是匹配位于 < 和 > 之间的所有字符 excpect > 并替换它。组名称为“匹配”，但您当然可以重命名它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:05:47.043

试试这个代码片段，

```
string x = "I am a hunter, what do i do. <Name> is a good boy......";
string _val = x.Replace("<", "<b>");
_val = Regex.Replace(_val, "(?<!<b)>", "</b>"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:10:12.277

这是我将如何做到的。

```
String y = Replace(Replace(Replace(Replace(x, "<", "{b}"), ">", "{/b}"), "}", ">"), "{", "<"); 
```

先`<`换成`{b}`再`>`换成`{/b}`

最后，转换`{}`为`<>`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:12:11.420

这基本上是一种伪 UBB 格式。您使用了大于/小于符号，而不是方括号。

我建议使用正则表达式，这是一个粗略的代码：

```
var rgEx = new Regex("<(.+?)>");
string convertedString = rgEx.Replace("Hello is it <me> you're looking for?", "<b>$1</b>"); 
```

问题在于它可能会转换您从代码呈现的一些 html 代码。我建议使用标准 UBB 格式以避免将来出现问题

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T06:12:15.923

因此，如果我理解正确，您使用“ `<`”表示“开始粗体”和“ `>`”表示“结束粗体”。

使用复合调用`String.Replace`显然是行不通的，因为`<`它用在与下一次调用匹配的替换令牌中。

一种方法是在遇到它时进行替换并将其写入新字符串，如下所示：

```
String input = "I am a hunter, what do i do...";
StringBuilder sb = new StringBuilder();
foreach(Char c in input) {

    switch(c) {
        case '<':
            sb.Append("<b>");
            break;
        case '>':
            sb.Append("</b>");
            break;
        case '\r':
            break; // ignore \r characters.
        case '\n':
            sb.Append("<br />");
            break;
        default:
            sb.Append( c );
            break;
    } 
}
return sb.ToString(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-28T06:13:35.180

问题是您的替换值包含来自被替换的原始字符的标记。您需要做的是使用不太可能在您的原始文本中找到的临时令牌。

```
var replacementList = new List<Tuple<string, string, string>>()
{
    Tuple.Create("<", "#OPENINGTOKEN#", "<b>"),
    Tuple.Create(">", "#CLOSINGTOKEN#", "</b>")
};

string x = "I am a hunter, what do i do. <Name> is a good boy.";

foreach (var tokenTriple in replacementList)
{
    x = x.Replace(tokenTriple.Item1, tokenTriple.Item2);
}

foreach (var tokenTriple in replacementList)
{
    x = x.Replace(tokenTriple.Item2, tokenTriple.Item3);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-28T06:14:15.590

这会做到的。

```
// find words and whitespace between < and > 
String matchpattern = @"\<([\w\s]+)\>";  
// wrap them between <b> and </b> tags.
String replacementpattern = @"<b>$1</b>";
x = Regex.Replace(x,matchpattern,replacementpattern)); 
```

# javascript - jQuery Mobile showPageLoadingMsg()/hidePageLoadingMsg() 方法仅适用于 firefox 浏览器

> ID：14556289
> 
> 赞同：2
> 
> 时间：2013-01-28T06:03:09.993
> 
> 标签：javascript, jquery, jquery-mobile

`$.mobile.showPageLoadingMsg()`用户点击登录按钮后，我正在尝试使用 jquery mobile 。在此操作之后，我正在对 web 服务进行 ajax 调用，在得到响应后，我隐藏了加载消息。问题是加载器仅显示在 firefox 浏览器中，而不显示在其他浏览器（chrome、safari、android）中。

例子：

```
$.mobile.showPageLoadingMsg();
var response = $.ajax(
 {
   type: "POST",
   url: "service.php",
   data: "...",
   async: false,
   dataType: "json",
   cache: false
   });
   response.success(function (data)
    {
    res_content = data;
    });
    response.error(function (jqXHR, textStatus, errorThrown)
    {
  }
 $.mobile.hidePageLoadingMsg(); 
```

我还发现如果我给 hidePageLoadingMsg 超时，加载程序就会出现。

```
setTimeout(function(){$.mobile.hidePageLoadingMsg()},5000); 
```

加载程序需要更多时间才能显示，即它在 ajax 调用后显示并显示 5 秒。因为超时不是解决方法。请帮忙。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-28T06:48:39.843

首先，`$.mobile.showPageLoadingMsg()`从jQM 1.2 版开始`$.mobile.hidePageLoadingMsg()`不[推荐使用。](http://jquerymobile.com/demos/1.2.0/docs/api/methods.html)使用`$.mobile.loading('show')`and`$.mobile.loading('hide')`代替。

话虽如此，您可以尝试类似的事情

```
$("#btn1").click(function(){
    $.mobile.loading('show', {theme:"e", text:"Please wait...", textonly:true, textVisible: true});

    //Do your ajax call and processing here
    setTimeout(function(){
        $.ajax({
            ...
            success: function (data){
                ...
                $.mobile.loading('hide');
            }
        });
    }, 50);
}); 
```

请参阅[jsFiddle](http://jsfiddle.net/pmatseykanets/Nvrhb/)在此处模拟冗长的工作

# php - Kohana 3.2 多站点配置

> ID：14556292
> 
> 赞同：0
> 
> 时间：2013-01-28T06:03:41.467
> 
> 标签：php, kohana, kohana-3, kohana-3.2

现在，我根据[本教程](http://kohanaframework.org/3.2/guide/kohana/tutorials/sharing-kohana)在同一台服务器上的多个站点之间共享 Kohana::Core 。我想更进一步，分享除配置和内容之外的所有内容（控制器、视图、模型）。可能吗？我在数据库配置中使用“table_prefix”字段来区分每个站点的表。我想根据 url 参数动态加载数据库配置 - 我认为它应该可以工作。

我正在考虑将路线更改为：

```
 Route::set('default', '(<site>(/<controller>(/<action>(/<parametr>)))))')
        ->defaults(array(
                   'controller' => 'mainpage',
                   'action' => 'index',
                   )); 
```

但目前我不知道应该在哪个地方以及如何检查和加载适当的配置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T09:54:09.887

有一些方法可以做到这一点，

单程：

建立一个 Controller_Base 类放在那里方法 before()

在此方法中，`<site>`通过 use 获取参数 `$this->request->param('site')`。

现在您可以`<site>`通过将每个站点的配置名称设置为`<site>`

现在在每个控制器中，您应该扩展 Controller_Base put before() 方法，并在此方法中使用 parent::before()

希望我帮助了你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-05T10:13:24.233

我找到了最好和最优雅的解决方案。我将我的应用程序移动到模块目录。这很容易。有必要通过删除除路由之外的所有内容将 bootstrap.php 更改为 init.php。现在，我可以通过标准多站点配置多次使用所有控制器、模型和视图。

# android - MediaPlayer：java.io.IOException：准备失败。：状态=0xFFFFFFFC

> ID：14556300
> 
> 赞同：0
> 
> 时间：2013-01-28T06:04:18.443
> 
> 标签：android, media-player

我在对话框中使用了 MediaPlayer：

```
 public class MainActivity extends Activity {

 private static final String TAG = "AudioRecorder";
ImageView showImageview;
Button recordBn;
Button playBn;
Button confirmBn;
Dialog dialog;
Boolean isRecord;
Boolean isCancel;

 private MediaRecorder mediaRecorder = null;
 private MediaPlayer mediaPlayer = null;
 private File file;
 private static final String OUT_FILE_NAME = Environment.getExternalStorageDirectory()
        .getAbsolutePath() + "/myshine.amr";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    this.file = new File(OUT_FILE_NAME);
    Button button = (Button) findViewById(R.id.bu);
    button.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
             dialog = new MyDialog(MainActivity.this,
                    R.style.MyDialog);
             dialog.setContentView(R.layout.record_dialog);

             isRecord=false;
            showImageview=(ImageView)dialog.findViewById(R.id.show_image);
            recordBn=(Button)dialog.findViewById(R.id.dialog_button_record);
            playBn=(Button)dialog.findViewById(R.id.dialog_button_play);
            confirmBn=(Button)dialog.findViewById(R.id.dialog_button_cancel);

            recordBn.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    isRecord = !isRecord;
                    if (file.exists()){
                        file.delete();
                    }
                    try {
                        file.createNewFile();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    if (isRecord) {
                            isCancel=true;
                            recordBn.setText(R.string.stop_record);
                            playBn.setEnabled(false);
                            playBn.setText(R.string.paly_voice);
                            confirmBn.setText(R.string.cancel);
                            record(null);

                     }else{

                            isCancel=false;
                            recordBn.setText(R.string.record);
                            playBn.setEnabled(true);
                            playBn.setText(R.string.paly_voice);
                            confirmBn.setText(R.string.confirm);
                            //结束录音
                            stop(null);

                            //初始化播放

                     }

               }
          });

playBn.setOnClickListener(new View.OnClickListener() {

                    @Override
                    public void onClick(View v) {
                        // TODO Auto-generated method stub
                        //If the track is playing, pause and achange playButton text to "Play"
                        play(null);
//                      if(mediaPlayer.isPlaying())
//                      {
//                          mediaPlayer.pause();
//                          playBn.setText(R.string.paly_voice);
//                           Log.i(TAG, "playing");
//                      }
//                      //If the track is not player, play the track and change the play button to "Pause"
//                      else
//                      {
//                          mediaPlayer.start();
//                          playBn.setText(R.string.pause_voice);
//                          Log.i(TAG, "play");
//                      }
                    }
                });

            confirmBn.setOnClickListener(new View.OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub
                    isCancel = !isCancel;
                     if (!isCancel) {
                            //取消 结束录音
                            stop(null);
                            Log.i(TAG, "endcancel");
                            dialog.dismiss();

                        }else {
                             stop(null);
                             dialog.dismiss();
                             Log.i(TAG, "send");

                        }
                }
            });

            dialog.show();
        }
    });
}

 public void record(View v) {
        Log.d(TAG, "record");
        this.mediaRecorder = new MediaRecorder();
        this.mediaRecorder.setAudioChannels(1);
        this.mediaRecorder.setAudioSamplingRate(8000);
//        this.mediaRecorder.setAudioEncodingBitRate(64000);
        this.mediaRecorder.setAudioEncodingBitRate(16);
        this.mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
        this.mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.RAW_AMR);
        this.mediaRecorder.setOutputFile(this.file.getAbsolutePath());
//        this.mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);
        this.mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
        try {
            this.mediaRecorder.prepare();
            this.mediaRecorder.start();

            // update the buttons

        } catch (IOException e) {
            Log.e(TAG, "Failed to record()", e);
        }
    }

    public void stop(View v) {
        Log.d(TAG, "stop()");
        if (this.mediaPlayer != null) {
            // stop/release the media player
            this.mediaPlayer.stop();
            this.mediaPlayer.release();
            this.mediaPlayer = null;
        } 
        if (this.mediaRecorder != null) {
            // stop/release the media recorder
            this.mediaRecorder.stop();
            this.mediaRecorder.release();
            this.mediaRecorder = null;
        }

    }

public void play(View v) {
    Log.d(TAG, "play()");
    Log.d(TAG, "ddd:"+this.file.getAbsolutePath());
    if (this.file.exists()) {
        mediaPlayer = new MediaPlayer();
        try {

            mediaPlayer.setDataSource(this.file.getAbsolutePath());
            mediaPlayer.prepare();

            mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {

                @Override
                public void onCompletion(MediaPlayer mp) {
                    // TODO Auto-generated method stub
                     playBn.setText(R.string.pause_voice);
                }
            });
            mediaPlayer.start();

        } catch (IOException e) {
            Log.e(TAG, "Failed to play()", e);
       }
    }

}

} 
```

它给了我：

```
01-28 13:58:11.803: E/MediaPlayer(31717): error (-4, -4)
01-28 13:58:11.813: E/AudioRecorder(31717): Failed to play()
01-28 13:58:11.813: E/AudioRecorder(31717): java.io.IOException: Prepare failed.: status=0xFFFFFFFC

   01-28 14:13:39.038: D/AudioRecorder(32641): record
   01-28 14:13:39.038: D/MediaRecorder(32641): doCleanUp
    01-28 14:13:43.042: D/AudioRecorder(32641): stop()
    01-28 14:13:43.042: D/MediaRecorder(32641): stop:E
    01-28 14:13:43.392: D/MediaRecorder(32641): doCleanUp
    01-28 14:13:43.392: D/MediaRecorder(32641): stop:X
    01-28 14:13:43.392: D/MediaRecorder(32641): release:E
    01-28 14:13:43.432: W/MediaRecorder(32641): mediarecorder went away with unhandled events
     01-28 14:13:43.432: W/MediaRecorder(32641): mediarecorder went away with unhandled events
    01-28 14:13:47.296: D/AudioRecorder(32641): play()
    01-28 14:13:47.296: D/AudioRecorder(32641): ddd:/mnt/sdcard/myshine.amr

   01-28 14:13:47.356: E/MediaPlayer(32641): error (-4, -4)
    01-28 14:13:47.356: E/AudioRecorder(32641): Failed to play()
    01-28 14:13:47.356: E/AudioRecorder(32641): java.io.IOException: Prepare failed.: status=0xFFFFFFFC
    01-28 14:13:47.356: E/AudioRecorder(32641):     at android.media.MediaPlayer.prepare(Native Method)
    01-28 14:13:47.356: E/AudioRecorder(32641):     at   com.example.customdialogrecord.MainActivity.play(MainActivity.java:200)
   01-28 14:13:47.356: E/AudioRecorder(32641):  at com.example.customdialogrecord.MainActivity$1$2.onClick(MainActivity.java:106)
    01-28 14:13:47.356: E/AudioRecorder(32641):     at android.view.View.performClick(View.java:2538)
   01-28 14:13:47.356: E/AudioRecorder(32641):  at android.view.View$PerformClick.run(View.java:9152)
01-28 14:13:47.356: E/AudioRecorder(32641):     at android.os.Handler.handleCallback(Handler.java:587)
01-28 14:13:47.356: E/AudioRecorder(32641):     at android.os.Handler.dispatchMessage(Handler.java:92)
01-28 14:13:47.356: E/AudioRecorder(32641):     at android.os.Looper.loop(Looper.java:130)
01-28 14:13:47.356: E/AudioRecorder(32641):     at android.app.ActivityThread.main(ActivityThread.java:3691)
01-28 14:13:47.356: E/AudioRecorder(32641):     at java.lang.reflect.Method.invokeNative(Native Method)
01-28 14:13:47.356: E/AudioRecorder(32641):     at java.lang.reflect.Method.invoke(Method.java:507)
01-28 14:13:47.356: E/AudioRecorder(32641):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
01-28 14:13:47.356: E/AudioRecorder(32641):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
01-28 14:13:47.356: E/AudioRecorder(32641):     at dalvik.system.NativeStart.main(Native Method) 
```

# java - 为什么 doGet()、doPost() 方法是“受保护的”？

> ID：14556304
> 
> 赞同：7
> 
> 时间：2013-01-28T06:04:44.480
> 
> 标签：java

我对`doGet()`,`doPost()`和其他`HttpServlet`类方法的访问修饰符感到困惑。

他们为什么`protected`？

根据我的理解，`protected`修饰符`doGet()`意味着客户端必须在同一个包中（或通过继承的子包）才能访问`doGet()`. 那么调用 JSP 或容器将如何访问它呢？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-28T06:34:41.237

它们受到保护主要有两个原因。

1.  这样外部类就不能像您所推理的那样只调用它们。从技术上讲，有一些方法可以使用 Java Reflection 绕过方法可见性修饰符（如果安全管理器允许或没有），但通常情况下，受保护的方法只能由同一包中的类或子类访问，这让我到第 2 点。
2.  这样子类或具体实现`HttpServlet`可以覆盖它们。好吧，如果它们是公开的，它们也可以被覆盖，但请参阅第 1 点。

现在您的另一个问题是，“那么调用 JSP 或容器将如何访问它？”

`HttpServlet`实现[`Servlet`](http://docs.oracle.com/javaee/6/api/javax/servlet/Servlet.html)接口，该接口声明了一个[service(ServletRequest, ServletResponse)](http://docs.oracle.com/javaee/6/api/javax/servlet/Servlet.html#service%28javax.servlet.ServletRequest,+javax.servlet.ServletResponse%29)方法。当然，默认情况下会变成`public`in `HttpServlet`。这是调用实现的主要入口点（对于容器）`HttpServlet`。

我的猜测（我没有深入研究源代码）是`HttpServlet`检查`ServletRequest`传入的对象的默认实现，这实际上是一个[`HttpServletRequest`](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html)并且定义了一个[`getMethod()`](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getMethod%28%29)返回所使用的 HTTP 方法的方法。`doGet()`然后它根据 HTTP 请求方法或`doPost()`根据 HTTP 请求方法进行分派。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T06:11:09.413

这是来自官方的[javadoc](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServlet.html)。

> **提供一个抽象类，**以创建适合网站的 HTTP servlet。HttpServlet 的子类必须覆盖至少一种方法，通常是以下其中一种：
> 
> doGet，如果 servlet 支持 HTTP GET 请求
> 
> doPost，用于 HTTP POST 请求
> 
> doPut，用于 HTTP PUT 请求
> 
> doDelete，用于 HTTP DELETE 请求
> 
> init 和 destroy，用于管理 servlet 生命周期内持有的资源
> 
> getServletInfo，servlet 用来提供有关自身的信息

并且

> 几乎没有理由重写服务方法。服务通过将标准 HTTP 请求分派给每种 HTTP 请求类型的处理程序方法（上面列出的 doXXX 方法）来处理它们。

在`doGet`方法的文档中：

> 由服务器调用（**通过 service 方法**）以允许 servlet 处理 GET 请求。

所以`HttpServlet`是为继承而设计的，入口点是`service`方法。因此`doGet`受到保护以强制执行明确的 API。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T06:12:17.547

doGet 和 doPost 是生成 HttpResponse 并将其发送到客户端（即通常是 Browser 或 HttpClient）的基本方法

此外，容器调用的`Servlet.service()`方法是`public`. 然后它调用`HttpServlet.service()`受保护的方法，然后调用`doGet()`/`doPost()`方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T06:09:55.553

假设我有一个`MyClass`不是 servlet 的类，那么我是否希望我的类有方法`doGet`和`doPost`？好吧，如果它不是一个 servlet，那么它如何响应或捕获任何基于 Web 的请求。

只有 servlet 可以捕获和响应基于 Web 的请求。

因此，只有当我的类扩展时，我才能捕获和响应基于 Web 的请求是有道理的，`Servlet`因此我将能够使用`doGet`,`doPost`和各种其他方法。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T06:20:33.803

我想您想知道 servlet 容器如何调用受保护的方法 doGet 和 doPost。

实际上有一个名为[javax.servlet.Servlet](http://docs.oracle.com/javaee/6/api/javax/servlet/Servlet.html)的接口。一个名为[GenericServlet](http://docs.oracle.com/javaee/5/api/javax/servlet/GenericServlet.html)的类实现了该接口。HTTPServlet 类扩展了这个 GenericServlet。

当有一个对 HTTPServlet 的 http 请求时，容器只需使用接口中声明的方法 service(...)。该方法是公开的。然后在GenericServlet 中，服务方法调用doGet 和doPost。如果你的 servlet 类扩展了 HTTPServlet 类并覆盖了 doPost 方法，那么这个方法最终会被调用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-28T06:24:10.587

将`protected`其视为覆盖方法的邀请。您正在从中派生一个类，`HttpServlet`因此这些方法是要覆盖的方法。它们都有一个默认操作，因此您可以覆盖您的应用程序感兴趣的方法。

# c++ - 如何在 C 中获取 Linux 中的绝对鼠标位置

> ID：14556305
> 
> 赞同：1
> 
> 时间：2013-01-28T06:04:44.653
> 
> 标签：c++, c, linux, mouse

据我所知，获得鼠标位置的两种方法是使用`libgpm`或读取`/dev/input/mice`文件。但后者只是从最后一个位置返回一个**相对**位置。所以我的问题是如何通过阅读或其他方式获得**绝对鼠标位置。**`/dev/input/mice`

我想通过`C`or来实现这个功能`C++`。任何信息将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:09:16.817

首先，鼠标设备可能只发送相对运动，因此无法获得绝对位置（只需尝试用手抬起鼠标并将其放在其他地方），除非通过整合运动。

而且几乎所有 Linux GUI 环境都在[X11](http://en.wikipedia.org/wiki/X11)之上，所以它是 X11 服务器（通常是`Xorg`进程）处理鼠标（它是唯一实际读取的进程`/dev/input/mice`）

然后您需要制作一个 X11 客户端应用程序。看到[这个](https://stackoverflow.com/q/9357382/841108)&[那个](https://stackoverflow.com/q/10311270/841108)问题。但是你会更好地使用一些现有的工具包库，比如 Qt 或 GTK；参见Qt 中的[QMouseEvent](http://doc.qt.digia.com/qt/qmoveevent.html)和[QWidget::mouseMoveEvent ，以及 Gtk 中](http://doc.qt.digia.com/qt/qwidget.html#mouseMoveEvent)[的 GtkWidget“motion-notify-event”信号](http://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-motion-notify-event)（以及许多其他功能）。

另请参阅[此问题](https://stackoverflow.com/q/14553435/841108)

# google-maps-api-3 - Google Maps v3 在两点之间创建路线

> ID：14556312
> 
> 赞同：6
> 
> 时间：2013-01-28T06:05:14.487
> 
> 标签：google-maps-api-3, google-api, routes

我正在使用 Google Maps API 开发 Web 应用程序。我正在尝试在两点之间创建一条路线，但由于某种原因，我还没有弄清楚如何创建它。以下是我的代码，如果我遗漏了什么，请告诉我。谢谢你。

```
<script>
var Center=new google.maps.LatLng(18.210885,-67.140884);
var directionsDisplay;
var directionsService = new google.maps.DirectionsService();
var map;

function initialize() {
  directionsDisplay = new google.maps.DirectionsRenderer();
var properties = {
    center:Center,
    zoom:20,
    mapTypeId:google.maps.MapTypeId.SATELLITE
};

map=new google.maps.Map(document.getElementById("map"), properties);
directionsDisplay.setMap(map);

var marker=new google.maps.Marker({
position:Center,
animation:google.maps.Animation.BOUNCE,
});

marker.setMap(map);

}

function Route() {

var start = new google.maps.LatLng(18.210885,-67.140884);
var end =new google.maps.latLng(18.211685,-67.141684);
var request = {
origin:start,
destination:end,
travelMode: google.maps.TravelMode.WALKING
 };
 directionsService.route(request, function(result, status) {
if (status == google.maps.DirectionsStatus.OK) {
  directionsDisplay.setDirections(result);
}
});
} 

google.maps.event.addDomListener(window,'load',initialize);
</script> 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-28T13:10:57.043

它适用于我，如果我：

1.  调用路由函数
2.  改变：

    ```
    var end =new google.maps.latLng(18.211685,-67.141684); 
    ```

至：

```
 var end =new google.maps.LatLng(18.211685,-67.141684); 
```

（javascript区分大小写，浏览器在javascript控制台报错）

[工作版](http://www.geocodezip.com/v3_simpleMap_directions.html)

代码片段：

```
var Center = new google.maps.LatLng(18.210885, -67.140884);
var directionsDisplay;
var directionsService = new google.maps.DirectionsService();
var map;

function initialize() {
  directionsDisplay = new google.maps.DirectionsRenderer();
  var properties = {
    center: Center,
    zoom: 20,
    mapTypeId: google.maps.MapTypeId.SATELLITE
  };

  map = new google.maps.Map(document.getElementById("map"), properties);
  directionsDisplay.setMap(map);

  var marker = new google.maps.Marker({
    position: Center,
    animation: google.maps.Animation.BOUNCE,
  });

  marker.setMap(map);
  Route();
}

function Route() {

  var start = new google.maps.LatLng(18.210885, -67.140884);
  var end = new google.maps.LatLng(18.211685, -67.141684);
  var request = {
    origin: start,
    destination: end,
    travelMode: google.maps.TravelMode.WALKING
  };
  directionsService.route(request, function(result, status) {
    if (status == google.maps.DirectionsStatus.OK) {
      directionsDisplay.setDirections(result);
    } else {
      alert("couldn't get directions:" + status);
    }
  });
}

google.maps.event.addDomListener(window, 'load', initialize);
```

```
html,
body,
#map {
  margin: 0;
  padding: 0;
  height: 100%;
}
```

```
<script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
<div id="map"></div>
```

# oracle - 使用 blob 列在 Oracle 上准备测试数据

> ID：14556313
> 
> 赞同：2
> 
> 时间：2013-01-28T06:05:16.123
> 
> 标签：oracle, blob

最近需要对oracle 10g做一些性能测试，情况是我需要准备尽可能多的有blob列的记录，并且blob列至少要包含10kbs的数据。

如何自动生成测试数据？比如说，10,000 条记录？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T08:08:12.880

如果不关心 LOB 数据的内容是否相同，可以使用以下方法（随机创建一个 10000 字节的 lob 值）：

```
declare
   v_clob        clob;
   v_blob        blob;
   v_dest_offset integer := 1;
   v_src_offset  integer := 1;
   v_warn        integer;
   v_ctx         integer := dbms_lob.default_lang_ctx;
begin
   for idx in 1..5
   loop
     v_clob := v_clob || dbms_random.string('x', 2000);
   end loop;
   dbms_lob.createtemporary( v_blob, false );
   dbms_lob.converttoblob(v_blob,
                          v_clob,
                          dbms_lob.lobmaxsize,
                          v_dest_offset,
                          v_src_offset,
                          dbms_lob.default_csid,
                          v_ctx,
                          v_warn);
   insert into blob_test (id, data)
     select rownum, v_blob from dual
     connect by level <= 10000;
end;
/ 
```

请参阅此处的示例会话：

```
SQL> create table blob_test (id number primary key, data blob);

Table created.

SQL> declare
  2    v_clob        clob;
  3    v_blob        blob;
  4    v_dest_offset integer := 1;
  5    v_src_offset  integer := 1;
  6    v_warn        integer;
  7    v_ctx         integer := dbms_lob.default_lang_ctx;
  8  begin
  9    for idx in 1..5
 10    loop
 11      v_clob := v_clob || dbms_random.string('x', 2000);
 12    end loop;
 13    dbms_lob.createtemporary( v_blob, false );
 14    dbms_lob.converttoblob(v_blob,
 15                           v_clob,
 16                            dbms_lob.lobmaxsize,
 17                           v_dest_offset,
 18                           v_src_offset,
 19                           dbms_lob.default_csid,
 20                           v_ctx,
 21                           v_warn);
 22
 23    insert into blob_test (id, data)
 24    select rownum, v_blob
 25      from dual
 26     connect by level <= 10000;
 27
 28  end;
 29  /

PL/SQL procedure successfully completed.

SQL> select count(*) , max(length(data)) from blob_test;

  COUNT(*) MAX(LENGTH(DATA))
---------- -----------------
     10000             10000 
```

如果您想拥有不同的数据，您可以生成并插入`v_lob`循环中。

# c# - 没有输入时突出显示文本框

> ID：14556314
> 
> 赞同：0
> 
> 时间：2013-01-28T06:05:20.710
> 
> 标签：c#, windows, forms, textbox

我想在没有输入时突出显示一个文本框，这是我的示例代码

```
if (textBox2.Text == "")
                    {
                        MessageBox.Show("Please put your password");
                        textBox2.Focus();
                    } 
```

我想突出显示它，因为它像发光一样，但它只将 Ibeam 光标设置到文本框，请帮助我，在此先感谢 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:09:08.867

您可以更改文本框的[背景颜色](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.backcolor.aspx)。

```
textBox2.BackColor = Color.Yellow; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:14:09.100

尝试使用**Winforms**错误提供程序：

```
if (textBox2.Text == "")
{
 errorProvider1.SetError(textBox2, "Please put your password");
 textBox2.BackColor = Color.Red; //to add high light
} 
```

请参阅：[C# ErrorProvider](http://www.dotnetperls.com/errorprovider)

问候

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:23:03.967

试试这个;

```
if (textBox1.Text == "")
{
    MessageBox.Show("Please put your password");
    textBox1.Focus();               
    textBox1.BorderThickness = new Thickness(2, 2, 2, 2);
    textBox1.BorderBrush = Brushes.Red;
    textBox1.Background = Brushes.Beige;                    
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-28T06:09:59.830

您需要将这些行添加到 CSS：-

```
 .glow:focus {
    border-color: #6EA2DE;
    box-shadow: 0px 0px 10px #6EA2DE;
} 
```

在您的表单中，您可以添加一个`CssClass`属性：-

```
<asp:TextBox id="textBox2" CssClass="glow" runat="server"/> 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-28T06:14:32.057

您需要在文本框的焦点上设置 css 边框属性。像这样的东西：

# 文本框2：焦点{

边框颜色：**你想要的任何颜色**；

}

您可以通过这种方式设置任何 CSS 属性。

# perl - perl datetime 输出解释

> ID：14556318
> 
> 赞同：1
> 
> 时间：2013-01-28T06:05:40.460
> 
> 标签：perl, datetime

perl 代码：

```
#!/bin/env perl

use DateTime;

print DateTime->now; 
```

输出：

```
2013-01-28T06:02:33 
```

输出字符串中的“T”字母是什么意思？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T07:41:11.077

ISO8601 和 RFC3339 都使用“T”来连接日期和时间，并且 DateTime 的默认字符串化符显然采用了该约定。如果您想要另一种格式，可以使用 DateTime::Format::* 模块之一或`->strftime`.

```
my $now = DateTime->now( time_zone => 'local' );
say $now->strftime('%Y-%m-%d %H:%M:%S'); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T06:08:14.813

它代表“时间”。你可以阅读更多：

[http://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations](http://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:07:31.983

[它是ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations)中日期和时间之间的分隔符。这种格式始终是 T。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:11:11.917

> 字符 [T] 应用作时间指示符，以指示这些表达式中时间分量表示的开始。根据 4.4.4，连字符 [-] 和冒号 [:] 应在需要时分别用作日期和时间表达式中的分隔符。
> 
> 注：通过信息交换合作伙伴的共同协议，在不存在将日期和时间表示与本国际标准中定义的其他表示混淆的风险的应用中，可以省略字符[T]。

--[数据元素和交换格式 - 信息交换 - 日期和时间的表示，ISO 8601:2004(E)](http://dotat.at/tmp/ISO_8601-2004_E.pdf)

# flash - 使用 Flash 上传 Youtube 浏览器（安全错误 #2049）

> ID：14556319
> 
> 赞同：1
> 
> 时间：2013-01-28T06:05:40.883
> 
> 标签：flash, youtube, crossdomain.xml

我正在尝试使用浏览器中的 Flash 将视频上传到 Youtube。[使用官方 API](https://developers.google.com/youtube/1.0/developers_guide_python#UploadingVideos)创建的普通 HTML 表单可以正常工作，但我需要进度条。

我正在尝试使用 SWFUpload、Uploadify 和 Yahoo UI，但所有上传者都会抛出安全错误 #2049。我想这意味着 crossdomain.xml 文件拒绝了我的请求，对吧？

Youtube 的 crossdomain.xml 位于[https://uploads.gdata.youtube.com/crossdomain.xml](https://uploads.gdata.youtube.com/crossdomain.xml)。尝试上传时，我可以在浏览器中看到此请求。我已经测试了 localhost 和 App Engine —— 发生了同样的错误。

你能给我一个提示吗？坦克。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T23:35:26.133

好的，解决方案是在上传网址中用 HTTP 替换 HTTPS。我还不知道，为什么 flash 不能发送 HTTPS 请求（mb，代理？）。

# c++ - 在级联插入操作中保留类型

> ID：14556323
> 
> 赞同：0
> 
> 时间：2013-01-28T06:06:20.070
> 
> 标签：c++, operator-overloading, insertion, ambiguous

我正在尝试在 ostringstream 实例上创建一个瘦包装器，它将所有插入操作委托给封闭的 ostringstream 实例。这个想法是在进行级联插入操作时保留类型。通常，级联插入操作的结果类型是 ostream&，并且任何原始类型都会丢失。我想维护表达式的类型，因为我希望能够将它传递给一个方法以进行进一步处理，并且希望能够访问底层的 ostringstream 以获取插入的字符串数据。

我希望能够执行以下操作，并将表达式的结果设为 LgStream：

```
LgStream() << 26 << " a plain string " << std::string("a std string") << someObjWithItsOwnInsertionOperator; 
```

因此，我为基本类型定义了 operator<<()，并将模板方法定义为其他所有内容的包罗万象：

```
class LgStream
{
public:
    ostringstream m_oss;
    string str() {return m_oss.str();}

    LgStream &operator<<(int x) {m_oss << x; return *this;}
    LgStream &operator<<(long x) {m_oss << x; return *this;}
    LgStream &operator<<(char x) {m_oss << x; return *this;}
    LgStream &operator<<(bool x) {m_oss << (x ? 'T':'F'); return *this;}
    LgStream &operator<<(double x) {m_oss << x; return *this;}

    template <typename T>
    LgStream &operator<<(const T &x) {m_oss << x; return *this;}
    template <typename T>
    LgStream &operator<<(const T x) {m_oss << x; return *this;}

}; 
```

我没有正确，并且收到“模棱两可的过载”错误。例如：

```
LgStream() << "This is a plain string";

error: ambiguous overload for 'operator<<' in 'LgStream() << "This is a plain string"'
note: candidates are:
note: LgStream& LgStream::operator<<(int) <near match>
note:   no known conversion for argument 1 from 'const char [23]' to 'int' 
note: LgStream& LgStream::operator<<(long int) <near match>
note:   no known conversion for argument 1 from 'const char [23]' to 'long int'
note: LgStream& LgStream::operator<<(char) <near match>
note:   no known conversion for argument 1 from 'const char [23]' to 'char'

note: LgStream& LgStream::operator<<(bool)
note: LgStream& LgStream::operator<<(std::string)
note: LgStream& LgStream::operator<<(const T&) [with T = char [23], LgStream = LgStream]
note: LgStream& LgStream::operator<<(T) [with T = const char*, LgStream = LgStream] 
```

任何一种语法都可以得到任何帮助，或者如果我采用了错误的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T08:38:15.860

歧义的主要来源来自两个模板函数。一个取“const T &x”，另一个取“const T x”。任何 const T 值也适用于参考版本。摆脱其中之一。在删除“operator<<(const T x)”的定义后，我在 VC++ 中编译了这段代码，并且编译没有错误。也许您的编译器也会这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:25:49.023

你为什么不从 std::basic_ostringstream 派生你的类？这样您就不必定义自己的插入运算符，并且可以使用所有标准的插入运算符。

参考资料会说从 STL 类派生是危险的，最好避免。AFAIK，如果您要通过引用其基类来多态地使用派生类，这只是一个问题。解释一下，由于没有一个 STL 类将其 dtor 声明为虚拟，因此销毁多态对象指针不会调用派生类 dtor，并且可能导致内存泄漏。只要你不这样使用LgStream，你应该没问题。

# windows - 检测用户即将登录 Windows 7/8

> ID：14556324
> 
> 赞同：0
> 
> 时间：2013-01-28T06:06:21.647
> 
> 标签：windows, winapi, login

我需要编写一个小的 Windows 服务，该服务应该检测用户何时尝试登录并根据某些标准（例如小时）拒绝访问。

因此，我研究了当孩子有小时限制时 Windows 家庭安全的工作方式，我注意到用户（孩子）收到的消息与使用设置限制时收到的消息相似或相同

> net user 用户 /time:etc 等

所以我怀疑这就是家庭安全所使用的。

但是，我想以编程方式与“net”命令进行交互，除此之外，我想知道当用户尝试登录或用户刚刚登录时是否有事件需要观察。

我应该寻找哪个 Windows API 来获得此功能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T18:38:54.487

“net user”命令可通过网络管理 API 以编程方式使用。例如，您可以使用该`NetUserSetInfo`函数和`USER_INFO_1020`结构来设置用户可以登录的时间。

# c++ - 移植 C -> C++，在访问未命名联合中的结构时遇到问题

> ID：14556328
> 
> 赞同：1
> 
> 时间：2013-01-28T06:06:50.380
> 
> 标签：c++, c, porting, unions, forward-declaration

我一直致力于将 Marcel 的简单国际象棋程序[http://marcelk.net/mscp/](http://marcelk.net/mscp/) 从 C 移植到 C++。我从来没有与工会合作过，更不用说工会内的结构了。我列出的最上面的部分是工会的声明。（所有代码都在一个 .c 文件中）。

除了 C++ 教科书之外，我还搜索并阅读了一些指南，但我仍然没有深入了解如何解决这个问题。我不确定什么是“前向 cdeclaration”，也不确定我应该在什么情况下查看问题。

我的编译选项是

g++ -ansi -Wall -O2 -pedantic -o mscp -mscp.cpp

> ```
> static union {
>         struct tt {                     /* Transposition table entry */
>                 unsigned short hash;    /* - Identifies position */ 
>                 short move;             /* - Best recorded move */
>                 short score;            /* - Score */
>                 char flag;              /* - How to interpret score */
>                 char depth;             /* - Remaining search depth */
>         } tt[CORE];
>         struct bk {                     /* Opening book entry */
>                 unsigned long hash;     /* - Identifies position */
>                 short move;             /* - Move for this position */
>                 unsigned short count;   /* - Frequency */
>         } bk[CORE];
> } core; 
> ```

这些部分是给出错误的行的示例：

错误：'const struct cmp_bk(const void*, const void*)::bk' 的前向声明

错误：无效使用不完整类型 'const struct cmp_bk(const void*, const void*)::bk'</p>

```
 static int cmp_bk(const void *ap, const void *bp)
    {
            const struct bk *a = ap; //ERROR HERE
            const struct bk *b = bp; //ERROR HERE

            if (a->hash < b->hash) return -1; //ERROR HERE
            if (a->hash > b->hash) return 1; //ERROR HERE
            return (int)a->move - (int)b->move; //ERROR HERE
    } 
```

* * *

```
static int search(int depth, int alpha, int beta)
{
        int                             best_score = -INF;
        int                             best_move = 0;
        int                             score;
        struct move                     *moves;
        int                             incheck = 0;
        struct tt                       *tt; //ERROR HERE
        int                             oldalpha = alpha;
        int                             oldbeta = beta;
        int                             i, count=0; 
```

* * *

```
 if (tt->depth >= depth) {
                    if (tt->flag >= 0) alpha = MAX(alpha, tt->score); //ERROR HERE
                    if (tt->flag <= 0) beta = MIN(beta,  tt->score); //ERROR HERE
                    if (alpha >= beta) return tt->score;
            }
            best_move = tt->move & 07777; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:16:25.997

看起来您已经在代码中较早地声明了 a`class`或`struct bk`某处。还

```
struct tt                       *tt; 
```

将产生错误，因为您试图声明一个与 struct 同名的变量（两者都称为`tt`）。由于此错误，变量未正确声明，因此您的其他错误。事实上，看起来你的很多问题都源于将数据类型（例如`bk`，`tt`）命名为与变量相同的东西。如果可以，请尝试更改数据类型的名称或使其匿名。

作为旁注，除非它们在其他任何地方使用，否则联合内部的结构可能会匿名。

# json - JSON - Spring MVC：如何将 json 数据发布到 Spring MVC 控制器

> ID：14556330
> 
> 赞同：5
> 
> 时间：2013-01-28T06:07:26.073
> 
> 标签：json, spring, model-view-controller

我在将 JSON 数据从 发布`jsp`到 时遇到问题`controller`。每次我尝试我都会收到一个 ajax 错误`Bad Request`。我对 JSON 很陌生，我真的不知道我做错了什么。我搜索并尝试了一些可以在此站点中找到的示例，但我仍然遇到问题。

在我的控制器中：

```
@RequestMapping (method = RequestMethod.POST, headers ={"Accept=application/json"}, value = "/form")
public String postJournalEntry (@RequestParam ("json") String json, Model model) {
    System.out.println(json);
    return "successfullySaved";
} 
```

在我的jsp中：

```
$("#btnPostGlEntry").click(function () {
    var glEntries = '{"glEntries":[{"generalLedgerId":"1"},{"accountId":"4"},{"amount":"344.44"},{"description":"Test Entry"},{"debit":"Yes"}]}';
    $.ajax({
        type: "POST",
        contentType: "application/json",
        dataType: "json",
        url: contextPath + "/generalLedger/journalEntries/form",
        data : JSON.stringify(glEntries),
        success: function(data) {
            alert("Success!!!");
        },
        error: function (jqXHR, textStatus, errorThrown) {
            alert(jqXHR + " : " + textStatus + " : " + errorThrown);
        }
    });
}); 
```

注意：我什至不确定我在控制器中的功能是否正确。我认为我的控制器和我的 ajax 是错误的。请帮忙。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-08-16T23:56:30.973

如果您希望将 JSON 反序列化为某个类，则必须定义这样的方法（并且不要忘记添加 jsonConverter，如上一个答案）：

```
.... method(@RequestBody MyClass data){ ... } 
```

但是，如果您希望您的方法接受 JSON 作为 String 比这样做：

```
.... method(@RequestBody String json){ ... } 
```

因此，基本上，如果您发布 JSON，则意味着 JSON 不是参数，它是请求的主体。最终你必须使用@RequestBody 注解，而不是@RequestParam。

您可以在此处找到 Spring Mvc 和 JSON 的精美视频教程：[sites.google.com/site/upida4j/example](https://sites.google.com/site/upida4j/example)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-28T06:35:20.730

看来您没有正确配置 Json 转换器

像这个

```
<bean id="jacksonMessageConverter" class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter"></bean>
 <bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter">
<property name="messageConverters">
  <list>
    <ref bean="jacksonMessageConverter"/>
  </list>
</property>
</bean> 
```

# c++ - errno 是 errno.h 中的 int 或宏

> ID：14556336
> 
> 赞同：3
> 
> 时间：2013-01-28T06:07:40.147
> 
> 标签：c++

我看过这段代码：

```
#if !defined(errno)
extern int errno;
#endif 
```

所以我的问题是`errno`int 还是 macro ，因为`#if`if 可以检查是否定义了宏，并且在我们完成之后`extern int errno;`

在 errno.h 中是这样定义的

```
#ifdef  _ERRNO_H

/* Declare the `errno' variable, unless it's defined as a macro by
   bits/errno.h.  This is the case in GNU, where it is a per-thread
   variable.  This redeclaration using the macro still works, but it
   will be a function declaration without a prototype and may trigger
   a -Wstrict-prototypes warning.  */
#ifndef errno
extern int errno;
#endif

#endif 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:15:04.760

在 C++ 中（从 n3376 开始），如果包含 <cerrno>，则 errno 被定义为宏，否则如果包含 <errno.h>，则它是在 C 中定义的任何内容（我怀疑上面给出的 int（但您需要查看在 C 标准中（根据下面的 Alok：“未指定 errno 是宏还是标识符”）））。

## n3376:

### 19.4 错误编号 [errno]

> 表头 <cerrno> 在表 43 中描述。它的内容与 POSIX 头 <errno.h> 相同，只是 errno 应定义为宏。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-28T06:15:33.227

查看[http://www.cplusplus.com/reference/cerrno/errno/ 。](http://www.cplusplus.com/reference/cerrno/errno/)标准似乎将 errno 定义为 c++ 的宏。

> 该宏扩展为 int 类型的可修改左值，因此它可以被程序读取和修改。
> 
> 在 C++ 中，errno 始终声明为宏，但在 C 中，它也可以实现为具有外部链接的 int 对象。

[cppreference](http://en.cppreference.com/w/cpp/error/errno)添加了有关 C++11 的更多细节。

> errno 是一个预处理器宏，可扩展为 int 类型的静态（C++11 前）/线程本地（C++11 起）可修改左值。

# silverlight - 有没有办法在 Windows Phone 7.1 中向 ContentControl 添加过渡？

> ID：14556343
> 
> 赞同：0
> 
> 时间：2013-01-28T06:08:21.530
> 
> 标签：silverlight, windows-phone-7, mvvm, caliburn.micro

我已经进行了全面搜索，但似乎没有人想出一种方法（或至少写过一种方法）来**为 Windows Phone 的 Silverlight 中**的 ContentControl （或等效项）添加过渡。

我正在使用 Caliburn Micro，并且我有一个屏幕导体可以激活不同的用户控件。我想要的只是激活之间的简单滑动效果，向前和向后。您可以在 WPF 中执行此操作，但似乎不能在 SL4WP 中执行此操作。

另一种选择是切换到在这些视图之间使用导航，但是我失去了“主-细节”样式的视图模型。我愿意接受一个保持我的意图但使用页面导航的答案（从那时起我可以使用 Windows Phone 工具包中的幻灯片转换）。

这是一个循序渐进的引导方式，我需要引导用户完成 2-3 步过程，允许他们返回或取消，每一步都使用前一步骤的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:16:03.627

你确定不能做吗？Internet 上有各种博客文章和文章表明它`TransitioningContentControl`是[Silverlight for Window Phone Toolkit](http://channel9.msdn.com/Blogs/SlickThought/Windows-Phone-7-April-CTP-and-TransitioningContentControl)的一部分。

请注意，“Silverlight”和“Silverlight for Windows Phone”是不同的东西，因此您必须下载正确的工具包。

# android - 当我尝试从 EditText 捕获时，Android 应用程序崩溃

> ID：14556345
> 
> 赞同：0
> 
> 时间：2013-01-28T06:08:33.323
> 
> 标签：android, android-intent, menu, crash

因此，我试图在从菜单选项打开的警报对话框中制作联系表格。我的表单和 Main.java 中有 3 个 EditText 字段，当按下表单中的“发送”按钮然后我启动电子邮件意图时，我从这些字段中读取，或者至少这就是它应该做的。现在，只要我按下发送按钮，应用程序就会崩溃。现在我已经解决了这个问题，它似乎不是故意的，但是当我从 EditText 字段中读取时它就会发生。当我取出 EditText 阅读部分并将填充信息放在其位置时，代码工作正常，但我需要它与 EditTexts 一起使用。谢谢你。我在菜单中的选项的整个代码：

```
case R.id.menu_feedback:

    AlertDialog.Builder builder = new AlertDialog.Builder(this);
builder.setTitle(R.string.menu_feedback);
LayoutInflater inflater = this.getLayoutInflater();

// Inflate and set the layout for the dialog
// Pass null as the parent view because its going in the dialog layout
builder.setView(inflater.inflate(R.layout.feedback, null));
// Add the buttons
builder.setNegativeButton(R.string.send, new DialogInterface.OnClickListener() {
       public void onClick(DialogInterface dialog, int id) {
           // User clicked OK button
           final EditText nameField = (EditText) findViewById(R.id.EditTextName);
           String name = nameField.getText().toString();
           final EditText emailField = (EditText) findViewById(R.id.EditTextEmail);
           String email = emailField.getText().toString();
           final EditText feedbackField = (EditText) findViewById(R.id.EditTextFeedbackBody);
           String feedback = feedbackField.getText().toString();
           final CheckBox responseCheckbox = (CheckBox) findViewById(R.id.CheckBoxResponse);
           boolean bRequiresResponse = responseCheckbox.isChecked();

           /* Create the Intent */
           final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);

           /* Fill it with Data */
           emailIntent.setType("plain/text");
           emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, R.string.send_email);
           emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Subject");
           emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, feedback);

           /* Send it off to the Activity-Chooser */
           startActivity(Intent.createChooser(emailIntent, "Send mail..."));
           dialog.dismiss();

       }
   });
builder.setPositiveButton(R.string.cancel, new DialogInterface.OnClickListener() {
           public void onClick(DialogInterface dialog, int id) {
               dialog.dismiss();
           }
       });

// create alert dialog
AlertDialog alertDialog = builder.create();

// show it
alertDialog.show();

return true; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:15:59.763

好的，我假设你所有的 EditTexts 都写在`feedback layout`AlertDialog 的文件中，

```
View dialogView = inflater.inflate(R.layout.feedback, null);
builder.setView(dialogView ); 
```

而Edittext就像，

```
// User clicked OK button
final EditText nameField = (EditText) dialogView.findViewById(R.id.EditTextName);
String name = nameField.getText().toString();
final EditText emailField = (EditText) dialogView.findViewById(R.id.EditTextEmail);
String email = emailField.getText().toString();
final EditText feedbackField = (EditText) dialogView.findViewById(R.id.EditTextFeedbackBody);
String feedback = feedbackField.getText().toString(); 
```

实际上，当您膨胀任何视图并且您必须使用该视图的子视图时，您必须使用该视图和`findViewById()`方法的引用。所以在你的情况下，`dialogView.findViewById();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:14:44.767

使用`builder`或`inflater`实例从 AlertDialog 访问 EditText 或其他视图：

```
 builder.setNegativeButton(R.string.send, new DialogInterface.OnClickListener() {
  public void onClick(DialogInterface dialog, int id) {
                           // User clicked OK button
   final EditText nameField = (EditText)inflater. findViewById(R.id.EditTextName);
   String name = nameField.getText().toString();
   final EditText emailField = (EditText)inflater. 
                                                 findViewById(R.id.EditTextEmail);
   String email = emailField.getText().toString();
   final EditText feedbackField = (EditText)inflater. 
                                          findViewById(R.id.EditTextFeedbackBody);
   String feedback = feedbackField.getText().toString();
// your code here.. 
```

# python - RuntimeError：Python 3.2 pickle.dump 超出了最大递归深度

> ID：14556350
> 
> 赞同：3
> 
> 时间：2013-01-28T06:08:52.797
> 
> 标签：python

我在下面的代码中遇到了上述错误。错误发生在最后一行。请原谅主题，我只是在练习我的python技能。=)

```
from urllib.request import urlopen
from bs4 import BeautifulSoup
from pprint import pprint
from pickle import dump

moves = dict()
moves0 = set()
url = 'http://www.marriland.com/pokedex/1-bulbasaur'
print(url)
# Open url
with urlopen(url) as usock:
    # Get url data source
    data = usock.read().decode("latin-1")
    # Soupify
    soup = BeautifulSoup(data)
    # Find move tables
    for div_class1 in soup.find_all('div', {'class': 'listing-container listing-container-table'}):
        div_class2 = div_class1.find_all('div', {'class': 'listing-header'})
        if len(div_class2) > 1:
            header = div_class2[0].find_all(text=True)[1]
            # Take only moves from Level Up, TM / HM, and Tutor
            if header in ['Level Up', 'TM / HM', 'Tutor']:
                # Get rows
                for row in div_class1.find_all('tbody')[0].find_all('tr'):
                    # Get cells
                    cells = row.find_all('td')
                    # Get move name
                    move = cells[1].find_all(text=True)[0]
                    # If move is new
                    if not move in moves:
                        # Get type
                        typ = cells[2].find_all(text=True)[0]
                        # Get category
                        cat = cells[3].find_all(text=True)[0]
                        # Get power if not Status or Support
                        power = '--'
                        if cat != 'Status or Support':
                            try:
                                # not STAB
                                power = int(cells[4].find_all(text=True)[1].strip(' \t\r\n'))
                            except ValueError:
                                try:
                                    # STAB
                                    power = int(cells[4].find_all(text=True)[-2])
                                except ValueError:
                                    # Moves like Return, Frustration, etc.
                                    power = cells[4].find_all(text=True)[-2]
                        # Get accuracy
                        acc = cells[5].find_all(text=True)[0]
                        # Get pp
                        pp = cells[6].find_all(text=True)[0]
                        # Add move to dict
                        moves[move] = {'type': typ,
                                       'cat': cat,
                                       'power': power,
                                       'acc': acc,
                                       'pp': pp}
                    # Add move to pokemon's move set
                    moves0.add(move)

    pprint(moves)
    dump(moves, open('pkmn_moves.dump', 'wb')) 
```

为了产生错误，我尽可能地减少了代码。故障可能很简单，但我不能随便找。同时，我通过将递归限制设置为 10000 进行了解决。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-06-05T14:46:56.293

只想为可能遇到此问题的其他人提供答案。具体来说，我在 Django 会话中从远程 API 缓存 BeautifulSoup 对象。

简短的回答是不支持酸洗 BeautifulSoup 节点。相反，我选择将原始字符串数据存储在我的对象中，并拥有一个动态解析它的访问器方法，以便只腌制原始字符串数据。

# perl - 多个脚本并行访问公共数据文件 - 可能吗？

> ID：14556354
> 
> 赞同：4
> 
> 时间：2013-01-28T06:09:18.680
> 
> 标签：perl, unix

我在基于 unix 的服务器上有一些 Perl 脚本，它们访问包含服务器 IP 和登录凭据的通用文本文件，这些文件用于登录并在这些服务器上执行例行操作。目前，这些脚本在不同时间手动运行。

我想知道，如果我 cron 这些脚本同时执行，是否会导致从文本文件访问数据时出现任何问题（文件锁定？），因为所有脚本本质上都会同时访问数据文件?

另外，有没有更好的方法（不使用数据库——因为我不能，由于一些服务器限制）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:13:15.490

这取决于*哪种*访问方式。

从多个进程读取数据文件没有问题。如果您想在可以读取的同时*更新*数据文件，最好以原子方式进行（例如，以不同的名称编写新版本，而不是重命名它）。

# node.js - 如何在locomotivejs的模板下使用文字表达式？

> ID：14556357
> 
> 赞同：0
> 
> 时间：2013-01-28T06:09:44.320
> 
> 标签：node.js, express, locomotivejs

我有以下模板：

```
<!DOCTYPE HTML>
<html>
<head>
<link href="css/style.css" rel="stylesheet"/>
<script type="text/javascript" src="/js/libs-0001.js" async="async"></script>
<script type="text/javascript" src="/js/app-0004.js" async="async"></script>
<script>
var name = {literal}<%= name %>{/literal};
var version = {literal}<%= version %>{/literal}};
</script>
</head><body></body></html> 
```

就像在 smarty 中一样，我想在脚本会话下的模板中使用 {literal} 声明。

如何在 locomotivejs 视图中执行此操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-19T08:19:15.637

据我了解`{literal}`/ `{/literal}`，这些标签之间的所有内容都不会被解释。EJS 模板没有类似的东西，尽管有一些方法可以绕过它。

一种方法是将 EJS 配置为使用不同的打开/关闭标签，[在此处](https://stackoverflow.com/a/9432358/893780)描述。

另一种方法是完全使用不同的模板引擎，这并不太难，因为 LocomotiveJS 没有硬编码为使用 EJS 模板。我自己喜欢[Swig](http://paularmstrong.github.com/swig/)模板引擎，它的`{% raw %}`标签似乎与`{literal}`.

# actionscript-3 - 更改 AS3（Air 2.0 或更高版本）中 ESC 键的默认行为以保持显示状态为全屏

> ID：14556364
> 
> 赞同：1
> 
> 时间：2013-01-28T06:10:22.773
> 
> 标签：actionscript-3, fullscreen, stage

有没有办法改变 AS3 (Adobe air 2.0 或更高版本) 中 ESC 键的默认行为？

我已经开发了一个全屏模式的应用程序。我想使用“ESC”键关闭此应用程序中当前打开的窗口。这里的问题是，它也回退到正常显示状态，因为 ESC 键是关闭全屏模式的默认键。

帮助请，如果您知道解决方法。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T06:43:41.607

Flash播放器不允许阻止退出全屏，因为这可能会阻止浏览器，并且只有Air应用程序才有可能，这里是示例代码：

```
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
                       xmlns:s="library://ns.adobe.com/flex/spark" 
                       xmlns:mx="library://ns.adobe.com/flex/mx" creationComplete="init()">
    <fx:Script>
        <![CDATA[
            private function init():void
            {
                nativeWindow.stage.addEventListener(KeyboardEvent.KEY_DOWN, onKeyDown);
                nativeWindow.stage.displayState = StageDisplayState.FULL_SCREEN_INTERACTIVE;
            }

            private function onKeyDown(event:KeyboardEvent):void
            {
                if (event.keyCode == Keyboard.ESCAPE)
                {
                    event.preventDefault();
                }
            }
        ]]>
    </fx:Script>
</s:WindowedApplication> 
```

# c# - asp.net 从代码背后调用 javascript

> ID：14556369
> 
> 赞同：0
> 
> 时间：2013-01-28T06:10:38.530
> 
> 标签：c#, javascript, asp.net, html, notify

我在 html 输入上使用[NOTIFY](http://redeyeoperations.com/plugins/Notify/)来通知我的用户记录是否已保存。它工作得很好。但是当我尝试从我的代码隐藏文件中使用它时，它不是。我知道 javascript 是一种客户端技术，并尝试使用 RegisterStartupScript 但没有运气。

我正在尝试在这样的按钮单击上使用它

```
 protected void Button1_Click1(object sender, EventArgs e)
    {
        var script = " $.notify.success('I do not want to close by myself close me ', { close: true });";
        ClientScript.RegisterStartupScript(typeof(Page), "ButtonAlert", script, true);

    } 
```

但没有运气。

我确信一旦数据库更新，必须有一种方法可以在顶部显示通知栏。说我们可以使用函数来做到这一点吗？
我的脚本定义如下

```
 <!-- Notify Implementation -->
<script src="../Scripts/jquery-1.9.0.js" type="text/javascript"></script>
<link href="../Styles/notify.css" rel="stylesheet" type="text/css" />
<script src="../Scripts/notify.js" type="text/javascript" ></script>

<script type="text/javascript">

     function myNotify() {
         $.notify.success('I do not want to close by myself close me ', { close: true });
     }; 
```

有人可以帮忙吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:28:53.097

试试这样： -

```
 System.Text.StringBuilder sb = new System.Text.StringBuilder();
                sb.Append("<script language='javascript'>");
                sb.Append("function notify(){");
                sb.Append("$.notify.success('I do not want to close by myself close me ', { close: true });");
    sb.Append("}");
                sb.Append("/script>");

 ClientScript.RegisterStartupScript(typeof(Page), "ButtonAlert", sb, true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:26:15.060

尝试这个 ：

```
Page.ClientScript.RegisterStartupScript(this.GetType(),"ButtonAlert","myNotify()",true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T09:36:49.567

这解决了我在[HERE](http://www.emadmokhtar.com/2012/02/using-notification-in-asp-net-webforms/)中描述的问题。我使用了一个助手类，它解决了这个问题。

```
 using System.Web.UI;

public static class NotificationHelper
{
    /// <summary>
    /// Shows the successful notification.
    /// </summary>
    /// <param name="page">The page.</param>
    /// <param name="message">The message.</param>
    public static void ShowSuccessfulNotification(this Page page, string message)
    {
        page.ClientScript.RegisterStartupScript(page.GetType(), "notificationScript",
                                                "<script type='text/javascript'>  $(document).ready(function () {  $.notify.success('I do not want to close by myself close me ', { close: true });});</script>");
    }
} 
```

# asp.net - “/IIS”应用程序中的服务器错误

> ID：14556370
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:10:58.610
> 
> 标签：asp.net

**编译错误**

**说明**：编译服务此请求所需的资源期间发生错误。请查看以下特定错误详细信息并适当修改您的源代码。

**编译器错误消息**：CS0246：找不到类型或命名空间名称“PropertiesLayer”（您是否缺少 using 指令或程序集引用？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:16:19.450

看起来您的代码无法找到您在代码中引用的“PropertiesLayer”。

PropertiesLayer 在哪里定义？是单独组装吗？您是否添加了对此的引用？如果没有，请添加。那将解决您的问题。

还要确保您确实在该命名空间内使用了某些东西，如果您不使用，只需删除 import /using 语句。我已经看到了命名空间被引用而不被使用的代码。

# python - 在托管服务器上为 python 安装 lxml

> ID：14556374
> 
> 赞同：0
> 
> 时间：2013-01-28T06:11:14.507
> 
> 标签：python, django, lxml

我一直在使用 mikemaccana-python-docx 模块在 python 中读取和写入 doc 文件。现在我不得不将此功能移至托管服务器。任何人都可以建议一种在托管服务器上安装 lxml 的方法来做同样的事情吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:16:38.883

在[**Windows上**](http://www.lfd.uci.edu/~gohlke/pythonlibs/#lxml)

在 Ubuntu 上

```
sudo apt-get install python-lxml 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T11:28:49.137

```
sudo apt-get install python-lxml 
```

或者`sudo pip install lxml`

确保安装了 libxml-dev

# html - 如何使我的 HTML '字体' 边缘颜色与 CSS 上的背景匹配？

> ID：14556375
> 
> 赞同：0
> 
> 时间：2013-01-28T06:11:16.863
> 
> 标签：html, css

如何使我的 HTML“字体”边缘与 CSS 上的背景匹配？

我的意思是让“胖字体”（字体大小）的颜色逐像素变化以匹配背景。

例如白色字体 n 黑色背景。如何使字体边缘颜色平滑/逐渐改变匹配背景？

例如

```
<div style="font-size: 24px; weight: 600; font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;">

MY TITLE n LOGO

</div> 
```

显然这可以在 Photoshop 中作为图像进行，但这会打破我的带宽规则。我希望它纯粹是 HTML n CSS。有可能的？与“抗锯齿”有什么关系吗？实际上什么是抗锯齿？懒惰模式

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:19:55.720

您可能想要做的（有点不清楚的问题）是给**没有 offset**的文本**投下模糊的阴影**。您可以通过使用如下属性将 CSS 样式应用于文本来做到这一点：**`text-shadow`**

 **```
{text-shadow:0 0 2px #888;} 
```

或者在你的情况下：

```
<div style='font-size: 24px; 
            weight: 600; 
            font-family: "Trebuchet MS", Arial, Helvetica, sans-serif; 
            text-shadow:0 0 2px #888;'>
</div> 
```

**>[这是一个小提琴](http://jsfiddle.net/2Cmss/)。**

* * *

**[您可以在w3schools.com](http://www.w3schools.com/cssref/css3_pr_text-shadow.asp)**找到此`Text-Shadow`CSS 属性的参考。它需要四个参数：

*   ***`h-shadow`**： 必需的。水平阴影的位置。允许负值*
*   ***`v-shadow`**： 必需的。垂直阴影的位置。允许负值*
*   ***`blur`**： 选修的。模糊距离*
*   ***`color`**： 选修的。阴影的颜色。*

* * *

***请注意，低于 IE10 的 Internet Explorer 浏览器不支持此属性。***

不过，对于 IE 浏览器，您可以对文本应用模糊过滤器：

```
filter:progid:DXImageTransform.Microsoft.Blur(pixelradius=1); 
```

或发光滤镜：

```
filter:progid:DXImageTransform.Microsoft.Glow(Color=gray,Strength=1); 
```

或两者：

```
filter: progid:DXImageTransform.Microsoft.Blur(pixelradius=1)
        progid:DXImageTransform.Microsoft.Glow(Color=gray,Strength=1); 
```

可以在**[http://msdn.microsoft.com](http://msdn.microsoft.com/en-us/library/ms673539%28v=vs.85%29.aspx)找到 IE 静态过滤器参考。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:18:40.097

像这样编辑你

```
<div style='font-size: 24px; weight: 600; font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;'> 
```**

# sed - sed：批处理 - 将 3 列 x、y、z 值按最后 x、y 和 z 的顺序组合成 1 列

> ID：14556376
> 
> 赞同：1
> 
> 时间：2013-01-28T06:11:22.247
> 
> 标签：sed

同样，我有大约 150 个文件，其中包含以下数据，没有标题

> x1 y1 z1
> 
> x2 y2 z2
> 
> ...
> 
> 锌合金

分隔符恰好是制表键。我如何对这 150 个文件使用 sed 和批处理来实现以下输出：

> x1
> 
> x2
> 
> x3
> 
> ...
> 
> xn
> 
> y1
> 
> y2
> 
> y3
> 
> ...
> 
> 因
> 
> z1
> 
> z2
> 
> z3
> 
> ..
> 
> 锌

任何想法，将不胜感激。

注意：我之前发布了类似的问题，不重复。请看这个[链接](https://stackoverflow.com/questions/14516935/batch-combining-3-columns-of-x-y-z-values-into-1-column-without-using-matlab)。

问候，

伊克尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:35:19.823

我希望你不会对perl过敏...

此解决方案适用于具有任意列数的文件：

```
$ perl -ne 'BEGIN { @a = (); } $i = 0; foreach (split(/\s+/)) { $l = ($a[$i++] ||= []); push @$l, $_; }; END { print join("\n", @$_) . "\n" foreach (@a); }' << EOF
> x1 y1 z1
> x2 y2 z2
> x3 y3 z3
> x4 y4 z4
> EOF
x1
x2
x3
x4
y1
y2
y3
y4
z1
z2
z3
z4 
```

我会评论，因为这不是很明显：

*   `perl -n`逐行读取（准确地说，它读取和拆分`$/`），并`-e`执行一个小脚本；
*   该`BEGIN`块在读取第一个输入之前执行，该`END`块最后执行。

解剖学：

```
BEGIN { @a = (); }         # Creates an array named "a"
# Main scriptlet
$i = 0;
foreach (split(/\s+/)) {   # Split an input line against one or more space chars
    $l =                   # Set $l to...
        ($a[$i++] ||= []); # what is at index i of @a (increment i), but if not set,
                           # set to an (empty) array ref and return that
    push @$l, $_;          # Push token to the end of the array ref
}
END {                      # End block...
    print join("\n", @$_)  # Print the contents of array references, joined with \n,
    . "\n"                 # then \n,
    foreach (@a);          # for each element of array a
}                          # DONE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:36:53.933

我认为这不是`sed`这项工作的最佳工具。想到的最简单的解决方案只涉及使用`cut`三次：

```
cut -f1 file && cut -f2 file && cut -f3 file 
```

内容`file`：

```
x1  y1  z1
x2  y2  z2
x3  y3  z3
xn  yn  zn 
```

结果：

```
x1
x2
x3
xn
y1
y2
y3
yn
z1
z2
z3
zn 
```

对于批处理文件，假设您当前的工作目录中只有感兴趣的文件：

```
for i in *; do 
    cut -f1 "$i" >> "$i.bak"
    cut -f2 "$i" >> "$i.bak"
    cut -f3 "$i" >> "$i.bak"

    mv "$i.bak" "$i"
done 
```

# ruby-on-rails - 带有rails的ajax调用不更新内容

> ID：14556379
> 
> 赞同：0
> 
> 时间：2013-01-28T06:11:52.163
> 
> 标签：ruby-on-rails, ajax

我试图在单击链接时更改 div 的内容。我可以从控制台看到部分和 js 正在呈现，但是，我的 html 没有更新

在 index.html 中：

```
<div id="test">this is supposed to change</div>
 ...

<%= link_to 'planner', test_path(:budget => "b2", :size => "g2", :age => "a1", :activity => "l2", :tourist => "t2", :city => "boston"), :method => :get, :remote => true, :id => "linkto" %> 
```

在我的 planner_controller 中：

```
 respond_to do |format|
    format.html
    format.js {render :layout => false} 
```

在 update.js.erb 中：

```
$("#test").update(" <%= escape_javascript(render('load')) %>") 
```

_load.html 文件：

```
<p> test </p> 
```

错误可能是我只是在测试代码，而实际上并没有对查询结果做任何事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:01:51.220

```
$("#test").update(" <%= escape_javascript(render :parial => "load") %>") 
```

尝试这个

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:16:20.233

您正在更新 id 的元素，`test`但页面上的任何位置都没有该元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T10:29:04.410

您可以使用 replaceWith() 代替 update()

```
$("#test").replaceWith(" <%= escape_javascript(render('load')) %>") 
```

# android - UIPageControl 类似 Android Phonegap？

> ID：14556385
> 
> 赞同：0
> 
> 时间：2013-01-28T06:12:02.447
> 
> 标签：android, cordova, uipagecontrol

有什么可以用来模仿 Android Phonegap 中的 UIPageControl 的吗？我试图研究它，但找不到任何线索。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:54:09.983

据我在 HTNL 和 Jquery 中所知，我认为您无法控制这样做。您必须自己实现它。您必须在 HTML 中使用两个按钮获取图像标记/处理 jquery Mobile 中的滑动事件（[http://jquerymobile.com/test/docs/api/events.html](http://jquerymobile.com/test/docs/api/events.html)），然后上传新图像并调用重绘这页纸。

# javascript - 从 JSP 和 JS 文件中检索静态内容的工具 - ANTLR？

> ID：14556387
> 
> 赞同：2
> 
> 时间：2013-01-28T06:12:09.897
> 
> 标签：javascript, jsp, localization, antlr

我试图找出是否存在任何工具可以从 JSP 和 JS 文件中获取所有静态内容（用于本地化）。我们希望自动化从 JSP 中查找静态内容并使用它们创建资源包的过程。

经过一些分析，似乎可以使用 ANTLR 和 ANTLR 的 XML 语法来实现某种形式 - [http://www.antlr.org/wiki/display/ANTLR3/1.+Lexer](http://www.antlr.org/wiki/display/ANTLR3/1.+Lexer) 那是使用 ANTLR 和 XML 语法来解析JSP 并使用 StringTemplate 输出到属性包。

如果有人成功地尝试过同样的尝试，请告诉我。非常感谢任何帮助或指针。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T13:26:24.790

您最终总是会发现，一个半生不熟的解决方案就是半生不熟。尝试解析 JSP 或 JS（对于后者，您真的是指带有嵌入式 JS 的 HTML？）您需要能够处理 JSP 和 HTML 的解析器。看起来像 HTML 的 XML 不会削减它；你最终会遇到解析错误。

因此，您可以尝试弯曲 ANTLR 的 XML 解析器，只要付出足够的努力，您可能会成功。但是后来这个项目变成了一个弯曲的解析器，而不是做本地化。

我们的 DMS Software Reengineering Toolkit 具有完整的 JSP 解析器和嵌入在 HTML 中的 JavaScript 以及 HTML。这些解析器自动构建完整的 AST 并使其内容可用于自定义输出目的。

# javascript - 什么时候应该调用 Google Maps MarkerClusterer？

> ID：14556397
> 
> 赞同：0
> 
> 时间：2013-01-28T06:13:07.363
> 
> 标签：javascript, google-maps-api-3, markerclusterer

在将一堆点输入谷歌地图后，我意识到我手上的标记太多了，所以我尝试使用[MarkerClusterer](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/docs/examples.html)，但到目前为止没有成功。据我的理解，它应该在地图被实例化和填充之后被调用——所以我尝试`markerCluster = new MarkerClusterer(map);`在之前添加一个`return;`好吧，它不起作用，我不知道我该如何前进。

此外，在我的示例中，`init()`没有在任何地方调用，但地图有效。实例化是否发生在第 4 行？最重要的是，我哪里出错了？

```
function init() {
    var latlng = new google.maps.LatLng(map_center[0], map_center[1]);
    var myOptions = { zoom: 7, center: latlng, mapTypeId: google.maps.MapTypeId.ROADMAP, maxZoom: 18};
    map = new google.maps.Map(document.getElementById("map_div"), myOptions);

    for (var i = 0; i<addresses.length; i++) 
        {
            var pos = new google.maps.LatLng(
                    parseFloat(addresses[i]['lt']), 
                    parseFloat(addresses[i]['ln']) 
                );
            addMarker(pos, addresses[i]);   

        }

    return;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:30:19.630

您需要将一组标记传递给`MarkerClusterer`构造函数。这是您修改后的 init 函数，具有非常基本的 MarkerClusterer 用法：

```
function init() {
  var latlng = new google.maps.LatLng(map_center[0], map_center[1]);
  var myOptions = { zoom: 7, center: latlng, mapTypeId: google.maps.MapTypeId.ROADMAP, maxZoom: 18};
  map = new google.maps.Map(document.getElementById("map_div"), myOptions);
  var markers = [];

  for (var i = 0; i<addresses.length; i++){
    var pos = new google.maps.LatLng(
      parseFloat(addresses[i]['lt']), 
      parseFloat(addresses[i]['ln']) 
    );
    markers.push(new google.maps.Marker({'position': pos}));

  }

  var markerCluster = new MarkerClusterer(map, markers);
} 
```

# objective-c - sizeof() 不适用于传递对 GLfloat[] 数组的引用

> ID：14556406
> 
> 赞同：0
> 
> 时间：2013-01-28T06:14:07.330
> 
> 标签：objective-c, c

> **可能重复：**
> [如何找到 sizeof（指向数组的指针）](https://stackoverflow.com/questions/492384/how-to-find-the-sizeofa-pointer-pointing-to-an-array)

对于任何了解 Objective-C 的人，我会尽量保持这个通用性，问题的根源在哪里（或者它可能只是在 C 中？），我会在提供上下文的同时尽可能避免使用 OpenGL。

我将 3D 对象的顶点数据存储在这样的`GLfloat`数组中

```
GLfloat teapot[] = { 1.0, 0.0, .... 0.0 }; 
```

（为简洁起见，省略了实际值）

然后我像这样打电话

```
[self drawObject:teapot]; 
```

对于这样定义的方法

```
-(void) drawObject:(GLfloat *)object {

    NSLog(@"%ld %ld", sizeof(object), sizeof(teapot));
} 
```

当然，目标是绘制东西，但它不能正常工作，因为`sizeof(object)`它没有返回正确的值。（我同样省略了所有绘图代码，因为它在这里无关紧要，除了它需要使用`sizeof()`for `glDrawArrays()`。

的输出`NSLog()`看起来像这样：

```
sizeof object = 4, sizeof teapot = 6336 
```

显示传递`object`的大小与直接调用的大小不同`teapot`。这很奇怪，因为引用工作正常，即`glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, object)`工作正常，所以它肯定是在读取对象。目前，我还必须将对象的大小作为整数传递才能`glDrawArrays`开始工作，这有点俗气。传递的代码如下所示

```
[self drawObject:teapot ofSize:(int)sizeof(teapot)]; 
```

而我真的想避免传递附加参数。

有任何想法吗？谢谢你的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:16:13.247

指针和数组不是一回事。不幸的是，您必须自己传递大小，或者作为额外参数，或者作为结构或对象的一部分。

有用的阅读：[http ://c-faq.com/aryptr/aryparmsize.html](http://c-faq.com/aryptr/aryparmsize.html)

# encryption - 使用 AES-256-CBC 的 OpenSSL CLI 文件加密

> ID：14556408
> 
> 赞同：1
> 
> 时间：2013-01-28T06:14:14.600
> 
> 标签：encryption, openssl, aes

目前我正在使用以下 OpenSSL 命令加密敏感文件：

```
openssl aes-256-cbc -a -salt -in large_file.zip -out large_file.zip.enc 
```

并解密：

```
openssl aes-256-cbc -d -a -in large_file.zip.enc -out large_file.zip 
```

到目前为止，这工作正常，但由于我在加密和密码学方面没有太多经验，我正在寻找一些洞察力，以了解这是否是最好的做事方式。

我是否正确加密/解密文件？我是否以这种方式充分利用了 AES-256？我在这里做错了什么可能会影响加密文件的安全性吗？

非常感谢评论/回复。

丹尼尔。

PS：我不太确定这是否属于超级用户或stackoverflow，请告知。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T11:04:18.647

它*可以*是安全的，只要密码足够安全，并且您只希望保密。但是，如果没有用例、威胁模型和特定的系统设置，就不可能说任何东西是否安全。

基于 OpenSSL 密码的密钥派生方法是安全的，CBC 模式下的 AES-256 也是如此。也就是说，现代加密通常使用某种完整性/身份验证，例如在 GCM 等安全加密模式中或通过添加 MAC（使用单独的密钥）。

[对于http://security.stackexchange.com](http://security.stackexchange.com)来说，这更重要，尽管如果您没有展示足够的研究等，您可能会被关闭/投票否决。

# javascript - 使用文本框获取所有属性值

> ID：14556416
> 
> 赞同：1
> 
> 时间：2013-01-28T06:14:25.393
> 
> 标签：javascript, jquery, ajax

我的 xml 看起来像这样：

```
<oneday>
      <team1 id="1" team="India">
           <team2 id="2" team="gujarat">
                  <team3 id="3" team="guj11"></team3>
           </team2>
      </team1>
</oneday> 
```

这是我的代码我做了什么？：

```
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
var xml;
$.get(
    "cricket.xml",  
    function(data) { xml=data; },
    "html"
);
function get_list(){

    xmlDoc = $.parseXML( xml ),
    $xml = $( xmlDoc ),
    $title = $xml.find($("#select").val());
    $("#result").html($title.text());
}
</script>
</head>
<input type="text" id="select">
<input type="button" name="button" value="Search" onclick="get_list()" >
<div id="result">
</div>
</html> 
```

我想输出：
如果我在文本框中输入印度然后显示古吉拉特和 guj11
输入古吉拉特然后输出是 Guj11

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:28:23.817

```
$title = $xml.find($("#select").val()); 
```

您正在 $xml 对象中找到“#select”的值。这是错误的

你可以像这样解析你的xml..

```
$team1 = $(xmlDoc).find("team1");
alert($team1.attr("id"));
alert($team1.attr("team")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:43:50.717

您可以找到如下输入项：

```
$title = $xml.find('[team="'+$('#select').val()+'"]'); 
```

然后找到他的孩子使用：

```
$nodes = $title.find('*'); 
```

这是我的新`get_list`功能：

```
function get_list(){
  xmlDoc = $.parseXML( xml ),
  $xml = $( xmlDoc ),
  $title = $xml.find('[team="'+$('#select').val()+'"]');
  $nodes = $title.find('*');
  var result='';
  $nodes.each(function(){
    result += $(this).attr('team');
    result += ' ';
  });
  $("#result").html(result);
} 
```

jsfiddle 在这里[http://jsfiddle.net/g9mYk/](http://jsfiddle.net/g9mYk/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:59:26.020

试试这个

```
function get_list(){
    xmlDoc = $.parseXML( xml ),
    $xml = $( xmlDoc ),
    $title = $xml.find('[team="'+$('#select').val()+'"] *');
    var str='';
    $title.each(function(){
        str+=$(this).attr('team')+' ';
    });
    $("#result").html(str);
} 
```

您也可以更改您的 xml 以方便您使用，例如

```
<oneday>
      <team id="1" team="India">Test
           <team id="2" team="gujarat">
                  <team id="3" team="guj11">Hello</team>
           </team>
      </team>
</oneday> 
```

因为每个标签 team1、team2、team3 都定义了 id。

# sharepoint - 使用 REST 保存人员或组字段

> ID：14556418
> 
> 赞同：4
> 
> 时间：2013-01-28T06:14:40.030
> 
> 标签：sharepoint, sharepoint-2013

有谁知道如何使用 REST 保存 Person 字段？

我尝试了以下方法并且有效：

```
{ 
   "__metadata": { "type": "SP.Data.SomeListListItem" } , 
   "MyPersonFieldId" : 1
} 
```

但这只有在您知道 ID 时才有效。我没有那个！我怎么才能得到它？我有钥匙是`i.0#w|domain\userName`。

我尝试了以下方法，但它也不起作用：

```
{ 
   "__metadata": { "type": "SP.Data.SomeListListItem" } , 
   "MyPersonField" : { "__metadata": { "type": "SP.Data.UserInfoItem" }, "Name": "i.0#w|domain\userName" }
} 
```

有任何想法吗？？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-09-25T19:59:43.040

我没有对 Person 字段执行此操作，但我确实对托管元数据字段执行了类似的操作。我基本上必须将附加信息作为对象传递，才能在字段中创建值。

查看是否将用户的 ID 与名称一起传递。我将自己尝试这个，因为我有同样的需要。

```
{
     "MyPersonField": { "Name": "i.0#w|domain\userName", "ID": 1 }
} 
```

编辑：好的，更新这个字段比我想象的要容易。我可以通过简单地将用户的 ID 传递给 Id 字段来执行更新：

```
{
     "MyPersonFieldId": 1
} 
```

这意味着用户应该已经在网站集中，因此如果用户不存在，请求将失败。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T21:37:36.077

问题是用户信息是一个查找字段，因此`MyPersonField`如果您使用 OData 端点，您的 SharePoint 列表中不存在，我真的不知道如何保存数据，但是当我尝试读取用户时，同样的问题发生在我身上。

例如 `{server}/{api}/list/getbytitle('mylist')/items`不返回`MyPersonField`而不是返回`MyPersonFieldId`。

但是如果我们使用：

```
{server}/{api}/list/getbytitle('mylist')/items/?$select=*,MyPersonField/Name&$expand=MyPersonField 
```

我们能够使用`MyPersonField`查找值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-18T09:37:46.803

使用以下代码获取当前用户 ID 以将用户保存在人员和组列下。人员列名称为`Requestor`。但是要保存用户，我们必须将列名指定为`RequestorId`

```
var userid = _spPageContextInfo.userId; // To get current user ID
var itemProperties={'Title':vTitle,'RequestorId':userid}; 
```

# java - 在另一个 Activity 中显示 editText 和一个按钮

> ID：14556424
> 
> 赞同：-2
> 
> 时间：2013-01-28T06:15:27.313
> 
> 标签：java, android, android-layout, android-intent, android-emulator

我正在使用`Linear Layout(Horizontal)`我的`Android`应用程序。我在屏幕上使用了两个按钮，我称之为`Chat`和`Draw`。我想在单击`Chat`按钮时显示第二个活动，其中我有一个区域`editText`和一个相应的按钮，称为`Enter`输入文本。

在`DisplayMessageActivity`我用于按钮的类中，我也为`Chat`按钮创建了布局。但是，在单击时，我无法看到和按钮的区域。`editText``Enter``Chat``editText``Enter`

中的代码`MainActivity.java`：

```
public class MainActivity extends Activity {

public final static String EXTRA_MESSAGE = "com.example.appfirst.MESSAGE";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

public void chatMessage(View view) {
    Intent intent_chat = new Intent(this, DisplayMessageActivity.class);
    startActivity(intent_chat);
}

public void drawing(View view) {
    Intent intent_draw = new Intent(this, DisplayMessageActivity.class);
    startActivity(intent_draw);
}

} 
```

代码`DisplayMessageActivity.java`：

```
public class DisplayMessageActivity extends Activity {

@SuppressLint("NewApi")

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);        

}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case android.R.id.home:
        NavUtils.navigateUpFromSameTask(this);
        return true;
    }
    return super.onOptionsItemSelected(item);
}

} 
```

`OnCreate`我应该在类的函数中编写什么代码`DisplayMessageActivity`才能获得所需的视图？

有人可以帮我写代码。我对 Android 开发框架完全陌生。谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:21:11.803

从您的帖子中，我了解到您有 2 个布局 1 带有 2 个按钮`"Chat"`和`"Draw"`。当单击聊天时，您必须调用另一个带有`Edittext`和`Enter`按钮的活动。如果是这种情况，您只需调用`Intent`.

```
Intent intent=new Intent(this,yourclass.class);
startactivity(intent); 
```

在您的 Oncreate 中`DisplayMessage`执行以下操作：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState); 
     setContentView(R.layout.YourXml.Xml);       

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:24:46.630

```
public class DisplayMessageActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);    

    setContentView(R.layout.activityxml);    

}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case android.R.id.home:
        NavUtils.navigateUpFromSameTask(this);
        return true;
    }
    return super.onOptionsItemSelected(item);
}

} 
```

有关更多信息，请查看以下示例[链接](http://seasonofrejoice.blogspot.in/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:41:01.377

在您的第二个活动中，您需要将以下行`setContentView(R.layout.whatEverYourLayoutIsCalled);`放在后面`super.onCreate(...);`

# node.js - 如何使用 node.js 响应传入的 Twilio 呼叫和 SMS 消息？

> ID：14556426
> 
> 赞同：9
> 
> 时间：2013-01-28T06:15:35.900
> 
> 标签：node.js, twilio

在我的应用程序中，我使用 twilio node.js 模块来接收短信、发送短信、接听电话和拨打电话。我想出了如何发送短信和拨打电话。但我不知道如何回应来电和短信。我如何使用节点来响应这些？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-28T16:04:46.953

当 Twilio 收到对您电话号码的呼叫时，它将向您在管理控制台中配置的 URL 发送 HTTP 请求：

![twilio 帐户仪表板](../Images/668e71633d60e3c59120b3c4397d26ee.png)

Twilio 期望从这个 HTTP 请求返回的是一[组称为 TwiML 的 XML 指令](http://www.twilio.com/docs/api/twiml)，它将告诉 Twilio 要做什么来响应调用。例如，假设您想通过说“谢谢”来回复电话，然后播放音乐文件。如果您想在节点中执行此操作，您可以考虑使用[此节点库](http://twilio.github.io/twilio-node/)和 express 框架来发送 TwiML 响应：

```
var twilio = require('twilio'),
    express = require('express');

// Create express app with middleware to parse POST body
var app = express();
app.use(express.urlencoded());

// Create a route to respond to a call
app.post('/respondToVoiceCall', function(req, res) {
    //Validate that this request really came from Twilio...
    if (twilio.validateExpressRequest(req, 'YOUR_AUTH_TOKEN')) {
        var twiml = new twilio.TwimlResponse();

        twiml.say('Hi!  Thanks for checking out my app!')
            .play('http://myserver.com/mysong.mp3');

        res.type('text/xml');
        res.send(twiml.toString());
    }
    else {
        res.send('you are not twilio.  Buzz off.');
    }
});

app.listen(process.env.PORT || 3000); 
```

祝你好运 - 希望这就是你想要的。

# python-2.7 - 使用底图在地图上绘制轨迹

> ID：14556430
> 
> 赞同：4
> 
> 时间：2013-01-28T06:15:55.847
> 
> 标签：python-2.7, matplotlib, matplotlib-basemap

```
import numpy as np
data = np.loadtxt('path-tracks.csv',dtype=np.str,delimiter=',',skiprows=1)
print data

[['19.70' '-95.20' '2/5/04 6:45 AM' '1' '-38' 'CCM']
['19.70' '-94.70' '2/5/04 7:45 AM' '1' '-48' 'CCM']
['19.30' '-93.90' '2/5/04 8:45 AM' '1' '-60' 'CCM']
['19.00' '-93.50' '2/5/04 9:45 AM' '1' '-58' 'CCM']
['19.00' '-92.80' '2/5/04 10:45 AM' '1' '-50' 'CCM']
['19.20' '-92.60' '2/5/04 11:45 AM' '1' '-40' 'CCM']
['19.90' '-93.00' '2/5/04 12:45 PM' '1' '-43' 'CCM']
['20.00' '-92.80' '2/5/04 1:15 PM' '1' '-32' 'CCM']
['23.10' '-100.20' '30/5/04 4:45 AM' '2' '-45' 'SCME']
['23.20' '-100.00' '30/5/04 5:45 AM' '2' '-56' 'SCME']
['23.30' '-100.00' '30/5/04 6:45 AM' '2' '-48' 'SCME']
['23.30' '-100.20' '30/5/04 7:45 AM' '2' '-32' 'SCME']
['23.40' '-99.00' '31/5/04 3:15 AM' '3' '-36' 'SCM']
['23.50' '-98.90' '31/5/04 4:15 AM' '3' '-46' 'SCM']
['23.60' '-98.70' '31/5/04 5:15 AM' '3' '-68' 'SCM']
['23.70' '-98.80' '31/5/04 6:15 AM' '3' '-30' 'SCM']] 
```

使用上面的代码，我得到一个数组，其列代表：[Lat, Lon, Date, Identifier, Temperatures, Category]。现在，我将放置一个代码，让我可以在墨西哥地图上绘制第一列和第二列：

```
#!/usr/bin/python
#Project Storm: Plot trajectories of convective systems
#import libraries

import numpy as np
from mpl_toolkits.basemap import Basemap
import  matplotlib.pyplot as pl

# Plot a map for Mexico

m = Basemap(projection='cyl', llcrnrlat=12, urcrnrlat=35,llcrnrlon=-120, urcrnrlon=-80, resolution='c', area_thresh=1000.)
m.bluemarble()
m.drawcoastlines(linewidth=0.5)
m.drawcountries(linewidth=0.5)
m.drawstates(linewidth=0.5)

#Draw parallels and meridians

m.drawparallels(np.arange(10.,35.,5.))
m.drawmeridians(np.arange(-120.,-80.,10.))
m.drawmapboundary(fill_color='aqua')

#Open file whit numpy

data = np.loadtxt('path-tracks.csv', dtype=np.str,delimiter=',', skiprows=1)
latitude = data[:,0]
longitude = data[:,1]

#Convert latitude and longitude to coordinates X and Y

x, y = m(longitude, latitude)

#Plot the points on the map

pl.plot(x,y,'ro-')
pl.show() 
```

地图上绘制的点，对应于三个不同的路径。我最后的想法是画一条线连接与每条路径相关的点，我该怎么做？

是否可以为每条路径绘制标识符或标记？

如何设置图形的大小以便区分点之间的分隔？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T09:11:16.310

`figure`只需在调用之前创建一个即可设置图形的大小`Basemap`。我使用 Pandas 读取 CSV，因为它允许轻松分组（每个路径）。如果您不想使用 Pandas，您可能可以通过迭代`np.unique('cat')`或其他方式获得相同的结果。如果您将`datetime`用作 pandas 中的索引，则在您的 CSV 未排序的情况下，您的点数会自动按时间排序。

我不确定你画一个标识符是什么意思。图例使区分路径成为可能，但您也可以`'Cat'`在地图上绘制一条线的开头或结尾处。

对于如此小的路径，您的地图属性使其有点“缩小”。使用`ax = pl.gca()`和`ax.set_xlim()`允许您在地图坐标中设置边界框。您可以从路径中的最大和最小坐标 + 一些缓冲区中得出。

```
import numpy as np
from mpl_toolkits.basemap import Basemap
import  matplotlib.pyplot as pl
import pandas as pd

fig = plt.figure(figsize=(12,12))

# Plot a map for Mexico
m = Basemap(projection='cyl', llcrnrlat=12, urcrnrlat=35,llcrnrlon=-120, urcrnrlon=-80, resolution='c', area_thresh=1000.)
m.bluemarble()
m.drawcoastlines(linewidth=0.5)
m.drawcountries(linewidth=0.5)
m.drawstates(linewidth=0.5)

#Draw parallels and meridians
m.drawparallels(np.arange(10.,35.,5.))
m.drawmeridians(np.arange(-120.,-80.,10.))
m.drawmapboundary(fill_color='aqua')

colors = {'CCM': 'red', 'SCME': 'white', 'SCM': 'yellow'}

for cat, track in df.groupby('Cat'):

    latitude = track.Lat.values
    longitude = track.Lon.values

    #Convert latitude and longitude to coordinates X and Y
    x, y = m(longitude, latitude)

    #Plot the points on the map
    pl.plot(x,y,'-', label=cat, color=colors[cat])

lg = pl.legend()
lg.get_frame().set_facecolor('grey') 
```

![在此处输入图像描述](../Images/8cc726fc5150f23b4e97a7acdb1592b9.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-12T20:11:35.210

感谢您的想法，我留下了正确的代码来绘制任何物体的轨迹，就我而言，我已经绘制了对流风暴的轨迹。

```
import numpy as np
from mpl_toolkits.basemap import Basemap
import matplotlib.pyplot as plt
fig = plt.figure(figsize=(12,12))

ax = fig.add_axes([0.1,0.1,0.8,0.8])

m = Basemap(projection='cyl', llcrnrlat=12, urcrnrlat=35,llcrnrlon=-120, urcrnrlon=-80, resolution='c', area_thresh=1000.)

m.bluemarble()
m.drawcoastlines(linewidth=0.5)
m.drawcountries(linewidth=0.5)
m.drawstates(linewidth=0.5) 
```

# --- Dibujamos paralelos y meridianos ---

```
m.drawparallels(np.arange(10.,35.,5.),labels=[1,0,0,1])
m.drawmeridians(np.arange(-120.,-80.,5.),labels=[1,0,0,1])
m.drawmapboundary(fill_color='aqua') 
```

# --- Abrimos el archivo que contiene los datos ---

```
import pandas as pd

df = pd.read_csv('scm-2004.csv')
for evento, group in df.groupby(['evento']):
    latitude = group.lat.values
    longitude = group.lon.values
    x,y = m(longitude, latitude)
    plt.plot(x,y,'y-',linewidth=2 )
    plt.xlabel('Longitud')
    plt.ylabel('Latitud')
    plt.title('Trayectorias de Sistemas Convectivos 2004')

plt.savefig('track-2004.jpg', dpi=100) 
```

使用上面的代码，我得到了想要的数字：墨西哥地图上绘制的 60 条路径。我只有最后一个问题：如何指示每场风暴的开始，有人知道我该怎么做？

当我告诉他在X轴上写“经度”（xlabel = 'Latitude'）覆盖了长度值上的单词时，我如何在纬度值下面写单词？

# jquery - 我如何接收帖子 Values MVC3 (Jquery Ajax)

> ID：14556441
> 
> 赞同：2
> 
> 时间：2013-01-28T06:16:25.987
> 
> 标签：jquery, vb.net, asp.net-mvc-3

我是 MVC 和这种编程的新手，我想这很简单，但经过 5 个小时的搜索和尝试，我感到很受挫。我的视图中有一个看起来像这样的帖子；

```
 $.ajax({
        url: '@Url.Action("Moo")',
        type: "post",
        dataType: "string",
        contentType: "json",
        data: JSON.stringify({"foo": "bar"}),
        success: function (data) {}
        });
    }); 
```

然后我在控制器中有一个看起来像这样的函数；

```
Function Moo(test As String) As ActionResult
    Return View()
End Function 
```

当我运行它时，调试器显示我到达了返回语句，但我没有得到任何要分配任何值的测试（foo：bar）。

我的另一个考虑是，当我设法从 ajax 函数接收数据时，我可以将其转换回 JSON 还是我必须在模型中创建自己的类并将变量分配给该类？

任何输入都会被应用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:20:06.360

参数/属性名称应匹配。

因此，如果您希望`test`在操作中使用名称的值，则需要使用 key 发送值`test`。所以`foo`改为`test`：

```
$.ajax({
        url: '@Url.Action("Moo")',
        type: "post",
        dataType: "string",
        contentType: "application/json",
        data: JSON.stringify({"test": "bar"}),
        success: function (data) {}
        });
    }); 
```

注意 JSON 的正确 contentType 是`application/json`

如果您有更复杂的数据，例如`JSON.stringify({"test": "bar", "test1":"bar1"}),` 您可以在服务器端创建一个对象（对不起 C#）

```
public class MyClass
{
    public string test { get; set; }

    public string test1 { get; set; }
} 
```

那么你可以在你的行动中使用这个模型：

```
Function Moo(test As MyClass) As ActionResult
    Return View()
End Function 
```

MVC 模型绑定器将负责解析数据并填充属性。您可以从这里开始学习模型绑定：[ASP.NET MVC 模型绑定的特性和缺点](http://msdn.microsoft.com/en-us/magazine/hh781022.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:20:13.287

这在另一种方法中你可能想尝试[虽然它可能不是最好的]

```
$.ajax({
        url: '@Url.Action("Moo")?test="testdata"',
        type: "post",
        dataType: "string",
        contentType: "json",
        data: JSON.stringify({"test": "bar"}),
        success: function (data) {}
        });
    }); 
```

**您传递的参数名称应与服务器上操作方法的参数名称匹配。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:25:55.413

我认为你必须改变这一点：

```
$.ajax({
    url: '@Url.Action("Moo")',
    type: "post",
    dataType: "text", //<---------------------this
    contentType: "application/json", // <-----this 
    data: JSON.stringify({"foo": "bar"}),
    success: function (data) {}
    });
}); 
```

或者您也可以尝试更改此设置：

```
data: {foo : "bar"}, 
```

数据类型是：

*   `"xml"`：返回一个可以通过 jQuery 处理的 XML 文档。
*   `"html"`：以纯文本形式返回 HTML；包含的脚本标签在插入 DOM 时进行评估。
*   `"script"`：将响应评估为 JavaScript 并将其作为纯文本返回。
*   `"json"`：将响应评估为 JSON 并返回一个 JavaScript 对象。
*   `"jsonp"`：使用 JSONP 加载 JSON 块。添加一个额外的“？callback =？” 到 URL 的末尾以指定回调。
*   `"text"`：纯文本字符串。

# jenkins - 在浏览器上列出所有 Jenkins 作业及其健康评分的某种方式

> ID：14556443
> 
> 赞同：2
> 
> 时间：2013-01-28T06:16:32.387
> 
> 标签：jenkins

如何在 Web 浏览器上显示所有 Jenkins 作业名称及其健康评分？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:17:35.553

此链接将帮助您更好地了解`Jenkins REST API`.

[https://wiki.jenkins-ci.org/display/JENKINS/Remote+access+API](https://wiki.jenkins-ci.org/display/JENKINS/Remote+access+API)

其他方法是`tree`在 url中使用

```
http://localhost:8080/api/xml?tree=jobs[name,healthReport[score]] 
```

这将在浏览器上打印作业名称及其健康评分。

# python - 是否存在服从本福德定律的随机数分布？

> ID：14556451
> 
> 赞同：10
> 
> 时间：2013-01-28T06:17:11.230
> 
> 标签：python, random, benfords-law

Python 有多种方法可以生成不同的随机数分布，请参阅该[模块的](http://docs.python.org/2/library/random.html)[文档`random`](http://docs.python.org/2/library/random.html)。不幸的是，如果没有适当的数学背景，特别是考虑到所需的参数，它们并不是很容易理解。

我想知道这些方法中是否有任何一种能够产生分布符合[本福德定律的](http://en.wikipedia.org/wiki/Benford%27s_law)随机数，以及哪些参数值是合适的。即对于整数群体，这些整数应该在大约 30% 的时间以“1”开头，大约 18% 的时间以“2”开头，等等。

* * *

使用[John Dvorak 的答案](https://stackoverflow.com/a/14556655)，我将以下代码放在一起，它似乎可以完美运行。

```
def benfords_range_gen(stop, n):
    """ A generator that returns n random integers
    between 1 and stop-1 and whose distribution
    meets Benford's Law i.e. is logarithmic.
    """
    multiplier = math.log(stop)
    for i in range(n):
        yield int(math.exp(multiplier * random.random()))

>>> from collections import Counter
>>> Counter(str(i)[0] for i in benfords_range_gen(10000, 1000000))
Counter({'1': 300696, '2': 176142, '3': 124577, '4': 96756, '5': 79260, '6': 67413, '7': 58052, '8': 51308, '9': 45796}) 
```

* * *

还出现了一个问题，即这在不同版本的 Python 之间是否一致。由于随机数的性质，这不是一个微不足道的问题 - 您希望每次运行都会有一些变化，有时还会在`random`库的不同版本之间发生变化。避免这种情况的唯一方法是在每次运行之间一致地播种随机数生成器。我已将其添加到我的测试中，并且在 Python 2.7.1、3.8.6 和 3.9.1 中得到了完全相同的结果。

```
>>> random.seed(7919)
>>> Counter(str(i)[0] for i in benfords_range_gen(10000, 1000000))
Counter({'1': 301032, '2': 176404, '3': 125350, '4': 96503, '5': 78450, '6': 67198, '7': 58000, '8': 51342, '9': 45721}) 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-28T06:34:50.253

本福德定律描述了一组数字的第一个数字的分布，如果这些数字是从对数刻度上的一个很宽的范围内选择的。如果你准备一个十年内的对数均匀分布，它也将遵守法律。`10^[0,1)`将产生该分布。

这将产生所需的分布：`math.floor(10**random.random())`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:00:56.870

只是在玩。

对于像我这样不太喜欢数学的人来说，这是一种效率低得多但可能更*明显的实现......*

创建任何所需分布的一种简单方法是用所需的项目百分比填充列表，然后使用`random.choice(<list>)`，因为这会返回列表中项目的统一选择。

```
import random
probs = [30.1, 17.6, 12.5, 9.7, 7.9, 6.7, 5.8, 5.1, 4.6]
nums = [1, 2, 3, 4, 5, 6, 7, 8, 9]
population = sum([[n] * int(p * 10) for n, p in zip(nums, probs)], [])

max_value = 100
min_value = 1
result_pop = []
target_pop_size = 1000
while len(result_pop) < target_pop_size:
    s = str(random.choice(population))
    while True:
        r = random.randint(min_value, max_value)
        if str(r).startswith(s):
            break
    result_pop.append(r) 
```

# validation - 在 extjs4 中验证 Uploadfield

> ID：14556453
> 
> 赞同：2
> 
> 时间：2013-01-28T06:17:23.890
> 
> 标签：validation, extjs, file-upload, extjs4

我想在 ExtJs4 的文件字段中添加验证，以便用户只能浏览 .png 、 .jpeg 图像文件。我应该怎么做？

```
 {
     xtype: 'filefield',                                                                         
     id:'photoUpload',                                                                                                                                                 
     buttonOnly:true,
     buttonText: 'Photo'
 } 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T12:42:46.450

我认为了解文件上传的工作原理很重要，以免将来遇到麻烦...

出于安全原因，以下适用：

*   *除非*用户明确单击上传字段，否则浏览器无法访问文件系统。
*   浏览器对正在上传的文件的访问很少，特别是 - 您的 JS 代码可能能够看到文件名（浏览器必须在字段中显示它），但没有别的（大多数浏览器上的路径本身不正确一）。

上传过程本身发生在以下步骤中：

*   用户单击上传字段，启动文件选择对话框。
*   **浏览器**通过对话框实现对文件系统的访问，允许用户选择文件。
*   `OK`单击后，**浏览器**将文件发送到服务器。
*   **服务器**将文件放在其`temp`目录中（按服务器配置）。
*   上传完成后，将使用文件详细信息调用**服务器**上的上传脚本，该脚本将拥有对上传文件的完全访问权限。

最后一步是您可以完全访问文件详细信息的唯一点，包括真实的实际名称、大小和内容。

浏览器提供的任何 javascript 都**取决于浏览器**。即使文件名在浏览器之间也会有所不同，尽管我知道的所有浏览器都保留了实际的文件名（但不是真正的实际路径），但你不能依赖它来处理未来的版本。原因是文件名*显示*在客户端。

所以建议是这样的：

> 在服务器端执行所有文件上传检查。

同样，您可能会在 JS 客户端上使用文件名，特别是如果您知道并且可以测试您的客户端将使用哪些浏览器，但我强烈建议您在服务器上进行此测试。

`.png`您必须记住的最后一件事是，用户可能会上传一个`.zip`以`.png`可以做。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-28T07:14:45.083

```
 {
             xtype: 'filefield',
             id:'photoUpload',
             buttonOnly:true,
             vtype:'fileUpload',
             buttonText: 'Photo'
          } 
```

还有我用过的Vtype..

```
 Ext.apply(Ext.form.VTypes, {
             fileUpload: function(val, field) {                              
                                 var fileName = /^.*\.(gif|png|bmp|jpg|jpeg)$/i;
                                 return fileName.test(val);
                           },                 
             fileUploadText: 'Image must be in .gif,.png,.bmp,.jpg,.jpeg format'
  }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-07T10:43:31.943

在您的“文件字段”xtype 配置中尝试以下代码段

```
regex     : (/.(gif|jpg|jpeg|png)$/i),
regexText : 'Only image files allowed for upload',
msgTarget : 'under' 
```

# php - 重定向 URL 或隐藏 URL 信息

> ID：14556465
> 
> 赞同：1
> 
> 时间：2013-01-28T06:18:12.760
> 
> 标签：php, spring, servlets, struts2

它关于重定向网址。我将下面的网址“A”重定向到“B”。在浏览器中我得到“B”。我的问题是我不想在浏览器上显示“B”，而是应该显示“A”。我不想让客户知道“B”网址。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:28:28.920

重定向是从服务器到客户端的指令，告诉客户端请求一个新的 URL。如果您不希望客户端知道此 URL，那么重定向对您来说是错误的。如果您更全面地描述您想要实现的目标，那么有人可能会提出更好的替代方案。现在，我建议您查看[Filters](http://docs.oracle.com/javaee/6/tutorial/doc/bnagb.html)或["Invoking Other Web Resources"](http://docs.oracle.com/javaee/6/tutorial/doc/bnagi.html)，正如教程所说的那样。具体来说，它讨论的是通过请求调度程序[包含](http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#include%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29)和[转发。](http://docs.oracle.com/javaee/6/api/javax/servlet/RequestDispatcher.html#forward%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse%29)

# c++ - 将显示设置更改为重复的 WinAPI 函数

> ID：14556468
> 
> 赞同：2
> 
> 时间：2013-01-28T06:18:34.023
> 
> 标签：c++, winapi

当我有 2 台显示器连接到 PC 时，我试图将显示设置更改为“重复”？

即，我正在尝试选择以下设置（以红色标出）但使用 WinAPI 函数调用。

![在此处输入图像描述](../Images/3c3f76ea5f7a619a4357b2b6c5ee2aaf.png)

**我的问题：**我不知道我使用什么 WinAPI 函数调用将显示设置更改为“重复”？我用谷歌搜索并没有找到任何这样的功能。

我正在寻找 Windows 2000 或 XP 及更高版本支持的功能，而不仅仅是 Windows Vista 及更高版本的功能。有谁知道我用什么 WinAPI 函数调用来实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:45:13.033

相信你想用[`ChangeDisplaySettingsEx`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd183413.aspx)。`DEVMODE`您为两个监视器设置结构，将`dmPosition`成员设置为`(0, 0)`，并（仅）设置`DM_POSITION`标志，因此您所做的只是更改它们的相对位置，而不是分辨率或位深度之类的东西。

这应该可以追溯到 Windows 2000。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:25:53.340

我想你会得到你的答案下面的问题链接

[http://www.c-sharpcorner.com/uploadfile/GemingLeader/changeing-display-settings-programmatically/](http://www.c-sharpcorner.com/uploadfile/GemingLeader/changing-display-settings-programmatically/)

# android - 在手机上但不在平板电脑上运行时出现 ResourceNotFoundException

> ID：14556473
> 
> 赞同：2
> 
> 时间：2013-01-28T06:19:15.233
> 
> 标签：android, android-resources

当我尝试在我的三星 Note II 上运行我的应用程序时，我得到了这条线的 ResourceNotFoundException

`setContentView(R.layout.activity_main);`

但是，当我在模拟器或三星 Note 10.1 上运行它时，我没有遇到此异常。

两者都在运行 Jellybean，我的 xml 文件位于名为 的文件夹中`layout-land`，XML 文件就在其中。我尝试清理我的项目并重新构建，但它仍然不起作用。

有谁知道出了什么问题？

让我知道我是否可以提供更多信息。谢谢！

```
01-27 22:11:32.975: E/AndroidRuntime(28330): FATAL EXCEPTION: main
01-27 22:11:32.975: E/AndroidRuntime(28330): java.lang.RuntimeException: Unable to start activity        ComponentInfo{com.ventusthecorgi.hungrycorgi/com.mypackage.app.MainActivity}: android.content.res.Resources$NotFoundException: Resource ID #0x7f030003
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2100)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2125)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread.access$600(ActivityThread.java:140)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1227)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.os.Looper.loop(Looper.java:137)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread.main(ActivityThread.java:4898)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at java.lang.reflect.Method.invokeNative(Native Method)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at java.lang.reflect.Method.invoke(Method.java:511)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1008)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:775)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at dalvik.system.NativeStart.main(Native Method)
01-27 22:11:32.975: E/AndroidRuntime(28330): Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f030003
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.content.res.Resources.getValue(Resources.java:1026)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.content.res.Resources.loadXmlResourceParser(Resources.java:2131)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.content.res.Resources.getLayout(Resources.java:865)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.view.LayoutInflater.inflate(LayoutInflater.java:394)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:307)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.Activity.setContentView(Activity.java:1916)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at com.ventusthecorgi.hungrycorgi.MainActivity.onCreate(MainActivity.java:22)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.Activity.performCreate(Activity.java:5191)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)
01-27 22:11:32.975: E/AndroidRuntime(28330):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2064) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T06:26:19.507

我怀疑您的问题布局文件*仅*在`layout-land`目录中（基于您在问题中所写的内容）。这意味着如果设备以纵向模式启动，Android 将在`layout-port`目录中搜索您的布局，*然后* `layout`，而*不是* `layout-land`。我可能错了，但我的直觉是您的三星 Note II 以纵向模式启动，因此看不到布局文件。

您必须提供后备布局资源。要么将布局从`layout-land`to复制到`layout-port`并针对纵向模式进行相应的修改，要么将其复制到`layout`目录作为后备布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:25:36.603

AFAIK，三星 Galaxy Note II 的默认方向不是横向

尝试将一组资源文件放在 /res/layout 中，用于那些不符合特定布局特征的设备

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:25:50.373

xml 文件位于布局域中，因此它们仅在应用程序/设备处于横向模式时有效。尝试将它们移动/复制到只是布局，你应该没问题。您可能希望将通用布局放在布局目录中，并将横向优化布局放在 layout-land 中（或查看其他资源选择标准）。

# c# - 提供了要打开的文件路径，如何获取新窗口的句柄？

> ID：14556479
> 
> 赞同：0
> 
> 时间：2013-01-28T06:19:45.847
> 
> 标签：c#, winapi, windows-shell

我想实现一个shell上下文菜单**“向左/向右打开”**，用户可以打开一个文件，新窗口被重新定位以占据屏幕的左/右半部分。基本上我只是调用`Process.Start(fileName)`，并获取进程`MainWindowHandle`，然后将句柄传递`SetWindowPos`给设置窗口的位置。

但是某些应用程序（如 Word）作为单例实例运行，因此`Process.Start("new.docx")`只需将文件名传递给正在运行的实例，然后返回`null`，因此我无法获取窗口句柄来进行重新定位。

有解决方法吗？

`Any approach (preferred written in C#) is welcome.`

PS。我知道我可以只使用`EnumWindows`列出所有顶级窗口并让用户选择他喜欢重新定位的窗口。但那是另一种使用场景。我想在 shell 上下文菜单中实现该功能。

# db2 - db2 表空间中的表数

> ID：14556480
> 
> 赞同：0
> 
> 时间：2013-01-28T06:19:53.070
> 
> 标签：db2, mainframe

我尝试使用选择查询从 SYSIBM.SYSTABLES 获取特定表空间和数据库的表数。此数量大于存储在 NTABLES 列下的 SYSIBM.SYSTABLESPACE 表中的相同表空间和数据库的表数量。为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:27:10.850

这*可能*是`systables`存储每个表、视图或别名的条目的事实，实际上是可能不一定包含在表空间中的大量对象。

您可以通过仅列出那些 where `type = 'T'`（或允许值的其他组合）来确认这一点。

如果您选择`count(*)`from `systables`(对于给定的表空间) 并将其分组`type`，您可能会发现将其中一些类型分配给表空间相当容易。

# .htaccess - 从两个目录深处到根目录的临时重定向

> ID：14556485
> 
> 赞同：0
> 
> 时间：2013-01-28T06:20:07.470
> 
> 标签：.htaccess, mod-rewrite, url-redirection

我有这个目录结构：

```
|-language-A\
|-language-A\program-A
|-language-A\program-B
|-language-A\program-C
|
|-program-A\ 
```

目前`program-A`还没有翻译成，`language-A`但不知何故谷歌能够抓取这个目录，现在它显示在搜索结果中。我需要重定向`language-A\program-A`到`program-A`根目录...不是该`language-A`目录中的所有文件夹。这是一个临时重定向，因为一旦翻译准备好，我将删除该规则。

所以基本上它会是这样的：

`http://example.com/language-A/program-A/what-ever`

到：

`http://example.com/program-A/what-ever`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:53:56.717

这个问题真的没有说太多，所以我假设所有字符串都是固定的，并且没有要传递的参数：

你可以试试这个：

```
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI}   ^/language-A/program-A/?   [NC]
RewriteRule .*    program-A  [R,L] 
```

临时重定向

`http://example.com/language-A/program-A`

到：

`http://example.com/program-A`

全部根据您的问题：`I need to redirect language-A\program-A to program-A in the root...`

### 更新

根据问题更新：

```
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI}   ^/language-A/program-A(.*)?   [NC]
RewriteRule .*    program-A%1  [R,L] 
```

临时重定向

`http://example.com/language-A/program-A/what-ever`

到：

`http://example.com/program-A/what-ever`

`/what-ever`是可选的，如果存在将被传递。

# ssl - 处理付款和搭载 ssl

> ID：14556487
> 
> 赞同：2
> 
> 时间：2013-01-28T06:20:24.767
> 
> 标签：ssl, heroku, stripe-payments

我有一个计划接受付款订单的网站。我的主机（heroku）提供搭载 ssl（免费）。我的支付网关（条带）需要 ssl 才能处理付款。heroku piggyback ssl 是否足以处理条带付款？

**从条纹的网站：**

> *如果您想在设置 SSL 之前投入生产，您可以考虑使用为您提供安全子域的提供商托管您的网站。例如，Heroku 允许您在 [https://yourapp.heroku.com](https://yourapp.heroku.com)上托管。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T08:20:51.747

是的，它会正常工作。

如果您想降低成本而不是购买 SSL 并为插件付费，您甚至可以为您的 http 流量使用自定义域，然后为您的 SSL 使用[https://yourapp.herokuapp.com 。](https://yourapp.herokuapp.com)

# android - 如何在 Android 中创建类似于附加图像的菜单

> ID：14556501
> 
> 赞同：0
> 
> 时间：2013-01-28T06:21:25.970
> 
> 标签：android, android-spinner, android-menu

我想创建一个 android 应用程序，其中每个菜单都应该像附加的图像一样。有没有可能在android中创建这种类型的菜单..我是android的初学者..如果有人知道如何制作这种类型的菜单..请给我一个示例代码，这对我很有帮助。
![](../Images/bced075ac9abe7d39e22f1d5c778d204.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:26:33.547

查看 TabActivity。或者这就是你需要通过[http://developer.android.com/design/building-blocks/tabs.html](http://developer.android.com/design/building-blocks/tabs.html)

要为选项卡添加菜单，您可以使用 ActionBar 而不是 TabActivity。这将为您提供将 Spinner 添加到选项卡的选项。[http://developer.android.com/design/patterns/actionbar.html](http://developer.android.com/design/patterns/actionbar.html) 但 actionBar 可用于 API 级别 11 及以上。

# android - android：在这种情况下，推送通知无法在设备上传递

> ID：14556502
> 
> 赞同：1
> 
> 时间：2013-01-28T06:21:29.013
> 
> 标签：android, zend-framework, push-notification, google-cloud-messaging

我在客户端使用 gcm.jar 并在服务器端使用 gcm Zend 框架来发送推送通知。大约有 100 台设备注册了推送通知，在触发通知时即使我收到成功的消息，推送也没有在某些设备上传递，请问我知道失败的各种原因以及如何处理它们。任何建议将不胜感激，

先感谢您。

# java-me - 如何在j2me中将画布添加到表单的背景

> ID：14556505
> 
> 赞同：1
> 
> 时间：2013-01-28T06:21:56.860
> 
> 标签：java-me, lcdui, midp-2.0, cldc

我是 j2me 的新手。我正在 j2me 中开发一个移动应用程序。有没有办法将画布对象添加到表单的背景？我尝试在网上搜索，很少有人建议使用“jmepolish”。我不知道 jmepolish 是什么......有没有办法用普通的 j2me 类来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T10:28:20.743

不，没有办法做到这一点。J2ME 表单的定制级别非常有限。

为了制作一个看起来完全符合您要求的精美表单，您需要使用 Canvas 类；这涉及到自己做所有其他事情，即绘制自己的输入小部件，管理自己的用户交互，包括滚动，以及任何触摸屏/手势（如果您的设备支持）。

您可以使用 J2ME Polish 之类的库来为您做到这一点，但即便如此，您也会受到该库支持的内容的限制；并且将库包含在您的 midlet 中会产生开销。

# intellij-idea - nme.display.TileSheet 不存在？

> ID：14556506
> 
> 赞同：0
> 
> 时间：2013-01-28T06:21:59.053
> 
> 标签：intellij-idea, haxe, nme

在 Haxe & NME 工作。尝试导入 TileSheet 的包时，nme.display.TileSheet 不显示。只有 browser.display.TileSheet 和 native.display.TileSheet。我错过了什么吗？...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T06:09:29.707

定义一个 Haxe 条件编译宏：display

在 IntelliJ 中，这是在模块设置中。

* * *

我看到条件编译标志在看 src 代码...

```
package nme.display;
#if display 
```

[https://github.com/haxenme/NME/blob/master/nme/display/Tilesheet.hx](https://github.com/haxenme/NME/blob/master/nme/display/Tilesheet.hx)

# wpf - 使用 Reactiveui 订购 observable 集合

> ID：14556508
> 
> 赞同：0
> 
> 时间：2013-01-28T06:22:12.110
> 
> 标签：wpf, mvvm, prism, reactiveui

我在我的 ViewModel 中订购一个可观察的集合时遇到了一些困难。这是我的情况：

在我的视图模型中，我有以下列表：

```
public List<TicketModel> Tickets
        {
            get { return _Tickets.Value; }
            set
            {
                {
                    this.RaiseAndSetIfChanged(c => c.Tickets, value);
                }
            }
        }
        private ObservableAsPropertyHelper<List<TicketModel>> _Tickets; 
```

此列表使用以下内容填充`ReactiveAsyncCommand`：

```
LoadTickets.RegisterAsyncFunction(x => loadTickets())
                .ToProperty(this, x => x.Tickets); 
```

到目前为止所有工作。

我有另一个命令，`SortByCommand`每当用户想要对集合进行排序时都会调用它。该命令如下所示：

```
SortByCommand = new ReactiveCommand(this.WhenAny(c => c.Tickets, ((tickets) => tickets.Value != null && tickets.Value.Count > 0)));
SortByCommand.Subscribe(c => sortTickets((SortByModel)c)); 
```

该命令还调用一个函数，该函数使用 order by 子句对集合进行排序：

```
private void sortTickets(SortByModel model)
{
    Tickets = Tickets.OrderBy(model.Selector).ToList();
} 
```

每当`sortTickets`调用该函数时，都会抛出一个异常，它说：

```
Unable to cast object of type 'ReactiveUI.ObservableAsPropertyHelper`1[System.Collections.Generic.List`1[Bugmine.Modules.MyPage.Models.TicketModel]]' to type 'System.Collections.Generic.List`1[Bugmine.Modules.MyPage.Models.TicketModel]'. 
```

我有几个问题：

1）为什么我不能直接设置`Tickets`模型？我是否需要先将结果转换为`OrderBy`某种可观察的集合？

2）有没有更好的方法来做到这一点？

**编辑：澄清**

我现在采取的方法是：

*   该`Tickets`集合每 x 秒重置一次。
*   调用该`sortTickets`函数后，我将按以下方式排序和重置此集合：

    `Tickets = Tickets.OrderBy(c => c.Name).ToList(); //for example`

*   再次`Tickets`加载集合时，我会检查它是否应该排序，并在设置`Tickets`属性之前对其进行排序。

这感觉有点 hacky，因为我基本上将集合设置在两个点 - 在加载和排序时。此外，在加载时，我正在使用 ReactiveUI 助手 -> ToProperty：

```
LoadTickets.RegisterAsyncFunction(x => loadTickets())
    .ToProperty(this, x => x.Tickets); 
```

然而，在排序时，我自己正在这样做：

```
Tickets = Tickets.OrderBy(model.Selector).ToList(); 
```

我想知道是否有更好的方法来使用我在加载时已经使用的 ReactiveUI 方法进行排序。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T18:58:49.933

解决此问题的另一种方法是通过`CreateDerivedCollection`：

```
SortedTickets = Tickets.CreateDerivedCollection(
    x => new TicketViewModel(x),
    orderer: (l,r) => SortModel.Selector(l, r),  // Returns CompareTo() result
    signalReset: this.WhenAny(x => x.SortModel, x => x.Value));  // Reorder on SortModel change 
```

请注意，如果**重复设置**`Tickets`（在这种情况下是这样），这会发生故障 - 您可以将模型更改为在 ctor 中进行初始化，然后清除并添加所有项目，即**`Tickets`**

 **```
LoadTickets.RegisterAsyncFunction(x => loadTickets())
    .Subscribe(x => {
        // TODO: Make sure Tickets is a ReactiveCollection
        Tickets.Clear();
        Tickets.AddRange(x);   // Will trigger resorting of SortedTickets
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T14:05:34.100

刚刚查看了 Ana 的博客[http://blog.paulbetts.org/index.php/2010/07/05/reactivexaml-series-implementing-search-with-observableaspropertyhelper/](http://blog.paulbetts.org/index.php/2010/07/05/reactivexaml-series-implementing-search-with-observableaspropertyhelper/)

```
//
// This is the canonical way to make a read-only property whose value
// is backed by an IObservable
//

ObservableAsPropertyHelper<List<FlickrPhoto>> _Photos; 
```

我认为只读是那里的重点。

相反，您可以尝试使用普通的可观察对象，您可以在其中使用 OnNext 推送新值

```
private Observable<List<TicketModel>> _Tickets = new Observable<Lis<TicketModel>>();
_Tickets.OnNext(newValue); 
```

或使用 ObservableForProperty<> 并正常使用该属性

```
public List<TicketModel> _Tickets { get;set;}
private Observable<List<TicketModel>> _ticketsObservable= ObservableForProperty<..>(x=>x.Tickets); 
```

这两种方法都暴露了一个 Observable，我们可以在稍后的排序中使用它。

为什么不尝试以相同的方式将这两个输入处理到您的排序中，那么它就不会感觉如此 hacky。这样你也会有一个

```
public SortModel SortModel {get;set;} 
```

您的排序命令实现变为

```
SortByCommand.Subscribe(c => _Sort = c)); 
```

但是随后您同时订阅了票证更改和排序标准更改，请参阅[http://rxwiki.wikidot.com/101samples#toc44](http://rxwiki.wikidot.com/101samples#toc44) for CombineLatest

```
new ObservableForProperty<..>(x=>x.SortModel)
    .CombineLatest(_ticketsObservable) 
    .Subscribe( (x,y)=>
    {
         //Refactor to SortMethod
         _tickets = y.OrderBy(x.Selector);
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:44:50.970

1.  我很确定 OrderBy(..) 的结果是 IEnumerable 而不是 ObservableCollection。不过幸运的是，它有一个可以进行转换的构造函数，即

门票 = new ObservableCollection<...>(Tickets.OrderBy(...));

1.  “更好”可能是非常主观的衡量标准。首先，您还没有解释门票集合的完整生命周期及其包含的门票，所以我们无法确定。您可能会考虑使用 SortedTickets 字段/属性而不是覆盖您的门票属性，您可能会发现您不需要成为可观察的集合，因为您会知道何时需要从门票可观察的 NotfyProperryChanged。这完全取决于您的门票可能多久更换一次。

PS 还要确保你已经测试了当你添加另一张票时你的排序列表会发生什么，因为你不能只是**

# java - 将对象转换为字符串 v/s 将对象转换为字符

> ID：14556509
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:22:12.783
> 
> 标签：java, object, casting

我有一个 Stack 的通用实现。此 Stack 的对象具有名称 stak 并且类型为`Character`。

我试过了

```
if ( ( ((String)(stak.head).equals("{")) && (str.charAt(i)=='}') )  { /* do something */} 
```

代码编译正确，但它在运行时给我以下错误：

```
Exception in thread "main" java.lang.ClassCastException: java.lang.Character can
not be cast to java.lang.String
        at One.main(One.java:36) 
```

但是，以下代码有效：

```
if ( ((Character)(stak.head) == '{') && (str.charAt(i)=='}') )  { /* do something */} 
```

你能解释一下为什么字符对象不被转换成字符串吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:24:16.497

仅仅因为`Character`is not a `String`，不属于公共层次结构，因此不允许强制转换。您可以尝试将 a 强制转换`List`为 an，`ArrayList`因为编译器知道它们共享一个公共继承树。另外，如果您有 a 的通用实现`Stack`，那么您真的不应该依赖这样的具体类型，所以我想知道您的代码中有什么。

此外，`{`转换*为*`Character`不是关于铸造，而是关于自动装箱/拆箱。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:25:15.397

**char**是*原始*类型，但**String**是*对象*。

必须将**char**传递给构造函数才能创建**String**类型的对象。（**Cast**不会创建对象）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:39:09.507

您声称正在使用泛型做某事，因此不清楚您为什么要施放任何东西。

话虽如此，您说您正在使用 type`Character`并且从堆栈跟踪和您的第一个示例看来`stak.head`确实是 type `Character`。

您不能将其转换为`String`; 它不是一个。就这么简单。这两个类没有任何关系。你的第二个例子是完全多余和不必要`stack.head` *的*`Character`

**编辑添加：**还值得一提的是，它`Character`是 Java 中的一个特殊类，它是对原语的包装器`char`。当你说

```
if (stack.head == '{' ... ) 
```

的内容*自动拆箱*`stack.head`为a然后与. 单引号表示文字。*`char``'{'``char`*

 ** * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:41:22.030

`Can you please explain why doesn't the character object get cast into String?`

这是因为 Character 不是从 String 扩展而来的

很可能您应该使用的是`Deque`Stack 的自定义实现而不是`java.util.Stack`

防止您看到的问题的示例代码：

```
 Deque<Character> charStack = new ArrayDeque<>();
    charStack.addFirst('A');
    charStack.addFirst('B');
    System.out.println(charStack.pop()); //prints B
    charStack.addFirst("C"); //Avoids the String trap with a compilation error 
```*

# iphone - UISwipegesture 不适用于 UITableview

> ID：14556512
> 
> 赞同：0
> 
> 时间：2013-01-28T06:22:32.223
> 
> 标签：iphone, xcode

```
UISwipeGestureRecognizer *swipeGestureRecognizer = [[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(resignTextView)];    
         swipeGestureRecognizer.direction=UISwipeGestureRecognizerDirectionDown;
        swipeGestureRecognizer.numberOfTouchesRequired=1;
    [self.tableview addGestureRecognizer:swipeGestureRecognizer];

-(void)resignTextView
{
  [textView resignFirstResponder];
} 
```

我不知道为什么 resignTextView 方法没有被调用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:37:52.220

您正在表格视图和向下方向添加滑动手势。如您所知，Table View 已经有一个 Scroll，它会向上和向下滚动。如果您在向下方向添加滑动手势。然后每次向下滑动时调用滚动的滚动方法和表格移动滚动并且设备层检测到没有滑动动作，所以没有调用你的方法。在极少数情况下，有时单元格较少且表格未滚动，然后尝试再次检查它，您的滑动方法被调用。向下滑动和滚动都不能同时正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:54:31.887

tableview 有一个滚动视图，您可以获取它的代表来获取滚动事件。

检查 UIScrollViewDelegate 协议的文档，并根据您的情况实施`-scrollViewDidScroll:`or`-scrollViewWillBeginDragging:`方法。

只需实现这些方法，它就可以工作，因为 tableview 委托实现了底层滚动委托。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-28T11:53:00.233

# c# - 在 WPF C# 中将姓名和 .. 添加到电话簿

> ID：14556520
> 
> 赞同：1
> 
> 时间：2013-01-28T06:23:36.747
> 
> 标签：c#, wpf

我是`WPF`and的初学者`C#`。我正在尝试做电话簿作业。我不知道通过每次单击在文本文件中添加项目的语法。对不起，因为我的问题。

```
public MainWindow()
    {
        InitializeComponent();
        System.IO.File.CreateText(@"E:\MYText.txt");
    }

    private void button1_Click(object sender, RoutedEventArgs e)
    {

        string Name01 = NameBox.Text;
        string Name02 =FamilyNameBox.Text;
        string Name03 = PhoneBox.Text;
        string Informtion = Name01 + Name02 + Name03;
        NameBox.Clear();
        FamilyNameBox.Clear();
        PhoneBox.Clear();
        System.IO.StreamWriter MyWriter = new System.IO.StreamWriter(@"E:\MYText.txt", true);
        MyWriter.Write(Informtion);
        MyWriter.Close();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:40:35.023

尽量不要使用 StreamWriter。改为这样做。

```
List<string> textLines = new List<string>();
string Name01 = NameBox.Text;
string Name02 =FamilyNameBox.Text;
string Name03 = PhoneBox.Text;
string Informtion = Name01 + Name02 + Name03;   
textLines.Add(Information);
// add more lines if you want.
File.WriteAllLines(fileName, textLines); 
```

如果要在其他文件中附加文本，也可以使用 File.AppendAllLines(fileName, textLines)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:33:12.547

I got from one of my apps that writes file, this works 100% adapting to your code

```
using System.IO;//don't forget to reference the IO package
    TextWriter writer = new StreamWriter("class1.txt");
        try
        {
           string Name01 = NameBox.Text;
           string Name02 =FamilyNameBox.Text;
           string Name03 = PhoneBox.Text;
           string Informtion = Name01 + Name02 + Name03;        
           writer.WriteLine(Informtion);
        }
        catch(Exception ex)
        {
            throw ex;
        }
        finally
        {
            writer.Close();
            writer.Dispose();
        } 
```

# c++ - 如何将 OpenSSL 从 32 位配置为 64 位？

> ID：14556530
> 
> 赞同：0
> 
> 时间：2013-01-28T06:25:13.680
> 
> 标签：c++, linux, openssl, centos

我有 openssl 作为第三方库，它适用于 32 位系统。如何将其配置为 64 位？我正在使用 CentOs 6.02 操作系统。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:35:43.827

只需在 x86-64 机器上编译 openssl。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-23T08:29:19.893

可以通过从 openssl 目录执行 ./configure 将 openssl 配置为 x86_64 来解决此问题。

# java - 将字符串解析为长时出现问题 - 我做错了什么？

> ID：14556535
> 
> 赞同：-2
> 
> 时间：2013-01-28T06:25:24.873
> 
> 标签：java, parsing, long-integer

这是我在 main 方法中使用的代码：

```
String numbers = "12345678900";
long upc = Integer.parseInt(numbers);
System.out.println(upc); 
```

给我：

```
Exception in thread "main" java.lang.NumberFormatException: For input string: "12345678900"
at java.lang.NumberFormatException.forInputString...
at java.lang.Integer.parseInt....
at java.lang.Integer.parseInt...
at testRun.main... 
```

我不能使用双精度，它们需要存储为没有小数的值。我正在尝试将字符串中的数字字符串转换为包含数字的变量（无小数）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-28T06:27:29.603

要解析 a `long`，请使用[`Long.parseLong`](http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#parseLong%28java.lang.String,%20int%29)，而不是`Integer.parseInt`。这样，您就可以访问全部范围的`long`值（而使用`parseInt`，您只能获得更受限制的*`int`*值范围）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:28:27.060

采用`Long.parseLong()`

```
String numbers = "12345678900";
long upc = Long.parseLong(numbers);
System.out.println(upc); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T07:02:43.903

采用

```
String numbers = "12345678900";
long upc = Long.parseLong(numbers);
System.out.println(upc); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:26:42.797

您传递的数字超出了从 -2,147,483,648 到 2,147,483,647 的整数范围。尝试使用静态函数 parseLong

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T06:28:58.120

采用

```
long upc = Long.parseLong(numbers); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-28T06:29:55.627

您的号码足够长，不适合 Integer。所以，你不能转换成整数。您可以通过调用将其转换为 Long `Long.parseLong(number)`。

# c# - C#：在 for 循环内的 catch 块中对“Contine”进行代码审查

> ID：14556537
> 
> 赞同：0
> 
> 时间：2013-01-28T06:25:39.353
> 
> 标签：c#

以下是我的代码，如果 try 块内出现异常，我需要继续循环。

```
for (int i = 0; i < doc.Length; i++)
{
    name = doc[i].ToString();
    try
    {
        if (name != "")
        {
        name=name.ToString().Substring(12);
        break;
        }
    }
    catch{
        continue;
    }
} 
```

如果我在代码中的任何地方出错，请告诉我。也请检查性能。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:29:14.250

`continue`是不需要的。它会自动继续。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:34:22.743

如果可以避免，则不需要异常处理：

```
for (int i = 0; i < doc.Length; i++)
{
    name = doc[i].ToString();

    if(name != null && name.Length >= 12)
    {    
        name = name.Substring(12);    
        break;
    }
} 
```

永远不要对不例外的事情使用例外。如果您不希望任何文档的长度小于 12，那么您可以使用异常（但也不仅仅用于控制流）：

```
for (int i = 0; i < doc.Length; i++)
{
    name = doc[i].ToString();

    if (name.Length < 12)
        throw new FooException("Wrong document found!");

    // do something with name
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:39:56.090

```
var name = doc.FirstOrDefault(x => !string.IsNullOrEmpty(x) && x.Length >= 12); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:35:37.187

您不需要在此处中断或继续。试试这个。

```
for (int i = 0; i < doc.Length; i++)
{
    name = doc[i].ToString();

    try
    {
        if (!string.IsNotNullOrEmpty(name))
        {
            name=name.ToString().Substring(12);
        }
    }
    catch{ } 
} 
```

# c# - 如何动态组合 linq 查询？

> ID：14556544
> 
> 赞同：2
> 
> 时间：2013-01-28T06:25:57.807
> 
> 标签：c#, sql, sql-server, linq, linq-to-sql

假设我有一个表，在字符串 ( `nvarchar`) 列中包含格式化值。这些值应该是由一些 const 符号分隔的字符串（让它成为分号`;`）。例如，

```
12;0;5;dog //four values separated by a semi-colon 
```

或者

```
053 //if there is only one value, no semi-colon at the end 
```

分隔符始终是分隔符，它不能是值的一部分。

我需要检查该表中是否已经存在一行，该列中包含一个值列表，其中至少包含一个指定项目。换句话说，我有一个值列表：

```
List<string> list = new List<string>() { "somevalue1", "somevalue2" }; 
```

分隔符：

```
string separator = ";"; 
```

我需要编写一个 linq-to-sql 查询来执行此操作：

```
select ... from sometable
where Value='somevalue1' or Value like 'somevalue1;%' or
      Value like '%;somevalue1' or Value like '%;somevalue1;%'

   or Value='somevalue2' or Value like 'somevalue2;%' or 
      Value like '%;somevalue2' or Value like '%;somevalue2;%' 
```

应该提到的是，任何搜索到的值都可能包含另一个。也就是说，我可能正在搜索完全`5`，而某些行可能包含`1;15;55`. 这样的行**不能**匹配。While `...;5;...`or just `5`, or `5;...`, or`...;5`是匹配项。

使用 linq-to sql 我知道如何进行以下类型的查询：

```
select ... from sometable where (... or ... or ...) and (... or ...) ... 
```

那是

```
IQueryable<SomeTable> query = dc.SomeTable;
foreach (string l in list)
{
    string s = l;
    query = query.Where(b => b.Value.StartsWith(s + separator) ||
                             b.Value.EndsWith(separator + s) ||
                             b.Value.Contains(separator + s + separator) ||
                             b.Value.Equals(s));
}
if (query.Any()) {/*...*/} 
```

显然，这些`Where`语句`AND`在生成的 sql 查询中加入，而我`OR`到处都需要。

那么有没有办法在 C# 代码中获取我需要的查询？或者唯一的方法是使用手写查询和[DataContext.ExecuteQuery Method](http://msdn.microsoft.com/en-us/library/bb361109.aspx)来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T07:19:24.010

```
public static Expression<Func<T, bool>> OrTheseFiltersTogether<T>(
  this IEnumerable<Expression<Func<T, bool>>> filters)
{
    Expression<Func<T, bool>> firstFilter = filters.FirstOrDefault();
    if (firstFilter == null)
    {
        Expression<Func<T, bool>> alwaysTrue = x => true;
        return alwaysTrue;
    }

    var body = firstFilter.Body;
    var param = firstFilter.Parameters.ToArray();
    foreach (var nextFilter in filters.Skip(1))
    {
        var nextBody = Expression.Invoke(nextFilter, param);
        body = Expression.OrElse(body, nextBody);
    }
    Expression<Func<T, bool>> result = Expression.Lambda<Func<T, bool>>(body, param);
    return result;
} 
```

因此，您可以从输入集中轻松构建过滤器列表：

```
List<string> list = new List<string>() { "somevalue1", "somevalue2" };
List<Expression<Func<SomeTable, bool>>> equalsFilters = list
  .Select(s => row => row.Value == s).ToList();
List<Expression<Func<SomeTable, bool>>> startsWithFilters = list
  .Select(s => row => row.Value.StartsWith(s + ";")).ToList();
List<Expression<Func<SomeTable, bool>>> endsWithFilters = list
  .Select(s => row => row.Value.EndsWith(";" + s).ToList();
List<Expression<Func<SomeTable, bool>>> middleFilters = list
  .Select(s => row => row.Value.Contains(";" + s + ";")).ToList();

Expression<Func<SomeTable, bool>> theFilter = OrTheseFiltersTogether(
  equalsFilters.Concat(startsWithFilters).Concat(endsWithFilters).Concat(middleFilters)
);

query = query.Where(theFilter); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T07:04:33.057

我想 a`UNION`会满足您的需求：

```
IQueryable<SomeTable> baseQuery = dc.SomeTable;
IQueryable<SomeTable> query = new List<SomeTable>().AsQueryable();
foreach (string l in list)
{
    string s = l;

    query.Union(baseQuery.Where(b => b.Value.StartsWith(s + separator) ||
                             b.Value.EndsWith(separator + s) ||
                             b.Value.Contains(separator + s + separator) ||
                             b.Value.Equals(s)));
}
if (query.Any()) {/*...*/} 
```

# opencv - 为什么 OpenCV 使用 BGR 颜色空间而不是 RGB

> ID：14556545
> 
> 赞同：61
> 
> 时间：2013-01-28T06:25:59.147
> 
> 标签：opencv

为什么`OpenCV`使用`BGR`色彩空间而不是`RGB`. 我们都知道这`RGB`是大多数计算机图形的方便颜色模型，并且人类视觉系统的工作方式类似于`RGB`颜色空间。`OpenCV` `BGR`色彩空间背后有什么原因吗？

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2015-11-18T18:28:31.220

“OpenCV 的早期开发人员之所以选择 BGR 颜色格式，可能是因为当时 BGR 颜色格式在相机制造商和软件提供商中很流行。例如在 Windows 中，使用 COLORREF 指定颜色值时，他们使用 BGR 格式 0x00bbggrr。

BGR 是出于历史原因做出的选择，现在我们必须接受它。换句话说，BGR 是 OpenCV 中的马的屁股。”

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2020-01-22T01:41:36.150

OpenCV 以 BGR 格式（而不是 RGB）读取图像，因为在 OpenCV 最初开发时，BGR 颜色格式在相机制造商和图像软件提供商中很流行。红色通道被认为是最不重要的颜色通道之一，因此在最后列出，并且许多位图使用 BGR 格式进行图像存储。然而，现在标准发生了变化，大多数图像软件和相机都使用 RGB 格式，这就是为什么在程序中，在分析或处理任何图像之前先将 BGR 图像转换为 RGB 是一种很好的做法。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2021-02-15T21:07:53.620

为什么？由于历史原因。1987 年，Microsoft Windows 在 IBM PS/2 上运行，早期的 IBM视频[显示控制器](https://en.wikipedia.org/wiki/Video_display_controller)[VGA](https://en.wikipedia.org/wiki/Video_Graphics_Array)使用了[INMOS 171/176 RAMDAC 芯片](https://en.wikipedia.org/wiki/RAMDAC)，当图像以 BGR 格式存储时更易于使用。

请参阅 [Why BGR color order](https://retrocomputing.stackexchange.com/a/3025)

# c++ - 在多客户端/服务器系统中销毁与客户端相关的数据

> ID：14556546
> 
> 赞同：1
> 
> 时间：2013-01-28T06:26:05.487
> 
> 标签：c++, tcp

我将构建一个多客户端/服务器系统。预计会这样工作：

1.  客户端使用 TCP/IP 与服务器通信

2.  当客户端与服务器建立连接时，客户端会发送一个命令字符串。当服务器接收到命令字符串时，它会解析它，执行所需的工作，然后向客户端发送响应。

3.  当客户端关闭 TCP 连接时，服务器会销毁与该客户端相关的资源。

4.  服务器是一个多线程程序。command `receive`、 command `parse`、 command`deal`和对客户端的响应可以各自在不同的线程中。

现在，我想定义一个`CmdTcpContext`类来包含与客户端相关的数据。

```
class CmdTcpContext
 18 {
 19 public:
 20     CmdTcpContext(){recv_buff_.SetRecvList(&recv_list_);}
 21     ~CmdTcpContext(){}
 22     
 23     CmdRecvBuffer & recv_buff(){return recv_buff_;}
 24     SendBuffer & send_buff(){return send_buff_;}
 25 
 26     RecvList<CmdPackage> & recv_list(){return recv_list_;}
 27     RecvList<CmdPackage> & send_list(){return send_list_;}
 28     
 29     InetAddr & inet_addr(){return addr_;}
 30     SockStream & sock_stream(){return stream_;}
 31 
 32     EventHandler * event_handler(){return handler_;}
 33     void event_handler(EventHandler * eh){handler_ = eh;}
 34 private:
 35     SockStream stream_;
 36     InetAddr addr_;
 37 
 38     CmdRecvBuffer recv_buff_;
 39     SendBuffer send_buff_;
 40 
 41     RecvList<CmdPackage> recv_list_;
 42     RecvList<CmdPackage> send_list_;
 43 
 44     EventHandler *handler_;
 45 }; 
```

`CmdTcpContext`我的问题是：当客户端关闭连接时如何销毁对象？

# css - 如何修复此 CSS 验证错误..？

> ID：14556551
> 
> 赞同：0
> 
> 时间：2013-01-28T06:26:24.080
> 
> 标签：css, filter

```
.file_input_hidden {
    font-size: 45px; 
    position: absolute; 
    right: 0px; 
    top: 0px; 
    filter: alpha(opacity=0); 
    -ms-filter: "alpha(opacity=0)";
    -khtml-opacity: 0; 
    -moz-opacity: 0;
    opacity: 0;
} 
```

这是代码。当我在 sortsite 中运行它时，CSS 验证错误显示在代码的第 6 行（顶部：0px；）。我无法找出问题所在。过滤器有什么问题吗？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:04:17.307

我不知道“sortsite”是什么，但是[W3C CSS Validator](http://jigsaw.w3.org/css-validator/)（它是唯一具有任何权威性的 CSS 检查器）报告该行`filter`是错误的。它还发出有关供应商扩展的警告（以连字符开头`-`，例如`-moz-opacity`; 在这种情况下，它们无用，但无害）。

没有办法使错误消息静音，因为`filter: alpha(opacity=0)`除了特定于浏览器之外，Microsoft 构造还违反了通用 CSS 语法。如果您也想支持 IE 8 及更早版本，请保留它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:34:57.850

我认为问题不在于`top`规则。我认为这些会引发验证错误：

```
filter: alpha(opacity=0); 
-ms-filter: "alpha(opacity=0)";
-khtml-opacity: 0; 
-moz-opacity: 0; 
```

CSS 验证应仅用作指南，因为并非所有新的 CSS 功能都受支持，并且它不会验证前缀规则。我会说你不需要过分热衷于验证。你的 CSS 很好。

# facebook - 如何使用 post_id 检索特定的 Facebook 帖子

> ID：14556553
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:26:27.353
> 
> 标签：facebook, facebook-graph-api

在我的应用程序中，我想检索特定 Facebook 帖子的内容（消息）。我能够获取该特定帖子的 postid id，但我无法获取与该 id 关联的内容。我找不到任何[FQL查询来获取带有 post_id 或](http://en.wikipedia.org/wiki/Facebook_Query_Language)[Graph API](http://en.wikipedia.org/wiki/Facebook_Platform#Graph_API) [URL](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)的帖子消息。

我有这个 URL 来获取所有帖子，`../100005002784039/posts?fields=id,name,message`但是在传递帖子 ID 时我只想要帖子的特定消息。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:34:05.913

感谢 sahil，我的[网址](http://en.wikipedia.org/wiki/Uniform_Resource_Locator)是这样的：

```
https://graph.facebook.com/"+PostId()+"?access_token=Token); 
```

### 代码

```
URL fbmsg = new URL("https://graph.facebook.com/"+trace.getFbPostId()+"?access_token="+TOKEN+"");
URLConnection yc = fbmsg.openConnection();

BufferedReader in = new BufferedReader(new InputStreamReader(yc.getInputStream()));

String inputLine;

String s = "";

while ( (inputLine = in.readLine()) != null)
    System.out.println(inputLine);

Log.d(TAG, "getPostId trace getFbPostId " + inputLine);
s = s + inputLine + "n";
Log.d(TAG, "getPostId trace getFbPostId " + s);
in.close();
System.out.println(s); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:51:56.143

只需对 API 进行以下查询 -

```
/POST_ID 
```

# blackberry-webworks - 如何使用 webworks 在 Blackberry 10 设备中获取 IMEI 号码？

> ID：14556557
> 
> 赞同：4
> 
> 时间：2013-01-28T06:26:37.167
> 
> 标签：blackberry-webworks, blackberry-10, imei

我正在使用 webworks 开发 Blackberry 10 App，我想使用 webworks 获取设备 IMEI 号码。我没有找到任何在互联网上获取 IMEI 号码的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-05T17:28:18.583

查看身份 API - [https://developer.blackberry.com/html5/apis/blackberry.identity.html](https://developer.blackberry.com/html5/apis/blackberry.identity.html)

它将返回 IMEI 和 UUID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-19T06:57:57.297

在 javascript 中包含此代码

```
function functionName()
        {
            var transportList = blackberry.identity;
            IMEI_No = transportList.IMEI;
        } 
```

并在配置文件中包含

```
<feature id="blackberry.identity" /> 
```

这将返回 Imei 号码。

# php - 由于 php 中的逻辑实现错误，斐波那契数列不起作用

> ID：14556561
> 
> 赞同：1
> 
> 时间：2013-01-28T06:26:57.760
> 
> 标签：php, arrays, for-loop, fibonacci

通过编程从逻辑实现开始，所以请找到我为 Euler Ques 项目所做的诚实努力，尽管我尝试了各种尝试来解决但无法通过它:(

我从中得到的总和是 - `257112`。我在总和中添加了 +2 以`a[1] = 2`在系列中计数，但它不起作用，我目前正在传递一个静态值`45`，`$num`但我认为这不是正确的方法，让我知道我在逻辑上落后于问题的地方.

> 斐波那契数列中的每个新项都是通过添加前两项来生成的。从 1 和 2 开始，前 10 个术语将是：
> 
> 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...
> 
> 通过考虑斐波那契数列中值不超过四百万的项，求偶数项之和。

这是我试过的代码-->

```
$a = array();
$a[0] = 1; $a[1] = 2; $num = 45; $i= 0; $sum = 0; $stop = $num -2;
    for($i; $i < $stop ; $i++ ) {
    $a[$i+2] = $a[$i+1] + $a[$i];

            if( $a[$i+2]%2 == 0 && $a[$i+2] <= 400000 )
            {
            $sum += $a[$i+2]; 
            }

    }

echo "<pre>";
print_r($a);
echo "<br>"."Sum is : ".$sum; 
```

**编辑**- 添加一个额外的零使其成为 400 万是错误的，尽管我正在寻找 $num 不是静态的东西（正如我刚刚随机提到的 45，虽然它可以工作但它不是一个干净的解决方案）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T06:35:56.047

让它简单，没有数组，让它快速。你只是在寻找总和，没有别的：

```
$a=1;$b=2;$sum=2;
while($b<4000000){
    $c=$b+$a;
    if($c%2==0)
        $sum+=$c;
    $a=$b;
    $b=$c;
}
echo $sum; 
```

如果算上 4,000,000，那将是`$b<=4000000`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:31:53.513

```
<?php

$f0=0;/* declaring variables */
$f1=1;
$f2=0;

$n=0; /* the series range */

while($n<20)
{
 $f2=$f0+$f1;
 echo $f2."<br>";
 $f0=$f1;
 $f1=$f2;
 $n++;
}
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:32:36.257

```
<?php

$f0=0;/* declaring variables */
$f1=1;
$f2=0;

$n=0; /* the series range */

while($n < $stop){
    $f2=$f0+$f1;
    $temp[] = $f2;
    $f0=$f1;
    $f1=$f2;
    $n++;
}

var_dump($temp);
?> 
```

[您可以在此处](http://gauri1234.hubpages.com/hub/Displaying-Fibonacci-series)查看相同的示例

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-11T20:24:09.870

这很简单：

```
$prev = 0;
$curr = 1;
$next = 1;
for ($i=0; $i <= 10; $i++) {
    $prev = $next;
    $curr = $i;
    $next = $prev + $curr;
    echo $next.'<br/>';
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-30T13:30:01.120

试试这个：

```
function fibonacci_series($n) {
 $f1 = -1;
 $f2 = 1;

 for ($i = 1; $i <= $n; $i++) {
   $f = $f1 + $f2;
   $f1 = $f2;
   $f2 = $f;
   echo "$f<br />"; 
 }
}

echo fibonacci_series(5); 
```

# ruby-on-rails-3 - heroku 上 rake 任务中的文件路径

> ID：14556566
> 
> 赞同：1
> 
> 时间：2013-01-28T06:27:31.223
> 
> 标签：ruby-on-rails-3, heroku

我在 Rails 中有一个 rake 任务，基本上就是打开一个文件并写一些文本，我有

```
 def self.log
    File.open("#{Rails.root.join("app/views/main/log.html.erb")}", "a+"){|f| f << "sometext" }
  end 
```

我的文件在`/app/views/main/log.html.erb`

这在本地工作得很好，但是一旦我上传到 Heroku，它就不会向文件写入任何内容（也没有错误消息）。怀疑文件路径不正确，或者我对 Heroku 不了解的其他信息？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:34:36.837

Heroku 的文件系统是只读的。本文重点介绍了它：[https](https://devcenter.heroku.com/articles/read-only-filesystem) ://devcenter.heroku.com/articles/read-only-filesystem 。希望有帮助。

# javascript - 阿拉伯文字无法正确显示

> ID：14556567
> 
> 赞同：1
> 
> 时间：2013-01-28T06:27:31.973
> 
> 标签：javascript, html, character-encoding

我是 html 编程新手。我想在我的 html 文件中添加阿拉伯语文本。我添加了以下带有阿拉伯语文本的行：

```
<h1 dir="rtl">نص تجريبي لاختبار</h1> 
```

但是在输出中我得到了一些意想不到的输出，例如：

```
عظ� ظ�ظ،ظ�عظ�ع عظ�ظ�ظ�ظ�ظ�ظ� 
```

我不明白为什么会这样。还是需要为阿拉伯语添加一些额外的代码？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T06:30:56.590

我认为是由您在 HTML 文件中使用的字符集引起的。查看有关字符集的 wiki 页面

[http://en.wikipedia.org/wiki/Character_encodings_in_HTML](http://en.wikipedia.org/wiki/Character_encodings_in_HTML)

而且，这个问题也可能是由于在文本编辑器中使用与 HTML 字符集不同的字符集引起的。

对于非 ascii 字符，我建议使用 UTF-8 作为字符集。因此，您可以将此行添加到您的 HTML 文件中。在 <head> 标签中。

```
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:48:47.220

这是一个字符编码问题。从症状来看，似乎 HTML 文档实际上是 UTF-8 编码的，这很好，但它被视为另一种编码，可能是 ISO-8859-6。查看页面时，您可以通过在浏览器的“查看”命令（或等效命令）的字符编码菜单中选择 UTF-8 来检查这一点。

要解决此问题，请确保服务器发送的 HTTP 标头将编码声明为 UTF-8，或者至少不指定它。例如，您可以使用 Rex Swain 的[HTTP 标头查看器](http://www.rexswain.com/httpview.html)来检查这一点。另外，添加标签`<meta charset=utf-8>`作为元素的第一个子`head`元素；*如果*服务器根本没有声明字符编码（即，它说`Content-Type: text/html`没有`charset`参数） ，仅此一项就足够了。

If more information is needed, check out the W3C page on [character encodings](http://www.w3.org/International/O-charset.en.php).

# java - 确保照片以与拍摄时相同的方向保存？

> ID：14556569
> 
> 赞同：13
> 
> 时间：2013-01-28T06:27:39.463
> 
> 标签：java, android, camera, bytearray, photo

出于某种原因，我的相机应用程序保存了所有旋转 90 度的照片（照片仅在使用相机在横向模式下拍摄时看起来正确）我相信 onPictureTaken 应该自动旋转照片但我读到三星设备存在问题（我无法在另一个品牌上测试它，所以我不知道是不是这样）。这是我的代码：

```
 public void onPictureTaken(byte[] data, Camera camera) {
      // Generate file name
      FileOutputStream outStream = null;
      outStream = new FileOutputStream(filePath);
      outStream.write(data);
      outStream.close(); 
```

我在想它可以通过检查方向和旋转字节数组来解决，但必须有一种更直接的方法来做到这一点，因为处理字节数组很痛苦。如何确保保存的照片与拍摄方向一致？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-19T00:31:59.697

有不同的方式来获取你的图像，作为数据，作为流，作为文件，对于相机和画廊和其他应用程序来说也是不同的。对于它们中的每一个，您都有另一种访问方向标签的方法。确定方向后，您可以旋转图像。

你 - 或者每个人 - 真的应该得到一个 Nexus，它们很好，可以为你旋转图像并将方向设置为 0，而像三星这样的懒惰的人只是存储图像并设置方向标签。;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-30T11:44:19.327

尝试这样的事情：

```
int orientation = Exif.getOrientation(data);
Log.d("#", "onPictureTaken().orientation = " + orientation);
if(orientation != 0) {
     Bitmap bmpSrc = BitmapFactory.decodeByteArray(data, 0, data.length);
     Bitmap bmpRotated = CameraUtil.rotate(bmpSrc, orientation);
     bmpSrc.recycle();

       try {

             FileOutputStream localFileOutputStream = new FileOutputStream(filePath);
             bmpRotated.compress(Bitmap.CompressFormat.JPEG, 90,localFileOutputStream);
             localFileOutputStream.flush();
             localFileOutputStream.close();
             bmpRotated.recycle();

           }
        catch (FileNotFoundException e) 
           {
              e.printStackTrace();
           }
        catch (IOException e) 
           {
               e.printStackTrace();
           }

      } else {

          try {

               FileOutputStream localFileOutputStream = new FileOutputStream(filePath);
               localFileOutputStream.write(data);
               localFileOutputStream.flush();
               localFileOutputStream.close();

               } catch (IOException localIOException)
                  {
                                        Log.e("#",localIOException.getMessage());
                  }
   } 
```

# javascript - 从数组中删除匹配值

> ID：14556570
> 
> 赞同：-4
> 
> 时间：2013-01-28T06:27:46.550
> 
> 标签：javascript

我有一个数组，它有一些值，但我不需要在我的数组中有相同的值

例子：

```
var myarray=new Array();
myarray[0]="Apple",
myarray[1]="Grapes",
myarray[2]="Apple", 
```

我希望我的数组应该只包含葡萄和苹果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:35:08.303

在这里我找到了一些方法。**来源：** [删除数组中的重复元素](https://stackoverflow.com/questions/9751413/removing-duplicate-element-in-an-array)

```
function eliminateDuplicates(arr) {
 var i,
 len=arr.length,
 out=[],
 obj={};

 for (i=0;i<len;i++) {
   obj[arr[i]]=0;
 }

 for (i in obj) {
   out.push(i);
 }

 return out;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T06:37:26.120

此函数将从数组中删除重复值（它保留最后一个）：

```
function removeDups(arr) {
    var temp = {}, val;
    for (var i = arr.length - 1; i >= 0; i--) {
        val = arr[i];
        if (temp[val] === true) {
            // already have one of these so remove this one
            arr.splice(i, 1);
        } else {
             temp[val] = true;
        }
    }
} 
```

如果你想保留第一个而不是最后一个，你可以使用这个版本：

```
function removeDups(arr) {
    var temp = {}, val;
    for (var i = 0; i < arr.length; i++) {
        val = arr[i];
        if (temp[val] === true) {
            // already have one of these so remove this one
            arr.splice(i, 1);
            // correct our for loop index to account for removing the current item
            --i;
        } else {
             temp[val] = true;
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:31:33.203

```
unique = myArray.filter(function(elem, pos) {
    return myArray.indexOf(elem) == pos;
}) 
```

`unique` will have only unique values.

Note: The above relies on `filter`, which is new as of ECMAScript5 and not present in legacy browsers (including IE8), but present in all modern ones. If you have to support legacy browsers, use an ES5 shim (as `filter` is shim-able). Also note that `indexOf` may not be present in really old browsers like IE7.

# c# - 跨域 HttpWebRequest 返回 403 禁止

> ID：14556572
> 
> 赞同：1
> 
> 时间：2013-01-28T06:27:59.267
> 
> 标签：c#, httpwebrequest, server-side, http-status-code-403

我有 2 个位于 2 个域上的站点。我需要将信息从一个站点发送到另一个站点。我检查了 asmx 是否可以运行单元测试，但是当我从第二个域运行我的代码时，我得到了 403 禁止响应。代码非常简单：

```
 try    
     {
        var webRequest = (HttpWebRequest)WebRequest.Create("http://www.blahblahblah.com/Services/ChatNotification.asmx?fromId=" + 525808 + "&toId=" + 525808);
        var webResponse = webRequest.GetResponse();
        var stream = webResponse.GetResponseStream(); 
    }
    catch(WebException ex)
    {
         var response = (HttpWebResponse)ex.Response;       
    } 
```

# c# - 如何获取身份提供者名称

> ID：14556574
> 
> 赞同：1
> 
> 时间：2013-01-28T06:28:07.900
> 
> 标签：c#, azure, acs

我正在使用 azure 访问控制服务 (ACS)。我正在尝试获取为我的应用程序选择的身份提供者列表。为此，我[从这里](http://blogs.southworks.net/mwoloski/2011/04/12/adding-internet-identity-providers-like-facebook-google-liveid-and-yahoo-to-your-mvc-web-application-using-windows-azure-appfabric-access-control-service-and-jquery-in-3-steps/)使用以下代码：

```
public ActionResult IdentityProviders(string serviceNamespace, string appId)
{
    string idpsJsonEndpoint = string.Format(IdentityProviderJsonEndpoint, serviceNamespace, appId);
    var client = new WebClient();
    var data = client.DownloadData(idpsJsonEndpoint);

    return Content(Encoding.UTF8.GetString(data), "application/json");
} 
```

谁能告诉我什么是 appId 以及我在哪里得到它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:48:34.350

根据您提供的链接，您需要从此处获取。

[https://portal.appfabriclabs.com](https://portal.appfabriclabs.com)

还要检查链接中的以下行

```
{ serviceNamespace = "YourServiceNamespace", appId = "https://localhost/<YourWebApp>/" }))', 
```

将`appId`是您注册后将获得的

![在此处输入图像描述](../Images/2c19fb952a7847cfe9367be86fabd805.png)

# java - 如何解决不好的填充

> ID：14556586
> 
> 赞同：1
> 
> 时间：2013-01-28T06:29:01.130
> 
> 标签：java, encryption, rsa, padding

我正在尝试在服务器和客户端之间创建一个 RSA 加密聊天程序。但是，当我收到并尝试解密消息时遇到错误的填充异常，这是我的代码。

请帮我！对你的帮助表示感谢！

客户：

```
Socket s;
BufferedReader br;
BufferedWriter bw;
TextField text;
Button sendBut, exitBut;
List list;

public client(String st)
{
  super(st);
  setSize(300, 130);

  setLocation(300,0);
  setResizable(true);
  setBackground(new Color(192, 192, 192));
  this.setLayout(new GridLayout(2, 1));

  Panel panels[] = new Panel[2];
  panels[0] = new Panel();
  panels[1] = new Panel();
  panels[0].setLayout(new BorderLayout());
  panels[1].setLayout(new FlowLayout(FlowLayout.LEFT));

  sendBut = new Button("Send");
  exitBut = new Button("Exit");

  sendBut.addActionListener(this);
  exitBut.addActionListener(this);

  list = new List();
  text = new TextField(25);

  panels[0].add(list);
  panels[1].add(text);
  panels[1].add(sendBut);
  panels[1].add(exitBut);     

  add(panels[0]);
  add(panels[1]);

  setVisible(true);

  try
  {
    /* Assuming that this application is run on single
                      machine I've used the default ip i.e., 127.0.0.1\. If
                      you want to use it on 2 different machines use the
                      ip that is assigned to the machine on which server
                      applicatin is residing*/

    s = new Socket("127.0.0.1", 1053);
    br = new BufferedReader(new InputStreamReader(s.getInputStream()));
    bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));
    Thread th;
    th = new Thread(this);
    th.start();

  }catch(Exception e){}

}

public static void main(String arg[])
{
  // create an object instance of the class
  // by sending the title as parameter
  new client("Client Application");

}

public void run()
{
  while (true)
  {
    try
    {
      String receive = br.readLine();
      list.addItem(receive);
      byte[] msg1 = receive.getBytes("UTF-8");
      //decrypt
      //Get pri Key
      FileInputStream FISkey1 = new FileInputStream("privatekey.txt");
      ObjectInput oi1 = new ObjectInputStream(FISkey1);  
      Key privateKey = (Key) oi1.readObject(); 
      FISkey1.close();
      Cipher cipher1 = Cipher.getInstance("RSA/ECB/PKCS1Padding");
      //encrypt the public key
      cipher1.init(Cipher.DECRYPT_MODE, privateKey);
      byte[] deciphertext = cipher1.doFinal(msg1);
      String receivePrint = new String(deciphertext, "UTF-8");

      list.addItem(receivePrint);
    }catch (Exception h){
    }
  }
}

public void actionPerformed(ActionEvent ae)
{
  if(ae.getSource().equals(exitBut))
  System.exit(0);
  else
  {
    try
    {
      String s = text.getText();
      byte[] msg = s.getBytes("UTF-8");
      //encrypt
      //Get public Key
      FileInputStream FISkey = new FileInputStream("publickey.txt");
      ObjectInput oi = new ObjectInputStream(FISkey);  
      Key publicKey = (Key) oi.readObject(); 
      FISkey.close();
      Cipher cipher = Cipher.getInstance("RSA/ECB/PKCS1Padding");
      //encrypt the public key
      cipher.init(Cipher.ENCRYPT_MODE, publicKey);
      byte[] ciphertext = cipher.doFinal(msg);
      String send = new String(ciphertext, "UTF-8");
      bw.write(send);
      bw.newLine();
      bw.flush();
      text.setText("");
    }catch(Exception m){}
  }      
} 
```

}

服务器 ：

```
ServerSocket ss;
Socket s;
BufferedReader br;
BufferedWriter bw;
TextField text;
Button sendBut, exitBut;
List list;

public server(String m) // class constructor
{
  super(m);
  setSize(300, 130);
  setLocation(0,0);
  setResizable(true);
  setBackground(new Color(192, 192, 192));
  this.setLayout(new GridLayout(2, 1));

  Panel panels[] = new Panel[2];
  panels[0] = new Panel();
  panels[1] = new Panel();
  panels[0].setLayout(new BorderLayout());
  panels[1].setLayout(new FlowLayout(FlowLayout.LEFT));

  sendBut = new Button("Send");
  exitBut = new Button("Exit");

  sendBut.addActionListener(this);
  exitBut.addActionListener(this);

  list = new List();
  list.addItem("Server up & Listening on port plz wait...");

  text = new TextField(25);

  panels[0].add(list);
  panels[1].add(text);
  panels[1].add(sendBut);
  panels[1].add(exitBut);     

  add(panels[0]);
  add(panels[1]);

  setVisible(true);

  try
  {
    ss = new ServerSocket(1053);//some port number, better be above 1000
    s = ss.accept();
    br = new BufferedReader(new InputStreamReader(s.getInputStream()));
    bw = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));
    bw.write("Hi! Please Enter Your Message Here");
    bw.newLine();
    bw.flush();
    Thread th;
    th = new Thread(this);
    th.start();

  }catch(Exception e){}

}

public void run()
{
  while (true)
  {
    try                       
    {//string toDecrypt = br.readLine();
      //decrypt;
      list.addItem(br.readLine());
    }catch (Exception e){}
  }
}

public static void main(String arg[])
{
  // create an object instance
  // by sending the title as a parameter
  new server("Server Applicaton");
}

public void actionPerformed(ActionEvent ae)
{
  if (ae.getSource().equals(exitBut))
  System.exit(0);
  else
  {
    try
    {       
      String s = text.getText();
      byte[] msg = s.getBytes("UTF-8");
      //encrypt
      //Get public Key
      FileInputStream FISkey = new FileInputStream("publickey.txt");
      ObjectInput oi = new ObjectInputStream(FISkey);  
      Key publicKey = (Key) oi.readObject(); 
      FISkey.close();
      Cipher cipher = Cipher.getInstance("RSA/ECB/PKCS1Padding");
      //encrypt the public key
      cipher.init(Cipher.ENCRYPT_MODE, publicKey);
      byte[] ciphertext = cipher.doFinal(msg);
      String send = new String(ciphertext, "UTF-8");

      bw.write(send);
      bw.newLine();bw.flush();
      text.setText("");
    }catch(Exception x){}
  }

} 
```

请帮我！对你的帮助表示感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T10:40:47.597

Bad padding Exception 通常表明解密失败。

可能的原因：

1.  使用了错误的解密密钥
2.  密文已更改
3.  使用了错误的填充算法

在您的情况下，很可能是选项 2 - 更改的密文，因为您正在将二进制密文转换为字符串。字符串仅用于可打印字符！

将密文作为字节数组发送，看看它是否能解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T10:33:33.027

您将密文视为字符串。密文的每个字节都可以包含任何值。这可能会导致数据丢失，因为并非每个字节值都可能在字符串中具有代表字符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-11T01:33:34.210

我将添加另一个原因来说明如何获得 Bad Padding 异常。这是一个愚蠢的愚蠢理由，但我不小心这样做了，你最终会走上错误的道路来试图解决它。

当我解密文本时，我忘记将密码传递给要解密的文本。因此，当您调用 cipher.doFinal() 时，您会得到一个 Bad Padding 异常。

# blackberry - JVM 错误 545 黑莓模拟器 9981 中的文件系统不兼容或损坏

> ID：14556591
> 
> 赞同：2
> 
> 时间：2013-01-28T06:29:25.983
> 
> 标签：blackberry, blackberry-simulator, blackberry-jde

在使用黑莓 5.0 在 9981 模拟器上编译我的项目时。它显示错误，如“JVM 错误 545 不兼容或损坏的文件系统。我什至看不到模拟器的第一个屏幕。谁能告诉我这个错误的原因是什么以及如何解决这个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-30T16:32:00.247

我遇到过 5xx 系列错误（在设备上没有在模拟器上测试过），确切地说是*507*和*523*

*   *当 .cod 文件未通过 app-loader 正确加载时出现*507**

**   *523*关键 Java 进程被杀死* 

 *但是在完全擦除操作系统后，一切都恢复正常了，结果表明操作系统已损坏或多次重新安装留下了一些划痕……我建议检查您的堆栈跟踪或将其粘贴到此处*

# r - R用列表列重塑融化的data.table

> ID：14556593
> 
> 赞同：5
> 
> 时间：2013-01-28T06:29:31.790
> 
> 标签：r, data.table, bigdata, reshape

我有一个大的（数百万行）`data.table`与通常的`melt`- 风格展开在`variable`和`value`列中融化。我需要以广泛的形式投射表格（向上滚动变量）。问题是数据表还有一个名为 的列表列`data`，我需要保留它。这使得它无法使用`reshape2`，因为`dcast`无法处理非原子列。因此，我需要自己做卷起。

[由于列表列的原因，上一个关于使用融化数据表的问题](https://stackoverflow.com/questions/13968579/fast-melted-data-table-operations)的答案在这里不适用。

我对我提出的解决方案不满意。我正在寻找更简单/更快实施的建议。

```
x <- LETTERS[1:3]
dt <- data.table(
  x=rep(x, each=2),
  y='d',
  data=list(list(), list(), list(), list(), list(), list()),
  variable=rep(c('var.1', 'var.2'), 3),
  value=seq(1,6)
  )

# Column template set up
list_template <- Reduce(
  function(l, col) { l[[col]] <- col; l }, 
  unique(dt$variable),
  list())

# Expression set up
q <- substitute({
  l <- lapply(
    list_template, 
    function(col) .SD[variable==as.character(col)]$value)
  l$data = .SD[1,]$data
  l
}, list(list_template=list_template))

# Roll up
dt[, eval(q), by=list(x, y)]

   x y var.1 var.2   data
1: A d     1     2 <list>
2: B d     3     4 <list>
3: C d     5     6 <list> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T11:29:42.297

我有一些作弊方法可以解决问题 - 重要的是，我假设每个 x,y,list 组合都是独一无二的！如果不是，请无视。

我将创建两个单独的数据表，第一个是 dcasted 没有数据列表对象，第二个只有唯一的数据列表对象和一个键。然后将它们合并在一起以获得所需的结果。

```
require(data.table)
require(stringr)
require(reshape2)

x <- LETTERS[1:3]
dt <- data.table(
  x=rep(x, each=2),
  y='d',
  data=list(list("a","b"), list("c","d")),
  variable=rep(c('var.1', 'var.2'), 3),
  value=seq(1,6)
  )

# First create the dcasted datatable without the pesky list objects:
dt_nolist <- dt[,list(x,y,variable,value)]
dt_dcast <- data.table(dcast(dt_nolist,x+y~variable,value.var="value")
                       ,key=c("x","y"))

# Second: create a datatable with only unique "groups" of x,y, list
dt_list <- dt[,list(x,y,data)]

# Rows are duplicated so I'd like to use unique() to get rid of them, but
# unique() doesn't work when there's list objects in the data.table.
# Instead so I cheat by applying a value to each row within an x,y "group" 
# that is unique within EACH group, but present within EVERY group.
# Then just simply subselect based on that unique value.
# I've chosen rank(), but no doubt there's other options

dt_list <- dt_list[,rank:=rank(str_c(x,y),ties.method="first"),by=str_c(x,y)]

# now keep only one row per x,y "group"
dt_list <- dt_list[rank==1]
setkeyv(dt_list,c("x","y"))

# drop the rank since we no longer need it
dt_list[,rank:=NULL]

# Finally just merge back together
dt_final <- merge(dt_dcast,dt_list) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-07-20T18:26:12.747

这个老问题激起了我的好奇心，因为`data.table`它自 2013 年以来得到了显着改善。

然而，即使是`data.table`1.11.4 版本

```
dcast(dt, x + y + data ~ variable) 
```

仍然返回错误

> 公式中指定的列不能是列表类型

解决方法遵循[jonsedar 回答](https://stackoverflow.com/a/16607887/3817004)的大致轮廓：

1.  将非列表列从长格式重塑为宽格式
2.  聚合按and`data`分组的列表列`x``y`
3.  将两个部分结果加入`x`和`y`

但使用实际`data.table`语法的特征，例如，`on`参数：

```
dcast(dt, x + y ~ variable)[
  dt[, .(data = .(first(data))), by = .(x, y)], on = .(x, y)] 
```

> ```
>  x y var.1 var.2   data
> 1: A d     1     2 <list>
> 2: B d     3     4 <list>
> 3: C d     5     6 <list> 
> ```

`data`通过获取第一个元素来聚合列表列。这符合 OP 的代码行

```
l$data = .SD[1,]$data 
```

这也选择了第一个元素。

# iphone - UIAnimation not showing

> ID：14556601
> 
> 赞同：0
> 
> 时间：2013-01-28T06:29:59.990
> 
> 标签：iphone, ios, objective-c, xcode

I have used this code:

```
[[self.view viewWithTag:100] setTransform:CGAffineTransformMakeScale(0.009, 0.009)];
UIView beginAnimations:nil context:NULL];
[UIView setAnimationDuration:0.5];
[UIView setAnimationRepeatAutoreverses:NO];
[UIView setAnimationRepeatCount:0];
[[self.view viewWithTag:100] setTransform:CGAffineTransformMakeScale(1, 1)];
[UIView commitAnimations]; 
```

in `viewWillAppear` of my popup view. The code works fine on simulator and produces nice effect in which my view appears to grow from center, however on device the animation effect is absent its more like sleep of 0.5 and then all off a sudden view appears.

Since this view is used liberally i don't want to increase duration any help?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:46:32.080

实际上，代码示例适用于我`viewDidLoad`和 `viewWillAppear`.Increased 时间和动画在这里工作正常。为什么要使用这种方法？Apple 提供了一种新的、更好的技术来制作视图动画。

尝试这个

```
[[self.view viewWithTag:100] setTransform:CGAffineTransformMakeScale(0.009, 0.009)];
    [UIView animateWithDuration:10.5 animations:^{
        [[self.view viewWithTag:100] setTransform:CGAffineTransformMakeScale(1, 1)];
    }]; 
```

# c# - While trying to upload image of 50kb size using wcf , shows error 'The remote server returned an unexpected response: (400) Bad Request.'

> ID：14556604
> 
> 赞同：1
> 
> 时间：2013-01-28T06:30:22.423
> 
> 标签：c#, wcf, file-upload, exception-handling

My server config file:

```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <security>
      <requestFiltering>
        <requestLimits maxAllowedContentLength="500000000"></requestLimits>
      </requestFiltering>
    </security>
  </system.webServer>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="HttpEndpointBinding" receiveTimeout="00:10:30" maxBufferPoolSize="2147483647" maxReceivedMessageSize="2147483647" maxBufferSize="524288">
          <readerQuotas maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxDepth="2147483647" maxNameTableCharCount="2147483647" maxStringContentLength="2147483647" />
          <security mode="None"/>
        </binding>
      </basicHttpBinding>
    </bindings>
    <services>
      <service   name="mobservice.ImobService">
        <endpoint address="" binding="basicHttpBinding" contract="mobservice.ImobService" bindingConfiguration="HttpEndpointBinding" name="BasicHttpBinding_MobileService">
          <identity>
            <dns value="localhost" />
          </identity>
        </endpoint>
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior >
          <serviceMetadata httpGetEnabled="true" httpGetUrl="" />
          <serviceDebug includeExceptionDetailInFaults="true" httpHelpPageEnabled="true" httpHelpPageUrl="" />
          <dataContractSerializer maxItemsInObjectGraph="60000000"/>
        </behavior>
      </serviceBehaviors>
      <endpointBehaviors>
        <behavior name="">
          <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        </behavior>
      </endpointBehaviors>
    </behaviors>
  </system.serviceModel>
</configuration> 
```

My client config file:

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <modules runAllManagedModulesForAllRequests="true" />
    <handlers>
      <remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" />
      <remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" />
      <remove name="ExtensionlessUrlHandler-Integrated-4.0" />
      <add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness32" responseBufferLimit="0" />
      <add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" modules="IsapiModule" scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll" preCondition="classicMode,runtimeVersionv4.0,bitness64" responseBufferLimit="0" />
      <add name="ExtensionlessUrlHandler-Integrated-4.0" path="*." verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS" type="System.Web.Handlers.TransferRequestHandler" preCondition="integratedMode,runtimeVersionv4.0" />
    </handlers>
  </system.webServer>
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_ImobService"  sendTimeout="00:10:30" maxBufferSize="250000000" maxBufferPoolSize="250000000" maxReceivedMessageSize="250000000">
          <readerQuotas maxDepth="4500000" maxStringContentLength="4500000" maxArrayLength="4500000" maxBytesPerRead="40960000" maxNameTableCharCount="250000000" />
          <security mode="None">
            <transport clientCredentialType="None" proxyCredentialType="None" realm="" />
            <message clientCredentialType="UserName" algorithmSuite="Default" />
          </security>
        </binding>
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://anishk.india-powai.orioninc.com/mobservice/MobService.svc" binding="basicHttpBinding" bindingConfiguration="BasicHttpBinding_ImobService" contract="MobileService.ImobService" name="BasicHttpBinding_ImobService" />
    </client>
  </system.serviceModel>
</configuration> 
```

Service contract:

```
[OperationContract]
void InsertEmployeeData(EmployeeDetail empName); 
```

Method definition:

```
public void InsertEmployeeData(EmployeeDetail empName)
{
    ctx.EmployeeDetails.AddObject(empName);
    ctx.SaveChanges();
} 
```

Call from client:

```
EmployeeDetail data = new EmployeeDetail();
data.EmployeeName = collection.Get("EmployeeName");
data.Designation = collection.Get("Designation");
data.EmailID = collection.Get("EmailID");
data.City = collection.Get("City");
data.State = collection.Get("State");
data.Country = collection.Get("Country");               
data.Photo = ConvertImage(@"E:\Anish\S6M0.png");
conn.InsertEmployeeData(data); 
```

while trying to pass EmployeeDetail object with photo as byte array to wcf service gets exception. Image with 6kb gets inserted .but image with size 50 kb throws exception:

> The remote server returned an unexpected response: (400) Bad Request.

But i need to do with image size up to 2 mb.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T09:06:52.530

尝试在您的`web.config`文件中启用调试。这将为您提供更有意义的错误消息，而不仅仅是`(400) Bad Request`.

`<configuration>`在您的标签下添加此 XML 片段：

```
<system.web>
  <customErrors mode="Off"/>
  <trace enabled="true" localOnly="false"> 
  <compilation debug="true"/>
</system.web> 
```

然后再试一次。

完成后不要忘记删除调试标志，因为[在生产环境中使用它们是一个安全漏洞](http://dotnetstories.wordpress.com/2007/10/13/the-worst-5-mistakes-in-the-webconfig-file/)。

# objective-c - 在此块中强烈捕获自我可能会导致保留周期

> ID：14556605
> 
> 赞同：215
> 
> 时间：2013-01-28T06:30:23.733
> 
> 标签：objective-c, cocoa-touch, automatic-ref-counting, avplayer, retain

如何在 xcode 中避免此警告。这是代码片段：

```
[player(AVPlayer object) addPeriodicTimeObserverForInterval:CMTimeMakeWithSeconds(0.1, 100)
queue:nil usingBlock:^(CMTime time) {
    current+=1;

    if(current==60)
    {
        min+=(current/60);
        current = 0;
    }

    [timerDisp(UILabel) setText:[NSString stringWithFormat:@"%02d:%02d",min,current]];///warning occurs in this line
}]; 
```

* * *

## 回答 #1

> 赞同：522
> 
> 时间：2013-01-28T06:39:16.963

这里的捕获`self`来自于您的隐式属性访问-`self.timerDisp`您不能在将被.`self``self``self`

`self`您可以通过在访问`timerDisp`块之前创建一个弱引用来解决此问题：

```
__weak typeof(self) weakSelf = self;
[player addPeriodicTimeObserverForInterval:CMTimeMakeWithSeconds(0.1, 100)
                                     queue:nil
                                usingBlock:^(CMTime time) {
                                                current+=1;

                                                if(current==60)
                                                {
                                                    min+=(current/60);
                                                    current = 0;
                                                }

                                                 [weakSelf.timerDisp setText:[NSString stringWithFormat:@"%02d:%02d",min,current]];
                                            }]; 
```

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2013-02-18T16:22:01.430

```
__weak MyClass *self_ = self; // that's enough
self.loadingDidFinishHandler = ^(NSArray *receivedItems, NSError *error){
    if (!error) {
       [self_ showAlertWithError:error];
    } else {
       self_.items = [NSArray arrayWithArray:receivedItems];
       [self_.tableView reloadData];
    }
}; 
```

还有一件非常重要的事情要记住：不要直接在块中使用实例变量，将其用作弱对象的属性，示例：

```
self.loadingDidFinishHandler = ^(NSArray *receivedItems, NSError *error){
        if (!error) {
           [self_ showAlertWithError:error];
        } else {
           self_.items = [NSArray arrayWithArray:receivedItems];
           [_tableView reloadData]; // BAD! IT ALSO WILL BRING YOU TO RETAIN LOOP
        }
 }; 
```

并且不要忘记这样做：

```
- (void)dealloc {
    self.loadingCompletionHandler = NULL;
} 
```

如果您将传递不被任何对象保留的弱副本，则可能会出现另一个问题：

```
MyViewController *vcToGo = [[MyViewCOntroller alloc] init];
__weak MyViewController *vcToGo_ = vcToGo;
self.loadingCompletion = ^{
    [vcToGo_ doSomePrecessing];
}; 
```

如果`vcToGo`将被释放然后这个块被触发我相信你会因为无法识别的选择器崩溃到`vcToGo_`现在包含变量的垃圾箱。试着控制它。

* * *

## 回答 #3

> 赞同：47
> 
> 时间：2014-05-13T10:40:33.560

## 更好的版本

```
__strong typeof(self) strongSelf = weakSelf; 
```

> 创建对该弱版本的强引用作为块中的第一行。如果当块开始执行时 self 仍然存在并且没有回退到零，则此行确保它在整个块的执行生命周期中持续存在。

所以整个事情会是这样的：

```
// Establish the weak self reference
__weak typeof(self) weakSelf = self;

[player addPeriodicTimeObserverForInterval:CMTimeMakeWithSeconds(0.1, 100)
                                 queue:nil
                            usingBlock:^(CMTime time) {

    // Establish the strong self reference
    __strong typeof(self) strongSelf = weakSelf;

    if (strongSelf) {
        [strongSelf.timerDisp setText:[NSString stringWithFormat:@"%02d:%02d",min,current]];
    } else {
        // self doesn't exist
    }
}]; 
```

我已经多次阅读这篇文章。这是**Erica Sadun**撰写的一篇关于 [如何在使用块和 NSNotificationCenter 时避免问题的优秀文章](http://www.informit.com/articles/article.aspx?p=2207347 "使用块和 NSNotificationCenter 时如何避免问题")

* * *

## 快速更新：

例如，在 swift 中，一个带有成功块的简单方法是：

```
func doSomeThingWithSuccessBlock(success: () -> ()) {
    success()
} 
```

当我们调用这个方法并且需要`self`在成功块中使用时。我们将使用**`[weak self]`**和**`guard let`**功能。

```
 doSomeThingWithSuccessBlock { [weak self] () -> () in
        guard let strongSelf = self else { return }
        strongSelf.gridCollectionView.reloadData()
    } 
```

这种所谓的强弱舞蹈被流行的开源项目使用**`Alamofire`**。

有关更多信息，请查看[swift-style-guide](https://github.com/raywenderlich/swift-style-guide/blob/master/README.markdown)

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2013-03-25T00:51:23.050

在另一个答案中，蒂姆说：

> 您不能在将由 self 强烈保留的块中引用 self 或 self 上的属性。

这并不完全正确。只要您在某个时候打破循环，您就可以这样做。例如，假设您有一个触发的计时器，它有一个保留 self 的块，并且您还在 self 中保留了对计时器的强引用。如果你总是知道你会在某个时候破坏计时器并打破循环，这很好。

就我刚才的情况而言，我收到了以下代码的警告：

```
[x setY:^{ [x doSomething]; }]; 
```

现在我碰巧知道，只有当它检测到方法以“set”开头时，clang 才会产生这个警告（以及另一种我不会在这里提到的特殊情况）。对我来说，我知道没有保留循环的危险，所以我将方法名称更改为“useY：”当然，这可能并不适用于所有情况，通常你会想要使用弱引用，但是我认为值得注意我的解决方案，以防它帮助其他人。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2019-01-24T21:55:19.287

很多时候，**这实际上并不是一个保留周期**。

如果你知道它不是，你就不需要把毫无结果的弱者带到这个世界上。

Apple 甚至*通过*`UIPageViewController`其.你无疑会提到你自己）。

 *这是一些编译器指令，用于从那一行代码中删除警告：

```
#pragma GCC diagnostic push
#pragma clang diagnostic ignored "-Warc-retain-cycles"
    [self.pageViewController setViewControllers:@[newViewController] direction:navigationDirection animated:YES completion:^(BOOL finished) {
        // this warning is caused because "setViewControllers" starts with "set…", it's not a problem
        [self doTheThingsIGottaDo:finished touchThePuppetHead:YES];
    }];
#pragma GCC diagnostic pop 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-12-22T18:54:04.073

在提高精度和风格上增加两分钱。在大多数情况下，您只会`self`在此块中使用一个或几个成员，很可能只是为了更新滑块。选角`self`是多余的。相反，最好是明确的并且**只**在块内转换您真正需要的对象。例如，如果它是 的实例`UISlider*`，比如说`_timeSlider`，，只需在块声明之前执行以下操作：

```
UISlider* __weak slider = _timeSlider; 
```

然后只需`slider`在块内使用。从技术上讲，这更精确，因为它将潜在的保留周期缩小到只有您需要的对象，而不是内部的所有对象`self`。

完整示例：

```
UISlider* __weak slider = _timeSlider;
[_embeddedPlayer addPeriodicTimeObserverForInterval:CMTimeMake(1, 1)
     queue:nil
     usingBlock:^(CMTime time){
        slider.value = time.value/time.timescale;
     }
]; 
```

此外，被强制转换为弱指针的对象很可能已经是内部的弱指针`self`，并且可以最大限度地减少或完全消除保留周期的可能性。在上面的例子中，`_timeSlider`实际上是一个存储为弱引用的属性，例如：

```
@property (nonatomic, weak) IBOutlet UISlider* timeSlider; 
```

就编码风格而言，与 C 和 C++ 一样，变量声明最好从右到左阅读。按此顺序声明`SomeType* __weak variable`从右到左读起来更自然：`variable is a weak pointer to SomeType`.

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2018-12-17T22:57:47.073

我最近遇到了这个警告，想更好地理解它。经过一番反复试验，我发现它源于一个方法以“添加”或“保存”开头。Objective C 将以“new”、“alloc”等开头的方法名称视为返回一个保留对象，但没有提及（我可以找到）任何关于“add”或“save”的内容。但是，如果我以这种方式使用方法名称：

```
[self addItemWithCompletionBlock:^(NSError *error) {
            [self done]; }]; 
```

我将在 [self done] 行看到警告。但是，这不会：

```
[self itemWithCompletionBlock:^(NSError *error) {
    [self done]; }]; 
```

我将继续使用“__weak __typeof(self)weakSelf = self”方式来引用我的对象，但我真的不喜欢这样做，因为它会混淆未来的我和/或其他开发人员。当然，我也不能使用“添加”（或“保存”），但这更糟，因为它带走了方法的含义。*

# sql-server-2008 - subquery to get items with minimum rate

> ID：14556606
> 
> 赞同：0
> 
> 时间：2013-01-28T06:30:35.107
> 
> 标签：sql-server-2008

i have lets say 100 items that can be brought from 100 stores,i need a query that will give list of items found with minimum rate when search with store's name,suppose i select store name X then it should return list of items where rate is cheapest in the market.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T08:16:35.313

你所说的“率”是什么意思？如果是价格，这是我的答案。

我假设您有以下表格：

存储（Id INT，标题 VARCHAR(100)）

项目（Id INT、Title VARCHAR(100)、StoreId INT、价格 NUMERIC(19,2)）

您的查询应如下所示：

```
SELECT i.Title, i.Price
FROM dbo.Item i
INNER JOIN dbo.Store s ON s.Id = i.StoreId
WHERE s.Title = 'Store name'
ORDER BY i.Price 
```

# windows-phone-7 - 如何在 windows phone 8 应用程序中创建本地数据库？

> ID：14556607
> 
> 赞同：2
> 
> 时间：2013-01-28T06:30:42.733
> 
> 标签：windows-phone-7, windows-phone-7.1, windows-phone-8, local-database

嗨，我是 windows phone 8 开发的新手，

我正在开发一个需要在应用程序的本地数据库中存储大量数据的应用程序。

1) 我能知道在本地数据库中创建和存储数据的最可靠选项是什么吗？

2) 在 windows phone 8 应用程序中创建本地数据库有哪些可用的选项？

我要求请让我知道。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T08:57:24.000

我无法回答哪个最可靠，但如果你想使用内置数据库，你应该使用 LINQ to SQL。请参阅[Windows Phone 的本地数据库](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202860%28v=vs.105%29.aspx "Windows Phone 的本地数据库")。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T08:03:17.013

使用 SQLite

[在 Windows Phone 8 中使用 SQLite：移动端的 sqlite-net 版本](http://wp.qmatteoq.com/working-with-sqlite-in-windows-phone-8-a-sqlite-net-version-for-mobile/?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3a%20qmatteoq_eng%20%28qmatteoq.com%29&utm_content=Google%20Reader)

[sqlite-net-wp](https://github.com/peterhuene/sqlite-net-wp8)

还有[Sterling](http://sterling.codeplex.com/)，我认为没有 WP8 版本，但创建一个版本并不难。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-05T10:32:55.817

也许你应该试试[iboxdb.net](https://iboxdb.codeplex.com/)，[在pc上有一个测试存储大量数据](https://iboxdb.codeplex.com/wikipage?title=Benchmark%20with%20MongoDB&referringTitle=Home)，它可以在windows phone 8上运行，包括一个net2.0版本，可以在android上运行mono

# python - Create a buffer in python

> ID：14556608
> 
> 赞同：6
> 
> 时间：2013-01-28T06:30:43.157
> 
> 标签：python, buffer

I do not have much experience with Python and need to figure out a few things regarding buffering:

I want to generate a list in which I can allocate a certain amount of "buffer" space (do not know the specifics on this), to generate a list of integers. If the 'buffer' gets full I'm assuming it needs a flush command? Or how would you clear the buffer to continue putting things into that buffer?

**Here is a sample of my code:**

```
for i in range(0,500):
    randoms = random.randint(0,100000)
    looplist.append(randoms) 
```

What I would want is in looplist, to be a sort of buffer I assume? in which if the maximum buffer space in looplist gets full, it would need to clear out (is there a pause during that time? or what happens) the list to continue re-generating integers to that list/ buffer.

**Part 2 question:** Would like explanation as simple of how a buffer could work for python? or does memory management of python just disable need to allocate own buffers? (can we still do it if we want too?)

I will edit my question if it seems to broad scope, trying to be as descriptive as I know how.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T07:08:22.920

在 Python 中，您不必关心内存管理。您不需要保留“缓冲区”，只需分配您想要的变量并使用它们。

如果分配太多（对于您的 RAM），您可能会遇到`MemoryError`s，表明您没有足够的内存。

不过，您可以使用 Queue 作为某种缓冲区，例如

```
import random
from Queue import Queue, Full

q = Queue(100)

for i in range(10):
    #fill queue
    while True:
        try:
            q.put_nowait(random.randint(1,10))
        except Full:
            break
    #take some values from queue
    print "Round", i,
    number_of_values_to_get = random.randint(0,20)
    print "getting %i values." % number_of_values_to_get
    for j in range(number_of_values_to_get):
        value = q.get()
        print "  got value", value 
```

我创建了一个大小为 100 的队列，即其中最多可以存储 100 个条目。如果你试图放入一个完整的队列，它会引发相应的异常，所以你最好抓住它。（这仅在您使用`put_nowait`或`put`超时时为真，请查看文档以获取更多详细信息。）

在这个例子中，十轮，我填充 100 个随机整数的“缓冲区”（队列）。然后，我从这个缓冲区中选择 0 到 20 个值并打印它们。

我希望这有帮助。队列的主要用例是多线程程序执行，它们是线程安全的。所以也许你会想从一个线程填充队列并从另一个线程读取它。如果您不想要多线程，`collections.deque`可能是一个更快的选择，但它们不是线程安全的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:35:00.223

每当队列/列表大小足够大时，使用队列/列表并使索引在先进先出的基础上下降

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:09:29.120

如果我理解正确，您是在问 Python 是否会为您管理列表的内存。答案是肯定的，您可以继续将项目附加到列表中，Python 会根据需要增加列表（当然，如果您无限期地继续追加，您将耗尽内存）。

我认为您也对限制这一点的方法感兴趣，因此您可以确保您的列表不会超出限制。如果是这种情况，您可能需要查看[`collections.deque`](http://docs.python.org/2/library/collections.html#collections.deque)对象。

例如：

```
import random
from collections import deque

def test_queue(max_size=10):
    d = deque([], max_size)
    for i in xrange(1, 2*max_size):
        r = random.randint(0, 100000)
        d.append(r)
        print 'i=%d, len=%d r=%d' % (i, len(d), r)

    while d:
        print d.popleft() 
```

上述功能将确保`deque`您创建的对象不会超过`max_size`元素。如果您向 中添加更多元素`deque`，将自动删除最旧的元素。这是上述函数的示例运行：

```
i=1, len=1 r=83870
i=2, len=2 r=12432
i=3, len=3 r=87084
i=4, len=4 r=3485
i=5, len=5 r=12237
i=6, len=6 r=81401
i=7, len=7 r=24990
i=8, len=8 r=21391
i=9, len=9 r=34153
i=10, len=10 r=63651
i=11, len=10 r=96305
i=12, len=10 r=46671
i=13, len=10 r=19288
i=14, len=10 r=40170
i=15, len=10 r=45399
i=16, len=10 r=94032
i=17, len=10 r=57749
i=18, len=10 r=68440
i=19, len=10 r=59726
63651
96305
46671
19288
40170
45399
94032
57749
68440
59726 
```

# java - Guice FactoryModuleBuilder 用于输入列表

> ID：14556613
> 
> 赞同：0
> 
> 时间：2013-01-28T06:31:11.223
> 
> 标签：java, guice, assisted-inject

我使用了 Guice 辅助注入和 FactoryModuleBuilder 来帮助构建适配器类，其中一个类包装另一个类。

```
class MyClassWrapper implements SomeInterface {

  interface MyClassWrapper.Factory {
    MyClassWrapper create(MyClass myClass, Database db);
  }

  // ...

  @Inject
  private MyClassWrapper(@Assisted MyClass myClass, @Assisted Database db) {
    // ...
  }
} 
```

假设我想向 MyClassWrapper.Factory 接口添加另一个方法签名：

```
List<MyClassWrapper> create(List<MyClass> myClass, Database db); 
```

FactoryMethodBuilder 可以确定我想从 MyClass 对象列表中构造一个 MyClassWrapper 对象列表吗？还是我需要手动编写工厂方法实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T19:36:29.893

我不认为 Guice 支持这个作为内置的，但你可以通过注入`Provider`你需要的所有东西来编写你自己的。（您没有列出任何非`@Assisted`依赖项；请记住，您可能根本不需要在这里使用 Guice。）

您可能还考虑编写一个静态方法，该方法接收您的`Factory`并在其上调用 Guice 创建的实现，但您可能会失去可读性和理解您在简洁代码中获得的东西。

# ubuntu-12.04 - bzrlib version doesn't match the bzr program

> ID：14556616
> 
> 赞同：1
> 
> 时间：2013-01-28T06:31:54.870
> 
> 标签：ubuntu-12.04, bazaar

I have just upgrade ubuntu from 10.04 - 12.04 When I used bzr to update repo it has problem

```
 ~/source_code/openerputils/devenvsetup$ bzr status
bzr: WARNING: bzrlib version doesn't match the bzr program.
This may indicate an installation problem.
bzrlib from ['/usr/lib/python2.7/dist-packages/bzrlib'] is version (2, 5, 0, 'final', 0) 
```

I remove bzr by sudo apt-get purge bzr and bzrlib but it doesn't work.

Thank in advance!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T15:33:43.957

你确定你使用的是系统版本的 bzr 脚本。做：

```
$ which bzr 
```

返回类似：

```
/usr/bin/bzr 
```

# android - Android - how to specify the width to menu items in actionbar for displaying the menu items in Over flow button

> ID：14556617
> 
> 赞同：1
> 
> 时间：2013-01-28T06:31:53.813
> 
> 标签：android, android-actionbar, menuitem

I have implemented an action bar for displaying the menu items. So I have given `android:showAsAction="always"` for 3 menu items and `android:showAsAction="withtext"` for other 4 menu items which I want to display inside an over-flow menu.

But these items are displaying in menu panel when i run the code in devices running android below 3.0 versions. Sometimes these are displaying the action bar also if i run the code in large screen display devices. How can i restrict the width for menu items to adjust in all screen resolutions ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:51:15.110

如果您想在溢出菜单中显示某些项目，请使用`android:showAsAction="ifRoom"`menu.xml 中的那些特定菜单项。

请注意，如果目标设备具有专用/硬菜单按钮，您将无法根据文档在操作栏中看到溢出按钮。 [这](https://stackoverflow.com/questions/10851462/forcing-overflow-menu-button-on-android)也将帮助你..

**编辑**

如果设备没有硬按钮，这将为您提供溢出菜单。如果即使您有硬按钮也想显示溢出菜单，请尝试以下操作：

```
try {
      ViewConfiguration config = ViewConfiguration.get(this);
Field menuKeyField = ViewConfiguration.class.getDeclaredField("sHasPermanentMenuKey");
                if(menuKeyField != null) {
                    menuKeyField.setAccessible(true);
                    menuKeyField.setBoolean(config, false);
                }
            } catch (Exception ex) {
                // Ignore
            } 
```

这是一个小技巧，它将迫使设备忽略硬菜单按钮。

查看以下代码。此实现将仅在操作栏中显示第 4 项，而在溢出菜单中显示其他项。发生这种情况是因为它是 Show_As_Always 提供的唯一一个。

```
@Override
    public boolean onCreateOptionsMenu(Menu menu)
    {
       menu.add(0, 2, 0, "Item 1").setShowAsAction(MenuItem.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW);
       menu.add(0, 2, 0, "Item 2").setShowAsAction(MenuItem.SHOW_AS_ACTION_WITH_TEXT);
       menu.add(0, 2, 0, "Item 3").setShowAsAction(MenuItem.SHOW_AS_ACTION_WITH_TEXT);
       menu.add(0, 2, 0, "Item 4").setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);
       menu.add(0, 2, 0, "Item 5").setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);

       return true;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-10T23:19:44.220

如果要以编程方式添加，请使用以下命令：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    menu.add(0, 1, 0, "Item #1").setShowAsAction(MenuItem.SHOW_AS_ACTION_NEVER);
    menu.add(0, 2, 0, "Item #2").setShowAsAction(MenuItem.SHOW_AS_ACTION_NEVER);
    return true;
} 
```

您还可以通过菜单 XML 添加项目：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >
    <item
        android:id="@+id/your_id_1"
        android:showAsAction="never"
        android:title="Item #1"/>

    <item
        android:id="@+id/your_id_2"
        android:showAsAction="never"
        android:title="Item #2"/>

</menu> 
```

# php - 创建从 PHP 到 Delphi 的应用程序打印队列

> ID：14556619
> 
> 赞同：2
> 
> 时间：2013-01-28T06:32:03.703
> 
> 标签：php, delphi, printing, ms-word, delphi-xe

我正忙着用 PHP 为客户重写一个质押管理系统。它基本上将捐赠者、筹款人、文件和承诺信息存储在数据库中。

在提交每个承诺后，我需要它打印两张发票，以及用户可以选择的任何所需文件。

在正常情况下，我会使用 PHP（顺便说一下，它在 Windows 上的本地服务器上）来打开 Word、打开文档、替换变量、保存和打印。但是，当使用 PHP 时，看不到该过程的进展情况。

因此，我想在 Delphi XE 中编写一个应用程序来为我处理这个问题，并通过自动打印队列在一个小弹出窗口中显示进度。PHP 应用程序在成功将数据插入数据库后，应该运行 Delphi 应用程序，然后打印文档。PHP 只需要以 JSON 或 CSV 格式将所需信息发送到应用程序。

这对我来说是有问题的部分：如何将这些数据放入某种队列中？我考虑过确保 Delphi 应用程序始终处于打开状态，并使用文本文件作为队列（每个作业都有换行符），但我不知道如何完全实现它以使其识别为实时队列。例如，如果应用程序当前正在打印，我如何让它看到另一个项目已同时添加到队列中？

或者，也许有更好的方法来进行队列管理？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T22:20:45.623

考虑使用[ActiveMQ](http://activemq.apache.org/)、[Apollo](http://activemq.apache.org/apollo/)、[HornetQ](http://www.hornetq.org/)或[RabbitMQ](http://rabbitmq.com/)等消息队列。Delphi 有（开源和商业）库，允许通过消息队列交换消息。

PHP 应用程序会将文档（文本或二进制数据）发送到消息队列，例如`/queue/new_pledge`. 消息存储在（ActiveMQ / HornetQ / RabbitMQ）消息代理上并在那里等待，直到 Delphi 客户端连接。如果 Delphi 应用程序连接，它会获取所有待处理的消息，类似于在邮件应用程序中阅读新电子邮件。发送方和客户端不必同时运行（异步操作）。

该解决方案还支持负载平衡：如果接收到的文档多于单个 Delphi 应用程序无法处理的数量，只需在更多计算机上启动其他实例即可。然后队列中的消息将在所有 Delphi 应用程序之间分发。

对于 PHP 端，有消息代理客户端库，它们使用一个名为 STOMP 的简单协议，这些开源消息代理支持该协议。

（我是 Delphi 和 Free Pascal 的[Habari Client](http://www.habarisoft.com/) STOMP 库的作者，它支持五种不同的消息代理）

* * *

ps 操作系统中还有一个消息队列系统：[Microsoft Message Queuing (MSMQ)](http://en.wikipedia.org/wiki/Microsoft_Message_Queuing)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T22:35:13.717

把事情简单化

使用 PHP 将信息发布`json_encode()`到 Indy httpserver [Indy 10 Http Server 示例](https://stackoverflow.com/questions/7131093/indy-10-http-server-sample)

利用 HTTP 协议的优势，而不是重新发明轮子。

使用这个单一单元在 Delphi [http://sourceforge.net/projects/lkjson/中读取 JSON](http://sourceforge.net/projects/lkjson/)

# android - Building an app with google maps/apple maps embedded - need assistance

> ID：14556620
> 
> 赞同：1
> 
> 时间：2013-01-28T06:32:07.290
> 
> 标签：android, ios, google-maps

Apologies if this has already been asked! I have outsourced the development of an app (IOS and Android) that has a maps function built in. When the app is opened it brings up the users current location on a map. The second half of the page is meant to show the actual address, and nearby addresses.

Example

10 Commerce Street, Auckland, NZ 9 Commerce Street, Auckland, NZ 1/11 Commerce Street, Auckland, NZ Mobil Petrol Station, 12 Commerce Street, Auckland, NZ

This part doesnt work at all and is only showing landmarks. The email from the devloper states

"The project we are using given url for finding nearst location. we already have done a lot of R&D and found that below url better than others. if you suggest any other url then plz let me know.

[http://ws.geonames.org/findNearbyJSON?lat=&lng=&radius=](http://ws.geonames.org/findNearbyJSON?lat=&lng=&radius=)"

This URL still only has placemarks.

I really need help! Ive seen it done in other apps and I was hoping it was something google offered. Basically im hoping for an API that I can send to the developer to use.

I am not a technical person at all so hope this makes a little sense :)

Thanks heaps in advance

James

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:35:04.043

Google Maps API 可以做到这一点！它被称为“地理编码”。[您可以在https://developers.google.com/maps/](https://developers.google.com/maps/)找到更多信息和 API 参考

（编辑：现在，稍微浏览一下；我认为你应该专门检查“JavaScript API”部分......）

# java - Corruption in uitable header when using setValue on the scrollbar

> ID：14556622
> 
> 赞同：7
> 
> 时间：2013-01-28T06:32:14.730
> 
> 标签：java, matlab, jscrollpane, matlab-uitable, visual-glitch

I am trying to create a table in MATLAB where I can change the scroll position programmatically. I created a `uitable` and extracted the handle of the Java `UITablePeer` object (designated here as `htable`).

I then got the handle for the `UIScrollbarPane` object using:

```
hscroll = htable.getParent.getParent.getVerticalScrollBar 
```

At this point, the figure looks like this (my actual table is more complicated, this is just something I made as an example):

![before](../Images/800c6976446fa84a46098acf8f07f5b4.png)

The box at the lower left corner of the table is a `pushbutton`. When its callback is triggered, it uses the `setValue` method to change the scrollbar location, e.g.

```
hscroll.setValue(10) 
```

After this, the table looks like this:

![After](../Images/e41eee1ce0f7bedd335b23b0416a3ba6.png)

As you can see, the top of the table becomes corrupted. I've tried using the `refresh` function or `repaint` method, but they don't seem to help; the only way to "fix" this is to move another window (by dragging or Alt-Tabbing) such that the table is completely covered, and when I switch back to the table it's OK. Obviously, this isn't really an optimal solution.

Can anyone suggest a way to prevent or fix this?

Thanks

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-08-01T18:52:51.290

这是我的实现（改编自此[代码](http://undocumentedmatlab.com/blog/customizing-listbox-editbox-scrollbars#comment-253396)）：

```
% create a sample table with random data
figure('Menubar','none', 'Position',[400 400 250 300])
h = uitable('Units','normalized', 'Position',[0 0 1 1], ...
    'ColumnName',{'1','2'}, 'Data',num2cell(rand(50,2)>0.5));

% get Java handles
jScroll = findjobj(h, 'class','UIScrollPane');
jView = jScroll.getViewport();
jTable = jView.getView();

% scroll to specified row (make it the top row)
row = 20 - 1;        % 20th row (zero-based index)
jView.setViewPosition(java.awt.Point(0, row * jTable.getRowHeight()))
jScroll.repaint()    % workaround for any visual glitches 
```

每次我尝试时，表格都会正确显示（没有故障）：

![滚动表](../Images/e90796e4a4f327da4ee548579d3edda3.png)

# .net - 使用 .NET 反序列化 JSON 以使用对象（非特定类型）内部字段键入

> ID：14556624
> 
> 赞同：2
> 
> 时间：2013-01-28T06:32:16.027
> 
> 标签：.net, json, oop

相关问题：[JSON.NET - 将 JSON 反序列化为对象，该类类型在内部字段中](https://stackoverflow.com/questions/11313793/json-net-deserialize-json-into-object-which-class-type-is-in-inner-field)（但这是特定于 JSON.NET）

是否有*标准*或*推荐*的反序列化方法，例如：

```
{
  "command" : "register_user",
  "params" : {
    "@c" : "register_params",
    "name" : "sdfsd",
    "email" : "sdfsd@ddkdk",
    "password" : "JDFffJJJd",
    "address" : {
       "postcode" : "12345",
       "street" : "cherry st",
       "number" : "44432",
       "country" : "antarctica"
    }
  }
} 
```

如果我们告诉反序列化器期望一个`Message`类型：

```
class Message
{
  string Command;
  object[] params;
} 
```

似乎没有可以处理这种情况的 JSON 反序列化框架（或其中的文档）。

1.  也许有一个或大多数框架可以简单地扫描程序集中加载的类型以找到最接近的类型？
2.  也许在 JSON 标准中有一个标准字段类型可以帮助反序列化器选择正确的类型？
3.  也许除了手动包含此类帮助程序（在 JSON 字符串和反序列化器逻辑中）之外别无选择？

谢谢

**更新**

对于此处的这个特定示例，隐含的用途是用于 RPC。在我的 RPC 解决方案中，需要将服务器对象绑定到 RPC 系统，并且每个 RPC 方法的 MethodInfo 都被缓存 - 因此每个参数的类型确实可以从 MethodInfo 输入到 JSON 反序列化器中。尽管如此，这个问题仍然是相关的，例如，如果图形变得更深，对象更复杂，那么即使这样也不够。此外，我确信这个问题已经/将会/在 RPC 案例之外遇到。所有的答案都可能是新奇的，我会简单地选择我认为*最好*的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:05:26.003

您可以将自定义`SerializationBinder`与 JSON.NET 和`$type`属性一起使用。

举个例子：

```
public class TypeNameSerializationBinder : SerializationBinder
{
    public string TypeFormat { get; private set; }

    public TypeNameSerializationBinder(string typeFormat)
    {
        TypeFormat = typeFormat;
    }

    public override void BindToName(Type serializedType, out string assemblyName, out string typeName)
    {
        assemblyName = null;
        typeName = serializedType.Name;
    }

    public override Type BindToType(string assemblyName, string typeName)
    {
        var resolvedTypeName = string.Format(TypeFormat, typeName);
        return Type.GetType(resolvedTypeName, true);
    }
} 
```

现在让我们假设您有以下 JSON：

```
{
  "command" : "register_user",
  "params" : {
    "$type" : "Person",
    "name" : "sdfsd",
    "email" : "sdfsd@ddkdk",
    "password" : "JDFffJJJd",
    "address" : {
       "postcode" : "12345",
       "street" : "cherry st",
       "number" : "44432",
       "country" : "antarctica"
    }
  }
} 
```

并且您在程序集中有以下模型`BarBaz`：

```
namespace FooBar
{
    public class Person
    {
        public string Name { get; set; }
        public string Email { get; set; }
        public string Password { get; set; }
        public Address Address { get; set; }
    }

    public class Address
    {
        public string Postcode { get; set; }
        public string Street { get; set; }
        public string Number { get; set; }
        public string Country { get; set; }
    }
} 
```

还有一个`Message`类：

```
public class Message
{
    public string Command { get; set; }
    public object Params { get; set; }
} 
```

你可以像这样反序列化它：

```
var settings = new JsonSerializerSettings
{
    Binder = new TypeNameSerializationBinder("FooBar.{0}, BarBaz"),
    TypeNameHandling = TypeNameHandling.All
};
string json = ...
var message = JsonConvert.DeserializeObject<Message>(json, settings);
Debug.Assert(message.Params is Person); 
```

# html - How to pass parameter with post method in page 1 to page 2's get method's iframe

> ID：14556627
> 
> 赞同：1
> 
> 时间：2013-01-28T06:32:33.383
> 
> 标签：html, asp-classic

the goal is to pass value to candidatelogin2.asp's iframe from candidatelogin.asp

```
in candidatelogin.asp

<form  method="POST" action="http://127.0.0.1/hello/candidatelogin2.asp">
can only get hidden textbox value, but can not get visible textbox value in candidatelogin2.asp

<form  method="GET" action="http://127.0.0.1/hello/candidatelogin2.asp">

in candidatelogin2.asp

<form action="http://127.0.0.1/hello/login/Default.aspx?loginTypeValue='CANDIDATE'&loginemail=<

%=request.querystring("loginemail")%>&password=<%=request.querystring("password") %>" method="get" 

target="my_iframe">

<iframe src="http://127.0.0.1/hello/login/Default.aspx?loginTypeValue='CANDIDATE'&loginemail=<

%=request.querystring("loginemail")%>&password=<%=request.querystring("password") %>" width="600" 

height="400"></iframe> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T19:54:32.120

虽然我完全同意所有其他人的观点——在查询字符串中传递用户名和密码是个坏主意——但我至少确实想向您展示它很容易完成。

**第1页.asp**

```
<form  method="GET" action="page2.asp">
Email: <input type=text name=loginemail> <br />
Password: <input type=password name=password> <br />
<input type=submit>
</form> 
```

**Page2.asp**

```
<iframe src="page3.asp?loginemail=<%=request("loginemail")%>&password=<%=request("password")%>">
<iframe> 
```

**Page3.asp**

```
Contents of IFrame: <br />

<%
response.write request("loginemail")
response.write request("password")
%> 
```

但是，您至少应该在 Form 的方法中将 GET 更改为 POST，以将这些变量排除在查询字符串之外。

祝你好运。

# c# - Dynamically change html element from c# code through

> ID：14556630
> 
> 赞同：1
> 
> 时间：2013-01-28T06:32:46.023
> 
> 标签：c#, asp.net, html

I have application which support multilingual. Now I have price page which is geo sensitive so that it might be change over location. I am trying to make one template for Html content and changing value from it based on location specific Value. Change value will be append into original html response.

Can somebody help me for such or it is not possible ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:39:29.143

为了能够访问后面代码（C#/VB.net 代码）中的 html 控件，您需要以下两个步骤：

1.`runat=server`添加到您的 html 控件定义 2.为 html 控件声明一个 id

看下面的例子：

**资源**

```
<input runat="server" id="Text1" type="text" />
<asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text="Button" /> 
```

**代码背后**

```
protected void Button1_Click(object sender, EventArgs e)
{
    Text1.Value = "Mahdi";
} 
```

`Text1`是一个html控件并且`Button1`是一个服务器控件，当你点击`Button1`html文本控件的值会变成“Mahdi”。

# javascript - How do I create HTML navigation using JSON structure

> ID：14556631
> 
> 赞同：2
> 
> 时间：2013-01-28T06:32:57.113
> 
> 标签：javascript, jquery, html, css, json

While I have created basic HTML navigation using Javascript/CSS, I need to create the following navigation using the JSON structure;

So the nav should look like;

![enter image description here](../Images/99aa138a7a61dabedcce84b512c429bf.png)

The JSON structure is as follows;

```
{
   "general":{
      "logo":"assets/images/logo.png",
      "name" : "Company Name"
   },
   "navigation":[
      {
         "title":"Home",
         "link":"index.html"
      },
      {
         "title":"Products",
         "link":"product.html",
         "subnav":[
            {
               "title":"Webapps",
               "link":"products/webapps.html"
            },
            {
               "title":"Mobile Apps",
               "link":"products/mobile-apps.html"
            }
         ]
      }
   ]
} 
```

How do I create the HTML using the JSON structure;

The navigation comprises of data for a multiple level navigation. The placeholder will define where the navigation appears, so it could appear in multiple places also. Also the DOM should be created using JS and JS should be unobtrusive.

Please help me. I am not looking at actual code, but links to similar examples for reference would be really helpful...I just need the steps/hints to achieve it.

Thank you.

Example HTML:

```
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=unicode">
<meta name="Generator" content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
    {font-family:"Cambria Math";
    panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
    {font-family:"Segoe UI";
    panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
    {margin:0in;
    margin-bottom:.0001pt;
    font-size:12.0pt;
    font-family:"Times New Roman",serif;}
a:link, span.MsoHyperlink
    {color:blue;
    text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
    {color:purple;
    text-decoration:underline;}
p
    {margin:0in;
    margin-bottom:.0001pt;
    font-size:10.5pt;
    font-family:"Arial",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
    {margin-top:0in;
    margin-right:0in;
    margin-bottom:0in;
    margin-left:.5in;
    margin-bottom:.0001pt;
    font-size:12.0pt;
    font-family:"Times New Roman",serif;}
p.msonormal0, li.msonormal0, div.msonormal0
    {mso-style-name:msonormal;
    margin:0in;
    margin-bottom:.0001pt;
    font-size:10.5pt;
    font-family:"Arial",sans-serif;}
p.msolistparagraphcxspfirst, li.msolistparagraphcxspfirst, div.msolistparagraphcxspfirst
    {mso-style-name:msolistparagraphcxspfirst;
    margin-top:0in;
    margin-right:0in;
    margin-bottom:0in;
    margin-left:.5in;
    margin-bottom:.0001pt;
    font-size:12.0pt;
    font-family:"Times New Roman",serif;}
p.msolistparagraphcxspmiddle, li.msolistparagraphcxspmiddle, div.msolistparagraphcxspmiddle
    {mso-style-name:msolistparagraphcxspmiddle;
    margin-top:0in;
    margin-right:0in;
    margin-bottom:0in;
    margin-left:.5in;
    margin-bottom:.0001pt;
    font-size:12.0pt;
    font-family:"Times New Roman",serif;}
p.msolistparagraphcxsplast, li.msolistparagraphcxsplast, div.msolistparagraphcxsplast
    {mso-style-name:msolistparagraphcxsplast;
    margin-top:0in;
    margin-right:0in;
    margin-bottom:0in;
    margin-left:.5in;
    margin-bottom:.0001pt;
    font-size:12.0pt;
    font-family:"Times New Roman",serif;}
p.msochpdefault, li.msochpdefault, div.msochpdefault
    {mso-style-name:msochpdefault;
    margin:0in;
    margin-bottom:.0001pt;
    font-size:10.0pt;
    font-family:"Arial",sans-serif;}
.MsoChpDefault
    {font-size:10.0pt;}
@page WordSection1
    {size:8.5in 11.0in;
    margin:1.0in 1.0in 0in 1.0in;}
div.WordSection1
    {page:WordSection1;}
-->
</style>

</head>

<body lang="EN-US" link="blue" vlink="purple">

<div class="WordSection1" style="page: WordSection1;">

<div align="center">

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100.0%;background:white;border-collapse:collapse">
 <tr>
  <td width="100%" valign="top" style="width:100.0%;padding:0in 0in 0in 0in">
  <div align="center">
  <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100.0%;border-collapse:collapse">
   <tr>
    <td width="100%" style="width:100.0%;padding:0in 0in 0in 0in">
    <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100.0%;border-collapse:collapse">
     <tr>
      <td style="background:#E7E6E6;padding:0in 0in 0in 0in">
      <div align="center">
      <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" style="border-collapse:collapse">
       <tr>
        <td width="608" style="width:456.05pt;padding:.75pt .75pt .75pt .75pt">
        <div align="center">
        <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="606" style="width:454.55pt;border-collapse:collapse">
         <tr style="height:472.5pt">
          <td width="100%" style="width:100.0%;background:white;padding:0in 0in 0in 0in;
          height:472.5pt">
          <table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0" width="606" style="width:454.55pt;border-collapse:collapse">
           <tr style="display:none;height:91.8pt">
            <td width="606" style="width:454.55pt;padding:0in 0in 0in 0in;
            height:91.8pt">
            <p style="margin-top: 0in;margin-right: 12.45pt;margin-bottom: .0001pt;margin-left: 10.25pt;margin: 0in;font-size: 10.5pt;font-family: &quot;Arial&quot;,sans-serif;"><span style="font-size:
            10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838;display:
            none">Corporate Account Request<u7:p></u7:p></span><span style="display:none"><u8:p></u8:p><u9:p></u9:p><u10:p></u10:p><u11:p></u11:p><u12:p></u12:p><u13:p></u13:p><u14:p></u14:p><u15:p></u15:p><u16:p></u16:p></span></p>
            </td>
           </tr>
           <tr style="height:17.65pt">
            <td width="606" valign="top" style="width:454.55pt;background:#222B33;
            padding:25.5pt 0in 25.5pt 0in;height:17.65pt">
            <p class="MsoNormal" align="center" style="margin-top: 0in;margin-right: 16.95pt;margin-bottom: .0001pt;margin-left: 46.25pt;text-align: center;text-indent: -31.5pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><u7:p><span style="font-size:16.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;
            color:#E7E6E6"><img width="161" height="36" src="https://marketing-image-production.s3.amazonaws.com/uploads/9e9ac490a745058ed56bbe763644cd76fc608a7dc85d61c0d29a580e7bdd34588ed8b2aea42c524a856597cf5460a1c05dd3abf14743e75be743ef7dc8c4425e.png" alt="Bittrex Logo"></span></u7:p></p>
            </td>
           </tr>
          </table>
          <p class="MsoNormal" align="center" style="margin-top: 0in;margin-right: 16.95pt;margin-bottom: .0001pt;margin-left: 46.25pt;text-align: center;text-indent: -31.5pt;margin: 0in;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:16.0pt;
          font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838"><u7:p><u12:p>&nbsp;</u12:p></u7:p></span></p>
          <u15:p></u15:p>
          <p class="MsoNormal" align="center" style="margin-right: .2in;text-align: center; margin-bottom: .0001pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:16.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;
          color:#3B3838"><u10:p></u10:p>Existing Bittrex Customer Fiat (USD)
          Trading</span></p>
          <u15:p></u15:p>
          <p class="MsoNormal" align="center" style="margin-right: .2in;text-align: center; margin-bottom: .0001pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:16.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;
          color:#3B3838">Request Received<u10:p></u10:p></span><u17:p></u17:p></p>
          <p class="MsoNormal" align="center" style="margin-right: .2in;text-align: center;margin: 0in;margin-bottom: .0001pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-family:&quot;Segoe UI&quot;,sans-serif">&nbsp;</span></p>
          <u15:p></u15:p>

          <!-- START SECTION 1 -->
          <p class="MsoNormal" style="margin-top: 0in;margin-right: .2in;margin-bottom: .0001pt;margin-left: 7.55pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;&nbsp;&nbsp;<b>Thank
          You For Your US Dollar Trading Request</b></span></p>
          <u15:p></u15:p>
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;</span></p>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  Bittrex support will respond to your request within 7 business days                   
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                USD trading is now available for both <b>personal and corporate accounts</b>
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  Only customers with operating location <b>outside the United States</b> or inside the United States in <b>CA, WA, NY, or MT</b> currently qualify for USD trading. We cannot approve accounts located in any other US state at this time but we will add more states soon.                    
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  You will receive email confirmation upon approval with more information. If you requested USD deposits and withdrawals in addition to USD trading, your confirmation email <b>will include wire transfer instructions</b>
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  If you are only adding a whitelisted bank account, you will receive confirmation when that bank account has been added to your account                    
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  Follow Bittrex on Twitter for new market announcements (crypto
          and USD) as well as new US states that qualify for fiat (US Dollar)
          trading: <a href="https://twitter.com/BittrexExchange">https://twitter.com/BittrexExchange</a>                
              </div>
          </div>
          <div style="clear: both"></div>

          <!-- END SECTION 1 -->

          <!-- START SECTION 2 -->
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;</span><u17:p></u17:p></p>
          <p class="MsoNormal" style="margin-top: 0in;margin-right: .2in;margin-bottom: .0001pt;margin-left: 7.55pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;&nbsp;&nbsp;<b>API Integration Updates</b></span></p>
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838"><u10:p>&nbsp;</u10:p></span><u17:p></u17:p></p>

          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  Please note that we have updated our API with the release of our new site                 
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  For those accessing Bittrex via API, visit </span><span
          style='color:blue'><a href="https://bittrex.github.io/">https://bittrex.github.io/</a></span><span
          style='color:#3B3838'> for recent updates regarding our Websocket.
          Please bookmark, as future API (REST and Websocket) documentation and
          best practices will be posted to that site. 
              </div>
          </div>
          <div style="clear: both"></div>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  If you are not already a member of our #api-developers Slack channel,
          please search for that channel in our Slack or email </span><span
          style='color:blue'><a href="mailto:corpcare@bittrex.com">corpcare@bittrex.com</a></span><span
          style='color:#3B3838'> to receive an invitation to the Bittrex Slack
          (if you are not already a member). Corporate accounts and high volume
          personal accounts can receive an invitation. Our developer community
          is growing as we actively improve the API experience.
              </div>
          </div>
          <div style="clear: both"></div>
          <!-- END SECTION 2 -->

          <!-- START SECTION 3 -->
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;</span><u17:p></u17:p></p>
          <p class="MsoNormal" style="margin-top: 0in;margin-right: .2in;margin-bottom: .0001pt;margin-left: 7.55pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;&nbsp;&nbsp;<b>Future Support Requests</b></span></p>
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838"><u10:p>&nbsp;</u10:p></span><u17:p></u17:p></p>
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  <b>Submit a support requests and view support articles and blog here:</b>
                  <a href="https://support.bittrex.com/"><u11:p></u11:p><u18:p></u18:p>https://support.bittrex.com/</a>               
              </div>
          </div>
          <div style="clear: both"></div>         
          <div>
              <div style="float: left; width: 2%; margin-left: 5%; font-size: 1em">
                <b>-</b>                        
              </div>
              <div style='float: left; width: 89%; margin-left: 1%; font-size: 0.8335em; font-family:"Segoe UI",sans-serif;color:#3B3838'>
                  <b>Sign in to support.bittrex.com and click on "my activities" to reference this ticket</b>
                  <a href="https://support.bittrex.com/hc/en-us/signin">https://support.bittrex.com/hc/en-us/signin</a>
              </div>
          </div>
          <div style="clear: both"></div>         
          <!-- END SECTION 3 -->

          <!-- START SECTION 4 -->
          <p class="MsoNormal" align="center" style="margin-right: .2in;text-align: center;margin: 0in;margin-bottom: .0001pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-family:&quot;Segoe UI&quot;,sans-serif">&nbsp;</span></p>
          <u15:p></u15:p>
          <p class="MsoNormal" style="margin-top: 0in;margin-right: .2in;margin-bottom: .0001pt;margin-left: 7.55pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838">&nbsp;&nbsp;&nbsp;<b>Thank you and
          Happy Trading!</b></span></p>
          <p class="MsoNormal" style="margin-right:.2in"><span style="font-size:
          10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif;color:#3B3838"><u10:p>&nbsp;</u10:p></span><u17:p></u17:p></p>
          <!-- END SECTION 4 -->

          </td>
         </tr>
        </table>
        </div>
        </td>
       </tr>
      </table>
      </div>
      </td>
     </tr>
    </table>
    </td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
</table>

</div>

<p class="MsoNormal" style="margin: 0in;margin-bottom: .0001pt;font-size: 12.0pt;font-family: &quot;Times New Roman&quot;,serif;"><span style="font-size:10.0pt;font-family:&quot;Segoe UI&quot;,sans-serif"><u7:p>&nbsp;</u7:p></span><u12:p></u12:p><u14:p></u14:p><u15:p></u15:p><u16:p></u16:p></p>

<u13:p></u13:p></div>

<u10:p></u10:p>
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:58:05.550

只是为了尝试一些新的东西，下面是我使用 JavaScript 模板语言[Handlebars.js的方法：](http://handlebarsjs.com/)

```
<nav id="nav"></nav>

<script id="nav-template" type="text/x-handlebars-template">
    <ul class="nav">
        {{#each navigation}}
            <li><a href="{{ link }}">{{ title }}</a></li>

            {{#if subnav}}
                <ul class="subnav">
                    {{#each subnav}}
                       <li><a href="{{ link }}">{{ title }}</a></li>
                    {{/each}}
                </ul>
            {{/if}}
        {{/each}}
    </ul>
</script> 
```

还有你的 JavaScript：

```
var template = Handlebars.compile($("#nav-template").html());

$('#nav').html(template(data)); 
```

**演示：http: [//jsfiddle.net/L8wSB/](http://jsfiddle.net/L8wSB/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:39:22.317

您可以参考以下网址，它将对您有所帮助 [http://www.jqwidgets.com/building-menu-from-json/](http://www.jqwidgets.com/building-menu-from-json/)

# css - 标题上方的空格不会离开。在 safari 中很好，但在 firefox 中不行

> ID：14556633
> 
> 赞同：1
> 
> 时间：2013-01-28T06:33:07.383
> 
> 标签：css, firefox, whitespace, margin, padding

标题上方的空白不会留在 Firefox 中。在 safari 和 IE 中都很好。我没有做填充和边距，但它仍然不起作用。在我从底部容器中取出左浮子之前，一切都很好。

```
body{margin:0 auto;
padding:0;}
a:link{text-decoration:none;}
#heading{
    margin:0px auto;
font-size:18px;
font-weight:lighter;
padding:0;

background-color:#ffffff ;
    }

#heading ul{
    list-style-type: none;
    float:right;
    width:600px;
    margin:0 auto;
    padding:0;

}

#heading li{float:right;
font-family: "Times New Roman", Times, serif;
margin-left:20px;
margin-top:25px;
margin-right:12px;
padding:0;
}

#heading .ibar{float:left;
list-style-type:none;
margin-top:25px;
padding:0px;
} 
```

**html代码**

```
 <div id = "heading">
<nav>
<ul>
<li><a href="">Disqus
</li>
<li>Youtube
</li>
<li><a href="/rss">RSS
</li>
<li>Facebook
</li>
<li>Crunch
</li>
<li><a href="/ask">Disqus
</li>
<li><a href="/archive">Twitter
</li>
<li><a href="/">Home
</li>
</ul>
</nav>
<li class = "avatar">
<img src="" width="300" height="200" >
</li>

<div class = "clear"></div>

</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:36:47.477

close the "}" for #heading ID 实际上已关闭 #heading ID 中缺少 "}"

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:37:23.453

用于诸如`!important`_`padding`

```
 #heading
     {
      margin:0px auto;
      font-size:18px;
      font-weight:lighter;
      padding:0 !important;
      background-color:#ffffff ;
      } 
```

# java - onServiceConnected 和 ICS 的问题

> ID：14556640
> 
> 赞同：1
> 
> 时间：2013-01-28T06:33:47.117
> 
> 标签：java, android, google-play, in-app-billing

所以我目前正在尝试在我一直在开发的游戏 android 游戏中实现应用内购买，并且遇到了一些麻烦。

基本上，应用内购买将删除广告。因此，当游戏开始时，它会连接计费服务，当它收到 onServiceConnected 回调时，它会继续检查用户是否购买了广告移除。如果没有，那么它会初始化 ad mob 的东西等。

我遇到的问题是，当我在 ICS 4.0.3 设备上运行应用程序时，onServiceConnected 永远不会执行。它在我的 2.3.4 设备上运行良好。

我检查了logcat输出并设置了断点，那里什么都没有。

有谁知道 ICS 中发生的任何可能相关的问题或变化？

另外，我发现了这个类似的问题，但没有答案，那是 6 个月前的好[应用内计费服务 onServiceConnected() 未在 4.0/ICS 上调用](https://stackoverflow.com/questions/10255735/in-app-billingservice-onserviceconnected-not-called-on-4-0-ics)

编辑：好的，所以我发现在我的 ICS 设备上 bindService 调用返回 FALSE，并在其他设备上返回 TRUE 当它工作时。所以我现在的问题是为什么它返回错误？我在某处简要地读到它与 Intent 不解析为服务或类似的东西有关？

# git - 将合并提交上传到 gerrit

> ID：14556641
> 
> 赞同：4
> 
> 时间：2013-01-28T06:33:51.853
> 
> 标签：git, gerrit

我是 git 和 repo 的新手。我对本地仓库进行了一些更改，我想将所有更改上传到 Gerrit 以供审核。我想上传合并提交而不是上传单个提交。有人可以帮助我，我不知道该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:06:13.713

您知道每次提交都会收到更改请求吗？每个人都必须由人提交给回购。

因此，如果这不是您想要的，您应该重新设置基础并将一些提交合并在一起。

如果你真的想上传包括合并提交在内的所有提交，你需要[Push Merge Commits](https://gerrit-review.googlesource.com/Documentation/access-control.html#category_push_merge)权限。

# tomcat - Tomcat同时运行时tomcat获取日志文件时无法删除日志文件

> ID：14556647
> 
> 赞同：1
> 
> 时间：2013-01-28T06:34:31.547
> 
> 标签：tomcat

而Tomcat在运行的同时tomcat获取日志文件的时候无法删除日志文件。当我们尝试删除日志文件时，Windows 会显示以下错误消息。“**它正在被其他人或程序使用**”

当tomcat处于运行状态时，我需要删除日志文件。

谁能帮我解决这个问题...

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:48:01.640

不，您不能在 Tomcat 运行时删除日志文件。

请在此处详细说明您的要求，您想要实现的目标。

# jquery - 单击元素之后的第一个元素

> ID：14556651
> 
> 赞同：1
> 
> 时间：2013-01-28T06:34:38.790
> 
> 标签：jquery, dom

如何在*单击*`first`元素之后获取具有特定类的元素。

 *```
<div class="box"></div>
<div class="box"></div>
<div class="box-data"></div>
<div class="box"></div>
<div class="box"></div>
<div class="box-data"></div> 
```

这是我不工作的解决方案：

```
$(".box").click(function() {
    $(":first .box-data").css("display", "block");
    //$(this).find(":first .box-data").css("display", "block");
}); 
```

默认情况下`box-data`是不可见的，但是通过上面的代码，它们都将是可见的，不幸的是！

PS`display: none;`已在`box-data`类中定义。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:35:42.677

使用[`nextAll(".box-data")`](http://api.jquery.com/nextAll/)和[`first()`](http://api.jquery.com/first/)：

```
$(".box").click(function() {
    $(this).nextAll(".box-data").first().css("display", "block");
}); 
```

`nextAll`*按顺序*返回以下兄弟姐妹，并`first`仅选择其中的第一个 ( `first`= `eq(0)`)。*

# c# - 在winforms中使用HttpWebRequest传递cookie？

> ID：14556654
> 
> 赞同：2
> 
> 时间：2013-01-28T06:34:47.900
> 
> 标签：c#, winforms, cookies, httpwebrequest, cookiecontainer

请看以下代码：

```
 objCookieContainer = new CookieContainer();

    HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://website.com/login.php?user=xxx&pass=xxx");
    request.Method = WebRequestMethods.Http.Get;
    request.Timeout = 15000;
    request.Proxy = null;
    request.CookieContainer = objCookieContainer;

    HttpWebRequest newRequest = (HttpWebRequest)WebRequest.Create("http://website.com/page.php?link=url");
    newRequest.Method = WebRequestMethods.Http.Get;
    newRequest.Timeout = 15000;
    newRequest.Proxy = null;
    newRequest.CookieContainer = objCookieContainer;

    HttpWebResponse response = null;

    response = (HttpWebResponse)request.GetResponse();
    string readerRequest = new StreamReader(response.GetResponseStream(), Encoding.UTF8).ReadToEnd();

    response = (HttpWebResponse)newRequest.GetResponse();
    string readerNewRequest = new StreamReader(response.GetResponseStream()).ReadToEnd(); 
```

使用 request.GetResponse() 后，cookie 已成功填充数据，并且它具有身份验证代码，并且 readerRequest 也已填充，之后我调用 newRequest.GetResponse() 但 readerNewRequest 为空，我尝试这样做许多事情，但总是相同的结果，我解决这个问题的唯一方法是使用一个 WebBrowser 对象，我在其中传递 url，我能够使用 WebBrowser.DocumentStream 获取内容。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:40:24.757

```
 private void button1_Click(object sender, EventArgs e)
    {
        var objCookieContainer = new CookieContainer();

        HttpWebRequest request = (HttpWebRequest)WebRequest.Create("http://website.com/login.php?user=xxx&pass=xxx");
        request.Method = WebRequestMethods.Http.Get;
        request.Timeout = 15000;
        request.Proxy = null;
        request.CookieContainer = objCookieContainer;

        HttpWebRequest newRequest = (HttpWebRequest)WebRequest.Create("http://website.com/page.php?link=url");
        newRequest.Method = WebRequestMethods.Http.Post;
        newRequest.Timeout = 15000;
        newRequest.Proxy = null;

        HttpWebResponse response = null;

        response = (HttpWebResponse)request.GetResponse();
        //once you read response u need to add all cookie sent in header to the 'objCookieContainer' so that it can be forwarded on second response
        foreach (Cookie cookie in response.Cookies)
        {
            objCookieContainer.Add(cookie);
        }
        string readerRequest = new StreamReader(response.GetResponseStream(), Encoding.UTF8).ReadToEnd();

        //since you have added the cookies, this must response fine now
        newRequest.CookieContainer = objCookieContainer;
        response = (HttpWebResponse)newRequest.GetResponse();
        string readerNewRequest = new StreamReader(response.GetResponseStream()).ReadToEnd();
    } 
```

* * *

如果您是 4.0 以下的 .NET 版本，您可能会遇到 CookieContainer 错误：检查[此链接](https://stackoverflow.com/a/14524552/922198)

# javascript - Ext 4.1.1：在周围的 div 中添加标签

> ID：14556656
> 
> 赞同：1
> 
> 时间：2013-01-28T06:34:55.833
> 
> 标签：javascript, extjs, extjs4.1

嘿那里，

我怎样才能创建一个始终被 div 包围的 Ext.form.Label 而不会丢失标签的所有功能（setText，...）？我已经使用 autoEl、rendertTpl 和手动创建 div 并在 afterrender 中将标签移动到其中，但没有什么效果很好。

我真的很感激这方面的一些帮助！

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T08:35:11.083

您可以在标签文本中使用 div 隐藏标签分隔符：

```
 {
        xtype: 'textarea',
        anchor: '100%',
        rows: 8,
        padding: '5 5 20 5',
        fieldLabel: '<div style="border: #999 solid 1px; padding: 5px;">Label text:</div>',
        labelSeparator: ''
    } 
```

[结果截图](http://my.jetscreenshot.com/6795/20130128-wqcw-7kb.jpg)

或者使用 Ext.form.Label 的 html 属性。

# php - 将选定的日期值从 datepicker 传递到 php

> ID：14556659
> 
> 赞同：2
> 
> 时间：2013-01-28T06:35:01.133
> 
> 标签：php, jquery, html, datepicker

我在这里发现了类似的问题，但大多数解决方案对我不起作用。我有一个带有日期选择器的表单，我想将选定的日期传递给我的 php 文件，但它似乎不起作用。

我的html是这样的：

```
<form name="myForm" action="createevent.php" onsubmit="return validateForm()" method="get"> 
<p>Date<input type="text" id="mydate" /></p>
<input type="submit" name="submit" value="Submit" />
</form> 
```

Javascript：

```
$(function() {
$.datepicker.setDefaults($.extend($.datepicker.regional[""]));
$("#mydate").datepicker({
    onSelect: function(dateText, inst) {
    var dateAsString = dateText; 
    alert (dateAsString); //this prints out the right value.
    alert (mydate.value); //this value is the same as dateText
    }
}); 
```

创建事件.php

```
function CreateEvent()
{
    if(isset($_GET['submit']))
    {
        $mydate=$_GET['mydate'];
        echo $mydate;
    }
    } 
```

当我提醒（mydate.value）时，它会给出正确的值。但是当我在我的 php 文件中回显 $mydate 时，它​​没有显示任何内容。任何帮助表示赞赏！

更新：

感谢你们！我犯了一个愚蠢的错误。添加“名称”属性有效。我有一个后续问题。我也有一个时间选择器，它返回类似于 01:21 的内容。我的日期返回类似于 2013 年 1 月 1 日。有没有办法将这两者结合起来并使其成为日期时间类型，以便我可以添加到我的数据库中？太感谢了！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:38:47.723

我没有尝试过，但我想知道可能只是您的控件缺少“名称”，请尝试将其更改如下：

```
<input type="text" id="mydate" name="mydate"/> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T06:40:38.407

由于您似乎对`onSelect`触发后的日期没有做任何事情，所以我看到的唯一错误是您的输入缺少 name 属性，并且它在`$_GET`超全局中不可见

将您的输入更改为：

```
<input type="text" id="mydate" name="mydate"/> 
```

它应该工作。

如果您打算将日期和时间存储在 MySQL 数据库中，您可以执行以下操作。首先在您的表格中：

```
<form name="myForm" action="createevent.php" onsubmit="return validateForm()" method="get"> 
<p>Date<input type="text" id="mydate" name="mydate"/></p>
<p>Time<input type="text" id="mytime" name="mytime"/></p>
<input type="hidden" id="mydatetime" name="mydatetime"/>
<input type="submit" name="submit" value="Submit" />
</form> 
```

然后，在您的`validateForm()`函数中，我将添加如下内容：

```
var date = $('#mydate').val(),
    time = $('#mytime').val();

var datetime = [date.replace('/','-'),time].join(' '); // 01-01-2013 01:21
$('#mydatetime').val(datetime); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T06:39:29.347

对输入框进行了更改

```
<input type="text" id="mydate" /> 
```

至 ：

```
<input type="text" id="mydate" name="mydate"/> 
```

当您提交表单时，它将提交文本框 mydate 的名称值，您可以通过`$_GET["mydate"]`

# mysql - MySQL - 带有连接表的 GROUP_CONCAT() - 意外结果

> ID：14556668
> 
> 赞同：4
> 
> 时间：2013-01-28T06:35:33.747
> 
> 标签：mysql, sql, join

我有两张表 - 一张描述您可以购买的物品，一张存储“必需物品”以购买其他物品。第一个表中有一些项目需要其他项目作为一种贸易形式。有时您需要一定数量的所需物品。这是两个表的架构：

```
+---------------+-----------------+------+-----+---------+----------------+
| Field         | Type            | Null | Key | Default | Extra          |
+---------------+-----------------+------+-----+---------+----------------+
| storeID       | int(5) unsigned | NO   | PRI | NULL    | auto_increment |
| itemID        | int(10)         | NO   |     | NULL    |                |
| quantity      | int(10)         | NO   |     | NULL    |                |
| cost          | int(10)         | NO   |     | NULL    |                |
+---------------+-----------------+------+-----+---------+----------------+

+----------+---------+------+-----+---------+-------+
| Field    | Type    | Null | Key | Default | Extra |
+----------+---------+------+-----+---------+-------+
| parentID | int(10) | NO   |     | NULL    |       |
| itemID   | int(10) | NO   |     | NULL    |       |
| quantity | int(10) | NO   |     | NULL    |       |
+----------+---------+------+-----+---------+-------+ 
```

第二个表与第一个表链接`storeID <-> parentID`。商店中的物品可能有许多必需的物品。

问题：我需要运行一个返回商店中所有商品的查询，但还显示所有必需的商品及其数量。它应该看起来像这样：

```
4 x Item1,5 x Item2 
```

我有这个当前的查询：

```
SELECT a.*, b.typeName, GROUP_CONCAT(CONCAT(c.quantity, " x ", d.typeName)) as `reqItems`
        FROM lpStore a 
        INNER JOIN typeNames b ON (a.typeID = b.typeID)
        INNER JOIN lpRequiredItems c ON (a.storeID = c.parentID)
        INNER JOIN typeNames ON (d.typeID = c.typeID)
        GROUP BY c.parentID
        ORDER BY a.cost ASC 
```

`typeNames`只是一个将 itemID 与其实际名称联系起来的表。

现在，此查询运行良好，但它似乎不包括**HAVE NO REQUIRED ITEMS**的项目。我怀疑它与 GROUP BY 一起是 JOINS 之一（它可能正在对该表中不存在的所有 NULL 值进行分组？），但是我还没有弄清楚。如果不需要，我需要它在该列中返回空白或 NULL。

## 编辑：样本数据

为简单起见，我删除了使用项目名称表连接表

此处提供示例数据：[http ://www.sqlfiddle.com/#!2/d8dca/1](http://www.sqlfiddle.com/#!2/d8dca/1)

实际结果：

```
+---------+--------+------+----------+-----------------------------+
| storeID | typeID | cost | quantity | reqItems                    |
+---------+--------+------+----------+-----------------------------+
|       1 |   2514 | 2000 |        3 | 5 x 3668,10 x 4825          |
|       3 |   8785 | 5000 |        2 | 1 x 4875,15 x 1102,5 x 9813 |
|       4 |    579 | 1500 |        5 | NULL                        |
+---------+--------+------+----------+-----------------------------+ 
```

预期成绩：

```
+---------+--------+------+----------+-----------------------------+
| storeID | typeID | cost | quantity | reqItems                    |
+---------+--------+------+----------+-----------------------------+
|       1 |   2514 | 2000 |        3 | 5 x 3668,10 x 4825          |
|       2 |   3199 | 1000 |        1 | NULL                        |
|       3 |   8785 | 5000 |        2 | 1 x 4875,15 x 1102,5 x 9813 |
|       4 |    579 | 1500 |        5 | NULL                        |
+---------+--------+------+----------+-----------------------------+ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T17:27:58.960

问题是`GROUP BY parentId`，将`GROUP_CONCAT()`放在子查询中，然后在`LEFT JOIN`子查询上使用 a 。当`GROUP BY parentId`等于`null`这些值时，将被忽略，因此您不返回任何结果：

```
SELECT  a.`storeID`, 
        a.`typeID`, 
        a.`cost`, 
        a.`quantity` , 
        `reqItems` 
FROM    lpStore a
LEFT JOIN
(
  select  parentID,
     GROUP_CONCAT( CONCAT( quantity,  " x ", typeID ) ) AS  `reqItems` 
  from lpRequiredItems
  group by parentID
) c 
  ON ( a.storeID = c.parentID ) 
ORDER   BY  a.`storeID`, 
        a.`typeID`, 
        a.`cost`, 
        a.`quantity`
LIMIT 0 , 30 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!2/d8dca/7)

结果是：

```
| STOREID | TYPEID | COST | QUANTITY |                    REQITEMS |
--------------------------------------------------------------------
|       1 |   2514 | 2000 |        3 |          5 x 3668,10 x 4825 |
|       2 |   3199 | 1000 |        1 |                      (null) |
|       3 |   8785 | 5000 |        2 | 5 x 9813,1 x 4875,15 x 1102 |
|       4 |    579 | 1500 |        5 |                      (null) | 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:57:02.560

问题是“内连接”，它只返回匹配的值，即“必需”表中的一个条目。请尝试使用左连接。

```
SELECT a.*, b.typeName, GROUP_CONCAT(CONCAT(c.quantity, " x ", d.typeName)) as `reqItems`
        FROM lpStore a 
        INNER JOIN typeNames b ON (a.typeID = b.typeID)
        LEFT JOIN lpRequiredItems c ON (a.storeID = c.parentID)
        INNER JOIN typeNames ON (d.typeID = c.typeID)
        GROUP BY c.parentID
        ORDER BY a.cost ASC 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T08:32:04.313

你只需要使用`LEFT JOIN`而不是`INNER JOIN`

```
SELECT  a.`storeID`, 
        a.`typeID`, 
        a.`cost`, 
        a.`quantity` , 
        GROUP_CONCAT( CONCAT( c.quantity,  " x ", c.typeID ) ) AS  `reqItems` 
FROM    lpStore a
        LEFT JOIN lpRequiredItems c 
            ON ( a.storeID = c.parentID ) 
GROUP   BY c.parentID
ORDER   BY  a.`storeID`, 
        a.`typeID`, 
        a.`cost`, 
        a.`quantity` 
LIMIT 0 , 30 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ef5d3/5)

# java - 分配注释堆转储

> ID：14556675
> 
> 赞同：3
> 
> 时间：2013-01-28T06:36:02.390
> 
> 标签：java, memory-management, heap-dump

是否有任何现有工具可以使用分配站点注释进行 Java 堆转储？通过这样的堆转储，我们可以通过它们的分配站点（粗略地说，创建对象的新语句）聚合运行时对象，除了按类类型聚合。

假设这种堆转储可用，你认为它对泄漏调试更有用吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:54:41.967

我帮助将此功能构建到[HPjmeter](http://www.hp.com/go/hpjmeter)中 - 但它是特定于平台的功能（意味着它仅在 Itanium/HP-UX 上可用）。它有助于解决*特定*类型的问题（例如，识别正在执行大量短期分配并导致 GC 压力的站点）。对于大多数泄漏，泄漏对象支配您的对象图，您的标准工具将有助于可视化这一点。

万一这确实是您的开发环境，收集此数据的标志是`PrintAllocStatitistics`（再次，特定于平台！）：

```
 java ... -XX:+PrintAllocStatistics -Xverbosegc[0|1][:file=[filename[,[n][h][d][u][t]]]] 
```

[您还可以在在线文档](http://bizsupport1.austin.hp.com/bc/docs/support/SupportManual/c03112195/c03112195.pdf)中阅读有关此功能的更多信息。搜索分配统计

# web-services - 如何从外部访问 joomla 控制器/模型功能？

> ID：14556679
> 
> 赞同：4
> 
> 时间：2013-01-28T06:36:26.637
> 
> 标签：web-services, api, plugins, joomla, jomsocial

我在 Joomla 和 Jomsocial 中创建了网站。

我正在 Joomla 中创建 Web 服务/API 以供我的移动应用程序访问。

该移动应用程序将具有与网站几乎所有相同的功能。

我可以访问`controller/model externally`在我的 Web 服务/API 中定义的功能（任务）吗？如何？

注意：我正在使用phonegap开发移动应用程序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-29T08:29:51.690

您不能直接调用模型或视图中的特定函数。

但是控制器中没有参数的任何公共方法都将被调用

```
yoursite/index.php?option=com_yourcomponent&task=yourpublicmethod. 
```

这将触发指定的方法并在 Joomla 模板中呈现它，以及所有相关模块等。

如果你只想要主组件输出，添加到调用

```
&tmpl=component 
```

它通过模板的component.php而不是index.php进行渲染，通常前者只加载外部资源（css和js）和主组件输出。

否则，如果函数返回代码（html xml 或 json），您可能需要调用它

```
&format=raw 
```

它只返回您的公共方法的裸输出。这也可以通过指令在组件级别实现

```
exit; 
```

在你的public方法执行结束时

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T09:17:58.087

Joomla CMS 实现了 MVC 模式（module-view-controlle），视图略有不同。它实现了视图模型视图。

在 Joomla 中，一切都是组件。每个组件都可以有其输出模型、视图、控制器、数据库表等。

简单的例子是它的工作原理是你创建一个组件让我们说“helloworld”组件，这个组件位于 JROOT/administrator/components/com_helloworld 用于组件的管理面板部分和 JROOT/components/com_helloworld 用于前端。

在这些目录中，您有一个名为 com_helloworld.php 的文件，该文件会为此请求触发整个 MVC。

虽然 Joomla 实现了前端控制器模式，但您可以构建您的组件，但最适合您（有或没有前端控制器）。

当您请求[http://domainname.com/index.php?option=com_helloworld](http://domainname.com/index.php?option=com_helloworld)时，我提到的 com_helloworld 文件会被调用，并且里面的所有内容都会执行。

有关更多信息，请参阅这篇关于开发 Joomla CMS 2.5 组件的非常有用的文章：

[http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Introduction](http://docs.joomla.org/Developing_a_Model-View-Controller_Component/2.5/Introduction)

希望这可以帮助 ：）

# javascript - 将数组传递给锚标记 onclick 上的 javascript 函数

> ID：14556683
> 
> 赞同：1
> 
> 时间：2013-01-28T06:36:55.830
> 
> 标签：javascript

我正在使用锚标记来显示动态链接。我正在使用要调用的 javascript 函数

在锚点 onclick 上。这工作正常。但问题是我想向该 javascript 函数发送一组值。我该怎么做？我的锚标签定义如下，

```
 <a onclick="getbatchreport();" id="anch<?php echo "B-" . trim($value['BATCH_NO']); ?>"><?php echo "B-" . trim($value['BATCH_NO']); ?></a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:40:46.180

```
<?php //stuff and things ?>

<a href='#' onClick='functionName(<?php echo json_encode($arr); ?>)'>Click Me</a>

<script type='text/javascript'>
   function functionName(arr){

       arr = JSON.parse(arr);

       alert(arr[0]);
       alert(arr[1]);
       alert(arr[2]);
   }
</script> 
```

编辑：在作者指出 PHP 也参与后修复。另请注意，JavaScript 奇怪地处理关联数组。

# java - 在jsp中使用java类

> ID：14556684
> 
> 赞同：0
> 
> 时间：2013-01-28T06:37:06.143
> 
> 标签：java, postgresql, jsp, dspace, jspinclude

我的 java 类具有非常简单的数据库连接方法。使用此代码时建立连接是 jsp 文件，但是当我从 .java 类调用此方法时，它会给出异常。我用来调用该方法的代码是休闲的

```
 <% db d = new db();
d.db1("testing", "dspace", "dspace");
  %> 
```

虽然代码是 .java 类是休闲

```
 public boolean  db1 (String db, String username, String pwd) throws SQLException, ClassNotFoundException
                       {
            Connection connection; 

            Class.forName("org.postgresql.Driver");
            connection = DriverManager.getConnection(
                "jdbc:postgresql:5432//127.0.0.1:5432/testing", username,
                pwd);
            if(connection!= null)
                                   {
          System.out.println("done");
            }          
    return false;
    } 
```

有错误是

```
 org.apache.jasper.JasperException: PWC6033: Error in Javac compilation for JSP 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:40:09.813

尝试这个

```
<% 
db d ;
try{
d = new db();
d.db1("testing", "dspace", "dspace");
}catch(Exception e){
 //do something
 }
  %> 
```

由于您的代码没有处理运行时异常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T07:40:05.933

数据库 URL 不应该是

```
"jdbc:postgresql://127.0.0.1:5432/testing" 
```

代替

```
"jdbc:postgresql:5432//127.0.0.1:5432/testing" 
```

?

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T13:56:43.393

我认为您犯了一个 jar 错误，但请显示完整的错误列表，如下所示：

```
org.apache.jasper.JasperException: PWC6033: Error in Javac compilation for JSP

PWC6197: An error occurred at line: 9 in the jsp file: /index.jsp
PWC6199: Generated servlet error:
';' expected 
```

更多细节将有助于我们解决您的问题

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T14:07:25.827

尝试

```
 <% db d = new db();
    try{
       d.db1("testing", "dspace", "dspace");
    }catch(Exception e){
       //wtf?
    }
 %> 
```

甚至有些情况没有具体说明。

*   如果连接断开怎么办
*   如果连接关闭怎么办
*   如果连接超时怎么办
*   如果连接脏了怎么办
*   如果数据库不再可用怎么办
*   如果数据库被删除怎么办
*   如果数据库服务器不可用怎么办
*   如果数据库服务器超时怎么办
*   如果用户不可用怎么办
*   如果用户没有权限怎么办
*   ...

嘿，您可以使用 jstl/sql 和 jndi 摆脱 db.java。

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2013-01-28T08:44:38.180

我不认为你在 JSP 中使用 Class.forname 请尝试封装

# yii - 如何在yii中创建依赖下拉框

> ID：14556685
> 
> 赞同：0
> 
> 时间：2013-01-28T06:37:09.773
> 
> 标签：yii, dropdownbox

我在 yii 框架中工作。我想创建依赖下拉框。第一个下拉框有我从数据库中获取的类别。我有类别下拉框的代码 -

```
<div class="row">
<?php echo $form->labelEx($model,'category'); ?>
<?php echo $form->dropdownList($model,'category', CHtml::listData(Category::model()->findAll(), 'categoryId', 'category'), array('empty'=>'Choose one')); ?>
<?php echo $form->error($model,'category'); ?>
</div> 
```

现在我想创建下一个项目的下拉框，它将加载仅高于所选类别的项目。我将项目作为另一个表，其中 categoryId 作为外键。那么如何超过选定的 categoryId 以在同一视图表单上加载其相关项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:49:19.117

将 jquery 添加到您的视图中：

```
$('#choose-type').change(function() {
            var type = $(this).val();
                $.ajax({
                    type: "GET",
                    url: "<?php echo Yii::app()->request->baseUrl; ?>/your_path/chooseBrand",
                    data: "type="+type,
                    dataType: 'json',
                    success: function(data){
                        // decode data and add to your dropdown                            
                    },
                });   

        }); 
```

在你的控制器中：

```
public function actionChooseBrand() {
        $type       = (int)$_GET['type'];
        $brands     = Brands::model()->findAllByAttributes(array('type_id' => $type)); 
        $data       = array();

        foreach($brands as $brand) {
            $data[$brand->id] = $brand->name;
        }
        echo json_encode($data);
        exit;
    } 
```

我是怎么做的... :D

# excel - 根据 ms excel 中另一列中的单元格选择，在消息框上显示单元格值（合并单元格）

> ID：14556686
> 
> 赞同：0
> 
> 时间：2013-01-28T06:37:11.113
> 
> 标签：excel

我有一个excel表，A列的值是A、B、C、D、E。它们是合并的单元格。A1 到 A3 的值为 A。B1 到 B3 的值为 B，依此类推。B 列对 A 列中的每个值都有一定的描述，例如 A 值的苹果、飞机、蚂蚁。B 值的香蕉、蝙蝠、球等等。c 栏从 c1 到 c15 空白。如果我选择单元格 c1 或 c2 或 c3，则必须在消息框上显示 A。如果我选择单元格 c4 或 c5 或 c6，则 B 必须显示在消息框上。如果我选择单元格 c7 或 c8 或 c9，则 C 必须显示在消息框上。如果我选择单元格 c10 或 c11 或 c12，则 D 必须显示在消息框上。如果我选择单元格 c13 或 c15 或 c16，则 E 必须显示在消息框上。

我尝试使用该函数 (=vlookup(A1,$A$1:$B:$15,4,false))。但它没有给我任何结果。任何帮助表示赞赏（公式或 vba）。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:19:21.690

如果要使用**公式**，可以执行以下操作：

```
=INDIRECT("A"&ROW()-MOD(ROW()-1;3)) 
```

或与**VBA**相同：

```
MsgBox Range("A" & Selection.Row - (Selection.Row - 1) Mod 3).Value 
```

或者，如果 A 列实际上只是 B 列中单词的第一个字母，您当然可以使用`UPPER(LEFT(B1))`

# c++ - 使用文件和手册中的 cin.get 输入值的差异

> ID：14556687
> 
> 赞同：1
> 
> 时间：2013-01-28T06:37:12.347
> 
> 标签：c++, file-io, input

我正在编写一些代码，需要一个一个地获取值并将它们存储到一个 2D int 数组中，并且在从文件中获取值并手动输入它们时存在差异。它看起来像这样：

```
int ar[9][9];
while(!cin.eof()){
  for(int i=0; i<9; i++)
    for(int j=0; j<9; j++)
    {
      cin.get(temp);
      ar[i][j] = temp -48;
    }
} 
```

我会从运行它的终端传递输入

```
./prog.out < inp.txt 
```

并为 ar[0][1] 之类的随机值获取 -38 的值，但是当我键入时我会得到正确的值

```
./prog.out
12345678 ^d 
```

打印 ar[0][1] 时得到 2，这是正确的。为什么这段代码会有不同的表现？是因为文件是完整的 81 个字符，后跟 \n 和 eof，而后跟 ^d 的只是几个值？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:55:37.623

您没有`eof`在正确的时间检查 - 它是在尝试读取值时设置的，而不是事先设置的 - 所以行为有点随机。而且，您假设不在 eof 意味着您可以读取 81 个值……您怎么知道您不是一个换行符`eof`？而且你没有检查......的成功`cin.get()`。

我简单推荐

```
for(...)
    for(...)
        if (cin.get(temp))
            ar[i][j] = temp - '0';
        else
        {
            std::cerr << "insufficient input\n";
            exit(1);
        } 
```

# javascript - 如果输入框有内容，请选中复选框

> ID：14556692
> 
> 赞同：3
> 
> 时间：2013-01-28T06:37:30.660
> 
> 标签：javascript, jquery, html

我想在 jquery 中创建一个函数，如果输入文本框有内容，请选中复选框。如果为空，请取消选中该复选框。

```
<form>
<input class="boxcheck" type="checkbox">
checkbox

<input class="boxtext" type="text">
text here 
</form> 
```

复选框和文本输入在开始时将为空，但如果用户决定在文本框中写入内容，则如果用户尚未选中复选框，则应自动选中复选框。

另一个问题可能是用户将键入某些内容并且此功能将选中复选框，但如果用户返回输入框并删除输入框中的内容，则该复选框也应自动取消选中。

我能想到的最后一个问题是，如果用户在文本框中写了一些东西，并且此函数选中了复选框，但用户出于某种奇怪的原因取消选中了该框，是否可以再次强制选中该复选框？

我一直在玩`keyup`和`prop`触发器，但我绝对没有运气。我对 JavaScript 也很陌生。

我一直在玩的代码是这样的：

```
 $('input[text]').keyup(function(){
    if (this.value.length > 0) {
       $('input[name="checkbox"]').prop('disabled', false)
    } else {
}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:39:31.903

使用[keyup()](http://api.jquery.com/keyup/)函数检查 val 和条件以检查取消选中复选框 tyr this

```
 $(".boxtext").keyup(function(){
   if($(this).val()!= ""){
     $('.boxcheck').prop('checked',true);
   }else{
     $('.boxcheck').prop('checked',false);
   }
}) 
```

**更新**

对于您的最后一个问题..我认为禁用复选框会更好..这样用户将无法取消选中...

```
 $('.boxcheck').prop('disabled',true); 
```

[更新的小提琴](http://jsfiddle.net/bipen/EhpgX/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:43:13.353

我建议处理除了 keyup 之外的 blur 事件，因为这涵盖了用户在没有键盘的情况下更改文本框值的任何情况（复制/剪切/粘贴/拖放/拖放等），而无需担心哪些浏览器允许或不允许您处理剪贴板事件：

```
$(document).ready(function() {
    $("input.boxtext").on("keyup blur", function() {
        $("input.boxcheck").prop("checked", this.value != "");
    });

    // don't allow user to manually change the checkbox
    $("input.boxcheck").click(function() {
        return false;
    });
}); 
```

演示：http: [//jsfiddle.net/WTVEn/](http://jsfiddle.net/WTVEn/)

请注意，虽然我已经包含了阻止用户更改复选框的代码，但如果无法手动编辑它，为什么您根本需要该复选框？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:44:40.553

尝试这个：

```
 $(".boxtext").change(function(){
   $('.boxcheck').attr('checked',true);
   if($(this).val()== ""){
     $('.boxcheck').attr('checked',false);
   }
}); 
```

# objective-c - Objective-C：计算日期范围之间相交的天数

> ID：14556693
> 
> 赞同：0
> 
> 时间：2013-01-28T06:37:31.173
> 
> 标签：objective-c, xcode

我有几个日期范围：

```
range1: 01/01/05 to 01/24/10,
range2: 01/25/10 to 09/27/10,
range3: 09/28/10 to 09/30/11,
range4: 10/01/11 to 01/01/50; 
```

用户输入以下开始日期和结束日期：01/01/10 到 01/31/10。如何计算此用户输入的日期范围与上述相应日期范围相交的天数？（例如，在这种情况下，我的输出应该是 range1 中有 24 天，range2 中有 7 天）。

这让我困惑了一段时间。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:31:29.153

您可以用作：我只给出算法/想法。

创建 stringDate 转换为 NSDate

```
NSString *range1StartString=@"01/01/05";
NSString *range1EndString=@"01/24/10";

NSString *range2StartString=@"01/25/10";
NSString *range2EndString=@"09/27/10";

NSString *range3StartString=@"09/28/10";
NSString *range3EndString=@"09/30/11";

NSString *range4StartString=@"10/01/11";
NSString *range4EndString=@"01/01/50";

NSString *yourStart=@"01/01/10";
NSString *yourEnd=@"01/31/10";

NSDateFormatter *dateFormatter=[NSDateFormatter new];
[dateFormatter setDateFormat:@"MM/DD/yy"];

NSDate *start1Date=[dateFormatter dateFromString:range1StartString];
NSDate *end1Date=[dateFormatter dateFromString:range1EndString];

NSDate *start2Date=[dateFormatter dateFromString:range2StartString];
NSDate *end2Date=[dateFormatter dateFromString:range2EndString];

NSDate *start3Date=[dateFormatter dateFromString:range3StartString];
NSDate *end3Date=[dateFormatter dateFromString:range3EndString];

NSDate *start4Date=[dateFormatter dateFromString:range4StartString];
NSDate *end4Date=[dateFormatter dateFromString:range4EndString];

NSDate *yourStartDate=[dateFormatter dateFromString:yourStart];
NSDate *yourEndDate=[dateFormatter dateFromString:yourEnd]; 
```

在此之后检查范围的漫长过程

```
 //below will find the range for 1.
//1\. yourStartDate to start1Date will give negative or positive, discard the negative
//2\. yourEndDate to end1Date will give you again -ive or +ve, do same.
//3\. Add above +ve values. 
```

使用这种方法检查两个日期是否在范围内并获取它们之间的天数。

```
-(NSInteger)daysBetweenTwoDates:(NSDate *)fromDateTime andDate:(NSDate*)toDateTime{

    NSDate *fromDate;
    NSDate *toDate;

    NSCalendar *calendar = [NSCalendar currentCalendar];

    [calendar rangeOfUnit:NSDayCalendarUnit startDate:&fromDate interval:NULL forDate:fromDateTime];
    [calendar rangeOfUnit:NSDayCalendarUnit startDate:&toDate interval:NULL forDate:toDateTime];

    NSDateComponents *difference = [calendar components:NSDayCalendarUnit fromDate:fromDate toDate:toDate options:0];

    return [difference day]+1;//+1 as if start and end both date are same, so 1 day worked.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:12:07.130

一个相当容易实现的解决方案是创建 NSNumber 数字“日期”对象（使用儒略日 - [http://en.wikipedia.org/wiki/Julian_day](http://en.wikipedia.org/wiki/Julian_day)） - 仅限整数。然后你可以使用 NSSet 的方法来执行交集计算。

我在这里发布了一些代码（[How get a datetime column in SQLite with Objective C](https://stackoverflow.com/questions/1711504/how-get-a-datetime-column-in-sqlite-with-objective-c/1711591#1711591)）用于将 NSDates 转换为儒略日/从儒略日转换。

亚伦

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:21:42.790

我正在使用这段代码：

```
NSCalendar *calendar = [NSCalendar currentCalendar];
[calendar setTimeZone:[NSTimeZone systemTimeZone]];
NSDateComponents *cmp1 = [calendar components:NSDayCalendarUnit | NSMonthCalendarUnit | NSYearCalendarUnit fromDate:firstDate];
NSDateComponents *cmp2 = [calendar components:NSDayCalendarUnit | NSMonthCalendarUnit | NSYearCalendarUnit fromDate:secondDate];

NSLog(@"RANGE BETWEEN FIRST DATE AND SECOND DATE %d": cmp1.day-cmp2.day); 
```

Where`firstDate`和`secondDate`是`NSDate`对象。希望能帮助到你

# c - 使用 system() 函数打开 C 运行时给出的文件名

> ID：14556694
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:37:51.297
> 
> 标签：c, system

我想使用 system() 函数打开一个在运行时给出名称的图像。对于固定名称，它可以工作，但是如果我传递另一个参数，因为它没有为两个参数定义，所以会出错。

我想要类似以下的东西，使用任何可以实现这一点的功能。

```
system("gthumb <file1>"); 
```

其中 file1 存储运行时给出的文件的名称。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:40:24.960

你应该避免使用`system()`调用。

无论如何，你必须在这里做的，首先是使用 sprintf() 计算完整的命令行。你必须做类似的事情：`sprintf(string, "gthumb %s", file1);`然后，你打电话`system(string);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:41:08.300

您可以创建命令字符串，例如

```
 char cmdbuf[128];
  snprintf (cmdbuf, sizeof(cmdbuf), "githumb %s", path);
  int res = system(cmdbuf); 
```

`path`但是您应该检查（或实施报价机制）的有效性；如果它包含`; rm -rf $HOME` 你会不开心。

# jquery - 使用带有更新面板的 Document.ready

> ID：14556696
> 
> 赞同：0
> 
> 时间：2013-01-28T06:38:03.747
> 
> 标签：jquery, asp.net, updatepanel, document-ready

我有**J Query**事件分配在**`document.ready`**，我的页面也有**`update panel`**。什么时候**`partial post back`**发生在页面中，我不知道和**`J query events.`** 之间是否存在冲突？我该如何解决？ **`document.ready`****`update panel`**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-28T06:47:07.163

回调后 document.ready 函数将不起作用..您需要在每次回发后调用该函数..有多种解决方案

1) 使用 pageLoad 而不是 document.ready

```
 function pageLoad() {
 //execute code
 } 
```

2）或者您可以在回调后注册您的功能

```
 ScriptManager.RegisterClientScriptBlock(Me.Page, GetType(String), "function",      "try{function();}catch(err){}", True) 
```

3）或者你可以调用你的函数

```
 function page_EndRequest(sender, args) {
     // your Code
     } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:46:17.107

并且经常阻止对方一起工作`Update Panel`。`J Query`在您的情况下，解决方案是您需要`rebind your J Query event`在从更新面板返回部分帖子后

尝试这个

```
var prmInstance = Sys.WebForms.PageRequestManager.getInstance();

    prmInstance.add_beginRequest(function () {        
        //re-bind jquery events 
    });

    prmInstance.add_endRequest(function () {
        //re-bind jquery events 
    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-10-10T06:25:18.540

将您的 document.ready 函数替换为下面

```
Sys.Application.add_load(clickUpdate); //It work as document.ready function

function clickUpdate() {

/*Do stuff*/

} 
```

# xcode - 如何在 iPhone 中生成 UDID 的 MD5 哈希

> ID：14556697
> 
> 赞同：3
> 
> 时间：2013-01-28T06:38:14.353
> 
> 标签：xcode, md5

我已经尝试了很多，但无法弄清楚如何生成iPhone 设备`MD5 hash`的`UDID`代码。

原因：我必须使用该哈希作为登录网站的后台密码。

请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T06:45:12.893

您可以尝试以下代码将 UDID 字符串转换为 MD5。

```
 #import <CommonCrypto/CommonDigest.h>

NSString *udid = [[UIDevice currentDevice] uniqueIdentifier];
NSString *hashStr = [self converIntoMD5:udid];

- (NSString *)convertIntoMD5:(NSString *) string{
    const char *cStr = [string UTF8String];
    unsigned char digest[16];

    CC_MD5( cStr, strlen(cStr), digest ); // This is the md5 call

    NSMutableString *resultString = [NSMutableString stringWithCapacity:CC_MD5_DIGEST_LENGTH * 2];

    for(int i = 0; i < CC_MD5_DIGEST_LENGTH; i++)
        [resultString appendFormat:@"%02x", digest[i]];
    return  resultString;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-14T11:47:21.763

`uniqueIdentifier`iOS（2.0 及更高版本）已弃用：酌情使用该类的 identifierForVendor 属性或该类的`advertisingIdentifier`属性`ASIdentifierManager`，或使用该类的`UUID`方法`NSUUID`创建一个`UUID`并将其写入用户默认数据库。

# java - 如何在eclipse中添加多个按钮

> ID：14556698
> 
> 赞同：-4
> 
> 时间：2013-01-28T06:38:42.157
> 
> 标签：java, android, button, android-manifest

我知道如何将单个按钮添加到 XML、Java 和 Manifest，但我不知道如何添加多个按钮。您能帮我编写 Java 文件和清单的代码吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:46:10.253

这是在你的java中添加多个按钮的方法：

```
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;

public class TestActivity extends Activity implements OnClickListener {
    /** Called when the activity is first created. */
    Button button1, button2, button3;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        button1 = (Button)findViewById(R.id.button1);
        button2 = (Button)findViewById(R.id.button2);
        button3 = (Button)findViewById(R.id.button3);
        button1.setOnClickListener(this);
        button2.setOnClickListener(this);
        button3.setOnClickListener(this);
    }

    public void onClick(View v) {
        //figure out which button was pressed:
        switch (v.getId()) {
        case R.id.button1:
            //do button1 actions
            break;
        case R.id.button2:
            //do button2 actions
            break;
        case R.id.button3:
            //do button3 actions
            break;
       }
    }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-28T06:57:36.657

```
public class TestActivity1 extends Activity {
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
   Button  button1 = (Button)findViewById(R.id.button1);
    Button  button2 = (Button)findViewById(R.id.button2);

   }
} 
```

# jquery - bxslider 在 IE9 中不起作用

> ID：14556702
> 
> 赞同：2
> 
> 时间：2013-01-28T06:38:51.860
> 
> 标签：jquery, html, css, parallax, bxslider

我有一个 bxslider 插件在我为某人制作的网站上工作，它适用于除 IE9 之外的所有浏览器（也可能是 IE 的早期版本，但我必须在 9 上测试它）

我想知道我的代码哪里出错了。我会提到它与滚动甲板视差插件一起运行

这是我的标题中的相关代码（调用 bxslider 和 scrolldeck 视差）：

```
<link href="style.css" rel="stylesheet" type="text/css" />
<link href="tipTip.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript" src="scripts/jquery.parallax-1.1.3.js"></script>
<script type="text/javascript" src="scripts/jquery.localscroll-1.2.7-min.js"></script>
<script type="text/javascript" src="scripts/jquery.scrollTo-1.4.2-min.js"></script>
<script type="text/javascript" src="scripts/jquery.tipTip.js"></script>
<script src="jquery.bxslider.js"></script><!-- bxSlider Javascript file -->
<link href="jquery.bxslider.css" rel="stylesheet" /><!-- bxSlider CSS file -->

<script type="text/javascript">
$(document).ready(function(){
    $('#nav').localScroll(800);

    //.parallax(xPosition, speedFactor, outerHeight) options:
    //xPosition - Horizontal position of the element
    //inertia - speed to move relative to vertical scroll. Example: 0.1 is one tenth the speed of scrolling, 2 is twice the speed of scrolling
    //outerHeight (true/false) - Whether or not jQuery should use it's outerHeight option to determine when a section is in the viewport
    $('#intro').parallax("50%", 0.6);
    $('#second').parallax("50%", 0.5);
    $('.bxslider').parallax("50%", 0.8);
    $('#third').parallax("50%", 0.6);
    $('#fourth').parallax("50%", 0.5);
    $('#fifth').parallax("50%", 0.5);
    $('#sixth').parallax("50%", 0.8);

    $('.bxslider').bxSlider();
})
</script> 
```

这是 bxslider 在正文中的位置：

```
<div id="third">
        <div class="float-slider">
            <!-- <ul class="bxslider">
                 <li><img src="images/thirdBG3.jpg" /></li>
                 <li><img src="images/thirdBG4.jpg" /></li>
            </ul> -->

            <ul class="bxslider">
                 <li>
                    <div class="slider-img" style="background: url(images/thirdBG3.jpg) 50%" >
                        <div class="textBox"><h2 style="margin:0px;padding:0px">The Making Of A Monarch</h2>
                <p>TEXT</p></div>
                    </div>
                 </li>
                 <li>
                    <div class="slider-img" style="background: url(images/thirdBG4.jpg) 50%" >
                        <div>more Text here</div>
                    </div>
                 </li>   
            </ul>
        </div>   
                <div class="float-left">
                <div class="story">
            </div>
        </div> <!--.story-->
    </div> <!--#third--> 
```

以及 bxslider 的 CSS：

```
/**
 * BxSlider v4.0 - Fully loaded, responsive content slider
 * http://bxslider.com
 *
 * Written by: Steven Wanderski, 2012
 * http://stevenwanderski.com
 * (while drinking Belgian ales and listening to jazz)
 *
 * CEO and founder of bxCreative, LTD
 * http://bxcreative.com
 */

/** RESET AND LAYOUT
===================================*/

.bx-wrapper {
    position:absolute;
    margin: 0 0 0 0;
    padding: 0;
    /**zoom: 1;**/
    width:100%;
    height:550px;   
}

.bx-wrapper img {
    display: block;
}

/** THEME
===================================*/

.bx-wrapper .bx-viewport {
    -moz-box-shadow: 0 0 0;
    -webkit-box-shadow: 0 0 0;
    box-shadow: 0 0 0;
    border:none;
    background: #fff;
}

.bx-wrapper .bx-pager,
.bx-wrapper .bx-controls-auto {
    position: relative;
    bottom: 80px;
    width: 100%;
}

/* LOADER */

.bx-wrapper .bx-loading {
    min-height: 50px;
    background: url(images/bx_loader.gif) center center no-repeat #fff;
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 500;
}

/* PAGER */

.bx-wrapper .bx-pager {
    text-align: center;
    font-size: .85em;
    font-family: Arial;
    font-weight: bold;
    color: #666;
    padding-top: 0;
}

.bx-wrapper .bx-pager .bx-pager-item,
.bx-wrapper .bx-controls-auto .bx-controls-auto-item {
    display: inline-block;
    *zoom: 1;
    *display: inline;
}

.bx-wrapper .bx-pager.bx-default-pager a {
    background: #666;
    text-indent: -9999px;
    display: block;
    width: 10px;
    height: 10px;
    margin: 0 5px;
    outline: 0;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    border-radius: 5px;
}

.bx-wrapper .bx-pager.bx-default-pager a:hover,
.bx-wrapper .bx-pager.bx-default-pager a.active {
    background: #000;
}

/* DIRECTION CONTROLS (NEXT / PREV) */

.bx-next{
    position:relative;
}

.bx-wrapper .bx-prev {
    left: 20px;
    background: url(images/controls.png) no-repeat 0 -32px;
}

.bx-wrapper .bx-next {
    right: 20px;
    background: url(images/controls.png) no-repeat -43px -32px;
}

.bx-wrapper .bx-prev:hover {
    background-position: 0 0;
}

.bx-wrapper .bx-next:hover {
    background-position: -43px 0;
}

.bx-wrapper .bx-controls-direction a { /**SIZE OF NEXT AND PREV BUTTONS**/
    position: absolute;
    top: 50%;
    margin-top: -16px;
    outline: 0;
    width: 32px;
    height: 32px;
    text-indent: -9999px;
    z-index: 100;
}

.bx-wrapper .bx-controls-direction a.disabled {
    display: none;
}

/* AUTO CONTROLS (START / STOP) */

.bx-wrapper .bx-controls-auto {
    text-align: center;
}

.bx-wrapper .bx-controls-auto .bx-start {
    display: block;
    text-indent: -9999px;
    width: 10px;
    height: 11px;
    outline: 0;
    background: url(images/controls.png) -86px -11px no-repeat;
    margin: 0 3px;
}

.bx-wrapper .bx-controls-auto .bx-start:hover,
.bx-wrapper .bx-controls-auto .bx-start.active {
    background-position: -86px 0;
}

.bx-wrapper .bx-controls-auto .bx-stop {
    display: block;
    text-indent: -9999px;
    width: 9px;
    height: 11px;
    outline: 0;
    background: url(images/controls.png) -86px -44px no-repeat;
    margin: 0 3px;
}

.bx-wrapper .bx-controls-auto .bx-stop:hover,
.bx-wrapper .bx-controls-auto .bx-stop.active {
    background-position: -86px -33px;
}

/* PAGER WITH AUTO-CONTROLS HYBRID LAYOUT */

.bx-wrapper .bx-controls.bx-has-controls-auto.bx-has-pager .bx-pager {
    text-align: left;
    width: 80%;
}

.bx-wrapper .bx-controls.bx-has-controls-auto.bx-has-pager .bx-controls-auto {
    right: 0;
    width: 35px;
}

/* IMAGE CAPTIONS */

.bx-wrapper .bx-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    background: #666\9;
    background: rgba(80, 80, 80, 0.75);
    width: 100%;
}

.bx-wrapper .bx-caption span {
    color: #fff;
    font-family: Arial;
    display: block;
    font-size: .85em;
    padding: 10px;
} 
```

任何帮助都会很热。PS。此外，当我调整窗口大小时，bxslider 按钮停止工作......我尝试在窗口调整大小时重新初始化它，但它所做的只是复制 bxslider 并创建数百个实例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T13:11:46.390

我有一个完全相同的问题。我通过修改插件核心文件解决了它。我用标签替换了所有 5 个`<a>`元素（具有空`href`属性）`<span>`，清除了缓存，效果非常好。

仅提供一些锚点（例如设置）也可能就足够了`href="#top"`，但在我的情况下，滑块非常高，我想避免页面跳起来，或者每次单击下一个/上一个按钮时跳到某个指定点.

# java - 如何从Android中的bundle中提取值

> ID：14556707
> 
> 赞同：13
> 
> 时间：2013-01-28T06:39:21.223
> 
> 标签：java, android, facebook-android-sdk

**通过Facebook_Android SDK**发送请求时，我得到一个包作为回报。有人可以解释它是什么数据类型以及如何提取其中的数据吗？谢谢。

`01-28 11:58:07.548: I/Values(16661): Bundle[{to[0]=100005099741441, to[1]=100005089509891, request=134129756751737}]`

**编辑** 这里， to[i] 是一个字符串数组。我能够做到。但我认为这不是正确的做法。

```
for(int i=0;i< size-1;i++){
System.out.println(values.getString("to["+i+"]"));
} 
```

Bundle的大小在哪里`size`调用`value`

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-28T06:47:41.797

A`Bundle`基本上是一本字典。Bundle 中的每个值都存储在`key`. 您必须知道键下的值的类型。当您知道类型时，您可以`key`通过调用与值的类型相关的方法来访问与 关联的值（同样，您必须知道类型）。

例如，如果`key`is`request`和它的类型是`String`你会调用：

```
String value = bundle.getString("request"); 
```

如果类型是`long`，您将调用：

```
long value = bundle.getLong("request"); 
```

`to`如果值是类型，则要遍历数组，`String`您可以这样做：

```
for (int i = 0; bundle.containsKey("to[" + i + "]"); i++) {
    String toElement = bundle.getString("to[" + i + "]");
} 
```

它不依赖于捆绑对象的大小。

捆绑包中的所有键和每个键的值类型应在 Android 版 Facebook API 中提供。如果您需要有关该`Bundle`对象的更多信息，请查看[此处的参考资料](http://developer.android.com/reference/android/os/Bundle.html)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T06:42:59.033

```
Bundle bundle = intent.getBundle();
bundle.getString("ITEM_NAME"); 
```

# visual-studio - 无法将现有文件夹添加到 Visual Studio 2012。缺少“包含在项目中”菜单选项

> ID：14556718
> 
> 赞同：6
> 
> 时间：2013-01-28T06:40:14.390
> 
> 标签：visual-studio, visual-studio-2012

我在 Windows 8 中运行 Visual Studio 2012（管理员）。我无法使用解决方案资源管理器添加现有文件夹。我也无法将文件夹从文件资源管理器拖到解决方案资源管理器中。我得到无效的目标放置图标。

我知道的唯一方法是通过添加添加文件夹 - “新文件夹”并手动创建文件夹。

为什么我会遇到这些问题？

**为什么缺少“包含在项目中”菜单选项？** ![s](../Images/cce456a607d23768abbf904cf245c794.png)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-26T19:06:06.017

单击解决方案资源管理器中的“显示所有文件”图标。然后，您将能够看到任何预先存在的目录并将它们包含在您的项目中。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2015-08-09T21:50:51.983

确保您的项目当前未处于调试模式。停止调试模式并右键单击文件夹，它将显示“包含在项目中”

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-01-31T07:40:19.020

“包含在项目中”仅显示文件而不显示文件夹。当文件被包含时，它们的文件夹被包含。

# html - 有没有关于 wp8 ie10 开发的资源？

> ID：14556725
> 
> 赞同：1
> 
> 时间：2013-01-28T06:40:45.557
> 
> 标签：html, css, windows-phone-8, internet-explorer-10

我已经使用 HTML5 和 CSS3 开发 webkit 网站一年了。最近我希望 WP8 设备支持我的网站。有什么书或博客可以学习吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T16:12:06.007

这里有两篇文章可以帮助你：

*   [为 Internet Explorer 10 调整您的 WebKit 优化站点](http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/11/15/adapting-your-webkit-optimized-site-for-internet-explorer-10.aspx)
*   [Internet Explorer 10 为 Windows Phone 8 带来了巨大的 HTML5](http://blogs.windows.com/windows_phone/b/wpdev/archive/2012/11/08/internet-explorer-10-brings-html5-to-windows-phone-8-in-a-big-way.aspx)

# matlab - 数组中最大值和最小值的索引

> ID：14556733
> 
> 赞同：20
> 
> 时间：2013-01-28T06:41:09.550
> 
> 标签：matlab, matrix

如何在不循环的情况下找到数组中最大元素的索引？

例如，如果我有：

```
a = [1 2 999 3]; 
```

我想定义一个函数`indexMax`，以便`indexMax(a)`返回`3`.

同样用于定义`indexMin`.

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-28T06:41:09.550

`max`当指定两个输出参数时，内置函数具有此功能：

```
a = [1 2 999 3];
[the_max, index_of_max] = max(a)

the_max =

   999

index_of_max =

     3 
```

同样对于`min`.

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-01-28T06:49:27.690

正如[Evgeni](https://stackoverflow.com/a/14556734/1714410) [`max`](http://www.mathworks.com/help/matlab/ref/max.html)所指出的，[`min`](http://www.mathworks.com/help/matlab/ref/min.html)可以返回`argmax`and`argmin`作为第二个参数。
值得注意的是，您可以*在特定维度*上使用这些函数：

```
 A = rand(4); % 4x4 matrix
 [ row_max row_argmax ] = max( A, [], 2 ); % max for each row - 2nd dimension
 [ col_min col_argmin ] = min( A, [], 1 ); % min for each column - 1st dimension 
```

请注意空的`[]`第二个参数 - 它根本`max( A, [], 2 )`不**等同**于`max( A, 2 )`（我将把它留给你作为一个小练习，看看有什么`max( A, 2 )`作用）。

从这些“沿维度”调用返回的 argmax/argmin 是行/列索引。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-28T07:25:42.757

作为替代解决方案，您可以尝试以下方法：

```
a = rand(1,1000);
min_idx = find(a == min(a)); 
```

显然，相同的程序适用于 的情况`max`。

我希望这有帮助。

# sql - 如何从两个表中查找重复项并自身查找重复项？

> ID：14556737
> 
> 赞同：6
> 
> 时间：2013-01-28T06:41:31.027
> 
> 标签：sql, ms-access, ms-access-2003

我在 access 2003 中创建了这个语句

```
 SELECT COUNT(*)
  FROM TABLEA
  WHERE NOT EXISTS(SELECT * FROM TABLEB); 
```

该语句是否有助于检查表 A 中的记录是否与表 b 相同？TABLEA 是表 b 的新表，我想确保表 b 中的所有记录都在表 A 中。

其次，我有这张桌子 TABLEC。如何检查 TABLEC 中是否有重复记录，这意味着所有字段值都相同？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T07:07:51.583

答案是：不，您的查询没有意义。

要判断两条记录是否“相同”，您必须定义术语“相等”。所有字段都应该相等吗？还是只有某些领域？

如果您有两个表`TableA`，`TableB`并且它们有两个字段“A”和“B”，则此语句会查找两个表中存在的所有记录：

```
select distinct TableA.* 
  from TableA 
       join TableB 
         on TableA.A = TableB.A 
        and TableA.B = TableB.B 
```

或者

```
select * 
  from TableA
 where exists (
     select 1 
       From TableB 
      where TableA.A = TableB.A 
        and TableA.B = TableB.B
     ) 
```

编辑：用户 10e5x 指出他的表包含 NULL 值。因此，每个字段的比较必须更复杂一些，以补偿 NULL 比较警告。

我将只给出`WHERE`部分：

```
where TableA.A = TableB.A or coalesce (TableA.A, TableB.A) is NULL 
  and TableA.B = TableB.B or coalesce (TableA.B, TableB.B) is NULL 
```

该函数`coalesce(a,b,c...)`返回最左边的非 NULL 值，因此

```
coalesce (A,B) is NULL
-- is equal to
A is NULL and B is NULL 
```

注意：这种棘手的编码是您应该避免在用于比较的列中使用 NULL 值的原因。

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2014-07-03T09:35:19.650

尝试这个

从表 A 中选择文档编号 INTERSECT 从表 B 中选择文档编号

# model-view-controller - 在 MVC 视图中显示数据表

> ID：14556740
> 
> 赞同：0
> 
> 时间：2013-01-28T06:41:44.917
> 
> 标签：model-view-controller, knockout.js, datatable

我想在 KnockoutJS 的帮助下将员工详细信息绑定到来自 DataTable 的 HTML 表中。这是我的模型：

```
public class Employee
{
    private string employeeCode;
    private string employeeName;

    public int ID { get; set; }

    [Required(ErrorMessage="Employee Code is Required")]
    public string EmployeeCode
    {
        get
        {
            return employeeCode;
        }
        set
        {
            employeeCode = value;
        }
    }

    [Required(ErrorMessage = "Employee Name is Required")]
    public string EmployeeName
    {
        get
        {
            return employeeName;
        }
        set
        {
            employeeName = value;
        }
    }
} 
```

这是我使用 DataTable 的控制器代码。我将传递`List<Employee>`给我的视图：

```
public JsonResult Get(int customerID)
{
    BAL.Employee dbProvider = new BAL.Employee();

    DataTable dataTable = dbProvider.ShowEmployeeDetails();

    List<Model.Employee> objExerciseList = new List<Model.Employee>();

    foreach (DataRow dataRow in dataTable.Rows)
    {
        Model.Employee objExercise = new Model.Employee();

        objExercise.ID = Convert.ToInt32(dataTable.Rows[0]["ID"].ToString());
        objExercise.EmployeeCode = dataTable.Rows[0]["EmpCode"].ToString();
        objExercise.EmployeeName = dataTable.Rows[0]["EmpName"].ToString();
        objExercise.ContactNumber = dataTable.Rows[0]["ContactNumber"].ToString();
        objExercise.MaritalStatus = Convert.ToBoolean(dataTable.Rows[0]["Is_MaritalStatus"].ToString());
        objExercise.EmailID = dataTable.Rows[0]["EmailID"].ToString();

        objExerciseList.Add(objExercise);
    }

    return Json(objExerciseList, JsonRequestBehavior.AllowGet);
} 
```

最后是我的 View 和 ViewModel 页面和代码：

```
@model IEnumerable<Acidaes.CRMnext.TrainingExercises.Model.Employee>
@{
  ViewBag.Title = "exercise7";
  Layout = "../Shared/Master.cshtml";
 }
    <script src="../../Scripts/_references.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-1.6.2.js" type="text/javascript"></script>
    <script src="../../Scripts/knockout-2.2.1.js" type="text/javascript"></script>
    <script src="../../Scripts/json2.js" type="text/javascript"></script>
<html>
<head>
    <title>KO</title>
</head>
<body>
    <form action="" method="post">
        <div style="width: 990px; background-color: White; height: 710px;">
            <table id="tbllist" align="center" style="border: 5px #fff solid;">
                <tr>
                    <td colspan="6">
                        <h2>
                            Employee List</h2>
                    </td>
                </tr>
                <tr>
                    <td colspan="6" style="padding: 0px;">
                        <div id="title_p">
                            Listing</div>
                    </td>
                </tr>
                <tr>
                    <th align="left">
                        Employee Code
                    </th>
                    <th align="left">
                        Employee Name
                    </th>
                    <th align="left">
                        Contact Number
                    </th>
                    <th align="left">
                        Marital Status
                    </th>
                    <th align="left">
                        Email ID
                    </th>
                    <th align="left">
                    </th>
                </tr>
                <tbody>
                    <tr style="border-bottom: 1px solid #000000;">
                        <td>
                            @Html.LabelFor(model => model.EmployeeCode, new { data_bind = "text: EmpCode" })
                        </td>
                        <td>
                            @Html.LabelFor(model => model.EmployeeName, new { data_bind = "text: EmpName" })
                        </td>
                        <td>
                            @Html.LabelFor(model => model.ContactNumber, new { data_bind = "text: ContactNumber" })
                        </td>
                        <td>
                            @Html.CheckBoxFor(model => model.MaritalStatus, new { data_bind = "checked: MaritalStatus" })
                        </td>
                        <td>
                            @Html.LabelFor(model => model.EmailID, new { data_bind = "text: EmailID" })
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <script type="text/javascript">
         // Initialized the namespace
            var KnockoutDemoNamespace = {};

            // View model declaration
            KnockoutDemoNamespace.initViewModel = function (objExercise) {
                var customerViewModel = {
                    EmpCode: ko.observable(objExercise.EmployeeCode),
                    EmpName: ko.observable(objExercise.EmployeeName),
                    ContactNumber: ko.observable(objExercise.ContactNumber),
                    MaritalStatus: ko.observable(objExercise.MaritalStatus),
                    EmailID: ko.observable(objExercise.EmailID)
                };
                return customerViewModel;
            }

            // Bind the customer
            KnockoutDemoNamespace.bindData = function (objExercise) {
                // Create the view model
                var viewModel = KnockoutDemoNamespace.initViewModel(objExercise);

                ko.applyBindings(viewModel);
            }

            KnockoutDemoNamespace.getCustomer = function (customerID) {

                $.ajax({
                    url: "/Exercise/Get/",
                    type: 'post',
                    data: "{'customerID':'1' }",
                    contentType: 'application/json',
                    success: function (result) {
                        KnockoutDemoNamespace.bindData(result);
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        var errorMessage = '';
                        $('#message').html(jqXHR.responseText);
                    }
                });
            }

            KnockoutDemoNamespace.addCustomer = function () {
                $.ajax({
                    url: "/Exercise/Add/",
                    type: 'post',
                    data: ko.toJSON(this),
                    contentType: 'application/json',
                    success: function (result) {

                        $('#message').html(result);
                    }
                });
            }

            $(document).ready(function () {
                KnockoutDemoNamespace.getCustomer(1);

            });
        </script>
    </form>
</body>
</html> 
```

请帮助我，我对 KnockoutJS 完全陌生。如果我的问题有任何问题，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:44:59.320

KnockoutJS 旨在与 AJAX 和 JSON 一起使用。您的服务应以 JSON 格式返回数据。

也许这将是一个好的开始，[使用 C# .NET 制作 JSON Webservice](https://stackoverflow.com/questions/8308449/making-of-json-webservice-using-c-sharp-net)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:49:05.300

您将表行绑定到员工对象列表，但您只绑定了实例。您可以为此使用淘汰赛的 foreach 绑定

```
 <tbody data-bind="foreach: model">
            <tr style="border-bottom: 1px solid #000000;">
                <td>
                    @Html.LabelFor(model => model.EmployeeCode, new { data_bind = "text: EmpCode" })
                </td>
                <td>
                    @Html.LabelFor(model => model.EmployeeName, new { data_bind = "text: EmpName" })
                </td>
                <td>
                    @Html.LabelFor(model => model.ContactNumber, new { data_bind = "text: ContactNumber" })
                </td>
                <td>
                    @Html.CheckBoxFor(model => model.MaritalStatus, new { data_bind = "checked: MaritalStatus" })
                </td>
                <td>
                    @Html.LabelFor(model => model.EmailID, new { data_bind = "text: EmailID" })
                </td>
            </tr>
        </tbody> 
```

你知道淘汰赛的教程吗？他们非常善于掌握这些概念：[http ://learn.knockoutjs.com/](http://learn.knockoutjs.com/)

# android-layout - Html字体大小在Android应用程序中不起作用

> ID：14556741
> 
> 赞同：1
> 
> 时间：2013-01-28T06:42:11.633
> 
> 标签：android-layout, font-size, android-button

我是 android 新手，我正在开发小型 android 应用程序。在我的应用程序中，有一个按钮，其中包含多行文本和不同样式的文本。我通过以下方式做到了：

```
<Button
           android:id="@+id/downloadButton"
       android:layout_width="200px"
       android:layout_height="65px"  
           android:background="@drawable/download_button"
       android:textColor="@android:color/white"
       android:layout_alignParentLeft="true"
      /> 
```

为了显示文本，我做了以下事情：

```
Button download_button = (Button) findViewById(R.id.downloadButton);
    String download_styledText = "<font size='10'color='white'>"
            + "Download" + "</font> " + "<br />"+""+"<font size='7'color='#883e33'>" 
            + "Save it now!"+"</font>";
    download_button.setText(Html.fromHtml(download_styledText)); 
```

一切正常，唯一的问题是我的字体大小属性不工作......如果我定义像大或小的标签它工作正常，但对于字体大小它没有给出正确的输出......该怎么办？需要帮助...谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-11T15:09:52.113

在这里回答：[如何在 Android 或 Java 中渲染 HTML 代码时应用字体大小](https://stackoverflow.com/questions/7739775/how-to-apply-font-size-while-rendering-html-code-in-android-or-java)

android 中实现的字体标签不支持大小。也不以任何方式支持 CSS。

# list - 用于微控制器的 C 语言列表管理库

> ID：14556743
> 
> 赞同：0
> 
> 时间：2013-01-28T06:42:28.953
> 
> 标签：list, linked-list, microcontroller, 8051, sdcc

我正在使用基于 8051 内核的 CC2532 进行项目。我使用 SDCC 作为编译器。

我需要创建一个字符串列表，并添加、删除、追加、列出元素。

是否有任何简单的开源/免费库足够轻，可以在 MCU 中使用？

我找到了 SimCList 和 SGLIB，但它们似乎有点矫枉过正，我想知道是否有人知道更简单/更轻的替代方案。我只需要 (add,remove,list,size) 函数。不需要它只是一个简单的 FIFO 列表循环。我总共有 4K RAM。列表元素的数量最多为 20 个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T10:47:38.953

简单的列表很容易实现，所以你自己做可能会更好。如果您愿意，您可以从[我很久以前](http://www.kim-minh.com/riffl/riffl-0.2.tar.gz "RIFFL，替代 iffparse.library")为简单实现而编写的库中提取文件`include/proto/exec.h`、`include/exec/nodes.h`、和。您可以使用初始化一个空的 FIFO，将节点添加到您的 FIFO，从您的 FIFO 中删除节点。该函数如下所示：`include/exec/lists.h``lib/NewList.c``lib/List.c``NewList``AddTail``RemHead``size`

```
unsigned int size(struct List *list)
{
    unsigned int res = 0;
    struct Node *node = list->lh_Head;
    while (node->ln_Succ != NULL) {
        res++;
        node = node->ln_Succ;
    }
    return res;
} 
```

*请注意*，列表结尾的测试`node->ln_Succ != NULL`与许多其他列表框架不同。这实际上是对[Amiga 列表系统](http://amigadev.elowar.com/read/ADCD_2.1/Libraries_Manual_guide/node02D7.html "Amiga® RKM 库：23 个执行列表和队列")的重做。

我应该在这里复制所有代码以进行列表处理吗？

# python - 我在哪里托管使用 tornado 网络服务器开发的应用程序

> ID：14556744
> 
> 赞同：2
> 
> 时间：2013-01-28T06:42:30.983
> 
> 标签：python, google-app-engine, webserver, hosting, tornado

是否有任何托管服务用于托管使用龙卷风开发的简单应用程序。（就像我们在 Google App Engine 中托管）。是否可以在 Google App Engine 上托管？这些应用程序就像一些学生数据（添加、删除、搜索等）。我正在使用 python 开发。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:02:52.590

[Heroku](http://heroku.com)是部署 Tornado 应用程序的不错选择。

这可能会[有所帮助](http://log.liminastudio.com/programming/how-i-got-a-tornado-app-running-on-heroku-in-10-seconds)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-01T04:55:04.547

在 Heroku，Cedar 堆栈尚不支持 WebSockets 协议。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-03T12:25:32.343

在 App Engine 上托管 Tornado 应用程序是绝对可能的；但是，您需要牢记一些注意事项：

*   App Engine 正在通过 WSGI 部署所有内容，这意味着您无法利用 Tornado 的异步功能，前提是 WSGI 在设计上是异步的。如果你能忍受，你需要用以下方式包装你的应用程序`WSGIAdapter`：

    ```
    app = tornado.web.Application(url_list, **server_settings)

    if __name__ == '__main__':
        # start the server if run directly
        import tornado.httpserver
        http_server = tornado.httpserver.HTTPServer(app)
        http_server.listen(8080, address='localhost')
        tornado.ioloop.IOLoop.instance().start()
    else:
        # wrap as WSGI
        import tornado.wsgi
        app = tornado.wsgi.WSGIAdapter(app) 
    ```

*   App Engine 要求在您的源代码中提供所有特定于应用程序的库，因此您不能通过 使用`virtualenvs`或安装库`pip`，并且您的所有模块都**必须**是纯 Python。最好的方法是有一个特殊的目录，而不是由源代码管理跟踪，并在本地安装所有内容`pip install -U -t lib/ -r requirements.txt`（假设该目录名为`lib`. 当然，您需要通过将其添加到应用程序的配置：

    ```
    sys.path.insert(0, os.path.join(os.path.abspath('.'), 'lib')) 
    ```

# performance - 渐近行为 IEnumerable.Intersect vs HashedSet.IntersectWith

> ID：14556747
> 
> 赞同：5
> 
> 时间：2013-01-28T06:42:37.930
> 
> 标签：performance, linq, c#-4.0

我已经阅读了很多关于 HashSet 和 LINQ 集操作的帖子和博客，我得到的印象是 linq 交集方法在内部使用散列集作为第一个集，而 IEnumerable 作为第二个集。所以两者之间的区别要么是 O(n + m) 用于 linq 交集，而 O(n) 用于两个散列集之间的散列集交集。我可以得到确认吗？MSDN 中没有记录 LINQ intersect 的大 O。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T06:52:55.963

嗯，它是特定于实现的，所以理论上它可以改变 - 但基本上不同之处在于使用`HashSet.IntersectWith`你*从*一个哈希集开始，所以你只需要迭代一个集合。

“显而易见”的实现将分别给出 O(M + N) 和 O(N) 的复杂性`Intersect`-`IntersectWith`当然，假设一个不错的哈希码。如果看到任何其他实现，我会感到非常惊讶，而且我当然没有看到任何证据表明任何版本的 .NET 都附带了除此之外的任何东西。

可以说，如果两个参数`Intersect`都已经存在`HashSet<T>`，您*可以*优化它以仅迭代较小的集合并检查每个元素是否在较大的集合中。然而，这有另一个问题，即这些集合可能不会使用相同的比较器作为彼此或作为`Intersect`调用。

有关更多详细信息，请参阅我的[Edulinq 实现并发布](http://codeblog.jonskeet.uk/archive/2010/12/30/reimplementing-linq-to-objects-part-16-intersect-and-build-fiddling)，包括有关 MSDN 中的不准确之处的注释。MSDN[声称](http://msdn.microsoft.com/en-GB/library/bb460136.aspx)（在撰写本文时）：

> 当枚举此方法返回的对象时，Intersect 首先枚举，收集该序列的所有不同元素。然后它枚举第二个，标记出现在两个序列中的那些元素。最后，标记的元素按照它们被收集的顺序产生。

这实际上不是真的，无论是在顺序还是时间方面：

*   它`second`是最初枚举的（完全`MoveNext()`是在返回的序列上第一次调用时）
*   结果是在迭代时产生的`first`——它们是流式传输的，而不是 MSDN 声称的“标记所有内容然后产生结果”

# opencv - OpenCV将具有不同名称的图像写入磁盘

> ID：14556748
> 
> 赞同：1
> 
> 时间：2013-01-28T06:42:47.057
> 
> 标签：opencv, overwrite, ros

我正在编写一个 ROS 节点，我在其中订阅来自另一个节点的图像。我使用**cv_bridge**来使用 imshow 并显示图像。我想将图像保存到磁盘。我使用了 imwrite 并且可以保存它。但是当另一个节点发布另一个图像时，它**会覆盖**同一个文件。每次图像出现时，我都想将图像保存到不同的文件中。

这就是我尝试的方式：-

```
char file[10];
cnt++;                               //each time an image comes increment cnt
sprintf(file,"Image %d",cnt);        //different filename so it doesnt overwrite

imwrite(file,image); 
```

我收到这样的错误：-

![错误信息](../Images/298b8e71d826965f67bc5576b2f2864a.png)

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T07:08:44.223

尝试明确指定扩展名：

```
sprintf(file,"Image %d.jpg",cnt);       
imwrite(file,image); 
```

# git - 如何配置 ~/.gitconfig 文件而不是单个 repo 的 .git/config 文件？

> ID：14556749
> 
> 赞同：1
> 
> 时间：2013-01-28T06:42:49.053
> 
> 标签：git

如何配置 ~/.gitconfig 文件而不是单个 repo 的 .git/config 文件？

```
## use this config if repository belongs to userA@github
[user]
        name = userA
        email = userA@gmail.com

## use this config if repository belongs to userB@github
[user]
        user: userB
        email: userB@yahoo.com 

## use this config if repository belongs to userC@bitbuck
[user]
        user: userC
        email: userC@hotmail.com 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:52:15.477

最简单的方法是：

*   拥有`userA`,`userB`和`userC`本地帐户
*   在各自的本地帐户中克隆每个 GitHub 存储库
*   使用正确的用户名和电子邮件设置全局设置 ( `~userA/.gitconfig`, `~userB/.gitconfig`, )。`~userC/.gitconfig`

在这种情况下，将不需要配置：`~userA`主目录下的任何 repo 克隆都将受益于正确的`user.name`和`user.email`.

但是，如果您尝试在 *one 本地帐户下自动执行此操作，那么您需要提供一些脚本，该脚本将在*本地*配置文件中创建/更新正确的值`~/repo/gitHubCloneRepo/.git/config`。

# php - PHP - 将 JSON 对象转换为变量的快速方法

> ID：14556751
> 
> 赞同：0
> 
> 时间：2013-01-28T06:42:58.233
> 
> 标签：php, json

我有一个 JSON 对象，可以回显以在浏览器中查看，如下所示：

```
stdClass Object
    (
        [webmaster] => "data"
        [analytics] => "data"
        [facebook] => "data"
        [twitter] => "data"
        [maintenance] => 1
    ) 
```

数据是其他值。

我使用以下方法获得上述输出：

```
 $data = json_decode($domainSpecific);
    print_r($data); 
```

什么是将此 JSON 数据转换为 5 个变量的好方法，最好使用 JSON 值的名称 - $webmaster、$analytics、$facebook、$twitter、$maintenance？

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:53:05.870

```
$data = json_decode($domainSpecific);
foreach($data as $key=>$value)
{
    $$key=$value;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:55:02.233

虽然我不确定你为什么要这样做，而且我也不确定这是否是一种很好的编程方式，但这里有一些我尝试过的东西：

```
class Test {
    public $webmaster, $analytics, $facebook, $twitter, $manteinance;
}

$test = new Test();
$test->webmaster = 'Trololo';

$object_vars = get_object_vars($test);

foreach ($object_vars as $varname => $value) {
    $$varname = $value;
}

echo $webmaster; //Trololo 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T07:01:17.163

试试这个[php extract()](http://php.net/manual/en/function.extract.php)

```
$data = json_decode($domainSpecific, TRUE);

extract($data , EXTR_PREFIX_SAME); 
```

***编辑***

是的，您需要使用 true 参数执行 json_decode 以作为数组返回

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T07:01:46.870

```
$data = extract(json_decode($domainSpecific, true));
print_r($data); 
```

# java - 如何在jsp页面中检查会话是否存在

> ID：14556755
> 
> 赞同：1
> 
> 时间：2013-01-28T06:42:59.883
> 
> 标签：java, jsp, struts

我正在构建一个网络应用程序，我需要检查会话是否存在。我想在jsp页面中检查。我在动作类（Struts 2 框架）中创建了我的会话。我不想使用 script-let。有没有办法使用 EL 或其他任何方法来做到这一点？

这就是我想在不使用 script-let 的情况下在 jsp 中实现的

```
<% HttpSession hs=request.getSession(false);
if(hs.isNew())
{

}
%> 
```

这是检查会话的正确方法还是我应该在单独的操作类中做同样的事情，然后将成功映射到 jsp！？？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T06:47:20.517

`pageContext`您可以在 EL中获取和检查使用

```
<c:if test="${pageContext.session['new']}">Session is new</c:if> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:45:53.750

这样做应该很容易。您所要做的就是将此代码放在 servlet 中，但通过 getter 方法使其可访问。然后你可以通过EL访问它。

```
public boolean isNewSession() {
    HttpSession hs=request.getSession(false);
    return hs.isNew();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-30T12:41:20.743

如果您使用的是 Struts 2，最好通过 Interceptor 管理会话。您还需要尽快用 Java 代码处理此会话。所以，

1.  创建一个拦截器，在这里您可以检查是否创建了会话（您可以忽略主页）。

2.  在 struts.xml 文件中使用此 inceptor 创建您自己的包

你完成了。

无论创建了多少 jsp,*.java 页面，这个拦截器都会处理新页面上的会话。

您可以查看[http://www.vitarara.org/cms/struts_2_cookbook/creating_a_login_interceptor](http://www.vitarara.org/cms/struts_2_cookbook/creating_a_login_interceptor)了解如何使用自定义拦截器

# c# - 直接编辑模式下的 Gridview

> ID：14556757
> 
> 赞同：2
> 
> 时间：2013-01-28T06:43:07.140
> 
> 标签：c#, asp.net

我希望 gridview 直接在编辑模式下没有任何编辑/更新链接按钮，我想在每个下一个不同的行选择上更新每一行。我尝试通过将文本框放在 itemTemplate 上并在行命令上传递行索引（创建隐藏按钮）在 rowUpdating 上更新。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T08:14:22.243

请访问[以编程方式将 gridview 行置于编辑模式](https://stackoverflow.com/questions/206983/putting-a-gridview-row-in-edit-mode-programmatically)。有公认的答案。希望，其中一些对你有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:46:40.347

使用组件一 flexgrid [http://www.componentone.com/SuperProducts/FlexGridWinForms/](http://www.componentone.com/SuperProducts/FlexGridWinForms/)这将帮助你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:25:25.930

我不确定我是否理解你，但你可以在你的 datagridview 上使用[CellEndEdit](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.cellendedit.aspx)事件吗？

# php - javascript 可以在不指定 PHP 等键的情况下将元素添加到数组中吗？

> ID：14556760
> 
> 赞同：8
> 
> 时间：2013-01-28T06:43:32.213
> 
> 标签：php, javascript, arrays

在 PHP 中，我可以向数组中添加一个值，如下所示：

```
array[]=1;
array[]=2; 
```

输出将是`0=>'1', 1=>'2';`

如果我在 javascript 中尝试相同的代码，它会返回*Uncaught SyntaxError: Unexpected string*。那么，在 JS 中有什么方法可以像 PHP 一样工作吗？谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-28T06:46:23.673

只需`Array.push`在 javascript 中使用

```
var arr = [1,2,3,4];

// append a single value
arr.push(5);  // arr = [1,2,3,4,5]

// append multiple values
arr.push(1,2) // arr = [1,2,3,4,5,1,2]

// append multiple values as array
Array.prototype.push.apply(arr, [3,4,5]); // arr = [1,2,3,4,5,1,2,3,4,5] 
```

[MDN 上的 Array.push](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/push)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-28T06:49:07.923

以编程方式，您只需“推送”数组中的一个项目：

```
var arr = [];

arr.push("a");
arr.push("b");

arr[0]; // "a";
arr[1]; // "b" 
```

你**不能**做你建议的事情：

```
arr[] = 1 
```

不是**有效**的JavaScript。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-10-24T04:44:56.417

对于特殊情况，您可以使用 next（不带 .push()）：

```
var arr = [];
arr[arr.length] = 'foo';
arr[arr.length] = 'bar';

console.log(arr); // ["foo", "bar"] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:47:23.010

来自[w3schools](http://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_push)

```
<script>
var fruits = ["Banana", "Orange", "Apple", "Mango"];

function myFunction()
{
fruits.push("Kiwi")
var x=document.getElementById("demo");
x.innerHTML=fruits;
}
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-02-25T08:22:22.290

我想找到一种方法来将值作为数组元素添加到变量或属性中，而这种方法尚不存在。（很像 php 的 $var[] = 'foo'。）所以我四处打听，这就是我学到的。

多变的：

```
var arr;
(arr = arr || []).push('foo'); 
```

财产：

```
var obj = {};
(obj.arr = obj.arr || []).push('foo'); 
```

|| 如果为真则返回左边，如果左边为假则返回右边。到 .push() 执行时， arr 是一个数组——如果它还没有的话。

# ios - 应用程序在 default.png 后卡住了黑屏

> ID：14556762
> 
> 赞同：0
> 
> 时间：2013-01-28T06:43:38.727
> 
> 标签：ios, screen, freeze, default.png

嗨，我的应用程序在 default.png 之后卡在黑屏上，然后没有加载任何其他内容。我们将一个旧项目 xcode 3.0 更新为 xcode 4 ，一开始的流程是

appdelegate --> Window (bgcolor-black)--> Rooviewcontroller(bgColor-black) --> 主视图（在广告网络加载的 performlector 的 init 方法结束时）。

注意：它适用于我们的设备，但用户抱怨应用程序卡在黑屏或 UI 无响应。它也是根据旧模板的基于窗口的应用程序。

我们无法掌握问题或可能导致它的原因，请帮助..

以下是代码

```
 mainViewControllerApp *objVC=[[mainViewControllerApp alloc] init];
    objVC.view.frame=[[UIScreen mainScreen] bounds];

    [self.window setRootViewController:objVC]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:59:31.890

只是想一想，`init:`你真的为这个视图控制器指定了初始化器吗？

通常，您要么使用`initWithFrame:`（如果以编程方式创建视图）或`initWithNibName:bundle`（如果从包中加载视图）。

如果*假设*此视图控制器从包中加载视图，这很可能会导致您描述的行为（视图控制器不知道视图在哪里，并且永远不会调用正确的初始化程序）...

# iphone - 如何在自定义单元格中找到按钮框架的 x 、 y 位置

> ID：14556766
> 
> 赞同：3
> 
> 时间：2013-01-28T06:43:50.727
> 
> 标签：iphone, objective-c, frame, cgrect, custom-cell

我用自定义单元格制作了一个表格视图，如下所示。

![自定义单元格][1]

![输出表视图][2]

我需要在每个单元格中使用选择器而不是滑块来设置评级

![在此处输入图像描述](../Images/a950cc8efed77ee6bbb3e67ec7a1abe2.png)

我只需要在按钮下方设置选择器位置，它会随按钮位置而变化

如何实现它。

iu 尝试使用以下框架和边界，但每次都给出相同的值

```
 - (IBAction) buttonClicked:(UIButton *)sender
    {      
          NSLog(@"------%f  %f",sender.frame.origin.x , sender.frame.origin.y); //250, 2

         NSLog(@"------%f  %f",sender.bounds.origin.x , bounds.frame.origin.y); // 0.0 , 0.0

       picker.frame = CGRectMake(sender.bounds.origin.x , sender.bounds.origin.y, 50, 216);
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T06:46:24.293

您在最后一行使用“.x”值两次，而不是第二次使用“.y”值有错字。

此外，您需要将坐标转换为显示选择器的视图的坐标。包括显示选择器的代码，我可以帮助您。

它会是这样的：

```
picker.frame = [viewThatYouAreDisplayingThePickerIn convertRect:sender.frame fromView:sender.superview]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:55:07.900

但是，如果您想获得相对于主视图的按钮框架，请使用此：

```
 CustomCell *cell = (CustomCell *)[self.table cellForRowAtIndexPath:indexPath];

 CGRect buttonFrame = [cell.superview convertRect:cell.customButton.frame toView:self.view]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:59:43.533

按钮有一个名为`locationInView`继承自的方法`UITouch`

```
Returns the current location of the receiver in the coordinate system of the given view.
- (CGPoint)locationInView:(UIView *)view 
```

[苹果开发者参考](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITouch_Class/Reference/Reference.html)

# jsf - primefaces 升级——数据表不工作

> ID：14556767
> 
> 赞同：0
> 
> 时间：2013-01-28T06:43:53.307
> 
> 标签：jsf, primefaces, tomcat7, cdi

最近我将我的项目从 primefaces 3.3.1 升级到 3.4.1 。除了惰性数据模型，其余所有项目都运行良好。我是否必须进行任何其他更改？

我的 xhtml 代码：

```
 <h:panelGroup id="clsTablePanel">
            <p:dataTable var="cls" value="#{classesBean.classModel}"
                sortBy="#{cls.classId}" sortOrder="descending"
                selectionMode="single" selection="#{classesBean.selectedClass}"
                paginator="true" rows="5" paginatorAlwaysVisible="false"
                paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                lazy="true" widgetVar="clsTable" style="width:auto;margin:10px;">
                <p:ajax event="rowSelect" listener="#{classesBean.classRowSelect}"
                    update=":mainTab:clsDetailPanel" />
                <f:facet name="header">
                    <h:outputText value="#{titles.classList}" />
                </f:facet>

                <p:column headerText="Class Id" sortBy="#{cls.classId}"
                    style="width:10%;">
                #{cls.classId}
            </p:column>
                <p:column headerText="Class" sortBy="#{cls.className}"
                    style="width:10%;">
                #{cls.className}
            </p:column>
                <p:column headerText="Coordinator" style="width:20%;">
                #{cls.mtmdemployees.firstName}
            </p:column>
                <p:column headerText="Location" style="width:20%;">
                #{cls.mtmdlocation.locShortName}
            </p:column>

            </p:dataTable>
        </h:panelGroup>
    </div>
    <div>
        <p:outputPanel id="clsDetailPanel">

            <h:form>
                <p:messages id="clsmsgs" style="width:98%;margin:5px auto;" />
                <p:panelGrid columns="4" style="width:98%;margin:5px auto;">
                    <f:facet name="header">
                        <h:outputText value="#{titles.classinfo}"></h:outputText>
                    </f:facet>

                    <h:outputText value="ClassId"></h:outputText>
                    <p:inputText value="#{classesBean.selectedClass.classId}"
                        disabled="true" />

                    <h:outputText value="Class Name"></h:outputText>
                    <p:inputText value="#{classesBean.selectedClass.className}"
                        required="true" requiredMessage="Enter Class Name" />

                    <h:outputText value="Coordinator"></h:outputText>
                    <p:selectOneMenu value="#{classesBean.selectedEmployeeId}"
                        style="height:20px;">
                        <f:selectItems value="#{classesBean.employeesList}" var="emp"
                            itemLabel="#{emp.firstName}" itemValue="#{emp.employeeId}" />
                    </p:selectOneMenu>

                    <h:outputText value="Location"></h:outputText>
                    <p:selectOneMenu value="#{classesBean.selectedLocationId}">
                        <f:selectItems value="#{classesBean.locationList}" var="loc"
                            itemLabel="#{loc.locShortName}" itemValue="#{loc.locationId}" />
                    </p:selectOneMenu>

                    <f:facet name="footer">
                        <p:commandButton widgetVar="updateBt" value="Update"
                            action="#{classesBean.classesUpdate}" ajax="true" process="@form"
                            update="clsmsgs :mainTab:clsTablePanel"
                            disabled="#{classesBean.updateDisable}"
                            style="margin-left:5px;margin-right:5px;" />
                        <p:commandButton widgetVar="createBt" value="Create"
                            action="#{classesBean.classesCreate}" ajax="true" process="@form"
                            update="clsmsgs :mainTab:clsTablePanel"
                            disabled="#{classesBean.createDisable}"
                            style="margin-left:5px;margin-right:5px;" />
                        <p:commandButton widgetVar="clearBt" value="Clear"
                            action="#{classesBean.classesClear}" ajax="true" process="@none"
                            update="@form" oncomplete="clsTable.unselectAllRows()"
                            style="margin-left:5px;margin-right:5px;" />
                    </f:facet>

                </p:panelGrid>
            </h:form>
        </p:outputPanel> 
```

我的惰性数据模型代码：

```
@Named
@WindowScoped
public class ClassLazyDataModel extends LazyDataModel<Mtmdclass> implements
        Serializable {

    static final long serialVersionUID = 12l;
    private static final Log log = LogFactory.getLog(ClassLazyDataModel.class);

    @Inject
    private HibernateUtil hibernateUtil;

    @Inject
    MtmdclassHome clsHome;

    private List<Mtmdclass> clsList = new ArrayList<Mtmdclass>();

    public ClassLazyDataModel() {
    }

    @PostConstruct
    public void init() {
        setDataModelSize();
    }

    public void setDataModelSize() {
        try {
            hibernateUtil.beginTransaction();               
            Long count = clsHome.getClassCount();
            this.setRowCount(count.intValue());
            hibernateUtil.commitTransaction();
            log.debug("Row Count:" + count);
        } catch (Exception ex) {
            if (hibernateUtil.isTransactionActive())
                hibernateUtil.rollbackTransaction();
            log.error("Exception getting employee row count" + ex);
            FacesContext.getCurrentInstance().addMessage(
                    null,
                    new FacesMessage(FacesMessage.SEVERITY_ERROR,
                            "Error getting employee row count",
                            "Error getting employee row count"));
        }
    }

    @SuppressWarnings("unchecked")
    @Override
    public Mtmdclass getRowData(String rowKey) {
        List<Mtmdclass> clsrows = (List<Mtmdclass>) getWrappedData();
        for (Mtmdclass cls : clsrows) {
            if (rowKey.equals((cls.getClassId()).toString()))
                return cls;
        }
        return null;
    }

    @Override
    public Object getRowKey(Mtmdclass cls) {
        log.debug("in getRowKey:classId" + cls.getClassId());
        return cls.getClassId();
    }

    @SuppressWarnings("unchecked")
    @Override
    public List<Mtmdclass> load(int first, int pageSize, String sortField,
            SortOrder sortOrder, Map<String, String> filters) {
        log.debug("First:" + first + " PageSige:" + pageSize + " SortField:"
                + sortField + " SortOrder:" + sortOrder);
        try {
            // MtmdclassHome clsHome = new MtmdclassHome();
            hibernateUtil.beginTransaction();
            clsList = clsHome.lazyLoad(first, pageSize, sortField, sortOrder);
            for (Mtmdclass cls : clsList) {
                Hibernate.initialize(cls.getMtmdlocation());
                Hibernate.initialize(cls.getMtmdemployees());
            }
            hibernateUtil.commitTransaction();
            log.debug("in load: class Row Count: " + clsList.size());
        } catch (Exception ex) {
            if (hibernateUtil.isTransactionActive())
                hibernateUtil.rollbackTransaction();
            log.error("Exception fetching Employee List" + ex);
            FacesContext.getCurrentInstance()
                    .addMessage(
                            null,
                            new FacesMessage(FacesMessage.SEVERITY_ERROR,
                                    "Error Getting Students",
                                    "Error Getting Students"));
        }
        return clsList;
    }
} 
```

我的豆子

```
@Inject
    ClassLazyDataModel classLDM;
private LazyDataModel<Mtmdclass> classModel;

public void loadClassesModel() {
        classModel = classLDM;
    }

            public void classRowSelect() {
                    oldEmpId = selectedClass.getMtmdemployees().getEmployeeId();

                    if (selectedClass.getMtmdemployees() != null) {
                        setSelectedEmployeeId(selectedClass.getMtmdemployees()
                                .getEmployeeId());
                    }
                    if (selectedClass.getMtmdlocation() != null) {
                        setSelectedLocationId(selectedClass.getMtmdlocation()
                                .getLocationId());
                    }
                    updateDisable = Boolean.FALSE;
                    createDisable = Boolean.TRUE;
                }

        public Mtmdclass getSelectedClass() {
                return selectedClass;
            }

            public void setSelectedClass(Mtmdclass selectedClass) {
                this.selectedClass = selectedClass;
            }
    public LazyDataModel<Mtmdclass> getClassModel() {
            return classModel;
        }

        public void setClassModel(LazyDataModel<Mtmdclass> classModel) {
            this.classModel = classModel;
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-04T10:03:17.990

这可能与 3.4 中的部分 ajax 行为更改有关。以下是来自 3.4 迁移指南

```
partialSubmit is now false by default. It can be globally configured using primefaces.SUBMIT context parameter and components can override the global setting with provided partialSubmit attribute 
```

尝试在 web.xml 中将 primefaces.SUBMIT 设置为 true，看看是否解决了。

# c - RegEx 仅匹配字符常量和特定的转义序列

> ID：14556777
> 
> 赞同：0
> 
> 时间：2013-01-28T06:45:11.177
> 
> 标签：c, regex, bison, flex-lexer

我正在尝试匹配字符常量。我只想要单个字符和几个转义序列，而不是 \ 后跟任何字母。

这与这个问题非常相似，增加了特定转义字符的要求。 [匹配转义字符（引号）的正则表达式](https://stackoverflow.com/questions/6525556/regular-expression-to-match-escaped-characters-quotes)

```
'(\\\[tvrnafb\\\]|.)' 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:54:06.650

我觉得很愚蠢，我只需要删除另一个答案中的句号并添加另一个字符类。

```
'(\\[tvrnafb\\]|[^\\'])' 
```

# facebook-graph-api - 具有挑战性的位置匹配 API Facebook -> Foursquare

> ID：14556784
> 
> 赞同：2
> 
> 时间：2013-01-28T06:45:49.703
> 
> 标签：facebook-graph-api, foursquare

我有一个具有挑战性的位置匹配 API 问题，如果这里有任何 Facebook 和 Foursquare API 专家可以提供帮助，我将不胜感激。如何将 Facebook Graph API 中的特定位置与 Foursquare Venue API 中的位置匹配？

```
Given inputs: 
- id of place in Facebook GRAPH API
Wanted output:
- id or any identity of the exact place in FourSqure Venue 
```

例如，一个名为 Starbuck@RaffleCity 的地方在 Facebook 图形搜索中的 id 为 123，您如何在 FourSquare 中找到该地方？

我能想到的一种解决方案是使用从 Facebook 图形 API 获取的该地点的名称作为 Foursquare Venue api 中的字符串搜索，但这并不能保证 100% 正确的地点。星巴克@RaffleCity 对foursquare 场地API 的搜索输入没有给我正确的结果。

尝试过的解决方案：使用纬度和经度。也没有用，因为一拉特长可以匹配很多地方。

# constants - 在 haxe 中声明 const 参数和返回值的语法是什么？

> ID：14556785
> 
> 赞同：2
> 
> 时间：2013-01-28T06:45:50.660
> 
> 标签：constants, haxe

是否可以确保 Haxe 中的 const 正确性？在将数据传递给多方的项目中，这非常重要。我想确保其他程序员在我的数据被公开阅读时不会尝试修改我的数据。他们应该能够阅读并使用特定但不同的功能对其进行修改。

一个非常简单的例子在这里：

```
//Here the returned geometry should be const
public function getGeometry():Geometry {
    return mGeometry;
}

//We might want to declare GeometryTransformation as const to insure
it will not be modified here and will be reusable for other cases.
public function transform(GeometryTransformation):Void{
    //...
    mObservers.sendMessage(GeometryEvent.TRANSFORMATION_OCCURED, this, mGeometry);
} 
```

在很多情况下， const 的正确性可以提高代码的可读性，而无需参考文档。它还使我们免于隐蔽且难以发现的错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T11:46:41.490

您始终可以做的是定义要传递的数据的不可变超类型（接口、超类或匿名类型），然后针对该数据编写所有客户端。

虽然没有 const 这样的东西。您得到的最接近的是只读字段。

# android - 如何使用纬度和经度在 Android 中获取位置名称

> ID：14556792
> 
> 赞同：0
> 
> 时间：2013-01-28T06:46:09.203
> 
> 标签：android

> **可能重复：**
> [如何从纬度和经度获得完整的地址？](https://stackoverflow.com/questions/9409195/how-to-get-complete-address-from-latitude-and-longitude)

如何使用纬度和经度在 Android 中获取位置名称，直到城市名称和街道名称

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:59:10.203

尝试这个

```
private void getAddressGoogleQuery() {
        String address = "";
        try {
            String URL = "http://maps.google.com/maps/geo?q=" + latitude + ","
                    + longitude + "&output=csv";

            String device_address = Get(URL);
            String[] output = device_address.split("\"");

            try {
                address = output[1];
            } catch (Exception e) {
                // TODO: handle exception
            }
            Log.d("Activity", "Address:" + address);
        } catch (Exception e) {
        }

    }

 public static String Get(String URLStr) throws Exception 
 {

        String resultStr = "";
        BufferedReader in = null;
        try 
        {

            HttpClient client = new DefaultHttpClient();
            HttpGet request = new HttpGet(URLStr);
            HttpResponse response = client.execute(request);
            in = new BufferedReader
            (new InputStreamReader(response.getEntity().getContent()));
            StringBuffer sb = new StringBuffer("");
            String line = "";
            String NL = System.getProperty("line.separator");
            while ((line = in.readLine()) != null) {
                sb.append(line + NL);
            }
            in.close();
            resultStr = sb.toString();
            }
            catch(Exception ee)
            {
                ee.printStackTrace();
            }
            finally 
            {
                if (in != null) 
                {
                    try 
                    {
                        in.close();

                    } catch (Exception e) 
                    {
                    }
                }

            }
        return resultStr;
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:47:05.887

[您可以使用反向地理编码](http://developer.android.com/reference/android/location/Geocoder.html)器来实现它。一个示例代码：

```
Geocoder geocoder = new Geocoder(this, Locale.getDefault());
        try {
            List<Address> addresses = geocoder.getFromLocation(latValue,
                    longValue, 1);

            if (addresses != null) {
                Address returnedAddress = addresses.get(0);
                StringBuilder strReturnedAddress = new StringBuilder(
                        "Address:\n");
                for (int i = 0; i < returnedAddress.getMaxAddressLineIndex(); i++) {
                    strReturnedAddress
                            .append(returnedAddress.getAddressLine(i)).append(
                                    "\n");
                }
                myAddress.setText(strReturnedAddress.toString());
            } else {
                myAddress.setText("No Address returned!");
            }
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            myAddress.setText("Canont get Address!");
        } 
```

只需在获得纬度和经度值后放置此代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:54:21.813

您可以使用[Geocoder](http://developer.android.com/reference/android/location/Geocoder.html)类来获取城市和国家信息等信息。

```
Geocoder geocoder;
List<Address> addresses;
geocoder = new Geocoder(this, Locale.getDefault());
addresses = geocoder.getFromLocation(latitude, longitude, 1); 
```

# ios - 访问 iTunes 热门歌曲

> ID：14556795
> 
> 赞同：1
> 
> 时间：2013-01-28T06:46:22.610
> 
> 标签：ios, objective-c, itunes

我正在编写一个 iOS 应用程序，它会每月提醒用户 iTunes 上的前 10 首歌曲是什么。访问 iTunes 热门歌曲列表的最佳方式是什么？我应该使用 PHP 吗？或者是其他东西？谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:51:01.400

您最好的选择可能是使用 Apple 的[RSS](http://itunes.apple.com/rss)页面来访问您需要的内容。一个简单的 iOS [RSS/XML 解析器](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSXMLParser_Class/Reference/Reference.html)就足以对这些数据做任何你想做的事情。

# android - Google Nexus 7 和 10 的布局文件夹

> ID：14556800
> 
> 赞同：18
> 
> 时间：2013-01-28T06:46:36.557
> 
> 标签：android, android-layout

我正在为 google nexus 7 和 10 开发一个应用程序。但是有一个问题。我不知道 7 和 10 应该使用哪个布局文件夹。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-01-28T06:58:09.533

对于关系 7

```
layout-large-hdpi 
```

对于 Nexus 10

```
layout-xlarge-xhdpi 
```

**注意**：只有在您没有提供更高优先级限定符的情况下，该应用才会从这些文件夹中获取图像。例如，如果您提供了一个布局文件夹，例如`layout-sw360dp`应用程序将只从该文件夹中获取图像，即使您已经提供了像我上面所说的那样的单独布局。因为在android中有一个优先顺序，你必须给出布局。

检查此[官方文档](http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources)以了解限定符的优先顺序。

**编辑：** 为平板电脑提供布局在 Android 中是一件非常令人困惑的事情。我在为平板电脑提供布局方面度过了一段糟糕的时光。然而，经过这么多尝试，我终于成功了。话虽如此，您必须记住的一件事是，即使您没有提供正确的文件夹，Android 也会根据设备采用下一个合适的布局文件夹。

现在关于您的评论，对于三星 7，我认为理想的布局是

```
layout-large-mdpi. 
```

而对于三星 7.7，它可能是

```
layout-large-hdpi (which I haven't tried yet) 
```

对于三星 10.1，它将是

```
layout-xlarge-mdpi 
```

关于您的 Nexus 10，您必须制作单独的图像以适合其大小。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-12-26T04:15:52.373

根据[http://android-developers.blogspot.com/2012/07/getting-your-app-ready-for-jelly-bean.html](http://android-developers.blogspot.com/2012/07/getting-your-app-ready-for-jelly-bean.html)

Nexus 7 (2012) 应该是 tvdpi

那么，在我看来

对于 Nexus 7 (2012)

*   **layout-sw600dp-land** , **layout-sw600dp-port**中的布局文件

***   **drawable-sw600dp-tvdpi**中的图片资源** 

 ****对于 Nexus 10

*   **layout-sw720dp-land** , **layout-sw720dp-port**中的布局文件

***   **drawable-sw720dp-xhdpi** (1600x2560)中的图片资源** 

 *** * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-01-28T08:19:05.640

从 android 3.2 开始，您应该使用`layout-sw600dp`7" 平板电脑和`layout-720dp`10" 平板电脑。如果你想保持向后兼容旧版本的 android (pre 3.2, 你也应该使用旧的`layout-xlarge*`符号

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-04-10T16:53:18.137

为了添加到@blackbelt，我在我的 Nexus 7 和 600x1024mdpi 模拟器上进行了测试，发现两者会相差很大。

解决此问题的快速方法是创建布局文件夹：

**布局-sw600dp-土地-tvdpi**

**布局-sw600dp-端口-tvdpi**

由于 tvdpi 密度很少，这已经过测试和验证，特别适用于 Nexus 7。

所以布局文件夹：

**布局-sw600dp-土地**

**布局-sw600dp-端口**

然后将用于具有 mdpi 密度的设备。有更多的设备属于第二类，所以你真的不应该依赖使用没有 tvdpi 的命名约定来支持 Nexus 7。

这显然可以适用于 Galaxy Note 和其他 hdpi 等设备。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-05-23T21:39:20.713

您现在可以使用 Google 设计的“设备指标”网站。它列出了很多设备。

链接：[https ://design.google.com/devices/](https://design.google.com/devices/)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-10-07T07:17:11.453

对于**nexus 10**，您可以将布局放在`layout-sw720dp-land-xhdpi`文件夹中。******

# wpf - 如何在 wpf 数据网格中获取控件

> ID：14556803
> 
> 赞同：0
> 
> 时间：2013-01-28T06:46:42.620
> 
> 标签：wpf, silverlight, wpfdatagrid

我有一个有几行的数据网格。在每一行内，第一列是一个按钮。我有行索引。假设我的行索引是 7。现在我想获取第 7 行内的按钮并更改其内容。

如何在数据网格的特定行中获取此按钮控件并更改其值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:39:21.717

也许，下面的代码可以解决您的问题。

```
<DataGridTemplateColumn>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Click="ShowHideDetails">Details</Button>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
  </DataGridTemplateColumn> 
```

在 Codebehind C# 中访问控件

```
private void ShowHideDetails(object sender, RoutedEventArgs e)
        {
            // You can access the button and do whateve the changes you want
            Button objMyButton = null;
            if (sender is Button)
            {
                objMyButton = (sender as Button);

            }

            //You can access the parent object which means corresponding DataGridRow and do whatever you want

            for (var vis = sender as Visual; vis != null; vis = VisualTreeHelper.GetParent(vis) as Visual)
                if (vis is DataGridRow)
                {
                    var row = (DataGridRow)vis;                 
                    break;
                }
        } 
```

# php - 更新最后插入的 MySQL 数据库 ID

> ID：14556804
> 
> 赞同：1
> 
> 时间：2013-01-28T06:46:44.173
> 
> 标签：php, mysql

我想要做的是我想更新mysql数据库的最后插入的ID，以将我上传的文件名插入到img下最后插入的ID行。

这个添加名称函数将在来自另一个进程脚本的第一个插入查询之后运行，该脚本会将一些其他数据插入到数据库中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:48:23.663

在插入之前你可以运行

```
SELECT MAX(id) from myTable 
```

并插入该ID

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:50:04.927

这个查询可以帮助你，

```
UPDATE tablename SET fieldname = 'value' WHERE id = (SELECT id FROM tablename ORDER BY id DESC LIMIT 0, 1); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:55:01.767

```
$last_id = mysql_insert_id();

$sql = "UPDATE `table_name` SET `field_name` WHERE `id`=$last_id"; 
```

注意：放在`mysql_insert_id()`插入过程之后。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:52:44.930

采用`mysql_insert_id();`

[参考链接： http](http://php.net/manual/en/function.mysql-insert-id.php) ://php.net/manual/en/function.mysql-insert-id.php

```
<?php
$link = mysql_connect('localhost', 'mysql_user', 'mysql_password');
if (!$link) {
    die('Could not connect: ' . mysql_error());
}
mysql_select_db('mydb');

mysql_query("INSERT INTO mytable (product) values ('kossu')");
printf("Last inserted record has id %d\n", mysql_insert_id());
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T07:00:41.157

以下查询可以帮助您解决问题。

```
$last_inserted_id = mysql_insert_id();
$query = "UPDATE table SET field_name = 'value' WHERE id = $last_inserted_id"; 
```

# excel - 如何从不同的excel表中获取数据并粘贴到一张表中

> ID：14556805
> 
> 赞同：0
> 
> 时间：2013-01-28T06:46:46.307
> 
> 标签：excel, excel-formula, export-to-excel, excel-2003

我有许多 excel 表。但是在工作表 1 中，我有假设 1 到 10 的数字。但是工作表 1 中没有数据。我必须从剩余的工作表中复制并在工作表 1 中从 1 到 10 获取它。我怎样才能得到值从 1 到 10 的所有剩余工作表中。

喜欢：

```
sheet 1:
1
2
3
4
5
sheet 2:
1  micheal  100000  dass125   car
2
3
4  jhon     20000   bad1245   jeep
5
sheet 3:
1
2  brad     20000   bcad1254  truck
3
4
5 
```

如何获取表 2 和表 3 中的所有数据并将表 1 从 1 到 5？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T17:15:49.893

我确信有一个更好的解决方案，但这是我想出的：

在 Sheet1!A1 中，放

```
=IF(Sheet2!A1<>"", Sheet2!A1, Sheet3!A1) 
```

在 Sheet1!B1 中，放

```
=IF(Sheet2!B1<>"", Sheet2!B1, Sheet3!B1) 
```

在 Sheet1!C1 中，放

```
=IF(Sheet2!C1<>"", Sheet2!C1, Sheet3!C1) 
```

在 Sheet1!D1 中，放

```
=IF(Sheet2!D1<>"", Sheet2!D1, Sheet3!D1) 
```

然后将其复制到 Sheet1 中的所有 10 行。这假设您的工作表具有您在 A 到 D 列中列出的数据。

# r - 使用 R 中的映射将非数字因子转换为数字列

> ID：14556806
> 
> 赞同：7
> 
> 时间：2013-01-28T06:46:50.643
> 
> 标签：r

我有一个因素在一个`data frame`水平像`hot`, `warm`, `tepid`, `cold`, `very cold`, `freezing`。我想将*它们映射到一个整数列*，其中的值在`[-2, 2]`回归范围内，其中一些值映射到同一事物。我希望能够指定显式映射，以便`very hot`words 映射到`2`、`very cold`words 到`-2`等。我该如何干净地做到这一点？我想要一个函数，我只是将一些命名列表传递给，或者其他东西。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-28T09:54:39.547

假设因子向量`x`包含类别。

```
temperatures <- c("hot", "warm", "tepid", "cold", "very cold", "freezing")
set.seed(1)
x <- as.factor(sample(temperatures, 10, replace=TRUE))
x
[1] warm     tepid    cold     freezing warm     freezing freezing cold    
[9] cold     hot     
Levels: cold freezing hot tepid warm 
```

`temp.map`使用映射创建一个数值向量。请注意，“热”和“暖”映射到下面的相同值。

```
temp.map <- c("hot"=2, "warm"=2, "tepid"=1, "cold"=0, "very cold"=-1, "freezing"=-1)    
y <- temp.map[as.character(x)]
y
warm    tepid     cold freezing     warm freezing freezing     cold 
   2        1        0       -1        2       -1       -1        0 
cold      hot 
   0        2 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-28T06:51:51.820

使用 可以轻松地将因子转换为整数`as.integer`。

例如：

```
>temperatures <- c("Hot", "Warm", "Tiepid", "Cold", "Very cold", "Freezing")
> set.seed(12345)
> a <- sample(temperatures, 10, r=T)
> a <- factor(a, levels = temperatures)
> a
 [1] Very cold Freezing  Very cold Freezing  Tiepid    Hot       Warm     
 [8] Cold      Very cold Freezing 
Levels: Hot Warm Tiepid Cold Very cold Freezing
> as.integer(a)
 [1] 5 6 5 6 3 1 2 4 5 6 
```

如果你需要它在 [-2;2] 范围内，你会做

```
> as.integer(a)-3
  [1]  2  3  2  3  0 -2 -1  1  2  3 
```

# ios - 在 iOS 中从服务器实现注销（计时器事件）

> ID：14556808
> 
> 赞同：0
> 
> 时间：2013-01-28T06:46:54.433
> 
> 标签：ios, nstimer

我正在尝试在 iPad 中实现用户从服务器的自动注销。这是我的学长一直在使用的代码。

```
- (void) Logout:(id) sender
{
    @autoreleasepool
    {   
        NSDate *date    = [NSDate dateWithTimeIntervalSinceNow:logoutUser];
        if (timerLogout) {
            [timerLogout invalidate];
            timerLogout = nil;
        }
        timerLogout = [[NSTimer alloc] initWithFireDate:date interval:logoutUser target:self selector:@selector(CallToLogout:) userInfo:nil repeats:NO];

        NSRunLoop *runLoop = [NSRunLoop currentRunLoop];
        [runLoop addTimer:timerLogout forMode:NSRunLoopCommonModes];
        [runLoop run];
    }
} 
```

我面临的问题是，例如，当自动注销的时间是 60 分钟时，iPad 会在 20 分钟左右从服务器注销。不知道为什么会这样？

如果需要更多信息，我可以提供.. 需要一些指导。

# jquery - 将类添加到 var jquery

> ID：14556812
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:47:08.807
> 
> 标签：jquery, css, toggle

这很可能在各个地方都被屠杀了，但希望我能得到答案。

我有两个标签。当我单击 Tab1 时，我想向 Tab2 添加一个 CSS 类。一次只能单击一个选项卡，因此单击 Tab1 时，它变为“不可单击”，而可以单击另一个选项卡。

我正在考虑创建一个函数并将这两个选项卡作为参数传递给 jQuery 函数，但我认为这不是正确的方法......这是代码：

```
 function toggleTabs(tabClicked,otherTab){
    var tabClicked = tabClicked;
    var otherTab = otherTab;    
    if(tabClicked).hasClass("regLogPassive") {
        tabClicked.addClass("regLogActive");
        otherTab.removeClass("regLogActive");
    } else {
        return();
    }
}

$(".tab1").click(function() {
    toggleTabs($(".tab1"), $(".tab2"));
});

$(".tab2").click(function() {
    toggleTabs($(".tab2"), $(".tab1"));
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:50:01.990

试试这段代码：

HTML：

```
<div class="tab">tab1</div>
<div class="tab">tab2</div> 
```

JS：

```
$(".tab").click(function() {
    if($(this).hasClass("active")){
        return;
    }

    $(".tab.active").removeClass("active");
    $(this).addClass("active");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:50:34.193

您有语法错误，这将停止您的代码执行。您的代码似乎没问题。

改变

```
 return(); 
```

到

```
 return; 
```

# android - 致命异常：Asyntask#5 Android 运行时异常

> ID：14556813
> 
> 赞同：0
> 
> 时间：2013-01-28T06:47:13.167
> 
> 标签：android, httpresponse

此代码有时有效，但不幸的是停止工作。我没有在后台更改任何东西（UI）。

给出以下错误。

```
01-28 06:42:53.060: E/AndroidRuntime(4993): FATAL EXCEPTION: AsyncTask #1
01-28 06:42:53.060: E/AndroidRuntime(4993): java.lang.RuntimeException: An error occured while executing doInBackground()
01-28 06:42:53.060: E/AndroidRuntime(4993):     at android.os.AsyncTask$3.done(AsyncTask.java:299)
01-28 06:42:53.060: E/AndroidRuntime(4993):     at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:352)
01-28 06:42:53.060: E/AndroidRuntime(4993):     at java.util.concurrent.FutureTask.setException(FutureTask.java:219)
01-28 06:42:53.060: E/AndroidRuntime(4993):     at java.util.concurrent.FutureTask.run(FutureTask.java:239)
01-28 06:42:53.060: E/AndroidRuntime(4993):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
01-28 06:42:53.060: E/AndroidRuntime(4993):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)

    And also could you please explain how to get Respose when i am recieving Respose as Event from TIBCO BE. it is replying with event with properties (Status). 
```

IN onCreateBudle new MyTask().execute(u); startActivity(new Intent(AddUserActivity.this,InputActivity.class));

```
 ProgressDialog dialog;       
                @Override
                protected void onPreExecute() {
                    // TODO Auto-generated method stub
                    super.onPreExecute();
                    dialog = ProgressDialog.show(AddUserActivity.this, "",
                            "User is Registering...");

                }
                @Override
                protected String doInBackground(String... uri) {
            String responseString = null;

                    HttpClient httpclient = new DefaultHttpClient();
                    HttpResponse response;
                    HttpParams params;

                    try {
                        response = httpclient.execute(new HttpGet(uri[0]));
                        StatusLine statusLine = response.getStatusLine();

                        if (statusLine.getStatusCode() == HttpStatus.SC_OK) {
                            ByteArrayOutputStream out = new ByteArrayOutputStream();
                            response.getEntity().writeTo(out);

                            responseString = response.getEntity().getContent().toString();

                            /*params = response.getParams();

                            responseString = (String) params.getParameter("Status");*/
                            out.close();

                        } else {
                            // Closes the connection.
                            response.getEntity().getContent().close();
                            throw new IOException(statusLine.getReasonPhrase());
                        }
                    } catch (ClientProtocolException e) {
                        // TODO Handle problems..
                    } catch (IOException e) {
                        // TODO Handle problems..
                    }

                    return responseString;
                }

                @Override
                protected void onPostExecute(String result) {
                    super.onPostExecute(result);

                    Log.e("OnPostExecute",result);

                    dialog.dismiss();

                    Toast.makeText(AddUserActivity.this, "User Registerd", Toast.LENGTH_LONG).show();}  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T06:53:59.160

```
 @Override
    protected void onPostExecute(String result) {
    // super.onPostExecute(result);

       Log.e("OnPostExecute",result);
       try {
                dialog.dismiss();
                dialog = null;
            } catch (Exception e) {
                e.getMessage();
            }

    } 
```

试试这个跳它对你有帮助。

# windows-phone-8 - 如何在 Windows Phone 8 上的文件夹中获取文件？

> ID：14556816
> 
> 赞同：2
> 
> 时间：2013-01-28T06:47:21.347
> 
> 标签：windows-phone-8

如何获取 Windows Phone 8 文件夹中的文件列表？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-28T07:29:06.780

```
 IsolatedStorageFile file = IsolatedStorageFile.GetUserStoreForApplication();
   if(file.GetDirectoryNames().Contains("Personal"))
        {

            string directory = "Personal/";
            string[] filenames = file.GetFileNames(directory);
            List<FileData> files = new List<FileData>();
            foreach(string filename in filenames)
            {
                FileData f = new FileData();
                f.filename = filename;
                files.Add(f);

            }

            lstFiles.ItemsSource = files;
        } 
```

这只是一个从名为 Personal 的目录中检索文件的代码片段

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T09:05:29.240

在 Windows Phone 8 中，您应该使用 StorageFile 和 StorageFolder API：
[快速入门：在 Windows Phone 8 中处理文件和文件夹](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj681698%28v=vs.105%29.aspx)

# android - JacksonParser：找不到文件或目录

> ID：14556818
> 
> 赞同：0
> 
> 时间：2013-01-28T06:47:23.547
> 
> 标签：android, json, jackson, filenotfoundexception

我正在尝试运行一个简单的杰克逊解析器，但是当我试图从 Json 文件中获取数据时，它会告诉“\user.json（没有这样的文件或目录）”。

杰克逊解析器：

```
public class JacksonParser {

    static ObjectMapper mapper = new ObjectMapper();

    public static User mapping() throws JsonParseException,
            JsonMappingException, IOException {

        User user = mapper.readValue(new File("user.json"), User.class);
        if (user == null)
            return user;
        return user;
    }

} 
```

User.java（pojo 类）：

```
public class User {
    public enum Gender {
        MALE, FEMALE
    };

    public static class Name {
        private String _first, _last;

        public String getFirst() {
            return _first;
        }

        public String getLast() {
            return _last;
        }

        public void setFirst(String s) {
            _first = s;
        }

        public void setLast(String s) {
            _last = s;
        }
    }

    private Gender _gender;
    private Name _name;
    private boolean _isVerified;

    public Name getName() {
        return _name;
    }

    public boolean isVerified() {
        return _isVerified;
    }

    public Gender getGender() {
        return _gender;
    }

    public void setName(Name n) {
        _name = n;
    }

    public void setVerified(boolean b) {
        _isVerified = b;
    }

    public void setGender(Gender g) {
        _gender = g;
    }

} 
```

主要活动：

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        TextView textview = (TextView) findViewById(R.id.textView);
        User user = null;

        try {
            user = JacksonParser.mapping();
        } catch (Exception e) {
            e.getStackTrace();
        }

        textview.setText("" + user.getName() + " " + user.getGender() + " " + user.isVerified());
    }

} 
```

用户.json：

```
{
    "name" : { "first" : "Joe", "last" : "Sixpack" },
    "gender" : "MALE",
    "verified" : false,
} 
```

更新：我更正了上一个错误，但坚持下一个错误。它告诉“\user.json（没有这样的文件或目录）”我已经更新了这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-02T14:19:09.063

您的问题根本与杰克逊无关，这更像是一个 Java 一般问题。当您执行 new File("user.json") 时，这会创建一个相对文件路径：它是相对于您的应用程序工作目录的。该文件不在您当前的工作目录中，因此 Java 找不到该文件。您需要为文件提供更完整的路径才能使其正常工作。

# ruby-on-rails - Ruby on Rails：使用 Devise gem 通过 LDAP 实现 SSO

> ID：14556820
> 
> 赞同：6
> 
> 时间：2013-01-28T06:47:30.613
> 
> 标签：ruby-on-rails, devise, ldap, single-sign-on

我只是想通过将 LDAP 作为使用“设计”gem 进行身份验证的数据库来在 Rails 3 应用程序中实现 SSO。

我找到了一个示例[http://corrupt.net/2010/07/05/LDAP-Authentication-With-Devise/](http://corrupt.net/2010/07/05/LDAP-Authentication-With-Devise/)，它只讨论了在 Rails 应用程序中使用“Devise”gem 实现 LDAP，而不是 SSO 实现等其他功能，更新LDAP 信息，如密码或任何其他信息。

是否有任何可用的演示/链接/参考可以提供帮助？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T09:28:49.100

我最近使用 RubyCAS 和 LDAP 部署了一个 SSO 平台，它运行良好，但您需要生成 SSL 证书才能使用它。

您可以使用多个身份验证器：如果 LDAP 连接器失败，我将 LDAP 与 AD Microsoft 一起使用并备份到 MySQL 数据库。

RubyCAS 现在是一个独立的应用程序，更易于定制。

对于使用 devise 的应用程序，您可以使用 devise_cas_authenticable gem，易于设置。您只需要更改 User 模型并将 ruby​​cas 服务器地址添加到您的 devise.rb 初始化程序中。

如果您想拒绝尚未在现有应用程序中创建的新用户访问，您也可以拒绝在应用程序中创建用户。

[https://github.com/rubycas/rubycas-server](https://github.com/rubycas/rubycas-server) || [https://github.com/nbudin/devise_cas_authenticable](https://github.com/nbudin/devise_cas_authenticatable)

希望很清楚。

# android - android浏览器参数“最大响应大小”和“最大多部分响应大小”

> ID：14556825
> 
> 赞同：1
> 
> 时间：2013-01-28T06:47:53.173
> 
> 标签：android, html, browser

我需要从我的android手机中获取四个参数，有什么方法可以获取它。如果不能得到它们，我可以使用任何参考值吗？我的手机屏幕尺寸是 640x960。

1.maxResponseSize（设备可以处理的最大响应大小）。这是您可以在浏览器中下载和可视化的最大尺寸。如果下载的页面太大，浏览器只能看到部分内容，页面不完整。

2.usableHeight（我猜是800）（设备浏览器的可用高度）。这不是屏幕高度，而是浏览器本身，因为它可以更小。

3.usableWidth（我猜是640）（设备浏览器的可用宽度）。这不是屏幕宽度，而是浏览器本身，因为它可以更小。

4.maxMultipartResponseSize（如果存在这个也很好知道）设备可以处理的最大响应大小，用于标记和图像的多部分响应）**

# parallel-processing - 为什么不总是使用 MPI_BYTE？

> ID：14556826
> 
> 赞同：0
> 
> 时间：2013-01-28T06:47:56.650
> 
> 标签：parallel-processing, multiprocessing, mpi

如果我不必关心异构系统上的可移植性（字节序...）：

为什么不使用 MPI_BYTE 进行所有通信？

特别是对于集体以及在处理组合数据类型时，这将使生活变得更加轻松。

**编辑：**我刚刚找到[MPI 和 C structs](https://stackoverflow.com/questions/2754090/mpi-and-c-structs)。答案适用于我的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T10:43:49.213

好的，扩展我的尖刻评论的答案：

...出于同样的原因，我们不使用字节进行所有计算。在处理现代计算机程序中遇到的那种复杂性时，数据类型是一个巨大的帮助。为了支持这一断言，我引用了它们在汇编语言级别以上的所有编程语言中的存在，但即使在该级别，也存在数据类型的痕迹。

MPI 最常用的领域中的主要语言，即 Fortran、C 和 C++，具有与 MPI 中定义的数据类型密切对应的数据类型。当然，因果链在另一个方向上起作用，MPI 有这些类型，因为那些语言有。所有这些语言都允许程序员定义由更基本的数据类型组成的更多数据类型，再次帮助处理解决计算机难题的复杂性；MPI 也支持创建派生类型。

我不同意您的结论，即仅处理字节会使（MPI）编程更容易，它会使我的编程更加困难。如果我想从一个进程向另一个进程发送一条包含 24 个整数的消息，我想发送一个整数类型且长度为 24 的消息，我不想摆弄将其转换为多个字节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T13:28:23.760

以下是使用类型发送 3 维 NxNxN 数组切片的方法：

```
double array[N][N][N];

 /* ... */

MPI_Datatype xslice, yslice, zslice;

int starts[3]   = {0,N-2,0};
int sizes[3]    = {N,N,N};
int subsizes[3] = {N,2,N};

MPI_Type_create_subarray(3, sizes, subsizes, starts, MPI_ORDER_C, MPI_DOUBLE, &yslice);
MPI_Type_commit(&yslice);

/* ... */

MPI_Send(&(array[0][0][0]), 1, yslice, neigh, ytag, MPI_COMM_WORLD); 
```

`MPI_BYTE`仅使用而不使用其他类型构造函数的更简单、无需键入的方法是什么？

*所有*高性能计算最终都归结为理解内存和数据布局，而使用更高级别的抽象有助于实现这一点。

如果您遇到问题`MPI_Type_create_struct`，那么您来对地方了（或其中之一）。如果你来找人同意你的观点，是的，学习新东西太难而且不值得，你可能来错地方了。

**编辑添加：**。我同意在 C 和 Fortran 中，对于序列化（不仅仅是 MPI）来说，结构是一种痛苦的处理方式，为此我将其归咎于它们不可原谅的缺乏任何形式的甚至是基本的内省。要描述它们，您必须重申它们的类型和计数，这违反了 DRY 原则。到处都是一团糟，而且可能有不止一个代码只使用 sizeof(struct foo) MPI_BYTEs 来描述它们。但这是一个失败的具体例子。

现在您已正确发送和接收这些内容，您决定使用 MPI-IO（或就此而言，使用 HDF5 或 NetCDF 或...）将它们保存到文件中。您使用与它们通信相同的方法来描述它们，当然，作为 sizeof(struct foo) 字节。

然而，C 几乎没有告诉你这些结构是如何布局的。允许编译器对布局做各种事情，特别是插入填充。如果所有任务都运行使用相同编译器和标志在相同类型的机器上编译的相同代码，这通常不是通信问题。

但是现在，当您不可避免地使用相同的代码加载该文件但使用不同的编译器编译，或者甚至使用相同的编译器但使用不同的标志时，所有的赌注都没有了。数据布局可能不同，导致垃圾值 - 或者填充量可能不同，导致您读取文件末尾。

您可以通过不同地描述文件 I/O 和通信的数据来解决这个问题，但现在很难说这会使事情变得更简单。您最好一开始就正确描述数据。

# vba - 如何在 VBA 中的 Outlook-2007 中的“已发送邮件”文件夹中获取消息 ID 或标题

> ID：14556829
> 
> 赞同：4
> 
> 时间：2013-01-28T06:48:15.880
> 
> 标签：vba, outlook, outlook-2007

[这是这个主要](https://stackoverflow.com/questions/14418643/in-ms-outlook-report-all-sent-messages-that-havent-received-replies)问题的一个子问题

我可以使用以下函数循环获取其他文件夹的 Internet 标头

```
Sub testing()
Dim ns As Outlook.NameSpace
Dim folder As MAPIFolder
 Dim item As MailItem
Set ns = Session.Application.GetNamespace("MAPI")
Set folder = ns.GetDefaultFolder(olFolderInbox)

 For Each item In folder.Items

    If (item.Class = olMail) Then
        GetInetHeaders item
    End If
Next item

End Sub

Function GetInetHeaders(olkMsg As MailItem) As String

    ' Purpose: Returns the internet headers of a message.'

    ' Written: 4/28/2009'

    ' Author:  BlueDevilFan'

    ' Outlook: 2007'

    Const PR_TRANSPORT_MESSAGE_HEADERS = "http://schemas.microsoft.com/mapi/proptag/0x007D001E"

    Dim olkPA As Outlook.PropertyAccessor

   Set olkPA = olkMsg.PropertyAccessor

    GetInetHeaders = olkPA.GetProperty(PR_INTERNET_MESSAGE_ID)

    Debug.Print olkMsg.Subject
    Debug.Print GetInetHeaders

    Set olkPA = Nothing

End Function 
```

但是没有在“已发送邮件”文件夹上工作，有没有人对此有经验或参考？

**FAIL** 属性不返回任何内容

```
Sub testing2()
Dim item As MailItem
Set Store = Application.GetNamespace("MAPI").Folders
  For Each StoreFolder In Store

      For i = 1 To StoreFolder.Folders.Count
        If StoreFolder.Folders(i).Name = "Sent Items" Then
            For Each item In StoreFolder.Folders(i).Items
                If (item.Class = olMail) Then
                    GetInetHeaders item
                End If
            Next item
            Exit For
        End If
      Next
    Exit For

  Next
End Sub 
```

**编辑**如果无法实现，我可以在电子邮件中自己密件抄送。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T18:02:00.873

PR_TRANSPORT_MESSAGE_HEADERS 仅适用于从 POP3 帐户接收的邮件。它永远不会在传出消息上设置。此外，绝对没有理由遍历所有文件夹 - 使用 Application.Session.GetDefaultFolder(olFolderSentMail) - 即使“已发送邮件”文件夹名称已本地化，它也会起作用。其次，您真的需要处理文件夹中的**所有项目吗？**

检查是否设置了 PR_INTERNET_MESSAGE_ID（DASL 名称 schemas.microsoft.com/mapi/proptag/0x1035001F）属性。

# mysql - 仅在没有行匹配的情况下选择

> ID：14556833
> 
> 赞同：0
> 
> 时间：2013-01-28T06:48:30.903
> 
> 标签：mysql, sql, select

我需要一个能够在名称“未分类”时区分的查询

例如

```
+---------+------+------+
|Full Name|Cat_ID|Option|
+---------+------+------+
|John Doe |1     |1     |
|John Doe |2     |0     |
|John Doe |3     |0     |
|Jane Doe |1     |0     |
|Jane Doe |2     |0     |
|Jane Doe |3     |0     |
+---------+------+------+ 
```

我需要一个可以获取 Jane Doe 的查询，因为所有类别中没有选项 = 1。
不幸的是，由于所有名称都有 0 至少 1 个类别，我最终会提取每个人。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T06:50:41.750

```
SELECT DISTINCT Fullname
FROM    tablename
WHERE   fullname NOT IN
        (
            SELECT  a.FullName
            FROM    tablename a
            WHERE   a.option = 1
        ) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ea522/2)

另一种方法是使用`LEFT JOIN`

```
SELECT  DISTINCT aa.Fullname
FROM    tablename aa
        LEFT JOIN
        (
            SELECT  a.FullName
            FROM    tablename a
            WHERE   a.option = 1
        ) bb ON aa.Fullname = bb.Fullname
WHERE   bb.Fullname IS NULL 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/ea522/5)

我更喜欢使用`JOIN`over `NOT IN`。为了获得更好的性能，请定义一个`INDEX`on 列`FullName`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T07:19:46.583

这是另一种方法。

```
SELECT `fullName`
FROM `your_table`
GROUP BY `fullName`
HAVING SUM(`option`)=0 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T06:51:13.290

可能是这样的？（可能不是最有效的，但应该可以）

```
SELECT full_name FROM table WHERE full_name NOT IN (SELECT full_name FROM table WHERE option=1); 
```

# ios - 使用前向地理编码获取iOS中许多地址的纬度和经度时如何添加延迟？

> ID：14556840
> 
> 赞同：2
> 
> 时间：2013-01-28T06:48:57.173
> 
> 标签：ios, objective-c, geocoding, delay

我的核心数据中有一些地址，我需要获取它们的纬度和经度。地址的数量大约在 150 到 200 之间。我在[iPhone iOS5 CLGeocoder 如何对一大组（200）地址集进行地理编码？](https://stackoverflow.com/questions/10619879/iphone-ios5-clgeocoder-how-to-geocode-a-large-200-set-of-addresses). 我需要知道如何在那一分钟内触发 50 个地理编码，然后再触发 50 个，依此类推。执行代码我得到以下错误：

> 地理编码失败并出现错误：错误域 = kCLErrorDomain 代码 = 2“操作无法完成。（kCLErrorDomain 错误 2。）”

用户 nob1984 在我提到的线程中提出了一个可能的解决方案：

> 如果您需要一次对所有内容进行地理编码，则需要将地理编码与每个块之间的延迟链接在一起，并在完成之前显示某种忙碌指示符。使用大量地理编码可能需要一段时间。

但我不知道如何使这些延迟正常工作。欢迎任何帮助和建议！谢谢

这是代码：

```
...
NSArray *arrayOfRoutePoints = fetchedObjects;
[self geolocateGroup:arrayOfRoutePoints];
...

- (void)geolocateGroup:(NSArray *)array {
for (RoutePoint *rp in array) {
    if ([rp.addressLatitude intValue] == 0) {
        dispatch_group_t group = dispatch_group_create();
        dispatch_group_enter(group);

        [self geolocateRoutePoint:rp];

        dispatch_group_leave(group);

        while(dispatch_group_wait(group,DISPATCH_TIME_NOW)){
            [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
                                     beforeDate:[NSDate dateWithTimeIntervalSinceNow:3.0f]];
        }
    }
}    
}     

- (void)geolocateRoutePoint:(RoutePoint *)c {
CLGeocoder *geocoder = [[CLGeocoder alloc] init];
NSString *addressString = [NSString stringWithFormat:@"%@,%@ %@ %@ %@",
                           c.addressName,
                           c.addressNumber,
                           @"SOME CITY",
                           @"SOME STATE",
                           @"SOME COUNTRY"];

[geocoder geocodeAddressString:addressString
             completionHandler:^(NSArray *placemarks, NSError *error) {

                 if (error) {
                     NSLog(@"Geocode failed with error: %@", error);
                     return;
                 }

                 if (placemarks && placemarks.count > 0)
                 {
                     CLPlacemark *placemark = placemarks[0];

                     CLLocation *location = placemark.location;
                     c.addressLatitude =  [NSNumber numberWithDouble:location.coordinate.latitude];
                     c.addressLongitude = [NSNumber numberWithDouble:location.coordinate.longitude];
                 }
             }];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T19:57:29.307

嗯，也许只是在你的 GCD 中使用“afterDelay”，而不是 NSDate。

```
[self performSelector:@selector(geolocateGroup) 
withObject:@"Grand Central Dispatch" afterDelay:3.0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T23:40:51.470

我在回复 Droidnoid 时想到了一个主意，它可以工作。

这是交易：递归。地理编码完成后，它会以 3 秒的时间间隔开始一个新的地理编码请求。我现在变成了只有一种方法。

```
...
NSMutableArray *arrayOfRoutePoints = [[NSMutableArray alloc] initWithArray:fetchedObjects];
[self geolocateRoutePoint:arrayOfRoutePoints];
...

- (void)geolocateRoutePoint:(NSMutableArray *)mutableArrayWithRoutePoints {

if ([mutableArrayWithRoutePoints count] > 0) {
    RoutePoint *c = [mutableArrayWithRoutePoints objectAtIndex:0];

    if ([c.addressLatitude intValue] == 0) {
        CLGeocoder *geocoder = [[CLGeocoder alloc] init];
        NSString *addressString = [NSString stringWithFormat:@"%@,%@ %@ %@ %@",
                                   c.addressName,
                                   c.addressNumber,
                                   @"SOME CITY",
                                   @"SOME STATE",
                                   @"SOME COUNTRY"];

        [geocoder geocodeAddressString:addressString
                     completionHandler:^(NSArray *placemarks, NSError *error) {

                         [mutableArrayWithRoutePoints removeObjectAtIndex:0];
                         [self performSelector:@selector(geolocateRoutePoint:)
                                    withObject:mutableArrayWithRoutePoints afterDelay:3.0];

                         if (error) {
                             NSLog(@"Geocode failed with error: %@", error);
                             return;
                         }

                         if (placemarks && placemarks.count > 0)
                         {
                             CLPlacemark *placemark = placemarks[0];

                             CLLocation *location = placemark.location;
                             c.addressLatitude =  [NSNumber numberWithDouble:location.coordinate.latitude];
                             c.addressLongitude = [NSNumber numberWithDouble:location.coordinate.longitude];

                             // Saving the context here after getting geocode.
                             // Definitely not the best place to save the context. 
                             // I will move this later to another place
                             NSError *error = nil;
                             if (![self.managedObjectContext save:&error]) {
                                 NSLog(@"Error! %@", error);
                             }
                         }
                     }];
    }
    else
    {
        [mutableArrayWithRoutePoints removeObjectAtIndex:0];
        [self performSelector:@selector(geolocateRoutePoint:)
                   withObject:mutableArrayWithRoutePoints];
    }
}
} 
```

# python - 如何从网络加载 PyQt4 中的 .ico 文件

> ID：14556841
> 
> 赞同：3
> 
> 时间：2013-01-28T06:48:58.617
> 
> 标签：python, path, pyqt, icons, pyqt4

我有一个用 PyQt4 开发的应用程序。

它为窗口和 QMenus 设置了图标。

所有客户端系统都安装了python。PyQt4 是从网络位置加载的`(\\system_xyz\PyQt4)`。

该应用程序在图标加载正确的开发人员系统中运行良好。但是当在客户端上运行相同的脚本时，应用程序可以工作，但不会加载图标。

在我的应用程序中，我也使用了 Qsql 驱动程序。它也有同样的问题。适用于开发人员系统，但不适用于客户端系统。

我可以通过向应用程序添加 sql 插件路径来克服这个 sql 驱动程序问题，如下所示

```
SQLDriverPath = (r'\\system_xyz\PyQt4\plugins\sqldrivers')
QtGui.QApplication.addLibraryPath(SQLDriverPath) 
```

我开始明白 pyqt4 需要`qico4.dll`读取 .ico 文件。所以我添加`imageformats`了应用程序的路径。但它没有用。

```
ImageDriverPath = (r'\\system_xyz\PyQt4\plugins\imageformats')
QtGui.QApplication.addLibraryPath(ImageDriverPath) 
```

任何人都可以建议我一种正确的方法来解决我从网络在 PyQt 应用程序中加载 .ico 的问题吗

**我的更新**

我做了以下列出支持的图像格式。

```
import sys

sys.path.append(r'r'\\system_xyz')

from PyQt4 import QtGui

for imageType in QtGui.QImageReader.supportedImageFormats():
    print imageType 
```

输出

```
bmp
pbm
pgm
png
ppm
xbm
xpm 
```

添加后我尝试如上列出，`imageformats`即使在创建后尝试过OP也是一样的`QtGui,QApplication()`。同样的结果没有变化。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-05-07T18:34:02.200

尽管答案已被接受，但这里有一个更好的网络 PyQt4 插件加载解决方案。

在查看了官方的 addLibraryPath 页面后，我发现你必须使用`QtCore.QCoreApplication.addLibraryPath()`. 因此，不要使用 QtGui 版本，而是使用如下：

```
QtCore.QCoreApplication.addLibraryPath( '//server/location/PyQt4/plugins' )
app = QtGui.QApplication(sys.argv) 
```

如果您在创建 QApplication 之前执行此操作，您将被设置。我什至根本不需要使用 qt.conf 从我的网络驱动器正确加载插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T10:59:25.363

您可以在 qt.conf 文件中设置路径，并将此文件放在应用程序的可执行文件的位置。

从网络位置访问 PyQt4 说 \somesystem\Share\PyQt4

您可以在 \\somesystem\Share\PyQt4 中找到一个 qt.conf 文件，将其复制并将 .conf 文件粘贴到应用程序的可执行文件的位置。

在 qt.conf 中编辑以下行

```
[Paths]
Prefix = //somesystem/Share/PyQt4
Binaries = //somesystem/Share/PyQt4 
```

一切正常，甚至会加载 sqldrivers。无需使用 app.addLibraryPath 您还可以在设置中包含此文件，以便自动安装。

# c# - 查询以检测重复行

> ID：14556842
> 
> 赞同：8
> 
> 时间：2013-01-28T06:49:02.247
> 
> 标签：c#, .net, linq, duplicates

我已经使用 c# 将 XML 文件中的数据读取到 DataSet 中，而不是想识别该集中的重复（完全相同）行。我尝试了这种分组，并且有效！

```
var d= from r1 in table.AsEnumerable()
       group r1 by new
       {
            t0 = r1[0],
            t1 = r1[1],
            t2 = r1[2],
            t3 = r1[3],
            t4 = r1[4],
            t5 = r1[5],
            t6 = r1[6],
            t7 = r1[7],
            t8 = r1[8],
       }
       into grp
       where grp.Count() > 1
       select grp; 
```

但是数据列的数量可以不同，所以我不能像上面那样在查询中应用静态分组。我必须动态生成分组数组？

**我不想删除重复的，我只想找到它们！**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T06:53:41.470

```
var rows = table.AsEnumerable();
var unique = rows.Distinct(DataRowComparer.Default);
var duplicates = rows.Except(unique); // , DataRowComparer.Default); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-28T06:56:02.407

试试这个

```
DataTable dt = TableName;
dt = oPerformance.RemoveDuplicateRows(dt, ColToCompareAndRemove); 
```

这是函数 RemoveDuplicateRows

```
public DataTable RemoveDuplicateRows(DataTable dTable, string colName)
        {
            Hashtable hTable = new Hashtable();
            ArrayList duplicateList = new ArrayList();

            //Add list of all the unique item value to hashtable, which stores combination of key, value pair.
            //And add duplicate item value in arraylist.
            foreach (DataRow drow in dTable.Rows)
            {
                if (hTable.Contains(drow[colName]))
                    duplicateList.Add(drow);
                else
                    hTable.Add(drow[colName], string.Empty);
            }

            //Removing a list of duplicate items from datatable.
            foreach (DataRow dRow in duplicateList)
                dTable.Rows.Remove(dRow);

            //Datatable which contains unique records will be return as output.
            return dTable;
        } 
```

# c# - 隐藏 DataGridView 网格线

> ID：14556848
> 
> 赞同：1
> 
> 时间：2013-01-28T06:49:21.313
> 
> 标签：c#, winforms, datagridview, .net-2.0

我已经看到[了这个](https://stackoverflow.com/questions/6825710/how-to-hide-the-grid-lines-of-a-datagridview-winforms-c-sharp)问题，并已设置`CellBorderStyle`为`None`，但由于某种原因，我的网格线仍然存在`DataGridView`：

![在此处输入图像描述](../Images/1637bbfca7a357f4368e8bc988fad72f.png)

这是我用来初始化控件的代码：

```
public FtpTransferGridView()
{
    this.AutoGenerateColumns = false;
    this.DoubleBuffered = true;
    this.ReadOnly = true;
    this.AllowUserToAddRows = false;
    this.AllowUserToDeleteRows = false;
    this.AllowUserToResizeRows = false;
    this.ShowEditingIcon = false;
    this.RowHeadersVisible = false;
    this.SelectionMode = DataGridViewSelectionMode.FullRowSelect;
    this.AlternatingRowsDefaultCellStyle.BackColor = System.Drawing.Color.FromArgb(240, 240, 225);
    this.RowTemplate.Height = 20;
    this.CellBorderStyle = DataGridViewCellBorderStyle.None;
    this.BackgroundColor = System.Drawing.SystemColors.Window;

    InitializeColumns();
} 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:01:26.447

该问题与自定义绘制的进度列单元格有关。

在它的单元格绘制方法中，我的代码类似于：

```
base.Paint(g, ...);
g.SmoothingMode = SmoothingMode.HighQuality;
if (value <= 0) return;

//paint the progress bar

g.SmoothingMode = SmoothingMode.None; 
```

当方法退出而不绘制进度条时会发生错误，从而使图形平滑模式处于不正确的状态。

只有在检查解决问题后`SmoothingMode`的设置：`Graphics``value <= 0`

```
base.Paint(g, ...);
if (value <= 0) return;
g.SmoothingMode = SmoothingMode.HighQuality;

//paint the progress bar

g.SmoothingMode = SmoothingMode.None; 
```

# javascript - 如何在 Windows 上使用永久模块停止 Node.js 应用程序？

> ID：14556852
> 
> 赞同：64
> 
> 时间：2013-01-28T06:49:57.953
> 
> 标签：javascript, node.js, dom-events

我已经经历了很多关于nodejs APP的forever模块的问题，但没有找到我的答案。

`Forever`模块在 Linux 机器上运行良好，但现在我将我的应用程序放在 Windows 7 上并尝试永远运行它。首先我安装了forever模块

```
npm install forever -g 
```

之后我运行我的应用程序

```
forever start app.js 
```

通过说文件 app.js 永远运行并且我正在成功访问我的应用程序，它运行良好。

当我执行命令时`forever stop app.js`出现错误

> 没有永久文件正在运行

如果有人在 Windows 上永远使用过，请建议我如何在 Windows 上停止我的应用程序。

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2013-01-28T09:41:39.697

使用`forever list` then 永远停止 id，例如`forever stop 0`

这是一个示例输出

```
user@some-server]$ forever list
info:    Forever processes running
data:        uid  command                                                  script forever pid   id logfile                          uptime        
data:    [0] 9Xzw ng serve --host 0.0.0.0 --port 4009         13164   29579    /home/ec2-user/.forever/9Xzw.log 7:1:20:50.412 
data:    [1] wOj1 npm run-script app-start-dev                                    29500   24978    /home/ec2-user/.forever/wOj1.log 0:0:5:3.433 
```

这`0`就像一个索引，它位于输出的第一列。如果有两个进程在运行，我们可以使用类似`0`或的索引`1`来停止第一个或第二个进程。

`forever stop 0`或者`forever stop 1`

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-05-29T21:38:03.907

我遇到了同样的问题，发现这是因为我一直在运行 sudo （在 Linux 上），这样我就可以在端口 80 上运行一个生产站点。这成功了：

```
sudo forever list 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2017-03-03T17:04:45.357

这只是为了扩展@laktak 的答案。在 Windows 上的结果`forever list`将如下所示：

```
info:    Forever processes running
data:        uid  command              script                          forever p
id   id logfile                               uptime
data:    [0] an1b "C:\nodejs\node.exe" C:\sbSerialWidget\server.js 8780    1
0152    C:\Users\username\.forever\an1b.log STOPPED 
```

我最初不确定哪个是 ID，但我发现它是`data`上面第二个字段之后的第一个条目，所以你感兴趣的行是 ID 加粗和斜体：

数据： ***[0]*** an1b `C:\nodejs\node.exe` `C:\sbSerialWidget\server.js`8780 1 0152 C:\Users\username.forever\an1b.log 已停止

因此，要停止此特定实例，您将运行：

`forever stop 0`

希望这可以帮助像我一样困惑的其他人

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-08-06T19:48:37.357

这是 Windows 中的一个错误[https://github.com/nodejitsu/forever/issues/337](https://github.com/nodejitsu/forever/issues/337) 如果您需要停止您的应用程序，只需打开任务管理器并找到 node.js 进程并将其杀死。辛苦但工作。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-12-10T19:17:02.723

永远停止 0

其中 0 是您的应用程序运行的索引，如果您只有一个，则为 0。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-08-09T17:41:37.383

您可以按照永远的文档，那里有与永远相关的所有命令。

[永远](https://www.npmjs.com/package/forever)

```
 $ forever --help
      usage: forever [action] [options] SCRIPT [script-options]

      Monitors the script specified in the current process or as a daemon

      actions:
        start               Start SCRIPT as a daemon
        stop                Stop the daemon SCRIPT by Id|Uid|Pid|Index|Script
        stopall             Stop all running forever scripts
        restart             Restart the daemon SCRIPT
        restartall          Restart all running forever scripts
        list                List all running forever scripts
        config              Lists all forever user configuration
        set <key> <val>     Sets the specified forever config <key>
        clear <key>         Clears the specified forever config <key>
        logs                Lists log files for all forever processes
        logs <script|index> Tails the logs for <script|index>
        columns add <col>   Adds the specified column to the output in `forever list`. Supported columns: 'uid', 'command', 'script', 'forever', 'pid', 'id', 'logfile', 'uptime'
        columns rm <col>    Removed the specified column from the output in `forever list`
        columns set <cols>  Set all columns for the output in `forever list`
        cleanlogs           [CAREFUL] Deletes all historical forever log files

  options:
    -m  MAX          Only run the specified script MAX times
    -l  LOGFILE      Logs the forever output to LOGFILE
    -o  OUTFILE      Logs stdout from child script to OUTFILE
    -e  ERRFILE      Logs stderr from child script to ERRFILE
    -p  PATH         Base path for all forever related files (pid files, etc.)
    -c  COMMAND      COMMAND to execute (defaults to node)
    -a, --append     Append logs
    -f, --fifo       Stream logs to stdout
    -n, --number     Number of log lines to print
    --pidFile        The pid file
    --uid            DEPRECATED. Process uid, useful as a namespace for processes (must wrap in a string)
                     e.g. forever start --uid "production" app.js
                         forever stop production
    --id             DEPRECATED. Process id, similar to uid, useful as a namespace for processes (must wrap in a string)
                     e.g. forever start --id "test" app.js
                         forever stop test
    --sourceDir      The source directory for which SCRIPT is relative to
    --workingDir     The working directory in which SCRIPT will execute
    --minUptime      Minimum uptime (millis) for a script to not be considered "spinning"
    --spinSleepTime  Time to wait (millis) between launches of a spinning script.
    --colors         --no-colors will disable output coloring
    --plain          Disable command line colors
    -d, --debug      Forces forever to log debug output
    -v, --verbose    Turns on the verbose messages from Forever
    -s, --silent     Run the child script silencing stdout and stderr
    -w, --watch      Watch for file changes
    --watchDirectory Top-level directory to watch from
    --watchIgnore    To ignore pattern when watch is enabled (multiple option is allowed)
    -t, --killTree   Kills the entire child process tree on `stop`
    --killSignal     Support exit signal customization (default is SIGKILL),
                     used for restarting script gracefully e.g. --killSignal=SIGTERM
                     Any console output generated after calling `forever stop/stopall` will not appear in the logs
    -h, --help       You're staring at it

  [Long Running Process]
    The forever process will continue to run outputting log messages to the console.
    ex. forever -o out.log -e err.log my-script.js

  [Daemon]
    The forever process will run as a daemon which will make the target process start
    in the background. This is extremely useful for remote starting simple node.js scripts
    without using nohup. It is recommended to run start with -o -l, & -e.
    ex. forever start -l forever.log -o out.log -e err.log my-daemon.js
        forever stop my-daemon.js 
```

# javascript - history.back() 在 IE 中没有页面刷新

> ID：14556853
> 
> 赞同：0
> 
> 时间：2013-01-28T06:50:00.870
> 
> 标签：javascript, jquery, internet-explorer

我正在使用 Telerik 控件开发 MVC3。我的要求是这样的：

我有网格过滤、排序功能。过滤后的网格看起来与初始页面加载网格有所不同。过滤发生后，用户导航到下一页。导航后，用户想回到以前的网格过滤页面。

所以我需要保留页面以再次加载以显示网格。因此，我需要无需刷新页面即可返回上一页的功能。我试过**history.back()** && **history.go(-1)**。但它不适用于 IE。Javascript 或 Jquery 中是否有任何可用的功能使这成为可能。请让我知道这个功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:12:02.623

ie<10 不支持`HTML5 history`API
看看这个[http://caniuse.com/#search=history](http://caniuse.com/#search=history)
它提供了有关它支持的所有功能的信息
你可以使用 javascript 库[modernizr](http://modernizr.com/)来检测支持哪些 HTML5 功能在运行时

# nlp - 给定 100,000 个单词到音素的映射，我如何在音素边界上拆分原始单词？

> ID：14556856
> 
> 赞同：4
> 
> 时间：2013-01-28T06:50:13.507
> 
> 标签：nlp, artificial-intelligence, hidden-markov-models, markov-chains, speech-synthesis

我有 100,000 多个单词到他们的音素（[CMUdict](http://www.speech.cs.cmu.edu/cgi-bin/cmudict)）的映射，例如：

```
ABANDONED => [ 'AH', 'B', 'AE', 'N', 'D', 'AH', 'N', 'D' ] 
```

我想将原始单词的字母分成等于音素数量的组，例如

```
ABANDONED => [ 'A', 'B', 'A', 'N', 'D', 'O', 'N', 'ED' ] 
```

我没有音素到字素的映射，但似乎我应该能够计算音素到字素的统计模型，然后用它来决定在哪里分割每个单词。（如果该模型也可以用于将新单词转换为其可能的音素，那就太好了）

我怎样才能做到这一点？我在想一个隐藏的马尔可夫模型听起来可能是适用的，但除了那种预感我不知道。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T08:37:23.927

`N`要收集统计数据，首先通过匹配相同的字母和音素（如和）将单词与其语音表示对齐`N`。您可以通过动态规划获得最佳匹配。然后您可以将单词的剩余字符映射到剩余的音素。

计算频率后，您可以使用噪声通道模型将新单词转换为音素。

# php - 如何使用 PHP 重命名服务器上的文件，文件名存储在数据库中？

> ID：14556858
> 
> 赞同：0
> 
> 时间：2013-01-28T06:50:35.953
> 
> 标签：php, file-rename

我在数据库中有一个包含以下字段的表`current_filename`，`new_filename`并且我想将目录中的当前文件名重命名为它们的新文件名。我还想确保如果新文件名已经存在于目录中，那么用新重命名的文件覆盖现有文件。

还有几点需要说明：

*   current_filename 与即将重命名的文件位于同一目录中
*   目录中有一些我不想重命名的文件
*   我想我需要更改文件夹和/或文件的权限？我目前将目录文件夹设置为 777 并将 (PDF) 文件权限设置为 644

这是我拥有的 PHP 脚本，但作为 PHP 的新手，我不确定它是否可以工作（或者我什至需要将这些 new_filenames 上传到数据库中开始）。

```
<?php

require_once "config.php";
$dbh = new PDO($dsn, $dbuser, $dbpass);
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$current_filename = $dbh->query("SELECT current_filename FROM a_temp_rename");
$new_filename = $dbh->query("SELECT new_filename FROM a_temp_rename");

foreach($array as $current_filename=>$new_filename){
rename($current_filename,$new_filename);}

?> 
```

## 新代码

根据下面的答案，我已经更正了 PHP，并且还包含了一个目录变量。我有以下未回答的问题：

1.  我必须将文件和/或文件夹权限从当前的 644 更改为 777，我必须对所有文件和文件夹还是只对文件夹执行此操作？（文件夹当前设置为 777，但 PDF 文件设置为 644
2.  我是否必须将这些 current_filenames 和 new_filenames 上传到数据库中，或者是否有办法仅使用 PHP 并在 PHP 中定义 key => value 对？
3.  `$dir`当我在重命名函数中将它与来自 d​​b 的值连接时，我为路径设置的变量会起作用吗？我必须将此目录设为绝对路径还是相对路径？我将 PHP 与要重命名的文件放在同一目录中。

这是修改后的 PHP 脚本：

```
<?php

require_once "config.php";
$dbh = new PDO($dsn, $dbuser, $dbpass);
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$filename = $dbh->query("SELECT current_filename,new_filename FROM a_temp_rename");

$dir = "./"

foreach($filename as $file){
rename($dir . $file['current_filename'],$dir . $file['new_filename']);}

?> 
```

## 问题解答

1.  我只需要将文件夹权限（不是每个单独的文件）更改为 777
2.  无人回答。
3.  设置一个等于目录的变量并在重命名函数中连接字符串将起作用，我可以使用相对或绝对路径来重命名文件。

## 错误！

*我运行测试代码并得到以下错误：*

```
Parse error: syntax error, unexpected T_FOREACH in /public_html/_documents/test_rename/test_rename.php on line 12 
```

*这是我运行的代码，上面提到了所有的更正：*

```
<?php

require_once "config.php";
$dbh = new PDO($dsn, $dbuser, $dbpass);
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$filename = $dbh->query("SELECT current_filename, new_filename FROM a_temp_rename");

$dir = ("./_documents/test_rename/");

foreach ($filename as $file) {
    rename($dir . $file['current_filename'], $dir . $file['new_filename']);
    }

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:57:36.397

```
<?php

require_once "config.php";
$dbh = new PDO($dsn, $dbuser, $dbpass);
$dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$filename = $dbh->query("SELECT current_filename,new_filename FROM a_temp_rename");

foreach($filename as $file){
rename($file['current_filename'],$file['new_filename']);}

?> 
```

这里的`rename`源和目标应该是正确的路径（不仅仅是文件名）

参考： http: [//php.net/manual/en/function.rename.php](http://php.net/manual/en/function.rename.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T06:55:59.033

您可以使用`rename`PHP 中的函数重命名服务器目录中的文件。有关示例，请参阅以下链接。

[http://php.net/manual/en/function.rename.php](http://php.net/manual/en/function.rename.php)

[批量重命名文件夹中的文件 - PHP](https://stackoverflow.com/questions/4993590/bulk-rename-files-in-a-folder-php)

# google-app-engine - 将 Skype 与 Google 应用引擎 xmpp api 一起使用

> ID：14556864
> 
> 赞同：2
> 
> 时间：2013-01-28T06:50:47.470
> 
> 标签：google-app-engine, skype

我们可以将Skype与谷歌应用引擎xmpp api一起使用吗？由于我们可以将聊天消息发送到任何 gmail id(JID)，我们可以在 google app engine xmpp api 中使用 skype id 作为 JID 吗？谢谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T14:37:19.097

目前，有两个第三方网关声称是 xmpp-skype 网桥，但是，目前两者似乎都不起作用。（或者也许我只是无法弄清楚如何正确安装它们。）

JabberSkype：http: [//jameslow.com/work/jabberskype/](http://jameslow.com/work/jabberskype/)

卡拉卡：[https ://code.google.com/p/karaka/](https://code.google.com/p/karaka/)

我知道这并不能真正回答问题，因为它没有提供有效的 xmpp/skype 设置，但这是我能找到的最好的。如果/当这些项目中的任何一个看到更多生命时，希望将来可以编辑这个答案。

# css - Scollbar 在 Firefox 中位于页脚后面

> ID：14556865
> 
> 赞同：1
> 
> 时间：2013-01-28T06:50:48.217
> 
> 标签：css, html

这是 jsfiddle 链接：

[http://jsfiddle.net/sfctB/20/](http://jsfiddle.net/sfctB/20/)

```
html,body
{
    height:100%;
    width:100%;
    overflow:hidden;
}

body
{
    padding: 60px 0px;
    height: 100%;
    box-sizing: border-box;
}

.header
{
    height:60px;
    background:#000;
    color:#fff; 
    width: 100%;
    position: fixed;
    top:0;
}
.body
{
    overflow-y: scroll;
    height: 100%;
}

.footer
{
    height:60px;background:#000;position:fixed;bottom:0px;width:100%;color:#fff;
    bottom:0
} 
```

基本上我希望滚动条只出现在内容区域中，并且页眉和页脚应该始终出现。上面的链接在 Chrome 和 IE 中有效，但在 Firefox 中无效。滚动条位于页脚后面。有人可以解释一下我该如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:36:19.577

您需要在正文中添加 -moz- 和 -webkit- 以及其他必要的前缀。

```
body
{
padding: 60px 0px;
height: 100%;
box-sizing: border-box;
-moz-box-sizing: border-box;
-webkit-box-sizing: border-box;
-o-box-sizing: border-box;   // if supported?
-ms-box-sizing: border-box;  // if supported?
} 
```

[http://jsfiddle.net/sfctB/53/](http://jsfiddle.net/sfctB/53/)

如果你认为可以的话，我会取消盒子尺寸。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T07:56:04.123

如果你想摆脱 box-sizing，我也想出了这个

```
html, body {
    height:100%;
    width:100%;
    overflow:hidden;
}
body {
    padding: 60px 0px;
    height: 100%;
}
.header {
    height:60px;
    background:#000;
    color:#fff;
    width: 100%;
    position: fixed;
    top:0;
}
.body {
    overflow-y: scroll;
    position:fixed;
    bottom:0;
    top:60px;
    margin: 0 0 60px 0;
}
.footer {
    height:60px;
    background:#000;
    position:fixed;
    bottom:0px;
    width:100%;
    color:#fff;
} 
```

适用于 chrome 和 ff 以及 ie

[http://jsfiddle.net/sfctB/67/](http://jsfiddle.net/sfctB/67/)

不知道这是否有效，但我比任何需要前缀的东西都更信任它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:54:10.220

尝试在你的正文中添加这行代码

```
 -moz-box-sizing: border-box; 
```

你的身体会变得有点像这样

```
body
{
    padding: 60px 0px;
    height: 100%;
    box-sizing: border-box;
   -moz-box-sizing: border-box;

} 
```

在Firefox中工作正常... [http://jsfiddle.net/vaibviad/5HRvq/](http://jsfiddle.net/vaibviad/5HRvq/)

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-01-28T07:06:18.620

滚动条在页脚后面，因为你的身体类有 height:100%;.so 看到这个链接 jsfiddle.net/sfctB/23/

# android - 在 Linphone 中禁用 Callchooser

> ID：14556867
> 
> 赞同：0
> 
> 时间：2013-01-28T06:51:02.993
> 
> 标签：android, linphone

我定制了 Linphone 开源项目并创建了自己的应用程序。一切正常。唯一的问题是

**当用户拨打一个号码时，它会要求用户选择拨号器，如图所示。![在此处输入图像描述](../Images/d58904d8634141efe987fd8867644b13.png) .**

我不希望我的应用程序在此处列出，因为我不希望用户使用我的应用程序进行 SIP 呼叫（我希望我的应用程序只允许呼叫我的应用程序的其他用户）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:01:30.553

您可以从您的 android 清单文件中删除此类代码：

```
<intent-filter>
    <action android:name="android.intent.action.CALL_PRIVILEGED" />
    <action android:name="android.intent.action.DIAL" />
    <category android:name="android.intent.category.DEFAULT" />
    <data android:scheme="tel" />
</intent-filter> 
```

希望它可以帮助你。

# java - 从 catch 块调用方法

> ID：14556868
> 
> 赞同：2
> 
> 时间：2013-01-28T06:51:03.800
> 
> 标签：java, exception, try-catch

我只想知道当我从 catch 块调用方法时会发生什么，该方法负责抛出异常（抛出异常）。我很努力地搜索了它，但没有找到任何令人满意的答案......

例如。

```
public void A()
{
 try{
     //code which may throw exception
    }
 catch(Exception e)
  {
   A();
  }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T06:52:34.723

你试过了吗？在那里调用该方法与在任何地方调用它是一样的。如果它返回一个值，抛出一个异常，停止 JVM，或者其他什么，它会像在任何地方一样在那里工作。您正在做的是某种形式的[递归](http://en.wikipedia.org/wiki/Recursion_%28computer_science%29)，其中方法调用自身。当你这样做时，你必须有某种[终止条件](http://en.wikipedia.org/wiki/Recursion_termination)，否则它将永远继续调用自己，或者，因为你在 Java 中，直到你用完堆栈空间，当你会得到一个[StackOverflowError](http://docs.oracle.com/javase/7/docs/api/java/lang/StackOverflowError.html)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T06:56:37.200

为什么要在引发异常的 catch 块中调用相同的方法？

它不断抛出异常，然后可能导致无限循环导致java堆空间错误。

您应该调用一个方法来处理该异常或对异常采取一些适当的步骤。

`A()`现在对于您的问题，您可以在 catch 块内调用您的方法内可访问的任何方法。

```
public void myMethod(){

}
public void A()
{
 try{
     //code which may throw exception
 }
 catch(Exception e)
 {
   myMethod();
 }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T06:32:38.463

是的，代码将陷入无限循环。它一次又一次地抛出异常。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-05-18T00:29:26.300

```
//Just add like while condition  in your method 
int count = 0;
int max-attempt = 5;
while(true) {
    try {
        // Some Code
        // break out of loop, or return, on success
    } catch (Exception e) {
        // handle exception
        if (++count >= max-attempt) throw e;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T06:52:50.267

这将导致无限循环。使用此代码：

```
package com.sandbox;

public class Sandbox {

    public static void main(String[] args) {
        new Sandbox().run();
    }

    private void run() {
        try {
            throw new RuntimeException("A");
        } catch (Exception e) {
            run();
        }
    }
} 
```

这是抛出的异常：

```
Exception in thread "main" java.lang.StackOverflowError
at java.lang.Exception.<init>(Exception.java:66)
at java.lang.RuntimeException.<init>(RuntimeException.java:62)
at com.sandbox.Sandbox.run(Sandbox.java:11)
at com.sandbox.Sandbox.run(Sandbox.java:13)
at com.sandbox.Sandbox.run(Sandbox.java:13)
at com.sandbox.Sandbox.run(Sandbox.java:13) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-28T06:56:24.960

它将重新尝试该方法`A()`

但是，直到没有发生异常，这将继续重试。

除非`Exception`在这种情况下是临时的，否则这可能会导致无限循环。

`A()`可能最好的方法是在某些条件/超时时发出呼叫。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-28T07:03:51.357

如果您希望该方法在捕获/抛出异常时执行特定任务，则必须在 catch 块中调用方法。示例：您可能想要打印发生异常的原因；）

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-02-11T07:00:42.963

我有类似的要求并尝试了这个

```
public void A(Boolean callingFromCatch)
{
if(!callingFromCatch){
 try{
     //code which may throw exception
    }
 catch(Exception e)
  {
   A(true);
  }
}else{
     try{
         reloadPage();
         //try again
        }
        catch(Exception e){}
    }
} 
```

# android - Android Inapp 版本 3 错误

> ID：14556878
> 
> 赞同：1
> 
> 时间：2013-01-28T06:51:34.777
> 
> 标签：android, google-play

您好，我是 android 的新手，我正在实施应用内版本 3 我仔细阅读了版本 3 的自述文件当我启动我的应用程序时它显示错误是错误：在 -app 计费中设置问题：lbResult：错误检查计费 v3支持。(response:3:Billing Unavailable) 我正在使用 micromax_A70 和 google play store 版本 3.10.10

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T07:17:49.673

尝试清除 Google Play Store 的缓存和数据，然后再次启动 google play store ..希望它对您有用..

# java - AsyncTask 中的 Toast

> ID：14556880
> 
> 赞同：2
> 
> 时间：2013-01-28T06:51:38.933
> 
> 标签：java, android, android-asynctask

你们能检查我的代码吗，我不知道它是否构造正确，我需要在 doInBackGround 过程完成后显示 toast 并运行一个类。好吧，它不起作用，所以你们可以在这里帮助我。谢谢。

这是我的代码：

```
**

class phpconnect extends AsyncTask<String, String, String>{
        @Override
        protected void onPreExecute() {
            super.onPreExecute();
            pDialog = new ProgressDialog(Main.this);
            pDialog.setMessage("Logging in..");
            pDialog.setIndeterminate(false);
            pDialog.setCancelable(true);
            pDialog.show();
        }

        @Override
        protected String doInBackground(String... params) {
             ArrayList<NameValuePair> postParameters = new ArrayList<NameValuePair>();
                postParameters.add(new BasicNameValuePair("eadd", inputEmail.getText().toString()));
                postParameters.add(new BasicNameValuePair("password", inputPassword.getText().toString()));
                //Passing Parameter to the php web service for authentication
                //String valid = "1";
                String response = null;
                try {
                response = CustomHttpClient.executeHttpPost("http://10.0.2.2:8080/TheCalling/log_in.php", postParameters);  //Enter Your remote PHP,ASP, Servlet file link
                String res=response.toString();
                //res = res.trim();
                res= res.replaceAll("\\s+","");
                //error.setText(res);

                } catch (Exception e) {
                    return "1";
                }
            return null;
        }

        /**
         * After completing background task Dismiss the progress dialog
         * **/
        protected void onPostExecute(String result) {
            // dismiss the dialog once done
             pDialog.dismiss();
            if(result.equalsIgnoreCase("1")){
                //Display Toast
                Toast.makeText( getApplicationContext(),"Sorry!! Incorrect Username or Password",Toast.LENGTH_SHORT ).show();
             }else{
                    Toast.makeText( getApplicationContext(),"Correct Username or Password",Toast.LENGTH_SHORT ).show();
                    Intent i = new Intent(Main.this,MainMenu.class);
                    startActivity(i);
             }

        } 
```

**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T06:56:48.160

将 Context 传递给此 AsyncTask 的构造函数。AsyncTask 不扩展 Context 本身，因此您不能使用 getApplicationContext()

```
class phpconnect extends AsyncTask<String, String, String>{

    private final Context mContext;

    public phpconnect(final Context context) {
        mContext = context;
    }

    [...]

    protected void onPostExecute(String result) {
        [...]
        Toast.makeText( mContext,"...",Toast.LENGTH_SHORT ).show();
        [...]
    } 
```

编辑：还在你的 if 子句中添加一个 NullPointer 保护。就像是：

```
if(result != null && result.equalsIgnoreCase("1")){ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:21:50.320

```
private class DownloadFilesTask extends AsyncTask<URL, Integer, Long> {
     protected Long doInBackground(URL... urls) {
         int count = urls.length;
         long totalSize = 0;
         for (int i = 0; i < count; i++) {
             totalSize += Downloader.downloadFile(urls[i]);
             publishProgress((int) ((i / (float) count) * 100));
             // Escape early if cancel() is called
             if (isCancelled()) break;
         }
         return totalSize;
     }

     protected void onProgressUpdate(Integer... progress) {
         setProgressPercent(progress[0]);
     }

     protected void onPostExecute(Long result) {
         showDialog("Downloaded " + result + " bytes");
     }
 } 
```

有关更多信息，请查看此[链接](http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result)

# maven - Jenkins 构建 SoapUI 测试 - 未找到测试套件

> ID：14556886
> 
> 赞同：2
> 
> 时间：2013-01-28T06:51:56.060
> 
> 标签：maven, jenkins, soapui

我正在尝试通过 Jenkins 上的 Maven 构建 SoapUI testSuite。使用 maven，我能够在本地机器上成功构建 testSuite，并且所有测试用例也都执行了。但是在 Jenkins 上，它似乎没有找到任何要运行的测试套件！这让我很困惑，因为这是我第一次涉足 SoapUI、Maven 和 Jenkins。

Jenkins 的控制台输出为：

```
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ WAR_DDCService ---
[INFO] No sources to compile
[INFO] [debug] execute contextualize
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /var/lib/jenkins/jobs/DDCAutomationSuite/workspace/src/test/resources
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ WAR_DDCService ---
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ WAR_DDCService ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.10:test (default-test) @ WAR_DDCService ---
[INFO] No tests to run.
[INFO] Surefire report directory: /var/lib/jenkins/jobs/DDCAutomationSuite/workspace/target/surefire-reports 
```

在查看输出时，令我困惑的是它似乎在“资源”文件夹中寻找测试套件。然而，soapui 测试套件位于 src/tests/soapui 文件夹中。

下面是这个项目的 pom.xml 文件中我也提到了路径的部分。有人可以帮助我了解我哪里出错了吗？

我也在配置的 pom.xml 中指定了项目文件的以下位置。

```
Hi Samuel, thank you for the response. Please find the pom.xml content below:

<plugin>
<groupId>eviware</groupId>
<artifactId>maven-soapui-plugin</artifactId>
<version>4.5.1</version>                
<configuration>
<projectFile>src/test/soapui/DaonDerivedCredential-soapui-project.xml</projectFile>
<outputFolder>${project.build.directory}/surefire-reports</outputFolder>
<junitReport>true</junitReport>
<printReport>true</printReport>
<projectProperties>
<projectProperty>endpoint=<a href="http://foo.com/foo-0.2.1-SNAPSHOT/services/ddc</a></projectProperty>
</projectProperties>
</configuration>
</plugin> 
```

当我通过命令提示符从本地设置运行构建时，我给出命令“mvn eviware:maven-soapui-plugin:test”，该命令执行位于 /src/test/soapui 文件夹中的 SoapUI TestSuite。在詹金斯..我不知道詹金斯必须在哪里输入这个命令才能执行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T12:58:22.973

Go in "Goals and options" form input, in the config file of your project in Jenkins (probably near the bottom of the page).

You can set it to

> clean eviware:maven-soapui-plugin:test

in order to have jenkins performing your tests.

As by default this goal is bound to the integration-test phase, it should go throught the default lifecycle and finish by performing your tests.

For more info, see :

```
http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html 
```

# java - 可以在 Play 2 框架中使用 Java NIO 同时 POST 和 GET 文件吗？

> ID：14556890
> 
> 赞同：3
> 
> 时间：2013-01-28T06:52:27.243
> 
> 标签：java, playframework-2.0, nio

我想使用 Play2 来实现一个接收文件 POST 的服务器，在收到文件时对其进行处理，然后在 POST 仍在传输文件时将结果发送给另一个用户的 GET 请求。Play2可以做到这一点吗？我已经使用 Play2 对用户进行身份验证，所以我想使用 Play2 来处理此交易的身份验证。我使用 Java，但如果需要，我可以使用 Scala。如果是这样，我应该调查什么？如果没有，我想我需要研究一些 Java NIO 框架并实现另一个服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T20:17:37.947

我认为这在 Java 中是不可能的，但我已经设法组合了一个简单的 Scala 版本。您仍然可以将 Java 用于项目的所有其他部分。

但请注意，这只是一个粗略的演示，专注于“同时上传和下载”部分，而忽略了其他所有内容。我什至不确定这是不是*正确*的方法，但它似乎有效。

基本上，您要做的是使用`Concurrent.broadcast`创建输入/输出流对。输出部分 ( `Enumeratee`) 被流式传输到客户端。然后，您需要一个自定义`PartHandler`来接收上传的数据，并将其输入到输入部分 ( `Concurrent.Channel`)。

请注意，为了使本示例正常工作，您必须先转到下载页面，**然后**开始上传文件。

## 示例 Application.scala

```
package controllers

import play.api._
import libs.iteratee.{Enumerator, Input, Iteratee, Concurrent}
import play.api.mvc._
import scala.collection.concurrent

object Application extends Controller {
  val streams = new concurrent.TrieMap[String,(Enumerator[Array[Byte]], Concurrent.Channel[Array[Byte]])]

  def index = Action {
    Ok(views.html.index())
  }

  def download(id: String) = Action {
    val (fileStream, fileInput) = Concurrent.broadcast[Array[Byte]]
    streams += id -> (fileStream, fileInput)
    Ok.stream {
      fileStream.onDoneEnumerating(streams -= id)
    }
  }

  def upload = Action(parse.multipartFormData(myPartHandler)) {
    request => Ok("banana!")
  }

  def myPartHandler: BodyParsers.parse.Multipart.PartHandler[MultipartFormData.FilePart[Result]] = {
    parse.Multipart.handleFilePart {
      case parse.Multipart.FileInfo(partName, filename, contentType) =>
        val (thisStream, thisInput) = streams(partName)

        Iteratee.fold[Array[Byte], Concurrent.Channel[Array[Byte]]](thisInput) { (inp, data) =>
          inp.push(data)
          inp
        }.mapDone { inp =>
          inp.push(Input.EOF)
          Ok("upload Done")
        }
    }
  }
} 
```

## 示例 index.scala.html

```
<p>
    <a href="@routes.Application.download("123456")">Download</a>
</p>

<form action="@routes.Application.upload" method="post" enctype="multipart/form-data">
    <input type="file" name="123456">
    <input type="submit">
</form> 
```

# html - HTML：浏览文件夹并获取本地文件夹位置

> ID：14556891
> 
> 赞同：1
> 
> 时间：2013-01-28T06:52:27.293
> 
> 标签：html

我有一个实时站点，我希望如果用户按下按钮选择文件夹，它将提示用户一个对话框并在他的本地目录中搜索他想要的文件夹。我怎么可能做到这一点？

与此类似，但这是一个文件，我想要一个文件夹

```
 <form id="myForm" class="form-inline" enctype="multipart/form-data" action="wp-content/themes/twentyelevenchild/generate.php?file_name=<?php echo $_GET['file_name']; ?>" method="post">
    <input type="hidden" class="csv_file" name="MAX_FILE_SIZE" value="100000">
    <input name="csv_file" type="file">
    <input type="button" class="btn btnGenerateCsv" value="Generate">

</form> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T06:55:38.753

出于安全原因，不能在纯 HTML/JavaScript 中完成。

## 编辑

您应该寻找替代品

[http://www.swfupload.org](http://www.swfupload.org)

[http://www.uploadify.org](http://www.uploadify.org)

# java - 是否可以将数组从 java(ibatis) 传递给 postgresql 函数作为参数

> ID：14556892
> 
> 赞同：0
> 
> 时间：2013-01-28T06:52:33.523
> 
> 标签：java, postgresql, ibatis

我想以数组的形式传递一堆更新查询`pl/pgsql`作为参数，我需要执行这些`sql`更新查询。有可能吗？请帮助我摆脱困境。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T02:27:58.747

传入数组并不难。生成一个带引号的 csv 查询列表，用`{}`大括号括起来并将其作为绑定参数传递。例如....

```
{"UPDATE foo SET bar = 1 where baz = 1","alter table foo add foobar int","drop database critical_prodiction_database"} 
```

然后将其作为`text[]`参数传入。

# java - Weblogic 部署原因 - 创建名为 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' 的 bean 时出错

> ID：14556895
> 
> 赞同：2
> 
> 时间：2013-01-28T06:52:37.243
> 
> 标签：java, spring, hibernate, weblogic, jpa-2.0

我正在使用 Hibernate 4、Spring 3、JSF 2.0 和 Weblogic 10.3.6

当我启动 weblogic 服务器并且服务器成功启动时，但是每当它开始发布应用程序时，我都会收到以下异常。

```
 Error creating bean with name 
 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' 
  defined in ServletContext resource [/WEB-INF/applicationContext.xml]: 
  Initialization of bean failed; nested exception is 
  org.springframework.beans.factory.BeanCreationException: 

    Caused By: org.springframework.beans.factory.BeanCreationException: Error creating 
   bean with name 'entityManagerFactory'defined in ServletContext resource 
   [/WEB-INF/applicationContext.xml]: Invocation of init method failed; 
   nested exception is java.lang.NoSuchMethodError: 
   javax.persistence.spi.PersistenceUnitInfo.getSharedCacheMode()Ljavax/persistence/
   SharedCacheMode;

Caused By: java.lang.NoSuchMethodError: 
javax.persistence.spi.PersistenceUnitInfo.getSharedCacheMode()
Ljavax/persistence /SharedCacheMode;    at 
org.hibernate.ejb.util.LogHelper.logPersistenceUnitInfo(LogHelper.java:38)  at
org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:525)
at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)     at  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManage 
```

我在 applicationContext.xml 中有以下内容

```
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
http://www.springframework.org/schema/tx
http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context-3.0.xsd">      
    <context:component-scan base-package="net.test" />
    <!-- Data Source Declaration -->
    <bean id="DataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"
        destroy-method="close">
        <property name="driverClass" value="oracle.jdbc" />
        <property name="jdbcUrl" value="jdbc:oracle:thin:@server:1521:DB" />
        <property name="user" value="scott" />
        <property name="password" value="tiger" />
        <property name="maxPoolSize" value="10" />
        <property name="maxStatements" value="0" />
        <property name="minPoolSize" value="5" />
    </bean>
    <bean
        class="org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor" />
    <!-- JPA Entity Manager Factory -->
    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
        <property name="dataSource" ref="DataSource" />
        <property name="packagesToScan" value="net.test.entity" />

        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
                <property name="showSql" value="true" />
                <property name="generateDdl" value="false" />
                <property name="databasePlatform" value="${jdbc.dialectClass}" />

            </bean>
        </property>
    </bean>
    <bean id="defaultLobHandler" class="org.springframework.jdbc.support.lob.DefaultLobHandler" />
    <!-- Session Factory Declaration -->
    <bean id="SessionFactory"
        class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="dataSource" ref="DataSource" />
        <property name="annotatedClasses">
            <list>
                <value>net.test.entity.Department</value>
                <value>net.test.entity.Employees</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.Oracle10gDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.query.factory_class">org.hibernate.hql.internal.classic.ClassicQueryTranslatorFactory
                </prop>
            </props>
        </property>
    </bean>
    <!-- Enable the configuration of transactional behavior based on annotations -->
    <tx:annotation-driven transaction-manager="txManager" />
    <tx:annotation-driven transaction-manager="transactionManager" />
    <!-- Transaction Config -->

    <bean id="txManager"
        class="org.springframework.orm.hibernate4.HibernateTransactionManager">
        <property name="sessionFactory" ref="SessionFactory" />
    </bean>

    <bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory" />
    </bean>

    <context:annotation-config />    

    <bean id="hibernateStatisticsMBean" class="org.hibernate.jmx.StatisticsService">
        <property name="statisticsEnabled" value="true" />
        <property name="sessionFactory" value="#{entityManagerFactory.sessionFactory}" />
    </bean>
    <bean name="ehCacheManagerMBean"
        class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean" />

    <bean id="mbeanServer" class="org.springframework.jmx.support.MBeanServerFactoryBean">
        <property name="locateExistingServerIfPossible" value="true" />
    </bean>    
    <bean id="jmxExporter" class="org.springframework.jmx.export.MBeanExporter"
        lazy-init="false">
        <property name="server" ref="mbeanServer" />
        <property name="registrationBehaviorName" value="REGISTRATION_REPLACE_EXISTING" />
        <property name="beans">
            <map>
                <entry key="SpringBeans:name=hibernateStatisticsMBean"
                    value-ref="hibernateStatisticsMBean" />
                <entry key="SpringBeans:name=ehCacheManagerMBean" value-ref="ehCacheManagerMBean" />
            </map>
        </property>
    </bean>

</beans> 
```

pom.xml

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
          http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>net.test</groupId>
    <artifactId>myappp</artifactId>
    <packaging>war</packaging>
    <version>1.0-SNAPSHOT</version> 
    <name>myappp</name> 
    <url>http://maven.apache.org</url>
    <repositories>
        <repository>
            <id>prime-repo</id>
            <name>PrimeFaces Maven Repository</name>
            <url>http://repository.primefaces.org</url>
            <layout>default</layout>
        </repository>
    </repositories>
    <properties>
        <spring.version>3.1.1.RELEASE</spring.version>
    </properties>
    <dependencies>
        <!-- Spring 3 dependencies -->
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-tx</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-orm</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-test</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <!-- JSF library -->
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-api</artifactId>
            <version>2.1.6</version>
        </dependency>
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-impl</artifactId>
            <version>2.1.6</version>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>
        <!-- Primefaces library -->
        <dependency>
            <groupId>org.primefaces</groupId>
            <artifactId>primefaces</artifactId>
            <version>3.4.2</version>
        </dependency>
        <dependency>
            <groupId>org.primefaces.themes</groupId>
            <artifactId>afterwork</artifactId>
            <version>1.0.8</version>
        </dependency>
        <!-- Hibernate library -->
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>4.1.0.Final</version>
        </dependency>
        <dependency>
            <groupId>javassist</groupId>
            <artifactId>javassist</artifactId>
            <version>3.12.1.GA</version>
        </dependency>
        <dependency>
            <groupId>javax.inject</groupId>
            <artifactId>javax.inject</artifactId>
            <version>1</version>
        </dependency>
        <!-- Oracle Java Connector library -->
        <dependency>
            <groupId>com.oracle</groupId>
            <artifactId>ojdbc6</artifactId>
            <version>11.2.0.3</version>
        </dependency>
        <dependency>
            <groupId>c3p0</groupId>
            <artifactId>c3p0</artifactId>
            <version>0.9.1.2</version>
        </dependency>
        <!-- Log4j library -->
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.16</version>
        </dependency>
        <dependency>
            <groupId>org.testng</groupId>
            <artifactId>testng</artifactId>
            <version>6.4</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-jpamodelgen</artifactId>
            <version>1.2.0.Final</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-entitymanager</artifactId>
            <version>4.1.0.Final</version>
        </dependency>
        <dependency>
            <groupId>org.hibernate.javax.persistence</groupId>
            <artifactId>hibernate-jpa-2.0-api</artifactId>
            <version>1.0.1.Final</version>
        </dependency>
        <dependency>
    <groupId>org.apache.myfaces.extensions.cdi.core</groupId>
    <artifactId>myfaces-extcdi-core-api</artifactId>
    <version>1.0.5</version>
    <scope>compile</scope>
</dependency>
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-ehcache</artifactId>
            <version>4.0.1.Final</version>
        </dependency>       
    </dependencies> 
    <build>
        <resources>
            <resource>
                <directory>src/main/resources</directory>
            </resource>
        </resources>

        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>              
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                    <compilerArgument>-proc:none</compilerArgument>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.bsc.maven</groupId>
                <artifactId>maven-processor-plugin</artifactId>
                <version>2.0.6</version>
                <executions>
                    <execution>
                        <id>process</id>
                        <goals>
                            <goal>process</goal>
                        </goals>
                        <phase>generate-sources</phase>
                        <configuration>
                            <!-- source output directory -->
                            <outputDirectory>target/metamodel</outputDirectory>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>

</project> 
```

在 Weblogic 10.3.6 中，我通过添加以下内容启用了 JPA2 支持`commEnv.cmd`

```
@rem Enable JPA 2.0 functionality on WebLogic Server 
set PRE_CLASSPATH=%BEA_HOME%\modules\javax.persistence_1.1.0.0_2-0.jar;
%BEA_HOME%\modules\com.oracle.jpa2support_1.0.0.0_2-1.jar 
```

如何解决此错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-29T17:13:49.697

这个问题已经解决了，对于Weblogic 10.3.6 exe发行版没有`javax.persistence_1.0.0.0_2-0-0.jar`，有的是`javax.persistence_1.1.0.0_2-0.jar`.

该类以及`jpa2support_1.0.0.0_2-0.jar`需要在类路径中。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T13:54:47.197

也许问题与类加载层次结构有关，并且某些类是从系统类加载器而不是 EAR 中包含的 jar 加载的。

在*WebLogic Server 中，**系统类路径*中存在的任何 .jar 文件都由 WebLogic Server*系统类加载器加载*。在服务器实例中运行的所有应用程序都加载到应用程序类加载器中，这些类加载器是系统类加载器的子级。在系统类加载器的这个实现中，*应用程序不能使用系统类加载器中已经存在的不同版本的第三方 jar*。每个子类加载器都向父类（系统类加载器）询问特定类，并且无法加载父类看到的类。

例如，如果一个名为 com.foo.Baz 的类同时存在于 $CLASSPATH 和应用程序 EAR 中，则加载来自 $CLASSPATH 的类而不是来自 EAR 的类。由于 weblogic.jar 在 $CLASSPATH 中，应用程序不能覆盖任何 WebLogic Server 类。

*FilteringClassLoader*为您提供了一种机制来配置部署描述符，以明确指定应始终从应用程序加载某些包，而不是由系统类加载器加载。

*FilteringClassLoader*位于应用程序类加载器和系统之间。它是系统类加载器的子类和应用程序类加载器的父类。FilteringClassLoader 拦截 loadClass(String className) 方法并将 className 与**weblogic-application.xml**文件中指定的包列表进行比较。

总之，您是否会尝试修改您的 weblogic-application.xml 以从 EAR 中包含的 jar 而不是系统类加载器中加载一些包？一个示例示例如下：

```
<prefer-application-packages>
    <package-name>antlr.*</package-name>
    <package-name>org.apache.commons.*</package-name>
    <package-name>org.apache.xmlbeans.*</package-name>
    <package-name>org.springframework.*</package-name>
    <package-name>org.hibernate.*</package-name>
    <package-name>javax.persistence.*</package-name>
</prefer-application-packages> 
```

# java - 在接口和类 java 中声明常量有什么区别

> ID：14556898
> 
> 赞同：4
> 
> 时间：2013-01-28T06:52:44.410
> 
> 标签：java

1）代码下面的两个静态变量有什么区别。

```
Class A{
public static final String  X = "XYZ";
}

interface A{
String X = "XYZ";
} 
```

2）如果两个静态变量声明相同，那么哪个是有效的。

IE

```
Class A{
public static final String  X = "XYZ";

void print(){
System.Out.Println(X);
}
} 
```

或者

```
interface B {
String X = "XYZ";
}

 Class A implements B{

    void print(){
    System.Out.Println(X);
    }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T06:59:39.037

1.  字段之间没有区别。从[JLS 的第 9.3 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.3)：

    > 接口主体中的每个字段声明都是隐式公共的、静态的和最终的。允许为这些字段冗余地指定任何或所有这些修饰符。

2.  性能没有差异，因为在这两种情况下，编译器无论如何都会“内联”字段值：在执行时，它无论如何都不会访问字段。只是这种情况，因为您正在使用`String`；如果该字段是原始类型或 以外的类型`String`，则代码*将*访问该字段......但我不认为这会对性能产生*重大*影响，您不必担心。写出你能写的最清晰的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T06:57:59.457

1) 两个常数含义相同。默认情况下，接口中声明的字段是`public static final`.

2）界面中的字段不应该是首选。（除非您非常确信另一个接口不会有同名的字段）。

```
interface A
{
    String X = "XYZ";
}

interface B
{
    String X = "ABC";
}

class C implements A, B
{
    public static void main(String[] args)
    {
        System.out.println(X); // Ambigous X
    }
} 
```

3) 效率不会受到放置常数的影响；在课堂或界面中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T06:55:37.633

1.  就创建的字段类型而言，没有区别。两种方式都会创建一个常量字段。
2.  如果有的话，效率上的差异可以忽略不计。在效率方面，您应该更关心网络延迟等。这将对您的应用程序产生 1000 万倍的影响，这可能是保守的。对于这些微不足道的事情，可读性远比效率重要，所以做最清楚的事情。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T06:59:29.290

特殊性是接口中定义的**所有**变量都`public` `final`没有明确说明。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T07:04:44.213

1.  性能上没有区别。
2.  这更多的是设计决策，而不是性能导向。
3.  我选择声明常量的顺序是：

一种。枚举
b。接口
C. 课程

I remember this issue was briefly discussed in "Effective Java" book.

# android - 在 PopupWindow 中无法播放视频错误

> ID：14556900
> 
> 赞同：1
> 
> 时间：2013-01-28T06:52:49.060
> 
> 标签：android, android-videoview, popupwindow

嗨，我正在尝试在 PopupWindow 中播放视频，但出现此错误。我可以直接在我的活动中播放相同的视频。我发现很多与无法播放视频相关的查询，但没有一个能帮助我解决这个问题。任何人都可以帮助。谢谢

在我的 activity.java 文件中，我添加了一个 popupWindow

```
 private PopupVideoView mPopupVideoView;

    mPopupWindow = new PopupWindow(this);
    mPopupWindow.setContentView(mPopupVideoView.getView());
    mPopupWindow.setHeight(360);
    mPopupWindow.setWidth(LayoutParams.MATCH_PARENT);
    mPopupWindow.setOutsideTouchable(true);
    mPopupWindow.setFocusable(true); 
```

在 PopupVideoView.java 中，这给了我一个包含视频视图的视图，并在我调用 getView() 后立即开始播放视频。

```
 public View getView() {

    if (mPopupVideoView == null) {
        mPopupVideoView = mInflater.inflate(R.layout.videoview_popup, null);
        mVideoView = (VideoView)mPopupVideoView.findViewById(R.id.popup_videoView);
    }

    String uri= "android.resource://" + mContext.getPackageName() + "/" + R.raw.video;
    mVideoView.setVideoPath(uri);
    mVideoView.start();

    mVideoView.setOnErrorListener(new OnErrorListener() {

        @Override
        public boolean onError(MediaPlayer mp, int what, int extra) {
            Log.e(mContext.getPackageName(), "Error Occured");
            return true;
        }
    });

    return mPopupVideoView;

} 
```

在 android 2.3.3 中，视频可以听到但不可见，在 ICS 中甚至听不到。

# android - 设备要求外部存储，但我没有 SD 卡

> ID：14556902
> 
> 赞同：5
> 
> 时间：2013-01-28T06:52:55.160
> 
> 标签：android, android-sdcard

没有 SD 卡的三星 Galaxy S3，我正在使用此代码检查存储状态。

使用此代码：

```
boolean mExternalStorageAvailable = false;
boolean mExternalStorageWriteable = false;
String state = Environment.getExternalStorageState();

if (Environment.MEDIA_MOUNTED.equals(state)) {
    // We can read and write the media
    mExternalStorageAvailable = mExternalStorageWriteable = true;
} else if (Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
    // We can only read the media
    mExternalStorageAvailable = true;
    mExternalStorageWriteable = false;
} else {
    // Something else is wrong. It may be one of many other states, but all we need
    //  to know is we can neither read nor write
    mExternalStorageAvailable = mExternalStorageWriteable = false;
} 
```

因此，也许有人可以向我解释这款手机是否出于某种原因将其内部存储器视为外部存储器？或者是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-28T07:11:23.387

**getExternalStorageDirectory 并不总是返回 SDCard。**

谷歌文档说：

> “不要被这里的‘外部’这个词弄糊涂了。这个目录可以更好地被认为是媒体/共享存储。它是一个可以保存相对大量数据并且在所有应用程序之间共享的文件系统（不强制执行） “

“/mnt/sdcard”可能是指您手机的内置存储。

最好检查方法的返回**路径**`getExternalStorageDirectory`是否是外部可移动存储。

您可以使用[Environment.isExternalStorageRemovable()](http://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory%28%29)进行检查。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T07:11:23.183

Android 将始终将**一个**已安装的硬件内存（如果有）报告为外部存储。

那个记忆可以是：

1.  由制造商安装在设备内部（内部存储器）
2.  可以是 SD 卡（外部存储器）

一个设备甚至可以同时拥有两者，但 Android 只会报告**其中一个**（主要是内部的）。

一种简单的方法来获取安装在哪里的东西`adb shell mount`。

```
rootfs on / type rootfs (ro)
tmpfs on /dev type tmpfs (rw,nosuid,mode=755)
devpts on /dev/pts type devpts (rw,mode=600)
proc on /proc type proc (rw)
sysfs on /sys type sysfs (rw)
tmpfs on /mnt/asec type tmpfs (rw,mode=755,gid=1000)
tmpfs on /mnt/obb type tmpfs (rw,mode=755,gid=1000)
/dev/block/mtdblock2 on /system type yaffs2 (ro)
/dev/block/mtdblock3 on /data type yaffs2 (rw,nosuid,nodev)
/dev/block/mtdblock1 on /cache type yaffs2 (rw,nosuid,nodev)
/dev/block/vold/179:1 on /mnt/sdcard type vfat (rw,dirsync,nosuid,nodev,noexec,uid=1000,gid=1015,fmask=0702,dmask=0702,allow_utime=0020,codepage=cp437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro)
/dev/block/vold/179:1 on /mnt/secure/asec type vfat (rw,dirsync,nosuid,nodev,noexec,uid=1000,gid=1015,fmask=0702,dmask=0702,allow_utime=0020,codepage=cp437,iocharset=iso8859-1,shortname=mixed,utf8,errors=remount-ro) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:21:18.170

使用此代码了解设备中是否有存储卡：

```
Boolean isSDPresent = android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED);

if(isSDPresent)
{
  // yes SD-card is present
}
else
{
 // Sorry
} 
```

# batch-file - 从批处理文件中读取 xml 并比较这个值

> ID：14556906
> 
> 赞同：0
> 
> 时间：2013-01-28T06:53:37.297
> 
> 标签：batch-file, xml-parsing

我有一个 XML 文件。我想要的只是使用批处理文件从这个 XML 文件中读取一个特定的标签值，并将这个值与其他值进行比较。

我的 XML 文件是：

```
<cruisecontrol project="AAA">
<sourcemonitor_metrics>
  <project version="3.3">

    <metric_names name_count="15">
      <metric_name id="M0" type="number">Lines</metric_name>
      <metric_name id="M1" type="number">Statements</metric_name>
      .
      .
      . 

      <metric_name id="M13" type="average" values="block_depths">Average Block Depth</metric_name>
      <metric_name id="M14" type="average">Average Complexity</metric_name>
    </metric_names>
    <checkpoints checkpoint_count="1">
      <checkpoint checkpoint_name="NewcheckPoint" ignore_blank_lines="false">
        <metrics metric_count="15">
          <metric id="M0">34126</metric>
          <metric id="M1">15278</metric>
          .
          .
          .
          <metric id="M13">2.48</metric>
          <metric id="M14">3.34</metric>   <!-- Want to read this value in batch -->
        </metrics> 
```

**## 请忽略结束标签。**

我想读取 `<metric id="M14">`价值。
我对批处理脚本很陌生。请建议我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T12:58:20.090

首先，阅读`HELP FINDSTR`并尝试这个简单的命令

```
 findstr /r /c:"\<metric id=\"M14\"\>[0-9,.]*</metric\>" my.xml 
```

它在 xml 文件中找到正则表达式`"\<metric id=\"M14\"\>[0-9,.]*</metric\>"`并返回匹配的行。

然后阅读`HELP FOR`并尝试此命令

```
 for /f "delims=^<^> tokens=3" %a in ('findstr /r /c:"\<metric id=\"M14\"\>[0-9,.]*</metric\>" my.xml') do @echo %a 
```

`<`它使用和作为分隔符解析上一个命令返回的行，`>`并返回第三个参数，即所需的值。

# sql - SQLite 查询问题

> ID：14556907
> 
> 赞同：-1
> 
> 时间：2013-01-28T06:53:39.897
> 
> 标签：sql, database

问题说明和数据库条件：数据库中有 3 个表（**Highschooler**、**Friend**和**Likes**），这里是数据库：

```
Highschooler
ID  name    grade
1510    Jordan  9
1689    Gabriel 9
1381    Tiffany 9
1709    Cassandra   9
1101    Haley   10
1782    Andrew  10
1468    Kris    10
1641    Brittany    10
1247    Alexis  11
1316    Austin  11
1911    Gabriel 11
1501    Jessica 11
1304    Jordan  12
1025    John    12
1934    Kyle    12
1661    Logan   12

Friend
ID1 ID2
1510    1381
1510    1689
1689    1709
1381    1247
1709    1247
1689    1782
1782    1468
1782    1316
1782    1304
1468    1101
1468    1641
1101    1641
1247    1911
1247    1501
1911    1501
1501    1934
1316    1934
1934    1304
1304    1661
1661    1025
1381    1510
1689    1510
1709    1689
1247    1381
1247    1709
1782    1689
1468    1782
1316    1782
1304    1782
1101    1468
1641    1468
1641    1101
1911    1247
1501    1247
1501    1911
1934    1501
1934    1316
1304    1934
1661    1304
1025    1661

Likes
ID1 ID2
1689    1709
1709    1689
1782    1709
1911    1247
1247    1468
1641    1468
1316    1304
1501    1934
1934    1501
1025    1101 
```

问题是：`For every student who likes someone 2 or more grades younger than themselves, return that student's name and grade, and the name and grade of the student they like.`

我的查询是：

```
select HS11.name,HS11.grade,HS22.name,HS22.grade from
( select ID1,ID2 from Likes where ID1 in
(
select HS1.ID from Highschooler HS1, Highschooler HS2 
where HS1.ID<> HS2.ID and (HS1.grade - HS2.grade) >=2 
)
and ID2 in
(
select HS2.ID from Highschooler HS1, Highschooler HS2 
where HS1.ID<> HS2.ID and (HS1.grade - HS2.grade) >=2 
)
) as G, Highschooler HS11, Highschooler HS22
where HS11.ID=G.ID1 and HS22.ID = G.ID2 
```

我的查询输出是：

```
Alexis 11 Kris 10
John 12 Haley 10 
```

预期输出为：

```
John 12 Haley 10 
```

所以，我得到了额外的 1 行，这是不正确的。谁能指出我在这里做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:04:56.230

您的`SELECT`陈述可以通过使用来简化`INNER JOIN`。然后你可以有一个`WHERE`条款来指定要求：

```
SELECT HS1.name, HS1.grade, HS2.name, HS2.grade
FROM Likes
INNER JOIN Highschooler HS1
  ON Likes.ID1 = HS1.ID
INNER JOIN Highschooler HS2
  ON Likes.ID2 = HS2.ID
WHERE (HS1.grade - HS2.grade) >=2 
```

换句话说，不是试图通过使用具有复杂需求的子查询来找到所需的 ID，而是选择一个虚拟表，然后直接在其上放置需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T07:19:54.013

我会去

```
select a.name as liker, a.grade as liker_grade, c.name as likee, c.grade as likee_grade from
highschooler a inner join likes b on a.id = b.id1
left join highschooler c on b.id2 = c.id
where a.grade >= c.grade +2 
```

如果喜欢总是相互的（通常情况并非如此，请与自身结合并联合所有

```
select a.name as liker, a.grade as liker_grade, c.name as likee, c.grade as likee_grade from
highschooler a inner join likes b on a.id = b.id1
left join highschooler c on b.id2 = c.id
where a.grade >= c.grade +2
union all
select a.name as liker, a.grade as liker_grade, c.name as likee, c.grade as likee_grade from
highschooler a inner join likes b on a.id = b.id2
left join highschooler c on b.id1 = c.id
where a.grade >= c.grade +2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:01:19.257

如果是，那么这应该有效

```
Select main.*
  from Highscooler main
       join Likes lk on main.ID = lk.ID1
       join Highscooler mate on mate.ID = lk.ID2
  where main.Grade >= mate.Grade+2 
```

编辑：更正了答案（我认为“喜欢”是使用“朋友”表表达的）。也不懂'like'（我没有使用FB ;-)）

再次更正：我不擅长阅读文字......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T07:02:57.950

```
SELECT   liker.ID AS LikerID,
         liker.Name AS LikerName,
         liker.Grade AS LikerGrade,
         liked.ID AS LikedID,
         liked.Name AS LikedName,
         liked.Grade AS LikedGrade
FROM     Likes
JOIN     HighSchooler Liker ON Likes.ID1 = Liker.ID
JOIN     HighSchooler Liked ON Likes.ID2 = Liked.ID
WHERE    2 <= (Liker.Grade - Liked.Grade) 
```

应该让你靠近

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-28T07:05:04.787

像这样的东西（语法可能是错误的）并`select *`用正确的列替换

```
select * from highschooler as me
left join on friend where me.id = friend.id1
left join on highschooler as f where f.id = freind.id2
where me.grade - f.grade >= 2 
```

# google-apps-script - 隐蔽时间谷歌应用脚 本

> ID：14556913
> 
> 赞同：0
> 
> 时间：2013-01-28T06:53:59.177
> 
> 标签：google-apps-script, google-sheets

我需要将时间转换为印度时区，我将时间放在 Gmt 或 CET 或 CST 中（就像我喜欢在我的收音机中一样），它应该转换为 IST 时间。我为我的项目使用谷歌应用程序脚本和 UI。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T16:36:55.007

[formatDate()](https://developers.google.com/apps-script/class_utilities#formatDate)应该让您进行必要的时区转换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-15T22:06:07.557

我喜欢以这种方式处理日期。我希望它可以帮助你：

```
var fechaYYMMDD = Utilities.formatDate(new Date(), "GMT-03", "yyMMdd");
var horasHHMMSS = Utilities.formatDate(new Date(), "GMT-03", "HHmmss");

var fechaYHora =  fechaYYMMDD + "_" + horasHHMMSS; 
```

# iphone - 如何在 iPad 中从之前停止的位置开始播放视频？

> ID：14556919
> 
> 赞同：0
> 
> 时间：2013-01-28T06:54:27.540
> 
> 标签：iphone, ios, objective-c, ipad, xcode4.3

我正在 iPad 中播放视频并使用 iPad 上的“主页”按钮停止它。当我再次开始播放视频时，它应该从之前停止的地方开始，而不是从头开始。谁能告诉我该怎么做？

要从头开始播放视频，我使用了

```
- (void)applicationWillEnterForeground:(UIApplication *)application
    {
       NSLog(@"app enter foreground");
       PlayVideo *PVC=[[PlayVideo alloc] initWithNibName:@"PlayVideo" bundle:nil];
       self.window.rootViewController=PVC;     
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T08:27:51.790

使用此方法监听 videoplayer 的状态变化。

```
[[NSNotificationCenter defaultCenter] addObserver:self 
selector:@selector(playbackStateChanged) 
name:MPMoviePlayerPlaybackStateDidChangeNotification object:nil]; 
```

在 applicationDidEnterBackground 中，捕获播放时间。MPMoviePlayerController 符合 MPMediaPlayback 协议，并且确实有一个可用的 currentPlaybackTime 属性。将此播放保存在 NSUserDefaults 或任何您觉得容易的地方，以便下次启动应用程序，即在 applicationDidiEnterForeground 方法中从该播放时间恢复播放。

# c# - 未填充操作参数

> ID：14556926
> 
> 赞同：1
> 
> 时间：2013-01-28T06:55:00.850
> 
> 标签：c#, .net, wcf, wsdl, wcf-security

我有一个带有以下服务\操作\数据合同的 WCF 服务。

```
namespace Enrollment
{    
    [ServiceContract(Namespace = "http://docs.oasis-open.org/ws-sx/ws-trust/200512")]
    public interface wstep
    {
        [OperationContract(Action = "http://schemas.microsoft.com/windows/pki/2009/01/enrollment/RST/wstep", Name = "RequestSecurityToken")]
        RequestSecurityTokenResponseCollection RequestSecurityToken(string TokenType, string RequestType, BinarySecurityToken binarySecurityToken, AdditionalContext additionalContext);
    }

    [DataContract(Namespace = "http://schemas.xmlsoap.org/ws/2006/12/authorization")]
    public class AdditionalContext
    {
        [DataMember]
        public List<ContextItem> contextItem { get; set; }
    }

    [DataContract(Namespace = "http://schemas.xmlsoap.org/ws/2006/12/authorization")]
    public class ContextItem
    {
        [DataMember]
        public string Name { get; set; }

        [DataMember(Name="Value")]
        public object Item { get; set; }
    }

    [XmlRoot("BinarySecurityToken")]
    [DataContract(Namespace = "http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd", Name = "BinarySecurityToken")]
    public class BinarySecurityToken
    {
        [XmlAttribute("ValueType")]
        [DataMember(Name = "ValueType",Order=1)]        
        public string ValueType { get; set; }

        [XmlAttribute("EncodingType")]
        [DataMember(Name = "EncodingType", Order = 2)]
        public string EncodingType { get; set; }
    }
} 
```

但是，我看到客户端连接到服务，但是当我在服务中检查它们的值时，操作的最后两个参数 - BinarySecurityToken 和 AdditionalContext 为空。我跟踪了客户端请求，我看到客户端正确发送了这些值。下面提到的是 SOAP 主体。

```
<s:Body>
    <wst:RequestSecurityToken>
        <wst:TokenType>http://schemas.microsoft.com/5.0.0.0/ConfigurationManager/Enrollment/DeviceEnrollmentToken</wst:TokenType>
        <wst:RequestType>http://docs.oasis-open.org/ws-sx/ws-trust/200512/Issue</wst:RequestType>
        <wsse:BinarySecurityToken ValueType="http://schemas.microsoft.com/windows/pki/2009/01/enrollment#PKCS10" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd#base64binary">MIICcTCCAV0CAQAwMDEuMCwGA1UEAxMlQj=</wsse:BinarySecurityToken>
        <ac:AdditionalContext xmlns="http://schemas.xmlsoap.org/ws/2006/12/authorization">
            <ac:ContextItem Name="DeviceType">
                <ac:Value>MyDevice</ac:Value>
            </ac:ContextItem>
            <ac:ContextItem Name="ApplicationVersion">
                <ac:Value>18.10.6603.101</ac:Value>
            </ac:ContextItem>
        </ac:AdditionalContext>
    </wst:RequestSecurityToken>
</s:Body> 
```

前两个参数显示正确。不知道发生了什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:16:26.727

您不能通过`object`WCF 发送类型实例。`ServiceKnownType`您需要使用属性声明将通过服务发送的类型。

```
[DataMember(Name="Value")]
public object Item { get; set; } 
```

例如，如果您知道 object 只能是 X 类的实例，那么；

```
[ServiceKnownType(typeof(x))]
public interface wstep 
```

另外，如果要改变序列化xml的结构，可以参考下面的[数据契约序列化vs xml序列化](http://blogs.microsoft.co.il/blogs/carmelh/archive/2008/10/07/contract-serialization-vs-xml-serialization.aspx)

# javascript - 使用 jquery 或 javascript 如何将输入字段值存储在数组中，并在按下空格键时再次显示它

> ID：14556929
> 
> 赞同：0
> 
> 时间：2013-01-28T06:55:06.313
> 
> 标签：javascript, jquery

当有人在该文本框中键入任何内容时，我编写了一个代码来在文本字段中显示 a 到 z 但现在在该代码中，当用户按下空格键时，我需要一个一个地显示 a 到 z 并且还更改前一个字母按下空格键时的颜色所以有人可以帮我做到这一点，这是我的代码

```
<html>
<head>
<script>
    var x=0
    function type()
    {
        var a=newArray("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")
       var i=document.getElementById("type").value
       var n=i.substring(0,i.length-1)
       document.getElementById("type").value=n.concat(a[x]);
       if(x>=0)x++
       if(x>=26)x=0 
     }
</script>    
</head>
<body>
<input type="text" name="type" id="type" size="100" onkeyup="type()">
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:40:48.227

给你！

```
var letter_array = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];

var pointer = 0; // start the pointer at 0 which means that the first letter will show is the a
var shown_letters=''
$('#type').keydown(function (e) {
     if (e.keyCode == 32) { 
         if(pointer+1 == 26){
         pointer = 0;
         }
         shown_letters += letter_array[pointer];
         $('#type').val( shown_letters);
         pointer = pointer+1
       return false; // return false to prevent space from being added
     }
}); 
```

并且您不能在文本输入中设置与其他字母不同的最后一个字母的样式

[http://jsfiddle.net/m4eJx/](http://jsfiddle.net/m4eJx/)

# iphone - 以与 arc4random 相同的方法使用计数器会导致按钮保持静止。(iOS)

> ID：14556933
> 
> 赞同：0
> 
> 时间：2013-01-28T06:55:18.253
> 
> 标签：iphone, ios, xcode, counter, arc4random

我有一个按钮，我想在每次按下它时随机显示在屏幕上。我正在使用 arc4random 来实现这一点。但是一旦我在这个方法中加入了一个计数器，随机部分就会停止工作。任何想法为什么会发生这种情况或如何解决它将不胜感激，在此先感谢！我的代码如下。

```
-(IBAction)random:(id)sender{

    int xValue = arc4random() % 320;
    int yValue = arc4random() % 480;

    button.center = CGPointMake(xValue, yValue);

    counter = counter + 1;
    score.text = [NSString stringWithFormat:@"Score: %i", counter];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-28T07:22:41.880

实际上，揭示问题的不是计数器，而是标签中值的设置。这是自动布局的问题，当您设置标签的值时，它会强制视图布局，并且自动布局功能会将按钮移回其原始位置。最简单的解决方法是关闭自动布局，这是从 IB 中的文件检查器（最左边的那个）完成的——只需取消选中“使用自动布局”框。

它发生得太快了，看不到发生了什么，但是如果您将代码更改为此（自动布局仍然打开），您将看到按钮移动，然后跳回：

```
-(IBAction)random:(id)sender{
    int xValue = arc4random() % 320;
    int yValue = arc4random() % 480;
    button.center = CGPointMake(xValue, yValue);
    counter = counter + 1;
    [self performSelector:@selector(fillLabel) withObject:nil afterDelay:.5];

}

-(void)fillLabel {
    score.text = [NSString stringWithFormat:@"Score: %i", counter];
} 
```

如果要使用布局约束，另一种方法是更改​​布局约束的“常量”参数。在下面的示例中，我将按钮放在这样一个位置（在 IB 中），它对超级视图有一个左上角约束。我为这些约束制作了 IBOutlets 并将它们连接起来。这是代码：

```
@implementation ViewController {
    IBOutlet UILabel *score;
    int counter;
    NSLayoutConstraint IBOutlet *leftCon;
    NSLayoutConstraint IBOutlet *topCon;
}

-(IBAction)random:(id)sender{
    int xValue = arc4random() % 300;
    int yValue = arc4random() % 440;
    leftCon.constant = xValue;
    topCon.constant = yValue;
    counter = counter + 1;
    score.text = [NSString stringWithFormat:@"Score: %i", counter];
} 
```

# android - 在处理程序中的 TextView 中设置文本性能不佳

> ID：14556934
> 
> 赞同：5
> 
> 时间：2013-01-28T06:55:19.183
> 
> 标签：android, performance, datepicker, textview

由于 Android 不支持显示日期，因此我在布局中添加了一个 TextView。

在 DatePicker 上我放了一个 onDateChangedListener。当日期更改时，我确定星期几，然后通过处理程序设置它以确保它在 UI 线程上完成：

```
// this is being called when the date changes on the DatePicker
public void onDateChanged(DatePicker view, final int year,
                final int monthOfYear, final int dayOfMonth) {
    String dayOfTheWeek = null;

    // some code here to set the 'dayOfTheWeek' string

    h.sendMessage(h.obtainMessage(0, dayOfTheWeek));
}

final Handler h = new Handler() {
    @Override
    public void handleMessage(Message msg) {
        dayOfWeekTextView.setText((String)msg.obj);
    }
}; 
```

[我的问题：当我在小部件（ Android 4.0 U](http://www.antetype.com/blog/wp-content/uploads/2012/07/Datepicker.png) I）中滚动浏览日子时，它并不流畅！我检查了问题所在，这不是我确定字符串应该是什么的方式，它实际上是`setText()`处理程序中的。评论那部分 uit 一切都很好。在此处设置硬编码文本 ( `dayOfWeekTextView.setText("SOMETHING');`) 也会出现同样的问题。它使`DatePicker`.

真的`setText()`有那么大的动作吗？Wunderlist 显示一周中的哪一天，它运行顺利，但我就是不知道他们是如何做到的。

我只在我的`HTC One X`. 任何人的想法？

> 编辑：
> 
> 我发现了为什么它在 Wunderlist 中很流畅！我使用的是和他们一样的DialogFragment。您可以在对话框上设置标题，这就是 Wunderlist 使用的而不是 TextView。所以我要使用它（看起来也更好;））
> 
> 因此，在执行 'getDialog().setTitle(dayOfWeek)' 时没有问题。问题仍然存在：为什么 setText 在 UI 线程上这么慢......？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-25T07:59:31.127

糟糕的性能可能是重新计算布局的结果。如果 textview 宽度是 wrap-content，那么每次文本更改时，布局都会更新。尝试修复 textview 的宽度。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-05T09:24:26.210

**解决方案** 一个非常性感和肮脏的解决方案是创建 7`TextView`并切换其中一个的可见性。直到一周延长到 8 天之前，这种方法应该会以更好的性能工作。

* * *

在单独的说明中，这可能是由于您的 textview 的布局参数。您可能想给它一些额外的空间，或者换句话说，setText 不应该引起布局。我不确定这是否正在发生。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:07:56.540

试试这种格式：

```
t1.setText(""+string_name); 
```

我使用这种格式在 TextView 和 EditText 中设置文本

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-11T09:07:49.203

我尝试使用您所说的类似“处理程序”方法来实现相同的功能，结果证明它的响应速度也非常好。

试试这个代码：

```
final DatePicker dp = (DatePicker)findViewById(R.id.datePicker1);

        dp.init(2012, 6, 17, new OnDateChangedListener() {

            @Override
            public void onDateChanged(DatePicker view, int year, int monthOfYear,
                    final int dayOfMonth) {

                handler.post(new Runnable() {

                    @Override
                    public void run() {

                        TextView tv = (TextView) findViewById(R.id.textView1);

                        // some code here to set the 'dayOfTheWeek' string

                        tv.setText(Integer.toString(dayOfTheWeek));   // (if you want to set a number of day instead of its name)

                                           //  OR

                        tv.setText(dayOfTheWeek);   

                    }
                });

            }
        }); 
```

这里的问题是使用 Wrapper 类**Integer**将 int 值转换为 String。如果你传递了' **plane int** '，它会抛出一个**Resource Not Found**异常。

# visual-c++ - 重新连接 Directshow 过滤器引脚

> ID：14556941
> 
> 赞同：0
> 
> 时间：2013-01-28T06:55:41.233
> 
> 标签：visual-c++, directshow, graphedit

如何重新连接过滤器引脚？

我创建了一个调整大小过滤器 (c++) 并添加了一个带有选项 Pal(720X576) 和 Ntsc(720X480) 的属性页。（默认为 Pal）。

在图形编辑中，我选择了一个视频文件并向其中添加了我的调整大小过滤器，当我播放图形时，它工作正常并在 Pal 中显示视频。当我尝试将其更改为 Ntsc 时，它无法正常工作。为了使其正常工作，我需要先断开 Resizer 过滤器引脚，然后更改输出设置，然后重新连接。（我手动执行此操作，视频正在 Ntsc 模式下播放。）

是否可以在 Transform() 或任何其他更好的建议中重新连接过滤器。请建议/指出我的仪式方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T08:03:02.687

当图形停止时，您可以按照构建图形的相同方式重新连接引脚：使用`IGraphBuilder::Disconnect`, `IGraphBuilder::Connect`。您不能从`Transform`方法中执行此操作，因为停止的图形尚未调用它。

当图表运行时，您可以尝试动态重新同意媒体类型连接，这不能保证有效。请参阅[动态格式更改](http://msdn.microsoft.com/en-us/library/windows/desktop/dd388731%28v=vs.85%29.aspx)：

> 当过滤器切换媒体类型时，称为动态格式更改。如果您正在编写 DirectShow 过滤器，您应该了解动态格式更改的机制。即使您的过滤器不支持此类更改，如果另一个过滤器请求新格式，它也应该正确响应。

# php - php iOS推送通知不起作用

> ID：14556942
> 
> 赞同：0
> 
> 时间：2013-01-28T06:55:53.993
> 
> 标签：php, ios, push-notification, apple-push-notifications, apns-php

ApnsPHP [11001]：错误：无法连接到“ssl://gateway.sandbox.push.apple.com:2195”：连接超时（110）。

我正在使用[http://code.google.com/p/apns-php/](http://code.google.com/p/apns-php/)此代码进行推送通知我正在尝试为 iphone 应用程序执行 php 推送通知。我正在使用linux服务器。我从网上阅读了很多文章来做到这一点，但所有文章都没有更新，都是 2 年前更新的。我的问题是 ApnsPHP[11001] 如何解决这个问题，请帮助我。一些网站建议使用 entrust_root _certification_authority.pem 这是什么。如何得到这个。这是每个网站都是独一无二的吗？是否需要 https 来执行此操作。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:03:11.717

**https 是必要的，您需要签署连接**

服务器需要您的推送证书。因此，apns-php 需要推送证书、使用它的密钥以及苹果 wwdr 证书。

**我猜这就是文章所说的pem。它特定于应用程序>推送证书和密钥不同**

=> 所以——IIRC的程序大致是：

1.  用苹果注册app id
2.  将其配置为推送并下载证书
3.  下载通用 wwdr 证书
4.  将其导入钥匙串
5.  将私钥、证书和 wwdr 导出为 PEM 文件
6.  让服务器端访问该 pem 文件（我没有使用 apns-php 而是我自己的脚本，所以我不知道细节，但再次：大致就是这样 :)

# c++ - 最小值不在二叉树中？

> ID：14556947
> 
> 赞同：1
> 
> 时间：2013-01-28T06:56:13.597
> 
> 标签：c++, c, algorithm, binary-tree

我试图找到一种方法来找到不在**二叉搜索树**中的最小正 ([0, INT_MAX)) (最大整数) 值。树具有所有正整数。我正在考虑沿着树的左侧向下移动。然后创建一个 struct value ，如果它是最小值`struct { int data; bool found; };`，我会返回。`t/f`

我通过遍历左侧来做到这一点，如果 root->data + 1 > left->data，则返回

> 左->数据+ 1

, 否则向右。那么如果

> 根-> 数据 + 1 < 右-> 数据

, 那么`return root->data + 1`. 否则`root->data or right->data`，如果 right 不为 null，则返回，找到的值为 false。我还必须考虑树中的最小值是否不为 0，然后返回 0。我不确定这是否是最好的方法。

谢谢你的帮助。

编辑：对不起，我昨晚写的，当时我真的很累。我在循环中使用它，因此每次将其放入数组中会占用太多时间。我正在使用二叉搜索树，因此每次通过循环我只需插入和删除 1 次即可完成，用最少的时间来查找不在树中的最小值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T07:07:54.153

以下是您可以遵循的步骤：

*   `max_int`声明一个大小为 type的数组`bool`并用 初始化所有元素`false`。

    ```
    bool found[max_int] = {}; //it initializes the array with false!
    //assumming `max_int` is a constant expression.
    //else you can use `std::vector<bool>` or `std::vector<char>`. 
    ```

*   [使用BFS](http://en.wikipedia.org/wiki/Breadth-first_search)或[DFS](http://en.wikipedia.org/wiki/Depth-first_search)或任何适合您的方式遍历树。对于树中的每个值`v`，将索引处的数组更新`v`为：

    ```
    found[v] = true; //it means value `v` is found in the tree! 
    ```

一旦你完成了。最低索引`i`是您`found[i]`正在`false`寻找的值。也就是说，`i`是不在树中的最小值。

*请注意，二叉树*和*二叉搜索树*之间是有区别的。我的解决方案适用于二叉树，尽管它*也*适用于二叉搜索树。只是在二叉搜索树的情况下，您可以找到更优的解决方案，例如在遍历时您可以忽略具有更大值的分支。我希望你自己能做到。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-28T07:10:50.983

假设您的树不包含重复值，您可以按顺序遍历您的树。第一个访问节点的期望值为0。每个后续访问节点的期望值都比最后一个访问节点大1。如果您遇到与预期值不同的节点，那么预期值就是您查询的答案。

我假设由于您描述遍历的方式，您的树是有序的。如果您的树没有排序，您将需要访问每个节点以确定答案，但您可以忽略任何高于树中节点数的值。

虽然以上为 BST 提供了线性解决方案，但您可以更多地利用该结构来获得平均对数解决方案。假设左右节点是真正的子树，那么算法将是：

```
MinMissingValue(BST t, integer b = 0):
    if (t is empty) return b;
    if (t.root.value - b) > t.root.left.count
        return MinMissingValue(t.root.left, b)
    else
        return MinMissingValue(t.root.right, t.root.value + 1) 
```

该算法依赖于每个子树都知道它包含多少个节点的概念。

# android - getview() 中带有多个按钮的列表视图

> ID：14556949
> 
> 赞同：0
> 
> 时间：2013-01-28T06:56:29.963
> 
> 标签：android, android-listview, adapter

我的应用程序在列表的一行中生成一个列表视图（即音频列表），其中包含 2 个按钮和 3 个文本视图。这两个按钮通过使用实现基本适配器的适配器变得可点击。其中一个按钮用于意图视图另一个播放音频。单击播放按钮时，我更改了按钮的背景（播放）。但问题是多个播放按钮的背景已更改，如位置 0、10、20、31、41 ......当我单击 0 该行，我还想知道如何更改所选列表视图的背景以区分正在播放的音频与其他音频...

请..向我建议解决方案..提前感谢以下我的适配器类

```
public View getView(final int position, View convertView, ViewGroup parent) {
        final ViewHolder holder;
        if (convertView == null) {
            convertView = l_Inflater.inflate(R.layout.lv_layout1, null);
            holder = new ViewHolder();
            holder.Title = (TextView) convertView.findViewById(R.id.Title);
            holder.Date = (TextView) convertView.findViewById(R.id.Date);
            holder.Time = (TextView) convertView.findViewById(R.id.Time);
            holder.Duration = (TextView) convertView.findViewById(R.id.Duration1);
            holder.view = (Button) convertView.findViewById(R.id.View);
            holder.play = (Button) convertView.findViewById(R.id.Play);
            holder.r_layout = (RelativeLayout) convertView.findViewById(R.id.r_layout);

            holder.Duration.setVisibility(View.INVISIBLE);

            holder.play.setBackgroundResource(0x7f020009);

            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        holder.play.setOnClickListener(new View.OnClickListener() 
        {

            public void onClick(View convertView) throws IllegalStateException 
            {
                // TODO Auto-generated method stub

                //here is code for play/stop the audio
holder.play.setBackgroundResource(0x7f020009);

            }
        });
        holder.view.setOnClickListener(new View.OnClickListener() {

            public void onClick(View convertView) {
                // TODO Auto-generated method stub
                Log.i("View","hai");
                Intent i=new Intent(context,audio_player.class);
                Bundle bd=new Bundle();

                String sel=itemDetailsrrayList.get(position).getTitle();
                String dur=itemDetailsrrayList.get(position).getDuration();

                bd.putString("audioID",sel);
                bd.putString("totalDuration",dur);

                i.putExtras(bd);

                System.out.println("After intent called");

                context.startActivity(i);
                ((Activity) context).finish();

            }
        });
        return convertView;
    }

    static class ViewHolder {
        TextView Title,Date,Time,Duration;
        ListView lv;
        Button view,play;
        RelativeLayout r_layout;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:00:01.863

你可以试试这个：

```
if (convertView == null) {
        convertView = l_Inflater.inflate(R.layout.lv_layout1, null);
        holder = new ViewHolder();
        holder.Title = (TextView) convertView.findViewById(R.id.Title);
        holder.Date = (TextView) convertView.findViewById(R.id.Date);
        holder.Time = (TextView) convertView.findViewById(R.id.Time);
        holder.Duration = (TextView) convertView.findViewById(R.id.Duration1);
        holder.view = (Button) convertView.findViewById(R.id.View);
        holder.play = (Button) convertView.findViewById(R.id.Play);
        holder.r_layout = (RelativeLayout) convertView.findViewById(R.id.r_layout);

        holder.Duration.setVisibility(View.INVISIBLE);

        convertView.setTag(holder);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }
 holder.play.setBackgroundResource(0x7f020009); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-21T06:23:58.750

好吧，我前段时间遇到过同样的问题，这里是解决方案：首先，将您的代码放在, 设置并重置每个按钮的背景的`BindView`部分，`customAdapter`因为只有没有重置的设置才会将背景更改应用于所有按钮滚动时列表中的按钮，请注意上下文更改。例如，要在单击时更改文本，请在单击之前获取文本视图，而不是在其中。检查下面的代码并评论以进行澄清。PS：不要复制/粘贴代码，它不是 100% 正确的，因为我使用了我的完整代码并删除了无用的部分。

```
class ViewHolder {
TextView PhoneTV;
ImageButton player;

}
@Override
public void bindView(View view, final Context context, Cursor cursor) {
    ViewHolder holder;
    Log.i("myadapter", "bindView");
    if (view != null) {
    holder = new ViewHolder();
    holder.PhoneTV = (TextView) view.findViewById(R.id.one);
    holder.player = (ImageButton)view.findViewById(R.id.imageButton1);
    } else {
         holder = (ViewHolder) view.getTag();
        } 
                if(there is audio file){
        holder.player.setBackgroundResource(R.drawable.play_icon);
            holder.player.setVisibility(View.VISIBLE);
        holder.player.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
        final ImageButton playPause = (ImageButton) v.findViewById(R.id.imageButton1);
                Log.i("click", "Clicked");
                    try{
                        mediaPlayer.setOnCompletionListener(new OnCompletionListener() {

                            @Override
                            public void onCompletion(MediaPlayer mp) {
                                // TODO Auto-generated method stub
                                playPause.setBackgroundResource(R.drawable.play_icon);
                            }
                        });

                        if(mediaPlayer.isPlaying()){
                            Log.i("click", "Pausing");
                            mediaPlayer.pause();    
                            playPause.setBackgroundResource(R.drawable.play_icon);
                            Toast.makeText(localContext, "Paused ", Toast.LENGTH_SHORT).show();
                        }

                        else{

                            new AsyncTask<MediaPlayer, String, String>(){

                                ProgressDialog pd;
                                AsyncTask at = this;

                                protected void onPreExecute() {
                                    // do pre execute stuff...
                                    super.onPreExecute();
                                    try{
                                        this.pd = new ProgressDialog(localContext);
                                        this.pd.setMessage("Please Wait..");
                                        this.pd.setProgressStyle(ProgressDialog.STYLE_SPINNER);
                                        this.pd.setOnCancelListener(new OnCancelListener() {

                                            @Override
                                            public void onCancel(DialogInterface dialog) {
                                                // TODO Auto-generated method stub
                                                at.cancel(true);
                                                playPause.setBackgroundResource(R.drawable.play_icon);
                                                Toast.makeText(localContext, "canceled", Toast.LENGTH_SHORT).show();

                                            }
                                        });
                                        this.pd.show();
                                    }catch(NullPointerException n){
                                        Log.i("play", "NPE pre");
                                    }
                                }

                                @Override
                                protected String doInBackground(MediaPlayer... params) {
                                    // TODO Auto-generated method stub
                                    try {
                                        mediaPlayer.reset();
                                        Log.i("click", "inside datasource and here it is: "+rec);
                                        mediaPlayer.setDataSource(recording_file);

                                        mediaPlayer.prepare();
                                    } catch (Exception e) {
                                        // TODO Auto-generated catch block
                                        e.printStackTrace();
                                    } 
                                    Log.i("click", "Playing");

                                    return null;
                                }
                                protected void onPostExecute(String result) {
                                    // do post execute stuff...
                                    try{
                                        mediaPlayer.start();
                                        this.pd.dismiss();
                                    }catch(NullPointerException n){
                                        Log.i("play", "NPE post");
                                    }

                                }

                            }.execute(mediaPlayer);
                            try{
                                playPause.setBackgroundResource(R.drawable.pause_icon);
                                //Toast.makeText(localContext, "Playing..", Toast.LENGTH_SHORT).show();
                            }catch(NullPointerException n){
                                Log.i("play", "NPE out");
                            }
                        }
                    }
                    catch(IllegalStateException il){
                        Log.i("exception", "Player Illegal State Exception");
                    }
                }

            }
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:10:39.847

尝试这个，

我面临同样的问题。我在里面使用按钮`getView`。`Button`单击选项不起作用。而不是`Button`善意地使用`textView`. 然后写`OnClickListener()`

```
 holder.text.setOnClickListener(new View.OnClickListener() {

    public void onClick(View convertView) {
   }
  }; 
```

它会起作用的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T07:14:12.287

在很多情况下，您想知道单击项目的行位置，并且想知道该行中的哪个视图被点击。这在平板电脑 UI 中将变得更加重要。

您可以使用以下自定义适配器执行此操作：

```
private static class CustomCursorAdapter extends CursorAdapter {

    protected ListView mListView;

    protected static class RowViewHolder {
        public TextView mTitle;
        public TextView mText;
    }

    public CustomCursorAdapter(Activity activity) {
        super();
        mListView = activity.getListView();
    }

    @Override
    public void bindView(View view, Context context, Cursor cursor) {
        // do what you need to do
    }

    @Override
    public View newView(Context context, Cursor cursor, ViewGroup parent) {
        View view = View.inflate(context, R.layout.row_layout, null);

        RowViewHolder holder = new RowViewHolder();
        holder.mTitle = (TextView) view.findViewById(R.id.Title);
        holder.mText = (TextView) view.findViewById(R.id.Text);

        holder.mTitle.setOnClickListener(mOnTitleClickListener);
        holder.mText.setOnClickListener(mOnTextClickListener);

        view.setTag(holder);

        return view;
    }

    private OnClickListener mOnTitleClickListener = new OnClickListener() {
        @Override
        public void onClick(View v) {
            final int position = mListView.getPositionForView((View) v.getParent());
            Log.v(TAG, "Title clicked, row %d", position);
        }
    };

    private OnClickListener mOnTextClickListener = new OnClickListener() {
        @Override
        public void onClick(View v) {
            final int position = mListView.getPositionForView((View) v.getParent());
            Log.v(TAG, "Text clicked, row %d", position);
        }
    };
} 
```

# sql - Joining SQL Server Tables

> ID：14556965
> 
> 赞同：1
> 
> 时间：2013-01-28T06:57:50.783
> 
> 标签：sql, sql-server, tsql

*Movie*

*   MovieID*   Title

with values:

*   1, 'Underworld Evolution'
*   2, 'Taken'

*Category*

*   CategoryId*   Name

with values:

*   1, 'Action'
*   2, 'Horror'
*   3, 'Drama'
*   4, 'Suspense'

The association table:

*MovieCategory*

*   MovieId
*   MovieCategoryId

with values:

**MovieId**    **CategoryId**

    1                        1
    1                        2
    2                        1
    2                        4

Is there a way which I can make an output like this by joining those three tables:

**MovieId**    **Title**                                **Category**
1                Underworld Evolution      Action,Horror
2                Taken                             Action,Suspense

```
(select

    a.Store,
    a.Id,
    a.Title,
    a.Publisher,
    a.SerialNo,
    max(a.cat1) + max(a.cat2) + max(a.cat3) + max(a.cat4) + max(a.cat5) Genre,
    a.Rate,
    a.ReleaseDate,
    a.MovieStatus

    from

        (select 

        m.Id,
        m.Title,
        p.Name Publisher,

        case 
            when mc.Description like 'Action' then mc.Description + ', ' else '' end cat1,
        case 
            when mc.Description like 'Comedy' then mc.Description + ', ' else '' end cat2,
        case 
            when mc.Description like 'Drama' then mc.Description + ', ' else '' end cat3,
        case 
            when mc.Description like 'Horror' then mc.Description + ', ' else '' end cat4,
        case 
            when mc.Description like 'Suspense' then mc.Description + ', ' else '' end cat5,

        mis.SerialNo,
        mr.Description Rate,
        m.ReleaseDate,
        ms.Description MovieStatus,
        s.Name Store

        from MovieCategoryMovie mcm

        inner join Movie m
        on mcm.MovieId like m.Id

        inner join MovieCategory mc
        on mc.Id like mcm.MovieCategoryId

        inner join Publisher p
        on m.PublisherId like p.Id

        inner join MovieRate mr
        on m.MovieRateId like mr.Id

        inner join MovieInStore mis
        on mis.MovieId like m.Id

        inner join Store s
        on mis.StoreId like s.Id

        inner join MovieStatus ms
        on ms.Id like mis.MovieStatusId

        where s.Name like @store

        group by

        m.Id,
        m.Title,
        mcm.MovieId,
        mcm.MovieCategoryId,
        p.Name,
        mr.Description,
        m.ReleaseDate,
        mc.Description,
        ms.Description,
        s.Name,
        mis.SerialNo

        ) as a 
```

This code is from my stored procedure that does this output which I'm talking about.

I've already tried this using case statements but I don't know if it will be the only way to do it, because I think it's not quite looking good with it. Hope somebody can help me. Thanks!

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T08:27:12.227

```
SELECT
     [MovieID], [Title],
     STUFF(
         (SELECT ', ' + b.[Title]
          FROM MovieCategory a
               INNER JOIN Category b
                  On a.CategoryID = b.MovieID
          WHERE  a.[MovieID] = d.[MovieID]
          FOR XML PATH ('')) 
          , 1, 1, '')  AS CategoryList
FROM Movie AS d
GROUP BY [MovieID], [Title] 
```

*   [SQLFiddle Demo](http://www.sqlfiddle.com/#!3/d2d0f/8)

# sql - 从 sql server 2008 中的多个值中选择值

> ID：14556968
> 
> 赞同：2
> 
> 时间：2013-01-28T06:58:02.567
> 
> 标签：sql, sql-server-2008

```
DECLARE @ProductFeature TABLE (ProductID int, FeatureID int)

INSERT INTO @ProductFeature
  SELECT 1,100
    UNION ALL
  SELECT 1,101
    UNION ALL
  SELECT 1,102
    UNION ALL
  SELECT 2,103
    UNION ALL
  SELECT 2,104
    UNION ALL
  SELECT 3,100
    UNION ALL
  SELECT 3,101
    UNION ALL
  SELECT 3,102
    UNION ALL
  SELECT 4,102
    UNION ALL
  SELECT 4,101
    UNION ALL
  SELECT 5,110
    UNION ALL
  SELECT 5,100
    UNION ALL
  SELECT 5,101 
```

我的要求是，如果我通过`ProductID = 1`了，那么我必须选择`Product`具有类似于`ProductID = 1`.

由于`ProductID = 1`具有 3 个特征（100,101,102），因此只有`ProductID = 3`具有相同计数的特征和具有`ProductID = 1`

**预期结果**

```
ProductID   FeatureID
3              100
3              101
3              102 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T12:33:00.183

带有[**EXCEPT**](http://msdn.microsoft.com/en-us/library/ms188055.aspx)操作的选项

```
DECLARE @ProductID int = 1

SELECT ProductID, FeatureID
FROM ProductFeature p1
WHERE p1.ProductID != @ProductID AND 
      NOT EXISTS (
                  SELECT p2.FeatureID         
                  FROM ProductFeature p2
                  WHERE p2.ProductID = @ProductID                                                
                  EXCEPT
                  SELECT p3.FeatureID
                  FROM ProductFeature p3
                  WHERE p3.ProductID = p1.ProductID               
                  ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T07:17:18.443

它有点效率，但它有效

```
select pr.ProductID , pr.FeatureID
from @ProductFeature pr
where pr.ProductID in (
    select prd.ProductID
    from @ProductFeature pr
    join @ProductFeature prd
    on pr.ProductID != prd.ProductID
    and pr.FeatureID = prd.FeatureID
    where pr.ProductID = @ProductId
    group by prd.ProductID
    having count(prd.ProductID) = (select count(distinct pr.FeatureID) from @ProductFeature pr where pr.ProductID = @ProductId)
    ) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-28T07:19:46.787

您首先必须确定共享至少一项功能的产品。然后从这些产品中，找到具有完全相同数量功能的产品。

这应该可以解决问题：

```
DECLARE @productID int = 1

SELECT
  [p3].[ProductID],
  [p3].[FeatureID]
FROM
(
  SELECT 
    [p1].[ProductID]
  FROM [ProductFeature] [p1]
  INNER JOIN [ProductFeature] [p2] ON [p1].[FeatureID] = [p2].[FeatureID]
  WHERE [p1].[ProductID] <> [p2].[ProductID] AND [p2].[ProductID] = @productID
) AS [sub]
INNER JOIN [ProductFeature] [p3] ON [sub].[ProductID] = [p3].[ProductID]
GROUP BY
  [p3].[ProductID],
  [p3].[FeatureID]
HAVING COUNT(*) = (SELECT COUNT(*)
                   FROM [ProductFeature]
                   WHERE [ProductID] = @productID)
ORDER BY 
  [p3].[ProductID] ASC,
  [p3].[FeatureID] ASC 
```

在[这里](http://sqlfiddle.com/#!3/7b3c0/3)寻找[Fiddle](http://sqlfiddle.com/#!3/7b3c0/3)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-28T07:52:24.523

通常我使用 cte -bit clearer（不知道是否更慢/更快）。

```
 DECLARE @fromProductID int = 1;

    with cteGroup (ProductID) AS
     (
        select ProductID
        from @ProductFeature
        where FeatureID in (select FeatureID
                        from @ProductFeature 
                        where ProductID = @fromProductID)
           and ProductID <> @fromProductID
        group by ProductID
        having COUNT(FeatureID)= (select COUNT(FeatureID) as NoOfRecords
                                    from @ProductFeature 
                                  where ProductID = @fromProductID) 
    ) 
     select a.ProductID,b.FeatureID
     from cteGroup a
     inner join @ProductFeature b
     on a.ProductID = b.ProductID 
```

# deployment - 仅使用 Jenkins 和 Git 部署更改的文件

> ID：14556969
> 
> 赞同：4
> 
> 时间：2013-01-28T06:58:03.403
> 
> 标签：deployment, jenkins, jenkins-plugins

我正在部署一个 PHP 应用程序，确切地说是 Drupal，我决定将 Jenkins 用于 CI。我使用 Publish Over SSH 可以很好地部署它，但它每次都部署整个站点，这显然很慢。我知道有 Ant、Maven、Phing 和 Capistrano 等工具，但我想知道哪个是我的最佳选择？

我目前只是在进行部署，但这里是我最终目标的概述。

1.  签出源代码。（使用运行良好的 Git 插件。）

2.  构建 SASS 或 LESS 文件

3.  使用 drush 运行 Drupal 测试

4.  部署代码。仅部署已更改的代码文件。

根据您配置与上述类似的内容的经验，我将不胜感激从这里使用的最佳工具的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-13T12:48:47.557

如果您只是部署代码，那么它应该不会很慢。我猜你的回购中有一些不好的东西，比如资产，这可能是导致问题的原因？

根据我使用 CI 的经验，我总是将整个代码库部署为包以消除歧义。

# c - C Windows winapi + 多线程 (HANDLE)_beginthreadex 失败

> ID：14556972
> 
> 赞同：0
> 
> 时间：2013-01-28T06:58:09.237
> 
> 标签：c, multithreading, winapi, winsock

这段代码毁了​​我一整天。基本上我有一个我管理的 50 个网络服务器的列表，我想检查它们是否启动/活着（isAlive() 函数），我用 50 个 ips/主机名解析我的 webservers.txt 文件，为了快速我尝试使用线程（10 , 20 或 30 无关紧要）然后我编译的代码似乎只退出而不做任何事情......任何想法/帮助？

```
#include <windows.h>
#include <stdio.h>
#include <string.h>
#include <winsock.h>
#include <process.h>
#include <string.h>

#pragma comment(lib, "wsock32.lib")

unsigned int _stdcall isAlive(void *ptr)
{
  struct sockaddr_in blah;
  struct hostent *he;
  WSADATA wsaData;
  int i;
  WORD wVersionRequested;
  SOCKET sock;
  char* addr = (char*)ptr;

  char buff[1024];
  char *ex;
  ex="GET /alive.php HTTP/1.0\n\n";
  char *fmsg="ALIVE";

  wVersionRequested = MAKEWORD(1, 1);
  if (WSAStartup(wVersionRequested , &wsaData)){
    printf("Winsock Initialization failed.\n");
    return(1);
  }

  if ((sock=socket(AF_INET,SOCK_STREAM,0))==INVALID_SOCKET){
    printf("Can not create socket.\n");
    return(1);
  }
  sock = socket(AF_INET,SOCK_STREAM,0);
  blah.sin_family = AF_INET;
  blah.sin_port = htons(80);
  blah.sin_addr.s_addr = inet_addr(addr);

  if ((he=gethostbyname(addr))!=NULL){
    memcpy((char *)&blah.sin_addr.s_addr,he->h_addr,he->h_length);
  }
  else{
    if((blah.sin_addr.s_addr=inet_addr(addr))==-1){
      WSACleanup();
      return(1);
    }
  }

  if (connect(sock,(struct sockaddr*)&blah,sizeof(blah))==0){
    send(sock,ex,strlen(ex),0);
    recv(sock,buff,sizeof(buff),0);
    if(strstr(buff,fmsg)!=NULL){
      printf("ALIVE: %s", addr);
    }
  }

  closesocket(sock);
  WSACleanup();
  _endthreadex(0);
  return(1);
}

int main(int argc,char *argv[])
{
  if(argc!=2){
    printf("Usage: %s <webservers list>\n", argv[0]);
    return(1);
  }

  char *inname = argv[1];
  FILE *infile;
  char line_buffer[BUFSIZ];
  char line_number;

  infile = fopen(inname, "r");
  if (!infile) {
    printf("Couldn't open file %s for reading.\n", inname);
    return 0;
  }

  line_number = 0;
  HANDLE hThreadArray[200];
  while (fgets(line_buffer, sizeof(line_buffer), infile)) {
    ++line_number;
    unsigned threadID;
    hThreadArray[line_number] = (HANDLE)_beginthreadex(0, 0, isAlive, line_buffer, 0, &threadID);
  }
  WaitForMultipleObjects(sizeof(line_buffer), hThreadArray, TRUE, INFINITE);
  return 0;
} 
```

您的建议后的新代码：

```
#include <windows.h>
#include <stdio.h>
#include <string.h>
#include <winsock.h>
#include <process.h>
#include <string.h>

#pragma comment(lib, "wsock32.lib")

unsigned int _stdcall isAlive(void *ptr)
{
  struct sockaddr_in blah;
  struct hostent *he;
  WSADATA wsaData;
  int i;
  WORD wVersionRequested;
  SOCKET sock;
  char* addr = (char*)ptr;

  char buff[1024];
  char *ex;
  ex="GET /alive.php HTTP/1.1\n\n";
  char *fmsg="ALIVE";

  wVersionRequested = MAKEWORD(1, 1);
  if (WSAStartup(wVersionRequested , &wsaData)){
    printf("Winsock Initialization failed.\n");
    return(1);
  }

  if ((sock=socket(AF_INET,SOCK_STREAM,0))==INVALID_SOCKET){
    printf("Can not create socket.\n");
    return(1);
  }
  sock = socket(AF_INET,SOCK_STREAM,0);
  blah.sin_family = AF_INET;
  blah.sin_port = htons(80);
  blah.sin_addr.s_addr = inet_addr(addr);

  if ((he=gethostbyname(addr))!=NULL){
    memcpy((char *)&blah.sin_addr.s_addr,he->h_addr,he->h_length);
  }
  else{
    if((blah.sin_addr.s_addr=inet_addr(addr))==-1){
      WSACleanup();
      return(1);
    }
  }

  if (connect(sock,(struct sockaddr*)&blah,sizeof(blah))==0){
    send(sock,ex,strlen(ex),0);
    recv(sock,buff,sizeof(buff),0);
    if(strstr(buff,fmsg)!=NULL){
      printf("ALIVE: %s\n", addr);
    }
  }

  closesocket(sock);
  WSACleanup();
  _endthreadex(0);
  return(1);
}

int main(int argc,char *argv[])
{
  if(argc!=2){
    printf("Usage: %s <webservers list>\n", argv[0]);
    return(1);
  }

  char *inname = argv[1];
  FILE *infile;
  char line_buffer[10000];
  char line_number;

  infile = fopen(inname, "r");
  if (!infile) {
    printf("Couldn't open file %s for reading.\n", inname);
    return 0;
  }

  line_number = 0;
  HANDLE hThreadArray[200];
  while (fgets(line_buffer, sizeof(line_buffer), infile)) {
    unsigned threadID;
    hThreadArray[line_number] = (HANDLE)_beginthreadex(0, 0, isAlive, line_buffer, 0, &threadID);
    ++line_number;
  }
  WaitForMultipleObjects(line_number, hThreadArray, TRUE, INFINITE);
  fclose(infile);
  return 0;
} 
```

现在我的代码运行了，但它占用了我文本中的最后一行并用它创建了多个线程，我迷路了:(

hosts.txt（其中 11 行）

```
myhost.com
mysecondhost.com
...
mylasthost.com 
```

结果：C:\Documents and Settings\Xtmtrx\Desktop\Code>checkalive.exe hosts.txt

```
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com
ALIVE: mylasthost.com 
```

如果我这样做：

```
#define MAX 10000

/* snip */

HANDLE hThreadArray[200];
char str[MAX];
char *x[MAX];
int i =0;

while(!feof(infile)) {
  while(fgets(str, sizeof str, infile)) {
    unsigned threadID;
    x[i] = strdup(str);
    printf("%s", *(x+i));
    hThreadArray[i] = (HANDLE)_beginthreadex(0, 0, isAlive, *(x+i), 0, &threadID);
    i++;
  }
} 
```

对吗？

最后编辑：

这是我完成的代码，似乎可以工作，我也添加了超时，但似乎没有考虑到它可以挂在某些主机上：

```
#include <windows.h>
#include <stdio.h>
#include <string.h>
#include <winsock.h>
#include <process.h>
#include <string.h>

#pragma comment(lib, "wsock32.lib")

#define MAX 10000

unsigned int _stdcall isAlive(void *ptr)
{
  struct sockaddr_in blah;
  struct hostent *he;
  WSADATA wsaData;
  int i;
  WORD wVersionRequested;
  SOCKET sock;
  char* addr = (char*)ptr;

  char buff[1024];
  char *request;
  request="GET /alive.php HTTP/1.0\n\n";
  char *fmsg="ALIVE";

  wVersionRequested = MAKEWORD(1, 1);
  if (WSAStartup(wVersionRequested , &wsaData)){
    printf("Winsock Initialization failed.\n");
    return(1);
  }

  if ((sock=socket(AF_INET,SOCK_STREAM,0))==INVALID_SOCKET){
    printf("Can not create socket.\n");
    return(1);
  }
  sock = socket(AF_INET,SOCK_STREAM,0);
  blah.sin_family = AF_INET;
  blah.sin_port = htons(80);
  blah.sin_addr.s_addr = inet_addr(addr);

  if ((he=gethostbyname(addr))!=NULL){
    memcpy((char *)&blah.sin_addr.s_addr,he->h_addr,he->h_length);
  }
  else{
    if((blah.sin_addr.s_addr=inet_addr(addr))==-1){
      WSACleanup();
      return(1);
    }
  }

  if (connect(sock,(struct sockaddr*)&blah,sizeof(blah))==0){
    send(sock,request,strlen(request),0);
    recv(sock,buff,sizeof(buff),0);
    if(strstr(buff,fmsg)!=NULL){
      printf("ALIVE: %s", addr);
    }
  }

  closesocket(sock);
  WSACleanup();
  _endthreadex(0);
  return(1);
}

int main(int argc,char *argv[])
{
  if(argc!=2){
    printf("Usage: %s <webservers list>\n", argv[0]);
    return(1);
  }

  char *inname = argv[1];
  FILE *infile;
  char line_buffer[BUFSIZ];
  char line_number;

  infile = fopen(inname, "r");
  if (!infile) {
    printf("Couldn't open file %s for reading.\n", inname);
    return 0;
  }

  HANDLE hThreadArray[200];
  char str[MAX];
  char *x[MAX];
  int i = 0;
  while(!feof(infile)) {
    while(fgets(str, sizeof str, infile)) {
      unsigned threadID;
      x[i] = strdup(str);
      //printf("%s", *(x+i)); // DEBUG
      hThreadArray[i] = (HANDLE)_beginthreadex(0, 0, isAlive, *(x+i), 0, &threadID);
      i++;
      }
  }

  WaitForMultipleObjects(i, hThreadArray, TRUE, INFINITE);
  fclose(infile);
  return 0;
} 
```

有什么想法/想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T07:07:28.443

您的代码存在很多问题，尤其是：

1.  WaitForMultipleObjects 的第一个参数采用 NUMBER 个元素，而不是缓冲区的 SIZE。改用 line_number 。

2.  您的循环永远不会设置数组的第一个元素（元素 0），因为您在通过 hThreadArray[line_number] 设置它之前将 line_number 增加到 1。

3.  您将一个指向堆栈分配缓冲区（line_buffer）的指针作为参数传递给线程。然后，您在线程启动之前继续更改此堆栈缓冲区。作为线程启动参数发送的参数需要在堆上分配（每个线程一个，线程负责稍后释放它）。

4.  您从未真正检查过 _beginThreadEx 的响应代码，因此您无法确定线程是否已启动！

5.  您的线程开头没有任何 printf 语句。放一个可以帮助你调试你的线程是否已经启动。

6.  服务器的 HTTP 参数可能会失败。在 Wireshark 中查看真正的 GET 请求是什么样子并复制它。您至少应该发送一个带有 Host 标头的 HTTP/1.1。

7.  尽管首先调用了 WSAStartup()，但通过新线程代码的路径不会调用 WSACleanup()。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-28T07:06:00.567

想想当主线程在它刚刚启动的线程做任何有用的事情*之前继续循环时会发生什么。*

它将覆盖 处的内存`line_buffer`，这就是它会做的事情。这将在线程有机会查看*之前*更改内存。换句话说，考虑这个时间线：

```
main populates linebuffer
main starts thread 1
                               thread1 starts
main populates linebuffer
                               thread1 reads linebuffer 
```

您可以在那里看到缓冲区在线程查看之前已更改。

如果您要在这样的线程之间共享数据，则需要确保它们正确地序列化访问。有几种方法可以做到这一点，其中一些如下：

*   使行缓冲区成为一个数组，就像线程对象一样。这意味着`main`不会覆盖以前发送的。
*   在线程之间使用某种形式的通信，`main`以便`main`等到线程在继续之前制作本地副本。

此外，我不确定您`WaitForMultipleObjects`是否应该将其`sizeof(line_buffer)`用作对象计数。肯定`line_number`会是一个更好的选择，因为这是您创建的对象的实际数量。

# javascript - 模态确认 jquery 建议

> ID：14556975
> 
> 赞同：-2
> 
> 时间：2013-01-28T06:58:12.120
> 
> 标签：javascript, jquery, modal-dialog

我需要一些非常基本的帮助。基本上，我试图创建一个模态确认对话框，我已经完成了大部分。简而言之，这是一个询问“你确定吗？”的对话框。有两个按钮“是”和“否”

```
<script>
$(function() {
    $( "#dialog-confirm" ).dialog({
        resizable: false,
        height:140,
        modal: true,
        buttons: {
            "Yes": function() {},
            "No": function() {
                $( this ).dialog( "close" );
            }
        }
    });
});
</script> 
```

我该怎么做才能在点击“是”时关闭框并完成运行我想要的脚本？这可能是一个新事物，但我正在学习，而不是按任何特定顺序

更新 1

新代码：

```
$('#stats_ensaves').click(function(){
        $('#thedialog').dialog('open');
        return false;
    });
    $('#thedialog').dialog({
        autoOpen: false,
        width: 300,
        buttons: {

            "Confirm": function(){
                $("#stats_ensaves").dialog("open");

            },

            "Cancel": function() {
                $(this).dialog("close");

            }
        }
    }); 
```

stats_ensaves 就在这里：`<span class="playerstat">Energy Saves: </span> <span id="stats_ensaves"><a href="http://www.galatium.net/account.php?onnow=N" id="link"><b>ON</b> (7 left)</a></span>`

我的新问题是：为什么确认按钮没有将我链接到该链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-28T07:05:13.810

```
...
        buttons: {
            "Yes": function() {
                // some code here when yes was clicked
                $( this ).dialog( "close" );
             },
            "No": function() {
                $( this ).dialog( "close" );
            }
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T07:08:34.127

```
$(".confirm").click(function(e) {
    e.preventDefault();
    var targetUrl = $(this).attr("href");
    var $dialog-confirm = $('<div></div>').
        html("<p>Are you sure?</p>").
        dialog({autoOpen: false,
        title: 'Please Confirm',
        buttons : {
            "Yes" : function() {....},
            "No" : function() {....}
        },
        modal: true
    });

    $dialog-confirm.dialog("open");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-28T07:38:28.227

你想运行什么脚本？它没有显示或引用。我假设它被称为`myFunction`.

这是一个[小提琴](http://jsfiddle.net/gillyspy/gECNQ/)

注意：请将这些标记为**jquery-ui**

# javascript - 在 IE 中禁用/启用文本选择

> ID：14556979
> 
> 赞同：0
> 
> 时间：2013-01-28T06:58:17.683
> 
> 标签：javascript, css, internet-explorer

我们有一个项目，我们是否禁用了对所有正文内容的文本选择。因此，解决方案是普通浏览器的 CSS 样式（如`user-select: none`）和 IE 的解决方法（如`document.body.onselectstart = function () { return false; }`）。

所以问题是：如何在 IE 的某些 div 元素中启用文本选择？以及如何简单快速地做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-28T07:20:52.260

好吧，最简单的方法是颠倒您的逻辑，并将此规则仅应用于不应选择其文本的元素。将此规则应用于整个主体的问题在于，任何子元素都已经从其父（主体）元素接收到这个被覆盖的事件，并且重新初始化`onselectstart`事件的方法并不像某些人认为的那样容易他们的答案这里。在您的情况下，我会为整个主体删除此规则，然后仅将其应用于没有任何子元素的单个元素，其中不可应用压倒一切的规则。

**例子：**

```
<body>
  this is some text that is selectable
  <div style='-o-user-select: none;
              -webkit-user-select: none;
              -moz-user-select: -moz-none;
              -khtml-user-select: none;
              -ms-user-select: none;
              user-select: none;' 
       onselectstart='return false;'
       unselectable='on'>
    this is some text that's not selectable
  </div>  
</body> 
```

**>查看****[JSFiddle](http://jsfiddle.net/6pXYN/4/)**上的工作演示

* * *

*请注意，尚不支持列出的某些单个属性，我还是添加了它们以防万一。规则集的编译方式可以支持尽可能多的不同浏览器。有些会遵循 CSS 样式，有些需要 JavaScript hack（IE < 10），而 Opera 浏览器遵循特殊的元素属性（见下文）。*

**编辑：**增加了对 Opera 浏览器的支持 ( `unselectable='on'`)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-28T07:04:29.987

```
<div onselectstart='return true;'>blablabla</div> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-28T07:09:10.673

```
 document.body.onselectstart = function (event) {
    if(event.srcElement.parentNode.id == 'mydiv')//you may need to loop if the parentNode is 
    {                                            //not a div element
        return true;
    }
    else{
        return false;
    }
 } 
```

注意：禁用 javascript 将使用户能够选择文本

我已经更新了小提琴[链接](http://jsfiddle.net/mehavel/6pXYN/5/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-28T08:11:07.447

使用 jQuery

```
$("body").disableSelection(); 
```

# java - 使用 Mysql 的 tomcat 7 中的连接错误太多

> ID：14556980
> 
> 赞同：0
> 
> 时间：2013-01-28T06:58:20.050
> 
> 标签：java, mysql, tomcat, jdbc

我收到以下“连接过多”错误，尽管我确定我的代码中已关闭连接。

我在 MySQL 中使用 tomcat 7，我没有配置连接池，除非 tomcat 默认使用连接池。

```
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Data source rejected establishment of connection,  message from server: "Too many connections"
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Data source rejected establishment of connection,  message from server: "Too many connections"
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.Util.getInstance(Util.java:386)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1013)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:987)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:982)
    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1128)
    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2336)
    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2369)
    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2153)
    at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:792)
    at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
    at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:381)
    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:305)
    at java.sql.DriverManager.getConnection(DriverManager.java:579)
    at java.sql.DriverManager.getConnection(DriverManager.java:243) 
```

在我的代码中，我像这样关闭连接。

```
 private void insertIntoDB()
    {  
        /**
         * THIS JUST a WORKAROUND  ... REMOVE later
         */
        if(token==null || token.equals(""))
        {
            return; 
        }
        //System.out.println("Inserting values in Mysql database table!"); 
        Connection connect = null;
        PreparedStatement preparedStatement = null;

        try{ 
            // This will load the MySQL driver, each DB has its own driver
                        Class.forName("com.mysql.jdbc.Driver");
                        // Setup the connection with the DB
                        connect = DriverManager
                                .getConnection("jdbc:mysql://127.0.0.1:3306/dbname?"
                                        + "user=dbuser&password=xxxxxxxx");

                preparedStatement = connect
                        .prepareStatement("INSERT INTO location_V2_android  (udid, token, lat , lng,update_time) VALUES "
                                                      +"          (?,               ?,        ?,  ?,   NOW() )"
                                        );

                preparedStatement.setString(1, udid);
                preparedStatement.setString(2,  token);
                preparedStatement.setDouble(3,lat);
                preparedStatement.setDouble(4, lng);

                preparedStatement.executeUpdate();

                //preparedStatement.close();

            } 
            catch (SQLException s)
            {
                System.out.println("SQL statement is not executed! UpdateLocations V2 updateUserLocationinDB"+ s.toString()); 
            } 
         catch (Exception e)
            {  e.printStackTrace();  } 
           finally {
               // Close database resources
               try {
                   if (preparedStatement != null) {
                       preparedStatement.close();
                   }
               } catch (SQLException e) {
                   System.out.println("Cleanup failed to close Statement.");
               }

               try {
                   if (connect != null) {
                       connect.close();
                   }
               } catch (SQLException e) {
                   System.out.println("Cleanup failed to close Connection.");
               }

               }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T10:13:16.587

起初我会在代码中“缓存”preparedStatement，而不是总是新建它。

另一个问题可能是带有 Tomcat 的 JDBC-Connection-Pool 的驱动程序正在缓存太多。

尝试将参数设置**“cachePrepStmts=false”**添加到连接 URL。之后应该在您的代码中进行缓存。

# xquery - 只想使用 XQUERY 从 XML 中检索唯一节点

> ID：14556983
> 
> 赞同：1
> 
> 时间：2013-01-28T06:58:47.997
> 
> 标签：xquery, xquery-sql

我有如下 XML：

```
<Root>  
    <Inv><Id>1</Id><Name>John</Name></Inv>
    <Inv><Id>2</Id><Name>Tom</Name></Inv>
    <Inv><Id>1</Id><Name>John</Name></Inv>
    <Inv><Id>4</Id><Name>Harry</Name></Inv>

</Root> 
```

只想使用 XQUERY 检索唯一节点。

你能指导一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-17T19:56:10.623

以下 XQuery`<Inv>`通过执行元素[`deep-equal()`](http://www.w3.org/TR/xpath-functions/#func-deep-equal)序列的比较来生成不同的元素列表`<Inv>`：

```
let $invSequence := /Root/Inv
(:
  For each position(),
  return the <inv> element who's position is equal to the current number,
  and who's previous siblings are not deep-equal() 
:)
for $pos in (1 to count($invSequence))
return $invSequence[$pos] 
                    [not(some $inv in $invSequence[position() < $pos] 
                           satisfies deep-equal(., $inv))] 
```

**结果：**

```
<Inv>
   <Id>1</Id>
   <Name>John</Name>
</Inv>
<Inv>
   <Id>2</Id>
   <Name>Tom</Name>
</Inv>
<Inv>
   <Id>4</Id>
   <Name>Harry</Name>
</Inv> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T01:52:55.337

如果您知道结构并且只有两个子元素`<Id>`and `<Name>`，那么您可以按这些元素分组并从组中选择第一个：

```
for $inv in /Root/Inv
  let $id := $inv/Id
  let $name := $inv/Name
  group by $id, $name
return $inv[1] 
```

# php - ImageMagick 创建多个文件

> ID：14556984
> 
> 赞同：5
> 
> 时间：2013-01-28T06:58:48.487
> 
> 标签：php, command-line, imagemagick, imagemagick-convert

我正在运行以下内容：

```
convert '/var/www/Standard Features.tif' '/var/www/Standard Features.jpg' 
```

由于某种原因，我正在创建 2 个文件：

```
-rw-r--r--  1 root   root    31809 Jan 27 23:53 Standard Features-0.jpg
-rw-r--r--  1 root   root    20899 Jan 27 23:53 Standard Features-1.jpg 
```

为什么会发生这种情况，我怎样才能让它停止？我似乎无法弄清楚为什么会这样。我试过改变选项和一切，但似乎没有任何效果。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-28T07:21:44.070

```
convert in.tif -delete 0 out.jpg 
```

或者

```
convert in.tif -delete 1 out.jpg 
```

您将尝试转换多目录 TIFF，将其转换为`convert`的图像堆栈。该`-delete`参数指定要删除的堆栈索引（当堆栈中只剩下一张图像时，将只输出一张图像）。

多目录 TIFF 确实有多个图像，因此您要小心实际丢弃的内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-09-26T22:00:39.870

TIFF 文件可以有多个页面。GIF 文件可以有多个帧，PDF 文件可以有多个图层。转换此类将产生多个输出，每个页面/帧/层一个。

如果您只想要 ImageMagick 中图像的一页/层/帧，则只需将 [x] 添加到您的输入文件名。例如，如果您只想要 TIFF 的第一页，那么

```
convert image.tiff[0] out.jpg 
```

请参见[选择框架](https://imagemagick.org/script/command-line-processing.php)

如果您想要一系列页面，例如使用 [3-27]。

如果使用 ImageMagick 7，请将 convert 替换为 magick。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-09-26T21:41:40.640

我发现这对处理输出更有帮助，因为它不需要知道 ImageMagick 会生成多少文件。这仅在您只需要第一张图像时才有用：

```
convert in.tif -delete 1--1 out.jpg 
```

1 是创建的第二个图像（索引为 0）

-1 是最后创建的图像

所以 1--1 是从第二个到最后一个创建的图像的范围。您的输出将是 out.jpg 而不是 out-0.jpg。

# android - 如何在共享首选项中设置数组？

> ID：14556991
> 
> 赞同：1
> 
> 时间：2013-01-28T06:59:35.747
> 
> 标签：android, sharedpreferences

> **可能重复：**
> [是否可以将数组或对象添加到 Android 上的 SharedPreferences](https://stackoverflow.com/questions/3876680/is-it-possible-to-add-an-array-or-object-to-sharedpreferences-on-android)

我使用共享偏好在我的闹钟中创建了多个闹钟现在我希望闹钟应该在一周中的特定日子响起，因为我想要一个可以保存闹钟应该响起的日子的数组。谁能告诉如何将数组放入共享首选项以及如何再次检索它..？

```
SharedPreferences set=getSharedPreferences(MYPR, 0);
            SharedPreferences.Editor ed=set.edit();
            ed.putInt("Ahh", Ahh);
            ed.putInt("Amm",Amm);
            ed.putBoolean("en", true);
            ed.commit(); 
```

现在我将闹钟时间及其属性放在共享首选项中。还有什么要添加到放置数组（星期几）..？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-28T07:17:01.360

**来写，**

```
SharedPreferences prefs = PreferenceManager
            .getDefaultSharedPreferences(this);
    JSONArray jsonArray = new JSONArray();
    jsonArray.put(1);
    jsonArray.put(2);
    Editor editor = prefs.edit();
    editor.putString("key", jsonArray.toString());
    System.out.println(jsonArray.toString());
    editor.commit(); 
```

**读书，**

```
try {
        JSONArray jsonArray2 = new JSONArray(prefs.getString("key", "[]"));
        for (int i = 0; i < jsonArray2.length(); i++) {
             Log.d("your JSON Array", jsonArray2.getInt(i)+"");
        }
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

# android - Google Maps Android API v2 仅适用于一部手机

> ID：14556995
> 
> 赞同：1
> 
> 时间：2013-01-28T06:59:42.233
> 
> 标签：android, android-maps-v2, supportmapfragment

我正在与我的团队合作，让 Google 地图使用他们的 Android API v2 显示。

我设法在**我自己的手机上获取代码并进行测试，它运行良好**......但是当代码在我**队友的手机**上运行时，他们的屏幕是灰色的，他们有这个：

```
E/Google Maps Android API(30514): Authorization failure. 
```

奇怪的是，这个错误不会 100% 出现在他们的 logcat 中，有时他们只是得到灰屏而没有任何错误。顺便说一句，我们的代码与 SVN 同步，因此它们肯定会更新。

我的**API 密钥是从调试密钥中获得的**，并且已经验证是正确的，因为它可以在我的手机上完美运行。

我不确定究竟是什么导致了这种情况，因此我不确定我可以在此处发布哪些代码以寻求帮助。与此同时，我将发布我的 MapFragment 类代码，并希望它能为某人提供帮助。

如果还有什么我可以在这里发布以寻求答案，请告诉我，我会尽快发布。谢谢！

```
public class POnlineMapViewFragment extends SherlockMapFragment {

    private GoogleMap mMap;
    private double latitude;
    private double longitude;
    private String placeName;
    static Bundle bundle;
    private LatLng point;
    View v;

    @Override
    public void onCreate(Bundle savedInstanceState) {    
        super.onCreate(savedInstanceState);
        bundle = getArguments();
        if(bundle != null) {
        this.latitude = getArguments().getDouble("latitude");
        this.longitude = getArguments().getDouble("longitude");
        this.placeName = getArguments().getString("placeName");
        this.point = new LatLng(latitude,longitude);
        }
    }

    @Override
    public View onCreateView(LayoutInflater inflator, ViewGroup container, Bundle savedInstanceState) {
        View v = super.onCreateView(inflator, container, savedInstanceState);
        mMap = getMap();

        CameraUpdate center= CameraUpdateFactory.newLatLng(point);
        CameraUpdate zoom=CameraUpdateFactory.zoomTo(17);
        mMap.addMarker(new MarkerOptions().position(point).title(placeName).icon(BitmapDescriptorFactory.fromResource(R.drawable.gps_small)));

        mMap.moveCamera(center);
        mMap.animateCamera(zoom);

        return v;     

    }

    public static POnlineMapViewFragment newInstance(Bundle b) {
        POnlineMapViewFragment mapfrag = new POnlineMapViewFragment();
        mapfrag.setArguments(b);
        return mapfrag;
    } 
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-28T07:18:28.380

要使用地图，您需要谷歌的地图 api 密钥，通过提供用于生成 apk 的密钥库证书的指纹（在开发环境中为 debuge.keystore）。一旦您获得特定证书的地图 api 密钥，您必须使用相同的证书 debuge.keystore) 来生成 apk 文件以在所有设备上成功运行应用程序，否则它将显示带有灰色正方形的空白地图。

*   如果您和您的朋友从不同的机器/PC 生成 apk，那么您必须使用相同的调试证书来生成 apk 文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-10T08:20:49.973

我遇到了同样的问题，解决方案是将我朋友的 debug.keystore 文件替换为我 PC 上的本地 debug.keystore 文件，因为密钥是使用我的 debug.keystore 文件生成的。