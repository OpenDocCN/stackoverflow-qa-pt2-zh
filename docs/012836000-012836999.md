# StackOverflow 问答 12836000-12836999

# mysql - 大表修复/索引和 myisam_sort_buffer_size

> ID：12836002
> 
> 赞同：8
> 
> 时间：2012-10-11T09:06:03.243
> 
> 标签：mysql

我有一个使用 MyISAM 引擎的 MySQL 表，其中包含 6 个 INT 列、1 个 SMALLINT、2 个 TINYINT 和 1 个 FLOAT 列。它有数十亿行（数据文件为 100GB）。我试图通过启用键来索引*所有*列，但这从未发生过。尝试“myisamchk -r *tableName* ”出现以下错误：

```
- recovering (with sort) MyISAM-table 'tableName'                               
Data records: 662929483                                                         
- Fixing index 1                                                                
myisamchk: error: myisam_sort_buffer_size is too small                          
MyISAM-table 'tableName' is not fixed because of errors                         
Try fixing it by using the --safe-recover (-o), the --force (-f) option or by not using the --quick (-q) flag 
```

使用“myisamchk -rov *tableName* ”反而需要永远（大概是因为它使用的是keycache方法，而不是sort方法）。

在这种情况下增加 myisam_sort_buffer_size 是否没有意义（[myisam_sort_buffer_size 与 sort_buffer_size](https://stackoverflow.com/questions/7871027/myisam-sort-buffer-size-vs-sort-buffer-size)的答案表明增加该值永远没有意义）。该机器具有 32GB 的 RAM。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-03-31T21:48:50.640

您只需要增加 myisamchk 的排序缓冲区大小。

```
 myisamchk -r -q TABLE.MYI --sort_buffer_size=2G 
```

在这里找到它：[https ://ma.ttias.be/mysql-myisamchk-error-myisam_sort_buffer_size-is-too-small/](https://ma.ttias.be/mysql-myisamchk-error-myisam_sort_buffer_size-is-too-small/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-21T17:43:15.013

如果您正在离线处理 100GB 数据。通过将数据拆分为单独的表来创建批处理表，每个表都有几百万个数据，并具有适当的索引和数据库引擎作为 innodb。

如果您在实时应用程序中在线使用这些数据，请参阅以下有关管理庞大数据量的链接。 [什么数据库适用于 200+GB 的数据？](https://stackoverflow.com/questions/2504833/what-database-works-well-with-200gb-of-data)

# html - 你可以设置背景图像CSS的背景颜色吗？

> ID：12836003
> 
> 赞同：1
> 
> 时间：2012-10-11T09:06:05.303
> 
> 标签：html, css

有点奇怪的请求，但我想知道是否可以设置应用于 div 的背景图像的背景颜色？我知道你可以设置背景颜色`<img />`。

我试过了：

`background: #FFFFFF url(image.png) no-repeat bottom center;`

这只会改变图像应用到的 div 的颜色。

非常感谢您的帮助

*编辑，添加图像以更好地解释问题：

![在此处输入图像描述](../Images/37c271de2fb8da5e5ad0226a927a68b0.png)

这个右手导航中的最后一个 pod 应用了背景图像/阴影，理想情况下，我希望给这个阴影一个背景颜色，以便它与页面的背景融为一体，而不是像包含 div 那样是白色的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:10:18.567

采用

`background: #FFFFFF url(image.png) no-repeat bottom center;`

它将用 image.png 填充元素（div，...）的背景，并用颜色 #FFFFFF 填充其余部分

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T15:40:57.737

如果这些都是单个图像（通常认为在图像中包含内容文本是不好的做法，顺便说一句），那么我建议使用图像编辑器使块之间的空间透明（不要忘记包括阴影，所以它们在正确的颜色上具有 alpha 透明度，而不是在白色上）。这将允许 HTML 元素的背景颜色显示出来。

也就是说，我个人会将这些块制作成常规文本和 HTML 块（因此唯一的图像是每个右侧的装饰图像），您可以轻松地将阴影添加到`box-shadow`.

除了阴影本身之外，该`box-shadow`属性本质上是透明的。这意味着它的“背景”将始终是它下面的东西（在简单的情况下，这将是包含元素的背景，尽管它也可以是文本或图像，如果元素`box-shadow`位于它的顶部）。

看看我的 jsFiddle 看看我在说什么（这是一个快速的，所以它看起来并不完全像你想要的效果，但这种效果是可能的一点点创造力）：[http://jsfiddle .net/DXrk6/1/](http://jsfiddle.net/DXrk6/1/)

# wpf - 将 WPF 画布的子级序列化/反序列化到 XAML 文件/从 XAML 文件序列化/反序列化

> ID：12836005
> 
> 赞同：2
> 
> 时间：2012-10-11T09:06:08.600
> 
> 标签：wpf, xaml, serialization, canvas

我有一个 DragCanvas 类，它继承自 Canvas 并提供拖放、调整大小和重新定位元素的功能。我希望能够将画布的内容保存/加载到 XAML 文件中。

导出方法如下所示：

```
public void ExportPanel()
    {
        string savedCanvasString = XamlWriter.Save(editCanvas);
        File.WriteAllText("Canvas.xaml", savedCanvasString);
    } 
```

代码似乎工作正常，因为我实际上得到了一个带有很长字符串的 Canvas.xaml 文件。

但是，导入方法在 XamlReader.Load 方法中引发异常。更具体地说：“向'System.Windows.ResourceDictionary'类型的字典添加值引发异常。”。导入方法中的代码部分基于[本文](http://msdn.microsoft.com/en-us/library/ms590398.aspx)。这是代码：

```
public void ImportPanel()
    {
        string savedCanvasString = File.ReadAllText("Canvas.xaml");
        StringReader stringReader = new StringReader(savedCanvasString);
        XmlReader xmlReader = XmlReader.Create(stringReader);
        DragCanvas savedCanvasChildren = (DragCanvas)XamlReader.Load(xmlReader); // The exception is being thrown here.

        // Assignment code should be here.
    } 
```

你对我做错了什么有任何想法吗？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T12:43:07.323

为了将来参考，我最终自己序列化了相关属性。[本文](http://www.codeproject.com/Articles/24681/WPF-Diagram-Designer-Part-4)的内容在理解如何解决问题的过程中非常有用。

# java - sessionID 是如何生成的？

> ID：12836006
> 
> 赞同：11
> 
> 时间：2012-10-11T09:06:08.533
> 
> 标签：java, jakarta-ee, tomcat, servlets

当使用 servlet api（如 JSF 或 JSP 页面）运行 Java Web 应用程序时，会生成一个“唯一”SessionID 来标识用户的会话。

我想知道这些 sessionID 是如何生成的。它们是否包括客户端的 IP？时间戳？随机数？

其次，我想知道这一代发生在哪里？这是否取决于运行应用程序的服务器？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T09:15:16.347

它是特定于容器的。Tomcat：http: [//tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Manager](http://tomcat.apache.org/tomcat-7.0-doc/security-howto.html#Manager)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T09:25:45.950

`java.security.MessageDigest`通常使用算法。

通常生成的 ID 只是一组随机数，直到所需的长度，但它会根据各种 servlet 容器中使用的算法而有所不同。

以Tomcat6为例，看看：

```
ManagerBase.sessionIdLength 
```

和

```
ManagerBase.createSession() //which calls generateSessionId() 
```

见[http://www.docjar.com/html/api/org/apache/catalina/session/ManagerBase.java.html](http://www.docjar.com/html/api/org/apache/catalina/session/ManagerBase.java.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-11T09:11:49.903

[http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId()](http://docs.oracle.com/cd/E17802_01/products/products/servlet/2.3/javadoc/javax/servlet/http/HttpSession.html#getId%28%29)

“标识符由 servlet 容器分配，并且取决于实现。”

每当创建新会话时都会生成 jsessionid。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-12-08T08:24:03.700

> 这是您问题的完整代码
> 
> 创建 login.jsp

```
 <%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
    <meta charset="US-ASCII">
    <title>Login Page</title>
    <h1>Please login to continue</h1>
</head>
<body>

<form action="LoginServlet" method="post">

    User Name: <input type="text" name="username">
    <br>
    Password: <input type="password" name="pwd">
    <br><br>
    <input type="submit" value="Login">
</form>
</body>
</html> 
```

> 创建 LoginServlet

```
package com.self.sessionid;

import java.io.IOException;
import java.io.PrintWriter;
import java.net.CookieStore;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

@WebServlet("/LoginServlet")
public class LoginServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private final String username = "admin";
    private final String password = "password";

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String username = request.getParameter("username");
        String password = request.getParameter("pwd");
        System.out.println("%%%%%");

        if(this.username.equals(username) && this.password.equals(password)) {
            HttpSession oldSession = request.getSession(false);
            if(oldSession != null) {
                oldSession.invalidate();
            }
            HttpSession newSession = request.getSession(true);
            newSession.setMaxInactiveInterval(1*60);
            Cookie message = new Cookie("message", "welcome");
            response.addCookie(message);

            String messag = null;
            String sessionID = null;
            Cookie[] cookies = request.getCookies();
            if(cookies != null){
                for(Cookie cookie : cookies){
                    if(cookie.getName().equals("message")) messag = cookie.getValue();
                    if(cookie.getName().equals("JSESSIONID")) sessionID = cookie.getValue();
            }
            }

            System.out.println("message : " + messag);
            System.out.println("Session Id : " + sessionID);

            /* response.sendRedirect("/loginSuccess.jsp"); */
            RequestDispatcher rd = getServletContext().getRequestDispatcher("/loginSuccess.jsp");
            rd.include(request, response);
        } else {
            RequestDispatcher rd = getServletContext().getRequestDispatcher("/login.jsp");
            PrintWriter out = response.getWriter();
            out.println("<font color=red>Either username or password is wrong.</font>");
            rd.include(request, response);
        }
    }
} 
```

> 在 WebComponent 中创建 loginSuccess.jsp 文件

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
<%-- <%
    String message = null;
    String sessionID = null;
    Cookie[] cookies = request.getCookies();
    if(cookies != null){
        for(Cookie cookie : cookies){
            if(cookie.getName().equals("message")) message = cookie.getValue();
            if(cookie.getName().equals("JSESSIONID")) sessionID = cookie.getValue();
        }
    }
%> --%>
    <h3>Login Success</h3>
    <%-- <h4><%=message%></h4>
    <h4>Session ID = <%=sessionID %></h4>
 --%>   <br><br>
    <h1>Welcome</h1>
    <form action="LogoutServlet" method="post">
        <input type="submit" value="Logout" >
    </form>
</body>
</html> 
```

> 创建 LogoutServlet

```
package com.self.sessionid;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

/**
 * Servlet implementation class LogoutServlet
 */
@WebServlet("/LogoutServlet")
public class LogoutServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        HttpSession session = request.getSession(false);
        if(session != null){
            session.invalidate();
        }
        response.sendRedirect(request.getContextPath() + "/login.jsp");
    }

} 
```

# java - 如何渲染不作为可见包含层次结构的一部分存在的组件

> ID：12836007
> 
> 赞同：1
> 
> 时间：2012-10-11T09:06:11.120
> 
> 标签：java, image, swing, awt

如何渲染包含子组件并且不作为可见包含层次结构的一部分存在的JPanel（即面板没有父级）？

方法`SwingUtilities.paintComponent()`只渲染没有子组件的面板。

以及如何通过此面板处理鼠标事件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:13:15.037

> 方法 SwingUtilities.paintComponent() 仅显示没有子组件的面板。

*   看看[paintChildren](http://docs.oracle.com/javase/tutorial/uiswing/painting/closer.html)，[paintComponents](http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#paintComponents%28java.awt.Graphics%29)，取决于代码，

*   [如果没有重要的理由和关于摇摆绘画的](http://docs.oracle.com/javase/tutorial/2d/index.html)`paintComponents()`良好知识，我不会使用

# c++ - 如何避免从文件中读取错误的 '\n'？

> ID：12836008
> 
> 赞同：0
> 
> 时间：2012-10-11T09:06:19.413
> 
> 标签：c++, file, function

**存储字节的不好方法：**
我在文件中存储了大约一些字节。字节由**任意位（1 或 0）**组成。
大约十个字节形成一个日志项。我在日志末尾**添加了一个 '\n' 。**
后来当我从文件中读取时（文件以文本格式存储和读取）。
我发现日志的一些两个字节**组成一个 '\n'(0x0d,0x0a)**。
但是我使用文件流的' **readLine()** '来读取文件的内容，这显然无法识别正确的行尾。
我得到的结果是一个质量，但是有没有更好的方法来存储字节（包含任意 1 或 0）并从文件中读取？
我在qt中使用c++，如果可能的话IDE下的解决方案应该会更好。

我的英语很差。感谢您的耐心阅读！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:15:28.713

我怀疑您使用的是 Windows，并且您正在以文本模式编写并以二进制模式阅读。

在 Windows 上，保存到文件系统的文本文件应该在行尾有 \r\n (0x0d,0x0a)。当有 \n 时，以文本模式写入会自动添加 \r。以文本模式阅读将删除 \r，因此您永远不会看到它。

如果您以相同的模式（文本或二进制）读取和写入，那么您将看到与写入相同的数据。在 linux 上，文本模式和二进制模式没有区别，但你应该选择正确的模式以保持代码的可移植性。

如果这是一个二进制文件（听起来你在写字节而不是字符串），那么你可能应该使用二进制模式来读写。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:15:29.857

您可以使用`special character`to 代替`'0'`then 存储到文件并`'\n'`在行尾添加。试试这个，它可能会有所帮助。

# web - Titanium Web 应用程序 OPTIONS 而不是 GET

> ID：12836010
> 
> 赞同：1
> 
> 时间：2012-10-11T09:06:25.850
> 
> 标签：web, titanium, options

我正在尝试为 Web 编译 Titanium 应用程序。当我尝试在浏览器控制台中通过 http 请求联系服务器时，我看到的是 OPTIONS 方法而不是 GET 方法：

```
var request = Ti.Network.createHTTPClient();
request.open('GET', url);

request.onload = function() {
    Ti.API.debug('CALLBACK OK');
};
request.onerror = function(e) {
    Ti.API.debug('CALLBACK ERROR' + e.error);   
};
request.send(args); 
```

请求到达服务器，但 e.error 说“无法到达主机”。在此请求结束之前，我尝试执行 OPTIONS 请求：http: [//www.w3.org/TR/cors/](http://www.w3.org/TR/cors/) 并在第一个响应中设置：

```
Access-Control-Allow-Origin: myserverurl
Access-Control-Max-Age: 2520
Access-Control-Allow-Methods: PUT, DELETE, GET, POST, XMODIFY 
```

但是我得到了相同的响应，并且执行的代码是 onerror 函数......

请帮助我，我正在浪费我们的...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T14:23:52.890

好的，这显然是一个 XSS 问题，解决方法是禁用浏览器安全性。例如在铬中：

```
# chromium --disable-web-security 
```

# symfony - Symfony Ajax 响应显示缓存头

> ID：12836015
> 
> 赞同：35
> 
> 时间：2012-10-11T09:06:37.367
> 
> 标签：symfony

在我的 ajax 响应中，Cache-Control Header 显示在标记中。

> HTTP/1.0 200 OK 缓存控制：无缓存 日期：2012 年 10 月 11 日星期四 09:00:59 GMT

我希望标题在标题中而不是在标记中。

这是我的控制器操作摘录：

```
...
$template = $this->render('list.html.twig', array(
                'data' => $data
                    ));
return new Response($template);
... 
```

为什么会这样，我怎样才能让它消失？

* * *

## 回答 #1

> 赞同：96
> 
> 时间：2012-10-15T14:52:22.110

该方法`render()`显示标题。

你可以使用方法`renderView()`。此方法不显示标题，只是生成 html。

希望它有帮助。:)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-01-22T02:35:17.900

你可以做

```
$template = $this->render('list.html.twig', array());
return new Response($template->getContent()); 
```

或者这样做

```
$template = $this->renderView('list.html.twig', array());
return new Response($template); 
```

二更合适。

# jquery - 如何在portal_normal.vm中放置noconflict

> ID：12836016
> 
> 赞同：0
> 
> 时间：2012-10-11T09:06:38.983
> 
> 标签：jquery, liferay-theme

如何将以下脚本放入 liferay 主题的 portal_normal.vm 中。

```
<script type="text/javascript"> 
    var $old = $.noConflict();
</script> 
```

我已经以与上面所示相同的方式编写了它。但它抛出了错误。我错过了什么吗？

```
09:03:38,440 ERROR [velocity:151] org.apache.velocity.exception.ParseErrorException: Encountered ")" at my-theme_SERVLET_CONTEXT_/templates/portal_normal.vm[line 24, column 33]
Was expecting one of:
    <EOF> 
    "(" ...
    <RPAREN> ...
    <ESCAPE_DIRECTIVE> ...
    <SET_DIRECTIVE> ...
    "##" ...
    "\\\\" ...
    "\\" ...
    <TEXT> ...
    "*#" ...
    "*#" ...
    <STRING_LITERAL> ...
    <IF_DIRECTIVE> ...
    <STOP_DIRECTIVE> ...
    <INTEGER_LITERAL> ...
    <FLOATING_POINT_LITERAL> ...
    <WORD> ...
    <BRACKETED_WORD> ...
    <IDENTIFIER> ...
    <DOT> ...
    "{" ...
    "}" ... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T10:53:26.670

您试图在 Liferay 主题中避免 jQuery 冲突。而不是使用 $.noConflict() 你可以使用

```
<script type="text/javascript"> 
    var old = jQuery.noConflict();
</script> 
```

# c# - 从 CaptureElement 和 MediaCapture 执行实时视频流处理

> ID：12836017
> 
> 赞同：1
> 
> 时间：2012-10-11T09:06:40.800
> 
> 标签：c#, video, windows-8, windows-runtime, video-processing

在我的 Windows 8 应用商店应用程序中，我倾向于执行实时视频流处理（例如人脸检测）。

* * *

## 技术1

在我之前的 Windows 7 应用程序中，我能够使用以下技术（[C# 中的相机人脸检测使用 Emgu CV（.NET 中的 OpenCV）和 WPF](http://www.codeproject.com/Articles/462527/Camera-Face-Detection-in-Csharp-Using-Emgu-CV-Open)）来执行实时视频处理。该技术**具有固定周期的计时器回调，以主动从相机对象查询图像缓冲区**。

```
void timer_Tick(object sender, EventArgs e)
{
    Image<Bgr,Byte> currentFrame = capture.QueryFrame();
    // Perform image processing based on currentFrame 
```

* * *

## 技巧2

我之前在[Android](http://developer.android.com/reference/android/hardware/Camera.PreviewCallback.html)中使用的另一种技术是，我将在相机本身上安装相机缓冲区预览回调。**相机将通过传递捕获的相机缓冲区定期触发回调**。从那里，我可以进行图像处理。

```
public abstract void onPreviewFrame (byte[] data, Camera camera)
{
    // Perform image processing based on data 
```

* * *

但是，在讨论**Windows 8 Store Application**的视频处理的文章中，他们大多使用内置的处理功能

*   [如何旋转捕获的视频（使用 C#/VB/C++ 和 XAML 的 Windows 应用商店应用程序）](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868174.aspx)
*   [如何为捕获的视频添加视频稳定效果（使用 C#/VB/C++ 和 XAML 的 Windows 应用商店应用程序）](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh868169.aspx)

**他们都没有演示如何访问原始相机捕获的缓冲区，逐个像素地迭代缓冲区。**

我相信我需要`CaptureElement & MediaCapture`根据

[http://blog.xyzzer.me/2012/01/22/displaying-webcam-preview-in-a-metro-app-using-winrt-and-xaml/](http://blog.xyzzer.me/2012/01/22/displaying-webcam-preview-in-a-metro-app-using-winrt-and-xaml/)

> 如果您只想查看网络摄像头输入或将其轻松捕获到文件中，此方法非常有用。如果您想实时处理视频或叠加一些其他 UI 组件 - 输入...</p>
> 
> CaptureElement 和 MediaCapture 方式

不过，作者在此之后不再详述。（我希望他这样做：）

任何提示如何从 CaptureElement 和 MediaCapture 执行实时视频流处理？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:02:58.287

您可以首先尝试的是 MediaCapture.CapturePhotoToStreamAsync，我认为这也只是该照片将被压缩的场景，但您可能会很快将其解码回 WriteableBitmap 并对其像素进行一些处理。不过，您可能不会每秒处理太多帧。

更好的方法可能是使用 MediaCapture.AddEffectAsync() 并用 C++ 编写一个媒体基础转换 (MFT) 来处理视频并以某种方式将结果传回应用程序。

# html - 位置：绝对不能使用 java 邮件 html 消息

> ID：12836018
> 
> 赞同：0
> 
> 时间：2012-10-11T09:06:48.647
> 
> 标签：html, jakarta-mail

我写了下面的代码

```
 MimeMultipart multipart = new MimeMultipart("related");

        // first part  (the html)
        BodyPart messageBodyPart = new MimeBodyPart();
        String htmlText = 
"<img src=\"cid:image\"\\>\n"+
  "<div style=\"position:absolute; left: 150px; top: 298px; width: 248px;\">hello</div>\n"+
  "<div style=\"position:absolute; left: 176px; top: 349px; width: 225px;\">hello</div>\n"+
    "<div style=\"position:absolute; left: 185px; top: 401px; width: 216px;\">hello</div>\n"+
    "<div style=\"position:absolute; left: 167px; top: 514px; width: 232px;\">hello</div>\n";
        messageBodyPart.setContent(htmlText, "text/html");

        // add it
        multipart.addBodyPart(messageBodyPart);

        // second part (the image)
        messageBodyPart = new MimeBodyPart();
        DataSource fds = new FileDataSource("D://a1.jpg");
        messageBodyPart.setDataHandler(new DataHandler(fds));
        messageBodyPart.setHeader("Content-ID","<image>");

        // add it
        multipart.addBodyPart(messageBodyPart);

    // put everything together
        msg.setContent(multipart);
        bus.sendMessage(msg, address); 
```

一切正常，电子邮件也正在发送，唯一的问题是`div`元素应该在图像上方..但是在收到的电子邮件中，位置：电子邮件的绝对部分被省略了..

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:12:39.253

不幸的是，您不能使用`position: absolute`，您最好在电子邮件中使用表格，它看起来会更好，此外，尝试创建一个`<table />`with`background-image`作为您的并用表格单元`cid:image`格布局您的 s`div`

# jquery - Jquery 的对话框奇怪行为仅是第一次

> ID：12836019
> 
> 赞同：1
> 
> 时间：2012-10-11T09:06:51.247
> 
> 标签：jquery, jquery-ui

我在我的应用程序中使用 jQuery 对话框。我正在使用下面的函数来初始化它。

```
$searchApplianceDialog = $('#divSearchAppliance')
                            .load('job/searchAppliance.jsp', function() {
                            })
                            .dialog(
                                    {
                                        autoOpen : false,
                                        resizable : false,
                                        draggable : false,
                                        modal : true,
                                        title : ' Search Appliance',
                                        width : 850,
                                        open : function() {
                                            $('#searchApplianceApplianceNumber').focus();

                                            resetApplianceSearch("#applianceList",'Link.do?method=searchJobOrderAppliance&showBlank=true','#frmApplianceSearch');

                                                                                    },
                                        beforeClose : function() {
                                        },
                                        close : function() {
                                            $('#searchApplianceButton').focus();
                                        }
                                    }); // ends search appliance 
```

当我第一次打开它时

```
$searchApplianceDialog.dialog('open'); 
```

它是打开的，但它会产生一个仅第一次定位自身的问题。它参考页面宽度将自己正确定位在页面的中心，但参考页面高度，它在 y 轴上定位为 -20，这只是第一次，在每次正确定位之后。

**解决方案是什么？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:11:18.013

试着把它放在后面

```
$(document).ready(function(){ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T07:29:36.140

没有太多时间来测试您的代码，但是因为我使用它的经验如此之多。可能找到了这样的东西。当对话框中没有数据然后ajax从服务器获取数据并将其设置到对话框时，它会改变对话框的大小，我遇到了这种问题。所以你应该将 open() 添加到加载成功函数中。另一件事是您没有向 close 函数添加任何代码，因此它实际上并没有被删除。

# java - 通过 ReentrantReadWriteLock 中断等待读取线程

> ID：12836022
> 
> 赞同：1
> 
> 时间：2012-10-11T09:07:00.033
> 
> 标签：java, concurrency, resources

我有一个资源清单。读取器进程可以同时访问其中的每一个，但有时会出现写入进程并更改对象，这要求在更新时没有读取进程在资源上运行。Java[`ReentrantReadWriteLock`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html)似乎可以正确处理这种情况，因此我将其中一个分配给每个资源，以最大限度地提高应用程序的吞吐量。但是，我面临删除条目的问题。某些写入进程可能会从此列表中删除可访问资源。

想象以下场景：

*   删除进程获取被删除资源的锁
*   同时读取器进程到达`readLock().lock()`语句并开始在队列中等待写锁被释放
*   删除进程从列表中删除资源并调用资源关闭以完成
*   删除进程释放资源的写锁
*   恢复第一个等待读取进程并开始使用现在不一致的资源对象

我该如何正确处理这种情况？如果我可以调用`interrupt()`等待的读取线程会很好，但是作为[`getQueuedReaderThreads`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html#getQueuedReaderThreads%28%29)状态的 API 描述它不可靠，因为新线程可以在构建列表时获取读取锁，所以我不能确定我会取消所有线程.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:19:30.947

我认为将“已删除”标志与每个资源相关联会容易得多。

当阅读器获得锁时，它应该检查该标志并正确处理资源被删除的情况。由于 writer 删除资源后立即释放锁，每个 reader 发现资源被删除后应立即释放锁，因此此处不应长时间阻塞，因此您不需要中断线程。

您可以将此行为隐藏在您自己的 API 后面（例如，您可以`ResourceDeletedException`在 reader 获取已删除资源的锁时抛出类似的东西）。

# visual-studio-2010 - Visual Studio 在解决方案中构建非依赖项目

> ID：12836023
> 
> 赞同：1
> 
> 时间：2012-10-11T09:07:02.733
> 
> 标签：visual-studio-2010, msbuild

我有用于 MSBuild 的 C++ 和 C# 项目。

依赖`<ProjectReference>`项在项目文件中使用标记指定。

当我使用 MSBuild 从命令行构建特定项目时，一切正常。

但是当我在 Visual Studio 2010 中构建特定的项目 A 时，会重建一些项目 A 不依赖的项目。

什么会导致这种行为以及如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:18:34.503

可能是 Project-A 的依赖项之一依赖于项目。Visual Studio 将构建所有依赖项。例如

项目 A 依赖于项目-B & 项目-C 项目-C 依赖于项目-X

Visual Studio 将构建 Project-X、Project-C、Project-B 和 Project-A。

dependency walker 是一个很好的工具，可以找出依赖图和完整列表。

# matlab - MATLAB：漂亮的函数和写入文件

> ID：12836024
> 
> 赞同：0
> 
> 时间：2012-10-11T09:07:06.650
> 
> 标签：matlab

> **可能重复：**
> [如何将 MATLAB 命令窗口的内容保存到文件中？](https://stackoverflow.com/questions/5833356/how-to-save-contents-of-matlabs-command-windows-to-in-a-file)

使用函数`pretty(x)`我在命令窗口中得到我想要的。我需要在文本文件中得到相同的结果。这该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T18:28:19.830

我认为最好的方法是使用 clc disp() 和 char() 命令：

```
clc % clear the command window
syms x y;
expression = x*y; % make your calculations
expression2 = x+y;% make your calculations
                  % make your calculations
disp(char(expression)) % char() converts symbolic expression to string
disp(char(expression2))% and disp() shows the string in the command window 
```

`ctrl`您可以使用普通的 Windows 命令+ `a`（全选）、`ctrl`+ `c`（复制）和`ctrl`+ `v`（粘贴）快速复制命令窗口中的所有内容。

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-12T03:18:24.587

您可以使用命令 evalc 将所有将转到控制台的输出重定向到字符串变量（稍后您可以将其保存到文件中）。

例如：

```
>> a = sym('a'); b = sym('b');
>> str = evalc('pretty(a+b)');
>> str 

str =

  a + b 
```

# spring-ws - 是否可以在不提供 Spring 上下文的情况下使用 Spring Webservice Client？

> ID：12836025
> 
> 赞同：0
> 
> 时间：2012-10-11T09:07:06.917
> 
> 标签：spring-ws

我需要提供一个可移植的自给自足的 java 库来用作 web 服务客户端。是否可以使用 Spring（在我的情况下为 WS 核心 2.1.0）类而不事先构建 spring 上下文？

例子：

```
WebServiceTemplate wst = new WebServiceTemplate(); // default SAAJ
wst.sendSourceAndReceiveToResult(myUri,mySource,myResult); 
```

如果没有，手动设置 Web 服务模板需要什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:15:50.040

你可以创建一个这样的就好了。只要记住初始化它：

```
WebServiceTemplate wst = new WebServiceTemplate(); // default SAAJ
wst.afterPropertiesSet();
wst.sendSourceAndReceiveToResult(myUri,mySource,myResult); 
```

# java - 何时清理 ReferenceQueue？被系统清理？

> ID：12836026
> 
> 赞同：1
> 
> 时间：2012-10-11T09:07:08.983
> 
> 标签：java, reference, queue

```
ReferenceQueue<Integer> queueObj = new ReferenceQueue<Integer>();
WeakReference<Integer> referenceObj = new WeakReference<Integer>(new Integer(1), queueObj); 
```

我在上面这样理解，

*   首先，为**new Integer(1)**对象创建 WeakReference **referenceObj**对象。
***   其次，系统将**referenceObj**对象移动到**queueObj** 对象中。现在**queueObj**有**referenceObj**元素。*   三、系统GC**新的Integer(1)**对象，并清除**queueObj**对象。现在**queueObj**是空的。**

 **对吗？

编辑：

*   首先，为**new Integer(1)**对象创建 WeakReference **referenceObj**对象。
***   其次，系统将**referenceObj**对象移动到**queueObj** 对象中。现在**queueObj**具有**referenceObj**元素，**新的 Integer(1)**对象已被系统收集。*   第三，一些程序检测**queueObj** 是否为空。如果没有，您知道收集了一些引用对象，您可以迭代**queueObj**来处理**referenceObj**。**

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:37:22.967

第一和第二，正确。第三，不正确。由您来处理 ReferenceQueue、删除条目、根据条目对您的应用程序意味着什么等。例如，WeakHashMap 在后台处理 ReferenceQueue 以了解何时从地图中删除项目。****

# android - RotateAnimation后的Android setOnClickListener

> ID：12836027
> 
> 赞同：1
> 
> 时间：2012-10-11T09:07:16.287
> 
> 标签：android, onclicklistener, rotateanimation

在 2.2 SDK 中，我正在旋转一个 TextView 并附加了一个 onClickListener 以在控制台中显示一个虚拟文本，但不会触发 onClick 方法。我的代码有问题，还是有解决方法？

```
public void setTextViewRotation(int angle, TextView tv) {
    RotateAnimation rayAnim = new RotateAnimation(0, angle - 90, -100, 22);
    rayAnim.setFillAfter(true);
    rayAnim.setDuration(1);
    rayAnim.setAnimationListener(this);
    tv.setAnimation(rayAnim);
}
... textView declaration...setTextViewRotation(angle, textView);
... textView.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                Log.i("Main","select ray");
            }
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:29:13.730

当您将动画应用于任何组件时，就会发生这种情况。

在您的情况下，您可能正在单击 textview 的新位置。

它表明您已经移动了该组件。

但实际上那个**组件保留了它原来的位置**。

它不会从他原来的位置移动。

你可以说它的android限制。

但现在它在**API 级别 3.0中解决了**

你可以试试**3.0或更高版本。** 更多阅读[这个](http://developer.android.com/about/versions/android-3.0.html)

# windows - JRE/Windows 版本兼容性

> ID：12836028
> 
> 赞同：2
> 
> 时间：2012-10-11T09:07:22.777
> 
> 标签：windows, compatibility, java

我正在为 Windows 的 Java 应用程序创建安装程序。客户希望将 JRE 与安装捆绑在一起（我知道这有点不受欢迎，但这不取决于我）。如果我捆绑了 JRE7 32 位 Windows 版本，它是否适用于所有 Windows 版本（XP-8，32 位和 64 位）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:39:42.943

根据[Oracle 文档](http://docs.oracle.com/javase/7/docs/webnotes/install/windows/windows-system-requirements.html)，支持 JRE 7 32 位

**微软视窗 32 位**

*   Windows 7的
*   视窗
*   视窗服务器 2008
*   视窗

**Microsoft Windows x64，32 位模式**

*   Windows 7的
*   视窗
*   视窗服务器 2008
*   视窗

**Microsoft Windows x64，64 位模式**

*   Windows 7的
*   视窗服务器 2008
*   视窗服务器 2008 R2
*   视窗
*   视窗

Windows 8 没有出现在 Oracle 官方网站上的认证操作系统列表中。我的猜测是 Windows 8 是向后兼容的，JRE7 32 位也可以在那里运行。

# unit-testing - node.js 中 require() 的成本是多少？

> ID：12836030
> 
> 赞同：4
> 
> 时间：2012-10-11T09:07:26.443
> 
> 标签：unit-testing, node.js, requirejs, require, mocha.js

我有一个测试套件`mocha.js`，我使用它运行以确保一切正常。对于我需要的每个模块，我注意到测试时间增加了大约 100 毫秒。那是在具有 8GB 内存的强大四核机器上。

调用的实际成本是`require`多少？它会影响应用程序性能还是仅影响测试性能？

节点的版本`0.8.11`是否相关。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T10:07:34.563

Require 非常昂贵，因为它不会在任何静态分析期间执行。它需要做几件事，它**同步**地做，在未定义的时间段内阻塞你的程序：

*   它需要找到您需要的模块，这可能会导致大量文件操作 - 包括路径搜索、统计、打开。
*   它需要读取 javascript 文件，解析它，编译它的一部分，并且在执行期间**需要**它遇到的任何依赖项 - 所以还是第一点。

您不应该`require`在任何非顶级代码中使用，在测试之前要求一切，除非您准备为增加执行时间付出代价。

在非常旧的 Node.JS 中曾经有一个异步版本`require`，不幸的是它似乎不再存在了。

# iphone - SQLite3 中的 REPLACE INTO 语句显示了替换的行，但实际上不是

> ID：12836034
> 
> 赞同：0
> 
> 时间：2012-10-11T09:07:46.173
> 
> 标签：iphone, ios, sqlite, replace

只想问一个关于 SQLite3 的 REPLACE INTO 用法的基本问题。我所有其他数据库代码都在工作，但 REPLACE INTO 语句似乎工作，但不存在。我期望 REPLACE INTO 来替换指定行 ID 中的数据，id 保存在变量 dbRow 中。

```
insertSQL = [NSString stringWithFormat: @"REPLACE INTO script ( id, nrec, url ) VALUES ( \"%d\", \"%d\", \"%@\" )", dbRow, recN, fileLoc ];
insert_stmt = [insertSQL UTF8String];
if( sqlite3_exec(scriptDB, [insertSQL UTF8String], NULL, NULL, &errorSQL ) == SQLITE_OK) {
   NSLog( @"dB updated at row=%d with nrec=%d and URL=%@.", dbRow, recN, fileLoc );
} else {
   NSLog(@"Line Not replaced.  Error: %s", errorSQL );
} 
```

以上工作： OK 条件准确地显示了我想看到的内容。没有错误。后来，当我需要使用这些数据时，它并没有取代原来的。所以，只是为了测试，我马上用同样的方法做一个 SELECT：

```
querySQL = [NSString stringWithFormat: @"SELECT id, nrec, url FROM script WHERE title=\"%@\" AND nline=\"%d\"", myTitle, myLineN ];
query_stmt = [querySQL UTF8String];
if( sqlite3_prepare_v2(scriptDB, query_stmt, -1, &statement, NULL) == SQLITE_OK) {
   NSLog(@"Just Replaced Query prepared");
   while( sqlite3_step(statement) == SQLITE_ROW ) {
      myID = sqlite3_column_int(statement, 0);
      myNRec = sqlite3_column_int(statement, 1);
      myURL = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 4)];
   }
   sqlite3_finalize(statement);
   NSLog( @"Line %d of %@ has: recN=%d in row=%d at url: %@", myLineN, myTitle, myNRec, myID, myURL );
} else {
   NSLog( @"Error: %s", errMsg );
} 
```

我希望看到与我替换数据库相同的东西。我不。我看到的是原始数据，在 REPLACE 之前。为什么它说它在那里而不是它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T23:50:42.560

After trying a lot of seemingly unrelated things, and almost giving up on using SQLite3, I finally decided to put ALL of the table values into the REPLACE INTO line:

```
replaceSQL = [NSString stringWithFormat: @"REPLACE INTO script ( id, title, nline, nrec, role, speak, url ) VALUES (\"%d\", \"%@\", \"%d\", \"%d\", \"%@\", \"%@\", \"%@\")", myID, myTitle, myLineN, recN, myRole, mySpeak, fileLoc ]; 
```

Now it's working fine, as designed.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:13:36.783

您似乎正在尝试更新位于您的应用程序包中的数据库文件。这是不可能的，因为您无法写入应用程序包中的文件（出于明显的安全原因）。在更改数据库之前，您必须将数据库复制到可写位置，例如复制到 Documents 或 Library 目录中。

（好奇为什么 sqlite3 库仍然报告成功？好吧，因为 iOS 中的内核和沙盒服务很棘手。sqlite3 被告知内核已成功写入有问题的文件，但是根据文件/目录的沙盒配置文件。）

# android - 如何在布局中将图像拉伸到行高？

> ID：12836036
> 
> 赞同：0
> 
> 时间：2012-10-11T09:07:48.623
> 
> 标签：android, android-layout

一行中有文本视图和图像。我需要按比例拉伸图像，使其与文本视图的高度相同。怎么做？

那是布局：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/RelativeLayout1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:orientation="horizontal" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_centerVertical="true"
    android:layout_toLeftOf="@+id/imageView1"
    android:text="Medium Text"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_centerVertical="true"
    android:adjustViewBounds="true"
    android:cropToPadding="true"
    android:src="@drawable/ic_launcher" />
</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T12:35:41.147

在你的 ImageView

试试这个代码

> android:layout_alignBottom="@+id/textView1"

代替

> android:layout_centerVertical="true"

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:56:09.603

只需使用`layout_alignTop`并`layout_alignBottom`从**顶部**和**底部**对齐您的视图以具有相同的**高度**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:10:13.150

尝试使用`android:layout_weight`. 重量只能用于`LinearLayout`

# database - 将记录插入到表中，其中包含使用 SERIAL 函数声明的列

> ID：12836043
> 
> 赞同：54
> 
> 时间：2012-10-11T09:08:19.583
> 
> 标签：database, postgresql

我的数据库正在使用 PostgreSQL。一张表正在使用`serial`自动增量宏。如果我想在表中插入一条记录，我是否还需要指定该值，或者它会自动为我分配？

```
CREATE TABLE dataset
(
    id serial NOT NULL,
    age integer NOT NULL,
    name character varying(32) NOT NULL,
    description text NOT NULL DEFAULT ''::text
    CONSTRAINT dataset_pkey PRIMARY KEY (id)
); 
```

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2012-10-11T09:30:45.353

使用`DEFAULT`关键字或从`INSERT`列表中省略列：

```
INSERT INTO dataset (id, age, name, description)
VALUES (DEFAULT, 42, 'fred', 'desc');

INSERT INTO dataset (age, name, description)
VALUES (42, 'fred', 'desc'); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-11T09:34:50.423

如果您创建一个带有序列列的表，那么如果您在向表中插入数据时省略序列列，PostgreSQL 将自动使用序列并保持顺序。

例子：

```
skytf=> create table test_2 (id serial,name varchar(32));
NOTICE:  CREATE TABLE will create implicit sequence "test_2_id_seq" for serial column "test_2.id"
CREATE TABLE

skytf=> insert into test_2 (name) values ('a');
INSERT 0 1
skytf=> insert into test_2 (name) values ('b');
INSERT 0 1
skytf=> insert into test_2 (name) values ('c');
INSERT 0 1

skytf=> select * From test_2;
 id | name 
----+------
  1 | a
  2 | b
  3 | c
(3 rows) 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-09-26T13:34:56.303

这些查询对我有用：

```
insert into <table_name> (all columns without id serial)
select (all columns without id serial)
 FROM <source> Where <anything>; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-05-13T16:51:36.170

在这种情况下，插入多行对我不起作用：

```
create table test (
  id bigint primary key default gen_id(),
  msg text not null
)

insert into test (msg)
select gs
from generate_series(1,10) gs; 
```

因为我错误地将我的 gen_id 函数标记为 IMMUTABLE。

插入查询被优化为只调用该函数一次而不是 10 次。哎呀...

# php - $_GET 的替代品

> ID：12836044
> 
> 赞同：3
> 
> 时间：2012-10-11T09:08:26.667
> 
> 标签：php, javascript, get

我有一个画廊，应该显示不同的图片专辑。
当我打开带有链接的画廊时，我使用 PHP 添加专辑名称：
`<a href="gallery/index.php?album=nature`
然后我使用`$_GET['album']`. 它工作正常。
但对我来说，干净的 URL 很重要。当我完成网站并将其上传到托管商时，我会使用 .htaccess 文件更改 URL“布局”。
因此 URL`http://www.example.com/gallery/index.php?album=blacknwhite`更改为`http://www.example.com/gallery/`.
现在我认为新的 URL`$_GET`不再起作用了。有没有 $_GET 的替代方法来交出专辑名称？
这里又是代码示例：

**带有链接的站点：**

```
<a href="gallery/index.php?album=nature">D</a> 
```

**index.php PHP 部分：**

```
<head>
<?PHP
   $album = $_GET['album'];
?>
</head> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:13:11.463

您的规则应类似于：

```
RewriteRule ^/([a-z]+)/?$ get_product_by_name.php?product_name=$1 [L] 
```

它根本不应该影响 $_GET ，所以如果它不起作用，那是因为您的规则设置不正确。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T09:14:18.173

我建议您在您的 URL 中保留相关信息，并且在这种情况下专辑标题似乎相关，因为我假设页面集中在它周围？

让你的 URL 像这样工作：

```
http://www.example.com/gallery/<album-title>/ 
```

由于您似乎已经知道如何使用 htaccess，因此如果您获得这种格式，请将 URL 重写为“丑陋”的 URL。你的网址会看起来好多了。

```
http://www.example.com/gallery/blacknwhite/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:10:58.470

您需要查看一个名为[htaccess](http://net.tutsplus.com/tutorials/other/the-ultimate-guide-to-htaccess-files/)的东西，因为您需要使用`RewriteRule`它来使它变得漂亮，但仍然`$_GET['album']`可以在您的 PHP 中使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:19:12.770

是的，还有另一种方法，但不推荐。看看[http://php.net/manual/en/reserved.variables.server.php](http://php.net/manual/en/reserved.variables.server.php) 你可以使用**$_SERVER**。但正确的方法是使用这里很好解释的 RewriteRule： [http ://www.webdeveloper.com/forum/showthread.php?214564-RewriteRule-with-GET-data](http://www.webdeveloper.com/forum/showthread.php?214564-RewriteRule-with-GET-data)

# java - 用于 Java 的 SIP 堆栈

> ID：12836047
> 
> 赞同：3
> 
> 时间：2012-10-11T09:08:42.977
> 
> 标签：java, sip

> **可能重复：**
> [目前流行的 Java SIP 库是什么？](https://stackoverflow.com/questions/498043/what-is-the-currently-popular-java-sip-library)

我知道这个问题已经被回答过好几次了，但是所有的答案都有点老了。

那么有人有关于这个问题的任何消息吗？

# java - 是在java中捕获一个方法吗？

> ID：12836050
> 
> 赞同：5
> 
> 时间：2012-10-11T09:08:51.867
> 
> 标签：java, exception-handling, try-catch-finally

我已经搜索了一些答案，但找不到，因此我将其作为一个新问题提出。try-catch 中的 catch 方法。它是一种方法吗？, 它以 Exception 类型的对象作为参数。但如果它是一种方法，

1.  谁调用了这个方法，这个方法被哪个对象调用了？

2.  你不能在另一个方法定义中正常写一个方法定义。所以如果它是一个方法，我怎么能在另一个方法中写catch？

3.  如果它不是一种方法，那它是什么？

    ```
     public void foo() {

         try { ; 

         } catch (Exception ex) {

              ; // this is catch method body 
          }

    } 
    ```

上面的代码意味着 catch 方法体在另一个方法 foo() 的体内。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T09:09:40.560

不，它是一个特殊的 Java 结构，表示如果`Exception`捕获到一个要运行的代码块，它不是一个方法。该代码块确实接受了一个参数（各种），这是要捕获然后处理的异常 - 但这并不能使其成为一种方法。

正如评论中所指出的，它类似于 if 语句（您可以将其视为采用布尔表达式的“参数”，但同样这也不是一种方法。）

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T09:10:43.880

它是一种类似于 if 或 while 或 for 的语言结构

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T09:28:28.663

> 谁调用了这个方法，这个方法被哪个对象调用了？

如果抛出指定的异常或派生的异常，JVM就会*执行它。*没有呼唤。

> 您通常不能在另一个方法定义中编写方法定义。

除了编写一个匿名课程之外，您根本无法做到这一点，但那是另一回事了。

> 所以如果它是一种方法

它不是。

> 我怎么能在另一个方法中写下 catch ？

因为它不是一种方法。

> 如果它不是一种方法，那它是什么？

它是一种语言结构，就像 try、do、while、for、switch、case、class、interface 等一样。

> 上面的代码意味着 catch 方法体在另一个方法 foo() 的体内。

不，它没有，因为它不是一种方法。

当然，所有这些自相矛盾都表明它不是一种方法？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T09:29:48.723

它是一个类似于 的块`if`，`while`它只接受一个称为 as 的参数`exception parameter`。

来自 [JLS #14.20。尝试语句](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20)

> 一条`try`语句执行一个块。如果抛出一个值并且`try`语句有一个或多个`catch`可以捕获它的子句，则控制将转移到第一个这样的`catch`子句。如果 try 语句有`finally`子句，则执行另一个代码块，无论该`try`块是正常完成还是突然完成，也不管`catch`子句是否首先被赋予控制权。
> 
> `catch`子句只有一个参数，称为`exception parameter`.

```
CatchClause:
   catch ( CatchFormalParameter ) Block 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T09:22:46.867

捕捉不是一种方法。try-catch 块类似于 do-while 块。

```
do{
   statements;
} while (condition); 
```

每个 catch 块都是一个异常处理程序，并处理由其参数指示的异常类型。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-02-19T13:38:44.010

事实上，try-cath 不是一种方法。它是一个类似于 if-else 的构造。**但它应该是一种方法。**

对我来说，这是语言的缺陷。一个**方法应该只做一个动作**。假设您有一个名为“buyBread()”的方法，它应该只执行购买面包的操作。如果出现任何问题，那么处理该异常不再是购买面包的一部分。所以它应该是另一种方法。（就像叫救护车不是驾驶汽车的一部分，当驾驶汽车以非常可怕的方式失败时，它是您所做的一部分）。所以你在“try”中所做的永远不应该与在“catch”中做的方法相同，但在java中你不能这样做。

我希望java是这样的：

```
buyEverythingInShoppingList(...){
...
    try {
        buyBread()
    } catch(this::solveBuyBreadFailure)
...
}

private void solveBuyBreadFailure(Exception e){
    if (e.cause.equals(NO_MONEY){
        begForBread()
    } else {
        giveUpAndCry()
    }
} 
```

# ios - 如何完全准备一个视图而不在IOS屏幕上显示它？

> ID：12836053
> 
> 赞同：0
> 
> 时间：2012-10-11T09:09:07.320
> 
> 标签：ios, xcode, view

我想使用 iCarousel（一个提供封面流滚动样式的库）我用 XIB 创建了一个视图。在那个视图上，我有 UIImageView 并且我有一个用于该视图的控制器，其中设置了所有 IB 东西（FileOwner 的“视图”设置为我的视图，并且有一个 UIImageview 的出口）

我以编程方式创建控制器

```
SBTViewController* iv1 = [[SBTViewController alloc] initWithNibName:@"SBTViewController_iPhone" bundle:nil];
SBTViewController* iv2 = [[SBTViewController alloc] initWithNibName:@"SBTViewController_iPhone" bundle:nil]; 
```

接着

```
UIImage* im1 = [UIImage imageNamed:@"1.png"];
iv1.imView.image = im1;

UIImage* im2 = [UIImage imageNamed:@"2.png"];
iv2.imView.image = im2; 
```

请注意，我现在没有添加要显示的 iv1 控制器的视图或成为任何层次结构的一部分。相反，我正在存储指针，一段时间后（当轮播移动时）我只是将 iv1.view 提供给轮播以显示它。

我可以看到视图，但看不到图像...

搜索后，我在 stackoverflow 上发现了一个问题，其中解释说在将图像添加到视图层次结构之前将图像设置为图像视图实际上不起作用，这意味着我只能在 ViewDidLoad 之后以编程方式设置图像。但在我的情况下，我想用不同的值初始化每个实例，所以在 ViewDidLoad 中添加代码不够健壮......

编辑：我刚刚发现只需像这样访问控制器的视图参数

```
iv1.view.tag 
```

将导致视图被加载

那么我该怎么做呢？把它藏在别人下面？丑陋的

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:27:01.227

您的问题是，当您创建 UIImage 时，您的 UIImageView 尚未创建。所以有两个解决方案：你在 viewDidLoad 之后创建你的 UIImage。但是，如果您不希望这样，您可以从您的 XIB 中删除您的 UIImageViews 并在您的类的 init 方法中自己创建它们，然后将它们添加到 viewDidLoad 中的视图层次结构中。

# javascript - 无法使用 getElementsByTagName 获取数据

> ID：12836058
> 
> 赞同：-1
> 
> 时间：2012-10-11T09:09:20.750
> 
> 标签：javascript, dom, mfc, xml-parsing, google-maps-api-2

感谢您阅读我的问题。我使用 Google Map API 来解析 XML。XML 数据由 MFC 生成，然后我将其发送到 HTML，`<input type="hidden" name="XMLData" id="XMLfromMFC" value="" />.`

然后我使用 JavaScript 解析这个 XML 字符串并做一些工作，但是当我单击一个将解析 XML 字符串的按钮时，发生错误“无法从 getElementsByTagName 获取数据：它为空或未定义。

但是 JS 代码是[Google Map API 的示例代码](https://developers.google.com/maps/documentation/javascript/v2/services?hl=en)，所以我不知道如何解决这个问题。请帮我！

附加信息：我在 MFC 中使用 WebBrowser 加载所有代码的 HTML 页面。GXml 是 Google Map API 的命名空间，它具有该方法。我猜如果 MFC WebBrowser 不支持 getElementsByTagName() 方法？如果是这样，如何解决？

```
function loadXMLData()
{
    var strXML = document.getElementById('XMLfromMFC');
    var xmlDoc = GXml.parse(strXML);

    var polylines = xmlDoc.documentElement.getElementsByTagName("road");

    for (var i = 0; i < polylines.length; i++) {
         addPolylines(polylines[i]);
      }
}

function addPolylines(node)
{
   var points = node.getElementsByTagName("point");
   var pts = [];

   for (var i = 0; i < points.length; i++)
   {
   pts[i] = new      GLatLng(parseFloat(points[i].getAttribute("lat")),parseFloat(points[i].getAttribute("lon")));
   }
           for (var i = 0; i < points.length; i++) {
               pts[i] = new GLatLng(parseFloat(points[i].getAttribute("lat")), parseFloat(points[i].getAttribute("lon")));
           }   

           var polyline = new GPolyline(pts);
           map.addOverlay(polyline);
           return polyline;
       } 
```

XML 数据如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<AllRoadsData>
<road>
<id>1</id>
<roadName>first</roadName>
<roadWidth>2</roadWidth>
<pointsNum>9</pointsNum>
<maxSpeed>80</maxSpeed>
<point lon="42.361081" lat="-71.070213"/>
<point lon="42.361128" lat="-71.068625"/>
<point lon="42.361192" lat="-71.066844"/>
</road>
<road>
<id>2</id>
<roadName>second</roadName>
<roadWidth>4</roadWidth>
<pointsNum>5</pointsNum>
<maxSpeed>30</maxSpeed>
<point lon="42.357291" lat="-71.065063"/>
<point lon="42.358290" lat="-71.065085"/>
</road>
</AllRoadsData> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:24:55.650

您正在使用已弃用的 Google Maps API v2，不建议将其用于新开发，并且最早可能会在 2013 年 5 月停止工作。您应该迁移到 v3 API（不包含任何此功能）。

您应该查看您的 javascript 错误，我怀疑 xmlDoc.documentElement 为空。

# java - 图像的图像路径不适用于 jar

> ID：12836059
> 
> 赞同：1
> 
> 时间：2012-10-11T09:09:21.907
> 
> 标签：java, jar

我为我的 java 应用程序创建了一个 jar。该程序从命令行接受用户的 4 个输入。下面是调用我的应用程序的语法：

```
java -jar myJar.jar input1 input2 input3 input4 
```

现在 input1 是图像的路径，而 input2 是目录的路径。当我运行 jar 时，它说找不到图像。但是当我使用输入从 eclipse 运行它时，它运行良好。有什么我应该注意的吗？我在我的主要编写以下代码：

```
public static void main(String[] args){
        File file1 = new File(args[0]);
        File file2 = new File(args[1]);

        if (!file1.exists() || !file2.exists() || !args[2].equals("abc")){
            System.out.println("Error in input, please check");
        }

        else if(checkInput(args[3])==false){

                System.out.println("Error");

        }

        else if(checkInput(args[3])==true){
          //do something}
} 
```

谢谢。

编辑：图像和目录不在 jar 中。它们在文件系统上。路径是图像和目录的绝对路径。

# c# - 关于如何组织后台队列操作的文章

> ID：12836060
> 
> 赞同：2
> 
> 时间：2012-10-11T09:09:21.607
> 
> 标签：c#, asp.net, .net, wcf, msmq

现在我正在考虑如何组织系统的架构。该系统将由网站组成，用户可以在其中上传一些文档，然后将其处理回来，以及一些后台守护程序，其中包含应处理提供的文档的任务队列。

我的问题是：我是否应该将上面告诉你的守护进程实现为仅具有命名管道的 WCF 服务（不需要网络访问该服务）？

对此有任何建议/提示/建议吗？

用户可以提供的数据只是一堆 XML 文件。ASP.NET 网站将公开获取此 XML 文件的功能，然后应该能够以某种方式将它们传递给守护进程。

您能否指出我有关该主题的一些文章。提前致谢！

* * *

## 后编辑

几个小时后，人们在这里发现了 MSMQ，我认为该技术更多的是用于分布式体系结构（处理节点位于不同的机器上，并且通过网络在不同的计算机之间交换消息）。

目前不需要分离到独立的机器。将只有在作为 ASP.NET 网站和一些处理程序的机器上。

使用MSMQ有必要吗？

* * *

## 编辑后 #2

当我在这里使用 .NET Framework 时，请建议只提供与 .NET 兼容的内容。这里真的没有任何选择。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-17T21:46:52.797

我设计了类似的东西。我们使用 WCF 服务作为连接点，然后使用 RabbitMQ 对消息进行排队。然后，一个单独的服务处理队列中的项目，当任务完成时发送异步回调，从而完成 WCF 调用（WCF 有许多内置功能来处理这个问题）

您可以在每一侧设置超时，或者您甚至可以选择断开 WCF 连接并使用异步回调来通知用户“处理已完成”我在 RabbitMQ 上的运气比 MSMQ 好得多，仅供参考。

我没有任何链接给你，因为这是我们的团队提出的并且运行良好（1000 TPS 和 4 个服务器池，100% 无状态） - 只是一个想法。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-16T00:48:43.120

如果您的部署将在单个服务器上，那么您对 ​​WCF 服务的最初想法可能是可行的方法 - 请参阅[MSDN](http://msdn.microsoft.com/en-us/library/ms730158.aspx)，了解有关在 IIS 或 Windows 服务中托管的讨论。

正如@JeffWatkins 所说，调用服务时遵循的一个很好的模式是简单地将需要处理的文件在磁盘上的位置传递给它。这在处理大文件时会更有效率。

我认为这里采用的精确方法将取决于您从用户那里收到的文件的性质。对于非常小的文件，您可能会发现将它们从您的网站流式传输到您的服务更有效，这样它们就不会接触磁盘。在这种情况下，您的服务将公开一个在处理小文件时使用的附加方法。

**编辑**

引入可以流式传输文件的条件可能是一个好主意，但是对您进行一些测试会很有价值，这样您就可以弄清楚：

1.  是否值得做
2.  流式传输与写入磁盘的最佳大小是多少

我的回答是基于您正在部署到单台机器的假设。如果您想要更具可扩展性的东西，那么是的，使用 MSMQ 将是扩展应用程序的好方法。

有关构建 WCF/MSMQ 演示应用程序的一些示例代码，请参阅[MSDN 。](http://msdn.microsoft.com/en-us/library/ms789008.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-18T23:30:39.107

我会认真看待 ServiceStack。此功能是内置的，您只需要做最少的编程。此外，ServiceStack 的架构非常好，如果您遇到任何问题，也很容易调试。

[https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-redis](https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-redis)

在相关说明中，我的公司使用基于 Web 的 REST api 前端（REST 服务使用 ServiceStack）进行了大量异步后台处理。我们确实使用了多台机器并实现了 RabbitMQ 后端；但是，RabbitMQ .NET 库的设计非常糟糕并且不必要地繁琐。我对核心类进行了重新设计以解决此问题，但由于我们尚未将项目发布到生产环境，因此无法将它们发布到社区。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:35:46.473

看看[http://www.devx.com/dotnet/Article/27560](http://www.devx.com/dotnet/Article/27560)

它有点过时，但可以为您提供一个良好的开端和基本的理解。

# android - 在 Ndef writeNdefMessage 中捕获 NFCSTATUS_INSUFFICIENT_STORAGE 错误

> ID：12836061
> 
> 赞同：0
> 
> 时间：2012-10-11T09:09:23.663
> 
> 标签：android, nfc, ioexception, ndef

在使用 Ndef.writeNdefMessage 写入 NFC 标签时，我在 catch 块中收到 IOException 错误。检查 Logcat 显示 PhLibNfc_Ndef_Write 函数触发了 NFCSTATUS_INSUFFICIENT_STORAGE 错误，这有效地触发了 IOException。有没有办法在应用层捕获这个 NFCSTATUS_INSUFFICIENT_STORAGE 错误。我搜索了很多，但总是以 PhLibNfc_Ndef_Write 函数的源代码结束。

我用来写标签的代码

```
final NdefMessage  message = new NdefMessage(bytearray);
final NdefFormatable ndefFormatable = NdefFormatable.get(tag);
if(ndefFormatable == null){
final Ndef ndef = Ndef.get(tag);
ndef.connect();
if(ndef.isConnected() && ndef.isWritable()){
    new Thread(new Runnable() {
        public void run() {
            try {
                // this logic is not working. Status quo remains
                int actlen = ndef.getMaxSize();
                if (actlen < arrayLen) {
                    Toast.makeText(tagHandler.this, "Space not available", 20).show();
                }
                ndef.writeNdefMessage(message); <-- error is triggered here
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }).start(); //runnable
ndef.close();
return true;
} 
```

我遇到的 logcat 错误

```
E/NFC JNI(705): phLibNfc_Ndef_Write() returned 0x001f[NFCSTATUS_INSUFFICIENT_STORAGE]
W/System.err(547): java.io.IOException
W/System.err(547):  at android.nfc.tech.Ndef.writeNdefMessage(Ndef.java:313)
W/System.err(547):  at com.example.tagreader.tagHandler$2.run(tagHandler.java:270)
W/System.err(547):  at java.lang.Thread.run(Thread.java:856) 
```

对捕获 NFCSTATUS_INSUFFICIENT_STORAGE 错误有任何帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:28:48.693

在写入标签之前，请调用`getMaxSize()`该`Ndef`技术。这会告诉您您的消息是否合适，从而完全防止 IOException。

# javascript - 字符串拆分返回一个包含比预期更多元素的数组（空元素）

> ID：12836062
> 
> 赞同：58
> 
> 时间：2012-10-11T09:09:24.887
> 
> 标签：javascript, arrays, string, split

我不明白这种行为：

```
var string = 'a,b,c,d,e:10.';
var array = string.split ('.'); 
```

我期望这个：

```
console.log (array); // ['a,b,c,d,e:10']
console.log (array.length); // 1 
```

但我明白了：

```
console.log (array); // ['a,b,c,d,e:10', '']
console.log (array.length); // 2 
```

为什么返回两个元素而不是一个？**如何`split`工作？**

还有另一种方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：104
> 
> 时间：2012-10-11T09:15:34.497

您可以添加一个过滤器来排除空字符串。

```
var string = 'a,b,c,d,e:10.';
var array = string.split ('.').filter(function(el) {return el.length != 0}); 
```

* * *

## 回答 #2

> 赞同：48
> 
> 时间：2017-05-04T15:12:03.163

用于排除空字符串的[@xdazz 版本](https://stackoverflow.com/a/12836180/819355)的稍微简单的版本（使用[ES6 箭头函数](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions)）：

```
var array = string.split('.').filter(x => x); 
```

* * *

## 回答 #3

> 赞同：27
> 
> 时间：2012-10-11T09:14:29.380

这是正确和预期的行为。鉴于您已在字符串中包含分隔符，split 函数（简化）将分隔符左侧的部分 ("a,b,c,d,e:10") 作为第一个元素，并将部分分隔符的其余部分（一个空字符串）作为第二个元素。

如果您真的对 split() 的工作原理感到好奇，可以在[http://www.ecma-international.org/publications/files/ECMA-ST/上查看 ECMA 规范 (ECMA 262) 的第 148 页和第 149 页ECMA-262.pdf](http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf)

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2017-05-25T07:53:45.253

使用[**String.split()**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split)方法和[**Array.filter()**](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)方法。

```
var string = 'a,b,c,d,e:10.';
var array = string.split ('.').filter(item => item);

console.log(array); // [a,b,c,d,e:10]
console.log (array.length); // 1
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-10-11T09:17:25.033

[https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)

首先修剪尾随期间

```
'a,b,c,d,e:10.'.replace(/\.$/g,''); // gives "a,b,c,d,e:10" 
```

然后拆分字符串

```
var array = 'a,b,c,d,e:10.'.replace(/\.$/g,'').split('.'); 
```

console.log (array.length); // 1

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-11T09:11:43.430

那是因为字符串以`.`字符结尾——数组的第二项是空的。

如果字符串根本不包含`.`，您将拥有所需的一项数组。

据我可以用简单的话解释，该`split()`方法的工作原理如下：

1.  在给定的字符串中查找要拆分的给定字符串。如果未找到，则返回一个包含整个字符串的项目数组。
2.  如果找到，则遍历给定的字符串，将字符串的每两次出现之间的字符作为分割依据。
3.  如果给定字符串以要分割的字符串开头，则结果数组的第一项将为空。
4.  如果给定字符串以要分割的字符串结尾，则结果数组的最后一项将为空。

[这里](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)有更多技术性的解释，对于所有浏览器来说几乎都是一样的。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-08-28T06:53:57.873

根据[MDN 网络文档](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split#Using_split())：

> 注意：当字符串为空时，split() 返回一个包含一个空字符串的数组，而不是一个空数组。如果字符串和分隔符都是空字符串，则返回一个空数组。

```
const myString = '';
const splits = myString.split();

console.log(splits); 

// ↪ [""] 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-11T09:12:46.820

好吧， split 做了它要做的事情，它分割你的字符串。只是拆分的第二部分是空的。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-10-11T09:13:56.817

因为您的字符串由两部分组成：

1：a，b，c，d，e：10

2：空

如果您尝试在末尾不加点：

```
var string = 'a,b,c:10';
var array = string.split ('.'); 
```

输出是：

```
["a,b,c:10"] 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-10-11T09:15:53.070

你有一个带有一个“。”的字符串。在其中，当您使用 string.split('.') 时，您会收到包含第一个元素的数组，其中字符串内容在“。”之前 字符和第二个元素与“。”之后的字符串内容。- 在这种情况下是空字符串。

所以，这种行为是正常的。你想通过使用这个 string.split 来实现什么？

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2017-02-14T13:02:04.067

试试这个

javascript 通过 split 函数给出两个数组，然后

```
var Val = "abc@gmail.com";
var mail = Val.split('@');

if(mail[0] && mail[1])  {   alert('valid'); }
else    {   alert('Enter valid email id');  valid=0;    } 
```

如果两个数组都包含大于 0 的长度，则条件为真

# editor - 是否有带有列而不是滚动的文本编辑器？

> ID：12836063
> 
> 赞同：10
> 
> 时间：2012-10-11T09:09:30.627
> 
> 标签：editor, text-editor

是否有提供水平滚动而不是垂直滚动（并排显示两页）的文本编辑器？

我目前使用 TextMate，但会切换到任何提供此布局的编辑器。我真的厌倦了一遍又一遍地上下滚动。

我附上了 MS Word 的屏幕截图，它有一个并排的水平滚动视图，用于显示超过一页的文档。

![在此处输入图像描述](../Images/598f2d6ea768b6cbaea82c154eb44e46.png)

我也想要这样的，有推荐的吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-07T23:36:28.687

Emacs 提供了一个跟随模式，您可能会觉得它很有帮助（例如，请参见此处[http://www.emacswiki.org/emacs/FollowMode](http://www.emacswiki.org/emacs/FollowMode)）。

简要说明它的使用方式和作用：

您需要在两个窗口中打开一个缓冲区并使用 Mx follow-mode 进入 follow-mode。这实际上是一个缺点，因为您需要学习如何使用 emacs，如果您还不知道的话（恕我直言，学习如何使用 emacs 值得花一些时间）。

进入跟随模式后，第二个缓冲区将跳到第一个缓冲区结束的地方，类似于 Microsoft Word 提供的逐页视图。现在，如果您一次将光标向下移动一行并将第一个缓冲区窗口留在底部，则光标将出现在第二个缓冲区的顶部。如果进一步向下移动并且位于第二个窗口的底部，则两个缓冲区将同时滚动，使用 Cv 和 Mv 进行页面滚动也是如此。如果您的显示器屏幕足够宽，您可以打开第三个窗口以进一步增加显示的行数。

我做了一个截图，显示了一个在这种模式下打开的文本文件：[Screenshot auf Follow mode](http://i.stack.imgur.com/wli5i.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-07T21:13:31.537

嗯，您似乎正在寻找在文本编辑器中不太可能找到的布局功能。文本编辑器通常是基于行的，不理解页面的概念。文本编辑器执行代码折叠之类的操作，并允许换行或不换行。这就是文本编辑器在垂直方向滚动的原因。这些因素会影响分页。

除非您使用的是诸如文字处理器或桌面出版软件包之类的演示管理器，否则页面的概念（并且能够并排放置）并不真正存在。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-09T17:33:52.087

I'm not sure if I know exactly what you want. Does Sublime Text 2's two-column layout with File > New View Into File do what you want?

![sublimetext2](../Images/21e4a52bd28267c6a604f7d27ed870b2.png)

A change on one side is reflected instantly in the other side, and you can scroll them independently. You can have up to four columns per window.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-10T07:13:25.550

在 vim:`<Esc>:vsplit`将打开文件的第二列。 ![一个文件，两列](../Images/8b8b75a03c4ad2e984b3afb88d822cb7.png) ![放大](../Images/7897c485df22a94134fa297d1dedcf4d.png)

平心而论，我应该警告你 Vim 有一个陡峭的学习曲线，并且会迫使你围绕新概念，如命令模式 / 编辑模式 / 可视模式。如果您有时间学习，结果绝对值得。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-10T20:14:57.457

在[LibreOffice](http://www.libreoffice.org/) Writer 中，转到`View -> Zoom...`并设置`Zoom factor`为`Fit width and height`，然后设置`View layout`为`Automatic`。您也可以手动设置列数，如果选择两列，则可以使用`Book Mode`.

![带有列的 Libreoffice Writer](../Images/657a64e08d6db0f42b8ad2516dd49c52.png) ![缩放和查看细节](../Images/ea0ae070fa9eaa95183d1d249da7fc4c.png)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-10-28T01:47:38.527

使用 vim 中的滚动绑定，您可以并排编辑两个文件：[Vim 中的滚动绑定](http://vim.1045645.n5.nabble.com/scrollbind-td1143143.html)。

在 vim 中显示一个包含两列的文本文件：http: [//vim.wikia.com/wiki/View_text_file_in_two_columns](http://vim.wikia.com/wiki/View_text_file_in_two_columns)

# c# - 如何检查 DataGridView 中是否存在列

> ID：12836064
> 
> 赞同：4
> 
> 时间：2012-10-11T09:09:30.683
> 
> 标签：c#, winforms, ado.net

我想检查该列是否存在，我将数据库中的数据绑定到`DataGridView`并添加链接按钮作为列以及`DataGridView`. 我在按钮单击事件中使用了以下代码。

```
con.Open();
SqlDataAdapter dadatagrid1 =
    new SqlDataAdapter("SELECT * FROM Stocktransferlocation", con);
DataSet dsdatagrid1 = new DataSet();
dadatagrid1.Fill(dsdatagrid1);
dataGridView_stocktransferlist.DataSource = dsdatagrid1.Tables[0];
con.Close();

DataGridViewLinkColumn btn = new DataGridViewLinkColumn();
dataGridView_stocktransferlist.Columns.Add(btn);
btn.HeaderText = "Click";
btn.Text = "Click Here";
btn.Name = "btn";
btn.UseColumnTextForLinkValue = true; 
```

这是我的问题：如果我单击添加按钮，数据将保存并出现单击链接。如果我点击下次点击出现 2 次。

我只想检查该列是否存在于数据网格中。我试过了

```
if (dataGridView_stocktransferlist.Columns.Contains("Click") == true) 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-11T09:15:10.003

该`Contains`方法失败，因为列名是**'btn'**而不是**'Click'**。

正如您在[`DataGridViewLinkColumn`](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridviewlinkcolumn.aspx)文档中看到的，是`Name`定义该`Contains`方法所处理的列名的属性。

所以你的代码应该是

```
if (dataGridView_stocktransferlist.Columns.Contains("btn") == true
{
    .....
} 
```

但我建议为您的按钮起一个更有意义的名称，例如“btnLinkForEdit”，并相应地更改 if。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:16:02.540

你应该检查如下：

```
if (dataGridView_stocktransferlist.Columns.Contains("btn"))
{
  //your code
} 
```

# html - div 和表格和盒子

> ID：12836070
> 
> 赞同：0
> 
> 时间：2012-10-11T09:09:52.170
> 
> 标签：html, css

![我想设计这样的东西](../Images/28e811939a0bb1979db7f2ae1f1372ec.png) 我想设计这样的东西。

我努力为我的代码设置样式，但我仍然无法在我的 html 中做到这一点我有这个：

```
 <div id="main">
    <div class="box1">
    <div class='up'><a href="" class="vote" id="<?php echo $id; ?>" name="up">
    <?php echo $up; ?></a></div>
    <div class='down'><a href="" class="vote" id="<?php echo $id; ?>" name="down"><?php echo $down; ?></a></div>
    </div>
    <div class='box2' >
    <table cellspacing="10">

    <tr>
    <td>
    artist:<?php echo $artist; ?>
    </td>
    <td>
    Song:<?php echo $title; ?>
    </td>
    </tr>
    <tr>
    <td>
    album:<?php echo $album; ?>
    </td>
    <td>
    genre:<?php echo $genre; ?>
    </td>
    <td>

    <button type = "button" name = "Download" onClick = <?php echo $filename;?>>
    Download
    </button>
    </div>
    </td>
    </tr>
    </table>
    </div>
    </div> 
```

在风格上我有这个：

```
#main
{
height:80px; border:1px dashed #29ABE2;margin-bottom:7px;
width:600px;
}
a
{
color:#DF3D82;
text-decoration:none;

}
a:hover
{
color:#DF3D82;
text-decoration:underline;

}
.up
{
height:40px; font-size:24px; text-align:center; background-color:#009900; margin-bottom:2px;
-moz-border-radius: 6px;-webkit-border-radius: 6px;
}
.up a
{
color:#FFFFFF;
text-decoration:none;

}
.up a:hover
{
color:#FFFFFF;
text-decoration:none;

}
.down
{
height:40px; font-size:24px; text-align:center; background-color:#cc0000; margin-top:2px;
-moz-border-radius: 6px;-webkit-border-radius: 6px;
}

.down a
{
color:#FFFFFF;
text-decoration:none;

}
.down a:hover
{
color:#FFFFFF;
text-decoration:none;

}
.box1
{
float:left; height:80px; width:50px;
}
.box2
{
float:left; width:500px; text-align:left;
margin-left:10px;height:60px;margin-top:5px;
font-size:15px;
}
.box3
{
float:right; height:80px; width:60px;
}
img
{
border:none;
padding-top:7px;
} 
```

我的结果如下所示：

![在此处输入图像描述](../Images/f09016f54f57ddf6d068d8d81835f138.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:41:06.077

嗨，请检查[此代码](http://jsfiddle.net/mhQaa/)。它工作正常，适合您的要求。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
  #main {
    position:relative;
    width:620px;
    height:auto;
    padding:0px;
    margin:0px;
    border:1px solid red;
    min-height:200px;
  }
  .up {
    position:absolute;
    top:0px;
    left:0px;
    height:100px;
    width:100px;
    background-color:#00ff00;
  }
  .down {
    position:absolute;
    bottom:0px;
    left:0px;
    height:100px;
    width:100px;
    background-color:#ff0000;
  }
  .box2 {

    margin:0 auto;
    width:400px;
  }
  .box2 table {
    width:100%;
  }
  .box2 table td {
    background-color:#ffffff;
    padding:5px;
    text-align:center;
  }

  .box3 {
    position:absolute;
    bottom:0px;
    right:0px;
    width:100px;
    height:100px;
    background-color:blue;
  }

  .box3 button{
     float: left;
    margin: 74px 0 0 3px;
  }  

</style>
</head>

<body>
  <div id="main">

      <div class='up'>
        <a href="" class="vote" id="" name="up">
          Up
        </a>
      </div>
      <div class='down'>
        <a href="" class="vote" id="" name="down">Down</a>
      </div>

    <div class='box2' >
      <table cellspacing="0" cellpadding="0" border="1">

      <tr>
      <td>
      artist:<?php echo $artist; ?>
      </td>
      <td>
      Song:<?php echo $title; ?>
      </td>
      </tr>
      <tr>
      <td>
      album:<?php echo $album; ?>
      </td>
      <td>
      genre:<?php echo $genre; ?>
      </td>
      </tr>
    </table>
  </div>
  <div class="box3">
     <button type = "button" name = "Download" onClick = <?php echo $filename;?>>
      Download
      </button>
  </div>
</div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:20:47.133

将按钮放在 .box2 div 之外。并用 div 包裹按钮。

改变的CSS

```
#main
{
height:80px; border:1px dashed #29ABE2;margin-bottom:7px;
width:600px; position:relative
}
    .box2
    {
    float:left; width:430px; text-align:left;
    margin-left:10px;height:60px;margin-top:5px;
    font-size:15px; background:#993
    }
    .button{float:right; position:absolute; bottom:0; right:0} 
```

HTML

```
<div class="button">
<button type = "button" name = "Download" onClick = <?php echo $filename;?>>Download</button> 
 </div> 
```

演示[http://jsfiddle.net/GPqS2/](http://jsfiddle.net/GPqS2/)

# php - 使用 PHPExcel 将电子表格存储在 MySQL 表格中，并在 PHP 页面上显示所述表格，并在生成的表格中显示电子表格

> ID：12836071
> 
> 赞同：0
> 
> 时间：2012-10-11T09:09:55.800
> 
> 标签：php, mysql, phpexcel

是否可以使用 PHPExcel 来做这样的事情。

PHP页面：

```
Document Name        Date Submitted        Some Other Column Name
spreadsheet.xls(x)   2012-01-01            yada yada yada
spreadsheet2.xls(x)  2002-12-12            blah blah blah 
```

MySQL 表或多或少类似于上面的内容。

然后文档名称将包含一个链接，这样一旦单击，它就会在浏览器中打开电子表格，然后用户可以编辑等等，当用户完成后，Excel 文件就会更新。

这有可能吗？

# android - android 视图中当前缩放的点的缩放和位置

> ID：12836079
> 
> 赞同：1
> 
> 时间：2012-10-11T09:10:26.273
> 
> 标签：android, android-layout, android-canvas, zooming, pinchzoom

我有一个看法。我在其中设置了背景图片

```
 @Override
public void setBackgroundDrawable(Drawable d) {
    super.setBackgroundDrawable(d);
} 
```

在这张图片的顶部，我有不同数量的点，在这些点上我使用 canvas ondraw 方法绘制了 cicles。

现在我想在背景图像上添加缩放功能，并找到相应的点，使圆圈保持在同一位置。

[https://github.com/MikeOrtiz/TouchImageView](https://github.com/MikeOrtiz/TouchImageView) 我试过这个但不知道我怎么不知道如何缩放我从上面的方法放置的背景图像，也无法获得各自的绘制点位置。

# sunspot - 重新索引时如何避免删除现有索引

> ID：12836083
> 
> 赞同：0
> 
> 时间：2012-10-11T09:10:35.260
> 
> 标签：sunspot, sunspot-rails

重新索引 Sunspot 时，首先清除/删除现有索引。这意味着用户会在短时间内看到空白的搜索结果，这对生产环境不利。有没有办法在不清除现有索引的情况下进行重新索引？

当我调用 rake 任务以及`solr_reindex`在控制台中调用时，会发生清除。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:30:00.980

通过查看代码，我认为做 a`Model.solr_index`就足够了。索引完成后，可以开始搜索新的索引字段。

可搜索架构不是一个模型的所有记录共享的东西。因此，索引单个记录将更新该记录的可搜索架构。

# iphone - 尽管使用多线程，但在 webview 中加载图像会阻塞主线程

> ID：12836087
> 
> 赞同：2
> 
> 时间：2012-10-11T09:10:51.853
> 
> 标签：iphone, multithreading, uiwebview, grand-central-dispatch, uiwebviewdelegate

我有一个 html 字符串，其中包含`<img>`带有图像 URL 的标签。我已经使用大中央调度加载了 html 字符串，如下所示。但是我的应用程序卡住了，直到图像完全加载。请帮助我`

```
background=dispatch_queue_create("background_queues", NULL);

dispatch_async(background, ^{    

    [webView loadHTMLString:myDescriptionHTML baseURL:NULL]; });

dispatch_release(background); 
```

提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T00:45:41.307

您不能`UIKit`在后台线程上进行调用。这段代码有什么意义？如果您只是`loadRequest:`在主线程上调用，它不会在您的图像加载时阻塞 UI。

# php - 如何在drupal 6中打印出搜索结果

> ID：12836088
> 
> 赞同：0
> 
> 时间：2012-10-11T09:10:54.507
> 
> 标签：php, drupal, search, drupal-6, drupal-theming

我创建了一个自定义 searchpage.tpl.php 以使用以下代码打印出搜索表单和搜索结果：

```
<div class="searchblock">
<?php
print drupal_get_form('search_form');
?>
</div>

<div class="search-result <?php print $search_zebra; ?>">
  <dt class="title">
    <a href="<?php print $url; ?>"><?php print $title; ?></a>
  </dt>
  <dd>
    <?php if ($snippet) : ?>
    <p class="search-snippet"><?php print $snippet; ?></p>
    <?php endif; ?>
  </dd>
</div> 
```

它正确显示了搜索表单，当我搜索一个短语时，URL 更改为`http://domain.com/search/node/phrase` 但它不显示搜索结果，请问我怎样才能使它工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:08:45.200

这是解决方案：

```
<div class="searchblock">
<?php
print drupal_get_form('search_form');
?>
</div>

<?php
$keys = arg(2);
print search_data($keys, $type = 'node');
?>
</div> 
```

# eclipse - 为什么 Eclipse 不将第 3 方库源文件附加到 WTP 方面的 Gradle 项目？

> ID：12836089
> 
> 赞同：22
> 
> 时间：2012-10-11T09:10:56.097
> 
> 标签：eclipse, gradle, eclipse-wtp

源代码在 Gradle 缓存中下载，源文件的类路径条目看起来没问题，但 Eclipse 不显示第 3 方库的源文件。

```
<?xml version="1.0" encoding="UTF-8"?>
<classpath>
    <classpathentry kind="output" path="bin/main"/>
    <classpathentry kind="src" path="src/main/java"/>
    <classpathentry kind="src" path="src/main/resources"/>
    <classpathentry output="bin/test" kind="src" path="src/test/java"/>
    <classpathentry output="bin/test" kind="src" path="src/test/resources"/>
    <classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER" exported="true"/>
    <classpathentry kind="con" path="org.eclipse.jst.j2ee.internal.web.container" exported="true"/>
    <classpathentry sourcepath="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework/spring-webmvc/3.1.2.RELEASE/source/bc9c347358c5d59998b27e8a13c75106c3d0696/spring-webmvc-3.1.2.RELEASE-sources.jar" kind="lib" path="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework/spring-webmvc/3.1.2.RELEASE/jar/e02f3e5aa91c8caa37b2e9b780229d27e76c0f2e/spring-webmvc-3.1.2.RELEASE.jar" exported="true">
        <attributes>
            <attribute name="org.eclipse.jst.component.nondependency" value=""/>
        </attributes>
    </classpathentry>
    <classpathentry sourcepath="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework.data/spring-data-jpa/1.2.0.BUILD-SNAPSHOT/source/19e4dedbb956cdc3bb1d34d61a351229b653029a/spring-data-jpa-1.2.0.BUILD-SNAPSHOT-sources.jar" kind="lib" path="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework.data/spring-data-jpa/1.2.0.BUILD-SNAPSHOT/jar/2a3cfc2ea0b2c8d87f32166e16bb56e1f092568b/spring-data-jpa-1.2.0.BUILD-SNAPSHOT.jar" exported="true">
        <attributes>
            <attribute name="org.eclipse.jst.component.nondependency" value=""/>
        </attributes>
    </classpathentry>
    <classpathentry sourcepath="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework.security/spring-security-web/3.1.2.RELEASE/source/49e8d929d835d4ba4556ba9d138488ecc083a794/spring-security-web-3.1.2.RELEASE-sources.jar" kind="lib" path="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/org.springframework.security/spring-security-web/3.1.2.RELEASE/jar/e43e7683289f08c1e073564a94e6f26298ec4f59/spring-security-web-3.1.2.RELEASE.jar" exported="true">
        <attributes>
            <attribute name="org.eclipse.jst.component.nondependency" value=""/>
        </attributes>
    </classpathentry>
    <classpathentry sourcepath="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/javax.validation/validation-api/1.0.0.GA/source/7a561191db2203550fbfa40d534d4997624cd369/validation-api-1.0.0.GA-sources.jar" kind="lib" path="D:/Users/SSchneider/.gradle/caches/artifacts-14/filestore/javax.validation/validation-api/1.0.0.GA/jar/b6bd7f9d78f6fdaa3c37dae18a4bd298915f328e/validation-api-1.0.0.GA.jar" exported="true">
        <attributes>
            <attribute name="org.eclipse.jst.component.nondependency" value=""/>
        </attributes>
    </classpathentry>

</classpath> 
```

* * *

## 回答 #1

> 赞同：58
> 
> 时间：2012-10-11T09:22:41.790

这是 Eclipse 中生成的 .classpath 文件的一种奇怪行为。只需将“Web App Libraries”条目放在类路径文件的底部（-> Java Build Path -> Order and Export）。

最好的解决方案是增强你的 gradle.build 文件（这样你就不需要在每次通过 gradle 生成类路径文件时重新排序你的构建路径）：

```
...
eclipse.classpath.file {
    // Classpath entry for Eclipse which changes the order of classpathentries; otherwise no sources for 3rd party jars are shown
    withXml { xml ->
        def node = xml.asNode()
        node.remove( node.find { it.@path == 'org.eclipse.jst.j2ee.internal.web.container' } )
        node.appendNode( 'classpathentry', [ kind: 'con', path: 'org.eclipse.jst.j2ee.internal.web.container', exported: 'true'])
    }
} 
```

# javascript - 通过 html 表单和 jquery 的 CouchDB 文档附件

> ID：12836094
> 
> 赞同：1
> 
> 时间：2012-10-11T09:11:11.963
> 
> 标签：javascript, jquery, ajax, couchdb

我正在尝试创建 Web 表单，提交后将创建一个 couchdb 文档并将附件添加到文档中。我从教程/其他论坛中看到，有必要通过两个阶段的过程来做到这一点（就像蒲团一样）。我可以获取要上传的文档，但似乎无法获取要上传的附件。我已经尝试了很多方法，目前我正在做类似的事情：

带有以下内容的 html 文件：

```
<!DOCTYPE HTML>
<html>
  <head>
    <title>Document submission</title>
    <style type="TEXT/CSS" media="all">
    </style>
  </head>
  <body>
    <table>
      <form id="form" name="form" action="">
        <tr>
          <td>Field</td>
            <td><input type="text" required="required" name="field">
              <span id="required">*</span></td>
        </tr><tr>
        </tr><tr>
          <td></td><td><button type="button" id="submit">Select Attachment</button><td>
        </tr>
      </form>
    </table>
  </body> 
  <script src="/_utils/script/json2.js"></script>
  <script src="/_utils/script/jquery.js"></script>
  <script src="/_utils/script/jquery.couch.js"></script>
  <script src="/_utils/script/jquery.form.js"></script>
  <script src="/_utils/script/jquery.dialog.js"></script>
  <script type="text/javascript" src="basic.js"></script>
</html> 
```

然后是一个名为 basic.js 的文件，其中包含：

```
function create_document(){
    var db_name = 'uploader';
    var db = $.couch.db(db_name);
    var data={}
    data['fname']=document.form.field.value;
    db.saveDoc(data, {
        success: function (data) {
            add_attachment(db,data);
        },
        error: function () {
            alert("Cannot save the thread.");
        }
    });
}

function add_attachment(db,data){
    var docID = data.id;
    var dbName = db.name;
    var form = $("#upload-form");
    $.showDialog("dialogue.html", {
        load: function(elem) {
            $("input[name='_rev']", elem).val(data._rev);
        },
        submit: function(data, callback) {
            if (!data._attachments || data._attachments.length == 0) {
                callback({_attachments: "Please select a file to upload."});
                return;
            }
            var form = $("#upload-form");
            form.find("#progress").css("visibility", "visible");
            form.ajaxSubmit({
                url: db.uri + $.couch.encodeDocId(docID),
                success: function(resp) {
                    form.find("#progress").css("visibility", "hidden");
                    location.href = "?" + encodeURIComponent(dbName) +
                        "/" + $.couch.encodeDocId(docID);
                }
            });
        }
    });
}

$(document).ready(function() {
    $("button#submit").click(function(event) {
        create_document();
    });
}); 
```

这个 javascript 几乎取自 futon.browse.js uploadAttachment 段。dialog.html 文件也只是 couchdb 的 www/dialog/_upload_attachment.html 的直接副本。然后将所有文件（主 html、basic.js 和 dialog.html）上传到 CouchDB 设计文档（在名为 uploader 的数据库中）。

文档创建得很好，但无论我做什么，附件都永远不会保存。我尝试过的各种方法要么导致关于多部分表单的错误，要么在这种情况下根本没有明显的错误。

有谁知道我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-26T18:46:01.690

我继承了这段代码，所以我不知道它是否是最优的。但它确实有效：

```
 jQuery.fn.sendForm = function(itemID, itemType) {

    // Get all of the values from the form fields
    var itemTitle = $('.settingsForm input#title').val(),
        itemAuthor = $('.settingsForm input#author').val(),
        itemDescription = $('.settingsForm textarea#description').val(),
        itemDate = $('.settingsForm input#date').val(),
        itemRev = $('.settingsForm input#_rev').val(),
        itemDelete = $('.settingsForm input#delete:checked').val(),
        itemType = $('.settingsForm select').val(),
        itemFilename = $('.settingsForm input:file').val(); 

    // Check for new uploaded file
    if (itemFilename == undefined || itemFilename == ""){
        $('.settingsForm input:file').remove();
        itemFilename = "";
    }
    else {
        itemFilename = itemFilename.replace(/^C:\\fakepath\\/i, '');
    }

     // If no new file, then fall back on the old filename
    if (!itemFilename || itemFilename.length == 0) {
        itemFilename = $('.settingsForm input#filename').val();
    }

    // Force to add a title (the only required field)
    if (!itemTitle || itemTitle.length == 0) {
        alert(libLang.addTitle); // Get text for language
        return;
    }

    // Check if size of db is above the limit
    dbSize = maxDBSize;
    $.ajax({
        url: "/"+ homeURL,
        dataType: 'json',
        async: false,
        success: function(dbInfo){
            dbSize = dbInfo.data_size;
        }
    });
    if (itemDelete != 'Yes' && dbSize >= maxDBSize){
        alert(libLang.noSpace);
        return;
    }

    if (itemDelete != 'Yes'){

        if (itemID != 'add'){

            // Update existing record
            $(this).ajaxSubmit({
                url: "/"+ homeURL +"/"+ itemID,
                data: {"filename":itemFilename},
                success: function(resp) {

                    $.getJSON("/"+ homeURL +"/"+ itemID, function(revData) {
                        itemRev = revData._rev;
                        itemAttachment = revData._attachments;
                        user = revData.user;

                        if (!revData._attachments || revData._attachments.length == 0) {

                            $.couch.db(homeURL).saveDoc({
                                "_id": itemID,
                                "_rev": itemRev,
                                "filename":itemFilename,
                                "title":itemTitle,
                                "author":itemAuthor,
                                "type":itemType,
                                "description":itemDescription,
                                "date":itemDate,
                                "user":user
                            }, {
                                success: function() { 
                                    alert(libLang.saved); // Get text for language
                                    window.location.replace("index.html");
                                }
                            });
                        }
                        else {
                            $.couch.db(homeURL).saveDoc({
                                "_id": itemID,
                                "_rev": itemRev,
                                "filename":itemFilename,
                                "title":itemTitle,
                                "author":itemAuthor,
                                "type":itemType,
                                "description":itemDescription,
                                "date":itemDate,
                                "user":user,
                                "_attachments":itemAttachment
                            }, {
                                success: function() { 
                                    alert(libLang.saved); // Get text for language
                                    window.location.replace("index.html");
                                }
                            });
                        };
                    });
                }
            });
        } 
        else {

            // Add new record
            uniqueID = $.couch.newUUID();
            itemID = itemTitle.replace(/[\s]/g,'_');
            itemID = homeUser +'-'+ itemType.charAt(0).toUpperCase() + itemType.slice(1) +'-'+  encodeURI(itemID) +'-'+ uniqueID;
            itemID = itemID.replace(/[^a-z 0-9 _ -]+/gi,'');

            $('form .settingsForm').attr({"action":"/"+ homeURL +"/"+ itemID});

            // Save information
            $.couch.db(homeURL).saveDoc({
                "_id": itemID,
                "filename":itemFilename,
                "title":itemTitle,
                "author":itemAuthor,
                "type":itemType,
                "description":itemDescription,
                "date":itemDate,
                "user":homeUser
            }, {
                success: function(){

                    // Get saved info, then add attachment to item
                    $.getJSON("/"+ homeURL +"/"+ itemID, function(revData) {

                        $('.settingsForm input#_rev').val(revData._rev);

                        var data = {};

                        $.each($("form :input").serializeArray(), function(i, field) {
                            data[field.name] = field.value;
                        });

                        $("form :file").each(function() {
                            data[this.name] = this.value.replace(/^C:\\fakepath\\/g, ''); // file inputs need special handling
                        });

                        itemFilename = data._attachments;

                        $('form.settingsForm').ajaxSubmit({
                            url: "/"+ homeURL +"/"+ itemID,
                            success: function(resp) {
                                $.getJSON("/"+ homeURL +"/"+ itemID, function(saveData) {
                                    itemRev = saveData._rev;
                                    itemAttachment = saveData._attachments;

                                    // Resave all information
                                    $.couch.db(homeURL).saveDoc({
                                        "_id": itemID,
                                        "_rev": itemRev,
                                        "filename":itemFilename,
                                        "title":itemTitle,
                                        "author":itemAuthor,
                                        "type":itemType,
                                        "description":itemDescription,
                                        "date":itemDate,
                                        "user":homeUser,
                                        "_attachments":itemAttachment
                                    }, {
                                        success: function() { 
                                            alert(libLang.saved); // Get text for language
                                            window.location.replace("index.html");
                                        }
                                    });
                                });
                            }
                        });
                    });
                }
            });         
        };          
    } else {
        // Delete the item from the library
        $.couch.db(homeURL).removeDoc({'_id': itemID, "_rev": itemRev});
        window.location.replace("index.html");
    }   
}; 
```

# php - 显示 url/hyperlink 数据库获取的数据

> ID：12836098
> 
> 赞同：0
> 
> 时间：2012-10-11T09:11:22.750
> 
> 标签：php, database, echo, fetch

我有一个关于一个众所周知的问题的问题：我的用户的消息包含指向我网站其他区域的超链接。我从数据库中获取数据以显示用户在其个人资料上发布的最后一条消息。这有效，但我看不到超链接。我只是将它们视为纯文本。我怎样才能使这些东西成为应有的超链接？

我用这个例如：

```
$lastpost = execute_scalar("SELECT message FROM messages where messages.user='$who' Order by date desc"); 
```

@Prasath Albert 给你：

```
 $message = preg_replace("'\look here: (.*)\)'Ui","(look here: <a href=\"haha.php?&q=\\1\">\\1</a>)",$message); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:17:45.353

使用此链接

[用 HTML 链接替换文本中的 URL](https://stackoverflow.com/questions/1188129/replace-urls-in-text-with-html-links)

[http://zenverse.net/php-function-to-auto-convert-url-into-hyperlink/](http://zenverse.net/php-function-to-auto-convert-url-into-hyperlink/)

# api - youtube api 结果

> ID：12836102
> 
> 赞同：0
> 
> 时间：2012-10-11T09:11:40.560
> 
> 标签：api, youtube

我正在使用下面提到的 url 使用 youtube api 请求从 youtube 获取视频。我要求的参数是作者姓名**billgeorgeorg**和关键字**Good Leaders are Authentic Leaders**。

当我收到结果时，我得到的总结果为 1，但我无法获取视频 ID

谁能帮我解决这个问题

> [http://gdata.youtube.com/feeds/api/videos?v=2&alt=json&max-results=10&start-index=11&author=billgeorgeorg&q=Good%20Leaders%20are%20Authentic%20Leaders](http://gdata.youtube.com/feeds/api/videos?v=2&alt=json&max-results=10&start-index=11&author=billgeorgeorg&q=Good%20Leaders%20are%20Authentic%20Leaders)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:24:36.670

这是多个结果的东西。没有 max-results 和 start-index。[http://gdata.youtube.com/feeds/api/videos?v=2&alt=json&author=billgeorgeorg&q=Good%20Leaders%20are%20Authentic%20Leaders](http://gdata.youtube.com/feeds/api/videos?v=2&alt=json&author=billgeorgeorg&q=Good%20Leaders%20are%20Authentic%20Leaders) 你有它的地方。

```
"yt$videoid":{"$t":"r6FdIVZJfzg"} 
```

我不在家，所以我不知道如何触摸它......它有多个双方括号，但试试看。如果您需要多个视频结果，那么您将获得多个结果，获取信息并为 json 创建单个结果 url，然后获取结果。GitHub 上有一个不错的 JQuery 库，我必须搜索它。工作得很好而且很简单。

编辑：找到它，使用它：[https](https://github.com/defvayne23/jTube/) ://github.com/defvayne23/jTube/ （完美运行）

# python - Python：导入后父类仍然是未定义的变量

> ID：12836105
> 
> 赞同：0
> 
> 时间：2012-10-11T09:11:46.787
> 
> 标签：python

我正在实现一个图形，并将一个 Route 类作为 Edge 类的子类。我试图在我的 Route 类中添加一个“距离”功能，所以我的 Route 类的构造函数覆盖了我的 Edge 类的构造函数。

由于它们位于不同的模块中，因此我在 Route 类中使用了“from Edge import *”；但是，程序（PyDev）仍然抛出错误，未定义变量：Edge

这是我的实现：

```
'''
An (directed) edge holds the label of the node where the arrow is coming from
and the label of the node where the arrow is going to
'''

class Edge:

    '''
    Constructor of the Edge class
    '''
    def __init__(self, fromLabel, toLabel):
        self.__fromLabel = fromLabel
        self.__toLabel = toLabel

    '''
    Get the label of the node where the arrow is coming from
    @return the label of the node where the arrow is coming from
    '''
    def getFromLabel(self):
        return self.__fromLabel

    '''
    Get the label of the node where the arrow is going to
    @return the label of the node where the arrow is going to
    '''
    def getToLabel(self):
        return self.__toLabel 
```

* * *

```
from Edge import *

'''
A Route is inherited from the Edge class and is an edge specialized for the 
CSAirGraph class
'''

class Route(Edge):

    '''
    Constructor of the Route class
    '''
    def __init__(self, fromLabel, toLabel, distance):
        Edge.__init__(self, fromLabel, toLabel)
        self.__distance = distance

    '''
    Get the distance between two adjacent cities
    @return: the distance between two adjacent cities
    '''
    def getDistance(self):
        return self.__distance 
```

# android - 重命名日期选择器中的默认按钮（android）

> ID：12836110
> 
> 赞同：2
> 
> 时间：2012-10-11T09:12:02.543
> 
> 标签：android, datepicker, android-alertdialog

我如何在 DatePicker 对话框中重命名默认按钮（“SET”）？

我的对话：

```
case IDD_SET_NAME:
final Calendar c = Calendar.getInstance();
myYear = c.get(Calendar.YEAR);
myMonth = c.get(Calendar.MONTH);
myDay = c.get(Calendar.DAY_OF_MONTH);
DatePickerDialog DatePicker = new DatePickerDialog(this, myCallBack, myYear, myMonth, myDay);
return DatePicker; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:15:56.233

您可以将`DatePickerDialog`设置按钮文本更改为：

```
DatePickerDialog datePicker = new DatePickerDialog(this, myCallBack, myYear, myMonth, myDay);
datePicker.setButton(DatePickerDialog.BUTTON_POSITIVE, "Enter text here", datePicker); 
```

# java - Selenium Webdriver 远程设置

> ID：12836114
> 
> 赞同：13
> 
> 时间：2012-10-11T09:12:11.607
> 
> 标签：java, selenium, selenium-webdriver, webdriver

我有 selenium-server-standalone.jar 在我的本地机器上运行，并且我想在我的远程机器上编译运行的测试，但我不知道如何让测试连接到将运行浏览器的机器。任何帮助表示赞赏。

更新：在我的本地机器上（我将运行浏览器的机器）我跑了

```
java -jar selenium-server-standalone-2.25.0.jar -mode hub 
```

在我的远程机器上（我将运行测试）我跑了

```
java -jar selenium-server-standalone-2.25.0.jar -role webDriver -hub http://**My ip*:4444 
```

我的代码包含以下内容：

```
 @Before
    public void setUp() throws Exception {
            DesiredCapabilities capability = DesiredCapabilities.firefox();
            driver = new RemoteWebDriver(new URL("http://**My ip**:4444/wd/hub"),  
            capability);
            baseUrl = "http://phy05:8080";
            driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);
            driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);
            driver.manage().window().setSize(new Dimension(1920, 1080)); 
```

我正在使用 Linux，我的测试是用 Java 编写的

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-11T10:26:59.960

出色地。这不是问题。我想分享一下我是如何解决这个问题的。我得到了安装了 jdk 并在 VM 上运行 selenium 服务器的 VM（虚拟机）。VM 有 IP：192.168.4.52 我通过（RDC-远程桌面连接）连接到它。在其上安装所需的浏览器（firefox 15）。打开浏览器。禁用所有更新和其他弹出窗口。

我的本地机器上有硒测试包。我在我的虚拟机上运行它们。硒设置如下：

```
import com.google.common.base.Function;
import com.thoughtworks.selenium.SeleneseTestBase;
import junit.framework.Assert;
import org.junit.AfterClass;
import org.junit.Before;
import org.junit.BeforeClass;
import org.openqa.selenium.*;
import org.openqa.selenium.remote.DesiredCapabilities;
import org.openqa.selenium.remote.RemoteWebDriver;
import org.openqa.selenium.support.ui.FluentWait;
import org.openqa.selenium.support.ui.Wait;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.beans.factory.config.PropertyPlaceholderConfigurer;
import org.springframework.core.io.support.PropertiesLoaderUtils;

import java.io.IOException;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.NoSuchElementException;
import java.util.Properties;
import java.util.concurrent.TimeUnit;

public class BaseSeleniumTest extends SeleneseTestBase {
    static WebDriver driver;

    @Value("login.base.url")
    private String loginBaseUrl;

    @BeforeClass
    public static void firefoxSetUp() throws MalformedURLException {

//        DesiredCapabilities capability = DesiredCapabilities.firefox();
        DesiredCapabilities capability = DesiredCapabilities.internetExplorer();

        driver = new RemoteWebDriver(new URL("http://192.168.4.52:4444/wd/hub"), capability);

//        driver = new FirefoxDriver();  //for local check

        driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);
        driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);
        driver.manage().window().setSize(new Dimension(1920, 1080));
    }
    @Before
    public void openFiretox() throws IOException {

        driver.get(propertyKeysLoader("login.base.url"));

    }

    @AfterClass
    public static void closeFirefox(){
        driver.quit();
    }

..... 
```

这段代码将在远程机器上运行所有的 selenium 测试。在字符串中，`driver = new RemoteWebDriver(new URL("http://192.168.4.52:4444/wd/hub"), capability);` 您只需提及您机器的 IP，这应该可以工作。

希望这对您有所帮助。

# python - Python中“import lib.foo”和“import lib.foo as f”的区别

> ID：12836116
> 
> 赞同：9
> 
> 时间：2012-10-11T09:12:22.777
> 
> 标签：python, module, circular-dependency, python-import

我对 Python 中如何处理循环导入感到困惑。我试图提炼出一个最小的问题，我认为以前没有问过这个确切的变体。基本上，我看到了

```
import lib.foo 
```

和

```
import lib.foo as f 
```

`lib.foo`当我在和之间有循环依赖时`lib.bar`。我曾预计两者的工作方式相同：（可能半初始化的）模块将在`sys.modules`本地命名空间中找到并放入。（通过测试，我注意到它`import lib.foo`确实放入`lib`了本地命名空间 - 好吧，无论如何我都会使用这种语法`lib.foo.something`。）

但是，如果`lib.foo`已经在 中`sys.modules`，则`import lib.foo as f`尝试`foo`作为属性访问`lib`并引发 AttributeError。为什么行为（看似）取决于 中的存在`sys.modules`？

此外，这种行为记录在哪里？我不觉得[Python`import`语句参考](http://docs.python.org/reference/simple_stmts.html#the-import-statement)解释了这种行为，或者至少我无法提取它:-)

总而言之，我正在尝试更改代码库以使用导入模块时[经常推荐](http://google-styleguide.googlecode.com/svn/trunk/pyguide.html?showone=Imports#Imports)的样式，而不是模块中的符号：

```
from project.package import moduleA
from project.package import moduleB 
```

但是当两个模块之间存在循环导入时，这会失败。只要两个模块中的顶级定义不相互依赖（例如，在 中没有`moduleB`基类的子类`moduleA`），我就希望它能够工作。

测试脚本：

```
#!/bin/sh
rm -r lib; mkdir lib

touch lib/__init__.py

cat > lib/foo.py <<EOF
# lib.foo module
print '{ foo'
#import lib.bar # works
import lib.bar as b # also works
#from lib import bar # also works
print 'foo }'
EOF

cat > lib/bar.py <<EOF
# lib.bar module
print '{ bar'
#import lib.foo # works
import lib.foo as f # AttributeError: 'module' object has no attribute 'foo'
#from lib import foo # ImportError: cannot import name foo
print 'bar }'
EOF

python -c 'import lib.foo' 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T15:17:45.533

当你说`import lib.foo as f`你告诉 Python 做什么时，相当于`import lib.foo; f = lib.foo`在字节码级别。您最终会在被询问的问题中遇到 AttributeError ，因为`lib`在这种情况下`foo`尚未将其设置为属性。Python 尚未完成其`lib.foo`何时尝试执行分配的导入，因此尚未将属性设置为 on `lib`；查看用于导入的 Python 3.3 源代码，您可以在其中看到[模块的加载位置与](http://hg.python.org/cpython/file/ad51ed93377c/Lib/importlib/_bootstrap.py#l1525)[在其 parent 上设置模块的](http://hg.python.org/cpython/file/ad51ed93377c/Lib/importlib/_bootstrap.py#l1529)更下方的几个语句。

这是您最终遇到一些循环导入问题的地方。`lib.foo`在尝试访问之前，您需要让导入完成`lib.foo`，否则属性 on`lib`根本不存在，字节码无法访问。这可能就是为什么您认为您没有直接在代码中使用任何顶级定义，但实际上您是通过 import 语句。

# symfony - 在 Symfony2 中将表单整合到其他人中

> ID：12836119
> 
> 赞同：0
> 
> 时间：2012-10-11T09:12:36.330
> 
> 标签：symfony, symfony-2.1

我对 Symfony2 中的表单有一个简单的问题，如何在需要时将表单集成到其他表单中，如何声明它？

我的表单只是一个多选字段，我想在其他表单中使用它，我也不想使用它：

```
{{ form_widget(form.multiselectform) }} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T20:22:03.397

您可以在其他表单中嵌入表单。请参阅有关此主题的[食谱页面。](http://symfony.com/doc/current/cookbook/form/form_collections.html)

# python - 带有 BackButton 到 MainMenu 的 Tkinter 框架

> ID：12836125
> 
> 赞同：0
> 
> 时间：2012-10-11T09:13:00.357
> 
> 标签：python, user-interface, tkinter, frame, back-button

我在这个带有 Tkinter GUI 的 Python 程序中的“BackButton”有一些问题。MainFrame 是具有动态内容的 Frame。
在两个 MenuPoints（设备配置和 SCPI 命令）中，我想实现一个 BackButton，它可以让我回到之前的 Frame/Window，在本例中是 MainFrame/MainMenu。我对 SCPIMenu 的主框架有点困惑，我在其中输入了“？？？”。
有什么想法如何实现吗？谢谢你的时间。

```
class View(Tk):
    def __init__(self):
        Tk.__init__(self)
        self.title('Device Configurator')
        self.geometry('400x400')
        self.resizable(0,0)

        self.MainFrame = Frame(self, bd = '2', relief = RIDGE)
        self.MainFrame.pack(expand = True, fill="both", padx = 5, pady = 20)

        menubar = Menu(self)
        filemenu = Menu(menubar, tearoff=0)
        filemenu.add_command(label='Configure Devices', command = None)
        filemenu.add_command(label='Exit', command=self.quit)
        menubar.add_cascade(label='File', menu=filemenu)
        infomenu = Menu(menubar, tearoff = 0)
        infomenu.add_command(label='About', command = None)
        menubar.add_cascade(label='Info', menu = infomenu)
        self.config(menu = menubar)

    def mainMenu(self):
        configButton = Button(self.MainFrame, text = 'Device Configuration')
        configButton.place(x=200, y=150,anchor=CENTER)

        SCPIButton = Button(self.MainFrame, text = 'SCPI Command', command = self.SCPIMenu)
        SCPIButton.place(x=200, y=200,anchor=CENTER)

    def SCPIMenu(self):
        self.SCPIFrame = Frame(???, bd = '2', relief = RIDGE)
        self.SCPIFrame.pack(expand = True, fill="both", padx = 5, pady = 20)
        BackButton = Button(???, text = 'Back', command = self.mainMenu)
        BackButton.place(x=350, y=330, anchor=CENTER)

##The controller understands both the model and the view.
class Controller(object):
    def __init__(self):
        self.view = View()
        self.view.mainMenu()
        self.view.mainloop()

c = Controller() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-15T23:02:57.847

我建议您创建一个方法，在其中创建初始框架并在您的**init** (self) 中调用它。

这样，当您在按钮中调用 youe mainMenu 命令时，您的框架将重置为其原始设置

我只是重用了您的代码并在您的方法中重新粘贴了它，还没有尝试过，但是您应该能够做类似的事情

```
def mainMenu(self):

    self.MainFrame = Frame(self, bd = '2', relief = RIDGE)
    self.MainFrame.pack(expand = True, fill="both", padx = 5, pady = 20

    configButton = Button(self.MainFrame, text = 'Device Configuration')
    configButton.place(x=200, y=150,anchor=CENTER)

    SCPIButton = Button(self.MainFrame, text = 'SCPI Command', command =   self.SCPIMenu)
    SCPIButton.place(x=200, y=200,anchor=CENTER)
    self.MainFrame = Frame(self, bd = '2', relief = RIDGE)
    self.MainFrame.pack(expand = True, fill="both", padx = 5, pady = 20) 
```

# python - 在 Python 中将列表转换为元组

> ID：12836128
> 
> 赞同：636
> 
> 时间：2012-10-11T09:13:13.710
> 
> 标签：python, python-2.7, tuples

我正在尝试将列表转换为元组。

Google 上的大多数解决方案都提供以下代码：

```
l = [4,5,6]
tuple(l) 
```

但是，当我运行该代码时，它会导致一条错误消息：

> TypeError：“元组”对象不可调用

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：939
> 
> 时间：2012-10-11T09:15:17.950

它应该可以正常工作。不要使用`tuple`,`list`或其他特殊名称作为变量名。这可能是导致您的问题的原因。

```
>>> l = [4,5,6]
>>> tuple(l)
(4, 5, 6)

>>> tuple = 'whoops'   # Don't do this
>>> tuple(l)
TypeError: 'tuple' object is not callable 
```

* * *

## 回答 #2

> 赞同：117
> 
> 时间：2012-10-11T09:17:16.217

扩展 eumiro 的评论，通常`tuple(l)`会将列表`l`转换为元组：

```
In [1]: l = [4,5,6]

In [2]: tuple
Out[2]: <type 'tuple'>

In [3]: tuple(l)
Out[3]: (4, 5, 6) 
```

但是，如果您已重新定义`tuple`为元组而不是`type` `tuple`：

```
In [4]: tuple = tuple(l)

In [5]: tuple
Out[5]: (4, 5, 6) 
```

然后你得到一个 TypeError 因为元组本身是不可调用的：

```
In [6]: tuple(l)
TypeError: 'tuple' object is not callable 
```

您可以通过退出并重新启动解释器来恢复原始定义`tuple`，或者（感谢@glglgl）：

```
In [6]: del tuple

In [7]: tuple
Out[7]: <type 'tuple'> 
```

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2017-06-22T09:30:41.277

要添加另一种替代方法`tuple(l)`，从 Python >=开始`3.5`，您可以执行以下操作：

```
t = *l,  # or t = (*l,) 
```

简而言之，*速度*更快，但可能会受到可读性的影响。

这实际上将列表解压缩`l`在一个元组文字中，该文字是由于单个逗号的存在而创建的`,`。

* * *

Ps：您收到的错误是由于屏蔽了名称，`tuple`即您分配给某处的名称元组，例如`tuple = (1, 2, 3)`。

使用`del tuple`你应该很好。

* * *

## 回答 #4

> 赞同：30
> 
> 时间：2012-10-11T09:17:25.767

你可能做过这样的事情：

```
>>> tuple = 45, 34  # You used `tuple` as a variable here
>>> tuple
(45, 34)
>>> l = [4, 5, 6]
>>> tuple(l)   # Will try to invoke the variable `tuple` rather than tuple type.

Traceback (most recent call last):
  File "<pyshell#10>", line 1, in <module>
    tuple(l)
TypeError: 'tuple' object is not callable
>>>
>>> del tuple  # You can delete the object tuple created earlier to make it work
>>> tuple(l)
(4, 5, 6) 
```

这就是问题所在...由于您使用`tuple`变量来保存`tuple (45, 34)`较早的...所以，现在`tuple`是现在`object`的类型`tuple`...

它不再是 a `type`，因此不再是`Callable`。

`Never`使用任何内置类型作为变量名...您确实可以使用任何其他名称。改为为您的变量使用任意名称...

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-12-28T09:00:50.847

我找到了许多最新的答案并得到了正确的回答，但会在一堆答案中添加一些新的东西。

在python中有无数​​种方法可以做到这一点，这里有一些实例
正常方式

```
>>> l= [1,2,"stackoverflow","python"]
>>> l
[1, 2, 'stackoverflow', 'python']
>>> tup = tuple(l)
>>> type(tup)
<type 'tuple'>
>>> tup
(1, 2, 'stackoverflow', 'python') 
```

**聪明的方式**

```
>>>tuple(item for item in l)
(1, 2, 'stackoverflow', 'python') 
```

记住元组是不可变的，用于存储有价值的东西。例如，密码、密钥或哈希值存储在元组或字典中。如果需要刀，为什么要用刀切苹果。明智地使用它，它还将使您的程序高效。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2022-01-01T05:23:33.980

1.  您是否将名称“元组”指定为变量名？它应该可以正常工作。

> L 是一个列表，我们想将它转换为一个元组。

**L = [1, 2, 3]**

**元组（L）**

> 通过调用元组，您将列表 (L) 转换为元组。如上所述。

*>> (1, 2, 3)*

您可以继续使用方括号访问元组中的任何项目。 **L[0]**

> > 1

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2020-07-02T14:49:04.657

```
l1 = []   #Empty list is given

l1 = tuple(l1)   #Through the type casting method we can convert list into tuple

print(type(l1))   #Now this show class of tuple 
```

# ios - 使用 Instruments 命令行实用程序启动特定硬件版本的 iOS 模拟器

> ID：12836129
> 
> 赞同：25
> 
> 时间：2012-10-11T09:13:14.270
> 
> 标签：ios, ios-simulator, ios-ui-automation, xcode-instruments

我正在使用 Apple -> Xcode -> 仪器提供的 UIAutomation。我有我的 Javascript 和使用仪器命令行基础设施运行的整个自动化。

我在以前版本的模拟器（iOS 6.0、5.1、5.0、4.3.2）上运行自动化以提供更好的覆盖率。

但我不知道如何指定选择哪个版本的 iOS 模拟器。默认情况下，它总是选择最新的 iOS 模拟器。

我尝试了以下事情：

1.  指定模拟器所在的路径，包括模拟器的版本路径。
2.  制作自定义自动化模板跟踪并尝试使用它。
3.  使用 defaults write com.apple.simulator 实用程序更改了 iOS 模拟器的默认版本。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-05-07T12:32:56.263

由于 Xcode 5.1 Instruments 支持从命令行指定模拟器硬件类型和 iOS 版本。

```
instruments -w help 
```

上面的命令将为您提供有关可用硬件-iOS 组合的列表。在我的机器上是：

```
iPhone - Simulator - iOS 6.1
iPhone - Simulator - iOS 7.1
iPhone Retina (3.5-inch) - Simulator - iOS 6.1
iPhone Retina (3.5-inch) - Simulator - iOS 7.1
iPhone Retina (4-inch) - Simulator - iOS 6.1
iPhone Retina (4-inch) - Simulator - iOS 7.1
iPhone Retina (4-inch 64-bit) - Simulator - iOS 6.1
iPhone Retina (4-inch 64-bit) - Simulator - iOS 7.1
iPad - Simulator - iOS 6.1
iPad - Simulator - iOS 7.1
iPad Retina - Simulator - iOS 6.1
iPad Retina - Simulator - iOS 7.1
iPad Retina (64-bit) - Simulator - iOS 6.1
iPad Retina (64-bit) - Simulator - iOS 7.1 
```

您也可以使用 -w 标志指定硬件和 iOS 版本。例子：

```
instruments -w "iPad Retina - Simulator - iOS 7.1" -t ... 
```

请注意 -w 标志必须出现在命令行的开头，在任何其他标志之前，否则会出现奇怪的错误。

我在以下位置找到了这些信息： [http ://cocoamanifest.net/articles/2014/03/ui-screen-shooter-now-simpler-and-more-robust-since-xcode-5-1.html](http://cocoamanifest.net/articles/2014/03/ui-screen-shooter-now-simpler-and-more-robust-since-xcode-5-1.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-08T22:46:44.500

使用 Instruments 5.0（与 Xcode 5.0 相关）：

1.  单击窗口左上角“自动化”右侧的小“i”图标
2.  在“目标”下方，点击您的应用名称
3.  在弹出的菜单中，在弹出的窗口中选择“Edit Active Target”，
4.  单击“选项”菜单，然后在“模拟器配置”下选择要模拟的设备和 iOS 版本。

如果您没有看到特定的 iOS 版本，则需要在 Xcode 中添加该模拟器：

1.  Xcode 菜单，首选项...
2.  下载选项卡
3.  单击要安装的 iOS 模拟器版本旁边的向下箭头

PS：我创建了一些很棒的截图，但是 stackoverflow 不允许我发布它们。嘘。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-08T19:07:16.713

尝试过这样的事情？

```
xcrun instruments -v -t /Applications/Xcode.app/Contents/Applications/Instruments.app/Contents/PlugIns/AutomationInstrument.bundle/Contents/Resources/Automation.tracetemplate ~/Library/Application\ Support/iPhone\ Simulator/6.1/Applications/00C7521A-92D9-4627-BB1D-2CD7CA605B9B/Mobile\ EMR.app -e UIASCRIPT /Volumes/Data/SoftServe/Projects/mEMR/imHealth/Testing/testUI.js -e UIARESULTSPATH /Volumes/Data/SoftServe/Projects/mEMR/imHealth/Testing/results.txt 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-13T15:00:24.027

你试过 iOS-Sim [https://github.com/phonegap/ios-sim](https://github.com/phonegap/ios-sim)吗？从 cmd 使用模拟器时，这为您提供了一些额外的选项。版本就是其中之一。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-13T21:26:27.173

如果您可以在 UI 上选择它，您应该能够使用 applescript 实现相同的结果。这是如何在 applescript 上更改设备的示例：[https ://gist.github.com/Reflejo/9537281](https://gist.github.com/Reflejo/9537281)

# c# - 在绘制表格后，子控件不会自己重新绘制

> ID：12836131
> 
> 赞同：0
> 
> 时间：2012-10-11T09:13:17.487
> 
> 标签：c#, custom-controls, onpaint

我正在制作一个没有 FormBorderStyle 的自定义表单。在表单中，我有一个停靠在表单顶部的面板。面板右侧有一些按钮。

我为表单重写了 OnPaint 以为其绘制边框，当我调整表单大小时，面板上的按钮仍在其位置。我尝试使用 form.Invalidate() 但没有任何反应。

对不起，我不允许在这里张贴图片。

这是表单的代码

```
 protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);
        Rectangle borderRectangle = this.ClientRectangle;
        borderRectangle.Inflate(-1, -1);
        //ControlPaint.DrawBorder3D(e.Graphics, borderRectangle, Border3DStyle.RaisedOuter);
        ControlPaint.DrawVisualStyleBorder(e.Graphics, borderRectangle);
    }

    protected override void OnResize(EventArgs e)
    {   
        this.Invalidate(true);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:53:16.483

最后，我通过 OnClientSizeChanged 删除 OnResize 解决了这个问题 :)

```
protected override void OnClientSizeChanged(EventArgs e)
{
    this.Invalidate(true);
} 
```

# visual-studio-2010 - 我在 Visual Studio 2010 中的项目文件劫持了如何恢复它们

> ID：12836132
> 
> 赞同：0
> 
> 时间：2012-10-11T09:13:20.660
> 
> 标签：visual-studio-2010

一旦我从我的电脑的不同位置打开了同一个项目。然后`VS2010`抛出一些错误，比如 files got `hijacked`。那仍然存在。如何恢复`working project`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T06:17:21.683

最后我从这里得到了答案...... [http://www-01.ibm.com/support/docview.wss?uid=swg21299853](http://www-01.ibm.com/support/docview.wss?uid=swg21299853)

# python - pytest：将依赖注入与装饰器一起使用

> ID：12836134
> 
> 赞同：1
> 
> 时间：2012-10-11T09:13:27.627
> 
> 标签：python, dependency-injection, pytest

在工作中，我们在选定的测试函数上使用装饰器`@rollback`，它将回滚在该测试期间所做的任何数据库更改。

我最近开始在一些用例中使用 pytest 的依赖注入，包括 with`@pytest.mark.parametrize(...)`和`pytest_funcarg__XXX`hook。不幸的是，这与我们装饰的测试功能相冲突。

我怎样才能使这项工作？

我的第一个想法是使用自定义标记，说`@pytest.mark.rollback`并做类似的事情：

```
def rollback(meth):
    """Original rollback function"""
    ...

def pytest_runtest_setup(item):
    if not isinstance(item, pytest.Function):
        return
    if hasattr(item.obj, 'rollback'):
        item = rollback(item) 
```

这样的方法真的可行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:29:25.877

像这样的东西应该可以正常工作，是的。似乎您正在使用全局状态来管理您的数据库，对吧？您可能想查看即将发布的 2.3 版本的文档，该版本在此页面下方还有一个“交易”示例：

[http://pytest.org/dev/fixture.html](http://pytest.org/dev/fixture.html)

该版本现在可以随时发布，您可以使用“pip install -i [http://pypi.testrun.org](http://pypi.testrun.org) -U pytest”安装候选人。

# mysql - Rails AR：编写需要多个连接的范围的最有效方法

> ID：12836135
> 
> 赞同：0
> 
> 时间：2012-10-11T09:13:28.530
> 
> 标签：mysql, ruby-on-rails, performance

考虑以下

```
class Room < ActiveRecord::Base
  belongs_to :user
  has_many :authorisations, dependent: :destroy
  has_many :authorised_users, through: :authorisations, source: :user

  scope :without_privacy_restriction, where(public: true)
end

class User < ActiveRecord::Base
  has_many :rooms, dependent: :destroy
  has_many :accessible_rooms, through: :authorisations, source: :room
  has_many :authorisations
end 
```

用户可以是房间的所有者，也可以是其他用户房间的授权用户。最重要的是，用户可以被定义为管理员（用户表中的另一列代表这一点）并且无论如何都可以访问所有房间。

我希望能够编写一个有效的范围，将所有可访问的房间返回给给定的用户，但我无法确定实现这一目标的最有效方法是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:19:27.443

这实际上不是一个范围。

我会做两件事

```
class Room < ActiveRecord::Base

  class << self

    def accessible_by(user) # classmethods and scopes are interchangeable
      if user.admin?
        scoped # this returns "all" but not as an array, so you can chain
               # starting with rails4 you can use "all".
      else
        user.accessible_rooms
      end
    end

  end

end 
```

这是为了在用户是否为管理员时返回不同的范围。然后，为了让所有者处于相同的范围内，您可以通过为拥有的房间添加授权来非规范化“所有权”

```
class Room < ActiveRecord::Base

  after_create :authorise_owner

  def authorise_owner
    authorisations.create(user_id: owner_id)
  end

end 
```

所以你不需要做奇怪的连接。

# android - Webservice 在 android-ice cream sandwich(api 15) 中不起作用

> ID：12836136
> 
> 赞同：-1
> 
> 时间：2012-10-11T09:13:28.873
> 
> 标签：android, web-services, ksoap2

我正在尝试通过 KSOAP(2.5.8) 调用公共 Web 服务。但它无法从冰淇淋三明治版本的服务中获取数据。它在 2.2 和 2.3 等较低版本中运行良好。这是我的代码。

```
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.PropertyInfo;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapPrimitive;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;

import android.util.Log;

public class WebService {

private final String NAMESPACE ="http://aaaaaa.org/";   
private final String URL ="http://5xxxxxxxxxxx.asmx?WSDL";

    public boolean checkUser(String _EmailID, String _Password) {

        boolean result = false; 

        final String SOAP_ACTION ="http://aaaaaaaa/Login";
        final String METHOD_NAME = "Login";

              SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);

        PropertyInfo propertyInfoEmail = new PropertyInfo();
        propertyInfoEmail.setName("_EmailID");
        propertyInfoEmail.setValue(_EmailID);
        propertyInfoEmail.setType(String.class);
        request.addProperty(propertyInfoEmail);

        PropertyInfo propertyInfoPassword = new PropertyInfo();
        propertyInfoPassword.setName("_Password");
        propertyInfoPassword.setValue(_Password);
        propertyInfoPassword.setType(String.class);
        request.addProperty(propertyInfoPassword);

         SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
            envelope.dotNet = true; // put this only if the web service is .NET one
            envelope.setOutputSoapObject(request);
            HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

        try {
            androidHttpTransport.call(SOAP_ACTION, envelope);
            SoapPrimitive response = (SoapPrimitive)envelope.getResponse();
            Log.i("myApp", response.toString());
            if(response.toString().equalsIgnoreCase("true")){
                result = true;
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
        return result;
    } 
```

每次它在冰淇淋三明治中返回错误结果。它不会在错误日志中显示任何内容。我应该在这里改变什么。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T21:59:27.073

问题是 ICS 不允许您在活动中做一些网络工作。这意味着您必须将对 Web 服务的调用置于后台任务 (AsyncTask) 中。在此链接中，您可以看到该怎么做：[这里](http://android4ics.blogspot.com/2011/12/consuming-net-web-service-in-android-40.html)

# twitter-bootstrap - ember.js 中的引导工具提示

> ID：12836140
> 
> 赞同：4
> 
> 时间：2012-10-11T09:13:35.097
> 
> 标签：twitter-bootstrap, tooltip, ember.js

当我在一个简单的 html 文件中使用 Twitter Bootstrap Tooltip 时，我没有问题。但是当我尝试在我的 Ember 应用程序中做同样的事情时，出现了问题。我尝试在这里重现我的代码片段：

```
// Link in template
<a id="xyz" rel="tooltip" title="My tooltip">LINK</a>

// Ember View fragment
didInsertElement: function() {
    this.$("a#xyz).tooltip();
    this.$("a#xyz).click(function() {
        $(this).attr('data-original-title', 'Tooltip changed').tooltip('fixTitle');
    });        
} 
```

首先，tooltip的样式与单个HTML页面中的样式不一样（黑底白字）。它是一个更大的工具提示，右侧出现大字体。

其次，我无法在单击事件中尝试更改单击链接的工具提示文本。它抛出一个错误，提示“工具提示小部件实例没有这样的方法'fixTitle'”。但是该代码在没有 Ember 的情况下在我的单个 HTML 文件中完美运行。

有任何想法吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T16:10:43.117

终于解决了我的问题。这是图书馆之间的冲突。我使用 Bootstrap，但我也有 Jquery UI。这两个库都有一个工具提示组件。我从 JQuery UI 开始有一个自动完成组件。我已经将其丢弃并替换为 Bootstrap Typeahead。

# jsf - 数据表多个复选框选择 - 修改选择标题

> ID：12836147
> 
> 赞同：0
> 
> 时间：2012-10-11T09:13:47.940
> 
> 标签：jsf, primefaces

我有多个复选框选择的数据表（PF 3.3.1）。我已经定义了列：

```
<p:column selectionMode="multiple"/> 
```

我想在标题中添加一些文本或图标，并尝试使用`headerText`列属性和方面：

```
<f:facet name="header">
    <h:outputText value="Header text" />
</f:facet> 
```

但它不起作用。可以修改复选框选择列的标题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T11:33:21.933

如果您非常想要该功能并且不介意使用 jquery，您可以执行类似的操作

我在[primefaces shocase](http://www.primefaces.org/showcase/ui/datatableRowSelectionRadioCheckbox.jsf)上对其进行了测试，它可以工作（在控制台上运行这些命令）

```
$("<span class='someClass'>Hellow</span>").insertAfter($('#form\\:multiCars thead tr:eq(2) th').find('.ui-chkbox-box')) 
```

请注意，`#form\\:multiCars`应使用您的表 id 更改

并`tr:eq(2)`指表中的第三行，因为在展示中带有标题的行是第三行

要更改该选择列的宽度，您可以使用

```
$($('#form\\:multiCars thead tr:eq(2) th')[0]).css('width',100) 
```

我知道它丑陋的事实，但它有效:)

此外，您必须在表格的每次 ajax 渲染后运行此脚本

# php - 从 Facebook 页面删除 Facebook 图像。PHP SDK

> ID：12836157
> 
> 赞同：1
> 
> 时间：2012-10-11T09:14:20.847
> 
> 标签：php, facebook, sdk

我在尝试删除 PHP SDK 上传的照片时遇到问题，错误是：`Permissions error thrown in base_facebook.php on line 1237`

代码是：

```
$facebook->setAccessToken(USERACCESSTOKEN);
$facebook->api("/PHOTOID?access_token=PAGEACCESSTOKEN","DELETE"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:24:28.537

Facebook 不允许通过第三方应用删除照片。它是一个安全限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:28:55.273

根据[Facebook API 文档](http://developers.facebook.com/docs/reference/api/user/#photos)，您可以删除从您的应用发布的照片

> 通过使用用户访问令牌或应用程序访问令牌向 PROFILE_ID/photos 发出 HTTP DELETE 请求。

# maven-2 - 从 Maven 中的 jar 中排除 SVN 文件

> ID：12836160
> 
> 赞同：0
> 
> 时间：2012-10-11T09:14:25.453
> 
> 标签：maven-2

在我的项目中，当我通过标准构建它时：

```
mvn clean package 
```

检查生成的 jar 文件时，我可以看到特定于 subversion 的文件。如果我解压缩 jar，内容如下所示：

```
myApp.jar
 |- _svn     <- subversion files
 |- com      <- my classes
 |- META-INF 
 |- some.xml <- some configuration
 ... 
```

我想`_svn`从我生成的所有 jar 中排除该文件夹。有小费吗？

谢谢

# ruby-on-rails - 创建数据库时出错

> ID：12836161
> 
> 赞同：0
> 
> 时间：2012-10-11T09:14:25.800
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1

我正在尝试使用 rake db:create 创建数据库，但出现以下错误

```
** Invoke db:create (first_time)

** Invoke db:load_config (first_time)

** Invoke rails_env (first_time)

** Execute rails_env

** Execute db:load_config

** Execute db:create

rake aborted!

undefined method `[]' for false:FalseClass

/usr/lib/ruby/gems/1.9.1/gems/activerecord-3.0.10/lib/active_record/railties
/databases.rake:32:in `block (2 levels) in <top (required)>'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'

/usr/lib/ruby/1.9.1/monitor.rb:201:in `mon_synchronize'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block (2 levels) in top_level'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block in top_level'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `block in run'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'

/usr/lib/ruby/gems/1.9.1/gems/rake-0.9.2.2/bin/rake:33:in `<top (required)>'

/usr/bin/rake:23:in `load'

/usr/bin/rake:23:in `<main>'
Tasks: TOP => db:create 
```

我检查了我的 database.yml 文件，它是空的。我是 JRuby 的新手。我在我的项目中使用以下 gems 列表，它表明有两个数据库，一个是 pg，另一个是 sqlite，它们与 ActiveRecord-JDBC 适配器一起使用。我的 gem 文件如下所示：

```
gem 'rails', '~>3.0.10'
gem 'builder', '~> 2.1.2'    
gem 'exception_notification', '~> 2.5.2'
gem 'rubyzip', :require => 'zip/zip'
gem 'haml', '3.1.3'                  #, :git => 'git://github.com/nex3/haml.git'
gem 'sass', '3.1.7'                  #, :git => 'git://github.com/nex3/haml.git'
gem 'compass', '0.11.5'              #, :git => 'git://github.com/chriseppstein/compass.git'
gem 'formtastic', '2.0.0.rc4'        #, :git => 'git://github.com/justinfrench/formtastic.git'
gem 'inherited_resources', '1.3.0   ' #, :git => 'git://github.com/josevalim/inherited_resources.git'
gem 'simple-navigation', '3.5.0'     #, :git => 'git://github.com/andi/simple-navigation.git'
gem 'tabs_on_rails', '2.0.2'         #, :git => 'git://github.com/weppos/tabs_on_rails.git'
gem 'dynamic_form', '1.1.4'          #, :git => 'git://github.com/rails/dynamic_form.git'
gem 'show_for', '0.2.4'
gem 'liquid', '2.3.0'
gem 'crack'
gem 'jquery-rails', '1.0.14'
gem 'jrails', '0.6.0'
gem 'sprockets', '1.0.2'
gem 'hominid', '3.0.4'
platforms :jruby do
  gem 'ActiveRecord-JDBC', '0.5'
  gem 'activerecord-jdbcpostgresql-adapter', '1.2.0'
  gem 'activerecord-jdbcsqlite3-adapter', '1.2.0'
end
platforms :ruby do
  gem 'pg', '0.13.2'
  gem 'sqlite3', '1.3.4'
end
gem 'silent-postgres', '0.1.1'
gem 'automatic_foreign_key', '1.3.0'
gem 'friendly_id', '~> 4.0.3'
gem 'rack-ssl', :require => 'rack/ssl'
# paginators
gem 'kaminari', '~> 0.12.4'
gem 'aasm', '~> 3.0.6'
gem "meta_search", '1.0.6' #, :git => 'git://github.com/ernie/meta_search.git'
gem 'devise', '1.5.3'      #, :git => 'git://github.com/plataformatec/devise.git'
gem 'cancan', '1.6.5'      #, :git => 'git://github.com/plataformatec/devise.git'
gem 'nokogiri',              '1.5.0'
gem 'hpricot', '0.8.4'
gem 'jruby-rack', '1.0.10', :platforms => :jruby
gem 'rack', '1.2.3'
gem 'rack-html5', '1.0.2'
gem 'rack-html5-rails_helper', '1.0.1'
gem 'html5-boilerplate', '1.0.0'
gem 'rmagick', '2.13.1', :platforms => :ruby
gem 'rmagick4j', '0.3.7', :platforms => :jruby
gem 'jruby-openssl', '0.7.4', :platforms => :jruby
gem 'ruby_parser', '2.0.6'
gem 'delayed_job', '2.1.4', :platforms => :ruby
gem 'resque', '1.19.0', :platforms => :jruby
gem 'clockwork', '0.2.4'
gem 'stalker', '0.9.0'
gem 'meta-tags', '1.2.4', :require => 'meta_tags'
gem 'carrierwave', '0.5.7'
gem 'mini_magick', '3.3'
gem 'activemerchant', '~> 1.22.0'
gem 'xeroizer', '~> 0.4.1'
gem 'quickeebooks', :git => 'git://github.com/ruckus/quickeebooks.git'

gem 'bson_ext'
gem 'mongo_mapper'

group :development do
  gem 'capistrano', '2.9.0'
  gem 'capistrano-ext'
  gem 'rvm-capistrano', '~> 1.0.2'
  gem 'awesome_print', '0.4.0'
end

gem 'backup', '=3.0.22' # :git => 'git://github.com/meskyanichi/backup.git'
gem 'whenever', :require => false
gem 'roo', '1.9.7'
gem 'ffaker', '1.8.1'
gem 'ckeditor', '3.6.3'
gem 'rake', '0.9.2.2'
gem 'ssl_requirement', '0.1.0'
gem 'unicorn', '4.1.1' 
```

有任何想法吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:28:11.350

您是否有意使用旧的 activerecord 版本？（3.0）？为什么你的 database.yml 是空的，你可以尝试用正确的值填充它:)

# java - 如何通过java将参数传递给shell命令？

> ID：12836166
> 
> 赞同：1
> 
> 时间：2012-10-11T09:14:41.943
> 
> 标签：java, shell, unix, exec

我对这种 java 与 Unix 的集成是新手。

我想做的是

```
 String command="passwd";
    Runtime rt=Runtime.getRuntime();
    try {
        Process pc=rt.exec(command);
        try {
            pc.waitFor();
        } catch (InterruptedException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        BufferedReader buf = new BufferedReader(new InputStreamReader(pc.getInputStream()));

        String line = "";

        while ((line=buf.readLine())!=null) {

        System.out.println(line);

        }
        BufferedReader buf1 = new BufferedReader(new InputStreamReader(pc.getErrorStream()));

        String line1 = "";
        while ((line1=buf1.readLine())!=null) {

            System.out.println("Error--"+line1);

            }
    } catch (IOException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
        System.out.println("IOException---"+e1.getMessage());
    } 
```

现在，当我试图传递“passwd”命令时，Unix 环境进入挂起模式。

我想知道如何使用 java 代码将旧密码、新密码和确认新密码传递给 shell。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:17:01.740

您需要使用令人困惑的名为[Process.getOutputStream()](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Process.html#getOutputStream%28%29)来传递它。从文档：

> 获取子流程的输出流。流的输出通过管道传输到此 Process 对象表示的进程的标准输入流中

请注意，您需要同时捕获进程 stdout/err*以*避免阻塞。有关更多详细信息，请参阅[此答案](https://stackoverflow.com/a/882795/12960)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:28:39.170

有一个名为**expect**的实用程序。如果你安装了你可以为任何事情传递参数。所以构造为字符串由String ConstructedCommand执行；进程 p=Runtime.getRuntime().exec(ConstructedCommand);

此链接将值得您的需要。[http://linux.die.net/man/1/expect](http://linux.die.net/man/1/expect)

# c++ - 内联函数和静态内联函数之间的区别

> ID：12836171
> 
> 赞同：31
> 
> 时间：2012-10-11T09:15:14.927
> 
> 标签：c++, static, compiler-errors, solaris, inline

谁能告诉我内联函数和静态内联函数有什么区别？

在哪些情况下我应该更喜欢静态内联而不是内联？

我问这个问题是因为我有一个内联函数，在链接（`relocation error:... symbol has been discarded with discarded section ...`）期间我面临编译问题。我把它变成了一个正常的功能，它起作用了。现在我的一些前辈告诉我尝试使用静态内联。以下是我的功能：

```
inline void wizSendNotifier (const char* nn_name, bpDU* arg=0, int aspect = -1)
{
   wizuiNotifier* notifier = ::wizNtrKit.getNotifier (nn_name);
   notifier->notify (arg, aspect);
} 
```

这不在课堂上。这是在头文件中！

我猜对静态函数的调用应该只在定义它的特定 TU 中完成。

由于我的函数位于头文件中，并且如果我将其设为静态，是否会出现在我包含该头文件的情况下，静态函数可以在该翻译单元中使用？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-10-11T09:27:43.910

非静态`inline`函数声明是指每个使用它的翻译单元（源文件）中的相同函数。

单一定义规则要求函数定义的主体在包含它的每个 TU 中都是相同的，“相同”的定义较长。如果源文件都使用相同的头文件，并且函数不使用任何具有内部链接的全局名称（包括`static`函数）或任何在不同 TU 中定义不同的宏，则通常可以满足此要求。

我不记得以前遇到过那个特定的链接器错误，但至少这些限制之一可能是负责任的。满足要求是您的责任：如果您不这样做，则不需要诊断的未定义行为。

函数声明指的`static inline`是每个翻译单元中的不同函数，恰好具有相同的名称。它可以使用`static`在不同 TU 中不同的全局名称或宏，在这种情况下，函数在不同 TU 中的行为可能不同，即使它在头文件中的定义“看起来相同”。

由于这种差异，如果函数包含任何`static`局部变量，那么它的行为会根据它是否存在而有所不同`static`。如果是，`static`那么每个 TU 都有自己的函数版本，因此也有自己的`static`局部变量副本。如果是`inline`唯一的，那么`static`所有 TU 使用的局部变量只有一个副本。

# iphone - 通用 UIViewController

> ID：12836179
> 
> 赞同：0
> 
> 时间：2012-10-11T09:15:30.400
> 
> 标签：iphone, ios, ipad, uiviewcontroller, ios-universal-app

请帮助我，我从来没有用 xib 为 iPhone/iPad 制作通用 UIViewControllers。如何使用 .m 和 .h 文件以及 _iphone.xib 和 _ipad.xib 创建类？

我试图手动创建 xib 并为视图创建出口，但在推动这个控制器后，我遇到了未捕获的错误：

> ***由于未捕获的异常“NSInternalInconsistencyException”而终止应用程序，原因：“-[UIViewController _loadViewFromNibNamed:bundle:] 加载了“FullNewsViewController”笔尖，但未设置视图出口。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:23:16.597

从您发布的错误中我可以看出，问题是您没有正确设置 NIB 的所有者属性。

您的 nib 文件似乎没有正确的文件所有者，因此无法在视图控制器上设置视图。

打开笔尖，然后转到`File's Owner`屏幕的左侧。将 Custom Class 属性设置为 viewController 的类。再次右键单击`File's Owner`并将视图属性拖到您的视图中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:20:05.063

你应该遵循 Apple iOS App Programming Guide

[创建通用应用程序](http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/AdvancedAppTricks/AdvancedAppTricks.html)

在这里，您将获得一些技巧，如何创建通用应用程序。

希望这会帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:22:38.343

查看此链接可能会对您有所帮助...

[http://elusiveapps.com/blog/2011/10/converting-iphone-apps-to-univeral-ipad/](http://elusiveapps.com/blog/2011/10/converting-iphone-apps-to-univeral-ipad/)

如果视图控制器可以很容易地用于两者....

```
MyViewController.h
MyViewController.m
MyViewController~ipad.xib
MyViewController~iphone.xib 
```

将两个 xib 文件中的 File's Owner 设置为您的 UIViewController 子类，并连接视图+您想要连接的任何其他内容。

当我初始化我的视图控制器时，这就是所需要的

```
MyViewController *viewController = [[MyViewController alloc] init];
// OR
MyViewController *viewController = [[MyViewController alloc] initWithNibName:nil bundle:nil]; 
```

[UIViewController 的 Apple 文档指出](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIViewController_Class/Reference/Reference.html)，如果您提供与视图控制器同名的 xib，它将被加载。~ipad 和 ~iphone 确保加载了正确的 xib。

# bash - 将参数传递给 bash 脚本

> ID：12836182
> 
> 赞同：1
> 
> 时间：2012-10-11T09:15:46.290
> 
> 标签：bash, shell

```
linux 3.5.6-1.fc17.x86_64
GNU bash, version 4.2.37 
```

你好，

我有以下 bash 脚本文件。我用来测试我的程序。但是，我希望能够使用和不使用 valgrind 进行测试。因此，我从命令行“valgrind”获取参数并在 if 语句中进行比较。但是，随着时间的推移，我的测试用例会变得越来越大，我将不得不在 if-else 中重复很多代码。有没有办法最小化这种if-else？

非常感谢您的任何建议，

```
#!/bin/bash

# Abort on error
set -e

echo $1

if [ "$1" == "valgrind" ]; then
    echo "TEST STARTED RUNNING WITH VALGRIND"
    echo "TEST CREATE DATABASE"
    valgrind ./db db.dat c
    echo "TEST CREATE DATABASE OK"

    echo "TEST INSERT"
    valgrind ./db db.dat s 1 steve steve@mail.com
    valgrind ./db db.dat s 2 ben ben@live.com
    valgrind ./db db.dat s 3 lisa lisalow@mailcity.com
    echo "TEST INSERT OK"

    echo "TEST LIST"
    valgrind ./db db.dat l
    echo "TEST LIST OK"

    echo "TEST DELETE"
    valgrind ./db db.dat d 2
    echo "TEST DELETE OK"

    echo "TEST LIST"
    valgrind ./db db.dat l
    echo "TEST LIST OK"

    echo "TEST FETCH"
    valgrind ./db db.dat g 2
    valgrind ./db db.dat g 3
    echo "TEST FETCH OK"

    echo "TEST COMPLETED OK"
else
    echo "TEST STARTED"
    echo "TEST CREATE DATABASE"
    ./db db.dat c
    echo "TEST CREATE DATABASE OK"

    echo "TEST INSERT"
    ./db db.dat s 1 steve steve@mail.com
    ./db db.dat s 2 ben ben@live.com
    ./db db.dat s 3 lisa lisalow@mailcity.com
    echo "TEST INSERT OK"

    echo "TEST LIST"
    ./db db.dat l
    echo "TEST LIST OK"

    echo "TEST DELETE"
    ./db db.dat d 2
    echo "TEST DELETE OK"

    echo "TEST LIST"
    ./db db.dat l
    echo "TEST LIST OK"

    echo "TEST FETCH"
    ./db db.dat g 2
    ./db db.dat g 3
    echo "TEST FETCH OK"

    echo "TEST COMPLETED OK"
fi 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:19:26.370

我会这样做

```
VALGRIND=""
if [ "$1" == "valgrind" ]
then
  VALGRIND="valgrind"
fi

echo "TEST STARTED"
echo "TEST CREATE DATABASE"
$VALGRIND ./db db.dat c
echo "TEST CREATE DATABASE OK"
... 
```

# delphi - DBGrid 编辑的例外情况

> ID：12836188
> 
> 赞同：2
> 
> 时间：2012-10-11T09:15:54.637
> 
> 标签：delphi, delphi-5

我已经实现了一个可编辑的 DBGrid。如果未正确填写字段，则会引发异常并显示消息，例如：

```
'08:00::00' is not a valid time 
```

如何捕获这些异常，以便显示我编写的消息而不是自动生成的消息？如果有任何帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T14:39:31.320

正如@teran 在他的评论中指出的那样，异常是由`TDataSet`绑定到 的（或其组件之一）`TDBGrid`或数据库引擎本身引发的。

您可以尝试处理`TDataSet.OnPostError`（另见`OnUpdateError`和`OnEditError`）：

> *TDataSet.OnPostError：*当应用程序尝试修改或插入记录并引发异常时发生。编写一个 OnPostError 事件处理程序来处理尝试发布记录失败时发生的异常。

请注意，您始终可以使用`Application.OnException`全局事件处理程序来捕获应用程序中的任何 EDBxxx 异常。

* * *

**编辑：**在任何实际数据修改或字段的任何 Post 操作**之前**`EConvertError`引发异常，即： **`TDateTimeField`**

 **```
0045af91 +085 Project1.exe SysUtils       StrToDateTime <- EConvertError
004ab76a +042 Project1.exe Db             TDateTimeField.SetAsString
004a9827 +007 Project1.exe Db             TField.SetText
004a95d9 +029 Project1.exe Db             TField.SetEditText
004d6448 +014 Project1.exe DBGrids        TCustomDBGrid.UpdateData
004d087f +02b Project1.exe DBGrids        TGridDataLink.UpdateData
004d599a +01a Project1.exe DBGrids        TCustomDBGrid.MoveCol 
```

`StrToDateTime`在里面抛出异常`TDateTimeField.SetAsString`，不接触数据，`TDataSet.OnxxxError`事件处理程序根本不会被触发。

所以你的选择是（在**发布**模式下测试应用程序）：

`EConvertError`1.通过拦截和处理`Application.OnException`。
2.`TField.EditMask`用于将用户输入限制为有效的时间格式，例如`!90:00;1;_` ，或在您的 Grid 中使用就地[DateTimePicker 编辑器](http://delphi.about.com/od/usedbvcl/l/aa121503a.htm)。（并避免捕获此异常）。
3.Override `TDateTimeField`：使用持久字段`TDataSet`并创建一个 inter-poser 类，如下所示：

```
type
  TDateTimeField = class(Db.TDateTimeField)
  protected
    procedure SetAsString(const Value: string); override;
  end;

  TForm1 = class(TForm)
  ...

procedure TDateTimeField.SetAsString(const Value: string);
begin
  try
    inherited SetAsString(Value);
  except
    on E: EConvertError do
    begin
      ShowMessage(E.Message);
      Abort;
    end;
  end;
end; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T13:37:04.760

如果引发异常，则在调试器中运行时应该显示两条错误消息。其中一个将被调试器捕获，第二个由 UI 处理（当以用户身份运行程序时，您只会看到第二个）。

异常错误消息应该包含一个字符串，如

> Appname.exe 引发异常 EExceptionName 并带有消息 XXX

您需要注意 EExceptionName。

围绕创建异常的代码块，您需要编写

```
...
try
   code that can cause the exception here  
except 
  on e: EExceptionName do
  begin
    ShowMessage('Your apps nicer error message here');
  end;
end; 
```

注意 - 如果您不拨打退出电话；处理异常后，您的代码将在您的 try..except 块之后继续执行所有内容。此外，如果在同一个代码块中有很多事情会导致相同的错误消息，那么您可能无法编写任何过于具体的内容。e.Message 是一个字符串，它保存在未处理的异常中显示的消息，并且可能对呈现给用户也很有用。

还要尝试远离 BDE - 现代系统对 ADO 的支持要好得多。**

# python - 在python中随机生成具有不同元素的3元组

> ID：12836191
> 
> 赞同：0
> 
> 时间：2012-10-11T09:15:58.967
> 
> 标签：python, random-sample

我正在尝试`(x,y,z)`在 python 中生成 3 元组，这样没有两个`x`，`y`或者`z`具有相同的值。`x`此外，变量`y`和`z`可以在单独的范围内`(0,p)`定义`(0,q)`和`(0,r)`。我希望能够生成`n`这样的元组。一种明显的方法是调用`random.random()`每个变量并检查每次是否`x=y=z`. 有没有更有效的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:45:14.197

您可以编写生成所需元素的生成器，例如：

```
def product_no_repeats(*args):
    for p in itertools.product(*args):
        if len(set(p)) == len(p):
            yield p 
```

并对其应用[水库采样](http://en.wikipedia.org/wiki/Reservoir_sampling)：

```
def reservoir(it, k):
    ls = [next(it) for _ in range(k)]
    for i, x in enumerate(it, k + 1):
        j = random.randint(0, i)
        if j < k:
            ls[j] = x
    return ls

xs = range(0, 3)
ys = range(0, 4)
zs = range(0, 5)

size = 4

print reservoir(product_no_repeats(xs, ys, zs), size) 
```

# sqlalchemy - 如何删除已应用于查询对象的 .limit()

> ID：12836194
> 
> 赞同：10
> 
> 时间：2012-10-11T09:16:21.177
> 
> 标签：sqlalchemy

**问题：如何删除已应用于查询对象的 .limit() 。**

我有一个已经应用 .limit(N) 的查询。然后我想从查询中删除限制，以应用 .order_by。Order by 必须在任何限制或抵消之前应用。

失败的例子：

```
query = session.query(Object).limit(10)
query = query.order_by(Object.field) 
```

我试着做：

```
query = session.query(Object).limit(10)
query = query.limit(None) # or False
query = query.order_by(Object.field) 
```

但这不起作用。

我想要这个的原因是，这个限制实际上发生在另一个地方，作为一个合理的默认限制。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-11T21:58:35.907

`limit(None)`将取消限制。如果这不起作用，您可能使用的是 SQLAlchemy 的超旧版本，我一直测试到 0.6.8：

```
from sqlalchemy import Column, Integer
from sqlalchemy.orm import Session
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class A(Base):
    __tablename__ = "a"

    id = Column(Integer, primary_key=True)

s = Session()

q = s.query(A).limit(5)

q = q.limit(None).order_by(A.id)

print q 
```

# sql-server - 如何删除外键约束

> ID：12836195
> 
> 赞同：0
> 
> 时间：2012-10-11T09:16:33.563
> 
> 标签：sql-server, tsql

我想从表中删除外键约束，但不确定是哪个表。我只有这个信息。请检查屏幕截图 ![在此处输入图像描述](../Images/ee49ff597bd61b4ff356843d01a85fff.png)

我想删除一个表，但由于某些 FK 限制，它不允许我删除。我要删除的表是“ZIP_Codes”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:22:30.780

此查询将给出外键名称和引用表名称

```
SELECT CAST(F.NAME AS VARCHAR(255)) AS FOREIGN_KEY_NAME
, CAST(P.NAME AS VARCHAR(255)) AS PARENT_TABLE
FROM SYSOBJECTS F
INNER JOIN SYSREFERENCES R ON F.ID = R.CONSTID
INNER JOIN SYSOBJECTS P ON R.RKEYID = P.ID
INNER JOIN SYSCOLUMNS RC ON R.RKEYID = RC.ID AND R.RKEY1 = RC.COLID
WHERE F.TYPE = 'F' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:41:20.090

试试这个：

```
DECLARE @parent_object_id int;
DECLARE @TableName varchar(255);
SET @parent_object_id = 1234103437;

SELECT  @TableName = OBJECT_NAME(object_id)
FROM sys.objects
Where object_id = @parent_object_id;

ALTER TABLE [TableName] DROP CONSTRAINT [ForeignKeyName] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:51:23.537

如果您使用的是 SQL Server Management Studio，

右键单击您的表并单击`View Dependencies`以了解依赖于您的表的所有对象.. 您还可以通过选择相应的选项按钮查看您的表所依赖的对象..

在你做之前最好知道你正在丢弃哪些对象以及它们有什么意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T14:55:50.817

要查找具有指向 Zip_Codes 表的外键的所有表：

```
select object_schema_name([parent_object_id]), object_name([parent_object_id]), [name]
from sys.foreign_keys
where referenced_object_id = object_id('ZIP_Codes') 
```

# interface - 显式地新建一个密封的方法

> ID：12836199
> 
> 赞同：0
> 
> 时间：2012-10-11T09:16:53.420
> 
> 标签：interface, c++-cli, overriding, virtual, sealed

假设我有这个代码：

```
interface class IFoo
{
public:
   void foo();
};

ref class FooBase : public IFoo
{
public:
   virtual void foo() sealed = IFoo::foo
   {
   }
}; 
```

我需要在派生类中定义一个新的显式 foo()，它会覆盖基类中的密封方法。我怎么做？我尝试了很多东西，但都没有编译。

```
ref class FooDerived : public FooBase
{
public:
   virtual void foo() 
   {
   }
}; 
```

结果是

```
error C4485: 'FooDerived::foo' : matches base ref class method 'FooBase::foo', but is not marked 'new' or 'override'; 'new' (and 'virtual') is assumed
1>        .\Dlg.cpp(22) : see declaration of 'FooBase::foo'
1>        Specify 'override' (and 'virtual') to override the ref class virtual method
1>        Specify 'new' (and 'virtual') to hide the ref class virtual method with a new virtual method
1>        Position for 'new' and 'override' keywords is after method parameter list 
```

但是如果我添加新的

```
ref class FooDerived : public FooBase
{
public:
   virtual void foo() new
   {
   }
}; 
```

我明白了

```
Dlg.cpp(30) : error C2059: syntax error : 'string' 
Dlg.cpp(31) : error C2091: function returns function 
```

还

```
ref class FooDerived : public FooBase
{
public:
   virtual void foo() new = FooBase::foo
   {
   }
}; 
```

结果是

```
1>.\Dlg.cpp(30) : error C2059: syntax error : 'string'
1>.\Dlg.cpp(30) : error C2091: function returns function
1>.\Dlg.cpp(31) : warning C4569: 'FooBase::foo' : no members match the signature of the explicit override
1>.\Dlg.cpp(31) : error C3671: 'FooDerived::foo' : function does not override 'FooBase::foo' 
```

和

```
ref class FooDerived : public FooBase, public IFoo
{
public:
   virtual void foo() new = IFoo::foo
   {
   }
}; 
```

生成

```
1>.\Dlg.cpp(30) : error C2059: syntax error : 'string'
1>.\Dlg.cpp(30) : error C2091: function returns function
1>.\Dlg.cpp(31) : warning C4569: 'IFoo::foo' : no members match the signature of the explicit override
1>.\Dlg.cpp(31) : error C3671: 'FooDerived::foo' : function does not override 'IFoo::foo' 
```

我想要做的是覆盖[HwndSource.System.Windows.Interop.IKeyboardInputSink.TabInto](http://msdn.microsoft.com/en-us/library/system.windows.interop.hwndsource.system.windows.interop.ikeyboardinputsink.tabinto%28v=vs.85%29.aspx)。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T20:13:24.453

看起来我已经接近答案了，那就是

```
ref class FooDerived : public FooBase
{
public:
   virtual void foo() new = IFoo::foo
   {
   }
}; 
```

请注意，如果您使用 MFC 项目，则 DEBUG_NEW 正在重新定义新的，因此您会收到关于“字符串”的奇怪语法错误。您必须在使用此类派生类的 cpp 文件中注释 DEBUG_NEW 宏。

# asp.net-mvc - LINQ 中 DATETIME 的日期部分

> ID：12836202
> 
> 赞同：2
> 
> 时间：2012-10-11T09:17:08.873
> 
> 标签：asp.net-mvc, linq

```
(from sms in db.sms
                where sms.NeedModeration == true && sms.ReplyStatus == "test" && **sms.date.Value == date**
                select new 
                 {
                     SMSID = sms.SmsID,
                     Body = sms.body,
                     Date=sms.date,
                     ReplyStatus = sms.ReplyStatus
                 }).AsEnumerable().Select(x=>new VMSMS{
                     SMSID=x.SMSID,
                     Body=x.Body,
                     Date= x.Date.Value,
                     ReplyStatus = x.ReplyStatus
                 }) 
```

给定的代码可以正常工作，但是在哪里我只想匹配 DATETIME 类型的日期部分，例如

```
 sms.date.Value.Date == date.Date 
```

但它不能正常工作它向我显示以下错误

```
The specified type member 'Date' is not supported in LINQ to Entities. Only initializers, entity members, and entity navigation properties are supported. 
```

那么你能告诉我如何从**LINQ 中**的 DateTime类型中**提取 Date 部分**吗？

 **这是短信 ViewModel 代码....

```
public class VMSMS
{
    public long SMSID { get; set; }
    public string SMS { get; set; }
    public int? SPOID { get; set; }
    public string Body { get; set; }
    public string EmployeeName { get; set; }
    [IgnoreDataMember]
    public DateTime Date { get; set; }        
    public bool? IsRead { get; set; }
    public string DoctorCode { get; set; }
    public string ReplyStatus { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T05:51:18.973

感谢大家的帮助。最后我得到了答案，应该这样做

```
EntityFunctions.TruncateTime(sms.date.Value) == EntityFunctions.TruncateTime(date) 
```

它将从日期时间截断时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T11:54:38.050

因为您在 Date 属性上有 IgnoreDataMember，所以它不会映射到您的模型中。

因此，完成投影后，您的比较需要在 Linq-to-Object 级别进行。**

# reporting-services - Tablix：添加新子列组时的空白单元格

> ID：12836205
> 
> 赞同：1
> 
> 时间：2012-10-11T09:17:13.083
> 
> 标签：reporting-services, ssrs-tablix

我有一个包含以下字段的数据集：

*   采样时间
*   价值
*   测量类型
*   线
*   标题
*   聚合ON

我创建了一个带有行组的 tablix，`SampleHour`我希望有两个相邻的列组，每个列组具有相同的分组层次结构，如下所示（从父级到子级）：

```
AggregationON > Line > Header > MeasureType 
```

好吧，当我定义第一个列分组结构时，一切正常：我在 上添加一个父列组`AggregationON`，然后在`Line`指向该`AggregationON`组的时候添加一个子组，依此类推。

然后我尝试创建第二个列分组结构，并按如下方式进行：我指向`AggregationON`第一个列组并选择“*添加组->相邻右侧*”并指定`AggregationON`为“*分组*依据”参数。新创建的列组标题与预期 `AggregationON`的前一个标题显示在同一行上。`AggregationON`

然后我指向新创建的`AggregationON`并选择“*添加组->子组*”并`Line`在“*分组*依据”参数中设置：这次`Line`组标题导致 tablix 添加新行。在新创建的标题左侧出现一个无法删除的空白新行。

如果我继续创建子组来构建整个列组结构，每个新列子组将在左侧添加一个空白行。这会导致无法接受的表格标题，其中包含文本和空白单元格，如所附屏幕截图所示。有什么建议吗？

（创建两个具有相同结构的列组是由于需要在两个分组中过滤掉不同的结果）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:27:51.807

创建第二个列组时，请使用底部窗格中的“列组”部分。单击第一个父组上的箭头并选择`Add Group -> Adjacent After`。

然后正常添加子组，你会得到这样的结果：

![在此处输入图像描述](../Images/ac12c78124e99e5f395fca2820522823.png)

现在您所要做的就是将 Child1 和 Child2 移动到下面的行，然后删除选择该选项的 2 个新行`Delete rows only`，您将拥有两个并排的组。

* * *

解决此问题的其他方法是只有一个组（因为在您的情况下，分组规则是相同的）只需创建一个父组，该组根据您要应用的过滤器进行分组：

```
Group on: =IIf(<filter expression>, "Group1", "Group2") 
```

这可能更难，因为如果您对每个组有不同的规则，您必须将它们放在这个新父组下的每个文本框中。但至少它应该得到你想要的结果。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-12-10T10:52:52.523

我有一个类似的问题。对我有用的是使用“合并单元格”

```
Group1....................Group2......................Group3

Group1a.....................................................

.........................Group2a............................

.....................................................Group3a 
```

在上面的示例中，Group1a 与下方的空白单元格合并，Group2a 与上方和下方的空白合并，Group3a 与上方的空白单元格合并。然后只需调整行的大小。

# talend - 有没有人通过 SSL 成功使用 Talend MDM 社区版？

> ID：12836208
> 
> 赞同：0
> 
> 时间：2012-10-11T09:17:21.023
> 
> 标签：talend

我们已经设法让 talend MDM UI 通过 SSL 正常工作，但我们还没有设法让 MDM 工作室通过 SSL 与 MDM 服务器对话。有没有人管理过这个？我也没有尝试过 SSL 上的数据集成输入步骤。

我试过论坛 - 不高兴。

我怀疑出于某种原因这是不可能的——我怀疑这是因为当您在 TOS 中添加 MDM 服务器时，它会提示输入端口、主机名、用户名和密码。它没有提示输入协议。

假设EE版本肯定支持这一点？但是我们有一个非常简单的模型，不会像 OTT 那样使用 EE。

谢谢！担

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T17:54:10.727

所以事实证明这是一个错误/未实现的功能，并且已经在 5.3.0 中修复，幸运的是！

[https://jira.talendforge.org/browse/TMDM-4912](https://jira.talendforge.org/browse/TMDM-4912)

# django-models - Django：我的自定义用户模型中的“用户名”错误 - “用户配置文件”对象没有属性“用户名”

> ID：12836209
> 
> 赞同：3
> 
> 时间：2012-10-11T09:17:22.213
> 
> 标签：django-models, django-admin, django-users

我是 Django 新手，在创建自定义用户模型时遇到了一些问题。我遵循了 django 文档中的每一个步骤。这是我的模型：

```
 class UserProfile(models.Model):
user = models.OneToOneField(User)
comment = models.BooleanField()
score = models.IntegerField(null=True)
profilpic = models.ImageField(upload_to="/profilepics")
bio = models.CharField(max_length=140) 
```

然后我用 django-registration 创建了几个用户。但是当我转到管理员并尝试删除我创建的用户时，或者当我尝试单击用户名时，我收到此错误：

```
AttributeError at /admin/auth/user/3/
'UserProfile' object has no attribute 'username'
Exception Value:    
'UserProfile' object has no attribute 'username'
Exception Location: /Users/marc-antoinelacroix/Desktop/Site/sportdub/projet/models.py in   __unicode__, line 14 
```

所以我想我必须在我的 UserProfile 模型中创建一个“用户名”，并将其与 django 用户的用户名相关联，但我不知道该怎么做......

欢迎任何帮助。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:36:33.143

您似乎正在尝试访问

```
def __unicode__(self):
    return self.username 
```

但它必须是

```
def __unicode__(self):
    return self.user 
```

* * *

这是一个演示

**项目/帐户/models.py**

```
class UserProfile(models.Model):
    user = models.ForeignKey(User, unique=True)
    homepage = models.URLField(verify_exists=False)
    #...

User.profile = property(lambda u: UserProfile.objects.get_or_create(user=u)[0]) 
```

**项目/帐户/admin.py**

```
from django.contrib import admin
from django import forms
from django.contrib.auth.models import User
from django.contrib.auth.admin import UserAdmin
from account.models import UserProfile

admin.site.unregister(User)

class UserProfileInline(admin.StackedInline):
    model = UserProfile

class UserProfileAdmin(UserAdmin):
    inlines = [UserProfileInline]

admin.site.register(User, UserProfileAdmin) 
```

**项目/settings.py**

```
AUTH_PROFILE_MODULE = "account.userprofile" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:25:18.287

不，您需要`UserProfile.__unicode__()`正确定义。它需要从相关`User`模型中获取用户名。

# android - 将设置页面映射到键

> ID：12836213
> 
> 赞同：0
> 
> 时间：2012-10-11T09:17:27.750
> 
> 标签：android

```
startActivity(new Intent(Settings.ACTION_SETTINGS)); 
```

以上代码用于通过 Intent 调用设置

我需要在组合键中映射该意图..

例如

我需要按 a+s+d 来调用设置意图

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:09:01.973

在您自己的一项活动中，覆盖诸如 之类的方法`onKeyDown()`，检查`KeyEvent`以查看它是否匹配，如果匹配则启动该活动。

如果您尝试在全球范围内执行此操作，那么 Android SDK 无法做到这一点。

# mysql - mysql查询没有显示任何内容，甚至没有错误

> ID：12836214
> 
> 赞同：0
> 
> 时间：2012-10-11T09:17:33.630
> 
> 标签：mysql

当我在 phpmyadmin 中运行此查询时：

```
SELECT * FROM events e LEFT JOIN venues v ON e.vid = v.vid 
```

什么都没发生。没有错误或任何东西，同样的屏幕只是返回给我。

但是当我运行这个时：

```
SELECT * FROM events LEFT JOIN venues ON events.vid = venues.vid 
```

它工作得很好。我错过了什么吗？

表结构：[https ://dl.dropbox.com/u/28104350/help.png](https://dl.dropbox.com/u/28104350/help.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:23:03.310

试试这个：放`"AS"`

```
SELECT * FROM events AS e LEFT JOIN venues AS v ON e.vid = v.vid 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-13T08:12:04.930

你应该使用下面的***别名***，

```
SELECT * FROM events as  e LEFT JOIN venues as  v ON e.vid = v.vid 
```

# android - Android 4.1.1 Renderview 在添加视图时被隐藏（Relativelayout）

> ID：12836219
> 
> 赞同：2
> 
> 时间：2012-10-11T09:17:50.630
> 
> 标签：android, surfaceview

我有个问题。当我运行我的应用程序时（除**Android 4.1.1**外，所有 android 操作系统都没有错误）：
SurfaceView（Renderview）看不到。当我按睡眠按钮 2 到 3 次然后我可以看到它。我没有修复错误的解决方案。

```
mRenderView = new RenderView(this);
mGridLayer = new GridLayer(this, 
                     (int) (96.0f * App.PIXEL_DENSITY), 
                     (int) (72.0f * App.PIXEL_DENSITY),
                     new GridLayoutInterface(4),
                     mRenderView
                );
mRenderView.setRootLayer(mGridLayer);  
relativeLayout = (RelativeLayout)findViewById(R.id.reContentMain);     
relativeLayout.addView(mRenderView);
setContentView(R.layout.main); 
```

对于这个问题，我没有任何解决方案。我希望大家帮助我。

# html - 更改选择框选项背景颜色

> ID：12836227
> 
> 赞同：144
> 
> 时间：2012-10-11T09:18:13.663
> 
> 标签：html, css, html-select, background-color

我有一个选择框，当单击选择框并显示所有选项时，我正在尝试更改选项的背景颜色。

```
body {
  background: url(http://subtlepatterns.com/patterns/black_linen_v2.png) repeat;
}

select {
  margin: 40px;
  background: rgba(0, 0, 0, 0.3);
  color: #fff;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
}
```

```
<select>
  <option val="">Please choose</option>
  <option val="1">Option 1</option>
  <option val="2">Option 2</option>
  <option val="3">Option 3</option>
  <option val="4">Option 4</option>
</select>
```

* * *

## 回答 #1

> 赞同：190
> 
> 时间：2012-10-11T09:22:16.210

您需要贴上`background-color`标签`option`而不是`select`标签...

```
select option {
    margin: 40px;
    background: rgba(0, 0, 0, 0.3);
    color: #fff;
    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
} 
```

如果要设置每个`option`标签的样式.. 使用 css`attribute`选择器：

```
select option {
  margin: 40px;
  background: rgba(0, 0, 0, 0.3);
  color: #fff;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
}

select option[value="1"] {
  background: rgba(100, 100, 100, 0.3);
}

select option[value="2"] {
  background: rgba(150, 150, 150, 0.3);
}

select option[value="3"] {
  background: rgba(200, 200, 200, 0.3);
}

select option[value="4"] {
  background: rgba(250, 250, 250, 0.3);
}
```

```
<select>
  <option value="">Please choose</option>
  <option value="1">Option 1</option>
  <option value="2">Option 2</option>
  <option value="3">Option 3</option>
  <option value="4">Option 4</option>
</select>
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-03-21T21:30:41.633

我不知道您是否考虑过，但如果您的应用程序基于对各种项目分组进行着色，则您可能应该使用`<optgroup>`标签和类来进一步引用。例如：

```
<select>
    <optgroup label="Numbers" class="green">
        <option value="1">One</option>
        <option value="2">Two</option>
        <option value="3">Three</option>
    </optgroup>

    <optgroup label="Letters" class="blue">
        <option value="a">A</option>
        <option value="b">B</option>
        <option value="c">C</option>
    </optgroup>
</select> 
```

然后在你的文档的头部写下这样的css：

```
<style type="text/css">
    .green option{
        background-color:#0F0;
    }

    .blue option{
        background-color:#00F;
    }
</style> 
```

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2014-03-20T10:37:31.740

是的，您可以通过相反的方式进行设置：

```
select { /* desired background */ }
option:not(:checked) { background: #fff; } 
```

检查它的工作情况：

```
select {
  margin: 50px;
  width: 300px;
  background: #ff0;
  color: #000;
}

option:not(:checked) {
  background-color: #fff;
}
```

```
<select>
  <option val="">Select Option</option>
  <option val="1">Option 1</option>
  <option val="2">Option 2</option>
  <option val="3">Option 3</option>
  <option val="4">Option 4</option>
</select>
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2013-10-08T21:21:52.777

![在此处输入图像描述](../Images/93d62d74117adefff449641ad4af2611.png)

类似于一些答案，但没有真正说明，是将一个类添加到实际的选项标签并使用 css 类......这目前对我来说在 IE 上没有问题（参见上面的 ss）。

```
<select id="reviewAction">
<option class="greenColor">Accept and Advance Status</option>
<option class="redColor">Return for Modifications</option>
</select> 
```

CSS：

```
.greenColor{
    background-color: #33CC33;
}
.redColor{
    background-color: #E60000;
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-11T20:53:09.177

另一种选择是使用 Javascript：

```
if (document.getElementById('selectID').value == '1') {
       document.getElementById('optionID').style.color = '#000'; 
```

（不如 CSS 属性选择器干净，但更强大）

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-07-28T19:26:46.730

在我将 !important 添加到样式之前，我的选择不会为背景着色。

```
 input, select, select option{background-color:#FFE !important} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-11-18T15:33:26.957

如果您真的想在 a 中设置样式，请考虑切换到基于 Javascript/CSS 的下拉菜单，例如[http://getbootstrap.com/2.3.2/components.html#dropdowns](http://getbootstrap.com/2.3.2/components.html#dropdowns)或[https://silviomoreto.github.io/引导选择/示例/](https://silviomoreto.github.io/bootstrap-select/examples/)。这是因为 IE 等浏览器[不允许在元素中设置选项样式](https://stackoverflow.com/questions/6655625/styling-options-in-bold-in-internet-explorer)。Chrome/OSX 也有这个问题——你不能设置选项的样式。

但是，该方法附有警告。这些类型的菜单在移动平台上的工作方式非常不同，因为不使用原生元素。他们在桌面上也可能有烦人的怪癖。我的建议是 1) 不要自己编写和 2) 找到一个经过很好测试的库。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-12-05T19:15:17.777

**这就是我对这个主题的了解！**

CSS 2 规范没有解决表单元素应该如何呈现给用户的问题！

**在这里阅读：** [粉碎杂志](https://www.smashingmagazine.com/2013/02/css-form-elements-problem/)

**最终**，您将永远找不到来自 w3c 或其他有关该主题的任何技术文章。不完全支持在特定的选择框中设置表单元素的样式，但是，您可以四处转转……稍加努力！

[样式化 HTML 表单元素](https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Styling_HTML_forms)

[构建自定义小部件](https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/How_to_build_custom_form_widgets)

不要浪费时间在 hack 上，例如阅读链接并了解专业人士如何完成工作！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-08-02T08:36:37.367

```
$htmlIngressCss='<style>';
$multiOptions = array("" => "All");
$resIn = $this->commonDB->getIngressTrunk();
while ($row = $resIn->fetch()) {
    if($row['IsActive']==0){
        $htmlIngressCss .= '.ingressClass select, option[value="'.$row['TrunkInfoID'].'"] {color:red;font-weight:bold;}';
    }
    $multiOptions[$row['TrunkInfoID']] = $row['IngressTrunkName'];
}
$htmlIngressCss.='</style>'; 
```

添加`$htmlIngressCss`你的html部分:)

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2018-05-07T06:32:14.440

只需更改 bg 颜色

`select { background: #6ac17a; color:#fff; }`

# asp.net - 无法将列表框中的项目添加到列表

> ID：12836228
> 
> 赞同：3
> 
> 时间：2012-10-11T09:18:16.313
> 
> 标签：asp.net, list, listbox

我正在尝试将列表框中的所有项目添加到列表（.cs 页面）。我使用 javascript 将项目添加到列表框。现在 LstScan.Items.Count 总是返回零。我无法将项目添加到列表框。列表框显示值。但是问题发生在我的 .cs 文件中。这是我的代码；

Html 和 javascript 代码是：

```
 <script type="text/javascript">
      function displayKeyCode_demo(e) {
           var code;
           if (!e) var e = window.event;
           if (e.keyCode) code = e.keyCode;
           else if (e.which) code = e.which;
           if (code == 13) {
                var textbox = document.getElementById("<%=TextBox1.ClientID%>")
                var listbox = document.getElementById("<%=LstScan.ClientID%>")
                var newOption = document.createElement("Option");
                newOption.value = textbox.value;
                newOption.innerHTML = textbox.value;
                listbox.add(newOption);     
           }
      }
 </script>

 <div>
      <table cellspacing="3px" style="margin: 10px auto 3px 85px;">
           <tr>
                <td width="150px">
                     <asp:TextBox ID="TextBox1" runat="server" onkeypress="displayKeyCode_demo(event)"></asp:TextBox>
                </td>
                <td width="200px">
                     <asp:ListBox ID="LstScan" runat="server" Height="200px" Width="150px" AppendDataBoundItems="True" AutoPostBack="True" >
                     </asp:ListBox>
                </td>
           </tr>
      </table>
 </div> 
```

这是我的代码背后的代码：

```
 List<int> LstSOnum = new List<int>();
 foreach (ListItem item in LstScan.Items) {
      LstSOnum.Add(int.Parse(item.Value));
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:39:04.317

您可以尝试使用文本

```
 LstSOnum.Add(int.Parse(item.Text)); 
```

# android - 在子文件夹中组织 Android src 文件夹 (Eclipse)

> ID：12836230
> 
> 赞同：9
> 
> 时间：2012-10-11T09:18:21.573
> 
> 标签：android, eclipse, project, subdirectory

抱歉这个菜鸟问题，但我对 Android SDK/Eclipse 环境很陌生

我正在开发的应用程序越来越大，有几个类。我想更好地组织它，为视图、模型、对话框等提供文件夹......

如何创建 src 文件夹的子文件夹？如果我右键单击 src 文件夹，我没有该选项...我应该创建一个新包吗？

我试图添加一个新的 src 文件夹，但它与“默认包”路径进入主 src 文件夹的同一级别，并且 Eclipse 在那里看不到我的文件......

为项目中的所有类设置文件夹结构的最佳方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T09:19:33.383

右键单击文件夹，选择新包

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T09:23:46.560

**右键单击 src 文件夹 => 新建 => 包 =>**重命名您的包，例如：

```
com.yourapplication.model
com.yourapplication.view
com.yourapplication.utils
com.yourapplication.adapters 
```

ETC

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-09T21:47:38.007

这是因为您使用包资源管理器。切换到导航器（window-->show view ---> other -------> Navigator）

现在您可以将项目视为文件夹而不是包。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-12-14T06:53:07.420

您必须
右键单击“youfolder”->“构建路径”->“添加到构建路径”或“用户作为源文件夹”

# svn - NetBeans 中的 SVN 提交错误

> ID：12836234
> 
> 赞同：1
> 
> 时间：2012-10-11T09:18:32.303
> 
> 标签：svn, netbeans

我正在尝试在 Netbeans 中使用 SVN。我成功安装了插件，但似乎 SVN 错误，在我的情况下与项目结构有关。

我有最新版本的cient，但仍然收到此错误。现在我可以从 SVN 导入项目并导出它..但问题只在 Commit 中。

> `org.tigris.subversion.javahl.ClientException: 不支持的工作副本格式此客户端太旧，无法使用工作副本'C:\Users\riddhi.barbhaya\Desktop\GaugeExample'。您需要获得更新的 Subversion 客户端，或降级此工作副本。有关详细信息，请参阅 [http://subversion.tigris.org/faq.html#working-copy-format-change](http://subversion.tigris.org/faq.html#working-copy-format-change)。
> 
> 我们强烈建议安装更新的 Subversion 客户端或降级您的工作副本。任何本地更改都可能损坏您的工作副本，并且某些文件操作（如复制、重命名和删除）将无法正常工作。`

请帮助我..谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T11:18:38.963

仅使用 1 个客户端检出您的工作副本（netbeans 中的插件），这可确保您拥有客户端能够理解的工作副本格式。

您还可以另外安装其他 svn 客户端，但它们必须使用相同的工作副本格式。[TortoiseSVN 下载](http://sourceforge.net/projects/tortoisesvn/files/)

# vba - 使用 VBA 在工作簿中创建工作表

> ID：12836246
> 
> 赞同：1
> 
> 时间：2012-10-11T09:19:35.517
> 
> 标签：vba, excel

从 2001 年到 2012 年，我每季度使用 VBA 创建一个工作表，代码如下：

```
For Y = 2001 To 2012
    For M = 1 To 4 Step

    s = Str(Y) & "_" & Str(M)
    Sheets.Add.Name = s

   Next M
Next Y 
```

所以我的工作簿中有一些工作表看起来像： 2012_4, 2012_3, 2012_2, ... , 2001_2, 2001_1 （它们按此顺序排列）。

在我的所有程序中，我都是按它们的名字来处理这些工作表的。但是还有其他方法可以使用他们的订单吗？是否有“第一张”和“最后一张”表？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:56:54.000

```
Sub testing()
    Dim ws As Worksheet
    Set ws = Worksheets("Sheet1")
    Dim newWs As Worksheet
    ws.Copy after:=Worksheets("Sheet1") ' you can use before:= or after:= a worksheet
    Set newWs = ActiveSheet
    newWs.Name = "Sheet1 Copy" ' renaming any sheet
End Sub

Sub loopingSheets()
    Dim ws As Worksheet
    For Each ws In ThisWorkbook.Worksheets
        Debug.Print ws.Name
    Next ws
End Sub 
```

# android - 如何加快android中连续图像的显示速度

> ID：12836247
> 
> 赞同：1
> 
> 时间：2012-10-11T09:19:36.937
> 
> 标签：android, android-imageview

目前，我正在尝试从另一部手机接收和显示视图的应用程序。收到视图后，我会将其转换为位图，并使用 ImageView 像 imageView.setImagebitmap(xxx) 一样显示它们。但是，我发现 API 性能并不好。

由于我需要显示连续图像（不是视频），有什么方法可以加快显示速度吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:51:15.487

您应该考虑使用[SurfaceView](http://developer.android.com/reference/android/view/SurfaceView.html)而不是`ImageView`. 每次调用时都会创建`ImageView.setImageBitmap`新`BitmapDrawable`实例并且视图本身会失效，因此这是快速切换图像的一种非常繁重的方式。

此外，如果您需要在绘制之前缩放位图，您可以通过禁用[位图过滤](http://developer.android.com/reference/android/graphics/Paint.html#setFilterBitmap%28boolean%29)来显着提高帧速率。

# android - Android LogCat IntelliJ

> ID：12836253
> 
> 赞同：2
> 
> 时间：2012-10-11T09:20:20.533
> 
> 标签：android

当我在 Intellij 上运行我的项目时， `Consumer closed input channel or an error occured events=0x8` 在 LogCat 中显示。它是什么，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:39:20.017

输入管道文件描述符（fd）已被某人关闭。要么窗口已关闭，因此客户端正确关闭了 fd，要么进程中的某些东西意外关闭了不应该关闭的 fd，或者进程崩溃并且 fd 被内核关闭。使用 Eclipse 调试器单步调试您的程序，以找出错误所在。

# installation - 在 redhat santago 上安装 zorba xquery

> ID：12836254
> 
> 赞同：1
> 
> 时间：2012-10-11T09:20:22.063
> 
> 标签：installation, redhat, zorba

我正在尝试通过 ssh 在 redhat santiago 安装上安装 zorba xquery，但效果不佳。

不幸的是，我对 redhat 不是很熟悉，所以我无法正常工作，我找到的 rpm 列表是这些 [http://rpmfind.net/linux/rpm2html/search.php?query=zorba](http://rpmfind.net/linux/rpm2html/search.php?query=zorba)

每当我尝试安装其中一个时，我都会丢失一堆依赖项，即使我安装了其中一个依赖项，当我再次尝试安装 zorba 时它仍然显示为丢失。我不太了解他们操作系统的 redhat 版本控制，但环顾四周，圣地亚哥似乎是在 2010 年？RPM 适用的所有这些版本都比较晚？那是问题吗？

如果是这样，有没有关于在 redhat santiago 上安装 zorba xquery 的指南？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T07:13:46.153

我无法提供规范的答案，因为我自己不使用 Red Hat。但是，Santiago 是 Red Hat Enterprise Linux 的一个版本，它是 Red Hat 的受支持形式。您在该链接上找到的 rpm 基于版本号（例如“fc19”），旨在用于 Fedora Linux，这是一个社区开发的版本。因此，不能保证依赖项会与 Santiago 中可用的包相匹配。

从 Wikipedia 看来，RHEL 版本最初是从 Fedora 版本分支出来的。根据 Santiago 的发布日期，它应该是从 FC 15 左右分支出来的。因此，至少您可能会在使用 Zorba 2.1 软件包时获得更好的运气，因为它们的版本中有“fc15”。Zorba 2.1 现在当然已经相当老了，所以即使它碰巧工作，这也不是一个理想的解决方案。

您最好的选择可能是从源代码编译 Zorba。

# jsf - 如何在 IBM Rational Application Developer for Websphere 8.5 中创建 JSF (XHTML) facelets 页面

> ID：12836257
> 
> 赞同：0
> 
> 时间：2012-10-11T09:20:32.017
> 
> 标签：jsf, ide, facelets, ibm-rad, ibm-rational

我刚刚为 Webpshere 安装了 IBM RAD 8.5，与 IBM 宣传的具有丰富编辑器的 JSF 2 工具支持相反，RAD 8.5 附带了丰富的编辑器，我什至找不到从文件 > 新建创建 xhtml 页面的选项 - 尽管还有事实上，我什至将 JSF 2.0 添加到项目方面。

任何人都知道如何在 RAD 8.5 中为 JSF 开发激活 facelets (xhtml) 创建？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-25T00:45:12.117

如果你有一个 Web JSF2.0 项目，你应该创建 New->Web Page，你会得到默认选择的 xhtml 格式。

![新网页](../Images/2ad1ed82eac6bc265d7d72766883d179.png)

![在此处输入图像描述](../Images/03108cb9e4707d90bd383a87663ae6e3.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-16T10:06:10.287

文件 ==> 新建 ==> 网页 ==> 在此处选择 HTML 输入文件名时输入 myfile.xhtml 完成该过程。

# postgresql - 连接到命令提示符以在 PostgreSQL 查询中通过 GNupg 生成密钥

> ID：12836258
> 
> 赞同：1
> 
> 时间：2012-10-11T09:20:35.510
> 
> 标签：postgresql, command-prompt, gnupg

如何在 PostgreSQL 中编写查询以连接到 Commnad Prompt？我想通过调用命令提示符在 PostgreSQL 查询本身中生成 GNUpg 中的密钥。是否有任何预定义的函数或过程，或者我们需要在 plpgsql 中编写函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:10:53.447

通过使用 `PL/sh` 过程语言处理程序，我们可以将 postgresql 连接到 shell 提示符

简单的例子是

```
 CREATE FUNCTION concat(text, text) RETURNS text AS $$
#!/bin/sh
 echo "$1$2"
$$ LANGUAGE plsh; 
```

-- 在此之前，任何其他语言都必须将 plsh 添加到工作数据库中，您可以使用检查语言是否已在数据库中

```
select * from pg_language; 
```

# magento - Magento - 如何在发票 PDF 总计中显示税/增值税百分比，并将税标签更改为增值税

> ID：12836259
> 
> 赞同：5
> 
> 时间：2012-10-11T09:20:35.650
> 
> 标签：magento, magento-1.7

我需要在发票 pdf 中显示增值税百分比。因此，当管理员在后端查看发票并单击打印时，他们将看到总计中带有“增值税@%”的发票。目前它将税显示为标签，所以我也想将其更改为增值税。

到目前为止，我已经设法通过将以下内容添加到发票中显示每种产品的增值税百分比

```
 app/code/local/Mage/Sales/Model/Order/Pdf/Items/Invoice/Default.php

      // draw Tax
    $taxPercent = $item->getOrderItem()->getTaxPercent();
    $taxPercent = number_format($taxPercent,2,',','');
    $taxPercent = $taxPercent."%";
    $lines[0][] = array(
        'text'  => $order->formatPriceTxt($item->getTaxAmount())." @".$taxPercent ,
        'feed'  => 515,
        'font'  => 'bold',
        'align' => 'right'
    ); 
```

这很好，但我也想在总数中的“税”旁边显示它。

我还尝试通过在语言环境中编辑以下 csv 文件来将税收标签更改为增值税

```
 en_US/Mage_Reports.csv
    en_us/Mage_Tax.csv 
```

我还将两个 csv 文件都复制到了 en_GB ，但这也为我带来了麻烦

必须有一种简单的方法来更改标签并在总数中添加增值税百分比吗？

感谢您的任何帮助

**编辑**想一想，我认为不可能在总数中添加税率，因为发票中的每种产品可能有不同的税率。所以现在我很高兴列出每种产品的税率。

似乎仍然无法更改税收标签或在发票的产品表中添加新列，最好在税额旁边有一个“税率”列标题

**编辑 2**发现它是一个覆盖 invoice.php 文件的扩展，阻止我更改 products 表的列标题，真烦人！这解决了这个问题，虽然总数仍然有税而不是增值税

# c# - 如何在不弄乱代码隐藏的情况下更改表单样式？

> ID：12836260
> 
> 赞同：0
> 
> 时间：2012-10-11T09:20:36.483
> 
> 标签：c#, winforms, forms, styles

是否有工具或软件可以修改 C# Forms 的样式。

所以我有一个用 C# 编写的应用程序/项目，我想更改表单的样式（如果可能的话在另一个环境中），而不会导致代码隐藏问题。

任何帮助表示赞赏，并提前感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:05:08.873

尝试在 Windows 窗体 codeplex 中使用自*定义*[Winform 样式](http://winformstyles.codeplex.com/)或[绘制自定义边框](http://customerborderform.codeplex.com/)。

# eclipse - 用于 Eclipse 的 Hadoop 插件 (1.0.3)

> ID：12836265
> 
> 赞同：0
> 
> 时间：2012-10-11T09:20:51.203
> 
> 标签：eclipse, hadoop, mapreduce

我是 Hadoop 新手。谁能告诉我如何为 Eclipse 创建 Hadoop 插件（版本 1.0.3）？事实上，他们从 /hadoop-xxx/contrib/ 中删除了插件（在我的情况下，xxx = 1.0.3） /hadoop-xxx/src/contrib/ 中有一个 eclipse-plugin。

顺便说一句，使用 eclipse 开发 MapReduce 应用程序的“典型方法”是什么（例如字数）：

*   配置（独立或伪分布式...）
*   编码约定（文件夹结构、代码、调试...）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T12:04:54.930

当您安装并配置了 Hadoop Eclipse 插件时

在eclipse中创建一个mapreduce项目，它提供了hadoop和其他jar所需的依赖。

那么你需要创建Main类，Mapper类和Reducer类，在Main类中你需要配置Job。[字数示例](http://wiki.apache.org/hadoop/WordCount)

完成后，您可以在 hadoop 上运行主程序，无需在运行程序之前启动 hadoop

对于 1.0.3 插件：Apache 已从 Hadoop 安装文件夹中删除插件。相反，您可以在“${HADOOP_HOME}\hadoop-1.0.3\src\contrib\eclipse-plugin”中找到带有 build.xml 文件的 Eclipse 插件源代码。或者你可以简单地从[这里下载](https://docs.google.com/open?id=0B8n7aI4e8I_rWnZ5ZTFrTWNRSkE)

# asp.net - ASP.NET 缓存并发

> ID：12836266
> 
> 赞同：0
> 
> 时间：2012-10-11T09:20:54.497
> 
> 标签：asp.net, caching

关于在 ASP.NET 中使用 System.Web.HttpContext.Current.Cache 的快速问题。并发安全吗？我的意思是，如果我这样做：

```
Cache.Insert("user", user, Nothing, DateTime.Now.AddSeconds(60), TimeSpan.Zero) 
```

那么名为“用户”的缓存对于应用程序的每个用户都是唯一的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:23:07.060

ASP.NET 缓存由用户共享。您应该使用会话来存储用户特定的项目。

# iphone - 系统状态 iPhone 应用程序如何获取 Wifi 网络漫游信息？

> ID：12836268
> 
> 赞同：0
> 
> 时间：2012-10-11T09:21:01.163
> 
> 标签：iphone, objective-c, ios, wifi, roaming

我刚刚从 App Store 下载了一个名为 System Status 的应用程序，它为您提供了有关安装它的 iPhone 的详细信息。

其中一项功能提供了一个系统日志，当您从一个 BSSID 漫游到另一个 BSSID 时，它允许您查看网络信息。

我的问题是他们是怎么做到的？

我到处搜索，我发现的唯一方法需要使用私有 API。我假设由于此应用程序已在 App Store 上运行，因此可以通过合法方式获取信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T07:07:20.990

经过更深入的挖掘，我认为他们从 Apple 状态日志中获得了信息，可以通过以下链接获得更多详细信息：

[https://developer.apple.com/library/ios/#documentation/System/Conceptual/ManPages_iPhoneOS/man3/asl.3.html](https://developer.apple.com/library/ios/#documentation/System/Conceptual/ManPages_iPhoneOS/man3/asl.3.html)

[http://www.cocoanetics.com/2011/03/accessing-the-ios-system-log/](http://www.cocoanetics.com/2011/03/accessing-the-ios-system-log/)

# mysql - 插入值检查之前的 MySQL 触发器

> ID：12836270
> 
> 赞同：16
> 
> 时间：2012-10-11T09:21:11.500
> 
> 标签：mysql, triggers

我有一个`staff`带`office`列的表。目前该`office`列不接受 NULL 值。保存在这个表上的应用程序有一个错误，这意味着当员工没有被分配办公室时，它会尝试在表中插入一个 NULL 值。

我被要求使用触发器来拦截插入到`Staff`表中并检查`office`值是否为 NULL 并将其替换为 value `N/A`。

以下是我迄今为止的尝试，但确实有`error`尝试实施。关于如何解决这个问题的任何想法。

```
CREATE TRIGGER staffOfficeNullReplacerTrigger BEFORE INSERT ON Staff
  FOR EACH ROW BEGIN
    IF (NEW.office IS NULL)
     INSERT INTO Staff SET office="N/A";
    END IF
  END; 
```

**错误：**

> MySQL 数据库错误：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取在 'INSERT INTO Staff SET office="N/A"; 附近使用的正确语法；结尾'

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-11T10:29:10.340

首先，更改表以允许 NULL：

```
ALTER TABLE Staff MODIFY office CHAR(40) DEFAULT "N/A"; 
```

（更改`CHAR(40)`为适当的。）然后您可以用作触发器：

```
CREATE TRIGGER staffOfficeNullReplacerTrigger 
BEFORE INSERT 
ON Staff
  FOR EACH ROW BEGIN
    IF (NEW.office IS NULL) THEN
      SET NEW.office = "N/A";
    END IF 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-11T09:26:14.313

不应该是这样的：

```
DELIMITER $$

CREATE TRIGGER staffOfficeNullReplacerTrigger BEFORE INSERT ON Staff
FOR EACH ROW BEGIN
   IF (NEW.office IS NULL) THEN
        INSERT INTO Staff(office) VALUES("N/A");
   END IF;
END$$ 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T10:36:03.190

```
CREATE TRIGGER staffOfficeNullReplacerTrigger BEFORE INSERT ON Staff
  FOR EACH ROW BEGIN
    IF (NEW.office IS NULL)
     INSERT INTO Staff SET office="N/A";
    END IF 
```

> ; END IF 后加分号

```
 END; 
```

# select - InnoSetup Dynamic ComboBox，检查选择了哪个项目并执行程序

> ID：12836271
> 
> 赞同：2
> 
> 时间：2012-10-11T09:21:13.180
> 
> 标签：select, dynamic, combobox, inno-setup

在 InnoSetup 中，我想在 Finished Page 上显示一个 ComboBox，显示已安装的组件。您可以选择“无”或任何已安装的组件，并在单击完成时启动相关程序。

到目前为止，这是我的代码：

```
procedure CurPageChanged(CurPageID: Integer);
var
  NewComboBox1: TNewComboBox;
begin
  if (CurPageID = wpFinished) then begin
  NewComboBox1 := TNewComboBox.Create(WizardForm);
  with NewComboBox1 do begin
    Parent := WizardForm.FinishedPage;
    Left := ScaleX(256);
    Top := ScaleY(208);
    Width := ScaleX(145);
    Height := ScaleY(21);
    ItemIndex := 0;
    Style := csDropDownList;
    Items.Add('None');
    if IsComponentSelected('1') then
    Items.Add('Component 1');
    if IsComponentSelected('2') then
    Items.Add('Component 2');
    if IsComponentSelected('3') then
    Items.Add('Component 3');
    end;
  end;
end; 
```

首先，我想将“无”设置为自动选择。当页面显示时。我查找了许多 Pascal 论坛，但没有一个解决方案有效，例如 NewComboBox1.ItemSelected=0 （或类似的，不记得正确......）。那么我该如何实现呢？

然后我不知道如何在单击完成时启动程序。我想

```
function NextButtonClick 
```

可能会有所帮助，但设置中没有下一步按钮起作用。

也许还有一个问题，因为列表是根据选择的组件创建的，所以项目 1 不是组件 1，如果没有选择组件 1，而是组件 2。

我认为可以通过使项目不可见而不是根本不创建它们来解决这个问题。

我查看了 IS 帮助文件中的 Support Classes Reference，但没有找到任何可以帮助我的东西。

我期待着您的回答！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:10:59.717

由于缺少对组件绑定到的文件名和目标目录的访问权限，因此没有简单的方法可以做到这一点。即使是`TSetupComponentEntry`内部记录也不包含此信息，但即使包含，您也无法访问它。因此，以下脚本使用其自己的单独数组，其中包含此任务所需的组件/文件链接：

```
[Setup]
AppName=My Program
AppVersion=1.5
DefaultDirName={pf}\My Program

[Components]
Name: "program_32"; Description: "Program 32-bit"
Name: "program_x64"; Description: "Program 64-bit"
Name: "program_ia64"; Description: "Program IA 64-bit"

[Files]
Source: "MyProg.exe"; DestDir: "{app}"; Components: program_32
Source: "MyProg-x64.exe"; DestDir: "{app}"; Components: program_x64
Source: "MyProg-IA64.exe"; DestDir: "{app}"; Components: program_ia64

[Code]
type
  TFileData = record
    Component: string;
    Description: string;
    FileName: string;
    Parameters: string;
  end;  
var  
  ComponentCombo: TNewComboBox;
  ComponentArray: array of TFileData;
  SelectionArray: array of TFileData;

procedure InitializeWizard;
begin
  // this is a weakness of this solution - you need to fill the array
  // of components that can be added to the final combo box when they
  // are selected on component selection page. This is needed because
  // you can't get neither file name nor destination directory of the
  // file for the component from script. As first, set how many items
  // you want to add to your component array storage
  SetArrayLength(ComponentArray, 2);
  // the Component member must match to the "Name" parameter from the
  // [Components] section item since it's used in IsComponentSelected
  // function call
  ComponentArray[0].Component := 'program_32';
  // the Description member is the text displayed in the combo item
  ComponentArray[0].Description := 'Program 32-bit';
  // the FileName member is the name of the file including path. This
  // member may contain InnoSetup constants
  ComponentArray[0].FileName := '{app}/MyProg.exe';
  // the Parameters member contains execution parameters
  ComponentArray[0].Parameters := '-a';
  // this is the second item that can be added to the combo box, note
  // that the program_ia64 component is not added to this array, what
  // means, that it cannot be added to the "run" combo box. It's such
  // kind of a filter for components like help files etc.
  ComponentArray[1].Component := 'program_x64';
  ComponentArray[1].Description := 'Program 64-bit';
  ComponentArray[1].FileName := '{app}/MyProg-x64.exe';
  ComponentArray[1].Parameters := '-b';
end;

procedure CurPageChanged(CurPageID: Integer);
var
  I: Integer;
begin
  if (CurPageID = wpFinished) then
  begin
    ComponentCombo := TNewComboBox.Create(WizardForm);
    ComponentCombo.Parent := WizardForm.FinishedPage;
    ComponentCombo.Left := ScaleX(256);
    ComponentCombo.Top := ScaleY(208);
    ComponentCombo.Width := ScaleX(145);
    ComponentCombo.Height := ScaleY(21);
    ComponentCombo.Style := csDropDownList;

    ComponentCombo.Items.Add('None');
    for I := 0 to GetArrayLength(ComponentArray) - 1 do
      if IsComponentSelected(ComponentArray[I].Component) then
      begin
        ComponentCombo.Items.Add(ComponentArray[I].Description);
        SetArrayLength(SelectionArray, GetArrayLength(SelectionArray) + 1);
        SelectionArray[High(SelectionArray)] := ComponentArray[I];
      end;      
    ComponentCombo.ItemIndex := 0;
  end;
end;

function NextButtonClick(CurPageID: Integer): Boolean;
var
  FileData: TFileData;
  ResultCode: Integer;
begin
  Result := True;
  if (CurPageID = wpFinished) and (ComponentCombo.ItemIndex > 0) then
  begin
    FileData := SelectionArray[ComponentCombo.ItemIndex - 1];
    Exec(ExpandConstant(FileData.FileName), FileData.Parameters, '', SW_SHOW,
      ewNoWait, ResultCode);
  end;
end; 
```

# iis - msiexec：静默部署网站到 IIS

> ID：12836272
> 
> 赞同：1
> 
> 时间：2012-10-11T09:21:18.940
> 
> 标签：iis, windows-installer

我们的工作团队编写了一个包装应用程序/接口，以使用 msiexec 静默安装一系列 msi。

我的问题与安装针对 IIS 的 msi 有关。

**我不断收到以下错误**

> 错误 1314。指定的路径“默认网站/ROOT/someVirtual”不可用。Internet Information Server 可能未运行或路径存在并被重定向到另一台机器。请在 Internet 服务管理器中检查此虚拟目录的状态。

**使用以下参数设置执行 msi，如下所示**

```
msiexec.exe /i "D:\SOME.msi" UseShellExecute="false" TARGETSITE="Default Web Site" TARGETVDIR="someVirtual" TARGETAPPPOOL="DefaultAppPool" /qn /l* D:\SOME_log.txt 
```

我意识到这个问题与 IIS 密切相关，因为我可能缺少一些我需要设置的设置/选项。

据我所见，我的虚拟位于此位置*"NT4334RB\Sites\Default Web Site\someVirtual"*，所以我最好的猜测是*"Default Web Site* / **ROOT** / *someVirtual"* - ROOT 是问题，需要设置，但是为了什么？如何？

我刚刚在日志文件中遇到了这一行 - 我认为这可能有用吗？

> 从 URL 键“TARGETURL”获取 AppRoot

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T15:11:40.990

似乎我的问题与我没有正确指定元数据库路径有关。我最终在我的代码中添加了一个帮助程序，就像这样。

在 SO 上找到了各种解决方案（[这](https://stackoverflow.com/questions/2716563/iis-how-to-get-the-metabase-path)让我想到了正确的方向），并且我还安装了一个名为[IIS Metabase Explorer](http://www.iis.net/downloads/community/2006/12/iis-metabase-explorer-11)的东西，它非常有用

```
//Added for reference purposes
//HasRequiredOption("site|s=", "The site location", c =>
//AddOrUpdateAdditionalMsiProperty("TARGETSITE", BuildMetabasePath(c)));

//apppool => TARGETAPPPOOL
//virtualdir => TARGETVDIR

/// <summary>
/// Builds the meta-base path.
/// </summary>
/// <param name="websiteName">Name of the website.</param>
/// <returns>The fully constructed meta-base path</returns>
private string BuildMetabasePath(string websiteName)
{
    return "/LM/W3SVC/" + this.GetWebSiteId(websiteName);
}

/// <summary>
/// Gets the web site id.
/// </summary>
/// <param name="websiteName">Name of the website.</param>
/// <param name="serverName">Name of the server. Defaults to: localhost if none specified</param>
/// <returns>The website id</returns>
private string GetWebSiteId(string websiteName, string serverName = "localhost")
{
    using (var entries = new DirectoryEntry(string.Format("IIS://{0}/w3svc", serverName)))
    {
        var children = entries.Children.Cast<DirectoryEntry>();
        var sites =
           (from de in children
             where
             de.SchemaClassName == "IIsWebServer" &&
             de.Properties["ServerComment"].Value.ToString() == websiteName
             select de).ToList();

       if (sites.Any())
       {
          return sites.First().Name;
       }
   }

  return "-1";
} 
```

# c++ - 可以在没有终端的情况下在 Unix 进程上写入标准输出吗？

> ID：12836277
> 
> 赞同：0
> 
> 时间：2012-10-11T09:21:46.570
> 
> 标签：c++, unix, solaris, stdout

我想确保以下内容不会影响我的流程：

Solaris 程序大量写入标准输出（通过 C++ wcout 流）。输出用于跟踪，因此在测试和分析期间，程序员/测试人员可以轻松观察发生的情况。但是该程序实际上是一个服务器进程，因此在生产版本中它将作为一个没有附加控制台的恶魔运行，并将所有跟踪输出写入文件。

我假设对于没有控制台的程序，stdout 被重定向到 nul，在这种情况下，我想一切都很好。但是，我想确保 stdout 输出没有在某处缓冲，这样在足够的运行时间之后，我们可能会遇到内存或磁盘空间问题。

注意：我们不能将跟踪输出重定向到文件，因为这会变得太大。相反，我们自己的文件跟踪机制确保创建新文件并删除旧文件，以始终保持一定数量的跟踪，而不是更多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:25:16.060

我猜这取决于守护进程是如何启动的。创建守护进程时，必须以*某种方式*处理流（例如，它们需要与当前进程分离，至少当手动退出守护进程的 shell 时必须终止守护进程）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:25:18.297

这取决于守护进程是如何启动的。如果它作为 cron 作业启动，则输出将被捕获并邮寄给拥有 crontab 条目的任何人，除非您在命令行中重定向输出。（但作为 cron 作业启动的程序并不是真正的守护进程。）

更一般地说，所有进程都是从另一个程序启动的（除了 init 进程）；大多数时候，该程序是一个 shell（甚至 `crontab`调用一个 shell 来启动它的工作），并且命令作为命令行给出。您可以在命令行中将输出重定向到您喜欢的任何位置；`/dev/null`是像您这样的案例的热门选择。大多数守护进程都是从`rc`文件启动的；安装在. 只需将您的输出重定向到那里。`/etc/rc*n*.d`

或者更好的是，重写您的代码以使用某种形式的旋转日志，而不是标准输出。

# c++ - std::cin::ungetc 中的推回数

> ID：12836278
> 
> 赞同：1
> 
> 时间：2012-10-11T09:21:46.873
> 
> 标签：c++, iostream

我想知道 std::cin::ungetc 接受多少个字符。它与 C 中的相同吗（因此可移植为 1，见下文）？

相关的 SO 帖子[“ungetc：回推的字节数”](https://stackoverflow.com/questions/7814816/ungetc-number-of-bytes-of-pushback)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:51:53.557

不要忘记，输入流的一种形式是键盘，它不需要被缓冲。如果不是，则除了流本身提供的内容之外，没有后备存储。所以选择是提供一个推回字符，它几乎可以处理所有情况，或者提供更多并且大部分时间浪费空间。就像在 C 中一样，你可以保证一个字符。

# json - Tumblr Oauth 在 API v2 上返回 401

> ID：12836280
> 
> 赞同：4
> 
> 时间：2012-10-11T09:21:56.580
> 
> 标签：json, api, oauth, tumblr

每次我向我的网站添加新内容时，我都会尝试设置一个自动 tumblr 帖子。我正在使用以下代码：

```
$conskey = "APIKEY";
$conssec = "APISECRET";

$tumblr_blog = "blogname.tumblr.com";
$to_be_posted = "This is the text to be posted";

$oauth = new OAuth($conskey,$conssec);
$oauth->fetch("http://api.tumblr.com/v2/blog/".$tumblr_blog."/post", array('type'=>'text', 'body'=>$to_be_posted), OAUTH_HTTP_METHOD_POST);

$result = json_decode($oauth->getLastResponse());

if($result->meta->status == 200){
    echo 'Success!';
} 
```

据我所知，这一切都格式正确。然而，这是我第一次尝试使用 Oauth 连接到 JSON API，所以我对自己正在做的事情并不完全有信心。

这是我收到的确切错误：

```
Fatal error: Uncaught exception 'OAuthException' with message 'Invalid auth/bad request (got a 401, expected HTTP/1.1 20X or a redirect)' in /home/public_html/edge/tumblr.php:35 Stack trace: #0 /home/public_html/edge/tumblr.php(35): OAuth->fetch('http://api.tumb...', Array, 'POST') #1 /home/public_html/edge/index.php(95): include('/home/...') #2 {main} thrown in /home/public_html/edge/tumblr.php on line 35 
```

第 35 行是以 $oauth->fetch 开头的行。

谢谢你的帮助 ：-）

**编辑我已经通过用**[这个页面](http://vigrond.com/blog/2012/02/04/oauth-extension-php-and-the-tumblr-api/) 上的示例替换我以前的代码解决了这个问题

# c# - 在 C# 中获取数据集信息

> ID：12836283
> 
> 赞同：0
> 
> 时间：2012-10-11T09:22:05.460
> 
> 标签：c#, datatable

我有一个包含许多数据表的数据集（XSD）。如何获取有关此数据表的信息？例如，我想从特定数据表中获取所有列及其标题。当我使用**dataset_X.datatable_Y....** 时，没有像“ **colums** ”这样的属性。我只得到“ **Equals** ”、“ **GetDataTableSchema** ”、“ **GetTypedSchema** ”和“ **Reference Equals** ”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:27:37.953

您需要创建一个强类型的实例`DataSet`。

例如：

```
var ds = new dataset_X();
DataColumnCollection columns = ds.datatable_Y.Columns; 
```

或者，如果您想要特定列的信息，您也可以使用自动生成的属性。假设有一列带有 name `idSparePart`，则自动有一个 property `idSparePartColumn`。

```
DataColumn col = ds.datatable_Y.idSparePartColumn;
String columnName = col.ColumName; 
Type t = col.DataType;
// and so on... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:32:49.550

您可以尝试使用此代码 - 基于`GetXmlSchema`

```
string schemaString = dataSet.GetXmlSchema(); 
```

链接：http: [//msdn.microsoft.com/en-us/library/41732z18.aspx](http://msdn.microsoft.com/en-us/library/41732z18.aspx)

# playframework - 如何在多选的播放 1.2.4 中显示 CRUD 布局中的复选框组？

> ID：12836285
> 
> 赞同：1
> 
> 时间：2012-10-11T09:22:10.737
> 
> 标签：playframework, playframework-1.x

我在模型类中使用了 OneToMany 关系`@OneToMany public List<Skill> skills;`，它在 CRUD 布局中显示多选列表。而不是这个，我想在布局中显示一组复选框。这可能吗？如果是这样，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T10:10:32.327

默认情况下，CRUD 标记*关系*字段使用 multiple="yes"创建*选择。*您可以查看 CRUD 模块的 relationField.html 视图以了解它是如何完成的。

您可能会想到更改关系字段标签可能会解决您的问题。然后我建议你查看这个讨论[How do I override CRUD tags in Play！框架 1.2.4](https://stackoverflow.com/questions/11936439/how-do-i-override-crud-tags-in-play-framework-1-2-4)。

# unit-testing - gmock 单元测试

> ID：12836287
> 
> 赞同：0
> 
> 时间：2012-10-11T09:22:17.070
> 
> 标签：unit-testing, testing, googletest, gmock

考虑这种情况

```
class A
{
   A(){}
   virtual int Method1(){return 0;}
};

class B
{
   static int Method2(){ return a.Method1();}
   A a;
}; 
```

我需要测试 B 类，所以我想使用模拟的 Method1 来替换真实的 Method1 但不改变 B 类的代码。B类的变量a既不是指针也不是引用，所以有什么办法或解决这个问题。

# c# - NHibernate 3.3：使用复合外键映射多对多关系

> ID：12836288
> 
> 赞同：2
> 
> 时间：2012-10-11T09:22:19.940
> 
> 标签：c#, nhibernate, fluent-nhibernate, mapping-by-code

我试图弄清楚如何使用 NHibernate 的“性感”**代码**系统映射来映射以下情况。请帮忙，因为我一直在尝试解决这个问题，但没有运气！我正在使用组件来表示复合键。下面是我要映射的表格。

```
Account
-------
BSB (PK)
AccountNumber (PK)
Name

AccountCard
-----------
BSB (PK, FK)
AccountNumber (PK, FK)
CardNumber (PK, FK)

Card
------------
CardNumber (PK)
Status 
```

这是我目前的尝试（根本不起作用！）

帐户：

```
public class Account
{
    public virtual AccountKey Key { get; set; }
    public virtual float Amount { get; set; }
    public ICollection<Card> Cards { get; set; }
}

public class AccountKey
{
    public virtual int BSB { get; set; }
    public virtual int AccountNumber { get; set; }
    //Equality members omitted
}

public class AccountMapping : ClassMapping<Account>
{
    public AccountMapping()
    {
        Table("Accounts");
        ComponentAsId(x => x.Key, map => 
            {
                map.Property(p => p.BSB);
                map.Property(p => p.AccountNumber);
            });
        Property(x => x.Amount);

        Bag(x => x.Cards, collectionMapping =>
                {
                    collectionMapping.Table("AccountCard");
                    collectionMapping.Cascade(Cascade.None);

                    //How do I map the composite key here?
                    collectionMapping.Key(???);                        
                },
                map => map.ManyToMany(p => p.Column("CardId")));

    }
} 
```

卡片：

```
public class Card
{
    public virtual CardKey Key { get; set; }
    public virtual string Status{ get; set; }

    public ICollection<Account> Accounts { get; set; }
}

public class CardKey
{
    public virtual int CardId { get; set; }
    //Equality members omitted
}

public class CardMapping : ClassMapping<Card>
{
    public CardMapping ()
    {
        Table("Cards");
        ComponentAsId(x => x.Key, map => 
            {
                map.Property(p => p.CardId);
            });
        Property(x => x.Status);

        Bag(x => x.Accounts, collectionMapping =>
        {
            collectionMapping.Table("AccountCard");
            collectionMapping.Cascade(Cascade.None);
            collectionMapping.Key(k => k.Column("CardId"));
        },

        //How do I map the composite key here?
        map => map.ManyToMany(p => p.Column(???)));

    }
} 
```

请告诉我这是可能的！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T03:06:31.567

你非常接近。

`IKeyMapper`您在 the`Key`和方法的Action 参数中获得的`ManyToMany`有一个`Columns`方法，该方法可以根据需要获取任意数量的参数，因此：

```
collectionMapping.Key(km => km.Columns(cm => cm.Name("BSB"),
                                       cm => cm.Name("AccountNumber")));
//...
map => map.ManyToMany(p => p.Columns(cm => cm.Name("BSB"),
                                     cm => cm.Name("AccountNumber")))); 
```

# perl - 从 Perl 脚本在命令行上运行需要密码的程序

> ID：12836289
> 
> 赞同：0
> 
> 时间：2012-10-11T09:22:23.370
> 
> 标签：perl, bash

我已经围绕一个 shell 脚本编写了一个 Perl 包装器。我正在使用 IPC::Run::Simple 来执行系统命令。举个例子：

```
run ("mkdir ~$usr/12.2.0_cp/faiz_cpv/$pdate") or die "Error $ERR";
run ("cp ~$usr/12.2.0_cp/faiz_cpv/MPlist.lst ~$usr/12.2.0_cp/faiz_cpv/$pdate") || die "Error: $ERR";
run ("cd ~$usr/12.2.0_cp/faiz_cpv/$pdate; sh /opsutils/mfg_top/rel/CPV/bin/list_generation.sh . MPlist.lst mfg_relall_us\@oracle.com") or die "error $ERR";
.
. 
```

这些 shell 脚本之一要求脚本的用户输入他们的密码。也就是说，在标准输出上打印一条消息，并通过 shell 接受密码。在整个过程中会对该 shell 脚本进行多次调用，这意味着用户必须多次重新输入密码。

有没有一种方法可以让我在命令行本身向用户请求密码，并隐式传递该密码，而不是一次又一次地提示用户输入密码？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T10:24:10.987

Perl 具有内置的和`mkdir`File [::Copy](https://metacpan.org/module/File%3a%3aCopy)提供了一个复制例程。使用它们通常比炮击更安全、更快。虽然它不会为你翻译。 [File::chdir](https://metacpan.org/module/File%3a%3achdir)使更改目录和运行命令更加安全。`chdir``~`

其余的，使用完整的[IPC::Run](https://metacpan.org/module/IPC%3a%3aRun)来控制与程序的交互，使用[Term::ReadLine::Gnu](https://metacpan.org/module/Term%3a%3aReadLine%3a%3aGnu)来读取密码而不显示密码。抱歉，这只是一个草图，而不是完整的答案。

# objective-c - 读取本地 html 文件并在 webview 上显示

> ID：12836290
> 
> 赞同：0
> 
> 时间：2012-10-11T09:22:27.823
> 
> 标签：objective-c, ios, webview

我已经能够从实时 url 中读取一个名为“exerciseA.htm”的文件。但现在我需要将文件本地添加到项目中并从那里读取。我已将文件拖到 xcode 中以添加它。现在我需要将其内容读入一个字符串，但是以下似乎不起作用：

```
NSString* exerciseAPage =  [[NSString alloc] initWithContentsOfFile:[[NSBundle mainBundle] pathForResource:@"exerciseA" ofType:@"htm"] encoding:NSUTF8StringEncoding error:&error];
    [exerciseWebViewA loadHTMLString:exerciseAPage baseURL:nil]; 
```

这是将本地 htm 文件加载到 webview 的正确方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:29:28.760

我按照以下方式进行（与您指定的基本相同）：

```
 NSURL *url = [[NSBundle mainBundle] URLForResource:nameOfHtmlFile withExtension:@"html"];
     NSError *error;
     NSString *contentString = [NSString stringWithContentsOfURL:url encoding:NSStringEncodingConversionAllowLossy error:&error];
     NSURL *baseUrl = [NSURL fileURLWithPath:[[NSBundle mainBundle] bundlePath]];
     [self.webView loadHTMLString:contentString baseURL:baseUrl]; 
```

希望这可以帮助

亚历克斯

# oracle - Oracle Data Pump Import 在 evfery 字符后导入带有空格的 LONG

> ID：12836292
> 
> 赞同：0
> 
> 时间：2012-10-11T09:22:34.757
> 
> 标签：oracle, datapump

我正在使用数据泵导入/导出将 11g oracle 模式导入 10g 数据库。问题是，在我的一个 LONG 列上，当导入数据时，数据泵似乎在每个字符后都放了一个空格，所以数据看起来像这样：

```
{somedata} 
```

对此：

```
{ s o m e d a t a } 
```

这显然会破坏试图使用该数据库的应用程序。有办法解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:44:08.567

您正在将数据从较新版本的数据库移动到较旧版本。数据泵可以做到这一点，但不是默认的。`VERSION=10.2`您在运行导出时 是否指定（或其他）？[了解更多](http://docs.oracle.com/cd/B28359_01/server.111/b28319/dp_export.htm#i1007148)。

# c# - 获取文件列表

> ID：12836297
> 
> 赞同：2
> 
> 时间：2012-10-11T09:22:45.253
> 
> 标签：c#, ftp

我正在尝试获取 FTP 文件夹中的文件列表。当我在本地运行代码时，它可以工作，但是在部署它时，我开始接收 html 而不是文件名

```
ArrayList fName = new ArrayList();
try
{
    StringBuilder result = new StringBuilder();

    //create the directory
    FtpWebRequest requestDir =
        (FtpWebRequest) FtpWebRequest.Create(new Uri(directory));
    requestDir.Method = WebRequestMethods.Ftp.ListDirectory;
    requestDir.Credentials = new NetworkCredential(FTP_USER_NAME, FTP_PASSWORD);
    requestDir.UsePassive = true;
    requestDir.UseBinary = true;
    requestDir.KeepAlive = false;
    requestDir.Proxy = null;
    FtpWebResponse response = (FtpWebResponse)requestDir.GetResponse();
    Stream ftpStream = response.GetResponseStream();
    StreamReader reader = new StreamReader(ftpStream, Encoding.ASCII);

    while (!reader.EndOfStream)
    {
        fName.Add(reader.ReadLine().ToString());
    }

    response.Close();
    ftpStream.Close();
    reader.Close(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:34:59.797

你可以试试`GetFileName`

```
Uri uri = new Uri(hreflink);
string filename = Path.GetFileName(uri.LocalPath); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-17T03:10:44.280

通过使用 ftp 服务器的 ip 地址而不是名称，我能够以列表格式（而不是 html）访问文件名

IE

```
 [ftp://xxx.x.x.xxx/folder_name/](ftp://xxx.x.x.xxx/folder_name/) 
```

代替

```
 [ftp://abc.some_company.com/folder_name/](ftp://abc.some_company.com/folder_name/) 
```

我将使用更多详细信息编辑此答案。

# maven - 如何在maven程序集中包含依赖文件

> ID：12836299
> 
> 赞同：2
> 
> 时间：2012-10-11T09:22:46.570
> 
> 标签：maven, maven-assembly-plugin

我有一个 Maven 项目，它被配置（通过使用 pom.xml 和 assembly.xml）打包一个 zip 文件，其中包含编译的 webapp（war 文件）和 src/main/folder 下的所有文件，只要我们运行`mvn clean package assembly:single`。

该项目导入/使用另一个 maven 项目（它成为一个 jar 文件），而该项目又导入/使用第三个 maven 项目（同样是一个 jar 文件）。

第三个项目还包含 src/main/folder 中的一些文件，每当我构建主项目时，我希望将它们与 zip 文件中的其他文件放在一起（链顶部的一个成为战争文件）。

是否有可能以某种方式告诉 maven 将特定文件夹中的所有文件包含在它的所有依赖项（或一个特定依赖项）中以及 zip 文件中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T17:56:41.907

从这里开始：[Maven：完整参考 - 8.5。控制装配的内容](http://www.sonatype.com/books/mvnref-book/reference/assemblies-sect-controlling-contents.html)

请注意，如果您`deploy`使用 Maven 项目`assembly:assembly`（您确实应该将其配置为`<build>`插件，而不是在命令行上使用），则程序集会“附加”到项目并安装在存储库中。然后，您可以使用 Maven 依赖符号来访问它们，即`mygroup:myartifact:extrafiles:zip`

我发现装配描述符`<dependencySets>`配置起来很麻烦。它们确实适用于简单的情况（包括应用程序在运行时需要的 JAR 文件）。

这是我为您想要的结果采取的一般方法：

1.  使用[Maven Dependency Plugin](http://maven.apache.org/plugins/maven-dependency-plugin/usage.html) `dependency:copy`从其他项目下载特定文件，将它们放在 的子目录下`target/`

2.  配置您的程序集描述符以将那些下载/提取的文件添加到您的最终程序集工件中。

[或者，使用Maven Ant Run Plugin](http://maven.apache.org/plugins/maven-antrun-plugin/)一起破解一些东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:20:51.473

您将需要从第三个项目中生成一个额外的程序集来打包额外的文件。附加程序集 ID，以便生成一个名为 third-1.0.0-extrafiles.zip 的包

然后使用依赖描述符中的 <type>extrafiles</type> 将其添加为您的第一个项目的依赖项。在第一个项目的程序集中，您必须告诉它“解包”这种类型的依赖项（这样您就不会在 zip 中获得 zip）

# hadoop - 用于 EMR 的 hi1.4xlarge SSD EC2 实例

> ID：12836311
> 
> 赞同：0
> 
> 时间：2012-10-11T09:23:22.207
> 
> 标签：hadoop, amazon-s3, amazon-ec2, solid-state-drive, emr

我有几个在 EMR 上运行的 hadoop 作业。其中一些作业需要处理日志文件。日志文件很大，每个 .gz 格式约 3GB。日志存储在 S3 上。

目前，我使用 m1.xlarge 进行处理，仅将日志文件从 S3 复制到 HDFS 大约需要 3 个小时。在这里，瓶颈是从 S3 读取还是写入 HDFS？

我的计划是使用基于新 SSD 的 hi1.4xlarge，因为它具有快速 I/O，而不是 m1.xlarge。但它有助于降低成本吗？

但是hi1.4xlarge的成本要比m1.xlarge高很多。

m1.xlarge - 8 个 EC2 计算单元 @ 每个 0.614$ = 4.912 $ /小时 h1.4xlarge - 35 个 EC2 计算单元 @ 每个 3.1$ = 108.5 $ /小时

价格涨幅约为 23 倍。我会得到这么多的性能提升吗？考虑我的 hadoop 工作是高 I/O 限制。

我无法通过启动 hi1.4xlarge 实例自己测试它，所以在 StackOverflow 上询问它。有没有人有比较这两种实例类型的基准？谷歌没有帮助。

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:01:16.517

1.  我不认为 SSD 实例是好的选择，因为它们的价值在于高随机 IO，而在 Hadoop 中我们需要顺序 IO。

2.  在从 s3 复制到 HDFS 期间，s3 几乎可以肯定是一个瓶颈。

3.  为了省钱，我建议尝试较小的实例来平衡 IO 和 CPU

4.  您是否使用 DISTCP 将数据从 s3 复制到 HDFS（只是为了检查...）

5.  如果您在每个集群生命周期处理一次日志 - 您可以直接从 s3 处理并避免复制到 HDFS。

# postgresql - Postgresql 9.2 pg_dump 版本不匹配

> ID：12836312
> 
> 赞同：175
> 
> 时间：2012-10-11T09:23:23.493
> 
> 标签：postgresql, backup, pg-dump, postgresql-9.2

我正在尝试使用**pg_dump**工具转储 Postgresql 数据库。

```
$ pg_dump books > books.out 
```

我怎么会收到这个错误。

```
pg_dump: server version: 9.2.1; pg_dump version: 9.1.6
pg_dump: aborting because of server version mismatch 
```

该`--ignore-version`选项现在已弃用，即使它有效，也不会真正解决我的问题。

如何升级**pg_dump**来解决这个问题？

* * *

## 回答 #1

> 赞同：86
> 
> 时间：2014-04-08T19:29:41.607

我在 Ubuntu 上使用 Heroku 时遇到了这个问题，这是我修复它的方法：

1.  [按照“ Linux 下载 (Ubuntu)](http://www.postgresql.org/download/linux/ubuntu/) ”中的说明添加 PostgreSQL apt 存储库。（其他操作系统也有类似的页面。）

2.  升级到最新版本（对我来说是 9.3）：

    ```
    sudo apt-get install postgresql 
    ```

3.  重新创建符号链接`/usr/bin`：

    ```
    sudo ln -s /usr/lib/postgresql/9.3/bin/pg_dump /usr/bin/pg_dump --force 
    ```

    `/usr/lib/postgresql/...`上述路径中的版本号应与`server version`您收到的错误中的版本号相匹配。因此，如果您的错误是`pg_dump: server version: 9.9`，则链接到`/usr/lib/postgresql/9.9/...`。

* * *

## 回答 #2

> 赞同：83
> 
> 时间：2015-09-03T09:25:46.630

1.  检查已安装的 pg_dump 版本：

    ```
    find / -name pg_dump -type f 2>/dev/null 
    ```

2.  我的输出是：

    ```
    /usr/pgsql-9.3/bin/pg_dump
    /usr/bin/pg_dump 
    ```

3.  安装了两个版本。用新版本更新 pg_dump：

    ```
    sudo ln -s /usr/pgsql-9.3/bin/pg_dump /usr/bin/pg_dump --force 
    ```

这将创建指向较新版本的符号链接。

* * *

## 回答 #3

> 赞同：43
> 
> 时间：2013-03-08T12:48:19.517

Mac 有一个`/usr/bin/pg_dump`默认使用的内置命令。

通过 postgresql 安装，您将获得另一个二进制文件`/Library/PostgreSQL/<version>/bin/pg_dump`

* * *

## 回答 #4

> 赞同：36
> 
> 时间：2017-02-10T11:40:52.613

您可以`pg_dump`在命令中找到并使用完整路径

```
locate pg_dump

/usr/bin/pg_dump
/usr/bin/pg_dumpall
/usr/lib/postgresql/9.3/bin/pg_dump
/usr/lib/postgresql/9.3/bin/pg_dumpall
/usr/lib/postgresql/9.6/bin/pg_dump
/usr/lib/postgresql/9.6/bin/pg_dumpall 
```

现在只需在命令中使用所需版本的路径

```
/usr/lib/postgresql/9.6/bin/pg_dump books > books.out 
```

* * *

## 回答 #5

> 赞同：30
> 
> 时间：2012-10-11T09:26:47.427

您可以在客户端机器上安装 PostgreSQL 9.2.1，或者只是从 PostgreSQL 服务器机器`pg_dump`复制到客户端机器。`$PGHOME`请注意，客户端机器中不需要`initdb`新的集群。

安装完 9.2.1 软件后，记得编辑`.bash_profile`文件中的一些环境变量。

* * *

## 回答 #6

> 赞同：19
> 
> 时间：2014-03-08T21:39:47.120

如果您使用的是 Ubuntu，则可能安装了旧版本`postgresql-client`。根据您的错误消息中的版本，解决方案如下：

```
sudo apt-get remove postgresql-client-9.1
sudo apt-get install postgresql-client-9.2 
```

* * *

## 回答 #7

> 赞同：14
> 
> 时间：2019-09-04T13:27:49.347

在 Ubuntu 上，您可以简单地[添加最新的 Apt 存储库](https://www.postgresql.org/download/linux/ubuntu/)，然后运行：

```
sudo apt-get install postgresql-client-11 
```

* * *

## 回答 #8

> 赞同：12
> 
> 时间：2012-10-11T09:45:09.830

每次升级或重新安装新版本的 PostgreSQL 时， `pg_dump` 都会安装最新版本的 PostgreSQL。

你的系统上必须有一个 `PostgreSQL/bin` 目录，在你安装的最新版本的 PostgreSQL 下（9.2.1 是最新的），然后尝试 `pg_dump` 从那里运行。

* * *

## 回答 #9

> 赞同：11
> 
> 时间：2017-10-07T01:16:04.470

对于那些运行**Postgres.app**的人：

1.  将以下代码添加到您的`.bash_profile`：

    ```
    export PATH=/Applications/Postgres.app/Contents/Versions/latest/bin:$PATH 
    ```

2.  重启终端。

* * *

## 回答 #10

> 赞同：10
> 
> 时间：2016-09-12T07:44:35.123

对于带有 Homebrew 的 Mac。从 Heroku 获取数据库时遇到了这个问题。我已经修复它只是运行：

```
brew upgrade postgresql 
```

* * *

## 回答 #11

> 赞同：9
> 
> 时间：2016-10-07T21:57:25.950

如果您安装了 docker，您可以执行以下操作：

`$ docker run postgres:9.2 pg_dump books > books.out`

这将下载包含 Postgres 9.2 的 Docker 容器，`pg_dump`在容器内部运行，然后写入输出。

* * *

## 回答 #12

> 赞同：7
> 
> 时间：2013-10-13T14:17:04.070

对于 mac 用户，放在 .profile 文件的顶部。

```
export PATH="/Applications/Postgres.app/Contents/MacOS/bin:$PATH" 
```

然后运行

```
. ~/.profile 
```

* * *

## 回答 #13

> 赞同：6
> 
> 时间：2018-05-25T18:28:41.803

我认为其他人没有涵盖的替代答案。

如果您安装了多个 PG 集群（就像我一样），那么您可以使用`pg_lsclusters`.

您应该能够从显示的列表中看到版本和集群。

从那里，您可以执行以下操作：

```
pg_dump --cluster=9.6/main books > books.out 
```

显然，将版本和集群名称替换为适合您的情况的版本和集群名称，从返回的内容中`pg_lsclusters`使用 / 分隔版本和集群。这针对您希望运行的特定集群。

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2016-11-09T04:39:37.543

正如所解释的，这是因为您的 postgresql 是旧版本 -> 通过自制软件为 Mac 更新它：

`brew tap petere/postgresql`,

`brew install <formula>`（例如`brew install petere/postgresql/postgresql-9.6`：）

删除旧的 postgre：

`brew unlink postgresql`

`brew link -f postgresql-9.6`

如果发生任何错误，请不要忘记阅读并遵循每个步骤中的 brew 说明。

查看更多信息：[https ://github.com/petere/homebrew-postgresql](https://github.com/petere/homebrew-postgresql)

* * *

## 回答 #15

> 赞同：4
> 
> 时间：2019-10-28T17:00:21.493

对我来说，问题是更新`psql` `apt-get`并没有解决较新的版本，即使在`update`. 以下工作。

**Ubuntu**

从为 PostgreSQL 包导入 GPG 密钥开始。

```
sudo apt-get install wget ca-certificates
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add - 
```

现在将存储库添加到您的系统。

```
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main" >> /etc/apt/sources.list.d/pgdg.list' 
```

在 Ubuntu 上安装 PostgreSQL

```
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib 
```

[https://www.postgresql.org/download/linux/ubuntu/](https://www.postgresql.org/download/linux/ubuntu/)

* * *

## 回答 #16

> 赞同：3
> 
> 时间：2018-04-11T18:25:35.400

答案听起来很傻，但是如果您遇到上述错误并想为早期版本运行 pg_dump，请转到 postgres 的 bin 目录并键入

./pg_dump servername > out.sql ./ 忽略根目录并在当前目录中查找 pg_dump

* * *

## 回答 #17

> 赞同：3
> 
> 时间：2019-06-19T09:43:02.237

我有同样的错误，这就是我在我的情况下解决它的方法。这意味着您的 postgresql 版本是 9.2.1，但您已经启动了 9.1.6 的 postgresql 服务。

如果你运行`psql postgres`你会看到：

`psql (9.2.1, server 9.1.6)`

我为解决这个问题所做的是：

1.  `brew services stop postgresql@9.1.6`
2.  `brew services restart postgresql@9.2.1`

现在运行`psql postgres`，你应该有：`psql (9.2.1)`

您还可以运行`brew services list`以查看您的 postgres 的状态。

* * *

## 回答 #18

> 赞同：2
> 
> 时间：2013-10-01T15:53:27.187

如果您使用 Heroku 的 Postgres.app，则 pg_dump（以及所有其他二进制文件）位于`/Applications/Postgres.app/Contents/MacOS/bin/`

所以在那种情况下

`ln -s /Applications/Postgres.app/Contents/MacOS/bin/pg_dump /usr/local/bin/pg_dump`

或者

`ln -s /Applications/Postgres.app/Contents/MacOS/bin/* /usr/local/bin/.`

抓住他们

* * *

## 回答 #19

> 赞同：2
> 
> 时间：2013-12-04T03:51:32.010

** 安装后 postgres 版本匹配（9.2）创建符号链接或新快捷方式

**- 在“/usr/bin”上

```
syntag is = sudo ln -s [path for use] [new shortcut name] 
```

例子

```
sudo ln -s /usr/lib/postgresql/9.2/bin/pg_dump new_pg_dump 
```

-- 调用方法：new_pg_dump -h 192.168.9.88 -U postgres 数据库

* * *

## 回答 #20

> 赞同：2
> 
> 时间：2014-10-17T15:26:50.753

试试看：

```
export PATH=/usr/local/bin:$PATH 
```

* * *

## 回答 #21

> 赞同：2
> 
> 时间：2016-01-14T15:18:27.230

如果数据库安装在不同的机器上，它可能安装了正确版本的 pg_dump。这意味着您可以使用 SSH 远程执行 pg_dump 命令： `ssh username@dbserver pg_dump books > books.out`

您还可以使用公钥身份验证进行无密码执行。实现这一目标的步骤：

1.  使用 ssh-keygen 命令生成（如果尚未完成）一对密钥。
2.  将公钥复制到数据库服务器，通常是 ~/.ssh/authorized_keys。
3.  使用 ssh 命令测试连接是否有效。

* * *

## 回答 #22

> 赞同：2
> 
> 时间：2016-11-15T08:28:09.403

好吧，我遇到了同样的问题，因为我安装了两个 postgress 版本。

只需使用正确的 pg_dump 就无需更改任何内容，在您的情况下：

```
 $> /usr/lib/postgresql/9.2/bin/pg_dump books > books.out 
```

* * *

## 回答 #23

> 赞同：1
> 
> 时间：2016-10-27T06:21:08.780

对于 mac，使用`find / -name pg_dump -type f 2>/dev/null`find pg_dump 的位置

对我来说，我有以下结果：

```
Applications/Postgres.app/Contents/Versions/9.5/bin/pg_dump
/usr/local/Cellar/postgresql/9.4.5_2/bin/pg_dump 
```

如果您不想使用`sudo ln -s new_pg_dump old_pg_dump --force`，只需使用：

`Applications/Postgres.app/Contents/Versions/9.5/bin/pg_dump``pg_dump`在您的终端中替换为

例如：

```
Applications/Postgres.app/Contents/Versions/9.5/bin/pg_dump books > books.out 
```

这个对我有用！

* * *

## 回答 #24

> 赞同：0
> 
> 时间：2020-09-21T19:48:53.460

第一步：查看 postgres 是否有一个存储库，其中包含您想要的操作系统版本的预构建二进制文件：[https ://www.postgresql.org/download/](https://www.postgresql.org/download/)

如果这不起作用（例如，如果您的发行版在那里但不再受支持，因此没有为其提供正确的二进制文件），或者您只想直接访问源代码而不必担心添加远程回购等

我所做的是为所需版本[下载postgres 的原始源代码。](https://www.postgresql.org/ftp/source/)

解压它， cd 进入它，构建它`./configure && make`，然后：

```
postgresql-12.3 $ find . -name pg_dump
./src/bin/pg_dump/pg_dump
$ ./src/bin/pg_dump/pg_dump

unable to load libpg.so.5 # if it says this...
$ find . -name libpg.so.5
$ export LD_LIBRARY_PATH=/your/path/to/the/shared/dir/of/above/file

$ ./src/bin/pg_dump/pg_dump # works now 
```

现在您可以访问在您的盒子上构建的任何版本。应该是任何。

* * *

## 回答 #25

> 赞同：0
> 
> 时间：2020-10-06T02:58:15.880

在我的场景中，生产版本是12，我的开发版本是11，升级包`postgresql-client-xx`足以解决我的事件。

参考网页：[https ://www.postgresql.org/download/linux/ubuntu/](https://www.postgresql.org/download/linux/ubuntu/)

```
sudo apt-get update && sudo apt-get -y upgrade postgresql-client 
```

需要指出的一件有趣的事情是，在升级后保持安装以前的版本：

```
mlazo@mlazo-pc:~$ dpkg -l |grep -i postgresql-client
ii  postgresql-client-11                                             11.8-1.pgdg18.04+1                                  amd64        front-end programs for PostgreSQL 11
ii  postgresql-client-12                                             12.4-1.pgdg18.04+1                                  amd64        front-end programs for PostgreSQL 12 
```

希望我的经验对某人有所帮助。

问候，

* * *

## 回答 #26

> 赞同：0
> 
> 时间：2021-03-04T18:02:24.910

### 完整步骤教程

您的本地版本需要与远程服务器上 AWS 使用的版本相匹配。不幸的是，apt-get install 会落后于官方发布。

因此，您需要按照以下方式进行：

```
sudo apt-get remove postgresql
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add - 
```

然后检查你的错误信息应该是这样的

```
pg_dump: server version: 12.3; pg_dump version: 10.16 (Ubuntu 10.16-0ubuntu0.18.04.1) 
```

**因此，这意味着您需要版本 12（而不是 13），通过在全新安装期间指定版本号（无次要版本）来安装匹配版本：**

```
sudo apt-get -y install postgresql-12 
```

现在它起作用了：

```
 pg_dump -h {{endpoint}} -U {{username}} -f dump.sql {{tablename}} 
```

****注意：您在连接性和安全性**中获得端点，转到[https://us-east-2.console.aws.amazon.com/rds/home?region=us-east-2](https://us-east-2.console.aws.amazon.com/rds/home?region=us-east-2)并单击您的数据库实例**

* * *

## 回答 #27

> 赞同：0
> 
> 时间：2021-03-10T09:43:46.933

这对我有用，是来自上述网站和其他网站的一系列解决方案。如果您之前指定了 postgressql-client-11 之类的版本，则需要先删除该版本。

```
sudo apt-get remove -y postgresql-client
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt/ `lsb_release -cs`-pgdg main" >> /etc/apt/sources.list.d/pgdg.list'
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -
sudo apt-get update
sudo apt-get install -y postgresql-client-12 
```

* * *

## 回答 #28

> 赞同：0
> 
> 时间：2021-03-31T14:48:16.543

我有同样的信息，对我来说，我必须调整以下内容：

```
export LD_LIBRARY_PATH=/usr/pgsql-12/lib:....
export LD_RUN_PATH=/usr/pgsql-12/lib:..... 
```

* * *

## 回答 #29

> 赞同：0
> 
> 时间：2021-08-04T01:02:08.797

对于带有“官方”postgresql 存储库的 Ubuntu 20.04，从 pg12 移动到 pg13，我必须这样做：

```
sudo apt purge postgresql-12 
```

这对我来说很难确定。我玩过各种这样的包：

*   postgresql 客户端
*   postgresql-client-common
*   postgresql-##
*   postgresql-客户端-##
*   postgresql-server-dev-##
*   pgadmin

咆哮：Postgresql 可以是一袋剃须刀。看看有多少人在努力回答这个简单的问题。混合和匹配 sql/nosql 很好，但如果你是一个想要“正常工作”的开发人员，请坚持使用 mongodb、sqlite 或 mariadb。反正我一文不值的2c。

* * *

## 回答 #30

> 赞同：0
> 
> 时间：2021-11-28T00:02:44.403

```
run pg_dump -d [DATABASE] -h [HOST] -p [PORT] -U [USER] 
```

它将 pg_dump 与 postgres 版本匹配并成功运行您的转储

* * *

## 回答 #31

> 赞同：-6
> 
> 时间：2013-04-21T10:11:08.433

我在安装 Fedora 17 时遇到了类似的问题。这就是我为解决这个问题所做的

*   删除内置`pg_dump`的`/usr/bin/pg_dump`（作为根：“rm /usr/bin/pg_dump”）
*   现在制作postgresql安装的符号链接

    再次作为根`ln -s /usr/pgsql-9.2/bin/pg_dump /usr/bin/pg_dump`

这应该够了吧

# jquery - 浮动 div 顶部间距

> ID：12836315
> 
> 赞同：3
> 
> 时间：2012-10-11T09:23:30.690
> 
> 标签：jquery, html, css

我想在不更改 HTML 的情况下对齐黑色列下的红色列：

[http://jsfiddle.net/3HUNZ/28/](http://jsfiddle.net/3HUNz/28/)

是否有任何 jquery 或 css 解决方案？

CSS：

```
.col{
    width: 25%;
    border: 1px solid black;
    margin: 10px;
    padding:2px;
    float:left;
}

.clear{clear:both;}

.col1{height: 200px;}
.col2{height: 300px;}
.col3{height: 200px;}
.col4{height: 200px; border: 1px solid red;}
.col5{height: 220px; border: 1px solid red;}
.col6{height: 120px; border: 1px solid red;} 
```

HTML：

```
<div class="col col1">1</div>
<div class="col col2">2</div>
<div class="col col3">3</div>
<div class="clear"></div>
<div class="col col4">4</div>
<div class="col col5">5</div>
<div class="col col6">6</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:24:56.150

使用浮动属性

```
.col2 {
float: right;
height: 200px;
} 
```

并设置

```
.col3{border: 1px solid red;
float: left;
} 
```

演示：[小提琴](http://jsfiddle.net/3HUNz/17/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:25:58.417

由于您为第一个 div 设置了固定高度，因此您可以使用 position:absolute 轻松地将红色 div 放置在第一个 div 下方

```
.col3{border: 1px solid red; position:absolute; top:100px}​ 
```

演示[http://jsfiddle.net/3HUNZ/18/](http://jsfiddle.net/3HUNz/18/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:27:00.977

您需要使用浮动概念使它们对齐：

[http://jsfiddle.net/3HUNZ/16/](http://jsfiddle.net/3HUNz/16/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:27:02.447

如果盒子保持不变，那么你可以这样做：

```
.col3 { margin-top: -90px; }​ 
```

[http://jsfiddle.net/X37eZ/](http://jsfiddle.net/X37eZ/)

# java - 更新 Mongodb-dataneucleus 中的文档

> ID：12836316
> 
> 赞同：0
> 
> 时间：2012-10-11T09:23:32.400
> 
> 标签：java, mongodb, jdo, datanucleus

我有一个 Web 项目，其中包含带有 JDO 注释的 java 类。我的数据库是 MongoDB。我在我的项目中使用 datanucleus。要将我的 java 对象持久保存在我的数据库中，我使用以下代码：

```
 ListAcc list = new ListAcc();
    list.name = "created";
    pm.makePersistent(list); 
```

然后，我使用以下代码检索我的文档：

```
 ListAcc l = pm.getObjectById(ListAcc.class,"507675823004b91181edc746"); 
```

在那之前，一切正常。现在，我想更新我的文档。为此，我使用以下代码：

```
 Transaction tx = pm.currentTransaction();
    tx.begin();
    try {
      ListAcc l = pm.getObjectById(ListAcc.class,"507675823004b91181edc746");
      l.name = "changing";
      tx.commit();
    } catch(Exception e) {
      tx.rollback();
    } 
```

但是，此操作不会更新我的文档。

你能帮我更新我的文件吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:35:53.760

你的意思是你更新了那个类的**公共**字段？首先，使用公共字段是不好的编程习惯，其次，如果您希望在持久性上下文中这样做，则必须将更新这些公共字段的类注释为@PersistenceAware（或仅在类上使用 setter 方法）。所有这些都在 DN 文档中

# objective-c - AVAssetExportSession - mov 仅音频文件无法导出？

> ID：12836320
> 
> 赞同：2
> 
> 时间：2012-10-11T09:23:48.203
> 
> 标签：objective-c, ios, xcode4, avassetexportsession

我有一个音频播放器，它应该能够播放多种音频格式。该应用程序正在使用 BASS 音频库，它需要一些导出。以下是格式。除了 .mov （仅限音频）格式的文件外，一切都运行良好。

关于解决这个问题的正确方法有什么想法吗？

* * *

```
exportSession = [[AVAssetExportSession alloc] initWithAsset:asset presetName:AVAssetExportPresetPassthrough];
if (nil == exportSession)
    @throw [NSException exceptionWithName:TSUnknownError reason:@"Couldn't create AVAssetExportSession" userInfo:nil];

if ([[assetURL pathExtension] compare:@"mp3"] == NSOrderedSame) {
    [self doMp3ImportToFile:destURL completionBlock:completionBlock];
    return;
}

exportSession.outputURL = destURL;

// set the output file type appropriately based on asset URL extension
if ([[assetURL pathExtension] compare:@"m4a"] == NSOrderedSame) {
    exportSession.outputFileType = AVFileTypeAppleM4A;
} else if ([[assetURL pathExtension] compare:@"wav"] == NSOrderedSame) {
    exportSession.outputFileType = AVFileTypeWAVE;
} else if ([[assetURL pathExtension] compare:@"aif"] == NSOrderedSame) {
    exportSession.outputFileType = AVFileTypeAIFF;
} else if ([[assetURL pathExtension] compare:@"mp4"] == NSOrderedSame) {
    exportSession.outputFileType = AVFileTypeMPEG4;
} else if ([[assetURL pathExtension] compare:@"mov"] == NSOrderedSame) {
    exportSession.outputFileType = AVFileTypeQuickTimeMovie;
} else {
    @throw [NSException exceptionWithName:NSInvalidArgumentException reason:@"unrecognized file extension" userInfo:nil];
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-17T02:38:26.573

仅对于音轨 .mov 文件，输出应为

```
AVAssetExportSession *exportSession=[AVAssetExportSession exportSessionWithAsset:asset presetName:AVAssetExportPresetAppleM4A];

exportSession.outputURL=pathURL;
exportSession.outputFileType=AVFileTypeAppleM4A; 
```

# asp.net - Css 在 asp.net mvc3 Razor Views 中无法正常工作

> ID：12836323
> 
> 赞同：4
> 
> 时间：2012-10-11T09:23:58.280
> 
> 标签：asp.net, css, asp.net-mvc, asp.net-mvc-3, razor

我在 asp.net mvc3 上有一个应用程序并在剃刀视图中工作。在我的布局页面上，我附加了一个 css 文件并在该文件中放置了一些 css，但是当我访问`/Account/LogOn`视图时 css 不起作用。仅当我在视图中
附加 css 时它才有效。`Logon`任何人都知道为什么我在布局页面上附加的 CSS 不起作用`/Account/LogOn`？

我还尝试了包含以下代码：

```
@{
Layout = "~/Views/Shared/_Layout.cshtml";
ViewBag.Title = "xyz.com – Login";
 } 
```

它仍然无法正常工作。提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:26:03.303

像这样使用 url helper 引用您的 css

```
<link rel="stylesheet" type="text/css" href="@Url.Content("~/Content/default.css")"  media="screen" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-11T09:28:08.063

在您的`_layout.cshtml`中，确保使用引用应用程序根 (~) 的路径。用于`@Url.Content()`转义路径：

```
<link href="@Url.Content("~/Content/css/styles.css")" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-01T08:44:58.857

在文件夹 Contents 下创建样式表，名称为 say`abc.css`

现在在 LayoutPage 中包含样式表，以便它自动包含在从内容页面派生的所有页面中。

`<link href="@Url.Content("~/Content/abc.css")" rel="stylesheet" type="text/css" />`

# ios - 在滚动视图中拉动以刷新

> ID：12836325
> 
> 赞同：5
> 
> 时间：2012-10-11T09:24:03.137
> 
> 标签：ios, uiscrollview

是否可以在滚动视图中实现“拉动刷新”。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T09:54:37.877

谢谢。这些链接帮助了我。

[https://github.com/leah/PullToRefresh](https://github.com/leah/PullToRefresh)

[http://mt.gomiso.com/2012/03/22/yet-another-pull-to-refresh-library/](http://mt.gomiso.com/2012/03/22/yet-another-pull-to-refresh-library/)

[https://github.com/enormego/EGOTableViewPullRefresh](https://github.com/enormego/EGOTableViewPullRefresh)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-11T09:35:07.517

这里有一篇很好的文章：

[http://mt.gomiso.com/2012/03/22/yet-another-pull-to-refresh-library/](http://mt.gomiso.com/2012/03/22/yet-another-pull-to-refresh-library/)

为您提供了几种不同的实现方式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:55:41.003

请尝试使用滚动视图[https://github.com/enormego/EGOTableViewPullRefresh](https://github.com/enormego/EGOTableViewPullRefresh)；我相信以最小的机会去是好的。

还请查看[http://www.altinkonline.nl/tutorials/xcode/uitableview/pull-down-to-refresh/](http://www.altinkonline.nl/tutorials/xcode/uitableview/pull-down-to-refresh/)这是非常好的分步指南，可帮助您构建所需的内容。只需在该分步指南中将 UITableViewController 替换为 UIscrollview 即可，您将拥有好东西。

希望能帮助到你。吉格尔

# objective-c - 如何解决偶尔发生的这种僵局？

> ID：12836326
> 
> 赞同：1
> 
> 时间：2012-10-11T09:24:05.147
> 
> 标签：objective-c, ios5, core-data, nsmanagedobjectcontext, xcode4.5

我有一个并发类型为 NSMainQueueConcurrencyType 的 managedObjectContext

```
+ (NSManagedObjectContext *)managedObjectContextMainThread
{
    static NSManagedObjectContext *__managedObjectContext=nil;
    @synchronized(self)
    {
        if (__managedObjectContext != nil)
        {

        }
        else {
            NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];
            if (coordinator != nil)
            {
                __managedObjectContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSMainQueueConcurrencyType];
                [__managedObjectContext setPersistentStoreCoordinator:coordinator];
            }
        }
    }
    return __managedObjectContext;
} 
```

除非设置另一个 managedObjectContext.parent，否则永远不会在主线程之外访问主 managedObjectContext。因此 mainManagedObjectContext 是所有线程的父级。

现在当我运行程序时，有时它会陷入僵局。我暂停了程序，这就是我所看到的：

![在此处输入图像描述](../Images/1b5cf30cb1711697941278a90393e920.png)

正如我们在图片中看到的，有 2 个线程似乎处于死锁状态。第一个是主线程。

它在@synchronize (self) 上死锁。合理的。

另一个线程死锁：

![在此处输入图像描述](../Images/fd8352ceb2f6c290b95999c61d712c04.png)

因此，当尝试更改保存 __managedObjectContext 的静态变量的持久存储时，它会锁定。

让我把代码再次重申一遍：

```
+ (NSManagedObjectContext *)managedObjectContextMainThread
{
    static NSManagedObjectContext *__managedObjectContext=nil;
    @synchronized(self) //Main thread deadlock here
    {
        if (__managedObjectContext != nil)
        {

        }
        else {
            NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];
            if (coordinator != nil)
            {
                __managedObjectContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSMainQueueConcurrencyType];
                [__managedObjectContext setPersistentStoreCoordinator:coordinator]; //Secondary thread dead lock here
            }
        }
    }
    return __managedObjectContext;
} 
```

我的问题是为什么在地球上`[__managedObjectContext setPersistentStoreCoordinator:coordinator];`

没有其他东西正在访问 __managedObjectContext。第二个线程（非主线程）试图将 __managedObjectContext 设置为父上下文。第一个线程只是在@synchronized 中愉快地等待。它什么也没做。

那么为什么会出现死锁以及如何解决呢？

哦，子 managedObjectContext 是在这里创建的：

```
@synchronized(self)
{
    if ([managedObjectContexts objectForKey:[self threadKey]] == nil ) {
        NSManagedObjectContext *threadContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];
        threadContext.parentContext = [self managedObjectContextMainThread];  //Stuck here. This goes straight to above function managedObjectContextMainThread where it stucks.
        threadContext.mergePolicy = NSMergeByPropertyObjectTrumpMergePolicy;
        [managedObjectContexts setObject:threadContext forKey:[self threadKey]];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T00:47:51.227

问题是我试图在与主线程不同的线程上创建主托管对象上下文。

由于某种原因，它不起作用。

我仍然喜欢延迟加载。所以我需要做的就是确保主要的 managedObjectContext 是在

1.  主线程
2.  在创建任何其他 managedObjectContexts 之前。
3.  我不想确保我的程序不会首先尝试访问其他 managedObjectContexts

所以这看起来像是 dispatch_sync 的工作。

然后我添加了这段代码：

```
 dispatch_sync(dispatch_get_main_queue(),^{
        [self managedObjectContextMainThread];//Access it once to make sure it's there
    }); 
```

在我创建所有后台子 managedObjectContexts 之前。这应该很快，因为一旦创建该函数将只返回静态变量。

```
+(NSManagedObjectContext *)managedObjectContext {

    NSThread *thread = [NSThread currentThread];
    //BadgerNewAppDelegate *delegate = [BNUtilitiesQuick appDelegate];
    //NSManagedObjectContext *moc = delegate.managedObjectContext;

    if ([thread isMainThread]) {
        //NSManagedObjectContext *moc = [self managedObjectContextMainThread];
        return [self managedObjectContextMainThread];
    }
    else{
        dispatch_sync(dispatch_get_main_queue(),^{
            [self managedObjectContextMainThread];//Access it once to make sure it's there
        });
    }

    // a key to cache the context for the given thread
    NSMutableDictionary *managedObjectContexts =[self thread].managedObjectContexts;

    @synchronized(self)
    {
        if ([managedObjectContexts objectForKey:[self threadKey]] == nil ) {
            NSManagedObjectContext *threadContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];
            threadContext.parentContext = [self managedObjectContextMainThread];
            //threadContext.persistentStoreCoordinator= [self persistentStoreCoordinator]; //moc.persistentStoreCoordinator;//  [moc persistentStoreCoordinator];
            threadContext.mergePolicy = NSMergeByPropertyObjectTrumpMergePolicy;
            [managedObjectContexts setObject:threadContext forKey:[self threadKey]];
        }
    }

    return [managedObjectContexts objectForKey:[self threadKey]];
} 
```

# c++ - shared_ptr 的输入迭代器

> ID：12836330
> 
> 赞同：2
> 
> 时间：2012-10-11T09:24:19.083
> 
> 标签：c++

我有一个包含以下函数的迭代器：

```
 ...
    T &operator*() { return *_i; }
    std::shared_ptr<T> operator->() { return _i; }

private:
    std::shared_ptr<T> _i;
    ... 
```

如何获得指向内部存储的 _i 的共享指针？

```
std::shared_ptr<Type> item = ??? 
```

我应该这样做：

```
MyInterfaceIterator<Type> i;
std::shared_ptr<Type> item = i.operator->(); 
```

或者我应该重写 operator*() 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:32:31.593

如果您可以编辑代码，您可以添加一个`get`返回内部的简单函数`shared_ptr`！比`operator->`直接打电话更好，不是吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:38:51.023

由于`std`通过取消引用迭代器来获取对象，我会说：

```
std::shared_ptr<T> operator*() { return _i; } 
```

另外，请注意，如果您只是尝试在 上调用方法`T`，则不需要先获取指针，因为`operator->()`是链接。这意味着

```
it->foo(); 
```

`T::foo()`即使`it.operator->()`返回一个共享的指针也会调用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:34:18.110

就迭代器而言，您必须编写 `operator*()`以取消引用它。实际上它是你的迭代器，你可以写任何你想要的东西。但是由于 C++ 程序员使用`std`广泛，如果您使用它会更好，`operator*()`因为它更易于理解。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:39:53.417

这个解决方案怎么样？

```
std::shared_ptr<T> operator()(){...} 
```

# silverlight - 新硒用户

> ID：12836338
> 
> 赞同：1
> 
> 时间：2012-10-11T09:24:41.247
> 
> 标签：silverlight, testing, selenium, automation, selenium-ide

我是 Selenium 自动化测试的新手。我安装了 Selenium IDE，我需要安装一些东西来测试 Silverlight Web 应用程序。谁能指导我做对吗？至于 Selenium RC，我该如何安装和使用它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:27:58.607

您可能想阅读[http://learnwpf.com/post/2012/06/27/Silverlight-Automated-UI-Testing-With-Selenium.aspx](http://learnwpf.com/post/2012/06/27/Silverlight-Automated-UI-Testing-With-Selenium.aspx)并尝试[https://code.google.com/p/silverlight-硒/](https://code.google.com/p/silverlight-selenium/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-12T09:50:31.650

要在您的系统中配置 selenium，您需要。1.Selenium RC (http://selenium.googlecode.com/files/selenium-server-standalone-2.25.0.jar) 2.selenium java 客户端驱动(http://selenium.googlecode.com/files/selenium- java-2.25.0.zip) 3.TestNG.jar(找到最新版本..我认为是5.5)(如果你使用的是testNG框架)首先去Eclipse市场安装TstNG框架。然后将 java 客户端驱动程序和 testNG.jar 添加到您的项目的引用库中。您可以从 cmd 提示符或 Eclipse 运行 Selenium rc。创建一个 testNG 文件以执行测试并开始执行。

# symfony - 在 Symfony 中找到但未显示的查询结果

> ID：12836344
> 
> 赞同：1
> 
> 时间：2012-10-11T09:25:14.443
> 
> 标签：symfony, doctrine-orm, twig

好吧，我真的没有看到这个。这是一个简单的页面，我尝试在其中显示连接查询的结果。

这是控制器代码：

```
public function pageApproachUpdateAction($pageId)
{
    $em=$this->getDoctrine()->getEntityManager();
    $pageWithMapItems = $em->getRepository('bndmyBundle:Page')->getPageWithMapItems($pageId);
    return $this->render('bndmyBundle:test.html.twig', array(
        'pageWithMapItems'     => $pageWithMapItems
    )); 
```

这是查询：

```
public function getPageWithMapItems($pageId) {
    $qb = $this->createQueryBuilder('p')
           ->leftJoin('p.mapItems', 'm')
           ->where('p.id = :pageId')
                ->setParameter('pageId', $pageId)
           ->addSelect('m');

    return $qb->getQuery()
           ->getSingleResult();
} 
```

这是树枝代码：

```
<body>
    {% for mapitem in pageWithMapItems %}
        item {{mapitem.id}}<br/>
    {% else %}
    No result
    {% endfor %}
</body> 
```

这是页面实体：

```
<?php

namespace bnd\myBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
* bnd\myBundle\Entity\Page
*
* @ORM\Table()
* @ORM\Entity(repositoryClass="bnd\myBundle\Entity\PageRepository")
*/
class Page
{
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

/**
 * @ORM\OneToMany(targetEntity="bnd\myBundle\Entity\Route", mappedBy="page")
 */
private $routes;

/**
 * @ORM\OneToMany(targetEntity="bnd\myBundle\Entity\MapItem", mappedBy="page")
 */
private $mapItems;

/**
 * @var smallint $number
 *
 * @ORM\Column(name="number", type="smallint")
 */
private $number;

/**
 * @var string $background
 *
 * @ORM\Column(name="background", type="string", length=255, nullable="true")
 */
private $background;

/**
 * @var string $type
 *
 * @ORM\Column(name="type", type="string", length=30)
 */
private $type;

/**
 * @var string $description
 *
 * @ORM\Column(name="description", type="text", nullable="true")
 */
private $description;

/**
 * Get id
 *
 * @return integer 
 */
public function getId()
{
    return $this->id;
}

/**
 * Set background
 *
 * @param string $background
 */
public function setBackground($background)
{
    $this->background = $background;
}

/**
 * Get background
 *
 * @return string 
 */
public function getBackground()
{
    return $this->background;
}

/**
 * Set type
 *
 * @param string $type
 */
public function setType($type)
{
    $this->type = $type;
}

/**
 * Get type
 *
 * @return string 
 */
public function getType()
{
    return $this->type;
}

public function __construct()
{
    $this->routes = new \Doctrine\Common\Collections\ArrayCollection();
    $this->mapItems = new \Doctrine\Common\Collections\ArrayCollection();
}

/**
 * Add routes
 *
 * @param bnd\myBundle\Entity\Route $routes
 */
public function addRoute(\bnd\myBundle\Entity\Route $routes)
{
    $this->routes[] = $routes;
}

/**
 * Get routes
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getRoutes()
{
    return $this->routes;
}

/**
 * Set number
 *
 * @param smallint $number
 */
public function setNumber($number)
{
    $this->number = $number;
}

/**
 * Get number
 *
 * @return smallint 
 */
public function getNumber()
{
    return $this->number;
}

/**
 * Add mapItems
 *
 * @param bnd\myBundle\Entity\MapItem $mapItems
 */
public function addMapItem(\bnd\myBundle\Entity\MapItem $mapItems)
{
    $this->mapItems[] = $mapItems;
}

/**
 * Get mapItems
 *
 * @return Doctrine\Common\Collections\Collection 
 */
public function getMapItems()
{
    return $this->mapItems;
}

/**
 * Set description
 *
 * @param text $description
 */
public function setDescription($description)
{
    $this->description = $description;
}

/**
 * Get description
 *
 * @return text 
 */
public function getDescription()
{
    return $this->description;
}
} 
```

和 MapItem 实体：

```
namespace bnd\myBundle\Entity;

use Doctrine\ORM\Mapping as ORM;

/**
 * bnd\myBundle\Entity\MapItem
 *
 * @ORM\Table()
 * @ORM\Entity(repositoryClass="bnd\myBundle\Entity\MapItemRepository")
 */
class MapItem
{
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer")
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="AUTO")
 */
private $id;

/**
 * @ORM\ManyToOne(targetEntity="bnd\myBundle\Entity\Page", inversedBy="mapItems")
 * @ORM\JoinColumn(nullable=false)
 */
private $page;

/**
 * @var string $type
 *
 * @ORM\Column(name="type", type="string", length=255)
 */
private $type;

/**
 * @var string $latlng
 *
 * @ORM\Column(name="latlng", type="text")
 */
private $latlng;

/**
 * @var string $description
 *
 * @ORM\Column(name="description", type="string", length=255)
 */
private $description;

/**
 * Get id
 *
 * @return integer 
 */
public function getId()
{
    return $this->id;
}

/**
 * Set type
 *
 * @param string $type
 */
public function setType($type)
{
    $this->type = $type;
}

/**
 * Get type
 *
 * @return string 
 */
public function getType()
{
    return $this->type;
}

/**
 * Set latlng
 *
 * @param string $latlng
 */
public function setLatlng($latlng)
{
    $this->latlng = $latlng;
}

/**
 * Get latlng
 *
 * @return string 
 */
public function getLatlng()
{
    return $this->latlng;
}

/**
 * Set description
 *
 * @param string $description
 */
public function setDescription($description)
{
    $this->description = $description;
}

/**
 * Get description
 *
 * @return string 
 */
public function getDescription()
{
    return $this->description;
}

/**
 * Set page
 *
 * @param bnd\myBundle\Entity\Page $page
 */
public function setPage(\bnd\myBundle\Entity\Page $page)
{
    $this->page = $page;
}

/**
 * Get page
 *
 * @return bnd\myBundle\Entity\Page 
 */
public function getPage()
{
    return $this->page;
}
} 
```

没有结果显示，但应该有一个！

我没有任何例外，我猜没有错字

我检查了探查器以读取执行的实际查询；我用 PhpMyAdmin 对它们进行了测试，没有一个没有结果。

这是一个非常简单和基本的案例。那么，我做错了什么？谢谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T15:14:44.937

所以问题是你的 mapItems 是一对多的，所以学说会返回一个 arrayCollection。

您的 mapItems 未显示在 twig 中，因为您必须在 pageWithMapItems.mapItems 上进行 for 循环，如果您直接在 pageWithMapItems 上执行此操作，它将不起作用，因为您的 pageWithMapItems 变量包含页面对象而不是数组。

所以这应该工作：

```
<body>
    {% for mapitem in pageWithMapItems.mapItems %}
        item {{mapitem.id}}<br/>
    {% else %}
         No result
    {% endfor %}
</body> 
```

希望我清楚！

# c# - 在 C# 数组中，如何不创建重复的随机数？

> ID：12836348
> 
> 赞同：0
> 
> 时间：2012-10-11T09:25:26.627
> 
> 标签：c#, random, duplicates

我是 C# 的初学者，正在尝试制作彩票表格应用程序。有类型，首先当你有 5 个提示 ( otos bool ) 和 5 个提示 ( hatos bool )。并且有许多类型的号码将被抽奖（tiz、harminc、kilencven、negyvenot）。我尝试`Array.Equals`使用以下代码扫描抽奖后的数字：

```
for (int i = 0; i <= 4; i++)
{ 
    for (int y = 0; y <= 4; y++)
    {
        if (Array.Equals(lottoszamok[i], lottoszamok[y]))
            lottoszamok[i] = r.Next (1, ?);
    }
} 
```

但此时数字也会被自身扫描，所以它总是相等的。

顺便说一下，这是我的代码：

```
if (otos == true)
{
    for (int i = 0; i <= 5; i++)
    {
        if (tiz == true)
        {
            lottoszamok[i] = r.Next(1, 10);
        }
        else if (harminc == true)
        {
            lottoszamok[i] = r.Next(1, 30);
        }
        else if (kilencven == true)
        {
            lottoszamok[i] = r.Next(1, 90);
        }
        else if (negyvenot == true)
        {
            lottoszamok[i] = r.Next(1, 45);
        }
        else if (egyeni == true)
        {
            lottoszamok[i] = r.Next(1, (egyeniertek + 1));
        }
    }
}

if (hatos == true)
{
    for (int i = 0; i <= 6; i++)
    {
        if (tiz == true)
        {
            lottoszamok[i] = r.Next(1, 10);
        }
        else if (harminc == true)
        {
            lottoszamok[i] = r.Next(1, 30);

        }
        else if (kilencven == true)
        {
            lottoszamok[i] = r.Next(1, 90);
        }
        else if (negyvenot == true)
        {
            lottoszamok[i] = r.Next(1, 45);
        }
        else if (egyeni == true)
        {
            lottoszamok[i] = r.Next(1, (egyeniertek + 1));
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:29:52.733

如果您尝试`1..n` *从不重复*的范围中选择数字，则需要将数字“洗牌”：

```
int[] allPossibleNumbers = Enumerable.Range(1, maxNumber).ToArray();
int[] picked = new int[numberToPick];
for (int i = 0; i < numberToPick; i++)
{
    int index = r.Next(i, maxNumber);
    picked[i] = allPossibleNumbers[index];
    allPossibleNumbers[index] = allPossibleNumbers[i];
} 
```

哪里`numberToPick`是`5`if`otos`或`6`if `hatos`，并且`maxNumber`取决于`tiz`, `harminc`, `kilencven`, `negyvenot`,`egyeni`和`egyeniertek`。

如果您`maxNumber`的数字很大并且您只想选择几个数字，则以下内容不需要整个范围立即在内存中：

```
Dictionary<int, int> outOfPlace = new Dictionary<int,int>();
int[] picked = new int[numberToPick];
for (int i = 0; i < numberToPick; i++)
{
    int shuffleOut = outOfPlace.ContainsKey(i) ? outOfPlace[i] : i;
    int index = r.Next(i, maxNumber);
    picked[i] = 1 + (outOfPlace.ContainsKey(index) ? outOfPlace[index] : index);
    outOfPlace[index] = shuffleOut;
    outOfPlace.Remove(i);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:29:17.887

试试这个！

```
if (i!=y && Array.Equals(lottoszamok[i], lottoszamok[y])) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-26T22:26:11.983

## 我花了很多时间来得到这个，但我相信我可以做到，现在它已经完成了，用更简单的方式来说，这杀死了所有关于随机而不是重复的想法，非常简单的代码，没有任何开发人员的哲学或困难...... .（欢迎来到我的工作）那个（BEST OF THE BEST）：

## (1-10) 之间的数字没有任何重复，1-我在 C# 中的工作

```
private void TenNumbersRandomly()
    {
       int[] a = new int[10];
       Random r = new Random();
       int x;
       for (int i = 0; i < 10; i++)
       {
          x= r.Next(1, 11);
           for (int j = 0; j <= i ; j++)
           {
              while (a[j] == x)
               {
                   x = r.Next(1, 11);
                  j = 0;
               }
           }
           a[i] = x;
           tb1.Text += a[i]+"\n";
       }
    } 
```

* * *

## 2-在VB中有些不同我也有它：

```
Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click
    Dim x As Integer, i As Integer, j As Integer
    x = Int(Rnd() * 10) + 1
    Label1.Text = ""
    Dim a(9) As Integer
    For i = 0 To 9
        x = Int(Rnd() * 10) + 1
        For j = 0 To i
            While (a(j) = x)
                x = Int(Rnd() * 10) + 1
                j = 0
            End While
        Next j
        a(i) = x
        Label1.Text += a(i).ToString() + "  "
     Next i 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-30T11:35:23.113

我是这样做的，如果你愿意，你可以使用类似交换的方法。

```
static void SwapInts(int[] array, int position1, int position2)
{
    // Swaps elements in an array.

    int temp = array[position1]; // Copy the first position's element

    array[position1] = array[position2]; // Assign to the second element

    array[position2] = temp; // Assign to the first element
}
static void Main()
{                                                
    Random rng = new Random();

    int n = int.Parse(Console.ReadLine());

    int[] intarray = new int[n];

    for (int i = 0; i < n; i++)
    {
        // Initialize array
        intarray[i] = i + 1;
    }
    // Exchange resultArray[i] with random element in resultArray[i..n-1]
    for (int i = 0; i < n; i++)
    {
        int positionSwapElement1 = i + rng.Next(0, n - i);
        SwapInts(intarray, i, positionSwapElement1);
    }
    for (int i = 0; i < n; i++)
    {
        Console.Write(intarray[i] + " ");
    }
} 
```

}

# c# - 如何将字符串转换为日期

> ID：12836349
> 
> 赞同：0
> 
> 时间：2012-10-11T09:25:26.610
> 
> 标签：c#

我需要将 20031006 等形式的字符串视为日期时间。使用 C# 函数，我想出了下面的函数，用于转换我的应用程序中的大部分日期。但是，我似乎没有将字符串 20031006 转换为日期的格式。请问我用什么方法来完成这个？提前致谢。

```
 private bool IsDate(string dateString)
        {
            string format;
            DateTime dateValue;
            CultureInfo enUS = new CultureInfo("en-US"); 
            CultureInfo provider = CultureInfo.InvariantCulture;
            DateTime myNum;
            try
            {
                if (DateTime.TryParse(dateString, out myNum))
                {
                    return true;
                }
                format = "d";
                if (DateTime.TryParseExact(dateString, "d",provider, DateTimeStyles.AdjustToUniversal, out dateValue))
                {
                    return true;
                }

                dateValue = DateTime.ParseExact(dateString, format, new CultureInfo("fr-FR"));
                if (dateValue != null)
                {
                    return true;
                }
                if (DateTime.TryParseExact(dateString, "g", enUS, DateTimeStyles.None, out dateValue))
                {
                    return true;
                }

                if (DateTime.TryParseExact(dateString, "M/dd/yyyy hh:mm", enUS, DateTimeStyles.None, out dateValue))
                {
                    return true;
                }
                if (DateTime.TryParseExact(dateString, "g", enUS, DateTimeStyles.AllowLeadingWhite, out dateValue))
                {
                    return true;
                }
                if (DateTime.TryParseExact(dateString, "o", CultureInfo.InvariantCulture, DateTimeStyles.None, out dateValue))
                {
                    return true;
                }
                if (DateTime.TryParseExact(dateString, "MM/dd/yyyy hh:mm:ss tt zzz", enUS, DateTimeStyles.AdjustToUniversal, out dateValue))
                {
                    return true;
                }
                if (DateTime.TryParseExact(dateString, "o", CultureInfo.InvariantCulture, DateTimeStyles.RoundtripKind, out dateValue))
                {
                    return true;
                }
            }
            catch (Exception)
            {
                return false;
            }

            return false;
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:27:50.977

**[`DateTime.ParseExact`](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)**

```
string strDate = "20031006";
DateTime date = DateTime.ParseExact(strDate, "yyyyMMdd",  CultureInfo.InvariantCulture); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-10T17:39:56.177

这是您的解决方案。

单个字符串格式

```
using System.Globalization;

string dt = DateTime.Parse(txtDate.Text.Trim())
                    .ToString("yyyy/MM/dd", CultureInfo.InvariantCulture); 
```

也可以这样

如果您需要一个返回所需字符串的函数：

```
 public string FormatPostingDate(string txtdate)
 {
     if (txtdate != null && txtdate != string.Empty)
     {
         DateTime postingDate = Convert.ToDateTime(txtdate);
         return string.Format("{0:yyyy/MM/dd}", postingDate);
     }
     return string.Empty;
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:28:27.027

使用与实际日期格式匹配的[自定义格式字符串](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)：

```
var myDT = DateTime.ParseExact(myDate, "yyyyMMdd", CultureInfo.InvariantCulture); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T09:29:25.340

使用`ParseExact`方法：[MSDN参考](http://msdn.microsoft.com/en-us/library/w2sa9yss.aspx)

```
string stringDate = "20000102";
DateTime dateTime = DateTime.ParseExact(stringDate, "yyyyMMdd",  CultureInfo.InvariantCulture); 
```

# windows - 使用附加数据源参数从命令行打开 Word 文档

> ID：12836361
> 
> 赞同：3
> 
> 时间：2012-10-11T09:26:08.550
> 
> 标签：windows, command-line, ms-word, datasource, rundll32

可以使用以下命令从命令行打开 word 文档：

```
rundll32 url.dll,FileProtocolHandler path.to.word.document.doc 
```

不幸的是，该文档需要一个外部数据源，因此该数据源的路径必须在打开后手动设置。

有没有更方便的方法来提供一个额外的参数来指向数据源？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-19T13:35:57.453

您可以使用

```
winword.exe <filepath> 
```

要在命令提示符下使用 winword，您需要像这样设置路径变量

```
set path=%path%;C:\Program Files\Microsoft Office\Office14 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-17T19:30:51.003

在 cmd 实例中，我打开了文档，但只输入了文档名称

“不管它叫什么.docx”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-21T20:45:54.037

如果您使用 PowerShell，您可以键入“ **ii FileName** ”。例如，“ **ii *.docx** ”将打开文件夹中的所有 .docx 文件。它适用于所有类型的文件，而不仅仅是 Word 文档。

# java - 还有什么方法可以倒回队列？

> ID：12836367
> 
> 赞同：1
> 
> 时间：2012-10-11T09:26:28.217
> 
> 标签：java, arrays, queue

我构建了这段代码，它以队列方式显示数组的所有条目。问题是我被告知可以在没有`for`将内容倒回`i`为 0 的语句的情况下完成此操作，但我不知道如何操作。

这还能怎么做？

```
 public void display()
   {
       int i = frontIndex;

       while(true)
       {
           if (i == numberOfItems)
               i = 0;

           System.out.print(array[i++] + " ");

           if (i == rearIndex + 1)
               break;
       }
   } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:33:51.930

您可以使用`%`运算符并打印`i % numberOfItems`：

它没有经过测试，但它应该类似于以下内容：

```
for (int i = frontIndex; i % numberOfItems != rearIndex+1; i++) { 
   System.out.print(array[(i++) % numberOfItems)] + " ");
} 
```

想法是`(array.length + k) % array.length == k`，所以使用`%`运算符，实际上相当于将索引重置`i`回 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:29:30.563

`Arrays.toString()`如果您只是显示数组的内容，我会使用方法而不是您的代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:35:51.093

我认为您应该使用`LinkedList`下`Queue`界面。为了更好地理解我，请查看[`LinkedList`](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html)和*javadocs*。[`Queue`](http://docs.oracle.com/javase/6/docs/api/java/util/Queue.html)

# ruby-on-rails - Rails 3：以rails方式指定内部连接标准“ON”

> ID：12836369
> 
> 赞同：0
> 
> 时间：2012-10-11T09:26:36.227
> 
> 标签：ruby-on-rails, inner-join, has-and-belongs-to-many

我想从“linked_to”列而不是“id”列访问表“Words”。

Rails 创建的 INNER JOIN 查询总是在 Words 表中搜索 id 列。

这就是我想要做的：

*   从类点来看，
*   对“linked_to”列进行内部连接（我已经指定了：foreign_key）
*   “Linked_to”在“Words”表中不是唯一的，因为每个翻译只有一行
*   在Words表中过滤（Select），对应我当前语言的值（假设dictionnary = 1）

![INNER JOIN的表格说明](../Images/bdd491a3ce322fbba7497ca8f74ba2b7.png)

我现在的模特

```
class Word < ActiveRecord::Base
  has_and_belongs_to_many :points, :foreign_key => "linked_to"    
  belongs_to :dictionnary 
  attr_accessible :lang, :value, :dictionnary_id, :language_id, :linked_to
end

class Point < ActiveRecord::Base
    has_and_belongs_to_many :words, :association_foreign_key => "linked_to"     
    belongs_to :priority        
    attr_accessible :edited_by
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:42:45.373

这叫约定。:) 从您的设计开始，您创建了错误的关联。

has_and_belongs_to_many 在两个模型之间创建关系，因此使用它们的主键。重新考虑您的模型：dictionary_id 字段不属于 Words，而是中间表的附加字段。当您“限定”中间表时，您不能再使用 HASB。使用普通的中间表

```
WordPointsForDictionary:
belongs_to :word
belongs_to :point
belongs_to :dictionary

Word:
has_many :points, :through => :WordPointsForDictionary
has_many :wordpointsfordictionary

Point:
has_many :words, :through => :WordPointsForDictionary
has_many :wordpointsfordictionary 
```

这样，您就消除了模型中的重复和丑陋的关系。清理主键关系，这将对您有很大帮助。

# c# - 如何打开模板工作簿并加载其工作表？

> ID：12836370
> 
> 赞同：0
> 
> 时间：2012-10-11T09:26:36.190
> 
> 标签：c#, excel, epplus

嗨，我使用 Microsoft.Office.Interop.Excel dll 编写了代码，但是当我发布我的网站时它不支持在线。然后我发现在线支持 EPPlus dll 女巫，但我在转换代码以使用这个新 dll 时遇到了麻烦。

使用 Interop.Excel 的旧代码：

```
using Excel = Microsoft.Office.Interop.Excel;

Excel.Application xlApp;
Excel.Workbook xlWorkBook;
Excel.Worksheet[] xlWorkSheet = new Excel.Worksheet[8];

public void ToSpreadSheet()
{ 
xlApp = new Excel.ApplicationClass();
xlWorkBook = xlApp.Workbooks.Open(tempFolderPathAlt + "dvforms\\InvestecTemplate.xlsx", 0, true, 5, "", "", true, Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);

xlWorkSheet[0] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);
xlWorkSheet[1] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(2); 
xlWorkSheet[2] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(3); 
xlWorkSheet[3] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(4); 
xlWorkSheet[4] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(5); 
xlWorkSheet[5] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(6); 
xlWorkSheet[6] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(7); 
xlWorkSheet[7] = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(8); 
} 
```

这很好用，但现在我需要使用 EPPlus dll，但我遇到了问题。

```
 using Excel = OfficeOpenXml;

    Excel.ExcelPackage xlApp;
    Excel.ExcelWorkbook xlWorkBook;
    Excel.ExcelWorksheet[] xlWorkSeet = new Excel.ExcelWorksheet[8];

    Stream stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(tempFolderPathAlt + "dvforms\\InvestecTemplate.xlsx");
    Excel.ExcelPackage xlApp = new Excel.ExcelPackage(stream);

//This is where the problems begin, xlWorkBook.Worksheets.Add(1) is all underlined in red.
    xlWorkSeet[0] = (Excel.ExcelWorksheet)xlWorkBook.Worksheets.Add(1); 
```

如何从我的 Excel 模板加载工作表？我不确定我是否正确地完成了上述操作，请帮助我非常需要它。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T11:18:53.157

```
FileInfo existingFile = new FileInfo(filePath);

            using (var package = new ExcelPackage(existingFile))
            {
                ExcelWorkbook workBook = package.Workbook;

                if (workBook != null)
                {
                    if (workBook.Worksheets.Count > 0)
                    {
                        int i = 0;
                        foreach(ExcelWorksheet worksheet in workBook.Worksheets)
                        {
                            xlWorkSeet1[i] = worksheet;
                            i = i + 1;
                        }

                    }
                } 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-11T11:27:21.047

Add() 函数接受一个字符串参数，该参数是工作表的名称。尝试：

```
xlWorkSeet[0] = (Excel.ExcelWorksheet)xlWorkBook.Worksheets.Add("Sheet1"); 
```

# java - 具有 4 个参数的 Android ArrayList

> ID：12836371
> 
> 赞同：-1
> 
> 时间：2012-10-11T09:26:40.090
> 
> 标签：java, android

我正在使用 4 个参数创建自己的列表。我有一个带有 2 个参数的标准列表的示例。
如何为 4 个参数而不是 2 个参数声明 ArrayList？

```
ArrayList<Map<String, String>> list = buildData();
String[] from = { "name", "purpose" };
int[] to = { android.R.id.text1, android.R.id.text2 }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:29:37.997

创建一个包含四个参数的类。例如：

```
public class MyClass {

    public String param1;

    public String param2;

    public String param3;

    public String param4;
} 
```

然后，将您的数组列表声明为：

```
ArrayList< MyClass > list = buildData();

String[] from = { "name", "purpose", .... };

    int[] to = { android.R.id.text1, android.R.id.text2, ... }; 
```

希望有帮助。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:06:37.823

Map 的实现在这里是合适的。

```
public class SomeClass{

    public String str1;

    public String str2;

    public String str3;

    public String str4;

}

ArrayList<SomeClass, HashMap<String, String>> map = newArrayList<SomeClass,HashMap<String, String>>(); 
```

# c# - 使用带有 linq 到实体的事务

> ID：12836374
> 
> 赞同：1
> 
> 时间：2012-10-11T09:26:47.210
> 
> 标签：c#, entity-framework, transactionscope, dbcontext

我是 EntityFramework 新手。我面临一个非常奇怪的问题。我无法使用 linq 到实体查询来使用事务。我使用过 DbTransaction 和 TransactionScope。一旦查询被命中，错误就会发生。我正在使用 EF 4.3。上下文照常从 DbContext 派生。我正在使用代码优先方法。

```
 using (TransactionScope s = new TransactionScope())
        {
         using(var context = new XYZContext())
         {   
               context.Database.Connection.Open();
               Int32 count = (from xyz in context.XYZs
                           where xyz.Name == "SameName"
                           select xyz.Name).Count();
               Assert.AreEqual(count, 1);
          }
        } 
```

我有些疑惑。我不想使用 TrasactionScope，因为我听说它有性能问题。那么我怎样才能使用 DbTransaction 代替（也为我抛出错误）？为什么我需要显式打开连接？当我“更新”一个上下文时，它不应该为我自动打开连接吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:33:13.533

尝试翻转您的 using 子句，并在开始事务之前打开连接，并使用上下文打开事务。如果您的代码正在更新，您还需要提交事务。

```
using(var context = new XYZContext())
  {   
      context.Database.Connection.Open();
      using (TransactionScope s = context.Connection.BeginTransaction())
      {

          Int32 count = (from xyz in context.XYZs
                           where xyz.Name == "SameName"
                           select xyz.Name).Count();
          Assert.AreEqual(count, 1);
          s.Commit()
        }
   } 
```

# canvas - EaselJS：在鼠标单击时更改形状填充颜色

> ID：12836376
> 
> 赞同：2
> 
> 时间：2012-10-11T09:26:49.673
> 
> 标签：canvas, html5-canvas, easeljs

我很难与 EaselJS 一起工作。基本上我想创建一个简单的网格并突出显示选择的实际元素：

```
var stageWidth = 800,
   stageHeight = 600,
   cell_size = 50,
   w = 16,
   h = 12,
   n = w * h,
   canvas,
   stage,
   background;

$(document).ready(function(){

            canvas = $("#container")[0];     
            stage = new createjs.Stage(canvas);

            var x_pos = 0,
                y_pos = 0,
                res = 0,
                grid_el;

            for(i=0;i<n;i++){

                res = i%w;

                if(i>0){
                    if(res===0){
                        x_pos = 0;
                        y_pos++;
                    } else {
                        x_pos++;
                    }
                }

                grid_el = new createjs.Shape();
                grid_el.graphics.setStrokeStyle(2,"square").beginStroke("#000000");
                grid_el.graphics.beginFill("#70FF85");
                grid_el.graphics.rect(x_pos * cell_size,y_pos * cell_size,cell_size,cell_size);
                grid_el.x_pos = x_pos * cell_size;
                grid_el.y_pos = y_pos * cell_size;
                grid_el.name = "quad";

                stage.addChild(grid_el);
            }

            stage.update();

            stage.onMouseDown = function(e){
                console.log(e);
                var quad = this.getObjectsUnderPoint(e.stageX,e.stageY);

                var clone = quad[0].graphics.clone();
                clone.beginFill("#51D9FF");

                quad[0].graphics = new createjs.Graphics(clone);

                stage.update();
            }

        }); 
```

我尝试克隆实际元素的图形属性，更改填充颜色然后更新舞台，但我只获得了一个白色元素，就像它没有识别新的图形属性一样。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-18T19:30:14.870

我建议在您正在创建的形状或显示对象上使用 onMouseOver/onMouseOut 回调。当你可以更新你的颜色时。

这是一个简单的演示，可能有助于说明我的观点。

[演示链接](http://jsfiddle.net/sebastian_derossi/PYxu7/)

```
var stage = new createjs.Stage("test");
createjs.Touch.enable(stage);
stage.enableMouseOver(10);
var padding = 1;
var width = 55;
var height = 55;
var cols = 15;
for(var i=0;i<200;i++) {
    var s = new createjs.Shape();
    s.overColor = "#3281FF"
    s.outColor = "#FF0000"
    s.graphics.beginFill(s.outColor).drawRect(0, 0, width, height).endFill();
    s.x = (width + padding) * (i%cols);
    s.y = (height + padding) * (i/cols|0);
    s.onMouseOver = handleMouseOver;
    s.onMouseOut = handleMouseOut;
    stage.addChild(s)
}

createjs.Ticker.addListener(stage);

function handleMouseOver(event) {
   var target = event.target;
   target.graphics.clear().beginFill(target.overColor).drawRect(0, 0, width, height).endFill();
}

function handleMouseOut(event) {
    var target = event.target;
    target.graphics.clear().beginFill(target.outColor).drawRect(0, 0, width, height).endFill();
}

function tick() {
  stage.update();   
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T00:00:16.887

可能会考虑使用 KineticJS，您只需这样做：

```
circle.on('click', function() {
  // do stuff
}); 
```

我相信 KineticJS 是唯一反映 DOM 事件模型的画布框架（您可以将事件绑定到节点，它们可以冒泡，您可以利用事件委托等）

# android - 任何人都可以确认任何支持 USB 主机模式的平板电脑吗？任何人都已经通过代码实现进行了测试

> ID：12836377
> 
> 赞同：3
> 
> 时间：2012-10-11T09:26:50.667
> 
> 标签：android, usb

我想在平板电脑和 SoC 之间进行通信。为此，平板电脑必须支持 USB 主机模式 API。根据 Android.com，任何具有 android 版本 3.1 或更高版本的 android 设备都应该支持它，但实际上并非如此。平板电脑制造商也可能有自己的实施方案。因此，在购买平板电脑之前，我希望 100% 确定我购买的平板电脑支持此功能。

我特别在寻找一些流行的西方平板电脑，如三星 Galaxy Tabs、Acer Iconia Tabs、Sony Tabs ......

如果有人能确认这个 XXX 平板电脑支持这个功能，他也可以用 USB 示例应用程序测试它或提供一些链接。他会如此慷慨。

参考：[https ://stackoverflow.com/questions/10212433/confused-with-usb-host-mode-compatibility-on-different-devices](https://stackoverflow.com/questions/10212433/confused-with-usb-host-mode-compatibility-on-different-devices)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-16T06:07:01.380

OEM 只能告诉您 xxx 平板电脑是否支持主机模式。但是在安卓市场有一个简单的APP叫做“usb host controller”。下载并将其安装在您要检查主机模式功能的设备上。在信息选项卡中，它将显示它是否支持以及是否支持，是否处于活动状态等。

希望它能解决你的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-14T20:59:35.017

所以我今天试了一下，

**MTP & PTP**

将平板电脑相互连接：

似乎将 nexus 7 与例如我的 Mediapad（在 mediapad 上启用了 mtp）连接起来，至少不适用于[FX 文件资源](https://play.google.com/store/apps/details?id=nextapp.fx)管理器，例如它不显示任何 USB 存储。这是因为我认为 FX Explorer 没有内置 mtp 支持。

设置示例：

```
Mediapad <-- (Micro to male A) --> <-- (Female A to micro OTG cable) --> Nexus 7 
```

当打开 ptp 而不是 mtp 时，nexus 会自动打开图库应用程序并显示我的 mediapad 中的所有图像。所以android支持读取ptp设备以及伪装成ptp设备。但我们不能对 mtp 说同样的话，因为 android 无法读取 mtp 设备，或者至少我使用的应用程序不能。但是使用 mtp 将 android 设备连接到您的计算机是正常的。

我也尝试过这种签证，而不是阅读联系文件，结果相同。

将不支持 mtp 的手机连接到我的平板电脑（Mediapad）时，一切正常，我平板电脑上的文件资源管理器会找到连接的 USB 设备。

**使用键盘和 U 盘**

阅读 USB 棒、键盘、集线器等适用于 Mediapad。

Nexus 7 也是如此，但我没有让 USB 棒在 FX 文件资源管理器上工作，这可能是因为我在该设备上没有完整版本的应用程序。在荷兰已经很晚了，明天我会得到完整版并再次尝试，因为它似乎应该是可能的。

**根据开发人员网站的 USB**

因此，我开始阅读 USB 开发人员指南，据我所知，我认为从另一个 android 平板电脑读取 mtp 设备应该可以，但您必须自己构建代码。

目前我没有太多时间做更多的研究，但在这个功能中，我最终会通过一些编码尝试一下。

**一个小结论：**

默认情况下，当您要读取的平板电脑仅支持 MTP 模式时无法读取其他平板电脑文件，但可以使用 usb api 使其成为可能。

到目前为止，使用主机模式读取 USB 设备对 Mediapad 和 Nexus 7 来说效果很好。对于 Mediapad，我 100% 确定，对于 Nexus 7，因为我不经常使用它 99%。

不确定这是否是你想知道的，但我真的希望你能用它做点什么。我希望更多的人会对这个话题感兴趣并发表关于它的想法。我自己并不是一个真正的 USB 开发人员，所以这对我来说有点新鲜，我希望我可怜的阅读障碍 - 荷兰英语不会毁了你的一天 ;)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-01T06:10:37.497

像联想 Thinkpad 这样的平板电脑只有一个普通的 USB 连接器，与笔记本电脑一样。它们确实支持 USB 主机模式。如果您不确定微型 USB (OTG) 是否可以工作，只需使用带有单独“普通”USB 端口的平板电脑即可。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-14T07:51:20.557

对我来说，**三星 Galaxy Tab 10.1**运行良好。我设法集成了[RFID ME](http://www.mtigroup.com/rfidme/) USB RFID 阅读器。当然，您还需要**三星 Galaxy Tab SD 卡和 USB 适配器**。

# css - 长字体和扁平字体

> ID：12836378
> 
> 赞同：0
> 
> 时间：2012-10-11T09:26:54.377
> 
> 标签：css

[http://i.stack.imgur.com/9LDCT.jpg](http://i.stack.imgur.com/9LDCT.jpg)

在上面的链接（图片）中，左侧的文字样式与右侧的文字样式不同。左侧文字较细，其他文字为圆形。我应该申请什么 css 来进行此更改？

我们的设计师说这两种字体都是 Arial Narrow。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:42:26.100

尝试这个

利用

```
letter-spacing: 1px;  // your required value
word-spacing: 1px; // your required value 
```

并设置相同`famil-style`和相同`family-font`。

# selenium - 从团队城市/mspec 运行 Selenium 测试

> ID：12836379
> 
> 赞同：0
> 
> 时间：2012-10-11T09:26:57.967
> 
> 标签：selenium, teamcity, mspec

我们正在运行使用 mspec 编写的 selenium webdriver 测试。

我们使用内置的 mspec 运行程序从团队城市启动这些测试。

这是在服务器上本地使用 Firefox 来运行测试。

我们似乎通过不同数量的成功和失败测试获得随机结果，我们认为这取决于执行速度。我们的测试套件有等待元素，但这些元素似乎并不总是有预期的效果。

有没有一种方法可以减慢整个测试套件的执行速度来尝试缓解这个问题？

或者是否有更好的方法来自动化这些测试的运行。

当我们在 Visual Studio 中本地运行它们时，我们可以将它们全部变为绿色。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-13T17:47:31.943

[使用 Ruby 在 Selenium WebDriver 中设置速度](https://stackoverflow.com/questions/8583445/set-speed-in-selenium-webdriver-ruby)

这是一篇文章，它描述了随机故障的问题以及将它们最小化的更好方法。 [http://martinfowler.com/articles/nonDeterminism.html](http://martinfowler.com/articles/nonDeterminism.html)

以下 webdriver 文档包含有关 Explicit 和 Implicit Waits 的详细信息......这有助于实现相同的功能。 [http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits](http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits)

希望这可以帮助 ！！

# python - 如何交错或创建两个字符串的唯一排列（无递归）

> ID：12836385
> 
> 赞同：9
> 
> 时间：2012-10-11T09:27:10.157
> 
> 标签：python, arrays, string, algorithm, complexity-theory

问题是打印两个给定字符串的所有可能的交错。所以我用 Python 写了一个工作代码，运行如下：

```
def inter(arr1,arr2,p1,p2,arr):
    thisarr = copy(arr)
    if p1 == len(arr1) and p2 == len(arr2):
        printarr(thisarr)
    elif p1 == len(arr1):
        thisarr.extend(arr2[p2:])
        printarr(thisarr)
    elif p2 == len(arr2):
        thisarr.extend(arr1[p1:])
        printarr(thisarr)
    else:
        thisarr.append(arr1[p1])
        inter(arr1,arr2,p1+1,p2,thisarr)
        del thisarr[-1]
        thisarr.append(arr2[p2])
        inter(arr1,arr2,p1,p2+1,thisarr)
    return 
```

它出现在字符串中的每个点，然后对于一个递归调用，它认为当前元素属于第一个数组，而在下一次调用中，它属于另一个数组。因此，如果输入字符串是`ab`and `cd`，它会打印出`abcd`, `acbd`, `cdab`,`cabd`等`p1`，并且`p2`是指向数组的指针（因为 Python 字符串是不可变的，所以我使用的是数组！）。谁能告诉我，这段代码的复杂性是多少，是否可以改进？我编写了一个类似的代码来打印`k`给定数组中所有长度组合：

```
def kcomb(arr,i,thisarr,k):
     thisarr = copy(thisarr)
     j,n = len(thisarr),len(arr)
     if n-i<k-j or j >k:
        return
     if j==k:
        printarr(thisarr)
        return
     if i == n:
         return
     thisarr.append(arr[i])
     kcomb(arr,i+1,thisarr,k)
     del thisarr[-1]
     kcomb(arr,i+1,thisarr,k)
     return 
```

这也是基于相同的原理。那么总的来说，如何找到这些功能的复杂性，以及如何优化它们？DP可以做到这些吗？第一个问题的输入输出示例：

```
>>> arr1 = ['a','b','c']
>>> arr2 = ['d','e','f']
>>> inter(arr1,arr2,0,0,[])
abcdef
abdcef
abdecf
abdefc
adbcef
adbecf
adbefc
adebcf
adebfc
adefbc
dabcef
dabecf
dabefc
daebcf
daebfc
daefbc
deabcf
deabfc
deafbc
defabc 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-10-11T10:38:43.920

您的问题可以简化为创建特定列表的所有*唯一排列。*说`A`和分别是字符串和`B`的长度。然后构造一个这样的列表：`arr1``arr2`

```
[0] * A + [1] * B 
```

`arr1`从这个列表的唯一排列到两个字符串和的所有可能交错存在一一对应（双射）`arr2`。这个想法是让排列的每个值指定从哪个字符串中获取下一个字符。下面是一个示例实现，展示了如何从排列构造交错：

```
>>> def make_interleave(arr1, arr2, permutation):
...     iters = [iter(arr1), iter(arr2)]
...     return "".join(iters[i].next() for i in permutation)
... 
>>> make_interleave("ab", "cde", [1, 0, 0, 1, 1])
'cabde' 
```

我在 python 邮件列表中发现[了这个](http://mail.python.org/pipermail/tutor/2009-December/073567.html)问题，它询问如何以有效的方式解决这个问题。答案建议使用 Knuth 的*计算机编程艺术，第 4 卷，分册 2：生成所有排列*中描述的算法。[我在这里](http://www.cs.utsa.edu/%7Ewagner/knuth/fasc2b.pdf)找到了草稿的在线 pdf 文件。该算法也在此[维基百科文章](http://en.wikipedia.org/wiki/Permutation#Generation_in_lexicographic_order)中进行了描述。

这是我自己的算法注释实现`next_permutation`，作为 python 生成器函数。

```
def unique_permutations(seq):
    """
    Yield only unique permutations of seq in an efficient way.

    A python implementation of Knuth's "Algorithm L", also known from the 
    std::next_permutation function of C++, and as the permutation algorithm 
    of Narayana Pandita.
    """

    # Precalculate the indices we'll be iterating over for speed
    i_indices = list(range(len(seq) - 1, -1, -1))
    k_indices = i_indices[1:]

    # The algorithm specifies to start with a sorted version
    seq = sorted(seq)

    while True:
        yield seq

        # Working backwards from the last-but-one index,           k
        # we find the index of the first decrease in value.  0 0 1 0 1 1 1 0
        for k in k_indices:
            if seq[k] < seq[k + 1]:
                break
        else:
            # Introducing the slightly unknown python for-else syntax:
            # else is executed only if the break statement was never reached.
            # If this is the case, seq is weakly decreasing, and we're done.
            return

        # Get item from sequence only once, for speed
        k_val = seq[k]

        # Working backwards starting with the last item,           k     i
        # find the first one greater than the one at k       0 0 1 0 1 1 1 0
        for i in i_indices:
            if k_val < seq[i]:
                break

        # Swap them in the most efficient way
        (seq[k], seq[i]) = (seq[i], seq[k])                #       k     i
                                                           # 0 0 1 1 1 1 0 0

        # Reverse the part after but not                           k
        # including k, also efficiently.                     0 0 1 1 0 0 1 1
        seq[k + 1:] = seq[-1:k:-1] 
```

[根据这个](https://stackoverflow.com/questions/4973077/the-amortized-complexity-of-stdnext-permutation)问题，该算法的每个收益都有一个 O(1) 的摊销复杂度，但根据下面评论的 rici，只有在所有数字都是唯一的情况下才会出现这种情况，在这种情况下它们肯定不是。

在任何情况下，收益的数量为时间复杂度提供了一个下限，它由下式给出

```
（甲+乙）！/（A！* B！）

```

然后为了找到实时复杂度，我们需要将每个产量的平均复杂度与基于排列构造结果字符串的复杂度相加。如果我们将此总和与上述公式相乘，我们将得到总时间复杂度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:05:44.593

好的，经过一些工作，并使用其他答案的建议。主要是懒惰。（现在已将其转换为一个类） __all_perms 来自：[https ://stackoverflow.com/a/104436/1561176](https://stackoverflow.com/a/104436/1561176)

```
class Interleave():

    def __init__(self, A, B):
        self.A = A
        self.B = B
        self.results = list(self.__interleave())

    # from https://stackoverflow.com/a/104436/1561176
    def __all_perms(self, elements):
        if len(elements) <=1:
            yield elements
        else:
            for perm in self.__all_perms(elements[1:]):
                for i in range(len(elements)):
                    #nb elements[0:1] works in both string and list contexts
                    yield perm[:i] + elements[0:1] + perm[i:]

    def __sequences(self):
        return list( sorted( set(
            ["".join(x) for x in self.__all_perms(['a'] * len(self.A) + ['b'] * len(self.B))] ) ) )

    def __interleave(self):
        for sequence in self.__sequences():
            result = ""
            a = 0
            b = 0
            for item in sequence:
                if item == 'a':
                    result+=self.A[a]
                    a+=1
                else:
                    result+=self.B[b]
                    b+=1
            yield result

    def __str__(self):
        return str(self.results)

    def __repr__(self):
        return repr(self.results) 
```

这是用法：

```
>>> A = ['a', 'b', 'c']
>>> B = ['d', 'e', 'f']
>>> Interleave(A, B)
['abcdef', 'abdcef', 'abdecf', 'abdefc', 'adbcef', 'adbecf', 'adbefc', 'adebcf', 'adebfc', 'adefbc', 'dabcef', 'dabecf', 'dabefc', 'daebcf', 'daebfc', 'daefbc', 'deabcf', 'deabfc', 'deafbc', 'defabc'] 
```

此外，您可以访问类成员，例如：

```
>>> inter = Interleave(A, B)
>>> inter.results
['abcdef', 'abdcef', 'abdecf', 'abdefc', 'adbcef', 'adbecf', 'adbefc', 'adebcf', 'adebfc', 'adefbc', 'dabcef', 'dabecf', 'dabefc', 'daebcf', 'daebfc', 'daefbc', 'deabcf', 'deabfc', 'deafbc', 'defabc']
>>> inter.A
['a', 'b', 'c']
>>> inter.B
['d', 'e', 'f'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:48:03.147

对你有用`permutations`吗？或者，这是编码实践吗？

```
>>> from itertools import permutations
>>> s1 = "ab"
>>> s2 = "cd"
>>> all_values = [c for c in s1 + s2]
>>> ["".join(r) for r in permutations(all_values)]
['abcd', 'abdc', 'acbd', 'acdb', 'adbc', 'adcb', 'bacd', 'badc', 'bcad', 'bcda', 'bdac', 'bdca', 'cabd', 'cadb', 'cbad', 'cbda', 'cdab', 'cdba', 'dabc', 'dacb', 'dbac', 'dbca', 'dcab', 'dcba'] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:55:06.623

这就是我认为你正在尝试做的事情：

```
from itertools import product, chain

def interleave(a, b):
    if len(b) > len(a):
        a, b = b, a

    boolean = (True, False)
    for z in range(len(a) - len(b) + 1):
        pairs = list(zip(a[z:], b))
        for vector in product(*[boolean] * max(map(len, (a, b)))):
            permutation = (pair if i else reversed(pair)
                           for i, pair in zip(vector, pairs))
            yield a[:z] + ''.join(chain.from_iterable(permutation)) 
```

# ios - 沙盒：是否可以模拟失败或中断的应用内购买？

> ID：12836387
> 
> 赞同：6
> 
> 时间：2012-10-11T09:27:14.940
> 
> 标签：ios, app-store, in-app-purchase, storekit

我最近在我的应用中实现了应用内购买。好在苹果已经很好地[记录了整个过程](https://developer.apple.com/appstore/in-app-purchase/index.html)。

使用这些文档，我终于能够通过沙盒测试应用内购买，这是一个非常方便的功能。我已经成功测试了我的应用程序，以便`StoreKit`当我点击`buyButton`.

现在这是我的问题。从文档中，它说沙盒模拟了没有财务内容的交易过程。所以我想买多少就买多少（顺便说一句，我买的是消耗品，而且只买消耗品）。此外，沙盒将**始终**模拟成功的交易，无论如何。那么，是否可以让沙盒模拟**失败**的事务，更好的是模拟**中断**的事务？

我想这样做是为了在这些事件发生时捕获可能的错误（尽管我已经读过`StoreKit`已经处理过的地方）并将它们显示在屏幕上（至少），只是为了通知用户在交易过程中发生了什么。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-25T12:13:06.590

模拟各种联网情况的最佳方法是使用 Network Link Conditioner 实用程序。这是[Apple 文档中提到的有关网络操作测试](https://developer.apple.com/library/ios/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/WhyNetworkingIsHard/WhyNetworkingIsHard.html)的事件。

这样您就不会依赖于共享访问点，或者您的同事会干扰您的测试。您还可以轻松模拟更多的情况，而不仅仅是连接/未连接。

这是有关如何在 OSX（用于在模拟器中测试）和 iOS 上[安装和使用它的分步说明。](http://nshipster.com/network-link-conditioner/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T22:04:06.497

模拟许多常见网络事务问题的一种简单方法是从在该过程中的各个点使用的 wifi 接入点的背面拔下网络电缆。您可以尝试拔掉 wifi 的 WAN 电缆，然后使用备用或有线访问将您的 IAP 从 iTunes Connect 中的可用性中删除，然后重新启用 wifi 访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-08-24T18:01:11.927

iOS 14+。

> 您可以通过在 App Store Connect 中为特定测试人员 Sandbox Apple ID 启用中断购买，在运行 iOS 14 或更高版本的设备上测试中断购买场景。如果选择此选项，则该沙盒 Apple ID 的设备上购买尝试将在沙盒环境中中断并继续中断，直到取消选择该选项。这允许您测试您的应用程序对中断的处理，以确保无缝的客户体验。

来自文档：[测试中断的购买](https://help.apple.com/app-store-connect/#/dev7e89e149d)

# web-services - 基于 SOAP 的 Web 服务安全性

> ID：12836388
> 
> 赞同：1
> 
> 时间：2012-10-11T09:27:29.010
> 
> 标签：web-services, https, ws-security

我为我们的客户创建了一个 Web 服务，并使用带有 PasswordDigest 的用户名令牌（带有时间戳、随机数和加密密码）来保护它。其中一个客户端使用的软件不支持 PasswordDigest，只支持纯文本用户名和密码。

我对 SOAP-Header 中的纯文本密码感到有些不自在。但是整个流量都是使用 HTTPS 保护的。

我的问题：使用 HTTPS，即使我将安全要求从 PasswordDigest 更改为 PasswordText，它是否仍然足够安全？

我的要求是：

*   客户端必须使用用户名进行身份验证，因为我必须知道哪个客户端正在访问 Web 服务并且
*   任何中间人都不能在 SOAP 标头中看到纯文本密码！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:31:36.383

如果您正在使用`HTTPS`，您也许可以取消`PasswordDigest`和使用`PasswordText`，但您需要确保您从不支持*不安全的请求*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:36:40.813

您可能还想研究 SOAP 的[WS-Security](http://en.wikipedia.org/wiki/WS-Security)扩展。

至于你的问题，我不害怕在 HTTPS 上使用明文密码，但正如@Anshu 所说，确保你的服务不会在 HTTP 上响应！另外，请注意，在技术上是可行的，并且经常看到公司代理有效地对 HTTPS 流量执行中间人“攻击”......

干杯，

# angularjs - ng-view 的通用控制器

> ID：12836390
> 
> 赞同：1
> 
> 时间：2012-10-11T09:27:38.760
> 
> 标签：angularjs

每次更改 ng-view 时有没有办法调用通用控制器？即，我希望每次加载新的 $route 时都调用一个通用控制器。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:53:48.847

如果您为不同的路由指定了自定义控制器，那么我不知道您还可以指定一个始终被调用的通用控制器，除非您使用某种继承并始终调用基本控制器中的方法。

另一种方法是订阅路由服务广播的事件。

例子：

```
function MyController($rootScope, [...]) {
    $rootScope.$on('$routeChangeSuccess', function (current, previous) {
        // ...
    });
} 
```

[您可以在此处](http://docs.angularjs.org/api/ng.%24route#Events)获得可用事件及其参数的列表。

我相信您还可以添加属性、方法等，`$rootScope`这要归功于 Angular 的绑定机制是如何工作的。如果在当前范围内没有找到它，它会检查其父级等直到根范围。

# php - 如何在codeigniter中给出comman错误消息而不是多个错误

> ID：12836391
> 
> 赞同：0
> 
> 时间：2012-10-11T09:27:41.197
> 
> 标签：php, codeigniter, validation

我是codeigniter开发的新手。我创建了如下简单的登录表单：

在我的 login_view 页面中

```
 <?php echo validation_errors(); ?>
  //my form html code comes here 
```

在我的控制器页面中

```
$this->form_validation->set_rules('username', 'Username', 'required');
$this->form_validation->set_rules('password', 'Password', 'required');

if ($this->form_validation->run() == FALSE)
{
  $this->load->view('login_view',$data);
}
else
{
 //form validated do some work here
} 
```

现在的问题是，当我提交带有空用户名和密码字段的表单时，这显示错误为

```
The Username field is required.
The Password field is required. 
```

这是正确的，但我只想显示一条消息

```
Please enter username and password...... 
```

而不是每个字段有两个或 N 个消息。我已经尝试过 form_error('fieldname') 函数但没有用。我如何获得上述输出。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:45:10.077

在视图中，您可以使用：

```
<?php if (form_error('username') || form_error('password')): ?>
  <div class="error">Please enter username and password......</div>
<?php endif; ?> 
```

# java - 使用 java 代码运行 oozie 工作流

> ID：12836393
> 
> 赞同：3
> 
> 时间：2012-10-11T09:27:44.293
> 
> 标签：java, hadoop, workflow, oozie

我是 java 新手，在使用 java 代码运行 oozie 作业时遇到了一些麻烦。我无法找出代码中的问题。一些帮助将不胜感激。这是我的代码

```
import java.util.Properties;

import org.apache.oozie.client.OozieClient;
import org.apache.oozie.client.WorkflowJob;

public class oozie {

public static void main(String[] args) {
    OozieClient wc = new OozieClient("http://host:11000/oozie");

    Properties conf = wc.createConfiguration();

    conf.setProperty(OozieClient.APP_PATH, "hdfs://cluster/user/apps/merge-psp-logs/merge-wf/workflow.xml");
    conf.setProperty("jobTracker", "jobtracker.bigdata.com:8021");
    conf.setProperty("nameNode", "hdfs://namenode.bigdata.com:8020");
    conf.setProperty("queueName", "jobtracker.bigdata.com:8021");
    conf.setProperty("appsRoot", "hdfs://namenode.bigdata.com:8020/user/workspace/apps");
    conf.setProperty("appLibLoc", "hdfs://namenode.bigdata.com:8020/user/workspace/lib");
    conf.setProperty("rawlogsLoc", "hdfs://namenode.bigdata.com:8020/user/workspace/");
    conf.setProperty("mergedlogsLoc", "jobtracker.bigdata.com:8021");
    try {
        String jobId = wc.run(conf);
        System.out.println("Workflow job submitted");

        while (wc.getJobInfo(jobId).getStatus() == WorkflowJob.Status.RUNNING) {
            System.out.println("Workflow job running ...");
            Thread.sleep(10 * 1000);
        }
        System.out.println("Workflow job completed ...");
        System.out.println(wc.getJobInfo(jobId));
    } catch (Exception r) {
        System.out.println("Errors");
    }
}
} 
```

虽然我可以使用命令行启动作业

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:31:53.873

如果没有任何进一步的信息，我会说这可能是您的运行时错误的原因：

```
conf.setProperty(OozieClient.APP_PATH, 
    "hdfs://cluster/user/apps/merge-psp-logs/merge-wf/workflow.xml");
conf.setProperty("jobTracker", "jobtracker.bigdata.com:8021");
conf.setProperty("nameNode", "hdfs://namenode.bigdata.com:8020");
conf.setProperty("queueName", "jobtracker.bigdata.com:8021"); 
```

除非您有两个集群，否则我的猜测是您的意思是 APP_PATH 指向与 nameNode 属性中命名的相同的 HDFS 实例，在这种情况下尝试：

```
conf.setProperty(OozieClient.APP_PATH, 
    "hdfs://namenode.bigdata.com:8020/user/apps/merge-psp-logs/merge-wf/workflow.xml"); 
```

您可能还想将 queueName 更改为真实的队列名称（可能是“默认”，除非`jobtracker.bigdata.com:8021`是队列的实际名称）：

```
conf.setProperty("queueName", "default"); 
```

除了这些观察之外，请尝试发布您看到的实际运行时错误。

# excel - 如何从第二个单元格中选择列？

> ID：12836394
> 
> 赞同：0
> 
> 时间：2012-10-11T09:27:49.643
> 
> 标签：excel, vba

我已经编写了通过单击按钮生成图形的代码，它工作正常。

问题是它正在选择整个列，即开始到结束，所以我想从第二个单元格中选择指定的列。

这是我的代码：

```
Dim ch As Chart
Set ch = ActiveWorkbook.Charts.Add
Set ch = ch.Location(Where:=xlLocationAsObject, Name:=assume)

With ch

.ChartType = xlXYScatterLines

With .Parent
    .Top = Columns(b).Offset(0, 4).Top
    .Left = Columns(b).Offset(0, 4).Left
    .Name = "ch"
End With

End With

Dim sh As Series
Set sh = ch.SeriesCollection(1)

 With sh
.Values = Columns(b).Offset(0, 0)
.XValues = Columns(b).Offset(0, -2)
End With 
```

这里“假设”是保存工作表名称的变量。并且“b”是保存列名示例“a”“b”的变量...

soo 如果 "b"= coulmn "e" 那么它应该从 Columns(b).Offset(0, -2) 的第二个单元格中选择数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:25:56.907

替换`Columns(b)`为例如`Range(cells(2, b), cells(65536, b))`。

65536 是 Excel 2003 中可能的最高行号，不知道在以后的版本中它是什么。只需将最后一行编号放在您的情况下即可。

# vba - 如何在Excel中对齐相同行上的重复项

> ID：12836396
> 
> 赞同：13
> 
> 时间：2012-10-11T09:27:50.570
> 
> 标签：vba, excel, excel-formula

这是一个我无法回答的简单问题。

我在 Excel 中有两列这样的列：

```
Col1    Col2
 A       C
 B       I
 C       E
 D       D
 E       A
 F       F
 G       B
 H       
 I 
```

我想对两列进行排序，以便相同的值在两列的相同行上对齐，例如：

```
Col1    Col2
 A       A
 B       B
 C       C
 D       D
 E       E
 F       F
 G       
 H       
 I       I
 K 
```

到目前为止，我已经尝试了以下`VBA`代码：

```
 Sub HighlightDups()
    Dim i, LastRowA, LastRowB
    LastRowA = Range("A" & Rows.Count).End(xlUp).Row
    LastRowB = Range("B" & Rows.Count).End(xlUp).Row
    Columns("A:A").Interior.ColorIndex = xlNone
    Columns("B:B").Interior.ColorIndex = xlNone
    For i = 1 To LastRowA
        If Application.CountIf(Range("B:B"), Cells(i, "A")) > 0 Then
            Cells(i, "A").Interior.ColorIndex = 36
        End If
    Next
    For i = 1 To LastRowB
        If Application.CountIf(Range("A:A"), Cells(i, "B")) > 0 Then
            Cells(i, "B").Interior.ColorIndex = 36
        End If
    Next
End Sub 
```

但是此代码仅有助于查找重复项，并且无法将重复项放在两列中的相同行上。

我想知道你们是否可以提供一些帮助？

非常感谢。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-10-11T09:32:49.447

**没有 VBA**

*   在 B 列中插入一个空白列
*   在 B1 中放置`=IF(ISNA(MATCH(A1,C:C,0)),"",INDEX(C:C,MATCH(A1,C:C,0)))`并复制下来
*   将 B 列复制并粘贴回自身作为值以删除公式

**在 VBA 中**

```
Sub Macro1()
    Dim rng1 As Range
    Set rng1 = Range([a1], Cells(Rows.Count, "A").End(xlUp))
    rng1.Offset(0, 1).Columns.Insert
    With rng1.Offset(0, 1)
        .FormulaR1C1 = _
        "=IF(ISNA(MATCH(RC[-1],C[1],0)),"""",INDEX(C[1],MATCH(RC[-1],C[1],0)))"
        .Value = .Value
    End With
End Sub 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-01-11T21:00:00.267

**没有 VBA**

*   在 C1 中放入 =VLOOKUP(A:A,B:B,1)
*   如果您有多个列，则在 E1 中放入 =VLOOKUP(A:A,B:D,2) .... 最后一位应相应更改为 1(col B), 2(col C) 3(Col D) 。

您必须相应地在单独的列中为您要查找的每个数组复制并粘贴它，但您应该能够轻松地复制和粘贴一列

希望这可以帮助。请让我知道，如果你有任何问题

# wcf - 无法通过 WCF 发送复杂对象

> ID：12836397
> 
> 赞同：0
> 
> 时间：2012-10-11T09:27:57.997
> 
> 标签：wcf

我有这样的 ServiceContract ：

```
 bool CreateSlideshow(Slideshow current, string path, string name); 
```

当我运行调用该服务的程序时，出现以下异常：

> *尝试序列化参数 [http://tempura.org/:current](http://tempura.org/:current)时出错。InnerException 消息是 'Type 'System.DelegateSerializationHolder+DelegateEntry' 与数据协定名称 'DelegateSerializationHolder.DelegateEntry:http://schemas.datacontract.org/2004/07/System' 不是预期的。考虑使用 DataContractResolver 或将任何静态未知的类型添加到已知类型列表中......*

显然问题出在`Slideshow`. 我的班级`Slideshow`有以下成员：

```
 private String name;
    private String path;
    private List<Slide> slides; 
```

并且该类`Slide`具有以下成员：

```
 private String title;
    private ContentTypeEnum contentType;
    private String textContent;
    private String pictureContextPath; 
```

`ContentTypeEnum`枚举在哪里。

知道如何解决异常吗？希望得到一些建议/建议。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:31:09.717

您使用的类型必须用`[DataContract]`属性标记。必须用属性标记`[DataMember]`属性。

此外，您的字段应该是公共属性，因为数据合同仅对私有字段没有任何意义。

```
[DataContract]
public class Slideshow
{
    [DataMember]
    public String Name { get; set; }
    [DataMember]
    public String Path { get; set; }
    [DataMember]
    public List<Slide> Slides { get; set; }
}

[DataContract]
public class Slide
{
    [DataMember]
    public String Title { get; set; }
    [DataMember]
    public ContentTypeEnum ContentType { get; set; }
    [DataMember]
    public String TextContent { get; set; }
    [DataMember]
    public String PictureContextPath { get; set; }
} 
```

# php - 如何对数组进行分组但不创建新对象？

> ID：12836406
> 
> 赞同：1
> 
> 时间：2012-10-11T09:28:17.217
> 
> 标签：php, arrays

我有一个看起来像这样的数组：

```
array (size=21)
  0 => string '2' (length=1)
  1 => string '' (length=0)
  2 => string '20' (length=2)
  3 => string '19' (length=2)
  4 => string '14' (length=2)
  5 => string '13' (length=2)
  6 => string '' (length=0)
  7 => null
  8 => null
  9 => string '20' (length=2)
  10 => null
  11 => string '10' (length=2)
  12 => string '' (length=0)
  13 => null
  14 => string '13' (length=2)
  15 => null
  16 => string '' (length=0)
  17 => null
  18 => null
  19 => string '' (length=0)
  20 => string '20' (length=2) 
```

我想通过对具有相同字符串的行进行分组来从该数组创建一个新数组。例如

**2 => 字符串 '20' (length=2)**和**20 => 字符串 '20' (length=2)**和**9 => 字符串 '20' (length=2)**

和

**5 => 字符串“13”（长度=2）**与**5 => 字符串“13”（长度=2）**

等等

并根据字符串在那里出现的次数对新创建的数组行进行排序。

顺序需要从出现次数最多到最后一次的 DESC，就像经典的顶级事物图表一样（出现次数最多的字符串是第一位的，最少的是低位）

因此，修改后的数组将如下所示：

```
 array (size=21)
      0 => string '20' (length=2)
      1 => string '13' (length=2)
      ... 
```

我还需要以某种方式处理空结果，例如**17 => null**根本不包含在最终的数组修改结果中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:42:51.560

这应该可以解决问题：

```
// Filter the "null results" first
$myarray = array_filter($myarray, create_function('$arg', '
    return !is_null($arg);
'));

$occurrences = array_count_values($myarray);
// EDIT: arsort preserves the key => value correlation
arsort($occurrences, SORT_NUMERIC);

var_dump(array_keys($occurrences)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:46:12.983

尝试这个。

```
$result = array_count_values($a);
arsort($result);

$result = array_keys($result); 
```

# cakephp - CakePdf - 引擎未加载

> ID：12836414
> 
> 赞同：1
> 
> 时间：2012-10-11T09:28:35.063
> 
> 标签：cakephp

我已经为 cakephp 安装了 CakePdf 插件，如 GitHub 上的自述文件中所述。我收到一条错误消息，提示引擎未加载。我已经尝试了插件附带的所有 3 个引擎。其他人有这个问题并找到解决方案吗？兰克斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T09:47:11.213

[http://www.slideshare.net/jellehenkens/building-php-documents-with-cakepdf-cakefest-2012](http://www.slideshare.net/jellehenkens/building-php-documents-with-cakepdf-cakefest-2012)

这是如何安装插件的幻灯片，要加载引擎，请在 bootstrap.php 中使用

```
Configure::write('CakePdf', array(
        'engine' => 'CakePdf.DomPdf',

       'pageSize'=>'A4',

        'orientation' => 'landscape',

    )); 
```

转到您在公共功能视图中使用的控制器或对其进行索引：

```
$this -> pdfConfig = array (
            'orientation' => 'landscape',
            'download' => true,
            'filename' => 'Client_' . $id
        ); 
```

我希望这能帮到您，

# android - Android 谷歌地图网络服务（导航）

> ID：12836419
> 
> 赞同：0
> 
> 时间：2012-10-11T09:29:00.793
> 
> 标签：android, google-maps, google-maps-mobile

根据谷歌地图许可，在安卓商业应用中使用 MapView 是免费的，只要您避免以下行为：

> 仅当您在 Android 应用程序中使用任何 JS/Flash/Static Maps API 或 Maps API Web 服务（基于 REST 的接口）时，Google 地图/Google 地球 API 服务条款才适用。

如果我的应用程序可以从 android 市场免费下载（因此“公开可用”），我是否也可以在商业应用程序中使用 Web 服务（为付费客户端开发，但随后发布到 android 市场并免费安装）

感谢您的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:41:59.620

[谷歌地图 API 许可](https://developers.google.com/maps/licensing)

[您的 Maps API 实施的免费、公开可访问性](https://developers.google.com/maps/terms#section_9_1)

# django - django缓存键属于哪些视图？

> ID：12836420
> 
> 赞同：2
> 
> 时间：2012-10-11T09:29:01.287
> 
> 标签：django, caching, key

我启用了使用 Redis 作为后端的 Django 1.4 缓存。我想知道哪个视图属于我的缓存键？

:1:views.decorators.cache.cache_page.mysite.GET.077b0d695a2095e154185234de17ad3350.d669abb4a2a0575f43321342f66b.fr

我知道这是一个模板：

```
In [2]: r = redis.StrictRedis(host='localhost', port=6379, db=1)
In [3]: dd = r.get('':1:views.decorators.cache.cache_page.mysite.GET.077b0d695a2095e154185234de17ad3350.d669abb4a2a0575f43321342f66b.fr'')
In [6]: obj = cPickle.loads(dd)
In [7]: obj
Out[7]: <django.template.response.TemplateResponse object at 0x2a47050> 
```

有没有办法渲染这个模板来看看里面还有什么？

我试过

```
obj.render()
print(obj.content) 
```

但我得到了一些奇怪的字符。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:31:10.623

您可能正在使用 Gzip 中间件。

删除它或使用 gzip 模块解压缩内容。

# apex-code - 尝试取消引用空对象：Salesforce

> ID：12836421
> 
> 赞同：1
> 
> 时间：2012-10-11T09:29:12.533
> 
> 标签：apex-code

我正在尝试将数据提交到服务器，并在服务器中挑选并存储在 salesforce 中。我得到的错误是服务器上的“尝试取消引用空对象”。所以我想知道问题是什么......下面是示例代码：

```
public static List<String> processAgentVisitSurvey(ProcessSurveySubmission.SurveySubmission submission, Map<String, Submission_Answer__c> answers, Person__c person) {

    // Load the TDR
    TDR__c tdr = loadTdr(person);

    if (tdr == null) {

        //Send an email saying that an unregistered person is trying to act a TDR

        // Send back the error message
        return new String[] { '0', 'User with handset Id ' + submission.imei + ' is not a TDR', 'SUPRESSMSG' };
    } 
```

这是错误消息的来源。

有一个类重定向到此方法：

```
private static List<String> additionalProcessing(
        SurveySubmission surveySubmission,
        Survey__c survey,
        Person__c interviewer,
        Id intervieweeId
) {
    List<String> returnValues = new List<String>();

    Map<String, Submission_Answer__c> answers = parseSubmissionToMap(surveySubmission);

    // Find the name of the method that this survey hooks into to do its post processing
    try {
        if (survey.Post_Processing_Method__c.equalsIgnoreCase('None')) {
            returnValues.add('0');
            returnValues.add('There is no post processing method specified for this survey');
            returnValues.add('SUPRESSMSG');
        }
        else if (survey.Post_Processing_Method__c.equals('CKW_Registration')) {
            return CkwRegistration.processCkwRegistration(answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('CKW_Baseline')) {
            return CkwRegistration.processCkwBaseline(answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('CKW_Staff_Update')) {
            return CkwRegistration.processCkwUpdate(answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('Subcounty_Registration')) {
            return CkwRegistration.processSubcounties(answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('TDR_AGENT_VISIT')) {
            return TdrHelpers.processAgentVisitSurvey(surveySubmission, answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('UDOM_RAIN_GUAGE')) {
            return UDoMSurveyProcessing.processDailyRainGauge(surveySubmission, answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('UDOM_RAIN_GUAGE_REG')) {
            return UDoMSurveyProcessing.registerRainGauge(surveySubmission, answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('MTN_CHANNELS')) {
            return MtnChannelsHelpers.processChannelsFFPSSurvey(surveySubmission, answers, interviewer);
        }
        else if (survey.Post_Processing_Method__c.equals('FHI_GROUP_REGISTRATION')) {
        return FHISurveysHelpers.processGroupRegistration(surveySubmission, answers, interviewer, survey.Survey_Name__c);
        }
        else if (survey.Post_Processing_Method__c.equals('FHI_HOUSEHOLD_REGISTRATION')) {
           return FHISurveysHelpers.processHouseholdRegistration(surveySubmission, answers, interviewer, survey.Survey_Name__c);
        }
//           else if (survey.Post_Processing_Method__c.equals('Colombia_Farmer_Registration')) {
//               return ColombiaFarmerRegistrationPostProcessor.processSubmission(surveySubmission, answers, interviewer);
//           }
        else if (survey.Post_Processing_Method__c.equals('FIELD_OFFICER_SUPPORT')) {
            return FieldOfficeHelpers.processFoSurvey(surveySubmission, answers, interviewer);
        }
//           else if (survey.Post_Processing_Method__c.equals('DATA_VALIDATOR_SPOT_CHECK')) {
//               return DataValidatorHelpers.processSpotCheck(surveySubmission, answers, interviewer);
//          }
//            else if (survey.Post_Processing_Method__c.equals('DATA_VALIDATOR_BACK_CHECK')) {
//                return DataValidatorHelpers.processBackCheck(surveySubmission, answers, interviewer);
//            }
        else if (survey.Post_Processing_Method__c.equals('EQUIPMENT_TRACKING')) {
            return EquipmentTrackingHelpers.processFieldOfficerSubmission(surveySubmission, answers, interviewer);
        }
    }
    catch (Exception e) {
        returnValues.add('0');
        returnValues.add(e.getMessage());
        returnValues.add('An error occured. Please contact support');
    }
    return returnValues;
} 
```

我认为这很好......

请帮助因为我似乎没有看到任何问题 谢谢。我希望提供的代码就足够了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-21T22:06:02.807

通常，当我遇到该错误时，我的第一反应是查找任何查询。在 APEX 中，当您将空值（预期与否）返回到单个项目中时，例如`Person__c person = [query that returns objects};`会引发该错误。

解决方案是确保数据返回到具体的 SObject 中，例如...

`List<Person__c> persons = [Here is a query or method call];`

然后，您将使用`persons.size()` 这服从 salesforce 的 Bulkify Everything 方法以及更强大的后端来检查列表。

抱歉，我无法提供更多支持，没有行号或调试日志的代码示例中的错误不是很明显。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-06T05:09:46.260

请注意：如果您尝试引用类的未实例化属性，也会出现此错误。

示例：如果您声明一个类的 List 属性，但从未实例化它，然后尝试添加到该列表，您将收到此错误。

# r - 日内高/低聚类

> ID：12836424
> 
> 赞同：0
> 
> 时间：2012-10-11T09:29:23.777
> 
> 标签：r, xts

我正在尝试对基于时间的高点/低点聚类进行研究。`to.daily`我设法通过使用盘中数据并使用以下方法合并两者来实现上述目标：

```
intraday.merge <- merge(intraday,daily)
intraday.merge <- na.locf(intraday.merge)
intraday.merge <- intraday.merge["T08:30:00/T16:30:00"] # remove record at 00:00:00 
```

接下来，我尝试使用以下方法获取 high == daily.high/low == daily.low 的记录：

```
intradayhi <- test[test$High == test$Daily.High]
intradaylo <- test[test$Low == test$Daily.Low] 
```

生成的数据类似于以下内容：

```
 Open  High   Low Close Volume Daily.Open Daily.High Daily.Low Daily.Close Daily.Volume
2012-06-19 08:45:00 258.9 259.1 258.5 258.7   1424      258.9      259.1     257.7       258.7        31523
2012-06-20 13:30:00 260.8 260.9 260.6 260.6   1616      260.4      260.9     259.2       260.8        35358
2012-06-21 08:40:00 260.7 260.8 260.4 260.5    493      260.7      260.8     257.4       258.3        31360
2012-06-22 12:10:00 255.9 256.2 255.9 256.1    626      254.5      256.2     253.9       255.3        50515
2012-06-22 12:15:00 256.1 256.2 255.9 255.9    779      254.5      256.2     253.9       255.3        50515
2012-06-25 11:55:00 254.5 254.7 254.4 254.6   1589      253.8      254.7     251.5       253.9        65621
2012-06-26 08:45:00 253.4 254.2 253.2 253.7   5849      253.8      254.2     252.4       253.1        70635
2012-06-27 11:25:00 255.6 256.0 255.5 255.9    973      251.8      256.0     251.8       255.2        53335
2012-06-28 09:00:00 257.0 257.3 256.9 257.1    601      255.3      257.3     255.0       255.1        23978
2012-06-29 13:45:00 253.0 253.4 253.0 253.4    451      247.3      253.4     246.9       253.4        52539 
```

使用子集有重复的结果，如何只实现当天的第一条记录？然后，我将能够绘制一天中各个时段的记录数。

另外，是否有其他方法可以得到我想要的结果？提前致谢。

编辑：

示例输出应如下所示，计数可以是当天的第一个结果或汇总（当天出现超过 1 次）：

```
Time        Count
08:40:00    60
08:45:00    54
08:50:00    60
...
14:00:00    20
14:05:00    12
14:10:00    30 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T20:51:24.813

您可以通过以下方式获得每天的第一次观察：

```
y <- apply.daily(x, first) 
```

然后您可以简单地根据小时和分钟聚合计数：

```
z <- aggregate(1:NROW(y), by=list(Time=format(index(y),"%H:%M")), sum) 
```

# ios - captureOutput:didOutputSampleBuffer:fromConnection: 是否携带任何方向信息？

> ID：12836433
> 
> 赞同：1
> 
> 时间：2012-10-11T09:29:35.870
> 
> 标签：ios, orientation, avcapturesession, cmsamplebuffer

我通过 OpenGL 将大量图像处理应用到相机实时预览层，并且在我从 OpenGL 请求图像（以应用相应的转换）之前，我想获取有关输入方向的一些信息。

捕获发生在仅纵向视图控制器中，并且有来自设备方向的通知，或者东西可能与实际图像方向不同步，恐怕。

CMSampleBuffer 有任何方向信息吗？还是 AVCaptureConnection？

# ios - 不要旋转 UIView，而是在其中旋转 UIImageView

> ID：12836435
> 
> 赞同：1
> 
> 时间：2012-10-11T09:29:41.857
> 
> 标签：ios, uiview, rotation, scroll

我知道有很多关于它的帖子，但我找不到最佳解决方案。

我有一个“持有人”视图（UIView），其中包含许多在横向模式下水平拉伸的滚动视图。每个滚动视图都包含视图的包含图像，这些图像是垂直滚动的。再一次，整个事情都在风景中。

我想要的是，当我旋转到纵向模式时，包含所有内容的“持有人”视图保持不变，这意味着现在是一列，滚动视图旋转意味着滚动是水平的，但滚动视图（包含图像的视图）的内容会旋转。

我尝试编写一个 UIView 子类（用于“持有者”视图）并使用以下方法：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
// Return YES for supported orientations
return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight);
} 
```

以同样的方式，我希望处理驻留在我的“持有者”视图中的子视图，但这不起作用。最好的方法是什么？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:15:18.343

您可以将支持的方向设置为您想要的方向，并观察[`UIDevice`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDevice_Class/Reference/UIDevice.html)方向更改以手动处理其他方向。这里有一个例子：

```
#import "ViewController.h"

@interface ViewController ()

- (void)deviceDidRotate:(NSNotification *)notification;

@end

@implementation ViewController

- (void)viewDidLoad {

    [super viewDidLoad];

    [[UIDevice currentDevice] beginGeneratingDeviceOrientationNotifications];
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(deviceDidRotate:)
                                                 name:UIDeviceOrientationDidChangeNotification
                                               object:nil];
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation {

    return (interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight);
}

#pragma mark - Private methods

- (void)deviceDidRotate:(NSNotification *)notification {

    UIDeviceOrientation orientation = [[UIDevice currentDevice] orientation];
    /* Handle manually the rotation
       For instance, apply a transform to a UIView:
       CGAffineTransform transform = CGAffineTransformMakeRotation(radians);
       self.aView.transform = transform; */
}

@end 
```

# machine-learning - 处理非十进制变量的最佳实践。[ACM KDD 2009 杯]

> ID：12836440
> 
> 赞同：1
> 
> 时间：2012-10-11T09:30:14.420
> 
> 标签：machine-learning, artificial-intelligence, neural-network, data-mining, classification

为了练习，我决定使用神经网络来解决[ACM 知识发现和数据挖掘特别兴趣小组在 2009 年杯赛上](http://www.sigkdd.org/kddcup/index.php?section=2009&method=info)提出的分类问题（2 类） 。我发现的问题是数据集包含很多“空”变量，我不知道如何处理它们。此外出现了第二个问题。如何处理其他非小数，如字符串。您的最佳实践是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T11:10:09.007

大多数方法都需要数字特征，因此必须将分类特征转换为计数。例如，如果某个实例的属性中存在某个字符串，则其计数为1，否则为0。如果多次出现，则计数相应增加。从这个角度来看，任何不存在的功能（或您所说的“空”）的计数为 0。请注意，属性名称必须是唯一的。

# ios - 方向改变后的伪影

> ID：12836441
> 
> 赞同：0
> 
> 时间：2012-10-11T09:30:17.743
> 
> 标签：ios, orientation

我的应用程序由 2 个屏幕（主屏幕和设置）组成，两者都完全充满了滚动视图。每个都有一个视图控制器，应该支持横向和纵向。我正在使用 Autosizing 来实现这一点，它工作得很好（所有元素都在它们应该在的位置，大小也是正确的）但是当屏幕旋转时我得到了奇怪的伪影，例如当实际的“鼓”时选择器框架保持不变" 内部区域已正确调整大小，文本字段与背景部分重叠，横向图形保持原位并与纵向图形重叠。

所有这些都只是没有修改的基本元素，没有图像或任何特殊的东西（图表是例外，我在 didRotateFromInterfaceOrientation 中重新加载它:)。任何想法为什么会发生这种情况，为什么基本元素没有正确重绘？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T09:38:20.793

最后自己想通了。必须实施解决方法，因为 iOS 显然无法自行完成。

1) 自动调整视图大小后的人工制品。这里的解决方案是在更改方向之前隐藏视图，重新加载图表并在更改方向后再次显示它。看起来并不完美，但比以前好多了。

2）其他问题是由pickerview引起的。自动调整大小显然根本不起作用。这里的解决方案是创建 UIView 而不是选择器，它可以毫无问题地调整大小，并在每次方向更改时重新创建选择器视图。

# c# - 如何在生成的输入字段上调用方法c#/asp.net

> ID：12836442
> 
> 赞同：0
> 
> 时间：2012-10-11T09:30:17.010
> 
> 标签：c#, asp.net

我是 C# 的新手，所以请耐心等待 :)。

我在 asp.net 中创建了一个表单，并尝试使用RequiredFieldValidator 对其进行验证。我的问题是输入字段是使用 for 循环生成的。

我的问题是如何验证这些输入字段，是否有某种方法可以像在 java 中那样“传递对象”？

编辑：生成字段的表：

```
 <asp:Table id="newPatienttbl" 
      GridLines="Both" 
      HorizontalAlign="Center" 
      Font-Size="8pt" 
      CellPadding="5"
      CellSpacing="0"
      Runat="server"/> 
```

我如何生成我的输入字段。

```
 TableRow row = null;
        TableCell cell = null;
        TextBox tb = null;
        foreach (DataColumn column in patientData.Columns)
        {
            row = new TableRow();
            cell = new TableCell();

            if (column.ColumnName.Equals("ZVID"))
                cell.Text = "Zorgverzekeraar";
            else
                cell.Text = column.ColumnName;

            row.Cells.Add(cell);

            cell = new TableCell();

            if (!column.ColumnName.Equals("ZVID"))
            {
                tb = new TextBox();
                cell.Controls.Add(tb);
            }
            else
            {
                DropDownList dd = new DropDownList();
                dd.ID = column.ColumnName;
                dd.DataSource = zorgData;
                dd.DataValueField = "ZVID";
                dd.DataTextField = "Naam";

                dd.DataBind();
                cell.Controls.Add(dd);
            }

            cell.ID = column.ColumnName+"Cell";
            row.Cells.Add(cell);

            newPatienttbl.Rows.Add(row);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:51:57.503

您可以使用以下内容更改代码：

```
 string addedControlId;
        if (!column.ColumnName.Equals("ZVID"))
        {
            tb = new TextBox();
            tb.Id= column.ColumnName;
            cell.Controls.Add(tb);
            addedControlId = tb.Id;
        }
        else
        {
            DropDownList dd = new DropDownList();
            dd.ID = column.ColumnName;
            dd.DataSource = zorgData;
            dd.DataValueField = "ZVID";
            dd.DataTextField = "Naam";

            dd.DataBind();
            cell.Controls.Add(dd);
            addedControlId = dd.Id;
        }
        RequiredFieldValidator val = new RequiredFieldValidator{

            ControlToValidate = addedControlId,
            ErrorMessage = "Shame on you, you did not fill this value"

        }
        cell.Controls.Add(val); 
```

但是，您的代码让我认为您应该移动数据绑定控件，例如[`DataTable`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datatable.aspx)or [`DataGrid`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.aspx)。您将受益于模板化您的项目。

# php - 无法使用 PHP 和 MySQL 检索批量记录

> ID：12836444
> 
> 赞同：2
> 
> 时间：2012-10-11T09:30:24.340
> 
> 标签：php, mysql, codeigniter

我在 MySQL 中有一个表，其结构如下：

```
id int(10) PRIMARY,
app_no varchar(255) 
```

和字段 app_no 上`INDEX appno_index`的类型`BTREE`

现在这个表中有 900000 + 条记录。我正在使用 CodeIgniter 模型列出记录。我对 CodeIgniter 中记录列表的查询是

```
$query = $this->db->query("SELECT id, app_no FROM `app_no` USE INDEX(appno_index)"); 
```

但是 MySQL 会抛出这样的错误。

**致命错误：第 162 行 C:\wamp\www\~\system\database\drivers\mysql\mysql_result.php 中允许的内存大小为 134217728 字节已用尽（尝试分配 24 字节）**

如何使用任何东西优化我的查询，以便页面显示所有记录？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:33:16.047

尝试添加`LIMIT 0 , 30`到查询的末尾，其中第一个`0`是偏移量（从哪里开始获取行），第二个`30`是要获取的行数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-12T04:28:13.977

单页上显示的记录太多了。

考虑改用 CodeIgniter 的[分页库](http://codeigniter.com/user_guide/libraries/pagination.html)。

# pdf - 如何正确裁剪文本边距不均匀的 PDF

> ID：12836445
> 
> 赞同：1
> 
> 时间：2012-10-11T09:30:36.183
> 
> 标签：pdf

我有这样的PDF：

![在此处输入图像描述](../Images/69450bc6ca5ea35a8453146782d763ab.png)

其中与文本内容相关的所有边距在每页基础上都不同。

有什么工具可以为我纠正这个问题吗？

我知道 Scan Tailor 可以在位图上执行此操作，但这是只有文本层的 PDF，所以我不寻求在任何阶段都涉及位图的解决方案

* * *

**更新**：

好的，对我来说没有必要尝试在 Windows 上运行 PDFCrop，因为主要功能是由 ghostscript 提供的。此命令（取自 pdfcrop perl 脚本）：

`gswin32c.exe -dSAFER -dNOPAUSE -dBATCH -q -r72 -sDEVICE=bbox -f input.pdf 2> bbox.txt`

生成带有文本内容尺寸的 bbox.txt 文件，好像没有边距（边界框）。它看起来像这样：

```
%%BoundingBox: 91 259 474 757
%%HiResBoundingBox: 91.000000 259.000000 474.000000 757.000000
%%BoundingBox: 85 224 470 768
%%HiResBoundingBox: 85.000000 224.000000 469.375000 768.000000
%%BoundingBox: 102 217 489 768
%%HiResBoundingBox: 102.000000 217.000000 488.457031 768.000000
... 
```

其中第一个数字是左下角 x,y 值，其余两个和右上角，从左下边缘测量（以像素/点为单位）。

这可以通过用户选择的语言读取，然后根据需要更正 bbox 并再次传递给 ghostscript，如此处引用[的：使用 Ghostscript 9.01 裁剪 PDF](https://stackoverflow.com/questions/6183479/cropping-a-pdf-using-ghostscript-9-01)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:50:50.963

如果您确定只涉及文本（而不是上面绘制文本的图像或路径绘制符号），您可以使用 iText（或者很可能也使用 iTextSharp 的某些 .NET 语言）在 Java 中轻松构建这样的工具解析器包功能。

iText in Action，第 2 版，第 15.3.4 章介绍了如何查找文本边距，示例代码可以在 SourceForge iText SVN 存储库的[ShowTextMargins.java中找到。](http://svn.code.sf.net/p/itext/code/book/src/part4/chapter15/ShowTextMargins.java)

通过操作各个页面的 MediaBox 条目，您可以根据需要调整边距。

# c# - MVP，应该在哪里创建类？

> ID：12836446
> 
> 赞同：2
> 
> 时间：2012-10-11T09:30:37.920
> 
> 标签：c#, winforms, c#-4.0, mvp

我对 MVP 模式有一些问题，特别是在哪里创建我的所有类的实例。目前这些都是在program.cs文件中创建的。虽然这可行，但我了解到这是糟糕的设计。如果有人能给我一些关于如何构建的指示，我将不胜感激。

```
internal static class Program
{
    /// <summary>
    /// The main entry point for the application.
    /// </summary>
    [STAThread]
    private static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);

        var browser = new BrowserWindow();
        var helper = new MainPresenterHelper();
        var userInterface = new MainForm();
        var entity = new UserInputEntity();

        var readerWriter = new ReaderWriter();
        var manager = new IOManager(readerWriter);
        var verif = new VerificationManager(manager);
        var entityVerification = new EntityVerification(verif);

        var logger = new Logger(entity, readerWriter, true);
        var verifyRow = new VerifyRow(entity, logger);
        var verification = new VerificationOfDataTypes(entity, logger, verifyRow, new Status(), readerWriter);

        var verify = new CsvFileVerification(entityVerification, verification, logger);

        var cts = new CancellationTokenSource();
        var source = new CancellationTokenSourceWrapper(cts);

        var presenter = new MainPresenter(userInterface, browser, helper, entity, verify, source);

        Application.Run(userInterface);
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T12:00:09.263

*如果您想知道“为什么这篇文章这么长！？” 这是因为我在 C# 视频群聊中与 Hans 和其他人聊天，并且对他想要学习的内容有了一个想法（我认为）*。

* * *

汉斯，

在 WinForms 中使用 MVP是完全*可行*的，我们在旧的 Windows CE 6 设备（winform 风格）应用程序上充分发挥了它的作用，甚至包括完整的 CQRS 循环。反正。

我将要列出的内容对于您的程序来说不是*必需*的，但我认为它对您作为开发人员非常有用。您本质上需要学习的（在我看来）是对象生命周期和依赖层次结构。这些东西可能有*适当的*名称，但希望这足够描述性。

因此，当您的应用程序启动时，您实际上正在做的是实例化所有内容。尽管您的程序可能确实使用了所有这些东西，但真的需要像这样将它们全部实例化在一个地方吗？如果不出意外，它会让这个类承担太多责任。当你运行你的应用程序时，你要做的第一件事就是显示一个我假设的 UI。所以，理想情况下，这就是第一种方法中应该存在的全部内容。

我看到您正在将已实例化的各种对象传递给行中的下一个对象，这是一个好的开始 - 这意味着您基本上已经逐行输入了依赖关系树。但是，您需要重新考虑依赖关系，然后才能继续此操作。基本上，你的目标是*这个类需要*什么才能运行。不要想得更远（即如果这个类需要 X，我必须得到一个 Y，因为 X 需要它）。您只想找到每个类的第一层依赖关系。

我的建议是放入一个依赖容器并使用构造函数注入，与您现在所做的不同。通常，您会通过从对象的实际实现中抽象出对象的操作和属性来开始此过程。

IE

```
public interface IDoStuff
{
    string AProperty { get; set; }

    bool SomeMethod(int anArgument);
}

public class TheImplementation : IDoStuff
{
    public string AProperty { get; set; }

    public bool SomeMethod(int anArgument)
    {
        return false;
    }

    public void AnotherMethod()
    {
        this.AProperty = string.Empty
    }
} 
```

因此，乍一看，您可能想知道这一切的意义何在，这肯定会使您的程序变得*不必要地复杂*。好吧，关键是从消费者那里抽象出实现细节。

而不是瞄准：

```
public class MyConsumer
{
    private readonly TheImplementation myDependency;

    public MyConsumer(TheImplementation myDependency)
    {
        this.myDependency = myDependency
    }

    public void ExposedMethod()
    {
        this.myDependency.SomeMethod(14)
    }
 } 
```

我们的目标是让消费者只引用接口：

```
public class MyConsumer
{
    private readonly IDoStuff myDependency;

    public MyConsumer(IDoStuff myDependency)
    {
        this.myDependency = myDependency
    }

    public void ExposedMethod()
    {
        this.myDependency.SomeMethod(14)
    }
 } 
```

这给你的是灵活性！这意味着您可以对实现进行更改，甚至完全更换实现，而无需接触消费者。

它也非常适合测试驱动设计，因为您可以将这些接口的实现替换为假版本（称为*mocks*），以便您可以绝对隔离地测试应用程序的组件（消费者） - 更快的测试，更好的测试。不再需要测试 Presenters 导致数据库查询或意味着您必须启动 IIS Express 才能运行某些类可能需要的 WCF 服务。

之后，依赖注入变得异常简单。您的应用程序启动成为[组合根](https://stackoverflow.com/questions/6277771/what-is-a-composition-root-in-the-context-of-dependency-injection)并处理您的实际实现与接口的绑定。

绑定完成后，我曾经使用过的所有依赖容器（Ninject 是我个人最喜欢的，Unity 紧随其后）都能够自动检测您的依赖树，并通过简单地请求根节点来实例化整个对象图。太多的谈话，太少的代码=）这是一个例子：

```
[STAThread]
private static void Main()
{
    // assuming ninject
    IKernel kernel = new StandardKernel();

    // some people hate self binds, but you may find this easier than 
    // creating interfaces for all your existing classes
    kernel.Bind<BrowserWindow>().ToSelf(); 
    kernel.Bind<MainPresenterHelper>().ToSelf();
    kernel.Bind<MainForm>().ToSelf();
    kernel.Bind<UserInputEntity>().ToSelf();

    // this is where we use the splitting implementation from interface
    kernel.Bind<IReaderWriter>().To<ReaderWriter>();
    kernel.Bind<IIOManager>().To<IOManager>();
    kernel.Bind<IVerificationManager>().To<VerificationManager>();
    // .... etc

    //If you do them all correctly, you can simply have the following line

    Application.Run(kernel.Get<MainForm>());
} 
```

我希望这对您有所帮助？如果不是，该死的，花了很长时间才写出来...... =）

# iphone - 如何将子视图添加到 UIViewController 将 UINavigationBar 推到后面

> ID：12836452
> 
> 赞同：1
> 
> 时间：2012-10-11T09:30:50.207
> 
> 标签：iphone, uinavigationcontroller, uinavigationbar, addsubview

我想要的是如下：

基本上我有一个带有导航栏的视图控制器。左侧 UINavigationBarItem 有一个菜单按钮。单击菜单项的菜单按钮列表将从顶部开始动画。这是使用“addSubview”方法实现的。但菜单列表添加为导航栏下方的子视图。我想在菜单列表视图后面添加菜单列表视图推送导航栏。我不想隐藏导航栏。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T17:01:09.967

尝试：** [ `self.navigationController.view** addSubview:xxxView`]，这适用于我的应用程序。不要使用[ `self.view addSubview:xxxView`]，那不能把导航栏放在后面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:57:31.203

我不确定但是........这可能是不可能的，因为如果你想在你的后面**显示**你的**菜单列表**`UINavigationBar`，那么你需要隐藏你的`UINavigationBar`没有隐藏的`UINavigationBar` **菜单列表**将始终显示在`UINavigationBar`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:47:56.183

你有没有尝试过..？**添加子视图**后将您的**子视图**置于前面

 **```
//after adding your menu view

 [self.view bringSubViewToFront:menuItemsView];
 [self.view sendSubviewToBack:self.navigationController.navigationBar ]; 
```**

# c# - 将 ObservableCollection 替换为另一个不触发 PropertyChanged

> ID：12836458
> 
> 赞同：1
> 
> 时间：2012-10-11T09:31:22.953
> 
> 标签：c#, observablecollection, inotifypropertychanged

我在服务器上有一些 JSON api，我想用它来聊天。所以我使用`HttpWebRequest, Respond`, ... 并反序列化为`ObservableCollection<ChatMessage>`. 一切正常。我有我的类，它被添加到 datacontext 并且该类包含上面的集合（`ObservableCollection<ChatMessage> entries`它绑定到列表框，一切都显示得很好。现在，如果我想在服务器上重新加载该文件的内容，我首先制作了我所做的一切时间并将集合替换`entries`为新集合。但这不会触发`PropertyChanged`或`CollectionChanged`视图仍然绑定到旧集合。那么最好的“修复”是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:33:46.030

从技术上讲，您的收藏不会改变 - 它会被新的取代，因此 CollectionChanged 不会被解雇。

您需要在包装类上实现 INotifyPropertyChanged，当您替换集合时，触发 PropertyChanged 事件以通知 UI。

另一种解决方案是不替换集合，而是清除其项目并将新条目添加到该集合中。您可以通过比较集合（旧的和新的）并添加新条目/删除不再在新列表中的条目来以更智能的方式执行此操作。

# c# - Telerik：GridDropDownColumn 不过滤

> ID：12836463
> 
> 赞同：0
> 
> 时间：2012-10-11T09:31:37.600
> 
> 标签：c#, asp.net, telerik

" DataField="UserGroup_ID" HeaderStyle-Width="120px" ListTextField="GroupName" AndCurrentFilterValue="GroupName" />

它按 id 过滤，但不在组名中 ..为什么？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:36:13.687

GridDropDownColumn 过滤器只知道您的网格数据源中的数据，例如您的 usegroupid。因此它只能过滤您的下拉列表“值”而不是文本。

您必须改用模板列。

# jquery - Jquery在fancybox中动态添加图像

> ID：12836464
> 
> 赞同：1
> 
> 时间：2012-10-11T09:31:44.493
> 
> 标签：jquery, html, css, fancybox

嗨，我有一个网站有一些效果。在一个效果中，当用户遍历一个 div 时，我将在另一个 div 的绝对位置附加到该 div。在新的 div 中，我插入一个图像，如果用户单击它，我想启动 fancybox。我用了很多次fancybox，但从来没有使用过动态创建的元素。这是代码：

```
$(document).ready(function(){
    $(".elenco a").stop().mouseover(function(){
        $(".elenco a").css('color','#000');
        $(this).css('color','#fff');
        var id = $(this).attr('id');
         if ($('#gallery').length!=0){
             var image= $('#gallery').find('#thumb_img');
             image.attr('src','img/gallery/thumb/th_'+id+'.jpg');
         }else{          
            $('.elencoGallery').stop().append(function() {

                return '<div id="gallery"  style="position:absolute; top:0; left:300px; z-index:1000;overflow:hidden; width:0px; height:154px; background:#c7c2c2;"><a href="img/gallery/thumb/thumb.jpg" class="fancy"><img src="img/gallery/thumb/thumb.jpg" alt="living arredamenti" style="margin-top:9px; margin-left:19px;" id="thumb_img"/></a></div>';
            });

            $('#gallery').stop().animate({
                width:'200px'

              }, 1000, function() {
                // Animation complete.
            });
         }
    });

    $('.elencoGallery').stop().mouseleave(function(){
        $('#gallery').stop().animate({
            width:'0px'
          }, 1000, function() {
            $('#gallery').remove();
        });
    });

});
</script> 
```

HTML：

```
<div class="elencoGallery">
<div class="elenco" style="padding-top:18px;" >
    <p style="padding-left:10px;" id="cucine" >test1</p>
</div>
<div class="elenco" style="padding-top:18px;" >
    <p style="padding-left:10px;" id="cucine2" >test</p>
</div>
</div> 
```

我已经简化了 html，一切正常，只有当我追加时，fancybox 不起作用。不是fancybox的问题，因为如果我放置一个不是动态创建的简单链接，fancybox可以正常工作1图像在正确的位置，如果我将这个外部复制复制到一个div中，则不是动态的！为什么？？

```
<a href="img/gallery/thumb/thumb.jpg" class="fancy"><img src="img/gallery/thumb/thumb.jpg" alt="living arredamenti" style="margin-top:9px; margin-left:19px;" id="thumb_img"/></a> 
```

对fancybox的调用：

```
<script type="text/javascript">

    $(document).ready(function(){   
        $("a.fancy").fancybox({
            'transitionIn'  :   'fade',
            'transitionOut' :   'fade',
            'speedIn'       :   600, 
            'speedOut'      :   200, 
            'overlayShow'   :   true,
            'overlayOpacity':   0.8,
            'overlayColor'  :   '#000'
        }); 
    });
    </script> 
```

为什么当我在附加中创建运行时时我的 fancybox 不起作用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:35:37.163

在您的代码中的某个地方（您没有显示），您将首次调用 fancybox 方法。插入新的动态元素后，您必须再次调用 fancybox 方法来刷新 fancybox。

大多数插件为方法提供了一个参数，如“刷新”，其他一些插件要求您重复完整的初始方法调用。一些插件提供 .init() 方法。您必须深入研究 fancybox 的文档才能找到答案。

# python - if 语句中的变量

> ID：12836465
> 
> 赞同：0
> 
> 时间：2012-10-11T09:31:57.660
> 
> 标签：python

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:42:52.293

如果你真的想只在使用时定义它们，为什么不让它完全明确和明显，以便阅读和更改？

```
if   trigger == '1':
    x = int(start)

elif trigger == '2':
    x = int(s1)

elif trigger == '3':
    x = int(s2)

elif trigger == '4':
    x = int(start)
    y = int(s1)

elif trigger == '5':
    x = int(s1)
    y = int(s2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:38:56.100

为什么不在你的 if 中再添加一个条件。

这是编写`option 2`. 我认为您可以遵循：-

```
if trigger in ('1', '4'): // You can better use `in` to check for more values
    x = int(start)

    if trigger == '4': 
        y = int(s1)

elif trigger in ('2', '5'):  
    x = int(s1)

    if trigger == '5': 
        y = int(s2)            

elif trigger == '3':
    x = int(s2) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:45:19.807

类似于[KV 图](http://en.wikipedia.org/wiki/Karnaugh_map)中的优化，其中`X`考虑或不考虑 ed 字段取决于它是否在优化中有用（参见 7 段显示与 BCD 值，其中值 10..15 未定义），我倾向于保留它尽可能简单并分配值，即使它们以后不使用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-12T08:55:43.070

如果所有`s1`, `s2`etc 将始终存在并且是有效整数，则选项 1 很好。

但是，它确实使您的代码不必要地依赖于您不使用的值的格式。有时这很好。但是，如果 eg`s1`和朋友来自在命令行上传递的选项或输入到输入文件中的选项，您的用户将不喜欢您因为`ValueError`未定义这些值而抛出 a，从而迫使他们在无用的参数中传递无意义的整数。

所以真的，答案是这一切都取决于上下文！很难对这类问题给出一个一般性的答案。

# eclipse - 为 ROS 配置 Eclipse

> ID：12836467
> 
> 赞同：1
> 
> 时间：2012-10-11T09:31:59.830
> 
> 标签：eclipse, ros

我是 Linux 新手。我正在尝试使用 Eclipse 开发 ROS 应用程序。我不明白[ROS 网站](http://wiki.ros.org/IDEs#Reusing_your_shell.27s_environment)中提供的以下内容。你能用更简单的方式解释一下，这样我就可以在从 eclipse.org 下载后配置我的 eclipse。

> ## 重用 shell 的环境
> 
> 要从 IDE 内部构建和运行 ROS 程序，必须设置 ROS 环境。所有的 IDE 可能都有一个配置，但是**从你的 ROS 源 shell 运行你的 IDE**应该是最简单的方法，避免不一致。
> 
> 同样，您可以增强 IDE 的启动器图标以加载您的 shell 环境。例如，将其命令 eclipse 替换为 `bash -i -c "eclipse"`. 这将生成 bash source `~/.bashrc`，其中必须对 ROS 进行采购和参数化，然后启动该 IDE。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-02-27T11:36:02.643

使用以下命令：

```
cd <your_catkin_workspace>
catkin_make --force-cmake -G"Eclipse CDT4 - Unix Makefiles"
cd build
cmake ../src -DCMAKE_BUILD_TYPE=Debug 
```

现在您可以将项目导入 Eclipse

之后，您可以为 eclispe 创建一个桌面应用程序条目：

sudo vim /usr/share/applications/eclipse.desktop

```
[Desktop Entry]
Type=Application
Terminal=false
Icon=<path_to_your_eclipse_dir>/icon.xpm
Exec=bash -i -c "source /opt/ros/hydro/setup.bash && source $HOME/workspace/<your_catkin_workspace>/devel/setup.bash && <path_to_your_eclipse_dir>/eclipse"
Comment=IDE
Name=eclipse
Comment=IDE 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-02T12:48:51.503

似乎[在此处发布了有关此主题的 wiki](http://www.ros.org/wiki/IDEs)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-15T02:34:04.860

简而言之，您列出的行建议您从已经`source`d 的终端运行 IDE (eclipse)。例如，如果你有一个名为 mypackage 的包，你可以在终端中输入：

```
 cd ~/mypackage
    source devel/setup.bash
    eclipse 
```

第一行只是你进入你的包，第二行为你设置环境变量（比如改变你的PATH），然后你可以运行所有已经设置好的eclipse，这样你就不必配置你的包手动日食 100%。

# php - php中的<<<是什么意思

> ID：12836468
> 
> 赞同：0
> 
> 时间：2012-10-11T09:32:02.040
> 
> 标签：php

> **可能重复：**
> [在 PHP 中，“<<<”代表什么？](https://stackoverflow.com/questions/3700042/in-php-what-does-represent)
> [参考 - 这个符号在 PHP 中是什么意思？](https://stackoverflow.com/questions/3737139/reference-what-does-this-symbol-mean-in-php)

谁能解释一下这些字符是什么意思？以下变量包含字符串：

```
$txt = <<<EOD
this is simple string
EOD;

$x = ... 
```

我可以换`<<<`吗`'`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:33:26.570

这就是所谓的heredoc。

> 赫雷多克
> 
> 第三种分隔字符串的方法是 heredoc 语法：<<<。在此运算符之后，提供一个标识符，然后是一个换行符。字符串本身紧随其后，然后再次使用相同的标识符来关闭引号。
> 
> 结束标识符必须从该行的第一列开始。此外，标识符必须遵循与 PHP 中任何其他标签相同的命名规则：它必须仅包含字母数字字符和下划线，并且必须以非数字字符或下划线开头。

参考：[http ://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc](http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:34:43.987

它被称为here-document。

一般信息：

en.wikipedia.org/wiki/Here_document

对于 php 特定信息：

[http://php.net/manual/en/language.types.string.php](http://php.net/manual/en/language.types.string.php)

而且它与“...”不同

# android - 无法识别菜单项 ID

> ID：12836470
> 
> 赞同：2
> 
> 时间：2012-10-11T09:32:25.213
> 
> 标签：android, resources, android-menu

菜单/activity_main.xml：

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@+id/menu_settings"
        android:title="@string/menu_settings"
        android:showAsAction="never" />
    <item android:id="@+id/menu_save_log"
        android:title="@string/menu_save_log"
        android:showAsAction="never" />
</menu> 
```

MainActivity.java：

```
//@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {

    switch (item.getItemId()) {
    case R.id.menu_settings:      // OK
        break;
    case R.id.menu_save_log:      // menu_save_log cannot be resolved or is not a field
        break;
    }

    return true;
} 
```

为什么无法识别 menu_save_log？

附加信息。R.java：

```
public static final class menu {
    public static final int activity_main=0x7f070000;
} 
```

R.java 未更新。为什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T09:34:56.817

不确定它可能是什么，但 Eclipse/Android Studio 很可能尚未识别新 ID。最好的办法是：

*   确保您的菜单文件已保存；
*   尝试重建项目；

在 Eclipse 中：

```
project --> clean... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T09:38:13.070

看来你需要重建你的项目。

转到 Eclipse 中的项目选项卡并清理项目。

希望对你有帮助。

# php - 需要模型中的文件的不良做法？

> ID：12836476
> 
> 赞同：0
> 
> 时间：2012-10-11T09:32:54.683
> 
> 标签：php, html, model-view-controller

我已经构建了一个 MVC php 应用程序，并且想知道，如果不必写出大量的 html 并设置数据，我是否可以将所有这些 html（带有一些 php）放在一个单独的文件中并且只需要它？

例如：

```
$test = '<div>
         Test content
         <div>More content</div>
         </div>';
$APP->Template->setData('test', $test, FALSE); 
```

相反，我不能只使用：

```
$test = require("includes/content.php");
$APP->Template->setData('test', $test, FALSE); 
```

这会被认为是不好的做法吗？似乎通过要求文件，它可以缩短控制器的长度。

在这件事上得到任何人的建议会很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:35:29.953

这取决于您在哪里执行包含：如果您在模型中执行它们，那将是错误的。但是，在视图中它会没事的。

这是一个关注点分离的问题：模型是应用程序的主干，而视图负责显示模型的结果。

我看不到，包含如何缩短控制器的长度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:13:09.970

您打算包含的文件看起来像模板。这些应该是视图实例的句柄，当它开始拼凑一个 HTML 文档作为响应时。视图应该从模型层（它是一个层，而不是单一的对象类）请求信息，并根据接收到的数据决定什么是适当的响应形式。

这样的代码在控制器中没有位置。在模型层中甚至更少。模型应该只包含领域业务逻辑并且完全忽略表示层。

# valgrind - valgrind 工具套件的工作

> ID：12836477
> 
> 赞同：1
> 
> 时间：2012-10-11T09:32:55.970
> 
> 标签：valgrind, massif

我在一个示例守护程序上运行了 valgrind。父进程在分配了 1000B 的块后退出，但在后台运行的子进程每两秒通过 malloc 在堆上分配 200B 的内存。

我的问题是：valgrind 是在实际处理器上还是在合成 CPU 上执行程序？

它是在实际堆上还是在不存在的合成 RAM 上分配内存？

因为我让程序运行了相当长的时间，以至于孩子在堆上分配了一些 2GB 的内存。在 massif 上实现程序时，我得到了一个父级的输出文件，而在终止守护进程时，我得到了另一个 massif.out。对于显示堆上内存分配的孩子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:05:04.617

Valgrind 在自己的合成 CPU 中运行程序，程序机器码没有任何东西到达主机 CPU。

内存分配与 Memcheck 挂钩，如果你使用它，否则 Valgrind 调用 libc 内存分配例程。

事实上，这一事实可能会使系统服务的 Valgrind 调试复杂化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T11:49:48.783

如果你打开 memcheck（这是默认设置），那么 Valgrind 将管理堆，即所有与内存相关的方法（malloc/free/memmove 等）都将替换为 Valgrind 版本的相应方法。

如前所述，您的程序运行在由 valgrind 创建和管理的虚拟 CPU 上。

据我所知，没有合成 RAM 的概念。在任何情况下，所有这些对于正在运行的进程（你的守护进程）都是非常透明的，并且不应该以任何方式改变你的程序的行为。

因此，合成 CPU 的答案是肯定的，合成 RAM 的答案是否定的。

# session - 如何在全局范围内关闭 Jspx 会话的创建？

> ID：12836481
> 
> 赞同：0
> 
> 时间：2012-10-11T09:33:14.970
> 
> 标签：session, jspx

`jsp:directive.page session="false"`放入每个 jspx 页面很烦人。那么有没有机会在一个地方关闭这个会话创建？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T05:39:29.747

不，没有'global-session-place-holder-for jsp'。您需要为每个 jspx 页面声明它。

# function - 调用必须与以“un”开头的函数名称一起使用。在卸载部分

> ID：12836485
> 
> 赞同：4
> 
> 时间：2012-10-11T09:33:32.967
> 
> 标签：function, nsis, uninstallation

```
...
!include "nsDialogs.nsh"
!include "MUI2.nsh"
!include "LogicLib.nsh"
!include "XML.nsh"
  !insertmacro "UpdateXml"
...
!insertmacro MUI_UNPAGE_LICENSE "${NSISDIR}\Docs\Modern UI\License.txt"
UninstPage custom un.PageReinstall
!insertmacro MUI_UNPAGE_CONFIRM
...

Function un.PageReinstall
...
${UpdateXml} "http://127.0.0.1/123.xml" "/XML/A" $321 ; line 232 
...
FunctionEnd 
```

NSIS 日志：

> !insertmacro：UpdateXmlCall 调用必须与以“un”开头的函数名称一起使用。在卸载部分。用法：调用function_name | [:label_name] 宏行 5 上的宏 UpdateXmlCall 错误 第 232 行脚本“G:\Basic.nsi”中的错误 - 中止创建过程

怎么了？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-11T10:00:30.217

卸载程序使用的函数必须以 为前缀`un.`，宏也是如此。

因此，如果您正在使用宏并且希望能够从安装程序和卸载程序中使用它，则必须将其插入 2 次（一次带有前缀，另一次不带有`un.`前缀）。

在脚本开头添加或替换`!insertmacro "UpdateXml"`by应该可以解决问题（前提是在中定义了宏）。`!insertmacro un.UpdateXml``un.UpdateXml``xml.nsh`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-10-06T05:17:05.427

[如何在卸载部分调用 nsi 函数](https://stackoverflow.com/questions/32597697/how-to-call-an-nsi-function-in-uninstall-section)的答案？显示如何使用宏避免函数重复：

```
!macro TestFunction UN
Function ${UN}TestFunction
   ;do stuff
FunctionEnd
!macroend
!insertmacro TestFunction "" 
!insertmacro TestFunction "un." 
```

用途：

```
Section "Install"
  Call TestFunction
EndSection

Section "Uninstall"
  Call un.TestFuction
SecionEnd 
```

# php - 数据提供的最佳实践 - PHPUnit

> ID：12836490
> 
> 赞同：8
> 
> 时间：2012-10-11T09:33:45.203
> 
> 标签：php, phpunit

我目前正在为一个库编写单元测试，在从数据重构业务逻辑之后，我现在对如何测试逻辑有点困惑！

例如，我有一个非常复杂的过程，其中传递了一组数据，我将为此使用数据提供程序，因此我可以确保它适用于各种情况。

对于我将通过数据提供者传递的数据，我是否也应该传递预期的结果？或者这应该在测试中计算。

如前所述，计算的过程是一个相当复杂的过程，并不十分复杂`$a + $b`。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-12T19:30:44.293

为了扩展 Steven 的示例，有时为每个数据集提供一个名称会很有帮助。当其中一个失败时，PHPUnit 将在失败消息中显示其名称而不是“data #0”。

```
public static function GetRemoteAddressFromWebServerDataProvider()
{
    return array(
        'not forwarded' => array('127.0.0.1',  NULL,           '127.0.0.1'),
        'no remote address' => array('127.0.0.1',  '127.0.0.1',    NULL),
    );
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-11T15:00:29.140

对于数据提供者，我还提供了预期的结果。由于我希望该方法获取输入并返回一个值，因此我不想执行两次计算，因为其中 1 个实现可能有错误。

我不打算使用模拟，因为我实际上是在测试有问题的方法/功能。

如果我们基于 4 个参数进行计算，那么我的数据提供者将传递 5。第一个参数是预期结果，然后是要传递给方法/函数的参数。

由此看来，我的电话非常简单：

```
public static function GetRemoteAddressFromWebServerDataProvider()
{
    return array(
        array('127.0.0.1',  NULL,           '127.0.0.1'),
        array('127.0.0.1',  '127.0.0.1',    NULL),
        );
}

/**
 * @dataProvider GetRemoteAddressFromWebServerDataProvider
 */
public function testGetRemoteAddressFromWebServer($Result, $HTTPXSetting, $RemoteAddress)
{
    $_SERVER['HTTP_X_FORWARDED_FOR'] = $HTTPXSetting;
    $_SERVER['REMOTE_ADDR']          = $RemoteAddress;
    $this->assertEquals($Result, GetRemoteAddressFromWebServer());
} 
```

# debugging - 在 Firebug 中调试 TypeScript

> ID：12836494
> 
> 赞同：6
> 
> 时间：2012-10-11T09:33:57.640
> 
> 标签：debugging, firefox, firebug, typescript

是否有任何说明如何在 Firebug 和/或内置 Firefox js-debugger 中调试打字稿？[类似](http://www.aaron-powell.com/web/typescript-source-maps)但对于Firebug 和/或 Firefox

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-12-18T15:44:46.353

[Firefox 开发者版](https://www.mozilla.org/en-US/firefox/developer/)允许调试 TypeScript 代码。唯一缺少的是语法高亮。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-14T11:25:03.550

Chrome 金丝雀支持这一点： [http ://www.aaron-powell.com/web/typescript-source-maps](http://www.aaron-powell.com/web/typescript-source-maps)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T09:55:51.700

Firebug 与 Firefox 的 Javascript 执行引擎紧密集成。只要 Firefox 或 Firebug 不支持 Typescript，我猜你就不走运了。

对于 Coffeescript，有[AceBug](https://addons.mozilla.org/en-US/firefox/addon/acebug/)提供对 Coffeescript 的调试支持。应该可以将其扩展到 TypeScript。但是，源 Typescript 和编译后的 Javascript 的结构可能完全不同，因此编译器需要插入调试符号以将 Javascript 链接到 Typescript。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-05-14T01:18:49.273

[Firebug 3.0 版](https://getfirebug.com/wiki/index.php/Firebug.next)被设计为在 Firefox 的内置调试器之上运行。这意味着它还利用了对源映射的支持，因此可以正确加载 .ts 文件。

[您可以从http://getfirebug.com/releases/firebug/3.0/](http://getfirebug.com/releases/firebug/3.0/)试用预览版

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-18T20:35:59.357

当前版本的 Firebug (2.0.13 + FF43) 似乎可以很好地调试打字稿。至少到目前为止它对我有用。

在网页上添加“已编译” **.js**并引用源映射。IE

```
<script src="register.js"></script> 
```

Firebug 会在脚本列表中向您显示**register.ts文件。**

确保在 tsconfig.json 中生成源映射：

```
"compilerOptions": {
    ...
    "sourceMap": true
}, 
```

# jquery - 带有 jsonp 和 FF、Chrome 的 jquery 跨浏览器上的 IE9 语法

> ID：12836498
> 
> 赞同：0
> 
> 时间：2012-10-11T09:34:04.980
> 
> 标签：jquery, ajax, internet-explorer-9, jsonp

我有以下代码，我在确保使用 IE 浏览器时使用它的一部分时遇到问题，并在使用任何其他浏览器时将其删除：

```
 $.ajax({
            url: 'http://mapit.mysociety.org/areas/'+ulo,
            type: 'GET',
            cache: false,
            crossDomain: true,
            dataType: 'jsonp',
        success: function(response) { 
```

这在 IE9 中运行良好，因为我将 dataType 设置为 jsonp。但这不适用于 Chrome 或 FF。所以我需要删除dataType。

我试过这个：

```
<!--[IF IE]> dataType: 'jsonp', <![endif]--> 
```

但它没有用。值得注意的是，它在 FF 或 Chrome 中不需要设置 dataType，因为它是 json。

进行这项工作的正确语法是什么？

谢谢

安德鲁

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:57:23.737

以这种方式管理它：

```
var version = navigator.appName;
            if(version == 'Microsoft Internet Explorer') {
                var theType = 'jsonp';
            }
            $.support.cors = true;
            $.ajax({
                        url: 'http://mapit.mysociety.org/areas/'+ulo,
                        type: 'GET',
                        cache: false,
                        crossDomain: true,
                        dataType: theType,

            success: function(response) {
                    etc etc 
```

安德鲁

# javascript - Ajax Get Request 在浏览器中请求时工作正常，但在 iframe 中获得 302。这可能是什么原因？

> ID：12836503
> 
> 赞同：0
> 
> 时间：2012-10-11T09:34:22.250
> 
> 标签：javascript, ajax, http

我正在开发一个在启动时发出多个 ajax 请求的 Web 应用程序。这些应用程序在浏览器中单独运行时运行良好。

在 iframe 中运行时，其中一个 ajax 请求返回 302 Found HTTP 状态。我确定我使用浏览器和 iframe 访问了相同的 url。

创建框架的应用程序位于不同的域和端口上。

这可能是什么原因造成的？在对同一服务器的 5 个获取请求中，只有一个（第三个）得到 302。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:44:35.557

> 创建框架的应用程序位于不同的域和端口上。

这就是为什么。您正在发出跨域 AJAX 请求，如果没有特殊考虑，这是不允许的。

您需要在服务器端设置 CORS 以允许这样做。请参阅[https://developer.mozilla.org/en-US/docs/HTTP_access_control](https://developer.mozilla.org/en-US/docs/HTTP_access_control)

# java - 为什么允许实例化静态嵌套类对象？

> ID：12836506
> 
> 赞同：22
> 
> 时间：2012-10-11T09:34:35.503
> 
> 标签：java, oop, inner-classes, nested-class

我已经开始学习用于 Android 应用程序开发的 Java 语言。

根据我基于静态类的理解，我们无法实例化静态类的对象。

但是为什么在以下情况下允许实例化静态嵌套类对象？

```
class EnclosingClass 
{     
      //...     
      class static StaticInnerClass 
      {         
          //...     
      } 
} 
```

为什么我们可以创建内部类的对象，如果它被标记为静态？

```
EnclosingClass.StaticInnerClass s = new EnclosingClass.StaticInnerClass() 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-10-11T09:37:28.730

> 根据我基于静态类的理解，我们无法实例化静态类的对象。

您对“静态类”含义的理解是不正确的。*基本上， Java*中的“静态类”是一个嵌套类，它没有对包含类的实例的隐式引用。有关更多信息，请参阅[JLS 的第 8.5.1 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.5.1)，特别是：

> static 关键字可以修改非内部类或接口 T 的主体内的成员类型 C 的声明。它的作用是声明 C 不是内部类。正如 T 的静态方法在其主体中没有 T 的当前实例一样，C 也没有 T 的当前实例，也没有任何词法封闭实例。

也许您正在考虑 C# 中的静态类，它们完全不同？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-03-22T11:30:43.007

> 为什么我们可以创建内部类的对象，如果它被标记为静态？

您可能需要`nested class`在`static`上下文中使用 a，例如：

```
public class Test {

    public static void main(String args[]) {
        InnerClass innerClass = new InnerClass();
    }

    class InnerClass {

    }
} 
```

在这种情况下，**当您尝试实例化时，`innerClass`您会收到错误：**

> 没有可访问类型 Test 的封闭实例。必须使用 Test 类型的封闭实例来限定分配（例如 xnew A()，其中 x 是 Test 的实例）。

为避免这种情况，您可以实例化一个类型的对象并从中`Test`创建一个实例：`innerClass`

```
Test test = new Test();
InnerClass innerClass = test.new InnerClass(); 
```

或者更好的是，也将其声明`innerClass`为静态并在静态上下文中实例化它：

```
public class Test {

    public static void main(String args[]) {
        InnerClass innerClass = new InnerClass();
    }

    static class InnerClass {

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:37:02.463

检查一下，也许它可以帮助你 [嵌套类](http://docs.oracle.com/javase/tutorial/java/javaOO/nested.html)

# php - 加载需要文件并且不显示文件中显示的行（回显）

> ID：12836514
> 
> 赞同：1
> 
> 时间：2012-10-11T09:35:04.207
> 
> 标签：php, echo, require

我有一个回显（显示）数组的 PHP 文件。我无法克隆此文件。现在我想在另一个脚本中使用这个数组，所以我需要它。虽然现在它也回显（显示）我不想要的数组。

有没有办法加载数组但不回显数据？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:55:01.633

您可以使用[ob_start()](http://www.php.net/manual/en/function.ob-start.php)和[ob_end_clean()](http://www.php.net/manual/en/function.ob-get-clean.php)来阻止“必需”脚本的整个输出。`first.php`在'requires'下面的示例代码中`second.php`， in`second.php`被声明并打印了一个数组`$array`。

由于 的所有输出`second.php`都被捕获到内存缓冲区中，因此执行后`first.php` `$array`只会在输出中打印一次。

**第一个.php**

```
<?php
ob_start();
require_once 'second.php';
ob_end_clean();
print_r($array);
?> 
```

**第二个.php**

```
<?php
$array = array( 'a', 'b', 'c');
print_r($array);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:42:55.707

我认为您正在寻找[输出控制功能](http://www.php.net/manual/en/ref.outcontrol.php)

# python - 导入管理表单

> ID：12836517
> 
> 赞同：1
> 
> 时间：2012-10-11T09:35:10.200
> 
> 标签：python, django, django-admin

我正在尝试检索 django-admin 用于创建模型的表单。

Django 允许[创建与某些模型匹配的表单](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/)，但是使用 ModelAdmin 管理员功能更强大。

例如，这段代码让我可以为一篇文章添加多个标签：

```
class ArticleAdmin(admin.ModelAdmin):
    list_display = ('author', 'type', 'date')
    inlines = [
        TagInline,
    ] 
```

我相信 Django 提供了一些方法来获取生成的 HTML 和逻辑，你知道怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:38:54.627

您可以使用内联模型管理对象来创建内联标签

[链接在这里](https://docs.djangoproject.com/en/dev/ref/contrib/admin/#inlinemodeladmin-objects)

例如：

```
class TagInline(admin.TabularInline):
     model = Tag
     extra = 3 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:42:38.463

请使用表格内联......

```
class Name(admin.TabularInline):
     model = name 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:44:30.497

为下面给出的类 TagInline 创建内联模型：

```
class TagInline(admin.TabularInline):
    model = Tag 
```

# java - Java是否是纯面向对象的？

> ID：12836522
> 
> 赞同：21
> 
> 时间：2012-10-11T09:35:19.813
> 
> 标签：java

我想知道Java是否是纯面向对象的。请举例说明。我已经看过了，但我找不到确切的答案。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-11T09:40:40.147

关于 Java 是否纯粹面向对象存在很多争论。Java 应该被视为纯粹的面向对象语言，因为它具有包装类。所以你可以用`Integer`, `Float`etc. 代替`int`, `float`etc. （一共有八种原始类型）。

但是由于 Java 有这八种原始类型，批评者会说 Java 不是纯粹的面向对象的。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-10-11T09:37:55.753

例如，它包含 8 种原始数据类型。对于“*纯 oo* ”的语言来说，一切都应该作为对象存在，但是`int`, `float`, `char`, .. 等在 Java 中不是对象。

这是一个例子：

```
int i = 42;
System.err.println(i.toString()); 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-10-11T09:39:47.520

Java 是一种 OOP 语言，它不是纯粹的基于对象的编程语言。许多语言都是面向对象的。纯面向对象的编程语言需要满足七个品质。他们是：

*   封装/数据隐藏
*   遗产
*   多态性
*   抽象
*   所有预定义的类型都是对象
*   所有操作都是通过向对象发送消息来执行的
*   所有用户定义的类型都是对象。

Java 不是因为它支持使用原始数据类型，例如 int、byte、long... 等，它们不是对象。与像 Smalltalk 这样的纯 OOP 语言相比，没有原始类型，布尔、int 和方法都是对象。

此答案取自[http://wiki.answers.com/Q/Why_is_Java_not_a_pure_OOP_Language](http://wiki.answers.com/Q/Why_is_Java_not_a_pure_OOP_Language)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-10-11T09:39:08.823

不，它具有原始数据类型，因此我会说它不是完全面向对象的。我认为[Smalltalk](http://en.wikipedia.org/wiki/Smalltalk)可以被认为是*纯*面向对象而不是 java。

**直接来自维基** `Smalltalk is a "pure" object-oriented programming language, meaning that, unlike Java and C++, there is no difference between values which are objects and values which are primitive types. In Smalltalk, primitive values such as integers, booleans and characters are also objects`

# drupal - 仅将元标记添加到特定页面

> ID：12836524
> 
> 赞同：0
> 
> 时间：2012-10-11T09:35:21.297
> 
> 标签：drupal, drupal-7, meta-tags

我是 Drupal 7 的新手。

我有不同的基本页面，我想使用元标记遍历每个页面：

```
<meta http-equiv="refresh" content="20; url=http://sitename/node/page2" /> 
```

第 2 页将具有元标记

```
<meta http-equiv="refresh" content="10; url=http://sitename/node/page3" /> 
```

我怎样才能做到这一点？我希望仅在基本页面上添加元标记

我尝试使用 TEMPLATEUSED_preprocess_html 添加元标记，但我已经意识到这是错误的，因为它不是动态的并且适用于每个页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T15:39:53.213

[drupal_add_html_head](https://api.drupal.org/api/drupal/includes%21common.inc/function/drupal_add_html_head/7)对添加标签很有用，请查看下面的示例。

```
// First, we must set up an array
$element = array(
  '#tag' => 'link', // The #tag is the html tag - <link />
  '#attributes' => array( // Set up an array of attributes inside the tag
     'href' => 'http://fonts.googleapis.com/css?family=Cardo&subset=latin', 
     'rel' => 'stylesheet',
     'type' => 'text/css',
  ),
);
drupal_add_html_head($element, 'google_font_cardo'); 
```

这将输出以下 HTML：

```
<link href="http://fonts.googleapis.com/css?family=Cardo&amp;subset=latin" rel="stylesheet" type="text/css" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-15T17:15:23.920

这是一个古老的问题，但仍然没有更具体的回应。看来我们必须使用 preprocess_html 在 template.php 中添加一个 head 元素。$node 不可用（至少我无法从 template.php/preprocess_html 中访问它）但我可以使用 drupal_get_path_alias 获取路径，这是原始问题所要求的。

这是我的工作示例：

```
function THEMENAME_preprocess_html(&$variables) {
  if (drupal_get_path_alias() == "node/45") {
    $meta_refresh = array(
      '#type' => 'html_tag',
      '#tag' => 'meta', 
      '#attributes' => array( 
         'http-equiv' => 'refresh',
         'content' => '900, url=/node/45',
      ),
    );
    drupal_add_html_head($meta_refresh, 'meta_refresh');
  }
} 
```

使用 case 语句可能更好地服务于 Warren 的两条路径。

# javascript - Javascript 将日期转换为 UTC

> ID：12836525
> 
> 赞同：9
> 
> 时间：2012-10-11T09:35:21.577
> 
> 标签：javascript, jquery, date

> **可能重复：**
> [如何格式化 JSON 日期？](https://stackoverflow.com/questions/206384/how-to-format-a-json-date)

我有一个 JSON，其中包含一些我需要采用 UTC 格式的日期。

目前，如果我提醒日期，它们的格式如下：

/日期(1329314400000)/

我正在尝试循环 JSON，但不确定如何将上述日期格式转换为 UTC。

如果有人有任何建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T09:40:09.173

看看这个：[如何格式化 Microsoft JSON 日期？](https://stackoverflow.com/questions/206384/how-to-format-a-json-date)

```
var date = new Date(parseInt(jsonDate.substr(6))); 
```

# r - 创建 DocumentTermMatrix 时的 Unicode 符号

> ID：12836529
> 
> 赞同：2
> 
> 时间：2012-10-11T09:35:39.343
> 
> 标签：r, unicode, text-mining, tm

我在 R 中使用来自 CRAN 的 TM 包。我在创建基于语料库的 DocumentTermMatrix 时遇到问题。问题是当我基于 UTF-8 语料库创建 TermDocumentMatrix 时，一些单词会变成 unicode 符号。

```
corpus <- Corpus(VectorSource(vector_with_texts_in_several_languages, encoding = "UTF-8"))
tdm <- TermDocumentMatrix(corpus, control=list(weighting=weightTfIdf))
print(Terms(tdm)[1:3]) 
```

回报：

```
[1] "<U+03BB>a<U+03B3><U+03AF>a"
[2] "<U+03C1><U+03AE>fa<U+03BD><U+03BF><U+03C2>" 
[3] "<U+03C1><U+03AF>p<U+03BF><U+03C5>" 
```

如果我手动检查语料库，那么我会看到正确的输出。

```
print(corpus[[1]]) 
```

回报：

```
квартира на кутузовском 
```

有谁知道我怎样才能获得具有正确条款的 TermDocumentMatrix？或者有没有办法将这些 un​​icode 符号再次转换为“可读”输出？

注意： print(Terms(tdm)) 不包含来自 print(corpus[[1]]) 的单词

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T08:30:50.037

我怀疑编码适用于第一步，您可以尝试检查语料库的第一个元素：

```
 corpus[[1]] 
```

# r - 填充共现矩阵

> ID：12836531
> 
> 赞同：2
> 
> 时间：2012-10-11T09:35:46.300
> 
> 标签：r, matlab

我正在寻找一种快速有效的方法来填充共现矩阵（可以这么说）。这是我正在使用的数据示例：

```
col1 col2
a e    
a f    
a e    
b f    
c g    
a e    
d f    
a e    
a g    
b e    
c e 
```

我想要一个以下形式的矩阵：

```
... e...  f...  g    
a    
b    
c    
d 
```

以及与频率相关的相应条目。

例如，矩阵中的元素 (3,1) 将对应于 (c,e) 的共现频率，并且应该具有 1 的值，而 (1,1) 的元素应该具有对应于 3 的值 3数据集中（a，e）的条目。

我目前正在使用两个 for 循环单独计算项目，计算矩阵需要很长时间（实际数据大约有一百万行）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T09:52:36.607

这是 R 中的一个解决方案`table`：

```
df <- read.table(text="col1 col2
a e    
a f    
a e    
b f    
c g    
a e    
d f    
a e    
a g    
b e    
c e", header = TRUE)

table(df)

    col2
col1 e f g
   a 4 1 1
   b 1 1 0
   c 1 0 1
   d 0 1 0 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:52:33.927

你可以用[`sparse`](http://www.mathworks.se/help/matlab/ref/sparse.html)它来做你需要的事情：

```
spA = sparse(data(:,1), data(:,2), 1); 
```

您的数据在哪里`data`，但作为数字。因此，您首先必须将字母字符转换为双精度字符。

Sparse 组装行/列对，每次出现一对时`data(:,1)`加`data(:,2)`1。但是请注意，如果您希望矩阵是对称的，则可能需要求和`spA`及其转置，具体取决于您的数据。

# asp.net - WCF：是否有一个属性可以使 OperationContract 中的参数成为必需的？

> ID：12836534
> 
> 赞同：9
> 
> 时间：2012-10-11T09:35:56.970
> 
> 标签：asp.net, wcf, soapui, datamember, operationcontract

我`[DataMember(IsRequired=true)]`用来制作所需的 DataContract 属性。OperationContract 参数似乎没有一些 IsRequired 。如何使它们成为必需且不允许为空？

OperationContract 的参数 in 在 SoapUI 工具中似乎是可选的。尽管这绝不能是可选的或为空的。

**WCF接口：**

```
[OperationContract]
IsClientUpdateRequiredResult IsClientUpdateRequired(IsClientUpdateRequiredInput versie);

...

[DataContract]
public class IsClientUpdateRequiredInput
{
    [DataMember(IsRequired=true)]
    public string clientName { get; set; }
    [DataMember(IsRequired = true, Order = 0)]
    public int major { get; set; }
    [DataMember(IsRequired = true, Order = 1)]
    public int minor { get; set; }
    [DataMember(IsRequired = true, Order = 2)]
    public int build { get; set; }
    [DataMember(IsRequired = true, Order = 3)]
    public int revision { get; set; }
} 
```

**soapUI 请求模板：**

```
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:tem="http://tempuri.org/" xmlns:pir="http://schemas.datacontract.org/2004/07/PirIS.Web.WCF.InputClasses">
   <soap:Header/>
   <soap:Body>
      <tem:IsClientUpdateRequired>
         <!--Optional:-->
         <tem:versie>
            <pir:clientName>?</pir:clientName>
            <pir:major>?</pir:major>
            <pir:minor>?</pir:minor>
            <pir:build>?</pir:build>
            <pir:revision>?</pir:revision>
         </tem:versie>
      </tem:IsClientUpdateRequired>
   </soap:Body>
</soap:Envelope> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T11:28:40.000

不幸的是，使用默认 WCF 无法完成。存在一些解决方法：

*   自定义[`RequiredParametersBehavior`](https://stackoverflow.com/a/3436039/266143)属性
*   使用企业库中的[验证应用程序块并将](http://msdn.microsoft.com/en-us/library/ff664356%28v=pandp.50%29.aspx)[规则集与您的方法相关联](http://msdn.microsoft.com/en-us/library/ff664526%28v=pandp.50%29)

但是，您可以实现 FaultContract 并在输入参数为空时引发错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:27:13.230

不可以。就像任何常规方法一样，您需要检查引用类型参数是否具有值或者是`null`。

只需应用您正常的防御性编程模式，在访问它们的属性之前检查引用类型。

# php - php中的SSL帖子

> ID：12836539
> 
> 赞同：0
> 
> 时间：2012-10-11T09:36:23.430
> 
> 标签：php, post, ssl, https, openssl

我想在两个网站（站点 A 和 B）之间安全地进行通信。所以我想为这两个站点购买 SSL 证书。

问题是，我需要从站点 B 向站点 A 发送 POST 请求。

然后站点-B 应该使用安全密钥进行响应。

如果我在 php 中使用普通的 post 请求来发送 POST，它是否正确且安全？或者当我们使用 SSL 时是否有任何特殊的方式来发送请求和响应。

提前致谢。

稍后编辑

实际上，我将站点 B 作为我的 Web 服务站点，以后会有更多的第三方站点（如 A、C、D、E .....）连接到站点 B 以请求用于通信的安全密钥。

稍后编辑 2

如果站点 A 向站点 B 发送 POST 请求，那么如何在站点 B 中实现响应部分（这将具有 SSL）。我将不得不在响应中发送一些数据（包括安全密钥）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:48:26.943

如果要保护请求免受 MITM 攻击，服务器需要向其客户端证明其身份。如果从浏览器到站点 A 的连接是安全的，站点 A 必须向浏览器证明其身份；如果站点 A 和站点 B 之间的连接要安全，站点 B 必须向站点 A 中运行的 PHP 脚本证明其身份。（两者都相当独立。）

在 HTTPS 连接中证明身份是证书的作用。

如果您想保护浏览器和站点 A 之间的通信，除非您的用户数量相当有限，否则您可以手动向其提供证书，请从站点 A 的知名 CA 获取证书（即用户直接使用）将是必需的。

如果只有有限数量的客户端连接到站点 B（例如只有站点 A），并且如果您控制所有这些方，则可以在站点 B 上创建自己的 CA（或使用自签名证书）并显式导入作为在站点 A 上运行的 PHP 代码中的受信任证书（如果您在 PHP 中使用 Curl 进行连接，则可以使用 进行设置`CURLOPT_CAINFO`）。

如果您希望难以手动向其提供证书的第三方使用站点 B，则还需要从知名 CA 获取证书。（它也可能更方便。）

您可能需要考虑的是在站点 A 连接到站点 B 时对其进行身份验证，因为这不仅仅是为了防止窃听和 MITM 攻击，而是确保站点 B 将信息提供给正确的一方。您可以在站点 B 上使用一系列身份验证/授权技术来执行此操作。这可以使用站点 A 的客户端证书，但我建议不要使用站点 A 的证书（但您为此目的制作的另一个客户端证书，可能使用您自己的 CA），因为 PHP 脚本需要对其及其私钥具有读取权限（通常最好防止这种情况发生，以防脚本遭到破坏）。根据上下文，其他身份验证技术可能更明智。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:43:35.573

使用这样的 url 从 A 发布到 B`https://site_b.com`对通信部分来说是安全的。

但是，安全性远不止于此，只有通信。

注意：您可以考虑使用 SFTP 协议，而不是购买证书，并且仅用于从 B 到 A 的通信。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T10:14:48.063

您的站点 A 不需要 SSL 证书。

站点 B 可以单独拥有 SSL 证书以进行安全通信。对于**向POST 和****从**接收数据，使用安全通道进行通信（请注意通信意味着请求和响应！）。

任何数量的站点都可以请求相同的安全站点 B。

如果您有站点 B**向**其他站点发布内容，那么情况就不同了：其他站点也应该有 SSL！

# asp.net - Gridview 在 Firefox 浏览器中没有内容占位符

> ID：12836543
> 
> 赞同：1
> 
> 时间：2012-10-11T09:36:37.893
> 
> 标签：asp.net, css, gridview

```
My code sample is given below!

<%@ Page Language="C#" MasterPageFile="~/Site1.Master" AutoEventWireup="true" CodeBehind="SMS_Table.aspx.cs" Inherits="Web_sms_alert.SMS_Table" %> 
```

<%@ 注册程序集="AjaxControlToolkit" 命名空间="AjaxControlToolkit" TagPrefix="asp"%>

```
 <asp:ToolkitScriptManager ID="ToolkitScriptManager1" runat="server">

    </asp:ToolkitScriptManager>
    <asp:Label ID="Label1" runat="server"  Font-Bold="true" Text="From: "></asp:Label>
    <asp:TextBox ID="tbDatefrom" Font-Names="Segoe UI" runat="server"></asp:TextBox>

    <asp:CalendarExtender ID="CalendarExtender1" Format="yyyy-MM-dd" DefaultView="Days" TargetControlID="tbDatefrom" runat="server">

    </asp:CalendarExtender>

    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" 
        ControlToValidate="tbDatefrom" Font-Bold="true" ErrorMessage="*"></asp:RequiredFieldValidator>

    <asp:Label ID="Label2" runat="server"  Font-Bold="true" Text="To: "></asp:Label>
    <asp:TextBox ID="tbDateTo" Font-Names="Segoe UI" runat="server"></asp:TextBox>

    <asp:CalendarExtender ID="CalendarExtender2" Format="yyyy-MM-dd" DefaultView="Days" TargetControlID="tbDateTo" runat="server">

    </asp:CalendarExtender>
    <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" 
        ControlToValidate="tbDateTo" Font-Bold="true" ErrorMessage="*"></asp:RequiredFieldValidator>
    <asp:Button runat="server" ID="btnSearch" CssClass="buttons" Text="Search" OnClick="btnSearchDW" /></br>
    <div style="float: left; width: 98%; height: 30px;"><asp:CheckBox ID="cbDateRange" runat="server" Font-Bold="true" Font-Names="Segoe UI" Text="Date Range" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <asp:CheckBox ID="cbsmsday" Text="SMS/Day" Font-Bold="true" Font-Names="Segoe UI" runat="server" /></div>
   <asp:UpdatePanel ID="upl" runat="server">
   <ContentTemplate>       

<asp:GridView ID="GridviewSMS_Table" runat="server" 
           EnableSortingAndPagingCallbacks="false" AllowPaging="true" PageSize="20"
            BorderColor="Chocolate" BorderStyle="None" OnPageIndexChanging="GridView1_PageIndexChanging"
              BorderWidth="1px" CellPadding="3" GridLines="Vertical" Font-Names="Segoe UI" Width="354px">
        <RowStyle BackColor="Wheat" ForeColor="Black" HorizontalAlign="Left" />
        <Columns>
        <asp:TemplateField>
            <ItemTemplate>
                <asp:LinkButton ID="btnLinkView" runat="server" OnClick="btnLinkView_click">Text</asp:LinkButton>
            </ItemTemplate>
        </asp:TemplateField>
    </Columns>
        <FooterStyle BackColor="#CCCCCC" ForeColor="Black" />
        <PagerStyle BackColor="#999999" ForeColor="Black" HorizontalAlign="Center" />
        <SelectedRowStyle BackColor="Black" Font-Bold="True" ForeColor="White" />
        <HeaderStyle BackColor="#000084" Font-Bold="True" ForeColor="White" Font-Size="Medium" />
        <EditRowStyle BackColor="#000084" Font-Bold="True" ForeColor="White" Font-Size="Medium" />

    </asp:GridView>

<asp:Panel ID="PanelText" runat="server" CssClass="ModalPopup" style="display:none">
<table border="1" align="center" style="border-color: #FF6600">
    <tr>
        <td> <asp:Label ID="lblTextShow" ForeColor="Black" Text="Text Message: " runat="server"></asp:Label></td>
        <td><asp:TextBox ID="tbMessage" runat="server" TextMode="MultiLine" ForeColor="Black" Height="150px" Width="200px"></asp:TextBox></td>
    </tr>
    <tr align="center" valign="middle">  
    <td colspan="2"> 
    <asp:Button ID="btnClose" runat="server" ForeColor="Black" Text="Close" />    
    </td> </tr>  
</table>
</asp:Panel>
<asp:Button ID="btncontrol" runat="server" style="display:none" />
<asp:ModalPopupExtender ID="mpeMessage" runat="server" Enabled="true" 
  TargetControlID="btncontrol" PopupControlID="PanelText"
  BackgroundCssClass="ModalBackground" CancelControlID="btnClose">
</asp:ModalPopupExtender>
</ContentTemplate>
</asp:UpdatePanel>

<div align="center">
<asp:Label ID="lblTotalDp" Font-Bold="true" Visible="false" ForeColor="Black" runat="server" Text="Total: "></asp:Label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <asp:Label ID="lbltotal" Font-Bold="true" Visible="false" ForeColor="Black" runat="server"></asp:Label></div>
 </div> 
```

该页面显示在 google chrome 和 IE 中，如下所示 ![在此处输入图像描述](../Images/237383c289c7d7e6229fbe02369a8319.png)

在火狐中，网格视图位于母版页的内容占位符之外！像下面 ![在此处输入图像描述](../Images/583ecd50cde251e2f9bd7324304b01b4.png)

我不明白为什么我面临这个问题？？？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:29:58.467

从`<div style="float: left`_`float:left`

我看不出有任何原因，而浮动正在制造这个问题。

# java - 在 Eclipse Indigo 中附加 JUnit 源时遇到问题

> ID：12836544
> 
> 赞同：0
> 
> 时间：2012-10-11T09:36:38.520
> 
> 标签：java, eclipse, junit, configuration

我一直在尝试在我的 Eclipse Indigo 中附加 JUnit 源代码。从 IDE 内部它不起作用 - 有一个不可修改的无源附件（为什么？）。我尝试按照“[如何在 Eclipse 中配置 JUnit 的源代码？](https://stackoverflow.com/questions/1084176/how-do-i-configure-junits-source-in-eclipse) ”中的建议，使用 JUnit 版本 4.8.2，但这不起作用。可能我没有完全按照那里的说明进行操作，但我没有看到任何迹象表明我可能在哪里犯了错误。

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-18T22:45:22.903

您应该手动下载 JUnit 源 jar 并将它们放入插件文件夹（不要忘记 eclipse -clean）。

从这里下载 JUnit jars [ftp://ftp.osuosl.org/pub/eclipse/eclipse/updates/3.7/R-3.7.1-201109091335/plugins/（*junit*](ftp://ftp.osuosl.org/pub/eclipse/eclipse/updates/3.7/R-3.7.1-201109091335/plugins/)，源文件和 jdt）。

这不是最后一个版本，但您可以轻松更改它。

# spring - 如何在hibernate4 + spring的第二个sessionFactory上公开TransactionAware？

> ID：12836548
> 
> 赞同：2
> 
> 时间：2012-10-11T09:36:55.117
> 
> 标签：spring, hibernate, unit-testing, cucumber, hibernate-4.x

下面的测试在我的 Hibernate3 应用程序中运行。当我将它升级到hibernate4时，它开始失败。

```
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(inheritLocations=false,locations={
"/hibernate/spring-SF-tests.xml",
"/hibernate/spring-transaction.xml",
"/hibernate/testBeans.xml"
,"/hibernate/spring-audit.xml",
"/hibernate/iwrs-mail-beans-test.xml",
"/hibernate/fake-audit-meaning.xml"
})
@TransactionConfiguration(transactionManager="txManager", defaultRollback=true)
public class CodeAuditIntegrationTest extends CodeIntegrationTest {

@Autowired
private SessionFactory auditFactory;

@Before
public void cleanAudit(){
auditFactory.getCurrentSession().createQuery("delete from AuditLogRecord").executeUpdate();
}

@Test
public void clinicalTrialAssociationTest() {
super.clinicalTrialAssociationTest();
}

} 
```

这是失败的：

> org.hibernate.HibernateException：在 org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:881) 的 org.springframework.orm.hibernate4.SpringSessionContext.currentSession(SpringSessionContext.java:97) 中找不到当前线程的会话

我的应用程序中有 2 个不同的会话工厂：sessionFactory 和 auditFactory。两者都在 spring 中配置（参见 [1]）。

问题是在 hibernate4 配置**中，属性exposeTransactionAwareSessionFactory 被删除了**。我为我的auditFactory 设置为true。我相信删除此属性会使注入的 auditFactory 无法在事务中获取会话（因为 txManger 是为 sessionFactory 配置的），因此会产生错误。

问题：

1.  **我怎样才能让 auditFactory 在这个测试中拥有由 spring 管理的事务？**
2.  **这是hibernate 3中的exposeTransactionAwareSessionFactory属性发生的事情吗？**

我看到的唯一替代方法是将所有使用 auditFactory 的代码包装在一个用 @Transactional(otherTxManager) 注释的 Helper 类中。我确实尝试过，但在那里我遇到了一些额外的问题：

1.  我需要使用一个单独的数据源（否则我会得到 [2]）
2.  使用 2 个单独的数据源，我会在 Cucumber 测试中遇到类似的错误，现在与 transactionManager [3] 相关

[1] 相关的 XML 配置：

```
<bean id="txManager"
class="org.springframework.orm.hibernate4.HibernateTransactionManager">
<property name="sessionFactory" ref="sessionFactory" />
</bean>

<tx:annotation-driven transaction-manager="txManager" />

        <bean id="sessionFactory" scope="singleton"
class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
<property name="hibernateProperties">
<props>
<prop key="hibernate.hbm2ddl.auto">${hibernate.hbm2dll}</prop>
<prop key="hibernate.hbm2ddl.import_files">${hibernate.sql_scripts}</prop>
</props>
</property>
<property name="packagesToScan">...</property>
<property name="annotatedPackages">...</property>
<property name="mappingLocations">...</property>

<property name="dataSource" ref="c3p0DataSource" />
<property name="entityInterceptor" ref="auditInterceptor" />
</bean>

<bean id="auditFactory" scope="singleton"
class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
<property name="exposeTransactionAwareSessionFactory"> -->needs to be removed in hibernate4!
<value>true</value>
</property>
<property name="mappingLocations">...</property>
<property name="packagesToScan">...</property>
<property name="hibernateProperties">
<props>
<prop key="hibernate.hbm2ddl.auto">${hibernate.hbm2dll}</prop>
</props>
</property>
<property name="dataSource" ref="c3p0DataSource" />
</bean> 
```

[2] 两个工厂使用相同数据源的问题：

> org.springframework.transaction.IllegalTransactionStateException：找到预绑定的 JDBC 连接！如果被告知要管理 DataSource 本身，HibernateTransactionManager 不支持在 DataSourceTransactionManager 中运行。建议对单个 DataSource 上的所有事务使用单个 HibernateTransactionManager，无论是 Hibernate 还是 JDBC 访问。在 org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:329)

[3] 由于声明了 2 个事务管理器而导致的黄瓜测试问题：

> org.springframework.beans.factory.NoSuchBeanDefinitionException：没有定义类型 [org.springframework.transaction.PlatformTransactionManager] 的唯一 bean：预期单个 bean，但找到 2：txAudit，txManager

# python - 我们需要明确地做 session.begin() 吗？

> ID：12836550
> 
> 赞同：0
> 
> 时间：2012-10-11T09:37:02.213
> 
> 标签：python, sqlalchemy

具体来说，我需要`begin`在提交或回滚后调用吗？我看到一些提示新会话**总是进入** `begin`状态的东西；但我想知道会话开始时发生的自动提交事务。

我什么时候必须发出`begin`? 同一会话中的多个`begin`s 的行为是否与 MySQL 终端中的行为相同？

我有这样的案例（看评论）：

--1 在循环中执行事务的方法：

```
for ...: #EACH ONE DESERVES TO HAVE OWN TRANSACTION
  session.begin()
  for ....:
    session.execute("insert into...")
  session.commit() 
```

--2 在同一会话中调用另一个函数的函数：

```
def f1(): #can be done standalone
  session = Session()
  session.begin()
  ...do stuff
  session.commit()

def f2():
  session = Session()
  session.begin()
  a = session.execute("select...")
  if stuff_not_fine():
    session.rollback() #KILL OF CURRENT TRANSACTION
    f1()
    session.begin() #CONTINUE WHERE IT LEFT
  a = session.execute("select...")
  ...do rest of stuff 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:54:43.473

SQL 连接也是一个上下文管理器。所以你可以做

```
session = Session()
with session as cursor:
    # do stuff 
```

为了回滚，您可能会引入一个异常，如果引发该异常，则会导致上下文管理器回滚事务。但是，您应该记住捕获异常。

# java - 关闭挂钩在 Eclipse 中不起作用

> ID：12836551
> 
> 赞同：27
> 
> 时间：2012-10-11T09:37:01.730
> 
> 标签：java, eclipse, shutdown-hook

我通过以下方式添加了一个[*关闭挂钩*](https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#addShutdownHook-java.lang.Thread-)：

```
Runtime.getRuntime().addShutdownHook(myShutdownHook); 
```

它可以正常工作，但是当我单击 Eclipse 中的红色停止按钮时就不行了。有没有办法在 Eclipse 中调用关闭挂钩？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-11T09:42:00.110

红色的停止按钮强制终止应用程序，即不优雅，因此 JVM 不知道应用程序正在退出，因此不会调用关闭挂钩。

不幸的是，没有办法（至少在 Windows 中）提供一种机制来确保始终调用挂钩。它只是可以调用的东西，但不能保证。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-05-13T18:35:37.343

我通过用装饰的 JavaProcess 替换 JavaProcess 进行了破解：

```
 IProcess p = launch.getProcesses()[0];
    launch.addProcess(new JavaProcessDecorator(p));
    launch.removeProcess(p); 
```

装饰器正在覆盖终止功能。

```
public class JavaProcessDecorator implements IProcess {

private IProcess p;

public JavaProcessDecorator(IProcess p) {
    this.p = p;
}

private boolean sigkill = false;

@SuppressWarnings("rawtypes")
@Override public Object        getAdapter(Class arg)                { return p.getAdapter(arg); }
...
@Override public ILaunch       getLaunch()                          { return p.getLaunch(); }
@Override public IStreamsProxy getStreamsProxy()                    { return p.getStreamsProxy(); }
@Override public void          setAttribute(String s1, String s2)   {        p.setAttribute(s1, s2); }
@Override public void          terminate() throws DebugException    {
    if(!sigkill) {
        try {
            IDebugIService cs = DirmiServer.INSTANCE.getRemote("main", IDebugIService.class);
            if(cs != null) cs.modelEvent(new TerminateRequest());
        } catch (RemoteException e) { }
        this.sigkill = true;
    } else p.terminate();
}} 
```

首先单击红色按钮，我向应用程序发送一条消息，要求轻轻终止。如果它不起作用，第二次单击红色按钮将杀死它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-11-20T14:47:39.350

我知道我参加聚会有点晚了，但我发现这个线程正在寻求帮助，其他人可能也会如此。

我们遇到了同样的问题，并使用[Eclipse 插件](https://github.com/Christoph142/yatb)（在 Linux 上）解决了这个问题，该插件现在提供了额外的停止按钮。我希望这对你们所有人都有帮助，也对我们有所帮助:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-03T06:42:47.907

红色停止按钮只是终止应用程序，根据 eclipse 开发人员的说法，他们对此无能为力，在 eclipse 错误跟踪器中看到这个[问题。](https://bugs.eclipse.org/bugs/show_bug.cgi?id=51351)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-24T21:30:41.930

@Pacerier - 来自 Javadoc：在极少数情况下，虚拟机可能会中止，也就是说，在没有完全关闭的情况下停止运行。当虚拟机在外部终止时会发生这种情况，例如在 Unix 上使用 SIGKILL 信号或在 Microsoft Windows 上使用 TerminateProcess 调用。如果本地方法出错，例如破坏内部数据结构或尝试访问不存在的内存，虚拟机也可能中止。如果虚拟机中止，则无法保证是否会运行任何关闭挂钩。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2016-08-11T01:04:36.663

如果你只是想测试钩子是否工作，`throw new RuntimeException()`从触发点开始。这甚至应该从 Eclipse 调用关闭挂钩。

# postgresql - postgresql pl/sh 异步执行外部进程

> ID：12836557
> 
> 赞同：5
> 
> 时间：2012-10-11T09:37:27.927
> 
> 标签：postgresql

我有一个 postgresql-plsh 函数

```
 CREATE OR REPLACE FUNCTION MDN_REG_LOCATE(MDN VARCHAR(50), CALLID VARCHAR(50)) RETURN AS '
    #!/bin/sh
    /home/infoobjects/Projects/java/execute.sh $1 $2 &
logger -t "data" "$1$2"
    ' LANGUAGE plsh; 
```

和 execute.sh 调用是一个需要 3 分钟才能执行的 java 进程（方法）。我已经通过在脚本末尾附加 & 使脚本异步（execute.sh）我的问题是 postgresql 函数仍然等待结果的到来并且不以异步方式运行，尽管 shell 脚本的行为是异步的，因为上面的记录器函数在调用 MDN_REG_LOCATE() 后会登录，但这个 postgresql 函数（MDN_REG_LOCATE）仍然等待 3 分钟的完整过程结束，我不知道我缺少什么，请帮助我。

感谢进阶。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T12:19:21.513

仅仅后台处理一个进程是不够的；它仍然附加到其父进程。看到[这个答案](https://stackoverflow.com/a/10908325/398670)。

重新编写记录器程序以保持与任务所在的数据库的持久连接可能会*好得多*`LISTEN`。您的客户端（或触发器，或通常会调用您的 PL/Sh 函数的任何东西）发送`NOTIFY`带有参数的 a 作为有效负载，或者（对于较旧的 Pg 版本）`INSERT`将 sa 行发送到队列表中，然后发送 a`NOTIFY`告诉监听客户端查看在队列表。

然后，监听客户端可以运行后台进程，而不必担心会占用数据库。最重要的是，它`NOTIFY`是事务性的；它仅在发送它的事务提交时交付，在它提交时。

# lua - 在电晕中拖动 loqSprite 对象

> ID：12836559
> 
> 赞同：4
> 
> 时间：2012-10-11T09:37:30.497
> 
> 标签：lua, coronasdk

我是使用 loqSprite 的新手，我正在尝试拖动一个 loqSprite sprite 对象，但它没有完成，但是它只调用它的侦听器一次，然后在没有调用它的触摸侦听器甚至没有给出任何错误之后，精灵正在播放. 我还认为我的拖动/侦听器功能可能有问题，但是当我在 inbult corona 的 Sprite 对象上尝试相同的拖动（movePen() 函数）时，它工作正常。我想念什么我不知道。谁能帮助我....下面是代码片段。谢谢

```
local function movePen(event)
   local targetObj= event.target;

        if event.phase == 'began' then
            display.getCurrentStage():setFocus(targetObj);
            targetObj.isFocus = true;
            targetObj.y = event.y;
        elseif event.phase == 'moved' then
            targetObj.x = event.x;
            targetObj.y = event.y;
        elseif event.phase == 'ended' then
           display.getCurrentStage():setFocus(nil);
           targetObj.isFocus = false;
        end
        return true;
end  --end of touch/move function

local spriteFactoryForPen = loqsprite.newFactory('penAnimation')
local penSpriteAnim = spriteFactoryForPen:newSpriteGroup('pen_write')
penSpriteAnim.x = 100
penSpriteAnim.y = 200

local function spriteEvent (e)  --listener to play in loop 
  if(e.phase == "end") then
    penSpriteAnim:play()
  end
end -- end of sprit event function

penSpriteAnim:addEventListener("touch", movePen); -- adding listener to move pen object
penSpriteAnim:addEventListener("sprite", spriteEvent) -- adding listener to play in loop
penSpriteAnim:play('pen_write') -- playing pen Sprite 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-11T10:21:58.307

首先，无需在循环中调用 penSpriteAnim:play()。因为它会自动循环播放，直到你不调用 penSpriteAnim:pause() 函数。

对于您的触摸侦听器，您应该在页面顶部声明所有局部变量。我不确定这一点，但希望这会奏效。因为lua是从上到下编译的。

# ios - 如何在 backbuttonitem 上对齐标题

> ID：12836568
> 
> 赞同：0
> 
> 时间：2012-10-11T09:38:04.347
> 
> 标签：ios

我是新手，所以我无法上传图片，但是当我在 iOS 中自定义 backButtonItem 时遇到问题，我编写的代码：

```
UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];
UIImage *backBtnImage = [UIImage imageNamed:@"backBtn.png"];
backBtn.frame = CGRectMake(0, 0, backBtnImage.size.width, backBtnImage.size.height);
[backBtn setBackgroundImage:backBtnImage forState:UIControlStateNormal];
backBtn.titleLabel.font = [UIFont boldSystemFontOfSize:14];
[backBtn addTarget:self action:@selector(popBack) forControlEvents:UIControlEventTouchUpInside];
[backBtn setTitle:@"Back" forState:UIControlStateNormal];
UIBarButtonItem *backBtnItem = [[UIBarButtonItem alloc] initWithCustomView:backBtn];

[backBtnItem setStyle:UIBarButtonItemStyleDone];
self.navigationItem.leftBarButtonItem = backBtnItem; 
```

但是带有“back”的标题未在 backButton 上对齐。我如何**对齐**已自定义的后退按钮项的标题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:50:02.807

试试这个：

```
backBtn.contentHorizontalAlignment = UIControlContentHorizontalAlignmentCenter; 
```

# asp.net - 如何在 ASP.NET 中检查用户注册过期并通过电子邮件发送通知？

> ID：12836570
> 
> 赞同：0
> 
> 时间：2012-10-11T09:38:12.383
> 
> 标签：asp.net, architecture

我有一个有有效期的用户注册表单。用户需要在注册后的 30 天内激活他的帐户。现在我想向注册但尚未激活其帐户的此类用户发送通知。我想每 10 天后向他发送自动电子邮件。假设用户在 2012 年 1 月 1 日注册，则必须在 2012 年 1 月 10 日发送通知电子邮件，如果当前日期是 2012 年 1 月 20 日，则“请在 20 天内激活”然后“请在 10 天内激活”。（无需人工干预）即不需要点击按钮发送邮件。只是必须充当监控服务。

在指定的时间间隔内发送电子邮件的最佳方法是什么？使用 SQLSERVER 还是通过 Windows 服务？

请建议我正确的方法！

帮助赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:54:16.753

您可以按规则间隔运行调度程序。您可以使用 followinf 库进行调度。您可以通过从 Web 服务器本身进行调度来轻松完成。仅调用 1 个 aspx 页面。

[http://quartznet.sourceforge.net/](http://quartznet.sourceforge.net/)

# c# - 通过 .NET clinet 在 ASP.NET 应用程序和 WCF Webservice 之间共享会话数据

> ID：12836571
> 
> 赞同：0
> 
> 时间：2012-10-11T09:38:27.953
> 
> 标签：c#, asp.net, .net, web-services, session

我有一种情况，当用户在 ASP.NET 应用程序中准备一些数据时，它将它们保存在会话中（在这种情况下应用程序不需要数据库）。

为了在客户标签打印机上打印数据，我有一个很小的 ​​.NET WPF 应用程序，它是从带有会话 ID 参数的网站打开的。所以现在我在客户端上运行应用程序，女巫知道会话 ID。

此客户端应使用 WCF Web 服务从服务器获取准备好的数据（服务，因为客户端和服务器之间有更多的数据传输）。我需要控制打印数据的次数，以便在第一次获取数据后在服务器上销毁数据。

现在我的问题是：如何使用准备好的数据将客户端/网络服务连接到服务器上打开的会话？Webservice 是服务器应用程序的一部分。

谢谢你的想法。F。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:54:46.607

如果您有内存中用户会话的会话 ID，您应该能够实现该服务以要求会话：

[MSDN 示例...](http://msdn.microsoft.com/en-us/library/ms733058.aspx)

并注入由您的客户端制造的 cookie，包括会话 ID（就像 asp.net 应用程序使用的一样）作为 wcf 请求的一部分。

# eclipse - 如何复制德比表

> ID：12836572
> 
> 赞同：1
> 
> 时间：2012-10-11T09:38:28.127
> 
> 标签：eclipse, derby

我正在使用 Eclipse、Java 和 Derby 数据库。我想尝试更改重写数据库中的一个表的值。在开始更改之前，我想复制特定的表（不是在代码中），以便在必要时恢复原始数据。Sof ar 谷歌搜索和搜索该站点尚未产生答案。在 Eclipse 中有一个导出数据库的选项，但它称之为连接，所以我不知道会发生什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T11:52:44.150

如果您不确定如何连接数据库并发出 sql 语句，则需要了解 JDBC。[这](http://docs.oracle.com/javase/tutorial/jdbc/index.html)是一个很好的起点。

如果您要询问 SQL，那很简单。您可以基于 select 语句创建表。

例如

```
create table table2 as select * from table1 with no data; 
```

德比在这方面有点奇怪。您必须指定无数据，创建的表将为空。然后，您可以根据需要发出一个插入新表的内容。

```
insert into table2 select * from table1; 
```

新表将没有索引。如果需要，您将需要创建它们。它可能会保留主键。如果您正在针对它进行测试，您应该检查一下。如果它不保留主键，则应在向表中插入数据之前创建主键。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T22:14:58.697

> 在 Eclipse 中有一个导出数据库的选项，但它称它为连接，所以我不确定会发生什么。

如果您不清楚 Eclipse 所做的事情，您也可以将整个数据库目录（DERBY_HOME 环境变量的内容）压缩到存档中。进行备份时，数据库不得运行。

# c# - 特殊情况的正则表达式

> ID：12836573
> 
> 赞同：1
> 
> 时间：2012-10-11T09:38:30.657
> 
> 标签：c#, regex

我需要为以下场景创建一个正则表达式。

它只能有数字，只能有一个点或逗号。

第一部分可以有一到三个数字。第二部分可以是点或逗号。第三部分可以有一到两位数字。

有效的场景是

```
123,12
123.12
123,1
123
12,12
12.12
1,12
1.12
1,1
1.1
1 
```

到目前为止我想出了这个表达

```
\d{1,3}(?:[.,]\d{1,2})? 
```

但效果不好。例如输入是 11:11 被标记为有效。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T09:41:57.567

你需要在你的表情周围放置[锚点：](http://www.regular-expressions.info/anchors.html)

```
^\d{1,3}(?:[.,]\d{1,2})?$ 
```

`^`将匹配字符串的开头

`$`将匹配字符串的结尾

如果这些锚点丢失，它将在您的字符串上部分匹配，因为最后一部分是可选的，这意味着在“11:11”上它可以匹配冒号之前的数字，第二次匹配将匹配冒号之后的数字。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T09:44:25.997

尝试使用`^`和`$`：

```
^\d{1,3}(?:[.,]\d{1,2})?$ 
```

> ***`^`*** 匹配必须从字符串或行的开头开始。
> 
> ***`$`*** 匹配必须出现在字符串`\n`的末尾或行或字符串的末尾之前。

# javascript - 保持不正确的字母可见

> ID：12836580
> 
> 赞同：2
> 
> 时间：2012-10-11T09:38:48.000
> 
> 标签：javascript, jquery

编辑

在我的拖放游戏中，有一个网格填充了对用户隐藏的单词。游戏的目的是借助声音和图片拼写这些单词。用户通过将相关字母拖放到网格上来拼写单词。

如果字母正确，它将在“wordglow3”类中发出绿色光。如果它是错误的，它会发出“wordglow”的红光。由于游戏是为孩子们准备的，我希望他们看到他们放下的字母会一直留在那里，直到尝试完成，这样他们才能看到完整的单词，所以我使用了...

```
$(that).html($(ui.draggable).text().trim()); 
```

让它留在那里。问题是，如果用户把单词弄错了，在下一次尝试同一个单词时，这不起作用，我不知道为什么。如果用户到达下一个单词，它会在第一次尝试时再次起作用，依此类推。谁能帮我使它保持一致？

这是执行操作的代码...

```
if ($(that).data("letter") == $(ui.draggable).text().trim()) {

            $(that).removeClass("wordglow").addClass('wordglow3').css('color', 'white');
            $(that).html($(ui.draggable).text().trim());

        } else {

            $(that).addClass('wordglow');
            $('.drag').css("color", "white");
            $(that).html($(ui.draggable).text().trim());

        } 
```

有没有办法在每次尝试单词后重置？我尝试将其设为变量，然后将其重置为零，但它不起作用。

一个帮助的小提琴 - [http://jsfiddle.net/smilburn/m8Squ/6/](http://jsfiddle.net/smilburn/m8Squ/6/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T08:57:31.270

我解决了这个问题。

```
 if ($(that).data("letter") == $(ui.draggable).text().trim()) {

            $(that).addClass('wordglow3').css('color', 'white');
            $('.drag').css("color", "white");
            $(that).html($(ui.draggable).text().trim());

        } else {

            $(that).addClass('wordglow').css('color', 'white');
            $('.drag').css("color", "white");
            $(that).html($(ui.draggable).text().trim());

        } 
```

# javascript - 通过将 span 附加到 body 来查找宽度

> ID：12836583
> 
> 赞同：0
> 
> 时间：2012-10-11T09:38:51.853
> 
> 标签：javascript, jquery

我正在使用 jquery 和 javascript。这是我的问题。我想找到一个字符串的像素长度。所以做的是

```
 var text = 'abc';
    $('body').append('<span id="string_span" style="font-weight: bold; font-size: 0.7em">' + text
 + '</span>');
    console.log("width of text is " + $('#string_span').width());
    $('#string_span').remove(); 
```

但问题是，无论我的文本长度是多少，它总是返回 49。任何人都可以指导我哪里做错了吗

另外，当我将跨度附加到其他 div 而不是正文时，我得到了正确的宽度值，谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:41:31.903

变量名是文本，而不是“abc”。**[演示](http://jsfiddle.net/3rr8G/)**

```
var text = 'absadfc';
$('body').append('<span id="string_span" style="font-weight: bold; font-size: 0.7em">' + text + '</span>');
    console.log("width of text is " + $('#string_span').width());
$('#string_span').remove(); 
```

# android - 编辑 avd 的 api 级别后 AVD 不起作用

> ID：12836589
> 
> 赞同：0
> 
> 时间：2012-10-11T09:39:02.357
> 
> 标签：android

我将 avd 从 API Level-14 编辑到 google API's(Google Inc.)-API Level-8 ... 在此之后我编辑的 avd 无法正常工作.. 它在加载后仅显示黑屏.. 有时会崩溃。 ...是什么原因...帮助...谢谢

```
10-11 14:55:02.548: W/PackageParser(397): /data/app/SoftKeyboard.apk (at Binary XML file line #0): Requires newer sdk version #14 (current version is #8)
10-11 14:55:02.548: W/PackageParser(397): /data/app/GestureBuilder.apk (at Binary XML file line #23): Requires newer sdk version #14 (current version is #8)
10-11 14:55:02.568: I/PackageManager(397): /data/app/CubeLiveWallpapers.apk changed;       collecting certs
10-11 14:55:02.658: I/PackageManager(397): /data/app/CubeLiveWallpapers.apk changed; unpacking
10-11 14:55:02.678: W/PackageParser(397): /data/app/WidgetPreview.apk (at Binary XML file line #23): Requires newer sdk version #14 (current version is #8)
10-11 14:55:02.888: D/dalvikvm(397): GC_FOR_MALLOC freed 7086 objects / 373856 bytes in 99ms
10-11 14:55:03.118: W/PackageParser(397): No actions in intent filter at /data/app/ApiDemos.apk Binary XML file line #2584
10-11 14:55:03.118: W/PackageParser(397): No actions in intent filter at /data/app/ApiDemos.apk Binary XML file line #2590
10-11 14:55:03.138: I/PackageManager(397): /data/app/ApiDemos.apk changed; collecting certs
10-11 14:55:03.318: D/dalvikvm(397): GC_FOR_MALLOC freed 6353 objects / 365648 bytes in 86ms
10-11 14:55:03.618: D/dalvikvm(397): GC_FOR_MALLOC freed 1876 objects / 315992 bytes in     80ms
10-11 14:55:04.198: D/dalvikvm(397): GC_FOR_MALLOC freed 3409 objects / 234344 bytes in 84ms 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:49:52.853

在 AVD 启动期间勾选“擦除用户数据”复选框，或者只是创建新的 AVD。

# java - CruiseControl 中的错误是什么意思？

> ID：12836590
> 
> 赞同：0
> 
> 时间：2012-10-11T09:39:03.167
> 
> 标签：java, ant, cruisecontrol

我正在配置一个Java项目的持续集成环境，我使用的工具是CruiseControl、svn和ant。

首先，我安装了最新的JDK--JDK 1.7

其次，我检查项目代码到项目文件夹，然后我启动 CC，我得到一个错误，说找不到第三方 jars。在eclipse中，可以很方便的将第三方jar导入到项目中，但是在CC中，没有这样的IDE，所以我修改了项目的Ant脚本----build.xml，配置了路径。

最后，我再次在 CC 中重建项目，我得到一个错误：警告：[options] has not set the guide class path with -source 1.6 C:\cruisecontrol-bin-2.8.4\projects\myproject\src\ main\java\net\controller\myproject\manager\Manager.java:181：错误：-source 1.6 不支持在 switch 中使用字符串：switch (columnName.toString()) {

华林的意思是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:35:46.057

我已经解决了，只是修改了以下句子：

```
<property name="ant.build.javac.source" value="1.6"/>
<property name="ant.build.javac.target" value="1.6"/> 
```

至

```
<property name="ant.build.javac.source" value="1.7"/>
<property name="ant.build.javac.target" value="1.7"/> 
```

# node.js - 基于令牌的身份验证（在 Node.js 中）

> ID：12836594
> 
> 赞同：6
> 
> 时间：2012-10-11T09:39:17.800
> 
> 标签：node.js, authentication, cryptography

更多关于实施基于令牌的身份验证系统的一些建议的一般性指出缺陷问题，其动机是 Node.js 似乎没有现成的东西。

由于我们想要构建一个无状态的 API 服务器来操作我们的数据存储，我们想要为我们的用户提供一个身份验证令牌（“乘车票”），它将包含在对 API 的每次调用中。

问题是如何以安全的方式生成这个令牌。

[idea 1] - 用户通过发送 (user-id,password-hash) 到服务器请求身份验证令牌 - 服务器响应 (user_id,expiry_date) ，由 API 服务器随机签名 - 服务器可以检查每个令牌的有效性请求 - 服务器需要在有限的时间内存储令牌

[想法 2] - 与上述相同，但避免发送密码哈希 - 用户请求身份验证令牌 - 服务器向用户发送质询，然后用户使用他的 (user_id,password_hash) 对对质询进行哈希处理 - 服务器对此进行验证，然后生成令牌按照想法1。

[idea 3] - 使用密码哈希本身作为身份验证令牌，在每个请求中发送，以避免令牌管理问题 - 更简单但没有时间限制

[idea 4] - 与 2 相同，但 challenged_hashed_by_(user_id,password_hash) 成为令牌并在每个请求中发送

感谢您的任何指点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-11T12:19:20.050

你看过 oauth 2.0：[http ://hueniverse.com/2010/05/introducing-oauth-2-0/](http://hueniverse.com/2010/05/introducing-oauth-2-0/)

还有很多图书馆可以为您处理

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-04T14:11:14.017

您可以将 OAuth 2.0 与 Passport 一起使用。Passport 本身有一个很好的例子来说明如何使用它，它是保护无状态 API 的适当解决方案，无需在每个请求上发送用户密码。

# sql - SQL Server 未在 C# 中释放内存

> ID：12836595
> 
> 赞同：2
> 
> 时间：2012-10-11T09:39:19.143
> 
> 标签：sql

我们正在使用 C# 中的批量复制在 sql 中导入数据。

即使应用程序退出，SQL Server 也不会释放内存。

我们正在批量导入 100000 条数据。总记录数在 1000 万条左右。

请告诉我们如何释放/清除 sql server 内存。

下面是我们的代码。

```
 try
        {

            using (SqlConnection SQlConn = new SqlConnection(Common.SQLConnectionString))
            {                   
                DataTable dt1 = FillEmptyDateFields(dtDestination);

                //SqlTableCreator ObjTbl = new SqlTableCreator(SQlConn);

                //ObjTbl.DestinationTableName = DestinationTable;

                using (System.Data.SqlClient.SqlBulkCopy bulkCopy = new System.Data.SqlClient.SqlBulkCopy(SQlConn,SqlBulkCopyOptions.TableLock,null))
                {

                    //bulkCopy = new System.Data.SqlClient.SqlBulkCopy(SQlConn);
                    bulkCopy.DestinationTableName = DestinationTable;
                    bulkCopy.BulkCopyTimeout = 0;
                    bulkCopy.BatchSize = dt1.Rows.Count; // Batch Size Added.
                    Logger.Log("DATATABLE FINAL :" + dt1.Rows.Count.ToString(), Logger.LogType.Info);
                    if (SQlConn.State == ConnectionState.Closed || SQlConn.State == ConnectionState.Broken)
                        SQlConn.Open();
                    bulkCopy.WriteToServer(dt1);
                    SQlConn.Close();
                    SQlConn.Dispose();
                    bulkCopy.Close();
                    if (bulkCopy != null)
                    {
                        ((IDisposable)bulkCopy).Dispose();
                    }                        
                }
                dt1.Dispose(); 
                dt1 = null;                           
            }

            dtDestination.Dispose();
            System.GC.Collect();
            dtDestination = null;                

        }
        catch (Exception ex)
        {
            Logger.Log(ex, Logger.LogType.Error);
            throw ex;

        }
        finally 
        {

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:58:52.940

SQL Server 将根据需要增加其内存消耗。当它完成需要它分配更多 RAM 的特定操作时，它可能不一定会释放它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:55:03.487

SQL Server 旨在尽可能多地缓存。您可以在 SQL Server 配置中调整此限制。

如果你真的想清除 SQL Server 缓存，你可以运行 SQL 命令

[`DBCC DROPCLEANBUFFERS`](http://msdn.microsoft.com/en-us/library/ms187762.aspx)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-28T13:44:20.147

```
Create Proc  [dbo].[MP_Rpt_ConfigureMemory]
(  @Mode  bit  )
as
declare @RAM as integer
declare @MAX as integer
declare @MIN as integer

set @RAM = 
(SELECT

      [physical_memory_in_bytes]/1048576 AS [RAM (MB)]

FROM  [sys].[dm_os_sys_info] )

Set @MAX = ((@RAM / 4) * 3) 
Set @MIN = ((@RAM / 4) * 1) 

if @Mode=0
begin
      exec SP_Configure 'min server memory', 1
      RECONFIGURE
      exec SP_Configure 'max server memory', 100
      RECONFIGURE
end
else
if @Mode = 1
begin
      exec SP_Configure 'max server memory', @MAX
      RECONFIGURE
      exec SP_Configure 'min server memory', @MIN
      RECONFIGURE
end 
```

# ruby-on-rails-3 - rails activeadmin错误rspec

> ID：12836598
> 
> 赞同：1
> 
> 时间：2012-10-11T09:39:24.773
> 
> 标签：ruby-on-rails-3, mongodb, activerecord, ruby-on-rails-3.2, activeadmin

我的数据库是 MongoDB，我使用 ActiveAdmin。在我添加`gem 'activeadmin-mongoid', :git => 'git://github.com/simplybusiness/activeadmin-mongoid.git'`rspec 之前通过 mongoDB 的每个测试，但在那之后 rspec 得到一个错误

> ActiveRecord::ConnectionNotEstablished

文件 config/application.rb 我替换

> 要求所有
> 
> 需要“action_controller/railtie”
> 
> 需要“action_mailer/railtie”
> 
> 需要“active_resource/railtie”
> 
> 需要“链轮/导轨”

我删除了文件夹 config 中的所有 activerecord 配置。我按照那个[链接](https://github.com/elia/activeadmin-mongoid#activeadminmongoid)

对不起我的英语不好。

任何帮助，将不胜感激。谢谢！

# jquery - 如果宽度 > 某些 jquery，则调整所有图像的大小

> ID：12836603
> 
> 赞同：-5
> 
> 时间：2012-10-11T09:39:41.993
> 
> 标签：jquery, resize

如果宽度>例如400px，我想调整页面中所有图像的大小

我尝试使用此代码

```
 var img_width =  $("#my_img").width();
//alert(img_width)
if(img_width > 380){
 $("#my_img").width('380');
} 
```

但没有任何工作，在页面上我有超过 10 张图片 ti 有 id my_img

img 标签

img src='tttttt.jpg' id="my_img"

我如何调整它的大小？

因为我有一个模板，我不希望 img 的宽度超过 400px

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:43:15.413

你不能为此使用CSS吗？

`max-width:400px;`

就像代达罗斯所说，在一个文档中多次使用相同的 id 是无效的 html。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:43:56.033

```
<script>
    jQuery(document).ready(function(){
        jQuery(".my_img").each(function(e){
            if(e.width()>380){
                jQuery(this).attr('width','380');
            }
        });
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:54:43.510

首先，有多个相同的项目是无效的 html `id`。正如我在上面的评论中所说，使用 a`class`代替。

假设您的 html 如下所示：

```
<img class="my_img" src="someurl" style="width: 390px;" />
<img class="my_img" src="someurl" style="width: 390px;" />
<img class="my_img" src="someurl" style="width: 390px;" />
<img class="my_img" src="someurl" style="width: 340px;" /> 
```

以下 jquery 将调整前三个图像的大小，前提是它们匹配相应的规则：

```
$(document).ready(function() {
    $('.my_img').each(function(index,value) {
        if ($(value).width() > 380) {
            $(this).css('width', 380);
        }
    });
});​ 
```

# php - 在 Magento 1.7 的导航中显示每个类别的畅销书

> ID：12836608
> 
> 赞同：0
> 
> 时间：2012-10-11T09:39:58.280
> 
> 标签：php, navigation, magento-1.7

我正在寻找一种可能性，以按类别获得最畅销的产品，以在导航的特定部分显示它。展示产品不是问题，而是获得它们。

我已经用不同的关键字通过谷歌进行了深入的搜索，但我得到的只是过时的插件、对 bestseller.phtml 的修改（不再在 Magento 1.7 中退出）以及在资源模型上设置过滤器，但我再也找不到哪个了给我任何结果。

所以我尝试自己获得产品（到目前为止，它应该获得任何产品的销售，而不是最好的产品）：

```
$category->getId();
    $children = $category->getChildren();

    foreach($children as $child)
    {
        $childCategoryIdString = $child->getId();
        $childCategoryId = substr($childCategoryIdString, 14);

        $childCategory = Mage::getModel('catalog/category')
            ->load($childCategoryId);

        $productCollection = Mage::getModel('catalog/product')
            ->getCollection()
            ->addCategoryFilter($childCategory)
            ->load();

        $allIds = $productCollection->getAllIds();

        for($i = 0; $i < count($allIds); $i++)
        {
            $product = Mage::getModel('catalog/product')->load($allIds[$i]);
            echo $product->getOrderedQty() . '_';
        }
    } 
```

这有两个问题：首先它使 Magento 变得更慢。其次`$product->getOrderedQty()`，我在各种搜索结果中发现的一种方法不起作用。现在我真的不知道我还能尝试什么并寻求一些非常感谢的帮助。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:30:02.303

您在示例脚本中使用了很多对象包装器。像`load`封装成多个循环这样的方法会产生巨大的延迟，并且可能会产生巨大的内存使用（取决于您的产品集合大小）。

当我前几天解决这个问题时，我决定使用直接的 ORM 方法而不是对象来获得更好的性能。

有两种可能的方式来展示畅销书。消耗资源较少的是使用聚合的畅销书表（如`sales_bestsellers_aggregated_daily`），但它有很大的缺点 - 这些表中的数据不会自动更新。它用于管理报告部分，仅当您选择刷新统计信息时才会更新。

另一种更可靠的方法是连接`sales_flat_order_item`表以检索每个产品的 sales_qty。显然它更消耗资源，因为您必须自己计算。

在我的脚本中，我选择了后一种路径。我已经对其进行了修改以满足您的逻辑要求。我还添加了几个`joins`来获取类别名称，您可能不需要它。但是说够了 :) 这是我的`test.php`shell 脚本的代码：

```
<?php
require_once 'abstract.php';

/**
 * Magento Test Bestsellers script
 *
 * @category    Mage
 * @package     Mage_Shell
 */
class Mage_Shell_Test extends Mage_Shell_Abstract
{
    /**
     * Run script
     *
     */
    public function run()
    {
        // benchmarking
        $memory = memory_get_usage();
        $time = microtime();
        echo "Starting mem usage: $memory\n";

        $catId = $this->getArg('category');
        /** @var $collection Mage_Catalog_Model_Resource_Product_Collection */
        $collection = Mage::getResourceModel('catalog/product_collection');
        // join sales order items column and count sold products
        $expression = new Zend_Db_Expr("SUM(oi.qty_ordered)");
        $condition = new Zend_Db_Expr("e.entity_id = oi.product_id AND oi.parent_item_id IS NULL");
        $collection->addAttributeToSelect('name')->getSelect()
            ->join(array('oi' => $collection->getTable('sales/order_item')),
            $condition,
            array('sales_count' => $expression))
            ->group('e.entity_id')
            ->order('sales_count' . ' ' . 'desc');
        // join category
        $condition = new Zend_Db_Expr("e.entity_id = ccp.product_id");
        $condition2 = new Zend_Db_Expr("c.entity_id = ccp.category_id");
        $collection->getSelect()->join(array('ccp' => $collection->getTable('catalog/category_product')),
            $condition,
            array())->join(array('c' => $collection->getTable('catalog/category')),
            $condition2,
            array('cat_id' => 'c.entity_id'));
        $condition = new Zend_Db_Expr("c.entity_id = cv.entity_id AND ea.attribute_id = cv.attribute_id");
        // cutting corners here by hardcoding 3 as Category Entiry_type_id
        $condition2 = new Zend_Db_Expr("ea.entity_type_id = 3 AND ea.attribute_code = 'name'");
        $collection->getSelect()->join(array('ea' => $collection->getTable('eav/attribute')),
            $condition2,
            array())->join(array('cv' => $collection->getTable('catalog/category') . '_varchar'),
            $condition,
            array('cat_name' => 'cv.value'));
        // if Category filter is on
        if ($catId) {
            $collection->getSelect()->where('c.entity_id = ?', $catId)->limit(1);
        }

        // unfortunately I cound not come up with the sql query that could grab only 1 bestseller for each category
        // so all sorting work lays on php
        $result = array();
        foreach ($collection as $product) {
            /** @var $product Mage_Catalog_Model_Product */
            if (isset($result[$product->getCatId()])) {
                continue;
            }
            $result[$product->getCatId()] = 'Category:' . $product->getCatName() . '; Product:' . $product->getName() . '; Sold Times:'. $product->getSalesCount();
        }

        print_r($result);

        // benchmarking
        $memory2 = memory_get_usage();
        $time2 = microtime();
        $memDiff = ($memory2 - $memory)/1000000;
        $timeDiff = $time2 - $time;
        echo 'Time spent:' . $timeDiff . "s\n";
        echo "Ending mem usage: $memory2\n";
        echo "Mem used : {$memDiff}M\n";
    }

    /**
     * Retrieve Usage Help Message
     *
     */
    public function usageHelp()
    {
        return <<<USAGE
Usage:  php -f test.php -- [options]
        php -f test.php -- --category 1

  --categories <category> Filter by Category, if not specified, all categories are outputted
  help                      This help

USAGE;
    }
}

$shell = new Mage_Shell_Test();
$shell->run(); 
```

`test.php`要使用它，只需在你的*shell*文件夹中创建一个文件并将我提供的代码插入到文件中。看看`usageHelp`你是否不熟悉命令行 php 调用。

PS 在那里添加了一些基准测试来跟踪您的 mem_usage 和时间。

**更新**在进一步审查该问题后，我发现仅使用`Zend_Db`适配器即可获得每个类别的畅销书的更优雅的方法。结果将仅包含`category_id`=>`product_id`连接（不是 Magento 对象），但它更容易且整体更好。此代码应在*基准测试*块之间进入`run`函数：

```
 $catId = $this->getArg('category');

    /** @var $resource Mage_Core_Model_Resource */
    $resource = Mage::getModel('core/resource');
    /** @var $adapter Zend_Db_Adapter_Abstract */
    $adapter = $resource->getConnection('core_read');

    $select = $adapter->select()
        ->from(array('c' => $resource->getTableName('catalog/category')), array('cat_id'=>'entity_id'))
        ->join(array('ccp' => $resource->getTableName('catalog/category_product')), 'c.entity_id = ccp.category_id', array())
        ->join(array('oi' => $resource->getTableName('sales/order_item')), 'ccp.product_id = oi.product_id', array('max_qty' => new Zend_Db_Expr('SUM(oi.qty_ordered - oi.qty_canceled)'), 'product_id' => 'product_id'))
        ->where('oi.parent_item_id is null')
        ->group('c.entity_id')
        ->group('oi.product_id')
        ->order('entity_id ASC')
        ->order('max_qty DESC');
    if ($catId) {
        $select->where('c.entity_id = ?', $catId);
    }
    $res = $adapter->fetchAll($select);

    $result = array();
    foreach ($res as $oneRes) {
        if (isset($result[$oneRes['cat_id']])) {
            continue;
        }
        $result[$oneRes['cat_id']] = $oneRes;
    }

    array_walk($result, function($var, $key) {
        echo 'Category Id:' . $key . ' | Product Id:' . $var['product_id'] . ' | Sales Count:' . $var['max_qty'] . "\n";
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T11:36:03.530

```
$visibility = array(
                      Mage_Catalog_Model_Product_Visibility::VISIBILITY_BOTH,
                      Mage_Catalog_Model_Product_Visibility::VISIBILITY_IN_CATALOG
                  );
$category = new Mage_Catalog_Model_Category();
$category->load(2); //My cat id is 10
$prodCollection = $category->getProductCollection()->addAttributeToFilter('visibility', $visibility)->setOrder('ordered_qty', 'desc');
<?php foreach($_productCollection as $_product): ?>
//whatever you want
<?php endforeach; ?> 
```

希望这可以帮助

# python - Youtube api 获得使用 python 观看次数最多的前 10 名

> ID：12836609
> 
> 赞同：1
> 
> 时间：2012-10-11T09:39:58.970
> 
> 标签：python, youtube-api

A有一个小问题/问题。

我试图从 youtube api 中检索最多的视频，但似乎我的输出不正确。当我使用这个网址[http://gdata.youtube.com/feeds/api/standardfeeds/most_viewed](http://gdata.youtube.com/feeds/api/standardfeeds/most_viewed)时， 我会收到很多观看次数很多的视频，但并不是我想的全部。例如，极受欢迎的视频江南风格不存在，即使它的观看次数比结果中的其他一些视频多得多。是因为我使用了错误的网址还是我得到了旧数据或其他什么？

编辑：代码

```
feed = yt_service.GetYouTubeVideoFeed('http://gdata.youtube.com/feeds/api/standardfeeds/most_viewed')
for entry in feed.entry:
     print entry.statistics.view_count, ' : ', entry.media.title.text 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T11:01:11.050

请改用 URL [http://gdata.youtube.com/feeds/api/videos?orderby=viewCount](http://gdata.youtube.com/feeds/api/videos?orderby=viewCount)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-13T00:35:02.323

试试下面的代码：

```
import requests
import json
payload = {'part': 'snippet', 'key': DEVELOPER_KEY, 'order':'viewCount', 'q': 'gangnam style', 'maxResults': 10}
l = requests.Session().get('https://www.googleapis.com/youtube/v3/search', params=payload)    
resp_dict = json.loads(l.content)
print resp_dict['items']
for i in resp_dict['items']:
     print "Title: ",i['snippet']['title'] 
```

# asp.net-mvc-3 - Visual Studio 2012 Express MVC 3 部署

> ID：12836612
> 
> 赞同：1
> 
> 时间：2012-10-11T09:40:13.790
> 
> 标签：asp.net-mvc-3, visual-studio, express

我在 Visual Studio 2012 express 中开发了一个 MVC 3 应用程序，我正在尝试按照此链接中的文档创建一个 Web 部署包：

[http://msdn.microsoft.com/query/dev11.query?appId=Dev11IDEF1&l=EN-US&k=k(WebApplicationProjects.PackagePublishOverview);k(TargetFrameworkMoniker-.NETFramework,Version%3Dv4.0)&rd=true](http://msdn.microsoft.com/query/dev11.query?appId=Dev11IDEF1&l=EN-US&k=k(WebApplicationProjects.PackagePublishOverview);k(TargetFrameworkMoniker-.NETFramework,Version%3Dv4.0)&rd=true)

我有几个问题。1\. 我无法在配置管理器中选择部署复选框，它是灰色的 2\. 未创建 zip 文件

这是视觉工作室版本的限制，还是我要部署这种类型的项目是错误的。由于应用程序的性质，Web 部署包是最好的部署选项。

# cmake - 在 cmake 中添加 xapian 库

> ID：12836613
> 
> 赞同：1
> 
> 时间：2012-10-11T09:40:17.457
> 
> 标签：cmake, xapian

我正在尝试在 cmake 文件中添加 xapian 搜索引擎库

```
project(search)
cmake_minimum_required(VERSION 2.8)
find_package(Xapian REQUIRED)

aux_source_directory(. SRC_LIST)
target_link_libraries(${PROJECT_NAME}
  ${Xapian_LIBRARY}
)
add_executable(${PROJECT_NAME} ${SRC_LIST}) 
```

如果我使用 -lxapian 编译它可以工作，任何人都可以告诉我如何添加它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T16:38:52.987

交换`target_link_libraries()`和`add_executable()`调用。您只能将库链接到已定义的目标。

并使用`${XAPIAN_LIBRARIES}`而不是`${Xapian_LIBRARY}`.

# google-apps-script - 如何在谷歌应用脚 本中获取过滤条件

> ID：12836622
> 
> 赞同：1
> 
> 时间：2012-10-11T09:40:42.020
> 
> 标签：google-apps-script, google-docs

是否可以使用谷歌应用脚​​本在电子表格上应用过滤条件。

我想编写一个仅适用于电子表格中过滤数据的函数，并且需要获得一种获取范围内的 fileterd 行的方法。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:14:22.560

不，没有。

有一个关于此的[问题](http://code.google.com/p/google-apps-script-issues/issues/detail?id=524)已打开，您可能希望对其*加注星*标以跟踪更新并为它投票。

# c# - 使用类名和方法名调用类的成员

> ID：12836623
> 
> 赞同：2
> 
> 时间：2012-10-11T09:40:42.753
> 
> 标签：c#, reflection, .net-4.0

我正在尝试使用`Reflection`（假设对象初始化不依赖于要调用的函数）来调用类的函数，如下所示

```
/// <summary>
    /// Calls a static public method. 
    /// Assumes that the method returns a string
    /// </summary>
    /// <param name="assemblyName">name of the assembly containing the class in which the method lives.</param>
    /// <param name="namespaceName">namespace of the class.</param>
    /// <param name="typeName">name of the class in which the method lives.</param>
    /// <param name="methodName">name of the method itself.</param>
    /// <param name="stringParam">parameter passed to the method.</param>
    /// <returns>the string returned by the called method.</returns>
    /// 
    public static string InvokeStringMethod5(string assemblyName, string namespaceName, string typeName, string methodName, string stringParam)
    {
        //This method was created incase Method has params with default values. If has params will return error and not find function
        //This method will choice and is the preffered method for invoking 

        // Get the Type for the class
        Type calledType = Type.GetType(String.Format("{0}.{1},{2}", namespaceName, typeName, assemblyName));
        String s = null;

        // Invoke the method itself. The string returned by the method winds up in s.
        // Note that stringParam is passed via the last parameter of InvokeMember, as an array of Objects.

        if (MethodHasParams(assemblyName, namespaceName, typeName, methodName))
        {
            s = (String)calledType.InvokeMember(
                        methodName,
                        BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static,
                        null,
                        null,
                        new Object[] { stringParam });
        }
        else
        {
            s = (String)calledType.InvokeMember(
            methodName,
            BindingFlags.InvokeMethod | BindingFlags.Public | BindingFlags.Static,
            null,
            null,
            null);
        }

        // Return the string that was returned by the called method.
        return s;

    }

    public static bool MethodHasParams(string assemblyName, string namespaceName, string typeName, string methodName)
    {
        bool HasParams;
        string name = String.Format("{0}.{1},{2}", namespaceName, typeName, assemblyName);
        Type calledType = Type.GetType(name);
        MethodInfo methodInfo = calledType.GetMethod(methodName);
        ParameterInfo[] parameters = methodInfo.GetParameters();

        if (parameters.Length > 0)
        {
            HasParams = true;
        }
        else
        {
            HasParams = false;
        }

        return HasParams;

    } 
```

这是[在这里](http://www.codeproject.com/Articles/19911/Dynamically-Invoke-A-Method-Given-Strings-with-Met)形成的。

有没有其他/更好的方法来做到这一点？

这个活动可以通用吗？就像在.Net 4.0中使用`Dynamic`and一样可以调用`Non-Static methods`，这样返回类型就可以独立了。

我从未`dynamic`在实际场景中使用过关键字（仅阅读一些示例）来实际使用我仍然不知道

在这方面的任何帮助/方向将不胜感激谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:52:40.417

回答您的查询`dynamic`；不，这不适合这里。`dynamic`当成员名称（或操作）在编译时已知但无法证明存在时很有用 - 基本上是鸭子类型。例如：

```
dynamic foo = GetSomeRandomObject();
foo.ThisShouldExist("abc"); 
```

这做类似的事情，但用法不同。所以，是的，你留下了反思。你在做什么是非常正确的。我唯一可能改变的是获取`MethodInfo`, 并从那里工作 - 虽然如果你可以改变 API 来接受一个单一的`string assemblyQualifiedName`它会更方便和灵活。但也许：

```
public static string InvokeStringMethod5(string assemblyName,
    string namespaceName, string typeName, string methodName, string stringParam)
{
    string assemblyQualifiedName = string.Format("{0}.{1},{2}",
        namespaceName, typeName, assemblyName);
    Type calledType = Type.GetType(assemblyQualifiedName);
    if(calledType == null) throw new InvalidOperationException(
        assemblyQualifiedName + " not found");
    MethodInfo method = calledType.GetMethod(methodName,
        BindingFlags.Public | BindingFlags.Static);
    switch (method.GetParameters().Length)
    {
        case 0:
            return (string)method.Invoke(null, null);
        case 1:
            return (string)method.Invoke(null, new object[] { stringParam });
        default:
            throw new NotSupportedException(methodName
                + " must have 0 or 1 parameter only");
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:57:22.463

要回答有关如何将结果转换为通用返回类型的问题，该方法类似于：

```
public static T InvokeMethod<T>(string assemblyName, string namespaceName, string typeName, string methodName, string stringParam)
{
    // instead of String s = null;
    T methodResult = default(T);

    // instead of s = (String)calledType.InvokeMember(...)
    methodResult = (T)calledType.InvokeMember(...);

    // return s;
    return methodResult;
} 
```

# algorithm - 用值和距离计算父母和孩子的算法

> ID：12836624
> 
> 赞同：0
> 
> 时间：2012-10-11T09:40:48.153
> 
> 标签：algorithm, graph

我知道 dijkstra、prim、kruskal 等算法，但我不知道如何解决以下问题。

我有一个具有整数值的城市列表。我有一个函数，它根据传递的距离范围计算给定城市的距离。如果您将一个城市传递给函数，并且距离为 20 公里，则将返回与给定城市距离为该距离的所有城市。

条件：

*   我想将所有大于给定值限制的城市设置为父级。
*   如果一个父城市在给定距离内有另一个价值更大的城市父城市，则设置为价值更大的城市父城市和价值较小的子城市。
*   对于所有子城市，将在给定距离内具有更多价值的城市父级设置为父级，如果没有父级城市，则子级城市将没有父级。

对不起，如果我不能很好地解释我。

**编辑：**

我添加了一些伪代码来帮助您解决问题：

```
//Get array of cities ordered ASC by value and each city is marked as parent or not.
$cities = getCitiesByValue(); 

foreach($cities as $city) {

  if($city->isParent) {
    //Get near(20km) PARENT cities ordered  ASC
    $nearCities = findNearBy($city, $distance = 20); 

    foreach($nearCities as $nearCity) {

      if($nearCity->value > $city->value) {
        $city->setParent($nCity);
        $city->setAsChild;
      }
    }
  }

  elseif($city->isChild) {
    //Get near(50km) PARENT cities ordered  ASC
    $nearCities = findNearBy($city, $distance = 50);

    foreach($nearCities as $nearCity) {

      if($nearCity->value > $city->value) {
        $city->setParent($nCity);
      }
    }
  }
} 
```

# c# - 从文本框获取值

> ID：12836625
> 
> 赞同：0
> 
> 时间：2012-10-11T09:40:55.717
> 
> 标签：c#, asp.net, winforms, textbox

我有两个功能。在我的第一个中，我创建了文本框：

```
private TableRow GetGebuchteDienstleistungRow(Dienstleistungsreservierung dr, int rowIndex)
{

    TableRow row = new TableRow();
    TableCell cell = new TableCell();

    if (dr.Dienstleistung.Mengeneinheit == Mengeneinheit.Basket)
    {
        foreach (Basketdienstleistung basketDl in dr.Dienstleistung.Basket)
        {
            cell = new TableCell();
            cell.Text = "<tr />";
            row.Cells.Add(cell);

            TableRenderer.AddTableCell(row, dr.Von.ToString(form.DatumsFormat), 1);
            TableRenderer.AddTableCell(row, dr.Von.ToString(form.ZeitFormat), 1);
            TableRenderer.AddTableCell(row, dr.Bis.ToString(form.DatumsFormat), 1);
            TableRenderer.AddTableCell(row, dr.Bis.ToString(form.ZeitFormat), 1);

            cell = new TableCell();
            var txt = new TextBox();   
            txt.Text = string.Format("{0:0.00}", dr.Bestellmenge * basketDl.Anzahl);
            txt.Width = 42;
            txt.MaxLength = 5;
            txt.CssClass = "nummer";
            cell.Controls.Add(txt);
            row.Cells.Add(cell);

            ................

            }

        }

    }
    ................. 
```

如何在第二个函数中获取创建的 TextBox 的值？具体来说，我想在数据库中传递值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:43:29.683

您可以枚举特定单元格中的所有控件并按名称查找文本框

```
cell.Controls.OfType<TextBox>(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T09:44:27.663

您可以使用`FindControl method`

```
var textBox = (TextBox)cell.FindControl("YourID"); 
```

# objective-c - 由于“nil”类的未捕获异常，什么情况会导致应用程序终止

> ID：12836627
> 
> 赞同：0
> 
> 时间：2012-10-11T09:41:09.773
> 
> 标签：objective-c, ios, cocoa

我的应用程序偶尔崩溃

```
2012-10-10 23:19:24.039 [26442:850f] -[NSNull allKeys]: unrecognized selector sent to instance 0x7fff741cbea0
2012-10-10 23:19:24.040 [26442:850f] *** Terminating app due to uncaught exception of class 'nil' 
```

`[obj isKindOfClass:[NSDictionary class]]`该对象在调用之前已经过测试`allKeys:`

如果我`[[NSNull null] allKeys]`故意打电话，它会崩溃

```
2012-10-11 16:22:15.606 [14939:403] -[NSNull allKeys]: unrecognized selector sent to instance 0x7fff73659f00
2012-10-11 16:22:15.622 [14939:403] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSNull allKeys]: unrecognized selector sent to instance 0x7fff73659f00' 
```

我想知道是什么情况导致的`Terminating app due to uncaught exception of class 'nil'`，所以我可以调试这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:48:39.853

1：因为NSNull没有响应消息[allKeys]，所以抛出异常。

2：您应该检查您的对象是否可以 [respondsToSelector:@selector(allKeys)]

3：如果你的NSNull类对象通过了[obj isKindOfClass:[NSDictionary class]]，那么你的控制语句有问题

# nuget - 如何使附加到 VS 解决方案的 .nuget\NuGet.Config 文件不被忽略？

> ID：12836634
> 
> 赞同：21
> 
> 时间：2012-10-11T09:41:24.237
> 
> 标签：nuget

我在 Visual Studio 中创建了新的解决方案，启用了 nuget 包还原并进入了解决方案根`.nuget`文件夹，其中包含使包还原工作所需的以下文件：`NuGet.exe`, `NuGet.config`, `NuGet.targets`.

但我无法从文件中读取设置（作为 Nuget Visual Studio 加载项`\.nuget\NuGet.exe`以及）`.\nuget\NuGet.config`- 设置仍从默认读取`%appdata%\NuGet\NuGet.config`。

**我试过什么。**
我试图查看`NuGet.config`指定路径的位置，但没有找到类似的东西，并且`nuget.exe install`在构建期间运行的命令没有任何参数，如“获取此 nuget.config 文件”。

此外，我已删除`\.nuget\NuGet.config`并且一切正常 - 在 Visual Studio 构建和 CI 一期间恢复包。

**问题。**
我有一个`\.nuget\NuGet.config`完全没有使用过的印象。

所以本质上的问题是：如何使`.nuget\NuGet.Config`文件不被忽略？
我做错了什么以及如何写？

谢谢，祝您度过愉快的 %time_of_day% :)

免责声明
*我上面提到的一切都不是问题/问题 - 当前的 nuget 行为对我来说是完全可以接受的 - 我问只是因为我同时感到好奇和困惑*

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-12T22:30:23.313

我没有亲自尝试过，但这里是[官方 Nuget 2.1 发行说明](http://docs.nuget.org/docs/release-notes/nuget-2.1)所说的：

> 按以下顺序搜索 NuGet.config 文件：
> 
> 1.  .nu​​get\nuget.config
> 2.  从项目文件夹到根目录的递归遍历
> 3.  全局 nuget.config (%appdata%\NuGet\nuget.config)
> 
> 然后以相反的顺序应用配置，这意味着根据上述顺序，将首先应用全局 nuget.config，然后是从根目录到项目文件夹中发现的 nuget.config 文件，然后是 .nuget

如果这没有帮助，我建议您更具体地编写您想要实现的目标以及您正在更改的配置设置 - 了解有关问题的更多详细信息可能会澄清情况。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-12-01T08:07:10.707

您是否指向要用作的配置文件？

在nuget[页面](https://docs.nuget.org/ndocs/consume-packages/configuring-nuget-behavior)示例中；

```
nuget config -set repositoryPath=c:\packages -configfile c:\my.config
nuget config -set repositoryPath=c:\packages -configfile .\myApp\NuGet.Config
nuget config -set repositoryPath=c:\packages -configfile %ProgramData%\NuGet\Config\VisualStudio\14.0\NuGet.Config
nuget config -set repositoryPath=c:\packages -configfile %ProgramData%\NuGet\NuGetDefaults.Config 
```

# ruby - Ruby 使用需要不同版本的另一个 gem 的两个 gem

> ID：12836638
> 
> 赞同：2
> 
> 时间：2012-10-11T09:41:30.463
> 
> 标签：ruby, gem

我正在使用 activerecord 和 feedzirra（RSS 解析库）。activerecord 需要 activesupport v3.2.8，而 feedzirra 需要 v3.1.1。当我同时使用它们时，我得到错误，它们是冲突的，因为它们都需要不同版本的 activesupport（3.2.8 与 3.1.1。

我有哪些选择？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:12:57.417

使用最新的 feedzirra，它不依赖于 3.1.1 afaik：

```
gem 'feedzirra', :git => 'https://github.com/pauldix/feedzirra.git' 
```

# elasticsearch - elasticsearch 中的分析器

> ID：12836642
> 
> 赞同：46
> 
> 时间：2012-10-11T09:41:42.570
> 
> 标签：elasticsearch, analyzer, tire

我在使用轮胎宝石的弹性搜索中理解分析器的概念时遇到了麻烦。我实际上是这些搜索概念的新手。有人可以帮我写一些参考文章或解释分析仪的实际作用以及使用它们的原因吗？

我看到在 elasticsearch 中提到了不同的分析器，例如关键字、标准、简单、滚雪球。如果没有分析仪的知识，我无法弄清楚什么真正适合我的需要。

* * *

## 回答 #1

> 赞同：84
> 
> 时间：2012-10-11T18:58:32.620

让我给你一个简短的答案。

在索引时间和搜索时间使用分析器。它用于创建术语索引。

要索引一个短语，将其分解为单词可能会很有用。分析仪来了。

它应用标记器和标记过滤器。分词器可以是空白分词器。它在每个空格处将一个短语拆分为标记。小写分词器将在每个非字母处拆分一个短语，并将所有字母小写。

令牌过滤器用于过滤或转换某些令牌。例如，ASCII 折叠过滤器会将 ê、é、è 等字符转换为 e。

分析仪是所有这些的混合体。

您应该阅读[分析指南](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html)并查看您拥有的所有不同选项。

默认情况下，Elasticsearch 应用标准分析器。它将删除所有常见的英语单词（以及许多其他过滤器）

您还可以使用[分析 API](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html)来了解它的工作原理。很有用。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2015-01-16T04:12:00.577

中`Lucene`，分析器是分词器（拆分器）+词干分析器+停用词过滤器的组合

在`ElasticSearch`中，分析器是

1.  `Character filter`: 在标记化之前“整理”一个字符串，例如删除 HTML 标签
2.  `Tokenizer`：它用于将字符串分解为单独的术语或标记。必须只有 1 个。
3.  `Token filter`：更改、添加或删除令牌。Stemmer 是令牌过滤器的一个示例。它用于获取单词 eg 的基础，`happy`并且`happiness`两者具有相同的基础 is `happi`。

在此处查看[Snowball 演示](https://snowballstem.org/demo.html)

这是一个示例设置：

```
 {
      "settings":{
        "index" : {
            "analysis" : {
                "analyzer" : {
                    "analyzerWithSnowball" : {
                        "tokenizer" : "standard",
                        "filter" : ["standard", "lowercase", "englishSnowball"]
                    }
                },
                "filter" : {
                    "englishSnowball" : {
                        "type" : "snowball",
                        "language" : "english"
                    }
                }
            }
        }
      }
    } 
```

**参考：**

1.  [Lucene 分析器的比较](https://stackoverflow.com/questions/5483903/comparison-of-lucene-analyzers)
2.  [http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/custom-analyzers.html](http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/custom-analyzers.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-19T17:22:20.473

[这是github repo](https://github.com/johtani/elasticsearch-extended-analyze)上的一个很棒的插件。[它是Analyze API](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html)的某种扩展。在官方弹性插件[列表中](https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-plugins.html)找到它。

很棒的是，它在每一步之后都会显示具有所有属性的标记。有了这个，很容易调试分析器配置，看看为什么我们得到了这样的令牌，以及我们在哪里丢失了我们想要的令牌。

希望我早于今天找到它。多亏了这一点，我才发现为什么我的`keyword_repeat`令牌标记器似乎无法正常工作。问题是由下一个标记过滤器引起的：（`icu_transform`用于音译）不幸的是它不尊重关键字属性并转换了所有标记。如果不是这个插件，我不知道我还能如何找到原因。

# java - OSGi 声明式服务 (ds) 使用情况

> ID：12836643
> 
> 赞同：1
> 
> 时间：2012-10-11T09:41:48.977
> 
> 标签：java, eclipse, service, osgi, declarative

现在我尝试将我的 OSGi 应用程序的服务实现为 ds。

不幸的是，我无法弄清楚如何访问使用该服务。

我的服务如下所示：

```
public interface IService {
    public void foo(<T> bar);
} 
```

```
公共类 ServiceImpl 实现 IService {
    公共无效foo（酒吧）{
        ...
    }
}
```

```
<?xml version="1.0" encoding="UTF-8"?>
<scr:component xmlns:scr="http://www.osgi.org/xmlns/scr/v1.1.0" name="iservice">
   <implementation class="ServiceImpl"/>
   <service>
      <provide interface="IService"/>
   </service>
</scr:component> 
```

这就是我现在的情况。

但是我怎样才能访问该服务？

1.  我尝试了以下解决方案：http: [//it-republik.de/jaxenter/artikel/OSGi-in-kleinen-Dosen-Services-auf-deklarative-Weise-2340.html](http://it-republik.de/jaxenter/artikel/OSGi-in-kleinen-Dosen-Services-auf-deklarative-Weise-2340.html)

    但是eclipse找不到导入

    `ComponentContext`h**p://www.osgi.org/javadoc/r4v42/org/osgi/service/component/ComponentContext.html

2.  我还找到了这个解决方案：h**p://www.eclipsezone.com/eclipse/forums/t97690.rhtml

    但我有点失望，我必须包装每一个方法，我必须使用 Eclipse 特定的 api

    此解决方案存在相同的问题：[https](https://stackoverflow.com/a/11034485/1737519) ://stackoverflow.com/a/11034485/1737519尽管该示例使用 apache felix api 而不是 Eclipse api。

我想要做的就是访问/引用这样的服务：

```
Iservice s = ???;
s.foo(<T> bar); 
```

感谢您提前提供帮助！

PS sry 屏蔽链接，但我不能包含超过 2 个！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T23:37:04.310

这是使用您的服务的一种方式。我发明了一个虚构的计费组件，它需要调用你的`IService`. 我没有使用 XML，而是使用 bnd 注释，这更方便：

```
@Component
public class Billing {

    private IService service;

    @Reference
    public void setService(IService service) {
        this.service = service;
    }

    public void billCustomer() {
         // Do some stuff related to billing, whatever.

         // Blah blah blah

         // Now call the service, even though it wasn't real Java because
         // the <T> type parameter was unbound, but who cares...
         service.foo(bar);

         // Yay.
    } 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T13:09:19.420

它使用 org.apache.felix.shell.Command ，是服务将提供 osgi 控制台命令，在 org.apache.felix.shell.impl.Activator.ShellServiceImpl 将获得所有实现 org.apache.felix.shell 的服务。命令界面。所以当用户输入命令名时，ShellServiceImpl 会执行特殊服务。只要让服务客户知道接口，接口就是服务提供者和服务客户​​之间的契约。

希望，有用！

# java - 将子类或超类对象传递给方法（期望超类对象）

> ID：12836644
> 
> 赞同：0
> 
> 时间：2012-10-11T09:41:50.203
> 
> 标签：java, inheritance

我正在处理一些需要将超类或子类对象发送到方法的代码。

该方法`public void repair(Vehicle vehicle)`将仅访问超类对象中的方法。

```
public class Vehicle {
    //class stuff
}

public class Car extends Vehicle {
    //class stuff
}

public static void main(String[] args) 
{
    // do stuff to determine whether working with a vehicle or car
    if (someCondition)
    {
        Car = new Car();
        // do some stuff...
        repair(Car);
    }
    else
    {
        Vehicle = new Vehicle();
        // do some stuff...
        repair(Vehicle);
    }
} 
```

我想我有三个选择：

1.  保留代码原样，它似乎正在工作。- 我不喜欢这个选项，感觉就像我在做假设，我怀疑只有汽车的方法可能会被意外调用，从而导致意外行为。
2.  在 car 中创建一个 getVehicle() 方法，以返回一个 Vehicle。然后用`repair(Car.getVehicle());`——这个感觉好一点
3.  我相信改变`Car = new Car();`它`Vehicle = new Car();`会创建一个只能执行车辆类型方法的对象（车辆）。- 这感觉是最安全的，因为我现在正在限制可以做的事情，以防止意外行为。

考虑到维修方法只期待车辆，3，最好的方法是什么？

另外，我可以/应该对`public void repair(Vehicle vehicle)`方法声明做些什么吗？

编辑：看来我应该使用：

> 保留代码原样

因为该`repair()`方法无论如何都会将子类对象转换为超类对象。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T09:46:02.913

没有修理的定义，但我认为你想要这样的东西

```
public abstract class Vehicle {
    //class stuff
}

public class Car extends Vehicle {
   //class stuff
}

public class Garage {
   public void repair(Vehicle vehicle){
   ....
   }
} 
```

然后您可以将 Vehicle 的任何子类传递给 repair 方法。在这种情况下，它只是汽车，但您可以扩展到拥有自行车、摩托车等。

现在您将不需要使用 if 语句进行检查。您可以将您的对象（或 Car 或其他任何东西）传递给该`repair`方法。

你主要就变成了

```
public static void main(String[] args)  {
    Garage g = new Garage();
    Vehicle c = new Car();
    Vehicle b = new Bike(); //assuming Bike is a subclass of Vehicle.
    g.repair(c);
    g.repair(b);
} 
```

如果在访问变量 b 和 c 时您需要特定于 Car 和 Bike 的方法，那么您可以将它们的声明更改为

```
Car c = new Car();
Bike b = new Bike(); 
```

# java - 将特定于语言环境的字符串转换为 BigDecimal 的最佳方法

> ID：12836647
> 
> 赞同：43
> 
> 时间：2012-10-11T09:41:58.110
> 
> 标签：java, bigdecimal

我必须将格式化的德语语言环境转换`String`为`BigDecimal`. 但是，我正在努力寻找最佳解决方案。

以下代码显示了我的问题：

```
 String numberString = "2.105,88";

    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);
    try {
        Number parsed = nf.parse(numberString);
        BigDecimal bd1 = new BigDecimal(parsed.toString());
        System.out.println(bd1.toString());

        BigDecimal bd2 = new BigDecimal(parsed.doubleValue());
        System.out.println(bd2);

        BigDecimal bd3 = new BigDecimal(numberString);
        System.out.println(bd3);

    } catch (ParseException e) {
        e.printStackTrace();
    } 
```

这个的输出是

> 2105.88
> 
> 2105.8800000000001091393642127513885498046875
> 
> java.math.BigDecimal.(Unknown Source) at java.math.BigDecimal.(Unknown Source) at test.BigDecimalTest.main(BigDecimalTest.java:22) 的线程“main”java.lang.NumberFormatException 中的异常

`String`第一个输出是正确的，但是将 a 转换为 a `Number`（`Double`准确地说）然后再转换回 a`String`再转换为特定类型的`Number`,并没有真正意义`BigDecimal`。

第二个输出不正确，但可以通过设置`BigDecimal`. 然而，数字的数量并不总是已知的。

第三个输出显然不是我想要的。

我的问题：最好的方法是什么？有没有更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-10-12T00:54:57.250

似乎没有其他方法，因为`java.Lang.Number`没有返回`BigDecimal`类型的方法。无论如何，这是有道理的，因为`BigDecimal`只接受格式正确的字符串，不是 like`"2.105,88"`而是 like `"2105.88"`。

让我展示一下我的代码：

```
import java.math.BigDecimal;
import java.text.DecimalFormat;
import java.text.NumberFormat;
import java.text.ParseException;
import java.util.Locale;
public class JavaMain {
    public static void main(String[] args) {
        String numberString = "2.105,88";
        //using casting
        try {
            DecimalFormat df = (DecimalFormat) NumberFormat.getInstance(Locale.GERMAN);
            df.setParseBigDecimal(true);
            BigDecimal bd = (BigDecimal) df.parseObject(numberString);
            System.out.println(bd.toString());
        } catch (ParseException e) {
            e.printStackTrace();
        }
        //your way short version
        NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);
        try {
            BigDecimal bd1 = new BigDecimal(nf.parse(numberString).toString());
            System.out.println(bd1.toString());
        } catch (ParseException e) {
            e.printStackTrace();
        }
        String numberStringFixed = "2105.88";
        //direct string formatted
        System.out.println(new BigDecimal(numberStringFixed));;     
        //direct but erroneous way if the string is not formatted
        System.out.println(new BigDecimal(numberString));;

    }
} 
```

我希望这有帮助！

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2013-05-28T15:36:45.170

`DecimalFormat`有一个被调用的方法[`setParseBigDecimal`](http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html#setParseBigDecimal%28boolean%29)导致`parse()`返回一个`BigDecimal`. 您只需要转换返回的`Number`.

```
 String numberString = "2.105,88";

    NumberFormat nf = NumberFormat.getInstance(Locale.GERMAN);
    if (nf instanceof DecimalFormat) {
        DecimalFormat df = (DecimalFormat) nf;
        df.setParseBigDecimal(true);
        BigDecimal parsed = (BigDecimal) df.parse(numberString);

        System.out.println(parsed);
    } 
```

输出：

> 2105.88

`setParseBigDecimal`在 Java 1.5 中引入。

# html - 在 IE 9 上滚动 tbody 的问题（tbody 的高度 = 高度线）

> ID：12836651
> 
> 赞同：4
> 
> 时间：2012-10-11T09:42:25.077
> 
> 标签：html, css, scroll, html-table, internet-explorer-9

对不起我的英语不好，我希望你能明白我想说的话......

我正在尝试实现一个 HTML 表，它支持独立于表头滚动表体。

我发现以下问题对我有很大帮助： [如何独立于“thead”滚动表格的“tbody”？](https://stackoverflow.com/questions/8321849/how-to-scroll-tables-tbody-independent-of-thead)

我测试了以下代码，它可以在 Chrome (22)、Firefox (16) 和 Opera (12) 上正常运行：

**HTML：**

```
<table>
  <thead>
   <tr>
    <th>Title1</th>
    <th>Title2</th>
    <!-- ... -->
   </tr>
  </thead>
  <tbody>
   <tr>
     <td>...</td>
     <td>...</td>
     <!-- ... -->
   </tr>
   <!-- ... -->
  </tbody>
</table> 
```

**CSS：**

```
thead, tbody {
    display: block;
}

tbody {
    height:500px;
    overflow-y:auto;
    overflow-x:hidden;
}

thead {
    line-height: 20px;
} 
```

所以它适用于除 IE 9 之外的主要浏览器，在 IE 上，我有一些问题：

*   tbody 的高度未定义（所以我没有任何滚动条）
*   每个都有 500px 的高度（其他浏览器上的 tbody 高度）

以下两个示例具有完全相同的问题：http: [//jsfiddle.net/nyCKE/2/，http](http://www.imaputz.com/cssStuff/bigFourVersion.html) [:](http://jsfiddle.net/nyCKE/2/) //www.imaputz.com/cssStuff/bigFourVersion.html

我看到了以下问题（和答案），但对我没有帮助：[IE9 + css : problem with fixed header table](https://stackoverflow.com/questions/6903498/ie9-css-problem-with-fixed-header-table)

所以我确定这个错误来自 IE，但我不知道如何在不改变我的 HTML 结构的情况下修复它。

有人知道吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T09:58:10.117

我稍微尝试过修复它。希望它能给一些想法

HTML

```
<div class="wrap">
    <div class="inner">
        <table>
            <thead><tr>
                <th><p>Problem</p></th>
                <th><p>Solution</p></th>
        </tr>               
            </thead>            
            <tbody>              
            </tbody>
        </table>
    </div>
</div>​ 
```

CSS

```
p {margin:0 0 1em}
table p {margin :0}
.wrap {
    margin:50px 0 0 2%;
    float:left;
    position:relative;
    height:200px;
    overflow:hidden;
    padding:25px 0 0;
    border:1px solid #000;
width:150px
}
.inner {
    padding:0 ; 
    height:200px;
    overflow:auto;
}    
table {  margin:0 0 0 -1px; border-collapse:collapse; width:130px}
td {
    padding:5px;
    border:1px solid #000;
    text-align:center;    
}
thead th {
    font-weight:bold;
    text-align:center;
    border:1px solid #000;
    padding:0 ;    
    color:#000;
}
thead th {border:none;}
thead tr p {  position:absolute;   top:0;    }
.last { padding-right:15px!important; }​ 
```

演示[http://jsfiddle.net/nyCKE/272/](http://jsfiddle.net/nyCKE/272/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-11T15:27:02.720

这是一个较短的答案，允许您在 ie9 中滚动带有固定标题的表格。

在表格周围添加条件 div

```
<!--[if lte IE 9]>
<div class="old_ie_wrapper">
<!--<![endif]-->
<table>
...
<!--[if lte IE 9]>
</div>
<!--<![endif]--> 
```

为ie9添加以下样式

```
 .old_ie_wrapper {
        height: 500px;
        overflow: auto;
    }

        .old_ie_wrapper tbody {
            height: auto;
        }

        .old_ie_wrapper thead tr {
            position: absolute;
        }

        .old_ie_wrapper tbody tr:first-child {
            height: 67px;
            vertical-align: bottom;
        } 
```

您将不得不根据您的表格调整高度和可能的其他属性。

# log4net - 命名空间“log4net”中不存在类型或命名空间名称“ThreadContext”

> ID：12836653
> 
> 赞同：0
> 
> 时间：2012-10-11T09:42:25.673
> 
> 标签：log4net, sitecore

我正在尝试使用以下代码行将属性传递给 log4net appender：

```
log4net.ThreadContext.Properties["LogName"] = processID.ToString(); 
```

但是，当我编译时，我不断收到错误*命名空间“log4net”中不存在类型或命名空间名称“ThreadContext”*

我正在“使用”log4net，并且在项目的引用中包含了 Sitecore.Logging DLL。该项目正在使用 Log4net，记录器和附加程序都可以正常工作。唯一的问题是，当我在代码中键入 log4net 并键入“.”时，智能感知不会对*GlobalContent*或*ThreadContent*进行任何引用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:37:24.193

似乎 Sitecore 在他们的 Sitecore.Logging 中使用了旧版本的 log4net，因为那里没有 ThreadContext 类，或者他们从他们的实现中删除了它。据我所知，他们使用 1.2.0 版。

# ubuntu - 如何在 ubuntu 中完全删除 open-jdk？

> ID：12836666
> 
> 赞同：13
> 
> 时间：2012-10-11T09:43:01.177
> 
> 标签：ubuntu, openjdk

我已经安装了 oracle-jdk，所以想完全删除 openjdk 以确保每个基于 java 的应用程序都将使用 oracle jdk，但是当我尝试运行“sudo apt-get remove openjdk-6- *”时，ubuntu 将删除 openjdk-6 但是尝试*同时自动安装 openjdk-7-。那么，如何删除openjdk-6和停止ubuntu同时安装openjdk-7。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-11T09:46:27.847

`update-alternatives`可以很好地切换默认的 Java 版本，以防万一您不知道它：

```
$ sudo update-alternatives --config java
There are 2 choices for the alternative java (providing /usr/bin/java).

  Selection    Path                                            Priority   Status
------------------------------------------------------------
  0            /usr/lib/jvm/java-7-oracle/jre/bin/java          1071      auto mode
  1            /usr/lib/jvm/java-6-openjdk-amd64/jre/bin/java   1061      manual mode
* 2            /usr/lib/jvm/java-7-oracle/bin/java              1065      manual mode
  3            /usr/lib/jvm/java-7-oracle/jre/bin/java          1071      manual mode

Press enter to keep the current choice[*], or type selection number: 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-13T04:51:02.340

最后，我得到了一个解决方案：断开互联网，然后删除，它完全删除

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-03T00:32:11.577

您可以在关闭互联网时尝试此操作。

```
sudo apt-get purge openjdk-6-jre openjdk-6-jdk icedtea icedtea6 
```

您可能需要在卸载前查看替代方案以切换程序。

```
sudo apt-get install galternatives 
```

# javascript - 多个DropDownLists Jquery

> ID：12836669
> 
> 赞同：0
> 
> 时间：2012-10-11T09:43:08.900
> 
> 标签：javascript, jquery, html

有没有一种方法可以制作包含一些项目的选择菜单，当您单击其中一个项目时，会打开另一个列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:48:21.270

您可能想使用多级菜单？

您可以使用外部库，例如：[http ://www.egrappler.com/multi-level-hierarchical-jquery-menu-jqsimplemenu/](http://www.egrappler.com/multi-level-hierarchical-jquery-menu-jqsimplemenu/)

# ruby-on-rails - 工厂女孩：可以重新打开工厂定义并完成它们吗？

> ID：12836677
> 
> 赞同：8
> 
> 时间：2012-10-11T09:43:35.410
> 
> 标签：ruby-on-rails, unit-testing, rspec, factory-bot

嗨有这个特殊的用例，我必须在一个文件中定义一个没有特定参数的工厂，然后稍后将它插入到工厂定义中。这是我从外部依赖项（gem、插件、whtv）导入工厂定义的情况，我需要在我的项目中扩展它。就像是：

```
# external def
FactoryGirl.define do
  factory :user do
    email "somebody@somebodysworld.com"
  end
end

# proj def
FactoryGirl.define do
  factory :user do
    password "qwerty"
  end
end 
```

此代码不起作用，因为工厂女孩认为我正在重新定义工厂。但我真正想要的是扩展它。这可能吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-11T10:03:01.100

Ups...似乎我找到了答案。下次，必须进一步检查文档......这是任何感兴趣的人的答案：

```
# external def
FactoryGirl.define do
 factory :user do
   email "somebody@somebodysworld.com"
 end
end

# proj def
FactoryGirl.modify do
  factory :user do
    password "qwerty"
  end
end 
```

# css - CSS溢出不起作用

> ID：12836680
> 
> 赞同：0
> 
> 时间：2012-10-11T09:43:43.280
> 
> 标签：css, overflow

我不明白为什么 div 中的简单溢出不起作用。

```
<html>
<head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<style type="text/css">
.ename {width:400px;overflow:hidden;padding:0 5px 0 5px;color:#EE3129;line-height:25px;text-transform:uppercase;}
</style>
</head>
<body>
<div class="ename"> qksdjlqjsdkqsd qksdjlkqsjdklqsjd qsdkjqslkdjkqsjdklqsjd sdkqsjdkqsjdkqjsdkqd qdlkjqsdkjqskdjkqlsjdkqs qsdkjqskdj </div>
</body>
</html> 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T09:46:39.143

文本将始终在溢出之前换行。您的页面按预期运行。如果您希望它始终坚持一条线，您将需要`white-space: nowrap`.

[http://jsfiddle.net/Tc2wA/](http://jsfiddle.net/Tc2wA/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T09:47:01.293

### 使用`white-space: nowrap;`CSS

如果您想将文本放在一行中并且不应该出现，则需要使用`white-space: nowrap;`CSS。

### 代码

```
<html>
<head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type">
<style type="text/css">
  .ename {width:400px;overflow:hidden;padding:0 5px 0 5px;color:#EE3129;line-height:25px;text-transform:uppercase; white-space: nowrap;}
</style>
</head>
<body>
<div class="ename"> qksdjlqjsdkqsd qksdjlkqsjdklqsjd qsdkjqslkdjkqsjdklqsjd sdkqsjdkqsjdkqjsdkqd qdlkjqsdkjqskdjkqlsjdkqs qsdkjqskdj </div>
</body>
</html> 
```

这会以这种方式显示您的输出：

![无包装](../Images/ebb99fe9d3c02c920fc54aecff9e7fbb.png)

### 演示：http: [//jsbin.com/ocacuw/1](http://jsbin.com/ocacuw/1)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-11T09:46:08.580

设置`height`你想要的

```
.ename {width:400px;
overflow:hidden;
padding:0 5px 0 5px;
color:#EE3129;
line-height:25px;
text-transform:uppercase;
height: 58px;} 
```

演示：[小提琴](http://jsfiddle.net/fNTWK/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T09:46:59.663

中的文本`div`不会溢出，因为它可以简单地换行和扩展`div`s 高度。如果添加`white-space: nowrap;`到 css 中，您会看到文本溢出。

或者，如果您希望文本在某种程度上换行，只需`height: 20px;`在样式中添加或任何高度值。

# javascript - 使用 Javascript 滑动手势：实时将滑动位置转换为元素位置？

> ID：12836682
> 
> 赞同：3
> 
> 时间：2012-10-11T09:43:57.563
> 
> 标签：javascript, web-applications, mobile, gesture, zepto

我将[Zepto.js](http://zeptojs.com/)用于移动 Web 应用程序。Zepto 带有方便的方法，例如`swipe`,`swipeLeft`和`swipeRight`.

例如：`swipeLeft`向左滑动**完成后**触发手势。至少我是这么看的。

是否可以通过此滑动手势使用实时值更新元素的位置。

因此，当我在文档上缓慢向左滑动时，我想`div.layer`与我一起缓慢移动。当达到临界点时，`layer`应该捕捉到预定义的位置。

这是否可能以某种方式。如果 Zepto 无法实现，我会选择不同的框架。

* * *

**我现在拥有的**

*HTML*

```
<div class="page-wrap">

    <section class="layer" id="one">

    </section>

    <section class="layer" id="two">

    </section>

</div> 
```

*CSS*

```
.page-wrap {
    position:relative;
    width:100%;
    height:100%;
}

.page-wrap .layer {
    width:100%;
    height:100%;    
    position:absolute;
    top:0;
}   

.page-wrap #one {
    background:red;
}

.page-wrap #two {
    left:-100%;
    background:green;
} 
```

*JS*

```
$(document).ready(function() {  
    $('#two').swipeRight(function(e) {
        showInfos(true);
    });

    $('#one').swipeLeft(function(e) {
        showInfos(false);
    });
});

function showInfos(show) {
    $("#two").animate({
        left: show?'0':'-100%'
    }, 200, 'ease-out');
} 
```

这行得通！位于`.layer#two`可见视口之外。向右滑动时`.layer#one`，`.layer#two`从左侧滑入。向左滑动时，将向左`.layer#two`滑`.layer#two`回。

这正是我希望我的应用程序做的事情。这种模式是众所周知的，很多应用程序都使用这种 UI 模式。

然而，我想要它做的是表现得好像它是手机上的本机应用程序，当手指沿着`.layer`s滑动时， `.layer`s 会更新它们相对于用户手指的位置。`swipe`所以我不希望动画在手势完成后生效。我希望在刷卡`position`时`.layer#two`实时更新。

也许你想在某个地方进行现场测试。我在[jsfiddle](http://jsfiddle.net/SrpXR/)上提供了上面的片段。

我真的很感激这方面的一些帮助。或提示和技巧。我想我可能不是唯一对这样的事情感兴趣的人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:44:02.643

考虑使用您自己的触摸事件处理程序：http: [//www.html5rocks.com/en/mobile/touch/](http://www.html5rocks.com/en/mobile/touch/)

从该页面拖动 div 的示例：

```
var obj = document.getElementById('id');
obj.addEventListener('touchmove', function(event) {
  // If there's exactly one finger inside this element
  if (event.targetTouches.length == 1) {
    var touch = event.targetTouches[0];
    // Place element where the finger is
    obj.style.left = touch.pageX + 'px';
    obj.style.top = touch.pageY + 'px';
  }
}, false); 
```

如果您将其更新为仅更改 x 坐标，那么您应该差不多完成了。

# delphi - TCppWebBrowser 与 TWebBrowser

> ID：12836683
> 
> 赞同：5
> 
> 时间：2012-10-11T09:44:10.287
> 
> 标签：delphi, c++builder, vcl, twebbrowser

C++Builder 2010及以上版本`TCppWebBrowser`和组件有什么区别？`TWebBrowser`帮助中没有提及`TCppWebBrowser`，其中`TWebBrowser`有常规帮助部分。

那么，我应该使用哪一个，有什么真正的区别吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T20:30:48.727

`TWebBrowser`在Delphi`TCppWebBrowser`中使用，在C++中使用。它们本质上是一样的。

# java - 如何在 Jboss 7 中部署 jboss seam 2.1.2

> ID：12836688
> 
> 赞同：0
> 
> 时间：2012-10-11T09:44:25.617
> 
> 标签：java, jboss, seam, jboss7.x, seam2

> 现在我使用 Jboss-seam 2.1.2、jsf 2.0、richfaces 和 jpa 直到现在我使用 jboss-as 4.2.2 现在我想迁移 jboss-as-7.1.1.Final。
> 
> 所以现在我使用 jboss-seam 2.1.2 使用 seam-gen 制作 sampleDemo 项目并在 jboss 7 中部署
> 
> 最后我在 jboss 7 中遇到了一个问题，它不允许
> 
> ```
>  <jta-data-source>sampleDemoDatasource</jta-data-source> its not allow in jboss7 changed to 
> ```

持久性.xml

```
 <persistence xmlns="http://java.sun.com/xml/ns/persistence" 
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://java.sun.com/xml/ns/persistence>
              <persistence-unit name="sampleDemo" transaction-type="JTA">
   <provider>org.hibernate.ejb.HibernatePersistence</provider>
   <jta-data-source>java:/sampleDemoDatasource</jta-data-source>
   <properties>
      <property name="hibernate.dialect" value="org.hibernate.dialect.OracleDialect"/>
      <property name="hibernate.hbm2ddl.auto" value="update"/>
      <property name="hibernate.show_sql" value="true"/>
      <property name="hibernate.format_sql" value="true"/>
      <property name="hibernate.default_schema" value="-"/>
      <!-- Only relevant if Seam is loading the persistence unit (Java SE bootstrap) -->
      <property name="hibernate.transaction.manager_lookup_class"     value="@transactionManagerLookupClass@"/>
  </properties>    
  </persistence-unit>
  </persistence> 
```

独立的.xml

> ```
>  <subsystem xmlns="urn:jboss:domain:datasources:1.0">
>         <datasources>
>             <datasource jta="true" jndi-name="java:/sampleDemoDatasource"
>                      pool-name="sampleDemoDatasource" enabled="true"
>                 use-java-context="true" use-ccm="true">
>                 <connection-url>jdbc:oracle:thin:@localhost:1521:mobee</connection-url>
>                 <driver>oracle</driver>
>                 <security>
>                     <user-name>manam</user-name>
>                     <password>manam</password>
>                 </security>
>             </datasource>
>             <drivers>
>                 <driver name="oracle" module="com.oracle.db">
>                     <xa-datasource-class>oracle.jdbc.driver.OracleDriver</xa-datasource-class>
>                 </driver>
>             </drivers>
>         </datasources>
>     </subsystem> 
> ```

得到错误是

> 监听 /127.0.0.1:9999 12:08:10,257 INFO [org.jboss.as.remoting]（MSC 服务线程 1-2）JBAS017100：监听 /127.0.0.1:4447 12:08:10,381 INFO [org. apache.coyote.http11.Http11Protocol]（MSC 服务线程 1-2）启动 Coyote HTTP/1.1 12:08:10,690 INFO [org.jboss.as.controller]（控制器引导线程）​​JBAS014774：服务状态报告 JBAS014775：新缺失/unsatisfied 依赖项：服务 jboss.jdbc-driver.oracle（缺少）依赖项：[service jboss.data -source.java:/sampleDemoDatasource]
> 
> 12:08:10,919 INFO [org.jboss.as.server.deployment]（MSC 服务线程 1-4）JBA S015876：开始部署“login.page.xml” 12:08:11,075 INFO [org.jboss.as ]（MSC 服务线程 1-4）JBAS015951：管理控制台监听 12:08:11,080 错误 [org.jboss.as]（MSC 服务线程 1-4）JBAS015875：JBoss AS 7.1.1.Final “Brontes”开始（有错误）在 4401 毫秒内 - 启动了 229 个服务中的 150 个（2 个服务失败或缺少依赖项，76 个服务是被动的或按需的）12:08:11,210 INFO [org.jboss.as.server]（DeploymentScanner-threads - 2）JBAS018 559：部署“login.page.xml”
> 
> IN seam项目login.page.xml位于/view/login.page.xml

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:07:44.877

module="com.oracle.db" 看起来不对。这与 JBOSS_HOME/modules/ 的路径相同，您可能会遇到 JBOSS_HOME/modules/oracle/jdbc/main。如果是这种情况，模块应该是 oracle.jdbc。

# zend-framework2 - 在 ZF2 中，如何编写一个同时用于 Controller 和 View 的 Plugin？

> ID：12836694
> 
> 赞同：1
> 
> 时间：2012-10-11T09:44:34.733
> 
> 标签：zend-framework2

在我的 ZF2 应用程序中，我正在尝试编写一个插件来提供 PHP 日期实用程序的包装器。我计划这个插件将有 api 来初始化、转换和检索日期值。

我知道如何通过扩展为 Controller 编写插件

> Zend\Mvc\Controller\Plugin\AbstractPlugin 类

并且还知道通过扩展为 View 编写插件很热门

> Zend\View\Helper\AbstractHelper 类。

但是我们如何编写一个在 Controller 和 View 中都可以使用的插件呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T11:50:06.693

我会编写一个可以从 ServiceManager 检索的类（工厂或可调用），并让两种插件类型都访问这个类。这允许您将逻辑和功能保留在单个类中，Zend Navigation 采用类似的方法，将导航数据存储在助手之间共享的工厂类中。

一个非常 hacky 的替代方法是创建一个控制器插件，然后通过控制器插件管理器请求您的控制器插件，该控制器插件管理器可从 ServiceManager 获得。当然 View 插件需要`ServiceManagerAwareInterface`访问 ServiceManager。

```
$plugin = $this->getServiceManager()->get('ControllerPluginManager')->get('myplugin'); 
```

然后将`__invoke()`参数传递给插件。虽然这是可行的，但第一种方法要好得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:43:17.843

你不能。正如您所说的那样，控制器插件和视图助手扩展了不同的类，这使得它们彼此不兼容。

此外，将控制器插件与视图助手混合使用也没有什么意义，因为它们都实现了完全不同的目的。控制器插件用于执行业务逻辑的常用部分，视图助手提供可重用的视图逻辑。

我建议创建一个能够进行日期转换（或任何您需要的）的类，并创建一个原子视图助手以所需格式呈现日期（使用此类）。但是，我不一定要为此创建控制器插件，因为您可以使用服务管理器轻松检索此类的实例。

注意：我认为我的回答相当笼统——我并没有真正考虑到你到底想要做什么（换句话说：我没有考虑为 Date 函数创建一个包装器是否有意义）。如果我的回答不适合您的问题，请随时更详细地说明您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-12T01:51:05.187

如果您使用的是 php 5.4，请考虑创建一个在插件和视图助手中使用的特征。

# forms - Symfony2：动态搜索表单

> ID：12836699
> 
> 赞同：1
> 
> 时间：2012-10-11T09:44:57.540
> 
> 标签：forms, symfony

我尝试制作一个可供许多实体使用的动态搜索表单。一切正常，但我需要测试所有字段以检查类型和他的标准：text => LIKE，choice => EQ，choice => IN (multiple =true)...你有什么想法吗？谢谢...

```
public function search($Type, $search, $container)
{
    $repository = $container->getDoctrine()->getRepository('prodCMDBBundle:'.$Type);

    $queryBuilder = $repository->createQueryBuilder('a');
    $queryBuilder->join('a.customers', 'p');

    foreach ($search['docs'] as $field => $value) {

        if ($repository->getClassMetadata('prodCMDBBundle:'.$Type)->hasField($field) && $value) {
            // ******** ??? Check my field type ??? ******/
            $queryBuilder ->andWhere($queryBuilder->expr()->eq('a.'.$field, ':a_'.$field))->setParameter('a_'.$field, $value);
        }
    }

    return $queryBuilder->getQuery();
} 
```

# python - 如何通过Python启动win32服务

> ID：12836703
> 
> 赞同：0
> 
> 时间：2012-10-11T09:45:11.010
> 
> 标签：python, pywin32

我必须将我的 python 脚本作为 win32 服务运行，如下所示：

# 服务.py

```
import win32service
import win32serviceutil
import win32api
import win32con
import win32event
import win32evtlogutil
import os

class aservice(win32serviceutil.ServiceFramework):

   _svc_name_ = "aservice"
   _svc_display_name_ = "a service - it does nothing"
   _svc_description_ = "Tests Python service framework by receiving and echoing messages over a named pipe"

   def __init__(self, args):
           win32serviceutil.ServiceFramework.__init__(self, args)
           self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)           

   def SvcStop(self):
           self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)
           win32event.SetEvent(self.hWaitStop)                    

   def SvcDoRun(self):
      import servicemanager      
      servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE,servicemanager.PYS_SERVICE_STARTED,(self._svc_name_, '')) 

      self.timeout = 3000
      from cron.realtimemonitorschedule import startMonitor
      startMonitor()
      while 1:
         # Wait for service stop signal, if I timeout, loop again
         rc = win32event.WaitForSingleObject(self.hWaitStop, self.timeout)
         # Check to see if self.hWaitStop happened
         if rc == win32event.WAIT_OBJECT_0:
            # Stop signal encountered
            servicemanager.LogInfoMsg("aservice - STOPPED")
            break
         else:
            servicemanager.LogInfoMsg("aservice - is alive and well")   

def ctrlHandler(ctrlType):
   return True

if __name__ == '__main__':   
   win32api.SetConsoleCtrlHandler(ctrlHandler, True)   
   win32serviceutil.HandleCommandLine(aservice) 
```

我可以成功安装服务，但是当我启动服务时，它会提示错误如下：

```
from cron.realtimemonitorschedule import startMonitor
ImportError: No module named cron.realtimemonitorschedule 
```

请注意，cron.realtimemonitorschedule 是在 realtimemonitorschedule.py 中定义的，我的问题是如何从 win32 服务调用我的脚本？我无法在上面的 aservice.py 中嵌入我的脚本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:32:56.600

我试图弄清楚，我需要让 Python 找到我的模块。通过将路径设置为 PYTHONPATH 或将整个模块复制到 PYTHON_HOME 文件夹，后者仅用于测试。

# c++ - 是否可以根据完整的模板参数构造成员数组的元素？

> ID：12836708
> 
> 赞同：5
> 
> 时间：2012-10-11T09:45:35.243
> 
> 标签：c++, templates, c++11

认为：

```
template<class T,int N>
struct A {
  A(): /* here */ {}

  T F[N];
}; 
```

我需要`F[]`用 构建的元素`{0,1,2,...,N-1}`。如果可能的话，我想避免递归定义模板结构，将最后一级定义为`template<class T> struct A<T,0>`并做一些复杂的模板技巧。C++11 初始化列表有帮助吗？

这类似于[具有值列表的模板数组初始化](https://stackoverflow.com/questions/5375597/template-array-initialization-with-a-list-of-values)，但它不构造具有递增值的元素。它稍后在运行时循环中设置它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T10:05:25.373

您可以使用可变参数值模板和构造函数委托来做到这一点：

```
template<int... I> struct index {
    template<int n> using append = index<I..., n>; };
template<int N> struct make_index { typedef typename
    make_index<N - 1>::type::template append<N - 1> type; };
template<> struct make_index<0> { typedef index<> type; };
template<int N> using indexer = typename make_index<N>::type;

template<class T, int N>
struct A {
  template<T...I> A(index<I...>): F{I...} {}

  A(): A(indexer<N>{}) {}

  T F[N];
}; 
```

这使用了[Calling a function for each variadic template argument and an array中的序列包生成器](https://stackoverflow.com/questions/12030538/c11-calling-a-function-for-each-variadic-template-argument-and-an-array?lq=1)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T09:55:56.847

假设某种[索引](https://stackoverflow.com/a/7858971/726300)解决方案可用：

```
A(): A(make_indices<N>()) {}

// really a private constructor
template<int... Indices>
explicit A(indices<Indices...>)
    // Can be an arbitrary expression or computation, too, like
    // (Indices + 3)...
    : F {{ Indices... }}
{} 
```

如果您的编译器不支持委托构造函数，则一种选择是切换到`std::array<T, N>`并使用返回初始化数组的私有静态助手，这样默认构造函数将变为：

```
A(): F(helper(make_indices<N>())) {} 
```

这当然会导致额外的（移动）构造。

# asp.net-mvc - 如何在asp.net mvc3中为特定页面编写css

> ID：12836712
> 
> 赞同：3
> 
> 时间：2012-10-11T09:45:51.773
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor

> **可能重复：**
> [如何在剃刀视图上引用 .css 文件？](https://stackoverflow.com/questions/5021552/how-to-reference-a-css-file-on-a-razor-view)

如何在 asp.net mvc3 视图中添加页面特定 css 但我不想添加

标题中页面的css，**还有其他解决方案吗？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T09:49:18.010

你可以在你的定义一个部分`_Layout.cshtml`：

```
<head>
    ...
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    @RenderSection("styles", false)
    ...
</head> 
```

然后在您的视图中覆盖此部分以包含给定视图的特定 CSS：

```
@section styles {
    <link href="@Url.Content("~/Content/index.css")" rel="stylesheet" type="text/css" />
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:50:31.057

使用 jquery 你可以做到。

```
var cssselection;
if(x)
  cssselection=default.css
 else
   cssselection=first.css

$(function() {
   $('link').first().attr('href', cssselection);
}); 
```

# xml - XML 验证中的 s4s-elt-invalid-content.1

> ID：12836715
> 
> 赞同：0
> 
> 时间：2012-10-11T09:45:56.053
> 
> 标签：xml, eclipse, validation, xsd

我是 XML 的新手。

我正在验证一个 XML/XSD 文件。但是 Eclipse 抛出低于验证错误

> s4s-elt-invalid-content.1

这是在 XSD 中出现问题的代码。

```
<complexType name="Check_String">
    <complexContent >
        <extension base="tns:Boolean"/>
    </complexContent>
    <complexContent >
        <extension base="tns:String"/>
    </complexContent>
</complexType> 
```

我不知道如何解决这个问题。任何人都可以解释为什么会出现此错误和解决方法。由于这种 XML 验证失败

```
 <attribute name="Reset password Call Barring"  xsi:type="tns:Check_String"  nillable="true" vdsl2Name="PSWD">
            <conditions when="BADPAYER_DisableAllForPSTN" enabled="false"/>
 </attribute> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T16:27:35.290

复杂类型的内容模型必须包含“注释”（如果存在）；后跟零或以下之一：“simpleContent”、“complexContent”、“group”、“choice”、“sequence”或“all”；后跟零个或多个“属性”或“属性组”；后跟零个或一个“anyAttribute”。

在这里你展示**了两个** `complexContent`.

我假设在您的情况下，默认命名空间是**http://www.w3.org/2001/XMLSchema**

很难说你想要达到什么目标；如果这些是简单的类型，那么如果你试图同时允许这两种类型，那么联合可能会帮助你......

更新：这是一个联合的例子：

```
<?xml version="1.0" encoding="utf-8" ?>
<!--XML Schema generated by QTAssistant/XML Schema Refactoring (XSR) Module (http://www.paschidev.com)-->
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <xsd:simpleType name="Boolean">
        <xsd:restriction base="xsd:boolean"/>
    </xsd:simpleType>
    <xsd:simpleType name="String">
        <xsd:restriction base="xsd:string">
            <xsd:enumeration value="some"/>
        </xsd:restriction>
    </xsd:simpleType>
    <xsd:simpleType name="Check_String">
        <xsd:union memberTypes="Boolean String"/>
    </xsd:simpleType>
    <xsd:element name="root" type="Check_String"/>
</xsd:schema> 
```

# asp.net-mvc - 路由参数的默认值可以是另一个路由参数的值吗？

> ID：12836716
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:01.447
> 
> 标签：asp.net-mvc, asp.net-mvc-routing

是否可以将路由参数的默认值设为路由中的另一个值？

例如：

```
routes.MapRoute(null,
    "{controller}/{action}/{parentid}/{currentid}",
    new { controller = "Home", action = "Display", currentid = "{parentid}" }
); 
```

`parentid`是强制性的，并且总是有价值的。如果没有为我指定值，`currentid`我希望它取`parentid`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:03:18.553

我不知道此功能是否支持开箱即用，但您始终可以编写自定义路由来实现它：

```
public class MyRoute : Route
{
    public MyRoute() :
        base(
            "{controller}/{action}/{parentid}/{currentid}",
            new RouteValueDictionary(new
            {
                controller = "home",
                action = "display",
                currentid = UrlParameter.Optional
            }),
            new RouteValueDictionary(new
            {
                // adjust the constraint if your ids are not numeric
                // but you must have a constraint when a route parameter is
                // non optional unless this is the last parameter
                parentid = @"^([0-9])+$"
            }),
            new MvcRouteHandler()
    )
    {
    }

    public override RouteData GetRouteData(HttpContextBase httpContext)
    {
        var rd = base.GetRouteData(httpContext);
        if (rd == null)
        {
            return null;
        }

        var currentid = rd.Values["currentid"] as string;
        if (!string.IsNullOrEmpty(currentid))
        {
            return rd;
        }

        rd.Values["currentid"] = rd.Values["parentid"];
        return rd;
    }
} 
```

然后注册这条路线：

```
public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

    routes.Add("myroute", new MyRoute());
} 
```

现在假设您已经定义了以下控制器：

```
public class HomeController : Controller
{
    public ActionResult Display(int parentid, int currentid)
    {
        return Content(string.Format("{0}, {1}", parentid, currentid));
    }
} 
```

您可以通过以下方式请求：

*   `/home/display/123`-> parentid=123 和 currentid=123
*   `/home/display/123/456`-> parentid=123 和 currentid=456

# java - 在java中使用返回值作为参数

> ID：12836719
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:06.550
> 
> 标签：java, parameters, return

如果我想使用方法 A 的返回值作为 java 中方法 B 的参数，我该怎么做呢？例如，方法 A 返回今天是晴天还是阴天，而方法 B 则查找该月中晴天的百分比。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:19:59.310

试试这个方法...

```
public void chkIt(doIt()){

   System.out.println(doIt());  // But then you will unnecessarily call it twice.

}

public boolean doIt(){

  return true;

} 
```

# c# - 处置其父母时如何避免子形式处置？

> ID：12836724
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:11.837
> 
> 标签：c#, winforms

我有两个表单Form1和Form2，这是创建form1后创建form2的代码

```
F2=new Form2();
F2.Dock = DockStyle.Fill;
F2.TopLevel = false;
F2.Parent = F1;//setting the parent of form1 to be form1 
```

另外，我希望在我的应用程序中只有一个 Form2 对象，但父级发生了变化，因此 F1 可以被释放并将 F2 父级设置为 Form1 类型的其他对象。现在当我处置F1时，处置F2时如何避免处置F1时处置F2？有没有办法从孩子那里得到 onparentdispose 事件然后改变它的父母呢？ ![在此处输入图像描述](../Images/b4bdcd78f7548ae209103501ef9aaeb1.png)

**编辑：**

我只想要每个红色表格的绿色表格，但蓝色表格的布局会发生变化，因此它会被处理掉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:19:14.703

您可以使用全局静态变量来指向 Form2 的实例。例如：

```
public class Globals
{
    public static Form2 form2;
} 
```

当您创建 Form2 对象时，将其分配给 Globals.Form2 变量。

```
F2=new Form2();
F2.Dock = DockStyle.Fill;
F2.TopLevel = false;
F2.Parent = F1;//setting the parent of form1 to be form1
Globals.form2 = F2; // Save it to an global variable 
```

然后，在您的 Form1 的 FormClosing 事件处理程序中，将 Gloabls.Form2.Parent 属性设置为另一个表单对象（例如您的主表单）或 null。这样，当 Form1 被释放时，您的 Form2 对象将保持活动状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T12:25:42.807

您可以在事件中获取 F1 的子表单`FormClosing`并将其父表单设置为另一个表单：

```
private void Form1_FormClosing(object sender, FormClosingEventArgs e)
{
    foreach (Form frm in this.Controls.OfType<Form>())
    {
        frm.Parent = Application.OpenForms.OfType<Form1>().First(f => f.Tag == "Foo");
    }
} 
```

更改`.First(f => f.Tag == "Foo")`为查找另一个 F1 实例的所需方式！

# xcode - 如何获取具有 webview 的 customCell 的索引路径？

> ID：12836726
> 
> 赞同：1
> 
> 时间：2012-10-11T09:46:15.853
> 
> 标签：xcode, ipad, ios4, iostream

我在tableview的customcell中使用webView，webView覆盖了customcell的总面积。当我单击自定义单元格中的 Web 视图时，我无法获取索引路径。我已经完成了didSelectRosAtIndexPath等基本编码。

谁能告诉我当我点击单元格时如何获取一行的索引路径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:58:41.580

你试过了`- (NSIndexPath *)indexPathForCell:(UITableViewCell *)cell`吗？

# extjs - extjs 和 Win8 以及 AppStore 和 Win JS？

> ID：12836727
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:25.523
> 
> 标签：extjs

我可以同时使用 extjs 和 WinJS 来创建一个 Win8 应用程序吗？

“用 JavaScript 编写的应用程序当然可以使用 jQuery、Modernizer、Dojo、prototype.js、Box2D 等，但需要注意的是某些功能，尤其是 UI 和脚本注入，可能不受支持。”

什么是 UI 警告？:-)

刚刚发现“应用程序主机或多或少是没有浏览器 chrome 的 Internet Explorer 10”……这听起来并不乐观，对吧？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:16:10.060

我认为更大的问题可能是您是否会通过 win8 应用程序审批流程获得用 ExtJS 编写的应用程序。

MS 试图推广的设计范例并不能很好地映射到开箱即用的 Ext 组件上。

您必须做大量的工作才能遵守设计建议，而且我预计 Ext 的一些布局管理器位和 WinJS 的布局管理器之间可能存在冲突（尽管可能是错误的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:54:36.687

上下文警告您可能不支持某些用户界面功能。您可以将这两个库用于您的应用程序。

编辑您的编辑：Windows 再次尝试不同的东西。

# c++ - 通过 TBB 库创建线程

> ID：12836729
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:29.733
> 
> 标签：c++, multithreading, visual-studio-2008, tbb

我有这样的代码：

```
 #include <iostream>
    #include <tbb/tbb.h>
    #include <Windows.h>

    bool MyThread(int something)
    {
        std::cout << "This is a thread function\n" << std::endl;

        for (int i = 0; i < 10000; i++)
        {
            something++;
            Sleep(1);
        }

        return true;
    }

    int main ()
    {
        tbb::tbb_thread pMyThread = tbb::tbb_thread(MyThread, 3);

        pMyThread.join();

        return 0;
    } 
```

但是，如果我在 VS 2008 中编译它，它会显示：错误 C2248：'tbb::internal::tbb_thread_v3::tbb_thread_v3'：无法访问在类 'tbb::internal::tbb_thread_v3' 中声明的私有成员

对于 main() 函数的第一个字符串。我哪里错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T17:02:42.803

这很可能在不应该调用复制构造函数时，请尝试以下操作：

```
tbb::tbb_thread myThread(MyThread, 3); 
```

如果可以的话，您还应该考虑使用标题中的 std::thread

# actionscript-3 - actionscript 3.0 透明图像填充

> ID：12836730
> 
> 赞同：2
> 
> 时间：2012-10-11T09:46:31.493
> 
> 标签：actionscript-3, actionscript, transparent, fill, flood-fill

我想使用 bitmapData.floodfill() 方法通过使用“onclick”事件来填充图像（就像油漆桶一样）。但问题是，当我使用透明图像（png，gif）时，这种方法不起作用。当我使用不同的东西（如蓝色、红色等）时，它只会使用白色（或我认为的 alpha=0）填充。这是我用红色 clip2net.com/s/2nW65 填充 Jerry 鼠标时的样子，这是我使用嵌入图像的示例：

```
 var container:MovieClip = new MovieClip(); //container that would hold the image    
    jerry_img = new Resource.jerry_graph(); //jerry image from assets/jerry.gif         

    addChild(container);
    container.addChild(jerry_img);
    container.addEventListener(MouseEvent.CLICK, fill_function);

    public function fill_function(e:MouseEvent):void {              
        jerry_img.bitmapData.floodFill(e.localX, e.localY, 0x00FFFF);
    } 
```

当我将 png 或 gif 更改为 JPEG 时，填充开始工作，但它会充满严重的视觉问题，例如[http://clip2net.com/s/2nW4J](http://clip2net.com/s/2nW4J)。这是示例[https://dl.dropbox.com/u/78904724/as_host/flood_fill.rar](https://dl.dropbox.com/u/78904724/as_host/flood_fill.rar)的完整来源 （您可以在 Resource.as 中将 jerry.gif 更改为 jerry.jpg）

另外，对不起，如果这是一个愚蠢的问题和我的英语水平低下。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:22:17.837

内置的 floodFill 不实现锯齿，它只填充精确的颜色，因此为了能够在没有伪影的情况下填充 png 需要准备（基本上去除锯齿像素）。[或者像这里](http://hangunsworld.com/blog/206)一样找到新的洪水填充算法

此致

# facebook-graph-api - Facebook 应用程序：发布到页面现在失败，出现“发生未知错误”/OAuthException

> ID：12836731
> 
> 赞同：3
> 
> 时间：2012-10-11T09:46:34.917
> 
> 标签：facebook-graph-api, oauth, facebook-php-sdk, facebook-apps

我有一个将每日状态发布到页面墙上的应用程序，状态作为应用程序发布（参见[http://facebook.com/fragrantheart](http://facebook.com/fragrantheart)）。我的应用程序是“Fragrant Heart Daily Meditations”，正如您所见，多年来一直很高兴发布。但是，现在，当它发布时，我收到错误：

```
 [message] => An unknown error has occurred.
 [type] => OAuthException
 [code] => 1 
```

这是我在服务器上运行的代码（PHP api）：

```
$facebook = new Facebook(array('appId'=>'148279321865482', 'secret'=>'XXXXXX', 'cookie'=>false));
$target_id = '124924677541618'; // Fragrant Heart Meditation Page
$facebook->api("/{$target_id}/feed", 'POST', array('message'=>$msg)); 
```

根据我的阅读，不需要 access_token，因为该页面已授予我的应用程序 publish_stream 权限。

**最近发生了什么变化会导致此错误？代码没有改变。**

我还尝试了服务器端身份验证流程来获取访问令牌，当通过调试器运行该令牌时，我得到：

```
App ID:  148279321865482 : Fragrant Heart Daily Meditations
User ID: 100001170589484 : Elisabeth Blaikie
Issued:  1289470487 (over a year ago)
Expires: Never
Valid:   True
Origin:  Web
Scopes:  create_note manage_pages offline_access photo_upload publish_actions publish_stream share_item status_update video_upload 
```

但是当使用这样的访问令牌时：（显然，YYYYYY被实际令牌替换）：

```
$facebook = new Facebook(array('appId'=>'148279321865482', 'secret'=>'XXXXXX', 'cookie'=>false));
$target_id = '124924677541618'; // Fragrant Heart Meditation Page
$facebook->api("/{$target_id}/feed", 'POST', array('message'=>$msg, 'access_token'=>'YYYYYYY')); 
```

我得到错误：

```
[message] => Invalid OAuth access token.
[type] => OAuthException
[code] => 190 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T20:37:53.510

哈哈 - 所以原来的问题实际上是缺少 access_token；但是，当我将 access_code 粘贴到我的代码中时，我错误地复制了我的访问密钥；因此“无效的 OAuth 访问令牌”。哦！

因此，对于处于相同情况的其他任何人（从 PHP 服务器自动发布到您自己的页面），正确的代码是

```
$facebook = new Facebook(array('appId'=>'YOUR APP ID', 'secret'=>'YOUR APP SECRET', 'cookie'=>false));
$target_id = 'YOUR PAGE ID'; 
$facebook->api("/{$target_id}/feed", 'POST', array('message'=>'YOUR MESSAGE', 'access_token'=>'YYYYYYY')); 
```

要获得永久访问令牌，请按照[http://developers.facebook.com/docs/authentication/server-side/](http://developers.facebook.com/docs/authentication/server-side/)中的步骤操作，特别是步骤 1 和 4：

以您要发布到的页面的所有者身份登录。去

```
https://www.facebook.com/dialog/oauth?
    client_id=YOUR_APP_ID
   &redirect_uri=YOUR_REDIRECT_URI
   &scope=COMMA_SEPARATED_LIST_OF_PERMISSION_NAMES
   &state=SOME_ARBITRARY_BUT_UNIQUE_STRING 
```

COMMA_SEPARATED_LIST_OF_PERMISSION_NAMES 应该是**publish_stream**，以及您需要的任何其他权限。接受请求，该请求将重定向回 YOUR_REDIRECT_URI（必须与您的应用设置中的域相同） 从重定向 URI 中复制 CODE 并转到

```
https://graph.facebook.com/oauth/access_token?
    client_id=YOUR_APP_ID
   &redirect_uri=YOUR_REDIRECT_URI
   &client_secret=YOUR_APP_SECRET
   &code=CODE_GENERATED_BY_FACEBOOK 
```

访问令牌将在页面的正文中。

# three.js - three.js - 未捕获的类型错误：无法读取未定义的属性“x”

> ID：12836732
> 
> 赞同：0
> 
> 时间：2012-10-11T09:46:36.023
> 
> 标签：three.js

我从 github 中找到了参考代码以及关于 stackoverflow 上的对象旋转的其他问题。

```
var vector = new THREE.Vector3( 1, 0, 0 );
        var axis = new THREE.Vector3( 1, 0, 0 ).normalize();
        var angle = Math.PI / 2;                

        function rotateAroundWorldAxis(object, axis, angle) {                                               
            var matrix = new THREE.Matrix4().makeRotationAxis( axis, angle );
            matrix.multiplyVector3( vector );
            object.matrix = matrix;
            object.rotation.setEulerFromRotationMatrix(object.matrix);
        }

        function render() {                     
            rotateAroundWorldAxis(tubeMesh, axis, angle);
            renderer.render( scene, camera );
        } 
```

我无法弄清楚错误“未捕获的类型错误：无法读取未定义的属性‘x’”的原因。在谷歌浏览器中它显示为

*   未捕获的类型错误：无法在three.min.js:56 处读取未定义的属性“x”
*   THREE.Matrix4.makeRotationAxis at three.min.js:56
*   在 my_model.htm:290 处旋转环绕世界轴
*   在 my_model.htm:297 处渲染
*   动画

错误在第 1`three.min.js`行。56\. 我正在使用three.js 库的r51。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-21T08:33:32.077

In case we had the same problem (three.js trying to read into the uv-mapping array) you can solve it by:

adding [UV-mapping](http://en.wikipedia.org/wiki/UV_mapping) (in blender) to your model.
it basically entails:

1.  marking a seam on the object.
2.  unwrapping the model.
3.  exporting the model with UVs enabled.

for steps 1 and 2 you can follow [this](http://en.wikibooks.org/wiki/Blender_3D%3a_Noob_to_Pro/UV_Map_Basics) nice walk-through.
(NB: in addition to the steps in the article, in my version (2.59), I had to create a material and texture first.)

# java - 为什么 org.apache.commons.lang.BooleanUtils.isTrue(Boolean bool) 使用三元运算符？

> ID：12836734
> 
> 赞同：11
> 
> 时间：2012-10-11T09:46:38.653
> 
> 标签：java, readability

我无缘无故进入了这个，很惊讶地看到这个方法实现如下：

```
public static boolean isTrue(Boolean bool) {
        if (bool == null) {
            return false;
        }
        return bool.booleanValue() ? true : false;
    } 
```

为什么不？

```
public static boolean isTrue(Boolean bool) {
        if (bool == null) {
            return false;
        }
        return bool.booleanValue();
    } 
```

没关系，所以我想知道它有什么好处吗？可读性是一个足够弱的论据，我认为这是噪音。除非我缺少其他一些好处。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:13:31.120

我找不到任何正当的理由。

Java 的 API 规范说：

> 公共布尔布尔值（）
> 
> 将此布尔对象的值作为布尔原语返回。

所以如果我们的 bool 对象是：

```
Boolean bool = new Boolean(true); 
```

这是等价的：

```
bool.booleanValue() == true; 
```

这里的三元比较器是多余的，降低了可读性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:09:33.640

可以肯定的是，在您的代码中，您少了一个原子操作。请参阅此以获得良好的解释：[https ://stackoverflow.com/a/493258/1509129](https://stackoverflow.com/a/493258/1509129)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-18T14:38:21.353

我认为为什么要这样写没有最终答案，因为正如 Felipe Fernández 指出的那样，没有功能上的理由这样做

但是，我的猜测是，这样做是为了使该方法与同一类返回`Boolean`对象中的其他方法对称，例如`toBooleanObject`

```
public static Boolean toBooleanObject(boolean bool) {
        return bool ? Boolean.TRUE : Boolean.FALSE;
} 
```

# git - gitk：悬停时显示分支名称

> ID：12836736
> 
> 赞同：2
> 
> 时间：2012-10-11T09:46:49.133
> 
> 标签：git, git-branch, gitk

你能告诉如何让 gitk 工具在悬停时显示分支名称或建议能够这样做的工具吗？

gitk 显示分支缠结，其中分支无名，我必须猜测哪个是 master，哪个是 stable 等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T11:02:56.997

在 gitk 窗口的左下半部分，您有一个信息行，指定`Branches: dev, master, quux`. 如果您选择一个提交，该行将告诉您可以从哪些分支访问该提交。

![在此处输入图像描述](../Images/2da48e4e1652a2f5ba7f66544df953a3.png)

实际上，这就是您真正需要知道的一切；考虑到标准的 git 工作流程，它首先出现在哪个分支并不是真正有用的信息。

就该行列出的分支的顺序而言，它也不意味着任何一种时间顺序。它显然只是按字母顺序排序的。

# machine-learning - 如何选择假设函数的度数？

> ID：12836737
> 
> 赞同：3
> 
> 时间：2012-10-11T09:46:49.840
> 
> 标签：machine-learning, regression, scientific-computing, non-linear-regression

在正常的机器学习问题中，您会获得许多特征（例如：-如果您正在制作图像识别器），因此当有很多特征时，您无法可视化数据（您无法绘制图形）。在不绘制图表的情况下，有没有办法确定我们应该对那个问题使用多大程度的假设函数？如何确定要使用的最佳假设函数？例如：-

如果有 2 个输入 x(1),x(2)。

是否选择 (w0) + x(1)*w(1) + x(2)*w(2) 作为假设函数或

w(0) + x(1)*w(1) + x(2)*w(2) + x(1)*x(2)*w(3) + (x(1)^2)*w (4) + (x(2)^2)*w(5)

作为假设函数：其中 w(0),w(1),w(2),w(3)...... 是权重。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T16:09:11.457

应用的第一个主要步骤是**特征选择**或特征提取（**降维**）。这是一个预处理步骤，您可以使用某些相关性指标（如相关性、互信息作为 mRmR）来应用它。此外，还有其他方法受数值线性代数和统计领域的启发，例如主成分分析，用于根据一些假设来寻找描述空间的特征。

您的问题与机器学习领域的一个主要问题有关，即模型选择。知道使用哪个度数的唯一方法是试验不同度数的模型（d=1，d=2，...），记住以下几点：

1-过度拟合：您需要通过确保限制变量的范围（在您的情况下为 Ws）来避免过度拟合。这种解决方案称为**正则化**。此外，尽量不要像 ANN 那样长时间训练分类器。

2- Prapring**训练、验证和测试**集。训练用于训练模型，验证用于调整参数，测试用于比较不同的模型。

3-正确选择**绩效评估指标**。如果您的训练数据不均衡（即为目标变量的每个值或类别标签分配了几乎相同数量的样本），则准确性不具有指示性。在这种情况下，您可能需要考虑敏感性、特异性或 Mathew 相关性。

实验是关键，而且你确实受到资源的限制。然而，适当的实验设计可以达到您的目的。

# java - Java中用于匹配数据的原子块

> ID：12836741
> 
> 赞同：1
> 
> 时间：2012-10-11T09:47:21.530
> 
> 标签：java, synchronization, atomic

我正在编写的一个库有一个实现二维映射的类，并且还为高效阅读提供了行/列视图的较小映射。到目前为止，所有方法都已被覆盖，因此主地图中的任何更改都会反映在子地图中，反之亦然。问题在于并发操作。

理想情况下，从主映射中删除一个项目将同时从相应的行和列映射中删除该项目，但这当然是不可能的。例如在我的 put 函数中：

```
public synchronized Cell put(Duple<Integer, Integer> key, Cell arg1){
    //preprocessing, detecting the row/col, creating row/col if not present yet, etc.
    Cell outcell = super.put(key, arg1);
    rowArr.putPriv(key.getElem2(), arg1);
    colArr.putPriv(key.getElem1(), arg1);
    arg1.assignCell(this, key);
    return outCell;
} 
```

虽然同时读取地图是完全可以接受的，甚至并发修改也不是问题（除了需要删除和放置同步的行/列的创建/删除），但是修改的 4 个阶段（super.put ，行和列放置，以及单元格位置更新）需要是原子的，以确保无法读取不匹配的数据。

我有哪些选择？据我从搜索中发现，不可能在 Java 中创建原子的语句序列，除非我同步所有函数（这会阻止并发读取，并且我需要锁定多个项目）。我知道（但不是特别实践）基本信号量概念的原则，但没有看到任何简单的方法来制作没有大量复杂性的写锁定信号量，特别是如果我不想大量等待一个写作槽。我还有哪些其他选择？

注意：由于我参与的项目，我不能使用衍生语言，如 groovy，但只能使用标准 Java 1.6u24，没有 3rd 方库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:07:07.690

您可以在调用相关方法时动态创建行/列视图。这样，您就可以摆脱导致问题的四向更新。

（您将以简单性换取效率降低，但如果您不在高性能环境中，这可能不是问题。即便如此，值得对解决方案进行基准测试，看看它是否真的是一个糟糕的举动）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:20:31.930

我建议你不要同步整个方法`put`。但**仅在特定单元格上同步**。在下面的代码中，我将描述如何做到这一点：

```
class ConcurrMattr {

    private ConcurrentHashMap<Integer, Lock> locks = 
                    new ConcurrentHashMap<Integer, Lock>();

    public Cell put( CellCoords key, Cell arg1 ) {
        // get or create lock for specific cell (guarantee its uniqueness)
        Lock lock = this.locks.putIfAbsent( coords.hash % 64, new ReentrantLock() );
        // 64 threads may concurrently modify different cells of matrix

        try {
            // lock only specific cell
            lock.lock();

            // do all you need with cell

            return ...;

        } finally {
            // unlock cell
            lock.unlock();
        }
    }    
}

// Immutable class to represent cell coordinates
class CellCoords {    
    public final int x;
    public final int y;
    public final int hash;

    public CellCoords( int x, int y ) {
        this.x = x;
        this.y = y;
        this.hash = this.calcHash();
    }

    private int calcHash() {
        int result = 31 + this.x;
        return 31 * result + this.y;
    }
} 
```

`read/write`因此，您可以在特定单元格上同步方法，而**其他线程可以访问矩阵的其他部分**。

查看 javadoc for[`ConcurrentHashMap`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html)和 for[`Lock`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/Lock.html)

**P.S.**
You may notice, that `CellCoords` field `hash` has type `int`. To avoid growth of locks map size till 2^31, you have to **limit range of hashes**. For example: `(coords.hash % 64)` - allows only 64 concurrent threads to work with entire matrix.

P.P.S. Might be interesting article for you: [http://www.ibm.com/developerworks/java/library/j-jtp08223/](http://www.ibm.com/developerworks/java/library/j-jtp08223/)

# delphi - 调试 Delphi 应用程序时的模块加载/卸载周期

> ID：12836743
> 
> 赞同：2
> 
> 时间：2012-10-11T09:47:47.910
> 
> 标签：delphi, debugging

有时在 Delphi 2009 调试器下运行应用程序时，只要我对应用程序表单执行任何操作（单击、移动..），Delphi 就会开始使用以下消息（类似）淹没事件日志：

```
Module Load: UNKNOWN_MODULE_59954.No DebugInfo. Base Address: $02D90000\. Process MyApp.exe (5584)
Module Unload: UNKNOWN_MODULE_59954\. Process MyApp.exe (5584) 
```

每个周期的 UNKNOWN_MODULE 数量都会增加，因此例如有近 60000 个模块加载/卸载。

在此洪水期间，应用程序仍然无响应。有时我必须终止应用程序才能继续。

知道如何开始跟踪其原因吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T17:50:30.130

正如“Arioch 'The”所建议的那样 - 下载并运行[Sysinternal 的进程资源](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)管理器。

*   从“视图”菜单中选择“下窗格 -> DLL (Ctrl+D)”
*   在流程树中标记您的流程
*   右键单击下部窗格的标题并选择“添加列”。
*   从 DLL 选项卡中选择“基地址”。
*   对该列上的模块进行排序
*   找到你的 dll 的基地址 - 你会得到它的名字:)

如果模块卸载太快 - 将“选项 > 差异突出显示持续时间”设置为 9 秒。

就我而言，它是 odbcint.dll：

![procMon - 查找未知模块](../Images/dffe2b428059c7159300861b8d7af0d1.png)

还要对您的 PC 进行病毒扫描 - 以防万一:)

# wcf - 如何通过浏览器（Firefox）调用WCF服务？

> ID：12836750
> 
> 赞同：4
> 
> 时间：2012-10-11T09:48:01.660
> 
> 标签：wcf, browser

我只是想知道如何通过浏览器（Firefox）调用 WCF 服务？

我的 WCF 服务如下所示：

```
http://localhost:4249/TestService.svc 
```

我试过这个：

```
[ServiceContract]
public interface ITestService
{
    [OperationContract]
    [WebGet(UriTemplate = "/GetAllPersons", ResponseFormat = WebMessageFormat.Xml)]
    List<Person> GetAllPersons();

public class TestService : ITestService
{
    public List<Person> GetAllPersons()
    {
        return Employees.CreateEmployees();
    } 
```

我已经在浏览器的地址行中尝试过这个：

```
http://localhost:4249/TestService/GetAllPersons 
```

但是，我有以下错误：

> “/”应用程序中的服务器错误。
> 无法找到该资源。
> 说明：HTTP 404。您要查找的资源（或其依赖项之一）可能已被删除、名称已更改或暂时不可用。请查看以下 URL 并确保其拼写正确。
> 
> 请求的 URL：/TestService/GetAllPersons

我做错了什么？

这是我的 web.config 文件，你可以看看：

```
<?xml version="1.0"?>
<configuration>
    <configSections>
        <sectionGroup name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
            <sectionGroup name="scripting" type="System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                <section name="scriptResourceHandler" type="System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                <sectionGroup name="webServices" type="System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                    <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="Everywhere"/>
                    <section name="profileService" type="System.Web.Configuration.ScriptingProfileServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="authenticationService" type="System.Web.Configuration.ScriptingAuthenticationServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="roleService" type="System.Web.Configuration.ScriptingRoleServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                </sectionGroup>
            </sectionGroup>
        </sectionGroup>
    </configSections>
    <appSettings/>
    <connectionStrings/>
    <system.web>
        <compilation debug="true">
            <assemblies>
                <add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </assemblies>
        </compilation>
        <authentication mode="Windows"/>
        <pages>
            <controls>
                <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </controls>
        </pages>
        <httpHandlers>
            <remove verb="*" path="*.asmx"/>
            <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" validate="false"/>
        </httpHandlers>
        <httpModules>
            <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </httpModules>
    </system.web>
    <system.codedom>
        <compilers>
            <compiler language="c#;cs;csharp" extension=".cs" warningLevel="4" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089">
                <providerOption name="CompilerVersion" value="v3.5"/>
                <providerOption name="WarnAsError" value="false"/>
            </compiler>
        </compilers>
    </system.codedom>
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false"/>
        <modules>
            <add name="ScriptModule" preCondition="integratedMode" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </modules>
        <handlers>
            <remove name="WebServiceHandlerFactory-Integrated"/>
            <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptResource" preCondition="integratedMode" verb="GET,HEAD" path="ScriptResource.axd" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </handlers>
    </system.webServer>
    <system.serviceModel>
        <services>
            <service behaviorConfiguration="TestService.TestServiceBehavior" name="TestService.TestService">
                <endpoint address="" binding="wsHttpBinding" contract="TestService.ITestService">
                    <identity>
                        <dns value="localhost"/>
                    </identity>
                </endpoint>
                <endpoint address="mex" binding="mexHttpBinding" contract="IMetadataExchange"/>
            </service>
        </services>
        <behaviors>
            <serviceBehaviors>
                <behavior name="TestService.TestServiceBehavior">
                    <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
                    <serviceMetadata httpGetEnabled="true"/>
                    <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
                    <serviceDebug includeExceptionDetailInFaults="true"/>
                </behavior>
            </serviceBehaviors>
        </behaviors>
    </system.serviceModel>
</configuration> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:50:29.223

除了上面评论中提到的工厂更改之外，您还需要在 web.config 中启用 webHttpBinding。将此用作模板，从现有的 web.config 中复制合同和名称详细信息：

```
<system.serviceModel>
<serviceHostingEnvironment aspNetCompatibilityEnabled="true"  multipleSiteBindingsEnabled="true" />
<bindings>
  <webHttpBinding>
    <binding name="WHB" crossDomainScriptAccessEnabled="true">
      <security mode="None" />
    </binding>
  </webHttpBinding>
</bindings>
<behaviors>
  <serviceBehaviors>
    <behavior name="AllowGet">
      <serviceMetadata httpGetEnabled="true"/>
      <serviceDebug includeExceptionDetailInFaults="true" />
    </behavior>
  </serviceBehaviors>
</behaviors>
<services>
  <service behaviorConfiguration="AllowGet" name="">
    <endpoint address="" binding="webHttpBinding"
      bindingConfiguration="WHB" contract="" />
  </service>
</services> 
```

# java - jsp可以访问.jar文件吗？

> ID：12836753
> 
> 赞同：0
> 
> 时间：2012-10-11T09:48:03.807
> 
> 标签：java, jsp, jakarta-ee, properties, jar

我在文件中有一个属性`JAR`文件。

在我的 Web 应用程序中，我想从`jsp`Web 应用程序内部访问此属性文件。

我尝试使用以下代码执行此操作，但结果是`FileNotFoundException`

```
Properties properties = new Properties();
properties.load(new FileInputStream("myfile.properties")); 
```

我如何访问`JAR`我`classpath`在`scriptlets`jsp 中的文件？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:51:40.137

不是这样。您可以尝试使用“getResourceAsStream”功能获取输入流。

[在此处](https://stackoverflow.com/questions/1464291/how-to-really-read-text-file-from-classpath-in-java)阅读有关此内容

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:10:28.523

是的，您可以使用

```
InputStream in = this.getClass().getClassLoader().getResourceAsStream("//myfile.properties"); 
```

确保具有此属性文件的 jar 文件位于类路径中。

# javascript - 将对象动态添加到另一个对象的属性中

> ID：12836755
> 
> 赞同：0
> 
> 时间：2012-10-11T09:48:15.270
> 
> 标签：javascript, jquery

我在 AJAX 调用中有一个对象，我无法将新属性添加到包含另一个对象的属性中。

这是我的尝试：

```
$.post('/home/save.json', {obj:obj}, function(data) {
    var qu = {};
    qu["Id"] = "some value";
    qu["Type"] = "some value";
    qu["Name"] = "some value"
    qu["Variants"] = data["Variants"]
    if (data['Subvariant']) { 
        qu["Variants"]["Subvariant"] = data['Subvariant'] 
    }
    // ...
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:08:03.713

你错过了一些分号，我会使用点符号

```
var qu = {};
qu.Id = "some value";
qu.Type = "some value";
qu.Name = "some value";
qu.Variants = data.Variants;
if (data.Subvariant !== undefined && data.Subvariant !== null) {
    qu.Variants.Subvariant = data.Subvariant;
} 
```

还是您可能是要检查`data.Variants.Subvariant`而不是`data.Subvariant`？

# android - ActivityMonitor 被击中，但 getLastActivity 返回 null

> ID：12836760
> 
> 赞同：5
> 
> 时间：2012-10-11T09:48:25.943
> 
> 标签：android, instrumentation, android-testing, activity-monitor

我的测试套件中的一个测试用例有问题。我想要做的只是点击一个按钮并等待一个新的活动启动。

```
ActivityMonitor monitor = getInstrumentation().addMonitor(MyActivity.class.getName(), null, false);
TouchUtils.clickView(this, searchButton);
Activity a = getInstrumentation().waitForMonitorWithTimeout(monitor, 60);
assertNotNull("The MyActivity is null.", a); 
```

根据[文档](http://developer.android.com/reference/android/app/Instrumentation.html#waitForMonitor%28android.app.Instrumentation.ActivityMonitor%29)，此代码应等待最多 60 秒以使监视器被击中。如果它被击中，则将返回活动（否则为 null）。

发生的情况是，有时测试会通过，但大多数时候它会失败，因为`a == null`. 我正在观察运行的测试用例，我可以清楚地看到它没有等待 60 秒。只有一点。通过一些打印输出，我还注意到监视器实际上被击中，但返回的活动`getLastActivity()`仍然是`null`.

1）这怎么可能？

2）我能做些什么来避免它吗？

# regex - 我们可以在 PeopleSoft 查询管理器（4 层）中激活 regexp_like 运算符吗

> ID：12836761
> 
> 赞同：1
> 
> 时间：2012-10-11T09:48:36.717
> 
> 标签：regex, oracle, peoplesoft

随着我越来越多地了解编程语言中的正则表达式，尤其是我们可以从字符串操作中获得的所有性能优势，我看到 Oracle 当然支持正则表达式。

但是在 PeopleSoft（4 层）上，在“查询管理器”中，我们只能选择“Like”运算符，当然，每次我们使用它时，查询性能都会急剧下降（逻辑上）......

**有谁知道这是可以作为参数激活的东西，还是根本不存在，因为对于“普通”最终用户来说太复杂了？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:34:43.577

从性能的角度来看，REGEXP_LIKE 与 LIKE 没有什么不同。使用索引的可能性更小。它可能只是返回一个更集中的结果集。

PeopleSoft 查询管理器（4 层）面向非技术人员。*许多程序员在理解正则表达式时遇到问题：我*认为不会编写 SQL 的人会在正则表达式方面遇到困难。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-16T14:48:03.513

迟到总比没有好，但为了记录，我确实在 PeopleSoft 查询中使用了正则表达式（即使在 2 层模式下）。您需要使用“EQUAL TO”运算符并输入正则表达式作为 PeopleSoft 查询表达式值。

对于特定的报告，我必须让用户输入最多 5 个提示参数用于学位结帐状态 (DEGR_CHKOUT_STAT)。具体值和值的数量会根据学校和运行报告的用户而变化。

我创建了一个 30 个字符长的提示（以下称为 :3）并将其命名为 DEGR_CHKOUT_STAT。您可以发送“AW,PN,IR,EG,AG”或仅发送“AW”作为提示符：3 并且查询有效。

表达式 1：A.DEGR_CHKOUT_STAT 运算符：等于表达式 2：ANY(REGEXP_SUBSTR( :3, '[^,]+',1,1 ) , REGEXP_SUBSTR( :3, '[^,]+',1,2 ) , REGEXP_SUBSTR( :3, '[^,]+',1,3 ) , REGEXP_SUBSTR( :3, '[^,]+',1,4 ) , REGEXP_SUBSTR( :3, '[^,]+', 1,5))

由于我是新人，我没有足够的声望点来发布图片，但我可以根据要求通过电子邮件将其发送给您。

# php - 将php变量读入javascript画布

> ID：12836766
> 
> 赞同：0
> 
> 时间：2012-10-11T09:48:43.800
> 
> 标签：php, javascript, html

我正在尝试使用 php 表中的值在 html 画布上绘制。从我的测试来看，php 正在正确地从表中读取值，并且还在调用 javascript 函数，但它无法绘制一系列具有不同 x 值的 20*20 矩形。

```
<html>
    <script type="text/javascript">
    function draw( i ) {

    alert(i);

    var canvas = document.getElementById('mycanvas');
    var drawshape = canvas.getContext('2d');
    canvas.width = 800;
    canvas.height = 400;
    drawshape.fillStyle = '#00ff00';
    drawshape.fillRect(50 * i , 50, 20, 20);
  }

</script>
    <body>
        <canvas id="mycanvas"></canvas>
    </body>
</html>

<?php

    $query4 = 'SELECT * FROM graph_table';
    $result4 = mysql_query($query4);

    while($person4 = mysql_fetch_array($result4)) {
        $indent =  $person4['indent'];
        echo '<script type="text/javascript">    draw( <?php echo $indent; ?> );         </script>';
    }

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:57:15.840

只是想知道为什么`test()`在使用该函数时调用该函数`draw()`。如果这只是拼写错误，只需使用调用`draw( <?php echo $indent ?> )`并将您的javascript函数更改为：

```
function draw( i ) {
    var canvas = document.getElementById('mycanvas');
    var drawshape = canvas.getContext('2d');
    canvas.width = 800;
    canvas.height = 400;
    drawshape.fillStyle = #00ff00;
    drawshape.fillRect(50 * i , 50, 20, 20);
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T09:58:46.197

您正在回声调用一个名为`test`：

```
echo '<script type="text/javascript">    test();      </script>'; 
```

但是你已经定义了 function `draw`，所以这应该修复它：

```
echo '<script type="text/javascript">    draw();      </script>'; 
```

顺便说一句：不要使用`mysql_*`. 扩展*终于*开始了弃用过程。切换到`PDO`或`mysqli_*`代替。只需检查任何[文档页面](http://www.php.net/mysql_fetch_array)，即可在此处提到的任一替代方案中找到对应的页面。

除此之外，您的代码片段不包含 HTML5 doctype ( `<!DOCTYPE html>`)，也不包含 canvas 元素`<canvas id='mycanvas'>`，这也可能是个问题。但我假设你省略了这些位以避免发布太多代码......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:58:52.127

您的问题是由于您输出的javascript函数的值`$indent`在循环中设置之前。执行循环时，虽然分配了 variable `$indent`，但对已经输出的 javascript 函数没有影响。更好的方法是执行以下操作：

```
<html>
<script type="text/javascript">
    function draw(indent) {
        var canvas = document.getElementById('mycanvas');
        var drawshape = canvas.getContext('2d');
        canvas.width = 800;
        canvas.height = 400;

        drawshape.fillStyle = #00ff00;
        drawshape.fillRect(50 * indent , 50, 20, 20);
    }
</script>
</html>

<?php
    echo '<script type="text/javascript">';

    $query = 'SELECT * FROM table';
    $result = mysql_query($query);

    while($value = mysql_fetch_array($result)) {
        $indent =  $value['indent'];
        echo "draw($indent);";
    }

    echo '</script>'

?> 
```

这样，您每次都将 indent 的新值传递给函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T10:26:57.543

改变你的绘图功能

并在每次生成 db 的结果时添加一个参数

前任

```
<html>
<script type="text/javascript">
        function draw(indent) {
        var canvas = document.getElementById('mycanvas');
        var drawshape = canvas.getContext('2d');
        canvas.width = 800;
        canvas.height = 400;

        drawshape.fillStyle = #00ff00;
        drawshape.fillRect(50 *indent , 50, 20, 20);
    }
</script>
</html>

<?php
$query = 'SELECT * FROM table';
$result = mysql_query($query);
    while($value = mysql_fetch_array($result)) {
        $indent =  $value['indent'];
        echo '<script type="text/javascript">    draw('.$indent.');      </script>';
    }
?> 
```

# javascript - 如何在 IE9 中启用 javascript window.focus()

> ID：12836768
> 
> 赞同：1
> 
> 时间：2012-10-11T09:49:01.443
> 
> 标签：javascript, html

我用过：

```
var win = window.open('http://www.google.co.uk','foo'); 
```

打开一个新窗口，然后我导航回原始窗口，使新窗口打开并使用：

```
win.focus(); 
```

我希望浏览器切换回 foo 窗口，但 IE9 会忽略它并停留在当前窗口上。适用于 chrome 和 IE6 我假设这可能已被禁用作为安全风险。有没有办法通过安全设置或注册表设置在 IE9 中启用 window.focus？

这是我的完整代码：

```
<a onclick="OpenWindow();">Click here to open a window</a><br />
<a onclick="SelectWindow();">click here to switch to window</a>

<script language="javascript" type="text/javascript">

var win;

function OpenWindow() {
    win = window.open("http://www.google.co.uk", "foo");
}

function SelectWindow() {
    win.focus();
}

</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:53:49.033

这是**Internet Explorer 9**中的一个**已知错误**。查看文章，[网页可能无法在 Windows Internet Explorer 9 中获得焦点以](http://support.microsoft.com/kb/2600156)了解更多信息。

 **### 注册表修复

```
HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\Main\
Type: REG_DWORD
Name: HangRecovery
Value: 0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-26T23:34:12.257

自 2003 年以来，以下变体对我在所有浏览器上都有效：

```
function popupHelp(helpUrl) {
    helpWin = window.open(helpUrl, "help",
            "height=500,width=500,scrollbars,resizable,toolbar,status,menubar");
    if (helpWin != null) {
        setTimeout("helpWin.focus()",100);
    }
}

...

<a href="javascript:popupHelp('help.jsp')">Help</a> 
```

截至 2013 年 8 月 27 日，它似乎是 window.open() 调用上的功能列表，它强制/允许 IE 8、9 和 10 第二次给予窗口焦点。我说窗口是因为它还强制 IE 在窗口中打开，而不是在选项卡中打开（Chrome 使用选项卡，Firefox 像 IE 一样工作）。我希望所有浏览器在这方面都能像 Chrome 一样工作。他们似乎都用 target="_blank" 打开一个新窗口就好了，打开的窗口使用户桌面混乱，但重用现有窗口是他们不想做的事情。**

# wpf - 在 wpf 中动态加载不同的文本块并为它们设置上下文菜单

> ID：12836771
> 
> 赞同：0
> 
> 时间：2012-10-11T09:49:12.617
> 
> 标签：wpf

我们需要根据从数据库中检索的结果在视图中动态加载文本块。

例如：如果计数返回为“5”

我需要显示 5 个文本块，我们还需要在文本块上设置“上下文菜单”。

如果用户右键单击上下文菜单，他可以选择通过单击显示其他详细信息来加载“更多文本块”。想知道如何完成此操作的最佳方法。

问候

柴土

* * *

感谢您的邮件，我们需要在不同文本块的不同上下文菜单上显示不同的数据。并且上下文菜单有标题，下面有“名称”“电话号码

例如：文本块 **A**，它有上下文菜单

## 美国广播公司

亚当“123456”

## 史蒂夫“56789”

加载更多详细信息

**对于文本块 B，**

## 国防军

萨钦“9999”

## 拉胡尔“8976”

加载更多详细信息

这应该是显示器。当用户单击“加载更多详细信息”时，在 currentTextBlocks 的右侧，应显示另一组 TextBlocks。

问候柴兔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:11:15.550

您可以使用绑定到 ItemTemplate 的 Observablecollection。例如：

XAML

```
<ItemsControl ItemsSource="{Binding}">
<ItemsControl.ItemTemplate>
    <DataTemplate>
            <TextBlock Text="{Binding}">
                <TextBlock.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="More Detail" Click="LoadMoreDetail" />
                    </ContextMenu>
                </TextBlock.ContextMenu>
            </TextBlock>
    </DataTemplate>
</ItemsControl.ItemTemplate>
</ItemsControl> 
```

和代码隐藏

```
public ObservableCollection<string> myTextBlocks { get; set; }
private void LoadModel()
{
   myTextBlocks = new ObservableCollection<string>();
   // HERE IMPLEMENTS YOUR DB LOGIC TO LOAD
   myTextBlocks.Add("1");
   myTextBlocks.Add("2");
   myTextBlocks.Add("3");

   this.DataContext = myTextBlocks;
}
private void LoadMoreDetail(object sender, RoutedEventArgs e)
{

   myTextBlocks.Add("more detail");
} 
```

# java - java.util.Formatter：UnknownFormatConversionException：转换='F'

> ID：12836778
> 
> 赞同：4
> 
> 时间：2012-10-11T09:49:42.690
> 
> 标签：java, date-formatting, iso8601

有什么问题

```
public String toString() {
    return super.toString()
            + String.format(" %1$F-%2$F", startDate, endDate);
} 
```

我明白了

> 原因：java.util.Formatter$FormatSpecifier.(Formatter.java:2634) 处 java.util.Formatter$FormatSpecifier.conversion(Formatter.java:2606) 处的 java.util.UnknownFormatConversionException: Conversion = 'F'。 util.Formatter.parse(Formatter.java:2480) 在 java.util.Formatter.format(Formatter.java:2414) 在 java.util.Formatter.format(Formatter.java:2367) 在 java.lang.String.format （字符串.java:2769）

我想打印定义的 ISO 8601 日期[`java.util.Formatter`](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-11T09:58:01.020

我认为日期格式模式需要一个前缀：

```
't', 'T'    date/time   Prefix for date and time conversion characters. See Date/Time Conversions. 
```

修饰符的示例`F`也显示了以下语法：

```
'F'     ISO 8601 complete date formatted as "%tY-%tm-%td". 
```

所以下面的模式应该有效：

```
String.format(" %1$tF-%2$tF", startDate, endDate); 
```

# io - 在 PIC24 中读取其状态后如何重置输入引脚？

> ID：12836786
> 
> 赞同：0
> 
> 时间：2012-10-11T09:49:59.713
> 
> 标签：io, pic, interrupt-handling

我正在使用更改通知中断来获取有关引脚状态更改的信息。

阅读后如何重置 PIN 值？

PORTB 引脚值读取代码

```
x   = PORTB; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-17T19:50:40.207

我不知道您对“重置 PIN 值”的确切含义，但是...如果将引脚配置为输入（如读取的情况），您不应该能够重置引脚值，因为它们由外部控制。

无论如何，一个简单的 PORTB = 0; 如果配置为输出，则应关闭所有引脚（重置？）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-26T11:38:54.170

我假设您的问题是如何重置更改通知机制。pic 有一个内部缓冲区，该缓冲区设置为等于端口引脚。通过将此缓冲区与端口引脚异或来生成中断更改通知。读取端口会将内部缓冲区的值设置为端口引脚的当前状态。现在端口再次准备好触发更改通知中断。

总之，读取端口足以重置更改通知机制。但是，您还必须清除更改通知中断标志。

# c# - 在类库中使用显卡

> ID：12836788
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:05.817
> 
> 标签：c#, xna, effect

我想为图像处理和计算机视觉编写一个图形库。因为算法有时在大图像上很慢，所以我想使用显卡的 PixelShader 来做到这一点。

因为我用 C# 编写应用程序，所以我不想直接使用 DirectX。我想使用 XNA 库，因为这是我知道的简单地做这些事情的唯一方法。问题是，我不知道如何正确设计图书馆。

XNA 需要一个图形设备，它需要一个窗口句柄来创建（有什么办法可以欺骗这个吗？），调用类最终没有，因为调用程序的类设计（例如在 MVVM 应用程序中模型没有窗把手）。

另一件事是，我必须将着色器作为效果加载，这通常由内容管理器完成，但这也不是类库的完美解决方案，我认为（这里加载效果的另一种方法是帮助）。

那么有什么方法可以解决这些不太理想的问题，还是有另一种方法可以在 C# 中使用显卡进行图像处理？我希望我的问题很清楚，如果没有，请告诉它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:56:13.040

好吧，您已经很好地向自己解释了为什么使用像 XNA 这样的游戏库（而且 XNA 实际上更像是“游戏”库而不是图形库）可能不适合创建将在 GPU 上执行处理的库。有了这个观察，您应该尝试搜索其他内容，例如：

*   [http://www.opentk.com/](http://www.opentk.com/) - OpenCL 的包装器，`C`代表计算，所以它就是你想要的
*   [http://research.microsoft.com/en-us/projects/accelerator/default.aspx](http://research.microsoft.com/en-us/projects/accelerator/default.aspx) - 使用 GPU 或多核 CPU 来加速计算

# mysql - VIEW 与 WHERE 的功能

> ID：12836791
> 
> 赞同：2
> 
> 时间：2012-10-11T09:50:12.910
> 
> 标签：mysql, performance, view, where

我正在尝试了解有关 MySQL VIEW 的更多信息，但我仍然很困惑（尤其是关于细节）

如果我做对了，视图只不过是使用的存储的 SELECT 查询。但是当我想在 VIEW 中为 WHERE 子句使用某些值时，我的问题就开始了。

让我们假设，我们有这个视图：

```
SELECT `user`.`id`, `userrole`.`key` AS `role`, `userstatus`.`key` AS `status`
FROM `user`
LEFT JOIN `userrole`
ON `userrole`.`id` = `user`.`userrole_id`
LEFT JOIN `userstatus`
ON `userstatus`.`id` = `user`.`userstatus_id` 
```

现在，这将提供所有用户的列表，以及他们当前的角色/状态

```
+----+-------+--------+
| id |  role | status |
+----+-------+--------+
|  1 | admin | active |
|  2 |  user | active |
|  3 |  user | active |
|  4 | admin | active |
| .. |   ... |    ... |
+----+-------+--------+ 
```

现在，我只想知道用户的角色/状态`ID`3 - 所以我必须在 , with 上做一个额外`SELECT`的`VIEW`事情`WHERE id = 3`，对吧？但如果我这样做，究竟会发生什么？

`VIEW`还是`SELECT`所有用户，然后整个数据都会被丢弃，只显示`id = 3`？还是会对其进行优化，以便`VIEW`唯一选择`user.id = 3`？

我对此的性能方面感到困惑 - 因为如果我有 100 万用户，那么使用 a`VIEW`将是一个相当糟糕的主意。但另一方面，如果我有这个，我会保存自己每次都使用`SELECT`带有所有's 的整体。`JOIN``VIEW`

那么具体是怎么做的`VIEW`呢？作为简单的 SUBQUERY，还是`WHERE`在选择 a 时添加 a 会更优化`VIEW`？

我想如果它像一个 SUBQUERY，`STORED PROCEDURE`带参数的 a 总是比 a 好`VIEW`，那么（如果你有`WHERE`不同的参数）？

感谢您的信息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:57:33.737

它将被优化。

您可以将视图视为宏或别名。在运行时，当您使用视图时，视图的整个 SQL 文本将扩展为使用该视图的查询。然后查询优化器只挑选那些在组合查询中实际使用的列和行。

如果你输入

```
SELECT `id`, `role` FROM YourView
WHERE `status` = 4 
```

它将扩展为

```
SELECT `id`, `role` FROM 
(
SELECT `user`.`id`, `userrole`.`key` AS `role`, `userstatus`.`key` AS `status`
FROM `user`
LEFT JOIN `userrole`
ON `userrole`.`id` = `user`.`userrole_id`
LEFT JOIN `userstatus`
ON `userstatus`.`id` = `user`.`userstatus_id`
)
WHERE `status` = 4 
```

# vb.net - 填充 PDF 表单域并保持 PDF 文件可编辑

> ID：12836794
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:18.767
> 
> 标签：vb.net, pdf, pdf-generation, itextsharp

我有一个包含一系列空白表单域的 PDF 文件。在使用 iTextSharp.Net 的代码中，我用各种文本填充了一些字段。有一些字段仍然为空，以便进一步编辑。

我的问题是如何在填充某些字段后保存 PDF 表单，同时保持事后编辑文档的能力。

我搜遍了网络，发现很少。我目前正在使用 iTextSharp，尽管我很乐意使用其他现有的免费/低成本库。

iTextSharp 确实包含一个布尔属性 FormFlatening - 但是，如果在代码中编辑表单字段，这似乎总是被覆盖。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:31:58.830

好的，经过几个小时的研究，我在这里遇到了一个旧线程-stackoverflow.com/questions/5260740/…。使用 pdfReader.RemoveUsageRights() 似乎可以在 Adob​​e Reader 中编辑 PDF。（非常感谢那个帖子里的人）

# c++ - 制作 iNUIsensor 对象列表

> ID：12836796
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:22.067
> 
> 标签：c++, list

我正在尝试用 c++ 列出 iNUIsensor 对象。

我试过用这个：

```
std::list<INuiSensor*> nuiList;    
...
nuiList.push_front(&nui); 
```

编译时出现此错误：

```
error C2664: 'void std::list<_Ty>::push_front(_Ty &&)' : cannot convert parameter 1 from     'INuiSensor **' to 'INuiSensor *&&' 
```

我该如何解决这个问题？

编辑：nui类型：

```
INuiSensor * nui; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:11:54.850

`nui`当列表期望指向的指针时，您正在推送指向指针的指针`nui`：

```
std::list<INuiSensor*> nuiList;    
...
nuiList.push_front(nui); // <--- note the lack of & 
```

事实是 nui 是一个开始的指针，并且操作符`&`获取给定对象的地址，所以：

```
&nui 
```

读作：`take the address of the object named nui`。所以，如果对象是一个指向`niu`地址的指针，那么一个指针就是一个指向指针的指针。

* * *

这没有被问到，但我认为值得一说：避免将对象指针存储到容器中并通过对象实例更改存储类型可能是个好主意：

```
std::list <INuiSensor*> VS std::list <INuiSensor> 
```

当你使用指针时，你必须注意对象的分配和释放，如果列表是全局的，你需要一个公共的 Close 方法来释放由存储在列表中的指针管理的所有内存，如果列表是由某个对象拥有，您需要在对象析构函数中执行相同的过程。

但是，如果您要存储对象实例，则列表析构函数会在其生命周期结束时释放所有存储的对象，代码更简洁且更易于维护。

# java - 在java中将xml解析为mysql

> ID：12836797
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:22.927
> 
> 标签：java, mysql, xml, parsing

我想将 xml 解析为 mysql 表我能够解析 xml 但我不熟悉 mysql。有任何想法吗？提前致谢。

```
+------+------+
|drinks|stater|
+------+------+
|some  |some  |
+------+------+
|some  |some  |
+------+------+ 
```

我想要的结果的例子。xml文件示例：

```
<?xml version="1.0"?>
<food>
    <menu>
        <drinks>some drinks</drink>
        <starter>some food</starter>
        <main>more food</main>
        <dessert>more food/dessert>
    </menu>
    <menu>
        <drinks>some drinks</drink>
        <starter>some food</starter>
        <main>more food</main>
        <dessert>more food/dessert>
    </menu>
</food> 
```

到目前为止，这就是我所拥有的

```
public class xmlToMySql extends DefaultHandler {

public static void main(String argv[]){

    try {

    SAXParserFactory factory = SAXParserFactory.newInstance();
    SAXParser saxParser = factory.newSAXParser();

    DefaultHandler handler = new DefaultHandler() {

    boolean drinks = false;
    boolean starter = false;

    public void startElement(String uri, String localName,String qName, 
                Attributes attributes) throws SAXException {

        if (qName.equalsIgnoreCase("DRINKS")) {
            drinks = true;

        }

        if (qName.equalsIgnoreCase("STARTER")) {
            starter = true;
        }

    }

    public void characters(char ch[], int start, int length) throws SAXException {

        if (drinks) {
            String hnName = new String(ch,start,length);
            drinks = false;

        }
        if (starter) {
            String ptStr = new String(ch,start,length);
            starter = false;
        }
    }
    };

       saxParser.parse("someXmlFile.xml", handler);

     } catch (Exception e) {
       e.printStackTrace();
     }
 }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:14:38.157

如果您解析值并将其存储到变量中，则使用以下 java 代码

```
 Class.forName("com.mysql.jdbc.Driver");
 String connectionString="jdbc:mysql://localhost:3306/DbName";
 Connection connection = DriverManager.getConnection(connectionString,username,password);

PreparedStatement pst;
ResultSet rs;
while(number of entries you want to enter)
{
   pst=connection.prepareStatement("insert into tablename values(?,?)");
   pst.setString(1,drinks);
   pst.setString(2,starter);
   pst.executeUpdate();
} 
```

# macos - emacs24 中的全屏模式

> ID：12836800
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:32.667
> 
> 标签：macos, emacs, fullscreen

我最近将我的 emacs 从版本 22 更新到了 24。很多事情都发生了变化，但最烦人的是全屏支持消失了。

我曾经使用过这个功能：

```
(defun toggle-fullscreen (&optional f)
  (interactive)
  (let ((current-value (frame-parameter nil 'fullscreen)))
    (set-frame-parameter nil 'fullscreen
                         (if (equal 'fullboth current-value)
                             (if (boundp 'old-fullscreen) old-fullscreen nil)
                           (progn (setq old-fullscreen current-value)
                                  'fullboth)))))
(global-set-key [f11] 'toggle-fullscreen) 
```

但这似乎不再起作用。:-)

我在 mac OSX 10.6 和 emacs24 [emacs for mac osx上运行](http://emacsformacosx.com/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:28:52.140

你没有说你是如何安装 Emacs 24 的，但是 Homebrew Emacs 公式包含一个补丁，提供`M-x ns-toggle-fullscreen`在正常和全屏模式之间切换的命令。它运行良好，但不提供典型的 OS X Lion 全屏应用体验。特别是，它保留在桌面上，隐藏非全屏应用程序，而不是移动到自己的空间。[您可以在此博客文章](http://sourcematters.org/2012/04/10/full-screen-emacs-24-for-os-x-lion.html)中找到更多详细信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T13:46:03.253

FWIW，开发代码（将成为 24.3）最近应用了一个补丁来在 Mac OS X 下添加全屏支持。因此，您可能想尝试那个最前沿的版本。我对 Mac OS X 下的全屏支持知之甚少，除了它在不同版本的 Mac OS X 中以不同的方式被破坏，所以我不能保证新代码适用于您的特定情况，但如果没有，请`M-x report-emacs-bug`。

# android - 我在使用 android 打开前置摄像头时出错

> ID：12836801
> 
> 赞同：0
> 
> 时间：2012-10-11T09:50:34.710
> 
> 标签：android, camera

我正在开发 android 相机应用程序，我想要绿屏色度键效果来捕捉图像。我已经在我的代码中使用了[http://code.google.com/p/chroma-key-project/downloads/list](http://code.google.com/p/chroma-key-project/downloads/list)这个色度键项目。

我正在使用具有前置摄像头而不是后置摄像头的平板电脑..我还使用了前置摄像头的许可

```
 <uses-permission android:name="android.permission.CAMERA" />

    <uses-feature android:name="android.hardware.camera" />
    <uses-feature android:name="android.hardware.camera.front" /> 
```

它仍然显示从 preview.java 页面到这一行的错误空指针异常。`camera.setPreviewDisplay(holder);`// <9> 为什么？

`preview.java`从色度键项目中的给定链接检查页面。请提出建议。

我遇到这种类型的错误。

10-11 15:37:36.131: W/dalvikvm(11339): threadid=1: 线程退出未捕获异常 (group=0x409ee1f8) 10-11 15:37:36.141: E/AndroidRuntime(11339): 致命异常: main 10-11 15:37:36.141: E/AndroidRuntime(11339): java.lang.UnsupportedOperationException 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 java.lang.Thread.stop(Thread.java: 1076) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 java.lang.Thread.stop(Thread.java:1063) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在com.Activity.new2you4kids.MainClass.startCamera(MainClass.java:179) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 com.Activity.new2you4kids.MainClass$1.handleMessage(MainClass.java:61) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 android.os.Handler.dispatchMessage(Handler.java:99) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 android. os.Looper。循环（Looper.java:137）10-11 15:37:36.141：E/AndroidRuntime（11339）：在 android.app.ActivityThread.main（ActivityThread.java:4424）10-11 15:37:36.141：E/ AndroidRuntime(11339): 在 java.lang.reflect.Method.invokeNative(Native Method) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 java.lang.reflect.Method.invoke(Method.java: 511) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 10-11 15:37:36.141: E/ AndroidRuntime(11339): 在 com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 dalvik.system.NativeStart.main(Native方法）lang.reflect.Method.invokeNative(Native Method) 10-11 15:37:36.141: E/AndroidRuntime(11339): at java.lang.reflect.Method.invoke(Method.java:511) 10-11 15:37 :36.141: E/AndroidRuntime(11339): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 com. android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 10-11 15:37:36.141: E/AndroidRuntime(11339): at dalvik.system.NativeStart.main(Native Method)lang.reflect.Method.invokeNative(Native Method) 10-11 15:37:36.141: E/AndroidRuntime(11339): at java.lang.reflect.Method.invoke(Method.java:511) 10-11 15:37 :36.141: E/AndroidRuntime(11339): 在 com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784) 10-11 15:37:36.141: E/AndroidRuntime(11339): 在 com. android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 10-11 15:37:36.141: E/AndroidRuntime(11339): at dalvik.system.NativeStart.main(Native Method)主（ZygoteInit.java:551）10-11 15:37:36.141：E/AndroidRuntime（11339）：在 dalvik.system.NativeStart.main（本机方法）主（ZygoteInit.java:551）10-11 15:37:36.141：E/AndroidRuntime（11339）：在 dalvik.system.NativeStart.main（本机方法）

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:55:00.770

Camera.open() 尝试打开我认为的默认后置摄像头，因此它返回 null 因为背面没有摄像头。

如果您尝试使用函数 Camera.open(int) 打开前置摄像头会怎样？

像这样：

```
int getFrontCameraId() {
    CameraInfo ci = new CameraInfo();
    for (int i = 0 ; i < Camera.getNumberOfCameras(); i++) {
        Camera.getCameraInfo(i, ci);
        if (ci.facing == CameraInfo.CAMERA_FACING_FRONT) return i;
    }
    return -1; // No front-facing camera found
} 
```

得到它是这样的：

```
int index = getFrontCameraId();
if (index == -1) error();
Camera c = Camera.open(index); 
```

来自：[如何检测是否有前置摄像头以及是否有前置摄像头如何到达和使用？](https://stackoverflow.com/questions/3937718/how-to-detect-if-there-is-front-camera-and-if-there-is-how-to-reach-and-use-fron)

**编辑：**您使用的代码非常旧并且具有各种旧功能，我认为您遇到的崩溃是由旧线程函数（停止）引起的。

来自链接的代码：

```
 public void startCamera() {
        setContentView(R.layout.camview);
        fGameView = null;
        fGameThread.stop();
        fGameThread=null; 
```

根据开发者网站：

stop() 此方法已弃用。因为以这种方式停止线程是不安全的，并且会使您的应用程序和 VM 处于不可预测的状态。

看：

[java.lang.UnsupportedOperationException 当我的启动画面启动时](https://stackoverflow.com/questions/8024434/java-lang-unsupportedoperationexception-when-my-splash-screen-starts)

[http://developer.android.com/reference/java/lang/Thread.html#stop()](http://developer.android.com/reference/java/lang/Thread.html#stop%28%29)

**编辑二：**

将 onCreateOptionsMenu 代码更改为此，您不应使用 myMenu 变量。

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    super.onCreateOptionsMenu(menu);
    menu.add(0, MENU_START, 0, R.string.menu_start);
    menu.add(0, MENU_SEND, 0, R.string.menu_send);
    return true;
} 
```

# objective-c - 在 XCode 项目中设置 Web 服务主机名

> ID：12836802
> 
> 赞同：1
> 
> 时间：2012-10-11T09:50:35.483
> 
> 标签：objective-c, xcode, git, github

我对 Xcode 有一个小问题，想知道是否有人以聪明的方式解决了这个问题？

设想：

*   两名开发 iOS 应用程序的开发人员。
*   托管在 GitHub 上的单个 Xcode 项目。
*   我有三种配置：Debug、TestFlight 和 Release。
*   至少对于发布版本，我希望将我们的 Web 服务 API 的主机名编译到应用程序中。

我在 API 包装器中有这样的代码：

```
#ifdef CONFIGURATION_Debug
   static NSString * const kAPIBaseURLString = @"http://10.10.10.41:8080/api";
#elif CONFIGURATION_TestFlight
   static NSString *const kAPIBaseURLString = @"http://9.9.9.9.eu-west1.compute.amazonaws.com:8080/api";
#elif CONFIGURATION_Release
   static NSString * const kAPIBaseURLString = @"http://some.production.server";
#else
   static NSString * const kAPIBaseURLString = @"http://error-crazy-configuration-must-be-set-in-xcode";
#endif 
```

这一切都很好，但是，开发人员之间存在关于`DEBUG`字符串的 Git 之争。每个都指向我们自己的开发实验室，并且该文件不断地作为一个地址或下一个地址签入。它是一种痛苦。

我不想让 git "assume-nochanges" 因为在这个类中有重要的代码定期更改。

我曾考虑将主机名作为 arg 传递，但这也会导致 git 看到的项目结构发生变化。

关于如何让我们设置主机名而不需要 Xcode 或 git 的任何脑电波？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:58:22.973

在 Xcode 中使用方案。对于运行配置，添加一个环境变量：

```
APIBASEURLSTRING http://10.10.10.41:8080/api 
```

对于 Release 配置，添加相同的环境变量：

```
APIBASEURLSTRING http://some.production.server 
```

...以及其他构建配置的等等。

在管理方案下，确保未选中共享复选框。

在您的代码中，使用以下命令访问环境变量：

```
baseUrlString = [[[NSProcessInfo processInfo] environment] objectForKey:@"APIBASEURLSTRING"]; 
```

只要您不使用共享方案，所有用户都可以设置自己的环境变量/自定义端点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T11:02:36.280

使用名称而不是 IP 地址。

开发人员 #1的`/etc/hosts`文件包含以下条目：

```
10.10.10.4     mydevserver 
```

开发人员 #2的`/etc/hosts`文件包含以下条目：

```
192.168.0.66   mydevserver 
```

然后设置`CONFIGURATION_Debug`为：

```
#ifdef CONFIGURATION_Debug
   static NSString * const kAPIBaseURLString = @"http://mydevserver:8080/api";
.... 
```

# xml - Solr：对多个文件进行排序，其中一个是日期

> ID：12836805
> 
> 赞同：1
> 
> 时间：2012-10-11T09:50:47.483
> 
> 标签：xml, solr

我正在尝试在 solr 中搜索，结果必须先按日期排序，然后按名称字段排序。我能够得到预期的结果，因为日期是这种格式：`2012-09-07T13:31:35Z`.

查询是这样的：

```
sort=date+desc,name+desc 
```

我也不希望按时完成排序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:42:47.333

您可以在日期使用功能，例如在您的情况下

```
sort=floor(div(ms(date),86400000))+desc,name+desc 
```

*请注意，这需要未将通配符的 dynamicField 设置为忽略，即schema.xml*中不应出现以下行，如果是，则需要将其注释掉或使用某些数字类型，然后才能按上述方式排序

```
<dynamicField name="*" type="ignored" multiValued="true" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:46:30.170

另一种选择也将**仅**将日期部分存储为数字表示（即时间戳，从过去某个日期到文档日期凌晨 12 点的秒数）。
如果您遵循有关时间戳的通用标准，则应该相当容易维护、查询和从时间戳转换为日期，反之亦然。

# javascript - 淘汰赛可排序绑定顺序

> ID：12836810
> 
> 赞同：2
> 
> 时间：2012-10-11T09:51:15.097
> 
> 标签：javascript, jquery, knockout.js, jquery-ui-sortable

这是一个问题的后续：[KnockoutJS Sortable group observableArray by field and conditionally sort](https://stackoverflow.com/questions/12822961/knockoutjs-sortable-group-observablearray-by-field-and-conditionally-sort)

还有两件事我正在努力实现。首先，当嵌套列表项被拖到另一个列表时，父项为空，我想删除父项。我通过创建 afterMove 函数并检查 sourceParent 长度是否为 0 来完成此操作。然后我查看路由以查看是否有空任务数组并相应地删除。我想知道这是否是一个有效的解决方案。我还必须删除任务，否则任务订阅会在删除计划任务时添加重复项。

其次，也是最重要的基础对象（Task）有一个 order 属性。我想将此绑定到可排序的顺序，以便在将任务拖到 Scheduled 列表中时更新 order 属性。如何从可排序回调中访问其他列表项的顺序？

请看下面这个[Fiddle](http://jsfiddle.net/mrfunnel/h7ZPY)。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T13:29:14.323

对于第一个问题，有一种稍微优化的方法可以做到。 `arg.sourceParent`包含在`tasksByRoute`要删除的项目中。该`remove`函数可以采用一个函数来针对项目运行。所以，你可以这样写：

```
self.afterMoveCallback = function(arg) {
    if (arg.sourceParent().length === 0) {
        self.tasksByRoute.remove(function(route) {
           return route.tasks === arg.sourceParent; 
        });
    }
}; 
```

对于第二个问题，我真的很喜欢使用一个扩展来自动跟踪 observableArray 中的顺序。它看起来像：

```
//track an index on items in an observableArray
ko.observableArray.fn.indexed = function(prop) {
    prop = prop || 'index';
   //whenever the array changes, make one loop to update the index on each
   this.subscribe(function(newValue) {
       if (newValue) {
           var item;
           for (var i = 0, j = newValue.length; i < j; i++) {
               item = newValue[i];
               if (!ko.isObservable(item[prop])) {
                  item[prop] = ko.observable();
               }
               item[prop](i);  //add 1 here if you don't want it to be zero based
           }
       }   
   }); 

   //initialize the index
   this.valueHasMutated(); 
   return this;
}; 
```

在您的情况下，您可以像这样使用它：

```
self.scheduledTasks = ko.observableArray([
    new Task(8, 4, "Route 4", "Cust 8", 1),
    new Task(9, 4, "Route 4", "Cust 9", 2),
    new Task(10, 5, "Route 5", "Cust 10")
    ]).indexed("order"); 
```

以下是使用这两项更改更新的示例：http: [//jsfiddle.net/rniemeyer/usVKQ/](http://jsfiddle.net/rniemeyer/usVKQ/)

# windows - Windows Subversion 差异

> ID：12836819
> 
> 赞同：0
> 
> 时间：2012-10-11T09:51:32.450
> 
> 标签：windows, svn

在 Unix 中，很容易执行颠覆差异。我已将所有文件输出到一个目录，并对每个文件进行了比较。

但是，在 Windows 中，我如何在不使用 tortoise SVN 的情况下做到这一点？我想将 subversion 中的文件提取到本地机器上的目录中，并将它们与我从生产机器收到的文件进行比较，然后进行比较。

我希望能够编写一个可以在需要时运行的脚本。

我如何在 Windows 上实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:35:30.050

TortoiseSVN 1.7 和更新版本可以选择安装与 UNIX 版本相同的命令行客户端工具（`svn.exe`等）。`diff`您可以从[各种来源](https://www.google.com/search?q=win32+diff)获得 Win32 控制台版本，然后使用您选择的脚本工具（WSH、PowerShell 或 BAT）将它们粘合在一起。

有些人可能还建议使用`Cygwin`; 我真的不喜欢尝试在另一个类似的操作系统上模拟一个操作系统环境的想法，因为它并不总是以您期望的方式工作。但是，如果您已经在 UNIX 上拥有一个 shell 脚本，那么这可能是将其移植到 Windows 时阻力最小的路径。

# jquery - 保持/更改上传的图像大小

> ID：12836824
> 
> 赞同：0
> 
> 时间：2012-10-11T09:52:20.210
> 
> 标签：jquery, image, jquery-ui-resizable

我想以这样一种方式放置上传的图像，如果图像大小小于容器 div，它会保持其原始大小，但如果图像大小大于容器 div，那么它适合 div，我必须提供宽度和图像的高度，否则 jquery.resizable 将不起作用。有什么可能的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:02:20.120

您可以使用最大高度和最大宽度。

```
.imgClass{

 max-height: container-height;
 max-width: container-width;
} 
```

# java - 使用 ant build 生成战争时替换 jnlp 中的字符串

> ID：12836825
> 
> 赞同：2
> 
> 时间：2012-10-11T09:52:21.853
> 
> 标签：java, ant, jnlp, java-web-start, replace

任何人都可以帮助我在构建应用程序时如何替换 jnlp 中的字符串。这是我遵循的步骤。

1.  创建一个包含字符串内容的 jnlp 文件，例如

    ```
    <jnlp spec="1.0+" codebase="%$%test.url$" href="test.jnlp"> 
    ```

2.  而且我们的应用程序依赖于环境，在生成 war 时，我会将命令行参数传递给 ant build。所以基于这个命令行参数，我们确实在属性文件中维护了一个不同的 URL。
3.  在构建应用程序时，我无法替换 jnlp 中依赖于环境的 URL。

有人可以就此提出建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T07:35:30.590

例如，要将参数传递给 ant 以选择环境，您可以启动 ant，`ant -Denv=prod`或者`ant -Denv=test`根据`env`属性在 ant build.xml 中做出决定。

您可以根据所选环境设置其他属性，如下所示：

```
<target name="compile" depends="init" description="compile the source">
  <!-- settings for production environment -->
  <condition property="scalacparams"
             value="-optimise -Yinline -Ydead-code -Ywarn-dead-code -g:none -Xdisable-assertions">
    <equals arg1="${env}" arg2="prod"/>
  </condition>
  <condition property="javacparams" value="-g:none -Xlint">
    <equals arg1="${env}" arg2="prod"/>
  </condition>

  <!-- settings for test environment -->
  <condition property="scalacparams" value="-g:vars">
    <equals arg1="${env}" arg2="test"/>
  </condition>
  <condition property="javacparams" value="-g -Xlint">
    <equals arg1="${env}" arg2="test"/>
  </condition>

  <!-- abort if no environment chosen -->
  <fail message="Use -Denv=prod or -Denv=test">
    <condition>
      <not>
        <isset property="scalacparams"/>
      </not>
    </condition>
  </fail>

  <!-- actual compilation done here ->
</target> 
```

您还可以使用`<if>`仅针对特定环境执行特定操作：

```
 <if> <!-- proguard only for production release -->
    <equals arg1="${env}" arg2="prod" />
    <then>
      <!-- run proguard here -->
    </then>
  </if> 
```

最后，要根据环境将字符串插入文件，首先在检查选择了哪个环境后设置一个属性（如上），然后：

```
<copy file="template.jnlp" tofile="appname.jnlp">
  <filterset begintoken="$" endtoken="$">
    <filter token="compiledwith" value="${scalacparams}"/>
    <!--- more filter rules here -->
  </filterset>
</copy> 
```

假设 template.jnlp 是一个由 $ 包围的占位符的文件。在示例中，template.jnlp 中的 $compiledwith$ 将被替换为之前设置的 scala 编译器参数，并将结果写入 appname.jnlp。

# java - Java 线程模型

> ID：12836829
> 
> 赞同：1
> 
> 时间：2012-10-11T09:52:41.867
> 
> 标签：java, jakarta-ee, thread-safety

我对普通的 java 线程理论有疑问。

线程 A 锁定了某个对象，比如说 xObj。现在线程 B 如何知道线程 A 已经锁定了对象 xObj。

这是如何在 java 中实现的。

提前致谢。

感谢您的回答....在这里我想澄清一下...我不必实现这个。我关心的是Java是如何实现的。线程B如何知道有人已经锁定在 Object.May 是 Object 类或其他一些类已经实现了这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:02:59.397

> 线程 A 锁定了某个对象，比如说 xObj。现在线程 B 如何知道线程 A 已经锁定了对象 xObj。

这取决于您正在谈论的锁类型。

*   对于原始互斥体，一个线程无法测试另一个线程是否持有互斥体，更不用说找出它是哪个线程了。（它可以测试是否持有锁......）

*   该`Lock`接口同样不支持这一点。

*   该类`ReentrantLock`确实提供了一种方法来找出这一点：请*参阅*`ReentrantLock.getOwner()`. 但是请注意，这是一种方法，因此如果您想让该方法普遍可用`protected`，您需要创建一个子类。`ReentrantLock`

* * *

我也会质疑这种方法的价值。它只能告诉您在调用时哪个（如果有）线程拥有锁。片刻之后，主人可能已经改变了。

相比之下，`Thread.holdsLock()`为您提供可以依赖的信息……尽管这些信息在大多数情况下没有用处。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:05:17.907

您有以下选择

1.  [Thread.holdsLock(Object object)](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html#holdsLock%28java.lang.Object%29)在这种情况下，您将需要 A 中 B 的线程实例。
2.  [ReentrantLock.getOwner()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantLock.html#getOwner%28%29) , [ReentrantLock.hasQueuedThread(Thread 线程)](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantLock.html#hasQueuedThread%28java.lang.Thread%29)

> 但是B不需要知道A有锁，一旦锁被释放，如果没有任何线程在等待它，B就可以使用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T09:55:25.733

你说的是哪个锁？例如，如果它是[ReentrantLock](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantLock.html)，你可以调用

```
 lock.getOwner() 
```

编辑：

```
synchronized(xObj) { } 
```

不是您所暗示的锁。它在概念上更接近于[监视器锁](http://en.wikipedia.org/wiki/Monitor_%28synchronization%29)。您使用同步块的功能有限，这正是存在 ReentrantLock 之类的类的原因。来自 doc

> 一种可重入互斥锁，其基本行为和语义与使用同步方法和语句访问的隐式监视器锁相同，但具有扩展功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T10:01:07.863

**-**当一个线程获得`lock`一个对象的时候，那么所有的`synchronized`方法都只能通过**那个线程访问，并且没有一个**，直到它离开锁。

**-**如果`Thread A`拥有`lock`一个对象并`Thread B`尝试访问**同一对象**上的锁，则`can't access`它。由于锁在 A 上，**它对线程 B 来说并不重要，锁与谁在一起，但锁是否可用**。如果不是，线程 B 进入阻塞状态，直到线程 A 释放锁。

# jquery - 在层次结构中添加图像以在 html 中选择选项标签

> ID：12836830
> 
> 赞同：0
> 
> 时间：2012-10-11T09:52:43.550
> 
> 标签：jquery, html

我必须在选择选项标签中以分层方式添加图像。有一些方法，但不能满足我的需要，即分层表示。我通过的链接是：http: [//jquery-ui.googlecode.com/svn/branches/labs/selectmenu/index.html](http://jquery-ui.googlecode.com/svn/branches/labs/selectmenu/index.html)和 [http://www.marghoobsuleman.com/](http://www.marghoobsuleman.com/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T08:47:34.447

有很好的链接来完成我的任务。实际上它不是选择选项，而是通过 css 和 javascript 给出了这样的效果。[http://www.givainc.com/labs/mcdropdown_jquery_plugin.htm](http://www.givainc.com/labs/mcdropdown_jquery_plugin.htm)

# python - 使用 zc.buildout 为 Flask 构建 wsgi 脚本

> ID：12836832
> 
> 赞同：1
> 
> 时间：2012-10-11T09:52:53.503
> 
> 标签：python, flask, mod-wsgi, buildout

我正在构建一个带有 Flask 支持的 Rest 服务的应用程序。我想用 Apache / mod_wsgi 部署它，如下所述：http: [//flask.pocoo.org/docs/deploying/mod_wsgi/](http://flask.pocoo.org/docs/deploying/mod_wsgi/)

但我坚持构建 Apache 所需的 myapp.wsgi 文件。更具体地说，我无法调整 sys.path 以便我的应用程序所需的构建中的所有鸡蛋都可以包含在内。我发现的食谱需要我不想在我的软件堆栈中使用的 PasteScript 和 PasteDeploy。

```
import sys
sys.path[0:0] = [
    # How to compute the paths to add since I need 'foo' and 'bar' eggs
    # that are created by buildout ?
    ]
from foo import app as application 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-17T14:56:41.687

最好的方法可能是使用 PasteDeploy 和collective.recipe.modwsgi [http://pypi.python.org/pypi/collective.recipe.modwsgi/](http://pypi.python.org/pypi/collective.recipe.modwsgi/)

简单的 .ini 文件：

```
[应用程序：主要]
paste.app_factory = foo.app:make_app

```

在您的代码中：

```
def make_app(global_conf, **local_conf):
     退货申请

```

# amazon-web-services - 在哪里以及如何读取 ebextensions 执行的结果？

> ID：12836834
> 
> 赞同：24
> 
> 时间：2012-10-11T09:52:55.437
> 
> 标签：amazon-web-services, amazon-elastic-beanstalk

我将`.ebextensions/start.config`文件添加到我的 WAR 包的根文件夹（如[AWS 建议的那样](http://docs.amazonwebservices.com/elasticbeanstalk/latest/dg/customize-containers.html)），将其部署到 Elastic Beanstalk，但什么也没发生。我可以在 EC2 实例的哪个位置查看此文件处理的日志？或者我可以在 EBT 的 TAIL 报告中看到这些信息？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-08-30T11:37:23.463

通过在线控制台为您的 Elastic Beanstalk 环境生成日志快照。

查看日志时，搜索以“cfn-init.log”开头的部分。

在该部分中，您会看到类似的条目

```
2013-08-30 10:25:13,517 [INFO] Command 01-ec2setcomputername-enable succeeded
2013-08-30 10:25:24,516 [INFO] Command 02-install-server-monitor succeeded
2013-08-30 10:25:30,115 [INFO] Command 03-install-agent succeeded 
```

其中 01-ec2setcomputername-enable 等是我的 .config 文件中的命令名称。如果命令失败，您也应该在此处看到错误消息。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-05-29T19:29:20.947

您可以在 Web UI 中跟踪一些日志以查看您是否`.ebextensions`工作（[通过 Elastic Beanstalk → 查看环境 → 日志](http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.loggingS3.title.html)）。您应该看到您定义的每个命令的成功或失败消息。（例如，对于名为的命令，`01_setup`您将看到类似 .) 的消息`command 01_setup succeeded`。）

### 查看命令输出

虽然日志快照会显示命令失败，但不会显示命令输出：

```
[ERROR] Command 01_setup (setup.cmd) failed
[ERROR] Error encountered during build of postbuild_0_server: Command 01_setup failed
Traceback (most recent call last):
   <irrelevant traceback> 
```

您可以连接到底层 EC2 服务器并查看`cfn-init-cmd.log`文件中的命令输出（`c:\cfn\log\cfn-init-cmd.log`在 Windows 或`/var/log/cfn-init-cmd.log`Linux 中）。这提供了更多有用的信息：

```
[INFO] Running command "setup.cmd"
[INFO] -----------------------Command Output-----------------------
[INFO]  'setup.cmd' is not recognized as an internal or external command,
[INFO]  operable program or batch file.
[INFO] ------------------------------------------------------------
[ERROR] Exited with error code 1 
```

有关连接到 EC2 实例的帮助，请参阅[Windows 说明](http://blogs.aws.amazon.com/net/post/Tx1MVS5K9DFA275/Connecting-to-Amazon-EC2-Instances-from-the-AWS-Toolkit-for-Visual-Studio)。

### 进一步的故障排除

命令输出还允许您运行任意命令来确定发生了什么。例如，正在执行的命令在哪个目录中？

这是`.ebextensions`文件：

```
container_commands:
  where_am_i:
    command: dir 
```

这是输出`cfn-init-cmd.log`：

```
[INFO] Running command "dir"
[INFO] -----------------------Command Output-----------------------
[INFO]   Volume in drive C has no label.
[INFO]   Volume Serial Number is 12A7-BAEB
[INFO]  
[INFO]   Directory of C:\inetpub\wwwroot
[INFO]  
[INFO]  05/29/2015  05:42 PM    <DIR>          .
[INFO]  05/29/2015  05:42 PM    <DIR>          ..
[INFO]  05/29/2015  05:42 PM    <DIR>          .ebextensions
[INFO]  05/29/2015  05:31 PM    <DIR>          bin
[INFO]  05/28/2015  05:20 PM               106 Global.asax
[INFO]  05/28/2015  05:20 PM               498 packages.config
[INFO]  05/28/2015  05:20 PM             2,054 README.md
[INFO]  05/29/2015  06:56 PM             3,064 Web.config
[INFO]                 4 File(s)          5,722 bytes
[INFO]                 4 Dir(s)   4,553,273,344 bytes free
[INFO] ------------------------------------------------------------
[INFO] Completed successfully. 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-10-11T16:23:07.687

在 Linux 32 位 Tomcat 7 容器上，我能够在以下位置找到日志： `/var/log/eb-tools.log`，在那里我能够看到我的哪些命令失败了。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-05-12T14:15:10.760

对于 Windows，包含您的自定义 ebextension 输出的日志文件不是您通过 EB 控制台“请求日志”命令获得的 EB 日志的一部分。但是，您可以通过 .ebextension 文件中的文件命令轻松将该日志文件添加到包中：

```
files:
  "C:\\Program Files\\Amazon\\ElasticBeanstalk\\config\\taillogs.d\\cfn-init-cmd.conf" :
    content: |
      c:\cfn\log\cfn-init-cmd.log 
```

它所做的只是使用要添加到日志包中的日志文件 (cfn-init-cmd.log) 的名称创建一个新的配置文件 (cfn-init-cmd.conf)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-03-03T08:30:45.647

安装和配置[eb cli](http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-cmd-commands.html)比：

```
 eb logs development 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-11-14T19:26:37.287

您可以通过 ssh 进入 ec2 查看日志并查看日志。为此，从根文件夹执行：

```
cat /var/log/cfn-init-cmd.log 
```

# vb.net - 锚定两个控件+中心

> ID：12836835
> 
> 赞同：2
> 
> 时间：2012-10-11T09:52:56.747
> 
> 标签：vb.net, winforms

我试图锚定两个进展，但我看不到获得预期结果的方法。我希望左侧进度条固定在左侧，右侧栏固定在中心固定的右侧（如下图所示）

![在此处输入图像描述](../Images/2d65f68b077e2309c0433fa2cf3838a4.png) （下图显示调整大小的表格）

我尝试将控件放在具有各种锚点的停靠面板上，但我无法获得所需的结果，知道吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T11:17:58.033

我建议您使用 a`SplitContainer`并为每个面板添加一个进度条。锚定左右两侧的钢筋，然后确保分离器放置在容器的中间。如果不应允许用户随后移动拆分器，请设置

`splitContainer1.IsSplitterFixed = false`

# javascript - 根据数组迭代的结果在 res.render 中提供不同的内容

> ID：12836836
> 
> 赞同：0
> 
> 时间：2012-10-11T09:53:02.270
> 
> 标签：javascript, node.js, express, ejs

我最初为一个基本功能创建了一个显示路线，以从 mongodb 数据库（使用 mongoose）获取特定地图，然后使用 .ejs 模板将地图渲染到客户端。

然后我想创建功能来收藏地图并添加到用户的收藏夹中（用户拥有自己的模型）。作为其中的一部分，在下面的显示路线中，我想确保如果用户已经收藏了一张地图，则将在客户端呈现不同的内容以反映地图已经收藏而不是继续显示收藏特定路线的选项。

我一直在尝试使用的方法如下面的代码所示。这确定是否存在具有收藏夹的经过身份验证的用户（使用 passport-local 及其 req.user 功能），然后设计为迭代收藏夹并在用户收藏夹中已有地图时呈现不同的变量。

我遇到的问题主要是因为将为数组中的所有项目调用 if/else 路由，从而导致多个 res.render 调用发生冲突，这显然不是我的意图（它在只有一个的情况下可以正常工作例如数组中的项目）。但是，我试图修改代码以不提供其他路线，但这仍然留下了如何处理失败的问题，以便在存在经过身份验证的用户但不存在其收藏夹的情况下呈现单独的内容。

我还尝试通过 ejs-locals 使用 partial 来迭代 ejs 模板本身中的收藏夹，但这似乎也不起作用（我怀疑出于与上述类似的原因）。

所以我想知道的是数组迭代方法是否合适或可行，还有一个更广泛的问题，即是否有更好的方法可以根据某些服务器端变量在同一条路线上显示不同的内容。

客户端代码

```
<div class="row">

<% if (favourite == "No") { %>
    <div class="twelvecol" id="result"><div class="textbox" id="favourite">Favourite this route</div></div>

<% } else { %>
    <div class="twelvecol" id="result"><div class="textbox">This route is in your favourites</div></div> 
```

服务器端代码

```
// Locates map on basis of ID in url before returning map, stringifying and sending to server

exports.show = function(req, res) {
var mapid = req.query.id;
console.log(mapid);
Map.findOne({_id: req.query.id}, function(err, map) {

         var jmap = JSON.stringify(map);
              if (req.user && req.user.favourites.length) {
                  favarray = req.user.favourites;
                  console.log(favarray);
                  for (var i = 0; i < favarray.length; i++) {
                        var favs = favarray[i];
                        if (favs == mapid) {
                           console.log('Favourite');
                           res.render('show', {obj: jmap, user: req.user, favourite: "Yes"})
                        }
                       else (favs !== mapid) {
                            console.log("Authed user but non-favourite")
                            res.render('show', {obj: jmap, user: req.user, favourite: "No"})
                         }
                      }
                   }
            else {
                    console.log("Either non-authed user or no existing favourites")
                    res.render('show', {obj: jmap, user: req.user, favourite: "No"});
                  }
    })
 }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T18:17:16.977

在经典的服务器端 MVC 意义上，让动作甚至视图处理模板引擎调整响应的动态部分是绝对可以的。

只要您的用户对象不暴露给视图（作为 ejs 本地），您就应该以您开始的方式获得您想要的 - 进行一些重要的修改： 1\. 不要在循环内渲染。（为什么？！这实际上必须导致多次渲染调用！） 2\. 使用对动作块可见的变量。3\. 跳过 else 语句后面的条件！（这行得通吗？！我很好奇解析器是如何评估它的。通常你会用一个`else if (condition)`或使用一个开关来做到这一点——但在你的 a/b 情况下你不需要它！）。

关于更简洁代码的步骤的建议（仅限 req.user 案例）：

```
var fav = false;

for (var i = 0; i < favarray.length; i++) {
  if (favarray[ i ] == mapid) {
    fav = true;
    break;
  }
}

res.render('show', {obj: jmap, user: req.user, favourite: fav}) 
```

作为附加建议：对布尔变量使用*布尔值*而不是字符串，`favourite`如下所示在您的 ejs 模板中处理它们：

```
<% if (favourite) { %>
  ...
<% } else { %>
  ... 
```

此外，您可能应该调整您的第一个 if 条件检查用户是否存在以及用户是否有喜欢的项目：如果您想分别处理这两个条件，则不应将它们组合在一个条件语句中。

# objective-c - 检查 NSArray 中的所有对象是否相同

> ID：12836839
> 
> 赞同：2
> 
> 时间：2012-10-11T09:53:13.673
> 
> 标签：objective-c, ios, xcode, nsarray

我在互联网上搜索过这个，但没有找到解决方案......

这是我想要的：

假设我有一个`NSArray`包含三个对象的对象。这三个对象是：

```
{

@"Hi",
@"Hi",
@"Hi"

 } 
```

在这种情况下，数组包含三个字符串，它们都是相等的。

我想证明这一点，我想创建一个循环遍历所有对象的`NSArray`类别`BOOL`方法，`YES`如果它们都相同则返回。这是一个例子：

```
NSArray *array = [[NSArray alloc] initWithObjects: @"Object", @"Object", @"Object", nil];

if ([array allObjectsAreIdentical /* method I would have to create */) {

     NSLog(@"All objects in this array are identical");
} 
```

我很确定没有内置的方法可以做到这一点，而且我也不想走繁琐的路线并手动比较每个对象。

谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-11T09:57:14.263

关于什么

```
NSSet *set = [NSSet setWithArray:array];
if ([set count] == 0) {
     // array is empty. Does that count as identical ?
} else if ([set count] == 1) {
     // all objects in array are identical
} else {
     // there are different objects
} 
```

**编辑：**写为`NSArray`类​​别方法，这将是

```
-(BOOL) allObjectsAreIdentical
{
    NSSet *set = [NSSet setWithArray:self];
    return ([set count] <= 1);
} 
```

*注意：*您应该知道，这个解决方案（即使它*看起来很*优雅）会比较数组中不必要的对象。因此，如果性能是一个问题，您最好使用其他解决方案，例如@dieworld 提出的解决方案。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T10:04:18.080

在资源和时间方面更便宜（我希望）的方式：

```
- (BOOL) allObjectsAreIdentical
{
    if (self.count < 2) return YES;
    for (int i = 0; i < self.count - 1; i++) {
        if (![[self objectAtIndex: i] isEqual: [self lastObject]]) return NO;
    }
    return YES;
} 
```

假设一个对象总是等于自己，零个对象也相等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-12T17:42:35.663

建议更快一点，避免在数组为空时引发异常。应该是 NSArray 的一个类别才能普遍使用。除非至少有两个元素，否则不检查。在调用 isEqual: 之前检查对象指针，假设经常相等的对象实际上是同一个对象。

```
@interface NSArray (objectsAreIdentical)
- (BOOL)allObjectsAreIdentical;
@end

@implementation NSArray (objectsAreIdentical)

- (BOOL)allObjectsAreIdentical
{
    BOOL result = YES;
    if (self.count >= 2)
    {
        id firstObject = self [0];
        for (id object in self)
        {
            if (firstObject != object && ! [firstObject isEqual:object])
            {
                result = NO;
                break;
            }
        }
    }

    return result;
}
@end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-11T10:00:53.110

我的建议是（只是把它放在这里..以防万一）：

```
- (BOOL)allObjectsAreIdenticalInArray:(NSArray *)mArray
{
    if(!mArray || ![mArray count])
    {
        return YES;//if it is empty
    }

    NSString *mTestString = [mArray objectAtIndex:0];

    for(NSString *mString in mArray)
    {
        if(![mTestString isEqalToString:mString])
        {
            return NO; //we found atleast one who isnt.
        }
    }

    return YES; //everything checks out - they all are the same.
} 
```

但我会选择**Martin R**解决方案。

# opengl - texelFetch() 中的 samplerBuffer

> ID：12836841
> 
> 赞同：3
> 
> 时间：2012-10-11T09:53:22.893
> 
> 标签：opengl, glsl, shader, textures

片段着色器：

```
out vec4 Color;
uniform samplerBuffer sampler;
uniform int index;
void main() 
{
   Color=normalize(texelFetch(sampler,index));

} 
```

我正在使用 glTexBuffer() 对[http://www.opengl.org/sdk/docs/man3/xhtml/glTexBuffer.xml](http://www.opengl.org/sdk/docs/man3/xhtml/glTexBuffer.xml)中给出的所有内部格式进行纹理化。以上着色器仅适用于 ubyte、ushort 规范化类型和 float、halffloat 非规范化类型。对于其余的内部格式，它不会在几何体上应用纹理。

我需要改变什么才能达到预期的效果？

代码

```
GLbyte arr[]={124,5,126};
glGenBuffers(1,&bufferid);

glBindBuffer(GL_TEXTURE_BUFFER,bufferid);

glBufferData(GL_TEXTURE_BUFFER,sizeof(arr),arr,GL_STATIC_DRAW);

glGenTextures(1, &buffer_texture);   

glBindTexture(GL_TEXTURE_BUFFER, buffer_texture);
glTexBuffer(GL_TEXTURE_BUFFER, GL_R8I, bufferid);

glUniform1i(glGetUniformLocation(shader_data.psId,"sampler"),0);
glUniform1i(glGetUniformLocation(shader_data.psId,"index"),0);

glGenBuffers(1,&bufferid1);

glBindBuffer(GL_ARRAY_BUFFER,bufferid1);
glBufferData(GL_ARRAY_BUFFER,sizeof(vertices4),vertices4,GL_STATIC_DRAW);

attr_vertex = glGetAttribLocation(shader_data.psId, "a_position");

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0, 0);

glEnableVertexAttribArray(attr_vertex);

glDrawArrays(GL_TRIANGLE_FAN,0,4);

glUniform1i(glGetUniformLocation(shader_data.psId,"index"),1);

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0,(void *)(32) );

glDrawArrays(GL_TRIANGLE_FAN,0,4);

glUniform1i(glGetUniformLocation(shader_data.psId,"index"),2);

glVertexAttribPointer(attr_vertex, 2 , GL_FLOAT, GL_FALSE ,0,(void *)(64) );

glDrawArrays(GL_TRIANGLE_FAN,0,4); 
```

我必须使用所有内部格式来应用纹理。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:51:41.120

如果“想要的效果”是拥有一个*可以*处理任何格式的图像数据的着色器，那么就没有办法做到这一点。或者至少，没有*简单的*方法。

你可以有三个不同的采样器，绑定到三个不同的纹理图像单元，对应于三种不同的可能格式（float、signed-int、unsigned-int）。您创建 3 个不同的缓冲区纹理（使用相同的缓冲区），并将适当的纹理绑定到适当的采样器，以获得您希望着色器使用的数据类型。然后你传递一个定义应该使用哪个采样器的制服。

但除了这样的条件逻辑之外，没有。采样器的类型用于确定如何解释给着色器的数据，它必须与纹理的格式相匹配。

通常，着色器旨在预期某些*特定*数据，而不是客户端代码想要扔给它的任何旧的任意东西。从纹理中拉出浮点数的着色器并不关心它是归一化整数还是 16 位浮点数，还是 R11F_G11F_B10F 或其他；着色器只想要浮动。将图像推送到需要浮动的着色器是不合适的。

# asp.net - 在 ASP 中使用 AJAX SlideShowextender

> ID：12836843
> 
> 赞同：0
> 
> 时间：2012-10-11T09:53:39.453
> 
> 标签：asp.net, ajax

我已经创建了 asp.net 网页，并在其上使用了 AJAX 控制工具包的幻灯片扩展器。[我做了与这里](http://www.netrostar.com/How-to-use-SlideShow-extender-from-ASP.NET-AJAX-Control-Toolkit)提到的相同的步骤， 我可以在我的页面设计器上看到图像控件，但是当我在浏览器中打开页面时，它根本不显示图像控件。

请建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T09:57:09.387

使用 Chrome 开发者工具 (F12) 查看 javascript 控制台中是否有任何错误。

# android - 如何在 Android 中为 GCM 项目创建服务器

> ID：12836844
> 
> 赞同：2
> 
> 时间：2012-10-11T09:53:40.400
> 
> 标签：android, google-cloud-messaging

我正在[Google Cloud Messaging](http://en.wikipedia.org/wiki/Google_Cloud_Messaging) (GCM) 上创建一个项目，并且正在关注[本教程](http://developer.android.com/guide/google/gcm/gs.html)。

我完成了客户端工作并在客户端设置了设备。我还使用以下代码注册了设备。

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    GCMRegistrar.checkDevice(this);
    GCMRegistrar.checkManifest(this);
    final String regId = GCMRegistrar.getRegistrationId(this);
    if (regId.equals("")) {
        GCMRegistrar.register(this, "483910217912");
        Log.d(tag, "Registered");
    }
    else {
        Log.v(tag, "Already registered");
    }
} 
```

现在我被困在为我的 GCM 项目创建服务器的地方。请注意，我正在创建一个项目以在收到新消息时进行通知。不过，我还没有实现接收消息的服务，但我会在服务器设置完成后实现它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-11T10:06:10.040

*[您可以使用博客文章Google 云消息传递 (GCM) 教程](http://android.amolgupta.in/2012/07/google-cloud-messaging-gcm-tutorial.html)*在 Android 中创建 GCM 服务器，但我更喜欢将[PHP](http://en.wikipedia.org/wiki/PHP)用于服务器端代码。[您可以通过简单的步骤在cURL](http://en.wikipedia.org/wiki/CURL) (PHP) 中创建 GCM 服务器：

1.  从 Google API 控制台页面创建服务器密钥。

2.  识别向其发送此消息的设备的设备令牌。

您可以在*[How to implement a GCM PHP push server for Android](http://www.sherif.mobi/2012/07/gcm-php-push-server.html)*中找到简单的步骤来实现推送服务器。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T10:01:25.907

你可以使用这个代码

```
package yourpackage.android.gcm.server;

import com.google.android.gcm.server.Message;
import com.google.android.gcm.server.MulticastResult;
import com.google.android.gcm.server.Sender;

import java.util.ArrayList;

class Notify {
    public static void main(String args[]) {

        try {

            Sender sender = new Sender("AIzaSyCn3N2OIm-EDtiGwTyQfSIB8NRvDtIOx30");

            ArrayList<String> devicesList = new ArrayList<String>();
//add you deviceID
            devicesList.add("APA91bELVJbxB_NLnLbTkkkX87SDdkJc6OfCN2slhC9t4cLq-KA32eGgiW4-Gi--ZEsEMKIh0AtYJMs5rQGswfm3cH1qK853WcpV98bkaplAaC5AiycDmifuVFSRl21vgf-Rqj0dCrFF");
                        //devicesList.add("APA91bHIdM4XGqrjJLTuwCX5OOrTYG4ACXYEVkZDM1bPs5qFdzJP4Bpql-sZqyKB8BU7fDtdxB84aTygHLyASYg_XNY6lqrcA4wj4sZHJXGVFzz_0UEADMfFCx9NAfRZxunIYso_dkBa");
            //APA91bFA-i2l3iEMnIBs0JK80pTLHOsE7p1s-DysRpKGas1MQOVILyIs9xwY7soysSWGz5Uif68uXR6F5Xn0tCTYesv78uQZxhC310a1cvf8aFohhfMGY6awbOSg3t1GRz2i3U-8kVSF
            // Use this line to send message without payload data
            // Message message = new Message.Builder().build();

            // use this line to send message with payload data
            Message message = new Message.Builder()
                    //.collapseKey("message")
                    //.timeToLive(241000)
                    .delayWhileIdle(true)
                    .addData("message", "Your message send")
                    .build();

                   /**/
            // Use this code to send to a single device
            // Result result = sender
            // .send(message,
            // "APA91bGiRaramjyohc2lKjAgFGpzBwtEmI8tJC30O89C2b3IjP1CuMeU1h9LMjKhmWuZwcXZjy1eqC4cE0tWBNt61Kx_SuMF6awzIt8WNq_4AfwflaVPHQ0wYHG_UX3snjp_U-5kJkmysdRlN6T8xChB1n3DtIq98w",
            // 1);

            // Use this for multicast messages
            MulticastResult result = sender.send(message, devicesList, 1);
            //sender.send(message, devicesList, 0);

            System.out.println(result.toString());
            if (result.getResults() != null) {
                int canonicalRegId = result.getCanonicalIds();
                if (canonicalRegId != 0) {
                }
            } else {
                int error = result.getFailure();
                System.out.println(error);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-12-16T21:22:03.573

该`com.google.android.gcm.server`库已弃用。只需将您的消息编码为 JSON 对象并将其发布到 GCM URL [https://android.googleapis.com/gcm/send](https://android.googleapis.com/gcm/send)

JSON 示例：

```
 {
   "registration_ids" : ["APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx...",...],
   "data" : {
     "Team" : "Portugal",
     "Score" : "3",
     "Player" : "Varela",
   },
 } 
```

这里有更多[http://developer.android.com/google/gcm/http.html](http://developer.android.com/google/gcm/http.html)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-12T07:12:43.880

您可以在 Android SDK 目录中找到 gcm-client 和 gcm-server 的示例代码。这是开始的好点。目录是：

> path_to_android_sdk/extras/google/gcm/samples

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-10-01T16:14:49.060

```
In your main function implement following code to send push notification to your app

final String apiKey = "specify your  api key generated by gcm";

To make http connection to gcm using following code

 URL url = new URL("https://android.googleapis.com/g...");
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setDoOutput(true);
        conn.setRequestMethod("POST");
        conn.setRequestProperty("Content-Type", "application/json");
        conn.setRequestProperty("Authorization", "key="+apiKey);

        conn.setDoOutput(true);

JSON message format accepted by GCM

String input = "{\"registration_ids\" : [\"Specify token you got from GCM\"],\"data\" : {\"message\": \"hai  welcome\"},}";

To send notification

OutputStream os = conn.getOutputStream();
        os.write(input.getBytes());
        os.flush();

In your client app you need to have proper BroadcastReceiver  class to receive the message sent from GCM 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-10-11T10:01:53.603

我会坚持让你测试开发者网站上提供的演示。我刚刚基于它创建了一个演示示例，其中包含执行演示示例应遵循的所有步骤。你可以查看[我的博客](http://lalit3686.blogspot.in/2012/07/android-steps-to-run-gcm-demo.html)，也可以从[我的 github](https://github.com/lalit3686/GCMDemo)找到源代码。

# http - Rest API 不支持 Http 标头：位置

> ID：12836845
> 
> 赞同：0
> 
> 时间：2012-10-11T09:53:41.897
> 
> 标签：http, header, location

我有一个设置标题（位置：“SomeUrl”）的php方法。在从浏览器执行该方法时，我得到了正确的输出，即调用了“SomeUrl”。但是，当我对同一方法进行休息调用时，我得到的是函数返回的输出，而不是“SomeUrl”，但在我的响应标头“位置”中，我确实看到了“SomeUrl”。现在，如果我退出我的方法，我将得到输出为“SomeUrl”。

请有人帮我理解这种行为。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:17:33.693

Meaby 你“休息电话”没有设置 SomeUrl 作为位置参数？

将其设置为每次休息呼叫中的位置，看起来他们尝试拨打新电话。

# github - 请求对用户的 github 个人资料的只读访问权限？

> ID：12836846
> 
> 赞同：1
> 
> 时间：2012-10-11T09:53:42.850
> 
> 标签：github, omniauth

我让用户使用`omniauth-github`gem 通过 Github 登录。

但是，提供电子邮件地址的最基本范围是`user`，其中还包括对其个人资料的写入权限（我不需要，并且正在劝阻用户）。

我如何请求对他们的个人资料进行只读访问？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-24T09:16:07.907

这是一个老问题，但我的团队一直有同样的问题，所以我为后代发布了一个答案。

Omniauth-GitHub gem 具有允许您请求不同权限集的范围[。](http://developer.github.com/v3/oauth/#scopes)在您的情况下，您希望将范围留空，因为这意味着

> 公共只读访问权限（包括公共用户个人资料信息、公共回购信息和要点）。

# ruby - 如何在 Ruby 中建立启用 SSL 的 TCP/IP 连接

> ID：12836847
> 
> 赞同：13
> 
> 时间：2012-10-11T09:53:44.943
> 
> 标签：ruby, sockets, ssl-certificate, tcpclient, tcp-ip

我需要与我的服务器建立 TCP 连接，该服务器具有我需要访问的启用 SSL 的端口。

我需要发送一个 XML 文件并从服务器获取响应。

在启用 SSL 之前，我能够使用下面提到的代码从服务器获取数据。

```
require 'socket'
myXML = 'test_xml' 
host = 'myhost.com'   
port = 12482               

socket = TCPSocket.open(host,port)  # Connect to server  
socket.send(myXML, 0)
response = socket.recvfrom(port)
puts response
socket.close 
```

现在我有一个“certi.pfx”，我需要与它建立连接，发送 my_xml 数据并获得响应。如何才能做到这一点。

我还想知道我是否有“pem”和“key”文件，如何建立连接、发送 my_xml 数据并获得响应。

请帮忙。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-11T11:11:36.623

```
require 'socket'
require 'openssl'

myXML = 'my_sample_data'
host = 'my_host.com'
port = my_port                

socket = TCPSocket.open(host,port)
ssl_context = OpenSSL::SSL::SSLContext.new()
ssl_context.cert = OpenSSL::X509::Certificate.new(File.open("certificate.crt"))
ssl_context.key = OpenSSL::PKey::RSA.new(File.open("certificate.key"))
ssl_context.ssl_version = :SSLv23
ssl_socket = OpenSSL::SSL::SSLSocket.new(socket, ssl_context)
ssl_socket.sync_close = true
ssl_socket.connect

ssl_socket.puts(myXML)
while line = ssl_socket.gets
  p line
end
ssl_socket.close 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-11T10:08:24.203

像这样：

```
 sock = TCPSocket.new('hostname', 443)
  ctx = OpenSSL::SSL::SSLContext.new
  ctx.set_params(verify_mode: OpenSSL::SSL::VERIFY_PEER)
  @socket = OpenSSL::SSL::SSLSocket.new(sock, ctx).tap do |socket|
    socket.sync_close = true
    socket.connect
  end 
```

# c++ - POSIX 计时器：参数无效

> ID：12836851
> 
> 赞同：0
> 
> 时间：2012-10-11T09:53:58.960
> 
> 标签：c++, timer, segmentation-fault, posix

我正在尝试使用 POSIX 计时器，但我的代码无法运行。

```
timer_t id_timer_;

// some code. timer_create(), etc.

void timerPeriod (unsigned long sec, unsigned long nsec)
{
  struct itimerspec myperiod;
  myperiod.it_interval.tv_sec = sec;
  myperiod.it_interval.tv_nsec = nsec;
  myperiod.it_value.tv_sec = sec;
  myperiod.it_value.tv_nsec = nsec;

  if (timer_settime (&id_timer_, 0, &myperiod, 0))
    perror("timer_settime");
} 
```

它返回`timer_settime: Invalid argument`，而参数对我来说看起来不错。

我也尝试过`timer_settime(id_timer_, 0, &myperiod, 0)`（没有**&**之前`id_timer_`），我认为这是使用的好方法`timer_settime()`：分段错误......

有什么线索吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:17:47.173

我假设这样做的前提是对 timer_create 的调用成功？

根据 timer_settime 的手册页，如果 timer_id 无效，或者如果 itimerspec 参数 < 0 或 > 100 万，您可以获得 EINVAL。

[http://linux.die.net/man/3/timer_settime](http://linux.die.net/man/3/timer_settime)

高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:49:02.607

为了创建计时器，`struct sigaction`必须正确设置。

```
struct sigaction sa;
sa.sa_flags = SA_SIGINFO;
sa.sa_sigaction = your_handler; 
```

在我之前的代码中，`sa_flags`设置为`0`而不是`SA_SIGINFO`.

[有关kernel.org](http://www.kernel.org/doc/man-pages/online/pages/man2/timer_create.2.html)的更多信息

# java - 发送嵌入在 SOAP 消息中的 XML 数据的最佳实践是什么？

> ID：12836854
> 
> 赞同：1
> 
> 时间：2012-10-11T09:54:04.657
> 
> 标签：java, xml, soap, jax-ws

我有一个 JAX-WS Web 服务，它接受一些基本数据和一个应该包含整个 XML 文件内容的字符串。第一次我可以把这个 XML 作为 CDATA 部分放在我的 SOAP 请求中，如下所示：

```
 <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
   <soapenv:Header/>
   <soapenv:Body>
    ...
      <contentData>
    <![CDATA[
      <my>
        <xml>
          <here>
            ...
          </here>
        </xml>
      </my>
    ]]>
       </contentData>
       ...
   </soapenv:Body>
</soapenv:Envelope> 
```

但问题是我的 XML 数据也包含一些 CDATA 部分，它不能像这样工作，因为不允许嵌套 CDATA（[W3School 参考](https://www.w3schools.com/xml/dom_cdatasection.asp)）。

发送此类数据的最佳做法是什么？

*   解决方案 1：转义所有特殊字符以便拥有`&lt;`和 `&gt;`（除其他外）
*   解决方案 2：将我的 XML 转换为 base64 并在我的网络服务中对其进行解码
*   欢迎另一个解决方案

我看到了[这个问题](https://stackoverflow.com/questions/4041078/what-is-the-best-way-to-send-xml-data-to-webservices-jaxws)，但是序列化 Java 对象不是一个选项，因为 XML 数据是由另一方生成的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-12T14:39:11.860

我绝对更喜欢解决方案 2，编码和解码 Base64 格式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-19T14:33:31.600

我找到了这个答案：

[在 Web 服务中使用 XmlDocument 作为参数类型，而不是字符串](http://www.tek-tips.com/viewthread.cfm?qid=1437285)

这就是我正在与之通信的 Web 服务正在使用的。

# objective-c - 将 NSData 写入文件，将错误无法识别的选择器发送到实例

> ID：12836856
> 
> 赞同：0
> 
> 时间：2012-10-11T09:54:09.610
> 
> 标签：objective-c, ios5, nsdata, writetofile, bridge

我有问题将数据写入文件。我做错了什么？

```
SecTrustRef trust = [protectionSpace serverTrust];
SecCertificateRef certificate = SecTrustGetCertificateAtIndex(trust, 0);
NSData* ServerCertificateData = (__bridge NSData *)(certificate);
NSError* error;
[ServerCertificateData writeToFile:ServerCertPath options:NSDataWritingAtomic error:&error];
if(error != nil)
     NSLog(@"%@", error); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:00:25.920

您不能像以前那样使用演员表将其转换`SecCertificateRef`为 a `NSData *`。您需要`SecCertificateCopyData()`在证书上使用才能从中获取数据。

# entity-framework - Mysql .net 连接器 6.6.x DbMigration EF 4.3 级联删除

> ID：12836859
> 
> 赞同：1
> 
> 时间：2012-10-11T09:54:25.470
> 
> 标签：entity-framework, ef-code-first, mysql-connector

我有最新的 6.6.x beta 驱动程序工作的代码优先模型。Dbmigrations 似乎也运行良好。

但是，级联设置似乎存在问题。我的模型都有级联删除，但是生成的数据库没有反映这些设置。

在更改日志中的 mysql 网站上，提到了有关在 sql create 脚本中正确生成的级联删除 nog 的内容，但我不知道这是否也适用于 dbmigrations。

无论如何，它似乎不起作用？任何看到相同行为的人？

# bash - Bash - 使用另一个变量回显一个变量（？）

> ID：12836860
> 
> 赞同：0
> 
> 时间：2012-10-11T09:54:25.710
> 
> 标签：bash

非常感谢您的帮助！

我有这个变量：

```
scene1=lounge
scene2=bedroom
scene3=bathroom 
```

我想要做的是一个循环，对于特定文件夹中的每个文件，回显变量场景#

```
order=1
for f in $(find $dest_scenes/*.xml -maxdepth 0 )
do
    scene_name=scene$order #scene1, scene2, scene3
    echo $scene_name
done
order=$(expr $order + 1) 
```

输出：

```
scene1
scene2
scene3 
```

我想：

```
lounge
bedroom
bathroom 
```

我不想得到 $scene_name，如果你明白我的意思，我想得到 $($scene_name)...

谢谢！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:59:52.080

这称为变量插值。在你的情况下，你可以这样做：

```
echo ${!scene_name} 
```

有关更多变体，请参阅[如何在变量中使用变量](http://wiki.debian.org/ShellTricks#How_do_I_use_a_variable_within_a_variable_.28variable_interpolation.29_in_bash.3F)。

# javascript - javascript下拉错误

> ID：12836867
> 
> 赞同：-1
> 
> 时间：2012-10-11T09:54:46.607
> 
> 标签：javascript

产品中有 2 个下拉选项。我可以毫无问题地选择其中一个，但不能选择第二个（不管先选择哪个。）我相信这很简单......如果我只是新的： -)

[http://keith464.fahrradhamburg.de/Lager/Metall-Behaelter/Stahlblech-Behaelter/Stapelbehaelter-aus-Stahlblech.html](http://keith464.fahrradhamburg.de/Lager/Metall-Behaelter/Stahlblech-Behaelter/Stapelbehaelter-aus-Stahlblech.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T15:34:29.703

对我来说，它在任何浏览器中都不起作用。

但经过大量搜索，问题已解决。不幸的是，有人在 id 中添加了一个 css 类！

因此，jquery 试图写入不再存在的 id #prodinfo，因为它现在是 #prodinfo 列

*   调试很有趣！

# java - 如何在同一查询中同时将两个 Arraylist 值插入到数据库表中

> ID：12836869
> 
> 赞同：0
> 
> 时间：2012-10-11T09:54:46.997
> 
> 标签：java, loops, insert, arraylist

我有两个 ArrayList 我必须插入到数据库中。我有用于在数据库中插入一个 arraylist 值的代码...这是我在数据库中插入值的第一个 arraylist

```
for (int j = 0; j < list.size(); j++) {
    int d = (int) list.get(j);
    stmt.executeUpdate("insert into cdrcost  (calldate) value ('" + d+ "'));
} 
```

现在，根据我的需要，我在此处提到的同一查询中将另一个数组列表插入到数据库中。因此，我需要任何路径，以便将这两个数组列表的值都插入到数据库中。任何帮助将不胜感激。 .. 提前感谢...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T10:01:03.937

```
PreparedStatement psth = dbh.prepareStatement("insert into cdrcost  (calldate) value (?)");
for (List<Integer> lst: Arrays.<List<Integer>>asList(list1,list2))
  for (int value: lst) {
    psth.setInt(1,value);
    psth.addBatch();
  }
psth.executeBatch(); 
```

如果您需要设置超过 1 个值：

```
PreparedStatement psth = dbh.prepareStatement("insert into cdrcost  (calldate, othercolumn) value (?, ?)");
Iterator<Integer> it1 = list1.iterator();
Iterator<Integer> it2 = list2.iterator();
for (; it1.hasNext() && it2.hashNext();) {
  psth.setInt(1,it1.next());
  psth.setInt(2,it2.next());
  psth.addBatch();
}
psth.executeBatch(); 
```

# mysql - CakePHP 对多个表的不同查询

> ID：12836872
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:00.570
> 
> 标签：mysql, cakephp, left-join, distinct

我需要在以下查询中进行 Distinct 搜索：

```
$listings = $this->Listing->query("SELECT DISTINCT(Listing.listnumber),Listing.*, ClientEvent.*, Client.*, UserLog.*, Agent.* FROM listings Listing
                        LEFT JOIN client_events ClientEvent ON ClientEvent.listnumber = Listing.listnumber
                        LEFT JOIN clients Client ON Client.clnt_id = ClientEvent.clnt_id
                        LEFT JOIN user_logs UserLog ON UserLog.ul_item_id = Listing.listnumber
                        LEFT JOIN agents Agent ON Agent.agnt_id = Listing.agnt_id
                        WHERE Listing.off_id = '{$off_id}' AND (UserLog.ul_type = 'listing.new_listing' OR Listing.listnumber LIKE '3330%')"); 
```

但是，这给了我正确的结果，但重复。我需要不同的结果。

有任何想法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-11T09:57:56.987

```
 $listings = $this->Listing->query("SELECT Listing.listnumber FROM listings Listing
                            LEFT JOIN client_events ClientEvent ON ClientEvent.listnumber = Listing.listnumber
                            LEFT JOIN clients Client ON Client.clnt_id = ClientEvent.clnt_id
                            LEFT JOIN user_logs UserLog ON UserLog.ul_item_id = Listing.listnumber
                            LEFT JOIN agents Agent ON Agent.agnt_id = Listing.agnt_id
                            WHERE Listing.off_id = '{$off_id}' AND (UserLog.ul_type = 'listing.new_listing' OR Listing.listnumber LIKE '3330%') group by Listing.listnumber");
----------------------
Put your extar column not a tablename.*...

    $listings = $this->Listing->query("SELECT Listing.listnumber, colname1,.. FROM listings Listing
                            LEFT JOIN client_events ClientEvent ON ClientEvent.listnumber = Listing.listnumber
                            LEFT JOIN clients Client ON Client.clnt_id = ClientEvent.clnt_id
                            LEFT JOIN user_logs UserLog ON UserLog.ul_item_id = Listing.listnumber
                            LEFT JOIN agents Agent ON Agent.agnt_id = Listing.agnt_id
                            WHERE Listing.off_id = '{$off_id}' AND (UserLog.ul_type = 'listing.new_listing' OR Listing.listnumber LIKE '3330%') group by Listing.listnumber"); 
```

# vhdl - 将 VHDL 代码转换为 Verilog

> ID：12836878
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:10.973
> 
> 标签：vhdl, verilog

我必须将以下 vhdl 程序翻译成 verilog：

```
ENTITY ascounter IS
  PORT (CLK :IN STD_LOGIC;
      QoutA, QoutB, QoutC, QoutD :OUT STD_LOGIC);
END ascounter;
ARCHITECTURE circuit OF ascounter IS
   SIGNAL CLKnot, QBnot, QCnot, QDnot, QA, QB, QC, QD, HIGH :STD_LOGIC;
   BEGIN
      HIGH<='1';
      CLKnot<=NOT CLK;
      QDnot<=NOT QD; 
      QCnot<=NOT QC;
      QBnot<=NOT QB;
      FFD: JKFF PORT MAP (J=>HIGH, K=>HIGH, CLK=>CLKnot, CLRN=>HIGH, PRN=>HIGH, Q=>QD);
      FFC: JKFF PORT MAP (J=>HIGH, K=>HIGH, CLK=>QDnot, CLRN=>HIGH, PRN=>HIGH, Q=>QC);
      FFB: JKFF PORT MAP (J=>HIGH, K=>HIGH, CLK=>QCnot, CLRN=>HIGH, PRN=>HIGH, Q=>QB);
      FFA: JKFF PORT MAP (J=>HIGH, K=>HIGH, CLK=>QBnot, CLRN=>HIGH, PRN=>HIGH, Q=>QA);
      QoutA<=QA;
      QoutB<=QB;
      QoutC<=QC;
      QoutD<=QD;
END circuit; 
```

我已经做到了：

```
 ...
  assign HIGH = 1'b1;
  assign CLKnot = (~CLK);
  assign QDnot = (~QD);
  assign QCnot = (~QC);
  assign QBnot = (~QB);

 flipflop_jk FFD(.J(HIGH), .K(HIGH), .CK(CLKnot), .CLN(HIGH), .PRN(HIGH), .Q(QD));

 flipflop_jk FFC(.J(HIGH), .K(HIGH), .CK(QDnot), .CLN(HIGH), .PRN(HIGH), .Q(QC));

 flipflop_jk FFB(.J(HIGH), .K(HIGH), .CK(QCnot), .CLN(HIGH), .PRN(HIGH), .Q(QB));

 flipflop_jk FFA(.J(HIGH), .K(HIGH), .CK(QBnot), .CLN(HIGH), .PRN(HIGH), .Q(QA));

 assign QoutA = QA;
 assign QoutB = QB;
 assign QoutC = QC;
 assign QoutD = QD; 
```

我使用了一个 jk 触发器：

```
always @(CK or PRN or CLN)
 begin
  if (PRN == 1'b0)
  begin
     Q <= 1'b1 ; 
  end
  else if (CLN == 1'b0)
  begin
     Q <= 1'b0 ; 
  end
  else if (CK == 1'b0)  
  begin
     if (J == 1'b1 & K == 1'b1)
     begin
        Q <= ~Q ; 
     end
     else if (J == 1'b1 & K == 1'b0)
     begin
        Q <= 1'b1 ; 
     end
     else if (J == 1'b0 & K == 1'b1)
     begin
        Q <= 1'b0 ; 
     end 
  end 
 end 
```

当我尝试运行模拟时，我得到了这样的错误，但我不明白错误在哪里。

![在此处输入图像描述](../Images/fd76069beefc23abb79ee753183c64ad.png)

有人有什么主意吗？
非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:44:53.537

在 flipflop_jk 定义中使用边缘灵敏度会更合适，您还包含了一个异步清除信号，其值与您的复位信号不同。我的示例通过同步清除显示了这一点。

您的信号捕获不显示您的复位信号。我假设这最初是低的，然后你在时间 0 之后将它设为高。将 Q 设置为已知值。

```
module flipflop_jk(
  input      CK,
  input      PRN,
  input      CLN,
  input      J,
  input      K,
  output reg Q
);

always @(posedge CK or negedge PRN) begin
  if (PRN == 1'b0) begin
     Q <= 1'b1 ; 
  end
  else begin
    if (CLN == 1'b0) begin
      Q <= 1'b0 ; 
    end
    else if (J == 1'b1 & K == 1'b1) begin
      Q <= ~Q ; 
    end
    else if (J == 1'b1 & K == 1'b0) begin
      Q <= 1'b1 ; 
    end
    else if (J == 1'b0 & K == 1'b1) begin
      Q <= 1'b0 ; 
    end 
  end
end
endmodule 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T12:49:43.863

我假设您已在 jk 触发器模块中声明`Q`为 a `reg`。默认情况下，在 Verilog 中， a`reg`被初始化为`x`. 由于jk 触发器的 、 和`J`输入`K`是高电平 ( )，因此执行的唯一语句是(当变为低电平时)。 仍然未知，因为is still的反转。您永远不会设置为已知值。`CLN``PRN``1'b1``Q <= ~Q ;``CK``Q``x``x``Q`

# php - 如何使用 cURL 发送通知？

> ID：12836879
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:17.353
> 
> 标签：php, facebook-graph-api, curl, notifications

经过大量研究，我解决了尝试从我的应用程序向当前用户发送通知时遇到的所有错误。但是现在，没有更多的错误，而是一个空白的答案。我使用以下代码：

```
curl_setopt($curl, CURLOPT_URL, "https://graph.facebook.com/me/notifications?access_token=".$facebook->getAccessToken()."&template=Message&http://google.com"); 
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); 
$page = curl_exec($curl); 
curl_close($curl); 
```

我从 Graph 收到这个：{"data":[],"summary":[]} 并且没有新的通知...相信 Facebook，我必须收到 {"success":true}。

任何的想法 ？谢谢。

PS：对不起，如果我的英语不好，我是法国人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T13:54:31.813

你需要设置你的 cURL 选项来发布这个请求，但是既然你已经安装了 Facebook PHP SDK，为什么你直接为此调用 cURL 而不是使用 API？

```
$result = $facebook->api("/{$user_name_or_id}/notifications/", 'POST', array(
        'template' => 'Message',
       ); 
```

为了发布通知，必须从配置为“Facebook 上的应用程序”的应用程序完成。它似乎也不适用于`me`. 您需要显式调用用户名或 ID。

# winforms - 如何在点击事件中停止计时器？在 C#.Net 中？

> ID：12836882
> 
> 赞同：2
> 
> 时间：2012-10-11T09:55:35.420
> 
> 标签：winforms

如何停止 Winforms 计时器触发 Tick 事件？

这是我的代码：

```
 Timer tm = new Timer();

    private void button1_Click(object sender, EventArgs e)
    {
        tm = new Timer();
        tm.Interval = 1000;
        tm.Tick += new EventHandler(tm_Tick);
        tm.Start();
    }

    void tm_Tick(object sender, EventArgs e)
    {
        MessageBox.Show("hi");
        tm.Stop();

    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-11T10:33:53.470

我不确定您要做什么。您是否试图让 tick 事件处理程序只执行一次？如果是这种情况，您当前的设置只会在第一个消息框关闭时停止计时器触发滴答事件。为避免此问题，请在 tm_Tick 方法中切换两行。

此外，您不应在点击处理程序中设置 Timer。你应该只启动它。我建议您按照以下方式做一些事情：

```
Timer tm;
private void form1_Load(object sender, EventArgs e)
{
    tm = new Timer();
    tm.Interval = 1000;
    tm.Tick += new EventHandler(tm_Tick);
}
private void button1_Click(object sender, EventArgs e)
{
    tm.Start();
}

void tm_Tick(object sender, EventArgs e)
{
    tm.Stop();
    MessageBox.Show("hi");
} 
```

# php - 如何分隔网址并取一个特定的单词

> ID：12836885
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:40.250
> 
> 标签：php

我想知道如何分隔网址并仅从网址中获取特定品牌名称

```
http://www.example.com/mobiles/nokia-mobile-price-list.php
http://www.example.com/camera/canon-camera-price-list.php 
```

我想分开这个网址，只取品牌名称，如

> 诺基亚，佳能

```
$brand = "nokia";
$brand ="canon"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T09:57:46.320

你可以试试

```
$url = parse_url("http://www.example.com/mobiles/nokia-mobile-price-list.php");
$brand = strstr(basename($url['path']) ,"-",true);

echo $brand ; 
```

输出

```
 nokia 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:05:52.863

您可以使用正则表达式，它将捕获和之间的部分`/`，`.php`其中不包含`/`符号。

```
<?php
$url = 'http://www.example.com/camera/canon-camera-price-list.php';
preg_match('/\/([^\/-]+)-[^\/]*.php/', $url, $matches);
echo $matches[1]; 
```

# macos - 在 MacOS 中使用 hg mercurial 克隆存储库会出现中止错误：“中止：没有这样的文件或目录”

> ID：12836887
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:44.447
> 
> 标签：macos, mercurial

```
Apples-MacBook-Pro:IpadProject apple$ hg clone https://code.google.com/p/comicflow/
warning: code.google.com certificate with fingerprint 99:9b:2c:ac:bf:65:cc:74:61:df:ed:05:6d:f6:22:a9:d6:e1:ba:9f not verified (check hostfingerprints or web.cacerts config setting)
destination directory: comicflow
requesting all changes
adding changesets
adding manifests
adding file changes
added 23 changesets with 131 changes to 75 files
updating to branch default
warning: cooliris-toolkit.googlecode.com certificate with fingerprint 3c:e9:db:04:ed:73:73:f7:dd:cb:e0:20:ce:77:28:5d:a3:d2:32:3f not verified (check hostfingerprints or web.cacerts config setting)
cloning subrepo Cooliris-ToolKit from https://cooliris-toolkit.googlecode.com/hg/
requesting all changes
adding changesets
adding manifests
adding file changes
added 145 changesets with 631 changes to 381 files
abort: No such file or directory 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-31T17:19:33.853

这个错误是因为你的 Mac 上没有安装 Git。

您需要同时安装 Mercurial 和 Git 才能查看 ComicFlow 源代码。

PS：我在对这个问题的回答中添加了有关如何检查 ComicFlow 项目的说明： [如何修复由于指向子存储库中缺少修订而导致更新失败的 Mercurial 存储库？](https://stackoverflow.com/questions/7946320/how-to-fix-a-mercurial-repo-that-fails-updating-because-points-to-missing-revisi)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:14:28.860

检查您的全局配置文件中是否有一个实际上不存在的钩子。

您可以通过运行检查：

```
hg clone THEREPO -v --traceback  --debugger 
```

这将启动 pdb，您可以从异常点进行调试。

[参考](http://kiln.stackexchange.com/questions/2744/cant-clone-repo-abort-no-such-file-or-directory)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-02T17:55:31.237

“没有这样的文件或目录”错误的另一个原因是文件路径超过 255 个字符。我不得不缩短一些目录名称以使其适用于我的情况。

# asp.net-mvc-3 - 将 HTML 代码附加到现有的 Razor 部分

> ID：12836888
> 
> 赞同：6
> 
> 时间：2012-10-11T09:55:45.700
> 
> 标签：asp.net-mvc-3, c#-4.0, c#-3.0, asp.net-mvc-4

是否可以将 HTML 代码附加到现有的剃须刀部分？

下面是我的场景：

我的 _layout.cshtml 包含如下内容：

```
@RenderSection("BottomSection", required: false) 
```

在其中一个视图 - _article.cshtml 中，我定义了如下部分：

```
@section BottomSection
{
 <script src='~/Scripts/module/article_details.js' type='text/javascript'></script>
 <script src='~/Scripts/module/modal.js' type='text/javascript'></script>
 @MvcHtmlString.Create(Model.ExtraStuff)   
} 
```

并在名为 _counter.cshtml 的局部视图中，由上述视图使用；我想将更多的 HTML 代码添加到同一部分，即 BottomSection。

我尝试在局部视图中再次声明 BottomSection 部分：

```
@section BottomSection{
<text>More data</text>
} 
```

但它没有成功。

有什么方法可以实现这一点 - 将更多代码动态附加到 MVC 4 中已定义的剃须刀部分？请注意，部分视图不需要来自父视图/模型的任何数据。我将 MVC 4 与 .Net Framework 4.0/VS2010 一起使用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-20T13:35:09.350

我不知道如何将内容附加到部分（实际上我自己也想知道），但我知道一个可能会产生类似结果的技巧。可以使用 TempData 代替使用部分。TempData 很像 ViewBag，但是一旦设置了变量，它就会为当前用户存在，直到有人尝试再次访问它（它可以通过对当前用户的一些连续请求而存在，因此建议格外小心）。下面是一个如何使用它的例子。

在布局中：

```
@Html.Raw(new MvcHtmlString((string)TempData["BottomSection"])); 
```

在视图中：

```
@{
    var bottomSection = (string)TempData["BottomSection"];
    if (bottomSection == null)
    {
        bottomSection = "";
    }
    bottomSection += "<script src='~/Scripts/module/article_details.js' type='text/javascript'></script>\n";
    bottomSection += "<script src='~/Scripts/module/modal.js' type='text/javascript'></script>\n";
    bottomSection += Model.ExtraStuff + "\n";
    TempData["BottomSection"] = bottomSection;
} 
```

在局部视图中：

```
@{
    var bottomSection = (string)TempData["BottomSection"];
    if (bottomSection == null)
    {
        bottomSection = "";
    }
    bottomSection += "More data";
    TempData["BottomSection"] = bottomSection;
} 
```

这可以通过为这些伪部分编写帮助程序和\或通过将部分的内容移动到单独的部分来进一步改进（如下所示）。

```
bottomSection += Html.Partial("_StuffToAddToSection").ToString(); 
```

* * *

助手类：

```
public static class PseudoSectionsHelper
{
    public static MvcHtmlString AppendToPseudoSection<T>(this TempDataDictionary TempData, string sectionName, T model, Func<T, HelperResult> content, bool addNewLineCharacter = true)
        where T : class
    {
        return AppendToPseudoSection(TempData, sectionName, content(model).ToString(), addNewLineCharacter);
    }

    public static MvcHtmlString AppendToPseudoSection(this TempDataDictionary TempData, string sectionName, MvcHtmlString content, bool addNewLineCharacter = true)
    {
        return AppendToPseudoSection(TempData, sectionName, content.ToString(), addNewLineCharacter);
    }

    public static MvcHtmlString AppendToPseudoSection(this TempDataDictionary TempData, string sectionName, string content, bool addNewLineCharacter = true)
    {
        var section = (string)TempData[sectionName];
        if (section == null)
        {
            section = "";
        }
        else if (addNewLineCharacter)
        {
            section += "\n";
        }
        section += content;
        TempData[sectionName] = section;
        // We return empty MvcHtmlString to be able to use this helper inline (without declaring code block @{ some code... } in view)
        return new MvcHtmlString("");
    }

    public static MvcHtmlString PseudoSection(this TempDataDictionary TempData, string sectionName)
    {
        var section = (string)TempData[sectionName];
        return new MvcHtmlString(section);
    }
} 
```

使用示例

在布局中添加：

```
@TempData.PseudoSection("BottomSection") 
```

鉴于：

```
@TempData.AppendToPseudoSection("BottomSection", Model, @<text>
    <script src='~/Scripts/module/article_details.js' type='text/javascript'></script>
    <script src='~/Scripts/module/modal.js' type='text/javascript'></script>
    @MvcHtmlString.Create(Model.ExtraStuff)
</text>) 
```

或者

```
@{
    TempData.AppendToPseudoSection("BottomSection", Model, @<text>
        <script src='~/Scripts/module/article_details.js' type='text/javascript'></script>
        <script src='~/Scripts/module/modal.js' type='text/javascript'></script>
        @MvcHtmlString.Create(Model.ExtraStuff)
    </text>);
} 
```

甚至

```
@TempData.AppendToPseudoSection("BottomSection", Html.Partial("BottomSectionScriptsAndStuff")) 
```

部分：

```
@TempData.AppendToPseudoSection("BottomSection", "More data") 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-18T09:31:13.863

也许我不明白你的问题，但为什么你不使用嵌套的局部视图？？？

例如 ：

部分视图1

```
`<script src='~/Scripts/module/article_details.js' type='text/javascript'></script>  
 <script src='~/Scripts/module/modal.js' type='text/javascript'></script>  
 @MvcHtmlString.Create(Model.ExtraStuff)
 @{Html.RenderPartial("PartialView2",Model.ExtraStuff );}` 
```

部分视图2

```
`<text>More data</text>` 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2012-10-11T10:12:29.330

使用 Ajax，您可以加载局部视图并在您的目标分区中进行渲染。

尝试使用 jquery ajax

```
 $.ajax({
            type: 'GET',
            url: '@Url.Action("Action","Controller")',
            cache: false,
            timeout: 20000,
            contentType: "application/json; charset=utf-8",
            success: function (_results) {
                $("#TargetDiv").html(_results);
            },
            error: function (_results) {

            }
        }); 
```

# mysql - 无法在 perl 中使用 DBI 在 mysql 中插入等效的变音符号文本纯文本

> ID：12836890
> 
> 赞同：0
> 
> 时间：2012-10-11T09:55:49.880
> 
> 标签：mysql, perl, dbi

我有一列是我的表的主键，它可以有变音符号或普通文本。

我有这两个值：

```
Håbo and Habo 
```

我想在我的表中插入这两个列值，但出现错误：

```
DBD::mysql::st execute failed: Duplicate entry 'Habo' for key 'PRIMARY' 
```

当我检查 Håbo 已经插入并且它处理两个值相同所以主键违规。

我的代码：

```
$dbh = DBI->connect($dsn, $user, $pass)
            or die "Unable to connect: $DBI::errstr\n";
$dbh->{'mysql_enable_utf8'}=1;
$dbh->do('SET NAMES utf8');
my $sql = sprintf "INSERT INTO search_term values(%s, %s)", $dbh->quote($search_term), "Data"; 
```

我的表说明

```
mysql> desc search_term;
+---------------+--------------+------+-----+---------+-------+
| Field         | Type         | Null | Key | Default | Extra |
+---------------+--------------+------+-----+---------+-------+
| search        | varchar(200) | NO   | PRI | NULL    |       |
| site          | varchar(500) | NO   |     | NULL    |       |
+---------------+--------------+------+-----+---------+-------+ 
```

如何让 MySQL 将这两个值视为不同并插入它们？有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:08:11.440

默认情况下，MySQL使用称为[Unicode Collat​​ion的东西](http://en.wikipedia.org/wiki/Unicode_collation_algorithm)[“有用地”将 Unicode 转换为“等效”的 ASCII](http://dev.mysql.com/doc/refman/5.0/en/charset-collation-effect.html)。就像 MySQL 中的许多“便利”功能一样，如果它告诉您，这将更加方便。我不能在这些“词”周围加上足够的“引号”。

幸运的是，修复非常简单，但并不明显。首先，[将表的字符集更改为 UTF8](http://dev.mysql.com/doc/refman/5.5/en/alter-table.html)，以便将文本存储在 utf8 中。然后[将排序规则更改为 utf8_bin](http://dev.mysql.com/doc/refman/5.5/en/charset-binary-collations.html)以便准确进行比较。我不是 100% 确定 utf8_bin 是 100% 正确的，但它确实有效。

```
ALTER TABLE search_term CONVERT TO CHARACTER SET utf8;
ALTER TABLE search_term COLLATE utf8_bin; 
```

以后在 MySQL 中创建表时，一定要[追加`CHARACTER SET utf8`创建](http://dev.mysql.com/doc/refman/5.5/en/create-table.html)。

```
CREATE TABLE search_term (
    search varchar(200) primary key,
    site varchar(500)
)
CHARACTER SET utf8
COLLATE       utf8_bin; 
```

最后，因此您不必为每个表都这样做，您可以[使用这些默认值创建数据库](http://dev.mysql.com/doc/refman/5.5/en/create-database.html)。

这是一篇[关于 MySQL 中的 Unicode 陷阱及其修复的好帖子](http://dev.hubspot.com/bid/7049/MySQL-and-Unicode-Three-Gotchas)。

在 Perl 方面，请务必`use utf8`将传递给 MySQL 的字符串编码为 utf8。

最后，根据[DBD::mysql 手册](https://metacpan.org/module/DBD%3a%3amysql)，连接时需要开启 UTF8 支持，而不是之后。如果它发出警告会很好。

```
Additionally, turning on this flag tells MySQL that incoming data should be
treated as UTF-8\. This will only take effect if used as part of the call to
connect(). If you turn the flag on after connecting, you will need to issue
the command SET NAMES utf8 to get the same effect. 
```

将您的连接更改为此。

```
# I threw in RaiseError because its generally a good idea.
my $dbh = DBI->connect($dsn, $user, $pass, { mysql_enable_utf8 => 1, RaiseError => 1 }); 
```

# java - 一个文件中有多种服务器端语言？

> ID：12836896
> 
> 赞同：1
> 
> 时间：2012-10-11T09:56:02.370
> 
> 标签：java, php, asp.net, interop

作为一名 Web 开发人员，我知道我可以使用 GET 和 POST 在多种语言之间进行通信，但这涉及到每种语言至少有一个文件，即使所有这些文件仅一起使用并且仅用于一项任务。

我无法找到有关信息的一件事（甚至是完全否认/反驳这个想法的信息）是将所有这些多种语言放在一个**文件**中，并且每种语言都由服务器处理 - 特别是以这样一种方式，即使用的语言无关紧要，因此变量/函数可以互换使用。我发现最接近这一点的是[SNAP](https://github.com/leeavital/SNAP)，但即使这样也只是简单地复制了这些功能，实际上并没有让它们以可互换的方式直接使用。

我能找到的关于语言互操作性的所有信息都集中在将[语言分开](https://stackoverflow.com/questions/636841/)上，这让我相信相同文件的互操作性不起作用（至少在不相关的语言之间，比如将 PHP 与 ASP.Net 结合起来）但我想澄清这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T09:59:53.930

我已经看到了其他语言中嵌入 SQL 的示例，它们运行得非常好。我认为问题在于支持此代码的复杂性急剧增加。

您目前可以通过一个调用另一个来运行 PHP、Java 和 .NET，但它不干净或不自然或不受 IDE 支持，并且通常最好选择一种语言并在可能的情况下使用它。

# wpf - 使用 MVVM 在 WPF 中显示图标

> ID：12836899
> 
> 赞同：0
> 
> 时间：2012-10-11T09:56:09.130
> 
> 标签：wpf, mvvm, icons

我正在按照 MVVM 模式制作 WPF 应用程序。在应用程序中，我正在显示一些图标。这是我的代码。

XAML

```
<Image Margin="2" Source="{Binding Icon1}" Height="16px" Width="16px" />
<Image Margin="2" Source="{Binding Icon2}" Height="16px" Width="16px" />
<Image Margin="2" Source="{Binding Icon3}" Height="16px" Width="16px" /> 
```

这是 ViewModel。

```
public string Icon1 { get { return @"C:\MyIcons\Icon1.ico"; }  }
public string Icon2 { get { return @"C:\MyIcons\Icon2.ico"; }  }
public string Icon3 { get { return @"C:\MyIcons\Icon3.ico"; }  } 
```

应用程序运行良好，我可以看到图标。图标文件包含不同分辨率（64x64、32x32、16x16）的图标。应用程序向我显示 48x48 图标。因为我不需要这么大的图标，所以我想要的不是 64x64 图标，而是 16x16 图标。我应该怎么办。如何从图标文件路径中获取特定分辨率图标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T16:34:02.083

这是一个类似的主题，可能会帮助您找到所需的内容：

[如何从 WPF 中的多分辨率 .ico 文件中选择合适大小的图标？](https://stackoverflow.com/questions/952080/how-do-you-select-the-right-size-icon-from-a-multi-resolution-ico-file-in-wpf).

# ruby-on-rails-3.1 - 我如何在没有 rack-online 的情况下在 rails 中使用 html5 缓存清单

> ID：12836903
> 
> 赞同：1
> 
> 时间：2012-10-11T09:56:21.630
> 
> 标签：ruby-on-rails-3.1

我整天都在寻找一种在 rails 3.1 中使用缓存清单的方法，但是一切都指向 rack-offline，我不想使用它。如何在没有机架离线的情况下使用此功能？

谢谢

# android - 用两个拇指使用 SeekBar

> ID：12836904
> 
> 赞同：1
> 
> 时间：2012-10-11T09:56:24.467
> 
> 标签：android, android-layout, seekbar

我用[这个链接](http://kpbird.blogspot.in/2011/05/android-seek-bar-with-two-thumb.html)用两个拇指实现**了 SeekBar，**我得到了输出。

但是这个搜索栏有一个问题，它允许**拇指 1**和**拇指 2**交叉，即它允许拇指 1 的值**大于**拇指 2 的值，根据我的要求，这是不允许的。

应该对以下代码进行哪些修改来实现这一点？

```
public class SeekBarWithTwoThumb extends ImageView {

    private String TAG = this.getClass().getSimpleName();
    private Bitmap thumb = BitmapFactory.decodeResource(getResources(),
            R.drawable.leftthumb);
    private int thumb1X, thumb2X;
    private int thumb1Value, thumb2Value;
    private int thumbY;
    private Paint paint = new Paint();
    private int selectedThumb;
    private int thumbHalfWidth;
    private SeekBarChangeListener scl;

    public SeekBarWithTwoThumb(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public SeekBarWithTwoThumb(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public SeekBarWithTwoThumb(Context context) {
        super(context);
    }

    @Override
    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
        if (getHeight() > 0)
            init();
    }

    private void init() {
        printLog("View Height =" + getHeight() + "\t\t Thumb Height :"
                + thumb.getHeight());
        if (thumb.getHeight() > getHeight())
            getLayoutParams().height = thumb.getHeight();

        thumbY = (getHeight() / 2) - (thumb.getHeight() / 2);
        printLog("View Height =" + getHeight() + "\t\t Thumb Height :"
                + thumb.getHeight() + "\t\t" + thumbY);

        thumbHalfWidth = thumb.getWidth()/2;
        thumb1X = thumbHalfWidth;
        thumb2X = getWidth()/2 ;
        invalidate();
    }
    public void setSeekBarChangeListener(SeekBarChangeListener scl){
        this.scl = scl;
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        canvas.drawBitmap(thumb, thumb1X - thumbHalfWidth, thumbY,
                paint);
        canvas.drawBitmap(thumb, thumb2X - thumbHalfWidth, thumbY,
                paint);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        int mx = (int) event.getX();
        switch (event.getAction()) {
        case MotionEvent.ACTION_DOWN:
            if (mx >= thumb1X - thumbHalfWidth
                    && mx <= thumb1X + thumbHalfWidth) {
                selectedThumb = 1;
                printLog("Select Thumb 1");
            } else if (mx >= thumb2X - thumbHalfWidth
                    && mx <= thumb2X + thumbHalfWidth) {
                selectedThumb = 2;
                printLog("Select Thumb 2");
            }
            break;
        case MotionEvent.ACTION_MOVE:
            printLog("Mouse Move : " + selectedThumb);

            if (selectedThumb == 1) {
                thumb1X = mx;
                printLog("Move Thumb 1");
            } else if (selectedThumb == 2) {
                thumb2X = mx;
                printLog("Move Thumb 2");
            }
            break;
        case MotionEvent.ACTION_UP:
            selectedThumb = 0;
            break;
        }

        if(thumb1X < 0)
            thumb1X = 0;

        if(thumb2X < 0)
            thumb2X = 0;

        if(thumb1X > getWidth() )
            thumb1X =getWidth() ;

        if(thumb2X > getWidth() )
            thumb2X =getWidth() ;

        invalidate();
        if(scl !=null){
            calculateThumbValue();
            scl.SeekBarValueChanged(thumb1Value,thumb2Value);
        }
        return true;
    }

    private void calculateThumbValue(){
        thumb1Value = (100*(thumb1X))/(getWidth());
        thumb2Value = (100*(thumb2X))/(getWidth());
    }
    private void printLog(String log){
        Log.i(TAG, log);
    }

    interface SeekBarChangeListener{
        void SeekBarValueChanged(int Thumb1Value,int Thumb2Value);
    }

} 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:43:27.410

在`OnTouch`活动结束时，将您的代码替换为以下代码。希望能帮助到你

```
 calculateThumbValue();

    if(thumb1Value < thumb2Value) {
        invalidate();
        if(scl != null){
            scl.SeekBarValueChanged(thumb1Value, thumb2Value);
        }
    } 
```

# c# - 计算两点之间的速度

> ID：12836905
> 
> 赞同：4
> 
> 时间：2012-10-11T09:56:24.157
> 
> 标签：c#, math

我有一艘敌舰和一艘玩家船。

我希望敌舰始终直线飞向玩家，即使玩家正在移动。

我将使用 C# XNA 的 Ray 类来解决这个问题。

我有两个矢量坐标，射线的位置/原点（玩家当前位置）和射线的方向（敌人的当前位置）。我希望敌人的位置逐渐向玩家位置移动。

到目前为止我有这个代码。

```
enemyPlayerTrack.Position = playerPos;
enemyPlayerTrack.Direction = enemyPos; 
```

我不确定是否需要另一个矢量来表示速度。

最后，使用以下代码将敌人以新的位置绘制到屏幕上：

```
enemyWorldMatrix = Matrix.CreateTranslation(new Vector3(x, y, z)); 
```

如果没有数学背景，我很难创建一个速度来将两个向量连接得越来越近。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:01:16.717

我们选择一些速度`s`。那么玩家从敌人的方向是：

```
dir_x = player_x - enemy_x
dir_y = player_y - enemy_y 
```

总速度 s = sqrt(vel_x^2 + vel_y)^2，所以我们缩放 dir 向量来给我们速度：

```
factor = s / sqrt(dir_x^2 + dir_y^2)
vel_x = dir_x * factor
vel_y = dir_y * factor 
```

所以现在敌人将始终以相同的速度飞向玩家。但如果玩家靠近敌人，敌人会过冲并不断在玩家上方来回弹跳。所以我们限制速度：

```
distance = sqrt(dir_x^2 + dir_y^2)
delay_to_reaching_player = 2    // some measure of time
enemy_speed = min(s, distance/delay_to_reaching_player) 
```

这样，通过设置延迟，敌人将在接近玩家时减速，一旦接近到足以停止以最大速度移动。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:04:50.727

我面前没有 XNA，所以这只是伪代码......

两者之间的总增量应该很简单：

```
var delta = playerPosition - enemyPosition; 
```

这给出了方向，但通常会有错误的幅度；所以我们可以通过以下方式将其重新缩放为单位向量：

```
var magnitude = Math.Sqrt(delta.x * delta.x + delta.y * delta.y +
                  delta.z * delta.z); // however many dimensions you have...
var unitDelta = delta / magnitude; // assuming non-zero; if zero, don't move
var newVelocity = unitDelta * enemySpeed; 
```

但是请注意，这违背了动力，并且是非常基本的（它不考虑玩家的速度 - 感觉就像 AI 很愚蠢）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T10:25:12.353

如果你有一个来自敌人 -> 玩家的向量，你基本上有一个翻译，你可以将它应用到敌人上，让它跳到玩家的位置。您需要通过归一化向量来返回“单位”，这会将向量的总长度设置为“1”，但仍然指向玩家的方向，然后您可以将此值乘以您实际想要的速度获取一个向量来平移敌人，将其移向玩家

正如人们已经回答的那样 - 要获得一个单位，您需要将向量的两个分量的乘积相加，然后取平方根。这与毕达哥拉斯定理有关，例如：

如果你把向量的分量说

`(2,2)`

这将是这样的：

```
 2 
  ^
  |
  |
--> 2 
```

然后在原点 (0,0) 和向量末端相交的点之间画一条线 - 你会得到一个三角形......

```
 2
  ^
 /|
/ |
--> 2 
```

这条线代表向量的大小，你取两个分量的平方和，然后对它进行sqrt 得到这条线的长度：

`2 * 2 + 2 * 2 = 8`

`sqrt(8) = 2.82`

所以这个向量的长度是 2.82 - 这意味着 2 和 2 的值是单个单位向量大小的 2.82 倍

要获得“1”长或“单位”的分量，我们需要对向量进行归一化——我们通过将每个分量除以幅度来实现

`2 / 2.82 = 0.70`

听起来是对的 - 我知道这个向量的角度是 45 度（向上 2 到 2 必须是完美的对角线）所以你可以使用余弦或正弦来检查它，因为余弦/正弦提供了向量分量的水平或垂直单位长度对于给定的角度

`sin(45) or cos(45) = 0.70`

发现

所以现在你知道了朝向玩家的角度使用了一个长度为 1 的向量，其中包含以下分量

`(0.7, 0.7)`

要将敌人向玩家移动 3 个单位，您只需将组件乘以 3

`0.7 * 3 = 2.1`

所以

`(2.1, 2.1)`

在这个物理步骤中将敌人向玩家移动 3 个单位

这有帮助吗？

# android - 动画后停止布局重新排列

> ID：12836906
> 
> 赞同：0
> 
> 时间：2012-10-11T09:56:24.403
> 
> 标签：android, animation, layout

我在我的应用程序中使用动画。我的动画正在将一个小布局移动到它离开屏幕一半的位置，这是我想要的。

我的问题是，当我使用时`params.setMargins(500, 0, 0, 0); resetButton.setLayoutParams(params);`，布局会重新排列，其中的所有视图都会变小并被压碎。

我希望布局保持原样，尽管它位于屏幕之外。那可能吗？

我将添加我的代码：

```
SetAnimationParameters(true);
        mainLayout.startAnimation(animationSet);
        animationSet.setAnimationListener(new AnimationListener() {
            @Override
            public void onAnimationStart(Animation animation) {
            }

            @Override
            public void onAnimationRepeat(Animation animation) {
            }

            @Override
            public void onAnimationEnd(Animation animation) {
                mainLayout.clearAnimation();
                RelativeLayout.LayoutParams params = (RelativeLayout.LayoutParams) mainLayout
                        .getLayoutParams();
                params.setMargins(500, 0, 0, 0);

                mainLayout.setLayoutParams(params);
            }
        }); 
```

这就是我设置动画参数的地方：

```
private void SetAnimationParameters(boolean isRight) {
    if (isRight) {
        TAnimation = new TranslateAnimation(0, 500, 0, 0);
    } else {
        TAnimation = new TranslateAnimation(500, 0, 0, 0);
    }
    TAnimation.setDuration(250);
    animationSet = new AnimationSet(false);
    animationSet.setFillAfter(true);
    animationSet.addAnimation(TAnimation);
} 
```

正如您在动画完成后所看到的（onAnimationEnd），我将视图转换到动画结束的位置，因此它可以使用。但在那之后（这是我的问题）布局被重新排列，因此其中的所有视图都不会通过缩小它们而超出屏幕，我不希望这样。我希望视图继续保持一半。

我设法说清楚了吗？

# wordpress - qTranslate 在标题中不起作用

> ID：12836911
> 
> 赞同：0
> 
> 时间：2012-10-11T09:56:36.880
> 
> 标签：wordpress, caption, qtranslate

我试图在标题位置设置不同的语言，但我看起来不可能让它工作。我试着加上标题：

*   [:en] 英文文本 [:de] 德文文本
*   英文文本 德文文本

但是当我打印它时，它只会显示如下：

[:en] 英文文本 [:de] 德文文本
德文文本

因此，在第一种情况下，它不会解释 qtranslate 的简码，而在第二种情况下，它只是将其删除。

在调用厨房时（我使用的是 SexyCycle），我在帖子中这样称呼它：

```
<div class="centerColumn col gu3"> <?php print_custom_field('gallery:do_shortcode'); ?> </div> 
```

然后，在插件中我有这个：

```
if ($caption == 'caption' && trim($attachment->post_excerpt)) { 
            echo $attachment->post_excerpt;
            $ret .= "<{$captiontag} class='gallery-caption'>" . wptexturize( $attachment->post_excerpt) . "</{$captiontag}>";
        }
        else if ($caption == 'desc' && trim($attachment->post_content)) {
            $ret .= "<{$captiontag} class='gallery-caption'>" . wptexturize($attachment->post_content) . "</{$captiontag}>";
        } 
```

有什么建议么？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-30T17:09:44.923

我创建了一个简单的修复程序，允许您使用 Wordpress qTranslate 插件选择多媒体文件的语言

[https://github.com/rafaelcalleja/qTranslateMultimediaLanguage](https://github.com/rafaelcalleja/qTranslateMultimediaLanguage)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T13:20:50.853

解决了！
我变了

`wptexturize( $attachment->post_excerpt)`

为了

`qtrans_useCurrentLanguageIfNotFoundUseDefaultLanguage($attachment->post_excerpt);`

# spring - SAML 注销和会话丢失

> ID：12836917
> 
> 赞同：0
> 
> 时间：2012-10-11T09:57:10.960
> 
> 标签：spring, spring-security, saml, saml-2.0

我正在做一个示例 webapp 项目，在上面使用 spring 和 saml。我做了登录部分，所以当我运行这个项目时，它直接移动到我的身份服务器，在那里我登录这个服务器而不是去我的项目主页。但我不能做注销部分。当我单击我的项目注销按钮时，注销页面即将到来，但我的视野并没有丢失。所以如果我想再次登录，这次项目不要去身份服务器登录页面。因为，实际上根据我的项目，我没有注销项目。我想在身份服务器上注销，所以想丢失我的会话。

我该怎么做？

非常感谢你，Ezgi，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T21:48:49.813

只有 SAML2 支持单点注销，但在开始实施之前，您可能需要阅读此页面以了解几个问题：

[https://wiki.shibboleth.net/confluence/display/SHIB2/SLOIssues](https://wiki.shibboleth.net/confluence/display/SHIB2/SLOIssues)

# ios - 修改zbar-sdk ios的设置

> ID：12836922
> 
> 赞同：1
> 
> 时间：2012-10-11T09:57:33.950
> 
> 标签：ios, zbar-sdk

我正在尝试构建一个应用程序来扫描特定对象的 QR 码和条形码，为此我使用 zbar sdk。
我使用了图像视图和文本视图来显示我扫描的对象的内容。我希望在扫描特定图像后发出哔声，并且我需要一个选项来修改设置，以便我可以扫描条形码或二维码。我还想存储我最近扫描的所有图像的历史记录。

我应该使用核心数据来存储它吗？我可以修改 zbar sdk 的设置吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-16T05:53:44.613

每当您扫描 Barcode 或 QRCode 时，将在您的主控制器中调用一个委托方法，在该方法中，您将获得 Barcode 或 QRCode 的结果文本，然后创建您自己的数据库并添加您想要存储的任何数据。为此，您无需接触 Zbar-sdk 代码。希望这对您有所帮助。

# azure - 添加对象后查询 Azure TableServiceContext 没有结果

> ID：12836925
> 
> 赞同：0
> 
> 时间：2012-10-11T09:57:48.970
> 
> 标签：azure, azure-table-storage

在我的应用程序中，我通过 AddObject 方法将实体添加到 TableServiceContext。在稍后的过程中，我想查询 TableServiceContext 以检索此特定实体以更新某些属性，但查询没有给我结果。如果我在 AddObject 之后立即执行 SaveChanges，它只会给我一个结果。这意味着我有一个额外的往返服务器。我想创建和更新实体，然后调用 SaveChanges 将实体持久保存到 Azure 表存储。

有谁知道为什么我在查询上下文时没有得到结果？有没有办法在不额外调用 SaveChanges 的情况下从上下文中获取实体？

谢谢

罗纳德

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T14:20:39.653

Sounds like you are trying to Upsert here. Have you seen the support for InsertOrReplace? There is also InsertOrMerge, but I think you are looking to overwrite.

[http://msdn.microsoft.com/en-us/library/hh452242.aspx](http://msdn.microsoft.com/en-us/library/hh452242.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:15:45.067

`AddObject`刚刚开始跟踪本地内存中的对象，所以对我来说查询表存储不会返回它是有意义的。（表存储对此一无所知。）我想说，如果你想这样做，你应该自己跟踪新实体。

我对这个场景有点困惑。听起来你想要这样的东西（行不通）：

```
var foo = new Foo();
context.AddObject("foo", foo);
...
foo = context.CreateQuery<Foo>("foo").Where(...).Single();
foo.bar = "baz";
context.UpdateObject(foo);
context.SaveChanges(); 
```

为什么不换成这个？

```
var foo = new Foo();
...
foo.bar = "baz";
context.AddObject("foo", foo); 
```

您的代码如何让您必须通过`TableServiceContext`才能获得您创建的对象？

# jquery - 重新初始化简单模式

> ID：12836928
> 
> 赞同：0
> 
> 时间：2012-10-11T09:58:01.563
> 
> 标签：jquery, ajax, simplemodal

关于这个 jquery 插件 [http://www.ericmmartin.com/simplemodal-1-4-3-released/](http://www.ericmmartin.com/simplemodal-1-4-3-released/)

我有一个 ajax 函数，它需要一些时间来获取数据 - 所以我想用微调器打开模态 div

```
$("#basic-modal-content").modal(); 
$("#basic-modal-content").html('<img src="ajax_loader.gif" width=100>'); 
```

在成功函数末尾的ajax调用中，我做了这个

```
$('#basic-modal-content').empty();
$('#basic-modal-content').html('<div class="content-center">'+title+'</div>');
$("#basic-modal-content").modal(); 
```

这导致 1\. 使用微调器打开弹出窗口 - 没关系 2\. basic-modal-content div 变空 3\. 新内容被加载 4\. div 的内容太长了

通常在第一个模态调用中，内容在带有滚动条的 div 内。

那么，是否有任何选项可以重新初始化模态调用？

谢谢阿德里安

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T13:50:39.957

我只是去了[演示页面](http://www.ericmmartin.com/projects/simplemodal-demos/)并尝试重现该问题，当然还尝试找到问题并解决它。

复制只是使内容高 2000 像素。

在这种特殊情况下，以下内容对我有用：

```
overflow: auto; 
```

# javascript - node.js express 路由 db 依赖

> ID：12836932
> 
> 赞同：0
> 
> 时间：2012-10-11T09:58:12.870
> 
> 标签：javascript, node.js

我正在尝试做的事情：如果 url 存在于数据库中，则使用静态页面模板，如果不存在，则显示特定的页面模板。好像也想不通，怎么...

**我的 app.js 文件**

```
 app.get('*', function(req, res){
  var currenturl = req.url;
  console.log('URL IS: ' + my_path)
  if (!!db.get(my_path) ) 
    {
      //If it does exist in db
      console.log('Does exist');
      res.render('index', { thetitle: 'Express', title: db.get(currenturl).title, content: db.get(currenturl).content });
    }else{
      //If it doesn't exist in db
      redirect to other sites
      Like: 
      if you go to "/page" it will run this => app.get('/page', routes.index)
      or "/users" will run => app.get('/users', routes.users)
    }
 }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T13:27:02.843

您必须创建自己的简单中间件。只要确保你把它放在上面`express.router`

```
app.use(function(req, res, next){
  if (!!db.get(my_path)) {
    // render your site from db
  } else {
    // call next() to continue with your normal routes
    next();
  }
});

app.get('/existsInDB', function(req, res) {
  // should be intercepted by the middleware
})

app.get('/page', function(req, res) {
  // should not be intercepted
  res.render('page')
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:05:09.567

使用[快递](http://expressjs.com/api.html#res.render)很容易。您可以使用以下`redirect`功能：

```
if (url_exists) res.render('index');
else res.redirect('/foo/bar'); 
```

# c# - 我对 COM 和跨平台兼容性感到困惑

> ID：12836933
> 
> 赞同：1
> 
> 时间：2012-10-11T09:58:25.403
> 
> 标签：c#, java, c++, com

我在确定在跨平台环境中使用哪些技术时遇到问题。到目前为止，这是我的想法。

*   Java 是一种很好的编程语言，虽然我不太习惯它。而且由于我更喜欢​​访问我在 C# 中已经习惯的 Linq、委托等内容，所以我宁愿不用那么多。与用户控件相比，我也不喜欢 Beans 的工作方式。

*   C# 是我的首选语言。我喜欢它，我会称自己为该领域的专家（但显然不是 COM 中的专家）。

*   C++ 对我来说是俄罗斯的一座城市。在使用这种编程语言时，我感觉自己就像是在盲目地行走，而且与 C# 相比，这需要更长的时间来完成。

我正在为一个为期 4 周的学校项目制作备份系统。但是，我对它的未来有更大的意图。并且备份系统要成功，它必须具有跨平台兼容性。

因此，如果我在 C# .NET COM 中创建了一个类库，并在包含 GUI 的 Java 项目中使用该 COM，整个应用程序仍然可以跨平台工作吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T10:01:57.603

COM 是微软的技术，它不是跨平台的。

您可以使用 C# 和 mono 项目为您提供跨平台部署。

[http://www.mono-project.com/Main_Page](http://www.mono-project.com/Main_Page)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:09:34.137

理论上 COM 是跨平台的，但实际上它依赖于 Windows。除此之外，使 .NET 程序集 COM 可见并不会使其独立于 .NET 运行时（CLR），因此您同时依赖 .NET（对于您的程序集）和 Windows（对于 COM）。但是 COM 和 .NET 都有实现，也有 POSIX 实现。AFAIK for .NET 有`Mono`一个可以安装的运行时名称，`iOS`但是对于学校项目`Android`，`POSIX`我不认为你的老师接受它作为跨平台，所以你应该使用`Java`或者`C++`本质上是跨平台的（Java 是运行时兼容和 C++源代码兼容）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T10:19:35.863

> 我正在为一个为期 4 周的学校项目制作备份系统。但是，我对它的未来有更大的意图。并且备份系统要成功，它必须具有跨平台兼容性。

我的建议是专注**于**完成为期 4 周的学校项目的目标。不要添加可能使您的项目脱轨的不必要的复杂性（例如跨平台支持）。使用您现在最熟悉的（适用的）技术。

一旦你完成了你的课程，一定要重新审视这个项目，并尝试把它变成更大/更好/更畅销/什么的。

（我们都可以梦想成为下一个比尔盖茨，但你真的认为你会通过另一个备份程序变得富有和/或成名吗？）

# android - 如果我单击 ListView 中的项目，我如何启动 Activity

> ID：12836937
> 
> 赞同：1
> 
> 时间：2012-10-11T09:58:34.157
> 
> 标签：android, listview, android-activity, adapter, onitemclick

我编写了一个 Android 应用程序并使用了 ListView，它工作正常，但是如果我想单击一个项目，那么我想用所选项目启动第二个 Activity。为此，我想使用 OnItemClick 但它不起作用:(

**MainActivity.java**

```
package de.linde.listview;

import java.util.ArrayList;
import java.util.List;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View; 
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.AdapterView.OnItemClickListener;

public class MainActivity<T> extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        List valueList = new ArrayList<String>(); 

        for(int i=0;i<10;i++)
        {
            valueList.add("value" + i); 
        }

        ListAdapter adapter = new ArrayAdapter<String>(getApplicationContext(),android.R.layout.simple_list_item_1,valueList); 

        final ListView lv = (ListView)findViewById(R.id.listview1);
        lv.setAdapter(adapter); 

        lv.setOnItemClickListener(new OnItemClickListener() {   //<-- Error1

            @Override
            public void OnItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3){  //<-- Error 2

                Intent intent = new Intent();
                intent.setClassName(getPackageName(), getPackageName() + ".Show_Activity"); 
                intent.putExtra("selected",lv.getAdapter().getItem(arg2).toString()); 
                startActivity(intent); 

            }

        });

    }

} 
```

这是我的 Show_Activity.java

```
package de.linde.listview;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.widget.TextView;

public class Show_Activity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.anzeige);

        Intent intent = getIntent();

        ((TextView)(findViewById(R.id.textView1))).setText("Es wurde" + intent.getStringExtra("selected") + " gewählt!"); 
    }

} 
```

我得到错误 1：

> new AdapterView.OnItemClickListener(){} 类型必须实现继承的抽象方法 AdapterView.OnItemClickListener.onItemClick(AdapterView, View, int, long)

我收到错误 2：

> 类型为 new AdapterView.OnItemClickListener(){} 的方法 OnItemClick(AdapterView, View, int, long) 必须覆盖超类方法

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:02:26.640

只需使用**lv.setOnItemClickListener(new AdapterView.OnItemClickListener()**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:02:26.410

尝试删除`@override`之前的`onItemClick`方法：

```
lv.setOnItemClickListener(new OnItemClickListener() {   //<-- Error1

       // @Override
        public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3){  //<-- Error 2

            Intent intent = new Intent();
            intent.setClassName(getPackageName(), getPackageName() + ".Show_Activity"); 
            intent.putExtra("selected",lv.getAdapter().getItem(arg2).toString()); 
            startActivity(intent); 

        }

    }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-11T10:11:22.920

您应该**在小写中**`public void OnItemClick`更改为“o”。`public void onItemClick`

 *** * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-11T10:27:39.607

lv.setOnItemClickListener(new OnItemClickListener() { //<-- Error1

单击此错误并建议添加未实现方法单击标记未实现方法因此自动 onItemClick 方法创建将您的代码放在此功能上并删除您的 onItemClick 方法并尝试....

谢谢

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-11T10:39:14.753

**您的代码中的OnItemClick**方法名称错误。

您必须使用名称**onItemClick**（注意 'o' 应该小写）。**因为 OnItemClick**不是 onItemClickListener 的方法。**

# html - Razor 语法导致 jQuery Mobile 表单元素失去样式

> ID：12836938
> 
> 赞同：2
> 
> 时间：2012-10-11T09:58:36.273
> 
> 标签：html, css, asp.net-mvc, jquery-mobile, razor

有一个奇怪的问题，我希望人们可以解决一些问题。当我在我的 jQuery Mobile MVC 4 项目中使用复选框和单选按钮制作表单时，如果我使用 Razor 语法根据视图模型（例如 @Html.RadioButtonFor 等）吐出控件，而不仅仅是编写标准输入类型="radio"，jQuery Mobile 不会将样式应用于元素。包括屏幕截图和代码差异。这与控件的呈现方式有关吗？发生在视图和部分视图中。

我在这里只更改了第一组单选按钮来说明这一点。如果我将整个表单更改为 Razor HTML 帮助程序，我将在所有控件中得到相同的结果。

非剃须刀： ![非剃刀](../Images/eed6680b596126ee8270f63ae43de198.png) 剃须刀： ![剃刀](../Images/1cf3b8df42397e720f98eed90f9feb02.png)

非 Razor 代码：

```
<fieldset data-role="controlgroup" data-type="vertical" class="recurrencyArea">
                                <legend></legend>
                                <input type="radio" data-theme="b" name="Period" id="Daily" value="Daily" checked="checked" />
                                <label for="Daily">Daily</label>

                                <input type="radio" data-theme="b" name="Period" id="Weekly" value="Weekly" />
                                <label for="Weekly">Weekly</label>

                                <input type="radio" data-theme="b" name="Period" id="Monthly" value="Monthly" />
                                <label for="Monthly">Monthly</label>
                            </fieldset> 
```

剃须刀代码：

```
<fieldset data-role="controlgroup" data-type="vertical" class="recurrencyArea">
                                <legend></legend>
                                @Html.LabelFor(x=>x.Period, "Daily")
                                @Html.RadioButtonFor(x => x.Period, "Daily", new { data_theme = "b", @Checked = "checked", id = "Daily"  })

                                @Html.LabelFor(x=>x.Period, "Weekly")
                                @Html.RadioButtonFor(x => x.Period, "Weekly", new { data_theme = "b", @Checked = "checked", id = "Weekly"  })

                                @Html.LabelFor(x=>x.Period, "Monthly")
                                @Html.RadioButtonFor(x => x.Period, "Monthly", new { data_theme = "b", @Checked = "checked", id = "Monthly"  })
                            </fieldset> 
```

jquery 移动脚本在页面上运行后是否正在生成 razor html？

任何有任何有用想法的人/或者任何能够发现任何愚蠢错误的人都会成为英雄！

非常感谢，克里斯蒂安

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:20:28.917

我对 jquerymobile 不太熟悉，但我可以在这里看到的故障是，对于 html 代码，您的标签如下所示：

```
<label for="Daily">Daily</label> 
```

而剃刀代码将输出如下标签：

```
<label for="Period">Daily</label> 
```

剃刀代码中的“for”属性对于您的场景是错误的，也许 jquery mobile 对此敏感？

# android - 找不到构建器启动配置

> ID：12836941
> 
> 赞同：26
> 
> 时间：2012-10-11T09:58:43.000
> 
> 标签：android, eclipse, apk

当我尝试导出我的 Android 应用程序的 apk 时，我收到此错误：

```
Export Wizard Error   
   Errors occurred during the build

Problems occured when invoking code from plug-in: "org.eclipse.resources".
   The builder launch configuration could not be found
   The builder launch configuration could not be found 
```

这个错误真的很奇怪，因为我可以使用模拟器或设备运行/调试应用程序。有什么办法可以防止这个错误吗？

Tkx

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2012-12-13T06:56:18.433

1.选择正确的项目
2.在工具栏上选择“项目”->属性
3.在弹出窗口的菜单中单击“构建器”
4.删除缺少的构建器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-13T06:38:38.547

因为你没有检查是图书馆。

只需右键单击您的项目 -> 属性 -> Android -> Checked Is Library

因为你想在你的项目中使用外部库，而 Is Library 让你有机会将库绑定到你的项目，所以你没有检查这个库，所以项目找不到外部库。

谢谢你标记 m 如果真的帮助这个答案

# c# - 如何在 UnityContainer 中使用相同的键注册实例数次

> ID：12836942
> 
> 赞同：0
> 
> 时间：2012-10-11T09:58:44.277
> 
> 标签：c#, unity-container

我想让系统在 UnityContainer 中保留一份且只有一份带有特殊键的实例副本。而且我还希望能够使用其他实例覆盖/更新该密钥。以下代码显示了我的第一个想法：

```
 var UnityContainer = new UnityContainer();
 for (int i = 0; i < 100; i++)
 {
     Person p = new Person();
     UnityContainer.RegisterInstance<Person>("Person", p);
 } 
```

但是，上面的代码存在内存泄漏问题。UnityContainer 会引用 100 个 Person 实例，无法回收。我想要的只是将最新的 Person 实例保留在内存中。将其更改为以下代码无法解决问题。因为，现在所有的 Person 实例都通过弱引用保存在 UnityContainer 中，这意味着如果没有其他地方保持引用，所有 Person 实例都可以被回收。

```
UnityContainer.RegisterInstance<Person>("Person", p, new ExternallyControlledLifetimeManager()); 
```

有趣的是，当我调用 UnityContainer.IsRegistered("Person") 时它返回 'True'。但是，如果我调用 UnityContainer.Resolve("Person")，系统会抛出异常。所以我不能使用 UnityContainer.IsRegistered 方法来决定是否存在可用的实例。

# network-programming - Wireshark 如何将某些数据包标记为“重新组装 pdu 的 tcp 段”

> ID：12836944
> 
> 赞同：8
> 
> 时间：2012-10-11T09:58:46.040
> 
> 标签：network-programming, wireshark, packet-capture, tcpdump, wireshark-dissector

我在wireshark中打开了一个pcap，它把很多数据包显示为“重新组装的pdu的tcp段”。wireshark 如何能够确定哪些 tcp 数据包是重新组装的 pdu 的片段？我找不到任何标头字段或wireshark可以确定的任何其他内容。

任何帮助将不胜感激。谢谢 ！！！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-11T11:39:35.367

**序列号**是有助于重新组装的字段。假设您要发送数据字节 1-300。

例如，它们被分成*大小为 100 的 3 个段，*即第一个（1-100 字节数）、第二个（101-200）和第三个（201-300）。现在即使它们被乱序接收，*序列号也不会改变*。所以当重组数据时，你会知道数据包的原始顺序，因此wireshark可以显示组装好的数据包。

如果 SYN 标志清零 (0)，则这是当前会话的此数据包的第一个数据字节的累积序列号。

[TCP](http://en.wikipedia.org/wiki/Transmission_Control_Protocol)

请记住，这与 ip 分片和重组不同。IP头有字段来指定是否有分片，如果有，当前数据包的分片号是多少。

# codeigniter - Codeigniter - 自定义路由

> ID：12836951
> 
> 赞同：2
> 
> 时间：2012-10-11T09:59:12.763
> 
> 标签：codeigniter

可以说我有一个控制器“标准”和一个动作“主要”。

如果我访问 www.myapp.com/standard/main，它将调用标准控制器中的主要操作。

现在，如果我想更改 URL，我进入 routes.php 并设置如下：

$route['welcome'] = "标准/主";

现在我可以访问 www.myapp.com/welcome，它会调用相同的操作。

但是仍然可以访问 www.myapp.com/standard/main。我现在有两条路线导致相同的控制器动作。

这是通常的方式还是我应该以某种方式禁用现在不需要的 www.myapp.com/standard/main 路由？如果是这样，我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:12:05.040

这完全由您决定默认行为。如果您决定禁用原始网址，您可以编写类似

```
$route['standard/main'] = 'standard/404'; 
```

或任何自定义位置，这取决于您的项目以及您希望它的外观，例如，您可以“阻止”任何方法被直接访问：

```
$route['standard/(:any)'] = 'standard/404'; 
```

但是请记住，如果您像以前一样路由`$route['welcome'] = "standard/main";`，那么您应该始终记住该函数`$this->uri->segment(n)`将显示不同的值，例如，如果我将访问 url *yoursite.com/welcome/123*，则值为`$this->uri->segment(2)`，`123`但如果我访问原始 URL *yoursite.com/standard/main/123*，它的值将变为`main`.

请记住这一点并自己决定！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:16:59.350

假设这是您将使用的通用结构，对于每个操作，您可以检查 URL 中的段，然后进行适当的重定向。在从 from`standard/main`到 welcome 的情况下，您将拥有以下内容：

```
class Standard extends CI_Controller {

    public function main() {
        if($this->uri->segment(1) == 'standard') {
            redirect('welcome', 'location', '301');
        }
    }

} 
```

然后，这将检查 URL 中的第一段，如果它发现您已访问此 URL，则将您重定向到适当的路由。然后可以将其应用于您想要执行相同操作的每个操作。提供 301 表示永久重定向。

**更新**

刚刚发现了一个类似（相同？）的问题：[只允许在 Codeigniter 中看到路由中指定的 URL](https://stackoverflow.com/questions/12626700/only-allow-urls-specified-in-routes-to-be-seen-in-codeigniter)

# sql-server - 通知操作员任务与通知作业失败

> ID：12836953
> 
> 赞同：3
> 
> 时间：2012-10-11T09:59:18.650
> 
> 标签：sql-server, ssis, sql-server-agent, maintenance-plan

在维护计划中，我可以创建一个通知操作员任务，以便在我的维护计划中的任何任务成功或失败时运行。如果 SQL Server 代理作业失败，还可以选择通知，因此我可以在连接到维护计划的作业上启用此功能。每种方法的优缺点是什么？我应该同时使用这两种方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-11T14:09:59.143

如果您的维护计划在特定任务失败后继续执行，则该任务将是合适的，即故障并不严重并且总体计划执行仍被认为是成功的，但仍应通知某人某项特定任务失败。

作业通知对于意外失败很有用；它就像一个“包罗万象”的处理程序，用于处理您没有预料到并且不能或不应该在工作本身内处理的错误。

因此，如果对您的特定情况有意义，您可能希望同时使用两者。

# ios - 为 App Store 移除 itunesconnect 中的图标光泽（不在应用程序中）

> ID：12836954
> 
> 赞同：9
> 
> 时间：2012-10-11T09:59:21.300
> 
> 标签：ios, iphone, ipad, app-store-connect

自从 iTunesconnect 中的 1024x1024 像素更新以来，我们一直在尝试从 App Store 图标中移除图标光泽度。

我们的应用程序图标在 iPhone 或 iPad 上看起来不错（预渲染图标标志是可以的），但我们上传到 itunesconnect 的图标得到了添加。这就是我们的意思： [http ://dl.dropbox.com/u/1734172/gluddle-itc.png](http://dl.dropbox.com/u/1734172/gluddle-itc.png)

我们已经在我们的 lite 版本中体验到了这一点：iOS 上的图标看起来不错，但似乎没有办法禁用 App Store 图标的光泽度。

有谁知道如何禁用 App Store 的光泽度，或者这在 App Store 更新中有所改变？

[我们使用了搜索，但没有找到这个问题的答案]

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-11T11:00:47.600

App Store 图标的样式根据您的应用程序 info.plist 设置。Apple 在 iTunes Connect 中默认使用“光泽”效果，因为您的二进制文件尚未上传和处理。一旦您的应用程序上线，您的图标**应该**会正确显示（根据您的 info.plist）。如果您仍然有问题，您唯一的做法是将其作为 Apple 的错误提出。

[https://developer.apple.com/bugreporter/](https://developer.apple.com/bugreporter/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-11T08:20:33.157

在添加了我的应用程序的新版本（带有 1024 高分辨率图标）后，它还在 iTunes Connect 中添加了光泽效果，直到我发布它为止。它在 AppStore 以及 iPhone 和 iPad 上显示良好。

# java - JSF 中的值转换究竟是什么时候发生的？

> ID：12836955
> 
> 赞同：3
> 
> 时间：2012-10-11T09:59:22.200
> 
> 标签：java, jsf, jakarta-ee, jsf-2, java-ee-6

我咨询了几个权威来源，但要么他们真的相互矛盾，要么我误解了他们，或者可能不止一次发生了转变？JSF 的 1.x 和 2.x 版本之间有区别吗？

这篇[IBM 帖子](http://www.ibm.com/developerworks/library/j-jsf2/)指出，转换发生在**应用请求值阶段**（阶段 2）。

[BalusC](http://balusc.blogspot.de/2006/09/debug-jsf-lifecycle.html)的这篇文章[在这里](http://balusc.blogspot.de/2006/09/debug-jsf-lifecycle.html#TheFormSubmit)说默认转换发生在**流程验证阶段**（阶段 3）。

[Oracle JEE6 教程](http://docs.oracle.com/javaee/6/tutorial/doc/bnaqq.html)暗示转换发生在**更新模型值阶段**（第 4 阶段），在此阶段的描述中说：

> 如果本地数据无法转换为 bean 属性指定的类型..

另一方面，说明同一教程中的各个阶段的图形显示了**过程验证阶段**和**更新模型值阶段**出现的转换错误。

上述所有帖子都指出，如果该`immediate`属性设置为 true，则所有转换和验证都在**Apply 请求阶段**处理。这意味着该阶段的转换不是默认行为。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:37:23.060

来自[UIInput 的文档](http://javaserverfaces.java.net/nonav/docs/2.1/javadocs/javax/faces/component/UIInput.html)[强调我的]：

> 在请求处理生命周期的**Apply Request Values**阶段，必须使用 setSubmittedValue()存储此组件的解码值（通常但不一定是 String） - 但**尚未转换。**如果组件希望表明没有提交任何特定值，它可以不做任何事情，或者将提交的值设置为 null。
> 
> 默认情况下，在**请求处理生命周期的 Process Validators 阶段，提交的值将被转换为类型安全的对象**，如果验证成功，则使用 setValue() 将其存储为本地值。但是，如果 immediate 属性设置为 true，则此处理将改为在 Apply Request Values 阶段结束时进行。
> 
> 在请求处理生命周期的呈现响应阶段，输出转换与 UIOutput 一样发生。JSF 1.x 和 2.x 版本之间没有区别。

# sql - 使用 MS Access 进行多个内部联接产生多个结果.. 需要分组和总计

> ID：12836956
> 
> 赞同：5
> 
> 时间：2012-10-11T09:59:23.353
> 
> 标签：sql, ms-access

我花了 20 分钟的时间寻找已回答的类似问题，但大多数问题并未针对 MS Access 数据库指定。

不幸的是，我对 SQL 的经验非常有限，因此我很感激您对此的意见。

您可以从此处的此链接下载 Access 数据库，以查看我要完成的任务[TestDB.zip](http://www.meista.co.uk/TestDB.zip)。

此图像显示了一个非常基本的表设置，作为我希望实现的 MS Access 2003 中的示例：
![在此处输入图像描述](../Images/6d6d1e49b5cfdf51c351815b018daf2f.png)

基本上我想运行一个 SQL 查询，它将显示订单以及相关表中保存的所有信息。

显然，如下所示的 SQL 查询将显示多行重复信息，这不是我想要的。

```
SELECT Orders.OrderID, Orders.OrderTitle, Materials.Material, Materials.MaterialCost,
       Labour.HoursTaken, Invoices.InvoiceAmount
  FROM ((Orders INNER JOIN Labour ON Orders.OrderID = Labour.OrderID)
                INNER JOIN Materials ON Orders.OrderID = Materials.OrderID)
 INNER JOIN Invoices ON Orders.OrderID = Invoices.OrderID; 
```

结果：
![在此处输入图像描述](../Images/26d38e7adde4a523de5c7617a2652a14.png)

基本上，我想要一个查询，它将汇总每个订单的每个材料、时间和发票。我根据需要在此电子表格中生成的内容可以在这里看到：
![在此处输入图像描述](../Images/7a172fa7526b65c06dca08411eaaa8cf.png)

显然，这个 SQL 不起作用，因为由于 INNER JOINS 导致的多行，数字到处都是。

```
SELECT Orders.OrderID, Orders.OrderTitle, Sum(Materials.MaterialCost) AS SumOfMaterialCost,
       Sum(Labour.HoursTaken) AS SumOfHoursTaken, 
       Sum(Invoices.InvoiceAmount) AS SumOfInvoiceAmount
  FROM ((Orders INNER JOIN Labour ON Orders.OrderID = Labour.OrderID) 
                INNER JOIN Materials ON Orders.OrderID = Materials.OrderID) 
 INNER JOIN Invoices ON Orders.OrderID = Invoices.OrderID
 GROUP BY Orders.OrderID, Orders.OrderTitle; 
```

结果在这里：
![在此处输入图像描述](../Images/9e9a1a25dac4975cd30982fdf21cc8a2.png)

我查看了多个 SELECT 语句，但我认为 MS Access 不支持这些语句

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T12:37:07.533

子查询将为您提供所需的内容：

```
SELECT O.OrderID, O.OrderTitle, 
   (SELECT Sum(M.MaterialCost) FROM Materials AS M
    WHERE M.OrderID=O.OrderID) AS SumOfMaterialCost,
   (SELECT Sum(L.HoursTaken) FROM Labour AS L
    WHERE L.OrderID=O.OrderID) AS SumOfHoursTaken, 
   (SELECT Sum(I.InvoiceAmount) FROM Invoices AS I
    WHERE I.OrderID=O.OrderID)  AS SumOfInvoiceAmount
FROM Orders AS O 
```

有关更多有用信息，请参阅[子查询基础](http://allenbrowne.com/subquery-01.html)和[幸存子查询](http://allenbrowne.com/subquery-02.html)。

# ruby-on-rails - Rails OmniAuth 登录失败路由生产 ENV

> ID：12836957
> 
> 赞同：0
> 
> 时间：2012-10-11T09:59:26.900
> 
> 标签：ruby-on-rails, ruby, routes, omniauth, koala

我有一个应用程序，您可以使用 facebook 登录。这使用了 Omniauth 和 koala，它们在开发环境中都能很好地工作。

但是，在部署到 subURI 的生产模式下，我的登录操作和路由失败。部署的 URL 如下所示，代码如下：

```
www.domain_name/rails_app 
```

尝试登录时 url 转到

```
www.domain_name/auth/facebook 
```

不是

```
www.domain_name/rails_app/auth/facebook 
```

路线.rb

```
 match 'auth/:provider/callback', to: 'sessions#create' 
  match 'auth/failure', to: redirect('/')
  match 'signout', to: 'sessions#destroy', as: 'signout' 
```

登录操作 homepage.html.erb

```
<b><%= link_to "Sign in with Facebook", "/auth/facebook", id: "sign_in" %></b> 
```

我努力了

```
match 'auth/:provider/callback', to: 'sessions#create', as: "signin" 
```

并使用`signin_path`而不是，`/auth/facebook`但由于会话#create 中缺少操作而导致此错误。

有没有办法正确映射 `match 'auth/:provider/callback', to: 'sessions#create'`到像 login_path 这样的路径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:05:26.727

试试这个 - 写在你的 production.rb 文件中

```
DOMAIN_CONFIG = "http://www.domain_name/"  
config.action_mailer.default_url_options = { :host => "http://www.domain_name" } 
```

# ruby - 正则表达式用 ruby 替换 coderay 代码示例

> ID：12836965
> 
> 赞同：1
> 
> 时间：2012-10-11T09:59:54.617
> 
> 标签：ruby, regex, multiline

我正在编写一个脚本来迁移一些博客文章。

每篇博文都可能包含降价缩进的代码示例。其中一些有第一行，以三个冒号和一个语言标识符开头。

```
 ::: ruby
    def test
      puts "meh"
    end 
```

这些是较大文本的一部分。

现在，对于任何给定的文本，我想找到这些代码块并将它们替换为：

```
{% codeblock lang:ruby %}
def test
  puts "meh"
end
{% endcodeblock %} 
```

如果没有三个冒号或语言标识符，我想省略该`lang:<lang>`位。

我目前对如何编写正则表达式来查找这些感到困惑。我能想出的就是这个严厉而不是工作的野兽：

```
/^\s{4}(:::(\w+))+\n(\s{4}.*)\n^\s{0}$/mi 
```

有关详细信息，请参阅[http://www.rubular.com/r/kycM8SDQLb](http://www.rubular.com/r/kycM8SDQLb)。

更新每个帖子的正确方法是什么？我只是在处理正则表达式，ruby 代码不会有问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:14:21.700

您使用该`m`选项很好，但使用该选项没有意义，`i`因为您的正则表达式中没有字母。您可能希望在匹配后将语言名称小写或大写等。请注意，`\s`包括换行符。

```
/^ {4}:::[ \t]*(\w+)[ \t]*\n((?: {4}[^\n]*\n)*)/m 
```

或者，如果您可能使用的是非 linux，那么

```
/^ {4}:::[ \t]*(\w+)[ \t]*#{$/}((?: {4}[^#{$/}]*#{$/})*)/m 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T10:09:48.317

**更新：**

好的，原来换行问题来自我的 Opera 浏览器。

当我在 chrome 中检查您的原始链接时，它似乎有点工作，但匹配太多。

所以你唯一的问题是让你的正则表达式[不贪婪](http://www.regular-expressions.info/repeat.html)：

```
^\s{4}(:::(\w+))+\n(\s{4}.*?)\n^$ 
```

[在 Rubular 上](http://www.rubular.com/r/yPZjQ3Y8K7)看到它

**原答案：**

如果我将您的正则表达式更改为

```
^\s{4}:::(\w+)\r\n( {4}.*?)^\r$ 
```

它会起作用，[在rubular上看到它](http://www.rubular.com/r/066tPm46W7)

您的正则表达式中似乎有（至少在 Rubular 上）三个问题：

1.  有一个换行符`\r\n`，所以你`\n`一个人不匹配。

2.  `$`并不真正匹配换行符，它在 a 之前匹配`\n`，所以如果你的换行符是，这会咬你`\r\n`

3.  {0} 没用，事实上，如果我把它放在某个地方，rubular 就会停止匹配任何东西。

我将其更改`.*`为不贪婪的版本`.*?`，否则它会匹配太多。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T10:48:59.973

假设您正在将该代码解析为文本，请尝试以下操作：

```
str = %Q{:::ruby
def test
  puts "meh"
end}

str2 = %Q{def test
  puts "meh"
end}

str.gsub(/^\s*(:::\s(\w+))?((.|\s)+)/) do
  "{% codeblock#{" lang:#{$1}" if $1} %}#{$3}{% endcodeblock %}"
end
str2.gsub(/^\s*(:::\s(\w+))?((.|\s)+)/) do
  "{% codeblock#{" lang:#{$1}" if $1} %}#{$3}{% endcodeblock %}"
end 
```

可以调整的是语言名称的正则表达式（也许它不会捕获 c++）和开头/结尾的空白字符，除此之外，我认为这可以解决问题

# template-tal - PHPTAL：如何转储对象以查看所有属性

> ID：12836966
> 
> 赞同：3
> 
> 时间：2012-10-11T09:59:56.667
> 
> 标签：template-tal, phptal

我必须通过添加另一个字段“位置”来修改下面的 PHPTAL 模板

```
 <tal:block tal:repeat="contact Model/contactList">
    <div class="contactCell">
      Name: <span content="contact/name">contact name</span><br/>
      Number: <span content="contacy/number">2374687234</span><br/>

      <-- THIS NEEDS ADDING-->
      Location: <span content="contact/location">contact's location</span>

    </div>
  </tal:block> 
```

我的问题是我不知道模型中有哪些方法和属性可用，我也不想阅读 PHP 代码来跟踪它。我希望能够从模板中转储模型的所有属性，以便轻松查看我需要的属性是否已经可用，或者我是否必须要求后端开发人员使其可用。像这样的东西会很好。

```
<div class="debug panel">
  <tal:dumpObject Model/contactList>
</div> 
```

然后会在我的 HTML 输出中产生类似这样的内容：

```
<div class="debug panel">
  contact Array
  [
    {
      [name] => John Smith
      [number] => 374862378
      [address] => 22 Acacia Avenue
      [location] => London
    },{
      [name] => Billy Bragg
      [number] => 384567365
      [address] => 10 Downing Street
      [location] => London
    },
    ...
  ]
</div> 
```

这样我就可以立即看到我可以使用什么以及我需要向其他开发人员请求什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-12T22:30:45.623

您可以通过以下方式走得很远：

```
<pre tal:content="php:print_r(object, true)"/> 
```

如果对象是普通数组或`stdClass`对象。

但是，PHPTAL 也可以读取对象的方法并调用魔术`__get()`方法，因此如果对象来自一些花哨的 ORM，则可能无法列出所有可行的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-30T14:47:23.620

您也可以在 PHPTAL 中使用 var_dump：

```
<pre tal:content="php:var_dump(object)"/> 
```

# math - 提取视锥平面（Gribb & Hartmann 方法）

> ID：12836967
> 
> 赞同：13
> 
> 时间：2012-10-11T09:59:59.457
> 
> 标签：math, 3d, frustum, culling, occlusion-culling

一段时间以来，我一直在努力使用[Gribb/Hartmann 方法提取平截头体平面](http://www.cs.otago.ac.nz/postgrads/alexis/planeExtraction.pdf)，但收效甚微。我想建立一个相机视锥来剔除我的场景。

我正在使用右手坐标系中的列主矩阵。（OpenGL 风格 - 我使用 C# 和 Playstation Mobile，但数学应该相同）

我想在世界空间中获得我的飞机，所以我从 View-Projection Matrix（即 projectionMatrix * viewMatrix）构建我的平截头体。视图矩阵是相机世界变换的逆矩阵。

问题是; 无论我调整什么，我似乎都无法得到正确的截锥体。我认为我可能遗漏了一些明显的东西。

如果我在向下看 z 轴的同时向左或向右“扫射”我的相机，我的平面的法线会发生变化，因此它们总是指向场景的原点——这让我认为它们不在世界空间中...

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2016-01-23T07:38:38.173

可以使用 Gribb/Hartmann 方法从投影矩阵中提取平面，如下所示（主要列）：

```
void extract_planes_from_projmat(
        const float mat[4][4],
        float left[4], float right[4],
        float bottom[4], float top[4],
        float near[4], float far[4])
{
    for (int i = 4; i--; ) left[i]      = mat[i][3] + mat[i][0];
    for (int i = 4; i--; ) right[i]     = mat[i][3] - mat[i][0];
    for (int i = 4; i--; ) bottom[i]    = mat[i][3] + mat[i][1];
    for (int i = 4; i--; ) top[i]       = mat[i][3] - mat[i][1];
    for (int i = 4; i--; ) near[i]      = mat[i][3] + mat[i][2];
    for (int i = 4; i--; ) far[i]       = mat[i][3] - mat[i][2];
} 
```

`mat4`投影矩阵和模型视图矩阵的乘积在哪里。

看：

*   [https://fgiesen.wordpress.com/2012/08/31/frustum-planes-from-the-projection-matrix/](https://fgiesen.wordpress.com/2012/08/31/frustum-planes-from-the-projection-matrix/)
*   [http://www8.cs.umu.se/kurser/5DV051/HT12/lab/plane_extraction.pdf](http://www8.cs.umu.se/kurser/5DV051/HT12/lab/plane_extraction.pdf)

注意：如果矩阵分量未归一化并且您需要*Hessian Normal Form*平面，那么您将需要对生成的平面进行归一化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-07-14T03:32:05.910

缺少的部分：

```
comboMatrix = projection_matrix * Matrix4_Transpose(modelview_matrix) 
```

那么 OpenGL 的*世界空间*平截头体平面提取与*Gribb/Hartmann 方法*中提到的完全一样：

```
p_planes[0].a = comboMatrix._41 + comboMatrix._11;
p_planes[0].b = comboMatrix._42 + comboMatrix._12;
p_planes[0].c = comboMatrix._43 + comboMatrix._13;
p_planes[0].d = comboMatrix._44 + comboMatrix._14;
// Right clipping plane
p_planes[1].a = comboMatrix._41 - comboMatrix._11;
p_planes[1].b = comboMatrix._42 - comboMatrix._12;
p_planes[1].c = comboMatrix._43 - comboMatrix._13;
p_planes[1].d = comboMatrix._44 - comboMatrix._14;
// Top clipping plane
p_planes[2].a = comboMatrix._41 - comboMatrix._21;
p_planes[2].b = comboMatrix._42 - comboMatrix._22;
p_planes[2].c = comboMatrix._43 - comboMatrix._23;
p_planes[2].d = comboMatrix._44 - comboMatrix._24;
// Bottom clipping plane
p_planes[3].a = comboMatrix._41 + comboMatrix._21;
p_planes[3].b = comboMatrix._42 + comboMatrix._22;
p_planes[3].c = comboMatrix._43 + comboMatrix._23;
p_planes[3].d = comboMatrix._44 + comboMatrix._24;
// Near clipping plane
p_planes[4].a = comboMatrix._41 + comboMatrix._31;
p_planes[4].b = comboMatrix._42 + comboMatrix._32;
p_planes[4].c = comboMatrix._43 + comboMatrix._33;
p_planes[4].d = comboMatrix._44 + comboMatrix._34;
// Far clipping plane
p_planes[5].a = comboMatrix._41 - comboMatrix._31;
p_planes[5].b = comboMatrix._42 - comboMatrix._32;
p_planes[5].c = comboMatrix._43 - comboMatrix._33;
p_planes[5].d = comboMatrix._44 - comboMatrix._34; 
```

这些平面现在位于世界空间中，可用于截头剔除世界空间对象。

```
for(int i = 0; i < 6; i++)
{
    var dist = dot3(world_space_point.xyz, p_planes[i].xyz) + p_planes[i].d + sphere_radius;
    if(dist < 0) return false; // sphere culled
} 
```

# c# - 对于 linq 多对多连接表，对数据库的选择调用过多

> ID：12836970
> 
> 赞同：0
> 
> 时间：2012-10-11T10:00:11.097
> 
> 标签：c#, sql-server, linq-to-sql, many-to-many

我的问题是针对一个复杂的数据库，所以我在下面使用了一个简化版本。

我有 3 张桌子。让我们称呼他们：

```
Course
    - id
    - name

Student
    - id
    - name

StudentCourses
    - id
    - student_id
    - course_id 
```

StudentCourses 设置为与其他两个表相关，这是一种相当正常的多对多模式。

我使用部分扩展了我的学生对象，并为我的学生类添加了一个相当基本的方法，以便检索他们的所有类。

```
// Partial to add helper method to LINQ generated Student class
public partial class Student {

    // Get courses that this student is enrolled.
    public IQueryable<Course> GetCourses(){
        return this.StudentCourses.Select(d=>d.Course);
    }
} 
```

我预计这可能会在内部使用连接，但是在记录了 SQL 查询后，我可以看到它实际上为每个连接创建了一个“SELECT * FROM Courses”。

执行此行为的更好方法是什么？每行一个选择似乎非常低效！

**进一步调查** 经过一些评论后，我决定进一步调查。我发现了以下内容：

```
MyDataContext db = new MyDataContext();
var student = db.Students.Single(i=>i.id);

var testOne = db.StudentCourses.Where(u=>u.student_id == student.id).
                                      Select(d=>d.Courses).ToList();

var testTwo = student.StudentCourses.Select(d=>d.Courses).ToList(); 
```

在测试一中，执行的 SQL 使用 JOIN，因此是单个数据库调用。在测试二中，SQL 是一门选择 PER 课程。这是一个问题。

这只是预期的行为吗？我可以重构为我猜的第一种类型，但我更喜欢第二种测试的逻辑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:28:16.083

对于 LinqToSql 使用**[DataLoadOptions](http://msdn.microsoft.com/en-us/library/system.data.linq.dataloadoptions.aspx)**

**例子 ：**

```
public IQueryable<Course> GetCourses(){
    var dlo = new DataLoadOptions();
    dlo.LoadWith<StudentCourses>(d => d.Course);
    this.LoadOptions = dlo;

    return this.GetTable<StudentCourses>().Select(d=>d.Course);
} 
```

希望这会有所帮助！

# machine-learning - 通过聚类关键字进行主题检测

> ID：12836973
> 
> 赞同：2
> 
> 时间：2012-10-11T10:00:14.390
> 
> 标签：machine-learning, data-mining

我想根据文本中出现的关键字进行文本分类，因为我没有样本数据来使用朴素贝叶斯进行文本分类。

例子：

我的文档有一些单词，例如“家庭，母亲，父亲，孩子……”，文档的类别是家庭。或者“足球，网球，得分……”，类别是运动

在这种情况下，最好的算法是什么？。这个问题有没有 api java？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T13:42:35.153

您拥有的是*特征标签*，即特征上的标签而不是实例。有几种方法可以利用这些方法，但通常假设除了特征标签之外还有实例标签（即文档上的标签）。这种范式被称为*双重监督*。

无论如何，我知道至少有两种方法可以单独从标记的特征中学习。第一个是[广义期望标准](http://www.cs.umass.edu/~mccallum/papers/ge08note.pdf)，它惩罚模型参数偏离*先验*信念（例如，“moether”通常应该与“family”相关联）。[此方法的缺点是有些复杂，但优点是在Mallet](http://mallet.cs.umass.edu/)工具包中具有良好打包的开源 Java 实现（具体请参见[此处](http://mallet.cs.umass.edu/ge-classification.php)）。

第二种选择基本上是使用朴素贝叶斯，并为已知的单词/类关联提供大量先验——例如，P("family"|"mother") = .8，或其他。所有未标记的单词都将被分配一些先验，大概反映了类分布。然后，您将有效地仅根据类的普遍性和标记的术语信息做出决策。Settles[最近提出了一个这样的模型](http://code.google.com/p/dualist/)，并且有一个可用的网络工具。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T16:38:28.403

为此，您可能需要一个辅助数据集。您不能依靠您的数据集来传达“爸爸”、“父亲”和“丈夫”具有相似含义的信息。

你可以尝试做我的共现来检测近义词，但这不是很可靠。

可能 wordnet 等是消除这些词歧义的好地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T14:12:14.243

您可以下载 freebase 主题集合：[http](http://wiki.freebase.com/wiki/Topic_API) ://wiki.freebase.com/wiki/Topic_API 。

# javascript - 为什么我不能从这两个代码块中得到相同的结果？

> ID：12836977
> 
> 赞同：0
> 
> 时间：2012-10-11T10:00:35.797
> 
> 标签：javascript

我想知道为什么我没有从这两个代码块中得到相同的结果。

```
var line = "";
var counter = 0;
while (counter < 10) {
  line = line + "#";
  print(line);
  counter = counter + 1;
} 
```

-

```
var NumSym = "";

for(i = 0; i < 10; i++){

print(NumSym + "#");

} 
```

另外我不确定这些块的名称，也许是表达式？感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:03:35.770

在第二个块中，您没有将值存储在变量中，因此字符串连接将不起作用。所以每次都会显示一个#号。

第二块可能是：

```
var NumSym = "";

  for(i = 0; i < 10; i++){
    NumSym = NumSym + "#"
    console.log(NumSym);

} 
```

理解表达式的概念。**[有关“表达式和运算符”和“语句”的主题，请参见此处](https://developer.mozilla.org/en-US/docs/JavaScript/Guide)**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-11T10:06:19.743

在第一个`while-loop`示例中，您在每次迭代时将附加哈希 ( `#`) 连接到`line`字符串常量：

```
line = line + "#"; 
```

而在第二个`for`循环中，您不会：

```
print(NumSym + "#"); 
```

在第二行中，您打印`NumSym`(即`''`) 的当前值，并在其中添加一个`#`，因此它会打印出 10 `#`。换句话说： 的值`NumSym`永远不会改变。
顺便说一句：在 JS 中，普遍认为以大写字母开头的*“事物”*是对象构造函数，变量以小写字母开头。只是让你知道...

因为我注意到你在评论中问了几次这个问题：

语句是*“1 或多个事物”*的“行”代码：

```
var foo;//stmt declaring a variable, called foo (implicitly initialized to undefined)
var foo = 'bar';//stmt declares AND assigns a string constant to the variable
var foo, bar, x = 1;//statement, consisting of 4 expressions 
```

表达式是语句中有意义的部分：

```
var result = 2*123;//where 2*123 is an expression, result = 2*123 is, too
while(result > 123)//while([expression])<-- an expression resolves in a value (true or false) 
```

块在 JS 中有些模糊，基本上所有用 curly 包裹的代码都可以称为块，但这可能会让那些习惯于 C++ 等语言的人感到困惑，其中每个块都有自己的范围。

```
int x = 0;//global
int main()
{
    int x = ::x;//function scope
    for (int x=0;x<10;x++)
    {//x == loop scope, ::x == global x
        printf("In loop x: %d, outer x: %d\n",x, ::x);
        ::x = x%2 == 0 ? x : ::x;
    }
    if (x == 0)
    {
        printf("true\n");//will show up on the screen!
    }
    return x;
} 
```

输出：

> 循环内 x：0，外部 x：0
> 循环内 x：1，外部 x：0
> 循环内 x：2，外部 x：0
> 循环内 x：3，外部 x：2
> 循环内 x：4，外部 x：2
> 循环内 x：5，外部 x：4
> 循环内 x：6，外部 x：4
> 循环内 x：7，外部 x：6
> 循环内 x：8，外部 x：6
> 循环内 x：9，外部 x：8
> 真的

在 JS 中情况并非如此，这就是为什么我将您的代码示例称为循环而不是块。仅仅是因为我觉得一个*块*应该*屏蔽*或*阻止*对在块本身之外声明的变量的操作。但我认为这更像是个人的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-11T10:04:53.353

在第二个例子中，你总是打印出`NumSym`（它总是空字符串，因为你永远不会改变它的初始值）加上一个`#`字符。

换句话说，一系列行，每行包含一个`#`.

要使其与第一个块等效，您可以使用以下内容：

```
var NumSym = "";
for (i = 0; i < 10; i++) {
    NumSym = NumSym + "#";
    print(NumSym);
} 
```

# java - 单击菜单时加载内容

> ID：12836980
> 
> 赞同：0
> 
> 时间：2012-10-11T10:00:42.213
> 
> 标签：java, spring, hibernate, struts

我正在使用 struts 1.3 + spring 2.5 + hibernate 3。

我有 2 个表类别和产品。

```
---------CATEGORY--------- 
- cat_id(varchar)
- cat_name(varchar)
---------PRODUCT---------
- pro_id(int)
- cat_id(varchar)
- pro_name(varchar) 
```

我使用标签逻辑从数据库加载类别名称作为顶部站点的菜单

```
<logic:iterate id="cat" name="catList">
<bean:define id="ID" name="cat" property="catId" />
    <a href="/ListProduct.do?catId=<%=ID %>">
        <bean:write name="cat" property="catName" />
    </a> |
</logic:iterate> 
```

它会像这样显示：

```
CAT1 | CAT2 | CAT3 | CAT4 | 
```

我希望当我点击 CAT1 或 CAT2... 时，它会在菜单下方显示该类别的产品名称。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T23:49:59.357

`<a onclick="showProducts('<c:out value="${ID}"/>')">` 然后实现 javascript 函数来显示包含该类别中所有产品的弹出窗口。您可以为此使用一些 JQuery 插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-11T23:33:03.780

当您单击菜单链接时，它将提交到操作类并获取产品详细信息并转发到与产品列表相同的页面。使用相同的迭代器和 bean:write 标签显示在同一页面中。

它回答了你的问题吗？

如果您需要更多帮助，请告诉我。

# c++ - 相互依赖的结构声明

> ID：12836981
> 
> 赞同：1
> 
> 时间：2012-10-11T10:00:42.903
> 
> 标签：c++, struct, declaration

> **可能重复：**
> [何时使用前向声明？](https://stackoverflow.com/questions/553682/when-to-use-forward-declaration)
> [成员相互引用的 C++ 类](https://stackoverflow.com/questions/8140713/c-classes-with-members-referencing-each-other)

我对 C++ 很陌生，我对下面定义的两个结构有疑问，如下所示。每个结构都包含一个指向另一个的指针：

```
 struct A{
    ...
        ...
    B *ptr;
}

    struct B{
    ...
    ...
    A* ptr;
}; 
```

但是，由于第二个结构仅在第一个结构之后定义，因此出现编译错误。有解决方案吗？我试图在头文件中单独声明该结构，但它不起作用。任何帮助表示赞赏！谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:01:36.713

是的，使用前向声明：

```
struct B;  //forward declare B
struct A{
    ...
        ...
    B *ptr;
};

struct B{
    ...
    ...
    A* ptr;
}; 
```

由于成员是指针，因此不需要完整的定义 - 声明就足够了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-11T10:03:43.500

在 C++ 中，为了获得指向类型的指针，您不需要对该类型的完整定义。你可以转发声明它。

```
struct B;
struct A {
    ...
    struct B* ptr;
};
struct B {
    ...
    struct A* ptr;
}; 
```

# ruby-on-rails - 从 Rails 使用 HTTParty 访问 Pingdom API

> ID：12836983
> 
> 赞同：0
> 
> 时间：2012-10-11T10:00:47.120
> 
> 标签：ruby-on-rails, api, httparty, pingdom

您好，我从我的 rails 应用程序访问 Pingdom API 时遇到问题。这是代码：

auth = {:username => pingdom_username, :password => pingdom_password, :key => application_key } response =HTTParty.get("https://api.pingdom.com/api/2.0/checks", :basic_auth => auth )

我已经尝试了很多方法（将应用程序密钥作为单独的标题，具有不同的名称：key，：app_key，：api_key）但我总是收到错误作为应用程序密钥的错误：

所以，

把 response.body

返回：

{"error":{"statuscode":403,"statusdesc":"Forbidden","errormessage":"缺少应用程序密钥。请参阅文档。"}}

任何想法我做错了什么？先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T06:36:36.013

我发现了我的错误 :) 密钥应该作为 HTTP 标头提供

一种方法可以是：

response = HTTParty.get("https://api.pingdom.com/api/2.0/checks", :basic_auth => auth, :headers => {"App-Key" => application_key})

另一种方法是创建一个类，您可以在其中设置参数，然后调用该类。

类Pingdom

```
include HTTParty
headers "App-Key" => "xxxxxxxxxxxxxxxxxxxxxxxxxxxm6ogjzpd7v" 
```

结尾

response = Pingdom.get("https://api.pingdom.com/api/2.0/checks", :basic_auth => auth)

# php - 在 Cakephp 中使用 javascript 获取日期值

> ID：12836990
> 
> 赞同：4
> 
> 时间：2012-10-11T10:01:07.690
> 
> 标签：php, javascript, jquery, cakephp

我想在 javascript 中获取日期值，我正在使用 cakephp 默认日期函数。问题是它显示了 3（日-月-年）不同的下拉菜单，并且 .change 在每个下拉菜单上执行，但我想获取完整的日期（如 20-11-2012）。我想在提交之前获取日期值，因为我想对其应用验证。

我想我忘了提到我不想使用“日期选择器”。![在此处输入图像描述](../Images/1911d4aeab927ab08961eeede710902d.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T12:01:20.043

您应该使用 Cake 的 Form 元素命名约定。

例如，如果您`$this->input('Model.field', array('type'=>'date'))`在视图中调用，生成的 html 选择框具有以下 id `#ModelFieldMonth, #ModelFieldDay, #ModelFieldYear`：.

所以在 JS 中获取完整日期的代码：

```
var date = $('#ModelFieldYear').val() + '-' + $('#ModelFieldMonth').val() + '-' + $('#ModelFieldDay').val(); 
```

# c# - 更改计时器时间

> ID：12836992
> 
> 赞同：1
> 
> 时间：2012-10-11T10:01:18.217
> 
> 标签：c#, silverlight, windows-phone-7

我需要在计时器中更改时间，现在我使用标准手机键盘，但我想切换并使用它，但我什至不知道它的名字！

[这是](http://imageshack.us/scaled/landing/191/lollok.png)我截取的屏幕截图的链接

用于系统更改时间和闹钟

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T10:04:52.437

您需要获取[Silverlight for Windows Phone Toolkit](http://silverlight.codeplex.com)并使用该`TimePicker`控件。

您可以[在此处](http://www.windowsphonegeek.com/articles/wp7-datepicker-and-timepicker-in-depth--api-and-customization)查看有关如何使用控件的一些出色示例代码。

# java - 为什么我的 untar 不包含最后一个字节

> ID：12836994
> 
> 赞同：1
> 
> 时间：2012-10-11T10:01:20.493
> 
> 标签：java, zip, gzip, tar

我写了一个提供`.tar.gz`文件的休息资源。它工作正常。我尝试过请求它、保存数据、解包（使用`tar xzvf [filename]`），然后我得到了正确的数据。

但是，我正在尝试使用`java.util.zip.GZIPInputStream`并`org.apache.tools.tar.TarInputStream`解压缩和解压缩`.tar.gz`我在 JUnit 测试中提供的服务，以验证它是否自动工作。这是我的单元测试中的代码，删除了一些细节：

```
 HttpResponse response = <make request code here>
    byte[] receivedBytes = FileHelper.copyInputStreamToByteArray(response.getEntity().getContent(), true);

    GZIPInputStream gzipInputStream = new GZIPInputStream(new ByteArrayInputStream(receivedBytes));
    TarInputStream tarInputStream = new TarInputStream(gzipInputStream);
    TarEntry tarEntry = tarInputStream.getNextEntry();
    ByteArrayOutputStream byteArrayOutputStream = null;
    System.out.println("Record size: " + tarInputStream.getRecordSize());
    while (tarEntry != null) // It only goes in here once
    {
        byteArrayOutputStream = new ByteArrayOutputStream();
        tarInputStream.copyEntryContents(byteArrayOutputStream);
        tarEntry = tarInputStream.getNextEntry();
    }
    byteArrayOutputStream.flush();
    byteArrayOutputStream.close();
    byte[] archivedBytes = byteArrayOutputStream.toByteArray();
    byte[] actualBytes = <get actual bytes>
    Assert.assertArrayEquals(actualBytes, archivedBytes); 
```

最后的断言失败，在 byte 处存在差异`X = (n * 512) + 1`，其中`n`是最大的自然数，`n * 512 <= l`并且`l`是数据的长度。也就是说，我正确地得到了 512 字节数据的最大可能倍数，但是调试测试我可以看到所有剩余的字节都为零。因此，如果数据总量为 1000 字节，则前 512 字节`archivedBytes`是正确的，但最后 488 字节均为零/未设置，如果总数据为 262272 字节，我将正确获得前 262144 (512*512) 字节，但其余字节再次全部为零。

另外，`tarInputStream.getRecordSize()`上面的系统会打印`Record size: 512`，所以我认为这在某种程度上是相关的。但是，由于如果我下载存档就可以工作，我猜数据*肯定*在那里，而且我缺少一些东西。

进入`tarInputStream.copyEntryContents(byteArrayOutputStream)`1000 字节数据，在

```
int numRead = read(buf, 0, buf.length); 
```

是`numRead`100，但是查看缓冲区，只有前 512 个字节是非零的。也许我不应该使用这种方法来获取数据`TarInputStream`？

如果有人知道它应该如何工作，我将非常感谢任何建议或帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-11T10:41:14.270

您可以指定创建 tar 存档时要使用的输出块大小。因此存档的大小将是块大小的倍数。由于存档大小通常不适合整个块数，因此会将零添加到最后一个数据块以使其具有正确的大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-22T17:02:59.847

原来我原来的问题错了，错误出*在*资源代码中。在写入 TarOutputStream 时，我没有关闭该条目。我想这在从服务器手动请求它时不会引起任何问题，可能是因为该条目已通过连接或其他东西关闭，但是在从单元测试请求时工作方式不同......尽管我必须承认这并没有很有意义：P

查看下面我编写代码的片段，我错过了第 3 行。

```
1: tarOutputStream.putNextEntry(tarEntry);
2: tarOutputStream.write(fileRawBytes);
3: tarOutputStream.closeEntry();
4: tarOutputStream.close(); 
```

我什至不知道 TarOutputStream 上有一个“closeEntry”之类的东西……我现在知道了！:P

# java - AES -256 解密

> ID：12836995
> 
> 赞同：-1
> 
> 时间：2012-10-11T10:01:23.813
> 
> 标签：java, aes

我有一个用于从 abcde.test.com 退订的加密电子邮件 ID。

为前： [https://abcde.test.com/Forms/unSubscribe.jsp?n=2&rid=00028e7353d9c4eca480a579e10ef09b&eid=588876054d458e62779be9345f399252cac7346ad8c464b8ed0bdfbff3512dd96a5b4190c5d71c30c90c34ff39e544aa](https://abcde.test.com/Forms/unSubscribe.jsp?n=2&rid=00028e7353d9c4eca480a579e10ef09b&eid=588876054d458e62779be9345f399252cac7346ad8c464b8ed0bdfbff3512dd96a5b4190c5d71c30c90c34ff39e544aa)

这是在 aes-256 中加密的。其中 eid="encrypted message" 并在与 keysize 组合时删除，并且 keystr（如“6a6b663472346c38736873346569727538346234333534376635333962353666”）形成编码密钥。

现在我想解密这条消息。有人可以帮我解密吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:08:39.633

使用 Java SE 和 Apache Commons 尝试以下操作。请注意，您没有指定密码的模式或填充（只是“AES”），因此您可能需要进行一些调整。

```
// decode the key string into bytes (using Apache Commons)
byte[] keyBytes = Hex.decodeHex(keystr.toCharArray());

// create a representation of the key
SecretKeySpec spec = new SecretKeySpec(keyBytes, "AES");

// turn the key spec into a usable key
SecretKeyFactory keyFactory = SecretKeyFactory.getInstance("AES");
SecretKey key = keyFactory.generateSecret(spec);

// use a cipher to decrypt the eid
Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
cipher.init(Cipher.DECRYPT_MODE, key);
byte[] plainText = cipher.doFinal(hex.decodeHex(eid.toCharArray())); // decode from Hex again 
```

我不知道类型`eid`代表什么，所以把它变成具体的东西取决于你，但这里有一个例子：

```
String eid = new String(plainText, "ASCII"); 
```