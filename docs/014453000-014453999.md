# StackOverflow 问答 14453000-14453999

# iphone - 警告的含义“在演示过程中！”

> ID：14453001
> 
> 赞同：48
> 
> 时间：2013-01-22T06:45:10.510
> 
> 标签：iphone, objective-c, uinavigationcontroller

当我将**Instagram**整合到我的项目中时。我收到了一个`image`来自`UIImagePickerController`它之后的消息，我想将它发送到**Instagram**但是当我通过 这样的委托方法发送`image`到**Instagram时**`UIDocumentInteractionController``presentOptionsMenuFromRect:inView: animated:`

```
[documentInteractionController presentOptionsMenuFromRect:CGRectZero inView:self.view animated:YES]; 
```

警告来**了 警告：尝试在演示过程中演示 <_UIDocumentActivityViewController: 0x7584780>！**
应用程序没有崩溃。但我没有得到问题。为什么会出现这个警告以及它的含义。我在互联网上搜索并阅读了有关此的问题，但没有得到任何答案。帮我 ！！

* * *

## 回答 #1

> 赞同：146
> 
> 时间：2013-06-15T04:03:21.537

```
// Breaks
[viewController1 dismissViewControllerAnimated:YES completion:NULL];
[self presentViewController:viewController2 animated:YES completion:NULL];

// Does not break
[viewController1 dismissViewControllerAnimated:YES completion:^{
    [self presentViewController:viewController2 animated:YES completion:NULL];
}]; 
```

The Swift 3 version of the above code would look like this:

```
// Breaks
viewController1.dismiss(animated: true)
present(viewController2, animated: true)

// Does not break
viewController1.dismiss(animated: true) {
    present(viewController2, animated: true)
} 
```

Note the use of the completion handler in the second example above.
It only presents `viewController2` after `viewController1` has been fully dismissed.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-12-09T01:33:05.820

对于那些需要/想要 swift 3 版本的人，这里是

```
viewController1.dismiss(animated: true, completion: {
    self.present(self.viewController1, animated: true)
}) 
```

viewController1 是您要呈现的视图控制器。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T07:04:29.557

这意味着您正在演示或解雇`UIImagePickerController`并尝试`UIDocumentInteractionController`演示，而第一次演示或解雇尚未完成。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-12-10T16:28:12.500

这意味着您同时呈现 2 个 ViewController。在第一次演示完成后致电您的代表。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-08-12T04:25:57.513

如果您有（例如）一个连接到 IBAction 以呈现 ViewController 的 UIButton，并且还在 Storyboard 中创建从按钮到目标 ViewController 的 segue，也会发生这种情况。

当我在移动一些交互时忘记从 UIButton 中删除 IBAction 连接时，是否会发生这种情况。

删除 IBAction 连接或 segue 将解决它。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-01-12T10:10:14.870

我收到此消息是因为我复制粘贴了一个已发送附加事件的按钮，并且我继续创建另一个连接，因为新按钮应该打开新视图。

所以从技术上讲，我试图同时打开 2 个视图。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-06-11T14:33:56.103

尝试..

```
 double delayInSeconds = 1.0;
    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));
    dispatch_after(popTime, dispatch_get_main_queue(), ^(void){

        [self performSegueWithIdentifier:@"Identifier" sender:self];

    }); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-07-30T16:22:55.453

正如之前所说，这意味着您正在尝试同时呈现 2 个模态窗口或弹出框。但就我而言，当我收到此消息时，我没有看到任何模态窗口或弹出窗口。

在我的案例中出现错误的原因如下。当我第一次调用弹出框出现时，这是另一个阻止弹出框显示的错误，但它以某种方式继续处于“呈现”状态。以下所有显示弹出框的尝试都失败了，并出现运行时错误“在演示过程中！”。

因此，如果您遇到相同的情况，请查看日志并尝试查找以 . 开头的第一个错误`*** WebKit discarded an uncaught exception in the...`。

希望它能节省一些人的时间。

# java - postgresql休眠异常插入

> ID：14453004
> 
> 赞同：0
> 
> 时间：2013-01-22T06:45:19.650
> 
> 标签：java, database, hibernate, postgresql

您好我正在使用带有 postgresql 9.2 的 hibernate 运行一个 java 项目，当我尝试插入它时会显示：

```
Exception in thread "main" org.hibernate.exception.SQLGrammarException: Could not execute JDBC batch update
at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)
at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:275)
at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:179)
at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1206)
at main.java.DataBase.Crawler_DataBase.insert(Crawler_DataBase.java:34)
at crawler.WebCrawler.<init>(WebCrawler.java:52)
at crawler.WebCrawler.main(WebCrawler.java:64)
Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into documententity (address, page_content, id) values ('http://en.wikipedia.org/wiki/Main_Page', 'Wikipedia, the free encyclopedia Main Page From Wikipedia, the free encyclopedia Jump to: navigation, search Welcome to Wikipedia, the free encyclopedia that anyone can edit. 4,148,874 articles in English Arts Biography Geography History Mathematics Science Society Technology All portals From today''s featured article Typhoon Rusa, the 10th typhoon of the 2002 Pacific typhoon season, was the most powerful to strike South Korea in 43 years. It developed on August 22 from the monsoon trough in the northwestern Pacific Ocean, then moved to the northwest, intensifying into a powerful typhoon. On August 26, the storm moved across the Amami Islands of Japan, causing two fatalities. Across Japan, the typhoon dropped torrential rainfall peaking at 902 mm (35.5 in) in Tokushima Prefecture. After weakening slightly, Rusa made landfall on Goheung, South Korea with winds of 140 km/h (85 mph). It weakened while moving through the country, dropping heavy rainfall that peaked at 897.5 mm (35.33 in) in Gangneung. A 24 hour total of 880 mm (35 in) in the city broke the record for the highest daily precipitation in the country. Over 17,000 houses were damaged, and large areas of crop fields were flooded. In South Korea, Rusa killed at least 233 people. The typhoon also dropped heavy rainfall in neighboring North Korea, leaving 26,000 people homeless and killing three. Rusa also destroyed large areas of crops in the country already affected by ongoing famine conditions. (Full article...) Recently featured: 1968 Thule Air Base B-52 crash â€“ First inauguration of Barack Obama â€“ U2 3D Archive â€“ By email â€“ More featured articles... Did you know... From Wikipedia''s newest content: ... that Bobbi Sue Luther (pictured) claimed that her costume in the Star Trek: Enterprise episode "Borderland" was skimpier than her normal outfits as a lingerie and bikini model? ... that volcanologist Harry Glicken was saved from the 1980 eruption of Mount St. Helens due to a scheduling conflict, only to die in the eruption of Mount Unzen in 1991? ... that Mosconi was the first Italian restaurant in the Benelux nations to receive a Michelin star? ... that though Balasaraswati was called "a revolutionary Bharata Natyam dancer", she was only filmed at the age of 58 in Bala, a documentary made by Satyajit Ray? ... that Harry Redford, the cattle duffer and drover upon whom the character Captain Starlight was based, drove the first mob of cattle to and later managed Brunette Downs Station? ... that the Russian ship of the line Gangut was credited with sinking two Ottoman frigates, a fire ship, and destroying a shore battery during the Battle of Navarino in 1827? ... that although the cream-spot ladybird is sometimes called the "eighteen-spot ladybird", the species name indicates it has fourteen spots? Archive â€“ Start a new article â€“ Nominate an article In the news After hundreds of workers are taken hostage in an attack at a gas facility near In AmÃ©nas, Algeria, a raid by Algerian forces results in dozens of fatalities. Boeing 787 aircraft (pictured) are grounded worldwide over concerns about the safety of their lithium-ion batteries. Sri Lankan Chief Justice Shirani Bandaranayake is dismissed by President Mahinda Rajapaksa following her contested impeachment. In the Central African Republic, the government signs a ceasefire agreement with rebels, ending a month of conflict and establishing a new coalition government. France commits troops to aid government forces in the current Northern Mali conflict. Sakine CansÄ±z, one of the co-founders of the Kurdistan Workers'' Party, and two other Kurdish activists are shot dead in Paris. Recent deaths: TaihÅ? KÅ?ki â€“ Stan Musial â€“ Pauline Phillips Syrian civil war â€“ Wikinews â€“ More current events... On this day... January 22: Reunion Day in Ukraine (1919) 1879 â€“ Anglo-Zulu War: Zulu forces of King Cetshwayo (pictured) fought to a decisive victory at the Battle of Isandlwana. 1957 â€“ New York City police arrested George Metesky, better known as the "Mad Bomber", for planting over 30 bombs over 16 years throughout the city. 1971 â€“ The Singapore Declaration, one of the two most important documents to the uncodified constitution of the Commonwealth of Nations, was issued. 1984 â€“ Apple Computer introduced the Macintosh computer during Super Bowl XVIII with its groundbreaking "1984" television commercial. 2006 â€“ Aymaran Evo Morales was inaugurated as President of Bolivia, the country''s first democratically elected, fully Amerindian leader. More anniversaries: January 21 â€“ January 22 â€“ January 23 Archive â€“ By email â€“ List of historical anniversaries It is now January 22, 2013 (UTC) â€“ Refresh this page Today''s featured picture The comma butterfly (Polygonia c-album) is found in temperate areas of Europe and Asia and is named after a white ''C'' shape on the underside of the wings resembling a comma. The wings have a distinctive ragged edge, apparently a cryptic form as the butterfly resembles a fallen leaf. Photo: Quartl Recently featured: Tawny Frogmouth â€“ U.S. federal government in 1862 â€“ St. Michael''s Cathedral, Izhevsk, Russia Archive â€“ More featured pictures... Other areas of Wikipedia Community portal â€“ Bulletin board, projects, resources and activities covering a wide range of Wikipedia areas. Help desk â€“ Ask questions about using Wikipedia. Local embassy â€“ For Wikipedia-related communication in languages other than English. Reference desk â€“ Serving as virtual librarians, Wikipedia volunteers tackle your questions on a wide range of subjects. Site news â€“ Announcements, updates, articles and press releases on Wikipedia and the Wikimedia Foundation. Village pump â€“ For discussions about Wikipedia itself, including areas for technical issues and policies. Wikipedia''s sister projects Wikipedia is hosted by the Wikimedia Foundation, a non-profit organization that also hosts a range of other projects: Commons Free media repository MediaWiki Free software development Meta-Wiki Wikimedia project coordination Wikibooks Free textbooks and manuals Wikidata Free knowledge base Wikinews Free-content news Wikiquote Collection of quotations Wikisource Free-content library Wikispecies Directory of species Wikiversity Free learning materials and activities Wikivoyage Open travel guide Wiktionary Dictionary and thesaurus Wikipedia languages This Wikipedia is written in English. Started in 2001 (2001), it currently contains 4,148,874 articles. Many other Wikipedias are available; some of the largest are listed below. More than 750,000 articles: Deutsch Â· EspaÃ±ol Â· FranÃ§ais Â· Italiano Â· Nederlands Â· æ—¥æœ¬èªž Â· Polski Â· PortuguÃªs Â· Ð ÑƒÑ?Ñ?ÐºÐ¸Ð¹ More than 150,000 articles: Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Â· Bahasa Indonesia Â· Bahasa Melayu Â· CatalÃ  Â· ÄŒesky Â· Dansk Â· Esperanto Â· Ù?Ø§Ø±Ø³ÛŒ Â· í•œêµ­ì–´ Â· LietuviÅ³ Â· Magyar Â· Norsk (bokmÃ¥l)â€Ž Â· RomÃ¢nÄƒ Â· SlovenÄ?ina Â· Ð¡Ñ€Ð¿Ñ?ÐºÐ¸ / srpski Â· Suomi Â· Svenska Â· Tiáº¿ng Viá»‡t Â· TÃ¼rkÃ§e Â· Ð£ÐºÑ€Ð°Ñ—Ð½Ñ?ÑŒÐºÐ° Â· ä¸­æ–‡ More than 50,000 articles: Ð‘ÑŠÐ»Ð³Ð°Ñ€Ñ?ÐºÐ¸ Â· Eesti Â· Î•Î»Î»Î·Î½Î¹ÎºÎ¬ Â· English (simple) Â· Euskara Â· Galego Â· ×¢×‘×¨×™×ª Â· Hrvatski Â· Norsk (nynorsk)â€Ž Â· SlovenÅ¡Ä?ina Â· Srpskohrvatski / Ñ?Ñ€Ð¿Ñ?ÐºÐ¾Ñ…Ñ€Ð²Ð°Ñ‚Ñ?ÐºÐ¸ Â· à®¤à®®à®¿à®´à¯? Â· à¹„à¸—à¸¢ Complete list of Wikipedias Retrieved from "http://en.wikipedia.org/w/index.php?title=Main_Page&oldid=533561242" Hidden categories: Article Feedback Blacklist Navigation menu Personal tools Create account Log in Namespaces Main Page Talk Variants Views Read View source View history Actions Search Navigation Main page Contents Featured content Current events Random article Donate to Wikipedia Interaction Help About Wikipedia Community portal Recent changes Contact Wikipedia Toolbox What links here Related changes Upload file Special pages Permanent link Page information Cite this page Print/export Create a book Download as PDF Printable version Languages Simple English Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Bahasa Indonesia Bahasa Melayu Ð‘ÑŠÐ»Ð³Ð°Ñ€Ñ?ÐºÐ¸ CatalÃ  ÄŒesky Dansk Deutsch Eesti Î•Î»Î»Î·Î½Î¹ÎºÎ¬ EspaÃ±ol Esperanto Euskara Ù?Ø§Ø±Ø³ÛŒ FranÃ§ais Galego í•œêµ­ì–´ ×¢×‘×¨×™×ª Hrvatski Italiano LietuviÅ³ Magyar Nederlands æ—¥æœ¬èªž Norsk (bokmÃ¥l)â€Ž Norsk (nynorsk)â€Ž Polski PortuguÃªs RomÃ¢nÄƒ Ð ÑƒÑ?Ñ?ÐºÐ¸Ð¹ SlovenÄ?ina SlovenÅ¡Ä?ina Ð¡Ñ€Ð¿Ñ?ÐºÐ¸ / srpski Srpskohrvatski / Ñ?Ñ€Ð¿Ñ?ÐºÐ¾Ñ…Ñ€Ð²Ð°Ñ‚Ñ?ÐºÐ¸ Suomi Svenska à¹„à¸—à¸¢ Tiáº¿ng Viá»‡t TÃ¼rkÃ§e Ð£ÐºÑ€Ð°Ñ—Ð½Ñ?ÑŒÐºÐ° ä¸­æ–‡ This page was last modified on 17 January 2013 at 18:13\. Text is available under the Creative Commons Attribution-ShareAlike License; additional terms may apply. See Terms of Use for details. WikipediaÂ® is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization. Contact us Privacy policy About Wikipedia Disclaimers Mobile view', '7') was aborted.  Call getNextException to see the cause.
at org.postgresql.jdbc2.AbstractJdbc2Statement$BatchResultHandler.handleError(AbstractJdbc2Statement.java:2619)
at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1835)
at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:405)
at org.postgresql.jdbc2.AbstractJdbc2Statement.executeBatch(AbstractJdbc2Statement.java:2752)
at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
... 8 more 
```

我的配置文件 **hibernate.cfg.xml：**

```
<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
      "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
      "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
<session-factory>
    <property name="connection.url">jdbc:postgresql://localhost:5432/mir</property>
    <property name="dialect">org.hibernate.dialect.PostgreSQLDialect</property>
    <property name="connection.driver_class">org.postgresql.Driver</property>
    <property name="connection.username">postgres</property>
    <property name="connection.password">root</property>
    <property name="transaction.factory_class">org.hibernate.transaction.JDBCTransactionFactory</property>
    <property name="current_session_context_class">thread</property>
    <property name="hibernate.show_sql">true</property>
    <property name="hbm2ddl.auto">update</property>
<!-- mapping files -->
    <mapping resource="DataBase/DocumentEntity.hbm.xml"/>
 </session-factory>
 </hibernate-configuration> 
```

映射文件 **DocumentEntity.hbm.xml：**

```
 <?xml version="1.0"?>
 <!DOCTYPE hibernate-mapping PUBLIC 
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

  <hibernate-mapping>
    <class name="main.java.DataBase.DocumentEntity" table="documententity">
    <id name="id" column="id">
        <generator class="native" />
    </id>

    <property name="address" type="string" not-null="true" unique="true" >

    </property>

    <property name="content" type="string">
        <column name="page_content" sql-type="longtext"/>
    </property>
    </class>
 </hibernate-mapping> 
```

java类 **DocumentEntity.java：**

```
public class DocumentEntity
{
private long id;

String address;
String content;

public void setId(long id) {
    this.id = id;
}

public long getId() {
    return id;
}

public void setAddress(String address) {
    this.address = address;
}

public String getAddress() {
    return address;
}

public void setContent(String content) {
    this.content = content;
}

public String getContent() {
    return content;
} 
```

**插入代码：**

```
public void insert(List<DocumentEntity> documentEntities)
{
    Session session=util.HibernateUtil.getSessionFactory().openSession();
    Transaction tx=session.beginTransaction();
    for(DocumentEntity documentEntity:documentEntities){
        session.save(documentEntity);
    }
    session.flush();
    tx.commit();
    session.close();
} 
```

更新：

```
try {
...// your code
} catch (SQLGrammarException e) {
    for (Throwable ex = e; ex != null; ex = e.getCause())
        ex.printStackTrace();
} 
```

这个异常显示直到我终止它

```
java.sql.BatchUpdateException: Batch entry 0 insert into documententity (address, page_content, id) values ('http://en.wikipedia.org/wiki/Main_Page', 'Wikipedia the free encyclopedia Main Page From Wikipedia the free encyclopedia Jump to navigation search Welcome to Wikipedia the free encyclopedia that anyone can edit 4 148 921 articles in English Arts Biography Geography History Mathematics Science Society Technology All portals From today s featured article Typhoon Rusa the 10th typhoon of the 2002 Pacific typhoon season was the most powerful to strike South Korea in 43 years It developed on August 22 from the monsoon trough in the northwestern Pacific Ocean then moved to the northwest intensifying into a powerful typhoon On August 26 the storm moved across the Amami Islands of Japan causing two fatalities Across Japan the typhoon dropped torrential rainfall peaking at 902 mm 35.5 in in Tokushima Prefecture After weakening slightly Rusa made landfall on Goheung South Korea with winds of 140 km h 85 mph It weakened while moving through the country dropping heavy rainfall that peaked at 897.5 mm 35.33 in in Gangneung A 24 hour total of 880 mm 35 in in the city broke the record for the highest daily precipitation in the country Over 17 000 houses were damaged and large areas of crop fields were flooded In South Korea Rusa killed at least 233 people The typhoon also dropped heavy rainfall in neighboring North Korea leaving 26 000 people homeless and killing three Rusa also destroyed large areas of crops in the country already affected by ongoing famine conditions Full article.. Recently featured 1968 Thule Air Base B-52 crash â First inauguration of Barack Obama â U2 3D Archive â By email â More featured articles.. Did you know.. From Wikipedia s newest content that unlike the living golden club Orontium aquaticum pictured the extinct species Orontium mackii may not have needed wetlands to grow that Miran Pastourma has been serving Pastourma in Athens for over 90 years that the characters of Che r Cycle a 2009 Bengali drama included Che Guevara Aleida March Fidel Castro and Raul Castro that James Hogun a general in the Continental Army asked to be held as a POW after the Siege of Charleston in order to prevent the British from recruiting soldiers among the enlisted Patriot POWs that a Roman era temple in al Sanamayn originally dedicated to the pagan god Tyche in the 2nd century CE and later converted into a mosque is one of the best preserved edifices in Syria that the Star Trek Enterprise episode Affliction explains why Klingons look different in the original series compared to the movies and later series that the Viscount Vane s offer of a reward in the newspapers for information about his eloped wife was compared to a search for some favourite spaniel bitch Archive â Start a new article â Nominate an article In the news After hundreds of workers are taken hostage in an attack at a gas facility near In AmÃ nas Algeria a raid by Algerian forces results in dozens of fatalities Boeing 787 aircraft pictured are grounded worldwide over concerns about the safety of their lithium ion batteries Sri Lankan Chief Justice Shirani Bandaranayake is dismissed by President Mahinda Rajapaksa following her contested impeachment In the Central African Republic the government signs a ceasefire agreement with rebels ending a month of conflict and establishing a new coalition government France commits troops to aid government forces in the current Northern Mali conflict Sakine CansÄ z one of the co founders of the Kurdistan Workers Party and two other Kurdish activists are shot dead in Paris Recent deaths TaihÅ KÅ ki â Stan Musial â Pauline Phillips Syrian civil war â Wikinews â More current events.. On this day.. January 22 Reunion Day in Ukraine 1919 1879 â Anglo Zulu War Zulu forces of King Cetshwayo pictured fought to a decisive victory at the Battle of Isandlwana 1957 â New York City police arrested George Metesky better known as the Mad Bomber for planting over 30 bombs over 16 years throughout the city 1971 â The Singapore Declaration one of the two most important documents to the uncodified constitution of the Commonwealth of Nations was issued 1984 â Apple Computer introduced the Macintosh computer during Super Bowl XVIII with its groundbreaking 1984 television commercial 2006 â Aymaran Evo Morales was inaugurated as President of Bolivia the country s first democratically elected fully Amerindian leader More anniversaries January 21 â January 22 â January 23 Archive â By email â List of historical anniversaries It is now January 22 2013 UTC â Refresh this page Today s featured picture The comma butterfly Polygonia c album is found in temperate areas of Europe and Asia and is named after a white C shape on the underside of the wings resembling a comma The wings have a distinctive ragged edge apparently a cryptic form as the butterfly resembles a fallen leaf Photo Quartl Recently featured Tawny Frogmouth â U.S federal government in 1862 â St Michael s Cathedral Izhevsk Russia Archive â More featured pictures.. Other areas of Wikipedia Community portal â Bulletin board projects resources and activities covering a wide range of Wikipedia areas Help desk â Ask questions about using Wikipedia Local embassy â For Wikipedia related communication in languages other than English Reference desk â Serving as virtual librarians Wikipedia volunteers tackle your questions on a wide range of subjects Site news â Announcements updates articles and press releases on Wikipedia and the Wikimedia Foundation Village pump â For discussions about Wikipedia itself including areas for technical issues and policies Wikipedia s sister projects Wikipedia is hosted by the Wikimedia Foundation a non profit organization that also hosts a range of other projects Commons Free media repository MediaWiki Free software development Meta Wiki Wikimedia project coordination Wikibooks Free textbooks and manuals Wikidata Free knowledge base Wikinews Free content news Wikiquote Collection of quotations Wikisource Free content library Wikispecies Directory of species Wikiversity Free learning materials and activities Wikivoyage Open travel guide Wiktionary Dictionary and thesaurus Wikipedia languages This Wikipedia is written in English Started in 2001 2001 it currently contains 4 148 921 articles Many other Wikipedias are available some of the largest are listed below More than 750 000 articles Deutsch Â EspaÃ ol Â FranÃ ais Â Italiano Â Nederlands Â æ æœ èªž Â Polski Â PortuguÃªs Â Ð ÑƒÑ Ñ ÐºÐ Ð More than 150 000 articles Ø Ù Ø Ø Ø ÙŠØ Â Bahasa Indonesia Â Bahasa Melayu Â CatalÃ Â ÄŒesky Â Dansk Â Esperanto Â Ù Ø Ø Ø ÛŒ Â í œêµ ì Â LietuviÅ Â Magyar Â Norsk bokmÃ l â Ž Â RomÃ nÄƒ Â SlovenÄ ina Â Ð Ñ Ð Ñ ÐºÐ srpski Â Suomi Â Svenska Â Tiáº ng Viá t Â TÃ rkÃ e Â Ð ÐºÑ Ð Ñ Ð Ñ ÑŒÐºÐ Â ä æ More than 50 000 articles Ð ÑŠÐ Ð Ð Ñ Ñ ÐºÐ Â Eesti Â Î Î Î Î Î Î ÎºÎ Â English simple Â Euskara Â Galego Â ª Â Hrvatski Â Norsk nynorsk â Ž Â SlovenÅ Ä ina Â Srpskohrvatski Ñ Ñ Ð Ñ ÐºÐ Ñ Ñ Ð Ð Ñ Ñ ÐºÐ Â à à à à à Â à à à Complete list of Wikipedias Retrieved from http en.wikipedia.org w index.php title Main Page oldid 533561242 Hidden categories Article Feedback Blacklist Navigation menu Personal tools Create account Log in Namespaces Main Page Talk Variants Views Read View source View history Actions Search Navigation Main page Contents Featured content Current events Random article Donate to Wikipedia Interaction Help About Wikipedia Community portal Recent changes Contact Wikipedia Toolbox What links here Related changes Upload file Special pages Permanent link Page information Cite this page Print export Create a book Download as PDF Printable version Languages Simple English Ø Ù Ø Ø Ø ÙŠØ Bahasa Indonesia Bahasa Melayu Ð ÑŠÐ Ð Ð Ñ Ñ ÐºÐ CatalÃ ÄŒesky Dansk Deutsch Eesti Î Î Î Î Î Î ÎºÎ EspaÃ ol Esperanto Euskara Ù Ø Ø Ø ÛŒ FranÃ ais Galego í œêµ ì ª Hrvatski Italiano LietuviÅ Magyar Nederlands æ æœ èªž Norsk bokmÃ l â Ž Norsk nynorsk â Ž Polski PortuguÃªs RomÃ nÄƒ Ð ÑƒÑ Ñ ÐºÐ Ð SlovenÄ ina SlovenÅ Ä ina Ð Ñ Ð Ñ ÐºÐ srpski Srpskohrvatski Ñ Ñ Ð Ñ ÐºÐ Ñ Ñ Ð Ð Ñ Ñ ÐºÐ Suomi Svenska à à à Tiáº ng Viá t TÃ rkÃ e Ð ÐºÑ Ð Ñ Ð Ñ ÑŒÐºÐ ä æ This page was last modified on 17 January 2013 at 18 13 Text is available under the Creative Commons Attribution ShareAlike License additional terms may apply See Terms of Use for details WikipediaÂ is a registered trademark of the Wikimedia Foundation Inc a non profit organization Contact us Privacy policy About Wikipedia Disclaimers Mobile view ', '18') was aborted.  Call getNextException to see the cause.
at     org.postgresql.jdbc2.AbstractJdbc2Statement$BatchResultHandler.handleError(AbstractJdbc2Statement.java:2619)
at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1835)
at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:405)
at org.postgresql.jdbc2.AbstractJdbc2Statement.executeBatch(AbstractJdbc2Statement.java:2752)
at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:70)
at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:268)
at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:263)
at org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:179)
at org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:321)
at org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:51)
at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1206)
at main.java.DataBase.Crawler_DataBase.insert(Crawler_DataBase.java:32)
at crawler.WebCrawler.<init>(WebCrawler.java:52)
at crawler.WebCrawler.main(WebCrawler.java:65) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:56:48.377

我认为对于 PostgreSQL 9.2，你应该使用`PostgreSQL82Dialect`而不是`PostgreSQLDialect`. 看看[这个](http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/dialect/PostgreSQLDialect.html)链接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:39:40.647

堆栈跟踪说，“我有一个 SQLGrammarException。它是由 BatchUpdateException 引起的，而这个是由......引起的”。你应该挖掘出内部异常，找出问题会容易得多。这是我的建议：

```
try {
    ...// your code
} catch (SQLGrammarException e) {
    for (Throwable ex = e; ex != null; ex = e.getCause())
        ex.printStackTrace();
} 
```

这将打印更多的堆栈跟踪。在此处粘贴完整的堆栈跟踪，这将有所帮助。

# java - JOOQ 调试日志不起作用

> ID：14453006
> 
> 赞同：1
> 
> 时间：2013-01-22T06:45:26.113
> 
> 标签：java, slf4j, jooq

我将 jOOQ 与 slf4j 一起使用，并将日志级别设置为 DEBUG。在我的课堂上，当我检查日志级别时，
它处于调试 状态

```
System.out.println(LoggerFactory.getLogger(PersonsReport.class).isDebugEnabled()); => true 
```

但是同一类我正在使用 JOOQ 运行一些选择查询，但是 JOOQ 调试日志没有打印在我的日志中，可能是什么原因？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:02:34.890

我解决了这个问题，但我对解决方案感到惊讶，我在 JOOQ 查询的末尾放置了“getResult()”，结果集为空，JOOQ 调试日志也没有打印，但是当我将它更改为“fetch()”时' 那么结果集不为空，并且 JOOQ 日志也被打印出来

我不知道这背后的原因是什么，但问题已解决

谢谢

# python - 如何将列表中的所有整数倍增？ - Python

> ID：14453017
> 
> 赞同：1
> 
> 时间：2013-01-22T06:46:24.947
> 
> 标签：python, multiplication

```
list1= [1,2,3,4] 
```

1）我想将此列表中的每个元素相乘以输出 24。如何在不使用 for 循环的情况下在 python 中执行此操作？是否有内置库可以做到这一点？

2）如果`list1`包含字符串，例如

```
list1= ["1,2,3,4"] 
```

3）如果`list1`包含字符串，例如

```
list1 = ['1234'] 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-22T06:49:43.020

您还可以使用：

```
import operator
reduce(operator.mul, [1,2,3,4]) 
```

*出去：*

```
24 
```

至于性能，使用`operator.mul`要快一些：

```
In [1]: from operator import mul

In [2]: lst = [1,2,3,4]

In [3]: reduce(mul,lst)
Out[3]: 24

In [4]: %timeit reduce(mul,lst)
1000000 loops, best of 3: 733 ns per loop

In [5]: %timeit reduce(lambda x,y:x*y,lst)
1000000 loops, best of 3: 1.28 us per loop 
```

如果您将数字作为字符串：

```
In [6]: reduce(mul,map(int,["1,2,3,4"][0].split(',')))
Out[6]: 24 
```

对于大型列表，您还可以使用`itertools.imap`它返回一个迭代器：

```
In [7]: from itertools import imap

In [8]: %timeit reduce(mul,imap(int,["1,2,3,4"][0].split(',')*10000))
1 loops, best of 3: 264 ms per loop 
```

*编辑：* 希望您的最后一次编辑：

```
In [18]: reduce(mul,map(int,['1234'][0]))
Out[18]: 24 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T06:47:05.043

您可以使用`reduce()`, 或`functools.reduce()`在 py3x 中：

```
In [4]: list1= [1,2,3,4]

In [5]: reduce(lambda x,y:x*y,list1)
Out[5]: 24 
```

在 python 3.3 中，您还可以使用[`itertools.accumulate()`](http://docs.python.org/dev/library/itertools.html#itertools.accumulate)：

```
from itertools import islice,accumulate
list1= [1,2,3,4]
le=len(list1)
it=accumulate(list1,operator.mul)
print list(islice(it,le-1,le))[-1]    #prints 24 
```

编辑：如果是字符串，您必须先使用拆分字符串`str.split(",")`，然后将其应用于`int()`返回的列表：

```
In [6]: list1= ["1,2,3,4"]

In [7]: reduce(operator.mul,map(int,list1[0].split(",")))
Out[7]: 24 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:02:05.937

以下是乘法 w/o 循环的实现（使用递归和尾递归）。

```
 " A recursive implementation"        
def mul_recursive(nos):
    if len(nos) == 1:
        return nos[0]
    return nos[0] * mul_recursive(nos[1:])

" A tail recursive implementation"
def mul_tailrecursive(nos):
    def multiply(nos,mul_so_far):
        if len(nos) == 1:
            return nos[0]*mul_so_far
        return multiply(nos[1:],mul_so_far * nos[0])
    return multiply(nos,1)

print mul_recursive([1,2,3,4,5])
print mul_tailrecursive([2,3,4]) 
```

# php - Angular json请求不起作用

> ID：14453019
> 
> 赞同：1
> 
> 时间：2013-01-22T06:46:32.483
> 
> 标签：php, ajax, angularjs

我正在尝试向服务器 php 发出 ajax 请求，但 angular 将数据作为字符串发送，并且 php 中没有 $POST （同样适用于 jquery ajax）。

```
$scope.getPhotoFromUrl = function() {
    var urlData = { url: 'http://google.com' };

    $http({
        method: 'POST',
        url: "remotecopy.php",
        data: urlData
    }).success(function(data, status, headers, config) {
        console.log('http' + data.url);
    });
} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:13:10.340

Angular 是一头奇怪的野兽 :) 但我找到了解决办法。

```
enter code here
$http({
        method: 'POST',
        url: "remotecopy.php",
        data: 'url=' + urlData,
        headers: {
            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
        } ... 
```

# unit-testing - 数据注释的单元测试

> ID：14453020
> 
> 赞同：0
> 
> 时间：2013-01-22T06:46:42.117
> 
> 标签：unit-testing, data-annotations

我为模型添加了数据注释，找到代码，

```
public class DownloadInfo
{
    [Required]
    public string Name { get; set; }

    [Required]
    [Email]
    public string Email { get; set; }
} 
```

我想通过提供如下所示的无效电子邮件 ID 来为此数据注释编写单元测试。

```
 [Test]
    public void InvalidTestPost()
    {
        TestControllerBuilder builder = new TestControllerBuilder();
        DownloadController downloadController = builder.CreateController<DownloadController>();

        DownloadInfo downloadInfo = new DownloadInfo();
        downloadInfo.Email= "some invaild email";

        Assert.IsTrue(!downloadController.ModelState.IsValid);
    } 
```

如何对数据注释进行单元测试？

问候，卡蒂克。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-11T13:54:42.933

一个明显的老问题，但如果有人还在看，这里有一个答案。

```
using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using System.ComponentModel.DataAnnotations;
using DataAnnotationsTesting;

namespace UnitTest
{
    [TestClass]
    public class OurDataValidationClassShould
    {
        [TestMethod]
        public void ReturnAnErrorIfAnEmailIsInvalid()
        {
            DownloadInfo downloadInfo = new DownloadInfo()
            {
                Email = "Invalid Email",
                Name = "Name"
            };

            Validator.ValidateObject(downloadInfo, new ValidationContext(downloadInfo, null, null) { MemberName = "Email" });
        }
    }
} 
```

# javascript - 如何在Javascript中的文本框之后显示innerHTML

> ID：14453025
> 
> 赞同：0
> 
> 时间：2013-01-22T06:47:09.690
> 
> 标签：javascript

我试图在Javascript中的文本框之后显示innerHTML，但它总是在文本框下结束，如下所示：

[ 文本框 ]

请输入用户名

但我想要这样

[文本框]请输入用户名

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>his Website</title>

<link href="default.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="libs/JQuery.js"></script>
<script type="text/javascript" src="libs/effex.js"></script>
<script type="text/javascript" src="libs/slide.js"></script>
<script type="text/javascript" src="libs/jquery-ui.js"></script>

<script type="text/javascript">
function chck() {
    var name = document.getElementById('name').value;
    var msg = document.getElementById('msg');
    var namex = document.getElementById('name');
    if (name == '') {
        namex.innerHTML=namex.innerHTML+msg.value;
        document.getElementById('msg').innerHTML = "Please enter name to proceed...";
return false;
    }
}
</script>
<body bgcolor="silver">
<table width="1500" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr>
    <td><img src="images/bann3r.jpg" class="copy" width="1500" height="150" usemap="#Map" border="0" /></td>
  </tr>
</table>
<center>

<div id="bod">
<br />

<legend class="contact">Contact Me!</legend>
<fieldset>
<form name="contact">
<br />
<br />
<br />
<label>Name:</label><input name="name" type="text" class="nameTxt" id="name" maxlength="20"/><label id="msg"></label>
<BR />
<label>Email:</label><input type="email" name="email" class="nameTxt" />
<BR />
<label>Subject:</label><input type="text" name="subject" class="nameTxt" />
<BR />
<label>Message:</label><textarea name="msg" class="nameTxt"></textarea>
<Br />
<br />
<input type="submit" value="Send Message" class="send" onClick="return chck()"/>
</form>
<fieldset>
</div>

<map name="Map" id="Map">
  <area shape="rect" coords="177,62,274,104" href="index.html" />
  <area shape="rect" coords="322,52,534,111" href="gdesigns.html" />
  <area shape="rect" coords="1305,58,1478,106" href="contactme.html" />
</map>
</body>

<center>
<div id="hoverdiv">Contact</div>

<br />
<br />
<br />
<footer><font face="Arial, Helvetica, sans-serif" hovertext="Copyright Yousef Bhatti">©Copyright 2013 Yousef Bhatti</footer></font>
</center>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T06:50:25.407

确保给该标签的 css 是

```
#msg
{
  position:relative;
  display:inline-block; //if this doesn't work, give float:right;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:08:06.717

**[检查这个](http://jsfiddle.net/a6GCW/2/)**希望这是你所需要的。

我建议不要`<br>`强烈使用标签。请浏览最新的 HTML5 语义，您可以改用这些标签。

# java - JAVA：请帮助我比较对象

> ID：14453029
> 
> 赞同：1
> 
> 时间：2013-01-22T06:47:22.403
> 
> 标签：java, constructor

如何使用`public int compareTo`方法比较两个对象？我需要将对象中的值与另一个对象的值进行比较以测试大于/小于。因此，分别比较两个对象中的 a 和两个对象中的 b。

```
Test x1 = new Test(9999,9999);
Test x2 = new Test(0,0);

public class Test{
    private int a;
    private int b;

    public Test(){
        a = 0;
        b = 0;
    }

    public Test(int a, int b){
        this.a = a;
        this.b = b;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T06:50:52.010

实现`Compareable<T>`类的接口`Test`。`Compareable`接口有一个`comapreTo`接受要比较的对象的方法。

```
class Test implements Compareable<Test>{
    ...
    @Override
    public int compareTo(Test test) {
        // write logic for compare 
        //a negative integer, zero, or a positive integer as 
        //this object is less than, equal to, or greater than the specified object
        return 0;
    }
}

class Main{
    public static void main(String[] args){
        Test x1 = new Test(9999,9999);
        Test x2 = new Test(0,0);
        int x3 = x1.compareTo(x2);
    }
} 
```

这个接口实际上对实现它的每个类的集合中的对象进行了总排序。这种排序称为类的自然排序，类的`compareTo`方法称为它的`natural comparison`方法。这有助于对象集合按特定顺序排序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T06:51:03.680

您需要您的类来实现 Comparable 接口，然后在您的类中覆盖 compareTo 方法。在这种方法中，您应该进行适当的比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T06:55:58.127

您的测试类应该实现 Comparable 接口并覆盖 compareTo() 方法。

```
int compareTo(Test o){

 // return a negative integer, zero, or a positive integer as per your logic.

// Less than means calling object is less than o.

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T06:56:47.377

首先你必须`Compareable<T>`在你的类中实现，因为：来自[doc](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Comparable.html)

> 该接口对实现它的每个类的对象进行了总排序。这种排序称为类的自然排序，类的 compareTo 方法称为其自然比较方法。

[CompareTo](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Comparable.html#compareTo%28T%29)的合同

```
class Test implements Compareable<Test>{

    @Override
    public int compareTo(Test test) {
        // write logic for compare  based on the contract of compareTo
        return 0;
    }

  ...

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T06:58:18.883

您可以[通过示例](http://www.mkyong.com/java/java-object-sorting-example-comparable-and-comparator/)查看所有可比较和比较器的详细信息

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-22T07:28:35.083

对象的比较可以在 java 中使用接口 Comparable/Comparator 来完成。Comparable 接口用于指定对象的自然顺序，而比较器通常由程序员用于更改特定对象遵循的自然顺序并指定其排序偏好

在你的例子中

```
public class Test implements Comparable<Test> {
private final int a;
private final int b;

public static void main(String[] args) {
    Test x1 = new Test(9999, 9999);
    Test x2 = new Test(0, 0);

    int comparisionVal = x1.compareTo(x2);

    System.out.println(comparisionVal > 0 ? "First object is greater"
            : (comparisionVal < 0 ? "Second object is greater"
                    : "both are equal"));

}

public Test() {
    this.a = 0;
    this.b = 0;
}

public Test(int a, int b) {
    this.a = a;
    this.b = b;
}

@Override
public int compareTo(Test o) {
    return this.a - o.a; // ascending based on a
    // return this.a - o.a; // descending based on a
}

@Override
public String toString() {
    return "a = " + this.a + "; b = " + this.b;
} 
```

}

Comparable 和comparator 通常用于排序。这可以在您的示例中进行说明，如下所示

```
public class Test implements Comparable<Test> {
private final int a;
private final int b;

public static void main(String[] args) {
    Test x1 = new Test(9999, 9999);
    Test x2 = new Test(0, 0);
    Test x3 = new Test(4444, 4444);
    Test x4 = new Test(555, 555);

    List<Test> list = new ArrayList<Test>();

    list.add(x1);
    list.add(x2);
    list.add(x3);
    list.add(x4);

    Collections.sort(list);

    System.out.println("The object in ascending order: " + list);

    // If you wish to do a descending sort that is where you'd use
    // comparator
    Collections.sort(list, new Comparator<Test>() {
        @Override
        public int compare(Test o1, Test o2) {
            return o2.a - o1.a;
        }
    });
    System.out.println("The object in descending order: " + list);

}

public Test() {
    this.a = 0;
    this.b = 0;
}

public Test(int a, int b) {
    this.a = a;
    this.b = b;
}

@Override
public int compareTo(Test o) {
    return this.a - o.a; // ascending based on a
    // return this.a - o.a; // descending based on a
}

@Override
public String toString() {
    return "a = " + this.a + "; b = " + this.b;
} 
```

}

# iphone - 无法将照片发布到 Facebook 联系人

> ID：14453031
> 
> 赞同：-1
> 
> 时间：2013-01-22T06:47:26.257
> 
> 标签：iphone, ios, objective-c, facebook, ios5

在我的 iphone 应用程序中，我想将照片发布到选定的 Facebook 联系人。我正在从电话库中获取这些照片。

我正在使用这段代码：

```
fbString=[NSString stringWithFormat:@"%@\n%@",appdelegate.titleString,appdelegate.descriptionString];

NSArray *permissions =[NSArray arrayWithObjects:@"publish_actions",@"publish_stream",@"manage_friendlists", nil];

    NSData* imageData = UIImageJPEGRepresentation(self.img, 90);
    NSLog(@"imageData  %@",imageData);

    NSMutableDictionary *params = [[NSMutableDictionary alloc] initWithObjectsAndKeys:fbString, @"message",imageData,@"source",nil];

NSLog(@"fbid count  %d",fbidarray.count);

[[FBSession activeSession] reauthorizeWithPublishPermissions:permissions
                                             defaultAudience:FBSessionDefaultAudienceFriends
                                           completionHandler:^(FBSession *session, NSError *error)
 {
     if (!error) {

         for(int j=0;j<fbidarray.count;j++)
         {

              [FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"%@/photos",[fbidarray objectAtIndex:j]] parameters:params HTTPMethod:@"POST" completionHandler:^(FBRequestConnection *connection, id result, NSError *error1)
              {

                  NSLog(@"errors in the view %@",error1);

                  if(!error1 )
                  {

                      UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:@"Success"
                        message:[NSString stringWithFormat:@" Sucessfully posted "]
                        delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
                      [alertView show];

                  }
              }];
         }
 }   
 }]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:05:26.420

你可以试试这个：

```
NSMutableDictionary *postTest = [[NSMutableDictionary alloc]init];
    [postTest setObject:[NSString stringWithFormat@"Your message"] forKey:@"message"];
    [postTest setObject:@"" forKey:@"picture"];
    [postTest setObject:@"" forKey:@"name"];
    [postTest setObject:@"APPID" forKey:@"app_id"];
    NSString *userFBID =[NSString stringWithFormat:@"%@",[allInfoDict objectForKey:@"Friends facebook ID "]];

    [FBRequestConnection startWithGraphPath:[NSString stringWithFormat:@"%@/feed?access_token=%@",userFBID,[appDelegate.mysession accessToken]]
                                 parameters:postTest
                                 HTTPMethod:@"POST"
                          completionHandler:^(FBRequestConnection *connection,
                                              NSDictionary * result,
                                              NSError *error) {
                              if (error) {
                                  [self hideHUD];
                                  NSLog(@"Error: %@", [error localizedDescription]);

                              } else {
                                  // Success

                              }
                          }];

    [postTest release]; 
```

# css - WordPress页脚菜单-单行格式

> ID：14453034
> 
> 赞同：0
> 
> 时间：2013-01-22T06:47:35.883
> 
> 标签：css, wordpress

我能够为 WordPress 20 主题创建第二个菜单并将其添加到我的子主题的页脚。我在子主题页脚中修改的代码如下：

```
<div id="site-info">
<!-- EDIT -->
Copyright (c) 2013 Acme Inc. All rights reserved.
<?php wp_nav_menu( array( 'theme_location' => 'footer-menu' ) ); ?>
<!-- EDIT -->
</div><!-- #site-info --> 
```

页脚菜单有效，但格式不正确。当前格式如下：

```
Copyright (c) 2013 Acme Inc. All rights reserved.
- Privacy Policy
- Terms & Conditions 
```

我想要格式，所以所有内容都与“|”保持在同一行 分隔隐私政策和条款和条件的符号。我也想松开子弹（不确定它们是从哪里来的？）。像这样：

```
Copyright (c) 2013 Acme Inc. All rights reserved. Privacy Policy | Terms & Conditions 
```

我认为这是一个 CSS 问题，但我不确定？

浏览器呈现的页脚部分：

```
 <div id="footer" role="contentinfo">
        <div id="colophon">
            <div id="site-info">
                <!-- EDIT -->
                Copyright &copy; 2013 Acme Inc. All rights reserved.
                <div class="menu-footer-container">
                <ul id="menu-footer" class="menu">
                    <li id="menu-item-48" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-41 current_page_item menu-item-48">
                        <a href="http://www.kb8b.com/?page_id=41">Privacy Policy</a>
                    </li>
                    <li id="menu-item-49" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-49">
                        <a href="http://www.kb8b.com/?page_id=39">Terms & Conditions</a>
                    </li>
</ul></div>                <!-- EDIT -->
            </div><!-- #site-info -->

            <div id="site-generator">
                <!-- EDIT -->
                <!-- EDIT -->
            </div><!-- #site-generator -->

        </div><!-- #colophon -->
    </div><!-- #footer -->

</div><!-- #wrapper --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T06:57:13.380

在您`style.css`的子主题目录中，添加以下行：

```
ul#menu-footer li
{
    float: left;
    list-style: none;
} 
```

您还必须为`<ul>`自身设置宽度并调整其位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:03:19.913

将`display`属性设置为`inline`或`inline-block`用于列表元素。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-22T07:07:46.793

要在单个和删除项目符号中显示使用代码：-

```
 .menu-footer-container ul li
{
    float: left;
    list-style:none;
} 
```

# html - 更改字体样式会更改 UI - 标准方法

> ID：14453036
> 
> 赞同：0
> 
> 时间：2013-01-22T06:47:39.583
> 
> 标签：html, css, stylesheet, styling

我使用 ul 和 li 标签构建了一个 HTML 导航条。

```
<div id="navLimitedLength">
    <ul id="navmenulist">
        <li class="menu"><a>Add</a></li>
        <li class="menu"><a>Update</a></li>
        <li class="menu"><a>View</a></li>
        <li class="menu"><a>Delete</a></li>
    </ul>
</div> 
```

最初，我使用 CSS 将其设置为 Arial 字体，如下所示：

```
 li.menu a
    {   
        text-decoration:none;
        font-family:Arial;
        font-size:18px;         
    } 
```

然后我尝试将字体更改为 Segoe UI，如下所示：

```
li.menu a
{   
    text-decoration:none;
    font-family: 'Segoe UI';
    font-size:18px;         
} 
```

然而，这也改变了菜单的外观，使它们重叠 ![在此处输入图像描述](../Images/f24bd9fefdbfebcabbccba7c3cb28902.png)

据我了解，更改字体不应更改其他样式。这可能是因为我在 IE8 中尝试它。

**但是，确保事物保持原位并以所需方式运行的标准方法是什么？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T09:17:24.067

差异是由不同字体的不同默认行高引起的。[`line-height`](http://www.w3.org/TR/CSS2/visudet.html#propdef-line-height)根据 CSS 规范， is的初始值`normal`，并且根据规范，浏览器*应*“根据元素的字体将使用的值设置为‘合理’的值”。如果您在 Firebug 中查看情况，您可以看到对于 18px Arial，使用的值是 22px，但对于 Segoe UI，它是 25px。

在这种情况下，将 eg 添加`line-height: 1.2`到样式表中会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:40:54.023

不同的字体有不同的标准。所以我建议你减少行高。它会解决你的问题。

使用 firefox 中的 firebug 调整行高以获得准确的行高

```
li.menu a
{
    text-decoration:none;
    font-family: 'Segoe UI';
    font-size:18px;
    line-height:10px; //this value is for sample purpose
} 
```

# performance - 如何使用 data.table 提高当前使用 ddply 的数据清理代码的性能？

> ID：14453041
> 
> 赞同：3
> 
> 时间：2013-01-22T06:47:55.883
> 
> 标签：performance, r, data.table, plyr

我正在尝试使用 ddply 清理数据，但它在 1.3M 行上运行非常缓慢。

示例代码：

```
#Create Sample Data Frame
num_rows <- 10000
df <- data.frame(id=sample(1:20, num_rows, replace=T), 
                Consumption=sample(-20:20, num_rows, replace=T), 
                StartDate=as.Date(sample(15000:15020, num_rows, replace=T), origin = "1970-01-01"))
df$EndDate <- df$StartDate + 90
#df <- df[order(df$id, df$StartDate, df$Consumption),]
#Are values negative? 
# Needed for subsetting in ddply rows with same positive and negative values
df$Neg <- ifelse(df$Consumption < 0, -1, 1)
df$Consumption <- abs(df$Consumption) 
```

我编写了一个函数来删除一行中的消耗值与另一行中的消耗值相同但为负的行（对于相同的 id）。

```
#Remove rows from a data frame where there is an equal but opposite consumption value
#Should ensure only one negative value is removed for each positive one. 
clean_negatives <- function(x3){
  copies <- abs(sum(x3$Neg))
  sgn <- ifelse(sum(x3$Neg) <0, -1, 1) 
  x3 <- x3[0:copies,]
  x3$Consumption <- sgn*x3$Consumption
  x3$Neg <- NULL
  x3} 
```

然后我使用 ddply 应用该函数来删除数据中的这些错误行

```
ptm <- proc.time()
df_cleaned <- ddply(df, .(id,StartDate, EndDate, Consumption),
                    function(x){clean_negatives(x)})
proc.time() - ptm 
```

我希望我可以使用 data.table 来加快速度，但我不知道如何使用 data.table 来提供帮助。

有 130 万行，到目前为止，我的桌面要花一整天的时间来计算，但还没有完成。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T08:52:28.600

您的问题询问`data.table`实施。所以，我在这里展示了它。您的功能也可以大大简化。可以先`sign`求和`Neg`，然后过滤表，再乘以`Consumption`（`sign`如下图）。

```
require(data.table)
# get the data.table in dt
dt <- data.table(df, key = c("id", "StartDate", "EndDate", "Consumption"))
# first obtain the sign directly
dt <- dt[, sign := sign(sum(Neg)), by = c("id", "StartDate", "EndDate", "Consumption")]
# then filter by abs(sum(Neg))
dt.fil <- dt[, .SD[seq_len(abs(sum(Neg)))], by = c("id", "StartDate", "EndDate", "Consumption")]
# modifying for final output (line commented after Statquant's comment
# dt.fil$Consumption <- dt.fil$Consumption * dt.fil$sign
dt.fil[, Consumption := (Consumption*sign)]
dt.fil <- subset(dt.fil, select=-c(Neg, sign)) 
```

* * *

**基准测试**

*   百万行数据：

    ```
    #Create Sample Data Frame
    num_rows <- 1e6
    df <- data.frame(id=sample(1:20, num_rows, replace=T), 
                    Consumption=sample(-20:20, num_rows, replace=T), 
                    StartDate=as.Date(sample(15000:15020, num_rows, replace=T), origin = "1970-01-01"))
    df$EndDate <- df$StartDate + 90
    df$Neg <- ifelse(df$Consumption < 0, -1, 1)
    df$Consumption <- abs(df$Consumption) 
    ```

*   `data.table`功能：

    ```
    FUN.DT <- function() {
        require(data.table)
        dt <- data.table(df, key=c("id", "StartDate", "EndDate", "Consumption"))
        dt <- dt[, sign := sign(sum(Neg)), 
                   by = c("id", "StartDate", "EndDate", "Consumption")]
        dt.fil <- dt[, .SD[seq_len(abs(sum(Neg)))], 
                   by=c("id", "StartDate", "EndDate", "Consumption")]
        dt.fil[, Consumption := (Consumption*sign)]
        dt.fil <- subset(dt.fil, select=-c(Neg, sign))
    } 
    ```

*   你的功能与`ddply`

    ```
    FUN.PLYR <- function() {
        require(plyr)
        clean_negatives <- function(x3) {
            copies <- abs(sum(x3$Neg))
            sgn <- ifelse(sum(x3$Neg) <0, -1, 1) 
            x3 <- x3[0:copies,]
            x3$Consumption <- sgn*x3$Consumption
            x3$Neg <- NULL
            x3
        }
        df_cleaned <- ddply(df, .(id, StartDate, EndDate, Consumption), 
                               function(x) clean_negatives(x))
    } 
    ```

*   基准测试`rbenchmark`（仅运行 1 次）

    ```
    require(rbenchmark)
    benchmark(FUN.DT(), FUN.PLYR(), replications = 1, order = "elapsed")

            test replications elapsed relative user.self sys.self user.child sys.child
    1   FUN.DT()            1   6.137    1.000     5.926    0.211          0         0
    2 FUN.PLYR()            1 242.268   39.477   152.855    82.881         0         0 
    ```

我的`data.table`实现比您当前的`plyr`实现快大约 39 倍（我将我的实现与您的实现进行比较，因为功能不同）。

`Note:`我在函数内加载包是为了获取完整的时间来获取结果。此外，出于同样的原因，我在基准测试功能中将其转换`data.frame`为`data.table`with 键。因此，这是最小的加速。

# google-cloud-messaging - 使 GCM 通知在应用程序中可配置

> ID：14453046
> 
> 赞同：0
> 
> 时间：2013-01-22T06:48:10.937
> 
> 标签：google-cloud-messaging

我的问题是

如何在不使用的情况下停止接收来自 GCM 服务的通知

```
 GCMRegistar.unregistar(context). 
```

有什么方法可以停止接收通知。

我需要这个，因为我想让用户可以配置 GCM 推送通知功能，如果用户设置为获取通知，他将收到通知，否则在没有注销设备的情况下停止接收通知

任何链接对我都有很大帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T14:47:50.313

我对我的应用程序做了类似的事情，如果您获得付费版本，您会收到通知，如果您获得免费版本，则不会收到此类更新。

我通过向表中添加一个字段来完成此操作，在该表中我的所有注册 ID 都称为状态。当我的服务器完成通知推送时，它只会发送到状态为“已付款”的那些注册。

因此，对于您的情况，我建议向您的应用程序添加选项以停止接收通知。此方法将向您的服务器执行发布，如下所示：

```
Function updateNotificationStatus(boolean status)
{
HttpClient client = new DefaultHttpClient();
HttpPost post = new HttpPost("http://yourserver/update.php");

List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
nameValuePairs.add(new BasicNameValuePair("status", status));

post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
HttpResponse response = client.execute(post);
BufferedReader rd = new BufferedReader(new 
} 
```

在您的服务器上处理这些帖子，只需更新表中的状态字段。

希望这可以帮助

# java - jsoup 只去除 html 标签而不是换行符？

> ID：14453047
> 
> 赞同：1
> 
> 时间：2013-01-22T06:48:21.717
> 
> 标签：java, html, jsoup, end-of-line

我在 Java 中有以下内容，我只想去除 html 标签而不是换行符

```
<p>test1 <b>test2</b> test 3 </p> //line 1
<p>test4 </p> //line 2 
```

如果我在富文本编辑器中打开以上内容，第 1 行和第 2 行显示在不同的行中（不显示`</p>`标签）。但在记事本中，内容与`</p>`标签一起显示。删除我使用的所有 html 标签

```
Jsoup.parse(aboveContent).text() 
```

它删除所有 html 字符。但它在记事本的同一行中显示了所有第 1 行和第 2 行。不知何故，Jsoup 也删除了换行符。

**我试过的： -**

我也尝试替换`</p>`为`\r\n`然后删除html标签

```
 Jsoup.parse(contentWith\r\n-Insteadof-</p>Tag ).text() 
```

但 Jsoup 仍然在同一行中删除了行尾字符（如在调试器中我可以看到 line1 和 line2）。

如何让 Jsoup 只去除 html 字符而不去除换行符？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-05-23T06:42:18.477

你也可以这样做：

```
public static String cleanNoMarkup(String input) {
    final Document.OutputSettings outputSettings = new Document.OutputSettings().prettyPrint(false);
    String output = Jsoup.clean(input, "", Whitelist.none(), outputSettings);
    return output;

} 
```

这里重要的事情是： 1\. Whitelist.none() - 所以不允许标记 2..prettyPrint(false) - 所以不删除换行符

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T10:44:53.180

你得到一个单行，因为`text()`删除所有空白字符。但是您可以使用 a`StringBuilder`并在其中插入每一行：

```
final String html = "<p>test1 <b>test2</b> test 3 </p>"
                    + "<p>test4 </p>";

Document doc = Jsoup.parse(html);        
StringBuilder sb = new StringBuilder();

for( Element element : doc.select("p") )
{
    /*
     * element.text() returns the text of this element (= without tags).
     */
    sb.append(element.text()).append('\n');
}

System.out.println(sb.toString().trim()); 
```

**输出：**

```
test1 test2 test 3
test4 
```

# mysql - 强制唯一性并从多个表中定义外键约束

> ID：14453050
> 
> 赞同：2
> 
> 时间：2013-01-22T06:48:36.713
> 
> 标签：mysql, sql-server, database-design, foreign-keys, unique-constraint

这个问题适用于不同的`RDBMS`：`MySQL`和`SQL Server`

我整晚都在寻找这个，我在网上找不到它。我的问题是关于*唯一性*和*外键*。考虑以下架构：

```
CREATE TABLE Male
(
    StudentID INT,
    FirstName VARCHAR(20) NOT NULL,
    MiddleName VARCHAR(20) NOT NULL,
    LastName VARCHAR(20) NOT NULL,
    -- other columns ...
    CONSTRAINT male_PK PRIMARY KEY (StudentID),
    CONSTRAINT male_UQ UNIQUE (FirstName, MiddleName, LastName)
);

CREATE TABLE Female
(
    StudentID INT,
    FirstName VARCHAR(20) NOT NULL,
    MiddleName VARCHAR(20) NOT NULL,
    LastName VARCHAR(20) NOT NULL,
    -- other columns ...
    CONSTRAINT Female_PK PRIMARY KEY (StudentID),
    CONSTRAINT Female_UQ UNIQUE (FirstName, MiddleName, LastName)
);

CREATE TABLE ClassList
(
    ClassID INT,
    Name VARCHAR(30),
    ClassYear INT,
    -- other columns ...
    CONSTRAINT ClassList_PK PRIMARY KEY (ClassID),
    CONSTRAINT ClassList_UQ UNIQUE (Name, ClassYear)
); 
```

table`Male`和table`Female`之所以分开是因为它们是由不同的 sql 帐户维护的。

* * *

现在的问题是*Association Class*。

```
CREATE Student_Class
(
    SudentID INT,
    ClassID INT,
    CONSTRAINT tb_UQ UNIQUE (StudentID, ClassID)
) 
```

所以我的问题是：

*   如何设置`StudentID`表`Male`和`Female`. 我在网上找不到那个。
*   如何强制执行`Foreign Key`关联类表的值列来自两个表的约束：`Male`和`Female`？

建议也被接受。

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:28:44.630

这就是属性拆分不好的原因——它开始以奇怪的方式“感染”其他表。

你可以有：

```
CREATE Student_Class
(
    MaleStudentID INT NULL,
    FemaleStudentID INT NULL,
    ClassID INT NOT NULL,
    CONSTRAINT tb_UQ UNIQUE (MaleStudentID, FemaleStudentID, ClassID)
) 
```

据我所知，由于 MySQL 不支持`CHECK`约束，因此您还必须创建一个触发器，以确保只有一个，并且恰好一个，`MaleStudentID`和`FemaleStudentID`is `NOT NULL`。

您现在可以以一种明显的方式应用您的外键约束。

* * *

对于 SQL Server，您*将*有一个检查约束：

```
ALTER TABLE Student_Class ADD CONSTRAINT CK_Students_Nullability CHECK (
    (MaleStudentID is null and FemaleStudentID is not null) or
    (MaleStudentID is not null and FemaleStudentID is null)
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T06:59:25.877

你可以：

为 StudentID 设置一个范围以识别男性/女性。例如，男性为 10000 到 19999，女性为 20000 到 29999

或者，您可以在两个表中添加一个冗余列“Sex”，其中 M 代表男性，F 代表女性，并将该部分作为参考

拉吉

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:21:09.873

我认为让用户权限决定您的架构并不是一个好主意，但如果您必须这样做，那么我认为 HerpaMoTeH 提到的想法是一个好主意。第三个表，带有 id、gender 和在性别特定表和 student_class 中用作 FK 的 id。

另一种解决方案是将你的 student_class 表分成两个：male_student_class 和 female_student_class

或者，您可以为单个学生表上的 CRUD 操作创建 2 组存储过程（男性和女性）。然后，您将拒绝为您的用户授予对实际表的权限，但授予他们访问适当的存储过程集的权限。您的架构将简化为：

```
CREATE TABLE Student
(
    StudentID INT,
    GenderId INT,
    FirstName VARCHAR(20) NOT NULL,
    MiddleName VARCHAR(20) NOT NULL,
    LastName VARCHAR(20) NOT NULL,
    -- other columns ...

);

CREATE Student_Class
(
   SudentID INT,
   ClassID INT,
  CONSTRAINT tb_UQ UNIQUE (StudentID, ClassID)
) 
```

# windows-phone-7 - PositionChanged 和 StatusChanged 事件在 WP7 中被触发两次

> ID：14453051
> 
> 赞同：1
> 
> 时间：2013-01-22T06:48:38.720
> 
> 标签：windows-phone-7, gps, windows-mobile-gps

我试图在 GPS 的帮助下获取坐标，当我进行试运行或调试时，事件会使 PositionChange 和 StatusChange 调用 TWICE。这是我的代码，请帮助我。

```
 private void button1_Click(object sender, RoutedEventArgs e)
    {
        if (NetworkInterface.GetIsNetworkAvailable())
        {
            flag = true;
            if (watcher == null)
            {
                watcher = new GeoCoordinateWatcher(GeoPositionAccuracy.Default);
                watcher.MovementThreshold = 20;
                watcher.PositionChanged += new EventHandler<GeoPositionChangedEventArgs<GeoCoordinate>>(watcher_PositionChanged);
                watcher.StatusChanged += new EventHandler<GeoPositionStatusChangedEventArgs>(watcher_StatusChanged);
                watcher.Start();
            }
        }

    }

 void watcher_StatusChanged(object sender, GeoPositionStatusChangedEventArgs e)
    {
        switch (e.Status)
        {
            case GeoPositionStatus.Disabled:
                MessageBox.Show("Location Service is not enabled on the device");
                break;

            case GeoPositionStatus.NoData:
                MessageBox.Show(" The Location Service is working, but it cannot get location data.");
                break;
        }
    }

  void watcher_PositionChanged(object sender, GeoPositionChangedEventArgs<GeoCoordinate> e)
    {
        if (e.Position.Location.IsUnknown)
        {
            MessageBox.Show("Please wait while your prosition is determined....");
            return;
        }

        List<string> locationData = new List<string>();
        locationData.Add(e.Position.Location.Latitude.ToString("Latitude:" + "0.000"));
        locationData.Add(e.Position.Location.Longitude.ToString("Longitude:" + "0.000"));
        locationData.Add(e.Position.Location.Altitude.ToString());
        locationData.Add(e.Position.Location.Speed.ToString());
        locationData.Add(e.Position.Location.Course.ToString());
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:21:33.427

它被调用了两次，因为状态从

初始化 -> 准备就绪

初始化它会触发一次并准备好第二次:)

# rpm - 我的 src.rpm 不包含源文件

> ID：14453054
> 
> 赞同：1
> 
> 时间：2013-01-22T06:48:45.960
> 
> 标签：rpm, rpmbuild, rpm-spec

我正在使用 CentOS 4.1 机器，我正在使用 rpm-build 创建一个 rpm，将一些二进制文件粘贴到所需位置。我的 .spec 是：

```
Summary: FOO1 Data
Name: foo
Version: 1.0
Release: 1
License: GNU
Group: FOO1
URL: www.foo1data.com
Source0: foo.src 
BuildRoot: %{_tmppath}/%{name}-%{version}-buildroot

%description

%define installdir $RPM_BUILD_ROOT/foo1/foo1-dummy

%prep
cd /usr/src/redhat/BUILD
rm -rf foo.src 
cp -rp /usr/src/redhat/SOURCES/foo.src /usr/src/redhat/BUILD
if [ $? -ne 0 ]; then 
  exit $? 
fi
cd foo.src 
cd /usr/src/redhat/BUILD/foo.src
chown -R root.root .
chmod -R a+rX,g-w,o-w .

%build

cd foo.src/main/
./build_all
cd -

%install
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT

mkdir -p %{installdir}/agg
install foo.src/main/agg/server/aggd %{installdir}/agg/aggd
install foo.src/main/tools/conmsgtest %{installdir}/agg/conmsgtest
mkdir -p $RPM_BUILD_ROOT/usr/local/bin
ln -f -s /foo1/foo1-dummy/agg/conmsgtest $RPM_BUILD_ROOT/usr/local/bin/conmsgtest

%clean 
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
/foo1/foo1-dummy/agg/aggd
/foo1/foo1-dummy/agg/conmsgtest
/usr/local/bin/conmsgtest 
```

我的 foo-1.0-1.x86_64.rpm 文件按预期执行。但是，当我运行命令时，我的 foo-1.0-1.src.rpm 文件

> rpm -ivh foo-1.0-1.src.rpm

添加到 /usr/src/redhat/SOURCES 目录中的 foo.src 目录是空的。尽管如此，正确的规范文件确实会添加到 SPECS 目录中。

我是一个 rpmbuild 的菜鸟，所以谁能告诉我我需要做什么才能让我的 src rpm 包含源代码？

另外，命令

> rpm --rebuild foo-1.0-1.src.rpm

返回“--rebuild：未知选项”，我可以在 CentOS 中使用等效选项吗？

编辑：感谢 Satya，我尝试了命令

> rpmbuild --rebuild foo-1.0-1.src.rpm

我得到错误

```
/var/tmp/rpm-tmp.19105: line 27: cd: foo.src/main/: No such file or directory
error: Bad exit status from /var/tmp/rpm-tmp.19105 (%build) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:26:12.853

我设法解决了这个问题，有点。似乎源*必须*是**tarball**，而不是目录（就像我在问题中发布的规范文件中所做的那样）。

因此，将 foo.src 目录压缩到 foo.tar.gz，并在 %prep 阶段将其不妥协到 /usr/src/redhat/BUILD 目录似乎对我有用。现在，在 SRPMS 目录中找到的 .src.rpm 文件在运行时按预期将 foo.tar.gz 文件粘贴到 SOURCES 目录中。（虽然，这仍然不能解释为什么目录不被接受......）

# lambda - Coq：如何证明列表中不同元素的大小小于列表的长度

> ID：14453063
> 
> 赞同：0
> 
> 时间：2013-01-22T06:49:15.910
> 
> 标签：lambda, coq

我想用下面的引理来证明强形式鸽洞原理。

```
Parameter A:Type.
Parameter  var_dec : forall (x y : A),{x=y}+{~x=y}. 

Definition included (l1 l2:list A):Prop :=
              forall x:A,In x l1 -> In x l2.

Fixpoint inbool (x:A) (l:list A) :bool :=
           match l with
           | nil => false
           | x'::l' => match (var_dec x' x) with
                           | left _ => true
                           | right _ => inbool x l'
                           end
           end.

Fixpoint diff(l1 l2:list A):nat :=
  match l2 with
  | nil => 0
  | x::l' => if inbool x l1 then diff l1 l' else S (diff (x::l1) l')
  end. 
```

例如。差异 [] {1,2} = 2; 差异 [] {1,2,2} = 2。

```
Lemma diff_le_length_le1:
  forall a l, diff (a::nil) l <= diff nil l.

Lemma include_diff:forall l1 l2,included l1 l2 -> diff nil l1 <= diff nil l2. 
```

强大的鸽子洞原理。

```
Theorem pigeon_hole_princible_sf:
            forall r:nat,forall h p,
             r>0->
             included p h -> length p > length h*(r-1) -> exists x : A , count x p >r-1. 
```

如何证明引理？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T20:52:45.893

我已经证明了第一个引理的概括。你可以在[这里](http://pastebin.ca/2310722)找到它。

最困难的部分是简化左侧的对象`diff`。我需要证明以下几点：

```
inbool a l1 = false -> inbool a l2 = false ->    diff (a :: l2) l1  = diff l2 l1
inbool a l1 = false -> inbool a l2 = true  ->    diff (a :: l2) l1  = diff l2 l1
inbool a l1 = true  -> inbool a l2 = false -> S (diff (a :: l2) l1) = diff l2 l1
inbool a l1 = true  -> inbool a l2 = true  ->    diff (a :: l2) l1  = diff l2 l1 
```

证明这个其他算法的事情可能会更容易`diff`。

```
Fixpoint diff (l1 l2 : list A) : nat :=
  match l2 with
  | nil => O
  | a :: l3 =>
    if inbool a l1
    then diff l1 l3
    else if inbool a l3
      then diff l1 l3
      else S (diff l1 l3)
  end. 
```

# laravel - 我在哪里把我的业务逻辑放在 Laravel 4 中

> ID：14453064
> 
> 赞同：1
> 
> 时间：2013-01-22T06:49:18.387
> 
> 标签：laravel, business-logic, laravel-4

在 Laravel 3.2 中，我在应用程序文件夹中创建了一个业务逻辑命名空间（文件夹）。然后我使用 Autoloader 注册新的命名空间。

我想在 Laravel 4 中做同样的事情——我想为我的业务逻辑创建自定义命名空间。如何注册我的业务命名空间并提供给 IoC？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T06:52:22.097

您可以在应用程序目录中添加任意文件夹。请务必将其添加到 composer.json 文件中的“类映射”中。L4 不扫描文件/目录，它只是查看自动加载器中加载了哪些名称

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:54:09.983

@Miguel Martinez 让您的控制器保持瘦身，您也可以将业务逻辑放入模型中。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-22T07:29:26.080

根据 laravel 文档，控制器应该包含业务逻辑：[http ://laravel.com/docs/controllers](http://laravel.com/docs/controllers)

# python - Sublime Text 2 API 能够在编辑器启动时运行 nodejs 脚本

> ID：14453068
> 
> 赞同：4
> 
> 时间：2013-01-22T06:49:39.143
> 
> 标签：python, api, sublimetext2, sublimetext

我正在开发将同步 Sublime Text 配置的[**插件。**](https://github.com/matmuchrapna/STsync "同步")

插件核心是 node.js 实用程序，它正在做所有的事情。

我看到的下一步是为插件创建 python 包装器，它将与[**Sublime Text API**](http://www.sublimetext.com/docs/2/api_reference.html "Sublime API 参考")交互，并**在每次打开文本编辑器时运行 nodejs scipt**。
主要问题是我不知道python。

我研究过我需要执行这个自定义 python 代码：

```
from subprocess import call
call(["node", "app.js", "../User/"], Shell=true) 
```

然后我研究了 API，我认为我需要[**`EventListener`类**](http://www.sublimetext.com/docs/2/api_reference.html#sublime_plugin.EventListener "类 sublime_plugin.EventListener")，但是没有像`onEditorStart`. 然后我找到了两个`run_command(string, <args>)`，但我有任何想法如何在我的目的中使用它。

然后我探索`Packages/Default/`了代码示例，这些示例使用了很多 API 函数，但我仍然不知道如何在这 101 个文件中找到有用的行。

我几乎绝望了，决定在这里问。**每次打开文本编辑器时**，我应该在 python 中编写什么代码来强制我的插件运行 nodejs scipt？

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T04:36:41.027

[José F. Romaniello](https://twitter.com/jfroma)在 gist.github.com上提出了可行的[解决方案](https://gist.github.com/4597188)

```
import sublime, sublime_plugin
from subprocess import call

class TestCommand(sublime_plugin.ApplicationCommand):
    def __init__(self):
        super(TestCommand, self).__init__()
        #do your stuf here
        # call(["node", "app.js", "../User/"], Shell=true)
        call(["ping", "192.168.1.1"])

    def run(self, edit):
        pass 
```**

# jquery - 是否可以在标签内选择文本？

> ID：14453071
> 
> 赞同：2
> 
> 时间：2013-01-22T06:49:58.523
> 
> 标签：jquery, html, css, selection

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-03-13T12:26:08.293

您可以使用用户选择的 css 属性。

```
.example{
user-select: text;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T06:55:17.370

How about "<a href="javascript:void(0)"> <span>text<span\> </a>"

Then you can select the text inside the span without trigger the link.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T06:59:15.903

根本不可能使用 CSS...您至少需要更改 javascript。

只需尝试简单的 jQuery 片段。单击时调用方法 myMethod(this)：

```
<a href = "javascript : myMethod(this)l" ><span>text</span> </a> 
```

接着

```
function myMethod (currObj) {
var temp = $(currObj).find(span).text();
//alert(temp); -- just to test

} 
```

希望能帮助到你

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T10:05:01.070

尝试这个：

[*我删除了你的跨度，因为我认为没有必要。]

```
<a id="txtSel" href="javascript:void(0)" onclick="aClick()">your_text<a>

<script type="text/javascript">
    function aClick()
    {
        var myTxt = document.getElementById("txtSel").innerHTML;
        alert(myTxt);
    }
</script> 
```

我希望我能理解你的要求......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:34:14.907

使用 jquery 你可以做这样的事情：

```
$('a').children('span').text(); 
```

或者

```
$('a span').text(); 
```

尽管您很可能希望将此与事件绑定，但我可以问一下您要获取文本的目的是什么吗？

```
$('a').on('click', function( e ) {
   e.preventDefault();
   $(this).children('span').text();
}); 
```

# javascript - Jquery 和 Javascript 中的数组之间的差异

> ID：14453072
> 
> 赞同：0
> 
> 时间：2013-01-22T06:50:07.710
> 
> 标签：javascript, jquery

我想知道在 jquery 中定义的数组是否与在 javascript 中定义的数组有所不同？
像“他们可以存储的元素”的类型等等......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T06:52:15.130

jQuery 是一个 JavaScript 库，而不是另一种编程语言。它不提供自定义数组类型。

# php - 禅车中的验证码

> ID：14453073
> 
> 赞同：2
> 
> 时间：2013-01-22T06:50:20.133
> 
> 标签：php, zen-cart

我是禅车的新手。我正在尝试在注册页面上添加验证码功能。我正在使用 Zen Cart® 版本 v1.5.0。[我使用了http://www.zen-cart.com](http://www.zen-cart.com)网站上提供的 CAPTCHA 反机器人注册模块。但仍然没有显示验证码图像。是否需要我缺少任何后端设置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-07T23:55:37.470

Zen Cart 核心团队的 Byte 博士创建了一个模组，将 CAPTCHA 添加到注册和联系方式页面。它工作得很好，而且很容易安装。

[https://www.zen-cart.com/downloads.php?do=file&id=1455](https://www.zen-cart.com/downloads.php?do=file&id=1455)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-03T20:45:11.940

这里有一个 recapcha 插件：

[https://www.zen-cart.com/downloads.php?do=file&id=1455](https://www.zen-cart.com/downloads.php?do=file&id=1455)：

从管理员方面，需要输入从以下位置获取的站点密钥和秘密：https: [//www.google.com/recaptcha/admin](https://www.google.com/recaptcha/admin)

# jquery - 如何在单个html页面中添加两个相同的adobe边缘动画？

> ID：14453079
> 
> 赞同：3
> 
> 时间：2013-01-22T06:50:34.083
> 
> 标签：jquery, jquery-mobile, adobe, adobe-edge

我正在使用 jquery mobile，其中不同的页面内容将位于一个 html 页面中。

在页面更改（滑动页面）时，其他页面具有相同的边缘动画，因为所有 html 内容将位于单个 html 页面中，只有第一个边缘动画会起作用，其余的将不起作用。

我有两个阶段 id

```
<div id="Stage" class="spring_animation"></div>

<div id="Stage2" class="spring_animation"></div> 
```

下面的代码用于一个阶段（`<div id="Stage"`）边缘动画工作......

```
<!--Adobe Edge Runtime-->
<script type="text/javascript" charset="utf-8" src="spring_edgePreload.js"></script>
<!--Adobe Edge Runtime End-->

<script type="text/javascript">
 jQuery(document).ready(function(){        
     jQuery('[data-url="10.htm"]').live('pageshow', function(){

        if($ && $.Edge && $.Edge.symbol.get($("#Stage"))){
            $('#Stage, #Stage > div').show();
            $.Edge.symbol.get($("#Stage")).play(0); 
        }

    });   
 });       
</script> 
```

但是，它不起作用。

社区中的任何人都可以帮我解决这个问题吗？

我认为，问题在于[adobe edge animate](http://html.adobe.com/edge/animate/)及其[API](http://www.adobe.com/devnet-docs/edgeanimate/api/current/index.html)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T14:12:24.470

我按照本教程进行了操作，并且可以正常工作。 [http://blogs.adobe.com/edge/2012/05/15/bootstrapping-edge-compositions/](http://blogs.adobe.com/edge/2012/05/15/bootstrapping-edge-compositions/)

它使用纯 javascript 来显示/隐藏正确的组合。所有的魔法都是因为回调： Adob​​eEdge.bootstrapCallback(function (compId) { //当合成准备好播放时，你的函数将被调用 });

如评论中所述，当组合准备好时，将调用此回调。我做了一个工作示例，可以更改按钮单击时的组合。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-25T06:27:00.190

您是否尝试将其应用于当前的两个 id：

```
<script type="text/javascript">
    $(document).ready(function(){
    jQuery('[data-url="10.htm"]').live('pageshow', function(){

        if($ && $.Edge && $.Edge.symbol.get($("Stage"))){
            $('#Stage, #Stage > div').show();
            $.Edge.symbol.get($("#Stage")).play(0);

        }
    });

    jQuery('[data-url="11.htm"]').live('pageshow', function(){

        if($ && $.Edge && $.Edge.symbol.get($("Stage2"))){
            $('#Stage2, #Stage2 > div').show();
            $.Edge.symbol.get($("#Stage2")).play(0);

        }
    });
});

</script> 
```

# javascript - TinyMCE 自定义主题 - Bullist numlist 链接取消链接不起作用

> ID：14453080
> 
> 赞同：10
> 
> 时间：2013-01-22T06:50:43.273
> 
> 标签：javascript, jquery, tinymce

所以我使用他们网站上的按钮方法为 TinyMCE 创建了一个自定义主题。大多数按钮似乎都在工作，但 Bullist、numlist、link 和 unlink 按钮什么也不做。即使切换到 HTML 视图，也不会添加 html（即。`<ul><li></li></ul>`）。我尝试为 advlist、advlink 等添加插件，但没有任何变化。似乎无法在网上找到任何答案。

这是我的tinymce代码：

```
$('textarea.htmlify').tinymce({
    mode: 'textareas',
    script_url : host + '/js/admin/tinymce/tiny_mce.js',
    content_css: host + '/css/admin/tiny_mce.css',
    language: false,

    setup: function(editor) {
        $('.showPreview', '#' + editor.id + '_preview').click(function(event) {
            event.preventDefault();
            tinyMCE.execCommand('mceAddControl', false, editor.id);
            $('#'+editor.id + '_preview').css('display', 'none');
        });

        editor.addCommand('showHTML', function(ui, v){
            tinyMCE.execCommand('mceRemoveControl', false, editor.id);
            $('#'+editor.id + '_preview').css('display', 'block');
        });
    },

    theme: function(editor, target) {
        var editorContainer = $(target).after(
            '<div>' +
                '<div class="mce-toolbar clearfix">' +
                    '<button class="btn-mce-bold" data-mce-command="bold">Bold</button>' +
                    '<button class="btn-mce-italic" data-mce-command="italic">Italic</button>' +
                    '<button class="btn-mce-underline" data-mce-command="underline">Underline</button>' +
                    '<button class="btn-mce-strikethrough" data-mce-command="strikethrough">Strike Through</button>' +
                    '<button class="btn-mce-justifyleft" data-mce-command="justifyleft">Justify Left</button>' +
                    '<button class="btn-mce-justifycenter" data-mce-command="justifycenter">Justify Center</button>' +
                    '<button class="btn-mce-justifyright" data-mce-command="justifyright">Justify Right</button>' +
                    '<button class="btn-mce-justifyfull" data-mce-command="justifyfull">Justify Full</button>' +
                    '<button class="btn-mce-bullist" data-mce-command="bullist">Bullet List</button>' +
                    '<button class="btn-mce-numlist" data-mce-command="numlist">Number List</button>' +
                    '<button class="btn-mce-undo" data-mce-command="undo">Undo</button>' +
                    '<button class="btn-mce-redo" data-mce-command="redo">Redo</button>' +
                    '<button class="btn-mce-link" data-mce-command="link">Link</button>' +
                    '<button class="btn-mce-unlink" data-mce-command="unlink">Unlink</button>' +
                    '<button class="btn-mce-code" data-mce-command="showHTML">HTML</button>' +
                '</div>' +
                '<div class="htmlify"></div>' +
            '</div>'
        ).next();

        $('.mce-toolbar').css('width', $(target).css('offsetWidth'));

        // Bind events for each button
        $('button', editorContainer).click(function(event) {
            event.preventDefault();
            editor.execCommand(
                $(this).attr('data-mce-command'),
                false,
                $(this).attr('data-mce-value')
            );
        });

        // setup tabbing
        $tabindex = parseInt($('#' + editor.id).attr('tabindex'));
        if ($tabindex > 1) {
            $('[tabindex=' + ($tabindex-1) + ']').keydown(function(event) {
                var $keyCode = event.keyCode || event.which;
                if ($keyCode == 9) {
                    event.preventDefault();
                    editor.execCommand('mceFocus', false, editor.id);
                }
            });
        } else {
            editor.execCommand('mceFocus', false, editor.id);
        }

        editor.onKeyDown.add(function(ed, event) {
            var $tabindex = parseInt($('#' + ed.id).attr('tabindex'));
            var $keyCode = event.keyCode || event.which;
            if ($keyCode == 9) {
                $tabindex++;
                while(($("[tabindex='" + $tabindex + "']").length == 0 || $("[tabindex='" + $tabindex + "']:not([readonly])").length == 0) && $tabindex != 150 ){
                    $tabindex++;
                }
                if ($tabindex != 150)
                    $('[tabindex='+$tabindex+']').focus();
            }
        });

        // Register state change listeners
        editor.onInit.add(function(ed, event) {
            $('button', editorContainer).each(function(i, button) {
                editor.formatter.formatChanged($(button).data('mce-command'), function(state) {
                    $(button).toggleClass('btn-mce-on', state);
                });
            });

            $('#'+ed.id+'_ifr').css('height', '100%');
        });

        // Return editor and iframe containers
        return {
            editorContainer: editorContainer[0],
            iframeContainer: editorContainer.children().eq(-1),

            // Calculate iframe height: target height - toolbar height
            iframeHeight: $(target).height() - editorContainer.first().outerHeight()
        };
    }    
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-09T15:44:45.150

尝试添加这些插件：

```
 plugins: [
                        "link lists",
                ], 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-14T10:13:05.013

在查看 TinyMCE 代码后，我确定了一个可能的解决方案。对于列表而不是使用`data-mce-command="bullist"`and `data-mce-command="numlist"`，我们可以使用 `data-mce-command="InsertUnorderedList"`and `data-mce-command="InsertOrderedList"`。

对于链接，我使用`data-mce-command="mceInsertLink"`并且我们需要一种方法来将 URL/HREF 提供给`execCommand`. 因此，作为概念证明，我修改了分配所有事件的代码

```
$('button', editorContainer).click(function(event) {
       event.preventDefault();
       var value=$(this).attr('data-mce-value')
       if($(this).attr('data-mce-command')=="mceInsertLink"){
           value=prompt("href") //really hacky way of getting data from user
           //maybe do a modal popup with the callback that calls the execCommand below
       }
       editor.execCommand(
           $(this).attr('data-mce-command'),
           false,
           value
       );
   }); 
```

如果已经选择了文本，这将起作用。我没有对此进行测试，但也许可以检查是否选择了任何内容并询问 URL 和链接文本，然后执行`.execCommand("mceInsertRawHTML")`

[示例小提琴](http://jsfiddle.net/mfirdaus/ZyFm6/)

# couchdb - 无法启动 CouchDB

> ID：14453082
> 
> 赞同：7
> 
> 时间：2013-01-22T06:50:58.670
> 
> 标签：couchdb

刚刚在 mac 山狮上使用 brew 安装了 CouchDb。一切顺利，直到我遇到以下问题以启动服务器我不知道 erlnag 并且无法分析转储文件

```
`couchdb
Apache CouchDB 1.2.1 (LogLevel=info) is starting.
{"init terminating in do_boot",{{badmatch,{error,{bad_return,{{couch_app,start,[normal,["/usr/local/etc/couchdb/default.ini","/usr/local/etc/couchdb/local.ini"]]},{'EXIT',{{badmatch,{error,shutdown}},[{couch_server_sup,start_server,1,[{file,"couch_server_sup.erl"},{line,98}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,274}]}]}}}}}},[{couch,start,0,[{file,"couch.erl"},{line,18}]},{init,start_it,1,[]},{init,start_em,1,[]}]}}

Crash dump was written to: erl_crash.dump
init terminating in do_boot ()` 
```

非常感谢任何帮助。我已将配置文件保留原样

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-23T14:53:49.030

这通常是由于对各种配置文件和目录的权限不正确。例如，它可能是由以 sudo / root 用户身份运行引起的。

您可以尝试使用以下方法解决此问题，但您可能需要创建/将自己添加到 couchdb 组，或使用不同的 user:group 组合。

```
sudo chown -R couchdb:couchdb /etc/couchdb /var/lib/couchdb /var/run/couchdb /var/log/couchdb
sudo chmod -R 770 /etc/couchdb /var/lib/couchdb /var/run/couchdb /var/log/couchdb
sudo find /etc/couchdb /var/lib/couchdb /var/run/couchdb /var/log/couchdb -type f | sudo xargs chmod 660 
```

```

有关详细信息，请参阅[http://wiki.apache.org/couchdb/Installing_on_OSX](http://wiki.apache.org/couchdb/Installing_on_OSX)`chmod`中的部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-05T11:23:09.053

```
sudo apt-get install libicu-dev 
```

提供适当的权限

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-28T09:11:20.957

我在尝试加载一个不存在的配置文件时遇到了这个问题，我在启动 CouchDB 时`-a`选择了提供额外配置的选项，如果该文件不存在，我会收到类似于报告的错误：

```
$ couchdb -a /does/not/exist.ini
{"init terminating in do_boot",{{badmatch,{error,{bad_return,{{couch_app,start,[normal,["/usr/local/etc/couchdb/default.ini","/usr/local/etc/couchdb/local.ini"]]},{'EXIT',{{badmatch,{error,{error,enoent}}},[{couch_server_sup,start_server,1,[{file,"couch_server_sup.erl"},{line,56}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,269}]}]}}}}}},[{couch,start,0,[{file,"couch.erl"},{line,18}]},{init,start_it,1,[]},{init,start_em,1,[]}]}} 
```

# asp.net - 如何将菜单控件分配给主页面上站点地图的子节点

> ID：14453084
> 
> 赞同：1
> 
> 时间：2013-01-22T06:51:01.163
> 
> 标签：asp.net, sitemap, aspmenu-control

我在我的母版页上使用菜单控件，并使用站点地图数据源来填充它。它在菜单上显示主节点。有没有办法用我的主节点的子节点填充菜单，而不是使用默认的“主节点”，即主节点作为起始菜单项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T17:54:10.893

创建站点地图时，您始终以适合您的 Web 需求的方式设计属性，它们将包含您的起始节点、名称显示、视图状态和自动回发。检查您的 sipemapdatasource 属性，您将知道如何做到这一点

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T18:48:08.600

您只需将 ShowStartingNode = False 放在 SiteMapDataSource 属性中。它比我想象的要简单。

# vbscript - 如何使用 VBS 编程 1) windows 媒体播放器？2）你的电脑一般？

> ID：14453087
> 
> 赞同：0
> 
> 时间：2013-01-22T06:51:22.487
> 
> 标签：vbscript

我想使用 VBS 打开我的视频，到目前为止我有这个，它工作正常

```
Set wmp = CreateObject("WMPlayer.OCX")
wmp.openPlayer("C:\Users\myvideo.mp4") 
```

我还想再添加一行以使其全屏显示。如何做到这一点？

另外，我的第二个问题可能更有用。

是否有一个集体网站来描述如何操作这些对象？

当我使用 Matlab 时，我至少可以按 Tab 键查看该对象下有哪些可用选项，并且我通过这种方式学到了很多东西（该网站也很有帮助）。

在 VBS 中是否有类似的方法，或者例如，我在哪里可以找到可以发送到 WM Player 的大量命令列表？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T08:12:56.040

要将窗口切换到全屏窗口，您必须使用**Alt+Enter**。这可以使用 Shell 对象的 sendKeys 方法来完成。这是代码：

```
set WshShell = WScript.CreateObject("WScript.Shell")
WScript.Sleep 1000

WshShell.SendKeys "%{ENTER}" 
```

希望这适合您的需要。如需进一步帮助，请查看 SendKeys 的[文档](http://social.technet.microsoft.com/wiki/contents/articles/5169.aspx)。

# android - XMPP aSmack - 如何获取当前用户状态（离线/在线/离开/等）？

> ID：14453089
> 
> 赞同：18
> 
> 时间：2013-01-22T06:51:34.800
> 
> 标签：android, xmpp, smack, asmack

我是 android 中 xmpp/asmack 的新手。

任何人都可以帮助我获得用户朋友的存在（名册列表）

我正在使用这个：

```
Presence availability = roster.getPresence(user);
Mode userMode = availability.getMode(); 
```

我还应该做些什么来获取我的名册中列出的每个用户的可用性状态。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-01-22T06:55:42.793

像这样使用：

```
Presence availability = roster.getPresence(user);
Mode userMode = availability.getMode();

retrieveState_mode(availability.getMode(),availability.isAvailable());

public static int retrieveState_mode(Mode userMode, boolean isOnline) {
        int userState = 0;
        /** 0 for offline, 1 for online, 2 for away,3 for busy*/
        if(userMode == Mode.dnd) {
            userState = 3;
        } else if (userMode == Mode.away || userMode == Mode.xa) {   
            userState = 2;
        } else if (isOnline) {
            userState = 1;
        }
        return userState;
} 
```

如果您对 xmpp/asmack 有任何问题，请告诉我

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T07:02:18.147

像这样使用

```
userFromServer = con.getRoster().getPresence(userID);
userState = retrieveState(userFromServer.getMode(), userFromServer.isAvailable());

public int retrieveState(Mode userMode, boolean isOnline) {
    int userState = XmppFriend.OFFLINE; // default return value
    if (userMode == Mode.dnd) {
        userState = XmppFriend.BUSY;
    } else if (userMode == Mode.away || userMode == Mode.xa) {
        userState = XmppFriend.AWAY;
    } else if (isOnline) {
        userState = XmppFriend.ONLINE;
    }
    return userState;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-09T11:59:21.993

```
 roster.addRosterListener(new RosterListener() {

        public void entriesAdded(Collection<String> param) {}

        public void entriesDeleted(Collection<String> addresses) {
        }
        public void entriesUpdated(Collection<String> addresses) {  
        }
        public void presenceChanged(Presence presence) {

            String user = presence.getFrom();
            Presence bestPresence = roster.getPresence(user);

            Log.d(TAG, "BestPresence: " + user + ": " + bestPresence);

            String[] temp = presence.getFrom().split("\\@");
            Log.d(TAG, "Presence: " + temp[0] + "-" + presence.toString());

            String status = presence.toString();
            // ShowInfoDialog(temp[0]+"is "+status);

            for (int i = 0; i < friendslist.size(); i++) {

                if (temp[0].equalsIgnoreCase(friendslist.get(i).getName())) {

                    friendslist.get(i).setStatus(status);
                    Log.d(TAG, "kilepet/belepet " + friendslist.get(i).getName() + " - " + friendslist.get(i).getStatus());

                    // ShowInfoDialog(friendslist.get(i).getName()+"is "+status);
                    Log.d(TAG, "WATERFAK");

                }
            }

        } 
```

如果您使用 RosterListener，它会实时更新状态，对我来说效果很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-28T12:04:28.570

```
ConnectToServer(){
    final ProgressDialog dialog = ProgressDialog.show(ChatWindowFragmentActivity.this,
            "Connecting...", "Please wait...", false);
    Thread t = new Thread(new Runnable() {
        @Override
        public void run() {

            // Object of XmppClient class
            XmppClient mXmppClient = new XmppClient();

            /*
             * // Create a connection ConnectionConfiguration connConfig =
             * new ConnectionConfiguration(HOST, PORT);
             */
            XMPPConnection connection = null;

            try {
                SmackAndroid.init(ChatWindowFragmentActivity.this);
                connection = mXmppClient.connectionToXmppServer();
            } catch (XMPPException e) {
                // TODO Auto-generated catch block
      //                    setConnection(null, null);
            }
            try {
                mXmppClient.loginUser(connection, USERNAME, PASSWORD);
                Log.i("XMPPChatDemoActivity",
                        "Logged in as" + connection.getUser());
                // Set the status to available
                Presence presence = new Presence(Presence.Type.available);
                connection.sendPacket(presence);

                setConnection(connection);

                Roster roster = connection.getRoster();

                 /*
                Fetch USER availability
                */

                switch (isUserAvailable(connection)){
                    case 0:
                        imgAvailability.setBackgroundColor(Color.GRAY);
                        break;
                    case 1:
                        imgAvailability.setBackgroundColor(Color.GREEN);
                        break;
                    case 2:
                        imgAvailability.setBackgroundColor(Color.YELLOW);
                        break;
                    case 3:
                        imgAvailability.setBackgroundColor(Color.RED);
                        break;
                    default:
                        break;
                }

                Collection<RosterEntry> entries = roster.getEntries();
                for (RosterEntry entry : entries) {

                    Log.d("XMPPChatDemoActivity",
                            "--------------------------------------");
                    Log.d("XMPPChatDemoActivity", "RosterEntry " + entry);
                    Log.d("XMPPChatDemoActivity",
                            "User: " + entry.getUser());
                    Log.d("XMPPChatDemoActivity",
                            "Name: " + entry.getName());
                    Log.d("XMPPChatDemoActivity",
                            "Status: " + entry.getStatus());
                    Log.d("XMPPChatDemoActivity",
                            "Type: " + entry.getType());
                    Presence entryPresence = roster.getPresence(entry
                            .getUser());

                    Log.d("XMPPChatDemoActivity", "Presence Status: "
                            + entryPresence.getStatus());
                    Log.d("XMPPChatDemoActivity", "Presence Type: "
                            + entryPresence.getType());

                    Presence.Type type = entryPresence.getType();
                    if (type == Presence.Type.available)
                        Log.d("XMPPChatDemoActivity", "Presence AVAILABLE");
                    Log.d("XMPPChatDemoActivity", "Presence : "
                            + entryPresence);
                }

            } catch (XMPPException e) {

                e.printStackTrace();
                Log.e("XMPPChatDemoActivity", "Failed to log in as "
                        + USERNAME);
                Log.e("XMPPChatDemoActivity", e.toString());
                new ShowAlert(ChatWindowFragmentActivity.this,e.getMessage(), false).show(
                        getSupportFragmentManager(), TAG);
   //                    setConnection(null, null);
            }

            dialog.dismiss();
        }
    });
    t.start();
    dialog.show();
} 
```

你的方法在里面调用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-07T16:33:38.040

根据我的经验，您需要订阅用户才能从 Presence 查看状态和其他内容。

例如：用户A想查看用户B的状态和可用状态，此时用户A需要订阅用户B，之后用户A才能看到用户B的状态。

**订阅代码**

```
try {
            roster.setDefaultSubscriptionMode(Roster.SubscriptionMode.manual);
            String userName = responders.getUsers().get(i).getUsername();
            roster.createEntry("userB@domain", userName, null);
            Presence pres = new Presence(Presence.Type.subscribe);
            pres.setFrom("userA@domain");
            connection.sendStanza(pres);
        } catch (Exception e) {
            android.util.Log.e("tag", "unable to add contact: ", e);
        } 
```

# android - 无法停止或暂停音乐

> ID：14453094
> 
> 赞同：0
> 
> 时间：2013-01-22T06:52:12.603
> 
> 标签：android, media-player

我正在尝试在我的应用程序中播放音乐。单击播放按钮时我可以播放，但单击停止按钮时无法停止音乐，请帮助查看此代码并指出问题。我正在使用 MediaPlayer 的 pause() 来暂停音乐。

```
public class MainActivity extends Activity implements OnClickListener {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Button btn = (Button)findViewById(R.id.Start);
    btn.setOnClickListener(this);

    Button btn1 =(Button)findViewById(R.id.stop);
    btn1.setOnClickListener(this);

}
@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    MediaPlayer mp = MediaPlayer.create(this, R.raw.test_cbr);
    switch(v.getId()){
        case R.id.Start:                
            mp.start();
        break;
        case R.id.stop:
            mp.pause();
            Toast.makeText(getApplicationContext(), "Music Paused", Toast.LENGTH_SHORT).show();
        }
    }

     } 
```

我正在使用警报消息。我收到此警报消息，但无法暂停音乐。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T06:55:41.660

modify your code somethign like this,

```
public class MainActivity extends Activity implements OnClickListener {
 MediaPlayer mp =null;
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
   mp = MediaPlayer.create(this, R.raw.test_cbr);  
    Button btn = (Button)findViewById(R.id.Start);
    btn.setOnClickListener(this);

    Button btn1 =(Button)findViewById(R.id.stop);
    btn1.setOnClickListener(this);

}
@Override
public void onClick(View v) {
    // TODO Auto-generated method stub

    switch(v.getId()){
        case R.id.Start:   

            mp.start();
        break;
        case R.id.stop:
           if(mp!=null && mp.isPlaying()){
                mp.pause();
       Toast.makeText(getApplicationContext(), "Music Paused", Toast.LENGTH_SHORT).show();
            }

        }
    }

     } 
```

The problem could be because you are creating a new instance of media player in your onClick each time and so the previous created one will be playing already but where you are trying to stop the one that is created newly.

So assigning it globally and initiating it newly in start button alone should do the job.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T06:56:46.560

这是因为您`MediaPlayer`每次点击都会创建一个新实例。

您应该只有一个 a 的实例`MediaPlayer`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T06:55:37.557

You are creating new Instance every time of media player.Make it global.

Try this changes in your code.

```
case R.id.stop:
     if(mp.isPlaying() && mp!=null)
     { 
       mp.pause();
     }
     Toast.makeText(getApplicationContext(), "Music Paused", Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T06:56:16.910

```
switch (whatsong) {

    case 1: 
        if(song1.isPlaying()){
            song1.pause();          
        } 
```

# java - 9张具有透明度的重叠图像导致滞后

> ID：14453099
> 
> 赞同：1
> 
> 时间：2013-01-22T06:52:25.310
> 
> 标签：java, android, android-layout, android-imageview

`RelativeLayout`我有 9 张图像在一个（下面的代码）中相互重叠。当我将选项卡（`Fragments`在 a 中使用`FragmentActivity`）更改为该特定选项卡时，会导致很多延迟。我假设这是因为图像在`Tab`更改时重新加载，导致滞后？

这是布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="top|center_horizontal">

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021background"
        android:id="@+id/background"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021range"
        android:id="@+id/range"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021topography"
        android:id="@+id/topography"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021waterways"
        android:id="@+id/waterways"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021catchments"
        android:id="@+id/catchments"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021wthrdistricts"
        android:id="@+id/wthrdistrics"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021roads"
        android:id="@+id/roads"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021rail"
        android:id="@+id/rail"/>

    <ImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/idr021locations"
        android:id="@+id/locations"/>

</RelativeLayout>

</LinearLayout> 
```

有没有更好的方法来做到这一点，而不会造成滞后？（也许显示加载圈，然后更改为中`onActivityCreated`的图像`Fragment`- 我现在正在尝试）

# macos - osx - 在 Appstore 上上传 mac 应用程序时二进制文件无效

> ID：14453100
> 
> 赞同：2
> 
> 时间：2013-01-22T06:52:26.030
> 
> 标签：macos, app-store

在应用商店上传 mac 应用时出现错误。这个错误在下面：

> 无效的可执行文件或签名 - 由于应用的可执行文件 (MyApp.app/Contents/Resources/file.o) 或其签名存在问题，您的应用无法由 App Store 重新签名以进行分发。该应用程序可能是使用不合规或预发布工具构建或签名的。
> 
> 尽管您不需要解决以下问题，但我们想让您了解它们：
> 
> 签名无效 - 路径 MyApp.app/Contents/Resources/file.o 处的可执行文件未签名。有关详细信息，请参阅代码签名和应用程序沙盒指南。

我使用 xcode 工具验证这个包，它是成功的。但是在应用商店上传这个包时，它会注意到“无效的二进制文件”。

你知道错误是什么吗？我检查了配置文件和捆绑包 ID 是否有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:59:36.520

The file mentioned in the error message (`Contente/Resources/file.o`) probably doesn't belong in your application bundle. Unless it's something important, you should remove it, as it's unlikely to be doing anything useful for you. (It's probably only in your project by mistake.)

# c - How to store 14.5 trillion and some change in a C floating point type variable

> ID：14453109
> 
> 赞同：0
> 
> 时间：2013-01-22T06:53:43.750
> 
> 标签：c, floating-point, large-data

I'm creating a change counter program for my C++ class. The numbers we are using are in the 10s of trillions and I was wondering if there was an easy way to store that into a floating point type variable then cast that into an integer type. It isn't an integer literal, it's accepted as an input and I expect possible change.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T06:57:23.067

不要使用浮点数。将其保留为整数并使用 64 位长整数。使用“long long”或“int64_t”作为存储这些整数的类型。后者可用于`#include <stdint.h>`

```
int main()
{
    long long x = 1450000000000LL;
    printf("x == %lld\n", x);
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T06:56:43.367

嗯。没有：D

但是，您可以使用矩阵并为需要使用的数学运算编写函数。如果您正在做很多运算或运算非常大的数字，请查看[http://gmplib.org/](http://gmplib.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:42:40.560

如果您使用浮点数学来表示您的更改计数器，您将遇到严重的麻烦。为什么？- 您是准确性问题的受害者，这些问题会导致表示值在 1、10 和 100 等方面不同的问题，依此类推，直至 (IIRC) 10^6 的值。（假设您指的是“万亿”一词的 10^12 版本。如果您想更深入地了解这一点，请参阅 H. Schmidt 的[IEEE 754 转换器页面](http://www.h-schmidt.net/FloatConverter/IEEE754.html)和[关于此的 Wikipedia 文章）](http://en.wikipedia.org/wiki/Floating_point#Accuracy_problems)

因此，如果您需要高于几百万的精度（我假设您这样做），如果您使用像浮点这样的野兽，您真的会陷入困境。为了能够计算数字，您确实需要类似于 ([来自 GNU 的多精度库。当然，您可以自由地自己实现相同的功能。](http://en.wikipedia.org/wiki/GNU_Multi-Precision_Library)

在您的情况下，也许一个 64 位整数可以做到这一点。（请注意，对于 C89，long long 并不总是 64 位和非标准的）只需通过执行以下操作自己解析用户输入（未经测试，只是为了说明这个想法）：

```
const char input[] = "14.5"
uint64_t result = 0;
uint64_t multiplier = 1000000000000;
unsigned int i = 0;

/* First convert the integer part of the number of your input value.
   Could also be done by a library function like strtol or something 
   like that */
while ((input[i] != '.')
       && (input[i] != '\0'))
{
    /* shift the current value by 1 decimal magnitude and add the new 10^0 */
    result = (result * 10) + (input[i] - '0'); 
    i++;
}

/* Skip the decimal point */
if (input[i] == '.') 
{
    i++;
}

/* Add the sub trillions */
while (input[i] != '\0') 
{
    /* shift the current value by 1 decimal magnitude and add the new 10^0 */
    result = (result * 10) + (input[i] - '0'); 
    multiplier /= 10;  // as this is just another fraction we have added, 
                       // we reduce the multiplier...
    i++:
}

result = result * multiplier; 
```

当然，有几个异常需要单独处理，例如结果溢出或正确处理非数字字符，但正如我上面提到的，代码只是为了说明这个想法。

PS：如果是有符号整数，你当然也必须处理负号。

# objective-c - AFNetworking JSON 问题

> ID：14453110
> 
> 赞同：0
> 
> 时间：2013-01-22T06:53:50.793
> 
> 标签：objective-c, json, ios6, afnetworking

我不断收到以下错误消息：`2013-01-22 01:44:43.091 Section3App2[16625:6703] -[__NSCFArray length]: unrecognized selector sent to instance 0x23a48780`提交我的 AFNetworking 请求后。请求背后的想法是，我们通过 POST 向带有 JSON 请求正文的 REST API 发送一个 post 请求。我整天都在摆弄这个，似乎无法弄清楚是什么导致了问题。

**代码**

```
NSString *string = @"[{\"code\":\"105N14560\"}]";
    NSString * jsonString = 字符串；
    NSData * 数据 = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
    NSError * 错误 = 零；
    id json = [NSJSONSerialization JSONObjectWithData:data options:0 error:&error];
        [请求 setHTTPBody:json];
       // [请求 setValue:[NSString stringWithFormat:@"%d", string.length] forHTTPHeaderField:@"Content-Length"];
        NSLog(@"请求正文：%@", request.HTTPBody);
       // NSLog(@"json: %@",json);
// 如果 (!json) {
// // 处理错误
// NSLog(@"失败");
// }
        AFJSONRequestOperation *operation2 = [AFJSONRequestOperation JSONRequestOperationWithRequest:请求成功:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {
            NSLog(@"JSON: %@", JSON);
        } 失败：无];
        [操作2开始]；

```

该代码成功地创建了请求正文，但是当它尝试运行该块时，它会抛出错误，我完全被难住了。所有帮助将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T14:24:32.523

永远不要像在第一行中那样尝试自己构建 JSON 字符串。用于`NSJSONSerialization`从与 JSON 兼容的 Obj-C 数据结构（如`NSDictionary`或`NSArray`）直接转换为`NSData`对象以用作请求的主体。例如：

```
NSDictionary *JSON = [NSDictionary dictionaryWithObject:@"105N14560" forKey:@"code"];
id JSONData = [NSJSONSerialization dataWithJSONObject:JSON options:0 error:error]; 
```

您应该将生成的`JSONData`对象用于`HTTPBody`请求的 以及`content-length`请求的 。这是一个完整的例子：

```
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:URL]; // URL = wherever the request should be sent to 

[request setHTTPMethod:@"POST"];
[request setValue:@"application/json" forHTTPHeaderField:@"Accept"];
[request setValue:@"application/json" forHTTPHeaderField:@"content-type"];

id JSONData = [NSJSONSerialization dataWithJSONObject:JSON options:0 error:error];
if (JSONData) {
    [request setValue:[NSString stringWithFormat:@"%d",[(NSData *)JSONData length]] forHTTPHeaderField:@"content-length"];
    [request setHTTPBody:JSONData];
} 
```

这只是创建请求。其余部分很简单 using `AFNetworking`，使用`AFJSONRequestOperation`你只需像你已经完成的那样传递请求。

# sql - Need a concept on fetching data with HQL while three or more tables are in use

> ID：14453111
> 
> 赞同：1
> 
> 时间：2013-01-22T06:53:53.740
> 
> 标签：sql, hibernate, hql

A small briefing on what I am trying to do.

I have three tables Content(contentId, body, timeofcreation), ContentAttachmentMap(contentId, attachmentId) and Attachment(attachmentId, resourceLocation).

The reason I adopted to create the mapping table because in future application the attachment can also be shared with different content.

Now I am using HQL to get data. My objectives is as follows:

1.  Get All contents with/without Attachments

I have seen some examples in the internet like you can create an objective specific class (not POJO) and put the attribute name from the select statement within its constructor and the List of that Class object is returned.

For e.g. the HQL will be `SELECT new com.mydomain.myclass(cont.id, cont.body)` ..... and so on.

In my case I am looking for the following `SELECT new com.mydomain.contentClass(cont.id, cont.body, List<Attachment>`) FROM ...`. Yes, I want to have the resultList contain contentid, contentbody and List of its Attachments as a single result List item. If there are no attachments then it will return (cont.id, contentbody, null).

Is this possible? Also tell me how to write the SQL statements.

Thanks in advance.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:08:10.530

我觉得您以一种根本错误的方式使用 Hibernate。您应该使用 Hibernate 来查看您的域实体，而不是将其用作暴露基础表。

对于所有这些，您不需要拥有那个`contentClass`特殊的值对象。只需选择 Content 实体即可满足您的需求。

我认为有实际的例子会更容易。

在您的应用程序中，您不会将其视为“3 个表”，您应该将其视为 2 个实体，如下所示：

```
@Entity
public class Content {
  @Id
  Long id;

  @Column(...)
  String content;

  @ManyToMany
  @JoinTable(name="ContentAttachmentMap")
  List<Attachment> attachments;
}

@Entity
public class Attachment {
  @Id
  Long id;

  @Column(...)
  String resourceLocation
} 
```

而且，您正在寻找的结果只是 HQL 之类的结果

`from Content where attachments IS EMPTY`

我相信您也可以加入 fetch 以节省数据库访问权限：

`from Content c left join fetch c.attachments where c.attachments IS EMPTY`

# matlab - Unable to load a library in MATLAB

> ID：14453112
> 
> 赞同：3
> 
> 时间：2013-01-22T06:53:56.940
> 
> 标签：matlab, visual-c++, dll

I have written a very very simple program in Visual C++ 2008 SP1. It just adds up two numbers. The DLLTest.cpp is:

```
#include "DllTest.h"

    __declspec(dllexport) double Add(double a, double b)
    {
    return( a + b );
} 
```

And DllTest.h is:

```
#ifndef _DLL_TEST_H_
#define _DLL_TEST_H_
#endif

__declspec(dllexport) double Add( double, double); 
```

I build the DLL using Visual C++ 2008\. When I try to load the library using `loadlibrary`, I get the following error:

> ??? Error using ==> loadlibrary at 422 Building DllTest_thunk_pcwin64 failed. Compiler output is: DllTest_thunk_pcwin64.c C:\Users\Admin\Desktop\DllTest.h(5) : error C2054: expected '(' to follow 'EXPORTED_FUNCTION' C:\Users\Admin\Desktop\DllTest.h(5) : error C2085: 'Add' : not in formal parameter list DllTest_thunk_pcwin64.c(40) : error C2085: 'int8' : not in formal parameter list DllTest_thunk_pcwin64.c(41) : error C2085: 'uint8' : not in formal parameter list DllTest_thunk_pcwin64.c(42) : error C2085: 'int16' : not in formal parameter list DllTest_thunk_pcwin64.c(43) : error C2085: 'uint16' : not in formal parameter list DllTest_thunk_pcwin64.c(44) : error C2085: 'int32' : not in formal parameter list DllTest_thunk_pcwin64.c(45) : error C2085: 'uint32' : not in formal parameter list DllTest_thunk_pcwin64.c(46) : error C2085: 'int64' : not in formal parameter list DllTest_thunk_pcwin64.c(47) : error C2085: 'uint64' : not in formal parameter list DllTest_thunk_pcwin64.c(48) : error C2085: 'voidPtr' : not in formal parameter list DllTest_thunk_pcwin64.c(49) : error C2085: 'string' : not in formal parameter list DllTest_thunk_pcwin64.c(51) : error C2082: redefinition of formal parameter 'EXPORTED_FUNCTION' DllTest_thunk_pcwin64.c(51) : error C2143: syntax error : missing ';' before 'type' DllTest_thunk_pcwin64.c(52) : error C2085: 'EXPORTED_FUNCTIONdoubledoubledoubleThunk' : not in formal parameter list DllTest_thunk_pcwin64.c(52) : error C2143: syntax error : missing ';' before '{'

I want just to load a simple program, written in Visual C++, in MATLAB. How can I fix this problem?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T16:53:40.253

感谢您考虑我的问题。我发现了问题。实际上，有两个问题： 1) MATLAB 是 64 位的，但我制作了 32 位 DLL，我不得不更改 Visual Studio 中的设置以制作 64 位 DLL。2) MATLAB 用于加载 DLL 的编译器似乎与 'extern "C"' 命令有问题。所以，我改变了这样的标题：

```
#ifndef DllTest_h
#define DllTest_h

#include <stdio.h>

#ifdef __cplusplus

extern "C" {

#endif
__declspec(dllexport) double Add( double, double);

#ifdef __cplusplus
}
#endif

#endif 
```

最后它奏效了。

# bash - Bash script - could someone proof read and explain why it is wrong

> ID：14453113
> 
> 赞同：0
> 
> 时间：2013-01-22T06:53:57.830
> 
> 标签：bash, ubuntu, if-statement

Тhis is the first script I've ever written and I'm looking for some help. I can't find a script like the one I'm trying to write and its becoming a bother because I wish to create more/expand upon such a bash structure.

If some one has the time could they maybe proof read this for me. Could someone tell me what am I doing wrong and why?

```
#! /bin/bash
#  script to turn the screen blue
echo -e '\033[1;32m'
echo "Minecraft Server LTG Bukkit 1.4.7"
echo "Minecraft Server LTG Bukkit 1.4.7"
echo -e '\033[31m' "[Start  ] \033[1;32m LTG MineCraft Server"
echo -e '\033[31m' "[Stop   ] \033[1;32m LTG MineCraft Server"
echo -e '\033[31m' "[Restart] \033[1;32m LTG MineCraft Server"
echo -e '\033[0m'
cho -e "Hello, \033[47m \033[30m"$USER" \033[0m Enter Command:"

echo  "Command:"
read  $COM1 start stop restart

if ["$COM1" = "start"]:  then
       echo "ran minecraft serv"
     if [ "$(pgrep -g java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar)" ] ; then
       echo MineCraft Server Bukkit 1.4.7 L.T.G : Running

     else
       echo -e "\033[1;32m MineCraft Server Bukkit 1.4.7 L.T.G : \033[31m  FAILED \033[0m"
     fi
if ["$COM1" "stop"]: then
    echo -e "\033[1;32m  MineCraft Server Bukkit 1.4.7 L.T.G : Shutting Down \033[0m"
    killall java
     if (( "$(pgrep -g java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar)" )) ; then
    killall java
    echo -e "\033[1;32m MineCraft Server Bukkit 1.4.7 L.T.G: is SHUTDOWN \033[0m"
     fi
if [ "$COM1"  "Restart" ] ; then
     echo MineCraft Server Bukkit 1.4.7 L.T.G : Rebooting
     exit 1
 fi
fi
exit 0 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:30:12.740

让我们走两条线......那里足以让我们忙碌。

```
read  $COM1 start stop restart

if ["$COM1" = "start"]:  then 
```

第一行读入了一个变量，其名称被存储在`$COM1`其中（它是未初始化的，所以实际上它是空的，所以它毕竟没有做任何事情），加上三个变量`start`,`stop`和`restart`。您要么需要：

```
read COM1 start stop restart 
```

或者您需要`COM1`在使用它之前进行初始化。

第二行设法遇到了数量惊人的问题。

1.  `test`命令 aka`[`是命令名称，而不是符号。因此，它需要与其论点分开。请注意，通常有一个 command`/bin/[`或`/usr/bin/[`，尽管它现在也是一个内置的 shell。
2.  幸运的是，既然`$COM1`是未设置和空的，它已经被分开了，但更多的是偶然而不是设计。
3.  因此，您的`[`命令使用 3 个参数执行`=`：`]:`和`then`. 这不是对 的有效调用`[`。最后一个论点应该是`]`独立的。
4.  您应该使用分号将 与`]`分开`then`。

总的来说，你应该写：

```
if [ "$COM1" = "start" ]
then 
```

或者您可以添加一个分号（不必与`]`空格分隔），然后添加`then`：

```
if [ "$COM1" = "start" ]; then 
```

* * *

从风格上讲，你`Minecraft Server LTG Bukkit 1.4.7`在整个地方都重复了字符串''；不！使用变量来保存它。

担心您的嵌入式光标控制序列；不同的终端有不同的序列，因此您仅限于单一终端类型。修复更难；调查`tput`命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T05:15:40.517

好吧，这就是我最终得到的结果-它有效，但我想知道是否有办法改善这种灾难，我真的很感谢您的回应:)

```
#! /bin/bash
#  script to turn the screen blue
NAME=$(echo Minecraft Server LTG Bukkit 1.4.7)
echo -e '\033[1;32m'
echo "$NAME"
echo "$NAME"
N1=$(echo LTG MineCraft Server)
echo -e '\033[31m' "[Start  ] \033[1;32m $N1"
echo -e '\033[31m' "[Stop   ] \033[1;32m $N1"
echo -e '\033[31m' "[Restart] \033[1;32m $N1"
echo -e '\033[0m'
echo -e "Hello \033[47m \033[30m"$USER" \033[0m Enter Command:"

echo  "Command:"
read test
#this is a test piece
echo "start = $test"

if [ $test == "start" ];  then
echo -e "\033[31m $NAME : Starting"
java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar &>./minecraft.sh.rlog
  if [ "$(pgrep -g java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar)" ] ; then
       echo -e "\033[31m $NAME : Running"
       exit 1
  else
    echo -e "\033[1;32m $NAME : \033[31m  FAILED \033[0m"
  fi
fi
if [ $test == "stop" ]; then
    echo -e "\033[1;32m $NAME : Shutting Down \033[0m"
        killall java &> ./minecraft.sh.log
        MINECRAFT=$(pgrep -g java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar                             &>./minecraft.sh.log)
                sleep 1
                echo .
                sleep 1
                echo .
                sleep 1
                echo .
                sleep 1
                echo .
     if [[ -z "$MINECRAFT" ]] ; then
        killall java &> ./minecraft.sh.log
        echo -e "\033[1;32m $NAME : IS SHUTDOWN \033[0m"
     else
         #should never bee seen
        echo Something Went Wrong
     fi
fi
if [ $test == "restart" ] ; then
     echo -e "\033[31m $NAME : Rebooting \033[0m"
        kill java &>minecraft.sh.log
        sleep 1
 echo .
        sleep 1
        echo .
        if [[ -z "$MINECAFT" ]]; then
        echo -e "\033[1;32m $NAME : IS SHUTDOWN \033[0m"
        sleep 1
        echo .
        fi
        echo -e "\033[31m $NAME : Starting \033[0m"
        sleep 1
        echo .
         java -Xmx256M -Xms256M -jar /minecraft/minecraft_server.jar &> ./minecraft.sh.rlog
else
if [ $test == "exit" ] ; then
        exit 0
fi

exit 1
fi 
```

# iis - Redirection Not Working Classic Asp Site

> ID：14453115
> 
> 赞同：0
> 
> 时间：2013-01-22T06:54:00.847
> 
> 标签：iis, redirect, asp-classic, http-status-code-302

A site i host is currently under construction so i am trying to redirect all pages back to the homepage. I am using the following code for redirection:

```
Response.Status = "302 Moved Temporary"
Response.AddHeader "Location", "http://www.soundczar.com" 
Response.End() 
```

However, the only browser that is able to redirect properly is Opera. Firefox, IE, and Chrome are unable to redirect the pages. I had the same issue last week with another classic asp site. I placed this code at the end of the footer SSI. Any suggestions?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:14:43.610

通过在页脚中设置这些，对于大多数浏览器来说，您可能为时已晚——您需要在页眉中发送它，而此时页眉已经发送。最好在任何页面输出发生之前处理这种情况。

如果你不能这样做，那么你需要缓冲整个页面，并在遇到该条件时在重定向之前清除缓冲区：

```
Response.Buffer = True

Other_Code_Here()

If redirect_condition Then
    Response.Clear
    Response.Status = "302 Moved Temporary"
    Response.AddHeader "Location", "http://www.soundczar.com"
    Response.End()
End If 
```

# jquery - How to change the position of buttons in jquery dialog box using jquery

> ID：14453116
> 
> 赞同：0
> 
> 时间：2013-01-22T06:54:06.573
> 
> 标签：jquery, asp.net-mvc, jquery-ui

I am working on asp.net mvc. I am trying to display a form in jquery dialog box, like

```
$("#dialog-editinvitem").dialog({
        autoOpen: false,
        width: 420,
        resizable: false,
        modal: true,
        buttons: {
            OK: function () {
               //...
            },
            Cancel: function () {
                $(this).dialog("close");
            }
        },
        close: function () {
        }
    }); 
```

it works fine. the buttons in the dialog-box are displayed at lower bottom of the dialog. but **i need to display the buttons at the top left corner of the dialog box after the dialog title bar.** I have tried with some jquery code to position the button panel like,

```
var btnset = $(this).parent().children('.ui-dialog-buttonpane').html();
            $(this).parent().children('.ui-dialog-buttonpane').remove();
            $("<div class='ui-dialog-buttonpane ui-widget-content ui-helper-clearfix'>" + btnset + "</div>").insertAfter($(this).parent().children('.ui-dialog-titlebar'));
            $('.ui-dialog-buttonset').css('float', 'left');
            $('.ui-dialog-buttonpane').css('border-width', '0px 0px 1px 0px'); 
```

the button panel successfully positioned at top left corner but it doesnot fire button click events. Please guide me.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-03T09:37:08.347

请尝试在打开对话框时添加按钮元素位置，就像下面的代码片段一样

```
$('#dialog-editinvitem').dialog({
  open: function (event, ui) {
    $(this).before($(this).parent().find('.ui-dialog-buttonpane'));
  },
  ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T10:37:38.590

您的代码存在问题，您正在删除 dom 元素及其相关事件。尝试克隆 dom 元素并做一些样式。稍后完成后，您将删除原始文件。将其更改为

> $(this).parent().children('.ui-dialog-buttonpane').remove();

这个

```
var objbuttonPane = $(this).parent().children('.ui-dialog-buttonpane').clone(true);
//once you done with styling and positiong the button. you do  remove the original element  and append the cloned element 
```

或者为什么你需要 Jquery 按钮？您可以将提交/链接放在您选择的任何地方并设置它们的样式。只是不要在 jquery 对话框中传递按钮对象。像这样的东西。

```
$("#dialog").dialog({
        autoOpen: true,
        width: 420,
        resizable: false,
        modal: true,       
        close: function () {
        }
    }); 
```

演示：[Jsfiddle](http://jsfiddle.net/79rDD/)

# windows-8 - How can I simulate Microsoft Surface tear-down timeout?

> ID：14453120
> 
> 赞同：1
> 
> 时间：2013-01-22T06:54:27.727
> 
> 标签：windows-8, visual-studio-2012, windows-runtime

I've been developing an app for Windows 8 and can test Suspend, Resume, Shutdown, etc. from Visual Studio 2012\. However, when I test the app on a Microsoft Surface, there is one other state I can't seem to simulate.

When an app is open and you leave the Surface untouched for a bit, the screen will dim and then eventually shut-off. If I wait long enough, maybe 1 or 2 minutes, and hit the start button, it will take me to the Lock Screen, where I can sign in. Once I sign in, it will show my app where I left it. However, after 1 second, it crashes immediately, and the Surface takes me back to the Start Screen.

I cannot simulate this using Visual Studio and the Simulator. Suspending/Resuming using Debug Location does not recreate this.

I looked at the event log on the Surface and found that my app was crashing with the following:

```
The process was terminated due to an unhandled exception. 

Exception Info: System.Exception Stack: at
System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at
System.Threading.WinRTSynchronizationContext+Invoker.<InvokeCore>b__0(System.Object) at
System.Threading.QueueUserWorkItemCallback.WaitCallback_Context(System.Object) at
System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean) at
System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean) at
System.Threading.QueueUserWorkItemCallback.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem() at System.Threading.ThreadPoolWorkQueue.Dispatch() at
System.Threading._ThreadPoolWaitCallback.PerformWaitCallback() 
```

I have no clue how to find this. I am handling all unhandled exceptions with a standard message box, but it's not showing up. We've been very good at avoiding "async void" and making sure everything has "async Task" and awaited properly. So, I'm a bit stuck. I can't find where this is happening.

Anyone know how I can simulate this, or at least make the Event Log more verbose?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-23T19:53:30.177

在我看来，您拥有测试场景所需的一切。但是您可能不知道您可以在 Surface 上远程调试您的应用程序，就像它在本地运行一样。因此，您可以继续执行您的用例并让 Visual Studio 捕获异常：

这很简单。这是一个演练：[http ://timheuer.com/blog/archive/2012/10/26/remote-debugging-windows-store-apps-on-surface-arm-devices.aspx](http://timheuer.com/blog/archive/2012/10/26/remote-debugging-windows-store-apps-on-surface-arm-devices.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-24T01:09:11.340

好的，我想通了。

`MediaElement`控制和音量有问题。当应用程序按照我上面的解释重新激活时，我们会收到音量已更改的通知。但是由于某种原因，如果我们尝试`MediaElement.Volume`在应用重新激活时进行操作，它会引发异常。这个异常没有消息，只是一些奇怪的十六进制数字。

这只发生在平板电脑上，而且很难检测到。本质上，对于所有播放媒体文件的人，您应该像这样尝试/捕捉它：

```
try
{
   myMediaElement.Volume = .3;
}
catch (Exception ex)
{
   // I don't really know what to do here.
   // but at least my app doesn't crash anymore :)
} 
```

无论如何，感谢@JerryNixon 和@chuex 的帮助。

# android - GCM Message Delivery Confirmation

> ID：14453122
> 
> 赞同：3
> 
> 时间：2013-01-22T06:54:41.967
> 
> 标签：android, google-cloud-messaging

I am implementing push notifications with **Google Cloud Messaging**. I am simply testing with their demo applicaitons on official site. All is working well. But, has anyone idea of how to gurantee the delivery of message, in anyway? Or can we invoke server to let know once the message are delivered in device, and will it be reliable approach?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:14:07.577

看看[Android GCM交付监控](https://stackoverflow.com/questions/13967883/android-gcm-delivery-monitoring)上的答案。

“他们不保证交付，但他们会尝试最多 4 周来交付消息，具体取决于您在发送到 Google 的 GCM 服务器的消息中设置的持续时间，以及您是否希望让 Google 保留数据以最终交付 msg到设备，以防在发送消息时设备处于脱机状态。”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-02-25T09:41:58.490

Google 增加了支持，以便您可以从云连接服务器 (CCS) 接收交货收据：

> 当设备确认收到 CCS 发送的消息时，您可以使用上游消息获取送达回执（从 CCS 发送到您的第 3 方应用服务器）。
> 
> 要启用此功能，您的第 3 方应用服务器发送给 CCS 的消息必须包含一个名为“delivery_receipt_requested”的字段。当此字段设置为 true 时，CCS 会在设备确认收到特定消息时发送送达回执。

[https://developers.google.com/cloud-messaging/ccs#receipts](https://developers.google.com/cloud-messaging/ccs#receipts)

# apache - Apache proxyPassReverse and Websockets

> ID：14453123
> 
> 赞同：18
> 
> 时间：2013-01-22T06:54:46.947
> 
> 标签：apache, websocket, mojolicious, proxypass

I've been working on a Perl Mojolicious project that uses websockets. I'm wanting to launch it on a shared server running apache and use proxyPass and proxyPassReverse to make the url prettier for my Mojolicious code running with Hypnotoad.

I have it set up as follows.

Apache url:

```
mydomain.com 
```

Hypnotoad url:

```
mydomain.com:8080 
```

With the following apache entry I can reverse proxy the Hypnotoad server to

```
project.mydomain.com 
```

apache.conf entry

```
<VirtualHost *:80>
  ServerName project.mydomain.com
  DocumentRoot /var/www/project
  <Directory /var/www/project/>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride None
    Order allow,deny
    allow from all
  </Directory>
  ProxyRequests Off
  ProxyPreserveHost On
  ProxyPass / http://mydomain.com:8080/ keepalive=On
  ProxyPassReverse / http://mydomain.com:8080/
  RequestHeader set X-Forwarded-HTTPS "0"
</VirtualHost> 
```

However my websocket requests give a 404 error when I use:

```
ws://project.mydomain.com/get-data 
```

and a 302 error when I use:

```
ws://mydomain.com:8080/get-data 
```

I guess this wouldn't be a problem is the websocket didn't check for authentication, but they use Mojolicious routes to check that you can post via the websocket.

From what I can see Apache doesn't support reverse proxying websockets. In apache/httpd conf files.

Has anyone found a usable solution to this using Apache that is stable for a production environment?

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-06-08T10:39:31.563

3 月，Jim Jagielski[向 Apache 主干提交了一个补丁，该补丁](http://mail-archives.apache.org/mod_mbox/httpd-dev/201303.mbox/%3C54924C1C-42BF-410E-AFAE-194BE378C69E@jaguNET.com%3E)允许正确代理 websocket。该补丁添加了一个名为 proxy_wstunnel 的新子模块，它[允许 mod_proxy 使用“ws”和“wss”协议](http://mail-archives.apache.org/mod_mbox/httpd-dev/201303.mbox/%3CDA1B7825-90BC-41C5-9F42-66C4E154D6E2@jaguNET.com%3E)。

该模块尚未出现在任何官方 Apache 版本中（截至 2013 年 6 月 8 日），因此您需要自己编译它。[Voyageur 的博客](http://blog.cafarelli.fr/post/2013/04/26/Backporting-Apache-support-for-websockets-reverse-proxy-%28aka-getting-GateOne-to-work-behind-Apache%29)描述了 Apache 2.2 的过程，但 Apache 2.4 应该更容易

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2013-08-08T14:11:35.280

Apache httpd 2.4.6 包括代理 websocket 请求。

* * *

## 回答 #3

> 赞同：-5
> 
> 时间：2013-06-21T03:52:07.300

这可能是您正在寻找的。看看：[https ://npmjs.org/package/npr](https://npmjs.org/package/npr)

# c# - signing with x509certificate that has signature algorithm sha256

> ID：14453127
> 
> 赞同：0
> 
> 时间：2013-01-22T06:55:04.077
> 
> 标签：c#

> **Possible Duplicate:**
> [How can I sign a file using RSA and SHA256 with .NET?](https://stackoverflow.com/questions/7444586/how-can-i-sign-a-file-using-rsa-and-sha256-with-net)

I am trying to sign a PDF document with a x509certificate, which has signature algorithm sha256\. I have written the following code for this.

```
RSACryptoServiceProvider rsaCSP = new RSACryptoServiceProvider();
rsaCSP.FromXmlString(cert.PrivateKey.ToXmlString(true));
signature = rsaCSP.SignData(dataToBeSigned, CryptoConfig.MapNameToOID("SHA256")); 
```

which yields into an exception saying "Key not valid for specified state"

Then I have made an edit like the following:

```
RSACryptoServiceProvider rsaCSP = (RSACryptoServiceProvider)cert.PrivateKey;
signature = rsaCSP.SignData(dataToBeSigned, CryptoConfig.MapNameToOID("SHA256")); 
```

This yields into an exception saying "Invalid algorithm specified"

I have no clue for the errors, can anyone help me to get out from this deadlock please ?

# php - 如何访问迭代器中的第一个元素？

> ID：14453128
> 
> 赞同：20
> 
> 时间：2013-01-22T06:55:13.067
> 
> 标签：php, iterator

我正在使用将 SQL 结果作为可迭代对象返回的 PHP 框架。问题是我有一个返回一行的 SQL 查询，我不想创建一个`foreach`-loop 来获取第一个 - 也是唯一一个 - 元素。

那么我该怎么做呢？

这些不起作用：

```
$obj->item(0)->propName;
$obj->next()->propName;
$obj[0]->propName; 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-01-22T07:01:18.167

假设“可迭代”，您的意思是对象实现了[`Iterator`接口](http://php.net/manual/en/iterator.current.php)，您可以使用它`$obj->current()`来检索当前元素，所以`$obj->current()->propName`可能就是您想要的。

如果迭代器指针已被移动（例如，如果它在 a 中使用`foreach`，它不会重置指针），那么您可以在调用`$obj->rewind()`之前将指针设置回第一个元素`$obj->current()`。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2016-07-23T01:07:17.353

只有**两个**类接口可以遍历：[Iterator](http://php.net/manual/en/class.iterator.php)和 [IteratorAggregate](http://php.net/manual/en/class.iteratoraggregate.php)（*任何其他接口都必须实现其中之一*）。

* * *

# 迭代器

Iterator 的第一个元素可以通过以下方式获得：

```
$iterator->rewind();
if (!$iterator->valid()) {
    throw new Exception('There is no any element!');
}
$firstElement = $iterator->current(); 
```

如果您确定：

*   the`$iterator`从未被遍历过`foreach`，或者如果它被遍历过，但循环从未被`break`or停止过`return`（*因为 PHP 7 这一点是无关紧要的，因为 foreach 不影响指针*）
*   从来没有叫过`$iterator->next();`

您可以省略`$iterator->rewind();`前面示例中的 。

如果你确定元素的`$iterator`数量**不**为零，你甚至可以省略条件块测试`$iterator->valid()`。

因此，如果保留这些先前的条件，那么您需要的只是：

```
$firstElement = $iterator->current(); 
```

* * *

# 迭代器聚合

IteratorAggergate 实际上只是一个 Iterator 或另一个 IteratorAggregate 的信封。从逻辑上讲，这意味着最后有一个迭代器。

如果您知道迭代器的深度是多少，只需抓住它并像第一个示例一样使用：

```
$iterator = $iteratorAggregate->getIterator(); 
```

但是，如果您现在不了解深度，则可以使用也适用于迭代器的解决方案：

```
$array = iterator_to_array($iteratorAggregate);
// $array is an ordinary array now
if (count($array) === 0) {
    throw new Exception('There is no any element!');
}
$firstElement = reset($array); 
```

**不幸**的是，在 biig 数组的情况下，这有点**矫枉过正**，因为尽管我们只需要一个，但必须创建所有元素的副本。此外，如果迭代器是无限[生成器](http://php.net/manual/en/class.generator.php)，您将耗尽内存。

有一种可行的解决方案：

```
while ($iterator instanceof \IteratorAggregate) {
    $iterator = $iterator->getIterator();
}
// $iterator now contains instance of Iterator 
```

我为一组 10000 个成员做了一个简单的基准测试，这个解决方案的速度几乎快了 6 倍。

因此，适用于所有情况的通用解决方案是：

```
while ($iterator instanceof \IteratorAggregate) {
    $iterator = $iterator->getIterator();
}
$iterator->rewind();
if (!$iterator->valid()) {
    throw new Exception('There is no any element!');
}
$firstElement = $iterator->current(); 
```

*LLAP*

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-10-04T14:41:23.293

对于任何类型的 iterables( `array`, `Iterator`, `IteratorAggregate`) 你都可以使用这个函数：

```
/* public static */ function first(iterable $iterable, $default = null) {
    foreach ($iterable as $item){
        return $item;
    }
    return $default;
} 
```

如果您希望在 iterable 为空时抛出异常，则可以使用该版本：

```
/* public static */ function firstOrThrow(iterable $iterable, \Throwable $e) {
    foreach ($iterable as $item){
        return $item;
    }
    throw $e;
} 
```

这既适用于数组和迭代器对象，也只计算迭代器中的第一项，这在某些情况下可以提高性能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-12-24T08:41:15.217

另一种我个人认为不太冗长的替代方法是先将迭代器转换为数组，然后检查数组是否为空。

```
$result = iterator_to_array($iterator, true);
if(!empty($result)){
   $user = end($result)->id;
} 
```

当您知道您的迭代器将只返回一个“迭代”时非常有用。但是，如果您将拥有数千个，请注意您将首先使用所有数据填充数组，这可能会增加您的内存使用量，直到数组再次为空。

# python - Bad status line exception while opening a page on django development server

> ID：14453129
> 
> 赞同：10
> 
> 时间：2013-01-22T06:55:14.877
> 
> 标签：python, django, testing, selenium

I am executing selenium test cases via Proboscis, for good reporting of test results. I have the following test case written

```
from selenium import webdriver 
from selenium.webdriver.common.keys import Keys
from proboscis import test
import unittest
driver = webdriver.Firefox()

@test(groups=["unit","login"])
class UI_test(unittest.TestCase):

    def test_SuccessfulErrorMsgOnEmptyUserName(self):
        driver.get("http://127.0.0.1:7999/login/")
        username_input = driver.find_element_by_id("id_email")
        username_input.send_keys('')
        password_input = driver.find_element_by_id("id_password")
        password_input.send_keys('bill3')
        driver.find_element_by_xpath('//input[@value = "Log In"]').click()
        driver.implicitly_wait(3)
        driver.find_element_by_class_name("error-login")

driver.close()  

def run_tests():
    from proboscis import TestProgram
   # from tests import unit

    # Run Proboscis and exit.
    TestProgram().run_and_exit()

if __name__ == '__main__':
    run_tests() 
```

What could be causing the `BadStatusLine` exception in this code?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-03-05T10:54:17.783

看起来像[Python/Django“BadStatusLine”错误](https://stackoverflow.com/questions/8734617/python-django-badstatusline-error)的副本，但由于这个问题有赏金，我无法标记。根据[这个答案](https://stackoverflow.com/a/27530824/819417)，`BadStatusLine`异常可能是由空响应引起的，因为根本没有状态行。

根据[这个答案](https://stackoverflow.com/a/23483487/819417)，服务器正式告诉客户端没有更多的数据，而不是简单地导致连接重置或粗鲁的超时。

# php - How to have multiple headers for different users of Wordpress site

> ID：14453134
> 
> 赞同：0
> 
> 时间：2013-01-22T06:55:39.497
> 
> 标签：php

I’ve a created WordPress membership site using wishlist member plugin. But I want to have different header.php based on different logins.

Eg: Users are: Print, Web and Free

*   When Free user logs in – I want header1.php to load and stay till he logs out
*   When Print user logs in – I want header2.php to load and stay till he logs out
*   When Web user logs in – I want header3.php to load and stay till he logs out

If nobody has logged in the default header.php stays.

Please assist on how to do this.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:04:15.297

尝试使用包含，在标题的位置包含此代码注意编辑变量 $userType 的名称：

```
switch($userType)
{
case "free": { include("header1.php"); break;}
case "Print": { include("header2.php"); break;}
case "Web": {include("header3.php"); break;}
default: {include('header.php'); break; //nobody logged in 
}
} 
```

# ruby-on-rails - 如何使用 Rails/ERB 在 select_tag 中添加 link_to？

> ID：14453136
> 
> 赞同：8
> 
> 时间：2013-01-22T06:55:42.667
> 
> 标签：ruby-on-rails, erb, helpers, link-to

我的**index.html.erb中有以下代码**

```
 <%= select_tag 'team_id', options_for_select(@teams.map{|team| ["#{team.name} #
  {team.nick}", team.id] }) %> 
```

我将在该块中的哪里添加一个 link_to 助手？我什至可以为 select_tag 添加一个 link_to 吗？

所需的 link_to 将转到“/Teamleader/ID_OF_OPTION_PICKED”

**更新：**

更清楚; 当用户从选择标签中选择一个选项时，我想将页面重定向到所需的链接（来自 link_to）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:03:41.863

```
<%= select_tag 'team_id', options_from_collection_for_select(@teams, "id", "name") %>

<script>
    $(function(){
      $('#team_id').bind('change', function () {
         var url = "/Teamleader/" + $(this).val()
          if (url) {
              window.location.replace(url);
          }
          return false;
      });
    });
</script> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-22T08:14:12.870

尝试：

```
<%= select_tag 'team_id', options_from_collection_for_select(@teams, "id", "name"),:onchange => "window.location.replace('/Teamleader/'+this.value);" %> 
```

# android - Slide to limit content of SlidingDrawer

> ID：14453139
> 
> 赞同：0
> 
> 时间：2013-01-22T06:55:50.717
> 
> 标签：android, android-layout, android-widget, slidingdrawer

Hi I am doing a sliding drawer, following the tutorial here: [http://android-pro.blogspot.sg/2010/09/using-android-slidingdrawer.html](http://android-pro.blogspot.sg/2010/09/using-android-slidingdrawer.html)

However, the sliding drawer either open or closes fully. Is there any way so that the user can slide to limit the height of content? For example to slide open half of the sliding drawer to show half of the content, or slide a third to see a third of the content.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:10:29.923

您必须制作一个自定义的“SlidingDrawer”，以便其顶部偏移不会默认为最大高度。

这里[已经实现了](http://chrisharrington1.wordpress.com/2012/02/06/android-modifying-the-slidingdrawer-widget-to-use-a-max-height/)

# onclick - 如何将此 onclick() 函数转换为 onload()

> ID：14453145
> 
> 赞同：6
> 
> 时间：2013-01-22T06:56:15.673
> 
> 标签：onclick, onload, jquery

> **可能重复：**
> [如何通过 onload 函数自动进行 onclick](https://stackoverflow.com/questions/1098019/how-to-make-onclick-automatically-through-onload-function)

所以我有以下函数，当我点击一个按钮时会调用它。这是代码：

```
<a href="#" role="button" onClick="myFunction('parameter')"> 
```

页面加载后如何调用此函数？我尝试了 onLoad 功能，但似乎不起作用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:01:53.747

onload 事件有多种选择。

在 HTML 中

```
<body onload="myFunction('parameter')"> 
```

在 Javascript 中

```
window.onload=function(){
myFunction('parameter');
}; 
```

在 JQuery 中

```
$(document).ready(function(){
      myFunction('parameter');
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T06:57:57.197

将它放在页面的任何位置，最好放在`<head>`

```
<script type="text/javascript">    
$(function() {
    myFunction('parameter');
});
</script> 
```

有关通过 jQuery 执行此操作的更多方法，请参阅[https://stackoverflow.com/a/7911809/584192 。](https://stackoverflow.com/a/7911809/584192)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T06:58:32.433

你有没有试过这个：

```
window.onload = function(){
    myFunction('parameter');
} 
```

在以下位置查看更多信息：[https ://developer.mozilla.org/en-US/docs/DOM/window.onload](https://developer.mozilla.org/en-US/docs/DOM/window.onload)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T06:57:38.603

您调用 myFunction [document.ready](http://api.jquery.com/ready/)或在关闭 body 标签之前调用。

*在 document.ready 内*

[现场演示](http://jsfiddle.net/nmAye/)

```
<script type="text/javascript">    
    $(document).ready(function(){
          myFunction('parameter');
    });
</script> 
```

*在关闭 body 标签之前*

```
<script type="text/javascript">    

     myFunction('parameter');

</script> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-22T07:01:01.597

您可以使用以下代码。

```
<script>
   onload = function(){
     myFunction('parameter');
   }
</script> 
```

# c++ - C++ - 通过添加字节整数合法/推荐向前移动 char 指针吗？

> ID：14453147
> 
> 赞同：3
> 
> 时间：2013-01-22T06:56:18.513
> 
> 标签：c++, byte, offset

我正在寻找一些方法来推进指向压缩档案中文件开头的指针。

我有一个指向已读入内存的文件开头的字符指针。存档目录包含每个文件的偏移量。是否合法/建议说：

```
char* beginning; //Imagine this is assigned to the beginning of the file in memory
int file1OffsetBytes = 1000; // Imagine the first file is 1000 bytes into the file

char* file1 = beginning + file1OffsetBytes; 
```

这是一个坏主意吗？还有什么方法可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T06:59:46.943

那很好。你只需要注意越界跳转......还有一件事：这是一个通常用于内存缓冲区偏移量的`size_t`or类型。`ssize_t`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:00:03.877

只要结果指针仍然指向数组中的一个元素或最后一个现有元素之后不存在的元素，添加到指针（或从中减去）是合法的。不用说，您只能取消引用指向现有元素的指针，并且如果您通过指针读取该元素，则该元素必须已初始化。

# codeigniter - PyroCMS 文件模块定制

> ID：14453148
> 
> 赞同：0
> 
> 时间：2013-01-22T06:56:30.527
> 
> 标签：codeigniter, pyrocms, file-management

我正在将 Pyrocms 用于应用程序。有一个可用于文件管理的模块。虽然它足够好，但我需要根据我的要求定制它。
以下是要求

1.  对于来自后端的每个文件管理员可以创建多个临时链接
2.  每个文件应限制在管理员定义的某个时间范围内
3.  并且每个用户的下载限制应该是 3

现在我需要建议我如何完成这些任务来完成应用程序。
我需要更多的桌子来处理这种情况吗？
或者我可以扩展现有的文件表。
临时链接如何创建它们并让用户下载文件？
另一个要求，如果用户使用该链接，下载弹出窗口来了，他取消了 3 次，我现在必须限制他，因为他现在不能下载它。
所以使用 ip 会做到这一点或其他一些建议。如果我必须通过电子邮件向单个用户发送多个链接，那么如何自定义文件模块以满足我的需求。
请给点建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T17:34:49.230

[下载模块](https://www.pyrocms.com/store/details/downloads)有帮助吗？

这一切听起来应该是一个额外的模块，因为文件工作只是处理文件。下载是一个非常不同的方面，但是您可以使用 PHP 中的 Files 库来获取文件列表并将它们服务器化？

所以：

文件处理文件。下载处理“文件”的下载

如果 Authur Guy 的下载模块不足以满足您的需求，您绝对应该考虑构建一个并在商店中出售。

# python-3.x - 在 Python 3 中将双反斜杠转换为单反斜杠

> ID：14453152
> 
> 赞同：6
> 
> 时间：2013-01-22T06:56:46.763
> 
> 标签：python-3.x, replace, escaping, backslash

我有一个这样的字符串：

```
>>> t
'\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u20ac\\u0020\\u00b0' 
```

我使用一个函数将 unicode 转换为代表性的 Python 转义序列。然后，当我想将其转换回来时，我无法摆脱双反斜杠，以便再次将其解释为 unicode。如何才能做到这一点？

```
>>> t = unicode_encode("
>>> t
'\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u20ac\\u0020\\u00b0'
>>> print(t)
\u0048\u0065\u006c\u006c\u006f\u0020\u20ac\u0020\u00b0    
>>> t.replace('\\','X')
'Xu0048Xu0065Xu006cXu006cXu006fXu0020Xu20acXu0020Xu00b0'
>>> t.replace('\\', '\\')
'\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u20ac\\u0020\\u00b0' 
```

当然，我也不能这样做：

```
>>> t.replace('\\', '\')
  File "<ipython-input-155-b46c447d6c3d>", line 1
    t.replace('\\', '\')
                         ^
SyntaxError: EOL while scanning string literal 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-22T07:00:09.010

不确定这是否适合您的情况，但您可以尝试使用`unicode_escape`：

```
>>> t
'\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u20ac\\u0020\\u00b0'
>>> type(t)
<class 'str'>
>>> enc_t = t.encode('utf_8')
>>> enc_t
b'\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u20ac\\u0020\\u00b0'
>>> type(enc_t)
<class 'bytes'>
>>> dec_t = enc_t.decode('unicode_escape')
>>> type(dec_t)
<class 'str'>
>>> dec_t
'Hello € °' 
```

或缩写形式：

```
>>> t.encode('utf_8').decode('unicode_escape')
'Hello € °' 
```

您获取字符串并使用 对其进行编码`UTF-8`，然后使用 对其进行解码`unicode_escape`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:10:21.360

您的代码中只有一个反斜杠，但反斜杠表示为`\\`. 如您所见，当您使用 时`print()`，只有一个反斜杠。所以如果你想摆脱两个反斜杠之一，不要做任何事情，它不存在。如果你想摆脱两者，只需删除一个。再次用于`\\`表示一个反斜杠：`t.replace("\\", "")`

所以你的字符串一开始就没有两个反斜杠，这不应该是问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-05T19:05:47.263

由于反斜杠是转义字符，并且您正在搜索两个反斜杠，因此您需要将**四个**反斜杠替换为**两个**- 即：

```
t.replace("\\\\", "\\") 
```

这将替换`r"\\"`为`r"\"`. 表示原始`r`字符串。因此，例如，如果您输入`print(r"\\")`idle 或任何 python 脚本（或`print r"\\"`在 Python 2 中），您将获得`\\\\`. 这意味着 every`"\\"`真的只是一个`r"\"`.

user1632861 建议您使用`.replace("\\", "")`，但这将永远取代任何`r"\"`内容。请改用**上述**方法。:D

但是，在这种情况下，您似乎正在读取/接收数据，并且您可能希望使用正确的编码然后解码为 un​​icode（正如我上面的人所建议的那样）。

# iphone - iPhone 中的数据保护 API 未加密

> ID：14453155
> 
> 赞同：4
> 
> 时间：2013-01-22T06:57:05.927
> 
> 标签：iphone, ios, security, api, data-protection

我需要保护 Documents Directory 中的数据，因此我使用了[Apple Data Protection API](http://support.apple.com/kb/HT4175)。[苹果资产](http://adcdownload.apple.com//wwdc_2010/wwdc_2010_video_assets__pdfs/209__securing_application_data.pdf)

1.  我在设置应用程序中启用了数据保护。设置->常规->密码锁定
2.  我使用 NSDataProtectionKey 编写文件

    ```
    [data writeToFile:imagePath options:NSDataWritingFileProtectionComplete error:nil]; 
    ```

3.  文件写入成功

4.  我得到文件属性

    ```
     [[NSFileManager defaultManager] attributesOfItemAtPath:fullPath
                                                         error:NULL]; 
    ```

5.  它返回这样的属性，因为您可以看到 NSFileProtectionKey 是 NSFileProtectionComplete

    ```
    NSFileCreationDate = "2013-01-22 06:10:48 +0000";
    NSFileExtensionHidden = 0;
    NSFileGroupOwnerAccountID = 501;
    NSFileGroupOwnerAccountName = mobile;
    NSFileModificationDate = "2013-01-22 06:10:48 +0000";
    NSFileOwnerAccountID = 501;
    NSFileOwnerAccountName = mobile;
    NSFilePosixPermissions = 420;
    NSFileProtectionKey = NSFileProtectionComplete;
    NSFileReferenceCount = 1;
    NSFileSize = 8964;
    NSFileSystemFileNumber = 335997;
    NSFileSystemNumber = 16777218;
    NSFileType = NSFileTypeRegular; 
    ```

我确信我已经成功地写入了文件并且我成功地读取了该文件。但是，当我在[iExplorer](http://www.macroplant.com/iexplorer/)（Mac 的外部 iOS 设备阅读器应用程序）中打开此设备时，它会向我显示未加密写入的文件。

没有加密意味着我写了一个图像文件。但我可以在 iExplorer 中查看该图像（在文档目录中）。但我的目的是加密它。因为我不希望用户看到那些文件。我知道其他加密 AES 算法。但是想知道为什么数据保护 API 不起作用。

注意：我使用 iPad2 iOS 6.0.1 和设备中记录的日志

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-22T07:02:13.407

> 但是想知道为什么数据保护 API 不起作用。

它确实奏效了，你只是期望比它所做的更多。

iOS 应用于文件的加密对用户空间中的任何内容都是透明的。加密在硬件级别完成，因此窃取设备闪存的任何人都无法访问数据。但是，如果屏幕解锁并且设备已打开，操作系统会像处理其他所有文件一样处理这些文件，并且它们似乎不会从文件系统中“加密”。

如果你想这样做，你必须使用一些非对称加密方法对文件进行编码，例如 AES（OpenSSL 或 GnuTLS 可以很好地完成这项工作）。

# java - 使用一些 java jar 生成网页的 png 或 jpeg 图像

> ID：14453156
> 
> 赞同：0
> 
> 时间：2013-01-22T06:57:11.217
> 
> 标签：java, jakarta-ee, grails

我有一个 Java EE 应用程序正在运行，并且在它的一个网页上，我想添加一个功能，每当用户按下某个按钮时，我只获得当前显示在用户端的网页的图像。

我已经尝试使用一个库来达到目的[http://code.google.com/p/java-html2image/wiki/HtmlImageGenerator](http://code.google.com/p/java-html2image/wiki/HtmlImageGenerator)

我使用上述库的代码是：

```
HtmlImageGenerator imageGenerator = new HtmlImageGenerator();
    imageGenerator.loadUrl("http://localhost:8080/scheduler/xxx")
    imageGenerator.getLinks();
    imageGenerator.saveAsImage("sos.png"); 
```

它确实生成了一个图像，但我的页面包含很多 css 和颜色，但生成的图像似乎没有添加该颜色，实际上会产生一个几乎没有应用 css 的蓝屏。

有人可以在代码中提供帮助或建议任何替代库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:27:54.267

使用 jQuery 或 java 脚本怎么样，在谷歌上搜索了一下，我在 stackoverflow 中找到了以下两个现有帖子

[使用 jquery 生成网站的屏幕截图](https://stackoverflow.com/questions/4550947/generating-a-screenshot-of-a-website-using-jquery)

[用 JavaScript 截取网页截图？](https://stackoverflow.com/questions/60455/take-a-screenshot-of-a-webpage-with-javascript)

# c++ - 在同一个类中更改私有变量？

> ID：14453161
> 
> 赞同：-1
> 
> 时间：2013-01-22T06:57:24.617
> 
> 标签：c++, arrays, dynamic

我正在处理 C++ 硬件分配，所以我会尽量不发布太多代码，我们正在处理的内容如下：我们有一个包含公共交换函数的类（以及插入和删除函数等）和一个私有结构数组来存储数据。

就像是：

```
Class set
public:
set(int dimension);
insert();
delete();
swap(set& swapset);
private:
struct *set; 
```

现在我们主要设置了 s1 和 s2，当我像这样运行交换时：s1.swap(s2); s1 和 s2 将交换整个数组，我们需要在交换 s1 为 [5] 和 s2 后保持每个数组的维数（因此，如果 s1 设置=new set[3] 并且 s2 设置=new set[5]）是 [3]

当数组是固定维度时，我能够使用插入和删除函数来交换数组，但是我不知道如何在交换函数期间更改数组的维度，因为 *set 是私有的，对吗？

提前感谢所有帮助！

编辑：我添加了部分代码，因为我无法正确解释：

```
 set::set()
    :counter(0),m_size(0),flag(0)
    {
    m_set=new set[DEFAULT_MAX_ITEMS];
    swapper=new set[DEFAULT_MAX_ITEMS];
    maxsize=DEFAULT_MAX_ITEMS;
    }
    set::set(int x)
    :counter(0),m_size(0),flag(0)
    {
    m_set=new set[x];
    swapper=new set[x];
    maxsize=x;
    }

void set::swap(set& other)
        {

    // Exchange the contents of this set with the other one.
        int tempmaxsize=maxsize;
        int tempcounter=counter;
        int tempmsize=m_size;

        swapper=m_set;
        m_set=other.m_set;

        other.m_set=swapper;

        m_size=other.m_size;
        counter=other.counter;
        maxsize=other.maxsize;

        other.counter=tempcounter;
        other.m_size=tempmsize;
        other.maxsize=tempmaxsize;
        }

private:

    struct set
        {
        ItemType entry;
        int count;
        };
    int maxsize;
    set* m_set;
    int m_size;
    int counter;
    int flag;
    set* swapper; 
```

错误代码是这样的：调试断言失败！表达式：_block_type_is_valid(phead->nblockuse)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:07:29.760

实际上更改数组大小应该是`swap`函数的一部分，因此应该在类方法中完成。由于它是一个类方法，它可以访问私有成员。

# c# - 如何在 c#.net 中将图像文件（如扫描副本）转换为文本文件

> ID：14453162
> 
> 赞同：0
> 
> 时间：2013-01-22T06:57:29.200
> 
> 标签：c#, asp.net

> **可能重复：**
> [在哪里可以找到可用于扫描和 OCR 文档的免费 .Net (C#) 库？](https://stackoverflow.com/questions/10459013/where-can-i-find-a-free-net-c-library-that-i-can-use-to-scan-and-ocr-documen)

我需要在 c# 中将图像文件转换为文本文件。所以请建议我解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:04:18.083

有很多[OCR 应用程序](http://en.wikipedia.org/wiki/Comparison_of_optical_character_recognition_software)，请参阅：

1.  [在哪里可以找到可用于扫描和 OCR 文档的免费 .Net (C#) 库？](https://stackoverflow.com/questions/10459013/where-can-i-find-a-free-net-c-library-that-i-can-use-to-scan-and-ocr-documen)

2.  [http://www.nicomsoft.com/products/ocr/](http://www.nicomsoft.com/products/ocr/)

3.  [http://www.imagepdf.com/ocrsdk.htm](http://www.imagepdf.com/ocrsdk.htm)

# java - 谁能解释一下java如何设计HashMap的hash()函数？

> ID：14453163
> 
> 赞同：7
> 
> 时间：2013-01-22T06:57:36.707
> 
> 标签：java, hash, hashmap

看了JDK的源码后，发现HashMap的`hash()`功能看起来很有趣。它的源代码如下：

```
 static int hash(int h) {
    // This function ensures that hashCodes that differ only by
    // constant multiples at each bit position have a bounded
    // number of collisions (approximately 8 at default load factor).
    h ^= (h >>> 20) ^ (h >>> 12);
    return h ^ (h >>> 7) ^ (h >>> 4);
} 
```

参数`h`是从中放入的*hashCode*。这种方法是如何工作的，为什么？为什么这种方法可以防御较差的*hashCode*函数？`Objects``HashMap`

 ** * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-23T12:38:24.293

Hashtable 使用素数的“经典”方法：要获得一个值的“索引”，您需要对键进行哈希处理，然后对大小进行取模。以素数为大小，（通常）在索引上给出了很好的分布（当然也取决于散列）。

HashMap 使用“二的幂”方法，这意味着大小是二的幂。原因是它应该比素数计算更快。但是，由于 2 的幂不是素数，因此会有更多的冲突，尤其是对于具有相同低位的哈希值。

为什么？为获得（bucket/slot）索引的大小执行的模数简单地计算为： hash & (size-1) （这正是 HashMap 中用来获取索引的内容！）。这基本上是“二次幂”方法的问题：如果长度受到限制，例如 HashMap 的默认值 16，则仅使用最后一位，因此，具有相同低位的哈希值将导致相同的（桶）索引。在 16 的情况下，只有最后 4 位用于计算索引。

这就是为什么要计算一个额外的哈希值，基本上它是移动较高的位值，并用较低的位值对它们进行操作。数字 20、12、7 和 4 的原因，我真的不知道。它们曾经不同（在 Java 1.5 左右，散列函数略有不同）。我想有更先进的文献可用。您可能会找到更多关于他们为什么使用他们在各种算法相关文献中使用的数字的信息，例如

[http://en.wikipedia.org/wiki/The_Art_of_Computer_Programming](http://en.wikipedia.org/wiki/The_Art_of_Computer_Programming)

[http://mitpress.mit.edu/books/introduction-algorithms](http://mitpress.mit.edu/books/introduction-algorithms)

[http://burtleburtle.net/bob/hash/evahash.html#lookup](http://burtleburtle.net/bob/hash/evahash.html#lookup)根据长度使用不同的算法（这很有意义）。

[http://www.javaspecialists.eu/archive/Issue054.html](http://www.javaspecialists.eu/archive/Issue054.html)可能也很有趣。查看文章底部附近 Joshua Bloch 的反应：“替代二级哈希函数（我在计算机的帮助下开发）具有强大的统计特性，几乎可以保证良好的桶分布。”）所以，如果你问我，这些数字来自乔希本人进行的某种分析，可能得到了谁知道谁的帮助。

因此：2 的幂可以提供更快的计算速度，但需要额外的哈希计算才能在插槽/存储桶上进行良好的分布。*

# php - 如果facebook访问受到限制，有什么方法可以隐藏facebook登录按钮

> ID：14453175
> 
> 赞同：0
> 
> 时间：2013-01-22T06:58:54.200
> 
> 标签：php, jquery, facebook, facebook-php-sdk, facebook-login

我已经在我的网站中集成了 facebook 登录按钮，如果我无权访问 facebook，我会遇到一个我试图隐藏 facebook 登录按钮的场景。有什么方法可以检查我是否可以访问 facebook？

如果我无权访问 facebook，我想隐藏此按钮。就像我在我的公司中存在不允许访问 facebook 的网络安全性一样，我收到网络警告您无权访问，这会分散我的网站的注意力图形用户界面。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:17:29.030

我认为你的做法是错误的。为了让您知道您无法访问某个站点，您需要尝试访问该站点。这将不可避免地导致延误。

您最好使用 ajax 来调用一个检查程序，如果确定则显示登录按钮。下面的功能将有所帮助：

```
function urlExists($url=NULL)  
{  
    if($url == NULL) return false;  
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_TIMEOUT, 5);  
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    $data = curl_exec($ch);  
    $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
    curl_close($ch);  
    if($httpcode>=200 && $httpcode<300){  
        return true;  
    } else {  
        return false;  
    }  
} 
```

我认为该功能没有任何功劳，它首先来自这里，我相信：

[http://www.wrichards.com/blog/2009/05/php-check-if-a-url-exists-with-curl/](http://www.wrichards.com/blog/2009/05/php-check-if-a-url-exists-with-curl/)

# amazon-web-services - AWS Elasticache PHP 会话和冗余

> ID：14453187
> 
> 赞同：1
> 
> 时间：2013-01-22T07:00:16.137
> 
> 标签：amazon-web-services, amazon-elasticache

我将在 Elasticache 集群上运行 PHP 会话。

该网站正在约会，因此它不是关键任务。

我有点担心节点死亡和被替换、维护窗口和可用区中断，这些都会导致会话结束、人们被注销，最坏的情况是网站根本无法工作。

我读过有关在另一个可用区中拥有第二个缓存集群的信息。人们对一次写入 2 个 elasticache 集群有何想法？如何将站点设置为自动故障转移？

这里有什么技巧可以用来提高会话可用性吗？

** 额外问题：DynamoDB 的性能与会话处理相比如何？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T18:44:44.163

根据服务的需要，我将 DynamoDB 和 Elasticache 都用于会话存储目的。通常，我将 Elasticache 用于非关键会话存储或我将应用程序设置为具有非常短的会话到期时间的情况，这样可能受中断影响的用户数量可能相对较少。

对于更关键的存储（例如电子商务会话）或可能设置为更长生命周期以帮助用户方便的会话，我选择了 Dynamo。显然，Dynamo 通常比 Elasticache 慢，但仍然非常适合会话存储，尤其是在可以保证读/写吞吐量的大容量下（与传统的数据库支持的会话相反）。

# mysql - 使用连接创建视图

> ID：14453190
> 
> 赞同：0
> 
> 时间：2013-01-22T07:00:22.427
> 
> 标签：mysql, sql, database, view

```
CREATE VIEW tcs.meter_data_eb2 AS
select ar.created_date AS created_date,
p.id AS parameter_id,
p.parameter_name AS parameter_name,
ar.parameter_value AS parameter_value,
m.meter_primary_id AS meter_id,
m.meter_name AS meter_name
m.meter_code As meter_code
 from tcs.parameter_values_archieve ar
 inner join tcs.parameter_master p on p.id = ar.parameter_id
 inner join tcs.meter_primary_master m on m.meter_primary_id = ar.meter_id
 inner join tcs.meter_master mm on mm.meter_primary_id = m.meter_primary_id; 
```

这个查询有什么问题？

它给出的错误：

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 8 行的“m.meter_code Asmeter_code from tcs.parameter_values_archieve ar inner join tc”附近使用正确的语法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:03:11.440

`m.meter_name`你只是缺少和之间的逗号`m.meter_code`

```
, m.meter_name AS meter_name, m.meter_code AS meter_code 
```

全视图查询，

```
CREATE VIEW tcs.meter_data_eb2
AS
SELECT ar.created_date AS created_date , 
        p.id AS parameter_id , 
        p.parameter_name AS parameter_name , 
        ar.parameter_value AS parameter_value , 
        m.meter_primary_id AS meter_id , 
        m.meter_name AS meter_name,
        m.meter_code AS meter_code
FROM    tcs.parameter_values_archieve ar
        INNER JOIN tcs.parameter_master p
            ON p.id = ar.parameter_id
        INNER JOIN tcs.meter_primary_master m
            ON m.meter_primary_id = ar.meter_id
        INNER JOIN tcs.meter_master mm
            ON mm.meter_primary_id = m.meter_primary_id; 
```

# android - 按下 CheckBox 时如何突出显示 TextView？

> ID：14453191
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:00:25.297
> 
> 标签：android

我有一个包含 CheckBox 和 TextView 的 LinearLayout。我想在按下 CheckBox 时突出显示 TextView。

**布局和选择器（在可绘制文件夹中）**

```
<LinearLayout
        android:orientation="vertical"
        android:gravity="center" >
        <CheckBox
            android:id="@+id/chkPlayStop"
            android:button="@drawable/play_stop_state" />
        <TextView
            android:id="@+id/tvPlayStop"
            android:clickable="true"
            android:textColor="@drawable/text_view_state" />

</LinearLayout>

<selector xmlns:android="http://schemas.android.com/apk/res/android" >
    <item android:color="@color/white" android:state_pressed="true"/>
    <item android:color="@color/grey" />
</selector> 
```

目标：当我在布局中点击时 - 复选框更改状态和 textview 突出显示。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:08:31.870

您必须设置`OnCheckedChangeListener`如下`checkbox`：

```
checkBox.setOnCheckedChangeListener(new OnCheckedChangeListener()
{
    @Override
    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked)
    {
        if (isChecked)
        {
            //Highlight the text
            textView.setTypeface(null, Typeface.BOLD_ITALIC);
        } else
        {
            //Unhighlight the text
            textView.setTypeface(null, Typeface.NORMAL);
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:09:09.677

试试下面的代码：

```
TextView textView = (TextView) findViewById(R.id.yourTextView);
cb = (CheckBox) findViewById(R.id.yourCheckBox);

cb.setOnClickListener(new OnClickListener() {

  @Override
  public void onClick(View v) {
    if (((CheckBox) v).isChecked()) {
        textView.setBackgroundColor(Color.RED);
    }else{
        textView.setBackgroundColor(Color.BLACK);
    }

  }
}); 
```

我不完全知道您要如何突出显示文本视图，因此该示例仅包含新的背景颜色。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:16:29.590

您可以通过更改文本颜色、放置背景或更改文本类型（如粗体等）来突出显示文本视图。

对于更改背景，您可以使用`textView.setBackgroundColor(your color code)`.

要更改文本类型，您可以使用`textView.setTypeface(null,Typeface.BOLD)`

要更改文本颜色，您可以使用`textView.setTextColor(your color code`)

在上面的 checkChangedListener 答案中显示的位置使用此代码。

# c# - Profiling：Dispose() 在 profiling 中拥有最独占的时间

> ID：14453193
> 
> 赞同：1
> 
> 时间：2013-01-22T07:00:32.067
> 
> 标签：c#, profiling

我有一个使用 xsd 方案将数据导出为 xml 文件的应用程序。

它会创建很多小文件。29Gb，其中文件的平均大小为 0.3MB 或 10KB。它创建了大约 140000 个文件。它用

```
 Enumerable.Range(1, gs.Count)
             .AsParallel()
             .ForAll 
```

将独立数据保存到文件

使用 MS Profiler，我将执行时间减少到 30 分钟。它在峰值时写入高达 20Mb/s。

因此，顶级分析器结果的最终版本包含：

`System.IO.File.Open(string,valuetype System.IO.FileMode) 30,14 % System.IDisposable.Dispose() 22,09% System.Xml.Serialization.XmlSerializer.Serialize(class System.IO.Stream,object) 13,42 %`

代码是：

```
using (Stream streamw = File.Open(fileName, FileMode.Create))
{                  
        formatter.Serialize(streamw, this);                    
} 
```

其中格式化程序是：

```
static XmlSerializer formatter = new XmlSerializer(typeof(XItemDesc)); 
```

所以问题是：

1) 分析器的结果是否意味着我已达到 HDD 性能的最大值？

2）在第二行有 Dispose 是预期的行为吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:27:48.653

好吧，也许性能瓶颈是由 Parallel 造成的。请记住，对 HDD 的请求不是并行的，它们是排队的。

如果您的文件位于不同的位置、不同的网络共享或不同的物理硬盘驱动器上，您可以从 Parallel 获得性能提升。

另一件事，如果您使用的是 .NET 2.0，并且我看到您正在使用 using() 语法糖，您仍然应该调用 Dispose() 并取消引用 Stream，因为 using() 是错误的。

如果文件所在的分区是NTFS，那么请考虑小文件NTFS的性能缺陷。 [NTFS 性能和大量文件和目录](https://stackoverflow.com/questions/197162/ntfs-performance-and-large-volumes-of-files-and-directories)

# gwt - PHPUnit Selenium 与 Grinder 和 GWT

> ID：14453197
> 
> 赞同：0
> 
> 时间：2013-01-22T07:00:48.620
> 
> 标签：gwt, selenium, phpunit, selenium-rc, grinder

[我已经使用 Selenium 的PHPUnit 扩展](http://www.phpunit.de/manual/current/en/selenium.html)设置了一个 Selenium 测试用例。我已经执行了测试用例，它运行良好。

现在我想用[The Grinder](http://grinder.sourceforge.net)做一些性能测试。换句话说，我想使用 Grinder 框架提供的 TCPProxy 进程，并多次并行执行我的 Selenium 测试。我可以使用 Grinder TCPProxy 记录整个 Selenium 测试。但是当我想从 Grinder 控制台运行生成的 python 脚本时，我注意到一些 GET 或 POST 请求总是会引发错误。

我的 Web 应用程序是使用 GWT（Google Web Toolkit）开发的。所以显然有很多异步请求。这可能是问题的来源吗？有人已经体验过 The Grinder 和 GWT 吗？

所有的小帮助都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T09:04:35.930

尝试增加每个操作/活动的“等待/睡眠”时间，以适应更糟糕的缓慢 rpc 请求场景。如果这不能解决这种情况，那么您可能在挖掘错误后添加了一些细节。

试试 Selenium，因为它模拟浏览器上的用户交互，因此不会遇到基于 XSRF 的问题，因为您使用 Grinder 使用服务器端方法。

# php - 缩略图后滚动浏览网页图像

> ID：14453198
> 
> 赞同：1
> 
> 时间：2013-01-22T07:00:49.303
> 
> 标签：php, scroll

我搜索了，但没有找到这个问题的答案。

我有一个以缩略图格式显示数百张图像的网站。我目前正在使用 php 以缩略图形式显示所有图像，然后单击缩略图以全尺寸显示图像。

我想做的是能够单击缩略图并查看生成的全尺寸图像，然后能够在全尺寸图像中来回滚动而不返回缩略图。

作为一项附加功能，在查看缩略图时，我只想加载当前显示在客户端页面上的那些...即 - 如果客户端屏幕分辨率支持 20，则仅加载 20 并等待加载其余部分客户端直到用户向下滚动。此用例中的主要客户端是 iphone。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:07:30.907

您需要使用滑块 jquery 插件

喜欢

**[Jquery 灯箱插件](http://leandrovieira.com/projects/jquery/lightbox/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:19:12.140

你实际上有两个单独的问题。一个是显示拇指全尺寸并能够单击下一个图像。几乎每个显示图像的插件都有这些选项。我个人使用[fancybox](http://fancyapps.com/fancybox/)，但选择你喜欢的任何人。`rel`要启用下一个/上一个按钮，您需要使用标签对图像进行分组。

现在要加载每页的图像，类似于 google 所做的，您需要通过 javascript 将其全部加载。下面是如何做到这一点的设置。这是未经测试的，因为我手头没有图片库。

在下面的代码中，我一次将所有图像加载到数组中，当您有很多图像（例如 1000+）时，这并不完美。在这种情况下，您最好使用 AJAX 加载新页面。但是，如果您的图像数量较少，这会更快。

```
<script>
//simple JS class to store thumn and fullimage url
function MyImage(thumbnail, fullimage, imgtitle) {
  this.thumb = thumbnail;
  this.full = fullimage;
  this.title = imgtitle;
}

//array that holds all the images
var imagesArray = new Array();
var currentImage = 0;

<?php
//use php code to loop trough your images and store them in the array
//query code to fetch images
//each row like $row['thumb'] and $row['full'] and $row['title'];
while ($row = mysqli_fetch_assoc($result))
{
  echo "imagesArray.push(new MyImage('".$row['thumb']."', '".$row['full']."', '".$row['title']."'));";
}
?>

//the thumb width is the width of the full container incl. padding
//In this case I want to use 50x50 images and have 10px on the right and at the bottom. Which results in 60x60
var thumbWidth = 60;
var thumbHeight = 60;

var screenWidth = $('body').width();
var screenHeight = $('body').height();

var maxImagesPerRow = Math.round(screenWidth / thumbWidth);
var maxImagesPerCol = Math.round(screenHeight / thumbHeight);
var totalImagesPerPage = maxImagesPerRow * maxImagesPerCol;

//function to load a new page
//assuming you use jquery
function loadNextPage() {
  var start = currentImage;
  var end = currentImage + totalImagesPerPage;
  if (end >= imagesArray.length) {
    end = imagesArray.length - 1;
  }
  if (end<=start)
    return; //last images loaded

  $container = $('#thumbnailContainer'); //save to var for speed
  $page = $('<div></div>'); //use a new container, not on stage, to prevent the dom for reloading everything on each iteration of the loop
  for (start;start<=end;start++) {
    //add a new thumbnail to the page
    $page.append('<div style="margin:0;padding:0 10px 10px 0;"><a class="fancybox" rel="mygallery" href="'+imagesArray[start].full+'" title="'+imagesArray[start].title+'"><img src="'+imagesArray[start].thumb+'" alt="" /></a></div>');
  }
  currentImage = start;

  //when all images are added to the page, add the page to the container.
  $container.append($page);
}

$(function() { 
  //when loading ready, load the first page
  loadNextPage();  
});

//function to check if we need to load a new page
function checkScroll() {
  var fromTop = $('body').scrollTop();
  //page with a 1-based index
  var page = 1 + Math.round(fromTop / screenHeight); 

  var loadedImages = page*totalImagesPerPage;

  if (loadedImages==currentImage)  {
    //we are scrolling the last loaded page
    //load a new page
    loadNextPage();
  }  
}

window.onscroll = checkScroll;

</script>

<body>
    <div id='thumbnailContainer'></div>
</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:07:48.440

当您单击图像时，它应该指向一个包含完整大小图像的新 PHP 文件，或者更好的是，使用 php 将其加载到新文件中，您可以使用[其他工具](http://en.kioskea.net/faq/1251-php-detect-the-display-resolution)`<div>`获取客户端分辨率

# java - 与服务器的套接字连接：java.net.UnknownHostException：无法解析主机“ ": 没有与主机名关联的地址

> ID：14453200
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:00:58.867
> 
> 标签：java, android, sockets

我正在尝试通过套接字连接流式传输字节缓冲区。

它没有与服务器建立连接。我已添加`Internet`&`ACCESS_NETWORK_STATE`清单文件的权限。

这是我的套接字代码：

```
int port = 80;

System.out.println("Connecting to " + ServerUrl.url_audio_call + " on port " + port);
Socket client = new Socket("http://192.168.1.1/call", port);
System.out.println("Just connected to " + client.getRemoteSocketAddress()); 
OutputStream outToServer = client.getOutputStream();
DataOutputStream out = new DataOutputStream(outToServer);
out.write(bData); 
```

LogCat 错误：

```
01-22 12:07:03.990: I/System.out(14688): Connecting to http://192.168.1.1/call on port 80
01-22 12:07:03.990: W/System.err(14688): java.net.UnknownHostException: Unable to resolve host "http://192.168.1.1/call": No address associated with hostname
01-22 12:07:03.990: W/System.err(14688):    at java.net.InetAddress.lookupHostByName(InetAddress.java:400)
01-22 12:07:03.999: W/System.err(14688):    at java.net.InetAddress.getAllByNameImpl(InetAddress.java:242)
01-22 12:07:03.999: W/System.err(14688):    at java.net.InetAddress.getAllByName(InetAddress.java:220)
01-22 12:07:03.999: W/System.err(14688):    at java.net.Socket.tryAllAddresses(Socket.java:108)
01-22 12:07:03.999: W/System.err(14688):    at java.net.Socket.<init>(Socket.java:177)
01-22 12:07:03.999: W/System.err(14688):    at java.net.Socket.<init>(Socket.java:149)
01-22 12:07:03.999: W/System.err(14688):    at com.audio_demo.Audio_Call.sendRec(Audio_Call.java:447)
01-22 12:07:03.999: W/System.err(14688):    at com.audio_demo.Audio_Call.access$0(Audio_Call.java:383)
01-22 12:07:03.999: W/System.err(14688):    at com.audio_demo.Audio_Call$2.run(Audio_Call.java:374)
01-22 12:07:03.999: W/System.err(14688):    at java.lang.Thread.run(Thread.java:856) 
```

我哪里错了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:25:10.020

“http://192.168.1.1/call”是一个URL，“192.168.1.1”是一个IP。所以你传递了错误的参数，程序无法理解......

# probability - 机器人运动后的后验概率

> ID：14453201
> 
> 赞同：2
> 
> 时间：2013-01-22T07:00:59.383
> 
> 标签：probability, robot

假设机器人在单元格中移动并且有 5 个单元格。他们的地区。如下： | 1/9 | 1/3 | 1/3 | 1/9 | 1/9 |

机器人向右移动一个单元格。世界是循环的。当它移动到最右边的单元格时，它会返回到最左边的单元格。

一个细胞运动后的后验概率如下：1/9 | 1/9 | 1/3 | 1/3 | 1/9 |

下图是一个很好的说明。 ![在此处输入图像描述](../Images/13e3602195ab7b038571af591fa4a243.png)

谁能告诉我为什么后验概率会向右移动一个单元格？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T10:15:45.877

考虑机器人在时间 t 在任何单元 A 中的概率，根据它在时间 t-1 是否在单元 A-1 中的概率：

将事件分解为互斥的联合事件：

--> **P(机器人位置@T = A) = P(机器人位置@T=A, 机器人位置@T-1 = A-1) + P(机器人位置@T=A, 机器人位置@T-1 < > A-1)**

使用条件概率将这些联合事件分解为独立事件：

--> **P(机器人位置 @ T= A ) = P(机器人位置 @ T=A | 机器人位置 @ T-1 = A-1) 。P（机器人位置 @ T-1 = A-1）+ P（机器人位置 @ T=A | 机器人位置 @ T-1 <> A-1）。P（机器人定位 @ T-1 <> A-1）**

这允许我们使用机器人向右移动的事实（机器人向右移动的事件具有概率 1，任何其他可能性具有概率 0）。

--> **P(机器人定位 @ T= A ) = 1 。P（机器人定位 @ T-1 = A-1）+ 0 。P（机器人定位 @ T-1 <> A-1）**

简化，得到你想要的答案。

--> **P(机器人位置@T=A) = P(机器人位置@T-1 = A-1)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-12T17:12:52.130

看了一堆帖子后，我有了一个直观的理解，我想我可以不用去研究数学就可以表达出来。

主要的混淆是因为我们首先错误地假设概率代表门在位置 x1,x2,...,xn 的概率。

实际上是机器人出现在位置 x1, x2, ..., xn 的概率。

现在，由于一些传感器，机器人知道它在门前。它不知道它在哪扇门前。因此，鉴于我们知道机器人已经感应到它在门的前面，我们可以说机器人在门所在的位置的可能性更高。这导致后验分布。

现在，如果我们知道机器人向右移动了一个单位，那么我们可以推断出后验分布也向右移动了一个单位。

希望这可以帮助！

# excel - 显示坐标

> ID：14453203
> 
> 赞同：2
> 
> 时间：2013-01-22T07:01:09.320
> 
> 标签：excel, vba, macos, excel-2011

单元格`A1`具有框的左上角坐标，框的`A2`右下角坐标，如何`A3`以 csv 格式显示框的所有坐标？

前任：

```
Cell A1 = (24,20)
Cell A2 = (26,19) 
```

如何获得这个？：

```
Cell A3 = (24,20),(25,20),(26,20),(24,19),(25,19),(26,19) 
```

我正在使用 Excel 2011

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:43:05.380

这是你正在尝试的吗？（*我希望我正确理解了您的问题。如果没有，请随时纠正我*）

将此代码粘贴到模块中，然后调用`=GetCord(A1,A2)`in 单元格`A3`，如下面的屏幕截图所示。

```
Public Function GetCord(rng1 As Range, rng2 As Range) As String
    Dim strTmp As String, strTmp1 As String, strTmp2 As String
    Dim a As Long, b As Long, i As Long, j As Long, k As Long

    strTmp1 = rng1.Value: strTmp2 = rng2.Value

    strTmp1 = Trim(Replace(strTmp1, "(", ""))
    strTmp1 = Trim(Replace(strTmp1, ")", ""))

    strTmp2 = Trim(Replace(strTmp2, "(", ""))
    strTmp2 = Trim(Replace(strTmp2, ")", ""))

    i = Val(Split(strTmp1, ",")(0))
    j = Val(Split(strTmp1, ",")(1))

    k = Val(Split(strTmp2, ",")(0))
    l = Val(Split(strTmp2, ",")(1))

    For b = j To l Step -1
        For a = i To k
            strTmp = strTmp & "(" & a & "," & b & "),"
        Next a
    Next b

    GetCord = Left(strTmp, Len(strTmp) - 1)
End Function 
```

**截屏**

![在此处输入图像描述](../Images/45fb4ab22398d7dfb78d37a4e9c2d485.png)

**注意**：上述功能是假设`y`坐标按降序排列。为了满足所有情况，您必须在函数中包含该检查。

# ios - 通过程序开发多个图表

> ID：14453204
> 
> 赞同：0
> 
> 时间：2013-01-22T07:01:09.993
> 
> 标签：ios, ios5, ios4

我正在开发一个 iPhone 应用程序。其中，我必须通过程序支持多个 3D 图表（如条形图、饼图和折线图）才能显示数据。我听说通过使用 GLKit 框架我可以做到这一点。但我知道学习和测试 API 需要花费大量时间，......在这方面。

由于我没有那么多时间，我想使用可用的第三方框架/lib/SDK 来绘制多个图表。*但是，我想要 iOS 框架/lib/SDK，我可以用它们来通过我的程序*绘制条形图、饼图和折线图。

有人可以帮我一些想法、建议、样本吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:22:19.373

我认为 Coreplot 是最常用的图表库[http://code.google.com/p/core-plot/](http://code.google.com/p/core-plot/) 另一种选择是使用众多可用的 javascript 图表库之一并在 UIWebView 中使用它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:37:36.733

对于 3D 绘图，请查看[`FRD3DBarChart`](https://github.com/sebastienwindal/FRD3DBarChart)框架。

# node.js - 如何使用 Azure 移动服务计划程序解析 RSS 文件

> ID：14453205
> 
> 赞同：1
> 
> 时间：2013-01-22T07:01:10.353
> 
> 标签：node.js, mobile, azure, windows-mobile, azure-mobile-services

早上好，我想通过 Azure 移动服务调度程序（服务器脚本）解析一个 RSS 源。我想运行一个服务器脚本，它使用一个 RSS 源并将结果插入 Azure 数据库。但是......我找不到任何例子。

有人能帮我吗？有什么例子或经验吗？

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:24:52.773

此示例解析来自 nuget 的提要：[Send Push Notifications at Periodic Interval with the Mobile Services Scheduler](http://code.msdn.microsoft.com/windowsapps/Send-Push-Notifications-at-cd0ccd48)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T18:31:34.653

该团队计划在不久的将来将一些处理 XML 数据的节点模块添加到 Azure 移动服务运行时。一旦这些模块就位，您应该能够`require`更轻松地处理传入的 XML 数据。一旦该功能投入生产，我将尝试更新此答案。

# c# - 将 xlsx 转换为 csv 不适用于特定文件，但适用于所有其他文件

> ID：14453206
> 
> 赞同：0
> 
> 时间：2013-01-22T07:01:13.033
> 
> 标签：c#, csv

这是我正在使用的方法：

```
http://www.c-sharpcorner.com/uploadfile/yuanwang200409/how-to-convert-xls-file-into-csv-file-in-C-Sharp/ 
```

它适用于所有其他文件，但对于这个文件，即使它有六列，它也只会得到一列。该文件是 xlsx (Excell 2007)。但我不认为这是问题所在。

当我手动转换文件时，它工作得很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T16:05:41.903

这应该很容易调试。问题的症结在于这段代码的某处：

```
for (int x = 0; x < dt.Rows.Count; x++)
{
    string rowString = "";
    for (int y = 0; y < dt.Columns.Count; y++)
    {
        rowString += "\"" + dt.Rows[x][y].ToString() + "\",";
    }
    wrtr.WriteLine(rowString);
} 
```

我会一步一步找出`rowString`每一次传递的价值。呼叫是否`dt.Columns.Count`返回值为 1？在调试器窗口中打开`dt`并在其中查看它。它有多个列吗？等等等等。您应该能够区分这些循环在做什么并找到问题所在。

让我们知道你发现了什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T06:58:18.217

问题是 Excel 文件的第一行没有标题。我不知道为什么，但是一旦我为标题添加了额外的行 - 它就被修复了。

# python - 将 f2py 与 distutils 混合

> ID：14453208
> 
> 赞同：3
> 
> 时间：2013-01-22T07:01:21.720
> 
> 标签：python, distutils, f2py

我有一个 python 包“trees”，其中包含使用 fortran 子例程的 myscript.py 文件。

通常我用

```
f2py -c -m calctree calctree.f90 
```

然后我可以做

```
from trees import myscript
myscript.mysub() 
```

它利用了 calctree.so

如果我通过运行使用 distutils 打包所有内容

```
python ./setup.py sdist 
```

setup.py 的内容在哪里

```
#! /usr/bin/env python
from distutils.core import setup

setup(name='trees',
      version='0.1',
    packages=['trees']
    ) 
```

并在 MANIFEST.in 文件中指定“include trees/calctree.f90”，我可以包含 .f90 文件，但我不知道如何在用户计算机上使用 f2py 进行编译，并放置 .so 文件在适当的地方。有人可以帮忙吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-31T06:16:02.500

您想使用具有自己设置功能的 numpy.distutils.core 模块。您的 setup.py 应该看起来像这样（假设 fortran 文件位于名为 trees 的目录中），

```
import numpy.distutils.core
import setuptools

# setup fortran 90 extension
#---------------------------------------------------------------------------  
ext1 = numpy.distutils.core.Extension(
    name = 'calctree',
    sources = ['trees/calc_tree.f90'],
    )

# call setup
#--------------------------------------------------------------------------
numpy.distutils.core.setup( 

    name = 'trees',
    version = '0.1',        
    packages = setuptools.find_packages(), 
    package_data = {'': ['*.f90']}, 
    include_package_data = True,   
    ext_modules = [ext1],

) 
```

这至少应该是一个开始。

# python - 如何使用 PyGObject（Python 中的 Gtk3）从 VTE 获取文本

> ID：14453209
> 
> 赞同：1
> 
> 时间：2013-01-22T07:01:30.300
> 
> 标签：python, gtk, pygtk, pygobject, vte

在 vte 的 Gnome 文档中描述了该方法`get_text`：[vte_terminl_get_text](http://developer.gnome.org/vte/unstable/VteTerminal.html#vte-terminal-get-text)。在（Gtk2）上
执行我可以看到方法 get_text 可用，而不是在（Gtk3）中该方法不存在。 是否有其他方法可以从 vte 获取文本？`dir()``vte.Terminal``Vte.Terminal`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T01:30:44.123

不幸的是，您似乎[在 Vte GObject Introspection binding 中遇到了一个错误](https://bugzilla.gnome.org/show_bug.cgi?id=684833)。

# php - 在 Magento Checkout 中禁用帐单和送货地址

> ID：14453210
> 
> 赞同：1
> 
> 时间：2013-01-22T07:01:33.203
> 
> 标签：php, magento, billing

现在我的情况是，我需要跳过我的 magento 网站中的帐单地址。

我尝试安装一个模块[Express checkout](http://www.magentocommerce.com/magento-connect/express-checkout-2845.html)。但它无济于事，因为它将适用于所有产品并将取代`checkout.xml`.

我只需要对某些特定产品进行此操作（没有送货上门选项。只能从商店取货）。

怎么做到呢？如果您知道在默认 magento 结帐页面中禁用帐单和送货地址的基本概念，请分享。

# ruby-on-rails - 立即访问结果时方法的不同行为

> ID：14453211
> 
> 赞同：1
> 
> 时间：2013-01-22T07:01:34.907
> 
> 标签：ruby-on-rails, ruby, mapreduce, mongoid

`Juxtaposition.generate_for(position)`我在从规范中调用的类上有一个类方法。该方法设置一个map reduce并调用它`map_reduce(map, reduce).out(merge: "juxtapositions")`

位置变量在 it 块之前的 le​​t 中定义。

执行时，如果我只是调用上面的函数（实际上只是在与位置相关的数据上调用 map reduce），那么下面的测试会失败：

```
Juxtaposition.count.should eq 1
Juxtaposition.first.value.should eq values 
```

但是，如果我打电话

```
Juxtaposition.generate_for(positions).first["value"].should eq values 
```

在这两个测试之前，它们都通过了。当我使用 pry 并`generate_for`从那里调用方法时，上述两个测试也通过了。

我应该注意 mongoid 中 map reduce 的一些奇怪行为吗？或者，有什么方法可以将结果强制到我以后的查询中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T23:14:16.533

解决方案很简单。我只需要确保在调用 map reduce 时调用 find。

进一步来说：

```
map_reduce(map, reduce).out(merge: "juxtapositions").first 
```

或者

```
map_reduce(map, reduce).out(merge: "juxtapositions").to_a 
```

如果没有 to_a 或 first ，实际的 map reduce 似乎不会执行，即使它打算存储在另一个集合中。

# django - 我不知道何时在 django.core.urlresolvers 模块中使用 reverse()

> ID：14453214
> 
> 赞同：1
> 
> 时间：2013-01-22T07:01:55.640
> 
> 标签：django, django-urls

我已阅读完Django URL 调度程序方法的[文档。](https://docs.djangoproject.com/en/1.4/topics/http/urls/#django.core.urlresolvers.reverse)`reverse()`

什么时候有用？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:09:48.097

该函数支持[干原则](https://docs.djangoproject.com/en/1.10/misc/design-philosophies/#don-t-repeat-yourself-dry)- 确保您不会在整个应用程序中对 url 进行硬编码。一个 url 应该在一个地方定义，而且只有一个地方 - 你的[url conf](https://docs.djangoproject.com/en/1.10/topics/http/urls/)。之后，您实际上只是在引用该信息。

用于`reverse()`为您提供页面的 url，给定视图的路径或`page_name`url conf 中的参数。如果在模板中使用`{% url 'my-page' %}`.

您可以在很多地方使用此功能。我发现我使用它的一个地方是在视图中重定向用户时（通常在成功[处理表单](https://docs.djangoproject.com/en/1.10/topics/forms/#processing-the-data-from-a-form)之后） -

```
return HttpResponseRedirect(reverse('thanks-we-got-your-form-page')) 
```

您也可以在编写模板标签时使用它。

我使用的另一次`reverse()`是模型继承。我有`ListView`一个父模型，但想从这些父对象中的任何一个获取`DetailView`它的关联子对象。`get__child_url()`我向父级附加了一个函数，该函数识别了一个子级的存在并返回了它正在`DetailView`使用的 url `reverse()`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-05-29T16:13:02.220

reverse() 函数在 django 中用于在您的视图中实现符合 DRY 的 url。[在这里](https://stackoverflow.com/questions/11241668/what-is-reverse-in-django%22%20%3E)找到更清晰的解释

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T07:04:14.460

当您想通过名称解析视图以及代码中 URL 的参数时，可以使用它。[`{% url %}`它是模板标签](https://docs.djangoproject.com/en/1.4/ref/templates/builtins/#url)的后端。

# angularjs - 在不同的元素上使用相同的控制器来引用相同的对象

> ID：14453216
> 
> 赞同：44
> 
> 时间：2013-01-22T07:02:05.310
> 
> 标签：angularjs

我想如果我`ng-controller="GeneralInfoCtrl"`在我的 DOM 中处理多个元素，它们会共享相同的`$scope`（或者至少双向绑定不起作用）。

我想这样做的原因是因为我在 HTML 的非常不同的部分有不同的只读视图以及关联的模式对话框，并且它们不共享一个共同的祖先（除了`<body>`和`<html>`）。

有没有办法让两个控制器都引用同一个对象/使它们之间的数据绑定工作？

* * *

***下面是一些用Jade****编写***的代码，供那些坚持查看标记的人使用：**

 **```
 .client-box(ng-controller="GeneralInfoCtrl")
        .box-header
            .box-title
                h5 General Information
            .box-buttons
                button.btn.btn-small(data-target='#editGeneralInfo', data-toggle='modal', data-backdrop='static') <i class="icon-pencil"></i> Edit
        .box-body
            table.table.table-tight.table-key-value
                tr
                    th Name
                    td {{client.fullName()}}
                tr
                    th Also Known As
                    td {{client.aka}}
                tr
                    th Birth Date
                    td {{client.birthDate|date:'mediumDate'}}
    ...

#editGeneralInfo.modal.hide.fade(ng-controller="GeneralInfoCtrl")
    .modal-header
        button.close(type='button', data-dismiss='modal') &times;
        h3 Edit General Information
    .modal-body
        form.form-horizontal.form-condensed
            .control-group
                label.control-label First Name
                .controls
                    input(type='text', placeholder='First Name', ng-model='client.firstName')
            .control-group
                label.control-label Last Name
                .controls
                    input(type='text', placeholder='Last Name', ng-model='client.lastName')
            .control-group
                label.control-label Also Known As
                .controls
                    input(type='text', placeholder='AKA', ng-model='client.aka')
            .control-group
                label.control-label Birth Date
                .controls
                    input(type='text', placeholder='MM/DD/YYYY', ng-model='client.birthDate')
... 
```

我的控制器：

```
function GeneralInfoCtrl($scope) {
    $scope.client = {
        firstName: 'Charlie',
        lastName: 'Brown',
        birthDate: new Date(2009, 12, 15),
        ...
    }
} 
```

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2013-01-22T15:41:35.760

每次 Angular 编译器在 HTML 中找到 ng-controller 时，都会创建一个新范围。（如果你使用 ng-view，每次你去不同的路线时，也会创建一个新的范围。）

如果您需要在控制器之间共享数据，通常服务是您的最佳选择。将共享数据放入服务，并将服务注入控制器：

```
function GeneralInfoCtrl($scope, MyService) { 
```

然后每个作用域/控制器实例将能够访问共享数据。

请注意，服务是单例的，因此您的共享数据只有一个实例。

这是一个[小提琴](http://jsfiddle.net/whnSs/)（不是我写的），展示了两个控制器如何共享数据。

另请参阅[AngularJS：如何在控制器之间传递变量？](https://stackoverflow.com/questions/12008908/pass-variables-between-controllers)和
[Angularjs：两种方式数据绑定和控制器重载](https://stackoverflow.com/questions/13840489/angularjs-two-way-data-bindings-and-controller-reload)。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-01-22T07:16:50.493

只需将共享数据放在根范围内，您就可以在任何地方使用它们。在 Angular`$rootScope`中是所有作用域的根，可以在控制器中用于管理必须在所有模块中可见的数据。要使用它，只需将其注入控制器功能。有关详细说明，请参阅[Angular 开发人员指南](http://docs.angularjs.org/guide/scope)和[API 文档](http://docs.angularjs.org/api/ng.$rootScope)。**

# backbone.js - Backbone.js - 更改名称更改时不会触发

> ID：14453219
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:02:16.243
> 
> 标签：backbone.js, backbone-views

在我的主干功能中，虽然名称得到更改，但更改功能根本没有触发..任何人都建议我获取它的正确方法..（实际上我需要更改内容并需要更新）；

代码 ：

```
 (function($){

var list = {};

list.model = Backbone.Model.extend({
  defaults:{
    name:'need the name'
  },
  initialize:function(){
    this.bind('change:name', function(model) {
        console.log('Model->change()', model);
    });
  }
});

list.collect = Backbone.Collection.extend({
  model:list.model,
  url : 'data/names.json',
  initialize:function(){
    this.fetch({update:true});
    this.keepUpdate();
  },
  keepUpdate:function(){
    var that = this;
    var updateData = function(){
      that.fetch({update:true});
      myTimeout = setTimeout(updateData,10000);
    }
    var myTimeout = setTimeout(updateData,10000);
  }
});

list.view = Backbone.View.extend({
  initialize:function(){
    this.collection = new list.collect();
    this.collection.on("update", this.render, this);
    this.collection.bind("change:name", function(model, attributes){
      console.log(model,attributes,'property changed'); // this is not triggering at all..
    });
  },
  render:function(data){
    _.each(this.collection.models, function(data){
      //console.log(data.get('name')); it works fine
    })
  },
  updateName:function(){
    console.log('updated called');
  }
});

var newView = new list.view();    

})(jQuery) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:17:02.897

Collection.fetch 不会触发`change`事件。你只会得到这个`reset`事件。如果您需要更精细的事件，请考虑[`fetch`](http://backbonejs.org/#Collection-fetch)使用 options调用`{update:true}`。

```
that.fetch({update:true}); 
```

`change`这将为已经在集合中的每个模型触发事件，`add`如果该模型以前不在集合中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T09:22:56.233

尝试从集合中删除 keepUpdate 并在最后的视图的初始化函数中放置一个 setTimeout。我建议从视图调用 fetch 以及 this.collection.fetch() 而不是集合的初始化函数。使您的代码更具可重用性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T15:13:08.903

我不确定我是否理解你的问题。你想达到什么目的？

我不认为 fetch 接受`{add:true}`作为参数（我只是检查了源代码，它没有出现在任何地方）。

完成`fetch`后，它只会触发一个`reset`事件（而不是`add`）。如果您想在集合的内容发生变化时做某事，您应该听一下。还可以简化收听`change`。

# jquery - 带有缩略图的 Jquery 下拉菜单

> ID：14453224
> 
> 赞同：0
> 
> 时间：2013-01-22T07:02:52.147
> 
> 标签：jquery, html, css, drop-down-menu, menu

如何制作或任何可用的插件，如此类下拉菜单[http://www.vivantabytaj.com](http://www.vivantabytaj.com)（下拉菜单内的小图像）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:07:21.807

它实际上只是 CSS，如果你愿意，你可以使用 jQuery，但你的大部分请求都可以由 CSS 处理。您可能想要使用 jQuery 的唯一一件事是动画效果。

所以我会做这样的事情：

HTML：

```
<div class="nav">
   <ul>
      <li><a href="#">some link</a>
          <ul>
              <li>
                 <img arc="someimage.jpg" />
                 <p>some text you want to display</p>
              </ul>
          </ul>
      </li>
   </ul>
</div> 
```

CSS：

```
.nav ul ul { display: none; }
.nav img { float: left; }
.nav p { float: right; } 
```

jQuery

```
$(".nav li").on("click", function(){
   $( this ).children("ul").slideToggle(500);
}); 
```

您可能还想通过定义图像宽度或高度或两者来限制图像大小，但这将是一个很好的起点。还要确保包含 jQuery 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:52:22.457

@Tom Bird第二级ul标签的sintax有错误。（应该是评论）。

你也可以使用这个插件来自动化这个：[Hover Flow Plugin](http://www.2meter3.de/code/hoverFlow/)

它非常易于使用。您只需向主 ul 标记添加一些类即可触发插件。阅读文档。

# ssl - IBM Worklight 如何实现 HTTPS 适配器？

> ID：14453233
> 
> 赞同：0
> 
> 时间：2013-01-22T07:03:39.783
> 
> 标签：ssl, ibm-mobilefirst

我正在构建一个向服务器发送 HTTPS 请求的 Worklight 适配器。

使用 Firefox 之类的 Web 浏览器，我可以通过添加异常来发送请求，但我不知道如何在 Worklight 适配器中执行此操作。

问题：实施它的步骤是什么？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:39:14.083

将 http 更改为 https 很简单，您需要更新适配器 XML 文件中的协议和端口元素。

但是，如果您正在谈论向受自签名证书保护的后端发出请求，您需要实现这一点 - [IBM Worklight Server 和自签名证书](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/index.jsp?topic=%2Fcom.ibm.worklight.help.doc%2Fadmin%2Ft_ibm_worklight_server_and_self-signed_certificates.html)

# jquery - MVC 4 Internet project JSON error after upgrade to jQuery 1.9

> ID：14453235
> 
> 赞同：4
> 
> 时间：2013-01-22T07:03:45.697
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-4

In Visual Studio 2012 I created an MVC 4 project using the Internet template, when I then update jQuery to the current version of 1.9 I get a jQuery error when attempting to log in to the generated web application. This error only occurs in IE (I'm running IE 10) and appears to be due to differences in the JSON parsers across the different browsers.

So what I need to work out is, how can we use the MVC 4 Internet template and yet still be able to update to jQuery 1.9.

Here's the steps to repro the error;

*1:* Create a new MVC 4 project using the Internet project template - the template uses jQuery 1.7.1.1 and works fine, I can register as a new user and sign in etc.
*2:* Now update jQuery, jQuery validation and jQuery UI to the latest versions (currently 1.9.0, 1.10.0 and 1.10.0 respectively).
*3:* Run the app and switch to the sign in page. This page generates an error in the following jquery.unobtrusive-ajax.js code;

```
 $("a[data-ajax=true]").live("click", function (evt) {
    evt.preventDefault();
    asyncRequest(this, {
        url: this.href,
        type: "GET",
        data: []
    });
}); 
```

*4:* OK though, no problem, live() was removed in jQuery 1.9 so I include the jQuery migration script [jquery-migrate-1.0.0.js](https://github.com/jquery/jquery-migrate/).
*5:* I re-run the application and now get an error when I sign in parsing JSON in jquery-1.9.0.js. The error is in the parseJSON method;

```
 parseJSON: function( data ) {
    // Attempt to parse using the native JSON parser first
    if ( window.JSON && window.JSON.parse ) {
        return window.JSON.parse( data );
    }... 
```

The error is caused by 'undefined' being passed to parseJSON and thus in IE window.JSON.parse throws an error where no error is thrown in other browsers.

So the question is, what would be an acceptable workaround to get the MVC 4 Internet template working with jQuery 1.9 on IE?

Incidentally, here's the partial parseJSON method from [jQuery 1.8](http://code.jquery.com/jquery-1.8.3.js) which explains why there was no error previously.

```
 parseJSON: function( data ) {
    if ( !data || typeof data !== "string") {
        return null;
    }... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T22:55:49.303

JQuery has been deprecated a number of features. You might be interested in this:

[https://github.com/jquery/jquery-migrate/#readme](https://github.com/jquery/jquery-migrate/#readme)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-23T15:24:44.957

The answer might be in this link. [http://forum.jquery.com/topic/parsejson-in-1-9-0-is-different-from-earlier-versions](http://forum.jquery.com/topic/parsejson-in-1-9-0-is-different-from-earlier-versions) It seems like the MVC team is planning to fix it in the next release. I hope this helps.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T23:38:15.013

With ASP.NET and Web Tools 2012.2 release (download from [http://www.asp.net/vnext](http://www.asp.net/vnext)), it should be fixed with an updated jquery.validate.unobtrusive.js.

# angularjs - AngularJS - 在正确范围内评估指令的选项

> ID：14453244
> 
> 赞同：3
> 
> 时间：2013-01-22T07:04:24.557
> 
> 标签：angularjs

角新手在这里。试图围绕指令、范围、嵌入等等。

这就是我想要实现的目标——单元格中的每个表格都需要根据单元格内的值进行颜色编码（更改 bgcolor 或添加特定的 CSS 类）。复杂之处在于该单元格没有裸值-它还有其他位和小玩意。因此，在单元格内，我希望能够添加自定义 HTML。

这是我的模板的样子：

```
<span color-codify="{'max' : object.max, 'value' : object.value}" ng-transclude>
  {{ object.value }}
  <a href="#">Edit</a> | <a href="#">Delete</a>
</span> 
```

这是我的指令的样子：

```
myModule.directive('colorCodify', function() {
  return {
    restrict: 'A',
    transclude: 'true',
    'link' : function(scope, element, attrs, controller) {
      var opts = scope.$eval(attrs.colorCodify);
      console.log(opts); // THIS DISPLAYs {max: undefined, value: undefined} 
    }
  }
}); 
```

令人惊讶的部分是，即使`{{ object.value }}`在`<span>`元素内正确呈现，它也没有被正确地传递给指令。但是，如果我提到`$parent`它可以正常工作。例子：

```
<span color-codify="{'max' : $parent.object.max, 'value' : $parent.object.value}" ng-transclude></span> 
```

这是怎么回事？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:12:03.900

```
<span color-codify="{'max' : object.max, 'value' : object.value}" ng-transclude>
  {{ object.value }}
  <a href="#">Edit</a> | <a href="#">Delete</a>
</span> 
```

.

```
myModule.directive('colorCodify', function() {
  return {
    restrict: 'A',
    transclude: 'true',
    scope: {getOpts: "&colorCodify"},
    'link' : function(scope, element, attrs, controller) {
      var opts = scope.getOpts();
      console.log(opts);
    }
  }
}); 
```

有关更多信息，请查看[http://docs.angularjs.org/guide/directive中的指令定义对象部分](http://docs.angularjs.org/guide/directive)

## 关于 $parent 的编辑：

我想您需要阅读更多关于范围如何以角度工作的信息（它们如何相互继承以及它们如何覆盖这些继承的属性）。这将是 angularjs 中最重要的方面之一。我建议您点击链接并一遍又一遍地阅读它们，直到您得到它。

[ngScope 文档参考](http://docs.angularjs.org/api/ng.%24rootScope.Scope "API 范围")
[开发人员指南](http://docs.angularjs.org/api/ng.%24rootScope.Scope)
奖励（来自 angularjs 团队的视频，讨论 angularjs 的最佳实践）：
[Youtube](http://www.youtube.com/watch?v=ZhfUv0spHCY)

# postgresql - 使用 PostgreSQL 生成 json

> ID：14453245
> 
> 赞同：2
> 
> 时间：2013-01-22T07:04:27.260
> 
> 标签：postgresql, postgis

我有 postgreSQL 8.4+PostGIS 1.5。

我想生成 GeoJson。我愿意：

```
SELECT row_to_json(fc)
 FROM ( SELECT 'FeatureCollection' As type, array_to_json(array_agg(f)) As features
 FROM (SELECT 'Feature' As type
, ST_AsGeoJSON(lg.the_geom)::json As geometry
, row_to_json(lp) As properties
   FROM parcels_temp As lg 
     INNER JOIN (SELECT num, cadastr FROM parcels_temp) As lp 
   ON lg.num = lp.num  ) As f )  As fc; 
```

但是得到一个错误：

```
 ERROR:  type "json" does not exist
 LINE 4:     , ST_AsGeoJSON(lg.the_geom)::json As geometry 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-22T07:35:44.087

PostgreSQL 8.4中没有`json`数据类型。该类型是在 9.2 中引入的，尽管创建了到 9.1 的反向移植；看到[这个 bitbucket](https://bitbucket.org/adunstan/json_91)。

使用`text`. `json`无论如何，它只是`text`类型的验证包装器，有趣的是类似的功能`row_to_json`- 这些功能在 8.4 中*也不*可用。

如果你不能使用`text`——比如说，因为你正在使用期望的 3rd 方代码`json`，或者因为你需要 json 函数——那么是时候升级 PostgreSQL 了。无论如何，8.4 已经变得相当老了，PostGIS 1.5 也是如此。

# c# - C# 表单元素的动态命名

> ID：14453248
> 
> 赞同：2
> 
> 时间：2013-01-22T07:04:31.760
> 
> 标签：c#, winforms

我的应用程序需要能够动态创建新的表单元素并使用它们。现在我有一个面板，里面有按钮和标签。我需要能够复制它并在我的应用程序中显示它，然后使用它。

例如，我有 panel1。里面是 label1、button1 和 button2。标签 1 只是按秒计数。当您单击 button1 时，label1 开始计数。当您单击按钮 2 时，计时器停止。我的问题是我需要能够多次复制 panel1 并且仍然让新按钮与正确的标签相对应。

上`button_click`

```
private void button1_Click(object sender, EventArgs e)
{
   Button theSender = (Button)sender;
   Panel parentPanel = (Panel)theSender.Parent;
} 
```

从这里开始，我无法定位任何子控件。我习惯于在 jQuery 中定位和处理，所以我什至不知道如何解释自己的正确 C# 术语。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:17:13.557

如果正确理解您的问题，我建议您用 a 制作 a`Usercontrol`并用您的,`Panel`等填充它。在用户控件中为您的按钮编写事件。然后在您的表单中引入此用户控件，它应该可以工作。您可以在表单中引入任意数量的用户控件，并且每个按钮将仅针对该用户控件中的标签运行/工作。`Label``Button`

正如您提到的，您是 winforms 的新手，您不确定我在说什么，请告诉我，如果我有足够的时间，我会提供帮助。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:17:16.583

可以使用 Control.Contrtols 集合访问控件的子项，例如访问表单上的按钮：

```
Button btn = this.Controls["button1"]; 
```

但这只有在 button1 直接放置在您的表单上并且 button1.Name 属性设置为“button1”时才是正确的（设计人员会自动执行此操作，如果您正在动态创建控件，则必须自己命名控件。）

您还可以枚举任何控件的子控件，例如 panel1 的子控件：

```
foreach(Control c in panel1.Controls)
{
// do something, e.g.
   if(c is Label){//do sth...}
   if(c.Name.Equals("label1") && c is Label)
   {
      Label l = c as Label;
   }
} 
```

正如@rapsalands 所说，UserControl 可能是您的答案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:18:47.360

我会为此创建一个用户控件（[UserControl](http://msdn.microsoft.com/en-us/library/system.windows.forms.usercontrol.aspx)）。查看本文以获取有关[Control 和 UserControl 之间区别](https://stackoverflow.com/questions/921278/control-vs-usercontrol-in-winforms)的更多说明。

控件和用户控件很容易复制，并且功能齐全。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T09:27:24.493

所以你是一个初学者，需要一些时间来理解`Usercontrol`，正如我在之前的回答中提到的那样。`Constructor`在表单的or事件中使用 for 循环`Load`来动态生成控件。

```
Panel panel;
Label label;
Button button1;
Button button2;

for(int i = 0; i > count; i++)
{
    panel = new Panel();
    button1 = new Button();
    button2 = new Button();
    label = new Label();

    panel.Controls.Add(button1);
    panel.Controls.Add(button2);
    panel.Controls.Add(label);
    Controls.Add(panel);

    button1.Click += Event1;
    button2.Click += Event2;
}

private void Event1()
{
    label.Text = "Button 1 Clicked."
}
private void Event2()
{
    label.Text = "Button 2 Clicked."
} 
```

通过这种方式，您当然可以创建任意数量的控件，并且也可以达到您的目的。使用一些变量来适当地定位面板控件。设置您希望在 for 循环中为控件添加的任何属性。

这只是我之前答案的替代方案。我仍然推荐我之前给出的答案。此代码是虚拟的，未经测试。

希望能帮助到你。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:33:03.427

您可以像创建任何其他对象一样在代码中创建新的 UI 控件：`Button b = new Button();`

然后您可以使用将它们添加到表单中`form.Controls.Add(b)`。您还需要定位和调整控件的大小（有可用的属性）并使用`b.Clicked += form.button_click;`.

要查看这方面的示例，您可以尝试查看在 Visual Studio 中生成的 Designer.cs 文件（不要对其进行更改，只需查看）。起初它看起来相当复杂，但可能有助于揭开 Windows 窗体的神秘面纱，并且您将能够找到您需要在其中设置的所有属性。

每当您在设计器中更新某些内容时，Visual Studio 都会生成新代码并将其放入 Designer.cs 文件中。整个表单在方法中设置，该`InitializeComponent()`方法从表单的构造函数中调用。您应该能够复制其中的一些代码，并通过一些修改使用它来创建您自己的动态 UI 元素。

正如 rapsalands 所说，听起来用户控件在这种情况下很有用，因为它有助于封装您所追求的功能。但是，这可能需要一些时间来了解您的想法，您可能会发现现在在表单中执行所有操作而不创建新控件更简单。

# jquery - Jquery对话框按钮单击不起作用

> ID：14453252
> 
> 赞同：1
> 
> 时间：2013-01-22T07:05:21.063
> 
> 标签：jquery, jquery-ui, jquery-dialog

我有一个这样的 JQuery 对话框。

```
 <div id="dialog-form" title="TEST">
         <button id="button1" >BUTTON</button>
  </div> 
```

我的对话框初始化脚本工作正常，我可以用这个脚本打开对话框

```
 .....
      $("#dialog:ui-dialog").dialog("destroy");

        $("#dialog-form").dialog({
            autoOpen: false,
            height: 480,
            width: 780,
            modal: true,
            buttons: {
                Cancel: function () {
                    $(this).dialog("close");
                }
            },
            close: function () {
                $("#dialog-form").hide();
            }
        });
        $("#dialog-form").dialog("open");
    ..... 
```

但是，当我试图获得带有 id 的按钮的点击时，`button1`我无法获得

```
 $(function () {
        $("#dialog-form").hide();
        $("#button1").click(function (e) {
            alert('clicked Button 1');
            e.preventDefault();
        });
    }); 
```

难道我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:32:56.180

尝试这个：

```
$('body').on('click','#button1',function (e) {
    alert('clicked Button 1');
    e.preventDefault();
}); 
```

不是 100% 确定这是否有效，但由于您使用的是对话框方法，我认为对话框本身是在加载文档并执行函数之后创建的。

# vb.net - 检查选择了哪个项目？

> ID：14453255
> 
> 赞同：0
> 
> 时间：2013-01-22T07:05:29.487
> 
> 标签：vb.net, datagridview

我尝试检查在`DataGridViewComboBoxCell`

```
Dim status As Double
    For x As Integer = 0 To ATCGRID.Rows.Count - 1
        If ATCGRID.Rows(x).Cells(2).Value = "Full" Then
            status = 1
        ElseIf ATCGRID.Rows(x).Cells(2).Value = "Empty" Then
            status = 0
        ElseIf ATCGRID.Rows(x).Cells(2).Value = "Half" Then
            status = 0.5
        End If
        MessageBox.Show(status)
    Next x 
```

但它得到错误

```
Conversion from string "Full" to type "Double" is not valid. 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T01:07:28.610

尝试解析您的类型数据库，

```
 Dim strSQL As String = "INSERT INTO ATTENDANCE(EMP_ID,EMP_NAME,AT_DATE,AT_STATUS,AT_REMARK)VALUES(@EMP_ID,@EMP_NAME,@AT_DATE,@AT_STATUS,@AT_REMARK)"
        query = New SqlCommand(strSQL, Conn)
        query.Parameters.Add("@EMP_ID",SqlDbType.Decimal)
        query.Parameters.Add("@EMP_ID").Value=id
        query.Parameters.Add("@EMP_NAME",SqlDbType.Varchar,100)' Parse your length 
        query.Parameters.Add("@EMP_NAME").Value=name
        query.Parameters.Add("@AT_DATE",SqlDbType.Date)
        query.Parameters.Add("@AT_DATE").Value=atdate
        query.Parameters.Add("@AT_STATUS",SqlDbType.Decimal)
        query.Parameters.Add("@AT_STATUS").Value=status
        query.Parameters.Add("@AT_REMARK",SqlDbType.Varchar,50)
        query.Parameters.Add("@AT_REMARK").Value=name 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:24:21.350

单元格`Value`中的 是一个数字，因此无法以这种方式进行比较。尝试这个：

```
If ATCGRID.Rows(x).Cells(2).Value.ToString() = "FULL" Then 
```

# c# - jQuery 与 Asp.net 中的 db 连接

> ID：14453256
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:05:35.237
> 
> 标签：c#, jquery

**我正在使用 jquery 进行幻灯片放映。但我想要 db 中的图像 url 和描述如何连接 jquery 和 db Like** var imagesDataArray =[

```
{
src: 'images/bonsai.jpg',           
description: 'Test Description'        
 },        
{    
src: 'images/3.jpg'    
},    
{    src: 'images/forrest.jpg',     
description: 'Test description'    
}, 
{ 
src: 'images/leaves.jpg',
description: 'Test description'  
},  
{  
 src: 'images/village.jpg',  
description: 'Test description', 
 } 
]; 
```

jQuery（函数（）{

```
$('#unhookshow').shockwave(imagesDataArray, {
 'slider-type': 'UnhookedSlider',
 'random-time-to-unhook': 1500, // in ms 
 'free-fall-time': 150, // ms 
'autostart-slideshow': true,
'maximum-slideshow-cycles': 2, 
'slideshow-delay': 2000,
'duration': 100,.....
} 
```

**强文本**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:09:01.350

您可以执行该任务，但您需要为此执行 ajax 调用 .. 这会为您带来来自服务器的图像列表。

这是帮助您实现它的帖子列表

1.  [使用 jQuery 调用 WCF 服务的步骤](http://pranayamr.blogspot.ca/2010/12/steps-to-call-wcf-service-using-jquery.html)
2.  [从客户端脚本调用服务器端函数](http://pranayamr.blogspot.ca/2012/01/calling-server-side-function-from.html)
3.  [Jquery Ajax 调用函数](http://pranayamr.blogspot.ca/2011/07/jquery-ajax-calling-functions.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:09:18.850

使用[ajax()](http://api.jquery.com/jQuery.ajax/)或[post()](http://api.jquery.com/jQuery.post/) ... 将数据发送到服务器 .. 连接到服务器中的 db .. 并获取图像

> $.ajax=>执行异步 HTTP (Ajax) 请求。
> 
> $.post()=>使用 HTTP POST 请求从服务器加载数据。

# php - 发送 foreach 循环 PHP 和 JSON

> ID：14453257
> 
> 赞同：0
> 
> 时间：2013-01-22T07:05:37.263
> 
> 标签：php, jquery, json

我不确定我哪里出错了，但是当我使用这个邮件功能时：

```
 <?php
function printMember($member) {
    foreach($member as $key=>$value) {
        echo "$key : $value <br />";
    }
}

$to = 'email@address.co.za';

$subject = 'Application Form';

$headers = "From: " . strip_tags($_POST['req-email']) . "\r\n";
$headers .= "Reply-To: ". strip_tags($_POST['req-email']) . "\r\n";
$headers .= "BCC: email@address.co.za\r\n";
$headers .= "MIME-Version: 1.0\r\n";
$headers .= "Content-Type: text/html; charset=ISO-8859-1\r\n";

$json = $_POST['parameters'];
$json_string = stripslashes($json);
$data = json_decode($json_string, true);

$depCount = count($data["dependants"]);

$msg .= "<h2>Main member data:</h2>";
$msg .= printMember($data["mainmember"]);

$msg .= "<h2>There are $depCount Dependants</h2>";

foreach ($data["dependants"] as $index => $dependant) {
   $msg .= "<h2>Dependant $index</h2>";
   $msg .= printMember($dependant);
}

 mail($to, $subject, $msg, $headers); 
```

它返回：

```
Main member data:
There are 3 Dependants
Dependant 0
Dependant 1
Dependant 2 
```

而不是（如控制台中所示）：

```
Main member data:
name : name
surname : surename
id : 6110190027087
age : 51
gender : Female
townofbirth : george
email : naem@gmail.com
contact : 0512148615
passport : 1111111111111
postal : test
postal_code : 4545
residential : test
residential_code : 4545

There are 1 Dependants
Dependant 1
name : dep1
surname : dep1
id : 8202255133088
age : 30
gender : Male
townofbirth : dep1
cell : 0145264448
email : dep1
passport : 2222222222222
relationship : parent 
```

这是 JSON：

```
{
    "mainmember": {
        "name": "name",
        "surname": "surename",
        "id": "6110190027087",
        "age": "51",
        "gender": "Female",
        "townofbirth": "george",
        "email": "naem@gmail.com",
        "contact": "0512148615",
        "passport": "1111111111111",
        "postal": "test",
        "postal_code": "4545",
        "residential": "test",
        "residential_code": "4545"
    },
    "dependants": [
        {
            "name": "dep1",
            "surname": "dep1",
            "id": "8202255133088",
            "age": "30",
            "gender": "Male",
            "townofbirth": "dep1",
            "cell": "0145264448",
            "email": "dep1",
            "passport": "2222222222222",
            "relationship": "parent"
        }
    ]
} 
```

我确实得到了答案：[Parsing Duplicatable Form's JSON data to PHP for Mail](https://stackoverflow.com/questions/14436562/parsing-duplicatable-forms-json-data-to-php-for-mail/)

但只是不是实际的邮寄..

非常感谢任何帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:35:58.817

问题出在`printMember()`函数上，你正在做`echo`并且没有返回任何东西：像这样更新你的 printMember 函数：

```
function printMember($member) {
    foreach($member as $key=>$value) {
        //Fill the aux string first
        $str.= "$key : $value <br />";
    }
    //string that will be added to $msg variable inside the loop
    return $str;
} 
```

# javascript - Data.filter 在 IE 8 中不起作用？

> ID：14453259
> 
> 赞同：0
> 
> 时间：2013-01-22T07:05:52.893
> 
> 标签：javascript, jquery, html, internet-explorer

```
 countImage = data.filter(function(value) { return value !== undefined }).length; 
```

Object的这个语句返回错误**不支持这个属性或方法**，如何解决这个问题？谢谢

**更新**，数据是从 ajax 获取的，它是一个使用 json 编码的数组

```
$imgArray[] = $dir.DIRECTORY_SEPARATOR.$file.DIRECTORY_SEPARATOR.'Pv'.$filePadded.'.png';
die(json_encode($imgArray));

data: {'data':issueString}, 
                success: function (data) {
                    countImage = data.filter(function(value) { return value !== undefined }).length;

.......... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:17:40.563

`array.filter()`不适用于 IE < 10，它在 Chrome、FF 和[IE 10](http://msdn.microsoft.com/en-us/library/ie/ff679973%28v=vs.94%29.aspx)中可用。因此您需要使用其他一些替代方法来过滤数组。

您可以使用[jQuery.grep](http://api.jquery.com/jQuery.grep/)代替 fitler 方法

代码

```
var a = [1, 2, 3, 4, 5, undefined, 6, 7, undefined, 8];
alert(a.length);
var arr = jQuery.grep(a, function(n, i){
  return n != undefined;
});

alert(arr.length); 
```

[小提琴](http://jsfiddle.net/arunpjohny/wwPC2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:20:09.267

你得到的是一个 javascript 数组而不是一个 jquery 对象，所以你正在调用[Array.prototype.filter](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/filter)方法。

如果您看到 IE 的兼容性，就会提到它在 IE9+ 中受支持。

在该页面中，还有一种方法可用于不支持**Array.prototype.filter的浏览器**

```
if (!Array.prototype.filter)
{
  Array.prototype.filter = function(fun /*, thisp */)
  {
    "use strict";

    if (this == null)
      throw new TypeError();

    var t = Object(this);
    var len = t.length >>> 0;
    if (typeof fun != "function")
      throw new TypeError();

    var res = [];
    var thisp = arguments[1];
    for (var i = 0; i < len; i++)
    {
      if (i in t)
      {
        var val = t[i]; // in case fun mutates this
        if (fun.call(thisp, val, i, t))
          res.push(val);
      }
    }

    return res;
  };
} 
```

# .net - rdlc 报告中省略字符

> ID：14453263
> 
> 赞同：0
> 
> 时间：2013-01-22T07:06:31.577
> 
> 标签：.net, report, rdlc

我创建了一个 rdlc 报告（语言阿拉伯语-RTL），使用了“Arial 字体”。在布局模式和打印报表时，一些字符被省略。一些建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T04:58:47.057

不要使用 Arial 字体，使用 Tahoma。

# php - 当 display_errors 关闭时调试 PHP 脚本

> ID：14453266
> 
> 赞同：2
> 
> 时间：2013-01-22T07:07:00.447
> 
> 标签：php, debugging

当 display_errors 关闭并且 PHP 在安全模式下运行时，我们如何调试 PHP 脚本？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-22T07:12:16.147

最好的方法是使用 error_log() [http://php.net/manual/en/function.error-log.php](http://php.net/manual/en/function.error-log.php) 您可以为该方法设置特定的处理程序。将其记录到数据库、文件或简单地显示错误。

如果要设置处理程序方法，可以使用：[set_error_handler](http://php.net/manual/en/function.set-error-handler.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:15:31.967

如果您在开发环境中，您应该禁用`safe_mode`和启用`error_reporting`. 在生产环境中，您可能不应该进行实时调试（因为它是实时的）。如果您想跟踪似乎*只*存在于生产环境中的错误，请使用`error_log`，或使用您正在使用的框架的日志记录机制，然后检查日志。这样您就不会破坏生产环境的正常运行。一些框架，比如`symfony`提供一个单独的接口来在另一个环境中访问您的系统（例如访问`index.php`已禁用错误报告但`frontend_dev.php`没有）

如果您没有单独的生产和开发环境，那么是时候将两者分开了。例如，您可以安装`XAMPP`或类似于您的开发 PC，您可以在其中进行开发，并且仅在您已经调试/测试/等您的代码时才部署到实时服务器。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:11:54.337

你可以使用它：

```
error_reporting(E_ALL);
ini_set('display_errors','On');
ini_set('error_log','my_file.log'); 
```

PHP 将日志文件写入文件。

如果您不能启用显示错误指令，您可以使用 var_dump、debug_backtrace 和异常来调试 php 源代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:08:41.117

> “每当您想在打印语句或调试器表达式中键入某些内容时，请将其写为测试”
> 
> ——马丁·福勒

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:10:57.113

当错误显示关闭时，我们只能使用`echo $var; exit;`OR调试代码`var_dump($list); exit;`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-22T07:11:05.473

```
var_dump($variable);
exit; 
```

或者

```
echo $variable;
exit; 
```

或者

```
echo "<pre>";
print_r($variable);
exit; 
```

# java - 调用构造函数是否意味着创建对象？

> ID：14453270
> 
> 赞同：16
> 
> 时间：2013-01-22T07:07:23.503
> 
> 标签：java, constructor, abstract-class

当我们创建一个扩展抽象类的子类对象时，抽象类构造函数也运行。但是我们知道我们不能创建抽象类的对象。那么是不是意味着即使构造函数无异常运行完毕，也不能保证对象是否被创建？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-01-22T07:14:25.270

> 那么是不是意味着即使构造函数无异常运行完毕，也不能保证对象是否被创建？

简单来说， a`constructor`不会创建对象。它只是*初始化*对象的*状态*。它是`new`创建对象的操作员。现在，让我们稍微详细了解一下。

当您使用这样的语句创建对象时：

```
new MyClass(); 
```

对象首先由`new`操作员创建。就在对新创建对象的引用作为结果返回之前，处理指示的构造函数以初始化新对象。

* * *

现在考虑`Abstract class`and it's specific的情况`SubClass`，当你这样做时：

```
AbstractClass obj = new ConcreteClass(); 
```

`new`运算符创建 的对象`ConcreteClass`，并调用其构造函数来初始化创建对象的状态。在这个过程中，也从构造函数中调用抽象类的`ConcreteClass`构造函数，来初始化抽象类中对象的状态。

所以，基本上`AbstractClass`没有创建对象。只是调用它的构造函数来初始化对象的状态。

**得到教训：**

*   对象是由`new`运算符创建的，而不是由构造函数本身的调用创建的。***因此，在调用任何构造函数之前已经创建****了对象。*

***   构造函数只是用来初始化创建的对象的状态。它本身不会创建对象。

    *   对象状态也可以包含在抽象超类中。

    *   所以，调用`Abstract class`构造函数的目的，只是为了完全初始化对象，过程中没有对象被创建。**

 ****看：**

*   [创建新的类实例 - JLS-Section#12.5](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.5)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T07:12:15.520

> 但是我们知道我们不能创建抽象类的对象

没错，但 JVM 可以。

> 是不是说即使构造函数无异常运行完毕，也不能保证对象是否被创建？

该对象肯定是在内部创建的。

> 调用构造函数是否意味着创建对象？

不总是。您可以使用调用构造函数`super()`，`this()`但它不会实例化对象。（但只会调用构造函数）

```
class AClass
{
    AClass()
    {
        this(1); // will invoke constructor, but no object instatiated.
    }

    AClass(int a)
    {

    }

    public static void main(String[] args)
    {
        AClass obj = new AClass(); // one object instantiated.
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T07:10:27.720

除非有任何例外，否则抽象类构造函数仅在子类的构造函数中运行（作为第一条语句）。因此，您可以确定每次运行构造函数时，它都处于创建对象的过程中。

也就是说，在创建单个对象的过程中，您可能会调用多个构造函数，例如通过`Subclass()`调用调用`Subclass(String)`哪个调用等等。`AbstractClass``super()`

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-22T07:13:17.797

`Subclass == BaseClass + Extras you add in sub class`

因此，当您通过调用其构造函数创建子类时，还会调用基类构造函数以确保（基类的）所有属性也正确初始化。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:10:19.763

您只能将抽象类构造函数作为**具体子类构造函数的一部分来**调用。这没关系，因为**抽象类被扩展为具体类**，并且它是正在创建**的具体类的对象。**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-22T07:12:30.763

当您调用子类的构造函数时，流程是这样工作的：

1.  抽象类的构造函数运行 --> 对象在这里初始化了一半。
2.  子类的构造函数完成执行 --> 对象已完全初始化，因此在此处完全创建。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-22T07:14:11.587

当您使用 调用构造函数时`new`，正在创建一个新对象。

现在，您可能已经知道，任何子类的每个构造函数，无论是隐式还是显式，直接或间接地调用父类的构造函数（反过来，它从*自己的*父类调用一个构造函数，一直到对象）。这称为构造函数链接。

但是，上述内容并不意味着创建了多个对象。该对象已在`new`调用时创建，并且在该对象上工作的所有构造函数都已分配给一个分配区域。因此，构造函数链接不会创建新对象。一次调用`new`将返回一个对象。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-12-05T11:16:00.090

我完全不同意无法创建抽象类的对象，只有 jvm 才能在继承的情况下做到这一点，即使程序员有时也可以通过使用匿名类的概念在他/她打算这样做的任何时间或任何地方这样做: 看看这段代码，自己试试

```
abstract class Amit{ 
void hai()
{System.out.print("Just Wanna say Hai");}
abstract void hello();
}
class Main{
stic public void main(String[]amit)
{
Amit aa=new Amit(){
void hello(){Sstem.out.print("I actually dont say hello to everyone");
}};
aa.hello(); }} 
```**

# ruby-on-rails - rails s 命令创建新项目和 gem rails 3 和 rails -v 冲突

> ID：14453277
> 
> 赞同：2
> 
> 时间：2013-01-22T07:07:36.873
> 
> 标签：ruby-on-rails, gem, webrick

`rails s`

命令在项目目录中创建新项目而不是启动服务器。

我在我的系统中安装了 rails，但它显示出意外的行为，因为创建项目而不是启动服务器。

我通过运行 gem list | 在我的系统中看到 grep rails 命令它显示 rails 3.2.11 但是当我看到 using rails -v 然后它显示 rails 2.3.11

所以在运行的rails上它选择rails 2

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T07:11:58.020

请检查您的 rails 版本。绝对是 < 3。

所以使用`ruby script/server`而不是 rails s。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T07:41:57.287

谢谢@Gosavi 和@boulder

你的解决方案也很有价值，但我的问题已经解决了

我的应用程序指向默认 gemset，所以我为我的应用程序创建了新的 gemset

创建新的 gemset

```
rvm --rvmrc --create 1.9.3@project_name 
```

列出可用的宝石：

```
rvm gemset list 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-25T20:06:38.877

您将运行在 PATH 中找到的第一个版本的 rails。您始终可以[更改路径环境变量](http://java.com/en/download/help/path.xml)，以便它首先找到 rails 3.2.11，但如果您尝试在系统上管理多个版本的 rails/ruby，我建议您使用[rvm](https://rvm.io/)或 rbenv。

# jquery - 无法使用 jquery 更改日期选择器列的 css

> ID：14453294
> 
> 赞同：1
> 
> 时间：2013-01-22T07:08:39.083
> 
> 标签：jquery, jquery-ui

我有一个问题：我正在使用 jQuery datepicker，我想将周日和周六的所有单元格涂成红色，但我不能这样做..

这是我所做的：

```
<script>
var te=jQuery('div[id$=datepicker]');
$(function() {
  te.datepicker({ autoSize: true,prevText: "Previous   ",nextText: "  Next" });
  te.datepicker('option', 'onSelect', function() { callfromdate(); } );
  var temper=jQuery('#calRow1 tr');
  temper.css('something');
  });
</script> 
```

# html - Weird gaps showing up under header when loaded in IE 9

> ID：14453297
> 
> 赞同：0
> 
> 时间：2013-01-22T07:08:54.110
> 
> 标签：html, google-chrome

I've been scratching my head looking for a solution to this "common gap problem".

Here's what the page's like in Chrome & how the page is like in IE9 [https://dl.dropbox.com/u/3788693/Work/example.jpg](https://dl.dropbox.com/u/3788693/Work/example.jpg)

Here's my HTML file: [https://dl.dropbox.com/u/3788693/Work/01index.html](https://dl.dropbox.com/u/3788693/Work/01index.html)

I've read lots about using and applying

```
Setting position:relative on the header block.
Setting position:absolute; top:0; right:0
#header img { display: block } 
```

But it just doesn't seem to show any change in IE. Perhaps i'm applying the wrong things in the wrong place? Anyhow, why is it different in IE in the first place?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:30:00.013

In your conditional comment for IE you're using

```
<!--[if IE]>
<style type="text/css">
/* place css fixes for all versions of IE in this conditional comment */
.twoColElsLtHdr #sidebar1 { padding-top: 30px; }
.twoColElsLtHdr #mainContent { zoom: 1; padding-top: 15px; }
/* the above proprietary zoom property gives IE the hasLayout it needs to avoid several bugs */
</style>
<![endif]--> 
```

Removing `padding-top: 30px` from `.twoColElsLtHdr #sidebar1` and `padding-top: 15px` from `.twoColElsLtHdr #sidebar1` will take care of the gap you're seeing.

# eclipse - Sybase Unwired Platform 中的连接属性为空

> ID：14453298
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:08:55.053
> 
> 标签：eclipse, connection, sybase, sap, sup

我试图在 SUP 中将连接配置文件更改为我的 mbo 对象。我创建了一个新的连接配置文件（sapn）。我不能使用它。[http://yadi.sk/d/yVjE1pBz21ZoM](http://yadi.sk/d/yVjE1pBz21ZoM)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-29T10:09:44.973

单击“sapn”右侧的空白单元格，您将看到一个包含您在 Mobile Workspace 中定义的数据源的选择。

# jquery - 如何使用 JQUERY 加载页面？

> ID：14453299
> 
> 赞同：0
> 
> 时间：2013-01-22T07:08:56.443
> 
> 标签：jquery, ajax

我正在使用 wordpress 和自定义主题。如果浏览器，我将菜单栏附加到顶部，因此当用户滚动菜单栏时，菜单栏保持原位，但其他所有内容都会滚动。

现在我的网站上有不同的页面，当单击菜单上的页面链接时，它会重新加载整个网站。

但我想要的是在不刷新的情况下加载页面。菜单在该`<body>`部分之外，我希望正文部分中的所有内容，包括使用某种 jquery 加载的页面。

例如，当我点击一个页面时，我希望它有一个加载图像并且页面淡入。

有谁知道我在哪里可以找到一个带有示例的脚本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:19:19.207

```
$(document).ready(function () {
    $('/*menu*/').click(function () {
        var url = $(this).attr('href');
        $.ajax({
            url: url
        }).done(function (result) {
            $('/*your id of placeholder*/').html(result);
        });
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:22:24.567

使用 jquery[加载](http://api.jquery.com/load/)

```
$('#yourContentSelector').load('ajax/test.html', function() {
    $('#yourContentSelector').hide().fadeIn();
}); 
```

# mysql - 使用 db2 配置 mysql 链接服务器

> ID：14453301
> 
> 赞同：1
> 
> 时间：2013-01-22T07:09:00.477
> 
> 标签：mysql, db2, linked-server

我有两个数据库服务器，一个是 mysql，另一个是 db2，它们都在不同的机器上运行。我想通过使用连接从两个数据库的表中获取记录。我研究过链接服务器的概念，但问题是我找不到任何示例用于使用 db2 创建链接服务器（我只能找到 SSMS，即使用 Sql Server Mannagement Studio 来创建链接服务器），但我的情况是 mysql 和 db2，我需要为其中一个创建链接服务器/反之亦然。

请提出一些帮助我该如何实现这一点。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T16:49:29.947

在 DB2 中，有一个称为**联合**（信息集成的一部分）的特性，它允许您将外部资源呈现给 DB2（包装器和昵称）；您可以从 DB2 中查询这些外部资源，甚至可以在不同的源（其他 DB2 数据库、Informix | MSSQL 服务器 | Oracle | MySQL 数据库、平面文件等）之间进行连接。为了查询外部资源，此功能需要特别许可证。相反，如果您想查询其他 DB2 或 informix 数据库，此功能不需要额外的许可，因为它是免费提供的（这些是 IBM 数据库）。

为了方便，有一个名为**table functions**的选项。这些函数在调用时返回一个表，然后，您可以将返回的数据与其他表连接起来。这些功能可以用 SQL PL（IBM 过程语言）、C 或 Java 开发。

使用第二个选项，您可以在 Java 中创建一个表函数，它查询 MySQL 表，然后将数据返回给 DB2。我编写了一个关于如何在 Twitter 中查询“主题”并将该数据返回给 DB2 的示例。您必须执行几乎相同的操作，但不是查询 Twitter，而是配置您的其他数据库。 [http://angocadb2.blogspot.fr/2012/02/accediendo-tweeter-desde-db2-table.html](http://angocadb2.blogspot.fr/2012/02/accediendo-tweeter-desde-db2-table.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T07:25:18.063

@AngocA 它不起作用，但谢谢你的建议。

经过长时间的搜索后，我自己想出了上述自我帖子的答案，并考虑将其发布在这里，因为在我们需要从远程的两个不同数据库服务器获取数据的任何组合场景的情况下，这将对其他人有所帮助/local 本质上和链接服务器概念失败时。

我们可以使用一个名为 Unity Jdbc 的第三方 jar，我们可以在我们的 java 代码中以简单的方式使用它来加载驱动程序，然后像旧的 jdbc 一样获得连接。

1) 像这样加载驱动Class.forName("unity.jdbc.UnityDriver"); 2) 像这样获取连接 DriverManager.getConnection(jdbc:unity://test/xspec/mysqldb2.xml); 3) 获取记录(DDL/DML) 4) 关闭连接

可以访问 Unity Jdbc [http://www.unityjdbc.com/](http://www.unityjdbc.com/)

在我们的代码中使用这个 jdbc，我们实际上加载了一个基于 xml 的文件，该文件定义了我们需求的所需数据源。

一旦一切都设置好了，就可以轻松地从来自两个不同远程数据库的两个不同表中形成一个查询。语法：dbname.tablename.fieldname

此外，我们不需要处理任何进一步的 xml 配置来关闭在关闭外部实际连接后创建的内部连接。

任何问题写回。

# tridion - 在工作流的最后阶段发布失败

> ID：14453306
> 
> 赞同：3
> 
> 时间：2013-01-22T07:09:37.057
> 
> 标签：tridion, tridion-2011

我们最后的自动活动是将组件发布到实时目标。我们在编辑脚本中编写了以下代码。

```
' Script for Automatic Activity Content Manager Workflow

Set oTDSE = CreateObject("TDS.TDSE")
Call oTDSE.Initialize
Set oWorkItem = CurrentWorkItem.GetItem(3)
sDestinationServer = "tcm:0-18-65538"
Set oComp = oTDSE.GetObject(oWorkItem.ID, 3) 

Call oComp.Publish(sDestinationServer, True, True, True)

FinishActivity "Automatic Activity ""Process Complete"" Finished"

set oWorkItem = Nothing
set oComp = Nothing
set oTDSE = Nothing 
```

此代码执行成功，但是当我们检查发布队列组件失败并出现错误项目 tcm:34-20615-16-v0 不存在时。

当我们将组件发布到早期活动中的暂存时，相同的代码工作正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-19T19:03:30.407

是的，这是我在客户处经常遇到的问题。尤其是当您在工作流中的最后一个活动是自动的并发布到实时时。我做的最简单的方法是：

*   自动代码中的第一个 FinishActivity
*   然后发布`workflow=false`。

```
PublishCoreServiceClient.FinishActivity(activityInstance.Id, finishData, publishoptions);           
            }

 //Now Publish      
ComponentData component = (ComponentData)PublishCoreServiceClient.Read(componentid, publishoptions);
if (GetConfigurationValues(component, PublishCoreServiceClient))
{
    PublishInstructionData publishInstructionData = new PublishInstructionData();
    publishInstructionData.MaximumNumberOfRenderFailures = 100;
    publishInstructionData.RollbackOnFailure = true;

    ResolveInstructionData resolveInstructionData = new ResolveInstructionData();
    resolveInstructionData.IncludeWorkflow = false;
    resolveInstructionData.IncludeChildPublications = true;
    resolveInstructionData.IncludeComponentLinks = true;
    publishInstructionData.ResolveInstruction = resolveInstructionData;

    RenderInstructionData renderInstructionData = new RenderInstructionData();
    publishInstructionData.RenderInstruction = renderInstructionData;

    List<string> ItemToPublish = new List<string>();
    ItemToPublish.Add(component.Id);
    if (!String.IsNullOrEmpty(Utilities.LIVE_URI))
    {
        PublicationTargetData pubtarget = (PublicationTargetData)PublishCoreServiceClient.Read(Utilities.LIVE_URI, publishoptions);
        List<string> target = new List<string>();
        target.Add(pubtarget.Id);

        PublishCoreServiceClient.Publish(ItemToPublish.ToArray(), publishInstructionData, target.ToArray(), PublishPriority.Normal, publishoptions);
        Logger.Debug("ElapsedMilliseconds Publish [" + _watch.ElapsedMilliseconds + " ms]");

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T09:03:24.613

问题是在脚本中发布组件的动态版本 (-v0)。由于发布是异步操作，因此项目不会立即发布，而是创建发布事务（链接到动态版本）。

在此之后，您的脚本完成并且项目被签入。现在，发布者开始处理您的发布事务并发现不再有动态版本，因此您的例外。

当发布活动不是最后一次时，发布者有足够的时间获取项目的动态版本。

解决方法可以是在您的自动活动中等待发布事务完成，或者对 OnCheckIn 事件执行某些操作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-24T09:23:48.530

Issue is resolved after setting activateWorkflow parameter of Publish method to False.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-11T11:08:13.163

我们遇到了同样的错误，我们通过延迟几秒钟发送组件来解决它：

```
Call oComp.Publish("tcm:0-1-65538", False, False, True, dateAdd("s",10,Now)) 
```

# jquery - jQuery用空格读取属性值

> ID：14453307
> 
> 赞同：0
> 
> 时间：2013-01-22T07:09:40.557
> 
> 标签：jquery, html, asp.net-mvc

我有以下html：

```
<div type="Text with spaces" eventid="57" class="movie">...</div> 
```

如何`type`使用 jQuery 读取属性？

我试过这个：

```
var type = $(".movie").attr("type"); 
```

但`type`仅包含`Text`.

**更新：**
这就是我使用这个变量的方式：

```
 $("#publicationBlock").load("/Publication/EventSchedule?eventId=" + eventId + "&type=" + type 
```

在行动中，我只得到`Text`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:12:16.073

那应该工作。

```
var type=$(".movie").attr("type");
alert(type); 
```

[在这里摆弄](http://jsfiddle.net/W34Ma/)..

看看你是否错过了这个。
1）确保您的代码在就绪函数内`$(function(){`..
2）检查jquery版本..最新更好

**更新**

```
<div type="Text_with_spaces" eventid="57" class="movie">...</div> 
```

`EventSchedule`并在你的函数中用'_'爆炸

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:14:07.047

我没有看到这里的问题？

此示例与您的代码完全相同，但它能够显示整个属性：http: [//jsfiddle.net/rFYpE/](http://jsfiddle.net/rFYpE/)

```
var type = $(".movie").attr("type");
alert(type); 
```

你是如何使用变量类型的？

# image - 使用java程序调整图像大小

> ID：14453309
> 
> 赞同：-3
> 
> 时间：2013-01-22T07:09:46.120
> 
> 标签：image, image-processing, java

我有一些大分辨率的图片，比如 4000x3000 。我想创建一个 java 程序，它可以将图像大小重新调整为 1000x900 之类的小东西，仅作为示例。谁能告诉我一些可以帮助我完成这项任务的特定 java 库。如果您可以发布任何此类教程的链接，那将非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:14:34.940

请在此处提交帖子之前尝试谷歌... [http://www.mkyong.com/java/how-to-resize-an-image-in-java/](http://www.mkyong.com/java/how-to-resize-an-image-in-java/)，一个简单的谷歌将为您提供丰富的结果，如果这些不符合您的需要，那么您可以尝试在这里询问。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:19:37.973

`java.awt.Image.getScaledInstance`可以做到这一点。但更可靠和更快的方法在这里： [http ://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html](http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:28:02.937

您可以调用这个使用 Java 本机类的方法来获取它：

```
import java.awt.Graphics2D;
import java.awt.Image;
import java.awt.image.BufferedImage;
...

public static BufferedImage resizeImage(Image originalImage, int newWidth, int newHeight) {
    BufferedImage resizedImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);
    Graphics2D g = resizedImage.createGraphics();

    g.setComposite(AlphaComposite.Src);
    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);
    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);
    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);

    g.drawImage(originalImage, 0, 0, newWidth, newHeight, this);
    g.dispose();
    return resizedImage;
} 
```

有许多图像类型（BINARY、GRAY、RGB、BGR、ARGB、ABGR...）。您可以选择一个（就像我选择 BufferedImage.TYPE_INT_ARGB 一样），或者将此值声明为参数。只需快速查看 BufferedImage 类即可了解详细信息。

# android - Gridview和android里面的listview

> ID：14453311
> 
> 赞同：1
> 
> 时间：2013-01-22T07:09:56.447
> 
> 标签：android

我的应用程序中有一个视图，我必须在其中显示多个列表视图，每个列表视图都包含不同用户的数据。所以到目前为止我所做的是我有一个带有列的gridview，并且在每一列中我用一个listview 填充gridview 单元格。这很好用，但是，它两次显示相同的列表视图，而不是为每列显示不同的列表视图。奇怪的是，如果我用普通标签替换列表视图，它会显示来自不同用户的数据。

我设置gridview适配器的主要活动：

```
gridview.setNumColumns(10);
                gridview.setHorizontalSpacing(205);
                gridview.setStretchMode(0);
                gridview.setAdapter(new Adapter_Labels_GridView_Calendar_dayview(mContext, Session_CurrentSession.current_CALENDAR)); 
```

这是 gridview 的适配器...只是 getview 部分。（您将看到我为显示相同列表视图而不是不同列表视图的列表视图设置适配器的地方）

```
 public View getView(int position,View convertView, ViewGroup parent)
 {

  ListView list;

  if (convertView == null)
  {  
       // if it's not recycled, initialize some attributes  
       list = new ListView(mContext);
       list.setLayoutParams(new GridView.LayoutParams(150, 500));
       list.setPadding(2,2,2,2);
   }  
  else
  {  
       list = (ListView) convertView;  
  }  

  list.setAdapter(new Adapter_ListView_GridView_Calendar(mContext, dagtyeVanhaarkappers.get(position), gebookdeurUser.get(position), tekening.get(position)));
  list.setCacheColorHint(0);

  list.setId(position);

  list.setOnTouchListener(new View.OnTouchListener()
        {

            public boolean onTouch(View v, MotionEvent event)
            {   
                // Disallow the touch request for parent scroll on touch of child view
                v.getParent().requestDisallowInterceptTouchEvent(true);
                return false;
            }
        });

  return list;
 } 
```

}

提前致谢

编辑：

这是主要活动中触摸事件的gridview：

```
 gridview.setOnTouchListener(new View.OnTouchListener()
     {

            public boolean onTouch(View v, MotionEvent event)
            {
               if(isDayView && created)
               {
                   int numchilds = gridview.getChildCount();
                   for(int i = 0; i < numchilds; i++)
                   {
                       gridview.getChildAt(i).getParent().requestDisallowInterceptTouchEvent(false);

                   }
               }
                return false;
            }
        }); 
```

编辑：Adapter_ListView_GridView_Calendar 的 getview

```
 public View getView(int position, View convertView, ViewGroup parent)
    {

            LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View rowView = inflater.inflate(R.layout.row_bookingslist, parent , false);

            ImageView booking_image = (ImageView) rowView.findViewById(R.id.booking_image);
    TextView textBookingTime = (TextView) rowView.findViewById(R.id.booking_time);
    TextView textBookingUser = (TextView) rowView.findViewById(R.id.booking_byuser);

            booking_image.setImageDrawable(drawables.get(position));
            textBookingTime.setText(daytimes.get(position));
            textBookingUser.setText(bookedbyuser.get(position));

    return rowView;
} 
```

**最后回答：**

我发现了问题...我认为问题出在适配器上，因为我的视图很奇怪（gridview 中的 Listview）...但是，当使用 for 将数据读入 arraylist 时，我没有创建数据的新实例循环，因此字符串在内存中具有相同的引用。因此，在修改任何一个时，我实际上是在修改该对象的同一个实例。该死的，不敢相信我没有看到这么简单的小东西。感谢您的所有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:16:38.893

```
final View rowView = inflater.inflate(R.layout.list_mobile, parent, false);
    ListView listView = (ListView) rowView.findViewById(R.id.raw_mylist);

    listView.setAdapter(adapter);

            // PARENT
    mListView.setOnTouchListener(new View.OnTouchListener() {
        public boolean onTouch(View v, MotionEvent event) {
            Log.v("PARENT", "PARENT TOUCH");
            rowView.findViewById(R.id.raw_mylist).getParent()
                    .requestDisallowInterceptTouchEvent(false);
            return false;
        }
    });

            //your grid view as child
    listView.setOnTouchListener(new View.OnTouchListener() {

        public boolean onTouch(View v, MotionEvent event) {
            Log.v("CHILD", "CHILD TOUCH");
            // Disallow the touch request for parent scroll on touch of
            // child view
            v.getParent().requestDisallowInterceptTouchEvent(true);
            return false;
        }
    }); 
```

在主适配器的 getview 方法中。

# date - 文件中的 Awk 或 Sed 条目 > 比上一小时

> ID：14453319
> 
> 赞同：1
> 
> 时间：2013-01-22T07:10:42.970
> 
> 标签：date, search, range, ksh

我正在通过 ksh 脚本定义我的时间变量：

```
NOW="$(date +"%I:%OM")"
LASTHOUR="$(date +%I:%OM --date "last hour")" 
```

我的日志输出包含以下格式：

```
019723  01/22 01:00  err  PoolEndorseServ::notify   Error while notifying in...
019722  01/22 00:00  err  PoolEndorseServ::notify   Error while notifying in...
019722  01/21 05:10  err  PoolEndorseServ::notify   Error while notifying in... 
```

我希望能够通过查看时间列来提取大于 $LASTHOUR 的任何记录。

任何帮助或指导表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:35:35.873

我假设您的时间字段是 24 小时格式。

与`awk`：

```
awk -v LASTHOUR="$(date --date "last hour" "+%m/%d %H:%0M")" \
  '$2" "$3 > LASTHOUR' < yourfile 
```

不过，如果是 1 月 1 日的第一个小时，这将中断。这无济于事，因为您没有在日志中提供年份。

# django - 如何在 Django 中设置静态文件

> ID：14453320
> 
> 赞同：5
> 
> 时间：2013-01-22T07:10:44.903
> 
> 标签：django, static

> **可能重复：**
> [如何在 Django 项目/应用程序中组织和加载 CSS？](https://stackoverflow.com/questions/13041861/how-to-organize-and-load-css-within-django-project-app)

我关注了几个关于如何在 Django 中设置静态文件的网站。这是我的步骤。

配置setting.py：

```
STATIC_ROOT = '/Users/kin/mysite/static'
STATIC_URL = '/static/' 
```

运行 collectstatic 命令：

```
python manage.py collectstatic 
```

之后，我看到我的图像文件被复制到了 STATIC_ROOT。

然后在我的模板中，我尝试通过以下方式使用我的图像文件：

```
<img border="0" src="{{ STATIC_URL }}images.jpg" width="304" height="228"> 
```

但是当我在浏览器上加载它时没有图像。我检查了页面源并且 STATIC_URL 似乎是空的。

任何人都可以在这里阐明一下吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T07:40:33.483

不要在您的设置中硬编码路径。我通常把我的静态文件放在我的主项目中，所以我的设置文件看起来像这样

```
import os
MAIN_PROJECT = os.path.dirname(__file__) 
```

然后

```
# Absolute path to the directory static files should be collected to.
# Don't put anything in this directory yourself; store your static files
# in apps' "static/" subdirectories and in STATICFILES_DIRS.
# Example: "/home/media/media.lawrence.com/static/"
STATIC_ROOT = ''
# URL prefix for static files.
# Example: "http://media.lawrence.com/static/"
STATIC_URL = '/static/'
# Additional locations of static files
STATICFILES_DIRS = (
    # Put strings here, like "/home/html/static" or "C:/www/django/static".
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
    os.path.join(MAIN_PROJECT, 'static/'),
) 
```

之后，您可以`{{ STATIC_URL }}`在您的视图中使用

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T07:43:28.673

实际上我只是使用以下代码就对了：

```
{% load staticfiles %}
<img border="0" src="{% static 'image.jpg' %}" width="304" height="228"> 
```

这会将 STATIC_URL 路径呈现给我。

谢谢大家帮助我！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:30:35.733

如果您正在运行您的应用程序，`python manage.py runserver`那么您可能需要将以下内容添加到您的 url conf 的末尾（请参阅[docs](https://docs.djangoproject.com/en/1.4/howto/static-files/#serving-static-files-in-development)）。

```
from django.contrib.staticfiles.urls import staticfiles_urlpatterns

urlpatterns += staticfiles_urlpatterns() 
```

使用 django 的开发服务器提供静态文件的过程与使用生产 Web 服务器的过程不同。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:34:56.133

你可以试试这个

导入设置`urls.py` 并将以下代码粘贴到您的 urls.py

```
if settings.DEBUG:
    urlpatterns += patterns('django.views.static',
    (r'^static_media/(?P<path>.*)$', 
        'serve', {
        'document_root': 'path/to/your/static/folder',
        'show_indexes': True }),) 
```

现在转到您的 settings.py 并更改设置，例如

```
MEDIA_URL = '/static_media/'

# Absolute path to the directory static files should be collected to.
# Don't put anything in this directory yourself; store your static files
# in apps' "static/" subdirectories and in STATICFILES_DIRS.
# Example: "/home/media/media.lawrence.com/static/"
STATIC_ROOT = ''

# URL prefix for static files.
# Example: "http://media.lawrence.com/static/"
STATIC_URL = '/static/' 
```

现在访问您的静态文件，例如

```
<link rel="stylesheet" type="text/css" href="{{MEDIA_URL}}css/header.css" /> 
```

# c++ - 如何将实例成员函数作为回调传递给 std::thread

> ID：14453329
> 
> 赞同：5
> 
> 时间：2013-01-22T07:12:02.900
> 
> 标签：c++, lambda, function-pointers

> **可能重复：**
> [使用成员函数启动线程](https://stackoverflow.com/questions/10673585/start-thread-with-member-function)

我对 C++ 很陌生。我的经验主要是使用 javascript 和 java。

我在 Lion 上使用 Xcode。以下代码给了我一个编译错误“必须调用对非静态成员函数的引用；您的意思是不带参数调用它吗？”

```
class MyClass {
private:
    void handler() {
    }

public:
    void handleThings() {
        std::thread myThread(handler);
    }
}; 
```

我也尝试过`this->handler`,`&handler`和其他变体，但都没有奏效。这段代码虽然编译并完成了我想要的：

```
class MyClass {
private:
    void handler() {
    }

public:
    void handleThings() {
        std::thread myThread([this]() {
            handler();
        });
    }
}; 
```

为什么我不能传递对成员函数的引用？我的解决方法是最好的解决方案吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-22T11:25:36.093

```
std::thread myThread(&MyClass::handler, this);
myThread.join(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-22T07:15:52.277

[`std::mem_fun`](http://www.cplusplus.com/reference/functional/mem_fun/)如果您不想使用 lamda，可以使用 。

你能做到吗？

```
std::thread myThread(std::mem_fun(&MyClass::handler),this); 
```

`std::thread`接受函数的参数（这是第一个参数）并 `this`作为参数传递给`mem_fun`对象，然后对象调用处理函数`this`。

您也可以很简单地执行以下操作，礼貌 -[使用成员函数启动线程](https://stackoverflow.com/questions/10673585/start-thread-with-member-function)

```
std::thread myThread(&MyClass::handler,this); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-22T07:21:29.697

用于`lambda`访问成员函数内的类成员，您需要捕获`this`. `[this]`在以下代码中是强制性的：

```
void handleThings() 
{
    std::thread myThread([this]() {
        handler();
    });
} 
```

您可以`this`通过引用捕获，但它不如按值捕获它有效。因为通过引用需要双重间接（模编译器优化）

```
void handleThings() {
        std::thread myThread([&]() {
            handler();
        });
    } 
```

`Lambdas`通常是比 更好的选择`bind`。

*   更容易让读者理解。
*   更高效。

# ios - 更正现有应用程序中 VC 之间的导航

> ID：14453331
> 
> 赞同：1
> 
> 时间：2013-01-22T07:12:06.163
> 
> 标签：ios, xcode, navigation, uistoryboard, uistoryboardsegue

我有一个相当简单的应用程序，它是一个适合小孩子的游戏。有一个主屏幕和 5 个单独的级别。5 个级别中的 3 个由多个 VC 组成，其中动作发生在该行中的第一个 VC 中，然后代码调用模态 segue 到该行中的下一个，依此类推，直到它到达行的末尾和一个modal segue 被称为链接回主屏幕。只有一个 VC 的级别只是执行操作，然后转回主 VC。

应用程序中的每个 segue 都是模态的。此外，每个页面（VC）都有一个主页按钮，如果按下该按钮将转到主页

我在 StoryBoard 中设置了这一切，并且在视觉上一切都按预期工作，但是当添加声音时，我意识到似乎存在一个主要问题。

如果我现在理解正确（也许我不理解），模态序列实际上并没有用新请求的 VC 替换当前的 VC，而是将新请求的 VC 滑到原来的上方并使其成为可见显示。

目前我从 main 转到 level 1。Level 1 做了一些事情并播放一些通过计时器重复的声音。如果我在视觉上继续回到主界面，一切都很好，除了 1 级 VC 中的计时器正在播放的声音继续播放并且 xCdoe 多次给我以下错误

```
2013-01-21 22:16:07.901 TTBetaDev[678:c07] Warning: Attempt to present <MainMenuViewController: 0x7e02f40> on <BonusViewController: 0x7ecbfa0> whose view is not in the window hierarchy! 
```

下面是我的故事板的截图，以防我没有很好地解释布局。

应该如何设置它以允许我想要的导航？我需要采取哪些步骤才能将其应用于我已经在情节提要中构建的内容？还是我必须重新完成我所有的故事板工作？

我尝试了苹果 VC 文档，但我无法理解与我尝试做的事情有关的内容。

有人可以帮我解释一下吗

![在此处输入图像描述](../Images/6adca289bd6838f2894e9e5e410d49db.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:00:00.103

你有前进和后退的序列。你不应该这样做。

例如 Look 和 Main 和 VC 2。

您有一个从 Main 到 VC 2 的 segue。这意味着 Main 会将 VC 2 呈现为模态视图控制器。

当 Main 执行此操作时，尽管它仍在 VC2 下方的堆栈中。

然后你有一个从 VC2 到 Main 的 segue。这意味着 VC2 将创建一个新的 Main 并以模态方式呈现它。如果您继续使用该应用程序，您将拥有多个 main 实例，并且所有其他 VC 和内存消耗都会猛增。

你需要做的是删除所有倒退的segues。（即像从 VC2 到 Main 的那个）

然后，当您想从 VC2 回到 main 时，您必须关闭 VC2。

IE

在主要...

```
//present VC2
[self performSegueWithIdentifier:@"VC2Segue" sender:nil];

//dismiss VC2
[self dismissViewController:vc2ViewControllerInstance]; 
```

或者在 VC2...

```
//dismiss VC2 from itself
[self dismissViewController:self]; 
```

但最主要的是你不能使用segues来倒退。

TL:博士

什么都不应该继续 INTO Main。任何进入 main 左侧的 segues 都应该被删除并正确处理。

# c# - 本地化 .js 文件中的字符串

> ID：14453338
> 
> 赞同：0
> 
> 时间：2013-01-22T07:12:16.177
> 
> 标签：c#, javascript, asp.net-mvc

我最近才开始使用 Asp.Net MVC，目前我一无所知。所以我的任务是本地化 .js 文件中的文本。我的问题是我似乎无法在浏览器中显示此对话框标签，我要替换的文本是“删除 A 到 B”。我已经尝试通过将“this.a”替换为该文本来使用我的变量“a”，但它不起作用。

```
function Remove() {

   var a = "";

   this.Load = function () {
      ...`enter code here`
        });

   this.InitEventHandlers = function () {
        $("#updateRemove").click(function (e) {
            amplify.publish("UpdateRemove");
            e.preventDefault();
        });

   $("#removeA").click(function () {
            $("#removeA").dialog({
                title: "Remove A to B",
                width: 300,
                autoOpen: true,
                modal: true,
                draggable: false,
                resizable: false,
                dialogClass: "RemoveB",
                open: function () { $(this).appendTo("RemoveC"); }
            });
        });
... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:02:05.650

您需要存储“this”的引用，因为在删除函数内的对象中，上下文是当前对象。

做这个：

```
function Remove() {

  var that = this;

  that.a = "";

  $("#removeA").click(function () {
    $("#removeA").dialog({
      title: that.a, 
```

你可以在这里阅读更多内容：http: [//javascript.crockford.com/private.html](http://javascript.crockford.com/private.html)

# python - python代码中的环境变量和逻辑

> ID：14453346
> 
> 赞同：0
> 
> 时间：2013-01-22T07:12:37.890
> 
> 标签：python, environment-variables

如果名为“MYPROJECT_PRODUCTION”的环境变量设置为 True，我需要为变量分配不同的值。因此，我创建了以下代码，其中创建了一个 module1 文件来存储生产值

主要代码位于mycode.py中。这里是目录结构

```
mypythondir/
           mycode.py
           module1.py 
```

我的代码.py

```
import os
if __name__=='__main__':
    MYNAME='denny'
    if os.environ.get('MYPROJECT_PRODUCTION',True):
        from module1 import *
    print 'myname=',MYNAME 
```

模块1.py

```
MYNAME='damon' 
```

我打开了一个终端（在 ubuntu 中）只是为了检查我跑了

```
mypythondir$echo $MYPROJECT_PRODUCTION 
```

空输出..所以，还没有设置变量。在不设置环境变量的情况下，从 mypythondir 运行 mycode.py

```
mypythondir$python mycode.py

mypythondir$myname= damon 
```

我很困惑，为什么值'damon'。它应该是'denny'，因为没有设置MYPROJECT_PRODUCTION，并且os.environ中没有键'MYPROJECT_PRODUCTION'。

然后我设置

```
mypythondir$export MYPROJECT_PRODUCTION=False 
```

我再次运行代码，即使现在结果是一样的..但这次关键`MYPROJECT_PRODUCTION`在`os.environ`

这里发生了什么？有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:16:33.750

您的默认值为`True`. 并且任何非空值，包括 string `"False"`，都是 true。将默认值更改为 false，或完全省略它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:20:33.760

os.environ 只是一个映射对象。您是否尝试过简单的 os.getenv()？请参阅此链接： [http ://docs.python.org/2/library/os.html#process-parameters](http://docs.python.org/2/library/os.html#process-parameters)

# objective-c - UIView 内的 UIImageView 重叠效果

> ID：14453347
> 
> 赞同：1
> 
> 时间：2013-01-22T07:12:47.050
> 
> 标签：objective-c, ipad, uiview, uitouch, touchesmoved

检查这个 URL [http://krystalrae.com/](http://krystalrae.com/) 向下滚动你会看到一个女孩的衣服随着鼠标滚轮滚动而改变。

![在此处输入图像描述](../Images/35fa99236d639145eae7e48e677ecc52.png)

我必须创建一个`iPad application`同样会出现 3 个图像的位置。不同之处在于，在我的情况下，图像更改将发生`horizontally`而不是`vertically`在网站中。另外，我必须在 UIView 中使用事件`touchesBegan, touchesMoved, touchesEnded and touchesCancelled`

帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:42:58.180

从您的评论中，我了解到问题是在`UIImageView`更改视图边界时调整图像的大小。

您可以将`contentMode`图像视图的 设置为其他内容。默认值`UIViewContentModeScaleToFill`不是您想要的。

例如，您可以将下部图像视图设置为`UIViewContentModeBottom`，将上部图像视图设置为`UIViewContentModeTop`。

不要忘记确保您的图像视图已将属性`maskToBounds`设置为`YES`.

# android - Android：检查闪光手电筒模式是否已激活不起作用

> ID：14453351
> 
> 赞同：0
> 
> 时间：2013-01-22T07:13:10.607
> 
> 标签：android, logcat, flashlight

[工作守则 / 22.01.2013]

以下代码不起作用，我不知道为什么。我设置了权限和按钮，以便它应该可以工作......

我在清单中设置权限是这样的：

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="spicysoftware.spicytaschenlampe"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

    <uses-permission android:name="android.permission.CAMERA" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="spicysoftware.spicytaschenlampe.FlashLight"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application> 
```

这就是代码：（它可以打开手电筒但不能关闭......）

```
Parameters p;
Camera cam;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    check_for_flash();

    cam = Camera.open();     
    cam.startPreview();
    p = cam.getParameters();

    Button cmd_flash_light = (Button) findViewById(R.id.cmd_flash_light);

    cmd_flash_light.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {

            if(p.getFlashMode().equals(android.hardware.Camera.Parameters.FLASH_MODE_TORCH)){
                Log.v("FLASH_LIGHT_ON", "TRUE");
                //p.setFlashMode(Parameters.FLASH_MODE_OFF);
            } else {
                Log.v("FLASH_LIGHT_ON", "FALSE");
                p.setFlashMode(Parameters.FLASH_MODE_TORCH);
            }

            cam.setParameters(p);

        }
    });

} 
```

这是 logcat 错误：

```
01-22 08:11:00.290: D/AndroidRuntime(12239): Shutting down VM
01-22 08:11:00.290: W/dalvikvm(12239): threadid=1: thread exiting with uncaught exception (group=0x40dfc2a0)
01-22 08:11:00.290: E/AndroidRuntime(12239): FATAL EXCEPTION: main
01-22 08:11:00.290: E/AndroidRuntime(12239): java.lang.RuntimeException: Fail to connect to camera service
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.hardware.Camera.native_setup(Native Method)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.hardware.Camera.<init>(Camera.java:353)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.hardware.Camera.open(Camera.java:330)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at spicysoftware.spicytaschenlampe.FlashLight$1.onClick(FlashLight.java:28)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.view.View.performClick(View.java:4223)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.view.View$PerformClick.run(View.java:17275)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.os.Handler.handleCallback(Handler.java:615)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.os.Handler.dispatchMessage(Handler.java:92)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.os.Looper.loop(Looper.java:137)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at android.app.ActivityThread.main(ActivityThread.java:4898)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at java.lang.reflect.Method.invokeNative(Native Method)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at java.lang.reflect.Method.invoke(Method.java:511)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1008)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:775)
01-22 08:11:00.290: E/AndroidRuntime(12239):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:18:32.727

在您的清单中进行此更改：

```
<uses-permission android:name="android.permission.CAMERA"/>
<uses-feature android:name="android.hardware.camera"/>
<uses-feature android:name="android.hardware.camera.autofocus" android:required="true"/> 
```

在你做完你的`Camera.open()`和设置参数之后，做一个`mCamera.startPreview()`. 这应该够了吧。

`Camera cam`之前声明`onClick()`

# android - 在启动器活动中设置更多操作？

> ID：14453360
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:09.433
> 
> 标签：android, android-activity, android-manifest

全部

我想在清单中的启动器活动中设置两个操作，如下所示，所以这是可能的。

```
<activity
    android:name=".MainActivity"
    android:screenOrientation="portrait" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
        <action android:name="com.example.sampleapp.android.widget.buttons.ButtonWidget.ACTION_WIDGET_CONFIGURE"/>
    </intent-filter>
</activity> 
```

是否可以？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:20:47.910

尝试使用多个意图过滤器定义操作

```
<activity
    android:name=".MainActivity"
    android:screenOrientation="portrait" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
    <intent-filter>
        <action android:name="com.example.sampleapp.android.widget.buttons.ButtonWidget.ACTION_WIDGET_CONFIGURE"/>
    </intent-filter>
</activity> 
```

[在 Intent-Filter 中使用多个操作时](https://stackoverflow.com/q/3188867/760489)检查此帖子默认值

# mysql - 使用 WS02 从多个 MySQL 数据库中读取相似的表

> ID：14453364
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:17.660
> 
> 标签：mysql, wso2, wso2dss

我们得到了一个应用程序，其中通过为每个租户拥有一个唯一的数据库 (MYSQL) 来实现多租户。表结构相同。我需要列出每个租户的所有过期产品，我想知道如何将所有这些产品合并到 WSO2 中的一个数据 Web 服务中？我知道我可以使用为表添加前缀的数据库创建查询：例如。从 DB1.products 中选择 DB1.products.id、DB1.products.name

是否需要为每个数据库（100+租户）定义一个数据源，是否可以在数据服务操作中指定数据库名称作为输入变量？IE。从 ?.products 中选择 ?.products.id、?.products.name

谢谢您的帮助。干杯，欧文

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T19:12:23.493

如果您的意图是拥有一个通用数据服务，该服务将从专用于每个租户的那些数据库中检索这些租户特定信息，如我所见，实现这一目标的最简洁方法是生成 SQL 查询并使使用的数据源动态可发现.

由于您正在使用 100 多个租户（哇，这是一个巨大的数字 :)）显然您可能也为这些租户创建了 100 多个数据库。因此，您需要在每个租户（比如说“testDS”）中创建一个具有相同名称的 carbon 数据源，包装租户特定的数据库配置，例如 JDBC URL、凭据等。接下来，如果您想出了您的数据服务将使用的数据源配置为上述数据源，在运行时，它将正确选择适当的租户特定数据源，因为数据源功能完全支持多租户。这将阻止您将数据库名称等传递给 SQL 查询，并使您的数据服务配置更干净、更通用，从而使其更易于维护。

# jquery - 如何使用 Jquery 为 div 添加/附加内容（div/img 标签等）

> ID：14453365
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:22.010
> 
> 标签：jquery, html

如何使用 div 为 div 添加/附加内容（div/img 标签等）`Jquery`

我希望它插入“#contentSlider”

```
$('#slider').after('<div id="nav" class="nav">').cycle({
        fx:     'turnUp',
        speed:  'fast',
        timeout: 0,
        pager:  '#nav'
    }); 
```

**HTML**

```
<div id="slider">
  <div id="banner1" class="slider"> 
    <div class="contentSlider">

    </div>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:17:40.463

如果要插入元素，则可以使用[Append](http://api.jquery.com/append/)方法。

```
$('.inner').append('<p>Test</p>'); 
```

`.inner`是类选择器..你可以用你想要的选择器替换它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:18:46.037

尝试这个

```
$('.contentSlider').append('<div id="nav" class="nav">...</div>'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:20:22.307

```
$('.contentSlider').html('<div id="nav" class="nav">') 
```

# google-app-engine - 是否可以在没有 http 请求的情况下访问 GAE 数据存储？

> ID：14453367
> 
> 赞同：7
> 
> 时间：2013-01-22T07:14:27.723
> 
> 标签：google-app-engine, go

是否可以在不从 http 请求中创建 appengine 上下文的情况下访问 GAE 数据存储？我希望能够在无法访问应用引擎上下文的单独线程中访问数据存储。这可能吗？还是我应该尝试找到解决方法？我使用的语言是 Go btw ...

编辑：更多信息我不能使用将所有 appengine 上下文传递到所需级别的原因是因为我正在构建一个具有多个线程的聊天服务器。一旦使用上下文的一个实例启动主端口侦听线程，它就会在线程的持续时间内保持该上下文。但是，在该线程启动后，可能会有更多到服务器的连接，所有这些连接都无法通过上下文，因为端口侦听器已经启动。我需要一直传递上下文的原因是因为我需要能够在客户端读取处理程序中记录消息。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-23T12:27:28.093

我不确定这是否是您正在寻找的，但 GAE 提供了一个[远程 api](https://developers.google.com/appengine/docs/python/tools/remoteapi)，使您能够与您的服务进行交互。我确信它是为 Python 和 Java 版本提供的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T20:57:55.977

我认为您需要`appengine.Context`（因此也需要请求）才能访问任何数据存储区。幸运的是，该请求应该很容易传递给代码中需要它的任何部分。

我不确定上下文有什么`appengine_internal`作用，但上下文本身可以根据需要来回传递。如果您认为这对您不起作用，也许代码示例将是一个很好的下一步？

# css - 将 textarea 放置在 div 的底部并填充到（宽度 - 2px 边距）

> ID：14453370
> 
> 赞同：0
> 
> 时间：2013-01-22T07:14:37.907
> 
> 标签：css

我以为我们基本上已经过去了这种事情，但我发现了 Firefox 和 IE 与 Chrome 的显示方式不一致（可能是你们所有的 CSS 半神都知道的）。

在这里看看这个 jsfiddle：http: [//jsfiddle.net/smithkl42/jmgEV/1/](http://jsfiddle.net/smithkl42/jmgEV/1/)

```
div.parent{
  position:relative;
  height:200px;
  width:400px;
  background-color:blue;
}

textarea.child{
  position:absolute;
  height:30px;
  bottom:2px;
  left:2px;
  right:2px;
} 
```

在 Chrome 中，它做了我想要的，即`<textarea>`在其父 div 的底部显示 ，并与父 div 一样宽。但在 FireFox 和 IE 中，它会忽略该`right:2px`行，而只是给它默认宽度。

如果我`<textarea>`用 a替换`<div>`（见[这里](http://jsfiddle.net/smithkl42/jmgEV/2/)，它的行为方式就是我想要的。

知道为什么吗？

编辑：感谢所有建议。我应该注意到父元素（在现实世界中，而不是在我的小提琴中）将改变大小，所以我不能使用任何建议，“只需手动设置宽度”。例如，无论其父元素是 1200 像素宽还是 50 像素，我都需要它距左右边缘*正好*两个像素。因此，将其设置为 % 之类的东西，如果主要是固定宽度，它将起作用，不会不在这里工作。有关其他评论，请参见下文。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:29:10.280

总是用 定义被[替换](http://reference.sitepoint.com/css/replacedelements)元素的**宽度**。是一个被替换的元素。像这样写：`position:absolute``<textarea>`

**HTML**

```
<div class="parent">
    <div class="child">
        <textarea></textarea>
    </div>
</div> 
```

**CSS**

```
.parent{
    position:relative;
    height:200px;
    width:400px;
    background-color:blue;
}

.child{
    position:absolute;
    bottom:2px;
    left:2px;
    right:2px;
}
.child textarea{
    width:100%;
    height:30px;
    box-sizing:border-box;
    -moz-box-sizing:border-box;
    -webkit-box-sizing:border-box;
} 
```

检查这个[http://jsfiddle.net/jmgEV/10/](http://jsfiddle.net/jmgEV/10/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:27:18.950

我认为这是错误的 IE 实现 - 他无法对其进行修改。Dat IE。我认为更简单的方法来修复它 - 也设置`mwidth`为`.child`。或设置`min-width`

```
.child{
     position:absolute;
     height:30px;
     bottom:2px;
     right:2px;
     left:2px;
     min-width:394px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:30:30.790

```
.parent{
position:relative;
height:200px;
width:400px;
background-color:blue;
}

.child{
position:absolute;
height:30px;
bottom:2px;
left:2px;
right:2px;
}

<div class="parent">
<textarea class="child" cols="47" style=" resize: none;"></textarea>
</div> 
```

嗨，我希望这会对你有所帮助。演示：http: [//jsfiddle.net/jmgEV/8/](http://jsfiddle.net/jmgEV/8/)

谢谢你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:30:36.703

试试这个 .child{ position:absolute; 宽度：97%；高度：30px；底部：2px；左：2px；右：2px；}

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:34:56.933

`textarea`是一个`inline`元素，元素`div`是一个`block`元素。

在您的工作示例中，这`.child`是一个`div`（a`block`元素），因此它水平拉伸以适合其父 witdh。

在你没有工作的例子中，它`child`是一个`textarea`（一个`inline`元素），所以它不会自动拉伸。

另一个原因是`textarea`元素的默认宽度。这个元素有一个名为 的属性`cols`，它决定了它的`textarea`长度，以字符计算。此属性的默认值为`20`，因此如果不指定该`width`属性的值，您`textarea`将应用此默认值。

**与未`width`指定**的内联元素相比， 与其他内联元素如`span`or `q`，如果`width`未设置该属性，则其宽度将等于 0。

# c++ - C++ 编译器如何设法发出完全无意义的代码？

> ID：14453371
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:48.877
> 
> 标签：c++, visual-c++, compiler-construction, undefined-behavior

[这是此问题](https://stackoverflow.com/q/14355629/57428)的代码的略微修改版本：

```
#pragma warning(default:4716)
int recur(int i) 
{ 
   int result;
   result = (i>1 ? i - recur(i/2) : 3);
   // return intentionally omitted
}

int main()
{
    return recur(0);
} 
```

请注意，`recur()`省略`return`，因此其行为未定义。下面是 Visual C++ 10 为此代码发出的内容：

```
 316: int main()
 317: {
00403940  push        ecx  
 318:   return recur(0);
00403941  mov         eax,dword ptr [esp]  
 319: }
00403944  pop         ecx  
00403945  ret 
```

是的，我知道在未定义行为的情况下，任何事情都是允许的。但是这段代码完全没有意义，编译器就是一个程序，所以我不会指望它会做出毫无意义的事情。

编译器如何设法发出完全无意义的代码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:47:20.327

由于代码具有未定义的行为，编译器实际上可以做任何事情，包括生成无意义的代码。

这里最有可能发生的是编译器忠实地编译了您的代码并将其传递给优化器，优化器进行了一些内联和常量表达式折叠。
在损坏的代码上使用该过程恰好会导致您看到的结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:41:53.837

从编译器的角度来看，`return smth;`语句意味着简单的事情：生成一些代码以根据调用约定将结果返回给调用者（对于“C”、x86/amd64 和普通类型通常意味着将 smth 放入`eax`/`rax`寄存器）。如果你错过了`return`这只是意味着编译器你不会生成这样的代码（`mov result, %eax`）。通常它会导致警告（至少）：*在返回 non-void 的函数中没有 return 语句*。但它可能很好，如果函数体有`asm`部分而不是编译器......在那种（罕见的）情况下，警告通常被 #pragma 或相应的命令行选项抑制。是的，一般来说错过返回会导致 UB ......

# vba - VBA excel - 当任一单元格更改时，根据彼此更改两个单元格的值

> ID：14453372
> 
> 赞同：3
> 
> 时间：2013-01-22T07:14:49.730
> 
> 标签：vba, excel

我想在excel上做一个货币转换器。

```
Cell B1 = exchange rate
cell B2 = base currency amount
cell B3 = counter currency amount. 
```

例子：

```
B1 = 1.3, B2 = Euro amount, B3 = USD amount. 
```

所有三个单元格都通过一个公式相互连接`B3 = B1*B2`。

我希望能够在 处输入一个值`B2`，并`B3`自动更新`(B3 = B2*B1)`

当我在 处输入值`B3`并`B2`更新自身时`(B2 = B3/B1)`。

下面的代码是我能想到的最好的代码，但是它会产生堆栈空间不足的错误，因为（*我猜，它进入了一个无限循环（`B2`更新时，`B3`更新自身，进而`B2`再次更新......*）。

有什么建议吗？

```
Private Sub Worksheet_Change(ByVal Target As Range)
    Dim EUR As Range
    Set EUR = Range("b2")

    Dim USD As Range
    Set USD = Range("b3")

    If Not Application.Intersect(EUR, Range(Target.Address)) Is Nothing Then
        Sheets("sheet1").Range("B3").Value = Range("B2") * Range("B1")
    Else
        If Not Application.Intersect(USD, Range(Target.Address)) Is Nothing Then
            Sheets("sheet1").Range("B2").Value = Range("B3") / Range("B1")
        End If
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:01:59.503

如果崩溃确实是由于无限循环，您可以尝试在宏的开头禁用 Excel 事件，并在最后重新启用它们。

Snipplet，基于[这篇文章](http://vbadud.blogspot.com/2007/03/disabling-excel-events.html)：

```
Application.EnableEvents = False

' Your code

Application.EnableEvents = True 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T09:10:12.323

像这样的东西会更容易阅读。您可能需要使用公式，因为我不是 100% 确定您在做什么：

```
Private Sub Worksheet_Change(ByVal Target As Range)

If Target.Address = "$B$2" Then
    Range("B3") = Range("B2") * Range("B1")
End If

If Target.Address = "$B$3" Then
    Range("B2") = Range("B3") / Range("B1")
End If

End Sub 
```

# kml - KML 适用于本地 GE，不适用于 HTML

> ID：14453373
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:49.480
> 
> 标签：kml

我是 Google 地球的新手。我正在尝试开发一个应用程序来可视化地图上的天气数据。这是可以在本地 GE 上运行的简单代码（我只是从其他地方复制了一个示例）

```
<?xml version="1.0" encoding="utf-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2">
  <Document>
    <Style id="s1">
      <LineStyle>
        <color>7f0000ff</color>
        <width>4</width>
      </LineStyle>
      <PolyStyle>
        <color>7f0000ff</color>
        <colorMode>normal</colorMode>
        <fill>1</fill>
        <outline>1</outline>
      </PolyStyle>
    </Style>

    <name>All isolation countries</name>
    <description>All isolation countries</description>
    <Placemark>
      <styleUrl>#s1</styleUrl>
      <name>Indonesia</name>
    </Placemark>
    <Placemark>
      <styleUrl>#s1</styleUrl>
      <name>Ecuador</name>
      <Polygon>
      <tessellate>1</tessellate>
        <extrude>1</extrude>
        <altitudeMode>clampedToGround</altitudeMode>
        <outerBoundaryIs>
          <LinearRing>
            <coordinates>-90.61167907714844,-0.3755556046962738,0 -90.77166748046875,-0.344166785478592,0 -90.87222290039063,-0.2652778923511506,0 -90.79332733154297,-0.149444505572319,0 -90.77362060546876,-0.1550000011920929,0 -90.58556365966797,-0.2455555945634842,0 -90.55029296875,-0.3091666996479035,0 -90.61167907714844,-0.3755556046962738,0</coordinates>
          </LinearRing>
        </outerBoundaryIs>

      </Polygon>
    </Placemark>
    </Document>
    </kml> 
```

* * *

这是我在 HTML 中集成的代码

```
<html>
<head>
  <title>Sample</title>
  <script type="text/javascript" src="https://www.google.com/jsapi"> </script>
  <script type="text/javascript">
    var ge;
    var placemark;
    var object;

    google.load("earth", "1");

    function init() {
      google.earth.createInstance('map3d', initCB, failureCB);
    }

    function initCB(instance) {
      ge = instance;
      ge.getWindow().setVisibility(true);

     var kmlString = ''
     + '<?xml version="1.0" encoding="UTF-8"?>'
     + '<kml xmlns="http://www.opengis.net/kml/2.2">'
     + '<Document>'
     + ' <Style id="s1">'
     + ' <LineStyle>'
     + '  <color>7f0000ff</color>'
       + ' <width>4</width>'
      +'</LineStyle>'
     +' <PolyStyle>'
      +'  <color>7f0000ff</color>'
       +' <colorMode>normal</colorMode>'
       +' <fill>1</fill>'
       +' <outline>1</outline>'
     +' </PolyStyle>'
    +'</Style>'
    +'<name>All isolation countries</name>'
    +'<description>All isolation countries</description>'
    +'<Placemark>'
     +' <styleUrl>#s1</styleUrl>'
     +' <name>Indonesia</name>'
    +'</Placemark>'
    +'<Placemark>'
     +' <styleUrl>#s1</styleUrl>'
      +'<name>Ecuador</name>'
      +'<Polygon>'
      +'<tessellate>1</tessellate>'
        +'<extrude>1</extrude>'
        +'<altitudeMode>clampedToGround</altitudeMode>'
        +'<outerBoundaryIs>'
          +'<LinearRing>'
            +'<coordinates>-90.61167907714844,-0.3755556046962738,0 -90.77166748046875,-0.344166785478592,0 -90.87222290039063,-0.2652778923511506,0 -90.79332733154297,-0.149444505572319,0 -90.77362060546876,-0.1550000011920929,0 -90.58556365966797,-0.2455555945634842,0 -90.55029296875,-0.3091666996479035,0 -90.61167907714844,-0.3755556046962738,0</coordinates>'
          +'</LinearRing>'
        +'</outerBoundaryIs>'
     +' </Polygon>'
    +'</Placemark>'
                         + '</Document>'
                         + '</kml>';

         var kmlObject = ge.parseKml(kmlString);
         ge.getFeatures().appendChild(kmlObject);
         ge.getView().setAbstractView(kmlObject.getAbstractView());
    }

    function failureCB(errorCode) {
    }

    google.setOnLoadCallback(init);
  </script>

</head>
<body>
  <div id="map3d" style="height: 400px; width: 600px;"></div>
</body>
</html> 
```

* * *

谁能给我一些想法？另外，我需要大量的纬度、经度和高度的数据输入，有没有办法读取这些文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T15:44:05.373

JavaScript Maps API 将*仅*接受来自可公开访问的 URL 的 KML - 您不能传入字符串/文件。如果您需要使用本地 KML 文件，您必须自己解析 KML 并使用 Google Maps API 创建形状。在此处查看这篇出色的帖子：[Google Maps API 和 KML File LocalHost Development Options](https://stackoverflow.com/questions/6092110/google-maps-api-and-kml-file-localhost-development-options)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-19T07:43:59.037

正如 Matthew 所说，Google 地图需要使用远程 URI 来获取您的 KML：将其保存为具有公共 URI 的文件。

[GeoXML3](https://code.google.com/p/geoxml3/)可以读取和映射 KML，并且不受此限制。

# url-routing - ZF2 | 使用 Zend\Mvc\Router\Http\Method 路由发布数据

> ID：14453374
> 
> 赞同：3
> 
> 时间：2013-01-22T07:14:52.587
> 
> 标签：url-routing, zend-framework2

# ZF2 中的路由发布数据

我尝试在 zf2 中设置路由，其中​​路由的所有发布数据都`/connection/add`使用此 yaml 配置路由到单独的方法：

```
router:
  routes:
    home:
      type: literal
      options:
        route: '/'
        defaults:
          controller: Admin\Dashboard
          action:     index

    connection:
      type: literal
      options:
        route: '/connection'
        defaults:
          controller: Admin\Connection
          action:     list

      may_terminate: true
      child_routes:
        add:
          type: literal
          options:
            route: '/add'
            defaults:
              action: add

          may_terminate: true
          child_routes:
            post:
              type: method
              options:
                verb: post
                defaults:
                  action: test 
```

[上面示例中的所有内容都可以正常工作，除了使用Zend\Mvc\Router\Http\Method](http://framework.zend.com/manual/2.0/en/modules/zend.mvc.routing.html#zend-mvc-router-http-method)`post`类型的最深的孩子

## 预期输出：

当一个人向 rout 提交帖子数据时`/connection/add`，该人将被路由到该`test`操作。

## 实际输出：

上述路由中的最后一个子节点将被忽略，并且`add`在调度从表单发送的 post 数据时仍会调用该操作。

## 问题：

*   我错过了什么？
*   有没有办法在我的应用程序中使用这种路由？
*   如果是这样，配置看起来如何？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T18:11:31.863

这实际上是可能的，它只需要更明确的配置。

您的示例不起作用的原因是路由器成功匹配了您的“添加”路由，并且只是返回那里而没有向前看。您必须通过将“may_terminate”设置为 false 并明确定义要在 child_routes 中处理的所有方法来告诉它它不能在那里终止。

```
 add:
        type: Literal
        options:
            route: '/add'
            defaults:
                action: add
        may_terminate: false
        child_routes:
            post:
                type: method
                options:
                    verb: post
                    defaults:
                        action: test
            everythingelse:
                type: method
                options:
                    verb: 'get,head,put,delete'
                    defaults:
                        action: add 
```

请记住，关键是将 'may_terminate' 设置为 false，这样路由器就不会过早返回匹配项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T08:51:34.313

这可能是因为您将它作为 add 路由的子级，也许尝试将它添加到同一级别而不是作为子级？

```
 child_routes:
    add:
      type: literal
      options:
        route: '/add'
        defaults:
          action: add
      may_terminate: true
    post:
      type: method
      options:
        verb: post
        defaults:
          action: test
      may_terminate: true 
```

使它不是“添加”路线的孩子，而是兄弟姐妹。

# python - 表达通过两个“命名”值专门切换的变量的大多数 Pythonic 方式

> ID：14453375
> 
> 赞同：1
> 
> 时间：2013-01-22T07:14:56.800
> 
> 标签：python, coding-style, readability

我有一个非常复杂的迭代，每次循环时，我都需要一个影响循环中完成的工作的“参数”。基本上，我一直在做以下事情：

```
CLOSE_SIDE = 0
FAR_SIDE = 1

....

while (...):
    if (side == CLOSE_SIDE):
        ....
    else if (side == FAR_SIDE):
        ....

    ....

    side = FAR_SIDE if (side == CLOSE_SIDE) else CLOSE_SIDE 
```

我意识到我可以只使用布尔值，但我觉得这降低了我正在做的事情的可读性和明显性。我希望这两个州被“命名”。此外，尽管任务紧凑，但感觉非常笨重。并做一个完整的 if 语句：

```
if side == CLOSE_SIDE:
    side = FAR_SIDE
else if side == FAR_SIDE:
    side = CLOSE_SIDE 
```

感觉同样笨重。

解决这个问题的最佳方法是什么？这更像是一个风格问题。想听听社区的一些意见

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:19:47.410

您可以为变量选择适当的名称并在 和 之间切换，而不是命名这两个`bool`值：`True``False`

```
while (...):
    if far:
        ....
    else:
        ....

    ....

    far = not far 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T07:19:57.770

如果问题主要与样式有关，则 CleanestSolution(tm) 将翻转逻辑隔离在一个函数中：

```
 side = switch_side(side) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T07:19:25.553

```
CLOSE_SIDE = -1
FAR_SIDE = 1

# change sides
side = -side 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T07:17:26.477

不是说它变化太大，而是在两个整数之间切换，有这样一个常见的习惯用法：

```
side = CLOSE_SIDE + FAR_SIDE - side 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T13:39:34.493

在布尔名称前面加上`IS_`or `ON_`，使其含义变得明显：

```
ON_FAR_SIDE = True

while (...):
    if ON_FAR_SIDE:
        ....
    else:
        # Must be on near side
        ....

    # Switch sides
    ON_FAR_SIDE = not ON_FAR_SIDE 
```

重要的部分是选择一个好的变量名。

# wcf - WCF 消息安全

> ID：14453376
> 
> 赞同：0
> 
> 时间：2013-01-22T07:15:03.413
> 
> 标签：wcf, message, ws-security

我有 WCF 服务和服务器证书以及 Windows 窗体或 WPF 客户端。

是否需要将私钥导出到客户端。如果是为什么？我认为我们应该只将公钥导出到外面的世界。请澄清一下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:18:21.320

您不需要发布私钥。您是否使用 SSL 进行连接。如果您需要设置传输级别安全的绑定，就应该这样。客户端应该能够与服务器通信，而不需要做太多的摆弄。

# mysql - 跨数据库中的表替换列值

> ID：14453377
> 
> 赞同：1
> 
> 时间：2013-01-22T07:15:05.017
> 
> 标签：mysql

我的数据库中有两个表，它们在不同表的不同列中具有共同的值。我想用数据库中所有表的新值替换该值

例如：

**表1：**

```
id    gid        pid

1     local      new
2     remote     old
3     local      local
4     remote      new 
```

**表2：**

```
id    gid          pid

1     local        new
2     new          old
3     local       local
4     remote      local 
```

我想`10.0.0.0`在数据库标签中的所有表中用 IP 替换“本地”单词。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:44:12.080

您可以通过使用 php 和 mysql 来做到这一点，如下所示....

```
<?php
     $db = mysql_connect(‘localhost’,’myuser_mydbuser‘,’mypassword‘);
     if(!$db) echo "Cannot connect to the database – incorrect details";

     mysql_select_db(‘myuser_mydbname’); 
     $result=mysql_query(‘show tables’);

     while($tables = mysql_fetch_array($result)) {
        foreach ($tables as $key => $value) {
           mysql_query("UPDATE $value set pid = '10.0.0.0' WHERE pid = 'local' ");
     }}
     echo "The collation of your database has been successfully changed!";
 ?> 
```

# c# - 使用换行符返回 RegExp C#

> ID：14453385
> 
> 赞同：1
> 
> 时间：2013-01-22T07:15:49.667
> 
> 标签：c#, regex

我在 C# 中遇到了正则表达式的问题。我所拥有的是一个代表页面（HTML 等）的字符串。该字符串还在不同的地方包含 \r\n、\r 和 \n，现在我正在尝试匹配字符串中的某些内容：

```
Match currentMatch = Regex.Match(contents, "Title: <strong>(.*?)</strong>");
string org = currentMatch.Groups[1].ToString(); 
```

这很好用，但是，当我想匹配字符串中包含前面提到的任何字符（换行符）的内容时，它不会返回任何内容（空，不匹配）：

```
Match currentMatch = Regex.Match(contents, "Description: <p>(.*?)</p>");
string org = currentMatch.Groups[1].ToString(); 
```

但是，如果我在比赛上方添加以下几行，它确实有效：

```
contents = contents.Replace("\r", " ");
contents = contents.Replace("\n", " "); 
```

但是我不喜欢它修改源，我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:34:34.750

默认情况下`.`不匹配换行符。您可以使用[Regex Option](http://msdn.microsoft.com/en-us/library/yd1hzczs.aspx) `Singleline`更改此设置。这将整个输入字符串视为一行，即点也匹配换行符。

```
Match currentMatch = Regex.Match(contents, "Title: <strong>(.*?)</strong>", RegexOptions.Singleline); 
```

顺便说一句，我希望你知道正则表达式通常不是处理 Html 的方法吗？

# ios - 如何使用ios中的一些输入数据创建二维码

> ID：14453389
> 
> 赞同：6
> 
> 时间：2013-01-22T07:15:53.573
> 
> 标签：ios, xcode, ipad, qr-code, barcode-scanner

有没有人有关于使用用户输入的一些数据生成二维码的示例应用程序或想法，如 ID、姓名、地址等。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:18:14.153

您可以在这里选择生成二维码

这些是第三方库 1) [https://github.com/myang-git/QR-Code-Encoder-for-Objective-C](https://github.com/myang-git/QR-Code-Encoder-for-Objective-C) 2) [https://github.com/kuapay/iOS-QR-Code-Generator](https://github.com/kuapay/iOS-QR-Code-Generator)

但如果你真的想知道这个概念，这是一个好的开始 [http://www.onbarcode.com/products/iphone_barcode/barcodes/qrcode.html](http://www.onbarcode.com/products/iphone_barcode/barcodes/qrcode.html)

# visual-c++ - 在路径中有空格的图像文件上运行 Windows PhotoViewer

> ID：14453390
> 
> 赞同：0
> 
> 时间：2013-01-22T07:16:11.373
> 
> 标签：visual-c++, command-line, process, createprocess, rundll32

我在路径中有空格的图像文件上运行 PhotoViewer 时遇到问题。

我正在使用 C++ 函数 CreateProcess，提供一个命令行作为它的参数。命令行模板是：

```
"rundll32 <path to PhotoViewer.dll> ImageView_Fullscreen <path to image> "
e.g.
"rundll32 \"C:\\Program Files\\Windows Photo Viewer\\PhotoViewer.dll\" ImageView_Fullscreen Z:\\Documents\\Projects\\ScreenCapture1\\ScreenCapture\\ScreenCapture\\sample.bmp" 
```

这里的问题是必须没有双引号并且不能包含空格。

我的代码或多或少是这样的

```
_tcscpy_s( str, 200, _T("rundll32 \"C:\\Program Files\\Windows Photo Viewer\\PhotoViewer.dll\" ImageView_Fullscreen Z:\\Documents\\Projects\\ScreenCapture1\\ScreenCapture\\ScreenCapture\\sample.bmp") );
CreateProcess( NULL,            // No module name (use command line). 
        str,            // Command line. 
        NULL,           // Process handle not inheritable. 
        NULL,           // Thread handle not inheritable. 
        FALSE,          // Set handle inheritance to FALSE. 
        0,              // No creation flags. 
        NULL,           // Use parent's environment block. 
        NULL,           // Use parent's starting directory. 
        &si,            // Pointer to STARTUPINFO structure.
        &pi );          // Pointer to PROCESS_INFORMATION structure.

HANDLE hProcess = pi.hProcess;
CloseHandle(hProcess); 
```

现在我想在路径上有空格的图像文件上运行 PhotoViewer，例如

```
C:\the folder\has spaces\the image file.bmp 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-17T03:42:22.730

如果其中有带波浪号的空格，请使用旧的 windows 样式路径。

例如，

```
c:\thefol~1\hasspa~1\theima~1.bmp 
```

# java-me - 诺基亚 S40 第 6 版 SDK 的模拟器没有运行......我应该怎么做才能尽快运行这个？

> ID：14453397
> 
> 赞同：1
> 
> 时间：2013-01-22T07:16:28.973
> 
> 标签：java-me, emulation, nokia-s40

我已经安装了诺基亚 S40 第 6 版 SDK（6260 幻灯片手机模拟器）并使用 Netbeans 7.2 IDE 进行我的应用程序开发。在 NetBeans 中，当我使用 S40 SDK 配置运行我的项目时，它给了我以下错误：-

创建新的“Series 40 6th Edition SDK”实例...

“Series 40 6th Edition SDK”连接终止

E:\My Netbeans project\MidletGPS\nbproject\build-impl.xml:782：执行失败，错误代码为 -1072365566。

构建失败（总时间：0 秒）

**构建-impl.xml:782:-**

`<nb-run jadfile="${dist.dir}/${dist.jad}" jarfile="${dist.dir}/${dist.jar}" jadurl="${dist.jad.url}" device="${platform.device}" platformhome="${platform.home}" platformtype="${platform.type}" execmethod="${run.method}" securitydomain="${evaluated.run.security.domain}" commandline="${platform.runcommandline}" classpath="${platform.bootclasspath}:${dist.dir}/${dist.jar}" cmdoptions="${run.cmd.options}"/>`

当我直接运行模拟器时，SDK 通过显示消息运行 cmd & -

创建新的“Series 40 6th Edition SDK”实例...

“Series 40 6th Edition SDK”Connection Terminated”它在没有运行实际模拟器的情况下关闭。

我没有得到我应该做些什么来克服这个？请帮忙......

**注意：我已经有诺基亚 1.0 & 2.0 SDK**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-05T00:45:04.003

我的模拟器也曾经这样做过。我要做的就是把它找回来。我也停止了所有 javaw 进程和 Nokia sdk，并尝试重新启动模拟器。如果这不起作用，请停止 javaw 进程和 Nokia sdk，然后从 Nokia/Devices/bin/emulator.exe 启动模拟器

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T13:22:11.890

您是否尝试过在运行之前清理然后构建？我猜它找不到jar文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-10T05:01:58.360

问题已解决朋友....thanx 的建议，但真正的问题是诺基亚 1.0 SDK。在计算机上同时运行诺基亚 1.0 和 S40 SDK 将运行诺基亚 1.0 或运行诺基亚 S40 SDK...您可以安装和运行其中任何一个，而不是同时运行它们...。

# asp.net - 使用传递参数 在 ASP.NET 中

> ID：14453404
> 
> 赞同：5
> 
> 时间：2013-01-22T07:16:51.260
> 
> 标签：asp.net, web-config, parameter-passing, http-redirect

在我的 ASP.Net 网站中，我使用`<httpRedirect>`Web 配置将 URL 永久重定向到其他位置。
我正在从表中读取 URL 值并使用`Response.Redirect( URL );`
它重定向到该 URL，它运行良好。
但是现在当我尝试使用以下方法将参数发送到调用页面时：

```
Response.Redirect("Default.aspx?name=stackoverflow"); 
```

`<httpRedirect>`在 web.config 中调用是`Default2.aspx`因为 web.config 中的以下代码：

```
<location path="Default.aspx">
    <system.webServer>
        <httpRedirect enabled="true" destination="Default2.aspx" httpResponseStatus="Permanent" />
    </system.webServer>
</location> 
```

问题是`Default2.aspx`没有收到任何参数。
请帮忙。

**注意：**我不能使用会话变量，因为页面内容取决于该参数。

例如，
如果用户在新选项卡中打开另一个页面，`Default.aspx?name=MetaStackOverflow`会话变量将被替换，如果第一页被刷新，那么`Stackoverflow`它将显示`MetaStackOverflow`.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-11T22:36:10.830

不要忘记特殊字符$V$Q 并且exactDestination 必须设置为True。

`<location path="Help"> <system.webServer> <httpRedirect enabled="true" destination="/Redirect.aspx$V$Q" httpResponseStatus="Permanent" exactDestination="true" /> </system.webServer> </location>`

# c# - 使用 radgrid 更新记录

> ID：14453405
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:16:55.013
> 
> 标签：c#, asp.net, telerik, radgrid

这是我的代码

aspx

```
 <telerik:GridEditCommandColumn HeaderStyle-Width="25px" EditImageUrl="../images/Edit.gif"
                    ButtonType="ImageButton" ItemStyle-HorizontalAlign="Right">
                </telerik:GridEditCommandColumn>
                <telerik:GridTemplateColumn HeaderText="Comments" HeaderStyle-Width="400px" DataField="Comments"
                    HeaderStyle-CssClass="tblHeaderNoBorder">
                    <ItemTemplate>
                        <asp:Label runat="server" ID="lblComments" Text='<%# Eval("Comments") %>' />
                    </ItemTemplate>
                    <EditItemTemplate>
                        <telerik:RadTextBox ID="txtComments" runat="server" Height="40px" Width="100%" TextMode="MultiLine"
                            Enabled="true" Text='<%# Eval("Comments") %>' BackColor="LightPink">
                        </telerik:RadTextBox></EditItemTemplate>
                </telerik:GridTemplateColumn> 
```

aspx.cs

```
protected void RadGrid1_UpdateCommand(object source, GridCommandEventArgs e)
    {
     if ((e.Item is GridEditableItem) && (e.Item.IsInEditMode))
            {
                GridEditableItem item = (GridEditableItem)e.Item;
                RadTextBox txtComments = (RadTextBox)item.FindControl("txtComments");
                RadGrid1.DataBind();
            } 
```

这是场景，当我单击更新时，这必须更新记录。如何更新记录？请帮我。

我还设置了 AllowAutomaticUpdate = "true"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:44:37.047

检查你是否有 put update 命令。

您必须创建与 radgrid 相关的数据源的更新命令，否则无法更新。否则您必须将更新逻辑放入

`protected void RadGrid1_UpdateCommand`

# git - 为裸回购设置接收后挂钩

> ID：14453411
> 
> 赞同：14
> 
> 时间：2013-01-22T07:17:19.620
> 
> 标签：git, github, githooks

我在我的 ubuntu 服务器中设置了一个裸仓库。

在我将裸 git repo 推送到服务器后：

```
$ git push origin master 
```

我希望使用最新推送来更新我的非裸 repo 的内容，如图所示，非裸 repo 是我名为 workfiles 的实际工作目录。

```
$ cd /central/workfiles
$ git pull
$ exit 
```

我听说过 post-receive 挂钩，但不知道如何设置。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-01-22T07:39:30.427

我更喜欢指定工作树和 git 目录，而不是依赖 cd：

```
/bare/repo.git/hooks/post-receive

#!/bin/sh
GIT_WORK_TREE=/central/workfiles GIT_DIR=/central/workfiles/.git git pull origin master
exit 
```

正如[ChrisV](https://stackoverflow.com/users/342943/chrisv)[在下面评论](https://stackoverflow.com/questions/14453411/setting-up-post-receive-hook-for-bare-repo/14453711?noredirect=1#comment45159682_14453711)的那样，您也可以依靠 a而不是 a`git checkout``git pull`

> 我相信`git checkout -f`比 更安全`git pull`，因为如果需要手动修复，作为 pull 的一部分的合并有可能使事情变得混乱。

但这意味着`/central/workfiles`不是“*非*裸”git repo。它只是一个文件夹，您可以在其中签出裸 repo 的内容`/bare/repo.git`。有关该方法的示例，
请参见[Brian Thomas](https://stackoverflow.com/users/1091853/brian-thomas)的[回答。](https://stackoverflow.com/a/24027870/6309)

那不符合 OP 规范。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-06-04T02:05:20.320

我像这样使用帖子接收钩子

```
#.git/hooks/post-receive

#!/bin/sh
GIT_WORK_TREE=/srv/http/sitedir/ git checkout -f 
```

是的，请确保使其可执行。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T07:28:41.250

我会选择类似的东西

```
#!/bin/sh

cd /central/workfiles
git pull
exit 
```

将上面的脚本另存为`post-receive`并将其放在`hooks/`您的裸仓库目录中。

底线不要忘记使其可执行

```
chmod +x post-receive 
```

# blackberry - 在多个屏幕上运行我的黑莓应用程序的技巧

> ID：14453412
> 
> 赞同：0
> 
> 时间：2013-01-22T07:17:23.363
> 
> 标签：blackberry, blackberry-eclipse-plugin, blackberry-jde

有什么技巧可以让我在不同的屏幕尺寸和分辨率下运行我的黑莓应用程序..我正在使用带有黑莓插件的eclipse..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:55:50.310

是的，您可以安装更多 BB 智能手机模拟器并在其上测试您的应用程序。

这是链接：[http ://docs.blackberry.com/en/developers/subcategories/?userType=21&category=BlackBerry+Smartphone+Simulator](http://docs.blackberry.com/en/developers/subcategories/?userType=21&category=BlackBerry+Smartphone+Simulator)

# php - 无法删除一对多关系中的记录 laravel eloquent

> ID：14453418
> 
> 赞同：0
> 
> 时间：2013-01-22T07:17:43.500
> 
> 标签：php, laravel, eloquent

我对 laravel 中的以下错误感到震惊：有 2 个表用户和轨道具有多对多关系，中间表名称是 track_user 我正在尝试删除记录但无法删除

```
Unhandled Exception

Message:

Call to a member function track() on a non-object
Location:

C:\wamp\www\integron\application\controllers\track.php on line 50 
```

**mysql错误：**

```
SQL query:
DELETE FROM  `integron`.`tracks` WHERE  `tracks`.`id` =2

MySQL said: 

#1451 - Cannot delete or update a parent row: a foreign key constraint fails (`integron`.`track_user`, CONSTRAINT `track_user_project_id_foreign` FOREIGN KEY (`track_id`) REFERENCES `tracks` (`id`)) 
```

**用户模型：**

```
<?php 
class User extends Eloquent{
public static $table = 'users';
public function tracks()
    {
        return $this->has_many_and_belongs_to('Track');
    } 
```

**轨道型号：**

```
<?php 
class Track extends Eloquent{
public static $table = 'tracks';
public function users()
    {
        return $this->has_many_and_belongs_to('User');
    } 
```

**控制器**

```
//this funciton is working properly

public function post_trackUpdate($id){
    $track = Track::find($id);
    $track->name = Input::get('name');
    $track->description = Input::get('desc');
    $track->save();
}
//this funciton is not working properly
public function get_trackDelete($id){
    $track = Track::find($id);
    $track->delete();
} 
```

..

```
//an alternate which i tried but didnt work either
public function get_trackDelete($id){
    $user=User::find($id);
    $user->tracks()->delete();
    Session::flash('result','track Details deleted');
    return Redirect::to('track');
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-30T20:46:22.267

从 laravel 文档“附加的反面是分离：”

[在http://four.laravel.com/docs/eloquent](http://four.laravel.com/docs/eloquent)中寻找它

离开的例子：

```
$circle->users()->detach($user_id);
$circle->save(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T10:45:47.420

您必须首先从复合 user_track 表中删除记录。只有这样，您才能删除跟踪表中的父记录。

# hook - 上下文路径在 liferay Hook 中不起作用

> ID：14453419
> 
> 赞同：1
> 
> 时间：2013-01-22T07:17:56.510
> 
> 标签：hook, liferay-6

我正在创建一个钩子，我想在其中将我的图像添加到自定义 jsp 中。

我在**docroot/images/1.jpg中添加了图像**

在jsp中我试图使用它来访问它

```
<img src="<%=request.getContextPath()%>/images/1.jpg"  /> 
```

但我无法获得图像。

此外，当我尝试打印 <%=request.getContextPath()%> 时，仅打印**“/”**

谢谢 ！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T11:34:34.953

建议您不要从您的战争（docroot 文件夹）中获取图像，而是将图像放在 Web 服务器中，以便将来如果您想更改图像，您可以轻松地替换它们。

您可以在您的 jsp 页面中使用以下代码从 Web 服务器检索，

```
<div class="yourCSSClass">
        <liferay-ui:icon src="/yourWebServerPath/1.jpg" label="" message=""/>
</div> 
```

它的另一种味道，

如果您有以下代码，请在您的 JSP 页面中，

```
<nav class="yourCSSClass"><br/><br/></nav> 
```

然后，在您在 JSP 页面中导入的 CSS 文件中，使用它，

```
.yourCSSClass{
    background: url(yourWebServerPath/1.jpg) no-repeat;
    } 
```

**PS**：在以上两个示例中，正确确定的值`yourWebServerPath`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-14T16:42:43.383

很老的问题，但仍然值得回答。

您的**钩子**将门户的 JSP 替换为您自己的 JSP，但这并不意味着新 JSP*的上下文*是您的钩子的上下文。

实际发生的是 JSP 在文件系统级别被替换，并由其他 Liferay JSP 和配置调用，因为它们是原始的。

因此`request`，您可以访问的是主要的和原始的。

据我所知，没有干净的方法来获取提供覆盖 JSP 的钩子的上下文路径。

# jquery - Jquery：在slidetoggle div内可排序

> ID：14453423
> 
> 赞同：0
> 
> 时间：2013-01-22T07:18:30.240
> 
> 标签：jquery, css, jquery-ui, jquery-ui-sortable, jquery-slide-effects

我正在使用 jquery 构建一个新的 UI，并且在使用滑动切换显示的 div 中使用 .sortable 时遇到了一些问题。这是 HTML（MVC 剃刀）：

```
<div style="float:left; width:200px; margin-right:5px" >
    <div class="FeaturesContainer">  
    <b>Project backlog</b><br /> 
        @foreach (var feature in Model.Managment.tasksByFeature)
        {
            if (feature.Value.Count != 0)
            { 
                <div class="FeatureContainer">
                    <div class="FeatureHeading" id="@feature.Key.id">
                         <div class="icon" style="float:right">
                            <img width="20" src="../../Content/images/down.png" />
                         </div>
                        <span class="FeatureTitle">@feature.Key.summary</span>      
                    </div>
                    <div class="Feature">
                        <ul class="drop">
                        @foreach (var task in feature.Value)
                            { 
                                <li class="taskItem">
                                    @Html.ActionLink(task.summary, "Task", new { proj = Model.Managment.project.Id, id = task.id })<br />
                                    Effort: @task.Effort
                                </li>
                            }
                        </ul>
                    </div> 
                </div>
            }
        }
    </div>
</div>

<div style="float:left; width:190px;">
    <div class="SprintContainer" id="@Model.Managment.sprint.Id">
        <b>Tasks for this sprint</b><br />
        <ul class="drop">
        @foreach (var task in Model.Managment.tasksInSprint)
        {
            <li class="taskItem">
                @Html.ActionLink(task.summary, "Task", new { proj = Model.Managment.project.Id, id = task.id })<br />
                Effort: @task.Effort
            </li>
        }
        </ul>
        Max Effort: @Model.Metrics.Velocity<br />
        Total Effort: @Model.Managment.tasksInSprint.Sum(i => i.Effort)
    </div>
</div> 
```

和 revlevent CSS：

```
.drop 
    { 
        list-style-type: none; 
        margin: 0; 
        float: left; 
        margin-right: 5px; 
        background: #eee; 
        padding: 5px; 
        width: 158px;
        min-height:75px;
    }    

    .drop li 
    { 
        padding: 5px; 
        font-size: .9em; 
        width: 145px; 
        cursor:move;
    }   

    .highlight
    {
        border: 1px dashed #3E3E3E;
        height:50px;
        margin-bottom:2px;
    }

    .FeaturesContainer
    {
        background-color:#FFFFFF;
        border: 2px solid #3E3E3E;
        color:#FE7F00;
        padding:5px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        margin:  0 0 10px 0;  
    }

    .SprintContainer
    {
        background-color:#FFFFFF;
        border: 2px solid #3E3E3E;
        color:#FE7F00;
        padding:5px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        margin-bottom:10px;
        margin-right: 5px;  
    }

    .FeatureContainer
    {
        background-color:#BEBEBE;
        border: 1px solid #3E3E3E;
        color:#FE7F00;
        padding:5px;
        margin-bottom:10px;
        margin-top:5px;
        margin-right: 5px;  
    }

    .FeatureHeading
    { 
        padding: 5px 10px;
        cursor: pointer;
        position: relative;
        margin:1px;
        color:#FFFFFF;
        background-color:#006600;
        border-left: 1px solid #3E3E3E;
        border-right: 1px solid #3E3E3E;
        border-top: 1px solid #3E3E3E;
    }

    .Feature
    {
        padding:0;
        margin:0 0 0 0;
        position:relative;
        border-left: 1px solid #3E3E3E;
        border-right: 1px solid #3E3E3E;
        border-bottom: 1px solid #3E3E3E;

    } 
```

和 jQuery：

```
$(function () {
    $("ul.drop").sortable({ connectWith: "ul", dropOnEmpty: true, placeholder: "highlight" });
});

$(document).ready(function () {
        var visible = true;
        $(".Feature").hide();

        $(".FeatureHeading").click(function () {
            $(this).next(".Feature").slideToggle(function () {
                visible = !visible;
                $(this).css({'height': 'auto'})
                if (visible) {
                    $('img', this).attr('src', '../../Content/images/down.png');
                }
                else {
                    $('img', this).attr('src', '../../Content/images/up.png');
                }

            });
        });
}); 
```

问题是，当我单击 FeatureHeading 时，Feature 会按预期向下滑动，但动画完成后它会立即折叠，但 Feature div 的内容仍然可见。列表项仍然可以拖动，我可以将它们放到 Sprintcontainer 中。

如果我将溢出：隐藏添加到功能，该功能将根据需要显示，但是一旦我尝试将列表项拖到 SprintContainer 项目似乎在 FeatureContainer 后面，我看不到它被拖到我在 sprint 容器上释放鼠标，此时列表项按预期显示在 sprint 容器中。

是否可以在 slidetoggle div 中有一个可排序的列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T06:12:49.810

当您使用溢出：隐藏时，请尝试使用 'appendTo: document.body'

[http://api.jqueryui.com/sortable/#option-appendTo](http://api.jqueryui.com/sortable/#option-appendTo)

它将解决您对 FeatureContainer 后面的项目的问题

# python - Python 迭代来自 dateutil 的 rrule

> ID：14453428
> 
> 赞同：1
> 
> 时间：2013-01-22T07:18:39.237
> 
> 标签：python, python-2.7, python-dateutil

我试图在从 rrule 返回的列表上迭代一个函数并不断收到“对象没有属性' **getitem** '”消息。这是否意味着我首先必须“解析”来自 rrule 的结果才能将它们用于迭代？

示例代码

```
for smoketest in rrule.rrule(rrule.HOURLY, dtstart=startD, until=endD):
  print smoketest
  dateID = smoketest[0:10]
  hourID = smoketest[11:13] 
```

确切的错误是 TypeError: 'datetime.datetime' 对象没有属性 ' **getitem** '。

对不起，如果这听起来有点愚蠢，这是我第一次编程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:24:54.537

`smoketest`是一个`datetime.datetime`对象，而不是一个字符串。你看到的`print`是它的字符串表示。`datetime.datetime`对象提供更多。

你需要`smoketest`作为日期字符串和时间字符串吗？使用[`strftime`](http://docs.python.org/2/library/datetime.html#datetime.date.strftime)方法：

```
for smoketest in rrule.rrule(rrule.HOURLY, dtstart=startD, until=endD):
    dateID = smoketest.strftime('%Y-%m-%d')
    hourID = smoketest.strftime('%H:%M:%S') 
```

# javascript - 通过javascript单击按钮时不会转到其他页面

> ID：14453432
> 
> 赞同：0
> 
> 时间：2013-01-22T07:19:10.903
> 
> 标签：javascript, html, jsp

我在编写jsp时遇到问题。我的情况是，当我单击一个按钮（在表格单元格中）时，页面必须转到右框架中的 register.jsp（有两个框架，这个按钮也在第二个框架中）我无法得到它。请帮我。

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
    <script type="text/javascript">

    function addRow(tableID) { 
        var table = document.getElementById(tableID);
        var rowCount = table.rows.length;
        var row = table.insertRow(rowCount);

        var cell4 = row.insertCell(4);
        var element4 = document.createElement("input");
        element4.type = "button";
        element4.value = "Edit";    
        element4.name = "e5[]";
        element4.attachEvent('onclick',Hi);
        cell4.appendChild(element4);

    }

    function Hi()
    {

        document.write('<a target="two" href="register.jsp"/>');

    }
    </script>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:23:35.223

你的意思是：

```
function Hi() {
  window.location.href = "register.jsp";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:27:37.753

像这样的东西应该工作：

```
document.getElementById('iframe_id').src = 'register.jsp'; 
```

PS：您应该停止使用 iframe / 框架，它们正在缓慢但肯定会被弃用。即使他们不是，这也不是一个非常用户友好的解决方案。

PS2：对于其他回答的人：他想更改 iFrame 的位置，而不是整个页面。

# mysql - MYSQL WHERE 子句中的 for 循环？

> ID：14453434
> 
> 赞同：2
> 
> 时间：2013-01-22T07:19:16.243
> 
> 标签：mysql, sql

是否可以在 WHERE 子句中有一个 forloop，例如

```
SELECT
  name,
  surname,
  id
FROM person
WHERE (while(x < 5)) = id 
```

那么结果将具有从 1 到 4 的 id。5 可以具有值列表或数组。

这甚至可能吗？

附言。这个例子可以通过使用 WHERE 5 > id 来完成

我只是想知道这是否可以通过循环来完成，我将在 jasper 报告中使用此查询片段

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:20:42.153

你的意思是这样的：

```
SELECT name, surname, id 
FROM person
WHERE id in(1, 2, 3, 4); 
```

如果这个数字列表来自一个数组或一个列表，您可以从前端应用程序组成这个列表，或者从这些值和`JOIN`带有它的表中创建一个临时表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:33:05.827

你不能使用 WHERE 子句来做到这一点。您需要一个返回值的构造，以便在条件中使用它。

*   WHILE 语句不返回任何内容，它只是一个语句列表。
*   条件`5 > id`返回可以在 WHERE 子句中使用的值。

请注意，在存储过程中，您可以执行以下操作 -

```
 DECLARE i INT DEFAULT 0;
  WHILE i < 5 DO
    SELECT * FROM table WHERE id = i;
    SET i = i + 1;
  END WHILE; 
```

...但效率不高。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T07:40:45.757

根据您的评论：

> *5 可以有一个值列表或一个数组*

你可能会追求这样的事情：

```
select id, name, surname
from person
where find_in_set(id, '1,2,3,4') > 0; 
```

SQLFiddle 示例：[http ://sqlfiddle.com/#!2/7186d/3](http://sqlfiddle.com/#!2/7186d/3)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T07:34:57.467

如果您知道要从何处获取数据，则可以使用 BETWEEN 命令。就像下面的命令...

```
 SELECT name, surname, id FROM person WHERE id BETWEEN 1 AND 5 ; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:28:55.207

您可以使用带有这样的 where 条件的简单查询，这正是您所要求的，我的意思是替代循环。这在执行查询时不需要循环，它像循环一样执行

```
SELECT
    p.name, 
    p.surname, 
    p.id
FROM person p
WHERE p.id < 5 
```

这将检查 id 从 1 到 4 的记录

# python - 寻找在python中解析一个字符串

> ID：14453436
> 
> 赞同：1
> 
> 时间：2013-01-22T07:19:24.137
> 
> 标签：python, string

如果我有一系列我正在使用的 python 字符串，它将始终采用以下形式

`initialword_content`

我想去掉`initialword`部分，这将始终是相同数量的字符，然后我想将所有实例`_`转换为空格 - 因为`content`其中可能有一些下划线 - 最简单的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:30:35.283

```
strs = "initialword_content"
strs = strs[12:].replace("_", " ")
print strs 
```

由于initialword总是有相同数量的字符，所以你可以得到字符串的后缀。并使用 string.replace 将所有“_”替换为空格。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:28:53.757

首先，将字符串拆分**一次**（使用参数 1 到`split`）以获得两部分：丢弃的“初始字”和其余部分，您将所有下划线替换为空格。

```
s = 'initialword_content' 
a, b = s.split('_', 1)
b = b.replace('_', ' ')
# b == 'content'

s = 'initialword_content_with_more_words' 
a, b = s.split('_', 1)
b = b.replace('_', ' ')
# b == 'content with more words' 
```

这可以通过一个命令来完成：

```
s.split('_', 1)[1].replace('_', ' ') 
```

另一种方式：

```
' '.join(s.split('_')[1:]) 
```

或者，如果“initialword”的长度始终相同（并且您不必每次都计算它），请采用@JunHu 的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:32:21.507

我使用了切片和 replace() 函数。replace() 只是......替换！

```
string = 'initialword_content'
content = string[12:] # You mentioned that intialword will always be the same length, so I used slicing.
content = content.replace('_', ' ') 
```

例如：

```
>>> string = 'elephantone_con_ten_t' # elephantone was the first thing I thought of xD
>>> content = string[12:]
>>> content
... con_ten_t
>>> content = content.replace('_', ' ')
>>> content
... con ten t 
```

但是，如果您还想在其他地方引用“elephantone”，请执行以下操作：

```
>>> string = 'elephantone_con_ten_t'
>>> l = string.split('_', 1) # This will only strip the string ONCE from the left.
>>> l[0]
... 'elephantone'
>>> l[1].replace('_', ' ')
... 'con ten t' 
```

# java - 在特定位置附加到字符串

> ID：14453438
> 
> 赞同：0
> 
> 时间：2013-01-22T07:19:25.220
> 
> 标签：java

我有一个大小为 100 的字符串 miscFlag。我需要从索引 20 开始附加到这个 miscFlag，因为 0-19 保留用于其他信息。然后仅在某些位置随后附加。我们可以使用 StringBuilder/StringBuffer 做到这一点吗？

这就是我试图做到的方式..

```
 StringBuilder info = new StringBuilder(miscFlag);
    info.append(" ");
    info.append(Misc.toTimestampLiteral(currentDate));//append this from pos 20
    info.append(" ");
    info.append(formattedStartTime);  //append this from pos 40 
```

在这里，我无法指定要追加的位置。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:21:52.413

使用插入方法。

```
info.insert(19, Misc.toTimestampLiteral(currentDate)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:22:07.707

用于`String#subString`剪切 0 到 20 的索引，然后添加新的字符串。

```
String str = miscFlag.substring(0,20)+ " "+Misc.toTimestampLiteral(currentDate)+" "+  miscFlag.substring(21); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:27:40.297

固定长度的字段是可行的，`StringBuilder`但看起来很笨拙且容易出错，我不推荐。使用[String.format](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29)，这正是您需要的 - 创建字段宽度和位置很重要的字符串：

```
 String.format("A[%8s][%4s]", "ab","cd"); 
```

将导致

```
 A[      ab][  cd] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:35:47.393

您可以指定要插入的位置，如下所示

```
StringBuilder info = new StringBuilder(miscFlag);
info.insert(19, Misc.toTimestampLiteral(currentDate) + " ");
info.insert(39, formattedStartTime + " "); 
```

# javascript - 如何在传单地图上为形状设置动画

> ID：14453440
> 
> 赞同：4
> 
> 时间：2013-01-22T07:19:37.957
> 
> 标签：javascript, canvas, html5-canvas, gis, leaflet

我是传单的新手，正在寻找一些建议。

我想创建某种标记的动画（​​例如，html5 填充弧或形状）以在地图上重放 GPS 轨迹。我可能需要几个动画标记，并且我想保持灵活的行为和性能。任何人都可以推荐一种创建此类动画的好方法吗？

看起来我可以创建一个画布层（L.TileLayer.Canvas）并使用线性动画技术在其上绘制（例如[http://www.html5canvastutorials.com/advanced/html5-canvas-linear-motion-animation/](http://www.html5canvastutorials.com/advanced/html5-canvas-linear-motion-animation/) )，但我还不确定这是否有效，或者我是否需要调用 redraw() 以及性能如何。或者我可以尝试制作客户标记并通过在它们上设置纬度/经度以一定间隔移动它们。

有没有人遇到过这个并且可以推荐一个解决方案（上面的想法或其他）？理想情况下，当我更改缩放级别时，动画将“缩放”并具有良好的性能。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-03T00:09:46.290

The RaphaelLayer plugin lets you create some pretty fancy animations:

[http://dynmeth.github.com/RaphaelLayer/](http://dynmeth.github.com/RaphaelLayer/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-21T01:44:44.083

是的，有几种方法可以解决这个问题……在交互式地图上绘图具有挑战性，因为您需要重新计算平移和缩放事件的位置；除了管理您的实际动画。

这是一个使用 D3 库在连续循环中管理动画的绝佳示例，您可能能够修改多个动画的代码。 [http://zevross.com/blog/2014/09/30/use-the-amazing-d3-library-to-animate-a-path-on-a-leaflet-map/](http://zevross.com/blog/2014/09/30/use-the-amazing-d3-library-to-animate-a-path-on-a-leaflet-map/)

如果您想要更多关于绘图过程如何工作的细节，那么这个项目可能是一个更好的起点 [http://bl.ocks.org/Sumbera/11114288#L.CanvasOverlay.js](http://bl.ocks.org/Sumbera/11114288#L.CanvasOverlay.js) 这抓住了覆盖窗格（您可以在其上绘制的传单画布）并且...在其上绘制...

并且您绝对想查看此链接，该链接描述了交互式地图的[绘制过程](http://blog.sumbera.com/2015/08/14/svg-fast-scaled-overlay-on-leaflet-1-0/)

# android - AsyncTask 上的 JSON？

> ID：14453441
> 
> 赞同：0
> 
> 时间：2013-01-22T07:19:43.793
> 
> 标签：android, json, android-asynctask, httpclient

我正在制作一个从互联网获取 JSON 数据的 Android 程序。JSON 文本来自网页的源代码（使用 HttpClient），然后对其进行解析并显示到 TextView。这适用于 Froyo，但我需要它在 AsyncTask 上才能在 Honeycomb 及更高版本上工作。

由于这个 AsyncTask 问题，我现在很困惑。我尝试并遵循了一些教程，但它与我想做的不同。我只是得到错误，我很沮丧。谢谢您的帮助！:)

这是我在 MainActivity 类上的方法：

```
private void jsonStuffs() {
            // TODO Auto-generated method stub
        //JSON PARSER & HOME PAGE TEXTVIEWS

            client = new DefaultHttpClient();
            //new Read().execute("id");
            //http client codes only no parser !!
            GetMethodEx test = new GetMethodEx();
            String returned;
            try {
                returned = test.getInternetData();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            try{
                String jsonStr = test.getInternetData(); //go to GetMethodEx
                    JSONObject obj = new JSONObject(jsonStr);

                    //find temperature on JSON on webpage
                    String temperature = obj.getString("temperature");
                    TextView tvTemp = (TextView)findViewById(R.id.temp);
                    tvTemp.setText(temperature);

            }
            //catch (JSONException e) {
                 // e.printStackTrace();
                //} 
            catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
        } 
```

这是我的 GetMethodEx 类：

```
public class GetMethodEx extends Activity {
public String getInternetData() throws Exception{

    BufferedReader in = null;
    String data = null;
    //

    try{
        HttpClient client = new DefaultHttpClient();
        URI website = new URI("http://nhjkv.comuf.com/json_only.php");
        HttpGet request = new HttpGet();
        request.setURI(website);
        HttpResponse response = client.execute(request);
        in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
        StringBuffer sb = new StringBuffer("");
        String l = "";
        String nl = System.getProperty("line.separator");
        while ((l = in.readLine()) !=null){
            sb.append(l + nl);
        }
        in.close();
        data = sb.toString();
        return data;
    }finally {
        if (in !=null){
            try{
                in.close();
                return data;
            } catch (Exception e){
                e.printStackTrace();
            }
        }
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:55:51.923

您不能在 doInBackground 方法中使用 findViewByID 和 textView。您可以在 onPostExecute 中使用 textView。

修改方法“jsonStuffs()”以便返回字符串。而且您不必将 getInternetData() 放到另一个活动类中。

它从您的 MainActivity.class 修改的方法

```
private String jsonStuffs() {
            // TODO Auto-generated method stub
        //JSON PARSER & HOME PAGE TEXTVIEWS

            client = new DefaultHttpClient();
            //new Read().execute("id");
            //http client codes only no parser !!

            String returned;
            try {
                returned = getInternetData();
            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            try{
                String jsonStr = test.getInternetData(); //go to GetMethodEx
                    JSONObject obj = new JSONObject(jsonStr);

                    //find temperature on JSON on webpage
                    String temperature = obj.getString("temperature");
                    return temperature

            }
            //catch (JSONException e) {
                 // e.printStackTrace();
                //} 
            catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                    return null;
                }
        }

public String getInternetData() throws Exception{

    BufferedReader in = null;
    String data = null;
    //

    try{
        HttpClient client = new DefaultHttpClient();
        URI website = new URI("http://nhjkv.comuf.com/json_only.php");
        HttpGet request = new HttpGet();
        request.setURI(website);
        HttpResponse response = client.execute(request);
        in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
        StringBuffer sb = new StringBuffer("");
        String l = "";
        String nl = System.getProperty("line.separator");
        while ((l = in.readLine()) !=null){
            sb.append(l + nl);
        }
        in.close();
        data = sb.toString();
        return data;
    }finally {
        if (in !=null){
            try{
                in.close();
                return data;
            } catch (Exception e){
                e.printStackTrace();
            }
        }
    }
}
} 
```

然后像这样创建异步任务：

```
public class JsonDownloaderTask extends AsyncTask<Void, Void, String>{

    @Override
    protected Void doInBackground(Void... params) {
        return jsonStuff()
    }

    @Override
    protected void onPostExecute(String result){
        if(result != null){
            //DO YOUR STUFF WITH TEXTVIEW
        }
    }

} 
```

您需要在 MainActivity.class 的 onCreate() 或 onResume() 方法中初始化 textView

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:34:13.603

将您的连接部分作为一个单独的类并将以下代码放入其中

```
public String getInternetData() throws Exception{

BufferedReader in = null;
String data = null;
//

try{
    HttpClient client = new DefaultHttpClient();
    URI website = new URI("http://nhjkv.comuf.com/json_only.php");
    HttpGet request = new HttpGet();
    request.setURI(website);
    HttpResponse response = client.execute(request);
    in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
    StringBuffer sb = new StringBuffer("");
    String l = "";
    String nl = System.getProperty("line.separator");
    while ((l = in.readLine()) !=null){
        sb.append(l + nl);
    }
    in.close();
    data = sb.toString();
    return data;
}finally {
    if (in !=null){
        try{
            in.close();
            return data;
        } catch (Exception e){
            e.printStackTrace();
        }
    }
}
} 
```

使用这个类作为你的服务

```
public class TaskAsync extends AsyncTask<String, String, String> {

private String response = null;

@Override
protected String doInBackground(String... params) {
    response = new ClassName().getInternetData();
    return response;
}

} 
```

然后把它放在你的活动中

```
String response = new TaskAsync().execute("URL_WITH_PARAMETERS").get(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:36:22.120

更改您的代码以使用 AsyncTask 进行网络服务调用：

```
private void jsonStuffs() {
            // TODO Auto-generated method stub

            try{

               new InternetDataOperation().execute("");

            }
            //catch (JSONException e) {
                 // e.printStackTrace();
                //} 
            catch (Exception e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
        }

private class InternetDataOperation extends AsyncTask<String, Void, String> {

      @Override
      protected void onPreExecute() {
      }

      @Override
      protected String doInBackground(String... params) {
        client = new DefaultHttpClient();

        GetMethodEx test = new GetMethodEx();
        String jsonStr = test.getInternetData(); //go to GetMethodEx
            return jsonStr;
      }      

      @Override
      protected void onPostExecute(String result) {  
         JSONObject obj = new JSONObject(result);

         //find temperature on JSON on webpage
         String temperature = obj.getString("temperature");
         TextView tvTemp = (TextView)findViewById(R.id.temp);
         tvTemp.setText(temperature);             
      }

} 
```

# recursion - 递归优化？

> ID：14453444
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:19:54.897
> 
> 标签：recursion, functional-programming, wolfram-mathematica, ocaml, compiler-optimization

为什么斐波那契递归过程可以工作这么长时间？

这是在 OCaml 中：

```
let rec fib n = if n<2 then n else fib (n-1) + fib (n-2);; 
```

这是在 Mathematica 中：

```
Fib[n_] := If[n < 2, n, Fib[n - 1] + Fib[n - 2]] 
```

这是在Java中：

```
public static BigInteger fib(long n) {
    if( n < 2 ) {
        return BigInteger.valueOf(n);
    }
    else {
        return fib(n-1).add(fib(n-2));
    }
} 
```

因为`n=100`它可以工作很长时间，因为我猜它会`2^100`及时跟踪带有节点的树。

虽然只有 100 个数字要生成，所以它只消耗 100 个内存寄存器和 100 个计算节拍。

因此，可以优化执行。

这个任务是关于什么的，它是如何解决的？由于解决方案没有在 Mathematica 中实现，它可能不存在。关于这个问题的研究如何？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T07:22:34.050

这是一个用来展示[memoization](http://en.wikipedia.org/wiki/Memoization)价值的经典例子。因此，这是使其运行速度更快的一种方法。

（如果你只是想快速计算斐波那契，当然可以非常容易地重写函数以非常快速地得到答案。从 0 开始，一直到 n，每次传递前 2 个斐波那契数。）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T08:48:44.667

我认为要走的路是记忆化，就像@JeffreyScofield 的回答一样。定义 ：

```
Fib2[n_] := Fib2[n] = If[n < 2, n, Fib2[n - 1] + Fib2[n - 2]] 
```

查看 ：

```
Fib[30] // AbsoluteTiming
(* {9.202920, 832040} *)

Fib2[30] // AbsoluteTiming
(* {0., 832040} *)

Fib2[100] // AbsoluteTiming
(* {0.001000, 354224848179261915075} *) 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-01-22T07:23:11.943

对于递归斐波那契数列，即使 n=100 也不应该花费太多时间来操作。无论它是递归的还是迭代的，它仍然应该在 O(N) 时间内执行，因为它所做的只是总结之前在恒定时间内完成的数字。计算大约需要多长时间？

# scala - Slick 的日志记录选项

> ID：14453447
> 
> 赞同：17
> 
> 时间：2013-01-22T07:19:58.747
> 
> 标签：scala, logging, playframework, playframework-2.0, slick

我正在创建一个 Play 2.1 应用程序，我决定在其中使用 Slick 进行数据库交互。
但是我找不到有关如何为 Slick 配置/启用日志记录的文档。
有人知道吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-08-22T06:09:38.533

Slick 不会做任何高于`DEBUG`级别的日志记录。如果`application.conf`您添加以下行：

> `logger.scala.slick=DEBUG`

你会被来自查询编译器的信息淹没。

您可能只对会话信息（连接池管理、查询字符串等）感兴趣。在这种情况下，只需添加

> `logger.scala.slick.session=DEBUG`

到您的 Play 应用程序的`application.conf`

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2016-03-07T14:48:51.867

对于没有 Slick 的 PlayFramework 2.5.0

添加到所有数据库配置

```
db.default.logSql=true 
```

添加到您的 logback.xml 文件中：

```
<logger name="logger.org.jdbcdslog.StatementLogger"  level="INFO" /> 
```

所有的语句都将被记录。

# 参考：

[https://www.playframework.com/documentation/2.5.x/ScalaDatabase#How-to-configure-SQL-log-statement](https://www.playframework.com/documentation/2.5.x/ScalaDatabase#How-to-configure-SQL-log-statement)

要玩 Slick 3.0，只需使用

```
<logger name="slick.jdbc.JdbcBackend.statement"  level="DEBUG" /> 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2014-02-05T05:16:03.503

要仅打印 select 语句，在 play-2.2.1 和 slick 2.0.0 中，在 application.conf 中有：

```
logger.scala.slick.jdbc.JdbcBackend.statement=DEBUG 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-01-23T06:11:20.357

我目前没有使用 Play，但可以像使用[logback](http://logback.qos.ch/)一样配置它。这是设置播放日志[的一个很好的描述。](https://github.com/royguo/Play2.0-CN-doc/wiki/SettingsLogger)

一种选择是添加

```
logger.scala.slick=INFO 
```

到 application.conf，根据 Play 手册。另一个，如果您有自定义 logback.xml，则在其中添加以下行：

```
 <logger name="scala.slick" level="INFO" /> 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-01-22T07:31:48.263

Slick 似乎使用[slf4j](http://slf4j.org/)进行日志记录。因此，您可能希望添加对`slf4j-simple`项目的依赖项，并为 Slick 类设置所需的日志级别。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2013-08-06T13:57:50.910

我尝试将*logback.xml*与 Slick 记录器集成，但它不起作用。

*修改 logger.xml*（根据您的版本从 GitHub 获取最新版本）并添加光滑的记录器，而是可以工作。

```
<configuration>    
  <conversionRule conversionWord="coloredLevel" converterClass="play.api.Logger$ColoredLevel" />

  <appender name="FILE" class="ch.qos.logback.core.FileAppender">
     <file>${application.home}/logs/application.log</file>
     <encoder>
       <pattern>%date - [%level] - from %logger in %thread %n%message%n%xException%n</pattern>
     </encoder>
   </appender>

  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
    <encoder>
      <pattern>%coloredLevel %logger{15} - %message%n%xException{5}</pattern>
    </encoder>
  </appender>

  <logger name="play" level="INFO" />
  <logger name="application" level="DEBUG" />

  <!-- Off these ones as they are annoying, and anyway we manage configuration ourself -->
  <logger name="com.avaje.ebean.config.PropertyMapLoader" level="OFF" />
  <logger name="com.avaje.ebeaninternal.server.core.XmlConfigLoader" level="OFF" />
  <logger name="com.avaje.ebeaninternal.server.lib.BackgroundThread" level="OFF" />
  <logger name="com.gargoylesoftware.htmlunit.javascript" level="OFF" />
  <logger name="scala.slick" level="SQL" />

  <root level="ERROR">
    <appender-ref ref="STDOUT" />
    <appender-ref ref="FILE" />
  </root>

</configuration> 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-12-10T04:57:58.437

对于 slick 3.1.0，将其粘贴`logback.xml`到您的`resources`目录中：

```
<?xml version="1.0" encoding="UTF-8"?>

<configuration>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="application" level="DEBUG"/>
    <logger name="com.zaxxer.hikari" level="INFO"/>
    <logger name="slick" level="INFO"/>

    <root level="DEBUG">
        <appender-ref ref="STDOUT"/>
    </root>
</configuration> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-06-15T01:49:12.670

就我而言，我必须添加`<logger name="slick" level="INFO"/>`到我的`log4j2.xml`文件中。我将 Slick 3.0.3 与 Spray 1.3.3 和 Log4j 2.1 一起使用

# django - django 模板参数和外连接

> ID：14453448
> 
> 赞同：0
> 
> 时间：2013-01-22T07:20:03.957
> 
> 标签：django

对不起，奇怪的标题，但我无法用几句话来解释情况。让我说清楚：

我有一个 Jobs 模型，我在模板中显示其对象。针对每项工作，我还想显示用户是否已经申请了该工作。

我有这些模型

```
class Job(models.Model):
    is_valid = models.BooleanField()
    description = models.CharField()
    def has_user_applied(self, user):
        return jobapplication_set.filter(applicant=user).exists()

class JobApplication(models.Model):
    applicant = models.ForeignKey(User)    
    job = models.ForeignKey(Job)
    cover_letter = models.CharField() 
```

我在其中获取所有作业的视图：

```
 jobs = Job.objects.filter(is_valid=True)
 return HttpResponse( ... {'jobs': jobs} ... ) 
```

还有一个我列出它们的模板：

```
 {% for j in jobs %}
 {{ j.description }} {% if j.has_applied %} (You've already applied) {% endif %}
 {% endfor %} 
```

但是，“has_applied”函数将“user”作为参数，并且不允许在模板中传递参数。

现在我有两个问题：

我可以创建一个“上下文”，以便某些函数可以假设特定用户有问题，而不是显式传递并限制其在模板中的使用？如果不可能，那么在视图中的模型对象中注释此信息的优雅方法是什么？

其次，即使我能够做到这一点，对于每个 Job 对象，我仍然必须执行单独的查询来确定用户是否已经申请。我知道这在使用外部连接的原始 SQL 中是可能的，但是我可以使用 django 的 ORM 来做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:33:59.897

最简单和最冗长的方法就是：

**看法**

```
jobs_applied_by_user = set(JobApplication.objects
                                         .filter(applicant=user)
                                         .distinct()
                                         .values_list('job', flat=True)) 
```

**模板**

```
{% for job in jobs %}
    {% if job.pk in jobs_applied_by_user %}
        … 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:41:13.573

一种简单的解决方案是编写[自定义过滤器](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)。

```
{% for j in jobs %}
 {{ j.description }} {% if j|has_applied:user %} (You've already applied) {% endif %}
 {% endfor %} 
```

这`has_applied`是自定义过滤器，它将`user`作为参数。

# list - Groovy 从 List 转换为 var args 以进行方法调用

> ID：14453449
> 
> 赞同：29
> 
> 时间：2013-01-22T07:20:04.693
> 
> 标签：list, groovy, variadic-functions

我正在使用一个提供电子邮件功能的插件，如下所示：

```
class SendSesMail {

    //to
    void to(String ... _to) { 
        this.to?.addAll(_to)
        log.debug "Setting 'to' addresses to ${this.to}"
    }

} 
```

文档说明该类的调用方式如下：

```
sesMail {
    from "from@a.com"
    replyTo "reply@a.com"
    to "t@a.com", "t@b.com", "t@c.com"
    subject "Subject"
    html "Body HTML"
} 
```

在代码`List`中建立了地址，我试图弄清楚如何将此列表转换为该方法期望的 var args。

转换为`String`与“，”连接的邮件不起作用，因为这是一个无效的电子邮件地址。我需要能够将每个列表项分成一个单独的参数，以避免必须遍历列表并单独发送每封电子邮件。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-01-22T07:56:25.113

可能扩展运算符 ,`*`是您正在寻找的：

```
def to(String... emails) {
    emails.each { println "Sending email to: $it"}
}

def emails = ["t@a.com", "t@b.com", "t@c.com"]
to(*emails)
// Output: 
// Sending email to: t@a.com
// Sending email to: t@b.com
// Sending email to: t@c.com 
```

请注意，方法调用上的括号`to`是强制性的，否则`to *emails`将被解析为乘法。重载语法符号的错误选择 IMO =P

# c# - 静态与动态编程

> ID：14453450
> 
> 赞同：0
> 
> 时间：2013-01-22T07:20:09.047
> 
> 标签：c#, dynamic, static

我知道为了清理你的代码，你使用循环。即而不是说

```
myItem = myArray[0]
my2ndItem = myArray[1] 
```

最多元素 100 左右将占用 100 行代码，并且会很丑陋。它可以瘦身，看起来不错/使用循环更有效。

假设您正在创建一个游戏，并且您有 100 个非玩家控制的敌人，它们在确切的位置生成，每个位置都不同。

在不使用 100 行代码的情况下，你究竟如何生成每一个？我可以理解，例如，如果您希望它们都相隔 25 码，您可以使用循环并增加 25。

也就是说，在这种情况下，静态编程是我看到可能结果的唯一方法，但我知道动态编程是要走的路。

人们如何做到这一点？如果你能提供其他类似的例子，那就太好了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:30:20.647

```
var spawnLocs = new SpawnLocation[10];
if (RandomPosition)
{
    for (int i = 0; i < spawnLocs.Length; i++)
    {
        spawnLocs[i] = // auto define using algorithm / logic
    }
}
else
{
    spawnLocs[0] = // manually define spawn location
    spawnLocs[1] = 
    ...
    ...
    spawnLocs[9] = 
} 
```

产生新的敌人：

```
void SpawnEnemy(int spawnedCount)
{
    if (EnemyOnMap < 10 && spawnedCount < 100)
    {
        var rd = new Random();
        Enemy e = new Enemy();
        SpawnLocation spawnLoc = new SpawnLocation();
        bool locationOk = false;
        while(!locationOk)
        {
            spawnLoc = spawnLocs[rd.Next(0, spawnLoc.Length)];
            if (!spawnLoc.IsOccupied)
            {
                locationOk = true; 
            }
        }
        e.SpawnLocation = spawnLoc;

        this.Map.AddNewEnemy(e);
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:32:10.930

只需将位置指定为数组或列表或任何适合目的的数据格式，然后实现一个 3 行循环，从每个敌人的输入中读取，并找到并设置相应的位置。

大多数语言将具有某种“速记”格式，用于直接为数组或列表提供数据，例如在 C# 中：

```
var myList = new List<EnemyPosition>{
                          new EnemyPosition{ x = 0, y = 1 },
                          new EnemyPosition{ x = 45, y = 31 },
                          new EnemyPosition{ x = 12, y = 9 },
                          (...)
                }; 
```

您自然可以将相同的数据放入 XML 文件、数据库或您的祖母柜中，只要您有一些接口可以在需要时检索它。

然后你可以用一个循环来设置它，就像你的问题一样。

# javascript - 如何删除 IE 模态窗口标题中的“网页对话框”？

> ID：14453452
> 
> 赞同：2
> 
> 时间：2013-01-22T07:20:09.417
> 
> 标签：javascript, internet-explorer

我`window.showmodaldialog()`在javascript中使用。

在模态对话框中，“网页对话框”内容附加在标题中。我想删除这个。我试图在标题后强制空格。我也不想使用“”。还有什么办法可以去掉这个？

![模态窗口 - 网页对话框](../Images/0bbd26b03e4178fb6c5bd94594fadbcf.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:57:55.867

你不能。专门添加了“网页对话框”后缀，以防止`showModalDialog()`被用于欺骗原生 UI。

您最好避免`showModalDialog()`使用页面内对话框（类似于 Stack Overflow 上的图像上传对话框），因为它得到了更广泛的支持，并且**更加**灵活。

# java - 在 Java EE 服务器之间共享数据

> ID：14453453
> 
> 赞同：0
> 
> 时间：2013-01-22T07:20:12.607
> 
> 标签：java, jakarta-ee, seam, shared-state

哪些产品/项目可以帮助我应对以下情况？

*   多于一台服务器（同一位置）
*   某些状态应该在服务器之间共享（例如，如果计划任务正在运行以及在哪个服务器上运行的信息）。

显而易见的答案当然可能是数据库，但我们正在使用 Seam，而且似乎没有一种将事务嵌套在 Seam-bean 中的好方法，所以我需要找到一种方法，让我不必为配置而疯狂（尝试使用 EJB:s 但persistence.xml 之后并不漂亮）。所以我需要另一种方法来解决这个问题，直到 Seam 支持嵌套事务。

如果您需要更多详细信息，这与我的情况基本相同：[https](https://community.jboss.org/thread/182126) ://community.jboss.org/thread/182126 。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:26:54.197

听起来您需要进行分布式作业管理。

现实情况是，在 Java EE 世界中，您最终将不得不使用队列，就像在 MoM [面向消息的中间件] 中一样。Seam 将与 JMS 一起使用，并且您可以拥有发布和订阅队列。

您可能想在 Akka 寻找替代方案。它使您能够使用透明的 Actor/Agent 模型跨机器分配作业。也就是说，您的代理可以相互合作，无论他们是在同一个实例上还是通过网络相互合作，而您无需编写大量代码来实现这一点，也不必专门处理消息上下的事情链。

Akka 的另一件事是监督的概念，也就是 Go Ahead and Fail，或 Let it Crash。这是一个想法（多年来一直被电信公司所遵循），系统会失败，你应该为它设计并拥有一种使事情变得有弹性的方法。

最后，Java 世界中其他选项工作的状态令人沮丧。多年来一直使用 Seam。这很好，但他们决定只支持 Quartz 的工作，这是没有用的。

Akka 也是基于 Netty 构建的，它在并发性和性能方面做了一些非常疯狂的事情。

[不是 TypeSafe 员工，顺便说一句……]

# xml - XML-XSD：如何正确定义命名空间？

> ID：14453457
> 
> 赞同：2
> 
> 时间：2013-01-22T07:20:34.723
> 
> 标签：xml, xsd, xml-validation

我想知道如何使用 XML 和 XSD 正确定义命名空间。我有以下 XML 文件：

```
<?xml version="1.0" encoding="utf-8" standalone="no"?>
<application
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:app="ms.xsd"
    xsi:schemaLocation="ms.xsd">
    <app:contactPerson>
        <app:name>Florian</app:name>
        <app:countryCode>FR</app:countryCode>
    </app:contactPerson>
    <app:contactPerson>
        <app:name>Gabi</app:name>
        <app:countryCode>DE,EE,EL,FI,FR,IE,UK</app:countryCode>
    </app:contactPerson>
    <app:contactPerson>
        <app:name>Gert</app:name>
        <app:countryCode>GB</app:countryCode>
    </app:contactPerson>
    <app:origin/>
</application> 
```

架构由同一文件夹中的文件*ms.xsd定义：*

```
<?xml version="1.0" encoding="utf-8"?>
<xs:schema
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    elementFormDefault="qualified"
    attributeFormDefault="unqualified"
    version="0.2"
    targetNamespace="ms.xsd"
    xmlns:app="ms.xsd">
    <xs:element name="application" type="app:applicationType"/>
    <xs:complexType name="applicationType">
        <xs:sequence>
            <xs:element name="contactPerson" type="app:contactPersonType" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="origin" type="app:originType" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="contactPersonType">
        <xs:sequence>
            <xs:element name="name" type="xs:string"/>
            <xs:element name="countryCode" type="xs:string"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="originType">
        <xs:sequence minOccurs="0">
            <xs:element name="street" type="xs:string"/>
            <xs:element name="city" type="xs:string"/>
            <xs:element name="country" type="xs:string"/>
            <xs:element name="further_details" type="xs:string"/>
        </xs:sequence>
    </xs:complexType>
</xs:schema> 
```

我已经尝试了很多东西。我得到这个（当前）最终版本的错误是

**错误：元素“应用程序”：没有可用于验证根的匹配全局声明。**

这是因为 xml 文件中的 xsd 引用在应用程序标记内，所以它来得太晚了？当我在所有内容周围添加“信封”标签并将 xsd 定义放在那里时，我收到了消息

**错误：元素“信封”：没有可用于验证根的匹配全局声明。**

所以现在我真的很困惑如何正确地做到这一点。我正在使用 Notepadd++ 中的 XML-Tools 针对 XSD 验证 XML。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:24:18.977

试试 app:application ...这应该可以。不管声明是在后面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:30:12.107

另一种方法是添加默认命名空间：

```
xmlns="ms.xsd" 
```

这会将 放入`<application>`该名称空间。实际上，如果您愿意，您可以省略所有其他`app:`前缀。虽然我认为@jmcollin92 的解决方案更好——只是填补了空白。

顺便说一句：你`xsi:schemaLocation`应该是：

```
xsi:schemaLocation="ms.xsd ms.xsd" 
```

第一个`ms.xsd`是命名空间（可以是任意字符串）；第二个`ms.xsd`是可以找到模式的文件（URI - 通常是文件或 URL） - 实际上，它可以是此类对的列表。严格来说，您的 xml 工具应该已经标记了错误。

# flash - 如何在 Flash 操作脚本 2 中打印交互式证书？

> ID：14453461
> 
> 赞同：0
> 
> 时间：2013-01-22T07:20:46.080
> 
> 标签：flash, actionscript-2

我是新的动作脚本 2。如何在第一张幻灯片中从用户那里获取输入文本，然后在 Flash 幻灯片放映结束时在交互式证书上打印。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-24T10:58:03.970

好吧..您使用文本字段，将类型设置为“输入文本”并将其名称设置为诸如“user_name”之类的名称。

在用户输入他的用户名/单击某个按钮后，您可以通过 user_name.text 访问文本。所以你可以这样做`_root.user_name=user_name.text`。（一种丑陋的方法，但对初学者来说非常简单有效）。

当您想显示此信息时，这次使用“动态文本字段”（例如称为 final_text）并设置名称如下：`final_text.text=_root.user_name;`

当然，我使用了文本字段的父持有者的相对路径。无论如何，真的很难更具体地回答，因为我们不知道：

*   电影剪辑的任何名称
*   他们在哪里
*   演示/输入开关是如何触发的
*   你有代码吗？
*   你知道任何动作脚本吗？
*   等等等等

# javascript - 画布用二次曲线画圆

> ID：14453463
> 
> 赞同：7
> 
> 时间：2013-01-22T07:20:53.137
> 
> 标签：javascript, html, canvas

我知道我可以使用画布的功能绘制弧线，`arc`但是当我增加该弧线的大小时，它会改变它的起点和终点 x,y 点。所以我在想我们是否可以用其他方式绘制弧线，在增加它的大小的同时保持它的起点固定。

**编辑**
下面是显示我正在寻找的图像。第一张图片显示了一个矩形。当它的一侧被拉伸时，它变成了圆形（第二张图片）。当侧面进一步拉伸时，它变成了大圆圈。在所有图像中，您都可以看到圆的端点连接到矩形的角。这就是我想做的。

![在此处输入图像描述](../Images/846cf5f290133fa40c1fb62adb899a09.png)
**第一张图片**

![在此处输入图像描述](../Images/1aa7a66bc2dd209e3a08c220e09ea6b3.png)
**第二张图片**

![在此处输入图像描述](../Images/54b196b184ae8adfddfa4bab0e0c1fec.png)
**第三张图片**

或者您可以观看[**此视频**](http://youtu.be/rJGTDUVJ0NU)以了解我想要做什么。

**我做了什么**
这[`fiddle`](http://jsfiddle.net/sandeepthakurala/g8dgp/1/embedded/result/)显示了我的工作成果。
要绘制矩形，只需单击并拖动鼠标。

[`Here is the code`](http://jsfiddle.net/sandeepthakurala/g8dgp/1)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T12:50:25.717

我相信你正在寻找这样的东西：

```
draw(0);
$('#range').on('change', function(){
    range = parseInt($(this).val());
    draw(range)
})

function draw(val){
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d'),
    x = 100,
    y = 50,
    d;
    context.clearRect(0, 0, canvas.width, canvas.height);

    d = Math.sqrt(Math.pow(val,2) + Math.pow(50,2));

    context.beginPath();
    context.lineWidth = 1;

    context.arc(x,y+val,d,0,2*Math.PI);

    // line color
    context.strokeStyle = 'black';
    context.stroke();

    // Cut off the top of the circle.
    context.clearRect(0, 0, canvas.width, y);

    // This stuff's just to show some dots
    context.fillStyle = 'red';
    context.fillRect(x-1,y-1,2,2); // Middle
    context.fillRect(x-52,y-2,4,4);//Target point 1
    context.fillRect(x+48,y-2,4,4);// Target point 2

    context.fillRect(x-2,y+d+val-2,4,4); // Point on circle
    context.fillStyle = 'black';
} 
```

**[工作样本](http://jsfiddle.net/C7yBd/3/)**

这样做有几个缺点，它越靠近圆越“慢”，因为圆在隐藏部分呈指数级增长（滑块控制它的大小），并且它不适用于对角线就像现在一样。

除此之外，它按预期工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:28:15.380

检查这个：http: [//jsfiddle.net/KZBzq/4/](http://jsfiddle.net/KZBzq/4/)

**使用bezierCurveTo**更新答案

 ****HTML**

```
<label>Range :</label>
<input type="range" name="points" value="0" min="0" step="1" max="100" id="range"> 
<canvas id="myCanvas" width="578" height="250"></canvas> 
```

**JS**

```
draw(100); 

$('#range').on('change', function(){
  range = parseInt($(this).val());
  draw(100-range)
})

function draw(val){

  var canvas = document.getElementById('myCanvas');
  var context = canvas.getContext('2d'),
  x = 100,
  y = 100,
  cp1x = x/2,
  cp2x = y/2,
  cp1y = val,
  cp2y = val;
  context.clearRect(0, 0, canvas.width, canvas.height);

  context.beginPath();
  context.lineWidth = 1;

  context.moveTo(25 , x);
  context.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);

    // line color
    context.strokeStyle = 'black';
    context.stroke();

} 
```

现在 x 和 Y 是固定的。这是你的要求吗？**

# linux - 使用 ELDK-5.3 进行交叉编译，eldk 5.3 中的 openssl，未找到 openssl/crypto.h

> ID：14453467
> 
> 赞同：1
> 
> 时间：2013-01-22T07:21:03.387
> 
> 标签：linux, makefile, openssl, cross-compiling

> 执行 make 时显示未找到 openssl/crypto.h，eldk-5.3 是否支持 openssl。我在里面只发现了gnutls。
> 
> 如何在 ELDK-5.3 中启用/安装 openssl 支持
> 
> 同时它在 eldk4.2 中。
> 
> 请指教吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:09:27.817

> 我刚刚从 eldk4.2 复制了它，哇哦！
> 
> 仍然很想知道 eldk-5.3。

```
cp -Rfp /opt/eldk4.2/arm/usr/include/openssl /opt/eldk-5.3/armv5te/sysroots/armv5te-linux-gnueabi/usr/include/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T05:45:39.500

crypto.h 是 openssl-devel RPM 的一部分。因此，您可以将此 RPM 安装到 eldk 工具链，而不是手动复制头文件。它还将修复所有依赖crypto.h头文件。

# c# - 如何将数据从asp.net中的html表插入数据库

> ID：14453472
> 
> 赞同：3
> 
> 时间：2013-01-22T07:21:38.393
> 
> 标签：c#, asp.net, html

如何从 HTML 表中将数据添加到数据库中？

我的桌子是这样的：

```
html += "<table>";
html += "<tr><th>" + "A" + "</th><th>" + "B" + "</th><th>" + "C" + </th></tr>";
html += "<tr><td>" + "0" + "</td><td>" + "1" + "</td><td>" + "2" + </td></tr>";
html += "</table>"; 
```

我正在从服务器端调用 HTML。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:25:12.500

如果你喜欢纯 HTML，你可以使用像 Knockout.js 这样的 JavaScript 框架。Knockout.js 允许您使用 JavaScript 视图模型将数据注入 HTML。可以将按钮单击分配给视图模型中的 JavaScript 函数。JavaScript 函数可以执行 AJAX 发布以在服务器端调用控制器操作方法 - 这会将数据插入数据库。

有关淘汰赛的更多信息，请查看[http://knockoutjs.com](http://knockoutjs.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:17:17.003

使用 System.Text.RegularExpressions (Regex) 搜索模式以替换表格标签：

用空白替换`<tr><th>`和，`<tr><td>`

replace`</th></tr>`和`</td></tr>`with`^^~~~~~~~~~~^^`表示结束线。

替换`</td><td>`为`||^^^^^^^^^||`表示分隔符

```
string html = // your html table goes here
string[] lines = html.Split(new string[] { "^^~~~~~~~~~~^^" }, StringSplitOptions.None);
// now your html table is divided into lines, which means rows

// lines[0] = // the header
// lines[1] = // row 1
// lines[2] = // row 2
// lines[3] = // row 3
// ...
// ...

// line 1 is the header/column name
string[] columns = lines[0].Split(new string[] { "||^^^^^^^^^||" }, StringSplitOptions.None);

// columns[0] = // 1st column name
// columns[1] = // 2nd column name
// columns[2] = // 3rd column name
// ...
// ...

for (int i = 1; i < lines.Length; i++)
{
    string[] data = lines[i].Split(new string[] { "||^^^^^^^^^||" }, StringSplitOptions.None);
    // data[0] = // 1st data
    // data[1] = // 2nd data
    // data[2] = // 3rd data 
    // ...  
    // ...
} 
```

# java - 如何减少 AXIS2-1.3 失败场景的重试次数？

> ID：14453482
> 
> 赞同：2
> 
> 时间：2013-01-22T07:22:15.470
> 
> 标签：java, web-services, axis2

我正在使用带有 JDK1.6 的axis2.1.3，

当我调用客户端时，它发送了 3 次请求。

通过谷歌查询，我发现它的默认值是3。

如何将其重置为 1 或 0，因为对于失败的交易，它会发送 3 次。

目前我正在使用波纹管代码，但它不起作用。

```
ServiceClient sc = null;
sc = clientStub._getServiceClient();    
DefaultHttpMethodRetryHandler retryHandler = new DefaultHttpMethodRetryHandler(0, false);
sc.getOptions().setProperty(HttpMethodParams.RETRY_HANDLER, retryHandler); 
```

你能帮我解决这个问题吗？

谢谢， Satyapriya sahoo

# iphone - 我正在尝试在自定义单元格中显示 xml 数据，但它正在工作，并且只显示一个数据

> ID：14453489
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:22:57.810
> 
> 标签：iphone, ios, ios5, iphone-developer-program

![我上传了图像，它通过使用此代码向您展示它如何在 uitablevirw 中显示内容](../Images/f5a571003d4183b6d09bfb65851d2ba9.png)

```
- (void)viewDidLoad
    {
        NSURL *url=[[NSURL alloc]initWithString:@"http://avweatherforecasts.com/services/iphoneservice.php"];    
        DaTa=[[NSData alloc]initWithContentsOfURL:url];    
        NSLog(@"data----%@",DaTa);
        Xmlpaeser=[[NSXMLParser alloc]initWithData:DaTa];    
        Xmlpaeser.delegate=self;    
        [Xmlpaeser parse];
        [Xmlpaeser release];

        [super viewDidLoad];
        // Do any additional setup after loading the view, typically from a nib.
    }

 - (void)parserDidStartDocument:(NSXMLParser *)parser{
        array=[[NSMutableArray alloc]init];
        strcontent=nil;
    }

    - (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName attributes:(NSDictionary *)attributeDict{   

        if ([elementName isEqualToString:@"start"])
        {        
            Dict=[[NSMutableDictionary alloc]init];    
      }
    }

    - (void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{

        strcontent=[NSString stringWithFormat:@"%@",string];

        NSLog(@"Strcontent----%@",strcontent);
    }

    - (void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{

            if ([elementName isEqualToString:@"city"]){
                [Dict setObject:strcontent forKey:elementName];
            }
            if ([elementName isEqualToString:@"min"]){
                [Dict setObject:strcontent forKey:elementName];
            }
            if ([elementName isEqualToString:@"max"]){
                [Dict setObject:strcontent forKey:elementName];
            }
            if ( [elementName isEqualToString:@"forecast"]
                ) {

                [Dict setObject:strcontent forKey:elementName];
               NSLog(@"dict--%@",[Dict description]);
            }          
            else if([elementName isEqualToString:@"start"]){            
                [array addObject:Dict];

                [Dict release];     
        }
    }

    - (void)parserDidEndDocument:(NSXMLParser *)parser{

        NSLog(@"array--%@",[array description]);       

    }

    - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{

        return [array count];

    }

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{

        static NSString *identifier=@"cell";

        custome_cell *Cell=(custome_cell *)[tableView dequeueReusableCellWithIdentifier:identifier];

        if (Cell==nil) {

            NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"custome_cell" owner:self options:nil];
            Cell = [nib objectAtIndex:indexPath.row];
        }    
        Cell.city.text=[[array objectAtIndex:indexPath.row] objectForKey:@"city"];
        Cell.min.text=[[array objectAtIndex:indexPath.row] objectForKey:@"min"];
        Cell.max.text=[[array objectAtIndex:indexPath.row] objectForKey:@"max"];
        Cell.forecast.text =[[array objectAtIndex:indexPath.row] objectForKey:@"forecast"];

        return Cell;    
    }

    - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{

        return 80;
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:45:43.023

试试这个......也许它会帮助你......

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;   
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
      return [CommentsGetArray count];
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) 
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] ;
        //[cell setAccessoryType:UITableViewCellAccessoryDisclosureIndicator];
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

        commentsTextView = [[UITextView alloc]initWithFrame:CGRectMake(90, 4, 190, 50)];
        commentsTextView.delegate = self;
        commentsTextView.tag = 101;
        commentsTextView.textAlignment = UITextAlignmentLeft;

        [commentsTextView setScrollEnabled:YES];

        commentsTextView.backgroundColor =[UIColor clearColor];
        commentsTextView.font = [UIFont fontWithName:@"Arial" size:12.0];
        commentsTextView.textColor =[UIColor blackColor];
        commentsTextView.editable = NO;
        [cell addSubview:commentsTextView];

    }

     commentsTextView = (UITextView *)[cell viewWithTag:101];
    commentsTextView.text = [[CommentsGetArray objectAtIndex:indexPath.row]objectForKey:@"comment"];

    return cell;

}
- (CGFloat) tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
{

    return 70;
} 
```

您可以将其用作标签而不是 uitextView，并且您可以创建更多文本视图或标签来显示您的数据，但请记住更改它们的框架。

# jira - 是否可以以正弦波形而不是方波形式绘制/获取燃尽图？

> ID：14453491
> 
> 赞同：1
> 
> 时间：2013-01-22T07:23:10.997
> 
> 标签：jira, project-management, jira-plugin

作为 JIRA 新手和探索者，我寻求您的帮助来确定是否可以绘制曲线（正弦波形）图。

目前，我得到的燃尽图是方波形式的。

如果正弦波是可能的，请告诉我如何。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T14:36:37.803

我不知道任何开箱即用的解决方案。如果您不介意进行一些编程（对于具有基本编程技能的人来说不应该花费超过几个小时），您可以使用[Jira 的远程 API](https://developer.atlassian.com/display/JIRADEV/JIRA+Remote+API+Reference)和[Google Chart Tools](https://developers.google.com/chart/)来构建您想要的任何图表。

然后，要在 Jira 上显示图表，您可以使用 Jira 的[自定义内容插件](https://marketplace.atlassian.com/plugins/com.tngtech.jira.plugins.customcontent.jira-gadget-custom-content)。

# android - 卸载并重新安装后，Android 应用用户 ID 是否会更改？

> ID：14453495
> 
> 赞同：2
> 
> 时间：2013-01-22T07:23:32.520
> 
> 标签：android, uid

如果我从我的 Android 设备上卸载一个应用程序并重新安装它，用户 ID 会改变吗？比如用户之前是app-60，重装后会不会又是app-60（uid 60）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:30:23.187

摘自[安全和权限](http://developer.android.com/guide/topics/security/permissions.html)“在安装时，Android 为每个包提供了一个不同的 Linux 用户 ID。在该设备上包的整个生命周期内，身份保持不变。在不同的设备上，相同的包可能有不同的 UID；什么重要的是每个包在给定设备上都有一个不同的 UID。”

安装应用程序时，Android 默认 (1) 会专门为该包创建一个 UID，以便它可以拥有其私有资源/存储空间。当没有包再使用该 UID 时，该 UID 将被删除。

所以我相信它会改变。您可以使用 Pratik 的代码检查并确定连续安装后的差异。

[这](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.3.5_r1/com/android/server/PackageManagerService.java#PackageManagerService.HandlerParams.startCopy%28%29)是包管理器服务的代码。可能是深入挖掘的起点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:27:59.153

您可以在应用程序中获取**UID**

```
String your app_selected = "your package name";
final PackageManager pm = getPackageManager();
//get a list of installed apps.
List<ApplicationInfo> packages = pm.getInstalledApplications(
        PackageManager.GET_META_DATA);
int UID;
//loop through the list of installed packages and see if the selected
//app is in the list
for (ApplicationInfo packageInfo : packages) {
    if(packageInfo.packageName.equals(app_selected)){
        //get the UID for the selected app
        UID = packageInfo.uid;

    }
} 
```

# jquery - 从 jquery 获取一个 div 值

> ID：14453497
> 
> 赞同：3
> 
> 时间：2013-01-22T07:23:38.517
> 
> 标签：jquery

在以下 div 中，单击 div 时如何获取 value=12 值

```
<div value='12' id='div1'>some content</div>

$('#div1').live("click", function(a) {
alert(this.value);
    alert($('#div1').val());  //doesnt work

}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T07:25:08.530

使用 jquery [attr()](http://api.jquery.com/attr/)

> 获取匹配元素集中第一个元素的属性值，或为每个匹配元素设置一个或多个属性。

试试这个

```
 alert($('#div1').attr('value')); 
```

或者

```
$('#div1').on("click", function(a) {

   alert($(this).attr('value'));  //doesnt work
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:45:45.230

如果您可以避免使用自己的 HTML 属性，则会遇到验证问题，更好的选择是 html5 的数据属性。这使您可以创建自己的属性来保存此类数据。例如：

```
<div data-num="12" id="div1">some content</div>

    $('#div1').on('click', function(){
       alert($(this).data('num'));
    }); 
```

[http://api.jquery.com/jQuery.data/](http://api.jquery.com/jQuery.data/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:24:55.033

```
$(document).on("click", '#div1', function(a) {

    alert(this.attributes["value"].nodeValue);
    alert(this.attributes["value"].value);
    alert(this.getAttribute("value"));

    alert($('#div1').attr("value"));

}); 
```

`live()`已弃用，请`on()`改用

见**[演示](http://jsfiddle.net/kXQe4/)**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:25:00.970

```
alert($('#div1').attr('value')); 
```

应该做的伎俩。可以通过[jQuery.attr()读取和设置元素的所有属性](http://api.jquery.com/attr/)

[工作演示](http://jsfiddle.net/arunpjohny/hTyum/)

jQuery.live方法已弃用（v1.7）并已删除（1.9），因此请使用[jQuery.on](http://api.jquery.com/live/)[代替](http://api.jquery.com/on/)，如演示中所示。

# ios - iAd 委托在不同的层被调用？- cocos2D-ios

> ID：14453498
> 
> 赞同：0
> 
> 时间：2013-01-22T07:23:44.473
> 
> 标签：ios, cocos2d-iphone, iad

当我的游戏开始时，我有一个 Start_Up 层，这是我的第一层。我在其中添加了 iad 委托，因此 iad 将位于所有其他层之上。到目前为止它工作正常，但我不确定是否从其他层调用了 start_up iad 委托。如果没有，我该怎么办？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:36:52.117

如果您的实例`Start_Up`在应用程序的整个生命周期中都存在，除非您明确取消注册，否则将调用委托方法。例如，`Start_Up`如果它是保留在场景堆栈中的场景的 prt，则将持续存在，`CCDirector`因为您将后续场景推到它上面*并且*您从未从启动场景中删除该图层。事实上，即使您的`Start_Up`层不再存在，委托方法也会被调用，您的应用程序也会崩溃。

# c# - 我网站中某些页面的登录要求

> ID：14453501
> 
> 赞同：0
> 
> 时间：2013-01-22T07:23:54.110
> 
> 标签：c#, asp.net, authorization

我对身份验证和登录有疑问。

我有 e-servcie 可从 pubice 用户的工作请求中使用，此 e-service 在 3 个页面中有 3 个步骤，无需登录，因此任何人都可以从我们的网站访问此服务。

正如你所知道的，对于每个电子服务，它们是管理请求集的应用程序，这个应用程序有登录并且工作正常。

我把这个smiple代码放在网络配置中：

```
 <authorization>
        <deny users = "?" />

     <allow users ="*" />

    </authorization> 
```

使用此代码，所有页面都重定向到登录页面，即使是与电子服务相关的页面。

我怎样才能让电子服务页面远离登录检查。

顺便说一句，我有 2 个母版页：1 个用于电子服务，1 个用于管理。

我使用带有 C# 的 Asp.Net 4.0

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:27:13.390

要使页面不受登录检查，您应该添加：

```
<location path="yourpage.htm">
    <system.web>
      <authorization>
        <allow users="?" />
      </authorization>
    </system.web>
</location> 
```

# javascript - 为什么代码是这样转换的？

> ID：14453504
> 
> 赞同：2
> 
> 时间：2013-01-22T07:24:08.823
> 
> 标签：javascript, typescript

最近开始学习Typescript。我对从 Typescript 到 Javascript 的转换有疑问。

为什么这个代码：

```
class Greeter {
    greeting: string;
    private hello(){
        return this.greeting;
    }
    public hi(){
        alert(this.hello());
    }
    constructor(message: string) {
        this.greeting = message;
    }
    greet() {
        return "Hello, " + this.greeting;
    }
} 
```

转换成

```
var Greeter = (function () {
    function Greeter(message) {
        this.greeting = message;
    }
    Greeter.prototype.hello = function () {
        return this.greeting;
    };
    Greeter.prototype.hi = function () {
        alert(this.hello());
    };
    Greeter.prototype.greet = function () {
        return "Hello, " + this.greeting;
    };
    return Greeter;
})(); 
```

不是这个？

```
var Greeter = (function () {
    var hello = function(){
       return this.greeting;
    }
    function Greeter(message) {
        this.greeting = message;
    }
    Greeter.prototype.hi = function () {
        alert(hello.call(this));
    };
    Greeter.prototype.greet = function () {
        return "Hello, " + this.greeting;
    };
    return Greeter;
})(); 
```

为什么会这样转换？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T09:16:53.660

私有变量和函数在运行时不设为私有的原因是性能下降。创建 TypeScript 是为了支持在浏览器和服务器上运行的大型程序——因此性能是一个大问题。

当 TypeScript 发布并且 Anders 回答时，我问了同样的问题。您可以[查看 Codeplex 上的讨论](http://typescript.codeplex.com/discussions/397651)。

# youtube-api - YouTube Data API v3 视频上传 403 被禁止：YouTubeSignUpRequired

> ID：14453505
> 
> 赞同：1
> 
> 时间：2013-01-22T07:24:14.317
> 
> 标签：youtube-api

我正在尝试使用新的 YouTube Data API v3 将视频上传到 Android 上的 youtube，但出现 403 禁止错误：

```
com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 Forbidden
01-22 00:10:41.716: WARN/System.err(5209): {
01-22 00:10:41.716: WARN/System.err(5209): "code" : 403,
01-22 00:10:41.716: WARN/System.err(5209): "errors" : [ {
01-22 00:10:41.716: WARN/System.err(5209): "domain" : "youtube.header",
01-22 00:10:41.716: WARN/System.err(5209): "location" : "Authorization",
01-22 00:10:41.716: WARN/System.err(5209): "locationType" : "header",
01-22 00:10:41.716: WARN/System.err(5209): "message" : "Forbidden",
01-22 00:10:41.716: WARN/System.err(5209): "reason" : "youtubeSignupRequired"
01-22 00:10:41.716: WARN/System.err(5209): } ],
01-22 00:10:41.720: WARN/System.err(5209): "message" : "Forbidden"
01-22 00:10:41.720: WARN/System.err(5209): } 
```

代码如下：

我获得了 OAuth2.0 凭据，并用它创建了一个 youtube 实例：

```
 YouTube youTube = new YouTube.Builder(new NetHttpTransport(), new JacksonFactory(), credential)
                    .setApplicationName("testapp/1.0")
                    .build();

   # ... creating video to save space ...

   youTube.videos().insert("snippet,statistics,status", video, mediaContent).execute(); 
```

任何想法？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-24T01:21:22.967

听起来您正在尝试将视频上传到未关联的 Google 帐户。[这篇博](http://apiblog.youtube.com/2011/10/introducing-google-account-support-and.html)文在一定程度上涵盖了这种情况，尽管这篇博文的重点是 API 的 v2.1。

对于 v3，您仍然无法将视频上传到未链接的 Google 帐户，并且没有 API 调用允许用户以编程方式链接帐户。您最好的选择是将用户带到[http://m.youtube.com/create_channel](http://m.youtube.com/create_channel)，他们可以从浏览器处理链接，此时他们必须返回您的应用并尝试上传再次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T21:22:50.877

您可以在 WebView 中使用此移动工作流程让用户在不离开您的应用程序的情况下创建频道：

[https://m.youtube.com/create_channel?chromeless=1&next=/channel_creation_done](https://m.youtube.com/create_channel?chromeless=1&next=/channel_creation_done)

处理完成后会将用户带到 /channel_creation_done，然后您可以关闭 WebView。您可以在此处找到有关工作流程的更多信息：[https ://developers.google.com/youtube/create-channel](https://developers.google.com/youtube/create-channel)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-23T13:15:49.313

我解决了它，我的答案在这里： [如何通过服务帐户插入视频 youtube api v3 with ruby](https://stackoverflow.com/questions/27609138/how-to-insert-video-youtube-api-v3-through-service-account-with-ruby/27620954#27620954) ​​ Enjoy！

您收到的错误是因为您没有在电子邮件中添加人员标签来上传电影。如果您使用我的答案中的代码，一切都已解决并且可以正常工作

# arrays - 异常：空类：类 java.lang.ArrayIndexOutOfBoundsException

> ID：14453506
> 
> 赞同：0
> 
> 时间：2013-01-22T07:24:17.650
> 
> 标签：arrays, blackberry, byte, concatenation, indexoutofboundsexception

我在下面的代码中显示的行中得到了 ArrayIndexOutOfBoundsException：

```
String boundaryMessage = getBoundaryMessage(boundary, fileField, fileName, fileType);

String endBoundary = "\r\n--" + boundary + "--\r\n"; 
byte[] temp = new byte[boundaryMessage.getBytes().length+fileBytes.length+endBoundary.getBytes().length];       

temp = boundaryMessage.getBytes();
try {
    System.arraycopy(fileBytes, 0, temp, temp.length, fileBytes.length); //exception thrown here            
    System.arraycopy(endBoundary.getBytes(), 0, temp, temp.length, endBoundary.getBytes().length);
}
catch(Exception e){
    System.out.println("====Exception: "+e.getMessage()+" Class: "+e.getClass());
} 
```

有人可以指出我错在哪里。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:10:46.447

当您选择`temp.length`作为 dst_position 参数时，您错误地使用了 arraycopy 的第四个参数。这意味着您希望在`temp`数组末尾之后开始目的地。第一次尝试写入数组末尾会导致`ArrayIndexOutOfBoundsException`您看到的结果。检查[文档](http://www.blackberry.com/developers/docs/7.1.0api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29)：

```
公共静态无效数组复制（对象源，
                             int src_position,
                             对象 dst,
                             int dst_position,
                             整数长度）

```

> 将指定源数组中的数组从指定位置开始复制到目标数组的指定位置。数组组件的子序列从 src 引用的源数组复制到 dst 引用的目标数组。复制的组件数量等于长度参数。源数组中位置 srcOffset 到 srcOffset+length-1 的分量被分别复制到目标数组的位置 dstOffset 到 dstOffset+length-1 中。

**编辑 1 月 22 日**

您有问题的行如下所示：

```
System.arraycopy(fileBytes, 0, temp, temp.length, fileBytes.length); 
```

如果我理解您想要正确执行的操作，您应该可以通过将 temp.length 更改为 0 来修复它，这意味着您要将 fileBytes 复制到 temp 的开头：

```
System.arraycopy(fileBytes, 0, temp, 0, fileBytes.length); 
```

# java - 通过 setName() 比较组件。

> ID：14453513
> 
> 赞同：0
> 
> 时间：2013-01-22T07:24:40.350
> 
> 标签：java, swing, compare

我正在编写一个图像益智游戏，其中一部分代码是将用户选择的部分与正确图像的部分进行比较。

每个图像片段都已作为 ImageIcon 添加到 JButton。

需要一个标识符来区分每个图像片段并进行比较。

我正在为作为标识符创建的每个 JButton 设置一个 setName()。

比较开始于用户在将拼图块从原始 3x3 网格拖动到另一个 3x 网格以进行匹配后释放鼠标。

我在从比较`if`语句中删除错误时遇到问题。

我从这个 SO 线程中得到了比较的想法 -[链接](https://stackoverflow.com/questions/227143/java-what-is-java-awt-component-getname-and-setname-used-for%22Link%22)

```
 private JButton[] button = new JButton[9];
    private JButton[] waa = new JButton[9];

    private String id;
    private int cc;
    private String id2;
    private int cc2;

    // setName for each of the 9 buttons in the original 3x3 grid being created 
    // which stores the shuffled puzzle pieces
    for(int a=0; a<9; a++){
        button[a] = new JButton(new ImageIcon());
        id += Integer.toString(++cc);
        button[a].setName(id); 
    }

    // setName for each of the 9 buttons in the other 3x3 grid  
    // where the images will be dragged to by the user
        for(int b=0; b<9; b++){
        waa[b] = new JButton();
        id2 += Integer.toString(++cc2);
        waa[b].setName(id2); 
    }

    // check if puzzle pieces are matched in the correct place
    // compare name of original 'button' array button with the name of 'waa' array buttons 
        button[a].addMouseListener(new MouseAdapter(){

            public void mouseReleased(MouseEvent m){
                if(m.getbutton().getName().equals (waa.getName())){

                    }
                    else{
                         JOptionPane.showMessageDialog(null,"Wrong! Try Again.");
                    }
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:29:48.110

在您的`mouseReleased`事件`m.getButton()`中返回被单击的鼠标按钮。你会想做更多这样的事情来让你更接近：

```
if (m.getComponent().getName().equals(waa.getName())) { 
```

`m.getComponent()`返回触发事件的`Component`对象（您的）。`JButton`从那里您可以与`getName`您使用的方法进行比较。

还有一个问题是您的`waa`变量是一个数组。我不确定您想如何比较它们，是否遍历数组并确保索引和名称匹配，但这是您需要研究的另一个问题。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T07:59:36.333

`JButton`使用`ActionListener`触发通知返回到您的程序，以指示它何时被触发。这允许按钮响应不同类型的事件，包括鼠标、键盘和程序触发器。

作为动作 API 的一部分，您可以为每个按钮提供一个动作命令。看[`JButton#setActionCommand`](http://docs.oracle.com/javase/7/docs/api/javax/swing/AbstractButton.html#setActionCommand%28java.lang.String%29)

基本上你会以一种类似的方式将它集成到你的鼠标监听器中......

```
public void actio Performed(ActionEvent evt) {
    if (command.equals(evt.getActionCommand()) {...}
} 
```

根据您的要求，使用[Action API可能会更容易](http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)

您实际遇到的问题`waa`是数组，因此它没有`getName`方法。我也不清楚为什么你有两个按钮阵列？

# c++ - 如何通过 C++ 预处理器 #include 包含部分文件

> ID：14453515
> 
> 赞同：2
> 
> 时间：2013-01-22T07:24:40.817
> 
> 标签：c++, include, c-preprocessor

我想参考一些不是我维护的稳定库代码。实际上它是一些 MFC 代码片段。

但是，每当我想包含代码片段时，我必须包含`#include`整个文件，因此我必须包含其他内容，然后是整个 MFC ......结果是不可接受的。

目前，我将代码片段复制/粘贴到我的项目中，但我觉得很丢脸。我可以只通过 C++ 预处理器引用文件的一部分吗？

即使代码与特定的 MFC 版本硬链接，也比在我的项目中复制它们要好。有了这样的硬链接，我就知道它来自 MFC 并节省我检查它们的时间。

有什么超级`#include`用法吗？

* * *

我们可以写类似

```
#include  "foo.h" line [12, 55) 
```

这意味着包含 foo.h 的第 22 到 54 行

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T07:32:47.930

有些人所做的是在其标题中写入#ifdef-sections 以允许包含文件仅获取特定部分。我不知道您的 MFC 文件是否有这些文件，但您可以查看它并使用任何现有文件或编写您自己的文件。

标题通常看起来像这样

```
#ifdef USE_FANCYPANTS
bool hasFancyPants();
#endif

#ifdef USE_COOLSTUFF
void doCoolStuff();
#endif 
```

然后您的包含文件在包含之前使用#define。

```
#define USE_FANCYPANTS
#include "header.hpp" 
```

然后你只会得到 hasFancyPants() 而不是 doCoolStuff()

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:22:16.157

*   您可以使用条件编译来包含/排除您不需要的东西。您必须稍微更改*源*代码，并修改项目设置。
*   可以使用`typedef`关键字，它将为 MFC 和非 MFC 定义不同的类型，和/或特定于您的项目设置和遗留代码。
*   您可以将整个内容放在 DLL 或 .LIB 中（具有代码，而不仅仅是声明），并将链接器编译指示放在头文件本身中。

# html - 使用“ul”和“li”时如何设置垂直对齐？

> ID：14453524
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:25:03.177
> 
> 标签：html, css

使用“ul”和“li”时如何设置垂直对齐？

这里每种字体的高度和宽度都相同，所以很难解释。
请参阅下表。
现在有一张关于标签云的表格。

标签的大小实际上不同，“标签：”的底部对齐方式与最大尺寸标签的顶部对齐方式相同。

我想要相反的。最大标签的底部对齐方式应与 in 的底部对齐方式相同`tags:`。

是否可以？

**输出表**

```
th    td

tags: Apple Banana Strawberry Melon Orange Mango 
      Kiwi Pineapple grapefruit 
```

更新：

我做了DEMO [http://jsfiddle.net/vrqe5/](http://jsfiddle.net/vrqe5/)

请看一下。

我想将底部对齐设置为相同。
我的意思是字符的底部对齐`tags:`和第一行 li 标签词。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:30:10.900

不确定您的代码，但您可以尝试...

```
.yourTagClass{
   display: table-cell;
   vertical-alignment: bottom; //or text-bottom
 } 
```

根据您的演示，尝试这些样式

```
 div.weekly_tag tr{
    display:table-row;
    vertical-align:text-bottom;
 }

 div.weekly_tag th.tag_title{
    width:90px;
 }

 div.weekly_tag th.tag_tags{
    line-height: 25px;
    text-align:left;
 }

 div.weekly_tag li{
    display:inline;
    white-space:nowrap;
 } 
```

# asp.net - 我如何使用 C# asp.net 4.0 在浏览器上显示 ppt

> ID：14453528
> 
> 赞同：0
> 
> 时间：2013-01-22T07:25:12.083
> 
> 标签：asp.net, visual-studio-2010, c#-4.0, slideshow

我想使用带有 c# 4.0 的 asp.net 在我的浏览器上显示 ppt，我将 ppt 文件转换为 html 文件类型并上传到我硬盘上的文件夹中，现在我想从文件夹中检索 html 文件并希望显示在一个 ppt查看器或类似的，所以用户可以看到 ppt 就像 ms office power point。

提前谢谢。

# optimization - 用于解决大规模优化的软件包

> ID：14453538
> 
> 赞同：0
> 
> 时间：2013-01-22T07:26:03.307
> 
> 标签：optimization, mathematical-optimization, heuristics

我正在寻找一个强大的包，可以通过启发式方法解决大规模优化问题。

对于全局优化，我使用 GAMS/CPlex，对于启发式方法，我使用 MATLAB 优化工具箱，但速度很慢

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T14:11:17.223

看看[Drools Planner](http://www.jboss.org/drools/drools-planner)（开源，java）。它支持许多构造启发式和元启发式。它已成功应用于[非常大的数据集](http://blog.athico.com/2012/06/roadef-2012-first-results-for-dataset-b.html)（`50 000`变量、`10 000`每个变量的值、搜索空间`10 000 ^ 50 000`）。

# c++ - OpenCV C++ 在关闭时崩溃

> ID：14453541
> 
> 赞同：1
> 
> 时间：2013-01-22T07:26:30.480
> 
> 标签：c++, opencv, crash

我正在使用 OpenCV 开发一个简单的背景减法程序`BackgroundSubtractorMOG2`。代码：

```
int main()
{
  VideoCapture cap(0); // open the default camera
  if(!cap.isOpened())  // check if we succeeded
      return -1;

  Mat frame,foreground,image,edges;
  BackgroundSubtractorMOG2 mog;
  namedWindow("Capture", CV_WINDOW_AUTOSIZE);
  namedWindow("Contours", CV_WINDOW_AUTOSIZE);

  while(1)
  {
    cap >> frame; // get a new frame from camera
    if( frame.empty() )
        break;
    image=frame.clone();
    mog(frame,foreground,-1);

    threshold(foreground,foreground,1,250,THRESH_BINARY);
    medianBlur(foreground,foreground,9);
    erode(foreground,foreground,Mat());
    dilate(foreground,foreground,Mat());

    imshow( "Capture",image );
    imshow("Contours",foreground);

    if(waitKey(30) >= 0) break;
  }

} 
```

该程序可以运行，但退出时会出现如下错误：`Unhandled exception at 0xfeeefeee in {prog_name}.exe: 0xC0000005: Access violation reading location 0xfeeefeee.`它将指向`crtexe.c`第 568 行：

```
if (has_cctor == 0)
  _cexit(); 
```

知道是什么导致了问题吗？提前致谢。

PS：目前使用 OpenCV 2.3.4 和 VS C++ 2010 Exp。在 Windows XP 上。

PSS：AFAIK 每个类/指针（包括相机）将在退出时被取消初始化/销毁。如果我错了，请纠正我。

**Updates(1)**：即使在[其中添加了一些行](https://stackoverflow.com/questions/14582270/contour-is-not-equal-to-contouri)之后，仍然出现错误。

**更新（2）**：为每一行尝试了调试，仍然一无所获。尝试`delete`了释放资源的函数，但找不到任何指针来使用它`delete`。

**更新（3）**：似乎我使用的每个视频处理程序`OpenCV C++`都会在退出时崩溃，即使是我从书籍/互联网复制粘贴的程序也是如此。更改`break`为`return -1`，仍然崩溃...

**更新（4）**：我在另一台 PC（MS VS 2010 Pro，Windows Vista 64b）上尝试了我的程序，猜猜是什么，**没有**崩溃。肯定是我电脑设置有问题...

# c++ - 为字符串中的特殊单词着色

> ID：14453543
> 
> 赞同：0
> 
> 时间：2013-01-22T07:26:33.413
> 
> 标签：c++, linux, colors

我有一个如下所述的节点链接列表：

```
class ColorGr
{
    string word;
    string color;
    ColorGr *next;
} 
```

我有一个字符串，我想在其中搜索“单词”并用“颜色”为它们着色。

我尝试使用 ncurses 来做到这一点，但问题在于使用 Windows。我不想刷新屏幕。

我想像`cout`函数一样在输出中打印字符串。我的代码是 c++ 语言，我在 linux 中使用 gcc。做这个的最好方式是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:00:07.047

On Windows, you can use console APIs, and manipulate colors:

```
 DWORD dummy = 0;
  const WORD color = FOREGROUND_RED | FOREGROUND_GREEN | FOREGROUND_BLUE; // gray
  HANDLE console = ::GetStdHandle (STD_OUTPUT_HANDLE);
  SetConsoleTextAttribute (console, color);
  WriteConsoleA (console, msg.data (), msg.length (), &dummy, NULL); 
```

[more colors here (link)](http://www.cprogramming.com/snippets/source-code/color-header-for-windows-that-integrates-with-cout)

Or another way, for Linux, you can use [ANSI color codes](http://pueblo.sourceforge.net/doc/manual/ansi_color_codes.html) (not all terminals support, most (except for windows) should.)

e.g.

```
 fprintf (stdout, "\e[0;36m" "cyan colored text" "\e[0m"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:45:02.620

就 windows 问题而言，我不知道您是否看过 PDACurses，所以这里有一个 SO 链接，以防万一[Ncurses workaround for windows](https://stackoverflow.com/questions/138153/is-ncurses-available-for-windows)。

# java - 将新项目添加到可扩展列表视图

> ID：14453544
> 
> 赞同：1
> 
> 时间：2013-01-22T07:26:35.417
> 
> 标签：java, android, eclipse

我正在尝试创建一个Android应用程序，该应用程序获取有关专辑的信息并将其显示在可扩展的列表视图中。艺术家的名字将显示为父件，当艺术家被选为艺术家时，该艺术家将以孩子的身份显示专辑. 到目前为止，我已经能够通过初始化 MyExpandableListAdapter 类中的字符串来使列表正常工作。但是，我希望能够按下按钮并向包含信息的列表添加一个新视图。

这是我的代码：

```
package droid.musiclibrary;

/**
 * Some code taken from:
 * http://www.dreamincode.net/forums/topic/270612-how-to-get-started-with-expandablelistview/ 
 */

import java.util.ArrayList;
import java.util.List;
import android.app.Activity;
import android.app.ExpandableListActivity;
import android.app.ListActivity;
import android.content.Context;
import android.content.Intent;
import android.database.DataSetObserver;
import android.os.Bundle;
import android.util.Log;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AbsListView;
import android.widget.ArrayAdapter;
import android.widget.BaseAdapter;
import android.widget.BaseExpandableListAdapter;
import android.widget.EditText;
import android.widget.ExpandableListAdapter;
import android.widget.ExpandableListView;
import android.widget.ListAdapter;
import android.widget.Spinner;
import android.widget.TextView;
import android.widget.Toast;

public class AddContent extends Activity {

    private Spinner spinArtist, spinGenre;
    private EditText addArtist, addGenre, addTitle, addYear;
    private ArrayAdapter<String> adapterArtist, adapterGenre;
    private ArrayList<String> artists = new ArrayList<String>();
    private ArrayList<String> genres = new ArrayList<String>();
    private ArrayList<String> albums = new ArrayList<String>();
    private ArrayList<String> albumList = new ArrayList<String>();
    List<List<String>> albumArray = new ArrayList<List<String>>();
    private ExpandableListView expList;
    private MyExpandableListAdapter expAdapter;

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getActionBar().setDisplayHomeAsUpEnabled(true);
        setContentView(R.layout.add_content);

        expList = (ExpandableListView) findViewById(R.id.artistList);
        expAdapter = new MyExpandableListAdapter(this);
        expList.setAdapter(expAdapter);
    }

    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case android.R.id.home:
                // This is called when the Home (Up) button is pressed
                // in the Action Bar.
                Intent parentActivityIntent = new Intent(this, MainActivity.class);
                parentActivityIntent.addFlags(
                        Intent.FLAG_ACTIVITY_CLEAR_TOP |
                        Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(parentActivityIntent);
                finish();
                return true;
        }
        return super.onOptionsItemSelected(item);
    }

    public AddContent() {

    }

    public void addArtist(View view) {
        spinArtist = (Spinner) findViewById(R.id.spinArtist);
        addArtist = (EditText) findViewById(R.id.txtAddArtist);
        if(addArtist.getText().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to enter an artist.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else
            artists.add(addArtist.getText().toString());

        adapterArtist = new ArrayAdapter<String>(this,
                android.R.layout.simple_spinner_dropdown_item, artists);
        adapterArtist.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinArtist.setAdapter(adapterArtist);
        addArtist.setText("");
    }

    public void addGenre(View view) {
        spinGenre = (Spinner) findViewById(R.id.spinGenre);
        addGenre = (EditText) findViewById(R.id.txtAddGenre);
        if(addGenre.getText().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to enter a genre.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else
            genres.add(addGenre.getText().toString());

        adapterGenre = new ArrayAdapter<String>(this,
                android.R.layout.simple_spinner_dropdown_item, genres);
        adapterGenre.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinGenre.setAdapter(adapterGenre);
        addGenre.setText("");
    }

    public void addAlbum(View view) {

        addTitle = (EditText) findViewById(R.id.txtAddTitle);
        addYear = (EditText) findViewById(R.id.txtAddYear);

        if(addTitle.getText().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to enter a title.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else if(spinArtist.getSelectedItem().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to select an artist.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else if(spinGenre.getSelectedItem().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to select a genre.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else if(addYear.getText().toString().trim().equals(""))
        {
            Context context = getApplicationContext();
            CharSequence text = "You need to enter a year.";
            int duration = Toast.LENGTH_SHORT;

            Toast toast = Toast.makeText(context, text, duration);
            toast.show();
        }
        else
        {
            albums.add(addTitle.getText().toString().trim());           
        }

    }

    public class MyExpandableListAdapter extends BaseExpandableListAdapter {
        private Context context;

        String[] groups = {"Silverstein"};
        String[][] children = {{"Discovering the Waterfront"}};

        public MyExpandableListAdapter(Context context) {
            this.context = context;
        }

        public Object getChild(int groupPosition, int childPosition) {
            return children[groupPosition][childPosition];
        }

        public long getChildId(int groupPosition, int childPosition) {
            return childPosition;
        }

        public int getChildrenCount(int groupPosition) {
            return children[groupPosition].length;
        }

        public TextView getGenericView() {
            // Layout parameters for the ExpandableListView
            AbsListView.LayoutParams lp = new AbsListView.LayoutParams(
                    ViewGroup.LayoutParams.FILL_PARENT, 64);

            TextView tv = new TextView(this.context);
            tv.setLayoutParams(lp);

            // Center the text vertically
            tv.setGravity(Gravity.CENTER_VERTICAL | Gravity.LEFT);
            // Set the text starting position
            tv.setPadding(45, 0, 0, 0);
            return tv;
        }

        public View getChildView(int groupPosition, int childPosition, boolean isLastChild,
                View convertView, ViewGroup parent) {

            TextView textView = getGenericView();
            textView.setText(getChild(groupPosition, childPosition).toString());
            return textView;
        }

        public Object getGroup(int groupPosition) {
            return groups[groupPosition];
        }

        public int getGroupCount() {
                return groups.length;
        }

        public long getGroupId(int groupPosition) {
            return groupPosition;
        }

        public View getGroupView(int groupPosition, boolean isExpanded, View convertView,
                ViewGroup parent) {

            TextView textView = getGenericView();
            textView.setText(getGroup(groupPosition).toString());
            return textView;
        }

        public boolean isChildSelectable(int groupPosition, int childPosition) {
            return true;
        }

        public boolean hasStableIds() {
            return true;
        }
    }

    /*public void setArtist(ArrayList<String> artist) {
        this.artists = artist;
    }

    public ArrayList<String> getArtist() {
        return artist;
    }

    public void setAlbum(ArrayList<String> album) {
        this.albums = album;
    }

    public ArrayList<String> getAlbum() {
        return albums;
    }

    /**
     * This will actually be used to sort the added content. 
     * For example, when sorting by artist, the parent will be the artist's name
     * and the child entries will be the albums by that artist.
     * This will probably have to moved to a separate class (Sort.java???)
     */
    /*public void addItem(ExpandListChild item, ExpandListParent group) {
        if(!artistList.contains(group)) {
            artistList.add((group));
        }
        int index = artistList.indexOf(group);
        ArrayList<ExpandListChild> ch = artistList.get(index).getItems();
        ch.add(item);
        artistList.get(index).setItems(ch);
    }

    public Object getChild(int parentPosition, int childPosition) {
        ArrayList<ExpandListChild> chList = artistList.get(parentPosition).getItems();
        return chList.get(childPosition);
    }

    public long getChildId(int parentPosition, int childPosition) {
        return childPosition;
    }*/
} 
```

有没有办法将艺术家和专辑 ArrayList 添加到 MyExpandableListAdpter 类中的 String[] 中？我尝试了很多不同的方法，每次我得到一个 NullPointerException。

任何帮助将不胜感激，我花了几个小时寻找答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:29:15.563

抛出一个[SimpleExpandableListAdapter](http://developer.android.com/reference/android/widget/SimpleExpandableListAdapter.html)并维护对您的组（父）和子数据对象的引用。

然后就很简单了：

```
mChildData.get(groupIndex).get(childIndex).put(...);
mListAdapter.notifyDataSetChanged(); 
```

# jquery - 如何从多个 HTML 元素的特定起点和终点使用 jQuery .wrap()？

> ID：14453545
> 
> 赞同：2
> 
> 时间：2013-01-22T07:26:38.257
> 
> 标签：jquery, html

我想使用 jQuery .wrap() 函数从特定的起点和终点将 div 包裹在一系列 html 标签周围。例如，这是我的 HTML 文档现在的样子：

我当前的 HTML 结构：

```
<div class="single-post">
    <img src="" />
    <p></p>
    <p></p>
    <blockquote></blockquote>
    <p></p>
</div> 
```

我想从上面围绕这些元素包装一个带有“新”类的 div：

```
<p></p>
<p></p>
<blockquote></blockquote>
<p></p> 
```

实际上，这就是我的最终结果应该是这样的：

```
<div class="single-post">
    <img src="" />
    <div class="new">
        <p></p>
        <p></p>
        <blockquote></blockquote>
        <p></p>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:32:22.080

好的，假设 img 始终是独行侠，您可以执行[**以下**](http://jsfiddle.net/lollero/mSmkC/2/)操作：

jQuery：

```
$('.single-post > img').siblings().wrapAll('<div class="new" />'); 
```

* * *

你也可以这样[**做**](http://jsfiddle.net/lollero/mSmkC/4/)：

```
$('.single-post').children(':not(.exclude)').wrapAll('<div class="new" />'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T08:01:38.703

`<div class="single-post">`如果应该总是跳过里面的第一个孩子：

```
$('.single-post')
    .children()
    .slice(1)
    .wrapAll('<div class="new" />'); 
```

这里，第一个参数 to`.slice()`表示起点（第二个元素）。您还可以使用第二个参数指定终点：

```
.slice(1, 4) // will select elements 2 and 3 
```

*起点和终点可以是负数，表示距离终点的位置*

也可以看看：[`jQuery.slice()`](http://api.jquery.com/slice/)

# cocos2d-iphone - 用更新 Cocos2D 将一个长 CCMoveTo 替换为多个 CCMoveTo

> ID：14453548
> 
> 赞同：0
> 
> 时间：2013-01-22T07:26:54.253
> 
> 标签：cocos2d-iphone

目前，我有一个游戏，其中一个对象决定了一个点。然后它计算到该点的路径并构造一个长`CCMoveTo`动画以到达该点。使用这种方法，动画看起来非常流畅和连续。

我现在正试图利用定期调用的方法将这一方法分解`CCMoveTo`为多次。我想这样做是因为在对象通过的路径的每个节点上，可能会分散注意力，我希望我的对象能够对此采取行动。所以这就是我正在做的事情：`CCMoveTo``update`

```
- (void) update: (ccTime) dt
{
    if(![self isWalking]){
        CGPoint nextNode = [_path objectAtIndex:(_currentPathIndex%[_path count])];
        _currentPathIndex++;
        NSMutableArray *actions = [[NSMutableArray alloc] init];
        [actions addObject:[CCCallBlockO actionWithBlock:^void(id obj) {
            [(Monkey *) obj setIsWalking:NO];
        }                                         object:self]];
        [self moveTo: nextNode withCallbacks: actions];
    }
} 
```

注意：当对象完全到达目标节点时，我设置为回调`isWalking`。`NO`这将让它计算下一个节点并构建该动画。没有这个，对象将尝试`runAction`在正在进行的`CCMoveTo`动作中进行。**这种方法的问题在于，运动似乎不再平滑和连续。`CCMoveTo`每个动画结束时似乎都有延迟**

有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:22:21.257

这是 cocos2d 的 CCAction 系统和 CCScheduler 的副作用。

总会有 1 帧延迟，因为当一个动作停止时，它不会在当前帧中做任何工作：它在前一帧中进行了最后一次位置更新，而在当前帧中它不再作为运行动作。

如果您现在在计划的方法中运行另一个移动操作，则该操作将在下一帧之前开始更新，因为它会自行安排接收更新。而 cocos2d 的 CCScheduler 执行更新时计划的更新将不会运行到下一帧，因为您无法在枚举期间修改数组。

我的建议是始终避免将 CCMove* 动作用于游戏目的，而是手动更新游戏对象的位置。这很容易做到，如果您需要代码示例，请查看 CCMoveTo 类的内部。

一种解决方法是延长 CCMoveTo 的距离并在它完成前不久替换该动作。虽然这将是一个 hack，并且实际上可能比手动位置更新更难正确实施。

PS：这是我在[KoboldTouch](http://www.koboldtouch.com)的动作模型中解决的问题。它实现了自己的动作系统，具有更轻量级和可重用的动作。

# asp.net - Telerik 列表框对项目数量的限制

> ID：14453549
> 
> 赞同：0
> 
> 时间：2013-01-22T07:27:01.860
> 
> 标签：asp.net, listbox, telerik

我有 2 个 rad 列表框，一个是源，另一个是目标。我想限制用户，因为他/她不能转移超过 2 个值，这意味着如果目标列表有 2 个项目而不是另一个项目，但如果我们删除一个项目，它再次允许用户只转移一个项目。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T14:16:33.597

您可以查看此客户端事件： OnClientTransferred

[Telerik 文档](http://www.telerik.com/help/aspnet-ajax/listbox-onclienttransferred.html)

因此，一旦触发此事件，您就可以调用函数“get_destinationListBox()”并计算项目数。如果数字小于 2，则允许转移，如果它是 2 或更大，那么您可能需要将该项目转移回源列表。

# iphone - facebook 活动开始日期格式 + iphone sdk

> ID：14453560
> 
> 赞同：1
> 
> 时间：2013-01-22T07:28:05.813
> 
> 标签：iphone, objective-c, facebook, facebook-graph-api, ios5

我正在使用 FBGraph api 从 Facebook 获取事件。我得到了适当的回应。但是，我没有得到 start_time 和 end_time 的正确日期格式。

现在我得到这种格式 2013-01-23T19:50:00+0530。我想将它转换为“yyyy-MM-dd hh:mm:ss a”格式化程序。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:46:16.460

[格式化程序setDateFormat:@"yyyy'-'MM'-'dd'T'HH':'mm':'ss+SSSS"];

试试这个格式化程序..它的工作..

# forms - Web::Scrape 与 Xpath 返回太多行

> ID：14453562
> 
> 赞同：1
> 
> 时间：2013-01-22T07:28:15.427
> 
> 标签：forms, perl, xpath, html-select, scraper

在一些讨厌的嵌套表上使用 Web::Scrape，没有 CSS 样式。必须学习 XPATH，然后被绊倒。

**更新：**修复了一些 XPATH 问题，现在只剩下一个关于属性的问题

```
#!perl
use warnings;
use Web::Scraper;
use Data::Dumper;

my $html = do { local $/; <DATA> };
my $scraper = scraper {
    # Wrong! The 'tbody' element does not exist.
    # process ".//[@id='cfg-surface-detail']/center/table/tbody/tr/td[2]/select",
    # I used Chrome to get the XPath, and it inserts tbody elements when rendering bad HTML
    # also, I changed the start of the XPATH from './/' to '//*'
    # which I think means "relative to anywhere" or something.
    process "//*[@id='cfg-surface-detail']/center/table/tr/td[2]/select",
        'sensorType[]' => 'TEXT';
};

my $res = $scraper->scrape($html);
print Dumper($res);

__DATA__
<html><head><title>...</title></head>
<body>
    <form action="/foo" method=post id=cfg-surface-detail name=cfg-surface-detail>
        <center>
        <table bgcolor="#FFFFFF">
            <tr><td>Sensor Type</td><td>
            <select name="cfg-sensor-type"  >
                <option value="1 Fred's Sensor" selected>Fred's Sensor
                <option value="2 Other">Other Sensor
            </select>
            </td></tr>
        </table>
        </center>
    </form>
</body>
</html> 
```

现在*输出*：

```
$VAR1 = {
      'sensorType' => [
                        'Fred\'s Sensor Other Sensor '
                      ]
    }; 
```

所以我越来越近了。现在如何指定`<option>`具有该`selected`属性的？

**更新：**已解决。Xpath 是`//*[@id="cfg-surface-detail"]/center/table/tr/td[2]/select/option[@selected]`

这有帮助：[http ://www.w3schools.com/xpath/xpath_syntax.asp](http://www.w3schools.com/xpath/xpath_syntax.asp)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T07:02:45.000

```
#!perl
use warnings;
use Web::Scraper;
use Data::Dumper;

my $html = do { local $/; <DATA> };
my $scraper = scraper {
      process '#cfg-surface-detail//select',
        'sensorType[]' => 'TEXT';
};

my $res = $scraper->scrape($html);
print Dumper($res);

__DATA__
<html><head><title>...</title></head>
<body>
    <form action="/foo" method=post id=cfg-surface-detail name=cfg-surface-detail>
        <center>
        <table bgcolor="#FFFFFF">
            <tr><td>Sensor Type</td><td>
            <select name="cfg-sensor-type"  >
                <option value="1 Fred's Sensor" selected>Fred's Sensor
                <option value="2 Other">Other Sensor
            </select>
            </td></tr>
        </table>
        </center>
    </form>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T22:55:42.840

如果是我，我会选择css。所选选项的 CSS 解决方案是：

```
'select[name="cfg-sensor-type"] option[selected]' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-05T18:27:16.370

答案与之前的两个答案都有些不同：

```
$scraper = scraper {
    process '//select[@name="cfg-sensor-type"]/option[@selected]', 'SensorType' => 'TEXT';
}; 
```

# javascript - 如何使用 JavaScript 将图像右对齐？

> ID：14453563
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:28:20.970
> 
> 标签：javascript, asp.net, input, alignment, html-heading

嗨，我正在尝试右对齐由 JS 创建的“捐赠”按钮，如下面的代码所示，

```
<%@ Master Language="C#" AutoEventWireup="true" CodeBehind="MentorMentee.master.cs" Inherits="MentorMentee.MentorMentee" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
<head runat="server">
    <title>Untitled Page</title>
    <link href="style/style.css" rel="stylesheet" type="text/css" />
    <asp:ContentPlaceHolder ID="head" runat="server"> 

    </asp:ContentPlaceHolder>

</head>
<body>
    <form id="form1" runat="server" action="https://www.paypal.com/cgi-bin/webscr" method="post">
    <div id="main">
    <header>
      <div id="logo">
        <div id="logo_text">
          <!-- class="logo_colour", allows you to change the colour of the text -->
            <h1><span>M</span></h1>  
            <script type="text/javascript">
    function Donate()
{
    var myform = document.createElement("form");
    myform.action = "https://www.paypal.com/cgi-bin/webscr";
    myform.method = "post";
    myform.target = "_blank";

    var image = document.createElement("input");
    image.type = "image";
    image.src = "https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif";
    image.border = "0";
    image.name = "submit";
    image.alt="PayPal - The safer, easier way to pay online!";

    //Most probably this can be skipped, but I left it in here since it was present in the generated code
    var pixel = document.createElement("image");
    pixel.border = "0";
    pixel.alt="";
    pixel.src = "https://www.paypalobjects.com/en_US/i/scr/pixel.gif";
    pixel.width = "1";
    pixel.height = "1";

    myform.appendChild(image);

    myform.submit();
}
    </script>        
      </div>
      <nav>
        <asp:ContentPlaceHolder ID="HeaderContent" runat="server">

        </asp:ContentPlaceHolder>
        </nav>
        </div>
        </header>
        <div id="site_content">
        <div class="content">
                <asp:ContentPlaceHolder ID="MainContent" runat="server">
                </asp:ContentPlaceHolder>
            </div>
        </div>
    </div>
<img src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif"
border="0"
alt="PayPal - The safer, easier way to pay online!"
onclick="javascript:Donate();"
style="cursor:pointer;"/>
    </form>
</body>
</html> 
```

但我愿意把它放在我正在做的同一行，

```
<h1><span>M</span></h1> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:40:08.367

您可以将 ID 添加到您的图像标签并使用以下代码：

```
var myImageId = document.getElementById("IMAGE_ID");
document.getElementById("myButton").onclick = function () {myImageId.style.float = “left”;}; 
```

并且您可以设置任何属性，例如： padding ， margin ，...来设置左侧的图像取决于您的页面

# quickbooks-online - 如何在使用 Quickbook API 添加新发票之前检查重复发票

> ID：14453573
> 
> 赞同：1
> 
> 时间：2013-01-22T07:29:06.217
> 
> 标签：quickbooks-online

我在我的网站上集成了快速手册。我正在通过 XML 发送请求以在 Quickbook 中添加发票。

长期以来它工作正常。现在我想通过 Quickbook API 检查重复发票，因为有时我们无法从 Quickbook 获得添加发票的响应，所以我们再次发送添加发票的请求，以便它获取重复发票，所以如果 Quickbook 的任何 API 有助于检查重复发票之前通过 api 添加任何发票。

我在快速手册文档上找不到任何用于检查重复发票的 api。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T12:22:24.717

如果您没有 TxnID，则确实无法在 QuickBooks 中检测“重复”发票。

您可以获得的最接近的是通过 RefNumber 进行查询（[QuickBooks qbXML 用于通过 RefNumber 进行查询）](http://www.consolibyte.com/docs/index.php/QbXML_for_Querying_for_Invoices_by_RefNumber)，*但是*因为 QuickBooks 允许重复的 RefNumbers（即在 QuickBooks 中拥有两个或多个 Invoice #1234 是完全有效的），因此无法保证您收到的发票来自该查询的是*您*创建的发票。

综上所述，听起来您正在*尝试解决错误的问题*。您正在尝试解决此问题：

> 现在我想通过 Quickbook API 检查重复发票

当您*应该*尝试解决此问题时：

> 有时我们无法从 quickbook 获得添加发票的回复

**如果您在谈论 QuickBooks Online**

您应该始终从 QuickBooks Online 服务器获得某种 HTTP 响应*。*如果您没有收到回复，可能是您等待响应的时间不够长，或者您的代码中有错误，无法正确处理响应。

您可以发布您的 cURL curl_getinfo($curl) 输出，以及代码中 ->lastRequest() 和 ->lastResponse() 的结果吗？

**如果您正在谈论适用于 Windows 的 QuickBooks**

重要的是要认识到 QuickBooks 和 Web 连接器将始终尝试向您发送响应（[QuickBooks Web 连接器文档](http://wiki.consolibyte.com/wiki/doku.php/quickbooks_web_connector)）。*总是*。您可能完全错过响应的唯一方法是如果您失去了互联网连接，*即使那样您至少应该知道请求是否已发送到 QuickBooks*，因此知道不要再次发送它。

如果您没有收到回复，那么您有 99.9% 的可能性是*您*做错了事情，导致您没有收到回复。

**底线：**

You should focus on *why* you're not getting the responses in your program and fix the *source* of this problem, rather than trying to fix a *symptom*.

# java - Android sqlite和sql server中同步（crud操作）两种方式

> ID：14453577
> 
> 赞同：3
> 
> 时间：2013-01-22T07:29:42.003
> 
> 标签：java, android, sql-server, asynchronous, synchronization

我正在开发一个具有

*   我的设备上的 sq lite db

*   同步它们的主服务器上的服务器 sql db，两个相同
    （相同的字段结构和字段名称）

*   我需要以两种方式开发这些数据库之间的同步

*   如果我在 Android 中更改数据库数据，那么它将更改 Web 服务器上的数据

*   当我从服务器更改数据时，它应该更改 android 中的数据

*   同步将在 1 天内自动运行

    现在的问题是如何在 Android 中同步这些数据库？因为我刚进入移动世界，我也是被拘留者，他们说如果我能完成这项工作，那么我将是永久的。

发现了几件事，但我处于初学者水平。我没有找到任何样品。我在这里找到了类似的问题，但没有找到任何代码，任何仅以 2 路同步数据的示例。

如果有人能给我（开源项目）或一些带有一些解释的示例代码，我将不胜感激。

或类似的东西会告诉我一种方法来做到这一点。

[如何将 Android 手机上的 SQLite 数据库与服务器上的 MySQL 数据库同步？](https://stackoverflow.com/questions/6511402/how-to-sync-sqlite-database-on-android-phone-with-mysql-database-on-server)

[Android双向sqlite数据库同步](https://stackoverflow.com/questions/6500649/android-bi-directional-sqlite-database-synchronization?rq=1)

我找到了这些文章，但对我没有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T09:39:42.853

将此用作您的 android 服务

```
public class Connector {

HttpClient httpClient = null;
HttpPost httpPost = null;
HttpResponse httpResponse = null;
String serverResponse = null;

public String callService(String url){

    try{
        httpClient = new DefaultHttpClient();
        httpPost = new HttpPost(url);
        httpResponse = httpClient.execute(httpPost);
        //Log.e("URL Response", serverResponse);
        serverResponse = EntityUtils.toString(httpResponse.getEntity());
    }
    catch(Exception ex){
        Log.e("Exception in connectivity", ex.toString());
    }
    //Log.e("URL Response", serverResponse);
    return serverResponse;
}

} 
```

此类帮助您更新 android db

```
public class DbSync extends SQLiteOpenHelper {

private static String DB_PATH = "";
private static final String DATABASE_NAME = "Your_Db_Name";
private SQLiteDatabase sqliteDb = null;
private String path = null;

public DbSync(Context context) {
    super(context, DATABASE_NAME, null, 1);
    DB_PATH = "/data/data/" + context.getPackageName() + "/databases/";
    path = DB_PATH + DATABASE_NAME;
}

@Override
public void onCreate(SQLiteDatabase db) {

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {

}

public void syncUsers(){
    try {
        String response = new TaskAsync().execute("URL_Where_Service_Running").get();
        Log.d("response", response);

        String tableName = "Table_Name";

        sqliteDb = SQLiteDatabase.openDatabase(path, null,  SQLiteDatabase.OPEN_READWRITE);
        sqliteDb.delete(tableName, null, null);

                    //here you have to parse your data from DB and insert using 
                    ContentValues values = new ContentValues();
        values.put("col_name1", parsedColumnValue);
        values.put("col_name2", parsedColumnValue);

        long status = sqliteDb.insert(tableName, " ", values);

        Log.d("database", Long.toString(status));

        sqliteDb.close();

    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

您必须根据从 DB 返回的数据来定制上述代码。希望能帮助到你：）

# c# - 在邮件正文中发送图像

> ID：14453579
> 
> 赞同：0
> 
> 时间：2013-01-22T07:29:49.917
> 
> 标签：c#, asp.net-mvc, image, email

我想在邮件正文中发送图像而不是附件。

这是我的代码。

```
MailMessage mail = new MailMessage();
mail.To.Add(new MailAddress(""toaddress"));

mail.Subject = strSubject;
mail.Body = "<html><body><img src=cid:companylogo/><br><p>Dear Member,</p>" + strBody + "<br/><b>Regards</b>,<br/>Team</body></html>";
mail.IsBodyHtml = true;
AlternateView altView = AlternateView.CreateAlternateViewFromString(mail.Body, null, MediaTypeNames.Text.Html);

LinkedResource logo = new LinkedResource("logo.jpg", MediaTypeNames.Image.Jpeg);
logo.ContentId = "companylogo";
altView.LinkedResources.Add(logo);
mail.AlternateViews.Add(altView);
SmtpClient client = new SmtpClient();
client.Send(mail); 
```

使用它我将图像作为附件。

我将如何将其作为邮件正文发送？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:33:50.037

您需要做的是将图像作为附件发送，然后从邮件的 HTML 中引用 int。它在[这里](https://stackoverflow.com/questions/9983248/can-an-html-email-body-reference-a-file-sent-as-an-attachment-in-the-same-email)解释。

您还可以参考来自外部服务器的图像，大多数现代电子邮件客户端都允许这样做。

# perl - Perl 模式匹配和 grep 哪个更有效？

> ID：14453584
> 
> 赞同：2
> 
> 时间：2013-01-22T07:30:15.220
> 
> 标签：perl, grep

Linux 系统上哪个模式匹配效率更高？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-01-22T08:36:52.563

贝尔实验室的 Russ Cox 在 2007 年写了一篇很棒的文章。在这篇文章中，他展示了如何`grep`使用
非确定性有限自动机来提高 Perl 和其他软件的速度。

![perl](../Images/158797de0a51627dbb8b115cfa25c32c.png) ![grep](../Images/5520e4abdc52d3f4297d16c1b203f6d5.png)

[正则表达式匹配可以简单快速](http://swtch.com/~rsc/regexp/regexp1.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-25T11:44:20.087

我找到了最适合我的方法。

在我拥有一个包含数千个元素的数组之前，我使用了另一个包含数千个元素的列表来从数组中获取更多信息。

现在我将一次我的数组放入哈希数组，然后每次都非常快速地从中获取数据。

曾是：

```
@ua1 = grep /$ip/, @ua; 
```

现在：

```
$ua1[0] = $adrs{$ip}; 
```

# tridion - 使用 Tridion Query 实现全文搜索

> ID：14453592
> 
> 赞同：6
> 
> 时间：2013-01-22T07:30:34.097
> 
> 标签：tridion, tridion-2011, tridion-content-delivery

我必须实现基于 SDL Tridion WCMS 的网站的全扩展搜索。任何建议或想法如何使用 Tridion Query 实现全文搜索？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T09:04:44.660

SDL Tridion Content Delivery API 旨在根据系统或自定义元数据和/或分类检索内容。全文无法通过 API 进行搜索。要在 Tridion 站点上实现全文站点搜索，通常使用/集成单独的搜索引擎，例如[Google Site Search](https://developers.google.com/custom-search/)或[基于 Lucene 的](http://lucene.apache.org/solr/)解决方案之一。最好的集成通常使用[存储扩展](http://sdllivecontent.sdl.com/LiveContent/content/en-US/SDL_Tridion_2011_SPONE/concept_35CC2F9DCEA34995931E181C165FCC0F)来在内容发生更改时通知搜索索引器。

请参阅[我们如何将 Microsoft FAST 与 SDL Tridion 2011 SP1 集成？](https://stackoverflow.com/questions/11014950/how-can-we-integrate-microsoft-fast-with-sdl-tridion-2011-sp1)和[在 SDL Tridion 2011 中扩展内容交付存储以](http://www.sdltridionworld.com/articles/sdltridion2011/tutorials/extending-content-delivery-storage-sdltridion-2011-1.aspx)获取一些想法/示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T19:36:05.250

如果 Google 机器人可以访问您的网站，那么 Google Site Search 就很容易了。

您还可以使用应用服务器进行全文搜索（例如，它在 .NET/SQL 环境中）。

如果您想要一个企业搜索平台，请查看开源[Solr](http://lucene.apache.org/solr/)。借助 Java、.Net 和 JavaScript API 以及基于 REST 的服务器/服务，这个开源选项值得长期关注。

不要离题太远，但这有助于我在第一次回答同一个问题时形象化：网站搜索意味着三件事。一、搜索引擎；二，搜索模式/索引（决定野兽吃什么并喂它）；三、搜索用户界面。

# oracle11g - 如何设置从oracle表生成xml文件的内容长度和宽度

> ID：14453596
> 
> 赞同：0
> 
> 时间：2013-01-22T07:30:39.583
> 
> 标签：oracle11g

这是我正在使用的代码：

```
SET PAGES 0;
SET LINES 1000; 
SET LONG 999999999;
SPOOL C:\RAMESH.XML;
SELECT DBMS_XMLGEN.GETXML('SELECT * FROM DATAAG') FROM DUAL;
SPOOL OFF; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:55:03.597

set long 定义了给定行的 CLOB 类型输出的假脱机量。

您还应该为该列添加别名，例如：

```
col foo format a60000
SELECT DBMS_XMLGEN.GETXML('SELECT * FROM DATAAG') foo FROM DUAL; 
```

设置`a<width>`列宽。

# angularjs - 非即时更新模型？

> ID：14453601
> 
> 赞同：4
> 
> 时间：2013-01-22T07:31:00.727
> 
> 标签：angularjs

AngularJS 的数据绑定很简洁，但我不希望我的视图在用户按下“保存”按钮之前立即更新。我怎样才能延迟更新视图，同时仍然保持我的文本输入和之间的绑定`{{placeholders}}`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T08:15:49.763

您可以仅为表单绑定临时对象，并让“保存”按钮处理程序将表单对象复制到您的主数据模型中。

这是示例： http: [//plnkr.co/edit/4vuduD](http://plnkr.co/edit/4vuduD)

在 html 中：

```
<form ng-submit="update()">
  <label>name: <input ng-model="formobj.name"/></label>
  <input type="submit"/>
</form>
saved name : {{ obj.name }} 
```

在js中：

```
app.controller('MainCtrl', function($scope) {
  $scope.formobj = {name: ""};
  $scope.obj = {name: ""};
  $scope.update = function() {
    $scope.obj = angular.copy($scope.formobj);
  };
}); 
```

# node.js - 如何在node.js中找到两个地理点之间的距离？

> ID：14453603
> 
> 赞同：3
> 
> 时间：2013-01-22T07:31:19.980
> 
> 标签：node.js, google-maps

如何使用 node.js 查找两个地理点（一组经度和经度）之间的距离。

我有使用谷歌地图距离矩阵服务的客户端javascript代码。

我想在服务器端javascript（在 node.js router.js 或 datamodel.js 中）做同样的事情。

我的客户端 Javascript 代码：

```
 function calculateDistances() {
          var gs =require('googlemaps');
            var latlong = { 'latitude': 52.5112, 'longitude': 13.45155};
         var origin1 = gs.LatLng(13.125511084202,80.029651635576);
      var origin2 = new google.maps.LatLng(12.9898593006481,80.2497744326417);;
           var destinationA = new google.maps.LatLng(13.125511084202,80.029651635576);;
          var destinationB = new google.maps.LatLng(12.9898593006481,80.2497744326417);
       var service = new google.maps.DistanceMatrixService();
      service.getDistanceMatrix(
  {
    origins: [origin1, origin2],
    destinations: [destinationA, destinationB],
    travelMode: google.maps.TravelMode.DRIVING,
    unitSystem: google.maps.UnitSystem.METRIC,
    avoidHighways: false,
    avoidTolls: false
  }, callback);
  }
  function callback(response, status) {
    if (status != google.maps.DistanceMatrixStatus.OK) {
      alert('Error was: ' + status);
    } else {
      var origins = response.originAddresses;
      var destinations = response.destinationAddresses;
      var outputDiv  = '';
      deleteOverlays();

      for (var i = 0; i < origins.length; i++) {
        var results = response.rows[i].elements;
        addMarker(origins[i], false);
        for (var j = 0; j < results.length; j++) {
          addMarker(destinations[j], true);
          outputDiv += origins[i] + ' to ' + destinations[j]
              + ': ' + results[j].distance.text + ' in '
              + results[j].duration.text + '';
        }

      }
      console.log(outputDiv);
    }
  } 
```

你能建议我用距离矩阵示例代码在 node.js 包中做同样的事情吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-22T10:21:57.697

也许这个包？[https://github.com/manuelbieh/geolib](https://github.com/manuelbieh/geolib)

而这个方法：

```
geolib.getDistance(object start, object end, [int accuracy]) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-23T17:14:13.523

查看[https://github.com/edwlook/node-google-distance](https://github.com/edwlook/node-google-distance)

```
var distance = require('google-distance');

distance.get(
  {
    origin: 'San Francisco, CA',
    destination: 'San Diego, CA'
  },
  function(err, data) {
    if (err) return console.log(err);
    console.log(data);
}); 
```

这将输出：

```
{
  index: null,
  distance: '807 km',
  distanceValue: 807366,
  duration: '7 hours 30 mins',
  durationValue: 26981,
  origin: 'San Francisco, CA, USA',
  destination: 'San Diego, CA, USA',
  mode: 'driving',
  units: 'metric',
  language: 'en',
  avoid: null,
  sensor: false
} 
```

# algorithm - 在哪里可以找到有关 3D 算法的信息？

> ID：14453605
> 
> 赞同：1
> 
> 时间：2013-01-22T07:31:32.647
> 
> 标签：algorithm, 3d, game-physics

我对学习 3D 视频游戏开发很感兴趣，但不确定从哪里真正开始。我不只是制作它可以由各种游戏制造商完成，我更感兴趣的是它是如何完成的。理想情况下，我想知道一般 3D 模型等以哪种格式存储。（坐标格式等）以及如何从特定角度在屏幕上表示 3D 数据的信息，例如一般的免费漫游 3D 视频游戏就像鬼泣一样。我看过一些关于 3D 矩阵的链接，但我真的不明白它们是如何使用的。对初学者的任何帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T12:23:55.083

视频游戏开发是一个庞大的领域，需要*博弈论、计算机科学、数学、物理和艺术*方面的知识。根据您想专攻什么，有不同的起点。但由于这是一个编程问题的网站，这里有一些关于它的编程部分的见解：

* * *

# 文件格式

资产（模型、纹理、声音）是使用专用的 3rd 方工具（想想 Gimp、Photoshop、Blender、3ds Max 等）创建的，这些工具提供了多种不同的导出格式。这些格式通常有一个共同点：它们针对*应用程序之间的简单通信*进行了优化。

视频游戏具有很高的性能要求，并且在游戏过程中必须始终加载和卸载资产。因此，内容必须采用*紧凑且加载速度快*的格式。通常第 3 方格式不能满足您在游戏项目中的特定要求。为了获得最佳性能，您需要考虑开发自己的格式。

资产和常见的第 3 方格式示例：

*   纹理：PNG、JPG、BMP、TGA
*   3D模型：OBJ、3DS、COLLADA
*   声音：WAV、MP3

## 其他示例

### Direct3D 中的纹理

在我的游戏项目中，我使用导入器将我的纹理从上述格式之一转换为[DDS](http://de.wikipedia.org/wiki/DirectDraw_Surface)文件。这不是我自己开发的格式，但它仍然是使用 Direct3D（图形 API）加载的最快格式之一。

### 静态 3D 模型

[Wavefront OBJ](http://en.wikipedia.org/wiki/Wavefront_.obj_file)文件格式是一种非常易于理解的基于文本的格式。大多数 3D 建模应用程序都支持它。但由于它是基于文本的，因此文件比等效的二进制文件大得多。它们还需要大量昂贵的解析和处理。所以我开发了一个导入器，将 OBJ 模型转换为我的自定义高性能二进制格式。

### 波形声音文件

[WAV](http://en.wikipedia.org/wiki/WAV)是一种非常常见的声音文件格式。此外，它非常适合在游戏中使用。所以在这种情况下不需要自定义格式。

# 3D图形

将 3D 场景每秒*至少*渲染30 次以达到平均屏幕分辨率需要大量计算。为此目的，构建了[GPU 。](http://en.wikipedia.org/wiki/Graphics_processing_unit)虽然可以使用非常低级的语言为 GPU 编写任何类型的程序，但大多数开发人员使用[Direct3D](http://en.wikipedia.org/wiki/Microsoft_Direct3D)或[OpenGL](http://en.wikipedia.org/wiki/OpenGL)之类的抽象。这些 API 在限制与 GPU 通信的方式的同时，极大地简化了与图形相关的任务。

## 使用 API 渲染

[到目前为止，我只使用过 Direct3D，但其中一些也应该适用于 OpenGL。]

正如我所说，GPU 是可以编程的。Direct3D 和 OpenGL 都有自己的 GPU 编程语言，即*着色语言*：[HLSL](http://en.wikipedia.org/wiki/High_Level_Shader_Language) (Direct3D) 和[GLSL](http://en.wikipedia.org/wiki/GLSL)。用其中一种语言编写的程序称为*Shader*。

在渲染 3D 模型之前，图形设备必须为渲染做好准备。这是通过将着色器和其他效果状态绑定到设备来完成的。（所有这些都是使用 API 完成的。）

3D 模型通常表示为一组顶点。例如，矩形有 4 个顶点，立方体有 8 个，等等。这些顶点由多个组件组成。在这种情况下，绝对最小值将是一个*位置*分量（3 个浮点数表示 3D 空间中的 X、Y 和 Z 偏移量）。此外，位置只是一个无限小的点。所以另外我们需要定义点如何连接到表面。

定义顶点和三角形后，可以将它们写入 GPU 的内存。如果一切设置正确，我们可以通过 API 发出 Draw Call。GPU 然后执行您的着色器并处理所有输入数据。在最后一步中，渲染的三角形被写入定义的输出（例如屏幕）。

# 3D 图形中的矩阵

正如我之前所说，3D 网格由具有 3D 空间位置的顶点组成。这些位置都嵌入到称为*对象空间*的坐标系中。

为了将对象放置在世界中、移动、旋转或缩放它，必须转换这些位置。换句话说，它们必须嵌入到另一个坐标系中，在这种情况下称为*世界空间*。

进行这种变换的最简单和最有效的方法是矩阵乘法：根据平移、旋转和缩放量构造一个 4x4 矩阵。然后将该矩阵与每个顶点相乘。（它背后的数学很有趣，但不在这个问题的范围内。）

除了对象和世界空间之外，还有*视图空间*（“相机”的坐标系）、*剪辑空间*、*屏幕空间*和*切线空间*（在对象的表面上）。向量必须在这些坐标系之间进行大量转换。所以你明白了，为什么矩阵在 3D 图形中如此重要。

* * *

### 如何从这里继续

找到一个您认为有趣的主题并开始使用 Google 搜索。我想我给了你很多关键词，我希望我能让你对你具体提到的主题有所了解。

StackExchange 框架中还有一个[游戏开发站点](https://gamedev.stackexchange.com/)可能更适合此类问题。在任何 SE 网站上，[投票率最高的问题](https://gamedev.stackexchange.com/questions)始终是一本好书。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:49:43.773

基本上，第一个决定是使用 OpenGL 还是 DirectX。我建议你使用 OpenGL，因为它独立于平台，也可以用于移动设备。

对于 OpenGL，这里有一些很好的教程可以帮助您入门：

[http://www.opengl-tutorial.org/](http://www.opengl-tutorial.org/)

# javascript - 循环数组中的值

> ID：14453606
> 
> 赞同：0
> 
> 时间：2013-01-22T07:31:32.973
> 
> 标签：javascript, arrays, function, for-loop, split

我有这个功能

```
var globalvar = new Array();
function coor(coor1){

    for(i=0;i<=coor1.length;i++){
        exy = coor1[i].split(".");
        ex = exy[0].split("-");
        ey = exy[1].split("-");

        for(x=parseInt(ex[0]);x<=parseInt(ex[1]);x++){

            for(y=parseInt(ey[0]);y<=parseInt(ey[1]);y++){

                globalvar.push(ex[x]+"."+ey[y]);
            }
        }

    }
}

// execute function
coor(["5-7.8-9","1-2.3-4"]); 
```

我期待的是……

变量将在`globalvar`数组中包含此值

```
globalvar = ["5.8","5.9","6.8","6.9","7.8","7.9","1.3","1.4","2.3","2.4"]; 
```

我希望任何人都可以帮我解决这个问题... Y_Y 因为当我使用我当前的代码时，它会返回`empty`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:40:09.943

这应该这样做

```
var globalvar = new Array();
function coor(coor1){
    for(i=0;i<coor1.length;i++){ //Removed =
        exy = coor1[i].split(".");
        ex = exy[0].split("-");
        ey = exy[1].split("-");
        for(x=parseInt(ex[0]);x<=parseInt(ex[1]);x++){
            for(y=parseInt(ey[0]);y<=parseInt(ey[1]);y++){
                console.log(y)
                globalvar.push(x+"."+y); //need to use x & y not ex[x] & ey[y]
            }
        }
    }
}
coor(["5-7.8-9","1-2.3-4"]) 
```

[小提琴](http://jsfiddle.net/arunpjohny/s8YnE/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T08:03:26.473

尽管 Arun 的答案有效，但它正在到处泄漏全局变量。

通常，您希望保持全局空间清晰以防止以后出现问题。

我可以推荐：

```
function coor(c) {
  for(var i = 0, l = c.length; i < l; i++) {
    var xy = c[i].split('.')
      , x  = xy[0].split('-')
      , y  = xy[1].split('-');
    for(var xi = ~~x[0]; xi <= ~~x[1]; xi++) {
      for(var yi = ~~y[0]; yi <= ~~y[1]; yi++) {
        globalvar.push(xi + '.' + yi);
      }
    }
  }
} 
```

不过，最好不要让函数首先写入全局变量。在这种情况下，您将让函数返回结果，并且您可以根据需要处理这些结果。

例如：

```
function coor(c) {
  var r = [];
  for(var i = 0, l = c.length; i < l; i++) {
    var xy = c[i].split('.')
      , x  = xy[0].split('-')
      , y  = xy[1].split('-');
    for(var xi = ~~x[0]; xi <= ~~x[1]; xi++) {
      for(var yi = ~~y[0]; yi <= ~~y[1]; yi++) {
        r.push(xi + '.' + yi);
      }
    }
  }
  return r;
}

var globalvar = [];
var results = coor(['5-7.8-9','1-2.3-4']);
globalvar = globalvar.concat(results); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:59:26.283

像这样的东西应该工作

```
function floatRange(delim, rangedelim) {
    var result = [];
    var args = Array.prototype.splice.call(arguments, 2);
    for (var i = 0; i < args.length; i++) {
        var cur = args[i].toString().split(delim);
        console.log(cur)
        var floats = [cur[0].split(rangedelim), cur[1].split(rangedelim)];
        console.log(floats)
        for (var j = floats[0][0]; j <= floats[0][1]; j++) {

            for (var k = floats[1][0]; k <= floats[1][1]; k++) {
                result.push(Number(j + "." + k));

            }
        }
        console.log(result)
    }
    return result;
}
console.log(floatRange(".", "-", "4-6.5-8", "6-7.8-9")); //[4.5, 4.6, 4.7, 4.8, 5.5, 5.6, 5.7, 5.8, 6.5, 6.6, 6.7, 6.8, 6.8, 6.9, 7.8, 7.9] 
```

这是一个[JSBin](http://jsbin.com/uxenex/1/edit)示例

# android - 如何从第二个活动中获取活动中edittext的价值？

> ID：14453608
> 
> 赞同：-5
> 
> 时间：2013-01-22T07:31:53.670
> 
> 标签：android, android-edittext

我必须先注册用户`Activity`，当用户点击密码`EditText`时，新`Activity`打开输入密码，重新输入并确认密码。当第二个`Activity`密码与两者匹配时`EditText`，匹配的值将在第一个`Activity` `EditText`密码中检索。请帮我怎么做，我的主要问题是如何从密码的第二个`Activity`中检索匹配的值。`EditText``Activity`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:43:42.543

您可以将密码的值传递给第二个活动，如下所示：

```
Intent i = new Intent(this, MatchPwdActivity.class);
i.putExtra("Password", pwd);
startActivity(i); 
```

然后你可以在 MatchPwdActivity.class 中获取它：

```
Intent i = getIntent();
String pwd = i.getStringExtra("Password"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:48:39.220

试试这个。

**使用下面的代码将值从第一个活动传递到第二个活动。**

```
Intent mInSecond = new Intent(FirstActivity.this, SecondActivity.class);
mInSecond.putExtra("Value", mEdttxtpassword.getText().toString());
startActivity(mInSecond); 
```

**使用以下代码获取价值**

```
Bundle bdl = getIntent().getExtras();
String mValue = bdl.getString("Value"); 
```

# php - 使用 PHP 4.3 将输出重定向到本地 USB 打印机

> ID：14453610
> 
> 赞同：1
> 
> 时间：2013-01-22T07:32:09.193
> 
> 标签：php, printing, usb

假设我有几台机器在 Windows XP 上运行古老版本的 PHP(4.3.5)。在这一点上，升级是不可能的。使这些机器将某些输出（即收据）直接重定向到本地 USB 打印机的最不干扰的方法是什么？

到目前为止，我最好的猜测是将输出写入本地文件，然后通过 exec() 将其发送到打印机。

PS：不要建议使用 php_printer，除非你能提供一个合适的 dll （对于 PHP 4.3，即）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T10:15:17.977

我认为让网页（我假设您没有使用 CLI PHP，因为当时支持太差）做太多 I/O 并不是很好。这就是守护进程的用途。

如果我是你，我会：

1.  使 PHP 页面写入要打印的文件。
2.  守护进程会监视目录并在必要时打印。

PHP 不是为系统编程而设计的。打印是一项长时间运行的任务，页面需要阻塞很长时间才能看到打印是否成功。这就是为什么我更喜欢异步方法的原因，它也让你有机会使用另一种语言，这似乎是一个完全理性的决定。

# caching - Youtube API - 后台播放？缓存？

> ID：14453612
> 
> 赞同：1
> 
> 时间：2013-01-22T07:32:13.483
> 
> 标签：caching, background, youtube-api, playback, multitasking

在桌面浏览器（Chrome、Safari、Firefox 等）上，您可以打开多个选项卡，并在每个选项卡上缓存一个 Youtube 视频。即使您不再有互联网，您也可以播放这些视频（因为它们已被缓存），并且您可以最小化浏览器以处理其他内容（因此您可以收听音频但不要同时打开视频）。

所以我的问题是：我可以为移动设备开发一个应用程序，它可以在后台播放 Youtube 视频（多任务），还可以缓存它们，然后离线播放？

我只想做浏览器在电脑上可以做的事情，但在 iPhone 上。*Youtube API Terms os Service 在这方面并不明确。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T09:06:11.290

服务条款在这里：[https ://developers.google.com/youtube/terms](https://developers.google.com/youtube/terms)

“为免生疑问，您的 API 客户端不得用于缓存 YouTube 视听内容。”

# javascript - 使用客户端脚本获取子属性值

> ID：14453617
> 
> 赞同：0
> 
> 时间：2013-01-22T07:32:36.387
> 
> 标签：javascript, jquery, xslt, xpath

我的 xml 文件：

```
<childrens>
        <child1 entity_id = "1" value = "Asia">
              <child2 entity_id = "2" value = "India"></child2> 
              <child3 enity_id = "3" value = "China"></child3>
        </child1> 
</childrens> 
```

这是我的代码：

```
<script>
     $(function() {
         $('#update-target a').click(function() {
             $.ajax({
                 type: "GET",
                 url: "try.xml",
                 dataType: "xml",
                 success: function(xml) {
                     $(xml).find('child1').each(function(){
                         var value_text = $(this).attr('value')
                         $('<li></li>')
                             .html(value_text)
                             .appendTo('#update-target ol');
                     }); //close each(
                 }
             }); //close $.ajax(
         }); //close click(
     }); //close $(
     </script>
   </head>
   <body>
     <p>
       <div id='update-target'>
         <a href="#">Click here to load value</a>
         <ol></ol>
       </div>
     </p> 
```

如果我点击亚洲而不是
使用任何客户端脚本语言显示印度和中国，我想输出。

# android - WiFi需要很长时间才能重新连接

> ID：14453618
> 
> 赞同：1
> 
> 时间：2013-01-22T07:32:36.823
> 
> 标签：android, wifi

我想在我的 Android 应用程序中实现更高的网络连接正常运行时间。当用户处于 WiFi 覆盖范围的边缘时，手机会失去连接。我的应用程序正确检测到这一点。

当用户再次进入覆盖范围时，有时需要很长时间（几分钟）才能重新建立与我的网络的连接。在 Android WiFi 管理器中，它有时会在切换到“已连接”之前长时间处于“已断开连接”（而不是“已关闭”）状态。该网络是标准的 WPA2 网络。

我尝试过这样的事情。每次连接丢失时，外部类都会执行一个 ConnectionExecuter。

```
private void saveConnectionInfo() {
    connectionInfo = wiFiManager.getConnectionInfo();
}

private class ConnectExecuter extends AsyncTask<Void, Void, Void> {

    @Override
    protected Void doInBackground(Void... params) {
        //Do not return before WiFi is enabled and connected
        while(!wiFiManager.isWifiEnabled() || !connected()) {
            try {
                logger.debug(TAG, "Enable");
                //Checks is WiFi is disabled, and turns it on in that case.
                WiFiEnablementManager.assureWiFiEnabled(wiFiManager);
                Thread.sleep(2500);
                //if WiFi is not connected then connect to the previous network
                logger.debug(TAG, wiFiManager.getConnectionInfo().toString());
                if(!connected()) {
                    logger.debug(TAG, "Reconnecting to network id: " + connectionInfo);
                    wiFiManager.enableNetwork(connectionInfo.getNetworkId(), true);
                    wiFiManager.reconnect();
                }
                Thread.sleep(3000);
            } catch (InterruptedException e) {
                logger.error(TAG, e);
            }
        }
        return null;
    }

    private boolean connected() {
        if (wiFiManager.getConnectionInfo() != null && connectionInfo != null) {
            return wiFiManager.getConnectionInfo().getNetworkId() == connectionInfo.getNetworkId();
        }

        return false;
    }
}

public class WiFiEnablementManager {
    public static final ILogger logger = new Logger(WiFiEnablementManager.class.getSimpleName());

    public static void assureWiFiEnabled(WifiManager wifiManager) {

        if(!wifiManager.isWifiEnabled()){
            logger.info("WiFi status disabled: Enabling...");
            wifiManager.setWifiEnabled(true);
        }
    }
} 
```

它似乎对 Android 2.2 有帮助，但不适用于 4.0。此外，睡眠语句（2500 毫秒和 3000 毫秒）可能并不合理。欢迎任何输入。

# python - 如何强制 wait() 完全等待 subprocess.Popen() 完成

> ID：14453622
> 
> 赞同：0
> 
> 时间：2013-01-22T07:32:53.267
> 
> 标签：python, subprocess, wait, popen

我正在尝试使用 subprocess.Popen(['cp', etc..]) 和 wait() 在 while 循环中传输和重命名一些文件。不幸的是，wait() 命令似乎没有正常工作，即没有等待文件完全复制到新目录。大多数情况下，文件复制得很好，但是，一小部分随机文件不会（每次运行脚本时文件都不相同），因此是零字节文件或不完整的文件。我也尝试过使用 subprocess.check_call() 但这也不起作用。当我打印 poll() 值时，它始终为零，这意味着该过程已经完成。请注意，我正在处理的所有文件都在 150KB 范围内。我的 python 脚本正在 pyraf 中运行，使用 python 2.7，iraf 的 python 版本（图像缩减和分析工具），因为我使用的是 iraf 例程。

```
while count <= ncross_correlate and skip_flag != 's':
   ...more stuff
   try:
      iraf.rv.fxcor (object_fits, template_fits, apertures="*", cursor="",
      continuum="both", filter="both", rebin="smallest", pixcorr="no", 
      osample=osample_reg, rsample=osample_reg, apodize=0.1, function="gaussian",
      width="INDEF", height=0., peak="no", minwidth=3., maxwidth=21., weights=1.,
      background=0., window=300., wincenter="INDEF", output=output_name, verbose="long",
      imupdate="no", graphics="stdgraph", interactive="no", autowrite="yes",
      autodraw="yes", ccftype="image", observatory="aao", continpars="", filtpars="", 
      keywpars="")

      # Create a eps file of the cross_correlation file.
      gki_output_name = output_name + '.gki'
      iraf.plot.sgikern (gki_output_name, device='eps', generic='no', debug='no',
      verbose='no', gkiunit='no') 
```

不幸的是，将 fxcor 中创建的 .gki 文件转换为 iraf 之外的某种可读格式的唯一方法是调用 iraf 任务 sgikern，它将一个 .eps 文件转储到我的 iraf/iraf/ 目录中，而不提供更改文件名的选项或目录放置。实际上文件名是随机生成的。很郁闷！！！另请注意，使用 iraf.plot.sgikern 创建的任何 eps 文件都没有问题（即没有 0 KB 文件开头）。复制和重命名是我遇到问题的地方。

```
 # Find the eps file in /iraf/iraf/, rename it, and move to proper output location.
      iraf_dir = '/iraf/iraf/'
      eps_file_list = glob.glob(iraf_dir + 'sgi' + '*.eps')

      ...more code 
```

此时我已尝试使用 check_call() 或 Popen()：

```
 subprocess.check_call(['cp', eps_file_list[0], ccf_output_dir + object_name_sub +
                            '.eps'], stdout=subprocess.PIPE)
      subprocess.check_call(['rm', eps_file_list[0]], stdout=subprocess.PIPE) 
```

或者

```
 process1 = subprocess.Popen(['cp', eps_file_list[0], ccf_output_dir +
                                  object_name_sub + '.eps'], stdout=subprocess.PIPE)
      process1.wait()
      process2 = subprocess.Popen(['rm', eps_file_list[0]], stdout=subprocess.PIPE)
      process2.wait()

      ...more stuff

   # end of try statement
#end of while statement 
```

我想如果我能以某种方式将两个 Popen 语句组合成一个 Popen 语句，并且还包括一个可能为 0.01 秒的 shell 睡眠时间，以强制其他两个进程在返回一个已完成的进程之前完成，那可能会解决它。也许是这样的，虽然我不确定确切的语法：

```
 process1 = subprocess.Popen(['cp', eps_file_list[0], ccf_output_dir +
            object_name_sub + '.eps']; ['rm', eps_file_list[0]]; ['sleep', 0.01],
            stdout=subprocess.PIPE)
 process1.wait() 
```

希望这能让您了解我正在尝试做的事情。我一直在尝试很多不同的事情，并一直在寻找解决这个问题的方法，但我真的被困住了。

干杯，布雷特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-05T01:18:36.110

这不是一个完整的解决方案，也不是一个令人满意的解决方案，但它是我想出的最好的解决方案，并且工作时间约为 99.9%（在我创建的 4000+ eps 中，5 个文件是 0 字节或不完整的）。这是对我做这件事的原始方式的改进，大约 95% 的时间是成功的。我已经粘贴了下面的代码：

```
 try:
        iraf.rv.fxcor (object_fits, template_fits, apertures="*", cursor="",
        continuum="both", filter="both", rebin="smallest", pixcorr="no", osample=osample_reg,
        rsample=osample_reg, apodize=0.1, function="gaussian", width="INDEF", height=0., peak="no",
        minwidth=3., maxwidth=21., weights=1., background=0., window=300.,
        wincenter="INDEF", output=output_name, verbose="long", imupdate="no",
        graphics="stdgraph", interactive="no", autowrite="yes", autodraw="yes",
        ccftype="image", observatory="aao", continpars="", filtpars="", keywpars="")

        # Create a eps file of the cross_correlation file.
        gki_output_name = output_name + '.gki'
        iraf.plot.sgikern (gki_output_name, device='eps', generic='no', debug='no',
        verbose='no', gkiunit='no')
        time.sleep(0.25) 
```

我在这里放了一个时间睡眠者，因为我发现在我的 iraf 目录中创建的一些 ps 文件在我的代码尝试将文件移动到另一个目录时还没有完全写入。

```
 # Find the eps file in /iraf/iraf/, rename it, move to proper output location, and delete the old eps file.
        iraf_dir = '/iraf/iraf/'
        eps_file_list = glob.glob(iraf_dir + 'sgi' + '*.eps')

        ...continuation of code

        if len(eps_file_list) == 1:
           eps_file_sub = os.path.basename(eps_file_list[0])

           cmd1 = 'cp {0} {1}'.format(eps_file_list[0], ccf_output_dir + object_name_sub + '.eps')
           cmd2 = 'rm {0}'.format(eps_file_list[0])
           cmd3 = 'sleep 0.05'
           process1 = subprocess.Popen("{}; {}; {}".format(cmd1, cmd2, cmd3), shell=True, stdout=subprocess.PIPE)
           process1.wait() 
```

使用 process1 我发送三个子进程 shell 命令。第一个是将 eps 文件从我的 /iraf 目录复制到另一个目录（首先创建它们的 iraf 函数不允许我为这些文件提供正确的名称或输出位置）。第二个是从我的 /iraf 目录中删除 eps 文件。第三个命令强制内核休眠。通过这样做，Python 在到达 sleep 命令之前不会收到完成的信号。我相信这部分工作得很好。唯一的问题是，当我到达此命令时，用于创建 eps 文件的 iraf 例程很少能以足够快的速度创建它们。

```
 #endif

        num_cross = num_cross + 1
     #Endtry
     ...more code 
```

这是一个非常笨拙的解决方案，一点也不满足，但它确实在 99.9% 的时间内有效。如果有人有更好的解决方案，请告诉我。这是一个非常令人沮丧的问题，我问过的每个人都无法提出更好的建议（包括在我的天文部门经常使用 python 编程的人）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:55:58.517

您是否考虑过使用[shutil.copyfile](http://docs.python.org/2/library/shutil.html "Python 2.7 关闭文档")进行复制并使用[os.remove](http://docs.python.org/2/library/os.html#os.remove "Python 2.7 操作系统文档")进行删除？

如果你真的想使用 Subprocess，我相信语法是这样的：

```
process1 = subprocess.Popen('cp ' + eps_file_list[0] + ' ' + ccf_output_dir +
        object_name_sub + '.eps; rm ' + eps_file_list[0] ' + '; sleep 0.01',
        stdout=subprocess.PIPE) 
```

这样，您调用的命令都在一个字符串中：`'cp whatever foo/bar.eps; rm whatever; sleep 0.01'`

您还可以使用三引号格式化字符串并将命令放在单独的行中：

```
'''
cp %s %s%s
rm %s
sleep %s
''' % (eps_file_list[0], ccf_output_dir, object_name_sub, eps_file_list[0], 0.01) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:51:13.727

也许以下就足够了：

```
subprocess.check_call(['mv', eps_file_list[0], ccf_output_dir + object_name_sub +
                        '.eps'], stdout=subprocess.PIPE) 
```

和

```
process1 = subprocess.Popen(['mv', eps_file_list[0], ccf_output_dir +
                              object_name_sub + '.eps'], stdout=subprocess.PIPE)
process1.wait() 
```

# php - 我想使用 jquery 或 javascript 将 html 中的文本字段动态添加到特定按钮

> ID：14453627
> 
> 赞同：-5
> 
> 时间：2013-01-22T07:33:05.463
> 
> 标签：php, javascript, jquery, html, ajax

这是我的代码

```
<div class="rButtons">
    <input type="radio" name="numbers" value="10" />10
    <input type="radio" name="numbers" value="20" />20
    <input type="radio" name="numbers" value="other" />other
</div> 
```

我想，当有人选择“其他”单选按钮时，他应该显示一个文本字段，他可以在其中输入值。此文本字段应位于其他字段的右侧。

此外，我希望该框仅限于 10 的倍数的值。

我是新手，所以请更新代码并返回给我。

我使用 jquery-1.4.2.js

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:45:29.263

在带有 jquery 的 javascript 中，你会这样做。并尝试先解决您的问题。

```
 var item = $('input[name=numbers]:checked').val();
    if(item == 'other'){
    //Show your textbox
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:55:50.640

html:

```
<div class="rButtons">
    <input type="radio" name="numbers" value="10" />10
    <input type="radio" name="numbers" value="20" />20
    <input type="radio"  name="numbers" value="other" /><span class="text-other">other</span>
    <input class="user-input" style="display: none"></input>
</div> 
```

查询：

```
$('input[type=radio]').click(function() {

    if ($(this).attr('value') == 'other') {
        $('.text-other').hide();
        $('.user-input').show();
    } else {
        $('.text-other').show();
        $('.user-input').hide();
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:12:11.773

我在 javascript 中向您展示。首先让你的html文件看起来像这样

```
<div class="rButtons">
  <input type="radio" name="numbers" value="10" onclick="uncheck();" />10
  <input type="radio" name="numbers" value="20"  onclick="uncheck();" />20
  <input type="radio" name="numbers" value="other" onclick="check(this);"/>other
  <input type="text" id="other_field" name="other_field" onblur="checktext(this);"/>
</div> 
```

在第二步中，编写此 css 代码以最初将文本字段设置为不可见。

```
<style type="text/css">
#other_field
{
    visibility: hidden;
}
</style> 
```

最后使用这个 javascript 代码来验证用户的行为

```
<script type="text/javascript">
    function uncheck()
     {
       document.getElementById('other_field').style.visibility = "hidden";
     }
    function check(inputField)
    {
        if(inputField.checked)
        {
            document.getElementById('other_field').style.visibility = "visible";
        }
    }
    function checktext(inputField)
    {
        if(isNaN(inputField.value))
        {
            alert('only numbers are allowed..');
            return false;
        }
        else if( (inputField.value % 10 ) != 0)
        {
            alert('only multiples of 10..');
            return false;
        }
        else
        {
            return true;
        }

    }
    </script> 
```

第一个函数检测用户是否单击了“其他”单选按钮并显示隐藏的文本字段。

第二个函数根据您的要求验证输入字段...

# javascript - 用 Backbone.js 替换图像

> ID：14453630
> 
> 赞同：0
> 
> 时间：2013-01-22T07:33:10.833
> 
> 标签：javascript, backbone.js

学习backbone.js的初始阶段（甚至是Js infact）。html页面有3张图片。我想在点击时替换第一张图片。我这样做是一个学习过程。请告诉我代码或我的逻辑有什么问题。

```
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
   <title>Hello World in Backbone.js</title>
</head>
<body>

  <!-- HTML CODE -->

        <div align="center">
            <img src="pic1.jpg" id = "pic1" />
            <img src="pic2.jpg" id = "pic2" />
            <img src="pic3.jpg" id = "pic3" />
        </div>

  <!-- Libraries -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone-localstorage.js/1.0/backbone.localStorage-min.js" type="text/javascript"></script>  

  <!-- Javascript code -->
  <script type="text/javascript">
        var AppView = Backbone.View.extend({
            el: 'body',
            initialize: function(){
                this.render();
            },

            events: function(){
                "click #pic1": "replacePic1"
            },

            render: function(){
                console.log('view rendered. try clicking pic1');
                //this.$el.html(this.template({who: 'world!'}));
            },

            replacePic1: function(){
                alert("You can replace Pic1");
            }
        });

        var appView = new AppView();

  </script>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:13:35.457

您可以改进很多，但只是为了让事情顺利进行，请尝试以下操作并删除您拥有的 onClick。

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Hello World in Backbone.js</title>
</head>
<body>

    <!-- HTML CODE -->
    <div align="center">
        <img src="pic1.jpg" id = "pic1"/>
        <img src="pic2.jpg" id = "pic2" />
        <img src="pic3.jpg" id = "pic3" />
    </div>

    <!-- Libraries -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone-localstorage.js/1.0/backbone.localStorage-min.js" type="text/javascript"></script>  

    <!-- Javascript code -->
    <script type="text/javascript">
        var AppView = Backbone.View.extend({
            el: 'body',
            initialize: function(){
                this.render();
            },

            events: {
                "click #pic1": "replacePic1"
            },

            render: function(){
                console.log('view rendered. try clicking pic1');
                //this.$el.html(this.template({who: 'world!'}));
            },

            replacePic1: function(){
                $("#pic1").attr('src',"new/url.jpg");
            }
        });

        var appView = new AppView();
    </script>

</body>
</html> 
```

显然，这不是你想做的事情，但可能值得一试。我发现的一个很棒的主干教程系列是[Wine Cellar Tutorial](http://coenraets.org/blog/2011/12/backbone-js-wine-cellar-tutorial-part-1-getting-started/)。跟随整个系列，你会学到很多东西。跟进“[经验教训](http://coenraets.org/blog/2012/01/backbone-js-lessons-learned-and-improved-sample-app/)”文章并享受 :)

# c# - 如何在 WPF 中实现 youtube 火花条，如控件

> ID：14453631
> 
> 赞同：0
> 
> 时间：2013-01-22T07:33:16.387
> 
> 标签：c#, wpf

Youtube 对投票有很好的控制，如下面的截图，

![Youtube 火花棒](../Images/e5b276d5399a5bc428a5ecf6fb8d89fa.png)

WPF中是否已经有类似的东西，或者如果我需要自己做，该怎么做？我是 WPF、XAML 和所有的新手，所以我有这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T09:17:00.463

我不熟悉已经存在类似的东西，在一些专有控件（例如 Telerik RadControls）中有 Sparkline 控件，但与 YouTube 投票完全不同。

**但是使用 XAML 创建自己的控件应该很容易。**

让我们看一下，控件存在于**3 个标签**、一个显示进度的行和两个图标中。若要将此元素放置在 WPF 用户控件中，可以使用具有**三行**和**两**列的网格。

```
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <Grid.ColumnDefinitions>
        <ColumnDefinition />
        <ColumnDefinition Width="Auto" />
    </Grid>
</Grid> 
```

**然后使用 XAML 属性Grid.Row**和**Grid.Column**将标签放置到第一行和最后一行。可以使用**StackPanel**放置最后一行中的图标，或者只是创建更多列，随心所欲。这里的一切都很容易。

问题是火花线，我建议您创建两个相互重叠的矩形。两者都应该进入第二行，并跨越所有列，您可以使用**Grid.ColumnSpan**属性来实现这一点。第一个矩形代表背景，所以为它选择一种浅色。第二个代表实际的投票计数器，应根据票数显示为红色或绿色。

为所有元素命名，然后您就完成了 XAML（除了较小的更正，例如**边距**和**水平**或**垂直**对齐方式）。

在代码中，为用户控件创建三个属性，均为**整数**(int) 类型。一个用于查看计数，两个用于赞成和反对票。这些属性可以绑定到 XAML 中的标签，也可以手动更新值。在此处阅读有关数据绑定的更多信息：[http ://wpftutorial.net/DataBindingOverview.html](http://wpftutorial.net/DataBindingOverview.html)

要正确放置显示投票计数器的矩形，您应该只根据属性计算赞成票的百分比，使用以下代码寻求帮助：

```
double percentage = UpvoteCount / (double)(UpvoteCount + DownvoteCount); 
```

请注意，我将总和加倍，以保持浮点数的百分比（或者你总是会得到一个零）。从这里开始，您需要做的就是将矩形的宽度重新缩放到适当的百分比，考虑到背景矩形跨越 100%。您可以使用以下代码执行此操作：

```
voteProgress.Width = percentage * voteBackground.ActualWidth; 
```

在这种情况下，voteProgress 和 voteBackground 是矩形的名称。Youtube 还使用不同的颜色，您可以根据计算的百分比进行更改：

```
if (percentage > 0.5)
   voteProgress.Fill = new SolidColorBrush(Colors.Green);
else
   voteProgress.Fill = new SolidColorBrush(Colors.Red); 
```

百分比必须在每次控件大小（或投票数）更改时计算，因此请查看**SizeChanged**事件。

**有关更多信息和详细信息，请阅读由 Christian Moser 提供的 WPF 教程。**

[http://wpftutorial.net](http://wpftutorial.net)

# cocoa - 制作一个 CoreImage 过滤器而不是对所有行像素求和，类似于 CIRowAverage？

> ID：14453633
> 
> 赞同：2
> 
> 时间：2013-01-22T07:33:32.950
> 
> 标签：cocoa, core-image, cifilter

我目前正在 CPU 上运行代码，该代码对**灰度**NSImage 的列和行求和（即只有 1 个 samplePerPixel）。我想我会尝试将代码移动到 GPU（如果可能的话）。我发现一个 CoreImage 过滤器[CIRowAverage](https://developer.apple.com/library/mac/documentation/graphicsimaging/Reference/CoreImageFilterReference/Reference/reference.html#//apple_ref/doc/filter/ci/CIRowAverage)和[CIColumnAverage](https://developer.apple.com/library/mac/documentation/graphicsimaging/Reference/CoreImageFilterReference/Reference/reference.html#//apple_ref/doc/filter/ci/CIColumnAverage)看起来很相似。

在 Apple Docs on writing [custom Core Image filters](http://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/CoreImaging/ci_custom_filters/ci_custom_filters.html)他们说，

> 请记住，您的代码无法逐个像素地积累知识。编写代码时的一个好策略是从实际内核中移动尽可能多的不变计算并将其放置在过滤器的 Objective-C 部分中。

这暗示可能无法使用过滤器内核对像素求和。如果是这样，上述函数如何获得一个区域的平均值？

所以我的问题是，实现对图像的行或列求和以获得像素总值的最佳方法是什么。我应该坚持CPU吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T18:24:02.987

Core Image 过滤器通过一系列缩减来执行此平均。该团队的一位前工程师在[此 GPU Gems 章节](http://http.developer.nvidia.com/GPUGems3/gpugems3_ch26.html)中描述了如何为 CIAreaAverage 过滤器完成此操作（在第 26.2.2 节“查找质心”下）。

[我在这里通过减少我的答案来](https://stackoverflow.com/questions/12168072/fragment-shader-average-luminosity/12169560#12169560)讨论类似的平均值。我在 iOS 上需要这个功能，所以我编写了一个片段着色器，它在水平和垂直维度上将图像缩小了 4 倍，在像素之间进行采样，以便在每一步将 16 个像素平均为一个。一旦图像被缩小到足够小的尺寸，剩余的像素就会被读出并平均以产生一个最终值。

这种减少在 GPU 上执行起来仍然非常快，而且我能够在 iPhone 4 上在约 6 毫秒内从 640x480 视频帧中提取平均颜色。当然你会有更多的马力来玩在 Mac 上。

您可以采取类似的方法，在每一步仅减少一个方向或另一个方向。如果您有兴趣获得像素值的总和，则需要注意 GPU 上使用的像素格式的精度限制。默认情况下，RGBA 颜色值存储为 8 位值，但某些 GPU 上的 OpenGL (ES) 扩展可以让您渲染为 16 位甚至 32 位浮点纹理，从而扩展您的动态范围。我不确定，但我相信 Core Image 可以让您在 Mac 上使用 32 位浮点组件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-23T23:25:42.323

仅供参考 CIAreaAverage 过滤器 - 它的编码如下：

```
 CGRect inputExtent = [self.inputImage extent];
CIVector *extent = [CIVector vectorWithX:inputExtent.origin.x
                                       Y:inputExtent.origin.y
                                       Z:inputExtent.size.width
                                       W:inputExtent.size.height];
CIImage* inputAverage = [CIFilter filterWithName:@"CIAreaAverage" keysAndValues:@"inputImage", self.inputImage, @"inputExtent", extent, nil].outputImage;

//CIImage* inputAverage = [self.inputImage imageByApplyingFilter:@"CIAreaMinimum" withInputParameters:@{@"inputImage" : inputImage, @"inputExtent" : extent}];
EAGLContext *myEAGLContext = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2];
NSDictionary *options = @{ kCIContextWorkingColorSpace : [NSNull null] };
CIContext *myContext = [CIContext contextWithEAGLContext:myEAGLContext options:options];

size_t rowBytes = 32 ; // ARGB has 4 components
uint8_t byteBuffer[rowBytes]; // Buffer to render into

[myContext render:inputAverage toBitmap:byteBuffer rowBytes:rowBytes bounds:[inputAverage extent] format:kCIFormatRGBA8 colorSpace:nil];

const uint8_t* pixel = &byteBuffer[0];
float red   = pixel[0] / 255.0;
float green = pixel[1] / 255.0;
float blue  = pixel[2] / 255.0;
NSLog(@"%f, %f, %f\n", red, green, blue); 
```

您的输出应如下所示：

```
2015-05-23 15:58:20.935 CIFunHouse[2400:489913] 0.752941, 0.858824, 0.890196
2015-05-23 15:58:20.981 CIFunHouse[2400:489913] 0.752941, 0.858824, 0.890196 
```

# ios - iCarousel 线性类型从中心开始

> ID：14453644
> 
> 赞同：10
> 
> 时间：2013-01-22T07:34:20.253
> 
> 标签：ios, xcode, icarousel

我希望 iCarousel 从左侧开始出现，即它应该左对齐。我发现在线性轮播的情况下，它从屏幕中心开始。

如何使线性旋转木马从左侧开始？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-25T10:17:21.717

`[self.vwCoverFlow scrollToItemAtIndex:2 animated:YES];`就我而言，在我的 viewDidLoad 中使用该方法帮助了我。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T08:15:30.420

如果您想要线性滚动，您可以使用 swipeView 类，它与 iCarousel 来自同一开发人员，但仅用于线性滚动。我用过它，它确实支持左对齐。它易于添加和使用，与 iCarousel 相同

这是代码的链接[https://github.com/nicklockwood/SwipeView](https://github.com/nicklockwood/SwipeView)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T12:12:43.913

将 wrap 属性设置为 YES 并将 placeholderinCarousel 的数量返回为 2

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-22T12:32:49.297

我遇到了同样的问题，并通过以下 hack 来解决；）

**问题：** 我需要只显示 3 个始终左对齐的项目的视图。

**解决方案：** 我所做的是始终至少制作 3 个项目。如果我有 0、1 或 2 个项目，我总是创建 3 个，但那些不需要显示的项目我将创建为空 UIView。我总是有 2 个占位符，但在某些情况下，一个或两个都是空的。

例如，如果我们要显示 2 个项目，我实际上创建了三个，但第三个是空的 UIView。我正在创建两个占位符和一个项目。

*   第一项是索引 0 处的第一个*占位符*
*   第二项是*项目*
*   第三项是第二个*占位符*，但 UIView 为空

如果我们要显示 1 个项目，我再次创建三个，但第二个和第三个是空的 UIView。与前面的示例相同，我正在创建两个占位符和一个项目。

*   第一项是索引 0 处的第一个*占位符*
*   第二项是*Item*但 UIView 为空
*   第三项是第二个*占位符*，但 UIView 为空

由于这种逻辑，我总是在重用时清理视图（[v removeFromSuperview]），以确保它是干净的，如果需要显示新视图，我正在添加它（[view addSubview ...）。*项目*和*占位符*的相同逻辑

 *如果您需要显示 3 个以上的项目，您可以使用相同的逻辑，但将值 3 更改为其他值。如果我错了更新我;）

这是我的代码的一部分，对我有用；）

```
- (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel
{
    return [[self getRecordings] count] > 3? [[self getRecordings] count] - 2: 1;
}

- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
    if (view == nil)
    {
        view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 50, 30)];
    }
    else
    {
        // If reusing remove content from holder view for fake items
        for (UIView *v in view.subviews)
        {
            [v removeFromSuperview];
        }
    }

    if ([[self getRecordings] count] >= 2)
    {
        [view addSubview:[(RecordingItemViewController*)[_recordingItemViewControllers objectAtIndex:index + 1] view]];
    }

    return view;
}

- (NSUInteger)numberOfPlaceholdersInCarousel:(iCarousel *)carousel
{
    return 2;
}

- (UIView *)carousel:(iCarousel *)carousel placeholderViewAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
    if (view == nil)
    {
        view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 50, 30)];
    }
    else
    {
    // If reusing remove content from holder view for fake items
        for (UIView *v in view.subviews)
        {
            [v removeFromSuperview];
        }
    }

    if (([[self getRecordings] count] > 0 && [[self getRecordings] count] < 3 && index == 0) || [[self getRecordings]count] >= 3)
    {
        [view addSubview:[(RecordingItemViewController*)(index == 0? [_recordingItemViewControllers objectAtIndex:0]: [_recordingItemViewControllers lastObject]) view]];
    }

    return view;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2015-09-14T19:38:59.977

这对我有用

```
 - (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel{

       [carousel scrollToItemAtIndex:photosArray.count/2 animated:YES];

        return [photosArray count];
       } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-18T10:26:59.540

在你的情况下，我想建议使用 2 占位符。

例如：您有 n 张照片，那么您将有 (n-2) 个项目和 2 个占位符。- 项目索引从 1 到 (n-2)。- 占位符的索引为 0 和 (n-1)。现在我们将有一些这样的代码：

```
#pragma mark iCarousel DataSource

- (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel
{
    //if we have n photos, then number of items is (n-2)
    int count = _movieGalleries.count;
    return count >= 3 ? count - 2 : count;
}

- (NSUInteger)numberOfPlaceholdersInCarousel:(iCarousel *)carousel
{
    //2 placeholder
    return _movieGalleries.count >= 3 ? 2 : 0;
}

#pragma mark iCarousel Delegate
- (UIView *)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view
{ 
   //reuse your view
   UIView *yourview = ...

    //get your data
    //index of item is 1 -> n-2, index of placeholder is 0 and n-1
    Item *item = [_listItems objectAtIndex:index + 1];

    //config your view
    ...
    return yourView;
}

- (UIView*)carousel:(iCarousel *)carousel placeholderViewAtIndex:(NSUInteger)index reusingView:(UIView *)view
{
    //index of placeholder is 0 and n-1
    //Trick: we use viewForItemAtIndex for getting placeholder view
    index = index == 0 ? - 1 : carousel.numberOfItems;
    return [self carousel:carousel viewForItemAtIndex:index reusingView:view];
}

- (void)carousel:(iCarousel *)carousel didSelectItemAtIndex:(NSInteger)index 
{

    //in carousel with placeholder, index of selected item is -1, 0, 1, ..., (n-2). which -1 and (n-2) is index of placeholders. So that we need to increase index by 1
    NSLog("current index: %i", index + 1);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-04-22T15:01:37.047

**斯威夫特 5：**

对我有用的解决方案：使轮播宽度为屏幕宽度的两倍，并将轮播限制在屏幕的 XAnchor 上，稍后添加`contentOffset`为轮播宽度的 0.5 x 大小。`containerView: UIView`在某些而不是直接在其中显示轮播也很重要。`viewController`这很有效，因为轮播的第一项以轮播的中心为中心。如果您将 carousel 设置为视图大小的两倍并将 设置`contentOffset`为左​​侧（- carousel 的 0.5 x 大小），则中心将位于视图的左侧。这是一些示例代码：

设置轮播大小：

```
carousel.leadingAnchor.constraint(equalTo: containerView.leadingAnchor).isActive = true
carousel.trailingAnchor.constraint(equalTo: containerView.trailingAnchor).isActive = true
carousel.translatesAutoresizingMaskIntoConstraints = false
carousel.heightAnchor.constraint(equalToConstant: 200).isActive = true
carousel.widthAnchor.constraint(equalTo: self.containerView.widthAnchor, multiplier: 2).isActive = true
carousel.centerXAnchor.constraint(equalTo: containerView.centerXAnchor).isActive = true
carousel.topAnchor.constraint(equalTo: containerView.topAnchor).isActive = true 
```

设置轮播内容偏移量：

```
carousel.contentOffset = CGSize(width: - containerView.frame.size.width, height: 0) 
```

设置 property `scrollToItemBoundry`，这样当您向右滚动时，您的轮播项目不会超出您的范围：

```
carousel.scrollToItemBoundary = true 
```

稍后您将您的添加`containerView`到您的`viewController.view`：

```
viewController.view.addSubView(containerView)
containerView.translatesAutoresizingMaskIntoConstraints = false
containerView.centerXAnchor.constraint(equalTo: viewController.view.centerXAnchor).isActive = true
containerView.centerYAnchor.constraint(equalTo: viewController.view.centerYAnchor).isActive = true 
```*

# java - 在 Netbeans 的 maven 项目中设置依赖项

> ID：14453650
> 
> 赞同：0
> 
> 时间：2013-01-22T07:34:39.507
> 
> 标签：java, jakarta-ee, maven, dependencies

我有一个基于 maven 的项目，我需要在我的 netbeans 中进行设置。几个小时后，我仍然无法弄清楚以下问题。

1.  tomcat 是由 Netbeans 安装的，但我仍然无法解析以下包的导入：

* * *

```
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext; 
```

* * *

```
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod; 
```

* * *

```
import org.json.JSONObject;
import org.json.JSONTokener; 
```

* * *

我正在努力理解的是所有这些包是否将由 Java EE 容器提供，或者我们必须使用我们的应用程序手动安装它们。根据我对 Java Web 应用的一点了解，我怀疑 tomcat 现在应该已经处理了这些依赖关系。然而，事实并非如此。

我希望有人能够澄清并同时提供一些使用 maven 和 spring 构建基于 Java 的 webapps 背后的直觉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:36:26.597

我不认为容器默认提供 Spring 依赖项，因此如果您的容器通过容器或在运行时环境中以某种方式提供一些库，则需要明确添加这些库，您需要将 maven 依赖项范围标记为[`provided`](http://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope)

# windows - 蒙哥默认配置

> ID：14453651
> 
> 赞同：5
> 
> 时间：2013-01-22T07:34:40.440
> 
> 标签：windows, mongodb

我有 Windows 8 开发人员计算机和用于 win32 的 mongodb。
Mongo`\data\db`默认使用 dbpath 存储数据。

我可以`dbpath`在配置文件中设置，但我必须添加`-f \path\to\config`或`mongo`命令`mongod`。

如何为`mongo`和设置默认配置文件`mongod`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:40:57.923

据我所知，配置文件没有默认位置。也不在linux上。打包的安装程序会创建一个启动脚本，该脚本使用该`-f`选项启动守护程序。

您可以在 windows 下创建一个服务来为您执行此操作，或者从 .bat 文件运行守护程序。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T07:38:40.460

为什么不想使用：

```
mongod --config /etc/mongodb.conf
mongod -f /etc/mongodb.conf 
```

`bat`您可以使用此参数编写文件。

# iis-7.5 - 如何保护托管在 IIS 7.5 上的面向公众的 WCF 服务？

> ID：14453654
> 
> 赞同：4
> 
> 时间：2013-01-22T07:34:53.760
> 
> 标签：iis-7.5, security, wcf-security

很长一段时间以来，我一直在编写 WCF 服务供内部使用（与 WinForms 和 MVC Web 应用程序一起）。但是，我现在需要将其中一项服务暴露给未洗过的人！

由于这是来自单一来源的公司，我提出以下建议：

**建筑学**

*   公司使用 VPN 通过 HTTPS/SSL 向我们的 DMZ 服务器发送请求
    *   DMZ 防火墙只允许特定的公司 IP
*   DMZ IIS 服务器将请求传递给我们的内部 IIS 服务器
    *   内部防火墙只允许 DMZ 服务器 INTERNAL FACING IP
*   内部 IIS WCF 服务使用请求并将响应发送回链。

但是，我的 IT 经理想要的远不止这些，还有更多……细节。

例如

*   使用或创建什么帐户，以及授予他们什么权限。
*   如何限制面向公众的 IIS 服务器免遭 DoS、黑客攻击等。
*   如何阻止面向公众的 IIS 服务器意外显示“安全”详细信息
    *   在服务器/IIS 内部关闭什么
    *   限制访问哪些文件，例如 trace.axd

我也能理解他的理由——如果一切顺利，那么他拿着罐子……这意味着最终我拿着罐子！从大型机和 IBM/Websphere 的背景来看，他所听到的只是 IIS 是如何“不安全”的。

我怀疑他*真正*听到的是“开发人员/管理员没有正确保护 IIS/WCF”......所以我想尝试“正确”地做到这一点！

*（有关信息，我正在浏览[Troy Hunt 的帖子](http://www.troyhunt.com/2012/07/lessons-in-website-security-anti.html)……但这里有很多内容！我尝试过 MSDN 的大量“儿童绘图纸”，发现很难从无尽的信息中提取我需要知道的内容“让这一段更长，听起来更重要，同时隐藏突出的事实”填充在那里！）*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-30T23:47:58.420

Windows Server 和 IIS 是安全的。但是，如果您打算将其用于信用卡交易或其他您不希望落入坏人之手的项目，那么您需要比开箱即用设置更进一步地保护服务器。

这是我最近使用 IIS 7.5（已修补到当前标准）敲定 Windows 2008 R2 服务器的指南。您不必全部使用它们，但它有助于在极其精细的级别上保护服务器。此外，下面的 IIS 链接适用于 7.0，但也适用于 7.5。

视窗服务器 2008 r2

[http://web.nvd.nist.gov/view/ncp/repository/checklistDetail?id=377](http://web.nvd.nist.gov/view/ncp/repository/checklistDetail?id=377)

IIS

[http://web.nvd.nist.gov/view/ncp/repository/checklistDetail?id=400](http://web.nvd.nist.gov/view/ncp/repository/checklistDetail?id=400)

您很快就会看到，这将需要一些时间来完成，但您可以展示需要做些什么来保护服务器和产品免受开箱即用设置的影响。您还可以起草一份文件交给您的老板，说明保护您的服务器所需的内容。

# sql - 为什么此查询针对不同的日期格式返回不同的结果？

> ID：14453658
> 
> 赞同：2
> 
> 时间：2013-01-22T07:35:05.310
> 
> 标签：sql, sql-server, date, casting

我有一个名为 book_data 的表，其中 batch_dt 作为 sql server 中 varchar 类型的列名。

当我通过查询

```
SELECT DISTINCT batch FROM book_data 
```

它给了我以下结果

```
 batch_dt
-------------
 2012-10-31
-------------
 2012-11-01
-------------
 2012-11-02
-------------
 2012-11-03
-------------
      .
      .
      . 
```

现在我正在做的是获取两个日期之间的记录总数。相当简单的查询。

```
SELECT COUNT(*) FROM book_data WHERE CONVERT(varchar(12),CONVERT(datetime,batch_dt),101) BETWEEN '11/02/2012' and '10/31/2012' 
```

结果是 **112**

只需将月份从**02**更改为**2**，查询就会给我**218**个结果

```
SELECT COUNT(*) FROM book_data WHERE CONVERT(varchar(12),CONVERT(datetime,batch_dt),101) BETWEEN '11/2/2012' and '10/31/2012' 
```

为什么会有这种不同的行为？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:43:34.123

改为使用`CAST(batch_dt AS DATE)`，并以中性语言的方式传递日期，格式为`YYYYMMDD`. 这样，它将被视为日期而不是`varchar`：

```
SELECT COUNT(*) 
FROM book_data 
WHERE CAST(batch_dt AS DATE)
BETWEEN '20121102' and '20121130' 
```

但是，这是不安全的，如果有任何`barch_dt`格式错误的值，你会得到一个转换错误。在这种情况下，您可以添加`ISDATE(batch_dt) = 1`以确保它是有效的数据时间。但是最好把这列设为 datatype `DateTime`。

**另一件需要注意的事情：**在 SQL Server 中`BETWEEN`是*不对称*的，这意味着它`BETWEEN '11/02/2012' and '10/31/2012'`被评估为：

```
DATE >= '11/02/2012' 
AND
DATE <= '10/31/2012' 
```

这永远不会是真的，它对你有用的原因是日期被比较为字符串而不是日期。但你必须保持它喜欢`BETWEEN the small value and the biggest value`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:53:22.810

您将 string 与`BETWEEN`. 如果这样做，您需要确保以正确的顺序进行比较 => YYYYMMDD MM:SS 将是正确的顺序。

如果可以，请添加具有类型的列`datetime`并将实际日期时间值存储在数据库中。如果你不能这样做，你可以拆分这些值并自己建立一个日期值。这比仅使用 a 慢得多`CONVERT()`，`CAST()`但您可以确保它即使使用错误的日期字符串也能正常工作。

您可以使用`PATINDEX(),LEFT(),RIGHT()`关键字来获取所需的值，也可以使用 split() 函数（您可以在 google 上找到许多版本，例如[https://codereview.stackexchange.com/questions/15125/sql-server-split-function-优化](https://codereview.stackexchange.com/questions/15125/sql-server-split-function-optimized)）。如果您使用拆分功能，则拆分，`/`然后从职位中获取年、月、日。

但最好还是将正确的日期时间值存储在您的数据库中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:41:57.697

```
SELECT COUNT(*) 
FROM book_data 
WHERE CONVERT(DATETIME,batch_dt,101) BETWEEN '11/2/2012' and '10/31/2012' 
```

这样会更合适

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T07:55:06.167

您会得到这种不同的行为，因为您不比较日期而是比较字符串/varchars。

对于 a `Date`(或`DateTime`)，`10/2/2012`与 相同`10/02/2012`。

但是对于`string`，这些值（当然）是不同的。就好像你会`'abcd'`比较`'ab0cd'`

# algorithm - 如何在层次结构中定位数据项位置？

> ID：14453659
> 
> 赞同：5
> 
> 时间：2013-01-22T07:35:06.977
> 
> 标签：algorithm

我需要开发一种可以在某些层次结构中定位数据项位置的算法。我有对某些数据集的元素进行分类的层次结构。层次结构是分类的 - 顶级元素是最通用的类​​，它匹配数据集的任何元素，更深的元素包含与数据集的某些子集匹配的更具体的类。

例如，考虑游艇的层次结构。我们有一流的*游艇*在顶部。在下一个级别，我们有*帆船*和*机动游艇*。*帆船*有两个孩子——*巡航游艇*和*赛艇*。巡洋舰可以按制造商进一步划分，例如*Bavaria Yachts*和*Dufour Yachts*。然后每个类别可以根据船体类型、长度、帆面积等进一步划分。

这是数据集中的一个示例：

```
Drive   Class   Manufacturer   Hull type Len  Sails Area ... Model
Sailing Cruiser Bavaria Yachts Mono-hull 25ft 560sqft    ... Bavaria 32
Sailing Cruiser Dufour Yachts  Mono-hull 27ft 580sqft    ... Dufour 32 Classic 
```

我可以通过按深度优先顺序搜索每个样本轻松地将其映射到层次结构。

乍一看这是一个简单的搜索问题，但有一些困难。

第一个困难：数据项不一定包含所有元素。数据项缺少 10% 到 50% 的元素是很常见的。其中许多元素不是很重要，例如游艇*Drive*只能是*Motor*或*Sail*，因此它不会带来很多信息（只有 1 位）。这些元素可以使用更重要的元素轻松推断，例如，如果我们知道游艇*模型*，我们可以推断数据项的所有其他元素（或字段）。

第二个困难：一些元素在不同的数据项之间可能会有所不同，即使它们对应于层次结构中的相同位置（相同的游艇模型）。例如，*帆面积*可能会有很大差异，因为船主以不同的方式修改他们的游艇装备或只是四舍五入面积值。

正如我已经提到的，我需要从层次结构中的数据集中找到不同的数据项。每个数据项可以以不同的精度定位。精度是搜索过程停止的层次结构的深度。换句话说，我需要在层次结构中获取与每个数据项对应的路径，并且该路径可能不完整。例如，算法可以发现数据项对应于*Juliet 23*游艇，但生产年份仍可能未知。

如果我能得到多条路径，每个路径都有概率度量，那就太酷了。例如，算法可以为*Juliet 23*返回不同生产年份的 4 条路径，每条路径的概率为 25%。

目前，我使用深度优先搜索和一些启发式方法解决了这个问题。它给出了很好的结果，但我认为有可能获得更好的结果。也许你可以用更通用的方式来表述这个问题，这样我就可以搜索一些关于它的学术论文。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T15:51:09.867

我觉得**SQL**真的可以帮你解决困难，

**对于您的第一个困难：使用 NVL(field, value-if-null)**

*示例：赛艇的打印类型和生产年份（如果存在）*

```
SELECT Y.TYPE, NVL(Y.PRDYEAR, 'UNKNOWN')
FROM T_YACHT Y WHERE Y.CLASS = 'RACING' 
```

*示例：获取生产年份超过 2000 年的所有游艇*

```
SELECT * FROM T_YACHT Y WHERE
NVL(Y.PRDYEAR,TO_TIMESTAMP('01-01-0001','DD-MM-YYYY'))
    > TO_TIMESTAMP('01-01-2000','DD-MM-YYYY') 
```

**对于您的第二个困难：使用 GROUP BY\CASCADING-SQL\DISTINCT\NVL**

*例子：看看有多少种赛艇*

```
SELECT Y.TYPE, COUNT(Y.ID) AS YACHT_TYPE
FROM T_YACHT Y
WHERE Y.CLASS = 'RACING'
GROUP BY Y.TYPE 
```

# php - 使用 PHP/MySQL 的 Web 方法

> ID：14453660
> 
> 赞同：-2
> 
> 时间：2013-01-22T07:35:17.033
> 
> 标签：php, webmethods

我是 WebMethods 的新手。我对通过开始自学并稍后转向其他模式来学习 Webmethods 很感兴趣。要快速启动，我需要一个可以回答“什么是 Webmethods？”的指针。“哪里有用？” “它是由什么组成的？” . 我有PHP开发经验。我也尝试用谷歌搜索它，但我在维基百科旁边看到的是 www.wmusers.com。如果有人可以指导我学习 Webmethods，我真的很感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:58:13.270

[您可以在http://documentation.softwareag.com/](http://documentation.softwareag.com/)阅读 Software AG 的文档。

除此之外，我认为最简单的学习方法是开始使用它。

# php - 使用 PHP 转义字符串防止 Mysql 注入（有什么好的方法吗？

> ID：14453662
> 
> 赞同：1
> 
> 时间：2013-01-22T07:35:31.797
> 
> 标签：php, mysql, sql-injection

> **可能重复：**
> [如何防止 PHP 中的 SQL 注入？](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)

我想问一些关于防止 sql 注入的问题。从我一直在阅读的内容中，我不断遇到以下三件事：

*   带斜杠
*   与magic_quotes_gpc一起使用
*   mysql_real_escape_string （或我想在较新的 php 中的 mysqli？）

问题是，我应该同时使用这两种方法还是 real_escape_string 就足够了？

例如，我有这行与注册页面有关的代码（我知道事实上它很容易受到攻击，因为 sqli 助手让我可以找到关于我的数据库的所有内容：（因为我还没有实现上述任何内容）：

```
 if(isset($_POST['submit'])){
    //cleanup the variables
    $username = ($_POST['username']);
    $password = ($_POST['password']);
    $email = ($_POST['email']);
    $username = sanitise($username);
    $password = sanitise($password);
    $email = sanitise($email);
    //quick/simple validation
    if(empty($username)){ $action['result'] = 'error'; array_push($text,'Please type in a username'); }
    if(empty($password)){ $action['result'] = 'error'; array_push($text,'Please type in a password'); }
if($action['result'] != 'error'){
        $password = md5($password); 
        //add to the database
        $add = mysql_query("INSERT INTO Users VALUES(NULL,'$username','$password','$email',0, 'First', 'Last', 'Phone Number Here', '...', 'Something about me...')");
        if($add){
            //get the new user id
            $userid = mysql_insert_id();    
            //create a random key
            $key = $username . $email . date('mY');
            $key = md5($key);
            //add confirm row
            $confirm = mysql_query("INSERT INTO Confirm VALUES(NULL,'$userid','$key','$email')");   
            if($confirm){
                //include the swift class
                include_once 'swift/swift_required.php';
                //put info into an array to send to the function
                $info = array(
                    'username' => $username,
                    'email' => $email,
                    'key' => $key);
                //send the email
                if(send_email($info)){
                    //email sent
                    $action['result'] = 'success';
                    array_push($text,'Thanks for signing up. Please check your e-mail for confirmation.');
                }else{
                    $action['result'] = 'error';
                    array_push($text,'Could not send confirmation e-mail');
                }
            }else{
                $action['result'] = 'error';
                array_push($text,'Confirm row was not added to the database. Reason: ' . mysql_error());
            }
        }else{
            $action['result'] = 'error';
            array_push($text,'User could not be added to the database. Reason: ' . mysql_error());
        }
    }
    $action['text'] = $text;
}
?> 
```

我认为我的消毒功能会有所帮助 - 把它放到网上，但它看起来有点没用。或者它可能只有助于防止跨站点脚本。这里是：

```
 function cleanInput($input) {
        $search = array(
            '@<script[^>]*?>
.*?</script>@si',   // Strip out javascript
    '@<[\/\!]*?[^<>]*?>@si',            // Strip out HTML tags
    '@<style[^>]*?>.*?
    </style>
@siU',    // Strip style tags properly
    '@<![\s\S]*?--[ \t\n\r]*>@'         // Strip multi-line comments
    );
    $output = preg_replace($search, '', $input);
    return $output;
    }
function sanitise($input) {
    if (is_array($input)) {
    foreach($input as $var=>$val) {
    $output[$var] = sanitise($val);
    }
    }
    else {
    if (get_magic_quotes_gpc()) {
    $input = stripslashes($input);
    }
    $input  = cleanInput($input);
    $output = $input;
    }
    return $output;
} 
```

你会建议这个功能没用吗？

如果是这样，我将如何保护原始代码？即：

```
 $username = ($_POST['username']);
    $password = ($_POST['password']);
    $email = ($_POST['email']); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:43:34.103

使用准备好的语句、PDO 或 mysqli 我个人更喜欢 PDO，但两者都能胜任。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T07:47:02.340

无论您做什么，请[在此处阅读有关注射的信息](http://bobby-tables.com/)。正如您在此站点上看到的，准备好的语句是要走的路，最好使用 PDO：

```
$stmt = $pdo->prepare('SELECT foo from db.bar WHERE foobar = :something;');
$stmt->execute(array(':something' => $_POST['something'])); 
```

无需依赖*已弃用*的功能，例如魔术引号，或者实际上`mysql_*`扩展中的任何内容；因为后者已被完全弃用，最终将一起从语言中删除（希望不久之后）。

如果您（或其他人）想知道为什么我认为 PDO 是首选：

*   它支持多个驱动程序（MySQL，MSSQL，PostrgreSQL，...）[完整列表在这里](http://php.net/manual/en/pdo.drivers.php)
*   它的 OO API 更加与时俱进，同时`mysqli_*`也提供了过程 API。这被一些人认为是一个加分项，主要是那些不熟悉 OOP 的人，但你迟早要学习。
*   就我个人而言，我的印象是 PDO 被更广泛地使用，并且由于 PHP 是一个开源产品，所以社区使用什么才是最重要的：它会被支持更长的时间，它会被更好地测试（和更多的人），如果你被困住了，还有更多的同行支持。
*   PDO emulates prepares, you can turn this off but that'll slow you down. Also, when emulating, PDO takes a closer look at the placeholders you're using. If, for example some wacky driver doesn't support named placeholders, you can still use them, but PDO will replace them with `?`, or as the man pages put it *"something more appropriate"*. All in all, PDO is quite clever :)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:39:32.207

您列出的所有功能都没有连接到 SQL 注入 :)

*   stripslashes 只是为了从魔术引号中恢复
*   魔术引号是一个错误功能，已从语言中删除
*   mysql_real_escape_string （你使用它的方式） - 只是魔术引号的手动副本

事实上，转义（通过魔术引号和 real_escape 完成）只是正确构建查询所需的真实格式的一小部分。一个人必须遵守一整套规则，而不仅仅是一个人“逃避一切，你就没事”。

尽管如此，逃跑本质上并没有错，只要它被用于它的位置，而不是作为保护你免受注射的魔杖。例如，PDO 一直在内部使用它。

请注意，“使用准备好的语句”也不是魔术棒，而是与“逃避一切”相同的口头禅——不够且不安全。

[我之前发布的一些解释](https://stackoverflow.com/a/2995163/285587)

> 你会建议这个功能没用吗？

我建议这个功能非常有害

[类似问题的一些解释](https://stackoverflow.com/questions/4223980/the-ultimate-clean-secure-function)

> 有什么真正好的方法吗？

始终使用*占位符*向查询添加动态部分。它是安全的，使用起来非常方便。请注意，prepared statements 不是使用占位符的唯一方法，显然也不是最可靠的方法。

另外，请记住，在应用程序代码中使用原始 API 调用，无论是 PDO、mysqli 还是 mysql，都同样糟糕。必须使用抽象库来处理他们的 SQL，而不是原始 API 函数。

另外，请记住，大多数传播 PDO 的人从未将它用于真正的项目，或者至少其中一些是“好处”。他们实际上只是重复他们刚刚从其他人那里听到的相同文本；）

*   话说，“多数据库支持”不是经常使用的东西，当然也不是仅仅改变DSN字符串那么简单。切换数据库是一项相当繁琐的任务，不同的API函数问题最小。
*   或者说“关闭仿真会让你慢下来”的人从来没有真正尝试过:)
*   或者，请说“PDO 非常聪明”的人创建一个简单的查询，其中包含从数组填充的 IN 子句；）

# ftp - 如何轻松获取有关每个命令的 FTP 响应信息，而不是阅读完整的 RFC 959？

> ID：14453666
> 
> 赞同：0
> 
> 时间：2013-01-22T07:35:53.393
> 
> 标签：ftp

我正在尝试编写一个完全标准的 FTP 服务器。

我的服务器收到“SYST”命令。我尝试发送响应消息“远程系统是 Mac OS X。\r\n”。但 FTP 客户端不起作用。FTP 客户端是 Macintosh HD 中的 /usr/bin/ftp。

更糟糕的是，RFC 959 中没有关于每个命令的响应信息？因为我使用英语作为第二语言，所以很难阅读 RFC 959。

有人可以给我一些回复信息的链接吗？

这是相关的图像。 [https://docs.google.com/document/d/15ktF514CH4E00-Ab0QwPAaXRk6G4eIbDcsRJuhOyAuE/edit](https://docs.google.com/document/d/15ktF514CH4E00-Ab0QwPAaXRk6G4eIbDcsRJuhOyAuE/edit)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T19:25:40.693

RFC 959 指定了您需要知道的所有内容，可能您误读了描述，或者在回复的开头没有发送结果代码。在第 49 页上有一个命令列表和可能的回复代码。

# jquery - 从字符串数组中删除一个空字符串 - JQuery

> ID：14453670
> 
> 赞同：39
> 
> 时间：2013-01-22T07:36:05.810
> 
> 标签：jquery, arrays

我有一个数组`["Lorem", "", "ipsum"]`。我想从此数组中删除空字符串并获取`["Lorem", "ipsum"]`.

有没有办法在不使用循环并遍历每个元素并删除它的情况下做到这一点？

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2013-01-22T07:38:22.317

您可以使用[`filter`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)：

```
var newArray = oldArray.filter(function(v){return v!==''}); 
```

[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/filter)有一个解决 IE8 兼容性的方法。如果您不打算`filter`在其他任何地方使用，您也可以使用一个好的旧循环，循环没有问题......

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2014-01-30T15:55:32.943

如果您使用 Javascript 1.6（可能无法在 IE8 或更低版本上运行），您可以使用

```
arr.filter(Boolean) //filters all non-true values 
```

例如。

```
console.log([0, 1, false, "", undefined, null, "Lorem"].filter(Boolean));
// [1, "Lorem"]
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-01-22T07:44:47.363

另一种选择是使用 jquery 的[.map()](http://api.jquery.com/jQuery.map/)函数：

```
var newArray = $.map( oldArray, function(v){
  return v === "" ? null : v;
}); 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-01-22T07:41:57.227

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

function cleanArray(actual)
{
    var newArray = new Array();
    for(var i = 0; i<actual.length; i++)
    {
        if (actual[i])
        {
            newArray.push(actual[i]);
        }
    }
    return newArray;
}

$(function()
{
    var old = ["Lorem", "", "ipsum"];

    var newArr = cleanArray(old);

    console.log(newArr)
});
</script>
```

**无循环**

```
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript">

$(function()
{
    var arr = ["Lorem", "", "ipsum"];

    arr = $.grep(arr,function(n){
        return(n);
    });

    console.log(arr)
});
</script>
```

两者都经过测试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-28T14:12:48.703

var arr = [ a, b, c, , e, f, , g, h ];

arr = jQuery.grep(arr, function(n){ return (n); });

arr 现在是 [a, b, c, d, e, f, g]；

# jquery - 元素相对于浏览器的 X 和 Y 位置（注意：涉及框架）

> ID：14453671
> 
> 赞同：2
> 
> 时间：2013-01-22T07:36:09.450
> 
> 标签：jquery, frames

我正在尝试获取元素相对于浏览器窗口的 X 和 Y 坐标。

我正在研究的系统由各种框架组成。作为一项规则，我通常远离框架，但我目前正在开发一款大量使用框架的软件。

我正在构建一个弹出引擎，该引擎需要将弹出窗口恰好放置在特定元素旁边。这个元素可以在任何时候出现在任何一个帧中的任何位置。

因此，我需要确定一个元素相对于浏览器窗口的 X 和 Y 坐标，这样我就可以将弹出窗口放在它旁边。

我已经尝试过 position()、offset() 甚至 getBoundingClientRect()，但到目前为止都没有运气。

有没有人试过这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T11:38:07.290

假设您的页面的构造类似于以下内容：

*   根窗口（即浏览器窗口，#ID=ROOT）
    *   框架（框架集或 iframe，#ID=1）
    *   框架（框架集或 iframe，#ID=2）

据我了解，您想在 ROOT 上渲染弹出窗口（也许是工具提示？），但要根据 1 或 2 中的相关元素定位它们。这带来了挑战，因为在 ROOT 上进行的任何定位显然都与 ROOT 的定位有关而不是子帧。遵循的指导方针可能类似于以下内容：

1.  获取元素（#ID=ELEM）相对于它的包含窗口的绝对位置。
2.  获取对 ROOT 的引用并在 ROOT 的上下文中执行您的弹出定位。
3.  现在您在 ROOT 的上下文中并且拥有 ELEM 的绝对位置，修改位置以在 ROOT 的上下文中包含 ELEM 包含框架的绝对位置，并在该新位置呈现您的弹出窗口。

一些使用 jQuery 的代码指南：

```
// executing within the context of 1.2:
// get the element to which the popup relates
var ELEM = $("#ELEM");
// get the root window, i.e. ROOT
var ROOT = (function () {
    var r = window;
    while ($("#SOME-UNIQUE-ELEMENT-ON-ROOT", r).length == 0) {
        r = r.parent;
    }
    return r;
})();
// get ELEM's current absolute position in relation to 1.2
var top = ELEM.position().top;
var left = ELEM.position().left;
// get the current document's containing element in relation to ROOT
var C = $((document.parentWindow || document.defaultView).frameElement.parentNode);
// modify ELEM's position to compensate for the absolute position of C on ROOT
top += C.position().top;
left += C.position.left; 
```

现在您有了在 ROOT 上渲染弹出窗口的新绝对位置，使用新的“顶部”和“左侧”坐标调用您的渲染引擎。

希望这有任何意义......

# android - Android - 终结器抛出未捕获的异常

> ID：14453672
> 
> 赞同：5
> 
> 时间：2013-01-22T07:36:15.147
> 
> 标签：android, apache-httpclient-4.x, fileoutputstream

我有这段代码接受服务器响应并将其写入文件。

该文件包含 json 数据。我将响应写入文件以便按顺序扫描 json 并避免在列表中加载大的 json 数据！

我认为这种方法会引发异常，但我不确定！

```
public File getData(final String url) throws URISyntaxException, AuthenticationException, IOException, ClientProtocolException, HttpResponseException {
    final HttpGet getRequest = new HttpGet(new URI(url));

    final UsernamePasswordCredentials creds = new UsernamePasswordCredentials(username, password);
    getRequest.addHeader(new BasicScheme().authenticate(creds, getRequest));
    getRequest.setHeader("Content-Type", "application/json");
    final ResponseHandler<byte[]> responseHandler = new ByteArrayResponseHandler();
    final byte[] responseBody = mClient.execute(getRequest, responseHandler);

    final File output = new File(FileConfig.TEMP_PATH + System.currentTimeMillis()+".json");
    final FileOutputStream fos = new FileOutputStream(output.getPath()); 

    fos.write(responseBody);
    fos.close();
    return output;
} 
```

但我注意到最近（我不知道为什么）我得到了这个异常：

```
01-22 07:45:51.809: E/System(9055): Uncaught exception thrown by finalizer
01-22 07:45:51.833: E/System(9055): java.io.IOException: close failed: EIO (I/O error)
01-22 07:45:51.833: E/System(9055):     at libcore.io.IoUtils.close(IoUtils.java:41)
01-22 07:45:51.833: E/System(9055):     at java.io.FileInputStream.close(FileInputStream.java:121)
01-22 07:45:51.833: E/System(9055):     at java.io.FileInputStream.finalize(FileInputStream.java:142)
01-22 07:45:51.833: E/System(9055):     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:185)
01-22 07:45:51.833: E/System(9055):     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:168)
01-22 07:45:51.833: E/System(9055):     at java.lang.Thread.run(Thread.java:856)
01-22 07:45:51.833: E/System(9055): Caused by: libcore.io.ErrnoException: close failed: EIO (I/O error)
01-22 07:45:51.833: E/System(9055):     at libcore.io.Posix.close(Native Method)
01-22 07:45:51.833: E/System(9055):     at libcore.io.BlockGuardOs.close(BlockGuardOs.java:75)
01-22 07:45:51.833: E/System(9055):     at libcore.io.IoUtils.close(IoUtils.java:38)
01-22 07:45:51.833: E/System(9055):     ... 5 more
01-22 07:45:51.833: E/System(9055): Uncaught exception thrown by finalizer
01-22 07:45:51.841: E/System(9055): java.io.IOException: close failed: EIO (I/O error)
01-22 07:45:51.841: E/System(9055):     at libcore.io.IoUtils.close(IoUtils.java:41)
01-22 07:45:51.841: E/System(9055):     at java.io.FileInputStream.close(FileInputStream.java:121)
01-22 07:45:51.841: E/System(9055):     at java.io.FileInputStream.finalize(FileInputStream.java:142)
01-22 07:45:51.841: E/System(9055):     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:185)
01-22 07:45:51.841: E/System(9055):     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:168)
01-22 07:45:51.841: E/System(9055):     at java.lang.Thread.run(Thread.java:856)
01-22 07:45:51.841: E/System(9055): Caused by: libcore.io.ErrnoException: close failed: EIO (I/O error)
01-22 07:45:51.841: E/System(9055):     at libcore.io.Posix.close(Native Method)
01-22 07:45:51.841: E/System(9055):     at libcore.io.BlockGuardOs.close(BlockGuardOs.java:75)
01-22 07:45:51.841: E/System(9055):     at libcore.io.IoUtils.close(IoUtils.java:38)
01-22 07:45:51.841: E/System(9055):     ... 5 more 
```

一切似乎都有效，但我对这个例外感到困惑。

targetSdk ok 我的应用程序是 13。

感谢您的任何评论/回复！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:49:00.053

像这样更新你的代码。

```
 public File getData(final String url) throws URISyntaxException, AuthenticationException, IOException, ClientProtocolException, HttpResponseException {
    FileOutputStream fos = null;
    File output = null;

    final HttpGet getRequest = new HttpGet(new URI(url));

    final UsernamePasswordCredentials creds = new UsernamePasswordCredentials(
            username, password);
    getRequest.addHeader(new BasicScheme().authenticate(creds, getRequest));
    getRequest.setHeader("Content-Type", "application/json");
    final ResponseHandler<byte[]> responseHandler = new ByteArrayResponseHandler();
    final byte[] responseBody = mClient
            .execute(getRequest, responseHandler);

    try {
        output = new File(FileConfig.TEMP_PATH + System.currentTimeMillis()
                + ".json");
        fos = new FileOutputStream(output.getPath());

        fos.write(responseBody);

        fos.flush();
        fos.close();

    } catch (FileNotFoundException e) {

    } catch (IOException e) {

    } catch (Exception e) {

    } finally {
        if (fos != null) {
            fos = null;
        }
    }
    return output;
 } 
```

因为当您尝试 fos.wrire() 或 fos.close() 它可能通过 IOException 并且当您调用 new FileOutputStream(output.getPath()); 它可能通过 FileNotFoundException。

# android - 可以转换为分贝的形式的音频输出电平

> ID：14453674
> 
> 赞同：3
> 
> 时间：2013-01-22T07:36:22.463
> 
> 标签：android, audio, volume

当手机在耳机上发出噪音时，我需要找到一种方法来获取当前的音频输出音量，这个值将被转换为分贝级别。除了看似任意的音量设置级别之外，android API 似乎没有任何方法可以访问恒定的音量级别，但我没有看到将其转换为标准分贝级别或“响度”测量的方法。我已经看到了一些为此使用麦克风的方法，但这不适用于耳机。

有谁知道一种方法来测量最大可能的分贝（或某些标准）输出水平以进行比较，或者可能发送到耳机的电压？

欢迎帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T09:22:31.397

请注意，“分贝”一词有[许多不同的含义](http://en.wikipedia.org/wiki/Decibel)。它是一种相对于参考点表示某些量（例如强度/功率/响度）的方法。对于设备内部或音频应用中的音频信号，峰值电平为 0dB。当声音从扬声器发出时，感知响度被测量为[声压级](http://en.wikipedia.org/wiki/Sound_pressure)，通常描述为“dB (SPL)”（或加权变体，例如 dBA）。当您看到数值表（例如 100dB 的摇滚音乐会）时，这就是所描述的 SPL。这种测量本身是相对于参考水平的。

因此，API 中可用的是音频数据缓冲区，您可以从中轻松获取原始信号（最大为 0dB）的音频电平。但是，您不能轻松地将其转换为物理响度，因为这将取决于硬件。一种型号的手机和另一种型号的手机会有所不同，并且也取决于耳机。这样做的唯一方法是通过使用 SPL 计测量来校准手机，但这会给你一个结果，该结果只会在这个特定的手机上给出合理的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-31T03:49:03.997

我这样做是这样的：

```
SLmillibel gain_to_attenuation(float volume)
{
    SLmillibel volume_mb;
    if(volume>=1.0f) volume_mb=SL_MILLIBEL_MAX;
    else if(volume<=0.02f) volume_mb=SL_MILLIBEL_MIN;
    else
    {
        volume_mb=M_LN2/log(1.0f/(1.0f-volume))*-1000.0f;
        if(volume_mb>0) volume_mb=SL_MILLIBEL_MIN;
    }
    return volume_mb;
} 
```

# django - 模型对象不可迭代

> ID：14453676
> 
> 赞同：0
> 
> 时间：2013-01-22T07:36:28.753
> 
> 标签：django

模板.html

```
{% extends "base.html" %}

<body>
{% block content %}

<form action="." method="post">
{% csrf_token %}

<table align="center" style="margin-left:60px";>

        <p>{{KEBReading_form.as_table}}</p>
<tr><td colspan="2" align="right"><input name="KEBsubmit" type="submit" value="Submit Reading" id="_KEBsubmit1"/> </td></tr>
    <tr><td colspan="2" >{{KEBMessage}} </td></tr>
</table>
</form>

<table border="1">
<p> KEB Reading as on Month jan and year 2012</p>
<tr>
<th>Date </th>
<th>Time</th>
<th>True Power Reading</th>
<th>Apparent Power Reading</th>
<th>True Power consumed</th>
<th>Voltage Reading</th>
<th>Power Factor</th>
 </tr>

{% for item in q2 %}
 <tr>
 <td>{{item.date}}</td>
 <td>{{item.time}}</td>
 <td>{{item.truepower_reading}}</td>
 <td>{{item.apparentpower_reading}}</td>
  <td>{{item.truepower_consumed}}</td>
  <td>{{item.voltage_reading}}</td>
    <td> {{item.powerfactor}}</td>
 </tr>
 {% endfor %}

 </table> 
```

{% endblock 内容 %}

视图.py

```
 def KEBReading1(request):
#form2 = KEBReading.objects.all()
if request.method == "POST":

    form = KEBReading_form(request.POST)
    if form.is_valid():
        prevdate=KEBReading.objects.latest("date")
       # Model.objects.latest('field')
        print prevdate.date
        print prevdate.time
        # q1 = KEBReading.objects.get(datetime.date.today()-datetime.timedelta(0))

        kr_truepower_reading = form.cleaned_data["truepower_reading"]
        kr_apparentpower_reading = form.cleaned_data["apparentpower_reading"]
        truepower_consumed1=kr_truepower_reading-prevdate.truepower_reading
        powerfactor1=((kr_truepower_reading-prevdate.truepower_reading)/(kr_apparentpower_reading-prevdate.apparentpower_reading))
        #instance=truepower_consumed,powerfactor
  ## replace form.save() with following lines

        form1=form.save(commit=False)
        #form1.calculate(truepower_consumed1,powerfactor1)
        form1.truepower_consumed=truepower_consumed1
        form1.powerfactor=powerfactor1
        print form1.powerfactor
        form1.save()

        q2=KEBReading.objects.latest("date")

        context={'KEBReading_form':form,'q2':q2}
        return render_to_response('keb.html',context,context_instance=RequestContext(request))

else:
    form = KEBReading_form()

return render_to_response('keb.html',{'KEBReading_form':form},context_instance=RequestContext(request)) 
```

我想在我通过模板中的视图计算的表格中显示所有读数。我在使用 for 循环进行迭代时得到模型对象不可迭代..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:48:50.097

几个问题：

1.  首先，正如 Aidan 正确指出的那样，`KEBReading.objects.latest("date")`这将返回一个对象，而不是集合或可迭代对象。

2.  其次，您没有分配任何正在计算的字段。`truepower_consumed1=kr_truepower_reading-prevdate.truepower_reading`不会将它分配给您检索的对象（您的`q2`）。我不确定这是否是故意的。但是，我怀疑您想将表单的实例返回到您的模板，而不是表中的另一条记录。您需要更新您的问题。

要立即解决这些问题：

```
 <tr>
 <td>{{q2.date}}</td>
 <td>{{q2.time}}</td>
 <td>{{q2.truepower_reading}}</td>
 <td>{{q2.apparentpower_reading}}</td>
 <td>{{q2.truepower_consumed}}</td>
 <td>{{q2.voltage_reading}}</td>
 <td> {{q2.powerfactor}}</td>
 </tr> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:42:21.857

你的`q2`变量只是一个对象而不是一个集合。

以下行返回单个对象 -

```
KEBReading.objects.latest("date") 
```

但是您的模板需要一个可以迭代的集合 -

```
{% for item in q2 %}
 <tr>
 <td>{{item.date}}</td>
 <td>{{item.time}}</td>
 <td>{{item.truepower_reading}}</td>
 <td>{{item.apparentpower_reading}}</td>
  <td>{{item.truepower_consumed}}</td>
  <td>{{item.voltage_reading}}</td>
    <td> {{item.powerfactor}}</td>
 </tr>
 {% endfor %} 
```

检查该功能的[文档](https://docs.djangoproject.com/en/1.4/ref/models/querysets/#django.db.models.query.QuerySet.latest)`latest()`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:48:21.827

`latest()`返回表中的最新对象，而不是一组对象。取而代之的是，您应该使用`KEBReading.objects.all().order_by('date')`

# javascript - 从下拉列表中选择一个值会更改下一个下拉列表

> ID：14453677
> 
> 赞同：0
> 
> 时间：2013-01-22T07:36:30.450
> 
> 标签：javascript, jquery

大家好，我是 ruby​​ on rails 开发人员，对 javascript 或 Jquery 一无所知。

我有一个这样的选择标签：

```
<select name="form[city]" id="form_city">
   <option value="">Select Office</option>
   <option value="WA - Washington PD">WA - Washington PD</option>
   <option value="CA - California PD">CA - California PD</option>
   <option value="NY - NewYork PD">NY - NewYork PD</option>
</select> 
```

例如，当用户从上面的选择标签中选择***CA - California PD***时，将在其下方的下一个选择标签应该有一个如下所示的下拉列表：

```
 <select name="form[cityselected]" id="form_cityselected">
   <option value="CAF">CAF</option>
   <option value="CAL">CAL</option>
   <option value="CAU">CAU</option>
   <option value="CAS">CAS</option>
</select> 
```

因此，必须使用 Javascript 或 JQuery 函数来收集在“form[city]”中选择的选项，并将 F、L、U、S 字符附加到从“form[city]”选择标记到第二个字符的前两个字符选择标签-> 表单[cityselected]。

非常感谢提前

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:59:47.473

Check this : [http://jsfiddle.net/Q8NW5/](http://jsfiddle.net/Q8NW5/)

```
$('#form_city').on('change', function (e) {
var val = $(':selected', $(this)).val(),
    val = val.split('-')[0],
    val = val.replace(/\s+/g, ''),
    char = ['F', 'L', 'U', 'S'],
    tpl = '<option val="{val}">{val}</option>',
    html = '';

$(char).each(function (item, value) {
    var opt = val + value;
    html += tpl.replace(/{val}/g, opt);
});

$('#form_cityselected').html(html).show();
$('#form_final_city').show();

var currCity = $('#form_cityselected option:selected').val();
setCity(currCity);

})

$('#form_cityselected').on('change', function () {
    var val = $(':selected', $(this)).val();
    setCity(val);
});

function setCity(city) {
    $('#form_final_city').val(city);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T08:01:51.667

下面是示例： 我假设您了解 Jquery 的基础知识。

```
$("#form_city").change(function() {
     // TODO 
filltheVillagecomboBox(villageStrings);//village strings seperatedBy '|'

 });

function filltheVillagecomboBox(villagesStrings){
            if(villagesStrings !=null){
                var villagesStrings = villagesStrings.split('|');

                box.append("<option value='null'>Please select your village</option>");

                for (var i = 0, l = villagesStrings.length-1; i <l; i++){
                    var id =villagesStrings[i].substring(0,2);
                    var village=villagesStrings[i].substring(0,villagesStrings[i].length)
                    $("#form_village").append("<option value="+village+">"+village+"</option>");
            }
            }

            } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:49:42.373

我没有对此进行测试，但这是一般的想法......它非常具体到你的确切问题。

请注意在选择 html 中添加了 onSelect ...这是我更改的唯一 html

```
<select name="form[city]" id="form_city" onSelect="updateOtherSelect(this)">
       <option value="">Select Office</option>
       <option value="WA - Washington PD">WA - Washington PD</option>
       <option value="CA - California PD">CA - California PD</option>
       <option value="NY - NewYork PD">NY - NewYork PD</option>
    </select>

function updateOtherSelect(select){
   //grab just what happens before the first space in your option's value
   var prefix = select.options[select.selectedIndex].value.split(" ")[0];

   //go through all your second drop down values and append, based on the string FLUS (if I understood your question correctly).
   for(i=0; i< document.getItemById("form_cityselected").options.length && i < "FLUS".length; i++){
       document.getItemById("form_cityselected").options[i].value = prefix + "FLUS".charAt(i)
   }

} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T07:50:37.363

尝试这个

```
$('#form_city').change(function(){
    var cityselectedobj= $('#form_cityselected');
     cityselectedobj.empty()
    var val=$(this).val();
    var text=val.split(' ')[0];
    $('<option>').val(val + 'F').text(text+ 'F').appendTo(cityselectedobj);
    $('<option>').val(val + 'L').text(text+ 'L').appendTo(cityselectedobj);
    $('<option>').val(val + 'U').text(text+ 'U').appendTo(cityselectedobj);
    $('<option>').val(val + 'S').text(text+ 'S').appendTo(cityselectedobj);
)}; 
```

在这里[摆弄](http://jsfiddle.net/x84Kk/1/)

# vb.net - 私人是自动的吗

> ID：14453686
> 
> 赞同：1
> 
> 时间：2013-01-22T07:37:12.623
> 
> 标签：vb.net

在 vb.net 中，如果您遗漏 Private 这个词，它会自动成为 Private

这里的这两个函数都是私有的吗？

```
Private Shared Function test()

End Function

Shared Function test()

End Function 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:41:58.410

如果您省略访问说明符，则`Public`在我们讨论过程时默认为 , 。

所有默认值都收集[在 MSDN 上的此页面上](http://msdn.microsoft.com/en-gb/library/ms235296.aspx)

所以，你的第二个功能是`Public`. 您自己发现这一点的一种快速方法是在 Visual Studio 中打开一个项目，在一个类中编写这些函数（给它们不同的名称），然后打开对象资源管理器。导航到功能，您可以看到每个功能具有哪些可访问性。

# action - 连接表达式 >

> ID：14453688
> 
> 赞同：1
> 
> 时间：2013-01-22T07:37:23.923
> 
> 标签：action, expression, concatenation

我[看到一篇文章](https://stackoverflow.com/questions/457316/combining-two-expressions-expressionfunct-bool)展示了如何连接两个`Expression<Func<T, bool>>`变量。

但是这里有一些方法可以做到这一点`Expression<Action<T>>`吗？

这是我尝试过的：

```
public static Expression<Action<T>> Add<T>(this Expression<Action<T>> left, Expression<Action<T>> right)
{
    //var param = Expression.Parameter(typeof(T), "x");
    var body = Expression.AndAssign(
            Expression.Invoke(left),
            Expression.Invoke(right)
        );
    var lambda = Expression.Lambda<Action<T>>(body);
    return lambda;
} 
```

# asp.net - 如何从视图中获取表数据是asp.net mvc 4

> ID：14453689
> 
> 赞同：3
> 
> 时间：2013-01-22T07:37:24.863
> 
> 标签：asp.net, asp.net-mvc-3, asp.net-mvc-4

我的问题是如何从视图中将表数据返回到控制器？

我的模型中有课程：

```
public class Company
{
    public string Name { get; set; }
    public int ID { get; set; }
    public string Address { get; set; }
    public string Town { get; set; }
} 
```

我将公司名单传递给我的观点：

```
 @model IEnumerable<MyTestApp.Web.Models.Company>
    ....
    @using (Html.BeginForm("Edit", "Shop"))
    {
    <table id="example">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Address)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Town)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model) {
                <tr>
                    <td>
                        @Html.EditorFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.EditorFor(modelItem => item.Town)
                    </td>
                </tr>
            }   
        </tbody>
    </table>

    <input type="submit" value="Submit" />
} 
```

一切看起来都很好，但我不明白如何在控制器中获取修改后的数据？我使用了这些方法：

```
public ActionResult Edit(IEnumerable<Company> companies)
    {
        // but companies is null
        // and ViewData.Model also is null

        return RedirectToAction("SampleList");
    } 
```

我需要访问修改后的对象，我做错了什么？

**更新：**感谢**webdeveloper**，我只需要使用“for”循环而不是“foreach”循环。正确的版本是

```
<tbody>
        @for (int i = 0; i < Model.Count(); i++ ) {
            <tr>                   
                <td>
                    @Html.EditorFor(modelItem => modelItem[i].Name)
                </td>
                <td>
                    @Html.EditorFor(modelItem => modelItem[i].Address)
                </td>
                <td>
                    @Html.EditorFor(modelItem => modelItem[i].Town)
                </td>
            </tr>
        }   
    </tbody> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:25:22.723

请在此处查看我的答案：[在同一视图中更新多个项目](https://stackoverflow.com/questions/12837288/updating-multiple-items-within-same-view)或**Darin Dimitrov**答案。

您需要在呈现的 html 标记中具有`index`in属性的项目。`name`你也可以看看：[模型绑定到列表](http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:52:24.420

我认为您缺少`Company`表单中的 ID，以便可以正确绑定模型。

你应该像这样添加它：

```
@using (Html.BeginForm("Edit", "Shop"))
{
<table id="example">
    <thead>
        <tr>
            <th>
                @Html.HiddenFor(model => model.ID)
                @Html.DisplayNameFor(model => model.Name)
            </th>
            ... 
```

否则，您的其余代码似乎没问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-03T13:25:40.030

您需要通过为每个正在编辑的行提供一个 id 来绑定表行，以便 mvc 可以将其绑定回控制器。一行表数据示例：

```
@for (var a = 0; a < @Model.Pets.Count; a++)
    {
    <tr>
        <td>
            @Html.CheckBoxFor(model => @Model.Pets[a].ChildSelected, new { @id= a + "childSelected" })
        </td>
    </tr> 
```

# c# - 通过 OpenXML SDK 获取一张 excel 的表格（工作部分）

> ID：14453691
> 
> 赞同：2
> 
> 时间：2013-01-22T07:37:36.167
> 
> 标签：c#, excel, c#-4.0, openxml, openxml-sdk

我在一张 excel 文件中有 3 个表，我使用 OpenXML SDK 来读取 Excel 文件，如下所示：

```
SpreadSheetDocument document = SpreadSheetDDocument.open(/*read it*/);
foreach(Sheet sheet in document.WorkbookPart.Workbook.Sheets)
{
   //I need each table or work part of sheet here
} 
```

如您所见，我可以获得每张 Excel 表格，但是如何在每张表格中获得工作部件，例如我的 3 个表格，我应该可以在这些表格上进行迭代，有人知道吗？有什么建议吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-22T14:11:41.060

这有帮助吗？

```
// true for editable
using (SpreadsheetDocument xl = SpreadsheetDocument.Open("yourfile.xlsx", true))
{
    foreach (WorksheetPart wsp in xl.WorkbookPart.WorksheetParts)
    {
        foreach (TableDefinitionPart tdp in wsp.TableDefinitionParts)
        {
            // for example
            // tdp.Table.AutoFilter = new AutoFilter() { Reference = "B2:D3" };
        }
    }
} 
```

请注意，实际的单元格数据不在 Table 对象中，而是在 SheetData 中（在 WorksheetPart 的 Worksheet 下）。只是让你知道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-14T21:35:21.083

您可以从excel中获取特定的表格。为@Vincent 的答案添加更多内容

```
using (SpreadsheetDocument document= SpreadsheetDocument.Open("yourfile.xlsx", true))
{
    var workbookPart = document.WorkbookPart;
    var relationsShipId = workbookPart.Workbook.Descendants<Sheet>()
                    .FirstOrDefault(s => s.Name.Value.Trim().ToUpper() == "your sheetName")?.Id;

    var worksheetPart = (WorksheetPart)workbookPart.GetPartById(relationsShipId);

    TableDefinitionPart tableDefinitionPart = worksheetPart.TableDefinitionParts
                                                                       .FirstOrDefault(r =>
                                                                         r.Table.Name.Value.ToUpper() =="your Table Name");

    QueryTablePart queryTablePart = tableDefinitionPart.QueryTableParts.FirstOrDefault();

    Table excelTable = tableDefinitionPart.Table;

    var newCellRange = excelTable.Reference;
    var startCell = newCellRange.Value.Split(':')[0]; // you can have your own logic to find out row and column with this values
    var endCell = newCellRange.Value.Split(':')[1];// Then you can use them to extract values using regular open xml 
} 
```

# asp.net - 浏览量计数器的周数和 ISO 8601

> ID：14453699
> 
> 赞同：0
> 
> 时间：2013-01-22T07:38:01.217
> 
> 标签：asp.net, mysql, datetime, iso8601

我需要按周、日和年存储特定产品的页面视图。我考虑过使用下表：

## 每周

*   项目清单
*   ID
*   product_id
*   周数
*   年
*   total_page_views（计数器）

## 日常的

*   product_id
*   total_page_views

[我不会保留存档数据的那一天，每年将根据周表计算]

我的问题实际上是关于周数值。我想知道我应该使用哪个周数，我已经读过 ISO 8601 是一种选择，而使用 .NET DataTime 函数来获取周是另一种选择。我需要您的帮助以了解我应该使用哪一个以及是否有更好的方法来优化表格。

最后，我想展示前一周、本周、前一年等浏览量最高的产品。

我的应用程序面向美国和欧洲人群，每周从星期一开始。我正在 C#/ASP.NET/MySQL/Entity Framework 中开发我的应用程序。谢谢。

# c# - JavaScript 中的 HTML 助手？

> ID：14453704
> 
> 赞同：4
> 
> 时间：2013-01-22T07:38:39.853
> 
> 标签：c#, javascript, razor

在 Razor 中，我可以这样做：

```
<p @Html.MyCustomDataAttributeFor(person) >@person.Name</p> 
```

渲染这样的东西：

```
<p data-custom-person-id="1234567890" >Fred</p> 
```

我真的必须在（不显眼的）JavaScript 中这样做吗：

```
$('p[data-custom-person-id="1234567890"]').css('background-color','red'); 
```

当我更愿意这样做时：

```
$('p[@Html.MyCustomDataAttributeFor(person)]').css('background-color','red'); 
```

如果我可以，否则如果 HTML 帮助程序生成的数据属性发生变化，我的客户端代码将不再为元素设置样式。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T08:06:23.913

你能把脚本指向一个 .cshtml 文件吗？

```
 <script type="text/javascript" src="/myscript.cshtml"></script> 
```

我想我已经为 .php 和 .aspx 做了这个，所以我看不出它不应该工作的原因。在这些情况下，它使服务器首先处理文件。

否则，您可以使用客户[`HttpHandler`](http://msdn.microsoft.com/en-us/library/ms228090%28v=vs.100%29.aspx)在将其发送到客户端之前在服务器端解析您想要的任何文本。

然而，最简单的方法是从 Razor 设置一些 Javascript 变量，即：

```
<script type="text/javascript">
    var customerId = '@Html.MyCustomDataAttributeFor(person)';
</script> 
```

然后写：

```
$('p[' + customerId + ']').css('background-color','red'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:44:39.873

`data-custom-person-id="1234567890"``@Html.MyCustomDataAttributeFor(person)`在服务器转换为该值后呈现给浏览器。在客户端，您根本不会收到这些文本。因此，您不能将这些语句用于客户端样式。

# python - 我需要在ubuntu上将scrapy 12升级到scrapy 16 ..你能帮我用命令吗

> ID：14453710
> 
> 赞同：0
> 
> 时间：2013-01-22T07:39:29.213
> 
> 标签：python, ubuntu, scrapy

我需要在ubuntu[上将scrapy](http://scrapy.org/) 12升级到scrapy 16。你能帮我命令吗

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:45:17.877

你有没有尝试过：

```
pip install --upgrade Scrapy      # if it's the latest version 
```

或者：

```
pip install Scrapy==0.16     # specific version 
```

为避免进一步的问题，请查看[pip 文档](http://www.pip-installer.org/en/latest/usage.html#examples)中的示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T11:18:16.873

或者，您可以这样做：

```
git clone https://github.com/scrapy/scrapy.git
cd scrapy
python setup.py 
```

# .net - DataGrid 中选定行的动态详细视图

> ID：14453712
> 
> 赞同：0
> 
> 时间：2013-01-22T07:39:30.803
> 
> 标签：.net, wpf, datagrid

`DataGrid`当我的Selected中有一行时，我需要创建一个详细视图。

我应该如何获取数据网格的标题并将其分配给我的详细视图网格`Label`。并且标签附近的文本块应包含所选行中标题的值。

我的数据网格中的标题不是静态的。它可能会在运行时发生变化。我已将我的数据网格的 itemsource 与 Ienumerable 集合绑定。

如果您能解决我的问题，请提前致谢。

更新：

```
 <my:DataGrid 
                              Grid.Row="0"
                              x:Name="dataGrid1" 
                              Width="auto" 
                              AutoGenerateColumns="True" CanUserAddRows="True"             Margin="0,0,0,0"
                              MouseRightButtonUp="dataGrid1_MouseRightButtonUp" /> 
```

在我的代码后面是绑定 Ienumerable 集合。

```
 this.dataGrid1.ItemsSource = objref.Result;
//Where objref.Result is Ienumerable collection 
```

然后在我在 XAML 中的详细视图中，

```
 <Label>Date:</Label>
                            <TextBlockName="data"
                       Text="{Binding SelectedItem.date,  ElementName=dataGrid1}" />
                            <Label>Username:</Label>
                            <TextBlock Name="username" 
                       Text="{Binding SelectedItem.username, ElementName=dataGrid1}"
                      /> 
```

只是对列标题进行硬编码。它可能会改变。我该如何处理。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T13:14:19.157

列出生成正确标题的每个字段已经由网格完成。详细视图通常用于显示不适合一行的图像或其他内容。

无论如何，我会假设您不知道 objref 的结果类型。因此，您需要使用反射来：

1.  创建一个表示属性名称和属性值的对象。
2.  当 selecteditem 更改时获取公共属性。
3.  将此公共属性列表转换为新类的列表
4.  使用您的数据模板将其呈现为详细视图。

代表您要显示的信息的类：

```
public class PropertyInformation
{
    public string Name { get; set; }

    public object Value { get; set; }
} 
```

获取属性列表的转换器：

```
public class PropertiesLister :IValueConverter
{
    private const BindingFlags Flags = BindingFlags.Instance | BindingFlags.Public;

    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return value.GetType()
            .GetProperties(Flags)
            .Select(pi => new PropertyInformation
            {
                Name = pi.Name,
                Value = pi.GetValue(value, null)
            });
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

XAML 中属性信息和转换器的模板：

```
<Window.Resources>
    <DataTemplate x:Key="UserDataTemplate">
        <StackPanel Orientation="Horizontal">
            <Label Content="{Binding Name}"/>
            <Label Content="{Binding Value}" />
        </StackPanel>
    </DataTemplate>

    <Test_DataGridDetailedView:PropertiesListerConverter x:Key="toListConverter" />

</Window.Resources> 
```

使用转换器的详细视图：

```
<DataGrid ItemsSource="{Binding Customers}"
          AutoGenerateColumns="True">
    <DataGrid.RowDetailsTemplate>
        <DataTemplate>
            <ItemsControl
                x:Name="UserList"
                ItemTemplate="{StaticResource UserDataTemplate}"
                ItemsSource="{Binding Converter={StaticResource toListConverter}}"
                />
        </DataTemplate>
    </DataGrid.RowDetailsTemplate>
</DataGrid> 
```

# iphone - NSSortDescriptor 使用对数组进行排序

> ID：14453713
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:39:31.083
> 
> 标签：iphone, nssortdescriptor

我想对数组进行排序使用 NSSortDescriptor 不会删除数组中的重复项

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:49:59.283

NSSortDescriptor 仅排序，不会删除重复项。您必须先删除重复项，然后再检查：

[删除 nsarray 中的重复项](https://stackoverflow.com/questions/3966592/removing-duplicates-in-nsarray)

然后使用 NSSortDescriptor

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:44:58.903

`NSSet`或者，从您的数组中创建一个并对其进行排序？

# c# - 查明文件是否仍在增长，延迟操作

> ID：14453717
> 
> 赞同：1
> 
> 时间：2013-01-22T07:39:39.533
> 
> 标签：c#, .net, wpf

我想监视一个文件并找出它何时不再生长。我执行一个外部程序

```
Process.Start(
    "procdump.exe",
    string.Format(@"-ma {0} Output\{1}_RAW_DUMP.dump",
    processName,
    dt.ToString("yyyyMMdd-HHmmss"))); 
```

我需要知道这个过程何时完成。

所以我写了这个：

```
private void CheckDumpFile(DateTime startDateTime, IConfigHolder configHolder, List<string> results)
{
    var path = CheckExistensDumpFile(startDateTime);
    const int delayMs = 250;
    if (path == null)
    {
        Console.WriteLine("Dumpfile not ready yet, next try in 0.25s, now: {0}", DateTime.Now.ToString("HH:mm:ss.fff"));
        RetryAction(() => CheckDumpFile(startDateTime, configHolder, results), delayMs);
    }
    else
    {
        var fileInfo = new FileInfo(path);
        if (fileInfo.Length == 0)
        {
            Console.WriteLine("Dumpfile has no Length yet, now: {0}", DateTime.Now.ToString("HH:mm:ss.fff"));
            RetryAction(() => CheckDumpFile(startDateTime, configHolder, results), delayMs);
        }
        else
        {
            if (_lastLength == fileInfo.Length)
            {
                Console.WriteLine("Dumpfile is " + _lastLength + "bytes, starting analysis, now: {0}", DateTime.Now.ToString("HH:mm:ss.fff"));
                ReadDumpFile(configHolder, path, results);
            }
            else
            {
                Console.WriteLine("Dumpfile is still growing, next try in 0.25s, now: {0}", DateTime.Now.ToString("HH:mm:ss.fff"));
                _lastLength = fileInfo.Length;
                RetryAction(() => CheckDumpFile(startDateTime, configHolder, results), delayMs);
            }
        }
    }
} 
```

和这个

```
public static void RetryAction(Action action, int delayMs)
{
    new Timer(obj => action(), null, delayMs, Timeout.Infinite);
} 
```

这一直有效，直到文件变慢并且我又调用了一些“RetryAction”。不止一个电话回不来。

你知道似乎是什么问题吗？我的情况有更好的解决方案吗？我忽略了 FilWatcher，因为有人告诉我 FileWatcher 在 ne9twork 共享中很糟糕。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:03:52.450

我也遇到过这个问题。我写了一个检查最后写入时间的方法，所以即使文件只增长了一个字节，它仍然会被归类为正在使用。

```
 /// <summary>
    /// Waits for completion of writing to a file.
    /// </summary>
    /// <param name="fullPath">The full path.</param>
    /// <param name="timeToWait">The time to wait on each attempt.</param>
    /// <param name="retryAttempts">The maximum number of retry attempts.</param>
    /// <param name="safetyBuffer">The safety buffer.</param>
    public static void WaitForFile(string fullPath, TimeSpan timeToWait, int retryAttempts, TimeSpan safetyBuffer)
    {
        var timesSkipped = 0;
        var info = new FileInfo(fullPath);
        var maxWriteTime = DateTime.Now.Add(-safetyBuffer);// no activity for a minute
        while (info.Exists && (info.LastWriteTime > maxWriteTime) && timesSkipped < retryAttempts) {
            Thread.Sleep(timeToWait);
            maxWriteTime = DateTime.Now.Add(-safetyBuffer);
            info.Refresh();
            timesSkipped++;
        }
    } 
```

# c# - 一个应用服务多个站点，如何设计forms-auth cookie？

> ID：14453719
> 
> 赞同：-2
> 
> 时间：2013-01-22T07:39:40.927
> 
> 标签：c#, asp.net, forms-authentication, asp.net-roles

我的应用程序将服务于多个站点，我将为系统中的所有站点定义相同的主目录。假设这是一个具有用户、角色等的业务应用程序，并且每个站点都是为另一个客户服务的。

角色定义在数据库中，所以我正在创建一个带有票证的表单身份验证 cookie，并将该 cookie 命名为

```
FormsAuthentication.FormsCookieName + HttpContext.Current.Session["ApplicationName"] 
```

但是，当我尝试在 Application_AuthenticateRequest 中解码此 cookie 时，应用程序会抛出一个错误，提示会话状态尚未准备好。

我可以用另一种方式存储“ApplicationName”数据。但我有一种感觉，我可能从一开始就做错了什么。

你能在这种情况下给我建议一个模式或其他东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:57:10.227

在 ASP.NET 生命周期 (Application_AuthenticateRequest) 的那个阶段，您将无法使用会话状态。它尚不可用。

应该在 AcquireRequestState 步骤可用。那是获取当前请求的会话状态的时间。

在这里查看生命周期事件：

[http://www.devproconnections.com/article/aspnet2/understanding-the-asp-net-lifecycle-123441](http://www.devproconnections.com/article/aspnet2/understanding-the-asp-net-lifecycle-123441)

# django - 哪个推荐引擎可用于带有 postgresql 数据库的 django 站点？

> ID：14453721
> 
> 赞同：3
> 
> 时间：2013-01-22T07:39:47.107
> 
> 标签：django, postgresql, recommendation-engine

它适用于基于 Django 和 PostgreSQL 数据库后端构建的不同类型视频（非常类似于 hulu 内容）的媒体网站。

# css - 带有左边距的流体固定块

> ID：14453724
> 
> 赞同：0
> 
> 时间：2013-01-22T07:40:01.873
> 
> 标签：css, css-position, fluid-layout

我需要在页面上放置固定块。但它应该是流体容器的大小（具有自动左右边距）和容器内的左边距 160px。

HTML

```
<div id="container">
 <div id="header">Some fixed panel</div>
 Some other scrollable markup
</div> 
```

CSS

```
#container {
 width: 90%;
 max-width: 1280px;
 padding: 0px 20px 20px 20px;
 margin: 0 auto;
 min-width: 940px;
 position: relative;
 z-index: 1;} 
#header { 
 width: 100%;
 height: 60px;
 position: fixed;
 margin-left: 160px;
 top: 0;
 z-index: 60; } 
```

而且我无法制作固定面板以获得正确的宽度。不知何故，这个块不是从容器中获得宽度，而是从窗口中获得宽度。

需要一些没有 JS 的解决方案。

提前Tnx。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-23T09:16:30.630

解决了。我将固定包装用于具有主容器边距和宽度的面板。

# sql-server-2008-r2 - 不允许在更新语句中排序

> ID：14453728
> 
> 赞同：0
> 
> 时间：2013-01-22T07:40:10.743
> 
> 标签：sql-server-2008-r2, azure-sql-database

我试图根据内部连接条件设置一个标志，我需要在查询中使用 order by 子句，因为我的条件取决于具有特定字符串的最后一条记录，但它不能是最后一个表，我试过它说它不允许，我曾经尝试过的东西似乎对我不起作用。

第一次尝试：

* * *

```
UPDATE TESTINSTANCE SET NETWORKOUTAGE='1' 
WHERE TESTINSTANCEID IN (SELECT DISTINCT A.TESTINSTANCEID FROM AUDITLOG A 
INNER JOIN TESTINSTANCE TI ON TI.TESTINSTANCEID=A.TESTINSTANCEID AND TI.TIMETAKEN IS NULL 
AND TI.NETWORKOUTAGE!='1' 
AND TI.ISSENTTOEDUNXT IS NULL 
WHERE REPLACE(A.MESSAGE, ' ', '')=REPLACE('PING RESPONSE CAME FROM SERVER',' ','')  
AND DATEDIFF (MINUTE, A.REPORTEDTIME,  GETDATE())>=5 ORDER BY A.AUDITID DESC); 
```

**第二次尝试**：

* * *

```
UPDATE TI SET NETWORKOUTAGE='1' 
FROM  TESTINSTANCE TI INNER JOIN (SELECT DISTINCT A.TESTINSTANCEID FROM AUDITLOG A 
INNER JOIN TESTINSTANCE TI ON TI.TESTINSTANCEID=A.TESTINSTANCEID AND TI.TIMETAKEN IS NULL 
AND TI.NETWORKOUTAGE!='1' 
AND TI.ISSENTTOEDUNXT IS NULL 
WHERE REPLACE(A.MESSAGE, ' ', '')=REPLACE('PING RESPONSE CAME FROM SERVER',' ','')  
AND DATEDIFF (MINUTE, A.REPORTEDTIME,  GETDATE())>=5 ORDER BY A.AUDITID DESC) RES ON RES.TESTINSTANCEID=TI.TESTINSTANCEID; 
```

但都给了我同样的错误，

```
The ORDER BY clause is invalid in views, inline functions, derived tables, subqueries, and common table expressions, unless TOP or FOR XML is also specified. 
```

我在这里想念什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:50:53.087

看到你想要做什么有点棘手，显然我们没有你的桌子。但我认为你想要这样的东西：

```
.... (SELECT A.TESTINSTANCEID,A.REPORTEDTIME,
     ROW_NUMBER() OVER (PARTITION BY A.TESTINSTANCEID ORDER BY A.AUDITID DESC) as RN
...

) RES ON RES.TESTINSTANCEID=TI.TESTINSTANCEID AND
     RES.RN = 1 AND
     DATEDIFF (MINUTE, RES.REPORTEDTIME,  GETDATE())>=5 
```

并从子查询中删除日期比较。基本上，使子查询适当地编号行，以便在连接条件中，您可以只选择最新的行并使用该`REPORTEDTIME`值。

# facebook - Drupal 7 的 Facebook OAuth

> ID：14453730
> 
> 赞同：2
> 
> 时间：2013-01-22T07:40:11.757
> 
> 标签：facebook, drupal, drupal-7, facebook-apps, facebook-oauth

我已经为 drupal7 安装了 FACEBOOK OAuth。但是，当我连接 f 连接按钮时，它会将我带到 facebook 网站，但在页面中间显示一个错误，即：

> API错误代码：191 API错误描述：指定的URL不属于应用程序错误消息：无效的redirect_uri：应用程序配置不允许给定的URL。

为什么会这样以及如何解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:32:18.697

`API Error Code: 191`表示`redirect_uri`未正确设置。

确保`redirect_uri`包含您在应用程序设置中定义的站点 URL 或画布 URL。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T09:59:43.327

进入 facebook 中的应用程序设置，然后在“应用程序域”字段中添加您网站的域。如果网站在子域上，请务必使用子域。意味着如果您的网站位于 example.com，您应该在该字段中添加 example.com。如果它位于 mysite.example.com 上，则应添加 mysite.example.com。

# iphone - NSMutableArray 和 NSMutableDictionary 问题

> ID：14453732
> 
> 赞同：0
> 
> 时间：2013-01-22T07:40:17.527
> 
> 标签：iphone, uitableview, xcode4.5

我正在实现分段表格视图的概念并在特定点上受到打击。我有一个带有 2 个对象的 NSMutableArray，如下所示：

```
<__NSArrayI 0xabf8c00>(
    {
        City = "SanFransisco ";
        Latitude = "28.602704";
        Longitude = "-81.430760";
        State = California;
    },
    {
        City = Orlando;
        Latitude = "28.49379";
        Longitude = "-81.474251";
        State = Florida;
    },

    )
    ,
    <__NSCFArray 0xab38ec0>(
    {
        geometry =     {
            location =         {
                lat = "37.789632";
                lng = "-122.417004";
            };
        };
        name = "St. Francis Memorial Hospital";
        vicinity = "900 Hyde Street, San Francisco";
    },
    {
        geometry =     {
            location =         {
                lat = "37.794363";
                lng = "-122.395784";
            };
        };
        name = "St Memorial Hospital";
        vicinity = "5 Embarcadero Center, San Francisco";
    },
    {
        geometry =     {
            location =         {
                lat = "37.788297";
                lng = "-122.409653";
            };
        };
        name = "Global Memorial Hospital";
        vicinity = "490 Post Street #520, San Francisco";
    },
    ) 
```

我在 tableView 的两个部分中加载这 2 个对象。但是，我不知道如何比较和获取第一个对象的每个键（城市、纬度、经度）和第二个对象的纬度、lng、附近的 NSMutableDictionary。我已经这样做了，但我得到了错误：`**SIGABRT error**`

编辑 ：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault    reuseIdentifier:CellIdentifier]autorelease];
        cell.accessoryType= UITableViewCellAccessoryDetailDisclosureButton;
        cell.selectionStyle = UITableViewCellSelectionStyleNone;

    }

    NSMutableArray *array = [listOfItems objectAtIndex:indexPath.section];
    int section=indexPath.section;

    if(section==0)
    {

        for (int i=0;i<[array count];i++)
        {

        cell.textLabel.text = [[array  objectAtIndex:i] objectForKey:@"City"] ;

        cell.textLabel.tag=3;
        cell.textLabel.font=[UIFont boldSystemFontOfSize:12];

        NSString *lat=[NSString stringWithFormat:@"%@",[[array  objectAtIndex:i] objectForKey:@"Latitude"]];
        UILabel *latitude = [[UILabel alloc]initWithFrame:CGRectMake(10, 50, 320, 10)];
        latitude .font=[UIFont fontWithName:@"TimesNewRomanPS-BoldMT" size:12];
        [latitude  setTextAlignment:UITextAlignmentLeft];
        latitude.text=[NSString stringWithFormat:@"%@",lat];
        latitude.tag=1;
        [cell addSubview:latitude ];
        latitude.hidden=YES;
        [latitude release];

        NSString *lng=[NSString stringWithFormat:@"%@",[[array  objectAtIndex:i] objectForKey:@"Longitude"]];
        UILabel *longitude = [[UILabel alloc]initWithFrame:CGRectMake(10, 80, 320, 10)];
        longitude .font=[UIFont fontWithName:@"TimesNewRomanPS-BoldMT" size:12];
        [longitude  setTextAlignment:UITextAlignmentLeft];
        longitude.text=[NSString stringWithFormat:@"%@",lng];
        longitude.tag=2;
        [cell addSubview:longitude ];
        longitude.hidden=YES;
        [longitude release];

         return cell;

    }
    }

    if(section==1)
    {

        for (int i=0;i<[array count];i++)
        {

             cell.textLabel.text =[[array  objectAtIndex:i] objectForKey:@"name"] ;

            cell.textLabel.lineBreakMode=UILineBreakModeWordWrap;
            cell.textLabel.numberOfLines=0;
            cell.textLabel.font=[UIFont boldSystemFontOfSize:12];
            cell.textLabel.tag=3;

            NSMutableDictionary * location = [[[array objectAtIndex:indexPath.row]objectForKey:@"geometry"]objectForKey:@"location"];
            NSString * lat = [location objectForKey:@"lat"];
            NSString * lng = [location objectForKey:@"lng"];

            UILabel *latitude = [[UILabel alloc]initWithFrame:CGRectMake(10, 80, 320, 10)];
            latitude .font=[UIFont fontWithName:@"TimesNewRomanPS-BoldMT" size:12];
            [latitude  setTextAlignment:UITextAlignmentLeft];
            latitude.text=[NSString stringWithFormat:@"%@",lat];

            latitude.tag=1;
            [cell addSubview:latitude ];
            latitude.hidden=YES;
            [latitude release];

            UILabel *longitude = [[UILabel alloc]initWithFrame:CGRectMake(10, 85, 320, 10)];
            longitude .font=[UIFont fontWithName:@"TimesNewRomanPS-BoldMT" size:12];
            [longitude  setTextAlignment:UITextAlignmentLeft];
            [longitude  setText:[NSString stringWithFormat:@"%@",lng]];
            longitude.tag=2;
            [cell addSubview:longitude ];
            longitude.hidden=YES;
            [longitude release];

            NSString *vicinity1 = [[array objectAtIndex:indexPath.row]objectForKey:@"vicinity"];
            UILabel *vicinity = [[UILabel alloc]initWithFrame:CGRectMake(10, 45, 320, 10)];
            vicinity .font=[UIFont fontWithName:@"TimesNewRomanPS-BoldMT" size:12];
            [vicinity  setTextAlignment:UITextAlignmentLeft];
            vicinity.text=[NSString stringWithFormat:@"%@",vicinity1];

            vicinity.tag=4;
            [cell addSubview:vicinity ];
            vicinity.hidden=YES;
            [vicinity release];

             return cell;

        }

    }

} 
```

这次我哪里错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:39:12.790

根据您的错误，我了解到您的变量字典实际上不是字典而是数组。

尝试使用这个：

```
NSMutableArray *array = [listOfItems objectAtIndex:indexPath.row];
cell.textLabel.text = [[array  objectAtIndex:0] objectForKey:@"City"]; 
```

如果这返回某些东西（或某个名称），也许您可​​以相应地更改您的逻辑并获得所需的结果。

让我知道它是否有效:)

编辑 ：

```
int section=indexPath.section;

    if(section==0)
    {
        NSMutableArray *array = [listOfItems objectAtIndex:indexPath.row];

        for (int i=0;i<[array count];i++)
        {

        cell.textLabel.text = [[array  objectAtIndex:i] objectForKey:@"City"] ;

        cell.textLabel.tag=3;
        .... 
```

indexPath.section 将始终返回 0

尝试这个 ：）

# iphone - 如何通过区域监控支持 iPhone 3GS 和 iPod Touch

> ID：14453735
> 
> 赞同：0
> 
> 时间：2013-01-22T07:40:25.453
> 
> 标签：iphone, ios, geolocation, core-location, ipod-touch

我正在开发一个基于地理定位的应用程序，为此我正在使用“区域监控”API，但我了解该 API 仅适用于 iPhone 4/4S 和 iPhone 5。

我希望我的应用程序能够在尽可能多的 idevices 中正常运行，但我找不到有关“区域监控”使用的信息，并继续支持旧设备和 iPod Touch。

我想它可以在区域监控和 GPS 或 WiFi 定位之间切换，但我不知道我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T01:43:51.520

你是对的，3GS 不支持区域监控，即使在 iOS 6 上也是如此。这对于 iPad 1 和 2 以及较旧的 iPod Touch 也是如此。

是否选择包含这些设备取决于您。如果您只需要区域监控，则必须使用粗略的位置更新 -startMonitoringForSignificantLocation 手动对此进行编程。这不太理想，你会为你完成你的工作。我的建议，即我使用自己的应用程序处理此问题的方式，不支持这些旧设备。不得不疏远大部分用户群是很臭的，它不是大多数用户群。

# css - 在不完全导入 LESS 文件的情况下引用类/mixin

> ID：14453737
> 
> 赞同：49
> 
> 时间：2013-01-22T07:40:41.537
> 
> 标签：css, twitter-bootstrap, less

我正在使用 wordpress 的根主题：[https ://github.com/retlehs/roots/](https://github.com/retlehs/roots/)

它已经带有预编译的 bootstrap.css 并建议使用 app.css 进行任何自定义。由于我没有通过 html 或 javascript 将类添加到按钮的选项，我想使用 LESS 源来引用 css 类，例如，我想为提交按钮提供引导按钮样式：

```
input#submit{
.btn;
.btn-primary;
} 
```

如果我使用`@import 'bootstrap.less';`它将整个引导 css 添加到 app.css 中。我怎样才能使用 bootstrap.less 作为编译的参考？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-01-22T16:39:38.097

你问的核心问题是

> “我怎样才能只使用 bootstrap.less 作为编译的参考？”

## 从 LESS 1.5 版开始

对于 LESS 1.5，现在可以导入文件纯粹作为参考。像这样：

```
@import (reference) 'bootstrap.less'; 
```

该文件不会以 CSS 形式输出任何实际代码，但所有代码都可用作 mixins。

## 原始答案（保留所有评论的上下文）

[免责声明：不确定这是否适用于 1.3.3，但我相信这个原始答案在以后的版本中也有一些用处。但是，为了真正获得 OP 想要的东西，建议使用 LESS 1.5 中的新功能。]

当前版本的 LESS (1.3.3) 可以通过使用命名空间来适应这一点。像这样：

```
#bootstrapRef() {
  @import: 'bootstrap.less':
}

input#submit{
  #bootstrapRef > .btn;
  #bootstrapRef > .btn-primary;
} 
```

通过使命名空间成为一个 mixin（在名称后添加括号），它仍然会导入文件（我知道不导入就无法从外部访问它），但*它不应该将实际的引导代码编译到你的最终 css文件输出*。这种技术应该做的是允许您通过命名空间调用访问引导程序的类、mixin 等，`#bootstrapRef >`从而可以在您自己定义的类等中使用这些类。

如果有任何错误，我还没有完全测试，它应该只是理论上的工作。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-11T23:29:06.127

在 LESS 中这样做有点棘手，但可以这样实现：

```
#bootstrap() {
    .btn() {
        @import "bootstrap/variables.less";
        @import "bootstrap/mixins.less";
        @import "bootstrap/buttons.less";
    }
}

input#submit{
  #bootstrap > .btn;
} 
```

导致从 mixins.less 和 variables.less 声明了一些额外的类。大多数只是`.clearfix`然后所有的`.btn`类都被添加到`input#submit`

在此处查看长输出：

[http://pastebin.com/ZBAZZ3kS](http://pastebin.com/ZBAZZ3kS)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-22T08:20:49.327

我不确定是否有一个工具可以在外部文件中只导入当前引用的 css 规则，但是 Boostrap 的结构非常有条理，所以请检查您要查找的样式是否打开`mixins.less`，这样您就不必导入整个`bootstrap.less`文件。

另外，检查这个[相关问题](https://stackoverflow.com/questions/10451317/twitter-bootstrap-customization-best-practices)，有一些很好的自定义 Boostrap 的最佳实践。

**编辑：**正如@PavloMykhalov 建议的那样，也许更好看`buttons.less`

**注意：**对于这类事情来说，这将是一个很棒的工具。总有一天我会努力的

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-08T15:54:09.263

不知道是什么让您相信 LESS 当前支持这一点，为了使这一点成为可能，选项必须更加明确，它目前实际上只是简单地导入、解析、保存块、将块执行到输出文本中。

除非没有明确的停止这个序列，它不会做任何不同的事情。

我刚刚在 LESS 下记录了一个功能请求，但不确定之前是否已经请求过，但搜索并没有发现任何东西，希望我不会因为重复而被打脸！

[https://github.com/cloudhead/less.js/issues/1169](https://github.com/cloudhead/less.js/issues/1169)

**更新** 问题原来是重复的，打开的问题在这里：[https ://github.com/cloudhead/less.js/issues/622](https://github.com/cloudhead/less.js/issues/622)

# iphone - dequeueReusableCellWithIdentifier 不重用单元格

> ID：14453741
> 
> 赞同：7
> 
> 时间：2013-01-22T07:40:54.860
> 
> 标签：iphone, ios, objective-c, ipad, uicollectionview

我有`UICollectionView`一个自定义单元格子类化`UICollectionViewCell`。在代码中我做了以下事情：

```
 [self.collectionView_ registerClass:[AHPinterestCell class]
        forCellWithReuseIdentifier:@"AHPinterestCell"]; 
```

这就是我的`cellForItem`

```
 AHPinterestCell *cell =
                (AHPinterestCell *)[collectionView dequeueReusableCellWithReuseIdentifier:@"AHPinterestCell"
                                                                             forIndexPath:indexPath]; 
```

但是，它似乎没有重复使用该单元格。在我的每个屏幕的集合视图中，它显示了大约 9-10 个单元格，但是当我进行无限滚动然后我调用`insertItemsAtIndexPath`它时，它会调用`initWithFrame`我的自定义单元格上的方法，而它可能应该重用我已经拥有的单元格。为什么是这样？

**编辑：**

我正在添加一个示例演示项目来说明问题，可以在[此处](https://dl.dropbox.com/u/19680269/Demo.zip)找到 xcode 项目的链接。当您到达底部时，它实际上是在进行无限滚动，它只是在其中添加了更多内容。但是当你这样做时，它会再次调用 init 方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T18:13:50.330

简而言之，您的代码工作正常。正如预期的那样，当单元格从屏幕上滚出时，它们最终会被标记为可重复使用。当您调用 时`dequeueReusableCellWithReuseIdentifier`，如果有一个单元格可供重用，它就会这样做。如果没有，它会创建一个。

如果您快速或连续滚动，您会看到创建大量单元格的时间。但是如果你做短小的滚动，放开，暂停，让 UI 跟上并重复，那么你会看到创建的单元格非常少。

我将此解释为意味着 iOS 优先考虑 UI 和新单元格的创建，而不是旧单元格的出列，从而允许它们重用。因此，如果您快速翻转，它很难赶上旧单元并将其标记为可重复使用。这可能并不完全是坏事，因为这可能是集合视图如此流畅的原因。标记旧单元以供重用是 iOS 在这里要做的不太重要的事情之一。但很明显，如果内存很紧，这可能是个问题。

顺便说一句，如果你也放一个`NSLog`in `dealloc`，你会注意到，当 UI 在集合视图中快速滚动后终于赶上时，它显然有一些逻辑在说“哎呀，我还有更多的空闲比我真正需要的细胞，我要摆脱其中的一些。” 实际上，这是一个非常聪明的实现。专注于速度，但一旦 UI 安静下来，就会进行一些内存优化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-03T14:47:35.550

从您的设备设置中关闭辅助功能。它是一个错误。我的 iPad mini 也遇到了同样的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T14:44:47.493

同意，我有同样的问题，但我想创建一个类别给我可见的单元格，如果有的话。

```
// Header file UITableView+VisibleCell.h"
@interface UITableView (VisibleCell)
- (UITableViewCell*) visibleCellForRowAtIndexPath:(NSIndexPath *)indexPath;
@end

// Implementation file UITableView+VisibleCell.m
#import "UITableView+VisibleCell.h"

@implementation UITableView (VisibleCell)

- (UITableViewCell*) visibleCellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    for( UITableViewCell* currentVisibleCell in self.visibleCells )
    {
        NSIndexPath* currentPath = [self indexPathForCell: currentVisibleCell ];
        if( [currentPath isEqual:(id) indexPath] )
        {
            return currentVisibleCell;
        }
    }    
    return nil;
}    
@end 
```

您也可以从获取可见单元格开始，然后返回 cellForRowAtIndexPath 而不是 nil，这是样式问题。（我需要它来检索给定单元格中具有给定标签的 UITextField 以使其成为FIrstResponder，但 cellForRowAtIndexPath 不断重新分配我的单元格，非常令人沮丧。

# mysql - phpMyAdmin，存储过程不按预期工作

> ID：14453744
> 
> 赞同：1
> 
> 时间：2013-01-22T07:41:02.417
> 
> 标签：mysql, stored-procedures, phpmyadmin

我写了一个简单的（测试）程序，它只返回 1 行，这是为什么呢？

```
SELECT *
FROM service 
```

该过程执行得很好，只是显示的结果只包含第一行而不是所有表记录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T19:14:49.473

好吧，我只是偶然解决了 :) 希望有一天有人会需要：

创建过程后，phpMyAdmin 中“例程”选项卡中的“执行”图标不起作用，仅返回表中的 1 条记录。我下载了最后一个3.5.5版本，问题也是一样。

实际上，该过程本身运行良好，只需使用 SQL 选项卡并手写调用它：

```
call myProcedure 
```

这就是所有人:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:49:02.357

确保您的测试程序执行了`commit`.

根据*您*运行 MySQL 语句的方式，您可能有也可能没有隐式`commit`. Phpmyadmin 隐式执行此操作`commit`。但是如果您的测试程序是通过其他方式运行的，例如 PHP 之类的编程语言，则可能您没有`autocommit`设置。然后你的测试程序必须发布`commit`声明本身才能使测试的效果出现在世界其他地方......以及 Phpmyadmin。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:04:47.803

如果你每次都得到最后一行。那么可能是你的代码是这样的，

```
$result = mysql_query("SELECT * FROM service");
while($row = mysql_fetch_array($result))
{
  $user=$row['Username'];  //assume you have a column named Username
}

echo $user . "<br>"; 
```

但它应该像下面这样，然后你就可以得到所有的数据。

```
$result = mysql_query("SELECT * FROM service");
while($row = mysql_fetch_array($result))
{
  $user=$row['Username'];  //assume you have a column named Username
  echo $user . "<br>";
} 
```

# blackberry - 阻止来电黑莓并删除未接来电通知

> ID：14453745
> 
> 赞同：0
> 
> 时间：2013-01-22T07:41:06.293
> 
> 标签：blackberry, java-me

我正在编写一个呼叫拦截器应用程序。我成功阻止了呼叫，但现在我还想要一件事：

阻止通话时，我在设备上收到“一个新未接来电”通知。我想删除未接来电通知并从通话记录中删除通话。

谁能指导我如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:44:55.197

从理论上讲，您可以删除 call 的通话记录条目[`PhoneLogs.deleteCall`](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/blackberry/api/phone/phonelogs/PhoneLogs.html#deleteCall%28int,%20long%29)，但由于操作系统中的错误，这可能会变得很棘手。关于通知，我从未尝试过，所以我不知道。

# java - SwingUtilities.convertMouseEvent() 在 Java7 中将按钮设置为 NOBUTTON

> ID：14453750
> 
> 赞同：3
> 
> 时间：2013-01-22T07:41:25.850
> 
> 标签：java, swing, applet, jscrollpane, swingutilities

正如我们所知`MouseEvent`，迷失在 中`JScrollPane`，即未交付给父母，这是一个尚未修复的旧错误： [https ://forums.oracle.com/forums/thread.jspa?threadID=1362237](https://forums.oracle.com/forums/thread.jspa?threadID=1362237)

因此，我通过使用临时侦听器捕获事件`JScrollPane`然后将事件分派给它的父级来使用真正的侦听器进行处理来使用变通方法。

```
 private class DispatchListener extends MouseAdapter {
    @Override
    public void mousePressed (MouseEvent me) {
        System.out.println("dispatch.mousePressed: " + me.getButton());
        preDispatchEvent(me);
    }

    @Override
    public void mouseReleased (MouseEvent me) {
        preDispatchEvent(me);
    }

    @Override
    public void mouseDragged (MouseEvent me) {
        System.out.println("dispatch.mouseDragged");
        preDispatchEvent(me);
    }

    private void preDispatchEvent (MouseEvent me) {
        JScrollPane pane = (JScrollPane)me.getSource();
        MouseEvent newMe = SwingUtilities.convertMouseEvent(pane.getViewport(), me, tablePanel);
        dispatchEvent(newMe);
    }
} 
```

它工作正常，但使用 Java 7 的人开始抱怨鼠标单击在应用程序中没有反应。降级到 Java 6 后问题得到解决，但现在我正在测试`Applet`并`Chrome`强制我将插件升级到版本 7。

调试后，我发现`convertMouseEvent`将按钮设置为`MouseEvent.NOBUTTON`与传递的按钮无关

```
MouseEvent newMe = SwingUtilities.convertMouseEvent(pane.getViewport(), me, tablePanel); 
```

来自 Eclipse 中的源代码

```
else {
        newEvent = new MouseEvent(newSource,
                                  sourceEvent.getID(),
                                  sourceEvent.getWhen(),
                                  sourceEvent.getModifiers(),
                                  p.x,p.y,
                                  sourceEvent.getXOnScreen(),
                                  sourceEvent.getYOnScreen(),
                                  sourceEvent.getClickCount(),
                                  sourceEvent.isPopupTrigger(),
                                  MouseEvent.NOBUTTON ); //!!!
    }
    return newEvent; 
```

**我不知道为什么它是这样实现的？它是另一个错误或功能吗？**

似乎我需要创建自己的对象，而无需`SwingUtilities.convertMouseEvent`从 sourceEvent 调用和设置按钮。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-26T23:44:39.807

这是一个有趣的问题。`MouseEvent.NOBUTTON`in `SwingUtilities.convertMouseEvent`sure的使用看起来很奇怪。但是，我无法重现 Java 7 的问题；对我来说，`button`转换后的鼠标事件字段对于 Java 7 和 6 是正确的（在 Windows 7 笔记本电脑上使用 1.7.0-b147 64 位和 1.6.0_21-b07 64 位）。

通过`MouseEvent`构造函数进行调试，我看到虽然该`button`字段最初设置为零，但`setNewModifiers`在构造函数末尾的调用会`button`根据该字段发生变化（该字段从在构造转换的鼠标事件时`modifiers`接收其值）。`sourceEvent.getModifiers``SwingUtilities.convertMouseEvent`

通过单击转换的鼠标事件如下所示（对于 Java 7）：

```
java.awt.event.MouseEvent[MOUSE_PRESSED,(185,175),absolute(593,305),button=1,modifiers=Button1,extModifiers=Button1,clickCount=1] on javax.swing.JPanel[,0,0,381x259,layout=java.awt.FlowLayout,alignmentX=0.0,alignmentY=0.0,border=,flags=9,maximumSize=,minimumSize=,preferredSize=]
java.awt.event.MouseEvent[MOUSE_RELEASED,(185,175),absolute(593,305),button=1,modifiers=Button1,clickCount=1] on javax.swing.JPanel[,0,0,381x259,layout=java.awt.FlowLayout,alignmentX=0.0,alignmentY=0.0,border=,flags=9,maximumSize=,minimumSize=,preferredSize=] 
```

**回答您的问题**：我认为`MouseEvent.NOBUTTON`是传递给`MouseEvent`构造函数，因为该`button`字段的值将由该字段的值决定`modifiers`。在我的笔记本电脑上，Java 7 和 Java 6 都按我预期的那样工作，所以对我来说它看起来不像是一个错误。您的应用程序是否在浏览器中运行，这对鼠标事件的转换方式有影响吗？您是否已经创建了解决该问题的解决方法，或者您可以分享一些小程序代码吗？

*其他事件类型*创建一个或一个对象
处理的前两种情况。两个构造函数（最终）都调用带有参数的构造函数。（在我的笔记本电脑上查看这些事件（没有转换），a 的字段始终为零（我的鼠标只有一个滚轮）。对于事件，对象等于 1，否则为零，而字段始终等于.) 所以它看起来作为构造函数的参数非常流行。`SwingUtilities.convertMouseEvent``MouseWheelEvent``MenuDragMouseEvent``MouseEvent``MouseEvent.NOBUTTON``button``MouseWheelEvent``MenuDragMouseEvent``button``menuDragMouseReleased``modifiers``BUTTON1_MASK``MouseEvent.NOBUTTON``MouseEvent`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-07T10:39:32.150

请参阅[http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7181403](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7181403) - 看起来 convertMouseEvent() 最近没有更改，因此其他代码更改必须对您在 Java 7 中看到的更改负责（我可以在这里也可以使用 1.7.0_21 重现此问题）。

无论如何，看起来这个问题已经在 J​​ava 8 中解决了。

# asp.net - 来自 ftp 的图像在 mozilla 中显示，但在 chrome 中不显示

> ID：14453752
> 
> 赞同：1
> 
> 时间：2013-01-22T07:41:35.130
> 
> 标签：asp.net, mysql

我正在从事一个从 ftp 获取图像的项目。

我的问题是，当应用程序在 Mozilla 中运行时，会显示图像，并且我提供了在 app.config 中设置的用户名和密码，但在 chrome 中不显示图像。

请帮助将显示图像，我不会提供 p=用户名和密码。

# java - 是否保证所有参与线程的 compareAndSwap 都不会失败？

> ID：14453759
> 
> 赞同：7
> 
> 时间：2013-01-22T07:42:02.750
> 
> 标签：java, concurrency, compare-and-swap

假设一些“N”个线程正在尝试对一个 AtomicInteger 变量进行 CAS 处理，是否保证 CAS 必须为一个线程成功？

是否有可能所有“N”个线程都尝试失败？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:49:07.333

`compareAndSet`旨在由硬件实现，因此行为将取决于您正在运行的特定硬件。来自 java.util.concurrent.atomic：

> 此方法（不同类的参数类型不同）自动将变量设置为 updateValue，如果它当前持有预期值，成功时报告 true。这个包中的类还包含获取和无条件设置值的方法，以及下面描述的较弱的条件原子更新操作weakCompareAndSet。
> 
> 这些方法的规范使实现能够使用现代处理器上可用的有效机器级原子指令。但是在某些平台上，支持可能需要某种形式的内部锁定。因此，这些方法不能严格保证是非阻塞的——线程可能会在执行操作之前暂时阻塞。

假设典型的硬件，到达底层硬件指令的第一个线程将执行原子 CAS（假设它具有正确的初始值）并且所有其他线程都将失败。

如果底层硬件允许所有竞争线程失败，那么 Java API 中似乎没有任何东西需要不同的行为。然而，一个可能对所有线程都失败的 CAS 可能会导致活锁情况和非确定性行为，因此任何实现 CAS 的硬件都可能保证一个线程会成功。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-01T09:29:29.907

也许值得一提的是，您在[并发兴趣列表](http://cs.oswego.edu/pipermail/concurrency-interest/2013-January/010681.html)上提出了问题并得到了以下[答案](http://cs.oswego.edu/pipermail/concurrency-interest/2013-January/010682.html)：

> 是的，AtomicX.compareAndSet 可以保证。
> 
> 确实，CAS有“强”和“弱”之分，第一个不能假失败，第二个可以。AtomicX.compareAndSet 是“强”的 CAS。AtomicX.weakCompareAndSet 是“弱” CAS 的示例，并且可以在没有特定原因的情况下对所有线程虚假地失败。

在只有[LL/SC](https://en.wikipedia.org/wiki/Load-link/store-conditional)而不是直接提供强 CAS 的硬件上，强 CAS 的内部*实现*需要一个重试循环。

因此，在 Java 级别，强大的 CAS 仍然很强大，但从活锁/争用/硬件级别来看，它实际上是在重试。

# sql - 使用多个场景更新 sql 表中的单元格

> ID：14453760
> 
> 赞同：1
> 
> 时间：2013-01-22T07:42:18.443
> 
> 标签：sql, sql-update

我有一个有价值的单元格`cell = '0,B,1,D,4,T...'`（最坏的情况）

我想要的是将值更新为`'b,B,d,D,t,T...'`（最好的情况）

有时我发现值可以，`'0,B,d,D,t,T..'`所以它的值不是固定的。

我想要做的是在单元格中进行一种多重检查并替换我想要的位，直到它具有最佳案例值。例如：

```
UPDATE some_table
SET    some_table.some_col = REPLACE(some_table.some_col, '0,B', 'b,B')
WHERE  some_table.some_row = 'RELATED_ROW'
       AND some_table.some_col LIKE'%0,B%'

UPDATE some_table
SET    some_table.some_col = REPLACE(some_table.some_col, '1,D', 'd,D')
WHERE  some_table.some_row = 'RELATED_ROW'
       AND some_table.some_col LIKE'%1,D%'
.
.
. 
```

但我想知道是否可以在一个语句中做到这一点？这样我就不必执行很多单独的`UPDATE`脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T10:18:47.657

您可以将多个 REPLACE 调用嵌套在一个语句中：

```
UPDATE some_table
SET    some_table.some_col = REPLACE(REPLACE(...(some_table.some_col,
                               '0,B', 'b,B'),
                               '1,D', 'd,D'),
                               ...  , ...
                             )
WHERE  some_table.some_row = 'RELATED_ROW'
       AND (some_table.some_col LIKE '%0,B%'
         OR some_table.some_col LIKE '%1,D%'
         OR some_table.some_col LIKE ...
       )
; 
```

或者，如果这是 SQL Server 2005+，你可以这样：

```
UPDATE t
SET    t.some_col = xN.result
FROM   some_table t
       CROSS APPLY (SELECT REPLACE(t.some_col, '0,B', 'b,B')) x1 (result)
       CROSS APPLY (SELECT REPLACE(x1.result , '1,D', 'd,D')) x2 (result)
       ...
       CROSS APPLY (...                                     ) xN (result)
WHERE  t.some_row = 'RELATED_ROW'
       AND (t.some_col LIKE '%0,B%'
         OR t.some_col LIKE '%1,D%'
         OR t.some_col LIKE ...
       )
; 
```

无论哪种情况，您也可以考虑省略条件的最后一部分，

```
 AND (t.some_col LIKE '%0,B%'
         OR t.some_col LIKE '%1,D%'
         OR t.some_col LIKE ...
       ) 
```

如果多个`LIKE`测试的影响超过了潜在的非更新更新的影响（即更新不会真正改变值，但仍然发生，因此会影响整体性能）。

# c# - 如果用于监控不会发生运行时异常的代码，将尝试捕获效果性能

> ID：14453765
> 
> 赞同：1
> 
> 时间：2013-01-22T07:42:54.010
> 
> 标签：c#, .net, performance, try-catch

我正在使用 Try Catch 进行所有与数据库相关的操作。在此活动中，我甚至在向 ADO.Net 过程发送参数而不实际调用该过程的语句中也使用 Try Catch。如果我使用 Try Catch 来监视实际上永远不会发生异常的代码，它会影响应用程序的性能吗？

前任。1)

```
Try
{
    SqlParameter[] spParameters =
         { new SqlParameter("@Batch_ID", SqlDbType.BigInt),
           new SqlParameter("@Terminal_ID", SqlDbType.VarChar,8),
           new SqlParameter("@MID",SqlDbType.VarChar,15)

    spParameters[0].Value = nBatch_ID;
    spParameters[1].Value = strTerminal_ID;
    spParameters[2].Value = strMID;

    objResponse.ResponseValue = MyBlock.ExecuteDataset(strConString,
                                               "Insert_Act_Txn", spParameters);

}
catch(Exception Ex)
{
          //logger function to write exception in log file
} 
```

前任。2)

```
SqlParameter[] spParameters =
          { new SqlParameter("@Batch_ID", SqlDbType.BigInt),
            new SqlParameter("@Terminal_ID", SqlDbType.VarChar,8),
            new SqlParameter("@MID",SqlDbType.VarChar,15)

spParameters[0].Value = nBatch_ID;
spParameters[1].Value = strTerminal_ID;
spParameters[2].Value = strMID;

Try
{
    objResponse.ResponseValue = MyBlock.ExecuteDataset
                               (strConString, "Insert_Act_Txn", spParameters);

}
catch(Exception Ex)
{
      //logger function to write exception in log file
} 
```

在示例中 - 我正在使用 try catch 语句为过程创建参数并为其分配值，其中运行时异常永远不会发生，而不是调用实际过程，但在 Ex.-2 中，我仅在实际调用时使用它这个程序。

如果我从性能的角度考虑，哪种方式好

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T07:53:46.253

Try 没有性能开销；您可以安全地使用它；如果您抛出异常，它将产生性能开销。

另一方面，优化不在 try 块内执行；但这不会产生开销，除非您有正确的代码（您可以参考[try-catch performance](http://msmvps.com/blogs/peterritchie/archive/2007/06/22/performance-implications-of-try-catch-finally.aspx)）。

来自[msdn 性能提示](http://msdn.microsoft.com/en-us/library/ms973839.aspx?ppud=4)：“查找和设计掉异常密集的代码可以带来不错的性能胜利。请记住，这与 try/catch 块无关：只有在引发实际异常时才会产生成本。你"

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T09:00:28.757

例外总是代价高昂，因为…… 考虑抛出异常时发生的一些事情：

• 通过解释编译器发出的元数据来获取堆栈跟踪，以指导我们的堆栈展开。

• 在堆栈中向上运行一系列处理程序，调用每个处理程序两次。

• 补偿 SEH、C++ 和托管异常之间的不匹配。

• 分配一个托管异常实例并运行它的构造函数。这很可能涉及查找各种错误消息的资源。

• 可能需要浏览操作系统内核。经常出现硬件异常。

• 通知任何附加的调试器、分析器、向量异常处理程序和其他相关方。

除非或其他需要，否则不要使用 Try,Catch。

> 但是当您使用数据库 API 时，我们不再能够控制可能发生的事情。因此，使用 try 包装这些调用并使用适当的 SQLException 捕获它是安全的。

# html - 有没有类似于 Twitter Bootstrap 的东西使用 Mustache 模板？

> ID：14453767
> 
> 赞同：1
> 
> 时间：2013-01-22T07:43:01.903
> 
> 标签：html, css, ruby-on-rails, templates, twitter-bootstrap-rails

寻找`HTML/CSS/Javascript`Rails 应用程序的模板，但使用 Mustache 模板的应用程序。

这样的事情存在吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:54:00.257

[https://github.com/anjlab/bootstrap-rails/tree/master/vendor/twitter/docs/templates/pages](https://github.com/anjlab/bootstrap-rails/tree/master/vendor/twitter/docs/templates/pages)在 bootstrap-rails 中有一些 mustache 模板，但我没有找到类似 mustache-bootstrap-rails 的东西. 真奇怪。也许这是你做一个有用的 gem 或将胡子生成器添加到 bootstrap-rails 的机会:)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:55:32.473

是的。使用基础 zurb 了解更多详情，请访问 [http://foundation.zurb.com/](http://foundation.zurb.com/)

# android - 使用带有 ormlite 的预填充数据库

> ID：14453770
> 
> 赞同：4
> 
> 时间：2013-01-22T07:43:14.760
> 
> 标签：android, ormlite

我想在资产文件夹中使用大型数据库发布我的应用程序。[Android SQLiteAssetHelper](https://github.com/jgilfelt/android-sqlite-asset-helper)似乎是解决这个问题的方法。

但是，该应用程序也使用 ormlite，并且它有许多映射到数据库表的 Java 对象。如何让 ormlite 使用预填充的数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-23T15:17:10.113

我创建了我自己的扩展 OrmLiteSqliteOpenHelper 的 SqliteOpenHelper，然后在里面我复制了 SQLiteAssetHelper 中的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-01T21:26:50.003

您可以摆脱 SQLiteAssetHelper 并实现此[DatabaseInitializer 类](https://github.com/bfil/android-ormlite-sample/blob/master/src/com/bfil/ormliterepo/data/DatabaseInitializer.java)，它将您的数据库（如果它不存在）复制到`data/data/yourapp/databases/yourdb.db`（ormlite 生成数据库的文件夹）

在您的 DatabaseHelper 构造函数中：

```
public DatabaseHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);

    DatabaseInitializer initializer = new DatabaseInitializer(context);
    try {
        initializer.createDatabase();
        initializer.close();

    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

干净简单的解决方案

一些小缺点：
- 仅适用于 Android 2.2.3+
- 注意大小（3mb 没有遇到任何问题）

# wolfram-mathematica - 在 Mathematica 中调用第三方 DLL

> ID：14453772
> 
> 赞同：3
> 
> 时间：2013-01-22T07:43:30.733
> 
> 标签：wolfram-mathematica

我很难在 Mathematica 中调用第三方 DLL 表单。我的代码是：

```
 qmConnectLocal = 
         LibraryFunctionLoad["C:\\Windows\\QMClient.dll", 
         "QMConnectLocal" , {String}, Bool] 
```

我得到的是：

```
 LibraryFunction::btype: Invalid type and/or rank specification in String. >> 
```

我是 Mathematica 代码的新手，无法理解它试图告诉我的内容。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T11:44:37.440

文档说它必须是`"UTF8String"`（带引号）而不是`String`. 那么当你尝试时会发生什么

```
qmConnectLocal = LibraryFunctionLoad["C:\\Windows\\QMClient.dll", 
 "QMConnectLocal" , {"UTF8String"}, Bool] 
```

# groovy - 在 Groovy 中使用自定义元素迭代 Map？

> ID：14453778
> 
> 赞同：2
> 
> 时间：2013-01-22T07:43:42.543
> 
> 标签：groovy

这听起来可能很简单，但在如何使用自定义元素/键和值配对并仅打印姓氏来迭代 Map 时遇到了一些困难。任何建议都会受到欢迎！

## 代码

```
def map = ['user1':[firstname:'mark',surname:'spencer',role:"developer"],
          ['user2':[firstname:'mark',surname:'melony',role:"developer"]] 
```

## 预期产出

姓氏 1：斯宾塞
姓氏 2：梅洛尼

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:58:20.473

这应该这样做

```
def map = [ 'user1':[firstname:'mark',surname:'spencer',role:"developer"],
            'user2':[firstname:'mark',surname:'melony',role:"developer"] ]               

map.eachWithIndex { key, map2, idx ->
  println "surname ${idx + 1} - $map2.surname"
} 
```

# ios - IOS-page-based Application如何加载图片？

> ID：14453779
> 
> 赞同：-6
> 
> 时间：2013-01-22T07:43:44.100
> 
> 标签：ios, image

IOS-page-based Application如何加载图片？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:36:38.933

`UIImageView`在您的视图中添加一个。

# javascript - 我的 Web 服务器上的一个未知 js 文件

> ID：14453780
> 
> 赞同：0
> 
> 时间：2013-01-22T07:43:44.210
> 
> 标签：javascript, virus, trojan

我是管理 Web 服务器的新手，我维护服务器并确保服务器适用于其他 Web 程序员，我发现了一个可能是恶意的 js 文件，我检查了 Web 服务器日志，该 JS 文件包含在我没有的站点中不知道，网络日志的部分：

```
[23/Dec/2012:04:03:59 +0800] "GET /l/zj.js HTTP/1.0" 200 52591 "http://www.observechina.net/" "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; KB974488)"

[23/Dec/2012:04:10:37 +0800] "GET /l/zj.js HTTP/1.0" 304 - "http://www.observechina.net/" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)"

[23/Dec/2012:04:10:39 +0800] "GET /l/zj.js HTTP/1.0" 304 - "http://www.observechina.net/" "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)"

[23/Dec/2012:04:12:03 +0800] "GET /l/zj.js HTTP/1.1" 200 52591 "http://www.observechina.net/" "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; @h%Ag|1%|x/O{ZqBsQ_R{=q?TnQk+&rpJrB-+_; msn OptimizedIE8;ZHCN; .NET CLR 2.0.50727) AppEngine-Google; (+http://code.google.com/appengine; appid: zqbah3)" 
```

JS文件是：

[https://docs.google.com/document/d/1IGLK5OlrgsSregEo8AahlyhcjgUJgftQ6Imm8NIZjWM/edit](https://docs.google.com/document/d/1IGLK5OlrgsSregEo8AahlyhcjgUJgftQ6Imm8NIZjWM/edit)

JS文件真的是恶意的吗？我删了吗？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:55:02.333

这是一个来自 openjfx 的文件。有人会出于某种原因把它放在那里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:47:05.487

你不知道它的来源，加上文件来自“observechina.net”？唔...

恶意与否，它并非源于您。我建议只是删除它。

如果该文件真的很重要，那么有人会在某处进行备份。

# java - 导致堆空间用完的可能原因是什么？是否有避免这种情况的最佳实践？

> ID：14453782
> 
> 赞同：3
> 
> 时间：2013-01-22T07:43:59.737
> 
> 标签：java, scala

嗨两个问题，如果我可以学习？

1.  在 Scala 或 Java 中导致堆空间不足的可能原因有哪些？
2.  有避免它的最佳做法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T07:46:23.193

当您启动一个`Java`进程时，它会设置一个默认的 maxHeapMemory，即该进程可以使用的最大堆内存。您可以传递一个命令行参数来增加它，但根据您的应用程序的内存使用情况，它可能仍然不够。内存泄漏是另一个问题，它可能会耗尽您的内存（不释放它以进行垃圾收集），这可能会导致内存不足问题。设置开始分配的堆内存和允许的最大堆内存取决于您的应用程序及其内存使用情况，您可以为此判断、测试和分析您的应用程序（内存使用情况）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:50:25.023

您必须首先了解您的堆内存。另一方面，您的应用程序可能存在内存泄漏。您可以帮助 JVM 的垃圾收集器的一种方法是取消您的引用。试试看这个问题[Understanding Java Memory Management](https://stackoverflow.com/questions/13855013/understanding-java-memory-management)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T07:51:40.880

我们可以通过转到控制面板>Java>Java 选项卡>查看>Java 运行时环境> 来分配 maxHeapmemory 大小

Assisgn RunTime 参数大小根据要求例如：-Xmx4000m

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-22T10:14:06.870

1) 最大堆内存量。解决方案：

```
-Xmx    // maximal amount of heap memory parameter
-d32    // 32-bit VM 
```

2）堆内存永久代空间。解决方案：

```
-XX:MaxPermSize 
```

3) 内存泄漏。解决方案：

*   代码审查
*   使用`jVisualVM`(../java/bin/jvisualvm )进行分析
*   `FindBugs`工具或类似物

4)`System.gc`建议执行垃圾收集器。

可以通过监视内存消耗来处理 OutOfMemoryError `Runtime.freeMemory`，`Runtime.maxMemory`和`Runtime.totalMemory`，并在您的应用程序中以对内存消耗要求较低的模式执行`System.gc`切换（例如将数据交换到磁盘或数据库）。一个关键决定（在我的用例中）是实现一个函数，如果内存不足，对于特定线程，每个时间间隔执行 System.gc 不超过一次。

当然，一个系统可以很容易地自行进行交换，但它会更慢，而且通常你在一台机器上拥有多个生产中的 VM。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-22T11:41:32.357

在使用范围内定义对象大大减少了进行大量内存管理的需要，并简化了您的编码方式。

经验法则 - 与全局对象相比，本地对象通常是一个更好的主意。

```
class AddThem{
    private int sumGlobal = 0; //Usually bad idea for long lived processes

    public int addThem(int a, int b){
        int sumLocal;
        sumLocal = a + b
        return sumLocal;
    }
} 
```

这可能被简化了太多，但如果 sumGlobal 是对象的集合......它们会保留在内存中，直到 AddThem 的实例被垃圾收集。sumLocal 遭受了不同的命运，在这种情况下更好。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-22T16:01:02.253

Scala 特有的这个问题并不多。这几乎只是一个 JVM 问题。不平凡的程序（Scala*或*Java）超过默认的 JVM 堆限制是很常见的。

Scala 特有的事实是，每个函数字面量和名称参数都被编译为一个单独的类。在 Scala 中创建函数文字时很容易不知道，因为它使使用它们变得如此容易，就像函数式编程的重点一样。

So, in large Scala programs this can sometimes lead to an exhaustion of the Perm-Gen space where classes are loaded (as opposed to the "ordinary" heap spaces from which instances of user-defined classes are allocated). The JVM has separate options for setting the Perm Gen size. In the "stock" Oracle JVM it's `-XX:MaxPermSize=###u` (where `u` is a units character, `k` for kilo-, `m` for mega- and `g` for giga-bytes).

# magento - 使用自定义模块将 SKU 添加到 Magento 中的 sales_flat_quote

> ID：14453783
> 
> 赞同：0
> 
> 时间：2013-01-22T07:44:11.330
> 
> 标签：magento, moodle

为了将 Magento 与 Moodle（一个 LMS）集成，我需要用户数据和在单个表中购买的商品的 SKU。最接近的表是 sales_flat_quote。如果我可以将购买的 SKU 分配给它，那么 Moodle 可以在登录时检查该表并将购买的课程添加到用户个人资料中。

使用[Ivan Chepurnyi 的教程](http://www.ecomdev.org/2010/07/27/adding-order-attribute-to-orders-grid-in-magento-1-4-1.html)，这个[相关的帖子](https://stackoverflow.com/questions/6482642/in-magento-how-do-i-populate-a-new-column-in-sales-order-grid-with-data-from-sa?rq=1)和​​这个[类似的线程](https://stackoverflow.com/questions/7272879/magento-add-field-to-sales-flat-quote)，我设法创建了一个模块，用于写入测试服务器上的日志。现在它不再做任何事情了。

我在 \app\etc\modules\minerva_moodleConnect.xml 中有这个：

```
<?xml version="1.0" encoding="utf-8"?>
<config>
  <modules>
    <minerva_moodleConnect>
      <active>true</active>
      <codePool>local</codePool>
    </minerva_moodleConnect>
  </modules>
</config> 
```

我在 \app\code\local\minerva\moodleConnect\etc\config.xml 中有这个：

```
<?xml version="1.0" encoding="utf-8"?>
<config>
  <modules>
    <minerva_moodleConnect>
      <version>0.0.1</version>
    </minerva_moodleConnect>
  </modules>
  <global>
    <models>
      <minerva_moodleConnect>
        <class>minerva_moodleConnect_Model</class>
      </minerva_moodleConnect>
    </models>
    <resources>
      <minerva_moodleConnect>
        <setup>
          <module>minerva_moodleConnect</module>
          <class>Mage_Sales_Model_Mysql4_Setup</class>
        </setup>
      </minerva_moodleConnect>
    </resources>
    <events>
      <sales_order_place_after>
        <observers>
          <minerva_moodleConnect>
            <type>singleton</type>
            <class>minerva_moodleConnect_Model_observer</class>
            <method>registerCourse</method>
          </minerva_moodleConnect>
        </observers>
      </sales_order_place_after>
    </events>
  </global>
</config> 
```

我在 \app\code\local\minerva\moodleConnect\model\observer.php 中有这个：

```
<?php
class minerva_moodleConnect_Model_Observer
{
    public function __construct()
    {

    }
    public function registerCourse(Varien_Event_Observer $observer)
    {

        // Retrieve the product being updated from the event observer

        Mage::log("register course called");
        /* @var $resource Mage_Sales_Model_Mysql4_Order */

        /*$resource = $observer->getEvent()->getResource();
        $resource->addVirtualGridColumn(
            'sku',
            'sales/flat_quote',
            array('sku' => 'sku'),
            'sku'
        );*/

    }
} 
```

这在 \app\code\local\minerva\moodleConnect\sql\minerva_moodleConnect_setup\mysql4-install-0.1.0.php 中：

```
<?php
/**
 * Setup scripts, add new column and fulfills
 * its values to existing rows
 *
 */
/* @var $this Mage_Sales_Model_Mysql4_Setup */
$this->startSetup();
// Add column to grid table
$this->getConnection()->addColumn(
    $this->getTable('sales/flat_quote'),
    'sku',
    "varchar(255) not null default ''"
);
// Add key to table for this field,
// it will improve the speed of searching & sorting by the field
$this->getConnection()->addKey(
    $this->getTable('sales/flat_quote'),
    'sku',
    'sku'
);
// Now you need to fullfill existing rows with data from address table
$select = $this->getConnection()->select();
$select->join(
    array('sku'=>$this->getTable('sales/flat_quote_item')),
    $this->getConnection()->quoteInto(
        'sku.sku = flat_quote_item.sku',
        Mage_Sales_Model_Quote_Address::TYPE_BILLING
    ),
    array('sku' => 'sku')
);
$this->getConnection()->query(
    $select->crossUpdateFromSelect(
        array('sku' => $this->getTable('sales/flat_quote'))
    )
);
$this->endSetup(); 
```

至此，我在很大程度上猜测与我的案例相关的变化。我的想法是我想复制SKU并调用新的行SKU。不过，其他一切都感觉很扎实。

有没有善良的灵魂可以拍打我的手腕让我重回正轨？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-08T11:11:44.220

我正在使用这样的东西向订单和报价表添加一些字段：

```
<?php
/* @var $installer Mage_Core_Model_Resource_Setup */
$installer = $this;
$installer->startSetup();

Mage::app()->setCurrentStore(Mage::getModel('core/store')->load(Mage_Core_Model_App::ADMIN_STORE_ID));

$installer = new Mage_Sales_Model_Mysql4_Setup;

$attribute  = array(
    'type'          => 'text',
    'backend_type'  => 'text',
    'frontend_input' => 'text',
    'is_user_defined' => true,
    'label'         => 'External Reference',
    'visible'       => true,
    'required'      => false,
    'user_defined'  => false,
    'searchable'    => false,
    'filterable'    => false,
    'comparable'    => false,
    'default'       => ''
);

$installer->addAttribute('order', 'ext_reference', $attribute);
$installer->addAttribute('quote', 'ext_reference', $attribute);

$attribute  = array(
    'type'          => 'text',
    'backend_type'  => 'text',
    'frontend_input' => 'text',
    'is_user_defined' => true,
    'label'         => 'License Plate',
    'visible'       => true,
    'required'      => false,
    'user_defined'  => false,
    'searchable'    => false,
    'filterable'    => false,
    'comparable'    => false,
    'default'       => ''
);

$installer->addAttribute('order', 'licenseplate', $attribute);
$installer->addAttribute('quote', 'licenseplate', $attribute);

$installer->endSetup(); 
```

# java - 如何设置方法优先级以便在运行时从工作线程更新 Java-Gnome GUI 组件

> ID：14453785
> 
> 赞同：0
> 
> 时间：2013-01-22T07:44:35.817
> 
> 标签：java, multithreading, user-interface, gtk, gnome

我有一个像这样初始化的 Java-Gnome GUI：

```
public static void main(String[] args) {
    Gtk.init(args);
    new GTK();
    Gtk.main();
}

public GTK() {
    initUI(this);
    //Exit GUI cleanly if close pressed
    connect(this);
    showAll();
}

public void initUI(final GTK gtk) {
    //Add various panes, boxes, buttons etc...
    //All my UI updates made at runtime here work correctly

    start.connect(new Button.Clicked(){

    @Override
    public void onClicked(Button start){
    worker = new worker(fileList, gtk);
    Thread workerThread = new Thread(worker);
    workerThread.start();

    Glib.idleAdd(new Handler(){
    public boolean run(){

    progress = worker.getProgress();

    if(progress != 1){
        progressBar.setFraction(progress);
        return true;
    }
    else{
          progressBar.setFraction(progress);
          return false;
                }
             }
         });
            }
    });
} 
```

其中progressBar 是我的GUI 中的一个组件（org.gnome.gtk.ProgressBar），但progressBar 直到一切都完成运行后才会更新，它似乎被放在队列的后面并且只是在最后执行而不是立即如我所愿。

[http://java-gnome.sourceforge.net/NEWS.html](http://java-gnome.sourceforge.net/NEWS.html)

[http://java-gnome.sourceforge.net/doc/api/4.1/org/gnome/glib/Glib.html#idleAdd(org.gnome.glib.Handler)](http://java-gnome.sourceforge.net/doc/api/4.1/org/gnome/glib/Glib.html#idleAdd%28org.gnome.glib.Handler%29)

编辑。

我的工作线程首先跨越两个类：

```
public class auCDtect implements Runnable { 

private String processingLog;
private String output;
private String summary;
private Collection<String> fileList;
private double progress = 0.0;
private GTK gtk;

auCDtect(Collection<String> fileList, GTK gtk){this.fileList = fileList; this.gtk = gtk;}

public void run () {

    List<String> command = new ArrayList<String>();
    command.add("./auCDtect");
    command.add("-d");
    command.add("-m10");

    //Add each song passed to this class to the auCDtect command
    for(String file:fileList){

        command.add(file);
    }
    ProcessBuilder processBuilder = new ProcessBuilder(command);

        Process process = null;
        try {
            process = processBuilder.start();
        } catch (IOException e) {
            e.printStackTrace();
        }

        //Set up error stream thread 
        StreamGobbler errorGobbler = new StreamGobbler(process.getErrorStream(), "ERROR", this); 

        //Set up output stream thread
        StreamGobbler outputGobbler = new StreamGobbler(process.getInputStream(), "OUTPUT", this); 

        // Start error and input stream threads
        new Thread(errorGobbler).start(); 
        new Thread(outputGobbler).start(); 
  }

public void update(double progress, String processingLog, String output, String summary){

    this.processingLog = processingLog;
    this.output = output;
    this.summary = summary;
    this.progress = progress/(fileList.size());
    gtk.setOutputUpdated(true);
    try {
        Thread.sleep(100);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
}

public double getProgress(){

    return progress;
}

public String getProcessingLog(){

    return processingLog;
}

public String getOutput(){

    return output;
}

public String getSummary(){

    return summary;
} 
```

}

第二个由第一个产生：

```
public class StreamGobbler implements Runnable { 

InputStream inputStream; 
String type;
private String processingLog = null;
private String output = null;
private String summary = null;
protected boolean finished = false;
private auCDtect auCDtect;
private int progress = 0;

StreamGobbler(InputStream inputStream, String type, auCDtect auCDtect){this.inputStream = inputStream; this.type = type; this.auCDtect = auCDtect;} 

public void run(){ 

    Scanner scanner = new Scanner(inputStream);

    while (((scanner.hasNextLine())&&(type == "OUTPUT"))){

        String line = scanner.nextLine();

        if(line.contains("Processing file:")){
            processingLog = line.substring(line.indexOf("P"), (line.indexOf("]")+1));
        }
        if(line.contains("This track looks like")){
            output = line.substring(line.indexOf("This track"), (line.indexOf("%")+1));
            progress = progress + 1;
        }
        if(line.contains("These")){
            summary = line.substring(line.indexOf("These tracks"));
        }

        if((type == "OUTPUT")&&(progress > 0)){

            auCDtect.update(progress, processingLog, output, summary);
            processingLog = null;
            output = null;
            summary = null;
        }
    }

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:42:14.460

不确定这适用于java版本，我更习惯C版本，但无论如何......

尝试更新主线程的不应该是工作线程，而是相反。从处理`clicked`信号的回调中，您应该调用`idleAdd`，并创建和运行您的工作线程。在工作线程中，您更新主线程可以访问的变量，以及您将放置进度值的位置。然后，主循环将偶尔运行一次空闲处理程序，并读取该值。然后它会更新进度条，但重要的是这个调用是从主线程完成的。

GTK 不是线程安全的，因为大多数工具包（java 版本可能接近于线程安全，但我不是 100% 确定，并且在 GTK 中所做的后续更改可能会在将来破坏这一点，所以我不会依赖它）。因此，您的工作线程不应与用户界面组件混淆。

对此持保留态度，我知道 C 中的一些 GTK，而不是 java-gnome，所以我可能完全错了，`idleAdd`无论如何文档似乎都证实了这一点。

# git - git hook post-update 不执行 server-update-info

> ID：14453793
> 
> 赞同：2
> 
> 时间：2013-01-22T07:45:15.317
> 
> 标签：git

这是一个到目前为止我无法解决的话题，所以我希望你们中的一些人能帮助我。

这是我的情况：

*   有两个服务器：ServerA 和 ServerB
*   在 ServerA 上有三个标准存储库（r1、r2、r3）和一个中央裸存储库（b_rep）。在 r1、r2、r3 上，开发人员正在工作并且都是 b_rep 的克隆。所以他们在 b_rep 中推拉
*   在 ServerB 上，有一个存储库，它也是远程 b_rep 的克隆。这个 ServerB-rep 只是拉

我的问题是：在每次拉入 ServerB-rep 之前，我必须手动更新 b_rep 中的服务器信息（在 ServerA 上）。我将 hooks/post-update.sample 重命名为 hooks/post-update 并保持其内容不变。据我了解，它应该在每次推送到 b_rep 时执行 update-server-info 命令。我的目标是不必在每次拉动 ServerB-rep 之前手动更新服务器信息。但它不适用于钩子。

我究竟做错了什么？

# batch-file - 通过批处理脚本执行一个文件夹中的所有文本文件

> ID：14453795
> 
> 赞同：0
> 
> 时间：2013-01-22T07:45:19.173
> 
> 标签：batch-file

如何使用特定文件夹中的所有 .txt 文件作为批处理脚本的输入，而不必单独硬编码它们的名称？

简而言之：我希望批处理脚本处理它所在目录中的所有 .txt 文件。

当前代码：

```
for /f "tokens=4 delims=|" %%a in (filename1.txt) do (...) 
```

...只读取一个。

我尝试了以下不起作用的方法：

```
for /f "tokens=4 delims=|" %%a in ('dir /b C:\BatchScripting') do (..) 
```

和：

```
for /f "tokens=4 delims=|" %%a in (*.txt) do (...) 
```

这也是：

```
for /f "tokens=4 delims=|" %%a in (%%~dpnx) do (...) 
```

但无济于事。帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:50:43.370

我想你在这之后

```
for %%x in (*.txt) do (
for /f "tokens=4 delims=|" %%a in (%%x) do (...)
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:16:12.823

如果您更具体地了解您想要实现的目标，这将更容易回答。根据我对您的问题的解释，这是一个可能的解决方案；在命令行上使用 FOR 循环，如下所示

```
FOR %A IN *.txt DO CALL <batch_script> [parameters] 
```

上述陈述的一般形式是

```
FOR %A IN (list) DO command [ parameters ] 
```

其中 (list) 是您要执行的项目集，操作命令是任何内部/外部命令或批处理脚本，如图所示。

# c# - 在 WPF 中使用 PrintDocument

> ID：14453796
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:45:23.787
> 
> 标签：c#, wpf

我如何在 WPF 中使用以下代码？

```
private void printDocument1_PrintPage(object sender, PrintPageEventArgs e)
    {
        e.Graphics.DrawString("Name", new Font("tahoma", 10), Brushes.Black, 100, 100);
        e.Graphics.DrawString("Last", new Font("tahoma", 10), Brushes.Black, 100, 120);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T09:04:04.790

由于要点，我还不能发表评论，但是您显示的是添加到事件处理程序的方法，这是我为将文本打印到文档中所做的示例：

向事件处理程序添加方法：

```
 printDocument.PrintPage += new System.Drawing.Printing.PrintPageEventHandler(printDocument_PrintPage); 
```

事件处理程序方法（您发布的案例）：

```
 void printDocument_PrintPage(object sender, System.Drawing.Printing.PrintPageEventArgs e)
    {
        int charactersOnPage = 0;
        int linesPerPage = 0;

        // Sets the value of charactersOnPage to the number of characters  
        // of stringToPrint that will fit within the bounds of the page.
        e.Graphics.MeasureString(stringToPrint, printFont,
            e.MarginBounds.Size, System.Drawing.StringFormat.GenericTypographic,
            out charactersOnPage, out linesPerPage);

        // Draws the string within the bounds of the page
        e.Graphics.DrawString(stringToPrint, printFont, System.Drawing.Brushes.Black,
            e.MarginBounds, System.Drawing.StringFormat.GenericTypographic);

        // Remove the portion of the string that has been printed.
        stringToPrint = stringToPrint.Substring(charactersOnPage);

        // Check to see if more pages are to be printed.
        e.HasMorePages = (stringToPrint.Length > 0);
    } 
```

关闭打印：

```
 printDocument.Print(); 
```

# android - 这是从另一个活动中的一个活动元素传递元素的好方法。Putextra() 方法或 sharedpreferences();

> ID：14453798
> 
> 赞同：0
> 
> 时间：2013-01-22T07:45:30.820
> 
> 标签：android, android-intent, sharedpreferences

这是从另一个活动中的一个活动元素传递元素的好方法。

`Putextra()`方法或`sharedpreferences()`；

例如，我有来自列表的元素，它将在所有活动中使用，如in`Activity A`等。`Activity B``Activity C`

从列表中，我将元素保存在共享首选项中，我们将使用保存在共享首选项中的值`Activity A`。

将这些值发送`Activity A`到 B Activity。将这些值发送`Activity A`到 C 活动。使用`putExtra()`方法。

我们是否可以在所有活动中使用该共享首选项文件，而不是将价值从一个活动发送到另一个活动。

实际上我在 put`extra()`方法中遇到了错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:53:03.583

这取决于您传递的数据。你为什么不做共享静态类。并在所有活动中使用该类来访问数据，这将为您提供一致的交互和管理方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:53:27.200

它实际上是一个简单的规则。如果您想存储数据以供以后使用，您必须使用共享首选项或任何其他形式的内部存储。

如果您需要该对象在应用程序的生命周期内存在，我认为您应该使用 putExtra()。

原因是，你必须尽量避免使用内存。如果您将数据存储在您的偏好中没有用处，那么就会浪费内存。

如果在 putextra 中出现错误是您唯一的问题，那么发布代码将有助于我们看到并指导您。

# python - MousePressEvent 捕获不必要的信号-PyQt4

> ID：14453799
> 
> 赞同：1
> 
> 时间：2013-01-22T07:45:31.960
> 
> 标签：python, mouseevent, pyqt4, polygon, qgraphicsview

所以我有一个带有 QGraphicsPolygonItem 的 QraphicsScene ，我将其标记为可移动。而且我还覆盖了 MousePressEvent。我的代码片段现在。

```
def mousePressEvent(self , e):
    self.endx = e.x()
    self.endy = e.y()
    if self.sender == 1:
        self.LineChange(self.endx , self.endy)

#...

def CreateFun(self):
    poly = QtGui.QPolygonF([QtCore.QPointF(100 , 100) , QtCore.QPointF(100 , 200) , QtCore.QPointF(200 , 200)])
    self.polygon = QtGui.QGraphicsPolygonItem(poly)
    self.scene.addItem(self.polygon)
    self.polygon.setFlag(QtGui.QGraphicsItem.ItemIsMovable) 
```

但是多边形没有移动。当我注释掉 MousePressEvent 时，它移动得很好。我的猜测是 MousePressEvent 会在 PolygonItem 之前捕获它。

而上面的函数都来自一个继承自QtGui.QGraphicsView的类。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T19:42:36.533

您应该调用`mousePressEvent`. `QGraphicsView`通常会将这些点击传递给可能使用它们的其他项目。如果您不调用基本实现，那么您基本上是在“捕获”点击。

修改您`mousePressEvent`的如下：

```
def mousePressEvent(self , e):
    self.endx = e.x()
    self.endy = e.y()
    if self.sender == 1:
        self.LineChange(self.endx , self.endy)
    # let the base implementation do its thing
    super(Palette, self).mousePressEvent(e) 
```

# android - 如何避免随机字符串重复出现

> ID：14453804
> 
> 赞同：0
> 
> 时间：2013-01-22T07:46:02.590
> 
> 标签：android, random, repeat, arrays

我喜欢将字符串数组中的一些字符串随机显示到 Textview 中。我正在使用以下代码，但问题是大多数时候重复显示某些字符串。我想要的是曾经显示的字符串不应该再次显示。我花了几个小时搜索代码，但没有其中为我工作。请帮忙。提前致谢。

```
public void GetQuotes(View view) {
     Resources res = getResources();
            myString = res.getStringArray(R.array.Array);
            String q = myString[rgenerator.nextInt(myString.length)];                               
            TextView tv = (TextView)findViewById(R.id.textView1);               
            tv.setText(q); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:23:26.263

Java内置了数组混洗方法，将所有项目放入一个列表中，随机混洗，并获取第一个元素直到它有元素。如果为空，则再次添加所有元素，然后再次洗牌：

```
private List<String> myString;

public void GetQuotes(View view) {
    Resources res = getResources();
    if (myString==null || myString.size()==0) {
        myString = new ArrayList<String>();
        Collections.addAll(myString, res.getStringArray(R.array.Array));
        Collections.shuffle(myString); //randomize the list
    }
    String q = myString.remove(0);
    TextView tv = (TextView)findViewById(R.id.textView1);
    tv.setText(q);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:56:08.663

# 这是一个非常简单的解决方案。

现在，当我说这话时，如果你想要一个简单的解决方案，你可以有一个专用的字符串变量来存储最后使用的问题。那么如果你把它初始化为一个空字符串就变得很简单了。假设变量最后被调用。

```
String q = myString[rgenerator.nextInt(myString.length)]; 
//q has a string which may or may not be the same as the last one
//the loop will go on until this q is different than the last
//and it will not execute at all if q and last are already different
while (last.equals(q))
{
    //since q and last are the same, find another string
    String q = myString[rgenerator.nextInt(myString.length)]; 
};
//this q becomes last for the next time around
last = q; 
```

现在在其他几个问题中，这里要记住的一个关键是，这只是确保 q[1] 不能跟随 q[1]，但它并不能完全避免这样的情况，只是为了荒谬，说 q[1] , q[2], q[1], q[2] 等等。

# 这是一个同样简单的 ArrayList 。

```
List<String> list1 = new ArrayList<String>();
List<String> list2 = new ArrayList<String>();
for (int i = 0; i < myString.length)
{
    list1.add(myString[i]);
}
q = (String)list1.get(rgenerator.nextInt(list1.size()));
list1.remove(q);
list2.add(q);
if (list1.isEmpty())
{
    list1.addAll(list2);
    list2.clear();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:53:04.253

我建议要么手动检查它之前是否使用过，要么使用一个集合，然后在该集合中写入字符串。

[http://developer.android.com/reference/java/util/Set.html](http://developer.android.com/reference/java/util/Set.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T08:11:16.443

数组和列表通常不是为了避免重复而设计的，它们被设计为一种保持许多元素顺序的集合。如果您想要一个更适合该工作的集合，那么您需要一个集合：

```
 Set<String> set = new HashSet<String>(); 
```

以避免重复。

# c++ - 只要不是永远在 DllMain (PROCESS_DETATCH) 中等待就可以吗？

> ID：14453805
> 
> 赞同：1
> 
> 时间：2013-01-22T07:46:07.370
> 
> 标签：c++, multithreading, winapi, dll

我正在编写一个通过 USB 与硬件通信的接口 Dll。为了完全满足硬件的时序要求（防止它在没有操作消息的情况下超时等），只要我的“Open()”方法被调用，我就会为每个延迟初始化创建一个工作线程。当我的“close()”方法被调用时，我设置了一个名为“terminate”的事件，该事件由工作线程监视并等待工作线程终止。终止最多需要几百毫秒，因为需要与硬件交换一些消息。

到目前为止一切顺利，唯一的问题是当程序在不调用我的“Close（）”方法的情况下卸载 Dll 时......我通过在 DllMain（PROCESS_DETATCH）中设置“终止”事件解决了这个问题，我很确定我' m 允许做并且仍然完整填写最佳实践。唯一的问题是，如果 Dll 在没有调用 close 的情况下卸载但在旧工作线程终止之前再次重新加载，我会导致加载我的 Dll 的过程超时，因为我正在等待旧工作线程完成。

所以这是我的问题：如果我只在工作线程存在并且只有当我被卸载（通过freeLibrary）和不是当我的整个过程被终止时，我通过查看 lpvReserved 参数来测试？

另外：有没有更好的方法来解决我的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:51:40.553

唯一会发生的事情是让调用的线程`FreeLibrary`（FreeLibrary 不是异步的，它等待返回值）只要您的模块正在卸载就等待。

我已经制作了一些 DLL，有时甚至是`while(!IsDebuggerAttached()){}`DLLMain 附加/分离中的循环，并且我测试的程序的行为就像他们需要的那样。

至于其他问题解决方案：除了具有相同功能的 DLLMain 附加/分离之外，您为什么还需要其他任何东西？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T10:36:52.057

我在我的 PROCESS_DETACH 中实现了一个等待，它起初可以工作，但在一个极端情况下，它最终导致了问题。问题是我们的调试输出设置加载了一个专有 DLL 以在调试输出中包含版本信息。如果我们的 DLL 被快速加载和卸载，并且在后台有足够多的事情导致这个版本信息读取速度很慢，那么它可能最终发生在进程在 PROCESS_DETACH 中等待的时间，从而导致死锁。

对于未来，我决定永远不要在 DllMin 中等待任何东西，因为我等待的任何东西都可能在某些极端情况下或在其他人向某个被触及的类添加功能之后，导致加载程序锁死锁。

我希望这个建议对将来的人有所帮助。

# android - 我无法运行我的应用程序，因为我的 htc 所需设备是 api 级别 8 (Android 2.2) 我该怎么办？

> ID：14453807
> 
> 赞同：3
> 
> 时间：2013-01-22T07:46:18.860
> 
> 标签：android, eclipse

在我的应用程序中使用这个：

```
private LayoutParams params; 
```

因为它需要 api 级别 11，所以我得到了错误。所以在我的清单文件中，我将这一行从 8 更改为 11：

```
<uses-sdk android:minSdkVersion="11" /> 
```

现在我没有在日食中出错。但是，一旦我尝试运行该应用程序，我就会看到这个 Android 设备选择器窗口，并且在我的设备上看到目标是 2.2，附近有红色 X。如果我单击确定并尝试运行它，我会在 Eclipse 的控制台窗口中收到错误：

```
[2013-01-22 09:43:33 - AndroidVideoCapture] ERROR: Application requires API version 11\. Device API version is 8 (Android 2.2).
[2013-01-22 09:43:33 - AndroidVideoCapture] Launch canceled! 
```

如何将我的设备更新为 api 11？我的设备上有一个正在等待的软件更新，但是每次我单击安装时，它都会尝试重新启动，但实际上它正在关闭设备，我所能做的就是取出电池并再次打开我的设备，然后再次打开它将提示此软件更新。

我还可以做些什么 ？（如果有的话，在谷歌中没有找到下载 api 11 的地方）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T07:56:37.180

好吧，看看这个将eclipse更新到3.6

[http://developer.android.com/tools/sdk/eclipse-adt.html](http://developer.android.com/tools/sdk/eclipse-adt.html)

或将清单文件代码更改为。

```
 android:minSdkVersion="8"
    android:targetSdkVersion="16" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T09:22:45.610

很简单，亲爱的。您的应用程序支持 api 11(Honey Comb)，您的手机版本是 8(Froyo)。所以你必须将你的手机升级到 api 11(Honey Comb)。

或者

将您的应用程序版本设为 api 8(Froyo)。但是其中不提供 api 11 支持的一些新类。

我给你一个测试的东西，试试这个，但不确定它是否有效（这是一个技巧）。

转到“项目属性”文件并将目标 api 8 替换为 api 11。

干杯。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T07:55:18.563

由于还提到了支持库，我想添加文档以了解如何向后兼容

[http://developer.android.com/training/basics/supporting-devices/platforms.html](http://developer.android.com/training/basics/supporting-devices/platforms.html)

基本上，您只需要在您想要使用 API 的级别上拥有目标 SDK 版本，并在您想要支持的任何地方拥有最低 SDK 版本，但是您需要为旧平台提供替代实现或使用支持库，如果它提供了你想要的 API（大多数时候它提供）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T07:50:44.490

使用非官方版本，我建议前往 XDA 开发人员。

这是您手机的链接：http: [//forum.xda-developers.com/forumdisplay.php?f=628](http://forum.xda-developers.com/forumdisplay.php?f=628)

XDA 开发人员有很多关于如何将您的设备刷新到更新的 android 版本的信息。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T07:50:51.640

API 级别 11 是 Honeycomb (3.0) 或更高版本。与平板电脑一样，您需要一部支持 ICS (Android 4.0) 的手机才能在实时设备上测试您的代码。由于 ICS 不适用于 Desire 官方，您最好的选择是购买新手机或尝试安装 cyanogenmod 9，这是基于 ICS 的售后固件。

或者，谷歌有一个名为[support library](http://developer.android.com/tools/extras/support-library.html)的库，它允许`Fragments`在旧手机上使用一些 post-11 API 函数（如 ）。为此，您需要降低最低版本，并安装支持库。检查它的文档是否对你有好处。

或者，如果您不想在实时设备上对其进行测试，那么只需使用模拟器，因为它可以模拟所有类型的手机，最高可达 Android 4.2（截至撰写本文时）

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-22T07:52:56.240

1.  使用模拟器运行运行 11+ 的虚拟 Android 设备 - 这是首选解决方案，您可以针对 AVD 做任何您想做的事情，并且不需要多点触控或蓝牙之类的东西

2.  改回最低版本 8 并找到另一种方法来完成您想要的。这不是一个很好的解决方案，但有时您只需要使用较旧的代码库。

3.  根植您的欲望并安装所需级别的自定义 ROM。我已经在我的 Desire 上做到了这一点，这并不难，但会冒着毁坏设备的风险。并不是Root和修改手机的最佳理由。

# sql - 在日期范围内包含空值

> ID：14453816
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:47:12.620
> 
> 标签：sql, sql-server, sql-date-functions

我试图过滤掉日期范围之间的数据，其中还包括空值，例如： start_date = 18/01/2013 和 end_date = 20/01/2013

在数据库中的某些数据中，start_date 是 19/01/2013 并且 end_date = null; 我还需要包含这个特定的值，这是我到目前为止尝试过的查询

```
SELECT T1.START_DATE,
       T1.END_DATE
FROM   myTable T1
WHERE  to_date(T1.START_DATE, 'DD/MM/yyyy HH24:MI:SS') >= to_date('01/01/2013 10:58:58', 'DD/MM/yyyy HH24:MI:SS')
       AND to_date(T1.END_DATE, 'DD/MM/yyyy HH24:MI:SS') <= to_date(IS NULL('21/01/2013 10:58:58', 0), 'DD/MM/yyyy HH24:MI:SS') 
```

我仍然找不到空值的结果，请让我知道我将如何解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T07:50:16.400

我对 SQL Server 并不完全熟悉，但无论如何它看起来不像`to_date()`是 SQL Server 函数。我在[Oracle Database docs](http://docs.oracle.com/cd/E11882_01/server.112/e17118/functions203.htm)中找到了它的一些参考资料，所以您的意思可能是 Oracle SQL。尝试这个：

```
SELECT
    T1.START_DATE,
    T1.END_DATE
FROM myTable T1
WHERE 
    to_date(T1.START_DATE,'DD/MM/yyyy HH24:MI:SS') >= to_date('01/01/2013 10:58:58','DD/MM/yyyy HH24:MI:SS')
    AND (
        to_date(T1.END_DATE,'DD/MM/yyyy HH24:MI:SS') <= to_date('21/01/2013 10:58:58', 'DD/MM/yyyy HH24:MI:SS')
        OR T1.END_DATE IS NULL
    ); 
```

# .net - 调用 Assembly.LoadFrom(file) 后，应用关闭时文件未释放

> ID：14453818
> 
> 赞同：1
> 
> 时间：2013-01-22T07:47:20.127
> 
> 标签：.net, plugins, reflection, dll, compilation

我使用 Assembly.LoadFrom 来加载自定义 dll，但其中一个 dll 保留在我的项目解决方案中，并随应用程序一起提供。

问题是，几乎每隔一次我尝试构建项目时，我都会收到一条错误消息，说它无法将新编译的 dll 复制到旧的 dll 上，因为它正被另一个进程使用。

处理这个问题的最佳方法是什么？想到的两个想法是：

*   在加载之前将文件复制到另一个位置
*   只需自己将文件加载到内存中，这样我就可以手动关闭文件，然后从内存中的副本加载程序集。

这两种解决方案都相当容易实现，但如果有一种不需要我更改代码的快速/简单的方法，我会更喜欢它。

编辑：我不需要在运行时卸载程序集。当程序结束时，我需要它释放对 dll 文件的锁定。我完全了解 AppDomains 的工作原理以及将插件加载到他们自己的 AppDomains 中的优点，但是对于这个特定的应用程序，我没有这样做。

# perl - 将字符串中的 iso-8859-1 符号转换为 Perl 中的 utf-8

> ID：14453820
> 
> 赞同：2
> 
> 时间：2013-01-22T07:47:39.587
> 
> 标签：perl, utf-8, character-encoding, iso-8859-1

这是一个示例代码片段：

```
my $str = '21156_MLA Ã Copy4.ens'; 
```

我`$str`在我的代码中使用它，它应该显示为`21156_MLA ß Copy4.ens`.

我正在上传一个带有 filename 的文件`21156_MLA ß Copy4.ens`，但在浏览器显示它显示为`21156_MLA Ã Copy4.ens`. 在数据库中它被正确存储为`ß`，但是当我们从数据库中检索它时（使用`fetchall_hashref`）它被转换为`Ã`. 随后浏览器上的显示为`21156_MLA Ã Copy4.ens`。如何在这里避免这种转换？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T09:31:38.960

如果您的源代码文件编码为 UTF-8，那么您需要指定：

```
use utf8; 
```

在您的源代码文件中告诉解释器您的源代码中可能嵌入了 UTF-8 字符串。

见[http://perldoc.perl.org/utf8.html](http://perldoc.perl.org/utf8.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-22T07:54:13.677

检查以下模块。他们有您需要的信息：

[https://metacpan.org/pod/Encode](https://metacpan.org/pod/Encode)

[https://metacpan.org/pod/MIME::QuotedPrint](https://metacpan.org/pod/MIME::QuotedPrint)

由于到目前为止您还没有发布您尝试过的内容，因此我不会从头开始编写代码。但是，检查上面的 perl 模块文档，他们有信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-22T11:07:04.353

**首先**，正如 PP 所指出的，如果您的源文件以 UTF-8 编码，您应该`use utf8;`让 Perl 知道并正确解释其中的任何字符串文字。

**其次**，确保数据库中的文本也被正确编码。这方面的细节将取决于您的数据库，但例如对于 MySQL，最好的方法可能是确保您的文本列具有[`utf8`字符集](http://dev.mysql.com/doc/refman/5.6/en/charset-unicode.html)和[`utf8_unicode_ci`排序](http://dev.mysql.com/doc/refman/5.6/en/charset-unicode-sets.html)规则（或适当的国家排序规则方案，如果需要），并包括[`mysql_enable_utf8`选项](http://metacpan.org/module/DBD%3a%3amysql#mysql_enable_utf8)使用 DBI 连接到数据库时。

**第三**，你需要告诉 Perl 你希望你的 I/O 流也被 UTF-8 编码。您可以使用 来执行此操作[`binmode()`](http://perldoc.perl.org/functions/binmode.html)，如下所示：

```
binmode STDOUT, ':utf8'; 
```

**最后**，您还需要告诉浏览器您正在向其发送 UTF-8 文本。（我怀疑这部分是您的*实际*问题，但如果您也执行所有其他步骤，您将实现完全支持 Unicode 的工作流程。）您可以通过发送 HTTP 标头来做到这一点：

```
Content-Type: text/html; charset=UTF-8 
```

和/或等效的 HTML 元标记：

```
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
```

或者，在 HTML5 中，简单地说：

```
<meta charset="utf-8"> 
```

# android - 使用 Gingerbread 的 Android 下拉菜单

> ID：14453824
> 
> 赞同：0
> 
> 时间：2013-01-22T07:48:03.650
> 
> 标签：android

我想使用姜饼创建一个下拉列表（不是微调器）。

我想过使用没有按钮的对话框。但由于它是一个列表，我认为这是不可能的。此外，每个项目都应该是可点击的。

它应该更像是网站中的下拉菜单。

为了得到我用过的对话框。基本上我将对话框的位置从中心移动到任何指定的位置。如何在此对话框中获取列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:50:15.030

有一种叫做[QuickAction](https://github.com/evancharlton/quick-actions-demo/tree/master/app)的东西可用。

从 Android 2.0（API 级别 5）开始，Android 在平台中首次引入了“快速操作”的概念。这种 UI 模式的想法是，点击一个对象可以以锚定的弹出方式显示额外的信息。这可以以统一且整洁的方式向用户展示附加功能。

最终产品将如下所示：

![在此处输入图像描述](../Images/3e4c89337e4f07fe693e2a649dfd322e.png)

希望这可以帮助你:)

# c++ - L-value-ref 的偏序

> ID：14453829
> 
> 赞同：6
> 
> 时间：2013-01-22T07:48:25.950
> 
> 标签：c++, templates, overriding, partial-ordering

为什么这是模棱两可的？

```
template<class T> void g(T)  {}   // 1
template<class T> void g(T&) {}   // 2

int main() {
    int  q;
    g(q);
} 
```

我知道这是部分排序上下文。而我的，可能是错误的想法是：#2 中的任何 T& 都可以放入 #1，但 #1 中的任何 T 都不是合法的 #2。所以部分排序应该有效。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T08:22:54.783

好的。我*想*这就是你要找的。没有深入研究参数与参数类型比较的两次应用，标准中的以下内容让我眼前一亮：

> **C++11 §14.8.2.4p5**
> 
> 在完成偏序之前，对用于偏序的类型执行某些转换：
> 
> *   如果 P 是引用类型，则将 P 替换为引用的类型。
> *   如果 A 是引用类型，则将 A 替换为引用的类型。

C++11 §14.8.2.4p6 继续讨论当*两者*都是引用类型时会发生什么，但这在这里不适用（虽然也是一个有趣的读物）。在你的情况下，只有一个，所以它被剥离了。从那里：

> **C++11 §14.8.2.4p7**
> 
> 删除任何顶级 cv 限定符：
> 
> *   如果 P 是 cv 限定类型，则 P 被 P 的 cv 非限定版本替换。
> *   如果 A 是 cv 限定类型，则 A 将替换为 A 的 cv 非限定版本。

现在两者完全相等，因此您有歧义，我相信它是从 C++11 §14.8.2.4p10 固化的。C++11 §14.8.2.4p9 的文本涵盖了这两种引用类型，同样，这里不是这种情况：

> **C++11 §14.8.2.4p10**
> 
> 如果对于每个被考虑的类型，一个给定的模板至少对所有类型都是专门化的，并且对某些类型集更专门化，而另一个模板对任何类型都没有更专门化，或者至少对任何类型都没有专门化，那么给定模板比其他模板更专业。**否则，两个模板都不比另一个模板更专业。**

但是阅读本节中的标准对我来说就像是在解读希腊语，所以我可能会*大错特错*。（对希腊人没有冒犯=P）。

然而，它确实让我认为“如果我刚刚阅读的所有内容都按书面形式强制执行，那么在给定相同的调用条件的情况下，a`const T&`对 a也应该是模棱两可的。” 果然，我试过了，同样的模棱两可被标记出来。`T``g(q)`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T08:26:00.477

当这两种类型在类模板部分专业化的部分排序中竞争时，您的推理是正确的，这就是事情的运作方式。

但是，当将引用类型与非引用类型进行比较时，一般的要点是，如果没有其他因素使一个比另一个更受青睐，那么它们在调用场景中是模棱两可的。也就是说，当与另一个比较时，引用类型的引用类型在重载决议中并不重要，因此部分排序也不考虑它。

# mongodb - Mongo DB 上有 100 TB 的数据？可能的？

> ID：14453831
> 
> 赞同：8
> 
> 时间：2013-01-22T07:48:37.270
> 
> 标签：mongodb, hadoop, vertica, bigdata, database

需要什么样的架构来存储 100 TB 的数据并进行聚合查询？多少个节点？每个节点的磁盘大小？最佳实践是什么？

每天将写入 240GB，但大小将保持不变，因为将删除相同数量的数据。

或者对存储数据和快速组查询有什么不同的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-24T22:36:51.673

我强烈推荐[HBase](http://hbase.apache.org/)。

[Facebook 将其用于消息](http://www.facebook.com/note.php?note_id=454991608919)服务，该服务在 2010 年 11 月每天处理 150 亿条消息。

我们针对大型数据集测试了 MongoDB，但最终选择了 HBase，并且已经愉快地使用了几个月。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T07:52:50.293

请参考相关问题，

[MongoDB限制存储大小？](https://stackoverflow.com/questions/4327723/mongodb-limit-storage-size)

引用最上面的答案：

> 您可能对 MongoDB 网站上的[“生产部署”页面感兴趣。](http://www.mongodb.org/display/DOCS/Production+Deployments)列出了许多包含基础设施信息的演示文稿。例如：
> 
> [http://blog.wordnik.com/12-months-with-mongodb](http://blog.wordnik.com/12-months-with-mongodb)说他们每个节点存储 3 TB。

# javascript - 图像平移效果 - 垂直 - 鼠标悬停

> ID：14453835
> 
> 赞同：0
> 
> 时间：2013-01-22T07:48:56.663
> 
> 标签：javascript, jquery, wordpress, panning

寻找可用于创建与[此示例](http://demo.undsgn.com/egofolio/light/portfolio/double-trouble/)相同的垂直“图像平移”/“鼠标悬停”效果的代码，用于以下[WordPress 主题全屏图像](http://pixelthemes.net/immersion/)

您的回复表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:12:28.503

这是一种方法的一些伪代码。

```
css
.div{
width:200px;
height:200px;
overflow:hidden;
}

jQuery
$('#theimage').mousemove(function(event){
    $('#theimage').css('top', function(current){
        return current + event.pageY + offset; 
        //offset is what sets the zero point in the center
        };
}); 
```

从中得出的结论应该是逻辑而不是代码本身。我还没有尝试过，我很确定可能仍然存在错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T20:48:29.810

试试这个代码 div 有一个大的 backgroundimage ，大于它的宽度和高度

// HTML

```
<div id="pageBg">
</div> 
```

//CSS

```
#pageBg {
    background: url(images/pageBg.jpg) no-repeat 0 0 scroll;
    background-size: cover;
    height: auto;
    left: 0;
    min-height: 768px;
    min-width: 1024px;
    overflow: hidden;
    position: fixed;   
    top: 0;
    width: 100%;
} 
```

// Javascript

```
$(document).ready(function(){
   $('#pageBg').mousemove(function(e){
      var mousePosY = (e.pageY/$(window).width())*100;
      $('#pageBg').css('background-position-y', mousePosY +'%');
   }); 
}); 
```

# db2 - DB2 v6r1m0 日期时间支持

> ID：14453842
> 
> 赞同：0
> 
> 时间：2013-01-22T07:49:32.267
> 
> 标签：db2, db2-400

iSeries 是否支持 DateTime 类似类型。如果是这样，在已发布的 IBM 文档中具体提到了哪里。我们将从 .Net 中使用它，因此如果有任何已知问题很高兴知道。

*   DB2 i 系列
*   V6R1M0
*   `DateTime`或类似的数据类型。我们通常只对日期部分感兴趣

我真的不敢相信我沦落到问这个，但我需要一个权威的答案。我可以找到的链接主要是参考 v5。我需要可靠的外部证据来反驳 dba 对应用程序开发造成严重破坏的更*有趣*的陈述之一。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T14:52:21.780

DB2 for i 绝对支持这些数据类型。[IBM i 6.1 信息中心](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/rzahg/icmain.htm)有一个[数据库部分](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/rzahg/rzahgdb.htm)，其中包含有关[日期/时间数据类型的信息](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/db2/rbafzch2datetime.htm)

*   [日期](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/db2/rbafzch2date.htm)
*   [时间](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/db2/rbafzch2time.htm)
*   [时间戳](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/index.jsp?topic=/db2/rbafzch2timestamp.htm)

# c# - 如何将选定的工作表从excel文件复制到程序创建的新excel文件中

> ID：14453843
> 
> 赞同：1
> 
> 时间：2013-01-22T07:49:34.230
> 
> 标签：c#, .net, excel

大家好，我有一个 excel 文件，我想将其用作新 excel 文件的源。我看到了一些可以复制所有工作表的示例，但是我的问题是我只想从源文件中复制选定的工作表并创建新文件选定的工作表。例如，如果我的主表有工作表 x、y、z、c、f、g 并且用户选择 z、f、gi 只会选择这三个创建一个新的 .xlsx 文件并将它们放在那里。这可能与C＃？先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:20:47.407

例如，您可以在 VBA 中复制选定的工作表，下面将使用选定的工作表创建一个新工作簿

```
Sheets(Array("Sheet1", "Sheet3", "Sheet4")).Copy 
```

在 C# 中，你可以做同样的事情

```
 private void button1_Click(object sender, EventArgs e)
    {
        Excel.Application xlexcel;
        Excel.Workbook xlWorkBook;
        Excel.Sheets worksheets;

        object misValue = System.Reflection.Missing.Value;

        xlexcel = new Excel.Application();

        xlexcel.Visible = true;

        //~~> Open a File
        xlWorkBook = xlexcel.Workbooks.Open("C:\\Sample.xlsx", 0, true, 5, "", "", true,
        Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);

        //~~> Specify the sheets you want to copy
        String[] selectedSheets = { "a", "c", "d" };

        //~~> Set your worksheets
        worksheets = xlWorkBook.Worksheets;

        //~~>Copy it. This will create a new Excel file with selected sheets
        ((Excel.Sheets)worksheets.get_Item(selectedSheets)).Copy();

    } 
```

**截屏**

![在此处输入图像描述](../Images/db4d5c40bf187ffd461611c7a364bf0f.png)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-22T08:00:58.520

是的，可以在命令提示符下使用复制命令将文件从许多 Excel 工作表复制到单个工作表命令是 c:/path of the file copy sourcefile destinationfile

谢谢

# java - 如何使用 CSS 选择器单击按钮

> ID：14453852
> 
> 赞同：1
> 
> 时间：2013-01-22T07:50:28.377
> 
> 标签：java, html, webdriver

任何人都可以帮助我如何单击按钮 HTML

```
<div class="row">
<div class="span16">
<div class="pull-right">
<a class="btn primary" href="/v2/admin/user/edit" style="background-color: rgb(54, 67, 149);">Create</a>
</div>
</div>
</div> 
```

我想使用 Web 驱动程序 JAVA 单击创建按钮

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:17:06.330

如果你使用 selenium，你可以像 jQuery 一样使用 css 选择器。尝试：

```
driver.findElement(By.cssSelector("btn:contains('Create')")).click(); 
```

# javascript - 如何访问存储在javascript项目外部的文件？

> ID：14453856
> 
> 赞同：0
> 
> 时间：2013-01-22T07:50:39.840
> 
> 标签：javascript, html, file

我正在尝试使用 javascript 显示本地目录中的文件。这可能吗？如前所述，我使用项目内部的文件使用这种格式：`Url : './files/'`. 与javascript一起工作得很好。现在我想从项目外部访问文件，例如。`Url : "d:/"`但是javascript对此有一些限制。如何使用 javascript 从 d: 驱动器加载文件？

```
$(document).ready(function(){
URL = 'd:/content/abc.pdf'; /// ??????
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T07:52:52.353

不，这是不可能的。在网页上下文中运行时，Javascript 无法读取网络上不可用的文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T07:53:46.923

您无法使用 JavaScript 从本地计算机加载文件。否则任何网站都可以窃取用户的信息。唯一的方法是要求用户上传文件（可能使用 ajax）并从您的服务器获取它。

# r - 如何结合 2 个或多个不同的模型来预测一个响应变量？

> ID：14453860
> 
> 赞同：1
> 
> 时间：2013-01-22T07:50:49.857
> 
> 标签：r, model

我认为一个自变量是如此重要和首要，以至于我只想使用它来构建模型并使用其余的其他变量来构建其他模型。

比如在 kaggle.com 上的泰坦尼克号比赛中，`sex`我把它作为一个主要变量，我用它来构建一个 SVM 模型。然后我使用其他变量（例如`fare`, `alone`, ）`age`来构建一个 cforest 模型。

但要预测`survival`，我需要他们两个。那么我该怎么做呢？ `lm()`功能似乎不适用于`S4 class`.

我的代码在这里：

```
## Modeling Begin

predictions <- NULL
NT <- 1000
## formula3 for 'gender' model using SVM
formula3 <- as.factor(survived) ~ pclass + sex
## formula1 and formula2 both for rest features without gender model
formula1.cf <- as.formula(as.factor(survived) ~ pclass  + alone + fare + age)
formula2.cf <- as.formula(          survived  ~ pclass  + alone + fare + age)

## Train SVM(only for gender model) and Predict
library(e1071)
formula3 <- as.factor(survived) ~ pclass + sex
tune <- tune.svm(formula3, data=clean.train, gamma=10^(-4:-1), cost=10^(1:4))
# summary(tune)
tune$best.parameters

model.svm <- svm(formula3, 
               data=clean.train, 
               type="C-classification", 
               kernel="radial", 
               probability=T, 
               gamma=tune$best.parameters$gamma, 
               cost=tune$best.parameters$cost)

## Train cForest
model.cforest <- cforest(formula2.cf, data=clean.train, 
                           control=cforest_unbiased(ntree=NT, trace=F)) 
```

谢谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-21T19:49:16.567

我认为现在有一个 combine(...) 函数添加到 R 的`randomForest`包中，它专门用于组合多个随机树模型。像下面的代码这样简单的东西也可以是一种结合线性和`randomForest`模型的方法。它就像加权每个模型的影响一样简单。

### 拟合对数回归和随机森林：

```
fit.lr = glm(y~x1+x2+x3+x4, family = binomial, data = d)
fit.rf = randomForest(as.factor(y)~x1+x2+x3+x4, data = d, ntree = 100, proximity = FALSE) 
```

### 在 x1、x2 中创建函数以提供模型预测，同时将 x3、x4 设置为原点

```
g.lr.sig = function(x, y) predict(fit.lr, data.frame(x1 = x, x2 = y, x3 = 0, x4 = 0), type = "response") <br>
g.rf.sig = function(x, y) predict(fit.rf, data.frame(x1 = x, x2 = y, x3 = 0, x4 = 0), type = "prob")[, 2] <br>
g.en.sig = function(x, y) 0.5*g.lr.sig(x, y) + 0.5*g.rf.sig(x, y)<br> 
```

我希望这会有所帮助。

# java - FileOutputStream 和 PrintWriter 的区别

> ID：14453861
> 
> 赞同：2
> 
> 时间：2013-01-22T07:50:51.403
> 
> 标签：java, fileoutputstream, printwriter

我正在我的应用程序中实现 SSL 证书和密钥。我使用 CertAndKeyGen 类创建了私钥。我正在尝试使用密码加密私钥，这是我通过 PBE 和 Cipher 类实现的。我想将加密的私钥写入 PEM 格式的文件中。我尝试使用正在工作的 FileOutputStream，但 PrintWriter 无法正常工作。

下面是我的代码，

```
 final CertAndKeyGen keypair = new CertAndKeyGen("RSA", "SHA1WithRSA", null);
    keypair.generate(1024);
    final PrivateKey privKey = keypair.getPrivateKey();
    byte[] encodedprivkey = privKey.getEncoded();
    String MYPBEALG = "PBEWithSHA1AndDESede";
    String password = "test123";
    int count = 20;// hash iteration count
    Random random = new Random();
    byte[] salt = new byte[8];
    random.nextBytes(salt);
    PBEParameterSpec pbeParamSpec = new PBEParameterSpec(salt, count);
    PBEKeySpec pbeKeySpec = new PBEKeySpec(password.toCharArray());
    SecretKeyFactory keyFac = SecretKeyFactory.getInstance(MYPBEALG);
    SecretKey pbeKey = keyFac.generateSecret(pbeKeySpec);
    Cipher pbeCipher = Cipher.getInstance(MYPBEALG);
    // Initialize PBE Cipher with key and parameters
    pbeCipher.init(Cipher.ENCRYPT_MODE, pbeKey, pbeParamSpec);
    // Encrypt the encoded Private Key with the PBE key
    byte[] ciphertext = pbeCipher.doFinal(encodedprivkey);
    // Now construct  PKCS #8 EncryptedPrivateKeyInfo object
    AlgorithmParameters algparms = AlgorithmParameters.getInstance(MYPBEALG);
    algparms.init(pbeParamSpec);
    EncryptedPrivateKeyInfo encinfo = new EncryptedPrivateKeyInfo(algparms,ciphertext);
    byte[] encryptedPkcs8 = encinfo.getEncoded();

    // Now I am writing the encrypted private key into a file.
    // Using FileOutputStream 

    FileOutputStream out = new FileOutputStream("usingOutEncrypedPrivkey");
    out.write(Base64.encodeBase64(encryptedPkcs8, true));
    out.flush();
    out.close();

    // Using PrintWriter 
    PrintWriter pw = new PrintWriter("usingPwEncryptedPrivKey");
    pw.println("-----BEGIN "+ privKey.getAlgorithm() + " PRIVATE KEY-----");
    pw.println(Base64.encodeBase64(encryptedPkcs8));
    pw.println("-----END "+ privKey.getAlgorithm() +" PRIVATE KEY-----");
    pw.close(); 
```

以下是保存的文件，

```
 usingOutEncrypedPrivkey  // Which was saved using FileOutputStream

    MIICoTAbBgoqhkiG9w0BDAEDMA0ECL4xgraq2hXxAgEUBIICgFENaB8EA/kR0ymSC8vcyj1fNFbP
    iR+mXkBk7aH3eF7fpP8yqCvtN0/0VqHi/w/Z2CLgiib2s/zuiVPtWI8vsRRPXmD9PYxZp3ilLpD4
                            .....
                            .....   
    9nH8HdQf584c3sKYEErDQvJR2SmbUPtNq4cB6ocUuiOTztBqRXAHeaWavnqHFxHUT7c=

    usingPwEncryptedPrivKey  // Which was saved using PrintWriter
   -----BEGIN RSA PRIVATE KEY-----
   [B@19e3118a
   -----END RSA PRIVATE KEY----- 
```

为什么 PrintWriter 写为“[B@19e3118a”，而不是像 FileOutputStream 这样的字节。我想使用 PrintWriter 因为我想使用 PrintWriter.println() 函数。请帮帮我。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T07:54:09.367

*   `OutputStream.write(byte[])`将字节写入二进制数据。
*   `PrintWriter.print(byte[])`调用`toString()`数组并写出结果。`[B@19e3118a`是`toString()`您的数组的表示形式。

鉴于字符串仅包含 ASCII 字符，您可以[`String(byte[])`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28byte%5B%5D%29)在数组上使用并打印结果。

或者，如果您使用的是 Apache Commons`Base64`类，您应该简单地使用该[`encodeBase64String()`](http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Base64.html#encodeBase64String%28byte%5b%5d%29)方法而不是`encodeBase64()`[Thanks @SimonC]。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T07:55:11.560

`[B@19e3118a`是调用`toString()`字节数组的结果。我不知道您使用的是哪个 Base64 类，但如果您想使用 Writer，您应该找到一个将字节数组编码为字符串，而不是将字节数组编码为其他字节数组的类。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-22T07:58:21.870

两种方式

1.  使用 OutputStream.write()，然后自己拆分行。
2.  使用 PrintWrite.println()，那么您需要将原始字节编码为字符串并自己拆分行...

# node.js - 在 mongodb 上每个集合使用多个模式

> ID：14453864
> 
> 赞同：38
> 
> 时间：2013-01-22T07:50:57.947
> 
> 标签：node.js, mongodb, mongoose, schema-design, nosql

我想在 mongodb 中为每个集合使用多个模式，如何使用它....？
当我尝试运行它时，它给了我这个错误：

错误：

> `allUsers`OverwriteModelError：编译后 无法覆盖模型。OverwriteModelError：编译后
> 无法覆盖模型。`checkInOut`

这是我的 schema.js

```
 var mongoose = require('mongoose');

      var Schema = mongoose.Schema
          , ObjectId = Schema.ObjectId;

   var checkInInfoSchema= new Schema({
       name:String,
       loginSerialId:Number
   });

   var loginUserSchema = new Schema({
          sn : { type: Number, unique:true }
          ,uname: {type:String, unique:true}
          ,pass:String
      });

   var registerUserSchema = new Schema({
       sn : { type: Number, unique:true }
       , name: String   //his/her name
       ,pass:String,
       companyKey:{type:String},
       uname:{type:String,unique:true}
   });

   var checkInOutSchema = new Schema({
       uname: String
       ,companyKey:String
       ,task:String
       ,inTime:String
       ,outTime:String
       ,date:{type:String}
       ,serialId:{type:Number,unique:true}
       ,online:Boolean
   });

   //Different schema for same collection "allUsers"        
   var allUser=mongoose.model('allUsers',loginUserSchema);        
   var registerUser=mongoose.model('allUsers',registerUserSchema);

    //Different schema for same collection "checkInOut"
   var checkInOut=mongoose.model('checkInOut',checkInOutSchema);
   var checkInInfo=mongoose.model('checkInOut',checkInInfoSchema);

   module.exports={

       allUser:allUser, 
       registerUser:registerUser,

       checkInOut:checkInOut,
       checkInInfo:checkInInfo
   }; 
```

* * *

## 回答 #1

> 赞同：64
> 
> 时间：2013-01-22T08:10:54.297

在猫鼬中，您可以执行以下操作：

```
var users = mongoose.model('User', loginUserSchema, 'users');
var registerUser = mongoose.model('Registered', registerUserSchema, 'users'); 
```

这两个模式将保存在“用户”集合中。

有关更多信息，您可以参考文档： http: [//mongoosejs.com/docs/api.html#index_Mongoose-model](http://mongoosejs.com/docs/api.html#index_Mongoose-model)或者您可以查看以下[要点](https://gist.github.com/1892652)，它可能会有所帮助。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2018-04-23T13:53:18.293

我尝试了选择的答案，但是在查询特定模型对象时，它会检索两种模式的数据。所以我认为使用鉴别器会产生更好的解决方案：

```
const coordinateSchema = new Schema({
    lat: String,
    longt: String,
    name: String
}, {collection: 'WeatherCollection'});

const windSchema = new Schema({
   windGust: String,
   windDirection: String,
   windSpeed: String
}, {collection: 'WeatherCollection'});

//Then define discriminator field for schemas:
const baseOptions = {
    discriminatorKey: '__type',
    collection: 'WeatherCollection'
};

//Define base model, then define other model objects based on this model:
const Base = mongoose.model('Base', new Schema({}, baseOptions));
const CoordinateModel = Base.discriminator('CoordinateModel', coordinateSchema);
const WindModel = Base.discriminator('WindModel', windSchema);

//Query normally and you get result of specific schema you are querying:
mongoose.model('CoordinateModel').find({}).then((a)=>console.log(a)); 
```

示例输出：

```
{ __type: 'CoordinateModel', // discriminator field
    _id: 5adddf0367742840b00990f8,
    lat: '40',
    longt: '20',
    name: 'coordsOfHome',
    __v: 0 }, 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-21T15:13:12.650

当没有传递集合参数时，Mongoose 使用模型名称。如果您不喜欢这种行为，请传递集合名称，使用 mongoose.pluralize()，或设置您的模式集合名称选项。

```
const schema = new Schema({ name: String }, { collection: 'actor' });

// or

schema.set('collection', 'actor');

// or

const collectionName = 'actor'
const M = mongoose.model('Actor', schema, collectionName) 
```

# algorithm - 每条路径中出现的最少边数

> ID：14453865
> 
> 赞同：3
> 
> 时间：2013-01-22T07:50:57.963
> 
> 标签：algorithm, graph, edges

我需要在图中找到从第一个顶点到最后一个顶点的每条路径中出现的最少边数。例如 - 在图像中，如果第一个顶点是 V0，最后一个顶点是 V8，那么从 V0 到 V8 的每条路径中出现的最少顶点数是 2，它们是绿色的（或代替 V6-V8可能是 V0-V3 或 V3-V6）。

示例图片：

![在此处输入图像描述](../Images/e75c6b710afcacd6b3d87fa01f971abf.png)

已经搜索了一段时间，但找不到（或想到）任何算法来做到这一点......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:07:48.407

您的问题相当于在图中找到最小 st 割，因为该割给出了最小的边集，如果删除，则断开 s 和 t。这与说每条路径都经过最小切割中的某个边缘相同。

有许多算法可以找到最小 st 割。例如，[最大流最小割定理](http://en.wikipedia.org/wiki/Max-flow_min-cut_theorem)指出，从 s 到 t 的最大流的值（如果每个边都有单位容量）与最小 st 割中的边数具有相同的流。因此，任何最大流算法，例如 Ford-Fulkerson 或 Edmonds-Karp，都可以用于直接计算最小切割的成本。从那里，通过在残差图中找到从 s 可到达的所有边并获取在该集合中具有一个端点并且在补集中具有另一个端点的所有边，很容易恢复最小切割。

希望这可以帮助！

# c# - 自动滚动表格中的内容

> ID：14453867
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:51:03.870
> 
> 标签：c#, jquery, asp.net, css

我在面板中有一个表格，它是使用 c# 代码动态创建的。我用这张表来显示新闻和事件。我的问题是如何让这张表的内容自动垂直滚动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:06:28.827

You can do it on page load as follows:

```
$().ready(function () {
    $("table#your-table").autoscroll();
}); 
```

More information at [jQuery aautoscroll](http://archive.plugins.jquery.com/project/aautoscroll)

# html - 使用 css 缩放图像

> ID：14453872
> 
> 赞同：6
> 
> 时间：2013-01-22T07:51:18.017
> 
> 标签：html, css, hover, zooming

我正在尝试在鼠标悬停时缩放图像。我得到了缩放效果，但图像应该在那个“列表”标签内放大，而不是在那个“列表”之外。我应该怎么做才能获得像弹出一样的缩放效果？

我已将 CSS 应用于列表以使其水平，例如：

`image1 image2 image3 .....`在 ul 和 li 标签中。

```
.thumbnail_img {
    position: relative;
    z-index: 0;
    /*right:420px;*/
}

.thumbnail_img:hover {
    background-color: transparent;
    z-index: 100;
}

.thumbnail_img span img { 
    display: inline-block;
    margin:-13px 17px 2px -13px;
}

.thumbnail_img span { 
    position: absolute;
    visibility: hidden;
    color: black;
    text-decoration: none;
    -webkit-transform:scale(0.8);
    -moz-transform:scale(0.8);
    -o-transform:scale(0.8);
    -webkit-transition-duration: 0.5s;
    -moz-transition-duration: 0.5s;
    -o-transition-duration: 0.5s;
    opacity: 0.7;
}

.thumbnail_img:hover span { /*CSS for enlarged image on hover*/
    visibility: visible;
    background: transparent;
    top: 0px;
    left:5px;
    -webkit-transform:scale(1.2);
    -moz-transform:scale(1.2);
    -o-transform:scale(1.2);
    opacity: 3;
    height:auto; width:auto;
    border:0;
}
```

```
<div class="mytest" id="slideshow-carousel" style="padding-top:12px;padding-left: 33px;">
    <ul id="carousel" class="jcarousel jcarousel-skin-tango">
        <li>
            <a href="#" rel="p1"  class="thumbnail_img"> <img src="image.jpg " width="55" height="60" alt="#"/>
                <span><img src="image.jpg" style="height:100px; width:100px" /></span>
            </a>
        </li>
        <li>
            <a href="#" rel="p1"  class="thumbnail_img"> <img src=" " width="55" height="60" alt="#"/>
                <span><img src="" style="height:100px; width:100px" /></span>
            </a>
        </li>
    </ul>
</div>
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-22T09:48:11.407

尝试这个：

```
.thumbnail_img img:hover
{
    -webkit-transform: scale(1.5);
    -moz-transform: scale(1.5);
    -o-transform: scale(1.5);
    -ms-transform: scale(1.5);
    transform: scale(1.5);
} 
```

如果你不想溢出 li 然后添加

```
.thumbnail_img li
{
    overflow: hidden;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T09:39:32.637

图像缩放在该列表中，因为您相对于 .thumbnail_img （在列表中）进行分配，这使其成为绝对定位图像的锚点，我稍微调整了您的样式，如下所示，使图像缩放在列表之外：

```
<html>
    <head>
        <style>
            body {
                /* move position: relative from .thumbnail_img to body*/
                position: relative;
            }
            .thumbnail_img{
                /*position: relative;*/
                z-index: 0;
                /*right:420px;*/
            }

            .thumbnail_img:hover {
                background-color: transparent;
                z-index: 100;
            }

            .thumbnail_img span img { 
                display: inline-block;
                margin:-13px 17px 2px -13px;
            }

            .thumbnail_img span { 
                position: absolute;
                visibility: hidden;
                color: black;
                text-decoration: none;
                -webkit-transform:scale(0.8);
                -moz-transform:scale(0.8);
                -o-transform:scale(0.8);
                -webkit-transition-duration: 0.5s;
                -moz-transition-duration: 0.5s;
                -o-transition-duration: 0.5s;
                opacity: 0.7;
            }

            .thumbnail_img:hover span { /*CSS for enlarged image on hover*/
                visibility: visible;
                background: transparent;
                top: 250px;
                left:500px;
                -webkit-transform:scale(5);
                -moz-transform:scale(5);
                -o-transform:scale(5);
                opacity: 3;
                height:auto; width:auto;
                border:0;
            }
        </style>
    </head>
    <body>
        <div class="mytest" id="slideshow-carousel" style="padding-top:12px;padding-left: 33px;">
            <ul id="carousel" class="jcarousel jcarousel-skin-tango">
                <li>
                    <a href="#" rel="p1"  class="thumbnail_img"> <img src="image.jpg" width="55" height="60" alt="#"/>
                        <span><img src="image.jpg" style="height:100px; width:100px" /></span>
                    </a>
                </li>
                <li>
                    <a href="#" rel="p1"  class="thumbnail_img"> <img src=" " width="55" height="60" alt="#"/>
                        <span><img src="" style="height:100px; width:100px" /></span>
                    </a>
                </li>
            </ul>
        </div>
    </body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-18T15:31:35.493

*   **鼠标悬停时缩放图像！！**

```
.pic{
	width:200px;
	height:120px;
}
.zoom{
	position: absolute;
	width:0px;
	-webkit-transition:width 0.3s linear 0s;
	transition:width 0.3s linear 0s;
	z-index:10;
}
.pic:hover + .zoom{
	width:400px;

}
```

```
<img class="pic" src="http://lamina17.info/image/cpp.png" alt="image">
<img class="zoom" src="http://lamina17.info/image/cpp.png" alt="image">
```

* * *

在此处查看演示[使用 Css 缩放图像](http://lamina17.info/code/html5/zoom.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-05-17T21:26:08.760

```
<style>img:hover{transform:scale(1.2)}</style>
<img src="https://i.pinimg.com/236x/73/7d/ac/737dac12b48b03cd97fb6152dfa023b4.jpg"> 
```

![变换图像](../Images/6eafebb391af97e1ee7eb5a9956e88c7.png)

# java - android开发中的类调用

> ID：14453877
> 
> 赞同：0
> 
> 时间：2013-01-22T07:51:45.070
> 
> 标签：java, android

我是 android 开发的新手，我如何在我的应用程序启动时调用一个要执行的类。有什么我应该放在 onCreate 部分来调用一个类吗？有什么建议吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T07:56:02.470

在开始编码之前，请确保了解 Android 应用程序的构建块（Activity、Intent、...）。[http://developer.android.com/training/basics/firstapp/index.html](http://developer.android.com/training/basics/firstapp/index.html)是一个很好的起点。本教程将回答您的问题。

# android - android google map api v2 显示错误

> ID：14453884
> 
> 赞同：0
> 
> 时间：2013-01-22T07:52:48.267
> 
> 标签：android, google-maps-api-2

我编写了一个非常简单的 android 应用程序来使用`google map api v2`. 但是当我运行应用程序时，它总是会立即结束。

任何人都可以帮我找出错误吗？我已经导入`google-play-services.jar`，`android-support-v4.jar`并添加了“添加支持库”

主要三个文件如下：

**1\. 主要活动**

```
package edu.lore;

import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

import android.os.Bundle;

public class MainActivity extends android.support.v4.app.FragmentActivity {

    private GoogleMap mMap;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        setUpMapIfNeeded();
    }

    @Override
    protected void onResume() {
        super.onResume();
        setUpMapIfNeeded();
    }

    private void setUpMapIfNeeded() {
        // Do a null check to confirm that we have not already instantiated the map.
        if (mMap == null) {
            // Try to obtain the map from the SupportMapFragment.
            mMap = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map))
                    .getMap();
            // Check if we were successful in obtaining the map.
            if (mMap != null) {
                setUpMap();
            }
        }
    }

    private void setUpMap() {
        mMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title("Marker"));
    }
} 
```

**2.activity_main.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/map"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  class="com.google.android.gms.maps.MapFragment"/> 
```

**3.AndroidManifest.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="edu.lore"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="16" />

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />    
<permission
    android:name="edu.lore.permission.MAPS_RECEIVE"
    android:protectionLevel="signature" />
<uses-permission android:name="edu.lore.permission.MAPS_RECEIVE" />

<uses-feature
    android:glEsVersion="0x00020000"
    android:required="true" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name=".MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="AIzaSyDFH436KisLnq4qY-55fVVOTePBIvMZOAo" />
</application> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:07:07.220

您能否发布 LogCat 输出？

我认为片段不允许作为布局文件的根元素。根元素必须是 ViewGroup、View 或合并元素。见[http://developer.android.com/guide/topics/resources/layout-resource.html](http://developer.android.com/guide/topics/resources/layout-resource.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:33:25.850

由于`MapFragment`仅支持 api 级别 12 或更高级别，因此您需要使用以下`SupportMapFragment`代替：

> ```
> <fragment
>          android:id="@+id/map"
>          android:layout_width="match_parent"
>          android:layout_height="match_parent"
>          class="com.google.android.gms.maps.SupportMapFragment"/> 
> ```

并检查您是否已`Google Maps Android API v2`在注册应用程序的谷歌控制台中启用服务。

![在此处输入图像描述](../Images/a20a7556838fa99e092ed664f96c3a86.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-22T08:27:09.160

12岁以下必须`SupportMapFragment`使用`MinSdkVersion`

```
<fragment
    android:id="@+id/map"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    class="com.google.android.gms.maps.SupportMapFragment"/> 
```

# ios - BKSendGSEvent 错误

> ID：14453891
> 
> 赞同：1
> 
> 时间：2013-01-22T07:53:20.890
> 
> 标签：ios, ipad, ios6, unity3d

我正在使用 Unity3D 开发一个 IOS 应用程序。我的问题是，当我在新 iPad (iOS 6.0) 上运行该应用程序时，该应用程序将冻结，然后突然又完全正常运行了好几次。日志显示以下内容：

```
Jan 22 15:33:42 New-iPad backboardd[51] <Warning>: BKSendGSEvent ERROR sending event type 23: (ipc/send) invalid destination port (0x10000003) 
```

此问题仅出现在新 iPad 上。我已经尝试在 iPod 5th gen (iOS 6.0.1) 和 iPad 2 (iOS 5.1.1) 等旧设备上进行测试，但它们都没有这个问题。

有没有其他人遇到过这样的问题？我在调试方面束手无策，任何可以阐明这一点的建议都会有很大帮助！

# compass-sass - 欧米茄如果元素有不同的宽度？

> ID：14453899
> 
> 赞同：0
> 
> 时间：2013-01-22T07:53:59.727
> 
> 标签：compass-sass, sass, susy-compass

**[如果元素具有不同的宽度， Susy](http://susy.oddbird.net)可以自动填充多列布局吗？**

我*想要*什么（见下面的代码）：

```
+---------+---------+---------+
| I       | want    | this    |
+---------+---------+---------+
| filled  | automatically!    |
+---------+-------------------+ 
```

我*得到*什么（见下面的代码）：

```
+---------+---------+---------+
| I       | want    |         |
+---------+---------+---------+
| this    | filled  |         |
+---------+---------+---------+
| automatically!    |         |
+---------+---------+---------+ 
```

*目的？*对于响应式布局，应该可以为较小的屏幕切换到两列（媒体查询断点）：

```
+---------+---------+
| I       | want    |
+---------+---------+
| this    | filled  |
+---------+---------+
| automatically!    |
+-------------------+ 
```

这可以简单地通过让所有元素向左浮动来实现。但是，我想使用像 Susy 这样的东西来降低复杂性。

HTML：

```
<div id="container">
  <div class="one">I</div>
  <div class="one">want</div>
  <div class="one">this</div>
  <div class="one">filled</div>
  <div class="two">automatically</div>
</div> 
```

SCSS，没有 Omega 且不工作：

```
@import 'susy';

$total-columns: 3;
$column-width: 200px;
$gutter-width: 5px;
$grid-padding: 10px;

#container {
    @include container;
    @include susy-grid-background;

    &>div {
        height: 50px;
    }

    &>div.one {
        @include span-columns(1);
    }

    &>div.two {
        @include span-columns(2);
        background: yellow;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:45:50.847

Susy 具有`at-breakpoint()`用于在不同的媒体查询断点建立不同的列计数的 mixin。但是不，您不能*自动*执行此操作。

# spring - 无法从一个步骤存储和检索数据 - 在 Spring BatchJob 中

> ID：14453901
> 
> 赞同：0
> 
> 时间：2013-01-22T07:54:02.320
> 
> 标签：spring, batch-processing, spring-batch

我们正在开发一个 Spring Batch Job，我们需要存储在一个步骤中计算的数据并在下一步中检索它。

我可以使用spring批处理源中的以下实现以独立的方式实现这一点

[http://static.springsource.org/spring-batch/reference/html/patterns.html#passingDataToFutureSteps](http://static.springsource.org/spring-batch/reference/html/patterns.html#passingDataToFutureSteps)

但是我们正在以 CLIENT/MASTER 和 SERVER 的方式实现它。CLIENT/MASTER 拥有与作业和分区相关的代码。

客户端在 EAR 之外，由 Shell 脚本用来调用批处理作业。

客户端的 Bean 配置：

```
<job id="esk956" xmlns="http://www.springframework.org/schema/batch">
    <step id="importSalesAlert-master">
        <partition handler="partitionHandler" partitioner="partitioner" />
    </step>

</job>

<bean id="partitioner"
    class="org.springframework.batch.core.partition.support.SimplePartitioner" /> 
```

所有与步骤及其实现（读取器、处理器和写入器）相关的代码都在 SERVER/SLAVE 端。

奴隶代码：

```
<step id="importSalesAlert" xmlns="http://www.springframework.org/schema/batch">
    <tasklet transaction-manager="transactionManager">
        <chunk reader="salesAlertFileItemReader" processor="nucleusItemProcessor"
            writer="nucleusItemWriter" commit-interval="10" />
        <listeners>
            <listener ref="loggingStepListener" />
        </listeners>
    </tasklet>
</step> 
```

我们使用 JMS 集成和 Weblogic 作为网络服务器。

请指导我们解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T12:08:05.793

要将信息从分区器传递给执行器（步骤），您可以在分区时在 stepExecutionContext 中设置它，然后使用后期绑定来设置值。看看这里的例子（https://github.com/SpringSource/spring-batch/blob/master/spring-batch-samples/src/main/resources/jobs/partitionJdbcJob.xml），特别看一下值`${stepExecutionContext[minValue]}`在 itemReader 中。此值来自分区器设置的 stepExecutionContext。

您还可以以相同的方式访问其他后期绑定变量，就像 jobExecutionContext 和 jobParameters 一样。只需确保您的 itemreader`scope="step"`在其根元素中具有该属性，并且您可以使用命名空间来声明您的 jobRepository`<batch:job-repository.../>`或声明`<bean class="org.springframework.batch.core.scope.StepScope" />`bean（但不要同时拥有）。有关更多信息，请参见此处（http://static.springsource.org/spring-batch/reference/html-single/index.html#step-scope）。

# mozilla - Mozilla NPAPI AsyncDrawing 中的 NPDrawingModelAsyncBitmapSurface 有什么用？

> ID：14453907
> 
> 赞同：0
> 
> 时间：2013-01-22T07:54:24.930
> 
> 标签：mozilla, direct3d, npapi, direct3d10

Mozilla 公开了一个[AsyncDrawing API，](https://wiki.mozilla.org/NPAPI%3aAsyncDrawing)它可以在 NPAPI 插件中启用硬件加速渲染。
虽然[NPDrawingModelAsyncWindowsSharedSurface](https://wiki.mozilla.org/NPAPI%3aAsyncDrawing#NPDrawingModelAsyncWindowsSharedSurface)模式需要 Vista 和更高版本，
但[NPDrawingModelAsyncBitmapSurface](https://wiki.mozilla.org/NPAPI%3aAsyncDrawing#NPDrawingModelAsyncBitmapSurface)也适用于 Windows XP。
但是在他们的[示例代码](https://github.com/mozilla-services/services-central-legacy/blob/master/dom/plugins/test/testplugin/nptest.cpp)中，在函数 drawAsyncBitmapColor 中，
插件使用 memcpy 并在像素上循环来绘制位图：

```
void drawAsyncBitmapColor(InstanceData* instanceData)
{
  NPP npp = instanceData->npp;

  uint32_t *pixelData = (uint32_t*)instanceData->backBuffer->bitmap.data;

  uint32_t rgba = instanceData->scriptableObject->drawColor;

  unsigned char subpixels[4];
  subpixels[0] = rgba & 0xFF;
  subpixels[1] = (rgba & 0xFF00) >> 8;
  subpixels[2] = (rgba & 0xFF0000) >> 16;
  subpixels[3] = (rgba & 0xFF000000) >> 24;

  subpixels[0] = uint8_t(float(subpixels[3] * subpixels[0]) / 0xFF);
  subpixels[1] = uint8_t(float(subpixels[3] * subpixels[1]) / 0xFF);
  subpixels[2] = uint8_t(float(subpixels[3] * subpixels[2]) / 0xFF);
  uint32_t premultiplied;
  memcpy(&premultiplied, subpixels, sizeof(premultiplied));

  for (uint32_t* lastPixel = pixelData + instanceData->backBuffer->size.width * instanceData->backBuffer->size.height;
    pixelData < lastPixel;
    ++pixelData) {
    *pixelData = premultiplied;
  }

  NPN_SetCurrentAsyncSurface(npp, instanceData->backBuffer, NULL);
  NPAsyncSurface *oldFront = instanceData->frontBuffer;
  instanceData->frontBuffer = instanceData->backBuffer;
  instanceData->backBuffer = oldFront;
} 
```

这是否意味着昂贵的复制必须由 CPU 而不是 GPU 完成？
这是否意味着 NPDrawingModelAsyncBitmapSurface 不允许您利用硬件加速？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T10:19:57.397

> 这是否意味着昂贵的复制必须由 CPU 而不是 GPU 完成？这是否意味着 NPDrawingModelAsyncBitmapSurface 不允许您利用硬件加速？

是的，是的。硬件加速的表面需要特定于平台的实现，因此普通位图表面作为后备。

# iphone - 如何在 iOS 中获取应用内购买的区域货币价格？

> ID：14453910
> 
> 赞同：30
> 
> 时间：2013-01-22T07:54:29.697
> 
> 标签：iphone, ios, objective-c, in-app-purchase

我想找出用户的 App Store 位置。这意味着它们在美国、澳大利亚 (AUD) 商店。使用以下代码。

```
- (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response
{
    Books = response.products;
    if ([SKPaymentQueue canMakePayments] && [response.products count]>0) {

    }

    for (SKProduct *book in Books) {
        NSLocale *locat=[NSLocale currentLocale];
        NSString *strlocate=[locat objectForKey:NSLocaleCountryCode];

        NSLog(@"\n\n\n Device country== %@ \n\n\n",strlocate);

        NSLocale* storeLocale = book.priceLocale;
        NSString *storeCountry = (NSString*)CFLocaleGetValue((CFLocaleRef)storeLocale, kCFLocaleCountryCode);
        NSLog(@"\n\n\n store country== %@ \n\n\n",storeCountry);
    }
} 
```

如果书籍等级是一个，我希望同样明智，即基于应用商店价格矩阵表的 0.99 美元 0.99 日元 85 美元。

我在模拟器中测试过。我在系统中的 iTunes、appstore 和 safari 应用程序中更改了国家名称。但我只得到美国国家代码。

编辑：设置->常规->国际->区域格式->国家

我在设备中测试：设备国家只改变了。store country 显示美国国家代码和价格。我想在开始应用内购买时间之前存储国家代码。

多少天一次根据货币波动改变价格？它是否为已知/更新的波动价格提供任何 api/查询？

我的 inapp 操作上了一节课。在进行 inapp 操作之前，我想向用户显示本地价格，相同的价格效果反映在 inapp 操作中。

我显示免费书籍和付费书籍的列表，这是从我的服务器获取的列表。因为我显示了每件商品的价格。这些项目价格在处理应用商店时将显示美元价格。如果 appstore 显示价格，我也想显示。所以我想将国家代码发送到我的服务器，我的服务器响应该国家相关的价目表和货币符号..

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-01-31T09:01:19.997

```
productsRequest = [[SKProductsRequest alloc] initWithProductIdentifiers:prodcutIdentifier];
    productsRequest.delegate = self;

    // This will trigger the SKProductsRequestDelegate callbacks
    [productsRequest start]; 
```

这将调用您的委托函数。完成上述操作后，最终会自动调用下面提到的函数。这是发送的应用商店请求将最终确定的地方。

```
(void)requestDidFinish:(SKRequest *)request
{

    SKProduct *book = [Books objectAtIndex:0];

    NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
    [numberFormatter setFormatterBehavior:NSNumberFormatterBehavior10_4];
    [numberFormatter setNumberStyle:NSNumberFormatterCurrencyStyle];
    [numberFormatter setLocale:book.priceLocale];

    NSLocale* storeLocale = book.priceLocale;
    NSString *storeCountry = (NSString*)CFLocaleGetValue((CFLocaleRef)storeLocale, kCFLocaleCountryCode);

} 
```

根据您的兴趣提供区域设置和国家/地区详细信息。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2013-01-25T10:11:46.577

这本书是SKProduct：

```
NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
[numberFormatter setFormatterBehavior:NSNumberFormatterBehavior10_4];
[numberFormatter setNumberStyle:NSNumberFormatterCurrencyStyle];
[numberFormatter setLocale:book.priceLocale];
NSString *formattedPrice = [numberFormatter stringFromNumber:book.price];

NSLog(@"%@", formattedPrice); 
```

只需询问是否有任何不清楚的地方！

问候，

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2016-05-20T13:41:50.060

**一行代码：**

`product`是`SKProduct`对象实例：

```
NSString *price = [NSString stringWithFormat:@"%@%@ %@", [product.priceLocale objectForKey:NSLocaleCurrencySymbol], product.price, [product.priceLocale objectForKey:NSLocaleCurrencyCode]]; 
```

**结果：**

> 1.39 美元

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2016-09-18T21:07:18.090

在斯威夫特 3 中：

```
 let numberFormatter = NumberFormatter()
    numberFormatter.formatterBehavior = .behavior10_4
    numberFormatter.numberStyle = .currency
    numberFormatter.locale = product.priceLocale
    let formattedPrice = numberFormatter.string(from: product.price) 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-01-30T10:53:04.003

我用这个：

```
 NSNumberFormatter *numberFormatter = [[NSNumberFormatter alloc] init];
    [numberFormatter setFormatterBehavior:NSNumberFormatterBehavior10_4];
    [numberFormatter setNumberStyle:NSNumberFormatterCurrencyStyle];
    [numberFormatter setLocale:basicProduct.priceLocale];
    NSString *formattedString = [numberFormatter stringFromNumber:basicProduct.price];
    NSLog(@"product with currency:%@", formattedString);
    [retDict setObject:formattedString forKey:@"basic_price"];
    NSLog(@"Product title: %@" , basicProduct.localizedTitle);
    NSLog(@"Product description: %@" , basicProduct.localizedDescription);
    NSLog(@"Product price: %@" , basicProduct.price);
    NSLog(@"Product id: %@" , basicProduct.productIdentifier); 
```

在委托方法中：

```
 - (void)productsRequest:(SKProductsRequest *)request didReceiveResponse:(SKProductsResponse *)response 
```

这可以在用户点击开始购买东西之前完成。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2013-01-30T10:07:38.227

你可以去了解更多关于 locale 对象，我认为你也可以使用 NSLocale 的货币语言环境，如下所示

```
 NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
[formatter setNumberStyle:NSNumberFormatterCurrencyStyle];
[formatter setLocale:[NSLocale currentLocale];
NSString *localizedMoneyString = [formatter stringFromNumber:myCurrencyNSNumberObject]; 
```

你会得到这样的正确格式的货币字符串，

```
SKProduct *product = [self.products objectAtIndex:indexPath.row];
NSNumberFormatter *formatter = [[[NSNumberFormatter alloc] init] autorelease];
[formatter setNumberStyle:NSNumberFormatterCurrencyStyle];
[formatter setLocale:product.priceLocale];
currencyString = [formatter stringFromNumber:product.price]; 
```

我也在我的应用程序中尝试了这个

```
NSDecimalNumber *amount = [NSDecimalNumber decimalNumberWithString:@"50.00"];
NSNumberFormatter *currencyFormat = [[NSNumberFormatter alloc] init];
NSLocale *locale = [NSLocale currentLocale];
[currencyFormat setNumberStyle:NSNumberFormatterCurrencyStyle];
[currencyFormat setLocale:locale];
NSLog(@"Amount with symbol: %@", [currencyFormat stringFromNumber:amount]);//Eg: $50.00
NSLog(@"Current Locale : %@", [locale localeIdentifier]);//Eg: en_US 
```

希望它会帮助你

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-01-22T08:31:16.310

在 productsResponse 中的设备上，您会收到 AppStore 帐户的正确 product.price 和 product.priceLocale，您当前已登录。因此，如果您使用此语言环境来格式化收到的价格，您将获得像“0.99$”、“33,0 руб”这样的字符串。” 等等。

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2018-09-20T05:36:24.837

使用[https://github.com/bizz84/SwiftyStoreKit](https://github.com/bizz84/SwiftyStoreKit)，有

> SKProduct 中的本地化价格

直接使用这个成员变量就可以了，**不需要任何代码转换！！**

App Store 将根据当前用户的 App Store 国家/地区向您的应用程序响应正确的本地价格。如何改变：

> [https://apple.stackexchange.com/a/89186/283550](https://apple.stackexchange.com/a/89186/283550)

我已经测试了行为，在我将国家从香港更改为台湾后是正确的，我可以看到Tier 1的价格从HK $ 8变为$ 30。(港币兑新台币)

* * *

## 回答 #9

> 赞同：-4
> 
> 时间：2014-02-06T10:16:07.130

```
create macro first then use it
#define CURRENCY_SYMBOL [[NSLocale currentLocale] objectForKey:NSLocaleCurrencySymbol]

NSLog(@"%@ %.2f",CURRENCY_SYMBOL,25.50); 
```

# extjs - 在一页中使用 sencha touch 和 sencha extjs 应用程序？

> ID：14453912
> 
> 赞同：1
> 
> 时间：2013-01-22T07:54:37.917
> 
> 标签：extjs, frameworks, touch

**我需要在没有冲突**的情况下在一页中使用 sencha touch 和 sencha extjs吗？我怎么能这样做？

示例：使用移动容器的第一个应用程序。但是桌面应用程序将为触摸应用程序创建容器。我需要不使用 iframe 的解决方案。

ExtJS 版本：ExtJS 4.1.3

煎茶触控版本：2.1.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:37:09.140

**永远不要混淆它**

独立开发两个应用程序并检测客户端浏览器类型（移动/桌面）。然后返回一个触摸应用程序或一个 ExtJS 应用程序。SenchaTouch 和 ExtJS 之间的 MVC 实现完全不同。如果可能的话，很难创建一个可供两个框架使用的“核心”。

如果您出于某种原因需要其他框架的 UI 元素，请使用 iframe 或自己创建。

# jquery - 使用 javascript 打印时删除所有空格

> ID：14453920
> 
> 赞同：-4
> 
> 时间：2013-01-22T07:55:15.343
> 
> 标签：jquery, printing

我想使用 javascript 打印出一个页面，但边距或填充不断被附加到我要打印的项目上。我正在使用[jquery printElement](http://projects.erikzaadi.com/jQueryPlugins/jQuery.printElement/)！我希望我的元素被打印以覆盖整个页面。我就是不明白出了什么问题。谢谢你的帮助

在我的页面顶部

```
 @media print {
        * { margin: 0 !important; padding: 0 !important; }
        html, body {
            /*changing width to 100% causes huge overflow and wrap*/
            height:100%;   overflow: hidden;  background: #FFF; margin: 0  !important;
        }

    }

</style> 
```

但我仍然得到这个。![这些空间](../Images/a32bd555b84a2f207430b5441c6a3e2d.png)我想把它打印出来。![在此处输入图像描述](../Images/3275d3cb09b8dcae33a5b8f52683aa41.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T14:23:02.260

解决方案。使用 firefox 时，在地址栏中输入 about:config 然后搜索 margin 并将所有内容设置为 0。

# php - 有没有更好的方法来处理一个 300,000 行的文本文件数据并将其插入到 MySQL 中？

> ID：14453922
> 
> 赞同：0
> 
> 时间：2013-01-22T07:55:27.580
> 
> 标签：php, javascript, mysql, database, text-files

我现在正在做的是读取文本文件的内容并将其存储在一个变量中。读取全部内容后，我为块数据运行一个循环，并在其中调用一个函数，该函数将读取块数据的每一行并将每一行传递给另一个函数，该函数处理每列数据的处理并将其插入批量数据库。批次是整个块。

对于每个大小超过 500KB 的文件，代码过程太长。我的问题是文本文件中没有我可以使用的唯一标识符，因此我可以应用“加载数据输入文件”，这使我处于按块处理文本文件的情况。

700K 几乎花了一整天的时间来处理，但这仍然取决于机器规格。代码在 CentOS 中运行。在处理完第一个文本文件后，下一个 800KB++ 大小的文本文件花了将近一周的时间来处理。在这些与其他大小超过 800KB 的文本文件一起使用时，需要花费几乎或一周以上的时间来处理，尤其是 1MB 大小的文件。

有人可以告诉我我做错了什么以及我需要哪些选项来使我的代码有效运行。

* * *

```
/*
====================================================================================
                RECORDS FETCH 
====================================================================================

Needs path and filename with extension.
The page do an iteration of records in the file by line.
After by line, it iterates again per delimiter ","..
It concatenates the part of the records for bulk insert process.
PID address is incremental, every three PID correspond to one Chamber
and the reading in each Chamber is CO2 for first PID address, RH for the
second PID address, TEMP for the third PID address.

====================================================================================
*/
$path = "";
$filename = "";
error_reporting(0);
include_once ("connect.php");
$p_results = mysql_query("SELECT PATH, FILENAME FROM tbl_path"); 
if(mysql_num_rows($p_results) > 0 ){
while ( $rows = mysql_fetch_assoc($p_results) )
{
    $path = $rows['PATH'];
    $filename = $rows['FILENAME'];
}
}
else
{
mysql_query("INSERT INTO tbl_log (LOG_DATE, DETAILS) VALUES ( NOW(), 'There is no path and filename to be accessed. Please provide.' )");
}
$path = str_replace('\\','/',$path);
//holds the path..NOTE: Change backslash (\) to forward slash (/)
//$path = "E:/";
//holds the filename.. NOTE: Include the file extension
//$filename = "sample2.txt"; //"chamber_1_con.txt";
if ($path <> "" && $filename <> "")
     is_connected($path, $filename);

echo ('<script language="javascript">window.location = "chambers_monitoring.php"  </script>');

//function for DB writing in table data
function InsertData($rec, &$errorDataCnt, &$sql, $y, $i, $x, &$dCnt)
{

$dDate = (!isset($rec[0]) ? 0 : (trim($rec[0]) == "" ? 0 : trim($rec[0]))); 
$dTime = (!isset($rec[1]) ? 0 : (trim($rec[1]) == "" ? 0 : trim($rec[1]))); 
$address = (!isset($rec[2]) ? 0 : (trim($rec[2]) == "" ? 0 : trim($rec[2]))); 
$co2SV = (!isset($rec[3]) ? 0 : (trim($rec[3]) == "" ? 0 : trim($rec[3]))); 
$co2PV = (!isset($rec[4]) ? 0 : (trim($rec[4]) == "" ? 0 : trim($rec[4]))); 
$tempSV = (!isset($rec[5]) ? 0 : (trim($rec[5]) == "" ? 0 : trim($rec[5]))); 
$tempPV = (!isset($rec[6]) ? 0 : (trim($rec[6]) == "" ? 0 : trim($rec[6]))); 
$rhSV = (!isset($rec[7]) ? 0 : (trim($rec[7]) == "" ? 0 : trim($rec[7]))); 
$rhPV = (!isset($rec[8]) ? 0 : (trim($rec[8]) == "" ? 0 : trim($rec[8]))); 

    /* include('connect.php'); */
    set_time_limit(36000);
    ini_set('max_execution_time','43200');
    $e_results = mysql_query("SELECT ID FROM tbl_reading WHERE (READING_DATE = '".date("Y-m-d",strtotime($dDate))."' AND READING_TIME = '".date("H:i:s",strtotime($dTime))."') AND READING_ADDRESS = $address LIMIT 1"); 
    if(mysql_num_rows($e_results) <= 0 ){
      if (!($dDate == 0 || $dTime == 0 || $address == 0) ) {
        if ($y == 0){
            $sql = "INSERT INTO tbl_reading (READING_DATE,   READING_TIME, READING_ADDRESS, CO2_SET_VALUE, CO2_PROCESS_VALUE, TEMP_SET_VALUE, TEMP_PROCESS_VALUE, RH_SET_VALUE, RH_PROCESS_VALUE) VALUES ('".date("Y/m/d",strtotime($dDate))."','".date("H:i:s",strtotime($dTime))."', ".  mysql_real_escape_string($address).",". mysql_real_escape_string($co2SV).",". mysql_real_escape_string($co2PV).",". mysql_real_escape_string($tempSV).",". mysql_real_escape_string($tempPV).",". mysql_real_escape_string($rhSV).",". mysql_real_escape_string($rhPV).")";
        }
        else {
            $sql .= ",   ('".date("Y/m/d",strtotime($dDate))."','".date("H:i:s",strtotime($dTime))."', ". mysql_real_escape_string($address).",". mysql_real_escape_string($co2SV).",". mysql_real_escape_string($co2PV).",". mysql_real_escape_string($tempSV).",". mysql_real_escape_string($tempPV).",". mysql_real_escape_string($rhSV).",". mysql_real_escape_string($rhPV).")";

        }
       }
      }

        if(($x + 1) == $i){
            //echo ($x + 1)." = ".$i."<br>";
            if (substr($sql, 0, 1) == ",")
                $sql = "INSERT INTO tbl_reading (READING_DATE, READING_TIME, READING_ADDRESS, CO2_SET_VALUE, CO2_PROCESS_VALUE, TEMP_SET_VALUE, TEMP_PROCESS_VALUE, RH_SET_VALUE, RH_PROCESS_VALUE) VALUES".substr($sql, 1);
            //echo $sql."<br>";
            set_time_limit(36000);
            try {

                $result = mysql_query($sql) ;
                $dCnt = mysql_affected_rows();
                if( $dCnt  == 0)
                {
                    $errorDataCnt = $errorDataCnt + 1;
                }
            }
            catch (Exception $e)
            {
                mysql_query("INSERT INTO tbl_log (LOG_DATE,  DETAILS) VALUES ( NOW(), '".$e->getMessage()."' )");
            }
            //mysql_free_result($result);
        }

unset($dDate); 
unset($dTime); 
unset($address); 
unset($co2SV); 
unset($co2PV); 
unset($tempSV); 
unset($tempPV); 
unset($rhSV); 
unset($rhPV);  

 }

//function for looping into the records per line
function loop($data)
{
$errorDataCnt = 0; $sql = ""; $exist = 0;
$i = count( $data); $x = 0; $y = 0; $tmpAdd = ""; $cnt = 0; $t = 0; $dCnt = 0; 

ini_set('max_execution_time','43200');
while($x < $i) 
{
    $rec = explode(",", $data[$x]); 
    InsertData($rec, $errorDataCnt, $sql, $y, $i, $x, $dCnt);
    $x++; 
    $y++;
    unset($rec);
}

    $errFetch = ($i - $dCnt);
if($errorDataCnt > 0)
    mysql_query("INSERT INTO tbl_log (LOG_DATE, DETAILS) VALUES ( NOW(), 'Error inserting $errFetch records. Check if there is a NULL or empty value or if it is the correct data type.' )");
if($dCnt > 0)
    mysql_query("INSERT INTO tbl_log (LOG_DATE, DETAILS) VALUES ( NOW(), 'Saved   $dCnt of $i records into the database. Total $exist records already existing in the database.' )");

}

// functions in looping records and passing into $contents variable
function DataLoop($file)
{
ini_set("auto_detect_line_endings", true);
set_time_limit(36000);
ini_set('max_execution_time','43200');
$contents = ''; $j = 0;
if ($handle = fopen($file,"rb")){
    while (!feof($handle)) {
        $rdata = fgets($handle, 3359232);//filesize($file));
        //$rdata = fread($handle, filesize($file));
        if(trim($rdata) != "" || $rdata === FALSE){
            if (feof($handle)) break;
            else {
            $contents .= $rdata;
            $j = $j + 1; }}
    }   
    fclose($handle);
    $data = explode("\n", $contents);
    unset($contents);
    unset($rdata);
}
/* echo count($contents)." ".count($data); */
/* $query = "SELECT MAX(`ID`) AS `max` FROM `tbl_reading`";
$result = mysql_query($query) or die(mysql_error());
$row = mysql_fetch_assoc($result);
$max = $row['max']; */
/* $res =   mysql_fetch_assoc(mysql_query("SELECT COUNT(*) as total FROM  tbl_reading")) or die(mysql_error());
echo "<script>alert('".$res['total']."')</script>"; */
$p = 0;
ini_set('memory_limit','512M');
if($j != 0)
{
    foreach(array_chunk($data, ceil(count($data)/200)) as $rec_data){
        loop($rec_data);
        $p++;
    }
} 

}
//function to test if filename exists
function IsExist($file)
{
if ($con = fopen($file, "r"))// file_exists($file))
{
    fclose($con);
    DataLoop($file);
}
else
    mysql_query("INSERT INTO tbl_log (LOG_DATE, DETAILS) VALUES ( NOW(), '$filename is not existing in $path. Check if the filename or the path is correct.' )");

}

//function to test connection to where the file is.
function is_connected($path, $filename)
{
//check to see if the local machine is connected to the network 
$errno = ""; $errstr = ""; 
if (substr(trim($path), -1) == '/')
  $file = $path.$filename;
else
    $file = $path."/".$filename; 

IsExist($file);

} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-22T08:04:31.687

从您的代码看来，您的“唯一标识符”（至少出于此插入的目的）是复合`(READING_DATE, READING_TIME, READING_ADDRESS)`.

如果您`UNIQUE`在数据库中定义这样的键，那么[`LOAD DATA`](http://dev.mysql.com/doc/en/load-data.html)关键字`IGNORE`应该完全符合您的要求：

```
ALTER TABLE tbl_reading
  ADD UNIQUE KEY (READING_DATE, READING_TIME, READING_ADDRESS)
;

LOAD DATA INFILE '/path/to/csv'
    IGNORE
    INTO TABLE tbl_reading
    FIELDS
        TERMINATED BY ','
        OPTIONALLY ENCLOSED BY '"'
        ESCAPED BY ''
    LINES
        TERMINATED BY '\r\n'
    (@rec_0, @rec_1, @rec_2, @rec_3, @rec_4, @rec_5, @rec_6, @rec_7, @rec_8)
    SET
        READING_DATE = DATE_FORMAT(STR_TO_DATE(TRIM(@rec_0), '???'), '%Y/%m/%d'),
        READING_TIME = DATE_FORMAT(STR_TO_DATE(TRIM(@rec_1), '???'), '%H:%i:%s'),
        READING_ADDRESS    = TRIM(@rec_2),
        CO2_SET_VALUE      = TRIM(@rec_3),
        CO2_PROCESS_VALUE  = TRIM(@rec_4),
        TEMP_SET_VALUE     = TRIM(@rec_5),
        TEMP_PROCESS_VALUE = TRIM(@rec_6),
        RH_SET_VALUE       = TRIM(@rec_7),
        RH_PROCESS_VALUE   = TRIM(@rec_8)
; 
```

（其中`'???'`替换为代表 CSV 中日期和时间格式的字符串）。

请注意，您确实应该将它们一起存储`READING_DATE`在`READING_TIME`单个`DATETIME`或`TIMESTAMP`列中：

```
ALTER TABLE tbl_reading
  ADD COLUMN READING_DATETIME DATETIME AFTER READING_TIME,
  ADD UNIQUE KEY (READING_DATETIME, READING_ADDRESS)
;

UPDATE tbl_reading SET READING_DATETIME = STR_TO_DATE(
  CONCAT(READING_DATE, ' ', READING_TIME),
  '%Y/%m/%d %H:%i:%s'
);

ALTER TABLE tbl_reading
  DROP COLUMN READING_DATE,
  DROP COLUMN READING_TIME
; 
```

在这种情况下，命令的`SET`子句`LOAD DATA`将包括：

```
READING_DATETIME = STR_TO_DATE(CONCAT(TRIM(@rec_0), ' ', TRIM(@rec_1)), '???') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-22T08:51:51.767

逐行读取 1 MB 文件只需不到一秒的时间。即使连接然后再次拆分所有行也不需要任何时间。

通过一个简单的测试，插入 100,000 行大约需要 90 秒。

*但是*，在插入之前执行选择查询会使所需时间增加一个数量级以上。

从中吸取的教训是，如果您需要插入大量数据，请以大块的形式进行（请参阅[LOAD DATA INFILE](http://dev.mysql.com/doc/refman/5.5/en/load-data.html)）。如果由于某种原因您不能这样做，请*单独*执行插入和插入。

*更新*：

正如@eggyal 已经建议的那样，为您的表定义添加一个唯一键。在我的小型单列测试中，我添加了一个唯一键并更改`insert`为`insert ignore`. 挂钟时间增加了 15%-30%（~100-110 秒），这比单独选择 + 插入时增加到 38 分钟（25 倍！）要好得多。

因此，作为结论，（从蛋壳中偷窃）添加

```
ALTER TABLE tbl_reading
  ADD UNIQUE KEY (READING_DATE, READING_TIME, READING_ADDRESS) 
```

到您的桌子上，删除`select`in`InsertData()`并更改`insert`为`insert ignore`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-23T07:58:42.740

您需要在开始插入之前做一些准备，因为 InnoDB 引擎在默认设置下会使插入速度过慢。

在插入之前设置此选项

```
innodb_flush_log_at_trx_commit=0 
```

或将您的所有插入都放入一个事务中。
无论您选择什么语法或驱动程序，它都会非常快。

# android - 未创建数据库且应用程序意外停止

> ID：14453924
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:55:39.603
> 
> 标签：android, database, sqlite, database-design

我对android中的数据库完全陌生，并尝试在android中使用sqlite制作一个简单的应用程序。但是我的代码有一些问题，或者我找不到问题所在，当我运行我的项目时，应用程序意外停止，而且数据库未创建..请帮助我..我的代码如下：

**MainActivity.java**

包 com.example.dbdemo1；

```
import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.database.Cursor;
import android.view.ContextMenu;
import android.view.Menu;
import android.view.View;
import android.view.ContextMenu.ContextMenuInfo;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.ListView;

public class MainActivity extends Activity {
Button ins,del,upd;
ListView lv;
DbHelper dh;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ins = (Button)findViewById(R.id.button1);
        upd = (Button)findViewById(R.id.button2);
        del = (Button)findViewById(R.id.button3);

        lv = (ListView)findViewById(R.id.listView1);
        setUpList();
        dh = new DbHelper(this);
        Cursor c =getAllData();
        registerForContextMenu(lv);
       ins.setOnClickListener((OnClickListener) this);
       upd.setOnClickListener((OnClickListener) this);
       }
    public void onClick(View v) {
        // TODO Auto-generated method stub

        if(v.equals(ins))
        {
            startActivity(new Intent(MainActivity.this, insertActivity.class));
        }
        else
        {
            //startActivity(new Intent(MainActivity.this, updateActivity.class));
        }
    }
    private Cursor getAllData() {
        // TODO Auto-generated method stub
        return null;
    }

    private void setUpList() {
        // TODO Auto-generated method stub

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

**DBhelper.java**

```
package com.example.dbdemo1;

import android.R.string;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteDatabase.CursorFactory;
import android.database.sqlite.SQLiteOpenHelper;

public class DbHelper extends SQLiteOpenHelper{

    public static String db_name ="myDB.db";
    public static String fname = "first name";
    public static String lname = "last name";
    public static String contact = "contact";

    public DbHelper(Context context) {
        super(context, db_name, null, 1);
        // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // TODO Auto-generated method stub
        try 

        {
            db.execSQL("CREATE TABLE register(_ID INTEGER PRIMARY KEY AUTOINCREMENT,fName TEXT,lNmae TEXT,Contact TEXT);");
        } 
        catch (Exception e) {
            // TODO: handle exception
        }
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // TODO Auto-generated method stub
        android.util.Log.v("Constants", "Upgrading database which will destroy all data");
        onCreate(db);

    }

} 
```

**日志猫**

```
01-22 07:54:40.003: W/dalvikvm(32581): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
01-22 07:54:40.013: E/AndroidRuntime(32581): FATAL EXCEPTION: main
01-22 07:54:40.013: E/AndroidRuntime(32581): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.dbdemo1/com.example.dbdemo1.MainActivity}: java.lang.ClassCastException: com.example.dbdemo1.MainActivity
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread.access$2300(ActivityThread.java:125)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.os.Looper.loop(Looper.java:123)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread.main(ActivityThread.java:4627)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at java.lang.reflect.Method.invokeNative(Native Method)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at java.lang.reflect.Method.invoke(Method.java:521)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at dalvik.system.NativeStart.main(Native Method)
01-22 07:54:40.013: E/AndroidRuntime(32581): Caused by: java.lang.ClassCastException: com.example.dbdemo1.MainActivity
01-22 07:54:40.013: E/AndroidRuntime(32581):    at com.example.dbdemo1.MainActivity.onCreate(MainActivity.java:33)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
01-22 07:54:40.013: E/AndroidRuntime(32581):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
01-22 07:54:40.013: E/AndroidRuntime(32581):    ... 11 more 
```

请帮助我...提前谢谢你。！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:39:10.093

要创建数据库，您需要调用

```
dh.getWritableDatabase(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T11:32:15.750

您需要实现 OnClickListener 接口才能在 Button 上使用 setOnClickListener。

```
public class MainActivity extends Activity implements OnClickListener{ 
```

或者

您可以为特定按钮创建匿名方法，例如

```
ins.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
      }
 }); 
```

没有实现 OnClickListner 接口。

# c# - 处理存储过程

> ID：14453933
> 
> 赞同：4
> 
> 时间：2013-01-22T07:56:04.037
> 
> 标签：c#, sql, sql-server, multithreading, stored-procedures

我正在开发一个控制台应用程序。完成初步检查和先决条件后，我必须根据 sql 表的行引入 5 个线程。例如，如果我的表包含 1000 行，那么我将不得不拆分行并平均分配给所有 5 个线程，在这种情况下，我将进行拆分并为每个线程分配（创建数据表）200 行线程，然后所有 5 个线程将使用数据表同时调用 SP。在 SP 中是否有任何事情需要处理，因为它将由 5 个线程并行执行，我如何处理 SP 内的插入、删除和截断？会不会有问题，如果同时执行多个插入或删除或截断查询，是否会发生冲突？或者SP中是否有任何锁定功能只允许对SP中的sql语句进行一次操作？

由于我对这种要求不熟悉，我需要帮助找出可能发生的问题以及克服它的方法。如果我能在这种情况下得到任何提示和技巧，那就太好了..

提前致谢..

阿比文卡特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:19:14.647

查看 SQL Server 中的[ISOLATION LEVEL](http://msdn.microsoft.com/en-us/library/aa259216%28v=sql.80%29.aspx)设置。最好将其设置得尽可能高，以防止数据损坏，但是，这可能并且将导致大量锁，并且并行执行可能会使事情变得更糟，而不是更好。

根据您的过程的代码，您甚至可能会遇到死锁，这只会回滚一些应该重新发出的调用，这可能会导致额外的死锁，并且在您知道之前，您的数据库处于完全混乱的状态。

对于此类数据密集型操作，我建议不要让它们瘫痪，只需一个接一个地运行它们。如果您的服务器是多核机器，它甚至可能自行瘫痪。

当然，这些都是广泛的手波。要获取特定信息，需要分析数据的结构（以及任何索引）以及将要执行的代码。

# magento - 使用 magento 运行的清漆设置

> ID：14453936
> 
> 赞同：0
> 
> 时间：2013-01-22T07:56:21.593
> 
> 标签：magento, nginx, varnish, varnish-vcl

我正在使用 magento 创建一个电子商务网站。

我正在使用 nginx，php5-fpm。

我有 512mb RAM 和 4CPU 内核。

我想使用这些规格的清漆。我想知道我应该在清漆配置中设置什么值，以便我的服务器可以以最小的延迟处理最大的请求？我尝试了一些清漆配置，但我得到的响应时间比没有清漆时的响应时间要长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T13:37:08.390

这是我一直使用的设置。来自 Magento 的 Varnish 模块支持的 PageCache。我实际上已经[写过关于设置这个](http://www.meteorify.com/2012/12/creating-a-faster-magento-store-part-one-server-setup/)

```
# This is a basic VCL configuration file for PageCache powered by Varnish for Magento module.

# default backend definition.  Set this to point to your content server.
backend default {
  .host = "127.0.0.1";
  .port = "8080";
}

# admin backend with longer timeout values. Set this to the same IP & port as your default server.
backend admin {
  .host = "127.0.0.1";
  .port = "8080";
  .first_byte_timeout = 18000s;
  .between_bytes_timeout = 18000s;
}

# add your Magento server IP to allow purges from the backend
acl purge {
  "localhost";
  "127.0.0.1";
}

sub vcl_recv {
    if (req.restarts == 0) {
        if (req.http.x-forwarded-for) {
            set req.http.X-Forwarded-For =
            req.http.X-Forwarded-For ", " client.ip;
        } else {
            set req.http.X-Forwarded-For = client.ip;
        }
    }

    if (req.request != "GET" &&
      req.request != "HEAD" &&
      req.request != "PUT" &&
      req.request != "POST" &&
      req.request != "TRACE" &&
      req.request != "OPTIONS" &&
      req.request != "DELETE" &&
      req.request != "PURGE") {
        /* Non-RFC2616 or CONNECT which is weird. */
        return (pipe);
    }

    # purge request
    if (req.request == "PURGE") {
        if (!client.ip ~ purge) {
            error 405 "Not allowed.";
        }
        purge("obj.http.X-Purge-Host ~ " req.http.X-Purge-Host " && obj.http.X-Purge-URL ~ " req.http.X-Purge-Regex " && obj.http.Content-Type ~ " req.http.X-Purge-Content-Type);
        error 200 "Purged.";
    }

    # switch to admin backend configuration
    if (req.http.cookie ~ "adminhtml=") {
        set req.backend = admin;
    }

    # we only deal with GET and HEAD by default    
    if (req.request != "GET" && req.request != "HEAD") {
        return (pass);
    }

    # normalize url in case of leading HTTP scheme and domain
    set req.url = regsub(req.url, "^http[s]?://[^/]+", "");

    # static files are always cacheable. remove SSL flag and cookie
    if (req.url ~ "^/(media|js|skin)/.*\.(png|jpg|jpeg|gif|css|js|swf|ico)$") {
        unset req.http.Https;
        unset req.http.Cookie;
    }

    # not cacheable by default
    if (req.http.Authorization || req.http.Https) {
        return (pass);
    }

    # do not cache any page from
    # - index files
    # - ...
    if (req.url ~ "^/(index)") {
        return (pass);
    }

    # as soon as we have a NO_CACHE cookie pass request
    if (req.http.cookie ~ "NO_CACHE=") {
        return (pass);
    }

    # normalize Aceept-Encoding header
    # http://varnish.projects.linpro.no/wiki/FAQ/Compression
    if (req.http.Accept-Encoding) {
        if (req.url ~ "\.(jpg|png|gif|gz|tgz|bz2|tbz|mp3|ogg|swf|flv)$") {
            # No point in compressing these
            remove req.http.Accept-Encoding;
        } elsif (req.http.Accept-Encoding ~ "gzip") {
            set req.http.Accept-Encoding = "gzip";
        } elsif (req.http.Accept-Encoding ~ "deflate" && req.http.user-agent !~ "MSIE") {
            set req.http.Accept-Encoding = "deflate";
        } else {
            # unkown algorithm
            remove req.http.Accept-Encoding;
        }
    }

    # remove Google gclid parameters
    set req.url = regsuball(req.url,"\?gclid=[^&]+$",""); # strips when QS = "?gclid=AAA"
    set req.url = regsuball(req.url,"\?gclid=[^&]+&","?"); # strips when QS = "?gclid=AAA&foo=bar"
    set req.url = regsuball(req.url,"&gclid=[^&]+",""); # strips when QS = "?foo=bar&gclid=AAA" or QS = "?foo=bar&gclid=AAA&bar=baz"

    return (lookup);
}

sub vcl_hash {
    set req.hash += req.url;
    if (req.http.host) {
         set req.hash += req.http.host;
    } else {
        set req.hash += server.ip;
    }
    if (!(req.url ~ "^/(media|js|skin)/.*\.(png|jpg|jpeg|gif|css|js|swf|ico)$")) {
        call design_exception;
    }
    return (hash);
}

sub vcl_fetch {
    if (beresp.status == 500) {
       set beresp.saintmode = 10s;
       restart;
    }
    set beresp.grace = 5m;

    # add ban-lurker tags to object
    set beresp.http.X-Purge-URL = req.url;
    set beresp.http.X-Purge-Host = req.http.host;

    if (beresp.status == 200 || beresp.status == 301 || beresp.status == 404) {
        if (beresp.http.Content-Type ~ "text/html" || beresp.http.Content-Type ~ "text/xml") {
            if ((beresp.http.Set-Cookie ~ "NO_CACHE=") || (beresp.ttl < 1s)) {
                set beresp.ttl = 0s;
                return (pass);
            }

            # marker for vcl_deliver to reset Age:
            set beresp.http.magicmarker = "1";

            # Don't cache cookies
            unset beresp.http.set-cookie;
        } else {
            # set default TTL value for static content
            set beresp.ttl = 4h;
        }
        return (deliver);
    }

    return (pass);
}

sub vcl_deliver {
    # debug info
    if (resp.http.X-Cache-Debug) {
        if (obj.hits > 0) {
            set resp.http.X-Cache = "HIT";
            set resp.http.X-Cache-Hits = obj.hits;
        } else {
           set resp.http.X-Cache = "MISS";
        }
        set resp.http.X-Cache-Expires = resp.http.Expires;
    } else {
        # remove Varnish/proxy header
        remove resp.http.X-Varnish;
        remove resp.http.Via;
        remove resp.http.Age;
        remove resp.http.X-Purge-URL;
        remove resp.http.X-Purge-Host;
    }

    if (resp.http.magicmarker) {
        # Remove the magic marker
        unset resp.http.magicmarker;

        set resp.http.Cache-Control = "no-store, no-cache, must-revalidate, post-check=0, pre-check=0";
        set resp.http.Pragma = "no-cache";
        set resp.http.Expires = "Mon, 31 Mar 2008 10:00:00 GMT";
        set resp.http.Age = "0";
    }
}

sub design_exception {
} 
```

# .net - 基于声明的 wcf 服务中的错误 - 无法验证传入策略

> ID：14453943
> 
> 赞同：1
> 
> 时间：2013-01-22T07:57:07.290
> 
> 标签：.net, wcf, azure, claims-based-identity

我开发了基于声明的 WCF 服务和使用 wcf 服务的客户端应用程序。但在运行客户端应用程序时会引发错误 - “无法验证传入策略。有关更多信息，请参阅事件日志”

以下是事件日志详细信息：-

```
Incoming policy failed validation.  No valid claim elements were found in the policy XML.

Additional Information:
   at System.Environment.get_StackTrace()
   at Microsoft.InfoCards.Diagnostics.InfoCardTrace.BuildMessage(InfoCardBaseException ie)
   at Microsoft.InfoCards.Diagnostics.InfoCardTrace.TraceAndLogException(Exception e)
   at Microsoft.InfoCards.Diagnostics.InfoCardTrace.ThrowHelperError(Exception e)
   at Microsoft.InfoCards.InfoCardPolicy.Validate()
   at Microsoft.InfoCards.Request.PreProcessRequest()
   at Microsoft.InfoCards.ClientUIRequest.PreProcessRequest()
   at Microsoft.InfoCards.Request.DoProcessRequest(String& extendedMessage)
   at Microsoft.InfoCards.RequestFactory.ProcessNewRequest(Int32 parentRequestHandle, IntPtr rpcHandle, IntPtr inArgs, IntPtr& outArgs) 
```

我经历了许多与此相关的 SO 问题，但没有任何帮助。

这是 wcf 服务端的配置：-（[单击此处查看图像](https://i.stack.imgur.com/CwHIh.png)）

![在此处输入图像描述](../Images/ffc04383a7eb3542e67bca96f627016e.png)

这是客户端配置：-（[单击此处查看图像](https://i.stack.imgur.com/9LGG0.png)）

![在此处输入图像描述](../Images/a672894b4945544853dc7b7e07ef3efa.png)

这是我尝试调用服务的方式：-

![在此处输入图像描述](../Images/0c291d10a9bcfe5780ccaf362b1190f4.png)

谁能让我知道我在这里做错了什么。可能是我没有将 STS 收到的令牌传递给 WCF 服务。或者可能是别的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-23T21:03:20.030

您需要在 ChannelFactory 中关闭 CardSpace：

```
_clientChannel = new ChannelFactory<IService>("WS2007FederationHttpBinding_IService");
_clientChannel.ConfigureChannelFactory();
_clientChannel.Credentials.SupportInteractive = false; 
```

SupportInteractive 将关闭 CardSpace。

如果您仍然收到错误，请使用 try catch 块包装对服务的调用以捕获异常。看看有什么错误。

此外，打开 WCF 跟踪以查看 WCF 端是否发生错误。要打开 WCF 跟踪： [http ://stack247.wordpress.com/2013/05/23/wcf-tracing-and-diagnostic/](http://stack247.wordpress.com/2013/05/23/wcf-tracing-and-diagnostic/)

# macos - 在没有 GPU 的 MAC OS X 上安装 CUDA（用于 cuda 模拟器）

> ID：14453944
> 
> 赞同：5
> 
> 时间：2013-01-22T07:57:07.997
> 
> 标签：macos, cuda, nvidia

我通过以下链接在 MAC OS X 上安装 CUDA：

[http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-mac-os-x/index.html](http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-mac-os-x/index.html)

它说在安装之前我必须有支持 CUDA 的 GPU。我的 MacBook Pro 中没有 GPU，我想在 Emulator 上运行 CUDA 程序。我怎样才能做到这一点？如何在非 GPU 笔记本电脑上安装 CUDA？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T08:57:09.443

你可以试试[gpuocelot](http://code.google.com/p/gpuocelot/)。它是一个编译框架，允许在非 cuda 硬件上使用 cuda 代码作为 x86 cpu。我敢于自己使用它，但认识一些使用它的人，它对他们有用。

# asp.net-mvc - 在 ASP.NET MVC 中使用 3 个下拉菜单（日/月/年）选择日期

> ID：14453946
> 
> 赞同：3
> 
> 时间：2013-01-22T07:57:13.607
> 
> 标签：asp.net-mvc, asp.net-mvc-4, asp.net-web-api

我正在使用带有 WEB API 的 ASP.NET MVC。

我需要让用户输入他的出生日期，输入应该是 3 个下拉菜单

*   选择日期
*   选择月份和
*   选择年份

我可以使用以下代码填充下拉列表...

```
@Html.DropDownList("month", Enumerable.Range(1, 12).Select(i => new SelectListItem { Value = i.ToString(), Text = System.Globalization.CultureInfo.InvariantCulture.DateTimeFormat.GetMonthName(i)}), "-- Month --")
@Html.DropDownList("day", Enumerable.Range(1, 31).Select(i => new SelectListItem { Value = i.ToString(), Text = i.ToString()}), "-- Day --")
@Html.DropDownList("year", Enumerable.Range(1920, DateTime.Now.Year).Select(i => new SelectListItem { Value = i.ToString(), Text = i.ToString()}), "-- Year --") 
```

但是，我仍然必须编写自定义 js 或 C# 代码以确保例如：2 月特定年份的天数不超过 28 天等。

有没有其他方法可以建议您...请分享您对此的想法。

**编辑**：我没有使用 Jquery Date Picker，因为在我的要求中，我必须有 3 个下拉菜单用于日期、月份和年份，在应用程序中的其他任何地方，我都使用了 Jquery DatePicker。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-04-09T13:43:22.660

您必须根据所选月份刷新月份下拉更改和加载天数的天数下拉菜单

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-01-22T08:03:37.690

对于日期选择器来说，这绝对是一个很好的用例，比如来自[jQuery UI](http://jqueryui.com/datepicker/)的那个！

**编辑：**

鉴于您的新要求，您应该看看[How to fill cascading dropdownlist each other by using jquery in mvc 3?](https://stackoverflow.com/questions/11273544/how-to-fill-cascading-dropdownlist-each-other-by-using-jquery-in-mvc-3)

# python - 使用列表进行 Python 解密

> ID：14453947
> 
> 赞同：0
> 
> 时间：2013-01-22T07:57:19.310
> 
> 标签：python, list, encryption

我遇到了一个解密问题。我有一个非常基本的密码，它只是字母表，偏移 1 个字母，如下所示：

```
A    B
B    C
C    D
D    E
to z  to A 
```

右栏是给我的字母，我需要把它们变成左边的字母。

我正在从文件中读取它，并将每一列保存到这样的列表中

```
#!/usr/bin/python

key = "key.txt"
encrypted = "encrypted.txt"
decrypted = "decrypted.txt"

encryptedList = []
decryptedList = []

with open(key, "r") as file:
    for line in file:
        currentLine = line.split()

        currentDecrypted = currentLine[0]
        currentEncrypted = currentLine[1]

        decryptedList.append(currentEncrypted)
        encryptedList.append(currentDecrypted)

file.close()

counter = 0
with open(encrypted, "r") as file:
for line in file:
    currentLine = line
    for letter in currentLine:
        currentLetter = letter
        for item in encryptedList:
            if(item == currentLetter):
            ####here's where the problem starts####
            ####I've tried just printing counter, and I get mostly go    
                printencryptedList[counter-1]
                counter = 0
                break
            counter += 1 
```

我要解密的是一个看起来像这样的文本文件

```
FMMP
NZ OBNF JT KSMBB
KPIO TVDLT BQQ
GWWWWWWBMT PG DJJJJJH 
```

我得到了 FMMP 的正确计数，（5、12、12、15）和计数器 -1，但后来我得到 39、25、40 等等。任何帮助将不胜感激，如果您需要更多信息，请告诉我。

我也欢迎有关更好/更简单方法的想法，但我也想要一个类似的解决方案，所以我可以弄清楚这里发生了什么。谢谢

好的，谢谢所有的答案和信息。我正在发布我最终所做的并且它有效。我确信它不像它应该的那样像pythonic，但我实现了人们提到的一些东西。谢谢（你的）信息。

```
import string

key = "key.txt"
encrypted = ""encrypted.txt"
decrypted = "decrypted.txt

encryptedString = ""
decryptedString = ""

keyDict = {}

with open(key, "r") as file:
    for line in file:
    currentLine = line.split()

    currentDecrypted = currentLine[0]
    currentEncrypted = currentLine[1]

    keyDict[currentDecrypted] = currentEncrypted

with open(encrypted, "r") as file:
    for line in file:
    currentLine = line
        for letter in currentLine:
        currentLetter = letter
        encryptedString += letter
            for key in keyDict:
            if(keyDict[key] == letter):
                decryptedString += key
                break
            elif(letter == " "):
                decryptedString += " "
                break
            elif(letter == "\n"):
                decryptedString += "\n"
                break

with open(decrypted, "a") as file:
    file.write(decryptedString) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-22T08:18:15.547

[str.translate](http://docs.python.org/2/library/stdtypes.html#str.translate)最适合[凯撒密码](http://en.wikipedia.org/wiki/Caesar_cipher)类型加密，这似乎是您想要做的

首先需要通过[string.maketrans创建翻译表](http://docs.python.org/2/library/string.html#string.maketrans)

可以从[string.ascii_uppercase获取大写字母字符](http://docs.python.org/2/library/string.html#string.ascii_uppercase)

要旋转 Alpha 字符，您可以简单地执行`ascii_uppercase[1:] + ascii_uppercase[0]`

现在从这里开始就是小菜一碟了

```
>>> secret = """FMMP
NZ OBNF JT KPTIVB
KPIO TVDLT BTT
GVOEBNFOUBMT PG DPNQVUJOH"""
>>> from string import ascii_uppercase as UPPER, maketrans
>>> print secret.translate(maketrans(UPPER[1:] + UPPER[0], UPPER)) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-22T08:10:03.013

你绝对应该使用字典。与 Pythons 一起`map()`，您的任务非常简单：

```
import string

secret = """FMMP
NZ OBNF JT KPTIVB
KPIO TVDLT BTT
GVOEBNFOUBMT PG DPNQVUJOH"""

characters = list(string.uppercase)
cipher = dict(zip(characters[1:]+[characters[0]], characters))

decrypted = "".join(map(lambda x: cipher.get(x,x), secret))

print decrypted 
```

我不会在这里发布解密结果，因为我没有“家长咨询”贴纸自动取款机。;-） 就试一试吧！

当然`string`-module 中有辅助函数，但是 OP 想学习 python，而不是实现“防弹”密码系统。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:09:02.610

请改用字典和转换器函数：

```
my_crypt = {
    "a":"b",
    "b":"c",
    "c":"d"
    ...
}

def crypt_str(in_str, crypt_dict):
    out_str = ""
    for char in in_str:
        if char in crypt_dict:
            out_str += crypt_dict[char]
        else:
            out_str += char
    return out_str

>>> print(crypt_str("hello!", my_crypt))
ifmmp! 
```

与此处提供的其他方法相比的优势：如果您想更改它的转换方式，例如将字符转换为数字 - 它的工作原理都是一样的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-22T08:23:23.473

> 我有一个非常基本的密码，它只是字母表，并且偏移了 1 个字母。

这是真的？您显示的代码支持任意替换。如果不需要，那么：

```
encstr = 'FMMP NZ OBNF JT KPTIVB KPIO TVDLT BTT GVOEBNFOUBMT PG DPNQVUJOH'
decstr = ''.join([(chr(ord(ech)-1) if 'A' <= ech <= 'Z' else ech) for ech in encstr]) 
```

## 编辑

原始示例期望明文“Z”换行到“A”而不是“[”（ASCII 格式）。要正确处理此问题：

```
''.join([(chr(ord('A')+(ord(ech)-ord('A')-1)%26 ) if 'A' <= ech <= 'Z' else ech) for ech in encstr]) 
```

所以这变得有点难看。`translate`在这一点上开始看起来不错。[请参阅@Abhijit 的回答](https://stackoverflow.com/questions/14453947/python-decryption-with-lists/14454192#14454192)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-22T08:27:55.257

Python 已经为这些简单的密码内置了函数，所以不需要使用字典：

[字符串翻译](http://docs.python.org/2.7/library/string.html#string.translate)

[字符串.maketrans](http://docs.python.org/2.7/library/string.html#string.maketrans)

例子：

```
>>> s='''FMMP
NZ OBNF JT KSMBB
KPIO TVDLT BQQ
GWWWWWWBMT PG DJJJJJH'''
>>> import string
>>> tr = string.maketrans(string.uppercase[1:]+'A', string.uppercase)
>>> print string.translate(s,tr) 
```

# hadoop - 如何删除 hbase 表中家庭的所有数据？

> ID：14453948
> 
> 赞同：1
> 
> 时间：2013-01-22T07:57:37.093
> 
> 标签：hadoop, hbase

我们有一个包含多个族的 HBase 表，我们需要删除某个族的所有数据，但保持其余部分不变。我们只需要删除数据，并将家庭留在那里，因为我们将使用该家庭的新数据重新填充表。最简单的方法似乎是从文件系统中删除与该系列相关的文件（在 ../{table_name}/{some_hash}/{family_name}/ 下找到）。这样做有什么我们应该注意的副作用吗？如果有，有没有更安全、更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T16:00:23.253

更安全的方法是 [deleteColumn并完全删除该族，然后使用](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HBaseAdmin.html#deleteColumn%28java.lang.String,%20java.lang.String%29)[addColumn](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HBaseAdmin.html#addColumn%28java.lang.String,%20org.apache.hadoop.hbase.HColumnDescriptor%29)重新添加它。请注意，您需要在进行这些更改之前禁用该表

# ios - 更新相关 NSManagedObject 时更新 UITableView

> ID：14453950
> 
> 赞同：0
> 
> 时间：2013-01-22T07:57:47.293
> 
> 标签：ios, core-data, nsfetchedresultscontroller, nsmanagedobjectcontext

我在核心数据实体（托管对象）之间具有以下关系层次结构：

> 实体 1 > 实体 2 > 实体 3

和之间存在一对一关系，`Entity1`和`Entity2`之间存在一对多`Entity2`关系`Entity3`。

我有一个显示`Entity1`记录列表的视图控制器，使用`NSFetchedResultsController`. `UITableViewCell`显示来自`Entity1`和的`Entity2`信息`Entity3`。现在，当添加/更新/删除对象`NSFetchedResultsControllerDelegate`时会自动调用方法`Entity1`，但是当添加/更新/删除相关`Entity2`或`Entity3`记录时，不会调用委托方法。

在这种情况下，识别相关记录已更新并且也`UITableViewCell`需要更新的最佳或可能方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T08:37:48.263

您需要弄脏其他实体的属性。换句话说，你应该打电话

```
[self willChangeValueForKey:@"someProperty"];
[self didChangeValueForKey:@"someProperty"]; 
```

在要更新的实体上。

这是一个示例解决方案，可以实现您想要实现的目标。

[NSFetchedResultsController 陷阱](http://www.mlsite.net/blog/?p=825)

希望有帮助。

# google-chrome - Google Speech To Text , 如何通过快捷键触发麦克风(Ready To speak) 出现？

> ID：14453952
> 
> 赞同：0
> 
> 时间：2013-01-22T07:57:58.260
> 
> 标签：google-chrome, speech-recognition

我想为我的网站使用 Google Speech To Text 输入。

如何通过快捷键触发麦克风（准备发言）出现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:05:06.097

在 Windows/Linux/ChromeOS 上按 Ctrl+Shift+句点，在 Mac 上按 Command+Shift+句点。

在 chrome 15 或更高版本中

# string - PIL 的原始解码器如何工作？

> ID：14453953
> 
> 赞同：0
> 
> 时间：2013-01-22T07:58:01.010
> 
> 标签：string, python-imaging-library, encoder

我正在尝试将 .tiff 转换为数组，以便我可以将图像逐个像素地添加在一起，并对它们进行其他一些操作。我正在使用 numpy.fromstring() 和 im.tostring 进行转换。

```
def image2array(im):
  newArr = numpy.fromstring(im.tostring(),numpy.uint16)
  newArr2 = numpy.reshape(newArr,im.size)
  return newArr2 
```

根据文档， tostring 使用标准的“原始”编码器返回一个包含像素数据的字符串。fromstring 使用标准的“原始”解码器从字符串中的像素数据创建图像内存。

该代码有效，但我不太了解原始图像编码器的工作原理。数组是否生成了字符串数据，类似于可以解码为图像的位数据？或者它是实际的像素值？我正在尝试获取实际的像素值，所以我应该使用 im.getdata() 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-23T15:16:29.343

可能有一种更简单的方法可以通过 numpy.array(pilIm) 和 PIL.Image.fromarray(numpyArray) 实现您的想法： [NumPy, PIL added an image](https://stackoverflow.com/questions/524930/numpy-pil-adding-an-image)

如果您也想加载压缩的 tiff 文件，请查看[tifffile.py：http://code.google.com/p/pylibtiff/](http://code.google.com/p/pylibtiff/)

编辑：numpy.array 而不是 numpy。**作为**数组

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:11:25.507

是的。你应该使用`getdata()`. 您可以直接使用它来创建阵列。

[这篇文章](https://stackoverflow.com/questions/384759/pil-and-numpy)给出了一个很好的例子，如何一起使用 numpy 和 PIL。

# codeigniter - 无法加载请求的文件：helpers/langauge_helper.php

> ID：14453957
> 
> 赞同：1
> 
> 时间：2013-01-22T07:58:42.097
> 
> 标签：codeigniter, ci-merchant

我正在使用 CI Merchant 并将所需的所有文件复制到正确的文件夹中，并添加了代码以进行测试购买。当我加载控制器时，我收到以下消息：

> 无法加载请求的文件：helpers/langauge_helper.php

我怎样才能让 codeigniter 给我更多关于它为什么给出这个消息的信息？什么会导致这个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-22T08:14:43.333

在构造函数中加载帮助文件也像这样

```
$this->load->helper('custom'); //custom_helper.php 
```

[参考](http://ellislab.com/codeigniter/user-guide/general/helpers.html)

您可能以错误的方式加载助手

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-20T04:29:15.560

它的工作原理如下 CodeIgniter 2.X 中所述：-

如果 helper 文件夹中名为 language_helper.php 的帮助文件，那么您可以使用

```
$this->load->helper('language'); 
```

确保您的助手类命名约定正确，它必须以 _helper.php 结尾

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:01:00.877

我正在将助手加载到控制器的构造中并将其移动到自动加载中并修复它。不知道为什么它在构造中不起作用。

# php - 将表单数据设置为 XML 标记并保存

> ID：14453960
> 
> 赞同：0
> 
> 时间：2013-01-22T07:58:45.880
> 
> 标签：php, xml-parsing

我需要`contact`用发布的表单数据填充标签并将其发送到 Web 服务。
我的问题是无法访问`contact:firstname`标签。

`print_r($xml->create)`结果空对象`SimpleXMLElement Object ( )`

我怎样才能设置`$_POST['firstname']`成例如`contact:firstname`标签？

**这是我的 xml 文件：**

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<epp xmlns="urn:ietf:params:xml:ns:epp-1.0">
    <command>
        <create>
            <contact:create xmlns:contact="http://epp.example.com/ns/contact-1.0">
                <contact:postalInfo type="int">
                    <contact:firstname></contact:firstname>
                    <contact:lastname></contact:lastname>
                    <contact:idNumber type="NationalID" cc="XX"></contact:idNumber>
                    <contact:addr>
                        <contact:street></contact:street>
                        <contact:city></contact:city>
                        <contact:sp></contact:sp>
                        <contact:pc></contact:pc>
                        <contact:cc></contact:cc>
                    </contact:addr>
                </contact:postalInfo>
                <contact:voice></contact:voice>
                <contact:fax></contact:fax>
                <contact:email></contact:email>
                <contact:authInfo>
                    <contact:pw></contact:pw>
                </contact:authInfo>
            </contact:create>
        </create>
        <clTRID></clTRID>
    </command>
</epp> 
```

**这是我的php代码：**

```
<?php
$xml = simplexml_load_file('test.xml');

/*
$doc = new DOMDocument('1.0');
$doc->formatOutput = true;
$doc->preserveWhiteSpace = true;
$doc->loadXML($xml->asXML(), LIBXML_NOBLANKS);
$doc->save('data.xml');
*/
?> 
```

# iphone - 字符串分配和初始化

> ID：14453962
> 
> 赞同：-1
> 
> 时间：2013-01-22T07:59:00.100
> 
> 标签：iphone, ios, objective-c, xcode

> **可能重复：**
> [iPhone Dev - NSString Creation](https://stackoverflow.com/questions/1210319/iphone-dev-nsstring-creation)

我在用

```
 NSString   *str_Message; 
if ([txt_NoOfPersons.text length] == 0){
    bln_Validate  = FALSE;
    str_Message  = [[NSString alloc]initWithString:@"Number of Persons field is required."];
}
else if ([txt_NoOfPersons.text intValue] == 0)
{
    bln_Validate  = FALSE;
    str_Message  = [[NSString alloc]initWithString:@"Please enter your guest count."];}
}
if ([txt_DateAndTime.text length] == 0)
{
    bln_Validate  = FALSE;
    str_Message  = [[NSStrin@"Date and Time field is required."];

} 
```

如果我使用**Nsstring *str_Message=nil;** '

```
if ([txt_NoOfPersons.text length] == 0)
{
    bln_Validate  = FALSE;
    str_Message  = @"Number of Persons field is required.";
}
else if ([txt_NoOfPersons.text intValue] == 0)
{
    bln_Validate  = FALSE;
    str_Message  = @"Please enter your guest count.";

} 
```

那么**Nsstring *str;之间的效果和区别是什么？字符串 *str=nil**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-22T08:04:33.140

`NSString *str;`使用 ARC 时，和之间没有区别`NSString *str = nil;`，所有指针在初始化时都保证为 nil。

当您不使用 ARC 时，指针可能指向垃圾值。

# xml - 错误：解析 XML 时出错：格式不正确（令牌无效）

> ID：14453963
> 
> 赞同：0
> 
> 时间：2013-01-22T07:59:05.450
> 
> 标签：xml, parsing, resources

可绘制/图标可绘制/图标

```
<?xml version="1.0" encoding="utf-8"?>
<resources
    <string name="app_name">MerjProject</string>
    <string name="hello">Hello World!</string>
    <string name="menu_settings">Settings</string>
    <string name="ref">this is a reference</string>
</resources> 
```

我哪里出错了？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:37:36.787

您的 XML 文件`>`在第二行中缺少 a：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string name="app_name">MerjProject</string>
    <string name="hello">Hello World!</string>
    <string name="menu_settings">Settings</string>
    <string name="ref">this is a reference</string>
</resources> 
```

# php - 将时间戳加在一起以获得总小时数和分钟数

> ID：14453964
> 
> 赞同：1
> 
> 时间：2013-01-22T07:59:06.063
> 
> 标签：php

我正在尝试编写一个函数，它将时间戳加在一起以获得所有的总和。例如：`11:30 + 12:00 + 15:35 = 39:05`我不确定如何做到这一点。我在下面包含了我尝试过的代码，但它没有给出预期的结果：

```
$TotalTime = strtotime($data['TotalSunday']) + strtotime($data['TotalMonday']) 
    + strtotime($data['TotalTuesday'])
    + strtotime($data['TotalWednesday'])    + strtotime($data['TotalThursday'])
    + strtotime($data['TotalFriday']) + strtotime($data['TotalSaturday']);
    $data['TotalTime'] = gmdate("h:i", $TotalTime); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-22T08:21:06.130

问题如下，您确实想添加“时间”，但实际上您正在创建“日期”的总和。`strtotime`需要两个参数：#1 是日期，#2 是偏移量（如果未给出，则为“现在”）。

这只是一个 hack，我不确定是否有人会这样使用它，但它确实有效：

```
<?php

    $time1 = strtotime("00:25Z", 0);
    $time2 = strtotime("23:20:05Z", 0);

    $sumTime = $time1 + $time2;

    $hours = $sumTime / 3600;
    $minutes = ($sumTime % 3600) / 60;

    echo sprintf("%d:%d", $hours, $minutes); // Outputs: 23:45

?> 
```

通过将第二个参数设置为 0，并为 datetime 参数提供一个额外的 Z（对于 Zulu 时间或 UTC），最多可以正确解析 23:59:59 的时间（以秒为单位）。

所以如果你真的想依赖strtotime，就这样使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-22T08:16:18.950

添加计时时不能使用旧的 php `strtotime`/`date`函数，特别是如果您只想将结果显示为`hours:minutes`. 例如，如果您最终超过 24 小时，“时钟”将重置。

您应该做的是计算总分钟数（或秒数，如果有必要的话），然后根据需要格式化结果。

看一下[使用 PHP 将分钟数转换为小时和分钟以](https://stackoverflow.com/questions/8563535/convert-number-into-hours-minutes-using-php)获取后面部分的代码示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:17:10.977

你可以尝试这样的事情（我玩了一些 DateTime 和 DateInterval，但要小心，因为这些类仅在 PHP 5.2+ 中可用。

```
$interval1 = new DateInterval('P0000-00-00T10:00:00');
$interval2 = new DateInterval('P0000-00-00T11:00:00');
$interval3 = new DateInterval('P0000-00-00T03:45:00');
// format:                     YYYYY-MM-DDTHH:MM:SS

$date = new DateTime('00:00:00');
$date2 = clone $date;
$date2->add($interval1);
$date2->add($interval2);
$date2->add($interval3);

echo "Sum between the intervals:", $date2->diff($date)->format("%D:%H:%I"); // prints 01:00:45
// OR you can do the following
$diff = $date2->getTimestamp() - $date->getTimestamp(); // difference in seconds
// floor($diff / 3600) is the number of hours, for example 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-29T14:56:07.627

为了避免 24 小时后更改日期，我使用了这种方法。这取决于时间格式始终为 hh:mm(:ss) 但之前没有日期。对于使用 mySQL 日期字段很有用。

```
$timeString[] = array ('11:30', '1:00' , ...);

foreach ( $timeString as mytime) {
  $time         = explode(':' , $mytime);
  $tMin     +=   $time[1]   ;
  $tHour    +=   $time[0]   ;
}

$tHour  += floor ( $tMin / 60   ) ;
$tMin   =   $tMin % 60  ;

echo "total time: " . $tHour .':'.$tMin ; 
```

# ember.js - 关于 Ember.js 指南中的 {{linkTo}}

> ID：14453976
> 
> 赞同：7
> 
> 时间：2013-01-22T08:00:01.637
> 
> 标签：ember.js, ember-router

我正在阅读[Ember.js 模板](http://emberjs.com/guides/templates/links/)指南。在上述链接的第一个示例的车把部分，他们使用

```
{{#linkTo posts.post post}} 
```

但我想

```
{{#linkTo posts.post}} 
```

会工作。

**为什么我需要第二个参数'post'？**

我读了解释：

> 如果路线具有动态段，则表示该段的模型。默认情况下，Ember.js 将用对象的 id 属性的值替换段。

但我不能将此解释与上述问题联系起来。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-01-22T08:14:29.880

`#linkTo`助手接受三个参数。

1.  路线，在你的情况下`posts.post`
2.  上下文，这里是`post`您在循环中引用的特定对象
3.  选项哈希（当前`title`支持）

因为`posts.post`路由是动态路由，例如它可以是一组帖子中的一个，所以我们必须为`#linkTo`您提供要链接到的特定帖子的助手。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-09-30T21:29:08.410

其他人在传递给 Ember 中的 #link-to 助手的参数方面所说的话是准确的，这里是任何正在寻找更多信息的人的文档链接。

您拥有要链接的路由名称，第二个参数是提供模型上下文。

这是更多信息：

[http://emberjs.com/api/classes/Ember.Templates.helpers.html#method_link-to](http://emberjs.com/api/classes/Ember.Templates.helpers.html#method_link-to)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-19T23:30:58.580

对我来说，下面的代码工作正常：

```
 {{#each model as |book|}}
      <h3>{{#link-to 'book' book}}{{book.title}}{{/link-to}}</h3>
  {{/each}} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-16T06:17:04.583

`Link-to`有*inline*和*block的格式*

参考：[EmberJS-模板链接到内联助手](https://www.tutorialspoint.com/emberjs/temp_link_inlin_helpr.htm)

# javascript - Distribute Spans Evenly With Bootstrap

> ID：14453977
> 
> 赞同：0
> 
> 时间：2013-01-22T08:00:03.757
> 
> 标签：javascript, html, css, web-applications, twitter-bootstrap

I am working with a fluid-responsive bootstrap project. I have four spans; my goal is to show them 4x1, then 2x2, followed by 1x4\. I am having trouble doing this without transitioning through 3x1+1.

To show that graphically:

![Responsive design target](../Images/745628b15d6bca5dafe6b140617db91c.png)

The only code I've found that works is below; in the 4x1 layout, it leaves a wide space between items 2 and 3.

```
<div class="container-fluid">
    <div class="span11">
        <div class="span5">
            <h2>Item 1</h2>
        </div>
        <div class="span5">
            <h2>Item 2</h2>
        </div>
    </div>
    <div class="span11">
        <div class="span5">
            <h2>Item 3</h2>
        </div>
        <div class="span5">
            <h2>Item 4</h2>
        </div>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T09:39:31.023

默认引导网格为 12 列。你定制了吗？如果是这样，请分享该代码。即使您确实自定义并使用了 11 列网格（顺便说一句，这似乎是个坏主意），您也只能在 11 列容器内使用最多 10 个跨度。

在引导程序的流体网格中，这是嵌套跨度的正确方法：

```
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12">
            <div class="row-fluid">
                <div class="span6"></div>
                <div class="span6"></div>
            </div>
        </div>
    </div>
</div> 
```

这里的关键是当你嵌套时，你需要打开一个新的 row-fluid div。在您的情况下，如果您只关心两个框，那么您可以只从第一个 row-fluid div 中执行那些 .spans ，甚至不指定全部的 span 类。另外，请记住使每行上的内部跨度类加起来等于总列数

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-18T22:13:33.523

我会为此创建一个自定义网格大小。如果您熟悉 LESS，您可以编辑 grid.less 文件或添加以下内容：

```
.col-quarter {
  width: 25%;
  float: left;
}
.col-half {
 width: 50%;
 float:left;
}
.col-third {
 width: 33%;
 float:left;
} 
```

这不考虑任何填充和边距，但它是一个起点。

# javascript - jQuery offsetparent returns non-positioned parent also

> ID：14453979
> 
> 赞同：1
> 
> 时间：2013-01-22T08:00:11.570
> 
> 标签：javascript, jquery, html, css

I am trying out the following code:

```
<!DOCTYPE html>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">
</script>
<script>
$(document).ready(function(){
  $("span").click(function(){
    alert($(this).offsetParent().length);
  });
});
</script>
</head>
<body>
<p>If you click on me, I will disappear.</p>
<p><span>Click me away!</span></p>
<p>Click me too!</p>
</body>
</html> 
```

From the jQuery documentation, `offsetParent()` is supposed to return the closest positioned parent, **positioned** meaning one with `position` defined explicitly as 'static`,`absolute`or`relative`. here, none is declared for any element, yet the alert pops up 1\. How come?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-22T08:09:00.637

首先，让我们看看返回结果：

```
[html, prevObject: jQuery.fn.jQuery.init[1], context: span, jquery: "1.9.0", constructor: function, init: function…] 
```

所以`$(span).offsetParent()`你得到了`HTML`元素。

现在让我们看一下 的实现`offsetParent`：

```
offsetParent: function() {
    return this.map(function() {
        var offsetParent = this.offsetParent || document.documentElement;
        while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position") === "static" ) ) {
            offsetParent = offsetParent.offsetParent;
        }
        return offsetParent || document.documentElement;
    });
} 
```

从上面的代码中我们看到，如果我们没有定位父元素，则`offsetParent`返回该`HTML`元素。

唯一不好的是，当我查看不存在的文档时。

要检查是否真的有`offsetParent`你可以使用：

`document.getElementsByTagName('html')[0] === $(elem).offsetParent()[0]`

# html - why does wget/curl/urllib2 of python gives a different html page than view source in browser

> ID：14453987
> 
> 赞同：1
> 
> 时间：2013-01-22T08:00:47.093
> 
> 标签：html, curl, urllib2, wget

I am trying to fetch some data from a site using urllib2 and I get different HTML page than what I see when I click on view source (some elements are swapped in divs, some elements in divs are totally not there etc)

example: try this python script

```
import urllib2

markup = urllib2.urlopen("http://www.ebay.com/sch/i.html?_trksid=p5197.m570.l1313&_nkw=harry+potter&_sacat=0&_from=R40").read() 
```

and some samples tags from the above are (**this is wrong**, this is not how data is shown on page, checked it with firebug too)

```
<div class="catsgroup">
    <div class="cat-t"><a href="http://www.ebay.com/sch/Books-/267/i.html?_from=R40&amp;_nkw=harry+potter">Books</a><span class="cnt">&nbsp;(7,777)</span></div>
    <div class="cat-c">
        <div class="default">
            <div class="cat-link"><a href="http://www.ebay.com/sch/Children-Young-Adults-/279/i.html?_from=R40&amp;_nkw=harry+potter">Children &amp; Young Adults</a><span class="cnt">&nbsp;(1,999)</span></div> 
            <div class="cat-link"><a href="http://www.ebay.com/sch/Nonfiction-/378/i.html?_from=R40&amp;_nkw=harry+potter">Nonfiction</a><span class="cnt">&nbsp;(2,414)</span></div> 
            <div class="cat-link"><a href="http://www.ebay.com/sch/Fiction-Literature-/377/i.html?_from=R40&amp;_nkw=harry+potter">Fiction &amp; Literature</a><span class="cnt">&nbsp;(1,461)</span></div> 
            **<div class="cat-link"><a href="http://www.ebay.com/sch/Antiquarian-Collectible-/29223/i.html?_from=R40&amp;_nkw=harry+potter">Antiquarian &amp; Collectible</a><span class="cnt">&nbsp;(508)</span></div>**
        </div>
    </div>
</div> 
```

The last line with the ** doesn't belong to that tag in view source, but it does in **curl/wget/urllib2**

same snippet from view source (**This is actually how data is viewed on page**)

```
<div class="catsgroup">
    <div class="cat-t"><a href="http://www.ebay.com/sch/Books-/267/i.html?_from=R40&amp;_nkw=harry+potter">Books</a><span class="cnt">&nbsp;(4,358)</span></div>
    <div class="cat-c">
        <div class="default">
            <div class="cat-link"><a href="http://www.ebay.com/sch/Children-Young-Adults-/279/i.html?_from=R40&amp;_nkw=harry+potter">Children &amp; Young Adults</a><span class="cnt">&nbsp;(1,334)</span></div> 
            <div class="cat-link"><a href="http://www.ebay.com/sch/Nonfiction-/378/i.html?_from=R40&amp;_nkw=harry+potter">Nonfiction</a><span class="cnt">&nbsp;(1,298)</span></div> 
            <div class="cat-link"><a href="http://www.ebay.com/sch/Fiction-Literature-/377/i.html?_from=R40&amp;_nkw=harry+potter">Fiction &amp; Literature</a><span class="cnt">&nbsp;(710)</span></div> 
        </div>
    </div>
</div> 
```

Any help with whats going wrong here and how to get correct html as shown in view source is appreciated.

Thanks in advance

# android - 安卓中的解析器

> ID：14453992
> 
> 赞同：1
> 
> 时间：2013-01-22T08:01:01.757
> 
> 标签：android, xml-parsing

下面是我的xml格式。我需要在`Group`标签下提取数据，这个组标签在标签下。在`common`这个公共标签里面我们有4个组，我只需要这4个`group`数据。但是在我的xml中还有一些其他组标签也在那里，所以数据也在提取。但我需要公共标签中的那个组数据。

我的xml：

```
<root>
<Budget>100000.0</Budget>
<Procost>
<Costid>1</Costid>
<Costname>Fixed Cost</Costname>
<Amount>70666.66</Amount>
</Procost>
<Procostcount>1</Procostcount>
<Totalcost>70666.66</Totalcost>
<Common>
<Group>
<Empid>370</Empid>
<Reportid>-1</Reportid>
<Empcost>0</Empcost>
<Isanyreporting>Y</Isanyreporting>
<Reportcount>9</Reportcount>
<Reportname>NA</Reportname>
<Name>Shalini</Name>
<Desigid>0</Desigid>
<Gender>female</Gender>
<Yearexperience>11</Yearexperience>
<Monthexperience>0</Monthexperience>
<Phone>974113524</Phone>
<Emailid>shalini@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Displaylevel>0</Displaylevel>
<Photo>None</Photo>
</Group>
<Group>
<Empid>381</Empid>
<Reportid>370</Reportid>
<Empcost>0</Empcost>
<Reportcount>0</Reportcount>
<Isanyreporting>No</Isanyreporting>
<Reportname>Shalini</Reportname>
<Name>Arun</Name>
<Desigid>1</Desigid>
<Gender>male</Gender>
<Yearexperience>8</Yearexperience>
<Monthexperience>0</Monthexperience>
<Phone>2147483647</Phone>
<Emailid>arun@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Displaylevel>0</Displaylevel>
<Photo>None</Photo>
</Group>
<Group>
<Empid>382</Empid>
<Reportid>370</Reportid>
<Empcost>0</Empcost>
<Reportcount>0</Reportcount>
<Isanyreporting>No</Isanyreporting>
<Reportname>Shalini</Reportname>
<Name>Manu</Name>
<Desigid>1</Desigid>
<Gender>male</Gender>
<Yearexperience>8</Yearexperience>
<Monthexperience>0</Monthexperience>
<Phone>123487509</Phone>
<Emailid>manu@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Displaylevel>0</Displaylevel>
<Photo>None</Photo>
</Group>
<Group>
<Empid>383</Empid>
<Reportid>370</Reportid>
<Empcost>0</Empcost>
<Reportcount>0</Reportcount>
<Isanyreporting>No</Isanyreporting>
<Reportname>Shalini</Reportname>
<Name>Ramakrishnan Nair</Name>
<Desigid>1</Desigid>
<Gender>male</Gender>
<Yearexperience>8</Yearexperience>
<Monthexperience>0</Monthexperience>
<Phone>467983245</Phone>
<Emailid>ramakrishnan@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Displaylevel>0</Displaylevel>
<Photo>None</Photo>
</Group>
</Common>
<Project>
<Empid>371</Empid>
<Reportid>370</Reportid>
<Displaylevel>2</Displaylevel>
<Empcost>35333.3</Empcost>
<Name>Remya</Name>
<Desigid>5</Desigid>
<Gender>female</Gender>
<Yearexperience>2</Yearexperience>
<Monthexperience>0</Monthexperience>
<Phone>975443452</Phone>
<Emailid>remya@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Photo>None</Photo>
<Reportcount>0</Reportcount>
<Isanyreporting>No</Isanyreporting>
<Reportname>Shalini</Reportname>
</Project>
<Project>
<Empid>374</Empid>
<Reportid>370</Reportid>
<Displaylevel>2</Displaylevel>
<Empcost>35333.3</Empcost>
<Name>Nijo Susan Thomas</Name>
<Desigid>5</Desigid>
<Gender>female</Gender>
<Yearexperience>1</Yearexperience>
<Monthexperience>1</Monthexperience>
<Phone>2147483647</Phone>
<Emailid>nijo@ohile.com</Emailid>
<Projectid>1</Projectid>
<Projectname>Sabre</Projectname>
<Photo>None</Photo>
<Reportcount>0</Reportcount>
<Isanyreporting>No</Isanyreporting>
<Reportname>Shalini</Reportname>
</Project>
<Count>6</Count>
<Procount>2</Procount>
<Fieldnames>
<Fieldnamecount>16</Fieldnamecount>
<Group>
<Fieldname>Name</Fieldname>
</Group>
<Group>
<Fieldname>Empid</Fieldname>
</Group>
<Group>
<Fieldname>Desigid</Fieldname>
</Group>
<Group>
<Fieldname>Gender</Fieldname>
</Group>
<Group>
<Fieldname>Yearexperience</Fieldname>
</Group>
<Group>
<Fieldname>Monthexperience</Fieldname>
</Group>
<Group>
<Fieldname>Phone</Fieldname>
</Group>
<Group>
<Fieldname>Emailid</Fieldname>
</Group>
<Group>
<Fieldname>Projectid</Fieldname>
</Group>
<Group>
<Fieldname>Reportid</Fieldname>
</Group>
<Group>
<Fieldname>Isanyreporting</Fieldname>
</Group>
<Group>
<Fieldname>Reportcount</Fieldname>
</Group>
<Group>
<Fieldname>Reportname</Fieldname>
</Group>
<Group>
<Fieldname>Photo</Fieldname>
</Group>
<Group>
<Fieldname>Displaylevel</Fieldname>
</Group>
<Group>
<Fieldname>Empcost</Fieldname>
</Group>
</Fieldnames>
</root> 
```

我的代码：

```
public class XMLParsingDomExample extends Activity {
    List myEmpls;
    Document dom;

    public XMLParsingDomExample() {

        myEmpls = new ArrayList();
        parseXmlFile();

        parseDocument();

        printData();

    }

    /*public void runExample() {

    }*/

    private void parseXmlFile() {
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
        System.out.println("Inside xml");

        try {
            URL url = new URL(
                    "http://fhkghkkl.guio");
            // "http://totheriver.com/learn/xml/code/employees.xml");

            DocumentBuilder db = dbf.newDocumentBuilder();

            dom = db.parse(new InputSource(url.openStream()));

            dom.getDocumentElement().normalize();
            System.out.println("after xml");

        } catch (ParserConfigurationException pce) {
            pce.printStackTrace();
        } catch (SAXException se) {
            se.printStackTrace();
        } catch (IOException ioe) {
            ioe.printStackTrace();
        }
    }

    private void parseDocument() {
        Element docEle = dom.getDocumentElement();
        NodeList nl = docEle.getElementsByTagName("Group");
        // NodeList nl = docEle.getElementsByTagName("Common");
        // NodeList nl = dom.getDocumentElement().getChildNodes();

        System.out.println("nodelist is :" + nl);
        if (nl != null && nl.getLength() > 0) {
            for (int i = 0; i < nl.getLength(); i++) {

                Element el = (Element) nl.item(i);

                System.out.println("b4 getemployee");
                Employee e = getEmployee(el);

                myEmpls.add(e);
                System.out.println("employee size is =" + myEmpls.size());
            }
        }
    }

    private Employee getEmployee(Element empE1) {

        String empId = getTextValue(empE1, "Empid");

        String name = getTextValue(empE1, "Name");
        String repCount = getTextValue(empE1, "Reportcount");
        String desid = getTextValue(empE1, "Desigid");
        String projectid = getTextValue(empE1, "Projectid");
        String projectname = getTextValue(empE1, "Projectname");
        // String gender =
        // getTextValue(empE1, "Gender");
        // int yrEx = getIntValue(empE1,
        // "Yearexperience");
        // int mnthEx = getIntValue(empE1, "Monthexperience");
        // int prcId = getIntValue(empE1, "ProjectId"); String prcname =
        // getTextValue(empE1,
        // "Projectname");
        // int dislev = getIntValue(empE1, "Displaylevel"); String photo
        // = getTextValue(empE1, "Photo");
        // int phone = getIntValue(empE1, "Phone");
        // String emailid = getTextValue(empE1, "Emailid");

        Employee e = new Employee(empId, name, repCount, desid, projectid,
                projectname);
        return e;
    }

    // }

    private String getTextValue(Element ele, String tagName) {
        String textVal = null;
        NodeList nl = ele.getElementsByTagName(tagName);
        if (nl != null && nl.getLength() > 0) {
            Element el = (Element) nl.item(0);
            textVal = el.getFirstChild().getNodeValue();
        }

        return textVal;
    }

    private int getIntValue(Element ele, String tagName) {
        // in production application you would catch the exception
        return Integer.parseInt(getTextValue(ele, tagName));
    }

    private void printData() {

        System.out.println("No of Employees '" + myEmpls.size() + "'.");

        Iterator it = myEmpls.iterator();
        while (it.hasNext()) {
            System.out.println(it.next().toString());
        }
    }
}
    /*public static void main(String[] args) {

        XMLParsingDomExample dpe = new XMLParsingDomExample();

        dpe.runExample();
    }
}*/ 
```

我的日志猫：

我一个人需要这个：

```
01-22 13:10:44.519: I/System.out(1606): Employee Details - EmployeeId:370.Empname :Shalini, DesignId:9, ReportCount:0, ProjectId:1, ProjectName:Sabre, 
01-22 13:10:44.537: I/System.out(1606): Employee Details - EmployeeId:381.Empname :Arun, DesignId:0, ReportCount:1, ProjectId:1, ProjectName:Sabre, 
01-22 13:10:44.537: I/System.out(1606): Employee Details - EmployeeId:382.Empname :Manu, DesignId:0, ReportCount:1, ProjectId:1, ProjectName:Sabre, 
01-22 13:10:44.547: I/System.out(1606): Employee Details - EmployeeId:383.Empname :Ramakrishnan Nair, DesignId:0, ReportCount:1, ProjectId:1, ProjectName:Sabre, 
01-22 13:10:44.547: I/System.out(1606): 
```

但这也即将到来：

```
Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.578: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.578: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.597: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.597: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.617: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.617: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.637: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.637: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.657: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.657: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.667: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.677: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.677: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.687: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
    01-22 13:10:44.698: I/System.out(1606): Employee Details - EmployeeId:null.Empname :null, DesignId:null, ReportCount:null, ProjectId:null, ProjectName:null, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:19:13.930

如果您确定只有一个`Common`元素，并且它的所有子元素都是`Group`s，那么

```
NodeList common = docEle.getElementsByTagName("Common");
NodeList nl = common.item(0).getChildNodes(); 
```

如果没有，请使用更通用的 xpath 解决方案：

```
XPathFactory xpathFactory = XPathFactory.newInstance();
XPath xpath = xpathFactory.newXPath();
NodeList nl = (NodeList) xpath.evaluate("Common/Group", docEle, XPathConstants.NODESET); 
```

# visual-c++ - 从 form2 按钮单击访问 form1 文本框

> ID：14453994
> 
> 赞同：0
> 
> 时间：2013-01-22T08:01:05.327
> 
> 标签：visual-c++

我有 2 个 Windows 窗体。

首先，主窗口窗体具有多行文本框和一个按钮。该按钮打开第二种形式，我可以在其中使用 AddEntry 对象将数据添加到数组中。

在第二种形式中，我有文本框和一个按钮（btnAddEntry），它应该从第一种形式更新文本框的内容。

输入数据时，我想在第一个表单的文本框中显示数据。

问题是我想出的代码似乎不起作用。

我将如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-22T08:06:55.157

In Visual C# it can be done as follows:

In your secondForm, put the below given lines.

```
private firstForm form_obj;
private void form2_Button_Click()
{
    textBox1.Text = form_obj.textBox1.Text;
} 
```

That means, create an object of the form from which you want the values to be grabbed. Then take the value using that object and id of the form field. :)

# class - 如何在 ZF2 中重用模块的控制器？

> ID：14453995
> 
> 赞同：0
> 
> 时间：2013-01-22T08:01:23.243
> 
> 标签：class, frameworks, module, controller, zend-framework2

您好我正在尝试实例化我正在使用的不同模块（由我创建）的另一个类控制器的类控制器，但我不能这样做，因为我收到消息：

> 在.....中找不到类“ZfCommons\Controller\MyAbstractActionController”

当我执行命令时`use ZfCommons\Controller\MyAbstractActionController;`

第一个命令包含类`MyAbstractActionController`的文件是：

```
namespace ZfCommons\Controller; 
```

我想我必须在 PHP 中做一个要求或包含，但使用 ZF2 我认为也许有一种更优雅的方式来做到这一点。

我该怎么做？也许我使用了错误的东西。如果您需要查看更多代码，我可以复制和粘贴。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-22T08:18:42.083

如果您只是想获得一些类似对象的服务（例如，一些 AuthService），您可以将其注册为服务（您可能已经完成了，因为您调用`getAuthService()`了控制器）并使用 ServiceLocator 来获取它，或者 - 甚至更好地进行单元测试 -通过工厂将其注入您的控制器。您可能想看看[ZfcUser](https://github.com/ZF-Commons/ZfcUser)以了解它是如何完成的。

如果您 - 出于某种原因 - 坚持使用这种硬编码方法（这实际上与框架不符），我认为您只是错误地设置了自动加载或 ZfCommons 模块未激活。

**第一的**

检查您的 application.config.php 是否有已激活的模块。至少需要激活 ZfCommons 和 Application。

**第二**

检查 ZfCommons 的 Module.php 以初始化自动加载器：

```
<?php
namespace ZfCommons;

use Zend\ModuleManager\Feature\AutoloaderProviderInterface;
use Zend\Loader\StandardAutoloader;

class Module implements AutoloaderProviderInterface,
{
    // snip

    /**
     * {@inheritDoc}
     */
    public function getAutoloaderConfig()
    {
        return array(
            'Zend\Loader\StandardAutoloader' => array(
                'namespaces' => array(
                    __NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__,
                ),
            ),
        );
    }

    // snip
} 
```

这将为命名空间 ZfCommons 初始化类自动加载。

如果您的文件名根据[PSR-0](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md)正确映射到类和接口，它现在应该可以工作了。

# linker - 提供意外加载地址的 GNU 链接器映射文件

> ID：14453996
> 
> 赞同：4
> 
> 时间：2013-01-22T08:01:27.733
> 
> 标签：linker, arm, gnu

我正在开发一个嵌入式程序，其中有一个自定义链接器脚本。该程序有效，但我注意到链接器在内存中放置几个​​部分的方式可能有问题。

以下是链接描述文件的相关部分：

```
MEMORY {
    ROM (rx)    : ORIGIN = 0x00100000, LENGTH = 16k
    RAM (rwx)   : ORIGIN = 0x00200000, LENGTH = 4k
}

SECTIONS {
    /* Other sections go here. */
    .data : {
...
    } >RAM AT>ROM

    .bss : {
...
    } >RAM

    .stack : {
...
    } >RAM
...
} 
```

这是 MAP 文件的相关部分：

```
.data           0x00200040        0x0 load address 0x001003d4
                0x001003d4                __data_load = LOADADDR (.data)
                0x00200040                __data_start = .
 *(.data)
 *(.data*)
                0x00200040                . = ALIGN (0x4)
                0x00200040                _edata = .

.igot.plt       0x00200040        0x0 load address 0x001003d4
 .igot.plt      0x00000000        0x0 ./debug/sam7s_startup.o

.bss            0x00200040        0x0 load address 0x001003d4
                0x00200040                __bss_start__ = .
 *(.bss)
 *(.bss*)
 *(COMMON)
                0x00200040                . = ALIGN (0x4)
                0x00200040                _ebss = .
                0x00200040                __bss_end__ = .
                0x00200040                PROVIDE (end, _ebss)
                0x00200040                PROVIDE (_end, _ebss)
                0x00200040                PROVIDE (__end__, _ebss)

.stack          0x00200040      0x200 load address 0x001003d4
                0x00200040                __stack_start__ = . 
```

* * *

因此，从映射文件来看，在我看来 .bss 和 .stack 部分正在获取 ROM 中的加载地址。我认为这是因为这两行：

`.bss 0x00200040 0x0 load address 0x001003d4`
`.stack 0x00200040 0x200 load address 0x001003d4`

这不好，因为它们在 ROM 中占用空间是没有意义的。.bss 部分虽然现在为空，但将包含未初始化的全局变量，这些变量将在代码中设置为零。堆栈也只是将在代码中初始化的 RAM 的一部分。因此，这些部分中的任何一个都不需要占用 ROM 中的空间。

所以我的问题是，阻止 .bss 和 .stack 加载到 ROM 中的正确方法是什么？我是否必须将 .bss 和 .stack 部分的末尾从`>RAM`更改为`>RAM AT>RAM`？这似乎有点多余。

**在测试了一些东西后，我发现了以下内容：**

(1) 使用该`(NOLOAD)`属性（例如，用 替换`.stack :`）`.stack (NOLOAD) :`仍然会导致映射文件显示 .stack 和 .bss 部分的 ROM 加载地址。

(2)`RAM AT>RAM`如上所述，指定确实会阻止映射输出显示 .stack 和 .bss 部分的 ROM 加载地址。

(3) 当映射文件显示 .bss 和 .stack 部分的加载地址时，看起来它们实际上并没有占用 ROM 中的空间。.stack 部分虽然有 0x200 字节长，但似乎并没有真正占用 ROM 中的空间，即使我为它指定填充值并在链接描述文件中在它之后放置一个部分。链接描述文件中跟随它的部分不会随着不同的堆栈大小移动。

因此，也许映射文件输出并不意味着我认为的意思，并且 .stack 和 .bss 部分实际上根本没有在 ROM 中获得加载地址。在尝试了一些东西之后，它肯定会出现这种方式。知道为什么映射输出使它看起来好像这些部分被赋予了 ROM 加载地址仍然会很有趣，尤其是在`(NOLOAD)`使用时。这可能只是 LD 如何生成其地图输出文件的错误吗？

另请参阅：[了解 GNU 链接描述文件的位置计数器](https://stackoverflow.com/questions/13831462/understanding-the-location-counter-of-gnu-linker-scripts)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-27T23:41:28.083

您正在寻找`NOLOAD`. 请参阅[Gnu LD 输出部分类型](http://sourceware.org/binutils/docs-2.23.1/ld/Output-Section-Type.html)。我现在读了你的整篇文章，我看到你假设了`NOLOAD`。使用`NOLOAD`，定义了所有地址。如果您在“C”代码中使用它们，它们将从该地址加载。您必须提供一些启动代码，通常在清除*BSS*区域的汇编程序中。通常，您不希望您的*堆栈*被初始化。

一个`NOLOAD`部分就像一个*编译/链接*时间`malloc()`。您可以使用内存，只是不要期望那里有任何东西。对于*BSS* ，您在链接描述文件中定义`__bss_start__`并`__bss_end__`编写一个简短的初始化例程以使用这些变量/地址清除此内存。

**注意：**所有内容都显示在地图文件中。它不会出现在生成的二进制文件中，也不会在 ELF 中包含数据。只有部分元信息将保存在 ELF 中。

**编辑：**地图文件中的*加载地址*就像一个用于加载的位置计数器。加载地址是`ld`设置放置东西的地方。`ld`如果它们的大小为零，则不是真的把东西放在那里。地图输出在语言上不是明确的；我可以看到它是如何令人困惑的，但`ld`在创建输出二进制文件时做得正确。**BSS**通常`NOLOAD`由目标文件中的 gcc 标记，因此在示例中只有**堆栈**部分需要`NOLOAD`. 对于类似**stack**的东西，一个部分并不是真正需要的，只需要一组符号声明就可以了。

# vba - 如何在 Word 2010 中找到文本的位置？

> ID：14453997
> 
> 赞同：0
> 
> 时间：2013-01-22T08:01:33.563
> 
> 标签：vba, textbox, ms-word

我正在 Word 2010 中编写一些 VBA 来生成一个文本框并将其定位在段落的开头附近，就像边缘的突出显示一样。所以基本上我将突出显示段落的第一个短语，运行宏，将生成框，与文本对齐。

问题是指定文本框的垂直位置。我希望我可以从突出显示的文本部分中获得“Top”属性，但是在 ActiveDocument 或 Selection 对象中没有任何有用的东西。有谁知道如何做到这一点？谢谢