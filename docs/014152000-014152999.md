# StackOverflow 问答 14152000-14152999

# asp.net - 这个经典的 asp 代码在 asp.net 中会是什么样子？

> ID：14152000
> 
> 赞同：0
> 
> 时间：2013-01-04T06:10:04.507
> 
> 标签：asp.net, asp-classic

我必须将旧经典 ASP 站点的一些逻辑转换为 asp.net 项目。我无法理解一些负责发布数据的功能。

这是经典 ASP 中的函数：

```
<%Function PostHTTP(strURL, strBody, strErrTemplate)
ON ERROR RESUME NEXT
Dim objHTTP, strResult

  Set objHTTP = Server.CreateObject("Msxml2.ServerXMLHTTP.3.0")

  If Err.Number <> 0 Then
    strResult = Replace(strErrTemplate, "%1", Err.Number)
    strResult = Replace(strResult, "%2", Err.Description)
    strResult = Replace(strResult, "%3", "Init::" & Err.Source)
    Set objHTTP = Nothing
    PostHTTP = strstrResult
    Exit Function
  End If

  With objHTTP
    .Open "POST", strURL, False
    .setRequestHeader "Content-Type", "application/x-www-form-urlencoded"
    .setTimeouts 30000, 30000, 60000, 240000
    .send strBody

    If Err.Number <> 0 Then
      strResult = Replace(strErrTemplate, "%1", Err.Number)
      strResult = Replace(strResult, "%2", Err.Description)
      strResult = Replace(strResult, "%3", "Post::" & Err.Source)
    Else
      strResult = .responseText
    End If
  End With

' Response.Write "strResult: " & strResult
'Response.End

  If Err.Number > 0 Then
    strResult = Replace(strErrTemplate, "%1", Err.Number)
    strResult = Replace(strResult, "%2", Err.Description)
    strResult = Replace(strResult, "%3", Err.Source)
  ElseIf Len(strResult) = 0 Then
    strResult = Replace(strErrTemplate, "%1", 2000)
    strResult = Replace(strResult, "%2", "No response received from remote server.")
    strResult = Replace(strResult, "%3", "PostHTTP")
  End If

  PostHTTP = strResult
  Set objHTTP = Nothing
End Function 
```

这在 asp.net 中会是什么样子？

ps：我已经尝试过自己的发布功能，但显然遗漏了一些东西，因为我的不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:26:03.080

[如果您使用WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient%28v=vs.110%29.aspx)类，POST 的主要任务将非常简单。例如，

```
// Form URL and POST-DATA
...
using (WebClient wc = new WebClient())
{
    wc.Headers[HttpRequestHeader.ContentType] = "application/x-www-form-urlencoded";
    string strResult = wc.UploadString(strURL, strBody);
}
... 
```

对于更精细的控制，您可以使用[WebRequest](http://msdn.microsoft.com/en-us/library/system.net.webrequest.aspx)类。

**编辑**：这是示例代码，`WebRequest`因为您似乎需要指定无法使用的超时值`WebClient`

```
var request = WebRequest.Create(strUrl);
request.Method = "POST";
request.ContentType = "application/x-www-form-urlencoded";
request.Timeout = 240000; // set timeout
using (var writer = new StreamWriter(request.GetRequestStream()))
{
    // write to the body of the POST request
    writer.Write(strBody);
} 
```

# r - 在 Sublime Text 2 中从另一个构建系统访问一个构建系统

> ID：14152004
> 
> 赞同：5
> 
> 时间：2013-01-04T06:10:21.127
> 
> 标签：r, sublimetext2, knitr

我正在尝试在 Sublime Text 2 中为 knitr/Sweave 创建一个构建系统。我当前的简单（且有效）构建系统如下：

```
{
    "cmd": ["bash", "-c", "/usr/bin/R64 CMD Sweave '${file_name}' && pdflatex '${file_base_name}.tex' -interaction=nonstopmode -synctex=1 %S -f -pdf && /Applications/Skim.app/Contents/MacOS/Skim '${file_base_name}.pdf'"], 
    "path": "$PATH:/usr/texbin:/usr/local/bin", 
    "selector": "text.tex.latex.sweave","shell":false,
    "file_regex": "^(...*?):([0-9]+): ([0-9]*)([^\\.]+)"
} 
```

*（`text.text.latex.sweave`上下文在 Sweave Textmate 包中定义，哪种在 Sublime Text 中有效）*

构建系统获取一个`.Rnw`文件，将其转换为 TeX，然后`pdflatex`在其上运行。这个构建系统可以工作，但它在如何打开 Skim 方面相当有限（它只是打开 PDF——仅此而已）。LaTeXTools Sublime Text 包更加健壮，可以打开/刷新 Skim，同时突出显示修改的行并提供 Skim 的神奇反向搜索。

我不想重写 LaTeXTools 构建系统，特别是因为它使用单独的 Python 脚本完成了大部分繁重的工作（和 Skim 魔术）。但是，我真的很希望能够使用它来构建从 Sweave 生成​​的 TeX 文件。

理想情况下，我想以某种方式嵌套一个构建系统——将`.Rnw`文件转换为 TeX，然后立即运行已经存在的 LaTeXTools 构建系统。在伪代码中：

```
{
    [CONVERT RNW TO ${file_name}.tex && RUN THE LATEXTOOLS BUILD SYSTEM ON ${file_name}.tex]
} 
```

是否可以从另一个构建系统内部访问构建系统（或者，从 bash 访问构建系统）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T05:13:00.640

这是 LatexTools 插件中的两个文件的补丁，用于处理 Rnw 文件，以及 Latex 插件的一个补丁，以使 Rnw 文件的行为类似于 LaTeX 文件。

首先是 Latex 插件的补丁，特别是文件 LaTeX.tmLanguage：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>fileTypes</key>
    <array>
        <string>tex</string>
        <string>Rnw</string>
    </array> 
```

观察我如何将元素添加到数组中以处理 Rnw 扩展。

现在是 makePDF.py 的补丁

寻找这样的一条线

```
if self.tex_ext.upper() != ".TEX":
    sublime.error_message("%s is not a TeX source file: cannot compile." % (os.path.basename(view.file_name()),))
    return 
```

并将其替换为

```
if (self.tex_ext.upper() != ".TEX") and (self.tex_ext.upper() != ".RNW"):
    sublime.error_message("%s is not a TeX or Rnw source file: cannot compile." % (os.path.basename(view.file_name()),))
    return 
```

然后寻找像这样的线

```
os.chdir(tex_dir)
CmdThread(self).start()
print threading.active_count() 
```

并将其替换为

```
os.chdir(tex_dir)
if self.tex_ext.upper() == ".RNW":
    # Run Rscript -e "library(knitr); knit('" + self.file_name + "')"
    os.system("Rscript -e \"library(knitr); knit('"+ self.file_name +"')\"")
    self.file_name = self.tex_base + ".tex"
    self.tex_ext = ".tex"
CmdThread(self).start()
print threading.active_count() 
```

最后一个补丁是文件 jumpToPDF.py

找一条线

```
if texExt.upper() != ".TEX":
    sublime.error_message("%s is not a TeX source file: cannot jump." % (os.path.basename(view.fileName()),))
    return 
```

并将其替换为

```
if (texExt.upper() != ".TEX") and (texExt.upper() != ".RNW"):
    sublime.error_message("%s is not a TeX or Rnw source file: cannot jump." % (os.path.basename(view.fileName()),))
    return 
```

祝你好运！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-24T15:03:51.500

感谢 Herberto 所需更改的详细说明！

我只是继续并更改了提到的文件。一切都像魅力一样！有一件事是，不确定是否需要，但我在编辑它们后将两个 python 文件重新编译为 .pyc。

```
python -m py_compile makePDF.py 
```

做这项工作。是否有人在该行遇到“无效的语法错误”

```
print threading.active_count() 
```

重新编译时，只需将其替换为：

```
print(threading.active_count()) 
```

此外，由于 LaTeXTools 的日志解析器仅显示来自日志文件的错误，我们可能也有兴趣查看 knitr 输出。您可以通过替换将其存储在单独的日志文件中：

```
os.system("Rscript -e \"library(knitr); knit('"+ self.file_name +"')\"") 
```

和：

```
 knitcmd = "/usr/bin/Rscript -e \"library(knitr); knit('"+ self.file_name +"')\""
    process = subprocess.Popen(knitcmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True)
    #Launch the shell command:
    knit_output, knit_error = process.communicate()
    #store results in a log
    knit_log = open(self.tex_base + "_knitrbuild.log", "w")
    knit_log.write(knit_output)
    knit_log.write(knit_error)
    knit_log.close() 
```

在我使用简单的 bash 脚本构建文档之前（特定于 Mac）：

```
#!/bin/bash
[ $# -eq 0 ] && { echo "Usage: $0 file.Rnw for knitting"; exit 1; }
rnw="library(knitr);knit("\'"$1.Rnw"\'")"
echo "Rscript executing:" $rnw
tex="$1.tex"
pdf="$1.pdf"
Rscript -e $rnw && pdflatex $tex && pdflatex $tex && open -a Preview $pdf

retval=$?
[ $retval -eq 0 ] && echo "$rnw knitted and $pdf ready" 
```

但是能够自定义 LaTeXTools 并直接从 ST2 运行它并支持 Skim 非常好。

您是否有任何理由不想将您概述的更改直接添加到您的包源中？（也许我的只是我的版本太旧了。）

# visual-studio - CL 编译器无法在 cygdrive 中选择绝对包含路径

> ID：14152006
> 
> 赞同：0
> 
> 时间：2013-01-04T06:10:37.440
> 
> 标签：visual-studio, compiler-construction, cygwin, include-path

我对使用 cygwin 和在 cygwin 上使用 CL 编译器非常陌生。（这是因为我的项目要求）。

我实际上面临着由 cl 编译器拾取的包含路径的问题。我们使用 makefile 来构建项目。

makefile 自动获取绝对路径（例如，/cygdrive/m/username/project_name/include/）并将其作为参数提供给 CL 编译器的 /I（包含选项）。

但是 Cl Compiler 无法在此路径中找到头文件，而头文件实际上存在于该路径中。

相反，如果我更改 makefile 以提供相对路径（例如，../src/../project_name/include/ 而不是从 /cygdrive/m/username 开始），那么它能够找到并包含头文件此路径 ...（这些是之前由绝对路径引用的相同头文件）。

我不确定为什么在 /I 选项中给出绝对路径时 CL 编译器无法找到并包含头文件。

在 Cygwin 中使用时，是否有任何其他选项或任何其他方式来提供包含路径？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T18:43:16.427

尝试在您的 makefile 中使用“cygpath”来转换文件的格式。对于您提供的特定示例，下面显示的命令将起作用。

```
INC_DIR=$(shell cygpath -m $/cygdrive/m/username/project_name/include/) 
```

转换所有路径后，像往常一样在 makefile 中包含路径

```
-I$(INC_DIR) 
```

# tridion - 通过 Tridion Experience Manager (UI) 创建新页面时出现 400 错误

> ID：14152009
> 
> 赞同：2
> 
> 时间：2013-01-04T06:11:04.203
> 
> 标签：tridion, tridion-2011, experience-manager

[我遇到了与使用 Experience Manager 创建页面的 400 错误（错误请求）](https://stackoverflow.com/questions/12914834/400-error-bad-request-creating-a-page-with-experience-manager)类似的问题，但是，我收到了不同的错误消息。

通过 UI 创建新页面时会出现 404。该页面是在 Content Manager 中使用原型内容创建的，但并未发布到 Staging，即没有发布事务添加到发布队列中。因此，当 iFrame 内容刷新指向新页面的 URL 时，那里什么都没有，因此出现 404。

事件查看器日志显示：

```
Concurrent access to Session object detected. Thread (41) and (3) trying to access same Session concurrently. Session objects are not thread-safe! 
```

CD 日志只显示（看起来像）无关的调试输出。

我已尝试根据文档（[http://sdllivecontent.sdl.com/LiveContent/content/en-US/UIU4SDLT2011SP1/task_2F3D125DF7274CC9BE33BBBDC284D314](http://sdllivecontent.sdl.com/LiveContent/content/en-US/UIU4SDLT2011SP1/task_2F3D125DF7274CC9BE33BBBDC284D314)）创建一个空白 HTML 页面 se_blank.html，但无济于事。

有人可以在这里提供一些进一步的指导吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-16T10:21:03.517

创建新页面时，应发生两件事： - 应发送页面以进行发布 - 应为新页面生成会话预览，您将被重定向到该页面

如果没有为新页面配置发布目标，第一步可能会失败 如果出现以下情况，第二步可能会失败：

*   您在设置中关闭了会话预览
*   会话预览未正确配置
*   您与登台网站上的默认页面路径路由设置不同。默认情况下，它是发布路径 + 结构化组路径 + 页面文件名

# ruby-on-rails - 以 Rails 形式获取变量名参数？

> ID：14152013
> 
> 赞同：0
> 
> 时间：2013-01-04T06:11:17.723
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我的表单为可变长度集合的每个成员生成一个字段，并为输入字段分配集合成员 ID 的 ID。IE，

```
<input type="text" id="1" val="Value for collection member with id #1">
<input type="text" id="5" val="Value for collection member with id #5"> 
```

在控制器中，我试图通过像这样遍历集合来获取这些值：

```
 collectors.each do |col|
    amount = params[col.id]
    # ...process this value
  end 
```

但是我在 amount = params[col.id] 处得到一个 nil 值错误。如何访问这些变量？

**编辑**我刚刚更改了它，所以我使用 javascript 生成 KV 对的哈希数组并将其粘贴到隐藏字段中，以便我的控制器可以评估它。它有效，但从安全角度来看，这有多糟糕？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:17:06.247

代替

```
<input type="text" id="1" val="Value for collection member with id #1">
<input type="text" id="5" val="Value for collection member with id #5"> 
```

和

```
<input type="text" id="1" name="1" val="Value for collection member with id #1">
<input type="text" id="5" name="5" val="Value for collection member with id #5"> 
```

在控制器中

```
collectors.each do |col|
  amount = params[col.id] if params[col.id]
  # ...process this value
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:20:36.130

而不是使用“每个”尝试：

```
amount = collectors.map(&:id) 
```

# java - 如何防止从其他网站调用我的 servlet

> ID：14152014
> 
> 赞同：5
> 
> 时间：2013-01-04T06:11:18.870
> 
> 标签：java, security, jakarta-ee, authentication, servlets

好的，所以我有一个像这样的简单 servlet。

```
public class SimpleServlet extends HttpServlet {
public void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException {
    resp.setContentType("text/plain");
    resp.getWriter().println(req.getParameter("name"));

    }
} 
```

可以说当我使用这个 URL /simple_servlet.do 时它会被触发

我如何确保此 servlet 仅在从我的网站调用而不是从其他网站调用时才有效。换句话说，是否有一些请求参数（不能被欺骗）让我知道。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:21:14.847

我能想到的唯一方法是，您从您的网站在服务器上生成一个令牌（例如 JSESSIONID 上的 MD5），然后将该令牌传递回您的 servlet。只有您的网站知道令牌，其他网站无法窃取 cookie（包括 JSESSIONID）并从外部计算令牌。这也应该免受[XSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery)攻击。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:21:46.417

您可以使用客户端和服务器之间的会话来检测是否是第一次。

```
if (req.getSession(false) == null) { // false = do not create a session
   // No user session
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:34:22.847

简单地说，您可以通过以下方式进行预防。

1.  使用`POST`方法，因为更难破解；[差异 GET 与 POST](http://www.diffen.com/difference/Get_vs_Post)
2.  如果在浏览器中输入 URL 则可以直接发送忽略 GET 方法
3.  在处理请求之前检查身份验证用户名、密码
4.  考虑写授权书`Filter`

# android - JSON解析Android中的NullPointerException

> ID：14152015
> 
> 赞同：0
> 
> 时间：2013-01-04T06:11:26.583
> 
> 标签：android

我正在学习 android 中的 JSON 解析。我的 logcat 显示 NullPointerException onpostexecute 方法。我已经分享了下面的代码。

```
 protected String doInBackground(String... urls) 
{

    // TODO Auto-generated method stub
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url1);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

   return result;

}
 protected void onPostExecute(String result) {
      // try parse the string to a JSON object
        try {
            jObj = new JSONObject(result);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

    }
      public JSONObject getJSONFromUrl()
    { 
  return jObj;
     } 
```

Main Activity 中的 JSONParser 对象

```
JSONParser jParser = (JSONParser) new JSONParser().execute(url);
    try
    {
        Thread.sleep(2000);

    }
    catch (InterruptedException e)
    {
        // TODO: handle exception
        e.printStackTrace();
    }

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(); 
```

我无法弄清楚问题所在。提供建议……

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:26:30.750

从服务器获得响应后，您始终必须添加 Null 检查。

# iphone - 通用应用程序中的 IOS 6 方向问题

> ID：14152017
> 
> 赞同：5
> 
> 时间：2013-01-04T06:11:31.363
> 
> 标签：iphone, ipad, ios5, ios6, uiinterfaceorientation

在我的通用应用程序中，我需要为 iphone 和 ipad 处理不同的方向。对于 ipad，我需要允许横向和单独的 iphone 纵向。我首先返回了以下代码

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    if(UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)
        return UIInterfaceOrientationIsPortrait(interfaceOrientation);

    return UIInterfaceOrientationIsLandscape(interfaceOrientation);
} 
```

在 IOS 5 中运行良好但在 IOS 6 中自动旋转方法根本没有被触发。之后，我将方法更改为，

```
-(BOOL)shouldAutorotate
{
    return NO;
}

-(NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskAll;
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
{
    return UIInterfaceOrientationMaskPortrait;
} 
```

甚至这种方法在 IOS 6 中也根本没有触发。

我的 plist 设置是

![在此处输入图像描述](../Images/5c8aeb23e8afda88fad9ed471d7044dd.png)

我需要为 IOS 5 和 IOS 6 处理两个方向 [iPhone-portrait,iPad-landscape]。请指导我解决此问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:48:33.667

您的 rootviewcontroller 是 UINavigation 控制器还是 UITabbar 控制器？如果是这样，如果您在视图控制器中调用这些方法，这些方法将不起作用。

因此，在这些容器视图控制器上创建一个目标 C 类别并添加到您的项目中。

```
@implementation UINavigationController (autorotate)

 -(NSUInteger)supportedInterfaceOrientations
 {
   //make the check for iphone/ipad here

if(IPHONE)
    {
return UIInterfaceOrientationMaskPortrait;
    } 
else
    {
return UIInterfaceOrientationMaskLandscape;
    }

 }

 - (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation
 {
return UIInterfaceOrientationPortrait;
 }

 - (BOOL)shouldAutorotate
 {
return NO;
 } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-19T07:30:05.073

将此方法添加到您的应用程序委托其 100% 工作

```
- (NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window  // iOS 6 autorotation fix
{
    if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone) {
        return UIInterfaceOrientationPortraitUpsideDown;
    }
    else
        return  UIInterfaceOrientationMaskAll;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:42:11.577

你想要的是以下内容：

```
#pragma mark - iOS 5.1 and under Rotation Methods

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation; {
  if([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone){
    return UIInterfaceOrientationIsPortrait(interfaceOrientation);
  }
  else{
    return UIInterfaceOrientationIsLandscape(interfaceOrientation);
  }
}

#pragma mark - iOS 6.0 and up Rotation Methods

- (BOOL)shouldAutorotate; {
  return YES;
}

- (NSUInteger)supportedInterfaceOrientations; {
  if([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone){
    return (UIInterfaceOrientationMaskPortrait | UIInterfaceOrientationMaskPortraitUpsideDown);
  }
  else{
    return UIInterfaceOrientationMaskLandscape;
  }
}

- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation; {
  if([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone){
    return UIInterfaceOrientationPortrait;
  }
  else{
    return UIInterfaceOrientationLandscapeLeft;
  }
} 
```

你必须确保的是***2-fold***。

**首先**，这是在你身上实现的`RootViewController`。如果您将`UIViewController`' 嵌入到 a `UINavigationController`（或 a `UITabBarController`）中，那么您必须创建一个自定义`UINavigationController`（或自定义`UITabBarController`）类来实现这些方法并使用它。

**其次**，您必须确保`Info.plist`文件中支持的方向。否则，系统将覆盖这些方法的返回值（**注意：**您也可以通过单击目标摘要页面中的按钮轻松更改这些值）。

希望有帮助！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-02T21:42:26.943

这是 Pradeep 答案的快速版本。您不需要子类化所有导航控制器来获得您想要的工作（也就是只为 iPhone 关闭横向）

只需将其添加到您的应用程序委托中：

```
func application(application: UIApplication, supportedInterfaceOrientationsForWindow window: UIWindow?) -> Int {
    if UIDevice.currentDevice().userInterfaceIdiom == .Phone {
        return Int(UIInterfaceOrientationMask.Portrait.rawValue)
    } else {
        return Int(UIInterfaceOrientationMask.All.rawValue)
    }
} 
```

# performance - 查询耗时 944,319.072 毫秒

> ID：14152023
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:12:15.973
> 
> 标签：performance, postgresql, postgresql-9.1

此查询耗时 944,319.072 毫秒并返回 27 行。

```
SELECT
    AP_ATTRIBUTE.stylename,
    AP_BASIC.style,
    AP_ATTRIBUTE.color,
    AP_ATTRIBUTE.size,
    AP_BASIC.ap_sizesequence_id AS apSizesequenceId,
    M_TRANSACTION.movementdate AS MOVEMENTDATE,
    SUM(M_TRANSACTION.MOVEMENTQTY) AS MOVEMENTQTY,
    COALESCE(M_PRODUCTPRICE.pricelist, 999999) AS pricelist,
    M_INOUT.M_INOUT_ID,
    M_INOUT.DOCUMENTNO AS DOCUMENTNO,
    C_BPARTNER.VALUE AS BPNAME,
    '' AS M_MOVEMENTLINE_ID,
    '' AS MOVEMENT,
    '' AS MOVEMENT_DESCRIPTION,
    '' AS M_INVENTORY_ID,
    '' AS M_MOVEMENT_ID,
    '' AS M_PRODUCTIONPLAN_ID,
    '' AS PRODUCTION_PLAN
FROM 
    M_TRANSACTION
    LEFT JOIN 
    AP_ATTRIBUTE ON AP_ATTRIBUTE.M_PRODUCT_ID = M_TRANSACTION.M_PRODUCT_ID
    LEFT JOIN 
    AP_BASIC ON AP_BASIC.AP_BASIC_ID = AP_ATTRIBUTE.AP_BASIC_ID
    LEFT JOIN 
    M_PRODUCTPRICE ON 
        M_TRANSACTION.M_PRODUCT_ID = M_PRODUCTPRICE.M_PRODUCT_ID
        AND M_PRODUCTPRICE.m_pricelist_version_id = '69CBAFD24AB24E3CB9B9A44E282D62EC',
        M_INOUTLINE,
        M_INOUT,
        C_BPARTNER
WHERE 
    M_TRANSACTION.M_INOUTLINE_ID = M_INOUTLINE.M_INOUTLINE_ID
    AND M_INOUTLINE.M_INOUT_ID = M_INOUT.M_INOUT_ID
    AND M_TRANSACTION.M_INOUTLINE_ID IS NOT NULL
    AND M_INOUT.C_BPARTNER_ID = C_BPARTNER.C_BPARTNER_ID
    AND M_TRANSACTION.AD_CLIENT_ID IN (
        '0',
        'FF80818129E99DC80129E9AD546A0708'
        )
    AND M_TRANSACTION.AD_ORG_ID IN (
        '44523886B0E0423584BB0E87133F3EE4',
        '4510F92E007E48B28EE6CEB088A78348',
        '0'
        )
    AND AP_ATTRIBUTE.isActive = 'Y'
    AND 1 = 1
    AND M_TRANSACTION.movementdate >= to_date('2012-12-01')
    AND M_TRANSACTION.movementdate < to_date('2013-01-01')
    AND M_INOUT.M_WAREHOUSE_ID = '50657AE0F49A421A9F10154C8632A726'
    AND M_INOUT.ISSOTRX = 'N'
GROUP BY
    AP_ATTRIBUTE.stylename,
    AP_BASIC.style,
    AP_ATTRIBUTE.color,
    AP_ATTRIBUTE.size,
    AP_BASIC.ap_sizesequence_id,
    M_TRANSACTION.movementdate,
    M_PRODUCTPRICE.pricelist,
    M_INOUT.M_INOUT_ID,
    M_INOUT.DOCUMENTNO,
    C_BPARTNER.VALUE
ORDER BY
    M_TRANSACTION.movementdate,
    M_INOUT.M_INOUT_ID,
    style,
    color,
    size 
```

中有 2,962,657 行`M_TRANSACTION`。
pk：m_transaction_id
索引：m_product_id

中有 106,380 行`AP_ATTRIBUTE`。
pk: AP_ATTRIBUTE_id
无索引

中有 6,128 行`AP_BASIC`。
pk: AP_BASIC_id
无索引

中有 223,917 行`M_PRODUCTPRICE`。
索引：（m_pricelist_version_id，m_product_id）

中有 2,000,329 行`M_INOUTLINE`。
pk：m_inoutline_id
索引：m_product_id、m_inout_id

中有 45,919 行`M_INOUT`。
pk：m_inout_id
索引：m_inout_id

`EXPLAIN ANALYZE`揭示了这个计划（也在[explain.depesz.com](http://explain.depesz.com/s/ROV)）：

```
GroupAggregate  (cost=201073.74..201073.78 rows=1 width=138) (actual time=944255.849..944256.284 rows=517 loops=1)
  ->  Sort  (cost=201073.74..201073.74 rows=1 width=138) (actual time=944255.828..944255.859 rows=517 loops=1)
        Sort Key: m_transaction.movementdate, m_inout.m_inout_id, ap_basic.style, ap_attribute.color, ap_attribute.size, ap_attribute.stylename, ap_basic.ap_sizesequence_id, m_productprice.pricelist, m_inout.documentno, c_bpartner.value
        Sort Method: quicksort  Memory: 162kB
        ->  Nested Loop  (cost=0.00..201073.73 rows=1 width=138) (actual time=272067.456..944244.793 rows=517 loops=1)
              ->  Nested Loop  (cost=0.00..201066.14 rows=1 width=146) (actual time=272067.433..944239.495 rows=517 loops=1)
                    ->  Nested Loop  (cost=0.00..201058.34 rows=1 width=107) (actual time=13.225..943784.425 rows=28860 loops=1)
                          ->  Nested Loop Left Join (cost=0.00..201049.06 rows=1 width=107) (actual time=13.197..940249.631 rows=28860 loops=1)
                                ->  Nested Loop Left Join (cost=0.00..201040.64 rows=1 width=136) (actual time=13.122..938969.396 rows=28860 loops=1)
                                      ->  Nested Loop (cost=0.00..201032.88 rows=1 width=130) (actual time=13.086..938463.010 rows=28860 loops=1)
                                            Join Filter: ((m_transaction.m_product_id)::text = (ap_attribute.m_product_id)::text)
                                            ->  Seq Scan on m_transaction  (cost=0.00..188132.06 rows=1 width=78) (actual time=0.015..932.400 rows=28936 loops=1)
                                                  Filter: ((m_inoutline_id IS NOT NULL) AND ((ad_client_id)::text = ANY ('{0,FF80818129E99DC80129E9AD546A0708}'::text[])) AND (movementdate >= '2012-12-01 00:00:00'::timestamp without time zone) AND (movementdate < '2013-01-01 00:00:00'::timestamp without time zone) AND ((ad_org_id)::text = ANY ('{44523886B0E0423584BB0E87133F3EE4,4510F92E007E48B28EE6CEB088A78348,0}'::text[])))
                                            ->  Seq Scan on ap_attribute  (cost=0.00..11820.75 rows=86405 width=85) (actual time=0.001..20.121 rows=86645 loops=28936)
                                                  Filter: (isactive = 'Y'::bpchar)
                                      ->  Index Scan using ap_bs_key on ap_basic  (cost=0.00..7.76 rows=1 width=72) (actual time=0.013..0.014 rows=1 loops=28860)
                                            Index Cond: ((ap_basic_id)::text = (ap_attribute.ap_basic_id)::text)
                                ->  Index Scan using m_productprice_pricelist_ve_un on m_productprice  (cost=0.00..8.40 rows=1 width=36) (actual time=0.042..0.042 rows=1 loops=28860)
                                      Index Cond: (((m_pricelist_version_id)::text = '69CBAFD24AB24E3CB9B9A44E282D62EC'::text) AND ((m_transaction.m_product_id)::text = (m_product_id)::text))
                          ->  Index Scan using m_inoutline_key on m_inoutline  (cost=0.00..9.27 rows=1 width=66) (actual time=0.120..0.120 rows=1 loops=28860)
                                Index Cond: ((m_inoutline_id)::text = (m_transaction.m_inoutline_id)::text)
                    ->  Index Scan using m_inout_key on m_inout (cost=0.00..7.79 rows=1 width=72) (actual time=0.015..0.015 rows=0 loops=28860)
                          Index Cond: ((m_inout_id)::text = (m_inoutline.m_inout_id)::text)
                          Filter: (((m_warehouse_id)::text = '50657AE0F49A421A9F10154C8632A726'::text) AND (issotrx = 'N'::bpchar))
              ->  Index Scan using c_bpartner_key on c_bpartner (cost=0.00..7.57 rows=1 width=56) (actual time=0.007..0.008 rows=1 loops=517)
                    Index Cond: ((c_bpartner_id)::text = (m_inout.c_bpartner_id)::text) 
```

总运行时间：944,256.536 毫秒

27资料列</p>

总运行时间：944,319.072 毫秒

如何提高查询的性能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T15:14:00.047

我重新格式化，去除了噪音和杂物，添加了表别名并转换为显式 ANSI 连接语法，除此之外：

```
SELECT
    a.stylename,
    b.style,
    a.color,
    a.size,
    b.ap_sizesequence_id,
    t.movementdate,
    SUM(t.movementqty) AS movementqty,
    COALESCE(p.pricelist, 999999) AS pricelist,
    i.m_inout_id,
    i.documentno,
    c.value as bpname,
    '' as m_movementline_id,
    '' as movement,
    '' as movement_description,
    '' as m_inventory_id,
    '' as m_movement_id,
    '' as m_productionplan_id,
    '' as production_plan
FROM   M_TRANSACTION       t
JOIN   AP_ATTRIBUTE        a ON a.m_product_id = t.m_product_id
JOIN   M_INOUTLINE         l ON l.m_inoutline_id = t.m_inoutline_id
JOIN   M_INOUT             i ON i.m_inout_id = l.m_inout_id
JOIN   C_BPARTNER          c ON c.c_bpartner_id = i.c_bpartner_id
LEFT   JOIN AP_BASIC       b ON b.ap_basic_id = a.ap_basic_id
LEFT   JOIN M_PRODUCTPRICE p ON p.m_product_id = t.m_product_id
            AND p.m_pricelist_version_id = '69CBAFD24AB24E3CB9B9A44E282D62EC'
WHERE  t.ad_client_id = ANY(
       '{FF80818129E99DC80129E9AD546A0708
        ,0}')
AND    t.ad_org_id = ANY(
       '{44523886B0E0423584BB0E87133F3EE4
        ,4510F92E007E48B28EE6CEB088A78348
        ,0}')
AND    t.movementdate >= '2012-12-01 0:0'::timestamp
AND    t.movementdate <  '2013-01-01 0:0'::timestamp
AND    i.m_warehouse_id = '50657AE0F49A421A9F10154C8632A726'
AND    i.issotrx = 'N'
AND    a.isactive = 'Y'
GROUP BY
    a.stylename,
    a.color,
    a.size,
    b.style,
    b.ap_sizesequence_id,
    t.movementdate,
    p.pricelist,
    i.m_inout_id,
    c.value
ORDER BY
    t.movementdate,
    i.m_inout_id,
    b.style,
    a.color,
    a.size 
```

### 要点

*   添加**表别名**以使怪物更易于阅读。

*   删除了几个冗余的**列别名**，例如`b.ap_sizesequence_id AS apsizesequenceid`

*   转换为**小写**，混合大小写标识符只是噪音。

*   将您的联接转换为具有联接条件的**ANSI 联接**。使复杂查询更易于阅读和调试。

*   `i.documentno`从`GROUP BY`子句中删除。我在 Postgres 9.1 的 PK 列`i.m_inout_id`已经覆盖了整个表。可能有更多的冗余列。自己检查。

*   `t.m_inoutline_id IS NOT NULL`是多余的。覆盖： `JOIN M_INOUTLINE l ON l.m_inoutline_id = t.m_inoutline_id`

*   `= ANY()`略快于`IN()`

*   `AND a.isactive = 'Y'`将 强制转换`LEFT JOIN AP_ATTRIBUTE`为常规`JOIN`.

*   `t.movementdate`是一个`timestamp`（正如 EXPLAIN 输出告诉我的那样）。相应地简化表达。

*   `i.issotrx`并且`a.isactive`很可能应该是 type**`boolean`**而不是`character`( `bpchar`)。*（对此*无能为力）

### 索引

*   您**至少**需要一个**索引**：`M_TRANSACTION.movementdate`

    ```
    CREATE INDEX m_transaction_movementdate_idx
    ON m_transaction(movementdate) 
    ```

    或者可能是一个[**多列索引**](http://www.postgresql.org/docs/current/interactive/indexes-multicolumn.html)，例如：

    ```
    CREATE INDEX m_transaction_movementdate_idx
    ON m_transaction(ad_client_id, ad_org_id, movementdate) 
    ```

    取决于您的实际数据分布和其他情况。

*   你需要一个索引`AP_ATTRIBUTE.m_product_id`：

    ```
    CREATE INDEX ap_attribute_m_product_id_idx
    ON ap_attribute (m_product_id) 
    ```

    也许更好的**部分索引**：

    ```
    CREATE INDEX ap_attribute_m_product_id_idx
    ON ap_attribute (m_product_id)
    WHERE isactive = 'Y' 
    ```

    我发布了很多关于部分索引的答案。[尝试在 SO 上搜索](https://stackoverflow.com/search?q=user:939860%20%22partial%20index%22&submit=search)。

*   另一个索引可能会有所帮助：

    ```
    CREATE INDEX m_inout_m_warehouse_id_idx ON m_inout (m_warehouse_id) 
    ```

    同样，可能偏向于

    ```
    ...
    WHERE issotrx = 'N' 
    ```

# linux - 如何自动登录 tty 并执行脚本

> ID：14152026
> 
> 赞同：1
> 
> 时间：2013-01-04T06:12:23.403
> 
> 标签：linux, boot, tty

我已经在我的桌面上安装了 android x86。当我在 grub 中选择 android 的启动选项时，它转到 tty8，然后我使用 alt+F1 转到 tty1，然后登录到我的 Ubuntu 用户帐户（我的 android 图像所在的位置）存储）运行一个加载android的启动shell脚本。我需要的是自动化这些过程，即当我选择 android 的启动选项时，它应该转到 tty1 并自动执行 shell 脚本而无需登录。

这可行吗？如果是这样，怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:53:33.230

您可以使用“mingetty”自动登录。

```
sudo apt-get install mingetty 
```

然后编辑 /etc/init/tty1.conf

换行说

```
exec /sbin/getty -8 38400 tty1 
```

进入

```
exec /sbin/mingetty --autologin root --noclear tty1 
```

请注意，这会自动登录 root，也许您需要其他用户。至于自动运行的 shell 脚本：你可以把你的（或调用它的）脚本放在 ~/.bash_profile

# c++ - c++11 lambda表达式问题（vs2012更新1）

> ID：14152027
> 
> 赞同：1
> 
> 时间：2013-01-04T06:12:26.153
> 
> 标签：c++, visual-c++, c++11, visual-studio-2012

我一直在摆弄 lambda 表达式以了解它们的工作原理，但遇到了一个问题。我一直试图弄清楚我做错了什么，但似乎无法。编译器只是拒绝接受这个简单的例子：

* * *

```
 int a = 2;
  std::vector<int> vv(10);
  vv[2]=2;
  std::count( vv.begin(), vv.end(), [&a](int z) { return a == z; } ); 
```

* * *

我得到错误

* * *

```
Error   1   error C2678: binary '==' : no operator found 
  which takes a left-hand operand of type 'int' (or there is no 
  acceptable conversion) e:\program files (x86)\microsoft visual studio
  11.0\vc\include\xutility 3243 
```

* * *

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:49:11.513

算法需要知道谓词是基于使用相等性还是一元谓词比较值。为了区分这两者，`_if`后缀用于各种算法：`find_if()`、``copy_if()`、`count_if()`等。 lambda 是可以的，但它与`value_type`序列的 不相等可比。`std::count_if()`使用谓词时需要使用：

```
std::count_if( vv.begin(), vv.end(), [&a](int z) { return a == z; } ); 
```

...或一个值：

```
std::count( vv.begin(), vv.end(), a); 
```

# eclipse - 如何在eclipse中安装和使用gerrit？

> ID：14152030
> 
> 赞同：4
> 
> 时间：2013-01-04T06:12:44.647
> 
> 标签：eclipse, git, github, githooks, gerrit

我想知道如何在**eclipse中安装和使用****gerrit**。我没有找到任何简单且有用的文档。

 **我已经在 eclipse 中安装了 Git 插件并且正在使用它，现在我想了解**gerrit**。

我浏览了此链接[Enabling_Gerrit_for_your_Eclipse](http://wiki.eclipse.org/Gerrit#Enabling_Gerrit_for_your_Eclipse.org_Project)但他们要求我提供有关项目和存储库 URL 的信息。如果没有这些信息，是否有可能？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:03:47.417

您提到的链接讨论了如何仅为 Eclipse.org 开发人员启用 Gerrit，而不是像您这样的公众。

您可以安装[Gerrit Mylyn 插件](http://www.eclipse.org/reviews/gerrit/)，但是它仍然是 beta 质量并且缺乏严肃的文档。

在现实生活中，我更喜欢使用[`repo`](http://source.android.com/source/version-control.html)和`repo upload`提交代码审查，并通过标准的 Gerrit Web 界面跟踪它们。

虽然`repo`是由 Android 项目设计的，但它是非常通用的工具，可以用于任何其他项目（但不幸的是，只能在 Mac 或 Linux 上，而不是 Windows 上）。`repo`与 Gerrit 完美集成以提交您的代码。**

# android - 安全过滤 CALL_PRIVILEGED

> ID：14152033
> 
> 赞同：3
> 
> 时间：2013-01-04T06:12:49.380
> 
> 标签：android, android-intent

我的应用程序有一个意图过滤器，可以通过另一种方法拨打电话（想想 Skype，但不是）。因此，它有一个拦截 Intent.CALL_PRIVILEGED 的意图过滤器。

问题？我实际上不想接听 911 的电话。我不想妨碍他们。我希望他们使用常规的电话应用程序。

如果拨号系统应用程序仅将 CALL_PRIVILEGED 意图用于 911 呼叫，我的生活会更轻松，但他们似乎将它用于来自我 POV 的所有呼叫，这似乎违背了具有意图的目的。

但他们没有。

而且我不相信我可以用一段 XML 声明意图过滤器，例如：

```
 <data android:scheme="!tel:911"/> 
```

为了避免拨打911...

这让我想在我的应用程序中写入一段代码，上面写着：“哦，这是拨打 911，让我将其发送到 Real Phone Activity。但我不能，因为我的应用程序不是” t 一个系统应用程序，因此不允许为 CALL_PRIVILEGED 发出它自己的 Intent 以便自己拨打 911。

有没有办法解决这个问题？还是 Skype 也有同样的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-26T23:25:35.650

你显然应该通过广播接收器来做到这一点。

[http://android-developers.blogspot.com/2013/05/handling-phone-call-requests-right-way.html](http://android-developers.blogspot.com/2013/05/handling-phone-call-requests-right-way.html)

# jquery - 拖动包含表单控件的 div

> ID：14152037
> 
> 赞同：0
> 
> 时间：2013-01-04T06:12:57.603
> 
> 标签：jquery

我正在使用一个包含复选框、文本框和下拉列表的 div。我正在使用 jquery 可拖放/可拖放。当 div 被拖放时，我在文本框中输入的值、在下拉列表中所做的选择等都不会保留。我使用了可拖动 div 的克隆，它保留了文本框值和 xhexk 框选项，但不保留下拉选择。有人可以帮忙吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:17:48.353

当使用 javascript 选择下拉列表时，您可以尝试复制下拉列表中的值。

当框被拖动时，您可以在其中输入值。

```
function dragged(){
    $(this).children('#dropdown').val(copiedValue);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T10:04:31.493

看看这个[jqfaq.com](http://jqfaq.com/how-to-drag-and-drop-replace-the-position/)链接，其中更多地讨论了**拖放，**并通过答案和更多问题与答案来解决。看看这个[链接](http://jsfiddle.net/EpxHE/13/)，工作样本可用。希望，这可能对你有所帮助。

```
 for (var i = 1; i < 11; i++) {
        var $newDiv = $("<div class='dragdiv'>" + i +"<input type='textbox' value="+i+" /></div>");
        $newDiv.draggable({
                snap: '#droppable',
                snapMode: 'outer',
                revert: "invalid",
                cursor: "move",
                helper: "clone"
        }).droppable({
                drop: function(event, ui) {
                    var $dragElem = $(ui.draggable).clone().replaceAll(this);
                    $(this).replaceAll(ui.draggable);
                }
        });

        $("#dragItems").append($newDiv);
    } 
```

# c++ - 在 win8 上使用 Visual Studio 2012 设置 allegro5

> ID：14152041
> 
> 赞同：1
> 
> 时间：2013-01-04T06:13:15.267
> 
> 标签：c++, windows-8, visual-studio-2012, allegro5

我按照[参考手册](http://wiki.allegro.cc/index.php?title=Windows,_Visual_Studio_2010_and_Allegro_5)中的步骤操作，当我运行我的项目时，我收到有关未找到文件的错误。

这就是我所做的。

1.  我下载了 MSVC 11 的 bin。
2.  将其解压缩到 C:\allegro (bin include 和 lib 目录在里面)
3.  在属性下的一个新项目中，我按照他们的指示将 5.0.x 替换为 5.0.8

他们的方向如下：

> 在 Configuration Properties->C/C++->General 下，在 Additional Include Directories 中输入 c:\allegro\include。
> 
> 在 Configuration Properties->Linker->General 下，在 Additional Library Directories 中输入 c:\allegro\lib。
> 
> 在 Configuration Properties->Linker->Input 下，将 allegro-5.0.x-monolith-md-debug.lib 附加到 Additional Dependencies。
> 
> 在 Configuration Properties->Debugging 下，在 Environment 中输入 PATH=c:\allegro\bin;%PATH%。

也许我附加了错误的文件或没有正确执行？

> **属性->链接器->输入附加依赖** kernel32.lib;user32.lib;gdi32.lib;winspool.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32 .lib;odbccp32.lib;%(AdditionalDependencies);allegro-5.0.8-monolith-md-debug.lib

他们拥有的代码示例是：

```
#include <stdio.h>
#include <allegro5/allegro.h>

int main(int argc, char **argv)
{
   ALLEGRO_DISPLAY *display = NULL;

   if(!al_init()) {
      fprintf(stderr, "failed to initialize allegro!\n");
      return -1;
   }

   display = al_create_display(640, 480);
   if(!display) {
      fprintf(stderr, "failed to create display!\n");
      return -1;
   }

   al_clear_to_color(al_map_rgb(0,0,0));

   al_flip_display();

   al_rest(10.0);

   al_destroy_display(display);

   return 0;
} 
```

以及它产生的错误：

> 错误 1 ​​错误 C1083：无法打开包含文件：'stdio.h'：没有这样的文件或目录 c:\users\robert\documents\visual studio 2012\projects\allegro-01\allegro-01\main.cpp 1 1 allegro -01 2 IntelliSense：无法打开源文件“io.h”c:\allegro\include\allegro5\platform\almsvc.h 19 1 allegro-01 3 IntelliSense：无法打开源文件“fcntl.h”c:\allegro\ include\allegro5\platform\almsvc.h 20 1 allegro-01 4 IntelliSense：无法打开源文件“direct.h” c:\allegro\include\allegro5\platform\almsvc.h 21 1 allegro-01 5 IntelliSense：无法打开源文件“malloc.h”c:\allegro\include\allegro5\platform\almsvc.h 22 1 allegro-01 6 IntelliSense：无法打开源文件“stdint.h”c:\allegro\include\allegro5\platform\astdint.h 30 4 allegro-01 7 IntelliSense：无法打开源文件“errno.h” c:\allegro\include\allegro5\base.h 23 4 allegro-01 8 IntelliSense：不能打开源文件“limits.h”c:\allegro\include\allegro5\base.h 29 7 allegro-01 9 IntelliSense：无法打开源文件“stdarg.h”c:\allegro\include\allegro5\base.h 34 4 allegro-01 10 IntelliSense：无法打开源文件“stddef.h”c:\allegro\include\allegro5\base.h 35 4 allegro-01 11 IntelliSense：无法打开源文件“stdlib.h”c:\allegro\ include\allegro5\base.h 36 4 allegro-01 12 IntelliSense：无法打开源文件“time.h” c:\allegro\include\allegro5\base.h 37 4 allegro-01 13 IntelliSense：无法打开源文件 "string.h" c:\allegro\include\allegro5\base.h 38 4 allegro-01 14 IntelliSense: 无法打开源文件 "sys/types.h" c:\allegro\include\allegro5\base .h 39 4 allegro-01 15 IntelliSense：标识符“uint32_t”未定义 c:\allegro\include\allegro5\base.h 77 1 allegro-01 16 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5 \utf8.h 57 1 allegro-01 17 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\utf8.h 58 1 allegro-01 18 IntelliSense：标识符“int32_t”未定义 c:\allegro\include \allegro5\utf8.h 59 1 allegro-01 19 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\utf8。h 66 1 allegro-01 20 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\utf8.h 71 1 allegro-01 21 IntelliSense：标识符“va_list”未定义 c:\allegro\include\allegro5\ utf8.h 74 1 allegro-01 22 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\utf8.h 93 1 allegro-01 23 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\ allegro5\utf8.h 98 1 allegro-01 24 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\utf8.h 100 1 allegro-01 25 IntelliSense：标识符“int32_t”未定义 c:\allegro\ include\allegro5\utf8.h 134 1 allegro-01 26 IntelliSense：标识符“int32_t”未定义 c：\allegro\include\allegro5\utf8.h 135 1 allegro-01 27 IntelliSense：变量“al_ustr_new_from_utf16”可能未初始化 c:\allegro\include\allegro5\utf8.h 138 1 allegro-01 28 IntelliSense：标识符“uint16_t”未定义 c:\allegro\include\allegro5\utf8.h 140 1 allegro-01 29 IntelliSense：标识符“uint16_t”未定义 c:\allegro\include\allegro5\utf8.h 142 1 allegro-01 30 IntelliSense：标识符“ int64_t" 未定义 c:\allegro\include\allegro5\file.h 55 1 allegro-01 31 IntelliSense：标识符 "int64_t" 未定义 c:\allegro\include\allegro5\file.h 56 1 allegro-01 32 IntelliSense：标识符“int64_t”未定义 c:\allegro\include\allegro5\file.h 61 1 allegro-01 33 IntelliSense：标识符“int16_t" 未定义 c:\allegro\include\allegro5\file.h 66 1 allegro-01 34 IntelliSense：标识符 "int16_t" 未定义 c:\allegro\include\allegro5\file.h 67 1 allegro-01 35 IntelliSense：标识符“int16_t”未定义 c:\allegro\include\allegro5\file.h 68 1 allegro-01 36 IntelliSense：标识符“int16_t”未定义 c:\allegro\include\allegro5\file.h 69 1 allegro-01 37 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\file.h 70 1 allegro-01 38 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\file.h 71 1 allegro- 01 39 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\file.h 72 1 allegro-01 40 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\file.h 73 1 allegro-01 41 IntelliSense：无法打开源文件“assert.h” c:\allegro\include\allegro5\debug.h 22 1 allegro -01 42 IntelliSense：标识符“intptr_t”未定义 c:\allegro\include\allegro5\events.h 206 1 allegro-01 43 IntelliSense：标识符“intptr_t”未定义 c:\allegro\include\allegro5\events.h 207 1 allegro-01 44 IntelliSense：标识符“int64_t”未定义 c:\allegro\include\allegro5\timer.h 55 1 allegro-01 45 IntelliSense：标识符“int64_t”未定义 c:\allegro\include\allegro5\timer。 h 56 1 allegro-01 46 IntelliSense：标识符“int64_t”未定义 c:\allegro\include\allegro5\timer。h 57 1 allegro-01 47 IntelliSense：无法打开源文件“sys/types.h” c:\allegro\include\allegro5\fshook.h 23 4 allegro-01 48 IntelliSense：标识符“uint32_t”未定义 c:\allegro \include\allegro5\fshook.h 96 1 allegro-01 49 IntelliSense：标识符“time_t”未定义 c:\allegro\include\allegro5\fshook.h 97 1 allegro-01 50 IntelliSense：标识符“time_t”未定义 c: \allegro\include\allegro5\fshook.h 98 1 allegro-01 51 IntelliSense：标识符“time_t”未定义 c:\allegro\include\allegro5\fshook.h 99 1 allegro-01 52 IntelliSense：标识符“off_t”未定义c:\allegro\include\allegro5\fshook.h 100 1 allegro-01 53 IntelliSense：标识符“int32_t”未定义 c:\allegro\include\allegro5\fixed.h 30 9 allegro-01 54 IntelliSense：无法打开源文件“string.h”c:\Program Files (x86)\Windows Kits\8.0\Include\shared\guiddef.h 146 1 allegro-01 55 IntelliSense：无法打开源文件“ctype.h” c:\Program Files (x86)\Windows Kits\8.0\Include\um\winnt.h 31 1 allegro-01 56 IntelliSense：无法打开源文件“excpt .h" c:\Program Files (x86)\Windows Kits\8.0\Include\um\winnt.h 1240 1 allegro-01 57 IntelliSense：标识符“EXCEPTION_DISPOSITION”未定义 c:\Program Files (x86)\Windows Kits\ 8.0\Include\um\winnt.h 1245 1 allegro-01 58 IntelliSense：无法打开源文件“string.h”c:\Program Files (x86)\Windows Kits\8.0\Include\um\winnt.h 16534 1 allegro -01 59 智能感知：标识符“va_list”未定义 c:\Program Files (x86)\Windows Kits\8.0\Include\um\WinBase.h 3699 14 allegro-01 60 IntelliSense：标识符“va_list”未定义 c:\Program Files (x86)\ Windows Kits\8.0\Include\um\WinBase.h 3712 14 allegro-01 61 IntelliSense：无法打开源文件“stdarg.h”c:\Program Files (x86)\Windows Kits\8.0\Include\um\WinUser.h 51 1 allegro-01 62 IntelliSense：标识符“va_list”未定义 c:\Program Files (x86)\Windows Kits\8.0\Include\um\WinUser.h 278 10 allegro-01 63 IntelliSense：标识符“va_list”未定义 c :\Program Files (x86)\Windows Kits\8.0\Include\um\WinUser.h 285 10 allegro-01 64 IntelliSense：无法打开源文件“excpt.h”c:\Program Files (x86)\Windows Kits\8.0 \包括\共享\rpc。h 163 1 allegro-01 65 IntelliSense：无法打开源文件“stdlib.h” c:\Program Files (x86)\Windows Kits\8.0\Include\um\combaseapi.h 329 1 allegro-01 66 IntelliSense：无法打开源代码文件“excpt.h”c:\Program Files (x86)\Windows Kits\8.0\Include\um\Windows.h 160 1 allegro-01 67 IntelliSense：无法打开源文件“stdarg.h”c:\Program Files ( x86)\Windows Kits\8.0\Include\um\Windows.h 161 1 allegro-01 68 IntelliSense：无法打开源文件“stdio.h”c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01 \allegro-01\main.cpp 1 1 allegro-01 69 IntelliSense：标识符“atexit”未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 8 8 allegro-01 70 IntelliSense：标识符“fprintf" 未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 9 7 allegro-01 71 IntelliSense：标识符“stderr”未定义 c:\Users\Robert \Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 9 15 allegro-01 72 IntelliSense：标识符“fprintf”未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro -01\allegro-01\main.cpp 15 7 allegro-01 73 IntelliSense：标识符“stderr”未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 15 15 快板-01未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 9 15 allegro-01 72 IntelliSense：标识符“fprintf”未定义 c:\Users\Robert\Documents \Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 15 7 allegro-01 73 IntelliSense：标识符“stderr”未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01 \allegro-01\main.cpp 15 15 allegro-01未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 9 15 allegro-01 72 IntelliSense：标识符“fprintf”未定义 c:\Users\Robert\Documents \Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 15 7 allegro-01 73 IntelliSense：标识符“stderr”未定义 c:\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01 \allegro-01\main.cpp 15 15 allegro-01\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 15 15 allegro-01\Users\Robert\Documents\Visual Studio 2012\Projects\allegro-01\allegro-01\main.cpp 15 15 allegro-01

# android - 使用 Unicode 支持的字体创建应用以支持本地语言

> ID：14152050
> 
> 赞同：1
> 
> 时间：2013-01-04T06:14:08.780
> 
> 标签：android, fonts

我是 android 编程新手。我从 youtube 教程视频中学到了一些基本的东西。我想为我的博客创建一个应用程序。该应用程序应充当网络浏览器并显示我博客的内容。但问题是我曾经用当地的印度语言写我的博客。所以我希望我的应用程序支持我的本地语言字体，这是支持 Unicode字体。是否可以让我的应用程序支持这种本地字体。请帮助我？对不起我的英语不好！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:20:59.990

您可以为您的 Android 应用程序使用自定义字体，

为此，您需要使用`Typeface`并且还需要了解字体的字符映射。

以下链接将对您有所帮助，

*   [如何为印度地区语言设置自定义语言环境](https://stackoverflow.com/questions/10943811/how-to-set-custom-locale-for-indian-regional-languages-in-android-emulator)
*   [我可以在 Android 应用程序中嵌入自定义字体吗？](https://stackoverflow.com/questions/3424165/can-i-embed-a-custom-font-in-an-android-application)
*   [使用自定义字体进行 Android 开发](http://www.barebonescoder.com/2010/05/android-development-using-custom-fonts/)
*   [自定义 Android 字体](http://mobile.tutsplus.com/tutorials/android/customize-android-fonts/)

# mysql - 从另一个表中的值排序 sql

> ID：14152051
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:14:10.690
> 
> 标签：mysql

我有两个表节点和 sort_value。在节点我有这个

```
+----------------+----------------+----------+----------------+
|     nid        |     content    |   state  |      etc       |
+----------------+----------------+----------+----------------+
|      1         |     Nanuet     |    NY    |  some content  |
+----------------+----------------+----------+----------------+
|      2         |     Nanuet     |    NY    |  some content  |
+----------------+----------------+----------+----------------+ 
```

在 sort_value 表中我有

```
+----------------+----------------+----------+
|  sort_order    |      city      |   state  |
+----------------+----------------+----------+
|       1        |     xxxxxx     |    NY    |
+----------------+----------------+----------+
|       2        |     xxxxxx     |    NY    |
+----------------+----------------+----------+ 
```

我只想从节点表中选择 nid 并根据 sort_value 表中的 sort_order 值对选定的 nid 进行排序。

我怎样才能做到这一点？？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:28:17.660

```
SELECT N.nid,S.sort_order,S.city,S.state from node N INNERJOIN sort_value S WHERE N.nid=S.sort_order; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:32:03.717

希望这是加入条件::试试这个::

```
SELECT 
*
from 
node  
INNER JOIN sort_value  ON nid=sort_order 
```

# vb.net - 如何在另一个中使用 Html.DropDownListFor

> ID：14152055
> 
> 赞同：1
> 
> 时间：2013-01-04T06:14:27.120
> 
> 标签：vb.net, asp.net-mvc-4

我有一个关于 @Html.DropDownListFor 的问题

我有 2 节课：

```
Public Class A01WorkRecord
Public Property counter As Int32
Public Property MembetNumber As Int16
Public Property Memo As String
Public Property WorkDate As Date
End Class

Public Class B01Member
Public Property counter As Int32
Public Property Number As Int16
Public Property Name As Date
End Class 
```

VIEW 用于创建工作记录，所以我希望视图可以选择成员名称并编写工作备忘录

所以在控制器中

```
Function Index() As ActionResult
    Dim q = From p In db.B01s
            Select p.Number, p.Name

    Dim ListItem As List(Of SelectListItem) = New List(Of SelectListItem)
    For Each l In q
        ListItem.Add(New SelectListItem With {.Text = l.Name, .Value = l.Number})
    Next
    ViewData("List") = New SelectList(ListItem, "Value", "Text", "")

    Return View()
End Function 
```

并在视图中

```
@Html.DropDownListFor(Function(model) model.MembetNumber ,ViewData("Item")) 
```

我想选择名字，但它不起作用......

错误信息：

> 没有类型是 'IEnumerable' 和索引 'Number' ViewData 项

我不知道怎么了，请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:29:20.453

从提供的示例看来，您可能正在`ViewData("Item")`混淆`ViewData("List")`

所以试试这个

```
@Html.DropDownListFor(Function(model) model.MembetNumber, ViewData("List")) 
```

# c - 请对Tasking Tricore Compiler显示的以下错误提出建议

> ID：14152056
> 
> 赞同：2
> 
> 时间：2013-01-04T06:14:33.637
> 
> 标签：c, assembly, microcontroller, microc

我为 Tricore 控制器编写了一个 C 程序，编译后我收到以下错误消息，我实际上无法弄清楚。你能提供一些意见吗？

我可以猜测它与内存层次结构有关，但仍然无法找出实际问题。

```
Error Messages:
ltc I455:   requirement: 193K (0x304c8) bytes of RAM area in space spe:tc:linear
amk E451: make stopped
ltc I456:   section type: group restriction - clustered
ltc I457:   .bss.Pro2.group (60) (0x30140 bytes)
ltc I457:   .bss._dbg_request.libcs_fpu (418) (0x14 bytes)
ltc I457:   .bss.Pro2.rocount (61) (0x2d4 bytes)
ltc I457:   .bss.stdin_buf.libcs_fpu (273) (0x50 bytes)
ltc I457:   .bss.stdout_buf.libcs_fpu (274) (0x50 bytes) 
```

代码 ：

```
/*
 ============================================================================
 Name        : hough.c
 Author      :
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#define M 4
#define N 4
#define PI 3.14159265
typedef struct point {
    int x;
    int y;
} point;
typedef struct points {
    point points[M * N];
    double ro;
    int pointCount;
} points;
int image[M][N] = { { 1, 1, 0, 1 }, { 1, 1, 0, 1 }, { 1, 1, 1, 1 },
        { 1, 0, 0, 0 } };
int i, j, k;

points group[181][M * N / 2];
int rocount[181];

int compare_float(double f1, double f2) {
    float precision = 0.000001;
    if (((f1 - precision) < f2) && ((f1 + precision) > f2)) {
        return 1;
    } else {
        return 0;
    }
}

void insert(double ro, int x, int y, int angle) {
    int loopcount;
    int roflag = 0;
    if (rocount[angle] == 0) {
        group[angle][rocount[angle]].ro = ro;
        group[angle][rocount[angle]].pointCount = 0;
        group[angle][rocount[angle]].points[group[angle][rocount[angle]].pointCount].x =
                x;
        group[angle][rocount[angle]].points[group[angle][rocount[angle]].pointCount].y =
                y;
        group[angle][rocount[angle]].pointCount++;
        rocount[angle]++;
    } else {
        for (loopcount = 0; loopcount < rocount[angle]; loopcount++) {
            if (compare_float(group[angle][loopcount].ro, ro)) {
                roflag = 1;

                group[angle][loopcount].points[group[angle][loopcount].pointCount].x =
                        x;
                group[angle][loopcount].points[group[angle][loopcount].pointCount].y =
                        y;
                group[angle][loopcount].pointCount++;
                break;
            }

        }
        if (roflag == 0) {
            group[angle][rocount[angle]].ro = ro;
            group[angle][rocount[angle]].pointCount = 0;
            group[angle][rocount[angle]].points[group[angle][rocount[angle]].pointCount].x =
                    x;
            group[angle][rocount[angle]].points[group[angle][rocount[angle]].pointCount].y =
                    y;

            group[angle][rocount[angle]].pointCount++;
            rocount[angle]++;
        }
    }
}

int main(void) {
    double ro;
    point x1;
    for (k = -90; k <= 90; k++) {
        rocount[k + 90];
        for (i = 0; i < M; i++) {
            for (j = 0; j < N; j++) {
                if (image[i][j] == 1) {
                    ro = (i + 1) * cos(k * (PI / 180))
                            + (j + 1) * sin(k * (PI / 180));
                    insert(ro, i + 1, j + 1, k + 90);

                }
            }
        }

    }
    for (k = -90; k <= 90; k++) {

        for (i = 0; i < rocount[k + 90]; i++) {
            printf("\n Angle :%d RO:%f \n", k, group[k + 90][i].ro);

            for (j = 0; j < group[k + 90][i].pointCount; j++) {
                printf("(x:%d,y:%d)", group[k + 90][i].points[j].x,
                        group[k + 90][i].points[j].y);
            }
        }
    }
    return EXIT_SUCCESS;
} 
```

PS：代码是为TC1797微控制器编写的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:56:30.013

I don't know the Tricore controller, but this looks like you've exceeded some limit. I assume this controller has very limited resources, and the build process checks that you didn't exceed them.

`requirement: 193K (0x304c8) bytes of RAM area in space spe:tc:linear` must mean you used 193K of something, which is too much.
`.bss.Pro2.group (60) (0x30140 bytes)` means most of this comes from a BSS section (i.e. static uninitialized variables).

I didn't do the math, but the size of `points group[181][M * N / 2];` is probably the main issue.

# arrays - 如何在数组变量中使用变量

> ID：14152059
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:14:40.877
> 
> 标签：arrays, shell, variables, unix

我尝试在数组变量中使用变量，但它抛出错误“错误替换”。感谢您的帮助。

**示例：** ./xxx.ksh 1

```
NAME1[0]="Zara"
NAME2[0]="Daisy"
if [ $1 -eq 1 ];
then
name=NAME1
echo "First Name: ${${name}[0]}"
else
name=NAME2
echo "Second Name: ${${name}[0]}"
fi 
```

xxx.ksh：第 7 行：名字：${$name[0]}：错误替换

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T11:41:37.650

动态变量名非常麻烦。只需使用更好的数组键：

```
NAME[1,0]=Zara
NAME[2,0]=Daisy
set -- 2
echo ${NAME[$1,0]}     # => Daisy 
```

无论如何，实现目标的 bash 方法是使用[间接扩展](http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion)：

```
NAME1[0]=Zara; NAME2[0]=Daisy; set -- 1; name=NAME$1[0]
echo ${!name}          # => Zara 
```

# java - 嵌套获取性能

> ID：14152065
> 
> 赞同：3
> 
> 时间：2013-01-04T06:15:07.140
> 
> 标签：java

在 Java 中，如果我不断使用嵌套的 get 来检索值，是否会影响性能？例如：

```
String firstname = getOffice().getDepartment().getEmployee().getFirstName();
String lastname = getOffice().getDepartment().getEmployee().getLastName();
String address = getOffice().getDepartment().getEmployee().getAddress(); 
```

对比：

```
Employee e = getOffice().getDepartment().getEmployee();
String firstname = e.getFirstName();
String lastname = e.getLastName();
String address = e.getAddress(); 
```

第二个版本会更快，因为它的“跳跃”更少吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T06:19:23.090

这完全取决于`getXYZ`调用的**作用**。如果它们是底层字段的简单访问器，那么不，不在 HotSpot（Oracle 的 JVM）上，因为如果有任何需要，它们会被优化掉。另一方面，如果他们做任何类型的复杂工作（遍历 btree 等），那么他们当然必须重复做这项工作（除非 HotSpot 可以向自己证明调用是幂等的，如果代码有任何复杂性变得不太可能）。（他们重复做这项工作是否*重要*是另一个问题；直到/除非你看到实际的性能问题，不要担心。）

但第二个*更具*可读性和可维护性。这是使用它的更强有力的理由。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T06:16:57.197

而不是我看到的性能`second as better human understandable code`。你不应该担心微优化，而是编写一个好的和干净的代码。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:21:31.643

您正在考虑的优化称为[过早优化](https://softwareengineering.stackexchange.com/questions/80084/is-premature-optimization-really-the-root-of-all-evil)。你不应该考虑这些，除非你真的必须这样做。

I agree with @AmitD's answer about being the second one more readable. When chaining method calls like this, you can also write them in the following way -

```
Employee e = getOffice()
              .getDepartment()
              .getEmployee();
String firstname = e.getFirstName();
String lastname = e.getLastName();
String address = e.getAddress(); 
```

to further improve readability.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:20:24.787

可能是的。但假设吸气剂在内部看起来像普通吸气剂，它可能太小以至于几乎无法测量。

此外，如果您经常运行此代码以使其重要，Hotspot 编译器的魔力将发挥作用并破坏字节码，可能再次使两种变体相同。

最后，很难说到底会发生什么。如果性能对您很重要，请设置测试。如果性能不足以证明测试成本的合理性......那么担心也没有关系。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T06:45:06.603

Either use byte code analysis or time the two approaches using `System.nanoTime`. I think second one is faster. here is what I did to conclude this:

I wrote three classes as given below:

```
public static class A {
    public B b = new B();
}

public static class B {
    public E e = new E();
}

public static class E {
    public String name = "s";
    public int age = 1;
} 
```

Then I wrote two simple methods and get their java byte code using `javap -c CLASS_NAME`.

```
public static void Test1() {
    A a = new A();
    String str = a.b.e.name;
    int age = a.b.e.age;
} 
```

The byte code of above method is:

```
public static void Test1();
    Code:
       // new A();
       0: new           #15
       3: dup           
       4: invokespecial #17                 
       7: astore_0      
       8: aload_0

       // a.b (it accesses the field and put it on operand stack)
       9: getfield      #18

      // b.e
      12: getfield      #22

      // b.name
      15: getfield      #28

      // pop 'name' from stack
      18: astore_1      
      19: aload_0  

      // cyle continues     
      20: getfield      #18
      23: getfield      #22
      26: getfield      #34 
      29: istore_2      
      30: return 
```

You can clearly see at byte code level, each time you try to access field, it put the value of that filed on stack and then this cycle continues. Therefore, `a.a1.a2....an` would be `n` instruction if stack would have enough spae to hold all `n`. And there was no optimisation by compiler this same cycle of called again to access both `name` and `age` field.

Now here is the second method:

```
public static void Test2() {
        A a = new A();
        E e = a.b.e;
        String str = e.name;
        int age = e.age;
    } 
```

Byte code for above method is:

```
public static void Test2();
    Code:
       // new A();
       0: new           #15 
       3: dup           
       4: invokespecial #17
       7: astore_0      
       8: aload_0       

       // store a.b.e on operand stack once
       9: getfield      #18
      12: getfield      #22
      15: astore_1      
      16: aload_1

      // get 'name' field
      17: getfield      #28
      20: astore_2      
      21: aload_1       
      // get 'age' field
      22: getfield      #34
      25: istore_3      
      26: return 
```

Above is 4 instruction shorter than previous code as it prevents execution of `getfield`. So I think this should be faster than previous one.

# c# - Ms Word 文本转二进制

> ID：14152068
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:15:13.343
> 
> 标签：c#, asp.net

我需要将 Ms Word 文件的文本转换为二进制文件并将其存储在数据库中。我也设法打开了文件和 TrackRevisions。如何将 MS Word 文本保存在数据库中并将其检索回来并在 MS Word 中显示

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:20:37.383

您可以将文件内容存储到二进制/varbinary 字段（SQL Server 中允许的最大长度为 8000）。

使用参数插入/更新数据库。这里 ac# 示例：

[将文本文件存储到 MS SQL 数据库中](http://social.msdn.microsoft.com/Forums/pl/vsx/thread/01eef4b1-cd2e-4095-8a4c-b971dd9a33b2)

```
//reading the file content
FileStream s = new FileStream(filePath, FileMode.Open, FileAccess.Read);
byte[] buffer = new byte[s.Length];
s.Read(buffer, 0, s.Length);
s.Close();

//adding a row in the database
SqlCommand insertCommand = new SqlCommand("insertCommand into myTable (binaryField) values (@filedata)", youconnection);
insertCommand.Parameters.Add(new SqlParameter ("@filedata", buffer ));
insertCommand.ExecuteNonQuery(); 
```

[检索在 sql server 数据库中加载为二进制数据的 msword 文件](http://forums.asp.net/t/1295427.aspx/1)

# .net - 如何在 sql server 2008 R2 中存储 .net 的 DateTime

> ID：14152070
> 
> 赞同：1
> 
> 时间：2013-01-04T06:15:19.087
> 
> 标签：.net, sql, sql-server-2008-r2

我是 .net 和 sql 的新手。我正在尝试将 DateTime 存储到数据库中，但在上午 11:21:57 出现“'11'附近的语法不正确”的异常我运行我的代码，所以，我有时会出错。这是我用于存储到数据库中的代码。下面的方法将返回一个查询。

```
 public string InsertADData(string strdateLogin, string strdateLogout, string strName, string strUsername)
    {
        DateTime dateLogin = Convert.ToDateTime(strdateLogin);
        DateTime dateLogout = Convert.ToDateTime(strdateLogout);
        return string.Format(@"INSERT INTO ADTimeData (LoginDate, LogoutDate,name,username) 
                               VALUES ({0},{1},'{2}','{3}')", dateLogin,
                                                            dateLogout,
                                                            strName.Replace("'", "''"),
                                                           strUsername.Replace("'", "''"));
    } 
```

此方法用于将记录插入数据库。这里 CheckDBConnection() 将打开 sql 连接。

```
 public void InsertRecords(String strQuery)
        {
            CheckDBConnection();
            using (SqlCommand cmd = new SqlCommand())
            {
                cmd.Connection = _con;
                cmd.CommandText = strQuery;
                cmd.CommandType = CommandType.Text;
                cmd.ExecuteNonQuery();
            }
        } 
```

当我调试我编写的代码时，我得到查询，即 sqlQuery 值这样

```
 INSERT INTO ADTimeData (LoginDate, LogoutDate,name,username) 
                              VALUES (1/4/2013 11:21:57 AM,1/4/2013 11:21:57 AM,'raivnder','ravinder.g@gmail.com') 
```

但我在

```
cmd.ExecuteNonQuery(); 
```

异常如下图所示。 ![在此处输入图像描述](../Images/b06c60fcc789b092063238ad1853219c.png)

请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:21:38.687

**简而言之：**问题在于您在插入语句中传递的日期时间格式。

它应该通过参数化查询来完成。类似于以下示例查询的内容：

```
SqlCommand cmd = new SqlCommand("INSERT INTO <table> (<column>) VALUES (@value)", connection);
cmd.Parameters.AddWithValue("@value", dateTimeVariable);

cmd.ExecuteNonQuery(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:26:08.797

无论如何 -**使用参数化查询**来避免 SQL 注入攻击（也可以提高性能！）：

```
public string InsertADData(string strdateLogin, string strdateLogout, string strName, string strUsername)
{
    DateTime dateLogin = Convert.ToDateTime(strdateLogin);
    DateTime dateLogout = Convert.ToDateTime(strdateLogout);

    string query = @"INSERT INTO ADTimeData (LoginDate, LogoutDate,name,username) 
                     VALUES (@LoginDate, @LogoutDate, @name, @username)";

    using (SqlConnection conn = new SqlConnection(.....))
    using (SqlCommand cmd = new SqlCommand(query, conn))
    {
        cmd.Parameters.Add("@LoginDate", SqlDbType.DateTime).Value = dateLogin;           
        cmd.Parameters.Add("@LogoutDate", SqlDbType.DateTime).Value = dateLogout;
        cmd.Parameters.Add("@Name", SqlDbType.VarChar, 50).Value = name;
        cmd.Parameters.Add("@UserName", SqlDbType.VarChar, 50).Value = username;

        conn.Open();
        cmd.ExecuteQuery();
        conn.Close(); 
    } 
```

切勿将 SQL 语句与值连接在一起！这是一个非常非常糟糕的做法 - 停止这样做。您应该**始终**使用参数化查询 - 也不例外

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-04T06:56:00.380

```
public string InsertADData(string strdateLogin, string strdateLogout, string strName, string strUsername)
{
    DateTime dateLogin = Convert.ToDateTime(strdateLogin);
    DateTime dateLogout = Convert.ToDateTime(strdateLogout);
    return string.Format(@"INSERT INTO ADTimeData (LoginDate, LogoutDate,name,username) 
                           VALUES ('{0}','{1}','{2}','{3}')", dateLogin,
                                                        dateLogout,
                                                        strName.Replace("'", "''"),
                                                       strUsername.Replace("'", "''"));
} 
```

# iphone - 我应该使用哪种数据类型来处理时间（小时和分钟）？

> ID：14152073
> 
> 赞同：1
> 
> 时间：2013-01-04T06:15:41.723
> 
> 标签：iphone, ios

我想在 iPhone 中创建一个闹钟应用程序。

例如，我想在每天 8:40 或一周中的某些日子闹钟。
在 SQL（数据库）或其他编程语言中，有一个类或数据类型喜欢`Time`处理小时和分钟。
但我找不到像`NSTime`iPhone 这样的课程。
我应该使用哪个类或数据类型？
我应该使用 NSDate 吗？还是NSInteger？

**编辑**
我想处理 hh:mm。
我不需要日期部分（yyyy-mm-dd）。

如果我应该将 NSDate 用于 hh:mm。
应该将哪个日期（yyyy-mm-dd）设置为日期变量？

# entity-framework - DataService 在某些参数组合上失败

> ID：14152076
> 
> 赞同：1
> 
> 时间：2013-01-04T06:16:20.687
> 
> 标签：entity-framework, ado.net-entity-data-model, wcf-data-services

我正在为我的应用程序使用 ADO.NET DataService Query。我注意到对于某些查询参数组合会导致 DataServiceQuery 引发异常。`JNO != null`但是，如果我添加额外的虚拟参数（例如），它不会抛出任何错误。

```
string bNo = "00000001";
DateTime targetTime = DateTime.Today; 
```

以下是我尝试过的组合：

1.  没有错误

    this.proxy.T_BRecord .Where(b => b.RecordDate == targetTime)

2.  没有错误

    this.proxy.T_BRecord .Where(b => b.JNO == bNo)

3.  引发错误 - 错误请求

    this.proxy.T_BathRecord .Where(b => b.JNO == bNo && b.RecordDate == targetTime)

4.  没有错误

    this.proxy.T_BRecord .Where(b => b.RecordDate == targetTime && b.JNO == bNo && b.JNO != null)

我正在尝试寻找一种调试数据服务的方法。我已经尝试按照[这里](http://blogs.msdn.com/b/phaniraj/archive/2008/06/18/debugging-ado-net-data-services.aspx)的建议添加详细的调试设置。但错误只是一个原始的 Bad Request HTML 标记，没有错误详细信息。代码未通过 URI 到达数据请求。我怀疑这可能是实体框架 DLL 问题，但我找不到有关该问题的任何文档。

当我通过浏览器手动输入查询 URI 时，它会返回查询结果。我使用了以下查询 URI：

```
http://localhost:9009/BabyDBSvc.svc/T_BRecord()?$filter=(RecordDate%20ge%20datetime'2013-01-04T00%3A00%3A00')%20and%20(JNO%20eq%20'0000000004') 
```

我得到了以下 XML 结果：

```
<?xml version="1.0" encoding="shift_jis" standalone="yes"?>
<feed xml:base="http://localhost:9009/BabyDBSvc.svc/" xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices" xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" xmlns="http://www.w3.org/2005/Atom">
  <title type="text">T_BathRecord</title>
  <id>http://localhost:9009/BabyDBSvc.svc/T_BRecord</id>
  <updated>2013-01-04T06:06:49Z</updated>
  <author>
    <name />
  </author>
  <link rel="self" title="T_BathRecord" href="T_BRecord" />
</feed> 
```

# android - 将 sqlite 文件拆分为较小的文件

> ID：14152077
> 
> 赞同：0
> 
> 时间：2013-01-04T06:16:32.300
> 
> 标签：android, sql, database, sqlite

在过去的两个小时里，我一直在努力研究这个，我很迷茫。我有一个对于 android 2.2 来说很大的 sqlite3 文件 - 所以我做了一个解决方法，从资产中收集一些拆分文件并将它们重写到设备上的新数据库中。由于我是 sqlite 的菜鸟，我不知道如何将 sqlite db 拆分为 700kb 以下的多个文件。我尝试了不同的 sql IDE，但无济于事。我需要做一些命令行提示操作吗？arg请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-16T09:09:35.330

您始终可以将每个表存储在其他文件中

# c# - 远程服务器返回错误：(401) Unauthorized sharepoint

> ID：14152078
> 
> 赞同：6
> 
> 时间：2013-01-04T06:16:32.900
> 
> 标签：c#, asp.net, sharepoint, sharepoint-2010

这是我的场景：

我的 Sharepoint 服务器托管在**Domain A**上，我的机器在**Domain B**上。**域 A 和域 B**之间**没有任何**信任。

 **我正在尝试从我的机​​器访问 Sharepoint 文档库到域 A 上的 Sharepoint 服务器。

现在当我使用这段代码时：

```
ClientContext clientContext = new ClientContext(siteURL);
clientContext.Credentials = new System.Net.NetworkCredential(username,password,domain);
clientContext.ExecuteQuery(); 
```

我收到以下错误：

```
The remote server returned an error: (401) Unauthorized 
```

我想知道是否可以跨域访问 SharePoint 文档库而无需相互信任？我能想到的唯一解决方案是我的机器应该在域 A 上。

**更新**

我将我的机器转移到安装了共享点服务器的域 A 上。**在clientContext.ExecuteQuery();**处仍然出现同样的错误；. 我不知道为什么请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-18T19:06:34.743

如果域互不信任，则意味着域 A 中的 SharePoint 框无法从域 B 的域控制器中检索帐户属性。当您第一次访问特定的 SharePoint 网站时，“用户”列表中会填充一个新条目 - 您在该 SharePoint 网站上的本地用户数据（用户名、SID、显示名称、电子邮件、SIP 地址）。为了填写此信息，SharePoint 会尝试查询您的域控制器（在您的方案中，这无法完成）。所以，答案是 - 它不会以这种方式工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T13:32:43.867

[SharePoint 2010 客户端对象模型 - 需要代理身份验证](https://stackoverflow.com/questions/11985757/sharepoint-2010-client-object-model-proxy-authentication-required)

这可能会有所帮助。

401 Unauthorized 可能只是您的凭据和域不正确，因此请检查这些。还要检查这些是否可以访问该站点。我知道这是基本的，但我已经做了几次，因为其他人在我不知道的情况下删除了 privlages！**

# c - 这个基本的 strcat 实现有什么问题？

> ID：14152080
> 
> 赞同：0
> 
> 时间：2013-01-04T06:16:52.503
> 
> 标签：c

我对C相当陌生，我正在尝试编写一个简单的程序来连接两个字符串。在我的 Linux 机器上运行它时，我得到以下异常：

test.c:12:10: 错误：'strcat' 的类型冲突</p>

你能帮我理解我在这里缺少什么吗：

```
#include<stdio.h>
#include<string.h>

void main() {
  // string concatenation
  char str1[] = {'S', 'h'};
  char str2[] = {'X', 'y'};
  strcat(str1, str2);
}

void strcat(char str1[], char str2[]) {
  int index;
  int str1_length = strlen(str1);
  for(index=0; index<strlen(str2); index++) {
    str1[index + str1_length] = str2[index];
  }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:19:33.957

您`strcat`没有[标准签名](http://www.kernel.org/doc/man-pages/online/pages/man3/strcat.3.html)：

```
char *strcat(char *dest, const char *src); 
```

如果要包含，则需要使其匹配`string.h`。或者，只需给您的实现一个不同的名称（`my_strcat`例如）。

您可能还希望以空值终止您的测试字符串 -`strlen`否则这些调用会给您带来非常有趣的结果。此外，为避免写到第一个字符串分配内存的末尾（从而导致未定义的行为），请确保给它足够的空间以容纳末尾的第二个字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T08:15:52.277

您的代码中有很多错误。首先，字符串 str1 和 str2 应该以 null 结尾。您可以通过将其声明更改为

```
char str1[] = "Sh";
char str2[] = "Xy"; 
```

或者

```
char str1[] = {'S', 'h', '\0'};
char str2[] = {'X', 'y', '\0'}; 
```

其次，`strcat`是一个保留名称，因此您的 main 函数不会调用您的版本，而是在头文件中找到的版本`<string.h>`。您可以通过重命名函数或不包含 header 来纠正此问题`string.h`。如果你做第二个，你也应该实现这个函数`strlen`，因为它在`string.h`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:32:22.173

除了其他人所说的名称冲突之外，您也没有正确的字符串。

在 C 中，字符串以空终止符 ( `\0`) 结尾。

你已经用这种方式制作了你的字符串：

```
char str1[] = {'S', 'h'}; 
```

所以它只有两个字符，S 和 h。

要使字符串可由函数使用，例如`strlen`，它必须有一个空终止符。
我建议：

```
char str1[] = {'S', 'h', '\0'}; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-04T06:34:11.750

C 语言中有预定义的函数“strcat”（在 string.h 中），所以当您尝试调用 strcat 时，编译器似乎在该 inbuild 函数和您定义的函数之间存在冲突。所以最好重命名你的 strcat 函数。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T06:18:55.560

`string.h`已经提供了一个`strcat`，所以只需将您的函数重命名为其他名称。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-04T06:19:21.233

库中已经[`strcat`](http://www.cprogramming.com/fod/strcat.html)定义了一个`string.h`带有签名的函数`char *strcat(char *Destination, char *Source);`。您的用户定义函数与之冲突。由于 C 不支持重载，因此您需要重命名函数。

在连接之前，您还必须声明您的目标 char 数组，以便它有足够的空间来保存连接的字符串。如果没有，您将在数组绑定上运行，这可能会导致奇怪的问题。

此外，您的字符串应该以空结尾，因为标准库依赖于它来确定字符串的结束位置。如果没有空终止符，则`strlen`无法计算字符串长度（除非意外下一个内存位置恰好有一个 NULL 字符 - 您永远不应该依赖此类意外）。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-01-04T06:20:04.817

您的函数不能具有该名称，因为它是在 string.h 中声明的。只需将您的函数重命名为 myStrcat 或类似的名称。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-01-04T06:20:17.237

替换`strcat`为`str_cat`, 因为您的函数名称与已存在的函数冲突`string.h`

```
#include<stdio.h>
#include<string.h>

void main() {
  // string concatenation
  char str1[] = {'S', 'h'};
  char str2[] = {'X', 'y'};
  str_cat(str1, str2);
}

void str_cat(char str1[], char str2[]) {
  int index;
  int str1_length = strlen(str1);
  for(index=0; index<strlen(str2); index++) {
    str1[index + str1_length] = str2[index];
  }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-01-04T07:56:06.803

只需更改您的代码如下：

```
 replace char str1[] = {'S', 'h'} by char str1[] = {'S', 'h', '\0'};
 replace char str2[] = {'X', 'y'} by char str2[] = {'X', 'y', '\0'}; 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-01-04T09:05:42.407

```
#include<stdio.h>
#include<string.h>

void mystrcat(char str1[], char str2[]);

void main() {
char str1[] = {'S', 'h' , '\0'};
char str2[] = {'X', 'y', '\0'};
mystrcat(str1, str2);
}

// string concatenation
void mystrcat(char str1[], char str2[]) {
int index;
int str1_length = strlen(str1);
for(index=0; index<strlen(str2); index++) {
    str1[index + str1_length] = str2[index];
}
str1[index + str1_length] = '\0';
printf("%s\n",str1);
} 
```

# java - 如何让 JLabel 在不可见时占用空间？

> ID：14152083
> 
> 赞同：5
> 
> 时间：2013-01-04T06:17:03.833
> 
> 标签：java, swing

我有一个程序可以创建 2 个面板，然后在其中放置一个标签和两个按钮。标签设置为不可见`setVisible(false)`，然后添加两个按钮并打包框架。当我单击第一个按钮时，显示标签，，第二`setVisible(true)`个按钮再次隐藏它，`setVisible(false)`。当我单击每个按钮时，它们会移动以在标签隐藏时填充标签的空间，然后再次移动以避开显示的标签。我想阻止这种情况发生，即使标签被隐藏也让按钮保持在同一个地方。

这是代码：

```
public class MainFrame extends JFrame{
  public JLabel statusLabel;
  public JButton show;
  public JButton hide;  

  public MainFrame(){
    super("MagicLabel");

    JPanel topPanel = new JPanel();  //Create Top Panel
    statusLabel = new JLabel("");    //Init label
    statusLabel.setVisible(false);   //Hide label at startup
    topPanel.setSize(400, 150);      //Set the size of the panel, Doesn't work
    topPanel.add(statusLabel);       //Add label to panel

    JPanel middlePanel = new JPanel(); //Create Middle Panel
    show= new JButton("Show");       //Create show button
    hide= new JButton("Hide");       //Create hide button
    middlePanel.setSize(400, 50);    //Set the size of the panel, Doesn't work
    middlePanel.add(show);           //Add show button
    middlePanel.add(hide);           //Add hide button

    this.add(topPanel, "North");     //Add Top Panel to North
    this.add(middlePanel, "Center"); //Add Middle Panel to Center
    addActionListeners();            //void:adds action listeners to buttons
    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    this.setBounds(100, 100, 512, 400);
    this.setPreferredSize(new Dimension(400,200)); //Set size of frame, Does work
    this.pack();
    this.setVisible(true);
  }

  public void animateInstall(boolean var0){  //Void to show and hide label from action listeners
    statusLabel.setVisible(var0);
    sendWorkingMessage("Boo!");
  }
  public void sendWorkingMessage(String message){ //Void to set text of label
    this.statusLabel.setForeground(new Color(225, 225, 0));
    this.statusLabel.setText(message);
  }

  void addActionListeners(){
    show.addActionListener(new ActionListener(){
        public void actionPerformed(ActionEvent e){
            animateInstall(true);
        }
    });
    hide.addActionListener(new ActionListener(){
        public void actionPerformed(ActionEvent e){
            animateInstall(false);
        }
    });
  } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:28:55.527

```
this.setPreferredSize(new Dimension(400,200));
this.setMinimumSize(new Dimension(400,200)); 
```

So `pack()` cannot interfere.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:23:25.523

使用`CardLayout`. 添加`JLabel`和空`JPanel`。而不是将其设置为可见/不可见，而是在必要时交换显示`JLabel`或的卡片`JPanel`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:34:07.897

Extending JFrame is not advisable, better extend JPanel put all your components inside and then add it to a JFrame

You need to learn how to use `SwingUtilities.invokeLater()`: See [example](https://stackoverflow.com/a/11357781/1360074) how your should look like

You need to learn about `Layout`: [Tutorial](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)

Very dumb and easy approach in your code would be:

```
 this.statusLabel.setForeground(bgColor); //background color
 this.statusLabel.setText("           "); //some number of characters 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-04T06:34:58.970

By default for you frame you are using `BorderLayout`. You can try to have like:

```
this.add(topPanel, BorderLayout.NORTH);     //Add Top Panel to North
this.add(middlePanel, BorderLayout.SOUTH); //Add Middle Panel to South 
```

rather than at center.

Or you can create an intermediate container panel for these 2 panels, or consider other layout managers like `BoxLayout`, etc

# c# - 在 Azure 存储客户端 2.0 中将一个 Azure blob 复制到另一个 blob

> ID：14152087
> 
> 赞同：39
> 
> 时间：2013-01-04T06:17:11.613
> 
> 标签：c#, azure, azure-storage

在旧的 1.7 存储客户端中有一个 CloudBlob.CopyFromBlob(otherBlob) 方法，但在 2.0 版本中似乎不存在。复制 blob 的推荐最佳做法是什么？我确实看到了 ICloudBlob.BeginStartCopyFromBlob 方法。如果那是适当的方法，我该如何使用它？

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-01-04T06:27:53.403

[Gaurav Mantri](http://gauravmantri.com/)撰写了一系列关于 2.0 版 Azure 存储的文章。[我从他的存储客户端库 2.0](http://gauravmantri.com/2012/11/28/storage-client-library-2-0-migrating-blob-storage-code/)的博客文章中提取了这段代码-为 Blob 复制迁移 Blob 存储代码

```
CloudStorageAccount storageAccount = new CloudStorageAccount(new StorageCredentials(accountName, accountKey), true);
CloudBlobClient cloudBlobClient = storageAccount.CreateCloudBlobClient();
CloudBlobContainer sourceContainer = cloudBlobClient.GetContainerReference(containerName);
CloudBlobContainer targetContainer = cloudBlobClient.GetContainerReference(targetContainerName);
string blobName = "<Blob Name e.g. myblob.txt>";
CloudBlockBlob sourceBlob = sourceContainer.GetBlockBlobReference(blobName);
CloudBlockBlob targetBlob = targetContainer.GetBlockBlobReference(blobName);
targetBlob.StartCopyFromBlob(sourceBlob); 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2016-02-22T22:45:07.087

使用 Storage 6.3（比原始问题更新的库）和异步方法使用 StartCopyAsync ( [MSDN](https://msdn.microsoft.com/en-us/library/azure/microsoft.windowsazure.storage.blob.cloudblockblob.startcopyasync(v=azure.100).aspx) )

```
 CloudStorageAccount storageAccount = CloudStorageAccount.Parse("Your Connection");

  CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();
  CloudBlobContainer container = blobClient.GetContainerReference("YourContainer");

  CloudBlockBlob source = container.GetBlockBlobReference("Your Blob");
  CloudBlockBlob target = container.GetBlockBlobReference("Your New Blob");

  await target.StartCopyAsync(source); 
```

* * *

## 回答 #3

> 赞同：19
> 
> 时间：2016-04-12T12:29:41.057

仅供参考，从最新版本（7.x）开始，`SDK`this 不再有效，因为该`BeginStartCopyBlob`功能不再存在。

你可以这样做：

```
// this tunnels the data via your program,
// so it reuploads the blob instead of copying it on service side
using (var stream = await sourceBlob.OpenReadAsync())
{
  await destinationBlob.UploadFromStreamAsync(stream);
} 
```

正如@(Alexey Shcherbak) 所提到的，这是一种更好的方法：

```
await targetCloudBlob.StartCopyAsync(sourceCloudBlob.Uri);

while (targetCloudBlob.CopyState.Status == CopyStatus.Pending)
{
    await Task.Delay(500);
    // Need to fetch or "CopyState" will never update
    await targetCloudBlob.FetchAttributesAsync(); 
}

if (targetCloudBlob.CopyState.Status != CopyStatus.Success)
{
    throw new Exception("Copy failed: " + targetCloudBlob.CopyState.Status);
} 
```

* * *

## 回答 #4

> 赞同：17
> 
> 时间：2017-12-05T10:58:56.220

启动 Azure Storage 8，在存储帐户之间移动 Blob，我使用类似于下面的代码，希望它对某人有所帮助：

```
//copy blobs - from
CloudStorageAccount sourceStorageAccount = new CloudStorageAccount(new StorageCredentials(storageFromName, storageFromKey), true);
CloudBlobClient sourceCloudBlobClient = sourceStorageAccount.CreateCloudBlobClient();
CloudBlobContainer sourceContainer = sourceCloudBlobClient.GetContainerReference(containerFromName);

//copy blobs - to
CloudStorageAccount targetStorageAccount = new CloudStorageAccount(new StorageCredentials(storageToName, storageToKey), true);
CloudBlobClient targetCloudBlobClient = targetStorageAccount.CreateCloudBlobClient();
CloudBlobContainer targetContainer = targetCloudBlobClient.GetContainerReference(containerToName);

//create target container if didn't exists
try{
    await targetContainer.CreateIfNotExistsAsync();
}
catch(Exception e){
    log.Error(e.Message);
}

CloudBlockBlob sourceBlob = sourceContainer.GetBlockBlobReference(blobName);
CloudBlockBlob targetBlob = targetContainer.GetBlockBlobReference(blobName);

try{
    //initialize copying
    await targetBlob.StartCopyAsync(sourceBlob.Uri);
}
catch(Exception ex){
    log.Error(ex.Message);
    //return error, in my case HTTP
    return req.CreateResponse(HttpStatusCode.BadRequest, "Error, source BLOB probably has private access only: " +ex.Message);
} 

//fetch current attributes
targetBlob.FetchAttributes();

//waiting for completion
while (targetBlob.CopyState.Status == CopyStatus.Pending){
    log.Info("Status: " + targetBlob.CopyState.Status);
    Thread.Sleep(500);
    targetBlob.FetchAttributes();
}

//check status
if (targetBlob.CopyState.Status != CopyStatus.Success){
    //return error, in my case HTTP
    return req.CreateResponse(HttpStatusCode.BadRequest, "Copy failed with status: " + targetBlob.CopyState.Status);
}

//finally remove source in case Copy Status was Success
sourceBlob.Delete();

//and return success (in my case HTTP)
return req.CreateResponse(HttpStatusCode.OK, "Done."); 
```

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2013-01-04T06:59:09.663

Naveen 已经解释了使用的正确语法`StartCopyFromBlob`（同步方法）。您提到的方法 ( `BeginStartCopyFromBlob`) 是异步替代方法，您可以将其与`Task`例如结合使用：

```
 var blobClient = account.CreateCloudBlobClient();

    // Upload picture.
    var picturesContainer = blobClient.GetContainerReference("pictures");
    picturesContainer.CreateIfNotExists();
    var myPictureBlob = picturesContainer.GetBlockBlobReference("me.png");
    using (var fs = new FileStream(@"C:\Users\Public\Pictures\Sample Pictures\Chrysanthemum.jpg", FileMode.Open))
        myPictureBlob.UploadFromStream(fs);

    // Backup picture.
    var backupContainer = blobClient.GetContainerReference("backup");
    backupContainer.CreateIfNotExists();
    var backupBlob = picturesContainer.GetBlockBlobReference("me.png");

    var task = Task.Factory.FromAsync<string>(backupBlob.BeginStartCopyFromBlob(myPictureBlob, null, null), backupBlob.EndStartCopyFromBlob);
    task.ContinueWith((t) =>
    {
        if (!t.IsFaulted)
        {
            while (true)
            {
                Console.WriteLine("Copy state for {0}: {1}", backupBlob.Uri, backupBlob.CopyState.Status);
                Thread.Sleep(500);
            }
        }
        else
        {
            Console.WriteLine("Error: " + t.Exception);
        }
    }); 
```

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2017-02-15T16:56:54.957

对我来说，WindowsAzure.Storage 8.0.1，James Hancock 的解决方案做了服务器端复制，但客户端复制状态卡在`Pending`（永远循环）。解决方案是调用after `FetchAttributes()`。`targetCloudBlob``Thread.sleep(500)`

```
// Aaron Sherman's code 

targetCloudBlob.StartCopy(sourceCloudBlob.Uri);

while (targetCloudBlob.CopyState.Status == CopyStatus.Pending)
{
    Thread.Sleep(500);
    targetCloudBlob.FetchAttributes();
}

// James Hancock's remaining code 
```

[微软官方文档（异步示例）](https://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storage.blob.cloudblob.copystate.aspx)

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2021-01-21T01:35:18.553

自从之前的帖子发布以来，似乎 API 可能已经被清理了一点。

```
// _client is a BlobServiceClient injected via DI in the constructor.

BlobContainerClient sourceContainerClient = _client.GetBlobContainerClient(sourceContainerName);
BlobClient sourceClient = sourceContainerClient.GetBlobClient(blobName);

BlobContainerClient destContainerClient = _client.GetBlobContainerClient(destContainerName);
BlobClient destClient = destContainerClient.GetBlobClient(blobName);

// assume that if the following doesn't throw an exception, then it is successful.
CopyFromUriOperation operation = await destClient.StartCopyFromUriAsync(sourceClient.Uri);
await operation.WaitForCompletionAsync(); 
```

的文档`operation.WaitForCompletionAsync`说：

> 定期调用服务器，直到长时间运行的操作完成。该方法会定期调用 UpdateStatusAsync 直到 HasCompleted 为真，然后返回操作的最终结果。

查看此方法的源代码似乎会调用`BlobBaseClient.GetProperties`（或异步版本），这将引发`RequestFailureException`错误。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-01-16T09:09:42.693

这是我简短的回答。

```
public void Copy(CloudBlockBlob srcBlob, CloudBlobContainer destContainer)
{
    CloudBlockBlob destBlob;

    if (srcBlob == null)
    {
        throw new Exception("Source blob cannot be null.");
    }

    if (!destContainer.Exists())
    {
        throw new Exception("Destination container does not exist.");
    }

    //Copy source blob to destination container
    string name = srcBlob.Uri.Segments.Last();
    destBlob = destContainer.GetBlockBlobReference(name);
    destBlob.StartCopyAsync(srcBlob);                
} 
```

# python - 如何使用 wx.choicebox 内容？

> ID：14152089
> 
> 赞同：1
> 
> 时间：2013-01-04T06:17:20.630
> 
> 标签：python, wxpython

我是 python 新手，使用 wxpython 做小型 GUI 项目，

这是我的代码： import wx import wx.grid as gridlib

类安装（wx.Frame）：

```
 def __init__ (self):

     wx.Frame.__init__(self, None, -1, 'Instal Deb', size=(250, 300), style = wx.MINIMIZE_BOX | wx.CLOSE_BOX | wx.SYSTEM_MENU)

     panel = wx.Panel(self, -1)

    text = wx.StaticText(panel, -1, label = 'System Name?', pos=(15,15))

    basicText = wx.TextCtrl(panel, -1, " ",pos=(15,32), size=(100,-1))

    basicText.SetInsertionPoint (0)

  sampleList = [' ', 'abc','xyz']

  wx.StaticText(panel, -1, "system Type?" , pos=(15, 70))

  wx.Choice(panel, -1, (15, 85), choices=sampleList)

   wx.StaticText(panel, -1, "Licence :", pos=(15,125))

      self.Center() 
```

如果**名称**== '**主要**'：

```
app = wx.PySimpleApp()

 install().Show()

app.MainLoop() 
```

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

我想在“许可证”文本下再添加 2 个选择框（例如：xx 和 yy）。当我在系统类型选择框中选择“混合”时，两者都必须像以前一样出现或保持在那里，但是当我选择“NVR”时在选择框中，“YY”选择框应该消失，因为我是新手，我不知道该怎么做。请帮我解决我的问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:34:12.397

```
def OnChoice1(evt):
   print self.ch1.SelectedString()
   self.ch2 = wx.Choice(panel,-1,(x,y),choices=["ABC".split()]
def __init__(self):
...
   self.ch1 =  wx.Choice(panel, -1, (15, 85), choices=sampleList)
   self.ch1.Bind(wx.EVT_CHOICE,OnChoice1) 
```

我会让你填写一些空白，但这就是你需要知道的大部分内容

# css - 如何为两个 div 制作这种可调整大小的垂直分隔线？

> ID：14152097
> 
> 赞同：1
> 
> 时间：2013-01-04T06:18:18.603
> 
> 标签：css, html

我想知道最好的方法是让两个 div 并排（除非这是使用某个表？），并由垂直分隔线隔开。

![在此处输入图像描述](../Images/8b20ae9eece952eea4e13304058afb22.png)

请注意，当处理程序调整大小时，元素似乎正在调整大小以适应新宽度： ![在此处输入图像描述](../Images/945370b093a65839a26ff2f57d2e5579.png)

请注意，当处理程序进一步调整大小时，它似乎与侧边栏上的元素重叠，只暴露了一点文本。如果用户继续向左调整大小，它将覆盖所有文本。

![在此处输入图像描述](../Images/4c663b14d8ca681291eac642c903fc17.png)

如何使用 css/html5/也许一些 javascript 创建它？例子会很棒（divs？或任何带有文本或任何必要说明的基本元素）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:32:45.887

有一个用于[jQuery的](http://jquery.com/)[拆分器插件](http://methvin.com/splitter/)。

# css - 语法错误“透明”不是“ie-hex-str”的颜色

> ID：14152098
> 
> 赞同：2
> 
> 时间：2013-01-04T06:18:20.800
> 
> 标签：css, internet-explorer, sass, compass-sass

我正在使用指南针，在下面的代码中我想`#fff`用透明度替换`@include filter-gradient`. 但是没有用于透明度的十六进制代码，所以我使用`transparent`了但它给出了错误`syntax error "transparent" is not a color for 'ie-hex-str'`

```
@include filter-gradient(#f3f2f3, transparent, vertical);
$experimental-support-for-svg: true;
@include background-image(linear-gradient(top, #f3f2f3 0%,#eaeae9 68%,#cfcece 70%,transparent 73%,transparent 100%)); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T12:26:47.867

看起来`filter-gradient`mixin 需要一种特定的颜色格式：3 位或 6 位十六进制或 rgb。所以你想给它一个透明的颜色：

```
@include filter-gradient(#f3f2f3, transparentize(white, 1), vertical); 
```

# android - 获取两次连续触摸的 X 和 Y 坐标

> ID：14152106
> 
> 赞同：0
> 
> 时间：2013-01-04T06:18:58.870
> 
> 标签：android, touch, touch-event

我如何获得双击事件触摸的 X 和 Y 位置，可能就像您选择初始位置和最终位置的游戏，所以我得到`oldX,oldY`和`newX,newY`

我已经尝试了一个最初的`if...else`声明并在两者中都修改了这个布尔值，因为我只想获得两次触摸。`boolean` `firsttouch``true``if``else`

注意：我不是在说拖动；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:33:18.710

`GestureDetector`您需要使用如下方式实现双击事件：

> ```
> GestureDetector gd = new GestureDetector(this);
>   gd.setOnDoubleTapListener(new OnDoubleTapListener()
>     {
>         public boolean onSingleTapConfirmed(MotionEvent e)
>         {
>             Toast.makeText(getApplicationContext(),"Single Tap Called", Toast.LENGTH_SHORT).show();
>             return false;
>         }
>         public boolean onDoubleTapEvent(MotionEvent e)
>         {
>             return false;
>         }
>         public boolean onDoubleTap(MotionEvent e)
>         {
>             Toast.makeText(getApplicationContext(), "Double Tap Called", Toast.LENGTH_SHORT).show();
>         }
>     }); 
> ```

# google-chrome - 在 Firefox 中检查元素标尺

> ID：14152116
> 
> 赞同：2
> 
> 时间：2013-01-04T06:19:33.793
> 
> 标签：google-chrome, firefox, code-inspection, rulers

我想知道有没有办法在 Firefox 中查看标尺，例如 Chrome 检查元素标尺。

Chrome 显示您当前的宽度，即。宽度 + 填充 = 标尺悬停时的当前宽度。

请参阅下面的 Chrome 屏幕截图以获取参考。 ![谷歌浏览器检查元素计算的高度/宽度标尺](../Images/f0e59cd226763276470641311c892a92.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-03T04:51:03.417

它现在已在新的 Firefox 中实现。Firefox 32 及以上版本的开发者工具非常棒:)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-04T06:26:02.360

是的，您可以借助一些插件和一些工作。您所要做的就是画出尺子，然后您就可以得到准确的尺寸。

[Measure 它让您可以在任何网页上绘制标尺，以检查页面元素的宽度、高度或对齐方式（以像素为单位）。](https://addons.mozilla.org/en-us/firefox/addon/measureit/)

也看看[PixelZoomer](https://addons.mozilla.org/en-US/firefox/addon/pixelzoomer/)。它截取当前网站的屏幕截图，并提供各种像素分析工具。您可以放大网站（最高 3200%）、测量距离并使用滴管挑选颜色。

希望我有所帮助:)。

# c# - RegEx 用于匹配 7 位数字，但不匹配带前缀的数字

> ID：14152118
> 
> 赞同：1
> 
> 时间：2013-01-04T06:19:37.203
> 
> 标签：c#, regex

我正在尝试从纯文本中检测 7 位数字，这是我正在使用的正则表达式。

```
Regex sevenDigit = new Regex(@"(?<!\d)\d{7}(?!\d)"); 
```

现在，我希望能够只匹配那些不以特定前缀开头的 7 位数字。特别是“usr_id”。如何修改此正则表达式以仅匹配不属于 usr_id=1234567 形式的那些？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:45:23.337

我会这样做：

```
Regex sevenDigit = new Regex(@"(?<!usr_id=)\b\d{7}\b"); 
```

还要注意`\b`单词边界，这是一种更优雅的表达“数字开头”和“数字结尾”的方式。 它们与您的和环视断言*完全*不匹配（最值得注意的是，它们不允许匹配您的正则表达式*允许*匹配的范围）。所以如果你真的需要这种方法，你也可以这样做`(?<!\d)``(?!\d)``1234567``abc1234567xyz`

 *```
Regex sevenDigit = new Regex(@"(?<!\d|usr_id=)\d{7}(?!\d)"); 
```*

# lighttpd - 在 ARM 平台上运行 lighttpd

> ID：14152128
> 
> 赞同：0
> 
> 时间：2013-01-04T06:20:41.167
> 
> 标签：lighttpd

我正在尝试在我的 ARM 平台上托管 Web 服务器。条件是 Web 服务器应该轻巧快速。所以我把注意力集中在了 lighttpd 上。我能够为 ARM 目标成功交叉编译 lighttpd。但是当我试图在我的 arm 平台上运行它时，它给出了一个错误：

```
-sh: /usr/bin/lighttpd: not found 
```

我正在使用以下命令来运行 lighttpd。

```
/usr/bin/lighttpd -f /usr/bin/lighttpd.conf 
```

我无法理解这种错误的原因是什么。lighttpd 可执行文件位于正确的位置，并且我具有可执行权限。有人能帮助我吗。
我尝试在 Pentium 目标上运行 Web 服务器，它运行良好，没有任何问题。

PS：-我有root权限。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T05:36:56.923

跑：

```
file /usr/bin/lighttpd 
```

查看输出并确保它实际上是为 ARM 编译的。如果您尝试运行未针对正确架构编译的 ELF 可执行文件，则可能会发生此错误。

# gwt - 使用 pdf.js 出现异常 JavaScriptException: (ReferenceError): PDFJS is not defined

> ID：14152131
> 
> 赞同：2
> 
> 时间：2013-01-04T06:20:53.640
> 
> 标签：gwt, pdf.js

```
 **In html file add script tag**

         <head>
             <script type="text/javascript" src="https://raw.github.com/mozilla/pdf.js/gh-pages/build/pdf.js"></script>
            </head>
            <body>
             <button id="prev" onclick="goPrevious()">Previous</button>
                <button id="next" onclick="goNext()">Next</button>
                &nbsp; &nbsp;
                <span>Page: <span id="page_num"></span> 
                 <span id="page_count"></span></span>
              </div>

             <div>
                <canvas id="the-canvas" width="700" style="border:1px solid black"></canvas>
              </div>
            </body> 
```

**并在客户端（pdf.java）使用 JSNI 调用 java 脚本函数，并将 pdf.js 文件粘贴到公共文件夹中并调用 .gwt.xml**

```
**I am just follow this link http://jsbin.com/pdfjs-prevnext-v2/1/edit**

            public void onModuleLoad() {
                alert1();
                }

            private native void alert1 ()
            /*-{
        var url = 'http://cdn.mozilla.net/pdfjs/tracemonkey.pdf';

        PDFJS.disableWorker = true;

        var pdfDoc = null,
            pageNum = 1,
            scale = 0.8,
            canvas = document.getElementById('the-canvas'),
            ctx = canvas.getContext('2d');

        function renderPage(num) {
            // Using promise to fetch the page
            pdfDoc.getPage(num).then(function(page) {
                var viewport = page.getViewport(canvas.width / page.getViewport(1.0).width);
                canvas.height = viewport.height;
                // Render PDF page into canvas context
                var renderContext = {
                    canvasContext: ctx,
                    viewport: viewport
                };
                page.render(renderContext);
            });

            document.getElementById('page_num').textContent = pageNum;
            document.getElementById('page_count').textContent = pdfDoc.numPages;
        }

        function goPrevious() {
            if (pageNum <= 1) return;
            pageNum--;
            renderPage(pageNum);
        }

        function goNext() {
            if (pageNum >= pdfDoc.numPages) return;
            pageNum++;
            renderPage(pageNum);
        }

        PDFJS.getDocument(url).then(function getPdfHelloWorld(_pdfDoc) {
            pdfDoc = _pdfDoc;
            renderPage(pageNum);
        });​

            }-*/; 
```

11:27:17.679 [错误] [pdf] 无法加载模块入口点类 com.ruchi.client.Pdf（有关详细信息，请参阅相关异常）com.google.gwt.core.client.JavaScriptException: (ReferenceError): PDFJS is未在 com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136) 在 com.google.gwt 的 com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:248) 定义.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561) 在 com.google.gwt.dev.shell.ModuleSpace.invokeNativeVoid(ModuleSpace.java:289) 在 com.google.gwt.dev.shell.JavaScriptHost.invokeNativeVoid (JavaScriptHost.java:107) 在 com.ruchi.client.Pdf.alert1(Pdf.java) 在 com.ruchi.client.Pdf.onModuleLoad(Pdf.java:27) 在 sun.reflect。com.google 上 java.lang.reflect.Method.invoke(Unknown Source) 上 sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) 上 sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) 上的 NativeMethodAccessorImpl.invoke0(Native Method)。 gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:396) 在 com.google.gwt.dev.shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200) 在 com.google.gwt.dev.shell.BrowserChannelServer。 processConnection(BrowserChannelServer.java:525) at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363) at java.lang.Thread.run(Unknown Source)DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:396) at com.google.gwt.dev .shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200) 在 com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525) 在 com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer .java:363）在 java.lang.Thread.run（未知来源）DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.google.gwt.dev.shell.ModuleSpace.onLoad(ModuleSpace.java:396) at com.google.gwt.dev .shell.OophmSessionHandler.loadModule(OophmSessionHandler.java:200) 在 com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525) 在 com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer .java:363）在 java.lang.Thread.run（未知来源）shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525) at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363) at java.lang.Thread.run(Unknown Source)shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:525) at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363) at java.lang.Thread.run(Unknown Source)

```
 plz suggest me what i do.... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T09:13:35.110

您只是盲目地将 javascript 代码复制粘贴到 JSNI 块中。

例如，如果在您的 html js 块中，您有

```
function test() {
  alert('hello');  
} 
```

在你的 JSNI

```
private static native int test() /*-{
    var v = $wnd.test();
    return v;
  }-*/; 
```

*你注意到* **$wnd的用法了吗？**

1）HTML应该有

```
 <span>Page: <span id="page_num"></span> of <span id="page_count"></span></span>
    <div>
        <canvas id="the-canvas" width="700" style="border: 1px solid black"></canvas>
    </div> 
```

2）将pdf.js移动到本地文件夹（通过互联网请求的html文件中的aovid脚本标签）

3) 改为添加`<script src="PDF.js" />`您的 module.gwt.xml 文件。将[https://raw.github.com/mozilla/pdf.js/gh-pages/build/pdf.js](https://raw.github.com/mozilla/pdf.js/gh-pages/build/pdf.js)复制到 GWT 的**公共**文件夹中。

4）修改你的JSNI代码

```
/*-{
    var url = 'http://cdn.mozilla.net/pdfjs/tracemonkey.pdf';

    $wnd.PDFJS.disableWorker = true;

    var pdfDoc = null,
        pageNum = 1,
        scale = 0.8,
        canvas =  $wnd.document.getElementById('the-canvas'),
        ctx = canvas.getContext('2d');

    function renderPage(num) {
        // Using promise to fetch the page
        pdfDoc.getPage(num).then(function(page) {
            var viewport = page.getViewport(canvas.width / page.getViewport(1.0).width);
            canvas.height = viewport.height;
            // Render PDF page into canvas context
            var renderContext = {
                canvasContext: ctx,
                viewport: viewport
            };
            page.render(renderContext);
        });

       $wnd.document.getElementById('page_num').textContent = pageNum;
       $wnd.document.getElementById('page_count').textContent = pdfDoc.numPages;
    }
    function goPrevious() {
        if (pageNum <= 1) return;
        pageNum--;
        renderPage(pageNum);
    }

    function goNext() {
        if (pageNum >= pdfDoc.numPages) return;
        pageNum++;
        renderPage(pageNum);
    }

    $wnd.PDFJS.getDocument(url).then(function getPdfHelloWorld(_pdfDoc) {
        pdfDoc = _pdfDoc;
        renderPage(pageNum);
    });​
    }-*/; 
```

5）您应该能够类似地解决 Next/Prev 问题。避免再提出一个问题来解决这个问题。你应该尝试做一些“家庭作业”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T09:45:28.350

[JSNI 101](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsJSNI#writing)：你必须使用`$wnd.PDFJS`而不是`PDFJS`.

# c++ - 从 C++ 中的引用中获取值

> ID：14152137
> 
> 赞同：1
> 
> 时间：2013-01-04T06:21:21.387
> 
> 标签：c++

我有问题要获得对 int 的引用（来自 int 的集合，QList）。但我需要该值来调用另一个使用按值调用的函数。

```
int my_var = collection[i];

nextFunction(my_var); --> ERROR no matching function ... (int&) ... 
```

如何从此参考中获取值或转换它？

我要调用的函数的签名如下所示：

```
nextFunction(int id, ...); 
```

它实际上是一个构造函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:07:32.170

如果您只想将值传递给 nextFunction 您需要在您的方法中添加一个 const

```
nextFunction(double& par); 
```

会导致你的错误。

```
nextFunction(const double& par); 
```

或者

```
nextFunction(double par); 
```

会导致自动转换。因此，如果您真的希望 par 在 nextFunction 内更改，则需要

```
nextFunction(int& par); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:01:47.067

我认为您的问题与将参考转换为价值不同。即使一个函数使用按值调用的方法，它也会很高兴地接受一个引用变量。我已经在visual studio上试过了，效果很好。

在函数调用期间，编译器通常会对参数进行类型检查。我认为您应该查看 collections[i] 返回的值的类型。您的编译器错误表明存在类型不匹配。我认为这与按值调用和按引用调用没有任何关系。

# javascript - 如果第一个数字是 0，我们如何无法进入。请阅读下文了解详细信息：

> ID：14152144
> 
> 赞同：1
> 
> 时间：2013-01-04T06:21:42.057
> 
> 标签：javascript, asp.net

如果文本框中的第一个数字为 0，我们如何无法输入。例如 ：

如果有人进入：

*   000000000 - 不接受
*   0000001 - 接受
*   0000001002 - 接受
*   0 - 不接受

如果有人有想法，请与我分享。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:22:58.557

您可以使用[parseInt](http://www.w3schools.com/jsref/jsref_parseint.asp)、[parseFloat](http://www.w3schools.com/jsref/jsref_parsefloat.asp)转换为数字并将其与零进行比较。

```
if(parseInt(num) > 0)
{
} 
```

如果它是数字并且您不必将其转换为数字，那么您不需要使用 parseInt。

```
if(num > 0)
{

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:23:17.033

将输入字符串转换为数字，然后：

```
if(inputNumber%10 == 0) {/*run deny code*/} else {/*run accept code*/} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-07T04:40:06.090

终于我得到了答案，这是一个小任务！

```
 int idd = Convert.ToInt16(hour_value.text);
           int p = 0;
    if (idd > p)
    {

    }
    else
    {

    } 
```

# java - 如何为 JApplet 设置最大可用大小？

> ID：14152147
> 
> 赞同：1
> 
> 时间：2013-01-04T06:21:54.920
> 
> 标签：java, javascript, swing, applet, japplet

我正在将我的桌面 Swing 应用程序移植到一个小程序。考虑到任务栏，以下代码非常适合`JFrame`实体设置最大可用窗口大小。

```
GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();
Rectangle bounds = env.getMaximumWindowBounds();
frame.setMaximizedBounds(bounds);
frame.setPreferredSize(bounds.getSize());
frame.setLocation(0, 0); 
```

在 Eclipse Run Configurations -> My Applet -> Parameters 我可以选择宽度和高度，或者如果小程序是从浏览器运行的，则必须这样做：

```
<applet code="myJApplet" width="800" height="480"> 
```

但我希望能够根据屏幕分辨率动态设置大小。怎么可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T11:23:02.337

扩展这个先前的[答案](https://stackoverflow.com/a/14066939/230513)，您可能希望采用一种[混合方法，它通过](https://stackoverflow.com/a/12449949/230513)[Java Web Start](https://stackoverflow.com/tags/java-web-start/info)提供额外的部署选项。你的重点应该是开发一个`Container`在任何初始大小下都能很好地运行，同时避免[常见的陷阱](https://stackoverflow.com/a/12532237/230513)。用于`java.util.Preferences`保留受您控制的几何图形，并在不受控制时进行调整。细节取决于实际内容，但问题至少封装得很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T14:47:50.197

使用 JavaScript，noscript 800x600。请注意，这会占用大量内存。虽然有点麻烦，但最好还是使用 Java Webstart 应用程序。

noscript 是一个标签`<noscript>(static html content)</noscript>`，您可以在其中放置条件 HTML - 当 JavaScript 被阻止时。使用 JS 你可以有一个完整的动态解决方案，在 noscript 中有一个固定大小的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-22T08:58:11.287

我在这里找到了它：http: [//andylangton.co.uk/articles/javascript/get-viewport-size-javascript/](http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/)

```
<script type="text/javascript">
<!--
var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName('body')[0],x=w.innerWidth||e.clientWidth||g.clientWidth,y=w.innerHeight||e.clientHeight||g.clientHeight;
//-->
</script> 
```

# python - 如何在 Python 中的列表中扩展列表？

> ID：14152149
> 
> 赞同：1
> 
> 时间：2013-01-04T06:22:10.573
> 
> 标签：python, list, nested-lists

```
some_list = [[1, 2], [3, 4], [5, 6]] 
```

变成

```
some_list = [[1, 2, 10, 11], [3, 4, 10, 11], [5, 6, 10, 11]] 
```

使用公共列表（在本例中）扩展单个列表（在列表中`[10, 11]`）。

我想要一个简单的方法来做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:24:38.483

列出理解来救援！

```
some_list = [l + [10, 11] for l in some_list] 
```

当您想要转换列表中的元素时，列表推导*通常*是答案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T06:24:38.533

```
some_list = [l + [10, 11] for l in some_list] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:27:56.840

**地图技术：**

```
>>> some_list = [[1, 2], [3, 4], [5, 6]]
>>> some_list = map(lambda i : i + [10,11], some_list)
>>> some_list
[[1, 2, 10, 11], [3, 4, 10, 11], [5, 6, 10, 11]] 
```

其他：

```
>>> some_list = [[1, 2], [3, 4], [5, 6]]
>>> for i in some_list:
...     i.extend([10,11])
... 
>>> some_list
[[1, 2, 10, 11], [3, 4, 10, 11], [5, 6, 10, 11]] 
```

使用切片：

```
>>> some_list = [[1, 2], [3, 4], [5, 6]]
>>> for i in some_list:
...     i[len(i):] = [10,11]
... 
>>> some_list
[[1, 2, 10, 11], [3, 4, 10, 11], [5, 6, 10, 11]] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T15:30:36.873

使用以下代码对容器中的每个项目运行一个方法并获取结果相当容易：

```
class Apply(tuple):

    "Create a container that can run a method from its contents."

    def __getattr__(self, name):
        "Get a virtual method to map and apply to the contents."
        return self.__Method(self, name)

    class __Method:

        "Provide a virtual method that can be called on the array."

        def __init__(self, array, name):
            "Initialize the method with array and method name."
            self.__array = array
            self.__name = name

        def __call__(self, *args, **kwargs):
            "Execute method on contents with provided arguments."
            name, error, buffer = self.__name, False, []
            for item in self.__array:
                attr = getattr(item, name)
                try:
                    data = attr(*args, **kwargs)
                except Exception as problem:
                    error = problem
                else:
                    if not error:
                        buffer.append(data)
            if error:
                raise error
            return tuple(buffer) 
```

在您的情况下，您需要编写以下内容来扩展主容器中的每个列表：

```
some_list = [[1, 2], [3, 4], [5, 6]]
Apply(some_list).extend([10, 11])
print(some_list) 
```

# grails - 在 grails 中覆盖 taglib 中的 gform

> ID：14152153
> 
> 赞同：0
> 
> 时间：2013-01-04T06:22:38.873
> 
> 标签：grails, taglib

我尝试覆盖 taglib 中的 g:form。下面是我的代码。

```
 def advancedSearchFormAttrs=["method":"post"]
    String advancedSearchForm=g.form(advancedSearchFormAttrs)
    sb<<"""<fieldset class="search-advanced collapsed"style="border: 1px solid #CCC;padding:0px 21px 0px 21px;border-radius:8px 8px 8px 8px;min-height:24px;">
    <legend>
        <span id="advancedsearch"> <label for="advancedsearch">Advanced Search
        </label>
        </span>
    </legend>
    ${advancedSearchForm}
    **<div id="searchcontent">
        <div class="advanced-content-search">
            <label for="Criteria Name">Criteria Name <span
                class="required-indicator">*</span>
            </label>
            ${searchSelect}
        </div>
        <div style="margin-left: 338px;">
            <label for="Enter Your Search Here"> Enter Your Search Here <span
                class="required-indicator">*</span>
            </label>
            ${advancedSearchTextBox}
        </div>
        ${advancedSearchActionButton}
    </div>

</fieldset>"""**. 
```

在这里，我已经覆盖了 g:form 功能。它工作正常。问题是我无法将 from div id="searchcontent" 放在代码的末尾（以粗体标记的代码之间的代码）。单击提交按钮时在表单中发布。帮助我如何将 div id="searchcontent" 中的代码放在表单的末尾。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:38:22.150

`g.form`作为闭包需要 2 个参数：

*   attrs : 带参数的 Map
*   body :`form`元素的内部主体

在这里，如何在您的示例中使用：

```
def advancedSearchFormAttrs=["method":"post"]
sb << g.form(advancedSearchFormAttrs, 
"""<fieldset class="search-advanced collapsed" style="border: 1px solid #CCC;padding:0px 21px 0px 21px;border-radius:8px 8px 8px 8px;min-height:24px;">
    <legend>
        <span id="advancedsearch"> <label for="advancedsearch">Advanced Search</label></span>
    </legend>
    <div id="searchcontent">
        <div class="advanced-content-search">
            <label for="Criteria Name">Criteria Name <span class="required-indicator">*</span></label>
        ${searchSelect}
        </div>
        <div style="margin-left: 338px;">
            <label for="Enter Your Search Here"> Enter Your Search Here <span class="required-indicator">*</span></label>
            ${advancedSearchTextBox}
        </div>
        ${advancedSearchActionButton}
    </div>
</fieldset>""") 
```

# python - 在创建/修改文件之前阻止执行

> ID：14152157
> 
> 赞同：1
> 
> 时间：2013-01-04T06:23:06.067
> 
> 标签：python, file-io, concurrency

我有一个 Python HTTP 服务器，在某个 GET 请求上创建了一个文件，该文件随后作为响应返回。文件创建可能需要一秒钟，分别是文件的修改（更新）。

因此，我无法立即将文件作为响应返回。我该如何处理这样的问题？目前我有这样的解决方案：

```
 while not os.path.isfile('myfile'):
      time.sleep(0.1)
 return myfile 
```

这似乎很不方便，但有没有更好的方法？

一个简单的通知就可以了，但我无法控制创建/更新文件的过程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:40:01.063

像这样的东西会删除`os`呼叫：

```
while updating:
    time.sleep(0.1)
return myfile

...

def updateFile():
    # updating file

    updating = false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:57:27.547

在同步 HTTP 请求中实现阻塞 io 操作是一种不好的方法。如果许多人同时运行相同的过程，您可能很快就会用完线程（如果线程池有限）。我会做以下事情：

客户端请求文件创建 URI。文件生成过程在后台进程（一些异步任务系统）中初始化，用户在 HTTP 响应中获取文件 ID/名称。接下来，客户端每隔一段时间（轮询）进行一次 AJAX 调用，以检查文件是否已创建/修改（单独的文件服务/检查是否存在 URI）。最终创建文件后，用户将被重定向（js window.location）到文件服务 URI。

这种方法需要更多的工作，但最终会得到回报。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:58:38.903

您可以尝试使用`os.path.getmtime`，这将检查文件的修改时间，如果小于 1 秒则返回。另外我建议您只进行有限的尝试，否则如果文件没有被创建/修改，您将陷入无限循环。正如*@Krzysztof Rosiński*指出的那样，您可能应该考虑以非阻塞方式进行操作。

```
import os
from datetime import datetime
import time

for i in range(10):
    try:
        dif = datetime.now()-datetime.fromtimestamp(os.path.getmtime(file_path))
        if dif.total_seconds() < 1:
            return file            
    except OSError:            
        time.sleep(0.1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:31:21.720

您可以使用[`Watchdog`](http://packages.python.org/watchdog/)更好的方式来查看文件系统吗？

# android - 最大大小的apk文件会影响应用程序的性能吗？

> ID：14152160
> 
> 赞同：1
> 
> 时间：2013-01-04T06:23:18.340
> 
> 标签：android

假设我的应用程序太大，接近 55mb 那么有没有办法减少 apk 大小，如果最大大小的 apk 影响性能，那么我如何解决这个问题。任何人都可以建议我答案

感谢您

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T09:25:03.433

大型 APK 与运行时性能缓慢无关。这取决于您如何管理资源。但是，较大的 APK 确实会影响销售业绩，因为用户更喜欢在 Google 市场中下载较小的应用程序。同样的事情也适用于 Apple 应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:26:39.080

在`TraceView`ur`DDMS`中用于性能测试，它提供了应用程序性能跟踪的图形视图。

# javascript - 隐藏特定字段的 SlickGrid 过滤器

> ID：14152161
> 
> 赞同：1
> 
> 时间：2013-01-04T06:23:20.960
> 
> 标签：javascript, slickgrid

我对 javascript 很陌生。我在一个应用程序中工作，我需要使用带有过滤器的光滑网格。我正在关注此链接 [http://mleibman.github.com/SlickGrid/examples/example-header-row.html](http://mleibman.github.com/SlickGrid/examples/example-header-row.html)。在我的应用程序中，我不希望过滤器出现在所有字段中，仅适用于我需要的某些字段。

任何人都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-26T08:45:35.573

```
 this.grid.onHeaderRowCellRendered.subscribe(function(e, args) {
    $(args.node).empty();
    if(args.column.id == 'name' || args.column.id == 'contract'){
        var s = $("<input type='text'>");
        s.data('columndata', args.column.id)
        .val(columnFilters[args.column.id])
        .appendTo(args.node);
        console.log(s);
    };
    }); 
```

只会出现在 id 为 'name' 和 'contract' 的列中

# ios - 没有运行循环的线程

> ID：14152164
> 
> 赞同：4
> 
> 时间：2013-01-04T06:23:35.083
> 
> 标签：ios, nsthread, runloop

我正在阅读核心动画编程指南，在“交易”一章中，我看到了这个

> 重要提示：当从没有运行循环的线程修改层属性时，您必须使用显式事务。

但来自 Apple[关于 NSRunLoop 的文档](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSRunLoop_Class/Reference/Reference.html)

> 您的应用程序不能创建或显式管理 NSRunLoop 对象。每个 NSThread 对象，包括应用程序的主线程，都有一个根据需要自动为其创建的 NSRunLoop 对象。

不是说每个线程都有一个runloop吗？或者不是由 NSThread 创建的线程，例如 POSIX 的 pthread

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T06:44:56.790

它说“每个`NSThread`对象，包括应用程序的主线程，都有一个`NSRunLoop`根据需要自动为其创建的对象。”</p>

如果您不做任何尝试访问线程的运行循环的操作，系统将不会为该线程创建运行循环。

如果你不这样做`[[NSRunLoop currentRunLoop] run]`（或类似的东西），你的线程将不会运行它的运行循环。

该`UIApplicationMain`函数为主线程处理这个问题。对于您创建的线程，如果您希望线程的运行循环有任何效果，则需要运行线程的运行循环。

当您不使用显式事务时，这就是 Core Animation 的情况（我认为）。它开始一个事务，并在当前线程的运行循环中注册一个回调以提交它。（如有必要，这将为当前线程创建一个运行循环。）如果您没有运行线程的运行循环，则永远不会调用该回调。

# java - 如何在 asynctask 类中等待其任务完成

> ID：14152170
> 
> 赞同：3
> 
> 时间：2013-01-04T06:24:14.313
> 
> 标签：java, android, android-asynctask

我是 Asynctask 编码的新手，遇到了一些问题。

在我的代码中，我在`onClick`侦听器中定义了一个子类，并在该类中创建了一个使用 HTTP 连接的 Asynctask，并具有一些 XML 解析代码。问题是，当我单击我的按钮时，它并没有等待异步任务完成，而是给出了一个错误，提示“主类中超出范围”。没有机会处理我的 PostExecute，因为异步任务中的 XML 解析会引发异常，例如：“NetworkOnMainThread”。

我真的可以使用一些帮助来发现我的错误，这是我的代码：

```
public class GetDirectoryInfoXMLParser {

    public static ArrayList<GetDirectoryInfoTableContent> tableContent;
    private GetDirectoryInfoTableContent table;
    private Thread alertThread;
    private ProgressDialog progressDialog;
    Context context;
    InputStream is;

    public GetDirectoryInfoXMLParser(SettingsPage settings) {
        this.context = settings;
    }

    public void getDataFromUrl(String webSite) throws XmlPullParserException,
            IOException {

        if (webSite != null) {
            alert(context);
            GetDirectoryInfoAsyncTask gDirectoryInfoAsyncTask = new GetDirectoryInfoAsyncTask();
            gDirectoryInfoAsyncTask.execute(webSite);
        } else {

        }
    }

    private class GetDirectoryInfoAsyncTask extends
            AsyncTask<String, Void, String> {

        @Override
        protected String doInBackground(String... params) {

            HttpClient client = new DefaultHttpClient();
            HttpPost post = new HttpPost(
                    "http://mobile.primemrm.com/mobile.asmx/GetDirectoryInfo");
            ProtocolVersion protocolVersion = post.getProtocolVersion();
            List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
            nameValuePairs.add(new BasicNameValuePair("sUrl", params[0]));

            try {
                post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                HttpResponse httpResponse = client.execute(post);
                HttpEntity entity = httpResponse.getEntity();
                is = entity.getContent();
            } catch (UnsupportedEncodingException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (ClientProtocolException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            XmlPullParserFactory factory;
            try {
                factory = XmlPullParserFactory.newInstance();

                factory.setNamespaceAware(true);
                XmlPullParser parser = factory.newPullParser();
                // InputStream is = getURlResponse(params[0]);

                if (is == null) {
                    Log.e("GetDirectoryInfoXMLParser", "InputStream is Null");
                    return null;
                }

                else if (is != null) {
                    Log.e("GetDirectoryInfoXMLParser",
                            "InputStream is Not Null");
                    parser.setInput(new InputStreamReader(is));
                }

                int eventType = parser.getEventType();
                String name;

                while (eventType != XmlPullParser.END_DOCUMENT) {

                    if (eventType == XmlPullParser.START_DOCUMENT) {
                        tableContent = new ArrayList<GetDirectoryInfoTableContent>();
                    } else if (eventType == XmlPullParser.START_TAG) {
                        name = parser.getName();
                        if (name.equalsIgnoreCase("Table")) {
                            table = new GetDirectoryInfoTableContent();
                            /*
                             * for(int i = 0; i< parser.getAttributeCount();
                             * i++){
                             * if(parser.getAttributeName(i).equalsIgnoreCase
                             * ("id")){
                             * table.setId(parser.getAttributeValue(i)); }else
                             * if(parser.getAttributeName(i).equalsIgnoreCase(
                             * "rowOrder"));
                             * table.setRowOrder(parser.getAttributeValue(i)); }
                             */
                        } else if (name
                                .equalsIgnoreCase("EnablePublicMemberDirectory")) {
                            table.setEnablePublicMemberDirectory(parser
                                    .nextText());
                            Log.e("GetDirectoryInfoXMLParser",
                                    "EnablePublicMemberDirectory : "
                                            + table.getEnablePublicMemberDirectory());
                        } else if (name.equalsIgnoreCase("Response")) {
                            table.setEnablePublicMemberDirectory(parser
                                    .nextText());

                        }
                    } else if (eventType == XmlPullParser.END_TAG) {
                        name = parser.getName();
                        if (name.equalsIgnoreCase("Table")) {
                            tableContent.add(table);
                            table = null;
                        }
                    }

                    eventType = parser.next();
                }

            } catch (XmlPullParserException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            return null;
        }
    }

    public void alert(final Context context) {
        progressDialog = ProgressDialog.show(context, "", "Loading...");
        alertThread = new Thread() {
            @Override
            public void run() {
                try {
                    sleep(5000);
                    progressDialog.dismiss();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        };
        alertThread.start();
    }
} 
```

* * *

提前致谢。

编辑：

verify.setOnClickListener(new OnClickListener() {

```
 public void onClick(View v) {

            String logingString = login.getText().toString();
            String passwordString = password.getText().toString();
             websiteString = websiteUrl.getText().toString();
            if (websiteString.equals(pref.getString(WEBSITE, null))
                    && logingString.equals(pref.getString(PREF_USERNAME,
                            null))
                    && passwordString.equals(pref.getString(PREF_PASSWORD,
                            null))) {
                //return;
            }
            if (saveCredientials(logingString, passwordString,
                    websiteString)) {
                /*Toast.makeText(getApplicationContext(),
                        "Saved User Name & Password", Toast.LENGTH_LONG)
                        .show();*/

            } else {
                Toast.makeText(getApplicationContext(),
                        "User Name (or) Password is empty",
                        Toast.LENGTH_LONG).show();
            }

            sVersion = version.getText().toString();
            sWesiteUrl = websiteUrl.getText().toString();
            sLogin = login.getText().toString();
            sPassword = password.getText().toString();
            if (sWesiteUrl == null || sWesiteUrl == ""
                    || sWesiteUrl.length() == 0) {
                Log.e("SettingsPage", "Jhansi check 1 sWebsite is null");
                websiteNullAlertDialog();
                //return;
            } else if (sWesiteUrl != null) {
                try {
                    getDirectoyrInforParser.getDataFromUrl(sWesiteUrl);
                } catch (XmlPullParserException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                if (GetDirectoryInfoXMLParser.tableContent != null) {

                    if (GetDirectoryInfoXMLParser.tableContent.get(0)
                            .getEnablePublicMemberDirectory()
                            .equals("true")) {
                        Log.e("SettingsPage",
                                "Jhansi check 2 sWebsite is Public");
                        isLoginSucess = true;
                        Intent intent = new Intent(SettingsPage.this,
                                HomePage.class);
                        intent.putExtra("wesiteLogoUrl", sWesiteUrl);
                        startActivity(intent);

                    } else if (GetDirectoryInfoXMLParser.tableContent
                            .get(0).getEnablePublicMemberDirectory()
                            .equals("false")) {
                        Log.e("SettingsPage",
                                "Jhansi check 3 sWebsite is Private");
                        // ifMember();
                        if (sLogin == null || sLogin.equals("")
                                || sLogin.length() == 0
                                || sPassword == null
                                || sPassword.equals("")
                                || sPassword.length() == 0) {
                            Log.e("SettingsPage",
                                    "Jhansi check 4 loging is null");
                            ifMember();
                            // m.sivajhansi
                            return;
                            // alertDialog();

                        }

                        try {
                            parser.getDataFromUrl(sWesiteUrl, sLogin,
                                    sPassword);

                        } catch (XmlPullParserException e) {
                            e.printStackTrace();
                        } catch (IOException e) {
                            e.printStackTrace();
                        }

                        if (LoginXMLParser.tableContent != null
                                && LoginXMLParser.tableContent.size() > 0 && sLogin.equals(LoginXMLParser.tableContent
                                        .get(0).getContact_email())
                                        && sPassword
                                                .equals(LoginXMLParser.tableContent
                                                        .get(0)
                                                        .getContact_password())) {
                            Log.e("SettingsPage", "data is  : "
                                    + LoginXMLParser.tableContent);
                            /*if (isLoginCorrect && sLogin.equals(LoginXMLParser.tableContent
                                    .get(0).getContact_email())
                                    && sPassword
                                            .equals(LoginXMLParser.tableContent
                                                    .get(0)
                                                    .getContact_password())) {*/
                            isLoginSucess = true;
                                Toast.makeText(SettingsPage.this,
                                        "Login Sucess", Toast.LENGTH_SHORT)
                                        .show();

                                // isLoginSucess = true;

                                Intent intent = new Intent(
                                        SettingsPage.this, HomePage.class);
                                intent.putExtra("wesiteLogoUrl", sWesiteUrl);
                                startActivity(intent);
                        //  }
                        /*
                             * else { Log.e("SettingsPage",
                             * "Jhansi check 5 "); alertDialog(); }
                             */

                        }else {
                          Log.e("SettingsPage", "DATA CHECK");
                        // m.sivajhansi
                            alertDialog();
                        }

                    } else {
                        Log.e("SettingsPage", "Jhansi check 7");
                        websiteNullAlertDialog();

                    }
                } else if (GetDirectoryInfoXMLParser.tableContent == null){
                    Log.e("SettingsPage", "Jhansi check 8");
                    websiteNullAlertDialog();

                }

            }
        }

    }); 
```

称为 onclick 的类是：

公共类 GetDirectoryInfoXMLParser {

```
public static ArrayList<GetDirectoryInfoTableContent> tableContent;
private GetDirectoryInfoTableContent table;

public void getDataFromUrl(String webSite)
        throws XmlPullParserException, IOException {

    XmlPullParserFactory factory = XmlPullParserFactory.newInstance();
    factory.setNamespaceAware(true);
    XmlPullParser parser = factory.newPullParser();
    InputStream is = getURlResponse(webSite);

    if (is == null) {
        Log.e("GetDirectoryInfoXMLParser", "InputStream is Null");
        return ;
    }

    else if (is != null) {
        Log.e("GetDirectoryInfoXMLParser", "InputStream is Not Null");
        parser.setInput(new InputStreamReader(is));
    }

    int eventType = parser.getEventType();
    String name;

    while (eventType != XmlPullParser.END_DOCUMENT) {

        if (eventType == XmlPullParser.START_DOCUMENT) {
            tableContent = new ArrayList<GetDirectoryInfoTableContent>();
        }else if(eventType == XmlPullParser.START_TAG){
            name = parser.getName();
            if(name.equalsIgnoreCase("Table")){
                table = new GetDirectoryInfoTableContent();
                /*for(int i = 0; i< parser.getAttributeCount(); i++){
                    if(parser.getAttributeName(i).equalsIgnoreCase("id")){
                        table.setId(parser.getAttributeValue(i));
                    }else if(parser.getAttributeName(i).equalsIgnoreCase("rowOrder"));
                        table.setRowOrder(parser.getAttributeValue(i));
                }*/
            }else if(name.equalsIgnoreCase("EnablePublicMemberDirectory")){
                table.setEnablePublicMemberDirectory(parser.nextText());
                Log.e("GetDirectoryInfoXMLParser", "EnablePublicMemberDirectory : "+table.getEnablePublicMemberDirectory());
            } else if(name.equalsIgnoreCase("Response")){
                table.setEnablePublicMemberDirectory(parser.nextText());

            }
        }else if(eventType == XmlPullParser.END_TAG){
            name = parser.getName();
            if(name.equalsIgnoreCase("Table")){
                tableContent.add(table);
                table = null;
            }
        }

        eventType = parser.next();
    }

}

public InputStream getURlResponse(String webSite) {
    InputStream is = null;

    HttpClient client = new DefaultHttpClient();
    HttpPost post = new HttpPost(
            "http://mobile.primemrm.com/mobile.asmx/GetDirectoryInfo");
    ProtocolVersion protocolVersion = post.getProtocolVersion();
    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(1);
    nameValuePairs
            .add(new BasicNameValuePair("sUrl", webSite));

    try {
        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse httpResponse = client.execute(post);
        HttpEntity entity = httpResponse.getEntity();
        is = entity.getContent();
    } catch (UnsupportedEncodingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return is;

} 
```

}

现在这是我的代码在 2.3.3 之前完美运行，因为 strictMode 我得到了“NetworkOnMainThread”..所以请通过给我一些大纲来帮助我处理这个..谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:46:15.983

你需要看看这个[http://developer.android.com/reference/android/os/AsyncTask.html](http://developer.android.com/reference/android/os/AsyncTask.html)

本质上，在扩展 AsyncTask 时，

您需要覆盖 onPreExecute () - 您可以使用它来开始显示您的对话框。

doInBackground() - 你可以在这里做你的阻塞/网络操作

onPostExecute - 这将在 doInBackground 中的所有操作完成后触发。这样您就可以关闭对话框并使用从 doInBackground 获得的数据。

# java - Google OAuth2 返回“invalid_grant” - 签署 JWT 问题

> ID：14152176
> 
> 赞同：1
> 
> 时间：2013-01-04T06:24:29.997
> 
> 标签：java

我有一个 OAuth2 java 客户端，它正在尝试创建 JWT，然后使用私钥（来自 Google API 控制台）进行签名 - 按照这些页面 [https://developers.google.com/accounts/docs/OAuth2ServiceAccount](https://developers.google.com/accounts/docs/OAuth2ServiceAccount)进行操作。但是，谷歌 OAuth2 不断返回“无效授权”。

这是签署 JWT 的客户端代码：

```
 package com.oauth2.google.app.url;

    import java.io.FileInputStream;

    import java.security.KeyStore;
    import java.security.PrivateKey;
    import java.security.Signature;

    import java.text.MessageFormat;

    import org.apache.commons.codec.binary.Base64;

    public class WebToken
    {  
      private String iss;
      private String prn;
      private String scope;
      private String aud;
      private long exp;
      private long iat;
      private String keystoreLoc;
      private String keyAlias;

      public WebToken(String iss, String prn, String scope, String aud, long exp, long iat, String keystore,
                          String keyAlias)
      {
        super();
        this.iss = iss;
        this.prn = prn;
        this.scope = scope;
        this.aud = aud;
        this.exp = exp;
        this.iat = iat;
        this.keystoreLoc = keystore;
        this.keyAlias = keyAlias;
      }

      /**
       * Performs base64-encoding of input bytes.
       *
       * @param rawData * Array of bytes to be encoded.
       * @return * The base64 encoded string representation of rawData.
       */
      public static String encodeBase64(byte[] rawData)
      {
        byte[] data = Base64.encodeBase64(rawData);

        return new String(data);
      }

      public String getToken()
        throws Exception
      {
        String header = "{\"alg\":\"RS256\",\"typ\":\"JWT\"}";
        //String header = "{\"alg\":\"RS256\"}";
        String claimTemplate = "'{'\"iss\": \"{0}\", \"prn\": \"{1}\", \"scope\": \"{2}\", \"aud\": \"{3}\", \"exp\": {4}, \"iat\": {5}'}'";

        StringBuffer token = new StringBuffer();

        //Encode the JWT Header and add it to our string to sign
        token.append(encodeBase64(header.getBytes("UTF-8")));

        //Separate with a period
        token.append(".");

        //Create the JWT Claims Object
        String[] claimArray = new String[6];
        claimArray[0] = this.iss;
        claimArray[1] = this.prn;
        claimArray[2] = this.scope;
        claimArray[3] = this.aud;
        claimArray[4] = "" + this.exp;
        claimArray[5] = "" + this.iat;

        MessageFormat claims = new MessageFormat(claimTemplate);
        String payload = claims.format(claimArray);
        print(payload);

        //Add the encoded claims object
        token.append(encodeBase64(payload.getBytes("UTF-8")));

        //Load the private key from a keystore
        KeyStore keystore = KeyStore.getInstance("JKS");
        keystore.load(new FileInputStream(this.keystoreLoc), "welcome1".toCharArray());
        PrivateKey privateKey = (PrivateKey) keystore.getKey(keyAlias, "notasecret".toCharArray());

        //Sign the JWT Header + "." + JWT Claims Object
        Signature signature = Signature.getInstance("SHA256withRSA");
        signature.initSign(privateKey);
        signature.update(token.toString().getBytes("UTF-8"));
        byte[] sig = signature.sign();
        String signedPayload = encodeBase64(sig);

        //Separate with a period
        token.append(".");

        //Add the encoded signature
        token.append(signedPayload);

        return token.toString();
      }

      public static void print(String msg)
      {
        System.out.println(msg);
      }

      public static void main(String[] args)
        throws Exception
      {
        String iss = "17560ddd122-nggij305nchhs76pge045jg9u1f4567k@developer.gserviceaccount.com";
        String prn = "test123@ggmail.com";
        String scope = "https://www.googleapis.com/auth/urlshortener";
        String aud = "https://accounts.google.com/o/oauth2/token";
        long iat =  System.currentTimeMillis()/1000 - 60;
        long exp =  iat + 3600;
        String keystoreLoc = "D:\\keystore.jks";
        String keyAlias = "privatekey";

        WebToken jwt = new WebToken(iss, prn, scope, aud, exp, iat, keystoreLoc, keyAlias);
        String token = jwt.getToken();
        print(token);
      }
    } 
```

然后使用 curl 获取令牌： curl -k -vSs -X POST -d "grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&assertion=" [https://accounts.google.com/o/oauth2 /令牌](https://accounts.google.com/o/oauth2/token)

知道出了什么问题吗？

# html - 我的网站上有一个很大的空白区域

> ID：14152180
> 
> 赞同：0
> 
> 时间：2013-01-04T06:24:39.733
> 
> 标签：html, whitespace

这是问题的网站：http: [//keyclub.paschalcs.org/about/](http://keyclub.paschalcs.org/about/)

有谁知道为什么首页上有一大块白色的反对...？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:29:31.127

如果您在谈论导航前的空白

### CSS修复：

```
#page #pagehold {
  width: 954px;
  margin-top: 120px;
} 
```

### 修复后截图：

![](../Images/4675fcc8ccec11d5699a378f27e52136.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:29:47.070

你给了更多的保证金，这就是差距即将到来：替换此代码：

```
#page #pageHold {
    margin-top: 120px;
    width: 954px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:36:20.480

![在此处输入图像描述](../Images/984d1aadf5c8f228dea30472887aaf87.png)

试试这个

```
#page #pageHold {
    margin-top: 120px;
    width: 954px;
} 
```

你在页面持有者 div 的顶部放置了一些额外的边距

# java - 在java中创建一个记录器库

> ID：14152182
> 
> 赞同：0
> 
> 时间：2013-01-04T06:25:06.713
> 
> 标签：java, logging

我想创建一个记录器类库。要求是

1.  将日志写入指定路径的文件中
2.  更改日志文件的路径
3.  在系统控制台中写入日志
4.  将调试模式写入日志文件
5.  为警告、错误和信息消息生成单独的日志。

我如何在不扩展 Log4J 或记录器或任何其他内置库的情况下开始此操作。任何指导将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:38:05.670

只使用 log4j、java.util.logging、logback 或其他一些现有的 Java 日志框架会更简单。它们都能够满足您的要求。

* * *

这显然是你的牛肉......

> 它在 Apache 下获得许可。我想创建一个免费的图书馆。

对此的简单回应是 Apache 软件是免费的，而且许可证非常宽松。如果您对 Apache 许可证有特定问题，为什么不直接使用 java.util.logging ...，它的许可条款与您的 Java 平台相同。

* * *

> 任何指导将不胜感激。

除了上述（即不要浪费你的时间......），如果你真的想实现一个新的日志框架，你应该从研究现有的框架开始，以了解它们的作用、它们的 API 是如何设计的以及它们是如何设计的。实施工作。（否则你将产生一些没人愿意使用的东西。）它还有助于查找和阅读不同框架的比较和批评。

该研究应该告诉您需要从哪里开始。如果没有，那么您可能还没有足够的技能/经验来完成这项任务......尝试一些更简单的事情。

# eclipse - Eclipse远程调试java应用程序部署在linux机器上

> ID：14152184
> 
> 赞同：1
> 
> 时间：2013-01-04T06:25:09.367
> 
> 标签：eclipse

如何在 Windows 中使用 Eclipse 调试在 Linux 机器上运行的 Java 应用程序。

我正在做以下事情，但出现以下异常：- **无法连接到远程 VM。连接超时。org.eclipse.jdi.TimeoutException...**

**采取的步骤**

1) Eclipse 安装在 Widows 7 (IP: XX.XX.XX.74, JAVA version 6)

2）在Linux机器上运行的Java应用程序（IP：XX.XX.XX.246，JAVA版本6）和使用的JAVA_OPTS：-

```
JAVA_OPTS="${JAVA_OPTS} -Xdebug -Xrunjdwp:transport=dt_socket,address=9000,server=y,suspend=y" 
```

当我在 Linux 机器上运行 java 应用程序时，它正在侦听端口 9000。

3) 使用的 Eclipse Debug 配置：`Host-XX.XX.XX.246; Port-9000, Connection Type-Standard(Socket Attached)`

4）我还在Linux中使用以下命令：

```
**iptables -A INPUT -m state --state NEW -m tcp -p tcp --dport 9000 -j ACCEPT**  to bypass 9000 port from firewall 
```

# python - 读取文件python时转义字符删除

> ID：14152185
> 
> 赞同：0
> 
> 时间：2013-01-04T06:25:11.760
> 
> 标签：python, latex, readfile

我有一个 LaTeX 文件，我想在表单字段中显示它。输入文件：

```
...
\begin{center}
    \vspace{-5mm}
    \noindent
    \textbf{\large Thank You! for Using}
\end{center}
... 
```

我在 python 中使用`readlines()`

```
'\\begin{center}' '\n' 
```

... 等等。

我希望删除转义字符 < no '\n' '\'' '\t' etc> 以便可以将读取的内容放入表单字段。怎么做到呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:55:01.870

我不太确定你是否真的想删除所有转义字符`\n`每行末尾的所有转义字符。这是许多 python 程序员第一次阅读文件时的常见问题，我前一段时间自己也遇到过。

`readlines()`保留尾随`\n`，以便简单`"".join(lines)`地恢复原始文件内容。

`\n`只需从每行中删除尾随。

```
# -*- coding: utf-8 -*-
"""
Sample for readlines and trailing newline characters
"""
import sys

lines1 = []
fh = open(sys.argv[0],"r")
for line in fh.readlines():
    print line
    lines1.append(line)
fh.close()

lines2 = []
fh = open(sys.argv[0],"r")
for line in fh:
    line = line.rstrip()
    print line
    lines2.append(line)
fh.close() 
```

输出将是

```
# -*- coding: utf-8 -*-

"""

Sample for readlines and trailing newline characters

"""

import sys

lines1 = []

fh = open(sys.argv[0],"r")

for line in fh.readlines():

    print line

    lines1.append(line)

fh.close()

lines2 = []

fh = open(sys.argv[0],"r")

for line in fh:

    line = line.rstrip("\n")

    print line

    lines2.append(line)

fh.close()

# -*- coding: utf-8 -*-
"""
Sample for readlines and trailing newline characters
"""
import sys

lines1 = []
fh = open(sys.argv[0],"r")
for line in fh.readlines():
    print line
    lines1.append(line)
fh.close()

lines2 = []
fh = open(sys.argv[0],"r")
for line in fh:
    line = line.rstrip("\n")
    print line
    lines2.append(line)
fh.close() 
```

你也可以写`line.rstrip("\n")`明确地只去除换行符而不是所有的空白字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:32:52.247

您可以使用`replace`适用于 Python 字符串的函数。

```
$> a = 'xyz\nbcd'
$> b = a.replace('\n','') # b would be 'xyzbcd' 
```

# python - 是否可以为 Python 实现自动错误突出显示？

> ID：14152187
> 
> 赞同：0
> 
> 时间：2013-01-04T06:25:31.253
> 
> 标签：python, ide, livecoding

是否有任何支持自动错误突出显示的 Python IDE（如 Java 的 Eclipse IDE？）我认为这对 Python IDE 来说是一个有用的功能，因为它可以更容易地找到语法错​​误。即使这样的编辑器不存在，仍然可以通过每隔几秒钟自动运行 Python 脚本，然后解析控制台输出以获取错误消息来实现这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:27:54.777

日食+pydev

pycharm

好多其它的 ....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:28:03.107

如果你使用 VIM 或者没有问题，试试这个扩展。[https://github.com/klen/python-mode](https://github.com/klen/python-mode)

这也适用于 Emacs：[https ://github.com/gabrielelanaro/emacs-for-python](https://github.com/gabrielelanaro/emacs-for-python)

带有 pydev 的 pycharm 和 eclipse 也可以正常工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:34:16.623

如果我不使用 vim 我真的很喜欢[spyder](http://code.google.com/p/spyderlib/)。它易于使用并具有一些非常好的功能，例如集成调试和分析、图形变量浏览器和对象检查器。例如，后者显示了您使用的每个类功能的集成文档。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-01-07T06:38:20.057

我为 Eclipse 和 PyDev 构建了一个扩展，它执行您所描述的操作，它在您键入时运行 Python 代码，并显示所有变量值和发生的任何异常。它叫做[Live Coding in Python](http://donkirkby.github.io/live-py-plugin/)，网站上有教程和演示视频。

PyDev 可以通过分析代码来突出显示代码中的一些问题，而 Python 中的 Live Coding 可以向您展示运行它时发生的问题。

# mysql - 导入 CSV 时如何设置 phpmyadmin 使用文件名作为表名？

> ID：14152189
> 
> 赞同：0
> 
> 时间：2013-01-04T06:25:35.037
> 
> 标签：mysql, sql, phpmyadmin

如果我将 mydatabase.csv 作为新表导入 phpmyadmin，它将自动重命名为“TABLE XX”（其中 XX 是下一个连续的表号。如何设置它以使用文件名“mydatabase”作为标题桌子？

这样做时，我还想将其默认设置为“使用文件的第一行作为列名”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:45:17.010

您可以构建一个命令字符串并使用准备好的语句执行它，例如：

```
SET @file_name = 'data1';  -- file name, without extension

SET @sql = CONCAT(
'LOAD DATA INFILE ', @file_name, '.csv INTO TABLE ', @file_name, 
' FIELDS TERMINATED BY '';'' LINES TERMINATED BY ''\r'' IGNORE 1 LINES');

PREPARE stmt FROM @sql;
EXECUTE stmt;
DEALLOCATE PREPARE stmt; 
```

# c# - 构建本机 c++ 以用作 .net 库

> ID：14152192
> 
> 赞同：1
> 
> 时间：2013-01-04T06:25:54.927
> 
> 标签：c#, c++, build, code-conversion

我有吸引我的功能的 c++ 源代码。

为了从 .net 应用程序引用此代码或将此代码构建为 .net 程序集（最好是 c#），涉及/需要什么努力/工作？

这是我第一次尝试移植代码，所以请逐步为我分解你的答案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:32:02.547

有几种方法可以做到这一点。

1.  调用
2.  围绕您的 C++ 本机代码创建 C++/CLI 包装器（使用 C++ 本机代码制作静态库），并且可以在 .net 应用程序中轻松使用 C++/CLI 生成的程序集。
3.  COM，即使用互操作（这在所有选项中都很难）

在我的建议中，最简单的方法是使用选项 2，但您需要注意正确的编组。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T06:30:12.850

解决方案 A：

1.  如果您有源代码，则将 CPP 程序编译为 DLL 文件。
2.  [使用 P/Invoke](http://msdn.microsoft.com/en-us/magazine/cc164123.aspx)

解决方案 B（如果您想要的功能在静态库中）：

1.  创建一个存根函数调用程序并将其编译为 DLL
2.  同方案 A.2

# java - 如何通过服务（后台进程）Android截取当前手机屏幕的屏幕截图

> ID：14152199
> 
> 赞同：1
> 
> 时间：2013-01-04T06:26:02.413
> 
> 标签：java, android

> **可能重复：**
> [如何以编程方式在 Android 上截取屏幕截图？](https://stackoverflow.com/questions/2661536/how-to-programatically-take-a-screenshot-on-android)

我是 Android 新手 我的问题是如何通过服务截取当前移动屏幕视图的屏幕截图。有谁能够帮我？？？？

# android - Android：如何解析 HTML 页面？

> ID：14152205
> 
> 赞同：1
> 
> 时间：2013-01-04T06:27:12.840
> 
> 标签：android, sdk, html-parsing, android-webview

我是 android 编程新手。我想知道如何解析网页并将特定内容提取到 ListView 中。最简单和最好的方法是什么？有人可以用下面给出的例子给我看一个例子吗？

URL = "Something.com"。

我想提取每个城市的名称和href链接。

[安娜堡](http://annarbor.org/)
[巴特尔克里克密歇根州](http://battlecreek.org/)
[中部](http://centralmich.org/)
[**底特律 地铁**](http://detroit.org/)
[弗林特](http://flint.org/)
[大急流城](http://grandrapids.org/)

谢谢你们，很抱歉提出这个基本问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:37:35.627

查看下面的代码，如果您有任何疑问，请告诉我，并查看此链接，它可能会对您有所帮助

[http://wptrafficanalyzer.in/blog/android-lazy-loading-images-and-text-in-listview-from-http-json-data/](http://wptrafficanalyzer.in/blog/android-lazy-loading-images-and-text-in-listview-from-http-json-data/)

```
public class MainActivity extends Activity {

    ListView mListView;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // URL to the JSON data
        String strUrl = "ur url/countries";

        // Creating a new non-ui thread task to download json data
        DownloadTask downloadTask = new DownloadTask();

        // Starting the download process
        downloadTask.execute(strUrl);

        // Getting a reference to ListView of activity_main
        mListView = (ListView) findViewById(R.id.lv_countries);

    }

    /** A method to download json data from url */
    private String downloadUrl(String strUrl) throws IOException{
        String data = "";
        InputStream iStream = null;
        try{
            URL url = new URL(strUrl);

            // Creating an http connection to communicate with url
            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();

            // Connecting to url
            urlConnection.connect();

            // Reading data from url
            iStream = urlConnection.getInputStream();

            BufferedReader br = new BufferedReader(new InputStreamReader(iStream));

            StringBuffer sb  = new StringBuffer();

            String line = "";
            while( ( line = br.readLine())  != null){
                sb.append(line);
            }

            data = sb.toString();

            br.close();

        }catch(Exception e){
            Log.d("Exception while downloading url", e.toString());
        }finally{
            iStream.close();
        }

        return data;
    }

    /** AsyncTask to download json data */
    private class DownloadTask extends AsyncTask<String, Integer, String>{
        String data = null;
        @Override
        protected String doInBackground(String... url) {
            try{
                data = downloadUrl(url[0]);
            }catch(Exception e){
                Log.d("Background Task",e.toString());
            }
            return data;
        }

        @Override
        protected void onPostExecute(String result) {

            // The parsing of the xml data is done in a non-ui thread
            ListViewLoaderTask listViewLoaderTask = new ListViewLoaderTask();

            // Start parsing xml data
            listViewLoaderTask.execute(result);
        }
    }

    /** AsyncTask to parse json data and load ListView */
    private class ListViewLoaderTask extends AsyncTask<String, Void, SimpleAdapter>{

        JSONObject jObject;
        // Doing the parsing of xml data in a non-ui thread
        @Override
        protected SimpleAdapter doInBackground(String... strJson) {
            try{
                jObject = new JSONObject(strJson[0]);
                CountryJSONParser countryJsonParser = new CountryJSONParser();
                countryJsonParser.parse(jObject);
            }catch(Exception e){
                Log.d("JSON Exception1",e.toString());
            }

            // Instantiating json parser class
            CountryJSONParser countryJsonParser = new CountryJSONParser();

            // A list object to store the parsed countries list
            List<HashMap<String, Object>> countries = null;

            try{
                // Getting the parsed data as a List construct
                countries = countryJsonParser.parse(jObject);
            }catch(Exception e){
                Log.d("Exception",e.toString());
            }

            // Keys used in Hashmap
            String[] from = { "country"

            // Ids of views in listview_layout
            int[] to = { R.id.tv_country};

            // Instantiating an adapter to store each items
            // R.layout.listview_layout defines the layout of each item
            SimpleAdapter adapter = new SimpleAdapter(getBaseContext(), countries, R.layout.lv_layout, from, to);

            return adapter;
        }

        /** Invoked by the Android on "doInBackground" is executed */
        @Override
        protected void onPostExecute(SimpleAdapter adapter) {

            // Setting adapter for the listview
            mListView.setAdapter(adapter);

            for(int i=0;i<adapter.getCount();i++){
                HashMap<String, Object> hm = (HashMap<String, Object>) adapter.getItem(i);
                                   HashMap<String, Object> hmDownload = new HashMap<String, Object>();
                hm.put("flag_path",imgUrl);
                hm.put("position", i);

            }
        }
    }

             @Override
        protected void onPostExecute(HashMap<String, Object> result) {
            // Getting the path to the downloaded image
            String path = (String) result.get("flag");

            // Getting the position of the downloaded image
            int position = (Integer) result.get("position");

            // Getting adapter of the listview
            SimpleAdapter adapter = (SimpleAdapter ) mListView.getAdapter();

            // Getting the hashmap object at the specified position of the listview
            HashMap<String, Object> hm = (HashMap<String, Object>) adapter.getItem(position);

            // Overwriting the existing path in the adapter
            hm.put("flag",path);

            // Noticing listview about the dataset changes
            adapter.notifyDataSetChanged();
        }
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:35:07.223

使用类似[http://jsoup.org/](http://jsoup.org/)的东西来获取 html 内容。

然后使用类似的东西

[http://jsoup.org/cookbook/extracting-data/selector-syntax](http://jsoup.org/cookbook/extracting-data/selector-syntax)

提取网址。

然后

:matches(regex)：查找文本与指定正则表达式匹配的元素；例如 div:matches((?i)login)

为您要查找的网址做一个正则表达式。

我不确定这是否是你想要的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:46:42.467

我记得我做过一次，幸运的是我找到了那个代码。您只需要从您的活动中调用此 Intentservice 并且您需要在顶部指定网站名称（在 url 变量中）

```
 public class parser extends IntentService {

public String url="http://www.mywebsite.com";

@Override
public void onDestroy() {
    // TODO Auto-generated method stub
    super.onDestroy();
//  shutdown();
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    // TODO Auto-generated method stub

    return super.onStartCommand(intent, flags, startId);
}

private Timer t = new Timer();
byte[] buffer;

public timeCell() {
    super("name"); 
    // TODO Auto-generated constructor stub
}

@Override
protected void onHandleIntent(Intent arg0) {
    // TODO Auto-generated method stub

        t.schedule(new TimerTask(){
            @Override
            public void run() {
                // TODO Auto-generated method stub
                  BufferedReader reader=null;
    try {
        reader = new BufferedReader(
                new InputStreamReader(
                    new URL(url).openStream()));
    } catch (MalformedURLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    String line = null;
    try {
        line = reader.readLine();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    Log.v("line was ", line);  // printing is done here ;)

    }

    } 
```

# java - 请帮我理解java结构

> ID：14152206
> 
> 赞同：0
> 
> 时间：2013-01-04T06:27:16.320
> 
> 标签：java

```
public class MyDate {
    private int day = 1;
    private int month = 1;
    private int year = 2000;

    public MyDate(int day, int month, int year) 
    {
        this.day = day;
        this.month = month;
        this.year = year;
    }

    public MyDate(MyDate date) 
    {
        this.day = date.day;
        this.month = date.month;
        this.year = date.year;
    }

    /*
        here why do we need to use Class name before the method name?
    */
    public MyDate addDays(int moreDays) 
    {
        // "this" is referring to which object and why?
        MyDate newDate = new MyDate(this);
        newDate.day = newDate.day + moreDays;

        // Not Yet Implemented: wrap around code...
        return newDate;
    }

    public String toString()
    {
        return "" + day + "-" + month + "-" + year;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:33:25.370

`this`将引用您将创建的当前对象实例。在任何 java 方法中，`this`都将始终持有对其对象实例的引用。

一个例子 -

```
MyDate myDate = new MyDate(10, 10, 2012);
myDate.addDays(10); 
```

您想知道的行将指向`newDate`此处创建的对象。这条线 -

```
MyDate newDate = new MyDate(this); 
```

将使用此构造函数 -

```
public MyDate(MyDate date) {
    this.day = date.day;
    this.month = date.month;
    this.year = date.year;
} 
```

创建并返回一个新对象，将一个对当前对象实例的引用传递给它，以便它可以复制其日、月和年值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:33:30.683

回答 1\. 在方法名之前使用类名意味着您将返回 MyDate 类型的引用变量。它只是一个返回类型。

回答 2。 this 指的是当前对象，即您的 MyDate 类对象。为了使用“new”关键字创建一个新对象，您可以使用“this”作为快捷方式。但是应该在您尝试引用对象的类中找到“this”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:29:16.730

`here why do we need to use Class name before the method name.`

因为这是一个返回类型引用的方法`MyDate`

`"this" is referring to which object and why?`

[这](http://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)是指当前对象

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:30:36.813

> 这里为什么我们需要在方法名之前使用类名。

您正在返回一个`MyDate`对象，该类名是函数的返回类型。

> “this”指的是哪个对象，为什么？

`this`总是指调用方法的当前对象。它看起来是将当前`MyDate`对象复制到一个新对象中并返回它。

# c++ - MySQL 连接器/C++ 在 read() 上挂起

> ID：14152209
> 
> 赞同：0
> 
> 时间：2013-01-04T06:27:52.137
> 
> 标签：c++, mysql, boost, libmysql

我正在使用 Boost 线程（pthread）在 C++ 中编写一个多线程应用程序。该应用程序产生 100 个线程，每个线程执行以下任务（我正在编写将在每个线程中运行的代码片段）：

```
try {

    driver = get_driver_instance();
    con = driver->connect(SettingsClass.HostName, \
                  SettingsClass.UserName,SettingsClass.Password);

    // SettingsClass is a global static class whose members 
    // (HostName, UserName, Password, etc) are initialized once
    // before *any* thread is created.

    con->setSchema("MyDatabase");

    driver->threadInit();

    string dbQuery = "select A, B, C from XYZTable where D=?";
    prepStmt = con->prepareStatement(dbQuery);
    prepStmt->setInt(1, 1);
    rSet = prepStmt->executeQuery();

    /* Do Something With rSet, the result set */

    delete rSet;
    delete prepStmt;
    if (con != NULL && !con->isClosed()) {
        con -> close();
    driver->threadEnd();
    delete con;
    } 
    catch (SQLException &e) 
    {
        /* Log Exception */                            
    } 
```

在运行进程时（应用程序，如前所述，即有 100 个这样的线程），我在中途附加 gdb 并观察到超过 40% 的线程在 read() 调用中*挂起。*所有的回溯都有 mysql 库函数（vio_read() 等），没有一个来自我的代码，因为我的代码不执行任何 I/O。

谁能指出为什么会出现这个问题。我应该检查我的代码/网络还是 MySQL 服务器配置？我是否正确使用了 C++ 连接器库？

# php - CI 设置表单输入的默认值

> ID：14152211
> 
> 赞同：0
> 
> 时间：2013-01-04T06:27:54.120
> 
> 标签：php, codeigniter, time

我有这个表单代码：

```
<div>
    <label for="password">Post Time:</label> 
    <?php set_value('post_time') = date('H:i:s'); ?>
    <input type="text" name="post_time" value="<?=set_value('post_time')?>">
</div> 
```

我只想在文本框中设置当前时间。我尝试的是直接设置它：

```
<?php set_value('post_time') = date('H:i:s'); ?> 
```

但这给了我错误：

```
Fatal error: Can't use method return value in write context... 
```

我怎样才能做到这一点。我只是 CodeIgniter 的新手。感谢您的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-04T06:31:39.460

```
<input type="text" name="post_time" value="<?=set_value('post_time', date('H:i:s'));?>"> 
```

[CodeIgniter 中的 set_value() 默认值](https://stackoverflow.com/questions/3873601/set-value-default-in-code-igniter)

[另一个相关链接](http://ellislab.com/codeigniter/user-guide/helpers/form_helper.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:31:22.127

如果要在重新填充的值旁边使用一个值，则需要将其作为第二个参数传递：

```
<div>
    <label for="password">Post Time:</label> 
    <input type="text" name="post_time" value="<?=set_value('post_time', date('H:i:s'));?>">
</div> 
```

现在，如果未设置“post_time”索引，则会显示 date() 的结果。

# c# - 如何命名通用类\接口文件名？

> ID：14152217
> 
> 赞同：0
> 
> 时间：2013-01-04T06:28:10.393
> 
> 标签：c#, .net, visual-studio-2010, generics, ide

> **可能重复：**
> [如何为泛型类命名 C# 源文件](https://stackoverflow.com/questions/3108189/how-to-name-c-sharp-source-files-for-generic-classes)

今天我注意到，在观看 VS2010 中内置的通用类\接口元数据时，窗口名称包含`out`类/接口的确切（嗯，缺少关键字）名称，即：

![在此处输入图像描述](../Images/d5d43fd42e0b19116dcc478ef4d67bf3.png)

然后我尝试命名我自己的cs文件，包含一个泛型类，因此说并`Foo<T>.cs`得到一个错误，说这是不可接受的。`<``>`

因此，直观地我可以看到，在显示内置类/接口元数据时，窗口的名称可以由 IDE 替换。没关系。但是，项目中的文件名称（包含泛型）是否有任何命名约定（一些最佳实践）。也就是说，如果我同时拥有`Foo<T>`and `Foo`，我是否希望将它们保存在单独的文件中，那么我应该如何命名这些文件？

# jsf-2 - jsf2 中的后退按钮功能

> ID：14152220
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:28:29.130
> 
> 标签：jsf-2

尝试从第 1 页导航到第 3 页以及从第 2 页导航到第 3 页。在第 3 页中，当我单击后退按钮时，它应该导航到相应的页面。有人可以帮我实现这一目标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:20:27.023

You can achieve this by having a bean which has a field storing the previous page. Then in the third page you can use the value of this field to return to the appropriate page. For example in your first page you need to have a commandLink navigating you to third page, while setting the previousPage as firstPage. Similar commandLink should be part of second page too. You need to enclose h:commandLinks in h:forms as they use post method to pass parameters.

```
<h:commandLink value="Third  Page" action="#{navigationPageBean.updateLastVisitedPage("/firstPage.xhtml")}"/>

<h:commandLink value="Third  Page" action="#{navigationPageBean.updateLastVisitedPage("/secondPage.xhtml")}"/>

@Named
public class NavigationPageBean implements Serializable
{
    private String previousPage;

    public String updateLastVisitedPage(String pageName)
    {
        previousPage = pageName;
        return "/thirdpage.xhtml";
    }

    public String getPreviousPage()
    {
        return previousPage;
    }

    public void setPreviousPage(String previousPage)
    {
        this.previousPage = previousPage;
    }
} 
```

You can achieve this by using javascript methods to learn the previous page too I think, but I don't know the exact methods.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:29:14.357

如果你想实现它，你必须实现基于 url 的导航。要从 1 导航到 3，您可以`<h:button>`使用结果属性来实现。

`<h:button value="Go to third" outcome="/thirdpage.xhtml" />`

您也可以指定导航规则。但是，您有几十个教程可以做到这一点。

[http://www.mkyong.com/jsf2/jsf-2-button-and-commandbutton-example/](http://www.mkyong.com/jsf2/jsf-2-button-and-commandbutton-example/)

[http://www.mkyong.com/jsf2/implicit-navigation-in-jsf-2-0/](http://www.mkyong.com/jsf2/implicit-navigation-in-jsf-2-0/)

[JSF 2.0 隐式导航，不同的视图](https://stackoverflow.com/questions/5545557/jsf-2-0-implicit-navigation-different-views)

为了知道你来自哪里，有不同的方法，但我认为正确的方法是使用视图参数。在按钮或链接中，您可以指定一个`<f:param name="ComingFrom" value="#{sourceBean.id}" />`，然后您会在目标页面中以这种方式接收它`<f:viewParam id="ComingFrom" name="ComingFrom" value="#{destinationBean._ParamSourceId}" />`。

这样你就可以通过请求传递参数，你可以构建你的后退按钮来指向一个 url 或另一个。

你有更多的东西。

[https://blogs.oracle.com/rlubke/entry/jsf_2_0_bookmarability_view](https://blogs.oracle.com/rlubke/entry/jsf_2_0_bookmarability_view)

# c# - 如何摆脱 DataContext InitializeComponent 中的 StackOverflow 异常？

> ID：14152222
> 
> 赞同：2
> 
> 时间：2013-01-04T06:28:48.537
> 
> 标签：c#, wpf, data-binding, mvvm, datacontext

我是 wpf c# 的新手，正在尝试一些示例应用程序，问题是当我`DataContext`在 xaml 中提到`InitializeComponent`递归调用并显示

> *在 mscorlib.dll 中发生 System.StackOverflowException'*

这是我的 XAML 标记：

```
<Window x:Class="Company1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Company1"
    Title="MainWindow" Height="350" Width="525" >
<Window.DataContext>
   <local:MainWindow/>
</Window.DataContext>
  <Grid>
     <GroupBox Margin="5,5,5,5" Background="Beige">
         <Grid>
             <StackPanel>
                <Button Width="80" Height="25" Margin="10,10,10,10" 
                        Content="Employee" Command="{Binding ButtonCommand}"
                        DataContext="{Binding }">
                </Button>
            </StackPanel>
            <DataGrid 
                  Name="myGridView" Margin="5,69,5,5" 
                  Width="Auto" AutoGenerateColumns="True"
                  AlternatingRowBackground="Bisque">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Name"
                                        Binding="{Binding Path=EmpName}" 
                                        Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="ID" 
                                        Binding="{Binding Path=EmpId}" 
                                        Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Place" 
                                        Binding="{Binding Path=Location}" 
                                        Width="*" IsReadOnly="False"/>
                    <DataGridTextColumn Header="Dept" 
                                        Binding="{Binding Path=Department}" 
                                        Width="*" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </GroupBox>
</Grid>
</Window> 
```

`XAML.cs`：

```
 private ICommand m_ButtonCommand;
 public ICommand ButtonCommand
 {
     get { return m_ButtonCommand; }
     set { m_ButtonCommand = value; }
 }
 public MainWindow()
 {
     InitializeComponent();
     ButtonCommand = new RelayCommand(new Action<object>(ShowEmployees));
 } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T07:46:26.590

如果您使用 xaml.cs 中的属性，则不需要提供数据上下文，因为它是同一个部分类

当您将数据上下文设置为 MainWindow 时，它会创建另一个 MainWindow 实例并尝试将其数据上下文设置为 MainWindow。因此，进入一个无限循环给出stackoverflow异常。

了解有关[WPF 中 codeproject DataContext 中的DataContext 属性的更多信息](http://www.codeproject.com/Articles/321899/DataContext-in-WPF)

如果您使用另一个类作为视图模型，那么您需要通过定位器提供数据上下文

```
<Window x:Class="Company1.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Company1"   
    Title="MainWindow" Height="350" Width="525"
    DataContext={Binding Path=MainWindowViewModel, StaticResource locator} > 
```

定位器将是 Resources.xaml 中的资源

```
 <MVVM:MainPageViewModelLocator x:Key="locator" /> 
```

您可以在 geekchamp 中获取定位器类和有关 MVVM 模式的更多详细信息[使用来自 MVVM-Light 的简单 ViewModelLocator](http://www.windowsphonegeek.com/articles/Working-with-a-simple-ViewModelLocator-from-MVVM-Lite)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:03:37.630

DataContext 属性描述如下：

一个直接嵌入的对象，用作父元素内任何绑定的数据上下文。通常，此对象是一个 Binding 或另一个 BindingBase 派生类。或者，任何用于绑定的 CLR 对象类型的原始数据都可以放在此处，实际绑定稍后定义。

在您的 XAML 中，您的主窗口的 DataContext 是......您的主窗口。因此，创建了主窗口的另一个实例。其中有一个 DataContext 类型......你的主窗口。

因此，创建了主窗口的另一个实例。其中有一个 DataContext 类型......你的主窗口。

因此，创建了主窗口的另一个实例。其中有一个 DataContext 类型......你的主窗口。

因此，创建了主窗口的另一个实例。其中有一个 DataContext 类型......你的主窗口。

所以 ...

;)

将 DataContext 设置为包含要绑定窗口的数据的对象，而不是窗口本身。

希望这可以帮助

# objective-c - 如何将 Excel 工作表数据导入我的 iphone 应用程序。

> ID：14152223
> 
> 赞同：4
> 
> 时间：2013-01-04T06:28:49.647
> 
> 标签：objective-c, ios, excel, import-from-excel

我正在开发一个应用程序，我们可以在其中从 facebook、linkedin、gmail 等导入联系人。就像我有一个**带有联系号码和电子邮件 ID 的 Excel 表**一样，我需要从 Excel 表中导入这些联系人号码和电子邮件 ID。我已经用谷歌搜索了它，找到了一些答案，以 CSV 格式保存 excel 表，您可以使用 CSV 解析器对其进行解析。任何人都可以1请告诉我将这些**Excel表格数据**导入我的iphone应用程序的最佳方法是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-13T13:30:40.113

Source Forge 上有一个名为 libxls 的开源 C 库，您可以使用它来读取 .xls 文件（较旧的非 XML 格式）。除此之外，还有一个包含名为[DHlibxls](https://github.com/dhoerl/DHlibxls)的 C 库的 ObjectiveC 框架。该库将允许您读取字符串和数值。该库相当成熟和稳定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:34:48.387

Excel 与 PDF 和其他格式一样，是一种臃肿的格式，具有不同的风格，在其跨越十多年的生命周期中被添加。这就是人们敦促您使用 CSV 的原因，因为 Excel 既荒谬又笨拙。该格式的[文档长达 250 页。](http://www.openoffice.org/sc/excelfileformat.pdf)

对于 XLS（2003 年及之前），您可以考虑这个库（尽管我从未使用过）： http: [//libxls.sourceforge.net](http://libxls.sourceforge.net)

但是，在我自己的工作流程中（我可以控制发送给我的数据格式），我让作者制作 TSV（制表符分隔值）文件。您只需将 Excel 单元格复制并粘贴到文本编辑器中即可。然后很容易解析，假设没有一个单元格包含制表符。你也可以走脚本路线。 [Roo](http://roo.rubyforge.org)是一个很好的 Ruby 宝石，可以处理多种开放式办公室和微软格式。但是，如果您没有这种控制，那么您要么必须编写自己的解析器（我宁愿辞掉工作），要么找到用 C 或 Objective-C 编写的解析器。

# html - 如果我向多篇文章添加多个类，我可以使用类名作为关键字访问文章吗

> ID：14152235
> 
> 赞同：0
> 
> 时间：2013-01-04T06:29:41.003
> 
> 标签：html, css

使用语言：HTML css

如果我使用多个类来文章，如[类名]`one` `two`和`three`xarticle，`two`以及`three`yarticle 和`three`zarticle。

现在我可以显示具有类名的文章`two`，在本例中为 xarticle 和 yarticle。

提前致谢。

```
body{
<p class="one" class="two" class="three">how</p>
<p class="two" class="three">you</p>
<p class="three">doing</p>
} 
```

在上述情况下，我可以通过使用类名 2 来显示“你如何”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:44:55.487

您不能使用多个`class`属性，但可以将多个类放在同一个属性中：

```
<p class="one two three">how</p>
<p class="two three">you</p>
<p class="three">doing</p> 
```

要仅显示具有 类的文章`two`，请隐藏所有文章，并为该类覆盖它。将以下代码放在您的 CSS 中。

```
p { display: none; }
p.two { display: block; } 
```

**[演示](http://jsfiddle.net/L2A92/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:50:06.810

尝试这个

```
 <p class="one two three">how</p>
   <p class="two three">you</p>
   <p class="three">doing</p> 
```

***CSS***

```
p { display: none; }
p.two { display: block; } 
```

# javascript - 怎么能逼翡翠留胡须？

> ID：14152236
> 
> 赞同：23
> 
> 时间：2013-01-04T06:29:43.017
> 
> 标签：javascript, node.js, pug, mustache

这是我的[玉雕](http://jade-lang.com/)：

```
section#entry-review-template.template(data-class='entry-review')
  table
    thead
      tr
        th='Date'
        th='Title'
        th
    tbody 
```

当我开始给它加[胡子](http://mustache.github.com/)时，我觉得它开始失去她平时的优雅，因为现在她对脸上的任何毛孔都非常挑剔。

```
 {{^entries}}
  h1='No Posts'
  div='There are no blog posts to review.'
  {{/entries}} 
```

然而，当我尝试在她的身体上添加最后一片胡须时，她开始抱怨，她要么崩溃不想帮忙，要么只是把事情弄得一团糟

```
{{#entries}}
  tr
    td='{{date}}'
    td='{{title}}'
    td
      a.remove-entry
 {{/entries}} 
```

导致这样的事情：

```
{{^entries}}
<h1>No Posts</h1><div>There are no blog posts to review.</div>{{/entries}}
{{#entries}}
<table><thead><tr><th>Date</th><th>Title</th><th></th></tr></thead><tbody></tbody></table>{{date}}{{title}}<a class="remove-entry"></a>{{/entries}} 
```

我似乎无法让翡翠正确输出我的小胡子纯文本。

这是一个 node.js 应用程序，它使用jade 在服务器端对我的视图进行模板化，我不会将任何模型传递给我的任何视图（我将这种繁重的工作留给客户端），但我仍然需要`inclue partial`到处做一堆。我有很多玉。我有点喜欢玉。我不想放开她。

现在我想在客户端实现非常简单的 mustache 模板，我希望这些模板可以内联在我的视图中。

当然，我可以解决它，将它们放在脚本标签中，或者用另一个视图引擎渲染它们（现在我想起来了，它甚至感觉不是一件容易或简单的事情），但我会为那些编写原始 html，我有点想混合两全其美。

*   我为尝试而*疯狂吗？*
*   我怎么能告诉**小玉**这只是个游戏，让她不理我`{{#must}} {{/ache}}`？
*   可以告诉**玉以某种方式忽略空格吗？**
*   你认为我应该考虑哪些其他选择？

好想翡翠留胡须。我知道这很奇怪，但它会让我兴奋。

## 更新：

我刚刚尝试使用**|** ，[记录**在这里**](http://scalate.fusesource.org/documentation/jade-syntax.html)，但即使是最简单的：

```
section#entry-review-template.template(data-class='entry-review')
  table
    thead
      tr
        th='Date'
        th='Title'
        th
    tbody
      | {{#entries}}
      | {{/entries}} 
```

最终输出：

```
{{#entries}}
{{/entries}}
<table><thead><tr><th>Date</th><th>Title</th><th></th></tr></thead><tbody></tbody></table><h1></h1> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2015-02-07T16:08:20.533

让我们定义一些 Jade mixin。

```
mixin if(name)
  != '{{#' + name + '}}'
  block
  != '{{/' + name + '}}'

mixin unless(name)
  != '{{^' + name + '}}'
  block
  != '{{/' + name + '}}'

mixin each(name)
  != '{{#' + name + '}}'
  block
  != '{{/' + name + '}}' 
```

在您的 Jade 模板中流畅地使用它们：

```
section#entry-review-template.template(data-class='entry-review')
  +unless('entries')
    h1='No Posts'
    div='There are no blog posts to review.'
  table
    thead
      tr
        th='Date'
        th='Title'
        th
    tbody
      +each('entries')
        tr
          td='{{date}}'
          td='{{title}}'
          td
            a.remove-entry 
```

生成了漂亮的小胡子 HTML。

```
<section id="entry-review-template" data-class="entry-review" class="template">{{^entries}}
  <h1>No Posts</h1>
  <div>There are no blog posts to review.</div>{{/entries}}
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Title</th>
        <th></th>
      </tr>
    </thead>
    <tbody>{{#entries}}
      <tr>
        <td>{{date}}</td>
        <td>{{title}}</td>
        <td><a class="remove-entry"></a></td>
      </tr>{{/entries}}
    </tbody>
  </table>
</section> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-25T23:10:16.887

好的，所以这可能来得太晚了，没有任何用处，而且已经有一个公认的答案（顺便说一句，我不太明白“可以删除评论”的真正含义）。但是，我认为它在未来的工作中可能对所有人都有用，所以这是我目前发现的。

从上面的代码中提取小片段，并使用相同的简单“文本输出”语法将它们放入示例中，这显然给了你奇怪的混乱输出：

```
section#entry-review-template.template(data-class='entry-review')
  table
    thead
      tr
        th Date
        th Title
        th
    tbody
      | {{#entries}}
      tr
        td {{date}}
        td {{title}}
        td
          a.remove-entry
      | {{/entries}} 
```

将其放入 Jade 实时站点 ( [http://naltatis.github.com/jade-syntax-docs](http://naltatis.github.com/jade-syntax-docs) ) 的编辑框中，并从 Jade 获得输出为：

```
<section id="entry-review-template" data-class="entry-review" class="template">
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Title</th>
        <th></th>
      </tr>
    </thead>
    <tbody>{{#entries}}
      <tr>
        <td>{{date}}</td>
        <td>{{title}}</td>
        <td><a class="remove-entry"></a></td>
      </tr>{{/entries}}
    </tbody>
  </table>
</section> 
```

然后在 TryHandlebars 网站 ( [http://tryhandlebarsjs.com](http://tryhandlebarsjs.com) ) 上使用以下数据进行了尝试：

```
{ "entries" :
  [
   { "date" : "Jan 2, 2010", title: "ABCDEF" },
   { "date" : "Nov 15, 2012", title: "UVWXYZ" }
  ]
} 
```

它使用以下输出正确执行：

```
<section id="entry-review-template" data-class="entry-review" class="template">
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Title</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Jan 2, 2010</td>
        <td>ABCDEF</td>
        <td><a class="remove-entry"></a></td>
      </tr>
      <tr>
        <td>Nov 15, 2012</td>
        <td>UVWXYZ</td>
        <td><a class="remove-entry"></a></td>
      </tr>
    </tbody>
  </table>
</section> 
```

我不知道我是否在做与您尝试的不同的事情，但似乎（至少在表面上）可以从 Jade 模板手动生成 Mustache/Handlebars 模板而不会发生冲突。与更复杂的模板可能存在一些冲突，但我没有发现任何冲突。

我自己一直在玩弄这个想法很长一段时间，并且一直在做一些挖掘工作。然而，我的主要驱动力是，我真的很喜欢 Mustache/Handlebars 的简单“无逻辑”逻辑结构和 Haml/Jade 的精美冗长减少，我想要一个组合。为此，似乎更好的选择可能是 Hamlbars 甚至更好的 EmblemJS，我正在试验。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-01-05T12:29:28.613

解决方法：jade 的**HTML 注释**

```
 // {{#entries}}
  tr.entry-row(data-id='{{_id}}')
    td='{{date}}'
    td='{{title}}'
    td
      a.edit(title='Edit')='Edit'
      a.remove(title='Delete')
  // {{/entries}} 
```

奇迹般有效。您*可以*在之后删除评论，但这至少可以解决问题。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-11-13T11:45:41.933

[Emblem.js](http://emblemjs.com/)可以替代 Jade/Moustache 方法，因为它似乎做了一些非常相似的事情。然而它需要[Ember.js](http://emberjs.com/)。

# javascript - javascript是否具有相当于`pthread_once`的功能

> ID：14152243
> 
> 赞同：2
> 
> 时间：2013-01-04T06:30:08.240
> 
> 标签：javascript, jquery, synchronization

我正在尝试在 javascript 中初始化一个变量（具体来说，我想使用带有 jQ​​uery 模板插件的远程模板），然后让多个异步回调等待它在继续之前被初始化。我真正想要的是能够通过`<script type="text/x-jquery-tmpl" src="/my/remote_template">`标签链接到远程模板，但除非我可以摆脱与`pthread_once`.

理想情况下，api 看起来像：

```
$.once(function_to_be_called_once, function_to_be_called_after_first) 
```

并使用如下：

```
var remote_template = "";

function init_remote_template() {
    remote_template = $.get( {
        url: "/my/remote/template",
        async: false
    });
}

$.once(init_remote_template, function () {
     // Add initial things using remote template.
}); 
```

然后，在其他地方：

```
$.get({
    url: "/something/that/requires/an/asynchronous/callback",
    success: function () {
        $.once(init_remote_template, function () {
              // Do something using remote template.
        }
    }
}); 
```

这样的事情存在吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:05:58.767

看起来 jQuery 的 Promise 可以帮助你：

```
var templatePromise = $.get({
    url: "/my/remote/template"
});

templatePromise.done(function(template) {
     // Add initial things using remote template.
}); 
```

在其他地方你可以做：

```
$.get({
    url: "/something/that/requires/an/asynchronous/callback",
    success: function () {
        templatePromise.done(function(template) {
              // Do more things using remote template.
        });
    }
}); 
```

通常`$.get`(and`$.ajax`等) 在初始调用中与`success:`和`error:`回调一起使用，但它们也返回一个类似于 $.Deferred 的 Promise 对象，记录在此：[http ://api.jquery.com/category/deferred-object /](http://api.jquery.com/category/deferred-object/)它允许你做你所要求的。对于错误处理，您可以使用`templatePromise.fail(...)`或简单地添加`error: ...`到初始`$.get`.

一般来说，最好避免同步 AJAX 调用，因为大多数浏览器的接口会在处理 HTTP 请求时阻塞。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:32:03.040

如果我理解正确，jQuery 将通过 Deferreds/promises 来做你想做的事。

您甚至可以通过以下方式概括远程模板提取器

*   使用 js 普通对象来缓存任意数量的模板
*   重命名函数并向其传递 url，`get_remote_template(url)`

js：

```
var template_cache = {};//generalised template cache

//generalised template fetcher
function get_remote_template(url) {
    var dfrd = $.Deferred();
    if(!template_cache[url]) {
        $.get(url).done(function(tpl) {
            template_cache[url] = tpl; //we use the url as a key.
            dfrd.resolve(tpl);
        });
    }
    else {
        dfrd.resolve(template_cache[url]);
    }
    return dfrd.promise();
} 
```

然后 ：

```
var url1 = "/my/remote/template"; //the url of a particular template

get_remote_template(url1).done(function(tpl) {
    // Add initial things using tpl.
}); 
```

而且，更早或更晚：

```
$.get({
    url: "/something/that/requires/an/asynchronous/callback",
    success: function(data) {
        init_remote_template(url1).done(function (tpl) {
            // Do something using tpl (and data).
        });
    }
}); 
```

注意如何`get_remote_template()`返回一个承诺。如果请求的模板已经被缓存，则返回的 promise 是 ready-resolved。如果模板还没有在缓存中（即需要从服务器下载），那么承诺将在短时间内解决。无论哪种方式，返回承诺的事实都允许`.done()`链接命令，并允许访问和使用适当的模板。

## 编辑

考虑到@BenAlpert 的观点，这个版本缓存了与 tpl 而不是 tpl 本身相关的承诺。

```
var template_cache = {};//generalised cache of promises associated with templates.

//generalised template fetcher
function get_remote_template(url) {
    if(!template_cache[url]) {
        template_cache[url] = $.get(url);
    }
    return template_cache[url];//this is a promise
} 
```

此版本的`get_remote_template()`使用方式与上述相同。

# ruby-on-rails-3 - 在 Rails 中处理大量请求

> ID：14152245
> 
> 赞同：0
> 
> 时间：2013-01-04T06:30:19.083
> 
> 标签：ruby-on-rails-3, multithreading, process

我有以下代码

```
def test
  t1 = Time.now
  @lat = params[:lat]
  @lng = params[:lng]
  @vehicleid = params[:vehicle_id]
  @address = GoogleGeocoder.reverse_geocode([@lat, @lng]).full_address

  speed = params[:speed]
  speed ||= 0
  Tracking.create(:latitude => @lat, :longitude => @lng, :address => @address, :vehicle_id => @vehicleid, :speed => speed)

  uid = Vehicle.select('user_id').where('vehicle_id=?', @vehicleid)
  gid = VehicleGeozone.where('vehicle_id=?', @vehicleid)
  email = User.select('email').where('user_id=?', uid[0].user_id)
  gzone = Geozone.where('geozone_id=?', gid[0].geozone_id)

  @geofence = Geofence.where('geozone_id = ?', gzone[0].geozone_id)
  if gzone[0].zonetype == 'polygon'
    infence = false
    res = isPointInPoly(@lat.to_f, @lng.to_f, @geofence)
  else
    res = isPointInCircle(@lat.to_f, @lng.to_f, @geofence[0].latitude, @geofence[0].longitude, @geofence[0].radius)
  end

  if res == true
    AlertMailer.geofence(email[0].email).deliver
  end
  t2 = Time.now
  render :text => '{"message":"success"}'
end 
```

该测试函数每 5 秒调用一次。

从 t1 和 t2 发现处理这个函数需要 7 秒。

有没有办法使用线程，以便我可以将一些密集的代码移动`isPointInCircle`到`isPointInPoly`单独的线程中？

# vba - 对于下面给出的示例，我想使用 VBA 获得多对多映射关系

> ID：14152251
> 
> 赞同：1
> 
> 时间：2013-01-04T06:30:45.183
> 
> 标签：vba, excel

输入 1：

```
RICEFW ID   RTM ID
1   1
2   1
3   1
3   2
4   2
4   3 
```

输入 2：

```
RTM ID  DT ID
1   1
2   2
3   2
1   4
3   4 
```

输出将类似于：

```
RICEFW ID   RTM ID  DT ID
1   1   1
1   1   4
2   1   1
2   1   4
3   1   1
3   1   4
3   2   2
4   2   2
4   3   2
4   3   4 
```

行的顺序不必相同，但应该有 10 种不同的 RICEFW/RTM/DT 组合。我是 VBA 新手，非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T10:57:21.830

您可以将[ADO 与 Excel 一起](http://support.microsoft.com/kb/257819)使用。

```
Dim cn As Object
Dim rs As Object
Dim strFile As String
Dim strCon As String
Dim strSQL As String
Dim i As Integer

    ''This is not the best way to refer to the workbook
    ''you want, but it is very convenient for notes
    ''It is probably best to use the name of the workbook.

    strFile = ActiveWorkbook.FullName

    ''Note that if HDR=No, F1,F2 etc are used for column names,
    ''if HDR=Yes, the names in the first row of the range
    ''can be used.
    ''
    ''This is the ACE connection string, you can get more
    ''here : http://www.connectionstrings.com/excel

    strCon = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" & strFile _
        & ";Extended Properties=""Excel 8.0;HDR=Yes;IMEX=1"";"

    ''Late binding, so no reference is needed

    Set cn = CreateObject("ADODB.Connection")
    Set rs = CreateObject("ADODB.Recordset")

    cn.Open strCon

    ''Sheet or range, or named range
    strSQL = "SELECT a.[RICEFW ID], a.[RTM ID], b.[DT ID]" _
       & "FROM [Sheet5$A1:D7] a INNER JOIN [Sheet5$D1:E6] b " _
       & "ON a.[RTM ID] = b.[RTM ID] " _
       & "ORDER BY a.[RICEFW ID], a.[RTM ID]"

    rs.Open strSQL, cn, 3, 3

    ''Pick a suitable empty worksheet for the results
    For i = 0 To rs.Fields.Count - 1
        Worksheets("Sheet5").Cells(1, i + 7) = rs(i).Name
    Next

    Worksheets("Sheet5").Cells(2, 7).CopyFromRecordset rs

    ''Tidy up
    rs.Close
    Set rs = Nothing
    cn.Close
    Set cn = Nothing 
```

# android - 如果 json 响应中没有图像，则在列表视图中显示默认图像和数据

> ID：14152253
> 
> 赞同：0
> 
> 时间：2013-01-04T06:30:56.507
> 
> 标签：android, json

我能够在从解析 json 获得的列表视图中显示图像和数据。现在我有一个问题，如果 json 响应中没有图像，那么我想在列表视图中显示默认图像以及数据，但现在输出为空，即使数据显示没有图像。我该如何解决这个任何解决方案将不胜感激。以下是代码

```
ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
            JSONParser jParser = new JSONParser();

            // getting JSON string from URL
            JSONObject json = jParser.getJSONFromUrl(URL);
            try {
        JSONArray posts = json.getJSONArray(KEY_POSTS);

    // looping through all song nodes <song>
            for(int i = 0; i < posts.length(); i++){
                JSONObject c = posts.getJSONObject(i);
                // Storing each json item in variable
                String id = c.getString(KEY_ID);
                String title = c.getString(KEY_TITLE);
                String date = c.getString(KEY_DATE);
                String content = c.getString(KEY_CONTENT);

                //authornumber is agin  JSON Object
                JSONObject author = c.getJSONObject(KEY_AUTHOR);
                String name = author.getString(KEY_NAME);

                JSONArray atta = c.getJSONArray("attachments");
                for(int j = 0; j < atta.length(); j++){

                    JSONObject d = atta.getJSONObject(j);

                    String slug = d.getString(KEY_SLUG);

                    JSONObject images = d.getJSONObject(KEY_IMAGES);

                    JSONObject thumbnail = images.getJSONObject(KEY_THUMB_URL);
                    String url = thumbnail.getString(KEY_URL);

        // creating new HashMap
        HashMap<String, String> map = new HashMap<String, String>();

        // adding each child node to HashMap key => value
        map.put(KEY_ID, id);
        map.put(KEY_TITLE, title);
        map.put(KEY_DATE, date);
        map.put(KEY_NAME, name);
        map.put(KEY_CONTENT, content);
        map.put(KEY_SLUG, slug);
        map.put(KEY_URL, url);

        // adding HashList to ArrayList
        songsList.add(map);
            }   }
            } catch (JSONException e) {
                e.printStackTrace();

                }

    list=(ListView)findViewById(R.id.list);

    // Getting adapter by passing json data ArrayList
    adapter=new LazyAdapter(this, songsList);        
    list.setAdapter(adapter); 
```

LazyAdapter.java

```
public class LazyAdapter extends BaseAdapter {

private Activity activity;
private ArrayList<HashMap<String, String>> data;
private static LayoutInflater inflater=null;
public ImageLoader imageLoader; 

public LazyAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
    activity = a;
    data=d;
    inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    imageLoader=new ImageLoader(activity.getApplicationContext());
}

public int getCount() {
    return data.size();
}

public Object getItem(int position) {
    return position;
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {
    View vi=convertView;
    if(convertView==null)
        vi = inflater.inflate(R.layout.list_row, null);

    TextView title = (TextView)vi.findViewById(R.id.title); // title
    TextView date = (TextView)vi.findViewById(R.id.artist); // artist name
    TextView content = (TextView)vi.findViewById(R.id.duration);  // duration
    TextView name = (TextView)vi.findViewById(R.id.name); 
    // duration
    ImageView thumb_image=(ImageView)vi.findViewById(R.id.list_image); // thumb image

    HashMap<String, String> song = new HashMap<String, String>();
    song = data.get(position);

    ListView list;
    // Setting all values in listview
   title.setText(song.get(CustomizedListView.KEY_TITLE));
    date.setText(song.get(CustomizedListView.KEY_DATE));
    content.setText(song.get(CustomizedListView.KEY_CONTENT));
    name.setText(song.get(CustomizedListView.KEY_NAME));

   imageLoader.DisplayImage(song.get(CustomizedListView.KEY_URL), thumb_image);
    return vi;
  }
 } 
```

ImageLoader.java

```
public class ImageLoader {

MemoryCache memoryCache=new MemoryCache();
FileCache fileCache;
private Map<ImageView, String> imageViews=Collections.synchronizedMap(new WeakHashMap<ImageView, String>());
ExecutorService executorService; 

public ImageLoader(Context context){
    fileCache=new FileCache(context);
    executorService=Executors.newFixedThreadPool(5);
}

final int stub_id = R.drawable.no_image;
public void DisplayImage(String url, ImageView imageView)
{
    imageViews.put(imageView, url);
    Bitmap bitmap=memoryCache.get(url);
    System.out.println("Image bitmap object from url*********$$$$$$$$"+bitmap);

    if(bitmap!=null)
        imageView.setImageBitmap(bitmap);
    else
    {
      System.out.println("In the else where there is null bitmap>>>>>>>>>");
        queuePhoto(url, imageView);
        imageView.setImageResource(stub_id);
    }
}

private void queuePhoto(String url, ImageView imageView)
{
    PhotoToLoad p=new PhotoToLoad(url, imageView);
    executorService.submit(new PhotosLoader(p));
}

private Bitmap getBitmap(String url)
{
    File f=fileCache.getFile(url);

    //from SD cache
    Bitmap b = decodeFile(f);
    if(b!=null)
        return b;

    //from web
    try {
        Bitmap bitmap=null;
        URL imageUrl = new URL(url);
        HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
        conn.setConnectTimeout(30000);
        conn.setReadTimeout(30000);
        conn.setInstanceFollowRedirects(true);
        InputStream is=conn.getInputStream();
        OutputStream os = new FileOutputStream(f);
        Utils.CopyStream(is, os);
        os.close();
        bitmap = decodeFile(f);
        return bitmap;
    } catch (Exception ex){
       ex.printStackTrace();
       return null;
    }
}

//decodes image and scales it to reduce memory consumption
private Bitmap decodeFile(File f){
    try {
        //decode image size
        BitmapFactory.Options o = new BitmapFactory.Options();
        o.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(new FileInputStream(f),null,o);

        //Find the correct scale value. It should be the power of 2.
        final int REQUIRED_SIZE=70;
        int width_tmp=o.outWidth, height_tmp=o.outHeight;
        int scale=1;
        while(true){
            if(width_tmp/2<REQUIRED_SIZE || height_tmp/2<REQUIRED_SIZE)
                break;
            width_tmp/=2;
            height_tmp/=2;
            scale*=2;
        }

        //decode with inSampleSize
        BitmapFactory.Options o2 = new BitmapFactory.Options();
        o2.inSampleSize=scale;
        return BitmapFactory.decodeStream(new FileInputStream(f), null, o2);
    } catch (FileNotFoundException e) {}
    return null;
}

//Task for the queue
private class PhotoToLoad
{
    public String url;
    public ImageView imageView;
    public PhotoToLoad(String u, ImageView i){
        url=u;
        imageView=i;
    }
}

class PhotosLoader implements Runnable {
    PhotoToLoad photoToLoad;
    PhotosLoader(PhotoToLoad photoToLoad){
        this.photoToLoad=photoToLoad;
    }

    @Override
    public void run() {
        if(imageViewReused(photoToLoad))
            return;
        Bitmap bmp=getBitmap(photoToLoad.url);
        memoryCache.put(photoToLoad.url, bmp);
        if(imageViewReused(photoToLoad))
            return;
        BitmapDisplayer bd=new BitmapDisplayer(bmp, photoToLoad);
        Activity a=(Activity)photoToLoad.imageView.getContext();
        a.runOnUiThread(bd);
    }
}

boolean imageViewReused(PhotoToLoad photoToLoad){
    String tag=imageViews.get(photoToLoad.imageView);
    if(tag==null || !tag.equals(photoToLoad.url))
        return true;
    return false;
}

//Used to display bitmap in the UI thread
class BitmapDisplayer implements Runnable
{
    Bitmap bitmap;
    PhotoToLoad photoToLoad;
    public BitmapDisplayer(Bitmap b, PhotoToLoad p){bitmap=b;photoToLoad=p;}
    public void run()
    {
        if(imageViewReused(photoToLoad))
            return;
        if(bitmap!=null)
            photoToLoad.imageView.setImageBitmap(bitmap);
        else
            photoToLoad.imageView.setImageResource(stub_id);
    }
  }

  public void clearCache() {
     memoryCache.clear();
    fileCache.clear();
    }

  } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:45:56.743

使用此方法代替 LazyAdapter 的 getView() 来显示默认图像。

```
 public View getView(int position, View convertView, ViewGroup parent) {
            final ViewHolder holder;

            LayoutInflater vi = LayoutInflater.from(this.ctx);
            if (convertView == null) {
                try {
                    convertView = vi.inflate(
                            R.layout.siteselectionlistinflater, null);
                } catch (Exception e) {
                    // TODO: handle exception
                    e.printStackTrace();
                    e.getMessage();
                }
                holder = new ViewHolder();

holder.title = (TextView) convertView.findViewById(R.id.title); // title
    holder.date = (TextView) convertView.findViewById(R.id.artist); // artist name
   holder.content = (TextView) convertView.findViewById(R.id.duration);  // duration
    holder.name = (TextView) convertView.findViewById(R.id.name); 
    // duration
   holder.thumb_image=(ImageView) convertView.findViewById(R.id.list_image); 

                convertView.setTag(holder);
            } else {
                holder = (ViewHolder) convertView.getTag();
            }           
         HashMap<String, String> song = new HashMap<String, String>();
    song = data.get(position);

    ListView list;
    // Setting all values in listview
   title.setText(song.get(CustomizedListView.KEY_TITLE));
    date.setText(song.get(CustomizedListView.KEY_DATE));
    content.setText(song.get(CustomizedListView.KEY_CONTENT));
    name.setText(song.get(CustomizedListView.KEY_NAME));

  if(song.get(CustomizedListView.KEY_URL) != null && song.get(CustomizedListView.KEY_URL).compareTo("")!=0)
    {
         imageLoader.DisplayImage(song.get(CustomizedListView.KEY_URL), thumb_image);
    }
    else{

          thumb_image.setImageResource(R.drawable.DEFAULT_IMAGE);
    }

            return convertView;
        }

       class ViewHolder {
            TextView title;
            TextView date;
            TextView content;
                TextView name;
                 ImageView thumb_image;

        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:50:49.987

有两种方法可以解决这个问题.. 1.如果你使用的是lazyloader而不是那个文件，即ImageLoader.java，那里有这个方法..

```
final int stub_id=R.drawable.ic_launcher;
    public void DisplayImage(String url, ImageView imageView)
    {
        imageViews.put(imageView, url);
        Bitmap bitmap=memoryCache.get(url);
        if(bitmap!=null)
            imageView.setImageBitmap(bitmap);
        else
        {
            queuePhoto(url, imageView);
            imageView.setImageResource(stub_id);
        }
    } 
```

在上面的代码中， stub_id 是您的默认图像，当 url 不正确或缓存中没有该 url 的图像时会设置该图像。因此，您可以通过更改可绘制对象中的 stub_id 来设置任何默认图像。

另一个解决方案是。2\. 在解析 JSONNObject 时，您可以检查是否有任何可用的图像 url，如果没有，则在此处设置默认图像字符串。像这样的东西..

```
if(thumbnail.has("KEY_URL")){
    String url = thumbnail.getString(KEY_URL);
}else{
    String url = --- string path of your default image;
} 
```

试试看。！它可能会帮助你。一切顺利。

# json - 哪个是 JSON 更好的设计：直接使用对象或对象数组

> ID：14152254
> 
> 赞同：0
> 
> 时间：2013-01-04T06:31:08.823
> 
> 标签：json

对于 JSON，哪种数据格式更好。要求是能够存储和检索有关在服务器上部署了多少项目的信息。

基于对象的设计

```
{ 
   "Server1":{
        "project1":{
            "buildNo":"290",
            "deployed":"12/12/2012"
        },
        "project2":{
            "buildNo":"291",
            "deployed":"11/12/2012"
        },
        "project3":{
            "buildNo":"209",
            "deployed":"11/12/2012"
        }
  }
} 
```

基于阵列的设计

```
{ 
   "Server1":[
        {"project1":{
            "buildNo":"290",
            "deployed":"12/12/2012"
        }},
        {"project2":{
            "buildNo":"291",
            "deployed":"11/12/2012"
        }},
        {"project3":{
            "buildNo":"209",
            "deployed":"11/12/2012"
        }}
    ]
} 
```

请让我知道您对这些方法中的任何一种的看法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:31:08.823

我的想法：

1.  解析：两者具有相似的复杂性。
2.  添加/删除：两者具有相似的复杂性
3.  信息的可读性/表示：第一个表示固定结构，而第二个表示项目可能会在以后添加删除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T08:45:54.657

项目的顺序是否重要？

如果是，那么数组是表示它的最简单方法。

如果不是，则数组需要一个不必要的预处理步骤来将数组索引映射到项目名称，然后才能按名称访问它们。

# javascript - Phantomjs：如何让 Casperjs 在我的 web 应用程序上工作

> ID：14152262
> 
> 赞同：0
> 
> 时间：2013-01-04T06:31:41.237
> 
> 标签：javascript, phantomjs, casperjs

目前，当我使用 Phantomjs/CasperJS 时，这一切都是通过他们的示例通过控制台完成的。

这是我将它与我当前的 Web 应用程序结合使用的一种方式吗？

示例：使用我的站点填写表格，该信息被发送到 CasperJS，然后 casper 向站点返回响应。ETC...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:37:55.997

没有。

如果这个想法是为了方便记录你的测试用例，你可能想看看[resurectio](https://github.com/casperjs/resurrectio)，它是一个*CasperJS 测试记录器 Chrome 扩展*。

# javascript - 在动态创建的表中选择第一列并在弹出窗口中发布

> ID：14152263
> 
> 赞同：0
> 
> 时间：2013-01-04T06:31:41.597
> 
> 标签：javascript, html-table

我有一个从 mysql 数据库检索数据后创建表的页面。每行都有一个链接。我的问题是我必须在单击链接的行的第一个单元格中传递文本（这是我也将在弹出窗口中使用的主键）。

```
<TABLE border="1" height="800px" width="600px" id="myTable">

        <br>
        <br>
        <caption>*Please close or update the following WAR first!</b></caption>
        <br>
        <th><center><b>Weekly Report ID</b> </center></th>
        <th><center><b>Report Category</b> </center></th>
        <th><center><b>Problem Title</b> </center></th>
        <th><center><b>Closure</b> </center></th>
        <th><center><b>Action</b> </center></th>
        <?php
        while ($row = mysql_fetch_array($result))
        {
        $rptid    = $row['weeklyReportId'];
        $rptcat   = $row['reportCategory'];
        $rptptl   = $row['problemTitle'];
        $rptcls   = $row['closure'];

        ?>
        <tr>
            <td width="50"><?php echo $rptid; ?></td>
            <td width="50"><?php echo $rptcat; ?></td>
            <td width="50"><?php echo $rptptl; ?></td>
            <td width="20"><?php echo $rptcls; ?></td>
            <td width="20"><a href="#"><img src="../MyImages/Text Edit Icon.jpg" width="15" height="15" onClick="return popitup('update_popup.php'); "></img> </a></td>
            <!--<td width="10"> <input type="image" src="../MyImages/Text Edit Icon.jpg" width="15" height="15" id="target"></input></td>-->
        </tr>       

        <?php
        }
        mysql_free_result($result);
        mysql_close($dbhandle);

        ?>

    </TABLE> 
```

我还有一个 Javascript 可以打开弹出窗口

```
<!-- Function for popup window
var newwindow;
var def1='';

function popitup(url,name) {

    newwindow=window.open(url,'name','height=500,width=800');
    if (window.focus) {newwindow.focus()
    }
    return false;
}

// --> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:48:59.787

在这种情况下，您可以使用`update_popup.php?rptid=<?php echo urlencode($rptid);?>`.

# web-services - 运行大型程序的在线编译器/服务器

> ID：14152264
> 
> 赞同：0
> 
> 时间：2013-01-04T06:31:42.437
> 
> 标签：web-services, fractals

我编写了一个程序来生成分形，但我的计算机需要一周的时间来计算它。是否有任何在线或其他解决方案可以让我运行我的代码并让它快速计算？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:36:13.143

不，不要粗鲁，不要误会。没有人会让人们在网络上使用完整的计算机资源来让您运行代码，在线速度总是会变慢。免费。但是 VPS 和云计算选项可用。对于一台速度非常快的计算机来说，它们会很昂贵。

# jquery - 根据值选中或取消选中具有相同类名的所有复选框

> ID：14152265
> 
> 赞同：6
> 
> 时间：2013-01-04T06:31:47.850
> 
> 标签：jquery, jquery-selectors

我在多个 div 中有以下复选框。

```
<div class="div1">
    <input type="checkbox" class="chkbox" value="101"> This is 101
    <input type="checkbox" class="chkbox" value="102"> This is 102
    <input type="checkbox" class="chkbox" value="103"> This is 103
</div>
<div class="div2">
    <input type="checkbox" class="chkbox" value="110"> This is 110
    <input type="checkbox" class="chkbox" value="102"> This is 102
    <input type="checkbox" class="chkbox" value="101"> This is 101
</div> 
```

如上所示，一些复选框在多个 div 中具有相同的值（例如，101）。现在，每当检查复选框时，我都需要检查具有相同值的其他复选框。同样，取消选中。

```
$(".chkbox").change(function() {
    // If checked
    if (this.checked)
           // find other checkboxes with same value and check them
    else
           // find other checkboxes with same value and uncheck them
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T06:36:52.623

你可以这样做：

```
$(".chkbox").change(function() {
    var val = $(this).val();
  if( $(this).is(":checked") ) {

    $(":checkbox[value='"+val+"']").attr("checked", true);
  }
    else {
        $(":checkbox[value='"+val+"']").attr("checked", false);
    }
}); 
```

演示：[jsFiddle](http://jsfiddle.net/2FB7N/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T06:36:44.567

```
$(".chkbox").change(function() {
    $(":checkbox[value="+$(this).val()+"]").prop("checked", this.checked);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:36:45.113

你可以这样做。

**[现场演示](http://jsfiddle.net/rajaadil/s7Vqh/2/)**

```
$(".chkbox").change(function() {
    // If checked
    if (this.checked)
           $(":checkbox[value=" + this.value + "]").attr('checked', true);
    else
           $(":checkbox[value=" + this.value + "]").attr('checked', false);           // find other checkboxes with same value and uncheck them
}) 
```

*您错过了`)`更改事件的结束括号。*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:39:24.433

```
$( ".chkbox" ).change(function() {
  var value = $( this ).attr( "value" );

  $( ".chkbox[value='" + value + "']" ).prop( "checked", this.checked );
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-06-30T11:10:06.483

```
// if user has already sent the survey
    if(user_id_value){

        var result = confirm("This user already received a survey. Are you sure you want to resend?");

        // do not send the survey again
        if(!result){            
            $(":checkbox[value='"+user_id+"']").attr("checked", false);         
        }// end if not confirmed

    }// end if 
```

# ios - 锁定旋转=iphone上的纵向，ipad没有锁定？

> ID：14152266
> 
> 赞同：1
> 
> 时间：2013-01-04T06:31:58.617
> 
> 标签：ios

我有一个适用于 ios6 的应用程序。如果应用程序在手机上运行，​​我只想支持纵向。如果在平板电脑上，我想支持所有方向。我认为这会做到（在我的视图控制器中）：

```
- (NSUInteger)supportedInterfaceOrientations
{
    if ([Util isPhoneFormFactor]) {
        return UIInterfaceOrientationPortrait;
    }

    return UIInterfaceOrientationMaskAll;
} 
```

但这会在我的 iphone 模拟器上启动时引发异常：

```
*** Terminating app due to uncaught exception 
'UIApplicationInvalidInterfaceOrientation', reason: 
'Supported orientations has no common orientation with 
 the application, and shouldAutorotate is returning YES' 
```

我将此解释为意味着我必须覆盖以下内容并返回 NO：

```
- (BOOL) shouldAutorotate
{
    return NO; 
} 
```

这修复了异常，但是在 ipad 模拟器上旋转时，我不再旋转了。这样做的正确方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:36:26.450

你说`UIInterfaceOrientationPortrait`但你的意思是`UIInterfaceOrientationMaskPortrait`。你漏掉了`Mask`。

# android - onReceive 的 setTextViewText 下的 NullPointerException

> ID：14152269
> 
> 赞同：0
> 
> 时间：2013-01-04T06:32:16.200
> 
> 标签：android, nullpointerexception, android-appwidget

我得到一个`NullPointerException`（有时）并且我的 appwidget 崩溃了。它发生在任何远程视图的`setTextViewText`. 我已经检查了我要设置的值，它绝对不为空。

这是代码片段：

```
public void onReceive(Context context, Intent intent) {
     if(intent.getAction().equalsIgnoreCase(UPDATE)){
             ComponentName thisWidget = new ComponentName(context, abc.class);

            try
            {

                String currentDay = todayDay();
                String current = todayDate();
                System.out.println("On Receive : " + R.id.day + currentDay);
                views.setTextViewText(R.id.day, currentDay);
                views.setTextViewText(R.id.date, current);
                performUpdate(context);
            }
            catch(NullPointerException e)
            {
                e.printStackTrace();
            }

            AppWidgetManager manager = AppWidgetManager.getInstance(context);

            //update widget
            manager.updateAppWidget(thisWidget, views);

        }
}
public static String todayDay(){
    Calendar calendar = Calendar.getInstance();
    int day = calendar.get(Calendar.DAY_OF_WEEK); 

    String dayToReturn="";

    switch(day){
    case 1: dayToReturn = "Sunday";
            break;
    case 2: dayToReturn = "Monday";
            break;
    case 3: dayToReturn = "Tuesday";
            break;
    case 4: dayToReturn = "Wednesday";
            break;
    case 5: dayToReturn = "Thursday";
            break;
    case 6: dayToReturn = "Friday";
            break;
    case 7: dayToReturn = "Saturday";
            break;
    }
    return dayToReturn;
} 
```

日志错误：

```
01-04 14:38:32.055: W/System.err(26368): java.lang.NullPointerException
01-04 14:38:32.060: W/System.err(26368):    at com.appwidgets.abc.onReceive(abc.java:167)
01-04 14:38:32.060: W/System.err(26368):    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2133)
01-04 14:38:32.060: W/System.err(26368):    at android.app.ActivityThread.access$1500(ActivityThread.java:128)
01-04 14:38:32.060: W/System.err(26368):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1211)
01-04 14:38:32.060: W/System.err(26368):    at android.os.Handler.dispatchMessage(Handler.java:99)
01-04 14:38:32.060: W/System.err(26368):    at android.os.Looper.loop(Looper.java:137)
01-04 14:38:32.060: W/System.err(26368):    at android.app.ActivityThread.main(ActivityThread.java:4514)
01-04 14:38:32.060: W/System.err(26368):    at java.lang.reflect.Method.invokeNative(Native Method)
01-04 14:38:32.060: W/System.err(26368):    at java.lang.reflect.Method.invoke(Method.java:511)
01-04 14:38:32.060: W/System.err(26368):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)
01-04 14:38:32.060: W/System.err(26368):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)
01-04 14:38:32.060: W/System.err(26368):    at dalvik.system.NativeStart.main(Native Method) 
```

虽然我添加了 try catch 块来避免这种情况，但它并没有帮助。同样的问题只是断断续续地出现。任何帮助深表感谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:43:07.700

调用 remoteViews.setTextViewText 后，您需要通过调用 updateAppWidget 来更新小部件。

```
AppWidgetManager manager = AppWidgetManager.getInstance(context);
manager.updateAppWidget(thisWidget, remoteViews); 
```

# eclipse - 无法在 Eclipse 中使用 Web 服务

> ID：14152273
> 
> 赞同：0
> 
> 时间：2013-01-04T06:32:33.077
> 
> 标签：eclipse, web-services, wsdl

我正在尝试使用由托管的网络服务

[http://www.webservicex.net/CurrencyConvertor.asmx?WSDL](http://www.webservicex.net/CurrencyConvertor.asmx?WSDL)

但日食显示“选择的服务定义无效”

![在此处输入图像描述](../Images/683f76b841c0fefeaa29fcb86f219ea1.png)

**我确实检查了以下内容：**

1.在ie中打开上面的wsdl url，xml正常显示

2.eclipse有网络连接，点击help-->check for update时显示更新列表

3\. 下载了一份 wsdl 的副本，并且能够生成客户端组件。但是当我尝试调用一个方法时，我收到了连接被拒绝的错误

```
{http://xml.apache.org/axis/}stackTrace:java.net.ConnectException: Connection refused: connect
    at java.net.PlainSocketImpl.socketConnect(Native Method)
    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-07T11:08:48.400

我能够通过 JVM 参数中的正确代理解决这个问题。问题是因为我在公司代理防火墙下，我的 java 无法从外部链接检索 wsdl。希望它对遇到类似问题的人有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-28T06:21:49.720

确保：

在您执行此步骤期间，Tomcat 正在服务器选项卡下运行。

在配置中的 Web 服务客户端下选择正确的 Apache 轴。

# javascript - 带有 jQ uery 的 themoviedb JSON API

> ID：14152276
> 
> 赞同：4
> 
> 时间：2013-01-04T06:32:39.320
> 
> 标签：javascript, jquery, json, api, jsonp

我正在尝试做一些看起来应该很简单的事情。获取文本字段的输入并通过 API 在 themoviedb.org 数据库中搜索它。

我正在使用 jQuery 和支持 JSONP 的 themoviedb.org APIv3。不过，我得到的只是这样的回应：

`{"status_code":6,"status_message":"Invalid id - The pre-requisite id is invalid or not found"}`

这并不能告诉我很多。什么身份证？

我知道的事情：

*   我有正确的 API 密钥
*   搜索按钮正在提交并正确获取输入的值

这是一个[jsfiddle](http://jsfiddle.net/nickcoxdotme/srdHD/1/)，这是关于搜索电影的[API 文档。](http://help.themoviedb.org/kb/api/search-movies)此外，请查看[此版本](http://docs.themoviedb.apiary.io/#search)的 API 文档。我认为这与查询参数有关。

真的，我不知道我在用 JSON 做什么，所以我希望这将是一个有代表性的例子，可以帮助我理解它。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-01-04T07:03:36.300

您只需要正确数量的查询字符串参数。所需的参数是`query`和`api_key`。我在这里找到了这些要求[http://docs.themoviedb.apiary.io/#get-%2F3%2Fsearch%2Fmovie](http://docs.themoviedb.apiary.io/#get-%2F3%2Fsearch%2Fmovie)。试试这个：

```
$(document).ready(function() {
    var url = 'http://api.themoviedb.org/3/',
        mode = 'search/movie?query=',
        input,
        movieName,
        key = '&api_key=470fd2ec8853e25d2f8d86f685d2270e';

    $('button').click(function() {
        var input = $('#movie').val(),
            movieName = encodeURI(input);
        $.ajax({
            type: 'GET',
            url: url + mode + input + key,
            async: false,
            jsonpCallback: 'testing',
            contentType: 'application/json',
            dataType: 'jsonp',
            success: function(json) {
                console.dir(json);
            },
            error: function(e) {
                console.log(e.message);
            }
        });
    });
});​ 
```

工作小提琴：http: [//jsfiddle.net/fewds/srdHD/3/](http://jsfiddle.net/fewds/srdHD/3/)

**注意：** *因为那很可能是您的**真实**api 密钥，我建议您申请一个新的！*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-04T06:57:40.150

The URL you use is not correct, your examples generates the following request:

```
http://api.themoviedb.org/3/search/MOVIENAME?api_key=APIKEY 
```

but according to the API documentation it should look like this:

```
http://api.themoviedb.org/3/search/movie?api_key=APIKEY&query=MOVIENAME 
```

I have forked and updated your [jsfiddle](http://jsfiddle.net/202A/g73NQ/9/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-30T09:35:47.020

需要正确数量的查询参数。需要的参数是query和api_key

如果您通过 urlencode 或解码遇到错误，请在[urlencode.in](http://urlencode.in)或[urldecode.in检查您的 url](http://urldecode.in)

# java - 将数据保存在嵌套哈希表中对于内存管理和更好的性能都是一个好兆头

> ID：14152278
> 
> 赞同：-4
> 
> 时间：2013-01-04T06:32:43.050
> 
> 标签：java, object, collections, garbage-collection

我必须从您那里获得一些更好的意见或答案，以解决有关通过**收集对象**和**性能问题处理数据的问题**。

**在这里，我从大约5 到 60 万行**中获取数据，以将其保存到集合对象中，我需要非常具体地针对每个类别过滤器来获取选定的数据，通常如果我想获取任何确切的数据，我会采用**向量**，我应该遍历它的每个索引。因此，它减慢了我的表现。

取而代之的是，我有一个计划，即**哈希表**将保留**一个键**并将其本身作为**另一个哈希表的值**，类似地，它将以嵌套方式增长许多 hast 表。这是否有利于更好的解决方案，这是我的常见问题。

**注意：**在 oracle 数据库中，每一行包含大约 15 到 17 列（许多是数组）。（这 60 万个条目）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T10:40:26.907

要回答标题中的问题，哈希表（`Hashtable`或`HashMap`）提供了良好的查找性能（O(1)），但会消耗大量内存。除了键和值的空间之外，内存开销在每个条目 8 个字的区域内。

使用哈希表来加速记录查找是一个合理的权衡。但是，使用哈希表来表示记录的字段是一个坏主意。您最好使用一个自定义类，为表的每一列提供一个字段。

然而，EJP 的评论也是中肯的。您应该考虑对数据库执行查询。在许多方面，这比构建数据和索引的内存副本并实现您自己的查询基础架构要好。

# php - 合并特定年份的 MySQL 表

> ID：14152281
> 
> 赞同：1
> 
> 时间：2013-01-04T06:32:46.553
> 
> 标签：php, mysql

我目前每个竞赛年都有一个单独的数据库，我知道我可以通过简单地添加一个年份字段来组合数据库之间的大部分表。但是，在每个数据库中，有 2 个表每年都会发生巨大变化：`matches`和`stats`.

在比赛表中，球队字段的数量可以从 4 到 6 不等，得分字段的数量可以从 1 到 4 不等，其他字段的数量取决于得分数据的制表方式。并且在统计表中，相同的得分数据以每个团队为基础制成表格，以允许事件排名。

我想我的问题是组合起来，将不同的数据字段作为一个序列化数组中的一个存储并使用 PHP`array_multisort()`来按顺序获取数据，或者保持原样，或者做其他事情对我来说会更好吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T06:17:10.603

考虑到您没有大量记录（正如 AndreKR 所说），组合这些表是合乎逻辑的选择。`array_multisort()`使用像魅力一样的作品进行排序。请记住，如果您不是每次都对相同的字段进行排序，那么您将需要调用该函数`call_user_func_array()`，如果您以前没有使用过它可能会有点棘手。我必须这样做才能实现我的数据的预期显示顺序。

# python - 如何将此列表存储为 Django 数据库中的单个数据？

> ID：14152284
> 
> 赞同：0
> 
> 时间：2013-01-04T06:33:05.270
> 
> 标签：python, django, operating-system

我有这样的`subprocess`代码：

```
final_list = subprocess.Popen(['ls', destination], stdout=subprocess.PIPE).communicate()[0].splitlines() 
```

这会将目录作为列表返回：

```
['genelaytics', '__init__.py', '__init__.pyc', 'settings.py', 'wsgi.pyc'] 
```

现在我想计算每个文件的大小并将文件作为单个元素连同大小和其他属性一起插入到数据库中。我尝试使用 for 循环：

```
for list in final_list:     
        st = os.stat(list)
        size = st.st_size 
        b = File(file_name=list, source=test_url, start_date=start_date, end_date=end_date, size=size)
        b.save() 
```

运行上述代码时出现此错误：

```
Traceback:
File "/usr/local/lib/python2.6/dist-packages/django/core/handlers/base.py" in get_response
  111\.                         response = callback(request, *callback_args, **callback_kwargs)
File "/usr/local/lib/python2.6/dist-packages/django/contrib/auth/decorators.py" in _wrapped_view
  20\.                 return view_func(request, *args, **kwargs)
File "/home/zurelsoft/workspace/genelaytics/fileupload/views.py" in sync
  94\.         st = os.stat(list)

Exception Type: OSError at /sync/
Exception Value: [Errno 2] No such file or directory: '__init__.py' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:40:02.910

您传递的只是文件名 (ie `'__init__.py'`)，而不是完整路径 (ie `'/module/__init__.py'`)`os.stat()`

我建议这样做：

```
>>> folder = '/Python27/Doc'
>>> files = os.listdir(folder)
>>> for filename in files:
    fullname = os.path.join(folder, filename)
    print fullname, os.path.getsize(fullname)

/Python27/Doc\python27.chm 5754439 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:36:51.867

在统计它之前，您需要将基本目录位置（`os.dirname(__file__)`...（可能））添加到文件名...

# java - 在 developer.android.com 缓存位图错误

> ID：14152286
> 
> 赞同：1
> 
> 时间：2013-01-04T06:33:19.087
> 
> 标签：java, android

我只是在[developer.android.com上阅读从 url 缓存位图的教程](http://developer.android.com/training/displaying-bitmaps/cache-bitmap.html)

参考代码

```
 private LruCache<String, Bitmap> mMemoryCache;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        ...
        // Get memory class of this device, exceeding this amount will throw an
        // OutOfMemory exception.
        final int memClass = ((ActivityManager) context.getSystemService(
                Context.ACTIVITY_SERVICE)).getMemoryClass();

        // Use 1/8th of the available memory for this memory cache.
        final int cacheSize = 1024 * 1024 * memClass / 8;

        mMemoryCache = new LruCache<String, Bitmap>(cacheSize) {
            @Override
            protected int sizeOf(String key, Bitmap bitmap) {
                // The cache size will be measured in bytes rather than number of items.
                return bitmap.getByteCount();
            }
        };
        ...
    }

    public void addBitmapToMemoryCache(String key, Bitmap bitmap) {
        if (getBitmapFromMemCache(key) == null) {
            mMemoryCache.put(key, bitmap);
        }
    }

    public Bitmap getBitmapFromMemCache(String key) {
        return mMemoryCache.get(key);
    }

public void loadBitmap(int resId, ImageView imageView) {
    final String imageKey = String.valueOf(resId);

    final Bitmap bitmap = getBitmapFromMemCache(imageKey);
    if (bitmap != null) {
        mImageView.setImageBitmap(bitmap);
    } else {
        mImageView.setImageResource(R.drawable.image_placeholder);
        BitmapWorkerTask task = new BitmapWorkerTask(mImageView);
        task.execute(resId);
    }
} 
```

在活动缓存中是初始化的，有两种方法

1.  **`addBitmapToMemoryCache(String key, Bitmap bitmap)`**

2.  **`getBitmapFromMemCache(String key)`**

这是 BitmapWorkerTask 类

```
class BitmapWorkerTask extends AsyncTask<Integer, Void, Bitmap> {
    ...
    // Decode image in background.
    @Override
    protected Bitmap doInBackground(Integer... params) {
        final Bitmap bitmap = decodeSampledBitmapFromResource(
                getResources(), params[0], 100, 100));
        addBitmapToMemoryCache(String.valueOf(params[0]), bitmap);
        return bitmap;
    }
    ...
} 
```

现在我的问题是，在**BitmapWorkerTask**类中，方法**addBitmapToMemoryCache(String.valueOf(params[0]), bitmap);** 被调用时对 Activty 中定义的或可能在其他类中的方法有任何引用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:39:57.917

BitmapWorkerTask 可能是 Activity 中的一个内部类，因此它可以访问定义的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-01T16:55:32.550

对于仍然无法使示例代码工作的人，

为了让代码工作，你应该让 BitmapWorkerTask 类成为一个内部类，然后改变它的两个静态函数

```
public  static int calculateInSampleSize()
public  static Bitmap decodeSampledBitmapFromResource() 
```

正常（非静态）方法

# wso2 - WSO2 CEP 结果集中的多行

> ID：14152289
> 
> 赞同：1
> 
> 时间：2013-01-04T06:33:30.673
> 
> 标签：wso2, complex-event-processing, siddhi, wso2cep

我想知道 WSO2 CEP/Siddhi 查询是否支持返回多行，如果是的话，如何将这些行中的数据映射到输出 XML？例如，我的事件流有一个字段 statusCode，它可以有值 A/B/CI 想要编写一个查询，它给我过去 5 分钟的状态类型计数，例如 A-10、B-5、C-2.. 在当前查询我使用按状态代码分组来获取状态计数

```
 MyQuery- ...insert into TestStream statusCode, count(statusCode) as count group by  statusCode

and my output XML is something like

<statusSmry>
  <status>{statusCode}</status>
  <count>{count}</status>
</statusSmry>

the output i receive is something like

   <statusSmry>
      <status>A</status>
       <count>10</status>
    </statusSmry>
   .....
    <statusSmry>
      <status>B</status>
      <count>5</status>
    </statusSmry>
    ....
    <statusSmry>
      <status>C</status>
      <count>2</status>
    </statusSmry> 
```

是否可以在单个 XML 中获取查询结果？即在上述情况下，单个 XML 中的 A、B、C 计数？

谢谢拉吉夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-10T10:17:03.717

你问的在悉达语中是不可能的。

这是因为每当有输入事件时，总计数将被更新，同时需要触发相应更新组的输出以通知订阅者。由于这是一个实时过程，Siddhi 无法累积所有事件并作为一个事件/XML 输出。如果无论如何它会累积事件，那么它将累积多长时间（1秒或1天）会有问题，以及需要以什么格式发送输出，因此目前是（WSO2 CEP 2.0.1 ) 不支持累积。

如果您需要此功能，则必须将 CEP 的输出发送到 ESB 并运行某种聚合过程。

苏霍

# oracle - 压缩Oracle表

> ID：14152290
> 
> 赞同：4
> 
> 时间：2013-01-04T06:33:32.270
> 
> 标签：oracle

我需要压缩一张桌子。我用来`alter table tablename compress`压缩表。这样做之后，表格大小保持不变。

我应该如何压缩表格？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:48:31.320

要压缩表的旧块，请使用：

```
alter table table_name move compress; 
```

这将在另一个块中重新插入记录，压缩并丢弃旧块，因此您将获得空间。并使 indexex 无效，因此您需要重建它们。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-04T06:40:26.807

压缩不会影响已存储的行。请查看[官方文档](http://docs.oracle.com/cd/B28359_01/server.111/b28310/tables002.htm#CJAGFBFG)：

> " 您可以使用 CREATE TABLE 语句的 COMPRESS 子句指定表压缩。您可以通过在 ALTER TABLE 语句中使用此子句为现有表启用压缩。在这种情况下，唯一被压缩的数据是压缩后插入或更新的数据已启用..."

ALTER TABLE t MOVE COMPRESS 是一个有效的答案。但是，如果您使用不同的非默认选项，尤其是对于大数据量，请在使用 ALTER TABLE ... MOVE 之前进行回归测试。
从历史上看，它存在更多问题（性能下降和错误）。如果您有访问权限，请查看 Oracle 错误数据库以查看您使用的功能和版本是否存在已知问题。）
如果您：

*   创建新表
*   从原始（旧）表中插入数据
*   丢弃旧表
*   将新表重命名为旧表名

# python - 多次返回单行

> ID：14152302
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:34:30.783
> 
> 标签：python, mysql

我有两张这样的桌子：

```
summary(id, status, value, time, aperson) and long_summary(id, who, comment, alltext) 
```

为此，我尝试了以下查询，例如：

```
SELECT l.id,summary.status
FROM  long_summary l INNER JOIN summary ON l.id = summary.id INNER JOIN long_summary ON summary.aperson = long_summary.who 
WHERE summary.status IN('old','new','waiting')
AND summary.value IN ('') 
AND summary.time >= DATE_SUB(NOW(),INTERVAL 2 MONTH)
AND l.alltext LIKE '% relational database management system %' ORDER BY FIELD(summary.status,'old','new','waiting'),summary.time DESC 
```

运行时它会给出正确的输出，但返回的行会多次出现，例如：

```
(1,'old')
(1,'old')
(1,'old')
(2,'new')
(2,'new')
(3,'new')
(4,'waiting')
(4,'waiting') 
```

为此`i have used SELECT DISTINCT and after that it is giving correct output without repetition of the single row`。但我没有得到我做错了什么？你会建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:56:22.437

The way to see what's happening is to (a) create a stripped-down test case, and (b) do a `SELECT *` so you can see what you're getting back in the other columns, that's causing the repetition.

So, I did this:

```
CREATE TABLE summary(id, status, value, time, aperson);
INSERT INTO "summary" VALUES(1,'old',23,'time0','joe');
INSERT INTO "summary" VALUES(2,'new',42,'time1','bob');
INSERT INTO "summary" VALUES(3,'new',32,'time2','mike');
CREATE TABLE long_summary(id, who, comment, alltext);
INSERT INTO "long_summary" VALUES(1,'someone','i say!','some text');
INSERT INTO "long_summary" VALUES(1,'joe','joe likes','some text');
INSERT INTO "long_summary" VALUES(2,'joe','joe likes bob','some text');
INSERT INTO "long_summary" VALUES(3,'joe','joe likes mike','some text');
INSERT INTO "long_summary" VALUES(1,'bob','nice one, joe','some text');
INSERT INTO "long_summary" VALUES(2,'bob','nice one, me','some text');
INSERT INTO "long_summary" VALUES(2,'bob','double nice one, me','some text');
INSERT INTO "long_summary" VALUES(3,'bob','nice one, mike','some text');
COMMIT; 
```

Then I took a simpler version of your query:

```
SELECT l.id,summary.status
FROM  long_summary l INNER JOIN summary ON l.id = summary.id INNER JOIN long_summary ON summary.aperson = long_summary.who 
WHERE summary.status IN('old','new','waiting') 
```

None of the other stuff could make things any worse, right? So it's irrelevant. What do I get when I run this? 9 copies of `1|old`, and 12 copies of `2|new`.

So, let's change it to see the whole row:

```
SELECT *
FROM  long_summary l INNER JOIN summary ON l.id = summary.id INNER JOIN long_summary ON summary.aperson = long_summary.who 
WHERE summary.status IN('old','new','waiting')

1|bob|nice one, joe|some text|1|old|23|time0|joe|1|joe|joe likes|some text
1|bob|nice one, joe|some text|1|old|23|time0|joe|2|joe|joe likes bob|some text
1|bob|nice one, joe|some text|1|old|23|time0|joe|3|joe|joe likes mike|some text
1|joe|joe likes|some text|1|old|23|time0|joe|1|joe|joe likes|some text
1|joe|joe likes|some text|1|old|23|time0|joe|2|joe|joe likes bob|some text
1|joe|joe likes|some text|1|old|23|time0|joe|3|joe|joe likes mike|some text
1|someone|i say!|some text|1|old|23|time0|joe|1|joe|joe likes|some text
1|someone|i say!|some text|1|old|23|time0|joe|2|joe|joe likes bob|some text
1|someone|i say!|some text|1|old|23|time0|joe|3|joe|joe likes mike|some text
2|bob|double nice one, me|some text|2|new|42|time1|bob|1|bob|nice one, joe|some text
2|bob|double nice one, me|some text|2|new|42|time1|bob|2|bob|double nice one, me|some text
2|bob|double nice one, me|some text|2|new|42|time1|bob|2|bob|nice one, me|some text
2|bob|double nice one, me|some text|2|new|42|time1|bob|3|bob|nice one, mike|some text
2|bob|nice one, me|some text|2|new|42|time1|bob|1|bob|nice one, joe|some text
2|bob|nice one, me|some text|2|new|42|time1|bob|2|bob|double nice one, me|some text
2|bob|nice one, me|some text|2|new|42|time1|bob|2|bob|nice one, me|some text
2|bob|nice one, me|some text|2|new|42|time1|bob|3|bob|nice one, mike|some text
2|joe|joe likes bob|some text|2|new|42|time1|bob|1|bob|nice one, joe|some text
2|joe|joe likes bob|some text|2|new|42|time1|bob|2|bob|double nice one, me|some text
2|joe|joe likes bob|some text|2|new|42|time1|bob|2|bob|nice one, me|some text
2|joe|joe likes bob|some text|2|new|42|time1|bob|3|bob|nice one, mike|some text 
```

OK, now you can see the problem, let's see *why* it's happening. Is each of these rows *supposed* to be there? In other words, should you see a `1|old` if at least one of the first three combinations are there?

If not, which ones shouldn't be causing it? You need to filter something out in either the `WHERE` or the `JOIN`.

If so, then you need a `GROUP BY` to merge together the relevant fields, or an `OR` somewhere, more likely the first.

Step through all of the groups asking the same question. If you get to the point where you need a `GROUP BY` on the columns you're actually displaying, it's simpler to just use a `SELECT DISTINCT`.

You also might want to step back and ask whether you really want a full `JOIN` of long_summary with summary with long_summary. That's 8*3*8=192 rows that you've filtered down to 21\. Does that make sense, or did you only expect, say, 24 rows to filter down? If the latter, you've got the `JOIN` wrong. Either one of those `JOIN`s shouldn't be there at all, or it should be a one-to-one instead of one-to-many `JOIN`, or something else is wrong with it.

By the way, you might be able to tell from my test above that I used `sqlite3` rather than `mysql`, just because it's a lot simpler to get and running. I doubt that makes any difference, but if you test in `mysql` and see different results, by all means let me know.

# c# - 如何在webconfig中根据c# vs2005中的角色访问文件夹的页面

> ID：14152304
> 
> 赞同：1
> 
> 时间：2013-01-04T06:34:36.500
> 
> 标签：c#, asp.net, security, web-config, asp.net-roles

场景是：

我正在开发 vs2005 和 sql server2005 中基于角色的项目。我在数据库中定义了角色并添加了自定义角色提供程序。我有两个角色，如“管理员”和“用户”。我在项目中创建了两个文件夹，并根据角色将页面放置在这些文件夹（管理员和用户）中。现在我想在 web.config 中添加代码以根据角色访问页面，这意味着管理员只能看到 admin 文件夹页面，而用户只能看到用户文件夹页面。

如果我只为管理员定义一页，为具有角色授权的标签中的用户定义一页，那么它们可以正常工作。但是如果我在两个文件夹中都使用了多个页面，那么我需要在 web.config 文件中为这两个文件夹定义所有页面。

我使用了这样的**位置**标签

```
<location path="user/userpage1.aspx">
    <system.web>
      <authorization>
        <allow roles="user"/>
        <deny users="*"/>
      </authorization>
    </system.web>
  </location> 
```

是否有可能为文件夹而不是标签中的页面分配角色。如果是，请提供一些有价值的想法来实现这一点。

**更新** 我在我的网络配置中添加了这两个**位置**标签

```
<!--allow admin role members-->
  <location path="admin/adminpage1.aspx">
    <system.web>
      <authorization>
        <allow roles="admin"/>
        <deny users="*"/>
      </authorization>
    </system.web>
  </location>
<!--allow user role members-->
  <location path="user/userpage1.aspx">
    <system.web>
      <authorization>
        <allow roles="user"/>
        <deny users="*"/>
      </authorization>
    </system.web>
  </location> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:52:56.900

以下内容不适合您吗？

```
<location path="folder">
    <system.web>
        <authorization>
            <allow roles="user" />
            <deny users="*" />
        </authorization>
    </system.web>
</location> 
```

以下配置对我有用：

```
<location path="Content/Images">
    <system.web>
        <authorization>
            <allow users="*" />
        </authorization>
    </system.web>
</location>
<system.web>
    <authorization>
        <allow roles="Admin,Manager,Client" />
        <deny users="?" />
    </authorization>
</system.web> 
```

允许匿名访问，而一般情况下是不允许的。

* * *

您可以在**子文件夹**中放置一个单独的与位置无关的 Web.config：

```
<system.web>
    <authorization>
        <allow roles="user" />
        <deny users="*" />
    </authorization>
</system.web> 
```

# android - Android 布局编辑器。内存泄漏

> ID：14152305
> 
> 赞同：3
> 
> 时间：2013-01-04T06:34:40.407
> 
> 标签：android, eclipse, memory-leaks, adt, layout-editor

我在 android eclipse 中的编辑器布局一直有问题。当我开始编辑布局时，我看到内存开始拍摄，直到你达到大约 1GB 并冻结日食，

我编辑 normalment 10 / 15 分钟，直到它开始变慢。我尝试修复多种方法：

*   使用 Bundle Adt 64 和 32 位，以及他们的 jdk
*   下载了一个 eclipse clean 并重新安装了 adt plugin sdk 21 并完全安装。
*   以最好的方式编辑`eclipse.ini`。

但问题仍在继续。

我的电脑：

```
Windows 8-64 bit
4GB RAM
Core i3 
```

有没有人有解决方案，或者它仍然是adt中的一个错误？

# wpf - 帆布打印 - wpf

> ID：14152308
> 
> 赞同：0
> 
> 时间：2013-01-04T06:34:56.343
> 
> 标签：wpf, printing

我使用这些代码来打印 UI。打印出来是有效的，但如果纸张大小超过了，UI 会在画布中间切断。

有没有什么办法可以不中途截断？

<--cs 代码-->

```
PrintDialog dialog = new PrintDialog();
dialog.PrintVisual(lst , "print"); 
```

<--Xaml -->

```
<ListView Name="lst">
    <Grid Name="grdPrint">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition />
        </Grid.RowDefinitions>

        <Canvas  Grid.Row="0"    >
           .......
        </Canvas>

        <HListBox x:Name="lstImage" ItemsSource="{Binding IMG, Mode=TwoWay}" Grid.Row="1" IsHitTestVisible="True">
            <HListBox.ItemTemplate>
                <DataTemplate>
                    <HImage Margin="0"  Width="590"  Height="590" Stretch="Fill" Source="{Binding IMG_PATH_NM, Converter={StaticResource StrUriConverter}}" Tag="{Binding IMG_PATH_NM}">
                    </HImage>
                </DataTemplate>
            </HListBox.ItemTemplate>
            <HListBox.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center"  IsHitTestVisible="True"/>
                </ItemsPanelTemplate>
            </HListBox.ItemsPanel>
        </HListBox>
    </Grid>
</ListView> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T08:54:59.223

此方法会将画布打印为 PNG 文件。

```
public void ExportToPNG(string imgpath, Canvas surface)
{
    Uri path = new Uri(imgpath);

    if (path == null)
        return;
    Transform transform = surface.LayoutTransform;
    surface.LayoutTransform = null;

    Size size = new Size(surface.Width, surface.Height);
    surface.Measure(size);
    surface.Arrange(new Rect(size));

    RenderTargetBitmap renderBitmap =
        new RenderTargetBitmap(
        (int)size.Width,
        (int)size.Height,
        96d,
        96d,
        PixelFormats.Pbgra32);
    renderBitmap.Render(surface);

    using (FileStream outStream = new FileStream(path.LocalPath, FileMode.Create))
    {
        PngBitmapEncoder encoder = new PngBitmapEncoder();
        encoder.Frames.Add(BitmapFrame.Create(renderBitmap));
        encoder.Save(outStream);
    }
    surface.LayoutTransform = transform;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:40:48.423

您可以创建一个 BitmapImage（请参阅 RenderTargetBitmap 从元素创建位图）。然后可以将此位图保存为 JPEG 文件并使用 GDI+ (System.Image) 进行操作。

# visual-studio-2008 - 控制 CView MFC 的大小

> ID：14152314
> 
> 赞同：0
> 
> 时间：2013-01-04T06:35:44.040
> 
> 标签：visual-studio-2008, mfc, cview

我有一个 MFC 应用程序，我在其中使用多个 CView。（单个文档）我的问题是，当我最大化现有视图的大小并打开另一个 cview 时，第一个 cview 大小会自动最小化。有没有办法让第一个窗口保持最大化，或者这是 MFC 中多个视图的正常行为？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T12:56:05.303

你的帖子不清楚。你能澄清一下吗？

您指的是 MFC SDI 应用程序和多个视图。

然而，虽然 SDI 应用程序中可以有多个视图，但用户无法控制最小化或最大化视图；代码负责管理视图大小。

您的视图是如何最小化或最大化的？

如果您的应用程序是作为具有多个顶级文档的 SDI 创建的，则最小化/最大化一个框架不会影响另一个框架。

# c - C中的字符串反转程序

> ID：14152315
> 
> 赞同：5
> 
> 时间：2013-01-04T06:35:44.477
> 
> 标签：c, string, gcc

我写了一个程序来反转一个字符串..但它不起作用..它正在打印被扫描的相同字符串..代码有什么问题？

```
#include <stdio.h>
#include <stdlib.h>
char *strrev(char *s)
{
        char *temp = s;
        char *result = s;
        char t;
        int l = 0, i;
        while (*temp) {
                l++;
                temp++;
        }
        temp--;
        for (i = 0; i < l; i++) {
                t = *temp;
                *temp = *s;
                *s = t;
                s++;
                temp--;
        }
        return result;
}

int main()
{
        char *str;
        str = malloc(50);
        printf("Enter a string: ");
        scanf("%s", str);
        printf("%s\n\n", strrev(str));
        return 0;
} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-01-04T06:39:27.717

```
for (i = 0; i < l; i++) 
```

您正在遍历整个字符串，因此您要反转它*两次*-毕竟它不会反转。只走一半：

```
for (i = 0; i < l / 2; i++) 
```

`int len = strlen()`此外，如果您被允许这样做，请尝试使用而不是 while-not-end-of-string 循环。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T06:38:51.853

您交换字符串的内容两次。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T10:34:03.070

使用以下代码..

```
#include "stdafx.h"
#include <stdio.h>
#include <stdlib.h>

char *strrev(char *s)
{
     char *temp = s;
     char *result = s;
     char t;
     while (*temp)
          temp++;

     while (--temp != s)
     {
            t = *temp;
            *temp = *s;
            *s++ = t;
     }
     return result;
 }

 int main()
 {
      char *str;
      str = (char*)malloc(50);
      printf("Enter a string: ");
      scanf("%s", str);
      printf("%s\n\n", strrev(str));
      return 0;
  } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T06:57:49.893

逻辑是将开始到前半部分的字符与后半部分最后的字符交换，即最多 len/2。只需按如下方式修改您的 for 循环 & 它会为您正常工作 for (i = 0; i < l/2; i++) {

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T07:48:15.797

你可以使用这个简单的代码

```
#include "stdafx.h"
#include <stdio.h>
#include <stdlib.h>
#include <conio.h>

int str_len (char *str)
{
   char *ptr = str;
    while (*str)
     str++;
   return str - ptr;
}

int main ()
{
  char *str;
  int length;
  str = (char*)malloc(50);
  printf("Enter a string: ");
  scanf("%s", str);
  length = str_len(str) - 1;

  for (int i = length ; i >= 0 ; i--)
  printf ("%c", str[i]);
  return 0;
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-05-28T08:38:34.280

```
you can use this code to reverse the string
#include<stdio.h>
#include<string.h>
int main()
{
    int n,i;
    char str2[100],str1[100];
    printf("enter teh string 1\n");
    gets(str1);
    n = strlen(str1);
    for(i=0;i<n;i++)
    {
    str2[n-1-i]=str1[i];
    }
    printf("%s\n",str2);

} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-01-04T07:08:20.533

实际上你正在反转字符串两次......所以在到达字符串中间之后，你应该终止循环，即你的循环应该运行一半的字符串长度，即 l/2（在这种情况下）。所以你的循环应该像

```
for(i = 0; i < i / 2; i++) 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-01-18T09:57:49.817

交换字符串内容两次..

交换一次会有所帮助..

```
for (i = 0; i < l/2; i++) 
```

# python - 对 twitter 的 oauth 资源请求

> ID：14152316
> 
> 赞同：0
> 
> 时间：2013-01-04T06:35:49.607
> 
> 标签：python, django, twitter, oauth

我的 ios 客户端用于在 OAuth 下完成对 Twitter 平台的登录。Web 登录后，UIWebView 会通过如下链接重定向到应用服务器，

```
http://abc.com/accounts/twitter/login/callback/?oauth_token=yEkpImDMHPSMplt8mRjhM3XCVEHJtSPfKjRuU4D6Y&oauth_verifier=yFU1kplG2buSFN4jCt0WZuXJTA9roNTgBk9R4P8ec 
```

没有 oauth_token_secret。

我已经实现了其他 OAuth 登录，例如本机 facebook 登录。我可以从客户端获取 access_token 和 access_secret 并发送到服务器（Python + Django），然后服务器使用这些参数从 FB 请求基本用户信息以完成完整的登录流程。

目前对于 twitter 我只有 oauth_token 和 oauth_verifier，任何人都可以根据这两个参数告诉我，如何从 Twitter API 获取信息？谢谢。

# amazon-web-services - 将另一个 IP 重新关联到正在运行的实例？

> ID：14152317
> 
> 赞同：1
> 
> 时间：2013-01-04T06:35:56.340
> 
> 标签：amazon-web-services, amazon-ec2

我对此有一个复杂的用例，
但简而言之，当一个实例正在运行时，我可以将弹性 IP 切换到另一个吗？以及在此时间间隔内会发生什么（在解除关联和重新关联之间[可能是 10-30 分钟]）.. 它不能通过互联网进行通信吗？

**编辑：** 到目前为止答案很好，但这回答了问题的第二部分，主要是，如何在运行时更改 IP？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T16:42:22.590

您的所有问题或多或少都在[功能指南：Amazon EC2 Elastic IP Addresses](http://aws.amazon.com/articles/1346)中得到解决，例如：

*   *当一个实例正在运行时，我可以将弹性 IP 切换到另一个实例吗？*
    当然，这是弹性 IP 地址的主要用例之一： *与标准 EC2 公共 IP 地址不同，弹性 IP 地址被分配给账户，并且可以在需要时重新映射到其他实例。[这包括正在运行的实例，请参阅下面的“如何更改正在运行的 EC2 实例的弹性 IP 地址”。]*
*   *在这段时间间隔内会发生什么（在解除关联和重新关联之间[可能是 10-30 分钟]）？*
    这将比广告更长，请参阅常见问题解答*重新映射弹性 IP 地址需要多长时间？*：

    > 在大多数情况下，从您指示我们重新映射弹性 IP 开始，这通常需要不到几分钟的时间，我们将继续努力使其更快。*[我实际上没有经历过这个过程花费超过一分钟的时间]*

*   *它不能通过互联网进行通信吗？*
    这取决于手头的情况，但作为简化，您可能应该根据以下两个常见问题解答这个假设：

    *   *如果从实例中删除弹性 IP，该实例是否可以从 Internet 访问？*

        > 从实例中删除弹性 IP 会暂时使实例没有公共 IP 地址。云中的后台进程会在短时间内为实例重新分配一个新的公共 IP。在此过程中，实例仍可通过其私有 IP 地址从云内部访问。

    *   *为什么在我将新 IP 地址关联到实例后，现有连接仍然有效？*

        > 当您将弹性 IP 重新映射到实例时，即使在重新映射之后，您的一些预先存在的通信（到旧的且现在未映射的 IP 地址）仍将继续工作。例如，如果您通过系统分配的公共 IP 地址与实例建立了开放的 ssh 连接，随后将您的弹性 IP 地址之一与该实例相关联，则 ssh 会话可能会在一段时间内继续正常运行。这种行为是预期的，但不可靠。我们强烈建议您通过重新映射的新 IP 地址重新建立连接，以确保您的软件正常运行。

### 如何更改正在运行的 EC2 实例的弹性 IP 地址

您的后续问题的答案也嵌入/暗示在上述指南中，但在[弹性 IP 地址 (EIP)](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html)章节中进行了更详细的讨论，特别是在[将弹性 IP 地址与 Amazon EC2 中的运行实例](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-associating)关联和[关联Amazon EC2 中具有不同运行实例的弹性 IP 地址](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-associating-different)：

*   基本上，这是通过 EC2 API 操作[AssociateAddress](http://docs.aws.amazon.com/AWSEC2/latest/APIReference/ApiReference-query-AssociateAddress.html)执行的，这由[AWS 管理控制台](http://aws.amazon.com/console/)或[Amazon EC2 API 工具](http://aws.amazon.com/developertools/351)（特别是[ec2-associate-address](http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-AssociateAddress.html)）依次促进，如上述部分所述。

有关该主题的更多详细信息，请参阅 EC2 [IP 信息常见问题解答。](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/IP_Information.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-10T01:55:12.523

我创建了这个 bash 脚本来更改 VPC 中正在运行的实例的公共 ip (eip)。您只需提供您为该实例指定的名称 (TAG Name="")，以便它将名称标签转换为实例 ID。更改您的公共 DNS 总是需要时间。在 aws gui 中更改 EIP 地址很烦人。解除旧IP，获取新IP，关联新IP，释放旧IP。鼠标点击很臭。

```
#change vpc instance public IP address (EIP -> NIC|INSTANCE)
#usage "changeip [instance friendly tag=Name] [region]"
#example "changeip my.instnace us-west-1"
#dafault region is us-west-1 (you must include --region for $region default)
#for VPC instances only
function changeip {
    if [[ ! $1 ]]; then
        echo 'Error : You must provide tag name for instance'
        echo 'Example:  changeip [friendly name]'
        return
    fi
    if [[ $2 ]]; then
        region='--region '$2
        echo 'Using region '$2
    else
        region='--region us-west-1' #sets default region
        echo 'Using default '$region
    fi  
    name=$1
    instance=$(ec2-describe-instances $region | grep Name | grep $name | cut -f3)
    if [[ ! $instance =~ ^('i-'[A-Za-z0-9]*)$ ]]; then
        echo 'Error : Getting the instance id'
        echo $instance
        return
    fi
    echo 'Applying to '$1 '=> '$instance
    echo 'Please wait....'
    ip_new=$(ec2-allocate-address $region -d vpc | cut -f2)
    if [[ ! $ip_new =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
        echo 'Error : Getting a new IP address'
        echo $ip_new
        return
    fi
    new_idas=$(ec2-describe-addresses $region $ip_new | cut -f 5) >> /dev/null
    if [[ ! $new_idas =~ ^('eipalloc-'[A-Za-z0-9]*)$ ]]; then
        echo 'Error : Getting New IP allocation id eipalloc'
        echo $new_idas
        return  
    fi
    ip_old=$(ec2-describe-addresses $region | grep $instance | cut -f2)
    if [[ ! $ip_old =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
        echo 'Error : Getting old IP address'
        echo $ip_old
        return
    fi
    id_dis=$(ec2-describe-addresses $region $ip_old | cut -f 6)
    if [[ ! $id_dis  =~ ^('eipassoc-'[A-Za-z0-9]*)$ ]]; then
        echo 'Error : Dissasociating Old IP'
        echo $id_dis
        return
    fi
    id_release=$(ec2-describe-addresses $region $ip_old | cut -f 5) >> /dev/null
    if [[ ! $new_idas =~ ^('eipalloc-'[A-Za-z0-9]*)$ ]]; then
        echo 'Error : Release Old IP'
        echo $id_release
        return
    fi
    ec2-disassociate-address $region -a $id_dis  >> /dev/null
    sleep 8
    ec2-release-address $region -a $id_release >> /dev/null
    ec2-associate-address $region -i $instance -a $new_idas >> /dev/null
    echo 'SUCCESS!'
    echo 'Old = '$ip_old
    echo 'New = '$ip_new
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:42:08.107

弹性 IP 是使用 NAT 分配的。您的实例有一个 NAT 到弹性 IP 的内部 IP。虽然实例没有关联的弹性 IP，但它将具有来自池的任意 IP，因此仍然能够与 Internet 通信（假设访问规则已正确配置）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:43:29.343

您始终可以使用公共 DNS 名称访问系统。通过互联网交流没有问题。

从实例进行 curl 以了解要使用的私有/公共地址

HTTP：// 169。254\. 169\. 254/最新/元数据/local-ipv4

http : // 169\. 254\. 169\. 254/latest/meta-data/public-ipv4

参考：[http ://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/AESDG-chapter-instancedata.html](http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/AESDG-chapter-instancedata.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T16:29:27.130

是：您可以更改正在运行的实例的 IP 地址。只需将第二个弹性 IP 地址与实例关联，它将替换现有的。

# php - 黑莓检测imei号码 单击任何链接时

> ID：14152320
> 
> 赞同：0
> 
> 时间：2013-01-04T06:36:14.537
> 
> 标签：php, blackberry, imei

当用户点击他/她黑莓的链接时，如何获取 IMEI 号码？也许我可以将数据传递给 php.ini。有人可以说明我如何实现这一目标吗？提前谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:30:09.503

如果不在您自己的应用程序中处理它，您将无法获得 IMEI。

一种方法是编写一个可以处理自定义 url 的应用程序。请参阅：[如何在 BlackBerry 中从浏览器启动应用程序](https://stackoverflow.com/a/4568717/1052358)

您的应用程序基本上可以在后台处理此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:39:30.727

这将以编程方式获取 imei 号码。

```
private String getIMEINumber() {

  byte[] imeiByteArray = net.rim.device.api.system.GPRSInfo.getIMEI();

  String imei = net.rim.device.api.system.GPRSInfo.imeiToString(imeiByteArray);

  imeiByteArray = null;

  return imei;

} 
```

# python-2.7 - 保存 matplotlib 3d 旋转图

> ID：14152325
> 
> 赞同：13
> 
> 时间：2013-01-04T06:36:26.413
> 
> 标签：python-2.7, matplotlib

嗨，有谁知道是否有办法以允许它们仍然旋转的格式保存 matplotlib 3d 旋转图？也许是一个特定的程序？

代码是：

```
from numpy import *
import pylab as p
import mpl_toolkits.mplot3d.axes3d as p3

A=transpose(genfromtxt("Z:/Desktop/Project/bhmqntm-code/RichardsonRK4.csv", unpack=True, delimiter=','))

T=A[:,0]
X=A[:,1]
P=A[:,2]

fig=p.figure()
ax = p3.Axes3D(fig)
ax.scatter(X,P,T,s=1,cmap=cm.jet)
ax.set_xlabel('X')
ax.set_ylabel('P')
ax.set_zlabel('T')
p.show()#I would like this to be something like savefig('Z:/Desktop/Project/bhmqntm-code/plot3d_ex.png') but with a file ending of a program that would save the 3d capability 
```

我不确定是否确实存在执行此操作的程序，但如果有人知道它会非常有帮助。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-12-07T22:06:55.253

我认为 matplotlib 做不到。我找到的解决方案是制作图表以在浏览器中显示它们。例如使用[plot.ly](http://plot.ly)。

一个例子：[https ://plot.ly/python/ipython-notebook-tutorial/#3d-plotting](https://plot.ly/python/ipython-notebook-tutorial/#3d-plotting)

# android - Android 滑动菜单显示

> ID：14152328
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:36:30.757
> 
> 标签：android, android-sliding

我使用[jfeinstein10 / SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)库，我按照所有说明进行操作，但是当我尝试滑动菜单时看不到，如何显示它？

**我的代码**

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        SlidingMenu menu = new SlidingMenu(this);
        menu.setMode(SlidingMenu.LEFT);
        menu.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
        menu.attachToActivity(this, SlidingMenu.SLIDING_CONTENT);
        menu.setMenu(R.layout.menu_frame);
        menu.setSlidingEnabled(true);
        menu.showContent();

    }
  } 
```

在`menu_frame`布局中我有`FrameLayout`一个`TextView`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T17:54:13.170

尝试在您的 setContentView 之后添加它

```
setBehindContentView(R.layout.name_of_your_menu_layout); 
```

看看有没有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:55:15.883

试试下面对我有用的代码。

```
<?xml version="1.0" encoding="utf-8"?>
<com.slidingmenu.lib.SlidingMenu xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/slidingmenumain"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" /> 
```

并在您的主要活动中添加上述滑动菜单文件...

# jquery - jQuery追加内容增加

> ID：14152335
> 
> 赞同：-5
> 
> 时间：2013-01-04T06:37:27.127
> 
> 标签：jquery, append

这是一个示例代码：

```
var i1 = $("<a>content1</a>");
var i2 = $("<a>content2</a>");
var i3 = $("<a>content3</a>");
var i4 = $("<a>content4</a>");
var i5 = $("<a>content5</a>");
b.append(i1); 
```

这是想要的效果：

1.  单击第一个 +1 按钮时，应调用 b.append(i1) 并显示 content1；
2.  单击第二个 +1 按钮时，应调用 b.append(i2) 并显示 content2；
3.  单击第三个+1 按钮时，应调用 b.append(i3) 并显示 content3；
4.  单击第四个 +1 按钮时，应调用 b.append(i4) 并显示 content4；
5.  单击第五个 +1 按钮时，应调用 b.append(i5) 并显示 content5；

到目前为止，这就是我能够实现的目标：[工作小提琴](http://jsfiddle.net/huZzq/2/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:56:53.683

不知道这是否是你想要的..

`var clickedcount`在您的代码中添加了一个，使用`switch()`并同样显示了内容..

你不需要不同的变量..我用相同的变量管理它`i1`

检查这个[小提琴](http://jsfiddle.net/huZzq/3/)..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:02:23.093

看到这个更新的小提琴：http: [//jsfiddle.net/huZzq/7/](http://jsfiddle.net/huZzq/7/)

由于您在`cur`变量中有一个计数，因此它可以与`eval()`以下函数一起使用：

```
b.append(eval('i' + cur)); 
```

对于删除：

```
var index = c.attr("value").replace("-","");
(eval('i' + (index))).remove(); 
```

# java - java.lang.ClassNotFoundException: javax.xml.rpc.Service

> ID：14152346
> 
> 赞同：1
> 
> 时间：2013-01-04T06:38:32.347
> 
> 标签：java, rest, soap, jersey, axis

我在 Eclipse 中创建了一个动态 Web 项目，它使用使用 Axis 生成的存根来调用一些基于 SOAP 的 Web 服务。有一个 java 类实际上使用这个存根来生成响应。我在 WEB-INF/lib.(Target Runtime-Tomcat 7) 中包含了所需的轴 jar。该项目还具有使用 Jersey 生成的 REST API，用于其他一些 REST Web 服务调用。我调试了这个问题，发现当控件实际上使用存根进入类的构造函数时，它会抛出一个异常，

... 2013 年 1 月 4 日上午 11:26:42 com.sun.jersey.spi.container.ContainerResponse mapMappableContainerException

严重：MappableContainerException 中包含的异常无法映射到响应，重新抛出到 HTTP 容器 java.lang.NoClassDefFoundError: javax/xml/rpc/ServiceException ...

以下是我的 web.xml 中与 servlet 相关的内容，

Jersey REST 服务 com.sun.jersey.spi.container.servlet.ServletContainer

```
 <init-param>
                    <param-name>com.sun.jersey.config.property.packages</param-name>
                    <param-value>{PackageName}</param-value>
            </init-param>
    <init-param>
        <param-name>com.sun.jersey.api.json.POJOMappingFeature</param-name>
        <param-value>true</param-value>
    </init-param>

    <init-param>
        <param-name>com.sun.jersey.spi.container.ContainerResponseFilters</param-name>
        <param-value>{ResponseFilterClass}</param-value>
    </init-param>

    <load-on-startup>1</load-on-startup>
</servlet> 
```

我是否缺少更多依赖项？因为它给出异常的类，它的 jar 已经包含在 WEB-INF/lib 这方面的任何帮助都非常感谢。提前致谢。

# java - 生成的序列以 1 开头，而不是注释中设置的 1000

> ID：14152348
> 
> 赞同：6
> 
> 时间：2013-01-04T06:38:40.617
> 
> 标签：java, hibernate, jakarta-ee, jpa

我想就 Hibernate 创建的数据库序列寻求一些帮助。

我在我的实体类中有这个注释 - 下面的代码 - 以便为合作伙伴表提供单独的序列。我希望序列以 1000 开头，因为我在部署期间使用 import.sql 将测试数据插入到我的数据库中，并且我想避免违反约束。但是当我想要持久化数据时，我得到了约束违反异常，它告诉我 partner_id = 2 已经存在的事实。看来我错过了什么。

```
 @Id
    @Column(name = "partner_id")
    @SequenceGenerator(initialValue=1000, 
                        allocationSize=1,
                        name = "partner_sequence", 
                        sequenceName="partner_sequence")
    @GeneratedValue(generator="partner_sequence")
    private Long partnerId; 
```

生成的序列如下所示：

```
CREATE SEQUENCE partner_sequence
  INCREMENT 1
  MINVALUE 1
  MAXVALUE 9223372036854775807
  START 1
  CACHE 1;
ALTER TABLE partner_sequence
  OWNER TO postgres; 
```

我使用postgres 9.1。

我错过了什么？这就是我如何接近我想要的方式？

提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-22T02:05:23.090

`initialValue``hibernate.id.new_generator_mappings=true`如果根据[本文](http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#ann-setup-properties)指定，则支持。我遇到了与这篇文章中所述相同的问题，我按照这个食谱解决了它。现在可以正确生成序列。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T07:06:54.953

`initialValue`并且`alocattionSize`特定于`hilo`使用序列的算法。据此甚至不支持[。](http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-mapping-identifier) `initialValue`我什至看不到 Java 层如何支持它，因为序列值是在数据库中生成的。

另见[hibernate oracle序列产生大间隙](https://stackoverflow.com/questions/5346147/hibernate-oracle-sequence-produces-large-gap)

# android - ListView 中的自定义过滤 ArrayAdapter 不适用于过滤来自本地主机服务器的图像

> ID：14152353
> 
> 赞同：0
> 
> 时间：2013-01-04T06:38:51.937
> 
> 标签：android, filter, android-listview, filtering, android-arrayadapter

我正在过滤列表视图，我在其中过滤来自本地主机的数据和图像...在其中过滤了数据但未过滤图像。当我搜索该数据时，但图像来自其原始位置意味着图像来自其原始位置......

```
public class Listadapter extends ArrayAdapter<HashMap<String, String>> {

    ArrayList<HashMap<String, String>> originalList;
    ArrayList<HashMap<String, String>> prodlist;
    private ProductFilter filter;

    public Listadapter(Context context, int textViewResourceId,
            ArrayList<HashMap<String, String>> Strings) {
        super(context, textViewResourceId, Strings);
        this.prodlist = new ArrayList<HashMap<String, String>>();
        this.prodlist.addAll(productList);
        this.originalList = new ArrayList<HashMap<String, String>>();
        this.originalList.addAll(productList);
    }

    @Override
    public Filter getFilter() {
        if (filter == null) {
            filter = new ProductFilter();
        }
        return filter;
    }

    private class ViewHolder {
        TextView txtprodName;
        TextView txtcategory;
        TextView txtOfferDate;
        ImageView ProductImage;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        ViewHolder holder = null;
        Log.v("ConvertView", String.valueOf(position));
        if (convertView == null) {

            LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = vi.inflate(R.layout.product_list_item, null);

            holder = new ViewHolder();
            holder.txtprodName = (TextView) convertView
                    .findViewById(R.id.txtprodName);
            holder.txtcategory = (TextView) convertView
                    .findViewById(R.id.txtcategory);
            holder.txtOfferDate = (TextView) convertView
                    .findViewById(R.id.txtOfferDate);
            holder.ProductImage = (ImageView) convertView
                    .findViewById(R.id.ProductImage);
            convertView.setTag(holder);

        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        HashMap<String, String> hm = prodlist.get(position);

        holder.txtprodName.setText(hm.get(TAG_PRODUCT_NAME));
        holder.txtcategory.setText(hm.get(TAG_CATEGORY_NAME));
        holder.txtOfferDate.setText(hm.get(TAG_OFFER_START_TIME));

        if (drawable.get(position) != null)
            holder.ProductImage.setImageDrawable(drawable.get(position));
        else
            holder.ProductImage.setImageResource(R.drawable.nopic_place);

        return convertView;
    }

    private class ProductFilter extends Filter {
        @Override
        protected FilterResults performFiltering(CharSequence constraint) {
            constraint = constraint.toString().toLowerCase();
            FilterResults result = new FilterResults();
            if (constraint != null && constraint.toString().length() > 0) {
                ArrayList<HashMap<String, String>> filteredItems = new ArrayList<HashMap<String, String>>();
                for (int i = 0, l = originalList.size(); i < l; i++) {
                    HashMap<String, String> p = originalList.get(i);
                    if (p.toString().toLowerCase().contains(constraint))
                        filteredItems.add(p);
                }
                result.count = filteredItems.size();
                result.values = filteredItems;
            } else {
                synchronized (this) {
                    result.values = originalList;
                    result.count = originalList.size();
                }
            }
            return result;
        }

        @SuppressWarnings("unchecked")
        @Override
        protected void publishResults(CharSequence constraint,
                FilterResults results) {
            // TODO Auto-generated method stub
            prodlist = (ArrayList<HashMap<String, String>>) results.values;

            notifyDataSetChanged();
            clear();
            for (int i = 0, l = prodlist.size(); i < l; i++)
                add(prodlist.get(i));
            notifyDataSetInvalidated();

        }

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:54:36.077

您也应该按以下方式过滤**可绘制列表：**

创建另一个列表，将其命名为**prodDrawable**，例如：

```
ArrayList <Drawable> prodDrawable; 
```

在**ArrayAdapter 构造**函数中，按以下方式初始化列表：

```
this.prodDrawable = new ArrayList <Drawable> ();
this.prodDrawable.addAll ( drawable ); 
```

**在getView**方法中使用新列表（而不是**可绘制**列表）：

```
try {
    holder.ProductImage.setImageDrawable(prodDrawable.get(position));
} catch ( Exception exception ) {
    holder.ProductImage.setImageResource(R.drawable.nopic_place);
} 
```

最后，在**Filter**中，您也应该过滤图像列表，更改：

```
if (constraint != null && constraint.toString().length() > 0) {
    ArrayList<HashMap<String, String>> filteredItems = new ArrayList<HashMap<String, String>>();
    for (int i = 0, l = originalList.size(); i < l; i++) {
        HashMap<String, String> p = originalList.get(i);
        if (p.toString().toLowerCase().contains(constraint))
            filteredItems.add(p);
    }
    result.count = filteredItems.size();
    result.values = filteredItems;
} else {
    synchronized (this) {
        result.values = originalList;
        result.count = originalList.size();
    }
} 
```

对此：**_**

```
if (constraint != null && constraint.toString().length() > 0) {
    ArrayList<HashMap<String, String>> filteredItems = new ArrayList<HashMap<String, String>>();
    prodDrawable.clear ();
    for (int i = 0, l = originalList.size(); i < l; i++) {
        HashMap<String, String> p = originalList.get(i);
        if (p.toString().toLowerCase().contains(constraint)) {
            filteredItems.add(p);
            try {
                prodDrawable.add ( drawable.get ( i ) );
            } catch ( Exception exception ) {
                prodDrawable.add ( null );
            }
        }
    }
    result.count = filteredItems.size();
    result.values = filteredItems;
} else {
    synchronized (this) {
        prodDrawable.clear ();
        prodDrawable.addAll ( drawable );
        result.values = originalList;
        result.count = originalList.size();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T12:18:15.047

这是解决方案....可以帮助任何人

```
public class Listadapter extends ArrayAdapter<HashMap<String, String>> {

    ArrayList<HashMap<String, String>> originalList;
    ArrayList<HashMap<String, String>> prodlist;
    private ProductFilter filter;
    ArrayList<Drawable> prodDrawable;

    public Listadapter(Context context, int textViewResourceId,
            ArrayList<HashMap<String, String>> Strings) {
        super(context, textViewResourceId, Strings);
        this.prodlist = new ArrayList<HashMap<String, String>>();
        this.prodlist.addAll(productList);
        this.originalList = new ArrayList<HashMap<String, String>>();
        this.originalList.addAll(productList);
        this.prodDrawable = new ArrayList<Drawable>();
        this.prodDrawable.addAll(drawable);
    }

    @Override
    public Filter getFilter() {
        if (filter == null) {
            filter = new ProductFilter();
        }
        return filter;
    }

    private class ViewHolder {
        TextView txtprodName;
        TextView txtcategory;
        TextView txtOfferDate;
        ImageView ProductImage;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        ViewHolder holder = null;
        Log.v("ConvertView", String.valueOf(position));
        if (convertView == null) {

            LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = vi.inflate(R.layout.product_list_item, null);

            holder = new ViewHolder();
            holder.txtprodName = (TextView) convertView
                    .findViewById(R.id.txtprodName);
            holder.txtcategory = (TextView) convertView
                    .findViewById(R.id.txtcategory);
            holder.txtOfferDate = (TextView) convertView
                    .findViewById(R.id.txtOfferDate);
            holder.ProductImage = (ImageView) convertView
                    .findViewById(R.id.ProductImage);
            convertView.setTag(holder);

        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        HashMap<String, String> hm = prodlist.get(position);

        holder.txtprodName.setText(hm.get(TAG_PRODUCT_NAME));
        holder.txtcategory.setText(hm.get(TAG_CATEGORY_NAME));
        holder.txtOfferDate.setText(hm.get(TAG_OFFER_START_TIME));

        /*
         * if (drawable.get(position) != null)
         * holder.ProductImage.setImageDrawable(drawable.get(position));
         * else
         * holder.ProductImage.setImageResource(R.drawable.nopic_place);
         */

        try {
            holder.ProductImage
                    .setImageDrawable(prodDrawable.get(position));
        } catch (Exception exception) {
            holder.ProductImage.setImageResource(R.drawable.nopic_place);
        }
        return convertView;
    }
    private class ProductFilter extends Filter {
        @Override
        protected FilterResults performFiltering(CharSequence constraint) {
            constraint = constraint.toString().toLowerCase();
            FilterResults result = new FilterResults();
            if (constraint != null && constraint.toString().length() > 0) {
                ArrayList<HashMap<String, String>> filteredItems = new ArrayList<HashMap<String, String>>();
                prodDrawable.clear();
                for (int i = 0, l = originalList.size(); i < l; i++) {
                    HashMap<String, String> p = originalList.get(i);
                    if (p.toString().toLowerCase().contains(constraint)) {
                        filteredItems.add(p);
                        try {
                            prodDrawable.add(drawable.get(i));
                        } catch (Exception exception) {
                            prodDrawable.add(null);
                        }
                    }
                }
                result.count = filteredItems.size();
                result.values = filteredItems;
            } else {
                synchronized (this) {
                    prodDrawable.clear();
                    prodDrawable.addAll(drawable);
                    result.values = originalList;
                    result.count = originalList.size();
                }
            }
            return result;
        }
        @SuppressWarnings("unchecked")
        @Override
        protected void publishResults(CharSequence constraint,
                FilterResults results) {
            // TODO Auto-generated method stub
            prodlist = (ArrayList<HashMap<String, String>>) results.values;
            notifyDataSetChanged();
            clear();
            for (int i = 0, l = prodlist.size(); i < l; i++)
                add(prodlist.get(i));
            notifyDataSetInvalidated();
        }

    }

} 
```

# android - DialogFragment 缺少内容，仅显示“确定”按钮

> ID：14152362
> 
> 赞同：1
> 
> 时间：2013-01-04T06:39:28.907
> 
> 标签：android, android-layout, android-dialogfragment

我正在尝试从 viewpager 片段中显示一个对话框片段。由于某些原因。唯一出现的是正面的 ok 按钮。有人可以帮我吗？

在我的片段里面。我在打电话。

```
DialogFragment cardDetails = CardDetails_Fragment.newInstance(cardItem);
cardDetails.show(getActivity().getSupportFragmentManager(), "card_details"); 
```

这是我的 onCreateDialog 方法。

```
 @Override
     public Dialog onCreateDialog(Bundle savedInstanceState) {
    mContext = getActivity(); 
    AlertDialog.Builder builder = new AlertDialog.Builder(mContext);
    LayoutInflater inflater = getActivity().getLayoutInflater();
    View view = inflater.inflate(R.layout.fragment_card_details, null);
    TextView cardAttempts = (TextView) view.findViewById(R.id.card_attempts);
    cardAttempts.setText(Integer.toString(_card.attempts));

    builder.setPositiveButton("Ok", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int whichButton) {

          }
        });
    builder.setCancelable(false); 
     return builder.create();
} 
```

这就是我得到的。

![对话框片段显示不正确](../Images/5011236b95612a6a1d310e4fa15de0aa.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:41:20.340

你只是忘了打电话[`setView()`](http://developer.android.com/reference/android/app/AlertDialog.Builder.html#setView%28android.view.View%29)：

```
builder.setView(view); 
```

# apache - .htaccess 点特定域主页到内部页面

> ID：14152367
> 
> 赞同：1
> 
> 时间：2013-01-04T06:39:51.880
> 
> 标签：apache, .htaccess, mod-rewrite

好吧...我正在做一些有点奇怪和不寻常的事情。我会试着解释...

我有几个域名指向我的网络服务器上的同一个根目录。我可以使用任何域名访问整个网站（我知道这对 SEO 不利，但这是有原因的）。此外，没有一个“页面”真正存在……因为它们都是动态构建的……所以我设置了一些 mod 重写规则，将所有传入查询指向 view.php 并传入变量以生成页面内容...反正...

我想要做的只是将我的两个域的主页设置为（不可见地）使用现有子页面的内容。这是一个例子：

这些都是同一个页面： www.domain1.com/process/ www.domain2.com/process/ www.domain3.com/process/ 这实际上是在做类似的事情： view.php?page=process/

我希望为 www.domain2.com 显示此页面（并且仍然可以通过 domain2.com/process 访问）

本质上，我想将站点的一个子页面用作 domain2.com 和 domain3.com 的“主页”页面，但如果 domain1.com 仍应使用默认 (index.php) 主页页面。

我敢肯定，一旦开始收到回复，我将需要对此进行澄清……但这是我目前所拥有的：

```
# special rules to set other domain names default homepage as specific internal page
RewriteCond %{HTTP_HOST} ^www.domain2.com [NC]
RewriteRule ^(.+)?$ /view.php?page=process/ [NC,L] 
```

目前，这会将所有到 domain2.com 的流量发送到“process/”页面......因此它会阻止所有其他页面。我需要知道如何让这个规则只适用于基本域，而不需要任何额外的查询字符串或 url 路径。关键是我不想影响域中的其他页面...所以我应该仍然能够使用此域名浏览整个站点...我只是从不同的视图开始。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T14:43:31.757

要仅匹配主页，即`http://domain2com/`您需要匹配空路径（因为 mod_Rewrite 删除了前导`/`.

```
RewriteCond %{HTTP_HOST} ^www.domain2.com [NC]
RewriteRule ^$ /view.php?page=process/ [NC,L] 
```

# objective-c - 何时何地从任意消息返回值初始化外部变量？

> ID：14152376
> 
> 赞同：0
> 
> 时间：2013-01-04T06:40:48.190
> 
> 标签：objective-c, cocoa, variables, initialization, extern

我正在处理的项目存储一些像这样的常量字符串：(.
h)

```
extern NSURL *kURLLocationComputer; 
```

我需要将它们初始化如下：（.
mm）

```
NSURL *kURLLocationComputer;

... {
      kURLLocationComputer = [[NSURL alloc] initWithString:@"computer:///"];
... } 
```

问题是它们在项目的许多不同的地方被使用，并且它们需要首先被初始化。但是由于一些初始化很复杂（不是恒定的），它们不能内联完成。

**我应该如何确保它们在使用前被初始化？**我正在考虑添加一个虚拟类并初始化 中的变量`+load`，但我认为不允许有人假设 Cocoa 库类在那时正在工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:18:30.203

经过一些研究，事实证明，**`__attribute__((constructor))`函数**保证在`+load`所有类调用后被调用。从 NSObject 文档中`+load`：

> 消息被发送到动态加载和静态链接的`load`类和类别，但前提是新加载的类或类别实现了可以响应的方法。
> 
> 初始化顺序如下：
> 
> 1.  您链接到的任何框架中的所有初始化程序。
> 2.  图像中的所有`+load`方法。
> 3.  映像中的所有 C++ 静态初始化程序和 C/C++`__attribute__(constructor)`函数。
> 4.  链接到您的框架中的所有初始化程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:53:22.610

你为什么不去单例类/共享实例。

这可以在整个过程中用作全局变量。

# ruby-on-rails - Ruby on Rails 中的一个简单博客无法按预期工作

> ID：14152377
> 
> 赞同：0
> 
> 时间：2013-01-04T06:40:53.227
> 
> 标签：ruby-on-rails

我正在尝试在 RoR 中设计一个简单的博客，但结果不是我所期望的。它只涉及两个表，一个 Post 表和一个 Comments 表。

我`has_many :comments`在**Post 模型**和**评论模型**`belongs_to :Post`中放了一个

 **在后期展示模板中，我有以下内容：

```
<p id="notice"><%= notice %></p>

<h1>
  <%= @post.title %>
</h1>
<p>
  <%= @post.body %>
</p>

<h2>Comments</h2>
<% @post.comments.each do |comment| %>
  <p><%= comment.comment %></p>
  <p><%= time_ago_in_words comment.created_at %> ago </p>
<% end %>

<%= form_for(@post.comments.create) do |f| %>
  <div class="field">
    <%= f.text_area :comment %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %> 
```

在评论控制器中，我有以下内容：

```
def create
    @post = Post.find(params[:post_id])
    @comment = @post.comments.build(params[:comment])
    @comment.save
    redirect_to @post
end 
```

我的问题是，当我创建关联的评论时，页面会重定向到评论页面，而我希望它重定向到我评论的帖子。我做错了什么？

我的环境在 MacOs 10.8.2 RoR - 3.2.10 Ruby 1.9.3p362

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:43:34.323

在帖子的显示页面中

```
def show
 @post = Post.find(params[:id]
 @comment = @post.comments.new
end

In View
<%= form_for([@post,@comment])... %>

Routes File Contain 
resources :posts do
  resources :comments
end 
```

现在您的评论控制器在创建操作中有 post_id

```
CommentsController < ...
before_filter :load_post
def create
  @comment = @post.comments.new(params[:comment])
  .....
end

private
def load_post
 @post = Post.find(params[:post_id]
end 
```

`@post.comments.create`将创建实际的评论对象，尽管您不想在每次显示页面点击时创建评论，**

# html - 如何自定义引导侧边栏/sidenav？

> ID：14152378
> 
> 赞同：4
> 
> 时间：2013-01-04T06:40:56.083
> 
> 标签：html, css, web-applications, twitter-bootstrap

我需要使用 Twitter Bootstrap 边栏在我的 Web 应用程序中创建菜单。（以红色突出显示）。 ![在此处输入图像描述](../Images/718cfea9bafaeb9d15f43951e3f9df9f.png)

创建如下所示的菜单。![在此处输入图像描述](../Images/08a6a016c78c578ce87211ff4ad0feb6.png)

顶部项目有一个下拉菜单，如 mage 所示。菜单中的下一个项目应该在这个下面。但这就是我使用css时得到的。

![在此处输入图像描述](../Images/5b353c2a73b03a9d589df7ca21f97661.png)

菜单项相互重叠。

这是**引导代码：**

```
<div class="span3 bs-docs-sidebar">
    <ul class="nav nav-list bs-docs-sidenav affix">
      <li class="active"><a href="#dropdowns"><i class="icon-chevron-right"></i> Dropdowns</a></li>
      <li class=""><a href="#buttonGroups"><i class="icon-chevron-right"></i> Button groups</a></li>
      <li><a href="#buttonDropdowns"><i class="icon-chevron-right"></i> Button dropdowns</a></li>
      <li><a href="#navs"><i class="icon-chevron-right"></i> Navs</a></li>
      <li><a href="#navbar"><i class="icon-chevron-right"></i> Navbar</a></li>
      <li><a href="#breadcrumbs"><i class="icon-chevron-right"></i> Breadcrumbs</a></li>
      <li><a href="#pagination"><i class="icon-chevron-right"></i> Pagination</a></li>
      <li><a href="#labels-badges"><i class="icon-chevron-right"></i> Labels and badges</a></li>
      <li><a href="#typography"><i class="icon-chevron-right"></i> Typography</a></li>
      <li><a href="#thumbnails"><i class="icon-chevron-right"></i> Thumbnails</a></li>
      <li><a href="#alerts"><i class="icon-chevron-right"></i> Alerts</a></li>
      <li><a href="#progress"><i class="icon-chevron-right"></i> Progress bars</a></li>
      <li><a href="#media"><i class="icon-chevron-right"></i> Media object</a></li>
      <li><a href="#misc"><i class="icon-chevron-right"></i> Misc</a></li>
    </ul>
  </div> 
```

这是**我的代码：**

```
 <div class="span3 bs-docs-sidebar">
    <ul class="nav nav-list bs-docs-sidenav affix">
        <li> <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                <i class="icon-user"></i>dany
                <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
                <li><a id="logout" href="#">Sign Out</a></li>
            </ul>
        </li>
    </ul>
</div>
<div class="span3 bs-docs-sidebar">
    <ul class="nav nav-list bs-docs-sidenav `affix`">
        <li><a href="#approval" id="approval"></i>Approval Requests</a></li>
        <li><a href="#setting" id="setting"></i>Settings</a></li>
    </ul>
</div> 
```

`bs-docs-sidenav`引导程序中设置位置的 css类是`affix`我相信的。twitter bootstrap 的 docs.css 的 css 是[这个](http://twitter.github.com/bootstrap/assets/css/docs.css)

请任何人尽快帮助解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T19:52:05.093

您已经创建了 span3 bs-docs-sidebar 的两个 div，因此您可以看到并行的侧边栏。如果您想将菜单“dany”固定在顶部，那么最好将它们放在顶部栏上`<div class="navbar navbar-inverse navbar-fixed-top">`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T10:08:04.313

您`span3`在两个菜单上都使用。这意味着第二个菜单将放置在右侧的下一个网格上，而不是第一个菜单的下方。

我相信你应该这样开始——

```
<div class="span3 bs-docs-sidebar">
    <ul class="nav nav-list bs-docs-sidenav affix">
        <li> <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                <i class="icon-user"></i>dany
                <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
                <li><a id="logout" href="#">Sign Out</a></li>
            </ul>
        </li>
    </ul>

    <ul class="nav nav-list bs-docs-sidenav affix">
        <li><a href="#approval" id="approval"></i>Approval Requests</a></li>
        <li><a href="#setting" id="setting"></i>Settings</a></li>
    </ul>
</div> 
```

现在在第二个菜单上应用一些 CSS，例如

`<ul class="nav nav-list bs-docs-sidenav affix" style="top: 200px;">`

# qt - 如何在 QML 中传递信号和创建连接

> ID：14152379
> 
> 赞同：3
> 
> 时间：2013-01-04T06:41:01.597
> 
> 标签：qt, qml

我想将信号从一个 qml 文件传递​​到另一个 qml 文件。这样当它收到信号时，我可以使另一个文件可见 这是我的 main.qml

```
import QtQuick 1.1

Rectangle{
    id:main
    width:480
    height:272
    gradient: Gradient {
        GradientStop { position: 0.0; color: "light blue" }
        GradientStop { position: 1.0; color: "blue" }
    }
    Welcome{
        id:welcomePage
        width:parent.width
        height:parent.height
        visible:true
    }
    LoginPage{
        id:login
        width:parent.width
        height:parent.height
        visible:false
    }
    Connections{
        ignoreUnknownSignals: true
        onsigLogin:{welcomePage.visible=false
            login.visible=true
        }

    }

} 
```

这是我的welcome.qml

```
import QtQuick 1.1

Rectangle{
    id:welcome
    width:480
    height:272
    signal sigLogin()

    gradient: Gradient {
        GradientStop { position: 0.0; color: "light blue" }
        GradientStop { position: 1.0; color: "blue" }
    }
    Text{
        text:"\n\t\tPRESS ENTER"
        font.bold:true
        font.pointSize: 17
    }
    Button {
        id: wel
        height:30;
        x:parent.width/2-30
        y:parent.height/2-30
        focus:true
        border.color:"black"
        opacity: activeFocus ? 1.0 : 0.5
        Text{
        text:"WELCOME"
            anchors.horizontalCenter:wel.horizontalCenter;
            anchors.verticalCenter:wel.verticalCenter;
        }
        Keys.onReturnPressed: {
            wel.focus=false
            welcome.sigLogin()
        }
    }
} 
```

当我运行它时，我收到以下错误

```
file:///home/sakshi/try1/main.qml:24:9: Cannot assign to non-existent property    "onsigLogin" 
         onsigLogin:{welcomePage.visible=false 
         ^ 
```

谁能建议我如何从一个文件传递信号以及在收到该信号时如何进行更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T06:56:19.733

我得到了我的问题的答案。我不知道这是否正确，但是通过这样做，我的代码正在运行，我只是将 onsigLogin 移到了欢迎块中，如下所示

```
Welcome{id:welcomePage
    width:parent.width
    height:parent.height
    visible:true
    onSigLogin: {
        visible=false
        login.visible=true
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-03T23:39:54.557

简单的答案是您使用`Connections`错误。从[文档中](http://doc.qt.io/qt-5/qml-qtqml-connections.html#target-prop)：

> 目标：对象
> 
> 此属性保存发送信号的对象。
> 
> 如果未设置此属性，**则目标默认为 Connection 的父级。**
> 
> 如果设置为 null，则不建立连接并且忽略任何信号处理程序，直到目标不为 null。

因此，在您的情况下，目标默认为，`main`因为它是`Connections`对象的父级。只需像这样修改您的代码：

```
Connections {
    target: welcomePage  // this is the critical part!
    ignoreUnknownSignals: true
    onSigLogin: {  // note capitalization of on*S*igLogin
        welcomePage.visible = false
        login.visible = true
    }
} 
```

足以使其按预期工作，因为`welcomePage`是产生信号的那个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-12-09T02:29:35.100

## 不要调用其他对象、发出信号或绑定

当您忘记命令式代码时，像 QML 这样的声明性语言非常有用。将此模式用于您需要的任何元素：

```
ElementOne{
    id: first
    width:parent.width
    height:parent.height
    visible: !second.loggedIn // <- Beautiful binding
}
ElementTwo{
    id: second
    width:parent.width
    height:parent.height
    property bool loggedIn: false // Internal to the ElementTwo.qml
    visible: true
} 
```

然后你的第二个元素可以改变它自己的`loggedIn`属性，Welcome 可以自动做出反应。**这使得组件可重用并避免到处乱分配sagetti 属性**。QML 危险地太简单了。

您可以使用其他模式，例如`States`，但主要避免 QML 中的命令式代码。

# django - Django 应用程序中的内存管理

> ID：14152383
> 
> 赞同：1
> 
> 时间：2013-01-04T06:41:34.520
> 
> 标签：django, memory-management

我在[Webfaction](http://www.webfaction.com/services/hosting)和[AWS EC2 微实例](http://aws.amazon.com/ec2/instance-types/)（613MB 的 RAM）服务器上运行 Django 应用程序。从过去的 2-3 个月开始，我面临内存超出限制的问题（目前只有 4-5 个用户在使用此应用程序）。由于内存超出限制，MySQL 和 APACHE 进程被杀死。我已采取以下步骤来减少内存消耗-

1.  删除了“.all()”django 查询。
2.  交换空间 1.5 GB。
3.  Apache 配置更改为：
    *   启动服务器 4
    *   MinSpareServers 2
    *   MaxSpareServers 4
    *   最大客户数 7
    *   服务器限制 7
    *   MaxRequestsPerChild 0
4.  MySQL -> my.cnf 更改为：
    *   慢查询日志=1
    *   最大连接数=45
    *   query_cache_size=16M
    *   表缓存=128
    *   tmp_table_size=32M
    *   max_heap_table_size=33554432
5.  安装“Dozer”以查找内存泄漏（未报告任何问题）。

有人请告诉我，还有什么办法可以减少内存消耗。还让我知道，我如何跟踪 django 过滤器查询所花费的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:31:54.323

你已经使用了`django-debug-toolbar`吗？它可以帮助您跟踪长时间或不需要的查询——这是针对本地环境的。

对于托管应用程序，请确保您已`DEBUG`设置为`False`. 启用调试模式后，Django 会跟踪所有无限查询。

如果它不能帮助搜索包含大数据结构的全局/类属性并将它们移动到缓存/数据库。

还要确保不要对视图/表单中的长列表进行排序或遍历非常长的查询集，因为所有这些都在实例中进入内存。尝试小批量进行。

# python - 将变量分配给`g`一次且仅一次用于Flask中的应用程序

> ID：14152384
> 
> 赞同：6
> 
> 时间：2013-01-04T06:41:34.660
> 
> 标签：python, web, flask

我想保存一个对象，它是昂贵函数的结果。昂贵的功能只应在任何请求之前处理一次。

我检查了 Flask 的文档并考虑`g`保存结果和`@app.before_first_request`装饰器来定义这个分配只发生一次。

我的代码是这样的：

```
@app.before_first_request
def before_first_request():
    g.rec = take_long_time_to_do()

@app.route('/test/')
def test():
    return render_template('index.html',var_rec=g.rec) 
```

但是，这些代码无法正常工作。它仅在第一次`test`调用请求时起作用。当我第二次访问“myapplication/test”时，`g.rec`不存在，这将引发异常

有没有人知道如何`g`在启动应用程序时分配一个全局变量？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T06:52:31.823

`g`只是该请求的全局对象。您是否考虑过使用缓存机制？

```
> pip search flask | grep "cache" | sort
Flask-Cache               - Adds cache support to your Flask application
Flask-Cache-PyLibMC       - PyLibMC cache for Flask-Cache, supports multiple operations
Flask-Memsessions         - A simple extension to drop in memcached session support for Flask. 
```

然后你可以存储那里的结果`take_long_time_to_do()`并在它存在时检索它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T15:16:15.917

您可以尝试将该函数调用放入`__init__.py`您的项目包中吗？我通常`__init__.py`用来初始化`app = Flask(__name__)`等。所以可以说你可以尝试以下方法：

```
# __init__.py:

from flask import Flask
from somemodule import take_long_time_to_do
app = Flask(__name__)
rec = take_long_time_to_do() 
```

然后，您可以`rec`在任何视图中使用该变量，只要您导入它：

```
# views.py

from myproject import rec
@app.route('/test/')
def test():
    return render_template('index.html',var_rec=rec) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-09T21:00:14.070

缓存是通常的方法。但是假设您有一个一次性值并且由于某种原因不想引入缓存基础架构（值不会超时），您也可以在应用程序启动时将其计算为全局模块，使用它和/或导入它在需要的地方。

如果模板中需要该值：

*   [通过上下文处理器](http://flask.pocoo.org/docs/latest/templating/#context-processors)将其添加到模板中。
*   在应用初始化之前将其添加到配置模块中。

# java - 使用java在pdf上插入评论

> ID：14152385
> 
> 赞同：-2
> 
> 时间：2013-01-04T06:41:36.273
> 
> 标签：java

我想使用 java 在现有 pdf 文件中插入特定文本的便笺。我必须搜索 pdf 中的所有特定单词并将其标记为注释。当我将鼠标悬停在评论上时，应该显示存储的单词。

谁可以帮我这个事..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:54:09.923

看看[iText](http://itextpdf.com)。您可以在 PDF中添加[注释。](http://api.itextpdf.com/itext/com/itextpdf/text/Annotation.html)

# python - 在 Django 模板中创建年份下拉列表

> ID：14152389
> 
> 赞同：2
> 
> 时间：2013-01-04T06:41:48.543
> 
> 标签：python, django, django-templates

我想在 django 模板中创建一个年份下拉列表。下拉列表将包含作为 2011 年的开始年份，结束年份应该是从当前年份算起的 5 年。

例如：如果今天我看到 dropdwon，它将显示从 2011、2012、2013、...2017 年的年份。

这可以通过从views.py 发送一个列表并在模板中循环或在forms.py 中定义来完成。

但我不想在这里使用任何形式。我只需要在模板中显示它。

我怎样才能在 Django 模板中做到这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T07:01:58.847

在你的`models.py`...

```
import datetime

year_dropdown = []
for y in range(2011, (datetime.datetime.now().year + 5)):
    year_dropdown.append((y, y)) 
```

因此，您的字段现在可以使用`year_dropdown`：

```
year = models.IntegerField(_('year'), max_length=4, choices=year_dropdown, default=datetime.datetime.now().year) 
```

它将当前年份设置为默认值。

如果您想要的只是模板中的值，请执行以下操作...

```
<select id="year">
{% for y in range(2011, (datetime.datetime.now().year + 5)) %}
    <option value="{{ y }}">{{ y }}</option>
{% endfor %}
</select> 
```

有关更多详细信息，请阅读[Django 模板语言文档](https://docs.djangoproject.com/en/dev/topics/templates/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:01:30.500

如果您想要的只是年份本身的下拉列表，您可以按照@Nick 或@Ian 的建议进行操作。如果您想要一些日历类型功能（日期选择器），您可以查看[JQuery UI DatePicker](http://jqueryui.com/datepicker/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:55:54.757

```
<select name="select_year">
<option>2011</option>
<option>2012</option>
<option>2013</option>
<option>2014</option>
<option>2015</option>
<option>2016</option>
<option>2017</option>
</select> 
```

把它放在你的模板文件中......如果你想做一个动态的年份范围，你需要制作自己的模板标签

这个线程有几个实现范围类型功能作为模板标签的答案

[Django模板中的数字for循环](https://stackoverflow.com/questions/1107737/numeric-for-loop-in-django-templates)

使用 javascript 解决方案可能是动态设置范围的最简单方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:03:17.833

这就是我喜欢这样做的方式。

模型.py：

```
YEAR_CHOICES = []
for r in range(2011, (datetime.datetime.now().year+5)):
    YEAR_CHOICES.append((r,r))

year = models.IntegerField(('year'), max_length=4, choices=YEAR_CHOICES, default=datetime.datetime.now().year) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T07:09:22.110

我建议在客户端使用 Javascript 或 jQuery 来根据当前年份填充下拉列表。

# haskell - Haskell - 模棱两可的类型变量

> ID：14152391
> 
> 赞同：2
> 
> 时间：2013-01-04T06:42:05.743
> 
> 标签：haskell

我在 Haskell 中遇到了模棱两可的类型问题。我从以下内容开始：

```
module GameState
( GameState(..)
, GameStateMonad
, module Control.Monad.Trans
, module Control.Monad.Trans.State.Lazy
, Blank(..)
) where

import Control.Monad.Trans
import Control.Monad.Trans.State.Lazy

type GameStateMonad a b = StateT a IO b

class GameState a where
    update :: Double -> GameStateMonad a ()
    update deltaTime = return ()

    draw :: GameStateMonad a ()
    draw = return ()

    getNextState :: GameState b => GameStateMonad a (Maybe b)
    getNextState = return Nothing

    isStateFinished :: GameStateMonad a Bool
    isStateFinished = return True

-- This is just a dummy data and instance declaration to demonstrate the error
data Blank = Blank
instance GameState Blank 
```

然后当我尝试在 ghci 中运行以下命令时：

```
runStateT getNextState Blank 
```

我得到：

```
Ambiguous type variable `b0' in the constraint:
  (GameState b0) arising from a use of `getNextState'
Probable fix: add a type signature that fixes these type variable(s)
... 
```

我认为这是在抱怨我的 getNextState 函数的默认实现没有指定具体类型，所以我尝试了以下方法：

```
getNextState :: GameState b => GameStateMonad a (Maybe b)
getNextState = return (Nothing :: Maybe Blank) 
```

不幸的是，我在编译时遇到了这个错误：

```
Could not deduce (b ~ Blank)
from the context (GameState a)
  bound by the class declaration for `GameState'
  at GameState.hs:(14,1)-(25,33)
or from (GameState b)
  bound by the type signature for
             getNextState :: GameState b => GameStateMonad a (Maybe b)
  at GameState.hs:22:5-50
  `b' is a rigid type variable bound by
      the type signature for
        getNextState :: GameState b => GameStateMonad a (Maybe b)
      at GameState.hs:22:5
... 
```

但是我发现在调用 getNext 状态时添加类型签名可以让代码运行：

```
runStateT (getNextState :: GameStateMonad Blank (Maybe Blank)) Blank 
```

不幸的是，这阻止了我编写通用代码来处理游戏状态。这对我来说也没什么意义。如果在返回后必须给它一个显式类型，那么返回多态类型有什么意义？原来的问题也让我很困惑，因为我可以制作如下函数：

```
test :: Num a => Maybe a
test = Nothing 
```

并且运行它没有问题。这不应该抱怨像我的原始代码这样的模棱两可的类型吗？同样，当给返回值一个显式类型时，我无法编译它，就像以前一样：

```
test :: Num a => Maybe a
test = Nothing :: Maybe Int 
```

我不明白为什么这是一个问题。Int 是 Num 类型的实例，因此函数的类型是正确的。

我有四个问题：

1.  为什么在返回类型类的元素时给出显式类型会导致编译错误？

2.  为什么在 getNextState 内部返回一个模棱两可的 Maybe 值会导致错误，但在 test 内部却不会？

3.  为什么在没有我对返回的多态数据调用函数的情况下会发生此错误，如此[处](https://stackoverflow.com/a/8682453/1470715)所述？

4.  在[上面的链接](https://stackoverflow.com/a/8682453/1470715)中，答案提到“[你得到这个错误]因为你有一些产生多态结果的东西，然后应用一个函数，该函数接受一个多态参数到该结果，这样中间值的类型是未知的”。这不是意味着返回多态结果的函数本质上是无用的吗？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T08:23:54.187

[Cat Plus Plus](https://stackoverflow.com/users/16102/cat-plus-plus)已经解释了原因

```
getNextState :: GameState b => GameStateMonad a (Maybe b)
getNextState = return (Nothing :: Maybe Blank) 
```

不工作，所以我可以短。类型签名承诺`getNextState`可以为*调用者要求*`Maybe b`的*任何类型`b`*提供类型值。如果函数具有多态返回类型，则由函数的调用者决定它应返回的类型。所以签名承诺“任何你想要的，只要它是一个`GameState`实例”，但实现说“不，我不在乎你点了什么，我返回一个`Blank`”。

```
Ambiguous type variable `b0' in the constraint:
  (GameState b0) arising from a use of `getNextState'
Probable fix: add a type signature that fixes these type variable(s) 
```

从打字

```
runStateT getNextState Blank 
```

在 ghci 提示符下。如果你问 ghci 的类型，它会告诉你

```
runStateT getNextState Blank :: GameState b => IO (Maybe b) 
```

（不保证类型变量的选择）。但是没有上下文，所以 ghci 不知道要实例化哪种类型`b`。所以它不知道应该调用*哪个*实现`getNextState`[或者，如果我们查看 GHC 的类型类实现，它应该传递哪个字典]。它无法解决这种歧义，所以它会告诉你它并建议你如何解决它。

```
test :: Num a => Maybe a
test = Nothing 
```

是的，当您`test`在 ghci 提示符下键入时，这原则上是相同的问题。但是，当涉及到一个数值类时（其中歧义最常见，文字已经歧义），并且所有涉及的约束都很简单，并且涉及 Prelude 或标准库的类，则有解决歧义类型变量的[特殊规则。](http://www.haskell.org/onlinereport/haskell2010/haskellch4.html#x10-790004.3.4)在这种情况下，默认情况下会实例化模棱两可的类型变量，因此 ghci 会选择实例化`a`并`Integer`打印`Nothing`type `Maybe Integer`。

您的`GameState`课程不可默认，这就是这些示例之间的区别。

> 为什么在没有我对返回的多态数据调用函数的情况下会发生此错误，如此[处](https://stackoverflow.com/a/8682453/1470715)所述？

*因为*您没有调用任何确定类型的函数。如果你有一个类型的函数

```
foo :: Blank -> Int 
```

并输入

```
runStateT getNextState Blank >>= print . maybe 0 foo 
```

的使用`foo`将决定`b`一切都会膨胀。

但是，如果您调用多态函数（无法从其结果类型推断其参数类型），则问题不会得到解决，而是会加剧，如链接示例中所示。那么二义性类型就再也无法从外部到达，也永远无法解决。那么唯一的方法是提供一个类型签名来解决歧义。

> 这不是意味着返回多态结果的函数本质上是无用的吗？

哦不，它们非常有用。看`read`, 或者`fromInteger`, `realToFrac`, ...

关键是，它们的使用类型必须以某种方式确定它们的使用位置。大部分时间由调用上下文完成，但有时需要显式类型签名。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T07:15:16.897

我不确定你想通过创建`GameState`一个类型类来实现什么。您可能在这里过于关注 OOP 思维——类型类不是 OOP 类。一组游戏状态可能会被关闭，因此将其设为单个 ADT 可能更有意义。

> 为什么在返回类型类的元素时给出显式类型会导致编译错误？

查看您的函数的签名：`GameState b => GameStateMonad a (Maybe b)`. 现在记住这意味着`forall b. GameState b => GameStateMonad a (Maybe b)`。

函数的实现不能决定是什么`b`——它必须对*所有*函数都有效（只要它们符合约束条件），因为它由*调用者*决定。

这就是为什么`return (Nothing :: Maybe Blank)`是一个错误——它并不适用于*所有*类型`b`——它只适用于`Blank`. “无法推断`(b ~ Blank)`”意味着 GHC 无法在这里证明类型相等。同样的事情`Nothing :: Maybe Int`。这也是在调用站点中添加类型签名有效的原因。

稍后我可能会写一些关于歧义的东西。我仍然很确定您无论如何都过度设计了这段代码，所以解决方案是不要这样做。

# android - 可绘制的警报对话框

> ID：14152393
> 
> 赞同：-4
> 
> 时间：2013-01-04T06:42:07.377
> 
> 标签：android, android-alertdialog, android-menu

我已经有`onOptionsItemSelected(MenuItem item)`一个*提交*按钮。

在里面

```
switch(item.getItemId()){
case R.id.submit: 
```

我想要一个警报对话框。我该怎么做。此*提交*是 res>drawable 文件夹中图像的 id。那么如何为此添加警报对话框呢？

总结：我想要确认单击的提交按钮。如果*是*，我想调用该`submitDefects();`函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:57:57.120

```
public boolean onOptionsItemSelected (MenuItem item)
 {
 switch(item.getItemId()){
 case R.id.submit:
  AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);

    // Setting Dialog Title
    alertDialog.setTitle("TITLE");

    // Setting Dialog Message
    alertDialog.setMessage("Are you sure you want delete this?");

    // Setting Icon to Dialog
    alertDialog.setIcon(R.drawable.delete);

    // Setting Positive "Yes" Button
    alertDialog.setPositiveButton("YES", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog,int which) {

        // Write your code here to invoke YES event
        Toast.makeText(getApplicationContext(), "You clicked on YES", Toast.LENGTH_SHORT).show();
                     submitDefects();
        }
    });

    // Setting Negative "NO" Button
    alertDialog.setNegativeButton("NO", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int which) {
        // Write your code here to invoke NO event
        Toast.makeText(getApplicationContext(), "You clicked on NO", Toast.LENGTH_SHORT).show();
        dialog.cancel();
        }
    });

    // Showing Alert Message
    alertDialog.show();
            return true;
        }
    } 
```

# objective-c - AFNetworking - 保存下载的文件

> ID：14152397
> 
> 赞同：6
> 
> 时间：2013-01-04T06:42:36.267
> 
> 标签：objective-c, ios, download, afnetworking

我正在使用 AFNetworking 并且可以成功下载文件。

在下载结束时，它不会出现在我设置的目录中。

我做了一些搜索，在 SO 上遇到了一些问题，建议我使用：

```
[_operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) { 
```

但这会出现一个错误，据我所知，他们的文档中没有提到。

错误是：

> /Users/Jeff/Documents/Dropbox-01/Dropbox/Xcode Projects/Try Outs - JEFF/testDownload/testDownload/JWKDownloadViewController.m:177:10: 'AFURLConnectionOperation' 没有可见的@interface 声明选择器'setCompletionBlockWithSuccess:failure:'

**我需要使用更新的线路吗？？？**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T06:47:50.283

```
 NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@"..."]];
AFHTTPRequestOperation *operation = [[[AFHTTPRequestOperation alloc] initWithRequest:request] autorelease];

NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *path = [[paths objectAtIndex:0] stringByAppendingPathComponent:@"filename"];
operation.outputStream = [NSOutputStream outputStreamToFileAtPath:path append:NO];

[operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {
    NSLog(@"Successfully downloaded file to %@", path);
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
    NSLog(@"Error: %@", error);
}];

[operation start]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T06:47:54.573

是的，请确保您使用了正确的路径`NSOutputStream`

添加这个：

```
[_operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {
NSLog(@"Successfully downloaded file");
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
  NSLog(@"Error: %@", error);
}];
[_operation start]; 
```

# oracle - 如何在 oracle ADF 中填充 selectOneChoice 控件？

> ID：14152398
> 
> 赞同：0
> 
> 时间：2013-01-04T06:42:40.133
> 
> 标签：oracle, plsql, oracle-adf, oracle-fusion-middleware, oracle-fusion-apps

我正在使用一个有一个`IN param(VARCHAR)`和一个的过程`OUT param(REF CURSOR)`。我的任务是将其填充`REF CURSOR`到`selectOneChoice`控件中。我可以在 ADF 中调用该过程，但无法填充`REF CURSOR`到`selectOneChoice`控件中。

我的 Jdeveloper 版本是 11.1.1.5.0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T11:05:23.303

只需将光标的结果放入（bean）列表或视图对象中。然后使用该列表填充您的 SOC 或使用视图对象为您生成 SOC。

这里是 bean 方法的一个例子：http: [//sameh-nassar.blogspot.be/2009/11/filling-selectonechoice-from.html](http://sameh-nassar.blogspot.be/2009/11/filling-selectonechoice-from.html)

# javascript - 未使用 Javascript 访问 JSON 文件

> ID：14152399
> 
> 赞同：0
> 
> 时间：2013-01-04T06:42:40.050
> 
> 标签：javascript, json

> **可能重复：**
> [从 localhost 或 file:// 访问 JSON 服务](https://stackoverflow.com/questions/5299674/accessing-json-service-from-localhost-or-file)

```
<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
<script>
$.getJSON('http://game4u.comuf.com/songs.json', function(data) { 

  var output = data.music[0].url; 
  document.getElementById("placeholder").innerHTML = output;

});
</script> 
```

但是当我运行它时，我的 JSON 文件（ music[0].url ）没有显示在浏览器中。我在本地运行 HTML，而不是在与网站相同的服务器上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:45:24.817

> 我在本地运行 HTML，而不是在与网站相同的服务器上。

那将是问题所在。`getJSON`是一个“ajax”调用，并且受[Same Origin Policy](http://en.wikipedia.org/wiki/Same_origin_policy)限制。您的本地文件系统与`http://game4u.comuf.com/songs.json`（尽管一些浏览器将本地文件系统视为匹配*任何*来源；大多数不匹配）的来源不同。

如果您在 处控制内容`http://game4u.comuf.com/songs.json`，则可以使用[JSON-P](http://en.wikipedia.org/wiki/JSONP#JSONP)代替 JSON。JSON-P 围绕 SOP 工作。另一个选项是[Cross-Origin Resource Sharing](http://www.w3.org/TR/access-control/)，它还要求服务器端做一些事情（在这种情况下，授予对源“null”的访问权限）并且还要求您使用支持它的浏览器（所有现代浏览器都这样做，仅限 IE9如果您解决它要求您使用[XDR](http://msdn.microsoft.com/en-gb/library/ie/cc288060%28v=vs.85%29.aspx)而不是[XHR](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest)对象的事实；这是 jQuery 不为您做的事情，尽管有插件可以做）。

* * *

另外，正如 Musa 指出的那样，您的 JSON 无效。如果您更正了 URL 中的反斜杠（它们应该是斜杠 [ `/`]，而不是反斜杠 [ `\`]）并且如果您删除了`,`列表末尾的尾随，这在 JSON 中是无效的，这将是有效的。

# c# - C# 线程应用程序中的错误

> ID：14152400
> 
> 赞同：1
> 
> 时间：2013-01-04T06:42:43.170
> 
> 标签：c#, winforms, multithreading

我创建了4个项目来在线考试时间监控

1.  ASP.NET 申请考试
2.  业务流程和数据访问的类库
3.  类库到数据库执行
4.  用于监控考试时间的 Windows 窗体应用程序

在 Windows 表单应用程序中，我在新考试开始时使用线程进行监控，并且我想在 5 分钟前发出通知以结束考试。

使用 Visual Studio 调试应用程序时，它不会出现任何错误。但手动单击 .exe 文件并运行应用程序，但出现错误“应用程序停止工作”

这是我的 Windows 窗体应用程序代码

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }
    Thread t;
    Thread t1;

    private void Form1_Load(object sender, EventArgs e)
    {

        fillList();           
        CheckForIllegalCrossThreadCalls = false;
        t= new Thread(()=>getTrigger());
        t1 = new Thread(() => TimeOption());
        t.Start();
        t1.Start();
       // getTrigger();
    }

    private  void getTrigger()
    {

        int temp = StudentExamDB.getPendingCount();

        while (true)
        {
            if (temp != StudentExamDB.getPendingCount())
            {
                fillList();
                temp = StudentExamDB.getPendingCount();

            }
        }

    }
    List<string> added = new List<string>();
    private void TimeOption()
    {
        while(true)
        {
            DataTable dt = StudentExamDB.getFinishingList();
            foreach (DataRow dr in dt.Rows)
            {
                try
                {
                    for (int i = 0; i < dataGridView1.Rows.Count; i++)
                    {

                        if (dataGridView1.Rows[i].Cells["enrollmentid"].Value.ToString() == dr["enrollmentid"].ToString())
                        {
                            if (added.Contains(dr["enrollmentid"].ToString()))
                            {
                            }
                            else
                            {
                                notifyIcon1.BalloonTipTitle = "Ending Some Examinations";
                                notifyIcon1.BalloonTipText = "click here to show more details about examination time";
                                notifyIcon1.ShowBalloonTip(5000);

                                added.Add(dr["enrollmentid"].ToString());

                            }
                            dataGridView1.Rows[i].DefaultCellStyle.BackColor = Color.Tomato;
                            dataGridView1.Rows[i].DefaultCellStyle.ForeColor = Color.White;

                        }
                    }
                }
                catch
                {
                }
            }
        }            
    }

    private void fillList()
    {
        try
        {
            dataGridView1.DataSource = StudentExamDB.getPendingList();
        }
        catch
        {
        }            
    }

    private void Form1_FormClosing(object sender, FormClosingEventArgs e)
    {
        t.Abort();
        t1.Abort();
    }

    private void setToFinishedToolStripMenuItem_Click(object sender, EventArgs e)
    {
        try
        {
            StudentExamDB.updateStatus(int.Parse(dataGridView1.CurrentRow.Cells["enrollmentid"].Value.ToString()));
            fillList();

        }
        catch
        {
        }
    }       
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:53:46.913

你知道这是做什么的吗？

```
CheckForIllegalCrossThreadCalls = false; 
```

您*明确*关闭检查您做错了什么。这表明您*知道*您不应该在非 UI 线程上修改 UI，但无论如何您都在这样做。如果您没有那行代码，那么在 Visual Studio 中运行时肯定*会*出现异常。

这至少*是*问题之一。您的`TimeOption`方法在非 UI 线程上运行，但它正在修改 UI。只是不要那样做。还有各种其他选项，包括`BackgroundWorker`和`Control.Invoke/BeginInvoke`。

然后...

*   您在`TimeOption`和中都有紧密的循环`getTrigger`。基本上，您将永远用力地敲击数据库。这真是个坏主意。您*至少应该在*迭代之间有延迟
*   你`catch`到处都是空块：`catch {}`。这基本上是在声称无论出了什么问题，你都很好——你可以继续前进并忽略它，甚至不需要记录发生的事情。不要那样做。
*   你`Thread.Abort`用来杀死你的线程。不要那样做。在这种情况下，使用 volatile`bool`字段指示您想要完成的时间会非常简单，并在循环的每次迭代中检查它。

我*怀疑*这些问题是由于您从不同的线程对 UI 的访问不当造成的——但我不能肯定地说。修复上述所有问题，您将拥有一个更好的代码库，然后诊断仍然存在的任何问题。

# iphone - 我如何在 TableViewCell 中实现这一点

> ID：14152408
> 
> 赞同：0
> 
> 时间：2013-01-04T06:43:33.337
> 
> 标签：iphone, ios, uitableview

见下图，它有 - TableView 和 tablecell 具有相同的背景图像 ietableview 和 tablecell 不能看起来不同。在 tableCell 中必须有一个按钮。
![在此处输入图像描述](../Images/b6b7b44732e9a9e3e4a2d4c89d0198a8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:49:46.547

为此，您必须创建一个自定义的 UITableViewCell。

1.  您的单元格需要 4 张背景图片。

    一个。图像向右。湾。翻转图像朝右。C。图像向左。d。翻转图像朝左。

您必须为您的单元格设置备用图像。当您单击单元格时，您需要将该特定单元格的背景图像更改为翻转图像。此外，您还必须相应地管理其余控件的框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:47:24.750

这只是图像。您必须通过传递条件在每个 tableviewcell 中设置图像

```
if(indexpath.row/2 == 0)
    <set_image1>
else
   <set_image2> 
```

然后根据您想要的框架位置调整其他参数。

注意：您需要使用动态表格视图单元高度并且您需要为此提供图像。未选择单元格时为两个，当单元格被选中时休息两个

享受编程！

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-17T08:17:55.647

我这样做的方式如下：我创建了两个具有不同单元标识符的原型单元，例如左单元标识符 = Cell1 和右单元标识符 = Cell2。

只需放置一个圆形矩形按钮，将其设为自定义，因为它仅以图像形状显示，表格单元格背景颜色为 clearColor，它需要因为表格单元格和表格视图的感觉必须看起来相同。

还将 tableView 背景颜色设置为 clearColor 并将图像添加到两个按钮。

```
if ((indexPath.row)%2!=0)
    {
        CellIdentifier=@"Cell1";
    }
    else
    {
        CellIdentifier=@"Cell2";

    }

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    UIButton *topicButton=(UIButton *)[cell viewWithTag:1];

    NSString *topicNameLabel=[_topics objectAtIndex:indexPath.row]; 
```

# axis - jqplot - 不想显示/显示 y 轴

> ID：14152409
> 
> 赞同：6
> 
> 时间：2013-01-04T06:43:34.317
> 
> 标签：axis, show, jqplot

我从很久以前就在使用 jqplot 图表库。

我不想显示 y2axis（即，当我使用多个轴/系列时）浏览了文档，发现“show: false”不会显示轴。

链接在这里：[http ://www.jqplot.com/docs/files/jqplot-core-js.html#Axis.show](http://www.jqplot.com/docs/files/jqplot-core-js.html#Axis.show)

但这似乎不起作用。

任何帮助将不胜感激。提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-01-16T09:32:25.777

解决它。

这就是我所做的。

```
axes: {
    yaxis: {
    tickOptions: {
        show: false
    },
    rendererOptions: {
        drawBaseline: false
    }
} 
```

设置`tickoptions`为`false`，隐藏坐标轴标签，勾选并`drawBaseline: false`隐藏坐标轴。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T19:29:29.290

你只需要指定`showTicks : false`

这是一个没有 yaxis 刻度的工作小提琴的链接：http: [//jsfiddle.net/BLfRe/23/](http://jsfiddle.net/BLfRe/23/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T14:13:59.990

我正在使用 jqplot，在某些情况下我也想隐藏 y2axis。使用`plot1.axes.y2axis.show = false;`似乎完美无缺。

你能把你使用的那段代码找出是什么导致你的麻烦吗？

# javascript - 如何在wan中从客户端机器读取数据文件

> ID：14152412
> 
> 赞同：0
> 
> 时间：2013-01-04T06:44:07.210
> 
> 标签：javascript, html, file-read

有没有办法从客户端浏览器读取文本文件的内容？例如，我想让用户单击一个按钮，将其内容`C:\cmd.txt`放入一个 html 元素中以供查看。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:58:48.763

未经用户同意，这是不可能的（我希望！！！）。网站无法在不询问用户的情况下读取客户端计算机上的文件。想想如果可以的话，它会带来的所有安全风险……

您的解决方案可能是询问用户要打开哪个文件，然后让他们选择 c:\cmd.txt 文件。之后，读取文件很容易。

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-05T07:57:02.400

@Rick van den Bosh 对于您使用本机 HTML 和 javascript 的基本选项是正确的。

唯一的附加选项是 Java 小程序或浏览器插件。但是，您的用户必须足够信任您才能安装您的控件，而精明的用户不会这样做，除非您是 amazon.com 或 cvs.com 等主要网站或某些知名商业企业。

# javascript - 在javascript中显示页面加载gif

> ID：14152414
> 
> 赞同：1
> 
> 时间：2013-01-04T06:44:15.067
> 
> 标签：javascript

我正在使用 dojo.xhrpost 进行 ajax 提交。
需要很长时间才能得到响应。
所以我想显示一个页面加载 gif 直到我得到响应。
同时，我有点想隐藏或降低页面的可见性，以便用户在收到响应之前无法单击页面上的任何内容。
我想将页面加载 gif 覆盖在整个网页上，直到收到响应。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T06:56:17.057

use a div with below css. All you need to do is show/hid this div

```
.overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 100000;
    opacity: 0.6;
    background: black url(http://1.bp.blogspot.com/_xn2gmPb9TfM/SBZwjqwS6MI/AAAAAAAABZw/uMVQlcxlosA/s400/loading-icon.gif) no-repeat center center;
}​ 
```

demo: [http://jsfiddle.net/4k9cH/](http://jsfiddle.net/4k9cH/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:55:38.893

Add a DIV with a specific name (lets say 'loading') that is 100% in width and height and has a (semi) transparent background (image). Add an inner DIV (lets say 'loadingInner') that holds the loading gif. Set the loading DIVs to display: none by default.

Then, when you access external information, show the loading DIVs with jQuery:

```
function showLoading() {
    var loadControl = $("#loading");
    if (loadControl) {
        $("#loadingInner").show();
        $("#loading").show();
    }
} 
```

Hope this helps

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-29T14:15:46.710

希望这也有助于加载图像在 ajax 调用挂起状态期间出现在整个窗口中： [http ://www.edwardawebb.com/web-development/cakephp/disable-page-show-translucent-progress-bar](http://www.edwardawebb.com/web-development/cakephp/disable-page-show-translucent-progress-bar)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T07:04:04.043

当您显示加载 gif 时，将其包装在一个 div 中，该 div 以一些低不透明度覆盖页面。

在您的 dom 中，您可以粘贴类似的东西

```
<div id="overlay"><img src="loading.gif"></div> 
```

风格像

```
position: fixed;
top: 0px;
left: 0px;
height: 100%;
width: 100%;
background-color: white;
opacity: 0.3;
display:none;
z-index: 100; /* should be large enough to be on top of everything */ 
```

然后在 ajax 调用之前，显示 div

```
dojo.query("#overlay").style("display", "block"); 
```

然后当加载成功时，你隐藏它

```
var deferred = dojo.xhrPost({ ..., 
                              load: function() {
                                 dojo.query("#overlay").style("display","none");
                               }
                             }); 
```

我没有在 Dojo 上做太多的工作，但它似乎应该可以工作。如果没有，我敢打赌它真的很接近。

只要您在#overlay div 上没有事件绑定，用户应该无法与页面交互，直到 div 被隐藏。

您可能还想隐藏错误覆盖（检查错误回调），以便如果您的请求失败，至少用户仍然可以访问页面上的内容。

# javascript - 使用 YoutubeAPI 播放 youtube 视频直到特定时间并暂停

> ID：14152415
> 
> 赞同：5
> 
> 时间：2013-01-04T06:44:26.260
> 
> 标签：javascript, api, youtube-javascript-api

有没有办法使用 Youtube API 播放视频，直到视频中的某个点然后暂停它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-04T07:14:59.833

我已经修改了[iframe 嵌入的 YouTube 播放器 API 参考中](https://developers.google.com/youtube/iframe_api_reference)的代码，以在一定秒数后暂停播放。

`[Demo](http://jsfiddle.net/thirdender/hnkK7/737/)`

The code works by waiting for the `onPlayerStateChange` event. When the event fires, it checks the event to see if it's a `PLAYING` event. If it is, it calculates the remaining time from the current time (`getCurrentTime()` method) to the desired pause point (hardcoded as the `stopPlayAt` variable). It sets a Javascript timer to wait that difference and then pass the API a command to pause the video.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-04T06:50:42.203

您可以使用`cueVideoById`对象语法中的命令来实现此目的。

见这里：[https ://developers.google.com/youtube/iframe_api_reference#cueVideoById](https://developers.google.com/youtube/iframe_api_reference#cueVideoById)

这是开始这样的视频的方式。

```
//Minimal Example
player.cueVideoById({videoId:String, endSeconds:Number});
player.playVideo(); 
```

* * *

编辑：上面的示例停止了视频。如果要暂停它，JavaScript 代码需要更多操作。

详细地说，您必须轮询正确的时间。

```
function checkTime() {
   if ( player.getCurrentTime() == finishTime )
      player.pauseVideo()
   else
      setInterval(checkTime, 500);
}

checkTime(); 
```

或者在 JS 中跟踪时间：

```
var duration = finishTime - player.getCurrentTime();
player.playVideo()
setInterval("player.pauseVideo();", duration*1000); 
```

# web-applications - 有没有办法在 Backbone View 中实现权限

> ID：14152420
> 
> 赞同：0
> 
> 时间：2013-01-04T06:45:09.590
> 
> 标签：web-applications, backbone.js, permissions, user-roles

我目前正在研究 Backbone 中的一个大型应用程序。我面临着在表单上实现字段级别权限的挑战。

一种方法是欺骗 require.js 的文本 API，让它从 MVC 控制器获取视图/部分，并在服务器端实现权限。这样，我将获得可以呈现的所需 HTML（因为这将是从服务器返回的编译代码）。

有没有更好的方法在 Backbone 中做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T07:16:19.333

首先，不管你有 Backbone 做什么，你**必须**限制从服务器返回的数据。

例如，如果您有一个`User`对象，`email`其中包含仅对所有者用户可用的敏感字段，则服务器必须负责不将该信息发送给客户端。`email`同样，如果不允许随机用户创建类似的字段，则服务器**必须**过滤或验证客户端提交的数据。

在客户端上，您将希望基于相同的用户权限来控制显示。我将通过关闭敏感数据未从服务器返回的事实或一些专门设置的指示用户权限的标志来做到这一点。

# android - 如何在不使用 xml 代码的情况下从编辑文本中获取值

> ID：14152427
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:45:28.860
> 
> 标签：android, android-layout

我创建了edittext和textview而不使用我在java文件中定义的xml属性但是我无法获取在edittext中输入的值如何获取值。如果用户输入值我有2个edittexts我应该添加值

```
public class JavacodeActivity extends Activity {
    LinearLayout layout;
    TextView view;
    EditText edit;
    Button btn;
    EditText edit1;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        layout=new LinearLayout(this);
        layout.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));
        layout.setOrientation(LinearLayout.VERTICAL);
        view=new TextView(this);
        view.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT));
        view.setText("enter the value");
        view.setGravity(Gravity.CENTER);
        view.setTextColor(Color.BLUE);
        view.setTextSize(20);
        layout.addView(view);

        edit1=new EditText(this);
        edit1.setLayoutParams(new  LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));
        edit1.setHint("enter the number");
        edit1.setGravity(Gravity.CENTER);
        edit1.setTextColor(Color.RED);
        edit1.setTextSize(20);
        edit1.setInputType(InputType.TYPE_CLASS_NUMBER);
        layout.addView(edit1);

        btn=new Button(this);
        btn.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT));
        btn.setText("add");
        btn.setGravity(Gravity.CENTER_HORIZONTAL);
        btn.setTextColor(Color.GREEN);
        btn.setTextSize(20);
        layout.addView(btn);

        view=new TextView(this);
        view.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT));
        view.setText("addition of values");
        view.setGravity(Gravity.CENTER);
        view.setTextColor(Color.BLUE);
        view.setTextSize(20);
        layout.addView(view); 
```

`edittext`如果代码是 java 我无法检索值，我不知道从中检索值的属性。请帮我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:47:35.617

> 如果代码是 java，我不知道从 edittext 检索值的属性我无法检索值

像任何其他 EditText 一样阅读您的 EditText：

```
String text = edit.getText().toString(); 
```

# php - PHP Curl_exec 输出正在被修剪

> ID：14152429
> 
> 赞同：1
> 
> 时间：2013-01-04T06:45:54.950
> 
> 标签：php

我正在访问发送多部分数据的内容服务器。

当服务器响应很小（< 40KB）时，我会在**$response** 字符串中获得完整的响应数据。但是当服务器响应数据很大（> 112KB）时，它会被修剪到 48KB，并且我的整个多部分数据解析都失败了。

我应该怎么做才能在 $response string 中获取整个 112KB 数据？

```
$options = array(
    CURLOPT_RETURNTRANSFER => true,     // return web page
    CURLOPT_HEADER         => false,    // don't return headers
    CURLOPT_FOLLOWLOCATION => true,     // follow redirects
    CURLOPT_ENCODING       => "",       // handle all encodings
    CURLOPT_USERAGENT      => "spider", // who am i
    CURLOPT_AUTOREFERER    => true,     // set referer on redirect
    CURLOPT_MAXREDIRS      => 10,       // stop after 10 redirects
);

$ch = curl_init( $this->url );
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_VERBOSE, 1);
curl_setopt($ch, CURLOPT_HEADER, 1);

curl_setopt($ch, CURLOPT_HTTPHEADER, $arr_param);

$response = curl_exec( $ch );

$err     = curl_errno( $ch );
$errmsg  = curl_error( $ch );
$header  = curl_getinfo( $ch );

parseData($response); 
```

请帮忙，我在这里做错了什么。

# mysql - Mysql多次插入

> ID：14152432
> 
> 赞同：0
> 
> 时间：2013-01-04T06:46:11.010
> 
> 标签：mysql, triggers, insert, row

我想在创建新项目时将项目任务插入表中。我想用触发器来实现这一点，但不知道我是否可以多次使用它们。

这是示例

```
insert into project_tasks(id,name,name2)
select concat('1',left(project.name,5),left(project.id,30)) as id,
'first task','do this'       
from projects where project_type = '1'
`$`limit 1 
```

这是我的问题。

如果 `project type = 2`，我想插入一组值，如果`project type = 3`我想插入另一组值等。

对于某些项目类型，我有六个任务，所以如果我不必做选择来建立关系，我可以做 (1,2,3) (4,5,6) ,(7,8,9)但现在我必须为每个任务做一个插入，所以它会加载所有任务

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:07:37.077

您可以为您尝试解决的每个案例编写一个存储过程，并让触发器决定哪个存储过程适合您的案例。

然而，这是不必要的复杂，并且一旦您获得太多可能的案例/价值组合，就会成为维护的噩梦。就个人而言，我会在应用层解决这种事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:21:15.280

您可以使用额外的表格为每个项目定义任务集。例如

```
project_type - type of project
name1 - predefined string
name2 - predifined string 
```

创建项目后，您可以加载此数据以插入任务表。这允许您更改任务集而不更改应用程序中的基本代码。

我希望你能理解我的主要想法

# java - 我无法在 Webdriver 中使用 Java 保留数值字段中的数值

> ID：14152433
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:46:13.010
> 
> 标签：java, webdriver, selenium-webdriver

我无法在 Webdriver 中使用 Java 保留数值字段中的数值。我已经尝试过 Stackoverfolw 问题中提供的答案 -

[Java：对于字符串值，我们使用命令 sendKeys("String"); 同样，将数字数据发布到数字字段的命令是什么](https://stackoverflow.com/questions/11224822/java-for-string-values-we-use-the-command-sendkeysstring-similarly-what-i/14152347#14152347)

请在我写的答案部分找到更多详细信息。

```
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys(String.valueOf(12345));
Thread.sleep(5000);
new Actions(driver).sendKeys(driver.findElement(By.id(OR.getProperty("AccTax_ID"))), 
"").perform(); 
```

这是一个字段，同样我有更多的数字字段。谁能帮我解决这个问题。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-15T18:25:08.970

不要使用`Thread.sleep();`

首先，您必须启用该元素。然后将值放在该字段上。

尝试这个：

```
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).click();
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys(String.valueOf(12345));
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys(Keys.TAB); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T10:19:09.193

将整数值发送到整数字段与将文本值发送到文本字段相同。

```
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys("12345"); 
```

或者

如果您有任何整数值保存在变量中

```
int value=12345;
driver.findElement(By.id(OR.getProperty("AccTax_ID"))).sendKeys(""+value); 
```

# oracle - 处理 ODI 包中的时间戳（或更改）文件名

> ID：14152438
> 
> 赞同：0
> 
> 时间：2013-01-04T06:46:57.510
> 
> 标签：oracle, etl

我正在努力`Oracle Data Integrator 11g`

我必须创建一个 ODI 包，我需要在其中处理传入文件。文件名不是一个常量字符串，因为它附加了一个时间戳条目，如下所示：`FILTER_DATA_011413.TXT`

由于**MMDDYY**，我无法对包中的文件名进行硬编码。我们现在处理它的方式是，shell 脚本列出目录中的文件，并将文件名加载到表中（使用控制文件）。然后查询该表以获取文件名，并将其传递给存储文件名的变量以进行处理。

我正在寻找任何其他方式，我可以避免使用这个临时表来存储文件名。

有人可以建议我任何替代方案吗？

# ios - “应用程序“xxx”未安装在 iPhone“xxx”上，因为它与此 iPhone 不兼容”

> ID：14152442
> 
> 赞同：6
> 
> 时间：2013-01-04T06:47:22.203
> 
> 标签：ios, xcode, cordova

我将 x 代码 4.4.1 与 cordova 1.7.0 一起使用，我创建了 Ad Hoc IPA 文件并安装在带有 iOS6 的 iPad 上，它工作正常。然后我在带有 iOS 4.2.1 的 iPhone 3gs 中尝试安装时显示错误 - “应用程序 “xxx” 未安装在 iPhone “xxx” 上，因为它与此 iPhone 不兼容”。我使用的部署目标是 4.2。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T08:42:12.553

you might created your project only for `iPad`. If you want to run your `app` in both `iPhone` and `iPad`, you need to create your project as `Universal`. Check your `Targets`, in `Summary` tab whether `Devices` is set to `Universal` or `iPad`.

# c++ - 使 Qmdisubwindow 不可移动

> ID：14152443
> 
> 赞同：0
> 
> 时间：2013-01-04T06:47:23.423
> 
> 标签：c++, qt, mdi

我在 Qt 的 mdi 区域内使用了三种形式。如何确保这些表单不能在 mdi 区域周围拖动/移动？我希望表格处于固定位置。我该如何做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T09:18:37.007

找到了解决方案！

使用

`subWindow1->setMouseTracking((false));`

防止用户移动 mdiarea 内的子窗口。

一个固定的 QWidget 也可以解决这个问题。感谢约翰内斯。

# symfony - Symfony2 + OneToMany - 从数据库读取错误

> ID：14152448
> 
> 赞同：0
> 
> 时间：2013-01-04T06:47:48.413
> 
> 标签：symfony, orm, one-to-many

我正在尝试从数据库中学习读/写数据，但我遇到了一个大问题：

我的实体看起来：

类别：

```
use Doctrine\Common\Collections\ArrayCollection;

/**
 * @ORM\Entity
 * @ORM\Table(name="kategorie")
 */
class Kategorie
{
    /**
     * @ORM\Id
     * @ORM\Column(type="integer")
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $idkategorii;

    /**
     * @ORM\Column(type="string", length=50)
     */
    protected $nazwa;

     /**
     * @ORM\OneToMany(targetEntity="Ogloszenia", mappedBy="ogloszenia")
     */
    protected $ogloszenia; 
```

Ogloszenia：使用 Doctrine\ORM\Mapping 作为 ORM；

```
/**
 * @ORM\Entity
 * @ORM\Table(name="ogloszenia")
 */
class Ogloszenia
{
    /**
     * @ORM\Id
     * @ORM\Column(type="integer")
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id; 

    /**
     * @ORM\Column(type="string",length=100)
     */
    protected $tytul; 

    /**
     * @ORM\Column(type="string", length=120)
     */
    protected $tytul_seo; //tytul bez polskich znaków etc.

    /**
     * @ORM\Column(type="text")
     */
    protected $tresc; //tresc ogloszenia

    /**
     * @ORM\Column(type="string",length=50)
     */
    protected $dodal; //imie osoby ktora dodala ogloszenie

    /**
     * @ORM\Column(type="string", length=50)
     */
    protected $kontakt; //nr tel lub mail

    /**
     * @ORM\ManyToOne(targetEntity="Kategorie", inversedBy="kategoria")
     * @ORM\JoinColumn(name="kategoria", referencedColumnName="idkategorii")
     */
    protected $kategoria; 
```

现在，在我的控制器中，我正在尝试读取所有值：

```
 public function odczytajAction()
    {  
        $id = 1;
        $kategoria = $this->getDoctrine()
                ->getRepository('FrontendOgloszeniaBundle:Kategorie')
                ->find($id);

        $ogl = $kategoria->getOgloszenia();
     foreach($ogl as $o)
     {
         print_r($o);
     }
       return new Response('test odczytu');

    } 
```

不幸的是 symfony2 给了我以下错误

```
 Notice: Undefined index: ogloszenia in /home/sl4sh/public_html/Projekt1/vendor/doctrine/orm/lib/Doctrine/ORM/Persisters/BasicEntityPersister.php line 1574
500 Internal Server Error - ErrorException 
```

那么，请告诉我我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:58:15.277

您有无效的 mappedBy 注释：

```
/**
 * @ORM\OneToMany(targetEntity="Ogloszenia", mappedBy="kategoria")
 */
protected $ogloszenia; 
```

还有反面：

```
/**
 * @ORM\ManyToOne(targetEntity="Kategorie", inversedBy="ogloszenia")
 * @ORM\JoinColumn(name="kategoria", referencedColumnName="idkategorii")
 */
protected $kategoria; 
```

# android - 子浏览器插件与 navigator.app.loadurl

> ID：14152449
> 
> 赞同：2
> 
> 时间：2013-01-04T06:47:50.073
> 
> 标签：android, cordova, phonegap-plugins

我想知道 Childbrowser 插件和 navigator.app.loadurl 之间的主要区别是什么。这两者之间有任何性能差异吗？

据我了解，Childbrowser 插件是 IOS 和 android 的原生插件。还要别的吗

子浏览器：

```
window.plugins.childBrowser.showWebPage("http://www.google.com", { showLocationBar: false }); 
```

航海家：

```
navigator.app.loadUrl('http://www.google.com', { openExternal:true } ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T15:49:52.130

ChildBrowser 插件允许您对浏览器进行更细粒度的控制。例如，当子浏览器中的位置发生变化时，您会收到事件，这对于执行 oauth 之类的操作很有用。

除此之外，Android 上的代码几乎相同，这是唯一支持 navigator.app.loadUrl() 的平台。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-25T04:56:56.617

尝试一下

```
<a href="#" onclick="openUrlInBlankBrowser();" target="_system"  >Link</a>

function openUrlInBlankBrowser()
{
    navigator.app.loadUrl('http://www.google.com', { openExternal:true } ); 
} 
```

# php - 如何在 yii-booster bootstrap 小部件中制作一个 gridView，并在其中一列中显示按钮的弹出窗口

> ID：14152453
> 
> 赞同：3
> 
> 时间：2013-01-04T06:47:58.773
> 
> 标签：php, yii, yii-extensions

我是 Yii 的新手，我需要为 Yii 中的员工详细信息制作一个 gridView，因为我已经按照[http://yii-booster.clevertech.biz/components.html#tables](http://yii-booster.clevertech.biz/components.html#tables)中提到的程序进行操作。我用一些示例数据创建了一个gridView，就像clevertech.biz所做的一样，我成功了。但我的实际要求是制作一个带有弹出窗口的gridView，用于查看和编辑员工详细信息以及删除条目之前的javascript确认。这是我的代码，它创建了一个网格和一个弹出窗口，但每个按钮的操作没有分开，弹出窗口适用于特定列下的整个单元格，而不适用于该单元格中的按钮。谁能帮我解决这个问题？

```
$stu->id = 3;
$stu->name = 'Stu';
$stu->address = 'Dent';
$stu->position = 'SE';
$stu->joinDate = '2012-12-14';
$stu->age = 30;
$stu->phone = 1112226789;

$persons = array($mark, $jacob, $stu);
$gridDataProvider = new CArrayDataProvider($persons);

// $gridColumns
$gridColumns = array(
    array('name'=>'id', 'header'=>'#', 'htmlOptions'=>array('style'=>'width: 60px')),
    array('name'=>'name', 'header'=>'Name'),
    array('name'=>'address', 'header'=>'Address'),
    array('name'=>'position', 'header'=>'Position'),
    array('name'=>'joinDate', 'header'=>'Join Date'),
    array('name'=>'age', 'header'=>'Age'),
    array('name'=>'phone', 'header'=>'Phone'),

    array('header'=>'Options',
        'htmlOptions' => array('data-toggle'=>'modal',
        'data-target'=>'#myModal'),
        'class'=>'bootstrap.widgets.TbButtonColumn',
        'viewButtonUrl'=>null,
        'updateButtonUrl'=>null,
        'deleteButtonUrl'=>null,),

);

$this->widget('bootstrap.widgets.TbExtendedGridView', array(
    'type'=>'bordered',
    'dataProvider'=>$gridDataProvider,
    'template'=>"{items}",
    'columns'=>$gridColumns,
));
?>

 <!-- View Popup  -->
<?php    
$this->beginWidget('bootstrap.widgets.TbModal', array('id'=>'myModal')); ?>

<!-- Popup Header --> 
<div class="modal-header">
<h4>View Employee Details</h4>
</div>

<!-- Popup Content -->
<div class="modal-body">
<p>Employee Details</p>
</div>

<!-- Popup Footer -->
<div class="modal-footer">

<!-- save button -->
<?php  $this->widget('bootstrap.widgets.TbButton', array(
'type'=>'primary',
'label'=>'Save',
'url'=>'#',
'htmlOptions'=>array('data-dismiss'=>'modal'),
));  ?>
<!-- save button end-->

<!-- close button -->
<?php $this->widget('bootstrap.widgets.TbButton', array(
'label'=>'Close',
'url'=>'#',
'htmlOptions'=>array('data-dismiss'=>'modal'),
)); ?>
<!-- close button ends-->
</div>
<?php $this->endWidget(); ?>
<!-- View Popup ends --> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T11:49:55.470

我的专栏有点不同，但我想你会明白的。

您必须以这种方式更改您的 TbButtonColumn ：

```
$this->widget('bootstrap.widgets.TbExtendedGridView', array(
    'type'=>'bordered',
    'dataProvider'=>$model->search(),
    'filter'=>$model,
    'template'=>"{items}",
    'columns'=>array(
        'id',
        'firstName',
        'lastName',
        'language',
        'hours',
        array(
            'header'=>'Options',
            'class'=>'bootstrap.widgets.TbButtonColumn',
            'buttons'=>array(
                'view'=>
                    array(
                        'url'=>'Yii::app()->createUrl("person/view", array("id"=>$data->id))',
                        'options'=>array(
                            'ajax'=>array(
                                'type'=>'POST',
                                'url'=>"js:$(this).attr('href')",
                                'success'=>'function(data) { $("#viewModal .modal-body p").html(data); $("#viewModal").modal(); }'
                            ),
                        ),
                    ),
            ),
        )
    )));
?>

<!-- View Popup  -->
<?php $this->beginWidget('bootstrap.widgets.TbModal', array('id'=>'viewModal')); ?>
<!-- Popup Header -->
<div class="modal-header">
<h4>View Employee Details</h4>
</div>
<!-- Popup Content -->
<div class="modal-body">
<p>Employee Details</p>
</div>
<!-- Popup Footer -->
<div class="modal-footer">

<!-- close button -->
<?php $this->widget('bootstrap.widgets.TbButton', array(
    'label'=>'Close',
    'url'=>'#',
    'htmlOptions'=>array('data-dismiss'=>'modal'),
)); ?>
<!-- close button ends-->
</div>
<?php $this->endWidget(); ?>
<!-- View Popup ends --> 
```

和你的 personController 这样的 actionView：

```
public function actionView($id)
{
    if( Yii::app()->request->isAjaxRequest )
        {
        $this->renderPartial('view',array(
            'model'=>$this->loadModel($id),
        ), false, true);
    }
    else
    {
        $this->render('view',array(
            'model'=>$this->loadModel($id),
        ));
    }
} 
```

然后，你所要做的就是对你的更新做同样的事情。

如果您有任何不明白的地方，请随时提出任何问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-28T03:33:00.323

参考：TbButtonColumn 类文件（TbButtonColumn.php）

@param array $button 可能包含'label'、'url'、'imageUrl'和'options'元素的按钮配置。

```
 array(
                'class'=>'bootstrap.widgets.TbButtonColumn',
                'buttons'=>array(
                        'view'=>array(
                            'visible'=>'true/false',
                            'label'=>'Description',
                            'url'=>'link',
                            'imageUrl'=>'linkImage',
                            'options'=>array(
                            ),
                        ),
                ),
    ), 
```

# html - 我动态添加的脚本去哪里了？

> ID：14152454
> 
> 赞同：3
> 
> 时间：2013-01-04T06:48:00.923
> 
> 标签：html, jquery, dom, html-parsing

我是 Web 开发的新手，我正在尝试了解 DOM 的工作原理。

我有一个带有 2 个按钮和一些文本的基本页面。其中一个按钮调用 Jquery 的 Get 函数。我的服务器也返回了一些带有一些脚本的 html。然后将其添加到我`DIV`的主页上，其中包含`ID`“内容”

请参阅下面的代码。

## 主页

```
<!DOCTYPE html>
<link rel="stylesheet" href="css/toastr.css">  
<html> 
<body>

<h1>My Main Page </h1>

<button class="alertmsg">click me</button>
<button class="addDom" >Call Add HTML</button>

<div id="content">
</div>

</body>
</html>

<script src="js/jquery.js"></script>
<script src="js/toastr.js"></script>
<script>
$(document).ready(function(){

$(".alertmsg").click(function() {
alert("Hello World!");
});

$(".addDom").click(function(){
$.get( '/adddom',
 function (data) {
        // put html into the section
        $("div#content").html(data);
    })
});

});
</script> 
```

## 返回代码

```
<div>
<h1>Added Via $.html</h1>
<button class="showmsg">click me for jquery</button>
</div>

<script>
$(document).ready(function(){
$(".showmsg").click(function(){
toastr.warning( "Test Warning", 'Warning');
});

});
</script> 
```

## 更新的 DOM - 请注意我的新 javascript 没有被看到。

```
<!DOCTYPE html>
<link rel="stylesheet" href="css/toastr.css">  
<html> 
<body>

<h1>My Main Page </h1>

<button class="alertmsg">click me</button>
<button class="addDom" >Call Add HTML</button>

<div id="content">
  <div>
   <h1>Added Via $.html</h1>
   <button class="showmsg">click me for jquery</button>
   </div>  
</div>
</body>
</html>

<script src="js/jquery.js"></script>
<script src="js/toastr.js"></script>
<script>
$(document).ready(function(){

$(".alertmsg").click(function() {
alert("Hello World!");
});

$(".addDom").click(function(){
$.get( '/adddom',
 function (data) {
        // put html into the section
        $("div#content").html(data);
    })
});
});
</script> 
```

我想了解的是；

1) 我的新脚本代码在哪里？

```
<script>
$(document).ready(function(){
   $(".showmsg").click(function(){
   toastr.warning( "Test Warning", 'Warning');
  });
});
</script> 
```

它仅在内存中而不在 DOM 中吗？

2) 我可以得到正确显示的警告，即`$(".showmsg").click` 触发并显示预期的内容。所以我的脚本可以引用 DOM 中需要的现有库。这是如何运作的？

3) 如果我在浏览器中看不到此代码，最好的解决方法是什么？

非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:16:40.240

如果您真的想将脚本附加到您需要使用的 dom 中`appendChild()`not `.html()`。[关于 appendChild 的链接](https://developer.mozilla.org/en-US/docs/DOM/Node.appendChild)

这样做的一个例子是

```
var script = document.createElement( 'script' );
script.type = 'text/javascript';
script.text = 'alert("test");';
$('div')[0].appendChild(script); 
```

这是一个显示这一点的[小提琴。](http://jsfiddle.net/MAnsb/3/)

# asp.net - 在 IIS 7 中为了使 Web 应用程序加速而需要更改的所有基本内容是什么？

> ID：14152460
> 
> 赞同：0
> 
> 时间：2013-01-04T06:48:47.237
> 
> 标签：asp.net, iis, iis-7, windows-server-2008-r2, web-deployment

我们开发了 asp.net（.net 4 框架）Web 应用程序并部署在 Windows Server 2008 上的 IIS 7 中。但是当我们在我的本地机器（即 windowsxp 机器）上的 IIS 5.1 服务器上托管 Web 应用程序时，它似乎工作得更快比部署在 Windows Sever 2008 机器上的一个。

最有可能同时访问 Web 应用程序的用户最多只有大约 50 个......我是否需要更改 IIS7 上的应用程序池中的任何设置。

部署时，我从未更改过 Windows Server 2008 上 IIS 7 中的任何设置。我已使用 Visual Studio 2010 支持进行部署。

我不知道它为什么会这样？

那么，您能否告诉我在 IIS 7 和 Windows Server 2008 中我需要更改哪些基本内容以加速我的 Web 应用程序...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:58:07.663

Increase the worker process number in application pool such that it matches the processor cores (tetra core / penta core) in your windows-server machine so that it could make use of server effectively. But keep in mind, you have to choose `SessionState` other than `In-Proc` in your application if you increase your worker process number.

# android - 在android中手动更改方向并处理ConfingurationChanges

> ID：14152461
> 
> 赞同：0
> 
> 时间：2013-01-04T06:48:53.207
> 
> 标签：android, configuration, orientation

在这里，我为方向纵向和横向开发了一个 android 应用程序。所以我为横向和纵向创建了两个布局文件夹，并创建了两个`layout.xml`文件，一个用于纵向，第二个用于横向。纵向`layout.xml`文件有一个 ImageView，横向`layout.xml`文件有两个 ImageView。在中，我在条目中`AndroidManifest.xml`设置参数以停止重新创建有关方向变化的活动。在我的活动中，我覆盖如下`android:configChanges="keyboard|orientation"``<activity>``onConfigurationChanges()`

```
 public void onConfigurationChanged(Configuration newConfig) 
 {
    try
    {
        // TODO Auto-generated method stub
        super.onConfigurationChanged(newConfig);

        Toast.makeText(myContext, " Config Changed ", 1000).show();

        setContentView(R.layout.double_pageread_layout);

        setLayout();  // Initialize Controls (Buttons, ImageView,etc..)
    }
    catch (Exception ex) 
    {
        ex.printStackTrace();
    }
} 
```

但问题是当我运行我的应用程序时。我可以看到它很完美但是当我改变方向时它不会显示任何东西。

请帮我。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:04:21.503

您不需要通过处理配置更改来手动更改布局。只需将两个不同的`layout.xml`文件放入`res/layout`和`res/layout-port`文件夹，Android 就会在旋转时自动填充正确的文件。

# android - 安卓事件处理

> ID：14152462
> 
> 赞同：0
> 
> 时间：2013-01-04T06:48:55.347
> 
> 标签：android, android-event

android 使用哪种类型的模型来处理事件。是**委托模型**还是**事件模型**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:53:11.283

Android 使用事件模型来处理事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:51:48.240

android系统使用事件模型。委托/离子模型仅用于 iOS 代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:51:54.970

Android 使用基于事件的调度。更多信息请参考[这里](http://www.therealjoshua.com/2012/03/event-dispatching-sending-messages/)

# c# - 从 C# 执行存储过程的 Sql 连接超时

> ID：14152463
> 
> 赞同：0
> 
> 时间：2013-01-04T06:48:55.270
> 
> 标签：c#, asp.net, sql-server-2008, stored-procedures

我有 1 个存储过程来生成一些报告，它非常复杂，因此有时需要 7-8 分钟才能生成输出。

当我尝试从网页 (C#) 访问时，我收到连接超时错误。

我已经设置了远程连接超时 = 0（无限制），并且在连接字符串中我也尝试提供连接超时。

我假设账单记录有 6 个 Lacs，并且我根据不同的组和不同的日期在 sum 周围执行了 6 次，所以有什么解决方案可以让它更快。

或者任何连接超时锻炼？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:07:00.573

您真的应该担心*连接超时吗？*

由于您有一个长时间运行的命令，请确保将 SqlCommand 上的 CommandTimeout 设置为 0。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:01:05.757

我认为页面请求超时的问题。我想你在`Page_Load`事件和一段时间后`IIS`通过超时关闭请求开始存储过程执行。

我建议您从`Page_Load`事件中删除加载功能，并在页面加载后`AJAX`向服务器或页面发送请求以启动存储过程执行并不时检查执行结果。当结果准备好时，您可以得到它`AJAX`并显示给用户。

# php - 如何使代码不可见

> ID：14152466
> 
> 赞同：-6
> 
> 时间：2013-01-04T06:49:25.600
> 
> 标签：php, invisible

我完成了我的php代码，想把它放在服务器上。但是我不想让它对其他人可见，并且代码可以由服务器执行。这意味着用户看不到它，但服务器可以看到，理解并执行。那么怎么做呢？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:53:37.693

PHP 源代码不以 ASCII 格式提供给 Javascript 或 CSS 等浏览器。相反，它在服务器上运行并将输出发送回浏览器。因此，您不必担心用户会下载您的 PHP 源代码，除非您将 Apache 安装弄乱，无法解析 PHP 文件（提示：除非您尝试这样做，否则您可能没有这样做）。

话虽如此，我喜欢尽可能将我的 PHP 包含文件保留在 Web 根目录之外。这意味着用户将无法执行这些脚本，但他们将执行的脚本可以包含它们。

例如，如果您的`index.php`文件`/var/site/www`在`/var/site/inc`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:55:46.817

PHP is a server side scripting language and as such when served to the client will always be invisible.

Now if your asking how to secure your web server that has to do with which web server you are running (likely apache). Those settings are altered via the configuration file.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:55:33.977

php 代码只能在服务器端看到。如果您在服务器端操作，那么为什么会有被其他人看到的风险？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:33:26.823

为此，我建议您查找并使用以下方法之一：

*   如果您使用的是 Windows，请查找[WAMP](http://www.wampserver.com/en/)
*   如果您使用的是 Linux，请查找[LAMP](http://www.lamphowto.com/)
*   如果您在 OSX 上，请查找[MAMP](http://www.mamp.info/en/index.html)

这些都是包含 Apache、MySQL 和 PHP 的软件包。（这就是“AMP”的意思，而 W/L/M 代表“Windows”/“Linux”/“Mac”。

当您安装了上述其中之一后，只需将文件放在服务器文件夹内的 htdocs 文件夹中，然后访问您的 localhost/IP 以查看您的代码，而实际上无法查看您的代码。

# ruby-on-rails - Rails：按营业时间过滤记录

> ID：14152467
> 
> 赞同：0
> 
> 时间：2013-01-04T06:49:29.577
> 
> 标签：ruby-on-rails

我有一个应用程序，它只记录许多应用程序的许可证使用情况。该应用程序将每 X 分钟轮询一次许可证使用情况。

我想过滤记录，以便获取在工作时间之间生成的记录。原因是在工作时间和非工作时间显示应用程序的使用情况。

目前，我有使用 mysql 语句过滤的代码：-

```
app_usage.find(<app id>.feature.find(:all, 
 :conditions => ["name = ? and hour(created_at) > ? and 
  hour(created_at) < ? and dayofweek(created_at) not in (1,7)", 
 <feature_name>, 8, 18]) 
```

当然，这在 sqlite3 数据库中不起作用。我想知道是否有办法使用红宝石来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T12:52:31.793

我认为 ActiveRecord 没有针对这些 MySQL 特定功能的方法。至少，我还没有找到它们。如果你在 sqlite 中寻找这个查询的等价物，那将是这样的：

```
:conditions => ["name = ? and strftime('%H', created_at) > ? and strftime('%H', created_at) < ? and strftime('%w', created_at) not in (1,7)", <feature_name>, 8, 18] 
```

不过，这对 MySQL 不起作用。

# objective-c - 由于未捕获的异常“NSGenericException”而终止应用程序，原因：“*** Collection <__NSArrayM: 0x138cb4d0> 在枚举时发生了突变

> ID：14152471
> 
> 赞同：2
> 
> 时间：2013-01-04T06:50:06.843
> 
> 标签：objective-c, ios

我正在尝试从数组中删除重复的对象。

```
 NSMutableArray* filterResults = [[NSMutableArray alloc] init];
    BOOL copy;

    // remove duplicate
    if (![arrSelectedVehicle count] == 0)
    {
        for (Vehicles *a1 in arrSelectedVehicle) {
            copy = YES;
            for (Vehicles *a2 in filterResults) {
                if ([a1.Vehicle_id isEqualToString:a2.Vehicle_id]) {
                    copy = NO;
                    [arrSelectedVehicle removeObjectIdenticalTo:a2];
                    break;
                }
            }
            if (copy) {
                [filterResults addObject:a1];
            }
        }
    } 
```

我正在添加两个已经在数组中的对象

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T07:22:52.397

枚举时不能修改数组。您可以执行以下操作：

```
 NSMutableArray* filterResults = [[NSMutableArray alloc] init];
BOOL copy;

// remove duplicate
if (![arrSelectedVehicle count] == 0)
{
NSArray* arraycopy = [arrSelectedVehicle copy];
    for (Vehicles *a1 in arraycopy) {
        copy = YES;
        for (Vehicles *a2 in filterResults) {
            if ([a1.Vehicle_id isEqualToString:a2.Vehicle_id]) {
                copy = NO;
                [arrSelectedVehicle removeObjectIdenticalTo:a2];
                break;
            }
        }
        if (copy) {
            [filterResults addObject:a1];
        }
    }
[arraycopy release];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:54:39.673

使用快速枚举时不能修改数组。这就是错误告诉你的。您需要更改循环

```
for (NSUInteger i = 0; i < arrSelectedVehicle.count; i++) {
    Vehicles *a1 = arrSelectedVehicle[i];
    copy = YES;
    for (NSUInteger j = 0; j < filterResults.count; j++) {
        Vehicles *a2 = filterResults[j];

        if ([a1.Vehicle_id isEqualToString:a2.Vehicle_id]) {
            copy = NO;
            [arrSelectedVehicle removeObjectIdenticalTo:a2];
            break;
        }
    }
    if (copy) {
        [filterResults addObject:a1];
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T06:54:50.873

您的代码有几个问题。无论如何，如果您不关心元素的顺序，删除重复项的最简单方法是使用 an `NSSet`，因为 an`NSSet`不允许重复项：

```
NSArray *uniqueObjects = [[NSSet setWithArray:arrSelectedVehicle] allObjects]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T06:54:32.157

错误消息说得很清楚：当您对可变集合使用快速枚举时，您无法修改它的内容（因为这是错误的）。您必须制作它的可变副本，并从该副本中删除重复项。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T06:58:14.690

您不能使用 for 循环，然后从您正在迭代的数组中添加或删除对象 (arrSelectedVehicle)。而是尝试使用正常的对象构建一个新数组。在循环结束时，您可以将该数组分配回 arrSelectedVehicle。

# java - 如何在两个特定字符之间选择一个字符串

> ID：14152475
> 
> 赞同：-2
> 
> 时间：2013-01-04T06:50:30.240
> 
> 标签：java, string

标题比较难理解，请见谅，谢谢。

假设我有一个这样的字符串： 1/1/2013 或 11/1/2013 或 11/12/2013 代表日期。

我想要的只是 /**/ 中间的字符串，表示月份。

我还没有尝试任何东西，因为我不知道在另一个字符串的中间得到一个字符串。

有人可以给我任何想法，或者如果您曾经解决过此类问题，请分享解决方案，在此先感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:52:47.243

只需使用[`split()`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)to split on `/`，并取第二个值：

```
String date = "1/12/2013";
String month = date.split("/")[1]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T06:55:01.640

```
SimpleDateFormat dateFormat = new SimpleDateFormat("MM");
System.out.println(dateFormat.format(new SimpleDateFormat("dd/MM/yyyy").
                                                       parse("11/12/2013"))); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T06:58:16.370

其他答案涵盖了大多数好的答案。另一种可能过度杀戮的方法是[正则表达式](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html)

```
 Pattern p = Pattern.compile("/.*/");
 Matcher m = p.matcher("1/1/2013");
 String month = m.group(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T06:54:52.357

```
String date = "11/12/20113";
String month = date.substring(date.indexOf("/")+1, date.lastIndexOf("/")) 
```

在这里，我们将第一个“/”的索引和第二个“/”的索引作为参数传递给 substring()，它将返回“/”和“/”之间的字符串，就像你问的那样！

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T06:56:17.673

try

```
 String s = "1/12/2013";
    String m = s.substring(s.indexOf('/') + 1, s.lastIndexOf('/')); 
```

note that this is much more efficient than splitting, parsing or regex. No one extra object is created, even String.substring is special, it shares inner char buffer without copying.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-04T06:57:07.297

You can split the string by the / character into an array like this:

```
String[] dateArray = date.split ("/"); 
```

The month is then the second element:

```
String month = dateArray[1]; 
```

# iphone - 来自 PDF 的高质量 UIImage

> ID：14152477
> 
> 赞同：15
> 
> 时间：2013-01-04T06:50:46.497
> 
> 标签：iphone, objective-c

我正在将 PDF 页面转换为 UIImage。这样做时，我会失去图像质量。在获得高质量图像方面需要帮助。

**生成 UIImage 的代码**

```
-(UIImage *)imageForPage:(int)pageNumber {
    CGPDFPageRef pdfPageRef = [self pdfReferenceForPage:pageNumber];

    CGSize pageSize = [self sizeOfPage:pageNumber];

    //UIGraphicsBeginImageContext(pageSize);

    UIGraphicsBeginImageContextWithOptions(pageSize, NO, 0.0);

    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetInterpolationQuality(context, kCGInterpolationHigh);

    CGContextTranslateCTM(context, 0.0, pageSize.height);
    CGContextScaleCTM(context, 1.0, -1.0);
    CGContextSaveGState(context);

    CGAffineTransform pdfTransform = CGPDFPageGetDrawingTransform(pdfPageRef, kCGPDFCropBox, CGRectMake(0, 0, pageSize.width, pageSize.height), 0, true);
    CGContextConcatCTM(context, pdfTransform);

    CGContextDrawPDFPage(context, pdfPageRef);
    CGContextRestoreGState(context);

    UIImage *resultingImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    return resultingImage;
}

- (void)saveImage {
       UIImage *image = [self imageForPage:1];
       [UIImageJPEGRepresentation(image, 1.0) writeToFile:filePath atomically:YES];
} 
```

**图像比较**

*原始 PDF* ![原始 PDF](../Images/7fd6287cdf35029e787d75fa365a8a54.png)

* * *

*图片来自 PDF* ![图片来自 PDF](../Images/3abd9e8f79e3c8e57d969c235cbbf42e.png)

## ----------

**编辑：有变化的代码**

```
float dpi = 100.0 / 72.0;

CGPDFPageRef pdfPageRef = [self pdfReferenceForPage:pageNumber];

CGSize pageSize = [self sizeOfPage:pageNumber];
pageSize.width = pageSize.width * dpi;
pageSize.height = pageSize.height * dpi;

UIGraphicsBeginImageContext(pageSize);

CGContextRef context = UIGraphicsGetCurrentContext();
CGContextSetInterpolationQuality(context, kCGInterpolationHigh);
CGContextTranslateCTM(context, 0.0, pageSize.height);
CGContextScaleCTM(context, dpi, -dpi);
CGContextSaveGState(context);
//CGAffineTransform pdfTransform = CGPDFPageGetDrawingTransform(pdfPageRef, kCGPDFCropBox, CGRectMake(0, 0, pageSize.width, pageSize.height), 0, true);
//CGContextConcatCTM(context, pdfTransform);
CGContextDrawPDFPage(context, pdfPageRef);
CGContextRestoreGState(context);

UIImage *resultingImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();

return resultingImage; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T06:53:58.710

当您询问 PDF 的页面大小时，您会得到 72 PPI 的宽度/高度。您可以尝试创建一个使用比例变换放大的上下文。例如，如果您想以 300 dpi 进行渲染，请添加缩放变换以按`300.0/72.0`.

如果导出为 TIFF，您将能够封装生成图像的最终 PPI (300)。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-05-28T13:46:09.767

这个提供最好的质量......如果您需要另一种质量，只需更改 dpi。

```
 func drawPDFfromURL(url: URL) -> UIImage? {
    guard let document = CGPDFDocument(url as CFURL) else { return nil }
    guard let page = document.page(at: 1) else { return nil }
    let dpi: CGFloat = 300.0 / 72.0
    let pageRect = page.getBoxRect(.mediaBox)

    let renderer = UIGraphicsImageRenderer(size: CGSize(width: pageRect.size.width * dpi, height: pageRect.size.height * dpi))

    let img1 = renderer.jpegData(withCompressionQuality: 1.0, actions: { cnv in
          UIColor.white.set()
          cnv.fill(pageRect)
          cnv.cgContext.translateBy(x: 0.0, y: pageRect.size.height * dpi);
          cnv.cgContext.scaleBy(x: dpi, y: -dpi);
          cnv.cgContext.drawPDFPage(page);

        })
    let img2 = UIImage(data: img1)
    return img2
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-12-16T10:54:37.703

为 Swift 3 试试这个代码：

```
func drawPDFfromURL(url: URL) -> UIImage? {
    guard let document = CGPDFDocument(url as CFURL) else { return nil }
    guard let page = document.page(at: 1) else { return nil }

    let pageRect = page.getBoxRect(.mediaBox)
    let renderer = UIGraphicsImageRenderer(size: pageRect.size)
    let img1 = renderer.jpegData(withCompressionQuality: 1.0, actions: { cnv in
        UIColor.white.set()
        cnv.fill(pageRect)
        cnv.cgContext.translateBy(x: 0.0, y: pageRect.size.height);
        cnv.cgContext.scaleBy(x: 1.0, y: -1.0);
        cnv.cgContext.drawPDFPage(page);
    })
    let img2 = UIImage(data: img1)
    return img2
} 
```

这提供了更高的分辨率

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-10T11:43:07.667

我编写了一个方便的 UIImage PDF 渲染器类别，您可能会发现它很有帮助。它还缓存所有渲染结果以实现高性能。

[https://github.com/mindbrix/UIImage-PDF](https://github.com/mindbrix/UIImage-PDF)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-04-06T14:02:49.910

```
import PDFKit

let pdfDocument = PDFDocument(url: pdfUrl)!
let thumb = pdfDocument.page(at: pageIndex)?.thumbnail(of: size, for: .mediaBox) 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2019-10-09T13:26:22.387

从 iOS 11.0、macOS 10.13、Mac Catalyst 13.0 开始，您可以使用[thumbnailOfSize:forBox：](https://developer.apple.com/documentation/pdfkit/pdfpage/2869834-thumbnailofsize)

# android - 如何在按钮中添加图像？带文字的图片

> ID：14152480
> 
> 赞同：1
> 
> 时间：2013-01-04T06:51:11.967
> 
> 标签：android

嗨，我想在这个 url 中以这种方式创建图像按钮[http://imgur.com/sshdf](http://imgur.com/sshdf) 我如何创建这样的按钮？一半图片一半文字？请帮助我，我想创建完全相同的按钮

```
 <Button   android:id="@+id/MyAccountMiniStatement"
             style="?android:attr/buttonStyleSmall"
             android:layout_height="25dip"
                android:layout_width="fill_parent"
                android:layout_marginRight="10dip"
                android:layout_marginLeft="10dip"

            android:background="@drawable/curvedplanebutton"
            android:textColor="@drawable/button_text_color"
            android:layout_marginTop="10dip"
            android:text="Mini Statement"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:52:24.373

将此属性添加到按钮`android:drawableLeft="@drawable/ic_launcher"`

像这样的东西，

```
 <Button   android:id="@+id/MyAccountMiniStatement"
        style="?android:attr/buttonStyleSmall"
        android:layout_height="25dip"
        android:layout_width="fill_parent"
        android:layout_marginRight="10dip"
        android:layout_marginLeft="10dip"
        android:drawableLeft="@drawable/ic_launcher"
        android:background="@drawable/curvedplanebutton"
        android:textColor="@drawable/button_text_color"
        android:layout_marginTop="10dip"
        android:text="Mini Statement"/> 
```

通过提供可绘制的 Left，图标将放置在文本的左侧，您也可以使用 background 属性为整个按钮提供白色背景。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T06:53:53.133

你为什么不使用[ImageBUtton](http://developer.android.com/reference/android/widget/ImageButton.html)，我认为这对你有好处

```
<ImageButton
    android:id="@+id/ImageButton01"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/album_icon"
    android:background="@drawable/round_button" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:53:59.033

解决方案是使用[CompoundDrawable](http://blog.stylingandroid.com/archives/815)。

Button 和 TextView 的一些属性：

```
1\. android:drawableLeft
2\. android:drawableTop
3\. android:drawableRight
4\. android:drawableBottom 
```

是的，使用[android:drawablePadding](http://developer.android.com/reference/android/widget/TextView.html#attr_android%3adrawablePadding)在文本和图像之间提供填充。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:15:12.260

在 textview 中使用 Textview 和用于文本和`android:drawableTop="@drawable/ic_launcher"`图像。

所以在使用它之后，你可以看到你的 textview 也包含图像。

试试下面的代码而不是你的按钮代码。

```
<TextView
  android:layout_width="wrap_content"
  android:layout_height="wrap_content"
  android:drawableTop="@drawable/ic_launcher"
  android:gravity="center"
  android:text="Hello" /> 
```

您也可以将drawable添加到任何一侧。上、下、右、左。

```
android:drawableBottom="@drawable/ic_launcher"
  android:drawableTop="@drawable/ic_launcher"
  android:drawableRight="@drawable/ic_launcher"
  android:drawableLeft="@drawable/ic_launcher" 
```

有关更多详细信息，请[点击此链接](http://glorious-arvind.blogspot.in/2013/01/attached-drawable-to-textview-in-android.html)

# html - Joomla Ari ext 菜单在 Internet Explorer 7 中垂直显示

> ID：14152481
> 
> 赞同：0
> 
> 时间：2013-01-04T06:51:23.860
> 
> 标签：html, css, joomla, menu, joomla1.5

我在我的顶部导航栏的 joomla 1.5 模板中使用 Ari Ext 菜单，并根据我的设计进行了编辑。除了 IE7 及更高版本外，所有现代浏览器都运行良好，它看起来是垂直的 这是我下面的 css 代码。

```
.ux-menu-init-hidden{
    visibility:hidden;
    position:absolute;}
.ux-menu-container{
    position:relative;
    border:0px solid black;
    background:#f3efec url(images/top.jpg) repeat;}
.ux-menu,.ux-menu ul{
    list-style-image:none;
    list-style-position:outside;
    list-style-type:none;
    margin:0;
    padding:0;
    line-height:1;
    border:0px solid black;
    color:#000000}
.ux-menu li{
    position:relative;
    float:left;
    color:#000000}
.ux-menu ul{
    position:absolute;
    top:0;
    left:0;
    color:#000000}
.ext-border-box .ux-menu-ie-iframe,.ext-ie7 .ux-menu-ie-iframe{
    padding:0;
    margin:0;
    position:absolute;
    top:0;
    left:0;
    display:none;
    z-index:-1;}
.ux-menu-vertical .ux-menu-item-main{
    clear:left;}
.ux-menu a{
    display:block;
    position:relative;
    text-decoration:none;
    color:#000000;
    border-left:1px solid #e3dad1;
    border-top:0px solid #e3dad1;
    border-bottom:0px solid #e3dad1;
    background:#f3efec url(images/top.jpg) repeat;
    font-size:12px;
    line-height:12px;
    padding:10px 18px;
    height:10px;
    border-bottom:0px solid black;
}
.ux-menu ul li a{
    display:block;
    position:relative;
    text-decoration:none;
    color:#000000;
    border-left:1px solid #e6e6e6;
    border-right:1px solid #e6e6e6;
    background:#ffffff;
    font-size:11px;
    line-height:12px;
    padding:10px 14px;
    font-weight:normal;
}
.ux-menu ul li ul{border:0px solid black; margin-left:-1px}
.ux-menu li{border:0px solid red;}
.ux-menu ul li a.ux-menu-link-last{
    border-bottom:1px solid #e6e6e6;}
.ux-menu ul li a.ux-menu-link-first{
    border-top:1px solid #e6e6e6;}
.ux-menu a:focus,.ux-menu a:hover,.ux-menu a.ux-menu-link-hover{
    border-color:#d2e3f4;
    background:url(images/hover.jpg) repeat;
    outline:0;
    text-decoration:none}
.ux-menu ul li a:focus,.ux-menu ul li a:hover, ux-menu ul li a.ux-menu-link-hover{
    background:#ffffff;
    text-decoration:none;
    }

.ux-menu-clearfix:after{
    content:".";
    display:block;
    height:0;
    clear:both;
    visibility:hidden;}
.ux-menu a.ux-menu-link-parent{
    padding-right:24px;
    min-width:1px;}
.ux-menu ul a,.ux-menu.ux-menu-vertical a{
    border-bottom:0;
    border-right:1px solid #e3dad1;}
.ux-menu ul a.ux-menu-link-last,.ux-menu.ux-menu-vertical a.ux-menu-link-last{
    border-bottom:1px solid #e3dad1;}
.ux-menu-arrow{
    display:block;
    width:8px;
    height:6px;
    right:10px;
    top:14px;
    position:absolute;
    background:no-repeat;
    font-size:0;}
.ux-menu.ux-menu-vertical .ux-menu-arrow,.ux-menu ul .ux-menu-arrow{
    width:6px;
    height:8px;
    top:13px;
    background:url(images/menu-arrow-right.png) no-repeat;}
.ext-border-box .ux-menu-arrow{
    top:17px;}
.ext-border-box .ux-menu.ux-menu-vertical .ux-menu-arrow,.ext-border-box .ux-menu ul .ux-menu-arrow{
    top:16px;}
.ux-menu ul.ux-menu-hidden{
    display:none;}
.ux-menu a.current{
    background-image:url('images/hover.jpg');
}
.ux-menu ul li a.current{
    background:#ffffff
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T08:52:29.630

尝试使用“ARI Ext menu”模块中的原始 css 样式：http: [//www.demo2.ari-soft.com/modules/mod_ariextmenu/mod_ariextmenu/js/css/menu.min.css](http://www.demo2.ari-soft.com/modules/mod_ariextmenu/mod_ariextmenu/js/css/menu.min.css)。这种风格，在 IE 中工作正常。

# android - 哪种算法适合情况分析？

> ID：14152485
> 
> 赞同：1
> 
> 时间：2013-01-04T06:51:48.357
> 
> 标签：android, algorithm, data-structures

我正在开发一个 android 应用程序，用于根据传感器值和其他详细信息分析用户的情况。该应用程序基本上是一个提醒功能，可以根据用户的情况帮助用户。

我们为应用程序提供我们的日常活动，包括位置和必要的详细信息。当事件到达时间，它会分析用户当前的情况，然后通过读取用户的位置、时间、天气、油门是否移动（即忙与否）、手机是否在口袋里、与事件目的地的距离、时间来进行通知需要到达那里等。

然后它会在到达目的地之前选择一组可能有用的操作，例如阅读新闻、提供导航、打开媒体播放器、显示股票详细信息、执行搜索等。算法应该从一组操作中选择这些操作。

哪种算法和数据结构适合分析当前情况？请提供您对项目和想法的看法。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T08:36:22.673

想到2种方法：

1.  当键是各种数据元素的集合时，将所有可能的操作插入到哈希表中。即，`h({data1, data2,...}) = a1; h({dataa, datab,...}) = a2`。每当时机成熟时，对数据集应用散列函数并提取动作。

2.  1 的问题是哈希的可能大小，它必须包括所有可能的值组合 - 大小将是`num of sensor1 values * num of sensor2 values * ... * num of sensor n values`. 如果对每种组合的操作都不同，则没有什么可优化的。但情况可能并非如此，在大多数情况下，操作是相同的。例如，您可以采取相反的方法并将所有可能的操作集合保存在地图中。在非常高的层面上：每当事件时间到来时，开始分析数据——在读取第一个传感器数据后，可能的动作集会缩小；分析第二个传感器数据并对动作子集重复该过程。继续直到只剩下一个动作或没有更多可用的传感器数据，无论先发生什么（假设传感器数据的所有组合都映射到一个有效的动作）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T10:20:20.277

当阅读您的项目逻辑，尤其是喇叭子句时，我想到了。您描述，您的应用程序应检查一组条件以选择要执行的特定操作。[号角子句是](http://en.wikipedia.org/wiki/Horn_clause)[命题](http://en.wikipedia.org/wiki/Propositional_calculus)或[一阶逻辑](http://en.wikipedia.org/wiki/First-order_logic)中某种形式的逻辑表达式。号角从句最多有一个肯定字面量，表达一个事实、一个规则或一个目标。使用事实可以描述您的知识，使用规则可以表达在某些条件适用时选择哪个动作。喇叭子句、一阶逻辑、命题逻辑和解析是逻辑编程、规则引擎或约束满足的理论基础。

例如， [drools](http://en.wikipedia.org/wiki/Drools)是一个规则引擎，它允许描述一个知识库和一组规则。Drools 使用一阶推理从知识库和规则条件中推理动作。也许，您会发现可以在一阶逻辑、命题逻辑、规则引擎、逻辑、编程、约束满足、推理、问题解决和推理领域使用的东西。例如，您可能会在那里找到 drools 中使用的[rete 算法。](http://en.wikipedia.org/wiki/Rete_algorithm)

# java - 用于 Redhat Linux 的 Sybase BCP 实用程序

> ID：14152488
> 
> 赞同：0
> 
> 时间：2013-01-04T06:51:55.420
> 
> 标签：java, linux, sybase, bcp

我想在我的 linux 机器上安装 Sybase 的 bcp 实用程序。我有一个 java 应用程序，它在内部使用 bcp 将数据从文本文件复制到数据库表。我找不到任何可用于 sybase 的 bcp 的独立安装。请建议我在 Linux 中使用 sybase 的 bcp 实用程序需要安装什么软件包？

问候，

马诺伊

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-07T21:15:31.270

Sybase 客户端实用程序位于客户端 CD 上。寻找适用[于 Linux 的 Sybase ASE Express Edition](http://response.sybase.com/forms/ASE_Linux_Download)。这应该有您正在寻找的工具。

# sql - SQL Server 报告 - 凭据

> ID：14152489
> 
> 赞同：0
> 
> 时间：2013-01-04T06:52:01.437
> 
> 标签：sql, sql-server-2008

我一直在研究 SQL Server Reporting Services 2008，我正在使用以下代码从 asp.net 连接到报表服务器：

```
ReportExecutionService rs = new ReportExecutionService();
                System.Net.CredentialCache.DefaultNetworkCredentials.Domain = ConfigurationManager.AppSettings["Domain"].ToString();
                System.Net.CredentialCache.DefaultNetworkCredentials.UserName = ConfigurationManager.AppSettings["UserName"].ToString();
                System.Net.CredentialCache.DefaultNetworkCredentials.Password = ConfigurationManager.AppSettings["Password"].ToString();
                rs.Credentials = System.Net.CredentialCache.DefaultNetworkCredentials;

                // Render arguments
                byte[] result = null;
                string reportpath = reportPath;
                string format = "PDF";
                string historyID = null;
                string devInfo = @"<DeviceInfo><Toolbar>False</Toolbar></DeviceInfo>";

                string encoding;
                string mimeType;
                string extension;
                ParameterValue[] parameters = new ParameterValue[1];
                parameters[0] = new ParameterValue();
                parameters[0].Name = reportParameterBidName.Trim();
                parameters[0].Value = reportParameterBidValue.Trim();
                Warning[] warnings = null;

                string[] streamIDs = null;

                ExecutionInfo execInfo = new ExecutionInfo();
                ExecutionHeader execHeader = new ExecutionHeader();

                rs.ExecutionHeaderValue = execHeader;

                execInfo = rs.LoadReport(reportpath, historyID);
                rs.SetExecutionParameters(parameters, "en-us");

                String SessionId = rs.ExecutionHeaderValue.ExecutionID;

                try
                {
                    result = rs.Render(format, devInfo, out extension, out encoding, out mimeType, out warnings, out streamIDs);
                    return result;
                }
                catch (SoapException e)
                {
                    return null;
                } 
```

现在它适用于我的本地服务器，当我将它上传到最终服务器时它不起作用并引发无法连接错误。如果我使用 VPN 并使用相同的凭据，那么它也可以正常工作。

请就此提出建议。

# java - JFrame 上的 Swing 图形

> ID：14152491
> 
> 赞同：0
> 
> 时间：2013-01-04T06:52:09.100
> 
> 标签：java, swing

使用 Java Graphics，我尝试绘制一个简单的矩形。

因为`Applet`它运行良好，但是当我用它在 a 上显示时`JFrame`，矩形即将出现，但有一些不寻常的背景

这是编码：

```
package graphicsex;

import java.awt.Graphics;

public class Graphics2 extends javax.swing.JFrame {

    public static void main(String[] args) {
        Graphics2 inst = new Graphics2();
        inst.setVisible(true);
    }

    public Graphics2() {
        super();
        initGUI();
    }

    private void initGUI() {
        try {
            setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
            pack();
            setSize(400, 300);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public void paint(Graphics g) {
        g.drawRect(10, 20, 30, 40);
    }
} 
```

然后我尝试`JTextArea`使用这两个类，但在这种情况下，矩形根本没有显示。

```
GraphicsEx1.java:

package graphicsex;

import javax.swing.JTextArea;
import java.awt.Graphics;

public class GraphicsEx1 extends javax.swing.JFrame {

    private JTextArea jTextArea1;

    {
        //Set Look & Feel
        try {
            javax.swing.UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {
        GraphicsEx1 inst = new GraphicsEx1();
        inst.setVisible(true);
    }

    public GraphicsEx1() {
        super();
        initGUI();
    }

    private void initGUI() {
        try {
            setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
            getContentPane().setLayout(null);
            {
                jTextArea1 = new JTextArea();
                getContentPane().add(jTextArea1);
                jTextArea1.setBounds(7, 7, 371, 245);
                jTextArea1.setEnabled(false);
            }
            pack();
            setSize(400, 300);
        } catch (Exception e) {
            e.printStackTrace();
        }
        postInitGUI();
    }

    public void postInitGUI() {
        DisplayItems dp = new DisplayItems();
        jTextArea1 = dp;
        dp.setVisible(true);
        this.add(jTextArea1);
    }
} 
```

和 DisplayItems.java：

```
package graphicsex;

import java.awt.Dimension;
import java.awt.Graphics;

public class DisplayItems extends javax.swing.JTextArea {

    public DisplayItems() {
        super();
        initGUI();
    }

    private void initGUI() {
        try {
            setPreferredSize(new Dimension(400, 300));
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    public void paint(Graphics g) {
        g.drawRect(10, 20, 50, 100);
        g.drawString("Kalai", 90, 150);
    }
} 
```

任何人都可以帮我在`JFrame,`JPanel `or`JTextarea 等任何摆动容器上显示图形组件吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T06:56:54.467

It is inadvisable to override the `paint` method of a top level container...

`JFrame` contains a number of important layers onto which many other components are placed, buy doing this...

```
public void paint(Graphics g){
    g.drawRect(10,20,30,40);
} 
```

You've successfully stopped any of the child components from begin painted, or in fact, anything other then your rectangle.

![enter image description here](../Images/28fd9e9140c73b8f874bda9b814ab6b4.png)

*(The secret life of a top level swing container - Picture taken from [How to use Root Panes](http://docs.oracle.com/javase/tutorial/uiswing/components/rootpane.html))*

While some might suggest simple adding a call to `super.paint(g)`, I would not recommend it.

Better to use something like the `JFrame`'s glass pane...This will allow you to paint over the components that reside within the frame. If you need to paint under the components, replace the `JFrame`'s content pane instead.

You may find...

*   [Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/)
*   [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html)
*   [How to Decorate Components with the JLayer Class](http://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html)

Of use...

**Update**

I think I'm beginning to see you problem with trying to perform custom painting on a text area.

The problem is, `paintComponent` paints the background AND the text in one foul swoop, meaning that any painting you do before calling `super.paintComponent` will be rendered over, but any painting done over it will paint over the text.

You could set the text area to be non-opaque and paint the background yourself...

![enter image description here](../Images/87078f11e593b0e9fac4ae54117cf774.png)

```
public class CustomTextArea extends JTextArea {

    public CustomTextArea() {
        setOpaque(false);
    }

    @Override
    public Dimension getPreferredSize() {
        return new Dimension(200, 200);
    }

    @Override
    protected void paintComponent(Graphics g) {
        g.setColor(getBackground());
        g.fillRect(0, 0, getWidth(), getHeight());
        g.setColor(Color.RED);
        g.fillRect(0, 0, 100, 100);
        super.paintComponent(g);
    }

} 
```

The problem is though, it's easy for people to rest the opaque level and destroy your work. Sure you could override the `setOpaque` or `getOpaque`, but how do you known when the user actually wants to set the component transparent, so you can stop fill the back ground?

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-06T18:57:15.600

*** 使用 jPanel ***

使用jpanel，可以绘制图形元素；

```
import java.awt.Graphics;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.WindowConstants;

public class GraphicsEx1 extends javax.swing.JFrame {
private JScrollPane jsp1;
private JTextArea jta1;
private JPanel jpnl1;

{
//Set Look & Feel
try {
javax.swing.UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsClassicLookAndFeel");
} catch(Exception e) {e.printStackTrace();}
}

public static void main(String[] args) {
GraphicsEx1 inst = new GraphicsEx1();
inst.setLocationRelativeTo(null);
inst.setVisible(true);
}

public GraphicsEx1() {
super();
initGUI();
postInitGUI();
}

private void initGUI() {
try {
setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
getContentPane().setLayout(null);
{
jsp1 = new JScrollPane();
getContentPane().add(jsp1);
jsp1.setBounds(10, 32, 372, 223);
{
jpnl1 = new JPanel();    //<----------------
jsp1.setViewportView(jpnl1);    //<----------------
jpnl1.setBackground(new java.awt.Color(255,255,255));
jpnl1.setLayout(null);
//jpnl1.setPreferredSize(new java.awt.Dimension(359, 327));
}
}
pack();
setSize(400, 300);
} catch (Exception e) {e.printStackTrace();}
}

public void postInitGUI(){
frmGrpView gp=new frmGrpView();
jta1=new JTextArea();
jta1=gp;
jta1.setBounds(0,0, 336, 197);
jta1.setVisible(true);
//jpnl1.setBounds(0, 0, 336, 197);
jpnl1.add(jta1);    //<----------------
jpnl1.revalidate();
jsp1.revalidate();
}
}
//----------------------- Second Class --------------------------
class frmGrpView extends JTextArea{
public frmGrpView() {
super();
setEditable(false);
}
public void paint(Graphics g){
super.paint(g);
g.drawRect(10, 10, 100, 100);
}
} 
```

# javascript - Javascript函数返回默认值而不是当前输入的文本框值

> ID：14152492
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:52:21.480
> 
> 标签：javascript

我有一个包含大量 JavaScript 和 Jquery 的网页（aspx）（用于管理不同部分的图像滚动，如特色产品、特价等）

在特色产品部分列出了多个产品详细信息。每个产品都有一个关联的文本框，用户可以在其中输入他想要购买的数量。

当我尝试使用 JavaScript 获取特定文本框的值时，我得到的是文本框的默认值，而不是当前在文本框中输入的值。

使用 J Query 还会导致返回默认值。

如果文本框移动到表单部分的开头，则文本框中当前输入的值将按预期返回。

提前感谢有关为什么会发生这种情况的任何提示

问候

马修

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T07:00:32.927

找不到真正的问题。无论如何，我可以访问使用 Jquery 在文本框中输入的值。

后来我意识到问题正在发生，因为文本框包含在使用 Jquery Cycle2 插件生成的幻灯片中

# iphone - 在新的 XCode 项目中使用旧的 AutoLayout？

> ID：14152494
> 
> 赞同：-1
> 
> 时间：2013-01-04T06:52:24.903
> 
> 标签：iphone, ios, interface-builder, xib, autolayout

> **可能重复：**
> [删除界面生成器中](https://stackoverflow.com/questions/9566789/remove-autolayout-constraints-in-interface-builder)
> 的自动布局（约束）虽然答案和最终问题相同，但其余问题完全不同，并且我搜索时出现的问题与任何一个问题都无关。

在我的应用程序中，我试图设置 autoLayout 以针对 iPhone 4 屏幕尺寸与 iPhone 5 屏幕尺寸正确设置我的视图。使用我正在处理的那种布局，我真的不需要新约束系统提供的功能，使用旧系统会容易得多。我知道这是可能的，因为我项目中的旧 xib 文件使用旧系统。

我的问题是：如何在新的 xib 文件中使用旧系统？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:00:13.313

在 Xcode 中打开您的 xib 文件，打开右侧窗格，选择其中的第一个选项卡，然后取消选中“使用自动布局”复选框。

# iphone - 在 ipad 中从 LeftSideView 控制器呈现 ModalView

> ID：14152496
> 
> 赞同：0
> 
> 时间：2013-01-04T06:52:28.223
> 
> 标签：iphone, objective-c, ios, ipad

我在我的项目中实现了拆分视图。我的左侧视图包含一个表格视图和一个按钮。

Onclick 那个 bitton，我展示了 modalview。

它在横向模式下工作正常，但对于纵向模式，视图显示为与左侧框架视图相同，而不是全屏。

它也适用于横向和纵向模式下的 ios6。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:37:12.953

您可以在详细视图控制器中注册通知，然后在需要显示模式视图控制器时从根目录发布通知。

假设您正在使用 ARC。在您的拆分控制器中，您的左视图控制器称为根控制器，右视图控制器称为细节控制器。

在您的详细控制器中，您将需要实现代码来注册和删除通知。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(displayModalController) name:@"DisplayModalControllerNotification" object:nil];

}

- (void)dealloc {
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}

- (void)displayModalController {

    UIViewController *myController = [[UIViewController alloc] initWithNibName:@"MyController" bundle:nil];
    [self presentViewController:myController animated:YES completion:^{
        // code to be executed after completition
    }];
} 
```

现在，在您的根控制器中使用此代码，您只需在需要时使用这行代码调用它：

```
 [[NSNotificationCenter defaultCenter] postNotificationName:@"DisplayModalControllerNotification" object:nil]; 
```

这是基本示例，可根据您的需要进行修改，例如，如果您需要在初始化时发送一些带有通知的对象以传递到您的模态视图控制器等。

# html - CSS继承而不修改HTML

> ID：14152505
> 
> 赞同：2
> 
> 时间：2013-01-04T06:53:17.353
> 
> 标签：html, css

假设我有以下 foo 类

HTML：

```
<div class="foo">..</div> 
```

CSS：

```
.foo{
  ..some styles here...
} 
```

现在我想添加一个带有类 bar 的 div，它使用 foo 的样式：

```
<div class="bar foo">..</div> 
```

但这涉及更改 HTML。有没有办法在不更改 HTML 的情况下继承另一个类的样式？

就像是：

```
<div class="bar">..</div>

.bar{
  inherit: .foo;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:54:52.700

你可以这样做：

```
.foo, .bar
{
    /* rules that two classes have in common */
}

.foo
{
    /* rules that apply to the foo class only */
}

.bar
{
    /* rules that apply to the bar class only */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T08:23:44.170

通过应用 LESS，您可以混合如下声明：

```
/* LESS */
.foo {
  /* some style here */
}

.bar {
  .foo;
} 
```

请注意，如果您想`.foo`从 CSS 输出中隐藏规则集（可能是仅用于继承的规则集），您可以稍微修改上面的代码：

```
/* LESS */
.foo() { /* It's called "parametric mixin" */
  /* some style here */
}

.bar {
  .foo;
} 
```

通过使用 LESS（或 SASS/Stylus，如果您愿意），您可以在 HTML 代码中解耦样式和类名，同时保持样式规则集可重用：

```
<!-- no need to use style-related class name here -->
<h2 class="post-title">...</h2> 
```

```
/* LESS */
/* reusable style ruleset */
.bold-title() {
  font-weight: bold;
  font-family: Impact, sans-serif;
}

/* actually use those rulesets */
.post-title {
  .bold-title;
} 
```

编译后你会得到如下整洁的 CSS 代码：

```
/* CSS */
.post-title {
  font-weight: bold;
  font-family: Impact, sans-serif;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T06:57:35.643

css 中没有继承选项。你可以在 .foo 类之后添加你的 .bar 类，用逗号（，）分隔

```
.bar, .foo{
  ..some styles here...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:04:49.600

不幸的是，没有允许继承 CSS 属性的选择器。如果您不想直接更改 HTML 代码，可以添加一个小的 JavaScript 命令，如下所示：

```
var x = document.getElementsByClassName("foo");
for (i=0;i<x.length;i++){x[i].setAttribute("class","foo bar");} 
```

（这会将所有`foo`类 div 更改为`foo bar`类 div。如果要更改特定 div，请使用此命令：`document.getElementsByClassName("foo")[n].setAttribute("class","foo bar");`，其中`n`是`foo`类 div 的索引。）

否则，不幸的是，如果不使用 JavaScript，就无法“继承” CSS 类。

# c# - XElement ReplaceAll 函数的问题

> ID：14152509
> 
> 赞同：1
> 
> 时间：2013-01-04T06:53:33.840
> 
> 标签：c#, xml, linq-to-xml

我正在使用 XElement 的`ReplaceAll`功能。我有以下必须替换的图像元素：

```
<image x="773.35399" y="1175.40315" .... /> 
```

当我用以下元素替换上述元素时：

```
<image x="23" y="11" .../> 
```

在调用 ReplaceAll 函数后会创建一个额外的元素，并将被替换的元素包裹在其中。表示上述替换结果将是：

```
 <image>
    <image x="23" y="11" .../>
  </image> 
```

我不想将替换的元素包裹在额外的元素中。我怎样才能阻止这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T06:57:48.633

Use [`ReplaceWith`](http://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.replacewith.aspx) method instead of [`ReplaceAll`](http://msdn.microsoft.com/en-us/library/bb352767.aspx). Latter one replaces child nodes and the attributes of element, instead of replacing element itself.

```
XDocument xdoc = XDocument.Load(path_to_xml);
xdoc.Root.Element("image")
         .ReplaceWith(new XElement("image", 
              new XAttribute("x", 23),
              new XAttribute("y", 11)));

xdoc.Save(path_to_xml); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:03:14.713

您最可能在“图像”节点本身上调用[ReplaceAll](http://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.replaceall.aspx) - 这将用新内容替换其所有子节点。在您的情况下，“替换子节点”（它在调用之前没有）将简单地添加新的“图像”节点作为子节点，就像您看到的那样。

您可能想要[XElement.ReplaceWith](http://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.replacewith.aspx)代替。

# django - 使用生菜+碎片和硒进行测试时，在 Travis CI 上建立超时

> ID：14152518
> 
> 赞同：2
> 
> 时间：2013-01-04T06:54:07.210
> 
> 标签：django, selenium, travis-ci, lettuce, splinter

我有大约 130 个生菜测试在本地运行良好，但是当 travis 运行它们时，它在几次测试后挂起。

这里测试在第 8 种情况下失败：[https ://travis-ci.org/h3/django-editlive/jobs/3945466](https://travis-ci.org/h3/django-editlive/jobs/3945466)

当我删除它通过的最后一个场景时：[https ://travis-ci.org/h3/django-editlive/builds/3945648](https://travis-ci.org/h3/django-editlive/builds/3945648)

我尝试将测试拆分为单独的功能文件，同样的问题。

这似乎不是由特定场景引起的，而是由运行的场景数量引起的。

根据 Travis 的[文档](http://about.travis-ci.org/docs/user/build-configuration/#Build-Timeouts)：

*   等待键盘输入或其他类型的人机交互
*   并发问题（死锁、活锁等）
*   安装需要很长时间才能编译的本机扩展

我能看到的唯一可能性是并发问题..但是我该如何调试呢？

我的项目是开源的，所以整个源代码都可以在这里找到：

*   [https://github.com/h3/django-editlive](https://github.com/h3/django-editlive)
*   [生菜特征](https://github.com/h3/django-editlive/tree/master/example_project/test_app/features)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-05T03:50:05.357

我对这个问题没有明确的答案，但我设法解决了这个问题。

因为我没有任何输出，所以我试图对我的测试进行 strace，这样我就可以确切地看到它挂在哪里。

但是 strace 的输出太大了，被 travis 修剪了。所以我不得不 grep -v 一些行。

这是我的 .travis.yml 文件中的样子：

```
script:
  - "strace -q python project/manage.py harvest 2>&1 | grep -v ENOENT" 
```

ENOENT 代表“没有这样的文件或目录”，我真的不需要它来理解 strace 输出，它剪掉了足够多的行让我看到它挂在哪里。

原来它挂在对 selenium 的请求上：

```
socket(PF_INET, SOCK_STREAM, IPPROTO_TCP) = 4
connect(4, {sa_family=AF_INET, sin_port=htons(35146), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
send(4, "POST /hub/session/e7cba641-2842-"..., 359, 0) = 359 
```

我无法真正替换 selenium，所以我大胆猜测并用 google chrome 替换了 firefox 来运行我的测试......等等。测试运行完美。

很糟糕，我还没有真正解决问题，但是在 travis ci 上远程调试充其量只是一个 PITA。每次迭代之间有 35 分钟的等待时间，我有更重要的事情要做。

# c# - 使用 microsoft.office.interop.word 以写入模式打开 Ms Word

> ID：14152520
> 
> 赞同：0
> 
> 时间：2013-01-04T06:54:18.720
> 
> 标签：c#, asp.net

我正在尝试通过 C# 打开 MS Word 文档。但是 open 方法是以只读模式打开文档。我希望在不创建 i 的另一个副本的情况下以写入模式打开文件，以便我可以将更改保存到数据库。这是打开文件的代码。

```
public void def()
{
    Word.Application app = new Word.Application();
    Word.Document dd = app.Documents.Open("C:\\hi12.docx", ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing, ref Nothing,ref repair);
    dd.TrackRevisions = true;
    dd.CommandBars["Reviewing"].Controls["Reviewing Pane"].Execute();
    int count = dd.Words.Count;
    dd.Close(ref Nothing, ref format, ref Nothing);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:03:31.327

这有帮助吗？
[http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.view.readinglayoutallowediting](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.view.readinglayoutallowediting)

此外，当不在客户端上运行（asp.net 在服务器上运行）时，您不应该使用互操作。
您还绝对需要关闭您的应用程序。

# java - 从 jaxb 生成的 xml 中删除 Standalone="yes"

> ID：14152523
> 
> 赞同：9
> 
> 时间：2013-01-04T06:54:36.650
> 
> 标签：java, xml, formatting, jaxb

```
public final String getMessage() {
            JAXBContext jaxbContext;
            StringWriter sw = new StringWriter();
            try {
                jaxbContext = JAXBContext.newInstance(Login.class);        
                Marshaller jaxbMarshaller = jaxbContext.createMarshaller();

                jaxbMarshaller.setProperty("jaxb.encoding", "ISO-8859-1");                      
                        jaxbMarshaller.marshal(this, sw);
            } catch (JAXBException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            return sw.toString();
        } 
```

这是我正在使用的代码..我得到的输出如下。

```
<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?> 
```

在这里，我想删除 Standalone="yes" 并希望输出为

```
<?xml version="1.0" encoding="ISO-8859-1"?> 
```

我检查了 [从生成的 XML 中删除 'standalone="yes"' 的](https://stackoverflow.com/questions/277996/jaxb-remove-standalone-yes-from-generated-xml)链接， 但这里的答案是完整的

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?> 
```

部分

我不想要那个。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T11:33:22.273

您的问题有几个问题需要解决：

**问题 #1 - 编码**

`"jaxb.encoding"`当输出为 时，设置时的属性直接影响编码`OutputStream`。如果您使用的输出（例如`Writer`）负责处理其自己的编码，那么您需要确保将其作为`Writer`.

**了解更多信息**

*   [http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html](http://blog.bdoughan.com/2011/08/jaxb-and-java-io-files-streams-readers.html)

**问题 #2 -`standalone="yes"`**

您可以创建一个 StAX (JSR-173)`XMLStreamWriter`来包装您`StringWriter`的 XML 输出并对其进行编组。

```
import java.io.*;
import javax.xml.bind.*;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.stream.*;

@XmlRootElement
public class Login {

    private JAXBContext jaxbContext;
    private XMLOutputFactory xmlOutputFactory;

    public Login() {
        try {
            jaxbContext = JAXBContext.newInstance(Login.class);
            xmlOutputFactory = XMLOutputFactory.newFactory();
        } catch(Exception e) {
            e.printStackTrace();
        }

    }

    public static void main(String[] args) {
        Login demo = new Login();
        System.out.println(demo.getMessage());
    }

    public final String getMessage() {
        try {
            Marshaller jaxbMarshaller = jaxbContext.createMarshaller();
            jaxbMarshaller.setProperty("jaxb.encoding", "ISO-8859-1");
            jaxbMarshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);

            ByteArrayOutputStream baos = new ByteArrayOutputStream();
            XMLStreamWriter xmlStreamWriter = xmlOutputFactory.createXMLStreamWriter(baos, (String) jaxbMarshaller.getProperty(Marshaller.JAXB_ENCODING));
            xmlStreamWriter.writeStartDocument((String) jaxbMarshaller.getProperty(Marshaller.JAXB_ENCODING), "1.0");
            jaxbMarshaller.marshal(this, xmlStreamWriter);
            xmlStreamWriter.writeEndDocument();
            xmlStreamWriter.close();
            return new String(baos.toByteArray());
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return null;
    }

} 
```

**输出**

```
<?xml version="1.0" encoding="ISO-8859-1"?><login></login> 
```

* * *

**替代方法**

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

还有其他 JAXB (JSR-222) 提供程序，例如 MOXy，它们不会`standalone="yes"`作为您可以使用的 XML 输出的一部分输出。

*   [http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html](http://blog.bdoughan.com/2011/05/specifying-eclipselink-moxy-as-your.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-16T12:23:09.417

我为这个问题找到了一个简单的解决方案。通过以下方式禁用自动生成的标头：

```
marshaller.setProperty("com.sun.xml.bind.xmlDeclaration", false); 
```

这将禁用自动生成的标题，现在我们可以像这样添加我们的自定义标题：

```
marshaller.setProperty("com.sun.xml.bind.xmlHeaders", "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>"); 
```

整个这段代码看起来像：

```
marshaller.setProperty("com.sun.xml.bind.xmlDeclaration", false);
marshaller.setProperty("com.sun.xml.bind.xmlHeaders", "<?xml version=\"1.0\" encoding=\"UTF-8\" ?>"); 
```

# javascript - 单击greasemonkey中的按钮

> ID：14152525
> 
> 赞同：1
> 
> 时间：2013-01-04T06:54:43.450
> 
> 标签：javascript, firefox, button, click, greasemonkey

```
<a class="js-open-panel action-button" target="video-download" href="#">
        <em><span class="icon-16x16 icon-download"></span> Download</em></a> 
```

xpath 使用 firebug /html/body/div[2]/div[2]/section[3]/a[4]

我想单击此按钮，但所有“”“getElementBy”“”都没有任何效果

我通过搜索读了一本书，但没有任何效果

```
/*
function clickc(x)
{
var el = document.getElementsByTagName('em')[7];
var evt = document.createEvent("MouseEvents");
evt.initEvent("click", true, true);
el.dispatchEvent(evt);
}
setTimeout (clickc , 1);
*/
/*
document.getElementsByClassName("js-open-panel action-button").click();
*/

/*
function clickc(x)
{
var x = document.getElementsByTagName('em')[7].click();
click(x);
}
setTimeout (clickc , 1);
*/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:55:07.803

只要按钮不是由 AJAX 加载的，以下应该可以工作：

```
var dwnldBttn   = document.querySelector (
    "a.js-open-panel.action-button[target='video-download']"
);
var clickEvent  = document.createEvent ('MouseEvents');
clickEvent.initEvent ('click', true, true);
dwnldBttn.dispatchEvent (clickEvent); 
```

请注意，`querySelector()`CSS 选择器（Firebug 也会显示）与 XPath 不同。

* * *

* * *

从评论中，听起来 AJAX 没有加载按钮（但它可能被用来激活它）。

使用这个完整的脚本开始。除了`@include`指令之外什么都不改变。

```
// ==UserScript==
// @name     _YOUR_SCRIPT_NAME
// @include  http://YOUR_SERVER.COM/YOUR_PATH/*
// @grant    GM_addStyle
// ==/UserScript==
/*- The @grant directive is needed to work around a design change
    introduced in GM 1.0\.   It restores the sandbox.
*/

setTimeout (clickDownloadButton, 1111);

function clickDownloadButton () {
    var dwnldBttn   = document.querySelector (
        "a.js-open-panel.action-button[target='video-download']"
    );
    var clickEvent  = document.createEvent ('MouseEvents');
    clickEvent.initEvent ('click', true, true);
    dwnldBttn.dispatchEvent (clickEvent);
} 
```

# bash - 花括号中的变量扩展

> ID：14152534
> 
> 赞同：23
> 
> 时间：2013-01-04T06:55:05.477
> 
> 标签：bash

这是代码

```
a=''
b=john
c=${a-$b}
echo $c 
```

并且输出是空行

对于第一个变量未初始化的类似代码

```
b1=doe
c1=${a1-$b1}
echo $c1 
```

输出是

```
doe 
```

我不明白 bash 如何处理导致不同结果的变量扩展。

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2013-01-04T06:59:55.577

该表示法有两种变体`${var-value}`，一种没有冒号，如图所示，另一种带有冒号：`${var:-value}`.

第一个版本，没有冒号，意思是'如果`$var`设置为任何值（包括空字符串），使用它；否则，请`value`改用'。

第二个版本，带有冒号，表示'如果`$var`设置为除空字符串之外的任何值，则使用它；否则，请`value`改用'。

这种模式也适用于其他变量替换，特别是：

*   `${var:=value}`
    *   如果`$var`设置为任何非空字符串，则保持不变；否则，设置`$var`为`value`。
*   `${var=value}`
    *   如果`$var`设置为任何值（包括空字符串），则保持不变；否则，设置`$var`为`value`。
*   `${var:?message}`
    *   如果`$var`设置为任何非空字符串，则什么也不做；否则，使用给定的消息抱怨'（如果`message`本身为空，则提供默认消息）。
*   `${var?message}`
    *   如果`$var`设置为任何值（包括空字符串），则不执行任何操作；否则，请使用给定的消息抱怨'。

这些符号都适用于任何与 POSIX 兼容的 shell（Bourne、Korn、Bash 等）。[您可以在Shell Parameter Expansion](http://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)`bash`部分在线找到该版本的手册。Bash 还有一些非标准符号，其中许多非常有用，但不一定与其他 shell 共享。

# android - 运行 Robotium 时 FragmentActivity 类的 java.lang.NoClassDefFoundError

> ID：14152536
> 
> 赞同：1
> 
> 时间：2013-01-04T06:55:10.843
> 
> 标签：android, intellij-idea, robotium, android-fragmentactivity, android-testing

我已经尝试了我能想到的一切，但我仍然无法使用 Robotium 运行我的测试。

[我按照这里](https://stackoverflow.com/questions/12424392/robotium-problems-with-importing-android-robotium-project-from-eclipse-into-int)的建议将robotium库和我的主项目设置为在项目配置中导出

我已经按照[这里](https://stackoverflow.com/questions/12278318/could-not-find-class-com-jayway-android-robotium-solo-solo-in-android)的建议设置了`android:debuggable`标志`true`

我还按照[此处](https://stackoverflow.com/questions/9677250/robotium-test-cannot-find-activity-class)`android:targetPackage`的建议检查了清单中的设置是否正确

还尝试在构建测试模块时更改主项目依赖项的范围，`Provided`而不是`Compile`（我不确定那是什么......）

这是测试项目的 AndroidManifest：

```
<?xml version="1.0" encoding="utf-8"?>
<!-- package name must be unique so suffix with "tests" so package loader doesn't ignore us -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.matthieu.tests"
          android:versionCode="1"
          android:versionName="1.0">

    <uses-sdk android:minSdkVersion="4"
              android:targetSdkVersion="17" />

    <application
            android:debuggable="true">
        <uses-library android:name="android.test.runner"/>
    </application>

    <instrumentation android:name="android.test.InstrumentationTestRunner"
                     android:targetPackage="com.matthieu"
                     android:label="Tests for com.matthieu"/>
</manifest> 
```

这是我得到的例外：

```
java.lang.RuntimeException: Exception during suite construction
at android.test.suitebuilder.TestSuiteBuilder$FailedToCreateTests.testSuiteConstructionFailed(TestSuiteBuilder.java:239)
at java.lang.reflect.Method.invokeNative(Native Method)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:520)
at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1447)
Caused by: java.lang.reflect.InvocationTargetException
at com.matthieu.MainMenuActivityTest.<init>(MainMenuActivityTest.java:26)
at java.lang.reflect.Constructor.constructNative(Native Method)
at java.lang.reflect.Constructor.newInstance(Constructor.java:446)
at android.test.suitebuilder.TestMethod.instantiateTest(TestMethod.java:87)
at android.test.suitebuilder.TestMethod.createTest(TestMethod.java:73)
at android.test.suitebuilder.TestSuiteBuilder.addTest(TestSuiteBuilder.java:263)
at android.test.suitebuilder.TestSuiteBuilder.build(TestSuiteBuilder.java:185)
at android.test.InstrumentationTestRunner.onCreate(InstrumentationTestRunner.java:373)
at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4218)
at android.app.ActivityThread.access$3000(ActivityThread.java:125)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2071)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4627)
at java.lang.reflect.Method.invokeNative(Native Method)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NoClassDefFoundError: com.matthieu.MainMenuActivity
... 19 more 
```

另请注意，我在 logcat 中看到了一些类似的错误：

```
01-04 14:44:51.822: WARN/dalvikvm(1263): Class resolved by unexpected DEX: Lcom/matthieu/MainMenuActivity;(0x44e7f980):0x249f70 ref [Lcom/actionbarsherlock/app/SherlockFragmentActivity;] Lcom/actionbarsherlock/app/SherlockFragmentActivity;(0x44e7f980):0x121770
01-04 14:44:51.833: WARN/dalvikvm(1263): (Lcom/matthieu/MainMenuActivity; had used a different Lcom/actionbarsherlock/app/SherlockFragmentActivity; during pre-verification)
01-04 14:44:51.851: WARN/dalvikvm(1263): Unable to resolve superclass of Lcom/matthieu/MainMenuActivity; (644)
01-04 14:44:51.851: WARN/dalvikvm(1263): Link of class 'Lcom/matthieu/MainMenuActivity;' failed
01-04 14:44:51.851: ERROR/dalvikvm(1263): Could not find class 'com.matthieu.MainMenuActivity', referenced from method com.matthieu.MainMenuActivityTest.testFirstTimeAppOpening
01-04 14:44:51.851: WARN/dalvikvm(1263): VFY: unable to resolve check-cast 849 (Lcom/matthieu/MainMenuActivity;) in Lcom/matthieu/MainMenuActivityTest; 
```

如果有什么不同，我正在使用 IntelliJ Idea (11.1.5)、SDK 17、SDK Tools 21.0.1 并将 Robotium 更新到 3.6

**更新**：

[在这里](https://groups.google.com/forum/#!topic/android-developers/sotIalKQTUQ/discussion)找到了一个相关的讨论。无论我只运行一个测试还是所有测试，我都可以看到不同的错误消息，而且我的应用程序确实使用了 FragmentActivity。但无论我做什么，我都无法运行任何测试（不是一个，不是全部）......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-25T18:37:37.733

当您执行以下操作时会发生此类错误。

1.如果你在manifest文件中为“android:targetPackage”输入了错误的包名。所以请检查清单文件中的目标包名称。

2.如果你为安卓应用和测试项目添加相同的库。

当您为 android 应用程序和测试项目添加相同的库时会出现歧义。所以请仅将库添加到应用程序项目。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-07T09:52:13.627

最后......我找到了让它在[那里工作的唯一方法](https://stackoverflow.com/a/6501955/347565)

不要将 Robotium 测试用例放在一个单独的模块中......不知道为什么没有办法让它工作，但实际上我尝试了所有我能想到的或我能找到的东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-24T19:00:42.357

我有一段时间遇到这个问题并尝试了很多东西，最终对我有用的只是进入

> 属性 -> Java 构建路径 -> 项目

对于测试项目，然后删除被测项目并再次添加。（由于我无法重现问题并且不记得细节，因此删除被测项目，然后清理两个项目，然后添加被测项目可能是最安全的）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-26T21:29:50.077

我再次遇到了同样的问题（请参阅此页面上的其他答案），但这次无法用我自己的解决方案解决问题。这次我找到了另一个解决方案：通过右键单击测试项目，然后删除测试项目的私有库

> 属性 -> Java 构建路径 -> 库

并删除“Android 私有库”

PS我的回答受到我在此页面上找到的信息的启发：[http ://android.foxykeep.com/dev/how-to-fix-the-classdefnotfounderror-with-adt-17](http://android.foxykeep.com/dev/how-to-fix-the-classdefnotfounderror-with-adt-17)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-30T10:50:22.730

我面临同样的问题。它的发生只是因为我试图用`JUnit`而不是 Android来测试我的项目`JUnit test`。

所以对于那个 make test***项目右键单击它 > run as > Android Junit test***。它在我的情况下有效。

祝你好运

# android - 如何为多个 ImageButtons 设置 onTouchListener

> ID：14152542
> 
> 赞同：1
> 
> 时间：2013-01-04T06:55:34.840
> 
> 标签：android, listener, imagebutton

我有这个：

```
// Set up touch listeners for all the buttons
    View cardButton = findViewById(R.id.C_0);
    cardButton.setTag(0);
    cardButton.setOnTouchListener(this);
    View cardButton1 = findViewById(R.id.C_1);
    cardButton1.setTag(1);
    cardButton1.setOnTouchListener(this);
    View cardButton2 = findViewById(R.id.C_2);
    cardButton2.setTag(2);
    cardButton2.setOnTouchListener(this);
    View cardButton3 = findViewById(R.id.C_3);
    cardButton3.setTag(3);
    cardButton3.setOnTouchListener(this);
    View cardButton4 = findViewById(R.id.C_4);
    cardButton4.setTag(4);
    cardButton4.setOnTouchListener(this);
    View cardButton5 = findViewById(R.id.C_5);
    cardButton5.setTag(5);
    cardButton5.setOnTouchListener(this);
    View cardButton6 = findViewById(R.id.C_6);
    cardButton6.setTag(6);
    cardButton6.setOnTouchListener(this);
    View cardButton7 = findViewById(R.id.C_7);
    cardButton7.setTag(7);
    cardButton7.setOnTouchListener(this);
    View cardButton8 = findViewById(R.id.C_8);
    cardButton8.setTag(8);
    cardButton8.setOnTouchListener(this); 
```

但是我需要以编程方式生成它，所以我不能像这样写出来。不幸的是，我尝试了三种方法，但都没有奏效。首先：

```
for(int i = 0; i < 9; i++)
    {
        String bufferName = "C_" + i;
        int tempid = getResources().getIdentifier(bufferName, "drawable", getPackageName());
        View cardButton = findViewById(tempid);
        cardButton.setTag(i);
        cardButton.setOnTouchListener(this);
    } 
```

这给了我一个 NullPointerException。我不确定如何确定它。此外，android 的东西说你无论如何都不应该使用 getIdentifier，因为它很贵。

下一次尝试：

```
ViewGroup rootLayout=(ViewGroup) sv.getRootView();
    View v;
    int id = 0;
    for(int i = 0; i < rootLayout.getChildCount(); i++) {
        v = rootLayout.getChildAt(i);
        if(v instanceof View)
        {
            v.setTag(id);
            id += 1;
            v.setOnTouchListener(this);
        };
    } 
```

这里没有错误，但是所有按钮都不再起作用了。侦听器未设置好或触摸未正确记录或其他原因。

第三次尝试：

```
int[] ids = {R.id.C_0, R.id.C_1, R.id.C_2, R.id.C_3, R.id.C_4, R.id.C_5, R.id.C_6, R.id.C_7, R.id.C_8};
    for (int id:ids)
    {
        ImageView b = (ImageView)findViewById(id);
        b.setTag(ids);
        b.setOnTouchListener(this);
    } 
```

这是最糟糕的方法，我不想使用它，但即使这样也行不通。我得到了 ClassCastException。我尝试使用`ImageButton b = (ImageButton)findViewById(id);`，但仍然给我同样的错误。对不起，如果这完全是新的，但我花了几个小时试图找出一种方法来做到这一点。:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:58:55.390

**首先：**
您的第一次尝试非常接近......您在这里使用了错误的类型：

```
int tempid = getResources().getIdentifier(bufferName, "drawable", getPackageName()); 
```

你想要一个`id`，使用：

```
int tempid = getResources().getIdentifier(bufferName, "id", getPackageName()); 
```

* * *

**下一次尝试：**
这个看起来还可以，可能是OnTouchListener出错了。

* * *

**第三次尝试：**
ClassCastException 仅意味着您在 XML 中声明的任何 View 类型必须是您在 Java 代码中使用的 View 类型的类...

# python - 一个python脚本可以同时运行python 2.x和python 3.x吗

> ID：14152548
> 
> 赞同：6
> 
> 时间：2013-01-04T06:55:53.620
> 
> 标签：python, python-3.x

我有数千台服务器（linux），有些只有 python 2.x，有些只有 python 3.x，我想写一个脚本 check.py 可以在所有服务器上运行，就像 $./check.py 不使用 $ python check.py 或 $python3 check.py，有没有办法做到这一点？

我的问题是脚本 check.py 如何找到解释器，无论解释器是 python2.x 和 python3.x

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-01-04T07:02:21.810

许多脚本可以在 2.x 和 3.x 上运行。（我每天都有很多工作，我已经将各种开源库从仅 2.x 转换为双版本。）

有几件事使它变得容易得多：

*   对于 2.x 用户，需要 2.7，或至少 2.6+。否则，例如，您不能使用参数引发异常或将它们捕获到变量中，以及其他此类严重限制。
*   对于 3.x 用户，需要 3.3+，或至少 3.2+。在 3.2 或 3.3 中，大多数无缘无故的不兼容（如`u`前缀被删除）都被逆转了。
*   使用[六](http://packages.python.org/six/)库。
*   使用`__future__`语句。
*   始终清楚您的意思是`bytes`（始终为 8 位）、`unicode`（如果您想要 8 位则必须编码）或`str`（大多数 stdlib API 所期望的），以及`encode`必要`decode`时。
*   定期`2to3`在您的代码上运行。（但不要盲目地做它所说的一切。例如，如果您正在使用`d.keys()`或者`map(f, l)`因为您不在乎是否返回 a `list`，您会收到警告，因为`2to3`不知道您不知道关心。）

或者，不要尝试编写在两者上运行的代码，而是编写在 2.x 上运行但可以自动转换`2to3`为运行 3.x 代码的代码，并将该部分作为安装过程的一部分（在 中`setup.py`，`if sys.version_info >= (3, 0):`执行`2to3`步骤） .

从您的编辑来看，听起来您最关心的是在 #! 中放入什么！线。为了那个原因：

```
/usr/bin/env python 
```

这不能保证有效，但`env`不能保证一开始就有效……您可以依靠以下事实：

*   在平台/发行版仅提供 2.x 的任何系统上，`python`都是 Python 2。
*   在平台/发行版同时提供两者的任何系统上，`python`都是 Python 2。
*   在平台/发行版仅提供 3.x（目前非常罕见，但可能最终会更常见）的任何系统上，`python`都是 Python 3。

然而：

*   *在*平台*既不*提供. _ 你对此无能为力。*`python`*

 *如果最后一个是一个严重的问题，您可以通过添加一个用 sh 编写的启动器脚本来解决它，该脚本会尝试`python`并`python3`在失败时尝试。

这样做的好方法是将启动器脚本本身指定为 Python 脚本中的 shebang 解释器。Linux 可以处理这个问题，但它是可配置的，并且至少一些发行版默认禁用它——而大多数其他 *nix 系统无法做到这一点。

如果这不起作用，下一个最佳选择是让用户运行启动器脚本——也就是说，告诉他们这样做`./check.sh`而不是`./check.py`，并`check.sh`找出正确的 Python 解释器并`$python ./check.py`为用户运行。

如果你想变得非常棘手，你甚至可以将 Python 脚本作为一个 heredoc 嵌入到 shell 脚本中，这样你只需要分发一个文件。他们运行`./check.sh`，它会找到正确的 Python 并在 heredoc 上运行它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:00:09.110

考虑到 Python 3.x 并不完全向后兼容 Python 2.x，您必须确保该脚本与这两个版本兼容。这可以在`2to3`工具的帮助下完成，但最终可能意味着运行两个不同的 Python 脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-01T08:13:47.603

在一般情况下，没有；许多 Python 2 脚本无法在 Python 3 上运行，反之亦然。它们是两种不同的语言。

话虽如此，如果你小心的话，你可以编写一个在两者下都能正常运行的脚本。一些作者特别注意确保他们的脚本在两个版本之间兼容，通常使用额外的工具，如`six`库（这个名字是双关语；你可以通过将“二乘以三”或“三乘以二”来达到“六” ”）。

然而，现在是 2020 年，Python 2 正式死亡。许多以前在 Python 2 仍受支持的情况下努力维护它的兼容性的维护者现在会如释重负，并且通常非常乐意在未来继续使用它。*

# java - Converting traditional Gallery to GridView on Wallpaper Selector

> ID：14152559
> 
> 赞同：1
> 
> 时间：2013-01-04T06:56:25.497
> 
> 标签：java, android, gridview, gallery, wallpaper

im trying to figure out how i can make this work. I have perfectly working wallpaper selector, Which loads the wallpaper as a [1]:https://www.dropbox.com/s/phu0a6atue7vlsb/Screenshot_2013-01-03-23-35-06.png

However im trying to change the code to look something like this! The main interface like so. [https://www.dropbox.com/s/0v0wd9sx41nh2oh/Screenshot_2013-01-03-23-38-34.png](https://www.dropbox.com/s/0v0wd9sx41nh2oh/Screenshot_2013-01-03-23-38-34.png)

And when the "Wallpaper" is selected it bring up a ImageView of the large wallpaper [https://www.dropbox.com/s/dna7xxa1hzywwme/Screenshot_2013-01-03-23-38-55.png](https://www.dropbox.com/s/dna7xxa1hzywwme/Screenshot_2013-01-03-23-38-55.png)

Here is what i have for soure code.

Im suck on getting it changed from a Gallery to a GridView!

## WallpaperChooser.java

```
public class WallpaperChooser extends Activity {
@SuppressWarnings("unused")
private static final String TAG = "Launcher.WallpaperChooser";

@Override
public void onCreate(Bundle icicle) {
    super.onCreate(icicle);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.wallpaper_chooser_base);

    Fragment fragmentView =
            getFragmentManager().findFragmentById(R.id.wallpaper_chooser_fragment);
    // TODO: The following code is currently not exercised. Leaving it here in case it
    // needs to be revived again.
    if (fragmentView == null) {
        /* When the screen is XLarge, the fragment is not included in the layout, so show it
         * as a dialog
         */
        DialogFragment fragment = WallpaperChooserDialogFragment.newInstance();
        fragment.show(getFragmentManager(), "dialog");
        }
    }
} 
```

## WallpaperChooserFragment.java

```
public class WallpaperChooserDialogFragment extends DialogFragment implements
    AdapterView.OnItemSelectedListener, AdapterView.OnItemClickListener {

private static final String TAG = "Launcher.WallpaperChooserDialogFragment";
private static final String EMBEDDED_KEY = "com.jaisonbrooks.theme.sony.xperia."
        + "WallpaperChooserDialogFragment.EMBEDDED_KEY";

private boolean mEmbedded;
private Bitmap mBitmap = null;

private ArrayList<Integer> mThumbs;
private ArrayList<Integer> mImages;
private WallpaperLoader mLoader;
private WallpaperDrawable mWallpaperDrawable = new WallpaperDrawable();

public static WallpaperChooserDialogFragment newInstance() {
    WallpaperChooserDialogFragment fragment = new WallpaperChooserDialogFragment();
    fragment.setCancelable(true);
    return fragment;
}

public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    if (savedInstanceState != null && savedInstanceState.containsKey(EMBEDDED_KEY)) {
        mEmbedded = savedInstanceState.getBoolean(EMBEDDED_KEY);
    } else {
        mEmbedded = isInLayout();
    }
}

@Override
public void onSaveInstanceState(Bundle outState) {
    outState.putBoolean(EMBEDDED_KEY, mEmbedded);
}

private void cancelLoader() {
    if (mLoader != null && mLoader.getStatus() != WallpaperLoader.Status.FINISHED) {
        mLoader.cancel(true);
        mLoader = null;
    }
}

@Override
public void onDetach() {
    super.onDetach();

    cancelLoader();
}

@Override
public void onDestroy() {
    super.onDestroy();

    cancelLoader();
}

@Override
public void onDismiss(DialogInterface dialog) {
    super.onDismiss(dialog);
    /* On orientation changes, the dialog is effectively "dismissed" so this is called
     * when the activity is no longer associated with this dying dialog fragment. We
     * should just safely ignore this case by checking if getActivity() returns null
     */
    Activity activity = getActivity();
    if (activity != null) {
        activity.finish();
    }
}

/* This will only be called when in XLarge mode, since this Fragment is invoked like
 * a dialog in that mode
 */
@Override
public Dialog onCreateDialog(Bundle savedInstanceState) {
    findWallpapers();

    return null;
}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    findWallpapers();

    /* If this fragment is embedded in the layout of this activity, then we should
     * generate a view to display. Otherwise, a dialog will be created in
     * onCreateDialog()
     */
    if (mEmbedded) {
        View view = inflater.inflate(R.layout.wallpaper_chooser, container, false);
        view.setBackground(mWallpaperDrawable);

        final Gallery gallery = (Gallery) view.findViewById(R.id.gallery);
        gallery.setCallbackDuringFling(false);
        gallery.setOnItemSelectedListener(this);
        gallery.setAdapter(new ImageAdapter(getActivity()));

        View setButton = view.findViewById(R.id.set);
        setButton.setOnClickListener(new OnClickListener() {

            public void onClick(View v) {
                selectWallpaper(gallery.getSelectedItemPosition());
            }
        });
        return view;
    }
    return null;
}

private void selectWallpaper(int position) {
    try {
        WallpaperManager wpm = (WallpaperManager) getActivity().getSystemService(
                Context.WALLPAPER_SERVICE);
        wpm.setResource(mImages.get(position));
        Activity activity = getActivity();
        activity.setResult(Activity.RESULT_OK);
        activity.finish();
    } catch (IOException e) {
        Log.e(TAG, "Failed to set wallpaper: " + e);
    }
}

// Click handler for the Dialog's GridView

public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
    selectWallpaper(position);
}

// Selection handler for the embedded Gallery view

public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
    if (mLoader != null && mLoader.getStatus() != WallpaperLoader.Status.FINISHED) {
        mLoader.cancel();
    }
    mLoader = (WallpaperLoader) new WallpaperLoader().execute(position);
}

public void onNothingSelected(AdapterView<?> parent) {
}

private void findWallpapers() {
    mThumbs = new ArrayList<Integer>(24);
    mImages = new ArrayList<Integer>(24);

    final Resources resources = getResources();
    // Context.getPackageName() may return the "original" package name,
    // com.android.launcher2; Resources needs the real package name,
    // com.android.launcher. So we ask Resources for what it thinks the
    // package name should be.
    final String packageName = resources.getResourcePackageName(R.array.wallpapers);

    addWallpapers(resources, packageName, R.array.wallpapers);
   // addWallpapers(resources, packageName, R.array.extra_wallpapers);
}

private void addWallpapers(Resources resources, String packageName, int list) {
    final String[] extras = resources.getStringArray(list);
    for (String extra : extras) {
        int res = resources.getIdentifier(extra, "drawable", packageName);
        if (res != 0) {
            final int thumbRes = resources.getIdentifier(extra + "_thumb",
                    "drawable", packageName);

            if (thumbRes != 0) {
                mThumbs.add(thumbRes);
                mImages.add(res);
                // Log.d(TAG, "add: [" + packageName + "]: " + extra + " (" + res + ")");
            }
        }
    }
}

private class ImageAdapter extends BaseAdapter implements ListAdapter, SpinnerAdapter {
    private LayoutInflater mLayoutInflater;

    ImageAdapter(Activity activity) {
        mLayoutInflater = activity.getLayoutInflater();
    }

    public int getCount() {
        return mThumbs.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View view;

        if (convertView == null) {
            view = mLayoutInflater.inflate(R.layout.wallpaper_item, parent, false);
        } else {
            view = convertView;
        }

        ImageView image = (ImageView) view.findViewById(R.id.wallpaper_image);

        int thumbRes = mThumbs.get(position);
        image.setImageResource(thumbRes);
        Drawable thumbDrawable = image.getDrawable();
        if (thumbDrawable != null) {
            thumbDrawable.setDither(true);
        } else {
            Log.e(TAG, "Error decoding thumbnail resId=" + thumbRes + " for wallpaper #"
                    + position);
        }

        return view;
    }
}

class WallpaperLoader extends AsyncTask<Integer, Void, Bitmap> {
    BitmapFactory.Options mOptions;

    WallpaperLoader() {
        mOptions = new BitmapFactory.Options();
        mOptions.inDither = false;
        mOptions.inPreferredConfig = Bitmap.Config.ARGB_8888;
    }

    protected Bitmap doInBackground(Integer... params) {
        if (isCancelled()) return null;
        try {
            return BitmapFactory.decodeResource(getResources(),
                    mImages.get(params[0]), mOptions);
        } catch (OutOfMemoryError e) {
            return null;
        }
    }

    protected void onPostExecute(Bitmap b) {
        if (b == null) return;

        if (!isCancelled() && !mOptions.mCancel) {
            // Help the GC
            if (mBitmap != null) {
                mBitmap.recycle();
            }

            View v = getView();
            if (v != null) {
                mBitmap = b;
                mWallpaperDrawable.setBitmap(b);
                v.postInvalidate();
            } else {
                mBitmap = null;
                mWallpaperDrawable.setBitmap(null);
            }
            mLoader = null;
        } else {
           b.recycle();
        }
    }

    void cancel() {
        mOptions.requestCancelDecode();
        super.cancel(true);
    }
}

/**
 * Custom drawable that centers the bitmap fed to it.
 */
static class WallpaperDrawable extends Drawable {

    Bitmap mBitmap;
    int mIntrinsicWidth;
    int mIntrinsicHeight;

    /* package */void setBitmap(Bitmap bitmap) {
        mBitmap = bitmap;
        if (mBitmap == null)
            return;
        mIntrinsicWidth = mBitmap.getWidth();
        mIntrinsicHeight = mBitmap.getHeight();
    }

    public void draw(Canvas canvas) {
        if (mBitmap == null) return;
        int width = canvas.getWidth();
        int height = canvas.getHeight();
        int x = (width - mIntrinsicWidth) / 2;
        int y = (height - mIntrinsicHeight) / 2;
        canvas.drawBitmap(mBitmap, x, y, null);
    }

    public int getOpacity() {
        return android.graphics.PixelFormat.OPAQUE;
    }

    public void setAlpha(int alpha) {
        // Ignore
    }

    public void setColorFilter(ColorFilter cf) {
        // Ignore
        }
    }
} 
```

Layouts

## wallpaper_chooser.xml

```
 <?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@drawable/pinstripe_actionbar_tile_white"
android:orientation="vertical" >

<ImageView
    android:id="@+id/wallpaper"
    android:layout_width="fill_parent"
    android:layout_height="0dip"
    android:layout_weight="1.0"
    android:scaleType="fitCenter" />

<Gallery
    android:id="@+id/gallery"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" />

<Button
    android:id="@+id/set"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center_horizontal"
    android:text="@string/wallpaper_instructions"
    android:textColor="@color/roboto" />

</LinearLayout> 
```

## wallpaper_item.xml

```
<?xml version="1.0" encoding="utf-8"?>

<ImageView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/wallpaper_image"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:background="@drawable/gallery_item_background"
android:scaleType="fitXY"
android:focusable="true" /> 
```

I've should some of the following resources GridView | Android Developers:http://developer.android.com/guide/topics/ui/layout/gridview.html And a few others, I attempt to change everything over put end up bricking the entire code.

Any Help by Tips, Code, Example, Links, Support i'd extremely appreciate it all, Thank you.

# php - PHPExcel 注释

> ID：14152565
> 
> 赞同：7
> 
> 时间：2013-01-04T06:56:42.353
> 
> 标签：php, phpexcel

我正在尝试在单元格中插入评论。我正在尝试按照代码进行评论，但它没有在创建的 Excel 中显示评论。我正在创建 .xls 扩展名。

```
$objPHPExcel->getActiveSheet()->getComment('E11')->setAuthor('Efusionsoft');
$objCommentRichText = $objPHPExcel->getActiveSheet()->getComment('E11')->getText()->createTextRun('PHPExcel:');
$objCommentRichText->getFont()->setBold(true);
$objPHPExcel->getActiveSheet()->getComment('E11')->getText()->createTextRun("\r\n");
$objPHPExcel->getActiveSheet()->getComment('E11')->getText()->createTextRun('Total amount on the current invoice, excluding VAT.'); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-04T07:19:12.383

Excel5 编写器不支持注释。使用 Excel2007 编写器创建一个 .xlsx 文件。

# php - 如何使用下一个和上一个按钮功能在每页显示 5 个帖子？

> ID：14152566
> 
> 赞同：1
> 
> 时间：2013-01-04T06:56:45.230
> 
> 标签：php, mysql

我有一个名为 的页面`'job.php'`，目前此页面显示所有已发布的工作。但现在我只想显示 5 个最新帖子。如果有人想查看以前的帖子，他们可以点击下一步按钮，这样就会看到更多的 5 个帖子。也应该有一个上一个按钮。

以下是我的代码：

```
$result1 = mysql_query("SELECT * FROM job ORDER BY ID DESC");
$num_row = mysql_num_rows($result1);

while($row1 = mysql_fetch_array($result1)){
     $cat=$row1['Category'];
     $title=$row1['Title'];
     echo "Job field: $cat<br/> Title: $title<br/>";
} 
```

N:B: 这不是分页。我不想显示页码，只想显示下一个和上一个按钮。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:05:41.540

### 互联网上有 100 多篇文章

*   [创建很棒的 PHP/MYSQL 分页](http://www.awcore.com/dev/1/3/Create-Awesome-PHPMYSQL-Pagination_en)
*   [PHP / MySQL 选择数据并在页面上拆分](http://www.phpjabbers.com/php--mysql-select-data-and-split-on-pages-php25.html)

### 如果你想自己做：

*   在查询中使用`LIMIT`关键字。
*   将`page`和 乘数传递给`LIMIT`。

### 一些代码

```
<?php
  $limit = 5;
  $start = (int)(($page - 1 ) * $limit);
  $page = mysql_real_escape_string($_GET["page"]);
  $query = "SELECT * FROM `table` LIMIT $start, {(int)$page + $limit}"
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:01:04.543

有两种方法可以实现这一点。

1) 在查询本身中使用 LIMIT

```
$result1 = mysql_query("SELECT * FROM job ORDER BY ID DESC LIMIT 1, 5"); 
```

2）通过使用循环

```
$i = 0;
while($row1 = mysql_fetch_array($result1)){
    if($i < 5) {
       $cat=$row1['Category'];
       $title=$row1['Title'];
       echo "Job field: $cat<br/> Title: $title<br/>";
       $i++;
    }
} 
```

您可以将当前值传递给 URL 并使用 $_GET..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T07:05:48.040

您可以使用此查询：

```
Select * from table_name ORDER BY ID DESC LIMIT 5; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:00:49.380

我觉得使用分页更好。如果您不想显示页面编号，最好将其隐藏或仅修改代码。如果您打算手动执行它有点混乱

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T07:03:10.983

您可以在 mysql 查询中使用 LIMIT ：

```
$result1 = mysql_query("SELECT * FROM job ORDER BY ID DESC LIMIT 0, 5"); 
```

# razor - 从@Html.ActionLink MVC 4 将参数传递给控制器

> ID：14152575
> 
> 赞同：123
> 
> 时间：2013-01-04T06:57:38.237
> 
> 标签：razor, asp.net-mvc-4

在这一行：

```
@Html.ActionLink("Reply", "BlogReplyCommentAdd", "Blog",
         new { blogPostId = blogPostId, replyblogPostmodel = Model,
         captchaValid = Model.AddNewComment.DisplayCaptcha }) 
```

我在 blogPostId 上收到以下运行时错误：

> 参数字典包含方法“System.Web.Mvc.ActionResult BlogReplyCommentAdd(Int32, Nop.Web.Models.Blogs.BlogPostModel, Boolean)”的不可空类型“System.Int32”的参数“blogPostId”的空条目'Nop.Web.Controllers.BlogController'。可选参数必须是引用类型、可空类型或声明为可选参数。参数名称：参数

我已经在上面为此分配了一个值，例如

```
 @{         
        var blogPostId = Model.Id;          
     } 
```

我的控制器：

```
 public ActionResult BlogReplyCommentAdd(int blogPostId, BlogPostModel model, bool captchaValid)
    {} 
```

难道我做错了什么？请给我一个例子。

* * *

## 回答 #1

> 赞同：283
> 
> 时间：2013-01-04T07:18:07.690

您使用了错误的[`Html.ActionLink`](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.linkextensions.actionlink%28v=vs.108%29.aspx)帮助程序重载。你想的`routeValues`其实是`htmlAttributes`！只需查看生成的 HTML，您就会发现这个锚点的 href 属性看起来不像您期望的那样。

这是您正在使用的内容：

```
@Html.ActionLink(
    "Reply",                                                  // linkText
    "BlogReplyCommentAdd",                                    // actionName
    "Blog",                                                   // routeValues
    new {                                                     // htmlAttributes
        blogPostId = blogPostId, 
        replyblogPostmodel = Model, 
        captchaValid = Model.AddNewComment.DisplayCaptcha 
    }
) 
```

这是你应该使用的：

```
@Html.ActionLink(
    "Reply",                                                  // linkText
    "BlogReplyCommentAdd",                                    // actionName
    "Blog",                                                   // controllerName
    new {                                                     // routeValues
        blogPostId = blogPostId, 
        replyblogPostmodel = Model, 
        captchaValid = Model.AddNewComment.DisplayCaptcha 
    },
    null                                                      // htmlAttributes
) 
```

您的代码还有另一个非常严重的问题。以下路线值：

```
replyblogPostmodel = Model 
```

您不可能在 ActionLink 中传递这样的复杂对象。所以摆脱它，并`BlogPostModel`从你的控制器动作中删除参数。您应该使用该`blogPostId`参数从持久保存此模型的任何位置检索模型，或者如果您更喜欢从在 GET 操作中检索模型的任何位置：

```
public ActionResult BlogReplyCommentAdd(int blogPostId, bool captchaValid)
{
    BlogPostModel model = repository.Get(blogPostId);
    ...
} 
```

至于您最初的问题与错误的重载有关，我建议您使用命名参数编写帮助程序：

```
@Html.ActionLink(
    linkText: "Reply",
    actionName: "BlogReplyCommentAdd",
    controllerName: "Blog",
    routeValues: new {
        blogPostId = blogPostId, 
        captchaValid = Model.AddNewComment.DisplayCaptcha
    },
    htmlAttributes: null
) 
```

现在不仅您的代码更具可读性，而且您将永远不会混淆 Microsoft 为这些助手所做的大量重载。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2016-08-24T12:03:40.120

我必须传递两个参数，例如：

> /控制器/动作/Param1Value/Param2Value

这边走：

```
@Html.ActionLink(
    linkText,
    actionName,
    controllerName,
    routeValues: new {
        Param1Name= Param1Value, 
        Param2Name = Param2Value 
    },
    htmlAttributes: null
) 
```

将生成此网址

> /Controller/Action/Param1Value?Param2Name=Param2Value

我通过在参数一中合并参数二来使用一种解决方法，我得到了我想要的：

```
@Html.ActionLink(
    linkText,
    actionName,
    controllerName,
    routeValues: new {
        Param1Name= "Param1Value / Param2Value" ,      
    },
    htmlAttributes: null
) 
```

我得到：

> /控制器/动作/Param1Value/Param2Value

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2019-05-19T06:03:16.983

您可以使用以下传递值。

```
@Html.ActionLink("About", "About", "Home",new { name = ViewBag.Name }, htmlAttributes:null ) 
```

控制器：

```
public ActionResult About(string name)
        {
            ViewBag.Message = "Your application description page.";
            ViewBag.NameTransfer = name;
            return View();
        } 
```

URL看起来像

```
http://localhost:50297/Home/About?name=My%20Name%20is%20Vijay 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:11:34.743

问题必须出在值为 null 的 Model.Id 上。您可以通过分配一个值来确认，例如

```
@{         
     var blogPostId = 1;          
 } 
```

如果错误消失，那么您需要确保您的模型 ID 有一个值，然后再将其传递给视图

# css - Rails - 如何在 css.erb 中获取资产的绝对 URL

> ID：14152581
> 
> 赞同：2
> 
> 时间：2013-01-04T06:57:50.220
> 
> 标签：css, ruby-on-rails-3

我想在我的 css 中获取图像的绝对 url，如下所示：

```
"#{request.scheme}://#{request.host_with_port}/assets/image.png);" 
```

但我认为在css.erb中无法访问请求属性。谁能告诉我如何在我的 css 中获取请求方案和 host_with_port 属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T00:00:39.937

您可以通过在应用程序配置中定义asset_host 来定义“方案”（更正确：协议）、主机和端口，尽管此定义将用于您的所有资产路径。

[参考关于Asset Tag Helpers](http://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html)请求信息的 Rails API 文档可以使用：

```
ActionController::Base.asset_host = Proc.new { |source, request|
      "#{request.protocol}#{request.host_with_port}"
} 
```

如果您需要为不同类型的资产提供不同的值，您可以定义过滤条件，例如：

```
ActionController::Base.asset_host = Proc.new { |source|
 if source.starts_with?('/images')
   "http://images.example.com"
 else
   "http://assets.example.com"
 end
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-14T10:41:48.087

您可以为任何背景图像或其他资产定义带有绝对 url 的 css。因此，您可以按照[How to get absolute image paths in your css files using sass/scss](https://coderwall.com/p/exj0ig)动态生成它。

**CSS**

```
body {
  background-image: image-url(background.png);
} 
```

在您的环境文件中用您的文件更改它

```
config.action_controller.asset_host = "http://your.domain.com/" 
```

然后你的CSS看起来像这样：

```
body {
  background-image: url(http://your.domain.com/assets/background.png);
} 
```

# java - java.lang.IllegalArgumentException：未找到命名查询。（实体管理器未创建 NamedQuery）

> ID：14152582
> 
> 赞同：3
> 
> 时间：2013-01-04T06:57:53.717
> 
> 标签：java, spring, hibernate, jpa, persistence

我正在使用 hibernate 4.1.5.Final 和 Spring 3.1.2 Release 和 Jboss 7.1 。我已经用 @NamedQuery 注释在一个类中编写了所有命名查询，但实体管理器没有创建命名查询。我正在发布堆栈跟踪和 context.xml

```
 09:58:49,695 ERROR [stderr] (http-localhost-127.0.0.1-8080-2) java.lang.IllegalArgumentException: Named query not found: validateLoginHash
    09:58:49,770 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.hibernate.ejb.AbstractEntityManagerImpl.createNamedQuery(AbstractEntityManagerImpl.java:642)
    09:58:49,772 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
    09:58:49,774 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    09:58:49,777 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at java.lang.reflect.Method.invoke(Method.java:597)
    09:58:49,779 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)

    09:58:49,782 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at $Proxy30.createNamedQuery(Unknown Source)

    09:58:49,784 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)

    09:58:49,785 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

    09:58:49,788 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at java.lang.reflect.Method.invoke(Method.java:597)

    09:58:49,790 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)

    09:58:49,793 ERROR [stderr] (http-localhost-127.0.0.1-8080-2)   at $Proxy30.createNamedQuery(Unknown Source) 
```

**应用程序上下文.xml**

```
<bean id="jpaDialect" class="org.springframework.orm.jpa.vendor.HibernateJpaDialect"/> 
    <bean id="entityManagerFactory"
        class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">

        <property name="dataSource" ref="dataSource" />
        <property name="jpaDialect" ref="jpaDialect"/>
        <property name="packagesToScan" value="com.project.entities"/> 

        <property name="jpaVendorAdapter">
            <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">          
                <property name="showSql" value="false" />
                <property name="generateDdl" value="false" />
                <property name="databasePlatform" value="org.hibernate.dialect.MySQLDialect" />
            </bean>
        </property>

<!--        <property name="persistenceUnitName" value="Project" /> -->
        <property name="persistenceXmlLocation" value="classpath:META-INF/jpa-persistence.xml"/> 

        <property name="loadTimeWeaver">
            <bean
                class="org.springframework.instrument.classloading.InstrumentationLoadTimeWeaver" />
        </property>

    </bean>

     <bean id="dataSource" class="org.springframework.jndi.JndiObjectFactoryBean">
        <property name="jndiName" value="java:jboss/datasources/MySqlDS"/>
    </bean>

    <bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
        <property name="entityManagerFactory" ref="entityManagerFactory" />
        <property name="dataSource" ref="dataSource" />
    </bean> 
```

**jpa-persistence.xml**

```
<persistence>
    <persistence-unit name="Project" transaction-type="RESOURCE_LOCAL" >

        <provider>org.hibernate.ejb.HibernatePersistence</provider>
         <non-jta-data-source>java:jboss/datasources/MySqlDS</non-jta-data-source>
<!--         <properties>  -->
<!--           <property name="jboss.as.jpa.providerModule" value="hibernate3-bundled" />        -->
<!--           </properties>          -->

    </persistence-unit>

</persistence> 
```

**DBNamedQuery.java**

```
@Entity
@NamedQueries( {

@NamedQuery(name = ... , query = ... ),
@NamedQuery(name = ..., query = ...),

.....More named queries

})

public class DBNamedQuery {

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T13:38:14.510

```
I have written all named queries in a class with @NamedQuery annotation 
```

您在上述声明中没有明确提到您所指的类的类型？您需要在 Entity 类（使用 @Entity 注释的类）中编写命名查询。

更新：我现在对你的课有点困惑`DBNamedQuery`。您说您正在使用一个类来放置所有命名查询。我的理解是您正在使用此类为应用程序的所有实体编写命名查询。如果这是正确的，你怎么能`@Entity`在你的类上使用注释，`DBNamedQuery`因为它不是真正的 jpa 实体？

包含`@NamedQuery`注释的类应该是托管实体。我怀疑你的课`DBNamedQuery`不是。

为了确定问题，我建议检查日志，如果这是一个被管理的实体。如果你不能这样做，那么`EntityManger`给你和 API 在运行时检查`contains(java.lang.Object entity)`。

在相关说明中，如果您使用注释，则 JPA 命名查询是 jpa 实体的一部分。使用 xml 可以让您灵活地存储在单独的文件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-09T11:58:17.240

嗨，我遇到了您的问题，而不是创建一个类，为什么不为 Queries.hbm.xml 之类的命名查询创建一个 xml 文件，如下所示

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <!-- Query For User TO -->
    <query name="loadUserByUsername">from User u where u.username = ?</query>
</hibernate-mapping> 
```

将此 xml 文件保存在资源文件夹中，并在您的 applicationContext-enterprise-config.xml 文件中写入如下

```
<property name="mappingResources">
    <list>
        <value>/resources/hbms/Queries.hbm.xml</value>
    </list>
</property> 
```

所以它会正常工作。

**编辑** 好这取决于您在 DAO 层中如何调用它。你必须打电话给=>

```
public int executeNamedQuery(String namedQuery, String namedParams[], Object params[]) throws DatabaseException {
        int result = 0;
        Session session = getSession();
        final String methodName = "executeNamedQuery";
        try {
            session.beginTransaction();
            Query q = session.getNamedQuery(namedQuery);
            if (namedParams != null) {
                for (int i = 0; i < namedParams.length; i++) {
                    q.setParameter(namedParams[i], params[i]);
                }
            }
            result = q.executeUpdate();
            session.getTransaction().commit();
            logger.debug("{} :: {} = {}", new Object[] { methodName, "No. of objects affected", result });
        } catch (HibernateException e) {
            session.getTransaction().rollback();

            final String message = "Couldn't execute the named query " + namedQuery;
            logger.error("{} :: {}", new Object[] { methodName, message, e });
            throw new DatabaseException(getClass(), methodName, message, e);
        } finally {
            closeSession();
        }
        return result;
    } 
```

注：1）namedQuery 表示 Queries.hbm.xml 文件中查询的名称。2) namedParams[] 表示 Query 的参数名称。3) params 表示参数的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-09T09:16:42.060

检查您的实体类是否在您在**ApplicationContext.xml**文件中配置`DBNamedQuery`的包中`com.project.entities`

 *** * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-13T09:17:47.937

我认为这是因为名称错过匹配。在 @NamedQuery 中声明的名称与称为该查询的名称不匹配。

例如

```
@NamedQuery(name = "AAAA", query = ... ) //must be same the name which call that query

public void some() {
   Query q = em.createNamedQuery("AAAA");
 } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-21T22:21:37.980

在persistence.xml中添加注释扫描为我解决了这个问题

```
<property name="hibernate.archive.autodetection" value="class, hbm" /> 
```

即使我尝试在我的实体管理器中进行包扫描，如下所示也**没有**工作

```
 @Bean
       public LocalContainerEntityManagerFactoryBean entityManagerFactory() {
           LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();
           em.setDataSource(getDataSource());
           //em.setPackagesToScan("com.comp.proj.domain");
           em.setPersistenceUnitName(PERSISTENCE_UNIT_NAME);
           em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());
           return em;
       } 
```**

# python - 如何构建一个 django 查询以保存来自 json var 的混合 int 和 str？

> ID：14152585
> 
> 赞同：0
> 
> 时间：2013-01-04T06:58:08.467
> 
> 标签：python, django, json, django-models

我有一个 JSON 变量，例如：

```
myjson = [{"name":"bla", "value":111}, {"name":"ble", "value":222}, {"name":"bli", "value":333}, {"name":"blo", "value":444}] 
```

我的 Django 模型是：

```
class myTable(models.Model):
    name = models.TextField(max_length=2000)
    bla = models.IntegerField(default=0)
    ble = models.IntegerField(default=0)
    bli = models.IntegerField(default=0)
    blo = models.IntegerField(default=0)
    def __unicode__(self):
        return '%s, %s, %s, %s' % (self.name, self.bla, self.ble, self.bli, self.blo) 
```

我想保存这一行（来自我的views.py）：

```
from myproject.models import myTable
n = "lalala"
query = myTable(name="lalala", bla=111, ble=222, bli=333, blo=444)
query.save() 
```

我不知道如何构建迭代 JSON 的查询。

如果我建立一个字符串：

```
#>>> q="lalala"
#>>> myzonesstring = 'name="'+q+'", '
#>>> for m in myjson: 
#...     myzonesstring += str(m["name"])+'='+str(m["value"])+', ' ... 
#>>> myzonesstring 'name="lalala", bla=111, ble=222, bli=333, blo=444, '
#>>> myzonesstring[:-2] 'name="lalala", bla=111, ble=222, bli=333, blo=444'
#>>> query = myTable(myzonesstring[:-2])
#>>> query.save() [. python . ValueError: invalid literal for int() with base 10: 'name="lalala", bla=111, ble=222, bli=333, blo=444' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:25:22.897

我对 django 的参与度并不高，但在我看来，您没有正确初始化模型。来自 django 文档：

> 创建对象
> 
> 要创建模型的新实例，只需像任何其他 Python 类一样实例化它：
> 
> 类模型（**kwargs）
> 
> 关键字参数只是您在模型上定义的字段的名称。

所以我希望你宁愿从你的 json 构建一个 dict，而不是将它用作 Model- **init**的 kwargs ：

```
myjson = [{"name":"bla", "value":111}, 
          {"name":"ble", "value":222}, 
          {"name":"bli", "value":333}, 
          {"name":"blo", "value":444}]

kwargs = dict(map(lambda x: (x["name"], x["value"]), myjson))    
kwargs["name"] = "lalala"

table = myTable(**kwargs)
table.save() 
```

顺便说一句，我重命名`query`为`table`; 您不创建查询，而是创建一个对象（myTable 类的实例）。然后，当您调用 save() 时，该对象负责为数据库创建查询

问候，托尔斯滕

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:29:49.783

@Thorsten：是的，它对我有用。这里的片段（直接来自我的views.py）

```
mydict = dict(map(lambda x: (x["name"], x["value"]), myjson)) 
mydict["query"]="lalala" 
m = Queries(**mydict) 
m.save() 
```

它在 ddbb 中正确保存。再次感谢

# c# - LongListSelector 和 ObservableCollection 抛出 InvalidCastException

> ID：14152586
> 
> 赞同：0
> 
> 时间：2013-01-04T06:58:11.503
> 
> 标签：c#, silverlight, windows-phone-7, longlistselector

我正在尝试将我的收藏绑定到 LLS，但我收到了 InvalidCastException。如果我使用 ListBox 而不是 LLS - 所有绑定都可以正常工作。这是我的收藏：

```
 public class Friend : INotifyPropertyChanged
{
    private string name;
    public string Name { get { return name; } set { name = value; OnPropertyChanged("Name"); } }
    private string image;
    public string Image { get { return image; } set { image = value; OnPropertyChanged("Image"); } }
    private string sourseId;
    public string SourseId { get { return sourseId; } set { sourseId = value; OnPropertyChanged("SourseId"); } }
    private string online_image;
    public string Online_Image { get { return online_image; } set { online_image = value; if (online_image == "1") online_image = @"/icons/appbar.power.png"; OnPropertyChanged("Online_Image"); } }
    public event PropertyChangedEventHandler PropertyChanged;
    protected void OnPropertyChanged(string info)
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (handler != null)
        {
            handler(this, new PropertyChangedEventArgs(info));
        }
    }
    public Friend() { }

}
public class FriendList : ObservableCollection<Friend>
{
    public FriendList()
        : base()
    {

    }
} 
```

这是我将它绑定到 LLS 的方式：

```
 XDocument xml = XDocument.Load(e.Result);
      //  MessageBox.Show(xml.ToString());
        var users = from c in xml.Descendants("user")
                    select c;
        foreach (var user in users)
        {
            Friend fr = new Friend();
            fr.SourseId = (string)user.Element("uid").Value;
            fr.Image = (string)user.Element("photo_medium").Value;
            fr.Name = (string)user.Element("first_name").Value + " " + (string)user.Element("last_name").Value;
            fr.Online_Image = (string)user.Element("online").Value;
            if (fr.Online_Image == "1") fr.Online_Image = @"/icons/appbar.power.png";
            FriendList.Add(fr);
        }
        this.AllFriendsList.ItemsSource = FriendList; 
```

并且`public FriendList FriendList = new FriendList();`就在页面ctor下方。我做错了什么？字符串上的异常触发`this.AllFriendsList.ItemsSource = FriendList;`

这是我的xaml：

```
 <toolkit:LongListSelector Name="AllFriendsList" ItemsSource="{Binding FriendList}">
                    <toolkit:LongListSelector.ItemTemplate>
                        <DataTemplate>
                            <Grid Height="75" Width="460" Margin="0,10,10,0">
                                <Line Style="{StaticResource Line1}" ></Line>
                                <Line Style="{StaticResource Line2}" ></Line>
                                <TextBlock Margin="75,15,40,0" FontSize="30" Name="Name" Text="{Binding Name}" Tap="GetUserInfo" />
                                <Image HorizontalAlignment="Left" Width="75" Name="Photo" >
                                    <Image.Source>
                                        <BitmapImage UriSource="{Binding Image}" CreateOptions="BackgroundCreation" />
                                    </Image.Source>
                                </Image>
                                <Image HorizontalAlignment="Right" Name="IsOnline" Margin="0,0,0,0" Width="60" Height="60" Source="{Binding Online_Image}" />
                            </Grid>
                        </DataTemplate>
                    </toolkit:LongListSelector.ItemTemplate>
                </toolkit:LongListSelector> 
```

UPD：如果我使用[本](http://www.windowsphonegeek.com/articles/wp7-longlistselector-in-depth--part2-data-binding-scenarios)示例中的组，并将我的列表分组为

```
 var FriendsGroup = from fr in FriendList
                            group fr by fr.Online_Image into c
                            orderby c.Key
                            select new Group<Friend>(c.Key, c);

        AllFriendsList.ItemsSource = FriendsGroup; 
```

它工作正常。如果我理解正确 - LLS 等待分组源。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-26T10:04:16.777

我通过将 IsFlat 更改为 True 解决了同样的问题。

```
<toolkit:LongListSelector Name="AllFriendsList" ItemsSource="{Binding FriendList}" IsFlat="True"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T15:13:42.973

您将两次绑定到您的 AllFiendsList。第一次通过这里的xaml

```
<toolkit:LongListSelector Name="AllFriendsList" ItemsSource="{Binding FriendList}"> 
```

第二次通过代码。这可能会导致异常。

# android - Google Map API V2 - 当用户滚动地图时，如何在屏幕中央保留一个标记？

> ID：14152594
> 
> 赞同：20
> 
> 时间：2013-01-04T06:58:41.643
> 
> 标签：android, google-maps, google-maps-api-2

Google Map API V2 - 如何在用户滚动地图时将标记保留在屏幕中央？

我的目的是让用户选择一个位置。我使用以下代码添加标记（它来自`com.example.mapdemo`Android SDK）

```
mMap.addMarker(new MarkerOptions()
    .position(new LatLng(0, 0))
    .title("Marker")); 
```

如何将标记保持在屏幕中央，然后检索它的位置？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-01-04T07:34:15.790

我不认为您实际上可以在屏幕中间保留一个标记并轻松浮动它。我的建议是欺骗你的用户。像按钮一样将标记图像添加到地图上。您可以使用 xml 布局将其放置在屏幕中间。然后，当您的用户选择一个位置时，只需从屏幕中间检索 gps 坐标。

在旁注中，您也可以让您的标记可拖动然后用户可以在地图上拖动它。

```
mMap.addMarker(new MarkerOptions().position(coordinate)
                    .title("Your Title")
                    .snippet("Please move the marker if needed.")
                    .draggable(true)); 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-01-08T16:10:41.813

怎么样？

```
mMap.setOnCameraChangeListener(new OnCameraChangeListener() {
        public void onCameraChange(CameraPosition arg0) {   
                mMap.clear();               
                mMap.addMarker(new MarkerOptions().position(arg0.target));
        }
}); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-12-14T23:52:16.617

### 选项1

我认为最好的选择是移动标记，当用户移动地图时......

```
googleMap.setOnCameraMoveListener(new GoogleMap.OnCameraMoveListener() {
            @Override
            public void onCameraMove() {
                marker.setPosition(googleMap.getCameraPosition().target);//to center in map
            }
        });
//note marker is global 
```

### 选项 2

或者简单，在您的布局中，使用相对布局放置片段，并在标记图标上方，您将计算出该标记将始终位于地图中间...

我认为这很复杂，按屏幕大小计算，但每次标记时手机都不会移动......

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-01-06T21:40:40.600

这实际上可以通过在地图顶部覆盖自定义视图来实现。您将编写一个扩展 View 的类，并且您可以覆盖视图的 draw() 和 onTouchEvent() 方法，这样它就会在地图中间的顶部绘制（看起来像）一个标记。当用户设置标记时，您将使用[投影](https://developers.google.com/maps/documentation/android/reference/com/google/android/gms/maps/Projection)将标记的屏幕位置转换为地图上的 LatLong。然后，您可以在地图上设置适当的标记（现在将固定到地理位置）。

从上面可以看出，这不是最简单的过程。为了便于实施，我建议使用 doubleA 的解决方案。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-07-04T20:43:20.243

这是解决方案

```
 private GoogleMap mMap;
    private Marker markerCenter;

    @Override
    public void onMapReady(GoogleMap googleMap) {

       mMap = googleMap; 

       MarkerOptions markerOptions = new MarkerOptions();
       markerOptions.position(mMap.getCameraPosition().target);
       markerCenter = mMap.addMarker(markerOptions);

       mMap.setOnCameraMoveListener(new GoogleMap.OnCameraMoveListener() {
          public void onCameraMove() {
              markerCenter.setPosition(mMap.getCameraPosition().target);
          }
       });

    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-06-08T19:25:29.663

```
Marker marker;//have a instance variable marker
mMap.setOnCameraChangeListener(new OnCameraChangeListener();
public void onCameraChange(CameraPosition cameraPosition) {   
                MarkerOptions options = new MarkerOptions()
                                        .position(cameraPosition.target);

                 if(marker != null){marker.remove();}
                 marker = mMap.addMarker(options);
} 
```

这不会很顺利，因为在中间帧期间不会调用 onCameraChange 回调。只有在相机完全更改后才会调用它。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-02-10T14:17:23.113

调用 addMarker 时获取标记引用。当相机移动后，将标记移动到相机返回的**目标**位置。

```
private Marker marker;

public void onMapReady(final GoogleMap googleMap) {
        LatLng sydney = new LatLng(-34, 151);
        MarkerOptions markerOptions = new MarkerOptions().position(sydney).title("Marker in Sydney");
        marker = googleMap.addMarker(markerOptions);
        googleMap.moveCamera(CameraUpdateFactory.newLatLng(sydney));
        googleMap.setOnCameraMoveListener(new GoogleMap.OnCameraMoveListener() {
            @Override
            public void onCameraMove() {
                final LatLng target = googleMap.getCameraPosition().target;
                marker.setPosition(target);
            }
        });
} 
```

# .net - 如何将目标平台添加到 VS 2010

> ID：14152599
> 
> 赞同：0
> 
> 时间：2013-01-04T06:59:06.910
> 
> 标签：.net, visual-studio-2010, windows-xp

我在 WinXP 上运行 VS 2010 Express。我的系统中安装了 .net 4.0 框架 SDK 和 .net 2.0 sdk。问题是我无法选择 .net 2.0 作为我的应用程序的目标平台 - 只有 .net 4.0 可用。有没有办法将 2.0 添加为 .net 应用程序的目标平台？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T18:30:54.650

安装 .Net 3.5 Framework 解决了这个问题。

# android - Android - 如何处理 XML 中的 Web 服务？

> ID：14152603
> 
> 赞同：9
> 
> 时间：2013-01-04T06:59:12.920
> 
> 标签：android, xml, web-services

我有一个示例 XML 文件，如下所示：

```
 <?xml version="1.0"?>
  <h:html xmlns="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa" xmlns:orx="http://openrosa.org/xforms/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
 <h:head>
<h:title>tutorial</h:title>
<model>
  <instance>
    <tutorial id="tutorial">
      <name/>
      <age/>
      <gender/>
      <photo/>
      <date/>
      <location/>
      <thanks/>
      <start/>
      <end/>
      <today/>
      <deviceid/>
      <subscriberid/>
      <simserial/>
      <phonenumber/>
      <meta>
        <instanceID/>
      </meta>
    </tutorial>
  </instance>
  <bind nodeset="/tutorial/name" required="true()" type="string"/>
  <bind constraint=". &gt; 0 and . &lt; 120" jr:constraintMsg="That's not a valid age!" nodeset="/tutorial/age" required="true()" type="int"/>
  <bind nodeset="/tutorial/gender" type="select1"/>
  <bind nodeset="/tutorial/photo" type="binary"/>
  <bind nodeset="/tutorial/date" type="date"/>
  <bind nodeset="/tutorial/location" type="geopoint"/>
  <bind nodeset="/tutorial/thanks" readonly="true()" type="string"/>
  <bind jr:preload="timestamp" jr:preloadParams="start" nodeset="/tutorial/start" type="dateTime"/>
  <bind jr:preload="timestamp" jr:preloadParams="end" nodeset="/tutorial/end" type="dateTime"/>
  <bind jr:preload="date" jr:preloadParams="today" nodeset="/tutorial/today" type="date"/>
  <bind jr:preload="property" jr:preloadParams="deviceid" nodeset="/tutorial/deviceid" type="string"/>
  <bind jr:preload="property" jr:preloadParams="subscriberid" nodeset="/tutorial/subscriberid" type="string"/>
  <bind jr:preload="property" jr:preloadParams="deviceid" nodeset="/tutorial/simserial" type="string"/>
  <bind jr:preload="property" jr:preloadParams="phonenumber" nodeset="/tutorial/phonenumber" type="string"/>
  <bind calculate="concat('uuid:', uuid())" nodeset="/tutorial/meta/instanceID" readonly="true()" type="string"/>
</model>
</h:head>
<h:body>
<input ref="/tutorial/name">
  <label>What's your name?</label>
</input>
<input ref="/tutorial/age">
  <label>How old are you?</label>
</input>
<select1 ref="/tutorial/gender">
  <label>Gender</label>
  <item>
    <label>Male</label>
    <value>male</value>
  </item>
  <item>
    <label>Female</label>
    <value>female</value>
  </item>
</select1>
<upload mediatype="image/*" ref="/tutorial/photo">
  <label>Please Take a picture</label>
</upload>
<input ref="/tutorial/date">
  <label>Date</label>
</input>
<input ref="/tutorial/location">
  <label>Where are you?</label>
  <hint>You need to be outside for your GPS to work.</hint>
</input>
<input ref="/tutorial/thanks">
  <label>Thanks for your time <output value="/tutorial/name"/>!</label>
</input>
</h:body>
</h:html> 
```

现在我想填充`<input ref="/tutorial/name">`来自 Web 服务响应的数据？我有一个正确给出响应的网络服务。请帮我....

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-23T04:53:29.800

替换`<input ref="/tutorial/name">`标签。您必须遵循这三个步骤。

1)`<input ref="/tutorial/name">`在 XML 文件中找到 TAG。

2）做更新，删除，替换你想要的任何功能。

3）将内容写入XML文件

**第 1 步：查找节点：**

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder db = factory.newDocumentBuilder();
Document dom = db.parse(FILE);
Element root = dom.getDocumentElement();

//get node-list,
NodeList inputNodeList = root.getElementsByTagName("input");

//iterate over all input node to find the desired one.
for(int i=0;i<inputNodeList.length();i++){
  Node inputNode = inputNodeList.item(i); //get a single node.
  String refStr = inputNode.getAttributes().getNamedItem("ref").getNodeValue();
  if(refStr.compareTo("/tutorial/name")==0){

     // Bingo, You have find the NODE. Now you can do any operations like delete, edit whatever you want.
   }
} 
```

**第 2 步：执行替换操作。**

您可以使用删除节点。

```
inputNode.getParentNode().removeChild(inputNode); 
```

如果要替换节点，请查看[replaceChild()](http://www.androidjavadoc.com/m5-rc15/android/xml/dom/InnerNodeImpl.html#replaceChild%28org.w3c.dom.Node,%20org.w3c.dom.Node%29)方法。

基本思想是，

*   **从响应字符串创建一个节点**。请参阅[此链接](https://stackoverflow.com/questions/729621/convert-string-xml-fragment-to-document-node-in-java)以从字符串创建 xml 节点。
*   **使用 inputNode.getParentNode() 查找 inputNode 的父级**。
*   **使用 replaceChild() 方法将旧节点替换为新节点**。

对于 replaceChild() 方法的示例，您可以参考[此链接](http://www.w3schools.com/dom/dom_nodes_replace.asp)。这是一个很好的使用 DOM 解析器修改 XML 文件的教程 - [TUTORIAL](http://www.mkyong.com/java/how-to-modify-xml-file-in-java-dom-parser/)。

**第 3 步：将内容写入 XML 文件。**

```
TransformerFactory transformerFactory = TransformerFactory.newInstance();  
Transformer transformer = transformerFactory.newTransformer();   
DOMSource source = new DOMSource(doc);   
StreamResult result = new StreamResult(selectedFile); 
transformer.transform(source, result); 
```

希望，这会给你一些关于完成你想要的任务的提示。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-22T20:19:42.813

我正在使用 SAXParser 处理我的应用程序中的 xml 解析。

```
try {
        /**
         * Create a new instance of the SAX parser
         **/
        SAXParserFactory saxPF = SAXParserFactory.newInstance();
        SAXParser saxP = saxPF.newSAXParser();
        XMLReader xmlR = saxP.getXMLReader();
        URL url = new URL("http:Your URL"); // URL of the XML
        XMLHandler myXMLHandler = new XMLHandler();
        xmlR.setContentHandler(myXMLHandler);
        xmlR.parse(new InputSource(url.openStream()));

    } catch (Exception e) {
        e.printStackTrace();
    } 
```

这里还有一个很好的教程：http: [//mobile.tutsplus.com/tutorials/android/android-sdk-build-a-simple-sax-parser/](http://mobile.tutsplus.com/tutorials/android/android-sdk-build-a-simple-sax-parser/)

# phpunit - “标头已发送” PHPUnit 测试期间返回的错误

> ID：14152608
> 
> 赞同：14
> 
> 时间：2013-01-04T06:59:29.963
> 
> 标签：phpunit, output-buffering

我正在使用 PHPUnit 测试一套 REST Web 服务。我们使用输出缓冲来对响应进行 gzip 编码。当我使用 PHPUnit 对服务进行测试时，出现错误：

```
Cannot modify header information - headers already sent by (output started at /home/dotcloud/php-env/share/php/PHPUnit/Util/Printer.php:172) 
```

它抱怨我的代码回显是浏览器的输出......

`ob_start()`我可以通过在测试类的顶部添加一个调用来临时解决这个问题，但是当我一次运行多个测试时，我再次收到此错误。

有任何想法吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2015-12-14T17:41:28.733

有几种不同的优点和缺点的选择：

1.  `@runInSeparateProcess`正如您已经发现的那样，在单独的进程中运行测试。**好：**更好的测试隔离，**坏：**更差的性能，不适用于全局常量
2.  使用`--stderr`标志将 PHPUnit 输出定向到 STDERR。**好：**测试按预期工作，没有变化，**坏：**感觉像一个肮脏的解决方法，可能是 CI 工具的问题
3.  实际上不发送标头。要么用存根替换使用的类，`header()`要么如果这不容易实现，或者你想做一个完整的功能测试，模拟`header()`函数本身。[有关在此答案](https://stackoverflow.com/questions/2371854/can-i-mock-time-in-phpunit/5337635)中模拟内置函数的更多信息。**好：**您也可以测试标头的内容，您的测试确实较少依赖全局状态**坏：**您需要编写更多测试代码

我会选择 (3) 并且可能还会重构代码以拥有一个负责标头并且可以轻松模拟的单个类。

# linux - 如何在svn中提交文件并自动传输到多个应用服务器

> ID：14152616
> 
> 赞同：0
> 
> 时间：2013-01-04T07:00:11.480
> 
> 标签：linux, webserver

我有多个应用程序服务器。有什么方法可以让我在 svn 中提交文件，并且所有提交的文件都会自动传输到我的所有应用程序服务器中。

此外，如果可能的话，我可以提交文件，首先这些文件只传输到生产服务器，当我检查所有文件是否正常工作时，然后通过一些命令将它们传输到我的实时服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:07:30.720

您可以使用持续集成服务器来执行此操作。我们正在使用 Jenkins（参见[http://jenkins-ci.org/](http://jenkins-ci.org/)）来完成类似的任务。您可以运行测试、将文件复制到不同的服务器、执行脚本（例如，如果您想启动/停止/重新部署您的应用程序，...）。

# java - 防止用户在jsp中注销后返回

> ID：14152621
> 
> 赞同：1
> 
> 时间：2013-01-04T07:00:24.733
> 
> 标签：java, javascript, jsp

> **可能重复：**
> [防止用户在注销后返回上一个安全页面](https://stackoverflow.com/questions/4194207/prevent-user-from-going-back-to-the-previous-secured-page-after-logout)

我需要通过防止用户在注销后访问 Java 应用程序（mvc）来保护它。

客观的：

1.最终用户在退出后应该无法使用浏览器后退按钮访问受限页面。2.Enduser在登出后应该无法访问浏览器历史记录中的任何受限URL

谷歌搜索后，我了解到禁用浏览器后退按钮不是一个好习惯。那么我怎样才能在 JSP 中最好地实现这一点？

谢谢&问候阿什什

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T07:06:36.603

在每个页面中，您可能都可以清除`cached page`.

```
 <%
  response.setHeader("Cache-Control","no-cache");
  response.setHeader("Cache-Control","no-store");
  response.setHeader("Pragma","no-cache");
  response.setDateHeader ("Expires", 0);

  if(session.getAttribute("some_token")==null)
      response.sendRedirect("login/login.html");

  %> 
```

在`logout`您必须使会话无效，因此当您单击返回时，它将检查`some_token`属性值`session`，如果不存在，它会将您重定向到`login`page 。但请记住，登录后您正在`some_token`会话中设置属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:16:34.923

对于每个受限 JSP/Servlet，您应该检查用户是否已登录。如果用户未登录，则将他们重定向到非受限页面。（您不需要任何 JavaScript）

```
<%
   int userId = session.getAttribute("userId");
   if(userId == null) {
      response.sendRedirect(redirectURL);
   }
%> 
```

当用户注销时，您使会话无效，因此当用户尝试访问受限制的 JSP/Servlet 页面时，您的身份验证逻辑将重定向他。

```
<% session.setAttribute("userId", null); // in your logout.jsp page %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:03:35.770

保护资源的一般方法 -

1.  将会话属性检查（例如用户对象）放在受限页面控制器中。
2.  注销后使会话无效。

# javascript - 可以通过链接点击刷新javascript吗？

> ID：14152623
> 
> 赞同：0
> 
> 时间：2013-01-04T07:00:30.973
> 
> 标签：javascript

> **可能重复：**
> [当前页面的 Javascript 硬刷新](https://stackoverflow.com/questions/2099201/javascript-hard-refresh-of-current-page)

我有一个随机图像 javascript，它在页面加载时加载随机图像。单击名为“随机图像”的链接时，我想加载另一个随机图像。这是页面： [http ://www.heybrian.com/](http://www.heybrian.com/)

现在的方式是，“随机图像”链接只是刷新了整个页面，从而拉入了一个新的随机图像。

编辑：

下面是（截断的）javascript 代码。请注意，可以加载大约 100 张随机照片，但为了简化起见，我只包括了四张：

```
images = new Array(99);

images[0] = "<div id='content_white_border' style='border: 1px white solid;'><div id='content_photo'><a href = 'travels/thailand/2004/ko_tao.php'><img src='lib/images/travels/thailand/2004/ko_tao_mango_bay.jpg' alt='' width='956' height='512' border='0' /></a></div></div><h4>Mango Bay (Taa Toh Bay), Ko Tao &mdash; April 9, 2004</h4>";

images[1] = "<div id='content_white_border' style='border: 1px white solid;'><div id='content_photo'><a href = 'travels/france'><img src='lib/images/travels/france/eiffel_close.jpg' alt='' width='956' height='512' border='0' /></a></div></div><h4>La Tour Eiffel, Paris, France &mdash; November 26, 2006</h4>";

images[2] = "<div id='content_white_border' style='border: 1px white solid;'><div id='content_photo'><a href = 'travels/china/2007/hangzhou.php'><img src='lib/images/travels/china/2007/hangzhou_gold_buddha.jpg' alt='' width='956' height='512' border='0' /></a></div></div><h4>Buddha image,  Língyǐn Temple <span lang='zh' xml:lang='zh'>灵隐寺&lt;/span>, Hángzhōu, China &mdash; August 2, 2007</h4>";

images[3] = "<div id='content_white_border' style='border: 1px white solid;'><div id='content_photo'><a href = 'travels/sri_lanka'><img src='lib/images/travels/sri_lanka/elephant_baby_wide.jpg' alt='' width='956' height='512' border='0' /></a></div></div><h4>Baby at the elephant breeding center, Kandy, Sri Lanka</h4>";

images[4] = "<div id='content_white_border' style='border: 1px white solid;'><div id='content_photo'><a href='travels/mongolia/'><img src='lib/images/travels/mongolia/man_baby_3_wide.jpg' alt='' width='956' height='512' border='0' /></a></div></div><h4>Mongol and his baby, Mongolia &mdash; July 2006</h4>";

index = Math.floor(Math.random() * images.length);
document.write(images[index]); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:50:59.177

您不应该在“随机图像”链接上使用 location.reload()。而是使用 JavaScript 添加图像内容：

```
var link = document.getElementById('id_for_random_image_link');
link.addEventListener("click", function(evt){ 
   // code to insert your image
}, false); 
```

`document.write();`此外，当您只想`<div id="content_photo">`用新图像替换其中的图像时，您不应该使用它效率低下。因此，您应该删除`<div id='content_white_border'><div id="content_photo">`JavaScript`images`数组中的所有 HTML 标记，并将之前的函数转换为：

```
var link = document.getElementById('id_for_random_image_link');
link.addEventListener("click", function(evt){ 
   var index = Math.floor(Math.random() * images.length);
   document.getElementById('content_photo').innerHTML = images[index];
}, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:56:42.127

使用一个 `onclick`事件，随机改变SRC属性；

保持干燥：从您的 JS 中删除所有重复的、混乱的 HTML 并将其放入文档正文中，仅`href`在数组中保留文件名和任何其他可变数据（例如 ）。您可以使用对象数组：

```
var imgs = [
{name:"some_img.jpg",
 href:"dir\some.php"},
{name:"another_img.jpg",
 href:"direct\something.php"},
{name:"yet_antoher_img.jpg",
 href:"directory\some.php"}]; 
```

然后根据需要使用 JQuery 替换图像 SRC 和其他属性和内容。简化结构：

```
 $("button").onclick(function(){
   index = Math.floor(Math.random() * imgs.length);
   current = imgs[index];
   $("a").attr("href",current.href);
   $("img").attr("src",current.name);
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:04:58.483

如果您知道所有可供选择的图像，您可以将它们放在一个数组中，并在按钮完全用 Javascript 加载时随机选择一个：

```
var imgs = ["a.jpg", "b.jpg", "c.jpg"];

function pickImage()
{
    var idx = parseInt(Math.floor(Math.random() * imgs.length), 10);
    document.getElementById("random_image").src = imgs[idx];
} 
```

如果您不想将图像数组放在 Javascript 中，那么您需要使用 AJAX 来调用服务器。然后，服务器将确定应该显示哪个图像，并将路径返回给浏览器。

# c++ - 在 C++ 中使用 Scripting.FileSystemObject 时，#import 之后的下一步是什么？

> ID：14152625
> 
> 赞同：0
> 
> 时间：2013-01-04T07:00:40.770
> 
> 标签：c++, excel, visual-studio-2010, filesystemobject, xlw

上下文：Windows 7、XLW 5.x、Microsoft Excel 2007、Visual Studio 2010、C++

鉴于以下代码...

```
#import "c:\windows\system32\scrrun.dll" raw_interfaces_only, \
raw_native_types, \
named_guids, \
rename("DeleteFile", "_DeleteFile"), \
rename("MoveFile","_MoveFile"), \
rename("CopyFile", "_CopyFile"), \
rename("GetFreeSpace", "_GetFreeSpace")
using namespace Scripting; 
```

我现在如何实例化 FileSystemObject 并调用它的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T08:19:53.853

这对我有用

```
std::wstring fileExists(std::wstring name)
{
    VARIANT_BOOL b = 0;
    ::CoInitialize(NULL);
    {
        CComPtr<IFileSystem> spFSO;
        HRESULT hr = spFSO.CoCreateInstance(L"Scripting.FileSystemObject");
        if (SUCCEEDED(hr) && spFSO)
        {
            BSTR theName = SysAllocStringLen( name.data(), name.size());
            hr = spFSO->FileExists(theName, &b);
        }
    }
    ::CoUninitialize();
    return (b == -1) ? L"Exists" : L"Doesn't exist";
} 
```

这至少让我连接到功能。仍然有适合这种情况的方法，但这超出了发布的范围。

# php - 带有端口号问题的 PHP Curl

> ID：14152628
> 
> 赞同：3
> 
> 时间：2013-01-04T07:00:58.507
> 
> 标签：php, curl, port

这是使用带有 Curl 的 PHP（在托管服务器上）的问题。我正在尝试控制端口`54512`（例如）上的远程设备（LED 状态）。`$url`包括`IP:port`与短 CGI 命令连接的数字。

以下是代码片段；

```
$sensorIP = "77.134.85.187:54512"; // IP:port format

$url = $sensorIP . "/setParam.cgi?DOStatus_02=0" ; // set E2210 LED off

echo $url; // 

$result =  accessURL ($url); // set LED state on E2210 remote unit 
```

此代码超时。当我在网络浏览器中使用 $url 作为地址时，它可以正常工作。所以接收端口54512没有被阻塞。当我`IP:80`用来形成`$url`它工作正常（接收端口设置为 80）。我尝试使用该`CURLOPT_PORT`选项，PHP 脚本仍然超时。

发送服务器传出 HTTP 没有阻止任何端口号，我与托管公司核实过。他们认为我有一个编程错误，但在哪里？

谢谢！铝

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T13:13:14.217

解决方法：

1.  尝试`$sensorIP = "http://77.134.85.187:54512";`

2.  确保出站端口 54512 已打开（请咨询您的托管服务提供商）

3.  在`curl_exec()`函数之后，添加`$output = curl_getinfo($ch);`并打印并检查输出。你可以从中得到一些信息。

4.  不要将端口号作为 url 的一部分。请改用以下内容：

    `curl_setopt($ch, CURLOPT_PORT, '54512');`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2017-11-02T08:49:00.677

我最近遇到了同样的问题。我几乎尝试了所有方法，但还没有运气 据我了解，curl 不适用于除 80 之外的其他端口。所以这里最好的解决方案是解决端口 80 上的 curl 问题，你不会像我一样遇到任何问题现在。希望这些信息对您有所帮助。

# php - mysql表中的空日期和时间

> ID：14152630
> 
> 赞同：0
> 
> 时间：2013-01-04T07:01:02.483
> 
> 标签：php, xml, datetime, curl, google-calendar-api

我在日期时间列中插入日期和时间，我只获取日期和时间的值我手动分配它，以使日期时间与 MySQL 日期时间语法相匹配，我做了类似的事情：

```
if($start==NULL && $end==NULL){    
    $start = '01:00:00';
    $end = '02:00:00';    
}

$eve_start = $year."-".$nmonth."-".$date." ".$start;
$eve_end = $year."-".$nmonth."-".$date." ".$end; 
```

现在我得到**$year 中的 year**，**$nmonth 中的 month ， $** date**中的 date**和 $start 作为我的开始时间和 $end 作为结束时间。

$eve_start 应该看起来像 2012-06-01 01:00:00，当我单独打印它们时，我得到了适当的值来代替 $year、$nmonth、$date，但是当我打印 $eve_start 或 $eve_end 时我得到了仅打印年份部分。

同样在数据库中，插入为 0000-00-00 00:00:00 的日期时间的相应值必须是 2012-06-01 01:00:00。

我从 XML 标记中获取这些值，我正在使用 XML 格式和 CURL 导入 Google 日历事件。现在对于简单的事件，我得到了开始和结束日期的时间。但是当它是全天事件时，我没有在 xml 文件中获得时间，我只能获得开始和结束日期。现在我正在做的是每当一整天的事件发生时，我都会检查开始和结束时间，如果它为空，我会为它们分配静态值。我在我的数据库中插入简单事件没有任何问题，唯一的问题是全天事件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:16:06.530

您应该使用 mktime() 以时间戳格式存储时间。并使用 date() 函数检索它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:26:51.130

查看[MySQL DATE_FORMAT](http://dev.mysql.com/doc/refman/5.1/en/date-and-time-functions.html#function_date-format)。

MySQL 将默认日期时间存储为 yyyy:mm:dd h:i:s。

下面的代码将帮助您解决问题。

```
SELECT
      DATE_FORMAT(YOUR_DATE_FIELD,'%Y') AS YOUR_YEAR,
      DATE_FORMAT(YOUR_DATE_FIELD,'%m') AS YOUR_MONTH,
      DATE_FORMAT(YOUR_DATE_FIELD,'%d') AS YOUR_DAY
from your_table 
```

并将日期时间字段存储在 MySQL 中，您可以简单地添加 NOW() mysql 函数来存储当前日期和时间。

`INSERT INTO `table` ( `data` , `date` ) VALUES('".$date."',NOW() );`

您能否编辑您的问题并添加有关问题的更多详细信息。

1.  这三个变量的来源。
2.  您为这三个分配了什么价值。
3.  如果是，您是否从 MySQL 查询中获得这三个，那么我的上述解决方案将解决它。

如果它仍然没有解决问题，那么问题可能不在脚本中，而是在**浏览器缓存中**

运行代码并查看有帮助的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T13:27:10.627

1.  PHP 方面：我尝试了相同的代码，PHP 为我正确打印了日期时间。

    [http://codepad.org/mKmNM9Yu](http://codepad.org/mKmNM9Yu)

2.  Mysql方面：确保列类型是' **datetime** '。并确保您在**插入**查询中正确分配了日期变量。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:03:43.703

您应该使用 date() 函数对其进行格式化

```
$start_dt = date("Y-m-d H:i:s", strtotime($eve_start));
$end_dt = date("Y-m-d H:i:s", strtotime($eve_end )); 
```

# node.js - node.js websocket 模块已安装但在脚本中不起作用

> ID：14152635
> 
> 赞同：9
> 
> 时间：2013-01-04T07:01:27.803
> 
> 标签：node.js, websocket

我刚刚安装了 node.js + microsoft visual 以便能够安装 websocket，它安装得很好：

```
C:\Users\Administrator>npm install websocket
npm http GET https://registry.npmjs.org/websocket
npm http 304 https://registry.npmjs.org/websocket

> websocket@1.0.8 install C:\Users\Administrator\node_modules\websocket
> node install.js

[websocket v1.0.8] Attempting to compile native extensions.
[websocket v1.0.8] Native extension compilation successful!
websocket@1.0.8 node_modules\websocket

C:\Users\Administrator> 
```

现在我正在尝试用这个运行一个脚本：

```
 var WebSocketServer = require('websocket').Server; 
```

我明白了：

```
C:\Users\Administrator>node C:\server\src\main.js

module.js:340
throw err;
      ^
Error: Cannot find module 'websocket'
at Function.Module._resolveFilename (module.js:338:15)
at Function.Module._load (module.js:280:25)
at Module.require (module.js:362:17)
at require (module.js:378:17)
at Object.<anonymous> (C:\server\src\main.js:2:23)
at Module._compile (module.js:449:26)
at Object.Module._extensions..js (module.js:467:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
at Module.runMain (module.js:492:10)

C:\Users\Administrator> 
```

任何帮助将不胜感激，我已经尝试安装好几次，我尝试全局安装它（-g 标签）。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-01-10T20:22:54.630

请注意，如果您全局安装了 NPM 模块（带有`-g`选项）并且没有告诉`node`使用全局模块路径来解决需求，您可能会收到此错误。

在 Linux 上，我`websocket`全局安装了模块：

```
$ sudo npm install -g websocket
npm http GET https://registry.npmjs.org/websocket
npm http 200 https://registry.npmjs.org/websocket
npm http GET https://registry.npmjs.org/websocket/-/websocket-1.0.8.tgz
npm http 200 https://registry.npmjs.org/websocket/-/websocket-1.0.8.tgz

> websocket@1.0.8 install /usr/local/lib/node_modules/websocket
> node install.js

[websocket v1.0.8] Attempting to compile native extensions.
[websocket v1.0.8] Native extension compilation successful!
websocket@1.0.8 /usr/local/lib/node_modules/websocket 
```

在此之后，我必须导出`NODE_PATH`环境变量以指向上述输出中提到的路径：

```
export NODE_PATH=/usr/local/lib/node_modules 
```

在这之后：

```
$ node
> require('websocket')
{ server: 
   { [Function: WebSocketServer]
     super_: { [Function: EventEmitter] listenerCount: [Function] } },
     ... 
```

希望这可以帮助搜索此错误消息的人。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-17T14:30:53.620

我在这里遇到了同样的错误。我按照以下步骤操作：

以管理员身份执行cmd（右键cmd图标->以管理员身份运行）然后输入cmd：

```
c:\Node Instalation Dir\> npm install -g express
c:\Node Instalation Dir\> npm install websocket --force 
```

现在你可以运行你的脚本：

```
c:\Node Instalation Dir\> node script.js 
```

我在测试服务器中做过.. 尝试不要在生产服务器中使用“--force”，好吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T07:23:47.747

npm 将模块安装在`./node_modules/`. 所以你**应该**在`C:\server\src\`.

# android - 在android中使用Gallery时未调用onactivityresult

> ID：14152638
> 
> 赞同：0
> 
> 时间：2013-01-04T07:01:31.530
> 
> 标签：android, android-intent

我正在使用此代码在我的 Android 应用程序中打开一个画廊。

```
Intent intent = new Intent(Intent.ACTION_PICK, Media.EXTERNAL_CONTENT_URI);
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivityForResult(intent, GALLERY); 
```

它会打开画廊，但是当我从那里选择任何图像时，它也会关闭但不称为`onActivityResult`方法。

方法在这里....

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {     

    Log.v(TAG, "requestCode = "+requestCode+" resultCode = "+resultCode);
    Log.v(TAG, "inside onActivityResult");

    if (requestCode == GALLERY || requestCode == CAMERA) {
        if (resultCode == RESULT_OK) 
        {
            Log.v(TAG, "inside onActivityResult OK ");
            Log.v("log_tag", "onactivity result: " + requestCode);
            if(requestCode == CAMERA)
            {
                Log.v(TAG, "inside onActivityResult Camera");
                 file = getTempFile(this.getParent());  
                 try {  
                    m_bmOCRBitmap = Media.getBitmap(getContentResolver(), Uri.fromFile(file) );

                    FileOutputStream out = new FileOutputStream(file);

                    int width = m_bmOCRBitmap.getWidth();
                    int height = m_bmOCRBitmap.getHeight();
                    if(width>height)
                    {
                        calwidth = (int)((width * 250)/height);
                        calheight = 250;
                    }
                    else
                    {
                        calheight = (int)((height * 200)/width);
                        calwidth = 200;
                    }

                    Log.v(TAG, "calwidth = "+calwidth+" calheight = "+calheight);
                    bitmap = Bitmap.createScaledBitmap(m_bmOCRBitmap, calwidth, calheight, true);                                                                   

                    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);
                    productImage.setImageBitmap(bitmap);

                    } catch (FileNotFoundException e) {  
                      e.printStackTrace();  
                    } catch (IOException e) {  
                      e.printStackTrace();  
                    }  
            }
            else if(requestCode == GALLERY)
            {
                Log.v(TAG, "inside onActivityResult GALARY ");
                String selectedImagePath = getPath(data.getData());
                file = new File(selectedImagePath);                                     
                m_bmOCRBitmap = BitmapFactory.decodeFile(selectedImagePath);
                Log.v("log_tag", "selectedImagePath:" + selectedImagePath + ":" );
                Log.v("log", "first image : "+m_bmOCRBitmap);
                try {
                    FileOutputStream out = new FileOutputStream(file);
                    int width = m_bmOCRBitmap.getWidth();
                    int height = m_bmOCRBitmap.getHeight();
                    if(width>height)
                    {
                        calwidth = (int)((width * 250)/height);
                        calheight = 250;
                    }
                    else
                    {
                        calheight = (int)((height * 200)/width);
                        calwidth = 200;
                    }
                    bitmap = Bitmap.createScaledBitmap(m_bmOCRBitmap, calwidth, calheight, true);                                                                   

                    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);
                    productImage.setImageBitmap(bitmap);

                } catch (Exception e) {
                    Log.v("log_tag", "Exception: " + e.toString());
                }
            }                           
        }
    }       
    super.onActivityResult(requestCode, resultCode, data);
} 
```

称为 Intent 时的警告是

```
01-04 12:21:06.434: D/PhoneWindow(367): couldn't save which view has focus because the focused view com.android.internal.policy.impl.PhoneWindow$DecorView@4054fb60 has no id. 
```

请注意，我已将此活动作为 Tabgoup 活动的子活动开始。

请建议我。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:18:47.570

`onActivityResult()`没有触发的可能性很多。

*   如果您的请求代码 < 0
*   如果你已经`android:launchMode="singleInstance"`在 Manifest.xml 中设置了
*   如果您使用的是 Fragment，那么您必须调用 Fragment `startActivityOnResult`而不是 Activity

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-01-05T05:05:01.640

我像这样在父类中添加了这个方法

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    ProductImageActivity activity = (ProductImageActivity)getLocalActivityManager().getCurrentActivity();
    try {
        activity.onActivityResult(requestCode, resultCode, data,0);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

在我目前的课程中，我开始了这样的新意图。

```
Intent intent = new Intent(Intent.ACTION_PICK, Media.EXTERNAL_CONTENT_URI);
getParent().startActivityForResult(intent, GALLERY); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-01-04T07:25:43.327

检查[http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_NEW_TASK](http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_NEW_TASK)了解 Intent.FLAG_ACTIVITY_NEW_TASK 的行为。它用于独立活动。

```
This flag is generally used by activities that want to present a "launcher" style      behavior: they give the user a list of separate things that can be done, which otherwise run completely independently of the activity launching them. 
```

删除该行后，您将在选择图像后调用 onActivityResult。

```
 Intent intent = new Intent(Intent.ACTION_PICK, Media.EXTERNAL_CONTENT_URI);
    startActivityForResult(intent, GALLERY); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:08:53.913

试试这个并使用`Intent`Like this For Fetching Image From`Gallery`

```
 Intent intent = new Intent(Intent.ACTION_PICK);
        intent.setType("image/*");
        startActivityForResult(intent, GALLERY); 
```

或者

```
 Intent intent = new Intent(Intent.ACTION_PICK,
                    android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
        startActivityForResult(intent, GALLERY); 
```

# sdk - 我们可以在 Windows Phone 7 或 7.1 模拟器中锁定屏幕吗？

> ID：14152640
> 
> 赞同：0
> 
> 时间：2013-01-04T07:01:36.557
> 
> 标签：sdk, windows-phone-7.1, windows-phone-7-emulator

我正在VS2010（WP7.1 SDK）上写一些Windows手机APP，打算使用锁屏功能。据我所知，我们可以在 WP8 模拟器上按“F12”锁定屏幕。我不知道我们是否可以在 WP7 或 WP7.1 模拟器上锁定屏幕。我期待着您的回复。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-05T10:22:03.670

我希望，Win phone 7.0 模拟器是不可能的。

Win Phone 7.1 模拟器是可能的：这是关于 [http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj662945%28v=vs.105%29.aspx的 MSDN 链接](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj662945%28v=vs.105%29.aspx)

在上面的链接中，他们将 Windows Phone OS 7.1 放在了列表中（在顶部）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T15:08:46.610

不幸的是，在 VS2010 附带的模拟器中这是不可能的。

但是你可以在VS2012中开发WP7.1，使用VS2012支持锁屏的模拟器。

# c - 我怎么知道 2 exe 是否有不同的代码？

> ID：14152641
> 
> 赞同：-1
> 
> 时间：2013-01-04T07:01:39.647
> 
> 标签：c, checksum

我有一个用于一个月前构建的特定程序的工作 exe。开发环境中不小心删除了exe，所以编译了一个新的exe。但是，我在 uat 环境中有一个工作 exe 的副本，它的校验和与新的 exe 不同。

2个exe具有相同的大小：

> ----------+ 1 raymond1 域用户 623616 Jan 3 16:47 A.EXE;24
> 
> ----------+ 1 raymond1 域用户 623616 Jan 4 11:11 A.EXE;25

但是他们得到了不同的校验和：

```
$ sha1sum "A.EXE;24"
cb87ec4b746677903969ba61361a60c14461b5e0 *RIIB.EXE;24
$ sha1sum "A.EXE;25"
09453f40e53e280abbb98bd0013f1ddf312706b8 *RIIB.EXE;25 
```

所以我想知道我生成新exe的方式是否有任何问题，也许我忘记编译它所依赖的一些程序。

无论如何，我用与版本 25 完全相同的方式编译了另一个 exe。它的大小仍然与其他两个 exe 相同。我只是再次链接它。但是版本 26 也有不同的校验和。

```
$ sha1sum "RIIB.EXE;26"
e2378544a91db49927738fd0135181b9daf125be *RIIB.EXE;26 
```

所以我想知道我是否可以找出它们之间的不同之处。

PS exe 是在 OpenVms 中生成的，我将其 ftp 到我的机器上进行校验和（WIN 7 中的 CYGWIN）。

编辑：

我按照评论中的建议做了一个二进制差异。

结果如下：

```
$ xxd "A.EXE;24" > b24.hex
$ xxd "A.EXE;25" > b25.hex
$ xxd "A.EXE;26" > b26.hex

$ diff b24.hex b25.hex
34849,34850c34849,34850
< 0088200: 1900 0060 0000 0000 6ff8 42de 9b2c 0100  ...`....o.B..,..
< 0088210: 3500 0060 0000 0000 8c6f f842 de9b ac00  5..`.....o.B....
---
> 0088200: 1900 0060 0000 0000 62b3 87f4 cd2c 0100  ...`....b....,..
> 0088210: 3500 0060 0000 0000 0b62 b387 f4cd ac00  5..`.....b......
38862c38862
< 0097cd0: 4950 462f 564d 5300 8c6f f842 de9b ac00  IPF/VMS..o.B....
---
> 0097cd0: 4950 462f 564d 5300 0b62 b387 f4cd ac00  IPF/VMS..b......
38868c38868
< 0097d30: 0100 0000 0300 0000 8c6f f842 de9b ac00  .........o.B....
---
> 0097d30: 0100 0000 0300 0000 0b62 b387 f4cd ac00  .........b......
38872c38872
< 0097d70: 4950 462f 564d 5300 8c6f f842 de9b ac00  IPF/VMS..o.B....
---
> 0097d70: 4950 462f 564d 5300 0b62 b387 f4cd ac00  IPF/VMS..b......    

$ diff b25.hex b26.hex
34849,34850c34849,34850
< 0088200: 1900 0060 0000 0000 62b3 87f4 cd2c 0100  ...`....b....,..
< 0088210: 3500 0060 0000 0000 0b62 b387 f4cd ac00  5..`.....b......
---
> 0088200: 1900 0060 0000 0000 10a5 1c14 ce2c 0100  ...`.........,..
> 0088210: 3500 0060 0000 0000 e710 a51c 14ce ac00  5..`............
38862c38862
< 0097cd0: 4950 462f 564d 5300 0b62 b387 f4cd ac00  IPF/VMS..b......
---
> 0097cd0: 4950 462f 564d 5300 e710 a51c 14ce ac00  IPF/VMS.........
38868c38868
< 0097d30: 0100 0000 0300 0000 0b62 b387 f4cd ac00  .........b......
---
> 0097d30: 0100 0000 0300 0000 e710 a51c 14ce ac00  ................
38872c38872
< 0097d70: 4950 462f 564d 5300 0b62 b387 f4cd ac00  IPF/VMS..b......
---
> 0097d70: 4950 462f 564d 5300 e710 a51c 14ce ac00  IPF/VMS......... 
```

它们在同一行中具有不同之处。也许是时间戳导致问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:13:29.357

就程序功能而言，两个版本之间没有区别，因为您使用完全相同的参数编译完全相同的代码（除非您有一些非常奇怪的编译器错误）。请注意，您可能还对代码中的环境设置有一些依赖性，例如编译器生成的日期或时间常量 - 对于每次编译，这自然会有所不同。

签名是并且应该是不同的，因为还有其他因素会影响实际生成的二进制文件，例如编译时间、环境、编译器元数据或编译期间的天气状态。事实上，如果签名相同，那将意味着它`sha1`一文不值。

**编辑：**

编译器生成的常量，例如`__LINE__`（例如，预编译脚本可能将一些`#define`s 注入代码分析工具的代码中），`__DATE__`并且`__TIME__`可能从一种编译更改为另一种编译。

如果编译器认为某些文件是最新的，它可能会选择不重新编译某些文件`.obj`（这并不总是正确的，尤其是在使用预编译头文件的情况下，但不仅如此 - 导致无效的 .exe）。此外，由于速度或优化或任何其他原因，链接器可能对链接顺序有内部考虑。

# javascript - 如何使复选框列表仅选择两项？

> ID：14152644
> 
> 赞同：2
> 
> 时间：2013-01-04T07:02:11.183
> 
> 标签：javascript, jquery, asp.net

我有两个以上的复选框列表。我想限制用户为每个复选框列表仅选择 2 个项目。

```
 <asp:CheckBoxList ID="CheckBoxList1" runat="server">
        <asp:ListItem Value="Item 1">Item 1</asp:ListItem>
        <asp:ListItem Value="Item 2">Item 2</asp:ListItem>
        <asp:ListItem Value="Item 3">Item 3</asp:ListItem>
        <asp:ListItem Value="Item 4">Item 4</asp:ListItem>
    </asp:CheckBoxList>

    <asp:CheckBoxList ID="CheckBoxList2" runat="server">
        <asp:ListItem Value="Item 1">Item 1</asp:ListItem>
        <asp:ListItem Value="Item 2">Item 2</asp:ListItem>
        <asp:ListItem Value="Item 3">Item 3</asp:ListItem>
        <asp:ListItem Value="Item 4">Item 4</asp:ListItem>
    </asp:CheckBoxList> 
```

使用 javascript/jquery。请帮忙

**解决方案：**

```
<script type="text/javascript">
    var i = 1;
            $(document).ready(function () {
            $('table[id^=CheckBoxList]').each(function (index) {
                var id = '#' + this.id;
                $(id).click(function (e) {
                  if ($(id).children().find('input[type="checkbox"]:checked').length > 2) {
                        e.preventDefault();
                    }
                });
                i++;
            });
        });

</script> 
```

谢谢大家:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:04:46.587

您可以使用`checked`复选框计数。您需要添加两个复选框的选中计数，以确保`selections`它们都恰好两个。

```
if($('[id*=CheckBoxList1]:checked').length + $('[id*=CheckBoxList2]:checked').length > 2)
{
  alert("Error");
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T07:58:59.603

```
$('#CheckBoxList1 input[type=checkbox],#CheckBoxList2 input[type=checkbox]').bind('click',function(){
  if($(this).siblings(":checked").length > 2){
     e.preventDefault();
     return false;
  }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T07:07:30.287

验证检查项目的数量并取消将检查其他项目的事件。

```
$("#CheckBoxList1, #CheckBoxList2").on("change click", function (e) {
  if ($("#CheckBoxList1:checked, #CheckBoxList2:checked").length > 2) {
    e.preventDefault();
    // add additional error code here;
  }
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T07:09:39.270

你可以使用这样的功能。

```
function CheckCheck()
{
    var chkBoxList=document.getElementById('<%=CheckBoxList1.ClientID %>');    
    var chkBoxCount=chkBoxList.getElementsByTagName("input");
    var i=0;
    var tot=0;
    for(i=0;i<chkBoxCount.length;i++)
     {
          if(chkBoxCount[i].checked)
          {
              tot=tot+1;
          }
     }

    if(tot>2)
     {
          alert('Cannot check more than 2 check boxes');              
     }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T07:41:41.933

我想你是在这个之后：http: **[//jsfiddle.net/KCr4d/10/](http://jsfiddle.net/KCr4d/10/)**

```
<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js'></script>
  //--^^^^^^^^^^^^^^^^^^^^^^^make a reference to this file

$(function(){ // <-- doc ready starts (short handler for doc ready)

$('#CheckBoxList1 input[type="checkbox"]').click(function(e) {
   if ($('#CheckBoxList1').children().find('input[type="checkbox"]:checked').length > 2) {
      e.preventDefault();
   }
});

$('#CheckBoxList2 input[type="checkbox"]').click(function(e) {
   if ($('#CheckBoxList2').children().find('input[type="checkbox"]:checked').length > 2) {
      e.preventDefault();
   }
});
}); // <---doc ready ends 
```

您可以在小提琴中查看：http: **[//jsfiddle.net/KCr4d/10/](http://jsfiddle.net/KCr4d/10/)**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-01-04T09:29:56.960

```
$("#CheckBoxList1, #CheckBoxList2").click(function (e) {
    if($('#'+this.id+' input[type="checkbox"]:checked').length >2){
      e.preventDefault();
  }
}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-12-17T04:22:51.827

如果它是aspx页面，我认为：

```
$('#<%= CheckBoxList1.ClientID %>').click(function (e) {
   if ($('#<%= CheckBoxList1.ClientID %> input[type=checkbox]:checked').length > 2)
     e.preventDefault();
}); 
```

# jquery - 如何使用 jquery 将查询字符串附加到当前 url

> ID：14152645
> 
> 赞同：-1
> 
> 时间：2013-01-04T07:02:16.183
> 
> 标签：jquery, jquery-ui, jquery-plugins

任何人都可以指导我如何使用 jquery 将查询字符串附加到当前 url，但它不应该被重定向到新页面。我的意思是它应该简单地附加到当前 url。我已经尝试了以下代码，但它不起作用。

```
 $(".package-book a").click(function(){
 window.location.url = "?id=" + $(this).val(<?php the_title(); ?>);
  )}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-01-24T02:29:57.083

使用 jQuery BBQ（后退按钮和查询库）插件 - [http://benalman.com/projects/jquery-bbq-plugin/](http://benalman.com/projects/jquery-bbq-plugin/)

```
$.bbq.pushState(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T08:00:21.113

```
 $(".package-book a").click(function(){
     window.location.url = "?id=" + $(this).val(<?php echo the_title(); ?>);
      )}; 
```

要么改变上面的代码，要么你应该回显到你的 php 函数`the_title()`中，无论你在这个函数中返回什么。

# jms - JMS 生态系统中的 JMS 代理的职责是什么？

> ID：14152648
> 
> 赞同：38
> 
> 时间：2013-01-04T07:02:26.930
> 
> 标签：jms

我正在阅读这个[问题](https://stackoverflow.com/q/1035949/1527084)和[相应的答案](https://stackoverflow.com/a/1035986/1527084)，但对答案第一行中的 JMS 代理一词感到困惑：

> MS（ActiveMQ 是一个 JMS 代理实现）

我想知道 a 到底是`JMS broker`什么，它的职责是什么？

[JMS 上的 Wikipedia 页面](http://en.wikipedia.org/wiki/Java_Message_Service#Elements)列出了 JMS 生态系统中的几个元素，但没有提及经纪人本身。

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2013-01-08T05:35:08.740

JMS 代理是什么并没有真正的官方定义，但消息队列和代理之间存在概念上的差异。这是我的看法。

*   消息队列仅查看消息头以确定将消息发送到何处，消息队列不检查消息体或执行任何转换消息体内容的代码。消息队列的任务是最终、一次且仅一次地传递消息，并且按照它们被发送的顺序。
*   消息代理提供了一个编程环境，您可以在其中轻松高效地编写消息转换代码。例如，您可能需要将消息的内容从格式 A 转换为格式 B，并且您不希望必须重写使用格式 A 的旧客户端，因此您编写了一个消息翻译程序并将其部署到消息中经纪人。在这种情况下，这`message broker`将是一个可能在负责运行消息处理代码的单独机器上运行的单独进程。

消息代理的最大价值在于，它们可以为您做一些非常好的事情来并发处理消息、处理逻辑的故障转移、处理逻辑的部署、监控和日志记录……等等。把消息代理想象成一个专门的用于编写消息处理代码的应用程序服务器，可能使用自定义高级语言。例如，可以在 ESQL 中对 IBM 消息代理进行编程，这是 SQL 的扩展以及相互连接的图表和节点。与使用纯 JMS 自己编写所有代码相比，为消息 borker 编写的程序会更短。

经纪人可以是集中式或分布式的，例如，您可以在纽约有一个中央经纪人，在伦敦和香港有客户与之相连。或者您可以分发代理并在伦敦和香港运行一个实例，在靠近消息源/目的地的地方进行消息处理，这完全取决于您的管理基础架构以及消息代理的数据库等其他资源需要交谈。

# php - 它不会总结，我的代码有什么问题？

> ID：14152649
> 
> 赞同：0
> 
> 时间：2013-01-04T07:02:41.310
> 
> 标签：php, html, mysql

我希望能够总结页面中显示的所有收入，并且每次我将其他数据添加到收入列时它都会自动求和：

以下是我的代码：

```
<?php 
   require_once('Connections/connect.php');
   $id_customer = mysql_real_escape_string($_GET['id_customer']);                                   
   $sql_PK = "SELECT * FROM tbl_delivery_details WHERE tbl_customer_id_customer =    {$id_customer}";
   $PK = mysql_query($sql_PK, $connect);
   if ( mysql_error() ) {
      die ( mysql_error());
   }
   $row_PK = mysql_fetch_assoc($PK);            
   $customer_name = $row_PK['tbl_customer_id_customer'];
   $customer_name = mysql_real_escape_string($customer_name);                       

   $sql = "SELECT tbl_customer.customer_name, 
       tbl_delivery_details.delivery_details_route, 
       tbl_delivery_details.delivery_details_destination, 
       tbl_delivery_details.delivery_details_van_no, 
       tbl_delivery_details.delivery_details_waybill_no, 
       tbl_delivery_details.delivery_details_charge_invoice,
       tbl_delivery_details.delivery_details_revenue,
       tbl_delivery_details.delivery_details_strip_stuff,
       tbl_delivery_details.delivery_details_date           
       FROM tbl_customer, tbl_delivery_details          
       WHERE tbl_customer.id_customer = tbl_delivery_details.tbl_customer_id_customer 
       AND tbl_customer.id_customer = '{$customer_name}'";

       $res = mysql_query($sql) or die(mysql_error());
       $row = mysql_fetch_array($res);
       $sum = 0;

?>

    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/x   html">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Customer Revenue</title>
    <link rel="stylesheet" type="text/css" href="qcc.css"/>
    </head>             
    <body>              
    <table border="1">
      <tr>
         <th>Reveneu</th>                                                 
      </tr>
      <?php do { ?>
          <tr>                          
              <td><?php echo $row_PK['delivery_details_revenue'];?></td>                                                       
      </tr>
      <?php } while ($row_PK = mysql_fetch_assoc($PK));?>
      <?php { ?>
        <?php  $sum+=$row_PK['delivery_details_revenue'] ?>
      <?php } ?>

      </table>

      <?php echo $sum; ?>
    </body>
  </html> 
```

当我加载页面时， echo $sum 始终为零如何正确总结我所做的列，如果我向其中添加其他数据，它将自动求和：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:06:37.997

与其在 PHP 中将收入值相加，不如让 MySQL 在查询中为您做这件事？

```
$sql = "SELECT SUM(tbl_delivery_details.delivery_details_revenue) as revenue, 
    tbl_customer.customer_name, 
    tbl_delivery_details.delivery_details_route, 
    tbl_delivery_details.delivery_details_destination, 
    tbl_delivery_details.delivery_details_van_no, 
    tbl_delivery_details.delivery_details_waybill_no, 
    tbl_delivery_details.delivery_details_charge_invoice,
    tbl_delivery_details.delivery_details_revenue,
    tbl_delivery_details.delivery_details_strip_stuff,
    tbl_delivery_details.delivery_details_date

FROM tbl_customer, tbl_delivery_details 

WHERE tbl_customer.id_customer = tbl_delivery_details.tbl_customer_id_customer 
AND tbl_customer.id_customer = '{$customer_name}'"; 
```

然后在你看来，只是呼应 SUM 数字......

```
echo $row_PK['revenue']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:49:25.443

好吧，我脑子里没有一个 PHP 解释器来运行你的代码。所以，只有一些我能发现的东西

首先，您的第一个查询中存在 SQL 注入。将您的变量转换为整数

```
$id_customer = intval($_GET['id_customer']); 
```

或将其视为查询中的字符串

```
$sql_PK = "SELECT * FROM tbl_delivery_details WHERE tbl_customer_id_customer = '$id_customer'"; 
```

或者 - 更好的是 - 使用一些数据库包装器，允许您使用占位符来表示查询中的实际数据。

接下来，您的查询非常难以阅读。
如果您的字段名称不干扰，则没有理由使用`table.field`符号。
如果您想要表中的大部分字段，还可以使用短地别名并考虑使用 *：

```
$sql = "SELECT SUM(delivery_details_revenue) as revenue, 
               customer_name, tbl_delivery_details.* 
        FROM tbl_customer, tbl_delivery_details 
        WHERE id_customer = tbl_customer_id_customer 
              AND id_customer = '$customer_name'"; 
```

顺便说一句，在编辑您的查询时，我注意到命名不一致：`id_customer = '$customer_name'`. 不要将自己与错误的变量名混淆。如果是 id，则称它为“id”，而不是“name”

而且我在第一个查询中根本看不到任何意义，如果`id_customer`等于`tbl_customer_id_customer`. 我认为你需要简化你的代码——我相信它的复杂性是你没有得到结果的主要原因。

从非常简单的查询开始，例如

```
$sql = "SELECT SUM(delivery_details_revenue) as revenue, 
        FROM tbl_delivery_details
        WHERE tbl_customer_id_customer = '$id_customer'"; 
```

看看它是否返回任何东西。
如果是这样 - 开始添加更多数据以获取。
如果否 - 检查您的数据和整体数据结构是否正常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T10:40:43.907

如果我没看错，你就是在总结*你的 while 循环之外*的值。那是行不通的。

我认为你正在混淆一个正常的while循环和一个'do while'循环。

请参阅此代码：

```
 <?php do { ?>
          <tr>                          
              <td><?php echo $row_PK['delivery_details_revenue'];?></td>                                                       
      </tr>
      <?php } while ($row_PK = mysql_fetch_assoc($PK));?>
      <?php { ?>
        <?php  $sum+=$row_PK['delivery_details_revenue'] ?>
      <?php } ?> 
```

它应该更多地沿着这些路线：

```
 <?php do { ?>
          <tr>                          
              <td><?php 
       echo $row_PK['delivery_details_revenue'];
       $sum+=$row_PK['delivery_details_revenue'] 
       ?>
      </td></tr>
      <?php } while ($row_PK = mysql_fetch_assoc($PK));?> 
```

如果您将代码写得更清楚一点，就不会发生这种情况；尽量避免交错html和php这么多：

```
<?php 
  do { 
    $revenue = $row_PK['delivery_details_revenue'];
    $sum += revenue;
    println("<tr><td>$revenue</td></tr>");
  } while ($row_PK = mysql_fetch_assoc($PK));
?> 
```

如果你问我，这要清楚得多。

# python - 为什么我应该使用 `mod_wsgi` 而不是通过 python 启动？

> ID：14152651
> 
> 赞同：1
> 
> 时间：2013-01-04T07:02:51.793
> 
> 标签：python, django, apache, mod-wsgi, wsgi

我就想问有什么好处`mod_wsgi`。对于大多数 python web 框架，我可以直接通过 python 启动（守护程序）应用程序并在端口中提供它。那我什么时候用`mod_wsgi`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T07:08:03.267

由于我回答了您关于 Flask 的其他问题，因此我假设您指的是使用 Flask 的开发服务器。问题在于它是单线程的。

使用 mod_wsgi，您将在 apache 后面运行，它将进行进程分叉并允许同时处理多个请求。

还有其他选择。根据您的特定用例，我会考虑使用 eventlet 的 wsgi 服务器。

# mfc - 当我在计时器中使用 UpdateData(False) 时，窗口的一个多行编辑框闪烁

> ID：14152653
> 
> 赞同：-2
> 
> 时间：2013-01-04T07:03:02.500
> 
> 标签：mfc

当我在计时器中使用 UpdateData(False) 时，窗口的一个多行编辑框闪烁。我在做什么，可以让编辑框不回复 UpdaeData(False) 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T12:46:56.100

为什么要在计时器中使用 UpdateData？你不应该。它将清除任何用户输入。你想达到什么目的？

# algorithm - 什么数据结构用于快速变化的最近邻搜索？

> ID：14152658
> 
> 赞同：2
> 
> 时间：2013-01-04T07:03:20.427
> 
> 标签：algorithm, data-structures, computer-science, nearest-neighbor

我想在 3 到 20 维中存储 50 到 10 000 个向量。我想知道将向量存储在哪个结构中，以便能够快速解决最近邻或近似最近邻问题。我将使用欧几里得、曼哈顿、Max 和加权曼哈顿度量。

我开始研究这个问题并发现（如果我错了，请纠正我）当维数远小于向量数时，kd-trees 会做到这一点。性能可以是深度次线性的 (O(log(n)))。

问题是结构将发生非常迅速的变化。每个向量在程序过程中可以改变数千次。此外，向量不需要保持它们的大致位置或比例。整个结构可以“穿越”R^n。

问题在于，为了保持 kd-tree 的高性能，需要不时进行重新平衡。此操作可能与重建整个树一样昂贵。

如何解决kd-tree快速变化的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:18:25.253

您应该对在不同数据结构上运行的算法进行[摊销分析](http://en.wikipedia.org/wiki/Amortized_analysis)。结果将根据您正在使用的特定数据结构上的操作顺序而有所不同。

我建议也看看[R-tree](http://en.wikipedia.org/wiki/R-tree)。查看静态网格也可能是一个好主意，因为如果对数据结构的更新比查询更频繁，更新该结构可能会执行得相当好。

如果对数据结构的更新如此频繁，那么最好不要总是在每次更改时都更新数据结构，而是先使用过时的数据结构，然后搜索所有更改的元素。这样，您可以对数据结构进行批量更改，这可能会更有效率。这是摊销分析也可以回答的一件事。

您还应该查看可用于多维树的文献。他们肯定会找到对数据结构进行更有效操作的建议，或者您还没有考虑过的建议。但是我还不能推荐文学作品。

# sql-server - JBoss 中的慢 XA 事务

> ID：14152666
> 
> 赞同：0
> 
> 时间：2013-01-04T07:03:59.520
> 
> 标签：sql-server, jboss, transactions, query-optimization, newrelic

我们正在使用 SQL Server 2005（sqljdbc 驱动程序 1.2）运行 jboss 4.2.2。

我们最近安装了新的遗物，可以看到我们的交易存在很大的瓶颈。

通常，对于任何一个 Web 请求，瓶颈位于以下之一：

*   `master..xp_sqljdbc_xa_start`
*   `master..xp_sqljdbc_xa_commit`
*   `org.jboss.resource.adapter.jdbc.WrapperDataSource.getConnection()`
*   `master..xp_sqljdbc_xa_end`

在其中一项上花费了数百毫秒（在某些情况下为几秒钟）。累积的大部分响应时间都花在了这些项目上。

我正在尝试确定它是否属于以下任何一种：

*   摆脱 XA 交易会有帮助吗？
*   我的数据库中是否存在我无法查看的更大问题？
*   我可以升级我的 SQL 驱动程序来帮助解决这个问题吗？
*   或者这是否表明只有很多查询，我们应该从查看我们的代码开始，并尝试降低整体查询的数量？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:53:27.227

如果您在单个事务中针对多个资源执行工作，则需要 XA 事务，如果您需要一致性，则需要 XA。但是，您所说的“查询”可能意味着您主要进行只读活动，因此 XA 可能是矫枉过正。此外，您没有谈到使用多个数据库或其他事务性资源，所以您真的需要 XA 吗？

所以第一步：了解需求，您是否需要跨越多个数据库交互的事务范围？如果您只是执行单个查询，则不需要 XA。如果您混合了需要 XA 的活动和不需要 XA 的简单查询，则使用两种不同的连接，一种带有 XA，一种没有 - 这阐明了您的意图。但是，我希望 XA 驱动程序使用单一资源优化，这样如果不需要 XA，您就不必支付开销，所以我怀疑这里还有更多事情要做。（免责声明我不使用 JBoss，所以我的直觉是可疑的）。

所以看看你的事务范围是否合适，隔离级别是否合理等等。您是否因为交易时间过长而发生争用，例如交易是否超过了用户的思考时间？

接下来是几秒钟的等待：这意味着争用（或一些奇怪的网络问题） 我能想到的 xa_start 缓慢的唯一原因是写入事务日志花费了不合理的时间 - 您的日志可能在一些慢速网络设备上吗？等待 getConnection() 可能只是意味着您的连接池太小（或者您保持连接的时间太长）如果 xa_commit 和 xa_end 需要很长时间，我想知道资源管理器在做什么，你能从数据库服务器获取任何信息。

我的总体立场：如果您真的需要 XA，那么您将支付一些日志记录和网络消息开销，但这些不应该花费您数百或数千毫秒。大多数业务系统通常在更新两个其他独立系统时需要在其整体资源访问的一小部分中使用 XA，而在只读场景中几乎从不 - 分布式系统之间的绝对一致性几乎没有意义，因此使用 XA 进行查询几乎肯定是矫枉过正。

# javascript - 如果我使用 jQuery 有 div的 id，我如何获得 a 的 id ？

> ID：14152684
> 
> 赞同：-1
> 
> 时间：2013-01-04T07:05:17.913
> 
> 标签：javascript, jquery

我有包含**跨度的****“div”** ，所以我想要那个特定跨度的 id

 **```
<div id="status-0" class="abc">
    <span id="span_id" class="xyz" title="Enabled">&nbsp;</span>
</div>                                                                                         So how to get id of span with jquery?   and after some action i want to change class of that span using id, how to do that? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:06:45.543

你可以做这样的事情

`var id = $("div span").attr("id");`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:07:00.957

你可以使用这个：

```
var id = $('div span').attr('id'); 
```

它使用 CSS 选择器（后代）并在匹配元素上应用属性函数。

如果您在 div 上有数据，则可以使用它来缩小结果范围：

```
var id = $('#status-0 span').attr('id'); 
```

改变班级是：

```
.attr('class', 'value'); 
```

添加类是：

```
.addClass('value'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T07:07:13.623

您需要将 some `id`/分配`class`给 div 或 span 以使其选择更精确。如果不可能，您可以使用父子选择器。

```
id = $('div > span').attr('id'); // span is direct child 
```

或者

```
id = $('div span').attr('id'); // span is descendant 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T07:08:03.720

```
var spanID = $("#yourdivid span").attr("id") ; 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-01-04T07:08:35.443

您可以使用该 div id 来获取 span 的 id

```
var id = $('#div').find('span').attr('id'); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-01-04T07:48:50.510

如果您知道 div 下跨度的索引，则最好使用*eq*。您也可以使用*nth-child*代替*eq*。

```
$('$yourDivID span:eq(<<index>>)').attr('id'); 
```

在其他情况下，如果您有跨度类，您可以尝试以下操作

```
$('$yourDivID span.spanClass').attr('id'); 
```**

# segue - 如何创建从现有 tableview（不是初始视图控制器）到 TabBarController 的推送 segue？

> ID：14152693
> 
> 赞同：0
> 
> 时间：2013-01-04T07:06:23.860
> 
> 标签：segue, tabbarcontroller

我有 4 个按层次组织的表，从最不详细到最详细：Table1（高于 2 级）> Table2（高于 3 级）> Table3（高于 4 级）> Table4。表 1-3 是完全静态的。它们根本不会改变组件，所以它们都是通过故事板硬编码的。现在在表 4 中，组件可能会发生变化，因此我通过研究和外部帮助以编程方式创建和填充它。

表 4 有 2 个不同行数的部分。说第 1 部分中的 2 行和第 2 部分中的 3 行。现在我想做的是每次用户单击任何行中的一个单元格时，无论部分如何，他/她都会被带到我当前在情节提要上设计的 tabbarcontroller。此标签栏有 2 个标签。推送时的第一个选项卡应在刚刚单击的行中显示有关组件的一般信息。第二个应该显示关于单击哪一行的同一组件的一堆统计信息。

这就对了。这就是我的最终产品应该能够做到的。我目前被困在如何从这个以编程方式创建的表（table4）中创建segue。总的来说，这个 segue 应该是动态的，因为无论单击的行如何，您总是被带到相同的视图（标签栏）。

如果我能在互联网上找到一本好书或资料来展示如何从我今天在项目中的位置进行设置，我很高兴自己完成这个工作。但是我已经搜索过并且没有提出任何建议。

# mysql - MySQL：每个用户在收件箱中显示最后一条消息

> ID：14152697
> 
> 赞同：1
> 
> 时间：2013-01-04T07:06:38.240
> 
> 标签：mysql, messages

这是我的问题，在我的收件箱中，它显示了我仅从一个用户收到的多条消息。我需要像 facebook 一样显示我的收件箱。每个用户只显示一条消息。很像对话视图。其中，我和用户之间的最后一条消息显示在收件箱中（他的最后一条消息，或者我给他的最后一条回复）。

我试过 GROUP BY，但结果不准确。一些最近的消息不会显示，也不会按上次对话的日期排序。

这是我的数据库结构：

```
+-----------------------------------------------------------------------------------+
|                                  users_messages                                   |
+-----------------------------------------------------------------------------------+
| message_ID | sender |receiver| date | subject | body | unread | delete1 | delete2 |
+-----------------------------------------------------------------------------------+

+---------------------+
|        members      |
+---------------------+
| id | username | ... 
+----+----------+-----+ 
```

这是我当前的查询：

```
$result = $DB->query("SELECT p.*, p.sender as sender, m.*
FROM  " . DB_PREFIX . "messages p
LEFT JOIN " . DB_PREFIX . "members m ON p.sender=m.member_id
WHERE p.receiver='" . $SESSION->conf['member_id'] . "' AND delete2=0
GROUP BY p.sender ORDER BY p.senddate DESC
LIMIT " . (($page - 1) * $PREFS->conf['per_page']) . ", " . $PREFS->conf['per_page']); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T23:02:12.767

```
SELECT t1.*, t2.*
FROM 
  users_messages AS t1
LEFT JOIN members AS t2
  ON t1.sender = t2.id
LEFT JOIN users_messages AS t3
  ON t1.sender = t3.sender AND t1.receiver = t3.receiver 
    AND t1.message_ID < t3.message_ID
WHERE (t1.sender = @userid OR t1.receiver = @userid) AND t3.message_ID IS NULL 
```

我没有测试过，所以可能有疏忽，但一种选择是您可以在发送方和接收方以及 t1.message_ID < t3.message_ID 上执行 user_messages 自加入。因为来自 t1 的一对之间的最新消息在 t3 中没有候选连接，并且它是左连接，因此 t3 列将为空，您可以在 where 子句中选择此列以获取最新消息。

# java - 为具有指定注释的方法生成 javadoc 注释时，Eclipse 的行为很奇怪

> ID：14152700
> 
> 赞同：1
> 
> 时间：2013-01-04T07:06:58.457
> 
> 标签：java, eclipse, annotations, comments, javadoc

我有一个 EJB 项目，我在其中为每个方法添加 JavaDOC 注释，现在它在开发过程中没有在早期完成，我现在正在这样做。我面临的问题与在 JavaDoc 注释中自动填充这些方法参数有关。

当指定注释时，JavaDoc 不会在您键入“/**”并按回车时在注释中填充方法参数，如果没有注释，它会很好地工作。但这很烦人，因为我们无法在 JavaDoc 方法注释中手动指定所有参数。基本上它增加了开销。

现在它昨天可以工作，但今天不行，当我切换回课程时，任何方法都没有注释，它再次完美运行。

即使从方法中删除注释并尝试后记也不起作用。

我确实重启了 IDE 几次，我为 Java EE 安装了带有 OEPE 工具的 Eclipse JUNO (4.2)。

**编辑：** 基本上，当我按下 Javadoc 注释快捷方式时，它会给我以下注释，而不是列表中格式良好的参数。

```
/* (non-Javadoc)
 * @see <project>.<modulegroup>.<module>.<BeanClassName>#<methodName>(java.lang.String)
 */ 
```

关于这个问题的任何线索？

# oracle - 甲骨文数据备份

> ID：14152704
> 
> 赞同：0
> 
> 时间：2013-01-04T07:07:08.067
> 
> 标签：oracle, unix

我正在使用 Oracle 11g。我想将某些记录从表移动到平面文件。是否有任何实用程序可以像 sqlldr 一样做同样的事情。我创建了 unix 脚本来做同样的事情，但它没有达到目的。请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:20:05.970

您可以使用`UTL_FILE`包将所有表格数据加载到平面文件中。这是示例代码

```
DECLARE
    p_file      util_file.file_type;
    l_table     your_table_name.ROWTYPE;
    l_delimited VARCHAR2(1) := '|';
BEGIN
    p_file := utl_file.Fopen('<file_path>', '<file_name>', 'W');

    FOR l_table IN (SELECT *
                    FROM  your_table_name) LOOP
        utl_file.Putline(p_file, l_table.col1
                                 ||l_delimited
                                 ||l_table.col2
                                 ||l_delimited
                                 ||l_table.col3
                                 ||l_delimited
                                 ||l_table.col4
                                 ||Chr(10));
    END LOOP;

    utl_file.Fclose_all();
END; 
```

检查软件包上的[Oracle 文档](http://docs.oracle.com/cd/E11882_01/appdev.112/e10577/u_file.htm)

# mongodb - MongoDB副本集从节点数据丢失

> ID：14152706
> 
> 赞同：1
> 
> 时间：2013-01-04T07:07:16.213
> 
> 标签：mongodb, replication

我有两个`mongod`没有复制的实例，每个实例具有相同的集合名称但不同的数据。现在它们之间已初始化复制。辅助机器从主机复制所有数据并丢失其原始数据。我可以恢复辅助机器中存在的原始数据吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T14:28:43.370

这是[MongoDB 副本集](http://docs.mongodb.org/manual/core/replication/)的预期行为：来自主副本的数据被复制到辅助副本。当您将服务器添加为新的辅助服务器时，它会执行“初始同步”，从主服务器复制数据。副本集是为故障转移和冗余而设计的；您的辅助节点应具有与主节点及其当前复制滞后一致的数据。

如果您覆盖了以前的数据库，则唯一的选择是从备份中恢复。

也可以看看：

*   [备份和恢复策略](http://docs.mongodb.org/manual/administration/backups/)
*   [副本集内部第五部分：初始同步](http://www.kchodorow.com/blog/2012/06/26/replica-set-internals-part-v-initial-sync/)

# ios - 大量内存使用 - 找不到问题的根源

> ID：14152707
> 
> 赞同：0
> 
> 时间：2013-01-04T07:07:19.643
> 
> 标签：ios, memory-leaks, instruments, nszombie

当使用仪器在我的应用程序中跟踪僵尸时，几乎在应用程序启动后立即，活咬的数量以非常快的速度增加。此内存使用的负责调用者是`-[NSPlaceholderString initWithFormat:locale:arguments:]`. 这是什么意思？我没有在我的代码中直接调用这个方法。下面是显示此问题的仪器屏幕截图。 ![在此处输入图像描述](../Images/efe0453ec17c0b8bf8179c905be7ab07.png)

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:08:46.383

将您在仪器中的视图更改为“调用树”而不是统计信息 - 这将向您显示正在调用的层次结构，以便您可以跟踪最终发出此调用的方法。

# bash - bash 中的参数解析

> ID：14152712
> 
> 赞同：4
> 
> 时间：2013-01-04T07:07:30.957
> 
> 标签：bash, shell

我是 bash 的新手。需要对以下问题提出建议。

所以我想以这种方式执行脚本

```
./myscript --bootstrap bootstrap.exe --vmmount ./vmmount --image /dev/sdb2 --target-exe installer.exe [--internal-exe] param1 param2 param3 ... 
```

我做过的参数解析器：

```
VMMOUNT=""
BOOTSTRAP=""
IMAGE_FILE=""
TARGET_EXE=""
INTERNAL_EXE=""
while : ; do
if [ "$1" = "--vmmount" ] ; then
    [ -n "${VMMOUNT}" ] && usage
    VMMOUNT="$2"
    shift
    shift
elif [ "$1" = "--bootstrap" ] ; then
    [ -n "${BOOTSTRAP}" ] && usage
    BOOTSTRAP="$2"
    shift
    shift
elif [ "$1" = "--image" ] ; then
    [ -n "${IMAGE_FILE}" ] && usage
    IMAGE_FILE="$2"
    shift
    shift       
elif [ "$1" = "--target-exe" ] ; then
    [ -n "${TARGET_EXE}" ] && usage
    TARGET_EXE="$2"
    shift
    shift
elif [ "$1" = "--internal-exe" ] ; then
    [ -n "${INTERNAL_EXE}" ] && usage
    INTERNAL_EXE="true"
    shift
    shift
else
    break
fi
done
my_method "${IMAGE_FILE}" "${VMMOUNT}" "${BOOTSTRAP}" "${TARGET_EXE}" "${INTERNAL_EXE}" 
```

现在我在解析参数 param1 和 param2 等时感到困惑。如何解析它们？我可以使用`$@`将参数作为数组或任何其他有效方式吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:11:04.797

我建议你使用[getopt](http://rsalveti.wordpress.com/2007/04/03/bash-parsing-arguments-with-getopts/)来解析你的命令行参数，而不是手动编码。它应该可以节省很多时间。

还显示在[如何在 Bash 中解析命令行参数？](https://stackoverflow.com/questions/192249/how-do-i-parse-command-line-arguments-in-bash)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-01-04T07:36:19.783

```
VMMOUNT=""
BOOTSTRAP=""
IMAGE_FILE=""
TARGET_EXE=""
INTERNAL_EXE=""
while : ; do
  case "$1" in 
    --vmmount)
       [ -n "${VMMOUNT}" ] && usage
       VMMOUNT="$2"
       shift 2 ;;
    --bootstrap)
       [ -n "${BOOTSTRAP}" ] && usage
       BOOTSTRAP="$2"
       shift 2 ;;
    --image)
       [ -n "${IMAGE_FILE}" ] && usage
       IMAGE_FILE="$2"
       shift 2 ;;    
    --target-exe)
       [ -n "${TARGET_EXE}" ] && usage
       TARGET_EXE="$2"
       shift 2 ;;
    --internal-exe)
       [ -n "${INTERNAL_EXE}" ] && usage
       INTERNAL_EXE="true"
       shift ;;
    *)
       break ;;
  esac
done
my_method "${IMAGE_FILE}" "${VMMOUNT}" "${BOOTSTRAP}" "${TARGET_EXE}" "${INTERNAL_EXE}" "$@" 
```

不要忘记`$@`用双引号括起来。

# mysql - 一对多关系，获取最新行

> ID：14152713
> 
> 赞同：0
> 
> 时间：2013-01-04T07:07:55.573
> 
> 标签：mysql, sql, join, group-by

```
lead_sp_id  sp_id   phone
1           5       111     
2           5       222     
3           5       333 
4           3       444     
5           3       555     
6           3       666     
7           3       777 
8           5       888 

act_id      lead_sp_id sp_id   act_time
1           1          5       2012-12-31 14:20:49      
2           1          5       2012-12-30 14:20:49      
3           2          5       2012-12-29 14:20:49  
4           2          5       2012-12-31 14:20:49  
5           2          5       2012-12-28 14:20:49   
6           4          3       2012-12-31 14:20:49  
7           4          3       2012-12-28 14:20:49  
8           4          3       2012-12-25 14:20:49 
```

我想得到的结果是

```
phone | lead_sp_id | sp_id | act_time
111   | 1          | 5     | 2012-12-31 14:20:49
222   | 2          | 5     | 2012-12-31 14:20:49 
```

现在我知道我必须使用 join 语句，而使用常规 join 语句只会给我太多结果，包括旧日期，我要做的就是根据 sp_id 获取每个电话号码的最新 act_name 和 act_time。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:21:27.610

试试这个查询

```
SELECT 
    * 
FROM table1 as t1 
INNER JOIN (
            SELECT 
                *
            FROM 
            table2      
            INNER JOIN (SELECT MAX(act_id) FROM table2 GROUP BY act_id) 
            as r on r.act_id = table2.act_id
) as t2 on t1.sp_id = t2.sp_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:24:25.587

试试这个：

```
SELECT a.phone, b.lead_sp_id, b.sp_id, b.act_time 
FROM leadsptable a 
INNER JOIN (SELECT a.lead_sp_id, a.sp_id, a.act_time 
            FROM acttable a 
            INNER JOIN (SELECT lead_sp_id, MAX(act_time) act_time 
                        FROM acttable GROUP BY lead_sp_id
                      ) b ON a.lead_sp_id = b.lead_sp_id AND a.act_time = b.act_time 
            ) b ON a.lead_sp_id = b.lead_sp_id AND a.sp_id = b.sp_id 
```

# objective-c - 如何仅选择 iCarousel 的中心图像？

> ID：14152715
> 
> 赞同：4
> 
> 时间：2013-01-04T07:08:01.330
> 
> 标签：objective-c, ios, icarousel

我有一个 iCarousel 画廊，我在其中从 Web 服务获取图像。画廊完美展示。我使用 iCarasouel 委托方法“didSelectItemAtIndex”来选择第一个到最后一个图像。我的 icarousel 类型是“carousel.type = iCarouselTypeCoverFlow;”。

我选择了图像并获得了正确的图像索引，didSelectItemAtIndex 仅在我滚动画廊并且图像从中心移动时才能正常工作，但是当加载视图时，didSelectItemAtIndex 未选择中心显示的“第一个或任何图像”。当我再次滚动图库并且中心图像从中心移动时，它的工作正常，然后我可以选择图像并转到下一个类或视图。

我想选择显示在 Icaraosel 中心的图像。不知道该怎么做？

专家的任何提示都将非常受欢迎。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:38:45.777

您可以在下面给出的委托方法中获取图像的当前索引

```
- (void)carouselCurrentItemIndexUpdated:(iCarousel *)carousel1 
```

一旦您的图像完全加载，然后调用

```
[self carouselCurrentItemIndexUpdated:carousel]; 
```

这是代码：

在你的 viewDidLoad 中调用如下所示的方法，这里的 carousel 是在 iCarsouel 的一个实例中。

```
- (void)viewDidLoad
{
   [super viewDidLoad];
   [self carouselCurrentItemIndexUpdated:carousel];
}

  - (void)carouselCurrentItemIndexUpdated:(iCarousel *)carousel1
{
   self.currentItem=carousel1.currentItemIndex;
   NSLog(@"currentItem update== %i",self.currentItem);
} 
```

希望这可以帮助....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:18:08.617

我不知道我是否理解正确：您想`didSelectItemAtIndex:`在视图初始重新加载后立即收到一条消息并且不滚动？

只需询问`currentItemIndex`，如果您希望被选为中心，请始终致电`centerItemWhenSelected`

所以只需手动调用 [self didSelectItemAtIndex:carousel.currentItemIndex];`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-10T12:22:16.143

```
-(void)carousel:(iCarousel *)carousel didSelectItemAtIndex:(NSInteger)index
{
    if (index == carousel.currentItemIndex)
    {
        ///Selected centered item only
    }

} 
```

# jakarta-ee - 基于JavaEE调度任务的调度应用

> ID：14152719
> 
> 赞同：0
> 
> 时间：2013-01-04T07:08:09.287
> 
> 标签：jakarta-ee, quartz-scheduler, scheduling

我正在使用 Glassfish。我实际上想以一定的时间**间隔**连接两个数据库，并使用 jTDS 从一个数据库中读取数据并写入另一个数据库。我在普通的java中使用定时器来做到这一点。但是是否有任何基于石英的开源 javaEE（或其他 Web 应用程序）应用程序可用于创建计划和监控它。我发现[mySchedule](http://code.google.com/p/myschedule/downloads/detail?name=myschedule-1.6.0.war)还有其他的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-07T00:59:40.383

你可能想看看使用 Jenkins 来控制和监视一个小型 Java 程序或脚本来做你想做的事。它是一个构建系统，但可以用于任何周期性任务，并且可以保存日志等。我不相信它直接使用 Quartz，但它支持许多相同的功能。

[http://jenkins-ci.org/](http://jenkins-ci.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-18T13:07:32.260

使用[mySchedule 结束](http://code.google.com/p/myschedule/)。它具有所有必需的功能，我可以快速入门。用户指南[在这里](http://code.google.com/p/myschedule/wiki/MyScheduleUserGuide)。

# android - 日历事件触发时的广播接收器或事件？

> ID：14152729
> 
> 赞同：1
> 
> 时间：2013-01-04T07:09:02.657
> 
> 标签：android, android-intent, notifications, android-calendar

当日历事件触发时，是否可以设置`BroadcastReceiver`回调或类似的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T23:24:02.440

从 Android 4.0 (ICS) 开始，本机日历应用程序确实存在。所以有标准/公共API。因此，无需使用 Android 4.0 及更高版本的各种设备进行测试。

我在这里提出了一个类似的问题： [BroadcastReceiver for Android Calendar events](https://stackoverflow.com/questions/15217723/broadcastreceiver-for-android-calendar-events)

干杯，

# iphone - 使用 AVPlayer 的 Airplay 并不总是有效。“iPhone”选项在 Airplay 菜单中列出两次

> ID：14152731
> 
> 赞同：0
> 
> 时间：2013-01-04T07:09:15.833
> 
> 标签：iphone, xcode, ios6, avplayer, airplay

```
NSError *sessionError = nil;
[[AVAudioSession sharedInstance] setDelegate:self];
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:&sessionError];
[[AVAudioSession sharedInstance] setActive:YES error:nil];

//Direct audio to speakers when there is no headphone
UInt32 sessionCategory = kAudioSessionCategory_MediaPlayback;
AudioSessionSetProperty(kAudioSessionProperty_AudioCategory, sizeof(sessionCategory), &sessionCategory);
UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride);

[[UIApplication sharedApplication] beginReceivingRemoteControlEvents];

[player setAllowsExternalPlayback:YES];
[player setUsesExternalPlaybackWhileExternalScreenIsActive: YES];
[player setAllowsAirPlayVideo:NO]; 
```

以上是我尝试设置适当的会话以启用 Airplay 的代码。它有时会起作用，但不管它是否起作用，它通常会![请看附图](../Images/a322e65bf6f20d852441d7a7e72133bf.png)在 Airplay 菜单中列出两次“iPhone”，有时不会显示实际的 Airplay 设备。点击这两个重复选项中的任何一个似乎都没有做任何事情。状态栏上的播放图标有时会出现，有时不会。我猜会话每次都没有正确设置。

谁能告诉我我在这里做错了什么？！另外，如果我想通过蓝牙启用播放，我是否需要实现一些其他委托？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-10T09:58:00.810

我今天看到你的帖子，在这种模式下使用你的代码：

在您的 AppDelegate .M 中：

```
NSError *sessionError = nil;
[[AVAudioSession sharedInstance] setDelegate:self];
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord error:&sessionError];
[[AVAudioSession sharedInstance] setActive:NO error:nil];

UInt32 sessionCategory = kAudioSessionCategory_MediaPlayback;
AudioSessionSetProperty(kAudioSessionProperty_AudioCategory, sizeof(sessionCategory), &sessionCategory);

UInt32 audioRouteOverride = kAudioSessionOverrideAudioRoute_Speaker;
AudioSessionSetProperty (kAudioSessionProperty_OverrideAudioRoute,sizeof (audioRouteOverride),&audioRouteOverride);

[[UIApplication sharedApplication] beginReceivingRemoteControlEvents]; 
```

在你的 View.m 中使用这个：

```
[player setAllowsExternalPlayback:YES];
[player setUsesExternalPlaybackWhileExternalScreenIsActive: YES];
[player setAllowsAirPlayVideo:NO];//this is deprecated in iOS 6.0 
```

希望这对您或未来的人有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-17T08:09:45.337

我明白了，但同时又简单又奇怪:) 你只需要删除这个功能。

这种方法：

```
[player setAllowsExternalPlayback:YES];
[player setUsesExternalPlaybackWhileExternalScreenIsActive: YES];
[player setAllowsAirPlayVideo:NO];//this is deprecated in iOS 6.0 
```

变成：

```
[player setAllowsExternalPlayback:YES];
[player setUsesExternalPlaybackWhileExternalScreenIsActive: YES]; 
```

在您的**info.plist**中允许**Required Background Modes**并设置：**App Plays Audio**和**App Communicates with an accessory**，然后添加一行并设置：**Application uses WiFi**。

仅此而已；）

PS：你可以帮我解决我的问题吗？[谢谢](https://stackoverflow.com/questions/16021098/how-to-use-avplayer-in-multiple-view-and-resume-controls)。

# function - 发出带有参数的调用处理函数

> ID：14152734
> 
> 赞同：4
> 
> 时间：2013-01-04T07:09:28.970
> 
> 标签：function, extjs

我正在使用煎茶触摸。我可以在操作表项上调用参数化处理函数吗？如果是，那么如何做到这一点。请帮助我..我想这样做,,

```
var z = function test(){alert('Hellow')}; 
```

在处理函数中：

```
handler:function(z){
    alert(z);
} 
```

它不起作用..只是显示..“Index.html（Object：Object）”提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:18:59.630

是的，您可以这样做，但这取决于处理程序的调用者提供的参数。如果是按钮，这将是“点击”事件。`arguments`但是在读取数组时，您始终可以查看所有传递的参数，例如

```
handler:function(){
    console.log(arguments);
} 
```

如果你知道有一个参数，你知道你（让我们按下按钮）可以定义它

```
handler:function(btn){
    btn.disable();
} 
```

您还需要知道它`alert`不能**打印**JavaScript 对象！用于`console.log`此。

# knockout.js - 淘汰赛 IE 8 选项长度错误

> ID：14152735
> 
> 赞同：2
> 
> 时间：2013-01-04T07:09:34.090
> 
> 标签：knockout.js

在 IE8 中使用带有下拉框的淘汰赛 2.2.0 时，我们收到错误消息。在 IE 8 中，数组的长度显示为 2 而不是 1。它在 IE9 及更高版本和其他浏览器中运行良好。

我已经把代码放在这个[fiddle](http://jsfiddle.net/dWsnE/1/)中。

UI 代码如下所示：

```
<script>
   function EmailDomain(text, value) {
       this.DisplayText = text;
       this.Value = value;
   }
   function VM(){
       self.EmailDomains = ko.observableArray([
            new EmailDomain("aaa.com", "aaa.com"),
        ]);

       self.SelectedEmailDomain = ko.observable(self.EmailDomains()[0]);
   }
</script>

<select data-bind="options: EmailDomains, optionsText: 'DisplayText', value: SelectedEmailDomain"></select> 
```

![我收到错误的屏幕](../Images/94e8e243006a9a00c58e00f3925357fe.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T10:27:27.687

还没有机会对此进行测试，因为我在这台机器上没有 IE8，但这可能是因为您的阵列末尾有一个意外的逗号，这是不必要的？

```
self.EmailDomains = ko.observableArray([
    new EmailDomain("aaa.com", "aaa.com") // Removed: ,
]); 
```

当逗号不合适时，IE 会做一些疯狂的事情，所以值得一试！

# jquery - 在页面加载时触发双击

> ID：14152740
> 
> 赞同：0
> 
> 时间：2013-01-04T07:09:50.000
> 
> 标签：jquery, html

我想使用 Jquery 触发对表的第一行（在页面加载时）的双击。在我的程序中，我正在使用以下代码：

```
$(document).ready(function() {

    setTimeout(function() {

    $("table tr td:first").trigger('dbclick');

    },10);

 });.. 
```

但它不工作......我该怎么办？请给一些想法..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:21:14.540

您的代码中有输入错误

```
$("table tr td:first").trigger('dbclick'); 
```

它`dblclick`不是`dbclick`。如下替换您的代码。

```
$("table tr td:first").trigger('dblclick'); 
```

# python - PySide 无法冻结 PyQt4 端口 - PyInstaller、py2exe 或 cx_Freeze

> ID：14152741
> 
> 赞同：3
> 
> 时间：2013-01-04T07:09:58.130
> 
> 标签：python, pyside, py2exe, pyinstaller, cx-freeze

我将编写的 PyQt4 应用程序移植到 PySide，但无法为其创建可执行文件。我尝试使用 py2exe、cx_freeze 和 PyInstaller 为 PySide 创建 exe，前两个提供了类似的错误（在构建期间没有提供错误报告，在我尝试运行 exe 之前一切看起来都很好） - PyQt4 版本可通过py2exe。

### 系统信息

Windows 7、64 位 - 所有软件都是 32 位版本，低于正在使用的软件包：

*   Python 2.7.3 通过 Python(x,y) 2.7.3.1
*   Qt 4.8.2
*   PySide 1.1.2
*   NumPy 1.6.2
*   Pywin32 218-1

exe转换程序

*   PyInstaller 2.0
*   cx_Freeze 4.3.1-1
*   py2exe 0.6.9

### py2exe 错误日志

```
Traceback (most recent call last):
File "myApp.pyw", line 11, in <module>
File "PySide\QtGui.pyc", line 12, in <module>

File "PySide\QtGui.pyc", line 10, in __load

ImportError: DLL load failed: The specified procedure could not be found. 
```

### cx_freeze err.Log

```
Traceback (most recent call last):
File "C:\Python27\Lib\site-packages\cx_Freeze\initscript\Console.py",
line 27, in <module>
exex code in m.__dict__
File "myApp.pyw", line 11, in <module>
File "ExtensionLoader_PySide_QtGui.py", line 11, in <module>
ImportError: DLL load failed: The specified procedure could not be found. 
```

**仅供参考：** MyApp.pyw 的 Line11 = 从 PySide 导入 QtGui，QtCore

### PyInstaller 错误日志

```
"The application has failed to start because its side-by-side configuration is 
incorrect. Please see the application event log or use the command-line sxstrace.exe
tool for more detail." 
```

我能找到的最接近的是[here，](https://groups.google.com/forum/?fromgroups=#!topic/pyinstaller/xNe1fvOlv4s)但我没有使用那个库，所以我认为它不适用，也不知道如何解决。

### PyInstaller 错误上的 SxsTrace 片段

```
INFO: Reference: Microsoft.VC90.CRT,processorArchitecture="x86",publicKeyToken="1fc8b3b9a1e18e3b",type="win32    ",version="9.0.21022.8" 
```

### 我试过的

1.  将“C:\Python27\Lib\site-packages\PySide”放在环境变量路径的开头

2.  将 msvcr90.dll、msvcp90.dll、msvcm90.dll 的副本放入 Python/dll 位置：我相信仅 msvcp90.dll 就允许 py2exe 生成可操作的 PyQt4 exe

3.  使用 pyside-rcc 重新制作所有 qrc 资源文件

4.  将所有 pyside/dll 放入 dist 文件夹（py2exe）

5.  运行 sxstrace 并在 PyInstaller 错误时生成日志文件 - 不确定我在寻找什么我没有看到事件查看器或 msgbox 尚未告诉我的任何内容（只是更多）

6.  重新安装了所有 python/模块、pyqt、pyside、VSE2008 C++ 版、microsoft SDK、microsoft .netframe work 2.0?、Microsoft Visual C++ 2008 Redistributable Package、

7.  移植了软件包不需要但位于目录中的所有正在进行的模块

8.  删除了任何未成功移植/未连接的 WIP 模块

9.  复制（手动不 setup.py）qt.conf（似乎不存在仅用于 pyside pyqt4？）和插件到 dist 文件夹

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-05T23:23:15.057

我设法使用 py2exe 获得了一个工作可执行文件（在 PyInstaller 中根本没有 cx_freeze）。我能够通过将每个模块转换为独立的 exe 来调试它。

*   这设法揭示了无法以其他方式复制的错误。
*   上述错误的主要问题是缺少在一个模块中将 PyQt4 转换为 PySide

请注意，这是一个数据加载模块，在创建 exe 之前测试我的端口时一定只是错过了单击它。所有其他 PySide 转换已经完成。

**注意：**

```
from PySide import QtCore, QtGui 
```

即使您的 IDE 说 QtCore 未在使用中并且 python 运行该模块而没有问题，它也始终是必需的。即使您可以在没有 QtCore 的情况下通过 Python 使其工作，也需要为该模块制作一个 exe。

这对于制作主窗口的 exe 并不是真正需要的，但是能够为模块创建一个可操作的 exe 是有帮助的。

* * *

### 转换计划结果

**py2exe - 工作！**

没有什么特别的，只是一个标准的 setup.py 文件可以正常工作。

**cx_Freeze**

有点作品，但它的行为不规律，并且没有解释为什么......

我有 3 个几乎相同的数据加载过程，主要区别在于它们加载的文件。较小文件的加载很好，较大的文件在运行之前只是挂起并退出某处......当将 msgbox 放在它们的前面时甚至无法让它们工作。

同样，我有一个对话框，它必须在 show() 之前检索数据并进行一些计算……它什么也不做——不知道为什么。主窗口和大部分程序都可以工作。

**PyInstaller**

我可以为所有单独的模块创建 exe，但不能为主窗口模块创建 exe。尝试运行它时，我收到了与[Ticket#590](http://www.pyinstaller.org/ticket/590)完全相同的问题，只是我使用的是 pywin32-218 并且没有使用 panda。

尝试运行时发生：ImportError: No module named pythoncom

构建过程指示： 警告：pythoncom 正在将其名称更改为 pythoncom27 警告：pywintypes 正在将其名称更改为 pywintypes27

真正奇怪的部分是实际从 pywin32 导入的模块可以变成一个可操作的 exe。调用此模块的小部件也可以，但调用这些其他小部件的主窗口会给出错误。

**PyInstaller 的第二个问题**

所有重新实现关闭事件的独立小部件在关闭时都会挂起。

```
def closeEvent(self, event):
    self.results.addResultsToDB()
    event.accept() 
```

py2exe 作为独立应用程序不会发生上述情况。

# java - 有没有办法在 JBoss 7.1.1 中记录 HTTP 发布数据？

> ID：14152742
> 
> 赞同：4
> 
> 时间：2013-01-02T17:49:11.697
> 
> 标签：java, jboss, jboss7.x

有没有办法在 JBoss 7.1.1 中记录 HTTP 发布数据？

您在日志记录配置中设置为 DEBUG 的类会输出这个吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T16:31:01.103

`standlone.xml`您可以在或`domain.xml`文件的 web 子系统中配置 http 访问日志记录。

这是一个例子：

```
<subsystem xmlns="urn:jboss:domain:web:1.0" ....>
    <connector name="http" ... />
    <virtual-server name="default-host" enable-welcome-root="true">
        <whatever aliases you may have defined />
        <access-log>
            <directory relative-to="jboss.server.log.dir"/>
        </access-log>
    </virtual-server>
</subsystem> 
```

或者您可以使用 CLI（推荐 - 使用选项卡完成功能来查找可用属性）：

```
/subsystem=web/virtual-server=default-host/access-log=configuration:add(whatever-attributes-you-want-for-access-log) 
```

**根据下面 OP 的评论进行更新**

如果要跟踪 HTTP 请求内容，则需要启用 RequestDumperValve。在 JBossAS7 中，您不能全局启用此功能（与 AS5 或 AS6 不同）/。您必须在每个部署的基础上启用它。`WEB-INF\jboss-web.xml`在文件中添加这一行：

```
<valve>
        <class-name>org.apache.catalina.valves.RequestDumperValve</class-name>
</valve> 
```

您不需要为阀门启用访问日志，它会在`server.log`文件中输出信息。您可以阅读有关[RequestDumperValve](http://tomcat.apache.org/tomcat-6.0-doc/api/org/apache/catalina/valves/RequestDumperValve.html)的更多信息。您可能还对[RequestFilterValve](http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/RequestFilterValve.html)感兴趣。

这些阀门通常用于调试目的，而不是在生产中使用。所以请记住这一点，因为它们非常冗长。或者，您可以查看[WireShark](http://www.wireshark.org/)或[Fiddler](http://www.fiddler2.com/fiddler2/)等工具。如果您真的想更深入地挖掘 TCPDumps 将是一种方法（请注意 - 它们非常大且分析起来很复杂）。

希望这可以帮助！

# full-text-search - 如何在 rad 组合框绑定项目（如 IntelliSense）中搜索完整字符串

> ID：14152743
> 
> 赞同：0
> 
> 时间：2013-01-04T07:10:25.233
> 
> 标签：full-text-search, intellisense, radcombobox, listboxitems

**> 如何在 rad 组合框绑定项目中搜索完整字符串，例如

> 智能感知**

请注意，它包含 3000 多个项目，我必须像 IntelliSense 一样制定搜索规范。

# javascript - 如何使用 JQuery 在 5 秒后清除文本框值？

> ID：14152744
> 
> 赞同：2
> 
> 时间：2013-01-04T07:10:25.120
> 
> 标签：javascript, jquery

我试过这个：

```
 <script type="text/javascript">
        $(function() {
            $("#button").click( function()
            {
                alert('button clicked'); // this is calling
                setTimeout(function(){
                    alert('setTimeout');  // this is not calling
                    document.getElementById('clearTxt').value = "";
                }, 9000);
            }
        );
        });
    </script> 
```

我的 HTML 代码：

```
 <form>
            <input type="text" id="clearTxt"/>                                              
            <input type="submit"  value="Search" id="button"  />
    </form> 
```

但是这段代码不起作用。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T07:13:40.650

当我将您的代码粘贴到小提琴中时，警报确实触发了。但是超时功能不会执行，因为由于输入周围的表单标签，当您单击提交按钮时，您会离开页面并且超时没有时间执行。您应该将 更改`submit`为按钮，或调用`preventDefault()`该函数以阻止表单提交。

此代码有效：

HTML：

```
<form>
    <input type="text" id="clearTxt" />                                           
    <input type="button" value="Search" id="button" />​
</form> 
```

脚本：

```
$(function() {
    $("#button").click( function () {
        alert('button clicked');
        setTimeout(function(){
            alert('setTimeout');
            document.getElementById('clearTxt').value = "";
        }, 5000);
    });
}); 
```

见[http://jsfiddle.net/acfkU/1/](http://jsfiddle.net/acfkU/1/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T07:15:31.643

您的代码很好，但是您正在提交表单，您可以使用`preventDefault`事件对象的方法并确保 jQuery 已加载到您的页面中。

```
$("#button").click(function(event) {
    event.preventDefault();
    //alert('button clicked'); // this is calling
    setTimeout(function() {
        // alert('setTimeout'); // this is not calling
        document.getElementById('clearTxt').value = "";
        // $('form').submit();
    }, 9000);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-04T07:23:08.570

覆盖默认提交操作（具有`preventDefault`方法），如下所示：

```
$("#yourform").submit(function(event) {
    event.preventDefault();
}); 
```

这里是：

HTML

```
<input type="text" cssClass="textField" id="clearTxt"/>
<input type="button" value="Search" id="button" /> 
```

JS

```
$(function(){
    $("#button").click( function () {
        alert('button clicked');
        setTimeout(function(){
            alert('setTimeout');
            document.getElementById('clearTxt').value = "hi";
        }, 5000);
    });
}); 
```

## 演示[JSFiddle](http://jsfiddle.net/vXCr5/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T07:43:19.107

您可以尝试将其添加到表单提交中，而不是将其添加到单击事件中。

```
function onSubmit() {
 alert('button clicked');
  setTimeout(function(){
    alert('setTimeout');
    $('#clearTxt').attr('value',"hi");
  }, 5000);
 return false;
} 
```

由于您正在直接更新 value 属性，因此它将在 UI 中立即生效。如果不想添加到 onsubmit，最好将按钮的类型从提交更改。

# d3.js - 如何修改可折叠树 D3JS：http://bl.ocks.org/d/4339083/

> ID：14152745
> 
> 赞同：2
> 
> 时间：2013-01-04T07:10:27.067
> 
> 标签：d3.js

我想修改位于以下 URL 的可折叠树：http: [//bl.ocks.org/d/4339083/](http://bl.ocks.org/d/4339083/)

我尝试将 think link 中的源代码复制到文本文件，然后尝试在浏览器上显示它，但屏幕为空。

我在源代码中更改了以下代码：

```
d3.json("/d/4063550/flare.json", function(error, flare) { 
```

至

```
d3.json("http://bl.ocks.org/d/4063550/flare.json", function(error, flare) { 
```

但这也没有用。

我想修改原始 HTML 文件，以便我可以将自己的文本放在每个节点的顶​​部。我也想改变节点的数量。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:12:24.393

您违反了相同的原始策略。您不能进行跨域调用。

jQuery 也支持一种称为 JSONP 的技术。

# extjs - ExtJs中如何将servlet中的数据存储到Grid中？

> ID：14152748
> 
> 赞同：2
> 
> 时间：2013-01-04T07:10:49.783
> 
> 标签：extjs

我有一个 Servlet，其中我有两个来自数据库的用户名和密码字段，现在我想在 ExtJs 中查看网格中的数据，我不知道该怎么做..

```
public class LoginServlet extends HttpServlet {

    try {
        String Username=request.getParameter("username");/* i want to show these two data to the grid 
        String Password=request.getParameter("password");*/

        JSONObject JSONobj=new JSONObject(); //this is json Object

        JSONArray json=new JSONArray();//this is json array
        JSONObject obj=new JSONObject();

        obj.put("username",UserVO.getUsername());
        obj.put("password",UserVO.getPassword());

        json.add(obj);

        JSONobj.put("employee", json);
        response.sendRedirect("data-retrive.html");
    } catch(Exception e){
        System.out.println("Exception"+e);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:15:38.573

您正在`JSON`从服务器发送格式的响应。要在 ExtJS 中阅读和显示此响应，您必须使用`Ext.data.Model, Ext.data.reader.Reader, Ext.data.JsonStore, Ext.grid.Panel`.

`Ext.grid.Panel`您可以在以下链接上找到更多详细信息-

[http://docs.sencha.com/ext-js/4-1/#!/api/Ext.grid.Panel](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.grid.Panel)

另外，看看[ExtJS Grid 示例](http://docs.sencha.com/ext-js/4-1/#!/example)

# javascript - 发出一系列 (n) AJAX 调用结束的信号

> ID：14152755
> 
> 赞同：1
> 
> 时间：2013-01-04T07:11:19.480
> 
> 标签：javascript, ajax, asynchronous, promise

我有一个 Web 应用程序，它在 CMS 中抓取网站并查找某种类型的数据。

它的工作原理很像递归文件/目录循环：

```
//pseudo code
var rootWeb = context.site.rootWeb();
var objectThatHoldsAllResults;
recursiveSiteSearch(rootWeb);

function recursiveSiteSearch(webSite) {
   //Get all content of a certain type and add to objectThatHoldsAllResults
   //Get all SubSites and throw them into a loop that runs recursiveSiteSearch
} 
```

该应用程序存在于云中，并且不知道每个访问它的 CMS 中有多少子站点。

每次循环获取某种类型的所有内容时，都会对网站进行 AJAX 调用。

我需要知道递归何时完成，但不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T20:33:25.940

直截了当，当执行到后面的语句时，递归将结束`recursiveSiteSearch(rootWeb);`。

但是，可能/将（？）中的异步（ajax）`recursiveSiteSearch`意味着在那个时候仍然存在一些潜在的活动。

因此，您似乎需要一种机制来检测所有承诺（即在递归中启动的所有 ajax 请求）何时完成。

jQuery，提供了这样的机制。

伪代码：

```
function recursiveSiteSearch(webSite) {
    //Get all content of a certain type and add to objectThatHoldsAllResults
    //Get all SubSites and throw them into a loop that runs recursiveSiteSearch
    //Within the loop, push jqXHR objects onto the externally declared `promises` array.
}

var rootWeb = context.site.rootWeb();
var objectThatHoldsAllResults;
var promises = [];
recursiveSiteSearch(rootWeb);
jQuery.when.apply(jQuery, promises).done(function() {
    //statements here will execute when 
    //recursion has finished and all ajax 
    //requests have completed.
}); 
```

这应该起作用的原因是[jqXHR 对象](http://api.jquery.com/jQuery.get/#jqxhr-object)（由 jQuery.ajax() 及其简写形式返回）实现了 jQuery 的 Promise 接口。

# linux - Linux Bash - 日期格式

> ID：14152759
> 
> 赞同：5
> 
> 时间：2013-01-04T07:12:11.807
> 
> 标签：linux, bash, shell, date, formatting

我的日期格式是 yyyy-mm-dd-hh:mm:ss 如何检查我的输入？

它应该是这样的：

```
#!/bin/bash

read -p "Date (format yy-mm-dd-HH-MM-SS): " input

check=$(date +"%Y-%m-%d-%H:%M:%S")

if [ $input -eq $check ]; do

     echo "Right!"

else
     echo "False!"

fi 
```

但这不会检查日期它将我的输入与实际日期进行比较。

最好的问候文斯

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-04T09:10:12.317

## 2016 年 4 月编辑！

进一步看（更强的方法）

## 原帖

尝试：

```
#!/bin/bash

read -p "Date (format yyyy-mm-dd): " input
check=$(date +%F)

if [ "$input" == "$check" ]; then
    echo "Right!"
else
    echo "False!"
fi 
```

或者

```
#!/bin/bash

read -p "Date (format YYYY-MN-DD-HH24:MM:SS): " input
check=$(date +%F-%T)

if [ "$input" == "$check" ]; then
    echo "Right!"
else
    echo "False!"
fi 
```

测试良好：

```
cat >hesdate.sh     # Copy 1st sample and paste to terminal
chmod +x hesdate.sh
date +%F ; ./hesdate.sh
2013-01-04
Date (format yyyy-mm-dd): 2013-01-04
Right!

cat >hesdate.sh     # Copy 2nd sample and paste to terminal
date -d now\ +10\ sec +%F-%T ; ./hesdate.sh 
2013-01-04-10:17:06                                       # copy this line
Date (format YYYY-MN-DD-HH24:MM:SS): 2013-01-04-10:17:06  # past exactly 10 secs after
Right! 
```

**编辑添加**

为了测试日期，您可以：

```
[[ $input =~ ^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]$ ]]

if [[ $input =~ ^2012-[0-9][0-9]-[0-9][0-9]-[0-9][0-9]:[0-9][0-9]:[0-9][0-9]$ ]];then 
```

和/或

```
inputSecs=$(date -d "${input%-*} ${input##*-}" +%s) 
```

使用引导方法让您确认输入的*格式* **和** *可靠性*

## 更强的方法

如果你想检查输入，有一个更好的方法：

```
unset adate
declare -A adate
date=2013-12-04-10:17:06
for field in s:0-59 m:0-59 h-0-23 D-1-31 M-1-12 Y#2000-2100 ;do
   sep=${field:1:1} min=${field:2} field=${field:0:1} max=${min#*-} min=${min%-*}
   crt=${date##*${sep:-#}}
   ((min<=10#$crt&&10#$crt<=max)) && adate[$field]=$crt ||
       echo Error: $crt not between $min and $max in $field field.
   date=${date%$sep*}
 done
declare -p adate 
```

这将转储`adate`数组变量：

```
declare -A adate='([D]="04" [M]="12" [Y]="2013" [h]="10" [m]="17" [s]="06" )' 
```

从那里，您可以重新验证*天数*：

```
max=$(date -d "${adate[Y]}-${adate[M]}-1 +1 month -1 day" +%d)
((10#${adate[D]}>max)) && echo "Error Day number too high: (${adate[D]}>$max)." 
```

唯一没有测试的是字段长度，如果

```
date=2012-02-29-10:17:06 
```

将工作，然后

```
date=2012-2-29-10:17:06 
```

也可以（日字段中只有一位数字）。

如果需要，您可以更改该行：

```
for field in s:0-59 m:0-59 h-0-23 D-1-31 M-1-12 Y#2000-2100 ;do
sep=${field:1:1} min=${field:2} field=${field:0:1} max=${min#*-} min=${min%-*}
crt=${date##*${sep:-#}} 
```

为了

```
for field in s:20-59 m:20-59 h-20-23 D-21-31 M-21-12 Y#42000-2100 ;do
sep=${field:1:1} len=${field:2:1} min=${field:3} field=${field:0:1} max=${min#*-} min=${min%-*}
crt=${date##*${sep:-#}}
[ ${#crt} -eq $len ] || echo "Error: Field $field is no $len len: ${#crt}." 
```

注意：年份字段被任意限制在 2000 到 2100 之间，但这很容易理解/更改。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T09:46:39.810

您可以使用内联 AWK 脚本：

```
#!/bin/bash

read -p "Date (format yy-mm-dd-HH-MM-SS): " input

echo $input | awk -F"[-:]" '{
    if( NF == 6 && $1 >= 0 && $2 >= 1 && $2 <= 12 && $3 >= 1 && $3 <= 31 && $4 >= 1 && $4 <= 24 && $5 >= 1 && $5 <= 60 && $6 >= 1 && $6 <= 60 ){
        print "Ok!\n";
    } else {
        print "False!\n";
    }
}' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:48:58.627

像这样更改日期提示：

```
read -p "Date (format yyyy-mm-dd): " input 
```

此外，用 4 位数的年份格式化日期，从分钟开始的秒数

```
check=$(date +"%Y-%m-%d %H:%M:%S") 
```

# github - Github 没有正确显示我提交的差异

> ID：14152762
> 
> 赞同：1
> 
> 时间：2013-01-04T07:12:28.777
> 
> 标签：github, git-diff

我在这里和那里[提交了一个](https://github.com/ajax333221/Isepic-Chess/commit/7cea2cdbbe53fa29fa4bb4df8033606f52069706)带有一些修复的提交，但是 github 没有正确显示差异（例如，删除了这一行，添加了这一行等）。它只显示了两堵大代码墙，一堵**红色**（删除代码）和一堵**绿色**（添加代码）。

这不是我第一次发生这种情况，而这最后一次我格外小心，不要弄乱我的代码的任何其他部分。我一定是做错了什么，我尝试过的每个免费在线工具都可以轻松显示文本差异。

我怎样才能防止这种情况再次发生？

**注意：**以防万一，我使用的是 Windows 并通过他们的可下载的东西提交它们。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-04T08:25:55.880

这看起来像**[Windows 行尾](https://www.google.com/search?q=git+windows+line+ending)**相关问题上的标准 Git ;-)

在 bash 命令行界面中运行以下命令应该可以解决您的问题。

`$ git config --global core.autocrlf true`

有关此主题的更多信息，请参阅此**[GitHub 帮助页面](https://help.github.com/articles/dealing-with-line-endings)**。

# api - Magento REST API 身份验证

> ID：14152764
> 
> 赞同：4
> 
> 时间：2013-01-04T07:12:34.880
> 
> 标签：api, magento, rest, oauth, authorization

有没有办法从代码中传递登录凭据，而不是每次在弹出窗口中输入凭据以进行登录授权？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T10:20:56.663

您不需要每次都需要登录凭据进行授权，在 OAuth 成功授权后，您将获得访问令牌和访问密码，使用后者进一步调用 API。Oauth 协议以这种方式工作。

我猜 Magento 正在使用 OAuth 1.0/1.0a，所以每次你授权一个用户时，

**oauth_token** - 提供对受保护资源的访问权限的访问令牌。

**oauth_token_secret** - 与访问令牌关联的秘密。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:16:27.947

您将需要使用基于 OAUTH 的身份验证。然后将请求令牌与每个请求一起传递：

参考： http: [//www.magentocommerce.com/api/rest/authentication/oauth_authentication.html](http://www.magentocommerce.com/api/rest/authentication/oauth_authentication.html)

# android - 根据异步任务结果更新 ListFragment

> ID：14152767
> 
> 赞同：0
> 
> 时间：2013-01-04T07:12:48.717
> 
> 标签：android, android-fragments, android-dialogfragment

**场景：** 我有一个显示朋友列表的列表片段。当按下列表项时，我会在对话框片段中显示朋友的详细信息。

**问题：** 在对话片段中，我可以选择从我的朋友列表中删除该朋友（在远程服务器中）。我正在使用 Async tack 来执行此操作。从对话片段返回后，我应该如何更新“旧”朋友列表。**如何触发片段“重新加载”。**由于异步任务不知道列表片段中使用的自定义列表适配器。

抱歉，我会尽快添加代码。如果有人在此之前遇到过这种情况，请提供您的建议。

**编辑：**从远程服务器的朋友列表中成功删除朋友后，我想重新加载列表片段中显示的列表。有没有办法在列表片段本身中触发 dataSetChanged 通知。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:24:07.397

因此，您将使用 ArrayList 填充 ListView。

*   单击 index = ListViewItemIndex 从 ArrayList 中删除项目。
*   在您使用的适配器上调用 notifyDataSetChanged。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:26:17.827

没问题。我猜这`ListFragment`是从某个数据源读取的——无论是一个`ArrayAdapter`还是一个`SimpleCursorAdapter`（或类似的东西）——你的任务也在修改那个源。完成`AsyncTask`后，您应该能够获取该片段并更新基础数据。例如：

```
// ...
void onPostExecute(Void result) {
    ListFragment lFrag = (ListFragment) getFragmentManager().findFragmentById(R.id.yourListFragment);
    BaseAdapter adapter = (BaseAdapter) lFrag.getListAdapter();
    adapter.notifyDataSetChanged();
} 
```

# java - 无法识别的 VM 选项

> ID：14152768
> 
> 赞同：0
> 
> 时间：2013-01-04T07:12:50.310
> 
> 标签：java, jvm

我看到了 ReduceInitialCardMarks 的一个问题，有时在一台机器上的同一 JVM 上，它无法识别此 VM 选项，就像在另一台机器上它工作得很好一样。VM 未启动。是什么让它有时失败？什么时候出现无法识别的 VM 选项？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-08T11:40:24.793

问题出在虚拟机上。Java Server VM 可以识别此选项，而 Java Client VM 则不能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:19:21.990

键入`java`不带参数以查看特定虚拟机是否支持。键入`java -X`以查看有关扩展选项的帮助。特别是扩展选项可能不适用于其他虚拟机，只有极少数（如`-Xmx`）更标准。

您的问题没有包含足够的信息来提供更多建议。

# cordova - 如何使用 Phonegap 在图像面板中检索和显示捕获的图像？

> ID：14152771
> 
> 赞同：0
> 
> 时间：2013-01-04T07:13:00.137
> 
> 标签：cordova, camera, sencha-touch-2

我开发了一个 secha toucha 应用程序，我想在其中使用 Phonegap 的相机功能。使用 phonegap 我可以访问设备相机并拍摄照片。但是当我在捕获照片后单击相机的“使用”按钮时，它应该存储在图像面板中。但注意到正在发生。这是我的代码。请帮忙，我真的卡住了！

```
onRegisterMain: function () {
     this.hidefn();
    modelMgr.campentry = this.getEntry();
   Ext.getCmp('cdcamptitle').hide();/*neetu hide*/
    Ext.getCmp('userLogo').setHtml("<figure> <img src='img/imgDnr.png'  alt='WIPRO_BLOOD_BANK'/></figure>");

       Ext.getCmp('userLogo').on({
                                 tap: function () {

                                 navigator.camera.getPicture(onSuccess, onFail, { quality: 50, destinationType: Camera.DestinationType.DATA_URL});

                                 function onSuccess(imageData) {
                                 var image = document.getElementById('myImage');
                                 image.src = "data:image/jpeg;base64," + imageData;
                                 }

                                // console.log('tapped')
                                 // this.pieChartDisplay();

                                 },
                                 scope: this
                                 }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T21:48:25.897

您的 destinationType 正在引用文件的 URL，而您的成功函数正在查找 base64 数据。只需删除destinationType 将默认为base64：

```
navigator.camera.getPicture(onSuccess, onFail, { quality: 50}); 
```

# objective-c - 无论如何在 XCode Objective-C 项目中的 JSON 中进行插值？

> ID：14152780
> 
> 赞同：0
> 
> 时间：2013-01-04T07:14:22.230
> 
> 标签：objective-c

我有一些 JSON，其中包含用于实例化的类的名称，并且我试图避免拼写错误导致事情崩溃。

我想知道是否无论如何我可以在 JSON 中插入字符串或常量，以减少出错的可能性......

例如：

```
{ "stuff": [
           { "class": "foo" } ] } 
```

如果这是 ruby​​，我可以使这个 file.json.erb 能够执行以下操作：

```
{ "stuff": [
           { "class": "<%= FOO_CONSTANT %>" }] } 
```

...

我想知道是否有什么方法可以用 XCode 和 Objective-C 做一些远程类似的事情

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T13:50:04.487

# 如果你必须

如果您坚持（或以某种方式被迫）使用 JSON 文本字符串，则最好使用现成的模板库。

**GRMustache** [https://github.com/groue/GRMustache](https://github.com/groue/GRMustache)是 ObjC 的 Mustache 模板库，非常适合生成非 HTML/XML，因为它实际上只是一个愚蠢的字符串插值器。GRMustache 页面上有大量文档，[Mustache.js](http://mustache.github.com/)会自行解释（虽然是以 HTML 为中心的方式。）

最终，您可以：

```
{ "stuff": [
       { "class": "{{ FOO_CONSTANT }}" } ] } 
```

另一方面，**DMTemplates** [https://github.com/mierau/DMTemplates](https://github.com/mierau/DMTemplates)是一个更通用的模板库。

此 NSString 文字中的示例模板语法：

```
engine.template = @"{ \"stuff\": [\n { \"class\": \"<? FOO_CONSTANT />\" } ] }"; 
```

您可以通过字典为其提供值，它还具有一些不错的功能，例如`foreach`循环甚至函数调用来填充值。当然，模板可以位于 unicode 文本文件中，并在运行时以解释的形式读取，而不是硬字符串。

最后，我注意到 M4 模板/宏语言在 ObjC 世界中并没有得到太多的喜爱，它是许多 C/C++ 程序员生成文本的老生常谈。（由您可能知道的 Brian Kernighan 和 Dennis Ritchie 设计。）看看一个非常古老的模板库及其所具有的功能（现在大约 40 年）可能具有教育价值

但是，我认为**DMTemplate**是您想要的“它只是有效”的解决方案。（`{{ braces }}`Mustache 中的那些也会让我在使用 JSON 时感到紧张。）

顺便说一句，还有 MGTemplate 引擎，但它又使用了双括号，所以对于生成 JSON 不是很好。

# 理想吗？

好吧，我建议您在此构建一个带有模板引擎废话的 JSON 字符串，并构建一个 NSDictionary / NSArray 对象的集合并使用`NSJSON`或任何其他流行的 ObjC JSON 库将它们序列化，这样您就可以消除任何格式/引用错误垃圾. 最终无论你做什么都是从数据开始的，所以这确实是处理它的方法，像 JSON 这样的传输格式的想法不是手工编写它们，除非有人拿着枪指着你的头，（但这很好如果它们可以打印得很漂亮，那么您就可以阅读它们。）所以...呃，这样做，对吗？对。

[http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSJSONSerialization_Class/Reference/Reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:25:25.003

您可以在解析之前遍历键名并替换它们吗？就像是：

```
NSMutableString *jsonString = …;

NSDictionary *environment = @{
    @"FOO_CONSTANT" : @"foo"
};

for (NSString *key in [environment allKeys]) {
    NSString *pattern = [NSString stringWithFormat:@"<%= %@ %>", key];
    [jsonString replaceOccurrencesOfString:pattern withString:environment[key]];
} 
```

当然，这假定键和值是纯字母字符串，因此您不能破坏 JSON 语法。

# objective-c - 在 Objective-C 之外有什么类似于 Grand Central Dispatch 的吗？

> ID：14152795
> 
> 赞同：2
> 
> 时间：2013-01-04T07:15:36.867
> 
> 标签：objective-c, multithreading, parallel-processing, threadpool

在过去的几个月里，在做 iOS 开发时，我对使用ObjectiveC 默认提供的所谓的[Grand Central Dispatch 技术感到非常满意。](http://en.wikipedia.org/wiki/Grand_Central_Dispatch)只需几个简单的调用，它就可以让我做一些很棒的事情，比如：

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, 0), ^{
    // Do stuff on the lowest priority queue here
    dispatch_async(dispatch_get_main_queue(), ^{
        // Do stuff with the above results here back in main thread/queue
    });
}); 
```

只要我愿意，我基本上可以在其他自定义优先级的线程上分叉任务，并且我可以以任何我想要的方式使用结果，而无需花费太多精力在线程之间传递对象、终止线程、然后加入等。根据对于 Wikipedia，该方法的更通用名称是“[线程池模式](http://en.wikipedia.org/wiki/Thread_pool_pattern)”。

我觉得，就实现并行性而言，这比我过去使用的许多其他解决方案更容易（我在考虑 pthread，但在大多数语言中都有类似的东西）。我想“易用性”的很大一部分来自于 iOS 应用程序（OSX 也是？我自己从来没有写过）为每个线程使用运行循环和任务队列，从而使工作可以分成离散的单元，而不是什么您通常从大多数语言的空白程序框架开始。

因此，问题是，在其他语言中是否有类似 GCD 的东西，或者它不是在 Apple 世界之外流行的模型？我对 Clojure/JVM 特别感兴趣，因为它确实添加了一堆可能类似的并行化抽象，但我也很想了解其他语言。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:36:36.227

Grand Central Dispatch 的核心是一个线程池。大多数语言都有类似的东西，尽管 GCD 比大多数 IMO 更好。最流行的等效 Java 库是 Fork/Join。Clojure 还包括许多用于处理特定任务的并发函数，但对于更一般的并发，您需要 Fork/Join。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:23:16.750

调度 API 是 C 和开源的。所以它不是 objC 运行时的一部分（尽管运行时使用调度 api！）

类似的东西......嗯......也许是Windows 8下的并行任务库

# java - 如何根据 2 个或多个连续空格分割线？

> ID：14152798
> 
> 赞同：0
> 
> 时间：2013-01-04T07:15:53.330
> 
> 标签：java, string

我有一个像这样的字符串：

```
line = Microsoft SharePoint Workspace Audit Service  "C:\Program Files\Microsoft Office\Office14\GROOVE.EXE"; 
```

我需要将上面的字符串分成两部分，例如：

```
part1=Microsoft SharePoint Workspace Audit Service
part2="C:\Program Files\Microsoft Office\Office14\GROOVE.EXE" 
```

这种拆分是因为这些部分之间有两个或多个连续的空格。

怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:25:02.027

```
String[] output = line.split("  "); 
```

output[0] 和 output[1] 是你的答案

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:38:51.560

```
String line = "Microsoft SharePoint Workspace Audit Service  \"C:\\Program Files\\Microsoft Office\\Office14\\GROOVE.EXE\"";

String[] parts = line.split("\\s{2,}");
String part1 = parts[0];
String part2 = parts[1]; 
```

在 Java 中使用正则表达式的一个很好的教程可以在这里找到：http: [//docs.oracle.com/javase/tutorial/essential/regex/](http://docs.oracle.com/javase/tutorial/essential/regex/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:38:50.000

您需要相同的正则表达式。
尝试关注

```
String[] output = line.split("  +"); 
```

output[0] 和 output[1] 是你的答案

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T08:29:10.067

字符串的方法 split() 接收正则表达式，因此您可以使用（例如）：

```
String line = "Microsoft SharePoint Workspace Audit Service  \"C:\\Program Files\\Microsoft Office\\Office14\\GROOVE.EXE\"";
String[] result = line.split("\\s{2}"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T10:33:16.070

```
parts = line.split("\\s\\s+",2);
part1 = parts[0]; 
part2 = parts[1]; 
```

以上正在工作

# git - 将 git repo 中的子目录转换为独立的 git repo

> ID：14152799
> 
> 赞同：0
> 
> 时间：2013-01-04T07:15:56.153
> 
> 标签：git, version-control, unfuddle

我在 Unfuddle 上有一个 git 存储库。这个 repo 包含多个项目，其中没有一个是由 git 单独跟踪的。我碰巧在其中一个项目上工作，但是每次我将提交的更改推送到我的项目之前，我都必须提取完整的 repo，因为它的整个项目集都在版本控制之下。所以repo结构是这样的

```
MainRepo
  Project A
  Project B
  Project C
  .git 
```

项目 A、B 或 C 中都没有 .git。假设我在项目 C 上工作，我可以单独使用它吗？这样做的步骤是什么？

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:19:16.103

在为每个项目生成的新分支上使用过滤器分支。将它们提取到单独的存储库中。

# php - 服务器错误 500

> ID：14152801
> 
> 赞同：-4
> 
> 时间：2013-01-04T07:16:02.000
> 
> 标签：php, drupal, drupal-7

我正在研究drupal7。

当我尝试打开网站时，出现内部服务器错误：

> HTTP 错误 500（内部服务器错误）：服务器尝试完成请求时遇到了意外情况。

但是当我们在 Firefox 上打开它时，它什么也没做。任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:19:29.003

这是由于代码中的错误。启用错误报告，看看会发生什么。

此代码将帮助您-

```
ini_set('display_errors', '1');
error_reporting(E_ALL ^ E_NOTICE); 
```

阅读更多 - [http://pcsupport.about.com/od/findbyerrormessage/a/500servererror.htm](http://pcsupport.about.com/od/findbyerrormessage/a/500servererror.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:40:07.027

PHP 脚本会出错，但由于您的 PHP 设置设置为生产模式，因此它不会产生错误并将错误处理留给您的网络服务器（大多数情况下是 Apache）。

您可以执行以下操作之一：

1.  找到正确的 php.ini 文件并将 error_reporting 更改为 E_ALL 并将 display_errors 更改为 1（需要重新启动服务器）。
2.  把它放在第一个加载的 PHP 文件 (index.php?) error_reporting(E_ALL); ini_set('dislay_errors', 1);
3.  每个网络服务器都有自己的错误日志，您也可以检查它而不是让 PHP 输出错误，请参阅 (http://httpd.apache.org/docs/2.0/logs.html)。

但是当您执行上述其中一项操作时，您只会看到错误消息，解决问题是第二步。

# ios - 推送 UITableViewController（搜索栏消失）

> ID：14152805
> 
> 赞同：0
> 
> 时间：2013-01-04T07:16:09.710
> 
> 标签：ios, xcode, search, push, tableview

所以我试图从另一个控制器推送一个 UITableViewController 并且我的 UITableViewController 上的搜索栏没有出现。

这是原始表的.m。（试图推送到“xSearch”视图控制器）

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath

xSearch *itemSearch = [[xSearch alloc] init];

}

if([[tableData objectAtIndex:indexPath.row]isEqual:@"Search"]){

    [itemSearch setTitle:[tableData objectAtIndex:indexPath.row]];

    [self.navigationController pushViewController:itemSearch animated:YES];

} 
```

在我的故事板中，“xSearch”视图控制器由一个表格和一个搜索栏组成。但只有表格显示。任何帮助将不胜感激。顺便说一句，我不是要对搜索栏进行编码。我只是想知道为什么我运行应用程序时它没有出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:26:02.260

因为您没有使用情节提要初始化 itemSearch。您应该使用情节提要对其进行初始化，例如-

```
NSString *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard_iPhone" bundle:nil]; //specify your storyboard name

xSearch *itemSearch = [storyBoard instantiateViewControllerWithIdentifier:@"xSearchStoryboardIdentifier"]; //You need to provide storyboard id in storyboard(Identity Inspector) 
```

然后推一下

```
[self.navigationController pushViewController:itemSearch animated:YES]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:27:09.047

这可能是由于调整大小问题，导航栏可能隐藏了搜索栏。尝试使用以下命令隐藏导航栏：

```
setNavigationBarHidden:animated: 
```

在您的 nib 文件中，将视图属性更改为使用导航控制器查看。然后设计您的 XIB ..研究此[链接。](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/NavigationControllers.html)

# javascript - 将文本值相乘并显示结果

> ID：14152808
> 
> 赞同：0
> 
> 时间：2013-01-04T07:16:28.067
> 
> 标签：javascript

我正在使用以下三个字段，需要`multiply`通过`PHP`. 任何帮助？代码为 - `1`必须从这里`select`开始`dropdown`..

```
<select name="sp" id="sp">
<option value="" selected>Please Select...</option>
<option value="Editing">Editing</option>
<option value="Writing">Writing</option>
</select> 
```

然后我有一个文本框，其中将提供数字，如单词 100 200 300，如

```
<input type="text" name="Word_Count" id="Word_Count" size="10"> 
```

第三个字段是代表上一行（100 200 300 字）计算价格的地方，如

```
<input type="text" name="price" id="price" value="" readonly="" size="20"> 
```

现在，如果用户将选择`Editing`from`select`框，价格将被计算为`100 x 0.02, 200 x 0.02, 300 x 0.02`like 而用户将选择`Writing`，价格将被计算为`100 x 0.04, 200 x 0.04, 300 x 0.04`。

我怎样才能更有效地获得输出？有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:22:11.823

您将不得不处理许多复杂情况。
1) 检查 Word_Count 中输入的字符串是否为数字。（永远不要相信用户输入。应用验证技术）

2) 在 Word_Count 的 Onkeyup 事件上调用 javascript 函数。
`<input type="text" name="Word_Count" id="Word_Count" size="10" onkeyup="return somefunction()">`

我已经向你展示了如何通过在 element.xml 中提及函数来调用它。您还可以在页面加载时使用 bing jquery 功能。如果您愿意，最好查看官方文档。

html选择

```
<select name="sp" id="sp">
<option value="" selected>Please Select...</option>
<option value="0.02">Editing</option>
<option value="0.04">Writing</option>
</select> 
```

更改了选项的值。

javascript/jquery 函数

```
function somefunction(){
    //take value of Word_Count in one variable
    var valWC = $("#Word_Count").val()

    //take value of Word_Count in one variable
    var valDP = $("#sp").val()

    //sumd will hold the product of two numbers
    var sumd = 0;

    //apply validation technique

    //multiply both values valWC and valDP
    //sumd will have the product
    sumd=Number(valWC)*Number(valDP);

    //show it in third box
    $("#price").val(sumd);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:22:45.250

你可以在 Jquery 本身中做到这一点。你要做的是，

```
$("#sp").change(function() {

   // get the word count field  value;

   // split the values by using  " " character and store it into an array

   // loop the array [ inside the loop do your calculation according to the selection of the choice ]

   // display the final value in the price field..
}); 
```

有实现它的步骤。

# java - Java 字符串 ReplaceAll 和 ReplaceFirst 在替换文本的 $ 符号处失败

> ID：14152811
> 
> 赞同：16
> 
> 时间：2013-01-04T07:16:35.713
> 
> 标签：java, regex, replace

我写了这段代码：

```
public static void main(String args[]) throws Exception {
    String template = "The user has spent amount in a day";
    String pattern = "amount";
    String output = template.replaceAll(pattern, "$ 100");
    System.out.println(output);
} 
```

这是我运行它时发生的情况：

```
Exception in thread "main" java.lang.IllegalArgumentException: Illegal group reference
        at java.util.regex.Matcher.appendReplacement(Matcher.java:713)
        at java.util.regex.Matcher.replaceAll(Matcher.java:813)
        at java.lang.String.replaceAll(String.java:2190)
        at demo.BugDemo.main(BugDemo.java:16)
Java Result: 1 
```

我正在从文件中读取数据。我应该转义`$`文件数据中的所有符号，还是这是一个不必要的过程？是否有任何其他类或库来处理这种情况？

在替换文本中（不在正则表达式中）有一个特殊符号有什么问题？

笔记：

*   我不想检查每个字符来逃避。这就是我问这个问题的原因。

*   我正在使用 Java 6。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-01-04T07:18:46.677

[`String.replaceAll`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)将正则表达式*匹配*模式作为其第一个参数，将正则表达式*替换*模式作为其第二个参数 - 并且`$`在正则表达式中具有特定含义（在匹配模式和替换模式中，尽管在不同的意义上）。

只是使用[`String.replace`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29)，我怀疑你所有的问题都会消失。仅`replaceAll`当您真正*想*通过正则表达式匹配/替换时才应使用 - 在这种情况下，我认为您不会这样做。

编辑：至于你的问题：

> 在替换文本中（不在正则表达式中）有一个特殊符号有什么问题？

同样，文档说明了`replaceAll`这一点：

> 请注意，替换字符串中的反斜杠 (\) 和美元符号 ($) 可能会导致结果与将其视为文字替换字符串时的结果不同；见`Matcher.replaceAll`。如果`Matcher.quoteReplacement(java.lang.String)`需要，用于抑制这些字符的特殊含义。

因此，如果您想将*匹配*模式视为正则表达式，而不是替换，则使用`Matcher.quoteReplacement`.

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-01-04T07:18:28.437

在替换字符串中，`$`是一个特殊字符：它用于从您要替换的模式中获取匹配的组。[你可以在这里](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29)阅读更多关于它的信息。

要解决此问题，您可以引用替换字符串以从`$`字符中删除所有特殊含义：

```
import java.util.regex.Matcher;
// ...
String output = template.replaceAll(pattern, Matcher.quoteReplacement("$ 100")); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-16T15:49:24.660

`$`可以处理特殊字符的方法很简单。检查以下示例

```
public static void main(String args[]){
        String test ="Other company in $ city ";
        String test2 ="This is test company ";
        try{
            test2= test2.replaceFirst(java.util.regex.Pattern.quote("test"),  Matcher.quoteReplacement(test));
            System.out.println(test2);
            test2= test2.replaceAll(java.util.regex.Pattern.quote("test"),  Matcher.quoteReplacement(test));
            System.out.println(test2);
        }catch(Exception e){
            e.printStackTrace();
        }
    } 
```

输出：

```
This is Other company in $ city  company 
This is Other company in $ city  company 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-01-04T07:23:06.750

试试这个

```
 String template = "The user has spent amount in a day";
 String pattern = "amount";
 String output = template.replaceAll(pattern, "\\$ 100");
 System.out.println(output); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-04T07:20:47.510

`$`用于指定替换组的符号。你需要逃避它：

```
String output = template.replaceAll(pattern, "\\$ 100"); 
```

# json - 递归引用同一个类

> ID：14152818
> 
> 赞同：1
> 
> 时间：2013-01-04T07:17:14.610
> 
> 标签：json, class, rest, recursion, servicestack

就我而言，我盯着使用 ServiceStack ......

我创建了一个类

```
public class dtoClass
{
    public string aText { get; set; }
    public DbGeography dbGeo { get; set; }
    public dtoClass d { get; set; }
} 
```

在通过 rest 的 servicestack 的输出上 -->

我明白了

```
{"aText":"String","d":{"aText":"String","d":{"aText":"String","d":{"aText":"String"}}}} 
```

您将看到它在引用 dtoClass d 的第 3 层结束

我的问题是，我如何指定这发生在 8 个级别内？而不仅仅是 3 ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T06:32:17.433

注意 几乎所有[ServiceStack](http://www.servicestack.net/)的 POCO 支持仅适用于**公共属性**。即将您的班级更改为：

```
public class dtoClass
{
   public String aText {get;set;}
   public dtoClass d {get;set}
} 
```

# java - 复制 Android Java 类 w 的正确方法。所有必需的资源

> ID：14152819
> 
> 赞同：0
> 
> 时间：2013-01-04T07:17:34.560
> 
> 标签：java, android, eclipse, class, resources

有没有一种简单的方法可以做到这一点，而不必每次我想将一个类复制到不同的项目时复制每个可绘制、布局、库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:19:17.507

您可以使该项目成为一个**库**（在 Eclipse 中右键单击该项目），这样您就应该能够与您的另一个共享该项目的资源和类。

# c# - 从模型 MVC 中取消绑定属性

> ID：14152821
> 
> 赞同：1
> 
> 时间：2013-01-04T07:17:42.760
> 
> 标签：c#, asp.net-mvc-3, asp.net-mvc-4

我有直接更新我的数据库的模型。

但是我不想在我的数据库表中更新一些属性，那么我如何将这些属性标记为不进入数据库表？

我的模型如下：

```
public class Blog
{
       public int id {get;set;}
       public int newid {get;set;} // which i want to unbind/exclude
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-01-04T07:28:45.767

假设您使用的是实体框架（顺便说一下，您应该在问题中指定它，因为 ASP.NET MVC 不知道数据库的含义。我提醒您，ASP.NET MVC 是一个 Web 框架，而不是 ORM） ，您可以使用以下属性装饰[`[NotMapped]`](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.schema.notmappedattribute.aspx)属性：

```
public class Blog
{
    public int id { get; set; }

    [NotMapped]
    public int newid { get; set; }
} 
```

显然，如果您使用其他一些数据访问技术来查询您的数据库，您应该检查它的文档以了解如何忽略某些属性被映射。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T09:02:23.373

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
   modelBuilder.Entity<Customer>().Ignore(t => t.LastName);
   base.OnModelCreating(modelBuilder);
} 
```

# css - 我需要在论文框架中强制刷新 custom.css

> ID：14152822
> 
> 赞同：0
> 
> 时间：2013-01-04T07:17:48.977
> 
> 标签：css, wordpress, caching, wordpress-thesis-theme

有谁知道在论文中刷新 custom.css 的最佳方法？我遇到了一个问题，由于 custom.css 的浏览器缓存，我的一些 css 没有得到实现。我尝试在文件名中添加一个变量，例如“custom.css?v=1”，虽然这有效，但每次加载页面时都会出现错误。任何帮助，将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T19:15:57.350

您可以通过将此过滤器添加到 custom_functions.php 文件来禁用 CSS 缓存。

```
function cache_customcss()
{
return true;
}

add_filter('thesis_cache_query','cache_customcss'); 
```

# android - 是否有任何网站/api可以从中获取windows phone应用程序下载统计信息

> ID：14152824
> 
> 赞同：-1
> 
> 时间：2013-01-04T07:18:02.623
> 
> 标签：android, windows

我想知道如何查看或检索[Windows Phone应用程序的下载统计信息。](http://www.windowsphone.com/en-us/store)类似于 Play 商店中 Android 应用程序的总下载量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:40:56.503

*当您注册为开发人员并发布应用程序时，您可以看到您的*应用程序被下载了多少次（如果我没记错的话）。我认为不可能看到别人的应用程序从市场上下载了多少次。

希望这可以帮助

# media - MF_MT_AM_FORMAT_TYPE 和 MF_MT_H264_MAX_MB_PER_SEC 的奇怪值

> ID：14152827
> 
> 赞同：0
> 
> 时间：2013-01-04T07:18:15.070
> 
> 标签：media, ms-media-foundation

我正在尝试为罗技相机枚举视频捕获格式。我正在使用[这个](http://msdn.microsoft.com/en-us/library/dd940439%28v=vs.85%29.aspx)。

我得到了以下条目

MF_MT_FRAME_SIZE 640 x 480
MF_MT_AVG_BITRATE 6619136
MF_MT_COMPRESSED 1
MF_MT_H264_MAX_MB_PER_SEC 245,0,245,0,0,0,0,0,0,0
MF_MT_MAJOR_TYPE MFMediaType_Video
MF_MT_H264_SUPPORTED_USAGES 3
MF_MT_H264_SUPPORTED_RATE_CONTROL_MODES 15
MF_MT_AM_FORMAT_TYPE {2017BE05-6629-4248-AAED-7E1A47BC9B9C}
MF_MT_H264_SUPPORTED_SYNC_FRAME_TYPES 2
MF_MT_MPEG2_LEVEL 40
MF_MT_H264_SIMULCAST_SUPPORT 0
MF_MT_MPEG2_PROFILE 256
MF_MT_FIXED_SIZE_SAMPLES 0 MF_MT_H264_CAPABILITIES 33 MF_MT_FRAME_RATE 30 x 1
MF_MT_PIXEL_ASPECT_RATIO 1 x 1
MF_MT_H264_SUPPORTED_SLICE_MODES 14
MF_MT_ALL_SAMPLES_INDEPENDENT 0
MF_MT_FRAME_RATE_RANGE_MIN 30 x 1
MF_MT_INTERLACE_MODE 2 MF_MT_FRAME_RATE_RANGE_MAX 30 x 1
MF_MT_H264_RESOLUTION_SCALING 3
MF_MT_H264_MAX_CODEC_CONFIG_DELAY 1
MF_MT_SUBTYPE MFVideoFormat_H264_ES
MF_MT_H264_SVC_CAPABILITIES 1

**注意：**我已将[媒体类型调试代码](http://msdn.microsoft.com/en-us/library/windows/desktop/ee663602%28v=vs.85%29.aspx)中的函数修改如下。当我运行程序时，我得到 cElement = 10，并且我将 pElemet 放入 for 循环中以获取此值 MF_MT_H264_MAX_MB_PER_SEC 245,0,245,0,0,0,0, 0,0,0

```
case VT_VECTOR | VT_UI1:
{
        //DBGMSG(L"<<byte array Value>>");
        // Item count for the array.
        UINT  cElement = var.caub.cElems/sizeof(UINT);
        // Array pointer.
        UINT* pElement = (UINT*)(var.caub.pElems);
        for( int i = 0; i < cElement;i++)           
            DBGMSG(L"%d,", pElement[i]);

} 
```

我无法找出这些值的含义

1.  MF_MT_AM_FORMAT_TYPE {2017BE05-6629-4248-AAED-7E1A47BC9B9C}

2.  MF_MT_H264_MAX_MB_PER_SEC 245,0,245,0,0,0,0,0,0,0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:38:32.167

MSDN 解释了[MF_MT_H264_MAX_MB_PER_SEC](http://msdn.microsoft.com/en-us/library/windows/desktop/hh162862%28v=vs.85%29.aspx)属性的值：

> 数据类型 UINT32[] 存储为 UINT8[]

因此，字节数组是预期的格式。

> 该属性的值是一个 UINT32 值数组，对应于 UVC 1.5 H.264 视频格式描述符中的以下字段。

你有：

> dwMaxMBperSecOneResolutionNoScalability
> 
> 指定不可扩展的高级视频编码 (AVC) 流允许的最大宏块处理速率，当所有层具有相同的分辨率时，对所有层求和。

**16056565**

> dwMaxMBperSecTwoResolutionsNoScalability
> 
> 指定不可缩放的 AVC 流允许的最大宏块处理速率，当所有层包含两种不同的分辨率时，对所有层求和。

**0**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-05T10:48:26.550

媒体类型 GUID“2017be05-6629-4248-aaed-7e1a47bc9b9c”表示 FORMAT_UVCH264Video 然后您可以将 pbFormat 结构转换为 KS_H264VIDEOINFO*

# java - 将图标放在 JTable 单元格中会改变它的颜色

> ID：14152835
> 
> 赞同：1
> 
> 时间：2013-01-04T07:18:53.560
> 
> 标签：java, swing

我在我的 jtable 的单元格中放置了一些图标，但问题是它正在将其背景颜色更改为表格的背景颜色....我希望它将其更改为行的背景颜色...并且当它被选中时它不显示选择...这是我如何设置图标的代码...

```
 Users user;
 ConsoleUsersListTbl.getColumnModel().getColumn(1).setCellRenderer(new ImageRender());

    DefaultTableModel userTableModel = (DefaultTableModel) ConsoleUsersListTbl.getModel();

    for (int i = 0; i < userList.size()-1; i++) {

        user = userList.get(i);
        javax.swing.ImageIcon image_icon = new javax.swing.ImageIcon(user.getUser_image());
        if (image_icon.getIconWidth() > 32 || image_icon.getIconWidth() > 32) {
            InputStream in = new ByteArrayInputStream(user.getUser_image());
            BufferedImage buff_image;
            try {
                buff_image = ImageIO.read(in);
                int type = buff_image.getType() == 0 ? BufferedImage.TYPE_INT_ARGB : buff_image.getType();
                BufferedImage resizedImage = resizeImage(buff_image, type);

                image_icon.setImage(resizedImage);
                userTableModel.setValueAt(image_icon, i, 1);

            } catch (IOException ex) {
                Logger.getLogger(MainFrame.class.getName()).log(Level.SEVERE, null, ex);
            }
        } else {
            userTableModel.setValueAt(image_icon, i, 1);
        } 
```

这是输出...... ![在此处输入图像描述](../Images/291fba45c958a0d2cf4f5e4cf635ba32.png)

> Edit1 这里是我的图像渲染类；使 setOpaque 为真使我的图标变白..

```
public class ImageRender extends  DefaultTableCellRenderer {
JLabel lable = new JLabel();
@Override
public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
    lable.setIcon((ImageIcon)value);
    lable.setOpaque(true);
    return lable;
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:31:05.820

我认为您需要实现[这里](https://stackoverflow.com/questions/6644922/jtable-cell-renderer)讨论和描述[的](http://www.coderanch.com/t/340609/GUI/java/JTable-Custom-Cell-Renderer-JTextArea)自定义单元格渲染器。如果当前单元格被聚焦或选中，渲染器可以访问信息，因此您可以根据需要调整背景、前景甚至内容。请注意，组件可能不透明（有自己的背景）或不透明（通过它可以看到父背景或其他内容）。这是通过[setOpaque(boolean)](https://stackoverflow.com/questions/2451990/setopaquetrue-false-java)控制的。

# c - GTK+ 和 OpenGL

> ID：14152836
> 
> 赞同：-3
> 
> 时间：2013-01-04T07:18:54.403
> 
> 标签：c, user-interface, opengl, gtk

什么是 GTK+，它与 OpenGL 有什么关系？我可以在 C 中使用 OpenGL 创建 GUI 界面吗？我进行了研究，人们说要使用 GTK+，但我根本不知道它是什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-01-04T08:31:15.340

你是怎么做你的“研究”的，一个奇迹。

转到[GTK+ 官方网站](http://www.gtk.org/)并开始阅读，然后转到相应的[OpenGL 官方网站](http://www.opengl.org/)并在那里做同样的事情。

GTK+ 是一个界面工具包，它使用绘图后端（GDK+Cairo）来渲染用户界面元素，然后管理这些元素，处理用户输入事件、重绘等等。

OpenGL 是一种用于编程图形硬件的 API，通常用于 3D 图形。它的范围比 GTK+ 更紧凑（并且更底层），并且可以（理论上）用于实现 GTK+ 后端。

为了说明两个 API 在“级别”上的差异：

*   GTK+ 将可滚动、可编辑、多字体和完全符合国际语言的文本视图视为一个单一的“事物”，您可以通过其 API（强大的[GtkTextView](http://developer.gnome.org/gtk3/3.3/GtkTextView.html)小部件）使用它。
*   OpenGL 认为使用单个调用绘制一组三角形，这反过来又依赖于先前调用，这些调用为三角形的角、颜色数据、纹理坐标等指定了坐标，这是一个有点高级的调用（请参阅 参考资料[`glDrawElements()`](http://www.opengl.org/sdk/docs/man/xhtml/glDrawElements.xml)）。

# javascript - 带有 bz 代码的可调整大小的表列

> ID：14152837
> 
> 赞同：1
> 
> 时间：2013-01-04T07:18:57.043
> 
> 标签：javascript, html-table, resizable

我按照[bz 的演示创建了一个可调整大小的表格列代码](http://bz.var.ru/comp/web/resizable.html)

但是当我创建超过 30 列时，代码不起作用。我正在创建的表非常简单：

```
<table class="resizable" border="1">
        <tr>
            <td name="col1" align="center">Column 1</td>
            <td name="col2" align="center">Column 2</td>
            <td name="col3" align="center">Column 3</td>
            <td name="col4" align="center">Column 4</td>
            <td name="col5" align="center">Column 5</td>
            <td name="col6" align="center">Column 6</td>
        </tr>
</table> 
```

有谁知道我应该更改哪一行以使代码正常工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:41:36.900

为什么不自己做呢？使表格可调整大小非常简单：

首先将其添加到您的 onLoad：

```
$(".gridTableSeparator").bind("mousedown", function () {
    var that = $(this).parent();
    $("body").bind("mousemove", function (event) {
        that.attr("width", event.pageX - that.offset().left);
    });
    $("body").bind("mouseup", function (event) {
       $(this).unbind("mousemove mouseup");
    });
 }); 
```

您的表格标题应如下所示：

```
<td>
    <div class="gridTableSeparator"></div>
    <div class="gridTableHeadline">Tableheadline</div>
</td> 
```

并像这样格式化分隔符和标题：

```
.gridTableSeparator 
{
  width: 3px; 
  right:-4px;
  height:40px;
  float:right;    
  position:relative;  
  cursor: e-resize;  
}
.gridTableHeadline 
{
  line-height: 40px;  
  overflow: hidden;
} 
```

自己做的好处是您可以完全控制并可以根据需要更改外观和功能。否则，如果您可以发布小提琴，那就太好了，所以如果您添加超过 30 行，我们可以看到出了什么问题。

# c# - 使用 python 自动化 c# gui 应用程序控件的更好方法

> ID：14152840
> 
> 赞同：0
> 
> 时间：2013-01-04T07:19:10.147
> 
> 标签：c#, user-interface, python-2.7, automation, pywinauto

有没有更好的方法来自动化 c# gui 应用程序，包括使用 python 的 datagridview 及其内部添加的控件我尝试使用 PywinAuto 是否有任何其他工具/模块在 python 中可用？请让我知道

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T20:07:07.680

如果您正在查看 PyWinAuto，那么我假设您询问的是免费/开源，而不是商业支持。有许多可用的商业工具。[AutoIT](http://www.autoitscript.com/site/)和[白色](http://teststack.github.com/White/)是不错的选择。

# linux - 在静态/动态链接情况下，lib 依赖如何写入 ELF 可执行文件的 .dynamic 部分？

> ID：14152841
> 
> 赞同：2
> 
> 时间：2013-01-04T07:19:10.763
> 
> 标签：linux, dynamic, linker, ldd

我们可以使用 ldd 来确定依赖关系，例如：

```
 sjwang@delpe02-179: ldd `which date`
        linux-vdso.so.1 =>  (0x00007fff0f5fd000)
        librt.so.1 => /lib64/librt.so.1 (0x00002b2f7ea50000)
        libc.so.6 => /lib64/libc.so.6 (0x00002b2f7ec59000)
        libpthread.so.0 => /lib64/libpthread.so.0 (0x00002b2f7efb1000)
        /lib64/ld-linux-x86-64.so.2 (0x00002b2f7e832000) 
```

由于“日期”依赖于“libc.so”，我假设“日期”调用“libc.so”中的某个函数，并且我们知道 ldd 可以从可执行文件的 .dynamic 部分确定“日期”的 lib 依赖关系，但我的问题是编译器/链接器如何知道应该将什么写入 .dynamic 部分？更加具体：

1.  如果“libc.so”与“date”静态链接，那么这个函数的代码应该已经编译成“date”，所以在这种情况下“date”不应该依赖“libc.so”，应该没有.dynamic 部分中的“libc.so”。

2.  如果“libc.so”与“date”动态链接，在这种情况下，我假设一些代码是这样的：

句柄 = dlopen("libc.so", ..);

应该存在于 "date" 中以加载 "libc.so"，并且 "dlopen("libc.so")" 应该是 "date" 依赖于 "libc.so" 的唯一线索，在这种情况下，编译器/链接器知道“日期”取决于“libc.so”吗？它是否解析所有“dlopen”行以提取 lib 依赖关系？我认为这不是一个好方法，但真的，这是真的吗？

或者编译器/链接器是否有其他方法来确定动态链接情况下的 lib 依赖性？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T19:04:30.987

> 编译器/链接器如何知道应该将什么写入 .dynamic 部分

*   `.dynamic`编译器对节一无所知
*   链接器*知道*您是与`libc.a`还是与链接`libc.so`。对于`*.so`您链接的任何内容 [1]，它都会在`DT_NEEDED`该部分中写入一个条目`.dynamic`。

> 我假设一些这样的代码：`handle = dlopen("libc.so", ..);`

这是您的*错误*假设和误解。`dlopen`允许您使用不*直接*依赖的库（可能存在也可能不存在）。您直接依赖的库（例如`libc.so`）：

*   不需要 dlended（加载程序在您的程序启动之前已经为您映射了它们）和
*   不是可选的（如果它们丢失，加载器将失败）。

[1] 链接器标志`--as-needed`使该语句仅部分正确。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T09:29:02.763

文件中的内容`.so`不仅仅是`.dynamic`部分。阅读有关[可执行和可链接格式](http://en.wikipedia.org/wiki/Executable_and_Linkable_Format)的更多信息（ELF 是`.so`文件和二进制可执行文件的格式）。

特别是 ELF 文件确实有标题，这些包含信息。使用`objdump`和/或 `readelf`实用程序来探索它们。

不要忘记，在构建共享库时，您可以将其与其他库链接。

# c# - ASP.NET 页面的回发状态

> ID：14152846
> 
> 赞同：0
> 
> 时间：2013-01-04T07:19:16.123
> 
> 标签：c#, asp.net, page-lifecycle

由于项目的结构，我必须使用`Request.Form["__EVENTTARGET"]`来了解 ASP.NET 页面的回发状态。

但是，当我刷新页面时，`Request.Form["__EVENTTARGET"]`返回`null`. 但是当我单击页面中的链接按钮时，它会返回`not null`，它会返回`Id`链接按钮。

我使用以下代码获得回发状态：

```
bool isManuelPost = Request.Form["__EVENTTARGET"] != null; 
```

并使用以下代码控制它：

```
if (isManuelPost)
{
    //...
}
else
{
     textBox = new TextBox();
     textBox.ID = counter++;
     textBox.Text = "";

     list.Controls.Add(textBox);
} 
```

当我刷新页面（使用 F5）时，isManuelPost 返回 false 并且 else 语句再次起作用并向页面添加了一个文本框。

我该如何预防？

# jquery - 如何在 jQuery 中发出删除警报？

> ID：14152857
> 
> 赞同：-2
> 
> 时间：2013-01-04T07:19:38.280
> 
> 标签：jquery

我试图在 jQuery 中按下删除按钮时发出警报。当我也按下取消选项时，它正在删除。你能帮我如何在 jQuery 中发出删除警报。我正在以下列方式使用警报

```
if(innerHtml == "Delete") {
                    var r=confirm("do you want to delete this record ?");
                    if(r==true){
                    oTable.fnDeleteRow(nRow);
                    nEditing = null;
                    nEditingTable = null;
                    }
                 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:25:16.407

你应该这样做..

```
if(innerHtml == "Delete") {

                    if(confirm("do you want to delete this record ?")){
                      oTable.fnDeleteRow(nRow);
                      nEditing = null;
                      nEditingTable = null;
                    }
                 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T10:23:37.063

埃德温亚历克斯应该是正确的。确保在代码中正确使用确认框，

```
if(confirm('do you want to delete this record ?')) {
  alert('deleted');
} else {
  alert('deletion is cancelled');
} 
```

如果这不是问题，请查看 `innerHtml`值是否为“删除”，如果不是，则永远不会执行此代码

# android - 如何使用Android google mapV2获取地图的经纬度

> ID：14152861
> 
> 赞同：0
> 
> 时间：2013-01-04T07:19:58.333
> 
> 标签：android, google-maps, google-maps-android-api-2

我正在 使用 Android google maps V2查找**mapView 右上角的纬度和经度值。**我在同一个问题上发布了类似的问题，但没有用。

我为此编写了代码，但得到了零值。

**请检查我的代码：**

```
MapView mapView = ((SupportMapFragment) getSupportFragmentManager()
                    .findFragmentById(R.id.map)).getMap();

    LatLngBounds bounds = mapView.getProjection().getVisibleRegion().latLngBounds;
            LatLng topright = bounds.northeast;
            double toprgt_latitude = topright.latitude;

            Log.d("top lat", "" + toprgt_latitude);//getting zero values. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-26T13:10:05.030

地图显示后使用 mapView.getProjection().getVisibleRegion().latLngBounds.northeast。

```
LatLng corner;

mapView.setOnCameraChangeListener(new OnCameraChangeListener() {
  @Override
  public void onCameraChange(CameraPosition position) {
    corner = mapView.getProjection().getVisibleRegion().latLngBounds.northeast;    
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T07:09:22.577

```
LatLng currentposition = new LatLng(location.getLatitude(), location.getLongitude());
sys.out.println(""+location.getLatitude()""+location.getLongitude()); 
```

# android - 如何以编程方式从 android 手机浏览时获取 cookie？

> ID：14152867
> 
> 赞同：-4
> 
> 时间：2013-01-04T07:20:33.990
> 
> 标签：android, cookies

我想以编程方式从 android 应用程序获取浏览器 cookie。

`.apk`我通过一位客户（即网站）获得了一个应用程序 ( ) 的链接。该链接会将我重定向到服务器（即`.apk`文件所有者的数据库）。然后店主会检查客户是否注册。如果已注册，它将允许我下载`.apk`文件，服务器还将客户 ID 发送到 cookie。我想使用程序从移动浏览器 cookie 中获取客户 ID。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:29:11.043

默认的 android 浏览器的 cookie 存储在

`/data/data/com.android.browser/databases/webview.db`.

问题在于，出于安全原因，其他应用程序无法访问不属于它们的文件，例如数据库文件。

为了使您的要求成为可能，浏览器应用程序必须实现此功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:26:49.607

你可以做一些xss。根据您的网站配置，如果您为所有子域设置 cookie，您可以添加一个新的子域，让我们将其命名为 xss.example.com，您可以在其中读取 cookie 并将它们放在 GET args 中，指向您的应用程序捕获的 URL。

# python - 将正则表达式文档的结果写回python中的文档

> ID：14152869
> 
> 赞同：1
> 
> 时间：2013-01-04T07:20:42.433
> 
> 标签：python, regex, latex

我正在尝试创建一个 python 脚本，以便在排版之前立即对 LaTeX 文档进行一些正则表达式替换，但我似乎在使替换生效时遇到了一些问题。我的脚本如下：

```
# -*- coding: utf-8 -*-
import os, re, sys
tex = sys.argv[-1]
tex_file = open(tex, "r+")
tex_file_data = tex_file.read()

# DO SOME REGEXES
tex_file_data = re.sub(r"\b_(.*?)_\b", r"\emph{\1}", tex_file_data)
tex_file.write(tex_file_data)

# PROCESS THE DOCUMENT
os.system("xelatex --shell-escape " + tex_file.name) 
```

但是，每次我尝试使用此脚本处理文档时，都会遇到常见`! Missing $ inserted.`错误。根据正则表达式，这些下划线应该被替换为合适的语法。但是，如果我将最后一行替换为`print(tex_file_data)`，控制台将显示更改已生效的文档。据我所知，问题似乎是编辑后的文档没有正确保存，但我不确定我做错了什么。

我该如何解决这个问题，以便脚本可以用于处理文档？

**编辑：**在@Yuushi 的建议下，我将脚本编辑如下：

```
# -*- coding: utf-8 -*-
import os, re, sys
with open(sys.argv[-1], "r+") as tex_file:
  tex_file_data = tex_file.read()
  tex_file_data = re.sub(r"\_(.*)\_", r"\\emph{\1}", tex_file_data)
  tex_file.write(tex_file_data)
os.system("xelatex --shell-escape " + tex_file.name) 
```

但是，我仍然收到`! Missing $ inserted.`错误消息，这表明原始文档仍在发送到 LaTeX 编译器，而不是正则表达式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:37:25.753

你可能有两个问题。首先，在 a 之后`read`，流被设置为结束位置，因此您需要`tex_file.seek(0)`在调用之前将其重置为 a 的开头`write`。其次，您永远不会关闭文件，并且写入可能会被缓冲，因此`tex_file.close()`最后需要 a 。更好的是使用以下`with`语句：

```
with open(sys.argv[-1], 'r+') as tex_file:
    tex_file_data - tex_file.read()
    tex_file_data = re.sub(r"\_(.*)\_", r"\\emph{\1}", tex_file_data)
    tex_file.seek(0)
    tex_file.write(tex_file_data)

os.system("xelatex --shell-escape " + tex_file.name) 
```

# user-controls - 在运行时更改表单和用户控件（.frm 和 .ctl）的字体

> ID：14152872
> 
> 赞同：1
> 
> 时间：2013-01-04T07:21:01.897
> 
> 标签：user-controls, vb6, fonts, controls

我有一个 VB 6 插件，它将所有项目添加到一个项目组中，遍历这些项目的每个组件，如果找到一个表单或用户控件，则更改其属性。

属性由用户定义。如果用户想要更改所有表单或用户控件的高度，则代码片段如下

```
Private Sub Update_ButtonClick()
  '..declaring all the variables here

  ' VBInstance is initialized to VBIDE.VBE when the add-in is loaded

  For Index = 1 To projCount
    compoCount = VBInstance.VBProjects(Index).VBComponents.Count
    For jIndex = 1 To compoCount

      csFileName = VBInstance.VBProjects(Index).VBComponents(jIndex).name
      componentType = VBInstance.VBProjects(Index).VBComponents(jIndex).Type

      If componentType = VBIDE.vbext_ct_VBForm Or componentType = VBIDE.vbext_ct_UserControl Then '.frm or .ctl         
        VBInstance.VBProjects(Index).VBComponents(jIndex).Properties(propChange).Value = propvalue 'changing the property
        VBInstance.VBProjects(Index).VBComponents(jIndex).SaveAs csFileName 'Saving the file
      End If
    Next jIndex
  Next Index
End Sub 
```

每当我将属性名称命名为`Font`时，我都会收到错误消息

> 运行时错误“425”无效对象使用

我已经`PropertyBag.WriteProperty`从[http://visualbasic.freetutes.com/learn-vb6-advanced/lesson13/p20.html](http://visualbasic.freetutes.com/learn-vb6-advanced/lesson13/p20.html)尝试过，但它不符合我的目的。

有没有办法设置`Font`控件或表单的属性？

当我在记事本中打开 ctl 或表单时，我无法在其中找到该`Font`属性，因此我无法在此处使用文本替换。

任何人都可以帮忙吗？

更新代码：

```
 Private Sub Update_ButtonClick()
    Dim fobject As New StdFont
    fobject.Name = "Arial"
    Set propvalue = fobject
    For Index = 1 To projCount
     compoCount = VBInstance.VBProjects(Index).VBComponents.Count
     For jIndex = 1 To compoCount
      csFileName = VBInstance.VBProjects(Index).VBComponents(jIndex).Name
      componentType = VBInstance.VBProjects(Index).VBComponents(jIndex).Type
      If componentType = 5 Or componentType = 8 Then 
       VBInstance.VBProjects(Index).VBComponents(jIndex).Properties("Font").Value=  propvalue
      VBInstance.VBProjects(Index).VBComponents(jIndex).SaveAs csFileName 
      End If
       Next jIndex
     Next Index 
End Sub 
```

我得到的错误是

```
Run-time error '425':
Invalid object use
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T10:16:08.480

属性是一个对象，而`Font`不是简单的内在价值。您需要使用`Set`分配`StdFont`给`propvalue`.

或者，您可以对字体进行特殊处理，只需将属性的`.Name`属性设置为所需的字体名称。

# python - 如何在 for ... in ... 中连接字符串？（Python）

> ID：14152874
> 
> 赞同：1
> 
> 时间：2013-01-04T07:21:04.163
> 
> 标签：python, string

我是 ac coder，但是 python 是不同的，我遇到了一个问题

```
items = [
     ["/ank/homepage.py","Home"],
     ["/ank/package.py","Packages"],
     ["/status.py","Status"],
     ["/task.py","Task"],
     ["/report.py","Report"]
]

static_html='<table id="main_nav" align="center"><tr>'

for each_item in items:
    if each_item in items:
        if isinstance(each_item, list):
            static_html=  static_html + '<td><a href=" ', each_item[0], ' "> ', each_item[1], ' </a></th> '

static_html+='</tr></table>'

print static_html 
```

然后，IDE 向我发送错误 /usr/bin/python2.7

```
/home/tsuibin/code/aps/dxx/test_tmp.py
Traceback (most recent call last):
  File "/home/tsuibin/code/aps/dxx/test_tmp.py", line 39, in <module>
    printMainNavigation()
  File "/home/tsuibin/code/aps/dxx/test_tmp.py", line 20, in printMainNavigation
    static_html=  static_html + '<td><a href=" ', each_item[0], ' "> ', each_item[1], ' </a></th> '
TypeError: can only concatenate tuple (not "str") to tuple
Process finished with exit code 1 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:25:37.660

您将逗号放在字符串连接中：

```
static_html=  static_html + '<td><a href=" ', each_item[0], ' "> ', each_item[1], ' </a></th> ' 
```

因此 Python 将这些元素视为一个元组 ( `str0 + (str1, str2, str3)`)。改用`+`：

```
static_html=  static_html + '<td><a href=" ' + each_item[0] + ' "> ' + each_item[1] + ' </a></th> ' 
```

更好的是，使用字符串格式：

```
static_html += '<td><a href="{0[0]}"> {0[1]} </a></th> '.format(each_item) 
```

在 python 中连接一系列字符串时，实际上使用 a`list()`作为中介会更快。构建列表，然后用于`''.join()`获取输出：

```
static_html = ['<table id="main_nav" align="center"><tr>']
for each_item in items:
     static_html.append('<td><a href="{0[0]}"> {0[1]} </a></th> '.format(each_item))

static_html.append('</tr></table>')
static_html = ''.join(static_html) 
```

请注意，您根本不需要*测试*，`each_item in items`您已经从循环中的列表中获取了该项目。那只是额外的工作，没有任何作用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-01-04T07:27:30.277

其他人已经指出了您的错误消息的原因。我冒昧地重新编写了代码。我所做的主要事情是避免字符串连接——在 Python 中，字符串是不可变的，因此连接需要创建一个全新的字符串。避免这种情况的常用方法是将字符串的片段放入列表中，然后使用字符串的[join()](http://docs.python.org/2/library/stdtypes.html#str.join)方法将列表的所有元素连接在一起。

另一个主要变化是使用[string.format()](http://docs.python.org/2/library/stdtypes.html#str.format)方法来创建片段。

```
items = [
     ["/ank/homepage.py","Home"],
     ["/ank/package.py","Packages"],
     ["/status.py","Status"],
     ["/task.py","Task"],
     ["/report.py","Report"]
]

# Start a list of fragments with the start of the table.
html_fragments = [
    '<table id="main_nav" align="center"><tr>'
]

for item in items:
    # No need for the 'if item in items' here - we are iterating
    # over the list, so we know its in the list.
    #
    # Also, this ifinstance() test is only required if you cannot
    # guarantee the format of the input. I have changed it to allow
    # tuples as well as lists.
    if isinstance(item, (list, tuple)):
        # Use string formatting to create the row, and add it to
        # the list of fragments.
        html_fragments.append('<td><a href="{0:s}">{1:s}</a></td>'.format(*item))

# Finish the table.
html_fragments.append ('</tr></table>')

# Join the fragments to create the final string. Each fragment
# will be separated by a newline in this case. If you wanted it
# all on one line, change it to ''.join(html_fragments).
print '\n'.join(html_fragments) 
```

我得到的输出：

```
<table id="main_nav" align="center"><tr>
<td><a href="/ank/homepage.py">Home</a></td>
<td><a href="/ank/package.py">Packages</a></td>
<td><a href="/status.py">Status</a></td>
<td><a href="/task.py">Task</a></td>
<td><a href="/report.py">Report</a></td>
</tr></table> 
```

# blackberry - 如何在黑莓的底部制作画廊视图

> ID：14152879
> 
> 赞同：0
> 
> 时间：2013-01-04T07:21:30.023
> 
> 标签：blackberry, blackberry-simulator

[nexGTv – 用于触摸电话的移动电视](http://appworld.blackberry.com/webstore/content/screenshots/56307/?lang=en)应用程序有一个滚动水平字段管理器，我想在自己的应用程序中创建它。它在屏幕底部有水平的图像按钮。这些图像向右和向左滑动。初始焦点是水平中心图像，然后每个图像对下一个图像有 10 个像素的填充。我应该用什么来做这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:31:49.207

我能理解你的问题，但我不能给你相关的代码，但我可以告诉你这背后的逻辑。为此，您首先将图像设置在中心并将底部填充设置为 10 像素，然后填充图像左侧和右侧。您必须在绘画方法中执行此操作。如果您是黑莓开发人员，那么您可以理解并尝试去做。所有的工作都在paint方法中执行，通过使用循环你可以做到这一点。这项工作不能由 Picture-Scroll-Field 完成，因为您需要带有额外填充的中间图像。

# iphone - 将 UITableView 单元格与可达性联系起来

> ID：14152880
> 
> 赞同：2
> 
> 时间：2013-01-04T07:21:39.063
> 
> 标签：iphone, objective-c, ios, xcode

**问题**：我的`UITableView`. 每个单元格都有自己唯一的 IP 地址。初始化时，我的应用程序将检查（使用可达性）以查看每个单元的 ip 地址是否连接到互联网或 wifi。如果任何一个`cells`已连接，则单元格将被启用并且用户可以单击它。如果单元未连接，它将保持禁用状态。

*请注意，我有一个`devicelist.plist`存储所有设备列表的设备。因此，我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T05:32:30.803

你可以试试这个方法。

[首先通过这个](https://stackoverflow.com/questions/5195012/how-to-use-reachability-class-to-detect-valid-internet-connection)可达能力代码检查你的IP是否连接的可达能力。

你也可以把这个东西放在单独的线程中（[比如 UITableview 中的延迟加载](http://lazyloadinginuiscrollviewiniphone.blogspot.in/2011/12/lazy-loading-in-uitableview-in-iphone.html)）

**请注意：-**延迟加载只是例如通过您可以在单独的线程中检查到达能力。

现在将 IP 的状态存储在某个数组或字典中，然后重新加载 Tableview。

并在您的 CellForRowAtIndexpath 检查 IP 是否已连接，然后保持原样

```
userInteractionEnabled = YES; 
```

如果 IP 未连接，则

```
cell.userInteractionEnabled = NO;
cell.selectionStyle = UITableViewCellSelectionStyleNone; 
```

这是我的方法，希望对您有所帮助。

# nonlinear-optimization - 不等式和有界约束的优化

> ID：14152881
> 
> 赞同：1
> 
> 时间：2013-01-04T07:21:52.283
> 
> 标签：nonlinear-optimization, maximization

我想用不等式和有界约束进行优化：

最大化`f= SEA (a,b,c,d)`

有约束

```
Pmax (a,b,c,d)<=145
0 <= a <= 10
80 <= b <= 240
0.5<= c <= 1.5
0 <= d <=0.534 
```

根据文献，fmincon 是一个合适的选择。但是，在 Minitab 帮助中，示例在不等式和有界约束之间是分开的。我如何使用这两种类型的约束在 matlab 中编写这个问题？

# jquery - 页面完全加载后，Disappear Loading

> ID：14152890
> 
> 赞同：1
> 
> 时间：2013-01-04T07:22:50.760
> 
> 标签：jquery

我有很多页的图片和文字。我只想在通过 ajax 完全加载页面（即所有图片和文本）时隐藏/删除“加载页面”。

这是我的代码：

```
<html>
<head>

<script src="./ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
    $(document).ready(function() {
        $("#txt").ajaxSend(function() {
            $("#wait").css("display", "block");
        });
        $("#txt").ajaxComplete(function() {
            $("#wait").css("display", "none");
        });
        $("button").click(function() {
            $("#txt").load("randomPage.html", function() { //randomPage.html have pics and text
            });
        });
    });
</script>
</head>
<body>

<div id="txt"></div>
<img src="loader.gif" alt="" id="wait" style="display: none">
<button>click me!</button>
</body>
</html> 
```

感谢您的答复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:30:26.923

您可以尝试使用直接函数 $.ajax。

```
//Show the Loader
$.ajax({
  url:"<<your request url>>",
  success:function(data){
   //Removing the loader    
  }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:33:43.043

我认为文本会立即显示，对于图像，您可以计算页面中有多少图像，并在这些图像的加载事件中设置计数器，并在它们全部出现时隐藏加载器。

```
$("button").click(function() {
    $("#wait").css("display", "block");
    $.get('randomPage.html', function(page) {
       var m = page.match(/<img /g);
       if (m) {
         var counter = 0;
         $("#txt").html(page).find('img').load(function() {
             counter++;
             if (counter == m.length) {
                $("#wait").css("display", "none");
             }
       } else {
         $("#txt").html(page);
         $("#wait").css("display", "none");
       }
    });
}); 
```

# javascript - 如何使用 javascript 加密和解密 Uint8Array？

> ID：14152897
> 
> 赞同：2
> 
> 时间：2013-01-04T07:23:20.277
> 
> 标签：javascript, arraybuffer, cryptojs

[我想要一个 Uint8Array 的加密和解密，因为我已经从这个链接](http://code.google.com/p/crypto-js/)下载了 CryptoJS 库。

我已经在一个虚拟字符串上测试了 aes 密码算法，它工作正常。

现在我希望它在 Uint8Array 上实现它。这个数组保存了一个视频文件数据。

由于加密和解密适用于字符串，因此我必须将其转换为字符串，因为我已经引用了在 stackoverflow 上发布的这个问题，[请单击此处](https://stackoverflow.com/questions/6965107/converting-between-strings-and-arraybuffers)

加密代码是：

```
var encrypted = CryptoJS.AES.encrypt(String.fromCharCode.apply(null, uInt8Array), "test"); 
```

但是当我运行代码时，出现以下错误：

```
 Uncaught RangeError: Maximum call stack size exceeded 
```

我如何使它工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T08:04:45.040

该错误是由于`String.fromCharCode.apply(null, uInt8Array)`部分原因，从未调用过 CryptoJS。

请注意`fromCharCode`is的完整语法`String.fromCharCode(n1, n2, ..., nX)`，因此必须将给定缓冲区的所有元素移动到堆栈才能进入`apply`函数。

您必须使用一个非常大的缓冲区，即您所说的视频文件，所以这一定是您遇到 stackoverflow 错误的原因。

尝试改用“CryptoJS.lib.WordArray”，如下所述：

[http://groups.google.com/group/crypto-js/browse_thread/thread/4ce6fddad709954d?pli=1](http://groups.google.com/group/crypto-js/browse_thread/thread/4ce6fddad709954d?pli=1)

# django - github 自动更新评论是如何工作的？

> ID：14152899
> 
> 赞同：4
> 
> 时间：2013-01-04T07:23:22.790
> 
> 标签：django, html, github

正如这里提到的

[https://github.com/blog/1174-auto-updating-comments](https://github.com/blog/1174-auto-updating-comments)

这背后的技术是什么？如果我必须在 Django 支持的 Web 应用程序中添加此功能，我应该使用和学习什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T23:24:41.797

查看网络选项卡，看起来他们（至少使用 chrome）正在使用 HTML5 服务器发送事件。

所以实际上浏览器订阅了一个事件流，而网络服务器只是发回消息。

我不是专家，但我猜在服务器端，您需要能够保持打开连接，将事件流式传输到客户端。

我在这里找到了适用于 python 的 SSE 实现：[https](https://github.com/niwibe/sse) ://github.com/niwibe/sse和一个 django 实现：[https ://github.com/niwibe/django-sse](https://github.com/niwibe/django-sse)

我（还）没有在任何作品中使用它们，所以我建议它们仅作为学习/ poc 材料 :)

# rotation - 关闭 Glassfish 日志旋转

> ID：14152905
> 
> 赞同：1
> 
> 时间：2013-01-04T07:23:49.627
> 
> 标签：rotation, glassfish-3

我知道可以根据文件大小配置日志轮换选项。我在 Glassfish 3.1 中找不到完全关闭旋转规则的选项？

是否可以在 Glassfish 3.1 中禁用日志轮换？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-05T23:59:33.960

`File Rotation Limit`您可以通过在 glassfish 管理 gui 中将(server-config -> Logger Settings) 设置为**0 字节**或通过 asadmin 命令关闭日志轮换：

```
asadmin set-log-attributes --target server
com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes=0 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-22T10:35:02.940

当我尝试在管理 GUI (GF 4.1) 中设置 0 字节限制时，我收到此错误：

```
Invalid logging attribute name or value com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes=0. 
```

这似乎与[该](https://java.net/jira/browse/GLASSFISH-6668 "这个")线程一致，该线程也建议直接修改该值`logging.properties`。这样做对我有用并禁用了日志轮换。

# php - 发送此 iCal 邀请时如何调整时区信息？

> ID：14152911
> 
> 赞同：1
> 
> 时间：2013-01-04T07:24:55.630
> 
> 标签：php, icalendar

我正在尝试通过我的 php 代码发送日历请求邮件。我收到了邮件和日历。但是我的开始日期有问题。如何根据海湾标准时间配置开始日期。现在我根据格林威治标准时间得到，虽然我没有提到任何地方。简而言之，如果我将在上午 7 点发送请求，那么在开始日期它将显示上午 11 点。我的代码是这样的：

```
$dtstart = $start_date_conf;

$dtend=$end_date_conf;

$todaystamp = date("Ymd\THis\Z");

//Create unique identifier
$cal_uid = date('Ymd').'T'.date('His')."-".rand()."@fugenx.com";

//Create Mime Boundry
$mime_boundary = "----Bespot Meeting Booking----".md5(time());

//Create Email Headers
$headers = "From: ".$from_name." <".$from_address.">\n";
$headers .= "Reply-To: ".$from_name." <".$from_address.">\n";

$headers .= "MIME-Version: 1.0\n";
$headers .= "Content-Type: multipart/alternative; boundary=\"$mime_boundary\"\n";
$headers .= "Content-class: urn:content-classes:calendarmessage\n";

//Create Email Body (HTML)
$message .= "--$mime_boundary\n";
$message .= "Content-Type: text/html; charset=UTF-8\n";
$message .= "Content-Transfer-Encoding: 8bit\n\n";

$message .= "<html>\n";
$message .= "<body>\n";
$message .= '<p>'.$messagess.'</p>';
$message .= '<p></p><p></p>';
$message .= '<p><b>Thanks & Regards,:</b></p>';
$message .= '<p>'.$full_name.'</p>';
$message .= '<p>'.$full_address.'</p>';
$message .= '<p>'.$email_address.'</p>';
$message .= '<p>'.$mobile_number.'</p>';

$message .= "</body>\n";
$message .= "</html>\n";
$message .= "--$mime_boundary\n";

//Create ICAL Content (Google rfc 2445 for details and examples of usage) 
$ical =    "BEGIN:VCALENDAR
PRODID:-//Microsoft Corporation//Outlook 11.0 MIMEDIR//EN
VERSION:2.0
METHOD:REQUEST
BEGIN:VEVENT
ORGANIZER:MAILTO:".$from_address."
DTSTART:".$dtstart."
DTEND:".$dtend."
LOCATION:".$meeting_location."
TRANSP:OPAQUE
SEQUENCE:0
UID:".$cal_uid."
DTSTAMP:".$todaystamp."
DESCRIPTION:".$meeting_description."
SUMMARY:".$subject."
PRIORITY:5
CLASS:PUBLIC
END:VEVENT
END:VCALENDAR";   

$message .= "Content-Type: text/calendar;method=REQUEST;charset=utf-8\n";

//$message .= "Content-Type: text/calendar;name=\"meeting.ics\";method=REQUEST\n";
$message .= "Content-Transfer-Encoding: 8bit\n\n";
$message .= $ical;            

//SEND MAIL
$mail_sent = @mail( $email, $subject, $message, $headers ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T20:56:16.117

请参阅 RFC5545，您需要添加一个 vtimezone 组件以将 TZID 引用到它

> ## 参数名称： [TZID](https://www.rfc-editor.org/rfc/rfc5545#section-3.2.19)

> 当指定了 DATE-TIME 或 TIME 值类型并且值既不是 UTC 也不是“浮动”时间。***未能在 iCalendar 对象中包含和遵循 VTIMEZONE 定义可能会导致对任何给定位置的本地时间的理解不一致。***

```
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Microsoft Corporation//Outlook 11.0 MIMEDIR//EN
METHOD:REQUEST
CALSCALE:GREGORIAN
BEGIN:VTIMEZONE
TZID:Asia/Qatar
BEGIN:STANDARD
DTSTART:20081102T090000
TZOFFSETFROM:+0300
TZOFFSETTO:+0300
TZNAME:CST
END:STANDARD
END:VTIMEZONE
BEGIN:VEVENT
ORGANIZER:MAILTO:mailto@organiser.net
DTSTART;TZID=Asia/Qatar:20130104T090000
DTEND;TZID=Asia/Qatar:20130104T100000
LOCATION:meeting_location
TRANSP:OPAQUE
SEQUENCE:0
UID:cal_uid
DTSTAMP:20130104T224617Z
DESCRIPTION:meeting_description
SUMMARY:subject
PRIORITY:5
CLASS:PUBLIC
END:VEVENT
END:VCALENDAR 
```

# php - 如何通过PHP中的会话通过URL从一个页面获取价值到另一个页面

> ID：14152913
> 
> 赞同：-1
> 
> 时间：2013-01-04T07:25:01.170
> 
> 标签：php, session

我是 PHP 新手，我正在做一些工作我有两个页面 1) link.php 2) golink.php

链接.php

```
<ul>
<li><a href="golink.php">Home</a></li>
<li><a href="golink.php">About us</a></li>
<li><a href="golink.php">Highlights</a></li>
<li><a href="golink.php">Price</a></li>
<li><a href="golink.php">Location Map</a></li>
<li><a href="golink.php">Payment Plan</a></li>
</ul> 
```

当我单击任何链接时，我想在 golink.php 页面中获取该链接的名称。示例：- 如果我单击主页链接，我需要在 golink.php 页面中获取主页值。我不想在 href 链接中传递 id 值，就像`<a href="golink.php ? value= home">Home</a>`
我想要任何其他方法一样，例如 session。请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:37:41.453

使用 $_SERVER['HTTP_REFERER']。它将显示以前的网址。

```
<?php echo $_SERVER['HTTP_REFERER'] ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:43:31.393

不幸的是，HTTP_REFERER 值对他没有帮助......您可以通过使用隐藏表单来传递 POST 变量来搞砸，但这确实不值得（混乱，只是不应该这样做）。

我强烈建议使用简单优雅（明显）的解决方案，特别是因为您是 php 新手并且不想在早期形成太多坏习惯；）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:52:53.133

可以使用 Javascript。

[带有 Javascript 和 cookie 的示例](http://jsfiddle.net/DpXDM/)

```
$("a[href='golink.php']").on("click", function(event){
    document.cookie = "linkname="+ escape($(this).text());
}); 
```

这使用 jquery 并使其更易于阅读。仍然不是最好的解决方案。由于访问者需要启用 JS 和 Cookie。Skript 创建一个名为“linkname”的 cookie，您可以使用 $_COOKIE['linkname'] 读取 golink.php 中的值 最佳解决方案实际上是查询。

[_COOKIE 文档在 php.net](http://php.net/manual/en/reserved.variables.cookies.php)

# android - 来电接听者未取消敬酒

> ID：14152917
> 
> 赞同：0
> 
> 时间：2013-01-04T07:25:22.443
> 
> 标签：android, broadcastreceiver, toast

我有一个`IncomingCallReceiver`which extends `BroadcastReciever`。

在里面`onReceive`，我想使用 Toast 显示一些信息，直到用户接听或拒绝来电。

当电话响起时，我正在使用 Loops 展示 toast。

当用户接到电话或拒绝来电时，我正在取消 Toast。

但是 Toast 不会被取消。

```
 public class IncommingCallReceiver extends BroadcastReceiver
         {

            Context context;
        static Toast toast;

            @Override
        public void onReceive(Context mContext, Intent intent)
         {
        String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);

        TextView  tv=new TextView(mContext);
        tv.setBackgroundColor(color.background_light);
        Log.i("On Recieve"," ");
        //Toast toast=new Toast(mContext);
        if(state==null)
            return;
        if(state.equals(TelephonyManager.EXTRA_STATE_RINGING))
        {
            for(int i=0;i<7;i++)
            {
               toast=   Toast.makeText(mContext, "Ringing",Toast.LENGTH_LONG);
               toast.show();
            }

        }
         if(state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK))
         {
            // Toast.makeText(mContext, "Recieved", Toast.LENGTH_LONG).show();
             toast.cancel();

         }
        if (state.equals(TelephonyManager.EXTRA_STATE_IDLE))
        {
            //Toast.makeText(mContext, "IDLE", Toast.LENGTH_LONG).show();
             toast.cancel();
        }

    }
 } 
```

那么当用户接听或拒绝来电时如何取消toast呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:34:02.530

问题是您连续创建了几个 toast - 当一个 toast 完成时，其余的按顺序显示。您实际上是在创建 7 个不同的 Toast 对象，但只保留对最后一个对象的引用。

您需要做的是使用一个 Toast；而不是`Toast.LENGTH_LONG`，使用不同的值。那你应该可以打电话了`cancel()`。

# extjs4 - ext js4 到 sencha 触摸转换器

> ID：14152923
> 
> 赞同：3
> 
> 时间：2013-01-04T07:25:34.120
> 
> 标签：extjs4, sencha-touch, code-conversion

是否有任何代码转换器可用于将 extjs4 的代码转换为 sencha-touch？

我正在努力通过查看文档来努力。但我在很多方面都陷入了困境。如果有人有任何想法，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:34:04.797

目前，没有可用于此类代码迁移的此类工具。请参阅以下链接了解更多详情 -

[Sencha Touch 和 ExtJS](https://stackoverflow.com/questions/3358977/sencha-touch-and-extjs)

[http://www.sencha.com/forum/showthread.php?150710-Migrating-ExtJS-app-to-Sencha-touch-2.0](http://www.sencha.com/forum/showthread.php?150710-Migrating-ExtJS-app-to-Sencha-touch-2.0)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:34:38.860

没有代码转换器，因为不可能进行 1 对 1 转换。充其量你可以重用模型，存储一个可能的控制器（如果它们是与视图松耦合的）。观点总是不同的。

[http://www.sencha.com/forum/showthread.php?122534-ExtJS-4-Sencha-Touch](http://www.sencha.com/forum/showthread.php?122534-ExtJS-4-Sencha-Touch)

# jquery - Jquery - 如何推迟事件的默认行为？

> ID：14152924
> 
> 赞同：0
> 
> 时间：2013-01-04T07:25:33.713
> 
> 标签：jquery, forms, preventdefault

我有处理表单提交事件的功能。

我想要在处理程序中做的是推迟默认行为，直到 Ajax 函数完成运行。

示例代码

```
$("#some_form").on("submit", function(event){
    // Defer default event behavior

    // Do some ajax function with a callback function to run
    // after it is finished as an argument
    ajaxFunction(function(){
        // Do some stuff

        // Let the default event behavior that was deferred to be run
    });
}); 
```

有没有办法做到这一点？

编辑：

Ajax 代码只是一个示例。我可以这样做

```
$("#some_form").on("submit", function(event){
        // Defer default event behavior

        // Do some stuff

        // Let the default event behavior that was deferred to be run
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:35:37.553

您可以使用 取消表单提交`event.preventDefault()`。然后在ajax完成时提交表单，使用一个标志来知道ajax是否完成。

```
$("#some_form").on("submit", function(event){
    if (!$(this).data('ajax-complete')){
        event.preventDefault();
        // Defer default event behavior        
        // Do some ajax function with a callback function to run
        // after it is finished as an argument
        ajaxFunction(function(){
            // Do some stuff

            // submit the form in the ajax success function
            $("#some_form").data('ajax-complete', true).submit();
        });
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:30:00.153

对于特定调用，请使用 ajax 对象的成功属性。(http://api.jquery.com/jQuery.ajax/)

```
$.ajax({
  url: 'ajax/test.html',
  success: function(data) {
    $("#some_form").submit();
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T09:02:26.203

在默认行为被阻止（延迟）后，您可能需要使用[jQuery.ajax](http://api.jquery.com/jQuery.ajax/)提交表单，例如：

```
$("#some_form").on("submit", function(event) {
    event.preventDefault();
    // do something
    console.log("do something");
    $.ajax({
        type: "POST",
    //  url : "example.php",
    }).done(function() {
        console.log("success");
    }).fail(function() {
        console.log("error");
    });
}); 
```

检查**[演示](http://jsfiddle.net/SUSLc/)**

# java - 超出范围异常

> ID：14152925
> 
> 赞同：0
> 
> 时间：2013-01-04T07:25:35.923
> 
> 标签：java, classpath

我正在使用这个代码部分（在 StatsController 类中）：

```
String spl_name = lne.substring(0, idx_firstnumber);
SpecialList spl = new SpecialList(spl_name); 
```

声明（需要）：

```
String lne = "";
int idx_firstnumber = 0; 
```

变量“lne”有 127 个字符。如果我继续调试，只需一步，就是变量“spl_name”中的正确字符。在下一步中，我创建了一个特殊列表（具有特殊功能的普通列表）。

**编辑：变量“idx_firstnumber”是 31。**

构造函数的代码如下：

```
//Klasse
public class SpecialList {

    //Variablen
    private ArrayList<SpecialListItem> _list = new ArrayList<SpecialListItem>();
    private String _name = "";

    //Konstruktor
    SpecialList(String name){
        _name = name;
    }

.. non relevant code 
```

调试器中和调试时的值的图像：http: [//dancger.pf-control.de/images](http://dancger.pf-control.de/images)

因此，如果我继续按 F5，程序会崩溃并显示错误消息“找不到源”。现在在调试窗口中是：

```
owns: Object  ?id=2235?
ClassNotFoundException?Throwable?.<init>?String, Throwable? line: 286
ClassNotFoundException?Exception?.<init>?String, Throwable? line: not available
ClassNotFoundException?ReflectiveOperationException?.<init>?String, Throwable? line: not available
ClassNotFoundException.<init>?String? line: not available
URLClassLoader$1.run?? line: not available
URLClassLoader$1.run?? line: not available
AccessController.doPrivileged?PrivilegedExceptionAction<T>, AccessControlContext? line: not available [native method]
Launcher$ExtClassLoader?URLClassLoader?.findClass?String? line: not available
Launcher$ExtClassLoader?ClassLoader?.loadClass?String, boolean? line: not available
Launcher$AppClassLoader?ClassLoader?.loadClass?String, boolean? line: not available
Launcher$AppClassLoader.loadClass?String, boolean? line: not available
Launcher$AppClassLoader?ClassLoader?.loadClass?String? line: not available
StatsController.readdatafromfile?String? line: 108
Frm_Main.btn_show_clicked?? line: 209 
Frm_Main.access$1?Frm_Main? line: 186 
Frm_Main$3.actionPerformed?ActionEvent? line: 139
JButton?AbstractButton?.fireActionPerformed?ActionEvent? line: not available
AbstractButton$Handler.actionPerformed?ActionEvent? line: not available
DefaultButtonModel.fireActionPerformed?ActionEvent? line: not available
DefaultButtonModel.setPressed?boolean? line: not available
BasicButtonListener.mouseReleased?MouseEvent? line: not available
Some more.. 
```

如果我正常运行程序（无调试），则出现以下错误消息：

```
Exception in thread "AWT-EventQueue-0" java.lang.StringIndexOutOfBoundsException: String index out of range: 31
    at java.lang.String.substring(Unknown Source)
    at business.StatsController.readdatafromfile(StatsController.java:107)
    at gui.Frm_Main.btn_show_clicked(Frm_Main.java:209)
    at gui.Frm_Main.access$1(Frm_Main.java:186)
    at gui.Frm_Main$3.actionPerformed(Frm_Main.java:139)
    at javax.swing.AbstractButton.fireActionPerformed(Unknown Source)
    at javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)
    at javax.swing.DefaultButtonModel.setPressed(Unknown Source)
    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)
    at java.awt.Component.processMouseEvent(Unknown Source)
    at javax.swing.JComponent.processMouseEvent(Unknown Source)
    at java.awt.Component.processEvent(Unknown Source)
    at java.awt.Container.processEvent(Unknown Source)
    at java.awt.Component.dispatchEventImpl(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)
    at java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)
    at java.awt.Container.dispatchEventImpl(Unknown Source)
    at java.awt.Window.dispatchEventImpl(Unknown Source)
    at java.awt.Component.dispatchEvent(Unknown Source)
    at java.awt.EventQueue.dispatchEventImpl(Unknown Source)
    at java.awt.EventQueue.access$000(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.awt.EventQueue$3.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.awt.EventQueue$4.run(Unknown Source)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source)
    at java.awt.EventQueue.dispatchEvent(Unknown Source)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
    at java.awt.EventDispatchThread.run(Unknown Source) 
```

我的问题是：为什么程序崩溃或将崩溃？

这是一个普通的类，带有一个需要字符串的构造函数。字符串被填满了！

有人有想法吗？

**编辑 2：我已经重建了整个项目。新电脑，新日食，新课程。同样的问题。**

**编辑3：问题是变量`idx_firstnumber`。如果我取 31（的值`idx_firstnumber`），它会起作用。但是如果程序必须使用这些变量，它就会崩溃。**

由于编辑 3，此方法的完整代码。我认为问题出在：

```
public boolean readdatafromfile(String pth){

        //Textinhalt holen
        String[] input = fc.GetFileContentAsLines(pth);

        //Inhalt prüfen
        if (input.length == 0){
            return false;
        }

        //Aktuelle Daten löschen
        datalist.clear();

        //Aktuellen Pfad ändern
        currentpath = pth;

        //Variablen
        int idx_firstnumber = 0;
        int idx_lastnumber = 0;
        boolean bl_readpolicies = false;

        //Auslesen
        for (int idx = 0; idx < input.length;idx++){

            //Zeile bestimmen
            String lne = input[idx];

            //Index oder Daten lesen
            if (!bl_readpolicies){

                //Index LastNumber lesen
                if (lne.trim().contains("AVG")){
                    idx_lastnumber = lne.substring(0, lne.indexOf("AVG")).length();
                }

                //Index FirstNumber lesen
                if (lne.trim().startsWith("01")){ //contains
                    idx_firstnumber = lne.substring(0,lne.indexOf("01")).length();
                }

                //Anfangspunkt suchen
                if (lne.startsWith("----------")){
                    bl_readpolicies = true;
                }

            } else {

                //Abbrechen wenn keine Daten mehr kommen
                if (lne == ""){
                    break;
                }

                /*if (idx_firstnumber >= lne.length()) {
                    throw new IllegalStateException("Index " + idx_firstnumber + " out of range " + lne.length() + " [" + lne + "]");
                }*/

                //Neue SpezialListe erstellen
                String spl_name = lne.substring(0, 31);//idx_firstnumber);
                //String x = lne.
                SpecialList spl = new SpecialList(spl_name);

                //Alle Einträge auslesen
                for(int idx2 = idx_firstnumber; idx2 <= idx_lastnumber; idx+=3){

                    //Auslesen der ANzahl Stunden
                    String anzstd_string;
                    try {
                        anzstd_string = lne.substring(idx2, 2);
                    } catch (Exception e) {
                        break;
                    }

                    //Prüfen ob numerisch
                    try {

                        //Parsen
                        int anzstd = Integer.parseInt(anzstd_string);

                        //Überschritten / Standard
                        if (anzstd > 48){
                            spl.add(new SpecialListItem(anzstd,enm_valuetyp.limitexceeded));
                        } else {
                            spl.add(new SpecialListItem(anzstd,enm_valuetyp.standard));
                        }
                    } catch (Exception e) {
                        switch (anzstd_string){
                            case "-":
                                spl.add(new SpecialListItem(0,enm_valuetyp.error));
                                break;
                            case "":
                                spl.add(new SpecialListItem(0, enm_valuetyp.blank));
                                break;
                            case "*":
                                spl.add(new SpecialListItem(0,enm_valuetyp.unfinished));
                                break;
                            default:
                                System.out.println("Fail AnzStd: " + anzstd_string);
                                break;
                        }
                    }

                }

                //Daten einer Reihe hinzufügen
                datalist.add(spl);

            }

        }

        //Erfolgreiche Rückgabe
        return true;

} 
```

编辑4：嗯，我想我有问题。如果我使用 50 倍的字符“a”作为变量`lne`，它可以工作。但是不允许 char 怎么办？！？

这是字符串中的值（在开始和结束之间没有“：”）`lne`：

> 开始：_VXC_POLICY_ai_b0_cbw_vs_01 2 1 2 2 - - - - 1 1 1 1 1 1 1 1 ：结束

在此先感谢，greez 舞者 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:31:36.360

如果在`java.lang.StringIndexOutOfBoundsException`您发布的代码中被抛出，它会发生在这里：

```
String spl_name = lne.substring(0, idx_firstnumber); 
```

由于超出了`lne`指定的长度的字符串长度`idx_firstnumber`。

调试您的代码以自行查看它并找出`idx_firstnumber`明显错误值的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:57:06.623

问题解决了。我现在正在使用“for each”循环，而不再使用“for index”..

调试器中的值相同，但它有效..

格力兹舞者

# java - Netbeans Glassfish 不再启动

> ID：14152934
> 
> 赞同：1
> 
> 时间：2013-01-04T07:26:20.807
> 
> 标签：java, netbeans, glassfish

当我尝试启动 Glassfish 服务器时，会出现一个信息窗口，上面写着：“无法连接到 GlassFish Server 3.1.2 的管理员侦听器验证 Netbeans 可以与 localhost :4848 建立出站连接”。

如果我关闭该窗口，我可以看到打开了很多窗口：网络通信问题“无法与本地主机建立可靠连接（本地主机：4848）错误消息：权限被拒绝：连接”。

看这些图片：

[http://postimage.org/image/9po31npo7/](http://postimage.org/image/9po31npo7/)

[http://postimage.org/image/pdq5c32m3/](http://postimage.org/image/pdq5c32m3/)

**固定**：

问题是Java。不是 Netbeans 也不是 glassfish。需要重新安装 Java 引擎。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:36:37.937

转到服务选项卡并展开服务器并右键单击 glassfish 服务器并在选择 java 选项卡中选择属性并取消选择使用 IDE 代理设置，然后尝试。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-05T10:41:07.873

我从 build-impl.xml 收到指向此行的错误：

```
 <nbdeploy clientModuleUri="${client.module.uri}" clientUrlPart="${client.urlPart}" debugmode="false" forceRedeploy="${forceRedeploy}"/> 
```

任何的想法？

**固定**：

问题是Java。不是 Netbeans 也不是 glassfish。需要重新安装 Java 引擎。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-05T19:17:13.460

可能是该端口被另一个进程使用。我试图停止其他服务，如 SQL server ms SQL oracle，然后错误已解决，它工作正常。

# regex - 如何从单行字符串中的浮点数匹配中排除不必要的浮点数

> ID：14152935
> 
> 赞同：1
> 
> 时间：2013-01-04T07:26:28.507
> 
> 标签：regex, perl, string-matching

我是 Perl 的新手。我只想问如何使用正则表达式在搜索列表中排除不必要的浮点数。

我有脚本的这个示例部分：

```
#!/usr/bin/perl

use strict;
use warnings;

my $teststring = "delay PADI_DEL,del:0.352, 0.352, 0.376, 0.376 PIO PAD PADDI (PADDI:PADDI IOBUF:::IO_TYPE=SUBLVDS,BANK_VCCIO=2.5); pio_INR_drt";

$teststring =~ s/[^\d.\s]//g;
print "$teststring\n"; 
```

我期望这样的输出：

```
0.352 0.352 0.376 0.376 
```

提取是正确的，但是在我寻找的最后一个浮点数之后我得到了不必要的数字。使用我的代码的实际输出是这样的：

```
0.352 0.352 0.376 0.376      2.5 
```

我将如何修改我的正则表达式，使其不会检测到“2.5”不必要的浮点数。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T07:40:34.707

```
my @nums = $teststring =~ /[\d.]+/g;
pop @nums;
print "@nums\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:36:36.547

您可以先删除父母中的东西，（最后是前面的空白）：

```
$teststring =~ s/\([^)]*\)//;
$teststring =~ s/[^\d.\s]//g;
$teststring =~ s/^\s*//; 
```

使用数组存储数字的想法相同：

```
$teststring =~ s/\([^)]*\).*$//;
my @v = ($teststring =~ /\d+\.\d+/g);
print join (" ", @v), "\n"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:38:25.973

如果您的输入格式是刚性的，可以像[这样直接抓取浮点数](http://ideone.com/Hhon45)

```
#!/usr/bin/perl

use strict;
use warnings;

my $teststring = "delay PADI_DEL,del:0.352, 0.352, 0.376, 0.376 PIO PAD PADDI (PADDI:PADDI IOBUF:::IO_TYPE=SUBLVDS,BANK_VCCIO=3.3); pio_INR_drt";

$teststring =~ s/(0\.\d+).*(0\.\d+).*(0\.\d+).*(0\.\d+)//g;
print "$1 $2 $3 $4\n"; 
```

这将搜索 0.XXX 格式的 4 个浮点数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-04T07:39:07.660

如果您的浮点数始终为 5 个字符长（4 个数字和一个点），则此正则表达式可以解决问题：

```
s/[\d.]{5}//g; 
```

# c# - 如何显示隐藏在用户控件中的文本框？

> ID：14152938
> 
> 赞同：0
> 
> 时间：2013-01-04T07:26:52.180
> 
> 标签：c#, user-controls, textbox, show-hide

![多行文本的屏幕截图](../Images/91ffd5802f6ca474f8608c56fdfc9865.png)
我有一个 `usercontrol`包含面板，它包含两组，`Textboxes`一组用于名称，另一组用于评论，我动态创建文本框，然后隐藏`textbox`用于评论的文本框。

在这里我无法显示`on click`event ，我尝试使用一个名为 的函数`Textbox()`，但它只为第一行添加了评论框。

这是创建文本框的代码`usercontrol`

```
public void Textbox()
{
   TextBox[] tb1 = new TextBox[10];
   for (int i = 0; i < 7; i++)
   {
     tb1[i] = new TextBox();
     tb1[i].Multiline = true;
     tb1[i].Height = 10;
     tb1[i].Name = i.ToString();
     tb1[i].Location = new Point(250 + i * 90, 82);
     tb1[i].Size = new System.Drawing.Size(80, 40);
     rowpanel.Controls.Add(tb1[i]);
   }
} 
```

接下来，我这样做

```
private void comment_btn_Click(object sender, EventArgs e)
{
   add.Textbox();
} 
```

当我点击 `comment_btn`评论文本框被添加到第一行。 `add`是我的`usercontrol`

如图所示，当单击 Add 时，多行文本框仅添加到第一行，我希望将它添加到面板上显示的每一行，我只是不知道该怎么做，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T10:23:56.730

~~您提到它只为第一行生成一个文本框，表明您希望动态生成的评论文本框显示在多行上？~~

您在那里获得的代码将在多列的同一行中生成文本框。很可能您的所有 7 个文本框都正确生成，但您只能看到第一个，因为第二个开始超出了面板的范围。

将定位线更改为

```
tb1[i].Location = new Point(250, 82 + i * 50); 
```

~~将在多行而不是多列上生成文本框，并希望显示您所追求的内容。~~- 添加屏幕截图表明上述不是问题。

**编辑：**如果这些控件行中的每一行都是您的用户控件的一个实例，那么目前您只`Textbox()`在其中一个上调用该方法，这就是为什么只添加一行。您需要在方法中添加一个循环，该循环在您创建的每个控件上`comment_btn_Click`调用该方法。`Textbox()`

例如，假设您的用户控件集合位于名为 show_pnl 的面板上，并假设您的用户控件是 TimeRecordingControl 类型：

```
private void comment_btn_Click(object sender, EventArgs e)
{
    foreach(Control control in show_pnl.Controls)
    {
        TimeRecordingControl timeRecordingControl = control as TimeRecordingControl;

        if(timeRecordingControl != null)
        {
            timeRecordingControl.Textbox();
        }
    }
} 
```

此外，请考虑以指示它们的作用的方式命名您的方法，即，`CreateTextboxesForComments`而不仅仅是`Textbox`:)

# javascript - jquery blockUI 似乎对选择元素没有影响

> ID：14152941
> 
> 赞同：1
> 
> 时间：2013-01-04T07:27:05.010
> 
> 标签：javascript, jquery, html, jquery-ui, jquery-blockui

我想通过使用 jquery blockUI 来阻止特定的 div。似乎它会阻止 GUI，但不会影响 html 的选择元素。

```
$('#divContainer').block({
    css: {
        border: 'none',
        padding: '15px',
        backgroundColor: '#000',
        '-webkit-border-radius': '10px',
        '-moz-border-radius': '10px',
        opacity: .5,
         color: '#fff'
         },
    message: "Readonly state."
}); 
```

**更新：**我忘了提到我在三星银河选项卡上使用它

# android - 安卓平板电脑兼容性

> ID：14152945
> 
> 赞同：0
> 
> 时间：2013-01-04T07:27:18.490
> 
> 标签：android, resolution, tablet, dpi

我为 ldpi/mdpi/hdpi/xhdpi 提供了不同的维度值/图像，它们在手机上运行良好。但是，当低分辨率平板电脑运行我的应用程序时，它会转到 mdpi 值。这意味着一个大的平板电脑屏幕会获得较低的尺寸值（和图像），并且一切看起来都非常小。

我确信它可以务实地解决，但有没有办法使用 XML 来解决它？我真的很想避免实时解决这个问题，这似乎是一种矫枉过正且毫无意义的事情。

感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:31:06.753

查看 Android 文档中的[配置限定符](http://developer.android.com/guide/practices/screens_support.html#qualifiers)。

例如，您可以根据需要将`drawable-large`和与 一起使用。`drawable-xlarge``drawable-large-mdpi`

# iphone - iPhone - 缩放视图

> ID：14152948
> 
> 赞同：0
> 
> 时间：2013-01-04T07:27:43.960
> 
> 标签：iphone, ios, zooming

我有一个 UIView。在那个我添加一个 UIImageView 作为子视图。我想在触摸 UIImageview 时放大主视图。当触摸不存在时，它应该缩小。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T07:29:43.803

以下 viewcontroller.h 文件的代码

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController{
    UIImage *image;
    UIImageView *img;
    UIPinchGestureRecognizer *twoFingerPinch;
}

@end 
```

以下 viewcontroller.m 文件的代码

在 viewDidLoad 方法中用于初始化图像视图和 UIPinchGestureRecognizer。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    zoomInButton=[[UIButton alloc]init];
    zoomOutButton=[[UIButton alloc]init];
    // Do any additional setup after loading the view, typically from a nib.
    image = [UIImage imageNamed:@"demo.png"];
    img = [[UIImageView alloc] initWithImage:image];
    img.userInteractionEnabled = YES;
    img.backgroundColor = [UIColor clearColor];

    img.contentMode =  UIViewContentModeCenter;
    img.frame = CGRectMake(0, 50, self.view.frame.size.width, self.view.frame.size.height);
    [self.view addSubview:img];

    twoFingerPinch = [[UIPinchGestureRecognizer alloc]
                      initWithTarget:self
                      action:@selector(twoFingerPinch:)];
    [img addGestureRecognizer:twoFingerPinch];
} 
```

并访问缩放图像视图的放大/缩小方法，这也用于 UIViewController 。

```
- (void)twoFingerPinch:(UIPinchGestureRecognizer *)recognizer
{
    //    NSLog(@"Pinch scale: %f", recognizer.scale);
    if (recognizer.scale >1.0f && recognizer.scale < 2.5f) {
        CGAffineTransform transform = CGAffineTransformMakeScale(recognizer.scale, recognizer.scale);
        img.transform = transform;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:51:44.893

你所做的是给 mainView 的标签 100，然后写下面的代码

```
 - (void)viewDidLoad
  {
        UIPinchGestureRecognizer *pinchRecognizer = [[UIPinchGestureRecognizer alloc] init];
         [pinchRecognizer setDelegate:self];
        [self.view addGestureRecognizer:pinchRecognizer];
  }

  -(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{
     UITouch    *touch = [touches anyObject];
      if (!([touch view].tag == 100)) {

if([(UIPinchGestureRecognizer*)sender state] == UIGestureRecognizerStateBegan) {
    lastScale = 1.0;//lastscale is CGFLoat defiend in .h file
}

CGFloat scale = 1.0 - (lastScale - [(UIPinchGestureRecognizer*)sender scale]);

CGAffineTransform currentTransform = babyImage.transform;
CGAffineTransform newTransform = CGAffineTransformScale(currentTransform, scale, scale);

[babyImage setTransform:newTransform];
lastScale = [(UIPinchGestureRecognizer*)sender scale];

     }
 } 
```

让我知道它是否有效！！！！

快乐编码！！！！！！！！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:55:19.287

要放大图像，您可以使用 UIScrollView 作为 UIImageView 的父视图。

*   根据您的要求设置滚动视图的最小和最大缩放属性。我根据最大图像尺寸将最小比例设置为 1，将最大比例设置为 2/3。
*   您还需要实现 UIScrollViewDelegate 以及何时实现

    ```
    - (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView 
    ```

    返回您的 UIImageView 插座对象。

*   另外，您可以在滚动视图上实现点击手势识别器，以便在双击时放大原始大小。

这将负责您的缩放。享受。

# python - 在 mac 上安装 PyQt4 错误

> ID：14152949
> 
> 赞同：0
> 
> 时间：2013-01-04T07:27:43.880
> 
> 标签：python, macos, pyqt, pyqt4

我在`make install`安装过程中收到此错误。

```
ld: library not found for -lqpycore 
```

不知道这意味着什么。有任何想法吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-06-02T02:13:44.420

尝试在 Mac OS 10.8 上安装 pyqt5 时遇到同样的错误。我的解决方案是 cd 进入 qpy 目录（在 PyQt-gpl 安装目录下）并制作。一旦完成 cd ..，然后再次 sudo make install。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:51:59.710

意思是库`qpycore`没有安装，可能你漏掉了一些依赖？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-05T15:40:54.300

对我来说，首先也是如此`make`。`make install`

# list - AutoCompleteExtender 列表宽度不起作用

> ID：14152953
> 
> 赞同：1
> 
> 时间：2013-01-04T07:27:50.840
> 
> 标签：list, width, autocompleteextender

我有一个带有 AutoCompleteExtender 的自定义控件，我使用“onListPopulated”来设置列表宽度。我在我的页面中为这个自定义控件使用了多个引用。我的问题是：没有为所有参考设置宽度。它只为最后一个参考设置。我该如何解决。

预先感谢。

# android - 从android中的Web服务数据填充微调器

> ID：14152967
> 
> 赞同：0
> 
> 时间：2013-01-04T07:29:27.680
> 
> 标签：android, web-services, spinner

我必须使用 Web 服务数据（XML 解析）填充微调器。它包含两个属性，例如“ID”和“Name”。代码如下：

```
 try {

            ArrayList<String> listdata = new ArrayList<String>();

            URL url = new URL(
                    "http://10.0.2.2/WebService/Service.asmx/GetService");

                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
                DocumentBuilder db = dbf.newDocumentBuilder();
                Document doc = db.parse(new InputSource(url.openStream()));
                doc.getDocumentElement().normalize();

                NodeList nodeList = doc.getElementsByTagName("Table");

                    for (int i = 0; i < nodeList.getLength(); i++) {

                        Node node = nodeList.item(i);

                        Element providerID = (Element) node;
                        NodeList providerIDlist = providerID.getElementsByTagName("id");
                        Element providerIDelement = (Element) providerIDlist.item(0);
                        providerIDlist = providerIDelement.getChildNodes();

                         MProviderIDL = providerIDlist.item(0).getNodeValue();
                         //mprovider.put("MproviderID", MProviderIDL.toString());
                        listdata.add(MProviderIDL);

Element providerName = (Element) node;
                        NodeList providerNamelist = providerName.getElementsByTagName("value");
                        Element prividerNameElement = (Element) providerNamelist.item(0);
                        providerNamelist = prividerNameElement.getChildNodes();
                        //AddImg[i].setTag(((Node) AdvImglist.item(0)).getNodeValue());
                        MProviderNameL = providerNamelist.item(0).getNodeValue();
                        //mprovider.put("MproviderName", MProviderNameL.toString());
                        listdata.add(MProviderNameL);

                        }

                    Spinner spinMProvider=(Spinner)findViewById(R.id.spinMProvider);

                    ArrayAdapter < String > adapter = new ArrayAdapter < String > (this,
                            android.R.layout.simple_list_item_1,listdata);
                    adapter.setDropDownViewResource( android.R.layout.simple_spinner_dropdown_item );
                    spinMobileProvider.setAdapter(adapter);

        }

        catch (MalformedURLException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (ParserConfigurationException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (SAXException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

将值发送到数据库..

```
private void Send(View v,String Url) {

        HttpPost postMethod=new HttpPost(Url); 
        List<NameValuePair> regParams=new ArrayList<NameValuePair>();
         DefaultHttpClient hc=new DefaultHttpClient();  

        regParams.add(new BasicNameValuePair("_fname",edtFname.getText().toString()));

        regParams.add(new BasicNameValuePair("_lname",edtLname.getText().toString()));

        regParams.add(new BasicNameValuePair("_email",edtEmail.getText().toString()));

        regParams.add(new BasicNameValuePair("_password",edtPassword.getText().toString()));

        regParams.add(new BasicNameValuePair("_address",edtAddress.getText().toString()));

        regParams.add(new BasicNameValuePair("Provider", Integer.toString(spinMProvider.getSelectedItemPosition()))); 
```

我的 XML 数据...

```
<Table diffgr:id="Table4" msdata:rowOrder="3">
<id>11</id>
<value>Cellular South</value>
</Table>
<Table diffgr:id="Table5" msdata:rowOrder="4">
<id>10</id>
<value>Cricket</value>
</Table>
<Table diffgr:id="Table6" msdata:rowOrder="5">
<id>4</id>
<value>Sprint NexTel</value>
</Table> 
```

[和这样](http://i.stack.imgur.com/8bQtI.png)的输出......

我必须在微调器列表中显示名称并将特定的 id 传递给数据库。如何获取 ID 到文本的后端？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T11:06:23.140

将 id 和 spinner 值作为一组对象放在数组列表中

```
Class spinnerObj {

String id;
String spinnervalue;
}

Arraylist<spinnerObj> sp = new Arraylist<spinnerObj>(): 
```

现在用这个 arraylist sppinnervalue 中的值填充你的微调器；

在微调器的 onValueChange 方法中，您将获得与您添加的顺序相同的位置，然后您可以调用 sp.get(position).getID() 您将获得与之关联的 id微调器值。

# r - 检查重复项，对它们求和并在求和后删除一行

> ID：14152971
> 
> 赞同：5
> 
> 时间：2013-01-04T07:29:55.927
> 
> 标签：r, duplicates, rows

我有一个包含一些重复项的数据框。我想对有重复的两列的行求和，然后删除不需要的行。

这是数据的示例，

```
Year    ID  Lats     Longs      N   n   c_id
2015    200 30.5417 -20.5254    150 30  4142
2015    200 30.5417 -20.5254    90  50  4142 
```

我想将列 N 和 n 加到一行中。其余信息，即 Lats 、 Longs 、 ID 和 Year 保持不变，例如，

```
Year    ID  Lats    Long        N   n   c_id
2015    200 30.5417 -20.5254    240 80  4142 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-04T07:35:21.157

解决方案使用`data.table`：

```
require(data.table)
df <- structure(list(year = c(2015, 2015), ID = c(200, 200), Lats = c(30.5417, 
            30.5417), Longs = c(-20.5254, -20.5254), N = c(150, 90), n = c(30, 
            50), c_id = c(4142, 4142)), .Names = c("year", "ID", "Lats", 
            "Longs", "N", "n", "c_id"), row.names = c(NA, -2L), 
            class = "data.frame")
dt <- data.table(df)
dt[, lapply(.SD, sum), by="c_id,year,ID,Lats,Longs"]

   c_id year  ID    Lats    Longs   N  n
1: 4142 2015 200 30.5417 -20.5254  240 80 
```

解决方案使用`plyr`：

```
require(plyr)
ddply(df, .(c_id, year, ID, Lats, Longs), function(x) c(N=sum(x$N), n=sum(x$n)))

  c_id year  ID    Lats    Longs   N  n
1 4142 2015 200 30.5417 -20.5254 240 80 
```

# android - 为什么视图层次结构会影响 GestureDetector 的行为？

> ID：14152972
> 
> 赞同：2
> 
> 时间：2013-01-04T07:29:57.993
> 
> 标签：android

**注意：**我已更改此问题的原始标题。最初的标题是“如何一次使用多个 GestureDetector 实例？”，但我发现问题与多个检测器无关，而是与视图的层次结构有关。剩下的问题保持原样，我决定不删除任何内容，只需通读即可。请建议我是否应该扔掉过时的零件，我已经准备好这样做，但不确定是否应该这样做。

我在另一个（容器）中有一个视图（按钮），我希望他们做两件事：1）如果用户滚动任何视图（点击并移动），整个容器都会滚动。2) 如果用户单击了按钮，则为该按钮调用单击处理程序。

我的容器不是一个简单的视图，它允许双向滚动（[这里是细节](https://stackoverflow.com/questions/12130999/how-to-make-a-dynamic-layout-that-is-larger-than-screen)），所以我设置了一个检测滚动事件并滚动容器的 GestureDetector，感谢[323go](https://stackoverflow.com/users/1666116/323go)的建议。此检测器从附加到主容器视图的 OnTouchListener 的 onTouch 方法中调用。

我的问题是按钮。

如果我设置 onClick 处理程序，它似乎会完全接收所有运动事件，所以如果我开始滚动按钮，我将无法滚动视图。

好的，也许我可以在按钮上设置另一个 GestureDetector 以便它处理点击和滚动？

不幸的是，这不起作用。按钮的 onScroll 处理程序在 distanceX 和 distanceY 参数中接收疯狂的值。看起来容器视图和按钮都有自己的滚动计数器，所以当我滚动视图时，会为按钮累积一些偏移量。

所以我的问题是：使用 GestureDetector 类的预期方式是什么？我可以在视图层次结构中使用多个检测器，是否可以将一个检测器的处理委托给另一个检测器？即，如果子检测器返回 false，则父检测器可以处理该事件。

**补充：**事实上，我很喜欢这样简单的“父子”解决方案：只有一个 GestureDetector 附加到层次结构中的最顶层视图，它接收所有事件并决定如何处理它们，所以如果它检测到滚动——它只是滚动整个视图并且不通知任何人，但如果它检测到点击——它会在点击位置下方找到子视图并将点击转发给它。但这是*真正的 Android*方式吗？这甚至可能吗？

**进一步调查：**我尝试遵循[下面评论中给出的建议，](https://stackoverflow.com/questions/14152972/how-to-use-several-gesturedetector-instances-at-once#comment19627340_14153473)并让我的子手势检测器从其 onScroll 方法返回 false。这没有帮助：如果子处理程序返回 false，则根本不会调用父处理程序。

但我注意到，如果子处理程序不尝试滚动父视图，它将收到正确的值。

这是我的处理程序的代码：

```
private class ParentHandler extends GestureDetector.SimpleOnGestureListener {
    @Override
    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
        Log.d("UI", "Parent Scroll X: " + String.valueOf(distanceX) + " Y: " + String.valueOf(distanceY));
        scrollBy((int)distanceX, (int)distanceY);
        return true;
    }

    @Override
    public boolean onSingleTapUp(MotionEvent e) {return true;}

    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {return true;}

    @Override
    public boolean onDown(MotionEvent e) {return true;}
};

private class ChildHandler extends GestureDetector.SimpleOnGestureListener {
    @Override
    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
        Log.d("UI", "Child Scroll X: " + String.valueOf(distanceX) + " Y: " + String.valueOf(distanceY));
        // The line below drives the handler crazy!
        // But if I remove it, the view will not be scrolled at all
        // because the parent handler is not called
        // even if this handler returned false.
        scrollBy((int)distanceX, (int)distanceY);
        return false;
    }

    @Override
    public boolean onSingleTapUp(MotionEvent e) {return true;}

    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {return true;}

    @Override
    public boolean onDown(MotionEvent e) {return true;}
}; 
```

请注意第二个处理程序中的注释。

如果删除了疯狂的呼叫，这是我在日志中得到的内容：

```
Parent Scroll X: -1.0 Y: 2.0
Parent Scroll X: 0.0 Y: 2.0
Parent Scroll X: -1.0 Y: 1.0
Parent Scroll X: -1.0 Y: 2.0
Parent Scroll X: 0.0 Y: 2.0
...
Child Scroll X: -1.0 Y: 2.0
Child Scroll X: 0.0 Y: 2.0
Child Scroll X: -1.0 Y: 1.0
Child Scroll X: -1.0 Y: 2.0
Child Scroll X: 0.0 Y: 2.0 
```

但是，一旦我尝试在子处理程序中移动视图，值就会变成这样：

```
Child Scroll X: 13.0 Y: 22.0
Child Scroll X: -11.0 Y: -15.9999695
Child Scroll X: 11.0 Y: 17.00003
Child Scroll X: -10.0 Y: -16.00003
Child Scroll X: 11.0 Y: 19.99997 
```

请注意，值是交替的：13 之后是 -11，然后是 11，然后是 -10，依此类推。所以平均漂移似乎没问题，但是如果我只是将这些值传递给 scrollBy 调用，则视图会在我滚动它的时候一直抖动和跳来跳去。

显然，在为子视图触发的 onScroll 中调用 scrollBy 存在一些问题。如果从父处理程序执行相同的调用，则没有问题。

那里可能有什么问题？

**补充：**我已经删除了附加到父级的 GestureDetector，但行为是相同的。

所以问题其实如下。当 GestureDetector 检测到滚动时，我需要滚动整个视图。要滚动视图，我调用scrollBy。如果为父视图触发原始 onTouch 事件，这确实有效，但如果为子视图触发 onTouch 则不会：在后一种情况下，尝试滚动父视图会影响 GestureHandler 接收的值。

所以这有效：

parent.onTouch -> detection.onTouchEvent -> parent.scrollBy

这不会：

child.onTouch -> detection.onTouchEvent -> parent.scrollBy

其中检测器是相同的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-04T08:14:51.820

您可以使用复合设计模式创建一个将事件转发给其他侦听器的侦听器。

看看这些帖子：

[将多个侦听器附加到android中的视图？](https://stackoverflow.com/questions/4542627/attaching-multiple-listeners-to-views-in-android)

[如何为一个事件设置多个侦听器？](https://stackoverflow.com/questions/5465204/how-can-i-set-up-multiple-listeners-for-one-event)

# extjs - 在 extjs 中如何获取单选按钮的值？

> ID：14152976
> 
> 赞同：1
> 
> 时间：2013-01-04T07:30:08.853
> 
> 标签：extjs, radio-button

我正在 extjs 和 yii 框架中创建多项选择题项目。我的服务器端设计在 yii 框架中，而客户端在 extjs 中。在 extjs 中，我认为 -

```
Question.js=
            Ext.define('Balaee.view.question.Question', 
             {
        extend:'Ext.form.Panel',
        requires:[
                  'Balaee.view.question.QuestionView'
                  ],
        id:'QuestionId',
        alias:'widget.question',
        title:'Question',
        height:180,
        items:[
            {
                xtype:'questionView',
            },

        ],//end of items square
        buttons:[
              {
                  xtype:'button',
                  fieldLabel:'Submit',
                  name:'answer',
                  formBind:true,
                  text:'submit',
                  action:'submitAction',
              }
        ]
                 });

QuestionView.js=
            Ext.define('Balaee.view.question.QuestionView',
            {
        extend:'Ext.view.View',
        id:'QuestionViewId',
        alias:'widget.questionView',
        store:'Question',
        config:
        {
            tpl:'<tpl for=".">'+
                '<div id="main">'+
                '</br>'+
                '<b>Question :-</b> {question}</br>'+
                '<p>-------------------------------------------</p>'+

                '<tpl for="options">'+     // interrogate the kids property  within the data
                    //'<p>&nbsp&nbsp<input type="radio" name="opt"    >&nbsp{option}</p>'+
                 '<p>&nbsp&nbsp<input type="radio"    name="opt{questionNumber}" >&nbsp{option} </p>'+
                '</tpl></p>'+

                '</div>'+
                '</tpl>',
            itemSelector:'div.main',    
        }
              }); 
```

所以我在 extjs 中将 30 个问题及其 optopns 显示为单选按钮。这些问题是从客户端检索的。单击提交按钮时，我想获取所有用户选择的单选按钮的值。那么如何获取选定的单选按钮值呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-08T21:50:01.920

为什么要做这么复杂的事情？请查看表单和表单域。

# antlr - 如何使用 ANTLR 制作允许多行的解释器？

> ID：14152978
> 
> 赞同：1
> 
> 时间：2013-01-04T07:30:13.487
> 
> 标签：antlr

我可能只是以错误的方式思考这个问题，但是以 ruby​​ 为例，以下工作

```
ree-1.8.7-2011.03 :004 > a =
ree-1.8.7-2011.03 :005 >   1
 => 1 
```

但是，以下会引发错误

```
ree-1.8.7-2011.03 :006 > a sdlkfj
NameError: undefined local variable or method `sdlkfj' for #<Object:0x101986e88> 
```

这当然看起来很明显，但这意味着 ruby​​ 中有一个逻辑在说“这行是一个完整、正确的表达式，一个不完整的（但可能是正确的！）表达式，或者只是一个永远不可能完整的表达式。

一次使用 ANTLR 解析脚本很容易，但我想知道如何最好地支持这样的增量脚本。我想一种方法是制作一种语法，其唯一目的是验证“不完整但可能正确的表达式”，但这似乎会导致一些严重的代码重复……在 ANTLR 中是否有更优雅的方式来支持这一点？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T19:47:28.203

这只是一组指导方针，但应该提供一个总体思路。

您需要确保用于解析语句的解析器规则以明确的`EOF`.

```
start : stmt EOF; // good

start : stmt;     // bad! might not parse the whole buffer! 
```

1.  在任何一行输入产生一个完整的执行语句后，清除多行输入“缓冲区”。
2.  在用户输入一行数据后，将数据添加到缓冲区，然后尝试解析整个缓冲区。
    *   如果输入缓冲区被成功解析，则执行输入（即转到上面的项目#1）。
    *   如果语法错误发生但仅在解析器`EOF`从令牌流中消耗了符号（在预测或匹配期间）之后，则当前输入不完整。不要执行任何操作并等待用户输入更多文本。
    *   如果在解析器使用符号之前发生语法错误`EOF`，则输入包含语法错误。报告和/或处理您认为合适的错误（包括可能在不执行任何操作的情况下清除输入缓冲区）。

# java - 关于 Map 的值在内部是 Map 类型

> ID：14152979
> 
> 赞同：0
> 
> 时间：2013-01-04T07:30:24.400
> 
> 标签：java, hashmap

我有一堂课

```
private String patientId;
private String scriptinfo;
private Phone No.;

Now I have the hashMap..
HashMap hm = new HashMap(); 
```

现在我希望hashmap应该有一个键，比如说'A'是我将传递的键，但值又是Map类型，像这样的东西..

```
hm.put ("A", <<value should be of Map type>>) 
```

再次在该地图类型值中保留所有信息，例如患者 ID、脚本信息、电话号码，并且我希望患者 ID 是该地图的关键，请告知如何实现这一点

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T07:37:43.133

像下面这样设计你的课程。

```
class MyClass{

private String patientId;
private String scriptinfo;
private String phoneNumber;
} 
```

然后在地图中使用它。

```
Map<String, Map<String, MyClass>> hm = new HashMap<String,Map<String,MyClass>>();

    Map<String, MyClass> data = new HashMap<String, MyClass>();
    data.put(patientId, new MyClass(patientId,scriptinfo,phoneNumber));
    ...
    hm.put("A", data); 
```

在获取 MyClass 信息时，您可以使用类似的东西。

```
MyClass mc=hm.get("A").get("patientId"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:33:52.457

```
Map<String, Map<String, String>> hm = new HashMap<>();

Map<String, String> data = new HashMap<>();
data.put("patientId", patientId);
...
hm.put("A", data); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:34:24.203

像这样的东西：

```
HashMap<String, HashMap<Type1, Type2> hm = new HashMap<>(); 
HashMap<Type1, Type2> hm2 = new HashMap<>();
hm2.put(val1, val2);
hm.put ("A", hm2); 
```

# android - 出现在 android 中的动画

> ID：14152984
> 
> 赞同：0
> 
> 时间：2013-01-04T07:30:31.810
> 
> 标签：android

我正在尝试在 4 个 png 图像上执行动画。我在`drawable`文件夹中有文件`res`夹，其中包含要制作动画的图像和一个`animation.xml`

现在我的问题是：当我说`animation.start` 我在模拟器上看不到任何东西时

**我的代码：**

```
package com.androcles.TreeActivity;

 import android.app.Activity;
 import android.graphics.drawable.AnimationDrawable;
 import android.os.Bundle;
 import android.widget.ImageView;

public class TreeActivity extends Activity {

 private ImageView image1;
@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_tree);
   image1 = (ImageView)findViewById(R.id.imageView1);
   image1.setImageBitmap(null);
   image1.setBackgroundResource(R.drawable.animation);

final AnimationDrawable mailAnimation = (AnimationDrawable) image1.getBackground();
image1.post(new Runnable() {
    public void run()
    {
        if ( mailAnimation != null )
        {   
            System.out.println("Before Animation Starts...!!!!!");
            mailAnimation.start();
            System.out.println("After Animation Starts...!!!!!");
        }
    }
});
}
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T09:47:22.447

试试这些代码。

```
View view;
 view=(Button)findViewById(R.id.continue_but);    // may be image or some thing 

   Animation hyperspaceJump = AnimationUtils.loadAnimation(AppActivity.this, R.anim.slide_left); 
         view.startAnimation(hyperspaceJump); 
         view.setVisibility(View.VISIBLE); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:53:36.717

试试这个方法：

> ```
>  m_animation = AnimationUtils.loadAnimation(
>                     getApplicationContext(), R.anim.alpha_animation);
>             m_ivImage.startAnimation(m_animation); 
> ```

# java - 在java中获取IFS As400文件夹中存在的RTF文档中的总页数

> ID：14152985
> 
> 赞同：0
> 
> 时间：2013-01-04T07:30:33.117
> 
> 标签：java, rtf, jt400

我需要获取 RTF 文档中的总页数，该文档位于 AS400 系统的 IFS 文件夹中。我可以使用 iTextPDF PDFReader 获取 PDF 文档的页面详细信息，但我遇到了 RTF 文档的障碍。或者有没有办法读取这个 RTF 文档的页脚，因为我有页脚中定义的总页数。我能够逐行读取文档，但不能读取页脚内容。

请为此提供一些帮助。我被困在这几天..

我使用下面的代码来获取 PDF 的详细信息。

```
AS400 as400 = new AS400("xxx.com","abc","xxxx");
 String filePath = "/QDLS/FOLDERLIST/FOLDER1/FOLDER2/";

IFSFile qdlsDirectory = new IFSFile(as400,filePath);

IFSFile[] files = qdlsDirectory.listFiles();

for(int i=0;i<files.length;i++){
    fileName = files[i].getName();
                                    if(fileName.toLowerCase().indexOf(".pdf") != -1 && fileName.toLowerCase().indexOf(mixCodes.toLowerCase())!=-1) {  
PdfReader document = new PdfReader(new IFSFileInputStream(files[i])); 
pageCount = document.getNumberOfPages();  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T08:05:43.347

[您可以通过对RTF Line count in Java](https://stackoverflow.com/questions/9138318/rtf-line-count-in-java)中的代码稍作修改来计算显式分页符（它提供了读取 RTF 文档和计算行数的示例）。您可以使用类似的代码来计算显式分页符，只需将最后一行修改为：

```
System.out.println(plainText.split("\\page").length); 
```

# c# - 用c#绘制形状

> ID：14152990
> 
> 赞同：2
> 
> 时间：2013-01-04T07:31:08.750
> 
> 标签：c#, winforms, drawing, shapes, kruskals-algorithm

我将实现 Kruskal 的算法，我想知道有没有办法用权重绘制形状？我希望用户以某种方式用数字绘制下面的形状，这样我就可以完成其余的工作。

那可能吗？如果是怎么办？我需要一些想法。

![在此处输入图像描述](../Images/369ce9742b7a7717565f728068f7c755.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T10:19:50.710

也许您可以发布您期望的结果的图像？

到目前为止，我认为您需要了解两个不同的主题。首先是如何绘制/渲染自己的图形对象，其次是用户如何交互和绘制。参考[画布实现](http://www.codeproject.com/Articles/6238/Canvas-implementation-for-C)

# html - 定位元素：在另一个 div 之上的 div

> ID：14152993
> 
> 赞同：0
> 
> 时间：2013-01-04T07:31:39.043
> 
> 标签：html, css, position

直播页面：[链接](http://sharehomme.com/ko/posts/index_masonry)

我有一个顶部导航栏，它有一个`fixed`位置和`oblique`颜色。当您向下滚动时，此导航栏应放置在所有帖子的顶部。但是，当您在上面的链接中查看实时页面时，图片被放置在顶部导航栏的顶部，而不是相反。

另一方面，这种[观点](http://sharehomme.com/)正在按照我的意愿运作。

有人可以告诉我如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T07:32:57.157

添加`z-index:1`到`.nav`

```
.nav {
background-color: black;
padding-bottom: 2px;
z-index: 1;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T07:39:10.197

像这样改变你的css类

```
.fixed_pos {
left: 0;
position: fixed;
right: 0;
z-index: 1000;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T07:40:11.187

作为一般规则，如果您有以下 html.

```
<tag1>
</tag1>
<tag2>
</tag2> 
```

如果它们被定位，tag2 将始终位于 tag1 之上。这就是你的情况。所以我建议就像上面的@Sowmya 一样使用 z-index 但在不同的标签上。

```
.fixed_pos{
z-index: 1; /*any z-index would do here*/
} 
```

# iphone - 如何检查 iPhone 中的设备时钟时间已更改

> ID：14152994
> 
> 赞同：0
> 
> 时间：2013-01-04T07:31:40.947
> 
> 标签：iphone, objective-c, ios, datetime

> **可能重复：**
> [如何在应用程序运行之间本地检测用户的 iPhone 时钟提前？](https://stackoverflow.com/questions/7122216/how-can-i-locally-detect-iphone-clock-advancement-by-a-user-between-app-runs)

有什么方法可以检查设备时钟时间是否已手动修改。喜欢`NSSystemClockDidChangeNotification`但是这项工作仅在我的应用程序正常工作时才起作用。我们可以在应用程序不工作时检测到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T08:11:38.680

您可以在终止应用程序并检查启动之前节省时间。如果有人试图欺骗您的应用程序，他可能只会将他的时钟设置为有限的时间（临时）。所以你可以检查时间是否倒退。

除非您更改时区，否则时间永远不会倒退。因此，在将用户归咎于作弊者之前，我会小心谨慎。他可能改变了他的时区。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T07:42:09.703

您可以将本地时间与时间服务器进行比较并存储差异。然后，在下一次运行时，再做一次，看看差异是否发生了变化。不过，您需要连接到 Internet。如果您没有 Internet 连接，您可以存储您的本地时间并在每次运行时检查它。然后您将能够检查本地时间是否已反转。您将无法检查它是否已向前移动。