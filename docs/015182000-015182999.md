# StackOverflow 问答 15182000-15182999

# javascript - Behat/Mink 无法模拟页脚中的按钮单击

> ID：15182000
> 
> 赞同：2
> 
> 时间：2013-03-03T03:05:15.677
> 
> 标签：javascript, behat, mink

尝试对页脚中的项目使用“然后我按下”（对于按钮）或“然后我跟随”（对于链接）正则表达式失败，并出现错误“未找到带有 id|链接|名称的元素/链接..”作为示例 我在这个公共站点上发现了这个异常：earthdata.nasa.gov 站点（我们的站点尚未激活）。屏幕左侧显示“反馈”的按钮不可点击（原文如此）。

我正在对 selenium 2.29.0 服务器运行测试。如何扩展 Mink 以便它可以定位并“单击”链接，例如上面提到的“反馈”按钮？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T07:36:30.827

您可以使用 XPath 来单击链接，而不是使用 id 来单击链接。XPath 是一种在 DOM 中识别对象的通用方法，因此它始终有效。

对于那些没有使用过 Behat 的人，请使用此链接阅读更多信息。它基本上是 Selenium 工具的包装。

[http://mink.behat.org/](http://mink.behat.org/)

并使用它来访问 Selenium 网络自动化测试站点：

[http://docs.seleniumhq.org/download/](http://docs.seleniumhq.org/download/)

*编辑：*

***Ian：感谢 MacGyver 的指针，这里是解决方案：***

```
/** Click on the element with the provided xpath query
 *
 * @When /^I click on the element with xpath "([^"]*)"$/
 */
public function iClickOnTheElementWithXPath($xpath)
{
    $session = $this->getSession(); // get the mink session
    $element = $session->getPage()->find(
        'xpath',
        $session->getSelectorsHandler()->selectorToXpath('xpath', $xpath)
    ); // runs the actual query and returns the element

    // errors must not pass silently
    if (null === $element) {
        throw new \InvalidArgumentException(sprintf('Could not evaluate XPath: "%s"', $xpath));
    }

    // ok, let's click on it
    $element->click();

} 
```

# ios - UITableViewCell 中的 UIPanGestureRecognizer 无法识别左平移

> ID：15182001
> 
> 赞同：0
> 
> 时间：2013-03-03T03:05:18.363
> 
> 标签：ios, uitableview, uigesturerecognizer, uipangesturerecognizer

现在我正在开发一个 iPad 应用程序，它使用 UITableviewCell 的子类，它使用 UIPanGestureRecognizer 左右滑动，但是它只向右滑动，向左滑动......这是我正在使用的代码：

```
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString           *)reuseIdentifier
{
self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
if (self) 
    {
    // Initialization code
                  UIPanGestureRecognizer *pan = [[UIPanGestureRecognizer alloc] initWithTarget:self        action:@selector(handlePan:)];
    pan.delegate = self;

    [self addGestureRecognizer:pan];

}
return self;
} 
```

这是我的 handlePan: 方法，

```
 CGPoint translation = [gesture locationInView:self];
    self.center = CGPointMake(self.center.x + translation.x,
                              self.center.y);
    if (self.center.x > 700) {
        NSDictionary *dic = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithInt:self.tag],@"number",nil];
        [[NSNotificationCenter defaultCenter] postNotificationName:@"right" object:nil userInfo:dic];
        dic = nil;
    }
    if (self.center.x < 0){
        NSDictionary *dic = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithInt:self.tag],@"number",nil];
        [[NSNotificationCenter defaultCenter] postNotificationName:@"left" object:nil userInfo:dic];
        dic = nil;
        NSLog(@"Left Called");

    }
    [gesture setTranslation:CGPointZero inView:self]; 
```

无论我尝试什么，我似乎都无法让控制台说“Left Called”，即单元格向左滑动。我真的在这个问题上苦苦挣扎，并希望得到任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:36:55.490

诀窍是对锅的变化状态做出反应，中心计算可以简单得多......

```
- (void)handlePan:(UIPanGestureRecognizer *)gesture {

    if ((gesture.state == UIGestureRecognizerStateChanged) ||
        (gesture.state == UIGestureRecognizerStateEnded)) {

        CGPoint newCenter = CGPointMake([gesture locationInView:self.superview].x, self.center.y);
        self.center = newCenter;

        // To determine the direction of the pan, check the sign of translation in view.
        // This supplies the cumulative translation...
        if ([gesture translationInView:self.superview].x > 0) {
            NSLog(@">>>");
        } else {
            NSLog(@"<<<");
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T03:26:10.523

我认为您确定左/右的方式可能存在缺陷。

```
CGPoint translation = [gesture locationInView:self];
self.center = CGPointMake(self.center.x + translation.x,
                              self.center.y); 
```

self.center.x 总是积极的，因为“翻译”是视图中积极的位置。您可能想要跟踪原始触摸位置，然后将其与滑动/移动时的位置进行比较。尝试这样的事情：

```
- (void)handlePan:(UIPanGestureRecognizer *)panRecognizer {

    if (panRecognizer.state == UIGestureRecognizerStateBegan)
    {
        // create a local property for the original point and assign the position on first touch
        self.originalPanTouchPoint = [panRecognizer locationInView:self.view];
        // create a local property for cell's center prior to pan
        self.initialCellCenter = self.center;
    } else {
        CGPoint currentTouchPoint = [panRecognizer locationInView:self.view];
        CGFloat xTranslation = self.originalPanTouchPoint.x - currentTouchPoint.x;

        self.center = CGPointMake(self.initialCellCenter.x + xTranslation, self.initialCellCenter.y);
    }
} 
```

# php - 如何在 XAMPP 的 VirtualHost 中访问 DocumentRoot 之外的文件？

> ID：15182008
> 
> 赞同：1
> 
> 时间：2013-03-03T03:05:51.260
> 
> 标签：php, apache, xampp, virtualhost

我在 Windows 7 中配置了一个虚拟主机。该项目位于`C:\project`以下结构中：

```
project
  \cache
  \configs
  \htdocs
    \css
    \images
    \js
    \.htaccess
    \index.php
  \includes
    \setup.php
    \en.php
  \lib
  \templates
  \templates_c 
```

在我的`httpd-vhosts.conf`中，我创建了一个 VirtualHost：

```
 <VirtualHost *:80>
    DocumentRoot "C:/project/htdocs"
    ServerName project.dev

    <Directory "C:/project/htdocs">
        Options Indexes FollowSymLinks ExecCGI Includes
        AllowOverride All
        Order allow,deny
        Allow from all
        Require all granted
    </Directory>
</VirtualHost> 
```

并添加`127.0.0.1 project.dev`到`C:\Windows\System32\drivers\etc\hosts`.

问题是我希望成为提供文件`htdocs`的目录，`httpd`但我想使用 PHP 包含例如位于`includes`目录中的文件。

我怎么解决这个问题？我已经尝试了很多从`$_SERVER['DOCUMENT_ROOT']`Apache Alias 到`.htaccess`调整的解决方案，但到目前为止都没有奏效。一定有一些简单的解决方案。也许我不太正确地理解 DocumentRoot 的概念。我只想模拟典型的服务器文件夹`public_html/www/htdocs`，同时将重要文件排除在浏览器/用户范围之外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:09:45.170

这是我从我的`httpd-vhosts.conf`. 我做的唯一额外配置是绕过我击中的 403：

```
<VirtualHost *:80>
    ServerName "Markdown.loc"
    ServerAlias "www.Markdown.loc"
    DocumentRoot "C:\INTERNAL\PHP\Markdown"
    <Directory "C:\INTERNAL\PHP\Markdown">
        Options +Indexes
        AllowOverride All
    </Directory>
</VirtualHost> 
```

我所有的其他虚拟主机看起来像这样：

```
<VirtualHost *:80>
    DocumentRoot "C:/xampp/htdocs/somesite.loc"
    ServerName somesite.loc
    ServerAlias www.somesite.loc
</VirtualHost> 
```

如果您只是想在与您的 htdocs 相同级别的目录中包含某些内容，那么`include("../includes/somefile.php")`应该可以正常工作。

如果我的问题有误，请告诉我，我会尽力为您提供更多帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T03:25:04.093

在您的虚拟主机或 .htaccess 中设置您的包含路径：

```
php_value include_path ".;c:/project" 
```

# c# - CheckBoxList 中的最大选中允许值

> ID：15182009
> 
> 赞同：0
> 
> 时间：2013-03-03T03:06:10.323
> 
> 标签：c#, javascript, asp.net

我使用 C# 生成了一个包含多个项目的 CheckBoxList。现在我想设置 CheckBoxList 中允许的最大检查项目数。如果用户检查的项目数超过允许的最大项目数，则会发出警报或其他项目将自动取消检查，以防止用户检查超过允许的最大项目数。

检查项目的最大数量将在代码隐藏 (C#) 中设置为 ChecokBoxList 或使用 javascript 执行此操作，但 javascript 也应该在 C# 中生成。

我需要一些帮助来解决这个问题。

示例代码：

```
CheckBoxList chkl = new CheckBoxList();
string[] items = {"item1", "item2", "item3", "item4", "item5"};
foreach (string item in items )
            {
                chkl.Items.Add(new ListItem(item));
            }
chkl.MaximumCheck = 3; 
```

在代码隐藏中生成后，CheckBoxList 将只允许用户检查三个项目。如果用户检查了三个以上的项目，其他项目将自动取消选中，或者至少会显示一个警报以防止用户检查三个以上的项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:41:14.267

对于这个问题，我有一个很好的解决方案：

在 C# 中，我将使用以下代码生成一个包含 5 个项目的 CheckBoxList：

```
CheckBoxList chkl = new CheckBoxList();
    string[] items = { "item1", "item2", "item3", "item4", "item5" };
    foreach (string item in items)
    {
        chkl.Items.Add(new ListItem(item));
    }
    chkl.AutoPostBack = true;
    chkl.CssClass = "3";
    chkl.SelectedIndexChanged += new EventHandler(BoxChecked); 
```

如您所见，CheckBoxList 有 5 个项目，最大检查项目是通过 CheckBoxList 的 CssClass 属性设置的，假设 CheckBoxList 中不需要 CssClass。所以我会通过这个属性设置最大检查项，以使其更加清晰。这里的关键是在 CheckboxList 上添加一个 EventHandler，这样如果用户要检查的项目超过最大项目，其他项目将被禁用。

EventHander 将编写如下：

```
protected void BoxChecked(object sender, EventArgs e)
{
    try
    {
        int maximumCheck = -1;
        CheckBoxList CheckExpertiseList = (CheckBoxList)sender;
        try {
            maximumCheck = Convert.ToInt32(CheckExpertiseList.CssClass);
        }
        catch { }
        if (maximumCheck > -1)
        {
            if (CheckExpertiseList.Items.Cast<ListItem>().Where(i => (i.Selected == true)).Count() == maximumCheck)
            {
                CheckExpertiseList.Items.Cast<ListItem>().Where(i => (i.Selected == false)).ToList().ConvertAll(i => i.Enabled = false).ToList();
            }
            else if (CheckExpertiseList.Items.Cast<ListItem>().Where(i => (i.Selected == true)).Count() == maximumCheck - 1)
                CheckExpertiseList.Items.Cast<ListItem>().Where(i => (i.Selected == false)).ToList().ConvertAll(i => i.Enabled = true).ToList();
        }
    }
    catch { }
} 
```

EventHandler 事件将检查复选框列表是否有超过限制的项目被选中，它将禁用其他项目，否则它将重新启用其他项目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T03:36:28.983

```
int x = 0;
foreach (var li in ListBox1.Items) {
 if (li.Selected == true)
 {
  x = x + 1;
 } 
```

或喜欢：

```
ListBox1.GetSelectedIndices().Length 
```

在 Javascript 中：

```
<script type="text/javascript" language="javascript">
function CheckCheck()
{
    var chkBoxList=document.getElementById('<%=CheckBoxList1.ClientID %>');        var chkBoxCount=chkBoxList.getElementsByTagName("input");

     var btn=document.getElementById('<%=btnSubmit.ClientID %>');
     var i=0;
     var tot=0;
     for(i=0;i<chkBoxCount.length;i++)
     {
      if(chkBoxCount[i].checked)
      {
       tot=tot+1;
      }
     }

if(tot > 3)
{
   alert('Cannot check more than 3 check boxes');              
}    
</script>
<form id="form1" runat="server">
<div>
<table>
<tr>
<td>
<asp:CheckBoxList ID="CheckBoxList1" runat="server" onclick="javascript:CheckCheck();">
<asp:ListItem>One</asp:ListItem>
<asp:ListItem>Two</asp:ListItem>
<asp:ListItem>Three</asp:ListItem>
<asp:ListItem>Four</asp:ListItem>
<asp:ListItem>Five</asp:ListItem>
</asp:CheckBoxList>
</td>
<td>
<asp:Button ID="btnSubmit" runat="server" Text="Submit" />
</td>
</tr>
</table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T04:59:16.387

首先，我要感谢杰里米·汤普森。他给了我一个关于我的问题的好主意。一点点改变，我就有了我想要的。仅使用 javascript 解决我的问题。

```
<title>Untitled Page</title>
</head>
<body>
<form id="form1" runat="server">
<div>
<script type="text/javascript" language="javascript">
    function CheckCheck() {
        var chkBoxCount = this.getElementsByTagName("input");
        var max = parseInt(this.className);
        var i = 0;
        var tot = 0;
        for (i = 0; i < chkBoxCount.length; i++) {
            if (chkBoxCount[i].checked) {
                tot = tot + 1;
            }
        }

        if (tot > max) {
            var k = 0;
            for (i = 0; i < chkBoxCount.length; i++) {
                if (chkBoxCount[i].checked) {
                    k++;
                    if (k > max) {
                        chkBoxCount[i].checked = false;
                        alert('Cannot check more than ' + max + ' check boxes');
                    }
                }
            }               
        }
    }
</script>
<div>
<table>
<tr>
<td>
<asp:CheckBoxList ID="CheckBoxList1" runat="server" CssClass="3" onclick="javascript:CheckCheck.call(this);">
<asp:ListItem>One</asp:ListItem>
<asp:ListItem>Two</asp:ListItem>
<asp:ListItem>Three</asp:ListItem>
<asp:ListItem>Four</asp:ListItem>
<asp:ListItem>Five</asp:ListItem>
</asp:CheckBoxList>
</td>
<td>
<asp:Button ID="btnSubmit" runat="server" Text="Submit" />
</td>
</tr>
</table>
</div>
</form>
</body>
</html> 
```

javascript会自动识别调用它的控件，并且通过控件的属性CssClass获取最大检查项。通过这样做，我还可以防止用户在 CheckBoxList 中检查超过最大项目而不进行一些回发。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-02T01:05:08.383

```
private void cb_magia_SelectedIndexChanged(object sender, EventArgs e)
    {
        int maxNumber = 4;
        int iSelectedIndex = cb_magia.SelectedIndex;
        if (cb_magia.CheckedItems.Count > maxNumber)
        {
           cb_magia.SetItemCheckState(iSelectedIndex, CheckState.Unchecked);
           MessageBox.Show("you had checked the maximum checkbox value allowed");

        }
    } 
```

# zend-framework - Zend Server 6 with OSX 10.8.2 ... PHPUnit 问题

> ID：15182012
> 
> 赞同：0
> 
> 时间：2013-03-03T03:06:17.453
> 
> 标签：zend-framework, phpunit, zend-server, zend-server-installation

我真的很喜欢 ZS6，但我在 OSX 10.8.x 上遇到了 PEAR 和 PHPUnit 的问题。

在 ZS6 安装到默认路径之后，PEAR 似乎在命令行中运行良好，但是，由于某种奇怪的原因，它将 phpunit 包安装在 pear 文件夹中，其中包含 /Users/myusername/pear 位置的 bin、docs 和 share 文件夹。这本身对我来说毫无意义。此外，PHPUnit 未设置为从终端运行（未找到命令）。

如果你运行'pear list' pear 表示没有从频道 pear.php.net 安装扩展。

我的 .bash_profile 具有以下内容： export PATH=/usr/local/bin:$PATH PATH=$PATH:/usr/local/zend/bin:/usr/local/zend/mysql/bin LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr /local/zend/lib

php.ini 文件仍设置为默认位置：.:/usr/local/zend/share/ZendFramework/library:/usr/local/zend/share/pear

到目前为止，我已尝试更改 php.ini 路径，已尝试更改 .bash_profile 导出路径，已尝试卸载并删除所有可以找到的 pear 痕迹并重新安装 ZS6，甚至再次手动安装 pear.. .我每次都有同样的问题。

是否可能与此框上的先前设置有冲突？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T03:52:13.910

例如，您可以使用 pear config-set 调整这些配置值

```
$ pear config-set php_dir /usr/share/pear/php
$ pear config-set data_dir /usr/share/pear/data 
```

对具有“损坏”路径的所有配置值执行此操作。

之后，要么手动将文件从旧目录移动到新目录，要么重新安装所有软件包。

# c - 编译时遇到一些奇怪的错误

> ID：15182013
> 
> 赞同：-1
> 
> 时间：2013-03-03T03:06:45.930
> 
> 标签：c, compiler-errors

这是我第一次使用 stackoverflow，所以我希望我做对了。我在我的一门课上的 1 个程序遇到了一些问题，我已经完成了另外两个。这是问题 3，如果你[转到这个 pdf](http://ece15.ucsd.edu/Labs/lab3.pdf)并向下滚动到问题 3，就会有我用来完成这个程序的信息（但我必须说它写得很糟糕。）无论如何，我得到了这些编译时出现非常奇怪的错误，有没有人有任何理由说明我的代码无法编译/无法工作？该程序的重​​点是读取样本 dna 输入并将其与其他 2 个输入进行比较。我已经[按照说明中的说明](http://ece15.ucsd.edu/Labs/lab3.pdf)制作了一个示例文件。感谢您的时间！

我得到了什么错误：

```
 dna.c: In function ‘main’:
dna.c:12: error: expected ‘]’ before ‘;’ token
dna.c:13: error: expected ‘]’ before ‘;’ token
dna.c:14: error: expected ‘]’ before ‘;’ token
dna.c:15: error: expected ‘]’ before ‘;’ token
dna.c:21: error: ‘first’ undeclared (first use in this function)
dna.c:21: error: (Each undeclared identifier is reported only once
dna.c:21: error: for each function it appears in.)
dna.c:22: error: ‘second’ undeclared (first use in this function)   
dna.c:23: error: ‘third’ undeclared (first use in this function)
dna.c:25: error: ‘last’ undeclared (first use in this function)
dna.c: In function ‘read_DNA’:
dna.c:43: error: expected ‘)’ before ‘;’ token
dna.c:43: error: too few arguments to function ‘fgets’
dna.c:45: error: expected expression before ‘;’ token
dna.c: In function ‘print_DNA’:
dna.c:76: error: expected ‘)’ before ‘;’ token 
```

这是我的代码

```
#include <stdio.h>
#define MAX_IN_LENGTH 241;
#define OUT_LENGTH 60;
FILE *input;
FILE *output;
int read_DNA(char sequence[]);
double compare_DNA(char seq1[], char seq2[], char seq3[], int n);
void print_DNA(char seq1[], char seq2[], char seq3[], int n);

int main()
{
  char first[MAX_IN_LENGTH];
  char second[MAX_IN_LENGTH];
  char third[MAX_IN_LENGTH];
  int last[MAX_IN_LENGTH];
  int i;
  int length;
  double percent;
  input = fopen("dna_input.dat", "r");
  output = fopen("dna_output.dat", "w");
  length =read_DNA(first);
  length =read_DNA(second);
  length =read_DNA(third);
  fprintf(output,"Comparison between sequence # 1 and sequence #2:\n");
  percent=compare_DNA(first, second, last,length);
  print_DNA(first, second, last, length);
  fprintf(output,"The overlap percentage is %.1f%%\n",percent*100);
  fprintf(output,"Comparison between sequence # 1 and sequence #3:\n");
  print_DNA(first, third, last,length);
  fprintf(output,"The overlap percentage is %.1f%%\n",percent*100);
  fprintf(output,"Comparison between sequence # 2 and sequence #3:\n");
  percent=compare_DNA(second,third,last,length);
  print_DNA(second, third, last, length);
  fprintf(output,"The overlap percentage is %.1f%%\n",percent*100);
  fclose(input);
  fclose(output);
  return 0;
}

int read_DNA(char sequence[])
{
  fgets(sequence, MAX_IN_LENGTH, input);
  int i;
  for(i=0; i<MAX_IN_LENGTH; i++)
  {
    if(sequence[i]=='\0')
      return i;

  }
  return MAX_IN_LENGTH;
}

double compare_DNA(char seq1[], char seq2[], char seq3[], int n)
{
  int i,count=0;
  for(i=0;i<n-1;i++)
  {  
    if(seq1[i]==seq2[i])
    {
      seq3[i]=seq1[i];
       count++;
    }
    else
      seq3[i]=' ';
  }
  return (double)count/(n-1);
}

void print_DNA(char seq1[], char seq2[], char seq3[], int n)
{
  int i=0;
  int lines, j, start, stop;
  lines =n/OUT_LENGTH;
  if( n%OUT_LENGTH!=0)
    lines++;
  for(j=0;j<lines;j++)
  {
    start=j*OUT_LENGTH;
    stop=(j+1)*OUT_LENGTH;
    if(stop>=n)
      stop=n-1;
    for(i=start;i<stop;i++)
      fprintf(output,"%c",seq1[i]);
    fprintf(output,"\n");
    for(i=start;i<stop;i++)    
    {
      fprintf(output,"%c",seq3[i]);
      if(seq3[i]==' ')
        fprintf(output,"");
    }
    fprintf(output,"\n");   
    for(i=start;i<stop;i++)   
    {
      fprintf(output,"%c",seq2[i]);}
    fprintf(output,"\n");
  }  
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:47:08.957

因为`#define`是一个***预处理器指令***，它的工作原理是这样的

`#define foo bar`替换所有出现的`foo`，`bar`前提是`foo`不带引号（就像`"foo"`在函数中一样`printf`不被替换）。***换行符***分隔两个预处理器指令，而不是**分号**。

所以很自然你的分号也被替换了，所以，你的数组声明现在变成了

`char first [241;];`由于编译器首先看到分号，因此它假定您因不关闭方括号而出错。

此错误未声明您的`first, second, third`变量，因此错误随之而来。

情况也是如此`OUT_LENGTH`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T03:12:21.323

不要在`#define`语句中使用分号。

# c - 在c中删除额外的小数位

> ID：15182014
> 
> 赞同：1
> 
> 时间：2013-03-03T03:07:24.180
> 
> 标签：c, double, decimal, extra

我遇到了一个小问题。我正在尝试删除 c 中多余的小数位，这将用于计算。

例如 67.98345，我希望它是 67.98

但不仅仅是一个 printf 语句。我需要双倍实际上是 67.98 而不是 67.98345

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:23:02.380

@mvp 的回答还可以，但有一个小问题。如果 x 接近最大 double 幅度，则乘法的中间值可能会溢出 double。解决此问题的替代方法是：

```
double intpart, fracpart;

fracpart = modf(x, &intpart);
x_rounded = intpart + round(fractpart * 100) / 100; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:12:17.497

这将四舍五入到最接近的值：

```
double x_rounded = round(x*100)/100; 
```

为了完整起见，这些将向下或向上取整：

```
double x_rounded_down = floor(x*100)/100;
double x_rounded_up   = ceil (x*100)/100; 
```

# javascript - SlidesJs 和 ColorBox 不工作？

> ID：15182015
> 
> 赞同：1
> 
> 时间：2013-03-03T03:07:27.113
> 
> 标签：javascript, jquery, slideshow, lightbox, colorbox

当我尝试将 SlideJs 脚本应用到使用颜色框显示的缩略图容器上时，我一直在尝试解决一个奇怪的错误。

我有 2 个使用 SlideJs 的幻灯片，问题似乎不存在。

这是我当前的代码：

```
<div id="services_slideshow">
    <div class="container">

        <div class="services_slideshow">

            <div class="slides_container2">

                <div class="slide">
                    <a href="images1.jpg" class="gallery"><div class="ss_1"></div></a>
                    <a href="images2.jpg" class="gallery"><div class="ss_2"></div></a>
                    <a href="images3.jpg" class="gallery"><div class="ss_3"></div></a>
                    <a href="images4.JPG" class="gallery"><div class="ss_4"></div></a>
                    <a href="images5.JPG" class="gallery"><div class="ss_5"></div></a>
                </div> <a href="#" class="prev2"><div class="prev"></div></a>
            <a href="#" class="next2"><div class="next"></div></a>

        </div> <!-- .services_slideshow -->
    </div> <!-- .container -->
</div> <!-- #servicees_slideshow --> 
```

要调用它，我使用：

```
$(function(){
            $('.water_slideshow').slides({
                preload: true,
                preloadImage: 'images/loading.gif'
            });

            $('.services_slideshow').slides({
                preload: true,
                preloadImage: 'images/loading.gif',
                next: 'next2',
                prev: 'prev2',
                container: 'slides_container2'
            });
        }); 
```

上面的这个函数调用了 2 幻灯片。如果我删除第二个电话，我所有的缩略图都会正常显示，但不会在幻灯片中显示，如果我应用它，一切都会消失。（虽然，箭头在那里，分页也在那里）

第一张幻灯片使用默认值（以及我的组件），例如 next、prev、slides_container...

现在我想知道是否有人已经和我有同样的问题，为了解决这个问题！

谢谢你的帮助！

有关颜色框的更多信息，我是这样称呼它的：

```
jQuery(document).ready(function () {
        jQuery('a.gallery').colorbox({ 
            opacity:0.5 ,
            scalePhotos:'true',
            maxWidth:'900px',
            maxHeight:'500px',
            rel:'group1'
        });}); 
```

同样，一切都可以在不调用幻灯片的情况下工作，并且在调用时，什么也没有显示！

# dynamic - WebGL 动态模型操作

> ID：15182016
> 
> 赞同：3
> 
> 时间：2013-03-03T03:07:28.250
> 
> 标签：dynamic, 3d, webgl, modeling, solidworks

我的目标是能够在 Cad 包（即 Solidworks）中创建一个 3D 模型，其参数旨在由用户更改。我希望能够采用该模型并将其集成到 Web 浏览器中，然后将来自某种 UI 的变量传递到模型中以更改其参数并因此更改其形式。

举个简单的例子：一个圆柱体，用户可以使用滑块选择它的高度。 *（圆柱体将来自 cad 软件，而不是 webgl CylinderGeometry ）*

在这个阶段，我对 Webgl 知之甚少，而我如何实现这一结果，从而为我指明正确的方向将是一个巨大的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T11:24:12.163

您可以构建一个 HTTP 服务[ASP.NET Web API](http://www.asp.net/web-api)。该服务将接收带有“旨在更改的参数”的 HTTP 请求，并对其进行相应处理。然后它会启动 SolidWorks、加载模型、更改参数并重建。之后，您应该决定将发送到浏览器的数据格式：

*   STL、OBJ - 镶嵌、颜色、无纹理信息。可以很容易地被 JavaScript 解析
*   如果您将 SceneJS 用于 WebGL，您可以在服务器端生成正确的 JSON 场景

# bash - Bash 脚本移交输入而不是退出

> ID：15182018
> 
> 赞同：0
> 
> 时间：2013-03-03T03:07:40.280
> 
> 标签：bash, scripting, ftp, terminal, netcat

有没有办法让 bash 脚本在退出时以当前状态将执行移交给用户？例如，我将使用“nc ip-address 21”登录到 FTP 服务器的脚本，运行几个命令，然后将已经启动的 FTP shell 交给用户。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:12:24.630

如果您想要的只是自动登录，请使用 ncftp ...它支持自动登录和 ftp 脚本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-08T11:16:51.160

您可以在管道输入的末尾添加 cat 命令，但请确保启动 bash 交互（-i 选项）以显示提示：

带有 echo 和 list 命令的示例，然后接受用户输入

```
( echo '
echo "these commands are piped before user input begins"
ls -lrt /directory/you/want/to/show/the/contents/of/before/user/input/begins/
' ; cat) | bash -i 
```

顺便说一句，我用它来定义 bash 中的函数。

可能，您可能需要调整 ftp 程序以接受普通标准输入，但如果是这种情况，它可能无论如何都会接受您的命令。

# bash - shell脚本中的grep

> ID：15182026
> 
> 赞同：0
> 
> 时间：2013-03-03T03:09:19.537
> 
> 标签：bash, grep

我正在尝试编写一个shell脚本来消除重复文件，但我很早就卡住了......

```
find $1 -type f -exec md5sum {} + > /tmp/$$
find $1 -type f -exec md5sum {} + | sort  | awk '{print $1}' | uniq -d > \
    /tmp/$$.spec 
```

此时，/tmp/PID 保存 MD5（空格）文件名，而 /tmp/PID.spec 保存重复的哈希值。如何在 /tmp/PID 中搜索每个重复的哈希？

```
cat /tmp/$$ | grep /tmp/$$.spec 
```

不返回任何结果，但我认为这将逐行遍历我的完整文件，并且只返回与 .spec 文件中的哈希匹配的行。显然不是。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T03:30:14.553

`grep -f /tmp/$$.spec /tmp/$$`

使用 -f 选项将完成工作

# ios - webkitcore 编译失败

> ID：15182027
> 
> 赞同：0
> 
> 时间：2013-03-03T03:09:24.547
> 
> 标签：ios, webkit

我在 Xcode 中编译 webkitCore，并将基础 SDK 设置为 ios6，但发生错误：

```
target specifies product type 'com.apple.product-type.tool', but there's no such product type for the 'iphonesimulator' platform 
```

这个怎么解决，thx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T02:53:09.143

我找到了答案：

*   使用文本编辑器打开***xxx.xcodeproj***（蓝色项目图标）
*   在 project.pbxproj 文件中，搜索“ ***productType*** ”
*   将类型替换为“ ***productType = “com.apple.product-type.library.static”;*** “

希望这可以帮助

# javascript - 使用 jQuery 获取多个查询字符串值

> ID：15182029
> 
> 赞同：0
> 
> 时间：2013-03-03T03:09:36.767
> 
> 标签：javascript, jquery

我有一个这样的网址：

```
http://example.com/mypage?vendorId=1&vendorId=2&vendorId=3 
```

使用 jQuery，如何获取每个`vendorId`值并将它们放入数组中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T03:15:43.867

在 javascript 中，这只是一个字符串：

```
var url = 'http://mysite.com/mypage?vendorId=1&vendorId=2&vendorId=3'
var qs = url.split('?')[1];
var parts = qs.split('&');
var arr = [];

$.each(parts, function() {
    var val = this.split('=')[1];
    arr.push(val);
}); 
```

[**小提琴**](http://jsfiddle.net/adeneo/49hhW/)

或捷径：

```
var arr = $.map(window.location.split('?')[1].split('&'), function(e,i) { 
    return e.split('=')[1];
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-03T03:17:23.320

为此，您不需要 jQuery。

```
var pairs=location.search.slice(1).split('&');
var vendors=[];
for (i in pairs){
    bits=pairs[i].split('=');
    if (bits[0]=='vendorId') vendors.push(bits[1]);
} 
```

# java - Spring-Security OpenId 不起作用

> ID：15182030
> 
> 赞同：1
> 
> 时间：2013-03-03T03:09:38.430
> 
> 标签：java, spring-security, openid

我正在尝试按照[此处](http://krams915.blogspot.se/2011/02/spring-security-3-openid-login-with_13.html)的教程在 Spring Security 中实现 OpenId ，但我似乎无法让它工作。当我测试我的实现时，它似乎发现了 OpenId 提供程序的 URL，但它从未将我重定向到该提供程序的登录页面。相反，我返回到我的登录页面，并显示“您输入了无效的用户名或密码！” 错误。

这是我的记录器在我尝试使用 coraythan@aol.com 登录时所说的内容：

```
[qtp760167714-19] INFO org.openid4java.discovery.Discovery - Starting discovery on URL identifier: http://aol.com/
[qtp760167714-19] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected: "[version: 0][name: JSESSIONID][value: C326ACEE663C4C976739D4E51A500DA7][domain: www.aol.com][path: /aol][expiry: null]". Illegal path attribute "/aol". Path of origin: "/"
[qtp760167714-19] WARN org.apache.http.client.protocol.ResponseProcessCookies - Cookie rejected: "[version: 0][name: JSESSIONID][value: D07CE2D83B0A58663C6EAA557FCFAD14][domain: www.aol.com][path: /aol][expiry: null]". Illegal path attribute "/aol". Path of origin: "/" 
```

我第二次尝试将不同的内容记录到控制台：

```
[qtp760167714-21] INFO org.openid4java.discovery.Discovery - Starting discovery on URL identifier: http://aol.com/
[qtp760167714-21] INFO org.openid4java.util.HttpCache - Returning cached HEAD response for http://aol.com/
[qtp760167714-21] INFO org.openid4java.util.HttpCache - Returning cached GET response for http://aol.com/
[qtp760167714-21] INFO org.openid4java.util.HttpCache - Returning cached GET response for https://api.screenname.aol.com/auth/openid/xrds 
```

使用 myOpenid 帐户尝试会得到略有不同的消息：

```
[qtp760167714-16] INFO org.openid4java.discovery.Discovery - Starting discovery on URL identifier: http://coraythan.myopenid.com/ 
```

第二次：

```
[qtp1540619773-25] INFO org.openid4java.discovery.Discovery - Starting discovery on URL identifier: http://coraythan.myopenid.com/
[qtp1540619773-25] INFO org.openid4java.util.HttpCache - Returning cached HEAD response for http://coraythan.myopenid.com/
[qtp1540619773-25] INFO org.openid4java.util.HttpCache - Returning cached GET response for http://coraythan.myopenid.com/?xrds=1 
```

使用“google login”选项会出现同样的问题。它看起来与我从 OpenId 看到的相同，但使用的是 google 的东西。

奇怪的是，尝试使用 yahoo 电子邮件登录更糟糕，因为会引发堆栈跟踪！堆栈跟踪似乎是从 OpenId4Java（Spring Security Openid 使用的支持 openid 实现）抛出的。

对于雅虎电子邮件，堆栈跟踪的一些内容如下：

```
[qtp665820578-23] INFO org.openid4java.discovery.Discovery - Starting discovery on URL identifier: http://yahoo.com/
2013-03-02 18:58:27.060:WARN:oejs.ServletHandler:Error for /j_spring_openid_security_check
java.lang.NoClassDefFoundError: org/cyberneko/html/HTMLTagBalancingListener
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:421)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:383)
    at org.openid4java.discovery.yadis.CyberNekoDOMYadisHtmlParser.parseDocument(CyberNekoDOMYadisHtmlParser.java:99)
    at org.openid4java.discovery.yadis.CyberNekoDOMYadisHtmlParser.getHtmlMeta(CyberNekoDOMYadisHtmlParser.java:42)
    at org.openid4java.discovery.yadis.YadisResolver.getHtmlMeta(YadisResolver.java:325)
    at org.openid4java.discovery.yadis.YadisResolver.retrieveXrdsLocation(YadisResolver.java:453)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:252)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:232)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:166)
    at org.openid4java.discovery.Discovery.discover(Discovery.java:147)
    at org.openid4java.discovery.Discovery.discover(Discovery.java:129)
    at org.openid4java.consumer.ConsumerManager.discover(ConsumerManager.java:542)
    at org.springframework.security.openid.OpenID4JavaConsumer.beginConsumption(OpenID4JavaConsumer.java:103)
    at org.springframework.security.openid.OpenIDAuthenticationFilter.attemptAuthentication(OpenIDAuthenticationFilter.java:123)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:195)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
[...]
Caused by: 
java.lang.ClassNotFoundException: org.cyberneko.html.HTMLTagBalancingListener
    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:244)
    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:230)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:430)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:383)
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:421)
    at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:383)
    at org.openid4java.discovery.yadis.CyberNekoDOMYadisHtmlParser.parseDocument(CyberNekoDOMYadisHtmlParser.java:99)
    at org.openid4java.discovery.yadis.CyberNekoDOMYadisHtmlParser.getHtmlMeta(CyberNekoDOMYadisHtmlParser.java:42)
    at org.openid4java.discovery.yadis.YadisResolver.getHtmlMeta(YadisResolver.java:325)
    at org.openid4java.discovery.yadis.YadisResolver.retrieveXrdsLocation(YadisResolver.java:453)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:252)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:232)
    at org.openid4java.discovery.yadis.YadisResolver.discover(YadisResolver.java:166)
    at org.openid4java.discovery.Discovery.discover(Discovery.java:147)
    at org.openid4java.discovery.Discovery.discover(Discovery.java:129)
    at org.openid4java.consumer.ConsumerManager.discover(ConsumerManager.java:542)
    at org.springframework.security.openid.OpenID4JavaConsumer.beginConsumption(OpenID4JavaConsumer.java:103)
    at org.springframework.security.openid.OpenIDAuthenticationFilter.attemptAuthentication(OpenIDAuthenticationFilter.java:123)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:195) 
```

这是我的弹簧安全 xml：

```
<!-- This is where we configure Spring-Security -->
<security:http auto-config="true" access-denied-page="/accessDenied">

    <!-- TODO fix all these URLs open to anyone -->
    <security:intercept-url pattern="/" access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/logout" access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/accessDenied" access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/VAADIN/*" access="IS_AUTHENTICATED_ANONYMOUSLY" />

    <!-- Admin only URLs -->
    <security:intercept-url pattern="/admin/*" access="ROLE_ADMIN" />

    <!-- Logged in User only URLs -->
    <security:intercept-url pattern="/**" access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/endpoint/*" access="IS_AUTHENTICATED_ANONYMOUSLY" />
    <security:intercept-url pattern="/game/*" access="IS_AUTHENTICATED_ANONYMOUSLY" />

    <security:openid-login 
        login-page="/"
        authentication-failure-url="/?error=true" 
        default-target-url="/game" />

    <security:logout 
        invalidate-session="true"
        logout-success-url="/" 
        logout-url="/logout" />

</security:http>

<!-- Declare an authentication-manager to use a custom userDetailsService -->
<security:authentication-manager>
    <security:authentication-provider
        user-service-ref="userDetailsService">
        <security:password-encoder ref="passwordEncoder" />
    </security:authentication-provider>
</security:authentication-manager>

<!-- Use a Md5 encoder since the user's passwords are stored as Md5 in the 
    database -->
<bean
    class="org.springframework.security.authentication.encoding.Md5PasswordEncoder"
    id="passwordEncoder" />

<!-- An in-memory list of users. No need to access an external database 
    layer. See Spring Security 3.1 Reference 5.2.1 In-Memory Authentication -->
<!-- john's password is admin, while jane;s password is user -->
<security:user-service id="userDetailsService">
    <!-- user name is based on the returned OpenID identifier from Google -->
    <security:user
        name="https://www.google.com/accounts/o8/id?id=AItxxioJSDLFJLjxcksdfjOpAASDFosSSoJ0E"
        password="" authorities="ROLE_USER, ROLE_ADMIN" />

</security:user-service> 
```

我的 web.xml 中有以下 servlet 映射和 spring 安全过滤器：

```
<!-- spring gets everything else -->
    <servlet-mapping>
        <servlet-name>springServlet</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>

    <!-- Spring Security -->
    <filter>
        <filter-name>springSecurityFilterChain</filter-name>
        <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>springSecurityFilterChain</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping> 
```

如果我能提供任何其他信息，我会很高兴！我真的很想让这个工作，但我不确定我做错了什么。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T12:22:01.020

Spring Security 附带的[OpenID 示例](http://static.springsource.org/spring-security/site/docs/3.2.x/reference/springsecurity-single.html#openid-sample)可能是一个更好的起点，它是为 Google 和 Yahoo 定制的。

要让它运行，请使用 git 签出源代码

```
git clone git://github.com/SpringSource/spring-security.git 
```

那么它应该像安装[gradle](http://www.gradle.org/)并运行以下命令一样简单。

```
cd spring-security
gradle build
cd samples/openid
gradle jettyRun 
```

将您的浏览器指向`http://localhost:8080/openid`应该会为您提供 OpenID 选择器 UI 以选择您想要进行身份验证的提供者。

# php - 在 wordpress 中哪里可以找到 origing category.php 文件？

> ID：15182033
> 
> 赞同：0
> 
> 时间：2013-03-03T03:09:57.723
> 
> 标签：php, wordpress, content-management-system, wordpress-theming

嗨，我是 wordpress 的新手，我一直在研究一个主题，我想拥有需要添加到主题中的原始 category.php 文件？我试图从在 wordpress 核心上创建的主题中复制 category.php 文件，但主体丢失，在哪里可以找到 wordpress 未定义时将使用的原始 category.php 文件模板在我的主题上？

版本：wordpress 3.5.1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T03:31:13.547

由于模板将具有特定于主题的标记，因此如果您希望页面与您的主题一起使用，则需要对您计划复制的任何文件进行修改。

一个更简单的解决方案是复制您的 page.php 文件并将您的 post 循环替换为 categories 循环。这将允许您轻松维护站点的设计，而无需重新编写任何标记，并且可以通过复制/粘贴类别循环片段来快速完成。

了解这些循环是如何构造的一个很好的起点是 WP 二十二主题：[http ://wordpress.org/extend/themes/twentytwelve](http://wordpress.org/extend/themes/twentytwelve)

更多的文档也可以在这里的法典中找到：http: [//codex.wordpress.org/Category_Templates](http://codex.wordpress.org/Category_Templates)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:29:39.687

模板文件存储在：

```
/wp-content/themes/<theme_name>/ 
```

您可以从主题复制类别模板，但它看起来不像是您的主题的一部分，并且可能由于缺少 CSS 规则而样式错误。

# javascript - 根据选择列表中的所选选项运行函数？（没有 jQuery 是首选）

> ID：15182035
> 
> 赞同：0
> 
> 时间：2013-03-03T03:10:03.727
> 
> 标签：javascript, html, javascript-events

我已经坚持了好几天了，所以我非常感谢你们可以提供的任何帮助。提前致谢！！这是我的问题：

我有一个选择列表：

```
<select id="bandCategories">
  <option>(Choose a category)</option>
  <option>Djent</option>
  <option>Brutal Death Metal</option>
  <option>Deathcore</option>
  <option>Hardcore</option>
  <option>Slam</option>
  <option>Verb the Noun</option>
</select> 
```

以下是与它们相关的变量：

```
var bandCategories = document.getElementById("bandCategories");
var chooseCategoryStr = bandCategories.options[0].text;
var selectedCategory = bandCategories.options[bandCategories.selectedIndex].text; 
```

我有一个函数`bgChange()`，我想在每次所选选项更改时运行，除非选择了默认的“（选择一个类别）”。我尝试了以下方法，但无济于事：

```
if(selectedCategory != chooseCategoryStr){
    selectedCategory.onchange = bgChange(selectedCategory);
}; 
```

帮助？再次感谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:18:16.940

尝试这个

```
 <select id="bandCategories" onchange="fun()">
  <option>(Choose a category)</option>
  <option>Djent</option>
  <option>Brutal Death Metal</option>
  <option>Deathcore</option>
  <option>Hardcore</option>
  <option>Slam</option>
  <option>Verb the Noun</option>
</select>
<script type="text/javascript">
<!--
    function fun()
    {
        var bandCategories = document.getElementById("bandCategories");
        var chooseCategoryStr = bandCategories.options[0].text;
        var selectedCategory = bandCategories.options[bandCategories.selectedIndex].text;
        if(selectedCategory == chooseCategoryStr){
                return;// no need to call your function bgChange
        }

        alert("bgChange(selectedCategory);"); //Call your function bgChange(selectedCategory);
    }
//-->
</script> 
```

您甚至可以在函数中添加编辑而不添加新函数，以 在执行代码之前`bgChange`检查值不等于。`chooseCategoryStr`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:21:23.270

以下 JavaScript 代码应该可以工作。无需更改您的 HTML。

```
var bandCategories = document.getElementById("bandCategories"),
    chooseCategoryStr = bandCategories.options[0].value;

bandCategories.onchange = function () {
    var selectedCategory = this.value;

    if (selectedCategory !== chooseCategoryStr) {
        bgChange(selectedCategory);
    }
}; 
```

这是一个具有预期结果的[jsFiddle 。](http://jsfiddle.net/gBHJu/)

# java - java四舍五入到小数点后两位

> ID：15182039
> 
> 赞同：2
> 
> 时间：2013-03-03T03:10:20.060
> 
> 标签：java

我有一个号码

```
double num = 1.234567; 
```

我试图只保留两位小数

```
num = (int)((num * 100) + 0.5) / 100.0; 
```

但我得到的实际数字是 1.230000000001。我怎样才能摆脱 0000000001 部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:14:49.280

尝试[DecimalFormat](http://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html)：

```
DecimalFormat twoDp= new DecimalFormat("#.##");
Double.valueOf(twoDp.format(num)); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T03:49:17.623

你不能，除非你切换到十进制基数。双精度和浮点数没有小数位，它们有二进制位，因此您不能将它们四舍五入或截断到特定的小数位数，除非值表示一致，即 2 的负幂。

因此，`DecimalFormat`如果要呈现结果，或者`BigDecimal`要继续计算，则必须使用它。

任何以将值转回浮点结束的解决方案都是不正确的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:02:16.237

```
String result = String.format("%.2f", num); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T03:41:07.607

试试这个..这应该解决它

```
 Double num = //value
   num = //arithmetic

   String temp =num.toString().split("\\.")[0];
       int precision=temp.length();
       BigDecimal b =new BigDecimal(num,new MathContext(precision+2));
   System.out.println(b.doubleValue()); 
```

# macos - git svn 返回空存储库

> ID：15182040
> 
> 赞同：1
> 
> 时间：2013-03-03T03:10:27.817
> 
> 标签：macos, git, svn

我正在尝试将我的 ~6GB 本地 subversions 存储库移动到 git 并保留所有历史记录。

```
$ git svn clone --stdlayout --no-metadata -A /Users/dominikwilkowski/Desktop/users.txt file://localhost/Users/dominik/repository/svn/sites /Users/dominik/repository/git/sites 
```

该命令将运行而不会出现任何错误或反馈，最终将创建一个空存储库。

我的svn版本是：

```
$ svn --version
svn, version 1.7.8 (r1419691)
   compiled Dec 13 2012, 15:48:59

Copyright (C) 2012 The Apache Software Foundation.
This software consists of contributions made by many people; see the NOTICE
file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_neon : Module for accessing a repository via WebDAV protocol using Neon.
  - handles 'http' scheme
  - handles 'https' scheme
* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - handles 'http' scheme
  - handles 'https' scheme 
```

和我的 git 版本：

```
$ git --version
git version 1.7.12.4 (Apple Git-37) 
```

我使用[Tower](http://www.git-tower.com/)作为我的新 git 客户端和[版本](http://www.versionsapp.com)作为我的 subversions 客户端，但一直在尝试手动克隆，因为 Tower 因依赖问题而失败......

在这一点上，任何帮助表示赞赏。

ps对于移动过程本身我找到[了这个](https://stackoverflow.com/a/3972103)非常详细的答案

# linux - linux：使用clone的函数性能而不使用clone()或sys_clone，我可以这样做吗？

> ID：15182042
> 
> 赞同：1
> 
> 时间：2013-03-03T03:10:37.517
> 
> 标签：linux, clone, sys

我想尝试执行克隆的性能，但没有在 linux 中调用 clone()（错误表示库未在该结构中实现）。

我尝试检查 sys_clone 但发现不可能，因为参数是一些寄存器信息；

还尝试使用 pthread 来模仿克隆的性能，但因为： pthread_create(&tid, NULL,foo,para) 和函数 foo 如果我使用 void* foo(void* para){ execvp(...) } execvp 不能被执行，因为 pthread 创建线程并且线程不能调用该 exec。

任何人都可以告诉我如何在不使用系统调用克隆的情况下实现克隆，或者我是否可以在 pthread 中做到这一点？或者 linux 中是否有任何其他函数调用 sys_clone 而不使用 register 参数但 clone_flags？

谢谢！

# android - Android 在枚举中使用 Drawables

> ID：15182045
> 
> 赞同：3
> 
> 时间：2013-03-03T03:10:50.513
> 
> 标签：android, enums, drawable

我有一个项目，我必须设计一系列硬币并使用它。我的 GUI 看起来像这样 - [http://i.imgur.com/eRzN3Sb.png](http://i.imgur.com/eRzN3Sb.png)

我希望能够从 coinArray 为每个硬币加载适当的图像。基本上我想能够说*coinView.setBackgroundResource(coinArray[x].image)* 我假设我需要以某种方式使用可绘制对象，我希望它可以包含在我的枚举类中。枚举类看起来像

```
public enum Currency {
    Penny(1), Nickel(5), Dime(10), Quarter(25);
    private int value;
    private Currency(int value) {
            this.value = value;

    }

} 
```

数组中的每个硬币都有一个货币值，所以我可以计算它们。我想添加一个可绘制对象或其他一些对象，让我可以为每个硬币引用正确的图像。

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-03T03:18:28.120

```
public enum Currency {
    Penny(1,R.drawable.xxx), Nickel(5,R.drawable.yyy),...;
    private int value;
    private int image
    private Currency(int value,int drawableId) {
            this.value = value;
            this.image=drawableId;

    }
    public int getImage(){
       return image;
    }

} 
```

有很多方法可以做到这一点。这是其中之一。使用它：

```
coinView.setImageResource(coinArray[x].getImage()); 
```

# ruby-on-rails - Rails & Postgresql：如何按小时对查询进行分组？

> ID：15182051
> 
> 赞同：7
> 
> 时间：2013-03-03T03:11:49.807
> 
> 标签：ruby-on-rails, postgresql, time, group-by

如何在 Postgres & Rails 中按小时分组？我已经阅读了很多 SO 答案，但我遇到了错误。

这在按日期分组时有效：

```
Model.group("date(updated_at)").count 
```

然后我尝试了以下几个小时，但没有奏效：

```
Model.group("hour(updated_at)").count
Model.group("date_format(updated_at, '%H')").count
Model.group("extract(hour from updated_at)").count 
```

一旦我找到了需要更新的特定时间，我将如何获得这些时间的模型？IE：

```
Model.where("hour(updated_at) = ?", 5) 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-03T03:17:45.357

你可以试试以下

```
Model.group("DATE_PART('hour', updated_at)").count 
```

**更新：**

如何查找记录

```
Model.where("DATE_PART('hour', updated_at) = ?", 5) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-02T14:47:38.967

PostgreSQL 提供了两种方法来提取日期/时间的一部分：

`EXTRACT`是存在于其他基于 SQL 的数据库中的 SQL 标准函数。

```
Model.group("EXTRACT(hour FROM created_at)").count
Model.where("EXTRACT(hour FROM created_at) = ?", 5) 
```

`date_part`功能

```
Model.group("date_part('hour', updated_at)").count
Model.where("date_part('hour', updated_at) = ?", 5) 
```

官方[文档](https://www.postgresql.org/docs/9.6/static/functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-01-22T22:42:28.217

如果你想要日期和小时，你可以使用 date_trunc：

`Model.group("date_trunc('hour', created_at)").count`

如果你想按顺序回答：

`Model.order("date_trunc('hour', created_at)").group("date_trunc('hour', created_at)").count`

是的，很奇怪，你不能只是做得`order(:created_at)`很好。

# winforms - 尝试在 C# 中使用 ActiveX 控件加载 PDF 文件时出现 COMException 错误

> ID：15182052
> 
> 赞同：2
> 
> 时间：2013-03-03T03:11:51.373
> 
> 标签：winforms, pdf, c#-3.0

我正在为 Windows 桌面使用 VS 2012 Express。

```
private void button1_Click(object sender, EventArgs e)
{
    DialogResult result = openFileDialog1.ShowDialog();
    if (result == DialogResult.OK)
    {
        axAcroPDF1.LoadFile(openFileDialog1.FileName);
    }
} 
```

我使用 Acrobat Reader ActiveX 控件；将其放入一个表格中。我正在尝试加载 PDF 文件。但我收到以下错误消息：

> System.Windows.Forms.dll 中出现“System.Runtime.InteropServices.COMException”类型的未处理异常
> 
> 附加信息：未注册类（HRESULT 异常：0x80040154 (REGDB_E_CLASSNOTREG)）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T10:18:42.360

您是否有可能在 64 位 Windows 上构建“x64”目标或“任何 CPU”？根据这篇文章[在 WPF 应用程序中使用 Adob​​e Reader，](http://www.codeproject.com/Articles/380019/Using-Adobe-Reader-in-a-WPF-app) Acrobat DLL 是 32 位的，因此必须在“x86”32 位版本中运行。

> 引用文章：“此外，由于当前没有 x64 版本的 Acrobat DLL，因此明智的做法是确保将目标平台设置为 x86（位于项目属性的构建选项卡上），否则会出现错误{"Class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG))"} 将会发生——如果你问我，那就太神秘了！”</p>

# python - 扁平化 Django South 迁移？

> ID：15182053
> 
> 赞同：3
> 
> 时间：2013-03-03T03:12:03.380
> 
> 标签：python, django, django-south

我已经读过，在将新代码推向生产之前，应该扁平化（南）迁移。“扁平化迁移”是什么意思，为什么推荐它，在南方是如何做到的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:59:59.027

扁平化迁移意味着基本上只是将所有迁移分块在一起，以便在迁移变得相当大时减少迁移的运行时间。这是可能的，但不建议这样做，因为您将丢失所有迁移历史记录，从而使您运行的每个迁移都从 0 开始。

我没有在任何地方读到“推荐”扁平化，所以我不能给你这条建议，如果你有链接，我很乐意阅读。

我读过 Ruby on Rails 有这个功能，但也不推荐在那里。

首先考虑这些问题：

*   这是你真正想要的吗？你会失去所有的历史。
*   这将导致迁移到版本 0，然后再次备份，这将经常进行

如果这样做是为了阻止任何丢失或乱序的迁移，我会使用

```
python manage.py schemamigration myapp --merge 
```

或最后但并非最不重要的更新最新迁移使用`--update`

* * *

我在谷歌搜索时发现了这个问题，并认为它可以作为参考，它又包含指向其他 4 个问题的链接。

[Rails 中的聚合迁移](https://stackoverflow.com/questions/7678858/aggregate-migrations-in-rails)

# python-3.x - 比较Python中彩票程序的两位数字

> ID：15182057
> 
> 赞同：2
> 
> 时间：2013-03-03T03:12:33.247
> 
> 标签：python-3.x

我在我的 python 类中有一个我正在努力的作业。

## 程序

这是基本前提：彩票计划。程序随机生成一个两位数，提示用户输入两位数，根据以下规则判断用户是否中奖：

1.  如果用户的输入与彩票的顺序*完全一致*，则奖金为 10,000 美元
2.  如果用户输入的所有数字都与彩票号码中的所有数字匹配，则奖金为 1,000 美元
3.  如果用户输入的一位数字与彩票号码中的一位数字匹配，则奖金为 1,000 美元

## 基本格式

基本上，我使用 randint 生成一个两位数（比如说它生成 58）然后*用户*输入一个相同长度的数字（虽然没有指定，但为了简单起见，假设数字是 10 到 99）

然后通过一系列嵌套的 if 将数字与 3 个结果和 1 个异常进行比较。

## 问题：

我不知道如何以指定的方式比较数字。我知道所有基本运算符，但在这种情况下，我看不到使用它们的方法（除了可以使用 == 的完全匹配的数字）。我正在考虑一个数组（来自我的 C/C++ 类），但我不确定如何在这里实现它。这是我到目前为止所做的：

```
import random
import time

##Declare Variables
usernum=0.0
lottery_num=random.randint(10,99)
##Input
print("Welcome to the Lottery Program!")
usernum=int(input("Please enter a two digit number: "))
print("Calculating Results.")
for i in range(3):
  time.sleep(1)
  print(".")
##Calc & Output
if lottery_num==usernum:
  print("All your numbers match in exact order! Your reward is $10,000!\n")
elif lottery_num==                #WHAT DO HERE?
  print("All your numbers match! Your reward is $3,000!\n")
elif lottery_num==                #WHAT DO HERE?
  print("One of your numbers match the lottery. Your reward is $1,000!\n")
else:
 print("Your numbers don't match! Sorry!") 
```

## 解决方案

在你们的帮助下，我终于想出了如何做到这一点！非常感谢！这是给那些对我所做的感兴趣的人的完整作业。

```
import random
import time

##Declare Variables
user_num=0
##lottery_num=random.randint(10,99)
lottery_num=12

##Input
print("Welcome to the Lottery Program!")
user_num=int(input("Please enter a two digit number: "))
print("Calculating Results.")
for i in range(3):
  time.sleep(1)
  print(".")

##Calc & Output
lottery_tens = lottery_num // 10
lottery_ones = lottery_num % 10

user_tens = user_num // 10
user_ones = user_num % 10

if lottery_num == user_num:
    print("All your numbers match in exact order! Your reward is $10,000!\n")
elif lottery_tens == user_ones and lottery_ones == user_tens:
    print("All your numbers match! Your reward is $3,000!\n")
elif lottery_tens == user_tens or lottery_ones == user_ones \
  or lottery_ones == user_tens or lottery_tens == user_ones:
    print("One of your numbers match the lottery. Your reward is $1,000!\n")
else:
    print("Your numbers don't match! Sorry!")

##Same as Calc & Output using Sets.
##lottery_set = set('%02d' % lottery_num)
##user_set = set('%02d' % user_num)
##if lottery_num == user_num:
##    print("All your numbers match in exact order! Your reward is $10,000!\n")
##elif lottery_set == user_set:
##    print("All your numbers match! Your reward is $3,000!\n")
##elif lottery_set.intersection(user_set):
##    print("One of your numbers match the lottery. Your reward is $1,000!\n")
##else:
##    print("Your numbers don't match! Sorry!") 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-04T04:28:47.953

你可以使用集合。

```
lottery_set = set('%02d' % lottery_num)
user_set = set('%02d' % user_num)
if lottery_num == user_num:
    print('10000')
elif lottery_set == user_set:
    print('3000')
elif lottery_set.intersection(user_set):
    print('1000')
else:
    print('0') 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-03T03:42:53.083

作为使用字符串进行比较的替代方法，我建议使用算术分别获取数字的十位和个位：

```
tens = num // 10 # the // operator does integer division
ones = num % 10  # the % operator finds the modulus 
```

如果你同时使用你的值`usernum`和`lotterynum`值，那么你可以找出它们是如何匹配的。由于这听起来像是一项家庭作业，我将把细节留给你！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-03T03:17:50.553

就一个想法而言，我会说将您的号码转换为字符串，然后使用该字符串中的字符来确定获胜组合（例如：相同的字符相同的位置，相同的字符不同的位置等）

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-03T03:24:13.087

那么这里有一些可以帮助你的东西，你可以这样做：

```
if(str(lottery_num)[0] == str(usernum)[0]):
    print "True" 
```

内置`str`函数会将您的整数转换为字符串。在上面的示例中，它将让您将字符串的第一个元素与用户字符串的第一个元素进行比较。使用这种访​​问方式，您可以通过这种方式解决您的问题。在这种`0`情况下， 表示第一个元素，类似于 char 数组。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-03T03:23:24.247

您需要隔离数字，以便它们可以相互独立地进行比较。

一种简单的方法是将数字转换为字符串，然后比较单个字符。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T03:21:07.620

这是完整的作业:)

```
import random
import time

##Declare Variables
user_num=0
##lottery_num=random.randint(10,99)
lottery_num=12

##Input
print("Welcome to the Lottery Program!")
user_num=int(input("Please enter a two digit number: "))
print("Calculating Results.")
for i in range(3):
  time.sleep(1)
  print(".")

##Calc & Output
lottery_tens = lottery_num // 10
lottery_ones = lottery_num % 10

user_tens = user_num // 10
user_ones = user_num % 10

if lottery_num == user_num:
    print("All your numbers match in exact order! Your reward is $10,000!\n")
elif lottery_tens == user_ones and lottery_ones == user_tens:
    print("All your numbers match! Your reward is $3,000!\n")
elif lottery_tens == user_tens or lottery_ones == user_ones \
  or lottery_ones == user_tens or lottery_tens == user_ones:
    print("One of your numbers match the lottery. Your reward is $1,000!\n")
else:
    print("Your numbers don't match! Sorry!")

##Same as Calc & Output using Sets.
##lottery_set = set('%02d' % lottery_num)
##user_set = set('%02d' % user_num)
##if lottery_num == user_num:
##    print("All your numbers match in exact order! Your reward is $10,000!\n")
##elif lottery_set == user_set:
##    print("All your numbers match! Your reward is $3,000!\n")
##elif lottery_set.intersection(user_set):
##    print("One of your numbers match the lottery. Your reward is $1,000!\n")
##else:
##    print("Your numbers don't match! Sorry!") 
```

# java - 如何在Java中递减数组？

> ID：15182058
> 
> 赞同：0
> 
> 时间：2013-03-03T03:12:41.647
> 
> 标签：java, arrays, char, decrement

这是我开始的代码。

```
static char[] a1 = {'a', 'b', 'c', 'd', 'e'};
static char[] a2 = {'a', 'c', 'd', 'c'};

        for (int i = 1; i <= 5 ; i++) {

            if( a1[i] == a2[i] ){
                sop(a2[i] + "");
            }else{

                if( a1[i] > a2[i] ){
                    sop("");
                }else if( a1[i] < a2[i] ){
                    sop("-");
                    a2[i] = a2[i-1];
                }

            }
        } 
```

我想知道你如何减少线路`a2[i] = a2[i-1]`。我做对了吗？

最后，我试图对齐`a1`和`a2`. 所以我可以得到输出：

```
ABCDE
A-CD-C 
```

笔记：`sop = System.out.print`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:32:00.143

如果我明白你的想法，在使用减量时，你可能试图减少第二个数组的索引使用？如果是这样，它不会那样工作。此外还有数组寻址等问题（Java 索引数组元素从位置 0，而不是位置 1。

无论如何，对于您的问题陈述，您可以尝试：

```
static char[] a1 = {'a', 'b', 'c', 'd', 'e'};
static char[] a2 = {'a', 'c', 'd', 'c'};

for(int k=0;k<a1.length;k++)
    System.out.print(a1[k]);
System.out.println();

for (int i = 0, j=0 ; i<a1.length && j<a2.length ; i++, j++)
{
    if( a1[i] == a2[j] )
        System.out.print(a2[j]);
    else if( a1[i] < a2[j] )
    {
        System.out.print("-");
        j--;
    }

} 
```

# javascript - 具有不同宽度的两列 Masonry jQuery？

> ID：15182062
> 
> 赞同：1
> 
> 时间：2013-03-03T03:13:49.730
> 
> 标签：javascript, jquery, jquery-masonry

我目前正在使用[Masonry](http://masonry.desandro.com)开发自定义主题。我成功地实现了砌体，但不幸的是，我不知道如何实现不同大小的两列。

要清楚地了解我正在尝试做的事情，您可以查看图像：

![在此处输入图像描述](../Images/4a3735f022d9797d185aefa74ae40d88.png)

我遇到的问题是我只能做出类似的宽度。在我的示例中，我希望第一列*（假设）*宽度 = 250px，第二列是 comlumn = 400px。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:26:12.390

我想解决方法如下

```
$('.col2').css({'width':400});
$('.col1').css({'width':250}); 
```

应用插件后。并根据需要编辑其他属性

# plone - 尝试创建新的灵巧对象时出现 ComponentLookupError

> ID：15182063
> 
> 赞同：1
> 
> 时间：2013-03-03T03:13:51.400
> 
> 标签：plone, dexterity

我正在关注有关操作灵巧内容对象[的教程。](http://plone.org/products/dexterity/documentation/manual/developer-manual/reference/manipulating-content-objects)它解释了如何创建对象。

```
from zope.component import createObject
context = createObject('example.type') 
```

但我不知道该放什么`example.type`。我尝试使用`IProduct`,`degu.product.IProduct`和`degu.Product`. 但是它们都引发了 ComponentLookupError。

```
Traceback (most recent call last):
  File "<console>", line 1, in <module>
  File "/home/daniel/.buildout/eggs/zope.component-3.9.5-py2.6.egg/zope/component/_api.py", line 220, in createObject
    return getUtility(IFactory, __factory_name, context)(*args, **kwargs)
  File "/home/daniel/.buildout/eggs/zope.component-3.9.5-py2.6.egg/zope/component/_api.py", line 169, in getUtility
    raise ComponentLookupError(interface, name)
ComponentLookupError: (<InterfaceClass zope.component.interfaces.IFactory>, 'degu.commerce.product.IProduct') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T11:41:16.463

您需要使用在[Dexterity FTI 注册](http://plone.org/products/dexterity/documentation/manual/developer-manual/schema-driven-types/the-fti)中使用的相同名称。

您可以验证在该`portal_types`工具中注册了哪些名称：

```
from Products.CMFCore.utils import getToolByName

typestool = getToolByName(context, 'portal_types')
print typestool.listContentTypes() 
```

或`portal_types`在浏览器中访问 ZMI 中的工具并查看那里的类型列表；它们`typeid (Type Title)`在工具中列出。如果您的类型未在此处列出，请确保您首先正确注册了您的类型。

请注意，要使其正常工作，您需要正确设置本地组件管理器。通常，这会自动发生，但如果您使用的是`bin/instance run`script 或 use `bin/instance debug`，则不会发生。在这种情况下，您需要手动执行此操作：

```
from zope.app.component.hooks import setSite
from Testing.makerequest import makerequest

app = makerequest(app)
site = app[site_id]
setSite(site) 
```

您可能还想设置一个当前用户：

```
from AccessControl.SecurityManagement import newSecurityManager

user = app.acl_users.getUser('admin').__of__(site.acl_users)
newSecurityManager(None, user) 
```

# ruby - Ruby 块到数组

> ID：15182069
> 
> 赞同：1
> 
> 时间：2013-03-03T03:15:19.607
> 
> 标签：ruby, lambda, block, proc

我正在尝试在方法中采用块参数，并将内容（符号数组）转换为数组。例如：

```
def sequence(&block)
  # ?
end

sequence do
  :foo,
  :bar,
  :foobar
end # => [:foo, :bar, :foobar] 
```

我知道在方法中只使用一个数组作为参数会更容易`sequence`，但我试图与另一种方法保持一致。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T03:21:38.113

这种语法在 Ruby 中是不允许的，所以不幸的是这是不可能的，因为代码甚至无法通过解析器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:33:53.357

好吧，没有回答确切的问题，我想你和[德克](https://stackoverflow.com/users/189079/dirk)知道这一点，但是......

如果有人想要一个`Array`作为参数并且他们的搜索将他们带到这里，Ruby 确实有一个基本功能可以为您做类似的事情：

```
def f *x
  x
end

p f :foo,
    :bar,
    :foobar 

# => [:foo, :bar, :foobar] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:45:26.627

虽然您建议的语法不会通过解析器，但有一些调整：

```
def sequence(&block)
  yield
end

sequence do [
  :foo,
  :bar,
  :foobar
] end # => [:foo, :bar, :foobar]

sequence do _= 
  :foo,
  :bar,
  :foobar
end # => [:foo, :bar, :foobar] 
```

# java - 如何使用 javax.net.ssl 指定密钥密码？

> ID：15182071
> 
> 赞同：8
> 
> 时间：2013-03-03T03:15:31.283
> 
> 标签：java, ssl, openssl, jetty, keystore

我在使用 Java SSL 时遇到了困难。问题是我的钥匙有密码。当我使用命令生成密钥`openssl req -new -newkey rsa:1024 -nodes -out local.csr -keyout local.key`时，当被要求时`A challenge password []:`，我输入了`MyKeyPass`。然后我从证书颁发机构获得了证书。然后我将证书导入 KeyStore 和 TrustStore。

我的一个应用程序基于 Jetty 并使用 Maven 运行，另一个使用原始套接字，我没有使用 Maven。

当我将证书与 Jetty 一起使用时，使用以下配置，一切正常：

```
<connector implementation="org.mortbay.jetty.security.SslSelectChannelConnector">
  <port>443</port>
  <maxIdleTime>30000</maxIdleTime>
  <keystore>keys/domain.jks</keystore>
  <password>KeyStorePass</password>
  <keyPassword>MyKeyPass</keyPassword>
  <truststore>keys/truststore_domain.jks</truststore>
  <trustPassword>TrustStorePass</trustPassword>
</connector> 
```

但是，对于不使用 Jetty/Maven 的 App，以下配置不起作用：

```
-Djavax.net.ssl.keyStore=./keys/domain.jks \
-Djavax.net.ssl.keyStorePassword=KeyStorePass \
-Djavax.net.ssl.trustStore=./keys/truststore_domain.jks \
-Djavax.net.ssl.trustStorePassword=TrustStorePass \ 
```

我收到以下错误：

```
Caused by: java.security.UnrecoverableKeyException: Cannot recover key
    at sun.security.provider.KeyProtector.recover(KeyProtector.java:328)
    at sun.security.provider.JavaKeyStore.engineGetKey(JavaKeyStore.java:138)
    at sun.security.provider.JavaKeyStore$JKS.engineGetKey(JavaKeyStore.java:55)
    at java.security.KeyStore.getKey(KeyStore.java:792)
    at sun.security.ssl.SunX509KeyManagerImpl.<init>(SunX509KeyManagerImpl.java:131)
    at sun.security.ssl.KeyManagerFactoryImpl$SunX509.engineInit(KeyManagerFactoryImpl.java:68)
    at javax.net.ssl.KeyManagerFactory.init(KeyManagerFactory.java:259)
    at sun.security.ssl.SSLContextImpl$DefaultSSLContext.getDefaultKeyManager(SSLContextImpl.java:621)
    at sun.security.ssl.SSLContextImpl$DefaultSSLContext.<init>(SSLContextImpl.java:486)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    at java.lang.Class.newInstance0(Class.java:372)
    at java.lang.Class.newInstance(Class.java:325)
    at java.security.Provider$Service.newInstance(Provider.java:1238)
    ... 12 more 
```

当然，它缺少 KeyPassword ( `MyKeyPass`)。我一直在尝试找到如何使用`-Djavax.net.ssl`语法来指定它，但似乎找不到它。如何指定密钥密码？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T04:05:15.783

您不能通过这些系统属性来做到这一点：您必须使用与密钥库密码相同的默认值。或者安装一个自定义的 KeyManager。

# java - While 循环在第一个错误之后一遍又一遍地返回错误

> ID：15182077
> 
> 赞同：1
> 
> 时间：2013-03-03T03:16:30.237
> 
> 标签：java, validation, while-loop

在一个while循环中，我使循环在一次无效输入后不会返回有效答案并重复“错误！无效的客户类型。再试一次。” 一遍又一遍，直到我关闭程序。如果我第一次输入 R 或 C 作为输入，它可以正常工作。当我输入其他任何内容时，我收到错误消息“错误！客户类型无效。再试一次。” 就像我应该是故意的。但是，在输入 r 或 c 的错误之后再次给我错误，并且我所做的任何输入都会一遍又一遍地返回错误消息，直到我关闭程序。有人可以告诉我导致这种情况的代码有什么问题吗？

```
public static String getValidCustomerType(Scanner sc)
{
    String customerType = ("");
      System.out.println("Enter the Customer Type");
      customerType = sc.next() ;
      boolean isValid = false;
      while (isValid == false)
      {
       if (customerType.equalsIgnoreCase("R")|customerType.equalsIgnoreCase("C") ) 
       {
         isValid = true;
       }
       else
       {
          System.out.println("Error! Invalid customer type. Try again ");
       }   
       sc.nextLine() ;
      }
   return customerType ;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:21:55.103

我认为您必须在 while 循环内移动输入调用。否则 customerType 变量总是相同的。

```
public static String getValidCustomerType(Scanner sc)
{
    String customerType = ("");
      System.out.println("Enter the Customer Type");
      // move this to while loop
      //customerType = sc.next() ;
      boolean isValid = false;
      while (isValid == false)
      {
       // get input here
       customerType = sc.next() ;
       if (customerType.equalsIgnoreCase("R")|customerType.equalsIgnoreCase("C") ) 
       {
         isValid = true;
       }
       else
       {
          System.out.println("Error! Invalid customer type. Try again ");
       }   
       sc.nextLine() ;
      }
   return customerType ;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:23:49.753

试试这个：（`|`按位或）与`||`布尔或运算符不同。其次，您不再分配`customerType`- 修复如下。

```
while (isValid == false)
  {
   if (customerType.equalsIgnoreCase("R")||customerType.equalsIgnoreCase("C") ) 
   {
     isValid = true;
   }
   else
   {
      System.out.println("Error! Invalid customer type. Try again ");
   }   
    customerType = sc.nextLine() ;
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T03:26:00.763

您没有分配到`customerType`while 循环内。最好还是把它移到开头。

```
public static String getValidCustomerType(Scanner sc)
{
    String customerType = ("");

      boolean isValid = false;
      while (isValid == false)
      {
          System.out.println("Enter the Customer Type");
          customerType = sc.nextLine() ;
       if (customerType.equalsIgnoreCase("R")|customerType.equalsIgnoreCase("C") ) 
       {
         isValid = true;
       }
       else
       {
          System.out.println("Error! Invalid customer type. Try again ");
       }   
      }
   return customerType ;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T03:46:24.900

我建议将 do while 循环与哨兵一起使用。这保证了代码至少执行[一次](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)。

```
 public static String getValidCustomerType(Scanner sc) {
        String customerType;
        boolean isValid = false;

        System.out.println("Enter the Customer Type");

        do {
            customerType = sc.next();

            if (customerType.equalsIgnoreCase("R")|customerType.equalsIgnoreCase("C") )  {
                isValid = true;
            } else {
                System.out.println("Error! Invalid customer type. Try again ");
            }   
        } while(!isValid);

        return customerType ;
    } 
```

# python - python 不正确的格式西里尔文

> ID：15182078
> 
> 赞同：1
> 
> 时间：2013-03-03T03:16:51.110
> 
> 标签：python, python-2.7

```
def inp(text):
    tmp = str()
    arr = ['.' for x in range(1, 40 - len(text))]
    tmp += text + ''.join(arr)
    print tmp

s=['tester', 'om', 'sup', 'jope']
sr=['тестер', 'ом', 'суп', 'жопа']
for i in s:
    inp(i)
for i in sr:
    inp(i) 
```

输出：

```
tester.................................
om.....................................
sup....................................
jope...................................

тестер...........................
ом...................................
суп.................................
жопа............................... 
```

为什么 Python 不能正确处理西里尔字母？线的末端不是笔直和杂乱无章的。使用格式也是如此。如何纠正？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:48:14.583

读这个：

*   [http://docs.python.org/2/howto/unicode.html](http://docs.python.org/2/howto/unicode.html)

基本上，函数的`text`参数`inp`是一个字符串。在 Python 2.7 中，字符串默认为字节。当以 utf-8 编码进行编码时，西里尔字符不会 1-1 映射到字节，但需要一个以上的字节（在 utf-8 中通常为 2），所以当你这样做时，`len(text)`你不会得到字符数，而是数字字节数。

为了获得字符数，您需要知道您的编码。假设它是 utf-8，您可以将文本解码为该编码，它会正确打印：

```
#!/usr/bin/python
# coding=utf-8
def inp(text):
    tmp = str()
    utext = text.decode('utf-8')
    l = len(utext)
    arr = ['.' for x in range(1, 40 - l)]
    tmp += text + ''.join(arr)
    print tmp

s=['tester', 'om', 'sup', 'jope']
sr=['тестер', 'ом', 'суп', 'жопа']
for i in s:
    inp(i)
for i in sr:
    inp(i) 
```

重要的几行是这两行：

```
 utext = text.decode('utf-8')
    l = len(utext) 
```

您首先解码文本的地方，这会产生一个 unicode 字符串。之后，您可以使用内置`len`来获取字符长度，这就是您想要的。

希望这可以帮助。

# ios - iOS 简单认证

> ID：15182088
> 
> 赞同：0
> 
> 时间：2013-03-03T03:18:27.623
> 
> 标签：ios, authentication

我是新手，正在尝试找出一些简单的任务。

我有两个视图控制器。

第一个是登录屏幕。

它有两个字段和一个登录按钮。

如果用户输入的用户名和密码正确，我只想将他们引导到下一个视图。

现在，如果我单击登录按钮，它将转到第二个屏幕。

我想知道如何验证用户名和密码（可以硬编码），如果它不正确，那么不要进入下一个屏幕。如果正确，则转到下一个屏幕。

我知道这很简单，但由于某种原因我找不到任何东西。

头文件#import

```
@interface ViewController : UIViewController

@property (weak, nonatomic) IBOutlet UITextField *userNameField;
@property (weak, nonatomic) IBOutlet UITextField *passwordField;
- (IBAction)LoginButton:(id)sender;
- (IBAction)backgroundClick:(id)sender;

@end 
```

主文件

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize userNameField, passwordField;
- (void)viewDidLoad
{

    [super viewDidLoad];

    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];

    // Dispose of any resources that can be recreated.
}

- (IBAction)LoginButton:(id)sender {
}

- (IBAction)backgroundClick:(id)sender {
    [userNameField resignFirstResponder];
    [passwordField resignFirstResponder];
}
@end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:24:03.653

如果你想检查你的用户名和密码，那么你应该在你的方法中这样检查

```
- (IBAction)LoginButton:(id)sender {

    if([userNameField.text isEqualToString:@"username"] && [passwordField.text isEqualToString:@"pwd"]){

    NewViewController *newViewController=[[NewViewController alloc]initWithNibName:@"NewViewController" bundle:nil];
        [self presentViewController:newViewController animated:YES completion:nil];

    }
    else {

      NSLog(@"username or password is correct");

     }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T03:23:14.567

在你的

```
- (IBAction)LoginButton:(id)sender {
} 
```

方法，你需要实现这样的东西：

```
if([userNameField.text isEqualToString:@"userName"] && [passwordField.text isEqualToString:@"password"]){
    NSLog)@"successful login");
    //then load your new view
    YourViewController *yourVC=[[YourViewController alloc] initWithNibName:@"yourVC" bundle:[NSBundle mainBundle]];
    [self presentViewController:yourViewController animated:YES completion:nil];
}
else{
    NSLog(@"Invalid UserName Password");
    UIAlertView *alertView=[[UIAlertView alloc]initWithTitle:@"Login Failed"    
                           message:@"Invalid user name and/or password"
                          delegate:self 
                 cancelButtonTitle:@"OK" 
                 otherButtonTitles:nil, nil];
    [alertView show];
} 
```

# c# - 仅编辑某些字段和“SaveChanges”用默认值填充缺失的字段

> ID：15182091
> 
> 赞同：0
> 
> 时间：2013-03-03T03:18:57.877
> 
> 标签：c#, asp.net, asp.net-mvc, asp.net-mvc-4

我有一个模型课，

```
public class MyModel 
{ 
    public int A { get; set; }
    public int B { get; set; }
    public int C { get; set; }
    public DateTime D { get; set; }
} 
```

在编辑屏幕中，我只需要编辑'A和B。下面将用默认值（0和'0001-01-01'覆盖C和D。如何保留现有值（在数据库表中） C 和 D 除了将它们包含在视图中并隐藏它们吗？

```
[HttpPost]
public ActionResult Edit(MyModel myModel)
{
    if (ModelState.IsValid)
    {
        _db_Entry(myModel).State = EntityState.Modified;
        _db.SaveChanges();
    }
    return View(myModel);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:46:12.927

我不确定你的模型到底是什么样子，但在你的控制器中，我通常这样做：

```
[HttpPost]
public ActionResult Edit(MyModel myModel)
{
    if (ModelState.IsValid)
    {
        var existEntry = _db.YourEntity.firstOrDefault(o => A == o.A);
        if(existEntry != null){
          existEntry.A = myModel.A;
          existEntry.B = myModel.B;
          _db.SaveChanges();
        }        
    }
    return View(myModel);
} 
```

当然，这实际上取决于您获取现有条目的模型细节，也许您不喜欢这种方法，在这种情况下，其他答案可能更适合您的需求。

编辑：基本上，我通常处理此问题的方式是从数据库中获取现有对象，对其进行更新，然后提交更改，从而仅更新您关心的属性，其余的保持原样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T09:39:31.313

您可以使用[UpdateModel](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.updatemodel%28v=vs.100%29.aspx)（或[TryUpdateModel](http://msdn.microsoft.com/en-us/library/system.web.mvc.controller.tryupdatemodel%28v=vs.100%29.aspx)）。它更新现有实体，但仅适用于它可以在值提供者中找到的属性；其他属性保持不变。

通常你会这样使用它：

```
[HttpPost]
public ActionResult Edit(int id, TModel model, string returnUrl)
{
    // Invalid model; redisplay view
    if (!ModelState.IsValid) return View();

    var entity = db.Entity.Find(id);

    // Entity not found; return 404
    if (entity == null) return HttpNotFound();

    // Everything OK; update entity and redirect back
    UpdateModel(entity);
    db.SaveChanges();
    return Redirect(returnUrl);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T03:22:22.787

创建一个具有 A 和 B 属性的视图模型。

```
public class ViewModel 
{
  public int A {get;set;}
  public int B {get;set;}
} 
```

然后将此作为您的控制器中的参数，然后将其映射到您的模型类。

# ruby - 如何在 ruby on rails 中使用 Ajax？

> ID：15182092
> 
> 赞同：2
> 
> 时间：2013-03-03T03:19:18.297
> 
> 标签：ruby, ajax, json

看了几篇关于 ROR 中 Ajax 的文章后，我仍然对如何使用 Ajax 感到困惑！

在我的项目中有一个`main/index.html`and 。`main_controller`我想实现如下所述的功能：

单击链接中的链接后`index.html`，RSS 内容将显示在索引中。我已经通过跳转到另一个网页来实现该功能。但是我不知道如何使用 Ajax ......

# 指数

```
 <h1>Listing Jobs</h1>
<table>
    <tr>
        <th>Source</th>
        <th></th>
    </tr>
<% @jobs.each do |job| %>
    <tr>
        <td><%= job.source %></td>
        <td>
            <%= link_to 'Show', #:controller=>'main', :action=>'show',
                :id=>job.id,:remote=>true, "data-type"=>:json, :class=>'updateJob'%>
        </td>
    </tr>
<% end %>
</table> 

<script type="text/javascript" charset="utf-8">

$(function(){
#   $('#'+job.id).bind("click",function(){
#       $('#showJob').append('Hi')
#   })

$('#'+job.id).bind("ajax:success",function(data, status, xhr){
    ("<h1>hello</h1>").appendTo("#showJob") 
})

})
</script> 
```

# 显示.html

```
<div id="showJob">
    </div>
<table>
    <tr>
        <th>Source</th>
        <th>Link</th>
    </tr>
<% @feed.items.each do |item| %>
    <tr>
        <th><%= item.title %></th>
        <th><%= item.link  %></th>
    </tr>
<% end %>

</table> 
```

# 主控制器

```
require 'rss'
require 'rss/1.0'
require 'rss/2.0'
require 'open-uri'

class MainController < ApplicationController
    #get /jobs
    def index
        @jobs=Job.all

        respond_to do |format|
            format.html # index.html.erb
            format.json {render:json=>@jobs}
        end
    end

    def welcome
        @num_sources =Job.count
    end

    def show
        job=Job.find(params[:id])
        url=job.url
        open(url) do |rss|
            @feed = RSS::Parser.parse(rss)
        end

        respond_to do |format|
        # format.html do
        #   render :partial=>'main/show'
        # end
        format.json {render :json=>@feed}
        end
    end

end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:24:52.530

不要绑定到`click`事件，而是为要处理的 ajax 事件添加绑定。通常，这将包括以下`ajax:success`事件：

```
$(function(){
    $('#'+job.id).on("ajax:success", function(data, status, xhr){
        // do something with 'data' json object
    });
}); 
```

可在[此处](https://github.com/rails/jquery-ujs/wiki/ajax)找到完整的事件列表。

要让控制器在渲染时使用“json”格式，请将链接更改为如下所示：

```
<%= link_to 'Show', { :controller=>'main', :action=>'show', :id=>job.id }, 
                    :data => {:remote=>true, :type=>:json}, :class=>'updateJob'%> 
```

请注意，构成 url（控制器、操作、id）的散列需要在与其他属性分开的散列中传递才能正常工作。如果您将作业设置为`routes.rb`文件中的资源，则可以使这更简单：

```
<%= link_to 'Show', job, :data => {:remote=>true, :type=>:json}, :class=>'updateJob'%> 
```

# d3.js - 有没有办法重命名由 D3 创建的类？

> ID：15182093
> 
> 赞同：1
> 
> 时间：2013-03-03T03:19:29.857
> 
> 标签：d3.js

一个 svg 路径是用`class="domain"`. 我假设以下代码可以解决这个问题：

```
yAxis = d3.svg.axis().scale(y).orient("left").tickFormat(d3.format(".2s")).ticks(20).tickSize(width);
svg.append("g")
    .attr("class", "y axis")
    .attr("transform", "translate(" + width + ", 0)")
    .call(yAxis); 
```

现在，当我想使用以下样式隐藏路径时：

```
.domain {
    visibility: hidden;
} 
```

显然，它隐藏了我显示的所有其他图表中的路径。有没有办法重命名路径类，或者有没有办法只隐藏一个特定的路径？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T08:50:55.520

（不是 100% 确定我理解了这个问题，但是）试试这个：

在 CSS 中：

```
.domain.hidden {
  visibility: hidden;
} 
```

在 JS 中：

```
svg.append("g")
    .attr("class", "y axis")
    .attr("transform", "translate(" + width + ", 0)")
    .call(yAxis)
    .select('.domain')
    .classed('hidden', true);// should add class "hidden" to the domain 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T07:25:50.050

我想你可能想检查这个[selection.classed](https://github.com/mbostock/d3/wiki/Selections#wiki-classed)

# javascript - HTML5 在第一次播放之前不会播放同一文件的多个实例

> ID：15182096
> 
> 赞同：1
> 
> 时间：2013-03-03T03:19:42.363
> 
> 标签：javascript, html, apache, html5-audio

首先，一些背景信息。我正在使用标准 XAMPP 配置运行原型站点。

我遇到的问题是这个。当我将多个音频标签加载到单个页面时，我不会遇到问题，直到我多次加载同一首歌曲。

发生这种情况时，第一个下面的任何引用都无法加载/播放，直到至少播放第一个，然后暂停。

此外，如果您尝试同时播放它们，则只有第一个被触发的会播放（不是什么大问题）。这是该问题的屏幕截图：

更新：似乎在播放其中一首重复歌曲时，它会随机停止，而另一首重复歌曲将开始播放。

更新 2：我检查了多个站点，但没有找到解决此问题的方法。可能是浏览器如何播放文件的问题。

![一个](../Images/f6dd5152ab20a8b95cd07d58e4420d8f.png)

# javascript - jQuery 使用 event.preventDefault() 和 on('input')

> ID：15182097
> 
> 赞同：10
> 
> 时间：2013-03-03T03:20:04.893
> 
> 标签：javascript, jquery, html, paste, jquery-events

我正在捕捉粘贴事件`$('selector').on('input', function(event) { ... });`

然后我尝试测试已粘贴的内容，如果未通过验证，请使用 取消粘贴`event.preventDefault()`。不幸的是，在执行侦听器函数时，文本已经被粘贴并且`event.preventDefault()`什么都不做。

那么什么是捕捉粘贴事件的好方法，如果粘贴的内容没有验证，撤消/阻止粘贴？

我知道我可以使用`.on('paste', function(event) { ... })`，但这并没有给我粘贴后的文本或输入元素的内容，除非我`setTimeout()`在等待几分钟后使用，并且我想避免使用`setTimeout()`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-09-12T11:33:35.673

首先是`input`元素事件触发顺序的一些背景知识：

keydown -> keypress -> 粘贴 -> 输入 -> keyup -> 更改

每当您调用`preventDefault`它时，它就会停止链条，就像什么都没发生一样。

所以我的建议是捕捉粘贴事件，防止其默认行为并在那里执行您的逻辑。

> 我知道我可以使用 .on('paste', function(event) { ... })，但这并没有给我粘贴的文本或粘贴后输入元素的内容

**实际上，您可以检索剪贴板的内容。**请参阅此[文档](https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event)。支持所有主流浏览器（但仅 IE11+）。我不知道在撰写问题时此功能是否可用。

[小提琴示例](http://jsfiddle.net/b9nv27rj/)

```
$('#myInput').on('paste', function(e) {
    // Cancel the event - this prevents the text from being entered into the input and stops the event chain
    e.preventDefault();

    // Get the content of the clipboard
    let paste = (event.clipboardData || window.clipboardData).getData('text');

    // Validate what it is pasted       
    if (paste == "text to paste") {
        // If condition is satisfied manually set the value of the input
        $(this)
            .val(paste)
            // Manually trigger events if you want
            .trigger('input')
            .trigger('change');
    }
}); 
```

代码注释：

*   此解决方案不包括`setTimeout`. 每当您使用它时，`setTimeout`您会在很短的时间内看到正在粘贴的文本，就像闪烁的效果一样。
*   如果文本符合条件，我手动将其设置在`input`. 但是，这不会触发`input`和`change`事件。如果您需要它们，只需手动触发它们
*   类似的方法是先检查文本，如果不符合要求则调用`preventDefault`，否则什么也不做。这样您就可以避免在输入中手动设置值并在之后触发事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-10-03T00:17:21.493

使用

```
$('selector').on('input', function(event) { ... }); 
```

如果验证没有通过**，删除粘贴的文本**似乎对我有用。

遗憾的是，访问剪贴板有一些缺陷（浏览器询问是否允许检查剪贴板、跨浏览器兼容性等）

如果您可以保存输入的最后一个值，那么无论如何**都可以计算粘贴的文本。**

这是我计算粘贴文本的方法

[https://jsfiddle.net/f710o9qd/2/](https://jsfiddle.net/f710o9qd/2/)

我希望这可以帮助你 ：）

*（如果您发现任何缺陷，请随时改进粘贴文本的计算）*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-10T16:53:46.147

尝试使用 jquery 的 .change 事件。

如果 value 不满足您的条件，请将 value 设置为空白。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-05-10T15:50:00.790

我对这个问题的理解是，除非它通过特定的验证，否则我们不能允许将任何数据粘贴到文本框中。代替使用`event.preventDefault()`，我们可以在用户输入任何内容时捕获值，使用`on('input')`侦听器并根据特定条件对其进行验证，如果验证失败，则清空文本框值。

*（如果我们仍然需要使用`on('input')`事件监听器，这是解决方法）*

示例代码（我`console.log()`用于打印粘贴的值）：

**HTML**：

```
<input type='text' id="selector" /> 
```

**JS**：

```
$(document).ready(function() {
 $('#selector').on('input', function (e){
        if(e.target.value !== "myValue"){
        $('#selector').val('');
    }
    else{
        console.log(e.target.value);
    }
 });
}); 
```

# c++ - 如何在没有公共构造函数的情况下拥有自己的字符串类？

> ID：15182098
> 
> 赞同：1
> 
> 时间：2013-03-03T03:20:09.553
> 
> 标签：c++, string, oop

我正在尝试声明我自己的`String`类来模仿 std::string 类。下面是`String`课堂。

```
class String {
    public:
        // Copy constructor.
        String(const String &);
        // Conversion to std::string.
        operator std::string() const;
        // Assignment.
        String &operator=(const String &);
}; 
```

我的限制之一是：

> *不需要公共构造函数*，尽管您需要一个私有的（或未记录的）。另外，请注意，此类`String`将允许我们使用优化的内存管理。

我对突出显示的行感到困惑。我试图实现如下：

```
class String: public std::string {
    private:
        String();
        String *s;
    public:

        // Copy constructor.
        String(const String &a) {
            s = a.s;
        };
        // Conversion to std::string.
        operator std::string() const {
            return this;
        };
        // Assignment.
        String& operator=(const String &a) {
            if(this != &a) {
                s=a.s;
            }
            return *this;
        };
}; 
```

但我面临这种方法的问题，因为这是错误的。我做错了什么，实现它的正确方法是什么？

主要问题是将我的`String`对象转换为`std::string`. 这个怎么做？`return this`行给了我一个错误。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T03:36:54.627

从一个类继承通常是不好的做法，`std::string`原因有几个，包括它有一个非虚拟析构函数，所以有人可以有一个指针`std::string`，但没有意识到它实际上是一个指向你的指针，删除它，你的析构函数永远不会被调用。

`std::string`你的类有状态，所以它需要一个析构函数，所以不允许继承。

要修复您的即时编译错误，`return *this;`可以使用。然而，你问错了问题。

不要这样做：*永远*`class String: public std::string`。（嗯，几乎永远——我可以构建一个理由，但这不是一个好的理由）

# android - 为不同的可绘制文件夹提供资源的技巧

> ID：15182099
> 
> 赞同：0
> 
> 时间：2013-03-03T03:20:24.333
> 
> 标签：android

每次，当我向可绘制文件夹提供资源时，这就是我所做的

```
drawable-xhdpi (96x96 px)
drawable-hdpi  (72x72 px)
drawable-mdpi  (48x48 px)
drawable-ldpi  (36x36 px) 
```

大多数时候，我只是使用 GIMP 从`drawable-xhdpi`. 我不对按比例缩小的图像进行任何进一步的像素编辑。

最近，我意识到，如果我只提供 1 个最高分辨率的图像，**Android 系统会在内部执行图像尺寸缩小。**

```
drawable-xhdpi (96x96 px)
drawable-hdpi  (empty)
drawable-mdpi  (empty)
drawable-ldpi  (empty) 
```

我在 2 台设备上进行了测试。这个对我有用。我想知道这是一种避免提供这么多不同尺寸图像的繁琐工作的好方法吗？这种技术有副作用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:58:22.460

> 我想知道这是一种避免提供这么多不同尺寸图像的繁琐工作的好方法吗？这种技术有副作用吗？

我想有（至少）两个：

1.  这可能并不总是适用于 9-patch，尤其是当可拉伸区域由一个或多个单个像素定义时。例如，如果您将提供这样的 9patch 作为 xhdpi drawable，那么在 mdpi 设备上，该单个像素将有效地“减半”，因此要么完全消失，要么与周围的透明像素混合。后者通常适用于任何高档/低档操作，因此您的 9patch 很可能不会按预期显示。

2.  较大的图像只会占用更多的内存空间。特别是在低端设备上，内部内存有限，堆空间限制相当严格，当加载的图像比显示所需的大得多时，您可能会很快耗尽内存。

* * *

关于您的评论：如果您仅将其作为 xhdpi 资源提供，那么很容易想出一个示例 9patch，它在所有不同的屏幕密度上都不会在视觉上看起来像预期的那样。考虑以下 9patch：

![在此处输入图像描述](../Images/e31a41293ec3c9f1ddce97c6335b3890.png)

为了可见性而放大的快照：

![在此处输入图像描述](../Images/bc79eb4951c298193a0bbbf87bf5907d.png)

显然，这个想法是当这个 9patch 被拉伸时，结果是一条 1 像素粗的水平蓝线。现在，将这个 9patch 放到 xhdpi 文件夹中，然后比较 xhdpi 和 mdpi 的结果：

![在此处输入图像描述](../Images/e6b4bbf93490d9893ebe464b7a009eb7.png)

显然，mdpi 设备已经从 xhdpi 文件夹中缩小了 9patch，结果看起来并不像预期的那样。

无论如何，我的观点是，在很多情况下，不为每个密度桶提供 9 个补丁可能最终看起来还不错。请注意，在某些情况下，它可能无法给出预期的结果。另外，请考虑内存参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:31:13.353

您使用的技术将适用于较少数量的设备。因为市场上有很多具有不同分辨率和不同尺寸的手机。在一些屏幕尺寸较小的低分辨率设备中，UI 看起来不合适......现在举个例子，您正在使用分辨率为 720*1280(xhdpi) 的背景图像作为初始屏幕，并且您已将其放入 Xhdpi drawable 文件夹比当您在三星euopa 或HTC wildfire 等低端设备中查看此drawable 时，图像看起来会被挤压类型。

还有很多其他情况需要您使用不同的图像集....如果您提到的技术适用于所有手机，那么为什么Android会为不同的图像集开发不同的文件夹.... :P

# android - 在安卓应用中禁用通知广告

> ID：15182104
> 
> 赞同：0
> 
> 时间：2013-03-03T03:21:46.977
> 
> 标签：android, admob

我将 admob 用于我的应用程序中的广告，并在通知托盘中提供广告。

我在我的应用程序中使用以下代码进行添加：

```
 adView = (AdView)findViewById(R.id.ad);
     adView.loadAd(new AdRequest());
      <com.google.ads.AdView

     xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"

    android:id="@+id/ad"
   android:layout_width="fill_parent"
       android:layout_height="wrap_content"

     ads:adUnitId="my id"
     ads:adSize="SMART_BANNER"
   android:layout_alignParentBottom="true"
   ads:loadAdOnCreate="true"
 /> 
```

如何从我的应用中禁用此 annyoing 通知广告？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T21:11:48.807

Admob 没有提供通知广告（幸运的是）。所以很可能是另一个应用程序导致了通知。如果您拥有最新的 android 版本之一，您可以长按通知以获取应用详细信息。其他方法是查看正在运行的后台服务或从商店安装应用程序，该应用程序会扫描您设备上的所有应用程序以查找推送广告来源。

# javascript - 将选择标签的选项的 json 数据存储在变量中

> ID：15182105
> 
> 赞同：1
> 
> 时间：2013-03-03T03:21:53.113
> 
> 标签：javascript, jquery, html, ajax, json

祝大家有美好的一天

我正在以 json 格式检索我的选择标签的选项并使用它填充选择标签

```
var mySelect = $('#'+select_id)
    $.each(response, function(key,val){
    $('<option/>',{
        value : key
    })
    .text(val)
    .appendTo(mySelect);
    }); 
```

哪个工作正常，但我想将从 json 数组转换生成的 html 字符串存储到变量中，而不是将其附加到 select 标记中。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:25:19.933

您可以使用`jQuery.map`. [http://api.jquery.com/jQuery.map/](http://api.jquery.com/jQuery.map/)

```
var result = $.map(response, function(key,val){
    return "<option value='" + key + "'>" + val + "</option>";
}).join(''); 
```

[http://jsfiddle.net/DPZGR/](http://jsfiddle.net/DPZGR/)

# linux - [FIN, ACK] , [RST] 和 [RST, ACK] 是什么原因以及如何避免

> ID：15182106
> 
> 赞同：28
> 
> 时间：2013-03-03T03:21:53.363
> 
> 标签：linux, sockets, tcp, solaris, wireshark

是什么原因以及如何避免`[FIN, ACK]`,`[RST]`和`[RST, ACK]`？

是不是因为 SO 的 TCP 参数不匹配？`[FIN, ACK]`服务器在 TCP/IP 连接中回复是什么意思？

`10.118.113.237`是 Solaris 机器，而`10.118.110.63`是 Linux 机器。

```
No.     Time           Source                Destination           Protocol Length Info
  1 0.000000000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 39679 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62389927 TSecr=355193509
  2 0.000015000    10.118.110.63         10.118.113.237        TCP      56     39679 > mmpft [RST] Seq=1 Win=0 Len=0
  4 0.119357000    10.118.110.63         10.118.113.237        TCP      68     39707 > mmpft [ACK] Seq=1 Ack=93 Win=54 Len=0 TSval=355208473 TSecr=62389939
  5 0.119475000    10.118.113.237        10.118.110.63         TCP      62     mmpft > 39707 [RST, ACK] Seq=93 Ack=1 Win=0 Len=0
  6 0.321336000    10.118.110.63         10.118.113.237        TCP      76     55603 > mmpft [SYN] Seq=0 Win=5840 Len=0 MSS=1460 SACK_PERM=1 TSval=355208524 TSecr=0 WS=128
  7 0.321835000    10.118.113.237        10.118.110.63         TCP      80     mmpft > 55603 [SYN, ACK] Seq=0 Ack=1 Win=49232 Len=0 TSval=62389959 TSecr=355208524 MSS=1460 WS=1 SACK_PERM=1
  8 0.321854000    10.118.110.63         10.118.113.237        TCP      68     55603 > mmpft [ACK] Seq=1 Ack=1 Win=5888 Len=0 TSval=355208524 TSecr=62389959
  9 0.322552000    10.118.110.63         10.118.113.237        DIAMETER 276    cmd=Capabilities-ExchangeRequest(257) flags=R--- appl=Diameter Common Messages(0) h2h=3f3197c e2e=e9200846
 10 0.322891000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 55603 [ACK] Seq=1 Ack=209 Win=49024 Len=0 TSval=62389959 TSecr=355208524
 11 0.342554000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 39707 [FIN, ACK] Seq=93 Ack=1 Win=49232 Len=0 TSval=62389961 TSecr=355200968
 12 0.342567000    10.118.110.63         10.118.113.237        TCP      56     39707 > mmpft [RST] Seq=1 Win=0 Len=0
 13 0.346940000    10.118.113.237        10.118.110.63         DIAMETER 312    cmd=Capabilities-ExchangeAnswer(257) flags=---- appl=Diameter Common Messages(0) h2h=3f3197c e2e=e9200846
 14 0.347021000    10.118.110.63         10.118.113.237        TCP      68     55603 > mmpft [ACK] Seq=209 Ack=245 Win=6912 Len=0 TSval=355208530 TSecr=62389961
 15 4.288733000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 39652 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390356 TSecr=355186382
 16 4.288757000    10.118.110.63         10.118.113.237        TCP      56     39652 > mmpft [RST] Seq=1 Win=0 Len=0
 17 4.398722000    10.118.113.237        10.118.110.63         DIAMETER 160    [TCP Retransmission] cmd=Device-WatchdogRequest(280) flags=R--- appl=Diameter Common Messages(0) h2h=f889ad2 e2e=5f8035e4
 18 4.398734000    10.118.110.63         10.118.113.237        TCP      56     39707 > mmpft [RST] Seq=1 Win=0 Len=0
 19 4.938748000    10.118.113.237        10.118.110.63         DIAMETER 160    cmd=Device-WatchdogRequest(280) flags=R--- appl=Diameter Common Messages(0) h2h=f889ad0 e2e=5f8035df
 20 4.938770000    10.118.110.63         10.118.113.237        TCP      56     39598 > mmpft [RST] Seq=1 Win=0 Len=0
 21 5.498759000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 39544 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390477 TSecr=355156526
 22 5.498783000    10.118.110.63         10.118.113.237        TCP      56     39544 > mmpft [RST] Seq=1 Win=0 Len=0
 23 5.648780000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 55774 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390492 TSecr=355111580
 24 5.648804000    10.118.110.63         10.118.113.237        TCP      56     55774 > mmpft [RST] Seq=1 Win=0 Len=0
 25 5.942885000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 55828 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390521 TSecr=355126129
 26 5.942901000    10.118.110.63         10.118.113.237        TCP      56     55828 > mmpft [RST] Seq=1 Win=0 Len=0
 27 6.668742000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 55666 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390594 TSecr=355081310
 28 6.668760000    10.118.110.63         10.118.113.237        TCP      56     55666 > mmpft [RST] Seq=1 Win=0 Len=0
 29 7.258815000    10.118.113.237        10.118.110.63         TCP      68     mmpft > 55720 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62390653 TSecr=355096418
 31 7.418827000    10.118.113.237        10.118.110.63         DIAMETER 160    cmd=Device-WatchdogRequest(280) flags=R--- appl=Diameter Common Messages(0) h2h=f889acd e2e=5f8035d9
 32 7.418835000    10.118.110.63         10.118.113.237        TCP      56     39490 > mmpft [RST] Seq=1 Win=0 Len=0
 33 12.948752000   10.118.113.237        10.118.110.63         DIAMETER 160    [TCP Retransmission] cmd=Device-WatchdogRequest(280) flags=R--- appl=Diameter Common Messages(0) h2h=f889ad2 e2e=5f8035e4
 34 12.948776000   10.118.110.63         10.118.113.237        TCP      56     39707 > mmpft [RST] Seq=1 Win=0 Len=0
 35 30.030087000   10.118.113.237        10.118.110.63         DIAMETER 160    [TCP Retransmission] cmd=Device-WatchdogRequest(280) flags=R--- appl=Diameter Common Messages(0) h2h=f889ad2 e2e=5f8035e4
 36 30.030113000   10.118.110.63         10.118.113.237        TCP      56     39707 > mmpft [RST] Seq=1 Win=0 Len=0
 38 30.369302000   10.118.110.63         10.118.113.237        TCP      68     55603 > mmpft [ACK] Seq=209 Ack=337 Win=6912 Len=0 TSval=355216035 TSecr=62392964
 39 30.369413000   10.118.113.237        10.118.110.63         TCP      62     mmpft > 55603 [RST, ACK] Seq=337 Ack=209 Win=0 Len=0
 40 30.571231000   10.118.110.63         10.118.113.237        TCP      76     55630 > mmpft [SYN] Seq=0 Win=5840 Len=0 MSS=1460 SACK_PERM=1 TSval=355216086 TSecr=0 WS=128
 41 30.571603000   10.118.113.237        10.118.110.63         TCP      80     mmpft > 55630 [SYN, ACK] Seq=0 Ack=1 Win=49232 Len=0 TSval=62392984 TSecr=355216086 MSS=1460 WS=1 SACK_PERM=1
 42 30.571620000   10.118.110.63         10.118.113.237        TCP      68     55630 > mmpft [ACK] Seq=1 Ack=1 Win=5888 Len=0 TSval=355216086 TSecr=62392984
 43 30.572253000   10.118.110.63         10.118.113.237        DIAMETER 276    cmd=Capabilities-ExchangeRequest(257) flags=R--- appl=Diameter Common Messages(0) h2h=3f3197d e2e=e9200847
 44 30.572638000   10.118.113.237        10.118.110.63         TCP      68     mmpft > 55630 [ACK] Seq=1 Ack=209 Win=49232 Len=0 TSval=62392984 TSecr=355216086
 45 30.579815000   10.118.113.237        10.118.110.63         TCP      68     mmpft > 55603 [FIN, ACK] Seq=337 Ack=209 Win=49232 Len=0 TSval=62392985 TSecr=355208530
 46 30.579826000   10.118.110.63         10.118.113.237        TCP      56     55603 > mmpft [RST] Seq=209 Win=0 Len=0
 47 30.581517000   10.118.113.237        10.118.110.63         DIAMETER 312    cmd=Capabilities-ExchangeAnswer(257) flags=---- appl=Diameter Common Messages(0) h2h=3f3197d e2e=e9200847
 48 30.581553000   10.118.110.63         10.118.113.237        TCP      68     55630 > mmpft [ACK] Seq=209 Ack=245 Win=6912 Len=0 TSval=355216088 TSecr=62392985
 49 34.138766000   10.118.113.237        10.118.110.63         TCP      68     mmpft > 39679 [FIN, ACK] Seq=1 Ack=1 Win=49232 Len=0 TSval=62393341 TSecr=355193509
 50 34.138790000   10.118.110.63         10.118.113.237        TCP      56     39679 > mmpft [RST] Seq=1 Win=0 Len=0 
```

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-03-03T03:37:30.373

这里是对概念的粗略解释。

`[ACK]`是接收到之前发送的数据包的确认。

`[FIN]`由主机在想要终止连接时发送；TCP 协议要求两个端点都发送终止请求（即`FIN`）。

所以，假设

*   *主机 A向**主机 B*发送数据包
**   然后*主机 B*想要关闭连接。*   *主机 B*（取决于时间）可以响应`[FIN,ACK]`指示它接收到发送的数据包并希望关闭会话。*   *然后主机 A*应回复一个`[FIN,ACK]`指示它收到终止请求（`ACK`部分）并且它也将关闭连接（`FIN`部分）的响应。*

 *但是，如果*主机 A*想在发送数据包后关闭会话，它只会发送一个`[FIN]`数据包（无需确认），但*主机 B*会响应`[FIN,ACK]`（确认请求并响应`FIN`）。

最后，一些 TCP 堆栈执行半双工终止，这意味着它们可以发送`[RST]`而不是通常的`[FIN,ACK]`. 当主机主动关闭会话而不处理发送给它的所有数据时，就会发生这种情况。Linux 是一个可以做到这一点的操作系统。

[你可以在这里](http://en.wikipedia.org/wiki/Transmission_Control_Protocol)找到更详细和全面的解释。*

# jquery - 使用 jQuery 选择前 2 个单词并用标签包装它们

> ID：15182113
> 
> 赞同：5
> 
> 时间：2013-03-03T03:23:10.983
> 
> 标签：jquery

如何使用 jQuery 选择句子中的前两个单词，用 span 标签包装它们并在其后添加 br 标签？

像这样的东西：

```
<p><span>Lorem ipsum</span><br/> quosque tandem</p> 
```

但是动态添加 span 和 br 标签。

我只能使用以下代码对第一个单词执行此操作：

```
$('p').each(function(){
    var featureTitle = $(this);
    featureTitle.html( featureTitle.text().replace(/(^\w+)/,'<span>$1</span><br/>') );
  }); 
```

谢谢！！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T03:30:01.627

```
$('p').html(function (i, html) {
    return html.replace(/(\w+\s\w+)/, '<span>$1</span><br/>')
}); 
```

[http://jsfiddle.net/crBJg/](http://jsfiddle.net/crBJg/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-02-27T10:04:22.267

对于那些使用变音符号（äöåü 等）的人，您可能希望使用`\S+\s\S+`而不是`\w+\s\w+`使其正常工作。

见这里[https://stackoverflow.com/a/12845431/5349534](https://stackoverflow.com/a/12845431/5349534)

# c# - UDP服务器应用程序

> ID：15182118
> 
> 赞同：1
> 
> 时间：2013-03-03T03:23:37.943
> 
> 标签：c#

我不知道如何解决这个问题，但我遇到了这一行的问题，特别是 throw new System.ArgumentException("Syntax: timeclnt ServerName PortNumber 1"); .....知道该怎么做吗？服务器应用程序需要提供一个端口号来监听，但如何？

```
using System;
using System.Net;
using System.Net.Sockets;
using System.Text;

public class TimeClient
{
    public static int Main(String[] args)
    {
        if (args.Length < 2 || args.Length > 2)
            throw new System.ArgumentException("Syntax: timeclnt ServerName PortNumber 1");

        String hostName = args[0];
        int portNum = Int32.Parse(args[1]);

        try
        {
            // Define a string to send to the server
            string stringData = "From the timeClient";

            // Encode it properly
            byte[] data = Encoding.ASCII.GetBytes(stringData);

            // Define a UDP client connection
            UdpClient client = new UdpClient();

            // Send some data to the server
            client.Send(data, data.Length, hostName, portNum);

            //where to listen for a UDP response
            IPEndPoint recvpt = new IPEndPoint(IPAddress.Any, 0);

            // get the data back from the server
            byte[] receivedData = client.Receive(ref recvpt);

            // output the data received
            Console.WriteLine("{0}", Encoding.ASCII.GetString(receivedData));

            // all done
            client.Close();
        }

        catch (Exception e)
        {
            // display an error
            Console.WriteLine(e.ToString());
        }

        return 0;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T15:17:37.603

正如我在评论中提到的：

> System.ArgumentException("语法：timeclnt ServerName PortNumber 1");

这意味着将向您的代码传递 3 个参数：ServerName、PortNumber 和 1

将 3 个参数传递给您的方法，您必须将 if 语句更改为：

```
if (args.Length != 3) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:56:07.123

从您的`if`情况推断，您并没有完全传递 2 个参数。如果您想要 3 个参数，请将您的条件更改为

```
 if (args.Length < 3 || args.Length > 3) 
```

# eclipse - Eclipse 在引用项目的 Web-inf lib javaee.jar 构建路径时无法识别 Java EE 包，但识别...？

> ID：15182122
> 
> 赞同：0
> 
> 时间：2013-03-03T03:23:53.747
> 
> 标签：eclipse, jakarta-ee, jar, glassfish, web-inf

在我的开发笔记本电脑上，我已经安装了

*GlassFish Server 开源版 3.1.2.2（内部版本 5）。*面向 Web 开发人员的 Eclipse Java EE IDE。

> 版本：Helios 发布版本 ID：20100617-1415

*服务器版本：5.6.10-enterprise-commercial-advanced MySQL Enterprise Server-Advanced Edition (Commercial)

使用 Eclipse Helios，我正在构建一个包含扩展 HttpServlet 类的简单动态 Web 项目。这很简单。GlassFish javaee.jar 文件随 GlassFish Server Open Source Edition 3.1.2.2 安装一起提供，因此它位于以下目录中：

C:\glassfish3\glassfish\lib\javaee.jar

因此，只要我从 glassfish lib 目录添加 C:\glassfish3\glassfish\lib\javaee.jar，以下导入都是有效的：

```
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse; 
```

但是，如果我采用另一种方法，首先将 C:\glassfish3\glassfish\lib\javaee.jar 复制到我的 {BlahBlahProjectFolderNameBlahBlah}\WebContent\WEB-INF\lib，然后添加 {BlahBlahProjectFolderNameBlahBlah}\WebContent\WEB -INF\lib\javaee.jar 到 Eclipse 构建路径，然后 Eclipse 会抱怨以下包无法识别：

```
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse; 
```

为什么当我参考 {BlahBlahProjectFolderNameBlahBlah}\WebContent\WEB-INF\lib\javaee.jar 构建路径时 Eclipse 无法识别典型的 Java EE Servlet 包，但是当我参考 C:\ 时却识别出典型的 Java EE Servlet 包glassfish3\glassfish\lib\javaee.jar ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T17:15:18.840

感谢@arjan-tijms 和@balusc 的帮助。以下链接帮助我理解：

[如何在我的 Eclipse 项目中导入 javax.servlet API？](https://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project)

# c# - 全局对象实例

> ID：15182124
> 
> 赞同：0
> 
> 时间：2013-03-03T03:24:05.387
> 
> 标签：c#, ogre

我是 c# 新手，正在寻找如何在我的 winform 中调用全局对象实例。

```
 namespace BeastEngine {
     public partial class Form1 : Form
     {

          private  Root mRoot = new Root();
          private  RenderWindow mWindow;
          private  SceneManager mgr = mRoot.CreateSceneManager(SceneType.ST_GENERIC);
          private Camera cam = mgr.CreateCamera("Camera"); 
```

现在我像这样调用我的变量，但是我遇到了各种错误。

```
private void meshToolStripMenuItem_Click(object sender, EventArgs e)
      {
          Entity ent = mgr.CreateEntity("ninja", "ninja.mesh");
          mgr.RootSceneNode.CreateChildSceneNode().AttachObject(ent);
          cam.LookAt(ent.BoundingBox.Center);
      } 
```

我想要它，以便我的所有功能都可以使用一个实例。有谁知道正确的方法？我到处都用谷歌搜索过。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:29:58.890

您正在寻找单例模式。如果你搜索它，你应该得到更多的结果。

这是 Microsoft 对[实施 Singleton](http://msdn.microsoft.com/en-us/library/ff650316.aspx)的建议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:28:58.847

您不能在构造函数之外使用实例变量

```
private Root mRoot = new Root();
private SceneManager mgr = mRoot.CreateSceneManager(SceneType.ST_GENERIC);
private Camera cam = mgr.CreateCamera("Camera"); 
```

您应该在构造函数中实例化它。

```
private Root mRoot;
private SceneManager mgr;
private Camera cam;

public Form1()
{ 
    mRoot = new Root();
    mgr = mRoot.CreateSceneManager(SceneType.ST_GENERIC);
    cam = mgr.CreateCamera("Camera");
} 
```

如果要确保知道这仅在构造时创建，则可以使变量`readonly`

[这是一篇关于构造函数的文章](http://msdn.microsoft.com/en-us/library/vstudio/ms173115.aspx)

[查看 Jon Skeet 的答案](https://stackoverflow.com/questions/7400677/a-field-initializer-cannot-reference-the-non-static-field-method-or-property)以获取更多信息

# ruby-on-rails - 在循环中查找数组的值

> ID：15182128
> 
> 赞同：1
> 
> 时间：2013-03-03T03:25:02.550
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2

这行得通！但是如果我的 JSON 返回 200 个程序，这也将打印所有这 200 个程序。但我想更改辅助方法，使其**仅返回 TOP 5，即他们的百分比最高。**

如何修改我的辅助方法来实现这一点？

PS：我知道这样做的最好和专业的方法可能是使用模型文件中的“范围”和“顺序”等，或者实际创建 JSON 的 ActiveRecord 查询接口......但现在已经过时了我的联盟！想用婴儿步骤来完成这件事……以后再说……

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:35:57.547

尝试以下

```
def patient_counts(program)
  sorted = program.patient_counts.sort { |a, b| b.money <=> a.money }
  sorted[0..4]
end 
```

更新：限制为仅从数据库中获取 5 条记录

```
def patient_counts(program)
  program.registry_patient_counts.limit(5).order('patient_count_percentage DESC')
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T03:38:57.980

创建一个以患者为键，以患者.money 为值的散列。这可以通过以下方式完成：

```
unsorted_patients = { }
program.patient_counts.each do |patient|
    sorted_patients[patient] = patient.money
end 
```

然后使用 sort_by 将散列排序为二维数组：

```
sorted_patients = unsorted_patients.sort_by { |patient, money| money }
sorted_patients.reverse! 
```

sorted_pa​​tients 的前五个元素现在将是 2 元素数组，其中包含五位钱最多的患者，以及他们有多少钱，如下所示：

```
[[<Bob>, 150000], [<Mary>, 138000], [<Joe>, 125000],...] 
```

您应该能够轻松地从中提取所需的信息。

# java - HTTP 状态 404 错误或 web.xml 错误不知道

> ID：15182130
> 
> 赞同：1
> 
> 时间：2013-03-03T03:25:14.170
> 
> 标签：java, eclipse, jsp, tomcat, servlets

我在eclipse中运行tomcat 7 ...当我运行我的html时出现以下错误，它调用servlet来执行简单的计算..错误是

```
HTTP Status 404 - /TestTomcat/  
--------------------------------------------------------------------------------

type Status report  
message /TestTomcat/
description The requested resource is not available.

--------------------------------------------------------------------------------
Apache Tomcat/7.0.37 
```

我的 html 文件是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
</head>
<body>
    <form method="post" action="http://localhost:8080/TestTomcat/">
        What's your name <br />
        <input name="yourname" value="Test"/><br />

        First number <br />
        <input name="firstnum" value="3" /><br />

        Second number<br />
        <input name="secondnum" value="5"/><br />

        <input type="hidden" name="Language" value="English" />

        <input type="submit" />

    </form>
</body>
</html> 
```

小服务程序是

```
package helloServlets;

import java.io.IOException;
import java.io.PrintWriter;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/TestTomcat")
public class TestTomcat extends HttpServlet {
    private static final long serialVersionUID = 1L;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

         String usersName = request.getParameter("yourname");

         String theLang = request.getParameter("Language");

         int firstNum = Integer.parseInt(request.getParameter("firstnum"));
         int secondNum = Integer.parseInt(request.getParameter("secondnum"));
         int sumONum = firstNum + secondNum;
         response.setContentType("text/html");

         PrintWriter output = response.getWriter();

         output.println("<html><body><h3>Hello " + usersName);

         output.println("</h3><br />" + firstNum + " + " + secondNum);
         output.println(" = " + sumONum + "<br />Speaks " + theLang + "</body></html>");
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        doGet(request, response);
    }

} 
```

web.xml 文件代码

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" id="WebApp_ID" version="3.0">
   <display-name>Student_database</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>

  <servlet>
        <servlet-name>TestTomcat</servlet-name>
        <servlet-class>helloServlets.TestTomcat</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>TestTomcat</servlet-name>
        <url-pattern>/TestTomcat</url-pattern>
    </servlet-mapping>
</web-app> 
```

请帮助我，我是一个绝对的初学者....谢谢

..

是的，如果我使用“Raunak Agarwal”提供的以下解决方案并启动我的服务器，那么我会收到以下错误

我以前这样做过，但是当我启动服务器时，出现以下错误

```
Mar 03, 2013 9:56:29 AM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files (x86)\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program Files (x86)/Java/jre7/bin/client;C:/Program Files (x86)/Java/jre7/bin;C:/Program Files (x86)/Java/jre7/lib/i386;C:\Program Files\Common Files\Microsoft Shared\Windows Live;C:\Program Files (x86)\Common Files\Microsoft Shared\Windows Live;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Windows Live\Shared;C:\Program Files\Java\jdk1.7.0_15\bin;C:\Program Files\eclipse;;.
Mar 03, 2013 9:56:29 AM org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:TomcatTest' did not find a matching property.
Mar 03, 2013 9:56:29 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Mar 03, 2013 9:56:29 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Mar 03, 2013 9:56:29 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 502 ms
Mar 03, 2013 9:56:29 AM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Mar 03, 2013 9:56:29 AM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.37
Mar 03, 2013 9:56:30 AM org.apache.catalina.core.ContainerBase startInternal
SEVERE: A child container failed during start
java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/TomcatTest]]
    at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)
    at java.util.concurrent.FutureTask.get(Unknown Source)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/TomcatTest]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    ... 7 more
Caused by: java.lang.IllegalArgumentException: The servlets named [TestTomcat] and [helloServlets.TestTomcat] are both mapped to the url-pattern [/TestTomcat] which is not permitted
    at org.apache.catalina.deploy.WebXml.addServletMapping(WebXml.java:335)
    at org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2412)
    at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2125)
    at org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2080)
    at org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2073)
    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1300)
    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)
    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5179)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more

Mar 03, 2013 9:56:30 AM org.apache.catalina.core.ContainerBase startInternal
SEVERE: A child container failed during start
java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]
    at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)
    at java.util.concurrent.FutureTask.get(Unknown Source)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)
    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:684)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.catalina.LifecycleException: A child container failed during start
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more

Mar 03, 2013 9:56:30 AM org.apache.catalina.startup.Catalina start
SEVERE: Catalina.start: 
org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:684)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 9 more
Caused by: org.apache.catalina.LifecycleException: A child container failed during start
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)
    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 11 more

Mar 03, 2013 9:56:30 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 490 ms 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T10:05:43.060

尝试将注释更改为`@WebServlet(name = "TestTomcat", urlPatterns = {"/TestTomcat"})`并从中删除任何 servlet 映射`web.xml`。我希望它应该工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T04:40:11.853

首先，尝试将您的表单 action 更改为 just `TestTomcat`。

由于您使用的是注释，因此您的 web.xml 中不需要以下代码。所以，删除它

```
<servlet>
        <servlet-name>TestTomcat</servlet-name>
        <servlet-class>helloServlets.TestTomcat</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>TestTomcat</servlet-name>
        <url-pattern>/TestTomcat</url-pattern>
    </servlet-mapping> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T10:27:23.990

您的上下文似乎是`/TomcatTest`，并且您正在将 servlet 映射到`/TestTomcat`以便访问它，您应该提供以下 url

```
http://localhost:8080/TestTomcat/TestTomcat 
```

# forms - PlayFramework 2.x - 将错误消息与元组的一个元素相关联

> ID：15182139
> 
> 赞同：3
> 
> 时间：2013-03-03T03:26:15.297
> 
> 标签：forms, scala, playframework-2.0, playframework-2.1

我有这个表格映射：

```
val myElement = Form(
    mapping(
      "title" -> nonEmptyText,
      "schedule" ->
        tuple("startSchedule" -> jodaDate("dd/MM/yyyy HH:mm"),
          "endSchedule" -> jodaDate("dd/MM/yyyy HH:mm"))
          .verifying(MyValidator().checkForEndScheduleConsistency("error.schedule")),
    )(MyElement.apply)(MyElement.unapply)
  ) 
```

`MyElement`班级：

```
case class MyElement(title: String, schedule: (Datetime, Datetime)) 
```

`MyValidator`班级：

```
def checkForEndScheduleConsistency(errorMsg: String) =
    Constraint[(DateTime, DateTime)]("constraint.schedule", errorMsg) {
      schedule =>
        MyDomainValidator().checkForEndScheduleConsistency(schedule._1, schedule._2, Messages(errorMsg)) match {
          case Success(s) => Valid
          case Failure(f) => Invalid(ValidationError("custom error string from `f`"))
        }
    } 
```

`schedule.endSchedule`要求：如果调度根据`MyValidator`对象不一致，则必须将错误消息关联到字段（元组的元素）。

但是，为了使方法所需的元素 (`startSchedule`和`endSchedule`) 都可用`checkForEndScheduleConsistency`，我不能`verifying`直接在嵌套元组的名为 的元素上应用方法`endSchedule`。相反，我必须在整个元组上应用一个以包含`startSchedule`变量，如代码片段所示。

缺点是错误不是映射到`endSchedule`而是映射到`schedule`（这不代表我的 HTML 表单中的任何内容），因此当出现不一致的计划时，屏幕上不会显示任何内容。

因此，我必须使用这个“解决方法”来使用`Form`'s`withError`方法来实现我的要求：

```
def create = Action {
    implicit request =>
      myForm.bindFromRequest.fold(
        myFormWithErrors => {
          myFormWithErrors.error("schedule") match { //check for the presence of potential schedule error
          case Some(e) => {
            BadRequest(views.html.create_element("Create an element", myFormWithErrors.withError("schedule.endSchedule", Messages("error.schedule"))))
          }
          case _ => BadRequest(views.html.create_element("Create an element", myFormWithErrors))
        }
        },
        myForm => {
          treatSubmittedMyForm(myForm)
        }
      )
  } 
```

=> 非常丑陋和抗干燥。

有没有办法应用于`verifying`元组，尽管如此，将错误消息应用于嵌套元组的元素？就我而言，在`endSchedule`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T12:07:04.947

[根据文档](http://www.playframework.com/documentation/2.0.4/ScalaFormHelpers)，最好的解决方案可能是在通过您自己的制作渲染字段时替换 Play 提供的默认助手：

```
@(elements: helper.FieldElements)

<div class="@if(elements.hasErrors) {error}">
    <label for="@elements.id">@elements.label</label>
    <div class="input">
        @elements.input
        <span class="errors">@elements.errors.mkString(", ")</span>
        <span class="help">@elements.infos.mkString(", ")</span> 
    </div>
</div> 
```

这样，您可以手动将错误引用替换为正确的元素。不是很好，但您应该能够从中创建可重用的标签。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T08:02:06.223

最好的解决方案是将全局（调度）“错误”键直接精确到更具体的生成输入中，这里是`schedule.endSchedule`输入：

```
@inputText(hobbyForm("schedule.endSchedule"), 'id -> "schedule.endSchedule", '_error -> hobbyForm.error("schedule") 
```

注意部分：`'_error -> hobbyForm.error("schedule")`

# mysql - INNODB 引擎中事务的工作

> ID：15182140
> 
> 赞同：0
> 
> 时间：2013-03-03T03:26:36.177
> 
> 标签：mysql, transactions, innodb, rdbms

考虑一个事务 T1，

```
Start transaction;   
Update emp set emp_id=1 where emp_id=3;   
commit; 
```

我使用的引擎是 INNODB 引擎。
在上述事务的提交操作之前，我再次访问了该表，它显示了以前提交的值。如果在表上放置了行级别锁定，它可能会显示错误（**当某些事务在中间时您无法访问）。** 我的理解有什么错误吗？谁可以帮我这个事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:20:08.090

即使在事务提交之前，作为事务的一部分所做的任何事情都可用于同一事务。这些更改在其他事务中不可用。

要对此进行测试，您需要在一个事务中更新，然后从另一个终端开始新事务并尝试访问。第二个事务将能够读取数据，但如果您尝试更新更新将阻塞并等待第一个事务被提交。

如果您希望第二个选择等待并返回更新的数据，您应该使用 select 进行更新。

# polygon - 最小权重三角剖分动态规划算法

> ID：15182141
> 
> 赞同：0
> 
> 时间：2013-03-03T03:26:54.233
> 
> 标签：polygon, dynamic-programming, minimum, triangulation, decomposition

所以，我试图了解动态规划算法，以找到凸多边形的最小加权三角剖分分解。对于那些不知道的人，三角剖分是我们将凸多边形分解为三角形的地方。最小加权三角剖分是多边形的三角剖分，其中所有边（或每个三角形的周长）的总和最小。

它实际上是一个相当常见的算法，但是我无法掌握它。这是我试图理解的算法：

[http://en.wikipedia.org/wiki/Minimum-weight_triangulation#Variations](http://en.wikipedia.org/wiki/Minimum-weight_triangulation#Variations)

这是我试图遵循的另一个描述（向下滚动到 5.2 Optimal Triangulations）：

[http://valis.cs.uiuc.edu/~sariel/teach/notes/algos/lec/05_dprog_II.pdf](http://valis.cs.uiuc.edu/~sariel/teach/notes/algos/lec/05_dprog_II.pdf)

所以到目前为止我明白这一点。我取所有顶点，并确保它们围绕原始多边形的周边按顺时针顺序排列。我创建了一个返回最小权重三角剖分的函数，我将其称为 MWT(i, j) 从顶点 i 开始到顶点 j 的多边形。这个函数将是递归的，所以第一次调用应该是 MWT(0, n-1)，其中 n 是顶点的总数。MWT 应该测试由点 i、j 和 k 组成的所有三角形，其中 k 是它们之间的任何顶点。到目前为止，这是我的代码：

```
def MWT(i, j):
    if j <= i: return 0
    elif j == i+1: return 0

    cheap_cost = float("infinity")
    for k in range(i, j):
        cheap_cost = min(cheap_cost, cost((vertices[i], vertices[j], vertices[k])) + MWT(i, k) + MWT(k, j))
    return cheap_cost 
```

但是，当我运行它时，它会溢出堆栈。我完全迷失了，如果有人能帮助我朝着正确的方向前进，我将不胜感激。

如果你们需要更多信息，请询问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:34:02.820

我想你想做

```
for k in range(i+1, j): 
```

不是

```
for k in range(i, j): 
```

因为您永远不想`k`与`i`or相同`j`（否则您只需为当前正在运行的相同值计算它）。

# apache-zookeeper - 我们可以使用 zookeeper 作为监控应用吗？

> ID：15182145
> 
> 赞同：2
> 
> 时间：2013-03-03T03:27:54.980
> 
> 标签：apache-zookeeper

我在集群中有一个服务器实例，它有一些特殊的职责，我们在集群中只能有一个这样的服务器。我想监控这台服务器的健康状况，如果这个节点出现故障，我会启动另一个实例，并使新节点加入集群。你认为 Apache zookeeper 能胜任这项工作吗？你能给我举个例子吗？

# adblock - 身份伪装者

> ID：15182146
> 
> 赞同：1
> 
> 时间：2013-03-03T03:28:28.753
> 
> 标签：adblock

如果我使用诸如 IdentityCloaker 之类的 ISP cloaker（为了访问 BBC iPlayer），会影响我对 AdBlock 或 AdBlockPlus 的使用吗？AdBlcok 扩展程序是否只能通过 Google 帐户或我的 ISP 识别我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:32:20.830

Adblock Plus for Chrome 与您的 Google 帐户或您的 ISP 无关。

此外，iPlayer 中没有广告。

# jquery - jQuery 搜索元素更改

> ID：15182149
> 
> 赞同：2
> 
> 时间：2013-03-03T03:28:51.457
> 
> 标签：jquery

我需要帮助将等号标记更改为斜线，就像现在一样，当我提交表单时，它得到的 url 是**#search=x**但我需要它是**#search/x**

```
<form name="input" action="" method="get">
Search: <input type="text" name="search">
<input type="submit" value="Submit">
</form> 
```

--

```
<script type="text/javascript">
$('form').submit(function() {
var form_data = ($(this).serialize());
window.location = "#" + form_data;
return false;
}); 
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:38:21.200

您可以使用本机替换方法轻松完成此操作：

```
$('form').submit(function() {
    var form_data = $(this).serialize();
    window.location = "#" + form_data.replace("=", "/");
    return false;
}); 
```

[http://jsbin.com/ohulaz/1/edit](http://jsbin.com/ohulaz/1/edit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:32:27.017

这可能有效：

```
data = form_data.replace('=', '/'); 
```

至于您的第二个问题，请使用：

```
window.location.hash = form_data; 
```

如果我正确理解了问题，那应该会覆盖前面的内容。

整件事情：

```
$('form').submit(function() {
    var form_data = ($(this).serialize());
    window.location.hash = form_data.replace('=','/');
    return false;
}); 
```

# wcf - WCF Windows 服务和 Windows 应用商店应用无意义回复错误消息

> ID：15182152
> 
> 赞同：1
> 
> 时间：2013-03-03T03:29:34.073
> 
> 标签：wcf, windows-store-apps

我在使用 Windows 8 编程时遇到很多问题。

一个问题是，我无法安装 IIS，因为 Windows 8 给我带来了问题，因为我使用 7 双重启动它。任何操作系统更新都会失败，包括配置更改，例如添加 IIS。

但无论如何，为了解决这个问题，我决定在带有 TCP 端点的 Windows 服务中托管 WCF 服务，并在我的商店应用程序中使用该服务。对于插入，它可以工作，不是问题。

但是当我去检索一些数据（一个非常小的数据集 - 3条记录）时，显示以下错误：*服务器没有提供有意义的回复；这可能是由合同不匹配、会话过早关闭或内部服务器错误引起的*。

我已经用谷歌搜索过这个错误，它似乎是一个常见的错误——这意味着它可能是任何东西。但我完全是 WCF 的菜鸟。

我在 ViewModel 中的代码很简单：

```
 private async void PopulatePeople()
    {
        var people = await licenceBucketService.GetAllPersonsAsync();

        FirstName = people.First().FirstName;
        LastName = people.First().LastName;
    } 
```

GetAllPersons 方法是：

```
public ObservableCollection<Person> GetAllPersons()
{
    ObservableCollection<Person> people = null;

    using (var context = new LicenceBucketContext())
    {
         people = new ObservableCollection<Person>(context.People);
    }

    return people;
} 
```

Reference.cs 文件中的异步版本如下所示：

```
public System.Threading.Tasks.Task<System.Collections.ObjectModel.ObservableCollection<Win8UI.LicenceBucketService.Person>> GetAllPersonsAsync() {
        return base.Channel.GetAllPersonsAsync();
    } 
```

有任何 WCF 大师看到我的问题吗？

# visual-studio-2012 - 像 T4 一样生成 c# 代码的 Nemerle 示例

> ID：15182153
> 
> 赞同：1
> 
> 时间：2013-03-03T03:29:39.923
> 
> 标签：visual-studio-2012, t4, nemerle

我比 T4 更喜欢 Nemerle 的宏语法。是否有任何示例或者是否可以使用 Nemerle 生成 c# 代码，然后由实际的 Microsoft c# 编译器以类似于 T4 的方式用于输入。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T07:01:58.877

我知道这个答案无关紧要，但是 Javascript 编译器 [NemerleWeb有一个 Nemerle](https://github.com/NemerleWeb/NemerleWeb)

类似的方法可用于生成 C# 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T12:04:12.827

Nemerle 宏不生成代码，而是在编译程序时修改程序的抽象语法树。但是，Nemerle 编译器可以读取 C#，您甚至可以在这些 C# 文件中使用 Nemerle 宏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T16:58:17.427

创建 Nemerle 到 C# prettyprinter 是可能的。但是，生成的代码会很丑陋（不可读）。

# cassandra - Cassandra 压缩失败：IOError IOException Map failed

> ID：15182156
> 
> 赞同：1
> 
> 时间：2013-03-03T03:30:09.203
> 
> 标签：cassandra

我们已经在生产环境中运行 Cassandra 1.0.2 好几个月了，而且麻烦很少。最近，我们开始在所有节点中看到一致的故障，并出现以下错误：

```
ERROR [CompactionExecutor:199] 2013-03-02 00:21:26,179 AbstractCassandraDaemon.java (line 133) Fatal exception in thread Thread[CompactionExecutor:199,1,RMI Runtime]
java.io.IOError: java.io.IOException: Map failed
        at org.apache.cassandra.io.util.MmappedSegmentedFile$Builder.createSegments(MmappedSegmentedFile.java:225)
        at org.apache.cassandra.io.util.MmappedSegmentedFile$Builder.complete(MmappedSegmentedFile.java:202)
        at org.apache.cassandra.io.sstable.SSTableWriter.closeAndOpenReader(SSTableWriter.java:308)
        at org.apache.cassandra.db.compaction.CompactionTask.execute(CompactionTask.java:174)
        at org.apache.cassandra.db.compaction.CompactionManager$4.call(CompactionManager.java:275)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:619)
Caused by: java.io.IOException: Map failed
        at sun.nio.ch.FileChannelImpl.map(FileChannelImpl.java:758)
        at org.apache.cassandra.io.util.MmappedSegmentedFile$Builder.createSegments(MmappedSegmentedFile.java:217)
        ... 9 more
Caused by: java.lang.OutOfMemoryError: Map failed
        at sun.nio.ch.FileChannelImpl.map0(Native Method)
        at sun.nio.ch.FileChannelImpl.map(FileChannelImpl.java:755)
        ... 10 more
INFO [Thread-2] 2013-03-02 00:21:26,222 MessagingService.java (line 488) Shutting down MessageService... 
```

节点在此之后死亡。我们删除最旧的数据文件并重新启动节点。该节点运行一段时间，然后再次死亡。这发生在我们环中的所有八个节点上。我们正在使用默认的压缩策略（大小分层），我们认为它是我们问题域的最佳选择。

**问：**为什么会发生这种情况，我们应该怎么做才能解决它？

# node.js - mongodb mapreduce 聚合解决方案或合并为替代方案

> ID：15182158
> 
> 赞同：0
> 
> 时间：2013-03-03T03:30:29.673
> 
> 标签：node.js, mongodb

下面是我试图实现的逻辑，但我发现很难找到使用 MongoDB/Node.js 应用程序的方法

```
Data: country, state, val1 
```

我需要计算均值和标准。偏差使用下面的公式。我检查了其他堆栈溢出帖子，但我正在工作的标准开发公式不一样：

```
for each row -> group by country, state
    mean = sum(val1)/count -> 
for each row ->
    deviation += Math.pow((val1 - mean), 2)
for each row -> group by country, state
    std dev = Math.sqrt(dev/ count) 
```

问题在于需要计算偏差的方式。看起来我需要在通过 Map reduce 计算偏差/ std dev 之前对 Mean 进行聚合，我找不到计算方法。谁能建议一种方法来做到这一点？

如果不可能，我们有没有办法在 mongodb 中发出类似于下面传统合并查询的更新语句？我将更新所有行的平均值，然后为偏差/标准差调用 Mapreduce。

```
merge into Tbl1 a using
  (select b.country, b.state, sum(b.val1)/count(b.val1) as mean
     from Tbl1 b
     group by b.country, b.state) c
on (a.country = c.country and 
    a.state = c.state)
when matched
then update
       set a.mean = c.mean 
```

我对 nosql 和 nodejs 很陌生，如果你们能提出解决方案/替代方案，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T14:40:37.193

是的，使用 map-reduce 计算标准偏差很棘手，因为您需要将每个数据值与传统算法中的平均值进行比较。

看看这个基于并行计算[算法](http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance#Parallel_algorithm)的解决方案：[https ://gist.github.com/RedBeard0531/1886960](https://gist.github.com/RedBeard0531/1886960)

# iphone - iPhone Autorotation - 禁用视图旋转动画但过渡到另一个屏幕

> ID：15182164
> 
> 赞同：1
> 
> 时间：2013-03-03T03:31:50.350
> 
> 标签：iphone, ios, objective-c

我目前正在开发一个应用程序，当用户将设备旋转到横向视图时，我想从一个屏幕转换到另一个屏幕。我有这个工作，但是当下一个视图进入时，正在转换的屏幕旋转到横向视图。防止当前视图旋转的常见解决方案是为 shouldAutoRotate 方法返回 NO。但是，我需要启用此功能才能过渡到下一个屏幕。我还在 willRotateToInterfaceOrientation 中玩弄了 [UIView setAnimationsEnabled:NO] ，但这只会隐藏动画，并且仍将当前视图旋转为横向。以下是所有相关的旋转方法：

```
-(BOOL)shouldAutorotate
{
        return YES;
}

//Temporarily disable rotation animation
-(void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration {
    [UIView setAnimationsEnabled:NO];
}

-(void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation {
    [UIView setAnimationsEnabled:YES];

    if(UIInterfaceOrientationLandscapeLeft)
        [self performSegueWithIdentifier:@"landscapeView" sender:self];
}

-(NSUInteger)supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskAllButUpsideDown;
} 
```

有什么建议么？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T09:20:32.670

您需要配置在旋转时动画化的视图，以不响应方向/大小的变化。例如，查看界面构建器中的自动布局设置，或者可能是 struts/springs 设置，如果您不使用自动布局（这是一种较新的技术）。

# linux - 如何使用正确的 tty 设置创建 execve() 子进程以运行“vi”但仍将 IO 重定向回父进程？

> ID：15182167
> 
> 赞同：1
> 
> 时间：2013-03-03T00:35:24.013
> 
> 标签：linux, io-redirection, tty, fork

如何获得`execve()`可以运行“vi”等的分叉子进程并将所有 IO 重定向到父进程？

我正在尝试将 shell 从嵌入式 Linux 进程传递到通过网络连接的 PC 软件接口。shell 进程的 IO 被打包到特定于应用程序的消息中，以便通过我们现有的协议进行网络传输。

首先，我只是简单地使用`pipe2()`、`fork()`、`dup2()`和重定向 IO `execve()`。这在远程端没有给我一个 tty，所以`screen`, etc. 没有用。

现在我正在使用`forkpty`，并且`screen`大部分都可以使用，但许多其他的却没有（`vi`,`stty`等）。看来当前的问题是子进程不控制 tty。

我一直在尝试 TIOCSCTTY，但运气不佳。

这或多或少是我所拥有的：

```
bool ExternalProcess::launch(...)
{
    ...

    winsize winSize;

    winSize.ws_col = 80;
    winSize.ws_row = 25;
    winSize.ws_xpixel = 10;
    winSize.ws_ypixel = 10;

    _pid = forkpty(&_stdin, NULL, NULL, &winSize);

    //ioctl(_stdin, TIOCNOTTY, NULL);

    if (!_pid && (_pid != -1))
    {
        // this is the child process
        char tty[4096];
        strncpy(tty, ttyname(STDIN_FILENO), sizeof(tty));
        tty[sizeof(tty)-1]=0;

        FILE* fp = fopen("debug.txt", "wt");    // no error checking - temporary test code
        fprintf(fp, "slave TTY %s", tty);

        //if (ioctl(_stdin, TIOCSCTTY, NULL) < 0)
        if (ioctl(STDIN_FILENO, TIOCSCTTY, NULL) < 0)
        {
            fprintf(fp, "ioctl() TIOCSCTTY %s\n", strerror(errno));
            fflush(fp);
        }
        else
        {
            fprintf(fp, "SET CONTROLLING TTY!");
            fflush(fp);
        }

        fclose(fp);

        // command, args, env populated elsewhere
        execve(command, args, env);

        ...

        // fail path
        _exit(-1);
        return false;
    }

    _stdout = _stdin;

    ...

    // enter select() loop reading/writing _stdin, _stdout
} 
```

我在调试文件中得到结果，例如：

```
slave TTY /dev/pts/5
SET CONTROLLING TTY! 
```

但仍有许多应用程序因`tcsetattr()`错误而失败。我是否认为这是一个控制 tty 问题？我如何解决它？

**编辑**

小修正。当我在 STDIN_FILENO 上执行 ioctl TIOCSCTTY 时，它就像在上面的调试文件中一样工作，但是返回父进程的 IO 重定向被中断。

**编辑 2**

好吧，我开始更好地理解这一点。查看 tcsetattr() 后面的 ioctl 的内核源代码，我正在调用的进程在尝试更改 tty 时被发送 SIGTTIN 和 SIGTTOU。

只有前台进程可以做到这一点，并且它们就像后台进程一样运行。我尝试在分叉之后和 execve() 之前将这些信号设置为 SIG_IGN，但这不起作用。我理解这个的语义，但是在我的重定向场景中，execve() 的进程就像它们是前台进程一样是安全的。问题是……如何做到这一点？我将继续在内核代码中寻找线索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T04:02:27.983

啊! 它是 bash，我用 execve() 调用的 shell。

如果它检测到 stderr 没有附加到 tty，那么它会进入这种特殊模式，其中子进程会导致 SIGTTOU。

我发现这里提到了这个问题[。](http://www.mail-archive.com/bug-bash@gnu.org/msg03433.html)

当我停止从 tty 重定向 stderr 时，它现在似乎按计划工作。

# asp.net - 超过身体宽度的物体

> ID：15182168
> 
> 赞同：0
> 
> 时间：2013-03-03T03:32:10.360
> 
> 标签：asp.net, html, css

我有一个固定的*标题*和一个延伸到 100% 页面的表格，简单吧？出于某种原因，桌子伸展了身体的 100% 以上。我有一个下面的代码示例。我有一个示例网站，但您必须注册并注册它。如果您仍然喜欢我会提供的链接。

```
<body style="max-width: 100%">
<div style="top: 0; left: 0; right: 0; width: 100%; position: fixed">Example Header</div>
<table style="width: 100%">
     <tr>
         <td>
            Example table.
         </td>
     </tr>
</table>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:33:49.230

表格的父级是主体，因此从主体中获取宽度是有意义的......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T10:29:49.927

我不知道这背后的机制，但是如果表格中的单元格的内容适合它，表格中的单元格会伸展以填充它的宽度，但如果不适合，它们也会开始伸展表格。不幸的是，定义表格单元格的宽度也有限制。

# algorithm - 生成动态高度图有哪些好的算法？

> ID：15182173
> 
> 赞同：-1
> 
> 时间：2013-03-03T03:32:53.653
> 
> 标签：algorithm, dynamic, theory, heightmap

我想研究一些动态高度图生成的算法，但我不熟悉任何算法。变得更有活力。关于多维高度图如何工作的一些理论是什么？即洞穴和悬垂。我应该使用多个高度图图像还是复杂的算法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:45:01.713

对于简单的 2D 高度图，[Diamond-square 算法](http://en.wikipedia.org/wiki/Diamond-square_algorithm)会产生合理的结果，而且速度很快。您可以在此之上应用[一些东西](http://oddlabs.com/download/terrain_generation.pdf)以使其看起来更逼真，例如简单的侵蚀，同时仍然非常快。

对于更有趣的功能...如果您想要快速的结果，我会坚持使用 2D 高度图，然后添加辅助功能实体（即巨石和洞），而不是尝试生成真正的 3D 环境；但当然，这是否足够接近完全取决于您想要实现的目标。

# iphone - 如何在子视图中制作按钮以更新其父视图中的信息？

> ID：15182175
> 
> 赞同：0
> 
> 时间：2013-03-03T03:33:21.327
> 
> 标签：iphone, objective-c, uiviewcontroller

所以我想制作一个 iPhone 应用程序，其中有两个由`UINavigationController`. 假设第一个视图是 ViewA，它是应用程序启动时的初始视图。然后 ViewA 转到 ViewB，这是另一个视图。ViewA 上有一个`UIButton`A 和一个`UILabel`A，`UIButton`A 与 ViewB 相连接（即，当按下按钮时，向用户显示 ViewB。在 ViewB 中，还有一个`UIButton`B，当按下时，可以更新`UILabel`ViewA 中的 A。（在其实`UIButton`ViewB里面应该有很多B，但是为了简单起见，就说一个吧。这就是我想要实现的，这就是我所做的。

我已经为它创建了两个视图和一个通用的`UINavigationController`根视图 A，因此在启动应用程序时可以正确显示初始视图。

我已经在 ViewA 中设置了`UILabel`A 和`UIButton`A，并将`UILabel`A 作为插座属性连接到 ViewAViewController。

我已经导入`ViewAViewControllerA`了`ViewAViewControllerB`.

我已将 A 上的（推送模式）`UILabel`A`View`转移到`View`B 上，它按预期工作。

我也知道如何通过 using进行更新`UILabelA`， 但我不能这样做，因为我不能调用而且我不知道. 那就是：我认为我应该使用但我不知道应该用什么来替换.`ViewAViewController``self.UILabelA.text``ViewBViewController``self``ViewAViewController``?.UILabelA.text``?`

顺便说一句，我正在使用 XCode 4.6 和 iOS 6 的开发与情节提要模式。

谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:37:57.977

您的主要问题是**从 ClassB 访问 ClassA 的对象**。

这里有很多方法和答案：

[通过不同视图的按钮更新标签](https://stackoverflow.com/questions/11257848/update-a-label-through-button-from-different-view)

[Xcode - 从不同的视图更新 ViewController 标签文本](https://stackoverflow.com/questions/10052594/xcode-update-viewcontroller-label-text-from-different-view)

[在另一个类中设置标签文本](https://stackoverflow.com/questions/9332082/setting-label-text-in-another-class)

[将另一个视图上的标签设置为存储的 NSDate](https://stackoverflow.com/questions/9081042/set-label-on-another-view-to-stored-nsdate)

# php - 如何在没有父属性的情况下获取子属性？

> ID：15182176
> 
> 赞同：1
> 
> 时间：2013-03-03T03:33:24.997
> 
> 标签：php

我有以下内容：

```
class a {

    private $firstVar;  

    function foo(){

        print_r( get_class_vars( 'b' ) );   
    }
}

class b extends a{

    public $secondVar;  

}

a::foo();
print_r( get_class_vars( 'b' ) ); 
```

输出是

```
Array ( [secondVar] => [firstVar] => ) 
Array ( [secondVar] => ) 
```

我认为这是因为当在 a 中调用 get_class_vars('b') 时，它可以访问 firstVar，但是如何让函数 foo() 只输出类 'b' 变量，而不输出父变量？

[http://php.net/manual/en/function.get-class-vars.php](http://php.net/manual/en/function.get-class-vars.php)上有一个解决方案，其中涉及获取 a 变量，然后获取所有 a 和 b 变量，然后删除两者中的变量，留下只是 b 变量。但这种方法似乎很乏味。还有其他方法吗？

* * *

我目前正在使用的解决方法：

```
class a {

    private $firstVar;  

    function foo(){

        $childVariables = array();

        $parentVariables = array_keys( get_class_vars( 'a' ));

        //array of 'a' and 'b' vars
        $allVariables = array_keys( get_class_vars( get_class( $this ) ) );

        //compare the two
        foreach( $allVariables as  $index => $variable ){

            if( !(in_array($variable, $parentVariables))){

                //Adding as keys so as to match syntax of get_class_vars()
                $childVariables[$variable] = "";
            }
        }

        print_r( $childVariables );
    }
}

class b extends a{

    public $secondVar;  

}

$b = new b;
$b->foo(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:00:58.887

您必须在较低的 PHP 版本上运行。它在您的相同代码上的键盘上运行良好。

### 演示：[http ://codepad.org/C1NjCvfa](http://codepad.org/C1NjCvfa)

但是，我将为您提供另一种选择。使用反射类：

```
public function foo()
{
  $refclass = new ReflectionClass(new b());
  foreach ($refclass->getProperties() as $property)
  {
    echo $property->name;
    //Access the property of B like this
  }
} 
```

`**[Preview](http://codepad.org/N80u465H)**`

# haskell - Haskell：尝试对简单的 State monad get 和 put 进行脱糖

> ID：15182177
> 
> 赞同：4
> 
> 时间：2013-03-03T03:33:26.023
> 
> 标签：haskell, get, put, state-monad

为了研究 State monad 的细节，我正在尝试为自己创建一个简单的 state monad 函数的完整脱糖版本，完成在[“如何获取”实际上 /get/ Haskell 中的初始状态？](https://stackoverflow.com/questions/1036957/how-does-get-actually-get-the-initial-state-in-haskell)，在 J Cooper 的回答中。

示例状态单子函数只是交换状态和输入值，因此（从概念上讲）如果输入是 (v, s)，那么输出是 (s, v)。我展示了三种翻译，首先从 do 符号到脱糖的 >>= 和 >>，然后将这些运算符放在函数位置，最后尝试替换它们并使用它们的定义获取/放置。

'do' 版本和前两个翻译有效，但最终翻译无效。问题：

1.  加载模块后，GHCi 报告 z1 不在范围内。
2.  我还没有弄清楚如何表示省略在 >> 翻译中传递的参数。

这些应该如何解决？

FWIW，当前的 Haskell 平台（GHC 7.4.2）。

谢谢！

```
-- simpleswap

import Control.Monad.State

-- =============================================
-- 'Do' version
simpleswap1 :: String -> State String String
simpleswap1 inp = do
    z1 <- get
    put inp
    return z1

-- =============================================
-- Desugared to >>= and >>
simpleswap2 :: String -> State String String
simpleswap2 inp = 
    get >>= 
    \z1 -> put inp >>
    return z1 

-- =============================================
-- >>= and >> changed to function position
simpleswap3 :: String -> State String String
simpleswap3 inp = 
    (>>=) get 
    (\z1 -> (>>) (put inp)  (return z1) )

-- =============================================
-- Attempt to translate >>=, >>, get and put

simpleswap4 :: String -> State String String
simpleswap4 inp = 
    state $ \s1 -> 
        -- (>>=) 
        let (a2, s2) = runState ( {- get -}  state $ \sg -> (sg,sg) ) s1
        in  runState (rhs1 a2) s2
        where 
            rhs1 a2 = \z1 -> 
            -- (>>)
                state $ \s3 -> 
                    let (a4, s4) = runState ( {- put inp -}  state $ \_ -> (inp, ()) ) s3
                    in runState (rhs2 a4) s4
                    where
                        rhs2 a4 = return z1

-- =============================================
main = do
    putStrLn "version 1004"
    let v = "vvv"
    let s  = "sss"
    putStrLn ("Before val: " ++ v ++ "  state: " ++ s)    
    let (v2, s2) = runState (simpleswap4 v) s
    putStrLn ("After val: " ++ v2 ++ "  state: " ++ s2)

-- ============================================= 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T10:14:13.940

中存在一些小错误`simpleswap4`。这是一个更正的版本：

```
simpleswap4 :: String -> State String String
simpleswap4 inp = 
    state $ \s1 -> 
        -- (>>=) 
        let (z1, s2) = runState ( {- get -}  state $ \sg -> (sg,sg) ) s1
        in  runState (rhs1 z1) s2
        where 
            rhs1 z1 = 
            -- (>>)
                state $ \s3 -> 
                    let (_, s4) = runState ( {- put inp -}  state $ \_ -> ((), inp) ) s3
                    in runState rhs2 s4
                    where
                        rhs2 = return z1 
```

我已重命名`a2`为`z1`（在第 5 行和第 6 行）。这不会改变语义，但强调了脱糖`get`调用返回的对的第一个组件实际上是`z1`在之前版本的`simpleswap`.

的类型`rhs1`应该是`String -> State String String`。在您的版本中，它会获得一个额外的 lambda 绑定变量。`a2`目前尚不清楚您的版本中和`z1`应该有什么区别。删除 lambda（第 8 行）还具有解决范围问题的优势。您`z1`在嵌套`where`- 子句中使用，但`where`只能看到绑定在它所附加的声明左侧的变量。

在第 11 行，我已替换`a4`为`_`. 这是为了强调`(>>)`确实丢弃了第一个动作的结果。因此，`rhs2`也没有在这个结果上参数化。

# css - 在线 CSS DRYer（重复数据删除）

> ID：15182179
> 
> 赞同：5
> 
> 时间：2013-03-03T03:33:39.160
> 
> 标签：css, parser-generator

DRY =“不要重复自己”。

我有一个基本的 CSS 框架，我用它来构建更复杂的设计。最快的原型设计方法是从最后开始构建 css 以获得所需的结果（而不是从基础 css 编辑现有 css 属性）。

然而，在我完成之后，有很多类名和属性的重复。

我正在寻找一种在线（或离线）工具，它可以扫描我的 css 文件并以一种消除冗余和重复的形式智能地重新制作它。

例如，如果 CSS 文件中存在这两行：

```
//FROM THE BASE CSS
.header{
    font-weight:bold;
    font-size:1.5em;
    background:red;
    margin:0 auto;
    padding:20px
    }

//FROM THE ADDED CSS
.header{
    font-weight:normal;
    font-size:1.25em;
    background:blue;
    padding-bottom:0;
    margin-top:-20px
    } 
```

期望的结果（将级联中较低的项目作为前者的优先级）将删除 .header 指令的第一个实例并将两个 .header 实例的规则合并到一个 .header 指令中，如下所示：

```
.header{
    font-weight:normal;
    font-size:1.25em;
    background:blue;
    margin:-20px auto 0 auto;
    padding:20px 20px 0 20px
    } 
```

这样的应用程序存在吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:41:20.730

就个人而言，我为此使用[CSSTidy 。](http://csstidy.sourceforge.net/)它做了很多事情，但除其他外，它在可能的情况下合并选择器并正确级联（删除重复的属性）。我通常也会将原始文件大小减少 30% 左右，这很整洁，即使在缩小后它仍然相当容易阅读（与 JavaScript 缩小器不同）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T07:43:25.103

有很多工具可以帮助解决这个问题，这里有两个我觉得很方便：

1.  [CSS垃圾人](http://www.csstrashman.com/)
2.  [自重](https://github.com/aanand/deadweight)

# javascript - JQuery - 使方法 .live() 适应插件

> ID：15182186
> 
> 赞同：1
> 
> 时间：2013-03-03T03:35:32.740
> 
> 标签：javascript, jquery, plugins

我是 JQuery 新手，我尝试在我的项目中使用 JQuery 插件，但没有成功。有人告诉我，如果我将 .live() 方法与事件“加载”一起使用，错误将得到修复，但我无法实现它。任何人都可以帮我调整方法吗？

我的 JQuery 版本是 1.4.2。

我需要在这里调整方法（我猜）：

```
<script type="text/javascript" src="easySlider1.7.js"></script>
<script type="text/javascript">
        $(document).ready(function(){

            $("#slider").easySlider({
                     auto: false, 
                     continuous: true
                   });      
        });
</script> 
```

该插件（只是出于好奇）：

[http://pastebin.com/56xxqK5i](http://pastebin.com/56xxqK5i)

提前谢谢各位！

# java - 获取空指针异常，为什么

> ID：15182187
> 
> 赞同：-2
> 
> 时间：2013-03-03T03:35:38.177
> 
> 标签：java, nullpointerexception

宣布：

```
private Man[] man; 
```

这是初始化：

```
Man[] man = new Man[1];

    for (int i = 0; i < 1; i++){
        man[i] = new Man();
            for (int j = 0; j < 3; j++){
                man[i].eatThis(table.foods[table.topFood-1]);
                table.topFood--;
            }
    } 
```

想打印这个：

```
System.out.println(getMan(0)); 
```

去：

```
public Man getMan(int k){
 return man[k];
} 
```

但我收到 NullPointerException。为什么？尽管：

```
System.out.println(man[0]); 
```

工作得很好。

它返回：

```
Man = (bread, meat, cheese) 
```

这是一个例外：

```
Exception in thread "main" java.lang.NullPointerException
at ManRunning.getMan(ManRunning.java:80)
at ManRunning.newGame(ManRunning.java:133)
at ManRunning.<init>(ManRunning.java:57)
at RunDevilRun.main(RunDevilRun.java:9) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T03:48:38.503

听起来您实际上是在使用局部变量来*隐藏*类成员。在你的初始化`man``man`

```
Man[] man = new Man[1]; 
```

这声明了一个新变量。允许与类成员同名的局部变量，它们将隐藏（也称为阴影）类级别变量。因此，虽然看起来您正在初始化`man`，但实际上您正在初始化一个本地数组，而不是触及您班级中的那个。要初始化它而不声明一个新的，你只想说：

```
man = new Man[1]; 
```

# c# - 为什么在不安全的部分禁止等待？

> ID：15182188
> 
> 赞同：9
> 
> 时间：2013-03-03T03:35:42.473
> 
> 标签：c#, unsafe, async-await

根据[http://blogs.msdn.com/b/pfxteam/archive/2012/04/12/async-await-faq.aspx](http://blogs.msdn.com/b/pfxteam/archive/2012/04/12/async-await-faq.aspx)，该`await`关键字在`unsafe`块内被禁止，仅提及“保留非托管指针所固有的困难”。 ' 对于这些困难是什么，是否有很好的解释？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T19:28:03.527

你需要知道的两件基本的事情。一个异步方法被 C# 编译器重写为一个包含状态机的名称难以描述的小类。async 方法的局部变量成为该类的字段。

不安全的代码通常依赖于能够创建指向局部变量的指针。*固定*语句就是这样，它创建了一个隐藏的局部变量，垃圾收集器可以看到并因此在垃圾收集发生时更新，移动正在修复的数组。创建指向局部变量的指针很好，这些变量不会被垃圾收集器移动。线程的堆栈始终位于虚拟内存地址空间中的固定位置。

把两者联系起来，你就会看到问题，一个局部变量可以变成一个类的字段，当垃圾回收发生时，这个字段的地址*确实会改变。*突然将不安全的代码变成破坏代码。

演示该问题的代码片段：

```
class Example {
    int field;
    unsafe void Method() {
        int local = 42;
        int* p = &local;   // fine
        int* q = &field;   // CS0212
    }
} 
```

C# 团队本*可以*努力仔细分析重写后不安全代码仍然可以使用的情况。但是有些情况是无法修复的，例如*fixed*语句。一堆工作只会给程序员带来令人失望的消息，通常是出于令人困惑的原因。明智的做法是简单地将不安全的代码声明为禁区。

# erlang - Erlang :: orddict:map() 的示例

> ID：15182192
> 
> 赞同：0
> 
> 时间：2013-03-03T03:36:37.763
> 
> 标签：erlang

有人可以给我一个例子，说明在 Erlang 中如何使用 orddict:map() 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T07:28:55.663

orddict:map(F,D) 将函数 F 应用于 orddict 的所有 key/value 并返回包含 key/newvalue 的新 orddict

```
1> D = orddict:new().
[]
2> D1 = orddict:store(1,"test",D).
[{1,"test"}]
3> D2 = orddict:store(2,"test",D1).
[{1,"test"},{2,"test"}]
4> D3 = orddict:store(3,"test",D2). 
[{1,"test"},{2,"test"},{3,"test"}]
5> orddict:map(fun(K,V) -> V ++ " " ++ integer_to_list(K) end, D3). 
[{1,"test 1"},{2,"test 2"},{3,"test 3"}]
6> 
```

# jquery - 将不同选择器的不同事件组合成一个函数

> ID：15182195
> 
> 赞同：0
> 
> 时间：2013-03-03T03:37:01.817
> 
> 标签：jquery, events, css-selectors

如何将 $('#foo').click() 和 $('#bar').change() 组合在一个相同的函数中？#bar 可能不会被点击触发，#foo 不会被改变触发。

所以假设：

```
$('#foo').click() + $('#bar').change() (function{
  //...
}); 
```

这**不是**我要找的：

```
function foobar() {
  // ...
}
$('#foo').click(function{
  foobar();
});
$('#bar').change(function{
  foobar();
}); 
```

相关的 HTML：

```
<select id="bar">
  <option>dummy1</option>
  <option>dummy2</option>
</select>
<button id="foo">foo</button> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T03:48:07.743

如果您不想`click`on`#bar`或`change`on ，这确实是唯一的方法`#foo`：

```
$( '#foo, #bar' ).on( 'click change',  function ( event ) {
    if( ( event.type == 'click' && event.target.id == 'foo' )
        || ( event.type == 'change' && event.target.id == 'bar' ) ) {

        //process event here
    };
} ); 
```

尽管我认为您列出的**不**想要的方法是更好的方法。哪个更容易阅读和理解？：

```
function foobar() {
    // ...
};

$( '#foo' ).click( foobar );
$( '#bar' ).change( foobar ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:53:43.100

```
$(":input").click(function(){
    alert($(this).attr('id'));
    foobar(); //you can pass here the id as parameter to your function
}) 
```

[http://jsfiddle.net/5vgKm/](http://jsfiddle.net/5vgKm/)

# c# - 将 Listbox SelectedItem/Index 设置为与将项目移出之前相同

> ID：15182196
> 
> 赞同：0
> 
> 时间：2013-03-03T03:37:10.047
> 
> 标签：c#, winforms, listbox, selecteditem, selectedindex

我有 2 个列表框，并且有控件可以将项目相互移动。当将一个条目从 listBox1 移动到 listBox2 时，会自动选择 listBox1 中的第一个条目 - 逻辑行为，因为被选中的项目不再在该 listBox 中已被移出。然而，如果用户想要添加连续的项目，因为他们不得不重新选择，这很烦人。

将项目从 listBox1 移动到 listBox2 的代码：

```
private void addSoftware()
{
     try
     {
         if (listBox1.Items.Count > 0)
         {
             listBox2.Items.Add(listBox1.SelectedItem.ToString());
             listBox1.Items.Remove(listBox1.SelectedItem);
         }
     }

     catch (Exception ex)
     {
         MessageBox.Show(ex.Message);
     }

     if (listBox1.Items.Count > 0)
         listBox1.SelectedIndex = 0;
     listBox2.SelectedIndex = listBox2.Items.Count - 1;
} 
```

从逻辑上讲，我（想我）希望 listBox1 的 SelectedIndex 保持与单击“添加”按钮之前相同。实际上，我希望 listBox1 中的选定项目成为下一个项目。因此，如果用户移出第 4 项，则所选项目应该是新的第 4 项（以前是第 5 项，但现在是 4），如果这有意义的话。注释掉该行

```
listBox1.SelectedIndex = 0; 
```

我试过添加这条线

```
listBox1.SelectedIndex = listBox1.SelectedIndex + 1; 
```

将索引从原来的值增加 1，但这没有任何区别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T15:22:52.587

按照 Alina B 的建议回答。

我得到 SelectedIndex 然后重新设置它，除非该项目是 listBox 中的最后一个项目，因此将其设置为原来的值 - 1。

```
 private void addSoftware()
    {
        int x = listBox1.SelectedIndex;
        try
        {
            if (listBox1.Items.Count > 0)
            {

                listBox2.Items.Add(listBox1.SelectedItem.ToString());
                listBox1.Items.Remove(listBox1.SelectedItem);
            }
        }

        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }

        if (listBox1.Items.Count > 0)
            listBox1.SelectedIndex = 0;
        listBox2.SelectedIndex = listBox2.Items.Count - 1;

        try
        {
            // Set SelectedIndex to what it was
            listBox1.SelectedIndex = x;
        }

        catch
        {
            // Set SelectedIndex to one below if item was last in list
            listBox1.SelectedIndex = x - 1;
        }
    } 
```

# ruby-on-rails-3 - Rails 中的 ElasticSearch 未返回预期的多元化响应

> ID：15182201
> 
> 赞同：0
> 
> 时间：2013-03-03T03:37:58.790
> 
> 标签：ruby-on-rails-3, elasticsearch, tire

我只是在我的食物数据库上实施弹性搜索，我很难理解为什么我会看到我看到的结果。

我正在搜索美国农业部食品数据库。

当我传入对 Banana 的查询时，我会返回 Banana 的所有单数形式，以及一个 entry `Bananas, dehydrated, or banana powder`。

当我通过查询 Bananas 时，我得到了上面提到的条目，以及`Bananas, Raw`我想要获取的条目。

我真的很简单地使用

```
   食物 = Foods.search(params[:name],:page_size=>100)
   返回渲染：json => 食物

```

我已经尝试查看轮胎和弹性搜索文档，但并不真正理解它试图告诉我关于实现 kstem 或其他调整搜索的方法，我也想如果一种类型的“香蕉”，被返回，其他类型也应该。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T04:52:53.773

除非我在搜索“香蕉”时遗漏了某些内容，否则您会得到“香蕉、脱水或香蕉粉”，因为“香蕉”在该条目中匹配了两次。

当您搜索“bananas”时，您会得到该条目，因为它与“bananas”部分匹配，这也解释了为什么您会得到“Bananas, Raw”。

# css - 在 Rails 中格式化 CSS 输出

> ID：15182208
> 
> 赞同：0
> 
> 时间：2013-03-03T03:39:43.317
> 
> 标签：css, ruby-on-rails

我正在构建一个保存 CSS 片段的小型 Rails 应用程序。我有一个控制器，允许用户“获取”my_app.com/styles.css，它输出已输入的所有 css 片段的纯文本。有没有一种方法可以在渲染视图时“美化”css？还是我需要使用某种 javascript 插件？或者即使我可以在一开始保存它时“美化”它。我见过一些与 CSSTidy 一起使用的类似服务器端技术，但那只是 PHP。

编辑：这是我渲染 css 视图的方式：

在我的 routes.rb

```
 get 'styles', to: 'styles#snippets' 
```

在我的控制器中

```
class StylesController < ApplicationController
  def snippets
    @entries = Entry.all
  end
end 
```

在我看来（snippets.css.erb）

```
<% @entries.each do |entry| %>
/* <%= entry.name %> 
======================================*/

<%= entry.css %>

<% end %> 
```

这会输出一个带有标签的文件，然后是每个 CSS 片段。空白很奇怪。我不想依赖用户的输入来正确呈现输出上的 CSS 缩进。我宁愿在输出上格式化它以便很好地缩进。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T03:48:18.493

你可以看看几个选项

*   [突出宝石](https://github.com/simplabs/highlight)
*   [coderay railscast](http://railscasts.com/episodes/207-syntax-highlighting)
*   [Pygments.rb](https://github.com/tmm1/pygments.rb)

# php - 从 Wordpress 循环中删除 the_content

> ID：15182209
> 
> 赞同：1
> 
> 时间：2013-03-03T03:39:45.350
> 
> 标签：php, wordpress

我试图弄清楚如何在 wordpress 循环中显示仅包含某些元素的自定义循环。

我的循环当前包含标题、创建日期、作者和内容。

但是，我正在尝试删除循环中每个帖子的内容，因为我不希望它在没有运气的情况下显示在此列表中。我什至已经从循环中删除了 the_content() 并且它仍然在循环部分下显示帖子内容的列表。

任何帮助将不胜感激，

这是我的代码：

```
<?php query_posts('category_name=halloween &posts_per_page=6'); ?>
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>
<!-- IF articles then display them -->

<h6><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></h6>   
<small><?php the_time('F jS, Y') ?> by <?php the_author_posts_link() ?></small>

<?php endwhile; else: ?>
<!-- IF no articles were created then show -->

NO Posts Present 

<?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:29:21.853

我似乎找到了我的代码中缺少的内容，因为在我的循环结束时需要以下代码片段来解决问题：

这是我在 endif 之后添加的代码

```
<?php wp_reset_query(); ?> 
```

# ibm-mobilefirst - Worklight Direct 更新

> ID：15182212
> 
> 赞同：0
> 
> 时间：2013-03-03T03:40:21.390
> 
> 标签：ibm-mobilefirst

有谁知道如果直接更新会更新公共目录结构中的所有内容。我为多个应用程序使用了相同的代码库，唯一的变化是 js 文件中的某些设置告诉应用程序如何操作。是否有一个目录我可以放置该 js 文件，它可以不受直接更新功能的影响？

我无法在 IBM 的网站上找到任何具体信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T21:22:37.937

我认为你们需要小心使用哪些术语，以免混淆可能正在寻求类似帮助的人。

**环境**特定于您使用的操作系统。iOS、Blackberry、Android 等环境。

皮肤基于环境，并不适用于所有平台。创建皮肤时，您必须选择运行的环境。

因此，为了纠正一些问题，直接更新将更新目标环境中的**所有**皮肤资源。

例如：您有一个 Android 和 iOS 版本的应用

当您创建皮肤时，您实际上是在为您的参数创建一种响应式设计。例如，如果您有 2.3 和 4.2 的 Android 操作系统，您可以为两者设置外观。但是，这些使用单个 Web 资源库。两个版本的应用程序的 APK 相同（默认情况下），并且有 2 个可用的皮肤。在**运行时**使用 IBM Worklight 的**“运行时皮肤”**（因此得名），它会检查操作系统的参数并加载覆盖 Web 代码的皮肤。

从技术上讲，您可以覆盖所有 Web 代码，使两种皮肤完全不同，但这将是庞大且低效的。

当您直接更新时，您正在更新该特定**环境**的所有资源（包括两个皮肤），而不是公共文件夹/环境。

因此，更新的 Android（两种皮肤）将更新 Web 资源（如果您部署了 android wlapp），而 iOS 版本将保持不变。

如果你在构建之后查看Android项目（native -> assets -> www -> default or skin）你可以找到公共环境生成的共享网络资源。但是，只有在您每次进行新构建时才会放在那里。

![浏览器测试](../Images/ec02da895cb8973363f380169008ccc7.png) 在图片中，我在左侧有一个为两种皮肤构建的旧版 Android。右侧是仅部署**common.wlapp后更新的****通用**资源的预览。所以你可以看到它们是分开的。

 **对不起，如果它是长篇大论，但我想我会彻底。

**要回答最初的问题**，您是否想过从用户输入或设置中加载商店的所有参数？如果您尝试连接到 3 个不同的商店，请为设置控制创建一些表单，以访问不同的后端或特定的适配器。您还可以根据您设置的参数创建 3 个不同的 config.js，以便您设置。另一种选择是为商店设置不同版本的应用程序。

例子。1.11、1.12、1.13版本可以是1、2、3商店同一个app的3个版本，可以修改和更改，拥有3组web资源。需要更新时，跳转到1.21、1.22、1.23版本。这似乎有点变通，但最好的办法是让同一应用程序的 3 个版本归入单一应用程序类别。（保留 3 个 config.js 类型用于修改 3 个商店）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-04T02:10:08.817

据我所知，Direct Update 将更新您正在使用的皮肤的每个 Web 资源（html、css、js）。但是，我不是这方面的专家。

如果您只支持 Android 和 iOS 应用程序并且需要一种存储设置的方法，我推荐 JSONStore。否则请查看[Cordova Storage](http://docs.phonegap.com/en/2.3.0/cordova_storage_storage.md.html#Storage)、[Local Storage](http://diveintohtml5.info/storage.html)或[IndexedDB](http://www.ibm.com/developerworks/web/library/wa-indexeddb/index.html?ca=drs-)。

使用调用的 JSONStore 集合`settings`将允许您将数据存储在应用程序目录内的磁盘上。它会一直存在，直到您调用其中一种删除方法（如[销毁](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/topic/com.ibm.worklight.help.doc/apiref/r_wl_jsonstore_destroy.html)）或直到应用程序被卸载。还有一些方法可以将集合链接到 Worklight 适配器以从服务器拉取数据/向服务器推送数据。下面的链接将提供更多详细信息。

> 唯一的变化是 js 中的某些设置

为您的设置创建一个集合：

```
var options = {};
options.onSuccess = function () {
    //... what to do after init finished
};
options.onFailure = function () {
    //... what to do if init fails
}
var settings = WL.JSONStore.initCollection('settings',
    {background: 'string', itemsPerPage: 'number'}, options); 
```

您可以在调用 initCollection onSuccess 后添加新设置：

```
settings.add({background: 'red', itemsPerPage: 20}, options); 
```

您可以找到调用 initCollection onSuccess 后存储的设置：

```
settings.findAll({onSuccess: function (results) {
    console.log(JSON.stringify(results));
}}); 
```

[您可以在入门模块](http://www.ibm.com/developerworks/mobile/worklight/getting-started.html#mobile-client-development)中阅读有关 JSONStore 的更多信息。请参阅模块：7.9、7.10、7.11、7.12。[IBM InfoCenter](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/index.jsp?topic=%2Fcom.ibm.worklight.help.doc%2Fapiref%2Fr_class_wl_jsonstore.html)的 API 文档中有更多信息。上面介绍的方法是：[initCollection](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/topic/com.ibm.worklight.help.doc/apiref/r_wl_jsonstore_initcollection.html)、[add](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/topic/com.ibm.worklight.help.doc/apiref/r_wl_jsonstore_add.html)和[findAll](http://pic.dhe.ibm.com/infocenter/wrklight/v5r0m5/topic/com.ibm.worklight.help.doc/apiref/r_wl_jsonstore_findall.html)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T08:38:45.600

我认为从 5.0.3 版本开始，直接更新不会更新所有网络资源，只会更新您正在使用的皮肤。

说你有皮肤 def 和皮肤 skin2 你在 def

1.  在服务器上对 def 进行更改 -> 您将仅获得 def 的直接更新
2.  对服务器上的 skin2 进行更改-> 没有直接更新。

你在 skin2 上：

1.  更改服务器上的 skin2 -> 仅直接更新 skin2
2.  *   更改也驻留在 skin2 上的 def javascript（因此最终结果是 def+skin2 连接），仅更新 skin2
    *   更改def，只更改图片（还检查应用程序描述符中的图片扩展名：“）-> 不直接更新

这就是直接更新的工作原理。

还请分享一些有关问题的更多详细信息，我看到您使用的是js文件，您在哪里更改它？你是什​​么意思，给出一个更好（简化）的现实生活例子，因为不清楚你在尝试什么。**

# css - 移动 CSS 覆盖显示不正确

> ID：15182214
> 
> 赞同：1
> 
> 时间：2013-03-03T03:40:32.177
> 
> 标签：css, mobile, overlay

提前感谢您提供的任何建议！我有一个在我的网站的桌面版本上运行良好的叠加层。但是，当我设计用于移动设备的叠加层时，它给我带来了问题。这是jfiddle：

[http://jsfiddle.net/kevindp78/bs3FT/1/](http://jsfiddle.net/kevindp78/bs3FT/1/)

代码如下。当我在移动视图中尝试此操作时，内容似乎出现在错误的级别（可能低于#fixedoverlay 但高于#overlaymatte？）基本上，由于某种原因，我无法与#overlaycontent 中的内容进行交互。它上面有一层深色背景，div 顶部只有一条白色。有任何想法吗？谢谢！

我的 CSS：

```
#fixedoverlay, #overlaymatte {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: #000000;
opacity: 0.7;
filter: alpha(opacity=70);
z-index: 999;
}

#overlaycontent {
position: relative;
width: 960px;
margin: 25px auto;
max-height: 75%;
overflow: auto;
background: #fff;
padding: 20px;
/*  border: 20px solid #fff; */
-moz-border-radius: 10px;
-webkit-border-radius: 10px;
border-radius: 10px;
z-index: 9999;
}

#overlaymatte {
background: none;
} 
```

我的 HTML

```
<div id="fixedoverlay">
 <div id="overlaymatte"></div>
<div id="overlaycontent">
    <div><p>Here's my content</p><p>Here's my content</p><p>Here's my content</p><p>Here's my     content</p><p>Here's my content</p></div>
</div>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T13:55:19.423

抱歉，这是与我正在使用的移动设计软件（Mobify）相关的 HTML 和 javascript 问题的结果。本质上，我有一些 javascript 会自动附加覆盖：

```
function popUpOverlay(){
        $('body').append('<div id="fixedoverlay"><div id="overlaymatte"></div><a title="close" href="#" class="closeoverlay">Close</a><div id="overlaycontent"></div></div>');
        $('#overlaycontent').append(loaderimg);
        $('#loaderimg').show();
        $(window).keydown(function(e){
            if(e.keyCode == 27) {
                $('#fixedoverlay').remove();
            }
        })
    } 
```

我的问题是我在整个网站上应用了 Javascript 两次：一次是通过参考链接在文档的头部，一次是通过 Mobify 的全局选择/脚本功能。由于 javascript 被应用了两次，我实际上看到了覆盖的两个实例：一个在另一个之上。我修复了 javascript，因此只发生了一个实例，问题不再发生。

# winscp - WinSCP：在哪里可以找到成功传输的文件列表？就像在 FileZilla 中一样

> ID：15182215
> 
> 赞同：4
> 
> 时间：2013-03-03T03:40:50.663
> 
> 标签：winscp

当我使用 WinSCP 传输文件时，我只能在传输文件时看到它们。上传/下载文件后，队列变为空，并且没有可用的“历史记录”。我错过了什么吗？是否有插件可以查看成功传输？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T19:18:59.367

您可以使用[选项*显示已完成的传输在队列*](https://winscp.net/eng/docs/ui_pref_background)中配置已完成传输的显示时间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-10-11T02:59:49.870

在菜单中

> 选项 => 首选项.. => 记录

您可以启用日志记录。这应该为您提供您传输的所有文件的历史记录。

# java - 将洗好的牌添加到队列中

> ID：15182222
> 
> 赞同：4
> 
> 时间：2013-03-03T03:41:38.493
> 
> 标签：java, queue

由于英语不是我的第一语言，我有时很难理解老师关于她想要什么的指示。我将提供她想要什么、我编写的代码和我的问题的说明。

说明： • 有一个私有方法来“洗牌”，创建一个随机洗牌的 52 张牌的队列。使用随机类。

我的代码：

```
private void shuffling()
    {
        Random generator = new Random();  
        int[] cards = new int[52];  

        for (int i=0; i<cards.length; i++) 
        {
            cards[i] = i;
        }

        for (int i=0; i<cards.length; i++) 
        {
            int randomPosition = generator.nextInt(cards.length);
            int temp = cards[i];
            cards[i] = cards[randomPosition];
            cards[randomPosition] = temp;
        }
    } 
```

问题：我是否按照老师的指示正确地完成了她的要求？如果我是，我的问题是，我如何创建一个随机洗牌的 52 张牌的队列？我认为我有洗牌部分。任何帮助，将不胜感激。

带着敬意，

一个新手程序员

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T03:55:45.527

问题的`Queue`一部分将需要创建某个实现的类的实例`java.util.Queue`。

使用您讲座中（毫无疑问）提供的 Java API 文档的链接：

*   查看`Queue`界面（@MaxOvrdrv 提供了一个旧版本的链接……最好使用 Java 7 javadocs……去找他们！）
*   查看实现的类`Queue`
*   阅读类的描述
*   选择一个适用于您的用例的（即一个简单的）
*   阅读`Queue`API 方法并找出需要使用哪些方法将元素添加到队列
*   编码它...

（我不会为您提供链接，因为您需要知道（并记住！）如何自己找到它们。）

* * *

For the rest, well it depends on how you have been instructed to represent the "cards". If they are simply integers, then the rest of the code is reasonable. That's not a bad way to implement shuffling. (`Random` is not a good random number generator, but that hardly matters in this case.)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T03:52:36.287

这是一个关于如何在java中创建队列的链接：

[如何在 java 中实例化 Queue 对象？](https://stackoverflow.com/questions/4626812/how-do-i-instantiate-a-queue-object-in-java)

# c# - 从控制器传递迭代的值列表以在 Asp.net mvc 4 中查看

> ID：15182223
> 
> 赞同：0
> 
> 时间：2013-03-03T03:41:45.663
> 
> 标签：c#, asp.net, asp.net-mvc-4

我有一个控制器，它检查 url 列表并将 httpstatus 代码、描述和消息返回到视图。每次我调试我的解决方案时，它都会遍历 url 列表，但它只返回第一个 url 的状态。

如何返回所有 url 列表的状态？这是我的示例代码

```
 {

        string[] urls = {
      "http://www.google.com","http://www.34q34adf.com","http://aldlfaldkfk.com","http://www.bbc.com"

                        };

        foreach (string url in urls)

        {
            try
            {

                HttpWebRequest myHttpWebRequest = (HttpWebRequest)WebRequest.Create(url);

                HttpWebResponse myHttpWebResponse = (HttpWebResponse)myHttpWebRequest.GetResponse();

                ViewBag.status_code = ((int)myHttpWebResponse.StatusCode);
                ViewBag.status_desc = myHttpWebResponse.StatusDescription;
                var current_code = ((int)myHttpWebResponse.StatusCode);

                if (current_code == 200)
                {
                    ViewBag.Image = "Images/green_light.png";
                    ViewBag.AlertType = "alert-success";
                }

                myHttpWebResponse.Close();

            }
            catch (WebException e)
            {
                string message = e.Message;

                if (e.Status == WebExceptionStatus.ProtocolError)
                {
                    HttpWebResponse hwr = (HttpWebResponse)e.Response;

                    ViewBag.status_code = ((int)hwr.StatusCode);
                    ViewBag.status_desc = hwr.StatusDescription;
                    var current_code = ((int)hwr.StatusCode);
                    ViewBag.status_desc = hwr.StatusDescription;
                    if (current_code != 200)
                    {
                        ViewBag.Image = "Images/red_light.png";
                        ViewBag.AlertType = "alert-error";
                    }
                }
            }
            catch (Exception e)
            {
                ViewBag.message = e.Message;
            }
        }

        return View();
    } 
```

如何让我的视图显示所有 url 的状态？任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T03:51:28.770

您应该创建一个 ViewModel 来保存 url 及其状态并将其列表传递给视图。

```
public class URLStatusVM
{
  public string URL { set;get;}
  public string Status { set;get;}
} 
```

并在您的 Action 方法中

```
public ActionResult CheckIt()
{
   List<URLStatusVM> urlList=new List<URLStatusVM>();

   string[] urls = {"http://www.google.com","http://www.aaa.com"}
   foreach (string url in urls)
   {
     //Check the status using HttpWebRequest call here

     //Create an object of our view model and set the property values
     var item=new URLStatusVM();
     item.URL=url;
     item.Status="Some status text"; //replace with the status from web call

     //now add to our list
     urlList.Add(item);

    //your foreach loop ends here
   }
   return View(urlList);
} 
```

现在将您的视图强类型化为 URLStatusVM 类的集合。

```
@model List<URLStatusVM>

@foreach(var item in Model)
{
 <p> @item.URL </p>
 <p> @item.Status </p>
} 
```

# php - 使用 OAuth2 获取我的所有视频（包括私人视频）

> ID：15182225
> 
> 赞同：2
> 
> 时间：2013-03-03T03:41:48.743
> 
> 标签：php, youtube-api

我目前有一些工作可以根据我的 Youtube 用户名获取我的所有视频。现在我也需要让它拉出我的私人视频。

我需要一切工作的方式是当我将视频上传到 Youtube 时，它​​会自动嵌入我的受密码保护的网页中。

我创建了我的 API 密钥，还使用了 Oauth 2.0 沙盒，并且能够检索所有视频，包括私人视频，但我不知道如何将 Oauth 与我当前的编码集成，如下所示：

```
 <?php

    // set feed URL
    $feedURL = 'http://gdata.youtube.com/feeds/api/users/tprestinario/uploads';

    // read feed into SimpleXML object
    $sxml = simplexml_load_file($feedURL);
    ?>
      <h1><?php echo $sxml->title; ?></h1>
    <?php
    // iterate over entries in feed
    foreach ($sxml->entry as $entry) {
      // get nodes in media: namespace for media information
      $media = $entry->children('http://search.yahoo.com/mrss/');

      // get video player URL
      $attrs = $media->group->player->attributes();
      $watch = $attrs['url']; 

      // get video thumbnail
      $attrs = $media->group->thumbnail[0]->attributes();
      $thumbnail = $attrs['url']; 

          // get <yt:duration> node for video length 
      $yt = $media->children('http://gdata.youtube.com/schemas/2007'); 
      $attrs = $yt->duration->attributes(); 
      $length = $attrs['seconds']; 
        $videoid = $yt->videoid[0]; 

      ?>

        <div class="item">
            <h1><?php echo $media->group->title; ?></h1>
            <p><?php echo $media->group->description; ?></p>
            <iframe width="560" height="315" src="http://www.youtube.com/embed/<?php echo $videoid; ?>" frameborder="0" allowfullscreen></iframe> 
        </div>      
   <?php
    }
    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T15:58:12.693

如果您使用[YouTube Data API V3](https://developers.google.com/youtube/v3/)，那会容易得多。

这是这个用例的一个很好的例子。

“ [https://code.google.com/p/youtube-api-samples/source/browse/samples/php/my_uploads.php](https://code.google.com/p/youtube-api-samples/source/browse/samples/php/my_uploads.php) ”

# sublimetext2 - sublime text 2 emmet 插件问题

> ID：15182226
> 
> 赞同：0
> 
> 时间：2013-03-03T03:41:53.940
> 
> 标签：sublimetext2, emmet

我刚刚收到 Emmet 在 sublime text 2 中发布的新插件的消息。

我试过了，但我仍然遇到与以前相同的问题，这意味着我无法使包装动作起作用。以下链接中的演示都不适合我：[http ://docs.emmet.io/actions/wrap-with-abbreviation/](http://docs.emmet.io/actions/wrap-with-abbreviation/)

例如，在第一个演示中，它使用 Shift+Ctrl+A 快捷键显示“使用缩写换行”，它应该会打开一个对话框，您可以在其中输入您的缩写代码换行。但它不起作用。相反，此快捷方式选择我触发它的单词，如果我继续这样做，它会添加附近的单词或标签，但仍然没有对话框。

有人有同样的问题吗？任何人都知道如何解决它？

先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T19:22:57.760

文档中的这些快捷方式仅适用于演示框。您的插件可能有不同的快捷方式。

在崇高文本中：[https ://github.com/sergeche/emmet-sublime#available-actions](https://github.com/sergeche/emmet-sublime#available-actions)

# php - 按日期范围搜索

> ID：15182228
> 
> 赞同：3
> 
> 时间：2013-03-03T03:42:26.017
> 
> 标签：php, mysql

我正在尝试创建一个按日期范围绑定到 mySQL DB 的搜索条件，但到目前为止它似乎没有返回预期的结果。

日期以以下格式存储：`mm/dd/yy`我只想按日期范围排序，因此如果用户输入日期`From: 2/2/12`，`<current date>`则查询将返回该日期范围内的所有查询，包括当前日期。

这是我尝试过的：

我`workorder`在数据库中有以下时间戳的测试记录：1362250990 和 1362251039。

PHP

```
$date1 = strtotime($_GET['dateFirst']);
$date2 = strtotime($_GET['dateSecond']);
echo $date1 . '> work order date <='. $date2;
$results = mysqli_query($mysqli, "SELECT * FROM workorders WHERE (work_order_date > $date1) AND (work_order_date <= $date2) LIMIT 20"); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:45:51.960

日期应始终存储在合适的列类型（`DATE`，，`DATETIME`或最好`TIMESTAMP`）中。

这会自动使它们易于排序，因为它们是大端顺序。

假设您的输入格式是可靠的，那么您可以`BETWEEN`像这样使用比较运算符：

```
$date1 = date("Y-m-d H:i:s",$_GET['dateFirst']);
$date2 = date("Y-m-d H:i:s",$_GET['dateSecond']);
$results = mysql_query("SELECT * FROM `workorders` WHERE `work_order_date` BETWEEN '$date1' AND '$date2'"); 
```

# c# - 加载外部 app.config 是否会锁定它？

> ID：15182230
> 
> 赞同：2
> 
> 时间：2013-03-03T03:42:42.677
> 
> 标签：c#, locking, app-config

当多个应用程序有一个 app.config 文件时，是否会出现任何锁定问题？

```
config = ConfigurationManager.OpenExeConfiguration(Path.Combine("C:\test\root", "Master.exe"));
string logpath = config.AppSettings.Settings["Log.Path"].Value; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:05:21.517

App.configs 是只读的，除非应用程序发布者发布它的新版本，否则不应更改。用户配置设置存储在 user.config 文件中，而不是 app.config 中。在没有这个 user.config 文件的情况下，app.config 提供了默认值。

我 5 分钟前在你的上一个问题中评论了[Common app.config for multiple applications](https://stackoverflow.com/questions/15181969/common-app-config-for-multiple-applications)

由于文件应标记为只读，因此外部应用程序不应锁定文件。如果您从不同的程序集写入 app.configs，则配置文件可能会被锁定。我不建议从不同的程序集写入 App.Config，但如果这样做，请在读/写操作中放入 Try/Catch，如果它是 IO 异常，请检查文件是否被锁定：

```
private static bool IsFileLocked(Exception exception)
{
    int errorCode = Marshal.GetHRForException(exception) & ((1 << 16) - 1);
    return errorCode == 32 || errorCode == 33;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:05:32.463

在让多个应用程序共享一个 app.config 时，您正在做一些非常规的事情。顾名思义，app.config 旨在针对每个应用程序。有一些方法`System.Configuration`允许应用程序写入 app.config（因此将其写入锁定片刻。另一个尝试同时写入的应用程序将收到错误。）我个人倾向于将共享配置放入数据库中.

但是，如果您对此有充分的理由，那应该没问题。应用程序在启动时读取 app.config 并缓存设置。我建议在您的开发人员中制定一个书面约定，即共享配置的应用程序不应写入 app.config。

请注意，ASP.NET`web.config`有一些额外的行为，因为它会被监视更改。但我认为这是特定于 IIS 的；而且我认为您不是在处理 web.config。

# php - 来自json的JQPlot饼图

> ID：15182236
> 
> 赞同：0
> 
> 时间：2013-03-03T03:44:37.587
> 
> 标签：php, json, jqplot

我有下面的代码来呈现一个 jqplot 饼图。由于某些原因，饼图未正确显示百分比。

```
$array= array(array("Males", $males),array("Female", $females));
json_encode($array); 
```

json文件的输出为：

```
[["Books","8"],["Female","0"]] 
```

但是饼图的显示显示的是 10% 而不是 100，这是我的饼图渲染器

```
$.getJSON('jqPlot.php', function (data) {

        var plot1 = jQuery.jqplot('chart1', [data], {
            seriesDefaults: {
                // Make this a pie chart.
                renderer: jQuery.jqplot.PieRenderer,
                rendererOptions: {
                    // Put data labels on the pie slices.
                    // By default, labels show the percentage of the slice.
                    showDataLabels: true
                },
            },
            legend: { show: true, location: 'e' }});
    });
}); 
```

但是，如果我将 json 文件更改`[["Books","8"]]`为饼图，则可以正常工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T12:03:46.963

试试这个，工作正常。

```
$.getJSON(url, function(data) {
    var items1 = new Array();
    var j=0;
    for ( var i in data ) {
        var items = new Array();
        items.push(i,Number(data[i]));
        items1[j++] = items;
    }

    var plot1 = jQuery.jqplot('chart1', eval([items1]), {

                seriesDefaults:{
                    renderer:jQuery.jqplot.PieRenderer,
                    rendererOptions:{
                        dataLabels:'value',
                        showDataLabels:true
                    }
                },
                legend:{ show:true, location:'e' }
            }
    );

}); 
```

# c++ - 从 nullptr 推导出的指向模板类型？

> ID：15182240
> 
> 赞同：5
> 
> 时间：2013-03-03T03:45:33.530
> 
> 标签：c++, templates, c++11, nullptr

考虑到功能：

```
template <class T> void f(const T* const ptr); 
```

是`T`为了`f(nullptr)`什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T03:57:06.907

我将不得不回答这个问题，没有。从§ 2.14.7/1（强调我的）：

> 指针文字是关键字 nullptr。它是 std::nullptr_t 类型的纯右值。[注意：std::nullptr_t 是一个独特的类型，**既不是指针类型**也不是指向成员类型的指针；相反，这种类型的纯右值是一个空指针常量，可以转换为空指针值或空成员指针值。

`T *`必须是`std::nullptr_t`，因为`std::nullptr_t`不是指针类型，所以这是不可能的**。**尝试`nullptr`在 GCC 4.7.2 上调用它会给出一个错误，表明它正在尝试调用`f(std::nullptr_t)`，但只有 had ，这与 a不是 a`f(const T *)`的事实一致。`std::nullptr_t``T *`

# java - 确定列表大小的最快方法

> ID：15182250
> 
> 赞同：1
> 
> 时间：2013-03-03T03:47:05.187
> 
> 标签：java

我需要知道我的数组列表是否有 10 个插槽。调用大小会是一个更快的函数，还是就像第 10 个索引一样？还有什么方法可以让我检查某些功能的速度吗？有点像 phpMyAdmin 如何向您显示查询所需的时间。

```
if(strideList.size() == 10)
{

} 
```

或者

```
if(strideList.get(9) != null)
{

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T03:51:34.837

您应该使用`list.size()`，因为这清楚地表明了您的意图。另一段代码实际上是错误的，如果列表有 20 个元素怎么办？`strideList.get(9) != null`只检查第九个元素是否不同于`null`.

至于检查函数的速度，您可以使用计时器来计算从函数开始到结束所经过的时间量，或者使用称为分析器的特殊软件来查看您的应用程序中哪些函数/代码路径很慢。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-03T03:53:37.917

基于[`ArrayList.java`源](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java)（其他`List`实现将类似），`size()`只是`int`从对象返回一个成员变量。`get()`但是，会进行范围检查，通过 3 或 4 个开销函数，然后进行数组访问，这将需要更多的处理能力。

使用`size()`.

*（另外，正如[@Barış Uşaklı](https://stackoverflow.com/users/583363/baris-usakli)所说，它更具可读性`size()`。）*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:06:18.867

strideList.get(9) 将抛出 a`IndexOutOfBoundsException`并且将花费更多时间`list.size()` 但是要注意的一点是`get(int index)`. 涉及两个步骤 1\. rangeCheck 仅匹配您从中得到的大小`size()` 2\. 如果范围大于 size ，则抛出异常，这是额外的时间 3\. 如果大小不大于 size ，则它将从数组中获取。ArrayList 的代码：

```
 public E get(int index) {
    382           rangeCheck(index);
    383   
    384           return elementData(index);
    385       }

  private void rangeCheck(int index) {
   603           if (index >= size)
   604               throw new IndexOutOfBoundsException(outOfBoundsMsg(index));
   605       }
   606   

     E elementData(int index) {
      371           return (E) elementData[index];
      372       }
      373 
```

# python - Python：解释器中的 id() 行为

> ID：15182261
> 
> 赞同：10
> 
> 时间：2013-03-03T03:50:05.757
> 
> 标签：python

我遇到了这种奇怪的行为，它只发生在交互式 Python 会话中，而不是在我编写脚本并执行它时。

String 是 Python 中的不可变数据类型，因此：

```
>>> s2='string'
>>> s1='string'
>>> s1 is s2
True 
```

现在，奇怪的部分：

```
>>> s1='a string'
>>> s2='a string'
>>> s1 is s2
False 
```

我已经看到字符串中有一个空格会导致这种行为。如果我把它放在一个脚本中并运行它，结果在这两种情况下都是 True。

有人会对此有所了解吗？谢谢。

编辑：

好的，上面的问答给出了一些思路。现在这是另一个实验：

```
>>> s2='astringbstring'
>>> s1='astringbstring'
>>> s1 is s2
True 
```

在这种情况下，字符串肯定比 长`'a string'`，但仍然具有相同的标识符。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T03:54:54.007

**非常感谢@eryksun 的更正！**

[`interning`](http://docs.python.org/2/library/functions.html#intern)这是因为Python中的机制调用：

> 在“interned”字符串表中输入 string 并返回 interned string - 它是字符串本身或副本。留置字符串对于在字典查找中获得一点性能很有用——如果字典中的键被留存，并且查找键被留存，则键比较（在散列之后）可以通过指针比较而不是字符串比较来完成。通常，Python 程序中使用的名称是自动实习的，用于保存模块、类或实例属性的字典具有实习键。
> 
> 在 2.3 版更改： 内部字符串不是不朽的（就像它们曾经在 Python 2.2 及之前的版本中一样）；您必须保留对 intern() 的返回值的引用才能从中受益。

*CPython*将自动~~缩短~~某些字符串（1 个字母字符串、关键字、已分配空格的字符串）以提高查找速度和比较速度：例如，`'dog' is 'dog'`将是指针比较而不是完整字符串比较。但是，所有（更长的）字符串的自动实习需要更多的内存，这并不总是可行的，因此它们可能不会共享相同的标识，这会导致结果`id()`不同，例如：

```
# different id when not assigned
In [146]: id('dog')
Out[146]: 4380547672

In [147]: id('dog')
Out[147]: 4380547552

# if assigned, the strings will be interned (though depends on implementation)
In [148]: a = 'dog'

In [149]: b = 'dog'

In [150]: id(a)
Out[150]: 4380547352

In [151]: id(b)
Out[151]: 4380547352

In [152]: a is b
Out[152]: True 
```

对于整数，至少在我的机器上，CPython 会自动实习到 256 个：

```
In [18]: id(256)
Out[18]: 140511109257408

In [19]: id(256)
Out[19]: 140511109257408

In [20]: id(257)
Out[20]: 140511112156576

In [21]: id(257)
Out[21]: 140511110188504 
```

* * *

**感谢@eryksun 更新**：在这种情况下，字符串`'a string'`没有被实习，因为[CPython 只实习没有空格的字符串](http://hg.python.org/cpython/file/70274d53c1dd/Objects/codeobject.c#l71)，而不是因为我立即假设的长度：例如，ASCII 字母、数字和下划线。

有关更多详细信息，您还可以在此处参考[Alex Martelli 的回答](https://stackoverflow.com/a/2124011/853611)。

# php - 生成网址别名？？在 PHP 中

> ID：15182262
> 
> 赞同：2
> 
> 时间：2013-03-03T03:50:07.393
> 
> 标签：php, url

我只是在某个地方看到了这个，我对此很感兴趣，但似乎在任何地方都找不到它，或者我只是用了错误的词来搜索。

好吧，我看到了这个链接，

```
http://splur.gy/r/QqVYf/r/2tgNklHgmVK 
```

当我点击它时，我被重定向到另一个页面

```
https://www.facebook.com/xxx.xxx?sk=app_xxxx 
```

有谁知道这个东西是怎么做出来的？或者只是一点提示开始？

一个帮助会很好。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:39:43.157

您将需要一个允许您重写请求的服务器，以便您可以将所有请求重定向到单个脚本。如果您正在运行 Apache，您将创建一个*.htaccess*文件，其中包含以下内容：

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^r$ /redirect.php [L,QSA]
RewriteRule ^r/(.*) /redirect.php?__q=/$1 [L,QSA]
</IfModule> 
```

然后，如果您访问[http://yourdomain.com/r/234243/adsfsd](http://yourdomain.com/r/234243/adsfsd)，请求将被发送到脚本 /redirect.php 并且“234243/adsfsd”将作为 GET 参数“q”传递。

然后，您将创建一个名为*redirect.php*的文件，该文件将处理请求，然后重定向用户。它可能看起来像这样：

```
<?php

$redirection = process_to_determine_location_from_query( $_GET['q'] ); 

header( 'Location: {$redirection}' );

?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T05:41:29.443

这些都完成了`RewriteRule`，一个简单的谷歌搜索将为您提供更多详细信息。

简而言之，URL 将像这样分解：（第 1 行，URL 部分，第 2 行，PHP 相对。

> [http://splur.gy](http://splur.gy)
> [http://splur.gy/index.php](http://splur.gy/index.php)
> 
> r
> $_GET['var_1']
> 
> QQVYf
> $_GET['var_2']
> 
> r
> $_GET['var_3']
> 
> 2tgNklHgmVK
> $_GET['var_4']

将`RewriteMod`采用上述格式设置 URL，并将变量传递给脚本。这是在 URL 中发布变量的另一种方式。

正如您在上面看到的：stackoverflow.com/posts/15182831，实际上没有名为 posts/15182831 的文件，它很简单地用作变量，传递给查询该数据库的脚本，并根据脚本输出结果说。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T03:51:47.510

这称为重定向。您可以使用以下代码在 PHP 中执行此操作：

```
<?php
header('http://example.com'); 
```

可能发生的另一件事是您看到的链接不是您单击时所遵循的实际链接。就像这样做一样简单：

`<a href="http://aha-gotcha.com">example.com</a>`

* * *

## 回答 #4

> 赞同：-4
> 
> 时间：2013-03-03T05:32:20.383

任何人都可以这样做。

[http://www.google.com/](http://www.stackoverflow.com)

它与PHP无关。

# php - 显示错误值的日期差异

> ID：15182263
> 
> 赞同：2
> 
> 时间：2013-03-03T03:50:08.420
> 
> 标签：php, date

我使用了一个函数来计算两个日期之间的日期差。

这是我的功能

```
function date_difference ($date_1, $date_2) {   

    $val_1 = new DateTime($date_1);
    $val_2 = new DateTime($date_2);

    $interval = $val_1->diff($val_2);
    $year     = $interval->y;
    $month    = $interval->m;
    $day      = $interval->d;

    $output   = '';

    if($year > 0){
        if ($year > 1){
            $output .= $year." years ";     
        } else {
            $output .= $year." year ";
        }
    }

    if($month > 0){
        if ($month > 1){
            $output .= $month." months ";       
        } else {
            $output .= $month." month ";
        }
    }

    if($day > 0){
        if ($day > 1){
            $output .= $day." days ";       
        } else {
            $output .= $day." day ";
        }
    }
    if($day == 0)
        $output.=' Almost Over';
    if($day < 0)
        $output.= ' Expired';
    return $output;
} 
```

我正在这样使用它

```
echo date_difference(date('m/d/Y'),'02/06/2013'); 
```

它将结果显示为 25 天，因为它应该显示已过期。谁能指出我做错了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:11:22.113

当我看到这个 XKCD 页面时，我想有机会发布它，就在这里！

![xkcd](../Images/e1a36d48527fafdc19fa94ff95fa41ee.png)

当您的代码尝试解析`02/06/2013`时，它如何知道您的意思是“2 月 2 日”还是“6 月 6 日”？在给出要解析的日期时，您应该始终使用该`YYYY-MM-DD`格式，或者更好地硬编码实际的数字时间戳（在本例中为 1360126800）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T04:17:48.740

`DateInterval`不会有负值，您需要比较两个 DateTime 对象。

改成

```
if($val_1 < $val_2 && $day == 0)
    $output.=' Almost Over';
if($val_1 > $val_2)
    $output.= ' Expired';
return $output; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:09:17.477

只需使用 UNIX 时间戳，这样计算应该很容易。

它可以在 YDM 中显示，如果你觉得有点花哨，你甚至可以做一个倒计时时钟。

大多数 MMO 和管理系统使用它来注册注册日期和时间，并显示成员在社区中的时间。

希望它有帮助！

# c - 函数局部范围内变量的重复标识符

> ID：15182267
> 
> 赞同：4
> 
> 时间：2013-03-03T03:50:43.197
> 
> 标签：c, variables, function-pointers, identifier

所以，这是我朋友的一个学生的代码……</p>

```
#include <stdio.h>

int main(){
    int hours;
    int take_one_number(void);{
        scanf("%d",&hours);
    }
    int minutes;
    int take_one_number(void);{

        scanf("%d",&minutes);
    }
    int seconds;
    int take_one_number(void);{

        scanf("%d",&seconds);
    }
    int all;
    printf("%d",all=hours*3600+minutes*60+seconds);
    return all;

} 
```

嗯，它……编译……并且……嗯，工作……按照老师的要求……</p>

我的问题：如果我理解正确，`take_one_number`这里是一个存储函数指针的变量的定义。为什么 GCC 和 LLVM 都不抱怨这些定义中有重复的标识符？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T03:54:38.817

函数 take_one_number 被声明了 3 次，但从未定义。在每种情况下， ; 在 (void) 结束声明之后。scanf 语句只是 main() 中的一个常规语句，被一个无意义的范围 { } 包围

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T03:56:21.913

在上面的代码中，

```
 int take_one_number (void); 
```

is not a function pointer , it is function prototype or declaration , a function can be declared more than once , but must be defined only once.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-03T03:54:59.150

```
int take_one_number(void); 
```

这是一个函数声明，其返回类型为`int`. 这不是变量的定义。而且您为变量所做的范围界定在这里没有什么意义，因为其中没有发生变量声明。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-03T03:55:37.807

`int take_one_number(void);`是一个函数原型，用于告诉编译器在某处实现了具有此名称和属性的函数。编译器不会抱怨，因为您既没有定义新函数也没有使用该函数。

您还应该注意，此原型之后的块不是 take_one_number 的一部分，因为它们用分号分隔。使块成为独立的范围块。为了让事情更清楚，如果函数原型和它旁边的代码块之间没有分号，就会出现编译错误。

# c - x86 TEST 指令不起作用？

> ID：15182271
> 
> 赞同：5
> 
> 时间：2013-03-03T03:51:49.477
> 
> 标签：c, assembly, x86

我一直在努力解决这个问题，这对我来说毫无意义......

### 为什么这个程序会进入死循环？！

我想你可以用它来比较两个值是否相等，如此[处](https://stackoverflow.com/questions/6002079)`test`所示......为什么它不起作用？

```
int main()
{
    __asm
    {
        mov EAX, 1;
        mov EDX, EAX;
        test EAX, EDX;
L:      jne L;
    }
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T04:36:55.663

你对`TEST`指令的期望是不正确的。

该指令用于执行位测试。如果某些位设置为给定掩码，您通常会使用它来“测试”。它将与`JZ`(jump if zero) 或`JNZ`(jump if not zero) 指令结合使用。

该测试涉及对两个操作数执行按位与并设置适当的标志（丢弃结果）。如果没有设置掩码中的相应位，则 ZF（零标志）将为`1`（所有位为零）。如果您想测试是否设置了任何设置，您将使用该`JNZ`指令。如果你想测试是否没有设置，你会使用`JZ`指令。

`JE`和`JNE`不适用于该指令，因为它们对标志的解释不同。

* * *

您正在尝试对某些变量执行相等性检查。您应该使用该`CMP`说明。您通常会使用它来相互比较值。

比较有效地减去操作数并仅设置标志（丢弃结果）。当相等时，两个值之差为`0`(ZF = 1)。当不相等时，两个值的差值非零（ZF = 0）。如果您想测试它们是否相等，您将使用`JE`(jump if equal) 指令。如果您想测试它们是否不相等，您将使用`JNE`(jump if not equal) 指令。

* * *

在这种情况下，由于您使用`TEST`了 ，因此生成的标志将产生`ZF = 0`（0x1 & 0x1 = 0x1，非零）。由于`ZF = 0`，该`JNE`指令将采用您在此处看到的分支。

### tl;博士

`CMP`如果要检查是否相等，则需要使用指令比较值，而不是`TEST`它们。

```
int main()
{
    __asm
    {
        mov EAX, 1
        mov EDX, EAX
        cmp EAX, EDX
L:      jne L          ; no more infinite loop
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T04:09:01.433

只是读[这个](http://en.wikipedia.org/wiki/TEST_%28x86_instruction%29)（我的 asm 很生锈）和[这个](http://www.unixwiz.net/techtips/x86-jumps.html)

JNE 跳到 ZF（零标志）= 0

TEST 设置 ZF = 0**如果按位 EAX AND EDX 结果为 1**，如果按位 AND 结果为 0，则为 1

> 如果 AND 的结果为 0，则 ZF 设置为 1，否则设置为 0。

因此它在 ZF 中跳跃为 1 AND 1 结果为 0。

似乎合乎逻辑但反直觉。

我认为@A.Webb 是正确的-如果您使用 TEST 指令，它可能应该是 JNZ，因为您依赖 bitwuse 操作的行为来设置零标志，而 SUB 指令会根据需要设置零标志.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:42:59.440

这很简单。您显然需要知道指令的作用，它们读取和写入的处理器状态。如有疑问，请获取参考手册。Intel x86 手册很容易在网上找到。

您的具体程序：

```
 mov EAX, 1; 
```

将常数 1 移动到 EAX。不会发生其他状态更改。

```
 mov EDX, EAX; 
```

将 EAX 的上下文复制到 EDX 中，因此它也包含值 1。

```
 test EAX, EDX; 
```

test 计算两个寄存器的按位与（你检查过参考手册吗？），扔掉答案，并根据答案设置条件代码位。在您的情况下，每个寄存器的高 31 位为零，并且会产生零。两个寄存器中的最低有效位均为 1；and'd 产生一个 1。最终结果是生成了 32 个二进制值“一”，并在设置条件代码位后丢弃。我们关心这个程序的一个条件代码位，那就是“Z”（ero）位，如果最后一个条件代码设置操作产生一个全零值，则设置该位。该测试产生“一”，因此 Z 位被复位。我会让你查找其他条件代码位。

```
 L:      jne L; 
```

这是一个“Jmp on Not Equal”，例如，如果 Z 位被复位，它会 jmps。对于您的程序，Z 被重置，jmp 发生。执行后，处理器处于相同的指令，并看到另一个（相同的 jmp）。jmp 指令不会更改条件代码位。

所以......它进入了一个无限循环。

汇编器支持的各种操作码有很多同义词。例如，“JZ”和“JE”是同一指令的同义词。不要让同义词混淆。

# ruby-on-rails - Rails Rspec/FactoryGirl 没有将正确的参数传递给控制器

> ID：15182272
> 
> 赞同：0
> 
> 时间：2013-03-03T03:51:53.467
> 
> 标签：ruby-on-rails, ruby, rspec, factory-bot

我正在尝试编写一个 Rspec 测试来测试我在 Rails 中的一个控制器，但是我在获取正确的参数哈希时遇到了问题。

我的活动控制器中的创建方法如下所示（更新方法相同）。如您所见，它接收到的 params 哈希有一个 :activity、:start_time 和 :end_time 哈希。

```
def create
  @activity = Activity.new(params[:activity])
  @activity.start_time = to_interval(params[:start_time])
  @activity.end_time = to_interval(params[:end_time])
  respond_to do |format|
.... 
```

rspec 活动控制器规范看起来像

```
 it "redirects to the activity" do
    activity = Activity.create! valid_attributes
    put :update, :id => activity.id, :activity => valid_attributes
    response.should redirect_to(activity)
  end 
```

第二行调用有效属性

```
def valid_attributes
  FactoryGirl.attributes_for(:activity)
end 
```

它返回一个哈希

```
{"id"=>"1", "name"=>"Some Activity1"} 
```

当控制器收到它时，哈希看起来像

```
{"activity"=>{"id"=>"1", "name"=>"Some Activity1"}, "controller"=>"activities", "action"=>"create"} 
```

如您所见，缺少 :start_time 和 :end_time 哈希。最后我需要一个看起来像的哈希

```
{"activity"=>{"id"=>"1", "name"=>"Some Activity1"}, "start_time"=>{"hours"=>"1", "minutes"=>"0"}, "end_time"=>{"hours"=>"1", "minutes"=>"0"}, "controller"=>"activities", "action"=>"create"} 
```

我无法弄清楚将 :start_time 和 :end_time 哈希添加到 params 哈希的正确语法。我不能将它与 FactoryGirl 返回的哈希结合起来，因为 create 方法将三个哈希组合成下面的形式，这是不正确的，因为现在 :start_time 和 :end_time 嵌入在 :activities 哈希中。

```
{"activity"=>{"id"=>"1", "name"=>"Some Activity1", "start_time"=>{"hours"=>"1", "minutes"=>"0"}, "end_time"=>{"hours"=>"1", "minutes"=>"0"}}, "controller"=>"activities", "action"=>"create"} 
```

感谢您提供任何帮助或提示，感谢您的时间和帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:56:31.057

我在你的代码中发现了一些奇怪的东西。您正在尝试`put :update`，但您正在查看 create 操作（这也可能是导致问题的原因，您对 create 操作的测试可能已经具有参数。）

对于您的问题，您应该能够这样做以传递 start_time 和 end_time 参数

```
put :update, :id => activity.id, :activity => valid_attributes, :start_time => { :hour => 1, :minute => 2 }, :end_time => { :hour => 1, :minute => 2 } 
```

# jquery - jQuery插件调用嵌套函数

> ID：15182275
> 
> 赞同：1
> 
> 时间：2013-03-03T03:52:08.563
> 
> 标签：jquery, jquery-plugins

是否可以调用嵌套函数并使用`$(this)`而不必`$(this)`作为参数传递？例如：`$(this).setValidators()`代替`methods.setValidators($(this))`

```
(function($){
    var methods = {
        init: function(options){
            var _this = this;
            var inputs = $(":input)", _this);

            inputs.each(function(){
               methods.setValidators($(this));

               //would it be possible to do the following somehow?
               //$(this).setValidators();
            });
        },

        setValidators: function(obj){
            obj.on('click', anotherFunction);
        },

        /*
        setValidators: function(){
            $(this).on('click', anotherFunction);
        }
        */

        anotherFunction: function(){
            //do stuff
        }
    }

    $.fn.myPlugin = function(method){
        if(methods[method]){
            return(methods[method].apply(this, Array.prototype.slice.call(arguments, 1)));
        }else if(typeof method === 'object' || !method){
            return(methods.init.apply(this, arguments));
        }else{
            return(false);
        }
    };
})(jQuery);

$('form').myPlugin(); 
```

# css - chrome中的按钮大小

> ID：15182276
> 
> 赞同：0
> 
> 时间：2013-03-03T03:52:13.517
> 
> 标签：css, button

我正在尝试将 Chrome 中按钮的大小设置为非常小的 4x4 或 5x5 像素，但我得到了一些非常奇怪的结果。我的代码是：

```
<input type="button" style="height: 4px; width: 4px; background-color: #aabbfe"; onclick="document.body.style.backgroundColor='#aabbfe'";/> 
```

虽然高度和宽度相同，但结果是一个水平的矩形按钮。

我可以获得正方形比例（这是我想要的）的唯一方法是设置高度：14px by width：5px，这没有意义，而且，我根本无法让按钮在 Chrome 中变小。

任何人都可以告诉我我在哪里愚蠢？我确定我必须忽略一些非常基本的东西，但我就是找不到。提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T03:55:39.893

您只需要从按钮中删除填充。

[JSFiddle](http://jsfiddle.net/fzuAh/1/)

```
input {
    padding:0;
} 
```

这是由 Chrome 用户代理样式表中应用的以下样式引起的。

```
input[type="button"], 
input[type="submit"], 
input[type="reset"], 
input[type="file"]::-webkit-file-upload-button, 
button {
    padding: 1px 6px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T03:55:17.477

如果不需要，请务必删除边距和填充以及轮廓。这些都可能对元素的尺寸产生影响。

# sqlite - jdbc sqlite 支持 allowmultiquery

> ID：15182280
> 
> 赞同：0
> 
> 时间：2013-03-03T03:53:10.437
> 
> 标签：sqlite, jdbc, multi-query

我想演示使用 Java 和 sqlite 的 SQL 注入。我正在尝试使用 SQL 注入同时执行两个查询。用户将使用 ; 提前结束语句，然后使用插入语句添加另一个条目。

Mysql JDBC 在连接字符串中使用 allowMultiQueries=true。

如何使用 sqllite 做到这一点？

TIA

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T10:36:09.527

`allowMultiQueries`作为 MySQL 特定的连接参数。

我不知道任何允许在一个查询中执行多个命令的 SQLite JDBC 驱动程序。因此，这种SQL注入攻击是*不可能*的。你最好的选择是构建一些这样的查询：

```
SELECT * FROM Users WHERE Name = 'admin'--' AND Password = 'whatever' 
```

或这个：

```
SELECT *
FROM Users
WHERE Name = 'admin'
  AND Password = 'whatever' or Name='admin' 
```

# c++ - C++ 使用 gtest 测试 void 方法

> ID：15182281
> 
> 赞同：1
> 
> 时间：2013-03-03T03:53:19.763
> 
> 标签：c++, testing, void, googletest

我刚刚开始使用 gtest 在 C++ 中进行单元测试，并且我对 void 方法的测试有疑问。

假设我有一个方法 void printNames()，它会打印班级中所有学生的姓名。

1.  使用测试，有没有办法检查方法是否打印正确的名称？

2.  或者，它甚至需要测试这样的事情吗？

3.  我可以让方法返回字符串，然后用一个连接班级中所有学生姓名的字符串来测试返回的字符串。这会是一个“好”的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T03:56:15.953

我可能会写`printNames`一个 ostream 作为参数，可能`std::cout`作为默认值提供。

当您想要测试时，请提供对 a 的引用`stringstream`，以便您可以捕获输出并与预期结果进行比较。

# python - 当字符串等效于旋转时

> ID：15182284
> 
> 赞同：5
> 
> 时间：2013-03-03T03:53:42.407
> 
> 标签：python, string, algorithm

我有大量的字符串。出于我的目的，如果一个字符串是另一个字符串的旋转，则两个字符串是等效的（例如，'1234' 等效于'3412'）。

什么是在 Python 中只处理每个字符串一次（直到旋转）的有效方法？

我想要的一个天真的实现可能看起来像：

```
class DuplicateException(Exception): pass
seen = set()
for s in my_strings:
  try:
    s2 = s+s
    for t in seen:

      # Slick method I picked up here in SO
      # for checking whether one string is
      # a rotation of another
      if len(s) == len(t) and t in s2:
        raise DuplicateException()

    seen.add(s)
    process(s)
  except DuplicateException: pass 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T05:31:08.243

选择一种规范的方式来表示一类旋转的字符串（例如，在字符串的所有可能旋转中按字典顺序最小的旋转），并且只使用规范表示（*规范化*）。

例如：

```
def canonicalize(s):
    return min(s[i:]+s[:i] for i in xrange(len(s)))

canonical_strings = {canonicalize(s) for s in my_strings}
for cs in canonical_strings:
    process(cs) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T04:36:53.857

也许将您旋转到特定值是有意义的`string`，例如最小可能的旋转，而不是那些最小的旋转是唯一的，并且可以很容易地放入一组中。

这是一个示例实现，“​​rotate_to_smallest”可能可以改进。

```
my_strings = ['1234', '123', '2341', '4312', '312', '56', '65', '1236']

def rotate_to_smallest(x):
    smallest = x
    for i in xrange(1, len(x)):
        rotation = x[i :] + x[: i]
        if rotation < smallest:
            smallest = rotation
    return smallest

def unique_rotations(my_strings):
    uniques = set(())
    for s in my_strings:
        smallest_rotation = rotate_to_smallest(s)
        if smallest_rotation not in uniques:
            uniques.add(smallest_rotation)
    return uniques 
```

结果：

```
>>> unique_rotations(my_strings)
set(['1234', '56', '1243', '123', '1236']) 
```

# c++ - 在 Kinect 深度相机中隔离玩家

> ID：15182288
> 
> 赞同：1
> 
> 时间：2013-03-03T03:54:10.043
> 
> 标签：c++, kinect

我试图通过 Kinect 深度相机隔离单个玩家。我正在打开一个`NUI_IMAGE_TYPE_DEPTH_AND_PLAYER_INDEX`流来处理播放器/深度信息。我用来绘制玩家的代码是这样的：

```
if (LockedRect.Pitch != 0 ) {
      USHORT* curr = (USHORT*) LockedRect.pBits;
      const USHORT* dataEnd = curr + ((width/2)*(height/2));
      index = 0;

      while (curr < dataEnd && playerId != 0) {
        USHORT depth     = *curr;
        USHORT realDepth = NuiDepthPixelToDepth(depth);
        BYTE intensity = 255;
        USHORT player    = NuiDepthPixelToPlayerIndex(depth);

        // Only colour in the player
        if (player == playerId) {
          for (int i = index; i < index + 4; i++)
            dest[i] = intensity;
        }
        else {
          for (int i = index; i < index + 4; i++)
            dest[i] = 0;
        }
        index += 4;
        curr += 1;                                                                
      }    
 } 
```

`dest`是一个 OpenGL 纹理。

我遇到的问题是`player`当第二个人进入框架时变量会发生变化，并导致在纹理中绘制的人成为新人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:33:31.677

好的，我想出了怎么做。

我需要获取映射到深度像素用户（1 到 6）的骨架 ID（0 到 5）。因此，当传感器找到骨架时，它会保存 ID，并将其设置为 playerId。PlayerId 仅在其关联的骨架被传感器丢失时才会被清除。

# git - 使用钩子有条件地将字符串附加到 commit-msg

> ID：15182294
> 
> 赞同：1
> 
> 时间：2013-03-03T03:55:15.900
> 
> 标签：git, shell, sed, hook, pre-commit-hook

我们如何编写一个`commit-msg`钩子，将一个字符串附加`[XYZ]`到所有提交，除非原始提交消息`[exclude-XYZ]`在某个地方？

我是 shell 脚本的初学者，这是我迄今为止尝试过的失败：

```
if echo "$1" | grep "[exclude-XYZ]"
then 
else echo "$1 [XYZ]" >> "$1"
fi 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T11:58:21.187

您正在回显文件名，而不是检查其内容。尝试类似：

```
if fgrep '[exclude-XYZ]' -- "$1" >/dev/null; then 
  :
else
  echo "[XYZ]" >> "$1"
fi 
```

或者，作为单行：

```
fgrep '[exclude-XYZ]' -- "$1" >/dev/null || echo '[XYZ]' >> "$1" 
```

# mysql - 基于另一个表列值的动态表连接？

> ID：15182300
> 
> 赞同：3
> 
> 时间：2013-03-03T03:55:48.420
> 
> 标签：mysql, sql, left-join

我试图弄清楚是否有一种简单的方法可以使用mysql根据第一个表的列值动态加载第二个表

**服务器（表 1）：**

身份证 | 游戏 | 标题

**Servers_1（表 2，选项 1）：**

server_id（链接到servers.id）| 游戏版本 | 球员 | 插件

**Servers_2（表 2，选项 2）：**

server_id（链接到servers.id）| 游戏版本 | 球员 | 模组 | 游戏地图

**服务器_等。（表 2，选项等）**

试图弄清楚如何做类似的事情

```
left_join servers_[servers.game] on servers.id = servers_[servers.game].server_id 
```

所以它将获取 servers.game 的值并使用它来完成表名。如果这是不可能的，那么可以使用 case 语句，例如：

```
 Left_Join
   if ( servers.game == 1 ) 'servers_1'
   elseif ( servers.game == 2 ) 'servers_2'
   elseif ( servers.game == 3 ) 'servers_3' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:04:00.297

一种选择是对`LEFT JOIN`每个表使用一条`CASE`语句来返回适当的数据。

这样的事情应该可以帮助您入门：

```
SELECT S.Id, S.Game, S.Title,
   CASE S.Game
      WHEN 1 THEN S1.game_version 
      WHEN 2 THEN S2.game_version 
   END game_version,
   ...
FROM Servers S
   LEFT JOIN Servers_1 S1 ON S.id = S1.Server_Id AND S.Game = 1
   LEFT JOIN Servers_2 S2 ON S.id = S2.Server_Id AND S.Game = 2 
```

而不是 using `CASE`，您可能只使用`COALESCE`每个 Id/Game 应该是唯一的，并且只有 1 不会为 NULL：

```
SELECT COALESCE(S1.game_version,S2.game_version,...) game_version 
```

如果同一个服务器 ID 不可能出现在多个表中，那么您可以将 AND S.Game... 排除在 LEFT JOIN 之外，因为不再需要它。取决于您的唯一键。

或者，您可以使用动态 SQL。

# c++ - 编译器如何处理仿函数中的重载函数调用运算符？

> ID：15182306
> 
> 赞同：5
> 
> 时间：2013-03-03T03:56:27.933
> 
> 标签：c++, function, constructor, call, overloading

假设我定义、实例化和使用加法器仿函数，如下所示：

```
class SomeAdder {
    public:
        SomeAdder(int init_x): x(init_x) {}
        void operator()(int num) { cout << x + num <<endl; }
    private:
        int x;
};

SomeAdder a = SomeAdder (3);
a(5); //Prints 8

SomeAdder b(5);
b(5); //Prints 10 
```

构造函数和重载`()`运算符都使用双括号调用并且具有相同类型的参数。编译器如何确定在实例化和“函数调用”期间使用哪个函数`SomeAdder`，以实现正确的行为？答案似乎在表面上很明显，但我就是无法理解这个想法。

谢谢你的时间！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T04:14:55.890

您的示例比较了重载的*构造函数*和*成员函数*`operator()`。编译器知道调用哪一个以及何时调用。这非常简单：

*   当要构造对象时，将调用构造函数。

*   在已经构造的对象上调用成员函数。在您的情况下，成员函数是`operator()`.

这意味着，它们在完全不同的上下文中被调用。没有歧义，没有混乱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T04:14:12.057

每次创建类的实例时，都会调用构造函数方法。编译器肯定可以通过其名称确定构造函数。所以它会被第一个调用，然后`operator ()`是第二个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:24:19.340

C++ 有一个[语法](http://www.nongnu.org/hcb)，编译器将知道（大体简化）何时实例化类型，因此应该从在`()`类的实例上调用重载运算符的情况下调用构造函数。

如何使用语法来确定这一点可能需要一门关于编译器的课程，而[Dragon Book](https://rads.stackoverflow.com/amzn/click/com/0321486811)可能是标准。如果您好奇，您还可以查看[C++ 大师认证](http://www.cppgm.org)，其目标是构建 C++ 编译器。

# php - 通过 ajax 和 jquery 重新加载外部页面 onLinkClick

> ID：15182312
> 
> 赞同：0
> 
> 时间：2013-03-03T03:57:54.907
> 
> 标签：php, jquery, ajax, captcha

这是链接

```
<a href="javascript:loadCaptcha();">Reload</a> 
```

我想单击它并通过 ajax 和 jquery 加载外部文件。在我的页眉中，我有以下 javascript 代码。

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script language="javascript" type="text/javascript">
    $(function(){
        loadCaptcha();
    });
    function loadCaptcha()
    {
        $.ajax({
            type: 'POST',
            url: 'captcha.php',
            data: "",
            cache: false,
            success: function(res){
                $('#captcha').html(res);
            }
        });
    }
</script> 
```

我想在单击该链接时重新加载 captcha.php。Onpageload 文件 captcha.php 正在加载 id #captcha - 但在该链接上单击它不重新加载。

验证码.php 代码

```
<?php
$capt = generate_captcha();
echo '<img src="captcha.jpg" id="imgcaptcha" name="imgcaptcha" alt="'.$capt.'" style="max-width: 110px; max-height: 35px;" title="Captcha"/><input type="hidden" name="captchacode" id="captchacode" value="'.$capt.'" />';

function generate_captcha()
    {
        $number= rand(11111, 99999);
        $width = 110;
        $height= 35;
        //create image using imagecreate php function
        $img = imagecreate($width, $height);
            $backcolor = imagecolorallocatealpha(
                      $img,
                      hexdec( substr( 'FFFFFF', 0, 2 ) ),
                      hexdec( substr( 'FFFFFF', 2, 2 ) ),
                      hexdec( substr( 'FFFFFF', 4, 2 ) ),
                      127 * ( 100 - 100 ) / 100
                    );
        imagefill($img, 0, 0, $backcolor);
            //create line color
        $linescolor = imagecolorallocatealpha(
                      $img,
                      hexdec( substr( '333333', 0, 2 ) ),
                      hexdec( substr( '333333', 2, 2 ) ),
                      hexdec( substr( '333333', 4, 2 ) ),
                      127 * ( 100 - 70 ) / 100
                    );
        //generate different lines  
        for( $i=0; $i<10; $i++ ) {
            imageline($img, mt_rand(0,110), mt_rand(0,35),
             mt_rand(0,110), mt_rand(0,35), $linescolor);
            }
        //Font file path
        $font_path = "jokerman.ttf";
        //create color for font
        $font_color = imagecolorallocatealpha(
                      $img,
                      hexdec( substr( '000000', 0, 2 ) ),
                      hexdec( substr( '000000', 2, 2 ) ),
                      hexdec( substr( '000000', 4, 2 ) ),
                      127 * ( 100 - 100 ) / 100
                    );
        //add characters to the image
        imagettftext($img, 22, 0, 5, 28, $font_color, $font_path, $number);
        //store image
        imagejpeg($img, "captcha.jpg", 100);
        return $number;
    }
?> 
```

**更新：chrome 正在显示更新的图像，firefox 和 ie 没有更新图像。缓存问题。我没有通过 php 标头使用缓存，但没有运气。**

请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T12:48:37.120

由于缓存问题，IE 和 Firefox 不会刷新验证码图像。解决方法是每次删除验证码图像并创建具有唯一名称的新验证码图像。因为名称是唯一的，所以验证码将被刷新，FF 将重新加载图像，因为它是新的。

我已经解决了这个问题，每次都重新创建唯一的验证码图像并在重新加载时调用该唯一的图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:02:13.107

使用`onclick`代替`href="javascript:loadCaptcha();"`

```
<a onclick="loadCaptcha();">Reload</a> 
```

或者

```
<a id="reloadCaptcha">Reload</a>

<script type="text/javascript">
 $(document).on("click", "#reloadCaptcha", loadCaptcha);
</script> 
```

# c# - EF5 十进制类型映射的奇怪编译器错误

> ID：15182315
> 
> 赞同：1
> 
> 时间：2013-03-03T03:58:28.917
> 
> 标签：c#, .net, entity-framework, compiler-errors, entity-framework-5

我的类库项目引用了 Entity Framework 5 程序集。下面代码中“AvailablePoints”的 .NET 类型是 Decimal。我正在尝试使用 CodeFirst Fluent API 配置将此属性映射到 SQL Server 中的小数（9,4）数据类型，以便数据条目不会在小数点后 2 位被截断，这是默认映射。

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Entity<EventGroup>().Property(g => g.AvailablePoints).HasPrecision(9,4);
    base.OnModelCreating(modelBuilder);
} 
```

我收到以下编译器错误：

> “类型‘System.Data.Spatial.DbGeography’在未引用的程序集中定义。您必须添加对程序集‘System.Data.Entity，Version=4.0.0.0，Culture=neutral，PublicKeyToken=b77a5c561934e089’的引用.

如果我`.Property(g => g.AvailablePoints).HasPrecision(9,4);`从方法中的第一个语句中删除，它编译得很好。EF5 文档或论坛帖子均未解决此编译器错误或解释此 Fluent API 配置与`System.Data.Spatial.DbGeography`类型的关系。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:15:04.317

这是因为您的项目没有引用所需的程序集。

在解决方案资源管理器中，找到项目中的“参考”文件夹。
右键单击该文件夹，然后单击“添加引用”。
在“.NET”选项卡中，您可以找到版本为 4.0.0.0 的“System.Data.Entity”条目。添加*应该可以*解决此问题。

# c - 为什么我的 C 程序在为 int 指针赋值时会崩溃？

> ID：15182318
> 
> 赞同：1
> 
> 时间：2013-03-03T03:58:52.520
> 
> 标签：c, pointers, pass-by-reference

我试图让一个函数获取一些从我的 main() 函数传递的整数指针并为它们赋值。但是，我的程序在分配值时崩溃。这是我的代码：

```
int computeMoveLocation(int* r, int* c, char* board)
{
    //some code up here
    *r = 0;    //This breaks the program
    *c = 0;
} 
```

我不是要更改指针的*地址——我是要更改所指向的整数的**值*。但是，我显然做错了什么。

任何帮助将不胜感激。

**编辑：** 这是来自 main() 的相关代码。请让我知道我是否还应该包括其他任何内容。

```
int main()
{
    //initialization code
    //...

    while (1)
    {

        switch (MACHINE_STATE)
        {
            case COMPUTER_MOVE :
            {
               //check rows for three Xs
               //check columns for three Xs
               //check diagonals for three Xs
               //otherwise, move anywhere else
               int *r, *c;
               computeMoveLocation(r, c, board);
               computerMove(*r,*c, board);
               PREVIOUS_STATE = COMPUTER_MOVE;
               MACHINE_STATE = HUMAN_MOVE;
               break;
            }

            //Other cases
        }//end switch
    }//end while
}//end main 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-03T04:12:10.510

您正在传递指针，但您没有分配内存。所以他们指向内存中的一个随机位置。

```
int computeMoveLocation(int* r, int* c, char* board) {
    //some code up here
    *r = 0;    //This breaks the program
    *c = 0;
} 
```

坏主要：

```
int main() {
    int *r;
    int *c;
    char *board;
    // bad, passing in pointers but didn't allocate memory
    computeMoveLocation(r, c, board); 
    return 0;
} 
```

好的主要＃1：

```
int main() {
    int r = 5;
    int c = 5;
    char board = 'a';
    // fine, passing address of variables on stack
    computeMoveLocation(&r, &c, &board); 
    return 0;
} 
```

好的主要＃2：

```
int main() {
    int *r = malloc(sizeof(int));
    *r = 5;
    int *c = malloc(sizeof(int));
    *c = 5;
    char *board = malloc(sizeof(char));
    *board = 'a';
    // fine, passing pointers that point to heap
    computeMoveLocation(r, c, board); 

    free(r);
    free(c)
    free(board);
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T04:14:21.553

您始终可以传递一个指针并修改指针指向的值。这就是应该使用指针的方式。***但是，您还应该小心查看指针是否确实指向某物。指针应包含一个有效地址，即您可以更改其位置的值。如果您不确保这一点，则会导致未定义的行为。***

例如，当您调用 computeMoveLocation 函数时，您传递的地址应该是堆栈或堆地址。你可以看下面的代码来理解它。

**第一种可能性**

```
int r, c;
char board;
computeMoveLocation(&r,&c, &board); 
```

**第二种可能性**

```
int *r, *c;
char *board;

r = malloc(sizeof(int));
c = malloc(sizeof(int));
board = malloc(sizeof(char));
computeMoveLocation(r,c,board); 
```

请注意，`char *`它通常也用于将地址传递给字符数组，但是，在这种用法中，通常要确保它是空终止的，或者也传递了数组的伴随长度。

无论如何，您都可以通过简单的谷歌搜索获得更多关于传递指针的详细信息。

* * *

**编辑** 现在，您已经发布了调用 computeMoveLocation 的代码，您看到您应该根据上面显示的第二种可能性修改您的代码，因为您将 r 和 c 声明为指针，或者您应该将它们声明为整数并按照第一种可能性如上所示。但是，你没有做同样的事情导致未定义的行为。

另外，在上面的例子中，我已经为板子分配了内存，但是，在你的情况下，如果它来自其他地方并且在那里得到了适当的处理，那么它不需要被分配。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:15:22.893

```
int *r, *c;
computeMoveLocation(r, c, board);
computerMove(*r,*c, board); 
```

你定义了一个指针，但不要让它指向任何东西。因此，它是一个*野*指针或未*初始化*的指针；`*r`像您一样访问`computeMoveLocation`会导致未定义的行为（在您的情况下是崩溃）。

您必须初始化指针以指向已知的东西，或者只传递现有的地址`int`：

```
int r, c;
computeMoveLocation(&r, &c, ...); 
```

或者

```
static int x, y; // static: only one instance of the variable exists
int *r = &x; // initialize pointers
int *c = &y;
computeMoveLocation(r, c, ...); 
```

或者

```
int *r = malloc(sizeof(int));
int *c = malloc(sizeof(int));
computeMoveLocation(r, c, ...); 
```

在最后一种情况下，请确保`free`事后记忆。

# mysql - mongo 适合与 MySQL 一起使用吗？

> ID：15182325
> 
> 赞同：1
> 
> 时间：2013-03-03T03:59:52.970
> 
> 标签：mysql, database, database-design, nosql, scalability

由于 NDA，我无法详细讨论事情，但我希望对正在构建的系统的概述可以帮助您帮助我做出有关我们数据库的决定。

我正在构建一个应用程序，该应用程序将帮助供应商通过根据店面的库存/购买记录提供战略性报价来竞争以获得客户。

该应用程序的一方面是供商店所有者查看提供的优惠、网络等。我使用标准的 php/MySQL 设置来实现这一点。

我的问题是关于库存记录的。我们几乎立即在这里谈论数百万条记录。我使用的示例数据是在一两年内汇总了他们的四个经理（他们有几十个），它有超过 500k 行和大约 30 列或更多列。当我们与所有经理一起获得数十家商店时，这将是巨大的，至少与我迄今为止合作过的任何商店相比。

供应商将拥有产品的一面，他们可以在其中搜索这些记录并根据这些记录提供有竞争力的报价。

绝对大小是使用 mongo 之类的好理由吗？或者更多的是数据的布局方式/数据组成的问题？还是我没有考虑的其他元素？

而且，如果不是 mongo/nosql，那么还有其他一些方法或技术可以让我使用这样的大型数据存储（分片、亚马逊云数据库等）。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T22:07:58.493

答案...

问：庞大的尺寸是使用 mongo 之类的好理由吗？

答：我认为是的。Mongo 是从头开始大规模构建的。您拥有可以帮助您扩展的副本集和分片。它们还具有确保您的数据存储在地理分布适当的数据中心的功能。

问：或者更多的是数据如何布局/由什么组成的问题？

A：Mongo 是一个文档数据库，你说得对，数据模型会有所不同。您必须以非规范化的方式而不是规范化的方式考虑数据。就像任何技术一样，将事物存储为文档也有利有弊。

一些优点：模式管理轻而易举。数据更自然地适合您的应用程序中的对象。不必为复杂/缓慢的连接付出代价。

一些缺点：模式可能不一致 - 你必须管理它。数据重复，没有管理意味着它可能变得不一致。

* * *

总的来说，我认为 Mongo 是处理这种规模的好选择。Mongo 有一个新的聚合框架，它为文档查询带来了很多 SQL 概念。更容易进行复杂的查询。Mongo 也有 map/reduce 来运行你可能有的任何类型的查询。

在每天使用 Mongo 大约一年后，我真的很喜欢它作为产品的支持以及设置和使用它的一般易用性。

# c - 信号量实现

> ID：15182328
> 
> 赞同：7
> 
> 时间：2013-03-03T04:01:05.477
> 
> 标签：c, semaphore

我在以下程序中遇到错误。我想演示两个进程如何使用信号量共享一个变量。谁能指导我？

我无法调试错误...

```
#include<stdlib.h>
#include<stdio.h>
#include<unistd.h>
#include<sys/ipc.h>
#include<sys/sem.h>
#include<semaphore.h>
int main()
{
  int pid,mutex=1;
  int semid;               /* semid of semaphore set */
  key_t key = 1234; /* key to pass to semget() */
  int nsems = 1; /* nsems to pass to semget() */
  semid=semget(key,nsems,IPC_CREAT|0666);
  if (semid<0) 
  { 
    perror("Semaphore creation failed ");
  }
  if ((pid = fork()) < 0) 
  {
    perror("fork");
    return 1;
  }
  else if(pid==0)
  {
    sem_wait(&semid);
    printf("IN CHILD PROCESS :\n");
    mutex++; 
    printf("value of shared variable =%d",mutex);
    sem_post(&semid);
    return 0;
  }
  sem_wait(&semid);
  printf("IN PARENT PROCESS :\n");
  mutex--;
  printf("value of shared variable =%d",mutex);
  sem_post(&semid);
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-03-03T06:17:25.270

您的基础知识错了，程序将无法运行，因此请通过基础知识并重新编写程序。

您必须进行的一些更正是：

1）你必须做一个信号量类型的变量

```
sem_t semvar; 
```

2）函数`sem_wait()`，`sem_post()`需要信号量变量，但你传递信号量ID，这是没有意义的。

```
sem_wait(&semvar);
   //your critical section code
sem_post(&semvar); 
```

3）您将信号量传递给`sem_wait()`并且`sem_post()` 没有对其进行初始化。在使用它之前，您必须将其初始化为 1（在您的情况下），否则您将遇到死锁。

```
ret = semctl( semid, 1, SETVAL, sem);
if (ret == 1)
     perror("Semaphore failed to initialize"); 
```

从手册页研究信号量 API 并通过这个[示例](http://pages.cs.wisc.edu/~remzi/Classes/537/Fall2008/Notes/threads-semaphores.txt)。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2015-07-23T13:33:44.597

您的代码的根本问题是您混合了两个 API。不幸的是，在线资源并不能很好地指出这一点，但在类 UNIX 系统上有两个信号量 API：

*   POSIX IPC API，这是一个标准的 API
*   System V API，来自旧的 Unix 世界，但实际上几乎所有 Unix 系统都可用

查看上面的代码，您使用了 System V API 中的 semget() 并尝试通过来自 POSIX API 的 sem_post() 进行发布。不能混合它们。

要决定你想要哪个信号量 API，你没有那么多好的资源。最简单的最好是 Stevens 的“Unix Network Programming”。您可能感兴趣的部分是第 2 卷。

这两个 API 有惊人的不同。两者都支持教科书式的信号量，但 System V API 有一些优点和缺点值得一提：

*   它建立在信号量集之上，因此一旦您使用 semget() 创建了一个对象，该对象是一组信号量而不是单个信号量
*   System V API 允许您对这些集合执行原子操作。因此您可以修改或等待集合中的多个信号量
*   SysV API 允许您等待信号量达到阈值，而不仅仅是非零。也支持等待非零阈值，但我之前的句子暗示
*   每个 unix 上的信号量资源都非常有限。您可以使用“ipcs”命令检查这些
*   System V 信号量具有撤消功能，因此您可以确保异常程序终止不会使您的信号量处于不希望的状态

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-09-07T13:37:21.247

改变消费者速率和生产者速率（使用睡眠），以更好地理解代码的操作。下面的代码是消费者-生产者模拟（超过容器的最大限制）。

**供您参考的代码：**

```
#include <stdio.h>
#include <pthread.h>
#include <semaphore.h>

sem_t semP, semC;
int stock_count = 0;
const int stock_max_limit=5;

void *producer(void *arg) {
    int i, sum=0;
    for (i = 0; i < 10; i++) {

        while(stock_max_limit == stock_count){
            printf("stock overflow, production on wait..\n");
            sem_wait(&semC);
            printf("production operation continues..\n");
        }

        sleep(1);   //production decided here
        stock_count++;
        printf("P::stock-count : %d\n",stock_count);
        sem_post(&semP);
        printf("P::post signal..\n");
    }
 }

void *consumer(void *arg) {
    int i, sum=0;
    for (i = 0; i < 10; i++) {

        while(0 == stock_count){
            printf("stock empty, consumer on wait..\n");
            sem_wait(&semP);
            printf("consumer operation continues..\n");
        }

        sleep(2);   //consumer rate decided here
        stock_count--;
        printf("C::stock-count : %d\n", stock_count);
        sem_post(&semC);
        printf("C::post signal..\n");
        }
}

int main(void) {

    pthread_t tid0,tid1;
    sem_init(&semP, 0, 0);
    sem_init(&semC, 0, 0);

        pthread_create(&tid0, NULL, consumer, NULL);
        pthread_create(&tid1, NULL, producer, NULL);
        pthread_join(tid0, NULL);
        pthread_join(tid1, NULL);

    sem_destroy(&semC);
    sem_destroy(&semP);

    return 0;
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-03T09:38:03.197

> 请在下面的示例代码中查看信号量实现（锁定和解锁）。

```
 #include<stdio.h>
    #include<stdlib.h>
    #include <sys/types.h>
    #include <sys/ipc.h>
    #include<string.h>
    #include<malloc.h>
    #include <sys/sem.h>
    int main()
    {
            int key,share_id,num;
            char *data;
            int semid;
            struct sembuf sb={0,-1,0};
            key=ftok(".",'a');
            if(key == -1 ) {
                    printf("\n\n Initialization Falied of shared memory \n\n");
                    return 1;
            }
            share_id=shmget(key,1024,IPC_CREAT|0744);
            if(share_id == -1 ) {
                    printf("\n\n Error captured while share memory allocation\n\n");
                    return 1;
            }
            data=(char *)shmat(share_id,(void *)0,0);
            strcpy(data,"Testing string\n");
            if(!fork()) { //Child Porcess
                 sb.sem_op=-1; //Lock
                 semop(share_id,(struct sembuf *)&sb,1);

                 strncat(data,"feeding form child\n",20);

                 sb.sem_op=1;//Unlock
                 semop(share_id,(struct sembuf *)&sb,1);
                 _Exit(0);
            } else {     //Parent Process
              sb.sem_op=-1; //Lock
              semop(share_id,(struct sembuf *)&sb,1);

               strncat(data,"feeding form parent\n",20);

              sb.sem_op=1;//Unlock
              semop(share_id,(struct sembuf *)&sb,1);

            }
            return 0;
    } 
```

# java - 如何从文件夹中的图像将图标设置为 JLabel？

> ID：15182329
> 
> 赞同：7
> 
> 时间：2013-03-03T04:01:24.663
> 
> 标签：java, swing, jlabel, jcombobox, imageicon

每当从 JComboBox 中选择项目时，我都会尝试从图像文件夹中将图标设置为 JLabel。JComboBox 中的项目名称和文件夹中的图像名称相同。因此，每当从 JComboBox 中选择一个项目时，应将具有相同名称的相应图像设置为 JLabel 的图标。我正在尝试做这样的事情。

```
private void cmb_movieselectPopupMenuWillBecomeInvisible(javax.swing.event.PopupMenuEvent evt){                                                             
        updateLabel(cmb_moviename.getSelectedItem().toString());
}

protected void updateLabel(String name) {
        ImageIcon icon = createImageIcon("C:\\Users\\xerof_000\\Pictures\\tmspictures\\" + name + ".jpg");
        if(icon != null){
            Image img = icon.getImage(); 
            Image newimg = img.getScaledInstance(lbl_pic.getWidth(), lbl_pic.getHeight(),  java.awt.Image.SCALE_SMOOTH);
            icon = new ImageIcon(newimg);
            lbl_pic.setIcon(icon);
            lbl_pic.setText(null);
        }
        else{
            lbl_pic.setText("Image not found");
            lbl_pic.setIcon(null);
        }
    }

protected static ImageIcon createImageIcon(String path) {
        URL imgURL;
        imgURL = NowShowing.class.getResource(path);
        if (imgURL != null) {
            return new ImageIcon(imgURL);
        } else {
            return null;
        }
    } 
```

我认为问题出在“C:\Users\xerof_000\Pictures\tmspictures\”中，我尝试使用“C:/Users/xerof_000/Pictures/tmspictures/”，但即使这样也没有用。无论我做什么，它只会在 JLabel 上显示“找不到图像”。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-03T15:23:50.137

**这是我的目录结构：**

```
 packageexample
                                      |
                   -------------------------------------------
                   |                  |                      |
                build(folder)     src(folder)           manifest.txt
                   |                  |
             swing(package)       ComboExample.java
                   |
            imagetest(subpackage)
                   |
     ComboExample.class + related .class files 
```

这是**ComboExample.java**文件的内容：

```
package swing.imagetest;    

import java.awt.*;
import java.awt.event.*;
import java.net.*;
import javax.swing.*;

public class ComboExample {

    private String[] data = new String[]{
                                            "geek0",
                                            "geek1",
                                            "geek2",
                                            "geek3",
                                            "geek4"
                                        };
    private String MESSAGE = "No Image to display yet...";
    private JLabel imageLabel;
    private JComboBox cBox;
    private ActionListener comboActions = 
                            new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent ae) {
            JComboBox combo = (JComboBox) ae.getSource();
            ImageIcon image = new ImageIcon(
                        getClass().getResource(
                            "/" + combo.getSelectedItem() + ".gif"));
            if (image != null) {
                imageLabel.setIcon(image);
                imageLabel.setText("");
            } else {
                imageLabel.setText(MESSAGE);
            }
        }    
    };

    private void displayGUI() {
        JFrame frame = new JFrame("Combo Example");
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

        JPanel contentPane = new JPanel();
        imageLabel = new JLabel(MESSAGE, JLabel.CENTER);
        cBox = new JComboBox(data);
        cBox.addActionListener(comboActions);

        contentPane.add(imageLabel);
        contentPane.add(cBox);

        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    public static void main(String... args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                new ComboExample().displayGUI();
            }
        });
    }
} 
```

**现在编译：**

**为了编译我这样做了：**

```
Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample
$ javac -d build src/*.java 
```

**清单文件的内容：**

![在此处输入图像描述](../Images/7b56b8b979f5f79dea2f70d081585b80.png)

**JAR 文件创建：**

```
Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample
$ cd build

Gagandeep Bali@LAPTOP ~/c/Mine/JAVA/J2SE/src/packageexample/build
$ jar -cfm imagecombo.jar ../manifest.txt * 
```

现在将其`JAR File`带到具有这些图像（、、、和）的任何位置![极客0.gif](../Images/b6da3115d8c39c141bb5c0670043d25d.png)，然后![极客1.gif](../Images/39fcda511b159f3fedccc53c6ebf4bd4.png)运行，然后查看结果:-)![极客2.gif](../Images/f8833e46079480c251359a42ec63fe29.png)![极客3.gif](../Images/22af281a602b0e255aa9ab4565ea0604.png)![极客4.gif](../Images/062f51ea7e3a2b7f701949681af22f6f.png)`JAR File`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T07:23:00.640

正如[*如何使用图标*](http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html)中所讨论的，该`getResource()`方法期望在程序的 JAR 文件中找到图像。您需要将图像移动到您的项目中。[`IconDemo`](http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html#eg)是一个完整的例子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-10T20:02:03.177

由于您使用jLabel，您可以简单地使用HTML标签，只需以< html >开始标签文本并根据需要在标签中使用HTML标签，在旅游案例中：< img src = filepth \ imagefile.jpg >你可以使用这个取代 ： ）。带微笑图标。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-14T00:02:17.377

```
 /*

Create an Image File whose size is 700 x 472 (pixels) in any image editor. 
Here Image was created using MS - Paint.

Make sure that the Image File and the main file are in the same folder.

The size of the JFrame should be set to 700 x 472 (pixels) in the program. 

Set the JLabel's IconImage.

Add the JLabel to the JFrame.

Set JFrame properties.

Display JFrame.

------------------------------------------------------------------------------

label.setIcon(getClass().getResources(String name));

label.setIcon(new ImageIcon(String file));

These 2 methods, don't always work with us. 

So, we create a method "getImageIcon(File f)" that returns a new ImageIcon Object,
everytime a new File Object is passed to it. 

*/

import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JButton;

import java.awt.Image;
import javax.imageio.ImageIO;
import java.io.File;
import java.io.IOException;

import javax.swing.ImageIcon;

import static javax.swing.WindowConstants.*;

public class ImageDemo
{

    JFrame frame = new JFrame();      //initialized

    JLabel label = new JLabel();      //initialized

    JButton button = new JButton();   //initialized

    ImageIcon ii;                //not initialized  

    public void displayImage()
    {

        //Layout Type: Null Layout.

        label.setIcon(getImageIcon(new File("print.png")));

        button.setBounds(150,150,358,66);
        //Note that sizes of the Image and Button are same.
        button.setIcon(getImageIcon(new File("Button.png")));

        label.add(button);
        //add the button to the label

        frame.add(label);
        frame.setBounds(300, 50, 700, 472);
        //(300 x 50 = HorizontalAlignment x VerticalAlignment)
        //(700 x 472 = Width x Height)      

        frame.setTitle("Image Demo");
        frame.setDefaultCloseOperation(EXIT_ON_CLOSE); //WindowConstants.EXIT_ON_CLOSE
        frame.setVisible(true);

    }

    public ImageIcon getImageIcon(File f)
    {

        try
        {
            Image im = ImageIO.read(f);

            ii = new ImageIcon(im);

        }
        catch(IOException i)
        {

            i.printStackTrace();

        }

        finally
        {

            return ii;

        }

    }

    public static void main(String[] args)
    {

        ImageDemo id = new ImageDemo();

        id.displayImage();

    }

} 
```

# java - 使用 Java 阅读 YouTube 评论源

> ID：15182330
> 
> 赞同：1
> 
> 时间：2013-03-03T04:01:49.337
> 
> 标签：java, api, rss, youtube-api

我想阅读并显示 youtube 上视频的前 200 条评论。基本上，当我转到链接时：http: [//gdata.youtube.com/feeds/api/videos/EokUNzGJBI8/comments](http://gdata.youtube.com/feeds/api/videos/EokUNzGJBI8/comments)我得到了 rss 提要形式的所有评论。如何解析和阅读所有评论？
编辑：我在 php 中尝试过相同的方法，并且很容易检索。我需要用 Java 来做，我是新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:05:25.400

您可以在代码中执行以下步骤：

1.  在 Java 中加载该 API - 通过[下载该页面的内容进行调用](http://www.kodejava.org/examples/196.html)
2.  使用[Java XML Parser解析 XML](http://dom4j.sourceforge.net/)
3.  循环浏览评论并做你想做的事。

# python - PyAudio 不起作用并在 ubuntu 上中断声音

> ID：15182336
> 
> 赞同：8
> 
> 时间：2013-03-03T04:02:32.283
> 
> 标签：python, ubuntu, pulseaudio, pyaudio

好的，所以我`pyaudio`从包`python-pyaudio`中安装`apt-get`，现在当我导入和调用时如下：

```
Python 2.7.3 (default, Sep 26 2012, 21:53:58) 
[GCC 4.7.2] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import pyaudio
>>> p= pyaudio.PyAudio()
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
ALSA lib pcm_params.c:2162:(snd1_pcm_hw_refine_slave) Slave PCM not usable
ALSA lib pcm_params.c:2162:(snd1_pcm_hw_refine_slave) Slave PCM not usable
ALSA lib pcm_params.c:2162:(snd1_pcm_hw_refine_slave) Slave PCM not usable
ALSA lib pcm_dmix.c:957:(snd_pcm_dmix_open) The dmix plugin supports only playback stream
Cannot connect to server socket err = No such file or directory
Cannot connect to server request channel
jack server is not running or cannot be started 
```

它吐出那些错误消息。经过一番研究，我发现了这个问题：

> [PyAudio 工作，但每次都吐出错误消息](https://stackoverflow.com/questions/7088672/pyaudio-working-but-spits-out-error-messages-each-time)

在答案中提到它们只是警告

但对我来说，音频实际上不起作用*并*破坏了我系统上的音频，使声音小程序显示所有空白并且没有音频输出工作

前：

![](../Images/d225afdabb1c6c74178889c1cfe93218.png)

后：

![](../Images/50cf2e50dab1d89807b9634da8a9b5a8.png)

这是我可以解决的问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-12-27T14:29:36.977

您需要正确配置 alsa，确保 arecord 正常工作并且默认设备正确录制声音。如果修复它应该开始工作。

最好在没有 Jack 和 Alsa 的情况下重新编译 PyAudio(Portaudio) 并支持 Pulseaudio。

Pulseaudio 是 Ubuntu 中的默认声音框架，应该可以正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-14T14:52:34.490

您需要它尝试连接的 JACK 守护进程：

```
jack server is not running or cannot be started 
```

如果尚未安装，它应该与大多数主要的 Linux 发行版一起提供。您可能应该查看他们的[页面](https://wiki.archlinux.org/index.php/JACK_Audio_Connection_Kit)并确定您需要哪种音频架构（可能是 ALSA）以及您希望它以什么速率运行。我还可以建议在其上运行一个 GUI 界面，例如[QJackCtl](http://qjackctl.sourceforge.net/)，因为 JACK 有时需要根据您的声卡进行一些配置。

# clojure - 用 core.logic 重构

> ID：15182337
> 
> 赞同：0
> 
> 时间：2013-03-03T04:02:37.367
> 
> 标签：clojure, clojure-core.logic

我已经开始学习 core.logic，我完全迷路了。我正在尝试编写一个 core.logic 关系来重构表达式，重命名符号。我想要一个为给定表达式、符号列表和符号列表返回的关系来重命名这些符号：

```
(defn rename [exp from to]... 
```

具有所有符号的表达式从成为对应的一个到：

```
e.g. (rename '(defn multiply [x y] (* x y)) [x y] [a b]) 
```

返回`(defn multiply [a b] (* a b))`

但它需要知道范围，

所以`(rename '(defn q [x] ((fn [x] (* x 5)) x)) [x] [a])`

会回来`(defn q [a] ((fn [x] (* x 5)) a))`

我不知道从哪里开始解决这个问题 - 任何提示将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T09:10:30.280

这个问题更适合 FP，因为它只是一个树遍历和替换操作，而 LP 更多的是关于指定约束并围绕这些约束询问所有可能的解决方案以获取特定输入。但是，如果您真的想以这种合乎逻辑的方式进行操作，我尝试了一些尝试以 LP 方式进行操作的方法，但它不能处理很多情况，这只是一个起点。

```
(defrel replace-with a b)
(fact replace-with 'x 'a)
(fact replace-with 'y 'b)

(defn replace [a b]
   (conde
    [(replace-with a b)]
    [(== a b)]))

(defn replace-list [from to]
  (conde 
   [(== from []) (== to [])]
   [(fresh [f t f-rest t-rest]
            (resto from f-rest)
            (resto to t-rest)
            (firsto from f) (firsto to t)  
            (conda [(replace-list f t)]
                   [(replace f t)])
            (replace-list f-rest t-rest))]))

(first (run 1 [q]
        (fresh [from]
        (== from '(defn multiply [x y] (* x y)))
        (replace-list from q))))

==> (defn multiply (a b) (* a b)) 
```

# css - 让一个很长的词适合响应式元素？

> ID：15182338
> 
> 赞同：4
> 
> 时间：2013-03-03T04:02:41.307
> 
> 标签：css, responsive-design, html, multiline

我正在使用 Twitter 引导程序。

```
<div class="container">
    <div class="row-fluid">
        <h1>VeryLongWordHere</h1>
    </div>
</div> 
```

[JSfiddle](http://jsfiddle.net/HJTvh/)

* * *

在移动屏幕上，文本变得不可读；给我两个选择：

1.  当宽度达到一定大小时减小文本大小（顺便说一句，我该怎么做？）
2.  使文本超过> 1行；`<span>`例如：在我用标签指定的每个段上

但是我也不知道该怎么做...

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-03T04:05:13.873

我在解决类似问题时使用了这个 CSS：

```
word-wrap:break-word 
```

这将迫使单词在必要时打破以迫使它们适应。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T22:18:29.087

对于您的第一个选项，有许多 jQuery 插件可以动态调整文本大小以适应父元素的宽度。这里有几个：

*   [适合文本](http://fittextjs.com/)
*   [平板文字](http://www.frequency-decoder.com/demo/slabText/)
*   [大文本](http://www.zachleat.com/web/bigtext-makes-text-big/)

当屏幕尺寸小于某个断点时，您可以使用这些插件中的任何一个来调整文本大小。像这样的东西：

```
if (jQuery(window).width()) < 600) {
   jQuery('h1').slabText();
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-09-04T19:59:38.470

如果要求在小屏幕尺寸（响应式屏幕）上调整非常长的单词的大小，min-width 可以是任何最小宽度，现在如果用户缩小屏幕尺寸，那么单词将打破并适应屏幕尺寸。

```
 .wallet__address {
    min-width: 50px;
    word-break:break-word;
  }
```

```
<html>
    <div className="wallet__address">
      <p>
        0x1453Dbb0x1453Dbb0x1453Dbb0x1453Dbb0x1453Dbb
      </p>
    </div>
</html>
```

# bison - flex&bison 中的“初始”处理

> ID：15182342
> 
> 赞同：0
> 
> 时间：2013-03-03T04:05:01.953
> 
> 标签：bison

工作初始.l

```
%{
 #include "initial.tab.h"
%}

%%
”initial” {return INITIAL;}
[()] {return yytext[0];}
.
%%
int yywrap(void)
{
 return(1);
} 
```

工作初始.y

```
%{
  #include <stdio.h>
  #include <stdarg.h>
  #include <string.h>
  #include <stdlib.h>

  #define YYDEBUG 1
  char *filename;
  FILE *fp; 
%}
%token INITIAL

%%
initial:'(' INITIAL ')'
;
%%

main(argc,argv)
int argc;
char **argv; 
{
extern   FILE*   yyin; 
if (argc >1 && !strcmp(argv[1],"-d"))
{
 yydebug =1;
 argc--;
 argv++;
}
 if(argc >1 )
  {
   if((yyin = fopen(argv[1],"r"))==NULL)
     {perror(argv[1]);
      exit(1);
     }
   filename=argv[1];
 }  
  else
   filename="(stdin)" ;

if(!yyparse())
  printf("Done!\n");
    else 
       printf("Fail!\n");

} 
```

数据文件：（初始）

这两个程序是我程序的一部分。“initial”这个词是initial.l中定义的一个关键字，但看起来它也是flex本身的关键字。表达“初始”部分句法结构的方式已经过正确测试。输出：语法错误失败！输出我的完整程序：zhou:318.19-318.25:syntax error, unexpected $end, expecting CHANGE or STEADY or INITIAL

如何解决这样的问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-19T06:01:03.020

如果你使用 %token TOK_INITIAL "initial" 意味着在 "initial" {return TOK_INITIAL;} 中也进行了更改，那么它会正常工作。

也在看这个。

**如果您需要在解析器启动时初始化某些内容，您可以使用 %initial-action { some-code } 告诉 bison 在 yyparse 开头附近复制一些代码。复制代码的位置在标准初始化代码之后，因此您无法在代码中有效地放置变量声明。（它们将被接受，但在您的操作中将无法访问它们。）如果您需要定义自己的解析时变量，您必须使用静态全局变量或通过 %parse-param 将它们作为参数传递。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T08:07:05.113

Indeed`INITIAL`由 Flex 定义（作为宏），所以不要使用这个名称，就像`EOF`和其他宏一样。

您的终端符号 ( `INITIAL`) 无需与其语法 ( ) 完全相同`"initial"`，因此只需将其重命名为`TOK_INITIAL`. 如果您希望错误消息更清晰（为什么您的用户会理解其`TOK_INITIAL`含义？），请使用以下命令：

```
%token TOK_INITIAL "initial" 
```

# android-widget - 使用 HoloEveryWhere 减小 apk 的大小

> ID：15182347
> 
> 赞同：0
> 
> 时间：2013-03-03T04:05:31.297
> 
> 标签：android-widget, apk, android-holo-everywhere

我在我的项目中使用 HoloEveryWhere。但我对最终 apk 的大小不满意。**任何人都可以提供有关如何减小尺寸的具体指导方针，或者只包括在应用范围内有效的特定样式。**

PS Spinners 看起来不像他们应该的样子。spiiners 使用 holoeverywhere 样式有什么特别的事情要做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-18T10:36:18.067

由于 Proguard 不会减少库项目的大小，因此您无法显着减少 apk 的总大小。如果您只使用浅色主题，您可以删除未使用的资源，例如深色主题，但它只会节省大约 300-400 kB。

# jquery - 将滚动目标从 div 更改为 body

> ID：15182349
> 
> 赞同：0
> 
> 时间：2013-03-03T04:06:22.727
> 
> 标签：jquery, scroll, tinyscrollbar

我只是想问你一个问题.. 当滚动到达这个 div 的顶部/底部时，你知道如何将滚动目标从 div 更改为 body 吗？我正在使用 tinyscrollbar ..

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-08-22T06:38:42.837

也许有点晚了；）这不是标准行为吗？首先，可滚动的 div 滚动直到到达底部，然后滚动窗口/正文直到到达底部。这是 IE 和 Chrome 中的正常行为

# c++ - 如何读取 char argv 输入并解析（检查）它的非整数

> ID：15182353
> 
> 赞同：0
> 
> 时间：2013-03-03T04:07:22.613
> 
> 标签：c++, parsing, command-line, error-handling, char

说我的命令行是`a.out -a 3eF6`

如果我访问 argv[2]，它将给我 3eF6（我认为这是一个字符数组？）我将如何循环检查每个字符是否是整数，而不是像“e”这样的 alpha 值还是“F”？

我如何/将它变成一个字符串？

我知道如果我这样做`a = atoi(argv[2])`，`argv[2]`32 在哪里，那么 a = 32。我也知道如果`argv[2]`是 3eF6，那么以下不会导致“错误输入”。

```
 a = 0;
 a = atoi(argv[2])
if( a = 0 )
 cout << "wrong input"; 
```

相反，`a`将被评估为 3。因此它仅读取此实例中的第一个整数，但我希望能够访问整个参数 3eF6。

我尝试过使用 atoi(getline(argv[2], a) 或类似的东西，但由于某种原因，我收到一个错误，提示我无法将字符串转换为 const char。

无论如何，我如何将 argv[2] 转换为我可以解析的字符串？或者我如何访问 argv[2] 中的每个字符？

我也试过：

```
string string1 = argv[i+1] // argv[i] is an option like -a 
```

但是在使用参数运行程序时，我收到此错误：

```
./a.out -b 2 -a 2 -s 2 -t 8 
```

> 在抛出 'std::logic_error' what() 的实例后调用终止：basic_string::_S_construct NULL not valid Abort (core dumped)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:46:56.120

```
TCHAR c;
int n(0);
int x(0);
int y(0);

for (x = 0; x < argc; ++x)
{
    // Loop through each character in the argument.
    n = _tcslen(argv[x]);
    for (y = 0; y < n; ++y)
    {
        c = argv[x][y];
        if (isdigit(c))
        {
            cout << c << "is a digit" << endl;
        }
        else
        {
            cout << c << "is not a digit" << endl;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T22:27:28.777

最后，我创建了一个 char 指针来保存我的 char 命令行元素：

```
char* charString = argv[i+1]; 
```

并将其传递给函数进行解析

```
parser(charString); 
```

在这种情况下， argv[i+1] 相当于我的问题中的 argv[2] 。我的解析器函数的函数定义如下所示：

```
 void parser(char* charString){
        for(int i=0; charString[i] != '\0'; i++){
                bool isAlpha = isalpha(charString[i]);
                bool isPunct = ispunct(charString[i]);
                if ((isAlpha == true)||(isPunct == true)){
                        printError();
                        exit(1);
                } else;
           }
     } 
```

需要注意的重要一点是，要在 char 数组的末尾结束解析，您**不能**这样做

```
for(int i=0; charString[i] < sizeof(charString); i++){ 
```

因为数组大小将始终返回 8 或 9。相反，您必须在评估的字符等于 '\0' 时结束解析，或者换句话说，在字符 charString[i] 不等于 '\0' 时进行解析。

# android - 从Android中的旋转矢量获取手机方向？

> ID：15182354
> 
> 赞同：0
> 
> 时间：2013-03-03T04:07:25.427
> 
> 标签：android, graphics, geometry

我相信这应该是一个常见问题，但我在整个互联网上搜索但找不到合适的教程。

我从 Sensor.TYPE_ROTATION_VECTOR 获得手机的旋转向量，在对 WikiPedia 的旋转向量进行了一些研究后，我已经完全理解了它。

但是我很难将其转换为旋转角度（俯仰、滚动和方位角值）。有什么可以参考的吗？或者我应该怎么做？

非常感谢

# jquery - 此隐藏功能在单击文档上的任何位置时起作用，使用 jQuery UI MultiSelect Widget 的元素除外

> ID：15182356
> 
> 赞同：0
> 
> 时间：2013-03-03T04:07:40.670
> 
> 标签：jquery, onclick, hide

我正在使用 unordered () HTML 列表设置一些 Select 元素的样式，当用户单击元素区域之外的任何位置时，此函数应该隐藏这些元素，但由于某种原因，当用户单击使用[jQuery的元素时它不起作用UI 多选小部件](http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/)。

**更新**- 我创建了一个 jsfiddle 来演示问题[http://jsfiddle.net/chayacooper/ezxSF/4/](http://jsfiddle.net/chayacooper/ezxSF/4/)单击以打开标有*“UL 元素”的项目 - 如果您将鼠标悬停在**“UL 元素”的*任何下拉项目上或单击文档或按预期工作的其他元素，但如果您单击*“MultiSelect Element”*而不将鼠标悬停在任何*“UL Element”*项目上，它仍然处于打开状态。

```
$('html').click(function(e){
  if(e.target.id == 'dropdown_box1') {
            $("#select1").show();
  } else {
            $("#select1").hide();
  }
 }); 
```

如果用户单击多选元素，我还尝试创建一个单独的函数来关闭该元素，但这也不起作用。

```
$('.multiselect').click(function() {
    $("#select1").hide();
}); 
```

HTML

```
<div id="dropdown_box1"><span>Select</span></div>
<div class="dropdown_container" id="dropdown_container1">  
    <ul id="select1"> 
        <!-- Several List Item Elements --> 
    </ul>
</div> 
```

我有一个单独的 mouseleave 函数，当用户将鼠标移开时隐藏列表元素，但如果用户单击打开它但没有将鼠标悬停在列表元素上，则不会触发它。

```
 $(document).ready(function () {
        $("#dropdown_box1").click(function () {
            $("#select1").show();
        });
        var timeoutID;
        $("#select1").mouseleave(function () {
              timeoutID = setTimeout(function () {
                  $("#select1").hide();
            }, 800);
        });
          $("#select1").mouseenter(function () {
            clearTimeout(timeoutID);
        });
     }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T11:31:15.157

您是否尝试过使用 .blur() 隐藏列表？你可以试试：

```
$("#select1").blur(function(){
     $(this).hide();
}); 
```

我以前没有使用过多选插件，也没有测试过这个，但我认为检查一个项目何时失去焦点更好，而不是向每个项目添加一个事件并检查它何时被点击。希望有帮助。

**更新：** 多选打开时有一个事件。如果您查看这个 JSFiddle，我在调用它时关闭了另一个选择：http: [//jsfiddle.net/k8DWK/](http://jsfiddle.net/k8DWK/)。

# php - 隐藏脚本扩展并获取价值

> ID：15182359
> 
> 赞同：-1
> 
> 时间：2013-03-03T04:08:25.457
> 
> 标签：php, .htaccess, mod-rewrite

我正在开发一个基于 php 的项目。我想知道 -

=> 如何隐藏 url 中显示的脚本扩展名？像 stack.php 应该看起来只是堆栈

=> 有没有办法隐藏获取值？或者出于安全原因如何处理获取值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:30:29.340

> 如何隐藏 url 中显示的脚本扩展名？像 stack.php 应该看起来只是堆栈

这是可能的，但没有任何意义。

> 有没有办法隐藏获取值？

这是不可能的，没有意义

GET 值定义了一个唯一的页面地址。没有它们，您的代码将无法判断必须显示哪些信息。
为了使任何值安全，您必须过滤和清理它们，而不是隐藏它们。您只是无法向实际从浏览器发送值的用户隐藏任何内容。因此，关于超链接，只需保持当前设置不变 - 没关系。

> 或者出于安全原因如何处理获取值？

这取决于这些值的进一步使用。关于这个问题已经有很多答案了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:28:32.303

在 .htaccess 中隐藏脚本扩展 在此处检查接受的答案....

[http://www.stackoverflow.com/questions/8371634/hide-php-extension-htaccess](http://www.stackoverflow.com/questions/8371634/hide-php-extension-htaccess)

隐藏 GET 值在此处检查同一问题的答案

[http://www.stackoverflow.com/questions/2642522/how-can-i-hide-a-get-variable-to-be-more-secured-in-php](http://www.stackoverflow.com/questions/2642522/how-can-i-hide-a-get-variable-to-be-more-secured-in-php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T04:34:33.417

检查您是否已`mod_rewrite`安装，然后将其放入 .htaccess 文件中

```
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !\.php$
RewriteRule ^(.*)$ $1.php [L] 
```

这当然是假设您使用的是 Apache。

# php - 在 javascript 函数中使用会话变量

> ID：15182361
> 
> 赞同：-3
> 
> 时间：2013-03-03T04:08:57.553
> 
> 标签：php, javascript, session, variables

谁能告诉我如何在 JavaScript 函数中使用 php 会话变量？我有一个带有一些选项按钮的 php 页面，当用户单击提交按钮时，我希望将选中的选项按钮的值存储在我想在另一个页面上使用的 php 会话变量中。正在通过 JavaScript 检查选择了哪个单选按钮。在同一个函数中，我想将该值存储在 php 会话变量中。谁能告诉我如何做到这一点？如果我在 javascript 函数中使用 session 变量，它只会忽略它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:11:18.130

`javaScript`你可以像这样 得到php会话变量名

```
 var varname = '<?php echo $_SESSION["variable_name"]; ?>'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:13:43.443

有一种叫做“Javascript Cookies”的东西，当我遇到你的问题时，这种东西非常方便。

这是链接：[Javascript Cookie](http://code.google.com/p/cookies/)

希望它可以帮助你！

# ruby-on-rails - 为什么 Rails 集成测试不检查正确的用户权限？

> ID：15182365
> 
> 赞同：0
> 
> 时间：2013-03-03T04:09:28.150
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rspec, capybara, integration-testing

在我们对 rails 3.2.12 应用程序的集成测试中，有一个测试用例可以打开只有管理员有权执行的创建新用户页面。这是我们通过的 rspec 案例（带有水豚）：

```
it "should have login field in create new user page" do
      ul = FactoryGirl.build(:user_level, :position => 'admin')
      @user = FactoryGirl.create(:user, :login => 'test12', :password => 'password', :password_confirmation => 'password', :user_levels => [ul])
      visit '/'
      fill_in "login", :with => @user.login
      fill_in "password", :with => 'password'
      click_button 'Login'  
      visit new_user_path
      page.body.should have_content("New User")
end 
```

用户位置“admin”在属于用户的 user_levels 中定义。上面的 rspec 案例所做的是登录并打开创建新用户页面。

在用户控制器中，有一个 before_filter 来检查用户是否是管理员：

```
before_filter :require_admin 
```

奇怪的是，如果我们在上面的 rspec 案例中为用户分配非管理员职位，案例仍然通过。似乎 before_filter require_admin 无法阻止非管理员用户在集成测试中打开创建新用户页面。

上面的 rpsec 代码有什么问题？感谢帮助。

# c++ - 将节点添加到单链表

> ID：15182371
> 
> 赞同：-1
> 
> 时间：2013-03-03T04:11:20.297
> 
> 标签：c++, linked-list

我正在编写一个反汇编程序并使用链表来保存符号文件（sym_file）中的数据。我一直在查看所有其他帖子，但仍然无法使其正常工作！（不断出现分段错误）我试图在列表末尾附加节点，以便跟踪 head_node。

```
void read_symbol_file(char* file_name)
{
    struct node* head_node = new struct node;
    struct node* node = new struct node;
    struct node* temp;
    ifstream sym_file(file_name, ios::out);
    char label[16];
    char the_type[6];
    char address[6];

    if(sym_file.is_open())
    {
        while (!sym_file.eof())
        {
            sym_file >> label;
            sym_file >> the_type;
            sym_file >> address;

            if(strcmp(the_type, "line") == 0)
            {
                node->type = line;
                node->label = label;
                node->address = atoi(address);
            }
            else if(strcmp(the_type, "block") == 0)
            {
                node->type = block;
                node->label = label;
                node->address = atoi(address);
            }
            else if(strcmp(the_type, "ascii") == 0)
            {
                node->type = ascii;
                node->label = label;
                node->address = atoi(address);
            }
            else if(strcmp(the_type, "word") == 0)
            {
                node->type = word;
                node->label = label;
                node->address = atoi(address);
            }
            else
            {
                cout << "invalid label" << endl;
                exit(0);
            }

            if(head_node == NULL)
            { 
                head_node = node;
                head_node->next = node;
            }
            else
            {
                temp = head;
                while(temp->next != NULL)
                    temp = temp->next;
                temp->next = NULL;
            }
        }
        sym_file.close();
    }

    else
    {
        cout << "File does not exist or could not be found." << endl;
        exit(0);
    }
    cout << head_node->label << endl;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:40:30.913

这一行应该是编译器错误：

```
 temp = head; 
```

因为没有声明变量“head”

第二个问题是“新节点”的分配在循环之外，所以你只有一个不断被覆盖的“节点”。此行应移到“while”循环内：

```
 struct node* node = new struct node; 
```

第三，else 块从不将指向“节点”的指针分配给下一个变量。应该

```
 temp->next = node; 
```

这段代码中还有其他几个与head_node相关的问题，一旦分配就不会== NULL了。在将结构的地址分配给指针和将一个结构的内容复制到另一个结构（如 *head_node = *node; 中）之间的区别似乎有些混淆。

在这种情况下，不需要使用'new'来分配head_node。那只是一个指针，可以初始化为NULL。

# variables - EmberJS 视图绑定变量

> ID：15182375
> 
> 赞同：1
> 
> 时间：2013-03-03T04:11:34.740
> 
> 标签：variables, binding, view, ember.js

我正在尝试同步视图中显示的变量，但没有任何反应。我创建了一个 [JSFiddle](http://jsfiddle.net/HKgYn/1/) [http://jsfiddle.net/HKgYn/1/](http://jsfiddle.net/HKgYn/1/)

```
<script type="text/x-handlebars" data-template-name="photo_album">
<!-- I want view.cover to be updated automatically but nothing happens? -->
My Cover: {{ view.cover }}
</script>

App.PhotoAlbumController = Ember.ObjectController.extend({
  cover: '/no-image.jpg' 
});

App.PhotoAlbumView = Ember.View.extend({
  coverBinding: 'App.photoAlbumController.cover' 
});

App.AlbumController = Ember.ObjectController.extend({
  needs: ['photoAlbum'] 
});

App.AlbumRoute = Ember.Route.extend({
  setupController: function(controller, model) {
    var pac = controller.get('controllers.photoAlbum');
    pac.set('cover', model.get('cover_url'));
  },
  model: function(params) {
    return App.Album.find(params.album_id);
  }
}); 
```

我不确定我错过了什么或我做错了什么，非常需要一些帮助。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:47:47.627

`photoAlbumController`主要问题是 inside的绑定路径`PhotoAlbumView`。

将其更改为：

```
App.PhotoAlbumView = Ember.View.extend({
  coverBinding: 'controller.controllers.photoAlbum.cover' 
}); 
```

[在这里，它是在 jsfiddle 中解决的](http://jsfiddle.net/ahmacleod/W3RLm/)。

也就是说，我会提出一个更简单的结构。考虑以下：

```
App.Album = DS.Model.extend({
    coverUrl: DS.attr('string')
});

App.PhotoAlbumView = Ember.View.extend({
    templateName: 'photo-album',
    coverUrl: null
});

App.Router.map(function() {
    this.resource('album', { path: '/album/:album_id' });
}); 
```

使用模板：

```
<script type="text/x-handlebars" data-template-name="album">
    <h1>{{name}}</h1>
    {{view App.PhotoAlbumView coverUrlBinding="coverUrl"}}
</script>

<script type="text/x-handlebars" data-template-name="photo-album">
    <img {{bindAttr src="view.coverUrl"}} />
</script> 
```

这就是您所需要的，您可以使用您需要的任何附加功能来丰富相册视图。

[这是相应的 jsfiddle](http://jsfiddle.net/ahmacleod/UAd8S/)。

# android - 卸载旧的 Android SDK 版本

> ID：15182377
> 
> 赞同：47
> 
> 时间：2013-03-03T04:11:59.297
> 
> 标签：android, android-2.2-froyo

我安装了 Android SDK，它在我的（相对较小的）SSD 上占用了将近 7 GB。

当我打开时`Android SDK Manager`，我可以看到所有内容都已安装，甚至是较旧的 API 版本。

![在此处输入图像描述](../Images/49501970411c25fd8930807e55437643.png)

同样的事情`Extras`：

![在此处输入图像描述](../Images/3416264025c05151503023d6ceda973b.png)

我可以安全地卸载所有版本并只保留最新版本（在我的情况下为 API 17）吗？

我使用 Andoid SDK Tools 来开发带有 eclipse 的 Android 应用程序。

谢谢你。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-03T15:35:45.573

只需删除要卸载的软件包即可。

您可能仍希望保留一些较旧的 SDK，以便在较低平台上试用您的应用程序。我个人保留 GB(API 10)、ICS(API 14) 和 JB(API 17)。

您还可以尝试将整个 android SDK 文件夹移动到具有相对较大存储空间的新位置，然后在 eclipse 中的首选项中指定新路径。将为您节省一些带宽，以防您以后需要这些 API。我的朋友只是从我的复制。这里的数据非常昂贵:(

您可以部署它，但您必须在清单文件中提及它（您想在较低的 API 上运行）。此外，目标设备上方的任何 API 都不会运行，并且会干扰您的应用程序设计。搜索 android TargetSDK 版本和 MinimunSDK 版本。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-03T04:31:17.127

选择要卸载的软件包，![在此处输入图像描述](../Images/d27d7a36e58d8e4141c113c6d2f233c2.png)然后单击删除软件包按钮。

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2019-02-24T11:47:00.770

至于当前版本（2019 年 2 月），这是在 Android Studio 中工作的方式：

1.  打开 SDK 管理器（工具 -> SDK 管理器）。

2.  在那里您可以看到所有可用的平台，并在“名称”中显示一个显示已安装 [✓]、更新可用 [–] 和未安装 [] 平台的框。

[![在此处输入图像描述](../Images/850170d72215014504861e7f2b6e44c6.png)](https://i.stack.imgur.com/K27VV.png)

3.  如果您单击该框，则可以更改状态。单击直到它为空并出现红色 x。然后按应用。然后将卸载该平台。

[![在此处输入图像描述](../Images/5b9883f33e3ad8b9e280998dee867889.png)](https://i.stack.imgur.com/0qBuy.png)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-12-04T13:02:04.943

如果您想使用 android 命令行工具`sdkmanager`而不是 UI 来执行此操作，这就是执行此操作的方法。

# 准备

确保`sdkmanager`不会抱怨`repositories.cfg`丢失：

```
mkdir -p ~/.android && touch ~/.android/repositories.cfg 
```

还要确保您通过调用来使用 Java 8 `java -version`，否则`sdkmanager`将无法工作（截至撰写本文时）。使用 Java 8 可以通过许多不同的方式来解决，例如：

*   Linux：`sudo update-alternatives --config java`
*   macOS 使用 SDKMAN!:`sdk use java <VERSION>`
*   另一种方式

# 采用

有关所有命令的帮助，请运行`sdkmanager --help`

列出可用组件：

```
sdkmanager --list 
```

对于安装组件：

```
sdkmanager --install "build-tools;28.0.3" 
```

对于卸载组件：

```
sdkmanager --uninstall "build-tools;26.0.2" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-07-08T17:31:21.893

从 Visual Studio Installer 卸载 Android SDK，然后再次安装它确实解决了我的问题，并使 Android SDK 选项为我启用。

转到 VS 安装程序，转到 SDK 部分并从各个组件选项中取消选中**Java SE 开发工具包（版本）**和**Android SDK 设置（API 级别 25）**，然后单击修改。

当它们消失后，按照相同的步骤再次安装它们。

[![获取提示的图像](../Images/011c7a57a7baa343ab8e5a75ef46d826.png)](https://i.stack.imgur.com/qwNoG.png)

# python - 如何返回numpy结构化数组中多列的视图

> ID：15182381
> 
> 赞同：28
> 
> 时间：2013-03-03T04:13:14.303
> 
> 标签：python, arrays, numpy

例如，通过使用字段名称列表进行索引，我可以`fields`在结构化数组中一次看到几列 ( )`numpy`

```
import numpy as np

a = np.array([(1.5, 2.5, (1.0,2.0)), (3.,4.,(4.,5.)), (1.,3.,(2.,6.))],
        dtype=[('x',float), ('y',float), ('value',float,(2,2))])

print a[['x','y']]
#[(1.5, 2.5) (3.0, 4.0) (1.0, 3.0)]

print a[['x','y']].dtype
#[('x', '<f4') ('y', '<f4')]) 
```

但问题是它似乎是一个副本而不是一个视图：

```
b = a[['x','y']]
b[0] = (9.,9.)

print b
#[(9.0, 9.0) (3.0, 4.0) (1.0, 3.0)]

print a[['x','y']]
#[(1.5, 2.5) (3.0, 4.0) (1.0, 3.0)] 
```

如果我只选择一列，它是一个视图：

```
c = x['y']
c[0] = 99.

print c
#[ 99\.  4\.   3\. ]

print a['y']
#[ 99\.  4\.   3\. ] 
```

有什么方法可以一次获得多个列的视图行为？

我有两种解决方法，一种是循环遍历列，另一种是创建一个分层的`dtype`，以便一列实际上返回一个结构化数组，其中包含我想要的两个（或更多）字段。不幸的是，`zip`还返回一个副本，所以我不能这样做：

```
x = a['x']; y = a['y']
z = zip(x,y)
z[0] = (9.,9.) 
```

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2014-02-17T01:36:26.867

您可以创建一个仅包含所需字段的 dtype 对象，并用于`numpy.ndarray()`创建原始数组的视图：

```
import numpy as np
strc = np.zeros(3, dtype=[('x', int), ('y', float), ('z', int), ('t', "i8")])

def fields_view(arr, fields):
    dtype2 = np.dtype({name:arr.dtype.fields[name] for name in fields})
    return np.ndarray(arr.shape, dtype2, arr, 0, arr.strides)

v1 = fields_view(strc, ["x", "z"])
v1[0] = 10, 100

v2 = fields_view(strc, ["y", "z"])
v2[1:] = [(3.14, 7)]

v3 = fields_view(strc, ["x", "t"])

v3[1:] = [(1000, 2**16)]

print(strc) 
```

这是输出：

```
[(10, 0.0, 100, 0L) (1000, 3.14, 7, 65536L) (1000, 3.14, 7, 65536L)] 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2016-08-26T04:32:06.197

基于@HYRY 的回答，您也可以使用`ndarray`'s 方法`getfield`：

```
def fields_view(array, fields):
    return array.getfield(numpy.dtype(
        {name: array.dtype.fields[name] for name in fields}
    )) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2017-03-20T09:35:26.307

从 Numpy 1.16 版开始，您建议的代码*将*返回一个视图。请参阅此页面上的“NumPy 1.16.0 发行说明->未来更改->多字段视图返回视图而不是副本”：

[https://numpy.org/doc/stable/release/1.16.0-notes.html#multi-field-views-return-a-view-instead-of-a-copy](https://numpy.org/doc/stable/release/1.16.0-notes.html#multi-field-views-return-a-view-instead-of-a-copy)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-03T07:47:06.250

我认为没有一种简单的方法可以实现您想要的。通常，您不能将任意视图放入数组中。尝试以下操作：

```
>>> a
array([(1.5, 2.5, [[1.0, 2.0], [1.0, 2.0]]),
       (3.0, 4.0, [[4.0, 5.0], [4.0, 5.0]]),
       (1.0, 3.0, [[2.0, 6.0], [2.0, 6.0]])], 
      dtype=[('x', '<f8'), ('y', '<f8'), ('value', '<f8', (2, 2))])
>>> a.view(float)
array([ 1.5,  2.5,  1\. ,  2\. ,  1\. ,  2\. ,  3\. ,  4\. ,  4\. ,  5\. ,  4\. ,
        5\. ,  1\. ,  3\. ,  2\. ,  6\. ,  2\. ,  6\. ]) 
```

记录数组的浮动视图显示了实际数据是如何存储在内存中的。对此数据的视图必须可以表达为上述数据的形状、步幅和偏移量的组合。因此，如果您想要，例如，只有一个视图`'x'`，`'y'`您可以执行以下操作：

```
>>> from numpy.lib.stride_tricks import as_strided
>>> b = as_strided(a.view(float), shape=a.shape + (2,),
                   strides=a.strides + a.view(float).strides)
>>> b
array([[ 1.5,  2.5],
       [ 3\. ,  4\. ],
       [ 1\. ,  3\. ]]) 
```

`as_strided`与可能更容易理解的相同：

```
>>> bb = a.view(float).reshape(a.shape + (-1,))[:, :2]
>>> bb
array([[ 1.5,  2.5],
       [ 3\. ,  4\. ],
       [ 1\. ,  3\. ]]) 
```

这其中的任何一个都是对以下内容的看法 `a`：

```
>>> b[0,0] =0
>>> a
array([(0.0, 2.5, [[0.0, 2.0], [1.0, 2.0]]),
       (3.0, 4.0, [[4.0, 5.0], [4.0, 5.0]]),
       (1.0, 3.0, [[2.0, 6.0], [2.0, 6.0]])], 
      dtype=[('x', '<f8'), ('y', '<f8'), ('value', '<f8', (2, 2))])
>>> bb[2, 1] = 0
>>> a
array([(0.0, 2.5, [[0.0, 2.0], [1.0, 2.0]]),
       (3.0, 4.0, [[4.0, 5.0], [4.0, 5.0]]),
       (1.0, 0.0, [[2.0, 6.0], [2.0, 6.0]])], 
      dtype=[('x', '<f8'), ('y', '<f8'), ('value', '<f8', (2, 2))]) 
```

如果可以将其中任何一个转换为记录数组，那就太好了，但是 numpy 拒绝这样做，原因对我来说不是那么清楚：

```
>>> b.view([('x',float), ('y',float)])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: new type not compatible with array. 
```

当然，什么对（某种）有效，什么对`'x'`无效`'y'`，例如，对于`'x'`and `'value'`，所以一般来说答案是：它做不到。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-06T16:55:58.057

在我的情况下，“几列”恰好等于相同数据类型的两列，我可以使用以下函数来创建视图：

```
def make_view(arr, fields, dtype):
    offsets = [arr.dtype.fields[f][1] for f in fields]
    offset = min(offsets)
    stride = max(offsets)
    return np.ndarray((len(arr), 2), buffer=arr, offset=offset, strides=(arr.strides[0], stride-offset), dtype=dtype) 
```

我认为这归结为@Jamie 所说的同样的事情，一般情况下不能这样做，但对于相同 dtype 的两列它可以。这个函数的结果不是字典，而是一个很好的老式 numpy 数组。

# java - 如何记录按钮点击然后回放？

> ID：15182390
> 
> 赞同：1
> 
> 时间：2013-03-03T04:14:41.373
> 
> 标签：java, android, algorithm

我有一个带有`3 x 3`按钮的应用程序，每个按钮都有一个简短的声音。我有另一个名为 的按钮`Record`，因此当单击此`Record`按钮时，我想记录单击每个按钮的顺序。

我不想将其录制为`.wav`、或任何其他媒体格式`.mp3`，`.ogg`因为这对于某些手机来说非常困难，因此应用程序会有很大的延迟。

有谁知道这样做的任何技术？就像将其记录在文本文件中然后播放按钮单击的顺序？我喜欢这种情况，但不幸的是不知道我应该使用什么。

这甚至是解决这个问题的正确方法，还是没有？

# c# - 如何在代码隐藏中创建 ResourceDictionary？

> ID：15182396
> 
> 赞同：3
> 
> 时间：2013-03-03T04:15:25.640
> 
> 标签：c#, wpf, xaml, .net-4.0, resourcedictionary

```
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <sys:String x:Key="one">ONE</sys:String>
    <sys:String x:Key="two">TWO</sys:String>
    <sys:String x:Key="three">THREE</sys:String>
</ResourceDictionary> 
```

现在想通过使用 C# 在 WPF 中的**代码隐藏**来动态创建与上述相同的资源 ResourceDictionary 。可以这样创建吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:30:15.883

```
public MainWindow()
    {
        InitializeComponent();
        DataContext = new MainViewModel();
        ResourceDictionary rd = new ResourceDictionary();
        rd.Add("one", "ONE");
        rd.Add("two", "TWO");
        rd.Add("three", "THREE");
        this.Resources.MergedDictionaries.Add(rd);
    } 
```

我希望这将有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:59:43.880

您是否看过 ResourceDictionary.Add 方法 - [http://msdn.microsoft.com/en-us/library/ms521848.aspx](http://msdn.microsoft.com/en-us/library/ms521848.aspx)？

# c++ - 编译错误：“->”的基本操作数具有非指针类型“令牌”

> ID：15182397
> 
> 赞同：7
> 
> 时间：2013-03-03T04:15:36.953
> 
> 标签：c++

尝试编译我的 c++ 代码时，我收到标题中提到的错误。我无法理解我在这里做错了什么。

`bool operator==(Token )`编译器对我的函数实现有问题。我认为这是重载运算符的方法。

关于为什么编译器不喜欢我提到 `this->terminal`or的任何线索`this->lexeme`？

```
class Token {
    public:
        tokenType terminal;
        std::string lexeme;
        Token *next;

        Token();
        bool operator==(Token &t);
    private:
        int lexemelength, line, column;
};

bool Token::operator==(Token &t) {
    return ((this->terminal == t->terminal) &&
            (this->lexeme == t->lexeme));
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-03T04:19:33.750

仔细看看你的类型。`t`是一个[引用](http://www.learncpp.com/cpp-tutorial/73-passing-arguments-by-reference/)( `Token &t`)，这意味着必须使用点运算符 ( `.`) 来引用它。

引用不是指针；将它们视为已经取消引用的指针，而无需将实际对象放入堆栈（通过“引用”传递）。

# python - 如何将通过网络调用接收的文本文件转换为字典？

> ID：15182398
> 
> 赞同：0
> 
> 时间：2013-03-03T04:15:39.457
> 
> 标签：python, dictionary

我正在尝试将此[文本](http://media.steampowered.com/apps/440/scripts/items/items_game.50549368e72271598046a4227c757ee9e9b6e9cd.txt)文件转换为 python 字典。

基本格式是

```
"items_game"
{
    "game_info"
    {
        "first_valid_class"         "1"
        "last_valid_class"          "9"
        "first_valid_item_slot"     "0"
        "last_valid_item_slot"      "10"
        "num_item_presets"          "4"
    }
    "qualities"
    {
        "key"           "value"
    }
    ...
    "community_market_item_remaps"
    {
        "Supply Crate"
        {
            "Supply Crate 2"            "1"
            "Supply Crate 3"            "1"
        }
        "Decoder Ring"
        {
            "Winter Key"                "1"
            "Summer Key"                "1"
            "Naughty Winter Key 2011"   "1"
            "Nice Winter Key 2011"      "1"
            "Scorched Key"              "1"
            "Fall Key 2012"             "1"
            "Eerie Key"                 "1"
            "Naughty Winter Key 2012"   "1"
            "Nice Winter Key 2012"      "1"
        }
    }
} 
```

这个文件几乎是一本字典，但不完全是。有没有办法将其转换为字典，以便我可以通过键访问字典的每一级？我想做类似的事情：

```
foreach key in dictName['items_game']['community_market_item_remaps']['Decoder Ring']:
    # do something 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:05:13.240

这很难看，但它似乎工作，假设链接文件是`test.txt`：

```
import re

a = open('test.txt').read()

a = a.replace('\n', '').replace('\t', ' ')
a = a.replace('{', ':{').replace('}', '},\n')

b =  re.sub('(\".*?\") *(\".*?\")', r'\1:\2,', a)

b = "{%s}" % b

dictName = eval(b)
for key in dictName['items_game']['community_market_item_remaps']['Decoder Ring']:
    print key 
```

输出是：

```
Fall Key 2012
Eerie Key
Nice Winter Key 2011
Nice Winter Key 2012
Summer Key
Scorched Key
Winter Key
Naughty Winter Key 2011
Naughty Winter Key 2012 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T07:35:26.160

将数据转换为 json，然后将 json 读入变量。

[测试.txt](http://media.steampowered.com/apps/440/scripts/items/items_game.50549368e72271598046a4227c757ee9e9b6e9cd.txt)

```
import re
import json
a = open('test.txt').read()
a = re.sub('"[ \t]*"', '":"', a)
a = re.sub('"\s+"', '","', a)
a = re.sub('"\s+{', '":{', a)
a = re.sub('}\s+"', '},"', a)
a = '{%s}' % a
b = json.loads(a) 
```

# ios - 如何获取适合特定矩形的 NSAttributedString 子字符串？

> ID：15182400
> 
> 赞同：4
> 
> 时间：2013-03-03T04:16:15.730
> 
> 标签：ios, objective-c, uitextview, nsrect

我希望通过使用 UIPageViewController 和我的 CustomTextViewController 来实现 ViewControllers，就像“Kindle App”一样。

但是我找不到一种方法来获取适合特定矩形的 NSAttributeString 子字符串。

*   我有一个 70,000 个字符的 NSAttributeString。
*   我的 CustomTextViewController 有一个 UITextView。
*   它将显示 ATTR_STR_A 的子字符串，正好适合它的大小。
*   这意味着 UITextView 不必滚动。

这是一个屏幕截图。

![不是](../Images/9bdcd1e91302261d01f3f1f6a54c8870.png)

在这种情况下，最后一行是不可见的！！

子字符串（“在早期〜大多数计算机选择不这样做”）是正确大小的字符串。

如何获取该子字符串或子字符串的最后一个索引（可见行的最后一个字符索引，最后一个单词“to”中的“o”）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-23T14:31:43.037

`NSLayoutManager`有一个你可能会觉得有用的方法：[`enumerateLineFragmentsForGlyphRange:usingBlock:`](https://developer.apple.com/reference/uikit/nslayoutmanager/1403160-enumeratelinefragmentsforglyphra?language=objc). 借助它，您可以枚举每一行文本，获取它的大小和 textContainer 中的文本范围。因此，您所需要的只是`NSTextStorage`从您的属性字符串中进行实例化。然后，`NSTextContainer`使用所需的大小进行实例化（在您的情况下 - `CGSizeMake(self.view.frame.width, CGFLOAT_MAX)`。然后将所有东西连接起来并开始枚举。像这样的东西：

```
NSTextStorage *textStorage =  [[NSTextStorage alloc] initWithAttributedString:attrString];
NSTextContainer *textContainer = [[NSTextContainer alloc] initWithSize:CGSizeMake(self.view.frame.width, CGFLOAT_MAX)];
NSLayoutManager *layoutManager = [NSLayoutManager new];

[layoutManager addTextContainer:textContainer];
[textStorage addLayoutManager:layoutManager];

NSRange allRange = NSMakeRange(0, textStorage.length);

//force layout calculation
[layoutManager ensureLayoutForTextContainer:textContainer];

[layoutManager enumerateLineFragmentsForGlyphRange:allRange usingBlock:^(CGRect rect, CGRect usedRect, NSTextContainer * _Nonnull textContainer, NSRange glyphRange, BOOL * _Nonnull stop) {
    //here you can do anything with the info: bounds of text, text range, line number etc
}]; 
```

# javascript - javascript document.createElement 或 HTML 标签

> ID：15182402
> 
> 赞同：24
> 
> 时间：2013-03-03T04:16:55.823
> 
> 标签：javascript, html, optimization, createelement

我对以下编写代码的风格感到困惑。我想知道在文档中插入 HTML 标签的*实用*且*有效*的方法。

Javascript：

```
document.getElementById('demoId').innerHTML='<div>hello world and <a>click me</a> also</div>'; 
```

或者

```
var itd=document.createElement('div'),
    ita=document.createElement('a'),
    idt=document.createTextNode('hello world');
    iat=document.createTextNode('click me');
    idn=document.createTextNode('also');

    ita.appendChild(iat);
    itd.appendChild(idt);
    itd.appendChild(ita);
    itd.appendChild(idn)

    docuemtn.getElementById('demoId').appendChild(itd); 
```

哪种方法最快最好？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-03T04:29:17.287

好吧，想想他们每个人都在做什么。第一个是获取字符串，对其进行解析，然后根据解析字符串的输出调用 , 等（或类似方法）`document.createElement`。`document.appendChild`第二个是减少浏览器的工作量，因为您直接说明了您想要它做什么。

[查看 jsPerf 上的比较](http://jsperf.com/adding-html-via-js)

根据 jsPerf **option 1 比 option 2 慢大约 3 倍**。

关于可维护性选项 1 更容易编写，但称我为老式，我更喜欢使用选项 2，因为它感觉更安全。

**编辑**

在一些结果开始出现后，不同的结果激起了我的好奇心。我在安装了每个浏览器的情况下运行了两次测试，这是 jsPerf 在所有测试后的结果截图（操作数/秒，越高越好）。

![jsPerf 结果](../Images/8349bffc07672baac7396dee9f9d11a2.png)

因此，浏览器在处理这两种技术的方式上似乎存在很大差异。平均而言，选项 2 似乎更快，因为 Chrome 和 Safari 在支持选项 2 方面存在巨大差距。我的结论是，我们应该使用感觉最舒适或最符合您组织标准的任何一个，而不用担心哪个更有效。

这个练习教会我的主要事情是***不要使用 IE10***，尽管我听说过它很棒。

# c# - 创建和发送 Outlook 电子邮件

> ID：15182408
> 
> 赞同：1
> 
> 时间：2013-03-03T04:18:34.510
> 
> 标签：c#, email, outlook

我一直在漫游论坛，但没有找到任何问题的答案。所有的解决方案（和问题）都是关于使用`Microsoft.Office.Interop.Outlook`; 出于某种原因**，我不允许使用任何** `office.interop`.

我什至尝试过：

```
MailAddress fromAddress = new MailAddress("sender@server.com");
System.Net.Mail.MailMessage message = new System.Net.Mail.MailMessage();
message.From = fromAddress;
message.To.Add("receiver@theirServer.com");
message.CC.Add("receiver2@theirServer.com");
message.Subject = "theSubject";
message.Body = "TheBody";

SmtpClient smtpClient = new SmtpClient("zzz.server.xxx");
smtpClient.Credentials = new NetworkCredential("sender@server.com", "password");

smtpClient.Send(message); 
```

即使在我硬编码密码之后，代码也无法验证凭据，但我觉得必须有更好的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:56:44.077

你的问题有很多不足之处。您可以发布来自服务器的响应或您收到的错误吗？

以下是一些可能有助于您指定端口的观察和反馈

```
SmtpClient smtpClient = new SmtpClient("zzz.server.xxx", PORTNUMBER); 
```

设置一些基本属性

```
smtpClient.Timeout = 10000;
smtpClient.DeliveryMethod = SmtpDeliveryMethod.Network;
smtpClient.UseDefaultCredentials = false; //must be set prior to credentials
smtpClient.Credentials = new NetworkCredential("username", "pass"); 
```

设置消息编码

```
message.SubjectEncoding = System.Text.Encoding.UTF8;
message.BodyEncoding = System.Text.Encoding.UTF8; 
```

异步发送并使用回调来确定结果

```
//add callback 
smtpClient.SendCompleted += new SendCompletedEventHandler(SendCompletedCallback);

//set token
string userToken = "tokenString";

//send asynchronously
smtpCient.SendAsync(message, userToken);

public static void SendCompletedCallback(object sender, AsyncCompletedEventArgs e)
        {
            // Get the unique identifier for this asynchronous operation.
             String token = (string) e.UserState;

            if (e.Cancelled)
            {
                 //do something if it was cancelled
            }
            if (e.Error != null)
            {
               MessageBox.Show( e.Error.ToString());
            } else
            {
                MessageBox.Show("Message sent.");
            }
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:30:59.860

您的电子邮件服务器是 Exchange Server 吗？如果是这样，您可以使用 Exchange Web 服务 (EWS) 发送电子邮件并将副本保存在“已发送邮件”文件夹中。一个简单的例子可以在这里看到：

[发送 Exchange 电子邮件](http://code.msdn.microsoft.com/office/Send-Email-with-Exchange-50189e57)

[更多示例代码](http://msdn.microsoft.com/en-us/library/exchange/jj220501%28v=exchg.80%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:18:40.653

您是否通过在备用客户端（例如 Outlook）中配置帐户来验证凭据，包括用户名的格式？

您可能需要：

```
smtpClient.Credentials = new NetworkCredential("sender", "password"); 
```

或者

```
smtpClient.Credentials = new NetworkCredential("DOMAIN\sender", "password"); 
```

# android - Google maps api v2：当我想查看地图时应用程序崩溃

> ID：15182410
> 
> 赞同：1
> 
> 时间：2013-03-03T04:19:04.403
> 
> 标签：android

我正在处理片段以显示谷歌地图。但是我在显示地图时总是从应用程序中崩溃。我已经在库中有 android-support-v4 和 google-play-services。这是我的活动的代码：

```
package com.example.attijaribank2; 
import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.view.Menu;

import com.google.android.gms.maps.CameraUpdateFactory;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.MapFragment;
import com.google.android.gms.maps.model.BitmapDescriptorFactory;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.Marker;
import com.google.android.gms.maps.model.MarkerOptions;

public class Votresolde extends FragmentActivity {
static final LatLng HAMBURG = new LatLng(53.558, 9.927);
static final LatLng KIEL = new LatLng(53.551, 9.993);
private GoogleMap map;

@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_solde);
map =         ((SupportMapFragment)getSupportFragmentManager().findFragmentById(R.id.map)).getMap();
Marker hamburg = map.addMarker(new MarkerOptions().position(HAMBURG)
        .title("Hamburg"));
    Marker kiel = map.addMarker(new MarkerOptions()
        .position(KIEL)
        .title("Kiel")
        .snippet("Kiel is cool")
        .icon(BitmapDescriptorFactory
            .fromResource(R.drawable.ic_launcher)));

    map.moveCamera(CameraUpdateFactory.newLatLngZoom(HAMBURG, 15));

    map.animateCamera(CameraUpdateFactory.zoomTo(10), 2000, null);
    map.moveCamera(CameraUpdateFactory.newLatLngZoom(HAMBURG, 15));

    map.animateCamera(CameraUpdateFactory.zoomTo(10), 2000, null);    
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
getMenuInflater().inflate(R.menu.activity_solde, menu);
return true;
}

} 
```

我究竟做错了什么 ？还是关于 xml 文件？

这是 xml 文件：

```
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/map"
android:layout_width="match_parent"
android:layout_height="match_parent"
class="com.google.android.gms.maps.SupportMapFragment"/> 
```

和 logcat ：

```
03-02 17:38:38.195: D/dalvikvm(372): DexOpt: couldn't find field     
Landroid/content/res/Configuration;.smallestScreenWidthDp
03-02 17:38:38.195: W/dalvikvm(372): VFY: unable to resolve instance field 23
03-02 17:38:38.195: D/dalvikvm(372): VFY: replacing opcode 0x52 at 0x0012
03-02 17:38:38.195: D/dalvikvm(372): VFY: dead code 0x0014-0018 in   
Lcom/google/android/gms/common/GooglePlayServicesUtil;.b   
(Landroid/content/res/Resources;)Z

W/GooglePlayServicesUtil(372): Google Play services is missing.
W/GooglePlayServicesUtil(372): Google Play services is missing.
03-02 17:38:38.295: D/AndroidRuntime(372): Shutting down VM
03-02 17:38:38.295: W/dalvikvm(372): threadid=1: thread exiting with uncaught exception   
(group=0x40015560)
03-02 17:38:38.305: E/AndroidRuntime(372): FATAL EXCEPTION: main
E/AndroidRuntime(372): java.lang.RuntimeException: Unable to start activity  
ComponentInfo{com.example.attijaribank2/com.example.attijaribank2.Votresolde}:   
java.lang.NullPointerException
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
at android.app.ActivityThread.access$1500(ActivityThread.java:117)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:130)
at android.app.ActivityThread.main(ActivityThread.java:3683)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method)
Caused by: java.lang.NullPointerException
at com.example.attijaribank2.Votresolde.onCreate(Votresolde.java:26)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611) 
```

它说缺少谷歌播放服务，但我确实导入了它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:12:17.450

缺少 Google Play 服务。

这意味着您要么在未安装 Google Play 的模拟器上进行测试

请查看官方链接以澄清您的疑问，其中显示：

```
Note: Google Play services is not supported on the Android emulator — to develop using the APIs, you need to provide a development device such as an Android phone or tablet. 
```

[http://developer.android.com/google/play-services/setup.html](http://developer.android.com/google/play-services/setup.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T12:15:33.377

我找到了这个答案，解决了我的问题： [https ://stackoverflow.com/a/13719616/1827048](https://stackoverflow.com/a/13719616/1827048)

.

特别是这部分对我有用：

a) 将目录 ANDROID_SDK_DIR/extras/google/google_play_services/libproject/google-play-services_lib 复制到项目的根目录

b) 将下一行添加到 YOUR_PROJECT/project.properties：

```
android.library.reference.1=google-play-services_lib 
```

c) 将下一行添加到 YOUR_PROJECT/proguard-project.txt：

```
keep class * extends java.util.ListResourceBundle {
protected Object[][] getContents();
} 
```

***注意****：如果您使用 min SDK = 8 创建应用程序，请使用 android 支持库 v4 + SupportMapFragment 而不是 MapFragment。*

# python - MySql：20000行记录中只显示5行，为什么？

> ID：15182414
> 
> 赞同：0
> 
> 时间：2013-03-03T04:19:24.860
> 
> 标签：python, mysql, performance, query-optimization

我想测试我的 MySQL 数据库以及它如何处理我未来的数据。它只是一个有两列的表，其中一列只有一个单词，另一列是 30.000 个字符。所以我复制并插入同一个表 20.000 次，显示大小为 2.0 GB。现在我想通过 phpMyAdmin 浏览它们，它什么也没有显示，并且每个都破坏了该表以显示任何内容。我通过 python 输出它只显示在此副本之前插入的 5 行。我使用脚本从 5000 - 10.000 之间的 ID 中删除行，它可以工作。这意味着数据在那里，但没有出来。有什么解释吗？

```
 import MySQLdb as mdb        
con = mdb.connect('127.0.0.1', 'root','password', 'database')
title = []
entry = []
y = 0
with con:            
    conn = con.cursor()

    conn.execute("SELECT * FROM mydatabase WHERE id='2' AND myword = 'jungleboy'")
    rows = conn.fetchall()    
    for i in rows:
         title.append(i[1])
         entry.append(i[2])

    for x in range(20000):
        cur.execute("INSERT INTO mydatabase(myword,explanation) VALUES (%s,%s)",(str(title[0]),str(entry[0])))
        if x > y+50:
            print str(x)
            y = x 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:14:14.303

我不确定我是否理解您的问题，但这里有一些关于您粘贴的代码的提示。

`INSERT`在添加、删除或更改表中的数据的任何或其他查询之后，您需要使用`con.commit()`.

可以使用 获取多少记录是有限制的`fetchall()`。您可以通过打印`arraysize`光标的属性来查看和调整此限制：

```
print 'I can only fetch {0.arraysize} rows at a time.'.format(cur) 
```

为保证您获取每一行，循环遍历结果，如下所示：

```
q = "SELECT .... " # some query that returns a lot of results
conn.execute(q)
rows = con.fetchone() # or fetchall()

while rows:
   print rows
   rows = con.fetchone() # again, or fetchall() 
```

# java - java：使用2个线程打印奇偶数

> ID：15182418
> 
> 赞同：0
> 
> 时间：2013-03-03T04:21:26.560
> 
> 标签：java, multithreading

我正在尝试交替使用 2 个不同的线程打印奇数和偶数。我能够使用等待、通知和同步块来实现它，但现在我想评估我们是否可以在不使用等待、通知和同步的情况下实现它。

以下是我有但它不起作用的代码：

```
public class OddEvenUsingAtomic {

AtomicInteger nm = new AtomicInteger(0);
AtomicBoolean chk = new AtomicBoolean(true);

public static void main(String args[]) {
    final OddEvenUsingAtomic pc = new OddEvenUsingAtomic();

    new Thread(new Runnable() {

        @Override
        public void run() {
            while (true) {

                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

                if (pc.chk.compareAndSet(true, false)) {

                    System.out.println("Odd: " + pc.nm.incrementAndGet());
                }
            }

        }

    }).start();

    new Thread(new Runnable() {

        @Override
        public void run() {
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            while (true) {
                if (pc.chk.compareAndSet(false, true)) {

                    System.out.println("Even: " + pc.nm.incrementAndGet());
                }
            }

        }

    }).start();
} 
```

}

有任何想法吗？

在 Bruno 的建议下，我创建了另一个版本，似乎效果更好：

```
import java.util.concurrent.atomic.AtomicBoolean;
import java.util.concurrent.atomic.AtomicInteger;

public class OddEvenUsingAtomic {

    AtomicInteger nm = new AtomicInteger(0);
    AtomicBoolean chk = new AtomicBoolean(true);

    public static void main(String args[]) {
        final OddEvenUsingAtomic pc = new OddEvenUsingAtomic();

        new Thread(new Runnable() {

            @Override
            public void run() {
                while (true) {

                    try {
                        Thread.sleep(1000);
                    } catch (InterruptedException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }

                    if (pc.chk.get() == Boolean.TRUE) {

                        System.out.println("Odd: " + pc.nm.incrementAndGet());
                        pc.chk.compareAndSet(true, false);
                    }
                }

            }

        }).start();

        new Thread(new Runnable() {

            @Override
            public void run() {
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                while (true) {
                    if (pc.chk.get() == Boolean.FALSE) {

                        System.out.println("Even: " + pc.nm.incrementAndGet());
                        pc.chk.compareAndSet(false, true);
                    }
                }

            }

        }).start();
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T04:42:04.827

代码没有正确同步，这就是问题所在。

您的代码中允许以下执行顺序：

1.  第一个线程看到`chk == true`，将其设置为`false`并进入`if`块。
2.  第二个线程看到`chk == false`，将其设置为`true`并进入`if`块。

现在，您的块中都有 2 个线程`if`，准备：

1.  `incrementAndGet()`号码
2.  打印它。

因此，您完全无法控制将要发生的事情。

*   您可以让任何线程调用`incrementAndGet()`，因此您可以让线程“奇数”打印，首先打印一个奇数，然后打印一个偶数。
*   您可以让第一个线程打印数字，循环，看看条件再次满足（因为第二个线程再次设置`chk`为`true`打印，所有这些都在第二个线程有机会打印之前）。

如您所见，要达到您想要的结果，您必须以原子方式完成以下操作：

*   `compareAndSet()`布尔值
*   `incrementAndGet()`号码
*   打印它

如果这 3 个操作不是原子的，那么您可以安排线程以任何可能的顺序运行操作，您无法控制输出。实现这一点的最简单方法是使用同步块：

```
public static void main(final String... args) {
  final Object o = new Object();
  // ... thread 1 ...
    synchronized(o) {
      if (boolean is in the expected state) { change boolean, get number, increment, print }
    }
  // ... thread 2 ...
    synchronized(o) {
      if (boolean is in the expected state) { change boolean, get number, increment, print }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T05:09:51.083

这里有两个线程打印奇数和偶数，没有等待、通知或同步（至少在您可以看到的代码中没有）：

```
import java.util.concurrent.*;

public class ThreadSignaling {
    public static void main(String[] args) {
        BlockingQueue<Integer> evens = new LinkedBlockingQueue<>();
        BlockingQueue<Integer> odds = new LinkedBlockingQueue<>();
        ExecutorService executorService = Executors.newFixedThreadPool(2);
        executorService.submit(() -> takeAndOfferNext(evens, odds));
        executorService.submit(() -> takeAndOfferNext(odds, evens));
        evens.offer(0);
    }

    private static void takeAndOfferNext(BlockingQueue<Integer> takeFrom,
                                         BlockingQueue<Integer> offerTo) {
        while (true) {
            try {
                int i = takeFrom.take();
                System.out.println(i);
                offerTo.offer(i + 1);
            } catch (InterruptedException e) {
                throw new IllegalStateException("Unexpected interrupt", e);
            }
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-22T10:32:35.570

```
class MultiThreading {

    Integer counter = 0;
    Thread even;
    Thread odd;
    boolean flagEven = true;
    boolean flagOdd;

    class ThreadEven implements Runnable {
        @Override
        public void run() {
            try {
                while (counter < 100) {
                    if (flagEven) {
                        System.out.println(counter);
                        counter++;
                        flagEven = false;
                        flagOdd = true;
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    class ThreadOdd implements Runnable {
        @Override
        public void run() {
            try {
                synchronized (even) {
                    while (counter < 100) {
                        if (flagOdd) {
                            System.out.println(counter);
                            counter++;
                            flagOdd = false;
                            flagEven = true;
                        }
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    public void start() {
        even = new Thread(new ThreadEven());
        odd = new Thread(new ThreadOdd());
        even.start();
        odd.start();
    }

} 
```

}

在main方法中调用

```
new MultiThreading().start(); 
```

# php - Symfony2 表单实体 query_builder 内部方法访问选项

> ID：15182422
> 
> 赞同：1
> 
> 时间：2013-03-03T04:24:33.280
> 
> 标签：php, forms, symfony

我正在构建一个带有实体类型字段的表单，该字段应该使用查询构建器。要创建查询生成器，我需要使用传递给表单的选项。我怎样才能做到这一点？

```
public function buildForm(FormBuilderInterface $builder, array $options) {
  $builder->add(
    'groups',
    'entity',
    array(
      'required' => true,
      'class' => 'CompanyCoreBundle:Group',
      'multiple' => true,
      'label' => 'Groups',
      'query_builder' => function (EntityRepository $er) {
        // need the $options parameter of buildForm here!
      }
    )
  )
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T04:57:32.387

**您可以使用以下`use`语句来执行此操作，如下所示：**

```
'query_builder' => function(EntityRepository $er) use ($options) {
                        // you can now use your $options here
                        //...define $query

                        return $query;
                    }, 
```

# android - 位图太大，无法在某些手机中上传到纹理中

> ID：15182423
> 
> 赞同：11
> 
> 时间：2013-03-03T04:25:24.897
> 
> 标签：android, imageview

我有 543*6423 分辨率的图像，我想在所有设备上显示它。它在少数允许高分辨率的安卓手机中显示。我试过了

```
android:hardwareAccelerated="false" 
```

[这是我的android](https://zgrepcode.com/android/9.0.0/)客户端的 java 代码

```
File storagePath =Environment.getExternalStoragePublicDirectory(
                    Environment.DIRECTORY_DOWNLOADS+
                    "abc.png");
            InputStream is = this.getContentResolver().openInputStream(Uri.fromFile(storagePath)); 
            Bitmap b = BitmapFactory.decodeStream(is, null, null); 
            is.close(); 
            image.setImageBitmap(b); 
```

这在我的手机（索尼 xperia）中有效，但很少有其他手机没有显示它。请帮助我如何独立于屏幕分辨率显示此图像。

谢谢，阿曼

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T08:00:08.547

您的图像可能太大而无法在大多数设备上显示。因此，您必须加载图像的缩小版本。查看[Loading Large Bitmaps Efficiently](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html)以了解如何执行此操作并计算适当的样本大小。如果您需要显示宽度/高度（如果是全屏图像），您可以使用`getResources().getDisplayMetrics()`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-05-06T10:44:42.153

尝试

```
android:hardwareAccelerated="false" 
android:largeHeap="true" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-27T12:41:01.977

博客中的解决方案是错误的 2 次方...

这是解决方案：

```
BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;

// Set height and width in options, does not return an image and no resource taken
BitmapFactory.decodeStream(imagefile, null, options);

int pow = 0;
while (options.outHeight >> pow > reqHeight || options.outWidth >> pow > reqWidth)
    pow += 1;
options.inSampleSize = 1 << pow; 
options.inJustDecodeBounds = false;
image = BitmapFactory.decodeStream(imagefile, null, options); 
```

图像将按 reqHeight 和 reqWidth 的大小缩小。据我了解， inSampleSize 仅采用 2 个值的幂。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-04T22:19:46.310

好吧，也许我为时已晚，无法帮助您，但这有望对其他人有所帮助。我最近开发了一个可以处理大图像加载的开源库。源代码和示例可在[https://github.com/diegocarloslima/ByakuGallery获得](https://github.com/diegocarloslima/ByakuGallery)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-07T21:02:29.110

与其花费数小时尝试手动编写和调试所有这些下采样代码，不如尝试使用毕加索？它是一个流行的图像加载库，用于处理所有类型和/或大小的位图。我已经使用这行代码来消除我的“位图太大......”问题：

```
Picasso.with(image.getContext()).load(storagePath).fit().centerCrop().into(image); 
```

# .htaccess - 将静态 html URL 重定向到 .htaccess 重写的 URL

> ID：15182424
> 
> 赞同：1
> 
> 时间：2013-03-03T04:25:30.810
> 
> 标签：.htaccess, mod-rewrite

我有完全静态的网站，现在我想把这个网站改成动态的。但问题是静态网站的流量很好，我不想失去这些流量。对于动态网站，出于 SEO 的原因，我已经使用 htaccess 重写了 URL。我想将静态 url 重定向到重写的 url（由我的 .htaccess 编写）。

**(A) 静态网址：**

```
www.website.com/examples/java/datatype/boolean/printbooleanvalue.html 
```

**(B) 原始动态网址：**

```
www.website.com/examples.php?language=?java&category=data-type&subcategory=boolean&exampleurl=print-boolean-value 
```

**(C) 重写的动态 URL：**

```
www.website.com/examples/java/data-types/boolean/print-boolean-value 
```

所以我想重定向`URL(A) to URL(C)`。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-03T04:38:29.980

您可以在调用 html 文件时对 mod 重写进行硬编码以加载 php 文件。

您创建的 SEO 友好 url`.htaccess`是多余的。不要使用 SEO 友好的 URL，而是使用与原始站点相同的 URL。例如在你的`.htaccess`文件中写下这样的规则

```
RewriteEngine On
RewriteBase /
RewriteRule examples/java/datatype/boolean/printbooleanvalue.html$ /examples.php?language=?java&category=data-type&subcategory=boolean&exampleurl=print-boolean-value [L] 
```

这将在请求原始 html 文件时加载 php 文件，并且它将使用与旧文件相同的 url。

希望有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-03T04:35:33.107

**您的 .htaccess 代码：**

```
Redirect /examples/java/datatype/boolean/printbooleanvalue.html http://www.website.com/examples/java/data-types/boolean/print-boolean-value 
```

**无论如何，您都需要重定向：**

```
Redirect /olddirectory/oldfile.html http://yoursite.com/newdirectory/newfile.html 
```

# c++ - 返回指向不可修改成员数组的指针 C++ gcc 警告

> ID：15182426
> 
> 赞同：2
> 
> 时间：2013-03-03T04:26:39.757
> 
> 标签：c++, pointers, gcc

我想返回一个指向类拥有的数组的指针。但是，我不想让用户修改该数据或指针。根据我的理解，您需要使用以下语法返回一个指向常量数据的常量指针。

```
const Type *const Class::Method() {
    return this->data_; 
} 
```

但是 gcc 在编译时会给出以下警告。

> 警告：函数返回类型上忽略类型限定符

为什么 gcc 会提供此警告？这是什么意思？如果这不是我想要的正确语法，那是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:48:43.860

你得到的警告是因为决赛`const`被忽视了。把它拿下来，你就准备好了。

您不需要返回`const`指向`const`数据的指针，只需返回指向数据的指针`const`（即`const Type*`）。就像返回 a 没有意义一样，返回 a`const int`也没有意义`T* const`，因为一旦将值分配给一个新变量，它`const`就会被丢弃。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T04:32:56.950

`const`对于内置类型，顶层将被忽略。由于 C++[3.14p4] 中有一条规则：`class and array prvalues can have cv-qualified types; other prvalues always have cv-unqualified types.`. 在您的情况下，制作指针`const Type* const`的顶层将被忽略。`const``const`

您可以`const`在末尾添加：`const Type * Class::Method() const {...}`. 这将防止指针在成员函数内部被修改。*但是*，由于成员函数返回的prvalue是不可修改的，所以没有必要这样做来防止在类外修改指针成员（这也是C++中存在这条规则的原因）。当您想使用对对象等的常量引用来调用函数时，它可能很有用`Class`，但对于您正在做的事情，这似乎没有必要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T04:32:07.320

第一个 const 是对的，第二个 const 没有任何意义。看看这个例子：

```
const int foo();
int a = foo(); 
```

在这种情况下，如果 foo 返回 const int 或只是 int 并不会改变任何事情。与类型 * 相同。

# python - 在 Python 3 中复制属性的更优雅的方式

> ID：15182427
> 
> 赞同：1
> 
> 时间：2013-03-03T04:27:06.897
> 
> 标签：python, optimization, properties

在我正在编写的 Python 游戏中，我有两个类；船舶类型和船舶。Ship 对象代表具有自己的名称、年龄、库存等的特定宇宙飞船... ShipType 对象代表船舶的“线”（如 Mazda Protege 是汽车的“线”），具有自己的名称、底座该类型船的统计数据，Kelley Bluebook In Space 价格等。

Ship 的构造函数将 ShipType 作为参数，因为所有 Ship-s 都应该从 ShipType 派生。该构造函数如下所示：

```
...
def __init__(self,theshiptype):
    if not isinstance(theshiptype,ShipType):
        raise TypeError
    self.name=theshiptype.name
    self.inventory=Inventory(theshiptype.invslots)
    self.maxhp=theshiptype.maxhp
    self.thrust=theshiptype.thrust
    self.ftlspeed=theshiptype.ftlspeed
    ... 
```

正如你所看到的，这个构造函数中发生的大部分事情只是将同名的属性从传递的对象复制到自身。我想知道的是，有没有更短的方法来做到这一点？

值得注意的是，ShipType 上的某些属性不应该出现在 Ship 上。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T04:29:07.740

你可以这样做：

```
attrsToCopy = ['name', 'inventory', 'maxhp', 'thrust', 'ftlspeed']
for attr in attrsToCopy:
    setattr(self, attr, getattr(theshiptype, attr)) 
```

`getattr`和`setattr`函数让您获取/设置名称存储在字符串中的属性。因此，您可以指定要复制的属性名称列表，然后通过循环遍历列表来简洁地复制它们。

# jquery - Jquery：在不同的 ul li 部分更改类

> ID：15182429
> 
> 赞同：-1
> 
> 时间：2013-03-03T04:27:32.673
> 
> 标签：jquery, indexing

**描述：**我有如下代码。我已经用正确的索引标记了它们。我知道第一个 ul 标记是索引 0，第二个是索引 1。我知道 li 在每个 ul 中都是索引 0-5。我将这些设置为按钮，因此当您单击它们时，它会删除一个 CSS 类，然后添加另一个 CSS 类。但是由于范围，如果我单击第二个 UL 中的第一个子项（或如下标记的索引 1 UL），我无法使用 next() 或 prev( ）。

**问题：**如果我点击 Index 0 LI（在 Index 1 UL 中）如何更改 Index 0 UL 的 Index 5 LI 和/或 Index 4 LI 的类别？

```
<ul> (Index 0 UL>)
<li><li> (Index 0 LI>)
<li><li> (Index 1 LI>)
<li><li> (Index 2 LI>)
<li><li> (Index 3 LI>)
<li><li> (Index 4 LI>)
<li><li> (Index 5 LI>)
</ul>
<ul> (Index 1 UL>)
<li><li> (Index 0 LI>)
<li><li> (Index 1 LI>)
<li><li> (Index 2 LI>)
<li><li> (Index 3 LI>)
<li><li> (Index 4 LI>)
<li><li> (Index 5 LI>)
</ul>
<ul> (Index 2 UL>)
<li><li> (Index 0 LI>)
<li><li> (Index 1 LI>)
<li><li> (Index 2 LI>)
<li><li> (Index 3 LI>)
<li><li> (Index 4 LI>)
<li><li> (Index 5 LI>)
</ul> 
```

感谢您的任何帮助。

韦恩

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:09:54.893

您可以使用这些插件方法：

```
jQuery.extend(jQuery.fn, {
    nextSiblingOrCousin: function() {
        var $next = this.next();
        if ($next.length == 0) {
            $next = this.parent().next().children(':first');
        }
        return $next;
    },

    prevSiblingOrCousin: function() {
        var $prev = this.prev();
        if ($prev.length == 0) {
            $prev = this.parent().prev().children(':last');
        }
        return $prev;
    }
}); 
```

有了这些，您可以将所有对 and 的调用`.prev()`更改`.next()`为`.prevSiblingOrCousin()`and `.nextSiblingOrCousin()`。

[jsfiddle 上的演示](http://jsfiddle.net/99gFC/2/)

注意：以前我认为你有一个`<div>`around each `<ul>`，但我发现你没有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T17:27:09.473

我已经想通了。看来 parent().prev() 将允许我与以前的父母交谈

parent().prev().find('li:last-child') 将允许我与最后一个孩子交谈。我在 wiki 中还读到了一个名为 nth-last-child-type （或类似）的东西，它允许我与前一个父级中的任意数量的元素交谈，从最后一个开始并倒计时。

韦恩

```
 if($(this).index()<2) { // Only do this if the button clicked on is indexed at 0 or 1
          if($(this).parent().index()!=0) { // Ensure we are not at the first parent index
            if(!$(this).parent().prev().find('li:last-child').hasClass('whatever')) { // Look for the correct class 
              alert("Current Index: "+$(this).parent().index());
              alert("Previous Parent Index: "+$(this).parent().prev().index());
              alert("Previous Index Last Child: "+$(this).parent().prev().find('li:last-child').index());
            }
          }
       } 
```

# haskell - 在 Haskell 中重写 TeX？

> ID：15182431
> 
> 赞同：5
> 
> 时间：2013-03-03T04:27:58.290
> 
> 标签：haskell, tex

1.  在 Haskell中重写 Knuth 的[TeX 算法](http://brokestream.com/tex.pdf)有多难？
2.  有谁知道这些方面的任何努力？（我知道[HaTeX](http://www.haskell.org/haskellwiki/HaTeX) - 但它编译*为*LaTeX）

# php - 删除条目后更新mysql数据库

> ID：15182444
> 
> 赞同：0
> 
> 时间：2013-03-03T04:30:13.857
> 
> 标签：php, mysql

正在从我的数据库表中删除一个条目。

目前删除工作正常。但是它删除了“id + 1”

我的脚本在从 mysql 表填充的条目旁边填充了一个“删除”按钮。

当我点击条目旁边的删除时，它会删除项目 +1。

我认为这与 while 循环有关，即我填充项目的方式。

有想法该怎么解决这个吗？

```
<?php 
  while($row = mysqli_fetch_array($result)) : ?>
<tr>
  </table border = '1'><br><table border = '1'><th>Subject</th><th>Sender</th>    <th>Message</th><th>Delete</th>
  <?php 
  echo "<tr><td>";
  echo $row['subject'];
  echo "<td>";
   echo $row['sender'];
  echo "<td>";
  echo $row['msgText'];
  echo "<td>";
  ?>
    <form action="delete.php" method="post">
      <input type="hidden" name="delete_id" value="<?php  $_SESSION['id'] = $row['id'];   ?>" />
      <input type="submit" value="Delete" />
   </form>
</tr>
<?php endwhile; ?> 
```

这是 delete.php 中的脚本

```
<?php
session_start();
$id = $_SESSION['id'];
$con=mysqli_connect("localhost","root","","something");
  $sql = "DELETE FROM `mailbox` WHERE `id`= '$id'";
  $result = mysqli_query($con,$sql);
   header('Location: loggedin.php');
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:57:04.263

```
<input type="hidden" name="delete_id" value="<?php  $_SESSION['id'] = $row['id'];   ?>" /> 
```

将其更改为：

```
<input type="hidden" name="delete_id" value="<?php echo $row['id']; ?>" /> 
```

在您的 delete.php 中，只需替换`$_SESSION['id']`为`$_POST['delete_id']`

P/S：顺便说一句，`session_start();`如果你真的想使用它，你忘了添加表单的 php，但这次不是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:40:56.717

`$_SESSION['id']`每次在循环中都会被覆盖。

为什么不只是简单地使用`$_POST["delete_id"]`来检索行 ID。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:04:27.977

你`Table Structure`错了

```
<?php 
    while($row = mysqli_fetch_array($result)) : 
?>

<tr>
    <th>Subject</th>
    <th>Sender</th>
    <th>Message</th>
    <th>Delete</th>
</tr>
<tr>
<?php 
  echo "<td>";
  echo $row['subject'];
  echo "</td><td>";
   echo $row['sender'];
  echo "</td><td>";
  echo $row['msgText'];
  echo "</td>";
  ?>
  <td>
       <form action="delete.php" method="post">
           <input type="hidden" name="delete_id" value="<?php  $_SESSION['id'] = $row['id'];   ?>" />
           <input type="submit" value="Delete" />
       </form>
  </td>
</tr>
<?php endwhile; ?> 
```

`$_SESSION['id']`删除记录时也不要使用。利用`$_POST['delete_id']`

# php - 从数据库生成 XML 时 PHP 编码错误

> ID：15182445
> 
> 赞同：-3
> 
> 时间：2013-03-03T04:30:14.357
> 
> 标签：php, mysql, xml

我正在尝试获取一个简单的 PHP 服务来为 iPhone 应用程序生成 XML，从 SQL 数据库中获取。该数据库有多种文本源和字符，其中一些似乎与脚本无关并产生以下编码错误：

第 1 行第 6232 列的错误：编码错误

php如下：

```
<?php
    //database configuration
    $config['mysql_host'] = "XXX.XXX.XXX.XXX";
    $config['mysql_user'] = "XXXX";
    $config['mysql_pass'] = "XXXX";
    $config['db_name']    = "XXXX";
    $config['table_name'] = "articles";

    //connect to host
    mysql_connect($config['mysql_host'],$config['mysql_user'],$config['mysql_pass']);
    //select database
    @mysql_select_db($config['db_name']) or die( "Unable to select database");

$xml          = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";
$root_element = $config['table_name']."s"; 
$xml         .= "<$root_element>";

$sql = "SELECT * FROM ".$config['table_name'];

$result = mysql_query($sql);
if (!$result) {
    die('Invalid query: ' . mysql_error());
}

if(mysql_num_rows($result)>0)
{
    while($result_array = mysql_fetch_assoc($result))
    {
        $xml .= "<".$config['table_name'].">";

        //loop
        foreach($result_array as $key => $value)
        {

            $xml .= "<$key>";

            $xml .= "<![CDATA[$value]]>";

            //and close the element
            $xml .= "</$key>";
        }

        $xml.="</".$config['table_name'].">";
    }
}

$xml .= "</$root_element>";

//send xml
header ("Content-Type:text/xml");

echo $xml;
?> 
```

有些文章会导致整个页面失败，有些则不会。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T18:39:08.433

您的问题非常广泛，我能给出的最佳答案是您应该使用一些现有的库来编码 XML，而不是编写自己的库（因为您显然无法完成这项工作，因此 XML 消费者报告了 XML 编码错误）。

使用现有库还可以让您更早地指出问题。例如，对于以下代码，请确保您从数据库中返回的所有内容都是 UTF-8 编码的字符串。

此外，使用更现代的数据库客户端类也将极大地帮助您编写代码。这是一个带有[`PDO`](http://php.net/PDO) and的示例[`DOMDocument`](http://php.net/DomDocument)：

```
### configuration values

$config = array(
    'Database'     => array(
        'dsn'  => 'mysql:dbname=test;host=localhost;charset=utf8',
        'user' => 'testuser',
        'pass' => 'test',
    ),
    'table_name'   => 'config',
    'table_fields' => '*',
);

### implement database access

class Database extends PDO
{
    public function __construct(array $config = null)
    {
        $config = $config ? : $GLOBALS['config'][__CLASS__];
        parent::__construct($config['dsn'], $config['user'], $config['pass']);
        $this->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        $this->setAttribute(PDO::ATTR_EMULATE_PREPARES, FALSE);
        $this->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
    }
}

### setup the datasource ($rows)

$db   = new Database();
$rows = $db->query("SELECT $config[table_fields] FROM $config[table_name]");

### setup the XML encoder ($doc)

$doc               = new DOMDocument();
$doc->formatOutput = true;
$doc->loadXML("<$config[table_name]s/>");
$doc->encoding = 'utf-8';

### fetch data from the datasource and encode the XML

foreach ($rows as $row) {
    $child = $doc->createElement($config['table_name']);
    $child = $doc->documentElement->appendChild($child);
    foreach ($row as $key => $value) {
        $child->appendChild($doc->createElement($key, $value));
    }
}

### output XML

header("Content-Type:text/xml");
echo $doc->saveXML(); 
```

请参阅`DomDocument`此处注意正确编码从数据库返回的 UTF-8 字符串。（通常）不再需要`<![CDATA[...]]>`这里了。正如您可以想象的那样，您可能在其中放置了一些破坏您的 XML 编码的东西。

同样对于数据库交互，您的大部分代码也不是必需的，您可以迭代行，如果没有行，则不会进行迭代。这通常最好用现代数据库接口提供的可以操作`Iterator`的语言结构来表达。`foreach`从技术上讲，您可以用许多其他东西替换`$rows`这里，例如一个接一个地遍历多个表的迭代器。

此外，使用异常错误模式确实可以让您在`die`整个代码库中放置检查和 s。

示例性输出是：

```
<?xml version="1.0" encoding="utf-8"?>
<configs>
  <config>
    <id>1</id>
    <option>value for option with ID1</option>
  </config>
  <config>
    <id>2</id>
    <option>value for option with ID2</option>
  </config>
  ...
</configs> 
```

如果您仍然需要创建 CDATA 元素，它的工作方式类似（我在这里只展示了脚本的一部分，它只包含添加 CDATA 部分而不是子值的轻微修改）：

```
### fetch data from the datasource and encode the XML

foreach ($rows as $row) {
    $child = $doc->createElement($config['table_name']);
    $child = $doc->documentElement->appendChild($child);
    foreach ($row as $key => $value) {
        $child->appendChild($doc->createElement($key))
              ->appendChild($doc->createCDATASection($value))
        ;
    }
} 
```

这里同样`DOMDocument`负责正确编码 CDATA 部分。一些你可能没有做过的事情。

您仍然可能遇到的潜在问题是[无效 XML 名称的表名或行名](https://stackoverflow.com/questions/2519845/how-to-check-if-string-is-a-valid-xml-element-name)。但`DOMDocument`实际上会告诉您，这样您就知道在生成 XML 时，而不仅仅是在之后出现编码错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:40:28.743

```
mysql_connect($config['mysql_host'],$config['mysql_user'],$config['mysql_pass']);
mysql_set_charset('utf8');
mysql_select_db($config['db_name']); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-03T04:52:31.200

正如您将 XML 格式描述为 utf8 一样，因此 XML 文件中的所有字符都必须是 utf8 字符。

由于存在非 UTF8 字符，您会收到错误消息。您必须将字符更改为 UFT8 格式，检查 UTF8 字符有两种方法

# 方式一

```
if (mb_check_encoding(file_get_contents($file), 'UTF-8')) {
    // yup, all UTF-8
} 
```

这样可以确保所有字符都与 UTF8 兼容，并且如果任何行不符合 utf8 则省略。

# 方式二

```
mysql_connect($config['mysql_host'],$config['mysql_user'],$config['mysql_pass']);
mysql_set_charset('utf8');
mysql_select_db($config['db_name']); 
```

# 方式3

```
<xml>
 <![CDATA[

   ///Enter the Test here

 ]]>
</xml> 
```

# c++ - 重载 + 运算符以添加 2 个多项式 C++

> ID：15182448
> 
> 赞同：0
> 
> 时间：2013-03-03T04:30:46.260
> 
> 标签：c++

我正在编写将两个多项式相加的函数，两个多项式具有相同数量的最高次数（不需要输入所有项）的情况可以正常工作，但是两个多项式具有不同次数的情况不起作用，函数以某种方式存储一些大值作为系数

这是功能

```
// overload +
Polynomial Polynomial::operator+(const Polynomial &right)
{
    // get the highest exponent value for result
    int highestExp = 0;
    if (maxExp < right.maxExp)
        highestExp = right.maxExp;
    else if (maxExp >= right.maxExp)
        highestExp = maxExp;

    Polynomial res;
    res.setPolynomial(highestExp);

    for (int coeff=0; coeff < highestExp; coeff++)
            res.poly[0][coeff] = poly[0][coeff] + right.poly[0][coeff];

    return res;
} 
```

例如，case1：最高的 exp 相等

```
The first (original) polynomial is:
 - 4x^0 + x^1 + 4x^3 - 3x^4
The second polynomial is:
 - x^0 - x^3
The result polynomial is:
 - 5x^0 + x^1 + 3x^3 - 3x^4 
```

case2：最高指数不相等

```
The first (original) polynomial is:
 - 4x^0 + x^1 + 4x^3 - 3x^4 (highest exp = 4)
The second polynomial is:
 - x^0 - x^3 (highest exp = 5)
The result polynomial is:
 - 5x^0 + x^1 + 3x^3 - 3x^4 - 33686019x^5 (highest exp = 5) 
```

请帮忙！

更新：多项式类

```
class Polynomial
{
private:
    int **poly;
    int maxExp;
    void createPolynomialArray(int);
public:
    Polynomial();
    Polynomial(int); // constructor
    Polynomial(const Polynomial &); // copy constructor
    ~Polynomial(); // destructor

    // setter
    void setCoefficient(int,int);
    void setPolynomial(int);

    // getters
    int getTerm() const; 
    int getCoefficient(int,int) const; 

    // overloading operators
    void operator=(const Polynomial &); // assignment
    Polynomial operator+(const Polynomial &); // addition    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:44:53.823

我想你想要

```
Polynomial Polynomial::operator+(const Polynomial &right)
{
    Polynomial res;
    if(maxExp < right.maxExp)
    {
        res.setPolynomial(right.maxExp);
        int coeff = 0;
        for (; coeff < maxExp; coeff++)
                res.poly[0][coeff] = poly[0][coeff] + right.poly[0][coeff];
        for (; coeff < right.maxExp; coeff++)
                res.poly[0][coeff] = right.poly[0][coeff];
    }
    else
    {
        res.setPolynomial(maxExp);
        int coeff = 0;
        for (; coeff < right.maxExp; coeff++)
                res.poly[0][coeff] = poly[0][coeff] + right.poly[0][coeff];
        for (; coeff < maxExp; coeff++)
                res.poly[0][coeff] = poly[0][coeff];
    }
    return res;
} 
```

您正在阅读较短多项式的末尾。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:42:21.317

您似乎缺少对数组访问的边界检查。您看到奇怪值的原因是，在这种情况下，程序可能正在从未初始化的内存中读取垃圾值。但这是未定义的行为，所以实际上任何事情都可能发生。像这样的错误最糟糕的部分是它们通常看起来工作正常。

另外，我建议使用`std::vector`来存储系数而不是原始指针。它更容易使用并且更不容易出错。

PS 另一个挑剔的是，我建议在 if 和 for 块周围使用大括号。它可以更清楚地准确包含哪些代码，并降低在不更新大括号的情况下意外添加额外行的风险。或者天堂禁止，有人使用多行宏。但这是一个品味问题。

# html - -webkit-transition：属性在气泡元素中不起作用？

> ID：15182452
> 
> 赞同：0
> 
> 时间：2013-03-03T04:31:27.703
> 
> 标签：html, css, hover, webkit-transition

我正在创建一个投资组合，我想要它，这样每当有人将鼠标悬停在我的名字上时，就会出现一个带有箭头的气泡。我已经完成了那部分，但问题是该`-webkit-transition`属性不起作用。气泡离我的名字有点远，所以我想要它，以便再次隐藏起来需要一点时间，所以有人可以很容易地去它，因为我正在考虑制作一个表格来联系我。

我的 HTML：

```
<div id="side-bar"><h1 id="ab_me">About Me</h1>
<img src="saksham.png" id="saksham">
<p id="name"><span>S</span>aksham <span>C</span>hauhan</p>

<div id="bubble">
SUP !
<div id="bubble-arrow-border">
</div>
<div id="bubble-arrow">
</div>
</div>

</div> 
```

我的 CSS：

```
div#side-bar p
{
font-size:25;
border-bottom:2px solid red;
position:absolute;
left:10px;
color:#F63737;
}
div#side-bar p:hover
{
border-bottom:2px groove #C01F1F;
color:#C01F1F;
text-shadow:0px 1px 2px #F98378;
-webkit-transition:1s;
}
div#side-bar p span
{
font-size:40px;
}
div#side-bar p:hover ~ #bubble
{
display:block;
visibility:visible;
opacity:1;
-webkit-transition:5s;
}
div#side-bar p #bubble:hover
{
display:block;
visibility:visible;
opacity:1;
}
#bubble
{
background-color:#EDEDED;
visibility:hidden;
border:2px solid #666666;
font-size:35px;
line-height:1.3em;
padding:10px;
position:absolute;
text-align:center;
width:300px;
-moz-border-radius:15px;
-webkit-border-radius:15px;
-moz-box-shadow:0 0 5px #888888;
-webkit-box-shadow:0 0 5px #888888;
z-index:100;
left:230px;
top:400px;
display:none;
-webkit-transition:5s;
opacity:0;
}
#bubble-arrow
{
border-color:transparent #EDEDED transparent transparent;
border-style: solid;
border-width: 15px;
height:0;
width:0;
position:absolute;
bottom:25px;
left:-28px;
z-index:100;
}
#bubble-arrow-border
{
border-color:transparent #666666 transparent transparent;
border-style: solid;
border-width: 15px;
height:0;
width:0;
position:absolute;
bottom:25px;
left:-31px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T09:39:07.723

当您使用 a 时，`transition`您必须同时设置“之前”和“之后”状态（例如，您不能从 nothing 过渡到`opacity:0`但可以从`opacity:1`to过渡`opacity:0`）。此外，你不能有一个过渡，`display`但你可以在`visibility`.

这里有一些关于过渡的更多信息：[https ://developer.mozilla.org/en-US/docs/CSS/Tutorials/Using_CSS_transitions](https://developer.mozilla.org/en-US/docs/CSS/Tutorials/Using_CSS_transitions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T16:16:21.830

*不要发布您的整个代码，只发布相关代码。*

CSS 过渡不适用于`display:none`. 当我不得不使用`display:none`时，我不得不使用 Javascript 来补充我的 CSS。

因此，如果您从中删除`display:none`，`#bubble`然后使用：

```
-webkit-transition:all 1000ms; 
```

On `#bubble`，然后`#bubble:hover`将不透明度设置为 1：

```
opacity:1; 
```

你的气泡会淡入，然后淡出。

[http://jsfiddle.net/charlescarver/nrTMg/1/](http://jsfiddle.net/charlescarver/nrTMg/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T04:34:56.120

您必须告诉它要转换的属性。看起来你正在尝试这样做：

```
transition:all 1s ease;
-webkit-transition:all 1s ease; 
```

# sql - SQL Server 2008 Insert with WHILE LOOP

> ID：15182468
> 
> 赞同：5
> 
> 时间：2013-03-03T04:34:45.107
> 
> 标签：sql, sql-server, while-loop

I have existing records like

```
ID    Hospital ID     Email                Description 
1       15         abc@e.com           Sample Description
2       15         def@dd.com          Random Text 
```

I need to use a WHILE loop to insert rows with Hospital ID changing to a specific value or 32 in this case, while the others(not ID as it is auto generated) remaining constant.

It should then look like

```
ID    Hospital ID     Email                Description 
1       15         abc@e.com           Sample Description
2       15         def@dd.com          Random Text
3       32         abc@e.com           Sample Description
4       32         def@dd.com          Random Text 
```

Notice the above now has two new rows with ID and Hospital ID different. ID is auto generated.

I have several tables where I need to make the same updates. I don't want to use cursor if I can do this with a while loop.

**EDIT** Abandoned while loop as a simpler solution was provided in the accepted answer.

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-03T05:27:35.837

First of all I'd like to say that I 100% agree with John Saunders that you must avoid loops in SQL in most cases especially in production.

But occasionally as a one time thing to populate a table with a hundred records for testing purposes IMHO it's just OK to indulge yourself to use a loop.

For example in your case to populate your table with records with hospital ids between 16 and 100 and make emails and descriptions distinct you could've used

```
CREATE PROCEDURE populateHospitals
AS
DECLARE @hid INT;
SET @hid=16;
WHILE @hid < 100
BEGIN 
    INSERT hospitals ([Hospital ID], Email, Description) 
    VALUES(@hid, 'user' + LTRIM(STR(@hid)) + '@mail.com', 'Sample Description' + LTRIM(STR(@hid))); 
    SET @hid = @hid + 1;
END 
```

And result would be

```
ID   Hospital ID Email            Description          
---- ----------- ---------------- ---------------------
1    16          user16@mail.com  Sample Description16 
2    17          user17@mail.com  Sample Description17 
...                                                    
84   99          user99@mail.com  Sample Description99 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-03-03T04:58:52.737

Assuming that `ID` is an identity column:

```
INSERT INTO TheTable(HospitalID, Email, Description)
SELECT 32, Email, Description FROM TheTable
WHERE HospitalID <> 32 
```

Try to avoid loops with SQL. Try to think in terms of sets instead.

# vb.net - 像窗户一样的窗户

> ID：15182469
> 
> 赞同：0
> 
> 时间：2013-03-03T04:34:45.573
> 
> 标签：vb.net, windows-shell

我在网上找了两天来创建一个带有扩展标题栏（具有左侧、右侧和搜索栏）和侧边栏的表单。我从侧边栏中使用的 shell32.dll 中提取了 3 个背景图像。

我想知道是否可以命名一些 shell 对象或者是否有解决方案。我真的很想看到这种情况发生。

![示例截图](../Images/3af28afb4d1de19b97394b6b8c2efd81.png)

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:10:49.910

[代码项目，非客户区](http://www.codeproject.com/Articles/55180/Extending-the-Non-Client-Area-in-Aero)。我知道这不是 VB，但可能足以收集你需要的东西。

# css - 右侧边栏与浏览器调整大小重叠内容页面

> ID：15182471
> 
> 赞同：0
> 
> 时间：2013-03-03T04:35:00.530
> 
> 标签：css, resize, sidebar, screen-resolution

我需要帮助来修复 Wordpress 中的右侧边栏，以便在屏幕上以不同的分辨率大小看到时它不会移动？

**右侧边栏的 CSS**

```
#socialsidebar { 
   float: right; 
   position: relative; 
   overflow: hidden; 
   margin-right: 200px; 
   margin-top: 200px; 
   height: auto; 
   width: 194px; 
} 
```

**容器/页面的 CSS**

```
body { 
   min-width: 960px; 
}
.container_12 { 
   background: #fdfdfd; 
   margin-left: auto; 
   margin-right: auto; 
   width: 960px; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:58:52.620

你需要了解`position`CSS 的属性。

您必须注意一些拇指规则。

1.  避免不必要的水平滚动。
2.  尽量不要给出静态高度，因为你总是有无限的高度可供使用。用于`height:auto`更大的容器。
3.  为此类容器提供静态尺寸，您知道大多数分辨率都可以容纳这些尺寸。
4.  避免内联 css - 尝试尽可能多地定义通用 css。
5.  决定您的应用使用的可能分辨率范围。然后开始编写 CSS。
6.  最重要的是，始终在 IE（最大挑战）上交叉验证您的 CSS（在您编写时）。

大多数时候，最好的方法是它应该简单且易于修改。

看到您需要将整个屏幕视为一个坐标系，其原点位于左上角，Y 轴向下。

[这](http://alistapart.com/article/css-positioning-101)是关于 CSS-Position 属性的最佳文章之一。通过它。它将帮助您了解左、右、上、下的工作方式。

现在，我制作了一个超级简单的示例，满足您的需求。即正确的导航，它在任何分辨率下都保持稳定。

# [采样小提琴](http://jsfiddle.net/manishmishra256/3YJGq/)

在此示例中您应该注意到的是，宽度、高度、顶部、左侧的百分比的广泛使用。和位置属性。

你可以相应地修改它。或从中获取参考。还有一件事，你不需要做`position:absolute`，我正在做，因为我想通过它的顶部，左，右底部属性为容器提供尺寸，你可以通过百分比和`position:relative`。

# python - 'list' 对象没有属性'resolve' Python Django

> ID：15182472
> 
> 赞同：0
> 
> 时间：2013-03-03T04:35:07.837
> 
> 标签：python, django

我正在 Vista 上开发 Python Django 1.5。当我尝试访问 localhost:8000/add/producto 时，出现以下错误：

`AttributeError at /add/producto`

`list' object has no attribute 'resolve'`

在 下`addProducto.html`，我有

```
<html>
    Agregando Producto
</html> 
```

在 下`views.py`，我有：

```
from django.shortcuts import render_to_response
from django.template import RequestContext

def add_product_view(request):
    return render_to_response('ventas/addProducto.html', 
                               context_instance=RequestContext(request)) 
```

下`urls.py`，

```
from django.conf.urls.defaults import patterns,url

urlpatterns = patterns('','demo.apps.ventas.views', url(r'^add/producto/$', 
                    'add_product_view', name = "vista_agregar_producto")),
) 
```

出了什么问题？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-03T07:19:43.093

```
from django.conf.urls.defaults import patterns,url

+++urlpatterns = patterns('demo.apps.ventas.views', url(r'^add/producto/$', 
                    'add_product_view', name = "vista_agregar_producto")),
)

----urlpatterns = patterns('','demo.apps.ventas.views', url(r'^add/producto/$', 
                    'add_product_view', name = "vista_agregar_producto")),
) 
```

# google-app-engine - 为 Google App Engine 上的快速人群做准备

> ID：15182477
> 
> 赞同：1
> 
> 时间：2013-03-03T04:35:37.333
> 
> 标签：google-app-engine

最近，我在 Google App Engine 上的服务负载出现了短暂的急剧增加。负载从~1-2 req/second 到大约 10 req/second 大约几个小时。我的动态实例数量迅速增加，但在此过程中，我确实收到了一些“请求等待时间过长”的超时消息。

所以下一次，我想准备好足够的空闲实例来处理我的负载。但现在的问题是，我如何确定多少才足够。我预计这次的负载会有更大的爆发——从几乎没有请求到平均每秒 500 个请求，峰值可能达到 3000 个。这将持续 15 分钟到 1 小时。

我的主要目标是确保通过 HTTP Post 传递的信息通过单次写入保存到数据存储区。

以下是我为准备爆发所采取的步骤：

1.  我修剪了禁用分析和其他报告的快速路径，这些报告通常会生成 2 个 urlfetch 请求。
2.  数据存储写入将通过延迟库延迟到任务队列

我想知道的是： 1\. 计算每 N 个请求/秒需要多少空闲实例的提示/见解。2.好像一个任务队列的最大吞吐量是500/秒。这是你可以推动任务的速度吗？如果不是，那有上限吗？我猜不是，因为这些可能只是数据存储写入，但我想确定。

如果我对保存这个快闪族的所有信息没有信心，我的后备计划是设置一个强大的 Amazon EC2 实例，在其上运行一个 Web 服务器，并让我的客户向这个服务器发送一个备份请求。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T19:05:20.940

您必须了解只有在启动新的前端实例时才使用空闲实例。这意味着它们仅在流量增加时使用。当流量稳定时，它们不会被使用。

现在，如果您的实例需要 20 秒才能启动并且可以处理 10 个请求/秒的稳定流量，并且您的流量 INCREASE 是 5 个请求/秒，那么如果您不想要，您将需要 20 * 5 / 10 = 10 个空闲实例任何请求都被丢弃。

你应该做的是：

1.  最大化实例吞吐量（它可以处理的请求数）：优化代码，使用异步数据库操作并启用[并发请求](https://developers.google.com/appengine/docs/java/config/appconfig#Using_Concurrent_Requests)。

2.  最小化您的实例启动时间。这很重要，因为在启动新实例期间会使用空闲实例，启动新实例所需的时间与您需要多少空闲实例直接相关。如果您使用 Java，这意味着摆脱任何执行类路径扫描的繁重框架（Spring 等）。

第四，所需的前端实例数量是非常特定于应用程序的。但是由于您已经增加了流量，您应该知道您的前端实例每秒可以处理多少个请求。

**编辑：**您应该做一件更明显的事情：HTTP 缓存。GAE 有一个[透明的 HTTP 缓存](http://davepeck.org/2011/10/25/a-word-on-app-engine-caching/)，可以通过`Cache-Control`标头简单地控制。

Also, if analytics has a big performance impact on your server, consider using client side analytics services (like Google Analytics). They also work for devices.

# javascript - CSS3 圆形动画

> ID：15182478
> 
> 赞同：1
> 
> 时间：2013-03-03T04:35:39.593
> 
> 标签：javascript, jquery, css, animation

我做了一个 CSS3 圆形动画菜单，菜单项从左端开始，向右旋转到相应的位置。
我将每个菜单项放在一个容器中，并使每个容器旋转到不同的角度以显示动画。
我的问题是，因为每个菜单项都在一个容器内，所以容器的数量与菜单项的数量一样多，这使得无法`:hover`在每个菜单项内获取锚标记的操作，因为容器位于顶部。有人可以建议解决这个问题吗？

你可以在这里看到它：

[http://jsfiddle.net/blueeyes/bWWHm/4/](http://jsfiddle.net/blueeyes/bWWHm/4/)

您可以看到我可以将链接悬停`aa`，`fff`因为`aa`没有容器，并且容器`fff`位于最重要的位置。
其他链接位于容器下方，因此无法访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T11:29:04.690

你把事情复杂化了，你不需要一个容器。您只需将所有菜单项绝对定位在圆的中心，然后将每个菜单项旋转所需的角度，将其向外平移圆的半径，然后再次将其旋转相反的角度以使文本再次水平。这样，每个菜单项的中心将位于圆圈上。

# [**演示**](http://codepen.io/thebabydino/pen/fdLon)

**HTML**：

```
<ul class='circ-menu'>
  <li><a href='#'>aa</a></li>
  <li><a href='#'>bb</a></li>
  <!-- and so on -->
</ul> 
```

**CSS**：

```
.circ-menu {
  position: relative;
  padding: 0;
  width: 10em; height: 10em;
  list-style: none;
}
.circ-menu li {
  position: absolute;
  top: 50%; left: 50%;
  margin: -1.5em;
  width: 3em; height: 3em;
  background: rgba(255, 0, 0, .3);
}
.circ-menu li:first-child {
  transform: rotate(-112.5deg) translateY(-5em) rotate(112.5deg);
}
.circ-menu li:nth-child(2) {
  transform: rotate(-67.5deg) translateY(-5em) rotate(67.5deg);
}
/* and so on */ 
```

# c# - JQGrid 上没有显示数据

> ID：15182480
> 
> 赞同：0
> 
> 时间：2013-03-03T04:35:51.857
> 
> 标签：c#, jquery-plugins, asp.net-mvc-4

我对 MVC 和 Jquery 还很陌生。在过去的几天里，我试图使用 Jqgrid [http://www.trirand.com/blog/](http://www.trirand.com/blog/)在我的数据库中显示数据。我首先使用 EF 代码创建我唯一的类“作者”

```
public class Author
{

    public int AuthorID { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }

    public string FullName
    {
        get
        {
            return  FirstName+ " "+LastName ;
        }
    }
} 
```

这是我创建 Json 数据的“AuthorController”：

```
public ActionResult LinqGridData(string sidx, string sord, int page, int rows)
{
    var jsonData = new
    {
         total = 5,
         page = 1,
         records = db.Authors.Count(),
         rows = db.Authors.Select(a => new
                                 {
                                   id = a.AuthorID,
                                   cell = new { a.AuthorID, a.FirstName, a.LastName }
                                 }
         )
     };
     return Json(jsonData, JsonRequestBehavior.AllowGet);
} 
```

我还尝试了不同的方法来获取我的 Json 数据：

```
 public ActionResult LinqGridData (string sidx, string sord, int page, int rows) 
   {
        var jsonData = new {
        total = 5, 
        page=1,
        records = db.Authors.Count(),
        rows = (from a in db.Authors
                select new 
                {
                    id = a.AuthorID,
                    cell = new {  a.AuthorID, a.FirstName, a.LastName }
                }
          )
      };
      return Json(jsonData,JsonRequestBehavior.AllowGet);
    } 
```

这是我的 JavaScript，我认为它是：

```
 $(function () {
    $("#list").jqGrid({
        url: '/Author/LinqGridData',
        datatype:'json',
        mtype: 'GET',
        colNames:['Author ID', 'First Name', 'Last Name'],
        colModel:[
            {name:'AuthorID',index:'AuthorID',width:55 },
            {name:'FirstName',index:'FirstName',width:90 },
            {name:'LastName',index:'LastName',width:80,align:'right' }
        ],
        pager:'#pager',
        rowNum: 10,
        rowList:[5, 10, 20, 30],
        sortname:'AuthorID',
        sortorder:'desc',
        viewrecords:true,
        gridview:true,
        caption:'Author List'
    });
});
jQuery("#datagrid").jqGrid('navGrid', '#navGrid', { edit: true, add: true, del: true }); 
```

我可以用虚拟数据显示网格。使用此操作方法：

```
 public ActionResult GridData(string sidx, string sord, int page, int rows)
   {
       var jsonData = new
       {
           total = 1, // we'll implement later 
           page = 1,
           records = 3, // implement later 
           rows = new[]
           {
              new {id = 1, cell = new[] {"1", "-7", "Is this a good question?"}},
              new {id = 2, cell = new[] {"2", "15", "Is that a good question?"}},
              new {id = 3, cell = new[] {"3", "23", "Why is the sky in the sky?"}}    
           }
       };
       return Json(jsonData,JsonRequestBehavior.AllowGet);
   } 
```

问题是每当我想显示我的数据库中的数据时，我只能显示网格本身而不是数据。在发送到视图之前，我尝试将 json 数据转换为 toList() 或 toArary()，结果相同。我希望我说清楚了。

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T08:45:55.083

您是否尝试过带有“repeatitems：false”的jsonReader？例如：

```
$("#list").jqGrid({
    url: '/Author/LinqGridData',
    datatype:'json',
    jsonReader: {
        repeatitems: false
    },
    ..... 
```

更新：如果您查看从 LinqGridData 方法返回的响应正文，它看起来像这样：

```
{"total":5,"page":1,"records":1,"rows":
  [
    {"id":"1","cell":{"AuthorID":"1","FirstName":"Mike","LastName":"Lee"}}, .....
  ]
} 
```

但我认为应该是这样的：

```
{"total":5,"page":1,"records":1,"rows":
  [
    {"id":"1","cell":{"1", "Mike", "Lee"}}, .....
  ]
} 
```

实际上这是您的“虚拟数据”版本的响应正文。

我将在下面发布我的工作示例。在这个例子中，我没有使用“cell”属性。
在服务器端：

```
 var myQuery = from t in db.Customers
                      select t;
        var jsonData = new
        {
            total = totalPages,
            page = pageNum,
            records = totalRecords,
            rows = myQuery.ToList()
        };

        return Json(jsonData, JsonRequestBehavior.AllowGet); 
```

在客户端：

```
{
    url: '@Url.Action("GetList")',
    datatype: 'json',
    jsonReader: {
      repeatitems: false
    },
    mtype: 'GET',
    colModel: [
      {
        name: 'CustomerID', label: 'ID', hidden: false, width: 40, sortable: true
      },
      {
        name: 'CompanyName', label: 'Company', width: 100, align: 'center' 
      },
    ]
} 
```

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T02:20:15.243

我终于设法从我的数据库中显示数据。问题出在我的查询中。我将此方法用于我的操作方法：

```
public JsonResult LinqGridData (string sidx, string sord, int page, object rows)
   {
       var authors = (from a in db.Authors select a).ToList();
       var jsonData = new {
        total = 5, 
        page=1,
        records = db.Authors.Count(),
        rows = authors.Select(a => new 
                    {
                        id = a.AuthorID,
                        cell = new[] { a.AuthorID.ToString(), a.FirstName, a.LastName }
                    }
        )              
       };
      return Json(jsonData,JsonRequestBehavior.AllowGet);            
    } 
```

我在我的Javascript中使用了这个：

```
$(function () {
$("#list").jqGrid({
    url: "/Author/LinqGridData",
    datatype: "json",
    jsonReader: {
        root: "rows",
        page: "page",
        total: "total",
        records: "records",
        cell: "cell",
        id:"id"
    },
    mtype: "GET",
    colNames: ["Author ID", "First Name", "Last Name"],
    colModel: [
        { name: "AuthorID", key: true, width: 55 },
        { name: "FirstName", width: 80 },
        { name: "LastName", width: 100, align: "right" }
    ],
    pager: "#pager",
    rowNum: 10,
    rowList: [5, 10, 20],
    sortname: "AuthorID",
    sortorder: "desc",
    viewrecords: true,
    gridview: true,
    width: 610,
    height: 250,
    caption: "Author List"
}); 
```

}); jQuery("#list").jqGrid("navGrid", "#pager", { edit: true, add: true, del: true });

yes , you can omit the 'cell' attribute and reduce your json data. you can also put 'id':0 which normally means treat the first item as the id. i also used 'key' attribute, but it's redundant. you can also pass your query result as Array too. if anyone can tell me is there any benefit of using List over others would much appreciated.

Thanks for your help good luck

# jquery - 具有 4 列（屏幕的所有宽度）和 2 行应用翻转效果 jquery 的表格

> ID：15182483
> 
> 赞同：0
> 
> 时间：2013-03-03T04:36:19.393
> 
> 标签：jquery, html, css, uitableview

我正在研究使用 jquery 翻转卡片的效果，目前我有：

![在此处输入图像描述](../Images/84bfbd8e9bd7dafffbafd680a25f29ce.png)

但我想创建一种矩阵 4columns 和 2 行，如下所示：

![在此处输入图像描述](../Images/c88712453009a4441cae11bf013a95f5.png)

这里的问题是我不知道如何让这个矩阵占据屏幕的所有宽度（任何屏幕中的任何类型的宽度），所以我`width = 100%`在表格布局中制作了：

```
#wrapper {
    display: table;
    table-layout: fixed;    
    width:100%;
}
#wrapper div {
    display: table-cell;
} 
```

占据所有宽度。

但是我怎么能保证图像就像想要的图像一样占据所有宽度呢？另外我不知道如何制作第二排...？

你能帮我得到想要的输出吗？这是我到目前为止[在这个小提琴中](http://jsfiddle.net/2UTg8/)所拥有的，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:44:09.400

刚刚设置`width:25%`在`.card-container`

[参见 JSFiddle](http://jsfiddle.net/fUsPh/)

这是我所做的更改：

```
section.card-container{
    float: left;
    margin:0;
    width:25%;
}

/*#wrapper {
    display: table;
    table-layout: fixed;    
    width:100%;
}
#wrapper div {
    display: table-cell;
}*/ 
```

添加另一行就像复制元素一样简单

[参见 JSFiddle](http://jsfiddle.net/fUsPh/1/)

# c - 隐式减速和未知类型错误

> ID：15182491
> 
> 赞同：0
> 
> 时间：2013-03-03T04:37:20.293
> 
> 标签：c, raspberry-pi, i2c, raspbian

我正在尝试将一些用于 Arduino 微控制器的 C 代码转换为与 Raspberry Pi 微控制器一起使用。他们都使用不同的库，这可能是我遇到的问题，但我不确定希望我只是有几个小错误，我没有看到我已经尝试解决这个问题一段时间了。我收到以下错误：

```
temp.c: In function âloopâ:
temp.c:29:5: error: implicit declaration of function âgetGyroValuesâ [-Werror=implicit-function-declaration]
temp.c: At top level:
temp.c:37:6: error: conflicting types for âgetGyroValuesâ [-Werror]
temp.c:29:5: note: previous implicit declaration of âgetGyroValuesâ was here
temp.c: In function âgetGyroValuesâ:
temp.c:38:5: error: unknown type name âbyteâ
cc1: all warnings being treated as errors 
```

这是我编写的代码：

```
#include <stdio.h>
#include <string.h>
#include <errno.h>
#include <unistd.h>
#include <stdlib.h>
#include <stdint.h>
#include <time.h>
#include <wiringPi.h>
#include <wiringPiI2C.h>

#define CTRL_REG1 0x20
#define CTRL_REG2 0x21
#define CTRL_REG3 0x22
#define CTRL_REG4 0x23

int fd,x,y,z;

void setup(){
    fd = wiringPiI2CSetup(0x69); // I2C address of gyro
    wiringPiI2CWriteReg8(fd, CTRL_REG1, 0x1F); //Turn on all axes, disable power down
    wiringPiI2CWriteReg8(fd, CTRL_REG3, 0x08); //Enable control ready signal
    wiringPiI2CWriteReg8(fd, CTRL_REG4, 0x80); // Set scale (500 deg/sec)
    delay(100);                                    // Wait to synchronize
}

void loop(){
    getGyroValues();
    // In following Divinding by 114 reduces noise
    printf("Value of X is: %d\n", x / 114);
    printf("Value of Y is: %d\n", y / 114);
    printf("Value of Z is: %d\n", z / 114);
    delay(500);
}

void getGyroValues (){
    byte MSB, LSB;

    LSB = wiringPiI2CReadReg16(fd, 0x28);
    MSB = wiringPiI2CReadReg16(fd, 0x29);
    x = ((MSB << 8) | LSB);

    MSB = wiringPiI2CReadReg16(fd, 0x2B);
    LSB = wiringPiI2CReadReg16(fd, 0x2A);
    y = ((MSB << 8) | LSB);

    MSB = wiringPiI2CReadReg16(fd, 0x2D);
    LSB = wiringPiI2CReadReg16(fd, 0x2C);
    z = ((MSB << 8) | LSB);
} 
```

这是我正在转换的代码：

```
#include <Wire.h>

#define CTRL_REG1 0x20
#define CTRL_REG2 0x21
#define CTRL_REG3 0x22
#define CTRL_REG4 0x23

int Addr = 105;                 // I2C address of gyro
int x, y, z;

void setup(){
  Wire.begin();
  Serial.begin(9600);
  writeI2C(CTRL_REG1, 0x1F);    // Turn on all axes, disable power down
  writeI2C(CTRL_REG3, 0x08);    // Enable control ready signal
  writeI2C(CTRL_REG4, 0x80);    // Set scale (500 deg/sec)
  delay(100);                   // Wait to synchronize 
}

void loop(){
  getGyroValues();              // Get new values
  // In following Dividing by 114 reduces noise
  Serial.print("Raw X:");  Serial.print(x / 114);  
  Serial.print(" Raw Y:"); Serial.print(y / 114);
  Serial.print(" Raw Z:"); Serial.println(z / 114);
  delay(500);                   // Short delay between reads
}

void getGyroValues () {
  byte MSB, LSB;

  MSB = readI2C(0x29);
  LSB = readI2C(0x28);
  x = ((MSB << 8) | LSB);

  MSB = readI2C(0x2B);
  LSB = readI2C(0x2A);
  y = ((MSB << 8) | LSB);

  MSB = readI2C(0x2D);
  LSB = readI2C(0x2C);
  z = ((MSB << 8) | LSB);
}

int readI2C (byte regAddr) {
    Wire.beginTransmission(Addr);
    Wire.write(regAddr);                // Register address to read
    Wire.endTransmission();             // Terminate request
    Wire.requestFrom(Addr, 1);          // Read a byte
    while(!Wire.available()) { };       // Wait for receipt
    return(Wire.read());                // Get result
}

void writeI2C (byte regAddr, byte val) {
    Wire.beginTransmission(Addr);
    Wire.write(regAddr);
    Wire.write(val);
    Wire.endTransmission();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T04:44:04.770

1.  `getGyroValues`声明函数（以及其他函数）的原型或在调用之前定义它们。

2.  C 中没有数据类型`byte`。所以这是错误的（除非您将某些内容定义为字节）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T04:51:26.527

1.from的返回类型`wiringPiI2CReadReg16()`是int。所以`int`用作变量 MSB 和 LSB 而不是字节的数据类型。

```
void getGyroValues (){
    int MSB, LSB;

    LSB = wiringPiI2CReadReg16(fd, 0x28);
    MSB = wiringPiI2CReadReg16(fd, 0x29);
    x = ((MSB << 8) | LSB);

    MSB = wiringPiI2CReadReg16(fd, 0x2B);
    LSB = wiringPiI2CReadReg16(fd, 0x2A);
    y = ((MSB << 8) | LSB);

    MSB = wiringPiI2CReadReg16(fd, 0x2D);
    LSB = wiringPiI2CReadReg16(fd, 0x2C);
    z = ((MSB << 8) | LSB);
} 
```

2.或者移动函数之前的定义或者在`getGyroValues()`之前`loop()`定义这个函数的原型`loop()`。

# c++ - strcmp 未按预期运行，比较两个不相等的字符串时返回 0

> ID：15182492
> 
> 赞同：0
> 
> 时间：2013-03-03T04:37:29.737
> 
> 标签：c++, cstring, strcmp, char-pointer

我正在理解一个奇怪的`strcmp`函数行为，下面的代码将对此进行说明：

```
#include <iostream> 
#include <cstring>

using namespace std;

int main()
{
    char *p = "no";

    cout << p << endl;                      //Output: no
    cout << &p << endl;                     //Output: 0x28ac64
    cout << strlen(p) << endl;              //Output: 2
    cout << strcmp(p, "no") << endl;        //Output: 0

    cin >> p;                               //Input: bo

    cout << p << endl;                      //Output: bo
    cout << &p << endl;                     //Output: 0x28ac64
    cout << strlen(p) << endl;              //Output: 2

    cout << strcmp(p, "no") << endl;        //Output: 0
    return 0;
} 
```

我不明白的是为什么第 15 行的输出是 0。0 表示两个字符串相等，显然不是这样。我在这里想念什么？

PS 我为标题中的转义字符道歉，但如果我删除它，我无法显示 iostream。虽然我发布了这个，但我会弄清楚下次如何让它正确。:)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T04:43:36.387

问题在于它`p`指向一个字符串文字，因此您尝试修改字符串文字`cin >> p;`会直接导致未定义的行为。

最有可能发生的是编译器将字符串文字视为常量（因为您不应该修改它），因此（在编译时）确定结果`strcmp`应该是什么，并产生它。您在运行时修改它的事实被忽略了，因为无论如何您都不应该这样做。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T04:45:20.880

不幸的是，为了兼容性，许多编译器都支持这一点：

```
char *p = "no"; 
```

哪个应该无法编译和更正的是：

```
const char *p = "no"; 
```

如果你解决了这个问题（你至少应该得到警告），你会看到下面的编译错误有什么问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T04:43:38.237

`p`指向数组的第一个元素`const char`。尝试修改这些值（就像您在 中所做的那样`cin >> p`）会调用未定义的行为。

# php - 通过按钮将图像直接下载到手机？

> ID：15182494
> 
> 赞同：0
> 
> 时间：2013-03-03T04:37:37.850
> 
> 标签：php, jquery, html, image, mobile

我想知道网页是否可以生成一个按钮，让用户可以下载图像并直接保存到他们移动设备的照片库中？预计不会打开另一个只显示图像的网页，而是让他们将图像包下载到手机中。我真的可以这样做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:46:15.130

是的，使用 php`header`包含`Content-Disposition`告诉浏览器下载为文件。

```
header('Content-Type: image/png');
header('Content-Disposition: attachment; filename="downloaded.png"'); 
```

（以 PNG 为例）

例如，用户将单击 download-photo.php，该脚本将传递这些标头，它还需要获取图像的文件内容并作为响应的有效负载包含在内。

# android - 在 GridView 中拖放项目

> ID：15182495
> 
> 赞同：3
> 
> 时间：2013-03-03T04:37:56.127
> 
> 标签：android, drag-and-drop, android-gridview

我在我的应用程序中进行了gridview。我想通过拖放重新排列 GridView 项目。假设第一个项目被拖到第二个项目上，它们的位置应该被替换。我尝试实现 Android 主屏幕的方式。但它没有用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T04:54:33.807

签出这个[库](http://www.androidviews.net/2012/12/pageddragdropgrid/)。它的灵感来自 Karan_Rana 的链接。

编辑：上述库已被弃用。可以在此处找到正在积极开发的库：[DynamicGrid](https://github.com/askerov/DynamicGrid)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T04:40:20.337

对于网格视图中的拖放，请查看以下教程：

[http://blahti.wordpress.com/2011/10/03/drag-drop-for-android-gridview/](http://blahti.wordpress.com/2011/10/03/drag-drop-for-android-gridview/)

这可以帮助你

# java - 为什么这段代码使用随机字符串打印“hello world”？

> ID：15182496
> 
> 赞同：1849
> 
> 时间：2013-03-03T04:38:06.147
> 
> 标签：java, string, random

以下打印语句将打印“hello world”。谁能解释一下？

```
System.out.println(randomString(-229985452) + " " + randomString(-147909649)); 
```

`randomString()`看起来像这样：

```
public static String randomString(int i)
{
    Random ran = new Random(i);
    StringBuilder sb = new StringBuilder();
    while (true)
    {
        int k = ran.nextInt(27);
        if (k == 0)
            break;

        sb.append((char)('`' + k));
    }

    return sb.toString();
} 
```

* * *

## 回答 #1

> 赞同：1168
> 
> 时间：2013-03-03T04:55:02.860

其他答案解释了原因，但这里是如何。

给定一个实例`Random`：

```
Random r = new Random(-229985452) 
```

生成的前 6 个数字`r.nextInt(27)`是：

```
8
5
12
12
15
0 
```

`r.nextInt(27)`生成给定的前 6 个数字`Random r = new Random(-147909649)`是：

```
23
15
18
12
4
0 
```

然后只需将这些数字添加到字符的整数表示形式```（即 96）中：

```
8  + 96 = 104 --> h
5  + 96 = 101 --> e
12 + 96 = 108 --> l
12 + 96 = 108 --> l
15 + 96 = 111 --> o

23 + 96 = 119 --> w
15 + 96 = 111 --> o
18 + 96 = 114 --> r
12 + 96 = 108 --> l
4  + 96 = 100 --> d 
```

* * *

## 回答 #2

> 赞同：949
> 
> 时间：2013-03-03T04:40:52.517

当`java.util.Random`使用特定种子参数（在本例中为`-229985452`或`-147909649`）构造 的实例时，它遵循从该种子值*开始的随机数生成算法。*

每个`Random`使用相同种子构造的每个都将每次生成相同的数字模式。

* * *

## 回答 #3

> 赞同：288
> 
> 时间：2013-03-03T15:03:46.257

我就把它留在这里。谁有很多（CPU）时间空闲，请随意尝试：）另外，如果您掌握了一些 fork-join-fu 让这个东西烧掉所有 CPU 内核（只是线程很无聊，对吧？），请分享你的代码。我将不胜感激。

```
public static void main(String[] args) {
    long time = System.currentTimeMillis();
    generate("stack");
    generate("over");
    generate("flow");
    generate("rulez");

    System.out.println("Took " + (System.currentTimeMillis() - time) + " ms");
}

private static void generate(String goal) {
    long[] seed = generateSeed(goal, Long.MIN_VALUE, Long.MAX_VALUE);
    System.out.println(seed[0]);
    System.out.println(randomString(seed[0], (char) seed[1]));
}

public static long[] generateSeed(String goal, long start, long finish) {
    char[] input = goal.toCharArray();
    char[] pool = new char[input.length];
    label:
    for (long seed = start; seed < finish; seed++) {
        Random random = new Random(seed);

        for (int i = 0; i < input.length; i++)
            pool[i] = (char) random.nextInt(27);

        if (random.nextInt(27) == 0) {
            int base = input[0] - pool[0];
            for (int i = 1; i < input.length; i++) {
                if (input[i] - pool[i] != base)
                    continue label;
            }
            return new long[]{seed, base};
        }

    }

    throw new NoSuchElementException("Sorry :/");
}

public static String randomString(long i, char base) {
    System.out.println("Using base: '" + base + "'");
    Random ran = new Random(i);
    StringBuilder sb = new StringBuilder();
    for (int n = 0; ; n++) {
        int k = ran.nextInt(27);
        if (k == 0)
            break;

        sb.append((char) (base + k));
    }

    return sb.toString();
} 
```

输出：

```
-9223372036808280701
Using base: 'Z'
stack
-9223372036853943469
Using base: 'b'
over
-9223372036852834412
Using base: 'e'
flow
-9223372036838149518
Using base: 'd'
rulez
Took 7087 ms 
```

* * *

## 回答 #4

> 赞同：260
> 
> 时间：2013-03-04T09:49:32.283

* * *

## 回答 #5

> 赞同：68
> 
> 时间：2013-03-03T18:33:40.227

我写了一个快速程序来找到这些种子：

```
import java.lang.*;
import java.util.*;
import java.io.*;

public class RandomWords {
    public static void main (String[] args) {
        Set<String> wordSet = new HashSet<String>();
        String fileName = (args.length > 0 ? args[0] : "/usr/share/dict/words");
        readWordMap(wordSet, fileName);
        System.err.println(wordSet.size() + " words read.");
        findRandomWords(wordSet);
    }

    private static void readWordMap (Set<String> wordSet, String fileName) {
        try {
            BufferedReader reader = new BufferedReader(new FileReader(fileName));
            String line;
            while ((line = reader.readLine()) != null) {
                line = line.trim().toLowerCase();
                if (isLowerAlpha(line)) wordSet.add(line);
            }
        }
        catch (IOException e) {
            System.err.println("Error reading from " + fileName + ": " + e);
        }
    }

    private static boolean isLowerAlpha (String word) {
        char[] c = word.toCharArray();
        for (int i = 0; i < c.length; i++) {
            if (c[i] < 'a' || c[i] > 'z') return false;
        }
        return true;
    }

    private static void findRandomWords (Set<String> wordSet) {
        char[] c = new char[256];
        Random r = new Random();
        for (long seed0 = 0; seed0 >= 0; seed0++) {
            for (int sign = -1; sign <= 1; sign += 2) {
                long seed = seed0 * sign;
                r.setSeed(seed);
                int i;
                for (i = 0; i < c.length; i++) {
                    int n = r.nextInt(27);
                    if (n == 0) break;
                    c[i] = (char)((int)'a' + n - 1);
                }
                String s = new String(c, 0, i);
                if (wordSet.contains(s)) {
                    System.out.println(s + ": " + seed);
                    wordSet.remove(s);
                }
            }
        }
    }
} 
```

我现在让它在后台运行，但它已经为经典的 pangram 找到了足够的单词：

```
import java.lang.*;
import java.util.*;

public class RandomWordsTest {
    public static void main (String[] args) {
        long[] a = {-73, -157512326, -112386651, 71425, -104434815,
                    -128911, -88019, -7691161, 1115727};
        for (int i = 0; i < a.length; i++) {
            Random r = new Random(a[i]);
            StringBuilder sb = new StringBuilder();
            int n;
            while ((n = r.nextInt(27)) > 0) sb.append((char)('`' + n));
            System.out.println(sb);
        }
    }
} 
```

（[ideone上的演示。](http://ideone.com/RnDYd2)）

附言。`-727295876, -128911, -1611659, -235516779`.

* * *

## 回答 #6

> 赞同：39
> 
> 时间：2014-04-13T22:47:58.660

I was intrigued by this, I ran this random word generator on a dictionary word list. Range: Integer.MIN_VALUE to Integer.MAX_VALUE

I got 15131 hits.

```
int[] arrInt = {-2146926310, -1885533740, -274140519, 
                -2145247212, -1845077092, -2143584283,
                -2147483454, -2138225126, -2147375969};

for(int seed : arrInt){
    System.out.print(randomString(seed) + " ");
} 
```

Prints

```
the quick browny fox jumps over a lazy dog 
```

* * *

## 回答 #7

> 赞同：25
> 
> 时间：2013-03-04T10:59:03.663

Most random number generators are, in fact, "pseudo random." They are Linear Congruential Generators, or LCGs ([http://en.wikipedia.org/wiki/Linear_congruential_generator](http://en.wikipedia.org/wiki/Linear_congruential_generator))

LCGs are quite predictable given a fixed seed. Basically, use a seed that gives you your first letter, then write an app that continues to generate the next int (char) until you hit the next letter in your target string and write down how many times you had to invoke the LCG. Continue until you've generated each and every letter.

* * *

## 回答 #8

> 赞同：23
> 
> 时间：2013-10-04T23:13:18.503

As multi-threading is very easy with Java, here is a variant that searches for a seed using all cores available: [http://ideone.com/ROhmTA](http://ideone.com/ROhmTA)

```
import java.util.ArrayList;
import java.util.Random;
import java.util.concurrent.Callable;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.ThreadFactory;

public class SeedFinder {

  static class SearchTask implements Callable<Long> {

    private final char[] goal;
    private final long start, step;

    public SearchTask(final String goal, final long offset, final long step) {
      final char[] goalAsArray = goal.toCharArray();
      this.goal = new char[goalAsArray.length + 1];
      System.arraycopy(goalAsArray, 0, this.goal, 0, goalAsArray.length);
      this.start = Long.MIN_VALUE + offset;
      this.step = step;
    }

    @Override
    public Long call() throws Exception {
      final long LIMIT = Long.MAX_VALUE - this.step;
      final Random random = new Random();
      int position, rnd;
      long seed = this.start;

      while ((Thread.interrupted() == false) && (seed < LIMIT)) {
        random.setSeed(seed);
        position = 0;
        rnd = random.nextInt(27);
        while (((rnd == 0) && (this.goal[position] == 0))
                || ((char) ('`' + rnd) == this.goal[position])) {
          ++position;
          if (position == this.goal.length) {
            return seed;
          }
          rnd = random.nextInt(27);
        }
        seed += this.step;
      }

      throw new Exception("No match found");
    }
  }

  public static void main(String[] args) {
    final String GOAL = "hello".toLowerCase();
    final int NUM_CORES = Runtime.getRuntime().availableProcessors();

    final ArrayList<SearchTask> tasks = new ArrayList<>(NUM_CORES);
    for (int i = 0; i < NUM_CORES; ++i) {
      tasks.add(new SearchTask(GOAL, i, NUM_CORES));
    }

    final ExecutorService executor = Executors.newFixedThreadPool(NUM_CORES, new ThreadFactory() {

      @Override
      public Thread newThread(Runnable r) {
        final Thread result = new Thread(r);
        result.setPriority(Thread.MIN_PRIORITY); // make sure we do not block more important tasks
        result.setDaemon(false);
        return result;
      }
    });
    try {
      final Long result = executor.invokeAny(tasks);
      System.out.println("Seed for \"" + GOAL + "\" found: " + result);
    } catch (Exception ex) {
      System.err.println("Calculation failed: " + ex);
    } finally {
      executor.shutdownNow();
    }
  }
} 
```

* * *

## 回答 #9

> 赞同：21
> 
> 时间：2013-03-03T04:54:32.980

随机总是返回相同的序列。它用于将数组和其他操作作为排列进行混洗。

为了获得不同的序列，有必要在某个位置初始化序列，称为“种子”。

randomSting 获取“随机”序列的第 i 个位置（种子 = -229985452）的随机数。然后将[ASCII](http://en.wikipedia.org/wiki/ASCII)码用于种子位置之后的序列中的下一个 27 个字符，直到该值等于 0。这将返回“hello”。对“世界”进行相同的操作。

我认为该代码不适用于其他任何单词。编程的人非常了解随机序列。

这是非常棒的极客代码！

* * *

## 回答 #10

> 赞同：14
> 
> 时间：2013-06-13T20:36:50.263

The principal is the Random Class constructed with the same seed will generate the same pattern of numbers every time.

* * *

## 回答 #11

> 赞同：12
> 
> 时间：2013-03-07T13:26:57.230

Derived from [Denis Tulskiy](https://stackoverflow.com/a/15187009/1208581)'s answer, this method generates the seed.

```
public static long generateSeed(String goal, long start, long finish) {
    char[] input = goal.toCharArray();
    char[] pool = new char[input.length];
    label:
        for (long seed = start; seed < finish; seed++) {
            Random random = new Random(seed);

            for (int i = 0; i < input.length; i++)
                pool[i] = (char) (random.nextInt(27)+'`');

            if (random.nextInt(27) == 0) {
                for (int i = 0; i < input.length; i++) {
                    if (input[i] != pool[i])
                        continue label;
                }
                return seed;
            }

        }

    throw new NoSuchElementException("Sorry :/");
} 
```

* * *

## 回答 #12

> 赞同：10
> 
> 时间：2013-03-06T10:01:05.113

From the Java docs, this is an intentional feature when specifying a seed value for the Random class.

> If two instances of Random are created with the same seed, and the same sequence of method calls is made for each, they will generate and return identical sequences of numbers. In order to guarantee this property, particular algorithms are specified for the class Random. Java implementations must use all the algorithms shown here for the class Random, for the sake of absolute portability of Java code.

[http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html)

Odd though, you would think there are implicit security issues in having predictable 'random' numbers.

* * *

## 回答 #13

> 赞同：8
> 
> 时间：2013-07-31T01:07:17.693

It is about "seed". Same seeds give the same result.

* * *

## 回答 #14

> 赞同：4
> 
> 时间：2016-11-03T15:58:30.240

Here is a minor improvement for Denis Tulskiy [answer](https://stackoverflow.com/a/15187009/1129332). It cuts the time by half

```
public static long[] generateSeed(String goal, long start, long finish) {
    char[] input = goal.toCharArray();

    int[] dif = new int[input.length - 1];
    for (int i = 1; i < input.length; i++) {
        dif[i - 1] = input[i] - input[i - 1];
    }

    mainLoop:
    for (long seed = start; seed < finish; seed++) {
        Random random = new Random(seed);
        int lastChar = random.nextInt(27);
        int base = input[0] - lastChar;
        for (int d : dif) {
            int nextChar = random.nextInt(27);
            if (nextChar - lastChar != d) {
                continue mainLoop;
            }
            lastChar = nextChar;
        }
        if(random.nextInt(27) == 0){
            return new long[]{seed, base};
        }
    }

    throw new NoSuchElementException("Sorry :/");
} 
```

* * *

## 回答 #15

> 赞同：3
> 
> 时间：2019-07-28T13:45:34.553

> It's all about the input **seed**. Same seed give the same results all the time. Even you re-run your program again and again it's the same output.

```
public static void main(String[] args) {

    randomString(-229985452);
    System.out.println("------------");
    randomString(-229985452);

}

private static void randomString(int i) {
    Random ran = new Random(i);
    System.out.println(ran.nextInt());
    System.out.println(ran.nextInt());
    System.out.println(ran.nextInt());
    System.out.println(ran.nextInt());
    System.out.println(ran.nextInt());

} 
```

Output

```
-755142161
-1073255141
-369383326
1592674620
-1524828502
------------
-755142161
-1073255141
-369383326
1592674620
-1524828502 
```

# plugins - 为 bitnami_redmine 安装 redmine_contacts 插件

> ID：15182500
> 
> 赞同：0
> 
> 时间：2013-03-03T04:39:07.290
> 
> 标签：plugins, redmine, sprockets

我正在尝试为我的 redmine 2.2.3.0（使用 BITNami 安装程序安装）安装 redmine_contacts 插件，如 readme.rdoc 中所示：

*   将 redmine_contacts 插件复制到您 redmine 路径上的 {RAILS_APP}/plugins
*   运行 bundle install --without development test RAILS_ENV=production
*   运行 rake redmine:plugins NAME=redmine_contacts RAILS_ENV=production

前两步成功，但最后执行最后一条命令，会出现以下错误：（在/home/.../redmine-2.2.3-0/apps/redmine/htdocs）

**在任何源中找不到 sprockets-2.2.1 运行`bundle install`以安装缺少的 gem。**

通过执行命令查看是否安装了 sprockets 库：#bundle show sprockets，它显示安装了该库的更新版本：/var/lib/gems/1.8/gems/sprockets-2.2.2

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T19:36:26.527

我认为不知何故安装的BitNami版本的gem与系统上的sprockets-2.2.2不兼容，它需要2.2.1。也许您应该更改为该版本。

尝试类似：

```
gem install sprockets -v 2.2.1 
```

# java - 在 JAX-RS jerey 中未调用异常映射器

> ID：15182501
> 
> 赞同：3
> 
> 时间：2013-03-03T04:39:07.687
> 
> 标签：java, web-services, rest, jax-rs

我正在尝试配置一个 ExceptionMapper，它将在我的应用程序中捕获所有与 404 相关的异常。这是我第一次尝试使用这个 ExceptionMapper，因此面临很多问题，可能会丢失一些愚蠢的东西:(

下面是我在**ExceptionMapper**类中所做的：

```
public class ClassNotFoundMapper implements ExceptionMapper<NotFoundException> {

@Override
public Response toResponse(NotFoundException ex) {
    return Response.status(404).entity(ex.getMessage()).type("text/plain").build();
} 
```

}

在**web.xml**我添加了这个条目：

```
<init-param>
        <param-name>com.sun.jersey.config.property.packages</param-name>
        <param-value>
            com.service.rest;
            com.service.exception
        </param-value>
    </init-param> 
```

在**服务**中，我这样做了：

```
@GET
@Path("{param}")
public Response getName(@PathParam("param") String msg, @HeaderParam("name") String headerName) {

    //SOME CODE HERE AND THEN CONDITIONALLY RETURN THE EXCEPTION
    return Response.status(Response.Status.NOT_FOUND).entity("NOT FOUND").build(); 
} 
```

ExceptionMapper 中存在的异常没有被调用。

请让我知道我错过了什么。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T06:10:45.837

您`@Provider`缺少`ClassNotFoundMapper`.

# actionscript-3 - as3 布尔变量不会从函数中传递出去

> ID：15182502
> 
> 赞同：1
> 
> 时间：2013-03-03T04:39:30.383
> 
> 标签：actionscript-3, flash-cs6

出于某种原因，我的值没有在函数之外更新。我正在尝试制作一个按钮，例如“加号”，不断向上移动影片剪辑“topArrow”。我认为布尔值是触发它的一种简单方法，但它不会在函数之外进行更新。为什么是这样？

```
import flash.events.Event;
import flash.events.MouseEvent;

var speed:Number = 1;

plus.addEventListener(MouseEvent.MOUSE_DOWN, arrow_up);
plus.addEventListener(MouseEvent.MOUSE_UP, arrow_stop);
minus.addEventListener(MouseEvent.MOUSE_DOWN, arrow_down);
minus.addEventListener(MouseEvent.MOUSE_UP, arrow_stop);

var move_up:Boolean = false;
var move_down:Boolean = false;

function arrow_up(event:MouseEvent):void
{
    trace("button pressed");
    move_up = true;
}

function arrow_stop(event:MouseEvent):void
{

    move_up = false;
    move_down = false;
}

function arrow_down(event:MouseEvent):void
{

    move_down = true;
}

while (move_up==true)
{
    topArrow.y +=  speed;
}

while (move_down==true)
{
    topArrow.y -=  speed;
}

if(move_up)
{
    trace("true");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T04:53:34.703

那些while循环很可怕，一旦move_up为真，它会进入那个循环并且永远不会退出？

我会做类似下面的事情来动画电影剪辑：

```
var speed:Number = 1;

plus.addEventListener(MouseEvent.MOUSE_DOWN, arrow_up);
plus.addEventListener(MouseEvent.MOUSE_UP, arrow_stop);
minus.addEventListener(MouseEvent.MOUSE_DOWN, arrow_down);
minus.addEventListener(MouseEvent.MOUSE_UP, arrow_stop);

stage.addEventListener(Event.ENTER_FRAME, onEnterFrame);

var move_up:Boolean = false;
var move_down:Boolean = false;

function arrow_up(event:MouseEvent):void
{
    trace("button pressed");
    move_up = true;
}

function arrow_stop(event:MouseEvent):void
{
    move_up = false;
    move_down = false;
}

function arrow_down(event:MouseEvent):void
{
    move_down = true;
}

function onEnterFrame(event:Event):void
{
   if(move_up)
       topArrow.y += speed;
   else if(move_down)
       topArrow.y -=speed;

   if(move_up)
   {
      trace("true");
   }
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-04T12:49:45.303

反编译二进制文件并查看 move_up setter 函数。

# java - Android postDelayed 工作，但不能把它放在一个循环？

> ID：15182505
> 
> 赞同：1
> 
> 时间：2013-03-03T04:40:19.040
> 
> 标签：java, android, casting, while-loop, postdelayed

对不起，我是一个菜鸟，我已经阅读了无数关于制作简单计时器的教程，并且想知道为什么它不起作用，直到我注意到它是导致问题的 while 循环 oO 我已经删除它然后它可以工作但只有 1 次我需要使用循环所以运动完成：C

继承人的代码：

old_x 是来自 ImageView 的坐标，而 new_x 来自 onTouch 事件，可能是因为我将它们转换为 int 的问题？我不知道我需要做什么才能工作，请帮助 O：

```
 while(old_x != new_x)
    {
        timedMoveIV(100);
        old_x = (int)img.getX();
    } 
```

如果我在没有循环的情况下执行此操作，它会调用此方法。

```
public void timedMoveIV(int time_ms)
{
    //sleep for time_ms milliseconds
    Handler handler = new Handler(); 
    handler.postDelayed(new Runnable() { 
         public void run() { 
            if(new_x > img.getX())
            {
            img.setX(img.getX() + 1);
            }
            else
            {
            img.setX(img.getX() - 1);   
            }
         } 
    }, time_ms);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T06:35:29.590

您的主要问题是您的循环不会中断，因此它会*不断*运行该函数，并发布大量可运行文件。

您要做的是在另外 100 毫秒后*自行调用 runnable。*看看这个例子：

```
if(old_x != new_x)
    timedMoveIV(100); 
```

在这里，您只需调用该函数一次。之后，您让发布的 runnable 决定它是否需要再次移动：

```
public void timedMoveIV(final int time_ms)
{
    Handler handler = new Handler(); 
    handler.postDelayed(new Runnable() { 
        public void run() 
        { 
            if(new_x > img.getX())
                img.setX(img.getX() + 1);
            else
                img.setX(img.getX() - 1); 

            // if not in position, call again
            if((int)img.getX() != new_x)
                timedMoveIV(time_ms); 
        } 
    }, time_ms);
} 
```

它应该停止一次`img.getX() == new_x`。但是请注意转换为`int`，因为如果您将其排除在外，您可能会在它到达目标像素的范围内时出现一些振荡。

这假设`new_x`是一个`int`. 如果它也是一个浮点数，您应该将两者都转换为 int 进行比较，或者将它们与最小阈值进行比较。例如，如果差异小于`0.5`差异，则将其视为“完成”。

# c++ - 当 T 是指针类型时 const T 的含义？

> ID：15182509
> 
> 赞同：2
> 
> 时间：2013-03-03T04:40:35.437
> 
> 标签：c++, templates, pointers, c++11, constants

考虑到：

```
char* ptr;             // 1) a non-constant pointer to a non-constant char
const char* ptr;       // 2) a non-constant pointer to a constant char
char* const ptr;       // 3) a constant pointer to a non-constant char
const char* const ptr; // 4) a constant pointer to a constant char 
```

当我写：

```
#include <iostream>

template <class T>
void f(const T ptr) 
{;}

int main(int argc, char* argv[])
{
    char a = 'a';
    f(&a);
    return 0;
} 
```

2) 或 3)的类型是什么`ptr`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T04:43:42.187

`T`是指向非 const 的指针`char`，因此`const T`是指向非 const 的常量指针`char`。

# c# - 导航和收集方法期间的 FatalExecutionEngineError

> ID：15182514
> 
> 赞同：0
> 
> 时间：2013-03-03T04:41:05.593
> 
> 标签：c#, sqlite, windows-runtime, mvvm-light

这可能是一个 mvvm-light 问题，而不是一个 winrt 问题，但我有一个使用 mvvm-light 和用 C# 编写的 SQLite 的应用程序。这是一个电视节目库应用程序，可在主页上显示您的所有系列。然后，您可以深入了解您拥有的剧集等等。无论如何，我使用 mvvm-light messenger 将数据从系列库页面的视图模型发送到剧集页面的视图模型。在收到消息后，我使用 SQLite 填充名为 CombinedVMs 的 ObservableCollection<object> 集合。

问题在于，我在进行此导航时似乎确实存在随机错误。错误是代码 80131544，我无法从调试器中获取任何其他信息，因为“本机框架位于调用堆栈的顶部”。该错误似乎总是在我的 CombinedVMs 集合中停止，通常是在我尝试添加它时。有时，当我点击后退按钮并调用一个方法来清除 CombinedVMs 集合时会发生错误。我有时可以多次在系列之间来回导航......有时我可以在它遇到错误之前只做两次。

当我将代码从在剧集视图上使用分组 GridView 控件更改为使用 ItemTemplateSelector 区分季节标题和剧集的非分组 GridView 时，这才开始发生在我身上。我使用 CombinedVMs (ObservableCollection<object>) 来保存 SeasonItemViewModels 和 EpisodeItemViewModels。

我想知道这是否与我如何设置代码的 mvvm-light 部分有关。以下是我的导航方式。

```
public RelayCommand GoToSeriesCommand
{
    get
    {
        return _gotoSeriesCommand ?? (_gotoSeriesCommand = new RelayCommand(() =>
              {
                  SimpleIoc.Default.GetInstance<SeriesViewModel>();
                  Messenger.Default.Send<NavigateToSeriesViewMessage>(new NavigateToSeriesViewMessage() 
                  { 
                      FolderGuid = this.FolderGuid,
                      DisplayName = this.DisplayName,
                      FanartPathList = this.FanartPathList,
                      SeriesId = this.SeriesId
                  });
                  MainViewModel._navigationService.Navigate(typeof(SeriesView));
              }));
    }
} 
```

我的 ViewModelLocator 里面有这个是相关的：

```
static ViewModelLocator()
{
    ServiceLocator.SetLocatorProvider(() => SimpleIoc.Default);

    if (ViewModelBase.IsInDesignModeStatic)
    {
        SimpleIoc.Default.Register<IDataService, Design.DesignDataService>();
        SimpleIoc.Default.Register<INavigationService, DesignNavigationService>();
    }
    else
    {
        SimpleIoc.Default.Register<IDataService, DataService>();
        SimpleIoc.Default.Register<INavigationService>(() => new NavigationService());
    }

    SimpleIoc.Default.Register<SeriesViewModel>();

}

public SeriesViewModel SeriesVM
{
    get
    {
        return ServiceLocator.Current.GetInstance<SeriesViewModel>();
    }
}

static public SeriesViewModel SeriesVMStatic
{
    get
    {
        return ServiceLocator.Current.GetInstance<SeriesViewModel>();
    }
} 
```

无论如何，我很难过。我不知道如何进行。微软论坛上有一个关于这个特定错误代码的主题，但它是从去年开始的，并且声称它已从更新中修复。

我还能提供什么吗？我不知道从这里去哪里....提前谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T12:16:38.090

不久前我有一个。如果您使用了非托管资源并且没有正确清理它们，它们就会发生。您可能会发现 SQLLite DB 正在使用非托管代码。我建议您仔细检查并确保在使用后处理所有 SQLLite 实例。

# java - 通过 windows 命令提示符运行 NetBeans java 项目

> ID：15182517
> 
> 赞同：0
> 
> 时间：2013-03-03T04:41:29.020
> 
> 标签：java, netbeans

我用netbeans 6.9.1和jdk 1.6写了一个java程序。我不想使用 netbeans 的输出窗口，因为它有点慢。我正在使用 Windows xp sp3，我想通过 cmd 运行。我试图在项目**属性中找到-> 运行**，但那里什么也没有。

![在此处输入图像描述](../Images/ccf077dbc7bb473020db486f1f8dfaa5.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T04:51:02.040

如果您在 netbeans 中运行项目，它应该要求您选择主类。在您的情况下，这已经完成，因为`sample.Graph`该`Main Class`字段中有一个值。

然后执行`clean and build`并查看输出窗口。它应该告诉您`java -jar`使用什么命令在命令行上运行程序。

# loops - 如何打印未知数量的结果？

> ID：15182518
> 
> 赞同：0
> 
> 时间：2013-03-03T04:41:47.120
> 
> 标签：loops, scanf, printf

第一次发帖，也是 C 的初学者。我的问题是如何打印未知数量的结果？以这段代码为例：

```
#include <stdio.h>

int main(void)
{
    int a,b,c;
    b=0;

    printf("Enter the number of terms: ");
    scanf("%d", &a);

    for(b=0; b<=a; ++a)
    {
        printf("\n\nEnter the value of each term: ");
        scanf("%d",&c);
    }

printf("\n\n%d",c);

    return(0);
} 
```

我想打印最后输入的所有值，但 Idk 如何调整它以便打印 1,2 等值。

PS我怎样才能在while循环中使用fprintf来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:45:58.890

您将需要使用所谓的数组来存储您的数据。您可以将 Array 想象成一个带有不同抽屉的文件柜。每个抽屉可以存储一个值，您可以通过引用其索引来访问该抽屉。

您可以在此处了解有关 C 中的数组的所有信息： [http ://www.thegeekstuff.com/2011/12/c-arrays/](http://www.thegeekstuff.com/2011/12/c-arrays/)

祝你好运！

编辑：这是 fprintf 的示例：

```
/* fprintf example */
#include <stdio.h>

int main ()
{
   FILE * pFile;
   int n;
   char name [100];

   pFile = fopen ("myfile.txt","w");
   for (n=0 ; n<3 ; n++)
   {
     puts ("please, enter a name: ");
     gets (name);
     fprintf (pFile, "Name %d [%-10.10s]\n",n,name);
   }
   fclose (pFile);

   return 0;
} 
```

# matlab - 为 sqp 提供 Hessian 函数时的八度错误

> ID：15182524
> 
> 赞同：2
> 
> 时间：2013-03-03T04:42:32.487
> 
> 标签：matlab, octave, mathematical-optimization, hessian-matrix

我正在尝试以八度解决以下优化问题

![公式](../Images/47f2c914f7b9fdf5d1c35c86e6b1a5f2.png)

第一个约束是 A 是[半正定的](http://en.wikipedia.org/wiki/Positive-semidefinite_matrix#Negative-definite.2C_semidefinite_and_indefinite_matrices)。S 是一组数据点，如果 (xi,xj) 在 S 中，则 xi 与 xj 相似，D 是一组数据点，如果 (xi,xj) 在 D 中，则 xi 和 xj 不相似。请注意，上面的公式是 2 个单独的总和，第二个总和没有嵌套。还假设 xi 和 xj 是长度为 N 的列向量。

因为这是一个非线性优化，我正在尝试使用 octave 的[非线性程序求解器 sqp。](http://www.gnu.org/software/octave/doc/interpreter/Nonlinear-Programming.html) 问题是，如果我只是为它提供优化的功能，在一些小玩具测试中，找到[Hessian](http://en.wikipedia.org/wiki/Hessian_matrix#Bordered_Hessian)的 BFGS 方法会 失败。因此，我尝试提供自己的 Hessian 函数，但现在出现此问题

```
error: __qp__: operator *: nonconformant arguments (op1 is 2x2, op2 is 3x1)
error: called from:
error:   /usr/share/octave/3.6.3/m/optimization/qp.m at line 393, column 26
error:   /usr/share/octave/3.6.3/m/optimization/sqp.m at line 414, column 32 
```

当我对 sqp 进行以下调用时

```
[A, ~, Info] = sqp(initial_guess, {@toOpt, @CalculateGradient,@CalculateHessian},
[],[],0,[],maxiter); 
```

我通过仅求解对角线条目并将所有对角线条目限制为 >=0 来简化 A 为半正定和对角线的约束。initial_guess 是 N 长的向量。

这是我计算我认为是 Hessian 矩阵的代码

```
%Hessian = CalculateHessian(A)
%calculates the Hessian of the function we are optimizing as follows
%H(i,j) = (sumsq(D(:,i),1) * sumsq(D(:,j),1)) / (sum(A.*sumsq(D,1))^2)
%where D is a matrix of of differences between observations that are dissimilar, with one difference on each row
%and sumsq is the sum of the squares
%input A: the current guess for A
%output Hessian: The hessian of the function we are optimizing
function Hessian = CalculateHessian(A)
    global HessianNumerator; %this is a matrix with the numerator of H(i,j)
    global Dsum_of_squares; %the sum of the squares of the differences of each dimensions of the dissimilar observations

    if(iscolumn(A)) %if A is a column vector
        A = A'; %make it a row vector. necessary to prevent broadcasting
    endif

    if(~isempty(Dsum_of_squares)) %if disimilar constraints were provided   
        Hessian = HessianNumerator / (sum(A.*Dsum_of_squares)^2)
    else
        Hessian = HessianNumerator; %the hessian is a matrix of 0s
    endif

endfunction 
```

和 Dsum_of_squares 和 HessianNumertor 是

```
[dissimilarRow,dissimilarColumn] = find(D); %find which observations are dissimilar to each other
DissimilarDiffs = X(dissimilarRow,:) - X(dissimilarColumn,:); %take the difference between the dissimilar observations
Dsum_of_squares = sumsq(DissimilarDiffs,1);
HessianNumerator = Dsum_of_squares .* Dsum_of_squares'; %calculate the numerator of the Hessian. it is a constant value 
```

X 是一个 M x N 矩阵，每行有一个观测值。

D 是 M x M 相异矩阵。如果 D(i,j) 为 1，则 X 的第 i 行与第 j 行不同。否则为 0。

我相信我的错误出现在以下领域之一（从最不可能到最有可能）

1.  我用来推导 Hessian 函数的数学是错误的。我使用的公式在我对该函数的评论中。
2.  我的数学实现。
3.  sqp 想要的 Hessian 矩阵与 Hessian Matrix Wikipedia 页面上描述的不同。

任何帮助将不胜感激。如果您需要我发布更多代码，我很乐意这样做。目前，尝试解决优化问题的代码量约为 160 行。

这是我正在运行的导致代码失败的测试用例。如果我只将梯度函数传递给它，它就可以工作。

```
X = [1 2 3; 
     4 5 6; 
     7 8 9; 
     10 11 12];
S = [0 1 1 0; 
     1 0 0 0; 
     1 0 0 0; 
     0 0 0 0]; %this means row 1 of X is similar to rows 2 and 3
D = [0 0 0 0; 
     0 0 0 0;
     0 0 0 1;
     0 0 1 0]; %this means row 3 of X is dissimilar to row 4
gml(X,S,D, 200); %200 is the maximum number of iterations for sqp to run 
```

# image - 使用 grails 和 oracle 保存和显示 blob 数据

> ID：15182527
> 
> 赞同：0
> 
> 时间：2013-03-03T04:43:29.550
> 
> 标签：image, grails, blob

我想使用 grails 将图像保存并显示到 oracle 10g 中的 blob 字段中。如果我在数据库中使用 Long raw 字段，那么它可以工作。但在 blob 字段的情况下，它会保存但不会显示在视图页面中。

这是代码：

```
 //Domain
    class Hotel{

      byte [] pic_

      static mapping={}

      static constraints = {}

    }

    //Controller

    Class contrl
    {

      def save() {
        def hotelInstance = new Hotel(params)
        if (!hotelInstance.save(flush: true)) {
        render(view: "create", model: [hotelInstance: hotelInstance])
        return
        }

          flash.message = message(code: 'default.created.message', args: [message(code:       'hotel.label', default: 'Hotel'), hotelInstance.id])
          redirect(action: "show", id: hotelInstance.id)
        }

      }

    def displayLogo () {
      def sponsor = Hotel.get(params.id)
      response.contentType = "image/jpg"
      response.contentLength = sponsor?.pic_.length
      response.outputStream.write(sponsor?.pic_)
      response.outputStream.flush()
    }

      //View
      <td><img src="${createLink(action:'displayLogo ', id:hotelInstance?.id)}"     height="42"    width="42" /> </td> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T13:21:32.903

使用斑点。你的哑剧类型也是错误的

```
Hotel hotel = Hotel.get(params.id)
response.contentType = 'image/jpeg'
response.outputStream << hotel.pic_
response.outputStream.flush() 
```

我还看到在你的操作名称后面有一个空格`createLink`。我怀疑它会破坏任何东西，但请摆脱它。

# c# - 如何从会话中取回结果

> ID：15182533
> 
> 赞同：-1
> 
> 时间：2013-03-03T04:43:46.790
> 
> 标签：c#, .net, session, foreach, ienumerable

在实体框架上工作 vs2010

执行我的 linq 查询后得到一个记录列表，想把这条记录放在会话中。现在从会话想要取回我的记录列表，该怎么做如何从会话中取回记录

LINQ查询

```
 public IEnumerable GetSearchUserGroupPermissionData(int userID = 0)
        {
                var query = from p in this.Context.CmnPermissionGroupUsers
                        join q in this.Context.CmnPermissionGroups on p.PermissionGroupID equals q.PermissionGroupID
                        join r in this.Context.CmnPermissionGroupDocs on p.PermissionGroupID equals r.PermissionGroupID
                        join s in this.Context.CmnUserInfoes on p.UserID equals s.UserID
                        join t in this.Context.CmnDocLists on r.DocListID equals t.DocListID
                        //join u in this.Context.CmnModuleFormCompanies on t.ModuleID equals u.ModuleID
                        //join v in this.Context.CmnModuleLists on u.ModuleID equals v.ModuleID
                        //join w in this.Context.CmnFormLists on u.FormID equals w.FormID

                        where p.IsDeleted == false
                        select new
                        {
                            RecordID = p.PermissionGroupUserRecordID,
                            s.UserID,
                            s.UserFirstName,
                            q.PermissionGroupName,
                            p.EffectiveDate,
                            p.StatusID,
                            t.DocListID,
                            t.DocName,
                            t.ModuleID,
                           // v.ModuleName,
                           // u.FormID,
                            //          t.FormName,
                          //  w.FormName,
                            t.ParentID,
                            t.Sequence,
                            t.IsApprovalRequired,
                            t.CompanyCategoryID,                            
                            t.DocTypeID

                            //p.CreateBy,
                            //p.CreateOn,
                            //p.CreatePc,
                            //p.UpdateBy,
                            //p.UpdateOn,
                            //p.UpdatePc,
                            //p.IsDeleted,
                            //p.DeleteBy,
                            //p.DeleteOn,
                            //p.DeletePc,
                            //p.Transfer
                        };   
         return query.WhereIf(userID != 0, w => w.UserID == userID).ToList();    
        } 
```

将结果放入会话

```
Session["UserPermission"] = new PermissionGroupUserController().GetSearchUserGroupPermissionData(objEntity.UserID); 
```

现在，想从 session.bellow foreach 语法区域中取回记录集作为一个项目，其中包含每一行的所有属性和值，但不能像下面这样在变量中赋值，为什么不能将 AnonymousType 变量值分配给变量。 ![在此处输入图像描述](../Images/4be5bbeb66bcaf09e61f00b68e51dc25.png) var o = Session["UserPermission"] as IEnumerable; //使用强制转换 foreach (var area in o) { //int a = area.UserID; }

注意：上面的语法我是怎么出错的

> 消息：foreach 语句无法对“object”类型的变量进行操作，因为“object”不包含“GetEnumerator”的公共定义

如果有任何疑问，请询问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:12:47.127

您是否尝试过类型`o`转换`IEnumerable`？

除此之外，在您的`foreach`循环中，您必须使用`dynamic`而不是`var`. 这是必需的，因为您的类型是匿名的。

但我仍然强烈建议您使用普通类型而不是匿名类型，至少有两个原因

1.  代码可重用性。
2.  更好的代码可读性。

# php - 为什么我的 AJAX 调用在 Internet Explorer 中编辑返回的文本？

> ID：15182537
> 
> 赞同：1
> 
> 时间：2013-03-03T04:44:21.723
> 
> 标签：php, javascript, ajax, internet-explorer

我已经设置了一个脚本来调用我的服务器并返回一个 JSON 字符串。调用的目的是返回登录到我的聊天站点的用户数。但是，在服务器发回数据和我的 javascript 接受数据之间的某个地方，数据被修改了。我使用以下逻辑缩小了范围：

1.  Chrome 和 Firefox 都可以完美运行
2.  Internet Explorer 没有。
3.  每一步都有断点的开发工具显示返回的数据在脚本开始时已经不正确。
4.  从逻辑上讲，我前往我的 php 脚本。我直接从 IE 调用它，它回显了正确的数据。

预期数据：

```
{"BestOfLife":0,"Faith":0,"BookLovers":0,"Leather":0,"Debate":0,"Sheets":0,"TheRoom":0,"TheOtherRoom":0,"GayDudes":0,"Religion":0,"Brains":0,"Flames":0,"Arrow":0,"Bow":0,"Main":3} 
```

返回数据：

```
{"BestOfLife":0,"Faith":0,"BookLovers":0,"Leather":0,"Debate":0,"Sheets":0,"TheRoom":0,"TheOtherRoom":0,"GayDudes":0,"Religion":0,"Brains":0,"Flames":0,"Arrow":0,"Bow":0,"Main":2} 
```

注意最后一个键持有不同的数字。在大多数机器上（在全国范围内测试），这始终返回 2。在我的，有时，它返回三个。这些数字应该经常变化（基于用户数量）。

这是javascript：

```
var userCount = createXmlHttpRequestObject();

function createXmlHttpRequestObject(){
var userCount;  

if(window.ActiveXObject){
    try{
        userCount = new ActiveXObject("Microsoft.XMLHTTP"); 
    }catch(e){
        userCount = false;
    }
}else{
    try{
        userCount = new XMLHttpRequest();
    }catch(e){
        userCount = false;
    }
}

if(!userCount){
    console.log("Can't Show User Count");
}else{
    return userCount;   
}
}

function process(){
if(userCount.readyState==0 || userCount.readyState==4){
    serverCall = "";

    userCount.open("GET", "/src/pfcusercount.php?serverCall=" + serverCall, true);

    userCount.onreadystatechange = handleServerResponse;

    userCount.send(null);

}else{
    setTimeout('process()', 1000);
}
}

function handleServerResponse(){
if(userCount.readyState==4){
    if(userCount.status==200){
            xmlResponse = userCount.responseXML;
            xmlDocumentElement = xmlResponse.documentElement;
            jsonString = xmlDocumentElement.firstChild.data;

            var roomArray = eval('(' + jsonString + ')');

            //set All the room counts

            if(roomArray['Main'] == 1){

                document.getElementById("userCount").innerHTML = '<span style="color:red">You are the only user online!</span>';

            }else{

                document.getElementById("userCount").innerHTML = '<span style="color:red">There are ' + roomArray['Main'] + ' users online!</span>';
            }

            document.getElementById("BestOfLifeC").innerHTML = '<span style="color:red">(' + roomArray['BestOfLife'] + ')</span> BestofLife'; 
            document.getElementById("FaithC").innerHTML = '<span style="color:red">(' + roomArray['Faith'] + ')</span> Faith';
            document.getElementById("BookLoversC").innerHTML = '<span style="color:red">(' + roomArray['BookLovers'] + ')</span> BookLovers';
            document.getElementById("LeatherC").innerHTML = '<span style="color:red">(' + roomArray['Leather'] + ')</span> Leather';
            document.getElementById("DebateC").innerHTML = '<span style="color:red">(' + roomArray['Debate'] + ')</span> Debate';
            document.getElementById("SheetsC").innerHTML = '<span style="color:red">(' + roomArray['Sheets'] + ')</span> Sheets';
            document.getElementById("TheRoomC").innerHTML = '<span style="color:red">(' + roomArray['TheRoom'] + ')</span> TheRoom';
            document.getElementById("TheOtherRoomC").innerHTML = '<span style="color:red">(' + roomArray['TheOtherRoom'] + ')</span> TheOtherRoom';
            document.getElementById("GayDudesC").innerHTML = '<span style="color:red">(' + roomArray['GayDudes'] + ')</span> GayDudes';
            document.getElementById("ReligionC").innerHTML = '<span style="color:red">(' + roomArray['Religion'] + ')</span> Religion';
            document.getElementById("BrainsC").innerHTML = '<span style="color:red">(' + roomArray['Brains'] + ')</span> Brains';
            document.getElementById("FlamesC").innerHTML = '<span style="color:red">(' + roomArray['Flames'] + ')</span> Flames';
            document.getElementById("ArrowC").innerHTML = '<span style="color:red">(' + roomArray['Arrow'] + ')</span> Arrow';
            document.getElementById("BowC").innerHTML = '<span style="color:red">(' + roomArray['Bow'] + ')</span> Bow';

            setTimeout('process()', 1000);

    }else{
        console.log("Unable to show user counts!");
    }
}
} 
```

这是 PHP 脚本的链接，它将根据需要为您回显数据：

```
http://www.lgbts-chat.com/src/pfcusercount.php 
```

请帮助 :) 随意创建一个用户帐户用于测试目的。目前，注册不进行电子邮件验证，以使其易于调试。如果需要，输入一个假的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:25:03.570

好的，我终于想通了。问题最终成为 Internet Explorer（相当烦人的）缓存 ajax 的倾向。当我退出浏览器，重新打开聊天站点并重新登录时，我注意到了这一点，用户计数将始终为总计数 - 1（因为它还没有考虑到我 [新用户]）。从那时起，返回的字符串总是相同的。我的解决方案是修改我的电话：

```
userCount.open("GET", "/src/pfcusercount.php?serverCall=" + serverCall, true); 
```

由于我只是使用 serverCall 作为占位符以防将来需要，因此我在其上方添加了这一行：

```
serverCall = Math.random(); 
```

这诱使 Internet Explorer 认为每个 AJAX 都是完全不同的实体。故事的寓意：IE 的死亡。

# html - 底部对齐有问题

> ID：15182540
> 
> 赞同：0
> 
> 时间：2013-03-03T04:45:47.413
> 
> 标签：html, css, vertical-alignment

我试图让我的一个页面上的项目在底部排列。现实世界的例子是[http://www.silverartcollector.com](http://www.silverartcollector.com)。您可以在主页上看到内容区域，有 2 个具有不同尺寸图像的产品框，这将是常见的。我希望底部对齐，这样看起来更整洁。我试过在我的主类上做垂直对齐：底部但它不起作用，我假设是因为浮动：左。但是，经过数小时的测试，我无法弄清楚。我感谢任何输入/帮助。

这是页面代码：

```
<div class="float_r" id="content">
<h3>Recent Additions</h3><br>

<div class="product_box">
<a href="productdetail.php?id=1"><img width="150" src="admin/uploads/ONE-7 O.JPG"></a>
<h3>Huck Finn</h3>
<p class="product_price">One Mint</p>
<!--<a href="#" class="add_to_card">ONE-7</a><br/>-->
<a class="detail" href="productdetail.php?id=1">Details</a>
</div>          

<div class="product_box">
<a href="productdetail.php?id=20"><img width="150" src="admin/uploads/MLM-11 O.jpg"></a>
<h3>Keep Me &amp; Never Go Broke</h3>
<p class="product_price">Mother Lode Mint</p>
<!--<a href="#" class="add_to_card">MLM-11</a><br/>-->
<a class="detail" href="productdetail.php?id=20">Details</a>
</div>          

</div> 
```

这是样式表：

```
/*

Credit: http://www.templatemo.com

*/

body {

    margin: 0;

    padding: 0;

    color: #999;

    font-family: Tahoma, Geneva, sans-serif;

    font-size: 12px;

    line-height: 1.4em; 

    background-color: #2e2e2e;

    background-repeat: repeat;

    background-image: url(../images/templatemo_body.jpg)

}

a, a:link, a:visited { 

    color: #08aee3; 

    font-weight: normal; 

    text-decoration: none; 

}

a:hover { 

    text-decoration: underline; 

}

a.more { 

    display: inline-block; 

    width: 80px; 

    height: 28px; 

    line-height: 28px; 

    text-align: center; 

    font-size: 10px; 

    font-weight: bold; 

    color: #21bdd0; 

    background: url(../images/more_but.jpg); 

}

a.more:hover { 

    background: #333; 

    text-decoration: none; 

}

p { 

    margin: 0 0 10px 0; 

    padding: 0; 

}

img { 

    border: none; 

}

blockquote { 

    border: 1px solid #ccc; 

    border-left: 5px solid #000; 

    padding: 19px; 

    margin: 20px 0 0 0;

}

cite a, cite a:link, cite a:visited  { 

    font-size: 12px; 

    text-decoration: none; 

    font-style: normal; 

}

cite span { 

    font-weight: 400; 

    color: #333; 

}

.templatemo_list { 

    margin: 10px 0 10px 15px; 

    padding: 0; 

    list-style: none; 

}

.templatemo_list li { 

    color:#636363; 

    margin: 0 0 5px 0; 

    padding: 0 0 0 15px; 

    background: url(../images/templatemo_list.png) no-repeat scroll 0 7px;  

}

.templatemo_list li a { 

    color: #636363; font-weight: normal; 

}

.templatemo_list li a:hover { 

    color: #000; 

}

h1, h2, h3, h4, h5, h6, h7, h8{ 

    color: #333; 

    font-weight: normal; 

}

h1 { 

    font-size: 30px; 

    margin: 0 0 30px; 

    padding: 5px 0; 

}

h2 { 

    font-size: 26px; 

    margin: 0 0 25px; 

    padding: 5px 0;

}

h3 { 

    font-size: 20px; 

    margin: 0 0 20px; 

    padding: 0; 

}

h4 { 

    font-size: 16px; 

    margin: 0 0 15px; 

    padding: 0; 

}

h5 { 

    font-size: 14px; 

    margin: 0 0 10px; 

    padding: 0; 

}

h6 { 

    font-size: 12px; 

    margin: 0 0 5px; 

    padding: 0; 

}

h7 { 

    font-size: 16px; 

    margin: 0 0 15px; 

    padding: 0; 

    line-height:150%

}

h8 { 

    line-height:150%;

    font-size: 14px; 

    margin: 0 0 15px; 

    padding: 0; 

    color: white;

}

.cleaner { clear: both }

.h10 { height: 10px }

.h20 { height: 20px }

.h30 { height: 30px }

.h40 { height: 40px }

.h50 { height: 50px }

.float_l { float: left }

.float_r { float: right }

#templatemo_wrapper {

    width: 960px;

    margin: 0 auto;

    padding: 0 10px 10px;

}

#templatemo_header {

    width: 100%;

    padding: 50px 0 10px;

}

#templatemo_menu {

    width: 100%;

    height: 77px;

    margin-bottom: 3px;

    background: url(../images/templatemo_menu.jpg) repeat-x

}

#templatemo_middle {

    width: 100%;

    height: 200px;

    margin-bottom: 3px;

    padding-bottom: 2px;

    background: #fff url(../images/templatemo_middle.jpg) repeat-x bottom

}

#templatemo_main {

    width: 100%;

    margin-bottom: 10px;

}

#content { 

    width: 680px; 

    background: #ffffff; 

    border: 1px solid #fff; 

    padding: 15px; 

}

#sidebar { width: 240px }

#templatemo_footer {

    width: 960px;

    text-align: center; 

    padding: 9px 0px;

    background: #121212;

    border: 1px solid #3a3a3a

}

#site_title { 

    float: left; 

}

#site_title h1 { 

    margin: 0; 

    padding: 0; 

}

#site_title h1 a { 

    display: block; 

    width: 300px; 

    height: 20px; 

    font-size: 12px; 

    text-indent: -10000px; 

    color: #999; 

    text-align: left; 

    background: url(../images/logo.gif) no-repeat top left; 

}

#header_right { 

    float: right; 

    margin-top: 5px; 

}

#header_right a { 

    color: #ccc; 

}

#menu_second_bar { 

    padding: 5px 10px; 

}

#top_shopping_cart { 

    float: left;

    padding: 5px 0; 

    font-size: 11px; 

}

#templatemo_search { 

    float: right; 

}

#templatemo_search form {

    margin: 0;

    padding: 0;

}

#templatemo_search .txt_field {

    float: left;

    display: block;

    margin-right: 5px;

    height: 24px;

    line-height: 24px;

    width: 300px;

    color: #999;

    font-size: 12px;

    padding: 0 5px;

    font-variant: normal;

    border: 1px solid #666; 

    background: #333;

}

#templatemo_search .sub_btn {

    float: right;

    display: block;

    color: #fff;

    height: 26px;

    font-size: 11px;

    font-weight: 700;

    line-height: 26px;

    cursor: pointer;

    border: 1px solid #333;

    background: #0ec4f7;    

}

.sidebar_box {

    position: relative;

    background: #4c4a4a;

    margin-bottom: 20px;

}

.sidebar_box h3 { 

    font-size: 14px; 

    font-weight: 700; 

    padding: 10px; 

    width: 220px; 

    height: 20px; 

    margin-bottom: 0; 

    background: url(../images/templatemo_sidebar_header.jpg) no-repeat; color: #999 

}

.sidebar_box span.bottom {

    position: absolute;

    bottom: -26px;

    left: 0;

    width: 240px;

    height: 26px;

    background: url(../images/templatemo_sidebar_bottom.jpg)    

}

#sidebar .sidebar_box .content {

    padding: 10px 10px 0;

}

#sidebar .sidebar_list { 

    margin: 0; 

    padding: 0; 

    list-style: none; 

}

#sidebar .sidebar_list li { 

    display: block; 

    margin: 0; 

    padding: 3px 0; 

    border-top: 1px solid #595858; 

    border-bottom: 1px solid #343434;

}

#sidebar .sidebar_list li.first { 

    border-top: none; 

}

#sidebar .sidebar_list li.last { 

    border-bottom: none; 

}

#sidebar .sidebar_list li a { 

    color: #d6d3d3;   

}

#sidebar .sidebar_list li a:hover { 

    color: #fff; 

    text-decoration: none; 

}

.bs_box { clear: both; margin-bottom: 20px }

.bs_box img { float: left; margin-right: 10px; border: 4px solid #3d3d3d }

.bs_box h4 { margin-bottom: 0 }

.bs_box h4 a { font-size: 12px; color: #08aee3; font-weight: 700}

.bs_box .price { font-size: 12px; font-weight: 700; color: #fff }

.product_box {

    float: left;

    width: 225px;

    text-align: center;

    margin: 0 0px 0px 0;

}

.product_box img {

    margin-bottom: 5px;

}

.product_box h3 {

    font-size: 11px;

    color: #000;

    font-weight: 700;

    margin-bottom: 10px;

}

.product_box .product_price {

    color: #8fb410;

    font-size: 14px;

    font-weight: 700;

}

.product_box .add_to_card {

    float:left;

    display: block;

    width: 140px;

    height: 28px;

    line-height: 28px;  

    text-align: center;

    color: #fff;

    background: url(../images/add_to_cart.jpg);

    margin-left: 42.5px;

}

.product_box .detail {

    float: left;

    display: block;

    width: 140px;

    height: 28px;

    line-height: 28px;

    text-align: center; 

    background: url(../images/detail.jpg);

    margin-left: 42.5px;

}

.checkout input { 

    border: 1px solid #ccc; 

    margin-bottom: 15px; 

    padding: 5px; 

}

#contact_form { 

    padding: 0; 

    width: 312px; 

    margin-bottom: 40px; 

}

#contact_form form { 

    margin: 0px; 

    padding: 0px; 

}

#contact_form form .input_field { 

    width: 300px; 

    padding: 5px; 

    color: #222;  

    background: #fff; 

    border: 1px solid #dedede;  

    font-size: 12px;

    font-family: Tahoma, Geneva, sans-serif;

    margin-top: 5px; 

}

#contact_form form label { 

    display: block; 

    width: 100px; 

    margin-right: 12px; 

    font-size: 13px; 

}

#contact_form form textarea { 

    width: 300px; 

    height: 200px; 

    padding: 5px; 

    color: #222; 

    background: #fff; border: 1px solid #dedede;  

    font-size: 12px;

    font-family: Tahoma, Geneva, sans-serif;

    margin-top: 5px; 

}

#contact_form form .submit_btn { 

    padding: 5px 12px; 

    background-color: #000; 

    border: 1px solid #fff; 

    color: #fff; 

    font-size:14px; 

    margin: 10px 0px;

}

.faq h3 { font-size: 14px; margin: 30px 0 5px }

.content_half { 

    width: 320px; 

}

.content_13 { 

    width: 220px; 

    margin-right: 10px; 

}

.no_margin_right { 

    margin-right: 0; 

}

#templatemo_footer { 

    color: #707070; 

}

#templatemo_footer a {

    color: #999; 

}

.question {
position:relative;
display: inline-block;
text-align:center;
left:-1em;
top:-5em;
padding: 10px 0px 0px 0px;
width: 174px;
height: 58px;
color:black;
font-weight:bold;
font-size: 13px;
line-height: 1.3em;
background: url('../admin/images/bubble.png') left top no-repeat;
opacity:0;
z-index:1;
}

.yes{
margin-top: .5em;
margin-right: .5em;
cursor: pointer;
display: inline-block;
width: 63px;
height: 21px;
color: #434d17;
text-shadow: 0px 1px 0px #fff;
background: url('../admin/images/buttony.png') left top no-repeat;
}

.cancel {
margin-top: .5em;
margin-right: .5em;
cursor: pointer;
display: inline-block;
width: 63px;
height: 21px;
color: #fff;
text-shadow: 0px 1px 0px #000;
background: url('../admin/images/buttonn.png') left top no-repeat;

}

.mint_box {

    float: left;

    width: 300px;

    text-align: left;

    margin: 0 10px 10px 0;

}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T09:22:33.153

我认为一种`inline-block`方法可以满足您的要求：

```
.product_box {
    display: inline-block;
    margin: 0;
    text-align: center;
    vertical-align: bottom;
    width: 225px;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T08:53:32.710

您可以使用相对定位来向下移动 div，但是，您需要给 Keep Me & Never Go Broke div 一个唯一的 id

添加到 div

```
id="whatever_u_want_to_call_it" 
```

然后将 id 设置为具有相对位置

```
#whatever_u_want_to_call_it{
position: relative;
bottom: -215px;
} 
```

# algorithm - O(n) 或更快的算法按 levenshtein 距离对列表进行排序？

> ID：15182544
> 
> 赞同：0
> 
> 时间：2013-03-03T04:46:22.833
> 
> 标签：algorithm, function, sorting, hash, levenshtein-distance

是否有 O(n) 或更快的算法用于按 levenshtein 距离对列表进行排序？我看过一些关于 SO 的解决方案，但它们都调用了传统的排序。现在，假设您只是对输入的字节求和：您将获得几乎按它们的 levenshtein 距离排序的散列键。例如，我采用一组随机字符串并通过字节求和计算它们的哈希值：

```
[ { hash: 2826, val: 'LKAMFKLFUAHUHAUHAUHAU:ANGONEGANAILFJAL:' },
  { hash: 2829, val: 'LKAMFKLFLFUAHUAHUHAUAHANGONEGANAILFJAL:' },
  { hash: 2845, val: 'LKAMFKLFLFAKAKKAKAfiO:ANGONEGANAILFJAL:' },
  { hash: 3064, val: 'LKAMFKLFKKKlaNflanfiO:ANGONEGANAILFJAL:' },
  { hash: 3092, val: 'LKAMFKLFLFklaNflanfiO:ANGONEGANAILFJAL:' },
  { hash: 3203, val: 'LKAMFKLFLFklaNflanfiRSRSRSRSRRNAILFJAL:' },
  { hash: 3249, val: 'LKNFUU{N{UAFN{NF}FNPNF{FN{APNF{WNFF{NF' },
  { hash: 3843, val: 'ddddddddddaaaaaaaaaddddddddddaaaaaaaaaa' },
  { hash: 3858, val: 'safndjnjcmxn,znv,mnm,n,mvnm,vn,mznv,mvv' },
  { hash: 3934, val: 'nngnangngdsgsangnanwns.mnv.nv.xnjvnsf.,' },
  { hash: 3972, val: 'adadsadadsadadadsadsadadsadsadadsadsada' },
  { hash: 3992, val: 'adsadadadsadasdasdafadfasfdsafsafasfafd' },
  { hash: 4041, val: 'asfdsafasdfsafafasdfasdfafsdfdasfasfasf' },
  { hash: 4047, val: 'kkkkkkkkkkkdddddddddkkkkkkkkkkddddddddd' },
  { hash: 4058, val: 'jfjfjfjfjfjfjfjfjfjfjfjfjfjfjfjfjfjfjfj' },
  { hash: 4081, val: 'ioudnjkanfjfhjhfjhakfshfkjhdajhkjafhkjf' },
  { hash: 4082, val: 'ioudnjkanfjfhjhfjhakfshfkjhdakhkjafhkjf' },
  { hash: 4082, val: 'oisdnkbgjkbajkgkbgkjbkklgjklsbkbfkjafas' },
  { hash: 4090, val: 'ioudnjsanfjfhjhfjhakfshfkjhdakhkjafhkjf' },
  { hash: 4099, val: 'asldfjlkcmclmasldkkjflksajflkjaljfljlfa' },
  { hash: 4101, val: 'sidfjlasjflijflijlfjliafjdlifjlijfiljfl' },
  { hash: 4105, val: 'iousnjsanfjfhjhfjhakfshfkjhdakhkjafhkjf' },
  { hash: 4125, val: 'iousnjsanfjfhlhfjuakfshkkjhdakhkjafhkjf' },
  { hash: 4128, val: 'sadnfjnfjnjfnjsdfnjafnjkfnkfnjkansdfjkn' },
  { hash: 4143, val: 'dnsfanfjknasfjklnaskfnkfnklafnjkfnkldsn' },
  { hash: 4150, val: 'dskfoisandginsgnlgn:nglngbtbiybuburubsu' },
  { hash: 4155, val: 'afadfsfsfsdfffsfsfsfsdfsfsfsdfsfsfsfsfs' },
  { hash: 4166, val: 'kjdkljkljkljlkjkljlkjlkjlkjlkjljlkjljlk' },
  { hash: 4211, val: 'jsanjnvjksnfkjsanfuiawngingiuilugniugng' },
  { hash: 4229, val: 'kllnlknlknklnklnlnlknknklnlnlnklnlknlkn' },
  { hash: 4238, val: 'lsniorhgpwoiqutoiuieofnionofnoinfonfioa' },
  { hash: 4349, val: 'iasfioehwoptqpoituopqwtuoquweporuqiorur' },
  { hash: 4374, val: 'ioequroiqwuroiuriouroiuopriuprouqpourrq' },
  { hash: 4377, val: 'iiuouoiuoiuouoiuuououoiuououoiuououoiuo' } ] 
```

结果几乎是排序的，这意味着插入排序可以非常快地完成工作（[请参阅 参考资料](http://www.sorting-algorithms.com/)）。

如果这种粗略的实验提供了这些结果，那么肯定有一些解决方案在它的答案中丢失了。可能是哪个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T15:37:33.470

下面的讨论是我冗长的说法，即您的想法（据我所知）在一般情况下不起作用。原因？因为两个长度为 N 的字符串之间的 Levenshtein 距离应该是 N，但是这些字符串具有相同的校验和。例如，反向字符串。此外，Levenshtein 距离为 1 的两个字符串之间的校验和差异可以是 255（或 Unicode 中的 65,536）。有了这样的范围，“几乎排序”，即使你能以某种方式做到这一点（见下文），也不会给你带来太多好处。

因此，您已经注意到简单校验和与 Levenshtein 距离之间的相关性。这是明显的关系。如果两个字符串之间的 Levenshtein 距离很小，那么这两个字符串包含大部分相同的字符。因此，简单校验和的计算将产生非常相似的值。有时。

然而，正如其他人指出的那样，相反的情况并非如此。字符串`abcdef`和`fedcba`具有相同的校验和，但是对于这么短的字符串，它们的 Levenshtein 距离相当大。

这不仅适用于逆转。例如，考虑字符串`00000000`。该字符串`0000000~`将具有比 大得多的校验和`11111111`，即使 Lev. 距离要小很多。

我想你会在一般情况下发现校验和和 Lev 之间的关系。距离是……有时是巧合。但是让我们忽略那个特定的问题，继续你关于排序的假设。

据我了解（老实说，您的问题在这一点上并不完全清楚），您想根据它们的 Levenshtein 距离对字符串列表进行排序。*你没有说与什么*的距离，但我假设在某个地方你有一个起始字符串，，`S`一堆其他字符串`[S1, S2, S3, etc.]`，并且你想按列夫对其他字符串的列表进行排序。距离`S`。

您的假设似乎是为每个字符串计算一个简单的校验和将使您能够更快地进行排序。

问题是，一旦计算了校验和，*就必须对它们进行排序*。传统的比较排序需要`O(n log n)`时间（无论如何，`O(n)`如果您有特殊用途的排序，至少需要时间）。一旦你得到了那个几乎有序的列表，你就必须计算 Lev。无论如何，然后重新排列列表顺序以反映实际距离。但有什么意义呢？

你必须计算列夫。无论如何，距离，你*至少* `O(n)`会花时间整理*一些东西*。当您可以更快地计算 Lev 时，为什么还要费心计算和排序校验和。距离和排序？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T15:59:33.353

O(n log n) 界限用于特定类型的排序，基于对有序类型的比较。

在这种情况下，您的排序基于一个简单的无符号整数值（取决于您正在处理的数据）可能是一个相当小的界限。在这种情况下，您的选择是...

1.  如果最大距离足够小，则创建一个（最初为空）列表头指针数组。数组下标是距离。遍历您的数据以填充该列表数组，然后按顺序提取所有数据。如果您担心数组中的许多头指针保持为空（很多距离从未发生过），您还可以在数组中构建两个双链表 - 一个最初是未使用项目的完整列表，一个最初是空列表使用过的物品。这样，当您提取数据时，您只需查看其中包含项目的那些列表。

2.  无论最大距离如何，您都可以使用哈希表做同样的事情。如果每次需要更多空间时表都以一个常数因子增长，则每次插入都需要 O(1) 时间*amortized*。当您考虑整个循环时，这变得简单 O(n) - 不再摊销 - 因为“摊销”的定义方式。哈希表通常是无序的，但你可以作弊 - 哈希是距离。可能需要更多的作弊来避免在提取数据时进行多次传递，但这不应该太难。

我认为尝试使用校验和没有任何好处。

如果要对数据进行排序，则无法击败 O(n)，因为您可能需要移动每个项目。即使您只是神奇地知道将每个项目移动到哪里，无论如何进行这些移动也是 O(n)。

此外，即使数据的顺序已经正确，只需计算距离即可确认也是 O(n)。

* * *

再想一想，我有点紧张，因为你不能只为一个字符串分配一个 Levenshtein 距离——它是相对于另一个字符串的。

如果您想建立字符串索引以便搜索“最近的”字符串，您可能应该查看[Steve Hanov 博客上关于 Vantage Point Trees 的这篇文章](http://stevehanov.ca/blog/index.php?id=130)。

不过，我怀疑你会得到 O(n) 的性能。

# java - Sudoku Solver代码解释

> ID：15182546
> 
> 赞同：5
> 
> 时间：2013-03-03T04:47:00.327
> 
> 标签：java, sudoku

我对以下代码片段有疑问：它是一个数独求解器，它通过填充空单元格来解决数独难题。我无法真正了解求解器方法背后的逻辑。为什么在尝试 k=1-9 后返回 false 并在遍历所有单元格后返回 true。我的想法是我们递归地进入solver（）方法，一旦数独完成，它将作为调用顺序返回true，最后第一个调用的solver（）将返回true。我想我必须省略一些上述两个“回归”发生的场景。有人可以向我解释为什么那些“回归”应该存在吗？

```
public class Solution {

public static void main(String[] args) {
    Solution s = new Solution();
    char[][] board = {{'.', '2', '6', '5', '.', '.', '.', '9', '.'},
                      {'5', '.', '.', '.', '7', '9', '.', '.', '4'},
                      {'3', '.', '.', '.', '1', '.', '.', '.', '.'},
                      {'6', '.', '.', '.', '.', '.', '8', '.', '7'},
                      {'.', '7', '5', '.', '2', '.', '.', '1', '.'},
                      {'.', '1', '.', '.', '.', '.', '4', '.', '.'},
                      {'.', '.', '.', '3', '.', '8', '9', '.', '2'},
                      {'7', '.', '.', '.', '6', '.', '.', '4', '.'},
                      {'.', '3', '.', '2', '.', '.', '1', '.', '.'}};

    s.solver(board);
}
public boolean solver(char[][] board) {
    for (int r = 0; r < board.length; r++) {
        for (int c = 0; c < board[0].length; c++) {
            if (board[r][c] == '.') {
                for (int k = 1; k <= 9; k++) {
                    board[r][c] = (char) ('0' + k);
                    if (isValid(board, r, c) && solver(board)) {
                        return true;
                    } else {
                        board[r][c] = '.';
                    }
                 }
                return false;
             }
         }
     }
    return true;
}

public boolean isValid(char[][] board, int r, int c) {
    //check row
    boolean[] row = new boolean[9];
    for (int i = 0; i < 9; i++) {
        if (board[r][i] >= '1' && board[r][i] <= '9') {
            if (row[board[r][i] - '1'] == false) {
                row[board[r][i] - '1'] = true;
            } else {
                return false;
            }
        }
    }

    //check column
    boolean[] col = new boolean[9];
    for (int i = 0; i < 9; i++) {
        if (board[i][c] >= '1' && board[i][c] <= '9') {
            if (col[board[i][c] - '1'] == false) {
                col[board[i][c] - '1'] = true;
            } else {
                return false;
            }
        }
    }

    //check the 3*3 grid
    boolean[] grid = new boolean[9];
    for (int i = (r / 3) * 3; i < (r / 3) * 3 + 3; i++) {
        for (int j = (c / 3) * 3; j < (c / 3) * 3 + 3; j++) {
            if (board[i][j] >= '1' && board[i][j] <= '9') {
                if (grid[board[i][j] - '1'] == false) {
                    grid[board[i][j] - '1'] = true;
                } else {
                    return false;
                }
            }
         }
    }

    return true;
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:16:05.283

每个递归调用都处理第一个“。” 仍有待处理。这将暂时用一个数字代替。如果更改成功（不会使板无效），则进行递归（将尝试下一个'.'）。如果这将失败，请撤消本地所做的更改并返回 false，因为在此搜索分支上尝试的任何数字都是无效的。这意味着强制调用者（直到root）尝试下一个选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T05:05:10.410

这是一个简单的蛮力求解器。它只是尝试每个开放空间中的每个数字。如果在用数字填充给定空间后棋盘是“有效的”（遵循游戏规则），那么它会递归调用相同的求解器函数来填充另一个空白点并测试棋盘是否仍然有效等在。

它是一个非常低效的求解器，但易于编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-19T20:27:07.140

此代码检查数独。如果正确，则 check_sudoku() 方法如果错误则返回 true，然后显示具有重复元素的行号和列号。

```
 public static void main(String[] args) {
    int array[][]={{9,6,3,1,7,4,2,5,8},
                   {1,7,8,3,2,5,6,4,9},
                   {2,5,4,6,8,9,7,3,1},
                   {8,2,1,4,3,7,5,9,6},
                   {4,9,6,8,5,2,3,1,7},
                   {7,3,5,9,6,1,8,2,4},
                   {5,8,9,7,1,3,4,6,2},
                   {3,1,7,2,4,6,9,8,5},
                   {6,4,2,5,9,8,1,7,3}};

    Sudoku sudoku=new Sudoku();
    if(sudoku.check_sudoku(array))
    {
        System.out.println("You won the game :)");
    }

}

public class Sudoku {

private int temp1[] = {1, 2, 3, 4, 5, 6, 7, 8, 9}, temp2[] = {1, 2, 3, 4, 5, 6, 7, 8, 9};
private int data1, data2;

public boolean check_sudoku(int array[][]) {
    for (int i = 0; i < 9; i++) {
        for (int j = 0; j < 9; j++) {
            data1 = array[i][j];
            data2 = array[j][i];
            if (data1 >= 10 || data2 >=10 || data1 <= 0 || data2 <= 0) {
                System.out.println("Invalid Solution because value must be in between 1 to 9");
                return false;
            } else if (temp1[data1 - 1] == 0 || temp2[data2 - 1] == 0) {
                System.out.println("Invalid Solution please check " + (i + 1) + " row " + (j + 1) + " column or " + (j + 1) + " row " + (i + 1) + " column");
                return false;
            } else {
                temp1[data1 - 1] = 0;
                temp2[data2 - 1] = 0;
            }
        }
        int check1[] = {1, 2, 3, 4, 5, 6, 7, 8, 9};
        int check2[] = {1, 2, 3, 4, 5, 6, 7, 8, 9};
        temp1 = check1;
        temp2 = check2;
    }
    return true;
} 
```

}

# pagination - CakePHP：复杂查询的分页

> ID：15182547
> 
> 赞同：0
> 
> 时间：2013-03-03T04:47:13.290
> 
> 标签：pagination, cakephp-2.1

我有 3 个表：帐户、交易、报表。帐户有许多交易和报表（外键是 account_id）。

我需要检索所有具有未结余额和/或未开票交易的帐户的帐户名称、已开票交易余额、未开票（待处理）交易的总数和计数以及最后对帐单日期。

此查询按预期返回数据：

```
选择
    Account.id，Account.account_name，
    Billed.balance, Pending.items,
    Pending.amount, Stmnt.latest
从
    帐户作为帐户
左连接
    （选择
        帐户ID，
        (SUM(`Transaction`.`debit`) - SUM(`Transaction`.`credit`)) 作为余额
    从
        `事务`作为`事务`
    在哪里
        `事务`.`statement_id` > 0 AND
        `事务`.`void` = 0
    通过...分组
        帐户ID
    ) 按计费方式 Billed.account_id = Account.id
左连接
    （选择
        `account_id`,
        (SUM(`Transaction`.`debit`) - SUM(`Transaction`.`credit`)) 作为金额，
        COUNT(id) 作为项目
    从
        `事务`作为`事务`
    在哪里
        `事务`.`statement_id` = 0 AND
        `事务`.`void` = 0
    通过...分组
        帐户ID
    ) AS Pending ON Pending.account_id = Account.id
左连接
    （选择
        `account_id`,
        MAX(Statement.statement_date) 最新
    从
        `语句`作为`语句`
    在哪里
        `声明`.`void` = 0
    通过...分组
        帐户ID
    ) AS Stmnt ON Stmnt.account_id = Account.id
通过...分组
    帐户ID
拥有
    Billed.balance > 0 或
    待定.pending_ct > 0
订购方式
    帐户名 ASC

```

我很难成功地将其转换为 CakePHP 2.1 查找或分页友好的选项。

任何想法将不胜感激。

# javascript - jQuery 复选框

> ID：15182551
> 
> 赞同：0
> 
> 时间：2013-03-03T04:47:58.410
> 
> 标签：javascript, jquery, checkbox

我想做以下事情：

我有三个复选框：

隐藏框1 隐藏框2 隐藏框3

我想使用 Jquery 来：

选中 Box1 时，隐藏框 2 和 3，如果未选中则使框 2 和 3 可见。另外我在哪里放置代码？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:09:13.793

这是使用您在评论中提供的标记的完整示例。我还冒昧地给出了复选框的标签，这意味着当您单击文本时，它将切换复选框（更易于访问和使用）。

[参见 JSFiddle](http://jsfiddle.net/JWCzc/2/)

**HTML**

```
<form>
    <div class="toggle-checkbox">
        <input type="checkbox" name="checkMeOut" id="box1" />
        <label for="box1">Hide Box1</label>
    </div>
    <div class="toggle-checkbox">
        <input type="checkbox" name="checkMeOut" id="box2" />
        <label for="box2">Hide Box2</label>
    </div>
    <div class="toggle-checkbox">
        <input type="checkbox" name="checkbox3" id="box3" />
        <label for="box3">Hide Box3</label>
    </div>
</form> 
```

**jQuery**

```
$('.toggle-checkbox input[type=checkbox]').click(function () {
    if ($(this).is(':checked')) {
        $('.toggle-checkbox').not($(this).closest('.toggle-checkbox')).hide();
    } else {
        $('.toggle-checkbox').show();
    }
}); 
```

要在您的页面中包含 jQuery，请将以下内容放在您的`<head>`标签中。

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T04:58:19.667

您可以在标签之间执行此操作

```
$('.one').click(function () {
if ($(this).is(':checked')) {
    $('input[type=checkbox]').not(this).hide();
} else {
    $('input[type=checkbox]').not(this).show();
}
}); 
```

[http://jsfiddle.net/davidchase03/MYASr/](http://jsfiddle.net/davidchase03/MYASr/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T04:58:57.153

假设您的复选框的 ID 为“box1”、“box2”和“box3”：

```
$(document).ready(function(){
    $("#box1").change(function(){
        $("#box2, #box3").toggle();
    }
} 
```

我没有对此进行测试，但无论何时选中或取消选中隐藏框 1，它都会切换其他两个框的可见性。

代码的最佳位置是位于结束正文标记之前的脚本元素内，因此类似于

```
<body>
Your page stuff here
<script>
Code from above here
</script>
</body> 
```

# c - 为什么这个排序功能不起作用？C

> ID：15182557
> 
> 赞同：2
> 
> 时间：2013-03-03T04:49:35.163
> 
> 标签：c, arrays, sorting

所以我有这个排序函数，它假设接收一个结构数组，我需要按名称组织它们，两者都有名字和姓氏，如果它们的姓氏相同，那么我必须继续使用名字也比较一下。因此，我制作了 2 个包含姓氏和名字的字符串组合为 1，然后我遍历列表并查看哪个小并将其向上移动。但问题是......它什么也没做......根本，我不明白为什么！？

```
void sortStruct(struct student *list, int studentCount){

int j, k;

struct student temp;

char buffer[35];
char buffer2[35];

for (j = 0 ; j <= studentCount-2 ; j++){

    sprintf(buffer, "%s, %s", list[j].lastname, list[j].firstname);

    for(k = 1 ; k <= studentCount-1 ; k++){

        sprintf(buffer2, "%s, %s", list[k].lastname, list[k].firstname);

        if(buffer < buffer2){

            temp = list[j];
            list[j] = list[k];
            list[j] = temp;

        }
    }
}
} 
```

有谁知道怎么了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T04:59:09.747

`buffer < buffer2`绝对不是你想要的。那只是比较两个内存地址！您应该使用该功能`strcmp()`。例如，

`if (strcmp(buffer, buffer2) < 0)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T05:00:28.263

您的功能应如下所示：

名称比较

```
void sortStruct(struct student *list, int studentCount)
{

   int j, k;
   struct student temp;
   char buffer[35];
   char buffer2[35];

   for (j = 0 ; j <= studentCount-2 ; j++)
   {
     sprintf(buffer, "%s, %s", list[j].lastname, list[j].firstname);
     for(k = 1 ; k <= studentCount-1 ; k++)
     {
       sprintf(buffer2, "%s, %s", list[k].lastname, list[k].firstname);
       if(strcmp(buffer, buffer2)<0)
       {
            temp = list[j];
            list[j] = list[k];
            list[j] = temp;
       }
     }
   }
} 
```

对于名称长度比较

```
void sortStruct(struct student *list, int studentCount)
{

  int j, k;
  struct student temp;
  char buffer[35];
  char buffer2[35];

  for (j = 0 ; j <= studentCount-2 ; j++)
  {
    sprintf(buffer, "%s, %s", list[j].lastname, list[j].firstname);

    for(k = 1 ; k <= studentCount-1 ; k++)
    {

     sprintf(buffer2, "%s, %s", list[k].lastname, list[k].firstname);

      if(strlen(buffer)< strlen(buffer2))
      {
         temp = list[j];
         list[j] = list[k];
         list[j] = temp;
      }
    }
 }
} 
```

# excel - VBA中的SUM函数 - 一行中不同列的总和

> ID：15182561
> 
> 赞同：2
> 
> 时间：2013-03-03T04:50:33.477
> 
> 标签：excel, vba

我可以使用 SUM 函数对同一行中的两列或多列求和吗？

```
Example:  
Column  : A B C D E  
Total   : 1 2 3 4 5
TotColAC: 4 6 (TotColBD) 
```

是否可以使用 SUM 函数或有其他方法？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T05:00:38.530

使用 VBA。它会将单元格从 A1 添加到 E1。您可以根据您的要求进行修改。

```
Sub Add()
    Dim totalAtoE As Double
    totalAtoC = WorksheetFunction.Sum(Range("A1:E1"))
End Sub 
```

只有 A1 和 C1

```
Sub AddAandC()
    Dim totalAandC As Double
    totalAandC = WorksheetFunction.Sum(Range("A1"), Range("C1"))
End Sub 
```

根据你的评论

```
Sub Add()

Dim lastRow As Long, i As Integer, totalAtoC As Double, FinalSum As Double
lastRow = Range("A5000").End(xlUp).Row

For i = 1 To lastRow
    totalAtoC = totalAtoC + WorksheetFunction.Sum(Range("A" & i & ":C" & i))
Next
FinalSum = totalAtoC

End Sub 
```

# android - Android：为什么 MapView 在模拟器中运行时会抱怨 LOGIN ACCOUNTS MISSING？

> ID：15182564
> 
> 赞同：0
> 
> 时间：2013-03-03T04:52:20.083
> 
> 标签：android

我正在尝试让 MapView 显示在模拟器上。当我查看 logcat 时，这是我收到的错误消息。我不知道为什么？

设备没有帐户：正在发送 Intent { act=com.google.android.gsf.LOGIN ACCOUNTS MISSING }

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:05:42.860

目前无法在模拟器上运行 Google Android Maps v2。查看Android 开发人员对[这篇文章的评论。](https://plus.google.com/+AndroidDevelopers/posts/Tyz491d96Ci)另外，请查看播放服务的官方[链接](http://developer.android.com/google/play-services/setup.html)

`Note: Google Play services is not supported on the Android emulator — to develop using the APIs, you need to provide a development device such as an Android phone or tablet.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:19:25.443

有几件事。请。确保您拥有 maps 密钥。还要确保您对清单具有所需的权限。有关更多信息，您可以参考： https: [//plus.google.com/+AndroidDevelopers/posts/Tyz491d96Ci](https://plus.google.com/+AndroidDevelopers/posts/Tyz491d96Ci)

# html - Coldfusion 9 HTML 表单 500 内部服务器错误

> ID：15182567
> 
> 赞同：7
> 
> 时间：2013-03-03T04:52:56.233
> 
> 标签：html, forms, coldfusion, cfml

我有一个安装了 Coldfusion 9 的 Windows 2008 服务器。我有一个提交表单的应用程序，提交后会出现 500 Internal Server Error 页面。我检查了日志，那里没有任何记录。我听说过提交 100 多个表单字段的问题，但我的表单最多提交 64 个。我勾选了启用鲁棒异常信息并添加了我的 IP 地址并且未勾选 HTTP 状态代码。我可以看到所有页面上的所有调试信息，直到错误页面。我已将页面放入表单字段的所有信息输出到一个文件，并创建了一个仅包含这些表单字段和这些值的页面，并且它提交得很好。我已经坚持了一周了。我不知道还有什么可以尝试的。有什么建议么？？？请！！！！

```
<!---  #Include Header Page Here --->
<cfset session.headertitle = "Budget Revision to Sponsored Project-Calculation">
<!--- <cfinclude template="grantsys_header_nogif.cfm"> --->
<cfinclude template="../ps_common_scripts/header.cfm">
<CFINCLUDE template="grants_logincheck.cfm"> 
<cfset tfile=''>

<!--- Get Page Inputs --->
<CFIF IsDefined ("Form.Setid") AND IsDefined("Form.SpeedType") AND IsDefined("Form.SpeedType_Sub")>
    <CFSET Setid = Trim(UCase(Form.Setid))>
    <CFSET SpeedType1 = Trim(UCase(Form.SpeedType))>
    <CFSET SpeedType2 = Trim(UCase(Form.SpeedType_Sub))>
    <CFLOCK SCOPE="SESSION" TYPE="EXCLUSIVE" TIMEOUT="2">
        <CFSET Session.SpeedType2 = Trim(UCase(Form.SpeedType_Sub))>
    </CFLOCK>
<CFELSEIF IsDefined("URL.SpeedType") AND IsDefined("URL.SpeedType_Sub")>
    <CFSET Setid = Trim(UCase(Form.Setid))>
    <CFSET SpeedType1 = Trim(UCase(URL.SpeedType))>
    <CFSET SpeedType2 = Trim(UCase(URL.SpeedType_Sub))>
    <CFSET Session.SpeedType2 = Trim(UCase(URL.SpeedType_Sub))>
<CFELSE>
    <P><B>Error:</B> Expected page inputs are missing.</P>
    <CFINCLUDE template="br_footer.cfm">
    <CFABORT>
</CFIF>

<!--- If a SubSpeedType is specified (not NEW or blank)... --->
<CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
    <!---Get Subheader data--->
    <CFQUERY name="qHdr2" datasource="#Application.DSN#">
        SELECT /*+ FIRST_ROWS */ SP.DEPTID, SP.FUND_CODE, 
            PF.GT_FUND_TITLE, 
            PJ.GT_CONTR_NO, 
            PJ.GT_PROJ_STARTDT, 
            PJ.GT_PROJ_EXPDT, 
            PJ.GT_SPON_NAME, 
            PJ.GT_PROJ_TITLE,
            PD.GT_PROJ_DIR, 
            PT.DESCR,
            PE.NAME 
        FROM    SYSADM.PS_SPEEDTYP_TBL SP, 
                SYSADM.PS_GT_GM_PROJ PJ, 
                SYSADM.PS_GT_GM_PROJ_PDPI PD,   
                SYSADM.PS_DEPT_TBL PT, 
                SYSADM.PS_GT_GM_HR_DATA PE,
                SYSADM.PS_GT_GM_FUND PF 
        WHERE SP.SETID = '#Setid#' 
            AND SP.SPEEDTYPE_KEY = '#SpeedType2#'  
            AND SP.BUDGET_REF = (   SELECT MAX(BUDGET_REF) 
                                    FROM SYSADM.PS_SPEEDTYP_TBL 
                                    WHERE SETID = SP.SETID 
                                    AND SPEEDTYPE_KEY = SP.SPEEDTYPE_KEY 
                                    ) 
        AND PJ.SETID        =   SP.SETID 
        AND PJ.PROJECT_ID   =   SP.SPEEDTYPE_KEY 
        AND PJ.FUND_CODE(+) =   SP.FUND_CODE
        AND PJ.FUND_CODE BETWEEN 'A0000'  AND 'Z9999'
        AND PJ.EFF_STATUS   =   'A' 
        AND PJ.EFFDT = ( 
                        SELECT  MAX(PJ_ED.EFFDT) 
                        FROM    SYSADM.PS_GT_GM_PROJ  PJ_ED
                        WHERE   PJ_ED.SETID = PJ.SETID 
                        AND     PJ_ED.PROJECT_ID = PJ.PROJECT_ID 
                        AND     PJ_ED.EFFDT <= SYSDATE )
        AND PD.SETID(+)     = PJ.SETID 
        AND PD.PROJECT_ID(+) = PJ.PROJECT_ID
        AND PD.EFFDT(+)     = PJ.EFFDT  
        AND PT.SETID        =   SP.SETID
        AND PT.DEPTID       =   SP.DEPTID
        AND PT.EFF_STATUS   =   'A' 
        AND PT.EFFDT = ( 
                        SELECT  MAX(PT_ED.EFFDT)   
                        FROM    SYSADM.PS_DEPT_TBL PT_ED
                        WHERE   PT_ED.SETID = PT.SETID 
                        AND     PT_ED.DEPTID = PT.DEPTID
                        AND     PT_ED.EFFDT <= SYSDATE  )   
        AND PE.EMPLID(+)    =   PD.GT_PROJ_DIR  
        AND PF.SETID        =   SP.SETID 
        AND PF.FUND_CODE    =   PJ.GT_GM_FUND 
        AND PF.EFF_STATUS   =   'A' 
        AND PF.EFFDT = ( 
                        SELECT  MAX(PF_ED.EFFDT) 
                        FROM    SYSADM.PS_GT_GM_FUND PF_ED
                        WHERE   PF_ED.SETID = PF.SETID 
                        AND     PF_ED.FUND_CODE = PF.FUND_CODE 
                        AND     PF_ED.EFFDT <= SYSDATE  )
        ORDER BY PD.GT_PRIME_PDPI DESC  
    </CFQUERY>
    <cfif "#qHdr2.RecordCount#" EQ 0>
        <P align="center"><B>Error:</B> Project ID# <cfoutput><strong>#SpeedType2#</strong></cfoutput> cannot be found. Please go back and enter a valid Project ID.</P>
        <CFINCLUDE template="br_footer.cfm">
        <CFABORT>
    </cfif>
</CFIF>

<!--- Display Data --->
<CFFORM action="br_submit_test.cfm?tfile" method="post" name="frmCalc" id="frmCalc">
    <TABLE align="center" border="1" width="100%">
        <TR bgcolor="Navy">
            <TD colspan="2" align="left">&nbsp;

            </TD>
            <TD colspan="3" align="center">
                <FONT size="+2" color="White">From</FONT>
            </TD>
            <TD colspan="3" align="center">
                <FONT size="+2" color="White">To</FONT>
            </TD>
        </TR>
        <CFOUTPUT>
            <TR> 
                <TD colspan="2" align="left">
                    Setid: <FONT><B>#Setid#</B></FONT>                  
                </TD>
                <TD colspan="3" align="center">
                    <B>#SpeedType1#</B>&nbsp;
                    <INPUT type="hidden" name="SpeedType1" value="#SpeedType1#">
                    <cfset tfile=#tfile#&"SpeedType1 #SpeedType1#"><br>
                </TD>
                <TD colspan="3" align="center">
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">

                        <B>#SpeedType2#</B>&nbsp;
                        <INPUT type="hidden" name="SpeedType2" value="#SpeedType2#">
                        <cfset tfile=#tfile#&"SpeedType2 #SpeedType2#"><br>
                    <CFELSEIF SpeedType2 EQ "NEW">
                        SpeedType: <input type="hidden" value="NEW" name="SpeedType2" size="10"> (NEW)
                        <cfset tfile=#tfile#&"SpeedType2 NEW #SpeedType2#"><br>
                    <CFELSE>
                        &nbsp;
                        <INPUT type="hidden" name="SpeedType2" value="">
                    </CFIF>
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    School/Center/Lab:
                </TD>
                <TD colspan="3">
                     #qHdr1.DESCR# - #qHdr1.DEPTID#&nbsp;
                    <INPUT type="hidden" name="DEPTID1" value="#qHdr1.DEPTID# - #qHdr1.DESCR#&nbsp;">
                    <cfset tfile=#tfile#&"qHdr1.DEPTID - qHdr1.DESCR  #qHdr1.DEPTID# - #qHdr1.DESCR#"><br>
                </TD>
                <TD colspan="3">
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
                        #qHdr2.DESCR# - #qHdr2.DEPTID#&nbsp;
                        <INPUT type="hidden" name="DEPTID2" value="#qHdr2.DEPTID#">
                        <cfset tfile=#tfile#&"qHdr2.DEPTID #qHdr2.DEPTID#"><br>
                    <CFELSEIF SpeedType2 EQ "NEW">
                        <CFQUERY name="querydeptid2" datasource="#Application.DSN#">
                            SELECT DISTINCT DEPTID, DESCR 
                            FROM SYSADM.PS_DEPT_TBL
                            ORDER BY DESCR
                        </CFQUERY>              
                        <SELECT size="1" name="DEPTID2">
                            <CFLOOP query="querydeptid2">
                                <CFIF Trim(DESCR) EQ "">
                                    <OPTION value="#DEPTID#">
                                        #DEPTID#
                                    </OPTION>
                                <CFELSE>
                                    <OPTION value="#DEPTID#">
                                        #Left(DESCR,30)# - #DEPTID#
                                    </OPTION>
                                </CFIF>
                            </CFLOOP>
                        </SELECT>
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Fund:
                </TD>
                <TD colspan="3">
                    #qHdr1.FUND_CODE# - #qHdr1.DESCR#&nbsp;
                    <INPUT TYPE="hidden" name="FUND_CODE1" value="#qHdr1.FUND_CODE# - #qHdr1.DESCR#">
                    <cfset tfile=#tfile#&"qHdr1.FUND_CODE - qHdr1.DESCR #qHdr1.FUND_CODE# - #qHdr1.DESCR#"><br>
                </TD>
                <TD colspan="3">
                <!--- CC8254 - Begin --->
                <CFIF SpeedType2 EQ "NEW">
                    #qHdr1.FUND_CODE# - #qHdr1.DESCR#&nbsp;
                <CFELSEIF SpeedType2 EQ "">
                      &nbsp;
                <CFELSE>
                    #qHdr2.FUND_CODE# - #qHdr2.DESCR#&nbsp;
                </CFIF>
                <!--- CC8254 - End --->
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Project Director:
                </TD>
                <TD colspan="3">
                    #qHdr1.GT_PROJ_DIR# - #qHdr1.NAME#&nbsp;
                    <INPUT TYPE="hidden" name="NAME1" value="#qHdr1.GT_PROJ_DIR# - #qHdr1.NAME#">
                    <cfset tfile=#tfile#&"qHdr1.GT_PROJ_DIR - qHdr1.NAME #qHdr1.GT_PROJ_DIR# - #qHdr1.NAME#"><br>
                </TD>
                <TD colspan="3">
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
                        #qHdr2.GT_PROJ_DIR# - #qHdr2.NAME#&nbsp;
                        <INPUT TYPE="hidden" name="NAME2" value="#qHdr2.GT_PROJ_DIR# - #qHdr2.NAME#">
                        <cfset tfile=#tfile#&"qHdr2.GT_PROJ_DIR - qHdr2.NAME #qHdr2.GT_PROJ_DIR# - #qHdr2.NAME#"><br>
                        #qHdr2.DEPTID#
                    <CFELSEIF SpeedType2 EQ "NEW">
                        <CFQUERY name="queryprojdir2" datasource="#Application.DSN#">
                            SELECT  DISTINCT A.GT_PROJ_DIR EMPLID, B.NAME
                            FROM    SYSADM.PS_GT_GM_FUND_PDPI A,
                                    SYSADM.PS_GT_GM_HR_DATA B
                            WHERE A.GT_PROJ_DIR = B.EMPLID
                            UNION
                            SELECT  DISTINCT A.GT_PROJ_DIR EMPLID, B.NAME
                            FROM    SYSADM.PS_GT_GM_PROJ_PDPI A,
                                    SYSADM.PS_GT_GM_HR_DATA B
                            WHERE A.GT_PROJ_DIR = B.EMPLID
                            ORDER BY 2,1 
                        </CFQUERY>
                        <SELECT size="1" name="NAME2">
                            <CFLOOP query="queryprojdir2">  
                                    <OPTION value="#EMPLID#">
                                        #NAME# - #EMPLID#
                                    </OPTION>
                            </CFLOOP>
                        </SELECT>
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Award No.:
                </TD>
                <TD colspan="3">
                    #qHdr1.GT_CONTR_NO#&nbsp;
                    <INPUT TYPE="hidden" name="GT_CONTR_NO1" value="#qHdr1.GT_CONTR_NO#">
                    <cfset tfile=#tfile#&"qHdr1.GT_CONTR_NO #qHdr1.GT_CONTR_NO#"><br>
                </TD>
                <TD colspan="3">
                <!--- CC8254 - Begin--->
                <CFIF SpeedType2 NEQ "">                    
                    #qHdr1.GT_CONTR_NO#&nbsp;
                    <INPUT TYPE="hidden" name="GT_CONTR_NO2" value="#qHdr1.GT_CONTR_NO#">
                    <cfset tfile=#tfile#&"qHdr1.GT_CONTR_NO #qHdr1.GT_CONTR_NO#"><br>
                </CFIF>&nbsp; 
                <CFIF SpeedType2 EQ "NEW">
                    #qHdr1.GT_CONTR_NO#&nbsp;
                <CFELSEIF SpeedType2 EQ "">
                      &nbsp;
                <CFELSE>
                    #qHdr2.GT_CONTR_NO#&nbsp;
                </CFIF>
                <!--- CC8254 - End --->
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Submission Date:
                </TD>
                <TD colspan="3">
                    #DateFormat(Now(), "mm/dd/yyyy")#
                    <INPUT TYPE="hidden" name="DATE1" value="#DateFormat(Now(), "mm/dd/yyyy")#">
                    <cfset tfile=#tfile#&"Date 1 #DateFormat(Now(), "mm/dd/yyyy")#<br>">
                </TD>
                <TD colspan="3">
                    <CFIF SpeedType2 NEQ "">
                        #DateFormat(Now(), "mm/dd/yyyy")#
                        <INPUT TYPE="hidden" name="DATE2" value="#DateFormat(Now(), "mm/dd/yyyy")#">
                        <cfset tfile=#tfile#&"Date 2 #DateFormat(Now(), "mm/dd/yyyy")#<br>">
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Start Date: 
                </TD>
                <TD colspan="3">
                    #DateFormat(qHdr1.GT_PROJ_STARTDT, "mm/dd/yyyy")#&nbsp;
                    <INPUT TYPE="hidden" name="GT_PROJ_STARTDT1" value="#DateFormat(qHdr1.GT_PROJ_STARTDT, "mm/dd/yyyy")#">
                    <cfset tfile=#tfile#&"qHdr2.GT_PROJ_STARTDT1 #DateFormat(qHdr2.GT_PROJ_STARTDT, "mm/dd/yyyy")#<br>">
                </TD>
                <TD colspan="3">
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
                        #DateFormat(qHdr2.GT_PROJ_STARTDT, "mm/dd/yyyy")#&nbsp;
                        <INPUT TYPE="hidden" name="GT_PROJ_STARTDT2" value="#DateFormat(qHdr2.GT_PROJ_STARTDT, "mm/dd/yyyy")#">
                        <cfset tfile=#tfile#&"qHdr2.GT_PROJ_STARTDT2 #DateFormat(qHdr2.GT_PROJ_STARTDT, "mm/dd/yyyy")#<br>">
                    <CFELSEIF SpeedType2 EQ "NEW">
                        <input type="text" name="GT_PROJ_STARTDT2" size="30" onChange = "return( isValidDate(this) && CheckDate(this) )">
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                    <CFIF SpeedType2 EQ "new">(mm/dd/yyyy)</CFIF>
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    End Date: 
                </TD>
                <TD colspan="3">
                    #DateFormat(qHdr1.GT_PROJ_EXPDT, "mm/dd/yyyy")#&nbsp;
                    <INPUT TYPE="hidden" name="GT_PROJ_EXPDT1" value="#DateFormat(qHdr1.GT_PROJ_EXPDT, "mm/dd/yyyy")#">
                    <cfset tfile=#tfile#&"qHdr2.GT_PROJ_EXPDT1 #DateFormat(qHdr2.GT_PROJ_EXPDT, "mm/dd/yyyy")#<br>">
                </TD>
                <TD colspan="3">                    
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
                        #DateFormat(qHdr2.GT_PROJ_EXPDT, "mm/dd/yyyy")#&nbsp;
                        <INPUT TYPE="hidden" name="GT_PROJ_EXPDT2" value="#DateFormat(qHdr2.GT_PROJ_EXPDT, "mm/dd/yyyy")#">
                        <cfset tfile=#tfile#&"qHdr2.GT_PROJ_EXPDT2 #DateFormat(qHdr2.GT_PROJ_EXPDT, "mm/dd/yyyy")#<br>">
                    <CFELSEIF SpeedType2 EQ "NEW">                      
                        <input type="text" name="GT_PROJ_EXPDT2" size="30" onChange="return( isValidDate(this) && CheckDate(this) )">
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                    <CFIF SpeedType2 EQ "new">(mm/dd/yyyy)</CFIF>
                        </TR>

                </TD>
            <TR>
                <TD colspan="2">
                    Sponsor:
                </TD>
                <TD colspan="3">
                    #qHdr1.GT_SPON_NAME#&nbsp;
                    <INPUT TYPE="hidden" name="GT_SPON_NAME1" value="#qHdr1.GT_SPON_NAME#">
                    <cfset tfile=#tfile#&"qHdr1.GT_SPON_NAME1 #qHdr1.GT_SPON_NAME#<br>">
                </TD>
                <TD colspan="3">
                <!--- CC8254 - Begin--->
                <CFIF SpeedType2 NEQ "">
                    #qHdr1.GT_SPON_NAME#&nbsp;
                    <INPUT TYPE="hidden" name="GT_SPON_NAME2" value="#qHdr1.GT_SPON_NAME#">
                    <cfset tfile=#tfile#&"qHdr1.GT_SPON_NAME2 #qHdr1.GT_SPON_NAME#<br>">
                </CFIF>&nbsp;
                <CFIF SpeedType2 EQ "NEW">
          #qHdr1.GT_SPON_NAME#&nbsp;
                <CFELSEIF SpeedType2 EQ "">
                      &nbsp;
                <CFELSE>
          #qHdr2.GT_SPON_NAME#&nbsp;
                </CFIF>
                <!--- CC8254 - End --->
                </TD>
            </TR>
            <TR>
                <TD colspan="2">
                    Name of Project:
                </TD>
                <TD colspan="3">
                    #qHdr1.GT_PROJ_TITLE#&nbsp;
                    <INPUT TYPE="hidden" name="GT_PROJ_TITLE1" value="#qHdr1.GT_PROJ_TITLE#">
                    <cfset tfile=#tfile#&"qHdr2.GT_PROJ_TITLE1 #qHdr2.GT_PROJ_TITLE#<br>">
                </TD>
                <TD colspan="3">
                    <CFIF SpeedType2 NEQ "NEW" AND SpeedType2 NEQ "">
                        #qHdr2.GT_PROJ_TITLE#&nbsp;
                        <INPUT TYPE="hidden" name="GT_PROJ_TITLE2" value="#qHdr2.GT_PROJ_TITLE#">
                        <cfset tfile=#tfile#&"qHdr2.GT_PROJ_TITLE2 #qHdr2.GT_PROJ_TITLE#<br>">
                    <CFELSEIF SpeedType2 EQ "NEW">
                        <input type="text" name="GT_PROJ_TITLE2" size="30">
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
            </TR>
        </CFOUTPUT>

        <!--- Display Budget Totals & Input Fields --->
        <TR bgcolor="Navy">
            <TD colspan="2">
                <FONT color="White"><B>BUDGET CATEGORY</B></FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>CURRENT<BR>BUDGET</FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>INCREASE+<BR>DECREASE-</FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>REVISED<BR>BUDGET</FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>CURRENT<BR>BUDGET</FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>INCREASE+<BR>DECREASE-</FONT>
            </TD>
            <TD align="right">
                <FONT color="White"><B>REVISED<BR>BUDGET</FONT>
            </TD>
        </TR>       
        <CFQUERY name="qData" datasource="#Application.DSN#">
            SELECT  X.FIELDVALUE, X.XLATSHORTNAME, 
                    H.PROJECT_ID PID1, H.BUDG_LTD BUD1, H.FISCAL_YEAR FY1, 
                    H.ACCOUNTING_PERIOD P1, H2.PROJECT_ID PID2, 
                    H2.BUDG_LTD BUD2, H2.FISCAL_YEAR FY2, 
                    H2.ACCOUNTING_PERIOD P2 
<!---       FROM    SYSADM.XLATTABLE X, SYSADM.PS_GT_GS_AMTS_HDR H, SYSADM.PS_GT_GS_AMTS_HDR H2    --->
            FROM    SYSADM.XLATTABLE_VW X, SYSADM.PS_GT_GS_AMTS_HDR H, SYSADM.PS_GT_GS_AMTS_HDR H2 
            WHERE   X.FIELDNAME = 'GT_SPONSORED_CAT'
                AND X.FIELDVALUE NOT IN ('S89','SDT','SCH')
                AND X.FIELDVALUE LIKE 'S%'
<!---           AND X.LANGUAGE_CD = 'ENG'   --->
                AND X.EFF_STATUS = 'A'
                AND X.EFFDT = (
                 SELECT MAX(EFFDT)
<!---            FROM SYSADM.XLATTABLE   --->
                 FROM SYSADM.XLATTABLE_VW
                 WHERE FIELDNAME = 'GT_SPONSORED_CAT'
                 AND FIELDVALUE = X.FIELDVALUE
<!---                AND LANGUAGE_CD = X.LANGUAGE_CD   --->
                 AND EFF_STATUS = X.EFF_STATUS
                 )
                AND H.SETID (+) = '#Setid#' 
                AND H.PROJECT_ID (+) = '#SpeedType1#'
                AND H.GT_SPONSORED_CAT (+) = X.FIELDVALUE
                AND (H.FISCAL_YEAR = (
                    SELECT MAX(FISCAL_YEAR) 
                    FROM SYSADM.PS_GT_GS_AMTS_HDR 
                    WHERE SETID = H.SETID 
                    AND PROJECT_ID = H.PROJECT_ID
                    ) 
                    OR
                    H.FISCAL_YEAR IS NULL) 
                AND (H.ACCOUNTING_PERIOD = (
                    SELECT MAX(ACCOUNTING_PERIOD) 
                    FROM SYSADM.PS_GT_GS_AMTS_HDR 
                    WHERE SETID = H.SETID 
                    AND FISCAL_YEAR = H.FISCAL_YEAR 
                    AND PROJECT_ID = H.PROJECT_ID
                    ) 
                    OR 
                    H.ACCOUNTING_PERIOD IS NULL) 
                AND H2.SETID (+) = '#Setid#' 
                AND H2.PROJECT_ID (+) = '#SpeedType2#'
                AND H2.GT_SPONSORED_CAT (+) = X.FIELDVALUE
                AND (H2.FISCAL_YEAR = (
                    SELECT MAX(FISCAL_YEAR) 
                    FROM SYSADM.PS_GT_GS_AMTS_HDR 
                    WHERE SETID = H2.SETID 
                    AND PROJECT_ID = H2.PROJECT_ID
                    ) 
                    OR
                    H2.FISCAL_YEAR IS NULL) 
                AND (H2.ACCOUNTING_PERIOD = (
                    SELECT MAX(ACCOUNTING_PERIOD) 
                    FROM SYSADM.PS_GT_GS_AMTS_HDR 
                    WHERE SETID = H2.SETID 
                    AND FISCAL_YEAR = H2.FISCAL_YEAR 
                    AND PROJECT_ID = H2.PROJECT_ID
                    ) 
                    OR 
                    H2.ACCOUNTING_PERIOD IS NULL) 
            ORDER BY X.FIELDVALUE 
        </CFQUERY>
        <CFSET TCurrBud = 0>
        <CFSET TCurrBudSub = 0>
        <CFOUTPUT query="qData">
        <CFQUERY name="qCat" datasource="#Application.DSN#">
                SELECT CAT.GT_LBL_#qData.FIELDVALUE# LABEL, CAT.GT_CAT_#qData.FIELDVALUE# CATEGORY
                FROM SYSADM.PS_GT_GM_PROJ_CAT CAT
                WHERE CAT.SETID = '#Setid#'
                    AND CAT.PROJECT_ID = '#SpeedType1#'
                    AND CAT.GT_CAT_KEY = 'CAT'
                    AND CAT.EFFDT = (
                        SELECT MAX(EFFDT)
                        FROM SYSADM.PS_GT_GM_PROJ_CAT CAT_DT
                        WHERE CAT_DT.SETID = CAT.SETID
                            AND CAT_DT.PROJECT_ID = CAT.PROJECT_ID
                            AND CAT_DT.GT_CAT_KEY = CAT.GT_CAT_KEY
                            )
            </CFQUERY>
            <CFQUERY name="qCatSub" datasource="#Application.DSN#">
                SELECT CAT.GT_LBL_#qData.FIELDVALUE# LABEL, CAT.GT_CAT_#qData.FIELDVALUE# CATEGORY
                FROM SYSADM.PS_GT_GM_PROJ_CAT CAT
                WHERE CAT.SETID = '#Setid#'
                    AND CAT.PROJECT_ID = '#SpeedType2#'
                    AND CAT.GT_CAT_KEY = 'CAT'  
                    AND CAT.EFFDT = (
                        SELECT MAX(EFFDT)
                        FROM SYSADM.PS_GT_GM_PROJ_CAT CAT_DT
                        WHERE CAT_DT.SETID = CAT.SETID
                            AND CAT_DT.PROJECT_ID = CAT.PROJECT_ID
                            AND CAT_DT.GT_CAT_KEY = CAT.GT_CAT_KEY
                            )
            </CFQUERY>
            <TR>
                <TD>
                    #FIELDVALUE#
                    <INPUT type="hidden" name="Cat#FIELDVALUE#" value="#FIELDVALUE#">
                    <cfset tfile=#tfile#&"Cat#FIELDVALUE# #FIELDVALUE#<br>">
                </TD>
                <TD>
                    #XLATSHORTNAME#
                    <INPUT type="hidden" name="CatName#FIELDVALUE#" value="#XLATSHORTNAME#">
                    <cfset tfile=#tfile#&"CatName#FIELDVALUE# #XLATSHORTNAME#<br>">
                </TD>
                <TD align="right">
                    <INPUT type="text" name="#FIELDVALUE#CurrBud" value="#NumberFormat(IIF(BUD1 IS "", "0", "BUD1"), "L9999999999.00")#" size="10" readonly>
                    <cfset tfile=#tfile#&"#FIELDVALUE#CurrBud #NumberFormat(IIF(BUD1 IS "", "0", "BUD1"), "L9999999999.00")#<br>">
                    <CFIF Bud1 NEQ "">
                        <CFSET TCurrBud = TCurrBud + Bud1>
                    </CFIF>
                </TD>
                <TD align="right">
<!---                   <INPUT type="Text" name="#FIELDVALUE#AdjBud" maxlength="10" size="10" onChange="return Calc('#FIELDVALUE#',0)"> --->
                    <CFIF "#qCat.CATEGORY#" EQ 'Y'>
                        <INPUT type="Text" name="#FIELDVALUE#AdjBud" maxlength="10" size="10" onChange="return CheckCalc('#FIELDVALUE#',0)">
                    <CFELSE>
                        <input type="text" name="#FIELDVALUE#AdjBud" size="10" maxlength="10" readonly onChange="return CheckCalc('#FIELDVALUE#',0)">
                    </cfif>
                </TD>
                <TD align="right">
                    <INPUT type="text" name="#FIELDVALUE#RevBud" value="#NumberFormat(IIF(BUD1 IS "", "0", "BUD1"), "L9999999999.00")#" size="10" readonly>
                </TD>
                <TD align="right">
                    <CFIF SpeedType2 NEQ "">
                        <INPUT type="text" name="#FIELDVALUE#CurrBudSub" value="#NumberFormat(IIF(BUD2 IS "", "0", "BUD2"), "L9999999999.00")#" size="10" readonly>
                        <cfset tfile=#tfile#&"FIELDVALUECurrBudSub #FIELDVALUE#CurrBudSub #NumberFormat(IIF(BUD2 IS "", "0", "BUD2"), "L9999999999.00")#<br>">
                        <CFIF Bud2 NEQ "">
                            <CFSET TCurrBudSub = TCurrBudSub + Bud2>
                            <cfset tfile=#tfile#&"TCurrBudSub #TCurrBudSub#<br>">
                        </CFIF>
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
                <TD align="right">
                    <CFIF SpeedType2 NEQ "">
                        <CFIF "#qCatSub.CATEGORY#" EQ 'Y' OR "#FORM.SpeedType_Sub#" EQ 'NEW'>
                            <INPUT type="Text" name="#FIELDVALUE#AdjBudSub" maxlength="10" size="10" onChange="return CheckCalc('#FIELDVALUE#',1)">
                        <CFELSE>
                            <INPUT type="Text" name="#FIELDVALUE#AdjBudSub" maxlength="10" size="10" onChange="return CheckCalc('#FIELDVALUE#',1)" readonly>
                            <cfset tfile=#tfile#&"FIELDVALUEAdjBudSub #FIELDVALUE#AdjBudSub<br>">
                        </CFIF> 
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
                <TD align="right">
                    <CFIF SpeedType2 NEQ "">
                        <INPUT type="text" name="#FIELDVALUE#RevBudSub" value="#NumberFormat(IIF(BUD2 IS "", "0", "BUD2"), "L9999999999.00")#" size="10" readonly>
                        <cfset tfile=#tfile#&"NumberFormat(IIF(BUD2 IS , 0, BUD2), L9999999999.00) #NumberFormat(IIF(BUD2 IS "", "0", "BUD2"), "L9999999999.00")#<br>">
                    <CFELSE>
                        &nbsp;
                    </CFIF>
                </TD>
            </TR>
        </CFOUTPUT>

        <!--- Display Totals --->
        <CFOUTPUT>
            <TR bgcolor="Navy">
                <TD colspan="2" align="right">
                    <FONT color="White">TOTALS:</FONT>
                </TD>
                <TD align="right">
                    <INPUT type="text" name="CurrBudTotal" value="#NumberFormat(TCurrBud, "L9999999999.00")#" size="10" readonly>
                </TD>
                <TD align="right">
                    <INPUT type="text" name="AdjBudTotal" value="#NumberFormat(0, "L9999999999.00")#" size="10" readonly>
                </TD>
                <TD align="right">
                    <INPUT type="text" name="RevBudTotal" value="#NumberFormat(TCurrBud, "L9999999999.00")#" size="10" readonly>
                </TD>
                <CFIF SpeedType2 NEQ "">
                    <TD align="right">
                        <INPUT type="text" name="CurrBudSubTotal" value="#NumberFormat(TCurrBudSub, "L9999999999.00")#" size="10" readonly>
                    </TD>
                    <TD align="right">
                        <INPUT type="text" name="AdjBudSubTotal" value="#NumberFormat(0, "L9999999999.00")#" size="10" readonly>
                    </TD>
                    <TD align="right">
                        <INPUT type="text" name="RevBudSubTotal" value="#NumberFormat(TCurrBudSub, "L9999999999.00")#" size="10" readonly>
                    </TD>
                <CFELSE>
                    <TD align="right">
                        <INPUT type="hidden" name="CurrBudSubTotal" value="0" size="10" readonly>
                    </TD>
                    <TD align="right">
                        <INPUT type="hidden" name="AdjBudSubTotal" value="0" size="10" readonly>
                    </TD>
                    <TD align="right">
                        <INPUT type="hidden" name="RevBudSubTotal" value="0" size="10" readonly>
                    </TD>
                </CFIF>
            </TR>
        </CFOUTPUT>
    </TABLE>

    <BR>

    <H2>Department/Unit Approval:</H2>

    Approved by:
    <INPUT type="Text" name="Approvedby" size="20" maxlength="35">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Title:
    <INPUT type="Text" name="Title" size="20" maxlength="35">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Date:
    <cfinput type="Text" name="Date" required="No" size="20" maxlength="35" onChange="return (isValidDate(this))">
    <BR>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <FONT color="black">(Department Officer/Project Director)</FONT>
    <HR>
        <P>E-mail copy (or copies) of this request to the following e-mail address(es): 
            <input type="text" name="CC_To" size="70" maxlength="250">
    <BR>
    <BR>
    <HR>
<!---
        <B>NOTIFICATION TO BE SENT TO:</B>(Please enter name and fax number of individuals to receive copy of completed form)
    <HR>

    <TABLE>
        <TR>
            <TD>
                <B>Title</B>
            </TD>
            <TD>
                <B>Name</B>
            </TD>
            <TD>
                <B>Fax Number</B>
            </TD>
        </TR>
        <TR>
            <TD>
                School/Department Director:
            </TD>
            <TD>
                <INPUT type="Text" name="SDC" size="30" maxlength="35">
            </TD>
            <TD>
                <INPUT type="Text" name="FaxNumber1" size="10" maxlength="15">
            </TD>
        </TR>
        <TR>
            <TD>
                Project Director-Main Project:
            </TD>
            <TD>
                <INPUT type="Text" name="PDMP" size="30" maxlength="35">
            </TD>
            <TD>
                <INPUT type="Text" name="FaxNumber2" size="10" maxlength="15">
            </TD>
        </TR>
        <TR>
            <TD>
                Project Director-Sub Project:
            </TD>
            <TD>
                <INPUT type="Text" name="PDSP" size="30" maxlength="35">
            </TD>
            <TD>
                <INPUT type="Text" name="FaxNumber3" size="10" maxlength="15">
            </TD>
        </TR>
        <TR>
            <TD>
                School/Department Administrator:
            </TD>
            <TD>
                <INPUT type="Text" name="SDA" size="30" maxlength="35">
            </TD>
            <TD>
                <INPUT type="Text" name="FaxNumber4" size="10" maxlength="15">
            </TD>
        </TR>
        <TR>
            <TD>
                Other: <INPUT type="Text" name="othername" size="30" maxlength="15">
            </TD>
            <TD>
                <INPUT type="Text" name="other" size="30" maxlength="35">
            </TD>
            <TD>
                <INPUT type="Text" name="FaxNumber5" size="10" maxlength="15">
            </TD>
        </TR>
    </TABLE>
--->    
    Remarks (Maximum characters: 250):
    <br>
    <!--<textarea name="remarks" wrap="physical" cols="75" rows="3" maxlength="500">  CC8230 disabled mk5 -->
    <!--</textarea>                                                                   CC8230 disabled mk5 -->

  <!-- CC8230 mk5 - Begin -->
  <TEXTAREA name="remarks" cols="75" onKeyDown="limitText(remarks,countdown,250);" 
            onKeyUp="limitText(remarks,countdown,250);">
  </TEXTAREA>
  <BR>
  You have <INPUT readonly type="text" name="countdown" size="3" value="250"> characters left.</font>
  <!-- CC8230 mk5 - End -->

    <HR>
    <BR>

<!-------------------------------------------------------------------------------------------->
<!--- For testing                                                                          --->
<cffile action="write" file="location\tf99.txt" output=#tfile#>
<!-------------------------------------------------------------------------------------------->
    <TABLE WIDTH = "100%">
        <TR COLSPAN= "100%">
            <TD align="right" width="50%">
                <INPUT type="submit" name="SubmitForm" value="Submit" onClick="return (CheckIfEmailEntered() && CheckFundTotalConsistency())">
            </TD>
            <TD align="left" width="50%">
                <INPUT type="reset" name="ResetForm" value="Clear Form">
            </TD>
        </TR>
    </TABLE>
</CFFORM>

<CFINCLUDE template="br_footer.cfm">

</HTML> 
```

这是它提交的页面（非常简单的页面只是为了编写文本文件，它没有这样做）：

```
<!--- For testing--->
<cffile action="write" file="\\eisdevl.nas.gatech.edu\coldfusion\test\cfapps\cfeis\grantsys\testing\tf100.txt" output=#URL.tfile#> 
```

在表单之前的页面上，还有另一个表单，它只有两个输入框。如果您在该页面上的第一个框 (SpeedType1) 中输入任何内容，则一切正常。但是，如果您在第一个框 (SpeedType1) 和第二个框 (SpeedType2) 中输入任何内容，则在提交上述表单后，我会收到错误页面。我还检查了 application.cfm 文件中的 cfcatch 和 cferror 标签。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-04T16:39:46.730

> ... ColdFusion 9 的最新修补程序 [原文如此] 可能会给提交大量表单的人带来问题。该修复在提交时将表单字段限制为 100 个字段。有一个可用于默认行为的覆盖，但......

参考：[Adobe ColdFusion 9 Hotfix APSB12-06 导致大型表单出现问题](http://www.webtrenches.com/post.cfm/adobe-coldfusion-9-hotfix-apsb12-06-causes-problems-with-large-forms)

简而言之，您可以通过更改`<var name='postParametersLimit'>`设置来覆盖限制`neo-runtime.xml`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T14:51:47.587

您需要在 iis 中启用详细错误，然后您将收到 cf 错误而不是 500 Internal server，这将使调试更加容易。见这里 [www.michaels.me.uk/post.cfm/enabling-coldfusion-railo-errors-on-iis-7](http://www.michaels.me.uk/post.cfm/enabling-coldfusion-railo-errors-on-iis-7)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-04T22:24:49.207

添加您是否测试过使用 ColdFusion 写入该网络路径？它是否具有写入 eisdev1.nas.gatech.edu 的正确凭据？还要确保您的服务器配置为 @user1433501 建议的那样。

将您的 cffile 包装在 try catch 中：

```
<!--- For testing--->
<cftry>

<cffile
    action="write"
    file="\\eisdevl.nas.gatech.edu\coldfusion\test\cfapps\cfeis\grantsys\testing\tf100.txt"
    output=#URL.tfile#
    nameconflict="overwrite"
>
<cfcatch type="any">
    <cfdump var="#cfcatch#">
</cfcatch> 
```

看看这是否暴露了错误。

# windows - 以编程方式或从命令行使用 Movie Maker？

> ID：15182568
> 
> 赞同：0
> 
> 时间：2013-03-03T04:53:20.707
> 
> 标签：windows, command-line, movie

有谁知道我是否可以通过编程方式连接到 Movie Maker，从而通过 API 或其他形式的命令行制作电影？

我找到了这个[Windows Movie Maker 的命令行选项，](http://msdn.microsoft.com/en-us/library/windows/desktop/bb404142%28v=vs.85%29.aspx)但没有**导出**命令来导出视频。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:10:11.830

这将是官方 API： http: [//msdn.microsoft.com/en-us/library/windows/desktop/bb288384](http://msdn.microsoft.com/en-us/library/windows/desktop/bb288384(v=vs.85).aspx) (v=vs.85).aspx 但是我在导出时也一无所获。

[http://avisynth.nl/index.php/Main_Page](http://avisynth.nl/index.php/Main_Page)看起来像一个强大的替代方案（我猜你不介意在这种情况下被卡在 Windows 上）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-19T21:30:01.487

如果您不介意进行一些编程并且拥有 Windows 7 或更高版本，您可以使用 Microsoft Media Foundation： http: [//msdn.microsoft.com/en-us/library/windows/desktop/ff819476(v=vs.85) .aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ff819476(v=vs.85).aspx)

# php - 使用openssl解密不起作用

> ID：15182572
> 
> 赞同：1
> 
> 时间：2013-03-03T04:53:43.970
> 
> 标签：php, openssl, rsa, private-key, encryption-asymmetric

这是我的 php 脚本

```
<?php
$pubfile = fopen("public_key.pem", "r");
$public = fread($pubfile, 8192);
fclose($pubfile);
openssl_get_publickey($public);

$prifile = fopen("private_key.pem", "r");
$private = fread($prifile, 8192);
fclose($prifile);
openssl_get_privatekey($private);

$plaintext = "hello";

openssl_public_encrypt ($plaintext , $crypted , $public);

openssl_private_decrypt($crypted, $decrypted, $private);
echo $decrypted;
?> 
```

我各自的公钥和私钥

private_key.pem

```
 -----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAtwxvPpbvbeJCztWlQCC0w2mQTNICarpIkbFTzlEooXA8Zo30
sN9cdH0Ifa/pIhfx0Lbm+e03Fz5NZelJZ5QRiRfoN9tcb5zYrwvVWx1SR6Zo5moS
S5YEvVSWVpu3D7x3IO2XVtTHlWTTRZk2c+ZuFR3eIwDZbmuOiTmuJMQCJiRd8pqf
4sVCoKzWrUmBuT2pc/sdUQ4IPylGK3yGVyxHNa8gCkBs/zVq3I0Zu7Nx8mW8DTn9
EvP02mkFHynJZgKE0SJftu6Mp9BDl4qR4T8896K+Z1Fi3qx3iK6nkjYjXCYYZB90
6uWiqm7BK/4zbzuc604+BZ4LOPgCsO+aZjx3ywIDAQABAoIBABgTfp5Q4/UkCX2D
BFVG9/+r5trz1HWNQvZGyKseaaWySX+DtGd/OX3o5DED7joZxCibpg3BcbmQ7EU3
RfxlsVjC2DxgkevsSWPcvpdZZ/UcojeMRBPFC6KLeaqymIVtWI3wMjOtkQLJXDCP
UmY0LM6COzGHbxHi+8B44brcPRwe+zJK5ALhPfFEyPsnz9Rw2PLBWceXNeZYN0ja
C699r+a/t0kdJ0+49LLTvFjFECZLArZTK1GZbzACeM/fFl7XvK3tsdAkizys0Dwl
eyDtINkWlg+hzt8uijVY78MvP36RM8k4QIjSX/2p/jupsyZD4I2R9OW+ml9sImok
Ud5YKaECgYEA7xbLLvZ5ddpf/yBSVpGytfU/PzWK5L9cPRbrQPll6iKgimAOTULi
VQAQYaCDL/er/zjVU+a2Kxv1G8yX/LXHXtpSbxIVvgTqtAuGYT0hGkCFtUQaviJG
z/r3DnGiFu+l8FPxw+CQEgeeyNG49TzyA7aODswWm3o6aWElptJDdQ8CgYEAw/7p
RQkgLaKzLNidCNDNq/4/8zmJoMe6GVLGl+HVHKzn6pPZfctI201yaJ5LbyPaYD/2
2MlDleg4A9zZILykS3QRo/ex3H+7exYA4qQcLqXJT8D5oMlNvFiF6NWHu7WJtXlt
q05vcBXdRy6s3by1+SXyH42H6H930AIER1366YUCgYAxfLlPniqjzzCBgTIpwvyH
lxyhO7blBArWhjDpgPWsUcCDA8DSEx7/0wSRAIVG32/VYvEc7asVHzNLrrxizUlY
A75+SPMBIsllvODyrZF1epdyXodehX+8ush6T+Dp+G6TYPywu4F2iec+z9IFyLib
NiUPQQUI53LBrx74+ZqG1wKBgBhFlTXLb4S3RWEkYi4ZTZ8jGWBRm82hblZ8fcOJ
YA7xCrduH90IM7mU2bpDACx/UCfjQ/qM0iXaYDV6QBlhwybk9NpNbmVUHC+eBfYL
RMIyHcAWsdNLmqjcfZjb+LcyQB+NLhus1vgWfRS3nwjGufJk1Js7t7z/LCNCXK1J
4izRAoGBANSNXXYF32hQ8CJt/LqbtQaRcffdwoytFVps1lIlSfmu+huxZ5/yLuZt
AWy9Ob5SiAXeEbPTqYA24qn8ACYL/Ar2CskY22HRJz/poQ1FuMRjf+/qsRP0VF2a
pS4yn7u/iKCSIRheFY8w/u8gzxx/rSks/xEmoBCgOq8nguQkqa1h
-----END RSA PRIVATE KEY----- 
```

public_key.pem

```
 -----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnDI+Q/tbVToQ30DBB0y6
89ivB01gRhuAEYCqMeezhE8CrzQN3WGsox3Q3ortLZkbuFrMQdBN6ZjD1w0k9utx
Lr3MFRbXqAxeXd7NlCz9biBaQw1LboKr10kVyENPTRT2NrQnfsFsI6WfvMKiu62/
ZEHT80DMUvilSSuRbNKrfwMqhKiRbM83Olxepk8XBNyRimvypxaPhcEiQYFlirVq
/jvyUaJg01VjXxp1PKqXwIurF+Eu+W6b4OotLHY0EAPckNiP4XOHMNWd/NG5jV3F
mEzz5Cn9IdMDHSewcA6/rsOqVx0bZOBnSsmVLu9fPsCyrs7eBSXZSlIFKHD39HR6
eQIDAQAB
-----END PUBLIC KEY----- 
```

`$crypted`将加密数据返回给我，但解密没有回应。

`NULL`我对结果做了一个回应，它作为任何想法回来了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:51:09.977

解决了。我不知道发生了什么，但在生成新的密钥对脚本后工作。我可能混淆了我的密钥对

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T11:03:34.307

使用`openssl rsa`转储密钥内容表明您在上面发布的私钥和公钥具有不同的模数。对于匹配的密钥对，私钥和公钥的模数相同。换句话说，你肯定在那里混合了不同的键。

为了检测到这一点，OpenSSL 本身具有[`RSA_check_key()`](https://www.openssl.org/docs/crypto/RSA_check_key.html)检查 RSA 密钥对是否可用的功能，但[OpenSSL 的 PHP 包装器](http://php.net/manual/en/book.openssl.php)似乎并未向用户公开该功能。

公钥：

```
% openssl rsa -in public_key.pem -pubin -text
Public-Key: (2048 bit)
Modulus:
    00:9c:32:3e:43:fb:5b:55:3a:10:df:40:c1:07:4c:
    ba:f3:d8:af:07:4d:60:46:1b:80:11:80:aa:31:e7:
    b3:84:4f:02:af:34:0d:dd:61:ac:a3:1d:d0:de:8a:
    ed:2d:99:1b:b8:5a:cc:41:d0:4d:e9:98:c3:d7:0d:
    24:f6:eb:71:2e:bd:cc:15:16:d7:a8:0c:5e:5d:de:
    cd:94:2c:fd:6e:20:5a:43:0d:4b:6e:82:ab:d7:49:
    15:c8:43:4f:4d:14:f6:36:b4:27:7e:c1:6c:23:a5:
    9f:bc:c2:a2:bb:ad:bf:64:41:d3:f3:40:cc:52:f8:
    a5:49:2b:91:6c:d2:ab:7f:03:2a:84:a8:91:6c:cf:
    37:3a:5c:5e:a6:4f:17:04:dc:91:8a:6b:f2:a7:16:
    8f:85:c1:22:41:81:65:8a:b5:6a:fe:3b:f2:51:a2:
    60:d3:55:63:5f:1a:75:3c:aa:97:c0:8b:ab:17:e1:
    2e:f9:6e:9b:e0:ea:2d:2c:76:34:10:03:dc:90:d8:
    8f:e1:73:87:30:d5:9d:fc:d1:b9:8d:5d:c5:98:4c:
    f3:e4:29:fd:21:d3:03:1d:27:b0:70:0e:bf:ae:c3:
    aa:57:1d:1b:64:e0:67:4a:c9:95:2e:ef:5f:3e:c0:
    b2:ae:ce:de:05:25:d9:4a:52:05:28:70:f7:f4:74:
    7a:79
Exponent: 65537 (0x10001)
writing RSA key
-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnDI+Q/tbVToQ30DBB0y6
89ivB01gRhuAEYCqMeezhE8CrzQN3WGsox3Q3ortLZkbuFrMQdBN6ZjD1w0k9utx
Lr3MFRbXqAxeXd7NlCz9biBaQw1LboKr10kVyENPTRT2NrQnfsFsI6WfvMKiu62/
ZEHT80DMUvilSSuRbNKrfwMqhKiRbM83Olxepk8XBNyRimvypxaPhcEiQYFlirVq
/jvyUaJg01VjXxp1PKqXwIurF+Eu+W6b4OotLHY0EAPckNiP4XOHMNWd/NG5jV3F
mEzz5Cn9IdMDHSewcA6/rsOqVx0bZOBnSsmVLu9fPsCyrs7eBSXZSlIFKHD39HR6
eQIDAQAB
-----END PUBLIC KEY----- 
```

私钥：

```
% openssl rsa -in private_key.pem -text
Private-Key: (2048 bit)
modulus:
    00:b7:0c:6f:3e:96:ef:6d:e2:42:ce:d5:a5:40:20:
    b4:c3:69:90:4c:d2:02:6a:ba:48:91:b1:53:ce:51:
    28:a1:70:3c:66:8d:f4:b0:df:5c:74:7d:08:7d:af:
    e9:22:17:f1:d0:b6:e6:f9:ed:37:17:3e:4d:65:e9:
    49:67:94:11:89:17:e8:37:db:5c:6f:9c:d8:af:0b:
    d5:5b:1d:52:47:a6:68:e6:6a:12:4b:96:04:bd:54:
    96:56:9b:b7:0f:bc:77:20:ed:97:56:d4:c7:95:64:
    d3:45:99:36:73:e6:6e:15:1d:de:23:00:d9:6e:6b:
    8e:89:39:ae:24:c4:02:26:24:5d:f2:9a:9f:e2:c5:
    42:a0:ac:d6:ad:49:81:b9:3d:a9:73:fb:1d:51:0e:
    08:3f:29:46:2b:7c:86:57:2c:47:35:af:20:0a:40:
    6c:ff:35:6a:dc:8d:19:bb:b3:71:f2:65:bc:0d:39:
    fd:12:f3:f4:da:69:05:1f:29:c9:66:02:84:d1:22:
    5f:b6:ee:8c:a7:d0:43:97:8a:91:e1:3f:3c:f7:a2:
    be:67:51:62:de:ac:77:88:ae:a7:92:36:23:5c:26:
    18:64:1f:74:ea:e5:a2:aa:6e:c1:2b:fe:33:6f:3b:
    9c:eb:4e:3e:05:9e:0b:38:f8:02:b0:ef:9a:66:3c:
    77:cb
publicExponent: 65537 (0x10001)
privateExponent:
    18:13:7e:9e:50:e3:f5:24:09:7d:83:04:55:46:f7:
    ff:ab:e6:da:f3:d4:75:8d:42:f6:46:c8:ab:1e:69:
    a5:b2:49:7f:83:b4:67:7f:39:7d:e8:e4:31:03:ee:
    3a:19:c4:28:9b:a6:0d:c1:71:b9:90:ec:45:37:45:
    fc:65:b1:58:c2:d8:3c:60:91:eb:ec:49:63:dc:be:
    97:59:67:f5:1c:a2:37:8c:44:13:c5:0b:a2:8b:79:
    aa:b2:98:85:6d:58:8d:f0:32:33:ad:91:02:c9:5c:
    30:8f:52:66:34:2c:ce:82:3b:31:87:6f:11:e2:fb:
    c0:78:e1:ba:dc:3d:1c:1e:fb:32:4a:e4:02:e1:3d:
    f1:44:c8:fb:27:cf:d4:70:d8:f2:c1:59:c7:97:35:
    e6:58:37:48:da:0b:af:7d:af:e6:bf:b7:49:1d:27:
    4f:b8:f4:b2:d3:bc:58:c5:10:26:4b:02:b6:53:2b:
    51:99:6f:30:02:78:cf:df:16:5e:d7:bc:ad:ed:b1:
    d0:24:8b:3c:ac:d0:3c:25:7b:20:ed:20:d9:16:96:
    0f:a1:ce:df:2e:8a:35:58:ef:c3:2f:3f:7e:91:33:
    c9:38:40:88:d2:5f:fd:a9:fe:3b:a9:b3:26:43:e0:
    8d:91:f4:e5:be:9a:5f:6c:22:6a:24:51:de:58:29:
    a1
prime1:
    00:ef:16:cb:2e:f6:79:75:da:5f:ff:20:52:56:91:
    b2:b5:f5:3f:3f:35:8a:e4:bf:5c:3d:16:eb:40:f9:
    65:ea:22:a0:8a:60:0e:4d:42:e2:55:00:10:61:a0:
    83:2f:f7:ab:ff:38:d5:53:e6:b6:2b:1b:f5:1b:cc:
    97:fc:b5:c7:5e:da:52:6f:12:15:be:04:ea:b4:0b:
    86:61:3d:21:1a:40:85:b5:44:1a:be:22:46:cf:fa:
    f7:0e:71:a2:16:ef:a5:f0:53:f1:c3:e0:90:12:07:
    9e:c8:d1:b8:f5:3c:f2:03:b6:8e:0e:cc:16:9b:7a:
    3a:69:61:25:a6:d2:43:75:0f
prime2:
    00:c3:fe:e9:45:09:20:2d:a2:b3:2c:d8:9d:08:d0:
    cd:ab:fe:3f:f3:39:89:a0:c7:ba:19:52:c6:97:e1:
    d5:1c:ac:e7:ea:93:d9:7d:cb:48:db:4d:72:68:9e:
    4b:6f:23:da:60:3f:f6:d8:c9:43:95:e8:38:03:dc:
    d9:20:bc:a4:4b:74:11:a3:f7:b1:dc:7f:bb:7b:16:
    00:e2:a4:1c:2e:a5:c9:4f:c0:f9:a0:c9:4d:bc:58:
    85:e8:d5:87:bb:b5:89:b5:79:6d:ab:4e:6f:70:15:
    dd:47:2e:ac:dd:bc:b5:f9:25:f2:1f:8d:87:e8:7f:
    77:d0:02:04:47:5d:fa:e9:85
exponent1:
    31:7c:b9:4f:9e:2a:a3:cf:30:81:81:32:29:c2:fc:
    87:97:1c:a1:3b:b6:e5:04:0a:d6:86:30:e9:80:f5:
    ac:51:c0:83:03:c0:d2:13:1e:ff:d3:04:91:00:85:
    46:df:6f:d5:62:f1:1c:ed:ab:15:1f:33:4b:ae:bc:
    62:cd:49:58:03:be:7e:48:f3:01:22:c9:65:bc:e0:
    f2:ad:91:75:7a:97:72:5e:87:5e:85:7f:bc:ba:c8:
    7a:4f:e0:e9:f8:6e:93:60:fc:b0:bb:81:76:89:e7:
    3e:cf:d2:05:c8:b8:9b:36:25:0f:41:05:08:e7:72:
    c1:af:1e:f8:f9:9a:86:d7
exponent2:
    18:45:95:35:cb:6f:84:b7:45:61:24:62:2e:19:4d:
    9f:23:19:60:51:9b:cd:a1:6e:56:7c:7d:c3:89:60:
    0e:f1:0a:b7:6e:1f:dd:08:33:b9:94:d9:ba:43:00:
    2c:7f:50:27:e3:43:fa:8c:d2:25:da:60:35:7a:40:
    19:61:c3:26:e4:f4:da:4d:6e:65:54:1c:2f:9e:05:
    f6:0b:44:c2:32:1d:c0:16:b1:d3:4b:9a:a8:dc:7d:
    98:db:f8:b7:32:40:1f:8d:2e:1b:ac:d6:f8:16:7d:
    14:b7:9f:08:c6:b9:f2:64:d4:9b:3b:b7:bc:ff:2c:
    23:42:5c:ad:49:e2:2c:d1
coefficient:
    00:d4:8d:5d:76:05:df:68:50:f0:22:6d:fc:ba:9b:
    b5:06:91:71:f7:dd:c2:8c:ad:15:5a:6c:d6:52:25:
    49:f9:ae:fa:1b:b1:67:9f:f2:2e:e6:6d:01:6c:bd:
    39:be:52:88:05:de:11:b3:d3:a9:80:36:e2:a9:fc:
    00:26:0b:fc:0a:f6:0a:c9:18:db:61:d1:27:3f:e9:
    a1:0d:45:b8:c4:63:7f:ef:ea:b1:13:f4:54:5d:9a:
    a5:2e:32:9f:bb:bf:88:a0:92:21:18:5e:15:8f:30:
    fe:ef:20:cf:1c:7f:ad:29:2c:ff:11:26:a0:10:a0:
    3a:af:27:82:e4:24:a9:ad:61
writing RSA key
-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAtwxvPpbvbeJCztWlQCC0w2mQTNICarpIkbFTzlEooXA8Zo30
sN9cdH0Ifa/pIhfx0Lbm+e03Fz5NZelJZ5QRiRfoN9tcb5zYrwvVWx1SR6Zo5moS
S5YEvVSWVpu3D7x3IO2XVtTHlWTTRZk2c+ZuFR3eIwDZbmuOiTmuJMQCJiRd8pqf
4sVCoKzWrUmBuT2pc/sdUQ4IPylGK3yGVyxHNa8gCkBs/zVq3I0Zu7Nx8mW8DTn9
EvP02mkFHynJZgKE0SJftu6Mp9BDl4qR4T8896K+Z1Fi3qx3iK6nkjYjXCYYZB90
6uWiqm7BK/4zbzuc604+BZ4LOPgCsO+aZjx3ywIDAQABAoIBABgTfp5Q4/UkCX2D
BFVG9/+r5trz1HWNQvZGyKseaaWySX+DtGd/OX3o5DED7joZxCibpg3BcbmQ7EU3
RfxlsVjC2DxgkevsSWPcvpdZZ/UcojeMRBPFC6KLeaqymIVtWI3wMjOtkQLJXDCP
UmY0LM6COzGHbxHi+8B44brcPRwe+zJK5ALhPfFEyPsnz9Rw2PLBWceXNeZYN0ja
C699r+a/t0kdJ0+49LLTvFjFECZLArZTK1GZbzACeM/fFl7XvK3tsdAkizys0Dwl
eyDtINkWlg+hzt8uijVY78MvP36RM8k4QIjSX/2p/jupsyZD4I2R9OW+ml9sImok
Ud5YKaECgYEA7xbLLvZ5ddpf/yBSVpGytfU/PzWK5L9cPRbrQPll6iKgimAOTULi
VQAQYaCDL/er/zjVU+a2Kxv1G8yX/LXHXtpSbxIVvgTqtAuGYT0hGkCFtUQaviJG
z/r3DnGiFu+l8FPxw+CQEgeeyNG49TzyA7aODswWm3o6aWElptJDdQ8CgYEAw/7p
RQkgLaKzLNidCNDNq/4/8zmJoMe6GVLGl+HVHKzn6pPZfctI201yaJ5LbyPaYD/2
2MlDleg4A9zZILykS3QRo/ex3H+7exYA4qQcLqXJT8D5oMlNvFiF6NWHu7WJtXlt
q05vcBXdRy6s3by1+SXyH42H6H930AIER1366YUCgYAxfLlPniqjzzCBgTIpwvyH
lxyhO7blBArWhjDpgPWsUcCDA8DSEx7/0wSRAIVG32/VYvEc7asVHzNLrrxizUlY
A75+SPMBIsllvODyrZF1epdyXodehX+8ush6T+Dp+G6TYPywu4F2iec+z9IFyLib
NiUPQQUI53LBrx74+ZqG1wKBgBhFlTXLb4S3RWEkYi4ZTZ8jGWBRm82hblZ8fcOJ
YA7xCrduH90IM7mU2bpDACx/UCfjQ/qM0iXaYDV6QBlhwybk9NpNbmVUHC+eBfYL
RMIyHcAWsdNLmqjcfZjb+LcyQB+NLhus1vgWfRS3nwjGufJk1Js7t7z/LCNCXK1J
4izRAoGBANSNXXYF32hQ8CJt/LqbtQaRcffdwoytFVps1lIlSfmu+huxZ5/yLuZt
AWy9Ob5SiAXeEbPTqYA24qn8ACYL/Ar2CskY22HRJz/poQ1FuMRjf+/qsRP0VF2a
pS4yn7u/iKCSIRheFY8w/u8gzxx/rSks/xEmoBCgOq8nguQkqa1h
-----END RSA PRIVATE KEY----- 
```

# javascript - Javascript innerHTML 不允许 onClick javascript 函数

> ID：15182576
> 
> 赞同：-1
> 
> 时间：2013-03-03T04:54:55.363
> 
> 标签：javascript, onclick, href

我不知道为什么，但以下

```
href='javascript:"+ openextlink('http://www.ipetfindr.com/shop/product/' + item._id.$id);+"' 
```

似乎无需用户单击即可自动运行。

```
 document.getElementById("shop-items").innerHTML += "<div class='product " + cssclass + "'><div class='product-images-smaller'><span class='shop-large-image'><img src='" + item.pictures[0] + "'/></span></div><h1>" + item.name + "</h1><div class='prodtext'><b>Status:</b> " + item.status + "<br><b>Price:</b> $" + item.price + "<br><a id='shop_" + item._id.$id + "' href='javascript:"+ openextlink('http://www.ipetfindr.com/shop/product/' + item._id.$id);+"'><h3 id='dshop_" + item._id.$id + "' class='green_button'>Buy Now</h3></a></div></div>"; 
```

谁能告诉我为什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T04:59:04.110

href= `'javascript:"`+ openextlink(' [http://www.ipetfindr.com/shop/product/](http://www.ipetfindr.com/shop/product/) '

我看到一个双引号，是不是错字，改为

href= `'javascript:'`+ openextlink(' [http://www.ipetfindr.com/shop/product/](http://www.ipetfindr.com/shop/product/) '

# powershell - 在 PowerShell v3 中运行并行 Invoke-WebRequest 作业

> ID：15182577
> 
> 赞同：5
> 
> 时间：2013-03-03T04:54:56.137
> 
> 标签：powershell, background-process, powershell-3.0, download, cmdlet

在 PowerShell 中以非常简单的方式同时运行后台作业，但我似乎无法让它与新的（在 v3 中）cmdlet Invoke-WebRequest 一起使用。

我有几千个文件，我正在通过 PowerShell 以脚本方式下载。效果很好，但串联起来需要几天时间：

```
for($f=0;$f -lt $urlList.Count;$f++)
{
    $remote = $urlList[$f] + $fileList[$f]
    $local = 'C:\folder\' + $fileList[$f]
    Invoke-WebRequest $remote -Method Get -OutFile $local -UserAgent FireFox
} 
```

我已经多次尝试利用“AsJob”方法，但它们要么出错，要么完全正常，但没有保存本地文件。这是后者的一个例子：

```
for($f=0;$f -lt $urlList.Count;$f++)
{
    $remote = $urlList[$f] + $fileList[$f]
    $local = 'C:\folder\' + $fileList[$f]
    $command = "Invoke-WebRequest $remote -Method Get -OutFile $local -UserAgent FireFox"
    Start-Job {Invoke-Expression -Command $command}
}
Get-Job|Wait-Job 
```

输出示例：

```
Id     Name            PSJobTypeName   State         HasMoreData     Location             Command                  
--     ----            -------------   -----         -----------     --------             -------                  
339    Job339          BackgroundJob   Running       True            localhost            Invoke-Expression -Com...
341    Job341          BackgroundJob   Running       True            localhost            Invoke-Expression -Com...
343    Job343          BackgroundJob   Running       True            localhost            Invoke-Expression -Com...
339    Job355          BackgroundJob   Completed     True            localhost            Invoke-Expression -Com...
341    Job357          BackgroundJob   Completed     True            localhost            Invoke-Expression -Com...
343    Job359          BackgroundJob   Completed     True            localhost            Invoke-Expression -Com... 
```

奇怪的是，上面的工作完成的速度与下载相关文件的速度大致相同……所以数据似乎在某个地方——只是没有到我的保存位置。我认为它会被记忆但被转储而不被保存。尝试添加和删除“PassThru”选项，但无论哪种方式都得到相同的结果。还尝试将其管道传输到 Out-File，仍然没有乐趣。不知道为什么这个特定的 cmdlet 如此糟糕。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-03T05:16:14.287

您需要以它们实际进入作业的方式传递参数。在 V3 中，您可以使用 $using: 语法来执行此操作：

```
for($f=0;$f -lt $urlList.Count;$f++)
{
    $remote = $urlList[$f] + $fileList[$f]
    $local = 'C:\folder\' + $fileList[$f]
    Start-Job {Invoke-WebRequest $using:remote -Method Get -OutFile $using:local -UserAgent FireFox}
}
Get-Job|Wait-Job 
```

顺便说一句，您不需要使用 Invoke-Expression。只需将您想要在作业中运行的代码放入脚本块中，即一组花括号`{...}`。

# ruby-on-rails - Rake/RSpec 分段错误取决于 Rake 任务格式。为什么？

> ID：15182579
> 
> 赞同：1
> 
> 时间：2013-03-03T04:55:05.917
> 
> 标签：ruby-on-rails, rspec, segmentation-fault, rake

任务中有一个“有趣的”段错误`rake`。从命令行**按照此处引用**的方式运行时，它可以正常工作。如果我`rake`从一个`system`调用中运行所有任务，我会得到一个段错误。

```
task :cruise do
  system 'rake db:reset db:test:clone teabag'
  system 'rake spec'
end 
```

对于那些不熟悉它的人，[Teabag](https://github.com/modeset/teabag)是“一个建立在 Rails 之上的 JavaScript 测试运行器”。所以我们这里基本上是：

1.  重新初始化（开发）数据库
2.  从已知状态开发数据库中克隆测试数据库；和
3.  运行 {Java,Coffee}Script 和 Ruby/Rails 规范。

版本信息：

*   OS X 10.8.2
*   ruby 1.9.3p392（2013-02-22 修订版 39386）[x86_64-darwin12.2.0]
*   **不**使用`rvm`
*   导轨 3.2.12

我的`Gemfile`和`Gemfile.lock`在[这个要点](https://gist.github.com/jdickey/5074510/edit)。**包括**故障转储在内的任务输出[位于 Pastebin 上](http://pastebin.com/rGG8W9N5)。

**编辑于 2013 年 3 月 5 日 12:20 SGT (GMT+8) ***

我将任务重写为

```
task :cruise do
  ['db:reset', 'db:test:clone', 'teabag', 'spec'].each do |task|
    Rake::Task[task].reenable
    Rake::Task[task].invoke
  end
end 
```

它按预期运行。（请注意，我必须添加`Rake::Task[task].reenable`以消除 RSpec 段错误）。

这仍然不能回答为什么 RSpec 在作为多任务`rake`命令行的一部分运行（与原始的`system`-calling 任务一样）或在重新工作的`cruise`任务中运行而不调用`reenable`before时会可靠地发生段错误`invoke`。但我有解决方法，所以我认为问题已*回答*。

# ios - Titanium.Media.createVideoPlayer 性能在设备上不稳定，但在模拟器中则不然

> ID：15182586
> 
> 赞同：0
> 
> 时间：2013-03-03T04:56:53.000
> 
> 标签：ios, mobile, titanium, appcelerator

使用 Ti.Media.VideoPlayer 对象。播放一个简单、简短的 .mp4 文件，文件大小为 10.8MB，未调整或修改宽高比，以 768x1024（横向）播放。
基于针对 iOS 5 的 SDK 2.1.4GA 构建 AdHoc 分发。

代码本身如下：

```
 var videoPlayer = Titanium.Media.createVideoPlayer({
        top: 0,
        autoplay: true,
        backgroundColor: 'white',
        height: 768,
        width: 1024,
        mediaControlStyle: Ti.Media.VIDEO_CONTROL_NONE,
        repeatMode: Ti.Media.VIDEO_REPEAT_MODE_ONE
    });
    videoPlayer.url = '/app/assets/myVideo.mp4'; 
```

其他人有类似的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T18:43:18.350

所以我发现了这个问题，它与代码、模块或实现无关。它实际上是视频本身。因此，据我所知，任何遇到此问题的人，30fps 的视频帧速率都无法正常工作。将其降低到 29.97fps 效果非常好，并且完全符合预期的性能和播放类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-30T09:27:36.863

在创建 VideoPlayer 时添加以下参数 -

```
scalingMode : Titanium.Media.VIDEO_SCALING_ASPECT_FIT 
```

# javascript - 谷歌地图 API 没有在页面上显示地图不知道为什么

> ID：15182588
> 
> 赞同：4
> 
> 时间：2013-03-03T04:57:56.563
> 
> 标签：javascript, google-maps

现在已修复，我猜 Twitter Bootstrap CSS 必须与将高度和宽度设置为 100% 冲突。留给任何有类似问题的人。

当用户单击链接时，我正在尝试在我的网页上实现谷歌地图，所有 PHP 工作正常但由于某种原因谷歌地图没有显示，我重新阅读了 API 文档中的所有示例并重新阅读所有代码，但仍然无法正常工作，不知道为什么..

这是显示地图的页面

注意：PHP 工作正常，脚本在页面加载时加载，但地图不是。

```
<?php
    /* Include header and config and set variable*/
    require_once('config.inc.php');
    require_once($rootdir . $dirsubfolder . 'navbar.php');
    $route = $_GET['route'];
?>

<?php
/* User wants to retrieve their route */
if (isset($route)) {
?>

<?php
/* User wants Route 1 */
if (strcmp($route, "sunroute1") == 0) {
?>
<script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
      }

      function loadScript() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://maps.googleapis.com/maps/api/js?key=WORKINGKEYk&sensor=true&callback=initialize";
        document.body.appendChild(script);
      }

    window.onload = loadScript;
</script>
<?php
printf('worked');
} else { printf('failed'); }
?>

<div class="container">
    <div class="hero-unit">
        <div id="map_canvas" style="width: 100%; height: 100%"></div>
    </div>
</div>

<?php
    /* End isset(route) */
    }
    /* Include footer */
    require_once($rootdir . $dirsubfolder . 'footer.php');
?> 
```

在我的footer.php里面我有

```
<script src="https://maps.googleapis.com/maps/api/js?key=MYKEYWORKING&sensor=false"></script> 
```

这是`view source`来自页面

```
<script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
      }

      function loadScript() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://maps.googleapis.com/maps/api/js?key=WORKING&sensor=true&callback=initialize";
        document.body.appendChild(script);
      }

    window.onload = loadScript;
</script>
worked
<div class="container">
    <div class="hero-unit">
        <div id="map_canvas" style="width: 100%; height: 100%"></div>
    </div>
</div> 
```

我在页脚的脚本

```
 <script src="http://code.jquery.com/jquery-latest.js"></script>
      <script src="js/bootstrap-transition.js"></script>
      <script src="js/bootstrap-alert.js"></script>
      <script src="js/bootstrap-modal.js"></script>
      <script src="js/bootstrap-dropdown.js"></script>
      <script src="js/bootstrap-scrollspy.js"></script>
      <script src="js/bootstrap-tab.js"></script>
      <script src="js/bootstrap-tooltip.js"></script>
      <script src="js/bootstrap-popover.js"></script>
      <script src="js/bootstrap-button.js"></script>
      <script src="js/bootstrap-collapse.js"></script>
      <script src="js/bootstrap-carousel.js"></script>
      <script src="js/bootstrap-typeahead.js"></script>
      <script src="https://maps.googleapis.com/maps/api/js?key=WORKING&sensor=false"></script>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:40:24.747

现在已修复，我猜 Twitter Bootstrap CSS 必须与将高度和宽度设置为 100% 冲突。留给任何有类似问题的人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T09:43:25.233

你是对的，这`height:100%`是问题所在，但这并不是与 Bootstrap 的神秘冲突。您没有显示足够多的代码来确定到底出了什么问题，但是多次看到和经历过类似的问题，我很清楚它可能是什么。

我怀疑在您初始化地图时，`hero-unit`尚未为元素指定高度或宽度，因此其高度为零。正因为如此，`map_canvas`元素的高度也为零。毕竟，100% 的零是零。

当您调用 时，它会使用您给它的元素`new google.maps.Map()`的当前高度（即零）创建地图。`map_canvas`这效果不太好。

即使你稍后给出`hero-unit`一个高度，也不能解决它。当然，`height:100%`现在将导致`map_canvas`也调整大小以匹配，但 Maps API 不知道发生了这种情况！

您可以通过为`map_canvas`元素指定显式高度来解决此问题，或者在调整元素大小*后进行此调用：*

```
google.maps.event.trigger( map, 'resize' ); 
```

这告诉 Maps API 查看新元素大小并进行相应调整。如果您想要一个可调整大小的地图，这也是调用：监听`resize`地图元素上的事件并在事件触发时进行调用。

为了说明，让我们看一个非常简化的代码版本，其中包含一些日志记录：

```
<!DOCTYPE html>
<html>
<head>
    <title>CSS Width and Height Test</title>
</head>

<body onload="test()">

    <div id="container">
        <div id="hero-unit">
            <div id="map_canvas"
                style="width: 100%; height: 100%"
            ></div>
        </div>
    </div>

    <script>
        function test() {
            var hero = document.getElementById('hero-unit');
            var canvas = document.getElementById('map_canvas');

            console.log(
                'Canvas size before setting hero size: ' +
                canvas.offsetWidth + 'x' +
                canvas.offsetHeight
            );

            hero.style.height = '300px';
            hero.style.width = '400px';

            console.log(
                'Canvas size after setting hero size: ' +
                canvas.offsetWidth + 'x' +
                canvas.offsetHeight
            );
        }
    </script>

</body>
</html> 
```

保存该页面并在您最喜欢的浏览器中查看它，同时打开开发人员工具控制台，这样您就可以看到日志消息。例如，在 Windows 上的 Chrome 中，使用该`F12`键打开开发人员工具，然后单击控制台选项卡。

您应该会看到类似这样的内容（宽度值将取决于您的浏览器窗口的宽度）：

```
Canvas size before setting hero size: 1244x0      css-height.html:20
Canvas size after setting hero size: 400x300      css-height.html:29 
```

如您所见，在调整其父级的大小之前，`map_canvas`高度为零，宽度*比*您预期的要大。

一些相关评论：

如果您不习惯像我们在这里所做的那样使用浏览器的开发人员工具，请花一些时间熟悉它们。特别是 Chrome 在该开发人员面板中有一组很棒的工具。您可以通过在任何地方添加以下语句来在 JavaScript 代码中设置断点：

```
debugger; 
```

或通过在开发者工具中查看源文件并单击左边距。当浏览器在断点处停止时，您可以检查 JavaScript 变量和各种东西。您可以随时使用开发人员工具面板中的元素选项卡来检查您的 DOM 元素。对于这个错误，您可以`map_canvas`在 Elements 选项卡树视图中找到您的并查看它的 Computed Styles - 您会发现高度为零。

*此外，在调试 Maps API 代码时完全忽略*您的 PHP 代码，可以省去一些麻烦。地图 API 是一种 JavaScript API。它看不到您的 PHP 代码；它甚至不知道您用 PHP 编写了您的网站。它所看到的只是交付给浏览器的最终 HTML/CSS/JavaScript 代码。

最后，您似乎加载了两次 Maps API，第一次使用内联脚本，然后使用异步方法。一次就足够了。为了简单起见，我会坚持使用内联脚本，除非您需要异步加载。

# javascript - 链接的 href 中的 javascript:// 是什么意思

> ID：15182597
> 
> 赞同：0
> 
> 时间：2013-03-03T04:59:00.627
> 
> 标签：javascript, ajax, jquery, javascript-events

昨天，我参观了一个论坛。每个帖子下都有喜欢和不喜欢的按钮。当我单击 Like 按钮时，Like 被计算在内而没有任何页面重新加载。这意味着 Ajax 正在工作。但是当我检查像这样的链接的href时

```
<a href="javascript://" name="dbtech_thanks_button" data-postid="1369522" data-button="likes" style="padding-right:6px;"><img src="dbtech/thanks/images/likes.png" alt="Likes" title="Likes"> Like</a> 
```

我还检查了（使用可视事件）该链接没有附加事件侦听器。所以，我无法理解它是如何工作的。有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:02:44.467

```
javascript: return 0; 
```

做同样的事情。

这只会无用地创建一个随机正则表达式文字，然后将其丢弃。这可能是一些程序员的无知。

这是包括在内的，因为`a`标签必须有一个`href`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:01:14.353

就其本身而言，带有 的链接`href="javascript://"`在单击时根本不执行任何操作。这与带有 的链接相反`href="#"`，它将当前位置的锚设置为`#`，或者空白或未设置`href`，这将导致导航到当前页面。

在这种情况下，由于没有显式`onclick`处理程序，也没有附加到此链接的事件处理程序，因此必须有一些更高级别的事件处理程序在单击事件冒泡到页面时捕获它们。如果无法看到该站点，就无法确定它是如何工作的，但我的猜测`data-button="likes"`是这里涉及到该属性。

# c - 将指向数组的指针作为参数传递给函数

> ID：15182601
> 
> 赞同：0
> 
> 时间：2013-03-03T04:59:20.880
> 
> 标签：c, parameter-passing

我正在尝试在`INSERTION SORT`此处实施`C`，我认为我已经成功完成了。但是，我在`passing arrays as arguments`.

我想要就地排序，这意味着传递给`insertion_sort`函数的原始数组应该包含排序数组本身的元素。

```
#include<stdio.h>

int * insertion_sort(int *a,int length)
{
    int j;
    for(j=1;j<length;j++)
    {
        int i,key=a[j];
        for(i=j-1;j>=0;j--)
        {
            if(a[i]<=key)
                break;
            a[i+1]=a[i];
        }  
        a[i+1]=key;
    }

    return *a;
}

int main(void)
{
    int a[]={10,12,7,6,9,8};
    insertion_sort(a,6);
    int i;    
    for(i=0; i<6; i++)
       printf("%d\n", a[i]);

    return 0;
} 
```

**编辑** 输出屏幕中没有打印任何内容。帮我找到这里的错误。谢谢 ！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:01:22.797

1.您可能打算`i`在内部循环中使用：

改变：

```
for(i=j-1;j>=0;j--) 
          ^^   ^^ 
```

到：

```
for(i=j-1;i>=0;i--) 
```

2.当原始数组被修改时，您不必返回任何内容（这也是因为您忽略了返回的值）。

3.数组索引从0开始。将外循环更改为： `for(j=0;j<length;j++)`

# javascript - 在javascript中覆盖前面的函数

> ID：15182603
> 
> 赞同：0
> 
> 时间：2013-03-03T04:59:55.113
> 
> 标签：javascript, jquery, overriding, fade

假设我有很多 div “页面”设置如下：

```
<script type="text/javascript">

$('.link').on('click', function(e){
    fadeOutPage();
    $(this.getAttribute("href")).fadeIn(); //fade in clicked page
});

function fadeOutPage() {
    $('#container>div').fadeOut(); //fade out all displayed pages
}

</script>

<a href="#page1" class="link">page 1</a>
<a href="#page2" class="link">page 2</a>
<a href="#page3" class="link">page 3</a>

.... 
....

<div id="container">

    <div id="page1">
        <div class="navbar"> contents of navbar 1 </div>
        <div class="pagecontents"> contents of page 1 </div>
        <div class="pagefooter"> more contents for page 1 </div>
    </div>

    <div id="page2">
        <div class="navbar"> contents of navbar 2 </div>
        <div class="pagecontents"> contents of page 2 </div>
        <div class="pagefooter"> more contents for page 2 </div>
    </div>

    <div id="page3">
        <div class="navbar"> contents of navbar 3 </div>
        <div class="pagecontents"> contents of page 3 </div>
        <div class="pagefooter"> more contents for page 3 </div>
    </div>

    ...
    ...

</div> 
```

这可以按我的意愿工作，淡出所有页面，然后在我单击链接时淡入单击的页面。**但我想延迟 ".pagefooter" 的淡入，**比如说 1000 毫秒，但将 ".pagefooter" 保留在父 div "#pageX" 中。现在当我调用 "$(this.getAttribute("href")).fadeIn();" 它会同时淡入“#pageX”。

如何覆盖它，以便我可以在某处插入 settimeout(function() {('.pagefooter').fadeIn()},1000) ，以便除“.pagefooter”之外的所有其他内容正常淡入，然后“.pagefooter”之后在 1000 毫秒内消失？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:06:18.873

**编辑**：给你：

```
$('#page1').show().find('div').hide().filter(function () {
    return !$(this).hasClass('pagefooter');
}).fadeIn().add('.pagefooter').delay(1000).fadeIn(); 
```

这是一个工作演示：http: [//jsfiddle.net/mFjg5/1](http://jsfiddle.net/mFjg5/1)

# php - 使用javascript函数后html中元素位置的变化

> ID：15182605
> 
> 赞同：0
> 
> 时间：2013-03-03T05:00:14.903
> 
> 标签：php, javascript, jquery, html

我有一个代码，我将一次显示三个以上的图表。我使用 div 标签和表格来分隔每个图表，并在另一个下方显示所有内容。但是当我尝试使用 javascript 函数来查看一个图形并隐藏其余图形时。图表的位置发生变化。该图将以不完整的方式显示。它通常以以下方式显示：http: [//i47.tinypic.com/or1d91.png](http://i47.tinypic.com/or1d91.png) 但是当我使用 javascript 函数时，它显示为：http: [//i48.tinypic.com/345zkeq.png](http://i48.tinypic.com/345zkeq.png)

我包括以下 javascript 和 html 部分的代码：

```
 <script>
    hideAllDivs = function () {
  $("#uae").hide();
  $("#ksa").hide();
  $("#iran").hide(); 
  };

 handleNewSelection = function () {

 hideAllDivs();

 switch ($(this).val()) {
    case '1':
        $("#ksa").show();
    break;
    case '2':
        $("#uae").show();
    break;
    case '3':
        $("#iran").show();
    break;
 }
 };

 $(document).ready(function() {

 $("#view").change(handleNewSelection);

// Run the event handler once now to ensure everything is as it should be
handleNewSelection.apply($("#view"));

});
</script>
</head>
<body>
<table align="center"><tr><td><select id="view">
<option value="">Overall</option>
<option value="1">KSA</option>
<option value="2">UAE</option>
<option value="3">IRAN</option>
</select>
</td></tr></table>
<div id="country">
<table align="center">
<tr><td style="width:800px;height:500px"><div id="container5" style="min-width: 400px;  height: 400px; margin: 0 auto;margin-top:50px"></div></td>
<td><table style="border: solid thin #000"><th>Country</th><th>Risk Score</th><?php     foreach( $names4 as $n){
                   echo "<tr><td>";
                   echo $n[0];
                   echo "</td><td>";
                   echo $n[1];
                   echo "</td></tr>";}
                   ?></table>
</td></tr>
</table>
</div>
<div id="ksa">
<table align="center">
<tr><td style="width:800px;height:500px"><div id="container2" style="min-width: 400px; height: 400px; margin: 0 auto;margin-top:50px"></div></td>
<td><table style="border: solid thin #000"><th>Username</th><th>Risk Score</th><?php  foreach( $names1 as $n){
                   echo "<tr><td>";
                   echo $n[0];
                   echo "</td><td>";
                   echo $n[1];
                   echo "</td></tr>";}
                   ?></table>
</td></tr>
</table>
</div>
<div id="uae">
<table  align="center">
<tr><td style="width:800px;height:500px"><div id="container3" style="min-width: 400px; height: 400px; margin: 0 auto;margin-top:50px"></div></td>
<td><table style="border: solid thin #000"><th>Username</th><th>Risk Score</th><?php foreach( $names2 as $n){
                   echo "<tr><td>";
                   echo $n[0];
                   echo "</td><td>";
                   echo $n[1];
                   echo "</td></tr>";}
                   ?></table>
</td></tr>
</table>
</div>
<div id="iran">
<table  align="center">
<tr><td style="width:800px;height:500px"><div id="container4" style="min-width: 400px; height: 400px; margin: 0 auto;margin-top:50px"></div></td>
<td><table style="border: solid thin #000"><th>Username</th><th>Risk Score</th><?php  foreach( $names3 as $n){
                   echo "<tr><td>";
                   echo $n[0];
                   echo "</td><td>";
                   echo $n[1];
                   echo "</td></tr>";}
                   ?></table>
</td></tr>
</table>
</div> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:18:01.870

我相信您的问题出在表格中的 div 中， div = container 5, div container 2 , div contaier 3 等。您给表格的宽度为 800px，然后在其中放置一个 div 给您 400 px；，它是 100% NOT THE JAVASCRIPT，它是计算出来的 css

# javascript - mouseenter 和 document click 总是闪烁第一个 li 元素

> ID：15182608
> 
> 赞同：1
> 
> 时间：2013-03-03T05:00:29.777
> 
> 标签：javascript, jquery

我刚刚创建了一个功能区样式菜单，当您使用鼠标输入和文档单击列表中的第一个元素时，问题出在 FireFox 和 Google Chrome 浏览器中总是闪烁我在 IE 中没有这个问题有人可以查看我的页面并查看源代码并拥有一个看看我的 jquery 代码，看看你是否能找到导致这个小故障的原因 - 页面在[这里](http://shopnbuy.vacau.com/menu.php)

它必须与我传入这个 selected_slide(this) 的 mouseenter 函数有关

鼠标输入：

```
function select_slide(element) {
    if($(element).hasClass('.nav_divider_before')) return 
    $('.nav_browse_ul li')..removeClass('active');      
    $(element).addClass('active');      

    if($(element).attr('data-id') != null) {
        var current_content = $('#' + $(element).attr('data-id'));

        selected_slide = current_content;               
        $('.ribbon_slides').show();
        rotate_ribbon_slides(element);      

        if(isAnimating) return;

            if(!isOpen) {
                isAnimating = true;
                $('.ribbon_slides').animate({'width': '+=' + (current_content.width() + 20).toString() })
                $('.ribbon_panel').animate({'width': '+=' + (current_content.width() - 14).toString()}, function(){ 
                    isOpen = true;
                    isAnimating = false;
                })              
            }

        }

    } 
```

文档点击

```
$(document).click(function(e) {
        /**/
        if(!$(e.target).closest('.ribbonmenu').length) {
            if($('.nav_browse_ul li').hasClass('active')) {
                $('.nav_browse_ul li').removeClass('active');   
            }
            $('.ribbon_slides').animate({'width': '-=' + ($(selected_slide).width() + 20).toString()});
            $('.ribbon_panel').animate({'width': '-=' + $(selected_slide).width()}, function() {
                $('.nav_browse_ul li.nav_divider_before').css('margin-right', '0px');
                $('.ribbon_slides').hide();                     
            });

            isOpen = false;
        }

    }) 
```

# android - ImageButton - 从图库中获取图像 - 将其设置为 imagebutton - （如何让按钮内的图像“粘贴”？）

> ID：15182611
> 
> 赞同：0
> 
> 时间：2013-03-03T05:00:45.443
> 
> 标签：android, imagebutton

我有一个简单的问题，已经四处寻找，但到目前为止还没有运气。（音板类型的应用程序 - 到目前为止只有一个按钮）

目前，我单击主屏幕上的“音板”按钮，它会导致我的一键试用音板 - 我在页面顶部有一个“添加图像”按钮。按钮下方是一个空白图像按钮（待填充）。单击“添加图像”后，我将被带到我选择图像的画廊。选择后，图像被设置为imagebutton中的背景（源变成背景）。经过多次试验和错误，我终于解决了缩放问题（如果选择的图像很大，它会在按钮内爆炸）。

现在我的问题是让选定的图像“粘”到按钮上。如果我单击后退按钮返回底部栏上的主页或单击操作栏上的后退按钮（从音板页面）---然后返回音板---之前选择的图像被设置为 imagebutton 不再存在（似乎图像按钮被重置或重新初始化）。**如果我转到不同的页面或退出，有没有办法可以让选定的图像粘贴而不擦除/清除？不确定如何处理**

包括一个代码片段，用于将所选图像从画廊设置为图像按钮并执行某种缩放。我无法发布图片...但我希望您能想象...非常简单。

谢谢你！

PS：最终的目标是使用 soundpool 和 raw 文件夹中的一个小音频剪辑，并将其链接到上面的图像按钮 - 音频输出。

```
 ImageButton imagebutton = (ImageButton) findViewById(R.id.imBut);

        Bitmap bitmaporg = BitmapFactory.decodeFile(picturePath);
        bitmaporg = Bitmap.createScaledBitmap(bitmaporg,350,350,true);

        imagebutton.setImageBitmap(bitmaporg); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:42:09.720

获得图像路径后尝试此操作，将包名替换为您的实际包名：

```
 try {
                BufferedWriter writer = new BufferedWriter(new FileWriter("/data/data/packagename/" + "filename.txt"));

                writer.write(picturePath);

                writer.close();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } 
```

然后在带有 imageview 的活动的 onCreate 中尝试以下操作：

```
ImageButton imagebutton = (ImageButton) findViewById(R.id.imBut);
try {
            BufferedReader inputReader = new BufferedReader(new FileReader("/data/data/packagename/"+ "filename.txt"));
            String inputString;
while ((inputString = inputReader.readLine()) != null) {
Bitmap bitmaporg = BitmapFactory.decodeFile(inputString);
    bitmaporg = Bitmap.createScaledBitmap(bitmaporg,350,350,true);

    imagebutton.setImageBitmap(bitmaporg);
}
        } catch (IOException e) {
            e.printStackTrace();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:21:16.420

您可能希望将调整大小的按钮图像保存在本地，以便以后使用。即使在关闭并重新开始之后。

这里发生的是一个新的活动实例（带有按钮）正在初始化，它没有关于应用到其他按钮实例的图像的信息。

您想要的是在初始化活动（活动的构造函数）时检查是否保存了图像（您只会保存），以及是否存在应用图像。看到这个[SO](https://stackoverflow.com/questions/8012582/saving-image-retrieved-from-inputstream-locally) question，它有很好的小漂亮答案。（您已经知道如何从给定路径获取数据）。

否则，如果您希望图像仅在运行之间保留，您可能希望将图像源保存为某个全局变量，然后您可以通过意图将图像源传递给新活动，或者直接在新活动中使用它，因为它已经是全局的多变的。

对于全局变量，您可能需要查看这些 SO 问题：

[Android全局变量](https://stackoverflow.com/questions/1944656/android-global-variable)和[Android：如何声明全局变量？](https://stackoverflow.com/questions/708012/android-how-to-declare-global-variables)

# javascript - jQuery：优先考虑事件

> ID：15182618
> 
> 赞同：0
> 
> 时间：2013-03-03T05:01:25.353
> 
> 标签：javascript, jquery

有没有办法让事件优先？所以在下面的例子中，它总是首先触发 div1 事件，但我想先触发 div2 事件。我可以将 div2 移到 div1 div 之外，但由于其他事情（如果这是最好的选择，我会这样做），它会包括更多的工作。

另外，这是现代方法吗？我知道人们谈论使用 .on 而不是 .live，但我不认为 .click 有问题，不是吗？

```
<div id="div1">
    Various content etc.
    <div id="div2">XXclickable content hereXX</div>
</div>

$('#div1').click(function(e) {
    alert("clicked 1");
});
$('#div2').click(function(e) {
    alert("clicked 2");
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-11T08:48:09.887

我在 JSFiddle 上试过这个，在 jQuery 上的每个版本都可用，在 Firefox 和 Chrome 上`div2`，你的示例代码中的事件总是首先触发。根据我对传播/冒泡的理解，情况一直如此。

[jsfiddle](http://jsfiddle.net/gozek9hs/)

无论如何，事件委托可能是一个更好的主意。也就是说，`div2`首先不是直接附加事件处理程序，而是向处理程序添加额外的逻辑`div1`并检查`event.target`调用者的身份。

[jsfiddle](http://jsfiddle.net/gozek9hs/1/)

# javascript - 为什么 toString.call('my string') 与 'my string'.toString() 不同，或者，为什么 document.toString !== 'asd'.toString？

> ID：15182623
> 
> 赞同：2
> 
> 时间：2013-03-03T05:02:50.007
> 
> 标签：javascript

正在阅读 Underscore.js 以了解它的`is[String|Number|...]`方法是如何工作的，现在我很困惑。下划线：

```
toString.call(obj) == ['object ' + name + ']'; 
```

好的，所以，我可以

```
>>> toString.call('my string')
"[object String]" 
```

但

```
>>> 'my string'.toString()
"my string" 
```

我在这里迷路了！在第一个电话中，我得到了：

```
>>> document.toString === toString
true 
```

和

```
>>> document.toString === 'asd'.toString
false 
```

所以，我很困惑。我没想到会有这种行为。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:11:34.667

那是因为：

```
document.toString === Object.prototype.toString 
```

它实现了最基本的版本`toString`，类似于：

```
'[object ' + (typeof this) + ']'; 
```

这与 非常不同`String.toString()`，后者仅输出字符串本身，即：

```
> String.prototype.toString.call('hello world')
"hello world" 
```

或者`Array.toString()`它输出一个逗号分隔的值字符串。

```
> Array.prototype.toString.call([1,2,3])
"1,2,3" 
```

**使用`.call()`**

为了完成这项工作，它们基本上`toString()`通过使用以下方式应用于对象`.call()`：

```
toString.call(obj) 
```

Inside the `toString` method, `this` now refers to `obj`. This would be equivalent:

```
Object.prototype.toString.call(obj) 
```

# iphone - 色轮返回值

> ID：15182625
> 
> 赞同：1
> 
> 时间：2013-03-03T05:03:02.540
> 
> 标签：iphone, ios, objective-c

我有一个在触摸时旋转的色轮图像。我无法弄清楚的是如何确定旋转停止时它落在哪种颜色上。实现这一目标的最简单方法是什么？我是新手，所以示例代码会有所帮助。想法？

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:11:07.113

您知道轮子在完成旋转后停在哪个角度，对吗？

如果您的颜色沿轮子均匀分布，您可以使用它来确定与起始位置的偏移量，除以颜色数将告诉您哪种颜色位于顶部。如果车轮的位置标记不是死角，请再次偏移。

# bonsaijs - 盆景文字不一致

> ID：15182628
> 
> 赞同：0
> 
> 时间：2013-03-03T05:03:28.463
> 
> 标签：bonsaijs

我刚开始使用 BonsaiJS，我发现 Text 的显示方式有一些奇怪的行为。如下图所示，在 Chrome(25)、Firefox(19) 和 IE(9) 上，站点上的文本示例仅在 chrome 上正确显示，而在轨道上的相同示例在所有 3 个浏览器中似乎都是正确的，除了顶部留下的空白由于某种原因而变化..

![文字显示不一致](../Images/6bce3ed9e4d813c01c5a182aaabd2a49.png)

关于为什么会发生这种情况以及我该如何解决的任何线索？

PS：我已经降低了 textStrokeWidth 因为我无法忍受以全黄色显示的文本'^^

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T06:25:16.827

我认为这个问题已在 0.4.3 版中得到修复。

*   最新的 0.4 版本：[http ://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js](http://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js)
*   根据票证：[https ://github.com/uxebu/bonsai/issues/166](https://github.com/uxebu/bonsai/issues/166)

# c# - 解码json给定异常

> ID：15182630
> 
> 赞同：0
> 
> 时间：2013-03-03T05:03:59.577
> 
> 标签：c#, json, c#-4.0

我试图获得价值`js`，但我得到：

> System.Web.Extensions.dll 中出现“System.InvalidOperationException”类型的第一次机会异常
> 
> 附加信息：数组的反序列化不支持类型“System.String”。

如何解决这个问题？

```
 string a = "{\"payload\":{\"js\":[\"abc\"]}}";
    JavaScriptSerializer ser = new JavaScriptSerializer();
                JSONData j = ser.Deserialize<JSONData>(a);
                Console.WriteLine(j.payload.js.ToString());

    public class JSONData
    {
        public payload payload { get; set; }
    }
    public class payload
    {
        public string js { get; set; }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:07:18.753

你的 JSON：

```
{ "payload": { "js": ["abc"] } } 
```

该成员`js`不是字符串，而是字符串数组。修改您的 JSON 以匹配您的类结构：

```
{ "payload": { "js": "abc" } } 
```

...或修改您的类结构以匹配您的 JSON：

```
public class payload
{
    public string[] js { get; set; }
} 
```

# haskell - 从列表中获取所需数据

> ID：15182632
> 
> 赞同：1
> 
> 时间：2013-03-03T05:04:20.737
> 
> 标签：haskell, types, algebraic-data-types

```
data SomeData = A Int
              | B Int
              | C Int

list :: [SomeData]
list = [ A 1, B 2, C 3]

wantedData = filter (?) list -- wantedData is A 1 
```

对于上面的代码，我应该在 (?) 中输入什么函数才能获得所需的数据？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:08:43.390

如果您只希望列表包含`A`值，那么这应该作为您的谓词：

```
isA (A _) = True
isA _ = False 
```

这只是模式匹配。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-03T08:11:52.597

更接近于编写匿名函数并且不必定义新函数的能力是列表推导式。

例如，你可以说

```
list = [ A 1, B 2, C 3]

wantedData = [ A n | A n <- list ] -- result: [A 1] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T13:42:52.823

另一种可能：

```
data SomeData = A Int | B Int | C Int
                            deriving (Show, Read, Eq)

list :: [SomeData]
list = [ A 1, B 2, C 3 ]

wantedData :: [SomeData]
wantedData = filter (== A 1) list             -- wantedData is A 1 
```

测试：

```
> wantedData 
> [A 1] 
```

# java - BeanValidation 的上下文相关验证

> ID：15182638
> 
> 赞同：0
> 
> 时间：2013-03-03T05:05:48.730
> 
> 标签：java, bean-validation

我是 JSR 303 BV 的忠实粉丝，但在我当前的项目中，我有很多“上下文相关验证”，我找不到任何合理的方法来使用 BV 来实现它们。基本上验证规则可以依赖于

*   登录用户（存储在http请求中）
*   我们采取行动的用户 - 用户的 id 是 REST URL 的路径参数，例如 /foo/bar/user/1/sth
*   这两个

一个小例子：

```
class Alphabet{
@Valid
private Alpha a;
@Valid
private Beta b;
@Valid
private Gamma g;
} 
```

和验证规则：如果将在 URL 中提供 id 的用户具有角色“admin”，则“a”、“b”、“g”属性都不能为空。如果它具有角色“用户”，则只有“a”不能为空，其他道具必须为空。

所以基本上这些规则可以很容易地实现为 Alphabet 类的类级别约束，但自定义验证器需要以某种方式访问​​ URL 中提供的用户的 id。有没有什么聪明的方法可以实现，或者我必须强制所有 REST 客户端多次传递用户 ID：在 URL 和有效负载中，因此后者将仅由 BV 使用。更复杂的情况是验证规则取决于登录用户，因此自定义验证器必须以某种方式访问​​经过身份验证的主体 - 从 ThreadLocal 或 HttpServletRequest。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T07:56:55.440

您可以使用[验证组](http://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#validator-usingvalidator-validationgroups)：

```
//Define validation groups
interface AdminChecks {}
interface UserChecks {}

//Assign the constraints to the two groups
class Alphabet{

    @NotNull(groups={AdminChecks.class, UserChecks.class})
    private Alpha a;

    @NotNull(groups=AdminChecks.class)
    @Null(groups=UserChecksChecks.class)
    private Beta b;

    @NotNull(groups=AdminChecks.class)
    @Null(groups=UserChecksChecks.class)
    private Gamma g;
} 
```

根据当前用户的角色，您可以在调用验证器时指定`AdminChecks`或`UserChecks`在调用验证器时指定，例如用于管理员检查：

```
Validator validator = ...;
Set<ConstraintViolation<Alphabet>> violations = validator.validate(
    new Alphabet(),
    AdminChecks.class
); 
```

# javascript - 根据日期显示 div (jQuery - JS)

> ID：15182639
> 
> 赞同：0
> 
> 时间：2013-03-03T05:05:51.837
> 
> 标签：javascript, jquery

对于 JS ninjas 这可能是基本的 JS 编程，但我不确定如何攻击它，因为我是 Javascript/jQuery 菜鸟。

**我想根据今天的日期显示一个 div。**

*逻辑是这样的：*

检查今天的日期，如果今天的日期是 span.job-date 的 30 天或更长时间，则显示 div.message。此外，我想将天数插入到 div 中的消息中。（在此示例中，将显示消息）。

```
<span class="job-date">1-14-2013</span>

<div class="message">This job is XX days old it may no longer be available</div> 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:22:41.943

这应该会有所帮助。您可以使用此函数来确定过去日期和今天之间的天数差异：

```
function getDaysOld(date) {
  // Get difference in days from ms and floor result
  return 0|(new Date() - date) * 1.16e-8;
} 
```

你可以像这样使用它：

```
if (getDaysOld(new Date('1-14-2013')) >= 30) {
  ...
} 
```

您可以`span`使用 jQuery 从您的文本中提取文本，并在需要时使用此功能显示/隐藏文本`div`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T05:22:51.850

JS：

```
$(function() {
  var jobDateText = $(".job-date").html()
    , jobDate = new Date(jobDateText)
    , today = new Date()
    , thirtyDaysInMS = 30 * 24 * 60 * 60 * 1000
    , differenceInMS = Math.abs(today - jobDate)
    , differenceInDays = Math.floor(differenceInMS / 1000 / 60 / 60 / 24);

  if (differenceInMS > thirtyDaysInMS) $(".message").show();
  $("span.daysOld").html(differenceInDays);
}); 
```

HTML：

```
 <span class="job-date">1-20-2013</span>

    <div class="message">This job is <span class="daysOld"></span> days old, and it may no longer be available</div> 
```

CSS：

```
.message {
  display:none;
} 
```

对于这样的事情，AngularJS 是 jQuery 的一个非常好的替代品。您在 AngularJS 中所要做的就是在控制器范围内设置一个变量，称为类似`$scope.stale = true`并`$scope.daysOld`基于日期数学，然后在您的 html 中简单地

```
<div class="message" ng-show="stale">This job is {{daysOld}} days old it may no longer be available</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:27:46.663

假设您使用的是 jQuery，这里有一个 jsFiddle：http: [//jsfiddle.net/Pb3bm/](http://jsfiddle.net/Pb3bm/)

不过，在您的工作日期课程中，我建议您将日期以毫秒为单位存储为参数，如下所示：

```
<span class="job-date" datems="1358139600000">1-14-2013</span> 
```

这样您就不必担心日期的显示格式。

# audio - 对“jack_client_close”等的未定义引用

> ID：15182640
> 
> 赞同：2
> 
> 时间：2013-03-03T05:05:56.250
> 
> 标签：audio, gcc, linker, jack

我正在尝试按照[这个](http://dis-dot-dat.net/index.cgi?item=/jacktuts/starting/compiling)关于 jack 的介绍性教程（用于 linux 的音频服务器）。在教程中，作者解释说你应该使用`pkg-config`find`cflags`和`libs`for jack，使`gcc`命令如下：

```
gcc -o simple_client `pkg-config --cflags --libs jack` simple_client.c 
```

这给出了输出：

```
/tmp/ccyuOC0u.o: In function `signal_handler':
simple_client.c:(.text+0x16): undefined reference to `jack_client_close'
/tmp/ccyuOC0u.o: In function `process':
simple_client.c:(.text+0x6f): undefined reference to `jack_port_get_buffer'
simple_client.c:(.text+0x87): undefined reference to `jack_port_get_buffer'
/tmp/ccyuOC0u.o: In function `main':
simple_client.c:(.text+0x25b): undefined reference to `sin'
simple_client.c:(.text+0x2c1): undefined reference to `jack_client_open'
simple_client.c:(.text+0x372): undefined reference to `jack_get_client_name'
simple_client.c:(.text+0x3b1): undefined reference to `jack_set_process_callback'
simple_client.c:(.text+0x3ca): undefined reference to `jack_on_shutdown'
simple_client.c:(.text+0x3ee): undefined reference to `jack_port_register'
simple_client.c:(.text+0x419): undefined reference to `jack_port_register'
simple_client.c:(.text+0x475): undefined reference to `jack_activate'
simple_client.c:(.text+0x4c5): undefined reference to `jack_get_ports'
simple_client.c:(.text+0x514): undefined reference to `jack_port_name'
simple_client.c:(.text+0x52c): undefined reference to `jack_connect'
simple_client.c:(.text+0x56e): undefined reference to `jack_port_name'
simple_client.c:(.text+0x586): undefined reference to `jack_connect'
simple_client.c:(.text+0x5ba): undefined reference to `jack_free'
collect2: ld returned 1 exit status 
```

我在使用 gcc 或编写 c 程序方面并不是很有经验（我的大部分经验都是使用 javascript、clojure、java、python 和 php）。我从这个和我的研究中收集到的是一些库丢失或链接不正确（不确定是哪个）。

所以只是`pkg-config --cflags --libs jack`在我的机器上运行，我得到：

```
-ljack 
```

在上面引用的教程中，作者演示了为 jack 收集要链接的库的相同方法，但他的输出如下所示：

```
-ljack -lpthread -ldl -lrt 
```

不确定pthread是什么，但我认为dl是dsp-loader，而rt与实时有关。我在几个名为的目录中进行了搜索，`/lib`但没有发现任何其他库，所以我认为它们不存在于我的机器上。但是，我觉得很奇怪，打电话`pkg-config`没有提到他们。我应该如何去寻找这些库？还是我走错了路？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:49:06.467

您的链接命令行错误，请尝试以下命令：

```
gcc -o simple_client simple_client.c `pkg-config --cflags --libs jack` 
```

命令行上存档库的顺序[很重要](http://webpages.charter.net/ppluzhnikov/linker.html)。

# mysql - 汇总记录

> ID：15182642
> 
> 赞同：0
> 
> 时间：2013-03-03T05:06:42.850
> 
> 标签：mysql, sql

我有一张记录表，例如

```
╔═════╦══════╦══════════╦══════════╗
║ PID ║ NAME ║  DATE1   ║  DATE2   ║
╠═════╬══════╬══════════╬══════════╣
║ 123 ║ john ║ 20110401 ║ 19700101 ║
║ 123 ║ john ║ 20110401 ║ 19700101 ║
║ 123 ║ john ║ 20110401 ║ 19700101 ║
║ 323 ║ mike ║ 20110401 ║ 19900101 ║
║ 323 ║ mike ║ 20110401 ║ 19900101 ║
╚═════╩══════╩══════════╩══════════╝ 
```

`query1``count`开启_`pid`

`query2`如果所有四个字段都相同，则将记录视为一条记录，否则将单独记录和记录按`pid`顺序计数。

上面的结果是：

```
╔═════╦══════════════╦═════════════╗
║ PID ║ TOTALRECORDS ║ TOTALUNIQUE ║
╠═════╬══════════════╬═════════════╣
║ 123 ║            3 ║           1 ║
║ 323 ║            2 ║           1 ║
╚═════╩══════════════╩═════════════╝ 
```

我做了`select pid,count(pid),(select count(pid) group by pid,name,date1,date2) from <table> group by pid;`

但我得到一个错误......请更正我的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:10:09.207

```
SELECT  pid,
        COUNT(*) totalRecords,
        COUNT(DISTINCT name, date1, date2) totalUnique
FROM    TableName
GROUP   BY pid 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/4127c5/1)
*   [SQLFiddle Demo（*没有唯一记录*）](http://www.sqlfiddle.com/#!2/77386b/1)

结果

```
╔═════╦══════════════╦═════════════╗
║ PID ║ TOTALRECORDS ║ TOTALUNIQUE ║
╠═════╬══════════════╬═════════════╣
║ 123 ║            3 ║           1 ║
║ 323 ║            2 ║           1 ║
╚═════╩══════════════╩═════════════╝ 
```

# sed - 提取最后一个元组

> ID：15182647
> 
> 赞同：0
> 
> 时间：2013-03-03T05:07:39.197
> 
> 标签：sed, awk, grep

我有一个 mysqldump 命令的文本文件。它看起来像这样......

```
INSERT INTO `agent_new` VALUES ('1', 'abc'), ('2', 'xyz'), ('3', 'pqr'); 
```

我需要元组列表中的最后一个条目。我还需要表名。所以预期的输出将是

```
INSERT INTO `agent_new` VALUES ('3', 'pqr'); 
```

最后一行的末尾总是有一个分号，例如'pqr'）；

我需要提取最后一行以与实际数据库进行比较。我可以做“尾巴”，但我想知道是否有更好的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:54:02.580

这是一种使用方法`sed`：

```
sed 's/(.*(/(/' file 
```

结果：

```
INSERT INTO `agent_new` VALUES ('3', 'pqr'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T07:53:05.013

这可能对您有用（GNU sed）：

```
sed "s/('[^']*', '[^']*'), //g" file 
```

或者：

```
sed 's/('\''.*'\''),//' file 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:17:55.957

使用分隔符，您应该能够选择流并获取您想要的内容。我有一段时间没看语法了，所以我不想写一些不是 100% 正确的代码，但我建议在谷歌上搜索一些涉及分隔符的示例！

对不起，我无法提供更多帮助（n）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T05:46:46.570

```
sed -E 's/\(.*\), //' filename 
```

这应该做你想要的。

# python - 哪个 DBDriver 适用于 Python3x 和适用于 MySQL 的 SQLAlchemy0.8？

> ID：15182648
> 
> 赞同：0
> 
> 时间：2013-03-03T05:07:49.357
> 
> 标签：python, mysql, python-3.x, sqlalchemy

我一直在尝试让 Python3.2 和 SQLAlchemy0.8 与 MySQL 配合得很好，但我失败得很惨:-(

我尝试[使用 Mysql-Python](https://stackoverflow.com/questions/15140855/python3-2-installing-mysql-python-fails-with-error-no-module-named-configparse/15153423#15153423)，但失败了，因为 MySQL-python 尚未与 python3x 兼容。

然后我继续使用 pymysql，它也戛然而止，[因为](https://stackoverflow.com/questions/15140855/python3-2-installing-mysql-python-fails-with-error-no-module-named-configparse/15153423#15153423)我再次被告知它与 python3x 不兼容，尽管它在 SQLAlchemy 页面上列为合适的驱动程序。

通读SO，我被指出到[Luke Carrier 的 Oursql](https://github.com/LukeCarrier/py3k-oursql)，我不知道如何安装，因为它在 github 上，而且我从未使用过 github。我是 python 的新手，让一个孤独的开源编程。

我刚刚完成了一个使用 Postgresql 的项目，它运行良好，但最流行的开源数据库（正如他们声称的那样）似乎还不够。

因此，当我尝试学习如何使用 github 来试用 lukecarrieroursql 时——我希望它也不会死在我身上——我只有一个问题。那里没有人使用 Python3x、SQLAlchemy 和 MySQL 吗？如果是这样，您使用的是哪个驱动程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T17:18:05.607

我查看了 OurSQL，但在安装过程中出现了一个错误。考虑到这一点，我做了一些研究，发现以下[邮件列表条目](https://groups.google.com/forum/?fromgroups=#!topic/sqlalchemy/mMKAwKWSeus)：

> MySQL + Py3K 支持的唯一驱动程序是 OurSQL 和 MySQL-connector/python。

考虑到这一点，我尝试了[MySQL-connector/python](http://dev.mysql.com/doc/connector-python/en/connector-python-installation-src-unix.html)路线，因为它在 MySQL 官方开发网站上提供（不过你需要一个 Oracle 帐户才能下载它）。下载文件后，我只是将其解压缩并运行：

```
python setup.py install 
```

您需要安装 MySQL 客户端库。从那里我使用[pip](https://pypi.python.org/pypi/pip)安装 sqlalchemy：

```
pip install sqlalchemy 
```

最后我在 Python REPL 中做了一个快速测试：

```
>>> from sqlalchemy import create_engine
>>> engine = create_engine('mysql+mysqlconnector://myuser:mypassword@localhost/test')                                                                                                                        
>>> 
```

请务必注意该`mysql+mysqlconnector`部分，因为这不是 sqlalchemy 的默认驱动程序。希望有帮助。

# jquery - 带有错误消息的 jQuery 问题

> ID：15182654
> 
> 赞同：0
> 
> 时间：2013-03-03T05:08:55.297
> 
> 标签：jquery

这些错误是什么意思？

```
Uncaught TypeError: Object #<Object> has no method 'hover' main.js:31
Uncaught TypeError: Object #<Object> has no method 'slideDown' main.js:12
Uncaught TypeError: Object #<Object> has no method 'slideToggle' 
```

我很困惑，因为我在另一个站点上使用了完全相同的代码，而且它运行良好，没有错误。但是当在不同的站点上使用时，我得到了这些错误。jQuery 的新手，所以我不太了解错误代码，到目前为止，堆栈溢出问答似乎没有这个问题的正确答案。在我发布这个之前花了一些时间检查。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:14:16.653

您需要在您的 , 中包含 jQuery `<head>`，然后再包含`main.js`：

```
<script type="text/javascript src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
```

# javascript - PHP、引号和 .html

> ID：15182658
> 
> 赞同：0
> 
> 时间：2013-03-03T05:09:34.847
> 
> 标签：javascript, jquery, html

我对这一行有点放屁：

```
jQuery("#image-div").html("<img src='get.php?id_no='" + id + ">"); 
```

我正在尝试将`<img>`标签与变量连接起来，`id`但我似乎无法正确引用引号。愚蠢的错误，我知道，但它只是逃避我。我能得到一点帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:11:07.063

看起来你放错了撇号。

```
jQuery("#image-div").html("<img src='get.php?id_no=" + id + "'>"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T05:14:13.457

您的代码中有一个放错位置的单引号。

```
jQuery("#image-div").html("<img src='get.php?id_no='" + id + ">");
                                                // ^ This one here 
```

它应该是

```
jQuery("#image-div").html("<img src='get.php?id_no=" + id + "'>");
                                                          // ^ Should be here 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T08:41:42.817

我真的不创建像你应该严格的 DOM 元素：

```
jQuery("#image-div").appendTo(
                         $("<img/>")
                             .attr("src", "get.php?id_no" + id)
                             .attr("alt", "someThing") ) 
```

我知道这是更多的打字，但现在更有意义。

# php - cakephp 中缺少控制器

> ID：15182665
> 
> 赞同：2
> 
> 时间：2013-03-03T05:10:34.910
> 
> 标签：php, cakephp, cakephp-2.3

我发现了以下错误：

> 错误：找不到控制器。错误：在文件中创建下面的类控制器：app\Controller\Controller.php

```
<?php
class Controller extends AppController {

} 
```

我必须做些什么来解决这个问题，请建议我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T11:27:37.687

你把这一切都搞反了。

它的

```
App::uses('Controller', 'Controller');
class AppController extends Controller {} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-04T04:58:29.963

`Controller`类已经为 cakephp 核心库保留。

您不能`controller`用作类，因为`AppController`已经扩展`Controller`了 cakephp 的类。

# java - Java中的二维数组

> ID：15182667
> 
> 赞同：-2
> 
> 时间：2013-03-03T05:10:50.927
> 
> 标签：java, arrays, multidimensional-array, zero

假设给定一个名为 int 的变量`nPositive`和一个已创建并分配给`a2d`. 编写一些语句来计算整个二维数组中大于零的所有元素的数量，并将值赋给`nPositive`。

代码：

```
for(int i=0; i<a2d.length; i++){
    int nPositive;
    for(int j=0; j<a2d[a2d.length-1].length; j++) {
        if(a2d[i][j] > 0) {
            nPositive = a2d[i][j];
        } 
    }
} 
```

它有一个编译错误。为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:16:21.480

iiner 循环不正确：

```
for(int j=0; j<a2d[i].length; j++){ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:44:31.547

我测试了一下，发现你的代码没有任何编译错误...

```
 for(int j=0; j<a2d[a2d.length-1].length; j++){// 
```

设长度为 a2d[10][10]

关于声明`a2d[a2d.length-1].length ,is equal a2d[10-1].length ,is equal a2d[9].length=>10`

你的算法对我来说很好，我没有发现任何错误 **这是我的测试代码**

```
 public class A2dTest {

  public static void main(String[] arr) {
            int[][] a2d = new int[10][10];
            for (int i = 0; i < 10; i++) {
                for (int j = 0; j < 10; j++) {
                    a2d[i][j] = (int) (Math.random() * 100) + 1000000;// all positives
                }
            }
            for (int i = 0; i < a2d.length; i++) {
                int nPositive = 0;
                for (int j = 0; j < a2d[a2d.length - 1].length; j++) {
                    if (a2d[i][j] > 0) {
                        nPositive = a2d[i][j];
                         System.out.println("nPositive=" + nPositive);
                    }}
            }
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:16:56.403

你没有初始化`nPositive`。

```
// make nPositive a global variable
int nPositive = 0;

for(int i=0; i<a2d.length; i++){
  for(int j=0; j<a2d[a2d.length-1].length; j++) {
    if(a2d[i][j] > 0) {
        nPositive += a2d[i][j]; // add the value into nPositive as you go through the array
        } 
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-11-19T05:15:15.240

我相信这是关于 codeLab 的问题之一。您只需将 nPositive 正确初始化为 0 并为每个正整数递增它。这就是他们正在寻找的涉及输出的全部内容。所以你的代码需要是：

```
 nPositive = 0;
for (int i = 0; i < a2d.length; i++) 
{
    for (int j = 0; j < a2d[i].length; j++) 
    {
        if (a2d[i][j] > 0) 
        {
            nPositive++;
        }
    }
} 
```

# php - PHP/MySQL 数据限制

> ID：15182678
> 
> 赞同：0
> 
> 时间：2013-03-03T05:12:50.000
> 
> 标签：php, mysql

我试图限制 MySQL 和 PHP 显示的数据量我有一个用于 Minecraft 的 java 插件，它将用户登录记录到 MySQL 上的表中，数据插入到数据库中：

“用户名”“加入日期”“退出日期”

“姓名”“时间日期”“时间日期”

我想限制数据，以便在 Joindate 被分解并且“at (TIME)”被删除后我不会得到重复。

目前它的显示方式是：3/03/2013 | 2013 年 3 月 3 日 | 3/03/2013 我希望能够隐藏这些，所以不需要数百个额外的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:14:59.920

尝试`GROUP BY`：

```
GROUP BY DATE_FORMAT(`Joindate`,'%y%m%d') 
```

如果它不是本机 DATE 类型列，您可以尝试使用子字符串，只要您的日期长度是标准的：

```
GROUP BY SUBSTRING(`Joindate`,0,9) 
```

这会将所有匹配项合并为一个结果。

# jquery - jQuery：当页面不在前台时使用 mouseenter 和 mouseleave

> ID：15182680
> 
> 赞同：0
> 
> 时间：2013-03-03T05:13:27.590
> 
> 标签：jquery, browser, mouseevent

有没有办法知道鼠标何时悬停/进入/离开 div，即使页面不在前台（即不在焦点中）。我知道这是可能的，因为 Facebook 有各种各样的事件，即使当他们的页面在后台。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:29:15.470

Facebook 在模糊时调用的事件来自服务器，而不是客户端。他们使用长轮询和服务器端 JavaScript。模糊的窗口仍在运行 JavaScript 代码，因此事件仍会触发。您可以通过并排打开两个 Chrome 窗口来测试这一点 - 无论哪个“聚焦”，悬停事件仍然适用于两者。

# javascript - 如何使用jquery在内容之前删除多余的空格 without changing html

I want to use jquery append() to add content to a textbox without having to consider newline characters that show up in the html markup and indent the content.

> ID：15182681
> 
> 赞同：0
> 
> 时间：2013-03-03T05:13:46.960
> 
> 标签：javascript, jquery, html, css

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:18:30.897

您错过了[修剪](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/Trim)内容值。您也可以使用[JQuery.trim()](http://api.jquery.com/jQuery.trim/)来保持浏览器兼容性。尝试如下修改您的代码：

```
$("#remove-frame").click(function () {
  var divContents = $("#content").text().trim();
  $("#content").remove();
  $("#remove-frame").append(function() {
      return '<textarea id = "edit-textarea">' + divContents + "</textarea>";
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:23:30.667

我认为你想要的是 .prepend() 而不是 .append();

append 将其作为最后一个孩子，作为第一个孩子放在前面。

如果这不起作用，也可以使用 .appendto() 和 .prependto()。

祝你好运

[看一看](http://api.jquery.com/prepend/)

# c# - ReadXml 嵌入式资源

> ID：15182685
> 
> 赞同：0
> 
> 时间：2013-03-03T05:14:15.803
> 
> 标签：c#

如何在嵌入式资源中读取 xml？

下面的代码是否正确？xml 位于项目文件夹的根目录

```
DataSet dataSet = new DataSet();
dataSet.ReadXml("text.xml"); 
```

谢谢

# histogram - “视频匹配”的颜色直方图相似度与模板匹配

> ID：15182688
> 
> 赞同：1
> 
> 时间：2013-03-03T05:15:07.040
> 
> 标签：histogram, template-matching

我打算创建一个应用程序，通过比较视频中帧的相似性来检查两个给定视频的相似性。我认为这可以使用“颜色直方图”相似性和“模板匹配”来完成。有人可以建议我什么是最好的技术吗？以及使用它的好处？

# javascript - 未调用 Route 上的 Ember.js RC1“模型”挂钩

> ID：15182690
> 
> 赞同：4
> 
> 时间：2013-03-03T05:15:55.097
> 
> 标签：javascript, ember.js, ember-router

看来`model`钩子没有像 RC1 记录的那样工作。当使用 a 而不是通过在浏览器中编辑 url 直接访问该项目`model`时，不会调用该钩子。`linkTo`

鉴于此示例应用程序：http: [//jsfiddle.net/wmarbut/QqDjY/](http://jsfiddle.net/wmarbut/QqDjY/)

当直接访问 '/#/edit-item/3' 时，`model`会调用钩子，但是当使用`linkTo`调用将用户引导到同一页面时，`model`不会调用钩子。

鉴于此处的文档[http://emberjs.com/guides/routing/specifying-a-routes-model/](http://emberjs.com/guides/routing/specifying-a-routes-model/)，我找不到任何解释。这是一个错误还是我做错了？

**编辑** 我不使用 Ember Data，也不打算使用。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-03T06:55:50.487

> 看起来模型钩子没有像 RC1 记录的那样工作。当使用 linkTo 而不是通过在浏览器中编辑 url 直接访问项目时，不会调用模型挂钩。

这是它应该工作的确切方式。这是因为模型是通过 给出的`linkTo`。当您编写`{{linkTo posts post}}`模型时，是第三个参数。无需调用模型钩子。模型挂钩仅在通过 URL 进入状态时执行，因为它必须查找模型。

在你的小提琴中，你有`{{#linkTo editItem item.id}}{{item.name}}{{/linkTo}}`. 你不需要这样做。你应该有`{{#linkTo editItem item}}{{item.name}}{{/linkTo}}`。然而，这并不能解决“问题”。它将使查找自动进行。

# php - EOT 和 HTML 有什么区别？在 PHP 中

> ID：15182691
> 
> 赞同：20
> 
> 时间：2013-03-03T05:16:01.497
> 
> 标签：php

我见过一些人使用这个代码。

```
echo <<< EOT
Hi <br>
EOT; 
```

和

```
echo <<< HTML
Hello<br>
HTML; 
```

这两者有什么区别？为什么他们不使用正常的回声？像

```
echo "How are you<br>"? 
```

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-03T05:16:47.367

没什么，它只是[HEREDOC](http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc)语法的分隔符。使用 HEREDOC 的唯一好处是您可以在源代码中保留字符串的缩进和结构。使用它往往比连接字符串更好 - 对于您的示例`Hi <br>`，没有充分的理由使用 HEREDOC。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-03T05:51:56.247

> 他们为什么不使用正常的回声？

在这个例子中使用heredoc是没有意义的。
它确实用于`echo`打印单个文本行。
所以，没有人为此使用heredoc。

此外，在回显大文本块时，heredoc 再次无用，因为只需关闭 PHP 标记并按原样编写文本。

heredoc的**唯一**用途是当您需要在变量中存储大块文本时。

```
$var = <<< HERE
Hello %s!
Please follow this link %s to continue registration.
HERE; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-12-06T06:38:07.113

可能很晚才发表评论，但在当今的 IDE 的上下文中：当您使用 HEREDOCS 时，标识符会提示您正在存储什么样的信息

假设`<<<SQL`IDE 的语法高亮器可以使用`SQL`标识符来高亮作为 SQL 查询的字符串内容。`<<<HTML`用于 HTML 突出显示...等等。

# powershell - 如何在 PowerShell 3.0 中获取目录深度？

> ID：15182692
> 
> 赞同：1
> 
> 时间：2013-03-03T05:16:02.477
> 
> 标签：powershell, powershell-3.0

我需要找出工作目录中的目录结构有多远。如果布局类似于

```
Books\
Email\
Notes\
    Note 1.txt
    Note 2.txt
HW.docx 
```

那么它应该返回`1`，因为最深的项目在`1`下面。但如果它看起来像

```
Books\
Photos\
Hello.c 
```

那么它应该返回`0`，因为没有比第一级更深的了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:26:57.257

像这样的东西应该可以在 V3 中解决问题：

```
Get-ChildItem . -Recurse -Name | Foreach {($_.ToCharArray() | 
    Where {$_ -eq '\'} | Measure).Count} | Measure -Maximum | Foreach Maximum 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T06:29:27.313

它不像 Keith 那样漂亮，并且可以说不像 Keith 那样“时髦”，但我怀疑它可能会更好地扩展。

```
$depth_ht = @{}
(cmd /c dir /ad /s) -replace '[^\\]','' |
 foreach {$depth_ht[$_]++}

 $max_depth = 
  $depth_ht.keys |
   sort length |
   select -last 1 |
   select -ExpandProperty length

 $root_depth =
  ($PWD -replace '[^\\]','').length

 ($max_depth -$root_depth) 
```

# python - Flask approute 中的多个参数

> ID：15182696
> 
> 赞同：64
> 
> 时间：2013-03-03T05:16:46.897
> 
> 标签：python, flask, flash-message

如果 URL 调用中有多个参数，如何编写烧瓶`app.route`？

这是我从 AJax 调用的 URL：

```
http://0.0.0.0:8888/createcm?summary=VVV&change=Feauure 
```

我试图这样写我的烧瓶`app.route`：

```
@app.route('/test/<summary,change>', methods=['GET'] 
```

但这不起作用。谁能建议我如何提及`app.route`？

* * *

## 回答 #1

> 赞同：85
> 
> 时间：2016-12-28T21:21:22.240

如果您确实想使用查询参数，其他答案有正确的解决方案。就像是：

```
@app.route('/createcm')
def createcm():
   summary  = request.args.get('summary', None)
   change  = request.args.get('change', None) 
```

一些笔记。如果您只需要支持 GET 请求，则无需在您的路由装饰器中包含方法。

解释查询参数。“？”之外的所有内容 在您的示例中称为查询参数。Flask 会将这些查询参数从 URL 中取出，并将它们放入 ImmutableDict。您可以通过 访问它`request.args`，或者使用密钥，即，`request.args['summary']`或者使用我和其他一些评论者提到的 get 方法。如果它不存在，这为您提供了为其提供默认值（例如无）的附加功能。这对于查询参数很常见，因为它们通常是可选的。

现在，您似乎在示例中尝试了另一个选项，那就是使用路径参数。这看起来像：

```
@app.route('/createcm/<summary>/<change>')
def createcm(summary=None, change=None):
    ... 
```

这里的网址是：http: //0.0.0.0:8888/createcm/VVV/ [Feauure](http://0.0.0.0:8888/createcm/VVV/Feauure)

将 VVV 和 Feauure 作为变量传递给您的函数。

希望有帮助。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2016-08-17T03:39:47.877

你可以试试这个：

## 卷曲请求

```
curl -i "localhost:5000/api/foo?a=hello&b=world" 
```

## 烧瓶服务器

```
from flask import Flask, request

app = Flask(__name__)

@app.route('/api/foo/', methods=['GET'])
def foo():
    bar = request.args.to_dict()
    print bar
    return 'success', 200

if __name__ == '__main__':   
    app.run(debug=True) 
```

## 控制台输出

```
{'a': u'hello', 'b': u'world'} 
```

PS不要在curl选项中省略双引号（“”），否则它在Linux中不起作用因为“&”

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2013-03-03T05:20:22.117

路由与直接传递给您的方法的查询字符串不匹配。

```
from flask import request

@app.route('/createcm', methods=['GET'])
def foo():
   print request.args.get('summary')
   print request.args.get('change') 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2014-01-20T05:20:38.450

```
@app.route('/createcm', methods=['GET'])
def foo():
    print request.args.get('summary')
    print request.args.get('change') 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-03-03T05:19:47.387

您正在混淆 URL 参数和 URL 本身。

您可以使用`request.args.get("summary")`和访问 URL 参数`request.args.get("change")`。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-12-27T07:17:16.683

在您的请求 url:`http://0.0.0.0:8888/createcm?summary=VVV&change=Feauure`中，端点是请求的`/createcm`一部分。所以你可以试试这个：`?summary=VVV&change=Feauure``args`

```
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/createcm', methods=['get'])
def create_cm():
    summary = request.args.get('summary', None) # use default value repalce 'None'
    change = request.args.get('change', None)
    # do something, eg. return json response
    return jsonify({'summary': summary, 'change': change})

if __name__ == '__main__':
    app.run(debug=True) 
```

[`httpie`](http://httpie.org)例子：

```
http get :5000/createcm summary==vvv change==bbb -v
GET /createcm?summary=vvv&change=bbb HTTP/1.1
Accept: */*
Accept-Encoding: gzip, deflate
Connection: keep-alive
Host: localhost:5000
User-Agent: HTTPie/0.9.8

HTTP/1.0 200 OK
Content-Length: 43
Content-Type: application/json
Date: Wed, 28 Dec 2016 01:11:23 GMT
Server: Werkzeug/0.11.13 Python/3.6.0

{
    "change": "bbb",
    "summary": "vvv"
} 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2018-12-05T06:38:44.193

简单地说，我们可以在两个步骤中做到这一点： 1] 烧瓶中的代码 [app.py]

```
from flask import Flask,request

app = Flask(__name__)

@app.route('/')
def index():
    return "hello"

@app.route('/admin',methods=['POST','GET'])
def checkDate():
    return 'From Date is'+request.args.get('from_date')+ ' To Date is '+ request.args.get('to_date')

if __name__=="__main__":
    app.run(port=5000,debug=True) 
```

2]在浏览器中点击网址：

```
http://127.0.0.1:5000/admin?from_date=%222018-01-01%22&to_date=%222018-12-01%22 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-06-23T02:14:57.083

在flak我们这样做

```
@app.route('/createcm')
def createcm():
    summary  = request.args.get('summary', type=str ,default='')
    change  = request.args.get('change',type=str , default='') 
```

现在您可以使用不同的可选参数运行您的端点，如下所示

```
http://0.0.0.0:8888/createcm?summary=VVV  
              or
http://0.0.0.0:8888/createcm?change=Feauure
              or
http://0.0.0.0:8888/createcm?summary=VVV&change=Feauure 
```

# javascript - 如何在Javascript中删除动态创建的节点

> ID：15182699
> 
> 赞同：0
> 
> 时间：2013-03-03T05:17:10.017
> 
> 标签：javascript, dom

我正在用 Javascript 创建一个简单的购物车网页作为家庭作业。我正在为购物车中的每本书创建一个“删除项目”按钮，但我不太清楚如何实现它。我知道它需要使用 DOM 树，但我不明白如何。以下是相关代码：

```
<script>

function addToCart(bookToAdd, priceToAdd)
{
    //Create the node
    var bookInfo = document.createElement();
    bookInfoString = "Book: " + document.getElementById(bookToAdd).innerHTML + 
        " <br />Price: $" + document.getElementById(priceToAdd).innerHTML + 
        '<br /> <button type="button" onclick="removeFromCart(' + bookToAdd + ', ' + priceToAdd + ')">Remove from cart!</button> <br /> <br />';
    bookInfo.innerHTML = bookInfoString;
    //Append the node
    document.getElementById('cartItems').appendChild(bookInfo); 
    //Update the cart total
    document.getElementById('totalPrice').firstChild.nodeValue = (parseFloat(document.getElementById('totalPrice').innerHTML) + parseFloat(document.getElementById(priceToAdd).innerHTML)).toFixed(2);
}

function removeFromCart(bookToRemove, priceToRemove)
{
    //Remove the node
    getElementById('cartItems').removeChild(bookToRemove);
    //Update the cart total
    document.getElementById('totalPrice').firstChild.nodeValue = (parseFloat(document.getElementById('totalPrice').innerHTML) - parseFloat(document.getElementById(priceToRemove).innerHTML)).toFixed(2);
}

</script> 
```

... html代码的相关部分：

```
 <tr>
        <!--Fill in the first book information-->
        <td> <span class="bookName" id="book1"><b>Artificial Intelligence: A Modern Approach</b></span><br>
        <img src="AI.jpeg" alt="AI Book Cover" width="100"> <br>
        <b>ISBN:</b> 978-0-13-604259-4 <br>
        <b>Description:</b> Artificial Intelligence: A Modern Approach, 3e offers the most comprehensive, 
        up-to-date introduction to the theory and practice of artificial intelligence. Number one in 
        its field, this textbook is ideal for one or two-semester, undergraduate or graduate-level 
        courses in Artificial Intelligence. <br>
        <b>PRICE: $</b> <span id="price1"> 158.55 </span> 
        <button type="button" onclick="addToCart('book1', 'price1')">Add to cart!</button>
        </td>

        <!-- Create the shopping cart area of the page-->
        <td rowspan="10"> 
        <!-- Create the space for the items in the cart to be written -->
        <div id="cartItems"></div>

        <!-- Create the space for the Total Price to be written -->
        <b>Total Price: $<div style="display: inline" id="totalPrice">0</div></b>
        </td>

    </tr> 
```

除了删除条目之外，一切正常；我特别难以弄清楚如何访问需要删除的特定节点；购物车中我上面展示的人工智能书的所有条目都是用相同的 id（'book1'）创建的，所以我不知道如何挑选出一个。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:54:08.427

试试这个 - 我给它一个唯一的 ID，但实际上并不需要它，因为我删除了 parentNode

```
function addToCart(bookToAdd, priceToAdd) {
    //Create the node
    var bookInfo = document.createElement("div");
    bookInfoString = "Book: " + document.getElementById(bookToAdd).innerHTML + 
        " <br />Price: $" + document.getElementById(priceToAdd).innerHTML + 
        '<br /> <button type="button" onclick="removeFromCart(this.parentNode,'+ 
         priceToAdd + ')">Remove from cart!</button> <br /> <br />';
    bookInfo.innerHTML = bookInfoString;
    bookInfo.id=bookToAdd+'_'+new Date().getTime();
    //Append the node
    document.getElementById('cartItems').appendChild(bookInfo); 
    //Update the cart total
    document.getElementById('totalPrice').innerHTML = (parseFloat(document.getElementById('totalPrice').innerHTML) + parseFloat(document.getElementById(priceToAdd).innerHTML)).toFixed(2);
}

function removeFromCart(bookToRemove, priceToRemove) {
    //Remove the node
    getElementById('cartItems').removeChild(bookToRemove);
    //Update the cart total
    document.getElementById('totalPrice').innerHTML = (parseFloat(document.getElementById('totalPrice').innerHTML) - parseFloat(document.getElementById(priceToRemove).innerHTML)).toFixed(2);
} 
```

# sql - 如何使用 LINQ to SQL 编写此代码？

> ID：15182701
> 
> 赞同：-4
> 
> 时间：2013-03-03T05:17:18.437
> 
> 标签：sql, linq, linq-to-sql

LINQ to SQL 中这个 SQL 查询的等价物是什么？

```
select *
from Leads, LeadCustomAttributes LCA  
where Leads.LeadID = LCA.LeadID  
&& LCA.AttributeID in ('2','4','2') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:32:32.080

```
var query =
    from lead in db.Leads
    from lca in db.LeadCustomAttributes
    where lead.LeadID == lca.LeadID
    where new[] { "2", "4" }.Contains(lca.AttributeID)
    select new { lead, lca }; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:38:09.830

```
int[] ids = { 2, 4, 2};

var result = from leads in context.Leads
             join LCA in context.LeadCustomAttributes
             ON leads.LeadID = LCA.LeadID
             Where ids.Contains(ids.ContainsLeadCustomAttributes)
             select leads; 
```

# file-io - 为什么 line-seq 返回 clojure.lang.Cons 而不是 clojure.lang.LazySeq？

> ID：15182702
> 
> 赞同：7
> 
> 时间：2013-03-03T05:17:24.710
> 
> 标签：file-io, clojure, lazy-sequences, cons

根据 line-seq ( [http://clojuredocs.org/clojure_core/clojure.core/line-seq](http://clojuredocs.org/clojure_core/clojure.core/line-seq) ) 的 ClojureDocs 条目和 Stack 问题的公认答案 ( [In Clojure 1.3, How to read and write a file](https://stackoverflow.com/questions/7756909/in-clojure-1-3-how-to-read-and-write-a-file) )，当传递 java.io.BufferedReader 时，line-seq 应该返回一个惰性序列。

但是，当我在 REPL 中对此进行测试时，该类型被列为 clojure.lang.Cons。请看下面的代码：

```
=> (ns stack-question
     (:require [clojure.java.io :as io]))
nil
=> (type (line-seq (io/reader "test-file.txt")))
clojure.lang.Cons
=> (type (lazy-seq (line-seq (io/reader "test-file.txt"))))
clojure.lang.LazySeq 
```

在惰性序列调用中结束 line-seq 调用会产生惰性序列，但根据文档，这不是必需的：无论如何，line-seq 都应该返回惰性序列。

注意：在 REPL（我正在使用 nrepl）内部，似乎惰性 seq 已完全实现，所以我认为这可能只是 REPL 的一个怪癖；但是，当我使用 Speclj 对其进行测试时，也存在同样的问题。另外，我不认为实现惰性序列与正在发生的事情有关。

编辑：所以我在mobyte的回答说缺点的尾部有一个惰性序列后去检查源代码......

```
1   (defn line-seq
2     "Returns the lines of text from rdr as a lazy sequence of strings.
3     rdr must implement java.io.BufferedReader."
4     {:added "1.0"}
5     [^java.io.BufferedReader rdr]
6     (when-let [line (.readLine rdr)]
7       (cons line (lazy-seq (line-seq rdr))))) 
```

对 cons 的调用可以解释为什么 line-seq 的返回值的类型是 clojure.lang.Cons。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:36:45.417

您不需要“wrap”输出`Cons`，因为它已经将惰性序列作为“tail”：

```
(type (line-seq (io/reader "test-file.txt")))
=> clojure.lang.Cons

(type (rest (line-seq (io/reader "test-file.txt"))))
=> clojure.lang.LazySeq

(type (cons 'a (rest (line-seq (io/reader "test-file.txt")))))
=> clojure.lang.Cons 
```

**编辑。**

> 注意：在 REPL（我正在使用 nrepl）中，似乎惰性 seq 已完全实现

不正确。你可以测试它：

```
(with-open [r (io/reader "test-file.txt")] (line-seq r))
=> IOException Stream closed  java.io.BufferedReader.ensureOpen (BufferedReader.java:97) 
```

这是因为return没有完全实现，并且在 repl 稍后尝试实现结果以打印它时已经关闭`line-seq`。但是如果你明确地意识到它会给出正常的结果，没有任何例外：`lazy-seq``reader`

```
(with-open [r (io/reader "/home/mobyte/2")] (doall (line-seq r)))
=> ...  output ... 
```

# c++ - 对整数向量的向量进行统一初始化

> ID：15182712
> 
> 赞同：11
> 
> 时间：2013-03-03T05:19:20.187
> 
> 标签：c++, vector, c++11, curly-braces, uniform-initialization

**C++11**

程序初始化 s 中的 a `vector`， named `myVec`，`int` `vector`然后使用循环打印出每个 inner`vector`的元素。但是当我尝试查看使用额外的花括号时会发生什么时，我得到了意想不到的结果。以下内容也在[此 LiveWorkSpace](http://liveworkspace.org/code/27B5oG%240)上，以便在编译器之间轻松切换。`g++ 4.8.0`最多只能编译`myVec[5]`. `clang++ 3.2`编译一切：

```
#include <iostream>
#include <vector>

int main()
{
    std::vector<std::vector<int>> myVec =
    {
        /* myVec[0] */ {1, 2},
        /* myVec[1] */ {},
        /* myVec[2] */ {{}},
        /* myVec[3] */ { {}, {} },
        /* myVec[4] */ { {}, {}, {} },
        /* myVec[5] */ {{{}}}

        /* myVec[6] */  // , { {{}}, {{}} }       // g++ 4.8.0 COMPILER ERROR
        /* myVec[7] */  // , {{{{}}}}             // g++ 4.8.0 COMPILER ERROR
        /* myVec[8] */  // , { {{{}}}, {{{}}} }   // g++ 4.8.0 COMPILER ERROR
    };

    // loop for printing
    for (unsigned int i = 0; i < myVec.size(); ++i)
    {
        std::cout << "myVec[" << i << "]: ";
        for (unsigned int j = 0; j < myVec.at(i).size(); ++j)
        {
            std::cout << myVec.at(i).at(j) << ", ";
        }
        std::cout << std::endl;
    }
    return 0;
} 
```

**实际`g++ 4.8.0`输出：**

```
myVec[0]: 1, 2,
myVec[1]:
myVec[2]: 0,
myVec[3]: 0, 0,
myVec[4]: 0, 0, 0,
myVec[5]: 0, 
```

**分析：**

**`myVec[0]`: `{1, 2}`:**

得到预期的输出。

**`myVec[1]`: `{}`:**

得到预期的输出。

**`myVec[2]`: `{{}}`:**

这是 的向量`int` `0`。内大括号初始化一个`int`to `0`。

**`myVec[3]`: `{ {}, {} }`:**

`int`两个内大括号将each初始化为`0`。

**`myVec[4]`: `{ {}, {}, {} }`:**

`int`三个内大括号将each初始化为`0`。

**`myVec[5]`: `{{{}}}`:**

我想再添加一组花括号，`myVec[2]`看看在出现编译器错误之前添加花括号能走多远。我不明白为什么会编译以及为什么它的元素打印为`0`.

例如，`int j = {}`初始化`j`为`0`. `vector<vector<int>> v = { {{}} }`将最内层初始化`{}`为`int` `0`，使其等价于`vector<vector<int>> v = { {0} }`。那么，`vector<vector<int>> u = { {{{}}} }`它是什么以及为什么要编译？

**假设的`myVec[6]`: `{ {{}}, {{}} }`:**

按照与上面相同的模式，我想制作一个包含两组双花括号的向量。但这不能编译，我不明白为什么这会破坏给我多个零的模式。

**假设的`myVec[7]`: `{{{{}}}}`:**

我想再添加一组花括号，`myVec[5]`看看在出现编译器错误之前添加花括号能走多远。我不明白为什么这会破坏模式并且无法编译。

**假设的`myVec[8]`: `{ {{{}}}, {{{}}} }`:**

我想扩展`myVec[7]`以制作带有两组三重括号的向量。我不明白为什么这也不能编译。

如果一切都可以`myVec[5]`编译，为什么其余的不？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:25:12.627

尝试编译此代码。它应该解释你的问题：

```
int i = {};   // initializes i to int()
int j = {{}}; // fails to compile 
```

为什么`{{{}}}`在您的代码中被接受似乎是与如何处理 ctor 相关的 gcc 错误（需要澄清）：

```
struct foo {
    foo( std::initializer_list<int> ) {}
};
void f()
{
   foo bar1( {{{}}} ); // compiles fine
   foo bar2 = {{{}}}; // compiles fine
} 
```

编辑（感谢 Johannes Schaub） - 删除副本 ctor 会使第一个变体无法编译：

```
struct foo {
    foo( std::initializer_list<int> ) {}
    foo( const foo& ) = delete;
};
void f()
{
   foo bar1( {{{}}} ); // fails to compile: use of deleted function ‘foo::foo(const foo&)’
   foo bar2 = {{{}}}; // still compiles, neither deleting move ctor, nor assignment operator does not affect that, is copy ctor of std::initializer_list involved?
} 
```

对于成员函数，它失败了：

```
struct foo {
    void moo( std::initializer_list<int> ) {}
};
void f()
{
   foo bar;
   bar.moo( {{{}}} ); // fails to compile
} 
```

此代码也失败了：

```
std::initializer_list<int> l = {{{}}}; // fails to compile 
```

Same situation ctor vs member function for std::vector:

```
void f()
{
    std::vector<int> v( {{{}}} ) // compiles fine;
    v.assign( {{{}}} ); // fails to compile
}; 
```

gcc version 4.7.2 (Ubuntu/Linaro 4.7.2-2ubuntu1)

# php - 最少信息检索的网站/Facebook 接口要求

> ID：15182715
> 
> 赞同：0
> 
> 时间：2013-03-03T05:19:30.187
> 
> 标签：php, facebook, joomla

我正在开发一个网站，该网站将允许注册用户链接到他们的 Facebook 帐户，并且该网站会定期轮询他们的信息并发回他们的 Facebook 页面。

该站点是基于 Joomla 的，因此使用 PHP API 似乎是最明智的，但我不确定。我查看了 Facebook 文档，看起来很混乱。我需要编写一个应用程序并获得批准，还是有更简单的方法？

如果我需要编写一个应用程序，是否有在获得批准之前开发和调试应用程序并且只有在获得批准后才关闭沙盒模式？

实现这一点的最简单方法是什么，以便我可以检索一些 Facebook 信息并在以后发布到 Facebook 页面？

将来，我可能希望允许登录到 Facebook 的用户自动登录到我的站点，但现在，我不希望这样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:33:04.193

您将需要注册一个应用程序。由于这不是 facebook 上托管的应用程序，因此实际上并没有太多的审批流程。

您想要执行的操作将需要 PHP SDK。

为了发布到 facebook 或获取 facebook 帐户信息，用户需要授权您的应用程序并提供您想要执行的权限。

请记住，虽然用户可以授予您的应用程序一个密钥，您可以通过该密钥代表他们在 facebook 上执行操作，但如果用户不返回您的应用程序，该密钥最终将过期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T12:28:21.610

我会看一下为夏季代码完成的 Facebook API。它目前在平台跟踪器中，您还需要她所做的 OAuth1 API。如果你使用它，你将有一个好的开始，你需要什么。

# css - 使用 google-maps API 和 twitter bootstrap 在包含实际地图的 div 容器上遇到 CSS 问题

> ID：15182723
> 
> 赞同：0
> 
> 时间：2013-03-03T05:20:11.527
> 
> 标签：css, twitter-bootstrap

地图会加载得很好，但是第二次我尝试设置高度和宽度 % 它不会显示，我该如何解决这个问题？地图显示的唯一方法是如果我用 px 设置它，但是移动版的地图全是不稳定的，并且在屏幕的一侧有偏移。谢谢。

```
<?php
    /* Include header and config and set variable*/
    require_once('config.inc.php');
    require_once($rootdir . $dirsubfolder . 'navbar.php');
    $route = $_GET['route'];
?>

<?php
/* User wants to retrieve their route */
if (isset($route)) {
?>

<?php
/* User wants Route 1 */
if (strcmp($route, "sunroute1") == 0) {
?>
<script type="text/javascript">
      function initialize() {
        var mapOptions = {
          center: new google.maps.LatLng(-34.397, 150.644),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"),
            mapOptions);
      }

      function loadScript() {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "http://maps.googleapis.com/maps/api/js?key=asdasd&sensor=true&callback=initialize";
        document.body.appendChild(script);
      }

    window.onload = loadScript;
</script>
<?php
printf('worked');
} else { printf('failed'); }
?>

    <div class="container hero-unit">
        <div id="map_canvas" style="width: 50%; height: 50%;"></div>
    </div>

<?php
    /* End isset(route) */
    }
    /* Include footer */
    require_once($rootdir . $dirsubfolder . 'footer.php');
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T07:04:47.343

我假设您正在使用 Bootstrap 的响应式形式...

您需要为`html`,`body`和 `.hero-unit`元素设置 100% 的高度和宽度。

这是一个[jsFiddle](http://jsfiddle.net/brettdewoody/JBaDR/)。

# iphone - 向左/向右滑动 UIViewcontroller

> ID：15182727
> 
> 赞同：3
> 
> 时间：2013-03-03T05:20:41.460
> 
> 标签：iphone, ipad, uiviewcontroller

我在用：

```
ViewController = [[ViewControllerClass alloc] initWithNibName:@"ViewControllerClass" bundle:[NSBundle mainBundle]];
self.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;
[self presentViewController:frontViewController animated:YES completion:nil]; 
```

我正在尝试`UIViewController`向左滑动，但我不确定它为什么不起作用。我什至在尝试：

```
UIModalTransitionStyleCrossDissolve 
```

这是行不通的。请建议我如何实现`UIViewController`向左/向右滑动 a。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T05:33:21.753

当您调用 时`presentViewController:animated:completion:`，这会在当前视图控制器之上显示一个模态视图控制器。默认的过渡是从底部向上滑动视图控制器。`UIModalTransitionStyle`枚举定义了四种可能的转换。

模态转换不支持左/右转换。

左/右转换是使用 a`UINavigationController`及其`pushViewController:animated:`和各种`pop...`方法时的标准转换。

```
[self.navigationController pushViewController:viewController animated:YES]; 
```

* * *

要关闭顶部视图控制器，请执行以下操作：

```
[self.navigationController popViewControllerAnimated:YES]; 
```

# javascript - 使用 javascript 解析 IIS 托管站点的 url

> ID：15182729
> 
> 赞同：0
> 
> 时间：2013-03-03T05:21:03.097
> 
> 标签：javascript, iis-7.5

我在 IIS 7.5 中托管一个 Web 应用程序，需要解析 url，以便它在应用程序名称之后给出 url 的一部分。例如，如果托管应用程序名称是`testproject`并且输入的 url 是`http://localhost/testproject/temp/index.html`我需要提取`/temp/index.html`url 的一部分。有什么方法可以做到这一点吗？我尝试使用 javascript

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:23:23.937

您需要使用[window.location](https://developer.mozilla.org/en-US/docs/DOM/window.location)对象。

尝试`window.location.pathname.replace('/testproject', '');`

# ruby-on-rails - 创建允许同一 id 的多个分配的数据库关系

> ID：15182745
> 
> 赞同：0
> 
> 时间：2013-03-03T05:24:15.263
> 
> 标签：ruby-on-rails, database-design

我对 RoR 真的很陌生，所以如果我没有考虑到这一点，我深表歉意。我有一个报告，我需要能够将多个用户分配给该报告。一个用户可以分配给多个报表，一个报表可以有多个用户。如何创建允许这样做的数据库关系。我了解如何将一个用户分配给一个报告，但不会将多个用户分配给一个报告。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:33:53.633

我会使用一个加入类来实现这一点：

```
class Report

  has_many :assignments 
  has_many :users :through => :assignments

end

class User

  has_many :assignments
  has_many :reports, :through => :assignments

end

class Assignment

  belongs_to :report
  belongs_to :user

end 
```

该类`Assignment`有两个字段：`report_id`和`user_id`创建关系。

阅读 Ruby on Rails 活动记录关联指南：http: [//guides.rubyonrails.org/association_basics.html](http://guides.rubyonrails.org/association_basics.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:43:12.837

我强烈建议您熟悉 Ruby on Rails 指南。他们将被证明是无价的资产！！对于这个任务，站点将是[RailsGuides Active Record Associations](http://guides.rubyonrails.org/association_basics.html)。

就代码而言，您希望创建三个数据库表：reports、reports_users 和 users，reports_users 是一个连接表。

```
class CreateUsers < ActiveRecord::Migration
  def change
    create_table :users do |t|
      t.string      :name,        :null => false      
      t.timestamps
    end
  end
end

class CreateReports < ActiveRecord::Migration
  def change
    create_table :reports do |t|
      t.string      :name,        :null => false      
      t.timestamps
    end
  end
end

class ReportsUsers < ActiveRecord::Migration
  def change
    create_table :reports_users, :id => false do |t|
      t.references    :user,            :null => false                            
      t.references    :report,          :null => false                            
    end
  end
end 
```

运行此迁移后，您需要在模型中设置活动记录关联。

```
class User < ActiveRecord::Base
  has_and_belongs_to_many :reports
end

class Report < ActiveRecord::Base
  has_and_belongs_to_many :user
end 
```

这将设置数据库和多对多模型连接。这会让你开始。现在你必须去创建一些视图

# sql - SQL中的IN运算符和=运算符有什么区别？

> ID：15182746
> 
> 赞同：2
> 
> 时间：2013-03-03T05:24:39.880
> 
> 标签：sql, select

我只是在学习 SQL，我想知道以下几行之间有什么区别：

WHERE s.parent IN (SELECT l.parent .....)

相对

WHERE s.parent = (SELECT l.parent .....)

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-03T05:25:49.897

`IN`

如果子查询有多个结果，则不会生成错误。***允许在子查询返回的结果中包含多个值。***

`=`

如果子查询有多个结果，将产生错误。

*   [SQLFiddle 演示（*IN vs =*）](http://www.sqlfiddle.com/#!2/6830b/7)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-06-04T20:11:45.220

“IN”子句也慢得多。如果您的选择部分有很多结果

`IN (SELECT l.parent .....)`,

这将是非常低效的，因为它实际上为 select 语句中的每个结果生成一个单独的 select sql 语句......所以如果你返回 'Cat', 'Dog', 'Cow'

它本质上会为每个结果创建一个 sql 语句......如果你有 200 个结果......你得到完整的 sql 语句 200 次......永远需要......（这是几年前的......也许现在已经改进了......但在大结果集上它非常缓慢。）

进行内部连接更有效，例如：

```
Select id, parent
from table1 as T
inner join (Select parent from table2) as T2 on T.parent = T2.parent 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-06T11:50:29.353

当您使用“IN”时，它可以比较多个值....比如

select * from tablename where student_name in('mari','sruthi','takudu')

但是当你使用'='时，你不能比较多个值

select * from tablenamewhere student_name = 'sruthi'

我希望这是正确的答案

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-11-19T18:17:32.347

*对于未来的访客。*

*   基本上在等于的情况下（请记住，我们在这里谈论的是`where a.name = b.name`），表 1 中的每个单元格值将与表 2 中所有行的每个单元格值一一进行比较，如果匹配，则将选择该行（此处将选择该行意味着表 1 和表 2) 中的行用于整个结果集，否则将不会被选择。
*   现在，在 IN 的情况下，IN 右侧的完整结果集将用于比较，因此与表 1 中的每个值一样，将检查该单元格值是否存在于 IN 的完整结果集中，如果存在，那么该值将显示在 IN 结果集的所有行中，因此假设 IN 结果集有 20 行，因此表 1 中的单元格值将出现在整个结果集中 20 次（即那个特定的单元格值将有 20 行）。

为了更清楚地看到下面的屏幕截图，请注意下面的`IN`（和`NOT IN`）右侧的完整结果集是如何在整个结果集中被考虑的；**整个重点在于，**在使用 比较的情况下`=`，选择第二个表中的匹配行，而在第二个表中选择`IN`完整结果的情况下。

[![在此处输入图像描述](../Images/6d020186e8e5e07fd3a1b64f9f8b6048.png)](https://i.stack.imgur.com/SMisB.png)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-03T05:41:09.210

`In`可以将一个值与多个值匹配，换句话说，它检查一个值是否在值列表中，例如

`x in ('a', 'b', 'x')`将返回真结果，因为 x 在值列表中

虽然`=`只期望一个值，但它很简单

x = y 返回假

和

x = x 返回真

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-06-04T22:02:38.323

一般的经验法则是：

期望与`=`单个值进行比较。像这样：

```
WHERE s.parent = 'father_name' 
```

`IN`在 = 无法工作的情况下非常有用，即需要与多个值进行比较的情况。

```
WHERE s.parent IN ('father_name', 'mother_name', 'brother_name', 'sister_name') 
```

希望这有用！！！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-03-28T08:54:05.467

**在**

当子查询返回多个结果时，这会有所帮助。

**=**

此运算符不能处理多个结果。

就像在这个例子中一样：

SQL>

```
Select LOC from dept where DEPTNO = (select DEPTNO from emp where
JOB='MANAGER'); 
```

*给出错误 ORA-01427：单行子查询返回多于一行*

而是使用

SQL>

```
Select LOC from dept where DEPTNO in (select DEPTNO from emp
where JOB='MANAGER'); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-04-22T18:47:39.250

1) 有时 = 也用作比较运算符，以防 IN 没有的连接。2) 您可以在 IN 块中传递多个值，而 = 则无法做到这一点。例如，

```
 SELECT * FROM [Products] where  ProductID IN((select max(ProductID) from Products), 
```

（从产品中选择 min(ProductID)））

可以工作并为您提供预期的行数。但是，

```
 SELECT * FROM [Products] where  ProductID = (select max(ProductID) from Products) 
and ProductID =(select min(ProductID) from Products) 
```

将为您提供“无结果”。这意味着，如果子查询应该返回多个行数，在这种情况下 '=' 是没有用的。

# windows - 如何制作二维码windows应用程序？

> ID：15182763
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:28:54.813
> 
> 标签：windows, visual-studio-2010, qr-code

我一直在尝试在 Windows 中制作一个生成和解码 QR 码的应用程序。任何帮助都会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:36:24.237

这个问题有点含糊，但在谷歌上快速搜索“开源二维码库”会出现以下结果：

*   [代码项目](http://www.codeproject.com/Articles/20574/Open-Source-QRCode-Library)
*   [源锻造](http://qrcode.sourceforge.jp/index.html.en)
*   [志兴](https://code.google.com/p/zxing/)

二维码已经广为人知，应该很容易找到适合您选择的语言/平台的库。

一旦您确定了您选择的库，您应该能够缩小您的问题范围。

# matlab - 为什么我得到一个 0x1 单元格？matlab什么函数

> ID：15182764
> 
> 赞同：0
> 
> 时间：2013-03-03T05:28:59.610
> 
> 标签：matlab, cell-array

我正在使用以下代码查看特定目录中的所有文件，并且得到了一些奇怪的结果。该程序的重​​点是执行以下操作：我正在查看 2007 年 6 月 20 日和 2007 年 9 月 20 日之间每天的大量（约 7000+）个 .mat 文件。我要做的是搜索每个文件夹并查看 .mat 文件等。但是，由于某种原因，我得到了一个对我来说没有意义的 0x1 单元格。也许眼睛受过更好训练的人可以明白为什么？

```
jDate = strtok( dates(j).name, '.' );    % Or dates(j,1).name

tradeFolder = sprintf( 'TAQ Data\\trades unzipped\\%s.tar\\%s\\', jDate );    
tradeFiles = what(tradeFolder);
tradeMat = tradeFiles.mat;

quoteFolder = sprintf( 'TAQ Data\\quotes unzipped\\%s.tar\\%s\\', jDate );
quoteFiles = what(quoteFolder);
quoteMat = quoteFiles.mat; 
```

（我已经排除了文件路径的开头，因为它包含我的名字）。无论如何，数据的保存方式是这样的：我提取了每天的数据并将其保存到上面列出的文件夹中。例如，解压缩的内部交易将是一个文件夹 20070620.tar，该文件夹内将是另一个名为 20070620 的文件夹，该文件夹内有超过 7000 个 .mat 文件。那么....为什么我会为 tradeFiles.mat 获得一个 0x1 单元格？

如果有人可以提供帮助，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:55:32.677

几点评论

1.  `sprintf`您拥有 (`tradeFolder=...`和`quoteFolder=...`) 的两行在`'%s'`格式化字符串中都有两行，而只有一个参数：`jDate`. 这可能会导致未定义的行为。

2.  最好用于[`fullfile`](http://www.mathworks.com/help/matlab/ref/fullfile.html)连接路径和文件名。

3.  尽管`what`在这种情况下使用是正确的，但您可能需要使用`dir( fullfile( tradeFolder, '*.mat' ) );`

4.  最好[不要在 Matlab中使用`i`and`j`](https://stackoverflow.com/questions/14790740/using-i-and-j-as-variables-in-matlab)作为变量。

# .htaccess - htaccess 仅在文件不存在时重写

> ID：15182769
> 
> 赞同：4
> 
> 时间：2013-03-03T05:29:36.940
> 
> 标签：.htaccess, mod-rewrite

使用 .htaccess mod rewrite，我想重写一个 url，检查该文件是否存在，如果不使用在第一次重写期间删除的原始 url 的一部分再次重写到另一个 url。

例如，如果原始 url 是这个

/images/3001/zebra.jpg

我想检查文件是否存在 /images/cached/zebra.jpg 并在它存在时提供它。

如果不是，我想重写为 /image.php?id=3001

非常感谢，菲尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T08:09:36.663

在文档根目录的 htaccess 文件中，在您可能已经拥有的任何规则之前添加这些规则：

```
RewriteEngine On

# cached copy exists
RewriteCond %{REQUEST_URI} ^/images/[0-9]+/(.+)$
RewriteCond %{DOCUMENT_ROOT}/images/cached/%1 -f
RewriteRule ^ /images/cached/%1 [L]

# cached copy doesn't exist
RewriteCond %{REQUEST_URI} ^/images/([0-9]+)/(.+)$
RewriteCond %{DOCUMENT_ROOT}/images/cached/%2 !-f
RewriteRule ^ /image.php?id=%1 [L] 
```

# javascript - 我的倒数计时器不工作

> ID：15182770
> 
> 赞同：0
> 
> 时间：2013-03-03T05:29:38.703
> 
> 标签：javascript

这是我的 Javascript 代码：

```
var run;
var countdown;
var count =14;
var curImage = 1;
function startAdPage() {
run = setInterval("changeAd()"5000);
countdown = setInterval("startCountdown()",1000);
}
function changeAd {
switch (curImage) {
case 1: 
document.images[0].src = "cvb2.gif";
curImage = 2;
break;
case 2: 
document.images[1].src = "cvb3.gif";
curImage = 3;
break;
case 3:
document.images[2].src = "cvb1.gif";
curImage = 1;
break;
}
}
function startCountdown() {
 document.advertisement.ads.value = count;
 --count;
if (0==count;)
window.clearInterval(countdown);
window.clearInterval(run);
count=14;
location.href = "crv2.htm";
}

} 
```

这是我的表格/表格：

```
<form name="advertisement" method="">
<table>
<tr>
<td><img src="cvb1.gif"></td>
<td>
<p><b><center>Advertisement</center></b></p>
<p><center>The Central Valley Realtors home page will be displayed in <input type="text" name="ads" value="15" size="4" /> seconds.</center></p>
<p><center><a href="cvr2.html">Skip advertisement</a></center></p>
</td>
</tr>
</table>
</form> 
```

文本字段上的值仍然没有倒计时。我的代码有问题吗？

[JSFiddle](http://jsfiddle.net/JxAd4/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:34:33.940

一方面，您在调用 setInterval 时缺少逗号：

```
run = setInterval("changeAd()", 5000); 
```

# php - 使用 phing 访问 src 文件中单元测试用例文件中定义的变量

> ID：15182776
> 
> 赞同：0
> 
> 时间：2013-03-03T05:30:24.313
> 
> 标签：php, phpunit, phing

我在我的测试文件中定义了一些变量然后我从我在 src 文件中定义的测试文件中调用一个函数并验证结果然后使用 phing 它不起作用，但是如果我使用 php 或 phpunit 来验证它是否工作正常。

示例：add.php（源文件）（存在于 src 目录中）

```
<?php
function add_two_numbers()
{
    global $a,$b; /* defined in test file*/
    return ($a + $b);
}
?> 
```

其他文件：

```
// add_Test (Test File) (present in the test directory)
<?php
$a = 5;
$b = 3;
require_once ("__DIR__./../src/add.php");

class add_Test extends PHPUnit_Framework_TestCase{
    function testadd()
    {
        $act = 8;
        $res = add_two_numbers();
        $this -> assertTrue($res === $act);
    }
}

?> 
```

现在，如果我使用 phpunit，那么它工作正常，但使用 phing 时未设置全局变量。请告诉我一个解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T07:33:51.797

您不应该在测试中使用全局变量。如果必须，请在 setUp() 方法中定义它们。

您的问题的原因可能是 PHPUnit 的`backupGlobals`功能。您可以尝试显式激活/停用它，但我宁愿使用 setUp() 解决方案。

# c++ - visual c++ 并口控制

> ID：15182777
> 
> 赞同：3
> 
> 时间：2013-03-03T05:30:49.457
> 
> 标签：c++, parallel-processing, port

我在 Visual c++ 中编写了这段代码来通过并行端口控制 LED：

// InpoutTest.cpp : 定义控制台应用程序的入口点。//

```
 #include "stdafx.h"
 #include "stdio.h"
 #include "string.h"
 #include "stdlib.h"
 #include <conio.h>

 short _stdcall Inp32(short PortAddress);
 void _stdcall Out32(short PortAddress, short data);

 int main(int argc, char* argv[])
 {
     Out32(888, 255);
     system("pause");
         Out32(888, 0);

     return 0;
 } 
```

现在，我想到的是'Out32(888, 255);'这一行 将在所有数据寄存器中写入 1，并且从 D0 连接到 D7 的所有 LED 将打开；但什么也没发生，执行前打开的 LED 仍然打开，并且与关闭的 LED 相同。

'Out32(888, 0);' 的情况也是如此，没有关闭任何 LED。

上面的代码有什么问题？我在 64 位操作系统（Windows 8）上工作时使用了“Inpoutx64.dll”。我还在项目属性>链接>输入>附加依赖项中包含了“Inpoutx64.lib”。

我还将“inpoutx64.dll”复制到 Windows/system 32

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T07:27:15.667

确保您`inpoutx64.dll`与生成的文件位于同一目录中`.exe`，并且您已运行`InstallDriver.exe`包含的程序`inpoutx64.dll`并允许 UAC 提升，以便安装所需的系统驱动程序。

# javascript - 单选按钮的 onclick 上的 Javascript 滚轮

> ID：15182779
> 
> 赞同：0
> 
> 时间：2013-03-03T05:30:59.867
> 
> 标签：javascript, ajax

我有四个单选按钮来选择一个国家。当用户单击任何单选按钮时，我使用 Ajax 获取该国家/地区的状态。为了向最终用户展示我们正在处理数据，我使用了滚动图像（gif）。

当任何用户单击国家广播时，在方法（广播的 onclick 事件）**loadStates()**中，我通过将其显示属性设置为“内联”来启用滚轮图像。然后使用 Ajax 向服务器发送一个请求（为了显示一个工作示例，我删除了该代码并插入了一个“睡眠”，只是为了表明它需要一些时间）。得到结果后，我立即将显示属性设置为“无”。

但是它不起作用。谁能告诉我如何解决它？

PS：我暂时不想使用jQuery，请只使用Javascript。

```
<html>
<head>
 <script type="text/javascript">

    window.onload = init;

    function init() {
       countryFunctions();
    }//init

    function countryFunctions() {
       var inputElems = document.forms[0].getElementsByTagName('input');
       for (var i = 0, j = inputElems.length; i < j; i++) {
          var elemName = inputElems[i].name;
          if ( typeof elemName != 'undefined' && elemName === 'country' ) {
             //inputElems[i].onmouseup = showRoller;
             inputElems[i].onclick = loadStates;
          }//if
       }//for
       return;
    }

   function loadStates() {
       var action = 'get_states';
       document.getElementById("fSpinner").style.display = "inline";
       //alert("hi........");
       var result = doLoad(action);
       document.getElementById("countryStates").innerHTML = result;
       document.getElementById("fSpinner").style.display = "none";
   }

   function doLoad(action) {//A dummy function just show what it returns (actually it is Ajax)
      sleep(7000);
      var value = "\
        <p>\
           Which state of the country would you like to go?\
        </p>\
        <select name=\"state\">\
            <option value=\"1362\">Delhi</option>\
            <option value=\"481\">Kerala</option>\
            <option value=\"666\">Punjab</option>\
            <option value=\"668\">Kashmir</option>\
       </select>";
      return(value);
   }

   function sleep(ms) {
      var unixtime_ms = new Date().getTime();
      while(new Date().getTime() < unixtime_ms + ms) {}
   }
 </script>
 <style type="text/css">
   #fSpinner { display:none; }
 </style>
</head>
<body>
  <form>
    <p>What country do you belong to?</p>
    <p>
       <input name="country" value="in" type="radio">&nbsp;India&nbsp;&nbsp;&nbsp;
       <input name="country" value="au" type="radio">&nbsp;Australia&nbsp;&nbsp;&nbsp;
       <input name="country" value="nz" type="radio">&nbsp;New Zealand&nbsp;&nbsp;&nbsp;
       <input name="country" value="my" type="radio">&nbsp;Malaysia&nbsp;&nbsp;&nbsp;
       <span id="fSpinner">
           <img style="vertical-align:text-bottom;" src="http://107.20.148.146/shak/images/roller.gif">
       </span>
    </p>
    <div id="countryStates"></div>
  </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T08:04:12.410

该`sleep`函数“阻止”浏览器，在函数返回之前页面不会刷新。

要模拟异步过程，例如 AJAX 调用，请`setTimeout`改用：

```
 function loadStates() {
   var action = 'get_states';
   document.getElementById("fSpinner").style.display = "inline";

   setTimeout( function() {
     var value = "\
       <p>\
          Which state of the country would you like to go?\
       </p>\
       <select name=\"state\">\
           <option value=\"1362\">Delhi</option>\
           <option value=\"481\">Kerala</option>\
           <option value=\"666\">Punjab</option>\
           <option value=\"668\">Kashmir</option>\
      </select>";
      document.getElementById("countryStates").innerHTML = value;
      document.getElementById("fSpinner").style.display = "none";
   }, 7000) ;
 } 
```

# c# - wpf中的侧边栏菜单

> ID：15182782
> 
> 赞同：0
> 
> 时间：2013-03-03T05:32:13.583
> 
> 标签：c#, wpf

我是 WPF 的新手，并试图在我的应用程序中制作类似侧边栏的菜单。我想根据边栏中选择的项目（位于左侧，总宽度的 25%）在右侧（总宽度的 75%）加载适当的窗口。那可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:40:34.813

我认为您不能在另一个窗口中拥有 Window，这是 UserControl 和 Window 之间的区别之一，您不能将 Window 作为另一个 Window 的子级，但您可以将一个或多个 UserControls 作为子级。但是您可以使用两个 Windows 一个用于您的菜单和另一个将根据您在菜单中选择的项目的窗口。但是您必须将 SideBar Windows **TopMost**属性设置为 True。我希望这会给您一个想法

# javascript - 悬停后平滑显示/隐藏 div

> ID：15182787
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:33:00.800
> 
> 标签：javascript, jquery, show-hide

我正在研究我的 wordpress 主题，我想实现一旦鼠标悬停就隐藏和显示的社交按钮。

注意[Mashable](http://mashable.com/)是如何做到的？知道怎么做吗？

你能通过在jsfiddle中编码来帮助我吗？非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:54:16.203

你可以开始看这篇文章。答案解决了你的问题。

[在gridview项目模板中，当div设置为不显示时如何在鼠标悬停时显示/隐藏div](https://stackoverflow.com/questions/9372665/how-to-show-hide-div-on-mouseover-when-div-set-to-display-none-in-gridview-ite)

试试看。

# eclipse - 在哪里可以找到 sencha touch JSB 文件？

> ID：15182792
> 
> 赞同：4
> 
> 时间：2013-03-03T05:34:21.440
> 
> 标签：eclipse, eclipse-plugin, sencha-touch, sencha-touch-2, sencha-touch-2.1

我正在尝试使用本教程在 Eclipse 中使用 spket 插件获取代码完整建议：[https ://steve0hh.wordpress.com/2012/04/20/how-to-set-up-sencha-touch-code-assist-in -aptana/](https://steve0hh.wordpress.com/2012/04/20/how-to-set-up-sencha-touch-code-assist-in-aptana/)

问题是我在下载的 sdk zip 中找不到 jsb3 文件。

我正在使用 sencha-touch-2.1.1-commercial。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-13T06:14:46.397

好的，我找到了可以使用的文件：

[http://dev.europalab.com/tizportdev/demos/Senchtest/touch.jsb3](http://dev.europalab.com/tizportdev/demos/Senchtest/touch.jsb3)

下载此文件并将其作为 src 文件夹的兄弟姐妹放入已下载的 sencha touch 文件夹（touch-2.1.1）中，然后按原样执行其余步骤。

如果上面的链接不起作用，试试这个：[https ://docs.google.com/file/d/0B0EOCoTxRKgveFZlc2x2aDlpWFE/edit?usp=sharing](https://docs.google.com/file/d/0B0EOCoTxRKgveFZlc2x2aDlpWFE/edit?usp=sharing)

# c# - 单击文本框后如何在文本框下方显示表单？

> ID：15182794
> 
> 赞同：0
> 
> 时间：2013-03-03T05:35:34.400
> 
> 标签：c#, winforms

目前`Form1`有`textBox1`，`Form1`有`StartPosition = CenterScreen`，`textBox1`有`textBox1_MouseClick`

代码`textBox1_MouseClick`

```
private void textBox1_MouseClick(object sender, MouseEventArgs e)
    {
        Form2 frm2 = new Form2();
        frm2.ShowDialog();
    } 
```

在`Form2`也有`StartPosition = CenterScreen`当我点击`textBox1` 将`Form2`覆盖的`textBox1`。

我想要发生的是它不会覆盖`textBox1`何时`Form2`显示，它应该`textBox1`像工具提示一样显示在它的下方。我怎样才能做到这一点？

更新代码：

```
private void textBox1_MouseClick(object sender, MouseEventArgs e)
    {
        Form2 frm2 = new Form2();
        frm2.StartPosition = FormStartPosition.Manual;
        frm2.Location = new Point(this.Location.X + textBox1.Location.X, this.Location.Y + textBox1.Location.Y);
        frm2.ShowDialog();

    }

    private void textBox2_MouseClick(object sender, MouseEventArgs e)
    {
        Form2 frm2 = new Form2();
        frm2.StartPosition = FormStartPosition.Manual;
        frm2.Location = new Point(this.Location.X + textBox2.Location.X, this.Location.Y + textBox2.Location.Y);
        frm2.ShowDialog();
    } 
```

没有点击文本框：

![在此处输入图像描述](../Images/2312d3e46c390b9f494a50c0ac33b434.png)

点击文本框1：

![在此处输入图像描述](../Images/173a4f9ad96dd308873a1c743480441c.png)

点击文本框2：

![在此处输入图像描述](../Images/d4d9463c7811ef414fd5167dddc47c61.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:41:38.083

您最好使用 UserControl 而不是表单。只需将 UserControl 的位置设置为 (textbox1.Left, textbox1.Top + textbox1.Height)。

您应该在项目中添加一个从标准 TextBox 继承的自定义 TextBox 类，并连接其 Enter/Leave 事件，在其中显示/隐藏您的键盘控件并连接其“keypress”事件以修改自定义文本框的文本。这将使您可以根据需要创建尽可能多的文本框实例。您甚至可以让您的键盘控件成为自定义 TextBox 的静态成员，以节省一些资源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T06:13:37.243

你也可以使用这样的东西：

```
private Point GetPosition()
{
    return new Point(this.Location.X + this.textBox1.Location.X, this.Location.Y + this.textBox1.Location.Y);
}

private void button1_Click(object sender, EventArgs e)
{
    Form2 fm = new Form2();
    fm.Location = this.GetPosition();
    fm.ShowDialog();
} 
```

这还不准确。您必须将 Form Borderwith 添加到该位置。对于 Form2 设置 StartPosition = Manual

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T07:23:52.273

我之前发布的是长期的通用解决方案。要快速解决手头的问题，您只需执行以下操作：

```
frmKeyboard.Location = this.PointToScreen(new Point(txtYourTextBox.Left, txtYourTextBox.Top + txtYourTextBox.Height)); 
```

# r - R中的SVM特征选择

> ID：15182800
> 
> 赞同：4
> 
> 时间：2013-03-03T05:36:47.333
> 
> 标签：r, svm, libsvm, feature-selection

我正在训练一个 SVM 分类器。现在，我有大约 4000 个功能，但其中很多都是多余的/没有信息的。我想将模型中的特征减少到大约 20-50 个。我想使用贪婪的爬山，每次减少1个特征。移除的特征应该是最不重要的特征。训练一个 SVM 后，如何获得特征重要性的排名？如果我在 R 中使用 libsvm，我如何获得每个功能的权重，或其他类似类型的重要性指标？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-27T19:14:05.720

我会首先使用 PCA（主成分分析）降低问题的维数，然后应用 SVM。参见例如[Andrew Ng 的讲座视频](https://class.coursera.org/ml-003/lecture/index)

# verilog - 在输入中计算

> ID：15182801
> 
> 赞同：0
> 
> 时间：2013-03-03T05:36:56.437
> 
> 标签：verilog

我想计算 8 位输入中 1 的数量并输出其中有多少个。我发现这一点的方式非常粗糙和多余。我想知道是否有任何简单而好的方法可以找到它们。我的代码如下所示：

```
module my_8to4bit(in,out);

input [7:0]in;
output [3:0]out;

assign out=(input == 1 || input == 2 || input == 4 || input == 8 || input == 16 || input == 32 || input == 64 || input == 128)?1:
(input == 3 || input == 5 || input == 6 || input == 9 || input == 10 || input == 12 || input == 24 || input == 128)?2:0; 
```

...同样适用于 8 位输入中的所有 1。

有没有一种简单的方法可以找到它们？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T07:00:00.293

怎么样

```
always @* begin
  out = 0;
  for(i=0;i<8;i=i+1) begin
    out = out + in[i];
  end
end 
```

应该只合成 8 个加法器，每个位一个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T14:37:10.657

If you don't need to synthesize the code, and your simulator supports SystemVerilog syntax, you can use the `$countones` system function. Refer to the IEEE Std 1800-2009, for example.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:57:36.160

[您可以在Bit Twiddling Hacks](http://graphics.stanford.edu/~seander/bithacks.html)中查找答案。如果速度很重要并且空间不是问题，您可以考虑使用 256 字节的查找表。否则，可能使用[Brian Kernighan的方式](http://graphics.stanford.edu/~seander/bithacks.html#CountBitsSetKernighan)（并测量它是否实际上比查找表慢；如果内存慢而CPU快，它可能比查找表快）。

# c# - 为什么要将事件用于我可以对代表做的事情？

> ID：15182802
> 
> 赞同：9
> 
> 时间：2013-03-03T05:37:12.777
> 
> 标签：c#, .net, events, delegates

我知道事件总是与代表相关联。但是，我错过了事件的一些核心用途，并试图理解这一点。

我创建了一个简单的事件程序，如下所示，它工作得非常好。

```
namespace CompleteRef3._0
{
delegate void someEventDelegate();

class EventTester
{
    public event someEventDelegate someEvent;

    public void doEvent()
    {
        if (someEvent != null) someEvent();
    }

}

class Program
{
    static void EventHandler1()
    {
        Console.WriteLine("Event handler 1 called..");
    }

    static void EventHandler2()
    {
        Console.WriteLine("Event handler 2 called..");
    }
    static void EventHandler3()
    {
        Console.WriteLine("Event handler 3 called..");
    }

    static void Main(string[] args)
    {
        EventTester evt = new EventTester();
        evt.someEvent += EventHandler1;
        evt.someEvent += EventHandler2;
        evt.someEvent += EventHandler3;
        evt.doEvent();
        Console.ReadKey();

    }
}
} 
```

我用代表替换了事件声明。那就是我替换了行***public event someEventDelegate someEvent;*** 与***someEventDelegate someEvent;*** 在上面的程序上，我仍然得到相同的结果。现在，我很困惑为什么我们需要使用事件，如果它只能由代表来实现。事件的真正用途是什么？

没有事件的修改程序如下 -

```
namespace CompleteRef3._0
{
delegate void someEventDelegate();

class EventTester
{
    someEventDelegate someEvent;

    public void doEvent()
    {
        if (someEvent != null) someEvent();
    }

}

class Program
{
    static void EventHandler1()
    {
        Console.WriteLine("Event handler 1 called..");
    }

    static void EventHandler2()
    {
        Console.WriteLine("Event handler 2 called..");
    }
    static void EventHandler3()
    {
        Console.WriteLine("Event handler 3 called..");
    }

    static void Main(string[] args)
    {
        EventTester evt = new EventTester();
        evt.someEvent += EventHandler1;
        evt.someEvent += EventHandler2;
        evt.someEvent += EventHandler3;
        evt.doEvent();
        Console.ReadKey();

    }
}
} 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2016-12-23T18:09:35.580

假设您有 3 个订阅者对您的 someEvent 感兴趣。让我们进一步假设他们有兴趣从同一`EventTester`实例接收事件。为简洁起见，让我们忽略如何将完全相同的实例传递给所有客户端的细节。当我说*clients*时，我指的是任何订阅该事件的类。

这是实例：

```
EventTester evt = new EventTester(); 
```

他们已经订阅了上述实例的事件，如下所示：

客户 1

```
evt.someEvent += Client1Handler1;
evt.someEvent += Client1Handler2; 
```

客户 2

```
evt.someEvent += Client2Handler1; 
```

客户 3

```
evt.someEvent += Client3Handler1;
evt.someEvent += Client3Handler2; 
```

客户 4：

想象一下客户端 4 做了以下 3 个操作之一：

```
// 1: See Note 1 below
evt.someEvent = null;

// 2: See Note 2 below
evt.someEvent = new someEventDelegate(MyHandler);

// 3: See Note 3 below
evt.someEvent();

//...
private void MyHandler()
{
    MessageBox.Show("Client 4");
} 
```

注1

客户端 1、2 和 3 将不再收到任何事件。为什么？因为客户端 4 刚刚执行此操作`evt.someEvent = null;`，并且`EventTester`您有以下代码行：

```
if (someEvent != null) someEvent(); 
```

由于该条件将不再通过，因此不会引发任何事件。顺便说一句，上面这行代码没有任何问题。但是使用委托有一个问题：**它可以被分配给。**

笔记2

它已被完全覆盖到一个全新的实例中。现在无论客户端如何，他们都会看到一个显示“客户端 4”的消息框。

注3

哎呀，突然之间，其中一个客户正在广播该事件。

* * *

想象一下`EventTester`是 a`Button`和`someEvent`was `Click`。假设您有多个客户对此按钮的点击事件感兴趣。突然之间，一个客户决定没有其他人应该收到通知（注 1）。或者一个客户决定当按钮被点击时，它只会被处理一种方式（注2）。或者它已经决定它会决定何时单击按钮，即使该按钮可能**尚未**被单击（注 3）。

* * *

如果您有一个`event`和一个客户端尝试了上述操作，他们将被禁止并获得编译错误，如下所示：

[![在此处输入图像描述](../Images/8e779d8f4a96e1d241e377b3e43dfbdc.png)](https://i.stack.imgur.com/PeV6w.png)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-03T06:24:09.873

当然，您可以使用委托，因为在幕后，事件是包装委托的构造。

但是使用事件而不是委托的基本原理与使用属性而不是字段*数据封装*的基本原理相同。直接公开字段（无论它们是什么 - 原始字段或委托）是不好的做法。

顺便说一句，您`public`在委托字段之前错过了一个关键字，以便在第二个片段中使用它。

第二个片段的另一个“顺便说一句”：对于代表，您应该使用`Delegate.Combine`而不是“+=”。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-03T06:21:47.417

事件的主要目的是防止订阅者相互干扰。如果您不使用事件，您可以：

通过重新分配委托替换其他订阅者（而不是使用 += 运算符），清除所有订阅者（通过将委托设置为 null），通过调用委托向其他订阅者广播。

资料来源：简而言之 C#

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-10-19T14:09:52.610

```
public class Program
{
    public static void Main()
    {
        Number myNumber = new Number(100000);
        myNumber.PrintMoney();
        myNumber.PrintNumber();
        Console.ReadKey();
    }
}

public class Number
{
    private PrintHelper _printHelper;

    public Number(int val)
    {
        _value = val;

        _printHelper = new PrintHelper();
        //subscribe to beforePrintEvent event
        _printHelper.beforePrintEvent += printHelper_beforePrintEvent;
    }
    //beforePrintevent handler
    void printHelper_beforePrintEvent(string message)
    {
        Console.WriteLine("BeforePrintEvent fires from {0}", message);
    }

    private int _value;

    public int Value
    {
        get { return _value; }
        set { _value = value; }
    }

    public void PrintMoney()
    {
        _printHelper.PrintMoney(_value);
    }

    public void PrintNumber()
    {
        _printHelper.PrintNumber(_value);
    }

}
public class PrintHelper
{
    public delegate void BeforePrintDelegate(string message);
    public event BeforePrintDelegate beforePrintEvent;

    public PrintHelper()
    {

    }

    public void PrintNumber(int num)
    {
        if (beforePrintEvent != null)
            beforePrintEvent.Invoke("PrintNumber");

        Console.WriteLine("Number: {0,-12:N0}", num);

    }

    public void PrintDecimal(int dec)
    {
        if (beforePrintEvent != null)
            beforePrintEvent("PrintDecimal");

        Console.WriteLine("Decimal: {0:G}", dec);
    }

    public void PrintMoney(int money)
    {
        if (beforePrintEvent != null)
            beforePrintEvent("PrintMoney");

        Console.WriteLine("Money: {0:C}", money);
    }

    public void PrintTemperature(int num)
    {
        if (beforePrintEvent != null)
            beforePrintEvent("PrintTemerature");

        Console.WriteLine("Temperature: {0,4:N1} F", num);
    }
    public void PrintHexadecimal(int dec)
    {
        if (beforePrintEvent != null)
            beforePrintEvent("PrintHexadecimal");

        Console.WriteLine("Hexadecimal: {0:X}", dec);
    }
} 
```

# python - Python 3.30 TypeError：“int”类型的对象没有 len()

> ID：15182804
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:37:18.130
> 
> 标签：python, python-3.x

这是我得到的错误`for i in range(len(n))`：

```
TypeError: object of type 'int' has no len() 
```

我在这里看到了其他帖子，但还没有找到解决方案。
我很困惑。如果您知道这里发生了什么，请发表评论。

这是我的代码：

```
#ch6.ex11.py

def squareEach(x):
    sqrt = x*x
    return sqrt

def main():
    n = []
    n = eval(input("Enter a list of numbers to be squared seperated by comma:\n"))
    i = 1
    sqrtn = ()

    for i in range(len(n)):
        sqrtn = squareEach(n)
        ++i

    print("Here's your results: ",sqrtn)

main() 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T05:39:11.087

`n`是一个整数。你要

```
for i in range(n): 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T06:41:19.657

看来您可能想要这样做：

```
def squareEach(n):
    squares = []
    for i in n:
        squares.append(i*i)
    return squares

def main():
    msg = "Enter a list of numbers to be squared seperated by comma:\n"
    n = list(eval(input(msg)))
    sqrtn = squareEach(n)

    print("Here's your results: ",sqrtn)

main() 
```

好吧，您的代码有一些问题：

1.  您应该将您的列表更改为列表，因为您正在迭代它。
2.  在 Python 的 for 循环中，您不需要循环计数器（除非它对程序有一些用处，在这种情况下它不是）
3.  `i++`在 Python 中无效。与它等效的 Python 是`i += 1`.

此外，Python 执行脚本中的所有代码行，因此您不需要`main()`在每个 Python 程序中都使用函数，但在某些情况下您可能想要使用它。

你可以做的其他事情：

```
def main():
    msg = "Enter a list of numbers to be squared seperated by comma:\n"
    n = list(eval(input(msg)))
    squares = [i**2 for i in n] # list comprehension
main() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T05:54:18.330

这就是我猜你正在尝试做的事情：

```
def squareEach(x):
    sqrt = x*x
    return sqrt
def main():
   n = list(map(int, input("Enter a list of numbers to be squared separaded by a comma").split(',')))
   sqrtn = []
   for i in range(len(n)):
       sqrtn.append(squareEach(n[i]))
   print("Here's your results: ",sqrtn)
main() 
```

或者您可以将 for 循环用作：

```
for i in n:
    sqrtn.append(squareEach(i)) 
```

或平方您可以执行的每个元素：

```
sqrtn = [x**2 for x in n] 
```

# java - 使用 jpa 时实体没有被持久化

> ID：15182805
> 
> 赞同：1
> 
> 时间：2013-03-03T05:37:23.843
> 
> 标签：java, postgresql, jakarta-ee, jpa, jboss-arquillian

我正在使用以下字段注释：

`@Id
@TableGenerator( name = "comment_sequence", pkColumnValue = "comment_sequence" )
@GeneratedValue( strategy = GenerationType.TABLE, generator = "comment_sequence" )
private Long id_comment;`

创建表的sql是：

`CREATE TABLE hibernate_sequences ( sequence_name VARCHAR(255) NOT NULL, next_val bigint, PRIMARY KEY ( sequence_name ) );
INSERT INTO hibernate_sequences VALUES ( 'comment_sequence', 1 );`

但是实体根本就没有持久化。知道会发生什么吗？我对上面提供的代码做错了吗？

* * *

编辑：

我在原帖中压制了一些信息，对不起（半夜问几乎睡着了=/）。

实体正在正确创建，如果我将策略更改为`SEQUENCE`并添加 SQL`CREATE SEQUENCE hibernate_sequence`一切正常（它是持久的），但我想使用该`TABLE`策略将每个表序列保持在`hibernate_sequences`.

我唯一的例外是`TransactionRolledbackException`由于`NullPointerException`集成测试中的测试失败引起的。没有明确说明它为什么不插入数据。

使用时我得到以下休眠输出`hibernate.show_sql = true`：

```
...

12:38:48,753 INFO  [stdout] (pool-5-thread-1) Hibernate: 
12:38:48,754 INFO  [stdout] (pool-5-thread-1)     insert 
12:38:48,755 INFO  [stdout] (pool-5-thread-1)     into
12:38:48,756 INFO  [stdout] (pool-5-thread-1)         cm_comment
12:38:48,757 INFO  [stdout] (pool-5-thread-1)         (cd_status, ds_message, dt_alt, dt_inc, id_user_alt, id_user_inc, id_problem, id_comment) 
12:38:48,758 INFO  [stdout] (pool-5-thread-1)     values
12:38:48,759 INFO  [stdout] (pool-5-thread-1)         (?, ?, ?, ?, ?, ?, ?, ?)

12:38:48,766 INFO  [stdout] (pool-5-thread-1) Hibernate: 
12:38:48,766 INFO  [stdout] (pool-5-thread-1)     select
12:38:48,767 INFO  [stdout] (pool-5-thread-1)         commentent0_.id_comment as id1_6_,
12:38:48,768 INFO  [stdout] (pool-5-thread-1)         commentent0_.cd_status as cd2_6_,
12:38:48,770 INFO  [stdout] (pool-5-thread-1)         commentent0_.ds_message as ds3_6_,
12:38:48,771 INFO  [stdout] (pool-5-thread-1)         commentent0_.dt_alt as dt4_6_,
12:38:48,772 INFO  [stdout] (pool-5-thread-1)         commentent0_.dt_inc as dt5_6_,
12:38:48,773 INFO  [stdout] (pool-5-thread-1)         commentent0_.id_user_alt as id6_6_,
12:38:48,774 INFO  [stdout] (pool-5-thread-1)         commentent0_.id_user_inc as id7_6_,
12:38:48,775 INFO  [stdout] (pool-5-thread-1)         commentent0_.id_problem as id8_6_ 
12:38:48,776 INFO  [stdout] (pool-5-thread-1)     from
12:38:48,777 INFO  [stdout] (pool-5-thread-1)         cm_comment commentent0_ 
12:38:48,778 INFO  [stdout] (pool-5-thread-1)     where
12:38:48,779 INFO  [stdout] (pool-5-thread-1)         commentent0_.id_problem=?

12:38:48,840 ERROR [org.jboss.arquillian.protocol.jmx.JMXTestRunner] (pool-5-thread-1) 
...

 java.lang.AssertionError: expected:<1> but was:<0>  

... 
```

我不确定这是否相关，但在之前的测试中我得到了错误：

`12:50:36,510 INFO [org.jboss.as.ejb3] (pool-4-thread-1) JBAS014101: Failed to find SFSB instance with session ID {[-98, -17, -32, -33, 63, 107, 74, 59, -76, -127, -19, 29, 24, 45, -50, 5]} in cache`

当我在运行应用程序后更改`postgresql.conf`并`log_statement = 'all'`签入`pg_log`目录时，我看不到任何日志。所以我不确定如何启用该选项。

我还在使用 Arquillian、arquillian 持久性 API 和 JBoss 托管实例进行集成测试。我将更新标签，因为这可能与其中任何一个有关。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T20:03:13.367

您的“声明”`TableGenerator`没有给出关于它应该查看/使用哪个表的任何信息，您给它的只是一个 pkColumn 名称......

尝试：

`@TableGenerator( name = "comment_sequence", table = "hibernate_sequences", pkColumnName = "sequence_name", valueColumnName = "next_val", pkColumnValue = "comment_sequence", allocationSize=1)`

`allocationSize=1`应该可能大于 1 ...当您验证它正在工作时。（最后，如果您使用此策略并将大量生成器放入数据库中的同一个表中，请注意潜在的锁定问题 - 如果您的应用程序正在创建“大量”实体。）

# jquery - 如何处理稍后将在 jQuery 中添加的内容？

> ID：15182812
> 
> 赞同：0
> 
> 时间：2013-03-03T05:38:43.203
> 
> 标签：jquery, canvas

我想控制在运行时自动创建的画布。这里的问题是该`jQuery`函数必须处理页面为`ready`.

```
$(document).ready(function(ee) {
     $("#containerInsertBtn").click(function(e) {
         e.preventDefault();
         $("#container").html("<canvas width='300' height='300' id='tk'>fall</canvas>");    
    });

    $("#tk").click(function(eg) {
        alert('tic');
    });

}); 
```

HTML 标记：

```
<div id="container" contenteditable="true"></div>
<button id="containerInsertBtn">Add Canvas</button> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:41:20.490

您可以为此使用 .on() ，例如：

```
$(document).on("click", "#tk", function(eg) {
   alert('tic');
}); 
```

或者，

```
$(document).on("click", "canvas", function() {
   console.log( $(this).attr("id") ); //gives you the id of clicked canvas
}); 
```

在这里查看更多:: [jQuery .on()](http://api.jquery.com/on/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T05:45:55.367

您的代码不起作用，因为在执行事件处理程序时动态创建的元素不会包含在 DOM 中。

您的解决方案是事件委托。jQuery 有[.on()](http://api.jquery.com/on/)来做到这一点。

```
$("body").on('click', '#tk', function(e) {
    //....
}); 
```

您需要指定一个父容器来将事件委托给它的子元素liek`#tk`

如果要根据标签名称委托给元素，则与上述相同。

```
$("body").on('click', 'canvas', function(e) {
    console.log($(this)); // you can access the active element by using $(this)
    //....
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:42:44.797

您可以（正如其他答案所建议的那样）使用`on`，或者对于您的简单情况，您可以在元素存在的同时绑定您的事件。

您不必在`ready`回调内部的顶层绑定所有事件：

```
$(document).ready(function(ee) {
    $("#containerInsertBtn").click(function(e) {
        e.preventDefault();
        $("#container").html("<canvas width='300' height='300' id='tk'>fall</canvas>");    

        $("#tk").click(function(eg) {
            alert('tic');
        });
    });
}); 
```

# java - 如何将 Swing 程序转换为 MVC 形式？

> ID：15182813
> 
> 赞同：-2
> 
> 时间：2013-03-03T05:38:44.173
> 
> 标签：java, swing, model-view-controller

我从下面给出的链接中获得了制作条形图的源代码 -

[java中的条形图](http://www.roseindia.net/java/example/java/swing/draw-simple-bar-chart.shtml)

我制作了一个模型类来存储项目及其相应的值。然后，我制作了一个面板类，它应该只接受模型并将其显示为条形图。然后我创建了一个框架类，将面板添加到它的内容窗格中。然后，我创建了一个应该运行所有这些的驱动程序类，就像链接中给出的代码一样。

问题是我只看到我的框架而没有条形图。我该如何解决？

我故意不包含我的代码，因为它太大了。但是，如果你觉得我应该把它放在这里，那么请告诉我。

```
package myArea;

public class SimpleBarChartModel{

private String[] items;
private double[] valuesOfItems;
private String title;

public SimpleBarChartModel(String[] itemList, double[] valueList, String title){

    String[] items = itemList;
    double[] valuesOfItems = valueList;

}

public String[] getItems(){
    return items;
}

public void setItems(String[] items){
    this.items = items;
}

public double[] getValuesOfItems(){
    return valuesOfItems;
}

public void setValuesOfItems(double[] valuesOfItems){
    this.valuesOfItems = valuesOfItems;
}

public String getTitle(){
    return title;
}

public void setTitle(String title){
    this.title = title;
}

}

package myArea;

import java.awt.*;
import javax.swing.*;

public class SimpleBarChartPanel extends JPanel{

SimpleBarChartModel bChartMdl; 

public SimpleBarChartPanel(SimpleBarChartModel bcMdl){

    bChartMdl = bcMdl; 

}

public void paintComponent(Graphics graphics) {

//Must always be the first line in paintComponent method
super.paintComponent(graphics);
double[] values = bChartMdl.getValuesOfItems();
String[] items = bChartMdl.getItems();
String title = bChartMdl.getTitle();     

if (values == null || values.length == 0)
return;

double minValue = 0;
double maxValue = 0;

for (int i = 0; i < values.length; i++) {
    if (minValue > values[i]){

        minValue = values[i];
    }

    if (maxValue < values[i]){

        maxValue = values[i];
    }

}

Dimension dim = getSize();
int clientWidth = dim.width;
int clientHeight = dim.height;
int barWidth = clientWidth / values.length;
Font titleFont = new Font("Book Antiqua", Font.BOLD, 15);
FontMetrics titleFontMetrics = graphics.getFontMetrics(titleFont);
Font labelFont = new Font("Book Antiqua", Font.PLAIN, 10);
FontMetrics labelFontMetrics = graphics.getFontMetrics(labelFont);
int titleWidth = titleFontMetrics.stringWidth(title);
int q = titleFontMetrics.getAscent();
int p = (clientWidth - titleWidth) / 2;
graphics.setFont(titleFont);
graphics.drawString(title, p, q);
int top = titleFontMetrics.getHeight();
int bottom = labelFontMetrics.getHeight();

if (maxValue == minValue){
    return;
}

double scale = (clientHeight - top - bottom) / (maxValue - minValue);
q = clientHeight - labelFontMetrics.getDescent();
graphics.setFont(labelFont);

for (int j = 0; j < values.length; j++) {
    int valueP = j * barWidth + 1;
    int valueQ = top;
    int height = (int) (values[j] * scale);

    if (values[j] >= 0){

        valueQ += (int) ((maxValue - values[j]) * scale);
}else{
        valueQ += (int) (maxValue * scale);
        height = -height;
}

        graphics.setColor(Color.blue);
        graphics.fillRect(valueP, valueQ, barWidth - 2, height);
        graphics.setColor(Color.black);
        graphics.drawRect(valueP, valueQ, barWidth - 2, height);
        int labelWidth = labelFontMetrics.stringWidth(items[j]);
        p = j * barWidth + (barWidth - labelWidth) / 2;
        graphics.drawString(items[j], p, q);

    }

}   

}

package myArea;

import javax.swing.*;

public class SimpleBarChartView extends JFrame{

SimpleBarChartPanel bChartPanel;

public SimpleBarChartView(SimpleBarChartPanel bcPanel, int width, int height){

    bChartPanel = bcPanel;
    this.setSize(width, height);
    this.getContentPane().add(bChartPanel);
    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

}

}   

package myArea;

public class SimpleBarChartDriver {

public static void main(String[]args){

    double[] value= new double[5];
    String[] languages = new String[5];

    value[0] = 1;
    languages[0] = "Visual Basic";

    value[1] = 2;
    languages[1] = "PHP";

    value[2] = 3;
    languages[2] = "C++";

    value[3] = 4;
    languages[3] = "C";

    value[4] = 5;
    languages[4] = "Java";

            SimpleBarChartModel sBModel = 
            new SimpleBarChartModel(languages,value,"comp languages");
    SimpleBarChartPanel sBPanel = new SimpleBarChartPanel(sBModel);
    SimpleBarChartView sbView = new SimpleBarChartView(sBPanel, 500, 500);
    sbView.setVisible(true);    
}

} 
```

**更新 - 这些是我在运行驱动程序类时遇到的错误**

```
Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException
at sun.font.FontDesignMetrics.stringWidth(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T07:15:23.383

您正在隐藏类中的变量：

```
class SimpleBarChartModel {
   private String[] items;
   private double[] valuesOfItems;
   private String title;

   public SimpleBarChartModel(String[] itemList, double[] valueList,
         String title) {
      String[] items = itemList; // **** here
      double[] valuesOfItems = valueList;  // **** here
   } 
```

在上面指出的地方，您正在重新声明类字段，因此实际字段将保持为空。解决方案不是重新声明字段，而是使用类字段：

```
class SimpleBarChartModel {
   private String[] items;
   private double[] valuesOfItems;
   private String title;

   public SimpleBarChartModel(String[] itemList, double[] valueList,
         String title) {
      items = itemList; // **** here
      valuesOfItems = valueList;  // **** here

      // !! missing something else here !! ;-)
   } 
```

接下来，当您获得 NullPointerException 时，请检查引发异常的行。其中一个变量尚未初始化，您必须更正代码以使其初始化。

# python - Oursql 安装失败，“未找到 cython”

> ID：15182815
> 
> 赞同：6
> 
> 时间：2013-03-03T05:39:06.380
> 
> 标签：python, mysql, sqlalchemy, oursql

尝试在 ubuntu 12.10 上为 python3x 和 sqlalchemy0.8 安装 oursql 驱动程序。它失败并出现以下错误。

```
sudo pip-3.2 install oursql
Downloading/unpacking oursql
Running setup.py egg_info for package oursql
Traceback (most recent call last):
  File "<string>", line 16, in <module>
  File "/tmp/pip-build/oursql/setup.py", line 53
    print "cython not found, using previously-cython'd .c file."
                                                               ^
SyntaxError: invalid syntax
Complete output from command python setup.py egg_info:
Traceback (most recent call last):

File "<string>", line 16, in <module>

File "/tmp/pip-build/oursql/setup.py", line 53

print "cython not found, using previously-cython'd .c file."

                                                           ^

SyntaxError: invalid syntax 
```

当我尝试安装**cython**时，我似乎已经有了它：

```
sudo pip-3.2 install cython
Requirement already satisfied (use --upgrade to upgrade): cython in /usr/local/lib/python3.2/dist-packages
Cleaning up. 
```

我该怎么做才能让它运行？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-21T22:35:58.287

运行 pip-3.2 时出现同样的错误。

这就是我使它工作的方式：

使用*python* *-3.2*创建了我的环境：

```
virtualenv -p /usr/bin/python3.2 
```

安装了所需的软件包：

```
sudo apt-get install python-dev

sudo apt-get install libmysqlclient-dev 
```

然后安装：

```
sudo pip install cython

sudo pip install oursql 
```

**编辑1：**

我的上述建议能够让你通过错误，但我错了（python3.2 无法读取我们的sql）。我尝试了以下方法并能够建立连接：

第一的：

```
sudo apt-get install python3.2-dev 
```

然后从源代码安装*oursql* for Python 3（正如它的维护者[在这里](https://bugs.launchpad.net/oursql/+bug/906007)所建议的那样）：

> 从[这里获取](https://launchpad.net/oursql/py3k)*oursql*的Python 3版本并从源代码编译它（没有足够的声誉发布链接，只需访问oursql官方网站获取安装说明）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-06-26T18:46:22.410

维护者有两个包，一个用于 python 2.x，一个用于 python 3.x，你应该运行：

`pip install oursql3`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-03T09:11:26.927

cython 什么都没有。

您刚刚在 print 中遇到了一个语法错误，因为该`print`语句在那里没有使用括号。它们在 Python 2 的`print`语句中是可选的，但在 Python 3 的`print()`函数中是必需的。

手动安装 - 要求：`python-dev, cython`

然后下载oursql包（尝试0.9.3.zip）和 `python setup.py install`

# html - 隐藏按钮的值

> ID：15182817
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:39:14.687
> 
> 标签：html, button

我在 html 页面中有 3 个按钮。每个都包含不同的值，比如说 answer1、answer2、answer3。我想传递单击按钮的值。问题是我不想在按钮上显示值。如何对用户隐藏按钮的值。

这是小提琴：

[http://jsbin.com/opigut/1/edit](http://jsbin.com/opigut/1/edit)

在这个小提琴中，我们可以更改代码以在按钮上显示不同的名称，即按钮 1、按钮 2、按钮 3，而值为 answer1、answer2、answer3。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:48:48.420

只需使用[按钮](http://dev.w3.org/html5/markup/button.submit.html)而不是`input`

```
<button type="submit" name="choice1" value="answer1">Button 1</button>
<button type="submit" name="choice2" value="answer2">Button 2</button>
<button type="submit" name="choice3" value="answer3">Button 3</button> 
```

# cocoa - 如何接受鼠标单击一部分并让单击其余的 NSWindow

> ID：15182819
> 
> 赞同：1
> 
> 时间：2013-03-03T05:39:19.913
> 
> 标签：cocoa, nswindow, nsevent

我有下面的子类 NSWindow 代码，有一个可以缩放的动画视图，我想在正确的位置单击它时接受单击，如果它在外部则拒绝（单击）。

下面的代码运行良好，只是窗口不允许点击通过。

```
- (void)mouseDragged:(NSEvent *)theEvent {
  if (allowDrag) {
    NSRect screenVisibleFrame = [[NSScreen mainScreen] visibleFrame];
    NSRect windowFrame = [self frame];
    NSPoint newOrigin = windowFrame.origin;

    // Get the mouse location in window coordinates.
    NSPoint currentLocation = [theEvent locationInWindow];
    // Update the origin with the difference between the new mouse location and the old mouse location.
    newOrigin.x += (currentLocation.x - initialMouseLocation.x);
    newOrigin.y += (currentLocation.y - initialMouseLocation.y);

    if ((newOrigin.y + windowFrame.size.height) > (screenVisibleFrame.origin.y + screenVisibleFrame.size.height)) {
        newOrigin.y = screenVisibleFrame.origin.y + (screenVisibleFrame.size.height - windowFrame.size.height);
    }

    // Move the window to the new location
    [self setFrameOrigin:newOrigin];
  }
}

- (void)mouseDown:(NSEvent *)theEvent
{
    screenResolution = [[NSScreen mainScreen] frame];

   initialMouseLocation = [theEvent locationInWindow];

    float scale = [[NSUserDefaults standardUserDefaults] floatForKey:@"widgetScale"]/100;

    float pX = initialMouseLocation.x;
    float pY = initialMouseLocation.y;
    float fX = self.frame.size.width;
    float fY = self.frame.size.height;

    if (pX>(fX-fX*scale)/2 && pX<(fX+fX*scale)/2 && pY>(fY+fY*scale)/2) {
        allowDrag = YES;
    } else {
        allowDrag = NO;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:07:39.487

在 Cocoa 中，您有两个基本选择：1）您可以使整个窗口通过点击`[window setIgnoresMouseEvents:YES]`，或者 2）您可以使您的部分窗口透明并且默认情况下点击会通过。

限制是窗口服务器决定将事件传递给哪个应用程序一次。将事件传递到您的应用程序后，无法让它取回事件并将其传递到另一个应用程序。

一种可能的解决方案可能是使用[Quartz Event Taps](https://developer.apple.com/library/mac/#documentation/Carbon/Reference/QuartzEventServicesRef/Reference/reference.html)。这个想法是让你的窗口忽略鼠标事件，但设置一个事件点击，它将查看登录会话的所有事件。如果你想让一个正在通过你的窗口的事件实际上停止在你的窗口，你手动处理它然后丢弃它。你不要让事件继续到它本来可以到达的应用程序上。我希望这将是非常棘手的正确做法。例如，您不想拦截您前面的另一个应用程序窗口的事件。

如果可能的话，我建议您使用 Cocoa 支持的技术。我认为您只希望点击通过透明的窗口，否则用户将如何知道他们在点击什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-23T20:46:06.520

请调用透明覆盖 CHILD WINDOW 以接受控制，并按照 Ken 的指示设置主窗口 -setIgnoresMouseEvents:YES。

我在名为“Overlay”的应用程序中使用了这个技巧。

# java - 像 TreeMap + Hash 一样的 Java 数据结构？

> ID：15182820
> 
> 赞同：1
> 
> 时间：2013-03-03T05:39:22.910
> 
> 标签：java, list, data-structures, hashmap, treemap

我需要将键值对输入到一个数据结构中，该数据结构允许我按键的升序检索它们——但它们可能是许多具有相同值的键。

因此，如果 kv 对是 {10-a, 10-b, 9-c, 8-d, 8-e, 8-f, 4-g, 4-h, 2-i} 我需要检索按顺序排列的值：a、b、c、d、e、f、g、h、i。JAVA API 中是否有任何数据结构支持这一点？

我尝试使用 TreeMap，因为它使它们保持有序，这允许我使用 TreeMap.lastKey() 来检索最高的当前键，但我不知道它覆盖了地图中已经存在的任何重复键。我需要一些不会覆盖的东西（类似于 HASH），但也允许我按排序顺序检索它们——这存在吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:44:44.787

Java 中通常使用的术语是“MultiMap”。例如，看看[Guava 的`TreeMultiMap`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultimap.html)

接口和任何实现都不是该标准 API 的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T05:50:06.167

不幸的是，您可能找不到支持相同键的多个值的结构。正如 Dilum 所说，有几种“MultiMap”或“Multi-Valued Maps”的实现可以很好地工作。

除了 Guava 的[TreeMultiMap 之外](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/TreeMultimap.html)，还有 Spring Framework 的[MultiValueMap](http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/util/MultiValueMap.html)和 Apache Common 的[MultiValueMap](http://commons.apache.org/proper/commons-collections//apidocs/org/apache/commons/collections/map/MultiValueMap.html)。

Spring 实现的一个示例是：

```
import org.springframework.util.LinkedMultiValueMap;
import org.springframework.util.MultiValueMap;

public class MultiValueMapExample {

    public static void main(String[] args) {
        // 10-a, 10-b, 9-c, 8-d, 8-e, 8-f, 4-g, 4-h, 2-i
        MultiValueMap<Integer, String> map = new LinkedMultiValueMap<Integer, String>();
        map.add(10, "a");
        map.add(10, "b");
        map.add(9, "c");
        map.add(8, "d");
        map.add(8, "e");
        map.add(8, "f");
        map.add(8, "g");
        map.add(4, "h");
        map.add(2, "i");

        System.out.println(map.toString());
        // {10=[a, b], 9=[c], 8=[d, e, f, g], 4=[h], 2=[i]}
    }
} 
```

您可以通过以下 Maven 依赖项添加 Spring-Core 来使用它：

```
<dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>3.1.1.RELEASE</version>
        </dependency> 
```

如果您需要帮助在您的项目中获取这些库中的任何一个，请随时发表评论/联系我。

# 更新 1

事实证明，没有一种方便的方法可以从原始 API 中过滤/排序。我在下面包含了一个简单的过滤器功能，应该可以解决问题。

```
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import org.springframework.util.LinkedMultiValueMap;
import org.springframework.util.MultiValueMap;

public class MultiValueMapExample {

    public static void main(String[] args) {
        // 10-a, 10-b, 9-c, 8-d, 8-e, 8-f, 4-g, 4-h, 2-i
        MultiValueMap<Integer, String> map = new LinkedMultiValueMap<Integer, String>();
        map.add(8, "g");
        map.add(4, "h");
        map.add(10, "a");
        map.add(10, "b");
        map.add(9, "c");
        map.add(8, "d");
        map.add(8, "e");
        map.add(8, "f");

        map.add(2, "i");

        System.out.println(map.toString());
        // {8=[g, d, e, f], 4=[h], 10=[a, b], 9=[c], 2=[i]}

        MultiValueMap<Integer, String> filteredMap = filter(5, map);
        System.out.println( filteredMap.toString() );
        // {10=[a, b], 9=[c], 8=[g, d, e, f], 4=[h], 2=[i]}

    }

    public static MultiValueMap<Integer, String> filter(int numberOfResults, MultiValueMap<Integer, String> map){
        MultiValueMap<Integer, String> result = new LinkedMultiValueMap<Integer, String>();

        List<Integer> keys = new ArrayList<Integer>(map.keySet());
        Collections.sort(keys, Collections.reverseOrder());

        for(Integer key : keys){
            if( result.size() <= numberOfResults ){
                result.put(key, map.get(key));
            }else{
                break;
            }
        }

        return result;

    }
} 
```

# ubuntu - 使用单声道调试 Vbscript

> ID：15182823
> 
> 赞同：0
> 
> 时间：2013-03-03T05:40:23.020
> 
> 标签：ubuntu, vbscript, mono

我知道如何在 windows 上使用 Visual Studio 调试 vbscripts。我只想知道如何在 ubuntu 上使用 mono 调试 vbscripts？

使用 Visual Studio 调试 vbscript：-

[http://www.aspdotnet-suresh.com/2011/11/how-to-debugg-vbscript-files-or-vbs.html](http://www.aspdotnet-suresh.com/2011/11/how-to-debugg-vbscript-files-or-vbs.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T22:38:29.643

在 Windows 上，该选项`//x`指示解释器（`cscript.exe`或`wscript.exe`）在调试器中启动脚本。如果安装了多个调试器，系统会提示您选择一个。但是，无论使用哪种调试器，您仍然需要解释器，据我所知，它不适用于 Linux。

`//d`顺便说一句，结合使用是`//x`徒劳的。`//d`当脚本在正常执行期间遇到错误时，将导致解释器启动调试器。`//x`立即启动调试器，因此当出现触发调试的条件时，脚本已经在调试器中运行。

# android - Eclipse 上不显示 Android 工具

> ID：15182826
> 
> 赞同：0
> 
> 时间：2013-03-03T05:40:33.277
> 
> 标签：android, eclipse, adt, eclipse-juno, eclipse-adt

我已经安装了最新的 JRE、eclipse，并且我在 eclipse 中安装了 ADT 插件。不知何故，android工具没有出现在窗口中。相反，它应该在的地方有空格。任何帮助，将不胜感激。![截屏](../Images/cd11226067855bde4a6073baf90b8891.png)

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T05:44:49.843

切换到Java 透视图（您当前处于“资源”透视图）：Window->Open Perspective->Java（您可能需要从Other 对话框中进行选择）。

如果您没有将 Java 视为一个选项，那么您可能下载了 Eclipse 经典，而不是 Eclipse for Java Developers。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-17T01:45:36.757

可能发生的情况是您的按钮根本不可见，只需将它们添加到工具栏即可。只需右键单击工具栏并点击自定义，在**工具栏可见性**选项卡上确保选中**Android SDK 和 AVD 管理器**。这应该够了吧。

![在此处输入图像描述](../Images/c18173c2e646ae2ef42022a392dc9a05.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T05:43:10.883

您可以尝试关闭并重新启动 eclipse 吗？另外，请确保您正确安装了 sdk 插件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-03T05:45:02.897

[Android SDK](https://developer.android.com/sdk/index.html)是否正确安装？

之后Eclipse是否重新启动？

您还可以下载一个[Android Developer Bundle](https://developer.android.com/sdk/index.html)，其中包含除 JDK 之外的所有您需要的东西（Eclipse、ADT）。

# android - 将 Google 帐户添加到 AVD - 接收错误“服务器需要您的手机不支持的安全功能”

> ID：15182832
> 
> 赞同：1
> 
> 时间：2013-03-03T05:41:31.453
> 
> 标签：android, avd, galaxy-tab

我正在尝试将 Google 帐户添加到三星 Galaxy 标签 AVD .. 但我收到奇怪的错误 - “服务器需要您的手机不支持的安全功能”

我认为这是非常基本的事情，所以不确定我真正缺少什么。

**AVD 设置：**

设备：10.1" WXGA (Tablet) (1280*800:mdpi) 目标：GALAXY Tab Addon (Samsung Electronic Co. Ltd) - API Level 8 内部存储：200 MiB SD 卡：2048 MiB

从“帐户和同步”选项中，当我添加帐户时，输入我的 gmail 和密码，它会给我一个询问我的屏幕

域\用户名：\myusername@gmail.com 密码：*** 服务器：m.google.com 使用安全连接 (SSL) - 选中接受所有 SSL 证书 - 未选中

输入所有这些信息后，单击下一步按钮，我收到错误消息“服务器需要您的手机不支持的安全功能”

任何解决此问题的帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T06:23:50.253

你可以参考这些：

[http://ukblog.im-mobility.com/setting-microsoft-exchange-email-samsung-galaxy-s-ii​​i](http://ukblog.im-mobility.com/setting-microsoft-exchange-email-samsung-galaxy-s-iii)

[http://androidforums.com/xoom-support-troubleshooting/326127-exchange-server-requires-security-features-your-android-device-does-not-support.html](http://androidforums.com/xoom-support-troubleshooting/326127-exchange-server-requires-security-features-your-android-device-does-not-support.html)

另外，您能否尝试使用移动网络代替wifi。

# c++ - 提升日期时间捕获异常

> ID：15182839
> 
> 赞同：0
> 
> 时间：2013-03-03T05:42:50.127
> 
> 标签：c++, validation, date, boost-date-time

我正在尝试使用 boost 检查日期是否有效`date_time`。文档说，如果日期无效，它将引发异常。现在我一直在尝试使用 try-catch 如果日期确实无效但不知何故我的程序仍然被抛出并停止..

简单的测试代码：

```
#include "boost/date_time/gregorian/gregorian.hpp"
#include <iostream>

int main()
{
    int year = 2013;
    int month = 1;
    int day = 50;

    try
    {
        boost::gregorian::date d(year, month, day);

        throw 20;
    }
    catch (int e)
    {
        std::cout << "error! date does not excist!" << std::endl;
        std::cout << "error no: " << e << std::endl;
    }

    return 0;
} 
```

最后一个问题：使用 date_time 验证日期的正确方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T06:12:37.473

`boost::gregorian::date``std::out_of_range`当日、月或年超出范围时抛出类型异常。您的 catch 块捕获`int`类型的异常。您需要使用带有类型的 catch 块`std::out_of_range`来捕获特定异常。

此外，无需`throw(20)`在 try 块中使用语句。

# php - 动态过滤类别循环

> ID：15182840
> 
> 赞同：0
> 
> 时间：2013-03-03T05:42:50.747
> 
> 标签：php, wordpress, categories

我正在尝试使用动态类别过滤器显示自定义循环。

作为设置，我有所有用户名的类别，一旦用户创建帐户，就会创建这些用户名。

所以我试图回应用户的用户名作为类别过滤器。当我在页面上的其他地方回显时它可以工作，但是当我尝试像这样嵌入它时它不起作用：

```
<?php query_posts('category_name=global $current_user; if ( isset($current_user) ) {echo $current_user->user_login;} &posts_per_page=10'); ?> &posts_per_page=6'); ?>

<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>

<a href="<?php the_permalink() ?>"><?php the_title(); ?></a>  
<?php the_time('F jS, Y') ?> by <?php the_author_posts_link() ?>

<?php endwhile; else: ?>

NO Posts Present 

<?php endif; ?> 
```

任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:06:33.630

在不解决是否应该使用 query_posts 的情况下，您可以尝试重构您的查询。

```
<?php
  global $current_user;
  $cat = (isset($current_user)) ? "category_name=$current_user->user_login&" : "";
  query_posts($cat . 'posts_per_page=6'); 
?> 
```

您可能还想[阅读](http://codex.wordpress.org/Function_Reference/query_posts)有关`query_posts`的文档。

# asp.net - 用于 html 的字符串生成器或 html 标记生成器。哪个有效？

> ID：15182843
> 
> 赞同：2
> 
> 时间：2013-03-03T05:43:42.797
> 
> 标签：asp.net, html, performance, stringbuilder

我通常使用字符串生成器在代码隐藏中动态构造 html 并将其写入 Dom。到目前为止，我从未使用 htmlbuilder 在代码隐藏中构建 html。最近看到我们的一些项目正在使用htmlbuilder。我的问题是，我觉得在 stringbuilder 中构建 html 很舒服。由于有专门用于此的 htmlbuilder，请告诉我哪个对于构建动态 html 和写入 dom 是有效的。此外，它们在构建动态 html 方面的优势。

另外，性能方面哪个更好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:54:51.307

如果您要引用`[TagBuilder](http://msdn.microsoft.com/en-au/library/system.web.mvc.tagbuilder%28v=vs.100%29.aspx)`该类，则它在`StringBuilder`内部使用

```
/// <summary>
    /// Renders the HTML tag by using the specified render mode.
    /// </summary>
    /// 
    /// <returns>
    /// The rendered HTML tag.
    /// </returns>
    /// <param name="renderMode">The render mode.</param>
    public string ToString(TagRenderMode renderMode)
    {
      StringBuilder sb = new StringBuilder();
      switch (renderMode)
      {
        case TagRenderMode.StartTag:
          sb.Append('<').Append(this.TagName);
          this.AppendAttributes(sb);
          sb.Append('>');
          break;
        case TagRenderMode.EndTag:
          sb.Append("</").Append(this.TagName).Append('>');
          break;
        case TagRenderMode.SelfClosing:
          sb.Append('<').Append(this.TagName);
          this.AppendAttributes(sb);
          sb.Append(" />");
          break;
        default:
          sb.Append('<').Append(this.TagName);
          this.AppendAttributes(sb);
          sb.Append('>').Append(this.InnerHtml).Append("</").Append(this.TagName).Append('>');
          break;
      }
      return ((object) sb).ToString();
    } 
```

所以基本上唯一的区别是它提供了一些很好的方法来定位某些 html 特定的东西，比如 ids、打开的结束标签等。

I would suggest you are best off using this instead of using the stringbuilder directly as it going to make it less likely you make errors with the html tags

# java - 从 servlet 安全地将参数传递给 EJB？

> ID：15182844
> 
> 赞同：2
> 
> 时间：2013-03-03T05:43:44.023
> 
> 标签：java, ejb, parameter-passing

**将多个 HTTP 参数从 servlet 传递到 EJB 的安全规范方法是什么？**该应用程序是一个基于 Web 的 SMTP 客户端，它采用以下参数：

*   从
*   到
*   密件抄送
*   抄送
*   学科
*   身体

为了使*模型*( ) 与*视图*( ) 和*控制器*( `EJB`) 分开，**我想避免将 an****直接传递给**.*`JSP`*`servlet` **`HttpServletRequest` **`EJB`******

 *******   我应该使用`Session`变量吗？
*   我应该传递 6 个参数吗？要传递这 6 个参数，我必须在控制层中执行业务逻辑。

代码：

```
 public String send_message(HttpServletRequest request) {
    try {
        Properties properties = System.getProperties();
        properties.put("mail.smtp.host", SMTP_HOST);
        Session session = Session.getInstance(properties, null);

        String from = request.getParameter("from");
        String to = request.getParameter("to");
        String cc = request.getParameter("cc");
        String bcc = request.getParameter("bcc");
        String subject = request.getParameter("subject");
        String body = request.getParameter("body");

        MimeMessage message = new MimeMessage(session);             
        Address sender = new InternetAddress(from);
        message.setFrom(sender);

        Address[] toAddresses = InternetAddress.parse(to);
        message.setRecipients(Message.RecipientType.TO, toAddresses);

        Address[] ccAddresses = InternetAddress.parse(cc);
        message.setRecipients(Message.RecipientType.CC, ccAddresses);

        Address[] bccAddresses = InternetAddress.parse(bcc);
        message.setRecipients(Message.RecipientType.BCC, bccAddresses);

        message.setSubject(subject);                
        message.setText(body);  

        Transport.send(message);
        return "Your message was sent successfully!";
    } catch (AddressException AE){
        return "Oops! There was an error parsing the addresses!";
    } catch (SendFailedException SFE){
        return "Oops! There was an error sending the message!";
    } catch (MessagingException ME){
        return "Oops! There was an error sending the message!"; 
    }
} 
```

## 有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T09:23:49.333

> 我想避免将 HttpServletRequest 直接传递给 EJB。

很好。HttpServletRequest 属于 web 层，永远不应该传递给业务层。

> 我应该使用 Session 变量吗？

出于同样的原因，这不是一个好主意。Session 也属于 servlet 层。此外，在设计良好的应用程序中，这可能根本不可能；Web 组件依赖于 EJB 组件，而不是相反。在 EJB 中使用 session 将意味着颠倒这种关系。

> 我应该传递 6 个参数吗？要传递这 6 个参数，我必须在控制层中执行业务逻辑。

六个参数非常接近“很多”，如果不是的话。就个人而言，我认为这种情况值得引入一个新的参数对象（又名值对象，又名传输对象）来保存这些值。尤其是当你编写一个新代码时，设计一个有 6 个参数定义相同概念的方法是一种罪过——邮件。多参数方法难以阅读并且容易出现“破窗效应”——鼓励在需要扩展时添加另一个参数。

> 要传递这 6 个参数，我必须在控制层中执行业务逻辑。

将其视为将一种表示形式调整为另一种表示形式——这不是业务逻辑。BL 是直接受您的要求影响的，您在这里所做的只是架构。******

# c# - 为什么我的 Exchange ResolveNames Search 只返回 100 行？

> ID：15182852
> 
> 赞同：3
> 
> 时间：2013-03-03T05:45:15.503
> 
> 标签：c#, max, exchangewebservices

我正在使用 Exchange Web Services[以下代码](http://msdn.microsoft.com/en-us/library/exchange/aa493895%28v=exchg.140%29.aspx)从我们的 Exchange 服务器下载一堆记录。

问题是根据我的部分搜索字符串，我应该返回 500 行，但它只返回 100 条记录。我[看到一些文档说 100 是默认的最大记录](http://msdn.microsoft.com/en-us/library/exchange/exchangewebservices.resolvenamestype%28v=exchg.140%29.aspx)，但我没有看到任何属性或任何地方可以将该默认值更改为更高的数字。

有没有办法将此值更改为 > 100 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T17:51:35.817

根据 MSDN 文档，100 不是“默认最大记录”，而是“最大记录”，并且似乎是 Alex 上面提到的硬编码限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T18:13:17.257

正如其他人所提到的，最大硬限制是 100。这无法更改或解决。但是，如果有超过 100 个匹配的名称，则会返回一个布尔标志。通过这种方式，您可以告诉您的用户进一步优化他们的搜索。

[http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.nameresolutioncollection.includesallresolutions%28v=exchg.80%29.aspx](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.nameresolutioncollection.includesallresolutions%28v=exchg.80%29.aspx)

# java - Android Geocoder getFromLocationName 总是返回 null

> ID：15182853
> 
> 赞同：14
> 
> 时间：2013-03-03T05:45:19.070
> 
> 标签：java, android, eclipse, android-mapview, google-maps-android-api-2

我一直在尝试对字符串进行地理编码以获取其坐标，但我的程序总是崩溃，因为当我尝试使用`getFromLocationName()`它时返回`null`。我一直试图解决这个问题几个小时，但没有任何效果。这是我的代码

```
public class MainActivity extends Activity {

    private GoogleMap mMap;

    List<Address> addresses;
    MarkerOptions miami;
    String myLocation = "Miami,Florida";

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        if (mMap == null) {
            mMap = ((MapFragment) getFragmentManager().findFragmentById(
                    R.id.map)).getMap();
        }

        if (mMap != null) {

            Geocoder geocoder = new Geocoder(this);

            double latitude = 0;
            double longitude = 0;

            while(addresses==null){
            try {
                addresses = geocoder.getFromLocationName(myLocation, 1);

            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            }
            Address address = addresses.get(0);
            if (addresses.size() > 0) {
                latitude = address.getLatitude();
                longitude = address.getLongitude();
            }
            LatLng City = new LatLng(latitude, longitude);

            miami = new MarkerOptions().position(City).title("Miami");

            mMap.addMarker(miami);

            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(City, 15));

        }
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-06T00:09:02.440

地理编码器并不总是返回一个值。您可以尝试在 for 循环中发送 3 次请求。我应该至少能回来一次。如果不是，那么它们可能是连接问题，也可能是服务器未回复您的请求等其他问题。试试看这些线程：

[Geocoder 并不总是返回值](https://stackoverflow.com/questions/4169189/geocoder-doesnt-always-return-a-value)，并且[geocoder.getFromLocationName 仅返回 null](https://stackoverflow.com/questions/4567216/geocoder-getfromlocationname-returns-only-null)

**更新：**

我也有一个while循环，但我曾经最多尝试10次。有时，即使它连接到互联网，它也不会返回任何东西。然后，我每次都使用[这种](https://developers.google.com/maps/documentation/geocoding/index)更可靠的方式来获取地址：

```
public JSONObject getLocationInfo() {

        HttpGet httpGet = new HttpGet("http://maps.google.com/maps/api/geocode/json?latlng="+lat+","+lng+"&sensor=true");
        HttpClient client = new DefaultHttpClient();
        HttpResponse response;
        StringBuilder stringBuilder = new StringBuilder();

        try {
            response = client.execute(httpGet);
            HttpEntity entity = response.getEntity();
            InputStream stream = entity.getContent();
            int b;
            while ((b = stream.read()) != -1) {
                stringBuilder.append((char) b);
            }
        } catch (ClientProtocolException e) {
            } catch (IOException e) {
        }

        JSONObject jsonObject = new JSONObject();
        try {
            jsonObject = new JSONObject(stringBuilder.toString());
        } catch (JSONException e) {
            e.printStackTrace();
        }
        return jsonObject;
    } 
```

我这样称呼它：

```
JSONObject ret = getLocationInfo(); 
JSONObject location;
String location_string;
try {
    location = ret.getJSONArray("results").getJSONObject(0);
    location_string = location.getString("formatted_address");
    Log.d("test", "formattted address:" + location_string);
} catch (JSONException e1) {
    e1.printStackTrace();

} 
```

希望这可以帮助。我也厌倦了依赖地理编码器。这对我有用。如果您将 URL 替换为纬度和经度坐标，并在 Web 浏览器中查看返回的 JSON 对象。你会看到刚刚发生了什么。

# matlab - 用于网络钓鱼检测的神经网络，从 URL 中提取的特征和作为输入传递的内容

> ID：15182857
> 
> 赞同：0
> 
> 时间：2013-03-03T05:45:53.873
> 
> 标签：matlab, neural-network

这是我[上一个问题的延续](https://stackoverflow.com/questions/14939950/any-way-to-invoke-matlab-to-compute-picture-similarity)

我们成功地从我们应该检查网络钓鱼的网站中提取了**URL**和**内容。**

现在我们有一个包含**白名单**和**黑名单**网站及其内容的数据库。我们可以在这些输入的帮助下训练一个神经网络吗？

如果没有，我们可以从 URL 和网站内容中提取哪些建议功能来训练 NN，然后使用这些 NN 检查网站是否存在网络钓鱼？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T17:02:10.857

我认为神经网络不适合这个。您将很难弄清楚如何对输入进行分类。

相反，贝叶斯分类器会更合适。将您的 URL 和内容拆分为令牌并从那里开始工作。这本质上是[贝叶斯垃圾邮件过滤](http://en.wikipedia.org/wiki/Bayesian_spam_filtering)背后的基础。

# javascript - .submit() 在 setTimeout 之后不提交表单

> ID：15182861
> 
> 赞同：0
> 
> 时间：2013-03-03T05:46:10.420
> 
> 标签：javascript, jquery, html

当用户在提交之前单击表单上的提交时，我试图设置延迟。我有一个显示的图像来测试点击事件，它工作正常，但表单从不提交......

这是我的 HTML 表单：

```
<form class='loginForm1' action='verify_credentials.php' method='post'>
    <fieldset>
        <legend>Log into Answer Tree</legend>
        <label>Username</label>
        <input class='inputs' name='username' type="text" placeholder="Enter username...">
        <label>Password</label>
        <input class='inputs' name='password' type="text" placeholder="Enter password...">
        <label class="checkbox">
            <input type="checkbox">Remember me</label>
        <button id='submit' type='button' class="btn btn-success">Submit</button>
    </fieldset>
</form> 
```

这是脚本：

```
$(document).ready(function () {
    $(".containerLogin img").hide();
});

$(function () {
    $("#submit").click(function () {
        $(".containerLogin img").show();
        setTimeout(submitForm, 1000);
    });
});

function submitForm() {
    $(".loginForm1").submit();
} 
```

我收到此错误消息：

> `Uncaught TypeError: Property 'submit' of object #<HTMLFormElement> is not a function`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T05:55:36.773

您的按钮命名有问题，它会覆盖 submit() 处理程序。

将按钮重命名为

```
<button id='btnSubmit' type = 'button' ... 
```

并更改您的选择器以匹配。

# php - 将函数中的会话变量传递给 codeigniter 中的助手

> ID：15182862
> 
> 赞同：8
> 
> 时间：2013-03-03T05:46:31.813
> 
> 标签：php, codeigniter

这就是我想要做的。这是控制器中的功能

```
public function get_started()
{
    if(test_login($this->session->all_userdata())) {
        $this->load->view('template');
    } else {
        $this->load->view('error');
    }
} 
```

这是帮手

```
function test_login($sessdata)
{
    if($sessdata->userdata('is_logged_in')) {
        return true;
    } else {
        return false;
    }
} 
```

我已`is_logged_in`作为布尔会话变量输入。但是，这不起作用。

我找不到错误。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-03T05:51:04.443

您可以从助手本身访问会话，而不是将会话数据作为参数传递给助手，例如：

```
function test_login() {
  $CI = & get_instance();  //get instance, access the CI superobject
  $isLoggedIn = $CI->session->userdata('is_logged_in');
  if( $isLoggedIn ) {
     return TRUE;
  }
  return FALSE;  
} 
```

和控制器：

```
public function get_started(){
   if( test_login() ) {
      $this->load->view('template');
   }
   else {
      $this->load->view('error');
   }
} 
```

# xml - xml 和 xslt 错误

> ID：15182867
> 
> 赞同：-3
> 
> 时间：2013-03-03T05:47:36.927
> 
> 标签：xml, xslt

我需要修改 XSL 文件，使促销中的 cd 价格以红色显示。

这是我的xml

```
<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="catalog.xsl"?>
<catalog>
    <cd promotion="Yes">
        <title>Empire Burlesque</title>
        <artist>Bob Dylan</artist>
        <country>USA</country>
        <company>Columbia</company>
        <price>110</price>
        <year>1985</year>
    </cd>
    <cd promotion="No">
        <title>Hide your heart</title>
        <artist>Bonnie Tyler</artist>
        <country>UK</country>
        <company>CBS Records</company>
        <price>99</price>
        <year>1988</year>
    </cd>
    <cd promotion="Yes">
        <title>Greatest Hits</title>
        <artist>Dolly Parton</artist>
        <country>USA</country>
        <company>RCA</company>
        <price>75</price>
        <year>1982</year>
    </cd>
</catalog> 
```

这是我的 xsl 文件。我尝试使用选择和时间，但它不起作用。我已经评论了那部分。

```
<?xml version="1.0"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

<xsl:template match="/">
  <html>
  <body>
    <h2>My CD Collection</h2>
    <table border="1">
      <tr bgcolor="#9acd32">
        <th>Title</th>
        <th>Artist</th>
        <th>Price</th>
        <th>Year</th>
      </tr>
      <xsl:for-each select="catalog/cd">
      <tr>
          <td><xsl:value-of select="title"/></td>
          <td><xsl:value-of select="artist"/></td>
          <td><xsl:value-of select="price"/></td>
            <!--<xsl:choose>
                <xsl:when>
                    <td bgcolor="#ff00ff"><xsl:value-of select="price"/></td>
                    <xsl:otherwise>
                          <td><xsl:value-of select="price"/></td>
                    </xsl:otherwise>
                </xsl:when>
            </xsl:choose>!-->
            <td><xsl:value-of select="year"/></td>
        </tr>
      </xsl:for-each>
    </table>
  </body>
  </html>
</xsl:template>
</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T07:55:46.473

解决这个问题的最好方法是使用`xsl:apply-templates`和使用模板来匹配`price`具有属性的父元素`promotional="Yes"`。

只需将`td`价格更改为：

```
<td><xsl:apply-templates select="price"/></td> 
```

并添加此模板：

```
<xsl:template match="price[../@promotion='Yes']">
    <xsl:attribute name="bgcolor">#ff00ff</xsl:attribute>
    <xsl:value-of select="."/>
</xsl:template> 
```

# windows-7 - 从 yyyy-dd-mm_hh-ss.7z 重命名很多文件 --> yyyy-mm-dd_hh-ss.7z

> ID：15182869
> 
> 赞同：1
> 
> 时间：2013-03-03T05:47:43.707
> 
> 标签：windows-7, file-rename, batch-rename

事实证明，在我不久前编写的用于 SVN 备份的脚本中，我弄乱了日期格式。现在我有大约 60 个文件，所有文件都命名错误。

我怎样才能快速重命名这些文件，以便`mm`和`dd`切换？

![一个](../Images/d7836e692908c1ccb71a7f9b298c5528.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:12:01.760

当您使用 Windows 7 时，这可以使用[ReNamer](http://www.filecluster.com/downloads/ReNamer.html)轻松完成。

只需添加要重命名的文件并创建一个 RegEx 规则（禁用“跳过扩展名”）即可替换`(\d{4})(-\d\d)(-\d\d)(_\d\d-\d\d.7z)`为`$1$3$2$4`.

**截图：**

![一个](../Images/0b31bcf36de98465280a9f075bd6b73e.png)

![b](../Images/84c10f9b1181d8a8a83ca09b555f6408.png)

# java - 我通过json在php和android之间的连接不起作用

> ID：15182870
> 
> 赞同：0
> 
> 时间：2013-03-03T05:47:44.553
> 
> 标签：java, php, android, json, android-listview

我开发了一个应用程序来将我的 android 应用程序连接到远程服务器并在列表视图中显示数据。

我做了所有事情，但数据没有显示在列表视图中。

这些是我用来完成此任务的文件，请帮助我：

## 媒体活动.java

```
package com.shadatv.shada;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Locale;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.ProgressDialog;
import android.content.Intent;
import android.content.SharedPreferences;
import android.content.res.Configuration;
import android.net.ParseException;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;

public class MediaActivity extends OptionsMenu {
    Locale locale;

    // boolean mybooks;

    Configuration config = new Configuration();
    static SharedPreferences sharedPreferenceid;
    static SharedPreferences.Editor editorid;
    public static final String Myid = "Myid";
    String myid = "";
    InputStream is = null;
    StringBuilder sb = null;
    String resultt = "";
    JSONArray jArray;
    String result = null;

    public DAOCanticles cantDatabase = null;

    int numberofrowssss;
    int responseCode;

    String targetcover, targetbname, targetauthname;

    public String caNameField = "", caLinkField = "", caImgField = "";

    // ///////////////////ONLINE BESTSALED//////////////////////
    String caNameJson, caLinkJson, caImgJson;

    public ArrayList<String> caNameHolder = new ArrayList<String>();
    public ArrayList<String> caLinkHolder = new ArrayList<String>();
    public ArrayList<String> caImgHolder = new ArrayList<String>();

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.media);

        cantDatabase = new DAOCanticles(this);
        new LoadData().execute();
    }

    // =============================================================================

    public void onClickPrograms(View view) {
        startActivity(new Intent("com.shadatv.ProgramsActivity"));
    }

    // =============================================================================

    public void onClickCanticles(View view) {
        startActivity(new Intent("com.shadatv.CanticlesActivity"));
    }

    // =============================================================================

    public void onClickDocumentaries(View view) {
        startActivity(new Intent("com.shadatv.DocumentariesActivity"));
    }

    // =============================================================================

    private class LoadData extends AsyncTask<Void, Void, Void> {
        public ProgressDialog progressDialog1;

        @Override
        protected Void doInBackground(Void... params) {
            cantDatabase.deletetable();
            getCanticlesByJSON();
            addCanticles();
            return null;
        }

        @Override
        // can use UI thread here
        protected void onPreExecute() {
            CharSequence contentTitle = getString(R.string.loading);
            this.progressDialog1 = ProgressDialog.show(MediaActivity.this, "",
                    contentTitle);
        }

        // -------------------------------------------//

        @Override
        protected void onPostExecute(final Void unused) {
            this.progressDialog1.dismiss();
        }
    }

    // =============================================================================

    public void getCanticlesByJSON() {
        try {
            HttpClient httpclient = new DefaultHttpClient();
            try {

            } catch (Exception e) {
                Log.e("my_log_tag", e.toString());
            }

            // buffered reader
            try {
                HttpPost httppost = new HttpPost(
                        "http://dt-works.com/ags/shadatv/canticles/android_data");
                HttpResponse response = httpclient.execute(httppost);
                HttpEntity entity = response.getEntity();
                is = entity.getContent();
                BufferedReader reader = new BufferedReader(
                        new InputStreamReader(is, "UTF-8"), 80);
                sb = new StringBuilder();
                sb.append(reader.readLine() + "\n");
                String line = "0";
                while ((line = reader.readLine()) != null) {
                    sb.append(line + "\n");
                }
                is.close();
                result = EntityUtils.toString(entity);
                //result = sb.toString();
            } catch (Exception e) {
                Log.e("my_log_tag", e.toString());
            }
            try {
                result = result.substring(1);
                jArray = new JSONArray(result);

                JSONObject json_data = null;

                for (int i = 0; i < jArray.length(); i++) {
                    json_data = jArray.getJSONObject(i);

                    caNameJson = json_data.getString("ca_name");
                    caLinkJson = json_data.getString("ca_link");
                    caImgJson = json_data.getString("ca_link");

                    caNameHolder.add(caNameJson);
                    caLinkHolder.add(caLinkJson);
                    caImgHolder.add(caImgJson);

                }
            } catch (JSONException e) {
                Log.e("my_log_tag", e.toString());
            }
        } catch (ParseException e) {
            Log.e("my_log_tag", e.toString());
        } catch (Exception e) {
            Log.e("my_log_tag", e.toString());
        }

    }

    // =============================================================================

    public void addCanticles() {
        try {
            for (int i = 0; i < caNameHolder.size(); i++) {
                caNameField = caNameHolder.get(i);
                caLinkField = caLinkHolder.get(i);
                caImgField = caImgHolder.get(i);

                cantDatabase.createCanticle(caNameField, caLinkField,
                        caImgField);
            }
        } catch (Exception e) {
            Log.e("my_log_tag", "notfilled yet");
        }
    }
} 
```

## CanticlesActivity.java

```
package com.shadatv.shada;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader; 
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLConnection;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import java.util.ArrayList; 
import java.util.zip.ZipInputStream;

import javax.crypto.Cipher;
import javax.crypto.CipherInputStream;
import javax.crypto.CipherOutputStream;
import javax.crypto.KeyGenerator;
import javax.crypto.NoSuchPaddingException;
import javax.crypto.SecretKey;
import javax.crypto.spec.SecretKeySpec;

import android.app.Activity; 
import android.app.AlertDialog;
import android.app.Dialog;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;

import android.content.SharedPreferences;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;

import android.os.AsyncTask;
import android.os.Bundle;  
import android.os.Environment;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import android.widget.AdapterView.OnItemClickListener;
import android.content.SharedPreferences;
import android.database.Cursor;

public class CanticlesActivity extends Activity {
    int read;
    boolean flage;
    final Context context = this;
    String picpath="http://img.youtube.com/vi/";

    ArrayList<String> getCaName = new ArrayList<String>();
    ArrayList<String> getCaLink = new ArrayList<String>();
    ArrayList<String> getCaImg = new ArrayList<String>();           

    String targetCaName;    
    String targetCaLink;
    String targetCaImg;

    File sdcard = Environment.getExternalStorageDirectory();
    File shadaRoot = new File (sdcard.getAbsolutePath() + "/Shada_Folder");
    BitmapFactory.Options options = new BitmapFactory.Options();

    Bitmap bm ;
    ImageView img ;
    public DAOCanticles cantDatabase =null;
    byte[] encoded;
    String value;
    String useriddd;

    //=============================================================================

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.canticles);
        cantDatabase = new DAOCanticles(this);
        new LoadData().execute();
    }

    //=============================================================================

    private class LoadData extends AsyncTask<Void, Void, Void> { 
        private ProgressDialog progressDialog;  

        @Override
        // can use UI thread here
        protected void onPreExecute() {
            CharSequence contentTitle = getString(R.string.loading);
            this.progressDialog = ProgressDialog.show(CanticlesActivity.this,"",contentTitle); 
        }

        //-------------------------------------------//

        @Override
        protected void onPostExecute(final Void unused) {  
            this.progressDialog.dismiss();  
            showCanticles();
        }

        //-------------------------------------------//

        @Override
        protected Void doInBackground(Void... params) {
            // TODO Auto-generated method stub  
            // HTTP post
            getCanticles();         
            return null;
        }
    }

    //=============================================================================

    public void getCanticles() {
        try{
            Cursor canticles =  cantDatabase.getCanticlesList();
            do{
                getCaName.add(canticles.getString(0));
                getCaLink.add(canticles.getString(1));
                getCaImg.add(canticles.getString(2));                               
            }
            while(canticles.moveToNext());
        }catch(Exception e){            
        }
    }   

    //=============================================================================

    public void Downloadimage(String imgURL) {
        try {

            String finlpth="";
            finlpth=picpath + imgURL + "/2.jpg";
            shadaRoot.mkdirs(); 

            URL u = new URL(finlpth);
            HttpURLConnection c = (HttpURLConnection) u.openConnection();
            c.setRequestMethod("GET");
            c.setDoOutput(true);
            c.connect();
            File DownloadedFile=new File(shadaRoot, imgURL + ".jpg");
            //          if(!outfile.exists())
            FileOutputStream f = new FileOutputStream(DownloadedFile);

            InputStream in = c.getInputStream();

            byte[] buffer = new byte[1024];
            int len1 = 0;
            while ((len1 = in.read(buffer)) > 0) {
                f.write(buffer, 0, len1);
            }

            f.close();

        } catch (Exception e) {
            Log.d("Downloader", e.getMessage());
        }
    }

    //=============================================================================

    public void showCanticles()
    {
        final ListView listview = (ListView) findViewById(R.id.listView1);  
        for(int i=0; i < getCaName.size(); i++)
        {           
            String caName=getCaName.get(i);
            String caLink=getCaLink.get(i);
            String caImg=getCaImg.get(i);
            Toast.makeText(getBaseContext(), caName, Toast.LENGTH_SHORT).show();
            if(!caImg.equalsIgnoreCase("0"))
            {
                Downloadimage(caLink);
            }   
        }

        listview.setOnItemClickListener(new ListView.OnItemClickListener(){

            public void onItemClick(AdapterView<?> parent, View v,
                    int position, long id) {
                long selectedItemId = listview.getSelectedItemId();

                ListAdapter adapterr =  listview.getAdapter();
                String selectedValue = (adapterr.getItem(position)).toString();

                String selectedCaName=getCaName.get(position);                              
                String selectedCaLink=getCaLink.get(position);

//              // custom dialog
                final Dialog dialog = new Dialog(context);
                dialog.setContentView(R.layout.customdialogue);
                dialog.setTitle(selectedCaName);

                // set the custom dialog components - text, image and button
                String selectedbookcover=getCaImg.get(position);

                String test= shadaRoot+"/"+ selectedCaName;
                String myJpgPath = test+".jpg";

                TextView caLink = (TextView) dialog.findViewById(R.id.ca_link);                         
                caLink.setText(selectedCaLink);
                options.inSampleSize = 6;

                Button dialogButton = (Button) dialog.findViewById(R.id.dialogButtonOK);                
                // if button is clicked, close the custom dialog
                dialogButton.setOnClickListener(new OnClickListener() {
                    public void onClick(View v) {
                        dialog.dismiss();
                    }
                });

                dialog.show();
                dialog.getWindow().setLayout(350,350);
            }
        });

        listview.setAdapter(new DataAdapter(
                CanticlesActivity.this,
                getCaName.toArray(new String[getCaName.size()]),
                getCaLink.toArray(new String[getCaLink.size()]),
                getCaImg.toArray(new String[getCaImg.size()])));
    }
} 
```

## canticles.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/LinearLayout1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/bg1"
    android:orientation="vertical" >

    <ListView
        android:id="@+id/listView1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:divider="#b5b5b5"
        android:dividerHeight="1dp"
        android:listSelector="@drawable/list_selector" >
    </ListView>

</LinearLayout> 
```

## custom_grid.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/list_selector"
    android:gravity="left"
    android:orientation="horizontal"
    android:padding="10dip" >

    <!-- ListRow Left sied Thumbnail image -->

    <ImageView
        android:id="@+id/caImgView"
        android:layout_width="57dip"
        android:layout_height="84dip"
        android:layout_alignLeft="@+id/linearLayout1"
        android:layout_alignTop="@+id/linearLayout1"
        android:paddingLeft="0dip"
        android:scaleType="fitXY"
        android:src="@drawable/noimage" />

    <LinearLayout
        android:id="@+id/linearLayout2"
        android:layout_width="170dip"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/targetmonth1"
        android:layout_alignTop="@+id/targetmonth1"
        android:layout_marginLeft="16dp"
        android:layout_toRightOf="@+id/targetmonth1"
        android:orientation="vertical"
        android:padding="0dip" >

        <TextView
            android:id="@+id/caNameView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignTop="@+id/linearLayout1"
            android:layout_centerHorizontal="true"
            android:layout_gravity="center_horizontal"
            android:text="dddddddd"
            android:textColor="#040404"
            android:textSize="13dip"
            android:textStyle="bold"
            android:typeface="sans" />

        <TextView
            android:id="@+id/caLinkView"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignLeft="@+id/caNameView"
            android:layout_alignRight="@+id/caNameView"
            android:layout_below="@+id/caNameView"
            android:layout_gravity="center_horizontal"
            android:text="author"
            android:textColor="#343434"
            android:textSize="9dip"
            android:typeface="sans" />

    </LinearLayout>

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerVertical="true"
        android:src="@drawable/arrow" />

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T13:27:21.617

use this

public List< String> caNameHolder = new ArrayList< String>();

instead of

public ArrayList< String> caNameHolder = new ArrayList< String>();

# html - 基于拖放的HTML5游戏

> ID：15182872
> 
> 赞同：0
> 
> 时间：2013-03-03T05:48:05.470
> 
> 标签：html, canvas, game-engine, kineticjs, drag-and-drop

我正在构建一个基于拖放的 HTML5 游戏，但我想让对象自动移动，因为我没有使用画布，是否有任何替代 kinetic.js 的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:50:03.167

您可以使用带有一些动画的 JQuery 可拖放和可拖放来使其自动（或使用 CSS 过渡）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T07:44:09.493

**画布的一个很好的替代品是 RaphaelJS。**

该库允许您定义对象并在屏幕上为它们设置动画。

它具有许多在游戏构建中有用的功能：

*   CSS属性的自动动画。
*   内置拖放。
*   鼠标和触摸 (!) 事件处理。
*   内置命中测试。
*   与旧浏览器兼容（是的，在谈论您的 Internet Explorer！）
*   改变元素——移动、旋转、缩放
*   高级位置跟踪（变换）
*   良好的业绩记录
*   如果您是艺术家，您可以在游戏中使用 adobe Illustrator 艺术。

# c# - 我需要什么才能正确解析日期

> ID：15182883
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:49:54.260
> 
> 标签：c#, string, parsing, date, datetime

我从数据库中的内容收到错误的解析。

这是我收到的内容和日期字符串。

> 格式异常：该字符串未被识别为有效的日期时间。从索引 20 开始有一个未知单词。

2013 年 11 月 2 日下午 12:30:44

我正在使用`DateTime.Parse(...)`，我需要更改什么来执行解析？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T05:51:50.030

利用`DateTime.ParseExact()`

```
DateTime x = DateTime.ParseExact("11/02/2013 12:30:44 p.m.", "dd/MM/yyyy hh:mm:ss tt", null) 
```

*   [DateTime.ParseExact 方法](http://msdn.microsoft.com/en-us/library/system.datetime.parseexact.aspx)

# php - 是否必须调用页面才能在 php 中启动 $_SESSION 变量？

> ID：15182884
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:49:59.790
> 
> 标签：php, arrays, session

我正在尝试将调用数据库（数据文件）的代码与用户看到的页面（查看文件）分开。那么，当我在“数据文件”上创建一个数组（my_array）时，如何在`my_array`没有用户先查看“数据文件”的情况下发送到“查看文件”？

我正在尝试使用该`$_SESSIONS`变量，但是如果我不先转到“数据文件”，则“查看文件”不会显示相关数据。

“数据页”上的代码：

```
 <?php
    session_start();
    $my_array=array('user 1', 'user 2', 'user 3');
    $_SESSION['users'] = $my_array;
    ?> 
```

“查看页面”上的代码：

```
 <?php
    session_start();
    echo $_SESSION['users'][1];
    ?> 
```

所以，为了清楚起见，我想在“查看页面”上看到“用户 2”，而不是强迫用户首先调用“数据页面”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:54:51.483

使用会话肯定是错误的方式。
会话必须用于在用户请求之间存储数据。
当你有你的数据并确定在一个请求中显示它时。

因此，只需[将](http://www.php.net/manual/en/function.include.php)您的“视图文件”包含到“数据文件”中。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-03T06:04:07.630

让用户打开您的“数据文件”。

不要输出任何 html，而是使用`$_SESSION`你使用的 var。

使用从数据文件重定向到您的视图文件

```
header("location:yourviewfilepath"); 
```

或者，

您可以将用户指向您的视图文件，对您的数据文件、数据文件、视图文件（通过 Javascript）使用 AJAX 请求`json_encode`，`array`然后`json_decode`显示您想要显示的内容！

有很多方法可以做*一*件事。

# android - 使用 JSON 和 Google Maps Android API v2 在 MapFragment 中实现 Google Directions

> ID：15182887
> 
> 赞同：0
> 
> 时间：2013-03-03T05:50:06.687
> 
> 标签：android, google-maps, google-maps-api-3, google-maps-android-api-2, google-maps-mobile

谁能帮我使用 JSON 和 Google Maps Android API v2 在 MapFragment 中实现 Google Directions？我在这里找到了这个：

[https://stackoverflow.com/questions/11745314](https://stackoverflow.com/questions/11745314/why-retrieving-google-directions-for-android-using-kml-data-is-not-working-anymo/11745316#11745316)

但是，它使用的是 MapView。任何帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T08:12:54.360

您可以从以下链接中找到一个很好的道路方向实现：

[有没有办法在 Google Map API v2 中显示道路方向？](https://stackoverflow.com/questions/14554078/is-there-a-way-to-show-road-directions-in-google-map-api-v2)

[使用 Google Maps API v2 获取行车路线](https://stackoverflow.com/questions/14495030/google-map-api-v2-get-driving-directions/15053901#15053901)

并检查这篇文章。

[GoogleMaps v2 实时路线？](https://stackoverflow.com/questions/14873491/googlemaps-v2-route-in-real-time/15178637#15178637)

# r - 复杂的重塑

> ID：15182888
> 
> 赞同：19
> 
> 时间：2013-03-03T05:50:32.577
> 
> 标签：r, dataframe, reshape2

我想将我的数据框从长格式重塑为宽格式，并且我丢失了一些我想保留的数据。对于以下示例：

```
df <- data.frame(Par1 = unlist(strsplit("AABBCCC","")),
                 Par2 = unlist(strsplit("DDEEFFF","")),
                 ParD = unlist(strsplit("foo,bar,baz,qux,bla,xyz,meh",",")),
                 Type = unlist(strsplit("pre,post,pre,post,pre,post,post",",")),
                 Val = c(10,20,30,40,50,60,70))

   #     Par1 Par2 ParD Type Val
   #   1    A    D  foo  pre  10
   #   2    A    D  bar post  20
   #   3    B    E  baz  pre  30
   #   4    B    E  qux post  40
   #   5    C    F  bla  pre  50
   #   6    C    F  xyz post  60
   #   7    C    F  meh post  70

dfw <- dcast(df,
             formula = Par1 + Par2 ~ Type,
             value.var = "Val",
             fun.aggregate = mean)

 #     Par1 Par2 post pre
 #   1    A    D   20  10
 #   2    B    E   40  30
 #   3    C    F   65  50 
```

这几乎是我需要的，但我想拥有

1.  一些字段保存字段中的数据`ParD`（例如，作为单个合并字符串），
2.  用于聚合的观察数。

即我希望得到的data.frame如下：

```
 #     Par1 Par2 post pre Num.pre Num.post ParD
    #   1    A    D   20  10      1      1    foo_bar 
    #   2    B    E   40  30      1      1    baz_qux
    #   3    C    F   65  50      1      2    bla_xyz_meh 
```

我会很感激任何想法。例如，我试图通过在 dcast 中编写来解决第二个任务：`fun.aggregate=function(x) c(Val=mean(x),Num=length(x))`- 但这会导致错误。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-03T08:24:21.010

派对迟到了，但这里有另一种选择`data.table`：

```
require(data.table)
dt <- data.table(df, key=c("Par1", "Par2"))
dt[, list(pre=mean(Val[Type == "pre"]), 
          post=mean(Val[Type == "post"]), 
          pre.num=length(Val[Type == "pre"]), 
          post.num=length(Val[Type == "post"]), 
          ParD = paste(ParD, collapse="_")), 
by=list(Par1, Par2)]

#    Par1 Par2 pre post pre.num post.num        ParD
# 1:    A    D  10   20       1        1     foo_bar
# 2:    B    E  30   40       1        1     baz_qux
# 3:    C    F  50   65       1        2 bla_xyz_meh 
```

* * *

[来自 Matthew] +1 一些小的改进，以节省重复相同的`==`内容，并在内部演示局部变量`j`。

```
dt[, list(pre=mean(Val[.pre <- Type=="pre"]),     # save .pre
          post=mean(Val[.post <- Type=="post"]),  # save .post
          pre.num=sum(.pre),                      # reuse .pre
          post.num=sum(.post),                    # reuse .post
          ParD = paste(ParD, collapse="_")), 
by=list(Par1, Par2)]

#    Par1 Par2 pre post pre.num post.num        ParD
# 1:    A    D  10   20       1        1     foo_bar
# 2:    B    E  30   40       1        1     baz_qux
# 3:    C    F  50   65       1        2 bla_xyz_meh

dt[, { .pre <- Type=="pre"                  # or save .pre and .post up front 
       .post <- Type=="post"
       list(pre=mean(Val[.pre]), 
            post=mean(Val[.post]),
            pre.num=sum(.pre),
            post.num=sum(.post), 
            ParD = paste(ParD, collapse="_")) }
, by=list(Par1, Par2)]

#    Par1 Par2 pre post pre.num post.num        ParD
# 1:    A    D  10   20       1        1     foo_bar
# 2:    B    E  30   40       1        1     baz_qux
# 3:    C    F  50   65       1        2 bla_xyz_meh 
```

如果一个`list`列是好的而不是一个`paste`，那么这应该更快：

```
dt[, { .pre <- Type=="pre"
       .post <- Type=="post"
       list(pre=mean(Val[.pre]), 
            post=mean(Val[.post]),
            pre.num=sum(.pre),
            post.num=sum(.post), 
            ParD = list(ParD)) }     # list() faster than paste()
, by=list(Par1, Par2)]

#    Par1 Par2 pre post pre.num post.num        ParD
# 1:    A    D  10   20       1        1     foo,bar
# 2:    B    E  30   40       1        1     baz,qux
# 3:    C    F  50   65       1        2 bla,xyz,meh 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-03-03T06:26:42.900

使用两步解决方案`ddply` （我不满意，但我得到了结果）

```
dat <- ddply(df,.(Par1,Par2),function(x){
  data.frame(ParD=paste(paste(x$ParD),collapse='_'),
             Num.pre =length(x$Type[x$Type =='pre']),
             Num.post = length(x$Type[x$Type =='post']))
})

merge(dfw,dat)
 Par1 Par2 post pre        ParD Num.pre Num.post
1    A    D  2.0   1     foo_bar       1        1
2    B    E  4.0   3     baz_qux       1        1
3    C    F  6.5   5 bla_xyz_meh       1        2 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-03-03T06:38:05.770

我会发布，但 agstudy 让我感到羞耻：

```
step1 <- with(df, split(df, list(Par1, Par2)))
step2 <- step1[sapply(step1, nrow) > 0]
step3 <- lapply(step2, function(x) {
    piece1 <- tapply(x$Val, x$Type, mean)
    piece2 <- tapply(x$Type, x$Type, length)
    names(piece2) <- paste0("Num.", names(piece2))
    out <- x[1, 1:2]
    out[, 3:6] <- c(piece1, piece2)
    names(out)[3:6] <-  names(c(piece1, piece2))
    out$ParD <- paste(unique(x$ParD), collapse="_")
    out
})
data.frame(do.call(rbind, step3), row.names=NULL) 
```

产量：

```
 Par1 Par2 post pre Num.post Num.pre        ParD
1    A    D  2.0   1        1       1     foo_bar
2    B    E  4.0   3        1       1     baz_qux
3    C    F  6.5   5        2       1 bla_xyz_meh 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-03-03T06:40:32.227

您可以合并两个 dcast 和一个聚合，这里全部包含在一个大表达式中，主要是为了避免之后有中间对象：

```
Reduce(merge, list(
    dcast(df, formula = Par1+Par2~Type, value.var="Val",
        fun.aggregate=mean),
    setNames(dcast(df, formula = Par1+Par2~Type, value.var="Val",
        fun.aggregate=length), c("Par1", "Par2", "Num.post",
        "Num.pre")),
    aggregate(df["ParD"], df[c("Par1", "Par2")], paste, collapse="_")
    )) 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-03-03T15:58:50.537

基准测试的绝佳机会！以下是使用不同样本量（N = 900、2700、10800）`plyr`的方法（如@agstudy 所建议）与方法（如@Arun 所建议）相比的一些运行`data.table`

**总结：
该`data.table`方法的性能比该方法高出`plyr`7.5 倍**

```
#-------------------#
#   M E T H O D S   #
#-------------------#

  # additional methods below, in the updates

  # Method 1  -- suggested by @agstudy
  plyrMethod <- quote({
                  dfw<-dcast(df,
                         formula = Par1+Par2~Type,
                         value.var="Val",
                         fun.aggregate=mean)
                  dat <- ddply(df,.(Par1,Par2),function(x){
                    data.frame(ParD=paste(paste(x$ParD),collapse='_'),
                               Num.pre =length(x$Type[x$Type =='pre']),
                               Num.post = length(x$Type[x$Type =='post']))
                  })
                  merge(dfw,dat)
                })

  # Method 2 -- suggested by @Arun
  dtMethod <- quote(
                dt[, list(pre=mean(Val[Type == "pre"]), 
                          post=mean(Val[Type == "post"]), 
                          Num.pre=length(Val[Type == "pre"]), 
                          Num.post=length(Val[Type == "post"]), 
                          ParD = paste(ParD, collapse="_")), 
                by=list(Par1, Par2)]
              ) 

 # Method 3 -- suggested by @regetz
 reduceMethod <- quote(
                  Reduce(merge, list(
                      dcast(df, formula = Par1+Par2~Type, value.var="Val",
                          fun.aggregate=mean),
                      setNames(dcast(df, formula = Par1+Par2~Type, value.var="Val",
                          fun.aggregate=length), c("Par1", "Par2", "Num.post",
                          "Num.pre")),
                      aggregate(df["ParD"], df[c("Par1", "Par2")], paste, collapse="_")
                      ))
                  )

 # Method 4 -- suggested by @Ramnath
 castddplyMethod <- quote(
                      reshape::cast(Par1 + Par2 + ParD ~ Type, 
                           data = ddply(df, .(Par1, Par2), transform, 
                           ParD = paste(ParD, collapse = "_")), 
                           fun  = c(mean, length)
                          )
                      )

# SAMPLE DATA #
#-------------#

library(data.table)
library(plyr)
library(reshape2)
library(rbenchmark)

  # for Par1, ParD
  LLL <- apply(expand.grid(LETTERS, LETTERS, LETTERS, stringsAsFactors=FALSE), 1, paste0, collapse="")
  lll <- apply(expand.grid(letters, letters, letters, stringsAsFactors=FALSE), 1, paste0, collapse="")

  # max size is 17568 with current sample data setup, ie: floor(length(LLL) / 18) * 18
  size <- 17568
  size <- 10800
  size <- 900  

  set.seed(1)
  df<-data.frame(Par1=rep(LLL[1:(size/2)], times=rep(c(2,2,3), size)[1:(size/2)])[1:(size)]
                 , Par2=rep(lll[1:(size/2)], times=rep(c(2,2,3), size)[1:(size/2)])[1:(size)]
                 , ParD=sample(unlist(lapply(c("f", "b"), paste0, lll)), size, FALSE)
                 , Type=rep(c("pre","post"), size/2)
                 , Val =sample(seq(10,100,10), size, TRUE)
                 )

  dt <- data.table(df, key=c("Par1", "Par2"))

# Confirming Same Results # 
#-------------------------#
  # Evaluate
  DF1 <- eval(plyrMethod)
  DF2 <- eval(dtMethod)

  # Convert to DF and sort columns and sort ParD levels, for use in identical
  colOrder <- sort(names(DF1))
  DF1 <- DF1[, colOrder]
  DF2 <- as.data.frame(DF2)[, colOrder]
  DF2$ParD <- factor(DF2$ParD, levels=levels(DF1$ParD))
  identical((DF1), (DF2))
  # [1] TRUE
#-------------------------# 
```

## 结果

```
#--------------------#
#     BENCHMARK      #
#--------------------#
benchmark(plyr=eval(plyrMethod), dt=eval(dtMethod), reduce=eval(reduceMethod), castddply=eval(castddplyMethod),
          replications=5, columns=c("relative", "test", "elapsed", "user.self", "sys.self", "replications"), 
          order="relative")

# SAMPLE SIZE = 900
  relative      test elapsed user.self sys.self replications
     1.000    reduce   0.392     0.375    0.018            5
     1.003        dt   0.393     0.377    0.016            5
     7.064      plyr   2.769     2.721    0.047            5
     8.003 castddply   3.137     3.030    0.106            5

# SAMPLE SIZE = 2,700
  relative   test elapsed user.self sys.self replications
     1.000     dt   1.371     1.327    0.090            5
     2.205 reduce   3.023     2.927    0.102            5
     7.291   plyr   9.996     9.644    0.377            5

# SAMPLE SIZE = 10,800
  relative      test elapsed user.self sys.self replications
     1.000        dt   8.678     7.168    1.507            5
     2.769    reduce  24.029    23.231    0.786            5
     6.946      plyr  60.277    52.298    7.947            5
    13.796 castddply 119.719   113.333   10.816            5

# SAMPLE SIZE = 17,568
  relative   test elapsed user.self sys.self replications
     1.000     dt  27.421    13.042   14.470            5
     4.030 reduce 110.498    75.853   34.922            5
     5.414   plyr 148.452   105.776   43.156            5 
```

### 更新：为 baseMethod1 添加了结果

```
# Used only sample size of 90, as it was taking long
relative  test elapsed user.self sys.self replications
   1.000    dt   0.044     0.043    0.001            5
   7.773  plyr   0.342     0.339    0.003            5
  65.614 base1   2.887     2.866    0.028            5

Where
   baseMethod1 <- quote({
                  step1 <- with(df, split(df, list(Par1, Par2)))
                  step2 <- step1[sapply(step1, nrow) > 0]
                  step3 <- lapply(step2, function(x) {
                      piece1 <- tapply(x$Val, x$Type, mean)
                      piece2 <- tapply(x$Type, x$Type, length)
                      names(piece2) <- paste0("Num.", names(piece2))
                      out <- x[1, 1:2]
                      out[, 3:6] <- c(piece1, piece2)
                      names(out)[3:6] <-  names(c(piece1, piece2))
                      out$ParD <- paste(unique(x$ParD), collapse="_")
                      out
                  })
                  data.frame(do.call(rbind, step3), row.names=NULL)
                }) 
```

### 更新 2：添加键控 DT 作为指标的一部分

*根据@MatthewDowle 的评论，将索引步骤添加到公平基准中。
但是，据推测，如果使用 data.table，它将代替 data.frame，因此索引将发生一次，而不仅仅是此过程*

```
 dtMethod.withkey <- quote({
                       dt <- data.table(df, key=c("Par1", "Par2"))       
                       dt[, list(pre=mean(Val[Type == "pre"]), 
                                 post=mean(Val[Type == "post"]), 
                                 Num.pre=length(Val[Type == "pre"]), 
                                 Num.post=length(Val[Type == "post"]), 
                                 ParD = paste(ParD, collapse="_")), 
                       by=list(Par1, Par2)]
                     }) 

# SAMPLE SIZE = 10,800
  relative       test elapsed user.self sys.self replications
     1.000         dt   9.155     7.055    2.137            5
     1.043 dt.withkey   9.553     7.245    2.353            5
     3.567     reduce  32.659    31.196    1.586            5
     6.703       plyr  61.364    54.080    7.600            5 
```

### 更新 3：对@MD 对@Arun 原始答案的编辑进行基准测试

```
dtMethod.MD1 <- quote(
                  dt[, list(pre=mean(Val[.pre <- Type=="pre"]),     # save .pre
                            post=mean(Val[.post <- Type=="post"]),  # save .post
                            pre.num=sum(.pre),                      # reuse .pre
                            post.num=sum(.post),                    # reuse .post
                            ParD = paste(ParD, collapse="_")), 
                     by=list(Par1, Par2)]
                  )

dtMethod.MD2 <- quote(
                  dt[, { .pre <- Type=="pre"                  # or save .pre and .post up front 
                         .post <- Type=="post"
                         list(pre=mean(Val[.pre]), 
                              post=mean(Val[.post]),
                              pre.num=sum(.pre),
                              post.num=sum(.post), 
                              ParD = paste(ParD, collapse="_")) }
                  , by=list(Par1, Par2)]
                  )

dtMethod.MD3 <- quote(
                dt[, { .pre <- Type=="pre"
                       .post <- Type=="post"
                       list(pre=mean(Val[.pre]), 
                            post=mean(Val[.post]),
                            pre.num=sum(.pre),
                            post.num=sum(.post), 
                            ParD = list(ParD)) }     # list() faster than paste()
                , by=list(Par1, Par2)]
                )

benchmark(dt.M1=eval(dtMethod.MD1), dt.M2=eval(dtMethod.MD2), dt.M3=eval(dtMethod.MD3), dt=eval(dtMethod),
      replications=5, columns=c("relative", "test", "elapsed", "user.self", "sys.self", "replications"), 
      order="relative")

#--------------------#

Comparing the different data.table methods amongst themselves

# SAMPLE SIZE = 900
  relative  test elapsed user.self sys.self replications
     1.000 dt.M3   0.198     0.197    0.001            5  <~~~ "list()" Method
     1.242 dt.M1   0.246     0.243    0.004            5
     1.253 dt.M2   0.248     0.242    0.007            5
     1.884    dt   0.373     0.367    0.007            5

# SAMPLE SIZE = 17,568
  relative  test elapsed user.self sys.self replications
     1.000 dt.M3  33.492    24.487    9.122            5   <~~~ "list()" Method
     1.086 dt.M1  36.388    11.442   25.086            5
     1.086 dt.M2  36.388    10.845   25.660            5
     1.126    dt  37.701    13.256   24.535            5

Comparing MD3 ("list" method) with MD1 (best of DT non-list methods)
Using a clean session  (ie, removing string cache)
_Note: Ran the following twice, fresh session each time, with practically identical results
       Then re-ran in the *same* session, with reps=5\. Results very different._

benchmark(dt.M1=eval(dtMethod.MD1), dt.M3=eval(dtMethod.MD3), replications=1, columns=c("relative", "test", "elapsed", "user.self", "sys.self", "replications"), order="relative")
# SAMPLE SIZE=17,568;  CLEAN SESSION
  relative  test elapsed user.self sys.self replications
     1.000 dt.M1   8.885     4.260    4.617            1
     1.633 dt.M3  14.506    12.821    1.677            1

# SAMPLE SIZE=17,568;  *SAME* SESSION
  relative  test elapsed user.self sys.self replications
     1.000 dt.M1  33.443    10.200   23.226            5
     1.048 dt.M3  35.060    26.127    8.915            5

#--------------------#

New benchmarks against previous methods
_Note: Not using the "list method" as results are not the same as other methods_

# SAMPLE SIZE = 900
  relative   test elapsed user.self sys.self replications
     1.000  dt.M1   0.254     0.247    0.008            5
     1.705 reduce   0.433     0.425    0.010            5
    11.280   plyr   2.865     2.842    0.031            5

# SAMPLE SIZE = 17,568
  relative   test elapsed user.self sys.self replications
     1.000  dt.M1  24.826    10.427   14.458            5
     4.348 reduce 107.935    70.107   38.314            5
     5.942   plyr 147.508   106.958   41.083            5 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-03T23:31:26.843

一步解决方案`reshape::cast`结合`plyr::ddply`

```
cast(Par1 + Par2 + ParD ~ Type, data = ddply(df, .(Par1, Par2), transform, 
  ParD = paste(ParD, collapse = "_")), fun  = c(mean, length)) 
```

请注意，`dcast`函数 in`reshape2`不允许传递多个聚合函数，而`cast`函数 in允许`reshape`。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2013-03-04T19:15:44.040

我相信这个基本的 R 解决方案可以与 @Arun 的数据表解决方案相媲美。（这并不是说我更喜欢它；该代码要简单得多！）

```
baseMethod2 <- quote({
    is <- unname(split(1:nrow(df), with(df, paste(Par1, Par2, sep="\b"))))
    i1 <- sapply(is, `[`, 1)
    out <- with(df, data.frame(Par1=Par1[i1], Par2=Par2[i1]))
    js <- lapply(is, function(i) split(i, df$Type[i]))
    out$post <- sapply(js, function(j) mean(df$Val[j$post]))
    out$pre <- sapply(js, function(j) mean(df$Val[j$pre]))
    out$Num.pre <- sapply(js, function(j) length(j$pre))
    out$Num.post <- sapply(js, function(j) length(j$post))
    out$ParD <- sapply(is, function(x) paste(df$ParD[x], collapse="_"))
    out
}) 
```

分别使用 @RicardoSaporta 的计时码 900、2700 和 10,800：

```
> relative        test elapsed user.self sys.self replications
3    1.000 baseMethod2   0.230     0.229        0            5
1    1.130          dt   0.260     0.257        0            5
2    8.752        plyr   2.013     2.006        0            5

> relative        test elapsed user.self sys.self replications
3    1.000 baseMethod2   0.877     0.872        0            5
1    1.068          dt   0.937     0.934        0            5
2    8.060        plyr   7.069     7.043        0            5

> relative        test elapsed user.self sys.self replications
1    1.000          dt   6.232     6.178    0.031            5
3    1.085 baseMethod2   6.763     6.683    0.054            5
2    7.263        plyr  45.261    44.983    0.104            5 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-21T12:43:19.480

试图将不同的聚合表达式包装成一个独立的函数（表达式应该产生原子值）......

```
multi.by <- function(X, INDEX,...) {
    expressions <- substitute(...())
    duplicates <- duplicated(INDEX)
    res <- do.call(rbind,sapply(split(X,cumsum(!duplicates),drop=T), function(part) 
        sapply(expressions,eval,part,simplify=F),simplify=F))
    if (is.data.frame(INDEX)) res <- cbind(INDEX[!duplicates,],res)
    else rownames(res) <- INDEX[!duplicates]
    res
}

multi.by(df,df[,1:2],
    pre=mean(Val[Type=="pre"]), 
    post=mean(Val[Type=="post"]),
    Num.pre=sum(Type=="pre"),
    Num.post=sum(Type=="post"),
    ParD=paste(ParD, collapse="_")) 
```

# sql - 尝试使用子查询的结果更新所有列

> ID：15182889
> 
> 赞同：0
> 
> 时间：2013-03-03T05:50:41.747
> 
> 标签：sql, oracle11g, sql-update

我对 SQL 很陌生，我正在尝试执行以下操作：

```
update the salary of employees with their department avg salary. 
```

我在[这里](http://sqlfiddle.com/#!4/edea8/3)尝试 SQL 命令。

我正在尝试的命令是：

```
update emp set sal = select avg(sal) from emp; 
```

但我收到这样的错误：

```
ORA-00936: missing expression : update emp set sal = select avg(sal) from emp 
```

我在哪里犯了错误？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T08:31:33.237

你所尝试的只是正确的......一般来说，子查询应该放在括号内，试试这个：`update emp set sal = (select avg(sal) from emp);`

参考：[http ://sqlfiddle.com/#!4/edea8/4](http://sqlfiddle.com/#!4/edea8/4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T05:53:27.687

```
update emp 
set sal = (SELECT av FROM (SELECT AVG(sal) av FROM emp) s) 
from emp; 
```

# android - 如何使用 BasicNameValuePair 将字符串发布到服务器

> ID：15182892
> 
> 赞同：0
> 
> 时间：2013-03-03T05:51:44.203
> 
> 标签：android, httpwebrequest, http-post

我正在尝试将字符串组合发布到我的后端服务器。我怎样才能使用`BasicNameValuePair`. 这是我正在尝试的一些代码：

```
HttpParams params = new BasicHttpParams();
params.setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);
HttpClient httpClient = new DefaultHttpClient(params);
HttpPost post = new HttpPost("API HERE");

List<NameValuePair> postData = new ArrayList<NameValuePair>();
postData.add(new BasicNameValuePair("username", "the_username"));
postData.add(new BasicNameValuePair("password", "the_password")); 
```

我想发送用户名和密码，例如：

`username=USER&password=PWD`

如何实现成功post到服务器。

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T05:59:41.297

以下是我用于所有`POST`变量的内容：

```
HttpParams httpParams = new BasicHttpParams();
DefaultHttpClient httpClient = new DefaultHttpClient(httpParams);

HttpPost httpPost;
httpPost = new HttpPost(Net_URL + Net_Get);

httpPost.setEntity(new UrlEncodedFormEntity(/*Name Value Pairs*/));

HttpResponse response = httpClient.execute(httpPost); 
```

作为一个附带建议，我会先对用户密码进行某种加密，然后再通过网络发送，我见过很多人不这样做^.^

# kendo-ui - 如何在 asp.net mvc 中禁用剑道编辑器

> ID：15182896
> 
> 赞同：5
> 
> 时间：2013-03-03T05:52:38.140
> 
> 标签：kendo-ui

如何禁用剑道编辑器或使其只读？我尝试使用 HTML 属性但没有运气（或者我仍然做对了）

```
 @(Html.Kendo().Editor()
                    .Name("Text")
                    .Value(@detail.SRoomInformation)
                    .Tools(tools => tools.Clear())
                    ) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T18:20:16.107

如果您想知道为什么没有诸如启用/禁用之类的选项 - 因为 html 可以简单地显示为 html 或文本 - 不需要编辑器提供的所有工具，使用此类小部件毫无意义。编辑器意味着它可以帮助您编辑；）

如果您真的想禁用它，您可以在初始化编辑器后使用以下代码行

例如

```
@Html.Kendo().Editor().Name("test")

<script type="text/javascript">
    $(function () {
        $($('#test').data().kendoEditor.body).attr('contenteditable', false)
    })        
</script> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-24T17:16:55.397

不知道为什么回答的问题对我不起作用。但无论如何，它引发了类似的事情：

```
@(Html.Kendo().EditorFor(model => model.Description) )
@Html.ValidationMessageFor(model => model.Description)
<script>
    // this piece of code neeeeeeeds to be heeeeere! Don't move it
    $(document).ready(function () {
        var editor = $('#Description').data('kendoEditor');
        editor.body.contentEditable=false;
    });
</script> 
```

这有效！:) 玩得开心！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-10T21:35:00.023

当我尝试实施它们时，上述解决方案都不适合我。Telerik 似乎为此提供了一个非常简单的解决方案，涉及覆盖的 div，如记录在：[http ://docs.telerik.com/kendo-ui/controls/editors/editor/how-to/enable-and-disable-编辑](http://docs.telerik.com/kendo-ui/controls/editors/editor/how-to/enable-and-disable-editor)

在实践中，这导致我想禁用的控件旁边有一个额外的 div：

```
<div ng-if="readonly/disabled_Condition == true">
     <div id="overlay" style="width:100%;height:250px; top:100; position:absolute; background-color: black; opacity:0.1; z-index:2;"></div>
     <textarea kendo-editor k-options="options.DutyEditor" ng-model="item.TasksHtml"></textarea>
</div> 
```

一个问题是将覆盖的 div 的大小与您的剑道编辑器的大小相匹配。就我而言，它是一个简单的 100% 宽度和 250 像素高度，所以我很幸运。

认为这可能对某人有帮助！

# ruby-on-rails - 用户名在创建后不可编辑

> ID：15182897
> 
> 赞同：0
> 
> 时间：2013-03-03T05:52:51.533
> 
> 标签：ruby-on-rails, model, devise, ruby-on-rails-3.2

看来我在这里停留在一个简单的点上-我有一个名为“用户”的模型，其中一个名为“用户名”的字段被设置为唯一。

假设有一个新访问者在我的网站上，想要注册，必须选择一个用户名，然后点击“注册”。在这种情况下，我的字段“用户名”必须是 attr_accessible。

我现在想要完成的是，当用户编辑他/她的帐户时，“用户名”字段不再可编辑。

我怎么能意识到这一点？

Bouns-Karma：我在设计中使用 CanCan，因此具有管理员角色的用户可以更改给定用户的用户名的解决方案将是超棒的！我的想法告诉我“除非 user.admin？” 但我的编码中断时间太长了。

无论如何-我希望会有一些答案:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T05:59:31.037

在更新时创建自定义验证：

```
class User
  attr_accessor :admin_action  # do not put in attr_accessible

  validate :freeze_username, :on => :update

  protected

  def freeze_username
    errors.add(:username, "cannot be changed") if self.username_changed? unless self.admin? || self.admin_action
  end
end 
```

`admin_action``true`是一个虚拟属性，如果管理员进行更新，您可以从控制器设置它。

# c# - 实体框架 - 我应该冒险吗？

> ID：15182899
> 
> 赞同：0
> 
> 时间：2013-03-03T05:53:19.397
> 
> 标签：c#, asp.net, sql, asp.net-mvc, entity-framework

我使用传统的 WebForms 和存储过程完成了一些非常复杂的项目。然而，最近，我使用 MVC 和 Entity Framework 做了一个项目，我喜欢它们与 Entity Framework 一起工作的方式。他们让你以面向对象的方式处理实体......太棒了。该项目不是很复杂。大约只有 12 -15 张桌子。

我们都知道 WebForms 和存储过程更成熟，因此更可靠的做事技术。据我所知，EF 仍在不断发展。它甚至没有非常基本的“唯一约束”。尽管有一些解决方法，但这让我在使用 EF 开始项目之前三思而后行。

我想问的是，如果我想开始另一个庞大而复杂的项目，我可以选择 MVC & EF 吗？有没有进入死胡同的风险？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T05:58:17.103

我个人对我的每一个新项目都使用 EF 和 MVC。我还没有遇到缺点。相反，我发现 MVC 更适合使用。关于您的存储过程，它们仍然并且总是比运行 TSQL ad-hoc 更有效。只需将您的普通 ADO.NET 代码替换为 EF 并继续使用存储过程。至于独特的约束，您仍然可以在数据库本身中执行这些约束。更多信息在这里：

[实体框架中的唯一约束](https://stackoverflow.com/questions/6051055/unique-constraint-in-entity-framework)

和这里：

[Entity Framework 5 是否支持唯一约束？](https://stackoverflow.com/questions/11819674/does-entity-framework-5-support-unique-constraints)

此外，请检查此链接以使用存储过程和临时 TSQL 查询与 EF：[http ://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/advanced-entity-framework-一个 mvc-web 应用程序的场景](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/advanced-entity-framework-scenarios-for-an-mvc-web-application)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T06:21:34.417

将 EF 和 MVC 用于复杂项目的风险很小。如果你使用 EF，你仍然可以调用存储过程或执行动态 sql 查询（不是你应该这样做的）。EF 为您提供选择。不使用它的风险可能更大。不要忘记 SO 是用 MVC 构建的。

# jquery - 无法在 JSON、jQuery 中循环遍历数组

> ID：15182903
> 
> 赞同：0
> 
> 时间：2013-03-03T05:53:40.813
> 
> 标签：jquery, json, serialization, loops

我有一个带有输入字段的表单，如下所示：

```
<form "data-qustion_form"=true>
  <input name="question[description]" value="quesd">
  <input name="question[answers][0][description]" value="ansd1">
  <input name="question[answers][1][description]" value="ansd2">
</form> 
```

我正在使用[https://github.com/marioizquierdo/jquery.serializeJSON](https://github.com/marioizquierdo/jquery.serializeJSON)将表单数据转换为 json。还尝试使用[https://stackoverflow.com/a/8407771/707636](https://stackoverflow.com/a/8407771/707636)。两者都很好用。但是我无法遍历 json 中的数组。

我关注了js

```
$("[data-question_form]").on("submit", function(e) {
  var o = $(this).serializeObject();  // $(this).serializeJSON(); both results same
  console.log(o);
  console.log(o["question"]);
  console.log(o["question"]["answers"]);
  $.each(question["answers"], function() {
    console.log("print test");  // I don't see this on console in Chrome inspector
  }
  e.preventDefault();
} 
```

Chrome 检查器中控制台的输出如下：

```
Object {utf8: "✓", question: Object}
Object {description: "quesd", answers: Array[0]}
[1362289041238: Object, 1362289045644: Object] 
```

进一步扩大`[1362289041238: Object, 1362289045644: Object]`显示`length: 0`。

如何遍历此数组以读取 jQuery 中的每个答案描述？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:36:07.657

我无法发现您的代码有任何问题（请参阅[示例](http://jsfiddle.net/mgibsonbr/V7b8M/)），无论是使用`serializeObject`- 与链接答案中的代码 - 还是使用`serializeJSON`- 来自 GitHub 的代码。但是，您的标记必须进行调整：

```
<form "data-qustion_form"=true> 
```

至：

```
<form data-question_form="true"> 
```

PS 正如@jchapa 指出的那样，这`question["answers"]`也是错误的-括号不平衡。但我假设这只是您在此处粘贴的代码，您的实际代码必须是正确的（否则您根本不会得到任何结果）。

```
 $.each(o["question"]["answers"], function() {
    console.log("print test");  // I don't see this on console in Chrome inspector
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-03T06:35:29.663

好的，我刚刚解决了它，但`name`对输入元素的属性做了一些小改动。在计数器前添加 `[]`如下：

```
<input name="question[answers][][0][description]" value="ansd1">
<input name="question[answers][][1][description]" value="ansd2"> 
```

现在我可以遍历它了:)

# go - 未注册接口的名称

> ID：15182905
> 
> 赞同：5
> 
> 时间：2013-03-03T05:54:06.640
> 
> 标签：go, rpc, gob

我正在尝试通过 RPC 发送一个具体的实现。RPC 方法需要一个接口。

相关的代码片段是：

包装内`node`：

```
type Commander interface {
    Action() string   
}

type Approach struct {
    Position int   
}

func (p Approach) Action() string {
    return "Approach"   
}

func (t *RPCMethod) RPCAction(command Commander, reply *int) error {
    // RPC Method
} 
```

包装内`main`：

```
import "node"

gob.Register(node.Approach{})
var p = node.Approach{position}
var q node.Commander = p

var reply int
err = client.Call("RPCMethod.RPCAction",&q, &reply) 
```

我已经用 gob 注册了 node.Approach。但是在运行我收到的主程序时

```
gob: name not registered for interface: "node.Approach" 
```

关于我做错了什么的任何想法？或者如何注册名字？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T14:59:44.067

是的，您已`node.Approach`在 gob 注册。但后来你通过`q`了，这*不是* `node.Approach`。而是发送`p`，因为它具有您注册的类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T20:46:00.557

正如我在邮件列表中回答的那样，您需要在解码端注册类型；在这种情况下，即 RPC 服务器端。gob 编码器使用反射来检查结构和接口，但解码器端必须预先知道接口中可能存储的类型，因为通过线路传输的唯一内容是名称，并且它需要已经看到类型第一的。

# android - 转换为 ActionBarSherlock

> ID：15182909
> 
> 赞同：-1
> 
> 时间：2013-03-03T05:54:26.043
> 
> 标签：android, android-fragments, actionbarsherlock, android-tabs

编辑：找到解决方案！对于任何想做同样事情的人，我在下面找到了一个更好的教程： [http](http://comfreek.blogspot.com/2012/06/actionbars-and-tabs-under-android-2x.html) ://comfreek.blogspot.com/2012/06/actionbars-and-tabs-under-android-2x.html 它非常基础，展示了如何使用 ABS 设置带有片段的选项卡，以防其他人感兴趣！

我正在按照这里的教程来实现选项卡和片段：[http ://www.lucazanini.eu/2012/android/tab-layout-in-android-with-actionbar-and-fragment/?lang=en](http://www.lucazanini.eu/2012/android/tab-layout-in-android-with-actionbar-and-fragment/?lang=en)

我在将其转换为与旧版本的 Android 一起使用时遇到了一些麻烦；我的目标是最低水平的姜饼，所以我必须使用 ActionBarSherlock。即使我尝试复制它说要创建的 TabActionBarActivity.java 类，我也会遇到错误。（我也不确定如何处理片段的其他两个类，但我稍后会处理这些）。

```
import android.app.FragmentTransaction;
import android.os.Bundle;

import com.actionbarsherlock.app.ActionBar;
import com.actionbarsherlock.app.ActionBar.Tab;
import com.actionbarsherlock.app.SherlockActivity;
import com.actionbarsherlock.app.SherlockFragment;
import com.actionbarsherlock.view.Menu;
import com.actionbarsherlock.view.MenuInflater;

public class TabActionBarActivity extends SherlockActivity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    ActionBar actionBar = getSupportActionBar();

    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    String label1 = getResources().getString(R.string.label1);
    Tab tab = actionBar.newTab();
    tab.setText(label1);
    TabListener<Tab1Fragment> t1 = new TabListener<Tab1Fragment>(this, label1, Tab1Fragment.class);
    tab.setTabListener(t1);
    actionBar.addTab(tab);

    String label2 = getResources().getString(R.string.label2);
    Tab tab = actionBar.newTab();
    tab.setText(label2);
    TabListener<Tab1Fragment> t2 = new TabListener<Tab1Fragment>(this, label2, Tab2Fragment.class);
    tab.setTabListener(t2);
    actionBar.addTab(tab);
}

private class TabListener<T extends SherlockFragment> 
    implements com.actionbarsherlock.app.ActionBar.TabListener{

    private SherlockFragment mFragment;
    private final SherlockActivity mActivity;
    private final String mTag;
    private final Class<T> mClass;

    public TabListener(SherlockActivity activity, String tag, Class<T> clz) {
        mActivity = activity;
        mTag = tag;
        mClass = clz;
    }

    public void onTabSelected(Tab tab, FragmentTransaction ft) {
    // Check if the fragment is already initialized
        if (mFragment == null) {
        // If not, instantiate and add it to the activity
            mFragment = Fragment.instantiate(mActivity, mClass.getName());
            ft.add(android.R.id.content, mFragment, mTag);
        } else {
        // If it exists, simply attach it in order to show it
            ft.attach(mFragment);
        }
    }

    public void onTabUnselected(Tab tab, FragmentTransaction ft) {
        if (mFragment != null) {
            // Detach the fragment, because another one is being attached
            ft.detach(mFragment);
        }
    } 

    public void onTabReselected(Tab tab, FragmentTransaction ft) {
    // User selected the already selected tab. Usually do nothing.
    }
}
} 
```

我在两行出现错误，如下所示：

```
TabListener<Tab1Fragment> t1 = new TabListener<Tab1Fragment>(this, label1, Tab1Fragment.class); 
```

声明“TabListener t1 = new TabListener(this, label1, Tab1Fragment.class);” 我假设当后面的代码部分修复时，这将被清除。

与选择/取消选择选项卡有关的方法中有错误，我不确定如何修复它们。任何指示或建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T13:22:04.743

只要确保你正在导入

```
import android.support.v4.app.FragmentTransaction; 
```

代替

```
import android.app.FragmentTransaction; 
```

如果您的实现片段管理器确保以这种方式调用它

```
FragmentManager fm = this.getSupportFragmentManager(); 
```

代替

```
getFragmentManager(); 
```

并使用此导入

```
import android.support.v4.app.FragmentManager; 
```

代替

```
import android.app.FragmentManager; 
```

# php - PHP PDO - 绑定表名？

> ID：15182910
> 
> 赞同：11
> 
> 时间：2013-03-03T05:54:39.130
> 
> 标签：php, pdo

是否可以绑定表名？

我想创建一个类来读取表中的列，并根据字段类型为我生成表单输入。当我这样做`$form = new form("users");`时，构造函数应该从使用以下代码从表中获取字段名称开始：

```
class form{

    public function __construct($table, $skip = array("id")){
        $pdo = new PDO('mysql:host=localhost;dbname=site;',USER,PASS);

        $query = $pdo->prepare("DESCRIBE :table");

        $query->bindValue(':table', $table, PDO::PARAM_STR, strlen($table));

        $query->execute();

        while($field = $query->fetch(PDO::FETCH_NUM)){
            var_dump($field);
            echo "<br /><br />";
        }

        unset($pdo);
    }
} 
```

当我在准备语句中指定“用户”而不是“：表”时，这工作得很好，但是绑定它正在工作，我很确定这是因为它试图绑定一个表名。此外，这需要绑定，因为我希望能够通过我的表名`$_GET`等等。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-03T05:57:52.620

> 是否可以绑定表名？

不。

您必须将表名列入白名单。我怀疑您是否想让用户浏览数据库中的*任何*表。

而且您还必须手动格式化标识符。有一个带有示例的[标签 wiki 。](https://stackoverflow.com/tags/pdo/info)为什么不先读呢？

**更新：** 如您所见，PDO 对现实生活中的任务不方便。所以，你必须有一个更智能的抽象库来处理 MySQL 查询。下面是一个使用[safeMysql](https://github.com/colshrapnel/safemysql)类的示例，这将使您的代码大大缩短：

```
class form{
    public function __construct($table){
        global $db;
        return $db->getAll("DESCRIBE ?n", $table);
    }
} 
```

2个注意事项：

*   我删除了第二个参数，因为您的函数中没有使用它的代码。
*   永远不要在课堂上联系。请改用已打开的连接。或者你会用这么多的连接杀死你的 MySQL 服务器。

排除实施版本

```
class form {
    public function __construct($table,$skip = array("id")){
        global $db;
        $data = array();
        $res = $db->query("DESCRIBE ?n", $table);
        while($row = $db->fetch($res)) {
            if (!in_array($row['Field'],$skip)) {
                $data[] = $row;
            }
        }
        return $data;
    }
} 
```

然而，这样的类很少能按预期使用——总是有很多例外和手动格式化以使其可用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T06:42:30.357

有一个 PDO 包装类 - [http://www.phpclasses.org/package/5997-PHP-Database-access-abstraction-layer.html](http://www.phpclasses.org/package/5997-PHP-Database-access-abstraction-layer.html)可以让你做到这一点（虽然我是 PDO 的新手所以也许它没有使用准备好的陈述）

他建议的用法是：

```
 $db = new DatabaseConnection('someMysqlServer', 'user', 'pass', 'database');

 $result = $db->exec($db->filterForSql('SELECT * FROM '.$tableName.';')); 
```

如果其他人认为这是使用 PDO 的“安全”方式，我会感兴趣。

# java - deployJava.js 添加了一个 元素到头部区域

> ID：15182914
> 
> 赞同：2
> 
> 时间：2013-03-03T05:55:53.647
> 
> 标签：java, javascript, html, css, deployjava

我有一个使用 Java 小程序的站点，并且在页面的头部区域中包含了 deployJava.js 加载标记。但是，当我在 Chrome 调试器中看到生成的 HTML 时，此脚本会立即破坏我的头部内容开始正文，因此其他头部内容出现在正文标记中！

[你可以在我的网站http://viva-games.ru/](http://viva-games.ru/)上看到它

deployJava 还会插入一个 embed 标记（在正文打开之后），因此您可以在页面顶部看到一个空行。

我做错了什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-17T23:37:04.400

`deployJava.js`集成起来很麻烦，因为它用于`document.write`在文档完全加载之前在页面中插入标签。基本上，它不支持异步加载。

根据[Oracle 的示例](http://docs.oracle.com/javase/tutorial/deployment/applet/deployingApplet.html)，我们必须将文件包含在正文中的某个位置，并在包含后立即调用它。小程序标签将放置在那里。

如果您想使用 RequireJS 异步加载它，或者如果您想稍后调用它，在页面加载后，下载[未压缩版本](http://www.java.com/js/deployJava.txt)并替换每个出现的：

```
document.write(...); 
```

经过：

```
document.getElementsByTagName('body')[0].insertAdjacentHTML('afterbegin', ...); 
```

然后你可以`deployJava.runApplet`在你的 JavaScript 中的任何地方调用。您甚至可以将小程序标签`div`放在页面某处的元素中。HTML 代码：

```
<body>
    ...
    <div id="appletContainer"></div>

    // The include after the div or once the page is loaded
    <script type="text/javascript" src="javascript/deployJava.js"></script>
    ...
</body> 
```

和文件`deployJava.js`：

```
document.getElementById('appletContainer').insertAdjacentHTML('afterbegin', ...); 
```

关于空行，我没有任何解释，但可以使用 CSS 找到解决方法。如果您的小程序不显示任何 GUI，您可以将小程序容器的高度设置为 0。

**注意：**不要使用 隐藏 appletContainer `display:none`，否则您的 applet 将无法运行。

# android - 从 Android 访问 RESTful WCF 服务

> ID：15182915
> 
> 赞同：0
> 
> 时间：2013-03-03T05:55:57.457
> 
> 标签：android, wcf, rest

我创建了一个 RESTful WCF 服务。我在笔记本电脑的 IIS 中托管了这项服务。该服务可在以下位置访问。

```
http://pritam-pc:5050/Service1.svc/MyService/GooService/Customer/1 
```

或者

http://192.168.42.61:5050/Service1.svc/MyService/GooService/Customer/1（使用IP地址）

我的笔记本电脑和安卓手机都打开了 Wi-Fi。

现在我想在我的 Android 上访问上面的 url。

我已经在我的 Android 上配置了接入点

我参考了以下链接来配置接入点：

[http://fszlin.dymetis.com/post/2010/05/10/Comsuming-WCF-Services-With-Android.aspx](http://fszlin.dymetis.com/post/2010/05/10/Comsuming-WCF-Services-With-Android.aspx)

但是，当我尝试从我的 android 客户端访问 WCF 链接时，它给了我错误“http://192.168.42.61:5050/Service1.svc/MyService/GooService/Customer/1 的网页可能暂时关闭或可能已永久移至新网址。

有人可以指导我如何访问托管在笔记本电脑上的 RESTful WCF 服务并从 Android 手机访问它。

谢谢，

赫曼

# php - Magento：配置错误

> ID：15182918
> 
> 赞同：1
> 
> 时间：2013-03-03T05:56:42.873
> 
> 标签：php, magento

我正在使用 Mangento 版本：1.7.0.2

当我尝试使用磁电机的示例数据安装时，它给了我以下错误。有没有人遇到过类似的问题。

```
 Error in file: "C:\xampp\htdocs\magento\app\code\core\Mage\Sales\sql\sales_setup  
    \mysql4-upgrade-0.9.16-0.9.17.php" - Can't retrieve entity config: 
    sales/quote_shipping_rate

   Trace:
   #0 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\Resource\Setup.php(645):   
   Mage::exception('Mage_Core', 'Error in file: ...')
   #1 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\Resource\Setup.php(437):   
   Mage_Core_Model_Resource_Setup->_modifyResourceDb('upgrade', '0.9.16', '1.6.0.7')
   #2 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\Resource\Setup.php(320):
   Mage_Core_Model_Resource_Setup->_upgradeResourceDb('0.9.16', '1.6.0.7')
   #3 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\Resource\Setup.php(235): 
   Mage_Core_Model_Resource_Setup->applyUpdates()
   #4 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\App.php(417): 
   Mage_Core_Model_Resource_Setup::applyAllUpdates()
   #5 C:\xampp\htdocs\magento\app\code\core\Mage\Core\Model\App.php(343): 
   Mage_Core_Model_App->_initModules()
   #6 C:\xampp\htdocs\magento\app\Mage.php(683): Mage_Core_Model_App->run(Array)
   #7 C:\xampp\htdocs\magento\index.php(87): Mage::run('', 'store')
   #8 {main} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T12:10:02.887

我已经找到了这个问题的答案。我使用的 Magento 版本是 1.7.0.2，使用的示例数据是 magento-sample-data.1.1.2.zip，与此版本不兼容，因此我将示例数据更改为 1.6.1.zip。

使用它后，我可以安装magento。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-04T15:43:44.537

我的问题是我没有使用新文件更新 /app/etc/config.xml 并且缺少有关核心资源模型的信息。确保 config.xml 字段是新版本的 magento 附带的字段。

# c# - 使用 MS Roslyn 进行语法分析

> ID：15182922
> 
> 赞同：6
> 
> 时间：2013-03-03T05:57:29.443
> 
> 标签：c#, roslyn

我有一个小而愚蠢的问题。我开始与 MS Roslyn 合作，我正在尝试进行演练，但一开始就发生了错误......

> 错误 CS0117：“Roslyn.Compilers.CSharp.SyntaxTree”不包含“ParseCompilationUnit”的定义

我不明白为什么会这样……也许你们中的一个人也有同样的问题。

我的源代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Roslyn.Compilers;
using Roslyn.Compilers.CSharp;
using Roslyn.Services;
using Roslyn.Services.CSharp;

namespace gettingstarted2
{
    class Program
    {
        static void Main(string[] args)
        {
            SyntaxTree tree = SyntaxTree.ParseCompilationUnit(
                @"using System;
                using System.Collections;
                using System.Linq;
                using System.Text;

                namespace HelloWorld
                {
                    class Program
                    {
                        static void Main(string[] args)
                        {
                            Console.WriteLine(""Hello, World!"");
                        }
                    }
                }");

            var root = (CompilationUnitSyntax)tree.GetRoot();

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T22:56:05.577

您遵循的演练中提到的日期是什么时候？对于 9 月的 CTP，该方法已从 重命名`ParseCompilationUnit`为。`ParseText`如果您安装了以前的 CTP，则在您安装最新的 CTP 时可能没有正确更新演练。

我建议卸载并重新安装 CTP 或使用修复。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-30T15:26:47.637

@Anton 是舒尔，那是最新的......您可以使用 Nuget 安装 Roslyn。

Run the following command in the Package Manager Console : PM> Install-Package Roslyn

# perl - Perl 究竟是如何处理运算符链的？

> ID：15182925
> 
> 赞同：4
> 
> 时间：2013-03-03T05:57:42.477
> 
> 标签：perl

所以我有这段代码不起作用：

```
print $userInput."\n" x $userInput2; #$userInput = string & $userInput2 is a integer 
```

如果数字超过 0，它会打印一次，但如果数字大于 1，它不会打印出其余部分。我来自 java 背景，我假设它首先进行连接，然后结果将是与`x`运算符相乘的结果。当然，这不会发生。现在，当我执行以下操作时它可以工作：

```
$userInput .= "\n";
print $userInput x $userInput2; 
```

我是 Perl 的新手，所以我想确切地了解链接是怎么回事，如果我能做到的话。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T06:12:52.003

您在询问*运算符优先级*。（“链接”通常是指方法调用的链接，例如`$obj->foo->bar->baz`。）

Perl 文档页面[perlop](http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity)以按优先级顺序排列的所有运算符的列表开始。 `x`与其他乘法运算符`.`具有相同的优先级，并且与其他加法运算符具有相同的优先级，因此当然`x`首先评估。（即，它“具有更高的优先级”或“绑定更紧密”。）

与在 Java 中一样，您可以使用括号解决此问题：

```
print(($userInput . "\n") x $userInput2); 
```

请注意，这里需要*两*对括号。如果您只使用内括号，Perl 会将它们视为指示 的参数`print`，如下所示：

```
# THIS DOESN'T WORK
print($userInput . "\n") x $userInput2; 
```

这将打印字符串*一次*，然后重复`print`的返回值若干次。在 the 之前放置空格`(`并没有帮助，因为空格通常是可选的并且被忽略。在某种程度上，这是运算符优先级的另一种形式：函数调用比其他任何东西都绑定得更紧密。

如果你真的讨厌有比严格要求更多的括号，你可以用一元运算符打败 Perl `+`：

```
print +($userInput . "\n") x $userInput2; 
```

这将 与 分开`print`，`(`因此 Perl 知道该行的其余部分是一个表达式。一元`+`没有任何作用；它的主要用途正是这种情况。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-03T06:12:24.437

这是[由于](http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity) `.`（连接）运算符的优先级低于`x`运算符。所以它结束了：

```
use strict;
use warnings;
my $userInput = "line";
my $userInput2 = 2;
print $userInput.("\n" x $userInput2); 
```

并输出：

```
line[newline]
[newline] 
```

这就是你想要的：

```
print (($userInput."\n") x $userInput2); 
```

这打印出来：

```
line
line 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-03T12:56:23.467

正如已经提到的，这是一个[优先级](http://perldoc.perl.org/perlop.html#Operator-Precedence-and-Associativity)问题，因为重复运算符`x`比串联运算符具有更高的优先级`.`。然而，这并不是这里发生的全部，而且问题本身来自一个糟糕的解决方案。

首先，当你说

```
print (($foo . "\n") x $count); 
```

您正在做的是将重复运算符的上下文更改为列表上下文。

```
(LIST) x $count 
```

上面的语句真的意味着这个（如果`$count == 3`）：

```
print ( $foo . "\n", $foo . "\n", $foo . "\n" );  # list with 3 elements 
```

从[perldoc perlop](http://perldoc.perl.org/perlop.html#Multiplicative-Operators)：

> 二进制“x”是重复运算符。在**标量上下文中**，或者如果左操作数没有括在括号中，则它返回**一个字符串**，该字符串由左操作数重复右操作数指定的次数组成。在**列表上下文中**，如果左操作数用括号括起来或者是由 qw/STRING/ 组成的列表，**则重复该列表**。如果右操作数为零或负数，则根据上下文返回空字符串或空列表。

该解决方案按预期工作，因为`print`采用列表参数。但是，如果您有其他需要标量参数的东西，例如子例程：

```
foo(("text" . "\n") x 3);

sub foo {
    # @_ is now the list ("text\n", "text\n", "text\n");
    my ($string) = @_;   # error enters here
    # $string is now "text\n"
} 
```

这是一个微妙的差异，可能并不总是能给出预期的结果。

对于这种特殊情况，更好的解决方案是根本不使用连接运算符，因为它是多余的：

```
print "$foo\n" x $count; 
```

甚至使用更普通的方法：

```
for (0 .. $count) {
    print "$foo\n";
} 
```

或者

```
use feature 'say'
...
say $foo for 0 .. $count; 
```

# php - 三元运算返回“未定义的属性”

> ID：15182930
> 
> 赞同：0
> 
> 时间：2013-03-03T05:58:19.220
> 
> 标签：php, ternary-operator

我已经从使用这个三元运算切换到 if/elseif/else，但我真的很想知道为什么这不起作用。我不断收到错误：

> ErrorException [注意]：未定义的属性：stdClass::$error

如果我要切换条件的顺序以使这`$res->response`件作品是第 3 件，那么我会得到相同的错误，但该错误是针对该属性的。这对我来说毫无意义，并在 Codepad.org（使用 PHP 5.2）上对其进行测试，它按预期工作： [http ://codepad.org/gwteijIe](http://codepad.org/gwteijIe)

这是有问题的测试代码：

```
$output = '{"error":{"message":"This is a test error"}}';
$res = json_decode($output);

$error = isset($res->response) ? $res->response->message :
     isset($res->error) ? $res->error :
     isset($res->error->message) ? $res->error->message :
     $output;

echo $error; 
```

（它检查`$res->error`和的原因`$res->error->message`是因为我们使用的 API 将返回我们正在检查的三个条件中的任何一个。免责声明：这不是我的 API！）

关于为什么我没有得到我期望的结果的任何见解？非常感谢您的帮助。

**编辑：**

为了澄清，这就是我想要实现的目标：

```
if (isset($res->response))
{
    $error = $res->response->message;
}
elseif (isset($res->error->message))
{
    $error = $res->error->message;
}
elseif (isset($res->error))
{
    $error = $res->error;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:04:23.597

不要嵌套三元运算符。

由于评估三元运算符的顺序，您会看到错误；像这样写出来会更好，更易于维护：

```
if (isset($res->response)) {
  $error = $res->response->message;
} elseif (isset($res->error)) {
  if (isset($res->error->message)) {
    $error = $res->error->message;
  } else {
    $error = $res->error;
  }
} else {
  $error = $output;
} 
```

您的旧代码评估如下；即使那样，真正发生的事情也不是很明显：

```
((isset($res->response) ? $res->response->message :
isset($res->error)) ? $res->error :
isset($res->error->message)) ? $res->error->message :
$output; 
```

另请参阅：[比较运算符](http://php.net/manual/en/language.operators.comparison.php#example-121)

# html - 无需滚动即可滚动的单行 Contenteditable DIV

> ID：15182931
> 
> 赞同：0
> 
> 时间：2013-03-03T05:58:26.117
> 
> 标签：html, css, contenteditable

此 CSS 应用于 Firefox 15 中的 contenteditable DIV（在 BODY 内）。我期待当我输入该字段时，该字段将充满文本并开始自动水平滚动（不显示滚动），以便插入符号和最后输入的文本是可见的，但我不是这种情况。

有任何想法吗？

```
.al-field {
background-color: pink;
white-space: nowrap;
overflow: hidden;
width: 200px;
height: 20px;
} 
```

# azure - 支持 Azure 上的 SQL Server Compact 4.0

> ID：15182933
> 
> 赞同：14
> 
> 时间：2013-03-03T05:58:50.637
> 
> 标签：azure

我的网站是一个使用 VS 2012 构建的 .net 4.5 mvc 站点。我的 app_data 文件夹中有一个 SQL Server Compact DB。在我的本地主机上一切正常。我部署到 Azure 网站并收到此错误？

找不到请求的 .Net Framework 数据提供程序。它可能没有安装。

我用谷歌搜索并得到了很多可能的答案，但没有一个特定于 Azure 和 SQL server compact。所以我的问题很简单。部署到 Azure 共享托管服务器的 Windows Azure 网站是否支持 SQL Server Compact？如果是这样，我需要做些什么来消除上述错误并使其工作？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-06-01T15:33:26.040

当然*可以*在 Windows Azure 上使用 SQL Server Compact。但是，您需要问自己：

**我会更改数据库中的*任何内容吗？***
这包括添加、更新和删除数据。如果这样做，则不应*在*Windows Azure 上使用 SQL Server Compact。因为，如果您在 Windows Azure 上使用 SQL Server Compact 并更改数据库中的任何内容，您将遇到两个问题：

1.  数据不会被复制。
2.  您有丢失数据的风险。

**不复制数据**
如果您更改数据库中的任何内容，则更改将保留在本地。这意味着如果您有多个实例运行您的 Web 应用程序，那么每个 Web 应用程序都将拥有自己的数据库，如果您在其中一个实例中进行更改，则更改不会复制到其他实例，这将导致不可预知的行为在您的应用程序中。

**您可能会丢失数据**
如果在部署后更改数据库中的任何内容，则可能会丢失数据，因为 Windows Azure 可能决定将您的实例重新部署到另一台虚拟机或物理机。发生这种情况时，将使用您最初上传到 Windows Azure 的部署包设置新实例，并且该包不包含您对数据库所做的任何更改。出于多种原因，这种重新部署可能随时发生。

**结论**
那么，Azure 上的 SQL Compact？当然，如果您的数据是**只读的**，那也没问题。但是，请注意，您不会获得使用 SQL Azure 的性能。但是，如果您的需求在未来发生变化，您始终可以将您的应用程序从 SQL Server Compact 迁移到 SQL Azure。

如果您想在 Windows Azure 中使用 SQL Server Compact，您可以使用“[私有部署](http://erikej.blogspot.no/2011/02/using-sql-server-compact-40-with.html)”方法，如“ErikEJ”的博客中所述。

**编辑：**微软宣布他们现在为每个 Azure 订阅提供[1 个免费的 20 MB SQL Azure 数据库。](http://view.email.microsoftemail.com/?j=fe8d167574660d7a7d&m=fe621570756503797d1c&ls=fe2716767d62047c7d1075&l=fec21c767365017e&s=fe291171746507757c1d71&jb=ff67167073&ju=fe621170766204797d17)这意味着您可以使用免费的 SQL Azure 数据库创建订阅并创建免费网站。（只要小于 20 MB）您还可以免费将多个网站与同一个 SQL Azure 数据库关联。因此，如果您正在考虑在 Windows Azure 上使用 SQL Server Compact，因为您的数据库非常小并且您不想为 100 MB 的数据库付费，您可以考虑此选项。在大多数情况下，这将是一个更好的解决方案。您的网站会表现得更好，您的数据库性能会更好，并且您有能力更改数据并将其复制。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-10-03T04:59:31.143

Azure 上的 SQL Server Compact 4.0 是可能的！

我为它写了[一篇文章](http://sincode.blogspot.tw/2014/09/sql-compact-edition-database-azure.html)

这是我[找到](http://www.dotnetcurry.com/showarticle.aspx?ID=883)的英文版

分几步：

## 以下是我研究后的解决方案：

像这样一步一步来：

1.  **安装两个nuget：EntityFrame.SqlServerCompact & Microsoft SQL Server Compact Edition**

2.  **将您的 SQL 数据库文件 (.sdf/.mdf) 放在 APP_Data 文件夹中** （像这样放置连接字符串以便使用它：

    ```
    <add name ="DefaultConnection" connectionString ="Data Source=|DataDirectory|CompactDB.sdf" providerName ="System.Data.SqlServerCe.4.0" />) 
    ```

3.  将包含上述 SQL 数据库文件的完整项目发布到 AzureWebsites。

4.  你会发现它可以很好地工作并且完全免费。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-03T06:11:37.737

[微软 Azure 的第二个 Wenchao Zeng](http://social.msdn.microsoft.com/Forums/da-DK/windowsazuredata/thread/ddbdbce1-8f37-4a47-9947-0d7cb3eeedcd)不支持 Sql Compact。

我可以使用一次，但不建议这样做，因为 Windows Azure 使用数据复制（这是云，记得吗？）并且**Sql CE 不支持此功能**。如果可以在 Azure 中放置 Sql CE，有时将无法访问，或者用户会因为异步而看到数据过时或损坏。

最好的方法是您使用[Azure Sql](http://www.windowsazure.com/en-us/home/features/data-management/)或[BLOB 存储](http://www.windowsazure.com/en-us/develop/net/how-to-guides/blob-storage/)。

# ruby - 用于 nil:NilClass (NoMethodError) 的 Ruby 未定义方法“+”

> ID：15182935
> 
> 赞同：3
> 
> 时间：2013-03-03T05:59:07.077
> 
> 标签：ruby, numbers, add

红宝石新手。接收错误：nil:NilClass (NoMethodError) 的未定义方法“+”

我不明白为什么我会因为增加值这样简单的任务而收到错误消息。但是，该错误可能是由其他原因引起的。

原因是什么？

```
class LinkedList
  class Node
    attr_accessor :data, :nextNode

    def initialize(data = nil, nextNode = nil)
      @data = data
      @nextNode = nextNode
    end
  end

#member variables
  @head = nil
  @size = 0

  def initialize
    @head = Node.new()
  end

  def add(val)
    curr = @head
    while curr.nextNode != nil
      curr = curr.nextNode
    end
    curr.nextNode = Node.new(val)
    @size += 1  #<<<-------------------------------------ERROR LINE----------
  end
end

list = LinkedList.new()
list.add(0) 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-03T06:01:38.320

将 @size 的声明移动到初始化方法中：

```
def initialize(data = nil, nextNode = nil)
  @data = data
  @nextNode = nextNode
  @size = 0
end 
```

# css-float - 清除两者或溢出隐藏，一个clearfix解决方案

> ID：15182942
> 
> 赞同：3
> 
> 时间：2013-03-03T06:00:43.787
> 
> 标签：css-float, css

我正在使用元素设计无表格网站，并且我在父元素中`div`有许多浮动的左右元素。`div``div`

现在，我正在使用另一个`div`元素来自动修复父`div`高度：

```
<div style="clear:both"></div> 
```

但是，我以同样的方式了解了以下作品：

```
<div style="overflow:hidden">
    <div style="float:left">...</div>
    <div style="float:right">...</div>
</div> 
```

而且，我试过了，它可以工作，并且也减少了**DOM 元素的数量**。

但我不知道它是否是**跨浏览器**。

哪种方法有效且跨浏览器？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T06:10:48.837

`overflow:hidden`使元素建立一个新的[块格式化上下文](http://www.w3.org/TR/CSS21/visuren.html#block-formatting)。这修复了漂浮在其中的任何子项的浮动包含。这个 CSS 修复比在 HTML 中包含一个附加元素更实用，`clear:both`并且适用于所有现代浏览器，包括 IE7+。

# javascript - 如何在其他框架中显示div

> ID：15182943
> 
> 赞同：0
> 
> 时间：2013-03-03T06:00:51.037
> 
> 标签：javascript, css

我在框架集和第三个框架 jsp 中有五个框架，我有一个 div 动态加载内容作为下拉列表。问题是我需要将第三帧的行大小增加到更大的大小以适应下拉值。如果不是，则下拉 div 与第四帧重叠并且不显示任何结果

下面是片段

```
<frameset rows="0,0,28,*,21" frameborder="0" border="0" framespacing="0" onunload="onUnload()">
<frame name="timeoutcontrol" id="MainEx_timeoutcontrol_0" src="/webtop1/wdk/timeoutcontrol.jsp?Reload=1362290081162&amp;__dmfFrameId=MainEx_timeoutcontrol_0&amp;__dmfClientId=1362290080503" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" noresize="">
<frame name="residentucfinvoker" id="MainEx_residentucfinvoker_0" src="/webtop1/component/residentucfinvoker?Reload=1362290081162&amp;__dmfFrameId=MainEx_residentucfinvoker_0&amp;__dmfClientId=1362290080503" marginwidth="0" marginheight="0" frameborder="0" scrolling="no" noresize="">
<frame name="titlebar" id="MainEx_titlebar_0" src="/webtop1/component/titlebar?Reload=1362290081162&amp;__dmfFrameId=MainEx_titlebar_0&amp;__dmfClientId=1362290080503" title="Title Bar Documentum Webtop" frameborder="0" scrolling="no" noresize="">
<frame name="view" id="MainEx_view_0" src="/webtop1/webtop/classic/classic.jsp?Reload=1362290081162&amp;__dmfFrameId=MainEx_view_0&amp;__dmfClientId=1362290080503" title="Classic View. Use column header links to sort files" frameborder="0" scrolling="no" noresize="">
<frame name="messagebar" id="MainEx_messagebar_0" src="/webtop1/component/messagebar?Reload=1362290081162&amp;__dmfFrameId=MainEx_messagebar_0&amp;__dmfClientId=1362290080503" title="Message Bar. Location of success and failure messages." frameborder="0" scrolling="no" noresize="">
</frameset> 
```

有什么方法可以在第四帧中显示 div 下拉值？请指教

# css - 如何将一个 LESS 样式表模块化为多个样式表？

> ID：15182944
> 
> 赞同：1
> 
> 时间：2013-03-03T06:01:01.007
> 
> 标签：css, less

我正在寻找我的 styles.less 文件（目前包含整个网站的 3000 行样式表代码）并将其分解为多个样式表，即 navigation.less、buttons.less、footer.less 等。

我想然后我会将所有这些单独的样式表@import 到一个主样式表中，例如 all.less 它将编译/缩小到 all.css

我将这种样式分解为单独的工作表时遇到的一个问题是变量引用被破坏了。例如，如果我将我的按钮 CSS 移植到buttons.less，我的按钮 CSS 包含对在 styles.less 中定义的 LESS 变量的引用。我该如何解决这个问题？

有没有更好的方法来用 LESS 模块化我的 CSS 代码？对于一个文件，3000 行 LESS 代码变得完全无法管理，我需要将其分解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-03T12:10:26.410

大多数人通过拥有两个特定文件来处理这个问题，比如`variables.less`和`mixins.less`.

然后，如果模块中需要这些，您可以使用`import-once`而不是仅使用`import`([对于当前即将发布的 1.4 之前的版本；此时`import` *默认情况下*将充当`import-once`](http://www.lesscss.org/#-importing))。您***在****模块*文件和`all.less`. 这样，当它们全部放在`all.less`文件中时，导入只会在最终文件的顶部发生一次，而不是针对加载的每个单独的模块文件。

# javascript - 如何使功能像确认

> ID：15182945
> 
> 赞同：1
> 
> 时间：2013-03-03T06:01:02.227
> 
> 标签：javascript

我想做自定义确认功能。

所以，我做了一个像这样的代码：

```
function confirm(msg){
  var obj = document.createElement("div");
  var body = document.createElement("div");
  body.innerHTML = msg;

  var foot = document.createElement("div");

  var ok = document.createElement("div");
  ok.innerHTML = "OK";

  var cancel = document.createElement("div");
  cancel.innerHTML = "Cancel";

  foot.appendChild(ok);
  foot.appendChild(cancel);
  obj.appendChild(body);
  obj.appendChild(foot);

  document.getElementsByTagName("body")[0].appendChild(obj);

  ok.onclick = function(){
    return true;
  }

  cancel.onclick = function(){
    return false;
  }
} 
```

或者

```
returnValue = -1;
ok.onclick = function(){
  returnValue = true;
}

canacel.onclick = function(){
  returnValue = false;
}

while(true){
  if(returnValue !== -1) break;
}

return returnValue; 
```

如果此自定义确认功能必须像原始确认功能一样获得 1 个参数。

如何制作自定义确认功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:06:12.133

就个人而言，我会使用已经为此编写[的第三方对话框](http://twitter.github.com/bootstrap/javascript.html#modals)，编写一个 jQuery 插件，或者至少采用更面向对象的方法。就目前而言，您正在将一个`confirm`函数放在[全局命名空间](https://stackoverflow.com/questions/8862665/what-does-it-mean-global-namespace-would-be-polluted)中（其中一个`confirm`函数已经存在）。

另请注意，您不能停止页面的执行并等待类似`window.confirm`can 的响应。请参阅：[如何重现 JavaScript 的 confirm() 函数提供的“等待”功能？](https://stackoverflow.com/questions/3822118/how-can-i-reproduce-the-wait-functionality-provided-by-javascripts-confirm)（接受的答案是“你不能”）。

执行此类任务的可用方法是使用回调：

```
function customConfirm(message, resultCallback){

    ok.onclick = function(){

      // note that you can pass whatever you want to the callback
      // you are not limited to one parameter.
      resultCallback(true);
    }

    cancel.onclick = function(){
       resultCallback(false);
    }
} 
```

在上面的示例中，`resultCallback`是一个定义为响应确认框中的事件执行操作的函数。

您可以通过消息和回调传递一个对象以实现单个参数目标，但我怀疑真正的目标是替换`window.confirm`哪个（如所述）行为不同。

```
{ message: "foo", callback: function bar(status){ alert(status); } } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T06:06:51.683

在找到值之前，您不能让`confirm`函数停止，否则整个页面将冻结。在这种情况下，您需要提供一个**回调**，以便在单击任一按钮后执行（如果由于任何原因不能将其作为参数传递，则必须使用全局变量，或者可能是队列）：

```
var queue = [];
function confirm(msg){
  ...
  var callback = queue.shift();
  ok.onclick = function(){
    callback(true);
  }

  cancel.onclick = function(){
    callback(false);
  }
} 
```

你这样使用它：

```
queue.push(function(returnValue) {
    if ( returnValue ) {
       // Code for "yes"
    }
    else {
       // Code for "no"
    }
});
confirm("Are you sure?"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2022-02-09T07:08:51.787

就像我的情况一样，我使用 promise 来解决删除确认问题，这是代码

```
function deleteBook(id, elm) {
const container_alert = document.querySelector('.container-alert') 

alertMsg('Anda yakin ingin menghapus?').then(() => {
        // console.log('i love you');
        let index = books.findIndex(book => book.id == id);
        books.splice(index, 1)
        updateDataToStorage();
        elm.parentNode.parentNode.remove()

        container_alert.classList.add('hidden')
}).catch(() => {
    container_alert.classList.add('hidden')
}) 
```

}

我的警报功能代码如下

```
function alertMsg(msg) {
const container_alert = document.querySelector('.container-alert') 
const btn_yes = document.querySelector('.action-alert .yes')
const btn_cancel = document.querySelector('.action-alert .cancel')

container_alert.classList.remove('hidden')

return new Promise((resolve, reject) => {

    btn_yes.addEventListener('click', function(){
        resolve()  
    })

    btn_cancel.addEventListener('click', function(){
        reject()
    })
}) 
```

}

# itextsharp - iTextSharp - 查找页面结尾

> ID：15182947
> 
> 赞同：1
> 
> 时间：2013-03-03T06:02:11.770
> 
> 标签：itextsharp

有什么方法可以找到当前页面将在 iTextSharp 中结束。例如，

假设有大约 10 条记录需要在我希望添加的第一页末尾写下两页“（在下页续页”）。有没有办法做到这一点。找到页尾会是这个问题的答案，还是有办法找到完成写作的行号，以便我可以进行计算以决定是否添加我选择的消息并继续下一页.

任何建议都非常感谢:)

万分感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T04:51:12.087

如果您确实需要查找页尾，并且没有使用将在每页末尾打印的页脚行的表格，则可以使用以下`PdfWriter`对象：

```
var remainingPageSpace = pdfWriter.GetVerticalPosition(false) - pdfDocument.BottomMargin; 
```

这将为您提供页面上的剩余空间，您可以从中确定下一步要做什么。

但是，如果您使用的是表格数据，则最好使用 a`PdfPTable`并利用页脚行功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-03T09:56:11.570

通常，这是通过为表格定义页脚来完成的。当表格自动中断时，iText 将显示该页脚。当然：您不希望此页脚显示在最后一页（在表格的最后一行之后）。这就是为什么还有一种方法可以跳过最后一行。

[此示例](http://sourceforge.net/p/itextsharp/code/HEAD/tree/trunk/book/iTextExamplesWeb/iTextExamplesWeb/iTextInAction2Ed/Chapter04/HeaderFooter1.cs)向您展示如何创建带有页眉和页脚的表格。[这](http://sourceforge.net/p/itextsharp/code/HEAD/tree/trunk/src/core/iTextSharp/text/pdf/PdfPTable.cs#l1562)是 的链接`SkipLastFooter`。

请注意，说“查找行号”可以解决您的问题是错误的，原因有两个：

1.  PDF 文件中没有行号之类的东西。您有一个 MediaBox，并使用坐标在 MediaBox 定义的画布上绘制内容。
2.  将对象添加到文档*后*，有一种方法可以获取页面上的当前 Y 位置。您可以在添加表格*之前和添加表格**之后*获取 Y 位置，但不能在您仍在创建表格时获取。

我上面建议的另一种解决方案是使用表格事件。

# php - 将默认值设置为“创建表单”

> ID：15182948
> 
> 赞同：0
> 
> 时间：2013-03-03T06:02:20.323
> 
> 标签：php, forms, yii

我有一个名为 Form-1a 的创建表单，我想做的是创建一个 form-1a，当它创建并查看它时，将有一个链接添加一个名为 home visit 的新表单，现在我想要要做的是当我创建“家访”表单时，form-1a 中的某个字段将是创建家访表单的默认值......我的问题是如何做到这一点？我还没有开始做任何事情。

Form-1a->创建->创建->点击添加家访链接->家访的家庭代码中->在homevisit家庭代码中设置创建的form-1a家庭代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T14:30:46.457

我假设您将使用 Yii CModel 或 CActiveRecord 模型。如果是这样，在您在控制器中实例化它之后，将您想要的属性设置为默认设置。

您还可以在其`init`方法中为您的模型设置一些默认设置，默认情况下它将跨多个表单工作。

# javascript - JSON对象多实例（幻灯片效果）

> ID：15182953
> 
> 赞同：0
> 
> 时间：2013-03-03T06:02:53.530
> 
> 标签：javascript

我正在尝试使用纯 javascript 制作幻灯片插件，在我完成代码后，如果我只在一个 html 页面中使用一个幻灯片功能，一切都会好起来，但如果我想要多个，页面将崩溃，我的插件是打击：

```
var akulubala = {
"init_":{"speed":1000,
         "direction":"bottom",//direction 
         "mode":"fitful",//scroll mode durative or fitful
         "id":"akulubala_scroll",
         "auto_play":true,
         "style":{}
        },
"offset":null,
"margin_x":0,
"scroll_container":null,
"scroller":null,
"scroller_elements":0,
"intval_timer":null,
"time_out_timer":null,

 scroll : function(obj){
     if(typeof obj !=="undefined"){             
        for(var key in obj){
            if(this.init_.hasOwnProperty(key)){
                this.init_[key] = obj[key];
            }
        }
    }
    console.log(this);
    this.scroll_container = document.getElementById(this.init_.id);
    this.scroller = document.getElementById(this.init_.id+"_child");
    this.styleset(this.init_.style);
    this.run();
},
styleset:function(style){
  var default_style = {"margin":"0px","padding":"0px"};

  for(var key in default_style){
          this.scroll_container.style[key] = default_style[key];
          this.scroller.style[key] = default_style[key];    
  }

  function isEmpty(obj){
      for(var name in obj){
          return false;
      }
      return true;
  }
  //overflow
    if(style.overflow===true){
        this.scroll_container.style.overflow = "visible";
    }else{
        this.scroll_container.style.overflow = "hidden";
    }

  this.scroller_elements = this.scroller.children.length;

 if(this.init_.direction === "top" || this.init_.direction === "bottom"){         
        if(!isEmpty(style)){
            this.scroll_container.style.height = style.height;
            this.scroll_container.style.width = style.width;
            this.scroller.style.height =  this.scroller_elements*
parseInt(this.scroll_container.style.height.replace("px",""))+"px";
            this.scroller.style.width = style.width;

        }else{
            this.scroll_container.style.height = "20px";
            this.scroll_container.style.width = "200px";
            this.scroller.style.height = this.scroller_elements*20+"px";
            this.scroller.style.width = "200px";
        }

        if(this.init_.direction === "bottom"){
            this.scroller.style.position = "relative";                
            this.scroller.style.top = 
(0-(this.scroller_elements-1)*
parseInt(this.scroll_container.style.
height.replace("px","")))+"px";                
        }else{
            //this.scroller.style.cssFloat = "left";
        }            
        this.offset = parseInt(this.scroll_container.style.height.replace("px",""));
 }else{
        if(!isEmpty(style)){
            this.scroll_container.style.height = style.height;
            this.scroll_container.style.width = style.width;
            this.scroller.style.height = style.height;
            this.scroller.style.width = this.scroller_elements*
parseInt(this.scroll_container.style.width.replace("px",""))+"px";
        }else{
            this.scroll_container.style.height = "20px";
            this.scroll_container.style.width = "200px";
            this.scroller.style.height = "20px";
            this.scroller.style.width = this.scroller_elements*200+"px";
        }
        if(this.init_.direction === "right"){
            this.scroller.style.position = "relative";                
            this.scroller.style.left = 
(0-(this.scroller_elements-1)*parseInt(this.scroll_container.
style.width.replace("px","")))+"px";                
        }else{
            this.scroller.style.cssFloat = "left";
        }
         this.offset = parseInt(this.scroll_container.style.width.replace("px",""));
 }  
},
run :function(){

    if(this.init_.auto_play){
        this.intvalTimerStart();
    }else{
        this.waitTrigger();
    }
    this.holdEffect();
},
start:function(){
        this.move();
},
waitTrigger:function(){

},
move:function(){
    this.intvalTimerStop();
    clearTimeout(timer_out_timer);
    var speed = this.init_.speed,offset=this.offset,obj = this;
    var timer_out_timer = setTimeout(function(){
        obj.move();
    },this.init_.speed/this.offset);
    if(this.margin_x<this.offset){
        this.margin_x +=1;
    }else{        
        this.margin_x = 0;
        clearTimeout(timer_out_timer);
        if(this.init_.direction !== "bottom"){
            this.scroller.appendChild(this.scroller.children[0]);
        }else{
            this.scroller.insertBefore
(this.scroller.children[this.scroller_elements-1],this.scroller.childNodes[0]);
        }         
        this.intvalTimerStart();
    }
    this.effectWork();
    this.scroll_container.onmouseover = function(){
        clearTimeout(timer_out_timer);
    };       
    this.scroll_container.onmouseout = function(){
            timer_out_timer = setTimeout(function(){
                obj.move();
            },speed/offset);
    };
},
effectWork:function(){
    switch(this.init_.direction){
        case "top":
            this.scroller.style.marginTop = (0-this.margin_x)+"px" ; 
            break;
        case "bottom":
            this.scroller.style.top = 
this.margin_x-parseInt((this.scroller_elements-    1)*parseInt(this.
scroll_container.style.height.replace("px","")))+"px" ;
            break;
        case "left":
            this.scroller.style.marginLeft = (0-this.margin_x)+"px" ;
            break;
        case "right":
            this.scroller.style.marginLeft = this.margin_x+"px" ;
            break;
    }       
},
holdEffect:function(){
    var obj = this;
    this.scroll_container.onmouseover = (function(obj){
        obj.intvalTimerStop();
    })(obj);
    this.scroll_container.onmouseout = (function(obj){
        obj.intvalTimerStart();
    })(obj);
},
intvalTimerStart:function(){
    var obj = this;
    if(this.init_.mode==="durative"){
        this.intval_timer = setInterval(function(){
            obj.start();
        }, 0);
    }else{
        this.intval_timer = setInterval(function(){
            obj.start();
        }, this.init_.speed);
    }              
},
intvalTimerStop:function(){
    clearInterval(this.intval_timer);
    return false;
}    
}; 
```

.html 文件：

```
<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="./m_scroll.js" type="text/javascript" ></script>
    <style>
        #akulubala_scroll{
            cursor: pointer;
        }
        #akulubala_scroll_child li{
            list-style: none;
            height: 160px;
            width: 280px;
            float: left;
        }
        #example{
            cursor: pointer
        }
        #example_child li{
            list-style: none;
            float: left;
        }
    </style>
</head>
<body style="padding:10px">
    <div id="akulubala_scroll" style="border:1px solid black">
    <ul id="akulubala_scroll_child"> 
      <li><img src="1.jpg" /></li>
      <li><img src="2.jpg" /></li>
      <li><img src="3.jpg" /></li>
      <li><img src="4.jpg" /></li>
      <li><img src="5.jpg" /></li>
      <li><img src="6.jpg" /></li>              
    </ul>
    </div>
    <div id="example">
        <ul id="example_child">
            <li><a name="ime_hw" href="#">a</a></li>
            <li><a name="ime_py" href="#">b</a></li>
            <li class="ln">c</li>
            <li><a name="ime_cl" href="#">d</a></li>
        </ul>
    </div>        
    <script>
    akulubala.scroll({
        "id":"akulubala_scroll",
        "mode":"durative",
        "direction":"left",
        "speed":6000,
        "style":{
            "width":"280px",
            "height":"160px",
            "overflow":false
        }
    });
    //akulubala.scroll({
    //    "id":"example",
    //    "mode":"fitful",
    //    "direction":"left"
    // });  
    </script>
</body>
</html>

Again,if i only want frist ul scroll,nothing wrong with this,but if i want id#example also scroll,page will crash,thanks very much! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T12:06:05.117

```
question solved:
var akulubala = function(){
return {
"init_":{"speed":1000,
         "direction":"bottom",//direction 
         "mode":"fitful",//scroll mode durative or fitful
         "id":"akulubala_scroll",
         "auto_play":true,
         "style":{}
        },
"offset":null,
"margin_x":0,
"scroll_container":null,
"scroller":null,
"scroller_elements":0,
"intval_timer":null,
"time_out_timer":null,

 scroll : function(obj){
     if(typeof obj !=="undefined"){             
        for(var key in obj){
            if(this.init_.hasOwnProperty(key)){
                this.init_[key] = obj[key];
            }
        }
    }
    console.log(this);
    this.scroll_container = document.getElementById(this.init_.id);
    this.scroller = document.getElementById(this.init_.id+"_child");
    this.styleset(this.init_.style);
    this.run();
},
styleset:function(style){
  var default_style = {"margin":"0px","padding":"0px"};

  for(var key in default_style){
          this.scroll_container.style[key] = default_style[key];
          this.scroller.style[key] = default_style[key];    
  }

  function isEmpty(obj){
      for(var name in obj){
          return false;
      }
      return true;
  }
  //overflow
    if(style.overflow===true){
        this.scroll_container.style.overflow = "visible";
    }else{
        this.scroll_container.style.overflow = "hidden";
    }

  this.scroller_elements = this.scroller.children.length;

 if(this.init_.direction === "top" || this.init_.direction === "bottom"){         
        if(!isEmpty(style)){
            this.scroll_container.style.height = style.height;
            this.scroll_container.style.width = style.width;
            this.scroller.style.height = this.scroller_elements*
parseInt(this.scroll_container.style.height.replace("px",""))+"px";
            this.scroller.style.width = style.width;

        }else{
            this.scroll_container.style.height = "20px";
            this.scroll_container.style.width = "200px";
            this.scroller.style.height = this.scroller_elements*20+"px";
            this.scroller.style.width = "200px";
        }

        if(this.init_.direction === "bottom"){
            this.scroller.style.position = "relative";                
            this.scroller.style.top = (0-(this.scroller_elements-1)*parseInt
(this.scroll_container.style.height.replace("px","")))+"px";                
        }else{
            //this.scroller.style.cssFloat = "left";
        }            
        this.offset = parseInt(this.scroll_container.style.height.replace("px",""));
 }else{
        if(!isEmpty(style)){
            this.scroll_container.style.height = style.height;
            this.scroll_container.style.width = style.width;
            this.scroller.style.height = style.height;
            this.scroller.style.width =   this.scroller_elements*
parseInt(this.scroll_container.style.width.replace("px",""))+"px";
        }else{
            this.scroll_container.style.height = "20px";
            this.scroll_container.style.width = "200px";
            this.scroller.style.height = "20px";
            this.scroller.style.width = this.scroller_elements*200+"px";
        }
        if(this.init_.direction === "right"){
//                this.scroll_container.style.cssFloat = "right";
//                this.scroll_container.style.position = "absolute";
            this.scroller.style.position = "relative";                
            this.scroller.style.left = 
(0-(this.scroller_elements-    1)*
parseInt(this.scroll_container.style.width.replace("px","")))+"px";                
        }else{
            this.scroller.style.cssFloat = "left";
        }
         this.offset = parseInt(this.scroll_container.style.width.replace("px",""));
 }  
},
run :function(){

    if(this.init_.auto_play){
        this.intvalTimerStart();
    }else{
        this.waitTrigger();
    }
    this.holdEffect();
},
start:function(){
        this.move();
},
waitTrigger:function(){

},
move:function(){
    this.intvalTimerStop();
    clearTimeout(timer_out_timer);
    var speed = this.init_.speed,offset=this.offset,obj = this;
    var timer_out_timer = setTimeout(function(){
        obj.move();
    },this.init_.speed/this.offset);
    if(this.margin_x<this.offset){
        this.margin_x +=1;
    }else{        
        this.margin_x = 0;
        clearTimeout(timer_out_timer);
        if(this.init_.direction !== "bottom"){
            this.scroller.appendChild(this.scroller.children[0]);
        }else{
            this.scroller.insertBefore(
this.scroller.children[this.scroller_elements-1],this.scroller.childNodes[0]);
        }         
        this.intvalTimerStart();
    }
    this.effectWork();
    this.scroll_container.onmouseover = function(){
        clearTimeout(timer_out_timer);
    };       
    this.scroll_container.onmouseout = function(){
            timer_out_timer = setTimeout(function(){
                obj.move();
            },speed/offset);
    };
},
effectWork:function(){
    switch(this.init_.direction){
        case "top":
            this.scroller.style.marginTop = (0-this.margin_x)+"px" ; 
            break;
        case "bottom":
            this.scroller.style.top = 
this.margin_x-parseInt((this.scroller_elements-  1)*
parseInt(this.scroll_container.style.height.replace("px","")))+"px" ;
            break;
        case "left":
            this.scroller.style.marginLeft = (0-this.margin_x)+"px" ;
            break;
        case "right":
            this.scroller.style.marginLeft = this.margin_x+"px" ;
            break;
    }       
},
holdEffect:function(){
    var obj = this;
    this.scroll_container.onmouseover = (function(obj){
        obj.intvalTimerStop();
    })(obj);
    this.scroll_container.onmouseout = (function(obj){
        obj.intvalTimerStart();
    })(obj);
},
intvalTimerStart:function(){
    var obj = this;
    if(this.init_.mode==="durative"){
        this.intval_timer = setInterval(function(){
            obj.start();
        }, 0);
    }else{
        this.intval_timer = setInterval(function(){
            obj.start();
        }, this.init_.speed);
    }              
},
intvalTimerStop:function(){
    clearInterval(this.intval_timer);
    return false;
}    
};
} 
```

# c++ - 在编写迭代器和 const_iterator 时避免代码重复

> ID：15182963
> 
> 赞同：4
> 
> 时间：2013-03-03T06:05:43.713
> 
> 标签：c++, templates, stl, iterator, code-duplication

我正在尝试编写一个可以涵盖 const_iterator 和迭代器类的单个迭代器类，以避免代码重复。

在阅读其他一些问题时，我遇到了[这篇文章](https://stackoverflow.com/questions/2150192/how-to-avoid-code-duplication-implementing-const-and-non-const-iterators)，它提出了我想要的确切问题。最好的回应是[这篇文章](http://www.drdobbs.com/the-standard-librarian-defining-iterato/184401331)很好地解释了我需要在一段中做什么，但引用了我没有的书中的例子。我尝试实现所描述的内容如下：

```
 template<bool c=0> //determines if it is a const_iterator or not
      class iterator{
         typedef std::random_access_iterator_tag iterator_category;
         typedef T value_type;
         typedef T value_type;
         typedef std::ptrdiff_t difference_type;
         typedef (c ? (const T*) : (T*)) pointer; //problem line
         typedef (c ? (const T&) : (T&)) reference; //problem line
      public:
         operator iterator<1>(){ return iterator<1>(*this) }
         ...
      } 
```

我不知道如何使用三元运算符来确定 typedef。指定的行在 '?' 之前得到编译器错误“*预期的 ')' 令牌*”。我对文章的理解有误吗？

此外，它说要编写一个转换构造函数，以便我所有的 const 函数都可以转换非常量参数。这是否意味着程序在使用 const_iterators 时必须繁琐地为每个参数构造新的迭代器？这似乎不是一个非常理想的解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T06:18:07.790

三元运算符不适用于类型。您可以`std::conditional`改用：

```
typedef typename std::conditional<c ,const T*, T*>::type pointer; 
```

# hadoop - Hadoop MapReduce - 单个减速器负载很重

> ID：15182965
> 
> 赞同：1
> 
> 时间：2013-03-03T06:06:32.963
> 
> 标签：hadoop, mapreduce, hadoop-partitioning

我正在运行一个看起来像的猪脚本

```
<something>
<something>
B = GROUP A by bucketid PARALLEL 200;
C = FOREACH B {
      sorted = SORT A by field1, field2 ...;
      GENERATE FLATTEN(sorted);
    }
STORE C INTO 'output' USING MultiStorage(output, '8', 'gz'); 
```

该字段`bucketid`有 200 个不同的值，因此我将 PARALLEL 设置为 200，期望每个 reducer 处理一组。然而，一些 reducer 什么都不做，而其他 reducer 处理多个组。这背后的想法是什么？

我面临的真正问题是，一个减速器`R`落后于其他减速器，并且任务日志`merging 13GB of data`显示（并且减速器处于减速阶段）。但是，根据我的输入数据，我不希望`R`处理大量数据。完成后，它`R`生成的输出部分文件只有`350 MB`（gzip格式），如果我解压缩，它只会出现`6 GB`. 所以我想知道，为什么日志说`merging 13 GB of data`减速器正在运行。这背后有什么道理吗？我错过了什么吗？

# c# - CT cardic Dicom MPR, asp.net MVC c# 上传选项

> ID：15182967
> 
> 赞同：0
> 
> 时间：2013-03-03T06:06:49.903
> 
> 标签：c#, asp.net-mvc-3, session-variables, dicom

我的应用程序是 asp.net MVC3，我使用图像处理程序开发了一个 dicom 查看器，它运行良好，现在的挑战是 CT 心脏 MPR 图像，某些情况下超过 3000 张图像，我无法将它们打开到浏览器缓存中，我内存不足错误。作为一种解决方法，我当时只打开 10 个文件；它可以正常工作，但不能旋转（围绕所选轴逆时针旋转视图）。我在处理程序中使用以下脚本。

```
MemoryStream objMemoryStream = new MemoryStream();
objImage.Save(objMemoryStream, System.Drawing.Imaging.ImageFormat.Jpeg);
byte[] imageContent = new byte[objMemoryStream.Length];
objMemoryStream.Position = 0;
objMemoryStream.Read(imageContent, 0, (int)objMemoryStream.Length);
context.Response.ContentType = "image/jpeg";
context.Response.BinaryWrite(imageContent); 
```

我的问题是，最好将图像存储在会话变量中，还是将图像作为二进制数据存储在 sql 表中以加快上传速度？我会很感激你的建议，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T16:31:34.553

您可以通过将图像直接写入响应输出流来避免将图像加载到中间字节数组变量和 MemoryStream 中：

```
context.Response.ContentType = "image/jpeg";
objImage.Save(context.Response.OutputStream, System.Drawing.Imaging.ImageFormat.Jpeg); 
```

这将减少至少两倍的内存使用量。但我不确定我是否理解这里的真正问题，ASP.NET MVC 3 与您的问题有什么关系，以及将图像存储在 SQL Server 或 Session 中有何帮助。

# jquery - 使用 fancybox 显示弹出图像的问题

> ID：15182969
> 
> 赞同：1
> 
> 时间：2013-03-03T06:06:52.683
> 
> 标签：jquery, fancybox, fancybox-2

这是我在 Site.master 上的代码：

`<head runat="server"> <asp:ContentPlaceHolder ID="head" runat="server"></asp:ContentPlaceHolder>
</head>`

在 default.aspx 页面上，我有：

```
<asp:Content ID="Content1" ContentPlaceHolderID="head" Runat="Server">
<link href="fancybox/source/jquery.fancybox.css?v=2.1.4" rel="stylesheet" type="text/css" media="screen"/>
</asp:Content>
<asp:Content ID="BodyContent" runat="server" ContentPlaceHolderID="MainContent">
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="fancybox/source/jquery.fancybox.pack.js?v=2.1.4"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#gallery a').fancybox();
    });
</script>
<div class="gallery">
<a href="images/Books/hpcos.jpeg" rel="gallery">
<img src="images/Books/hpcos.jpeg" width="70" height="70" alt = "" />
</a>
<a href="images/Books/the_hobbit.jpeg" rel="gallery">
<img src="images/Books/the_hobbit.jpeg" width="70" height="70" alt = "" />
</a>
</div> 
```

当我单击图像时，页面仅加载图像。有人可以指出我哪里出错了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:41:02.760

您选择了错误的选择器，当前选择器代表 id 选择器，而在您的 div 中您已经定义了类。所以选择器应该如下所示：

```
$('.gallery a').fancybox(); 
```

这将解决您的问题。

# c++ - MFC 7.0 C++ 如何从 CImage 获取 CBitmap

> ID：15182971
> 
> 赞同：2
> 
> 时间：2013-03-03T06:07:37.067
> 
> 标签：c++, mfc

我想知道如何在 MFC 代码中从 CImage 获取 CBitmap。

问题是[MSDN](http://msdn.microsoft.com/en-US/library/bwea7by5%28v=VS.80%29.aspx)告诉我使用 CImage::m_hBitmap 从句柄生成 CBitmap。但不幸的是 CImage::m_hBitmap 是 CImage 私有的。我有什么不对吗？

来自 MSDN 的代码摘录：

```
CImage image;
// Code to create load/create image goes here
// ...
CBitmap* pBitmap = CBitmap::FromHandle(image.m_hBitmap); 
```

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T06:20:39.677

要从 m_hBitmap 获取句柄，请直接使用 CImage 对象。MSDN 上的联机帮助似乎没有正确更新。

MFC 开发人员添加了一个运算符 HBITMAP，因此从 CImage 到 HBITMAP 的转换无需用户干预即可工作。

可以访问头文件 atlimage.h 中的 m_hBitmap 的内联代码：

```
inline CImage::operator HBITMAP() const throw()
{
  return (m_hBitmap);
} 
```

为了有一个工作代码**imge.m_hBitmap**必须只替换为**图像**。

```
CImage image;
// Code to create load/create image goes here
// ...
CBitmap* pBitmap = CBitmap::FromHandle(image); 
```

而已。

**编辑**：我也找到了替代解决方案，[请参见此处](https://stackoverflow.com/questions/2490661/how-to-load-png-jpeg-images-using-mfc)。

# c++ - atoi() 只给出 0 结果

> ID：15182975
> 
> 赞同：-2
> 
> 时间：2013-03-03T06:09:29.783
> 
> 标签：c++

```
#include <iostream>
#include <math.h>
#include <iomanip>
#include <sstream>
#include <stdio.h>
#include <string>
#include <stdlib.h>
using namespace std;

int main()
{
    ostringstream str;
    double num = pow(2,1000);
    int sum = 0;

    str << setprecision(1000) << num;
    string here = str.str();

    cout << here << "\n\n";

    /*for(int i = 0; i < here.length(); i++)
    {
        sum += atoi(&here[i]);
    }*/

    cout << atoi(&here[0]);
    cout << atoi(&here[1]);
    cout << atoi(&here[2]);
} 
```

输出：

```
10715086071862673209484250490600018105614048117055336074437503883703510511249361
22493198378815695858127594672917553146825187145285692314043598457757469857480393
45677748242309854210746050623711418779541821530464749835819412673987675591655439
46077062914571196477686542167660429831652624386837205668069376

000 
```

为什么都是0？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-03T06:14:28.580

这就是[std::atoi](http://en.cppreference.com/w/cpp/string/byte/atoi)指示错误的方式。在这种情况下，错误是数组中的数值大于可能的最大整数（这在技术上是*未定义的行为*，`atoi`但您的实现显然将其视为任何其他错误）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-03T06:23:18.633

在这里冒险并假设您实际上不想使用[`std::atoi`](http://en.cppreference.com/w/cpp/string/byte/atoi). 如果要对字符串中的每个数字求和，则要将数字*字符*转换为其数字*值*。最快的方法是减去字符常量`'0'`。在您的循环中，只需使用：

```
for(int i = 0; i < here.length(); i++)
{
    sum += here[i] - '0';
} 
```

这是可能的，因为从字符串中的各种字符中减去 会`'0'`导致字符表示的数值。

```
'0' - '0' == 0
'1' - '0' == 1
'2' - '0' == 2
//etc
'9' - '0' == 9 
```

据我所记得，C++ 标准不强制任何特定的编码，但它确实指定数字字符必须是连续的，因此虽然当字符串仅包含数字时上述是安全的，但可能出现的其他字符的减法字符串会抛出你的结果：

```
'E' - '0' == ???
'.' - '0' == ???
'+' - '0' == ??? 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-03T06:15:01.670

`atoi`将字符串转换为整数（在您的平台上可能是 32 位或 64 位）。

您存储的数字`here`大于`INT_MAX`，因此`atoi`返回零：

> 成功时，函数将转换后的整数作为 int 值返回。如果无法执行有效转换，则返回零值。

**编辑**：实际上，甚至没有仔细阅读我自己的链接，显然在这种情况下这是未定义的行为

> 当转换后的值超出 int 的可表示值范围时会发生什么，没有标准规范。

来自[www.cplusplus.com](http://www.cplusplus.com/reference/cstdlib/atoi/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T20:46:44.537

' **here[0]** ' 以 char 形式返回 ' **here** ' 的第一个**字符**。

'&here[0]' 返回' **here[0] ' 的*****地址***。你不想要地址。'&' 用于获取变量的地址。

 ****std::atoi(here[0])**将**here**的第一个字符作为**char**返回，并将该**char**转换为**int** ...或者，如果 'atoi' 处理了字符，则将。它没有 - 它处理字符数组。给它一个字符可能不会编译。

**std::atoi(&here[0])**编译，但不是你想要的。atoi 将继续读取字符，直到达到空字符。

这意味着给定字符串“567321”：

*   std::atoi(&here[0]) 将返回“987654321”
*   std::atoi(&here [1](http://www.cplusplus.com/reference/string/string/substr/) ) 将返回“87654321”
*   std::atoi(&here [2](http://www.cplusplus.com/reference/string/stoi/?kw=stoi) ) 将返回“7654321”
*   std::atoi(&here[3]) 将返回“654321”
*   ... 等等。

如果你真的想对所有数字求和，并且需要使用 std::atoi()，那么你可以使用[std::string::substr](http://www.cplusplus.com/reference/string/string/substr/) () 来完成：

```
for(int i = 0; i < here.length(); i++)
{
    std::string subString = here.substr(i,1); //Returns a substring starting at 'i', and including 1 character 
    sum += atoi(subString.c_str());
} 
```

更好的方法是使用 @dreamlax 发布的方法...但是如果您正在学习字符串和 std::atoi，了解**std::string::substr** () 很重要。

如果您使用的是 C++11，则可以使用[std::stoi](http://www.cplusplus.com/reference/string/stoi/?kw=stoi)重写它：

```
for(int i = 0; i < here.length(); i++)
{
    std::string subString = here.substr(i,1); //Returns a substring starting at 'i', and including 1 character 
    sum += std::stoi(subString);
} 
```**

# javascript - 我的 Backbone 应用程序闪烁“白色”屏幕，因为我在开始新视图之前先删除了视图

> ID：15182976
> 
> 赞同：0
> 
> 时间：2013-03-03T06:10:20.903
> 
> 标签：javascript, backbone.js

我在使用 Backbone 时遇到了僵尸问题。（[http://lostechies.com/derickbailey/2011/09/15/zombies-run-managing-page-transitions-in-backbone-apps/](http://lostechies.com/derickbailey/2011/09/15/zombies-run-managing-page-transitions-in-backbone-apps/)）

所以，我跟着那个教程，它解决了我所有的问题。

基本上，教程说我需要先关闭一个视图（`this.close()`和`this.unbind()`），然后再开始一个新视图。

但是，在遵循本教程之后，出现了副作用。当我“关闭”时，我的应用程序删除了“el”并且页面上没有任何内容（屏幕为白色）。当新视图被渲染时，又有内容了。

以前，根本没有白色闪光，因为没有去除任何东西。（新的渲染模板替换旧的）。该网站以前似乎更快，但现在有一个闪光。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T06:43:59.280

为什么不在关闭旧视图之前先渲染视图：

1.  渲染新视图
2.  关闭旧视图

# c++ - 使用 boost::filesystem 递归地列出目录文件

> ID：15182980
> 
> 赞同：2
> 
> 时间：2013-03-03T06:11:14.523
> 
> 标签：c++, boost, runtime-error, boost-filesystem

由于类 recursive_directory_iterator （我不必编写递归代码），我正在使用新的 boost v1.5.3 来执行如下任务：

```
void ListDirRec(const char *Dir, vector<string>& DirFileList, const char* ext)
{    
recursive_directory_iterator rdi(Dir);  
recursive_directory_iterator end_rdi;

DirFileList.empty();

string ext_str0(ext);   
for (; rdi != end_rdi; rdi++)
{
    rdi++;
    //cout << (*di).path().string() << endl;
    cout << (*rdi).path().string() << endl;

    //cout << " <----- " << (*rdi).path().extension() << endl;

    //string ext_str1 = (*rdi).path().extension().string();
    if (ext_str0.compare((*rdi).path().extension().string()) == 0)
    {
        DirFileList.push_back((*rdi).path().string());
    }
} 
```

具有特定扩展名的函数列表文件。此函数适用于某些情况，但经常返回“断言失败错误”，例如：

```
**** Internal program error - .... assertion (m_imp.get()) ... operations.hpp(952): dereference of end recursive_directory_iterator 
```

我几乎没有弄清楚这个错误的原因。任何尝试..赶上帮助？提前感谢您的帮助

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-03T06:42:59.367

您`rdi`在循环内部以及`for`声明中递增：

```
for (; rdi != end_rdi; rdi++)
{
    rdi++; 
```

这意味着它`rdi`可能是`end_rdi`循环中的（结束迭代器，这意味着过去的最后一个元素）。你这样做有什么理由吗？`rdi != end_rdi`（如果这是故意的，您应该在增加它后再次检查以确保。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-07-01T19:10:20.300

你可以尝试这样的事情：

```
recursive_directory_iterator dir(path(Dir));
for(auto&& i : dir) {
    if (is_directory(i)) {
        //Do whatever you want
        cout << i << endl;
    }
} 
```

# asp.net - 动态添加 在 asp.net 中标记评论系统

> ID：15182990
> 
> 赞同：0
> 
> 时间：2013-03-03T06:13:05.973
> 
> 标签：asp.net, linq-to-sql

我正在为我的网页制作一个评论框，我设计了表单来获取用户名和评论并将其存储在数据库表中。我不知道如何在页面上呈现该数据。通过在表格上迭代并随后在页面上创建段落或通过在页面上创建标签。

我在 C# 中使用 LINQ to SQL。请告诉我如何在网页上的数据库中呈现评论或一些教程链接

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-03T10:50:39.057

我建议您了解**以及**如何**使用**数据控件，这些控件旨在用于*可以返回***多行** 并且数据以**相同格式****重复**的情况，例如您现在的格式（评论）。示例控件：

 ******   `GridView`
*   `ListView`
*   `Repeater`

在这里详细介绍每个控件不会回答您的问题，但很重要；无论如何，您都可以在网上轻松研究它。

对于这种情况，我建议您使用 ListView：

*   添加`ListView`到您的页面 - 您希望评论框所在的位置
*   使用**内部**的`ItemTemplate`标签来布局每个单独的评论将遵循的格式（所以你会在评论周围加上段落标签。列绑定的地方（例如实际评论），你使用代码：**`ListView``<p>`**

 **`<%# Eval("ColumnName") %>`

为了清楚起见，上面的代码在服务器上运行，因为它是一个**内联服务器标签**：您的 .aspx 文件中的代码由服务器运行。此代码由标记开头结尾的百分比符号表示，`<% %>`VS (Visual Studio) 以黄色突出显示。有不同类型的内联服务器标签，如第一个符号所示。在这种情况下，使用了哈希`#`，这意味着标签中的代码是一个**绑定表达式**。对于上面提到的所有数据控件，您将使用此符号将数据与内联服务器标签绑定。

例如（`ItemTemplate`不过，在您的 上使用更具语义的布局）：

```
<asp:ListView ID="LV_Comments" runat="server">
    <ItemTemplate>
        <b><%# Eval("Username") %></b>
        <br />
        <i><%# Eval("WhenPosted") %></i>
        <p><%# Eval("Comment") %></p>
    </ItemTemplate>        
</asp:ListView> 
```

*   现在您只需`DataSource`使用 L2S (LINQ to SQL) 将其设置为您的 Comments 表。我建议您创建一个**方法来执行此操作并在**`Page_Load` **事件**上调用该方法。并在添加新评论后调用该方法，因为默认情况下只有在没有回发的情况下才会绑定数据（见下文）。

设置数据源示例：

```
using (var db = new DataContext())
{
    LV_Comments.DataSource = from x in db.DT_Comments select new {
    Username = x.Name,
    x.Comment,
    WhenPosted = x.PostTime 
    };
    LV_Comments.DataBind();
} 
```

您将需要更改列的名称，`DataContext`显然。请注意我在哪里声明`SomeName = x.ColumnName`，我只是在`ListView`（此代码：）中更改我引用列名的内容`<%# Eval("SomeName") %>`；你不必这样做，就像你可以看到我没有评论列一样。

如何将此代码与**方法**和**事件**一起使用：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
        ListViewMethod();
}

private void ListViewMethod()
{
    // ListView data binding code here
}

protected void NewCommentButton_Click(object sender, EventArgs e)
{
    // Your code to add new comment
    ListViewMethod();
} 
```

请记住了解更多关于何时以及如何使用这些数据控件的更多功能的信息。就像您没有评论一样，您可能想告诉用户这一点。因此，您将在标签`EmptyItemTemplate`内部`ListView`（但在 ItemTemplate 外部）使用一个，如下所示：

```
<EmptyItemTemplate>
<i>No comments have been posted</i>
</EmptyItemTemplate> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-03T07:29:33.500

使用 HtmlGenericControl 你可以做到这一点。请参阅下面的示例

```
using System.Web.UI.HtmlControls;// add this namespace

HtmlGenericControl MyPtag = new HtmlGenericControl("p");
MyPtag.InnerText = "Your content inside P Tag";
Placeholder1.Controls.Add(MyPtag); 
```

您必须将其添加到如上所示的占位符，Placeholder1。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-03T07:40:05.403

假设您有一个`CommentsTable`列：

*   标识整数
*   用户名 varchar(50)
*   评论 nvarchar(5000)
*   日期创建日期时间

并且您的 LinqToSql 数据上下文是 myDataContext ，您可以这样做：

```
myDataContext db = new myDataContext();
var commentsData = db.CommentsTable.ToList();

string html=string.Empty;
foreach(var item in commentsData)
{
   html+="<div class='property-row'><div class='username'>"+item.Username+"</div>";
   html+="<div class='notice'>"+item.DateCreated.ToString("mm-dd-yyyy hh:mm")+"</div>"
   html+="<div class='comment'>"+item.Comment+"</div>";
}

Div1.InnerHtml= html; 
```

现在您可以通过适当地装饰设计器上的类来控制您的部分的外观，即用户名行及其下方的评论，即

```
.property-row
{
    position:relative;
    width:100%;
    background-color:#CCCCCC;
    border:1px solid Black;
}
.username
{
   position:relative:
   padding:2px;
   top:2px;
   font-size:0.8em;
   color:#333333;
   text-decoration:underline;
}
.comment
{
   position:relative;
   padding:2px;
   margin:2px;
   font-size:1em;
   color:black;
}
.notice
{
   font-size:0.7em;
} 
```*******

# rake - 如何从 Rake 中的 FileList 过滤和获取子列表？

> ID：15182993
> 
> 赞同：0
> 
> 时间：2013-03-03T06:13:33.017
> 
> 标签：rake, filtering

我不了解 Ruby，但*Rake*看起来很酷，所以我正在尝试使用它。

当我选择带有 的文件时`FileList["*.cpp"]`，有时我想从中过滤掉子列表。

对于源输入文件，

```
somefile.txt
a.cpp
MySome.cpp
Another.cpp
MySomeValue.cpp

newlist = FileList["*.cpp"].sublistByFiltering("*Value.cpp").sublistByFiltering("My*") 
```

并且`newlist`只显示`MySomeValue.cpp`。

我怎样才能做到这一点？

**更新**

该方法`sublistByFiltering`是我想象中的方法，我正在寻找当前 Rake 中的功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:44:39.960

我不确定您在哪里提出了这种`sublistByFiltering`方法，但我认为您正在寻找的是在多个`FileList`项目的内部数组之间进行交集。

```
a = FileList['*.cpp'].to_a
b = FileList['*Value.cpp'].to_a
a & b #=> files that are in both `a` and `b` 
```

但是，如果您预先知道所有模式，并且只是将它们组合起来，则可以将正则表达式传递给 FileList 构造函数：

```
FileList[/My.*Value\.cpp/] 
```

# css - Firefox 中的字体平滑

> ID：15182997
> 
> 赞同：11
> 
> 时间：2013-03-03T06:14:42.097
> 
> 标签：css, macos, firefox, fonts, rendering

使用 Google WebFonts（在本例中为“Oswald”），我发现我的字体被渲染得比应有的更粗。我已经在基于 webkit 的浏览器中使用以下方法解决了这个问题：

```
-webkit-font-smoothing: antialiased; 
```

但在 Firefox 中，我找不到控制它的声明。我听说过使用`text-shadow`hack 来解决这个问题，但我不想使用它，因为它无疑会改变字体的几何属性。

这是它在 webkit (Chrome) 中的样子：

![铬看起来不错](../Images/9f19b1c53cc3e9290e92c418572fa806.png)

由于 Firefox，这是块状可怕的渲染：

![火狐丑](../Images/c748e4e9024b3a8fac49c11d986dc6f9.png)

我知道有一种方法可以在 FireFox 中实现这一点，因为我在 font-combinator.com 上找到了这种字体，并且它在使用 Firefox 的 font-combinator 上正确呈现。这是通过 font-combinator.com 在 Firefox 上的样子：

![在 Font-combinator.com 上使用 Firefox](../Images/e365e49f5b1237403195d75b5858a554.png)

浏览用于创建字体组合器的 css 后，我发现了这个声明：`text-rendering: optimizelegibility;`，但这在应用于我的元素时不起作用。

我也试过：

```
text-rendering: optimizeLegibility;
text-rendering: geometricPrecision;
font-smooth: always;
font-smooth: never;
font-smoothing: antialiased;
-moz-font-smoothing: antialiased; 
```

如何让 Firefox 对我的字体进行抗锯齿处理，以便它们在显示时看起来正确？你能找到使它们在 www.font-combinator.com 上正确显示的声明或声明组合吗？

我使用的是相对旧版本的 FireFox (16.0.2)，因为这台机器安装了旧版本的 OSX。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-08-19T09:56:36.973

这只是 OSX 上的 Firefox 问题...

我刚刚回答了这个问题：[How to antialias SVG text in Firefox](https://stackoverflow.com/questions/14409647/how-to-antialias-svg-text-in-firefox/18310579#18310579) with a possible solution form your question。

我认为您可以使用以下属性：

```
-moz-osx-font-smoothing: grayscale; 
```

这将与 firefox 25 一起发布（可以在[http://nightly.mozilla.org/](http://nightly.mozilla.org/)找到每晚构建的版本）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-07T13:21:51.027

您是否尝试过声明数字字体粗细而不仅仅是“正常”或“粗体”？在不同的浏览器中呈现网络字体有很多差异。

尝试将 {font-weight: 400;} 设置为普通文本，将 {font-weight: 700;} 设置为粗体。

# javascript - 将javascript更改为静态

> ID：15182998
> 
> 赞同：-2
> 
> 时间：2013-03-03T06:14:49.980
> 
> 标签：javascript, jquery, html

我有以下 javascript 代码给我下拉菜单。我不希望它下拉菜单。我希望它默认显示所有菜单我应该删除什么。请帮忙。

```
function DropDown(el) {
    this.dd = el;
    this.placeholder = this.dd.children('span');
    this.opts = this.dd.find('ul.dropdown > li');
    this.val = '';
    this.index = -1;
    this.initEvents();
}
DropDown.prototype = {
    initEvents: function () {
        var obj = this;
        obj.dd.on('click', function (event) {
            $(this).toggleClass('active');
            return false;
        });
        obj.opts.on('click', function () {
            var opt = $(this);
            obj.val = opt.text();
            obj.index = opt.index();
            obj.placeholder.text(obj.val);
        });
    },
    getValue: function () {
        return this.val;
    },
    getIndex: function () {
        return this.index;
    }
}
$(function () {
    var dd = new DropDown($('#dd'));
    $(document).click(function () {
        // all dropdowns
        $('.wrapper-dropdown-3').removeClass('active');
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T06:20:08.687

消除

```
obj.dd.on('click', function(event){
      $(this).toggleClass('active');
       return false;
 }); 
```

## 更新

`active`并通过更改`var dd = new DropDown( $('#dd') );`为添加类`var dd = new DropDown( $('#dd').addClass('active') );`

另外，如果您不希望它在单击文档时隐藏，请同时删除以下内容。

```
$(document).click(function() {
    // all dropdowns
    $('.wrapper-dropdown-3').removeClass('active');
}); 
```