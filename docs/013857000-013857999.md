# StackOverflow 问答 13857000-13857999

# java - 只有当它是主要活动时，Android 活动才能正常工作？

> ID：13857000
> 
> 赞同：1
> 
> 时间：2012-12-13T09:41:29.443
> 
> 标签：java, android, android-intent, android-activity

当我将一个活动设置为启动器时，它可以正常工作，但是当我从另一个活动启动此活动时，它会以显示方式正常打开，某些功能可以正常工作而有些不能？！对我来说很困惑。

基本上，如果我打开它，因为启动器数据可以通过串行发送和接收。但是，如果我从另一个活动中打开它，则绝对废话会通过串行发送，并且什么都没有返回。但是某些部分可以工作，例如建立串行连接？！

在启动活动中，这是打开我想要的活动的代码：

```
public void openTextTerminal(View view)
{
    Intent intent = new Intent(this, TextBoxActivity.class);
    startActivity(intent);      
} 
```

这是清单：（我认为我什至不需要意图过滤器？！）

```
<activity
        android:name="com.example.TextBoxActivity"
        android:label="@string/title_activity_text_box" >

        <intent-filter>
            <action android:name="android.intent.action.TextBoxActivity" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>

</activity> 
```

完整清单：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example"
android:installLocation="auto"
android:versionCode="49"
android:versionName="1.0.48" >

<uses-sdk
    android:minSdkVersion="12"
    android:targetSdkVersion="12" />

<uses-feature
    android:name="android.hardware.touchscreen"
    android:required="false" />

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.WAKE_LOCK" />

<permission
    android:name="com.example.permission.RUN_SCRIPT"
    android:description="@string/permdesc_run_script"
    android:label="@string/perm_run_script"
    android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
    android:protectionLevel="dangerous" />
<permission
    android:name="com.example.permission.APPEND_TO_PATH"
    android:description="@string/permdesc_append_to_path"
    android:label="@string/perm_append_to_path"
    android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
    android:protectionLevel="dangerous" />
<permission
    android:name="com.example.permission.PREPEND_TO_PATH"
    android:description="@string/permdesc_prepend_to_path"
    android:label="@string/perm_prepend_to_path"
    android:permissionGroup="android.permission-group.SYSTEM_TOOLS"
    android:protectionLevel="dangerous" />

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/application_terminal" >
    <activity
        android:name="com.example.Term"
        android:configChanges="keyboard|keyboardHidden|orientation"
        android:launchMode="singleTask"
        android:theme="@style/Theme"
        android:windowSoftInputMode="adjustResize|stateAlwaysVisible" >
        <intent-filter>
            <action android:name="android.intent.action.TERM" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>

    <activity-alias
        android:name="com.example.TermInternal"
        android:exported="false"
        android:targetActivity="Term" >
        <intent-filter>
            <action android:name="com.example.private.OPEN_NEW_WINDOW" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
        <intent-filter>
            <action android:name="com.example.private.SWITCH_WINDOW" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity-alias>

    <activity
        android:name="com.example.RemoteInterface"
        android:excludeFromRecents="true" >
        <intent-filter>
            <action android:name="com.example.OPEN_NEW_WINDOW" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity>

    <activity-alias
        android:name="com.example.RunScript"
        android:permission="com.example.permission.RUN_SCRIPT"
        android:targetActivity="RemoteInterface" >
        <intent-filter>
            <action android:name="com.example.RUN_SCRIPT" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
    </activity-alias>

    <activity
        android:name="com.example.TermPreferences"
        android:label="@string/preferences" />
    <activity
        android:name="com.example.WindowList"
        android:label="@string/window_list" />

    <service android:name="com.example.TermService" />

    <activity
        android:name="com.example.MainActivity"
        android:label="@string/title_activity_main" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    <activity
        android:name="com.example.TextBoxActivity"
        android:label="@string/title_activity_text_box" >

        <intent-filter>
            <action android:name="android.intent.action.TextBoxActivity" />

            <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>

    </activity>
    <activity
        android:name="com.example.SerialTerminalActivity"
        android:label="@string/title_activity_serial_terminal"
        android:screenOrientation="landscape" >
    </activity>
</application>

</manifest> 
```

我自己复制了一个程序中的代码（即使用一个活动来启动第二个活动而没有我的其他不相关的类）并且它工作正常。我只是复制和粘贴。我对所有文件进行了比较，据我所知，实际上没有什么不同，只是清单中不相关的东西。明天我将检查整个清单（我花了一整天的时间调试只是为了找到这个错误）并重写它或其他东西。

我只是好奇如何看起来一切正常，但事实并非如此。我会认为一旦我启动了活动，无论我如何启动它，一切都是一样的（因为我什么都没传递）。

可能传递了错误的上下文，这是完整的代码：

```
public class MainActivity extends Activity implements OnClickListener,       OnItemSelectedListener, AdapterConnectionListener, DataListener{

private Spinner mBaudSpinner;
private Spinner mDataSpinner;
private Spinner mParitySpinner;
private Spinner mStopSpinner;
private Spinner mDeviceSpinner;
private Button mConnect;
private ArrayList<String> mDeviceOutputs;
private ArrayList<USB2SerialAdapter> mDeviceAdapters;
private ArrayAdapter<CharSequence> mDeviceSpinnerAdapter;
private USB2SerialAdapter mSelectedAdapter;
private TextView mCurrentSettings;

private Button mUpdateSettings;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    setContentView(R.layout.activity_main);

    mConnect = (Button)findViewById(R.id.deviceConnect);
    mConnect.setOnClickListener(this);
    mUpdateSettings = (Button)findViewById(R.id.updateSettings);
    mUpdateSettings.setOnClickListener(this);

    mBaudSpinner = (Spinner)findViewById(R.id.baudSpinner);
    ArrayAdapter<CharSequence> adapter = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    mBaudSpinner.setAdapter(adapter);
    String[] tempArray = SlickUSB2Serial.BAUD_RATES;
    for(int i=0;i<tempArray.length;i++) 
    {
        adapter.add(tempArray[i]);
    }
    mBaudSpinner.setSelection(SlickUSB2Serial.BaudRate.BAUD_9600.ordinal());

    mDataSpinner = (Spinner)findViewById(R.id.dataSpinner);
    adapter = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    mDataSpinner.setAdapter(adapter);
    tempArray = SlickUSB2Serial.DATA_BITS;
    for(int i=0;i<tempArray.length;i++)
    {
        adapter.add(tempArray[i]);

    }
    mDataSpinner.setSelection(SlickUSB2Serial.DataBits.DATA_8_BIT.ordinal());

    mParitySpinner = (Spinner)findViewById(R.id.paritySpinner);
    adapter = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    mParitySpinner.setAdapter(adapter);
    tempArray = SlickUSB2Serial.PARITY_OPTIONS;
    for(int i=0;i<tempArray.length;i++)
    {
        adapter.add(tempArray[i]);

    }
    mParitySpinner.setSelection(SlickUSB2Serial.ParityOption.PARITY_NONE.ordinal());

    mStopSpinner = (Spinner)findViewById(R.id.stopSpinner);
    adapter = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item);
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    mStopSpinner.setAdapter(adapter);
    tempArray = SlickUSB2Serial.STOP_BITS;
    for(int i=0;i<tempArray.length;i++)
    {
        adapter.add(tempArray[i]);

    }
    mStopSpinner.setSelection(SlickUSB2Serial.StopBits.STOP_1_BIT.ordinal());

    mDeviceAdapters = new ArrayList<USB2SerialAdapter>();
    mDeviceOutputs = new ArrayList<String>();

    mDeviceSpinner = (Spinner)findViewById(R.id.deviceSpinner);
    mDeviceSpinnerAdapter = new ArrayAdapter<CharSequence>(this, android.R.layout.simple_spinner_item);
    mDeviceSpinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    mDeviceSpinner.setAdapter(mDeviceSpinnerAdapter);
    mDeviceSpinner.setOnItemSelectedListener(this);

    mCurrentSettings = (TextView)findViewById(R.id.currentSettings);

    SlickUSB2Serial.initialize(this);

}

public void openTerminal(View view) {
    // Do something in response to button
    Intent intent = new Intent(this, Term.class);
    startActivity(intent);
}

public void openTextTerminal(View view) {
    // Do something in response to button
    Intent intent = new Intent(this, TextBoxActivity.class);
    startActivity(intent);

}

public void openSerialTerminal(View view) {
    // Do something in response to button
    Intent intent = new Intent(this, SerialTerminalActivity.class);
    startActivity(intent);

}

@Override
public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
    // TODO Auto-generated method stub
    changeSelectedAdapter(mDeviceAdapters.get(position));
}

@Override
public void onNothingSelected(AdapterView<?> arg0) {
    // TODO Auto-generated method stub
}

public void changeSelectedAdapter(USB2SerialAdapter adapter){
    Toast.makeText(this, "in changeselectedadapter", Toast.LENGTH_SHORT).show();
    //if(mSelectedAdapter!=null){
        //mDeviceOutputs.set(mDeviceSpinnerAdapter.getPosition(mSelectedAdapter.getDeviceId()+""),mReceiveBox.getText().toString());

    mSelectedAdapter = adapter;
    mBaudSpinner.setSelection(adapter.getBaudRate().ordinal());
    mDataSpinner.setSelection(adapter.getDataBit().ordinal());
    mParitySpinner.setSelection(adapter.getParityOption().ordinal());
    mStopSpinner.setSelection(adapter.getStopBit().ordinal());

    updateCurrentSettingsText();

    //mReceiveBox.setText(mDeviceOutputs.get(mDeviceSpinner.getSelectedItemPosition()));
    Toast.makeText(this, "Adapter switched toooo: "+adapter.getDeviceId()+"!", Toast.LENGTH_SHORT).show();
}

@Override
public void onClick(View v) {

    if(v==mConnect){
        SlickUSB2Serial.autoConnect(this);
        if(mSelectedAdapter==null){
            Toast.makeText(this, "no adapters detected", Toast.LENGTH_SHORT).show();
            return;
            //String data = mSendBox.getText().toString() + "\r\n";
        //  mSelectedAdapter.sendData(data.getBytes());
            //mSendBox.setText("");

            }

        Intent intent = new Intent(this, SerialTerminalActivity.class);
        startActivity(intent);
    }

    else if(v==mUpdateSettings){
        if(mSelectedAdapter==null){
            return;
        }

        mSelectedAdapter.setCommSettings(BaudRate.values()[mBaudSpinner.getSelectedItemPosition()],
                DataBits.values()[mDataSpinner.getSelectedItemPosition()],
                ParityOption.values()[mParitySpinner.getSelectedItemPosition()],
                StopBits.values()[mStopSpinner.getSelectedItemPosition()]);

        updateCurrentSettingsText();
        Toast.makeText(this, "Updated Settings", Toast.LENGTH_SHORT).show();

    }

}

@Override
public void onAdapterConnected(USB2SerialAdapter adapter) {
    adapter.setDataListener(this);
    mDeviceAdapters.add(adapter);
    mDeviceOutputs.add("");
    mDeviceSpinnerAdapter.add(""+adapter.getDeviceId());
    mDeviceSpinner.setSelection(mDeviceSpinnerAdapter.getCount()-1);

    Toast.makeText(this, "Adapter: "+adapter.getDeviceId()+" Connected!", Toast.LENGTH_SHORT).show();
    //Toast.makeText(this, "Baud: "+adapter.getBaudRate()+" Connected!", Toast.LENGTH_SHORT).show();
}

@Override
public void onAdapterConnectionError(int error, String msg) {
    // TODO Auto-generated method stub
    if(error==AdapterConnectionListener.ERROR_UNKNOWN_IDS){
        final AlertDialog dialog = new AlertDialog.Builder(this)
        .setIcon(0)
        .setTitle("Choose Adapter Type")
        .setItems(new String[]{"Prolific", "FTDI"}, new   DialogInterface.OnClickListener()
        {
            public void onClick(DialogInterface dialog, int optionSelected){
                if(optionSelected==0)
                    {
                        SlickUSB2Serial.connectProlific(MainActivity.this); 
                    }
                else
                    {
                            SlickUSB2Serial.connectFTDI(MainActivity.this);     
                    }       
            }
        }).create();
        dialog.show();
        return;
    }
    Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();
}

private void updateCurrentSettingsText(){
    mCurrentSettings.setText("Current Settings Areeee:     "+mBaudSpinner.getSelectedItem().toString()
            +", "+mDataSpinner.getSelectedItem().toString()
            +", "+mParitySpinner.getSelectedItem().toString()
            +", "+mStopSpinner.getSelectedItem().toString());
    }

@Override
public void onDataReceived(int arg0, byte[] arg1) {
    // TODO Auto-generated method stub
    Toast.makeText(this, "IN ONDATARECIEVED OHOH", Toast.LENGTH_SHORT).show();
}

public void onDestroy() {
    SlickUSB2Serial.cleanup(this);
    super.onDestroy();
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:53:05.973

在这里，您已将**其**用于上下文，首先您应该了解不同的上下文。

*   `this`指您当前的对象。在您的情况下，您必须在内部类或某些 ClickEvent 中实现了意图，这就是它所指向的。

*   `Activity.this`指向您当前所在的 Activity 实例。

*   `getApplicationContext()`指应用程序的上下文。

现在，如果`this`上下文直接在`oncreate()`Activity 的下方，而不是在任何其他类或某些按钮的`onClick()`事件中，那么它与 Activity 的上下文相同。

但是`getApplicationContext()`当同一个活动结束时，最好使用 ，因为活动的上下文消失了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:55:48.743

我在启动活动的 onCreate() 中找到了罪魁祸首，它是一个库调用。我所要做的就是将它从启动活动转移到被调用活动。这将教会我盲目地遵循 API 说明。

So I had *SlickUSB2Serial.initialize(this);* in the wrong activity.

```
initialize(android.content.Context context) 
initialize must be called when your app first starts up (in onCreate). 
```

# android - 如何通过浏览在 sqllite 数据库中添加图像？

> ID：13857005
> 
> 赞同：0
> 
> 时间：2012-12-13T09:42:02.827
> 
> 标签：android

我按照这个[教程](http://androidhub4you.blogspot.com/2012/09/hello-friends-today-i-am-going-to-share.html)

再次在数据库中添加相同的图像 n 再次我想通过浏览图库添加我自己选择的新图像并上传并保存到数据库

代码的输出看起来像[这样](http://imgur.com/u7wCK)

我在`main.xml`称为浏览按钮中添加了新按钮。并设置打开图库的功能，但如何将浏览图像上传到数据库？帮帮我，我想从画廊添加我自己的 img 如何使用 et 代码添加数据库我的画廊图片？

```
 import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.ListView;

 public class SQLiteDemoActivity extends Activity {
private static final int SELECT_PICTURE = 1;
ArrayList<Contact> imageArry = new ArrayList<Contact>();
ContactImageAdapter adapter;
Button BrowseButton;

 /** Called when the activity is first created. */
 @Override
 public void onCreate(Bundle savedInstanceState) {
 super.onCreate(savedInstanceState);
 setContentView(R.layout.main);

 DataBaseHandler db = new DataBaseHandler(this);
//get image from drawable
Bitmap image = BitmapFactory.decodeResource(getResources(),
R.drawable.facebook);

BrowseButton=(Button)findViewById(R.id.BrowseButton);

BrowseButton.setOnClickListener(new View.OnClickListener() {

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
     // in onCreate or any event where your want the user to
    // select a file
    Intent intent = new Intent();
    intent.setType("image/*");
    intent.setAction(Intent.ACTION_GET_CONTENT);
    startActivityForResult(Intent.createChooser(intent,
            "Select Picture"), SELECT_PICTURE);

 }
});

//convert bitmap to byte
 ByteArrayOutputStream stream = new ByteArrayOutputStream();
 image.compress(Bitmap.CompressFormat.JPEG, 100, stream);
 byte imageInByte[] = stream.toByteArray();
/**
* CRUD Operations
* */
//Inserting Contacts
Log.d("Insert: ", "Inserting ..");
db.addContact(new Contact("FaceBook", imageInByte));
//display main List view bcard and contact name

//Reading all contacts from database
List<Contact> contacts = db.getAllContacts();
for (Contact cn : contacts) {
String log = "ID:" + cn.getID() + " Name: " + cn.getName()
+ " ,Image: " + cn.getImage();

//Writing Contacts to log
Log.d("Result: ", log);
 //add contacts data in arrayList
imageArry.add(cn);

}
adapter = new ContactImageAdapter(this, R.layout.screen_list,
imageArry);
ListView dataList = (ListView) findViewById(R.id.list);
dataList.setAdapter(adapter);
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T09:47:21.277

不要尝试将图像保存在数据库中。将图像保存到外部存储中，并将它们的路径保存在数据库中。

# python - 在 django 中使用 Pre_delete 信号

> ID：13857007
> 
> 赞同：13
> 
> 时间：2012-12-13T09:42:04.283
> 
> 标签：python, django, django-models, django-signals

在我的应用程序中，我想跟踪所有被删除的问题。所以我在我的模型文件中创建了一个类（表）。

```
class Deleted(models.Model):
question = models.IntegerField(null=True, blank=True)#id of question being deleted
user = models.IntegerField(null=True, blank=True)#id of user deleting the question
dt = models.DateTimeField(null=True, blank=True)#time question is deleted 
```

当用户尝试删除问题时调用此删除函数：

```
def delete_questions(request, user, questions):
  for q in questions:
        q.delete() 
```

我的疑问是如何制作 django 的 pre_delete 信号来填充我创建的新表。

〜新手尝试繁重的任务〜在此先感谢:)

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-12-13T10:41:11.240

您首先定义要使用的[接收器：](https://docs.djangoproject.com/en/dev/topics/signals/#django.dispatch.receiver)

```
def log_deleted_question(sender, instance, using, **kwargs):
    d = Deleted()
    d.question = instance.id
    d.dt = datetime.datetime.now() # consider using auto_now=True in your Deleted definition
    # not sure how you'd get the user via a signal, 
    # since it can happen from a number of places (like the command line)
    d.save() 
```

然后定义你的接收器装饰器：

```
from django.db.models.signals import pre_delete
from django.dispatch import receiver

@receiver(pre_delete, sender=Question, dispatch_uid='question_delete_log') 
```

完全添加它：

```
from django.db.models.signals import pre_delete
from django.dispatch import receiver

@receiver(pre_delete, sender=Question, dispatch_uid='question_delete_signal')
def log_deleted_question(sender, instance, using, **kwargs):
    d = Deleted()
    d.question = instance.id
    d.dt = datetime.datetime.now() 
    d.save() 
```

您可以将此函数放入您的`models.py`文件中，因为您知道它将正确加载和连接。

但是，问题是您没有让用户请求删除。因为可以从 django api（命令行、shell 等）触发删除，它没有与之关联的请求。出于这个原因，如果将用户与删除一起存储绝对至关重要，那么您可能希望避免使用信号。

# jquery - 带有 ASP.net 的 Jquery 错误消息无法与 div 中的两个验证器一起使用

> ID：13857011
> 
> 赞同：0
> 
> 时间：2012-12-13T09:42:15.217
> 
> 标签：jquery, asp.net, validation

嗨，我有一些 jquery 代码检查 asp 验证器是否有 style="display:inline" 如果有，我将错误类添加到作为 div 的错误父级。

但是当我有两个验证器时，这不起作用。这是为什么？这是代码

```
////////// Add Error Class  ////////////////

addErrorClass: function (obj) {

    if ($(obj).parent().find('.errorMessage').parent().css("display") == "inline") {

        $(obj).parent().addClass("error");

    } else {
        $(obj).parent().removeClass("error");
    }

},

////////// Add Error Class /////////////

////////// Validate Form Fields /////////////

ValidateFF: function () {

    $('.required input').blur(function () {

        project.addErrorClass(this);
        if ($(".modal").length) {
            Spacedadi_UI.AdjustRadWindow();
        };

    });

    $('#btnSave').click(function () {

        $('.required input').each(function (index) {

            // Force ASP Validation before click event when using link buttons

            var cErrorID = $(this).parent().find("span").attr('id');
            ValidatorEnable(document.getElementById(cErrorID), true);

            project.addErrorClass(this);

            if ($(".modal").length) {
                project.AdjustRadWindow();
            };
        }); //end of click

        if ($(".modal").length) {
            project.AdjustRadWindow();
        };

    }); // end validate function

},
////////// Validate Form Fields ///////////// 
```

HTML 代码

```
 <div class="field required"><asp:Label ID="lbEmail" runat="server" CssClass="label" Text="Email" AssociatedControlID="tbEmail"></asp:Label>
            <asp:TextBox ID="tbEmail" runat="server"></asp:TextBox>

            <asp:RequiredFieldValidator ID="rfvEmail" runat="server" errorMessage="<span class='errorMessage'>Please enter an email address</span>"
                ControlToValidate="tbEmail" CssClass="" ValidationGroup="ValAddContact"
                Display="Dynamic"></asp:RequiredFieldValidator>

            <asp:RegularExpressionValidator ID="revtbEmail" runat="server" ValidationExpression="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"
                ControlToValidate="tbEmail" errorMessage="<span class='errorMessage'>Invalid Email Format</span>" ValidationGroup="ValAddContact"
                CssClass=""></asp:RegularExpressionValidator>
        </div> 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:07:51.123

I'm not really sure about ASP.NET, but have you tried inspecting the HTML on the page to see if it's renamed anything you're relying on? I seem to remember ASP renaming IDs and Names of elements to ensure they're unique.

You could also try using .hasClass('errorMessage') instead of find(...).

Does the button click event actually fire in the first place?

# memory-management - 内存使用率过高时重新启动 python 脚本

> ID：13857014
> 
> 赞同：0
> 
> 时间：2012-12-13T09:42:34.363
> 
> 标签：memory-management, python-2.7

我有一个用 python 编写的服务器，当偶尔有某些输入进入时，它会使用大量 RES 内存。让那个 python 脚本持续占用这么多 RAM 会很烦人，因为我们在同一台机器上运行了很多其他的东西. 我做了一些研究，发现将这些内存释放回操作系统的唯一可靠方法是退出进程。因此，我希望能够在处理每个输入后检测到自己使用过多内存时重新启动 python 脚本。

我尝试了以下技巧来重新加载该进程，但发现该进程在重新加载后仍然使用尽可能多的 RAM。没有进行清理。

```
os.execl(sys.executable, sys.executable, * sys.argv) 
```

是否有另一种干净的方法来重新启动 python 脚本而不继承所有这些 RAM 使用情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T20:55:54.473

我自己其实也有类似的情况。我还没有想出一个解决方案，但你可以做的是制作一个 bash 脚本或 .bat 文件，在脚本完成时重新启动它。这很可能不会继承所有的 RAM，因为 python 本身退出然后重新启动。

```
os.execl(sys.executable, sys.executable, * sys.argv) 
```

这不起作用，因为当您调用 os.execl 时，它会在原始 python 脚本中生成一个新进程并等待该进程完成，然后退出。这就是它“继承” RAM 的原因，因为它仍在后台运行并且尚未退出。

# cordova - 将 Sencha 的 bas64 回调响应写入 File.writer Phonegap 问题

> ID：13857015
> 
> 赞同：1
> 
> 时间：2012-12-13T09:42:43.577
> 
> 标签：cordova, ios6, sencha-touch-2

我正面临一个关于从 Rest 服务解码 response.responseText 的问题（该工作是向我发送一个 cert.p12 文件）。

所以我能够得到我的数据

```
var obj = Ext.JSON.decode(response.responseText); 
```

那么这个数据是一个base64对象，我想解码并写入我的文件。

我尝试了几个 javascript 解码器但没有运气，cordova writer.write 方法不起作用，而尝试编写我的文件但没有解码方法有效（但不是有效文件）。

有人可以帮我找到一种方法来解码我的文件吗？这是我打给其余服务的电话

```
Ext.Ajax.request({
            url: 'https://certtest.idshost.fr/restgetcertificate.php',
            method: 'POST',
            withCredentials: false,
            useDefaultXhrHeader: false,

            params: Ext.JSON.encode(data),
            callback: function(options, success, response) {

                if (success) {
                    var obj = Ext.JSON.decode(response.responseText);
                    localStorage.setItem('certif', obj.certbase64encoded);
                } else{
                    Ext.Msg.alert('Fail', 'marche pas');
                }
            }
        }); 
```

文件 API 函数

```
 toto:function(obj){

       console.log('entree toto');
       var ba64 =obj.certbase64encoded;
       var decode = decode64(ba64);
        window.requestFileSystem(LocalFileSystem.PERSISTENT, 5*1204*1024, gotFS, fail);

    function gotFS(fileSystem) {
       console.log("getfile");
        fileSystem.root.getFile("cert.p12", {create: true}, gotFileEntry, fail);
    }

    function gotFileEntry(fileEntry) {
       console.log("create file");
        fileEntry.createWriter(gotFileWriter, fail);
    }

    function gotFileWriter(writer) {
        writer.write(decode);

    }

       }
    function fail(error) {
        console.log(error.code);
    }

       } 
```

我的解码器功能

```
function decode64(input) {
  var keyStr = "ABCDEFGHIJKLMNOP" +
               "QRSTUVWXYZabcdef" +
               "ghijklmnopqrstuv" +
               "wxyz0123456789+/" +
               "=";
     var output = "";
     var chr1, chr2, chr3 = "";
     var enc1, enc2, enc3, enc4 = "";
     var i = 0;

     // remove all characters that are not A-Z, a-z, 0-9, +, /, or =
     var base64test = /[^A-Za-z0-9\+\/\=]/g;
     if (base64test.exec(input)) {
        alert("There were invalid base64 characters in the input text.\n" +
              "Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n" +
              "Expect errors in decoding.");
     }
     input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");

     do {
        enc1 = keyStr.indexOf(input.charAt(i++));
        enc2 = keyStr.indexOf(input.charAt(i++));
        enc3 = keyStr.indexOf(input.charAt(i++));
        enc4 = keyStr.indexOf(input.charAt(i++));

        chr1 = (enc1 << 2) | (enc2 >> 4);
        chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
        chr3 = ((enc3 & 3) << 6) | enc4;

        output = output + String.fromCharCode(chr1);

        if (enc3 != 64) {
           output = output + String.fromCharCode(chr2);
        }
        if (enc4 != 64) {
           output = output + String.fromCharCode(chr3);
        }

        chr1 = chr2 = chr3 = "";
        enc1 = enc2 = enc3 = enc4 = "";

     } while (i < input.length);

     return unescape(output);
  } 
```

# jsf - 为什么不是 RESTful JSF？

> ID：13857016
> 
> 赞同：4
> 
> 时间：2012-12-13T09:42:47.077
> 
> 标签：jsf, rest

Struts2 内置了对 REST 和 Spring MVC 的支持。

另一方面，Ruby on Rails 对 REST 具有强大的内置支持。

但是 JSF 2.2 规范不包含任何此类支持，而且这似乎也不是未来 JSF 规范的议程！

为什么 JSF 团队只是忽略 REST？

# web-services - 在多个 HTTPWebRequest 调用 (.net) 中保留 cookie

> ID：13857019
> 
> 赞同：1
> 
> 时间：2012-12-13T09:42:58.887
> 
> 标签：web-services, cookies, httpwebrequest, cross-domain, cookiecontainer

我有一个需要访问其他域的 web 服务的网页。由于浏览器中的跨域策略，我创建了一个服务器端服务作为代理。我正在使用服务器端 HttpWebRequest (.net) 来调用需要身份验证的 Web 服务并将 json 返回到 javascript。但是，我遇到了一些问题：

1.  我目前正在硬编码用户名和密码，因为 HttpWebRequest 似乎没有让我提示输入用户名和密码的功能。没有用于登录的弹出对话框。那么，我可以像 XMLHttpRequest（javascipt 版本）一样强制 HttpWebRequest 提示输入用户名和密码吗？

2.  由于第一个问题，我注意到我可能需要创建一个虚拟登录页面来获取用户名和密码，然后将请求发送到 Web 服务。如果成功，则表示登录凭据正确。然而，在这之后，我仍然有很多其他的网络服务请求。HttpWebRequest 的 cookie 似乎只持续该请求调用。它不存储在正常的本地 cookie 存储中。（我检查浏览器并没有找到它）。如何将 CookieContainer 内的 cookie 存储到 HttpContext.Current.Response.Cookies 中，这样我就不需要再次登录了。我不想通过附加 CookieContainer 来处理每个请求调用，因为有很多请求。

# ruby-on-rails - 无法维护所需的字符串格式

> ID：13857020
> 
> 赞同：0
> 
> 时间：2012-12-13T09:43:00.220
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, string, ruby-on-rails-3.2

我想要这种格式的结果

```
data: [{"label":"present","value":35},
{"label":"absent","value":50},
{"label":"leave","value":45},
{"label":"performance","value":67}] 
```

我确实尝试过这段代码

```
data: <%= @orders.map { |d| {label: d.shipping, value: d.price}}.to_json.html_safe -%> 
```

这给出了结果

```
data: [{"label":"present","value":"35"},
{"label":"absent","value":"50"},
{"label":"leave","value":"45"},
{"label":"performance","value":"67"}] 
```

这里的问题是在第一个标签中我以这种格式获得值“35”，但我只需要没有“”的值 35。我怎么能得到这个？我在@orders 中的数据是

```
 [#<Order id: 8, price: "35", purchased_at: "2012-01"
, shipping: "present", created_at: "2012-12-13 08:17:39",
 updated_at: "2012-12-13 08:50:13">, #<Order id: 9, price
: "50", purchased_at: "2012-02", shipping: "absent", created_at
: "2012-12-13 08:31:24", updated_at: "2012-12-13 08:50:55">,
 #<Order id: 12, price: "45", purchased_at: "2012-03", shipping: 
"leave", created_at: "2012-12-13 08:48:37", updated_at: "2012-12-13 08:51:07">
, #<Order id: 13, price: "67", purchased_at: "2012-04", shipping:
 "performance", created_at: "2012-12-13 08:48:47", updated_at: "2012-12-13 08:51:18">] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:46:50.903

```
data: <%= @orders.map { |d| {label: d.shipping, value: d.price.to_i}}.to_json.html_safe -%> 
```

# gxt - 如何在 GXT ToolTipConfig 中获得多行？

> ID：13857031
> 
> 赞同：1
> 
> 时间：2012-12-13T09:43:14.390
> 
> 标签：gxt

如何在 GXT ToolTipConfig 中获得多行？

我在 ToolTipConfig 的标题中有一个长文本。我怎样才能把它分成多行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:08:22.500

Try setting up this wordwrap css property attribute to the ToolTip titles html tag.

```
div.test {word-wrap:break-word;} 
```

[http://www.w3schools.com/cssref/css3_pr_word-wrap.asp](http://www.w3schools.com/cssref/css3_pr_word-wrap.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T13:46:01.633

我想，这就是你需要的：

```
ToolTipConfig config = new ToolTipConfig();
config.setMaxWidth(300); 
```

因此，工具提示将为您移动线条。

# wordpress - WordPress管理选项页面中的图像上传不起作用

> ID：13857034
> 
> 赞同：0
> 
> 时间：2012-12-13T09:43:28.800
> 
> 标签：wordpress, wordpress-theming

我正在开发插件，该插件在后端添加网站或帖子的网址和简短描述，然后在前端显示然后在小部件中，我有用于上传帖子小图像的按钮，但它没有成功，但相同的代码在普通 php 中工作正常...

```
 $upload_errors = array(
                              // http://www.php.net/manual/en/features.file-upload.errors.php
                                UPLOAD_ERR_OK               => "No errors.",
                                UPLOAD_ERR_INI_SIZE     => "Larger than upload_max_filesize.",
                                UPLOAD_ERR_FORM_SIZE    => "Larger than form MAX_FILE_SIZE.",
                                UPLOAD_ERR_PARTIAL      => "Partial upload.",
                                UPLOAD_ERR_NO_FILE      => "No file.",
                                UPLOAD_ERR_NO_TMP_DIR => "No temporary directory.",
                                UPLOAD_ERR_CANT_WRITE => "Can't write to disk.",
                                UPLOAD_ERR_EXTENSION    => "File upload stopped by extension."
                             );

                           // process the form data
                           $tmp_file = $_FILES['file_upload']['tmp_name'];
                           $target_file = basename($_FILES['file_upload']['name']);
                           $upload_dir = "uploads";

                           // You will probably want to first use file_exists() to make sure
                           // there isn't already a file by the same name.

                           // move_uploaded_file will return false if $tmp_file is not a valid upload file 
                           // or if it cannot be moved for any other reason
                           if(move_uploaded_file($tmp_file, $upload_dir."/".$target_file)) {
                           $message = "File uploaded successfully.";
                            } else {
                                $error = $_FILES['file_upload']['error'];
                                $message = $upload_errors[$error];

                                } 
```

这是用于上传图片的表单

```
 <form action='' method='post' name="text_form" onsubmit="return Blank_TextField_Validator()" enctype="multipart/form-data">
                             <table class='form-table'><tr valign='top'>  
                             <th scope='row'><lable for='new_Directory_name'>Enter the Title:</lable></th>
                             <td><input type='text' id='newtextchange' name='newtextchange' size="100" /></br></td>
                             </tr>
                             <tr>
                             <th scope='row'><lable for='new_Directory_name'>Enter the Description:</lable></th>
                             <td><textarea rows="4" cols="50" name='textarea1'>

                             </textarea></br></td>
                             </tr>
                             <tr>
                             <th scope='row'><lable for='new_Directory_name'>Enter the URL:</lable></th>
                             <td><input type='text' id='newtextchange1' name='newtextchange1' size="100" /></br></td>
                             </tr>
                             <tr>
                             <th scope='row'><lable for='new_Directory_name'>Upload image:</lable></th>

                             <td> <input type="hidden" name="MAX_FILE_SIZE" value="1000000" /><input type="file" name="file_upload" /><br><br><input id='addtobow' class='button-secondary action' type='submit' value='Add to Best of web' name='submit'/></td>
                             </tr>
                             </table>

                          </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:55:14.430

你应该看看[wp_handle_upload](http://codex.wordpress.org/Function_Reference/wp_handle_upload)这个。
那里给出的例子非常有用。

要**保存**url，您可以使用以下行：

```
$upload_overrides = array( 'test_form' => false );
$source = wp_handle_upload( $_FILES['file'], $upload_overrides );

if ( $source )
    $input = serialize( $source ); 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-18T07:44:30.670

问题在于文件上传网址，这就是我修复它的方法..，现在它工作正常...

```
$tmp_file = $_FILES['file_upload']['tmp_name'];
                          $target_file = basename($_FILES['file_upload']['name']);
                          //$upload_dir = "D:\softwares_installed\wamp\www\wordpress\wp-content\plugins\bestofweb\uploads";
                            $upload_dir =ABSPATH . "wp-content/plugins/bestofweb/uploads";
                            $up_urlp1="/wp-content/plugins/bestofweb/uploads";
                          // You will probably want to first use file_exists() to make sure
                          // there isn't already a file by the same name.

                          // move_uploaded_file will return false if $tmp_file is not a valid upload file 
                          // or if it cannot be moved for any other reason
                          if(move_uploaded_file($tmp_file, $upload_dir."/".$target_file)) {
                                //$message = "File uploaded successfully.";
                                //echo $upload_dir."/".$target_file;
                                //echo  bloginfo('wpurl');
                                $up_url= $up_urlp1."/".$target_file;
                                //echo $up_url;
                                //if($message == "File uploaded successfully.")
                                //  {
                                //  $imgpath=$upload_dir.

                                //  }

                                   } else {
                                     $error = $_FILES['file_upload']['error'];
                                    // $message = $upload_errors[$error];
                                   } 
```

# file - Makefile VV=$(shell cat foo.txt) 导致找不到 VV 命令

> ID：13857036
> 
> 赞同：1
> 
> 时间：2012-12-13T09:43:31.603
> 
> 标签：file, makefile

他，
我想将文件（包含相对文件路径）的内容读取到变量中，并在文件中的每一行前加上路径。然后将所有这些文件复制到一个目录。像这样：

```
$(httpd_DIR)/my.tar: $(mypath)/html.txt
    rm -rf web
    mkdir -p web
    VV = $(addprefix $(httpd_DIR)/, $(shell cat $(mypath)/html.txt) )
    cp -R $$VV $(httpd_DIR)/web
    $(TAR) -C $(httpd_DIR) -cvf $(httpd_DIR)/web.tar web 
```

$(mypath)/html.txt 文件包含一个相对文件路径列表，如下所示：
dir1/
file1.html dir2/file2.html
dir3/file3.html

出于某种原因，我收到以下错误：
/bin/bash: VV ： 找不到相关命令

我没有尝试执行 VV，那么为什么他会给我这个错误？
请注意，如果我取消注释 cp 命令，我仍然会收到相同的错误...我在 linux PC 上使用 GNU make。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T14:44:53.793

你在这里有几个问题。

```
VV = $(addprefix $(httpd_DIR)/, $(shell cat $(mypath)/html.txt) ) 
```

您还没有告诉我们您使用的是什么外壳，所以我假设是 bash。

如果你想在 bash 中分配一个变量，你必须注意空格：`VV=foo`是合法的并且会做你期望的，但是如果你输入`VV = foo`，shell 会将第一个单词“VV”解释为一个命令，然后拒绝。如果您键入`VV=foo bar`，shell 将分配`foo`给`VV`，然后拒绝命令`bar`。你可以`VV="foo bar"`改用。

然后你遇到另一个问题。每个命令都在其自己的子 shell 中运行，因此在一个命令中分配的变量不会在下一个命令中继续存在：

```
VV=foo
echo $$VV # this will echo a blank 
```

您必须组合命令，如下所示：

```
VV=foo ; echo $$VV # this will echo foo 
```

或这个：

```
VV=foo ; \
  echo $$VV # this will echo foo 
```

（请注意，第一行之前只有一个 TAB。）

**一般来说，在插入真正的命令之前，您应该使用您能想到的最简单的命令来测试这些结构。**这样就更容易捕获这些错误。

# intellij-idea - 启动声纳时出错

> ID：13857038
> 
> 赞同：2
> 
> 时间：2012-12-13T09:43:49.950
> 
> 标签：intellij-idea, sonarqube

我正在为我的项目使用 SONAR。在使用“StartSonar.bat”启动 Sonar 时，它会引发以下异常。

```
wrapper  | --> Wrapper Started as Console
wrapper  | Launching a JVM...
jvm 1    | Error occurred during initialization of VM
jvm 1    | java/lang/NoClassDefFoundError: java/lang/Object
wrapper  | JVM exited while loading the application.
wrapper  | Launching a JVM...
jvm 2    | Error occurred during initialization of VM
jvm 2    | java/lang/NoClassDefFoundError: java/lang/Object
wrapper  | JVM exited while loading the application.
wrapper  | Launching a JVM...
jvm 3    | Error occurred during initialization of VM
jvm 3    | java/lang/NoClassDefFoundError: java/lang/Object
wrapper  | JVM exited while loading the application.
wrapper  | Launching a JVM...
jvm 4    | Error occurred during initialization of VM
jvm 4    | java/lang/NoClassDefFoundError: java/lang/Object
wrapper  | JVM exited while loading the application.
wrapper  | Launching a JVM...
jvm 5    | Error occurred during initialization of VM
jvm 5    | java/lang/NoClassDefFoundError: java/lang/Object
wrapper  | JVM exited while loading the application.
wrapper  | There were 5 failed launches in a row, each lasting less than 300 seconds.    
Giving up.
wrapper  |   There may be a configuration problem: please check the logs.
wrapper  | <-- Wrapper Stopped
Press any key to continue . . . 
```

使用 Java 1.7.0._09。请帮助我摆脱困境。另外，我尝试在 IntelliJ IDEA 11 社区版中配置声纳。IDE启动失败。社区版是否有任何插件可用于运行 Sonar。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-21T10:38:00.560

做一件事，去`<sonarDirectory>\conf`编辑`wrapper.conf`文件并设置这两行：

```
wrapper.java.command=C:\Program Files\Java\jdk1.8.0_20\bin\java
#wrapper.java.command=java 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:07:47.980

what value do you have for the 'wrapper.java.command' in the wrapper.conf file? Seems like the is no JVM available

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:08:06.090

Are you sure you have installed a JDK, and not just the JRE?

Also Check JAVA_HOME is configured correctly. Make sure to set the JAVA_HOME environment variable to point to the JDK root folder.

# javafx-2 - javafx2中的树项选择事件

> ID：13857041
> 
> 赞同：23
> 
> 时间：2012-12-13T09:44:02.600
> 
> 标签：javafx-2, javafx

我在 javafx2 中创建了树视图。我需要编写事件以获取单击的节点名称。

请让我知道该怎么做？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-12-13T13:04:02.570

使用[ChangeListener](http://docs.oracle.com/javafx/2/api/javafx/beans/value/ChangeListener.html)。

示例代码：

```
 treeView.getSelectionModel().selectedItemProperty().addListener( new ChangeListener() {

        @Override
        public void changed(ObservableValue observable, Object oldValue,
                Object newValue) {

            TreeItem<String> selectedItem = (TreeItem<String>) newValue;
            System.out.println("Selected Text : " + selectedItem.getValue());
            // do what ever you want 
        }

      }); 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-11-24T06:20:34.773

稍微更新的版本，使用 lambdas 对其进行了一些清理：

```
treeView.getSelectionModel()
        .selectedItemProperty()
        .addListener((observable, oldValue, newValue) -> System.out.println("Selected Text : " + newValue.getValue())); 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-09-10T15:15:25.890

略微更新的版本

```
treeView.getSelectionModel().selectedItemProperty()
            .addListener(new ChangeListener<TreeItem<String>>() {

                @Override
                public void changed(
                        ObservableValue<? extends TreeItem<String>> observable,
                        TreeItem<String> old_val, TreeItem<String> new_val) {
                    TreeItem<String> selectedItem = new_val;
                    System.out.println("Selected Text : " + selectedItem.getValue());
                    // do what ever you want
                }

            }); 
```

# android - Titanium Mobile Android 连续更改顺序

> ID：13857045
> 
> 赞同：1
> 
> 时间：2012-12-13T09:44:16.843
> 
> 标签：android, ios, mobile, titanium

我是移动应用程序的新开发人员，我自己也是 iOS 用户。对于一个应用程序，我们有一个包含 4 个项目的表，每个项目都可以从位置 1 到 4 订购。

现在在 iOS 上，我习惯于通过按住手指来拖动项目并更改它的位置。在 Android 上似乎并非如此，我在 Android 上也找不到改变项目位置的应用程序。

你们如何建议这样做？

亲切的问候，文森特

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T10:49:45.620

Titanium 为 tableView "moving" 提供了一个属性，它允许 tableviewRow 在 IOS 中重新排序，但对于 android 没有这样的属性。

我会在这里建议2个解决方案

1-如果您的行只包含文本等，那么您可以收听事件“dragStart”和“dragEnd”并获取行内容的交换。

2-您可以拼接行并将其添加到特定索引，但它不会像 iPhone 外壳那样提供外观和感觉。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T13:02:21.900

Titanium 不支持使用 Android 重新排列行。在 IOS 的情况下，Titanium TableView 具有以下属性，可帮助您重新排列 tableViewRow

*   [editable](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.TableView-property-editable) - 确定行的默认可编辑行为，允许用户在表格处于编辑或移动模式时删除它们。
*   [可移动](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.TableView-property-moveable) - 确定行的默认可移动行为，允许重新排序 - 确定行移动模式是否处于活动状态。
*   [移动](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.TableView-property-moving) 您可以将上述属性与[dragStart](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.TableView-event-dragStart)和[dragEnd](http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.UI.TableView-event-dragEnd)事件一起使用

在 Android 的情况下，您不能这样做。请参考以下链接。 [TableViewRow 在 Android 上可移动](http://developer.appcelerator.com/question/95391/tableview-moveable-on-android)

# angularjs - AngularJS：复选框标签在取消选中时保留原始值

> ID：13857047
> 
> 赞同：2
> 
> 时间：2012-12-13T09:44:33.177
> 
> 标签：angularjs

请看[http://jsfiddle.net/mahbub/sbNty/4/](http://jsfiddle.net/mahbub/sbNty/4/)

```
<div ng-app="">
  <div ng-controller="Ctrl">
        <ul>
            <li ng:repeat="status in statuses"><label><input type="checkbox" data-ng-model="status.type" data-ng-true-value="closed" data-ng-false-value="{{status.type}}" />{{status.type}}</label></li>
      </ul>
  </div>
</div>​ 
```

如您所见，复选框的标签是根据 JSON 中的状态类型打印的。现在取消选中，标签变为假。取消选中该复选框后，我必须缺少一些正确的方法来返回原始标签文本。

我的意思是当我取消选中时，标签需要是“打开的”或者它最初是什么。

任何帮助是极大的赞赏。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:17:58.823

最后，我使用 ngInit 并在范围对象内设置了一个不同的变量。请参阅此处的演示[http://jsfiddle.net/mahbub/sbNty/5/](http://jsfiddle.net/mahbub/sbNty/5/)

```
<div ng-app="">
  <div ng-controller="Ctrl">
        <ul>
            <li ng:repeat="status in statuses"><label><input ng-init="status.oldStat=status.type" type="checkbox" ng-model="value" ng-click="selectV(value,this)">{{status.type}}</label></li>
      </ul>
  </div>
</div>​ 
```

控制器 ：

```
'use strict';

function Ctrl($scope) {
    $scope.statuses = [{
        id: 1,
        type: 'open'},
    {
        id: 2,
        type: 'open'},
    {
        id: 3,
        type: 'new'},
    {
        id: 4,
        type: 'closed'},
    {
        id: 5,
        type: 'open'},
    {
        id: 6,
        type: 'new'},
    {
        id: 7,
        type: 'open'}
];

    $scope.selectV = function(val, stat) {
        if (val) {
            stat.status.type = "closed";
        } else {
            stat.status.type = stat.status.oldStat;
        }
    }
}​ 
```

# javascript - 如何在下拉列表中获取多个选定值

> ID：13857049
> 
> 赞同：15
> 
> 时间：2012-12-13T09:44:33.840
> 
> 标签：javascript, jquery, html

我正在使用下拉菜单，其中定义了多个选择名称`select[]`

如何使用 jquery 获取选定的值。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-13T09:49:24.513

与任何表单元素相同的方式 - 使用`val()`。

```
var selectedValues = $("#select").val(); 
```

使用多项选择，您将看到值作为逗号分隔的字符串，可以轻松发布以供服务器端处理或在需要时拆分为数组。

[**示例小提琴**](http://jsfiddle.net/v22vh/)

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-07-08T08:29:30.477

如果有人想要带有**标签的****值**。那么这里是解决方案：

 **```
var hexvalues = [];
var labelvalues = [];

$('#myMultiSelect :selected').each(function(i, selectedElement) {
 hexvalues[i] = $(selectedElement).val();
 labelvalues[i] = $(selectedElement).text();
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-13T09:47:46.570

试试这个，

**[现场演示](http://jsfiddle.net/uLghB/)**

```
$('#btn').click(function(){
    $('#select option:selected').each(function(){
        alert($(this).text());
    });
})​ 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-13T09:50:16.977

尝试

```
 var selectedItems= $('#ddlId option:selected');

selectedItems.each(function(obj,ind){
     $(obj).val() ;
} // or do with for (var i=0// normal js loop 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-12-13T09:49:58.413

你应该试试这个：

```
$("select[name^='select[']:eq(0)").val(); 
```

请记住， eq(0) 表示同名元素的索引是什么。**

# java - 这是 MVC 模式吗

> ID：13857053
> 
> 赞同：0
> 
> 时间：2012-12-13T09:44:49.763
> 
> 标签：java, model-view-controller

我使用 JSP 和 servlet 开发了项目。其他技术是 AJAX、jQuery、JavaScript、JSTL。我没有使用任何框架。请让我知道它是否在我无法识别的 MVC 模式中，如果不是，我准备在 Spring 中实现它。我需要重写代码以在春季实现它吗？

由于我的声誉很低，我无法发送图片抱歉。无论如何，我的应用程序结构会在 MVC 中吗？刚用过jsp和servlet。用过netbeans IDE。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:12:53.887

MVC 代表模型、视图和控制器。您的问题没有提供有关您当前架构的太多信息，但它应该有点像下面。

MVC 主要遵循层之间的分离。这意味着所有组件都应该是独立的。

**模型**- 是您的视图模型、实体、POCO 还是简单的 DTO。无论您挖掘并获取数据，但模型都应该包含您想要在 UI 上显示的数据。

**View** - 您的 View 可以是任何东西（ASP、JSP、Silverlight 或 windows）。视图应该尽可能地哑，只用于呈现 HTML。

**控制器**- 控制器像马戏团的环大师一样工作。控制器在视图和模型之间进行调解，基本上控制器包含一些将模型绑定（或传递）到视图的方法（操作）。

看看你这是不是你喜欢的建筑。

# javascript - 当我尝试过滤表时，jQuery.trim 不起作用

> ID：13857054
> 
> 赞同：1
> 
> 时间：2012-12-13T09:44:50.697
> 
> 标签：javascript, jquery

我有一个文本框来放置文本以过滤 html 表格。我想在过滤表格之前修剪文本框内容：

**演示**：http: [//jsfiddle.net/QFQ5k/94/](http://jsfiddle.net/QFQ5k/94/)

进行过滤的行是：

```
return $(this).find("[zip^='"+ $.trim($("#txtbox").val())+"']").length>0; 
```

编辑：它成功地工作，我错误地测试了它，但我**希望单独的空格显示所有表行。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:51:46.863

我已经更新了我的小提琴：http: [//jsfiddle.net/QFQ5k/101/](http://jsfiddle.net/QFQ5k/101/)

现在你可以看到那里的修剪。我只是在 keyup 事件之后添加了一些行。

```
$("#txtbox").keyup(function () {
var a = $.trim($(this).val());
$(this).val(a); 
```

***我希望这可以解决您想要实现的目标。***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:57:07.733

更好地使用快速搜索来满足您的要求。我希望下面的示例对您有所帮助。

[快速搜索 jquery 插件](http://mvc.syncfusion.com/demos/ui/grid/Templates/CustomizedToolbar)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-21T22:17:52.837

只有在文本框中输入了某些内容时，我才会过滤，否则我不会。

```
if($("#txtbox").val().length >0){
   // Filtering
} 
```

# iphone - 检测 UITableView SECTION 上的触摸？

> ID：13857055
> 
> 赞同：0
> 
> 时间：2012-12-13T09:44:55.447
> 
> 标签：iphone, objective-c, ios, uitableview, uitapgesturerecognizer

如何检测用户对表格视图部分的触摸？

我试过了`UITapGestureRecognizer`，`touchesEnded:`但没有成功。

### 触摸结束示例

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
  UITouch *Touch = [[event allTouches] anyObject];
  if (CGRectContainsPoint([_Sec0 frame], [Touch locationInView:_Table])) {
    NSLog(@"SECTION 0");
  } else if (CGRectContainsPoint([_Sec1 frame], [Touch locationInView:_Table])) {
    NSLog(@"SECTION 1");
} 
```

### UITapGestureRecognizer 示例

```
UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(Tapped:)];
[_Sec0 addGestureRecognizer:tap];
[tap release]; 
```

没啥事儿。
Touch 在视图上的任何地方都被调用，除了在桌子上。
不调用点击手势。

任何想法？

编辑：当然，有代表。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:00:41.697

UITableView 正在消耗触摸而不是将它们发送到响应者链。

这意味着触摸不会到达下面的 UIView 并触发您的功能。

我发现这个问题可能对你有帮助......

[停止 UITableView 消耗触摸事件，因此父视图中的滑动菜单可以检测到水平滑动](https://stackoverflow.com/questions/12730747/stop-uitableview-consuming-touch-events-so-sliding-menu-in-parent-view-can-detec)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T14:33:37.867

什么是触及部分？您可以使用 检测单元格和标题的选择`UITableViewDelegate`。它可以帮助你吗？

# linq - asp.net mvc 将列表添加到视图模型

> ID：13857056
> 
> 赞同：0
> 
> 时间：2012-12-13T09:44:59.870
> 
> 标签：linq, linq-to-sql, asp.net-mvc-2

如何将以下列表添加`PosttypeMetas`到我的视图模型中？

```
 static void Main(string[] args)
      {
        List<PosttypeMetas> a = new List<PosttypeMetas>();
        a.Add(new PosttypeMetas { Metatexts = "1", Selects = "mazhar" });
        a.Add(new PosttypeMetas { Metatexts = "2", Selects = "mazhar1" });
        a.Add(new PosttypeMetas { Metatexts = "3", Selects = "mazhar2" });
        a.Add(new PosttypeMetas { Metatexts = "4", Selects = "mazhar3" });
        a.Add(new PosttypeMetas { Metatexts = "5", Selects = "mazhar4" });

        PosttypeVM abc = new PosttypeVM();

        foreach (var listf in a)
        {
            PosttypeMetas abcc = new PosttypeMetas();
            abcc.Metatexts = listf.Metatexts;
            abcc.Selects = listf.Selects;

            abc.posttypemeta.Add(abcc); // NullReferenceException

        }
        Console.Read();         
    }    

public class PosttypeVM
{
    public string module { get; set; }
    public string IsModule { get; set; }
    public string parent { get; set; }    
    public string OrgorSys { get; set; }
    public string ModuleName { get; set; }
    public List<PosttypeMetas> posttypemeta { get; set; }
}

public class PosttypeMetas
{       
    public string Metatexts { get; set; }
    public string Selects { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:53:56.977

问题是列表是一个引用类型，它目前什么都没有引用。

您需要先创建列表，然后才能添加。您应该在构造函数中执行此操作：

```
public PosttypeVM()
{
    posttypemeta = new List<PosttypeMetas>();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T09:54:18.563

由于`a`已经是`List<PosttypeMetas>`你不需要`foreach`循环，只需像这样分配它：

```
static void Main(string[] args)
      {
        List<PosttypeMetas> a = new List<PosttypeMetas>();
        a.Add(new PosttypeMetas { Metatexts = "1", Selects = "mazhar" });
        a.Add(new PosttypeMetas { Metatexts = "2", Selects = "mazhar1" });
        a.Add(new PosttypeMetas { Metatexts = "3", Selects = "mazhar2" });
        a.Add(new PosttypeMetas { Metatexts = "4", Selects = "mazhar3" });
        a.Add(new PosttypeMetas { Metatexts = "5", Selects = "mazhar4" });

        PosttypeVM abc = new PosttypeVM();
        abc.posttypemeta= a; //assign a to the viewmodel   

        Console.Read();         

    } 
```

编辑：您将需要实例化列表：

```
public class PosttypeVM
{

    public string module { get; set; }
    public string IsModule { get; set; }
    public string parent { get; set; }    
    public string OrgorSys { get; set; }
    public string ModuleName { get; set; }
    public List<PosttypeMetas> posttypemeta { get; set; }

    public PosttypeVM(){
     posttypemeta = new List<PosttypeMetas>(); //create the list 
      }
} 
```

# python - 打开窗口和焦点文本框 tkinter

> ID：13857059
> 
> 赞同：2
> 
> 时间：2012-12-13T09:45:12.710
> 
> 标签：python, user-interface, window, focus, tkinter

我有一个（第二个）tkinter 窗口，它在打开时没有获得焦点，而是第一个窗口保持焦点（尽管第二个窗口出现在另一个窗口的前面）。它包含一个我希望能够输入的文本框，但我必须双击它才能输入。

打开窗口时如何聚焦文本框？

我的尝试 ： `textbox.focus_set()`,,, `window.grab_set()``window.focus_set()`

他们都没有做我想做的事。

编辑：相反，当（且仅当）关闭*主*窗口`.focus_set()`时会引发错误：*`can't invoke "focus" command: application has been destroyed`*

 *这是我当前的代码（`tkWin`是主窗口，`tkcWin`是第二个窗口）：

```
def click(self, field):
    import _tkinter
    if field != None:
        try:
            self.tkcWin = Tk()#creating window
            self.tkcWin.focus()
            self.tkcWin.title(field)
            self.tkcWin.geometry('300x100')
            self.mainframe = Frame(master=self.tkcWin,background="#60BF98")
            self.mainframe.place(x=0, y=0, width=300, height=300)
            self.textb = Text(master=self.mainframe)
            self.textb.place(x=0, y=50)
            self.textb.bind("<Return>",lambda a: self.setM(field))
            self.textb.bind("<Return>",lambda a: self.tkcWin.destroy(),True)
            self.tkcWin.grab_set()
            self.tkWin.wait_window(self.tkcWin)
            self.textb.focus_set()
            hwnd = self.tkcWin.winfo_id()
            ctypes.windll.user32.SetFocus(hwnd)
            self.tkcWin.mainloop()
        except _tkinter.TclError:
            self.tkcWin.destroy() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T20:13:41.747

事实证明，您可以简单地调用辅助窗口的[`deiconify()`](http://effbot.org/tkinterbook/wm.htm#Tkinter.Wm.deiconify-method)方法，然后调用小部件的[`focus_set()`](http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.focus_set-method)方法：

```
toplevel.deiconify()
text.focus_set() 
```

* * *

这是 Windows 的原始解决方法（不再推荐）：

首先`import ctypes` 在顶部添加。
继续并像您一样关注您的小部件：`text.focus_set()`
获取第二个窗口的 hwnd：`top_hwnd = toplevel.winfo_id()`
最后激活第二个窗口：`ctypes.windll.user32.SetFocus(top_hwnd)`*

# session - 登录验证后，PHP Session 未在下一页读取，为什么？

> ID：13857061
> 
> 赞同：1
> 
> 时间：2012-12-13T09:45:18.340
> 
> 标签：session, location, session-variables, php, ob-start

## 我有一个网站，当我的用户登录时，它会将他们带到

**验证.php**

（它连接到数据库并将电子邮件和密码与用户输入匹配，如果确定将客户端数据放入会话并将客户端带到 /memberarea/index.php 否则返回登录页面并显示消息“无效的电子邮件或密码！”）

```
<?php
  ob_start();
  session_start();

  $email=$_POST['email'];
  $pass=md5($_POST['pass']);

  include("conn.php"); // connects to Database
  $sql="SELECT * FROM `user` WHERE email='$email' AND pass='$pass'";
  $result=mysql_query($sql);

  $new=mysql_fetch_array($result);

  $_SESSION['fname']=$new['fname'];
  $_SESSION['lname']=$new['lname'];
  $_SESSION['email']=$new['email'];
  $_SESSION['passwrd']=$new['passwrd'];

  $no=mysql_num_rows($result);

   if ($no==1){
    header('Location:memberarea/index.php');
   }else {

        header("Location:login.php?m=$msg"); //msg="Invalid Login"
   }

  ?> 
```

然后在验证电子邮件 ID 和密码后，它会将他们带到`

**/memberarea/index.php**

（这就是问题发生的地方。）

在 index.php 中，它检查是否已创建会话以阻止黑客进入会员区并将其发送回登录页面。

```
<?
 session_start(); 
 isset($_SESSION['email'])` && `isset($_SESSION['passwrd'])` 
```

问题是客户端在 verify.php 中得到验证（代码在上面）

在 varify.php 中，只有在我把 `ob_start();`它`session_start();` 移到上面之后`/memberarea/index.php`，

如果我删除`ob_start()` 它将客户端保留在 verify.php 页面上并显示错误**标题是 alredy SENT**。

在我把`ob_start()`它放进去之后，`/memberarea/index.php`但会话是空白的，

所以它返回登录页面并显示错误（$msg）“无效登录”，这是我编程显示的。

谁能告诉我为什么会话不能将值从 verify.php 传递到`/memberarea/index.php`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T04:48:08.717

似乎从*conn.php*获得了一些空白。如果在*conn.php*`?>`的末尾，请将其删除（后面可能有一些空格）并确保*conn.php*之前没有空格。那么你就不会出错了。*`<?`*`header is alredy SENT`**

 **并且您应该在确保有如下结果后设置会话数据：

```
<?php
  ob_start();
  session_start();

  $email=$_POST['email'];
  $pass=md5($_POST['pass']);

  include("conn.php"); // connects to Database
  $sql="SELECT * FROM `user` WHERE email='$email' AND pass='$pass'";
  $result=mysql_query($sql);

  $no=mysql_num_rows($result);

   if ($no==1){

       // Set the session data here.
       $new=mysql_fetch_array($result);

       $_SESSION['fname']=$new['fname'];
       $_SESSION['lname']=$new['lname'];
       $_SESSION['email1']=$new['email1'];
       $_SESSION['passwrd']=$new['passwrd'];

       header('Location:memberarea/index.php');
   }
   else {

       header("Location:login.php?m=$msg"); //msg="Invalid Login"
   } 
```

还有一件事情; 您正在为电子邮件数据使用两个索引 *$_SESSION[' **email1** ']*和 *$_SESSION[' **email** ']*。第一个（email1）是错误的。**

# algorithm - “3 壶水”的状态图

> ID：13857062
> 
> 赞同：0
> 
> 时间：2012-12-13T09:45:25.753
> 
> 标签：algorithm, artificial-intelligence, graph-algorithm

关于三壶水的问题：

我们有 3 个水壶，第一个水壶的容量为 12，第二个水壶的容量为 8，第三个水壶的容量为 3。初始状态为：(0,0,0) 后继函数为：

1.  加：完全填满一个锯齿
2.  倒入另一个：将一个水壶的内容物倒入第二个（直到第一个空或第二个完全装满）
3.  Empty 是：清空一个 jar 中的所有内容

目标状态是：(1,1,1)

* * *

我想画它的状态树。我自己做的，但我不确定它是否正确？

```
 (0,0,0)
        /   |    \
       /    |     \
      /     |      \
(12,0,0) (0,8,0) (0,0,3) 
```

(12,0,0) 的子节点是：(12,0,0),(12,8,0),(12,8,3),(0,8,3),(0,0, 3),(0,0,0),(9,8,3),(12,8,0),(4,8,3),(12,0,3),(12,5,3) ,(12,5,3),(12,8,0)

其中 (12,0,0),(0,0,0)==>因为它在根目录中，(12,8,0)==> 是失败节点，我们不展开它们。

我想如果我扩展（0,0,3），我将达到我的目标状态：节点（0,0,3）的孩子：（3,0,0），（0,3,0）， (0,0,3),(1,1,1) (1,1,1) 是目标状态，对吗？

**问：**我理解正确吗？这些是状态和生成的树吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T09:53:53.340

但是，该图对于第一步是正确的 - 您将兄弟 (12,0,0)、(0,8,0) 和 (0,0,3) 错误地展开。
您应该在每次迭代中执行单个步骤，而不是多个步骤，并且不要尝试执行多个步骤。

因此：

```
successors((12,0,0)) = { (12,0,3), (12,8,0), (0,0,0), (9,0,3), (4,8,0) }
successors((0,8,0)) = { (12,8,0), (0,8,3), (8,0,0), (0,5,3), (0,0,0) }
successors((0,0,3)) = { (12,0,3), (0,8,3), (3,0,0), (0,3,0), (0,0,0) } 
```

（从每个状态，您只能执行 1 个允许的操作，而不是更多 - 以获取后继/后续状态）。

通过不断扩展这些，您最终将获得所有可能性。

* * *

仅供参考，这个问题有时被称为[**The Die Hard Problem**](http://www.youtube.com/watch?v=xfQxZTtbCTg)，它是通过构建状态[图](http://en.wikipedia.org/wiki/Graph_%28mathematics%29)和运行寻路算法（例如[A*](http://en.wikipedia.org/wiki/A%2a_search_algorithm)或[BFS](http://en.wikipedia.org/wiki/Breadth-first_search) ）使用简化到图算法来解决问题的经典示例。

# matlab - 如何在地图（输出）上指示一个点（根据坐标）

> ID：13857066
> 
> 赞同：1
> 
> 时间：2012-12-13T09:46:03.850
> 
> 标签：matlab

我有一个区域的地图作为我的 matlab 代码的输出，指示纬度和经度作为轴（不是 2D 而是带有投影）。我想在输出地图上显示一个点以及围绕该点的圆圈。我将在我的代码中给出坐标作为我的输入，并得到被圆圈包围的点（根据坐标）作为输出。我的代码的基本概念如下......TR3是我的输入变量......

假设我想在地图上显示 50N,70E。谁能建议我如何做到这一点？

```
Z = russia.map;    
[phi lambda] = meshgrid (Longitude, Latitude);    
b1 = phi > 50;
b2 = phi < 150;    
b = b1 & b2;    
d1 = lambda > 40;    
d2 = lambda <= 80;
d = d1 & d2;   
C = b & d;    
TR4 = TR3(C)*10000;    
Tr4 = cat(1,TR4,zeros(40,1));
TR5 = reshape(Tr4,40,100);    
R = georasterref('RasterSize', size(Z), ...
    'latlim',[40 80], 'lonlim',[50 150]);
worldmap(Z,R)
surfm(lat_new,long_new,TR5) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T18:45:02.830

要将内容绘制到投影中，请使用“plotm”。

```
........
worldmap(Z,R);
hold on; 
surfm(lat_new,long_new,TR5);
plotm(50, 70, 'x');
........ 
hold off; 
```

参考： http: [//www.mathworks.de/de/help/map/create-a-world-map.html](http://www.mathworks.de/de/help/map/create-a-world-map.html)

# vector - MapInfo 中的向量长度

> ID：13857068
> 
> 赞同：0
> 
> 时间：2012-12-13T09:46:07.340
> 
> 标签：vector, size, mapinfo

有谁知道如何计算 MapInfo 中矢量的确切长度？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-21T09:59:23.350

我相信你可以使用

```
Dim vector_length As Float
vector_length = ObjectLen(Obj, "m") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-03T10:35:44.257

我更喜欢使用 CartesianObjectLen 而不是 ObjectLen

[CartesianObjectLen 与 ObjectLen](https://i.stack.imgur.com/xjyS1.png)

```
dim o as object
select * from TABLE where Unique Column = Unique Code into sel
o=sel.obj
print(CartesianObjectLen(o, "m")) 
```

# ruby-on-rails-3 - 鉴于 ruby on rails 的渲染问题

> ID：13857075
> 
> 赞同：0
> 
> 时间：2012-12-13T09:46:41.340
> 
> 标签：ruby-on-rails-3, rendering

我正在从控制器操作中渲染一个变量。代码是：

```
def show1
  if request.post?
    @bookmark = Bookmark.all
    respond_to do |format|
      format.html # index.html.erb
      format.json { render json: @bookmark }
    end
  end  
end 
```

这是动作“表演”。“显示”视图如下：

```
<% @array_bookmark = @bookmark.class == Array ? @bookmark : [@bookmark] %>
<% @array_bookmark.each do |book| %>
<li><%= book.url%>
<b>Title:</b>
<li><%= book.title%>
<% end %> 
```

这应该打印带有属性 url 和标题的书签表中的记录。但它给出了一个错误：

```
NoMethodError in Bookmark#show

Showing C:/Sites/newapp/app/views/bookmark/show.html.erb where line #10 raised:

undefined method `url' for nil:NilClass

Extracted source (around line #10):

7:   <b>Url:</b>
8: <% @array_bookmark = @bookmark.class == Array ? @bookmark : [@bookmark] %>
9: <% @array_bookmark.each do |book| %>
10:   <li><%= book.url%></li>
11:   <b>Title:</b>
12:   <li><%= book.title%></li>
13:   <li><%= book.tags%></li> 
```

这是我得到的错误。我可以给我一个适当的解决方案，以便我可以正确打印视图中的表格记录吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:06:05.833

问题是您应该使用[我](https://stackoverflow.com/questions/13836591/rendering-issue-in-views-in-ruby-on-rails/13837018#13837018)对您之前问题的回答：

```
<% Array(@bookmark).each do |book| %> 
```

您拥有的代码检查是否`@bookmark`是该类的实例`Array`；如果它是 nil，这将返回 false`@array_bookmark`并将被分配`[nil]`。然后，当您在循环中对其进行迭代时，您`each`将获得`nil`. `book`通过使用`Array()`您可以避免这个问题：`Array(nil)`计算为一个空数组，因此循环永远不会执行并且您不会收到错误。

# android - 从 JSON Web 服务加载数据并将其显示在列表视图中

> ID：13857081
> 
> 赞同：2
> 
> 时间：2012-12-13T09:46:55.927
> 
> 标签：android, json, web-services, listview

我正在尝试从 JSON Web 服务加载数据并将其显示在列表视图中，这是我第一次使用 JSON，我还是初学者，所以请告诉我有什么问题

```
package com.androidhive.jsonparsing;

import java.util.ArrayList;
import java.util.HashMap;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.ListActivity;
import android.os.Bundle;
import android.widget.ListAdapter;
import android.widget.SimpleAdapter;

public class AndroidJSONParsingActivity extends ListActivity {

    // url to make request
    private static String url = "my url";

    // JSON Node names
     String TAG_CONTACTS = "TAG_CONTACTS";
     String Id = "Id";
     String DoctorName = "DoctorName";
     String ImageName = "ImageName";

    // contacts JSONArray
    JSONArray Doctors = null;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // Hashmap for ListView
        ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

        // Creating JSON Parser instance
        JSONParser jParser = new JSONParser();

        // getting JSON string from URL
        JSONObject json = jParser.getJSONFromUrl(url);

        try {
            // Getting Array of Contacts
            Doctors = json.getJSONArray(TAG_CONTACTS);

            // looping through All Contacts
            for(int i = 0; i < Doctors.length(); i++){
                JSONObject c = Doctors.getJSONObject(i);

                // Storing each json item in variable
//               String Id =  c.getString("Id");
//               String DoctorName =  c.getString("DoctorName");
//               String ImageName =  c.getString("ImageName");
//          

                // creating new HashMap
                HashMap<String, String> map = new HashMap<String, String>();

                // adding each child node to HashMap key => value
                map.put("Id", c.getString("Id"));
                map.put("DoctorName", c.getString("DoctorName"));
                map.put("ImageName", c.getString("ImageName"));

                // adding HashList to ArrayList
                contactList.add(map);
            }
        } catch (JSONException e) {
            e.printStackTrace();
        }

        /**
         * Updating parsed JSON data into ListView
         * */
        ListAdapter adapter = new SimpleAdapter(this, contactList,
                R.layout.list_item,
                new String[] { DoctorName, ImageName }, new int[] {
                        R.id.name, R.id.image });

        setListAdapter(adapter);

    }

} 
```

* * *

```
package com.androidhive.jsonparsing;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    public JSONObject getJSONFromUrl(String url) {

        // Making HTTP request
        try {
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }
} 
```

当我运行它时，它给了我这个警告

```
12-13 12:41:57.052: W/System.err(542): org.json.JSONException: No value for TAG_CONTACTS
12-13 12:41:57.052: W/System.err(542):  at org.json.JSONObject.get(JSONObject.java:354)
12-13 12:41:57.052: W/System.err(542):  at org.json.JSONObject.getJSONArray(JSONObject.java:544)
12-13 12:41:57.052: W/System.err(542):  at com.androidhive.jsonparsing.AndroidJSONParsingActivity.onCreate(AndroidJSONParsingActivity.java:56)
12-13 12:41:57.063: W/System.err(542):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
12-13 12:41:57.063: W/System.err(542):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-13 12:41:57.072: W/System.err(542):  at android.os.Looper.loop(Looper.java:123)
12-13 12:41:57.072: W/System.err(542):  at android.app.ActivityThread.main(ActivityThread.java:3683)
12-13 12:41:57.072: W/System.err(542):  at java.lang.reflect.Method.invokeNative(Native Method)
12-13 12:41:57.072: W/System.err(542):  at java.lang.reflect.Method.invoke(Method.java:507)
12-13 12:41:57.072: W/System.err(542):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 
```

它会打开一个空屏幕！问题是什么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:49:08.460

您为 JSON 数组传递了一个错误的名称。`org.json.JSONException: No value for TAG_CONTACTS`
它应该是：

```
// Getting Array of Contacts
Doctors = json.getJSONArray("Doctors"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T09:55:34.377

我认为在您进行解析检查之前，您的 Json 解析标记中出现错误

```
if(jsonObject.has("TAG_CONTACTS")){
Doctors = json.getJSONArray(TAG_CONTACTS);
} 
```

并检查您使用的所有相关密钥以及您获得的响应，这可能会对您有所帮助

# objective-c - 如何以编程方式在 UITextView 中添加行

> ID：13857082
> 
> 赞同：3
> 
> 时间：2012-12-13T09:47:02.293
> 
> 标签：objective-c, ios, cocoa-touch, uiscrollview, uitextview

在我的笔记本应用程序中，我需要添加新的笔记视图。在笔记视图中，`UITextView`必须输入新笔记。我想要`UITextView`：

*   插入（规则）线。

*   滚动时，`UITextView`这些行也应该与输入的文本一起滚动。

*   当转到下一行时，`UITextView`它应该自动创建行。

    这怎么可能？

![笔记本应用程序的图像）](../Images/8dbc57765761f022e7893fcdb5cdb92c.png)

从上图中可以看出，空白区域是`UITextView`. 我需要添加下图（黄色背景线）

![在此处输入图像描述](../Images/5e63231180e1435c5500225488382241.png)

# codeigniter - 在codeigniter中上传页面图像

> ID：13857086
> 
> 赞同：0
> 
> 时间：2012-12-13T09:47:12.540
> 
> 标签：codeigniter

如何在codeigniter中使用ajax在页面上上传图片？需要上传表单图像，然后
用户应填写更多信息。我尝试 ajax 但无法找出最简单的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:19:37.897

[http://net.tutsplus.com/tutorials/javascript-ajax/how-to-upload-files-with-codeigniter-and-ajax/](http://net.tutsplus.com/tutorials/javascript-ajax/how-to-upload-files-with-codeigniter-and-ajax/)

这是我第一次这样做的方式，比看起来更容易，并且应该没有太多问题。

# wpf - 在 Canvas XAML 中放置 Canvas

> ID：13857092
> 
> 赞同：0
> 
> 时间：2012-12-13T09:47:25.613
> 
> 标签：wpf, vb.net, xaml

我想向另一个画布添加一些画布，但以下代码似乎不起作用，应用程序编译但只显示一个空白窗口。理想情况下，这会以对角线显示画布。

这是我的 vb.net 代码：

```
 For r As Integer = 1 To 10

    X += 5
    Y += 5

    Dim c As Canvas = New Canvas()
    Dim s As SolidColorBrush = New SolidColorBrush

    s.Color = Color.FromRgb(255, 0, 0)
    c.Background = s

    c.Name = "cnv" + CStr(X)
    c.Margin = New Thickness(X, Y, 0, 0)

    cnvOverLay.Children.Add(c)
    cnvOverLay.UpdateLayout()
  Next 
```

我尝试添加多个按钮，`dim b As Button = new Button()`而不是每次都创建一个新的画布，效果很好。

我错过了一些简单的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:59:00.873

你看不到画布是因为没有宽度和高度。

# ruby-on-rails - 自动从 web url 获取 zip 并解压缩

> ID：13857099
> 
> 赞同：1
> 
> 时间：2012-12-13T09:47:54.583
> 
> 标签：ruby-on-rails, ruby, file-upload, zip, scheduled-tasks

我需要去这个网址： [http ://autospace.by/download/prices.zip](http://autospace.by/download/prices.zip)

并将此文件解压缩到我的 Rails 应用程序，但我必须在每天下午 2 点执行一次，主要问题是存档中其他 url 的文件每天都在更改名称，所以我必须解压缩文件，其名称结尾是，并对其进行一些操作？

我现在的代码：

```
require 'net/http'
    Net::HTTP.start("autospace.by") do |http|
        resp = http.get("/download/prices.zip")
        open(Rails.root.join('public', 'uploads_prices', "autospace.zip"), "wb") do |file|
            file.write(resp.body)
        end
    end 
```

**那么：**我如何在这个 url 上解压缩文件，并将这个文件名作为参数发送到方法 mymethod(filename)？并且还建议如何每天自动执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:52:53.783

你可以直接使用linux zip命令`system "cd #{Rails.root}/#{zip_path}; zip -qr #{zip_file_name}.zip #{zip_file_name};`

或使用 ruby[​​ zip](https://github.com/javanthropus/archive-zip) gems

```
 gem 'archive-zip'  # Use require_gem for rubygems versions older than 0.9.0.
  require 'archive/zip'

  # Add a_directory and its contents to example1.zip.
  Archive::Zip.archive('example1.zip', 'a_directory') 
```

如果你想每天都执行这个，只需在 crontab 中运行这个脚本，例如

```
 `*/5 * * * * /usr/local/bin/ruby  /local/myuser/rubyscript/ftpscript.rb >> /local/myuser/rubyscript/ftplog.txt` 
```

# delphi - Indy TIdTCPServer 和断开连接

> ID：13857100
> 
> 赞同：2
> 
> 时间：2012-12-13T09:47:56.387
> 
> 标签：delphi, indy, disconnection

我有一个小问题（我希望它很小）断开服务器 - 我的意思是 - 仅在我想将它与服务器应用程序断开连接时（server.active = false）。这是我的简单代码：

```
 type
      PClient = ^TClient;
    type
      TClient = record
        Name: string;
        AContext: TIdContext;
    end;

     clients: TThreadList;
     SERVER: TIdTCPServer; 

    procedure TX.SERVERConnect(AContext: TIdContext);
    var
      NewClient: PClient;
      s:string;
    begin
        s := AContext.Connection.socket.ReadLn();
        GetMem(NewClient, SizeOf(TClient));
        NewClient.name:=s;
        NewClient.AContext := AContext;
        AContext.data := TObject(NewClient);
        try
          clients.LockList.Add(NewClient);
        finally
          clients.UnlockList;
        end;
        AContext.Connection.socket.writeln('E:');//answer to client - "all right"
    End;

    procedure TX.SERVERDisconnect(AContext: TIdContext);
    var
      AClient: PClient;
    begin
      AClient := PClient(AContext.data);
      try
        clients.LockList.Remove(AClient);
      finally
        clients.UnlockList;
      end;
      FreeMem(AClient);
      AContext.data := nil;
    end; 
```

它只能用于向客户端发送数据，因此我在 onconnect 过程中只读取了一条数据行 - 它包含登录名。

在我的代码中发送数据的过程看起来像（很好吗？）：

```
 var
    procedure TX.send(what: string; where: string);
      i, ile: integer;
      s: string;
      Aclient: PClient;
      list: tlist;
    begin
      list:= SERVER.Contexts.LockList;
      try
        for i := 0 to list.Count - 1 do
          with TIdContext(list[i]) do
          begin
            AClient := PClient(data);
            if where = ActClient^.name then
              Connection.IOHandler.writeln(what);
          end;
      finally
        SERVER.Contexts.UnlockList;
      end;
    end; 
```

看起来效果很好-我的意思是。但是当我想通过 SERVER.active:=false 禁用服务器时，应用程序会冻结吗？我试图释放客户等，但它在我的错误代码中不起作用。

有人可以帮助我并给我建议如何停止此代码的服务器吗？

阿尔蒂克

# jquery - 如何在jQuery中为标签设置动画？

> ID：13857102
> 
> 赞同：1
> 
> 时间：2012-12-13T09:48:00.000
> 
> 标签：jquery

我想`label`在 jQuery 中将我的从顶部移动到底部，反之亦然。我正在使用以下代码：

```
$("#LabelId").animate({ top: "-=30px", width: "100%" }, 2500,"slow");

<label id="LabelId">Label</label> 
```

但它在处理时给了我一个错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:49:51.063

你得到一个错误是因为`2500`并且`"slow"`都是持续时间方法，你必须选择一个，而不是两者。2500 是 2.5 秒，慢是一秒，或者我不知道慢的确切秒数。

要么这样做

```
$("#LabelId").animate({ top: "-=30px", width: "100%" }, 2500); 
```

或者

```
$("#LabelId").animate({ top: "-=30px", width: "100%" }, "slow"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:49:43.810

您正在通过两个持续时间参数。您还需要给标签一个`position`或一个显示属性，而不是`inline`：试试这个：

```
$("#LabelId").animate({ top: "-=30px", width: "100%" },'slow'); 
```

并添加到您的 CSS：

```
#LabelId {
    position: relative;
}​ 
```

请在此处查看工作演示 > [http://jsfiddle.net/Z2vqe/](http://jsfiddle.net/Z2vqe/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T09:51:30.860

尝试删除顶部的 px

```
$("#LabelId").animate({ top: '-=30', width: "100%" },'slow'); 
```

查看带有方向属性（如上、左）的动画的基本用法

[http://api.jquery.com/animate/](http://api.jquery.com/animate/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:01:50.967

AS 和 Always，**jQuery 和 CSS 都是基于上下文的**，你需要确定你的上下文。

因此，如果要在父控件中制作标签动画，则必须将 css 位置指定为`position:relative;`. 如果您想让它在文档中设置动画，请指定为`position:absolute;`. 如果您想让它在窗口中设置动画，请指定为`position:static;.`

同样，jQuery 将完成剩下的工作。`$("#LabelId").animate({ top: "-=30px", width: "100%" }, 2500);`

# ios5 - RestKit 和 AFIncrementalStore 的区别

> ID：13857104
> 
> 赞同：20
> 
> 时间：2012-12-13T09:48:19.643
> 
> 标签：ios5, restkit, afnetworking, afincrementalstore

在我的 iOS 应用程序中，我试图从（RESTful）服务器获取和发布数据。我认为 RestKit 和 AFIncrementalStore 都是不错的选择。但是，我还需要能够离线保存数据并在应用程序在线时将其推送到服务器。

我试图了解哪个是用于应用程序的更好框架。

此外，从一些[在线资源](http://sealedabstract.com/code/nsincrementalstore-the-future-of-web-services-in-ios-mac-os-x/)来看，似乎在 AFIncrementalStore 上使用错误可能会导致处理 ManagedContext（通常是 mainThread）的线程在提供网络请求以获取属性时卡住。有什么大不了的吗？

PS：添加*afnetworking*标签，因为*afincrementalstore*标签不可用

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-12-13T15:20:50.917

AFIncrementalStore 在核心数据中工作，发送回您的 Web 服务。它使用 Apple 提供的称为 NSIncrementalStore 的相对较新的 API。

RestKit 从 Core Data 外部工作，使用 RK 提供的对象映射架构松散地将 HTTP 请求绑定到 Core Data。

以下是两者的一些优点和缺点：

*   新的 RestKit 版本 (0.2.x) 比 0.1 版本更轻
*   RestKit 现在使用非常好的 AFNetworking 来处理他的所有 HTTP 请求工作，就像 AFIncrementalStore 一样。
*   ResKit 有很多测试覆盖率
*   AFIS 真的很轻，因为它建立在 NSIncrementalStore 之上
*   AFIS 给你更多的灵活性，因为你几乎是靠自己的
*   RestKit 非常庞大，一开始可能会很吓人
*   RestKit 是一个完整的解决方案，但需要时间来完全理解它的所有概念

我的最终建议是花时间尝试两者。我可以确认的是，您需要使用 AFIS 删除更多代码行，因为它不像 RestKit 那样需要您手动操作，所以这确实是一个偏好问题。

希望这能帮助您做出正确的选择！

# java - Facebook 删除请求

> ID：13857108
> 
> 赞同：2
> 
> 时间：2012-12-13T09:48:26.460
> 
> 标签：java, facebook, request

我正在尝试使用 graph api 删除 facebook 请求：

```
DELETE https://graph.facebook.com/[<REQUEST_OBJECT_ID>_<USER_ID>]?access_token=[USER or APP ACCESS TOKEN] 
```

像这样：

```
DeleteMethod method = new DeleteMethod("https://graph.facebook.com/requestId_userId?access_token=token");
HttpClient httpClient = new HttpClient();
httpClient.executeMethod(method); 
```

服务器向我发送状态代码 400，但是当我在浏览器 FB 上打开此链接时，我会返回有关请求的信息。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T09:59:39.313

我在http请求中使用属性“方法”解决了这个问题，并在应用程序访问令牌上替换了用户访问令牌，如下所示：

```
https://graph.facebook.com/[requestId_userId]?access_token=[appToken]&method=delete 
```

此网址适用于所有请求类型：发布、获取和删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-28T11:11:34.697

如果您使用 C# facebook SDK，您可以使用：

```
var fb = new FacebookClient(Config.FacebookAppId, Config.FacebookAppSecret);
var result = fb.Delete(string.Format("{0}_{1}?access_token={2}", facebookRequestId, facebookUserId, fb.AccessToken)); 
```

# telerik - 下载telerik.cms.engine.dll

> ID：13857109
> 
> 赞同：-3
> 
> 时间：2012-12-13T09:48:27.223
> 
> 标签：telerik

我在 sitefnity 项目中尝试过这篇文章[http://www.sitefinitywatch.com/blog/09-06-16/Email_Notification_about_New_Blog_Comments.aspx 。](http://www.sitefinitywatch.com/blog/09-06-16/Email_Notification_about_New_Blog_Comments.aspx)但在项目中，在 bin 文件夹中没有找到 telerik.cms.engine.dll 。

我试图从 Telerik 站点下载 telerik.cms dll，但没有找到。请你能从哪里下载telerik dll给我们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T09:53:41.453

您必须购买 Telerik 产品，它们不能免费下载。

# linux - 交叉编译开源软件的专用方法

> ID：13857114
> 
> 赞同：3
> 
> 时间：2012-12-13T09:49:10.877
> 
> 标签：linux, open-source, linux-kernel, arm, cross-compiling

我是这种行业的新手。我刚刚交叉编译`Linux kernel`。但我几乎没有什么问题要问我必须知道的。

当我们编译 Linux 内核时，我正在使用这条命令，因为我的目标平台是`ARM`.

```
make ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi- 
```

我可以使用`cross compile`任何`Open Source`类似的软件还是取决于软件支持的软件版本`cross compilation`？

Linux 内核源代码包含一个`arch folder`单独的体系结构，但是没有，为什么`gcc`？`gLibc``binutils`

但那些可以`cross-compiled`。**谁能告诉我为什么会发生这种行为？**

是否有任何标准方法可以`cross-compile`根据要求使用不同类型的软件？如果有人精通这种业务，请带领我。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:17:58.167

linux 内核有它自己的、非常特殊的构建系统——不仅用于交叉编译——还用于多架构交叉编译。这就是`arch`存在一系列文件夹的原因。

大量（但绝不是全部）开源用户空间软件使用[GNU autoconf](http://www.gnu.org/software/autoconf/)来管理配置和构建过程。的目的`autoconf`与内核构建脚本有些不同——它允许软件在各种细微不同的类 UNIX 构建主机上构建，用于同样广泛的构建目标。

`autoconf`可用于交叉编译，需要做一些工作。这里有[一些提示](http://www.gnu.org/software/autoconf/manual/autoconf-2.67/html_node/Hosts-and-Cross_002dCompilation.html)。原则上，构建过程需要知道：

*   使用哪组工具（例如 gcc、binutils）
*   目标头文件和库的暂存位置
*   在哪里安装生成的产品。

`gcc`并且`binutils`是稍微特殊的情况，因为交叉工具与主机自己的工具一起安装在开发主机上。由于构建过程很可能同时使用两者，因此完全由可执行搜索路径完成工具的选择是站不住脚的。相反，交叉工具以特定于目标的名称格式命名 - 例如

`arm-linux-gnueabi-gcc`

和

`i686-apple-darwin11-llvm-gcc`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-14T07:07:40.320

如果具有配置脚本，则有一种在 linux 中交叉编译软件的通用方法。

提取要安装的包的源代码。

看看里面是否有任何配置脚本。

如果是，则运行 ./configure --help 以查找支持编译的选项。

我通常使用以下命令进行交叉编译。

./configure --host=arm-none-linux-eabi --prefix=/path/to/where/you/want/to/install

基于包可能需要给出额外的选项。例如 --with-out= libtiff 等。

如果那没有任何配置脚本，则调整到 make 文件中。

# objective-c - 获取现有的 NSLayoutConstraint 的宽度？

> ID：13857115
> 
> 赞同：17
> 
> 时间：2012-12-13T09:49:16.617
> 
> 标签：objective-c, xcode, macos, cocoa, autolayout

我正在尝试使用自动布局为 Cocoa 中的控件设置动画。

现在，我可以设置`[[constraint animator] setConstant:newWidth];`，这很有效。但是我怎样才能得到正确的约束呢？

有了`[self constraints]`你可以获得所有约束，在这种情况下我可以选择`constraints[0]`，但约束的顺序可能会有所不同。

我怎么能确定我总是有正确的约束？约束在 Interface Builder 中设置。我已经看到您可以向其中添加 IBOutlet，但似乎没有必要。

* * *

# 我的解决方案

谢谢，效果很好。我写了一个小类。

* * *

## NSView+NSLayoutConstraintFilter.h

```
#import <Cocoa/Cocoa.h>

@interface NSView (NSLayoutConstraintFilter)
- (NSLayoutConstraint *)constraintForAttribute:(NSLayoutAttribute)attribute;
- (NSArray *)constaintsForAttribute:(NSLayoutAttribute)attribute;
@end 
```

* * *

## NSView+NSLayoutConstraintFilter.m

```
#import "NSView+NSLayoutConstraintFilter.h"

@implementation NSView (NSLayoutConstraintFilter)

- (NSArray *)constaintsForAttribute:(NSLayoutAttribute)attribute {
    NSPredicate *predicate = [NSPredicate predicateWithFormat:@"firstAttribute = %d", attribute];
    NSArray *filteredArray = [[self constraints] filteredArrayUsingPredicate:predicate];

    return filteredArray;
}

- (NSLayoutConstraint *)constraintForAttribute:(NSLayoutAttribute)attribute {
    NSArray *constraints = [self constaintsForAttribute:attribute];

    if (constraints.count) {
        return constraints[0];
    }

    return nil;
}

@end 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-12-13T10:18:09.060

每个约束都有一个属性`[constraint firstAttribute]` 它返回一个枚举 NSLayoutAttribute

```
typedef NS_ENUM(NSInteger, NSLayoutAttribute) {
    NSLayoutAttributeLeft = 1,
    NSLayoutAttributeRight,
    NSLayoutAttributeTop,
    NSLayoutAttributeBottom,
    NSLayoutAttributeLeading,
    NSLayoutAttributeTrailing,
    NSLayoutAttributeWidth,
    NSLayoutAttributeHeight,
    NSLayoutAttributeCenterX,
    NSLayoutAttributeCenterY,
    NSLayoutAttributeBaseline,

    NSLayoutAttributeNotAnAttribute = 0
}; 
```

所以你可以检查 NSLayoutAttributeWidth 的宽度。

示例代码：

```
NSArray constraints = [self constraints];
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"firstAttribute = %d", NSLayoutAttributeWidth];
NSArray *filteredArray = [constraints filteredArrayUsingPredicate:predicate];
if(filteredArray.count == 0){
      return nil;
}
NSLayoutConstraint *constraint =  [constraints objectAtIndex:0]; 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-01-12T03:41:37.613

这是在 Xcode 8.2.1 和 macOS 10.12.2 上测试的 swift 3 版本。

该代码显示了如何获取按钮的宽度和高度约束，但您可以从`NSLayoutAttribute`枚举中过滤您想要的任何内容。

```
let cons = signInButton.constraints.filter {
    $0.firstAttribute == NSLayoutAttribute.width || $0.firstAttribute == NSLayoutAttribute.height /// or other from `NSLayoutAttribute`
}
// do something with the constraints array, e.g.
NSLayoutConstraint.deactivate(cons) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-05T12:53:36.820

### 我写了一个可重用的扩展：（Swift 4.1）

```
/**
 * Utils when working with constraints
 */
extension NSLayoutConstraint{
    /**
     * Returns all constraints of kinds
     * EXAMPLE: NSLayoutConstraint.ofKind(rect.immediateConstraints, kinds: [.width,.height]) //width, height
     */
    static func ofKind(_ constraints:[NSLayoutConstraint],kinds:[NSLayoutAttribute]) -> [NSLayoutConstraint]{
        return kinds.map { kind in
            return constraints.filter { constraint in
                return constraint.firstAttribute == kind
            }
        }.flatMap({$0})//flattens 2d array to 1d array
    }
} 
```

# ios - 当应用程序进入后台时继续运行 NSOperationQueue

> ID：13857116
> 
> 赞同：5
> 
> 时间：2012-12-13T09:49:18.130
> 
> 标签：ios, multithreading, grand-central-dispatch, nsoperation, nsoperationqueue

我正在使用`NSOperation`(s) 下载文件并添加它们`NSOperationQueue`。`NSOperationQueue`当应用程序进入后台时被暂停。如果队列不会在后台挂起并开始下一个操作，是否有任何解决方法？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T10:14:38.513

当您的队列正在运行时，使用该`UIApplication beginBackgroundTaskWithExpirationHandler`调用启动一个后台任务，以保持您的下载运行。

我通常用自己的`beginBackgroundTaskWithExpirationHandler`调用来结束每个操作，并在我调用之前排队下一个操作`endBackgroundTask`，这样队列就会继续运行。

*请注意*，单个后台任务限制为 10 分钟的操作，之后 iOS 将暂停应用程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-08T12:17:04.380

-(void)applicationDidEnterBackground:(UIApplication *)application {

```
 __block UIBackgroundTaskIdentifier task = [application beginBackgroundTaskWithExpirationHandler:^{
        [application endBackgroundTask:task];
        task = UIBackgroundTaskInvalid;
    }]; 
```

}

# c# - 日期没有出现在我的视图中，使用 MVC4 DateTime 的 DataFormatString

> ID：13857122
> 
> 赞同：0
> 
> 时间：2012-12-13T09:49:24.573
> 
> 标签：c#, .net, asp.net-mvc

我在使用 MVC4 DateTime 对象正确显示日期时遇到了一些问题。

在控制器中，我根据数据库中的正确值设置日期：Birthdate = person.Birthdate

在视图模型中：

```
[DisplayFormat(DataFormatString = "DD/mm/YY", ApplyFormatInEditMode = true, ConvertEmptyStringToNull = true)]
public DateTime? Birthdate { get; set; } 
```

在视图中：

```
@using (Html.BeginHorizontalControlFor(m => m.Birthdate))
{
    @Html.EditorFor(model => model.Birthdate)
    @Html.ValidationMessageFor(model => model.Birthdate)
} 
```

输出：

```
<input class="text-box single-line input-validation-error" data-val="true" data-val-date="The field Birthdate must be a date." id="Birthdate" name="Birthdate" type="datetime" value="DD/mm/YY"> 
```

我的日期值在哪里？为什么它不起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T09:53:10.413

`DD/mm/YY`是错误的格式 - 所有组件的大小写都是错误的。你应该使用`dd/MM/yy`（或类似的东西；我个人建议使用`yyyy`而不是`yy`）。有关更多详细信息，请参阅[自定义日期/时间格式的 MSDN 文档](http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx)。

另请注意，这是非常特定于文化的 - 您确定这是适合您所针对的所有文化的格式吗？（我怀疑，从可用性的角度来看，使用某种日历控件会更好。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T17:29:46.617

我必须修改该属性上 DataFormatString 位的语法才能使其正常工作。尝试：

```
[DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = "{0:MM-dd-yyyy}")] 
```

# jquery - jquery：获取div的所有孩子的值

> ID：13857123
> 
> 赞同：2
> 
> 时间：2012-12-13T09:49:31.407
> 
> 标签：jquery

我正在尝试使用 jquery 来获取 div 的所有子元素的值。

```
<div class='parent'>
    <input type='text' value='1' class='child' />
    <input type='text' value='2' class='child' />
    <input type='text' value='3' class='child' />
    <input type='text' value='4' class='child' />
</div> 
```

子输入是使用 db 中的 php 生成的。他们的数量各不相同。

我试图得到类似的东西：

```
variable = (child1_value + child2_value + child3_value + child4_value + ... + "childX_value"); 
```

我怎样才能使这项工作适用于任何数量的孩子？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T09:52:15.623

您可以使用每个...

```
var total = 0;

$(".child").each(function() {
    total += parseInt($(this).val());
}); 
```

或类似的

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T09:55:37.593

尝试这个，

```
$(document).ready(function(){
    var array = [];
    $('.child').each(function(){
       array.push($(this).val()); // store in an array for reuse
    });
    var total = 0;
    for (var i = 0; i < array.length; i++) {
        total += parseInt(array[i]); // sum up values in the array
    }
    alert(total);
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-13T09:52:36.663

```
var value = 0;
$('.parent input').each(function() {
  value += parseInt($(this).val());
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T09:50:41.717

添加这些值。

**[现场演示](http://jsfiddle.net/5PHTV/1/)**

```
sum = 0;
$('.parent :input').each(function(){     
      sum+= parseFloat($(this).val());
})
alert(sum); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T09:54:53.503

```
var result = 0;
$("input").each(function(index,value){ 
  result += parseFloat($(this).val());
});

Demo: http://jsfiddle.net/JmsAb/1/ 
```

# node.js - 如何保护移动和 AJAX 调用的 JSON RESTful API？

> ID：13857136
> 
> 赞同：5
> 
> 时间：2012-12-13T09:50:44.120
> 
> 标签：node.js, rest, oauth, express, oauth-2.0

我正在构建一个使用 node.js 和 express.js 构建的 JSON RESTful API，

API 将被客户端 AJAX 调用（来自 Ember.js）和原生 Android 移动应用程序（标准 HTTP 请求）访问。

我正在研究两件事：

1) 身份验证 - 如何知道哪个用户正在访问 API，在开发中我为每个用户使用了一个 API 密钥并在请求标头中传递了它

2) 安全性——如何确保只有真正经过身份验证的用户才能访问私人数据。

API 密钥对于本地移动客户端和 AJAX 调用都是一个好的策略吗？（用户将 user+pass 发送到 API 并接收 API 密钥，然后用于创建其他请求）

我应该看类似 OAUTH (1 or 2) 的东西吗？我目前没有计划让 3rd 方应用程序访问 API，因此我不需要授权，但这可能会在未来发生变化。

这是否意味着我需要拥有自己的 OAUTH 提供商服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T12:47:36.570

您可以使用 express.js 会话进行常规身份验证，并使用存储在会话存储中的会话密钥。为了与非 cookie REST 调用兼容，您可以使用添加到查询或请求正文的附加字段“mySessionId”。然后修改您的身份验证以检查该额外字段。也许一个例子会更有用：

快递：

```
var server = express.createServer();
server.use(express.cookieParser());
server.use(express.session(sessionInfoObject));
server.get("/path/to/endpoint", function(request, response) {
    if(typeof(request.query.mySessionId) != "undefined") {
        // authenticate with the session id in mySessionId
        // eg: if (getSession(request.query.mySessionId).isAuth) {}
    }
    else {
        // session authentication, use request.session
        // eg: if (getSession(request.query.mySessionId).isAuth) {}
    }
}); 
```

如果您选择走这条路，请确保在对用户进行身份验证时，您还会在会话中添加与用户相关的数据。它会让你的生活轻松很多。例子：

```
if(authenticated) {
    request.session.isAuth = true;
    request.session.customId = customId;
} 
```

有其他选择，但这是我觉得最简单的一个。

# mysql - 对两个表的 SQL 更新查询

> ID：13857138
> 
> 赞同：0
> 
> 时间：2012-12-13T09:50:47.710
> 
> 标签：mysql, sql

我有两张桌子：

```
Table Name: One
id  | status
----+--------
1   | 1
2   | 1
3   | 1

Table Name: Two
id  | model
----+--------
1   | m001
2   | m002
3   | m003 
```

假设我想更改 to 的`m001`状态`0`。如何使用 SQL 语句实现这一点？即如果model = m001，获取id，转到table.one，将状态更改为0。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:54:03.033

由于您没有提到您的`RDBMS`，请尝试以下任何一种：

为了`MySQL`

```
UPDATE  One a
        INNER JOIN Two b
            ON a.ID = b.ID
SET     a.Status = 0
WHERE   b.model = 'm001' 
```

为了`MSSQL`

```
UPDATE  a
SET     a.Status = 0
FROM    One a
        INNER JOIN Two b
            ON a.ID = b.ID
WHERE   b.model = 'm001' 
```

哪个适用于其他 DBMS

```
UPDATE  One 
SET     Status = 0
WHERE   ID = (  SELECT ID
                FROM two 
                WHERE model = 'm001') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T09:54:13.843

```
 UPDATE TabelOne as a SET Status = 0
   WHERE a.id = (select id from two where model = 'm001') 
```

我的 SQL -

```
 UPDATE TabelOne as a 
   INNER JOIN two as b ON a.id = b.id and b.model = 'm001'
   SET Status = 0 
```

# sass - sass手表和指南针手表有什么区别

> ID：13857139
> 
> 赞同：13
> 
> 时间：2012-12-13T09:50:59.813
> 
> 标签：sass

对于目前我正在使用的 sass

```
sass --watch path1:path2 
```

将 scss 文件编译为 css 但我什至发现

```
compass watch path1:path2 
```

还。这两款手表有区别吗？我创建了一个项目，`compass create project`发现有两个主要文件夹被调用`sass`，`stylesheets`我查看了`screen.scss`文件并找到了代码`@import "compass/reset";`，但没有调用任何目录`compass`来调用重置。

我对 sass 和 compass 真的很陌生。谁能解释我如何使用指南针？任何帮助将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-16T19:44:58.873

要了解区别，首先要了解 Sass 和 Compass 的区别。

*   **Sass**是一种语言，它是 CSS 的扩展。它内置了数学函数并增加了添加更多函数的能力`mixins`- 但它不包括任何函数。
*   **Compass**是 Sass 的一个框架。*它在 Sass之上*添加了额外的功能，例如 CSS3 mixin、布局助手和其他实用程序。它还使您能够将额外的 3rd 方框架添加到您的项目中（称为[扩展](http://compass-style.org/help/tutorials/extensions/)）。

因此，两者之间的区别是：

*   **sass --watch**将编译 Sass 文件，但因为它对 compass 一无所知，所以它会忽略它。
*   **compass watch**就像 Sass 命令一样，只是它知道额外的 Compass 功能。因此，当您导入时`compass/reset`- 它知道要导入什么。

您可以在此处找到所有 Compass 功能的参考：http: [//compass-style.org/reference/compass/](http://compass-style.org/reference/compass/)

在每个页面的顶部，它将显示要导入 Compass 的哪个部分。例如，这里是关于`reset`：[http ://compass-style.org/reference/compass/reset/ 的页面](http://compass-style.org/reference/compass/reset/)

# java - JavaFX 2 小程序可以请求焦点，从而专注于浏览器/选项卡吗？

> ID：13857142
> 
> 赞同：2
> 
> 时间：2012-12-13T09:51:17.427
> 
> 标签：java, javascript, applet, focus, javafx-2

我想知道是否有任何解决方案可以显示并关注浏览器的选项卡，该选项卡包含来自小程序的 javafx 2 小程序。我不认为有一个简单的解决方案，但谁知道:)

PS：显然， stage.requestFocus() 和 stage.toFront() 不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-10-17T17:53:18.333

不，绝对没有办法使用没有自定义本机桥接来完成这项工作，即使使用 javascript 桥接也是如此。下一个版本的 JavaFX 也没有。

Chrome 不再支持小程序，所以我认为没有人会再尝试了。

# iphone - 2个iOS设备之间的蓝牙连接

> ID：13857143
> 
> 赞同：12
> 
> 时间：2012-12-13T09:51:21.763
> 
> 标签：iphone, ios, bluetooth, core-bluetooth, bluetooth-lowenergy

我正在尝试iOS 5.0 中引入的[Core Bluetooth 框架。](http://developer.apple.com/library/ios/#documentation/CoreBluetooth/Reference/CoreBluetooth_Framework/_index.html)根据StackOverflow 本身的许多线程（[其中之一）：](https://stackoverflow.com/questions/10697728/ios-and-bluetooth-low-energy)

1.  核心蓝牙框架可用于与**任何** 具有蓝牙低功耗 (4.0) 硬件支持的硬件进行通信。
2.  如果您使用的是核心蓝牙技术，我们可以忘记 Made For iPhone/iPod (MFI) 程序。

我有 iPhone 5、iPhone 4S、Google Android Nexus 7，而且我确信至少前 2 个硬件支持 BLE。

## 我的问题是

好吧，我在我的 iPhone 4S/iPhone 5 上尝试了下面给出的代码，但它未能扫描并找到附近的 iPhone5/iPhone 4S。我可以确认，两台设备都打开了蓝牙。委托方法`didDiscoverPeripheral`永远不会被调用。可能是什么原因？我错过了什么吗？

这是我的代码（精简为一个小型测试项目）。

### 视图控制器.h

```
@interface ViewController:UIViewController<CBCentralManagerDelegate, CBPeripheralDelegate{
}
@property (strong, nonatomic) CBCentralManager *mCentralManager;
@end 
```

### 视图控制器.m

```
@implementation ViewController
@synthesize mCentralManager;

- (void)viewDidLoad{
    [super viewDidLoad];
    mCentralManager = [[CBCentralManager alloc]initWithDelegate:self queue:nil];
    [self scanForPeripherals];
}

- (void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI {
    NSLog(@"Received periferal :%@",peripheral);
}

- (int) scanForPeripherals {
    if (self.mCentralManager.state != CBCentralManagerStatePoweredOn)
    {
        NSLog(@"self.mCentralManagerState : %d",self.mCentralManager.state);
        return -1;
    }
    //Getting here alright.. bluetooth is powered on.
    NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:NO], CBCentralManagerScanOptionAllowDuplicatesKey, nil];
    //Documentation says passind nil as device UUID, scans and finds every peripherals
    [self.mCentralManager scanForPeripheralsWithServices:nil options:options];
    return 0;
}
@end 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-13T12:51:18.750

正如 spamsink 所评论的那样，一台设备需要充当外围设备，而一台设备需要充当中心设备才能进行通信。

Apple有一个很棒的[示例应用程序可以做到这一点。](https://developer.apple.com/library/ios/#samplecode/BTLE_Transfer/Introduction/Intro.html#//apple_ref/doc/uid/DTS40012927)此外，查看 WWDC 2012 会议 703 - [CoreBluetooth 101](https://developer.apple.com/videos/wwdc/2012/?id=703)和 705 - [Advanced CoreBluetooth](https://developer.apple.com/videos/wwdc/2012/?id=705)以获得有关 CoreBluetooth 框架使用的很好解释和示例。

另请注意，要使设备处于外围模式，它需要更新到 iOS 6.0 或更高版本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-14T08:21:11.223

好吧，我对蓝牙低功耗 (BLE) 的理解很差。正如公认的答案所指出的，**一台设备必须充当中央设备，而另一台设备必须充当外围设备才能进行通信**。

iOS 到 iOS 和 iOS 到 Mac OS BLE 通信的一个很好的示例源代码在[这里](https://github.com/KhaosT/CBPeripheralManager-Demo)。

需要考虑的一些要点

1.  在 iOS 5.0 -> iPhone 只能充当 Central，因此无法在 2 个 iOS 设备之间进行通信。
2.  在 iOS 6.0 上 -> iPhone 也可以充当外围设备。因此，要进行通信，至少一台设备必须在 iOS 6.0（可能更高版本）上运行。
3.  第一款添加了 BLE 硬件的 iPhone 设备是 iPhone 4S。因此，即使 iPhone 4 可以运行 iOS 5，也无法在其上进行 BLE 通信。

嗯，有些资料。。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-19T07:15:54.250

如果您在 didUpdateState 委托中调用 scanForPeripherals 函数，那么它可以工作，因为委托函数无法返回。

# html - Firefox 图像 div 不显示（在 chrome 中工作）

> ID：13857147
> 
> 赞同：0
> 
> 时间：2012-12-13T09:51:43.777
> 
> 标签：html, css, google-chrome, firefox

我有一个我一直在使用的网站，并且在 Firefox 中，页面顶部的 div 由于某种原因没有显示，但它在 Chrome 中显示！

有问题的 div 是

```
<div id="top-header"></div>

#top-header {
background-image: url(assets/images/theme/bg-top.jpg);
background-position: left top;
background-repeat: repeat-x;
height: 20px;
} 
```

它有一个背景图像和一个设定的高度，并且在一个容器 div 中。好像有浮动问题？但我已经尝试清除它。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:11:59.267

您的 html 元素有一个`margin-top: -40px;`将其拉出视图，因为`#top-header`它只有 20 像素高。

# jquery - jQuery Drag Dock Panel 类似silverlight blacklight 控制工具包拖动dock panel

> ID：13857148
> 
> 赞同：2
> 
> 时间：2012-12-13T09:51:43.667
> 
> 标签：jquery, html, silverlight, blacklight

我试图找到一些如何创建拖拽面板的例子，比如 JQuery 中的 silverlight blacklight contorls。非常欢迎任何链接或示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-21T08:35:59.160

检查这个小部件。它是一个开源的 MIT 许可证。

[http://www.dockspawn.com/](http://www.dockspawn.com/)

它做你想做的事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-22T07:10:13.863

我找到了另一个框架，它是一个响应式布局。请检查这个[Web Cabin Docker](https://github.com/WebCabin/wcDocker)。

# android - Android Activity 生命周期问题

> ID：13857150
> 
> 赞同：1
> 
> 时间：2012-12-13T09:51:45.430
> 
> 标签：android, android-activity

**我真正想要的是什么？**

在我的应用程序中，我有 4/5 个活动和一个与服务器对话的后台线程。我想有一些方法来获得我的应用程序的最高活动。但令人惊讶的是，他们不是我能得到的吗？

**我做了什么 ？**

搜索了一段时间后，我实现了一个`mCurrentOnTopActivity`类型变量，并且`Activity`在每个活动中我都设置了该变量。（这实际上是一个坏方法）。`onResume()``onPause()`

**我到达了哪里？**

现在他们的情况是，在从服务器接收到一些消息后，我想在 UI 线程上做一些事情，即显示一些对话框或刷新`ListView`，现在他们无法检查是否`mCurrentOnTopActivity`引用了实际运行的活动（完成或无论出于何种原因失去焦点）。

*我现在想要什么？* 现在我基本上需要帮助解决以下两个问题：-

1.  我如何知道我的应用程序中当前运行最多的活动是什么？
2.  我如何知道活动是否仍在运行（即我想要一些在and`isActicitAlive() (imaginary function)`调用之间返回 true 的东西？`onResume()``onPause()`

我在活动中使用变量实现了 2 点并将其设置为`onResume()`和`onPause()`。但是，这是唯一的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:56:27.087

```
ArrayList<String> runningactivities = new ArrayList<String>();

ActivityManager activityManager = (ActivityManager)getBaseContext().getSystemService (Context.ACTIVITY_SERVICE); 

List<RunningTaskInfo> services = activityManager.getRunningTasks(Integer.MAX_VALUE); 

for (int i1 = 0; i1 < services.size(); i1++) { 
    runningactivities.add(0,services.get(i1).topActivity.toString());  
} 

if(runningactivities.contains("ComponentInfo{com.app/com.app.main.MyActivity}")==true){
    Toast.makeText(getBaseContext(),"Activity is in foreground, active",1000).show(); 
} 
```

有了这个，您可以检查您正在寻找的活动是否正在运行。

esle，如果要使用`onStart()`and`onStop()`方法，可以使用下面的代码，

```
class MyActivity extends Activity {
     static boolean active = false;

      @Override
      public void onStart() {
         super.onStart();
         active = true;
      } 

      @Override
      public void onStop() {
         super.onStop();
         active = false;
      }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T09:58:30.640

您可以使用[服务绑定](http://developer.android.com/guide/components/bound-services.html)，以便只有最顶层的活动绑定到服务。

# dart - 扩展列表 班级

> ID：13857151
> 
> 赞同：6
> 
> 时间：2012-12-13T09:51:45.400
> 
> 标签：dart

是否可以用我自己的特定列表扩展通用列表。就像是：

```
class Tweets<Tweet> extends List<T> 
```

如果我想用自己的构造函数进行构造，构造函数会是什么样子：

```
Datasource datasource = new Datasource('http://search.twitter.com/search.json');
Tweets tweets = new Tweets<Tweet>(datasource); 
```

那么如何调用父构造函数，因为这不是在扩展类中完成的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-30T15:06:53.510

这是我发现扩展列表行为的方法：

1.  导入“飞镖：收藏”；
2.  扩展 ListBase
3.  实现 [] 和长度获取器和设置器。

请参阅下面的改编推文示例。它使用自定义推文方法和标准列表方法。

请注意 add/addAll 已被删除。

输出：

```
[hello, world, hello]
[hello, hello]
[hello, hello] 
```

代码：

```
import 'dart:collection';

class Tweet {
  String message;

  Tweet(this.message);
  String toString() => message;
}

class Tweets<Tweet> extends ListBase<Tweet> {

  List<Tweet> _list;

  Tweets() : _list = new List();

  void set length(int l) {
    this._list.length=l;
  }

  int get length => _list.length;

  Tweet operator [](int index) => _list[index];

  void operator []=(int index, Tweet value) {
    _list[index]=value;
  }

  Iterable<Tweet> myFilter(text) => _list.where( (Tweet e) => e.message.contains(text));

}

main() {
  var t = new Tweet('hello');
  var t2 = new Tweet('world');

  var tl = new Tweets();
  tl.addAll([t, t2]);
  tl.add(t);

  print(tl);
  print(tl.myFilter('hello').toList());
  print(tl.where( (Tweet e) => e.message.contains('hello')).toList());
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T18:03:01.690

Dart`List`是一个带有工厂的抽象类。

我认为您可以像这样实现它：

```
class Tweet {
  String message;

  Tweet(this.message);
}

class Tweets<Tweet> implements List<Tweet> {
  List<Tweet> _list;

  Tweets() : _list = new List<Tweet>();

  add(Tweet t) => _list.add(t);
  addAll(Collection<Tweet> tweets) => _list.addAll(tweets);
  String toString() => _list.toString();
}

main() {
  var t = new Tweet('hey');
  var t2 = new Tweet('hey');

  var tl = new Tweets();
  tl.addAll([t, t2]);

  print(tl);
} 
```

似乎没有任何直接的方法可以做到这一点，看起来还有一张错误票：[http ://code.google.com/p/dart/issues/detail?id=2600](http://code.google.com/p/dart/issues/detail?id=2600)

**更新：**一种方法是使用`noSuchMethod()`和转接呼叫。

# jquery - jQuery Toggle 不能在 iPad 上运行？

> ID：13857153
> 
> 赞同：0
> 
> 时间：2012-12-13T09:52:03.153
> 
> 标签：jquery

我正在对一个按钮（链接）进行切换以显示一个顶部面板，单击一个向此添加一个类的按钮，面板向下滑动，然后当面板关闭时导航淡入。

这在所有浏览器上都可以正常工作，但在我的 iPad 上，removeclass 没有删除？

```
$("header").css("margin-top", "-130px");
$("a#mainMenu").toggle(function() {
        $(this).addClass("navopen");
        $("header").animate({ marginTop: "0" }, 600);
        $("nav").delay(400).fadeIn(400);
        return false;
    }, function() {
        $(this).removeClass("navopen");
        $("nav").fadeOut(400);
        $("header").delay(300).animate({ marginTop: "-130px" }, 500);
}); 
```

任何帮助都会很棒。

问候，

TJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:02:14.067

托马斯是的，这里没有触发器。你应该像这样编辑。

```
$("a.somelinkclass").click(function(){
 $("a#mainMenu").toggle(function() {
    $(this).addClass("navopen");
    $("header").animate({ marginTop: "0" }, 600);
    $("nav").delay(400).fadeIn(400);
    return false;
}, function() {
    $(this).removeClass("navopen");
    $("nav").fadeOut(400);
    $("header").delay(300).animate({ marginTop: "-130px" }, 500);
});
}); 
```

# iphone - 在搜索结果中查找 objectForKey

> ID：13857155
> 
> 赞同：1
> 
> 时间：2012-12-13T09:52:13.727
> 
> 标签：iphone, ios

我有一个带有对象和键的 NSMutableArrays 列表`NSMutableDictionaries`。喜欢：

```
 [silestoneArray addObject:[[NSMutableDictionary alloc]
                           initWithObjectsAndKeys:@"Zen: Unsui", @"name",
                           @"silestone-unsui1.jpg", @"image", nil]]; 
```

我有一个有效的搜索，但我现在正试图继续查看详细信息。我需要找到一种从搜索结果中调用对象和键的方法，以便当我从搜索结果中分离时，传递正确的数据。

我的 didselectrowatindexpath 和 prepareforsegue 看起来像这样：

```
 - (void)tableView:(UITableView *)tableView
didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(tableView == self.mainTableView){

        [self.detailViewController setDetailItem:[[contentsList objectAtIndex:indexPath.section]
                                                  objectAtIndex: indexPath.row]];}
    else
        [self.detailViewController setDetailItem:[[contentsList objectAtIndex:indexPath.section]
                                                  objectAtIndex: indexPath.row]];
}

#pragma mark - Segue

-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    if ([[segue identifier] isEqualToString:@"detailview"]) {
        UIViewController *detailViewController = [segue destinationViewController];
        // In order to manipulate the destination view controller, another check on which table (search or normal) is displayed is needed
        if(sender == self.searchDisplayController.searchResultsTableView) {
            detailViewController = self.detailViewController=segue.destinationViewController;
        }
        else {NSLog(@"Sender: %@", [sender class]);
            self.detailViewController=segue.destinationViewController;
        }
    }
} 
```

这将传递给一个详细视图，该视图调用数据，如下所示：

```
- (void)setDetailItem:(id)newDetailItem
{
    if (_detailItem != newDetailItem) {
        _detailItem = newDetailItem;

        // Update the view.
        [self configureView];
    }
}

- (void)configureView
{
    // Update the user interface for the detail item.

    if (self.detailItem) {
        self.navigationItem.title = [self.detailItem objectForKey:@"name"];
        [self.detailImage setImage:[UIImage imageNamed:self.detailItem[@"image"]]];
    }
} 
```

我现在遇到的问题是，当我从结果中分离出来时，它会从我的原始表中发送结果，所以无论结果的单元格说什么，图像和标题都将与未过滤结果的顺序相对应。

我知道这是因为我在 didselectrow 中都调用了 contentsList，但是当我尝试搜索结果时它崩溃了。

错误报告是：`-[__NSCFConstantString objectForKey:]: unrecognized selector sent to instance 0x21ed8`

在豁免断点下，它表示此时正在抛出它：

```
 self.navigationItem.title = [self.detailItem objectForKey:@"name"]; 
```

在详细视图的这一部分中：

```
 - (void)configureView
{
    // Update the user interface for the detail item.

    if (self.detailItem) {
        self.navigationItem.title = [self.detailItem objectForKey:@"name"];
        [self.detailImage setImage:[UIImage imageNamed:self.detailItem[@"image"]]];
    }
} 
```

谢谢你的帮助。

# mysql - 在 MySQL 表上以逗号分隔的总和

> ID：13857157
> 
> 赞同：0
> 
> 时间：2012-12-13T09:52:14.373
> 
> 标签：mysql, sum, summary

我有一个具有“sum”和“group by”功能的 MySQL 视图。它通过客户名称获取每个客户的总价格，我想将其汇总为订购的部分，而不是作为不同的数字列，而是作为单个单元格上的逗号分隔文本数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:53:25.587

采用`CONCAT(SUM(COLA), ', ', SUM(COLB), ', ', ...)`

# ruby-on-rails - Rails - 如何从片段缓存中排除代码块

> ID：13857160
> 
> 赞同：3
> 
> 时间：2012-12-13T09:52:21.363
> 
> 标签：ruby-on-rails, caching

我正在使用片段缓存，但我有用户特定的内联代码，例如：

```
<% cache @page do %>
  stuff here
<% if current_user %>
  user specific
<% end %>
  more here
<% end %> 
```

所以我想排除用户特定的几个代码块。有没有办法在 Rails 中做到这一点，或者我应该在开始时做一个 if 语句并为登录用户和普通访问者制作不同的缓存？（我将以这种方式有大量的代码重复）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T10:20:46.057

对于每个用户的片段，您可以将模型放在数组中：

```
<% cache [@page, current_user] do %> 
```

Rails 会用它们生成一个缓存键，例如：

```
pages/page_id-page_timestamp/users/user_id-user_timestamp 
```

这样，您的片段将在用户/页面更新时失效，因为时间戳来自它们`updated_at`（有关详细信息，请参阅[cache_key](http://api.rubyonrails.org/classes/ActiveRecord/Integration.html#method-i-cache_key)）。

# c# - 与枚举事件相比，使用类类型事件有什么优势？

> ID：13857162
> 
> 赞同：0
> 
> 时间：2012-12-13T09:52:25.117
> 
> 标签：c#, events, implementation

与枚举事件相比，使用类类型事件有什么优势？

最初，我认为使用 Prism 中的类类型事件会更好，因为可以在编译时检查这些事件。但经过一番思考，这似乎只适用于字符串引用的事件。枚举事件似乎也很好。它仍然可以在编译时检查，也可以很容易地重构。

通过类类型的事件，我的意思是这样的：

```
eventAggregator.GetEvent<MouseEvent>.Publish(eventArgs); 
```

而枚举事件可能看起来像这样（类似于 Flex 中事件的工作方式）：

```
eventAggregator.Publish(MouseEvent.Double_Click, eventArgs); 
```

那么，使用类类型事件相对于枚举事件有哪些优缺点呢？枚举事件的缺点是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:19:20.977

枚举事件唯一可能有一些小好处的时候是多个事件应该触发同一段代码。然而，与每个事件应该触发不同代码的更常见的缺点相比，这个小好处是相当微不足道的。假设您正在创建某种库，如果您可以想象开发人员在他们的应用程序中将多个事件同义，这是一个很好的迹象，表明您的事件没有非常明确地定义并且可能会被重新设计。

# javascript - 如何防止 Phonegap 应用程序中的地理定位双重提示？

> ID：13857165
> 
> 赞同：8
> 
> 时间：2012-12-13T09:52:34.587
> 
> 标签：javascript, iphone, ios, cordova, geolocation

我为 iPhone 创建了一个 PhoneGap 应用程序，它通过 webview 中的 JavaScript 使用地理定位。

当我第一次运行该应用程序时，它会提示我允许此应用程序的地理定位。

当我点击“ok”时，它会再次提示我同样的问题，但这次它指出“index.html”需要使用地理位置的权限。

这是有道理的，因为 iOS 可能第一次想要允许应用程序本身的地理定位，而浏览器第二次想要获得权限。

但是，因为不会带来很好的用户体验：

如何防止这种双重提示？（如果可以防止第二个提示，我就足够了）

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T14:03:31.723

我找到了问题的原因。

调用`navigator.geolocation.getCurrentPosition(onsuccess, onerror)`发生在 Phonegap 完全加载之前。

这意味着**webview**的地理定位调用（而不是通过 PhoneGap 的本地调用）被触发，这将再次请求许可（这确实有意义）。将其与智能手机上的普通 Safari 浏览器进行比较。它会要求每个新网站的地理位置许可。在应用程序启动时通过 PhoneGap 加载 index.html 时也是如此。

但是，解决方案是等待 PhoneGap 完全加载时触发的 deviceready 事件：

```
document.addEventListener("deviceready", function(){
     navigator.geolocation.getCurrentPosition(onsuccess, onerror, params);
}, false); 
```

这将使 PhoneGap API 可用，它会覆盖浏览器的默认 HTML5 地理定位调用，并通过本机调用（您已在第一个提示中接受）获取设备的地理位置。

这将起作用，因为 PhoneGap 的 API 调用与 HTML5 的标准 W3C 调用相同：http: [//docs.phonegap.com/en/2.2.0/cordova_geolocation_geolocation.md.html#Geolocation](http://docs.phonegap.com/en/2.2.0/cordova_geolocation_geolocation.md.html#Geolocation)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:03:08.623

看看这个： [在 iPhone 上使用 PhoneGap 的位置许可警报](https://stackoverflow.com/questions/1673579/location-permission-alert-on-iphone-with-phonegap)

第二个似乎是 Webkit 警报。为了防止这种情况，您似乎必须简单地将所有 js 文件移动到根目录。告诉我，如果它有效，因为我将不得不很快解决同样的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-18T11:28:06.287

终于解决了这个问题。

在 index.html 中，只需将您的 cordova.js 向上移动

<script src="cordova.js"></script>

作为要包含的第一个 js 文件（特别是确保它在 maps include js 之上）。这将确保提示只显示一次

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-13T23:17:49.240

我通过移动解决了这个问题

```
<script src="cordova.js"></script> 
```

作为**要包含的最后一个脚本**

# azure - 由于 InconsistentFSSStateException 导致的 Hadoop Namenode 启动失败

> ID：13857170
> 
> 赞同：2
> 
> 时间：2012-12-13T09:52:56.553
> 
> 标签：azure, hadoop, cluster-computing, startup

我正在 Windows Azure 上建立一个 Hadoop (v1.1.1) 集群。我正在尝试使用以下方法启动名称节点进程：

`service hadoop-namenode start`

但是，我一直收到以下错误，该错误与 VM 重新启动时被擦除有关。我将此目录移出，因此不会每次都将其删除，但仍然会发生。任何帮助将不胜感激。

```
STARTUP_MSG: Starting NameNode
STARTUP_MSG:   host = master/10.77.42.61
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 1.1.1
STARTUP_MSG:   build = https://svn.apache.org/repos/asf/hadoop/common/branches/branch-1.1 -r 1411108; compiled by 'hortonfo' on Mon Nov 19 10:44:13 UTC 2012
************************************************************/
2012-12-13 09:38:54,102 INFO org.apache.hadoop.metrics2.impl.MetricsConfig: loaded properties from hadoop-metrics2.properties
2012-12-13 09:38:54,222 INFO org.apache.hadoop.metrics2.impl.MetricsSourceAdapter: MBean for source MetricsSystem,sub=Stats registered.
2012-12-13 09:38:54,230 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: Scheduled snapshot period at 60 second(s).
2012-12-13 09:38:54,230 INFO org.apache.hadoop.metrics2.impl.MetricsSystemImpl: NameNode metrics system started
2012-12-13 09:38:54,675 INFO org.apache.hadoop.metrics2.impl.MetricsSourceAdapter: MBean for source ugi registered.
2012-12-13 09:38:54,714 INFO org.apache.hadoop.metrics2.impl.MetricsSourceAdapter: MBean for source jvm registered.
2012-12-13 09:38:54,720 INFO org.apache.hadoop.metrics2.impl.MetricsSourceAdapter: MBean for source NameNode registered.
2012-12-13 09:38:54,804 INFO org.apache.hadoop.hdfs.util.GSet: VM type       = 64-bit
2012-12-13 09:38:54,810 INFO org.apache.hadoop.hdfs.util.GSet: 2% max memory = 2.475 MB
2012-12-13 09:38:54,810 INFO org.apache.hadoop.hdfs.util.GSet: capacity      = 2^18 = 262144 entries
2012-12-13 09:38:54,810 INFO org.apache.hadoop.hdfs.util.GSet: recommended=262144, actual=262144
2012-12-13 09:38:54,890 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: fsOwner=hdfs
2012-12-13 09:38:54,895 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: supergroup=supergroup
2012-12-13 09:38:54,895 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: isPermissionEnabled=true
2012-12-13 09:38:54,915 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: dfs.block.invalidate.limit=100
2012-12-13 09:38:54,915 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: isAccessTokenEnabled=false accessKeyUpdateInterval=0 min(s), accessTokenLifetime=0 min(s)
2012-12-13 09:38:55,429 INFO org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Registered FSNamesystemStateMBean and NameNodeMXBean
2012-12-13 09:38:55,465 INFO org.apache.hadoop.hdfs.server.namenode.NameNode: Caching file names occuring more than 10 times
2012-12-13 09:38:55,471 INFO org.apache.hadoop.hdfs.server.common.Storage: Cannot access storage directory /hadoop/name
2012-12-13 09:38:55,474 ERROR org.apache.hadoop.hdfs.server.namenode.FSNamesystem: FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /hadoop/name is in an inconsistent state: storage directory does not exist or is not accessible.
        at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:303)
        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:100)
        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:411)
        at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:379)
        at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:277)
        at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:529)
        at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1403)
        at org.apache.hadoop.hdfs.server.namenode.NameNode.main(NameNode.java:1412)
2012-12-13 09:38:55,476 ERROR org.apache.hadoop.hdfs.server.namenode.NameNode: org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /hadoop/name is in an inconsistent state: storage directory does not exist or is not accessible.
        at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:303)
        at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:100) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:25:52.027

将目录的权限（您在 hdfs-site.xml 文件中指定为“dfs.name.dir”属性的值）更改为 755，并将此目录的用户更改为当前用户。顺便说一句，你能做一个成功的格式吗？

# android - 基于屏幕大小的Android背景

> ID：13857171
> 
> 赞同：0
> 
> 时间：2012-12-13T09:52:58.883
> 
> 标签：android, android-layout

我正在创建一个 Android 应用程序，并且想要为手机大小的屏幕和平板电脑大小的屏幕提供不同的背景图像。我已经有不同分辨率的不同分辨率图像（`mdpi`等`hdpi`）。挑战在于大多数平板电脑都使用`mdpi`，但有些手机也可能使用它。

我试图做一些研究，但似乎只有在布局中定义屏幕尺寸是可能的，例如`res/layout/layout-large`. 这是否意味着我必须为平板电脑创建一个单独的 xml，链接到`@drawable/tablet-background`? 或者是否有任何其他解决方案，无论是 xml 还是程序化？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:14:36.463

*mdpi*，*hpdi*等是指屏幕密度，它与平板电脑或手机等设备无关。如果我理解正确，您要做的是为平板电脑和手机使用不同的背景图像。有以下三种方式：

1.  *使用layout-large、layout-xlarge*文件夹为平板电脑创建 xml 布局和为手机创建 xml 布局
2.  *在布局*和*布局大*文件夹中使用相同的 xml 布局（元素 id 除外），并使用以下内容以编程方式更改背景：

    ```
    public boolean isTablet(){
        return (findViewById(R.id.tablet_view) != null); 
    } 
    ```

    其中 tablet_view 是仅存在于*layout-large* xml 布局中的元素 id。

3.  另一个技巧：[确定设备是智能手机还是平板电脑？](https://stackoverflow.com/questions/9279111/determine-if-the-device-is-a-smartphone-or-tablet)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:37:24.530

> 并希望为手机大小的屏幕和平板电脑大小的屏幕提供不同的背景图像

尝试`drawable`使用所需的屏幕尺寸以及目标设备的密度值来限定文件夹，例如`drawable-large-mdpi`. 根据[配置限定符表](http://developer.android.com/guide/topics/resources/providing-resources.html#AlternativeResources)，屏幕尺寸必须排在第一位。

# jquery - 当替换图像未加载时，img 元素上的错误（函数）导致无限循环

> ID：13857176
> 
> 赞同：1
> 
> 时间：2012-12-13T09:53:11.207
> 
> 标签：jquery, image

我的脚本在表格中附加了一些代码来加载图像。但是，它会根据表的内容解释图像链接。这有时会导致它加载错误图像。我创建了一个占位符图像，如果第一个图像失败，则会加载该图像，但是如果该占位符无法加载，则脚本将进入无限循环。

```
$(document).ready(function() {
    $('tr[id^="mini"]').each(function(index) {
        var s = $(this).find('td:first');
        var product = s.text().replace(/\s+/g, '');
        s.append('<br><a href="/-p/' + product + '.htm" target="_blank">View Live</a><br><a title="Click for bigger image" href="/PhotoDetails.asp?ShowDESC=Y\&amp;ProductCode=' + product + '" onclick="window.open(\'/PhotoDetails.asp?ShowDESC=Y\&amp;ProductCode=' + product + '\',\'Option\',\'scrollbars=yes,menubar=no,status=no,location=no,width=600,height=640\'); return false;" target="_blank"><img src="/v/vspfiles/photos/' + product + '-0.jpg" border="0" style="max-width:150px;max-height:150px" id="monkey-inserted-image" /></a>');
    });
    // This checks for images that do not load //
    $('img#monkey-inserted-image').error(function() {
        $(this).removeAttr("id").attr("src", "/tamper/noimage1.png");
        // If this image fails to load, an infinite loop is created //
    });
}); 
```

我尝试使用 .removeAttr() 希望这会停止循环，但事实并非如此。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T09:56:59.403

你为什么不期待这个？你基本上是在告诉它每次失败时再试一次，所以很明显，如果`src`它不好，那么它每次都会失败。

`removeAttr()`不会做你认为它做的事。该`error`事件已注册，如果您尝试取消注册，则需要以不同的方式进行。

也许像这样：

```
$(this).unbind('error'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T09:58:14.240

设置占位符时需要[取消注册`error`处理程序：](http://api.jquery.com/unbind/)

```
$('img#monkey-inserted-image').error(function() {
    $(this).unbind("error").attr("src", "/tamper/noimage1.png");
    // No more infinite loop :-)
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T09:57:57.190

处理错误时，您应该取消绑定该事件，以便在替换图像未加载时它不会无限触发

```
$('img#monkey-inserted-image').on('error', function() {
        $(this).off('error').attr("src", "/tamper/noimage1.png");
        // If this image fails to load, an infinite loop is created //
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T09:57:58.897

无限循环是“正常的”。您正在侦听图像上的错误事件，因此如果您的默认占位符图像触发错误，则会调用您的函数并再次尝试放置该占位符图像，以便触发错误事件并再次尝试放置占位符.. . 嗯，我想你明白了。

您可以检查`src`图像的属性。如果您已经在处理占位符图像，则什么也不做（或后备）。

```
$('img#monkey-inserted-image').error(function() {
    if ($(this).attr('src') == '/tamper/noimage1.png')) {
        // Do your fallback here
        return;
    }

    $(this).removeAttr("id").attr("src", "/tamper/noimage1.png");
    // If this image fails to load, an infinite loop is created //
}); 
```

# c# - 我应该如何设置我的集成测试以使用带有实体框架的测试数据库？

> ID：13857180
> 
> 赞同：27
> 
> 时间：2012-12-13T09:53:29.117
> 
> 标签：c#, asp.net-mvc, entity-framework, ef-code-first, integration-testing

我正在为应用程序编写集成测试，但找不到任何关于如何为我的集成套件设置测试数据库的最佳实践。我正在使用实体框架代码优先的 ASP.NET MVC4 应用程序。

我可以确认我的测试项目中的测试默认与我机器上的本地开发数据库通信。这并不理想，因为我希望每次运行测试时都有一个新的数据库。

如何设置我的测试项目，以便我的测试与单独的实例通信？我假设可以设置 SQL Server Compact Edition 实例，但我不确定如何配置它。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-19T11:46:05.627

非常感谢@Justin 和@Petro 的回答，这对我帮助很大。我提出的解决方案是您建议的技术的组合。下面描述的解决方案为每次运行测试提供了一个新数据库，并为每个测试提供了一个单独的事务。

我在我的测试项目的 App.config 中为我的测试数据库添加了一个连接字符串：

```
 <connectionStrings>
    <add name ="TestDatabase"
     providerName="System.Data.SqlClient"
     connectionString="Data Source=(LocalDb)\v11.0;Database=TestDatabase;Integrated Security=True"/>
  </connectionStrings> 
```

我为我的集成测试创建了一个基类，以提供设置和拆卸。安装程序实例化上下文，如果数据库尚不存在则创建数据库并启动事务。Teardown 回滚事务。

```
public class EntityFrameworkIntegrationTest
{
    protected MyDbContext DbContext;

    protected TransactionScope TransactionScope;

    [TestInitialize]
    public void TestSetup()
    {
        DbContext = new MyDbContext(TestInit.TestDatabaseName);
        DbContext.Database.CreateIfNotExists();
        TransactionScope = new TransactionScope(TransactionScopeOption.RequiresNew);
    }

    [TestCleanup]
    public void TestCleanup()
    {
        TransactionScope.Dispose();
    }
} 
```

最后，我有一个类负责在所有测试运行后删除数据库：

```
[TestClass]
public static class TestInit
{
    // Maps to connection string in App.config
    public const string TestDatabaseName = "TestDatabase";

    [AssemblyCleanup]
    public static void AssemblyCleanup()
    {
        Database.Delete(TestDatabaseName);
    }
} 
```

我应该补充一点，我发现[这篇关于 Entity Framework 的博客文章](http://blogs.msdn.com/b/adonet/archive/2010/09/02/ef-feature-ctp4-dbcontext-and-databases.aspx)有助于更深入地了解 Entity Framework 在幕后/按照惯例在做什么。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-12-13T09:57:02.087

只需在单元测试项目的 app.config 中设置一个指向新数据库实例的连接字符串。

然后，您可以使用测试类中的初始化和清理方法来创建和删除数据库。

连接字符串只是通常的，例如

```
<add name="UnitTestDBConnection" connectionString="Data Source=(local);Initial Catalog=UnitTestDB;Integrated Security=SSPI;" providerName="System.Data.SqlClient"/> 
```

然后创建数据库，每次测试一次，你可以这样做：

```
 YourContext _ctx;

    [TestInitialize]
    public  void Initiaslise()
    {

        YourNameDbInitialise initialiser = new YourNameDbInitialiseForTest();
        Database.SetInitializer(initialiser);

        _ctx = new YourNameContext();

        initialiser.InitializeDatabase(_ctx);         
    } 
```

并在每次测试结束时删除

```
 [TestCleanup]
    public  void Cleanup()
    {
        Database.Delete("YourName");
    } 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-12-13T09:59:05.867

如果您使用的是 NUnit，您可以使用`Setup/Teardown`属性 with`TransactionScope`来不将您的更改提交到数据库：

```
[SetUp]
public void SetUp()
{
    transaction = new TransactionScope();
}

[TearDown]
public void TearDown()
{
    if(transaction != null) 
       transaction.Dispose();
} 
```

如果您正在使用其他一些单元测试框架，它应该具有类似的属性。我建议`DbItegrationTest`为您的所有集成测试装置创建一个基类，因此如果您从此类派生，所有测试方法都不会提交到数据库。

要为其他数据库配置实体框架，请在您的测试程序集中覆盖 db 连接字符串。

# javascript - 提取以下数据中的 URL

> ID：13857182
> 
> 赞同：-8
> 
> 时间：2012-12-13T09:53:35.697
> 
> 标签：javascript

如何从以下数据中提取 javascript 中的 url？你能帮我写代码吗？

```
[
Image{url:'/images/HH/Images/US/NYC/NYC-MEL-1.jpg', description='Exterior', 
          alt='null', sortOrder=1, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-9.jpg', description='Exterior', 
          alt='null', sortOrder=1, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-11.jpg', description='Lobby', 
          alt='null', sortOrder=4, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-5.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-6.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-7.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-8.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-10.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'},
Image{url='/images/HH/Images/US/NYC/NYC-MEL-3.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-2.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}, 
Image{url='/images/HH/Images/US/NYC/NYC-MEL-4.jpg', description='Guest Room', 
          alt='null', sortOrder=34, externalUrl='null'}
] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:00:21.617

好的，我只是给你一个简单的想法，但没有代码：使用“拆分”方法，即：

```
var myStr = "Hello, I'm here!"; 
var splitedString = myStr.split(", "); 
```

结果`splitedString`是这样的数组`["Hello","I'm here!"]`。

祝你好运！

# android - 以上次状态打开应用程序

> ID：13857189
> 
> 赞同：2
> 
> 时间：2012-12-13T09:53:55.233
> 
> 标签：android

当用户单击应用程序抽屉中的图标启动我的应用程序时，我的应用程序会以上次的状态打开。

我有一个广播接收器，当我收到某个意图时，我想获得同样的效果。

目前我使用

```
Intent launchIntent = mContext.getPackageManager().getLaunchIntentForPackage("xx.xx.xx"); //My package name
context.startActivity(launchIntent); 
```

但这总是会打开我的应用程序的 mainactivity。

我怎样才能解决这个问题？谢谢

# jquery - jQuery setTimeout 或延迟 ajax 微调器

> ID：13857192
> 
> 赞同：0
> 
> 时间：2012-12-13T09:54:05.297
> 
> 标签：jquery, ajax

是否有可能让 ajax 微调`setTimeout`器`beforeSend`旋转 4 秒？或者我必须使用不同的功能来做到这一点？

我想这样做的原因是因为有时处理速度如此之快，以至于用户甚至无法看到使用 ajax 微调器的效果。

```
var v = $("#contact-form").validate({
 submitHandler: function(form) {
   $(form).ajaxSubmit({
   beforeSend: function() {
    $('.submit-btn button').addClass('loading');
   },
    url: 'send-mail.php',
    success: function() {
    $('.submit-btn button').addClass('message-sent');
    },
   complete: function() {
    $('.submit-btn button').removeClass('loading').text('Send');   }
   });     
   v.resetForm();
 }
}) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T09:56:48.347

可以使用动画[队列](http://api.jquery.com/queue/)。但是，不建议这样做。我的意思是你想制作一个快速的用户界面，那么如果服务器交互完成得更快，为什么我作为用户要被迫等待 4 秒呢？

它的图形方面可能看起来很诱人，但从用户体验的角度来看，就让它保持原样吧。

# php - Mac OS X 10.8 MySQL连接错误：localhost不工作 ，127.0.0.1都OK

> ID：13857193
> 
> 赞同：2
> 
> 时间：2012-12-13T09:54:12.327
> 
> 标签：php, mysqli, vhosts

我现在有一个 10.8 的新 MabBook，我正在尝试设置所有 Apache 和 MySQL 等。Apache 成功运行，包括虚拟主机。

在我的 /etc/hosts 中，我设置了所有本地主机，包括 127.0.0.1 localhost 等。

当我尝试连接到我的本地虚拟主机之一时，例如 alpensonne，我可以毫无问题地连接到 MySQL。如果我尝试将 MySQL 主机设置为 localhost，则会收到以下错误：

```
Database connection error (2): Could not connect to MySQL. 
```

我知道错误 (2) 表示用户名或密码不正确，但它们很好。如果我连接

```
mysql -u root
SELECT password,host FROM user where user='root'; 
```

另外，我刚刚做了双重确定：

```
SET PASSWORD FOR 'root'@'localhost' = ''; 
```

localhost 是否有可能使用不同的 MySQL 套接字？也许它会尝试连接到不同的 MySQL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-18T03:28:20.180

要详细说明@schurtertom的答案...

问题是`mysql.default_socket`PHP.INI 中的设置默认为与 MySQL 实际放置该文件的位置不同的位置。

无需编辑配置文件，而是在 PHP 正在查找的位置创建一个别名，通过运行以下两个命令连接到真正的 mysql.sock（无需重新启动）：

```
mkdir /var/mysql
ln -s /tmp/mysql.sock /var/mysql/mysql.sock 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:57:51.943

好的，我发现了错误...问题是，我忘记将 php.ini 文件更改为指向 mysql.default_socket ...我的 default_socket 设置为 /var/mysql/mysql.sock 所以我刚刚创建/tmp/mysql.sock 的符号链接，现在一切正常！:)

@shadyyx 感谢 MAMP 的提议，我当然知道这一点，但对 Windows 用户来说并不是 MAMP、XAMPP、LAMP 等的忠实粉丝，所以你可以使用 apache 而不是 IIS，但对于 Linux、Unix 和 Mac用户您可以使用 apache 服务器中的构建...因此无需使用其他第三方软件。你也依赖于 php 版本等。我更喜欢能够自己配置它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-05T21:24:43.620

使用 MacPorts 中的 MySQL，它适用于以下路径：

```
mysql.default_socket = /opt/local/var/run/mysql56/mysqld.sock 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-06-08T19:18:18.470

如果 MySQL 仍然没有连接，请运行：

```
brew switch openssl 1.0.2s 
```

# python - 为什么python不支持++i或i++

> ID：13857199
> 
> 赞同：0
> 
> 时间：2012-12-13T09:54:23.923
> 
> 标签：python, python-2.7

> **可能重复：**
> [为什么 Python 中没有 ++ 和 — 运算符？](https://stackoverflow.com/questions/3654830/why-there-are-no-and-operators-in-python)

`++i`是合法的。但它是一元 + 运算符。

并且`i++`是非法的。

为什么 Python 决定不`++`以正常方式支持运算符？

# wildcard - SSRS 2005 报告中的多值选择和可选过滤器

> ID：13857201
> 
> 赞同：0
> 
> 时间：2012-12-13T09:54:38.417
> 
> 标签：wildcard, reporting-services, reportingservices-2005

在问这个问题之前，我已经做了相当多的研究。首先，我想创建一个能够选择多个值的下拉过滤器@accessVar。如果不是因为我的特殊要求，那将很容易。我的数据集声明是：

```
SELECT PASS_M, ENTRY_DT, EXIT_DT, WORKED_HRS, ACCESS_LOCATION_X, IC_N, COMPANY_M,           CONSECUTIVE_D 
FROM TEMP_TARGET
WHERE (CONSECUTIVE_D >= @consecDays) AND (ENTRY_DT BETWEEN @startDate AND @endDate) AND
(ACCESS_LOCATION_X LIKE @accessVar) AND
(IC_N LIKE @icVAr) 
```

但是我需要为@accessVar（例如'BT%'​​）使用%wildcard，因此我无法使用运算符IN。我能做些什么？我正在使用 SSRS2005。请给我建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:56:15.170

您可以使用数据集属性中的过滤器来执行此操作。在此之前，您需要`(ACCESS_LOCATION_X LIKE @accessVar)`从数据集查询中删除 。

设置表达式如下[修改您的参数名称]。

```
=ACCESS_LOCATION_X Like "*"+Parameters!param.Value+"*" 
```

然后如下配置数据集属性过滤器选项卡。

![在此处输入图像描述](../Images/bd628634fa24426918183e552464f178.png)

之后，您可以运行您的报告。以下屏幕截图在报告数据集中搜索“en”字并返回结果集。

![在此处输入图像描述](../Images/2a1d28d92e84f21229d5176ece5f76ef.png)

希望这可以帮助！

# node.js - 声明多个模式后无法从数据库中获取数据（mongoose + express + mongodb

> ID：13857203
> 
> 赞同：16
> 
> 时间：2012-12-13T09:54:45.847
> 
> 标签：node.js, mongodb, schema, mongoose, express

我是 node.js 的新手，我在访问声明多个猫鼬模式时遇到问题。

//schema.js 在模型中

```
var mongoose = require('mongoose');
var Schema = mongoose.Schema
, ObjectId = Schema.ObjectId;

//User Schema
var userSchema = new Schema({
id: ObjectId,
firstname: {type: String, require: true},
lastname: {type: String, require: true},
username: {type: String, unique: true, require: true},
password: {type: String, require: true},
role: {type: [String], require: true}
})

var User = mongoose.model('User', userSchema);
module.exports = User;

//Question Schema
var qnSchema = new Schema({
id: ObjectId,
question: {type: String, require: true},
module_id: {type: ObjectId, ref: 'Module'}
})

var Question = mongoose.model('Question', qnSchema);
module.exports = Question;

//Answer Schema
var ansSchema = new Schema({
id: ObjectId,
answer: String,
question: {type: ObjectId, ref: 'Question'}
})

var Answer = mongoose.model('Answer', ansSchema);
module.exports = Answer;

//Module Schema
var modSchema = new Schema({
id: ObjectId,
name: {type: String, require: true}
})

 var Module = mongoose.model('Module', modSchema);
  module.exports = Module;

//Role Schema
var roleSchema = new Schema({
id: ObjectId,
role: {type: String, require: true}
})

var Role = mongoose.model('Role', roleSchema);
module.exports = Role; 
```

//控制器中的index.js

```
var mongoose = require('mongoose');
var User = require('../models/schema');
var db = mongoose.connect('mongodb://localhost/damai');

module.exports = function(app) {

app.get('/', function(req, res) {
    if (typeof req.session.userid == 'undefined') {
        res.render('login', { title: app.get('title') });           
    } else {
        res.render('index', { title: app.get('title') });       
    }
});

app.post('/login', function(req, res) {
    passwordVerification(req, res);
});
}

function passwordVerification(req, res)
{
var userid = req.param('userid');
var password = req.param('password');
User.findOne({'username': userid},{'password': 1}, function(err, cb)
{
    console.log(cb);
    if(cb!= null)
    {
        if (password == cb.password) {
            req.session.userid = userid;
            res.render('index', { title: app.get('title'), 'userid':    userid });
        } else {
            res.render('login', { title: app.get('title'), error: 'Invalid login'});
        }
    }
    else
    {
        res.render('login', { title: app.get('title'), error: 'Invalid login'});
    }
});
} 
```

当我的 schema.js 中只有“用户架构”时，来自 index.js 的方法“passwordVerification()”的数据库调用将返回从数据库中检索到的相关密码。但是，当我开始在 schema.js 中添加其他模式（例如“问题模式”）时，“passwordVerification()”方法将始终返回 null。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-12-14T03:50:51.357

当从单个文件中导出多个模型时，例如在 schema.js 中，您需要为每个导出的模型提供自己的`exports`字段名称。

例如，将`module.exports = ...`schema.js 中的多行替换为导出所有模型的文件末尾的以下代码：

```
module.exports = {
    User: User,
    Question: Question,
    Answer: Answer,
    Module: Module,
    Role: Role
}; 
```

然后在 index.js 中，您可以像这样访问模型：

```
var models = require('./schema');
...
models.User.findOne(... 
```

# windows-7 - Windows 多点触控事件和 LabView

> ID：13857209
> 
> 赞同：6
> 
> 时间：2012-12-13T09:55:22.513
> 
> 标签：windows-7, touch, multi-touch, labview

我在使用**多点触控**和**LabView**时遇到了一些问题。

我的目标是拦截 Windows 触摸消息（由多点触控监视器生成，然后由 Windows 7 解释和处理），这些消息适用于名为**LabVIEW**的程序拥有的任何和所有窗口。
这将阻止 Windows 与触摸消息通信，`LabVIEW`同时允许我使用触摸消息在`LabVIEW`自己中创建自定义响应。并且，它仍然允许 Windows 正常使用触摸消息来处理用户可能想要与之交互的任何和所有其他程序。

`LabVIEW`尚未在 Windows 7 中注册以专门解释 Windows 触摸消息。因此，它使用默认的 Windows 7 响应来处理它们。

我开发了一个库，用于`LabVIEW`创建自定义多点触控启用响应，但它需要我为正在使用的多点触控显示器提供我自己的驱动程序，以防止 Windows 7 监听显示器的触摸事件消息并将它们转换为自己的一组轻触消息。这是低效的，因为我希望用户能够使用我的代码即插即用任何商业多点触控显示器，并且我不想为每种显示器类型编写自定义驱动程序。

所以，我想拦截用于`LabVIEW`（并且只有那些 Windows 触摸消息）的触摸消息，以便它们

1.  永远不要使用 LabVIEW
2.  然后可以通过本地主机上的 TCP 消息将其发送到我现有的程序以进行重新解释（这似乎是迄今为止我发现的最佳方式）。

如果有人有任何想法，我将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2019-06-23T16:45:09.447

如您所知，LabVIEW 不会看到 Windows 触摸事件。您看到的唯一事件是您可以在[Event Structure](https://labviewwiki.org/wiki/Event_Structure)中使用的事件。但是，有一些方法可以使用 .Net 回调来查看其他 Windows 事件。然后，您可以创建[用户事件](https://labviewwiki.org/wiki/Event_Structure#User_Events)以将事件反馈给您的[事件结构](https://labviewwiki.org/wiki/Event_Structure)。以下是一些可能有帮助的链接：

1.  [在不轮询的情况下捕获 Windows 系统事件 (Windows)](http://www.ni.com/example/31223/en/)
2.  [Windows 消息队列库](http://www.ni.com/example/29394/en/)
3.  [使用windows触摸屏（多点触控）并区分get touch事件和鼠标点击](https://forums.ni.com/t5/LabVIEW/Use-windows-touch-screen-multi-touch-and-distinguish-get-touch/td-p/3606414?profile.language=en)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-23T20:04:19.013

在 while 循环中使用事件处理程序结构，并且只注册您希望 LabVIEW 处理的事件。

# c# - 在数据表中搜索数据

> ID：13857217
> 
> 赞同：-2
> 
> 时间：2012-12-13T09:55:46.863
> 
> 标签：c#

目前，if 语句在列中找到“开始于”文本并​​获取行。我想知道：我怎样才能检查字符串中的下一个字符是否是`[`？这例如与`StartsWith`方法

```
 foreach (DataRow r in queryDataTable.Rows)
            {
                if (r[0].ToString().StartsWith(queryString))
                {
                    dt.ImportRow(r);
                }
            } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T09:59:50.977

如果您的问题是如何查找具有以查询字符串 +“[”开头的第一个属性的所有行，那么为什么不将该字符附加到查询字符串中呢？

像这样：

```
foreach (DataRow r in queryDataTable.Rows)
    {
        if (r[0].ToString().StartsWith(queryString + "["))
        {
            dt.ImportRow(r);
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:59:04.867

你可以试试正则表达式：

```
foreach (DataRow r in queryDataTable.Rows)
{
    bool match = Regex.IsMatch(r[0].ToString(),".{1}\[.*",RegexOptions.IgnoreCase | RegexOptions.Compiled);

    if (match) dt.ImportRow(r);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:04:28.603

```
public bool PostConditionIsChar(DataRow dr, string query, char charToCheck)
{
  string firstCol = dr[0].ToString();
  return firstCol.StartsWith(query) ? firstCol.Replace(query, "").Length > 0 && firstCol.Replace(query, "").First() == charToCheck : false;
} 
```

**用法**

```
dt.Rows.Cast<DataRow>().Where(row => PostConditionIsChar(row, queryString, '[')).ToList().ForEach(rowToAdd => dt.ImportRow(rowToAdd)) 
```

那应该为你做。

# iphone - MFMailComposeViewController 中缺少键盘

> ID：13857222
> 
> 赞同：2
> 
> 时间：2012-12-13T09:56:09.200
> 
> 标签：iphone, objective-c, ios, ios6, mfmailcomposer

我已经让这段代码运行了好几个月（在 iOS 5.1 上），但我很长时间没有检查它，现在（可能是 iOS 6.0 问题）我注意到我的 MFMailComposeViewController 即使在聚焦文本字段，如消息正文或收件人。

奇怪的是它会在点击时做出反应，所以我可以将光标设置在“收件人”或“主题”上，然后光标就会出现，或者我可以按住点击以使缩放玻璃弹出。**但是没有键盘**:(

[截图](http://s10.postimage.org/btqw5szvd/Screen_Shot_2012_12_13_at_6_57_45_PM.png)

这是我正在使用的代码：

```
MFMailComposeViewController *mailer = [[MFMailComposeViewController alloc] init];
mailer.mailComposeDelegate = self;        
[self presentModalViewController:mailer animated:YES]; 
```

我一直在搜索这方面的内容，并找到了一些处理
`[self resignFirstResponder]`or的东西`[mailer becomeFirstResponder]`，但它没有用。

如果我在呈现控制器之前或之后添加此代码

```
NSLog(@"mailer become %d", [mailer canBecomeFirstResponder]); 
```

`0`然而，它表明

```
NSLog(@"self resign %d", [self resignFirstResponder]); 
```

显示`1`，但`0`在我添加之前也是如此

```
- (BOOL)canResignFirstResponder {
    return YES;
} 
```

文档说它应该`YES`默认返回，所以它很奇怪。

如果我用这样的代码创建一个空项目，它运行良好，但我不能真正做到这一点，因为我当前的项目非常庞大。任何帮助将不胜感激，被困在这里......

*在 iPhone 和 iOS 模拟器上测试（部署目标 5.1 和 6.0）*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T16:52:44.903

只是大声笑。问题在于

```
[UIApplication sharedApplication] delegate] window] setWindowLevel:UIWindowLevelStatusBar + 1] 
```

在我的应用程序的某个地方。好像他们`windowLevel`在 iOS 6 中改变了键盘，所以现在它落后了。我很懒惰这样做，但是确切地知道`windowLevel`键盘窗口会很有趣:)
要小心！

无论如何感谢大家的帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T14:51:06.437

如果要显示键盘，则必须从邮件程序中取出文本框，然后发送消息 becomeFirstResponder。

但是，没有直接的方法可以做到这一点。当您触摸消息框时，会出现键盘吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-05T17:50:10.687

对于可能在 MailComposer 中遇到此键盘问题的其他人，此解决方案对我有用：

*   呈现视图，然后在完成方法中对同一 MFMailComposeViewController 调用“becomefirstResponder”。

    MFMailComposeViewController* mailCon = [[MFMailComposeViewController alloc] init]; [self presentViewController:mailCon 动画：没有完成：^{ [mailCon becomeFirstResponder]; }];

# android - 为什么无法从位置获取地址？

> ID：13857223
> 
> 赞同：0
> 
> 时间：2012-12-13T09:56:10.820
> 
> 标签：android

```
if (isOnline()) {
                    Geocoder geocoder = new Geocoder(con, Locale.getDefault());
                    p = new GeoPoint((int) (location.getLatitude() * 1E6),
                            (int) (location.getLongitude() * 1E6));
                    List<Address> add = null;
                    try {
                        add = geocoder.getFromLocation(p.getLatitudeE6() / 1E6,
                                p.getLongitudeE6() / 1E6, 1);

                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        // e.printStackTrace();
                    }
} 
```

昨天，我得到地址是好的，但是今天，我不能得到地址（add=null）。

# javascript - 为什么我的点击功能没有按预期工作？

> ID：13857225
> 
> 赞同：0
> 
> 时间：2012-12-13T09:56:13.680
> 
> 标签：javascript, leaflet

我创建了一个简单的 js 项目，它使用 Leaflet.js 绘制了一系列点。

然后我想用点击事件填充一个带有点特定数据的信息窗口。但我似乎无法让它工作。

这大致是我所做的：

```
var circle = L.circle(
    [data[i]['latitude'], data[i]['longitude']],
    50,
    { color: 'red', fillColor: 'red', fillOpacity: .5}
).addTo(map)
.bindPopup(data[i]['SCHNAME'])
.on('click', fill_info_window(data, i));

function fill_info_window(data, i){ /* fill data */ } 
```

不幸的是，它会自动用最新数据填充窗口。

为什么它不起作用？

你可以在这里看到这个项目：

[http://www.thisisstaffordshire.co.uk/images/localpeople/ugc-images/275796/binaries/leaguetableTemplate.html](http://www.thisisstaffordshire.co.uk/images/localpeople/ugc-images/275796/binaries/leaguetableTemplate.html)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:01:12.350

在这条线上：

```
.on('click', fill_info_window(data, i)); 
```

...您正在**调用**该`fill_info_window`函数，而不仅仅是引用它。你想做这样的事情：

```
.on('click', function() {
    fill_info_window(data, i);
}); 
```

除非你在一个循环中（那个`i`变量让我觉得你可能是）。如果你是，那么：

```
.on('click', makeHandler(data, i)); 
```

...`makeHandler`看起来像这样：

```
function makeHandler(theData, index) {
    return function() {
        fill_info_window(theData, index);
    };
} 
```

您不希望我在循环中的第一个答案的原因是所有处理程序都将引用相同的`data`和`i`变量，并在*调用*处理程序时查看它们的值，而不是在注册时查看它们的值。这就是我们改用`makeHandler`函数的原因，所以它会在不改变的东西上创建一个闭包。更多关于我的博客：[*闭包并不复杂*](http://blog.niftysnippets.org/2008/02/closures-are-not-complicated.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T09:59:23.603

您可能希望将*函数*绑定为处理程序，而不是调用它的结果。所以删除调用并使用`….on('click', fill_info_window);`. 另请参阅[这篇关于事件处理的 quirksmode 文章](http://quirksmode.org/js/events_tradmod.html#link2)：*没有括号！*.

# deployment - 如何避免 glassfish 部署所有以前的项目？

> ID：13857226
> 
> 赞同：2
> 
> 时间：2012-12-13T09:56:14.727
> 
> 标签：deployment, glassfish, config

当我启动 glassfish 服务器时，我注意到它会加载我之前开发和部署的所有项目。我认为某处有一个配置文件告诉服务器重新加载项目，但如果我只想在其中一个上工作，我必须做什么？我想我必须更改或删除 glassfish 配置文件中的一些条目，但我不知道它在哪里以及如何做到这一点。

谢谢马西莫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T16:12:29.910

你有不同的选择。

您可以通过`http://localhost:4848`并查看“应用程序”下的 Glassfish 管理 GUI。您可以在那里取消部署正确部署的应用程序。

如果这不起作用，您可以手动从 glassfish 文件夹中删除应用程序：查看

> /[glassfish_installation_path]/glassfish/domains/[your_domain]/applications

或者

> /[glassfish_installation_path]/glassfish/domains/[your_domain]/autodeploy

Glassfish 在启动时正在这些文件夹中运行应用程序。

取消部署在某种程度上取决于您用于部署应用程序的方法......如果您使用 NetBeans 进行部署，您甚至可以在 NetBeans 中选择应用程序并单击“清理并构建”来取消部署它。

# jquery - 使用 jQuery 切换具有不透明度的图层以使网页的其余部分变暗

> ID：13857228
> 
> 赞同：0
> 
> 时间：2012-12-13T09:56:33.973
> 
> 标签：jquery, css

我有一个包含 2 个主要区域的网页。标头“固定”且高约 40 像素，然后是我的网站其余内容所在的区域下方（网站尚未发布，因此很遗憾无法提供链接）。与此相同的布局：

[www.wookmark.com](http://www.wookmark.com)

当我单击主要内容区域中的某个图像时，我想应用一个接近黑色（但具有不透明度，因此您仍然可以看穿它）的图层，覆盖整个网站，但我单击的图像保持不变。我正在尝试做的事情的一个例子是在[500px.com](http://500px.com/photo/20487489)上使用的。

如果您单击图像，它周围的其他所有内容都会变黑（即使您向下滚动页面）。

我试图通过 jquery 为 BODY 元素设置背景来实现这一点，但唯一一次我让它工作了一半，由于某种原因，它没有将它应用到“固定”标题上——它保持白色且不变页面的其余部分发生了变化。

关于如何实现这一目标的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:03:36.983

您应该在身体末端使用具有绝对位置的 div。并在此 div 中“克隆”您的图像。

简短的例子：

CSS：

```
.layer {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left : 0;
    background-color: black;
}

.layer img {
    margin: auto;
    margin-top: 50px;
} 
```

Javascript：

```
$('img').click(function() {
   var layer = $('<div class="layer" />');
   $('body').append(layer);

   layer.append($(this).clone);
}); 
```

这只是一个向您展示基础知识的简短示例。您应该每次都重复使用相同的图层，当然您必须提供一种隐藏图层的方法（例如通过单击它）。

您可能想使用外部技术来帮助您。看看灯箱： http: [//lokeshdhakar.com/projects/lightbox2/](http://lokeshdhakar.com/projects/lightbox2/)

# android - 是否可以在 android webview 中进行自定义选择和复制工具栏？

> ID：13857230
> 
> 赞同：2
> 
> 时间：2012-12-13T09:56:37.220
> 
> 标签：android, webview

我正在使用 webview 制作基于 viewpager 的应用程序。但是 webview 默认选择和复制工具栏有时可以工作，有时不能，所以我正在尝试制作自定义选择和复制工具栏，这可能吗？提前致谢。

# android - 没有布局根视图的android屏幕截图

> ID：13857233
> 
> 赞同：1
> 
> 时间：2012-12-13T09:56:47.780
> 
> 标签：android, events, camera, action, rootview

实际上，在安卓手机中，当我们同时按下主页按钮和侧边按钮时，我们可以进行截图。按下时正在运行哪个事件？
在相机事件中，我们触发 android.provider.MediaStore.ACTION_IMAGE_CAPTURE。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:41:43.857

看起来有一个从 android 4.0 及更高版本运行的专用服务，它有助于按照您在此处提到的方式截取屏幕截图。

但我不知道它在以前版本的 android 中是如何发生的。

这是 Service [TakeScreenshotService](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.1_r1/com/android/systemui/screenshot/TakeScreenshotService.java#TakeScreenshotService)的链接。当您查看它时，您将能够看到实际上负责捕获屏幕截图并存储它的另一个类。这里是[GlobalScreenshot 类的链接。](http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.1_r1/com/android/systemui/screenshot/GlobalScreenshot.java#GlobalScreenshot)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:11:08.677

有关如何制作屏幕截图的帖子：
此：[android 中](https://stackoverflow.com/q/4632485/1164919)
的屏幕截图 或此：[如何以编程方式在 Android 中截取屏幕截图？](https://stackoverflow.com/q/2661536/1164919)
或者这个：[https ://stackoverflow.com/a/10482368/1164919](https://stackoverflow.com/a/10482368/1164919)

但我没有找到任何关于您在帖子中描述的某种提供商的信息。

# php - Linux下运行php5后台进程

> ID：13857237
> 
> 赞同：0
> 
> 时间：2012-12-13T09:56:58.757
> 
> 标签：php, process

关于这个主题有几个条目，例如[here](http://nsaunders.wordpress.com/2007/01/12/running-a-background-process-in-php/)和[enter](https://stackoverflow.com/questions/5288584/nohup-run-php-process-in-background)，但这些建议似乎都不起作用。我这里有一个例子：

```
$pid = shell_exec("nohup sleep 10 2> /dev/null & echo $!");
echo $pid; 
```

我希望`sleep 10`在后台启动一个新命令，并立即返回到 shell。但发现的行为是此代码“等待”执行 subcommand `sleep 10`。

如何在后台运行我的 commad 作为新进程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:03:30.243

根据[`nohup`维基百科页面上的](http://en.wikipedia.org/wiki/Nohup)一些注释，除非所有流再次免费，否则某些 shell 拒绝关闭。

因此，一种解决方法是重定向所有三个标准流：输出、错误和输入，如下例所示：

```
nohup ./myprogram > foo.out 2> foo.err < /dev/null & 
```

这只是一个猜测，但在您的场景中可能就是这种情况。

```
$pid = shell_exec("nohup sleep 10 > /dev/null 2> /dev/null < /dev/null & echo $!");
echo $pid; 
```

您可能想尝试一下。我希望这对您有所帮助，即使它不能回答您的问题。

# c# - 单击按钮时显示数据网格

> ID：13857241
> 
> 赞同：2
> 
> 时间：2012-12-13T09:57:03.667
> 
> 标签：c#, wpf, xaml, wpfdatagrid

我有一个已经绑定到数据库的数据网格。单击按钮时如何在数据网格上显示数据？

这是我尝试过的...

```
 private void button1_Click(object sender, RoutedEventArgs e)
    {
        SqlDataAdapter da = null;
        DataSet ds = null;
        try
        {
            da = new SqlDataAdapter("select * from Major", @"Data Source=Student;Initial Catalog=StudDB;Integrated Security=true;Persist Security Info=True;");
            da.SelectCommand.CommandTimeout = 100000;
            ds = new DataSet();
            da.Fill(ds);
            dataGrid1.ItemsSource = ds.Tables[0].DefaultView;
        }
        catch (SqlException ex)
        {
            throw ex;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T11:26:38.220

这是解决方案。感谢其他回答过的人！

```
 SqlConnection con;
    public MainWindow()
    {

        InitializeComponent();
        try
        {
            con = new SqlConnection("Data Source=ComputerName;Initial Catalog=YourDBName;Persist Security Info=True;");
            con.Open();
        }
        catch (Exception ex)
        {

            throw ex;
        }
    }

    private void button1_Click(object sender, RoutedEventArgs e)
    {
        SqlDataAdapter da = null;
        DataSet ds = null;
        try
        {
            da = new SqlDataAdapter("select * from YourTableName",con);
            da.SelectCommand.CommandTimeout = 100000;
            ds = new DataSet();
            da.Fill(ds);
            dataGrid1.ItemsSource = ds.Tables[0].DefaultView;
        }
        catch (SqlException ex)
        {
            throw ex;
        } 
```

并在 Xaml 中设置 Itemsource 和 AutoGenerateColumns

```
 <DataGrid ItemsSource="{Binding YourTableName}" AutoGenerateColumns="True" Grid.Column="1" Height="423" HorizontalAlignment="Left" Margin="22,24,0,0" Name="dataGrid1" VerticalAlignment="Top" Width="591" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:10:15.240

您可以创建一个布尔属性，单击按钮后该值会发生变化。现在将此属性绑定到 DataGrid 的 Visibility 属性。使用 BooleanToVisibilityConverter 转换值。

不要忘记在布尔属性更改时通知您的视图（NotifyPropertyChanged-Event）。

# c# - Entity Framework 5 中的 ExecuteStoreCommand 方法在哪里？

> ID：13857242
> 
> 赞同：33
> 
> 时间：2012-12-13T09:57:03.460
> 
> 标签：c#, entity-framework, visual-studio-2012, entity-framework-5

我在 VS2012 中使用 EF5，我尝试使用 删除某些表的所有数据`ExecuteStoreCommand`，如下所示：

```
ctx.ExecuteStoreCommand("TRUNCATE TABLE [" + tableName + "]"); 
```

但问题是 EF 告诉我，找不到方法 ExecuteStoreCommand。我不明白为什么？

你能告诉我为什么吗？或者给我一个高性能的解决方案来删除表的所有数据。

* * *

## 回答 #1

> 赞同：90
> 
> 时间：2012-12-13T09:59:24.503

试试这个：

```
ctx.Database.ExecuteSqlCommand 
```

# jquery - 为什么这个简单的 jQuery 转移效果不起作用？

> ID：13857245
> 
> 赞同：2
> 
> 时间：2012-12-13T09:57:11.433
> 
> 标签：jquery, jquery-ui, jquery-effects

我已经包含了我需要的 jQuery UI 内容和 jQuery 核心，但以下内容仍然不起作用：

```
<div id="a" style="width: 500px; height: 500px; background-color: #F00; border: 1px solid #00F;">Click me</div>
<div id="b" style="width: 50px; height: 50px; background-color: #0F0; border: 1px solid #00F;"></div> 
```

和

```
$(document).ready(function () {
    $('#a').click(function () { 
        $(this).effect(
            'transfer', 
            { to: $('#b') }, 
            1000
        ); 
    });
});​ 
```

[你可以在这里](http://jsfiddle.net/EUSyz/)找到一个 JSFiddle 示例

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:05:42.893

为了效果，你需要 jQuery UI

```
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css " />
<script src="http://code.jquery.com/jquery-1.8.3.js "></script> 
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js "></script> 
```

你也需要像这样的传输css

> .ui-effects-transfer { 边框：2px 虚线灰色；}

[示范](http://jsfiddle.net/4JUdY/1/)

# postgresql - postgresql WAL 文件内部结构

> ID：13857246
> 
> 赞同：2
> 
> 时间：2012-12-13T09:57:15.190
> 
> 标签：postgresql, postgresql-9.1

实际上我正在使用 WAL 文件来设计复制工具，我需要知道是否有任何方法可以获取在特定事务 id (xid) 中执行的 sql 语句

这是我从处理 pg_xlog 目录中的 WAL 文件中获得的信息块...

```
INSERT INTO "16425" ([cur:0/192E8EAC, xid:1111, rmid:10(Heap), len:39/67, prev:0/112E8E68] insert: s/d/r:1663/16384/16425 blk/off:527/44 header: t_infomask2 3 t_infomask 2048 t_hoff 24
INSERT INTO "16425" ([cur:0/192E8EF0, xid:1111, rmid:10(Heap), len:39/67, prev:0/112E8EAC] insert: s/d/r:1663/16384/16425 blk/off:527/45 header: t_infomask2 3 t_infomask 2048 t_hoff 24 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T12:21:42.283

不，这不容易。WAL 在低得多的级别上工作。

有一些工作正在进行中，类似于您在 PostgreSQL 9.3 中描述的内容，但这是一个非常大的项目。在 pgsql-hackers 列表中搜索“逻辑复制”和“BDR”以了解更多信息。

# gcc - GCC 编译产生“real.h:53: error: 'SIZEOF_LONG' undeclared here (not in a function)”

> ID：13857250
> 
> 赞同：1
> 
> 时间：2012-12-13T09:57:34.913
> 
> 标签：gcc, compiler-errors, arm, gcc4.7

我正在尝试在运行 Linux 2.6.31.8 armv5tel的[Buffalo LinkStation Pro Duo](http://www.buffalo-technology.com/en/linkstatio-pro-duo.html)（[解锁后）上编译 GCC 4.7.2。](http://buffalo.nas-central.org/wiki/Open_Stock_Firmware_LS-VL)

不幸的是，`make`抛出相当多的错误，从

```
gcc -c  -DIN_GCC_FRONTEND -g -fkeep-inline-functions -DIN_GCC   -W -Wall -Wwrite-strings -Wcast-qual -Wstrict-prototypes -Wmissing-prototypes -Wmissing-formIn file included from ../../gcc-4.7.2/gcc/tree.h:32,
                 from ../../gcc-4.7.2/gcc/c-lang.c:27:
../../gcc-4.7.2/gcc/real.h:53: error: 'SIZEOF_LONG' undeclared here (not in a function)
In file included from ../../gcc-4.7.2/gcc/tree.h:32,
                 from ../../gcc-4.7.2/gcc/c-lang.c:27:
../../gcc-4.7.2/gcc/real.h:87:5: error: division by zero in #if
../../gcc-4.7.2/gcc/real.h:87:5: error: division by zero in #if
../../gcc-4.7.2/gcc/real.h:90:6: error: division by zero in #if 
```

`real.h`reads的第 53 行`unsigned long sig[SIGSZ];`，其中`SIGSZ`在第 40 行定义为，
`#define SIGSZ (SIGNIFICAND_BITS / HOST_BITS_PER_LONG)`
而第 87行从第 72 行开始定义`#if REAL_WIDTH == 1`为`REAL_WIDTH`
`#define REAL_WIDTH \
(REAL_VALUE_TYPE_SIZE/HOST_BITS_PER_WIDE_INT \
+ (REAL_VALUE_TYPE_SIZE%HOST_BITS_PER_WIDE_INT ? 1 : 0)) /* round up */`

这似乎归结为`HOST_BITS_PER_*`为零。我是否必须使用某些`configure`参数手动定义这些，或者如何解决此问题？

* * *

**更新**

`config.log`包含以下错误：

```
conftest.c:10:19: error: ppl_c.h: No such file or directory
conftest.c: In function 'main':
conftest.c:16: error: 'choke' undeclared (first use in this function)
conftest.c:16: error: (Each undeclared identifier is reported only once
conftest.c:16: error: for each function it appears in.)
conftest.c:16: error: expected ';' before 'me'
configure:5708: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME ""
| #define PACKAGE_TARNAME ""
| #define PACKAGE_VERSION ""
| #define PACKAGE_STRING ""
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define LT_OBJDIR ".libs/"
| /* end confdefs.h.  */
| #include "ppl_c.h"
| int
| main ()
| {
|.
|     #if PPL_VERSION_MAJOR != 0 || PPL_VERSION_MINOR < 11
|     choke me
|     #endif
|.
|   ;
|   r 
```

在[这篇文章](https://groups.google.com/forum/?fromgroups=#!topic/gnu.gcc.help/72AMJrsw-IU)之后，我似乎忘记安装[ppl](http://bugseng.com/products/ppl/Download/)，我现在就试试

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T13:53:51.720

`SIZEOF_LONG`应该`#define`在`configure`文件中`auto-host.h`。您`auto-host.h`应该包含以下内容：

```
/* The size of `long', as computed by sizeof. */
#ifndef USED_FOR_TARGET
#define SIZEOF_LONG 8
#endif 
```

如果上述不存在（在您的情况下看起来确实如此），请检查`config.log`错误。搜索字符串周围的错误`checking size of long`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T08:03:44.433

*   感谢[chill的回答](https://stackoverflow.com/a/13861305/321973)，我检查`config.log`发现
    `conftest.c:10:19: error: ppl_c.h: No such file or directory`
    （奇怪的是，这并没有阻止`configure`创建Makefile并返回成功错误代码）。谷歌第一次点击是[这篇文章](https://groups.google.com/forum/?fromgroups=#!topic/gnu.gcc.help/72AMJrsw-IU)，显示我没有提供[ppl 依赖](http://bugseng.com/products/ppl/Download/)项。
*   ppl-1.0 编译向我打招呼，
    `checked_float.inlines.hh:1012: error: 'frexpl' was not declared in this scope`
    这让我看到了[这篇文章](http://www.cs.unipr.it/pipermail/ppl-devel/2012-September/018538.html)，建议我改用[1.1 快照](http://bugseng.com/products/ppl/download/ftp/snapshots/)，这很有效
*   现在，gcc`make`给了我另一个“有用”的错误：
    `gcc/../libcpp/include/line-map.h:66: error: 'CHAR_BIT'`
    原来[是](http://gcc.gnu.org/ml/gcc-help/2009-11/msg00203.html)由于以`C_INCLUDE_PATH` [冒号结尾](https://stackoverflow.com/a/8577424/321973)（我已经经历了`checking LIBRARY_PATH variable... contains current directory`那篇文章中提到的错误，但也没有考虑检查其他变量）

编译仍在运行，到目前为止没有更多错误...

# database-design - NoSQL 解决方案支持多种语言？

> ID：13857251
> 
> 赞同：4
> 
> 时间：2012-12-13T09:57:40.940
> 
> 标签：database-design, localization, nosql

我们即将开始一个新项目，我们将（希望）支持数千名客户，因此我们正在研究架构。该应用程序的一个关键方面是支持多种语言（英语、西班牙语等，对语言数量没有限制）。我们在建模这是一个传统的 RDBMS（Sql Server、Oracle 等）方面拥有丰富的经验，但是在 NoSQL 的“建模”方面我们正在苦苦挣扎。在 SQL 模型中，我们将创建一个“文本”表，其中一个“语言”列指向一个包含所有不同语言的“语言”表。这样，所有文本都可以用所有支持的语言表示。考虑一个简单的例子：

表：类别列：id (PK)、Enabled (Bool)

表：Category_Descriptions 列：id (PK)、CategoryID (FK)、LanguageID (FK)、Description (Text)

表：语言列：id (PK)、Enabled (Bool)

表：Language_Descriptions 列：id (PK)、DescriptionLanguageID (FK)、LanguageID (FK)、Description (Text)

因此所有语言都将存储在 Language 表中，其相应的描述存储在 Language_Descriptions 表中。此外，所有类别都将存储在 Category 表中，所有语言的描述都在 Category_Descriptions 表中。因此，要获取给定语言的所有类别（英语 = 1）：

```
select c.id, cd.Description 
from   Category c, Category_Descriptions cd 
where  c.id = cd.CategoryID 
and    c.Enabled = 1; 
```

当然，类别本身并不是很有用。它将是另一个实体的一部分，例如事件报告：

表：事件列：id (PK)、Created (Date)、CategoryID (FK) 等。

要从此表中获取信息，我将执行与以前相同的连接并选择正确语言的描述列。基本的东西，我们以前都做过……

最后我们遇到了我的问题：我到底如何将它正确地存储在 NoSQL 数据库中？:)

我看过几个（坏的）解决方案：

1.  仅存储代码，然后查找正确的描述运行时
2.  将上次使用的描述与语言代码一起存储，然后在语言发生变化时更新（不同的用户）
3.  将所有描述存储在同一个文档中
4.  以活动语言存储代码的描述，然后在需要时将描述添加到新语言中（即，当以未使用的语言请求时）

所有这些解决方案都有很多缺点，需要大量的工作来实施和维护......所以，任何关于如何最好地解决这个问题的意见将不胜感激。

编辑：我们正在研究 NoSQL 有两个原因：

1.  性能（规模）
2.  动态模式（需要做很多工作才能在 SQL 中实现这一点）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-06T04:11:06.683

自从有人问这个问题以来已经有一段时间了，但我想为什么不 =) ...

根据我使用 NoSQL 的经验，您必须首先真正尝试忘记您的 RDMS 背景和对数据标准化的强烈愿望。有冗余数据是可以的。可以大量存储东西（即使它是多余的！）数据不一致也可以。换句话说，由于您可能会将语言描述存储在 5 个位置……因此可以让这 5 个位置在一段时间内有所不同。

如果您愿意以性能和动态模式的名义做出这些让步，那么这可能会帮助您建模。

我认为一个好的起点是使用 UI 作为模型。如果您是 Web 开发人员并且想要这些数据，您需要什么？理想情况下，您希望最大限度地减少 Web 开发人员为获得所需内容而需要进行的调用次数。这有时可以帮助您决定在文档中放入多少信息。

我认为您暗示了使用 SQL 示例跨文档运行查询的能力。换句话说，如果你尽力创建了 10 种文档类型，并且大部分都进​​展顺利，然后你突然意识到你需要做一个“加入”，你就会遇到麻烦。

NoSQL 不擅长进行概念连接。

他们中的大多数人这样做的方式是使用 map/reduce。例如，在 Mongo 中，您可以编写本质上为您提供连接功能的 map/reduce 函数。但是，您要为速度付出代价。

但是，如果您愿意让复杂的查询（不适合您的原始文档模型的事物）运行得慢一点，那么您可以完成任何您想做的事情。

您如何确定哪些查询需要快速，哪些查询可能有点慢？我再次指出 UI。

建模的简单试验和错误也确实帮助了我。我意识到这是一个蹩脚的建议，但这是真的。=)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-07T22:40:52.807

您可以将描述字段作为具有两个字段的对象数组：语言环境和文本。只需确保此数组的第一个成员始终是您的默认语言环境中的值。

# javascript - jQuery，使用字符串和变量将元素添加到匹配元素的集合

> ID：13857252
> 
> 赞同：2
> 
> 时间：2012-12-13T09:57:45.283
> 
> 标签：javascript, jquery

我有一个点击事件，我想将一个类添加到点击的当前元素加上另一个元素，我想在一行中做到这一点。

我尝试过类似的东西

**JS文件**

```
$('div').click(function(){
    $(this, 'span').css('background','yellow');
    // could usethe following way but it's not DRY
    // $(this).css('background','yellow');
    // $('span').css('background','yellow');
})​; 
```

**HTML 文件**

```
<div>
    div
</div>
<span>
    span
</span>​ 
```

这是一个例如[小提琴](http://jsfiddle.net/roine/Hhqc8/)

但它不起作用，所以我怎么能不重复该`css`方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:01:50.510

你可以使用`.add(selector)`这样的方法：

```
$(this).add('span').css('background','yellow'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:02:00.897

您可以将`<span>`元素添加到`$(this)`jQuery 实例：

```
$(this).add( $('span') ).css('background', 'yellow'); 
```

甚至：

```
$(this).add('span').css('background', 'yellow'); 
```

[http://jsfiddle.net/Hhqc8/7/](http://jsfiddle.net/Hhqc8/7/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:00:53.727

尝试[兄弟姐妹](http://api.jquery.com/siblings/)（）：

```
$('div').click(function(){
    $(this).siblings('span').css('background','yellow');
})​ 
```

示例：http: [//jsfiddle.net/Hhqc8/6/](http://jsfiddle.net/Hhqc8/6/)

# python - 仅解码 URL 非 ascii 字符

> ID：13857253
> 
> 赞同：3
> 
> 时间：2012-12-13T09:57:47.937
> 
> 标签：python, python-2.7, urldecode

现在我正在研究维基百科。在许多文章中，我注意到一些 URL，例如[https://www.google.com/search?q=%26%E0%B8%89%E0%B8%B1%E0%B8%99](https://www.google.com/search?q=%26%E0%B8%89%E0%B8%B1%E0%B8%99)很长. 示例 URL 可以替换为更短更简洁的“https://www.google.com/search?q=%26ฉัน”（ฉัน 是泰语单词）。但是，当我使用 urllib.unquote 函数解码 URL 时，它甚至会解码 %26 并得到“https://www.google.com/search?q=&ฉัน”作为结果。您可能已经注意到，这个 URL 是无用的；它没有建立有效的链接。

因此，我想知道如何在有效的情况下获取解码链接。我认为只解码非 ascii 字符会得到有效的 URL。这是正确的吗？以及如何做到这一点？

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T14:46:55.413

最简单的方法是，您可以将 %80 (%00-%7F) 以下的所有 URL 编码序列替换为某个占位符，进行 URL 解码，然后将原始 URL 编码序列替换回占位符。

另一种方法是查找 UTF-8 序列。您的 URL 似乎以 UTF-8 编码，而 Wikipedia 使用 UTF-8。您可以查看 UTF-8 的[Wikipedia 条目，](http://en.wikipedia.org/wiki/UTF-8)了解 UTF-8 字符的编码方式。

因此，当在 URL 中编码时，每个有效的非 ascii UTF-8 字符都将遵循以下模式之一：

*   (%C0-%DF)(%80-%BF)
*   (%E0-%EF)(%80-%BF)(%80-%BF)
*   (%F0-%F7)(%80-%BF)(%80-%BF)(%80-%BF)
*   (%F8-%FB)(%80-%BF)(%80-%BF)(%80-%BF)(%80-%BF)
*   (%FC-%FD)(%80-%BF)(%80-%BF)(%80-%BF)(%80-%BF)(%80-%BF)

因此，您可以在 URL 中匹配这些模式，并分别取消对每个字符的引用。

* * *

但是，请记住，并非所有 URL 都以 UTF-8 编码。

在一些旧网站中，他们仍然使用其他字符集，例如泰语的 Windows-874。

在这种情况下，该特定网站的“ฉัน”编码为“%A9%D1%B9”，而不是“%E0%B8%89%E0%B8%B1%E0%B8%99”。如果你使用它解码，`urllib.unquote`你会得到一些乱码，比如“?ѹ”而不是“ฉัน”，这可能会破坏链接。

所以你必须小心并检查 URL 解码是否破坏了链接。确保您正在解码的 URL 是 UTF-8 格式。

# python - Windows XP 上的 Tryton，安装和教程？

> ID：13857254
> 
> 赞同：0
> 
> 时间：2012-12-13T09:57:52.303
> 
> 标签：python, erp, tryton

我正在尝试在 Windows XP 上使用 Tryton，但安装时遇到了困难。我一直有这样的错误：

> 找不到 vcvarsall.bat

我正在使用`easy_install`顺便说一句。

另外，谁能给我一个关于如何使用 Tryton 的入门指南？

我目前有一个库存计划。我的老师告诉我开始使用 Tryton，但我的研究似乎无处可去 :(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-30T12:22:44.317

Use the `.exe` directly. You can find this from [Tryton download page](http://downloads.tryton.org/2.6/).

# android - android:launchMode="singleInstance" 使应用程序非常慢

> ID：13857257
> 
> 赞同：1
> 
> 时间：2012-12-13T09:57:57.477
> 
> 标签：android, android-launcher

我的应用中有 2 个活动。A 活动是启动器活动。当我第一次运行应用程序时，启动器活动运行，但是当我按下主页按钮并通过单击应用程序图标从那里重新启动应用程序时，我总是让 B 活动运行。
我想确保在启动应用程序时活动 A 应该始终运行。

这是清单代码：

```
 <application
        android:icon="@drawable/icon"
        android:label="@string/app_name" >
        <activity
            android:name="com.velosys.smsManager.Activities.a"
            android:launchMode="singleInstance"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name="com.velosys.smsManager.Activities.b" />
</application> 
```

使用`android:launchMode="singleInstance"`符合我的目的，但它使从一项活动到另一项活动的移动非常缓慢。您能否建议我为 `android:launchMode="singleInstance" 提供任何选项。请帮助我。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:03:42.677

您可以尝试在 B 活动中覆盖 onUserLeaveHint() 方法（这将注册 Home 按钮按下事件）然后创建意图

```
 Intent startMain = new Intent(Intent.ACTION_MAIN);
    startMain.addCategory(Intent.CATEGORY_HOME);
    startMain.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);
    startActivity(startMain); 
```

这不是一个理想的解决方案

编辑：

是的，最好的解决方案是在 B 活动的 onPause() 方法中调用 finish()

# wpf - 将 Solar Wind XNA 示例移植到 Helix 3d WPF

> ID：13857259
> 
> 赞同：1
> 
> 时间：2012-12-13T09:57:59.463
> 
> 标签：wpf, 3d, xna, silverlight-5.0, helix-3d-toolkit

我希望使用 Helix3d 工具包将 Silverlight 5 / XNA 示例 Solar Wind 移植到 WPF。

太阳风的例子在这里：

[http://code.msdn.microsoft.com/Solar-Wind-3D-Sample-4cb56170](http://code.msdn.microsoft.com/Solar-Wind-3D-Sample-4cb56170)

我观看了演示该示例的视频，其中一个很棒的功能是 3d 几何图形表示为 XML，并且可以在运行时更改。例如，这使得可以根据数据集在运行时更改地形高度或颜色。

我一直在看看起来很棒的 Helix 3d 工具包。

可以在以下位置找到：

[http://helixtoolkit.codeplex.com/](http://helixtoolkit.codeplex.com/)

我知道 3d 几何可以在 Helix 3d 工具包中表示为 XAML。是否可以在运行时动态更改几何以支持与 XNA 中的 Solar Wind 示例类似的行为？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-16T10:16:00.050

@user1306322 看起来就像 Unity3d 的插件。Unity 是一个很棒的引擎，但我被建议使用 Helix 3d，因为它是为与 WPF 应用程序集成而构建的。

就移植 Solar Winds 示例而言，更好的建议实际上是 Monogame，因为它完全（几乎）支持 XNA 框架，但支持 DirectX 11 和多平台。

# javascript - Node.js 跨域解决方案 - 无需来自其他域的授权

> ID：13857264
> 
> 赞同：0
> 
> 时间：2012-12-13T09:58:20.333
> 
> 标签：javascript, cross-domain

> **可能重复：**
> [规避同源策略的方法](https://stackoverflow.com/questions/3076414/ways-to-circumvent-the-same-origin-policy)

我有一个应用程序（在域 A 上运行）需要向另一个域（域 B）发送一个肥皂请求（或 Web 服务）。

我需要一个不要求 B 渗透的解决方案（它不是我的，我无法控制它）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:07:24.357

You can create a web service on your own domain that calls the service from domain B server side. Essentially your service would just be a proxy.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:17:02.363

这完全取决于域 B 提供什么。如果您不控制域 B 并且我们不知道域 B 是什么，那么我们无法为您提供具体信息。但是，通常，域 B 必须提供符合以下要求之一的数据：

*   [JSON-](http://json-p.org/) P服务
*   被[YQL读取的能力](http://developer.yahoo.com/yql/)

JSON-P 很简单——网站 B 提供或不提供。可能不是，因为你在这里问。

YQL 有点复杂。您需要使用 YQL 服务本身进行身份验证，然后您向他们进行类似数据库的查询，*他们的*服务器抓取域 B，然后以 XML 或 JSON 格式将结果返回给您。这将是你的一部分工作（并且可能不可能，取决于域 B 的结构）——[这篇文章](http://christianheilmann.com/2009/08/25/tutorial-scraping-and-turning-a-web-site-into-a-widget-with-yql/)很好地解释了这些原则。

# java - 将 JAR 文件转换为可执行文件是否可以确保其分发？

> ID：13857266
> 
> 赞同：2
> 
> 时间：2012-12-13T09:58:25.617
> 
> 标签：java, security, jar, decompiling

我用 Java 制作了一个应用程序，并且我已经将应用程序 jar 文件转换为`.exe`使用软件以防止提取，因为我们知道 JAR 文件可以很容易地提取和反编译。

谁能告诉我将 .jar 文件转换为是否`.exe`足够安全以分发给任何客户。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:06:55.573

没有什么是 100% 安全的。将 jar 转换为 exe，你正在扼杀一个超级重要的 java 特性：跨平台。exe文件不再是跨平台的。它是为特定平台创建的（例如 MS windows）。

如果您想防止您的代码进行逆向工程，请使用混淆：更改您的字节码以便它可能可以被反编译但在反编译后很难理解的过程。如果您想要更高的安全性，您可以在运行时下载部分代码并运行它们。下载可以使用 SSL 完成，因此非常安全。您还可以创建自定义类加载器并针对受密码保护的 zip 文件运行。

因此，有很多方法可以保护您的代码，而创建 exe 文件是最弱的一种。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:08:56.657

嗯，有两种EXE生成器：

1.  攻击 JAR 文件的最小 JRE
2.  将您的代码转换为本机代码的代码

两者都更难反编译纯 JAR 文件，但第二个更安全。

好吧，据我所知，本机编译器都是商业的，所以如果你需要一个免费的转换器，你只有第一个选择。在这种情况下，我建议您首先使用（非流）混淆器（例如 yGuard），然后将混淆的 JAR 文件转换为 EXE。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:10:06.617

> 谁能告诉我将 .jar 文件转换为 .exe 是否足够安全以分发给任何客户？

不，不是。混淆会使它变得更难一些。

# html - Kinetic.JS Canvas Rotate 振荡动画

> ID：13857269
> 
> 赞同：2
> 
> 时间：2012-12-13T09:58:29.610
> 
> 标签：html, canvas, kineticjs

我有一个与 Kinetic.js 库一起使用的画布动画。

在这段代码中，我还有一组对象，我可以很容易地制作动画和旋转。我需要的是围绕中心点摆动的旋转。

因此，与其只是转来转去——还需要来回摆动。我已经尝试了一切，但找不到如何做到这一点。

类似于本教程....

[HTML5 Canvas 振荡教程](http://www.html5canvastutorials.com/advanced/html5-canvas-oscillation-animation/)

除了在一个平面上向后摆动一个正方形之外，它还需要前后旋转。

```
var carTopLeftGroup = new Kinetic.Group({
        x: stageWidth / 2 - 35,
        y:  stageHeight / 2 - 25,
        rotationDeg: 30,
        offset: [800, 50]
    });

    carTopLeftGroup.add(carTopLeftLight);
    carTopLeftGroup.add(carTopLeft);

    welcomeLayer.add(carTopLeftGroup); 
```

希望这很清楚，并已尽我所能解释。

问候 JS

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T13:46:26.800

你的意思是像钟摆算法吗？

[Javascript 中的物理建模：简介](http://burakkanber.com/blog/modeling-physics-in-javascript-introduction/)

您可以从那里查看并使用数学并使用 Kineticjs 而不是纯 html5 画布。

# itext - 使用 FontSelector 时更改字体颜色和大小

> ID：13857273
> 
> 赞同：6
> 
> 时间：2012-12-13T09:58:34.133
> 
> 标签：itext, font-size

我正在使用`iText5`（Java）编写可能包含中文字符的 PDF。所以我`FontSelector`用来处理字符串，这很好用。

现在的问题是，如果有 2 个字符串

```
String str1 = "Hello Test1";
String str2 = "Hello Test2"; 
```

我需要写`str1`witch `Font Color = Blue`and `size = 10`，而`str2`with `Font Color = Gray`and `size = 25`。

我无法弄清楚如何使用`FontSelector`.

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T18:02:59.417

这很容易。这里有一个代码片段，它添加了蓝色的 Times Roman 文本和红色的中文文本：

```
FontSelector selector = new FontSelector();
Font f1 = FontFactory.getFont(FontFactory.TIMES_ROMAN, 12);
f1.setColor(BaseColor.BLUE);
Font f2 = FontFactory.getFont("MSung-Light",
        "UniCNS-UCS2-H", BaseFont.NOT_EMBEDDED);
f2.setColor(BaseColor.RED);
selector.addFont(f1);
selector.addFont(f2);
Phrase ph = selector.process(TEXT); 
```

在您的情况下，您需要两个 FontSelector。

```
FontSelector selector1 = new FontSelector();
Font f1 = FontFactory.getFont(FontFactory.TIMES_ROMAN, 12);
f1.setColor(BaseColor.BLUE);
selector1.addFont(f1);
Phrase ph = selector1.process(str1);//First one

FontSelector selector2 = new FontSelector();
Font f2 = FontFactory.getFont(FontFactory.TIMES_ROMAN, 12);
f2.setColor(BaseColor.GRAY);
selector2.addFont(f2);
Phrase ph = selector2.process(str2);//Second one 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-10T12:06:18.967

**在我的情况下，你可以用另一种方式来做，我使用 14 作为标题，10 作为表格报告中的数据**

```
 private Font fHeader;
    private Font f1;

    BaseFont bf = BaseFont.createFont(Constants.Settings.ARIAL_FONT, BaseFont.IDENTITY_H, true);

     f1 = new Font(bf, 10);
     fHeader= new Font(bf,14);
     PdfPCell cell = new PdfPCell();

//for report header
     cell = new PdfPCell(new Phrase(reportKingdomData + "\n" + departmentData + " " + username + " \n  " + reportHeader + "    \n ", fHeader));

//and for background color
 cell .setBackgroundColor(new GrayColor(0.40f));//if 0.10f will be closer to black 
```

# php - 正则表达式在 div 和确切的字符串中查找内容

> ID：13857277
> 
> 赞同：0
> 
> 时间：2012-12-13T09:58:59.497
> 
> 标签：php, regex, string

我正在使用 curl 在文本上获取一个大字符串，基本上可能会发生 3 件事，该字符串可能包含

1.  例如，其中具有唯一名称的 div`"class=\"asl bwd asd\">{Valid user}\u003C\/div>"`

2.  `"The email you entered does not exist"`

3.  例如，其中具有唯一名称的 div`"class=\"asl bwd asd\">{UNIQUE STRING}\u003C\/div>"`

有人可以帮我写 3 个单独的 preg 匹配，这样如果找到三个字符串之一，我就可以做一些事情。字符串永远不会超过三个字符串之一。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:20:34.543

不要尝试使用正则表达式解析 XML 或 HTML。两者都不能使用 RegEx 完全表达。

请改用 PHP 的[XML 解析器函数](http://php.net/manual/en/refs.xml.php)。

或者像[PHPQuery 之](http://code.google.com/p/phpquery/)类的东西（我刚找到那个，我喜欢这个主意）

# c# - 将大量数据插入数据库时 的效率

> ID：13857286
> 
> 赞同：3
> 
> 时间：2012-12-13T09:59:18.153
> 
> 标签：c#, sql-server

当我想向数据库中插入大量数据时，哪种方式更有效？1.通过调用insert语句逐行插入数据 2.在我的数据库中创建一个用户自定义的Table类型，并编写一个存储过程将DataTable插入到数据库中。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:49:17.003

最有效的是 [**SQL Bulk Insert**](http://msdn.microsoft.com/en-us/library/ms188365.aspx)。

要进一步提高性能，您可以使用[**SqlBulkCopy**到 SQL Server **in Parallel**](http://www.adathedev.co.uk/2011/01/sqlbulkcopy-to-sql-server-in-parallel.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:02:11.370

这可能会根据特定的工作负载而有所不同。

我们只能在这里告诉您哪些选项可供您使用 - 由您来衡量每个选项在您的特定情况下的效率。

选项：

*   `SQLBulkCopy`
*   `INSERT`单行语句
*   `INSERT`具有多行的语句（尝试不同的行数）
*   存储过程（上面有变化）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:02:15.560

2 快得多，因为任何涉及每行操作（[RBAR](http://www.simple-talk.com/sql/t-sql-programming/rbar--row-by-agonizing-row/)）的东西本质上都很慢。我对表值参数进行了大量测试，发现它们接近批量插入的性能，批量大小高达 1,000,000 行。但是，这纯粹是轶事，您的里程可能会有所不同。

另外，我建议不要使用 a`DataTable`并编写更直接地流式传输行的东西。我在[这里](http://www.atlantis-interactive.co.uk/blog/post/2011/05/21/A-generic-list-for-passing-table-valued-parameters-to-SQL-Server.aspx)写了博客。

# internet-explorer - 同时请求时，下载的文件在 IE 中损坏

> ID：13857292
> 
> 赞同：0
> 
> 时间：2012-12-13T09:59:24.147
> 
> 标签：internet-explorer, tomcat, servlets, apache2, download

我遇到了一个与在 Internet Explorer 中下载文件有关的尴尬问题。服务器环境如下：

*   Apache2 作为带有 mod_jk 的 Web 服务器
*   Tomcat6作为应用服务器
*   Java/Spring 应用程序

这些文件由 Java Servlet 提供。当同时使用 Internet Explorer 从 2 个客户端请求某个文件时，会出现此问题。其中一个客户端无法获取整个文件，最终导致下载损坏。

我使用 Wireshark 查看入站数据。并且下载停止在 90k 文件中的 50k 处，来自服务器的 RELOAD（资源定位和发现框架）请求。

这只发生在 Internet Explorer 中。多次使用 Chrome/Firefox 尝试相同的场景。每次下载成功完成时，文件都可以正常工作。

我已经检查了应用程序和 Apache 日志。与此问题无关。通过调试级别的 mod_jk 日志。它记录了仅发送了 50k 的文件。但是在任何地方都没有记录任何错误。

下载 servlet 也是线程安全的，doPost() 方法中不使用类变量。

那么如何修复或追查这个问题的根源呢？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-25T20:36:44.703

没有足够的信息来诊断问题，但我可以建议使用 Internet Explorer 和（例如）Firefox 仔细检查请求标头和资源标头（`Content-Length`和`Content-Type`，以及任何“深奥”的标头）。

前段时间我遇到了资源供应代码错误的问题，它发出了不正确的内容长度。不知何故，这在 Firefox 和 Chrome 中有效，但导致 Internet Explorer 出错。你的问题可能类似。

两个（据我所知不同）客户端导致问题的事实使我认为问题出在服务器端；只有资源管理器传输的某些标头遇到了您忽略的一些错误。了解标头可能有助于定位错误，或者至少提供有关如何解决它的提示。

我意识到（并同意）如果下载 servlet 是“真正的”线程安全的，那么它不可能是服务器问题，但另一方面，*服务器下载链是否真正线程安全且不变，第二个怎么可能？ IE 客户端“知道”它实际上是第二个客户端？*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-24T15:37:15.213

通常通过在下载脚本中提供正确的 MIME 类型来解决此问题。

但是，如果这些 pdf 文件是从直接位置下载的，那么问题就出在第三方软件上。

禁用防病毒/反恶意软件/防火墙软件和 IE 插件，看看是否会导致问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T22:26:41.137

问题实际上是超时问题。apache2 conf 文件中的*TIMEOUT参数设置为**5*而不是*300*。

当您使用 IE 请求文件时，浏览器会询问您是要下载文件还是直接打开文件。如果您在该选择屏幕上等待超过*TIMEOUT* (5) 秒，当我尝试同步单击 2 台计算机的链接时发生这种情况，服务器仅发送文件的一部分并停止导致文件损坏. 但在 FF/Chrome 中，浏览器在后台以类似的选择屏幕开始下载，而无需等待您的决定。

我显然完全错误地诊断了这个问题。但是我遵循了向我报告的内容，在尝试复制它时，错误发生了很多次，因为显然我在那些屏幕上等待了超过 5 秒。

# jms - 骆驼 jms 请求/回复

> ID：13857294
> 
> 赞同：4
> 
> 时间：2012-12-13T09:59:26.097
> 
> 标签：jms, apache-camel

我对骆驼很陌生，所以如果这很明显，请原谅。

我们正在尝试建立一个骆驼路线（在 talend esb 中），它执行以下操作：

1.  通过 JMS 接收消息
2.  数据库更新
3.  通过 JMS 使用请求/回复将消息发送到另一个系统
4.  使用回复中的信息进行另一个数据库更新

这一切都在一条路线上。我发现该路由不再接受 1 中的任何消息，而它正在等待 3 中的回复。

我尝试在 JMS 组件上使用“asyncConsumer”参数，但这没有帮助。

如何设计路由，以便它在等待 3 中的回复时可以处理第二个（以及更多）消息。？

谢谢，拉西

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T08:16:27.370

Petter 解释的参数会有所帮助，但您仍然会阻塞线程。另一种方法是将集成设计为两条单独的路线。在您收到 jms 消息的第一条路由中，更新数据库并发送第二条消息。

如果您在此路由的生产者上使用 InOnly 并设置 JMSReplyTo 以及 preserveMessageQuo=true 那么骆驼将发送消息但不等待回复。

然后，您使用第二条路由来侦听对您指定的队列的回复并进行第二次数据库更新。这样你就不会阻塞任何线程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T15:13:02.207

使用[concurrentConsumers](http://camel.apache.org/jms#JMS-ConcurrentConsuming)属性。它将启用多个线程来处理您的负载。请注意，您必须指定线程数。对于所有选项，这可能有点复杂，因此请务必正确阅读 Camel JMS 文档。

例子 `from("jms:myQueue?concurrentConsumers=10")`

您可能还想在请求回复的回复队列中指定 concurrentConsumers ： `.inOut().to("jms:requestQueue:foo?concurrentConsumers=10")`

最后一部分需要[2.10.3 版本](http://camel.apache.org/camel-2103-release.html)。

# php - facebook 图形 api 用户返回 0

> ID：13857297
> 
> 赞同：0
> 
> 时间：2012-12-13T09:59:35.393
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

我正在尝试使用 Facebook 与
我在 FaceBook 注册的 Graph API 的集成，得到我的`appID`and `Secret`，下载`facebook-php-sdk-master`并使用了以下代码：

```
 require_once("facebook-php-sdk-master/src/facebook.php");
      $config = array();
      $config[‘appId’] = 'YOUR_APP_ID';
      $config[‘secret’] = 'YOUR_APP_SECRET';
      $config[‘fileUpload’] = false; // optional
      $facebook = new Facebook($config);
      $user = $facebook->getUser();
      echo "user = ".$user; 
```

现在，当我尝试使用此代码时，它总是打印`user = 0`.
我错过了什么吗？
ps：我也授权了该应用程序。
PPS：这可能是因为我正在尝试从 localhost 测试我的代码，而 facebook 需要一个网站名称才能运行？
谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:14:28.040

您需要确保您已授权该应用程序。仅仅因为您创建了应用程序并不意味着应用程序知道您是谁或可以访问您的数据。

以下是有关登录的更多信息：[https ://developers.facebook.com/docs/technical-guides/login/](https://developers.facebook.com/docs/technical-guides/login/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T13:29:13.723

您首先需要登录并授权该应用程序。

# excel - VBA 如何强制用户使用 Excel 的内置范围选择来选择范围？

> ID：13857298
> 
> 赞同：1
> 
> 时间：2012-12-13T09:59:36.897
> 
> 标签：excel, vba, input, selection

我想要实现的是，一旦宏运行，用户必须（手动，从工作表中而不是通过键入范围）选择一个范围，然后将其设置为 Range 变量。

Excel 确实在许多领域都有这样的功能，例如图表的数据选择设置，但我不知道如何访问它。任何和所有的帮助表示赞赏！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:19:55.023

下面将强制用户选择一个范围：

```
On Error Resume Next

Dim rng As Range

Do
    Set rng = Application.InputBox(Prompt:="Select Range", Type:=8)
Loop While rng Is Nothing

If Not rng Is Nothing Then rng.Select

On Error GoTo 0 
```

# r - 按除一个以外的所有列查找数据框中的重复组

> ID：13857300
> 
> 赞同：4
> 
> 时间：2012-12-13T09:59:41.887
> 
> 标签：r, dataframe

我有一个大数据框。出于某些目的，我需要执行以下操作：

*   在此数据框中选择一列
*   迭代给定数据框的所有行，除了选定的列
*   选择除一个选定列之外的所有元素都相等的此数据框的所有行
*   按组名是行索引和组值是重复行的索引的方式对它们进行分组。

我为此任务编写了一个函数，但由于嵌套循环，它运行缓慢。我想了解如何改进此代码。

假设我们有一个这样的数据框：

```
 V1 V2 V3 V4
1  1  2  1  2
2  1  2  2  1
3  1  1  1  2
4  1  1  2  1
5  2  2  1  2 
```

我们希望得到这个列表作为输出：

```
diff.dataframe("V2", conf.new, conf.new) 
```

输出：

```
$`1`
[1] 1

$`2`
[1] 2

$`3`
[1] 1 3

$`4`
[1] 2 4

$`5`
[1] 5 
```

下面的代码达到了目标，但它工作得太慢了。有没有可能以某种方式改进它？

```
diff.dataframe <- function(param, df1, df2){
  excl.names <- c(param)
  df1.excl <- data.frame(lapply(df1[, !names(df1) %in% excl.names], as.character), stringsAsFactors=FALSE)
  df2.excl <- data.frame(lapply(df2[, !names(df2) %in% excl.names], as.character), stringsAsFactors=FALSE)
  list.out <- list()

  for (i in 1:nrow(df1.excl)){
     for (j in 1:nrow(df2.excl)){
        if (paste(df1.excl[i,],collapse='') == paste(df2.excl[j,], collapse='')){
          if (!as.character(i) %in% unlist(list.out)){                                                                                                                             
            list.out[[as.character(i)]] <- c(list.out[[as.character(i)]], j)                                                                                                       
          }
        }
     }
  }
  return(list.out)
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:44:47.353

我们先生成一些数据

```
df <- as.data.frame(matrix(sample(2, 20, TRUE), 5))

# Produces df like this
  V1 V2 V3 V4
1  2  1  1  1
2  2  1  2  2
3  1  1  2  2
4  1  2  1  1
5  1  2  1  1 
```

然后我们用 循环遍历这些行`lapply`。`i`然后将每一行与`df`with的所有行`apply`（包括其自身）进行比较。具有 <= 1 差异的行返回`TRUE`，其他行返回`FALSE`产生一个逻辑向量，我们将其转换为带有 的数字向量`which`。

```
lapply(1:nrow(df), function(i)
    apply(df, 1, function(x) which(sum(x != df[i,]) <= 1)))

# Produces output like this
[[1]]
[1] 1

[[2]]
[1] 2 3

[[3]]
[1] 2 3

[[4]]
[1] 4 5

[[5]]
[1] 4 5 
```

# c# - 如何在 Quartz.Net 中向类发送参数

> ID：13857303
> 
> 赞同：24
> 
> 时间：2012-12-13T09:59:43.907
> 
> 标签：c#, arguments, quartz.net, quartz.net-2.0

我使用 Quartz.Net（版本 2）在每天 8:00 和 20:00（IntervalInHours = 12）在课堂上运行一个方法

一切都很好，因为我使用了与 Quartz.Net 上的教程相同的作业和触发器，但是我需要在类中传递一些参数并根据这些参数运行方法。

谁能帮助我在使用 Quartz.Net 时如何使用参数？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-12-13T10:04:50.617

您可以使用**JobDataMap**

```
jobDetail.JobDataMap["jobSays"] = "Hello World!";
jobDetail.JobDataMap["myFloatValue"] =  3.141f;
jobDetail.JobDataMap["myStateData"] = new ArrayList(); 

public class DumbJob : IJob
{
    public void Execute(JobExecutionContext context)
    {
        string instName = context.JobDetail.Name;
        string instGroup = context.JobDetail.Group;

        JobDataMap dataMap = context.JobDetail.JobDataMap;

        string jobSays = dataMap.GetString("jobSays");
        float myFloatValue = dataMap.GetFloat("myFloatValue");
        ArrayList state = (ArrayList) dataMap["myStateData"];
        state.Add(DateTime.UtcNow);

        Console.WriteLine("Instance {0} of DumbJob says: {1}", instName, jobSays);
    }
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-11-07T18:33:22.397

要扩展@ArsenMkrt 的答案，如果您正在执行[2.x 风格的流利作业 config](http://quartznet.sourceforge.net/migration_guide.html)，您可以像这样加载`JobDataMap`：

```
var job = JobBuilder.Create<MyJob>()
    .WithIdentity("job name")
    .UsingJobData("x", x)
    .UsingJobData("y", y)
    .Build(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-02-19T06:40:30.410

## 抽象的

让我对@arsen-mkrtchyan 的帖子进行一些重要的注释，这可能会避免生产中痛苦的支持 Quartz 代码：

## 问题（对于持久性 JobStore）

**请记住 JobDataMap 版本控制**，以防您使用持久性 JobStore，例如 AdoJobStore。

## 摘要（TL；DR）

*   仔细考虑构建/编辑您的 JobData 否则它将导致触发未来工作的问题。
*   [按照官方文档的建议](https://www.quartz-scheduler.net/documentation/quartz-2.x/tutorial/job-stores.html)启用“quartz.jobStore.useProperties”配置参数，以尽量减少版本控制问题。稍后使用*JobDataMap.PutAsString() 。*

## 细节

文档中也说明了这一点，但并未如此突出，但如果您在应用程序的下一个版本中删除某些参数，则可能会导致大的维护问题：

> 如果您使用持久的 JobStore（在本教程的 JobStore 部分讨论），您应该谨慎决定在 JobDataMap 中放置什么，因为其中的对象将被序列化，因此它们容易出现类版本问题。

还有相关文档中提到的有关配置 JobStore 的[相关说明](https://www.quartz-scheduler.net/documentation/quartz-2.x/tutorial/job-stores.html)：

> 可以将“quartz.jobStore.useProperties”配置参数设置为“true”（默认为 false），以指示 AdoJobStore JobDataMaps 中的所有值都是字符串，因此可以存储为名称-值对，而不是存储BLOB 列中的序列化形式的更复杂的对象。从长远来看，这更安全，因为您避免了将非字符串类序列化为 BLOB 时存在的类版本控制问题。

# java - 如何自定义独立netbeans应用程序的java选项？

> ID：13857304
> 
> 赞同：1
> 
> 时间：2012-12-13T09:59:45.380
> 
> 标签：java, netbeans, classpath, netbeans-platform

我正在使用 Netbeans RCP 开发应用程序。`project.properties`我在我的平台文件中添加了一个选项来将 jar 添加到我的类路径中：

```
run.args.extra=-cp:a ./appclient/glassfish/lib/gf-client.jar 
```

我遇到的问题是，当我从 Netbeans IDE 运行它时它确实有效，但当我尝试创建一个独立的应用程序（例如为 Mac OSX 构建）时却没有。我听说`project.properties`当你运行一个独立的应用程序时不再考虑，当然我`appclient`的包含 jar 的目录在应用程序包中不再存在（所以我的 jar 没有添加到类路径中）。

我怎样才能使这个 -cp 选项适用于我的独立 Mac OSX 应用程序？

* * *

编辑：我能够为我的独立平台创建一个自定义 conf 文件，但我找不到将我的 jar 添加到类路径的方法，我不知道要使用哪些选项。

编辑：我发现我需要你认可的机制来实现它。所以我在我的 app.conf 文件中添加了以下命令：

```
J-Djava.endorsed.dirs=/Users/altanis/appclient/glassfish/lib/gf-client.jar 
```

但是当我运行 .app（mac 应用程序）时，我得到了这个错误：

```
-J-Djava.endorsed.dirs=/Users/altanis/appclient/glassfish/lib/gf-client.jar: No such file or directory 
```

路径是正确的。我需要做一些特别的事情来让 JVM 意识到这一点吗？我按照[本](http://netbeans.dzone.com/nb-call-ejb-on-glassfish)教程以及作者在评论中的某处说：

> 没错，但是 package-appclient 会为您复制所有内容，您应该能够使用认可机制将其放在类路径中。解压由此创建的 jar 并将您需要的所有内容（jar）添加到您的应用程序安装程序中。然后，您可以使用 app.conf 中的背书 (-J-Djava.endorsed.dirs=${GFCLIENT_PATH}) 机制将其放在应用程序类路径中。这样，您应该能够与您的客户一起部署它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T08:20:46.173

我认为，创建一个新库是更好的方法。

1.  使用所需的 jar 创建模块类型库
2.  在您的模块中添加对创建模块的依赖项（类型包装库）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:11:38.350

您必须将条目添加`Class-path`到您的应用程序的`MANIFEST.MF` 例如

```
Class-Path: apache-commons-2.1.jar ejb-api-3.0.jar 
```

所有这些`jars`都应该在您的应用程序的根目录中您的应用程序
应该具有下一个结构

```
MyApplication.jar  
/META-INF  
/META-INF/MANIFEST.MF  
/apache-commons-2.1.jar  
/ejb-api-3.0.jar  
/com/package/classes 
```

或者你可以使用`jar`JDK 的工具来创建一个 jar
在这里阅读更多[Oracle doc](http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html)

# jquery - 用 DropDownList 问题替换 Telerik 过滤器 TextBox

> ID：13857308
> 
> 赞同：0
> 
> 时间：2012-12-13T09:59:56.043
> 
> 标签：jquery, telerik

我正在覆盖基本的 Telerik 过滤器，如下所示：

![在此处输入图像描述](../Images/9c214e1b4b9ce4e5c0c8e80952a19a3a.png)

我把它改成这样：

![在此处输入图像描述](../Images/94da045b11bafe8e117224b26cebda70.png)

我在加载网格 .OnLoad("onListingLoad") 时在 Telerik GRID 中处理该问题，如下所示：

```
 $(this).find("a.t-link:contains('State')").nextUntil().children(".t-filter").click(function () {
        setTimeout(function () {

            $(".t-filter-help-text:contains('And')").nextUntil(".t-button").andSelf().remove();

            $(".t-filter-operator").each(function () {
                $(this).val("substringof");
            });

            var select = "<select id='customFilter' data-val='false'> \
                            <option value=''>[Select State]</option> \
                            <option value='Approved'>Approved</option> \
                            <option value='Assigned'>Assigned</option> \
                            <option value='End State'>End State</option> \
                        </select>";
            $("#documentListing").find(":text").replaceWith(select);

        });
    }); 
```

当我在下拉列表中选择项目然后按过滤器时，在 jquery.validate.js 中的此 JQUERY 代码的最后一行发生错误：

```
normalizeRules: function(rules, element) {
                            // handle dependency check
                            $.each(rules, function(prop, val) {
                                            // ignore rule when param is explicitly false, eg. required:false
                                            if (val === false) {
                                                            delete rules[prop];
                                                            return;
                                            }
                                            if (val.param || val.depends) { 
```

错误是：

> “未捕获的类型错误：无法读取未定义的属性‘参数’”

我试图从新的 DropDownList 中删除规则，或者在删除之前从 TextBox 中复制它，但没有成功。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:03:05.703

我最好的猜测是它`rules`仍然包含对您要删除以更改过滤器外观的元素的引用。当您`.remove()`使用过滤器时，也要从中删除该元素`rules`。

# ruby-on-rails - 具有混合大小写列名称的小写方法名称

> ID：13857309
> 
> 赞同：3
> 
> 时间：2012-12-13T09:59:57.623
> 
> 标签：ruby-on-rails, ruby, database, ruby-on-rails-3, activerecord

我需要使用他们自己的约定和特别是 CamelCase 列和表连接到旧版 SQL Server 2000 数据库。

对于表，它似乎很好，Rails 用小写询问它，数据库很好地找到它。问题在于列，因为 Rails 使用 SQL 获取它们的名称，因此无论它们的名称是什么大小写。

我正在处理**500**多个表，每个表中都有几十列，并且在它们上面运行了几个在生产中运行的遗留应用程序，因此重命名这些列不是解决方案。使用 alias_attribute 也是一种工作量太大的解决方案。

我不想在我的代码中出现一些奇怪的情况，比如 client.AccountId （就像 Java 代码一样）。

所以我的最后一个问题是：有没有办法让 Rails 处理小写方法和符号，然后在数据库处理 SQL 时使用它们的任何情况？我正在寻找任何现有的解决方案，甚至是指向 ActiveRecord 的明智领域的方向，所有这些机制都在其中完成（我一直在搜索，但源代码很大......）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:50:18.650

好吧，在发布问题一段时间后，我突然想到 alias_attribute 实际上是解决方案，但只需要一点魔法。这是我自己的问题的解决方案：

```
module LegacyDatabase
  module ClassMethods
    def aliased_attributes
      @aliased_attributes ||= {}
    end

    def alias_attribute(new_name, old_name)
      self.aliased_attributes[new_name.to_sym] = old_name.to_sym
      super(new_name, old_name)
    end
  end

  module InstanceMethods
    private
    def read_attribute(attr_name)
      attr_name = self.class.aliased_attributes[attr_name.to_sym] if self.class.aliased_attributes.has_key?(attr_name.to_sym)
      super(attr_name)
    end

    def write_attribute(attr_name, value)
      attr_name = self.class.aliased_attributes[attr_name.to_sym] if self.class.aliased_attributes.has_key?(attr_name.to_sym)
      super(attr_name, value)
    end
  end

  def self.included(base)
    base.instance_eval do
      extend(ClassMethods)
      include(InstanceMethods)
    end

    base.columns.each do |column|
      legacy_name = column.name
      rails_name  = column.name.underscore
      if legacy_name != rails_name
        base.alias_attribute rails_name, legacy_name
      end
    end
  end
end 
```

我认为这是避免弄乱所有 ActiveRecord 代码的最小代码修改。如果您看到我要撞墙而我没有撞墙，我想听听您对此的意见和评论！

To describe the solution, I'm using the columns method of ActiveRecord to generate snake_case looking aliases for each column. I'm also giving alias_column a memory of the aliases, that way read and write attribute methods know when they are dealing with alias names.

Since in my legacy database the convention for the ID or the table Table is TableID, my solution will create a table_id alias found by ActiveRecord using the "table_name_with_underscore" convention, so the id method is working as expected.

I presume it's not going to work with all the SQL fetches, even with Squeel of something but I don't think there is any simple solution for this.

# php - sql从表中检索数据并使它们链接

> ID：13857310
> 
> 赞同：3
> 
> 时间：2012-12-13T10:00:05.893
> 
> 标签：php, javascript, mysql, sql, database

我正在从数据库生成网页。现在我的问题是：

我的数据库（MySql）中有 1000 条记录（名称）。我在页面中创建了一个搜索框，当我输入数据库中的任何名称或名称的一部分时，所有名称都应该出现。例如-

```
SELECT * FROM table where name like '%$find%' 
```

现在我想在新页面上显示选定的名称（通过查询获取），以便当我单击任何名称时，应该打开一个新页面以及与该选定名称相关的所有数据（存在于属于的表中）数据库）要使用导航按钮显示在该页面上，我应该使用什么查询来执行它。

**简而言之**，我想让我的页面像 Google 搜索页面一样。

我的第一页是这样的

```
<html>
<body >
<h2>Search</h2> 
<form name="search" method="post" action="second.php">
Search Name: <input type="text" name="find" id="find" /> 
<input type="submit" name="search" value="search" />
</form>
</body>
</html> 
```

第二页有点像这样

```
 <html>
  <head>
  <script>
  function favBrowser()
  {
  var mylist=document.getElementById("opt");
  document.getElementById("favorite").value=mylist.options[mylist.selectedIndex].text;

   }
  </script>
  </head>

 <body>

  <form  method="get">

 <?php
 $find = $_REQUEST['find'];
 $con = mysql_connect("localhost","root","");
 if (!$con)
 {
 die('Could not connect: ' . mysql_error());
  }
 mysql_select_db("data", $con);

  $result = mysql_query("SELECT * FROM table where name like '%$find%'");

  $result_rows = mysql_num_rows($result);

 while($row = mysql_fetch_array($result))
{

 // $names[] = $row['name'];  
 // echo $names[0];

 // echo "$row[name]. $row[id] <a href='data.php?edit=$row[name]'>edit</a><br />";

 $_name = $row['name'];

 echo "Name : <input type='text' name='name' value='$_name' size='30'>";

 echo "<br />";
 }
 }
 mysql_close($con);

?>

<!--</select>
<input type ="submit" value="submit">
<p>Your selected name is: <input type="hidden" name="fun" id="favorite" size="30">
</p>
 --> 
```

```
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:46:45.803

好吧，简化后，在第一页你会看到类似的内容：

```
while($row = mysql_fetch_array($result))
{
   $_name = $row['name'];
   echo '<a href="second_page.php?name='.strip_tags($_name)'" target="_BLANK"'.'</a>';
} 
```

在第二页上，您有名称，作为 URL 参数传递，然后您在其上查找另一个数据库以获取联系人详细信息并填充各个字段：

```
$_name = $GET['name']; 
```

请记住添加所需的转义或使用 PDO / mysqli

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:17:49.400

但问题是如何将所有名称作为链接，然后在下一页获取它们的结果.. 对吗？

# ruby-on-rails - 子文件夹中有很多模型

> ID：13857313
> 
> 赞同：0
> 
> 时间：2012-12-13T10:00:19.933
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我有一个模型，位于模型/统计（Model1）和模型（Model2）中的模型我如何通过has_many正确连接Model2中的Model1？我试过 has_many :statistics_model1s，但没用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:28:08.173

您可以参考这个问题：[How to do has_many with a model that is in a namespace](https://stackoverflow.com/questions/4405177/how-to-do-has-many-with-a-model-that-is-in-a-namespace)。这可能会解决您的问题；）

# business-intelligence - 将用户的选择传递到 Oracle BI EE 中的存储库变量

> ID：13857315
> 
> 赞同：0
> 
> 时间：2012-12-13T10:00:22.307
> 
> 标签：business-intelligence, obiee

我需要将用户的选择传递到 Oracle 商业智能 (OBIEE) 中的存储库变量中。查询确实适用于变量的默认值。不知道如何将参数从分析提示传递到存储库变量。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T16:22:38.063

您不能直接从仪表板填充存储库变量，因为存储库变量对于所有用户来说都是相同的常量。您可以使用从仪表板提示填充的表示变量来提供类似的功能。Nico在他的网站上有[关于 Presentations Variables 的概述。](http://gerardnico.com/wiki/dat/obiee/presentation_variable)

# c++ - 如何使用 OpenMP 并行化更新总和

> ID：13857316
> 
> 赞同：2
> 
> 时间：2012-12-13T10:00:24.687
> 
> 标签：c++, parallel-processing, openmp, critical-section

以下循环遍历图的所有边，确定末端节点是否属于同一组，然后将边权重添加到该组的总边权重中。

```
// TODO: parallel
FORALL_EDGES_BEGIN((*G)) {
    node u = EDGE_SOURCE;
    node v = EDGE_DEST;
    cluster c = zeta[u];
    cluster d = zeta[v];
    if (c == d) {
        // TODO: critical section
        intraEdgeWeight[c] += G->weight(u, v);
    } // else ignore edge
} FORALL_EDGES_END(); 
```

我想将它与**OpenMP**并行化。我认为 if 语句中的代码是一个关键部分，如果线程在中间被中断，可能会导致竞争条件和错误结果（对吗？）。

如果`+=`可以原子地进行操作，我相信问题已经解决（正确吗？）。但是，我[查看了](http://bisqwit.iki.fi/story/howto/openmp/#Atomicity)该`atomic`指令，其中指出：

> 不幸的是，原子性设置只能指定给通常可以编译为单个处理器操作码的简单表达式，例如递增、递减、异或等。例如，它不能包含函数调用、数组索引、重载运算符、非 POD 类型或多个语句。

我应该用什么来正确地并行化这个循环？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T11:51:08.763

实际上接受的语法`atomic update`是：

> *x* ++;
> 
> *x——*；
> 
> ++ *x* ;
> 
> -- *x* ;
> 
> *x* binop= *expr* ;
> 
> *x* = *x* binop *expr* ;

其中*x*是一个标量*左值*表达式，而*expr*是任何表达式，包括函数调用，唯一的限制是它必须是标量类型。编译器会注意将中间结果存储在临时变量中。

有时最好查阅标准文档而不是阅读 Internet 上的教程。遵守 OpenMP 3.1 标准示例 A.22.1c：

```
float work1(int i)
{
  return 1.0 * i;
}
...
#pragma omp atomic update
x[index[i]] += work1(i); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:57:45.503

您可以将表达式分为两部分：将结果分配给临时的函数调用，以及将该临时添加到累加器。`omp atomic`在这种情况下，假设加法本身不是自定义类型的复杂重载运算符，则第二个表达式将非常简单易用。当然，您只能在`G->weight(u,v)`线程安全调用的情况下这样做，否则您必须使用`omp critical`或互斥锁。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:26:58.093

我也认为你的 if 块是一个关键部分，你不应该在没有序列化写入的情况下从多个线程编写向量。您可以使用`#pragma omp critical`将 if 块中 += 的执行一次限制为单个线程。

# .htaccess - 我应该在静态 HTML 网站上使用 .htaccess 文件吗？

> ID：13857317
> 
> 赞同：3
> 
> 时间：2012-12-13T10:00:40.223
> 
> 标签：.htaccess, static, url-rewriting

我应该在静态 HTML 网站上使用 .htaccess 文件吗？我想从 url 隐藏 .html 扩展名。我尝试过的许多代码都没有工作。

[http://eisabainyo.net/weblog/2007/08/19/removing-file-extension-via-htaccess/](http://eisabainyo.net/weblog/2007/08/19/removing-file-extension-via-htaccess/)

[如何从网站 url 隐藏 .html 扩展名](https://stackoverflow.com/questions/13853788/how-to-hide-html-extension-from-the-website-url)

任何人请帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T10:09:41.783

它不起作用可能是因为未正确设置 AllowOverwrite 指令：请参阅[此](http://httpd.apache.org/docs/2.2/mod/core.html#allowoverride)

您应该增加日志级别以查看会发生[什么](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewriteloglevel)。

# javascript - html 打嗝，（客户端宽度）

> ID：13857321
> 
> 赞同：0
> 
> 时间：2012-12-13T10:00:56.653
> 
> 标签：javascript, html

我记录了两个值，第一个是 h2 标签，第二个是该标签的 clientWidth

console.log(@textfield.textField[0]) =
h2
clientHeight: 14
clientWidth: 95
/h2

console.log(@textfield.textField[0].clientWidth) =
0

这怎么可能？我可以清楚地看到clientWidth是95，而不是0

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:22:27.063

显然，我需要在创建元素并将其添加到 DOM 之后在准备好的文档上执行此操作

如果我记录对象，仍然不太确定它如何仍然可以获得客户端宽度......魔术

# javascript - 仅替换字符串中的最后一次出现

> ID：13857325
> 
> 赞同：0
> 
> 时间：2012-12-13T10:01:05.660
> 
> 标签：javascript, regex, replace

> **可能重复：**
> [如何使用 javascript 替换字符串中最后出现的字符](https://stackoverflow.com/questions/3829483/how-to-replace-last-occurrence-of-characters-in-a-string-using-javascript)

这是我的代码：

```
var newValue= myString.replace(" ", "<br />"); 
```

但我只想替换最后一次出现，而不是所有出现。

如 ：

```
Hello my name is Marco 
```

变得

```
Hello my name is<br />Marco 
```

我该怎么做？我认为正则表达式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:08:41.377

如果您想使用正则表达式，我只能想到`replace(/ (?=[^ ]*$)/, "<br />")`. 不是最佳选择，并且不适用于更复杂的正则表达式，因为它需要对整个表达式进行“否定”。

使用简单的字符串操作可能会更容易：

```
var parts = myString.split(" ");
if (parts.length > 1)
    var last = parts.pop();
    return parts.join(" ") + "<br />" + last;
} else
    return myString; 
```

您也可以使用[向后搜索](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/lastIndexOf)：

```
var index = myString.lastIndexOf(" ");
if (index > -1)
    return myString.substr(0, index) + "<br />" + myString.substr(index+1);
else
    return myString; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:09:49.673

用这个：

```
.replace(/\s(?=\S*$)/, "<br />"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:07:14.087

试试这个：

```
.replace(/ ([^ ]*)$/, "<br />$1") 
```

[**演示**](http://jsfiddle.net/vp5E4/)

# sql-server-2008 - 如何在查询中使用递归获取父母的所有孩子，然后是他们的孩子

> ID：13857329
> 
> 赞同：22
> 
> 时间：2012-12-13T10:01:16.763
> 
> 标签：sql-server-2008, tree, recursive-query

我有这样的结构：

```
<Unit>
  <SubUnit1>
           <SubSubUnit1/>
           <SubSubUnit2/>
           ...
           <SubSubUnitN/>
  </SubUnit1/>
  <SubUnit2>
           <SubSubUnit1/>
           <SubSubUnit2/>
           ...
           <SubSubUnitN/>
  </SubUnit2/>
  ...
  <SubUnitN>
           <SubSubUnit1/>
           <SubSubUnit2/>
           ...
           <SubSubUnitN/>
  </SubUnitN/>
</Unit> 
```

该结构有 3 个层次：主单元、子单元和子子单元。

我想按 UnitId 选择所有孩子。
如果我按单位搜索，我必须得到所有的树。
如果我按 SubUnit1 搜索，我必须得到 SubUnit1 和 SubUnit1 的所有子项。
如果我搜索 SubSubUnit2，我必须得到它自己。

这是我的尝试：

```
with a(id, parentid, name)
as (
select id, parentId, name
   from customer a
   where parentId is null 
union all
   select a.id, a.parentid, a.Name
   from customer
     inner join a on customer.parentId = customer.id
    )
select parentid, id, name 
from customer pod
where pod.parentid in (
select id
from customer grbs
where grbs.parentid in (
select id
from customer t
where t.parentid = @UnitId
))
union 
select parentid, id, name
from customer grbs
where grbs.parentid in (
select id
from customer t
where t.parentid = @UnitId
)
union
select parentid, id, name
from customer c
where c.Id = @UnitId
order by parentid, id 
```

我用了 3 个联合词，效果不好，但很管用。案例结构将有N个级别，我如何获得正确的结果？

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-12-14T15:27:56.157

```
DECLARE @Id int = your_UnitId
;WITH cte AS 
 (
  SELECT a.Id, a.parentId, a.name
  FROM customer a
  WHERE Id = @Id
  UNION ALL
  SELECT a.Id, a.parentid, a.Name
  FROM customer a JOIN cte c ON a.parentId = c.id
  )
  SELECT parentId, Id, name
  FROM cte 
```

[**SQLFiddle**](http://sqlfiddle.com/#!6/abf48d/1)上的演示[](http://sqlfiddle.com/#!6/abf48d/1)

 *** * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-07-06T02:13:39.787

如果父 id 是其自身的孩子，那么我们需要使用不同的查询。例如，模式结构如下

```
CREATE TABLE customer
(
  id int,
  parentid int,
  name nvarchar(10)
)

INSERT customer
VALUES(1,  1, 'aaa'),
  (2,  1,    'bbb'),
  (3,  2,    'ccc'),
  (4,  2,    'ddd'),
  (5,  1,    'eee'),
  (6,  5,    'fff'),
  (7,  5,    'ggg'),
  (8,  8,    'hhh'),
  (9,  8,    'iii'),
  (10, 8,    'jjj') 
```

在这种情况下，我们需要使用以下查询：

```
DECLARE @Id int = 1 -- your UnitId
;WITH cte AS 
 (
  SELECT a.Id, a.parentId, a.name
  FROM customer a
  WHERE parentid = @Id
  UNION ALL
  SELECT a.Id, a.parentid, a.Name
  FROM customer a JOIN cte c ON a.parentId = c.id
   and c.id != @Id

  )
  SELECT parentId, Id, name
  FROM cte
go 
```**

# c# - SecurityException MVC3 请求失败的权限

> ID：13857330
> 
> 赞同：1
> 
> 时间：2012-12-13T10:01:19.943
> 
> 标签：c#, sql-server, asp.net-mvc, visual-studio

如果您导航到此[链接](http://www.nightingalecross.co.uk)，您会发现您遇到了安全异常。

> “/”应用程序中的服务器错误。安全异常描述：应用程序试图执行安全策略不允许的操作。要授予此应用程序所需的权限，请联系您的系统管理员或在配置文件中更改应用程序的信任级别。
> 
> 异常详细信息：System.Security.SecurityException：请求失败。
> 
> 源错误：
> 
> 在执行当前 Web 请求期间生成了未处理的异常。可以使用下面的异常堆栈跟踪来识别有关异常起源和位置的信息。
> 
> 堆栈跟踪：
> 
> [SecurityException：请求失败。]
> System.Security.CodeAccessSecurityEngine.ThrowSecurityException（RuntimeAssembly asm，PermissionSet 被授予，PermissionSet 被拒绝，RuntimeMethodHandleInternal rmh，SecurityAction 操作，对象需求，IPermission permThatFailed）+168
> System.Security.CodeAccessSecurityEngine.ThrowSecurityException（对象 assemblyOrString，PermissionSet授予，PermissionSet 拒绝，RuntimeMethodHandleInternal rmh，SecurityAction 操作，对象需求，IPermission permThatFailed）+100
> System.Security.CodeAccessSecurityEngine.CheckSetHelper（PermissionSet 授予，PermissionSet 拒绝，PermissionSet 要求，RuntimeMethodHandleInternal rmh，对象 assemblyOrString，SecurityAction 操作，布尔 throwException）+278
> System.Security.PermissionSetTriple.CheckSetDemand(PermissionSet demandSet, PermissionSet& changedDemandset, RuntimeMethodHandleInternal rmh) +69
> System.Security.PermissionListSet.CheckSetDemand(PermissionSet pset, RuntimeMethodHandleInternal rmh) +156
> System.Security.PermissionListSet.DemandFlagsOrGrantSet(Int32 flags, PermissionSet grantSet) + 33
> System.Security.CodeAccessSecurityEngine.ReflectionTargetDemandHelper（Int32 权限，PermissionSet targetGrant，CompressedStack securityContext）+128
> System.Security.CodeAccessSecurityEngine.ReflectionTargetDemandHelper（Int32 权限，PermissionSet targetGrant）+54
> 
> 版本信息：Microsoft .NET Framework 版本：4.0.30319；ASP.NET 版本：4.0.30319.272

奇怪的是，您只会出现一次此错误！

这与我的代码有关吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:05:55.590

网站运行的代码是否在您的控制范围内？

我猜有一些启动代码（可能在 global.asax.cs 中）试图访问受保护的资源，可能是文件夹/文件，但失败了。当应用程序启动时，该代码只运行一次。

# sql - 列的 SQL Server 2008 千位分隔符

> ID：13857331
> 
> 赞同：34
> 
> 时间：2012-12-13T10:01:24.017
> 
> 标签：sql, sql-server, database, sql-server-2008, tsql

我有一个名为的列`TotalArea`，其格式为`numeric (12,2)`.

我希望它用千位分隔符显示数字，所以当我

```
select TotalArea from table 
```

向我展示像`1,234.00`.

我怎么能那样做？谢谢！

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-12-13T10:07:11.317

试试这个方法：

```
SELECT REPLACE(CONVERT(VARCHAR, CONVERT(MONEY, TotalArea), 1), '.00', '') 
FROM table 
```

或者

```
SELECT CAST(CONVERT(VARCHAR, CAST(123456 AS MONEY), 1) AS VARCHAR)
FROM table 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2016-10-13T00:10:41.813

```
SELECT FORMAT(12345,'#,0.00');

SELECT FORMAT(TotalArea,'#,0.00') from table; 
```

参考： [https ://msdn.microsoft.com/en-us/library/ee634206(v=sql.105).aspx](https://msdn.microsoft.com/en-us/library/ee634206(v=sql.105).aspx)

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2012-12-13T10:09:30.917

显示数字的格式应该在显示层中完成，而不是在数据库中。因此，无论最终在何种应用程序中使用此数据，都应在此处对其进行格式化。不幸的是，Management Studio 在这方面没有提供太多控制。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-05-04T12:37:51.420

我知道问题是针对 sql server 2008 但如果您有 sql server 2012+，则可以使用如下格式：

```
SELECT FORMAT(12345.5634, 2); 
```

参考：[https ://www.w3schools.com/sql/func_mysql_format.asp](https://www.w3schools.com/sql/func_mysql_format.asp)

# c# - Linq 比较两个列表并生成一个新列表

> ID：13857332
> 
> 赞同：0
> 
> 时间：2012-12-13T10:01:40.150
> 
> 标签：c#, linq

我正在处理一个 MVC4 项目，我需要通过比较两个列表来创建一个新的对象列表。`db`下面指的是`DbContext`对象。

在我工作的项目中，我需要比较两个列表。第一个是一个学期提供的所有科目。另一个有学生选择的科目。

```
List<Subject> subjects = db.Subjects;
//...
List<Subject> semesterSubjects = student.Subjects; 
```

在这两个列表中，我需要创建一个项目列表，说明是否每个项目都被选中。它看起来像这样。

```
class SubjectSelection
{
public int ID { get; set; }
public String Title { get; set; }
public bool IsSelected { get; set; }
} 
```

我现在需要的是比较`subjects`&`semesterSubjects`并得到一个`IEnumerable<SubjectSelection>`

我可以使用 Linq 来获得这样的结果吗？如何获得？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:05:56.210

最好的方法是在服务器端完成这项工作。从您的学期科目中选择 ID：

```
var selectedIDs = semesterSubjects.Select(s => s.ID).ToList(); 
```

并将它们传递给查询：

```
var query = db.Subjects.Select(s => new SubjectSelection()
                     {
                        ID = s.ID,
                        Title = s.Title,
                        IsSelected = selectedIDs.Contains(s.ID)
                     }); 
```

如果您使用相同的数据库上下文实例来检索学期科目列表和科目列表，那么您可以简单地使用：

```
var query = subjects.Select(s => new SubjectSelection()
                     {
                        ID = s.ID,
                        Title = s.Title,
                        IsSelected = semesterSubjects.Contains(s)
                     }); 
```

实体框架实现了身份映射模式，这意味着它返回相同的主题对象的内存实例，该实例由不同的查询返回。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:06:15.967

```
var allSubjectsWithSelection = subjects.Select(o=>new SubjectSelection(){ID = o.ID,Title = o.Title, IsSelected = semesterSubjects.Any(s=>s.ID == o.ID)}).ToList(); 
```

# c++ - Win32 中的 Sleep() 使程序无响应

> ID：13857334
> 
> 赞同：1
> 
> 时间：2012-12-13T10:01:45.733
> 
> 标签：c++, winapi, sleep

基本上就是标题所说的。当用户按下特定按钮时，我想每 1 秒更新一次按钮包含的文本。我注意到，当程序没有焦点时，它可以正常工作并且文本会正确刷新，但是当我将鼠标悬停在程序上或尝试单击它的菜单时，Windows 会通知我程序没有响应并询问我是否我希望它终止。当循环结束时，程序返回其正常状态。**此外，当它是Sleep()**时我可能已经完成的任何操作（比如移动它或关闭它）都是在循环之后执行的。这是一段代码：

```
case ID_BUTTON_START:
// Code executed when pressing Start Button.
char startButtonText[30];  // Storing next loop text
 for (int i=5; i>0; i--)
    {
       sprintf(startButtonText, "Starting in ... %d", i);
       SendMessage(hwndButtonStart, WM_SETTEXT, 0, (LPARAM)(startButtonText));
       Sleep(1000);
     } 
```

这是正常的吗？如果不是，这是什么原因造成的？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T10:05:56.193

`WndProc`不会在应用程序中异步处理消息，这意味着所有消息都应被快速处理并立即传递返回值。您不能`Sleep`在 UI 线程中，因为它会阻止处理其他 UI 事件。任何可能需要很长时间的繁重工作或同步请求/作业都应该在工作线程中执行。至少有三个可行的选择：

1.  为任务创建一个新的（[工作线程](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms682453%28v=vs.85%29.aspx)）。
2.  如果该任务可能会经常完成，请改用[线程池](http://msdn.microsoft.com/en-gb/library/windows/desktop/ms686766%28v=vs.85%29.aspx)。
3.  设置和订阅[定时器事件](http://msdn.microsoft.com/en-us/library/windows/desktop/ms632592%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:05:58.143

我认为调用`Sleep()`可能会阻止您从 WndProc 返回，因此您的应用程序在 5 秒内未处理传入事件。我建议您尝试在 1s、2s、...、5s 内订阅 5 个计时器事件。就像收到计时器消息时，按钮文本必须更改。我不知道该怎么做。

# math - 活变量分析

> ID：13857335
> 
> 赞同：0
> 
> 时间：2012-12-13T10:01:47.043
> 
> 标签：math, compiler-construction

我想知道是否有人可以解释我如何通过活性分析工作？

有两个主要的等式在使用：

```
in[BB] = use[BB] U (out[BB] - def[BB])
out[BB] = U in[s] : for all s ∈ successor[BB] 
```

我不明白第二个等式 - 当右手边以 union 开头时是什么意思？究竟与什么结合？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:07:51.073

这意味着这`out[BB]`是它的所有`in`继承者的集合。将联合运算符放在首位是[一种常见的表示法](http://en.wikipedia.org/wiki/Union_%28set_theory%29#Notations)。

# eclipse - 为什么 Eclipse 显示语法着色错误？

> ID：13857339
> 
> 赞同：3
> 
> 时间：2012-12-13T10:01:55.583
> 
> 标签：eclipse, syntax-highlighting

我有带有 CFeclipse 的 eclipse juno 服务版本 1。
我想发布一张图片来向您展示我的问题，但是因为我是新用户，所以我不能。所以我试着解释..

语法着色首选项已设置，因此文本为黑色，引号中的表达式为蓝色。当我使用单引号时，在结束引号之后，以下所有代码都是蓝色的。代码是正确的，我在dreamweaver中试过了，所有的代码都高亮了。
有人有答案吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-17T21:59:25.597

颜色可定制：

窗口 > 首选项 > 常规 > 外观 > 颜色和字体

# javascript - 文本之间具有相等间距的内联块列表。

> ID：13857340
> 
> 赞同：0
> 
> 时间：2012-12-13T10:01:59.803
> 
> 标签：javascript, jquery, html, css

我有一个包含五个项目的列表，这些项目是内联显示的。第一个列表项中的文本必须与左侧对齐，最后一项与右侧对齐。我想要的是每个项目中的文本之间的间距相等，并且仍然相对于右侧和左侧。

我 在这个线程中找到了这个：http: [//jsfiddle.net/Cerebrl/Wt4hP/ ：](http://jsfiddle.net/Cerebrl/Wt4hP/) [A Space between Inline-Block List Items](https://stackoverflow.com/questions/5256533/a-space-between-inline-block-list-items)

这是行不通的，因为它都与左侧对齐。贝娄是一个示例代码，也在 jsfiddle 上：http: [//jsfiddle.net/phacer/uV9s9/](http://jsfiddle.net/phacer/uV9s9/)

有任何想法吗？如果有的话，js 或 jquery 解决方案也适用于我。

```
​&lt;ul>
    <li>first item</li>
    <li>second item</li>
    <li>3 item</li>
    <li>fourth item</li>
    <li class='last'>5 item</li>
​&lt;/ul>​​​​​​​​​​​​​​​​​​​​​​​​​​​​ 
```

CSS：

```
ul { width: 650px; }
ul li { width: 130px; position: relative; display: inline-block; float: left; }
ul li.last { float: right; text-align: right; }​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:52:14.243

您可以尝试给出宽度`%`而不是`px`

```
ul { width: 650px; }
ul li { width: 20%; position: relative; display: inline-block; float: left; }
ul li.last { float: right; text-align: right; }​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:25:31.743

如果你总是有相同数量的元素和相同宽度的容器，你可以试试这个：

```
<ul>
  <li class='first'>first item</li>
  <li>second item</li>
  <li>3 item</li>
  <li>fourth item</li>
  <li class='last'>5 item</li>
</ul>​

ul { width: 650px; }
ul li { width: 130px; position: relative; display: inline-block; float: left; text-align: center; }
ul li.last { float: right; text-align: right; }
ul li.first {text-align: left; }​ 
```

[http://jsfiddle.net/x96eN/1/](http://jsfiddle.net/x96eN/1/)

我想，这就是你所追求的。由于文本对齐方式不同，中间会有轻微的聚束。你可以：

*   在所有 li 元素中使用左对齐文本，但使包含框可见。这将在视觉上重新平衡事物。
*   使用第一个、最后一个和中心 lis 的宽度来隐藏效果。
*   使用填充来专门改变文本在不同 li 元素中的位置。
*   在 JQuery 中创建一个通用案例来对齐任意数量的 li 元素。如果您想要多于或少于 5 个，或者您需要更改整体宽度，无论如何您都需要这样做——尽管我不喜欢仅将 JS 用于布局。

# shape - 如何在模具中隐藏 visio 形状组

> ID：13857342
> 
> 赞同：2
> 
> 时间：2012-12-13T10:02:02.007
> 
> 标签：shape, visio, stencils, shapesheet

我有一个复杂的模板，有许多小形状（sheet.6 到 43），分组为一组（sheet.44）。里面也有子群。

我想使用 shapesheet 公式隐藏该组以使用用户属性。

在一个简单的形状上我会设置：Geometry1.NoShow=sheet.44!user.isHidden Miscellaneous.HideText=sheet.44!user.isHidden

但是如何让它在所有子形状中继承呢？用 vba 吗？

***用答案编辑：***

感谢 Jon 确认除了 VBA 之外别无他法。这是我的 VBA 代码，适用于所有遇到同样问题的人。

```
Call makeithidden("Sheet.164!Geometry1.NoShow", myshape)

Sub makeithidden(formula As String, ByVal myshape As Shape)
    For Each subShape In myshape.Shapes
        subShape.Cells("geometry1.noShow").FormulaForceU = formula
        subShape.Cells("HideText").FormulaForceU = formula
        Call makeithidden(formula, subShape)
    Next subShape
End Sub 
```

再见！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T17:24:24.120

您的 VBA 代码必须遍历所有子形状并设置该公式，只要组获得新形状。公式的格式就像你的例子一样，所以它不会太难做到：

```
SubShp.CellsSRC(visSectionFirstComponent,0,2).FormulaU = "Sheet." & Cstr(ParShp.ID) & "!Geometry1.NoShow" 
```

或类似的东西，在 ParShp.Shapes 中的每个 SubShp 的循环中...

# php - 我已经实现了一个用于比较多维数组的 php 代码，它返回重复的结果，如何恢复？

> ID：13857351
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:21.013
> 
> 标签：php, arrays, compare

**嗨，请运行我的代码：**

```
<?php
$arrayA=array(array("id" => 8, "name" => "test1"),  
            array("id" => 4, "name" => "test2"),  
            array("id" => 4, "name" => "test3")  
);
$arrayB=array(array("id" => 3, "domain_name" => "www.test.com","activation_key" =>"ADKLJ"),
            array("id" => 4,  "domain_name" => "www.yahoomail.com","activation_key" =>"LKLJ"),
            array("id" => 4, "domain_name" => "www.gmail.com","activation_key" =>"OLOLJ")           
);

//$places=Array();
$i=0;
foreach($arrayA as $itemA)
{
    $match=0;

    foreach($arrayB as $itemB)
    {
        if($itemA["id"]==$itemB["id"])
        {
            $arrayA[$i]["domain_name"]=$itemB["domain_name"];
            $arrayA[$i]["activation_key"]=$itemB["activation_key"];
            $match=1;
        }
    }
    if($match==0)
    {
            $arrayA[$i]["domain_name"]="";
            $arrayA[$i]["activation_key"]="";
    }
    $i++;
}
echo "<pre>";
print_r($arrayA);
echo "</pre>";

?> 
```

**输出**

```
Array
(
    [0] => Array
        (
            [id] => 8
            [name] => test1
            [domain_name] => 
            [activation_key] => 
        )

    [1] => Array
        (
            [id] => 4
            [name] => test2
            [domain_name] => www.gmail.com
            [activation_key] => OLOLJ
        )

    [2] => Array
        (
            [id] => 4
            [name] => test3
            [domain_name] => www.gmail.com
            [activation_key] => OLOLJ
        )
) 
```

但我的预期输出是

```
Array
(
    [0] => Array
        (
            [id] => 8
            [name] => test1
            [domain_name] => 
            [activation_key] => 
        )

    [1] => Array
        (
            [id] => 4
            [name] => test2
            [domain_name] => www.yahoomail.com
            [activation_key] => LKLJ
        )

    [2] => Array
        (
            [id] => 4
            [name] => test3
            [domain_name] => www.gmail.com
            [activation_key] => OLOLJ
        )
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:10:57.893

您删除数组内容的条件应该在 Foreach 内：

```
//$places=Array();
$i=0;
$addedDomains = array();
foreach($arrayA as $itemA)
{
    $match=0;

    foreach($arrayB as $itemB)
    {
        if($itemA["id"]==$itemB["id"])
        {
            if(!in_array( $itemB["domain_name"], $addedDomains)){
                $arrayA[$i]["domain_name"]=$itemB["domain_name"];
                $arrayA[$i]["activation_key"]=$itemB["activation_key"];

                $addedDomains[] = $itemB["domain_name"];
            }
        }
        //if it doesnt match (you dont need the flag)
        else{
            $arrayA[$i]["domain_name"]="";
            $arrayA[$i]["activation_key"]="";
        }
    }

    $i++;
} 
```

无论如何，我会看看 PHP 函数，例如：[array_intersect](http://php.net/manual/en/function.array-intersect.php)

# testng - 用 Java 测试NG

> ID：13857354
> 
> 赞同：5
> 
> 时间：2012-12-13T10:02:26.997
> 
> 标签：testng

在将 TestNG 与 Java 一起使用时，我收到以下错误：“类型不匹配：无法将测试转换为注释”

注意：使用 Eclipse IDE。构建路径包含 TestNG jar 还安装了用于 Eclipse IDE 的 TestNG 插件。

你能告诉我为什么会出现上述错误吗？

谢谢

代码：

```
import org.testng.annotations.*;
public class ChangeResolutionOnMainWatch {

    @BeforeTest

    public void startTest() throws Exception {
        watch.startSelenium();
        stream_delay=Integer.parseInt(System.getProperty("stream_delay").trim());
    }

    @Test 

    public void launchFalcon()throws Exception{

        watch.deleteAllCookie();
        watch.launchFalcon();
    }
} 
```

在上面的代码中，“@Test”符号给出了错误

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T13:47:17.713

虽然导入 org.testng.annotations.*; 进口一切，它没有工作。但是当我只导入所需的类时，它工作得很好。

**前：**

```
import org.testng.annotations.*; 
```

这没有用

**后：**

```
import org.testng.annotations.BeforeTest;   
import org.testng.annotations.Test;   
import org.testng.annotations.AfterTest; 
```

哪个有效

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:46:23.980

检查您的导入是否正确，例如：

```
 import org.testng.annotations.BeforeTest;
  import org.testng.annotations.Test; 
```

通常，如果缺少导入，您**将无法解决类型**错误。

# asp.net-mvc - Asp.net mvc 站点地图链接到外部站点

> ID：13857357
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:36.797
> 
> 标签：asp.net-mvc, asp.net-mvc-4, mvcsitemapprovider

我正在尝试将 MvcSiteMap 链接添加到外部站点，但菜单助手未呈现链接。

```
 <mvcSiteMapNode title="SIte1" controller="#" Action="#" Url="#" ">
    <mvcSiteMapNode title="SIte1"    Url="/Site1"/>
    <mvcSiteMapNode title="SIte2"   Url="/Site2" />
    <mvcSiteMapNode title="SIte3"   Url="/Site3" />
    <mvcSiteMapNode title="SIte1_CH"   Url="/Site1_CH" />
    <mvcSiteMapNode title="Logout"   Url="/RedirectToLogin.aspx" />
  </mvcSiteMapNode> 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-11T19:03:55.750

4.0 版现在支持外部 URL，据我所知，这也适用于 3.x 版。

```
<mvcSiteMapNode title="Home" controller="Home" action="Index">
  <mvcSiteMapNode title="Somewhere" url="http://www.somewhere.com/"/>
</mvcSiteMapNode> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T07:47:39.363

根节点必须可解析为控制器和动作，否则菜单将永远不会显示，在根节点上设置 Url="#" 也是没有意义的，因为这是从您路由到控制器和动作时自动生成的.

```
<mvcSiteMapNode title="SIte1" controller="Home" Action="Index">
  <mvcSiteMapNode title="SIte1"    Url="/Site1"/>
  <mvcSiteMapNode title="SIte2"   Url="/Site2" />
  <mvcSiteMapNode title="SIte3"   Url="/Site3" />
  <mvcSiteMapNode title="SIte1_CH"   Url="/Site1_CH" />
  <mvcSiteMapNode title="Logout"   Url="/RedirectToLogin.aspx" />
</mvcSiteMapNode> 
```

在子节点上，您应该能够使用 URL 属性。

# java - Java Socket：写入客户端不起作用

> ID：13857358
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:45.537
> 
> 标签：java, sockets, tcp

我目前在使用 Java 服务器时遇到问题。

这是一个发送图像的简单 TCP 服务器。问题是，我没有客户端程序的代码......此外，似乎没有办法检查客户端套接字是否写入事件，也没有办法检查已经发送到客户端的数据量。

有人知道什么会阻止客户正确获取图像吗？

这是我的代码：

```
byte[] response = process ( cmd );

if ( response == null )
{
    controlSock.close();
    dataSock.close();
    stop = true;
}
else if ( dataSock != null )
{
   dos.write( response );
   dos.flush();
} 
```

顺便说一句，服务器在 Telnet 上运行良好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:41:39.430

如果服务器可以正常使用 telnet，那么您的服务器就可以了。

问题更有可能在于客户所做的假设与您的假设不同。例如，客户端可能假设您首先以大端或小端格式（作为 int、short 或 long）发送大小，也许它也希望以某种格式发送文件/图像的名称。

确定这一点的唯一方法是阅读客户的代码或询问知道客户做出什么假设的人。

# javascript - AngularJS 中的服务定义

> ID：13857359
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:47.420
> 
> 标签：javascript, coffeescript, angularjs

给定该服务（仅在服务器上获取 json ）

```
SushiServices = angular.module("SushiServices",[])

SushiServices.factory("DataTypeService",["$http",($http)->
    self = {}
    self._data = []
    self._inilialized = false
    return ->
        if  self._inilialized ==false
            $http.get("data/types.json").success (data)->
                self._data = data;
                self._inilialized = true

        return self._data
]) 
```

假设我在控制器中使用该服务：

```
ProductListController = ($scope,$rootScope,$http,$filter,DataTypeService)->
    ### 
        EN : manage product list display 
        FR : gère l'affichage de la liste de produits 
    ###
    $rootScope.types = DataTypeService() 
```

$rootScope.types 被重复使用，现在问题很明显： - 当我渲染我的页面时，json 还没有被成功获取，所以我的转发器中没有任何显示。

**我如何设计我的应用程序，当服务器返回某些内容时，模板会自行更新？**谢谢

模板：

```
 <span ng-repeat='type in types'>
        <a href='javascript:void 0;' ng-click="addToSelectedTypes(type.id)" class='label trans' style="font-size: 15px" ng-class="getSelectedClass(type.selected)" >{{type.name | capitalize }}</a>
      </span> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:38:16.210

问题是您`self._data`从服务返回的函数返回。返回整个`self`对象（从`DataTypeService`工厂返回的函数）并调整视图以使用`types._data`. 然后标记应自动更新。

或者，您可以制作一些预加载器，在没有可用数据时显示：

```
<div class="preloader" ng-show="!types._initialized"></div> 
```

并且您的中继器将被隐藏一段时间（并在正确加载数据时显示）：

```
<div ng-show="types._initialized">
    <span ng-repeat="type in types._data">
        <a href="javascript:void 0;">{{type.name | capitalize }}</a>
    </span>
</div> 
```

# php - FOSUserBundle 表单中的默认值：数据选项不起作用

> ID：13857360
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:50.213
> 
> 标签：php, forms, symfony, fosuserbundle

我已经直接修改了 FOSUserForm（没有覆盖）以尝试在构建表单时分配默认值，我添加了

```
array('data'=>'default value') 
```

如：

```
namespace FOS\UserBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolverInterface;

class RegistrationFormType extends AbstractType
{
private $class;

/**
 * @param string $class The User class name
 */
public function __construct($class)
{
    $this->class = $class;
}

public function buildForm(FormBuilderInterface $builder, array $options)
{
    $builder
        ->add('username', null, array('data' => 'Default value','label' => 'form.username', 'translation_domain' => 'FOSUserBundle'))
        ->add('email', 'email', array('data' => 'Default value','label' => 'form.email', 'translation_domain' => 'FOSUserBundle'))
        ->add('plainPassword', 'repeated', array(
            'type' => 'password',
            'options' => array('translation_domain' => 'FOSUserBundle'),
            'first_options' => array('label' => 'form.password'),
            'second_options' => array('label' => 'form.password_confirmation'),
            'invalid_message' => 'fos_user.password.mismatch',
        ))
    ;
}

public function setDefaultOptions(OptionsResolverInterface $resolver)
{
    $resolver->setDefaults(array(
        'data_class' => $this->class,
        'intention'  => 'registration',
    ));
}

public function getName()
{
    return 'fos_user_registration';
} 
```

它不起作用，我一直收到表单验证消息“请输入用户名”，这是怎么回事？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T17:25:34.393

您是否尝试将用户名设置为隐藏字段而不是“null”？或者从表单中完全删除用户名并在实体持久保存在数据库中之前手动设置它。我不推荐第二个选项，除非您在将用户名持久保存到数据库之前执行了检查以确保用户名是唯一的。

编辑：

出于好奇，您为什么要直接修改供应商类？

编辑2：

用户名字段的默认验证可能不应该被删除（如果你这样做，请确保它仍然是数据库中的唯一字段（http://symfony.com/doc/2.0/reference/constraints/UniqueEntity.html） .

如果要设置默认用户名值，而不是在表单中设置 data 选项，请创建一个覆盖默认 createUser 方法的自定义 RegistrationFormHandler：

```
<?php

namespace Acme\UserBundle\Form\Handler;

use FOS\UserBundle\Form\Handler\RegistrationFormHandler as BaseHandler;

class RegistrationFormHandler extends BaseHandler
{
    /**
     * @return UserInterface
     */
    protected function createUser()
    {
        $user = $this->userManager->createUser();
        $user->setUsername('customusername');

        return $user;
    }
} 
```

可以在此处找到有关覆盖此处理程序的说明（朝向底部）： [https ://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/overriding_forms.md](https://github.com/FriendsOfSymfony/FOSUserBundle/blob/master/Resources/doc/overriding_forms.md)

这很简单，只需一分钟即可实现。此外，当您通过 composer 更新您的供应商时，创建自定义表单处理程序还将防止您在供应商类中所做的任何更改丢失。

编辑3：

DependencyInjection\EtienneUserExtension.php：

```
<?php

namespace Etienne\UserBundle\DependencyInjection;

use Symfony\Component\DependencyInjection\ContainerBuilder;

//if using xml
use Symfony\Component\DependencyInjection\Loader\XmlFileLoader;

//if using yaml
use Symfony\Component\DependencyInjection\Loader\YamlFileLoader;

use Symfony\Component\HttpKernel\DependencyInjection\Extension;
use Symfony\Component\Config\FileLocator;

class EtienneUserExtension extends Extension
{
    public function load(array $configs, ContainerBuilder $container)
    {
        //if using XML
        $loader = new XmlFileLoader($container, new FileLocator(__DIR__.'/../Resources/config'));
        $loader->load('services.xml');

        //or if using yaml services
        $loader = new YamlFileLoader($container, new FileLocator(__DIR__.'/../Resources/config'));
        $loader->load('services.yml');
    }

    public function getAlias()
    {
        return 'etienne_user';
    }
} 
```

服务.xml

```
<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

<services>
    <service id="acme_user.form.handler.registration" class="Acme\UserBundle\Form\RegHandler" scope="request" public="false">
        <argument type="service" id="fos_user.registration.form" />
        <argument type="service" id="request" />
        <argument type="service" id="fos_user.user_manager" />
        <argument type="service" id="fos_user.mailer" />
        <argument type="service" id="fos_user.util.token_generator" />
    </service>
</services>

</container> 
```

# vb.net - 实体框架 0 对 1 关系 - 未设置对象引用

> ID：13857361
> 
> 赞同：0
> 
> 时间：2012-12-13T10:02:52.400
> 
> 标签：vb.net, entity-framework

刚开始使用 Entity Framework 不久就遇到了一些麻烦。

我有两个具有 0 到 1 关系的表。当我从主表（员工）中选择一行时，除非我在第二个表（状态）中选择没有加入记录的行，否则这很好。如果我这样做，那么当它试图访问第二个表的属性时，它会抛出“对象引用未设置为对象的实例”：

```
 If Not cls.STATUS_DESC.STAFF_INFO Is DBNull.Value Then
            lblStatusDescription.Text = cls.STATUS_DESC.STAFF_INFO
        End If 
```

我用来获取记录的 LINQ 是：

```
 Dim account As STAFF =
        (From a In sa.STAFFs
         Where a.STAFF_NO = staffno
         Select a).FirstOrDefault 
```

语句中没有直接引用子表，但是连接是在数据库图中定义的，它允许我引用属性。

我确定这是一个非常基本的问题，但就像我说的我才刚刚开始使用它！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:47:33.183

通过添加解决它：

If Not cls.STATUS_DESC 什么都没有，那么

万一

到属性调用，现在我想起来这似乎相当明显。这是最有效的方法吗，我原以为 EF 能够处理简单的左连接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:06:53.043

I'm not sure if I can interpret your code correctly but I think it has to do with the Lazy Loading feature of Entity Framework. You must explicitly include the reference to load it into memory. You can to this by using the [`Include()`](http://msdn.microsoft.com/en-us/library/bb738708.aspx) method as below. I assume that `STATUS_DESC` is the name of the navigation property. Replace it with the actual one if I'm wrong:

```
Dim account As STAFF =
    (From a In sa.STAFFs Where a.STAFF_NO = staffno Select a) _
    .Include("STATUS_DESC") _
    .FirstOrDefault 
```

# c# - 包含子元素集合的配置元素

> ID：13857362
> 
> 赞同：6
> 
> 时间：2012-12-13T10:02:53.847
> 
> 标签：c#, configuration, web-config, app-config

我想在我的 web.config 中有一个自定义部分，如下所示：

```
<MyMainSection attributeForMainSection = "value foo">

    <add name = "foo" 
    type = "The.System.Type.Of.Foo, Assembly, Qualified Name Type Name" />

    <add name = "bar" 
    type = "The.System.Type.Of.Bar, Assembly, Qualified Name Type Name" />

</MyMainSection> 
```

我已经定义了以下代码：

```
using System.Configuration;

class MyMainSection : ConfigurationSection
{
    /*I've provided custom implemenation. 
      Not including it here for the sake of brevity. */ 
    [ConfigurationProperty("attributeForMainSection")]
    public string AttributeForMyMainSection { get; set; }

    [ConfigurationProperty("add")]
    public AddElement TheAddElement { get; set; }

    private class AddElement: ConfigurationElement
    {
        /* Implementation done */
    }

} 
```

如果我想允许多个添加元素，这个属性`TheAddElement`应该是`IEnumerable<AddElement>`还是只是？`AddElement`

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T10:21:01.157

也不是，你会引入一个新的[ConfigurationCollectionElement](http://msdn.microsoft.com/en-us/library/system.configuration.configurationelementcollection.aspx)例如

**部分**

```
class MyMainSection : ConfigurationSection
{
    [ConfigurationProperty("", IsRequired=true, IsDefaultCollection=true)]
    public AddElementCollection Instances 
    {
        get { return (AddElementCollection) this[""]; }
        set { this[""] = value; }
    }
} 
```

**收藏**

```
public class AddElementCollection : ConfigurationElementCollection 
{
    protected override ConfigurationElement CreateNewElement() 
    {
        return new AddElement();
    }

    protected override object GetElementKey(ConfigurationElement element) {
        return ((AddElement) element).Name;
    }
} 
```

**元素**

```
private class AddElement: ConfigurationElement
{
    [ConfigurationProperty("name", IsKey=true, IsRequired=true)]
    public string Name 
    {
        get { return (string) base["name"]; }
        set { base["name"] = value; 
    }
    ...
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:09:23.880

> 使用[ConfigurationElementCollection](http://msdn.microsoft.com/en-us/library/system.configuration.configurationelementcollection%28v=vs.110%29.aspx)处理 ConfigurationElement 对象的集合。实现此类以将自定义 ConfigurationElement 元素的集合添加到 ConfigurationSection：

```
// Define a custom section that contains a custom 
// UrlsCollection collection of custom UrlConfigElement elements. 
// This class shows how to use the ConfigurationCollectionAttribute. 
public class UrlsSection : ConfigurationSection
{
    // Declare the Urls collection property using the 
    // ConfigurationCollectionAttribute. 
    // This allows to build a nested section that contains 
    // a collection of elements.
    [ConfigurationProperty("urls", IsDefaultCollection = false)]
    [ConfigurationCollection(typeof(UrlsCollection),
        AddItemName = "add",
        ClearItemsName = "clear",
        RemoveItemName = "remove")]
    public UrlsCollection Urls
    {
        get
        {
            UrlsCollection urlsCollection =
                (UrlsCollection)base["urls"];
            return urlsCollection;
        }
    }

}

// Define the custom UrlsCollection that contains the  
// custom UrlsConfigElement elements. 
public class UrlsCollection : ConfigurationElementCollection
{
  // ... 
```

[http://msdn.microsoft.com/en-us/library/system.configuration.configurationcollectionattribute.aspx](http://msdn.microsoft.com/en-us/library/system.configuration.configurationcollectionattribute.aspx)

# java - 维护不同表单提交之间的状态

> ID：13857365
> 
> 赞同：0
> 
> 时间：2012-12-13T10:03:02.883
> 
> 标签：java, web-applications

假设我们在“Page1.jsp”中有“form1”，在“page2.jsp”中有“form2”。

步骤是：

1.  提交表格1。

2.  我们在“page2.jsp”中获取输入文本字段值“t1”，然后

3.  然后使用“form 2”中的隐藏字段将此“t1”值传递给相同的“page2.jsp”或“page3.jsp”。

4.  提交“form2”。
5.  通过访问表单 2 重定向的页面上的隐藏字段名称来获取相同的值“t1”。它可以是同一页面或其他页面，例如“page3.jsp”。

因此，这是一种在页面之间传递信息的简单方法。在这里看到只有隐藏字段有效但会话不能做的区别。如果使用隐藏字段将此“t1”值传递给相同的“page2.jsp”。这意味着如果我们将表单 2 重定向到相同的 page2 即步骤是：

假设我们在“Page1.jsp”中有“form1”，在“page2.jsp”中有“form2”。

1.  提交“form1”。
2.  我们在“page2.jsp”中获取输入文本字段值“t1”，然后
3.  然后创建一个会话来保存这个“t1”值。
4.  提交“form2”。
5.  现在如果“form 2”重定向到“page3.jsp”，那么我们可以很容易地获取会话值，但是如果“form 2”重定向到“page2.jsp”（重定向到同一页面），那么会话值是空的。

为什么我们无法在隐藏字段可以的同一页面上获取会话值？请容忍我这个冗长的问题。但我想知道这背后的概念。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:47:23.210

确实，会话可以在同一页面上获得价值。会话驻留在服务器端。

JSP 容器`jsession_id`为每个访问者创建 on 并将此信息放入响应中（通过查询字符串或 cookie）。对于每个请求，浏览器都会发回`jsession_id`信息。回到服务器端，有一个以 jsession_id 为键、会话为值的映射。JSP 或 servlet 可以访问此对象内的信息。

但是，当然，`t1`例如您的示例中的值应该发送到服务器端并放入会话以在将来使用时恢复。

[看这里](http://docs.oracle.com/javaee/5/api/javax/servlet/http/HttpSession.html)

# ruby - 被ruby的变量和方法弄糊涂了

> ID：13857367
> 
> 赞同：2
> 
> 时间：2012-12-13T10:03:06.470
> 
> 标签：ruby

ruby 如何`varz`通过 using 调用方法`varz[:foo]`？

```
class Component
  class << self
    def varz
      @varz ||= Hash.new
    end
  end
end

Component.varz[:foo] = 'bar'
puts Component.varz # {:foo=>"bar"} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:14:56.353

**class << self** 用于定义将在类上调用的类方法。

其中@varz 代表实例变量。你可能想知道，那为什么这个实例对象在类方法中呢？这是因为 class 本身是**Class**的实例。

还有一点需要注意，在 ruby​​ 方法中返回它的最后一条语句。因此，在您的情况下，**Component.varz**返回实例变量 @varz ，它是哈希类型。

```
Component.varz[:foo] = 'bar' 
```

这会将键值对 foo 和 'bar' 添加到哈希中。

最后，

```
p Component.varz 
```

您正在打印由 varz 方法返回的值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:07:03.433

你剪错了。`Component.varz`是一个方法调用。对于它的结果（这是一个哈希），`[:foo] =`适用。`[]`and方法的`[]=`特殊之处在于您没有在接收者和方法之间放置句点。

# string - Flex arraycollection 排序不起作用

> ID：13857369
> 
> 赞同：0
> 
> 时间：2012-12-13T10:03:08.467
> 
> 标签：string, actionscript-3, apache-flex, sorting, arraycollection

我正在尝试对存储在 arraycollection 中的字符串列表进行排序。但排序结果不正确。请看我的代码。

```
spark.collections.Sort

if(value is ArrayCollection){
            var sort:Sort=new Sort();
            var sortField:SortField = new SortField("data")
            sortField.numeric=false;
            sort.fields=[sortField];

            ArrayCollection(value).sort=sort;
            ArrayCollection(value).refresh();
        } 
```

输入：开始于、包含、结束于、等于忽略大小写、不等于、匹配、等于

输出：等于忽略大小写、包含、结束于、开始于、不等于、匹配、等于

有时只有一行与另一行交换（如上所述），有时根本没有排序。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T11:49:39.580

如果您的数组集合具有字符串列表。您无需为您的案例指定 SortField 的名称`data`。

```
 var value:ArrayCollection = new ArrayCollection(['Start With','Contains','End With','Equals IgnoreCase','Not Equals','Equals']);
            var dataSortField:SortField = new SortField(); //Leave it empty.
            dataSortField.numeric = false;

            var dataSort:Sort = new Sort();
            dataSort.fields=[dataSortField];

            value.sort = dataSort;
            value.refresh(); 
```

o/p：

```
 "value"  mx.collections.ArrayCollection (@31ced61)   
[0] "Contains"  
[1] "End With"  
[2] "Equals"    
[3] "Equals IgnoreCase" 
[4] "Not Equals"    
[5] "Start With" 
```

如果 arraycollection 具有具有数据属性的对象，则您的代码绝对正确。喜欢

```
 var value:ArrayCollection = new ArrayCollection();
            value.addItem({data:'Start With'});
            value.addItem({data:'Contains'});
            value.addItem({data:'End With'});
            value.addItem({data:'Equals IgnoreCase'});
            value.addItem({data:'Not Equals'});
            value.addItem({data:'Equals'}); 
```

这种情况你需要指定像

```
var sortField:SortField = new SortField("data"); 
```

# persistence - 嵌入式 ActiveMQ：使用 kahaDB 的 jdbcPersistenceAdapter？

> ID：13857373
> 
> 赞同：3
> 
> 时间：2012-12-13T10:03:12.893
> 
> 标签：persistence, activemq

我有以下 ActiveMQ 代理的 Spring 配置：

```
<broker:broker id="activemqbroker" useJmx="false" persistent="true" brokerName="activemqbroker">
    <broker:transportConnectors>
        <broker:transportConnector name="vm" uri="vm://activemqbroker"/>
    </broker:transportConnectors>
    <broker:persistenceAdapter>
        <broker:jdbcPersistenceAdapter dataSource="#oracle-ds" transactionIsolation="2">
            <broker:statements>
                <broker:statements tablePrefix="IAG_PROC_"/>
            </broker:statements>
        </broker:jdbcPersistenceAdapter>
    </broker:persistenceAdapter>
</broker:broker> 
```

问题是 KahaDB 的 active-mq 目录仍在创建和使用中。我不明白为什么，因为我没有使用*journaledJDBC*而是*jdbcPersistenceAdapter*。我怎样才能将其设置为仅使用 JDBC？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T11:19:48.297

ActiveMQ 中的调度程序功能使用其自己的 KahaDB 持久存储，尝试通过以下方式在代理元素上将其设置为禁用：schedulerSupport=false。

# php - php - 将一个元素从一个数组添加到另一个数组

> ID：13857374
> 
> 赞同：-2
> 
> 时间：2012-12-13T10:03:23.663
> 
> 标签：php, arrays, array-merge

我有2个这样的数组：

```
$array1 = array(
    array("foo"=>"bar","count"=>"3"),
    array("foo2"=>"bar2","count"=>"4"),
    array("foo3"=>"bar3","count"=>"2")
);

$array2 = array(
    array("foo4"=>"bar","count"=>"3"),
    array("foo5"=>"bar2","count"=>"4"),
    array("foo6"=>"bar3","count"=>"2")
); 
```

如何将 array2 的第三个元素添加到 array1 中，这样它就可以变成这样：

```
$array1 = array(
    array("foo"=>"bar","count"=>"3"),
    array("foo2"=>"bar2","count"=>"4"),
    array("foo3"=>"bar3","count"=>"2"),
    array("foo6"=>"bar3","count"=>"2")
); 
```

我试过做`$array1 += $array2[2];`，但它不起作用。它只是将键添加`array("foo6"=>"bar3","count"=>"2")`到 array1 而不是将其作为数组添加到`$array1`

你能帮帮我吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T10:05:15.017

运算符将`[]`一个元素附加到数组的末尾，如下所示

```
$array1[] = $array2[2]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:05:21.897

这样做：

```
$array1[] = $array2[2]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T10:05:47.340

如果您想要确切的第三项，那么您可以执行以下操作：

```
$array1[] = $array2[2]; 
```

如果你想要数组的最后一项，你可以使用：

```
$array1[] = $array2[count($array2)]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T10:11:54.120

试试这个

```
$array1[] = $array2[2]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:30:47.977

array_merge() 是一个函数，您可以在其中将一个数组复制到 PHP 中的另一个数组。 [http://php.net/manual/en/function.array-merge.php](http://php.net/manual/en/function.array-merge.php)

# c# - 从 Excel 报告创建 PDF 文件的架构

> ID：13857379
> 
> 赞同：0
> 
> 时间：2012-12-13T10:03:36.967
> 
> 标签：c#, excel, vba

我有 1 个例程，其结构如下：

1.  `C#`控制台 C 打开`xl`工作簿 A
2.  C 然后运行 ​​A 的宏 M，它使用 VBA 将目标工作表保存为 PDF
3.  C然后使用`PDFsharp`加密PDF文件。
4.  C 然后通过电子邮件发送此文件。

目前，此过程适用于一份报告，因此如果体系结构不是教科书，则没有问题。

我想在未来，许多不同的工作簿中可能会有许多目标工作表，所有这些工作表都会发送给许多不同的收件人。如果是这种情况，则需要执行第 2 步，因为我不想将此`VBA`代码复制到每个目标工作簿中！由于我的经验有限，我能想象的唯一选择如下：

1.  从 Excel 中取出当前的 VBA 代码，并使用对`Excel.Interops`

假设目标工作表是完成的文章，即在转到 PDF 之前不需要进一步操作，以上是将这一步从 VBA 移到控制台的正确方法，还是应该使用不同的库创建 PDF？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T11:46:11.083

最省力的选择是通过删除所有工作表/数据将代码从工作表移动到 VBA 加载项，然后使用“另存为”将工作簿转换为加载项，然后您可以将其加载到 excel 中并将一直可用。根据您编写它的方式，可能需要进行一些更改，但它们不会像 c# 的端口那么大。

也就是说，将代码全部放在一个地方将使整个过程在未来更容易处理。另外，您已经获得了 C# 代码自动化 excel 来触发 VBA，因此如果您有时间，现在可能会更好。

# java - 将 xml 传递给 Web 服务时出现 400 错误请求

> ID：13857380
> 
> 赞同：0
> 
> 时间：2012-12-13T10:03:38.983
> 
> 标签：java, web-services

我是网络服务的新手。

我必须将 xml 传递给名为 plog.asmx 的 aspx Web 服务

这是我的代码

```
String xmldata = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + 
            "<SOAP:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" " + 
              "xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" " + 
              "xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" >" +
              "<![CD[<soap:Body>" +
              "<SubmitJob xmlns=\"http://www.xdel.biz/XWS/\"> " +
              "<APIKey>"+ API_KEY +"</APIKey>" +
              "<Job>" +
               "<Customer_Name>"+ Customer_Name +"</Customer_Name>" +
               "<Address1>"+ Address1 +"</Address1>" +
                "<Address2>"+ Address2 +"</Address2>" +
                "<Postal_Code>"+ Postal_Code +"</Postal_Code>" +
                "<Phone_Number>"+ Phone_Number +"</Phone_Number>" +
                "<Mobile_Number>"+ Mobile_Number +"</Mobile_Number>" +
                "<Order_Reference>"+ Order_Reference +"</Order_Reference>" +
                "<Delivery_Instructions>"+ Delivery_Instructions +"</Delivery_Instructions>" +
              "</Job>]]>" +
            "</SubmitJob>" +
              "</soap:Body>]]>" +
              "</SOAP:Envelope>";

             System.out.println(xmldata); 

              try{
                  //Create socket
                  String hostname = "www.xdel.biz";
                  int port = 80;
                  InetAddress  addr = InetAddress.getByName(hostname);                    
                  Socket sock = new Socket(addr, port);
                  System.out.println(sock.toString());                    

                  //Send header
                  String path = "/xws/plog.asmx";
                  BufferedWriter  wr = new BufferedWriter(new OutputStreamWriter(sock.getOutputStream(),"UTF-8"));
                  // You can use "UTF8" for compatibility with the Microsoft virtual machine.
                  wr.write("POST " + path + " HTTP/1.1\r\n");
                  wr.write("Host: www.xdel.biz\r\n");
                  wr.write("Content-Type: text/xml; charset=utf-8\r\n");
                  wr.write("Content-Length: " + xmldata.length() + "\r\n");                   
                  wr.write("SOAPAction: \"http://www.xdel.biz/XWS/SubmitJob\" \r\n");
                  wr.write("\r\n");

                  //Send data
                  wr.write(xmldata);
                  wr.flush();

                  System.out.println("1");

                  // Response
                  BufferedReader rd = new BufferedReader(new InputStreamReader(sock.getInputStream()));
                  String line;
                  while((line = rd.readLine()) != null){
                      System.out.println(line);
                  }

                } catch (Exception e) {
                  e.printStackTrace();
                } 
```

当我运行代码时，出现这样的错误

> HTTP/1.1 400 错误请求缓存控制：私有内容类型：文本/xml；charset=utf-8 服务器：Microsoft-IIS/7.5 X-AspNet-Version：4.0.30319 X-Powered-By：ASP.NET 日期：星期四，2012 年 12 月 13 日 09:37:12 GMT 内容长度：0

我用谷歌搜索了错误并试图修复但没有解决方案出来..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:23:32.807

It could be `<![CD[<soap:Body></soap:Body>]]>` try to use `without ![CD[ ]] block`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-23T20:07:52.647

我已经有使用 Web 服务的“错误请求”。问题是，在寻找答案将近一天之后，我们发现所消耗的 XML 的大小，所消耗的 SOAP 消息的大小。问题是，提供要使用的 Web 服务的应用程序必须设置为接收大型 XML 数据，我们必须将应用程序服务器配置为扩展以增加用于从客户端接收 SOAP 消息的缓冲区大小.

那是我们的到期日。我希望能有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:11:39.413

一个好主意是使用实现 SOAP Web 服务并且已经过测试的 API。

我使用了这个 [JAX-WS](http://jax-ws.java.net)

当您不匹配协议（SOAP 或 HTTP）时，有时会发生 400 Bad Request

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-09T18:44:14.267

我有同样的问题`HttpURLConnection`。添加以下两个属性解决了我的 400 Bad Request 问题：

1.  `httpConn.setRequestProperty("Content-Type","text/xml; charset=utf-8");`
2.  `httpConn.setRequestProperty("soapAction", soapAction);`

注意：当您尝试读取响应时，通常会出现此错误。

# mysql - 是否可以使用 Phing 执行 MySQL 查询并将值设置为属性？

> ID：13857384
> 
> 赞同：4
> 
> 时间：2012-12-13T10:03:58.153
> 
> 标签：mysql, phing

我是Phing的新手。

我想在 MySQL 数据库表中查询一个值，并将该值设置为一个属性，这样我就可以很好地将它回显到屏幕上。

我可以看到有一个 PDOSQLExecTask 可以让我运行一些 SQL，但是我看不到如何将返回的值设置为属性？

我要运行的查询是： SELECT MAX( `change_number`) FROM `changelog`;

我想把它设置成一个属性：

任何人都可以解释一下吗？

谢谢，克里斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-14T11:18:11.447

我可以在命令行访问 MySQL，我使用了以下解决方案。我敢肯定这不是最好的，如果其他人可以改进它，请做！

```
 <!-- What's the latest delta that's been applied to this deployment? -->
    <exec
        command="${progs.mysql} -h${db.host} -u${db.user} -p${db.pass} -e 'USE ${db.main_db}; SELECT MAX(`change_number`) FROM `changelog`;'"
        dir="."
        checkreturn="false"
        passthru="false"
        outputProperty="latest_version_output"
    />
    <php expression="preg_replace('/[^0-9]|\r|\n/si', '', '${latest_version_output}');" returnProperty="latest_version_applied" />
    <echo msg="Latest delta applied was: ${latest_version_applied}" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T13:31:16.413

它[`PDOSQLExecTask`](http://www.phing.info/docs/guide/stable/chapters/appendixes/AppendixC-OptionalTasks.html#PDOSQLExecTask)带有两个默认的格式化程序，它们会将它们的输出发送到一个文件中。要改变这一点，您可能必须实现自己的格式化程序。另一方面，该任务似乎从带有 SQL 命令的单独文件中读取其 SQL 命令，而不是构建文件。

所以总的来说，在我看来，你可能会更好地编写自己的任务，可能使用来自实现的一些代码，`PDOSQLExecTask`但使用你自己的命令输入和结果输出。除非调用 mysql 命令行二进制文件是您的替代方案，在这种情况下，您可以结束该调用以将其输出重定向到`outputProperty`使用[`ExecTask`](http://www.phing.info/docs/guide/stable/chapters/appendixes/AppendixB-CoreTasks.html#ExecTask).

# javascript - Javascript if-else运算符为什么检查不相等有什么区别

> ID：13857392
> 
> 赞同：1
> 
> 时间：2012-12-13T10:04:36.207
> 
> 标签：javascript, operators

好吧，我翻了这么多页，上面所有的查找不等于的方法我都用过了。然而，我猜目前是什么使我的兴趣达到顶峰并且已经有一段时间了。以下示例之间有什么区别，为什么有时在不同的场景中只有一种变体会比另一种更有效，我一直在努力寻找一个可靠的答案，但我想这并不容易搜索。

无论如何，在许多情况下，我不得不做类似的事情，因为似乎没有其他方法可以工作。

```
if(str == bad_condition)
{
  //ignore
}
else
{
   //code to do something
} 
```

很多其他时候，我正在做以下任何一项

```
if(!str == bad_condition)
{
   //code to do something
} 
```

或者

```
if(str != bad_condition)
{
   //code to do something
} 
```

或者

```
if(str !== bad_condition)
{
   //code to do something
} 
```

现在我想这里的最终问题是，为什么最后三个似乎只适用于某些事情？是否有时间和地点我应该其中一个而不是另一个？或者这只是我的一些随机运气，因为我通常不得不处理其他人的原始代码库。总的来说，我只是好奇，我不想引发辩论。我只是想认真地知道上述任何一种的用途是否存在重大差异，以及是否存在什么、为什么或如何。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:10:36.247

最后三个彼此不同，您几乎肯定不想使用其中的第一个。让我们分解它们：

* * *

```
if(!str == bad_condition)
{
   //code to do something
} 
```

不要那样做。发生的事情首先`!str`是评估 ，然后将其结果与 进行比较`bad_condition`。的结果`!str`将是`true`或`false`。（它会是`true`if `str`is `""`, `0`, `null`, `undefined`, or `NaN`;`false`否则。）所以除非`bad_condition`是`true`or `false`，你不想`!str`和它比较，如果`bad_condition` **是** `true`or `false`，通常有更好的方法来编写表达式。

* * *

```
if(str != bad_condition)
{
   //code to do something
} 
```

这与`str`使用`bad_condition`“[松散”的相等性](http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3)相比。松散的平等是棘手的，它的规则很复杂。`"0" == 0`是`true`, 例如 ,`"" == 0`和`"0" == false`; `"false" == false`是`false`。如果你**知道**两者`str`和`bad_condition`是相同的类型，那很好，但如果你不知道，你就会陷入类型强制的事情。

* * *

```
if(str !== bad_condition)
{
   //code to do something
} 
```

这与`str`使用`bad_condition`严格[*相等*相比](http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.6)。这意味着没有进行类型强制，如果`str`和`bad_condition`不是同一类型，则条件将始终为`false`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:08:42.080

`!=`一起`==`去，他们只是检查是否相等而不关心数据类型，所以会发生以下情况：

```
console.log([] == ""); //true 
```

这是因为**字符串值**的`[]`计算结果为 false ( `[].toString()`) - 就像空字符串一样。（感谢 Alnitak 在他的评论中指出这一点！）

另一方面`!==`，`===`一起检查 2 个值是否相同，因此前面的示例将评估为 false。[请参阅此处了解“Falsies”。](http://dreaminginjavascript.wordpress.com/2008/07/27/falsies/)

```
console.log([] === ""); //false 
```

`!value`只是否定一个变量，因此使表达式评估为`boolean true`假，反之亦然。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:26:19.630

我想第一个很清楚。str == true 是一个简单地检查 str 是否等于 true 的条件。在这种情况下，true 也可以是一个字符串。第二个是否定。这意味着例如：

```
 var str = true;
    if (str == true) <---- true, cause true == true;
    if (!str == true) <---- false because !str is false and false == true is false; 
```

第三个意思是不等于，意思是：

```
 var str = true;
    if (str != true) <- gives us false because true not equal true is false because it actually is equal. 
```

最后一个和第三个差不多。如果要比较变量的值和类型，请使用 === 或 !==。这意味着如果你有

```
 var str = false;
    if (str === false) <- true, same value and same type (boolean). 
```

但：

```
 var str = "false";
    if (str === false) <- false 
```

因为它的值相同，但变量包含一个字符串，而不是条件请求的布尔值。如果条件看起来像：

```
 if (str === "false") it would be true again 
```

因为相同的值+相同的类型。

希望能帮助到你

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:09:02.587

`!=`和之间的区别在于`!==`类型检查。例如 ：

```
true != 0; // true
false != null; // false
false !== null; // true
false != 0; //false
false !== 0; // true 
```

但是`!str == bad_condition`很奇怪。我想你想说`!(str == bad_condition)`。但是`!str`是一个有效值。`!"test"`是`false`而且`!""`是真的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:11:40.770

除了上述答案之外，您还需要了解“未定义”、“空”和“假”以及它们如何在比较中给出“看似不一致”的结果。

这篇文章似乎很有趣： [http ://www.mapbender.org/JavaScript_pitfalls:_null,_false,_undefined,_NaN](http://www.mapbender.org/JavaScript_pitfalls:_null,_false,_undefined,_NaN)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-13T10:12:51.860

`if(str == bad_condition)`

该条件检查str是否等于bad_condition，不检查等价，即不考虑变量的类型1将被认为与“1”相同，返回true。

`if(!str == bad_condition)`

这只是对前面 if 语句的否定，它检查 str 是否不等于 bad_condition。它也可以写成`if(str != bad_condition)`

`if(str !== bad_condition)`

这个条件是检查等价，意思是比较类型和值，表达式也被否定。所以以下情况成立：

`str = 1, bad_condition = 2`由于否定而返回 true

`str = 1, bad_condition = "1"`返回 true，值相同，但类型不同

`str = 1, bad_condition = 1`返回 false，因为类型和值都相同。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-13T10:13:13.123

你每次都在这里做完全不同的事情！

* * *

```
str == bad_condition 
```

这会比较两个操作数，但会进行类型强制。因此，如果一个操作数是数字或字符串，则可能会转换另一个操作数，这可能会产生一些令人困惑的结果。

* * *

```
!str == bad_condition 
```

在这里，您正在手动进行一些类型转换。运算符根据`!`某些规则从其操作数中生成一个布尔值。

* * *

```
str != bad_condition 
```

这将检查不等式，但具有与 相同的强制规则`==`。

* * *

```
str !== bad_condition 
```

在这里，您首先检查两个操作数的类型（没有类型强制发生！）。如果两者属于同一类型，则检查它们的内容。

* * *

如您所见，在每种情况下，您都会比较不同的东西。根据您的具体需要，我建议您使用`===`，`!==`因为这些是最直接的比较，没有类型强制。

请注意，JavaScript 将不按内容比较对象，而是按对象引用。所以`[] === []`yield false，因为你创建的对象不共享相同的引用！

作为类型强制的提示，请从[MDN](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Comparison_Operators)获取：

> **相等 (==)**
> 
> 如果两个操作数的类型不同，JavaScript 会转换操作数，然后应用严格比较。如果任一操作数是数字或布尔值，则尽可能将操作数转换为数字；否则，如果任一操作数是字符串，则尽可能将另一个操作数转换为字符串。如果两个操作数都是对象，那么当操作数引用内存中的同一个对象时，JavaScript 会比较相等的内部引用。

# c++ - 在 Eclipse 中使用由 Qt Designer 创建的 Qt GUI

> ID：13857393
> 
> 赞同：3
> 
> 时间：2012-12-13T10:04:36.343
> 
> 标签：c++, eclipse, qt, user-interface, qt-designer

我对 Qt 完全陌生，但我设法让一些简单的窗口和框架工作。我在 64 位 Kubuntu 系统上运行 Eclipse。在 Eclipse 中编辑我的代码后，我从命令行运行 qmake 和 make。

昨天我尝试了 Qt Designer，与 Eclipse 中的“硬编码”小部件和按钮相比，它对我来说效果很好。但是，我不会切换到 QT Creator，因为我非常习惯 Eclipse。

我的目标是在 Qt Designer 中创建 GUI 并在 Eclipse 中使用生成的代码。

运行 qmake -project、qmake 和 make 会为我的主窗口生成一个头文件，其中包含类代码。

但是当我尝试在我的 Eclipse 代码中包含这个头文件时，由于 g++ 找不到头文件（似乎尚未创建头文件），因此会出现错误而停止。

我不得不承认，我仍然对 Qt 构建过程感到困惑。那么，我怎样才能通过 Qt Designer 设计我的 GUI 并仍然使用 Eclipse 作为我的编码 IDE？

问候，行李

编辑：我的 Eclipse 项目是一个“空 Makefile 项目”。据我所知，这意味着我必须照顾整个构建过程。Eclipse 不会为我做任何事情。

我没有尝试从 Eclipse 运行“make”，因为 Makefile 必须由 qmake 生成。因此，在 Eclipse 中编辑并保存我的代码后，我从命令行运行 qmake 和 make。

Qmake 感知到有一个 .ui 文件并为这个类生成头文件。问题是如果我尝试在 Eclipse 中包含此标头，我的源代码文件将无法编译。

对我来说，这似乎是当“make”用我的源代码文件调用 g++ 时，还没有创建 GUI 的标题。

那么我为什么要这样做呢？好吧，我不想沉迷于 Qt Creator 之类的 IDE 或其他东西。因为这意味着，试图编译我的项目的每个人都需要元信息，例如该特定 IDE 的配置文件或项目特定设置。

在我的 C 项目中，我使用手写的 Makefile，所以你只需要安装 GCC（你通常有）并输入“make”。

我正在尝试使用 Qt 项目尽可能接近这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:16:23.233

你需要 4 样东西：

*   Qt Designer 生成的 .ui

=> 关于.ui

```
<?xml version="1.0" encoding="UTF-8"?>
<ui version="4.0">
<class>About</class>
<widget class="QDialog" name="Dialog">
<property name="geometry">
<rect>
    <x>0</x>
    <y>0</y>
    <width>400</width>
    <height>300</height>
</rect>
</property>
<property name="windowTitle">
<string>A Propos</string>
</property>
</widget>
<layoutdefault spacing="6" margin="11"/>
<resources/>
<connections/>
</ui> 
```

*   与 .ui 关联的 cpp/h，例如：

一个关于窗口（about.cpp）=>

```
#include "about.h"
#include "ui_about.h"

About::About(QWidget *parent) : QDialog(parent), ui(new Ui::About)
{
    ui->setupUi(this);
}

About::~About()
{
    delete ui;
} 
```

(约.h) =>

```
#ifndef ABOUT_H
#define ABOUT_H

#include <QDialog>

namespace Ui {
    class About;
}

class About : public QDialog
{
    Q_OBJECT
public:
    explicit About(QWidget *parent = 0);
    ~About();

private:
    Ui::About *ui;
};

#endif // ABOUT_H 
```

在 .pro 文件中

```
SOURCES += about.cpp
HEADERS += about.h
FORMS   += about.ui 
```

# javascript - JS和组件树的Monkey talk自动化工具错误

> ID：13857394
> 
> 赞同：2
> 
> 时间：2012-12-13T10:04:44.800
> 
> 标签：javascript, automation, build-automation, android-testing

我刚开始为我的应用程序编写一些自动化脚本。在 iOS 版本上，我使用苹果 UIAutomation，而对于 android 版本，我开始使用[GorillaLogic](http://www.gorillalogic.com/)的一款名为 MonkeyTalk 的好工具，但遇到了一些问题......

1）当我按下componentTree按钮时，我的应用程序突然崩溃（我也使用苹果UIAutomation，这个工具从来没有发生在我身上）

2) 当我尝试运行 *.JS 文件时，IDE 无法识别循环。

有谁知道我该如何解决谁的问题？

# javascript - Internet Explorer 不保存打开文件对话框中的路径

> ID：13857395
> 
> 赞同：0
> 
> 时间：2012-12-13T10:04:47.893
> 
> 标签：javascript, jquery, html, internet-explorer, uploadify

我正在使用 Uploadify 上传文件。如果用户启动打开文件对话框（使用 Uploadify 选择文件按钮），则会出现一个窗口，用户可以在其中导航到他的路径并选择应该上传的文件。现在 Internet Explorer 不存储路径。如果用户再次单击选择文件按钮，他必须再次导航到所需文件夹。

我知道用户可以一次上传多个文件，但有人问我下次是否可以存储路径（例如 Firefox 的行为）。当然，他可以使用其他浏览器，但我想知道是否可以做任何事情来指示 Internet Explorer 保存路径。Uploadify 中是否有为此设置，或者是否有可以为我执行此操作的 JS 片段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:07:08.150

这完全取决于浏览器，您无法通过 JavaScript 来控制它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:07:47.553

文件打开对话框行为由浏览器本身控制，因此无法从 javascript 中更改它。

# latex - 如何在 doxygen 配置中禁用乳胶

> ID：13857397
> 
> 赞同：10
> 
> 时间：2012-12-13T10:04:50.213
> 
> 标签：latex, doxygen

我希望 doxygen 文档生成器根本不生成任何 LaTeX 文件。HTML 对我来说已经足够了。是否可以配置 doxygen.ini 这样做？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-14T20:46:12.573

如果`doxygen.ini`您的意思是 doxygen 的配置文件，那么您可以设置`GENERATE_LATEX`为`NO`以禁用 LaTeX 输出。

# java - 覆盖 gwt 中包含表单的处理程序

> ID：13857398
> 
> 赞同：1
> 
> 时间：2012-12-13T10:04:53.960
> 
> 标签：java, gwt, event-handling

在 GWT 中，我有一个带有多个文本字段的 FormPanel。这些字段具有 ChangeEvent 处理程序，但问题是这些处理程序必须执行特定的实现。他们还必须使用 UiBinder 的`@UiHandler`.

有两个类实现了这个表单面板，未来可能会出现更多。我需要将此表单放在一个地方，因为它会根据应用程序的部署环境而改变。

所以我想要的是在每个实现中覆盖我的处理程序。目前我想到的是通过构造函数传递实现表单实例的类，然后从文本字段的处理程序调用在该实现类中声明的方法，但是我也想以某种方式强制声明这样一个实现类中的方法。

我目前想不出我应该如何去做，我可能真的在这里遗漏了一些东西。最好的方法是什么？

**简要示例**

```
FormPanelX

TabThatContainsFPX
PopupThatContainsFPX 
```

选项卡和弹出窗口都包含表单面板，但字段上的操作处理程序必须在每种情况下执行略有不同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T07:55:11.633

为什么他们必须使用 UiBinder 的 @UiHandler 工作？您不必以这种方式附加处理程序。

我猜你有一个看起来像这样的复合材料。

```
public class FormPanelX extends Composite {

private static FormPanelXUiBinder uiBinder = GWT
        .create(FormPanelXUiBinder.class);

interface FormPanelXUiBinder extends UiBinder<Widget, FormPanelX> {
}

public FormPanelX() {
    initWidget(uiBinder.createAndBindUi(this));
}

@UiField
FormPanel formPanel;

@UiField
TextBox textField;

private HandlerRegistration handlerRegistration;

public FormPanelX(String firstName) {
    initWidget(uiBinder.createAndBindUi(this));
}

public TextBox getTextField() {
    return textField;
}

public void setTextField(TextBox textField) {
    this.textField = textField;
}   
} 
```

最简单的方法可能是为文本字段设置一个 get 方法，以便您可以直接将更改处理程序附加到它。

然后在您的 TabThatContainsFPX 或 PopupThatContainsFPX 中，您可以执行类似的操作。

```
FormPanelX form = new FormPanelX();
form.getTextField().addChangeHandler(new ChangeHandler(){

        @Override
        public void onChange(ChangeEvent event) {
            //Implementation specific to TabThatContainsFPX

        }
    }); 
```

# opengl - 直接在 GPU 上将 FBO 纹理编码为 H.264 视频

> ID：13857400
> 
> 赞同：5
> 
> 时间：2012-12-13T10:05:06.997
> 
> 标签：opengl, cuda, opencl, gpgpu, video-encoding

我正计划编写一个应用程序，在该应用程序中，我需要能够对来自 FBO 附加纹理的给定图像序列的视频进行编码。我想利用 GPU 并行性的优势，并最大限度地做到“服务器端”。所以我发现 NVidia 有一个使用 CUDA 编码视频的[SDK](https://developer.nvidia.com/nvidia-codec-libraries)，但是在阅读了 SDK[白皮书](http://docs.nvidia.com/cuda/samples/3_Imaging/cudaEncode/doc/nvcuvenc.pdf)之后，我仍然不清楚是否可以在不离开 GPU 的情况下发送 FBO 纹理作为 NVCUVENC（编码器）的图像帧源。我相信从 CPU 上传图像给编码过程增加了巨大的开销，因为如果我不能直接在 GPU 端获取 FBO 纹理，这意味着我必须将其像素读取到 CPU，然后再将它们发送到 GPU 进行编码。所以我基本上有两个问题：

1.  [NVIDIA CODEC 库](https://developer.nvidia.com/nvidia-codec-libraries)是否允许做我想做的事？

2.  如果没有，是否可以使用其他 GPGPU SDK（如 OpenCL 甚至 OpenGL 4.3 计算着色器）来完成？

任何与 DirectX 或其他与 Windows 相关的东西都不能考虑，因为我需要它用于 Linux。我也只使用 NVidia 硬件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:13:48.803

是的，您绝对可以将 OpenGL 生成的图像传输到 CUDA 编解​​码器库中。查看 CUDA API 参考。您最感兴趣的是*纹理参考管理*和*图形互操作性*。基本思想是，CUDA 允许您获取纹理对象的设备端内存映射，您可以将其作为图像源传递给编码器。

# regex - 正则表达式：在单词之前使用任何东西（可能不会出现）

> ID：13857404
> 
> 赞同：1
> 
> 时间：2012-12-13T10:05:25.367
> 
> 标签：regex

我在只允许使用 Regex 进行字符串操作的环境中工作，并且我需要从一开始就使用一个字符串，直到某个关键字出现在该字符串中。但有时该关键字可能根本不会出现 - 正则表达式需要考虑到这一点，这意味着关键字出现是可选的，如果它没有出现，我想将完整的字符串使用到最后。

关键字是**dontconsumeafterthis**

带有关键字的示例：

> 这是一个包含关键字 dontconsumeafterthis 的字符串，这部分不应该被使用

所需输出：

> 这是一个包含关键字的字符串

没有关键字的例子：

> 这是另一个没有关键字whatever等的字符串。

所需输出：

> 这是另一个没有关键字whatever等的字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T13:37:56.237

以下正则表达式应该可以解决它（在[Expresso](http://www.ultrapico.com/Expresso.htm)中对我有用）：

```
(.*?)(?=dontconsumeafterthis)|(.*) 
```

说明：有 2 个选项，如果第一个不匹配，则最后一个取整个字符串，但第一个仅在命中时才匹配`dontconsumeafterthis`，然后使用`?=`运算符将​​其从捕获中排除 - 另外，请注意`*?`（惰性评估） ，它考虑了多次出现的`dontconsumeafterthis`情况）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:09:46.197

正则表达式`/.*?(dontconsumeafterthis.*)/g`应该适合你。

javascript 中的解决方案如下所示：

```
var stringStart = "this is a string continaing the keyword dontconsumeafterthis this part should not be consumed";
var stringEnd = stringStart.replace(/.*?(dontconsumeafterthis.*)/g, "$1");
console.log(stringEnd); 
```

它会输出：

`dontconsumeafterthis this part should not be consumed`

**注意事项**：

正如 Johny Skovdal 在您的 OP 评论中所写，为什么您需要使用正则表达式来执行此操作？您是否可以进行简单的字符串搜索，如果找到匹配项则使用子字符串？

Javascript 解决方案：

```
var stringStart = "this is a string continaing the keyword dontconsumeafterthis this part should not be consumed";
var stringFind = stringStart.indexOf("dontconsumeafterthis");
var stringEnd = (stringFind > -1 ? stringStart.substr(stringFind) : "");
console.log(stringEnd);
​ 
```

（与之前相同的输出）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:16:27.840

取决于语言/环境，但一般的想法是匹配关键字及其之后的所有内容并将其替换为空，如果关键字不匹配，则不替换任何内容，即：`s/keyword.*//`

```
$ cat file
this is a string continaing the keyword dontconsumeafterthis this part should not be consumed

this is another string without the keyword whatever etc. pp.6    

$ sed 's/dontconsumeafterthis.*//' file
this is a string continaing the keyword 

this is another string without the keyword whatever etc. pp.6 
```

# jsf - Tomcat v7.023 无法部署 JSF2.0 Web 应用程序

> ID：13857405
> 
> 赞同：2
> 
> 时间：2012-12-13T10:05:25.630
> 
> 标签：jsf, tomcat

我们正在尝试将 JSF2.0 Web 应用程序部署到 Apache Tomcat/7.0.23 中。我们收到以下错误：

* * *

```
INFO: Initializing Mojarra 2.0.4 (FCS b09) for context '/WSNzControl'
Dec 13, 2012 9:54:28 AM com.sun.faces.config.ConfigureListener contextInitialized
SEVERE: Critical error during deployment: 
java.lang.NoClassDefFoundError: com/sun/faces/spi/DiscoverableInjectionProvider
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)
    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:247)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1675)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1533)
    at com.sun.faces.util.Util.loadClass(Util.java:291)
    at com.sun.faces.spi.InjectionProviderFactory.getProviderFromEntry(InjectionProviderFactory.java:315)
    at com.sun.faces.spi.InjectionProviderFactory.findProviderClass(InjectionProviderFactory.java:283)
    at com.sun.faces.spi.InjectionProviderFactory.createInstance(InjectionProviderFactory.java:114)
    at com.sun.faces.application.ApplicationAssociate.<init>(ApplicationAssociate.java:209)
    at com.sun.faces.application.ApplicationImpl.<init>(ApplicationImpl.java:210)
    at com.sun.faces.application.ApplicationFactoryImpl.getApplication(ApplicationFactoryImpl.java:107)
    at com.sun.faces.config.processor.AbstractConfigProcessor.getApplication(AbstractConfigProcessor.java:130)
    at com.sun.faces.config.processor.ApplicationConfigProcessor.process(ApplicationConfigProcessor.java:252)
    at com.sun.faces.config.processor.AbstractConfigProcessor.invokeNext(AbstractConfigProcessor.java:114)
    at com.sun.faces.config.processor.LifecycleConfigProcessor.process(LifecycleConfigProcessor.java:116)
    at com.sun.faces.config.processor.AbstractConfigProcessor.invokeNext(AbstractConfigProcessor.java:114)
    at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:216)
    at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:338)
    at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:226)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4765)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5260)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:866)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:842)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1095)
    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1617)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: com.sun.faces.spi.DiscoverableInjectionProvider
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
    ... 44 more 
```

* * *

该应用程序在我们本地 (Win) 的 Tomcat v7.023 中部署良好，但在 Linux 服务器中的 Tomcat v7.023 中部署时失败：Apache Tomcat/7.0.23 JVM 1.6.0_26-b03 Sun Microsystems Inc. Red Hat 4.4。 6-3

JSF 库的版本是 mojarra-2.0.4-FCS，我们将 jsf-api.jar 和 jsf-impl.jar 都包含在 Web 应用程序的 WEB-INF\lib 文件夹中。

这是 web.xml：

* * *

```
 <web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"    xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" version="3.0">
  <display-name>WSNzControl</display-name>
  <welcome-file-list>
    <welcome-file>faces/resources/views/Main.xhtml</welcome-file>
  </welcome-file-list>
  <servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
  </servlet-mapping>
  <context-param>
    <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
  </context-param>
  <context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.application</param-value>
     </context-param>
   <listener>
   <listener-class>
   com.sun.faces.config.ConfigureListener
   </listener-class>
   </listener> 
   </web-app> 
```

* * *

关于可能导致此错误的任何提示？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T12:45:26.283

This can happen when the Tomcat instance in question has by itself already JSF libraries bundled in its `/lib` folder or elsewhere which is covered by Tomcat's common classloader or maybe even the bootstrap classloader (which would however be a very bad setup).

You could confirm this by removing the JSF libraries from your webapp and deploying it. If it works, then contact the responsible server admin why Tomcat is configured like that. There's namely no way to tell Tomcat to not load its bundled JSF, so if you intend to deploy with a newer JSF version along the WAR, then you're totally stuck and dependent on the server admin. In fuller fledged Java EE containers like Glassfish and JBoss, it's namely possible to override the container-provided JSF implementation by a WAR-provided JSF implementation by a simple config entry.

# google-apps - 如何将 mydomain.com 映射到通过 google-apps 创建的网站，其中 mydomain.com 不是主要的谷歌应用程序域

> ID：13857406
> 
> 赞同：1
> 
> 时间：2012-12-13T10:05:28.667
> 
> 标签：google-apps, google-sites

换句话说，我如何将 my-X-domainname.com 映射到使用不同域名的 google-apps 创建的网站（即 my-Y-domainname.com）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-05T08:36:07.110

假设 my-Y-domainname.com 是主要的 Google Apps 域，并且您希望通过 my-X-domainname.com 访问您的 Google 协作平台网站，您需要执行以下操作：

1.  将 my-X-domainname.com 作为[辅助域](http://support.google.com/a/bin/answer.py?hl=en&answer=53295)添加到您的 Google Apps 域。
2.  [按照这些说明](http://support.google.com/sites/bin/answer.py?hl=en&answer=99448)建立 www.my-X-domainname.com 到 Google 协作平台站点的映射。

请注意，您将无法将裸域 my-X-domainname.com 映射到站点页面。只能映射 my-X-domainname.com 的子域（例如 www.my-X-domainname.com）。

# jquery - 带有 Jquery Ui 选项卡和 Malsup Cycle 幻灯片的多选单选按钮

> ID：13857409
> 
> 赞同：0
> 
> 时间：2012-12-13T10:05:42.370
> 
> 标签：jquery, html, jquery-ui

当我按下我的一个单选按钮时，我希望每个其他单选按钮都`<form>`具有相同的值来改变。我不能让它工作，我做了一个 js fiddle 让你检查[http://jsfiddle.net/Wpw9u/2/](http://jsfiddle.net/Wpw9u/2/)

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T12:06:18.303

我现在找到了解决问题的方法：

```
I just had to change .prop("selected", true) to .prop("checked", true); 
```

# c# - 在 URL Rewriter 中限制重写的 URL 长度

> ID：13857410
> 
> 赞同：0
> 
> 时间：2012-12-13T10:05:46.293
> 
> 标签：c#, url, url-rewriting, url-rewrite-module, helicontech

我的真实网址如下所示：

```
localhost/shop.asp?product=100&name=Product-name&category=cellphones 
```

我重写的网址如下所示：

```
localhost/cellphones/product-name/product-name_100.aspx 
```

我使用 Helicon URL Rewriter，我需要做的是：如果我重写的 URL 超过 200 个字符，它应该重定向到“Default.aspx” 是否有重写规则？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:22:13.260

如果您使用的是 ISAPI_Rewrite 3，您的规则应如下所示：

```
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^.{100} /Default.aspx [R=301,L] 
```

# c# - Finding the maximum valued and different typed items in an object list by using Linq

> ID：13857426
> 
> 赞同：1
> 
> 时间：2012-12-13T10:06:33.257
> 
> 标签：c#, asp.net, asp.net-mvc, linq

I have an object with two different variables inside.

Looks like: `ModelB.Text` and `ModelB.Value` and `ModelB.Attr`

I also have a list of this object and I am loading this `List<ModelB>` with the data like this:

```
ModelB.Text = "Car";
ModelB.Value = "345.23";
ModelB.Text = "Car";
ModelB.Value = "343.23";
ModelB.Text = "Car";
ModelB.Value = "323.23";
ModelB.Text = "Toy";
ModelB.Value = "45.23";
ModelB.Text = "Toy";
ModelB.Value = "45.22";
ModelB.Text = "Toy";
ModelB.Value = "45.43"; 
```

What I want to do is to find the maximum an minimum valued cars, toys, etc. and check them like `ModelB.Attr = "max";` or `ModelB.Attr = "min";`

So we have to mark the max an min of the each type of object. And yes all the data is `string` unfortunately and I am parsing it to decimal usually.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:16:18.807

```
foreach(var g in models.GroupBy(m => m.Text)
                       .Select(g => g.OrderBy(m => Decimal.Parse(m.Value)))
{
    g.First().Attr = "min";
    g.Last().Attr = "max";
} 
```

如果某种类型（例如汽车）只有一项，则将其标记为`"max"`。如果要将其标记为`"min"`，则更改应用属性的顺序。

此外，如果并非所有项目在属性中都有正确的十进制值`Value`，那么您可以添加过滤。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:11:11.967

好吧，我不会在这里为解析错误、文化等问题烦恼：这些是业务问题，而不是 linq 问题。

如果多个对象具有相同的最大值，我也不知道该怎么办：全部标记或不标记，所以我标记第一个。要将它们全部标记，请将 First 替换为 ForEach

```
foreach(var grp in myList.GroupBy(o => o.Text))
    grp.First(g => decimal.parse(g.Value) == grp.Max(o => decimal.Parse(o.Value)).Attr="max"; 
```

编辑：这是 foreach 实现

```
foreach(var grp in myList.GroupBy(o => o.Text))
{
    string min = grp.Min(o => decimal.Parse(o.Value));
    string max = grp.Max(o => decimal.Parse(o.Value));
    foreach(var obj in grp.Where(o => o.Value == min)
        obj.Attr="min";
    foreach(var obj in grp.Where(o => o.Value == max)
        obj.Attr="max";
} 
```

# java - 如何在for循环中动态调用Java Bean的方法

> ID：13857430
> 
> 赞同：0
> 
> 时间：2012-12-13T10:06:42.707
> 
> 标签：java, android

如何动态调用 Java Bean 的方法。

我在一个Java类中有以下方法：

```
public class Bean {
   public String column1val;
   public String column2val;
   public String column2val;

} 
```

我需要从 for 循环中访问这些方法，如下所示：

```
for(int i=0;i<2;i++) { 
    String s = Bean.get column+i+val;
} 
```

我们怎样才能实现这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:12:03.293

嗨，您可以 为此目的使用**Java 反射...**

```
 //Obtain the Class instance
    Class beanClass = Bean.class;

    //Get the methods
    Method[] methods = beanClass.getMethods();

    //Loop through the methods and print out their names
    for (Method method : methods) {
        System.out.println(method.getName());
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:16:31.740

示例代码。

```
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

public class Bean {
    public String getMethod1(String a) {
        return a;
    }

    public String getMethod2(String a) {
        return a;
    }

    public static void main(String[] args) throws SecurityException,
            NoSuchMethodException, IllegalArgumentException,
            IllegalAccessException, InvocationTargetException {
        Bean bean = new Bean();
        for (int i = 1; i <= 2; i++) {
            Method method = Bean.class.getMethod("getMethod" + i, String.class);
            System.out.println(method.invoke(bean, "Simple"));
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:08:50.247

**您不能**因为 Java 需要**预先限定的方法名称**来执行。它不是字符串，因此您可以附加它。

这个问题可以帮助您更好地理解[Java 中的函数指针数组](https://stackoverflow.com/questions/2752192/array-of-function-pointers-in-java)

或者**您可以使用 Java 反射作为其他建议**..

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T10:11:46.647

尝试：

```
Bean beanobj=new Bean();
for(int i=0;i<2;i++) { 

   Method method= beanobj.getClass().getMethod("getMethod"+
                                   String.valueOf(i), new Class[]{});
    String s=(String)method.invoke(beanobj,"aaa");

} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-13T10:14:32.413

你有使用反射：

```
 MyBean m = new MyBean();
          Method[] methods =  m.getClass().getMethods();
          for(Method methid: methods){
              methid.invoke(m, "abc");
          } 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-13T10:15:41.720

你可以试试这个：

```
Bean b = new Bean();
for(int i=0;i<2;i++) { 
    String s = (String) Bean.getClass().getMethod("getMethod" + i, String.class).invoke(b, "aaa");
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-13T10:11:33.727

如果这是您的要求，您可以使用反射来获取方法列表并在循环中调用它们。如上所述，您不能在运行时动态形成方法名称。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-13T10:16:26.463

使用反射是可能的-但这并不是调用方法的好方法-

```
Class<Bean> class1 =Bean.class;
for(int i=1;i<=2;i++) { 
    Method s = class1.getMethod("getMethod"+i, String.class);
    Object invoke = s.invoke(new Bean(),"Str");
    System.out.println(invoke);
} 
```

# jquery - get ids end with any string from given array of strings

> ID：13857433
> 
> 赞同：2
> 
> 时间：2012-12-13T10:06:45.513
> 
> 标签：jquery

i found a [link](https://stackoverflow.com/q/609382/1564818) to get the id's which are ending with a specific string.

```
 $("element[id$='txtTitle']") 
```

How can we get the id's if ending strings are many. Like i have an array of strings and want all id's that are ending with anyone of these strings.

Thank's

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:08:01.443

You can combine selector with different `endings` with comma.

```
$("element[id$='txtTitle1'],  element[id$='txtTitle2'])") 
```

When you have different ending and same `start` use start.

```
$("element[id^='txtTitle']") 
```

When you have some text `common` but not sure if it is in start or end or middle use `*`

```
 $("element[id*='txtTitle']") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:14:08.047

如果你有一个包含结尾的字符串数组，`id`你可以遍历它们并将它们添加到集合中。尝试这个：

```
var $elements = $(); // empty jQuery object
var ids = ["txtTitle", "txtFirstname", "txtLastName"];
$.each(ids, function(index, value) {
    $elements.add("element[id$='" + value + "']");
});

// $elements is now a collection you can use eg:
$elements.css("background-color", "#C00"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:10:54.133

首先构建选择器：

```
var endings = ["a","b","c"];
var selector = "";

for(var i = 0, len = endings.length; i < len; i++) {
   selector += "element[id$='" + endings[i] + "']";

   if (i != (endings.length - 1)) selector += ",";
} 
```

然后进行选择：

```
var el = $(selector); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:12:44.303

所以你有一系列的结局

```
var arr = ["ending1","ending2"]; 
```

您可以使用 jquery[`.map()`](http://api.jquery.com/jQuery.map/)函数来构建一个多重选择器（用逗号分隔）

```
var selector = $.map(arr,function(i,e){return "element[id$='" + e + "']";})
                .join(",");
// result: "element[id$='ending1'],element[id$='ending2']" 
```

然后使用选择器：

```
var $elements = $(selector); 
```

# mysql - Prefix and suffix wildcards in mysql full text search

> ID：13857436
> 
> 赞同：6
> 
> 时间：2012-12-13T10:06:55.897
> 
> 标签：mysql, full-text-search

My client insists on a search on multiple columns by any part of a string. So i'm trying to do this:

```
... MATCH(smth, smth2) AGAINST('*string*' IN BOOLEAN MODE) 
```

Indexing or a fast search is not a requirement so even if MATCH.. AGAINST were to not use an index - it would be OK. But the problem is that the prefixed wildcard does not work - only the one after the word does:

```
*string* - will match the same as string* and *string does not match anything 
```

Is there a way to resolve this problem with MYSQL? I'm really not going to install any indexing services or anything like that so slow queries will have to do.

I could try using LIKE on multiple columns somehow, but i imagine this would be even slower.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-01-15T11:09:29.233

Mysql 全文搜索不允许我们在匹配搜索时使用 * 作为前缀。

检查此以供参考：

[http://dev.mysql.com/doc/refman/4.1/en/fulltext-boolean.html](http://dev.mysql.com/doc/refman/4.1/en/fulltext-boolean.html)

# gcc - 对静态库中定义的函数的“未定义引用”

> ID：13857439
> 
> 赞同：7
> 
> 时间：2012-12-13T10:07:07.910
> 
> 标签：gcc, shared-libraries, static-libraries, static-linking

我正在尝试构建一个库以在应用程序中使用。我构建了如下库，当我编译应用程序时，出现以下错误：

我做了以下事情。

我用：

```
gcc version 4.6.3 (Ubuntu/Linaro 4.6.3-1ubuntu5) 
```

## 在要从应用程序调用的库中：

这里我有很多模块，但是这个库的入口点是 func() （即 main () 被替换为 func() 以便我可以调用模块，func () 也没有声明为“静态”。）

在其中一个文件中：

```
int func ();
...

int func () 
{ ... } 
```

然后将库构建为：

```
gcc -Wall file.c -o file.o
...
...

ar rvs libfun.a $(OBJS) 
```

还分别在 libfun.a 上使用了 ranlib 和 nm -s 来构建符号表，但是使用这些命令后存档的总大小没有改变，并且仍然出现链接错误。这里 $(OBJS) 包含所有的目标文件

## 在应用中：

外部整数函数（）；

编译：

```
gcc -Wall -L./path-to-lib  -lfun  -o appl 
```

然后我收到以下错误：

```
In function `main':
undefined reference to `func()'
collect2: ld returned 1 exit status 
```

我试图用“ar s”和“ranlib”建立符号表，但结果是一样的。

我观察到的一件事是我构建的“ar”的内容与其他模块的项目中已经存在的档案存在差异。

我建立的档案包含（输出为 "nm -s libfun.a" ）：

```
Archive index:
Cfg1 in f1.o
mCfg1 in f1.o
dpCfg in f1.o 
```

但我正在使用的其他档案没有任何更改包含以下奇怪的模式：

```
Archive index:
_Z29platformSetjP38tagTCPIP_INTERFACE_INSTANCE_ATTRIBUTES in platform.o
_Z27platformTestSetTcpjP20tagTCPIP_CONFIG_DATAPh in platform.o
_Z23platformSetTcpIpjP20tagTCPIP_CONFIG_DATA in platform.o 
```

我不确定上面有什么区别。它是共享库还是静态库？

我正在尝试使用 GCC 编译并使用“ar”构建存档，但其他库文件可能正在使用 g++ 编译器。我不确定。以防万一。

我在建立我的图书馆时做错了什么？请帮忙？

问候。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-06-15T13:47:10.193

另一个原因可能是您的`-lxx`.

简而言之， `-lrelied`放在`-lrelying`.

看[这里](https://stackoverflow.com/a/28706445/5413164)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-18T06:33:20.843

我找到了错误的原因。我将静态库与使用位置无关代码 (PIC) 和其他一些标志编译的其他库混合在一起。添加这些标志解决了这个问题。

# codeigniter - codeigniter : want not first but last row of joined table?

> ID：13857440
> 
> 赞同：1
> 
> 时间：2012-12-13T10:07:09.993
> 
> 标签：codeigniter, activerecord

now my joined table returns the first posts row, i want it to have the last row for each topic

this is my code now

```
$this->db->select('*');
      ->where('disccategory_id', $cat);
       ->from('discussiontopics as topics');
       ->join('discussionposts as posts', 'posts.topic_id = topics.id', 'left');
       ->order_by('posts.id', 'desc');
       ->group_by('topics.id'); 
```

maybe i can only do it with a select inside the join? but not sure how to do that with Codeigniter's Active Record

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T15:38:57.413

```
$this->db->query("
SELECT *
FROM (  SELECT *,
            topics.id AS topic_id
        FROM discussiontopics as topics
        LEFT JOIN discussionposts as posts
        ON posts.topic_id = topics.id
        ORDER BY posts.id DESC) AS h
GROUP BY topic_id
"); 
```

如果你想知道为什么你的不工作，运行一个运行`echo $this->db->last_query();`后的查询，你会看到 if 的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T13:25:36.830

实际上它应该不起作用，原因是分组**后**`ORDER BY`执行，如果你写

 **```
->order_by(...)
->group_by(...) 
```

或者

```
->group_by(...)
->order_by(...) 
```

没关系，查询总会有`GROUP BY`before `ORDER BY`。

您最有可能遇到的问题在这里讨论：

[分组前的 MySQL 顺序](https://stackoverflow.com/questions/5140785/mysql-order-before-group-by)

所以我宁愿使用手动编写查询

```
$this->db->query('
    SELECT ...
'); 
```

或者甚至获取行列表（您的查询没有分组）并且只取第一个。

希望能帮助到你！**

# c# - Add to a list of strings checking for duplicates and appending on a number at the end

> ID：13857445
> 
> 赞同：0
> 
> 时间：2012-12-13T10:07:36.310
> 
> 标签：c#, string

I have a list of strings

```
var lsNameList = new List<string>(); 
```

that is a list of file names. I want to iterate over a collection of files checking the file names for matches. If there is a match then append on a number. the number will be increments in one. eg If filename is in the list then append on 1 so it will be filename1\. If filename1 is in the list then change it to filename2 and so on.

```
foreach (var SourceFile in SourceFiles)
  if (lsNameList.Contains(SourceFile.Label.ToLower()))
     // Add the name to the list but with a number at the end 
```

I have the iteration and filename checking done but I have a problem when the number runs into double digits

```
var sLastCharacter = SourceFile.Label[SourceFile.Label.Length - 1].ToString();
var iLast = StringToInt(sLastCharacter); 
```

What if SourceFile.Label is filename10\. The last digit will be 0 and we will start all over again causing a infinite loop.

Is there a way around this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:45:51.593

不要只检查最后一个字符，而是检查整数并将其解析为`int`. 但我会在名称和数字之间使用分隔符，否则如果文件名本身以数字结尾，则会出现问题。

您可以使用带有自定义方法的 Linq 来增加数字并将其添加到另一个集合中：

```
IEnumerable<String> newPaths = SourceFiles
    .Select(sf => AddIncrementFileNameSuffix(sf.Label, lsNameList,"_")); 
```

这就是所有的“魔法”

```
public static string AddIncrementFileNameSuffix(string path, IList<string> paths, string separator)
{
    string dir = Path.GetDirectoryName(path);
    string ext = Path.GetExtension(path);
    string fileName = Path.GetFileName(path);
    string[] tokens = fileName.Split(new[] { separator }, StringSplitOptions.None);

    int num = 0;
    int.TryParse(tokens.Last(), out num);

    var dups = paths.Where(n => n.Equals(path, StringComparison.OrdinalIgnoreCase));
    while (dups.Any())
    {
        path = Path.Combine(dir, tokens.First() + separator + ++num + ext);
    }

    paths.Add(path);
    return path;
} 
```

[**演示**](http://ideone.com/Uj0R6m)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:13:29.957

可以添加一个从文件末尾获取所有可能数字的函数：

所以（*伪代码*）

```
var resultString = string.Empty;
for(int i=SourceFile.Label.Length - 1,i>=0;i--)
{
   var ch = SourceFile.Label[i];
   if(Char.IsNumber(ch))
     resultString = new string(ch) + resultString; //ADD IN FRONT
}

var iLast = StringToInt(resultString ); 
```

这是在您无法更改文件名格式的情况下。但是如果可以的话，你可以在数字前添加一个分隔符，比如“_”。因此，当您以此分割文件名时，您会知道右侧只有您需要的数字。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:23:12.450

You could use LINQ to get a list of duplicates and then append the number to the end of each, like so:

```
var list = new List<string>() { "filename", "filename", "42", "another_file", "another_file" };
foreach (var item in list.Distinct().ToArray())
{
    var duplicates = list.Where(temp => temp == item).ToArray();
    for (int i = 0; i < duplicates.Length; i++)
    {
        duplicates[i] = string.Concat(item, (i + 1).ToString());
    }
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:23:00.547

```
foreach (var SourceFile in SourceFiles)
{
    if (lsNameList.Contains(SourceFile.Label.ToLower()))
    {
        int fileNumber = 1;
        while (lsNameList.Contains((SourceFile.Label + fileNumber).ToLower()))
        {
           fileNumber++;
        }
        SourceFile.Label = SourceFile.Label + fileNumber;
    }
    lsNameList.Add(SourceFile.Label.ToLower());
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:25:20.330

不要假设只有字符串的最后一个字符是计数，您应该使用所有字符（您可以使用 Substring()），只忽略原始文件名。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-13T10:13:14.090

尝试这个

```
foreach (var SourceFile in SourceFiles)
  if (lsNameList.Contains(SourceFile.Label.ToLower()))
  {
    int i = 1;
    while (lsNameList.Contains(SourceFile.Label.ToLower() + i.ToString()))
      i++;
    //add file with i as number
  } 
```

# git - git搜索本地历史

> ID：13857458
> 
> 赞同：1
> 
> 时间：2012-12-13T10:08:30.023
> 
> 标签：git, git-push, git-pull

我做了几个提交而没有进行 git push。在那之后，我做了一个 git push 并且知道我找不到这些只是本地的提交。我能以某种方式找到那些我没有推送到远程仓库的提交吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:10:24.287

您可以使用它`git log --oneline --all`来显示您的存储库中的所有提交，即使它们不在您当前分支的历史记录中。

另请参阅：[git log 手册页](http://git-scm.com/docs/git-log)

# python - What do @ and lambda mean in Python?

> ID：13857460
> 
> 赞同：-2
> 
> 时间：2012-12-13T10:08:38.110
> 
> 标签：python

> **Possible Duplicate:**
> [Understanding Python decorators](https://stackoverflow.com/questions/739654/understanding-python-decorators)

Just trying to "port" some Python code to Java, I came then across the following python code:

```
 @fake(lambda s, t, n: [(s.field(i+1), s) for i in range(n)])
 def split(secret, threshold, num_players):
     shares = []
     for i in range(1, num_players+1):
         # do some shares calculation
     return shares 
```

There are quite some interesting constructs in this one that I never noticed before. Could anyone tell me what is the deal with this @fake thingy?

```
def fake(replacement):
    """Replace a function with a fake version."""
    def decorator(func):
        fakes = os.environ.get('FUNC_FAKE', '')
        if fakes == '*' or func.__name__ in fakes.split():
            return replacement
        else:
            return func
    return decorator 
```

Further, does this lambda stand for a function name or what is the deal with that?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:27:37.817

首先，`@fake`是一个[装饰](https://stackoverflow.com/questions/739654/understanding-python-decorators)者。

似乎要做`@fake`的是有条件地替换后面的函数，即`split`lambda 函数（注意两者如何采用相同的参数）。

该决定基于`FUNC_FAKE`环境变量。如果后者等于`*`或包含`split`作为其标记之一，则进行替换。否则，它不是。

[替换是lambda 函数](http://www.diveintopython.net/power_of_introspection/lambda_functions.html)这一事实并不重要。它可以很容易地变成一个正常的函数：

```
def split_replacement(s, t, n):
   return [(s.field(i+1), s) for i in range(n)])

@fake(split_replacement)
def split(s, t, n):
   ... 
```

这整个结构相当莫名其妙。除了试图混淆其他程序员（或玩装饰器）之外，我很难找到以这种方式做事的理由。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:27:28.887

第一个问题在[别处](https://stackoverflow.com/questions/739654/understanding-python-decorators)得到解答。

对于你的第二个问题：

```
x = lambda a, b, *args, **kwargs: <expression> 
```

只是一个简写

```
def x(a, b, *args, **kwargs):
    return <expression> 
```

另请参见[此处](http://docs.python.org/2/reference/expressions.html#lambda)。

# android - android中活动方向变化的奇怪行为

> ID：13857466
> 
> 赞同：9
> 
> 时间：2012-12-13T10:08:54.007
> 
> 标签：android, android-activity, android-orientation

我在处理活动方向时遇到了非常奇怪的问题。让我解释一下场景

我有活动 A 和 B。目前 A 处于横向模式，B（固定）处于纵向模式。如果用户更改 A 的方向，我将保存活动 A 的状态。我从**A（横向）**转到**B（纵向）**，所以在这种情况下，A 在后台，所以它应该调用**onSaveInstance(bundle)**方法。但是它调用了，当我回来时，A 的 Resume() 被调用，我得到异常**onResume()**不能在A的**onSaveInstance()之后调用。**

这件事，让我很烦。

**更新编辑**

如果两个活动都可以有任何方向。然后活动 A **onSaveInstance(bundle)**在去 B 时不会调用并且它运行良好

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-15T04:27:03.213

即使我仍在等待一些合乎逻辑的描述。但我解决了我的问题。当您从 Activity A 转到 B **onsaveInstance()**时，在每种情况下都会调用。因此，当返回活动重新启动但 onsaveInstance() 不再调用时。所以我得到

```
onResume() can not be called after onSaveInstance(Bundle) 
```

**原因 -**我认为活动状态已经保存，因此不能调用 onResume()。主要问题是 onSaveInstance(Bundle) 不是活动生命周期的一部分，因此情况非常痛苦。

**解决方案 -**我从**onSaveInstance(Bundle)中删除****super.onSavaInstance(** Bundle) 。并且问题解决了。它仍在为方向变化工作

# ruby - 在 Mongoid 中删除 2 级深度嵌入文档

> ID：13857467
> 
> 赞同：1
> 
> 时间：2012-12-13T10:08:55.583
> 
> 标签：ruby, mongodb, mongoid

我在运行 Mongoid 2.4 的 Sinatra 应用程序中删除嵌入文档时遇到问题。这是我的模型关系的基本概述：

```
class User
    has_many :posts
end

class Post
    belongs_to :user
    embeds_many :comments
    embeds_many :likes, as: :likeable
end

class Comment
    field :poster_id, type: String
    embedded_in :post
    embeds_many :likes, as: :likeable
end

class Like
    field :user_id, type: String
    embedded_in :likeable, polymorphic: true
end 
```

删除代码是这样开始的，没有问题：

```
# Deletes comments the user created
Post.where('comments.poster_id' => params[:userid]).each do |post|
    post.comments.where(poster_id: params[:userid]).delete_all
end

# Delete likes on posts the user created
Post.where('likes.user_id' => params[:userid]).each do |post|
    post.likes.where(user_id: params[:userid]).delete_all
end 
```

但是，当尝试删除喜欢的帖子评论时，mongoid 失败。似乎它不能深入两个层次：

```
# Delete likes on comments the user created (broken)
Post.where('comments.likes.user_id' => params[:userid]).each do |post|
  post.comments.likes.where(user_id: params[:userid]).delete_all
end 
```

我怎样才能删除它们？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T14:53:19.900

```
# Delete likes on comments the user created (not broken anymore)
Post.where('comments.likes.user_id' => params[:userid]).each do |post|
  post.comments.each {|c| c.likes.where(user_id: params[:userid]).delete_all }
end 
```

你需要迭代评论，`comments.likes`一定会给你错误，不是吗？

# cassandra - Cassandra 查询密钥的一部分

> ID：13857471
> 
> 赞同：4
> 
> 时间：2012-12-13T10:09:08.550
> 
> 标签：cassandra, hector, astyanax

我有一个 cassandra 列族，它有一个像 2012-09-30-05-42-00:30:5856869 这样的行键

我需要查询一些类似的东西

```
select * from cf where key like %5856869% 
```

目前我正在使用 Astyanax ，在 astyanax 中也是如此。如果不是，哪个实现会支持它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T14:42:08.797

Cassandra 不支持 LIKE 查询。如果要根据键的一部分进行查询，则需要使用复合键。但是在这种特定情况下，密钥的 5856869 部分必须是您执行所需操作的第一部分。请记住，使用 Cassandra，您必须以您希望读取的方式编写数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-17T15:39:23.023

无....您需要手动编写索引 - 这是您在 Cassandra 中处理此类事情的方式，或者您可以尝试全文搜索：[Cassandra full text search like](https://stackoverflow.com/questions/3153364/cassandra-full-text-search-like)

# c++ - Qtimer and system clock changes

> ID：13857473
> 
> 赞同：1
> 
> 时间：2012-12-13T10:09:11.857
> 
> 标签：c++, qt

I have a Qt application which uses QTimers. The problem here is, when user adjusts the system clock, this is upsetting the timers and other date and time related calculations. Is QElapsedTimer any better? The problem with this elapsed timer is, it's not a QObject; thus, no signals and slots, which makes tracking timeouts impossible. The target OS is win XP. Could someone please suggest some sensible solution to this problem? Thanks in advance.

# windows-phone-7 - Windows Phone 7.5 旋转包含图像的画布

> ID：13857475
> 
> 赞同：0
> 
> 时间：2012-12-13T10:09:15.663
> 
> 标签：windows-phone-7, windows-phone-7.1, windows-phone, windows-phone-8

我正在尝试旋转包含少量图像图块的画布（四个 200x200 图像。我将它们放在一起形成一个大正方形）。旋转度数为0时可以： ![在此处输入图像描述](../Images/9bb255def8755ee9e0ed2fbdca972686.png)

当旋转度数 > 0 时，假设为 30。每个图像块之间有一些空格： ![在此处输入图像描述](../Images/226211805c564afd01fce8635d6cea88.png)

我想要的是每个图像块之间没有空间： ![在此处输入图像描述](../Images/a2acc6d17c1e3a3fbbf57db723bd508e.png)

这是旋转画布的代码片段：

```
myCanvasCompositeTransform.CenterX = 200;
myCanvasCompositeTransform.CenterY = 200;
myCanvasCompositeTransform.Rotation = 30; 
```

这里是源代码的链接： [source code](http://pwong.name:81/images/MyCanvasImageTest.zip)

请帮我解决这个问题，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T18:56:28.493

您在第二个旋转屏幕截图中看到的不是图像之间的空间。它是图像的抗锯齿，其背后是黑色背景。因为没有办法用像素对角线绘制一条真正的直线。

为了获得你想要的效果，你可以尝试一些事情。

1.  在颜色与图像整体颜色相似的所有图像后面放置一个大正方形。这将使线条不那么明显。

2.  在每个上面着色的图像后面放置小方块。

3.  使用代码将图像拼接成单个图像，然后旋转单个图像。

# ios5 - NSInvalidArgumentException, Unrec thrown in Monotouch

> ID：13857476
> 
> 赞同：2
> 
> 时间：2012-12-13T10:09:18.937
> 
> 标签：ios5, xamarin.ios

The issue I am facing is thrown on only one device out of several test devices. All devices are iPhone 4s iOS 5.1.1 with another with iOS 6.0.1.

There are several answers to similar questions but none contain both symptoms.

The application has been written in Monotouch.

The symptoms of the issue are

The application will not change orientation on the affected device. An NSInvalidArgumentException is thrown when accessing certain views on the affected device.

The full exception is:

```
Objective-C exception thrown.  Name: NSInvalidArgumentException Reason: -[UITableViewCell updateConstraintsIfNeeded]: unrecognized selector sent to instance 0x4e07540
```

The Stack Trace is

```
MonoTouch.Foundation.MonoTouchException: Objective-C exception thrown.  Name: NSInvalidArgumentException Reason: -[UITableViewCell updateConstraintsIfNeeded]: unrecognized selector sent to instance 0x4c3cc20
  at MonoTouch.UIKit.UIView.UpdateConstraintsIfNeeded () [0x00010] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIView.g.cs:1626
  at XXXXXX.IOS.Dialogs.NewStyledMultilineElement.GetCell (MonoTouch.UIKit.UITableView tv) [0x0000f] in /Users/gavin/Perforce/Jon_PI-151_9051/XXXXXX/XXXXXX/v1.3.1/Mobile/XXXXXX/IOS/XXXXXX.Dialogs/My Work/WorkDetailDialogController.cs:30
  at MonoTouch.Dialog.DialogViewController+Source.GetCell (MonoTouch.UIKit.UITableView tableView, MonoTouch.Foundation.NSIndexPath indexPath) [0x00029] in /Developer/MonoTouch/Source/MonoTouch.Dialog/MonoTouch.Dialog/DialogViewController.cs:340
  at MonoTouch.UIKit.UIApplication.Main (System.String[] args, System.String principalClassName, System.String delegateClassName) [0x0004c] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:38
  at XXXXXX.IOS.Application.Application.Main (System.String[] args) [0x00000] in /Users/gavin/Perforce/Jon_PI-151_9051/Pall/XXXXXX/v1.3.1/Mobile/XXXXXX/IOS/XXXXXX.Application/Main.cs:28
```

The code that is causing the exception is

```
public class NewStyledMultilineElement : StyledMultilineElement
{
    public override UITableViewCell GetCell (UITableView tv)
    {
            UITableViewCell cell = base.GetCell(tv);
            cell.SelectionStyle = UITableViewCellSelectionStyle.None;
            cell.UpdateConstraintsIfNeeded();
            return cell;
    }

    public NewStyledMultilineElement(string caption, string value) :base(caption,value)
    {
    }
}

```

The line that is throwing the error is cell.UpdateConstraintsIfNeeded();

The version information is

MonoDevelop 3.0.5 Runtime Mono 2.10.9 GTK 2.24.10 XCode 4.5.1 Monotouch 6.0.6

The settings on the affected device have been compaired to other devices that function as expected, with no obvious differences.

It is possible that the symptoms are for different issues. However, this is the only acception that is thrown.

Any help would be greatly appreciated

Further investigation has resolved the issue, temporarily. However the root cause has not been confirmed. The solutions are as follows

To resolve the orientation symptom, the following code was added to the base view controller from which all view controllers are dervied.

`public override bool ShouldAutoRotateToInterfaceOrientation(UIInterfaceOrientation toInterfaceOrientation) { return true; }`

To resolve the NSInvalidArgumentException, StyledMultilineElement have been used instead of the derived class. This issue could be being caused by the GC, but varification of that would be appreciated.

The solutions solve the issue, without identifying the root causes. Any explination of why this is happening on only one device and not all would be helpful.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:37:40.380

您正在使用 iOS6 的一项功能，即基于约束的布局。这在 iOS5 上不可用。因此，`UpdateConstraintsIfNeeded()`在 iOS5.x 和更早版本上运行的所有设备都会调用失败。

请参阅 Apple 的文档：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/instm/UIView/updateConstraints](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html#//apple_ref/occ/instm/UIView/updateConstraints)

> updateConstraintsIfNeeded 更新接收视图及其子视图的约束。
> 
> > *   (void)updateConstraintsIfNeeded 讨论 每当为视图触发新的布局传递时，系统都会调用此方法以确保使用来自当前视图层次结构及其约束的信息更新视图及其子视图的任何约束。此方法由系统自动调用，但如果您需要检查最新的约束，可以手动调用。
> > 
> > 子类不应覆盖此方法。
> > 
> > ***可用性 适用于 iOS 6.0 及更高版本***。在 UIView.h 中声明

# jquery - jQuery 触发器在锚链接中不起作用（其他 jQuery 操作可以）？

> ID：13857480
> 
> 赞同：0
> 
> 时间：2012-12-13T10:09:34.167
> 
> 标签：jquery, wysihtml5

我正在使用这个编辑器：http: [//xing.github.com/wysihtml5/examples/simple.html](http://xing.github.com/wysihtml5/examples/simple.html)（现场演示）。

您可以将自定义函数分配给事件：

```
"events": {
  "focus": function() {
    //my event
  }
}, 
```

我添加了一个自定义按钮：

```
"font-styles": function(locale, options) {
  return "<li>" +
    "<a class='btn btn-paragraph' data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='p'>" + locale.font_styles.p + "</a>" +
  "</li>";
} 
```

所以，我想触发焦点按钮（textarea）：

```
"events": {
  "focus": function() { 
    $('.btn-paragraph').trigger('click');
  }
}, 
```

但是什么也没有发生，甚至控制台中的错误也没有。奇怪的是我试过这个：

```
"events": {
  "focus": function() { 
    $('.btn-paragraph').hide();
  }
}, 
```

一旦我将光标放在文本区域中，按钮就会隐藏。

我在这里缺少什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:13:30.410

`trigger`将触发绑定到 click 事件的所有事件处理程序。它不会模拟用户交互。由于您没有绑定任何事件处理程序（至少从我所见），所以什么也没有发生。

尝试这个：

```
"events": {
  "focus": function() { 
    $('.btn-paragraph').click(function(){
        alert('foo');
    });
    $('.btn-paragraph').trigger('click');
  }
}, 
```

# sql-server - 使用 sql server 连接加速文本框 textchanged 事件以搜索值

> ID：13857493
> 
> 赞同：0
> 
> 时间：2012-12-13T10:10:06.740
> 
> 标签：sql-server, vb.net, connection-pooling, textchanged

我有一个带有文本框 textchanged 事件的应用程序来搜索数据库中的值。

现在它在文本框中输入字符真的很慢。我在某处读到这种情况正在发生，因为它需要为您在文本框中键入的每个字符建立与数据库的连接。但我也读到所有 sql 连接在池中保持打开状态，因此您可以再次使用它们。（那么如果池的东西是真的，那么它应该很快，对吧？）

我尝试的解决方案是实现一个计时器，以便我知道用户何时停止输入然后搜索数据库，因此它只有 1 个连接。我打字的时候速度很好，但是因为它现在出现在另一个线程上，我需要在 page_load 中实现这个规则

```
System.Windows.Forms.Control.CheckForIllegalCrossThreadCalls = False 
```

但现在我在 datagridview 上遇到了各种错误，还有一些我不理解的奇怪行为。

所以我的问题是：是否有另一种解决方案来加快速度，或者计时器事件是唯一的解决方案。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:26:54.667

不要使用`CheckForIllegalCrossThreadCalls = False`！如果你不想阻塞你的 UI 线程，你必须在后台运行（时间）昂贵的操作。

```
Private Sub ExpensiveFoo(s As String)
    If Me.InvokeRequired Then
        System.Threading.Thread.Sleep(1000)
        Me.Invoke(Sub() ExpensiveFoo(s))
    Else
        TextBox2.Text = s
    End If

End Sub

Private Sub TextBox1_TextChanged(sender As Object, e As EventArgs) Handles TextBox1.TextChanged

    Console.WriteLine(TextBox1.Text)
    Dim s As String = TextBox1.Text
    Task.Run(Sub() ExpensiveFoo(s))

End Sub 
```

TextChanged 事件现在只需启动一个`task`它将在后台执行一些工作，完成后将更新第二个文本框 - 不使用可怕的`CheckForIllegalCrossThreadCalls = False`

# spring - 如何运行春季项目

> ID：13857500
> 
> 赞同：0
> 
> 时间：2012-12-13T10:10:26.177
> 
> 标签：spring, maven, hsqldb

我需要继续一个现有的模板项目，你可以在这里找到：

[http://soft.vub.ac.be/soft/_media/edu/aosd/bankingwebstudent.zip](http://soft.vub.ac.be/soft/_media/edu/aosd/bankingwebstudent.zip)

到目前为止，我已经实现了数据和服务层，但是你如何运行这个项目？因为据我所知没有主要类型......我尝试通过右键单击运行banking.deploy.xml - >在服务器上运行 - > tomcat 6.0，但这没有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T14:46:09.800

从您附加的任何文件来看，它看起来不像是一个 maven 项目，因为它缺少一个 pom.xml 文件。如果你想将你的项目转换成maven项目，只需将项目导入IDE（可能是Eclipse）作为一个普通的java web应用项目，然后右键添加一个maven pom.xml文件。（请安装maven在执行此操作之前为 Eclipse 插件）。然后您可以转到项目主文件夹，并在命令提示符下，将您的项目构建为：

mvn 干净安装

或者

mvn clean install -Dmaven.test.skip -DskipTests（如果您想跳过任何测试）。

构建项目后，从目标目录复制 war 文件，并将其复制到 ApacheTomcat 的 webapps 文件夹中。

由于您的 web.xml 中有此条目：

```
<servlet>
    <servlet-name>BankingWeb</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
</servlet> 
```

默认情况下，Spring 会查找名为 BankingWeb-servlet.xml 的配置文件，该文件位于您的应用程序中，您在其中导入了用于配置控制器的 xml 文件。（即，banking.web.controller.xml）。

现在，假设您触发以下网址：

http://localhost:8080/BankingWeb/login.htm

流程是这样的：

web.xml -> BankingWeb-servlet.xml -> LoginController -> loginSuccess.jsp。

但在所有这些发生之前，由于 web.xml 中提到了一个过滤器，所以过滤器将首先执行。

此外，由于 web.xml 文件中有一个 ContextLoadListener 属性，Spring 将搜索一个名为 applicationContext.xml 的文件，您将在该文件中导入banking.deploy.xml。这就是基本流程的发生方式。必须说，现在是升级到 Spring 3.0 的时候了，而且到目前为止，您在整个项目中还没有使用太多 Spring。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:22:24.100

假设您的 Spring 设置是连贯的并且您`web.xml`包含相关的`RequestContextListener`，例如。

```
<web-app ...>
    <listener>
        <listener-class>org.springframework.web.context.request.RequestContextListener</listener-class>
    </listener>
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:applicationContext.xml</param-value>
    </context-param>
</web-app> 
```

您可以使用 Jetty 编写一个小类`Launcher`来启动应用程序：

```
public class Launcher
{
    public static void main( String[] args ) throws Exception
    {
        Server jettyServer = new Server();
        SocketConnector conn = new SocketConnector();
        conn.setPort( 8080 );
        jettyServer.setConnectors( new Connector[]{ conn } );
        WebAppContext context = new WebAppContext();
        context.setContextPath( "/" );
        context.setWar( "src/main/webapp" );
        jettyServer.setHandler( context );
        jettyServer.start();
    }
} 
```

你至少需要这个依赖：

```
<dependency>
    <groupId>org.mortbay.jetty</groupId>
    <artifactId>jetty</artifactId>
    <version>6.1.9</version>
</dependency> 
```

还有其他人，如果你需要的话。JSP 和/或 JNDI 能力。

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:16:12.253

Spring 是一个框架，它可以帮助您管理您的 servlet。您需要从您的项目中创建一个war 文件并将其部署到tomcat 中。

您需要按照以下说明编辑 web.xml（在 tomcat 中）：

[http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch16s02.html](http://static.springsource.org/spring/docs/3.0.0.M3/reference/html/ch16s02.html)

之后，对 tomcat 的 HTTP 请求将被重定向到 spring servlet

# core-animation - CATransform3D 等效于 CGPointApplyAffineTransform 和朋友

> ID：13857508
> 
> 赞同：3
> 
> 时间：2012-12-13T10:11:02.213
> 
> 标签：core-animation, transform, cgpoint, catransform3d, quartz-core

我怎样才能写 CATransform3D 等效于

```
CGPoint CGPointApplyAffineTransform(CGPoint point, CGAffineTransform t)
CGSize CGSizeApplyAffineTransform(CGSize size, CGAffineTransform t);
CGRect CGRectApplyAffineTransform(CGRect rect, CGAffineTransform t); 
```

?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-10T23:13:11.270

这行得通，但是知道里面发生了什么当然会**好得多**`-[CALayer convertPoint:toLayer:]`！

```
CGPoint CGPointApplyCATransform3D(CGPoint point, CATransform3D transform, CGPoint anchorPoint, CATransform3D parentSublayerTransform)
{

    static pthread_mutex_t mtx = PTHREAD_MUTEX_INITIALIZER;
    static CALayer *sublayer, *layer;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        sublayer = [CALayer layer];
        layer = [CALayer layer];
        [layer addSublayer:sublayer];
    });

    if(pthread_mutex_lock(&mtx))
    {
        [NSException raise:NSInternalInconsistencyException format:@"pthread_mutex_lock failed"];
    }

    layer.sublayerTransform = parentSublayerTransform;
    sublayer.transform = transform;
    sublayer.anchorPoint = anchorPoint;
    CGPoint retval = [sublayer convertPoint:point toLayer:layer];

    if(pthread_mutex_unlock(&mtx) != 0)
    {
        [NSException raise:NSInternalInconsistencyException format:@"pthread_mutex_unlock failed"];
    } 

    return retval;
} 
```

简单的单元测试[https://gist.github.com/hfossli/5130975](https://gist.github.com/hfossli/5130975)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-07-28T08:47:18.230

好的，类似于以下内容：

```
- (CGPoint)convertPoint:(CGPoint)p withTransform:(CATransform3D)t {

    NSArray *m1 = @[@(p.x), @(p.y), @(0), @(1)];
    NSMutableArray *m2 = [NSMutableArray array];
    [m2 addObject:@[@(t.m11), @(t.m12), @(t.m13), @(t.m14)]];
    [m2 addObject:@[@(t.m21), @(t.m22), @(t.m23), @(t.m24)]];
    [m2 addObject:@[@(t.m31), @(t.m32), @(t.m33), @(t.m34)]];
    [m2 addObject:@[@(t.m41), @(t.m42), @(t.m43), @(t.m44)]];
    NSMutableArray *result = [NSMutableArray array];
    for (int i = 0; i < 2; i++) {

        double k = 0;
        for (int j = 0; j < 4; j++) {

            k += [m1[j] doubleValue] * [m2[j][i] doubleValue];
        }
        [result addObject:@(k)];
    }
    return CGPointMake([result[0] doubleValue], [result[1] doubleValue]);
} 
```

没有异常，没有互斥锁在多线程上阻塞当前线程，没有额外的层，也没有等待这些层被绘制。

适用于大多数变换，例如平移、旋转、缩放及其组合。用Objective C编写，在纯C中会更好（不转换为对象，反之亦然），但我只是想展示一个想法。

没有 Z 坐标，因为`CGPoint`仅由 x 和 y 组成，而您的“答案”根本不计算它们。

什么是“锚点”参数？锚点意味着一些额外的矩阵乘法 - 您移动图形以使您的锚点出现在 中`(0, 0, 0)`，应用变换并将图形向后移动相同的距离。

父变换参数？同样，您只需要以正确的顺序将两个 4x4 矩阵相乘。

当然，你甚至不回答剩下的问题。

```
CGRect CGRectApplyAffineTransform(CGRect rect, CGAffineTransform t); 
```

一个矩形意味着 4 个点。您只需要对这些点中的每一个应用变换。

```
CGSize CGSizeApplyAffineTransform(CGSize size, CGAffineTransform t); 
```

变换为`CGSize`? `CGSize`在 3D 中转换，而`CGSize`有 2 个维度并且根本没有指定点？当您没有所有变量时，您只是尝试解决问题，因为例如旋转可能会影响大小并且您不知道执行此旋转的初始锚点。

# java - 正则表达式用图像标签替换特定字符串？

> ID：13857509
> 
> 赞同：0
> 
> 时间：2012-12-13T10:11:01.853
> 
> 标签：java, regex, string

我有如下customerText

```
 String customerText="TestBody <img src="test.action&attachmentId=3313&custId=456 /> Sometext @attachmentId=3313"; 
```

我想用 attachmentId=3824 替换所有出现的 attachmentId=3313（位于图像标签中）。

所以我对上述输入的预期输出是

输出是

```
 "TestBody <img src="test.action&attachmentId=3824&custId=456 /> Sometext @attachmentId=3313"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T16:41:17.930

即使在特定情况下，正则表达式解决了您的 HTML 操作问题，正则表达式也不是该工作的合适工具。HTML 不是常规语言，因此您最好不要将正则表达式用于这些任务。使用 HTML 解析器。您可以使用 Jsoup 轻松实现您的目标：

```
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

public class MyJsoupExample2 {
    public static void main(String args[]) {
        String inputText = "<html><head></head><body><p><img src=\"test.action&attachmentId=3313&custId=456\" /></p>"
            + "<p>someText <img src=\"getCustomers.do?custCode=2&customerId=3340&param2=456\"/></p></body></html>";
        Document doc = Jsoup.parse(inputText);
        Elements myImgs = doc.select("img[src*=attachmentId=3313");
        for (Element element : myImgs) {
            String src = element.attr("src");
            element.attr("src", src.replace("attachmentId=3313", "attachmentId=3824"));
        }
        System.out.println(doc.toString());
    }
} 
```

该代码获取具有包含目标字符串`img`的属性的节点列表：`src`

```
Elements myImgs = doc.select("img[src*=attachmentId=3313"); 
```

并遍历列表，`src`用您想要的值替换属性的值。

我知道它不像单行解决方案那样吸引人，但相信我，它比使用正则表达式要好得多。您可以在 StackOverflow 上找到许多提供相同建议的线程（包括[这个 :)](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:13:47.733

使用此正则表达式`(?<=test\.action&attachmentId=)(\d+)(?=&|$|(/>)| )`替换为`3824`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:27:45.850

如果您不是死心塌地使用正则表达式，最简单的解决方案是简单的字符串替换：

```
String customerText="TestBody <img src=\"test.action&attachmentId=3313&custId=456\" />";
String output = customerText.replace("attachmentId=3313", "attachmentId=3824"); 
```

# android - 圆形 Android Canvas 上的内部阴影

> ID：13857510
> 
> 赞同：8
> 
> 时间：2012-12-13T10:11:02.870
> 
> 标签：android, android-layout, draw, android-ui

我需要在我在视图的 onDraw() 方法中绘制的 Circle 上制作内部阴影和渐变看到[这个](https://i.stack.imgur.com/7kuVJ.jpg)（对不起，因为我是 StackOverflow 的新手，我还不能发布图像）

我知道如何让渐变工作，但我无法完成内阴影到目前为止我发现的只是[这篇](https://stackoverflow.com/questions/9469748/imageview-with-rounded-corners-and-inner-shadow)文章，但它似乎有点复杂，并不完全是我需要的

我试过使用 setShadowLayer()，但我可能无法让它正常工作，因为除了内阴影，我也得到外阴影，这不是我需要的

任何帮助，将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T04:58:51.997

您应该能够通过将剪辑设置为圆圈来避免外部阴影，因为这会将绘图限制在圆圈内。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-03T06:13:53.647

您需要使用 LinearGradient 绘制 2 个圆圈（其中一个比另一个小）

外圈的 LinearGradient 具有“较深”的颜色，较小的圆圈也将具有 LinearGradient 但具有“较浅”的颜色。两个圆圈共享相同的起源，这将产生你所期望的（它就像一个阴影环）

啤酒花有帮助

# python - python NameError：未定义全局名称“多处理”

> ID：13857515
> 
> 赞同：2
> 
> 时间：2012-12-13T10:11:14.357
> 
> 标签：python, multiprocessing, nameerror

我正在尝试将我的线程代码转换为多处理代码。但它给了我错误

```
 Name Error: global name 'multiprocessing' is not defined 
```

安装了多处理，我通过

```
 from multiprocessing import * 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T10:15:16.523

通过导入，您将导入`multiprocessing`模块内的所有内容。我假设您正在拨打的电话看起来像

```
multiprocessing.some_function() 
```

但是由于您已经导入了*里面* `multiprocessing`的所有内容，所以它不会在您的命名空间中。我建议您这样做`import multiprocessing`并将其用作您的切入点，以免您的命名空间混乱。

# c# - 与 SimpleMembershipProvider 兼容的 ASP.NET Web API？

> ID：13857516
> 
> 赞同：4
> 
> 时间：2012-12-13T10:11:19.690
> 
> 标签：c#, security, asp.net-membership, asp.net-web-api

可以`SimpleMembershipProvider`与 a 一起使用`ApiController`还是仅用于经典网页？尝试使用它时，我收到错误“Membership.Provider”属性必须是`ExtendedMembershipProvider`.

如果它兼容，我该如何调用 . `ValidateUser`没有像 WebSecurity.Login 这样创建 cookie 的方法吗？

**更新**

经过以下更改后，我让它在 Web API 脚手架中运行：

1.  `Web.config`：注释标签内的默认成员资格和角色提供者`system.web`，由 Web API 脚手架插入。

2.  将模板`InitializeSimpleMebershipAttribute`从 Mvc 属性更改为`System.Web.Http.Filters`. 属性直接挂钩到控制器中，而 Mvc 不适用于`ApiController`.

但是，`WebSecurity`该类与表单身份验证混合在一起，并且该`.Login`方法将 cookie 附加到 http-header。`WebMatrix.WebData`暴露`SimpleMembershipProvider`，但在身份验证方面没有`.ValidateUser`以中立的方式使用它。

实际上是`SimpleMembership`打算与表单身份验证以外的任何东西一起使用吗？我在网上找不到明确的答案。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T06:34:40.153

我想我得到了答案。[请参阅本页末尾的备注部分](http://msdn.microsoft.com/en-us/library/gg569035%28v=vs.111%29.aspx)。

`SimpleMembershipProvider`在使用`WebMatrix.WebData`方法初始化 a 之后，`System.Web.Security.Membership`类就可用了，就像旧的`MembershipProvider`. 不是使用`WebSecurity`该类进行验证，`Membership.ValidateUser`而是可用并且没有附加到 http 标头的 cookie。

# html - Google Chrome 中的 HTML5 Canvas 和 z-index 问题

> ID：13857518
> 
> 赞同：4
> 
> 时间：2012-12-13T10:11:22.870
> 
> 标签：html, google-chrome, html5-canvas, z-index

我发现将 z-index 应用于画布`position:fixed`会导致 Chrome 停止渲染所有其他`position:fixed`正确的元素。但是，只有当画布的大小大于 256x256px 时才会发生这种情况。

这是一个例子：

```
<!DOCTYPE html>
<html>
<head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <style>
    h1     { position: fixed; }
    body   { height: 2000px; }
    canvas { position: fixed; z-index: -10; }
  </style>
</head>
<body>
  <h1>Test Title</h1>
  <canvas id="backgroundCanvas" width="956" height="256"></canvas>
  <script>
  // draw basic shape
  (function() {
    var c = document.getElementById("backgroundCanvas");
    var ctx = c.getContext("2d");

    ctx.beginPath();
    ctx.moveTo(0,100);
    ctx.lineTo(0,0);
    ctx.lineTo(100,0);
    ctx.lineTo(1000,1000);
    ctx.fillStyle = "rgb(117, 164, 68)";
    ctx.fill();
    ctx.closePath();
  })();
  </script>
</body>
</html> 
```

如果您将其粘贴到 html 文档中并在 Chrome 中打开它，您应该会明白我的意思。

我的问题是，有人知道我可以解决这个问题的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T14:51:50.600

我在 Chrome 27/winXP 中测试了相同的小提琴，它的行为与您描述的完全一样；它看起来像 chrome 或 webkit for windows 中的一个错误，我早期使用 chrome 23/linux 进行了测试，它工作正常。

我通过使用固定 div 扭曲 h1 和画布找到了一个 workarround [jsfiddle](http://jsfiddle.net/gmvL7/3/)：

```
<div id='fixedContainter'>
    <h1>Test Title</h1>
    <canvas id="backgroundCanvas" width="956" height="256"></canvas>
</div> 
```

如果您的意图是使其成为*背景*，则该 div 还应该具有 z-index:-10 。

CSS：

```
#fixedContainter{position: fixed; z-index: -10; }
h1{position: fixed;}
body{height: 2000px; }
canvas{ position: fixed; z-index: -10; } 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-01T12:11:52.807

我在 Win8 上的 Chrome 中遇到了这个问题，使画布和兄弟位置：固定并没有帮助我。我发现我在画布 DIV 上有负 z-index。当我重新排列我的代码并使 z-index 为正时，画布停止闪烁我的叠加 DIV

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-13T17:06:50.373

我对负 z-indexes 也有同样的问题，如果可以的话，一个简单的解决方法是将 html 元素 overflow-y 设置为 auto。

```
html{
    overflow-y: auto;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-12T19:40:48.887

```
* {
z-index: inherit;
} 
```

为我工作。

# hadoop - 如何在 PigLatin 中放置带引号字符串的参数？

> ID：13857526
> 
> 赞同：1
> 
> 时间：2012-12-13T10:11:47.600
> 
> 标签：hadoop, bigdata, apache-pig

我的 PigLatin 有问题

我有一段 Pig 代码，它将调用一个带引号的字符串

```
data = LOAD '$data' AS (...);
a = some_macro(data,'-9999 AS KEY'); 
```

宏是这样的：

```
DEFINE some_macro(data, string) RETURNS results {
    grp = GROUP $data ALL;
    $result = FOREACH grp {
        //...logic and logics
        GENERATE $string, //...other fields
        ...;
    }
} 
```

对于字符串“-9999 AS KEY”，Pig 0.10 似乎不能工作，然后我尝试“'-9999' AS KEY”，它不能再次工作。

那么有人有解决方案吗？我只想要一个灵活的 KEY 名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T11:57:27.390

请尝试`GENERATE '$string', //...other logic`，即`$string`用单引号括起来。我只能用 pig 0.9.1 进行测试，但它对我有用。

`some_macro(data,'-9999 AS KEY');`用简单的引号是正确的。

但是，这不适用于字符串中的单引号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T15:15:45.020

如果你想传递一个带引号的字符串，首先按照 Fred 的描述修改你的脚本，并在传递参数时使用引号的 Unicode 等效项，例如：

```
a = some_macro(data,'\\u0022-9999 AS KEY\\u0022'); // "-9999 AS KEY" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-17T06:57:56.083

好吧，我放弃了，Pig 解析器引擎不能接受单个配额或宏中的减号“-”。

我有一个解决方案，使用驱动程序代码替换猪文件中的一些存根。

实际上猪应该这样做，但我不知道为什么它不在宏中。

# mysql - 在mysql上选择查询以根据条件从单个表中选择值

> ID：13857530
> 
> 赞同：1
> 
> 时间：2012-12-13T10:11:58.347
> 
> 标签：mysql, sql

我有一个结构的 sql 表

```
CREATE TABLE IF NOT EXISTS `engine4_user_fields_values` (
  `item_id` int(11) unsigned NOT NULL,
  `field_id` int(11) unsigned NOT NULL,
  `value` text COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`item_id`,`field_id`,`index`)
) 
```

我想选择 field_id ='17' AND value IN(5,8,7)+field_id ='20' AND values IN(73,76) 的行

我无法像下面给出的那样选择它，因为如果 field_id 是 17，它不会是 20！

```
SELECT * FROM `engine4_user_fields_values` WHERE (field_id ='17' AND value IN(5,8,7)) AND (field_id ='20' AND value IN(73,76)) 
```

如果我们使用 OR 那么它将选择满足任何条件的值。

我们应该使用 join 吗？我不确定代码！任何人请帮我获取选择查询

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:13:44.747

从您的描述看来，您应该将中间的 AND 更改为 OR。您想要返回匹配第一个条件或第二个条件的所有行。字段 ID 不能为 17 和 20。

```
SELECT * FROM `engine4_user_fields_values` WHERE (field_id ='17' AND value IN(5,8,7)) OR (field_id ='20' AND value IN(73,76)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:16:57.667

您可以`group by`item 并使用`having`子句来要求 item 具有匹配两个条件的行：

```
select  item_id
from    engine4_user_fields_values
group by
        item_id
having  max(case when field_id ='17' and value in (5,8,7) then 1 end) = 1
        and max(case when field_id ='20' and value in (73,76) then 1 end) = 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:15:26.637

您应该使用 OR，但在两个子条件之间：

```
SELECT * 
FROM `engine4_user_fields_values` 
WHERE (field_id ='17' AND value IN(5,8,7))
OR (field_id ='20' AND value IN(73,76)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:18:21.510

您正在使用 + for field_id ='17' AND value IN(5,8,7)+field_id ='20' AND values IN(73,76)
所以从技术上讲不可能有 field_id ='17' AND field_id = '20' 同时
你需要使用 OR 而不是 AND 如下

```
SELECT * FROM `engine4_user_fields_values` WHERE (field_id ='17' AND value IN(5,8,7)) OR (field_id ='20' AND value IN(73,76)) 
```

# php - php 一行回显 string1 或 string2

> ID：13857534
> 
> 赞同：-4
> 
> 时间：2012-12-13T10:12:13.293
> 
> 标签：php, html, string, random, echo

这是当前代码

```
<a href="<?='http://help.mysite.com/' or 'http://help.mysite.net/';?>">Help</a> 
```

如何打印有两种选择的服务器 url？

谷歌搜索但没有看到！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:27:09.233

之前有类似的帖子，你可以检查一下：

[在 Jquery/Javascript 中检查 URL](https://stackoverflow.com/questions/4301968/checking-a-url-in-jquery-javascript)

这里对 URL 进行 ajax 调用，如果 URL 不存在，则调用与错误块相关的函数，您可以调用函数，该函数将使用下一个可用 URL 并再次尝试 ajax 调用。

您可以这样循环，直到您没有任何 URL 或找到其中一个 URL，在此期间将调用与成功块关联的函数。

# 3d - 3d注册步骤中artoolkit的arGetTransMatSub()函数的一些疑惑

> ID：13857535
> 
> 赞同：2
> 
> 时间：2012-12-13T10:12:13.353
> 
> 标签：3d, registration, artoolkit, dimensional

我正在学习artoolkit代码，但是遇到了一些困难，花了我两个多星期的时间，尤其是在三维注册部分，我不太了解arGetTransMatSub()这个函数，尤其是里面的算法和变量。我看过一些关于artoolkit三维注册的文档，但是我不能把那些理论和代码结合起来，下面是我的一些问题：
1\. ArParamIdeal2Observ()的功能是翻译标记中的坐标吗？理想屏幕坐标系到观察屏幕坐标系？
2.在for循环块中，wx,wy,wz是表示marker在相机坐标系中的坐标吗？
3.mat_b、mat_c、mat_d、mat_e分别代表什么？
我真的很想掌握这些，感谢您的帮助。

下面是来自 arGetTransMatSub() 函数的一些代码。

```
if( arFittingMode == AR_FITTING_TO_INPUT ) 
{
    for( i = 0; i < num; i++ ) 
    {
        arParamIdeal2Observ(dist_factor, ppos2d[i][0], ppos2d[i][1],
                                         &pos2d[i][0], &pos2d[i][1]);
    }
}
else
{
    for( i = 0; i < num; i++ ) 
    {
        pos2d[i][0] = ppos2d[i][0];
        pos2d[i][1] = ppos2d[i][1];
    }
}

for( j = 0; j < num; j++ ) 
{
    wx = rot[0][0] * pos3d[j][0]
       + rot[0][1] * pos3d[j][1]
       + rot[0][2] * pos3d[j][2];
    wy = rot[1][0] * pos3d[j][0]
       + rot[1][1] * pos3d[j][1]
       + rot[1][2] * pos3d[j][2];
    wz = rot[2][0] * pos3d[j][0]
       + rot[2][1] * pos3d[j][1]
       + rot[2][2] * pos3d[j][2];
    mat_a->m[j*6+0] = mat_b->m[num*0+j*2] = cpara[0][0];
    mat_a->m[j*6+1] = mat_b->m[num*2+j*2] = cpara[0][1];
    mat_a->m[j*6+2] = mat_b->m[num*4+j*2] = cpara[0][2] - pos2d[j][0];
    mat_c->m[j*2+0] = wz * pos2d[j][0]
           - cpara[0][0]*wx - cpara[0][1]*wy - cpara[0][2]*wz;
    mat_a->m[j*6+3] = mat_b->m[num*0+j*2+1] = 0.0;
    mat_a->m[j*6+4] = mat_b->m[num*2+j*2+1] = cpara[1][1];
    mat_a->m[j*6+5] = mat_b->m[num*4+j*2+1] = cpara[1][2] - pos2d[j][1];
    mat_c->m[j*2+1] = wz * pos2d[j][1]
          - cpara[1][1]*wy - cpara[1][2]*wz;
}
arMatrixMul( mat_d, mat_b, mat_a );
arMatrixMul( mat_e, mat_b, mat_c );
arMatrixSelfInv( mat_d );
arMatrixMul( mat_f, mat_d, mat_e );
trans[0] = mat_f->m[0];
trans[1] = mat_f->m[1];
trans[2] = mat_f->m[2];

ret = arModifyMatrix( rot, trans, cpara, pos3d, pos2d, num ); 
```

# php - "之前的 .php 文件中的换行符 如果我把解决这个问题所需的人力资源加起来，我们需要两天时间。由于某种原因，在我的 Mac 机器上代码停止工作，而在 Windows 机器上一切运行完美。 很难确定是出了什么问题，因为错误消息没有给我们任何线索，而是将我们指向了几个错误的方向，比如发送错误的 http 标头之类的。

> ID：13857541
> 
> 赞同：0
> 
> 时间：2012-12-13T10:12:43.683
> 
> 标签：php, macos

如果我把解决这个问题所需的人力资源加起来，我们需要两天时间。由于某种原因，在我的 Mac 机器上代码停止工作，而在 Windows 机器上一切运行完美。

很难确定是出了什么问题，因为错误消息没有给我们任何线索，而是将我们指向了几个错误的方向，比如发送错误的 http 标头之类的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:12:43.683

解决方案很简单，我们只是通过逐行比较 svn 历史记录中的一些文件来找出它。

`"<?php>"`破坏整个系统之前的简单断线。我真的不知道这怎么可能。通常 php 解析器应该忽略这个。

我不得不听我的同事两天对 Mac 的抨击，这真的很糟糕......

# javascript - 从 Jquery Datepicker 获取日期

> ID：13857542
> 
> 赞同：0
> 
> 时间：2012-12-13T10:12:44.307
> 
> 标签：javascript, jquery, datepicker

我通过以下方式使用 datepicker 有一个小的 javascript 函数：

```
function sanchobonanzaandtheballisticballcrunch()
{
    $( "#datepicker" ).datepicker();
    var currentDate = $( "#datepicker" ).datepicker( "getDate" );
} 
```

使用此 HTML 按钮从我的 .php 文件中调用它：

```
<button onclick="sanchobonanzaandtheballisticballcrunch();">Click here for DATE</button> 
```

但是由于我对 Javascript 的理解还很初步，我无法弄清楚如何将这个日期信息（可能在将其从日期对象重新转换为字符串之后）检索到调用文件并将其存储在一个变量中。我也不确定 currentDate 的值是否会在选择新日期时更新，或者是否仅在按下 HTML 按钮时发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T12:14:43.220

试试这个：

```
function sanchobonanzaandtheballisticballcrunch()
{
    $( "#datepicker" ).datepicker();
    var currentDate = $( "#datepicker" ).val();
} 
```

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:18:49.367

试试这个

```
var currentDate = document.getElementById('datepicker').value; 
```

* * *

编辑：

所以，为那个 div 写一个 onclick 事件

[在这里](http://jsfiddle.net/9UyXn/)检查小提琴

# javascript - Jquery HTML CSS Slider问题

> ID：13857544
> 
> 赞同：0
> 
> 时间：2012-12-13T10:12:48.380
> 
> 标签：javascript, jquery, html, css

我正在尝试使用该站点的演示： http: [//slidesjs.com/#overview](http://slidesjs.com/#overview) 并尝试在页面上实现两个滑块。我正在自定义链接演示。由于我使用了两个不同的滑块：具有不同 css 的滑块 1 和滑块 2，因此我将 global.css 用于滑块 1，并为滑块 2 创建了 text.css。

我注意到该`js: slides.min.jquery.js`文件将元素用于诸如, ,之`css`类的类 。所以我创建了另一个 替换 css 内容的方法： , , 。但代码不起作用。请帮助我，因为我的项目将于下周一到期。`slides_container``next``prev``js :slider.text.jquery.js``slides_containerT``nextT``prevT``text.css`

您能否建议我如何修改`slides.min.jquery.js`.css`global`和`text.css`元素来创建分页。

干杯，帕姆

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:34:49.777

您可以在一页中定义多张幻灯片，而无需`slider.text.jquery.js`像您创建的那样创建文件。并根据 . 制作您的第二个滑块样式`#slider2`。

```
$(function(){
    $('#slider1').slides({
        generateNextPrev: true,
        play: 2500
    });
    $('#slider2').slides({
        generateNextPrev: true,
        play: 4500
    });
}); 
```

# php - $_GET 和 $_POST 不能在同一个 PHP 文件上工作 + 我不能将同一个文件中的值与另一个文件中的值一起使用（高级搜索）

> ID：13857545
> 
> 赞同：0
> 
> 时间：2012-12-13T10:12:48.757
> 
> 标签：php, mysql, web, advanced-search

我正在开发一个有搜索引擎的网站。

假设我们在 index.html 中，它具有以下搜索形式：

```
<form  method ="post" name="search" action="search.php?go">
<input accesskey="s" type="text" size="20px" name="find" id="fastsearch" alt= "search"     value="search..." /> 

<input type="hidden" name="searching" value="yes" />
<input id="searchicon" type="submit" value="" style="border-style: none; background:     url('searchsmall.png') no-repeat;"/>

</form> 
```

然后我有这个下面的search.php，除了它下面的高级搜索之外，它还有结果。

这是结果部分：

```
 $searching = $_POST['searching'];
$find = $_POST['find'];
if ($searching =="yes") { 
    echo "<h2>Results</h2><p>"; 
        if ($find == "") 
        { 
            echo "<p>You forgot to enter a search term"; 
            exit; 
        } 

    //Connect to mysql server
    $con = mysql_connect($DB_HOST, $DB_USER, $DB_PASSWORD);
    if(!$con) {
    die('Failed to connect to server: ' . mysql_error());
    }

    //Select database
    $db = mysql_select_db($DB_DATABASE);
    if(!$db) {
    die("Unable to select database");
    }

    $find = strtoupper($find); 
    $find = strip_tags($find); 
    $find = trim ($find); 
    $date = $_POST['date'];
    $category = $_POST['category'];
    $data ="SELECT * FROM event WHERE upper(title) LIKE'%".$find."%'OR date     LIKE '%".$date."%' OR upper(category_id) LIKE ".$category." ORDER BY date;" ;

    $result=mysql_query($data );

if($result) {
        while($info = mysql_fetch_array( $result )) 
        { 
        echo "<a href=' ".$info['url']." '> ".$info['title']." </a><br/>";
        echo "<br>"; 

        } 
    }
    else 
    { 
    echo "Sorry, but we can not find an entry to match your query<br><br>"; 
    echo "<b>Searched For:</b> " .$find; 
    } 

} 
```

最后是高级搜索部分：

```
<form method ="post" name="search" action="<?=$PHP_SELF?>" style="margin-top: 20px;">
<div class="blockbody" style="width: 700px;">

<h3 class="blocksubhead">Advanced search </h3>
<div class="section">
<!--<div class="blockrow">
<label for="keyword">Search by title: </label>
<input type="text" name="keyword" name="find" >
</div >-->
<div class="blockrow">
<label for="category"> Category </label>
<select name="category">

<option VALUE="CONFERENCE"> Conference </option>
<option VALUE="WORKSHOP"> Workshop </option>
<option VALUE="ACTIVITY"> Activity </option>
</select>
</div>

<div class="blockrow">
<label for="date">Search by date </label>
<input type="date" name="date">
</div>
</div>
<div class="actionbuttons">

<input type="submit" name="search" value="Search" />
</div>
</div>
</div>
</form> 
```

我的问题是，我怎样才能让 php 文件从它自己的文件和另一个以它的形式发送的文件中获取变量。我尝试将 post 用于索引中的那个并用于高级搜索中的那些，但是将 post 和 get 放在同一个文件中是不正确的。当我让它们都得到时。发生了一个错误，说变量（查找、搜索、日期、类别）被点头声明了？：/

请注意： *Find 是 index.html 中的搜索词 *searching 只是一个检查他是否使用搜索的值，也在 index.html 中

*date 用于在同一 search.php 文件中输入日期，在高级搜索 *category 用于选择值，它取决于选项。也在 search.php

顺便说一句，这是我开发的第一个网站，如果我提供了太多信息和代码，我很抱歉，但我不知道我的问题到底出在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:22:11.073

如果您想通过 GET 获取它们，则必须使用以下命令获取它们`$_GET["paramName"]`：

```
$searching = $_GET['searching'];
$find = $_GET['find'];
$date = $_GET['date'];
$category = $_GET['category']; 
```

表格应使用以下方式发送`GET`：

```
<form method ="get" name="search" action="<?=$PHP_SELF?>" style="margin-top: 20px;"> 
```

如果要使用`POST`，请使用`POST`代码中的方法。

无论如何，如果您愿意，您可以随时使用这两种方法。`action`您可以在表单的属性上传递一些变量，然后通过`POST`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:16:53.737

不确定我是否理解这个问题，但不是`$_REQUEST`你想要的吗？

# combobox - 具有预定义设置值的 ZK Comboobox

> ID：13857549
> 
> 赞同：0
> 
> 时间：2012-12-13T10:13:06.633
> 
> 标签：combobox, zk

我想在 ZK 中创建一个包含 2 个项目的简单组合框：真和假。组合框应将 true 项作为默认设置值。虽然看起来很简单，但我还没有找到一个在线资源来解释这样一个简单的组件。

代码如下所示：

```
<combobox id="validateVoucher" hflex="2">
    <comboitem id="true" label="True"/>
    <comboitem id="false" label="False"/>
</combobox> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-21T13:02:18.953

测试如下：

```
<combobox id="validateVoucher" hflex="2" value="True">
    <comboitem label="True" value="true" />
    <comboitem label="False" value="false" />
</combobox> 
```

这里有几点需要注意。首先也是最重要的是，它`true`不是`false`有效的 ID。如果你使用 ZKStudio，它会给你一个警告

> 令牌“true”的语法错误，无效的 VariableDeclaratorId

一切仍然按预期工作，出乎意料，但不应忽视警告。

如果您打算将其设置`id`为存储一些有用的“数据”以供以后检索，那么正确的方法是使用该`value`字段。这与 HTML 中的相同，请阅读有关 HTML`select`标记的更多信息以获取最佳实践。

最后，正如 Prabhat 所建议的，您可以通过`value`在`combobox`. 请注意， 中的`value`字段`combobox` **不会**映射到 上的`value`字段`comboitem`。

您实际上在这里所做的是设置 的默认显示值`combobox`，然后 ZK 会将其映射到`label`其中一个`comboitem`s 上的 a 。为了更好地理解这一点，请考虑是否将 的 设置`value`为`combobox`“gobbledigook”。将`combobox`使用该文本呈现，但当您展开下拉菜单时，不会预先选择“真”或“假”。

**额外2美分：**

如果您只希望用户能够选择“真”或“假”，`readonly=true`请在`combobox`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T12:15:06.500

像这样使用它：

```
<combobox id="validateVoucher" value="True" hflex="2">
    <comboitem id="true" label="True"/>
    <comboitem id="false" label="False"/>
</combobox> 
```

请发表评论它有效吗？

# cordova - 手机文件上传器

> ID：13857553
> 
> 赞同：2
> 
> 时间：2012-12-13T10:13:16.057
> 
> 标签：cordova, jquery-mobile, file-upload

我正在 jquery mobile 和 phonegap 中编写一个小型应用程序，以将文件（doc、pdf 或 txt 而不是图像）从卡上传到服务器。

我可以使用上传的图片

```
navigator.camera.getPicture() 
```

哪个触发画廊，我可以选择图像并上传。

但在不同的地方我需要上传 doc、pdf 或 txt 文件，我希望我能以某种方式触发文件浏览器并从那里选择文件。

任何帮助都感激不尽。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:24:20.373

[FileTransfer](http://docs.phonegap.com/en/2.2.0/cordova_file_file.md.html#FileTransfer) is an object that allows you to upload files to a server or download files from a server.

Use in conjunction with [FileSystem](http://docs.phonegap.com/en/2.2.0/cordova_file_file.md.html#FileSystem), or play around with `mediaType: navigator.camera.MediaType.ALLMEDIA` option of [`getPicture`](http://docs.phonegap.com/en/2.2.0/cordova_camera_camera.md.html#cameraOptions) perhaps.

# java - 使用 GregorianCalendar 自定义日期格式

> ID：13857555
> 
> 赞同：2
> 
> 时间：2012-12-13T10:13:19.693
> 
> 标签：java, date, gregorian-calendar

我需要解析自定义定义的日期格式，该格式在我需要通信的设备中定义，其中日期以从 2000 年开始计算的秒数给出。

我试图用来`GregorianCalendar`解析这些数据，这是我试过的代码：

```
 GregorianCalendar calendar = new GregorianCalendar();
    calendar.setGregorianChange(new Date(2000 - 1900, 0, 1)); 
```

该`Date`对象对应于 2000 年 1 月 1 日。我认为有了这个我`setTimeInMillis`可以得到正确的日期乘以我读到的时间`1000`，因为它是以秒而不是以毫秒为单位计算的`GregorianCalendar`，但它不起作用。我试过`setTimeInMillis(0)`了，等待对应的时间对应于`calendar`2000 年 1 月 1 日，但它没有，它对应于 1969 年 12 月 18 日。

我怎样才能配置`GregorianCalendar`，所以我可以`setTimeInMillis(0)`，它对应于 2000 年 1 月 1 日？如果不可能，我可以使用任何其他类来代替自己创建所有代码吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:19:16.903

创建一个日期为 2000/01/01 并以毫秒为单位获取时间，然后从您的设备获取以毫秒为单位的时间。将两者相加，并根据您的心愿创建日期和日历...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T11:31:38.390

`setGregorianChange`只会改变从儒略到格里高利的转换发生的时间点。它默认为正确的历史值。

但是由于几乎所有其他人都在使用预测公历，所以这个函数有一个有效的用例：

```
setGregorianChange(new Date(Long.MIN_VALUE)) //Julian never happened 
```

这也是 JodaTime 默认使用的。

无论如何，您可以`946684800000L`从正常的毫秒 unix 时间戳中减去，然后除以 1000：

```
public static long secondsSince2000(Date input) {
    final long epoch = 946684800000L;
    return (input.getTime() - epoch) / 1000L;
} 
```

从 2000 年以来的秒数转换：

```
public static Calendar fromSecondsSince2000( long seconds ) {
    final long epoch = 946684800000L;
    Calendar cal = GregorianCalendar.getInstance();
    long timestamp = epoch + seconds * 1000L;
    cal.setTime(new Date(timestamp));
    return cal;
} 
```

要查看两者都在工作：

```
 long sec = secondsSince2000(new Date());
    Calendar cal = fromSecondsSince2000( sec );
    System.out.println(cal.getTime().toString().equals(new Date().toString())); 
```

他们应该打印`true`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:24:06.397

您正在使用不推荐使用的构造函数`Date`。此外，您使用它的方式错误。

它应该是 GregorianCalendar(year + 1900, month, date)。根据[Oracle 文档](http://docs.oracle.com/javase/6/docs/api/java/util/Date.html)

顺便说一句，为什么不使用[JodaTime](http://joda-time.sourceforge.net/)？然后你会得到很多方便的东西：

```
DateTime dt = new DateTime(year, monthOfYear, dayOfMonth, hourOfDay, minuteOfHour); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:23:05.050

您要做的是更改 Epoch，默认为 2000/01/01（Unix 时间戳）。所以你想要的只是一种以 2000/01/01 作为 Epoch 的 Unix 时间戳。

我会以 2000/01/01 的毫秒为单位获取 unix 时间戳，并将其保存为常量。现在，子类 GregorianCalendar 以便您可以从输入数据中添加这些毫秒并返回正确的日期。

也许你也可以看看[JSR-310](http://jcp.org/en/jsr/detail?id=310)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:36:02.687

这会做

```
Calendar cal = Calendar.getInstance(TimeZone.getTimeZone("America/Los_Angeles")); // change the timezone as you wish
cal.set(Calendar.YEAR, 2000);
cal.set(Calendar.MONTH, 0);
cal.set(Calendar.DATE, 1);   
cal.set(Calendar.HOUR, 00);
cal.set(Calendar.MINUTE, 00);
cal.set(Calendar.SECOND, 00);
cal.set(Calendar.MILLISECOND, 00);

cal.add(Calendar.MILLISECOND, 1000); // calculate and add your millisec here where 1000 is added 
```

# iphone - ios 设置UIScrollView的原点位置

> ID：13857556
> 
> 赞同：1
> 
> 时间：2012-12-13T10:13:24.590
> 
> 标签：iphone, ios, uiscrollview

众所周知，默认情况下，视图的原点位于 iPhone 屏幕的左上角。我正在尝试做一些非常简单但没有运气的事情来改变它！我想将我的 UIScrollView 的原点设置为左下角（以编程方式 ofc）。我希望避免转换（如果需要）......有没有一种简单的方法可以做到这一点？

感谢你的帮助 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T14:15:03.390

```
[self.scrollView setFrame:CGRectMake(0,self.view.frame.size.height,self.view.frame.size.width, -self.view.frame.size.height]; 
```

我不确定您在寻找什么，但上面的行会将滚动视图的原点设置在左下方，但如果您正在寻找，滚动视图仍将在整个视图中可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-14T15:48:10.030

我假设您想要制作一个适合视图左下角的滚动视图。

你可以这样做。假设您的滚动视图的大小为 100x100。

```
UIScrollView* sc = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 360, 100, 100)];
    [self.view addSubview:sc]; 
```

该滚动视图的左下角与您的视图具有相同的点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-11T11:48:20.737

尝试这个：

您可以通过将其他位置保留为默认值来更改任何一个位置

1.修改前

```
UIScrollView *mainScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0,0,320,500)]; 
```

2.如果需要修改任何一个

```
UIScrollView *mainScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(10,self.view.frame.origin.y,self.view.frame.size.width,self.view.frame.size.height)];

// or

UIScrollView *mainScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(self.view.frame.origin.x,10,self.view.frame.size.width,self.view.frame.size.height)];

//or

UIScrollView *mainScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(self.view.frame.origin.x,self.view.frame.origin.y,320,self.view.frame.size.height)];

//or

UIScrollView *mainScrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(self.view.frame.origin.x,self.view.frame.origin.y,self.view.frame.size.width,500)]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-05T23:56:17.927

`self.scrollView`财产`contentOffset`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:29:04.677

此类别将为您提供一个方便的属性，可用于通过其左下方原点操作 UIView：

```
@interface UIView (LowerLeftOrigin)

@property (nonatomic, assign) CGPoint lowerLeftOrigin;

@end

@implementation UIView (LowerLeftOrigin)

- (void) setLowerLeftOrigin:(CGPoint)lowerLeftOrigin
{
    self.frame = CGRectMake(lowerLeftOrigin.x, 
                            lowerLeftOrigin.y - self.bounds.size.height, 
                            self.bounds.size.width, self.bounds.size.height);
}

- (CGPoint) lowerLeftOrigin
{
    return CGPointMake(self.frame.origin.x,
                       self.frame.origin.y + self.bounds.size.height);
}

@end 
```

# c# - 使用 EPPlus 和 Linq 从 excel 中获取单元格值

> ID：13857559
> 
> 赞同：2
> 
> 时间：2012-12-13T10:13:30.703
> 
> 标签：c#, linq, epplus

是否可以使用 EPPlus 和 Linq 从 excel 表中获取单元格值？例子：

我有一个 3 列的 excel 表

```
Column 1 = Userid
Column 2 = Email address
Column 3 = Full name 
```

现在我想返回userid **= x的****电子邮件地址**

 **我希望现在更清楚了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T16:58:20.033

不确定您要做什么，这是从单元格获取值的示例：

```
 excelPackage.Workbook.Worksheets
                .FirstOrDefault(w => w.Name == "Your Worksheet Name")
                .Cells.FirstOrDefault(c => c.Address == "Your Cell Address").Value; 
```

只要确保您使用的是 System.Linq 命名空间

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-14T08:41:47.903

假设`Column 1`是`a`，`Column 2`是`b`：

```
var sheet = excelPackage.Workbook.Worksheets[sheetname_orSheetIndex];
var objs = from cell in sheet.Cells["a:a"]        // a:a is the column a, Userid
           where cell.Value.ToString().Equals(x)  // x is the input userid
           select sheet.Cells[cell.Start.Row, 2]; // 2 is column b, Email Address 
```

它会起作用的！已编辑：它将返回 ExcelRange 的集合。**

# android - 如何从 Android 中的 LogCat 中查找错误？

> ID：13857560
> 
> 赞同：1
> 
> 时间：2012-12-13T10:13:32.923
> 
> 标签：android, logcat

从 LogCat 中查找错误的方法或提示。如何从 Logcat 中查找和解决错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:20:14.737

我尝试解释从不同帖子中获取的 logcat 输出的一个非常基本的示例：

```
12-13 12:41:57.052: W/System.err(542): org.json.JSONException: No value for TAG_CONTACTS
12-13 12:41:57.052: W/System.err(542):  at org.json.JSONObject.get(JSONObject.java:354)
12-13 12:41:57.052: W/System.err(542):  at org.json.JSONObject.getJSONArray(JSONObject.java:544)
12-13 12:41:57.052: W/System.err(542):  at com.androidhive.jsonparsing.AndroidJSONParsingActivity.onCreate(AndroidJSONParsingActivity.java:56)
12-13 12:41:57.063: W/System.err(542):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
12-13 12:41:57.063: W/System.err(542):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
12-13 12:41:57.063: W/System.err(542):  at android.os.Handler.dispatchMessage(Handler.java:99)
12-13 12:41:57.072: W/System.err(542):  at android.os.Looper.loop(Looper.java:123)
12-13 12:41:57.072: W/System.err(542):  at android.app.ActivityThread.main(ActivityThread.java:3683)
12-13 12:41:57.072: W/System.err(542):  at java.lang.reflect.Method.invokeNative(Native Method)
12-13 12:41:57.072: W/System.err(542):  at java.lang.reflect.Method.invoke(Method.java:507)
12-13 12:41:57.072: W/System.err(542):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839) 
```

从第一行可以看出，异常是“JSONException”，因为“TAG_CONTACTS 没有值”。从第 4 行您可以看到，它发生在第 56 行的“AndroidJSONParsingActivity”中。现在，当您知道异常是什么以及它发生在哪里时，您应该能够解决它！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-01-23T21:47:27.397

在 LogCat 中，您会发现在所有这些运行时错误中，文本属性下都有一个标记“Caused by”。您将单击该错误的下一行，它将指向发生该错误的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:15:55.517

在 Android Studio 中，您将看到 Logcat in Bottom 切换到错误，您必须阅读所有红色消息。这些是错误

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-09-06T13:01:29.713

我喜欢这种方法：

```
adb logcat -s System.err 
```

# android - 如何自动构建“精简版”版本

> ID：13857561
> 
> 赞同：2
> 
> 时间：2012-12-13T10:13:36.870
> 
> 标签：android, android-build, android-drawable

我制作了一个应用程序，该应用程序包含大量不同按钮的图形。每个按钮的所有图形都以`drawable-xhdpi`、`drawable-hdpi`和`drawable-mdpi`的比例复制`drawable-ldpi`。

前两个目录中的图形量约为 3.5MB，而应用程序总共约为 7.5MB。

显然，要求拥有低端智能手机的人下载并用完全无用的 3.5MB 图形填充他们的内存是很疯狂的，所以我决定`lite`为这些人制作一个“ ”版本。

我想要一个常数，比如

```
 static final boolean LITE_BUILD = true; 
```

这样当我将其设置为 true 时，构建会自动排除`xhdpi`和`hdpi`图形。

现在我唯一的解决方案是手动移走这两个目录，构建精简版，放回目录并构建完整版本。显然这不是最优的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:41:18.817

您是否在 Linux 上构建您的应用程序？在这里，您可以创建项目目录的多个变体，同时将符号链接设置到您需要的目录 - 并为应用程序的低分辨率变体省略具有高分辨率图像的目录。这样，您可以使用一个代码库工作，同时创建应用程序的多个变体非常容易。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:28:32.203

好吧，由于您放在这些文件夹中的所有可绘制对象都是不变的，我认为构建相同的应用程序两次，而在精简版中它只有低 dpi 图像，将是唯一的解决方案。

如果您担心人们为他们的手机下载正确的应用程序（完整或精简版），您可以在应用程序中标记它支持的手机屏幕尺寸。

所以低 dpi 手机只会看到精简版，而其他手机会看到完整版（我认为它是这样工作的）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:42:02.720

您使用的是健全的版本控制系统，对吗？然后在你的 vcs 中为不同的分辨率构建添加不同的分支。

在公共基础分支（主干/主分支？）中执行公共功能并将这些更改合并到单独的解析分支。仅将依赖于分辨率的可绘制对象添加到相关分支以及对清单的修改。

现在，当你想为 ldpi 构建一个版本时，更改到 lpdi 分支，确保对基础分支的更改被合并并正常构建 apk。瞧，你有一个 lpdi-build。

# php - 在分页中突出显示当前页面？

> ID：13857563
> 
> 赞同：0
> 
> 时间：2012-12-13T10:13:44.653
> 
> 标签：php, css, pagination

我看过这么多教程，但它没有用。我从过去 3 天开始尝试这个东西，最后我需要你们帮助我。我是 php 的初学者，所以请逐步解释。百thanx在先进......

这是我的CSS代码：

```
div.pagination 
{

width:625px;
clear:both;
padding:10px 0 10px 0;
margin:0px;
text-align:center;
float:left;
clear:both;
font-size:11px;

}

div.pagination a 
{

padding: 2px 5px 2px 5px;
margin-right: 2px;
border: 1px solid #52bfea;
text-decoration: none; 
color: #52bfea;

}
 div.pagination a.current

{
padding: 2px 5px 2px 5px;
margin-right: 2px;
border: 1px solid #52bfea;
font-weight: bold;
background-color: #52bfea;
color: #FFF;

}

div.pagination a:hover, div.pagination a:active

{
border:1px solid #52bfea;
color: #fff;
background-color: #52bfea;
} 
```

这是我的php代码：

```
<div class="pagination">
<?php
if($pagination->total_pages() > 1)
{
?>  
<?php
if($pagination->has_previous_page())
{
?>
<a href="index.php?page=<?php echo $pagination->previous_page();?>"><< prev</a>
<?php
}
?>
<?php
for($i=1; $i <= $pagination->total_pages(); $i++)
{ 
$class = ($i==isset($_GET['page']))? 'current' : '';
?>
 <a class='<?php echo $class?>' href="test.php?page=<?php echo $i; ?>"><?php echo $i?></a> 
<?php
 }
?>
<?php
 if($pagination->has_next_page())
 {
 ?>
 <a href="index.php?page=<?php echo $pagination->next_page();?>"> next >></a>
 <?php
 }
 ?>
 <?php
 }
 ?> 
 </div> 
  </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-14T18:04:06.633

问题现在终于完全解决了。但默认情况下选择了第 1 页。

```
 $pg_no = empty($_GET['page'])? '1' : $_GET['page'] ;
 $class = ($i==$pg_no)? 'current' : ''; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:32:58.347

替换这个

```
$class = ($i==isset($_GET['page']))? 'current' : ''; 
```

和

```
$class = ($i==isset($_GET['page']) ? $_GET['page'] : 1)? 'current' : ''; 
```

# ruby-on-rails - ruby on rails：为什么每个新模型协会都没有迁移？

> ID：13857568
> 
> 赞同：1
> 
> 时间：2012-12-13T10:13:47.617
> 
> 标签：ruby-on-rails, model, database-schema

我的理解是表之间的关系是通过外键实现的。但是当您添加模型之间的关联（belongs_to 等）时，数据库架构没有变化。这是为什么？Rails 如何真正知道存在关联或关系？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:19:58.983

这里的技巧是，belongs_to、has_one、has_many 仅在适当的键已经在数据库中时才有效。

键通常是`<model>_id`.

因此，post 和 blog 之间的 belongs_to 关系要求您在您必须使用关系创建的 posts 表中有一个 blog_id。

博客和帖子之间的 has_many 也是如此。

```
class Blog < ActiveRecord::Base
  has_many :posts
end 
```

`blog_id`需要在帖子表中创建外键的迁移。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:24:51.827

Rails 将通过仅在模型中提及这些关系来识别所有表之间的关联，但不仅限于外键。如果您不遵循外键的命名约定，即使您在模型中提及关系，rails 也会丢失表之间的关系。然后你必须明确地告诉foreign_key和类名。

```
class Article < ActiveRecord::Base
 has_many :comments
end 
```

```
class Comment < ActiveRecord::Base
 belongs_to :article
end 
```

在注释表中，您必须维护`article_id`连同它自己的字段。
然后 rails 会自动假定`article_id`为`foriegn_key`.
如果你写别的东西（例如：）`art_id`，`article_id`你必须告诉：

```
class Comment < ActiveRecord::Base
 belongs_to :article, :class_name=>"Article", :foreign_key=>:art_id
end 
```

# python - python list to dict 怪异

> ID：13857570
> 
> 赞同：-2
> 
> 时间：2012-12-13T10:13:52.970
> 
> 标签：python, list, dictionary, zip

我的 python 代码有点复杂。

```
print len(list1)
print len(list2)
dikt = dict(zip(list1,list2))
print len(dikt) 
```

给出：

```
>> 95
>> 95 
>> 26 
```

为什么dikt给我的值是26而不是95，可以补充一下，列表中的元素不一样。我一无所知。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:15:35.733

您可能在`list1`. A`dict`不能有重复的键。

```
>>> list1 = [1, 1, 2]
>>> list2 = ['a', 'b', 'c']
>>> dikt = dict(zip(list1,list2))
>>> print len(dikt)
2
>>> print dikt
{1: 'b', 2: 'c'} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:16:49.443

如果 中有重复的条目`list1`，则每个条目只会在 中出现一次`dikt`。

如果您想保留与这些重复键关联的所有值，您可以执行类似的操作

```
import collections
dikt = collections.defaultdict(list)
list1 = [1, 1, 2, 3, 2, 5, 2, 20]
list2 = list(range(len(list1)))
for k, v in zip(list1, list2):
    dikt[k].append(v)
print(dikt) 
```

这给

```
defaultdict(<type 'list'>, {1: [0, 1], 2: [2, 4, 6], 3: [3], 20: [7], 5: [5]}) 
```

# c# - 调用泛型方法会导致编译器错误

> ID：13857580
> 
> 赞同：0
> 
> 时间：2012-12-13T10:14:17.257
> 
> 标签：c#, interface, service-locator

我想在我的代码中解耦一些东西，这样我就不必在子项目中包含主项目中使用的 DLL。为此，我创建了以下方法来注册服务（使用 MS Common Practices Service Locator）：

```
public static void RegisterService<TInterface>(SPSite site) where TInterface : IServiceLocatorRegisterable, new()
        {
            GetServiceLocatorConfig(site).RegisterTypeMapping<IServiceLocatorRegisterable, TInterface>(typeof(TInterface).FullName);
            InvalidateCache(); 
```

因此，如您所见，我创建了接口“IServiceLocatorRegisterable”，因此我还没有绑定到特定的接口。

在子项目中，我有一个特定的接口，我想向服务定位器注册，所以我在声明中添加了“IServiceLocatorRegisterable”：

```
public interface ISapProcess : IServiceLocatorRegisterable
{ // details omitted.. } 
```

这是我尝试注册此接口的代码：

```
public static void RegisterSapProcess(SPSite site)
{
    ServiceLocator.RegisterService<ISapProcess>(site);
} 
```

但我无法编译它，因为我得到以下编译器错误：

> ISapProcess 必须是具有公共无参数构造函数的非抽象类型，以便在泛型类型或方法“....RegisterService(SPSite)”中将其用作参数“TInterface”

..据我所知，当我尝试直接注册“基本接口”时，它不起作用（这当然没有任何意义，因为我想注册并找到特定的接口/实现）：

```
ServiceLocator.RegisterService<IServiceLocatorRegisterable>(site); 
```

我觉得我在这里遗漏了一些重要的东西。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:19:49.510

是的 - 看看你的约束：

```
where TInterface : IServiceLocatorRegisterable, new() 
```

你不能写：

```
ISapProcess x = new ISapProcess(); 
```

你能？这就是约束所需要的。

您*要么*需要放弃约束，要么更改您的类型参数。（鉴于您提供的代码，尚不清楚您要做什么。）

# iphone - iOS：如何从 UIButton 推送 DDMenuController 不从 AppDelegate 加载

> ID：13857585
> 
> 赞同：0
> 
> 时间：2012-12-13T10:14:36.080
> 
> 标签：iphone, ios, ipad

我想通过我的应用程序的点击事件`DDMenuController`从内部屏幕调用。`UIButton`当我这样做时，它将创建双导航栏作为图像。有人可以帮我做到这一点。

随附的![在此处输入图像描述](../Images/2698551e66bd1679d49441dff28fe0fb.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:23:17.067

Pushing a `UIViewController` should not produce a double Navigation Bar effect unless one is added after loading the view, and not as part of the application's `UINavigationController`. Nevertheless, you can Push a `UIViewController` using,

```
[[self navigationController] pushViewController:yourViewController animated:YES/NO]; 
```

If your `UIViewController` is designed using Storyboard, then you can call it by using the following code. (Remember to set the Storyboard Identifier of your `DDMenuController` to something, as it will be using in the following code.)

```
//Add this to the top of your page with the other imports.
#import "DDMenuController.h"

//Add this to the selector called by your UIButton.
DDMenuController *ddMenu = (DDMenuController *)[[self storyboard] instantiateViewControllerWithIdentifier:@"DDMenuVC"];
[[self navigationController] pushViewController:ddMenu animated:YES/NO]; 
```

# jquery - jQuery 父母选择器

> ID：13857589
> 
> 赞同：2
> 
> 时间：2012-12-13T10:14:46.010
> 
> 标签：jquery

我想选择一个父 H2 取决于单击的元素示例：

```
<ul><h2>Title1</h2>
    <li>Test</li>
    <li>sub menu
        <ul>
            <li><a href="#">link1</a></li>
        </ul>
    </li>
</ul>
<br/>

<ul><h2>Title2</h2>
    <li>Test</li>
    <li>ubmenu
        <ul>
            <li><a href="#">link2</a></li>
            <li>sub sub menu
                <ul>
                    <li><a href="#">link2</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul> 
```

我有 3 个链接在不同的地方。我的 JS 函数：

```
jQuery("a").bind('click', function () {    
       jQuery(this).parents("h2").html("okay!")

}) 
```

所以，我想改变父H2的内容，link1点击改变title1和link2都必须改变title2。

我的测试：http: [//jsfiddle.net/Kaherdin/awX9n/1/](http://jsfiddle.net/Kaherdin/awX9n/1/)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:16:55.547

试试这个：

```
jQuery("a").bind('click', function () {    
   jQuery(this).closest("ul:has(h2)").find("h2").html("okay!")
}) 
```

[**示例小提琴**](http://jsfiddle.net/hpCCp/)

请注意，如果您将`class`or`id`放在顶层`ul`.

**更新**

以下是使用 parent 上的类使其更简单的方法`ul`：

```
<ul class="list-parent">
    <h2>Title1</h2>
    <li>Test</li>
    <li>sub menu
        <ul>
            <li><a href="#">link1</a></li>
        </ul>
    </li>
</ul> 
```

```
jQuery("a").bind('click', function () {    
   jQuery(this).closest(".list-parent").find("h2").html("okay!")
}) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:22:11.197

`h2` is not a parent of the `a` tag so you must traverse up to the `ul` then find the `h2`

```
jQuery("a").on('click', function () {   
    jQuery(this).parents("ul").find("h2").html("okay!")
}); 
```

Demo: [http://jsfiddle.net/awX9n/4/](http://jsfiddle.net/awX9n/4/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T10:17:27.187

好的，所以`a`没有`h2`. 但是你可以这样做：

```
e.preventDefault();
$(this).closest('ul:has(h2)').find('h2').html('okay!'); 
```

[这是一个工作示例](http://jsfiddle.net/aZcCQ/)

This will first find the `ul` parent (which is the closest parent element that contains the `h2` you want) and then it will find the `h2` element.

It is important to note, that if your structure changes to include more `h2` element inside the parent `ul` then it will not work. But I am sure you are aware of those kind of things

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T10:19:41.617

`h2` element is not parent of the clicked element, you can add a class to the topmost `ul` elements and use `closest` method:

```
<ul class='parent'><h2>Title1</h2> 
```

```
jQuery(this).closest("ul.parent").children("h2").html("okay!"); 
```

You can use jQuery selectors for selecting the element with your current markup, but using classes makes your code more cleaner and efficient.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:16:58.100

```
jQuery(this).parent().parent().parent().parent().find("h2").html("okay!"); 
```

会做的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-13T10:25:22.730

try your code by using `find()` option, like

```
jQuery("a").bind('click', function () {    
     jQuery(this).parents("ul").find("h2").html("okay!")
}) 
```

# c# - EF 代码优先映射视图

> ID：13857597
> 
> 赞同：1
> 
> 时间：2012-12-13T10:15:26.683
> 
> 标签：c#, entity-framework, ef-code-first

我首先使用 EF 代码来创建我的系统。

最近想用它来映射SQL server上的视图，但是有问题

我将模型创建为视图名称 V_InProcessRMForm

这个观点来自其他部门。我无权更改它，也不需要。我想要的只是映射此视图中的数据并显示在网页上。

```
public class DmsEntity : DbContext
{
    public DbSet<V_InProcessRMForm> V_InProcessRMForm { get; set; }
}

public class V_InProcessRMForm
{
    [Key]
    public string Docid { get; set; }

    public string FormNm { get; set; }
    public string ChangeDocId { get; set; }
    public string Stats { get; set; }
    public string CancelReason { get; set; }
 } 
```

当代码在这里运行时，它显示：你没有 CREATE TABLE 就在它上面。

```
DmsEntity entity = new DmsEntity();
var l = from a in entity.V_InProcessRMForm 
```

有没有人可以帮助我？多谢 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-17T06:52:47.663

最后我换个方式，我用普通的EF解决了这个问题。这会生成 edmx 文件，我现在可以使用它访问视图数据。

非常感谢。

# bandwidth - 互联网广播服务器带宽使用情况

> ID：13857605
> 
> 赞同：0
> 
> 时间：2012-12-13T10:15:56.730
> 
> 标签：bandwidth, internet-radio

我想设置一个互联网广播服务器，考虑到一些限制。

现在让我们忽略与 IT 无关的问题，例如法律/组织方面。

在以下情况下，我需要计算所需的服务器带宽将如何受到影响：

1.  多达 10,000 名同时听众
2.  客户地域分布的影响（同城/同国/全球）
3.  每个人都可以选择的音质选项（低/高品质）；更多的质量选项会增加所需的带宽吗？
4.  是否还有其他重要因素会影响服务器带宽使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T14:34:12.177

似乎真正影响带宽使用的唯一因素是听众的数量和他们选择连接的质量。

更重要的是需要支持的同时侦听器的最大数量，因为乘以每个侦听器使用的平均带宽，将得出服务器连接需要支持的最大吞吐量。

显然，听众的地理分布既不会增加也不会帮助减少这些数字。

# c++ - 如果我返回文字而不是声明的 std::string 会发生什么？

> ID：13857611
> 
> 赞同：8
> 
> 时间：2012-12-13T10:16:24.000
> 
> 标签：c++, c++11

假设我们有一个效用函数：

```
std::string GetDescription() { return "The description."; } 
```

返回字符串文字可以吗？隐式创建的`std::string`对象是否被复制？

我想过总是这样返回它：

```
std::string GetDescription() { return std::move(std::string("The description.")); } 
```

但它当然更长，更冗长。我们还可以假设编译器 RVO 会对我们有所帮助

```
std::string GetDescription() { return std::string("The description."); } 
```

然而，我仍然不知道它到底*要做*什么，而不是它*能做*什么。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-13T10:21:11.993

```
std::string GetDescription() { return "XYZ"; } 
```

相当于：

```
std::string GetDescription() { return std::string("XYZ"); } 
```

这又相当于：

```
std::string GetDescription() { return std::move(std::string("XYZ")); } 
```

意味着当您返回时`std::string("XYZ")`，这是一个临时对象，然后`std::move`是不必要的，因为该对象*无论如何*都会被移动（隐式）。

同样，当你 return 时`"XYZ"`，显式构造`std::string("XYZ")`是不必要的，因为构造无论如何都会发生（隐式）。

* * *

所以这个问题的答案：

> 是否复制了隐式创建的 std::string 对象？

没有。隐式创建的对象毕竟是（隐式）移动的临时对象。但是编译器可以忽略这一举动！

所以底线是这样的：您可以编写这段代码并感到高兴：

```
std::string GetDescription() { return "XYZ"; } 
```

在某些极端情况下，`return tempObj`比`return std::move(tempObj)`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:28:37.293

> 返回字符串文字可以吗？是否复制了隐式创建的 std::string 对象？

没关系。你得到的是 std::string 的（隐式）构造函数，它创建一个本地副本，然后作为右值引用返回。将客户端代码中的结果转换为字符串，将从右值引用设置该字符串。

如果你使用第二段代码，你“说得太多了”。代码是正确的，并且它们（几乎）是等价的（它们应该是等价的，但是编译器在第一种情况下被允许执行的优化更好*）。

我会去：

```
std::string GetDescription() { return std::string("The description."); } 
```

这样，您返回一个字符串是明确的，并且代码（几乎）是最少的：您依赖于 std::string 移动构造。

*) 在@SteveJessop 发表评论后进行了相应编辑。

# facebook - 移动设备上的 Facebook 应用通知

> ID：13857612
> 
> 赞同：9
> 
> 时间：2012-12-13T10:16:24.170
> 
> 标签：facebook, facebook-apps, facebook-app-requests

**我的 Facebook 应用程序使用Notifications API**向其用户发送带有一些信息的通知。但是，这些通知只能在桌面设备上接收，而不会在移动设备上接收。

我怎样才能接触到所有的移动用户社区？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-20T22:14:36.633

如果您查看通知 API 文档：[https](https://developers.facebook.com/docs/app-notifications/) ://developers.facebook.com/docs/app-notifications/它清楚地指出：

> 注意：只有 Facebook.com 上的应用程序可以使用通知 API。此外，这些通知仅出现在 Facebook.com 的桌面版本上。

没有等效的方法可以向移动用户发送“通知” - 如果您有用户的电子邮件地址，您可以直接向用户发送电子邮件，如果他们授予您的应用`email`权限，则可以使用

如果您尝试通知用户的操作是用户生成的，您还可以发送[请求](https://developers.facebook.com/docs/requests/)，当发送请求的应用程序是移动应用程序时，这些请求会传递到移动设备 - 请参阅[iOS](https://developers.facebook.com/docs/howtos/send-requests-using-ios-sdk/)和[Android的请求文档](https://developers.facebook.com/docs/howtos/androidsdk/3.0/send-requests/)

# linux - 如何避免 swt 文件对话框中的物理路径

> ID：13857614
> 
> 赞同：2
> 
> 时间：2012-12-13T10:16:26.530
> 
> 标签：linux, eclipse-plugin, swt

我正在为 Eclipse 编写一个插件。该插件旨在在 Linux 上运行。在其中一个向导中，我们将 FileDialog 与`setFilterPath("/xx/yy/zz")`; 当我运行插件时，文件浏览器会转到`"/aa/bb/cc"`因为`"/aa/bb/cc"`是 link 的物理路径`"/xx/yy/zz"`。虽然它是一个链接，但它误导了用户。有没有可能用`"/xx/yy/zz"`路径打开浏览器？

太感谢了！

# php - 从 twitter 趋势中删除特殊字符

> ID：13857617
> 
> 赞同：0
> 
> 时间：2012-12-13T10:16:30.897
> 
> 标签：php, twitter

我需要从 twitter 趋势中删除特殊字符。因为趋势是用来形成 url 之类的`http://example.com/trends/trending-topic`。

如果有像**GÃ¤vle**这样的特殊字符，它会形成丑陋的 url。我怎样才能删除这些字符。趋势中是否有任何允许的字符列表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T04:25:43.903

这是一把双刃剑。

您可以使用[`iconv()`](http://php.net/function.iconv)该`//TRANSLIT//IGNORE`功能尝试将 UTF-8 字符串转换为较小的字符集，例如 US-ASCII。该`//TRANSLIT`标志将转换任何可以转换为目标字符集中有意义的字符。 `//IGNORE`当音译或原始编码出现错误时，将阻止 iconv 停止。

请注意，无法音译的字符将被删除。您的目标字符集越能表示来自源的字符越好。例如，许多欧洲语言可以毫无问题地转写为 US-ASCII，但尝试移植像西里尔文或来自亚洲大陆的东西将是一场灾难。这就是双刃剑的用武之地。在 URL 中编码 UTF 可能在视觉上很难看，但从长远来看，这是最有可能解决的问题。

# java - 从java调用python方法

> ID：13857621
> 
> 赞同：4
> 
> 时间：2012-12-13T10:16:42.113
> 
> 标签：java, python, jython

我尝试从java调用python方法，并做了一个非常简单的例子。但我有一个例外：

我的 py 文件（test.py）

```
def tmp():
    return "test!!!!!" 
```

我的java代码

```
PythonInterpreter interpreter = new PythonInterpreter();
interpreter.exec("import test");
PyObject someFunc = interpreter.get("tmp");
System.out.println(someFunc);
PyObject result = someFunc.__call__();
String realResult = (String) result.__tojava__(String.class);
System.out.println(realResult); 
```

我有这个结果，*PyObject result = someFunc.__call__();* 上的异常，因为 someFunc 为空

```
null 
Exception in thread "main" java.lang.NullPointerException   at
  com.testing.Test.test(Test.java:936)  at
  com.testing.Test.main(Test.java:96) 
```

任何的想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:32:33.690

```
interpreter.exec("from test import tmp");
PyObject someFunc = interpreter.get("tmp"); 
```

# mysql - rails3'table exits already'中的mysql2如何删除？

> ID：13857622
> 
> 赞同：0
> 
> 时间：2012-12-13T10:16:46.483
> 
> 标签：mysql, database, ruby-on-rails-3, ubuntu-12.04

我出于某种原因删除了项目 robin_offine，当我重新启动它并运行时

rake db:create，它声称：

```
robin_offline_development already exists  
robin_offline_test already exists 
```

忽略它并添加迁移命名事件

如果耙分贝：迁移

```
Mysql2::Error: Table 'events' already exists(cuz i have done that last time) 
```

问题是，我找不到桌子在哪里

```
SHOW DATABASES;  
+--------------------+  
| Database           |  
+--------------------+  
| information_schema |    
| test               |  
+--------------------+   
2 rows in set (0.00 sec) 
```

甚至不知道删除哪一个

抱歉，我是 mysql 新手
，系统是 Ubuntu 12.04LTS

```
development:
adapter: mysql2
encoding: utf8
reconnect: false
database: robin_offline_development
pool: 5
username: root
password:
socket: /var/run/mysqld/mysqld.sock

# Warning: The database defined as "test" will be erased and
# re-generated from your development database when you run "rake".
# Do not set this db to the same as development or production.
test:
  adapter: mysql2
  encoding: utf8
  reconnect: false
  database: robin_offline_test
  pool: 5
  username: root
  password:
  socket: /var/run/mysqld/mysqld.sock

production:
  adapter: mysql2
  encoding: utf8
  reconnect: false
  database: robin_offline_production
  pool: 5
  username: root
  password:
  socket: /var/run/mysqld/mysqld.sock 
```

我的迁移文件就是运行的

```
rails g model events 
```

没什么特别的

开发日志

```
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateEvents (20121213091145)
  [1m[35m (0.5ms)[0m  CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Mysql2::Error: Table 'events' already exists: CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateEvents (20121213091145)
  [1m[35m (0.5ms)[0m  CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Mysql2::Error: Table 'events' already exists: CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Connecting to database specified by database.yml
  [1m[36m (1.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateEvents (20121213091145)
  [1m[35m (0.5ms)[0m  CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Mysql2::Error: Table 'events' already exists: CREATE TABLE `events` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T11:09:54.953

我只是跑

```
rake db:drop 
```

并再次进行迁移，一切顺利

并`rails db`转到数据库并做任何你想做的事情。

# jquery - 全名字段无法使用 jquery 进行验证

> ID：13857630
> 
> 赞同：0
> 
> 时间：2012-12-13T10:17:01.100
> 
> 标签：jquery, regex, jquery-validate

**我需要两件事：（关于 jquery 字段验证）**

```
a) I need each field validated as 'onblur' instead of 'onsubmit'
b) Iam unable to validate 'fullname' field... 
```

**以下是“全名”字段所需的验证：**

*   只允许使用字母 a 到 z（小写）、“-”（破折号或连字符）和“”（空格），
*   必须输入“-”（破折号）和“”（空格）字母，
*   “-”或“”字母不能是输入的第一个或最后一个字母，
*   “-”不能是“”的直接邻居或相邻（之前或之后），
*   “-”或“”不能是其自身的直接邻居（相邻）。

**这是我尝试过的代码：http:** [//jsfiddle.net/ea829/13/](http://jsfiddle.net/ea829/13/)

请有人调查一下这个..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:43:37.787

使用此正则表达式`^[a-z](?=.* )(?=.*-)[a-z -]+[a-z]$`验证 1,2,3（必须匹配）

并`(( )|(- )|( -)|(--))`验证 4,5（不能匹配）

# javascript - 如何使用 Access-Control-Allow-Origin：https://www.example.com？

> ID：13857631
> 
> 赞同：10
> 
> 时间：2012-12-13T10:17:01.350
> 
> 标签：javascript, ajax, jquery, cors

我想从 HTTP 网页进行 HTTPS 调用。我希望通过`Access-Control-Allow-Origin`. 我该如何使用它？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-28T20:07:42.060

在 HTTPS 页面（您从 HTTP 页面请求的页面）上设置标题：

> 访问控制允许来源：[http ://www.example.com](http://www.example.com)

您可以在 PHP 中使用以下命令执行此操作：

```
<?php
    header("Access-Control-Allow-Origin: http://www.requesting-page.com");
?> 
```

或者，如果这不起作用，您可以在您的 HTTP 服务器（请求来自）上创建一个文件，下载并显示内容，这可以在 PHP 中完成：

```
<?php
    echo  file_get_contents("https://www.requested-page.com");
?> 
```

我不建议这样做，因为它需要额外的带宽并且不是好的做法，只有当你不能做第一个选项时才应该使用它。此外，如果开发人员将访问控制设置为受限，则可能是有原因的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:45:10.517

你不能，真的。这是浏览器阻止它。安全原因。您可以查看 cURL。阅读这篇文章：[https-request-via-ajax-from-http-page](https://stackoverflow.com/questions/1012777/https-request-via-ajax-from-http-page)

# java - 我正在尝试为不同平台编写应用程序

> ID：13857632
> 
> 赞同：-4
> 
> 时间：2012-12-13T10:17:03.893
> 
> 标签：java, android, html, jakarta-ee, symbian

我们可以在 android、iOS、windows phone 上使用 html5/javascript，这部分我已经完成了。我想为 symbian、bada 等其他平台开发相同的应用程序。

我想要所有语言/教程链接，以便可以学习开发相同的内容。

基本上我认为我会使用 Mosync/phoneGap。所以想知道是否有其他类似的平台（软件）可用于开发跨平台应用程序

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:57:19.333

我推荐肯定有PhoneGap。然后是 IBM 的 Worklight，用于跨平台应用程序。

# android - 如何自动打开数字小键盘？

> ID：13857633
> 
> 赞同：0
> 
> 时间：2012-12-13T10:17:07.183
> 
> 标签：android

> **可能重复：**
> [单击 EditText 时如何打开数字键盘？](https://stackoverflow.com/questions/13839333/how-to-open-numeric-keyboard-when-click-on-edittext)

我有一个 4 的活动`EditText`来输入数字。我已经在其布局中将它们的类型更改为数字，但出现了字符软键盘。活动开始时如何显示数字键盘？

有人对此有解决方案吗？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T10:26:04.177

嘿，您可能会在 EditText xml 中添加以下行

```
android:digits="0123456789" 
```

如果是这样，请删除并在 xml 中添加以下行，它可以正常工作

```
android:inputType="number" 
```

检查一次，根据您的问题，这可能是唯一的问题。如果你 inputType = number 那么它永远不会打开字母键盘

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T11:02:15.083

只需在 xml 布局文件中输入类型 =“数字”：

```
<EditText
android:layout_width = "..."
android:layout_heigth = "..."
...
android:inputType = "number"/> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:24:20.487

Try this

```
EditText editText = (EditText)findViewById(R.id.editText1);
editText.setInputType(InputType.TYPE_CLASS_NUMBER);
InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.showSoftInput((editText), InputMethodManager.SHOW_IMPLICIT); 
```

# iphone - 用作属性时 NSManagedObjectID 出现问题

> ID：13857635
> 
> 赞同：0
> 
> 时间：2012-12-13T10:17:08.323
> 
> 标签：iphone, core-data, nsmanagedobject

我正在尝试通过其唯一对象来获取对象，为此我正在保存插入对象的 id，我将使用它来取回它，这是我的代码。

```
@implementation UserInfoDOA
@synthesize firstName,lastName,userName,bDate,department,searchByDept,searchByName,moid,uriData,uri;

- (NSString *)insertUser
{    
    UserInfoAppDelegate *delegate = (UserInfoAppDelegate *)[[UIApplication sharedApplication] delegate];
    UserInfo *newUser = [NSEntityDescription insertNewObjectForEntityForName:@"UserInfo"
                                  inManagedObjectContext:delegate.managedObjectContext];

    Department *dept = [NSEntityDescription insertNewObjectForEntityForName:@"Department"
                                                   inManagedObjectContext:delegate.managedObjectContext];

    moid = [newUser objectID];
    NSLog(@"IN INSERTUSER %@", moid);  // moid displays its value

    if(dept!=nil) {
        dept.id=@"1001";
        dept.name=department;
        dept.location=@"ahmedabad";
        dept.post=@"developer";        
    }

    if (newUser != nil) {
        newUser.firstName =firstName;
        newUser.lastName =lastName;
        newUser.userName=userName;
        newUser.bDate = bDate ;
        newUser.dept=dept;

        NSError *savingError = nil;

        if ([delegate.managedObjectContext save:&savingError]) {
            NSLog(@"Successfully saved the context.");
        }
        else {       
            NSLog(@"Failed to save the context. Error = %@", savingError);
        }
    }
    else {        
        NSLog(@"Failed to create the new person.");
    }

    NSLog(@"IN INSERTUSER after %@",moid);

    return @"true";
}

- (NSArray *) getUser
{
    NSLog(@"IN GETUSER %@", moid); //NOT WORKING, moid is NULL here

    UserInfoAppDelegate *delegate = (UserInfoAppDelegate *)[[UIApplication sharedApplication] delegate];

    NSEntityDescription *entity = [NSEntityDescription entityForName:@"UserInfo"
                                              inManagedObjectContext:delegate.managedObjectContext];

    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
    [fetchRequest setEntity:entity];

    NSPredicate *predicate=[NSPredicate predicateWithFormat:@"(objecId = %@)",moid];

    [fetchRequest setPredicate:predicate];

    NSError *requestError = nil;
    NSArray *users = [delegate.managedObjectContext executeFetchRequest:fetchRequest                     
                                                                  error:&requestError];

    return users;    
} 
```

那么这里有什么问题呢？`moid`尽管我已存储为属性，但我无法访问我的第二个功能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:15:55.390

首先，您是否使用ARC？

那么，这是为什么呢？

```
- (NSString *)insertUser
{
    // other code here

    return @"true"
} 
```

改用这个

```
- (BOOL)insertUser
{
    // other code here

    return YES // or NO based on the insertion result
} 
```

然后，使用这个方法

```
- (NSArray *)getUser 
```

和

```
- (UserInfo *)getUser
{
    // other code here

    // maybe you should add some code for error handling...you haven't set up any code there...
    return [users objectAtIndex:0];
} 
```

关于你的问题，你不应该依赖`NSManagedObjectID`.

正如@MarcusS.Zarra 建议的那样

> NSManagedObjectID 不保证是一致的。它可以根据包括数据迁移和其他因素在内的许多因素而改变。如果您将其用作对象的唯一标识符，请停止。

因此，在您的模型中为实体添加一个属性（一个`NSString`可能没问题），`UserInfo`并在您创建新用户和检索用户时设置它。

```
// insert
user.userIdentifier = // your identifier

// retrieve
NSPredicate *predicate = [NSPredicate predicateWithFormat:@"(userIdentifier == %@)", self.moid]; 
```

现在在哪里`moid will be`

```
@property (nonatomic, copy) NSString* moid; // also synthesize it (optional) 
```

将被设置为

```
self.moid = [newUser userIdentifier]; 
```

要创建一个新标识符，您可以查看[CORE DATA objectId 不断变化](https://stackoverflow.com/questions/2819242/core-data-objectid-changes-constantly)或创建自己的算法来生成它。

PS 我认为您没有使用 ARC，因为编译器会抱怨`newUser`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:53:20.743

对象 ID 有两种形式。首次创建托管对象时，Core Data 为其分配一个临时 ID；只有当它被保存到持久存储时，Core Data 才会为托管对象分配一个永久 ID。您可以轻松发现 ID 是否是临时的：

```
BOOL isTemporary = [[managedObject objectID] isTemporaryID]; 
```

保存上下文后，您的对象 ID 可能会发生变化。

# graphics - XNA — 在 3d 场景中绘制 2d 精灵

> ID：13857636
> 
> 赞同：0
> 
> 时间：2012-12-13T10:17:10.210
> 
> 标签：graphics, 3d, xna

我正在将 2d 精灵绘制到 3d 场景中。目前我正在将一个 3d 点投影到视口上，并将其用作绘制精灵的位置。问题是缩放精灵：显然，我希望图像在 3d 场景中越远越小。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T00:11:06.587

通用技术称为[广告牌](http://books.google.com/books?id=bfcLeqRUsm8C&pg=PA282&lpg=PA282&dq=3d%20computer%20graphics%20billboard&source=bl&ots=FqUsd1pXgz&sig=CIokFOW0HiihFRDzJlp7FSTmjFQ&hl=en&sa=X&ei=qm3KUPPAMoGV0QGhy4C4BQ&ved=0CDwQ6AEwAg#v=onepage&q=3d%20computer%20graphics%20billboard&f=false)。您在 3d 世界空间中创建一个 2d 多边形，并安排其法线始终指向观察者。这是广告牌。所需的变换只是围绕垂直轴的模型旋转，该轴穿过多边形的“自然”中心（例如树的树干或怪物的腿）。然后使用精灵图像对多边形进行纹理化，为透明区域设置 alpha = 0。缩放自然而然。

这通常用于非常复杂但往往位于背景中的对象（如树木和怪物），因此使用固定 2d 图像引入的不准确性不是很明显。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:21:02.250

使用透视投影代替正交投影

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T23:57:06.247

另一种选择是使用在 3d 空间中渲染的带纹理的四边形，并使用精灵图像对其进行纹理化，同时将其放置在广告牌上以进行对齐。

# resteasy - resteasy 中的全局自定义异常处理程序

> ID：13857638
> 
> 赞同：5
> 
> 时间：2012-12-13T10:17:17.713
> 
> 标签：resteasy

是否可以为所有意外错误创建全局异常处理程序。因为不可能使所有可能的类都像这样：

```
public class ExceptionHandler implements ExceptionMapper<JsonMappingException> {...} 
```

我想要这样的东西：

```
public class ExceptionHandler implements ExceptionMapper<Exception> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-07-11T08:39:40.370

请注意，尽管接受的答案确实捕获了所有异常，但它会导致许多其他问题，例如干扰 Resteasy 的[内部异常处理](https://docs.jboss.org/resteasy/docs/3.0.7.Final/userguide/html_single/#ExceptionHandling)。

因此，如果您采用这种方法，您还应该为每个对您很重要的方法构建自定义异常映射。

特别是这个方法会破坏内置的[CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)处理，所以如果你允许 CORS 响应，你应该创建一个 CORS 自定义异常映射器。

```
@Provider
public class DefaultOptionsExceptionHandler implements ExceptionMapper<DefaultOptionsMethodException> {

    @Override
    public Response toResponse(DefaultOptionsMethodException e) {
        return e.getResponse(); 
    }
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-07-07T09:47:35.093

您可能可以执行以下操作：

```
@Provider
public class GlobalExceptionHandler implements ExceptionMapper<Exception> {
    public Response toResponse(Exception exception) {
        return Response.status(Status.INTERNAL_SERVER_ERROR)
            .entity("An error occured").type(MediaType.TEXT_PLAIN)
            .build();
    }
} 
```

我刚刚在 RESTEasy 3.0.6.Final 中对其进行了测试，它似乎可以工作。请记住，`500 Internal Server Error`状态代码可能并不总是合适的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T14:46:33.860

似乎没有简单的方法可以做到。我必须修改返回正确的 ExceptionMapper 的 ResteasyProviderFactory。但是我应该更改几个类，因为直接使用内置类 ResteasyProviderFactory

# java - Spring MVC 方法处理 json 和表单参数

> ID：13857641
> 
> 赞同：6
> 
> 时间：2012-12-13T10:17:35.057
> 
> 标签：java, json, jakarta-ee, spring-mvc

我希望在单个 spring mvc 方法中处理内容类型 application/x-www-form-urlencoded 和 application/json。

我在休息服务中要求接受输入作为表单参数或 json。我可以通过编写两种方法来实现这一点。无论是 params 还是 json，响应总是 json。

```
@RequestMapping (method = RequestMethod.POST, produces = {"application/json"},
        consumes = {"application/x-www-form-urlencoded"})
public @ResponseBody Book createBook(Book book)
        throws Exception {
    return book;
}

@RequestMapping (method = RequestMethod.POST, produces = {"application/json"},
        consumes = {"application/json"})
public @ResponseBody Book createBookJSON(@RequestBody Book book)
        throws Exception {
    return book;
} 
```

是否可以将这两种方法合二为一并使其发挥作用？任何帮助都感激不尽。

**编辑**

***我已经实现了相同的，下面给出了我的控制器和配置，但是当我发送 json 请求时，我得到空值作为响应。***

当我发送表单参数时，它工作正常。帮我找出问题。

**控制器方法**

```
 @RequestMapping (method = RequestMethod.POST, produces = {"application/json", "application/xml"}, consumes = {"application/x-www-form-urlencoded", "application/json"})                   
    public @ResponseBody Book createBook(Book book)
            throws Exception {
        return book;
    } 
```

**servlet 上下文**

```
<mvc:view-controller path="/" view-name="index"/>

<context:annotation-config />

<bean class="org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping"/>

<bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/>

<bean class="org.springframework.web.servlet.view.ContentNegotiatingViewResolver">
    <property name="order" value="1" />
    <property name="mediaTypes">
        <map>
            <entry key="xml" value="application/xml" />
            <entry key="json" value="application/json" />
        </map>
    </property>
    <property name="defaultViews">
        <list>
            <!-- JSON View -->
            <bean class="org.springframework.web.servlet.view.json.MappingJacksonJsonView" />

            <!-- JAXB XML View -->
            <bean class="org.springframework.web.servlet.view.xml.MarshallingView">
                <constructor-arg>
                    <ref bean="jaxb2Marshaller" />
                </constructor-arg>
            </bean>

        </list>
    </property>
    <property name="ignoreAcceptHeader" value="true" />
</bean>

<bean class="org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter" >
    <property name="order" value="1" />
    <property name="messageConverters">
        <list>
            <bean class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter" >
                <property name="supportedMediaTypes" value="application/json"/>
            </bean>

            <bean id="marshallingHttpMessageConverter" class="org.springframework.http.converter.xml.MarshallingHttpMessageConverter">
                <property name="marshaller" ref="jaxb2Marshaller" />
                <property name="unmarshaller" ref="jaxb2Marshaller" />
                <property name="supportedMediaTypes" value="application/xml"/>
            </bean>

            <bean class = "org.springframework.http.converter.FormHttpMessageConverter">
                <property name="supportedMediaTypes" value = "application/x-www-form-urlencoded" />
            </bean>

            <bean class = "org.springframework.http.converter.StringHttpMessageConverter">
                <property name="supportedMediaTypes" value = "text/plain;charset=UTF-8" />
            </bean>
        </list>
    </property>
</bean>

<bean id="jaxb2Marshaller" class="org.springframework.oxm.jaxb.Jaxb2Marshaller" >
    <property name="classesToBeBound">
        <list>
            <value>com.lt.domain.Book</value>
        </list>
    </property>
</bean>

<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="order" value="2" />
    <property name="prefix" value="/WEB-INF/views/"/>
    <property name="suffix" value=".jsp"/>
</bean> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:38:22.973

```
@RequestMapping (method = RequestMethod.POST)
public Book createBook(Book book)
        throws Exception {
    return book;
} 
```

consumes 需要一个可以使用的字符串数组，spring bean 绑定应该处理其余的。问题可能是您没有正确设置 bean 绑定以便自动编组和解组 json。恕我直言，使用 @RequestBody 和 @RepsonseBody 并不是最好的选择。

确保将杰克逊添加到您的依赖项中

```
<dependency>
<groupId>org.codehaus.jackson</groupId>
<artifactId>jackson-mapper-asl</artifactId>
<version>latest</version>
</dependency> 
```

并使用内容协商视图解析器

> ```
> <bean class="org.springframework.web.servlet.view.ContentNegotiatingViewResolver">
>     <property name="mediaTypes">
>         <map>
>             <entry key="htm" value="text/htm"/>
>             <entry key="html" value="text/html"/>
>             <entry key="json" value="application/json"/>
>         </map>
>     </property>
>     <property name="viewResolvers">
>         <list>
>             <bean class="org.springframework.web.servlet.view.BeanNameViewResolver"/>
>             <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
>                 <property name="prefix" value="/WEB-INF/jsp/"/>
>                 <property name="suffix" value=".jsp"/>
>             </bean>
>         </list>
>     </property>
> 
>     <property name="defaultViews">
>         <list>
>             <bean class="org.springframework.web.servlet.view.json.MappingJacksonJsonView"/>
> 
>         </list>
>     </property>
> </bean> 
> ```

确保在您的客户端应用程序中将接受标头设置为所需的值。您还应该能够在 requestmethod 注释中删除所有生产和消费数据

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-19T16:20:34.940

如果您希望 spring 自动从 JSON 转换为您的对象，则必须使用`@RequestBody`. 如果您不使用它，则不会绑定值，并且所有参数都为空，如您在 JSON 中发送时所描述的那样。

如果您使用`@RequestBody`：在幕后使用 MessageConverters 完成转换，如 spring 文档中所述： http: [//static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html #mvc-ann-requestbody](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-ann-requestbody)

您正在正确配置`MappingJacksonHttpMessageConverter`，它将从 JSON 转换为您的对象。

缺少的是从表单数据到您的对象的转换：您已`FormHttpMessageConverter`注册，但根据文档，这与您期望的不同。它使用 x-www-form-urlencode 将请求转换为 a`MultiValueMap<String, String>`而不是您的自定义对象。

我目前的理解是，您必须编写类似于`MappingJacksonHttpMessageConverter`但只能处理表单数据的东西。

# silverlight - Silverlight DragDropTarget：用其他元素替换“拖动阴影”？

> ID：13857642
> 
> 赞同：1
> 
> 时间：2012-12-13T10:17:44.407
> 
> 标签：silverlight, drag-and-drop, silverlight-toolkit

![在此处输入图像描述](../Images/74b26bb4bfce24523b37380fae9aa71e.png)

使用 Silverlight 工具包的 DragDropTarget 时，被拖动项目的快照显示在光标下方。

是否可以替换此快照/拖动阴影或禁用它？

背景：我在控件之间拖动项目，即从列表框到画布，当我放下列表框项目时，我在画布上创建了不同尺寸的不同项目。我想显示将要创建的项目，或者至少是它的区域，而不是列表框中的文本。

[这个相关的问题](https://stackoverflow.com/questions/2966724/prevent-datagriddragdroptarget-from-showing-drag-shadow)对我没有帮助。

谢谢！

编辑：[这个相关问题](https://stackoverflow.com/questions/3762668/customize-the-look-of-the-silverlight-control-toolkit-drag-drop)建议更改源代码以更改小“插入指示器”图标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-12T11:51:09.847

我在使用数据网格中的 dragdroptarget 的应用程序中遇到了同样的问题，我找到了一个解决方案，但这并没有达到预期的效果。好吧，由于该解决方案，我能够找出另一种完全按照我想要的方式工作的方式。

我使用**DragStarting**事件根据从**MouseLeftButtonUp**和**MouseLeftButtonDown**事件收到的输入取消拖动。

在 DragStarting 事件中：

```
public void dg1stUnAllocDragStarting (object sender, ItemDragEventArgs e)
    {
        if (blnMouseLeftButtonUp)
        {
            e.Cancel = true;
            e.Handled = true;
        }

        blnMouseLeftButtonUp = false;
    } 
```

MouseLeftButtonUp 事件：

```
public void dataGrid1stUnAllocChild_MouseLeftButtonUp (object sender, MouseButtonEventArgs e)
    {           
        blnMouseLeftButtonUp = true;
    } 
```

MouseLeftButtonDown 事件：

```
public void dataGrid1stUnAllocChild_MouseLeftButtonDown (object sender, MouseButtonEventArgs e)
    {           
        blnMouseLeftButtonUp = false;
        e.Handled = false;           
    } 
```

希望它会帮助你。

# erlang - Erlang：如何防止 werl 窗口在终止时关闭？

> ID：13857655
> 
> 赞同：0
> 
> 时间：2012-12-13T10:18:16.237
> 
> 标签：erlang

如果 erlang 虚拟机因任何原因终止，则整个 werl 窗口将关闭，开发人员没有机会查看问题所在。有什么办法可以预防吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T13:58:11.470

这可能是阻止窗口关闭的次优方法。在窗口打开之后，但在 vm 崩溃之前，通过 File |Open Logfile were 菜单启动一个 shell 日志文件。然后在它崩溃后，您将能够打开该文件并查看输出到 shell 的所有内容。

否则，如果您正在启动一个版本并且 vm 在启动版本期间崩溃，我建议使用相同的 config.sys 文件但没有 -boot 文件启动一个节点。然后，您可以一次启动一个版本的元素，并以较小的机会杀死整个虚拟机来查看发生了什么。如果您正在使用一个版本（-boot bootfile）启动一个节点，那么如果该版本的任何应用程序失败，整个节点都会关闭。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T13:16:57.243

你如何开始 werl？尝试之前只启动 cmd.exe，然后在这个命令 shell 中启动 werl。然后，当 werl 崩溃时，命令 shell 窗口仍然会打开，您将能够看到 werl 的消息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T17:59:24.183

经常发生的事情是，当窗口崩溃时，werl 进程仍在后台运行。

然后，如果您尝试使用相同的节点名称启动一个新进程，则 werl 窗口会非常快速地打开和关闭，而没有任何机会获取信息。在这种情况下，我使用任务管理器终止了 werl 进程，一切正常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-15T21:56:22.420

为什么不从命令行/cmd 使用 ERL.exe（不是 werl.exe）？VM 会崩溃，但会退回到命令行（仍然显示最后一个错误）。注意，同样如上所述使用 erl_crash.dump 是您详细分析的最佳选择。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T12:29:46.770

我不确定，但我认为这是不可能的。包括 werl 窗口在内的所有进程都存在于 vm 中，当它崩溃时，所有进程也会崩溃。erlang VM 崩溃时检查错误的方法是查看 erl_crash.dump 文件。

# javascript - 谷歌地图 api 点标记

> ID：13857657
> 
> 赞同：11
> 
> 时间：2012-12-13T10:18:20.570
> 
> 标签：javascript, google-maps-api-3, markers

目前我使用 StyledMarker 图标（具有自定义颜色的默认气泡图标），但我看到一些网站使用更紧凑的“点”（[点标记的图片](http://3.bp.blogspot.com/-kgIKcUsffkA/TspZ9QrlraI/AAAAAAAAAZc/yS5XiL__YAQ/s1600/Untitled1.png)）。我的问题是是否可以使用 StyledMarker 将默认气泡标记替换为点？如果没有，我该如何解决（顺便说一下，解决方案必须允许点的动态着色）？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2017-10-01T23:46:21.970

您可以将标记图标声明为[符号](https://developers.google.com/maps/documentation/javascript/3.exp/reference#Symbol)并相应地对其进行自定义。

```
new google.maps.Marker({
    map: map,
    position: map.getCenter(),
    icon: {
        path: google.maps.SymbolPath.CIRCLE,
        fillColor: '#00F',
        fillOpacity: 0.6,
        strokeColor: '#00A',
        strokeOpacity: 0.9,
        strokeWeight: 1,
        scale: 7
    }
}); 
```

您可以使用每个属性来获得所需的外观。

[![在此处输入图像描述](../Images/3713fd0a4284206083d12850570d1cee.png)](https://i.stack.imgur.com/l22gw.png)

如果你想要更详细的东西，我做了（免责声明：**是我，就像我做**的那样）[一个库来使用图标字体（例如 font-awesome 或材料图标）来渲染图像](https://github.com/HuasoFoundries/ig_markerfactory)（使用辅助画布，然后得到它数据地址）。

[![在此处输入图像描述](../Images/a63106c92728137776c8caca8b02ff13.png)](https://i.stack.imgur.com/ss8lP.png)

它基本上是一个图像工厂，您可以将其用作

```
new google.maps.Marker({
    map: map,
    position: map.getCenter(),
    icon: MarkerFactory.autoIcon({
        label: 'f1b9',
        font: 'FontAwesome',
        color: '#CC0000',
        fontsize: 20
    })
}); 
```

您甚至可以省略该`font`属性，它会呈现您传递给它的文字文本。我有时用它来枚举标记。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T14:28:48.047

[StyledMarker](http://google-maps-utility-library-v3.googlecode.com/svn/trunk/styledmarker/)使用（已弃用）[Chart Images API](https://developers.google.com/chart/image/docs/gallery/dynamic_icons)作为其图标。看起来里面没有“麻疹”/点（但[请自己寻找](https://developers.google.com/chart/image/docs/gallery/dynamic_icons#icon_list)）。无论如何，快速浏览一下，它本身只支持这两个：

*   d_map_xpin_letter
*   d_map_pin_letter

它是开源的，因此您可以对其进行修改以做任何您想做的事情，但您可能只需要使用[“普通”自定义标记](https://developers.google.com/maps/documentation/javascript/overlays#Icons)来获取“麻疹”。

*   [Fusion Tables 用户组关于如何查找麻疹 URL 的讨论](https://groups.google.com/group/fusion-tables-users-group/browse_frm/thread/670a2af718afc97b/ee5d47b81168bcf1?lnk=gst&q=measle#ee5d47b81168bcf1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T12:59:03.950

您可以使用自定义圆圈为自己画一个点：[https ://developers.google.com/maps/documentation/javascript/examples/circle-simple](https://developers.google.com/maps/documentation/javascript/examples/circle-simple)

# ios5 - viewDidload 方法调用问题

> ID：13857661
> 
> 赞同：0
> 
> 时间：2012-12-13T10:18:33.457
> 
> 标签：ios5

```
-(void)viewDidLoad{
[self.view setBackgroundColor:[UIColor whiteColor]];
isInFullScreenMode = FALSE;

messageArrayCollection = [[NSMutableArray alloc] init];

for (int i = 1; i <= 18; i++) {

    MessageModel* messageModel1 = [[MessageModel alloc] init];
    messageModel1.messageID= i;
    messageModel1.userName = @"Kimberly A. Mann";
    messageModel1.userImage =  @"MWMStaff.png";
    messageModel1.createdAt = @"06/07/2011 at 01:00 AM";
    messageModel1.content = @"After raising her two children, Kim joined the Monument Wealth Management team in 2009, managing the book keeping and other office tasks.In her free time, Kim enjoys spending time with her family, attending festive events and parades, and catching up on her favorite shows – Dancing with the Stars and Smash, to name a few";

    [messageArrayCollection addObject:messageModel1];
    //[messageModel1 release];
}

[self buildPages:messageArrayCollection];

flipper = [[AFKPageFlipper alloc] initWithFrame:self.view.bounds];
flipper.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
flipper.dataSource = self;
[self.view addSubview:flipper];
}

-(void)showViewInFullScreen:(UIViewExtention*)viewToShow withModel:(MessageModel*)model{
   NSLog(@" in show view inFullscreen");
  if (!isInFullScreenMode) {
    isInFullScreenMode = TRUE;

    CGRect bounds = [UIScreen mainScreen].bounds;
    if (self.interfaceOrientation == UIInterfaceOrientationLandscapeLeft || self.interfaceOrientation == UIInterfaceOrientationLandscapeRight) {
        CGFloat width = bounds.size.width;
        bounds.size.width = bounds.size.height;
        bounds.size.height = width;
    }

    fullScreenBGView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, bounds.size.width, bounds.size.height)];
    fullScreenBGView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
    [fullScreenBGView setBackgroundColor:RGBACOLOR(0,0,0,0.6)];
    fullScreenBGView.alpha = 0;
    [self.view addSubview:fullScreenBGView];

    viewToShowInFullScreen =  viewToShow;
    viewToShowInFullScreen.originalRect = viewToShowInFullScreen.frame;
    viewToShowInFullScreen.isFullScreen = TRUE;
    FullScreenView* fullView = [[FullScreenView alloc] initWithModel:model];
    fullView.frame = viewToShowInFullScreen.frame;
    fullView.viewToOverLap = viewToShowInFullScreen;
    fullView.fullScreenBG = fullScreenBGView;
    fullScreenView = fullView;

    [self.view addSubview:fullView];

    [self.view bringSubviewToFront:fullScreenBGView];
    [self.view bringSubviewToFront:fullView];

    [UIView beginAnimations:@"SHOWFULLSCREEN" context:NULL];
    [UIView setAnimationDuration:0.40];
    [UIView setAnimationTransition:UIViewAnimationTransitionNone forView:nil cache:NO];
    fullScreenBGView.alpha = 1;
    if (self.interfaceOrientation == UIInterfaceOrientationPortrait || self.interfaceOrientation == UIInterfaceOrientationPortraitUpsideDown) {
        [fullView setFrame:CGRectMake(10, 50, 768-20, 1004-60)];
    }else {
        [fullView setFrame:CGRectMake(10, 50, 1024-20, 746-60)];
    }
    [fullScreenView rotate:self.interfaceOrientation animation:YES];
    [UIView setAnimationDelegate:self];
    [UIView   setAnimationDidStopSelector:@selector(animationEnd:finished:context:)];
    [UIView commitAnimations];

}

 } 
```

`showViewInFullScreen`通过点击屏幕的特定区域以显示全屏视图来达到方法，但是当达到时`[self.view addSubview:flipper];`它会返回`viewDidload`方法，因此无法在此方法中运行整个代码。根据行为它不应该去这个方法。为什么我无法添加`subview`它。对`[self.view addsubView]`行为进行了很多搜索。它应该添加`subview`到当前窗口。真的没有得到发生的事情。如果有人能建议这里出了什么问题，将不胜感激..

# sql - 在经典asp中格式化日期时间

> ID：13857663
> 
> 赞同：0
> 
> 时间：2012-12-13T10:18:43.580
> 
> 标签：sql, datetime, asp-classic

当我得到一个日期字段时，它以以下格式从数据库中出来：

```
Dec 19 2012 12:00AM 
```

我想要的是

```
19/12/12 
```

我曾经有一个类似以下的功能，但是由于数据库被更改，它不起作用......

```
 function ReformatDate(val)  
    if len(val) = 8 then
        ReformatDate = right(val, 2) & "/" & mid(val, 5, 2) & "/" & left(val, 4)
    else
        ReformatDate = val
    end if  
end function 
```

我假设它没有进入 if 因为长度不再是 8 个字符。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:22:27.910

使用 sgbd 的函数来格式化日期。例如，在 MySQL 中，你必须[`DATE_FORMAT()`](http://dev.mysql.com/doc/refman/5.0/en/date-and-time-functions.html#function_date-format)做这样的事情。

```
SELECT DATE_FORMAT('2007-10-04 22:23:00', '%d/%m/%y');
  -> '04/10/07' 
```

# php - Wordpress - Jigoshop 条件语句

> ID：13857664
> 
> 赞同：2
> 
> 时间：2012-12-13T10:18:44.770
> 
> 标签：php, wordpress, product, conditional-statements, jigoshop

我正在使用 Jigoshop 和 Wordpress。

我的主要目标是在不同的产品类别中加载不同的侧边栏。

我已经设法通过使用来做到这一点：

```
function jigoshop_get_sidebar() {

    if(is_shop()) get_sidebar('shop'); if ( is_product_category('poura'))
        get_sidebar('cigars');
} 
```

在我的functions.php 文件中。

现在的问题是我有一些产品不只是一个类别，所以当我尝试做这样的事情时：

```
function jigoshop_get_sidebar() {
    if(is_shop()) get_sidebar('shop'); if ( is_product_category('poura'))
           get_sidebar('cigars'); if ( is_product_category('cigarillos'))
           get_sidebar('shop');
} 
```

我现在得到了两个侧边栏（'cigars'、'shop'），因为有些产品共享“poura”和“cigarillos”这两个类别。

在这种情况下，怎么可能只有一个侧边栏？

再次感谢任何帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T11:49:59.063

“else if”语句不能解决您的问题？

基本上我的意思是你需要一个开关盒而不是很多不同的ifs。

```
function jigoshop_get_sidebar() { 
    if(is_shop()) 
           get_sidebar('shop');
    elseif ( is_product_category('poura'))
           get_sidebar('cigars'); 
    elseif ( is_product_category('cigarillos'))
           get_sidebar('cigarillos');
} 
```

# php - 为什么我不能在我的代码中结合 javascript 和 php？

> ID：13857674
> 
> 赞同：1
> 
> 时间：2012-12-13T10:19:27.907
> 
> 标签：php, javascript

> **可能重复：**
> [将 PHP 字符串传递给 Javascript 变量（并转义换行符）](https://stackoverflow.com/questions/168214/pass-a-php-string-to-a-javascript-variable-and-escape-newlines)

我对 Javascript/jQuery 和 PHP 的概念很陌生。我已经使用在 Appserv 中实现的 PHP 两周来从 modbus 设备获取数据并将其存储在 csv 文件中。现在我想使用 jQplot 绘制数据。我正在尝试编写一个简单的程序，首先看看我是否可以在 html 中同时实现 php 和 javascript 代码。这是我用 html 编写的代码，同时使用了 javascript 和 php。

```
<!doctype html>
<html>
<head>
<title>Demo</title>
</head>

<body>
<h2>This is a script</h2>
<script type="text/javascript">
    var out = <?php echo "Hello"?>;
    //var out = "Hello"
    document.write(out);
</script>

</body>
</html> 
```

当我在浏览器中运行此代码时（我在 Windows 7 中使用 google chrome），我只得到标题“这是一个脚本”。但是，如果我删除带有 php 代码的行并取消注释下一行

```
var out = "Hello"; 
```

然后代码像它应该的那样用“Hello”打印输出。为什么是这样？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:20:07.217

您需要在 PHP 标记周围添加引号，如下所示：

```
var out = "<?php echo "Hello"?>"; 
```

否则在 PHP 解析文件并输出后，它会像这样输出：

```
var out = Hello; 
```

...请注意您缺少引号，JavaScript 不会喜欢这样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:25:45.380

我想你忘了附上你的 php 代码，因为你给你的 out 变量赋值：

```
 var out = <?php echo "Hello"?>; 
```

应该 ：

```
 var out = "<?php echo "Hello"?>"; 
```

如果我错了，请纠正我，但我认为这就是问题所在。:)

编辑：看起来有些人比我快！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T11:46:10.657

我同意 Ben Everard 和 Eddy Yuansheng Wu 的观点，稍作修改

这有效：

```
var out = "<?php echo 'Hello'?>"; 
```

这不起作用

```
var out = "<?php echo "Hello"?>"; 
```

原因：使用双引号会认为它是字符串的结尾，js会停止它的功能。

# iphone - DidFinishLoading 视图更改

> ID：13857676
> 
> 赞同：0
> 
> 时间：2012-12-13T10:19:39.040
> 
> 标签：iphone, ios, uiview, uitabbarcontroller, uiwindow

我在应用程序中有一个登录屏幕视图和 5 个选项卡。我希望在完成 LoginScreen 后它应该移动到选项卡视图（5）。一旦登录任务完成，我必须删除视图并添加选项卡的另一个视图控制器..如何做到这一点...

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
 {
self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
UINavigationController *nav=[[UINavigationController alloc]initWithRootViewController:self.viewController];

self.window.rootViewController = nav;
[self.window makeKeyAndVisible];
return YES;
} 
```

像这样我移动到登录视图......现在如何在完成登录后删除并移动到`tab1,tab2,tab3,tab4,tab5`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T12:17:04.087

您可以在 AppDelegate 中创建以下方法以在 2 个导航控制器之间切换。

```
+ (AppDelegate *)sharedDelegate
{
    return (AppDelegate *)[[UIApplication sharedApplication] delegate];
}

+ (void)showLogin {
    AppDelegate *selfInstance = [self sharedDelegate];

    self.viewController = [[ViewController alloc] initWithNibName:@"ViewController" bundle:nil];
    UINavigationController *nav=[[UINavigationController alloc]initWithRootViewController:self.viewController];
    selfInstance.window.rootViewController = nav;

}

+ (void)showTabs {
    AppDelegate *selfInstance = [self sharedDelegate];

    self.viewController2 = [[ViewController2 alloc] initWithNibName:@"ViewController2" bundle:nil];
    UINavigationController *nav=[[UINavigationController alloc]initWithRootViewController:self.viewController2];
    selfInstance.window.rootViewController = nav;
} 
```

您的 didFinishLaunchingWithOptions 方法应如下所示：

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];

    self.window.backgroundColor = [UIColor whiteColor];
    [self.window makeKeyAndVisible];

    if( isLoggedIn ){
        [AppDelegate showLogin];
    } else {
        [AppDelegate showTabs];
    }

    return YES;
} 
```

然后从您应用程序中的任何位置，您都可以执行以下操作：

```
[AppDelegate showTabs]; 
```

如果您在实施它时需要帮助，请告诉我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:24:54.040

您可以将您的`UITabBarController`作为您的初始视图。在那里您可以检查是否需要登录，或者是否自动登录。如果您需要转到登录屏幕，只需使用模态 segue 显示登录视图并在登录完成后将其关闭。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T14:04:58.323

最初您将您的`firstViewController`as subView 添加到您的`addDelegate.window`，然后`buttonClick`您可以删除您的`navController`并添加`tabBarController`到`appDelegate.window`

按照我的答案以获得更好的结果 [链接](https://stackoverflow.com/questions/13856933/tabbar-in-second-view/13857070#13857070)

# iphone - UIView 改变背景透明度

> ID：13857677
> 
> 赞同：3
> 
> 时间：2012-12-13T10:19:39.800
> 
> 标签：iphone, objective-c, background, transparency

我正在开发一个 Iphone 应用程序。

我正在创建一个 UIView：

```
UIView *popupView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 250, 250)]; 
```

然后我想使用图像作为视图的背景：

```
UIColor * bgColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"blue_bg.png"]];

popupView.backgroundColor = bgColor; 
```

有没有办法让背景半透明？可能将 alfa 值设置为 0.5 或给它一个不透明度。

我尝试使用 Photoshop 使图像透明，但是当我将其设置为背景时，它不再透明。

请注意，我只需要背景透明而不是子视图

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T10:26:17.377

有一个简单的技巧。添加同一帧的子视图并将其更改为 alpha。

```
UIView *popupView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 250, 250)];
UIView *bgView = [[UIView alloc] initWithFrame:popupView.frame];
UIColor * bgColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"blue_bg.png"]];
bgView.backgroundColor = bgColor;
bgView.alpha = 0.5;
[popupView addSubview:bgView]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:28:17.123

您可以将 alpha 降低到 0.5 以使其透明或根据需要进行更改。

你可以参考这个[链接](http://ios.biomsoft.com/tag/popup/)

# javascript - Object 是原型链中最高的吗？

> ID：13857682
> 
> 赞同：1
> 
> 时间：2012-12-13T10:19:51.337
> 
> 标签：javascript, inheritance

（`__proto__`属性指的是对象的实际原型。）

`Object`是一个**函数**（也用作构造函数）。

既然是函数，那么它的构造函数应该是`Function`.

所以，如果我想将一些属性添加到`Object`，我可以将它添加到`Function.prototype`.

但是，是一个对象，所有对象都以某种方式`Function`继承。`Object`

这实际上是一个循环关系吗？

我在 MDN 页面上读到了这个：

`(some function) ---> Function.prototype ---> Object.prototype ---> null`

怎么可能`null`呢？不是又来了吗？`__proto__``Object``Function.prototype`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-25T16:57:07.343

在阅读了这个之后，我认为[这个](https://stackoverflow.com/a/11249437/1418853)答案中的图表回答了这个问题。

Javascript 中的每个对象都有一个`__proto__`与构造函数的原型属性相同的属性。因此，如果找不到对象的属性，它会在它的`__proto__`属性中查找它，然后向上查找，直到找到它或到达`null`。

`Object.prototype`是原型链**的**末端，`Object.prototype.constructor`存在`Object`。

这是一个函数的事实`Object`意味着，`Object.__proto__`是`Function.prototype`（因为`Object`可以被创建为`new Function()`）

**但**不是`Object.prototype.__proto__`这样`Function.prototype`。

所以，`__proto__`链去`Function.prototype`--> `Object.prototype`-->`null`

我希望我做对了。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-13T10:49:52.750

如果我理解正确，Function 和 Object 将最高位置放在一起。由于 Function 有一个 Object 作为它的原型，而 Object 作为一个构造函数，实际上是一个 Function。

这种相互依赖/继承在完全 OO 语言中很常见，并且比这个（相当简单的）两项版本要复杂得多。看看[Ruby 的继承图](http://www.ruby-doc.org/core-1.9.3/Class.html)（在美丽的 ascii 艺术中！）看看它是多么令人头疼:)

好消息是，您通常不必担心它。它应该只是工作™。

# python - 如何使用 NLTK 生成随机段落

> ID：13857686
> 
> 赞同：1
> 
> 时间：2012-12-13T10:19:55.617
> 
> 标签：python, nltk

我正在尝试构建一个测试单元来对发布管理的一个非常大的实现进行压力测试。我想使用 NLTK 来生成段落，关于不同的事物和文章的随机标题。

NLTK 有能力做这样的事情吗？我想尝试使每篇文章都独一无二，以测试不同的布局大小。我也想对主题做同样的事情。

*PS Am 需要生成 1+ 百万篇文章，这些文章最终将用于测试许多事情（性能、搜索、布局等）*

有人可以请教吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T13:12:01.563

我用过这个。它采用 Noam Chomsky 的短语并生成随机段落。您可以将原料文本更改为您想要的任何内容。当然，您使用的文本越多越好。

```
# List of LEADINs to buy time.
leadins = """To characterize a linguistic level L,
        On the other hand,
        This suggests that
        It appears that
        Furthermore """

# List of SUBJECTs chosen for maximum professorial macho.
subjects = """ the notion of level of grammaticalness
        a case of semigrammaticalness of a different sort
        most of the methodological work in modern linguistics
        a subset of English sentences interesting on quite independent grounds
        the natural general principle that will subsume this case """

#List of VERBs chosen for autorecursive obfuscation.
verbs = """can be defined in such a way as to impose
        delimits
        suffices to account for
        cannot be arbitrary in
        is not subject to """

# List of OBJECTs selected for profound sententiousness.

objects = """ problems of phonemic and morphological analysis.
        a corpus of utterance tokens upon which conformity has been defined by the paired utterance test.
        the traditional practice of grammarians.
        the levels of acceptability from fairly high (e.g. (99a)) to virtual gibberish (e.g. (98d)).
        a stipulation to place the constructions into these various categories.
        a descriptive fact.
        a parasitic gap construction."""

import textwrap, random
from itertools import chain, islice, izip
from time import sleep

def chomsky(times=1, line_length=72):
    parts = []
    for part in (leadins, subjects, verbs, objects):
        phraselist = map(str.strip, part.splitlines())
        random.shuffle(phraselist)
        parts.append(phraselist)
    output = chain(*islice(izip(*parts), 0, times))
    return textwrap.fill(' '.join(output), line_length)

print chomsky() 
```

为我返回：

> 这表明不同类型的半语法案例不受成对话语测试定义一致性的话语标记语料库的影响。

对于标题，你当然可以

```
chomsky().split('\n')[0] 
```

# html - HTML表格边框没有出现在asp.net中？

> ID：13857688
> 
> 赞同：2
> 
> 时间：2012-12-13T10:19:58.393
> 
> 标签：html

我有一张这样的桌子：

```
<table width="100%" bgcolor="Wheat" style="border:Solid 1 Black">
                                                <tr>
                                                    <th>
                                                        VendorCode
                                                    </th>
                                                    <th>
                                                        VendorName
                                                    </th>
                                                    <th>
                                                        Password
                                                    </th>
                                                    <th>
                                                        Email
                                                    </th>
                                                    <th>
                                                        Phone
                                                    </th>
                                                </tr>

                                            </table> 
```

问题是我没有得到表格边框......我也在使用 updatepanel 和 ajax 工具包......任何人都可以告诉我这是什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:21:58.763

您需要指定边界声明的宽度部分的单位，我认为是`px`（而不是`em`例如）。样式声明应该是：

`border: Solid 1px Black`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:51:50.937

感谢您的所有帮助人员，但由于某种原因它们不起作用，但这对我有用：

```
<table width="100%" bgcolor="Wheat" style="border-style:solid; border-width:thin; border-color: Black">
                                                <tr>
                                                    <th style="border-style:solid; border-width:thin; border-color: Black">
                                                        VendorCode
                                                    </th>
                                                    <th style="border-style:solid; border-width:thin; border-color: Black">
                                                        VendorName
                                                    </th>
                                                    <th style="border-style:solid; border-width:thin; border-color: Black">
                                                        Password
                                                    </th>
                                                    <th style="border-style:solid; border-width:thin; border-color: Black">
                                                        Email
                                                    </th>
                                                    <th style="border-style:solid; border-width:thin; border-color: Black">
                                                        Phone
                                                    </th>
                                                </tr>

                                            </table> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:22:01.610

尝试使用正确的**[CSS 边框样式](http://www.w3schools.com/css/css_border.asp)**语法。

```
<table width="100%" bgcolor="Wheat" style="border:1px solid Black"> 
```

# php - 电子邮件中的复选框输入信息

> ID：13857692
> 
> 赞同：-1
> 
> 时间：2012-12-13T10:20:16.963
> 
> 标签：php, html, email, contact-form

我有一些代码在提交后会显示来自我的电子邮件中的复选框的输入信息。这工作得很好，但是当用户没有从复选框中进行选择时，我希望它在我的电子邮件中显示“未选中任何选项”。我怎样才能做到这一点？下面是相关代码 - 我需要为这两个复选框实现这一点。我假设我需要某种 ELSE 语句。

代码：

```
if(!empty($_POST['features'])) {
foreach($_POST['features'] as $value) {
    $check_msg1 .= "Features checked: ".$value."\n";          
}}

if(!empty($_POST['fright'])) {
foreach($_POST['fright'] as $value) {
    $check_msg2 .= "Fright checked: ".$value."\n";            
}} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:24:41.390

Checkbox values are not submitted once not checked, so if `$_POST['cb_name']` is empty, than nothing checked. According to this, you will need code like this(same for 'fright') :

```
if(!empty($_POST['features'])) {
   foreach($_POST['features'] as $value) {
       $check_msg1 .= "Features checked: ".$value."\n";          
   }
} else {
   $check_msg1 .= "No options checked\n"
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:24:48.377

如果用户没有检查任何东西，则不会有 $_POST['features'] 或 $_POST['fright']

你需要做一个 isset，或者更准确地说是一个！伊塞特

```
if ( ! isset($_POST['features']))
{
    $check_msg1 .= "No features selected.\n";
}
else
{
    foreach ($_POST['features'] as $value)
    {
        $check_msg1 .= "Features checked: " . $value . "\n";
    }
}

if ( ! isset($_POST['fright']))
{
    $check_msg2 .= "No fright selected.\n";
}
else
{
    foreach ($_POST['fright'] as $value)
    {
        $check_msg2 .= "Fright checked: " . $value . "\n";
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:25:22.467

尝试：

```
if(isset($_POST['features'])) {
foreach($_POST['features'] as $value) {
    $check_msg1 .= "Features checked: ".$value."\n";          
}}
else {
    $check_msg1 .= "No options checked \n";
}

if(isset($_POST['fright'])) {
foreach($_POST['fright'] as $value) {
    $check_msg2 .= "Fright checked: ".$value."\n";            
}}
else {
    $check_msg2 .= "No options checked \n";
} 
```

如果未选中任何选项，则 POST 不会为复选框返回任何值。因此，您需要检查 POST 数组中的值是否已设置。即使选中了复选框，检查“空”也会返回 true，但它的值是空的。

# c# - 从插件访问单例

> ID：13857694
> 
> 赞同：0
> 
> 时间：2012-12-13T10:20:39.470
> 
> 标签：c#, plugins, singleton

应用程序的结构是我有两个单例。一种用于管理工作，一种用于管理 SQLite 数据库。

工作管理器加载希望访问数据库的插件。有没有让他们访问 Singleton 数据库管理器的权限？如果我在插件 dll 中包含数据库管理器类 - 那会起作用吗？

我知道另一种方法是在插件界面中有一个字段并在插件加载时设置该字段，我只是想知道是否有办法做到这一点并保留我的插件架构。

谢谢。

**编辑**

限制：

*   无法使用外部库。
*   我希望从插件中访问的一组单例类是并且将永远是固定的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:28:00.693

你应该看看像[Castle Windows](http://docs.castleproject.org/Default.aspx?Page=MainPage&NS=Windsor&AspxAutoDetectCookieSupport=1)、[Sprint.NET](http://www.springframework.net/)和[Ninject](http://www.ninject.org/)这样的依赖注入容器。这些将允许您自动注入依赖项或允许您的插件通过使用容器访问您的单例。我用过很多次Castle Windsor 并且可以推荐它，但提到的其他一些也被很多开发人员使用。抱歉，忘记提及[Microsoft Unity 容器](http://unity.codeplex.com/)

# jquery - 如何获取 input[type=image] 的值？

> ID：13857695
> 
> 赞同：0
> 
> 时间：2012-12-13T10:20:40.620
> 
> 标签：jquery

出于某种原因，我似乎无法从我的输入中获得价值。我在我的表单中对所有这些都使用 type=image 。

我想要的是序列化数据并将其发送到我的后端代码。有人可以告诉我这应该如何工作吗？我不知道我在这里做错了什么。

```
<form id="test">
  <input type="image" src="test.jpg" alt="test 1" id="test1" name="test1" />
</form> 
```

* * *

```
 var values = $('#test input').serialize();
     var request = $.ajax({
       url: "test.php",
       type: "POST",
       data: values,
       dataType: "json" 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T10:21:28.223

您需要使用**[val()](http://api.jquery.com/val/)**

```
$('#test input').val() 
```

你的说法是，

```
var values = $('#test input').map(function(){
                 return $(this).val();
             }).get().join(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:23:31.683

An input type="image" only defines that image as the submit button and not as an input that can carry a value to server

# amazon-dynamodb - 与 Bigtable 相比，键值存储有什么好处？

> ID：13857698
> 
> 赞同：6
> 
> 时间：2012-12-13T10:20:49.497
> 
> 标签：amazon-dynamodb, riak, bigtable, key-value-store

在 Bigtable 上使用专用的键值存储有什么意义？我对 Bigtable 的理解是，它是通过基于键值的 SSTables 实现的。鉴于此，通过丢弃 Bigtable 公开的 api 并保持最小的 put 和 get api，专用键值存储比 Bigtable 获得了哪些技术实现优势。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T21:03:34.477

我认为最大的区别是键空间是否是顺序的。其他功能在这两种方法之上都是可以实现的。

使用非顺序键空间，您可以更轻松地进行负载平衡，而无需处理区域 - 因为您不需要顺序访问键，您只需使用哈希码即可查看哪个集群节点应该保留哪些值。

当然，API 的简单性也不容忽视。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-22T12:14:21.260

(*) 我不确定`key-value`您想到的是哪种存储方式，请允许我猜测一下。

可以在此处找到功能比较：http: [//vschart.com/compare/dynamo-db/vs/bigtable](http://vschart.com/compare/dynamo-db/vs/bigtable)

当您向下滚动时，您将看到众所周知的魔鬼的详细信息，例如完整性模型不同。

# php - 从控制器加载视图并加载视图原始控制器

> ID：13857703
> 
> 赞同：0
> 
> 时间：2012-12-13T10:21:10.417
> 
> 标签：php, cakephp

我想在控制器中加载不同的视图（不是默认视图）

加载了不同的视图，但我在控制器中有一些最初属于该视图的代码。

显示视图时未加载原始控制器。CakePHP 有解决方案吗？

为了清楚起见，我创建了一个方案： ![在此处输入图像描述](../Images/eaaeda763898b1b3d4858c321f498f5b.png)

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T15:15:44.313

虽然我同意所有关于这破坏 MVC 的评论。

它可以使用 requestAction()。这取决于你，你如何使用它。

[http://book.cakephp.org/2.0/en/controllers.html#Controller::requestAction](http://book.cakephp.org/2.0/en/controllers.html#Controller::requestAction)

# php - localhost htdocs 文件夹锁定，有可能吗？

> ID：13857710
> 
> 赞同：3
> 
> 时间：2012-12-13T10:21:44.900
> 
> 标签：php, apache, locking, localhost, htdocs

我将我的电脑用作小型企业的 localhost 销售点，因此将我的 php 文件放在 htdocs 或 www（用于 wamp）文件夹中是不安全的，任何用户都可以访问。我尝试通过右键单击-> 安全选项卡来锁定文件夹，但 apache 最终无法访问文件。

我不是那个 php 专家，但是否可以锁定这些文件，请帮助我！

谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:52:34.670

如果您正在使用 Apache.. 这可以派上用场 [http://net.tutsplus.com/tutorials/other/password-protect-folders-in-seconds/](http://net.tutsplus.com/tutorials/other/password-protect-folders-in-seconds/)

# mobile - 移动优化网站的强制方向更改？

> ID：13857712
> 
> 赞同：2
> 
> 时间：2012-12-13T10:21:49.963
> 
> 标签：mobile

对于移动优化的网站，是否可以强制在移动设备上更改方向，以便用户必须将设备旋转到横向？

# visual-studio-2010 - 符号未在 DLL 中导出

> ID：13857713
> 
> 赞同：0
> 
> 时间：2012-12-13T10:21:53.007
> 
> 标签：visual-studio-2010, shared-libraries, static-libraries, dllexport, declspec

我在 VS2010 中分两步生成 DLL：

首先生成一个静态 .LIB 文件，其中函数定义为 __declspec(dllexport)。其次，会生成一个链接到该 .LIB 文件的 DLL。此生成的 DLL 不包含从 .LIB 导出的函数。

有什么想法可能导致这种情况吗？

我还尝试将选项 /EXPORT:funcname 添加到库项目设置中。我检查了生成 .LIB 文件本身，那里的功能不是 exportet （但我不是 100% 确定我用于检查库导出的工具......）

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T12:52:37.833

我想我明白了： /EXPORT:funcname 选项也必须添加到 DLL 项目中 - 在其他地方，链接器不知道静态库中的这个符号必须被导出。

# javascript - jQuery 容器操作

> ID：13857720
> 
> 赞同：1
> 
> 时间：2012-12-13T10:22:03.057
> 
> 标签：javascript, jquery, html, containers

首先，我不是 100% 确定如何为这个页面命名，所以如果可以的话，请编辑。

所以我正在学习 jQuery，我想要一个页面上有许多文章的系统，当页面首次加载时，我希望显示第一篇文章，并将所有其他文章缩减为它们的标题文本或设定高度。

现在我有一个可以打开和关闭容器的系统，它看起来像这样：

```
<script type="text/javascript">
    jQuery(document).ready(function() {
        jQuery(".content").hide();

        //toggle the component with class msg_body
        jQuery(".heading").click(function() {
            jQuery(this).next(".content").slideToggle(500);
        });
    });
</script> 
```

我的标记是这样的：

```
<div class="page_content">
    <h1 align="center">Updates</h1>
    <article class="update_article">
        <h2 class="heading">13/12/2012 - Article Heading</h2>
        <div class="content">
            Article Body
        </div>
    </article>

    <article class="update_article">
        <h2 class="heading">13/12/2012 - Article Heading</h2>
        <div class="content">
            Article Body
        </div>
    </article>
</div> 
```

当这个运行时，所有的文章都将减少到它们的标题，一旦它们被点击，jQuery 就会打开正文。

所以我想知道如何在页面加载时首先打开第一篇文章，但我也希望系统在单击并打开另一个文章时关闭打开的文章。

感谢您的帮助，非常欢迎任何有关此主题的教程或阅读信息。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:41:19.133

您可以隐藏所有内容，但第一个内容如下：

```
<script type="text/javascript">
    jQuery(document).ready(function() {
        jQuery(".content").hide();
        jQuery(".content:first").show();

        jQuery(".heading").click(function() {
            jQuery(".content").slideUp();
            jQuery(this).next(".content").slideToggle(500);
        });​
    });
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:26:20.543

```
jQuery(".content").hide();
//toggle the componenet with class msg_body
jQuery(".heading").click(function() {
    jQuery(".content").slideUp();
    jQuery(this).next(".content").slideToggle(500);
});

jQuery(".heading:first").click();​ 
```

[**演示。**](http://jsfiddle.net/ADh35/)

您可以稍微增强它以不滑入/滑出当前显示的文章，例如：

```
jQuery(".content").hide();
//toggle the componenet with class msg_body
jQuery(".heading").click(function() {
    var $nextContent = jQuery(this).next(".content");
    jQuery(".content").not($nextContent).slideUp();
    jQuery(this).next(".content").slideToggle(500);
});

jQuery(".heading:first").click();​ 
```

...但这取决于您的确切要求。

[**演示。**](http://jsfiddle.net/ADh35/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:29:08.680

```
<script type="text/javascript">
    jQuery(document).ready(function() {
      jQuery(".content").hide();
      //toggle the componenet with class msg_body

      jQuery(".heading").click(function()
      {
        jQuery("article.opened div.content").hide().parent().removeClass('opened');
        jQuery(this).parent().addClass('opened');
        jQuery(this).next(".content").slideToggle(500);
      });

      jQuery(".heading:first").click();​
    });
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:35:07.747

您可以在代码中添加一行：

```
 jQuery(this).next(".content").slideToggle(500);
      jQuery(this).parent().siblings().children(".content").slideUp(500);
    //this will find all other .content open and closes when other link cliked. 
```

和第一个标题的点击事件：

```
 jQuery(".heading:first").click();​ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:36:26.363

```
$(function() {
    $('.content').hide();
    $('.content:first').show();

    $('.heading').click(function() {
        $('.content').hide();
        $(this).next('.content').slideToggle(500);
    });
});​ 
```

# java - Java中的特殊字符\0 {NUL}

> ID：13857726
> 
> 赞同：10
> 
> 时间：2012-12-13T10:22:13.507
> 
> 标签：java, string, null-terminated

如何替换字符串中的 \0 (NUL)？

```
String b = "2012yyyy06mm";               // sth what i want
String c = "2\0\0\0012yyyy06mm";
String d = c.replaceAll("\\\\0", "");    // not work
String e = d.replace("\0", "");          // er, the same
System.out.println(c+"\n"+d+"\n"+e);

String bb = "2012yyyy06mm";
System.out.println(b.length() + " > " +bb.length()); 
```

上面的代码将在控制台中打印 12 > 11。哎呀，怎么了？

```
String e = c.replace("\0", "");
System.out.println(e);      // just print 2(a bad character)2yyyy06mm 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-13T10:25:20.560

您的字符串`"2\0\0\0012yyyy06mm"`没有开始`2 {NUL} {NUL} {NUL} 0 1 2`，而是包含`2 {NUL} {NUL} {SOH} 2`.

被`\001`视为单个 ASCII 1 字符 ( `SOH`)，而不是`NUL`后跟`1 2`.

结果是只删除了两个字符，而不是三个。

我认为除了将字符串分开之外，没有任何方法可以表示缩写[八进制转义后的数字：](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.6)

```
String c = "2" + "\0\0\0" + "012yyyy06mm"; 
```

或者，在（最后一个）八进制转义中指定所有三个数字，以便以下数字不会被解释为八进制转义的一部分：

```
String c = "2\000\000\000012yyyy06mm"; 
```

`"\0"`完成后，根据您的行替换：

```
String e = c.replace("\0", ""); 
```

将正常工作。

# c# - C#：从文件中读取流

> ID：13857729
> 
> 赞同：2
> 
> 时间：2012-12-13T10:22:16.720
> 
> 标签：c#, stream, filestream

我通过以下方式将流保存到文件中：

```
public void SaveTest(DataObject data)
{
    var fullPath = Path.Combine(Path.GetTempPath(), data.Descriptor.Name);
    var fileStream = new FileStream(Path.Combine(fullPath, ".content"), FileMode.CreateNew);
    data.Content.CopyTo(fileStream);
    fileStream.Close();
    var information = new XElement("Test Information",
                                        new XAttribute("Name", data.Descriptor.Name),
                                        new XAttribute("Description", data.Descriptor.Description),
                                        new XAttribute("Owner", data.Descriptor.Owner)
                                        );
    information.Save(Path.Combine(fullPath, ".information"));
} 
```

`DataObject`包含一个作为测试内容的流和一个我想保存的带有 3 个字段的描述符。
现在我需要一种方法来读取这些文件，并且我需要将`.content`文件作为流而不是字符串来读取。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:26:54.900

好吧，您可以将其作为流*打开，如下所示：*

```
using (var stream = File.OpenRead(path))
{
    ...
} 
```

或者您可以将全部内容作为字节数组读取：

```
byte[] data = File.ReadAllBytes(path); 
```

（然后，您可以根据需要将其包装在 a 中`MemoryStream`。）

# php - php联系表格不发送无线电信息

> ID：13857730
> 
> 赞同：0
> 
> 时间：2012-12-13T10:22:17.563
> 
> 标签：php, javascript, html

我有这个 php 联系表，效果很好，但是当我尝试在其中添加一些无线电代码时；这没用。意思是发送电子邮件但不发送无线电部分。我该如何编码才能工作。

索引.html

```
<body onLoad="randomNums();">

  <div class="contactForm">
<br>
  <table width="42%">
  <tr>
    <td width="12%"><strong>Name</strong></td>
   </tr>
  <tr>
    <td width="88%"><input type="text" name="first_name" id="first_name" style="width:374px;"></td>
  </tr>
 </table>
<br>
<table width="63%">
  <tr>
    <td width="9%"><strong>Email</strong></td>
    <td width="26%"><strong>Phone</strong> (Optional)</td>
   </tr>
  <tr>
    <td width="32%"><input type="text" id="email" name="email"></td>
    <td width="33%"><input type="text" id="phone" name="phone"></td>
  </tr>
 </table>

    <br />

  <strong>Message</strong>

    <br />

  <textarea name="message" id="message" rows="12" cols="64"></textarea>

    <br />
I'm a:  <input type="radio" name="type" value="Other" checked="checked" /> Other
        <input type="radio" name="type" value="Student" /> Student
        <input type="radio" name="type" value="Faculty" /> Faculty/Staff Member<br />
    <br />

  <strong>Please add these numbers:</strong>

  <span id="digit1"></span> +

  <span id="digit2"></span> =

  <input type="text" id="answer" size="2">

    <br />

    <br />

    <div id="status"><button type="button" id="myBtn" onClick="ajax_postContact();">Send Now</button></div>

</div>

</body> 
```

联系.js

```
function ajax_postContact(){

    var msg = document.getElementById("message").value;

    var answer = document.getElementById("answer").value;

    var fn = document.getElementById("first_name").value;

    var ph = document.getElementById("phone").value;

    var em = document.getElementById("email").value;

    var digit1 = parseInt(document.getElementById("digit1").innerHTML);

    var digit2 = parseInt(document.getElementById("digit2").innerHTML);

    ///// error checking ////

    var sum = digit1 + digit2;

    if(answer == null || answer == ""){

        alert("Please add the numbers");

        return false;

    }

    else if(answer != sum){

        alert("Your answer to the math problem is wrong. Please try again.");

        return false;

    }

    else if(fn == null || fn == ""){

        alert("Please type your name");

        return false;

    }

    else if(em == null || em == ""){

        alert("Please type your email address");

        return false;

    }

    else if(msg == null || msg == ""){

        alert("Please leave a message");

        return false;

    }

    else{

    var hr = new XMLHttpRequest();

    var url = "parse_contact.php";

    var vars = "first_name="+fn+"&phone="+ph+"&email="+em+"&message="+msg;

    hr.open("POST", url, true);

    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

    hr.onreadystatechange = function() {

    if(hr.readyState == 4 && hr.status == 200){

    var return_data = hr.responseText;

    document.getElementById("status").innerHTML = return_data;

    }

}

    hr.send(vars);

    document.getElementById("status").innerHTML = "<img src='images/loaderblue.gif' alt='Loader'>";

    document.getElementById("first_name").value = "";

    document.getElementById("phone").value = "";

    document.getElementById("email").value = "";

    document.getElementById("message").value = "";

    document.getElementById("answer").value = "";

    }

} 
```

parse_contact.php

```
<?php
if(isset($_POST['first_name'])) {
    $first_name = $_POST['first_name'];
    $phone = $_POST['phone'];
    $email = $_POST['email'];
    $msg = $_POST['message'];
    $type = $_POST['type'];

    $regex = '/^([a-zA-Z0-9])+([\.a-zA-Z0-9_-])*@([a-zA-Z0-9_-])+(\.a-zA-Z0-9_-]+)*\.([a-zA-Z]{2,6})$/';

   if((!$first_name) || (!$email) || (!$msg)){
        echo 'Oops! Please fill in all fields to submit the form';
        exit();
    }else if(!preg_match($regex, $email)){
        echo 'Sorry, that is not a valid email address, please try using another';
        exit();
    }else{
        $first_name = strip_tags(stripslashes($first_name));
        $msg = strip_tags(stripslashes($msg));
        $phone = preg_replace('/^0-9.-/','',$phone);

        $to = "cc-wp@hotmail.com";
        $from = $email;
        $subject = "You have a message from your website";
        ///email body ///
        $message = "
        Name:$first_name    Phone:$phone

        Email:$email

        Feedback Comment:
        $msg

        $type";
        //// set headers ////
        $headers = 'MIME-Version: 1.0' . "/r/n";
        $headers .= 'Content-type: text' . "/r/n";
        $headers .= 'From: $from'. "\r\n";
        /// send email now ///
        mail($to, $subject, $message, $headers, '-f cc-wp@hotmail.com');
        echo "Thanks, for your feedback";
        exit();
    } 
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T16:59:15.543

您没有`type`在 POST 请求中包含来自无线电输入的内容。

您的代码片段：

```
var vars = "first_name="+fn+"&phone="+ph+"&email="+em+"&message="+msg;

hr.open("POST", url, true); 
```

您正在对无线电类型以外的其他输入进行编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-19T05:37:29.053

**代码编辑：**

```
function ajax_postContact() {

var msg = document.getElementById("message").value;

var answer = document.getElementById("answer").value;

var fn = document.getElementById("first_name").value;

var ph = document.getElementById("phone").value;

var em = document.getElementById("email").value;

var type = document.getElementsByName("type").value;

var digit1 = parseInt(document.getElementById("digit1").innerHTML);

var digit2 = parseInt(document.getElementById("digit2").innerHTML);

///// error checking ////

var sum = digit1 + digit2;

if (answer == null || answer == "") {

    alert("Please add the numbers");

    return false;

} else if (answer != sum) {

    alert("Your answer to the math problem is wrong. Please try again.");

    return false;

} else if (fn == null || fn == "") {

    alert("Please type your name");

    return false;

} else if (em == null || em == "") {

    alert("Please type your email address");

    return false;

} else if (msg == null || msg == "") {

    alert("Please leave a message");

    return false;

} else if (type == null || type == "") {

    alert("Please select  the type");

    return false;

} else {

    var hr = new XMLHttpRequest();

    var url = "parse_contact.php";

    var vars = "first_name=" + fn + "&phone=" + ph + "&email=" + em + "&message=" + msg + "&type=" + type;

    hr.open("POST", url, true);

    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

    hr.onreadystatechange = function() {

        if (hr.readyState == 4 && hr.status == 200) {

            var return_data = hr.responseText;

            document.getElementById("status").innerHTML = return_data;

        }

    }

    hr.send(vars);

    document.getElementById("status").innerHTML = "<img src='images/loaderblue.gif' alt='Loader'>";

    document.getElementById("first_name").value = "";

    document.getElementById("phone").value = "";

    document.getElementById("email").value = "";

    document.getElementById("message").value = "";

    document.getElementById("answer").value = "";

    document.getElementByName("type").value = "";

}} 
```

# javascript - Javascript 将 iframe 的表单元素值分配给主窗口表单元素值

> ID：13857733
> 
> 赞同：0
> 
> 时间：2012-12-13T10:22:23.840
> 
> 标签：javascript, forms, iframe

iframe 中的 form1：

```
<iframe id="quoteiframe" ....>
    <form id="form1"...>
       <div id="rate">12.00</div>
    </form>
</iframe> 
```

主窗口中的form2：

```
<form id="form2" ....>
    <input name="ir" value="" ...>
</form> 
```

是否可以将速率值 12.00 分配给 form2 的输入元素？我试过了：

```
var ifr = document.getElementById('quoteiframe');
var ifrDoc = ifr.contentDocument || ifr.contentWindow.document;                                                        
var theForm = ifrDoc.getElementById('form1');
form2['ir'].value = theForm.getElementById('rate').text(); 
```

输入元素不接受该值，仍为空白。顺便说一句，iframe 和主窗口不在同一台服务器上。

# javascript - 根据位置（IP 地址）将用户重定向到不同的网站

> ID：13857734
> 
> 赞同：8
> 
> 时间：2012-12-13T10:22:25.567
> 
> 标签：javascript, html, location

如何使用 IP 地址将访问我的站点的用户重定向到特定位置的站点。
我有 3 个特定位置的站点。
1\. 欧洲。
2\. 美国。
3\. 亚洲。
简而言之，我想使用他的 IP 地址找到客户的位置。该解决方案需要使用 Google API。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-13T11:19:30.730

我使用**“google.loader.ClientLocation”**
得到了解决方案 ，如果有人需要，这里是代码。

检查这个 JSFiddle

> [http://jsfiddle.net/kvishnudev/7Ut65/1/](http://jsfiddle.net/kvishnudev/7Ut65/1/)

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html>
<head>
    <title>Get web visitor's location</title>
    <meta name="robots" value="none" />
</head>
<body>
<div id="yourinfo"></div>
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAp04yNttlQq-7b4aZI_jL5hQYPm-xtd00hTQOC0OXpAMO40FHAxQMnH50uBbWoKVHwgpklyirDEregg"></script>
<script type="text/javascript">
var Continent = {"AD":"Europe","AE":"Asia","AF":"Asia","AG":"North America","AI":"North America","AL":"Europe","AM":"Asia","AN":"North America","AO":"Africa","AQ":"Antarctica","AR":"South America","AS":"Australia","AT":"Europe","AU":"Australia","AW":"North America","AZ":"Asia","BA":"Europe","BB":"North America","BD":"Asia","BE":"Europe","BF":"Africa","BG":"Europe","BH":"Asia","BI":"Africa","BJ":"Africa","BM":"North America","BN":"Asia","BO":"South America","BR":"South America","BS":"North America","BT":"Asia","BW":"Africa","BY":"Europe","BZ":"North America","CA":"North America","CC":"Asia","CD":"Africa","CF":"Africa","CG":"Africa","CH":"Europe","CI":"Africa","CK":"Australia","CL":"South America","CM":"Africa","CN":"Asia","CO":"South America","CR":"North America","CU":"North America","CV":"Africa","CX":"Asia","CY":"Asia","CZ":"Europe","DE":"Europe","DJ":"Africa","DK":"Europe","DM":"North America","DO":"North America","DZ":"Africa","EC":"South America","EE":"Europe","EG":"Africa","EH":"Africa","ER":"Africa","ES":"Europe","ET":"Africa","FI":"Europe","FJ":"Australia","FK":"South America","FM":"Australia","FO":"Europe","FR":"Europe","GA":"Africa","GB":"Europe","GD":"North America","GE":"Asia","GF":"South America","GG":"Europe","GH":"Africa","GI":"Europe","GL":"North America","GM":"Africa","GN":"Africa","GP":"North America","GQ":"Africa","GR":"Europe","GS":"Antarctica","GT":"North America","GU":"Australia","GW":"Africa","GY":"South America","HK":"Asia","HN":"North America","HR":"Europe","HT":"North America","HU":"Europe","ID":"Asia","IE":"Europe","IL":"Asia","IM":"Europe","IN":"Asia","IO":"Asia","IQ":"Asia","IR":"Asia","IS":"Europe","IT":"Europe","JE":"Europe","JM":"North America","JO":"Asia","JP":"Asia","KE":"Africa","KG":"Asia","KH":"Asia","KI":"Australia","KM":"Africa","KN":"North America","KP":"Asia","KR":"Asia","KW":"Asia","KY":"North America","KZ":"Asia","LA":"Asia","LB":"Asia","LC":"North America","LI":"Europe","LK":"Asia","LR":"Africa","LS":"Africa","LT":"Europe","LU":"Europe","LV":"Europe","LY":"Africa","MA":"Africa","MC":"Europe","MD":"Europe","ME":"Europe","MG":"Africa","MH":"Australia","MK":"Europe","ML":"Africa","MM":"Asia","MN":"Asia","MO":"Asia","MP":"Australia","MQ":"North America","MR":"Africa","MS":"North America","MT":"Europe","MU":"Africa","MV":"Asia","MW":"Africa","MX":"North America","MY":"Asia","MZ":"Africa","NA":"Africa","NC":"Australia","NE":"Africa","NF":"Australia","NG":"Africa","NI":"North America","NL":"Europe","NO":"Europe","NP":"Asia","NR":"Australia","NU":"Australia","NZ":"Australia","OM":"Asia","PA":"North America","PE":"South America","PF":"Australia","PG":"Australia","PH":"Asia","PK":"Asia","PL":"Europe","PM":"North America","PN":"Australia","PR":"North America","PS":"Asia","PT":"Europe","PW":"Australia","PY":"South America","QA":"Asia","RE":"Africa","RO":"Europe","RS":"Europe","RU":"Europe","RW":"Africa","SA":"Asia","SB":"Australia","SC":"Africa","SD":"Africa","SE":"Europe","SG":"Asia","SH":"Africa","SI":"Europe","SJ":"Europe","SK":"Europe","SL":"Africa","SM":"Europe","SN":"Africa","SO":"Africa","SR":"South America","ST":"Africa","SV":"North America","SY":"Asia","SZ":"Africa","TC":"North America","TD":"Africa","TF":"Antarctica","TG":"Africa","TH":"Asia","TJ":"Asia","TK":"Australia","TM":"Asia","TN":"Africa","TO":"Australia","TR":"Asia","TT":"North America","TV":"Australia","TW":"Asia","TZ":"Africa","UA":"Europe","UG":"Africa","US":"North America","UY":"South America","UZ":"Asia","VC":"North America","VE":"South America","VG":"North America","VI":"North America","VN":"Asia","VU":"Australia","WF":"Australia","WS":"Australia","YE":"Asia","YT":"Africa","ZA":"Africa","ZM":"Africa","ZW":"Africa"};
    if(google.loader.ClientLocation)
    {
        visitor_lat = google.loader.ClientLocation.latitude;
        visitor_lon = google.loader.ClientLocation.longitude;
        visitor_city = google.loader.ClientLocation.address.city;
        visitor_region = google.loader.ClientLocation.address.region;
        visitor_country = google.loader.ClientLocation.address.country;
        visitor_countrycode = google.loader.ClientLocation.address.country_code;
        if(visitor_countrycode!= null)
        {
                var Cont = Continent[visitor_countrycode];
                //alert(Cont);              
        }

        //
        document.getElementById('yourinfo').innerHTML = '<p>Lat/Lon: ' + visitor_lat + ' / ' + visitor_lon + '</p><p>Location: ' + visitor_city + ', ' + visitor_region +', Continent : ' + Cont + ', ' + visitor_country + ' (' + visitor_countrycode + ')</p>';
    }
    else
    {
        document.getElementById('yourinfo').innerHTML = '<p>Whoops!</p>';
    }
</script>
</body> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:32:09.277

有两种选择：

1.  一个后端解决方案，使用 Maxmind GeoIP DLL，一个 IP 到国家的转换器：[http](http://dev.maxmind.com/geoip/downloadable) ://dev.maxmind.com/geoip/downloadable 。

2.  一种前端解决方案（我知道的不是免费但相当便宜： http: [//www.maxmind.com/en/javascript](http://www.maxmind.com/en/javascript)）

两者都允许您将 IP 转换为国家/地区，然后您可以将国家/地区聚合到位置。

获得位置（欧洲、美国、亚洲）后，您可以重定向到相应的站点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-06T23:33:41.343

不知道这是否回答了您的问题，我想使用 Python 尝试一下，尽管这个问题发布已经很长时间了。只是看看我是否以正确的方式思考:)

我有一个博客，来自某个 IP 的最常访问者，我检查了该 IP，它属于一家咨询公司。最后经过分析，我得到了教育机构、产品开发公司和另一家咨询公司的 3 个不同 IP，各占约 30%。我想部署一个用户特定的页面并对其进行测试。由于某些原因，我无法做到这一点。Anway分享是关怀。

先获取IP，

```
 import socket
 user_ip= gethostbyname(gethostname())
 IP_cons=xxx  # you can also set IP range in the form of a list
 IP_edu =yyy
 IP_cons2=zzz

 if user_ip ==IP_cons:                # user_ip in IP_cons if lsit of IPs
     <redirect to IP_cons.html>

 elif user_ip == IP_edu:
     redirect to IP_edu.html>

 elif user_ip == IP_cons2:
     redirect to IP_cons2.html>
 else:
     home.html 
```

谢谢。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-08-07T07:31:49.833

一个可能的解决方案可以在这里解释 [https://medium.com/@ipapi/automatically-redirect-to-country-specific-page-f687e514595e](https://medium.com/@ipapi/automatically-redirect-to-country-specific-page-f687e514595e)

它将根据访问者的 IP 返回您的国家/地区代码，然后您可以根据它编写重定向逻辑。

# c# - 如何导航到粘贴的堆栈跟踪visual-studio

> ID：13857740
> 
> 赞同：21
> 
> 时间：2012-12-13T10:22:47.943
> 
> 标签：c#, .net, visual-studio-2010, visual-studio-2012, resharper

我记得我曾经

通过单击导航到粘贴的堆栈跟踪

`ctrl + E + T`

它是一个更清晰的实用程序吗？

Visual Studio 2012 的等效版本是什么？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T13:19:58.007

Stack Trace Explorer 是 ReSharper 的一项功能。Visual Studio 中没有内置等效项。（如果有，他们为什么要花费所有时间和费用将功能添加到 ReSharper？）

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-06-17T06:08:08.133

有一个名为“堆栈跟踪资源管理器”的扩展 Visual Studio 2017，您可以在[此处获取](https://marketplace.visualstudio.com/items?itemName=SamirBoulema.StackTraceExplorer#review-details)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-12-13T10:31:50.240

你在找 ctrl+shift+v 吗？

# c# - c# 的可扩展的基于文本的序列化

> ID：13857742
> 
> 赞同：0
> 
> 时间：2012-12-13T10:22:56.270
> 
> 标签：c#, serialization, xml-serialization, nested

我正在为 C# 寻找基于文本（即人类可读而不是二进制）的可扩展序列化。

我要保存的项目数量很少（<100）。可以为序列化创建额外的类，这些类在反序列化后填充真正使用的类。

我认为标准的内置 XML 序列化既不易于阅读，也不可扩展。

我已经看过 protobuf-net，它看起来很有希望，但由于它是二进制文件，所以我放弃了它。

我也尝试过[自定义序列化](http://msdn.microsoft.com/en-us/library/ty01x675%28VS.80%29.aspx)，但无法序列化其中的两个。

我还查看了 JSON.net，但它并没有比自定义序列化更好。

我现在的数据结构大致是这样的：

```
class ClassIWantToSerialize
{
    DataContainer A;
    DataContainer B;
    DataContainer C;
    DataContainer D;
    DataContainer E;
    DataContainer F;
    double G;
    double H;
    // other stuff that I don't want to serialize...
}

class DataContainer
{
   MinorDataContainer A;
   MinorDataContainer B;
   double C;
   double D;
   double E;
   double F;
    // other stuff that I don't want to serialize...
}

class MinorDataContainer
{
   double A;
} 
```

当我尝试添加第二个`MinorDataStructure`（即`B`）时出现了问题，它抱怨它不能两次添加相同的字段。

```
class DataContainer
{
    public void GetObjectData(SerializationInfo info, StreamingContext context)
    {
        A.GetObjectData(info, context);
        B.GetObjectData(info, context); // error upon calling this line
        info.AddValue("C", C);
        //...
    }
} 
```

# javascript - 出现错误 使用 blackberry webworks 2.3.1.5、apache-ant 1.8.4、eclipse helios 和 blackberry 模拟器 9790 时标记

> ID：13857744
> 
> 赞同：2
> 
> 时间：2012-12-13T10:23:00.793
> 
> 标签：javascript, blackberry-webworks

我正在使用 blackberry webworks SDK 2.3.1.5 和 apache-ant 1.8.4 来运行我的黑莓模拟器 9790。我在 tag..cordova 中遇到了cordova错误。cordova 不受支持。有人能给出答案吗？

引发了以下错误：

```
Microsoft Windows [Version 6.1.7600]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

C:\Users\hakuna>d:    
D:\>cd bbws    
D:\bbws>cd RSGT

D:\bbws\RSGT>ant blackberry run-simulator
Buildfile: D:\bbws\RSGT\build.xml

blackberry:

BUILD FAILED
Target "run-simulator" does not exist in the project "Build and Deploy a Cordova
BlackBerry WebWorks Project".

Total time: 1 second

D:\bbws\RSGT>ant blackberry load-simulator
Buildfile: D:\bbws\RSGT\build.xml

blackberry:

load-simulator:

generate-cod-name:
     [echo] Generated name: RSGT.cod

clean:
   [delete] Deleting directory D:\bbws\RSGT\build

package-app:
    [mkdir] Created dir: D:\bbws\RSGT\build\widget
     [copy] Copying 68 files to D:\bbws\RSGT\build\widget
      [zip] Building zip: D:\bbws\RSGT\build\RSGT.zip

build:
     [exec] [INFO]                      Parsing command line options
     [exec] [INFO]                      Parsing bbwp.properties
     [exec] [INFO]                      Validating application archive
     [exec] [INFO]                      Parsing config.xml
     [exec] [INFO]                      Populating application source
     [exec] [ERROR]                     Feature cannot be found in any extension
(cordova.geolocation)

load-simulator:
     [echo] Simulator directory=C:\BBWP\simpack\9790
     [echo] Simulator directory=C:\BBWP\simpack\9790
     [echo] Simulator executable=C:\BBWP\simpack\9790/9790.bat
     [echo] Closing all running simulators...
     [exec] No sessions currently running.
     [exec] Result: 1
     [echo] MDS directory=C:\BBWP\mds

BUILD FAILED
D:\bbws\RSGT\build.xml:33: The following error occurred while executing this lin
e:
D:\bbws\RSGT\blackberry.xml:123: D:\bbws\RSGT\build\StandardInstall does not exi
st.

Total time: 21 seconds 
```

# php - OneToOne relationship and setting entities

> ID：13857746
> 
> 赞同：0
> 
> 时间：2012-12-13T10:23:04.337
> 
> 标签：php, symfony, doctrine, one-to-one

I have two entities: tickets and categories

```
class tickets 
{
    /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;
...
    /**
     * @ORM\OneToOne(targetEntity="categories", mappedBy="ticket")
     */
    private $categories;

public function setCategories($categories)
    {
        $this->categories= $categories;
    }

    public function getCategories()
    {
        return $this->categories;
    }
}

class categories
{
    /**
     * @var integer $id
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    private $id;

    /**
     * @var integer $id_ticket
     *
     * @ORM\Column(name="id_ticket", type="integer")
     */
    private $id_ticket;
...
    /**
     * @ORM\OneToOne(targetEntity="tickets", inversedBy="categories")
     * @ORM\JoinColumn(name="id", referencedColumnName="id_ticket")
     */
    private $ticket;

public function setTicket()
    {
        $this->ticket= $ticket;

    }
public function getTicket()
    {
        return $this->ticket;
    } 
```

In my tickets controller when I create a new ticket I want to create a new category where tickets.id = categories.id_ticket

```
$ticket= new tickets();
$category= new categories();
$ticket->setCategories($categories);
$em->persist($categories);
$em->persist($ticket);
$em->flush(); 
```

I get this error:

> SQLSTATE[23000]: [Microsoft][SQL Server Native Client 10.0][SQL Server]Cannot insert explicit value for identity column in table 'categories' when IDENTITY_INSERT is set to OFF.

And the insert it tries to do is:

```
INSERT INTO categories(id_ticket, ... , **id**) VALUES (?, ..., **?**)
Parameters: { 1: 'null', ..., **18: 'null'** } 
```

What am I doing wrong? I don't know why it's trying to insert "id". I know this is why I get the error, but I am a newbie on symfony2 and doctrine and I don't know how to solve it.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:55:49.280

你的拥有方有问题（看[这里](http://docs.doctrine-project.org/en/latest/reference/unitofwork-associations.html#important-concepts)）

尝试 ：

```
$ticket= new tickets();
$category= new categories();
$categories->setTicket($ticket);
$em->persist($ticket);
$em->persist($categories);
$em->flush(); 
```

# javascript - Node.js' http.Server and http.createServer, what's the difference?

> ID：13857747
> 
> 赞同：28
> 
> 时间：2012-12-13T10:23:05.630
> 
> 标签：javascript, node.js

What is the difference between:

> http.Server(function(req,res) {});

and

> http.createServer(function(req, res) {});

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-13T10:31:10.623

基于 nodejs 的源代码（摘录如下），`createServer`它只是一个帮助方法来实例化一个`Server`.

摘自[http.js 的第 1674 行](https://github.com/joyent/node/blob/master/lib/http.js#L1674)。

```
exports.Server = Server;

exports.createServer = function(requestListener) {
  return new Server(requestListener);
}; 
```

因此，您在原始问题中提到的两个代码片段的唯一*真正*区别是您没有使用`new`关键字。

* * *

为清楚起见，`Server`构造函数如下（2012-12-13 后）：

```
function Server(requestListener) {
  if (!(this instanceof Server)) return new Server(requestListener);
  net.Server.call(this, { allowHalfOpen: true });

  if (requestListener) {
    this.addListener('request', requestListener);
  }

  // Similar option to this. Too lazy to write my own docs.
  // http://www.squid-cache.org/Doc/config/half_closed_clients/
  // http://wiki.squid-cache.org/SquidFaq/InnerWorkings#What_is_a_half-closed_filedescriptor.3F
  this.httpAllowHalfOpen = false;

  this.addListener('connection', connectionListener);

  this.addListener('clientError', function(err, conn) {
    conn.destroy(err);
  });
}
util.inherits(Server, net.Server); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:28:48.027

根据[文档](https://nodejs.org/docs/latest-v0.10.x/api/http.html#http_http_createserver_requestlistener)，它似乎是

```
http.createServer = function (requestListener) {
     var ser = new http.Server();
     ser.addListener(requestListener);
     return ser;
}; 
```

# c# - „menuinterface.Menu.exit' is never assigned to, and will always have its default value null“

> ID：13857748
> 
> 赞同：-1
> 
> 时间：2012-12-13T10:23:08.753
> 
> 标签：c#, xna

How I can use Exit() in another class? I want to use it in the Intro class, but I always get that „menuinterface.Menu.exit' is never assigned to, and will always have its default value null“ error message. What is wrong?

```
public class Game1 : Microsoft.Xna.Framework.Game
{
    GraphicsDeviceManager graphics;
    SpriteBatch spriteBatch;
    private IState currentState;

    public Game1()
    {
        graphics = new GraphicsDeviceManager(this);
        Content.RootDirectory = "Content";
    }

    protected override void Initialize()
    {
        currentState = new Intro();
        base.Initialize();
    }

    protected override void LoadContent()
    {       
        spriteBatch = new SpriteBatch(GraphicsDevice);
        currentState.Load(Content);
    }

    protected override void Update(GameTime gameTime)
    {
        currentState.Update(gameTime);         
        base.Update(gameTime);
    }

    protected override void Draw(GameTime gameTime)
    {
        GraphicsDevice.Clear(Color.CornflowerBlue);
        spriteBatch.Begin();
        currentState.Render(spriteBatch);
        spriteBatch.End();

        base.Draw(gameTime);
    }
}

public interface IState
    {
        void Load(ContentManager content);
        void Update(GameTime gametime);
        void Render(SpriteBatch batch);
    }

public class Intro : IState
{
    private IState currentState;
    private Game1 exit;
    Texture2D introscreen;

    public void Load(ContentManager content)
    {
        introscreen = content.Load<Texture2D>("intro");
    }

    public void Update(GameTime gametime)
    {
        KeyboardState kbState = Keyboard.GetState();
        if (kbState.IsKeyDown(Keys.Space))
          currentState = new Menu();
        if (kbState.IsKeyDown(Keys.Escape))
            exit.Exit();
    }

    public void Render(SpriteBatch batch)
    {
        batch.Draw(introscreen, new Rectangle(0, 0, 1280, 720), Color.White);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T12:17:10.300

这是你的问题：

```
public class Intro : IState
{
    private IState currentState;
    private Game1 exit;
    Texture2D introscreen;

    public void Load(ContentManager content)
    {
        introscreen = content.Load<Texture2D>("intro");
    }

    public void Update(GameTime gametime)
    {
        KeyboardState kbState = Keyboard.GetState();
        if (kbState.IsKeyDown(Keys.Space))
          currentState = new Menu();
        if (kbState.IsKeyDown(Keys.Escape))
            exit.Exit(); // ---- this object does not exist
    }

    public void Render(SpriteBatch batch)
    {
        batch.Draw(introscreen, new Rectangle(0, 0, 1280, 720), Color.White);
    }
} 
```

在此类中，您声明了一个名为`exit`但从未分配过该值的对象。您需要在使用对象之前对其进行实例化。在您的情况下，我将添加以下构造函数来解决您的问题。

```
public Intro(Game1 game)
{
    exit = game;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:31:12.560

您没有为您的`exit`对象分配任何东西，它似乎是 type `Game`，所以这就是您收到此错误的原因。但是为什么你首先需要这个`exit`对象呢？

如果你想在按下 Escape 后退出游戏，使用`Exit()`方法。它不需要您像在代码中那样使用它。就这么简单：

```
public class Game1 : Microsoft.Xna.Framework.Game
{
    // ...
    protected override void Update(GameTime gameTime)
    {            
        if (kbState.IsKeyDown(Keys.Escape))
            Exit();  

        base.Update(gameTime);
    }
    // ...
} 
```

# iphone - Externally added frameworks are not copied when project is copied in xcode

> ID：13857751
> 
> 赞同：0
> 
> 时间：2012-12-13T10:23:12.010
> 
> 标签：iphone, xcode, frameworks

I have added external frameworks from my mac's Documents folder into my project. Now when I copy this project to someother place and compile them I m getting errors .Its becoz those frameworks are not copied.Those frameworks appear to be in red colur in Frameworks group. How can I make all the custom added frameworks to be copied when the project is copied to a newer place?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:26:06.963

首先在与库的链接二进制文件的构建阶段添加这些框架意味着首先将这些框架拖放到那里然后尝试在另一个地方添加。试试吧。

# opengl - OpenGL GLSL shaders statistic

> ID：13857752
> 
> 赞同：0
> 
> 时间：2012-12-13T10:23:12.480
> 
> 标签：opengl, glsl, shader

I am searching program or gl function to get number of local parameter, instructions and another parameters for my GLSL shader. I tried to use GPU ShaderAnalyzer, but it does not help me.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T14:14:16.177

我不确定您正在寻找什么样的统计数据，或者“本地参数”到底指的是什么，但您可以通过 OpenGL API[`glGetProgram`](http://www.opengl.org/sdk/docs/man/xhtml/glGetProgram.xml)和“关联”中的函数从编译的着色器中获取一些信息获取”那篇文章的部分。

# mysql - Cannot get my format for date from string

> ID：13857755
> 
> 赞同：1
> 
> 时间：2012-12-13T10:23:28.173
> 
> 标签：mysql

I am not able to process my date format from inputs of dates like `Jan-05-1975` , Kindly let me know what is wrong with following sql query. I want the format from the input to be in `dd-mm-yyyy`

```
Select STR_TO_DATE ('Jan-05-1975','%e-%b-%Y')
OR
Select DATE_FORMAT ('Jan-05-1975','%e-%b%-Y') 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:30:13.897

由于您最初是在传递一个字符串，因此您应该先将其转换为日期，然后再转换为您想要的格式。这同时使用了[`STR_TO_DATE()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_str-to-date)then [`DATE_FORMAT()`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)：

```
Select Date_Format(STR_TO_DATE('Jan-05-1975','%b-%d-%Y'),'%d-%m%-%Y'); 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!2/d41d8/4940)

将`STR_TO_DATE`您当前格式的字符串转换为日期值，然后`DATE_FORMAT`将其转换为首选格式`dd-mm-yyyy`

# php - 如何在 php 中使用打印机打印 HTML 内容？

> ID：13857758
> 
> 赞同：3
> 
> 时间：2012-12-13T10:23:36.833
> 
> 标签：php, javascript

我在这样的变量中有一个 HTML 内容。

```
$message ="<div>
    <table align='center'>
        <tr><td><h1>Reporte de Tipo de Documentos</h1></td></tr>
        <tr><td><h2>Farmaceutica MDC</h2></td></tr>
    </table>
</div>
<div>
    <table style='width:960px; margin:0 auto;'>
        <tr colspan='7'>
            <td><?php echo 'Fecha: '".$time = date('d/m/Y h:i:s A')."; ?></td>
        </tr>
        <tr bgcolor='#CCCCCC' height='30'>
            <td><b>Sr. No.</b></td>
            <td><b>Tipo Documento</b></td>
            <td><b>Cant. Pasos</b></td>
            <td><b>Costo</b></td>
            <td><b>Precio</b></td>
            <td><b>Balance</b></td>
            <td><b>Notifica Cliente</b></td>
        </tr>
    </table>"; 
```

我想打印此 HTML 内容的打印输出页面。就像我们使用的网页一样

```
<script type="text/javascript">
    function printpage()
    {

        window.print();

    }
</script>. 
```

那么我用什么来打印上面的 HTML 内容呢？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T10:42:47.167

将这个页面的内容嵌入到 HTML 中并添加一个脚本以在页面加载时自动打印出来怎么样？

```
<?php
$message ="<div>
    <table align='center'>
        <tr><td><h1>Reporte de Tipo de Documentos</h1></td></tr>
        <tr><td><h2>Farmaceutica MDC</h2></td></tr>
    </table>
</div>
<div>
    <table style='width:960px; margin:0 auto;'>
        <tr colspan='7'>
            <td><?php echo 'Fecha: '".$time = date('d/m/Y h:i:s A')."; ?></td>
        </tr>
        <tr bgcolor='#CCCCCC' height='30'>
            <td><b>Sr. No.</b></td>
            <td><b>Tipo Documento</b></td>
            <td><b>Cant. Pasos</b></td>
            <td><b>Costo</b></td>
            <td><b>Precio</b></td>
            <td><b>Balance</b></td>
            <td><b>Notifica Cliente</b></td>
        </tr>
    </table>";

echo "<html><head></head><body>" . $message . "<script type='application/javascript'>window.onload=function(){window.print()}</script></body></html>";
?> 
```

要从字面上打印 HTML 代码，您可以像这样**清理**HTML：

```
echo "<html><head></head><body>" . htmlspecialchars($message, ENT_QUOTES) . "<script type='application/javascript'>window.onload=function(){window.print()}</script></body></html>";
?> 
```

有关此的更多信息：

*   [用 PHP 清理用户输入的最佳方法是什么？](https://stackoverflow.com/questions/129677/whats-the-best-method-for-sanitizing-user-input-with-php)
*   [清理 HTML 输入](https://stackoverflow.com/questions/5512712/sanitizing-html-input)
*   [PHP HTML 消毒剂](https://stackoverflow.com/questions/2721184/php-html-sanitizer)
*   [http://se2.php.net/manual/en/function.htmlspecialchars.php](http://se2.php.net/manual/en/function.htmlspecialchars.php)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:44:50.920

```
 <input type="submit" value="Print" onclick="printIframe(report);"/>
   <script>
       function printIframe(objFrame) {
           objFrame.focus();
           objFrame.print();
           bjFrame.save();
       }
   </script>
   <iframe name="report" id="report" src="report.php"></iframe> 
```

尝试在 iframe 中调用表单，然后是一个链接或按钮，它将运行 js 以在 iframe 中打印 html/php ..

# sql - SELECT Statement with if-else condition

> ID：13857760
> 
> 赞同：0
> 
> 时间：2012-12-13T10:23:53.603
> 
> 标签：sql, sql-server

I want to modify sql statement which is very simple like

```
SELECT id
FROM page
WHERE name = "Test" 
```

Now I want to change it something like

```
SELECT id
FROM page
WHERE name = "Test"
AND if idLanguage != idlanguage then idParent = idpage 
```

what will the better way to do this?

Thank you

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:25:49.733

```
SELECT id
FROM page
WHERE name = "Test"
AND (idLanguage = idlanguage OR idParent = idpage) 
```

更好，因为它是有效的 SQL 语法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:28:42.873

使用case语句怎么样？请试试：

```
SELECT id
FROM page
WHERE name = "Test" AND 
idParent = (CASE WHEN idLanguage <> idlanguage THEN idpage ELSE idParent END) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:28:22.633

如果您真的想在数据库中设置 idParent 的值，那么您需要`UPDATE`在选择之前添加一条语句。

```
UPDATE page SET idParent = idpage
WHERE name = "Test"
    AND idLanguage != idlanguage;

SELECT id FROM page
WHERE name = "Test" 
```

# jquery - knock template binding issue

> ID：13857768
> 
> 赞同：0
> 
> 时间：2012-12-13T10:24:21.167
> 
> 标签：jquery, asp.net-mvc-3, knockout.js, knockout-mapping-plugin

```
<script type="text/x-jquery-tmpl" id="conditionTemplate"> 
<tr>
<td style="padding-left: 5px;">
    <span data-bind="visible: $index()==0">IF</span>
    <select data-bind="attr: {id: 'ddlJoinOperator_'+ $index() } ,visible: $index()>0" style="width:50px;height:25px;">
        <option value="and">AND</option>
        <option value="or">OR</option>
    </select>
</td>
<td style="padding-left: 25px;">
    <table>
        <tr>
        <td>
            <select data-bind="attr: {id: 'ddlleftparam_'+ $index() }" style="width:50px;height:25px;">
                <option value="(">(</option>
                <option value=" "></option>
            </select>
        </td>
        <td style="padding-left: 30px;">
            .Answer
            <select data-bind="attr: {id: 'ddloperator_'+ $index() }" style="width:50px;height:25px;">
                    <option value="==">==</option>
                    <option value="!=">!=</option>
                    <option value="In">In</option>
                    <option value="Not In">Not In</option>
            </select>
        </td>
         <td style="padding-left: 5px;">
            <select data-bind="attr: {id: 'ddlOptions_'+ $index() }" style="width:240px;height:25px;">
            </select>
         </td>
        <td style="padding-left: 5px;">
            <select data-bind="attr: {id: 'ddlRightParam_'+ $index() }" style="width:50px;height:25px;">
                <option value=")">)</option>
                <option value=" "></option>
            </select>
         </td>
        <td style="padding-left: 5px;">
             <input type="button" data-bind="attr: {id: 'btnAdd_'+ $index() }">
         </td>
    </tr>
    </table>
</td>
<td>
    <input type="button" data-bind="attr: {id: 'btndelete_'+ $index() },visible: $index()>0">
</td>
</tr>
</script> 
```

Above template is binding to the table as below.

```
 <table id="tblConditions" data-bind="template: {name:'conditionTemplate', foreach: 'CondiotionXml'}">
        </table>

$(function () {
    $.ajax({
        url: "/api/BranchSurvey/GetBranchLogicConditions",
        success: function (lst) {
            alert(lst.length);
            BranchSurveyViewModel = ko.mapping.fromJS(lst);
            ko.applyBindings(BranchSurveyViewModel, document.getElementById('tblConditions'));
            return false;
        }
    });
}); 
```

My problem is in alert(lst.length); is giving value as 1\. but in browser i am getting 12 rows repeating the template. As the length of list iam binding is 1 then why 12 times the template loop running.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T14:27:07.257

在您的模板中，您正在`foreach`对字符串执行 a `CondiotionXml`。因此，您的模板会为该字符串中的每个字符呈现一次。

您可能希望将项目数组传递给`foreach`选项。如果您的数组是顶级对象，那么您可以使用`$data`来引用它。

# python - Better way to compare neighboring cells in matrix

> ID：13857769
> 
> 赞同：1
> 
> 时间：2012-12-13T10:24:23.070
> 
> 标签：python, matlab, matrix, numpy, scipy

> **Possible Duplicate:**
> [Numpy/Python: Array iteration without for-loop](https://stackoverflow.com/questions/13805286/numpy-python-array-iteration-without-for-loop)

Suppose I have a matrix of size 100x100 and I would like to compare each pixel to its direct neighbor (left, upper, right, lower) and then do some operations on the current matrix or a new one of the same size. A sample code in Python/Numpy could look like the following: (the comparison >0.5 has no meaning, I just want to give a working example for some operation while comparing the neighbors)

```
import numpy as np
my_matrix = np.random.rand(100,100)
new_matrix = np.array((100,100))
my_range = np.arange(1,99)
for i in my_range:
    for j in my_range:

        if my_matrix[i,j+1] > 0.5:
            new_matrix[i,j+1] = 1

        if my_matrix[i,j-1] > 0.5:
            new_matrix[i,j-1] = 1

        if my_matrix[i+1,j] > 0.5:
            new_matrix[i+1,j] = 1

        if my_matrix[i-1,j] > 0.5:
            new_matrix[i-1,j] = 1

        if my_matrix[i+1,j+1] > 0.5:
            new_matrix[i+1,j+1] = 1

        if my_matrix[i+1,j-1] > 0.5:
            new_matrix[i+1,j-1] = 1

        if my_matrix[i-1,j+1] > 0.5:
            new_matrix[i-1,j+1] = 1 
```

This can get really nasty if I want to step into one neighboring cell and start from it to compare it to its neighbors ... Do you have some suggestions how this can be done in a more efficient manner? Is this even possible?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:32:09.440

我不是 100% 确定你的代码的目标是什么，忽略边界处的索引问题相当于

```
new_matrix = my_matrix > 0.5 
```

但是您可以使用形态学运算快速完成这些计算的高级版本：

```
import numpy as np
from scipy.ndimage import morphology

a = np.random.rand(5,5)
b = a > 0.5

element = np.array([[0, 1, 0], [1, 1, 1], [0, 1, 0]])
result = morphology.binary_dilation(b, element) * 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T13:40:29.517

防止这种情况“变得讨厌”的方法是：将邻居检查代码封装在一个函数中。然后你可以在必要时用邻居的坐标调用它。

如果您需要跟踪检查过的对，以免保留相同的对，请在此基础上使用某种记忆。

# php - Remove duplicated elements of associative array in PHP

> ID：13857775
> 
> 赞同：41
> 
> 时间：2012-12-13T10:24:38.500
> 
> 标签：php, arrays, multidimensional-array

```
$result = array(
    0=>array('a'=>1,'b'=>'Hello'),
    1=>array('a'=>1,'b'=>'other'),
    2=>array('a'=>1,'b'=>'other'),
); 
```

If it is duplicated removed it, so the result is as follows:

```
$result = array(
    0=>array('a'=>1,'b'=>'Hello'),
    1=>array('a'=>1,'b'=>'other')   
); 
```

Could any know to do this?

Thanks

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-12-13T12:44:04.330

无论其他人在这里提供什么，您都在寻找一个名为[`array_unique`^(*Docs*)](http://php.net/array_unique)的功能。这里重要的是将第二个参数设置为`SORT_REGULAR`，然后工作就很简单了：

```
array_unique($result, SORT_REGULAR); 
```

`SORT_REGULAR`标志的含义是：

> 正常比较项目（不要更改类型）

这就是你想要的。您想在此处[比较数组^(*Docs*)](http://php.net/language.operators.array)并且不要将它们的类型更改为字符串（如果未设置参数，这将是默认值）。

`array_unique`进行严格比较（`===`在 PHP 中），对于数组，这意味着：

> `$a === $b` `TRUE`如果 $a 和 $b 具有相同顺序和相同类型的相同键/值对。

输出（[演示](http://eval.in/4529)）：

```
Array
(
    [0] => Array
        (
            [a] => 1
            [b] => Hello
        )

    [1] => Array
        (
            [a] => 1
            [b] => other
        )
) 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-12-13T10:32:17.890

首先，你不能使用 plain`array_unique`来解决这个问题，因为 array_unique 在内部将数组项视为字符串，这就是为什么在使用 array_unique 时会出现“无法将数组转换为字符串”通知的原因。

所以试试这个：

```
$result = array(
    0=>array('a'=>1,'b'=>'Hello'),
    1=>array('a'=>1,'b'=>'other'),
    2=>array('a'=>1,'b'=>'other')
);

$unique = array_map("unserialize", array_unique(array_map("serialize", $result)));

print_r($unique); 
```

**结果：**

```
Array
(
    [0] => Array
        (
            [a] => 1
            [b] => Hello
        )

    [1] => Array
        (
            [a] => 1
            [b] => other
        )

) 
```

序列化对于此类问题非常方便。

如果您觉得这对您**来说太神奇**了，请查看此[博客文章](http://floern.com/webscripting/array-unique-f%C3%BCr-multidimensionale-arrays)

```
function array_multi_unique($multiArray){

  $uniqueArray = array();

  foreach($multiArray as $subArray){

    if(!in_array($subArray, $uniqueArray)){
      $uniqueArray[] = $subArray;
    }
  }
  return $uniqueArray;
}

$unique = array_multi_unique($result);

print_r($unique); 
```

具有讽刺意味的是，`in_array`它正在为数组工作，而`array_unique`没有。

# logback - 对 Logback Appender 类属性使用变量替换

> ID：13857785
> 
> 赞同：1
> 
> 时间：2012-12-13T10:25:08.033
> 
> 标签：logback

在为 Logback appender 指定实现类时是否可以使用变量替换？例如，

```
<appender name="LOGFILE" class="${LOGFILE_APPENDER_CLASS}"> 
```

当如上所述指定时，Logback 似乎尝试加载名称为“${LOGFILE_APPENDER_CLASS}”的类。即，不执行变量替换！

`21:17:11,331 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [${LOGFILE_APPENDER_CLASS}] 21:17:11,333 |-ERROR in ch.qos.logback.core.joran.action.AppenderAction - Could not create an Appender of type [${LOGFILE_APPENDER_CLASS}]. ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type ${LOGFILE_APPENDER_CLASS} at ch.qos.logback.core.util.DynamicClassLoadingException: Failed to instantiate type ${LOGFILE_APPENDER_CLASS}`

我想将输出发送到 Eclipse 开发人员的生产和控制台中的文件。如果可能，我不想复制 appender 配置，因为它包含一长串过滤器，在大多数情况下都是相同的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T06:57:23.550

根据问题，所有证据都表明 LogBack 在这种情况下不会执行变量替换。

采用的解决方案是从 XML 配置文件切换到 Groovy 配置文件。然后根据从环境中派生的“bDeveloper”变量动态控制附加程序列表。

```
def bDeveloper = ["","true"].contains("${System.getProperty("developer")}".toLowerCase())
if (bDeveloper) {
    scan("15 seconds")
    lstRootAppenders.add("BEAGLE")
    oLogfileAppender = ch.qos.logback.core.ConsoleAppender
} 
```

# sql-server-2008 - 如何更新xml数据

> ID：13857786
> 
> 赞同：1
> 
> 时间：2012-12-13T10:25:10.403
> 
> 标签：sql-server-2008

我有下表结构

身份证号码

xmlData xml

我希望 xml 列 (xmlData) 中的数据根据​​以下条件更新为新值。下面是 xml 列中的示例数据。

```
<customer>
  <name display="CName">abc</name>
  <customerId display="CID">123</customerId>
</customer> 
```

我的表中的某些行可能没有 customerId xml 标签，我想识别这些行并需要使用 customerId 更新 xml 标签

请建议，我该怎么做。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T11:43:49.103

将[modify() 方法（xml 数据类型）](http://msdn.microsoft.com/en-us/library/ms187093%28v=sql.100%29.aspx)与[insert (XML DML)](http://msdn.microsoft.com/en-us/library/ms175466%28v=sql.100%29.aspx)一起使用。

```
update YourTable
set xmlData.modify('insert <customerId display="CID">123</customerId> 
                    into customer[1]')
where xmlData.exist('/customer/customerId') = 0 
```

在 where 子句中使用[exists() 方法（xml 数据类型）](http://msdn.microsoft.com/en-us/library/ms189869%28v=sql.100%29.aspx)，因此您只更新没有`customerId`节点的行。

# python - Python logging.DEBUG 级别不记录

> ID：13857788
> 
> 赞同：34
> 
> 时间：2012-12-13T10:25:15.333
> 
> 标签：python, logging, syslog-ng

我对 python 的`logging`库有问题。使用下面的代码，我创建了一个“记录器”：

```
logger = logging.getLogger()
def logger_init(level):
    try:
        syslog = SysLogHandler(address=LOG_DESTINATION)
    except Exception, ex:
        return
    formatter = logging.Formatter('%(module)s[%(process)d]: %(message)s')
    syslog.setFormatter(formatter)
    syslog.setLevel(level)
    logger.addHandler(syslog) 
```

我称之为：

> logger.debug(SOME_STR_TO_BE_LOGGED)

或喜欢：

> logger.error(SOME_STR_TO_BE_LOGGED)

我初始化记录器：

```
log_level = logging.ERROR
if options.DEBUG_LOG: ####  This comes from options parser and it is True.
    log_level = logging.DEBUG
logger_init(log_level) 
```

问题是`error`, 和`warn`工作得很好，但是也`info`没有`debug`方法打印任何东西到系统日志。

我正在使用 syslog-ng 并且我设计了我的过滤器，即它将接受从`debug`到 的每个级别`emerg`。

这里有什么问题？有任何想法吗？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-12-13T10:37:05.100

您还必须设置记录器的级别，而不仅仅是处理程序。

将此添加到您的`logger_init`：

```
logger.setLevel(level) 
```

# vb6 - vb6 检查是否有多个计时器

> ID：13857792
> 
> 赞同：-1
> 
> 时间：2012-12-13T10:25:19.173
> 
> 标签：vb6, timer

在我的应用程序中，我有几个计时器，timer1 太 timer5。timer1 激活 timer2 等等，将前一个计时器设置为 false。

所以我想制作另一个跟随这些的计时器，比如“timer6”

```
if timer1.enabled = true then 'then it should check if the timer2 now is enabled
if timer2.enabled = true then 'and so on to it reaches timer5.. 
```

需要任何示例来实现这一点，因为我在一个停止点，基本上只需要这部分工作。

我的想法只是在 timer6 中执行此操作

```
if timer1.enabled = true then
  if timer2.enabled = true then
    if etc etc

    else 

      timer6.enabled = true
      timer6.enabled = false

    end if
  end if
end if 
```

结束子

任何想法如何做到这一点？

所以..我正在寻找一种方法来检查所有计时器是否在一个条件下启用并禁用最后一个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:46:57.680

我不确定您是否可以一次检查所有计时器，但您可以做的是保留所有计时器对应的布尔字段的数组。

```
 array = collection[timerState{timer1,true},timerState{timer2,false}] 
```

然后在每个计时器启用/禁用事件上，您保持此状态数组更新。

最后，无论您想要什么，您都将拥有所有计时器的状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T11:29:49.877

看看下面的测试项目

单击表单启动第一个计时器，单击按钮检查哪个计时器处于活动状态

```
'1 form with
'    1 timer : name=Timer1    Index=0
'    1 command button : name=Command1
Option Explicit

Private Sub Form_Load()
  Dim intIndex As Integer
  Timer1(0).Enabled = False
  Timer1(0).Interval = 1000
  For intIndex = 1 To 5
    Load Timer1(intIndex)
    Timer1(intIndex).Interval = intIndex * 1000
  Next intIndex
End Sub

Private Sub Form_Click()
  Timer1(0).Enabled = True
End Sub

Private Sub Timer1_Timer(Index As Integer)
  Print CStr(Now)
  Timer1(Index).Enabled = False
  If Index < Timer1.Count - 1 Then
    Timer1(Index + 1).Enabled = True
  Else
    Print "done"
  End If
End Sub

Private Sub Command1_Click()
  Dim intIndex As Integer
  For intIndex = 0 To Timer1.Count - 1
    If Timer1(intIndex).Enabled Then
      Caption = "active timer : " & CStr(intIndex)
      Exit For
    End If
  Next intIndex
End Sub 
```

# ruby-on-rails - Rails ARel 'includes' 的 Grails 等价物

> ID：13857798
> 
> 赞同：2
> 
> 时间：2012-12-13T10:25:23.493
> 
> 标签：ruby-on-rails, grails, grails-orm, arel

我有一个 Rails 应用程序，我可以使用 ARel“包含”例如（人为）显着加快速度

```
class User < ActiveRecord::Base
   has_many :posts
   scope :eager, includes(:posts => [:rating, :author, {:tags => [:day, {:foo => :bar}]}] )
end 
```

打电话

```
@posts = current_user.posts.eager 
```

极大地减少了页面负载，并大大减少了查询次数。Rails 通过首先在一个查询中选择帖子来做到这一点

```
select * from posts where ... 
```

然后在一个查询中选择所有这些帖子的所有评论，而不是每个评论一个查询：

```
select * from comments where post_id in (6,7,8,9,10,...) 
```

grails中是否有等价物？我熟悉条件和命名查询，我可以在其中编写包含大量连接的查询，但我想要 Grails 使用“IN”运算符生成一些查询。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:56:38.770

我发现了一些关于这个问题的参考资料：[Eager and Lazy Fetching](http://grails.org/doc/latest/guide/GORM.html#fetching) and [fetchMode](http://grails.org/doc/latest/ref/Domain%20Classes/fetchMode.html)。

# android - jQuery Mobile - 按钮样式 - 填充问题

> ID：13857801
> 
> 赞同：1
> 
> 时间：2012-12-13T10:25:34.103
> 
> 标签：android, css, jquery-mobile

请查看下面的照片以了解问题：

![在此处输入图像描述](../Images/a76a45371c69d4dc605063dcfe318edf.png)

我在这里填充有问题。我无法将“在线地图”按钮的文本放在按钮中间。我正在为 Android 开发这个应用程序。

HTML：

```
<div class="footer" data-tap-toggle="false">
<div class="wrapper">
<div class="ui-grid-b">
<div class="ui-block-a"><a href="#page_19_EN" data-rel="back">Back</a></div> 
<div class="ui-block-b"> 
<a data-theme="my-site" data-role="button" data-mini="true" onClick="checkReachability()">Online Map</a>      
</div> 
 <div class="ui-block-c home"><a href="#page_41_EN">Home</a></div>
</div>
</div>
</div> 
```

CSS：

```
.ui-btn-up-my-site { 
    color: white;       
    font-size:8px;      
    padding-top:0;
    padding-left:0 !important;
    border:1px solid #333;
    text-align:left !important;
    padding-right:0;
    margin-top:-10px ;
    white-space: normal;                 
}

.footer .ui-grid-b .ui-block-a, .footer .ui-grid-b .ui-block-c { width: 20%; } 
.footer .ui-grid-b .ui-block-b { width: 60%; text-align: center; padding:0;} 
```

我花了 5 个多小时尝试设计这个按钮的样式，但仍然没有成功。它让我发疯..有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:55:35.553

你可以试试设置

```
margin-left: 0px;
margin-right: 0px; 
```

有时它为我解决了明显的填充问题。希望它会工作。

# web - 新端口无法访问

> ID：13857802
> 
> 赞同：0
> 
> 时间：2012-12-13T10:25:35.897
> 
> 标签：web, amazon-ec2, webserver

我的服务器在端口 8080 上有 jboss，

现在我也想要Tomcat，

在 tomcat 7.0.34 中，我做了以下更改

```
<Connector port="8010" protocol="HTTP/1.1"
           redirectPort="8443" /> 
```

现在，当我从服务器本地主机访问应用程序时，它工作正常..

但我无法从客户端访问

注意：我已经从服务器 amazon ec2 打开了端口 8010

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-14T04:48:52.303

确保 Windows 防火墙服务已启动。如果禁用此功能，您将遇到问题。

接下来，转到控制面板并编辑防火墙设置以允许端口 8010 和 8443。使用 Telnet 127.0.0.1 8010 和端口 8443 进行测试。

# ios - 在 Xcode 中找不到 iostream

> ID：13857805
> 
> 赞同：8
> 
> 时间：2012-12-13T10:25:48.240
> 
> 标签：ios, zxing

我在我的应用程序中包含 ZXing 时遇到问题。我收到错误：“找不到 iostream 文件”。我已经完成了 ZXing 指令中的所有操作，但我无法正常工作。我将其包含在 .mm 文件中。我使用故事板这个项目适用于 iOS 6.0 这是我得到的错误：

> 在 /Users/adam/Developer/project/project/SecondViewController.mm:11 中包含的文件中：在 zxing/iphone/ZXingWidget/Classes/QRCodeReader.h:10 中包含的文件中：在 zxing/iphone/ZXingWidget/Classes 中包含的文件中/FormatReader.h:22：zxing/cpp/core/src/zxing/common/Counted.h:23:10：致命错误：找不到“iostream”文件

知道我该怎么做才能让它工作吗？

编辑：

当我选择 Compile Source File As Objcetive-C++ 项目编译时没有问题，但是正如我被告知这不是上帝的灵魂，因为这可能会在以后与应用程序的其他部分产生一些问题。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-29T16:08:08.363

只需使用 .mm 扩展名而不是 .m 重命名您的实现文件即可解决问题。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-12-13T10:30:51.953

项目 -> 构建设置 -> Apple LLVM 编译器 4.1-语言 -> C++ 标准库

确保将其设置为“ **libstdc++** ”

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-05T18:26:21.273

尝试创建一个新项目，并选择“命令行工具”作为您项目的模板。选择 C++。将您的代码粘贴到新项目中（它应该是一个 .cpp 文件）。当您运行该程序时，它应该能够毫无问题地包含 iostream。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-05-18T11:46:13.463

只是一个提示：确保实现文件扩展名是`.mm`

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-07-23T19:32:03.830

放入`#import "QRCodeReader.h"`mm 文件而不是它的头文件为我解决了这个问题

# jquery - 使用 jquery 禁用页面加载的链接按钮

> ID：13857809
> 
> 赞同：0
> 
> 时间：2012-12-13T10:25:58.880
> 
> 标签：jquery, ruby-on-rails

我有一个带有图像标签的 link_to_function。我想禁用它（使其图像模糊 n 禁用单击事件）以进行页面加载。但是单击名为“button 1”的另一个按钮，然后才应该启用它。我怎样才能完成它？

带有链接的图像的CSS是

```
.img  
{
opacity:0.4;
filter:alpha(opacity=40); 
} 
```

视图是....

```
<%i = 1%>
<div id = "file_<%= i %>" class = "file">
<%= link_to_function image_tag("play_images.png",:width => 30, :height => 30,:align => 'left', :title => 'Play', :id => "img_play#{i}"), :id => "play_#{i}"%>
&nbsp;&nbsp;<%= link_to_function image_tag("stop_images.png",:width => 30, :height => 30,:align => 'left', :title => 'Stop', :id => "img_stop#{i}",:class => "img"), :id => "stop_#{i}"%>
<%= link_to_function image_tag("fast_fwd.jpeg",:width => 30, :height => 30, :title => 'Fast farword', :id => "img_ff#{i}", :class => "img"), :disabled => 'true',:id => "ff_#{i}"%>

<%= link_to_function image_tag("images.jpeg",:align => 'right'), :id => "close_#{i}"%>
 <div id = "request_<%= i%>" class = "request">
   </div>
 </div>
 <%i = i + 1%> 
```

现在，我想要的最初是 2 个带有“img”类的图像按钮将被模糊和禁用，当我点击 id 为“play_#”的按钮时，两个带有“img”类的按钮都将删除它们的类，它们将b 启用。那么如何让它们在加载时禁用并在单击播放按钮时启用。我的jquery是...

```
 function set_file(id,time,user,node,activity)
    {
     var filename = "";
       filename = user+"_"+node+"_"+activity+"_"+time;

        jQuery("#log_"+id).ready(function() {
        jQuery("#file_"+id).dialog({modal: true, resizable: false, draggable: false,
                 title: "File Content", width: 520,

       });
        jQuery("#play_"+id).click(function(){
          jQuery("#img_stop"+id).removeClass();
          jQuery("#img_ff"+id).removeClass();
                    text="content of text here";
                    delay=500;
                    currentChar=1;
                    destination="[not defined]";
       jQuery.get('/requests/download_log/?filename=' + filename, function(data) {
    });

});
jQuery("#stop_"+id).click(function(){
    jQuery("#img_ff"+id).addClass('img');
    jQuery("#img_stop"+id).addClass('img');
   alert("Stop");
  });
   jQuery("#ff_"+id).click(function(){
  alert("Fast Forward");
  });
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:39:36.777

请更准确地描述您的问题，例如发布一些代码。

也许你尝试做这样的事情：

```
jQuery(document).ready(function() {
    var $button1 = jQuery('#button1');
    var $button2 = jQuery('#button2').attr('disabled', 'disabled');

    $button1.click(function() {
        if ($button2.is(':disabled')) {
            $button2.removeAttr('disabled');
        } else {
            $button2.attr('disabled', 'disabled');
        }
    });

    $button2.click(function() {
        alert('button2 - click');
    });
});​ 
```

在这里试试：http: [//jsfiddle.net/f9F9z/2/](http://jsfiddle.net/f9F9z/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:42:26.390

如果我对您的理解正确，那么您在这里有几种可能性。最常见的一种是最初使用 css display:none 不显示按钮。您可以在准备好文档时将显示设置为阻止或删除 css。如果您单击“按钮 1”，则可以使用相同的功能。

如果有另一种方法，您应该发布一些代码，以便我们查看是否有更合适的方法来执行此操作。

# html - 鼠标进入事件，但仅当鼠标进入尚未进入时

> ID：13857811
> 
> 赞同：0
> 
> 时间：2012-12-13T10:26:02.727
> 
> 标签：html, css

我有一个 div 元素和一个我想在鼠标进入它时触发一个函数。但它确实位于页面的中心，因此鼠标通常在页面加载和功能运行时位于其上。有没有办法让它在鼠标已经进入但进入时我的功能不会运行？

```
<div id = "mouse-control-div">.....</div>
<script type="text/javascript">
     $('#mouse-control-div').mouseover(function() {alert('some thing');});
</script> 
```

我也试过 .mouseenter 但结果相同。

（添加了代码示例）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T11:35:29.753

如果你有一个布尔值告诉你是否已经输入了怎么办？

有关 jQuery 事件的信息：MouseOver / MouseOut vs. MouseEnter / MouseLeave [看这里](http://www.bennadel.com/blog/1805-jQuery-Events-MouseOver-MouseOut-vs-MouseEnter-MouseLeave.htm)

```
// When the DOM is ready, init scripts.
jQuery(function( $ ){
    var isEntered = false;
    // Bind the mouse over /out to the first DIV.
    $( "#mouse-control-div" ).bind(
        "mouseover mouseout",
        function( event ){
            if(!isEntered)
            {
                isEntered = true;
                echo('entered');
            }
        }
    );

    // Bind the mouse enter to the second DIV.
    $( "#mouse-control-div" ).bind(
        "mouseenter mouseleave",
        function( event ){
            if(isEntered)
            {
                isEntered = false;
                echo('left');
            }
        }
    );

    function echo(string)
    {
        $('#output').append('<li>'+string+'</li>');
    }

}); 
```

​</p>

对于工作演示[看这里](http://jsfiddle.net/HGcXP/)

# php - 从 php mysql 迁移到 sql server php

> ID：13857816
> 
> 赞同：-1
> 
> 时间：2012-12-13T10:26:11.197
> 
> 标签：php, sql

> **可能重复：**
> [SQL 兼容性问题](https://stackoverflow.com/questions/13857256/sql-compatibility-issue)

我在stackoverflow上问了1-2个问题，但显然我走错了路！问题是，我得到了这个东西。我像这样连接到 sql 服务器：

```
odbc_connect("Driver={SQL Server};Server=$host;Database=$database;",$uid, $passVal ) or die("Connection could not established"); 
```

它应该使用我选择的数据库。现在，这是我选择表格列的方法。

```
$result = mysql_query("DESCRIBE TABLE users");
$data = mysql_fetch_assoc($result);
print_r($data); 
```

现在，请有人指导我哪里错了，这是我的第一种方法。你可以随心所欲地表现出“讽刺、讽刺”的样子，那将是不礼貌的。

我的问题是，为什么它不能识别数据库？显然，这就是问题所在。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:28:31.670

方法与`odbc_`方法无关`mysql_`。如果使用 连接`odbc_connect`，则需要使用`odbc_`方法来查询数据库。调用任何`mysql_`函数都会使其与最近的默认数据库建立一些默认连接，该连接与先前建立的`odbc_`连接完全分开。

你猜怎么着，你不能使用**mysql** API查询**MS SQL 服务器。**

# java - Java将字节转换为二进制安全字符串

> ID：13857824
> 
> 赞同：4
> 
> 时间：2012-12-13T10:26:27.377
> 
> 标签：java, redis, binary-data

我有一些以字节为单位的数据，我想把它们放到 Redis 中，但是 Redis 只接受二进制安全字符串，而我的数据有一些二进制非安全字节。那么如何将这些字节转换为二进制安全字符串，以便将它们保存到 Redis 中呢？

Base64 对我有用，但它使数据更大，有更好的主意吗？

更新：我想将我的protobuf对象序列化为Redis，并且序列化的数据有'\x00'，所以当我从Redis读取数据时，我无法将数据反序列化为对象。然后我尝试了base64，它工作正常，但尺寸更大。

所以我想弄清楚如何安全地将二进制数据（protobuf 对象）序列化到 Redis，并且尺寸更小

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:38:47.370

您可以尝试 ISO-8859-1 编码。这使用字节和字符之间的一对一映射。

这仍然可能导致损坏，具体取决于 Redis 需要此“二进制安全”字符串的原因。您可能必须使用 base64。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-01-03T20:42:27.317

序列化二进制对象（例如 protobuf 对象）的唯一安全方法是对其进行 base64 编码。Base64 有 33% 的开销，但让您能够安全地从任意二进制数据转换为文本（例如用于 xml 文件）并返回。

# mongodb - 如何在 mongodb 不同的查询中检索整个文档而不仅仅是键？

> ID：13857825
> 
> 赞同：0
> 
> 时间：2012-12-13T10:26:44.827
> 
> 标签：mongodb, distinct, morphia

Mongodb distinct 命令返回给定文档中不同键的列表。

有什么方法可以检索整个文档，而不仅仅是使用 mongodb java 驱动程序或 morphia 的键？

在文档中它说：

> 如果可能，distinct 命令将使用索引来查找查询中的文档并返回数据。

这是如何工作的，当我尝试使用 java 驱动程序时，它总是将键列表返回给我的查询。而且它没有考虑限制和订单查询。是否可以通过排序并将查询限制为不同的查询？

感谢您的反馈。

# sql - SQL统计某月出现的次数

> ID：13857826
> 
> 赞同：1
> 
> 时间：2012-12-13T10:26:45.950
> 
> 标签：sql

我有一个复杂的问题需要用 SQL 查询来解决。我需要生成一个报告，该报告给出一个数值，该数值代表用户在一年中每个月执行的一些操作。例如，如果 User1 在 1 月和 7 月执行了指定的操作，则查询需要在名为“一月”和“七月”的列中返回数字 1，在表示其他月份的列中返回 0。我从中提取数据的表只有一列，其中包含执行特定操作的日期和时间（这是与此特定问题相关的唯一列）。我需要进行一个 SQL 查询，该查询将在特定时间段内为每个用户返回此信息。请帮忙，如果您需要更多信息，请告诉我，我会提供。谢谢

结果的结构应该是这样的： User Jan Feb ..... Dec UID 1 0 1

对于所选期间出现的每个用户，我都需要这个。我的应用程序使用的是 SQL Server 2005。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:30:59.393

```
select  datepart(month, dateColumn) as Month
,       count(*) as NumberOfActions
from    Actions
group by
        datepart(month, dateColumn) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:46:50.000

上面的查询是正确的，虽然这只会返回一个月份的数字。

我会做以下事情。

```
SELECT  dateparth(month, dateColumn) as Month, count(*) as NumberOfActions
FROM Actions
GROUP BY Month 
```

然后（如果使用 php）考虑 mktime() 和 date() 函数。像这样：

```
/* The year doesn't matter. we are just trying to format this in to a date */
    $date = mktime(0, 0, 0, $row->Month, 1, 2012); 

/* This will display 'Jan, Feb, Mar ...' respectively */
    $dateText = date('M', $date); 
```

如果使用另一种语言，那么只需谷歌替代。这将是相同的原理..只是语法不同。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T10:56:32.480

这将按行返回数据，但我认为 OP 实际上是在列中要求它。你需要一个`PIVOT`声明，像这样的......

假设...

```
Create Table TestPivot (UserName Varchar(10), DateColumn DateTime); 
```

然后...

```
Select *
  From (Select UserName, DateName(Month, DateColumn) As Month_Name, Count(*) As Month_Count
          From TestPivot
         Group By UserName, DateName(Month, DateColumn)) As SourcePart
  Pivot (Sum(Month_Count)
         For Month_Name In (January, February, March, April, May, June, 
                            July, August, September, October, November, December)) As PivotPart 
```

# php - 实体模块安装后 Drupal 7 崩溃

> ID：13857834
> 
> 赞同：0
> 
> 时间：2012-12-13T10:27:02.367
> 
> 标签：php, drupal, drupal-7, drupal-modules

我想问一下如何通过数据库禁用drupal 7中的模块？我想启用使用 View_Bulk_Operations 模块所需的实体模块，但是当我单击“启用”按钮时，我收到一条有关文件系统权限的错误消息。一个或多个文件不可读。根据我的 FTP 访问，每个文件都是可读的。不幸的是，整个网站都崩溃了。

我可以访问数据库和网络服务器文件系统，但是没有机会使用 drupal 的管理表单。

我的问题是如何禁用使用数据库的模块？

我已经从文件系统中删除了模块文件，并且有一个包含文件属性的注册表，那些包含实体模块文件属性的行已被删除，但该站点无法正常工作。我应该多做些什么？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:52:13.840

从您的数据库管理器中，打开`system`表。

然后找到您想要的模块并将状态值更改为`0`.

# shell - 显示除最后一个以外的所有字段

> ID：13857836
> 
> 赞同：12
> 
> 时间：2012-12-13T10:27:04.820
> 
> 标签：shell, sed, awk, solaris

我有一个如下所示的文件

```
1.2.3.4.ask
sanma.nam.sam
c.d.b.test 
```

我想从每一行中删除最后一个字段，分隔符是`.`并且字段数不是恒定的。

任何人都可以帮助我`awk`或`sed`找出解决方案。我不能`perl`在这里使用。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-12-13T10:33:57.753

这些`sed`和`awk`解决方案都与字段数量无关。

使用`sed`：

```
$ sed -r 's/(.*)\..*/\1/' file
1.2.3.4
sanma.nam
c.d.b 
```

注意：`-r`是扩展正则表达式的标志，可以`-E`用`man sed`. 如果您的版本`sed`没有此标志，则只需转义括号：

```
sed 's/\(.*\)\..*/\1/' file
1.2.3.4
sanma.nam
c.d.b 
```

`sed`解决方案是进行贪婪匹配直到最后一个并捕获它之前的`.`所有内容，它只用匹配的部分（`n-1`字段）替换整行。`-i`如果您希望将更改存储回文件，请使用该选项。

使用`awk`：

```
$ awk 'BEGIN{FS=OFS="."}{NF--; print}' file
1.2.3.4
sanma.nam
c.d.b 
```

该`awk`解决方案只是简单地打印`n-1`字段，将更改存储回文件使用重定向：

```
$ awk 'BEGIN{FS=OFS="."}{NF--; print}' file > tmp && mv tmp file 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-13T10:30:48.007

倒车、剪车、倒车。

```
rev file | cut -d. -f2- | rev >newfile 
```

或者，从最后一个点替换为什么都没有结束：

```
sed 's/\.[^.]*$//' file >newfile 
```

正则表达式`[^.]`匹配一个不是点（或换行符）的字符。您需要排除点，因为重复运算符`*`是“贪婪的”；它将选择最左边，最长的匹配。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:37:09.960

如果你想保留“。” 在下面使用：

```
awk '{gsub(/[^\.]*$/,"");print}' your_file 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-13T10:32:14.017

在`cut`倒转的字符串上

```
cat youFile | rev |cut -d "." -f 2- | rev 
```

# sql - T-SQL //如何将北/东坐标转换为纬度/经度？

> ID：13857838
> 
> 赞同：4
> 
> 时间：2012-12-13T10:27:05.150
> 
> 标签：sql, sql-server, sql-server-2008, tsql

> **可能重复：**
> [东向北到纬度经度](https://stackoverflow.com/questions/7872539/easting-northing-to-latitude-longitude)

我在数据库中有许多北移/东移数据（例如：）`n 15217, e 88911`，我需要`Lat/long`使用 T-SQL 将其转换为。

我该怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-13T10:45:23.257

这里有一个开源 dll 库[（geocoordconversion）](http://code.google.com/p/geocoordconversion/)，可以将东/北转换为纬度/经度。因此，您可以敲出一些东西以将其用于原始转换。

或者，可能有用的是，我[在 GitHub 上有一个项目，](https://github.com/AdaTheDev/Ordnance-Survey-Code-Point-Data-Importer)该项目使用此 DLL 将完整的军械调查邮政编码数据集导入 SQL Server，将东/北转换为纬度/经度。这可作为命令行可执行文件使用。如果这与您想要的完全一致，那么您也许可以使用它。或者至少，有代码强调如何使用 DLL 执行转换。

**更新** 从我的项目中，.NET 片段使用 dll 转换为纬度/经度：

```
/// <summary>
/// Converts northing and easting coordinates into Longitude/Latitude coordinates in the WGS84 coordinate system.
/// </summary>
/// <param name="northing">northing coordinate</param>
/// <param name="easting">easting coordinate</param>
/// <returns>converted coordinates</returns>
protected PolarGeoCoordinate ConvertToLonLat(double northing, double easting)
{
    // Use GeoCoordConversion DLL to convert the Eastings & Northings to Lon/Lat
    // coordinates in the WGS84 system. The DLL was pulled from: http://code.google.com/p/geocoordconversion/
    // and is available under the GNU General Public License v3: http://www.gnu.org/licenses/gpl.html
    GridReference gridRef = new GridReference((long)easting, (long)northing);
    PolarGeoCoordinate polarCoord = GridReference.ChangeToPolarGeo(gridRef);
    return PolarGeoCoordinate.ChangeCoordinateSystem(polarCoord, CoordinateSystems.WGS84);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:38:32.037

如果您看到[此页面](http://www.uwgb.edu/dutchs/usefuldata/utmformulas.htm)显示了您可以应用更改此 UTM 格式的算法，请更改它们。您下载的页面上有一个示例电子表格，并查看计算结果。我怀疑它应该很容易抓住查找表并使用它们加入您的数据。

# php - 创建模块 prestashop 1.5

> ID：13857842
> 
> 赞同：4
> 
> 时间：2012-12-13T10:27:18.410
> 
> 标签：php, module, e-commerce, prestashop

我在 PrestaShop 1.5 mau 文件`mymodule.php`内容中创建了一个新模块

```
 <?php
  if (!defined('_PS_VERSION_'))
   exit;

  class myModule extends Module
   {
    public function __construct()
     {
      $this->name = 'mymodule';
      $this->tab = 'Test';
      $this->version = 1.0;
      $this->author = 'Firstname Lastname';
      $this->need_instance = 0;

      parent::__construct();

      $this->displayName = $this->l('My module');
      $this->description = $this->l('Description of my module.');
     }

   public function install()
    {
    if (parent::install() == false)
      return false;
    return true;
    }
   public function uninstall()
    {
    if (!parent::uninstall())

    parent::uninstall();
    }
   }
?> 
```

但我有一个错误消息

> mymodule (erreur de syntaxe dans /modules/mymodule/mymodule.php) mymodule (classe manquante dans /modules/mymodule/mymodule.php)

你能帮我吗

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T12:52:49.703

当我更改页面的编码（在没有 BOM 的 UTF-8 中编码）时，这个问题就解决了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-29T06:30:49.290

你为那个模块创建一个 config.xml 文件吗？还有一件事...... prestashop 中没有“测试”选项卡。将其更改为有效的选项卡属性。 [http://doc.prestashop.com/display/PS15/Creating+a+PrestaShop+module](http://doc.prestashop.com/display/PS15/Creating+a+PrestaShop+module) 这个链接可以帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T11:08:06.683

当您的类文件中只有语法错误时，通常会出现此错误。Prestashop 无法加载类文件，因此无法加载模块

您可以尝试 `php -l mymodule.php` 在命令行中启动以检测 php 文件中可能存在的语法错误

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-12T08:37:00.280

我会选择类名与模块名相同。

```
 class mymodule(){ 
```

不是**我的模块**

你也写过

```
 if (!parent::uninstall())
        parent::uninstall(); 
```

意思是如果卸载有错误你强制卸载？我认为，最好是

```
 if(parent::uninstall())
          return false;
   return true; 
```

# visual-studio - 没有找到windows phone 8模拟器

> ID：13857852
> 
> 赞同：0
> 
> 时间：2012-12-13T10:27:47.980
> 
> 标签：visual-studio, windows-phone-8

我成功安装了 Visual Studio 2012 和 Windows Phone 8 SDK。我创建了一个新的手机应用程序并尝试运行，但它没有显示 Visual Studio 2012 中的任何模拟器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T13:13:27.760

确保您的 PC 满足运行模拟器的系统要求：

*   Windows 8 专业版或更高版本
*   支持二级地址转换 (SLAT) 的处理器

> 如果您的计算机满足硬件和操作系统要求，但不满足 Windows Phone 8 模拟器的要求，Windows Phone SDK 8.0 将安装并运行。但是，Windows Phone 8 模拟器将无法运行，您将无法在 Windows Phone 8 模拟器上部署或测试应用程序。

[资源](http://www.microsoft.com/en-us/download/details.aspx?id=35471)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T20:58:04.483

几乎是@Olivier 的回答。此外，请确保您的计算机上启用了 Hyper-V。

取而代之的是，在 codeplex 上有一个非常好的工具，它几乎可以检查[您的计算机是否能够启动 hyper-v 和 windows phone emulator](http://slatstatuscheck.codeplex.com/)。

如果通过了，您将需要按照[这篇文章](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj863509%28v=vs.105%29.aspx)来设置 hyper-v。特别是两个启用部分。

不久前有一篇关于堆栈溢出特别需要什么的帖子。可以在[这里找到](https://stackoverflow.com/questions/13145464/what-does-it-take-to-run-the-windows-phone-8-emulator/13145586#13145586)

# html - 为什么显示：inline-block; 从子元素中删除下划线？

> ID：13857853
> 
> 赞同：11
> 
> 时间：2012-12-13T10:27:54.750
> 
> 标签：html, css, text-decorations

最近我回答了一个问题，OP想要包裹在元素`text-decoration: underline;`内的整个文本`a`，而不是包裹在里面的文本`span`，所以它是这样的

```
<a href="#"><span>Not Underline</span>Should Be Underlined</a> 
```

所以简单地给予

```
span {
   text-decoration: none;
} 
```

不删除包裹在`span`元素内的文本的下划线

但这确实删除了下划线

```
span {
   text-decoration: none;
   display: inline-block;
} 
```

所以我做了`span`一个`inline-block`并且它起作用了，这就是我通常的做法。但是当谈到解释时，我无法解释为什么这样做实际上会删除简单使用`text-decoration: none;`没有的下划线。

[**演示**](http://jsfiddle.net/zBzcK/)

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-13T10:31:28.117

在某些情况下，文本装饰会从元素传播到某些后代。该[规范](http://www.w3.org/TR/CSS21/text.html#lining-striking-props)描述了这种情况发生和不发生的所有情况（以及行为未明确定义的情况）。在这里，以下部分是相关的：

> 请注意，文本装饰不会传播到浮动和绝对定位的后代，也不会传播到原子内联级后代的内容，例如内联块和内联表。

请注意，这种传播与继承不同，完全是一个单独的概念；确实，`text-decoration: none`并且`text-decoration: inherit`不会以您期望的方式影响传播：

*   `text-decoration: none`仅表示“此元素没有自己的文本装饰”，并且
*   `text-decoration: inherit`表示“此元素具有与`text-decoration`其父元素相同的指定值。”

在这两种情况下，父文本装饰仍将传播到适用的元素。您可以使用 强制内联块具有与其父级相同的文本装饰`inherit`，但*不能*使用父级通过从其祖先传播获得的任何其他装饰。

这也意味着仅仅拥有`display: inline-block`就足以防止文本装饰被传播。您无需`text-decoration: none`再次指定 - 它已经是初始值。

# regex - 从一个 IP 地址中选择所有不同的 IP 地址

> ID：13857855
> 
> 赞同：-2
> 
> 时间：2012-12-13T10:28:01.110
> 
> 标签：regex, powershell

我对 Powershell 还很陌生，但我遇到了一个相当有趣的问题。我有一个包含不同 IP 地址的日志文件。日志文件的最大部分是 localhost 生成的内容。

我想过滤所有那些不是来自某个本地主机 ip 的条目。

我将如何使用正则表达式来做到这一点，或者是否有更优雅的解决方案？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:35:57.787

选择具有特定 ip 的行尝试：

```
 get-content c:\mylogfile.log | select-string -pattern '192.168.1.100' 
```

选择没有特定 ip 的行尝试：

```
 get-content c:\mylogfile.log | ? { $_ -notmatch '192.168.1.100' } 
```

选择没有特定 ip 但至少有 ip 的行尝试：

```
 get-content c:\mylogfile.log | ? { $_ -notmatch '192.168.1.100' } |
? { $_ -match '\b(?:\d{1,3}\.){3}\d{1,3}\b' } 
```

# python - 将字节字符串拆分为行

> ID：13857856
> 
> 赞同：61
> 
> 时间：2012-12-13T10:28:02.107
> 
> 标签：python, python-3.x

如何将字节字符串拆分为行列表？

在 python 2 中，我有：

```
rest = "some\nlines"
for line in rest.split("\n"):
    print line 
```

为简洁起见，上面的代码进行了简化，但现在经过一些正则表达式处理，我有一个字节数组，`rest`我需要迭代这些行。

* * *

## 回答 #1

> 赞同：115
> 
> 时间：2013-02-26T17:33:28.600

没有理由转换为字符串。只需给出`split`字节参数。用字符串分割字符串，用字节分割字节。

```
>>> a = b'asdf\nasdf'
>>> a.split(b'\n')
[b'asdf', b'asdf'] 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-12-13T10:40:13.203

将字节解码为 un​​icode (str)，然后使用`str.split`：

```
Python 3.2.3 (default, Oct 19 2012, 19:53:16) 
[GCC 4.7.2] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> a = b'asdf\nasdf'
>>> a.split('\n')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: Type str doesn't support the buffer API
>>> a = a.decode()
>>> a.split('\n')
['asdf', 'asdf']
>>> 
```

您也可以按 拆分`b'\n'`，但我想您无论如何都必须使用字符串而不是字节。`str`因此，请尽快将所有输入数据转换为，并且仅在代码中使用 unicode，并在需要时将其转换为字节以尽可能晚地输出。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-12-13T10:49:15.383

试试这个.. 。

`rest = b"some\nlines"`
`rest=rest.decode("utf-8")`

那么你可以做`rest.split("\n")`

# c - 某些输入而不是其他输入的分段错误

> ID：13857863
> 
> 赞同：-1
> 
> 时间：2012-12-13T10:28:28.417
> 
> 标签：c, segmentation-fault, user-input

这是我编写的一个函数，其中已经包含一些调试元素。当我输入“y”或“Y”作为输入时，我在运行时遇到分段错误。当我输入任何其他值时，代码就会运行。seg 故障在它扫描并给我响应但在“扫描工作”行输出之前踢出。不知道为什么它只会对这些值起作用。如果有人需要函数调用，我也有。

```
query_user(char *response [10])
{
    printf("response after query call before clear=%s\n",response);
    strcpy(response,"");
    printf("response after clearing before scan=%s\n",response);
    printf("Enter another person into the line? y or n\n");
    scanf("%s", response);
    printf("response after scan=%s\n",response);
    printf("scan worked");
}

main()
{
    char response [10]; 
    strcpy(response,"y"); 
    printf("response=%s\n",response); 
    printf("When finished with program type \"done\" to exit\n"); 
    while (strcmp(response,"done") != 0)
    {
        printf("response after while loop and before query call=%s\n",response);
        query_user(&response);
    }
} 
```

错误输出：

```
在 clear=y 之前查询调用后的响应
扫描前清除后响应=
让另一个人进入队列？是或否
是的
扫描后的响应=y
分段错误（核心转储）

```

非错误输出：

```
在 clear=y 之前查询调用后的响应
扫描前清除后响应=
让另一个人进入队列？是或否
n
扫描后的响应=n
扫描工作
循环数 0
（程序在这个函数之外继续运行）

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:40:21.987

您对参数的声明`query_user`是错误的。您已经声明了一个指向`char`. 您需要一个简单的字符缓冲区。像这样：

```
query_user(char response[]) 
```

或者

```
query_user(char* response) 
```

使用任何你喜欢的。

当你调用这个函数时，你可以这样做：

```
query_user(response); 
```

另外我要指出你的声明`main`是不正确的。你应该使用

```
int main(void) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:01:57.010

您正在做的事情并不完全安全。

如果用户磁带超过标签的大小会发生什么？（可能是段错误）。

你真的应该使用类似 scanf(" **%9s** ", response) 的东西（你必须在它之后清空缓冲区！）：

（标签大小 = 10 的示例）：

```
query_user(char *response)
{
    printf("response after query call before clear=%s\n",response);
    strcpy(response,"");
    printf("response after clearing before scan=%s\n",response);
    printf("Enter another person into the line? y or n\n");
    scanf("%9s", response);
    clean_buffer();
    printf("response after scan=%s\n",response);
    printf("scan worked");
}

void clean_buffer()
{
   int c;
   while ((c = getchar ()) != '\n' && c != EOF);
} 
```

希望能帮助到你 ！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-13T13:07:18.447

首先，您发布的代码不会重现问题。我在 Linux 上使用 Gcc 4.6.2 和在 Windows 上使用 Visual Studio 2010 进行了测试。在这两种情况下，使用您的确切代码，我的输出是：

> 响应=y
> 完成程序类型“完成”以
> 在while 循环之后和查询调用之前退出响应=y查询调用之后的响应
> clear=y
> 扫描之前清除之后的响应=
> 输入另一个人进入该行？y 或 n
> y扫描后的
> 响应=y
> 扫描后的响应 while 循环后和
> 查询调用之前的响应=y 查询调用后的响应 clear=y
> 扫描前清除后的响应=
> 输入另一个人进入该行？是或否

因此，为了更好地诊断，我们需要一套完整的工作代码来显示这个问题。发布的代码有很多警告（不确定这些是否也在你的基础中），有时忽略警告会让你陷入困境：

*   `main`应该返回`int`：`int main()`
*   最后在你的 main 中放一个 return`return 0;`
*   `query_user`需要一个`void`返回类型：`void query_user()`
*   `strcpy`需要`char *`你给它`char **`

对于最后一点，您可以通过将数组传递给您的函数来修复它，例如：

```
 query_user(response); // remove the & operator 
```

并且您的标题`query_user()`需要更改，例如：

```
 query_user(char response [10]) // remove the * operator 
```

另请注意， scanf 将`'\n'`在 上留下一个字符`stdin`，以确保您不会消耗可以在 之前放置一个空格`%s`：

```
scanf(" %s", response); 
```

我不认为这会产生很大的不同，但请确保你做出改变。请发布实际显示错误的代码更新。

# imagemagick - 流星js中的imagemagick（借助流星路由器和光纤）

> ID：13857866
> 
> 赞同：3
> 
> 时间：2012-12-13T10:28:35.100
> 
> 标签：imagemagick, meteor, node-fibers

我无法在meteorjs 中使用imagemagick。我正在开发一个小型 svg->png 转换器，其中包含一个用于提供转换后的图像的 rest api。我用meteor-router实现了其余的api。imagemagick 转换有效。但是，我无法将转换结果写入 http 响应。我试图通过使用光纤来消除异步性来解决这个问题。但这仍然行不通。基本上，所有 request.write 调用在 yield 执行后都会被忽略。这是我的代码：

```
Meteor.Router.add({
  '/image/:hash' : function(hash) {

    var svg = Images.findOne({'hash' : hash}).svg;

    var request = this.request;
    var response = this.response;

    Fiber(function() {
      var fiber = Fiber.current;

      response.writeHead(200, {'Content-Type':'image/png'});

      var convert = imagemagick.convert(['svg:-', 'png:-']);

      convert.on('data', function(data) {
        response.write("doesn't work");
        //response.write(data);
      });

      convert.on('end', function() {
        response.write("doesn't work");
        //response.end();
        fiber.run({});
      });

      convert.stdin.write(svg);
      convert.stdin.end();

      response.write("works");
      Fiber.yield();
      response.write("doesn't work");
    }).run();

  }
}); 
```

我对meteorjs很陌生。因此，我可能会完全错误地使用 Fiber。或者我根本不应该使用纤维。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-17T07:30:54.553

感谢meteor-router的作者，我能够解决这个问题。我以错误的方式使用光纤。如[https://github.com/laverdet/node-fibers#futures](https://github.com/laverdet/node-fibers#futures)所述，不建议在代码和原始 API 之间没有抽象的情况下使用 Fiber。

幸运的是，光纤提供了一种称为未来的抽象，可以用于我的用例！这是工作代码：

```
var require = __meteor_bootstrap__.require,
Future  = require('fibers/future');

Meteor.startup(function() {
  Meteor.Router.add('/image/:hash', function(hash) {
    var response = this.response;
    var fut = new Future();

    response.writeHead(200, {'Content-Type':'text/plain'});

    setTimeout(function(){ 
      response.write("hello hello");
      fut.ret();
    }, 1); 

    fut.wait();
  });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-15T12:34:29.373

我又做了一些调查。这个问题与 imagemagick 是正交的。例如：以下代码片段在流星路由器中也不起作用：

示例 1：

```
Meteor.startup(function() {                                                        
  Meteor.Router.add({                                                              
    '/image/:hash' : function(hash) 

      var request = this.request;                                                  
      var response = this.response;                                                

      response.write("outside");                                                   

      setTimeout(function(){                                                       
        response.write("inside");                                                  
        response.end();                                                            
      }, 1); 
    }                                                                           
  }); 
```

示例 2：

```
Meteor.startup(function() {                                                        
  Meteor.Router.add({                                                              
    '/image/:hash' : function(hash) 
      var request = this.request;                                               
      var response = this.response;                                             

      response.write("outside");                                                

      Fiber(function() {                                                        
        var fiber = Fiber.current;                                              

        setTimeout(function(){                                                  
          response.write("inside");                                             
          response.end();                                                       
        }, 1);                                                                  
        Fiber.yield();                                                          
      }).run();   
    }                                                                           
  }); 
```

我认为这是流星路由器的一般问题。因为这两个示例都适用于纯 nodejs。

# interface - 如何在 Fortran 界面中使用用户定义类型

> ID：13857867
> 
> 赞同：4
> 
> 时间：2012-12-13T10:28:34.213
> 
> 标签：interface, fortran, user-defined-types

在 Fortran 2003 模块中，我定义了一个名为的类型`t_savepoint`，稍后，我想为一个名为 的子例程定义一个接口，该子例程`fs_initializesavepoint`将一个类型的对象`t_savepoint`作为唯一参数。

这是整个模块的代码：

```
module m_serialization

    implicit none

    type :: t_savepoint
        integer :: savepoint_index
        real    :: savepoint_value
    end type t_savepoint

    interface

        subroutine fs_initializesavepoint(savepoint)
            type(t_savepoint) :: savepoint
        end subroutine fs_initializesavepoint

    end interface

end module m_serialization 
```

我想要这样一个接口的原因是稍后我会让这个 fortran 模块与 C 互操作。

如果我尝试编译它（gfortran-4.7.0），我会收到以下错误消息：

```
 type(t_savepoint) :: savepoint
                                          1
Error: The type of 'savepoint' at (1) has not been declared within the interface 
```

如果我在子例程中移动类型的定义，错误就会消失；但是如果我想在许多子程序中使用相同的类型，我应该在所有子程序中重复定义吗？

先感谢您。

**编辑**：一种解决方案是将类型的定义移到另一个模块上，然后`use`在每个子例程中移到它。但是我不太喜欢这个解决方案，因为类型`t_savepoint`和子例程是同一个概念主题的一部分。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-13T10:45:13.230

在接口块中正确或错误地，您无法通过主机关联访问环境。要解决此问题，您需要显式导入数据类型：

```
[luser@cromer stackoverflow]$ cat type.f90
module m_serialization

  implicit none

  type :: t_savepoint
     integer :: savepoint_index
     real    :: savepoint_value
  end type t_savepoint

  interface

     subroutine fs_initializesavepoint(savepoint)
       Import :: t_savepoint
       type(t_savepoint) :: savepoint
     end subroutine fs_initializesavepoint

  end interface

end module m_serialization
[luser@cromer stackoverflow]$ gfortran -c type.f90 
```

这是f2003。

但是，我怀疑您提出的方式表明您不会以最好的方式对其进行编码。更好的是将例程本身放在模块中。然后你根本不需要介意界面：

```
module m_serialization

  implicit none

  type :: t_savepoint
     integer :: savepoint_index
     real    :: savepoint_value
  end type t_savepoint

Contains

  Subroutine fs_initializesavepoint(savepoint)

    type(t_savepoint) :: savepoint 

    Write( *, * ) savepoint%savepoint_index, savepoint%savepoint_value

  End Subroutine fs_initializesavepoint

end module m_serialization
[luser@cromer stackoverflow]$ gfortran -c type.f90 
```

鉴于模块实际上是为处理连接实体而设计的，这确实是在 Fortran 中执行此操作的方式。它还具有只需要 f95 编译器的优点，因此是普遍可用的（尽管公认导入是通常实现的）

# xml - XSLT 翻译以删除特殊字符等

> ID：13857875
> 
> 赞同：1
> 
> 时间：2012-12-13T10:28:56.340
> 
> 标签：xml, xslt, xslt-1.0

我希望能够翻译和 XML 项目以删除空格和任何特殊字符并将大写字符转换为小写，至少可以说我有点卡住了！

理想情况下，我想要一种方法来捕获所有特殊字符以将它们撕掉，而不是单独指定它们。我已经阅读了有关白名单的一些答案，但不确定如何在这里实现。要指出的另一件事是我只能使用 XSLT 1.0。

提前致谢！:)

这是我到目前为止所拥有的：

```
<xsl:template match="faq">
<article>
    <xsl:call-template name="questionMatch"/>
</article>
</xsl:template>
<xsl:template name="questionMatch" match="section">
    <xsl:for-each select="section">
        <xsl:for-each select="qa">
            <div class="toggler" id="{translate(translate(translate(question,'?!£$%^*',''), ' ', ''), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')}">
            </div>
        </xsl:for-each>
    </xsl:for-each>
</xsl:template> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T11:20:12.020

啊哈，尤里卡！我似乎已经在其他一些主题的帮助下（最终）弄清楚了。我想我会分享答案，因为它可能会在未来帮助其他人？

答案是：

```
<xsl:template name="questionMatch" match="section">
    <xsl:variable name="vAllowedSymbols" select="'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'"/>
        <xsl:for-each select="qa">
            <div class="toggler" id="{translate(translate(question, translate(question, $vAllowedSymbols, ''), ''), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')}">
            </div>
    </xsl:for-each>
</xsl:template> 
```

# android - 缩放整个屏幕 Android

> ID：13857876
> 
> 赞同：4
> 
> 时间：2012-12-13T10:28:59.680
> 
> 标签：android

最近，我一直在开发一个应用程序，该应用程序需要通过双指缩放来放大和缩小整个屏幕。在过去，我使用过缩放的奇异 ImageViews，但我对如何缩放屏幕上的所有内容感到有些困惑。

例如，如果用户在屏幕中心进行捏合缩放，则所有内容都将保持彼此相对相同的大小，但它会给出屏幕正在放大的外观。

# r - 在 R 中解释此错误消息

> ID：13857877
> 
> 赞同：0
> 
> 时间：2012-12-13T10:29:02.283
> 
> 标签：r

我有[以下](https://dl.dropbox.com/u/22681355/mat.csv)矩阵

```
mat<-read.csv("mat.csv")
sel<-c(135, 211) 
```

我想选择 'mat' 中与 'sel' 对应的行

我通过以下方式进行操作：

```
subset(mat, mat$V2==c(sel)) 
```

我收到以下错误：

```
Warning message:
In l[, 2] == c(135, 211) :
  longer object length is not a multiple of shorter object length 
```

而且它只选择两者之一。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:35:34.387

试试这个（学分去罗兰）

```
mat[mat$V2 %in% sel,]
    X V1  V2 V3 V4  V5 V6 V7 V8 V9 V10
11 11  1 135  2  7 100  2  0  0  0   0
15 15  1 211  5  7 100  2  0  0  0   0 
```

`?'%in%`您可以阅读：

```
 %in% is a more intuitive interface as a binary operator, which returns
a logical vector indicating if there is a match or not for its left operand. 
```

如果您有一个指示匹配的逻辑向量，那么您可以使用它来索引和选择您想要的元素。在这种情况下，`mat$V2 %in% sel`匹配其中的所有元素`mat$V2`将为`sel`您提供一个逻辑向量，然后在其中使用它`mat[row, col]`您将仅获得那些所需的元素，因为`mat[mat$V2 %in% sel,]`这意味着：为那些行提供满足条件的元素的所有列`mat$V2 %in% sel`。

# android - PhoneGap 或本机应用程序开发

> ID：13857883
> 
> 赞同：1
> 
> 时间：2012-12-13T10:29:22.527
> 
> 标签：android, cordova

由于我们仍处于设计阶段，我们的移动应用程序还没有代码。然后我偶然发现了PhoneGap 工具，它让我们陷入了思考。我们都来自 Java 背景，所以这就是为什么使用 ADT/Java 进行开发看起来是唯一的选择。PhoneGap 的知识增长是否陡峭，或者您认为从一开始就值得使用它，因为我们还没有完成现有的代码。我们原本打算使用 GAE/Big table 来进行后端持久性。如果您将PhoneGap 用于前端，这仍然可能吗？另外，我可以假设可以使用 Selenium 通过 phoneGap 自动进行功能测试吗？

我们的 UI 将仅由按钮、少量静态图像和文本组成。我是否正确地说 PhoneGap 的性能缺陷在这种情况下可能不是问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T10:57:50.253

我确实为这两个平台开发了这两个平台，但它们完全是应用程序，下面的注释是基于我的经验，我正在为 PhoneGap 写作（我认为），你可以假设 android 是相反的一面。

1.  跨平台，现在它支持所有主要手机（Android、IOS、WP）我不确定它是否适合你，因为你只标记了 Android。
2.  HTML5、JS、CSS 这些是我的领域，因为您是基于 Java 的开发人员，所以这取决于您。
3.  不是原生的，所以会比原生的慢。
4.  跨浏览器兼容性。我认为这不需要解释，尤其是对于桌面浏览器来说，手机更容易，但它仍然是一个问题。

为了回答您的问题，

是的，您可以使用 GAE/Big 表作为后端，使用 AJAX，因为 PhoneGap 使用`file://`支持跨 URL 请求的协议。

我个人不使用PhoneGap，如果该应用程序是一个游戏并且有很多动画正在进行。但在您的情况下，它是一个用于列出数据的应用程序，响应式 Web 可能比原生应用程序更容易支持所有屏幕尺寸。

我对 Selenium 测试一无所知，所以我对此保持沉默。

对你来说更简短的回答**是**，你可以使用并且应该使用。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:48:21.253

让我们开始回答你的一堆问题？

我希望您使用 PhoneGap 吗？肯定是的，学习曲线也不陡峭，你只需要知道基本的 HTML、CSS 和 Javascript。由于您还提到该应用程序很简单，因此使用PhoneGap会很好。每个人都知道 PhoneGap 在性能方面很糟糕，但由于您的应用程序看起来很简单，所以它不会成为问题。

我为什么推荐？一次编写，跨多个移动平台部署（如果您想支持更多设备）

可以运行 Selenium 测试吗？是的，你可以，它只是一个网络应用程序。:)

去吧，试试看。

如果您只想支持 Android、iOS 或 WP7，那么我更喜欢原生开发而不是 PhoneGap，因为性能很重要。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:51:49.633

在您的情况下，您可以在这两者之间进行选择。不会有严重的缺点。

在许多情况下，尤其是连接到 Web 服务的业务应用程序，在 Phonegap 和本机应用程序之间进行选择是个人选择的问题。我遇到过一些喜欢Phonegap 的人，而另一些人则避免使用Phonegap、Appcelerator 或其他包装器框架并喜欢本机代码。

Phonegap 易于学习，如果您需要Phonegap 提供的功能之外的一些功能，您可以为您的应用程序创建一个插件。也就是说，如果您需要实现 Phonegap 未提供的功能，您仍然需要为插件编写本机代码。

# android - 使用 FQL 从 Facebook 解析 JSON 数据时出错

> ID：13857884
> 
> 赞同：0
> 
> 时间：2012-12-13T10:29:24.357
> 
> 标签：android, facebook, facebook-fql, facebook-android-sdk

我正在尝试在 Android 应用程序中使用 FQL 解析从 Facebook API 获取的结果（JSON）。

我已经能够解析除这部分之外的所有结果集：

```
[10151392619250579,10151392618640579,10151392618590579,10151392618785579,10151392618835579,10151392618885579,10151392619010579,10151392619155579] 
```

我正在做的 FQL 查询是：

```
SELECT app_data FROM stream WHERE filter_key in (SELECT filter_key FROM stream_filter WHERE uid = me() AND type = 'newsfeed') AND is_hidden = 0 LIMIT 200 
```

它返回如下结果：

```
{
    "app_data": {
        "attachment_data": "[]",
        "images": "[10151392619250579,10151392618640579,10151392618590579,10151392618785579,10151392618835579,10151392618885579,10151392619010579,10151392619155579]",
        "photo_ids": [
          "10151392619250579",
          "10151392618640579",
          "10151392618590579",
          "10151392618785579",
          "10151392618835579",
          "10151392618885579",
          "10151392619010579",
          "10151392619155579"
        ]
    }
} 
```

这是我用来获取数据的代码：

```
// GET THE APP DATA
if (JOFeeds.has("app_data"))    {
    String strAppData = JOFeeds.getString("app_data");

    if (strAppData.equals("[]"))    {
        // DO NOTHING
    } else {

        JSONObject JOAppData = new JSONObject(strAppData);

        if (JOAppData.has("photo_ids")) {
            String strPhotoIDS = JOAppData.getString("photo_ids");

            JSONArray JAPhotoIDS = new JSONArray(strPhotoIDS);
            Log.e("JAPhotoIDS", JAPhotoIDS.toString());

            for (int j = 0; j < JAPhotoIDS.length(); j++) {
                JSONObject JOPhotoIDS = JAPhotoIDS.getJSONObject(j);
                Log.e("PHOTO IDS", JOPhotoIDS.toString());
            }
        }

    }
} 
```

然而，logcat 总是显示这个错误：

```
12-13 15:54:36.390: W/System.err(5841): org.json.JSONException: Value 10151392619250579 at 0 of type java.lang.Long cannot be converted to JSONObject 
```

显然我在编码方面是错误的。任何人都可以就正确的方法/代码应该是什么提供任何建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T10:32:32.620

你解析的部分`photo_ids`是错误的，应该是这样的：

```
if (JOAppData.has("photo_ids")) {
        JSONArray JAPhotoIDS = JOAppData.getJSONArray("photo_ids");
        Log.e("JAPhotoIDS", JAPhotoIDS.toString());

        for (int j = 0; j < JAPhotoIDS.length(); j++) {
            String id = JAPhotoIDS.getString(j);
            Log.e("PHOTO IDS", id);
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-13T10:32:34.733

您的 JSONArray JAPhotoIDS 包含一个数组`Long`（不是 JSONObject）。所以改为使用

```
JSONObject JOPhotoIDS = JAPhotoIDS.getJSONObject(j); 
```

采用

```
Long lPhotoIDS = JAPhotoIDS.getLong(j); 
```

# javascript - KineticJS 似乎正在从画布上清除我不想清除的东西

> ID：13857885
> 
> 赞同：0
> 
> 时间：2012-12-13T10:29:33.900
> 
> 标签：javascript, html5-canvas, kineticjs

我有一个带有 HTML5 画布的网页，上面显示了一些图像以及一些文本和形状。

文本和形状已由 JavaScript 函数绘制：

```
function drawGameElements(){
    /* Draw a line for the 'score bar'. */
    context.moveTo(0, 25);
    context.lineTo(1000, 25);
    context.stroke();

    /* Draw current level/ total levels on the left, and current score on the right. */
    context.font = "11pt Calibri"; /* Text font & size */
    context.strokeStyle = "black"; /* Font colour */
    context.strokeText(currentLevel + "/" + totalLevels, 10, 15);
    context.strokeText(currentScore, 950, 15);
} 
```

和

```
function drawDescriptionBoxes(){
CanvasRenderingContext2D.prototype.drawDescriptionArea = function(x, y, width, height, radius, stroke){
        if(typeof stroke == "undefined" ){
            stroke = true;
        }
        if(typeof radius === "undefined"){
            radius = 5;
        }
        this.beginPath();
        this.moveTo(x + radius, y);
        this.lineTo(x + width - radius, y);
        this.quadraticCurveTo(x + width, y, x + width, y + radius);
        this.lineTo(x + width, y + height - radius);
        this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        this.lineTo(x + radius, y + height);
        this.quadraticCurveTo(x, y + height, x, y + height - radius);
        this.lineTo(x, y + radius);
        this.quadraticCurveTo(x, y, x + radius, y);
        this.closePath();
        if(stroke){
            context.stroke();
        }
    }

    context.drawDescriptionArea(70, 400, 120, 70);
    context.font = '25pt Calibri';
    context.strokeText('Asset', 90, 440);

    context.drawDescriptionArea(300, 400, 120, 70);
    context.strokeText('Liability', 310, 440);

    context.drawDescriptionArea(540, 400, 120, 70);
    context.strokeText('Income', 550, 440);

    context.drawDescriptionArea(750, 400, 180, 70);
    context.strokeText('Expenditure', 760, 440);
} 
```

图像首先从它们的源加载到 HTML 中的隐藏部分，然后从那里加载到一个名为“sources”的 JavaScript 数组中：

```
function loadImages(sources, callback){
    var imagesDir = "";
    var images = {};
    var loadedImages = 0;
    var numImages = 0;

    //console.log("length " + sources.length);
    for (var src in sources){
        numImages++;
    }
    //console.log("Num Images " + numImages);

    var index=0;
    console.log("length " + sources.length);
    for (index=0;index < numImages ;index++){
        console.log(index);
        images[index] = new Image();
        images[index].src = sources[index];
        console.log("Adding " + sources[index]);
        callback(images[index]);
        console.log("images array length = " + images.length);
    }

    stage.add(imagesLayer); // should only be added once!!
    drawGameElements();
} 
```

之后，我使用另一个 JS 函数将这些图像绘制到画布上：

```
function drawImage(imageObj) {
    //var layer = new Kinetic.Layer();

    var canvasImage = new Kinetic.Image({
      image: imageObj,
      width: 50,
      height: 50,
      // puts the image in teh middle of the canvas
      x: stage.getWidth() / 2 - 50 / 2,
      y: stage.getHeight() / 2 - 50 / 2,
      draggable: true
    });

    // add cursor styling
    canvasImage.on('mouseover', function() {
      document.body.style.cursor = 'pointer';
    });
    canvasImage.on('mouseout', function() {
      document.body.style.cursor = 'default';
    });

    imagesLayer.add(canvasImage);
  } 
```

此函数使用 KineticJS 库使图像可拖动。在浏览器中查看页面时，所有内容最初都按预期显示，图像、文本和形状都可见。但是，一旦您单击图像将其拖放到画布上，由标准 JS 函数（不是 KineticJS 库）绘制的文本和形状都会从画布上消失。

我认为这是因为 KineticJS 库在新位置重绘图像时完全清除了画布。

在拖放图像时，如何确保我也绘制到画布上的文本和其他形状保留在画布上？或者至少它们与拖放图像一起重绘？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-13T13:17:01.440

如果您已经使用 Kineticjs，为什么不让 Kineticjs 在开始时绘制图像和文本？

```
function drawGameElements(){
    /* Draw a line for the 'score bar'. */
    context.moveTo(0, 25);
    context.lineTo(1000, 25);
    context.stroke();

    /* Draw current level/ total levels on the left, and current score on the right. */
    context.font = "11pt Calibri"; /* Text font & size */
    context.strokeStyle = "black"; /* Font colour */
    context.strokeText(currentLevel + "/" + totalLevels, 10, 15);
    context.strokeText(currentScore, 950, 15);
} 
```

在 Kineticjs 中很容易转换为自定义形状，drawDescriptionBoxes 函数中的内容也是如此。

# html - 将内阴影添加到圆形图像内联css

> ID：13857887
> 
> 赞同：1
> 
> 时间：2012-12-13T10:29:37.890
> 
> 标签：html, image, css

我正在尝试将内部阴影添加到圆形图像。由于它是为 html 电子邮件编写的，因此它是内联 css。

我有这个：

```
<td style="border:3px solid #ffffff;border-radius: 50px 50px;box-shadow: 0 0 20px 0px #000000 inset">
 <span><img style="border-radius: 50px 50px;" src="http://media.futuresmag.com/futuresmag/article/2012/05/15/dec29facebook-logo-crop-96x96.jpg"></span>
</td> 
```

我得到了圆形部分和白色边框，我还得到了一个应该是阴影的黑色小边框。

谁知道怎么解决？

（我选择了一个 Facebook 图标作为说明）

天呐！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:38:46.030

好的，也许你可以尝试做这样的事情：

```
<div style="border-radius: 50px 50px;
            background:url(http://media.futuresmag.com/futuresmag/article/2012/05/15/dec29facebook-logo-crop-96x96.jpg);
            width:96px;height:96px;
            box-shadow: inset 0 0 5px 5px #f00;">
</div> 
```

我没有使用 IMG，而是使用了带有背景图像的 div，这样我使用的盒子阴影就被应用在了图像的顶部。

# jsf - 如何在 jsf 页面上设置日期模式？

> ID：13857888
> 
> 赞同：5
> 
> 时间：2012-12-13T10:29:40.313
> 
> 标签：jsf, jsf-2

```
<rich:column>
    <f:facet name="header">
          <h:outputText value="Expiry Date"/>
    </f:facet>
    <h:outputText value="#{item.endDate}">

    </h:outputText>
</rich:column> 
```

使用上面的代码，我从数据库中得到的日期是 2012-09-03 00:00:00.0

现在，我想将日期模式设置为 dd-MM-yyyy。

所以我需要的输出是 03-09-2012。

但是使用下面的代码（设置模式后）

```
<rich:column>
     <f:facet name="header">
         <h:outputText value="Expiry Date"/>
     </f:facet>
     <h:outputText value="#{item.endDate}">
          <f:convertDateTime pattern="dd-MM-yyyy"  />
     </h:outputText>
</rich:column> 
```

我得到的输出是 02-09-2012

无论数据库中的日期是什么，它显示的输出都会少一天。

提前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:31:39.850

您应该为组件添加合适`timeZone`的属性`convertDateTime`。以我的区域为例

```
<f:convertDateTime pattern="dd-MM-yyyy" timeZone="Asia/Calcutta" /> 
```

笔记：

您可以使用`java.util.TimeZone.getDefault().getID()`获取当前时区 ID。

# c# - 如何解决 System.NullReferenceException

> ID：13857894
> 
> 赞同：1
> 
> 时间：2012-12-13T10:30:31.643
> 
> 标签：c#, php, web-services, nullreferenceexception

我在我的 php 页面中调用 Web 服务。Web 服务在 C# 中。当我尝试使用肥皂客户端对象调用方法时，它会显示如下错误：

```
System.NullReferenceException: Object reference not set to an instance of an object. 
```

我用来调用 Web 服务方法的代码是：

```
 $Username = "username";
 $Password = "password";
 $LifetimeRequest = 60*60*24;

$soap_data = array(
   'Username' => $Username,
   'Password' => $Password,
   'LifetimeRequest' => $LifetimeRequest
);
$client = new SoapClient('http://50.56.173.161:8502/AdomniService.svc?wsdl');
$response = $client->ClientLogin($soap_data);
var_dump($response); 
```

当我使用`var_dump`它时，它会显示如下输出：

```
object(stdClass)#2 (1) {
  ["ClientLoginResult"]=>
  object(stdClass)#3 (3) {
    ["Error"]=>
    object(stdClass)#4 (5) {
      ["Private"]=>
      float(2)
      ["Public"]=>
      int(1)
      ["Details"]=>
      string(284) "System.NullReferenceException: Object reference not set to an instance of an object.
   at Adomni.AdomniService.ClientLogin(ClientLoginRequest request) in C:\Users\megiddo\Documents\Visual Studio 2010\Projects\Adomni\AdOmniAPIService\AdomniService\AdomniClientService.svc.cs:line 107"
      ["ErrorCode"]=>
      int(0)
      ["ErrorMessage"]=>
      NULL
    }
    ["Status"]=>
    int(-1)
    ["Token"]=>
    object(stdClass)#5 (8) {
      ["Private"]=>
      float(2)
      ["Public"]=>
      int(1)
      ["EventNotificationUri"]=>
      NULL
      ["IsManager"]=>
      bool(false)
      ["LifetimeRequest"]=>
      int(0)
      ["Password"]=>
      NULL
      ["TokenId"]=>
      int(0)
      ["UserName"]=>
      NULL
    }
  }
} 
```

谁能告诉我我在这里做错了什么？提前致谢。

在 C# 中使用的代码如下：

```
using System; 
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data.SqlClient;
using System.Web.Security;
using System.IO;
using System.Data;
using AdOmniWebPortal.AdOmniService;

namespace AdOmniWebPortal
{
    public partial class Login : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
        }

        protected void AdOmniLogin_Authenticate(object sender, AuthenticateEventArgs e)
        {
            AdomniServiceClient Client = new AdomniServiceClient();
            LoginRequest LoginRequest = new LoginRequest();
            LoginResponse LoginResponse = new LoginResponse();

            LoginRequest.Username = AdOmniLogin.UserName;
            LoginRequest.Password = AdOmniLogin.Password;
            LoginRequest.LifetimeRequest = 60*60*24;
            //This guy will be changed
            LoginRequest.EventNotificationURL = new Uri("http://herp-a-derp.com/awesome.html");

            LoginResponse = Client.Login(LoginRequest);

            if (LoginResponse.Status == 0)
            {
                System.Web.Security.FormsAuthentication.RedirectFromLoginPage(LoginResponse.Token.UserName, true);
                LifetimeToken token = LoginResponse.Token;
                Session["Token"] = token;

                GetUserRequest request = new GetUserRequest() { Token = token };
                GetUserResponse response = Client.GetUser(request);

                if (response.GetUser.Type == AdOmniService.UserType.Seller)
                {
                    Response.Redirect("~/Pages/Seller/SellerHomeDashboard.aspx");
                }

                if (response.GetUser.Type == AdOmniService.UserType.Client)
                {
                    Response.Redirect("~/Pages/Buyer/BuyerHomeDashboard.aspx");
                }

                if (response.GetUser.Type == AdOmniService.UserType.None)
                {
                    Response.Redirect("~/Pages/Buyer/BuyerHomeDashboard.aspx");
                }
            }
            else
            {
                Response.Redirect("~/Login.aspx");
                Response.Write(LoginResponse.Error.ErrorMessage);
            }
        }
    }
} 
```

我已将整个 .cs 页面内容放入 Edit 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:54:10.490

使用 Fiddler（一个 http 调试代理）

这将允许您在向 Web 服务发出的请求中达到峰值（以 xml 格式）

所以你可以看看你是否遗漏了什么。

通过 fiddler 引导您的 c# 客户端，并查看

[http://www.fiddler2.com/fiddler2/](http://www.fiddler2.com/fiddler2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T11:25:18.267

也许在您的 PHP 脚本中，您还应该设置`EventNotificationURL`变量。

查看错误响应中的此部分：

```
 ["EventNotificationUri"]=>
  NULL 
```

也许服务希望您传递一个`EventNotificationUri`值，就像您传递`Password`,`Username`和一样`LifetimeRequest`。

**[编辑]**

尝试将您的变量名从 更改`Username`为`UserName`。据我所知，PHP 在这件事上应该区分大小写，所以`"Username" != "UserName"`

# java - JAX-RS：提供“默认”子资源定位器

> ID：13857896
> 
> 赞同：0
> 
> 时间：2012-12-13T10:30:38.053
> 
> 标签：java, regex, rest, jax-rs, restlet

我正在使用 JAX-RS 开发 RESTful API。我的 API 的简化版本如下：

```
GET /appapi/v1.0/users
POST /appapi/v1.1/users

... ... and so on 
```

如您所见，模式如下`{api_name}/v{major_version}.{minor_version}/{rest_of_the_path}`。

我有一个额外的要求：

> **如果未指定版本，则默认使用最新版本**- 即，

`GET /appapi/users`应该相当于`GET /appapi/v1.1/users`（假设1.1是最新版本的用户）。

这就是我使用 JAX RS 实现它的方式。

```
@Path("/appapi")
public class AppApiRootResource {

    @Path("/{version: [v]\\d+[[.]\\d+]?}/")
    public AppApiSubResource getVersionedSubResource
                            (@PathParam("version") String version){
        System.out.println("Version: "+version);
        String versionString = version.substring(1); //Discard the leading 'v'
        String majorVersion = "";
        String minorVersion = "0";
        if(versionString.contains(".")){
            String [] splits = versionString.split(".");
            majorVersion = splits[0];
            minorVersion = splits[1];
        } else {
            majorVersion = versionString;
        }

        return SubResourceFactory.getSubResource(majorVersion, minorVersion);

    }

    @Path("/{^([v]\\d+[[.]\\d+]?)}/") //Is This Correct??
    public AppApiSubResource getDefaultApiResource(){
        /*
         * Need help defining the regular expression here 
         * so that this is used for anything that doesn't match
         * the "version" regexp above
         */
        System.out.println("API version not specified; Using default version");
        return SubResourceFactory.getLatestVersionSubResource();
    }
} 
```

我的子资源类定义如下。我有这个类的子类来处理 API 的多个版本。的实施与`SubResourceFactory`本讨论的目的无关。它只返回一个实例`AppApiSubResource`或其子类

```
public class AppApiSubResource {

    /**
     * Create a new user
     */
    @POST
    @Path("users")
    @Consumes(MediaType.APPLICATION_XML)
    public Response createUser(String newUser, @Context UriInfo uriInfo) {
        URI uri = uriInfo.getAbsolutePathBuilder().path("10")).build();       
        return Response.created(uri).build();
    }

    /**
     * Get a user
     */
    @GET
    @Path("users/{id}")
    @Produces(MediaType.APPLICATION_XML)
    public Response getUser(@PathParam("id") String userId
            ) {

        return Response.ok().entity("<user></user>").build();
    }
} 
```

> **问题陈述：**
> 
> *   如果我注释掉`getDefaultApiResource()`，那么当 API 中有版本说明符时，事情会按预期工作。但是，如果我取消注释`getDefaultApiResource()`，它总是被调用，无论我是否在请求中有 v1.0。
> *   此外，如果我取消注释`getDefaultApiResource()`，我会在执行 a 时得到 404 `GET /appapi/users`（即，没有版本说明符）；但如果我使用`GET /appapi/v1.0/users`（即，使用版本说明符），一切正常

那么，如何设置我的子资源定位器路径/正则表达式，以便在请求中没有版本说明符时调用该方法？

我正在使用 Restlet 框架，但这个问题与实现无关。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T11:55:54.750

getDefaultApiResource 总是被调用的原因是它的 URI 模式与 getVersionedSubResource 的正则表达式相同，并且当多个模式与请求 URI 匹配时，最长的模式（字面意思是字符最多的模式）获胜。（“版本：”不被视为模式的一部分。）有关所有详细信息，请参阅[JAX-RS 规范的第 3.7.2 节。](http://download.oracle.com/otndocs/jcp/jaxrs-1.1-mrel-eval-oth-JSpec/)

我从未尝试过，但我认为 @Path("") 会做你想做的事。

顺便说一句，您的正则表达式似乎不太正确：

```
[v]\\d+[[.]\\d+]? 
```

这表示“小写 v，后跟一个或多个数字，可选地后跟一个句点、数字或加号。” 它应该是：

```
[v]\\d+([.]\\d+)? 
```

# c# - 清单问题 在 Asp.Net c#

> ID：13857897
> 
> 赞同：1
> 
> 时间：2012-12-13T10:30:43.377
> 
> 标签：c#, asp.net

我正在使用 c# 在 Asp.Net 中制作一个 Web 应用程序，让您可以将项目添加到列表中。

我的问题是，每次我单击按钮将新项目添加到列表中时，它只会显示最后一个项目，而列表计数器只显示 1 。

我究竟做错了什么？？

这是代码：

```
public partial class home : System.Web.UI.Page
{
 List<string> messageboxs = new List<string>();
 public string val = "";
 public string data = "";

 protected void Button1_Click(object sender, EventArgs e)
 {
    val = "";
    messageboxs.Add(text1.Text);
    ListBox1.DataSource = messageboxs;
    ListBox1.DataBind();
    val = messageboxs.Count.ToString();
 }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T10:33:02.277

您的列表不会在回发之间保留。

每次单击按钮时，都会创建页面类的新实例，因此会创建列表。此列表为空。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T10:36:50.963

您应该阅读[ASP.NET 页面生命周期概述](http://msdn.microsoft.com/en-us/library/ms178472%28v=vs.100%29.aspx)。简而言之，每次单击按钮都会导致页面回发，从而创建页面的新实例。您正在该页面的每个实例上初始化一个空列表，因此当您将新项目添加到列表中时......它再次为空。

您需要做的是将其存储在`messageboxs`某个允许它在回发中持续存在的地方。对于您的特定示例，您可以使用[ViewState](http://msdn.microsoft.com/en-us/library/ms972976.aspx)例如

```
public partial class home : System.Web.UI.Page
{
    private void Page_Load(object sender, EventArgs e)
    {
        if(!IsPostBack)
        {
            // initialise list
            ViewState["Messages"] = new List<string>();
        }
    }

    protected void Button1_Click(object sender, EventArgs e)
    {
        // get the old messages list
        var messages = (List<string>)ViewState["Messages"];
        messages.Add(text1.Text);
        ListBox1.DataSource = messages;
        ListBox1.DataBind();
        // store the new messages list
        ViewState["Messages"] = messages;
    }   
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:33:46.407

问题在于 ASP.Net 的工作方式。ASP.Net 在每个按钮单击时重新创建您的“主页”页面。然后，这将重新创建列表，并向其中添加一项。您需要一种在按钮单击之间保存列表的方法。例如，这就是[Session](http://msdn.microsoft.com/en-us/library/ms178581%28v=VS.100%29.aspx)的用途。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:46:56.600

使您的消息框静态变量为

静态列表消息框 = new List();

但这使得该变量可以从任何页面请求中访问。这意味着如果其他人打开此页面并尝试添加一个项目，他/她最终会将一个项目添加到其他人的列表中。

尝试使用会话状态或视图状态。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:34:06.023

该列表在每次回发时再次创建。您应该查看现有项目`ListBox1`并将它们重新添加到您的`List<string>`然后重新绑定中。

# c++ - 获取值大于 X openCV 的所有像素的位置

> ID：13857904
> 
> 赞同：0
> 
> 时间：2012-12-13T10:31:05.550
> 
> 标签：c++, opencv

我正在寻找一种有效的方法来获取所有像素的位置，这些像素的值大于（100,100,100）。我知道我可以使用 minmaxLoc 来获取最大值和最小值的位置，但是想要为其添加一个平均值，我可以得到它们，而且我不想使用 while 循环。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:00:10.557

您可以使用如下伪代码：

```
//process the loop in a multithread way with openmp
#pragma omp parallel for    
int xy=0;
for(int x = 0; x <= x_resolution; ++x) {
  for(int y = 0; y <= y_resolution, ++y) {
    if(value of Point bigger than (100,100,100) {
      do_what_you_want;
    }
  ++xy;
  }
} 
```

# javascript - 查找相似的 HTML 部分

> ID：13857916
> 
> 赞同：1
> 
> 时间：2012-12-13T10:32:08.613
> 
> 标签：javascript, jquery, html, traversal

我有以下（简化的）HTML 代码，并希望将其拆分为类似的部分：

```
<input id="checkbox1"><label><br>
<input id="checkbox2"><label><br>
<input id="checkbox3"><label><br> 
```

结果应该是`<input><label><br>`。但问题是，我需要一个防弹解决方案，例如`<div><p><input></p><p><label></p></div>`从以下 HTML 返回：

```
<div><p><input id="checkbox1"></p><p><label></p></div>
<div><p><input id="checkbox2"></p><p><label></p></div>
<div><p><input id="checkbox3"></p><p><label></p></div> 
```

知道如何在 JavaScript/jQuery 中找到这样的伪父元素吗？

* * *

就像[Rory McCrossan](https://stackoverflow.com/users/519413/rory-mccrossan)发现的那样，这确实用于模板系统。用户在此模板中定义一行，`<input id="checkbox1"><label><br>`然后在屏幕上显示 x 次。我在我的 JS 代码中需要这个模板，但遗憾的是无法直接访问用户模板，所以我的想法是找出哪些 HTML 部分看起来相似，然后拆分它们以获取模板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T11:11:28.573

作为部分解决方案，您可以考虑识别输入标签对的最近共同祖先，并将其用作重复元素：

```
var collection = $('');
$('input').each(function() {
    collection = collection
        .add($(this)
             .parents(':has(label)')
             .filter(function() {
                 return $(this).siblings().length == $(this).siblings(this.tagName).length;
             }));
});
console.log(collection); 
```

这假定每个标签输入对*都有*一个共同的父元素，因此不适用于您的第一种情况。

# java - 在java中使用for-each循环

> ID：13857923
> 
> 赞同：5
> 
> 时间：2012-12-13T10:32:21.063
> 
> 标签：java

在我的代码中，

```
for(City city : country.getCities()){
   // do some operations
} 
```

使用 country.getCities() 成本高吗？JVM 会为每次调用维护堆栈跟踪吗？

```
List<City> cityList = country.getCities();
for(City city : cityList){
   // do some operations
} 
```

最好的使用方法是什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-13T10:33:42.333

不，这个循环：

```
for(City city : country.getCities()) 
```

只会调用`country.getCities()` *一次*，然后对其进行迭代。它不会为循环的每次迭代调用它。在您的情况下，它相当于：

```
for (Iterator<City> iterator = country.getCities().iterator();
     iterator.hasNext(); ) {
    City city = iterator.next();
    // do some operations
} 
```

根据您的第二个片段重写它没有任何好处。

有关详细信息，请参阅[JLS 的第 14.14.2 节](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T10:34:08.717

在这两种情况下，`getCities()`都只调用一次。

默认免责声明：与往常一样，您几乎不需要担心性能，因为编译器在这方面比一个人要好得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-13T10:34:10.017

这些是等价的。`getCities()`只会执行*一次*。（如果你坚持`System.out.println()`这种方法，你应该看到这个）。

请注意，它不会`getCities()`多次调用，不仅是出于性能原因，还因为*不能保证每次都会返回相同的集合*（它返回相同的集合可能很直观，但不是强制性的）

为了简洁起见，我更喜欢你的第一个例子。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:34:33.763

两者都是一样的，没有区别。并将`country.getCities()`在循环中调用一次。

我认为第一个更好，因为没有使用额外的参考。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-13T10:34:44.157

JVM 会在编译代码时对其进行优化，以确保`country.getCities()`方法被调用一次。

您应该以您和/或您的团队认为最易读的方式编写代码。

# php - MySQL查询和PHP挑战..分割分号值

> ID：13857925
> 
> 赞同：0
> 
> 时间：2012-12-13T10:32:28.207
> 
> 标签：php, mysql, codeigniter

我正在使用 PHP/代码点火器来显示数据。在我的表（产品）中，我有一个名为“ProductCategory”的字段。由于一个产品可以属于多个类别，并且根据我的项目要求和 XML 文件，该字段的填充如下：

**编号** 121

**产品** 代码 m34

**名称** 诺基亚 6800

**产品类别** 手机;外壳

**产品主要类别** 手机

**排序顺序** 3

/////////////////////////////////////////////////////////////////////

**编号** 344

**产品编号**32344****

 ****名称** Xbox 360 黑色

**ProductCategory** 控制台

**ProductMainCategory** 特别优惠

**排序顺序** 5

/////////////////////////////////////////////////////////////

**编号** 3433

**产品代码**342zxc4****

 ****名称** Iphone 5

**产品类别** 配件;手机4G

**产品主要类别** 手机

**排序顺序** 3

等等 .....

**问题：**

因为，我已经用分号 (;) 将产品分为两个类别，所以拆分了分号产品类别';' 值分为两类，并在 url 中传递它们以根据“ProductCategory”和“ProductMainCategory”显示产品。我正在使用查询字符串 /uri 段来显示我的产品。

```
<?
$id2=urldecode($this->uri->segment(3)); //  gets values like Handsets
$id=urldecode($this->uri->segment(4));  // gets values like Mobiles
$this->db->like('ProductCategory',$id);

$this->db->or_like('ProductCategory',';'.$id);
//$this->db->not_like('ProductCategory','Store 8');
//$this->db->like('ProductCategory',';'.$id);
$this->db->where('ProductMainCategory',$id2);
$this->db->order_by('sort_order','asc');
$query_data=$this->db->get('Products');
?> 
```

基于代码和 MYSQL 数据，我如何显示我的单个产品，以便它可以单独出现在每个类别下（根据查询字符串/uri 段值），如下所示：

```
Handsets¬
         |-Mobiles
                  |--- Nokia 6800
         |-Casings
                  |---- Nokia 6800    

         |-Mobiles 4G
                  |--- Iphone 5 
         |-Accessories
                  |---- Iphone 5    

  Special Offers¬
                |-Consoles
                         |---Xbox 360 Black 
```

我已经在树结构中显示了所需的查询输出以进行澄清。您可以将其与上面的数据进行比较以进行澄清。请帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T14:49:40.450

让我假设您有一个名为 ProductCategories 的有效产品类别表。您可以使用复杂的连接条件按类别获取产品。这是一个计算每个类别中产品数量的示例：

```
select pc.ProductCategory, count(*) as NumProducts
from Products p join
     ProductCategories pc
     on concat(';', p.ProductCategory, ';') like concat('%;', pc.ProductCategory, '%;')
group by pc.ProductCategory 
```

如果您没有 ProductCategories 表，您可以在查询中创建一个：

```
select pc.ProductCategory, count(*) as NumProducts
from Products p join
     (select 'Console' as ProductCategory union all
      select . . .
     ) pc
     on concat(';', p.ProductCategory, ';') like concat('%;', pc.ProductCategory, '%;')
group by pc.ProductCategory 
```

但是，我只建议对临时一次性查询执行此操作，因为随着时间的推移可能会添加新类别。****

# c# - 琐事游戏数据库

> ID：13857928
> 
> 赞同：0
> 
> 时间：2012-12-13T10:32:33.667
> 
> 标签：c#, database, windows-phone-7, storage

在我的琐事游戏（适用于 Windows Phone 7）中，我将有一个问题列表，其中有 4 个可能的答案，其中只有一个是正确的，以及问题所属的类别......所以我决定制作一个数据库这将有**idQuestion、Category、Question、WrongAns1、WrongAns2、WrongAns3、CorrectAns**并且这将存储在本地数据库中......但我也希望在我的服务器中有另一个数据库，我将在其中放置新问题以及当用户按下更新问题时它会从那里检索所有问题并将它们保存在他的本地数据库中，这样他就可以离线玩了......这是最好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:41:02.717

一个好主意是添加一个时间列。

当用户更新问题时，更新将只考虑比最新本地问题更新的服务器问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:47:17.813

给定这样一个简单的模式，将数据以 JSON 或类似 XML 的格式写入文件并将其保存到本地隔离存储中应该很容易。

但是，您可能需要做的是将所有答案（错误和正确）存储为散列而不是纯文本，并相应地更新您的应用程序逻辑，以将存储的散列与提供的答案的动态散列进行比较用户（从而防止不道德的用户通过从本地存储中辨别答案来作弊）。

每当用户选择“更新问题”功能时，只需将来自隔离存储的问题 ID 与在线数据库中的问题 ID 进行比较，并将来自在线数据库的任何新问题保存到隔离存储.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-18T19:48:17.427

Oliver 的最佳答案（阅读评论）

看看[微软同步框架](http://msdn.microsoft.com/en-us/library/bb902854.aspx)

# apache-flex - Flex 4.6：标签导航上的焦点图像

> ID：13857931
> 
> 赞同：1
> 
> 时间：2012-12-13T10:32:48.097
> 
> 标签：apache-flex, focus, custom-component, flex-spark

我有一个作为弹出窗口启动的 MXML 组件：

```
<s:TitleWindow>
  [...]
  <s:BorderContainer>
    <s:HGroup>
      two s:Button OK and Cancel
    </s:HGroup>
  </s:BorderContainer>

  <custom:box>

</s:TitleWindow> 
```

custom:box 看起来像这样

```
<s:BorderContainer>
  <s:Image source="{Util.getImage('error.icon')}" />
  <s:Image source="{Util.getImage('close.icon')}" />
  <s:VGroup id="messageContainer" />
</s:BorderContainer> 
```

我需要将关闭图标添加到选项卡导航和焦点。

我尝试使用`implements="mx.managers.IFocusManagerComponent"`custom:box 尝试将焦点更改为`focusHandler()`. 我最多只关注 custom:box 。

我也尝试设置`buttonMode="true"`并`focusEnabled="true"`关闭图像。

任何想法将不胜感激。

谢谢！

# matlab - 对 2×N 数据集进行分类

> ID：13857941
> 
> 赞同：3
> 
> 时间：2012-12-13T10:33:25.790
> 
> 标签：matlab, cluster-analysis, classification

我有一个数据集，比如 Q，具有以下维度（列中的数据是独立的）

```
Q1                  Q2   
0.676638655462185   0.470588235294118
0.889747899159664   0.976470588235294
0.867478991596639   0.494117647058824
0.886974789915966   0.600000000000000
0.823109243697479   0.435294117647059
0.757226890756303   0.0941176470588235
0.751764705882353   0.235294117647059
0.935294117647059   0.0941176470588235
0.927899159663866   0.576470588235294
0.913109243697479   0.329411764705882
0.888151260504202   0.400000000000000
0.935714285714286   0.305882352941177
0.583781512605042   0.0588235294117647
0.827394957983193   0.141176470588235
0.938823529411765   0.317647058823529
0.941176470588235   0.541176470588235
0.942352941176471   0.164705882352941 
```

我想把这个归类`p = 0.2 : 0.2 : 1`；其中类之间的差异将是 20%。对于数据的分类，应考虑这两个值。

我尝试了聚类，但聚类的结果并不令人信服。我试过了`NEWPR`，但仍然无法做任何事情。

我的原始数据由`42-8-21`17 个实例的（总共 71 个）属性组成。我也从那方面尝试过。对于`NEWPR`，我使用了一些决定性的属性——一个或两个（在 71 个中）——作为目标。即使我尝试将数据库拆分为某个百分比。由于*我的数据没有 1/0*，因此没有结果。

当我采用 60% 的基准和 ( `Q1 > 0.60 & Q2 > 0.60`) 类逻辑的简单逻辑时，分类效果很好。我得到的分类结果非常好。在那种情况下，数据的序列化是一个问题，我手动完成了。但是，这对我来说并没有说服力，因为需要根据模型对更多数据进行分类。

我不确定是否`0< Q1 < 0.20 & 0 < Q2 < 0.2`可以在 Matlab 中使用 ( ) 类逻辑？

否则，我可以使用任何常用的分级系统来进行此分类吗？

请帮助我找到针对此问题的定制解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T16:28:05.817

`(0< Q1 < 0.20 & 0 < Q2 < 0.2)`将被解释为`((0<Q1)<.2)&(0<Q2)<.2)`仅适用于小于或等于 0 的 Q1 和 Q2。使用`((0<Q1)&(Q1<0.2)&(0<Q2)&(Q2<0.2))`

# ruby-on-rails - xlsx文件中的列和行折叠

> ID：13857944
> 
> 赞同：4
> 
> 时间：2012-12-13T10:33:38.137
> 
> 标签：ruby-on-rails, excel, axlsx

我被要求创建一个**带有折叠行和列**的 Excel (.xlsx) 报告。

该应用程序位于 ruby​​/rails 中，使用 axlsx gem 生成 excel。

目前我不能让折叠符号“+”面向允许显示/隐藏行/列的隐藏行或列。

任何人都知道如何创建这种折叠效果？即使使用另一种技术？

谢谢，

迈克尔

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-13T15:24:35.293

这可以通过 axlsx 完成。

```
require 'axlsx'
xlsx = Axlsx::Package.new
wb = xlsx.workbook
wb.add_worksheet(name: 'outline') do |sheet|
  sheet.add_row [nil, nil, nil, nil, nil, nil, nil, Time.now, 149455.15]
  sheet.add_row [nil, nil, nil, nil, nil, nil, nil, Time.now,14100.19]
  sheet.add_row [9500002267,  'foo', 'bar', 'penut', nil, 1212, 1212, Time.now,14100.19]
  sheet.rows[0..2].each do |row|
    row.outline_level = 1
  end
  sheet.column_info[0..2].each do |col|
    col.outline_level = 1
  end
  # This is required to show the [+] symbols
  sheet.sheet_view do |view|
    view.show_outline_symbols=true
  end
end
xlsx.serialize 'outline.xlsx' 
```

您需要在您感兴趣的行或列信息上指定 outline_level，并将 show_ouline_symobols 设置为 true。

最好的

随机的

# php - Facebook 应用程序无法重定向到 redirect_uri

> ID：13857952
> 
> 赞同：0
> 
> 时间：2012-12-13T10:34:00.580
> 
> 标签：php, facebook-graph-api

我一直在研究 FB 应用程序。突然我所有的应用程序都失败了。这种行为真的很奇怪，在用户授权我的应用程序后，Facebook 并没有重定向到目标 url(redirect_uri)，而是通过将 Facebook->getuser() 返回为零来将“ *= ”附加到 URL 中。*

任何即时帮助将不胜感激，在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T12:40:36.740

```
try {

    // check if facebook can get user
    $facebookUser = $facebook->getUser();

} catch (Exception $e) {
    // user is not logged in
    die($e->getMessage());
} 
```

# graph - 惊喜“S”型网络社区结构测度

> ID：13857957
> 
> 赞同：1
> 
> 时间：2012-12-13T10:34:08.487
> 
> 标签：graph, social-networking, cluster-analysis

有人知道在 R 或其他语言中是否已经存在此评估度量的实现？

这是评估措施的维基百科页面： [http ://en.wikipedia.org/wiki/Surprise_%28networks%29](http://en.wikipedia.org/wiki/Surprise_%28networks%29)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-10T08:43:14.500

在 github 上找到了这个。在 matlab 和 c++ 中也有实现。干杯！ [https://github.com/raldecoa/compute-Surprise/blob/master/r_code/computeSurprise.R](https://github.com/raldecoa/compute-Surprise/blob/master/r_code/computeSurprise.R)

# jquery - 使用 Infinitescroll jQuery 插件操作时丢失变量

> ID：13857959
> 
> 赞同：2
> 
> 时间：2012-12-13T10:34:14.547
> 
> 标签：jquery, jquery-plugins, infinite-scroll

我在电子商务网站中实现了 Infinitescroll 插件，以两种不同类型的视图向下滚动所有产品页面：列表和网格（.classes）。

一切都按预期工作，除了我在加载一堆产品后遇到的一个小问题，比如说下一页，并更改视图类型。在那一点上，项目继续加载，但包含图像和文本的“加载 div”以空值淡入淡出。

一个例子：我们从列表类型开始->向下滚动->加载下一页->向上滚动->更改为网格类型->向下滚动->空apears。

这是一些代码：

```
//Calling infiniteScroll
$('.product-grid.box-product, .product-list').infinitescroll({
      navSelector  : "div .links",            
      nextSelector : "div .links a",    
      itemSelector : "div .struct",
              loading: {finishedMsg: "<em>endmsg</em>",
                        img: "url",
                        msgText: "<em>loading...</em>"}          
    },function(elm){
      //item display-mode sorting function
    });

//How are divs sorted up
function display(view) {
if (view == 'list') {
    $('.product-grid').attr('class', 'product-list');
    $('.product-list > div').each(function(index, element) {
        //item display-mode sorting function
    });
    $.cookie('display', 'list'); 
} else {
    $('.product-list').attr('class', 'product-grid box-product');
    $('.product-grid > div').each(function(index, element) {
        //item display-mode sorting function
    });
    $.cookie('display', 'grid');
}
} 
```

我一直在研究很多，甚至通过插件核心代码查看，我似乎无法弄清楚这一点。

我要提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T13:42:32.197

我有点想通了。

问题如下：

产品容器 div 不断地改变类，所以它有点迷失了插件的过程。为了解决这个问题，我创建了一个包含 chaning div 的新 div：

```
//Before Call
$('.product-grid.box-product, .product-list').infinitescroll({

//After Call
$('#products').infinitescroll({ 
```

使用不同的容器会使插件在错误的 div 中加载新产品，所以在回调中我使用了这个：

```
$(elm).each(function(){
    if($.cookie('display') == 'grid'){
         $(this).appendTo('.product-grid');
    } else {
         $(this).appendTo('.product-list');
    }
}); 
```

在某些情况下这样做之后，产品似乎加载了错误的显示/css，所以我浏览了 InfiniteScroll 核心代码并插入了一个函数（ display() ），它在 ajax .load 之后更改屏幕上所有产品的显示/css () 函数结束：

```
//Plugin core code
o.load(...,function(t){...;display(view);});
//Plugin core code 
```

就是这样！插件现在工作得很好！

如果你们中的任何人遇到类似的问题，我希望这会有所帮助。干杯!

# ios - 在xcode中反转阿拉伯字符串

> ID：13857960
> 
> 赞同：3
> 
> 时间：2012-12-13T10:34:15.187
> 
> 标签：ios, objective-c, iphone, xcode, ipad

我的 Xcode 有问题，例如，`NSLog @"سلام";`当我写它时我会显示它`NSLog @"مالس";`。他们受到尊敬。我问这个阿拉伯语和波斯语！天呐！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-25T14:28:47.453

实际上它与编辑器的问题因此更改编辑器，因为在我的情况下，我在**TextEdit**中打开文件并编写了对我来说正常工作的阿拉伯语和波斯语。

# java - JDOM、umaluts 和 UTF-8

> ID：13857969
> 
> 赞同：5
> 
> 时间：2012-12-13T10:34:39.013
> 
> 标签：java, utf-8, jdom

我在将 utf-8 与 JDOM 解析器一起使用时遇到问题。我的代码不会以 utf-8 编码编写。这是代码：

```
import java.io.FileWriter;
import java.io.IOException;
import org.jdom2.Element;
import org.jdom2.output.Format;
import org.jdom2.output.XMLOutputter;
import org.jdom2.Document;
import org.jdom2.JDOMException;
import org.jdom2.input.SAXBuilder;

public class Jdom2 {

  public static void main(String[] args) throws JDOMException, IOException {

    String textValue = null;
    try {
        SAXBuilder sax = new SAXBuilder();
        Document doc = sax.build("path/to/file.xml");

        Element rootNode = doc.getRootElement();
        Element application = rootNode.getChild("application");
        Element de_DE = application.getChild("de_DE");
        textValue = de_DE.getText();
        System.out.println(textValue);
        application.getChild("de_DE").setText(textValue);

        Format format = Format.getPrettyFormat();
        format.setEncoding("UTF-8");
        XMLOutputter xmlOutput = new XMLOutputter(format);
        xmlOutput.output(doc, new FileWriter("path/to/file.xml"));

    } catch (IOException io) {
        io.printStackTrace();
    } catch (JDOMException e) {
        e.printStackTrace();
    }
  } 
} 
```

所以行 System.out.println(textValue); 打印文本“Mit freundlichen Grüßen”，这正是从 xml 文件中读取的内容，但是当它写下来时，我得到“Mit freundlichen Gr����”

这是我的xml文件

```
<?xml version="1.0" encoding="UTF-8"?>
<applications>
  <application id="default">
    <de_DE>Mit freundlichen Grüßen</de_DE>
  </application>
</applications> 
```

我将如何实现编写“Mit freundlichen Grüßen”而不是“Mit freundlichen Gr����”？提前致谢！

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-13T10:37:53.360

大概是这个问题：

```
xmlOutput.output(doc, new FileWriter("path/to/file.xml")); 
```

`FileWriter`始终使用平台默认编码。如果那不是 UTF-8，那你就有问题了。

我建议您使用 a`FileOutputStream`代替，并让 JDOM 做正确的事情。（另外，我强烈怀疑您应该保留对流的引用，以便您可以在 finally 块中关闭它......）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-04T12:28:02.510

我完全会选择@Jon Skeet 的答案，但如果代码在您无法修改的第 3 方库中，还有其他两个选项：

1.  使用指定 file.encoding 的附加环境变量运行 JVM：

```
java -Dfile.encoding=UTF-8 … Jdom2 
```

2.  您可以尝试修改所`Charset.defaultCharset`使用的哪些存储编码`FileWritter`。请记住，这是一个非常hacky的解决方案，可能会在某些时候中断，我会完全避免它：

```
 Field field = null;
  for (Field f : Charset.class.getDeclaredFields()) {
    if (f.getName().equals("defaultCharset")) {
      field = f;
    }
  }
  field.setAccessible(true);
  Field modifiersField = Field.class.getDeclaredField("modifiers");
  modifiersField.setAccessible(true);
  modifiersField.setInt(field, field.getModifiers() & ~Modifier.FINAL);

  field.set(null, StandardCharsets.UTF_8); 
```

最后一句话。这两种解决方案都可能在应用程序的其他部分引入副作用，因为您正在更改某些库可能使用的默认编码。

# sql - SQL使用where选择多个列到多个变量

> ID：13857974
> 
> 赞同：1
> 
> 时间：2012-12-13T10:34:50.703
> 
> 标签：sql, sql-server-2008

我有一个简单的表格如下

```
CREATE TABLE [accounting].[ExtractControl](
    [SourceSchema] [varchar](50) NOT NULL,
    [SourceTable] [varchar](150) NOT NULL,
    [SourceDatabase] [varchar](50) NOT NULL) 
```

我想使用*SourceSchema*和*SourceTable*值选择*SourceDatabase*

 **目前我正在处理多个查询，如下所示

```
Select @s1 = SourceDatabase from accounting.ExtractControl where SourceSchema = 'xxx' and SourceTable = 'xxx'
Select @s2 = SourceDatabase from accounting.ExtractControl where SourceSchema = 'yyy' and SourceTable = 'yyy'
Select @s3 = SourceDatabase from accounting.ExtractControl where SourceSchema = 'xxx' and SourceTable = 'yyy' 
```

我相信这可以以更优雅的方式完成！谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T10:37:14.737

你问这样的事情吗？

```
select SourceDatabase from accounting.ExtractControl
where SourceSchema in ('xxx', 'yyy') and SourceTable in ('xxx', 'yyy'); 
```

这将返回`SourceDatabase`' `SourceSchema`xxx' 或 'yyy' 和`SourceTable`'xxx' 或 'yyy' 的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-14T10:20:07.860

一个查询选项

```
SELECT @s1 = MAX(CASE WHEN SourceSchema = 'xxx' and SourceTable = 'xxx' THEN SourceDatabase END),
       @s2 = MAX(CASE WHEN SourceSchema = 'yyy' and SourceTable = 'yyy' THEN SourceDatabase END),
       @s3 = MAX(CASE WHEN SourceSchema = 'xxx' and SourceTable = 'yyy' THEN SourceDatabase END)
FROM accounting.ExtractControl 
```

[**SQL Fiddle**](http://sqlfiddle.com/#!3/75a58/1/0)演示[](http://sqlfiddle.com/#!3/75a58/1/0)

 *** * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-14T10:34:27.110

这个查询呢...

```
select SourceDatabase
from accounting.ExtractControl
where SourceSchema in ('xxx', 'yyy')
      and SourceTable in ('xxx', 'yyy')
      and SourceTable = SourceSchema 
```

我没有尝试过，但我认为这是您所需要的

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-13T10:40:07.837

```
select * from accounting.ExtractControl
where SourceSchema = 'xxx' or SourceSchema = 'yyy' 
```****

# android - 地图无法放大 html div

> ID：13857976
> 
> 赞同：1
> 
> 时间：2012-12-13T10:34:57.887
> 
> 标签：android, html, maps, zooming

我 `<meta name="viewport" content="width=device-width,target-densitydpi=medium-dpi,initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">` 在所有页面中都添加了。我在一个div中嵌入了一张地图，当我使用安卓手机测试地图时，无法在不同级别之间缩放地图。但是，当我使用 iPhone 时，它​​可以正常工作。有什么解决方案可以在不删除元标记的情况下在 Android 设备上缩放地图吗？

# css - 带有渐变的 div 以使文本淡出 - 溢出自动

> ID：13857977
> 
> 赞同：0
> 
> 时间：2012-12-13T10:34:59.887
> 
> 标签：css, html, text, overflow, gradient

我是新来的，如果有什么听起来很无聊，请原谅。

我正忙于制作一个个人网站，并且在一个包装器内有两个 div，一个内容 div 和一个侧窗格 div。它们的高度设置为 99%，并且它们在自动时溢出。我希望页面不滚动（除非它们使屏幕变小），但 div 必须滚动。

**问题：**我想让 div 的底部文本逐渐消失，这样当你向下滚动 div 时，它会使文本恢复正常。**如果有人可以引导我朝着正确的方向前进，我可以使用渐变图像或仅使用 CSS。**我正在努力解决溢出的这个原因。我想知道如何将渐变保持在 div 底部的绝对位置，但如果您明白我的意思，现在它并不是真正位于 div 的底部？因为 div 已经溢出。我希望它位于屏幕上 div 结束的位置，而不是文本结束的位置。我试着把我的代码放进去

这是一张照片

![提问图片](../Images/f99aba24f9ac9a533539792421bde8d2.png)

如果您检查正确的 div，我希望底部褪色，并且当我滚动渐变时，它会停留在底部。（这实际上不是 div 的底部） - 还需要能够调整页面大小并且它保持在相同的位置。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T10:45:25.697

关键是`background-position: fixed;`

我为您创建了一个小小提琴，让您明白我的意思：[点击我](http://jsfiddle.net/uXqg2/) ，我只是希望我能正确理解您的问题，无需任何代码，只是一个屏幕截图；）

对于 CSS 渐变，[请参见此处](http://www.colorzilla.com/gradient-editor/)

# java - java/shellscript 代码来判断一个 jar 文件是否已经在当前机器上运行

> ID：13857979
> 
> 赞同：5
> 
> 时间：2012-12-13T10:35:04.573
> 
> 标签：java, shell, process, jar, executable-jar

如何确定我的机器上是否正在运行特定的 JAR 文件？我只是想确保一个特定的 JAR 在任何时候只执行一次——所以如果另一个执行同一个 jar 的请求进来，那么我不应该再次调用那个 jar。

我可以将上述代码用作 java 代码（我将添加到该 JAR 本身）或 shellscript（我将使用它来调用 jar 文件）。

该机器将是一台 Linux 机器——CentOS、Debian、Ubuntu 或 Amazon Linux。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-13T10:36:39.253

[jps](http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jps.html)是一个简单的命令行工具，可以打印出当前正在运行的 JVM 以及它们正在运行的内容。您可以从 shell 脚本调用它。

`jps -l`将转储 JVM 进程 ID 和它正在执行的主类。我怀疑这最适合您的要求。

注意到您的评论。jps 不受支持，如果在升级 JDK/JRE 时无法通过测试轻松缓解这种担忧，那么也许可以使用以下方法：

```
pgrep -lf java 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-13T14:25:34.737

尝试创建一个新罐子，

用这样的方法在里面创建一个类（还不是功能代码，只是一个涂鸦）：

```
static ServerSocket unicorn;
public void load(){
    unicorn=new ServerSocket(39483); // whatever-port

    URLClassLoader myloader = new URLClassLoader(new URL[]{this.getClass().getResource("/META-INF/specific.jar")});
    ... // do all your unique stuff
    Runtime.addShutdownHook(new Runnable(){unicorn.close();})
} 
```

将您的 specific.jar 放在 new.jar 中。如果尝试加载此 jar 的另一个实例，则会引发异常：套接字已在使用中。

# api - 在 magento 中使用 REST api 时出错

> ID：13857981
> 
> 赞同：0
> 
> 时间：2012-12-13T10:35:10.267
> 
> 标签：api, magento, rest

我已经使用 XAMPP 在我的系统中本地设置了 magento

我在根目录中创建了一个名为 dm.php 的文件，其内容

```
<?php
/**
* Example of products list retrieve using Customer account via Magento REST API. OAuth authorization is used
*/
$callbackUrl = "http://localhost/dm.php";
$temporaryCredentialsRequestUrl = "http://localhost/mage2/oauth/initiate?oauth_callback=" . urlencode($callbackUrl);
$adminAuthorizationUrl = 'http://localhost/mage2/oauth/authorize';
$accessTokenRequestUrl = 'http://localhost/mage2/oauth/token';
$apiUrl = 'http://localhost/mage2/api/rest';
$consumerKey = 'enhksf7u33p3snubewb6zcq0z9c63bvv';
$consumerSecret = 'p7e835cdcxofokeep749jgzz4l1e306p';

session_start();
if (!isset($_GET['oauth_token']) && isset($_SESSION['state']) && $_SESSION['state'] == 1) {
    $_SESSION['state'] = 0;
}
try {
    $authType = ($_SESSION['state'] == 2) ? OAUTH_AUTH_TYPE_AUTHORIZATION : OAUTH_AUTH_TYPE_URI;
    $oauthClient = new OAuth($consumerKey, $consumerSecret, OAUTH_SIG_METHOD_HMACSHA1, $authType);
    $oauthClient->enableDebug();

    if (!isset($_GET['oauth_token']) && !$_SESSION['state']) {
        $requestToken = $oauthClient->getRequestToken($temporaryCredentialsRequestUrl);
        $_SESSION['secret'] = $requestToken['oauth_token_secret'];
        $_SESSION['state'] = 1;
        header('Location: ' . $adminAuthorizationUrl . '?oauth_token=' . $requestToken['oauth_token']);
        exit;
    } else if ($_SESSION['state'] == 1) {
        $oauthClient->setToken($_GET['oauth_token'], $_SESSION['secret']);
        $accessToken = $oauthClient->getAccessToken($accessTokenRequestUrl);
        $_SESSION['state'] = 2;
        $_SESSION['token'] = $accessToken['oauth_token'];
        $_SESSION['secret'] = $accessToken['oauth_token_secret'];
        header('Location: ' . $callbackUrl);
        exit;
    } else {
        $oauthClient->setToken($_SESSION['token'], $_SESSION['secret']);
        $resourceUrl = "$apiUrl/products";
        $oauthClient->fetch($resourceUrl);
        $productsList = json_decode($oauthClient->getLastResponse());
        print_r($productsList);
    }
} catch (OAuthException $e) {
    print_r($e);
} 
```

但这给了我以下错误

```
Fatal error: Class 'OAuth' not found in D:\Webserver\xampp\htdocs\dm.php on line 19 
```

任何人都可以对此有所了解吗 谢谢

由于无法在 xampp windows 中安装 oauth，因此我将 dm.php 文件的内容更改为此。

```
<?php
$ch = curl_init('http://localhost/mage2/api/rest/customers');
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
$customers = curl_exec($ch);
echo $customers;
?> 
```

现在我收到这样的错误

```
{"messages":{"error":[{"code":403,"message":"Access denied"}]}} 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-13T11:21:46.463

首先转到magento管理面板`System->Webservice->RESt Roles->Guest->Resources Access ->SET ALL`

同样转到`System->Webservice->RESt Attribute->Guest->Resources Access ->SET ALL`

然后在网络浏览器中点击这个 url`http://****/chanchal/magento/api/rest/products`并检查它显示的错误....

据我说，它必须以`xml`格式在您的网站上显示产品。

请告诉我..

编辑：我刚刚配置了一个本地主机并得到这个输出参考截图。确保您的 magento 中有产品。![在此处输入图像描述](../Images/5b38f8b82c16c10e29cf713d0ba3071c.png)

同样按照上面的步骤进行管理员，客户然后从管理面板创建一个 Ouath 消费者，为 Mozilla Firefox 安装 RESTClient 并按照[这里](http://www.magentocommerce.com/api/rest/authentication/oauth_authentication.html)

这些步骤是设置所必需的。链接可能会对您有所帮助..

身份验证端点

1\. `/oauth/initiate`- 此端点用于检索请求令牌。

2\. `/oauth/authorize`- 此端点用于用户授权（客户）。

3\. `/admin/oauth_authorize`- 此端点用于用户授权（管理员）。

4\. `/oauth/token`- 此端点用于检索访问令牌。

如果您有任何问题，请告诉我。

祝你好运

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-07-03T06:41:20.500

稍微修改一下代码就可以轻松解决这个错误`403 forbidden`。

magento 引擎所做的是它使用默认`guest`用户来提供对 REST api 方法的访问。来宾用户没有太多权力，因此最好更改 magento 的此功能。有两种方法可以做到这一点：

1）快速而肮脏的修复：
在文件**/app/code/core/Mage/Api2/Model/Auth.php**中，将： 的值更改
`DEFAULT_USER_TYPE = 'guest'`
为
`DEFAULT_USER_TYPE = 'admin'`。

在文件
**/app/code/core/Mage/Api2/Model/Auth/Adapter.php**中，
将此行从更改
`return (object) array('type' => Mage_Api2_Model_Auth::DEFAULT_USER_TYPE, 'id' => null);`
为：
`return (object) array('type' => Mage_Api2_Model_Auth::DEFAULT_USER_TYPE, 'id' => '1');`

这样认证系统就不会被破坏。

2) 适当且长期的修复：
使用 magento 覆盖机制覆盖这两个功能，以获得符合 magento 标准的更好的解决方案。这样核心文件将是完整的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T11:28:42.383

我们使用此链接为 php 安装 oauth。它很好，很容易为 php 添加扩展。

[安装oauth php](http://katieseaborn.com/masters/prototype/installing-oauth-on-windows/)

我希望它对所有人都有帮助，并能解决 'OAuth' not found 致命错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T15:17:32.810

我遇到了同样的问题，并且苦苦挣扎了一周，但只是尝试安装支持 ouath 的新版本的 xammp 或 wamp。更好的解决方案是，我安装了 Ammps 1.9 并在 php5.4 中解决了 oauth 的扩展，但仍然确保您为扩展 oauth 选择正确的 php (php5.4)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-04-29T01:26:18.130

用于安装 Oauth： http: [//www.magentocommerce.com/api/rest/authentication/oauth_authentication.html](http://www.magentocommerce.com/api/rest/authentication/oauth_authentication.html)

为 Oauth 安装 PHP 扩展： 1\. 下载 php_oauth.dll 文件并将其添加到 C:\xampp\php\ext\ 下 2\. 在 php.ini 中添加 [PHP_OAUTH] extension=php_oauth.dll

# c# - 每次网络调用都可以访问的计数器值

> ID：13857983
> 
> 赞同：0
> 
> 时间：2012-12-13T10:35:21.990
> 
> 标签：c#, sql, wcf, web-services

我需要有一个计数器变量，每次调用 C# Web 服务函数时都需要增加该变量。我不能使用会话，因为我还不知道所有请求是否每次都来自同一个源。计数器将在 x 次后重置，它从源接收的详细信息与详细信息一起存储在数据库中。计数器的想法是让记录被“计数器”处理器拾取。

我能想到的唯一另一种方法是让 Windows 服务分配请求，但希望减少需要处理的应用程序和代码的数量。

或者，一个 sql server 触发器可能会解决问题，但仍然没有弄清楚如何识别在触发器调用之间保持计数器值。

关于选项 1（Web 服务）或选项 3（触发器）的任何建议，否则它必须是选项 2（Windows 服务）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T11:23:43.440

简单的方法是使用您的应用程序设置文件来存储和检索值。

# combobox - 动态组合框 ItemListener

> ID：13857989
> 
> 赞同：1
> 
> 时间：2012-12-13T10:35:39.920
> 
> 标签：combobox, itemlistener

我正在尝试通过解析 xml 文件动态加载 5 个组合框。根据在第一个组合框中选择的选项，我想更改其他四个组合框的值。您能否为此提出一些示例。

我浏览过，发现很少。但是，对我帮助不大。

代码片段如下。解析 xml 并加载到组合框

```
 File fXmlFile = new File("c:\\DataXML.xml");
        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
        Document doc = dBuilder.parse(fXmlFile);
        doc.getDocumentElement().normalize();
        System.out.println("Root element :" + doc.getDocumentElement().getNodeName());
        NodeList DeviceList = (NodeList) doc.getElementsByTagName("PICDevice");
        int totaldevices = DeviceList.getLength();
        System.out.println("Total no of devices : " + totaldevices);
        for(int s=0; s<DeviceList.getLength() ; s++){
            Node firstDeviceNode1 = DeviceList.item(s);
            Element firstDeviceElement1 = (Element)firstDeviceNode1;
            System.out.println("Device Name : " +
                    firstDeviceElement1.getAttribute("Description"));
            NodeList firstCLCList1 = firstDeviceElement1.getElementsByTagName("CLCNum");
            int totalCLCs1 = firstCLCList1.getLength();
            System.out.println("Total no of CLCs : " + totalCLCs1);
            for(int i=0; i<totalCLCs1 ; i++){
                Element firstCLCElement = (Element)firstCLCList1.item(i);
                System.out.println("CLC Name : " +
                firstCLCElement.getAttribute("Description"));
                String value = firstCLCElement.getAttribute("Description");
                CLCcombo.addItem(value);
                ArrayList<String> CLCelements = new ArrayList<String>();
                //List<String> CLCelements = new ArrayList<String>();
                boolean add = CLCelements.add(value);
          //      String[] CLCelements = firstCLCElement.getAttribute("Description");

            }
            }
        System.out.println("-----------------------");
        NodeList nList = doc.getElementsByTagName("CLCNum");
        for (int temp = 0; temp < nList.getLength(); temp++) {
            Node nNode = nList.item(temp);
            Node node = nList.item(0);
            if (nNode.getNodeType() == Node.ELEMENT_NODE) {
                Element eElement = (Element) nNode;
                String Mux1elements = (getTagValue("Mux1Inputs", eElement));
                String Mux2elements = (getTagValue("Mux2Inputs", eElement));
                String Mux3elements = (getTagValue("Mux3Inputs", eElement));
                String Mux4elements = (getTagValue("Mux4Inputs", eElement));
                String delims = "[,]+";
                String[] Mux1tokens  = Mux1elements.split(delims);
                String[] Mux2tokens  = Mux2elements.split(delims);
                String[] Mux3tokens  = Mux3elements.split(delims);
                String[] Mux4tokens  = Mux4elements.split(delims);

                for (int i = 0; i < Mux1tokens.length; i++){
                    mux1combo.addItem(Mux1tokens[i]);
                    String[] mux1elements = Mux1tokens;
            //        mux1combo = mux1elements;
                    }
                for (int i = 0; i < Mux2tokens.length; i++){
                    mux2combo.addItem(Mux2tokens[i]);
                    }
                for (int i = 0; i < Mux3tokens.length; i++){
                    mux3combo.addItem(Mux3tokens[i]);
                    }
                for (int i = 0; i < Mux4tokens.length; i++){
                    mux4combo.addItem(Mux4tokens[i]);
                    }
                panel.add(mux1combo, BorderLayout.WEST);
                panel.add(mux2combo, BorderLayout.WEST);
                panel.add(mux3combo, BorderLayout.WEST);
                panel.add(mux4combo, BorderLayout.WEST);
                panel.add(CLCcombo, BorderLayout.WEST);
                mux1combo.setEditable(true);
                mux2combo.setEditable(true);
                mux3combo.setEditable(true);
                mux4combo.setEditable(true);
                CLCcombo.setEditable(true);
        //        CLCcombo.addItemListener(new Sample_xml());

                frame.add(panel);
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setSize(400,400);
                frame.setVisible(true);
                jlbLabel1 = new JLabel("Multiplexer1");
                panel.add(jlbLabel1);
       }
    } 
```

我不知道如何为此编写项目侦听器。你能帮我么。很抱歉，这个问题可能很简单。我是初学者，没有足够的时间学习。

谢谢你的帮助！！！

# c++ - 是否可以嵌套到现有枚举类

> ID：13857995
> 
> 赞同：1
> 
> 时间：2012-12-13T10:36:14.100
> 
> 标签：c++, class, enums, using

我在一些头文件中有枚举。是否可以嵌套到现有枚举的类中？

解释：

一些头文件.h：

```
enum someEnum
{
someValue
/*other values*/
}; 
```

其他标题：

```
#include "headerfile.h"
class someClass
{
 public:
  //using enum someEnum; //don't work as I want
 }; 
```

我希望 someValue 可以作为

```
 someClass::someValue 
```

所以我的问题是可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T10:38:43.083

您可以嵌套该`enum`定义：

```
class someClass {
public:
    enum someEnum {
        someValue
    };
}; 
```

然后你可以像你想要的那样访问这个枚举：

```
someClass::someEnum X = someClass::someValue; 
```

但是，如果您想要创建一个成员变量 typed `someEnum`，您可以通过仅提供`someEnum`类型或嵌套枚举并将变量名放在分号之前来实现。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-13T10:54:52.863

一种方法是这样做：

```
class someClass
{
 public:

#include "headerfile.h"

  //using enum someEnum; //don't work as I want

 }; 
```

不漂亮但有效。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-13T14:56:29.980

您可以尝试将库包含在类定义中。

# entity-framework - 使用 linq 在模型类实体框架代码中获取 NotMapped 属性中的值

> ID：13857999
> 
> 赞同：3
> 
> 时间：2012-12-13T10:36:18.053
> 
> 标签：entity-framework, ef-code-first

我有以下情况。我首先使用 EF 5 代码，在 VS 2010 上使用 MVC 4。我正在为我的项目使用工作单元和存储库模式。

我不确定这是否可能。请建议。

我有一个代表数据库表的模型类。在模型类中，我有一个被修饰为 [NotMapped] 的属性。我有一个返回数据的存储过程，类似于模型类。但是，当我从 SP 获取列表中的数据时，它不包含 [NotMapped] 列的值（尽管 SP 返回 [NotMapped] 列的数据）。对于 EF，这在逻辑上可能是正确的。

我只想知道，我们是否有办法为 [NotMapped] 列填充数据。我想实现，CRUD 使用 LINQ（不包括 R - Read）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-13T15:06:17.503

我建议为存储过程结果创建一个单独的复杂类型。否则，您迟早会发现自己编写代码来区分来自 DbSet 或来自存储过程的实体。例如，当来自存储过程时，它们不能用于连接。或者检查是否设置了未映射的属性。

一个非常肮脏的方法可能是有两个不同的上下文。使用代码优先，可以有不同的上下文，不同的映射到相同的类型，忽略或不忽略列（如果使用流畅的映射，而不是数据注释）。但这只有在您告诉 EF 不检查数据库模式时才会成功，因此也排除了使用迁移。我不会这样做的！原因和我上面提到的一样。我不希望有一个有时设置有时未设置的属性的类型。