# StackOverflow 问答 14065000-14065999

# asp.net-mvc-3 - MVC3 VB Razor 无法识别转换后的 C# HTML 扩展方法代码

> ID：14065007
> 
> 赞同：0
> 
> 时间：2012-12-28T05:28:43.623
> 
> 标签：asp.net-mvc-3, razor, extension-methods, c#-to-vb.net, html.radiobuttonlist

我一直在通过谷歌搜索结果寻找实现某种`RadioButton`列表（VB、MVC3、Razor）的方法。不幸的是，我发现的大多数结果都是在 C# 中；这是我能找到的最有用的参考资料：**[Jon Lanceley 的 MVC3 RadioButton Helper](http://jonlanceley.blogspot.com/2011/06/mvc3-radiobuttonlist-helper.html)**（顺便说一句，C#），所以我需要将代码翻译成 VB（感谢**[developerFusion](http://www.developerfusion.com/tools/convert/csharp-to-vb/)**！）。

我认为这会相当简单，但我发现编译器无法将该函数识别为模块命名空间的一部分；随后进行了一些解决该问题的尝试，但都失败了。

这是我的代码（你可以通过评论看到我尝试过的所有尝试，`Andrew.San`如果你签名的话`Ctrl + F`）：

**帮手：**

```
Imports System.Collections.Generic
Imports System.Linq
Imports System.Web
Imports System.Web.Mvc
Imports System.Web.Mvc.Html
Imports System.Linq.Expressions
Imports System.Runtime.CompilerServices
Imports System.Text

Namespace RadioButtonListForHelperTest
    Public Module HtmlExtensions

        Sub New()

        End Sub

        <Extension()> _
        Public Function RadioButtonForSelectList(Of TModel, TProperty)( _
                                                                          htmlHelper As HtmlHelper(Of TModel), _
                                                                          expression As Expression(Of Func(Of TModel, TProperty)), _
                                                                          listOfValues As IEnumerable(Of SelectListItem)) As MvcHtmlString
            Dim metaData = ModelMetadata.FromLambdaExpression(expression, htmlHelper.ViewData)
            Dim stringBuilder = New StringBuilder()

            If listOfValues IsNot Nothing Then
                ' Create a radio button for each item in the list 
                For Each item As SelectListItem In listOfValues
                    ' Generate an id to be given to the radio button field 
                    Dim id = String.Format("{0}_{1}", metaData.PropertyName, item.Value)

                    ' Create and populate a radio button using the existing html helpers 
                    Dim label = htmlHelper.Label(id, HttpUtility.HtmlEncode(item.Text))
                    Dim radio = htmlHelper.RadioButtonFor(expression, item.Value, New With { _
                     Key .id = id _
                    }).ToHtmlString()

                    ' Create the html string that will be returned to the client 
                    ' e.g. <input data-val="true" data-val-required="You must select an option" id="TestRadio_1" name="TestRadio" type="radio" value="1" /><label for="TestRadio_1">Line1</label> 
                    stringBuilder.AppendFormat("<div class=&quot;RadioButton&quot;>{0}{1}</div>", radio, label)
                Next
            End If

            Return MvcHtmlString.Create(stringBuilder.ToString())
        End Function
    End Module
End Namespace 
```

**模型：**

```
Imports System.Collections.Generic
Imports System.Linq
Imports System.Web
Imports System.ComponentModel.DataAnnotations
Imports System.Web.Mvc

Namespace RadioButtonListForHelperTest.Models
    Public Class TestModel
        Public Property TestRadioList() As IEnumerable(Of SelectListItem)
            Get
                Return m_TestRadioList
            End Get
            Set(value As IEnumerable(Of SelectListItem))
                m_TestRadioList = value
            End Set
        End Property
        Private m_TestRadioList As IEnumerable(Of SelectListItem)
        Public Property TestRadioList2() As IEnumerable(Of SelectListItem)
            Get
                Return m_TestRadioList2
            End Get
            Set(value As IEnumerable(Of SelectListItem))
                m_TestRadioList2 = value
            End Set
        End Property
        Private m_TestRadioList2 As IEnumerable(Of SelectListItem)

        <Display( _
            Name:="Test Radio 1", _
            Description:="This is the first list.", _
            Prompt:="Some prompt message.", _
            Order:=2)> _
        <Required(ErrorMessage:="You must select an option for TestRadio")> _
        Public Property TestRadio() As String
            Get
                Return m_TestRadio
            End Get
            Set(value As String)
                m_TestRadio = value
            End Set
        End Property
        Private m_TestRadio As String

        <Display( _
            Name:="Test Radio 2", _
            Description:="This is the second list.", _
            Prompt:="Some prompt message.", _
            Order:=1)> _
        <Required(ErrorMessage:="You must select an option for TestRadio2")> _
        Public Property TestRadio2() As String
            Get
                Return m_TestRadio2
            End Get
            Set(value As String)
                m_TestRadio2 = value
            End Set
        End Property
        Private m_TestRadio2 As String

        ' I tried it out, just in case 
        ' (see Index; @Html.RadioButtonForSelectList).
        ' It didn't help, really.
        ' - Andrew.San
        Public Function RadioButtonForSelectList(Of TModel, TProperty)( _
                                                                          htmlHelper As HtmlHelper(Of TModel), _
                                                                          expression As Expressions.Expression(Of Func(Of TModel, TProperty)), _
                                                                          listOfValues As IEnumerable(Of SelectListItem)) As MvcHtmlString
            Return RadioButtonListForHelperTest.RadioButtonForSelectList(htmlHelper, expression, listOfValues)
        End Function
    End Class

    Public Class aTest
        Public Property ID() As Integer
            Get
                Return m_ID
            End Get
            Set(value As Integer)
                m_ID = value
            End Set
        End Property
        Private m_ID As Integer
        Public Property Name() As String
            Get
                Return m_Name
            End Get
            Set(value As String)
                m_Name = value
            End Set
        End Property
        Private m_Name As String
    End Class
End Namespace 
```

**控制器：**

```
Imports System.Collections.Generic
Imports System.Linq
Imports System.Web
Imports System.Web.Mvc
Imports RadioButtonListForHelperTest.RadioButtonListForHelperTest.Models

Namespace Controllers
    Public Class TestController
        Inherits System.Web.Mvc.Controller

        '
        ' GET: /Test

        Function Index() As ActionResult
            Dim list As New List(Of aTest)()
            list.Add(New aTest() With { _
             .ID = 1, _
             .Name = "Line1" _
            })
            list.Add(New aTest() With { _
             .ID = 2, _
             .Name = "Line2" _
            })
            list.Add(New aTest() With { _
             .ID = 3, _
             .Name = "Line3" _
            })
            Dim sl As New SelectList(list, "ID", "Name")

            Dim list2 As New List(Of aTest)()
            list2.Add(New aTest() With { _
             .ID = 1, _
             .Name = "test1" _
            })
            list2.Add(New aTest() With { _
             .ID = 2, _
             .Name = "test2" _
            })
            Dim sl2 As New SelectList(list2, "ID", "Name")

            Dim model = New TestModel()
            model.TestRadioList = sl
            model.TestRadioList2 = sl2

            model.TestRadio = "2"
            ' Set a default value for the first radio button helper
            Return View(model)
        End Function

        '
        ' POST: /Test

        <HttpPost()> _
        Public Function Index(model As TestModel, returnUrl As String) As ActionResult
            If ModelState.IsValid Then
                ModelState.AddModelError("", "Always force an error to be raised so we can test the postback sets the radio buttons to their last values.")
            End If

            ' If we got this far, something failed, redisplay form 
            Dim list As New List(Of aTest)()
            list.Add(New aTest() With { _
             .ID = 1, _
             .Name = "Line1" _
            })
            list.Add(New aTest() With { _
             .ID = 2, _
             .Name = "Line2" _
            })
            list.Add(New aTest() With { _
             .ID = 3, _
             .Name = "Line3" _
            })
            Dim sl As New SelectList(list, "ID", "Name")

            Dim list2 As New List(Of aTest)()
            list2.Add(New aTest() With { _
             .ID = 1, _
             .Name = "test1" _
            })
            list2.Add(New aTest() With { _
             .ID = 2, _
             .Name = "test2" _
            })
            Dim sl2 As New SelectList(list2, "ID", "Name")

            model.TestRadioList = sl
            model.TestRadioList2 = sl2

            Return View(model)
        End Function

    End Class
End Namespace 
```

**看法：**

```
@Imports RadioButtonListForHelperTest <!-- Andrew.San - Looked up Google on how to import a namespace in VB -->
@ModelType RadioButtonListForHelperTest.RadioButtonListForHelperTest.Models.TestModel

@Code
    Dim obj1 As System.Web.Mvc.HtmlHelper(Of RadioButtonListForHelperTest.RadioButtonListForHelperTest.Models.TestModel)
    Dim obj2 As System.Web.Mvc.HtmlHelper(Of RadioButtonListForHelperTest.RadioButtonListForHelperTest.Models.TestModel)
    ViewData("Title") = "Index"
End Code

<h2>Index</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@Using Html.BeginForm()
    @Html.ValidationSummary(True)
    @<fieldset>
        <legend>TestModel</legend>

        <div class="editor-label">
            @Html.LabelFor(Function(model) model.TestRadio)
        </div>
        <div class="editor-field">
            @Html.RadioButtonForSelectList(Function(model) model.TestRadio, Model.TestRadioList)
            <!-- Andrew.San
                Apparently, the method isn't a member of 
                System.Web.Mvc.HtmlHelper(Of RadioButtonListForHelperTest.RadioButtonListForHelperTest.Models.TestModel),
                which is odd; I don't see the need for a Model to have this method. 
            -->

            @RadioButtonListForHelperTest.RadioButtonListForHelperTest.RadioButtonForSelectList(obj1, Function(model) model.TestRadio, Model.TestRadioList)
            <!-- Andrew.San
                The compiler needs me to send an htmlHelper argument to the 
                HtmlExtension RadioButtonForSelectList method, 
                which Jon Lanceley didn't need to do.

                @Html.RadioButtonForSelectList(m => m.TestRadio, Model.TestRadioList)
            -->

            @Html.ValidationMessageFor(Function(model) model.TestRadio)
        </div>

        <div class="editor-label">
            @Html.LabelFor(Function(model) model.TestRadio2)
        </div>
        <div class="editor-field">
            <!-- Andrew.San
                As per the first radio button list. 
            -->
            @Html.RadioButtonForSelectList(Function(model) model.TestRadio2, Model.TestRadioList2)
            @RadioButtonListForHelperTest.RadioButtonListForHelperTest.RadioButtonForSelectList(obj2, Function(model) model.TestRadio2, Model.TestRadioList2)
            @Html.ValidationMessageFor(Function(model) model.TestRadio2)
        </div>

        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
End Using

<div>
    @Html.ActionLink("Back to List", "Index")
</div> 
```

对。这就是我所拥有的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T05:46:51.717

问题是您的扩展方法位于`RadioButtonListForHelperTest`命名空间中，但在您的视图中您尝试访问它查看`System.Web.Mvc.Html`命名空间。`@Html`在`System.Web.Mvc`.

要在同一命名空间中访问您的扩展方法，您需要执行以下操作。

将您当前的命名空间更改为`System.Web.Mvc.Html`. 然后创建一个你喜欢的静态类，`MyExtensions`然后在这个类中包含你的扩展方法。它必须是静态的。

# ssis - 从映射窗口复制 SSIS 列名

> ID：14065009
> 
> 赞同：0
> 
> 时间：2012-12-28T05:28:47.290
> 
> 标签：ssis

我需要有关从 SSIS OLEDB 编辑器的映射窗口复制列名的帮助。目前我正在手动记下。![SSIS OLEDB 编辑器的映射窗口](../Images/546dfc23ff022841ab9168c0bb720195.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T10:50:15.480

`SSIS`包是`XML`基于的，您可以尝试右键单击使用记事本编辑器打开的包并尝试找到这些映射的标签并复制文本并对其进行格式化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-28T15:10:35.397

如果您这样做是为了尝试记录您的 SSIS 包，您应该尝试使用第三方文档应用程序。其中一个例子是Pragmatic Works 的[BI-Documenter](http://pragmaticworks.com/Products/BI-Documenter/TrialDownload.aspx)。

# ios - 位置搜索结果叠加

> ID：14065013
> 
> 赞同：7
> 
> 时间：2012-12-28T05:29:31.807
> 
> 标签：ios, search, location

我正在尝试将搜索栏添加到我的一个应用程序中，该应用程序允许用户输入地址信息，并且会出现一个带有可能结果（和键盘）的表格视图。本质上与地图应用程序中提供的功能相同。是否有捷径可寻？

![在此处输入图像描述](../Images/ef2a299256c917d0f1e9eb23315adf13.png)

最好有一个当前位置默认和自动完成，但不是必需的。我可以从头开始构建 UI，但我不知道如何取回搜索结果。我可以使用地理编码器并将结果解析为表格视图吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-12-28T06:00:42.120

有一个标准组件可以做到这一点，称为[UISearchDisplayController](http://developer.apple.com/library/ios/#documentation/uikit/reference/UISearchDisplayController_Class/Reference/Reference.html)。

它为您提供了 a`UISearchBar`和 a`UITableView`用于显示结果。然后可以根据需要自定义表格视图的内容和外观。

为了控制此类控制器执行的操作，您需要遵守[UISearchDisplayDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UISearchDisplayDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UISearchDisplayDelegate)协议。

我建议您仔细查看文档中可以找到的[示例应用程序。](http://developer.apple.com/library/ios/#samplecode/TableSearch/Introduction/Intro.html#//apple_ref/doc/uid/DTS40007848)

**编辑**

为了实现自动完成功能，您可以实现协议的`searchDisplayController:shouldReloadTableForSearchString`方法`UISearchDisplayDelegate`。它将在用户键入的每个字符处调用。

假设您有一个`CLGeocoder`名为的属性`geocoder`，并且您将地标保存在一个`NSArray`名为 的属性`placemarks`中，下面是一个如何实现实时自动完成的示例：

```
-(BOOL)searchDisplayController:(UISearchDisplayController *)controller shouldReloadTableForSearchString:(NSString *)searchString {      
    [self.geocoder geocodeAddressString:searchString completionHandler:^(NSArray *placemarks, NSError *error) {
            self.placemarks = placemarks;
            [self.searchDisplayController.searchResultsTableView reloadData];
    }];
    return NO;
} 
```

每次搜索的输入字符串发生变化时，您都会使用该字符串执行前向地理编码。在`completionHandler`块中，您将新找到的地标分配给您的`placemarks`属性并重新加载表格。

请注意，由于搜索是异步的，您将负责在完成处理程序中重新加载表并在委托方法中返回 NO。返回 YES 将使表在搜索结束之前重新加载，这不是您想要的行为。

最后，请记住我提供的代码是最少的。在现实世界的应用程序中，您最好注意地理编码器可能遇到的错误，例如和`kCLErrorGeocodeFoundNoResult`，记录[在此](https://developer.apple.com/library/ios/#documentation/CoreLocation/Reference/CoreLocationConstantsRef/Reference/reference.html)。`kCLErrorGeocodeFoundPartialResult``kCLErrorGeocodeCanceled`

# c# - 获取要自动使用的 XSD 架构文件

> ID：14065014
> 
> 赞同：1
> 
> 时间：2012-12-28T05:29:39.030
> 
> 标签：c#, xml, configuration, xsd, schema

我有一个库，可以使用`App.Config`. 然后我曾经`Xsd.exe`生成一个`.Xsd`文件以允许在编辑该`App.Config`部分时使用 Intellisense。然后我将 Xsd 文件添加到项目中。

现在当我从一个使用该库的项目中引用该项目时，当我点击 时`XML->Schemas`，新的 Xsd 文件会自动出现在列表中，并且 Use 列没有图标，表示`Automatic`. 但是，元素没有出现智能感知，如果我将其更改为绿色复选标记`Use this schema`，则会出现智能感知。

所以我有三个问题：

1.  设置为时如何让智能感知出现`automatic`？
2.  如果我不能做到#1，如何`Use this schema`在引用库时自动设置？
3.  有没有办法在`configSections`, add Section 部分（定义稍后在配置中会有自定义配置部分的部分）添加智能感知以完成代码？

# ios - 尝试仅将某些实体加载到表视图中

> ID：14065016
> 
> 赞同：0
> 
> 时间：2012-12-28T05:30:04.697
> 
> 标签：ios, core-data, ios6, tableview, tableviewcell

我有一个实体客户的数据模型。客户具有姓名、地​​址等属性。这些属性之一是回调日期。我只想将具有今天回调日期的客户加载到表中。下面是我必须检查日期是否相等然后创建单元格的代码。问题是当日期不相等时，它会跳过单元格的创建。我如何跳过该特定客户并转移到下一个客户？

```
if(date==date2 && month==month2 && year==year2)
    {
        static NSString *CellIdentifier = @"Cell";
        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

        if (cell == nil) {
            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        }

        NSString *string = [NSString stringWithFormat:@"%@ %@", cust.firstName, cust.lastName];
        cell.textLabel.text = string;
        return cell;
    }
return nil;

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T05:44:16.103

我会采取完全不同的路线。

与其在单元格中不显示任何内容，不如简单地不提供数据以使单元格存在。您提到您正在使用模型，所以我假设您正在使用核心数据？

如果是这样，那么在获取模型时更改谓词以忽略所有不符合条件的对象。然后，您可以只显示表中的每个对象，因为您知道没有您不想要的对象。

或者，获取所有内容（如果您可能不使用核心数据）然后将谓词应用于您正在使用的数据数组并以这种方式将其过滤掉。

# java - 如何为 jaxrs 调用消息正文阅读器

> ID：14065019
> 
> 赞同：0
> 
> 时间：2012-12-28T05:30:11.567
> 
> 标签：java, rest, jersey

我有一个要求，我需要通过在请求正文中添加该 xml，将 xml 从 Firefox 浏览器的 restclient 插件发送到资源。为此，我编写了一个消息正文阅读器实现类，并将该 xml 转换为 java 对象。但我无法调用该消息正文阅读器类。如何调用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T05:38:30.810

您不调用[MessageBodyReader](http://jsr311.java.net/nonav/javadoc/javax/ws/rs/ext/MessageBodyReader.html)。您将其标记为[@Provider](http://jsr311.java.net/nonav/javadoc/javax/ws/rs/ext/Provider.html)并确保将其添加到您的 JAX-RS 应用程序的[classes](http://jsr311.java.net/nonav/javadoc/javax/ws/rs/core/Application.html#getClasses%28%29)或[singletons](http://jsr311.java.net/nonav/javadoc/javax/ws/rs/core/Application.html#getSingletons%28%29)中。有很多方法可以做到这一点，其中一些取决于您使用的 JAX-RS 实现。当需要将 HTTP 实体转换为基于媒体类型的 POJO 时，JAX-RS 实现会调用 MessageBodyReader。

# mysql - mysql中的快速分页？

> ID：14065021
> 
> 赞同：1
> 
> 时间：2012-12-28T05:30:57.277
> 
> 标签：mysql

我记得这样做`where ... limit 100000 200`很慢，因为 mysql 仍然扫描前 100000 行。超过 100 万行需要几秒钟（而不是几毫秒）。无论如何，我正处于网站的设计阶段。我想使用多个标签进行搜索，例如`cpp` `sockets`.

我正在尝试快速搜索。我认为我的选择是使用时间戳（最有可能作为 64 位整数）或使用最低/最高行 # 而不是使用页面 #。但我想我可能需要走得更远？

我在想我需要一个查找表，所以如果帖子 123456789 有标签 cpp socket howto 我会将帖子插入到带有 tagid 索引的查找表（lookupid、tagid、postid）中。找出哪个计数最少（我是使用 count(*) 还是在某处更新包含当前计数的行？）然后我可以使用如下语句进行搜索

```
select postid from Post p join
(select postid from tag_lookup where tag=@tag_with_lowest_count and post_id<@post_id_limit) 
  as t2 on p.id=t2.postid
//i'm not sure how to write a where that checks if a post has every tag in a list.
where @array_length_as_a_param == (select count(*) from tag where tag.postid=p.postid 
  and in @array //dapper probably handles this for me. Unsure if this is connrect 
```

我没有数据、表格和任何东西，所以我`explain`还不能使用（我读起来也很糟糕）。我在头脑风暴。所以我会使用 > 或 < 取决于我是否在做下一页/上一页并使用 post_id 而不是使用页码。

任何人都可以想出一种在我和在一起的随机标签上快速查找页面的好方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T05:49:54.087

1.  使用`select count([your-primary-key])`而不是`*`.
2.  在标签和帖子中的 postid 上使用索引。
3.  在 where 子句中使用连接而不是测试相等性。

这只是粗略的一瞥。一旦你完成了这三个，如果它仍然不够性能，发布查询解释的结果，我很乐意看看。

# php - 找出具有相同卷曲度的 3 个站点中的哪个站点

> ID：14065026
> 
> 赞同：0
> 
> 时间：2012-12-28T05:32:58.740
> 
> 标签：php, curl

我有 3 个网站`curl`到一个返回一些值的 php 脚本

*   站点1
*   站点2
*   站点3
*   网站主

如何区分哪个站点卷曲到主站点而不将其作为变量包含在内。

我尝试从 site1登录`$_SERVER`站点主站点，但它不包括`curl`

`HTTP_HOST`或者`HTTP_REFERER`

有什么办法可以设置它吗？这是我的卷曲

```
 curl_setopt(    $ch,    CURLOPT_URL,               $server_url              );
    curl_setopt(    $ch,    CURLOPT_POST,              0                        );
    curl_setopt(    $ch,    CURLOPT_AUTOREFERER,       true                   );
    curl_setopt(    $ch,    CURLOPT_POSTFIELDS,        $postValuesString        );
    curl_setopt(    $ch,    CURLOPT_HTTPHEADER,        array("Expect:")         );
    curl_setopt(    $ch,    CURLOPT_FAILONERROR,       1                        );
    curl_setopt(    $ch,    CURLOPT_HEADER,            false                        );
    curl_setopt(    $ch,    CURLOPT_RETURNTRANSFER,    1                        );
    curl_setopt(    $ch,    CURLOPT_SSL_VERIFYPEER,    false                    );
    curl_setopt(    $ch,    CURLOPT_SSL_VERIFYHOST,    false                    );
    curl_setopt(    $ch,    CURLOPT_TIMEOUT,           120                      );
    curl_setopt(    $ch,    CURLINFO_HEADER_OUT,       true                     );
    curl_setopt(    $ch,    CURLOPT_HTTP_VERSION,      CURL_HTTP_VERSION_1_1    ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T05:38:22.677

CURLOPT_AUTOREFERER 仅在重定向到另一个 URL 时设置。

> TRUE 以在请求中自动设置 Referer: 字段，该字段遵循 Location: 重定向。

仅供参考： http: [//php.net/manual/en/function.curl-setopt.php](http://php.net/manual/en/function.curl-setopt.php)

因此，您必须手动显式设置 HTTP_REFERER 标头。

# android - 如何拉取已安装应用名称、包名称和可绘制图标的列表

> ID：14065028
> 
> 赞同：4
> 
> 时间：2012-12-28T05:33:19.603
> 
> 标签：android, android-listview, android-package-managers, android-applicationinfo

我试图弄清楚如何将此代码实现到我现有的源代码中。目前我有一些显示所有已安装应用程序的列表视图的源，单击时会将意图发送到应用程序。我需要一些关于如何拉图标并将其添加到列表视图中的支持。

任何帮助、源代码编辑、链接等都可以帮助我解决这个问题。

谢谢

**ListInstalledActivityActivity**

```
public class ListInstalledActivitiesActivity extends ListActivity {

    // Buffer used to store package and class information, and also determine the number of installed activities
    private ArrayList<String[]> _activitiesBuffer = null;

    // Buffers for package and class information
    private String[] _packages = null;
    private String[] _classes = null;

    // Index used to fill buffers
    private int _index = 0;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main3);
        // Get all installed activities (package and class information for every activity)
        getAllInstalledActivities();              

        // Set content to GUI
        setListAdapter(new ArrayAdapter<String>(this, R.layout.list_item, _classes));

        ListView lv = getListView();
        lv.setTextFilterEnabled(true);

        // Add listener
        lv.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

                // When clicked, show a toast with the selected activity
                Toast.makeText(
                    getApplicationContext(), 
                    ((TextView) view).getText(), 
                    Toast.LENGTH_SHORT).show();

                // When clicked, start selected activity, if allowed or possible
                try {

                    Intent intent = new Intent().setClassName(
                            _packages[position], // package 
                            _classes[position]); // class
                    startActivity(intent);

                } catch (Exception e) {
                    Toast.makeText(getApplicationContext(), "Unable to start selected application.", Toast.LENGTH_SHORT);
                }

          } // public void onItemClick(AdapterView<?> parent, View view, int position, long id)

        });

    } // public void onCreate(Bundle savedInstanceState)

    /*
     * Get all installed activities
     */
    private void getAllInstalledActivities() {

        // Initialize activities buffer
        _activitiesBuffer = new ArrayList<String[]>();

        final Intent intent = new Intent(Intent.ACTION_MAIN, null);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        final List<ResolveInfo> pkgAppsList = getPackageManager().queryIntentActivities( intent, 0);

        Iterator<ResolveInfo> iterator1 = pkgAppsList.iterator();
        while (iterator1.hasNext()) {

            ResolveInfo resolveInfo = iterator1.next();

            String[] buf = new String[] {
                    resolveInfo.activityInfo.packageName, 
                    resolveInfo.activityInfo.name};

            _activitiesBuffer.add(buf);

        } // while (iterator1.hasNext())

        _packages = new String[_activitiesBuffer.size()];
        _classes = new String[_activitiesBuffer.size()];

        Iterator<String[]> iterator2 = _activitiesBuffer.iterator();
        while (iterator2.hasNext()) {

            String[] buf = iterator2.next();

            // Store package information
            _packages[_index] = buf[0]; 

            // Store class information
            _classes[_index] = buf[1];

            _index++;

        } // while (iterator2.hasNext())

    } // private void getAllInstalledActivities()

      } 
```

**main3.xml**

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="fill_parent"
     android:layout_height="fill_parent"
     android:orientation="vertical" >

     <ListView
         android:id="@+id/android:list"
         android:layout_width="fill_parent"
         android:layout_height="fill_parent" />

      <!-- <ImageView -->
      <!--android:id="@+id/ImageView02" -->
      <!--android:layout_width="fill_parent" -->
      <!--android:layout_height="wrap_content" -->
      <!--android:layout_marginBottom="10dp" -->
      <!--android:paddingBottom="5dp" -->

      </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-28T05:52:44.193

要获取已安装应用程序的名称和图标，您需要使用 Package Manager 类，这是一段代码，可让您获取应用程序的名称和图标

```
 import android.app.Activity;
import android.content.Intent;
import android.content.pm.PackageManager;
import android.content.pm.ResolveInfo;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;

public class FetchApplicationsActivity extends Activity {

    TextView data;
    ImageView image1;
    LinearLayout holdlayout;
    View l1;
    private ArrayList results;
    List<ResolveInfo> list;
    TextView result;
    String str = "";
    Drawable icon;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        l1 = findViewById(R.id.Layout1);
        results = new ArrayList();
        PackageManager pm = this.getPackageManager();
        Intent intent = new Intent(Intent.ACTION_MAIN, null);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        list = pm.queryIntentActivities(intent,
                PackageManager.PERMISSION_GRANTED);
        for (ResolveInfo rInfo : list) {
            str = rInfo.activityInfo.applicationInfo.loadLabel(pm).toString()
                    + "\n";
            results.add(rInfo.activityInfo.applicationInfo.loadLabel(pm)
                    .toString());
            Log.w("Installed Applications", rInfo.activityInfo.applicationInfo
                    .loadLabel(pm).toString());
            icon = rInfo.activityInfo.applicationInfo.loadIcon(pm);
            holdlayout = new LinearLayout(getApplicationContext());
            holdlayout.setOrientation(LinearLayout.HORIZONTAL);
            data = new TextView(getApplicationContext());
            data.setText(str);
            image1 = new ImageView(getApplicationContext());
            image1.setBackgroundDrawable(icon);
            ((ViewGroup) holdlayout).addView(image1);
            ((ViewGroup) holdlayout).addView(data);
            ((ViewGroup) l1).addView(holdlayout);

        }
    }
} 
```

**编辑 -**你可以定义你`main.xml`的，

```
?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <LinearLayout
        android:id="@+id/Layout1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

    </LinearLayout>
    </ScrollView>

</LinearLayout> 
```

在这里，我创建了 dynamic `textviews`，`Imageviews`并`layouts`显示名称和图标。您可以创建自己的自定义列表来显示这一点。

**Edit2-这是一个关于**[如何创建自定义列表](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)的好链接，也可以[在这里查看](https://stackoverflow.com/questions/4407865/how-to-customize-listview-row-android)。我认为这些将解决问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-01-21T10:31:30.870

我遵循本教程，它对我很有帮助：

```
class PInfo {
    private String appname = "";
    private String pname = "";
    private String versionName = "";
    private int versionCode = 0;
    private Drawable icon;
    private void prettyPrint() {
        Log.v(appname + "\t" + pname + "\t" + versionName + "\t" + versionCode);
    }
}

private ArrayList<PInfo> getPackages() {
    ArrayList<PInfo> apps = getInstalledApps(false); /* false = no system packages */
    final int max = apps.size();
    for (int i=0; i<max; i++) {
        apps.get(i).prettyPrint();
    }
    return apps;
}

private ArrayList<PInfo> getInstalledApps(boolean getSysPackages) {
    ArrayList<PInfo> res = new ArrayList<PInfo>();        
    List<PackageInfo> packs = getPackageManager().getInstalledPackages(0);
    for(int i=0;i<packs.size();i++) {
        PackageInfo p = packs.get(i);
        if ((!getSysPackages) && (p.versionName == null)) {
            continue ;
        }
        PInfo newInfo = new PInfo();
        newInfo.appname = p.applicationInfo.loadLabel(getPackageManager()).toString();
        newInfo.pname = p.packageName;
        newInfo.versionName = p.versionName;
        newInfo.versionCode = p.versionCode;
        newInfo.icon = p.applicationInfo.loadIcon(getPackageManager());
        res.add(newInfo);
    }
    return res; 
} 
```

# c# - C# 5.0 异步中的 awaitable 和 awaiter

> ID：14065030
> 
> 赞同：13
> 
> 时间：2012-12-28T05:33:43.393
> 
> 标签：c#, asynchronous, async-await, c#-5.0

Task 或 Task<TResult> 对象是可等待的，因此我们可以对返回值为 Task 或 Task<TResult> 的对象使用 await 键。Task 或 Task<TResult> 是最常用的可等待对象。

我们也可以定义自己的等待对象。该对象应具有以下条件。

1.  它有一个 GetAwaiter() 方法（实例方法或扩展方法）；
2.  它的 GetAwaiter() 方法返回一个等待者。一个对象是一个等待者，如果：
    *   它实现了 INotifyCompletion 或 ICriticalNotifyCompletion 接口；
    *   它有一个 IsCompleted，它有一个 getter 并返回一个布尔值；
    *   它有一个 GetResult() 方法，该方法返回 void 或结果。

我的问题是，为什么微软没有提供一个接口来约束这些等待对象？当前实现等待对象的方法有点复杂。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-12-28T06:04:17.270

最好在 Lucian Wischik 的博客文章[Why must async methods return Task?中回答。](http://blogs.msdn.com/b/lucian/archive/2012/11/22/why-must-async-methods-return-task.aspx)

总而言之（我不是在做博客文章正义，你应该阅读它），问题是`Task`已经存在，所以引入一个接口意味着

*   所有内部方法都需要更改为接口，这是一个中断更改，因此框架人们几乎不可能愿意这样做。
*   作为一个程序员，你会经常需要决定是要返回`Task`还是要返回接口，这个决定并不重要。
*   编译器总是需要一个具体的类型，所以即使你从一个方法返回了一个接口，它仍然会被编译为`Task`.

上面的影响是如此巨大，以至于提供一个接口是没有意义的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-28T05:44:53.373

这与他们为关键字所做的一致（请参阅[C# 语言规范](http://msdn.microsoft.com/en-us/library/ms228593.aspx)“foreach 语句”的`foreach`第 8.8.4 节）。

基本上，它是鸭式的；如果该类型实现了一个`MoveNext`方法和一个`Current`属性，这就是 C# 编译器知道如何迭代对象公开的序列所需的全部内容。

这也适用于集合初始化器（请参阅 C# 语言规范“集合初始化器”的第 7.6.10.3 节）；唯一的要求是该类型实现了[`System.Collections.IEnumerable`接口](http://msdn.microsoft.com/en-us/library/system.collections.ienumerable.aspx)并具有`Add`方法。

也就是说，[`await`关键字](http://msdn.microsoft.com/en-us/library/vstudio/hh156528.aspx)只是遵循先前的先例，不需要特定的接口实现（尽管接口提供这些方法，如果您选择使用它们），只是编译器可以识别的方法模式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-07-10T19:32:16.073

我认为主要原因是您在第 1 点中所说的

> 实例方法或扩展方法

简单地说，因为他们希望通过为对象定义扩展方法来使用户能够使对象变为可等待，因此，即使您不拥有对象，您也可以使对象变为可等待。

[签出这篇文章](https://weblogs.asp.net/dixin/understanding-c-sharp-async-await-2-awaitable-awaiter-pattern)

# mysql - 为什么这个 mysql 查询会产生这个有趣的结果......？

> ID：14065031
> 
> 赞同：0
> 
> 时间：2012-12-28T05:33:43.663
> 
> 标签：mysql, select, count, group-by

这是我的桌子。

```
mysql> desc products;
+--------------------+-------------+------+-----+--------------------------------------+-------+
| Field              | Type        | Null | Key | Default                              | Extra |
+--------------------+-------------+------+-----+--------------------------------------+-------+
| productCode        | varchar(15) | NO   | PRI | NULL                                 |       |
| productName        | varchar(70) | NO   |     | NULL                                 |       |
| productUrl         | varchar(50) | YES  |     | NULL                                 |       |
| productLine        | varchar(50) | NO   |     | NULL                                 |       |
| productScale       | varchar(10) | NO   |     | NULL                                 |       |
| productVendor      | varchar(50) | NO   |     | NULL                                 |       |
| productDescription | text        | NO   |     | NULL                                 |       |
| quantityInStock    | smallint(6) | NO   |     | NULL                                 |       |
| buyPrice           | double      | NO   |     | NULL                                 |       |
| MSRP               | double      | NO   |     | NULL                                 |       |
| Image              | varchar(50) | YES  |     | phpGridx/SampleImages/motorcycle.jpg |       |
+--------------------+-------------+------+-----+--------------------------------------+-------+ 
```

当我尝试以下查询时..？

```
mysql> select productVendor,count(productCode) from products order by productCode;
+-----------------+--------------------+
| productVendor   | count(productCode) |
+-----------------+--------------------+
| Min Lin Diecast |                110 |
+-----------------+--------------------+ 
```

为什么显示“敏林压铸”。我的桌子上有大约 11 个其他产品供应商。为什么要这样做，总行数是 110 没关系，但我不明白为什么它特别显示那个供应商。（这甚至不是第一个记录）。

任何人都可以解释我为什么..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-28T05:35:03.777

因为您没有`GROUP BY`导致它只有 1 条记录返回的子句。

```
select productVendor,count(productCode) 
from products 
GROUP BY productVendor
order by productCode 
```

如果你`ONLY_FULL_GROUP_BY`在 mysql 中启用，你的查询将不会执行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-28T05:35:40.323

试试这个：

```
SELECT productVendor,count(productCode) 
FROM products 
GROUP BY productVendor
ORDER BY productCode; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-28T06:02:06.217

由于您没有在查询中添加 GROUP BY 子句，并且在 SELECT 语句中您有两列 productVendor 和 productCode，我的问题是，如果您只想知道 productCode 的计数，那么为什么要选择 productVendor 列，因为 productVendor 值总是该列的第一个值。

因此，如果您想计算所有 productCode ， productVendor 明智的，您应该使用此 GROUP BY 子句

```
 SELECT productVendor,count(productCode) 
     FROM   products 
     GROUP BY productVendor
     ORDER BY productCode 
```

# nintendo - 任天堂wii SDK

> ID：14065036
> 
> 赞同：1
> 
> 时间：2012-12-28T05:34:24.347
> 
> 标签：nintendo, wiiuse

谁能告诉我从哪里可以下载任天堂的wii sdk。我无法在任何地方找到它。我也可以免费获得这个 SDK，或者我可以只获得 SDK 文档吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-28T05:38:17.753

请参考授权的任天堂开发者和发行商 - **Wario World**

[http://warioworld.com/apply/](http://warioworld.com/apply/)

或加入 GameDev.SE 上的讨论

[https://gamedev.stackexchange.com/questions/14728/how-does-one-obtain-an-official-nintendo-development-sdk](https://gamedev.stackexchange.com/questions/14728/how-does-one-obtain-an-official-nintendo-development-sdk)

# c# - 如何使 mainMenuStrip 在 Windows 窗体应用程序中看起来有光泽

> ID：14065043
> 
> 赞同：3
> 
> 时间：2012-12-28T05:35:03.480
> 
> 标签：c#, winforms, user-interface

我正在尝试使用 Windows 窗体制作一个漂亮的 UI，但我遇到的主要问题是 Windows 窗体中的 MenuStrip 看起来很平坦。在 WPF 中，一切都是闪亮的并弹出，我怎样才能使它看起来像那样？我尝试使用渐变背景图像，但按钮保持为蓝色矩形。我也愿意使用替代控件。有任何想法吗？

我忘了提及，关于替代控件，我正在寻找免费和开源的东西。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-28T05:50:05.740

我个人的建议是你从菜单条转移到“*类似办公室*”的菜单/功能区。

请通过以下链接/搜索这些站点以获取更多针对 winforms 的自定义控件

**代码项目**

[http://www.codeproject.com/Articles/12204/Flat-style-menu-bar-and-popup-menu-control-for-Win](http://www.codeproject.com/Articles/12204/Flat-style-menu-bar-and-popup-menu-control-for-Win)

*WinForms 的 Windows 功能区（第 1-21 部分）*

[http://www.codeproject.com/Articles/62412/Windows-Ribbon-for-WinForms-Part-1-Introduction](http://www.codeproject.com/Articles/62412/Windows-Ribbon-for-WinForms-Part-1-Introduction)

**代码丛**

[http://ribbon.codeplex.com](http://ribbon.codeplex.com)

[http://fluent.codeplex.com](http://fluent.codeplex.com)

[http://windowsribbon.codeplex.com](http://windowsribbon.codeplex.com)

# javascript - 在子类中随着文本的增长垂直居中

> ID：14065045
> 
> 赞同：0
> 
> 时间：2012-12-28T05:35:14.213
> 
> 标签：javascript, css

我有一个父容器（如弹出窗口），其中我有一个子元素附加到父容器。子元素是一个包含一些文本的 div。我想将 div 内的文本居中，以便文本在子 div 中保持居中对齐，但文本应在超过 3-4 行时垂直对齐。我能够随着文本的增长垂直对齐文本，但是当它仍然是一个小文本时，它应该垂直居中，这不会发生。我在子类中尝试了很多 css 属性。任何帮助都会很好。

```
.parentclass {
  position: absolute;
  top: 110px;
 left: 165px;
 width: 470px;
 height: 260px;
 text-align: center;
 background-image: url(../images/Notification_BG.png); }

.childclass {
 position: relative;
 position: inherit;
 width: 430px;
 height: 192px;
 left: 50%;
 top: 50%;
 margin-left: -215px;
 margin-top: -96px; /* Negative half of height. */
 text-align: center;
 text-overflow: -o-ellipsis-lastline;
 border: 1px solid blue;
 font-family: Arial;
 font-size: 28px;
 color: white; } 
```

谢谢KK

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T06:21:46.970

使用您的父类显示作为表格，子类显示作为表格单元和垂直对齐：中间肯定会工作

html

```
<div class='parentclass'>
<div class='childclass'>Text which is more than two or three lines</div>
</div> 
```

CSS

```
.parentclass {
 height: 260px;
 text-align: center;
 display:table;
}
.childclass {
 vertical-align: middle;
 width: 430px;
 top: 50%;
 text-align: center;
 text-overflow: -o-ellipsis-lastline;
 border: 1px solid blue;
 font-family: Arial;
 font-size: 28px;
 color: black; 
} 
```

[看到这个小提琴演示](http://jsfiddle.net/Dineshkani/qVhxY/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T05:43:20.203

你用过`vertical-align:middle;`吗？

尝试这个 ：

```
.childclass {
  显示：表格单元格；
  垂直对齐：中间；
  文本对齐：居中；
}

```

这个链接肯定会帮助你：

**[100 高度 div 中的垂直居中文本](https://stackoverflow.com/questions/4753678/vertically-center-text-in-a-100-height-div)**

# json - 如何引用 Json2.js

> ID：14065046
> 
> 赞同：2
> 
> 时间：2012-12-28T05:35:19.700
> 
> 标签：json, asp.net-mvc-3, knockout.js

亲爱的，我收到了类似的错误

```
Cannot find JSON.stringify() 
```

一些浏览器（例如，IE < 8）本身不支持它，但您可以通过添加对 json2.js 的脚本引用来克服这个问题，可从[http://www.json.org/json2.js下载](http://www.json.org/json2.js)

/// 脚本

```
stringifyJson: function (data, replacer, space) {   // replacer and space are optional
            if ((typeof JSON == "undefined") || (typeof JSON.stringify == "undefined"))
                throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
            return JSON.stringify(ko.utils.unwrapObservable(data), replacer, space);
        }, 
```

如何引用`json2.js`我的 asp.net 项目？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T09:55:09.280

最直接的方法是通过 nuget 包安装它：

`Install-Package json2`

[http://nuget.org/packages/json2](http://nuget.org/packages/json2)

然后在页面/母版页中添加对它的引用：

`<script src="@Url.Content("~/Scripts/json2.min.js")" type="text/javascript"></script>`

（取自 MVC，因此可能需要对网络表单进行一些修改）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T05:50:35.597

您必须在项目中添加 json2min.js，然后在 ASP.NET 中引用。它将检查浏览器是否本机支持 JSON，如果不支持，则调用 json2min.js，否则不会产生任何影响。

# c - 我们如何在网格中找到两条权重最大的路线？

> ID：14065049
> 
> 赞同：2
> 
> 时间：2012-12-28T05:35:46.927
> 
> 标签：c, algorithm, matrix, routes, dynamic-programming

> 我们给定一个加权 N*N 网格 W。两个机器人 r1,r2 分别从左上角和右上角开始。R1 必须到达右下角，R2 必须到达左下角。这是有效的动作。
> 
> *   R1 向下移动一格，R2 向左移动一格。
> *   R1 向右移动一格，R2 向下移动一格。
> 
> 他们必须以这样一种方式移动，即他们所访问的方格（包括起始方格和结束方格）的权重之和最大化。
> 
> 例如，如果网格是：
> 
> ```
> 6   0   3   1
> 7   4   2   4
> 3   3   2   8
> 13  10  1   4 
> ```
> 
> 在这个例子中，如果 R1 遵循 * 标记的路径，R2 遵循 ^ 标记的路径，如下所示，它们的组合得分为 56。
> 
> ```
>  6*   0     3^   -1^
>  7*   4*^   2^    4
> -3    3*^  -2*    8*
>  13^  10^  -1    -4* 
> ```
> 
> 可以验证这是该网格可以达到的最佳组合分数。

我们不能通过递归来解决这个问题，因为 N <= 2500 并且时间限制是 2 秒。
如果问题只有一个机器人，我们可以使用动态规划来解决这个问题。

我尝试对这个问题使用类似的方法；

我们有两个额外的 N*N 网格 G1,G2,

```
for i from 1 to N:
   for j from 1 to N and K from N down to 1:  
     if (G1[i-1][j] + G2[i][k+1]) > (G1[i][j-1] + G2[i-1][k]):
        G1[i][j] = G1[i-1][j] + W[i][j]
        G2[i][k] = G2[i][k+1] + W[i][k]
     else:
        G1[i][j] = G1[i][j-1] + W[i][j]
        G2[i][k] = G2[i-1][k] + W[i][k]

return G1[N][N] + G2[N][1] 
```

但这给出了错误的答案。我无法理解我的算法有什么问题，因为对于每个正方形，它都在计算到达那里的最大加权路径。

谁能告诉我我的方法有什么问题，我该如何纠正它以获得正确的答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T07:20:01.170

我可以在第二个有效场景中看到一个错字

有效的第二种情况应该是

> ***R1***向右移动一格，R2 向下移动一格

但被认为是

> ***R2***向右移动一格，R2 向下移动一格

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-28T07:26:00.690

**这是一个图问题**，图在`G=(V,E)`哪里：

*   V = Squares x Squares（所有正方形的[笛卡尔积](http://en.wikipedia.org/wiki/Cartesian_product)）
    （您可能想要排除 (x1,y1)=(x2,y2) 的点，这很容易做到）。
*   E = { 所有可能的转弯移动方式} = (或正式) =
    { (((x1,y1),(x2,y2)),((x1-1,y1),(x1,y1-1) )), (((x1,y1),(x2,y2)),((x1,y1-1),(x1-1,y1))) | 每 x1,y1,x2,y2 }

现在，一旦我们有了图 - 我们可以看到它实际上是一个**[DAG](http://en.wikipedia.org/wiki/Directed_acyclic_graph)** - 这是一件好事，因为对于一般情况图 -[最长路径问题](http://en.wikipedia.org/wiki/Longest_path_problem)是[NP-Hard](http://en.wikipedia.org/wiki/NP-hard)，但不是 DAG。

现在，给定一个 DAG `G`，我们想找到从`((0,0),(n,n))`到的最长路径`((n,n),(0,0))`，可以通过以下方法完成：

为简单起见，定义`weight((x1,y1),(x2,y2)) = weight(x1,y1) + weight(x2,y2)`：

**算法：**

1.  在图上使用[拓扑排序](http://en.wikipedia.org/wiki/Topological_sorting)
2.  Init D((n,n),(0,0)) = weight((n,n),(0,0)) （目标节点）
3.  根据降序迭代图并对每个顶点执行`v`：
    D(v) = max { D(u) | 如上所述，对于 E 中的每个 (v,u) } + weight(v)

完成后 D((0,0),(n,n)) 将获得最佳结果。

# angularjs - Angular JS ng-repeat 消耗更多浏览器内存

> ID：14065050
> 
> 赞同：8
> 
> 时间：2012-12-28T05:35:49.807
> 
> 标签：angularjs, javascript-framework

我有以下代码

```
<table>
 <thead><td>Id</td><td>Name</td><td>Ratings</td></thead>
 <tbody>
   <tr ng-repeat="user in users">
    <td>{{user.id}}</td>
    <td>{{user.name}}</td>
    <td><div ng-repeat="item in items">{{item.rating}}</div></td>
   </tr>
 </tbody>
</table> 
```

users 是一个只有 id 和 name 的用户对象数组。数组中的用户对象数 - 150

items 是一个只有 id 和 rating 的 item 对象数组。数组中的项目对象数 - 150

当我在浏览器中渲染它时，当我尝试在我的 chrome - v23.0.1271.95 中进行分析时，它需要大约 250MB 的堆内存。

我正在使用 AngularJS v1.0.3。

角度有问题还是我在这里做错了什么？

这是JS小提琴

[http://jsfiddle.net/JSWorld/WqSGR/5/](http://jsfiddle.net/JSWorld/WqSGR/5/)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-28T11:19:58.497

好吧，这不是 ng-repeat 本身。我认为这是您使用 {{item.rating}} 添加绑定的事实。

所有这些绑定都在范围上注册手表，因此：

*   150 * 2 = 300（对于 2 个用户信息）
*   150 * 150 = 22500（用于评级信息）
*   总共 22800 个手表函数 + 22800 个 dom 元素。

这会将内存推到可以想象的 250MB 的值

来自**[angularjs 中的数据绑定](https://stackoverflow.com/a/9693933/527968)**

> 你不能在一个页面上向人类展示超过**2000**条信息。除此之外的任何东西都是非常糟糕的用户界面，人类无论如何也无法处理它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T06:01:03.640

我想说泄漏在第二个数组中，因为您可能会遍历同一个数组并显示 users 中每个用户行的每个项目，因此取决于您的测试数据有多大，该视图可能会变得相当大。我可以做更多的调查。顺便说一句，你的小提琴完全不同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-20T19:20:36.817

现在，您正在循环 150 X 150 = 22500 个项目。并为每个手表注册一个手表（或通过指令添加项目评级）。

相反 - 考虑将用户的评分添加到用户对象本身。它会增加每个用户对象的大小，但您只会循环 150 个项目并仅在它们上注册手表。

另外 - 考虑查看[**索引**](http://en.wikipedia.org/wiki/Database_index)。很明显，可能存在相似的用户或项目评级。只需索引它们，因此您可以减少它们，而不是遍历重物。

还有一件事 - 如果您要在同一个实例中运行指令，至少更改代码：

```
var text = myTemplate.replace("{{rating}}",myItem.rating); 
```

到 concat 样式字符串计算：

```
var text = '<div>' + myItem.rating + '</div>'; 
```

这将为您节省大量的**计算**。我已经为这个案例制作了一个[JSperf](http://jsperf.com/angular-dirctive-test)，注意区别，它快了大约 99% ;-)

# php - 无法从除第一个文本字段之外的其他文本字段获取值

> ID：14065052
> 
> 赞同：1
> 
> 时间：2012-12-28T05:35:52.963
> 
> 标签：php

我使用 phpwebcommerce 的购物车教程中的代码，我正在尝试添加一个文本字段供用户插入数量。由于单个产品有不同数量的选择，所以我使用 while 语句来查询子项目，并在每个项目旁边放置一个文本字段和一个添加按钮。但它只需要第一项的数量，而不是其余的。如果我为第一个项目插入一个数量，然后在任何其他项目上单击“添加”，它仍会将第一个存储在我的购物车中，它不应该......我被卡住了......有人可以帮我吗?

```
<?php
function displayprodDetail($pdId)
{
    $query = mysql_query("SELECT * FROM product_image WHERE p_id ='$pdId'");
    WHILE($datarows = mysql_fetch_array($query))
    {
        $p_num = $datarows['p_number'];
        echo '<h1><span>'.$p_num.' -- $'.$datarows['price'].'</span></h1>';
        echo '<div id="prodPic"><a href ="'.$datarows['image']. '" rel="ibox"    title="'.$p_num.'"><img src ="'.$datarows['image'].'"/></a><br /></div>';
        echo '<div id="items">';
        $sql = mysql_query("SELECT * FROM items WHERE item_number LIKE '$p_num/%' ORDER BY item_number ASC");
        $numProduct = dbNumRows($sql);
        if($numProduct > 1)
        {
            echo '<table border="0" cellspacing="0">';
            WHILE($data = mysql_fetch_array($sql))
            {
                $itemId = $data['item_id'];
                $p_num = $data['item_number']; 
                echo '<tr>';
                echo '<td><INPUT TYPE="HIDDEN" NAME="'.$itemId.'" VALUE="'.$itemId.'">'.$p_num.'</td>';
                echo '<td>&nbsp;&nbsp;Qty: <input type="number" name="qty" id="qty" style="width:30px"></td>';
                $cart_url = "cart.php?action=add&i=$itemId&qty=";
                ?>
                <td><input type="Submit" name="Submit" value="Add" onClick="window.location.href='<?php echo $cart_url; ?>' +document.getElementById('qty').value;" ></td>
                <?php
                echo '</tr>';
            }
            echo '</table>';
        }
        else
        {
            echo 'Items are currently not available.<br>Contact us for more detail.';
        }

        echo '</div>';
    }
}
?> 
```

这是添加到购物车功能：

```
function addToCart()
{
    // make sure the product id exist
    if (isset($_GET['i']) && (int)$_GET['i'] > 0) 
    {
        $itemId = (int)$_GET['i'];
    } 
    else 
    {
        header('Location: home.php');
    }
    if (isset($_GET['qty']) && (int)$_GET['qty'] > 0) 
    {
        $qty = (int)$_GET['qty'];
    } 
    // current session id
    $sid = session_id();

    // check if the product is already
    // in cart table for this session
    $sql = mysql_query("SELECT item_id FROM cart_table WHERE item_id = $itemId AND ct_session_id = '$sid'");

    if (dbNumRows($sql) == 0) 
    {
        // put the product in cart table
        $sql = mysql_query("INSERT INTO cart_table (item_id, ct_qty, ct_session_id, ct_date) VALUES ($itemId, $qty, '$sid', now())");
    } 
    else 
    {
        // update product quantity in cart table
        $sql = mysql_query("UPDATE cart_table SET ct_qty = ct_qty + $qty WHERE ct_session_id = '$sid' AND item_id = $itemId");                  
    }   

    // an extra job for us here is to remove abandoned carts.
    // right now the best option is to call this function here
    deleteAbandonedCart();

    header('Location: ' . $_SESSION['shop_return_url']);                
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T05:48:26.710

由于您将输入框命名为相同，这就是它无法按预期工作的原因，请尝试以下操作：

```
<input type="number" name="qty_<?php echo $itemId; ?>" id="qty_<?php echo $itemId; ?>" style="width:30px">...
...
<td><input type="Submit" name="Submit" value="Add" onClick="window.location.href='<?php echo $cart_url; ?>' +document.getElementById('qty_<?php echo $itemId; ?>').value;" ></td> 
```

# android - 场景慢慢旋转

> ID：14065053
> 
> 赞同：0
> 
> 时间：2012-12-28T05:36:04.630
> 
> 标签：android, opengl-es

在我的 GLSurfaceView.Renderer 中，我将场景分为两部分。第一组偏移和旋转，而第二组与“相机”对齐，所以我应用 glRotate 和 glTranslate，然后应用完全相反的 glTranslate 和 glRotate。在某些设备上，这可以正常工作，但在其他设备上，整个场景会慢慢地偏离“中心”。

图片：[开始时](https://lh4.googleusercontent.com/-KSeOa8SNIBs/UN0uhxyC6GI/AAAAAAAAHdE/soLR-RaMSBg/s898/Screenshot_2012-12-27-23-54-48.png)和[大约 5 分钟后](https://lh5.googleusercontent.com/-lCRJ7Y0NS7c/UN0uh9vP6VI/AAAAAAAAHdA/TDBn2tHtrvc/s898/Screenshot_2012-12-27-23-54-40.png)

这是 onDraw() 函数：

```
@Override
public void onDrawFrame(GL10 gl) {
    gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);

    gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);

    // rotate card table
    gl.glRotatef(-20f, 1f, 0f, 0f);
    gl.glRotatef(  5f, 0f, 1f, 0f);
    gl.glRotatef(-10f, 0f, 0f, 1f);
    gl.glTranslatef( 1f, 3f, 0f);

    mDeck.draw(gl);

    // undo rotate for buttons/overlays
    gl.glTranslatef(-1f, -3f, 0f);
    gl.glRotatef( 10f, 0f, 0f, 1f);
    gl.glRotatef( -5f, 0f, 1f, 0f);
    gl.glRotatef( 20f, 1f, 0f, 0f);

    mOverlayBtns.draw(gl);
    mPass.draw(gl);
} 
```

完整的源代码可以在 GitHub 上找到，[这里。](https://github.com/VoteBrian/smoke-or-fire)

我有什么明显的遗漏吗？有没有更好的方法来处理旋转，然后旋转回来？

到目前为止，我已经注意到这个问题：

*   连结 4
*   HTC 感觉
*   另一部我不记得名字的 LG 手机

这些设备没有显示问题：

*   银河连结
*   连结 7
*   Xoom

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T09:54:36.960

您的代码在每一帧都应用了一组仿射变换，问题是每个变换都是累积的，因此您一遍又一遍地应用变换。您要么需要使用 glLoadIdentity ( [http://www.khronos.org/opengles/sdk/1.1/docs/man/glLoadIdentity.xml](http://www.khronos.org/opengles/sdk/1.1/docs/man/glLoadIdentity.xml) ) 重置当前加载的 MODELVIEW 矩阵，要么推送当前矩阵，加载新矩阵，绘制和然后弹出矩阵（就像您在修复响应中所做的那样）。

我会在每个帧绘制的开头放置一个 glLoadIdentity 。另外，通过您的修复，我也会这样做：

```
gl.glPushMatrix();

gl.glLoadIdentity(); // Be sure we start clean

// rotate card table
gl.glRotatef(-20f, 1f, 0f, 0f);
gl.glRotatef(  5f, 0f, 1f, 0f);
gl.glRotatef(-10f, 0f, 0f, 1f);
gl.glTranslatef( 1f, 3f, 0f);

mDeck.draw(gl);

gl.glPopMatrix(); 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-28T05:47:44.020

我已经找到了解决这个问题的方法，但我仍然希望有人能够解释我在上面看到的问题。

我可以使用 glPushMatrix 和 glPopMatrix 来隔离这两个组，而不是旋转场景，然后再旋转回来。这样，将场景向后移动的 glTranslate 和 glRotate 组是不必要的。

```
@Override
public void onDrawFrame(GL10 gl) {
    gl.glClear(GL10.GL_COLOR_BUFFER_BIT | GL10.GL_DEPTH_BUFFER_BIT);

    gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);

    gl.glPushMatrix();

    // rotate card table
    gl.glRotatef(-20f, 1f, 0f, 0f);
    gl.glRotatef(  5f, 0f, 1f, 0f);
    gl.glRotatef(-10f, 0f, 0f, 1f);
    gl.glTranslatef( 1f, 3f, 0f);

    mDeck.draw(gl);

    gl.glPopMatrix();

    gl.glPushMatrix();
    // undo rotate for buttons/overlays
    // gl.glTranslatef(-1f, -3f, 0f);
    // gl.glRotatef( 10f, 0f, 0f, 1f);
    // gl.glRotatef( -5f, 0f, 1f, 0f);
    // gl.glRotatef( 20f, 1f, 0f, 0f);

    mOverlayBtns.draw(gl);
    mPass.draw(gl);

    gl.glPopMatrix();
} 
```

# php - php mysqli函数坚持可选参数

> ID：14065055
> 
> 赞同：0
> 
> 时间：2012-12-28T05:36:08.543
> 
> 标签：php, mysql, mysqli, optional-parameters

我所有的`mysqli`函数都不接受空参数。当我这样做时，我收到以下错误（示例）：

```
Warning: mysqli_close() expects exactly 1 parameter, 0 given... 
```

当我使用时，`mysql_close()`我仍然得到同样的错误。我已经阅读了 php 文档`mysql_close()`，它说如果没有给出链接标识符，`mysql_close()`将关闭最后打开的 mysql 连接，但它没有这样做。

我将如何让他们接受空参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-28T05:46:52.740

它们在 mysql ext 中是可选的，但在 mysqli 函数中链接标识符是强制性的。
没有办法让它们接受空参数（也没有用）。
您必须先建立连接，然后将其传递给每个 mysqli 函数。
有时您需要使用`global`运算符来使连接变量在其他范围内可用。

# android - 如何在 AndEngine 中添加动态文本？

> ID：14065056
> 
> 赞同：0
> 
> 时间：2012-12-28T05:36:09.093
> 
> 标签：android, text, andengine, sprite

我正在使用 AndEngine 创建一个简单的游戏。我有以恒定速度移动的精灵。当精灵撞墙或在接触点相互碰撞时，我需要能够显示点 (+1)、(+2) 等。如何使用文本做到这一点？

我正在使用 AndEngine 示例“MovingBallExample.java”的修改版本。下面的代码显示了球在撞到墙上时如何反转方向。我需要在接触点显示文本，最好在一个圆圈中显示几秒钟。

```
private static class Ball extends AnimatedSprite {
    private final PhysicsHandler mPhysicsHandler;

    public Ball(final float pX, final float pY, final TiledTextureRegion pTextureRegion, final VertexBufferObjectManager pVertexBufferObjectManager) {
        super(pX, pY, pTextureRegion, pVertexBufferObjectManager);
        this.mPhysicsHandler = new PhysicsHandler(this);
        this.registerUpdateHandler(this.mPhysicsHandler);
        this.mPhysicsHandler.setVelocity(BALL_VELOCITY, BALL_VELOCITY);
    }

    @Override
    protected void onManagedUpdate(final float pSecondsElapsed) {
        if(this.mX < 0) {
            this.mPhysicsHandler.setVelocityX(BALL_VELOCITY);
        } else if(this.mX + this.getWidth() > CAMERA_WIDTH) {
                             //**** Need to add Points text here **********/
            this.mPhysicsHandler.setVelocityX(-BALL_VELOCITY);
        }

        if(this.mY < 0) {
            this.mPhysicsHandler.setVelocityY(BALL_VELOCITY);
        } else if(this.mY + this.getHeight() + 80 > CAMERA_HEIGHT) {
                             //**** Need to add Points text here **********/
            this.mPhysicsHandler.setVelocityY(-BALL_VELOCITY);
        } 
```

欢迎任何和所有想法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-28T07:30:39.577

我找到了答案。我刚刚添加了以下代码

```
 x = this.getX();
            y = this.getY();
            bText.setPosition(x+10,y+10);               
            bText.setText("+1"); 
```

其中“this”是精灵对象，我能够将文本设置在精灵从墙上反弹的大致位置

# crystal-reports - 如何总结水晶中的分组参数？

> ID：14065059
> 
> 赞同：0
> 
> 时间：2012-12-28T05:36:31.977
> 
> 标签：crystal-reports, crystal-reports-2008, crystal-reports-xi

我有一个`Stored Proc`像这样执行和输出的，

```
Plant1     Top1       12
Plant1     Bottom1    12
Plant1     Top2       14
Plant1     Bottom12   14
Plant2     Top1       34
Plant2     Bottom1    34
Plant2     Top2       18
Plant2     Bottom12   18 
```

我希望它在水晶报表中像这样显示。

```
Plant1
   Top
     Top1        12
     Top2        14
   Bottom
      Bottom1    12
      Bottom1    14

Plant2
   Top
     Top1        34
     Top2        18
   Bottom
      Bottom1    34
      Bottom1    18

Total
   Top
     Top1        46
     Top2        32
   Bottom
      Bottom1    46
      Bottom1    32 
```

我已经找到了一种显示`Plant1`and的方法`Plant2`。我正在寻求帮助以显示总数。顺便说一下，我正在使用`Crystal Report 9`. 我会非常感谢任何帮助..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T11:39:01.010

如果您总是在 TopX/BottomX 字段的末尾有一个数字，那么您可以制作一个公式来修剪字段中的数字，留下 Top/Bottom。然后，您将能够按此公式进行分组。

这方面的一个例子是：

```
left({Table.Variable}, length({Table.Variable})-1) 
```

其中 {Table.Variable} 是 Top/Bottom 字段的 StoredProcedure.Fieldname。

如果您随后在 Plant 上分组，然后使用此公式，然后在 Details 部分中显示您的值和 Top/Bottom，您将获得所需的行为。您可能必须更改排序选项才能让 Top 出现在 Bottom 之前。

# php - 如何将键和值添加到数组中？

> ID：14065060
> 
> 赞同：0
> 
> 时间：2012-12-28T05:36:38.857
> 
> 标签：php, arrays, multidimensional-array, simplexml

我正在使用以下代码来解析以下 xml，并将每个人的 id 添加为数组的键，并将他们的名称添加为数组的值。

代码可以正常工作，但数组不能。

```
 $array = array();
   $category = $xml->xpath('descendant::person');
    foreach ($person as $p) {
    $array[$p['id']] = $p['name'];
    } 
```

```
 <?xml version="1.0" encoding="utf-8"?>
 <people>
   <person name="Joe" id="134">
   <person name="Jack" id="267">
   </person>
   </person>

   <person name="Ray" id="388">
   <person name="John" id="485">
   <person name="Rayan" id="900">
   </person>
   </person>

   <person name="Alex" id="590">
   </person>
 </people> 
```

XML 无效，但我无法使其有效。但是代码正在运行，我只需要将 id 和值分配给数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T06:04:12.943

这里发生了很多小问题……不过，最大的问题是您不能使用 simplexml 对象节点作为数组中的索引。它必须手动转换为字符串或整数。您最好稍微调整一下 xpath 表达式，并且您的循环不应该在 $person 上，这是一个不存在的变量，而是在 $category 上。试试这个作为替代方案：

```
$array = array();
$category = $xml->xpath('//person');
while(list( , $p) = each($category)) {
        $array[(string)$p['id']] = (string)$p['name'];
}
print_r($array); 
```

另请注意，如果您的 XML 不是有效的 XML，那么它确实很重要...... simplexml 库永远不会在无效的 XML 上正常运行（您示例中的 XML 有一些不正确的嵌套）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-28T05:57:08.357

我不知道这是正确的方法，但我已经测试过这个方法并且它工作正常，

```
$xml = simplexml_load_string($response);
 $category = $xml->xpath('descendant::person');

 $array = array();

  foreach($category as $each){
    $name_obj = $each->attributes()->name[0];

     $name_json = json_encode($name_obj);
    $name_array = json_decode($name_json, TRUE);

    $id_obj = $each->attributes()->id[0];

  $id_json = json_encode($id_obj);
  $id_array = json_decode($id_json, TRUE);

  $array[$id_array[0]] = $name_array[0];
}

 print_r($array); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-28T05:48:28.920

您确定 XML 不应该是这样的吗？：

```
<?xml version="1.0" encoding="utf-8"?>
<people>
    <person name="Joe" id="1"></person>
    <person name="Jack" id="2"></person>
    <person name="Ray" id="3"></person>
    <person name="John" id="4"></person>
    <person name="Alex" id="5"></person>
</people> 
```

# android - android：向手机发送临时短信

> ID：14065065
> 
> 赞同：0
> 
> 时间：2012-12-28T05:37:18.170
> 
> 标签：android, sms, sms-gateway

是否可以将短信发送到设备或安卓手机，以便短信在指定时间（比如 30 分钟）后自行删除？我用来发送短信的代码是：`

```
 public class SMSTestActivity extends Activity {
/** Called when the activity is first created. */
String str, str1;   
@Override
public void onCreate(Bundle savedInstanceState) {
    final Button btn;
    final EditText etb, etb1;
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    btn=(Button) findViewById(R.id.btn);
    etb=(EditText) findViewById(R.id.txtMsg);
    etb1=(EditText)findViewById( R.id.phNum);

    btn.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v)
        {
            str=etb.getText().toString();
            str1=etb1.getText().toString();

            sendSms( str1, str);    

        }
    });
}

private void sendSms(String phonenumber, String message)
{
        SmsManager x=SmsManager.getDefault();
        x.sendTextMessage(phonenumber,  null, message, null, null);
}

public void display(View v)
{
      final Button bt;
      bt=(Button) v;
      bt.setText("Hello");

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T07:14:17.607

Class 0 SMS 将显示在屏幕上，除非用户选择保存它，否则将被删除，如果您可以设法绕过 Android 试图阻止您发送 Class 0 SMSes。更多信息请参阅[Android 上的 Class 0 SMS（flash SMS）](https://stackoverflow.com/questions/9123125/class-0-sms-flash-sms-on-android)

# window - 剑道窗口第一次打开然后加载

> ID：14065068
> 
> 赞同：-1
> 
> 时间：2012-12-28T05:37:39.347
> 
> 标签：window, kendo-ui

我的项目中有一个剑道窗口。现在内容来自另一个域。我在内容模板中使用了 i-frame。它工作正常。但是当我单击按钮打开剑道窗口时，它来了，但并不顺利。它的卡住。所以我想，当我点击按钮窗口顺利打开然后加载内容。我搜索了它，但没有找到任何解决方案。如果我可以先打开窗口并显示加载程序直到内容出现，那就更好了。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-31T05:00:22.220

这个问题可以通过制作动画来解决：false

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T22:24:23.523

剑道窗口完成显示其打开动画后会触发一个名为“激活”的事件。您可以捕获此事件，然后将数据加载到处理程序函数中。无需停用动画本身。

# macos - 相当于mac os中的.bat

> ID：14065069
> 
> 赞同：49
> 
> 时间：2012-12-28T05:37:41.053
> 
> 标签：macos, batch-file, sh

我目前使用一个`.bat`用于调用 java 文件的文件。如果我想在 Mac OS 上使用相同的功能，我会做哪些格式更改？（除非`.bat`Mac OS 上的等价物是`.sh`格式？）

```
java -cp  ".;.\supportlibraries\Framework_Core.jar;.\supportlibraries\Framework_DataTable.jar;.\supportlibraries\Framework_Reporting.jar;.\supportlibraries\Framework_Utilities.jar;.\supportlibraries\poi-3.8-20120326.jar;D:\downloads\Selenium 2.0\selenium-server-standalone-2.19.0.jar" allocator.testTrack 
```

任何援助将不胜感激。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-12-28T05:46:16.860

也许你可以在这里找到答案？[相当于 Mac 上的可双击 .sh 和 .bat？](https://stackoverflow.com/questions/589905/equivalent-of-double-clickable-sh-and-bat-on-mac)

通常您可以为 Mac OS 创建 bash 脚本，在其中放置与批处理文件中类似的命令。对于您的情况，创建 bash 文件并输入相同的命令，但将反斜杠更改为常规的。

您的文件将类似于：

```
#! /bin/bash
java -cp  ".;./supportlibraries/Framework_Core.jar;./supportlibraries/Framework_DataTable.jar;./supportlibraries/Framework_Reporting.jar;./supportlibraries/Framework_Utilities.jar;./supportlibraries/poi-3.8-20120326.jar;PATH_TO_YOUR_SELENIUM_SERVER_FOLDER/selenium-server-standalone-2.19.0.jar" allocator.testTrack 
```

将上述路径中的文件夹更改为相关文件夹。

然后使此脚本可执行：打开终端并使用您的脚本导航到文件夹。然后更改此文件运行命令的读写执行权限：

```
chmod 755 scriptname.sh 
```

然后你可以像任何其他常规脚本一样运行它：./scriptname.sh

或者您可以运行它将文件传递给 bash：

```
bash scriptname.sh 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-12-28T05:49:14.037

通常的约定是将它放在一个看起来像这样的 .sh 文件中 -

```
#!/bin/bash
java -cp  ".;./supportlibraries/Framework_Core.jar;... etc 
```

注意'\'变成'/'。

你可以执行为

```
sh myfile.sh 
```

或在文件上设置 x 位

```
chmod +x myfile.sh 
```

然后打电话

```
myfile.sh 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-10-04T15:59:46.997

我在论坛页面中找到了一些有用的信息，引用如下。
由此，主要是粗体格式的句子，我的答案是：

*   制作 .bat 文件的 bash（shell）脚本版本（与其他
    答案一样，`\`更改为`/`文件路径）。例如：

    ```
    # File "example.command":
    #!/bin/bash
    java -cp  ".;./supportlibraries/Framework_Core.jar; ...etc. 
    ```

*   然后将其重命名为 Mac OS 文件扩展名`.command`。
    这应该使脚本使用终端应用程序运行。

*   如果应用程序用户要在 Linux 上使用该文件的 bash 脚本版本
    或从命令行运行它，他们需要
    使用此命令在包含该文件的文件夹中添加可执行权限（更改模式位）：

    ```
    chmod +rx [filename].sh
    #or:# chmod +rx [filename].command 
    ```

**[论坛页面](https://discussions.apple.com/thread/2375724 "Apple (Unix) 等效于 Windows 'bat' 文件")问题：**

> 美好的一天，[...] 我想知道是否有一些“简单”的规则来编写等效
> 的 Windows (DOS) bat 文件。我只想单击一个文件并让它运行。

**问题后一些答案的信息：**

> 编写一个 shell 脚本，并给它扩展名“.command”。例如：
> 
> ```
> #!/bin/bash 
> printf "Hello World\n" 
> ```

*- 2010 年 3 月 23 日，托尼 T1。*

> DOS .BAT 文件试图将类似于 UNIX 脚本的想法引入 MS-DOS。
> 通常，UNIX 允许您创建一个包含命令的文本文件，并通过简单地
> 将文本文件标记为可执行文件（而不是给它一个特定的后缀）来运行它。这就是 OS X 的做法。
> 
> 然而，OS X 增加了一个特性，**如果你给文件加上后缀`.command`**，Finder
> **将运行 Terminal.app 来执行它**（类似于 BAT 文件在 Windows 中的工作方式）。
> 
> 然而，与 MS-DOS 不同的是，UNIX（和 OS X）允许您指定脚本使用的解释器
> 。解释器是从文件中读取文本并
> 对其进行处理的程序。[...] 在 UNIX 中，您可以通过使
> 文本文件中的第一行以“#!”开头来指定要使用的解释器。后面是解释器的路径。例如 [...]
> 
> ```
> #!/bin/sh
> echo Hello World 
> ```

*- 2010 年 3 月 23 日，JD McIninch。*

**[*此外，来自Mac 上可双击的 .sh 和 .bat 等效的*](https://stackoverflow.com/questions/589905/equivalent-of-double-clickable-sh-and-bat-on-mac)已接受答案的信息？：**

> 在 mac 上，有一个特定的扩展名可以
> 通过双击来执行 shell 脚本：这是`.command`.

# javascript - ie8上的jquery脚本错误

> ID：14065071
> 
> 赞同：0
> 
> 时间：2012-12-28T05:37:46.553
> 
> 标签：javascript, jquery, html, css

我在 Internet Explorer 8 上收到这 2 个代码向我返回“脚本错误警报”。请问有什么问题（或遗漏）？

```
<script>
 $(".alert").alert('close');
</script>

<script type="text/javascript">
    var $j = jQuery.noConflict()

    $j(function(){
        SyntaxHighlighter.all();
    });
    $j(window).load(function(){
        $j('.flexslider').flexslider({
           animation: "slide",
            start: function(slider){
               $('body').removeClass('loading');
            }
        }); 
    });
 </script> 
```

我知道的第二个是因为这个（但我不知道为什么？）：

```
SyntaxHighlighter.all(); 
```

还有这个：

```
$('body').removeClass('loading'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T05:58:13.890

如果`SyntaxHighlighter.all();`导致问题，那么您可能忘记加载定义的 JavaScript，`SyntaxHighlighter`或者情况可能与您尝试使用的不同。

这：

```
$('body').removeClass('loading'); 
```

这将是一个问题，因为您已经调用了它[`noConflict`](http://api.jquery.com/jQuery.noConflict/)，并且它将返回`$`到 jQuery 试图接管它之前的任何状态。你应该使用`$j`给`noConflict`你的：

```
$j('body').removeClass('loading'); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-28T05:42:30.057

我不确定这是否是问题，但您在以下行末尾没有分号：

```
var $j = jQuery.noConflict() 
```

# linux - 远程调试OpenGL程序时出现调试错误

> ID：14065082
> 
> 赞同：0
> 
> 时间：2012-12-28T05:38:57.257
> 
> 标签：linux, opengl

我可以在本地使用 gdb 在服务器上调试我的 OpenGL 程序。但是当我远程调试它时。一些错误出现在 `glutCreateWindow()`功能上。我可以远程运行我的程序。就是不能调试。

```
freeglut (/home/fshen/samuel/project_self/GLSL-learning/teapotshader/teapotshader): 
     ERROR:  Internal error <FBConfig with necessary capabilities not found> in 
             function fgOpenWindow
        X Error of failed request:  BadWindow (invalid Window parameter)
          Major opcode of failed request:  4 (X_DestroyWindow)
          Resource id in failed request:  0x0
          Serial number of failed request:  20
          Current serial number in output stream:  23 
```

**PS：**
首先我无法远程运行我的程序。设置后`export LIBGL_ALWAYS_INDIRECT=yes`（我把这个命令放在 .bash_profile 中），我可以运行我的项目。只是无法远程调试它。所以我认为我应该添加`export LIBGL_ALWAYS_INDIRECT=yes`到 GDB 中。但我不知道该怎么做？

# php - 奇怪的mysql_多连接问题

> ID：14065083
> 
> 赞同：0
> 
> 时间：2012-12-28T05:38:59.210
> 
> 标签：php, mysql, connection

我对这个问题有点发疯了。我自己做不到，所以我需要社区帮助我解决这个问题。我一直在这上面花了几个小时，因为我不知道去哪里找。我现在知道一个可能的解决方法，但它只是一团糟（继续阅读）。我只需要一个比我了解更多的人。

这是我的情况：

*   我想使用 2 个或更多 mysql 连接。
*   我使用面向对象

我有一个名为 dbase 的类，它有两个函数`setConnection`和两个名为and的`getConnection`类变量。`$connection``$dbaseName`

在我的主项目文件中，我包含 dbase 并创建了两个对象：

*   数据库
*   主库

然后我做：

```
$this->dbase->setConnection($server, $uname, $pword);
$this->maindbase->setConnection($server, $uname, $pword); 
```

setConnection 函数如下所示：

```
function setConnection ($server, $serv_Username, $serv_Password) {
    $this->connection = mysql_connect($server, $serv_Username, $serv_Password, true);
    // echo $this->connection . "<BR>";
} 
```

我回应它以查看`resourcenumber`并添加**true**到 mysql_connect （我知道它自 5.5 以来已被弃用，我不在这里）。

现在，据我了解 OOP，类变量是按对象设置的。因此，来自 dbase 的 $connection 将永远不会相同`maindbase`（当然，除非我使用相同的凭据，但即便如此，由于我启用了 $new_link 选项，它也会创建一个新链接）。他们都有不同的资源ID。

我的问题：

在 dbase 类中，我还有一个运行如下查询的函数：

```
$connection = $this->getConnection();
$dbase_name = $this->getDbaseName();
mysql_select_db($dbase_name, $connection); 
$q = "SELECT * FROM {$table_name} WHERE {$column} LIKE '{$value}'";
$result = mysql_query($q); 
```

现在，当我像这样使用它时，它总是使用已在类 dbase 中设置的第一个 $connection 并且它是哪个对象都没有关系，无论是对象 dbase 还是`maindbase`.

我收到此错误：

```
Table 'testdbase1.skye_domains' doesn't exist 
```

对象 dbase 连接到 testdbase1

对象`maindbase`连接到 testdbase2

尝试使用`maindbase`对象选择结果时出现上述错误。

当我从中删除`$connection`字符串时，`mysql_select_db`它工作得很好，因为它会尝试打开一个新连接，就像使用 mysql_connect 一样。

为什么是这样？这是不可能的吧？对象如何`maindbase`具有与对象 dbase 相同的 $connection？它们无法相互连接... PHP 是否以某种方式使用了我不知道的全局 mysql_connect 变量或缓冲区？

我想继续使用`connectionstrings`，因为它时不时地很方便。留下 $connection 字符串似乎很乱。

有没有人有任何建议我可以尝试让 PHP（或我的头脑）再次变得理智？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T05:59:31.747

尝试在任何使用它的地方放置 echo $this->connection。此外，创建一个“id”成员并在构造 dbase-object 时用唯一值填充它，并沿 $this->connection 的值回显它。通过这种方式，您可以跟踪连接发生的位置。

*并检查在类之外*是否有某个地方分配了 $foo->connection。如果您没有在成员上使用“私人”，那么当您忘记从代码的不相关部分删除黑客或实验时，您一定会遇到此类问题。

# android - 如何实现类似于选项卡的通用底部栏？

> ID：14065084
> 
> 赞同：1
> 
> 时间：2012-12-28T05:39:22.720
> 
> 标签：android, tabbar, blink

我已经实现了底部栏，如下所示，我使用视图翻转器实现了这一点，它的工作非常完美，但是当我选择任何一个项目来启动新活动时，它会因为活动变化而闪烁。

我想让这个底部栏的行为就像选项卡一样，其中只有选项卡更改并且它不会闪烁活动。

![在此处输入图像描述](../Images/9c15a4d4cb516a49a53312fdf69832ee.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-28T05:47:09.157

使用底部图像及其行为设计一个单独的布局（例如使用选择器等在单击它时更改状态）并使用 `<include> </include>`标记将该布局添加到您的 Activity XML