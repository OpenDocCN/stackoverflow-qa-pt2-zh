# StackOverflow 问答 12970000-12970999

# repository - 什么是 MinGW 存储库目录？

> ID：12970000
> 
> 赞同：0
> 
> 时间：2012-10-19T08:10:07.600
> 
> 标签：repository, mingw

在 MinGW 安装程序中提到了存储库目录。这是否意味着 MinGW 有一个类似的存储库系统`apt-get`？

我指的是这个：

![在此处输入图像描述](../Images/79a0cd23f6f35d5352c7863a639ec2ba.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:55:43.433

好的，我找到`mingw-get`了，它的工作原理和它完全一样`apt-get`，并且它使用了 Repository Catalogs。

# fix-protocol - 什么是“NoMDEntries”？

> ID：12970005
> 
> 赞同：1
> 
> 时间：2012-10-19T08:10:12.347
> 
> 标签：fix-protocol

在 FAST 增量更新消息中，我找到了“NoMDEntries”字段。它的描述是“市场数据消息中的条目数”。

它是什么？我应该如何使用这个字段？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T19:05:48.543

这是我在[Fiximate 网站](http://www.fixprotocol.org/FIXimate3.0/en/FIX.5.0SP2/body_50485150.html?find=NoMDEntries)上得到的。它是消息中存在的组数（MDFullGrp/MDIncGrp），您应该重复多次以读取消息中存在的组，以捕获 FIX 消息中包含的完整市场数据。

```
268 -> NoMDEntries -> NumInGroup -> Number of entries in Market Data message. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-08T06:15:38.840

它指示序列中包含多少个市场数据条目。您应该使用此字段来访问子条目或移动到消息中更下方的字段。

例如：如果 NoMDEntries=2，则表示它后面跟着 MDEntries 数组中的 2 个 MDEntry 子消息）。

如果要将数据打包到消息中，则应创建 2 条 MDEntry 消息并将它们附加到相关的数组元素（例如：MDEntries 数组字段），然后将 NoMDEntries 设置为 2。

如果您正在从消息中读取数据，当您到达 NoMDEntries 字段时，获取计数（在此示例中为 2），因此您知道应该在 MDEntries 数组字段中查看多少子消息。相应地解码子消息的编号。

# database - 是否可以查看 MS Office Accounting 2009 的数据库？

> ID：12970010
> 
> 赞同：1
> 
> 时间：2012-10-19T08:10:35.727
> 
> 标签：database, ms-access

有没有办法访问 Microsoft Office Accounting 2009 的数据库？当我运行报告时，它会显示数据，但我需要查看底层数据库。

我试过在网上搜索无济于事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:33:26.030

使用 MSSMLBIZ 实例我登录到 SQL 服务器。它有数据库:)

# opengl - LNK2019：函数 _main 中引用的未解析外部符号 _glfwInit

> ID：12970014
> 
> 赞同：1
> 
> 时间：2012-10-19T08:11:27.927
> 
> 标签：opengl, linker, glfw

[我从本教程](http://www.opengl-tutorial.org/beginners-tutorials/tutorial-1-opening-a-window/)中遵循的这段代码

```
#include <stdio.h>
#include <stdlib.h>
#include <GL/glew.h>
#include <GL/glfw.h>
#include <glm/glm.hpp>
#include "Test2.h"

using namespace glm;

int main()
{
    if(!glfwInit())
    {
        fprintf(stderr, "Failed to initialize GLFW\n");
        return - 1;
    }
} 
```

它产生了一个错误：LNK2019: unresolved external symbol _glfwInit referenced in function _main

我正在使用 VC++ 2008。我从 glfw 的官方站点下载了 glfw-2.7.6.bin.WIN32.zip，将名为 lib-msvc90 的文件夹中的 dll 复制到 system32，并将 lib 复制到 Microsoft SDK。我错过了什么步骤？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T12:13:14.067

> 我错过了什么步骤？

是的

请阅读第一个教程。它明确指出您应该使用 CMake 而不是滚动您自己的 Visual 项目。而且不需要下载GLFW，它已经捆绑在external/. GLEW 和 GLM 也是如此。

如果您真的想自己做，还有[常见问题解答](http://www.opengl-tutorial.org/miscellaneous/faq/)和[特殊教程。](http://www.opengl-tutorial.org/miscellaneous/building-your-own-c-application/)

# twitter - Twitter Widget 仅显示链接

> ID：12970021
> 
> 赞同：3
> 
> 时间：2012-10-19T08:12:09.680
> 
> 标签：twitter, hyperlink, widget, embed, feed

我承认我以前从未这样做过，但我必须在网站上添加一个 Twitter Feed Widget。使用 Twitter Widget 创建器似乎是最简单的事情，它给了我这样的代码：“只需复制并粘贴到您的代码中”：

```
<a class="twitter-timeline" href="https://twitter.com/IervolinoAI" data-widget-id="258954607332573184">Tweets di @IervolinoAI</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script> 
```

我做了，但它只显示了个人资料的链接。我也在[http://www.w3schools.com/html/tryit.asp?filename=tryhtml_basic](http://www.w3schools.com/html/tryit.asp?filename=tryhtml_basic)上试过，但它在那里是一样的：只显示链接。

有什么我完全想念的吗？在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:11:14.843

我想通了，我觉得有点愚蠢，但在我的辩护中，Twitter 上的说明有点误导：

在“域”字段中，我复制/粘贴了我的域，并带有“http://”，但它给了我错误。所以我更仔细地查看了该领域的示例，它只显示“example.com”，所以我选择了它，只有标题和 .com。它接受了它，但我的小部件仍然无法正常工作。

仅当我尝试添加以“www”开头的域时。有效。

简单，但 Twitter 本来可以更清晰。

# javascript - 仅在启用模块模板时才在另一个模块模板中呈现它

> ID：12970023
> 
> 赞同：0
> 
> 时间：2012-10-19T08:12:23.733
> 
> 标签：javascript, backbone.js, marionette

我正在寻找渲染视图一部分的最佳方法，具体取决于调用视图进行渲染时加载的模块。例如，我有一个菜单栏，其中可以有 2,3 或 4 个项目（如果加载了所有模块，则为 4 个）。我想使用 Sub/Pub 模式，但我认为不可能采用这种方式。我的意思是，从我的菜单模板触发一个事件到我的模块模板，以便仅在模块启动时显示它。有任何想法吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:53:11.227

我找到了一种方法（不知道它是否是最好的）。

模块1.咖啡：

```
@bindTo app, "foo:bar", (callback) -> 
  callback JST['modules/module1/templates/item_template']() 
```

菜单模板.hamlc：

```
- html = null; app.trigger("foo:bar", (res) -> html = res )
!= html 
```

# java - 使用 php 在我的服务器上验证应用内结算购买

> ID：12970030
> 
> 赞同：2
> 
> 时间：2012-10-19T08:13:03.977
> 
> 标签：java, android, eclipse

因此，几天后，我终于获得了应用内计费功能，并与 Google 服务器进行通信。现在，我正在尝试实现应用内计费，以便它可以在我的服务器上进行通信和验证交易。

我知道最安全的模型是

`Client sends request to Google Play >> Google Play sends signed key to client >> client sends key to server >> server validates >> sends back a session token.`

但是，我目前停留在我将实现客户端发送到服务器的位置。我在我的服务器上启用了 SSL，因此我可以安全地进行通信。在示例 Dungeons 应用程序中是否有任何地方可以添加到预先存在的方法中，以将我的凭据发送到我的服务器？还有一种方法可以从谷歌服务器响应中获取包名称、签名密钥并发送吗？

此外，是否有任何预先存在的代码或教程显示如何验证谷歌发送的信息？

# c# - RichTextBox 无法格式化 Rtf 内容

> ID：12970031
> 
> 赞同：1
> 
> 时间：2012-10-19T08:13:08.837
> 
> 标签：c#, asp.net, winforms

> **可能重复：**
> [从 xml 加载richtextbox 内容](https://stackoverflow.com/questions/12957631/loading-richtextbox-content-from-xml)

我正在尝试从 XML 文件中保存和加载 RichTextBox 内容。我将 Rtf 格式内容保存在我的 XML 中，以包含数据的所有格式。当我尝试从 XML 文件重新加载内容时，RichTextBox 不会格式化内容，而是在 UI 中显示所有 Rtf 格式化代码。

我尝试保存的示例内容：示例**文本**

RichTextBox 控件中显示的内容如下：

```
{\\rtf1\\ansi\\ansicpg1252\\deff0\\deflang1033{\\fonttbl{\\f0\\fnil\\fcharset0 Microsoft Sans Serif;}}\r\n\\viewkind4\\uc1\\pard\\f0\\fs17 Sample \\b Text\\b0\\par\r\n}\r\n 
```

有什么解决办法吗？或者建议我一些替代方案来包括 RichContent。

您可以从此[链接找到有关此问题的更多信息](https://stackoverflow.com/questions/12957631/loading-richtextbox-content-from-xml)

提前致谢，K

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:18:28.750

```
string rtfString = "{\\rtf1\\ansi\\ansicpg1252\\deff0\\deflang1033{\\fonttbl{\\f0\\fnil\\fcharset0 Microsoft Sans Serif;}}\r\n\\viewkind4\\uc1\\pard\\f0\\fs17 Sample \\b Text\\b0\\par\r\n}\r\n";
richTextBox1.Rtf = rtfString; 
```

// 编辑：您可以从 rtf 文件加载此字符串，但它会很长且无效：

```
richTextBox1.LoadFile(@"F:\SimpleText.rtf", RichTextBoxStreamType.RichText); 
```

但是，我真的不明白为什么我的第一个代码不适合你。因为它对我来说很好用： ![在此处输入图像描述](../Images/c1e1ec80ff2798e72260f8283adabd4d.png)

我建议你做错了什么。如果很简单，您能否附上您的解决方案。

# forms - Symfony2 - 创建关联的表单出错（多对多）

> ID：12970038
> 
> 赞同：1
> 
> 时间：2012-10-19T08:13:40.880
> 
> 标签：forms, symfony, many-to-many

我在多对多关联中有 2 个实体。

```
/**
 * @ORM\Table()
 * @ORM\Entity()
 */
class Clown
{
    ...
    /**
     * @ORM\ManyToMany(targetEntity="Appuntamento", inversedBy="partecipanti")
     * @ORM\JoinTable(name="partecipa")
     */
    private $appuntamenti;

    public function __construct() {
        $this->appuntamenti = new ArrayCollection();
    }
    ...
    public function addAppuntamenti(Appuntamento $app)
    {
        $this->appuntamenti[] = $app;
    }    

    public function getAppuntamenti()
    {
        return $this->appuntamenti;
    }
}

/**
 * @ORM\Table()
 * @ORM\Entity()
 */
class Appuntamento
{
    /**
     * @ORM\ManyToMany(targetEntity="Clown", mappedBy="appuntamenti")
     */
    private $partecipanti;

    public function __construct() {
        $this->partecipanti = new ArrayCollection();
    }
    ...
    public function addPartecipanti(Clown $partecipante)
    {
        $partecipante->addAppuntamenti($this);
        $this->partecipanti[] = $partecipante;
    }    

    public function getPartecipanti()
    {
        return $this->partecipanti;
    }
} 
```

然后我创建一个表单，允许设置 Appuntamento 的参与者（又名“partecipanti”）。

```
namespace Clown\DiaryBundle\Form;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class PartecipantiType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder
            ->add('title')  
            ->add('partecipanti', 'entity', array(
                    'class' => 'ClownDiaryBundle:Clown',
                    'property' => 'drname',
                    'multiple'  => true,
                    'expanded'  => true,
            ))
        ;
    }

    public function getName()
    {
        return 'clown_diarybundle_partecipantitype';
    }
} 
```

现在我在控制器中创建动作，一个显示表单，一个更新实体。

```
/**
 * @Route("/{id}/partecipanti", name="admin_appuntamento_partecipanti")
 * @Template()
 */
public function partecipantiAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('ClownDiaryBundle:Appuntamento')->find($id);

    if (!$entity) {
        throw $this->createNotFoundException('Unable to find Appuntamento entity.');
    }

    $partecipantiForm = $this->createForm(new PartecipantiType(), $entity);

    return array(
        'entity'      => $entity,
        'partecipanti_form'   => $partecipantiForm->createView(),
    );
}

/**
 * @Route("/{id}/update_partecipanti", name="admin_appuntamento_update_partecipanti")
 * @Method("post")
 * @Template("ClownDiaryBundle:Appuntamento:partecipanti.html.twig")
 */
public function updatePartecipantiAction($id)
{
    $em = $this->getDoctrine()->getEntityManager();

    $entity = $em->getRepository('ClownDiaryBundle:Appuntamento')->find($id);

    if (!$entity) {
        throw $this->createNotFoundException('Unable to find Appuntamento entity.');
    }

    $partecipantiForm = $this->createForm(new PartecipantiType(), $entity);
    $request = $this->getRequest();
    $partecipantiForm->bindRequest($request);

    if ($partecipantiForm->isValid()) {
        $em->persist($entity);
        $em->flush();

        return $this->redirect($this->generateUrl('admin_appuntamento_show', array('id' => $id)));
    }

    return array(
        'entity'      => $entity,
        'partecipanti_form'   => $partecipantiForm->createView(),
    );
} 
```

但是当我在第二个动作中获得帖子时，我尝试保留该对象，没有创建任何关联（在小丑和 Appuntamento 之间）。我忘记了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:26:18.310

您应该通过拥有方持久化您的实体（拥有方负责持久化）。在您的情况下，拥有方是小丑，但您正在尝试通过 Appuntamento 坚持 - 这就是它不坚持的原因。

尝试更改拥有方或通过小丑实体坚持。

您可能还想阅读更多关于拥有/反面概念的信息：

*   [http://docs.doctrine-project.org/projects/doctrine-orm/en/2.1/reference/association-mapping.html](http://docs.doctrine-project.org/projects/doctrine-orm/en/2.1/reference/association-mapping.html)
*   [http://docs.doctrine-project.org/projects/doctrine-orm/en/2.1/reference/association-mapping.html#picking-owning-and-inverse-side](http://docs.doctrine-project.org/projects/doctrine-orm/en/2.1/reference/association-mapping.html#picking-owning-and-inverse-side)

# ios - 如何在 mixare 中添加 3d 对象

> ID：12970042
> 
> 赞同：1
> 
> 时间：2012-10-19T08:14:13.033
> 
> 标签：ios, xcode, 3d, augmented-reality, compass-geolocation

我只是从 mixare sdk 开始，我正在尝试生成 3d 模型，而不是在某个位置生成常规指针。

我想要做的是基于位置/加速度计和指南针在增强现实中生成 3d 图像。这是必要的，因为我的模型很大。太大而不能使用 AR 标签，因为 3d 的 fov 会超出相机的 fov。

我发现了这个，但我是 ios 的新手，也是 mixare 的新手。欢迎任何帮助！我使用 mixare 因为它是开源的，也欢迎替代品！

谢谢你

[https://github.com/ferdinandtorggler/mixare/tree/](https://github.com/ferdinandtorggler/mixare/tree/)

# matlab - MATLAB 将数据拟合到反二次方程

> ID：12970043
> 
> 赞同：1
> 
> 时间：2012-10-19T08:14:20.377
> 
> 标签：matlab, curve-fitting

我有一堆数据，我想要一个我想要的函数的拟合，例如，`1/(ax^2+bx+c)`. 我的目标是获得 a、b、c 值。

MATLAB 有什么功能可以解决这个问题吗？我一直在检查`fit()`功能，但我没有得出结论。哪个是最好的方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T08:40:39.830

您给出的模型可以使用简单的方法解决：

```
% model function
f = @(a,b,c,x) 1./(a*x.^2+b*x+c);

% noise function 
noise = @(z) 0.005*randn(size(z));

% parameters to find
a = +3;
b = +4;
c = -8;

% exmample data
x = -2:0.01:2;    x = x + noise(x);
y = f(a,b,c, x);  y = y + noise(y);

% create linear system Ax = b, with 
% A = [x²  x  1]
% x = [a; b; c]
% b = 1/y;
A = bsxfun(@power, x.', 2:-1:0);

A\(1./y.') 
```

结果：

```
ans = 
 3.035753123094593e+00  % (a)
 4.029749103502019e+00  % (b)
-8.038644874704120e+00  % (c) 
```

这是可能的，因为您给出的模型是线性模型，在这种情况下，反斜杠运算符将给出解决方案（`1./y`虽然有点危险......）

拟合*非线性*模型时，请查看（优化工具箱），或者您可以使用（优化工具箱） `lsqcurvefit`编写自己的实现，或.`fmincon``fminsearch``fminunc`

此外，如果您碰巧有曲线拟合工具箱，请输入`help curvefit`并从那里开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-21T19:59:07.377

我不知道这篇文章在 3 个月后是否有用。我想`cftool`可以帮你检查一下

您可以轻松添加数据并选择拟合方法....

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:36:37.803

对我来说，这听起来像是一个最小二乘问题。

我认为`lsqcurvefit`可能是一个很好的起点：

[http://www.mathworks.co.uk/help/optim/ug/lsqcurvefit.html](http://www.mathworks.co.uk/help/optim/ug/lsqcurvefit.html)

# php - 如何通过传递另一个数组元素来获取数组元素？

> ID：12970046
> 
> 赞同：0
> 
> 时间：2012-10-19T08:14:25.607
> 
> 标签：php, arrays

我有一个数组跟随

```
[0] => Array
 (
    [month] => Oct
    [amount] => 1200.00
 ) 
```

以及我如何`[amount]`通过`[month]`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T08:18:16.747

你没有。两种选择：

1.  环形：

    ```
    foreach ($array as $i) {
         if ($i['month'] == 'Oct') {
             echo $i['amount'];
         }
    } 
    ```

2.  按月索引数据：

    ```
    $array = array_combine(array_map(function($i) { return $i['month']; }, $array),
                           $array);
    echo $array['Oct']['amount']; 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:19:59.457

```
foreach ($arr as $k => $v) {
    if ($v['month'] == $needleMonth) {
        echo $v['amount'] . ' - that`s it';
        break;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:20:03.333

```
$selectedMonth = 'Oct';

foreach($yourArray as $child){

    if($child['month'] == $selectedMonth){
        echo $child['amount'];
    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:18:07.867

如果您想要的月份 == $arrayElement[$i]['month']，您必须循环您的数组并每次测试

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T08:18:30.153

```
foreach ($arr as $k=>$v) {
    if ($v['month']=='Oct') {
        echo $v['amount'];
    }
} 
```

# c# - 如何使用类型参数从泛型类型中提取原始泛型类型

> ID：12970048
> 
> 赞同：2
> 
> 时间：2012-10-19T08:14:28.083
> 
> 标签：c#, .net, generics, reflection

假设我有一个运行时对象的泛型类型和同一类的原始泛型类型，例如

```
var type = (new List<Int32>()).GetType();
var genericListType = typeof(List<>); 
```

我需要一种`GetRawGenericType`方法，所以表达

```
GetRawGenericType(type) == genericListType 
```

返回真。有没有办法实现这个？

**评论：**

我不知道对象的类型，它可能是任何泛型类型。在我正在编写的代码中，我必须知道确切的泛型类型，因为它将用作字典中的键，例如：

```
private readonly Dictionary<Type, TValue> Mapping = 
    new Dictionary<Type, TValue> { 
            {typeof(IEnumerable<>), *SomeValue*},
            ...
        } 
```

提前感谢您花时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:17:11.880

[`Type.GetGenericTypeDefinition`](http://msdn.microsoft.com/en-us/library/system.type.getgenerictypedefinition)就是你要找的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T08:19:50.230

使用[`GetGenericTypeDefinition`方法](http://msdn.microsoft.com/en-us/library/system.type.getgenerictypedefinition.aspx)：

```
var type = (new List<Int32>()).GetType();
var genericListType = typeof(List<>);

Console.WriteLine(type.GetGenericTypeDefinition() == genericListType); 
```

节目

```
true 
```

# android - 将可编辑转换为字符串

> ID：12970049
> 
> 赞同：2
> 
> 时间：2012-10-19T08:14:40.937
> 
> 标签：android, string, type-conversion

我不知道为什么这些解决方案不起作用。

我需要从 Editable 转换为 String

此解决方案不起作用：

```
Editable ploshad =editTextPloshad.getText();
String  ploshadNew=ploshad.toString(); 
```

和这个

```
Editable ploshad =editTextPloshad.getText();
String  ploshadNew=(String)ploshad.toString(); 
```

plushadNew 不是字符串

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T08:19:32.097

如果它与 Android 相关，也许您只需要**EditText**而不是**Editable**对象？

```
EditText editText = (EditText) findViewById(R.id.edit_text);
String string = editText.getText().toString(); 
```

来源：[可编辑的文本到字符串](https://stackoverflow.com/questions/2216201/editable-text-to-string)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-12T17:22:21.023

你告诉的错误只是未定义的行为。

为了比较，永远不要在可编辑和字符串之间使用 ==，因为它们一定会搞砸。

.equals() 测试值相等。

# java - java - 如何在java中使用log4j创建附加日期和时间的日志文件？

> ID：12970053
> 
> 赞同：2
> 
> 时间：2012-10-19T08:14:52.020
> 
> 标签：java, log4j

在我的应用程序中，我想每隔一小时生成一个带有日期和时间的日志文件，例如 sample-19.10.2012-1.42pm

谁能给我一些想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:29:11.670

您正在寻找 DailyRollingFileAppender。

文档：[Log4J 手册 DailyRollingFileAppender](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/DailyRollingFileAppender.html)

配置示例（.properties）：

```
log4j.appender.DailyRoller=org.apache.log4j.DailyRollingFileAppender
log4j.appender.DailyRoller.datePattern='.'yyyy-MM-dd_HH
log4j.appender.DailyRoller.file=logs/myLogFile.log
log4j.appender.DailyRoller.layout=org.apache.log4j.PatternLayout
log4j.appender.DailyRoller.layout.ConversionPattern=%d{ISO8601} %-5p [%t] %c: %m%n 
```

此示例将每小时创建一个新文件。您可以通过调整日期模式来更改此设置。例如：`yy-MM-dd`每天都会创建一个新的日志文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T08:22:00.257

查看转换模式。

```
 <appender name="console" class="org.apache.log4j.ConsoleAppender">
        <param name="Target" value="System.out" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d{dd MMM yyyy HH:mm:ss,SSS} %-5p [%t] %c.%M (%L) %x - %m%n" />
        </layout>
    </appender> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:22:20.003

您可以动态设置[FileAppender](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/FileAppender.html)

```
SimpleLayout layout = new SimpleLayout();           
FileAppender appender = new FileAppender(layout,"your filename",false);
logger.addAppender(appender); 
```

# shell - 外壳脚本。if 语句不起作用

> ID：12970054
> 
> 赞同：0
> 
> 时间：2012-10-19T08:15:02.407
> 
> 标签：shell, if-statement

我写了一个小的 shell scipt，但我的 if 语句无法正常工作。

我正在通过一个文件（14380 行和 134 列）运行 while 循环，并且我想按照条件在某些行上做一些工作 `number in column 4 > 6 and number in column 4 < 7`。第 4 列中的数字是一个实数，我知道 if 语句只对整数进行操作。这是我的问题吗？我认为 if 语句会将我的数字读取`get_lon`为整数，例如。`get_lon=14.824`它会读为`get_lon=14`. 那样就好了。很长一段时间后，它没有给出错误消息，但它没有按照我的意愿过滤数据。现在文件的所有行都在通过测试。

```
#!/bin/bash/sh
ulimit -s unlimited
datafile=$1

wfno=0
cat $datafile | while read line 

do        
    wfno=`expr $wfno + 1`  
    echo $wfno      

    get_lon=`awk '(NR=='$wfno'){print $4}' $datafile`
    echo $get_lon

    if test ["$get_lon" > "6" -a "$get_lon" < "7"] 
    then      
        awk '(NR=='$wfno'){for(i=7;i<=NF;i++){print i-7, $i;}}' $datafile > xy
        echo 'awk done '

        some more stuff...
    else
        echo "Line not valid"
    fi
done 
```

请问，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:17:56.120

使用`-gt`（大于）和`-lt`（小于）比较整数。

```
if ["$get_lon" -gt "6" -a "$get_lon" -lt "7"] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-06T12:55:53.660

在测试浮点数时使用`expr`or代替：`bc`

```
if expr "$get_lon" '>' 6 && expr "$get_lon" '<' 7; then
    ...
fi 
```

或者

```
if [ "$(echo "$get_lon > 6" | bc)" = 1 -a "$(echo "$get_lon < 7" | bc)" = 1 ]; then
    ...
fi 
```

更推荐使用`expr`，因为它不需要命令替换。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:01:30.227

后面需要加空格`[`

即使使用浮动，以下内容也适用于我：

```
if [ "$count" -gt 1 -a "$count" -lt 2 ]|bc 
```

测试如下：

```
> cat temp.sh
#!/bin/sh

count=1.5
if [ "$count" -gt 1 -a "$count" -lt 2 ]|bc
then
echo "yes"
fi
> temp.sh
yes
> 
```

# geometry - scipy.interpolate.griddata 会正确插入经度和纬度浮点坐标的值吗？

> ID：12970063
> 
> 赞同：2
> 
> 时间：2012-10-19T08:15:36.417
> 
> 标签：geometry, scipy, geospatial, interpolation

可以说，我`np.array`在 Python 中有 3 个浮点值`latitudes`：`longitudes`和`values`. 我想为不在`latitude`and`longitude`数组中的坐标插入一些值。我可以使用`scipy.interpolate.griddata`它，它工作得很好。

然而，我最近开始怀疑它是否`interpolate`像我预期的那样工作：因为它不知道欧几里德网格和经纬度网格的球形性质之间的区别，它可能会计算出错误的插值，至少对于`linear`. （因为两极处两个坐标之间的距离可能与赤道处两个坐标之间的距离大不相同。）

我确实查看了可以 [在 scipy 站点](http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html)上找到的文档，但没有找到有关处理非等距转换的信息。

坐标的球面性质和等距性质之间的差异对于 是一个问题`scipy.interpolate.griddata`，还是无关紧要？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:39:25.310

`griddata`假设欧几里得距离测量，所以你有通常的球到平面地图投影问题。

Scipy 0.11.0 具有用于在球体上插值数据的工具：http: [//docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectSphereBivariateSpline.html](http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectSphereBivariateSpline.html)

这适用于直线纬度/经度网格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:37:01.847

您需要的是[Slerp（球面线性插值）](http://en.wikipedia.org/wiki/Slerp)，这是一种使用[quaternion](http://en.wikipedia.org/wiki/Quaternion)在球体上进行线性插值的方法。[numpy](https://github.com/martinling/numpy_quaternion)有一个四元数 dtype作为附加组件实现，它可以让您有效地在 python 中实现 slerp。[这里](http://cgkit.sourceforge.net/doc2/quat.html)也是一个实现 slerp 的库。

# c# - 登录安全性：如何禁用多次登录

> ID：12970067
> 
> 赞同：1
> 
> 时间：2012-10-19T08:16:03.103
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-2, authentication

我想在我的网站上禁用多次登录。例如，当用户已经登录系统时。系统应禁止用户在其他浏览器或计算机上再次登录。目前我尝试通过使用数据库来做到这一点。我有一个像 login_status 这样的列，一旦用户登录，它将更新为 1 和 0 以表示离线。如果您的用户关闭浏览器而不注销。它将保持登录状态，用户应要求管理员将其注销。问题是我们希望在最多 30 分钟的空闲时间内自动注销用户。我很难做到这一点。

有没有办法禁用多次登录并确定用户是否空闲并自动将他注销？我正在考虑cookies和会话。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T17:28:07.240

访问者可以同时从多个位置登录的原因是，每当他们登录时，ASP.net 都会为他们分配相同的身份验证令牌。因此，身份验证令牌本身不允许您区分用户登录的位置。

可能有很多方法可以解决这个问题，但原则上您需要做的就是在用户的会话状态中存储一些识别信息，并在每个请求中检查这些信息。例如，当他们登录时，他们的 IP 地址可以存储为会话数据。然后对于每个后续经过身份验证的请求，可以将请求来自的 IP 与当前请求的 IP 进行比较。如果两者不匹配，则将用户注销。

或者，如果 IP 不是一个足够好的标识符（例如，如果用户从路由器后面登录，多台 PC 将共享 IP），那么您可以在登录时将一些识别信息添加到用户身份验证令牌。这是有关如何执行此操作的教程：

[http://www.danharman.net/2011/07/07/storing-custom-data-in-forms-authentication-tickets/](http://www.danharman.net/2011/07/07/storing-custom-data-in-forms-authentication-tickets/)

每次他们登录时，都可以生成一个唯一的 GUID，并将其存储为会话数据和身份验证令牌的一部分。在每个请求上，您都会比较两者，在失败时将用户注销。

这是几种可能性——我敢肯定还有其他可能性。

更好的方法可能是在 asp.net 生成它以引入一些更改时影响 asp.net 身份验证令牌本身，但我不确定这是否可能。

谷歌搜索什么也没给我。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:20:51.203

不是很理想，而是在位`SignInLockTime`字段旁边添加一个字段`login_status`，并在更新登录状态的同时写入更新登录状态的时间。从那里你可以有一个应用程序配置的超时，所以如果`timeout`时间过去了，`SignInLockTime`你可以自动解锁。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T09:44:04.007

从您对问题的回答来看，您实际上想要做的是防止用户同时从两个位置登录......对吗？

如何根据数据库中的用户记录存储会话 ID。当用户登录时，替换数据库中的会话 id。然后，在每个授权请求上，您将提供的会话 ID 与存储在用户记录中的会话 ID 进行检查 - 如果不同，则他们在其他地方登录，因此再次将它们重定向到登录页面。这样，其他机器上的登录是可能的，但其他机器上的现有会话将因新登录而失效。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-07-08T14:00:14.177

请参阅：

[当同一个用户 ID 尝试在多台设备上登录时，如何终止另一台设备上的会话？](https://stackoverflow.com/questions/15903574/asp-net-mvc4-when-the-same-user-id-is-trying-to-log-in-on-multiple-devices-ho)

开箱即用，.NET 不支持这一点。.NET 允许并发登录，我相信您知道。

我有同样的确切要求，并提出了一个非常巧妙的解决方案，如上面的链接所示。简而言之，我的要求是一次只能有一个用户登录。如果同一个用户 ID 试图在其他地方登录，那么它会通过检查不同会话 ID 下的现有登录来终止第一次登录的会话（这使得用户 ID 可以从其多个实例登录）计算机上的网络浏览器 [相同的会话 ID]，这很常见，但不是来自不同的计算机 [不同的会话 ID]（例如，可能是由于某人窃取了他们的凭据））。通过修改代码，您可能会改变它的行为 - 即，阻止第二次登录尝试，而不是杀死已经处于活动状态且正在使用的第一次登录。

Of course, it may not fit 100% to what you're needing, so feel free to modify it to fit your needs.

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-10-19T08:26:32.593

一个简单（但不好）的选项是在 Session_End 结束事件上注销用户。但我不确定这是一个不错的选择。

# perl - Perl 华氏到摄氏转换，反之亦然

> ID：12970072
> 
> 赞同：1
> 
> 时间：2012-10-19T08:16:18.633
> 
> 标签：perl

我在 Perl 中有一个问题：编写一个 Perl 脚本，它会询问用户温度，然后询问是否将其转换为摄氏度或华氏度。执行转换并显示答案。温度转换方程为：

```
1) Celsius to Fahrenheit:C=(F-32) x 5/9
2) Fahrenheit to Celsius:F=9C/5 + 32 
```

我的脚本是：

```
#!/usr/bin/perl
use strict;
use warnings;

print "Enter the temperature: ";
my $temp = <STDIN>;
print "Enter the Conversion to be performed:";
my $conv = <STDIN>;
my $cel;
my $fah;

if ($conv eq 'F-C') {

   $cel = ($temp - 32) * 5/9;
   print "Temperature from $fah degree Fahrenheit is $cel degree Celsius";
}

if ($conv eq 'C-F') {

    $fah = (9 * $temp/5) + 32;
    print "Temperature from $cel degree Celsius is $fah degree Fahrenheit"; 
} 
```

我从键盘输入 $temp 和 $conv 后，会出现空白输出。我哪里出错了？请帮忙。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:20:27.807

您没有考虑用户输入中的换行符。

[`chomp`](http://perldoc.perl.org/functions/chomp.html)在你给它赋值之后调用每个标量`<STDIN>`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T08:22:25.793

输入后，您的变量中将有一个换行符。用来`chomp`摆脱它。

然后会有第二个问题——你在你的输出语句中使用`$fah`或。`$cel`这应该是`$temp`变量，否则你会得到这样的错误：

> 在连接 (.) 或字符串中使用未初始化的值 $cel...

这是更新的代码：

```
#!/usr/bin/perl
use strict;
use warnings;
print "Enter the temperature: ";
my $temp = <STDIN>;
chomp($temp);
print "Enter the Conversion to be performed:";
my $conv = <STDIN>;
chomp($conv);
my $cel;
my $fah;
if ($conv eq 'F-C')
{
 $cel = ($temp - 32) * 5/9;
 print "Temperature from $temp degree Fahrenheit is $cel degree Celsius";
}
if ($conv eq 'C-F')
{
 $fah = (9 * $temp/5) + 32;
 print "Temperature from $temp degree Celsius is $fah degree Fahrenheit"; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-25T15:50:27.837

你也可以`Convert::Pluggable`这样尝试：

```
use Convert::Pluggable;

my $c = new Convert::Pluggable;

my $result = $c->convert( { 'factor' => 'someNumber', 'from_unit' => 'C', 'to_unit' => 'F', 'precision' => 'somePrecision', } ); 
```

# java - CollapsiblePanel 不可用

> ID：12970075
> 
> 赞同：0
> 
> 时间：2012-10-19T08:16:32.883
> 
> 标签：java, class, gwt

[`CollapsiblePanel`我发现网上的 Java GWT](http://code.google.com/p/google-web-toolkit-incubator/source/browse/trunk/src/com/google/gwt/widgetideas/client/CollapsiblePanel.java?r=1723)非常有用，但是在 eclipse 中我无法使用它，它说该类不存在？我以为它会成为 GWT 包的一部分？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:19:34.733

您需要 Google Web Toolkit Incubator 包。但它已被弃用，您可以在此处阅读：[http ://code.google.com/p/google-web-toolkit-incubator/](http://code.google.com/p/google-web-toolkit-incubator/)

# spring - Spring：有没有办法有效地处理 bean 初始化错误？

> ID：12970079
> 
> 赞同：1
> 
> 时间：2012-10-19T08:17:09.417
> 
> 标签：spring, jakarta-ee

我需要在`exception`服务器启动时捕获春季初始化期间发生的情况并忽略原因`exception`是否为`type 'X'`？这可能吗 ？ `lazy-init`不是这里的选项.....如果我可以指定一个`onExceptionClass`同时定义一个很棒的bean或类似的东西？

下面是 beanId ：

```
<bean id="entityManagerFactoryMemberDB"
    class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean" depends-on="addBtsConfiguration,systemPrereqs">
    <property name="persistenceUnitName" value="MemberDBUnit" />
    <property name="dataSource" ref="memberDBDataSource" />
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
            <property name="database" value="${memberDB.jdbc.database}" />
            <property name="showSql" value="${memberDB.hibernate.show_sql}" />
        </bean>
    </property> 
```

在这种情况下，休眠尝试连接到数据库，出于某种原因我想忽略它，这可能吗？

# django - 使用 django 创建 csv 文件并直接在 Excel 中打开

> ID：12970082
> 
> 赞同：1
> 
> 时间：2012-10-19T08:17:12.547
> 
> 标签：django, excel, csv, unicode

我已经通过 django 创建了 csv 文件。我已将编码数据写入其中。但是当我在 excel 表中打开这个文件时，unicode 字符无法正确显示。

我也参考了这个问题 [Django create CSV file that contains Unicode and can be open directly with Excel](https://stackoverflow.com/questions/10846133/django-create-csv-file-that-contains-unicode-and-can-be-opened-directly-with-exc)

但没有得到正确的答案。我已经尝试了所有答案，但没有任何一个有效。

我编写代码如下。

```
 def exportcsv(request):
        import csv
        producer_list = Producer.objects.filter()
        response = HttpResponse(mimetype='text/csv')
        response['Content-Disposition'] = 'attachment; filename=producer.csv'
        writer = csv.writer(response, delimiter=",")
        writer.writerow(codecs.BOM_UTF16_LE)
        writer.writerow(['Produsenter','Type','Land','Region'])
        for cdst in producer_list:
            writer.writerow([cdst.title.encode("UTF-8"),
                            cdst.producer_type.encode("UTF-8"),
                            cdst.country.country.encode("UTF-8"),
                            cdst.region.region.encode("UTF-8")])
        return response 
```

然后正确创建了 csv 文件，但其中的字符编码不正确。字符将显示为“Tokaj HÃ©tszÃ¶lÃ¶”。

当我尝试

```
writer.writerow([cdst.title.encode("iso-8859-1"),
                            cdst.producer_type.encode("iso-8859-1"),
                            cdst.country.country.encode("iso-8859-1"),
                            cdst.region.region.encode("iso-8859-1")]) 
```

然后我们将正确添加的数据也正确打开它的excel文件。但它会为字符串中的某些字符（如 'æ' 和 ' ）提供错误。

错误：“latin-1”编解码器无法在位置 266 编码字符 u'\u2013'：序数不在范围内（256）

我也尝试下面的代码。

```
response['Content-Disposition'] = 'attachment; filename=producer.csv'
response.write(u'\ufeff'.encode('utf8'))
writer = csv.writer(response, delimiter=",") 
```

也试试

```
writer.writerow(codecs.BOM_UTF16_LE)
writer.writerow(str.decode('utf8').encode('utf_16_le')) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-01T05:11:39.010

我已经解决了上述问题。我编写代码如下。

```
writer.writerow([cdst.title.encode("iso-8859-1"),
                 cdst.producer_type.encode("iso-8859-1"),
                 cdst.country.country.encode("iso-8859-1"),
                 cdst.region.region.encode("iso-8859-1")]) 
```

使用上面的代码我得到了错误

```
Error: 'latin-1' codec can't encode character u'\u2013' in position 266: ordinal not in range(256) 
```

但是这个错误是因为空字符串和'-'字符当我传递给编码时。当我在将字符串传递给编码之前设置条件并将“-”字符替换为“_”时，可以解决此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:28:36.573

你应该看看[unicodecsv](https://github.com/jdunck/python-unicodecsv)。它为我解决了类似的麻烦。

# html - HTML - 避免在 tfoot 中使用 colspan

> ID：12970083
> 
> 赞同：0
> 
> 时间：2012-10-19T08:17:38.370
> 
> 标签：html, html-table

我正在构建一个 Table html 框架，其中导出选项在 tfoot 中可用。我想在不使用 colspan 的情况下在我的 tfoot 中只有一个 TD。它是一个框架，开发人员只需在其中设置 THEAD 和 TBODY。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:32:16.313

不。为了避免这个问题，不要`tfoot`在表格后面使用一个元素（如果出于某种目的需要，请与它一起包装在一个容器中）。

# java - 无法在 play 1.2.5 中获取 json？

> ID：12970086
> 
> 赞同：3
> 
> 时间：2012-10-19T08:17:49.977
> 
> 标签：java, javascript, json, playframework, playframework-1.x

我正在使用播放 1.2.5。我正在通过 ajax 从视图发送 JSON 对象，但在控制器中出现空指针异常。下面是我的代码。它从 Html 字段中获取值并将它们发送到 Play 控制器。

**看法**

```
function submitData(){
                'use strict';
                var user = document.getElementById('user').value;
                var pass = document.getElementById('pass').value;

                var message = "";
                if(user == "" && pass==""){
                    //message=null;
                    message = "Please Enter User and Password";
                    document.getElementById('submitb').disabled=true;
                }else if(user === ""){
                    //message= null;
                    message = " Please Enter User name";
                    document.getElementById('submitb').disabled=true;
                }else if(pass == ""){
                    //message=null;
                    message = "Please Enter Password";
                    document.getElementById('submitb').disabled=true;
                }

                if(message!=""){
                    document.getElementById('result').innerHTML = message;
                    document.getElementById('submitb').disabled= false;
                    message = null;
                }else{
                    sendAjax();
                }

            } // ending submit function 
```

**SendAjax 功能：**

```
function sendAjax(){

                'use strict';
                var ajax = getXhrObject();
                ajax.onreadystatechange = handleAjaxResponse;
                    //var userData =  
                    var data = {'user': document.getElementById('user').value,'pass': document.getElementById('pass').value}
                    var jsonData = JSON.stringify(data);

                    ajax.open('POST', '/validate', true);
                    ajax.setRequestHeader('contentType', 'application/json');
                    var ajaxAbortTimer = setTimeout(function() { //abort timer
                        if (ajax) {
                                ajax.abort();
                                ajax = null;
                        } // second 'if (ajax)' ends here
                    }, 5000);
                    ajax.send(jsonData);

            }// ending sendAjax function. 
```

**获取XhrObject()**

```
function getXhrObject(){
                'use strict';
                var ajax = null; 
                try{
                    if(window.XMLHttpRequest){
                        ajax = new XMLHttpRequest();
                    }else if(window.ActiveXObject){
                        ajax = new ActiveXObject();
                    }

                }catch(e){
                    console.log(e);
                }

                return ajax;

            } // ending getXhrObject Function 
```

**控制器：** 这是我的控制器的代码。当我向它发送请求时，会引发空指针异常。

```
public static void validate(Request request){
        String status = null, response = null;
        List<String> credInfo = new ArrayList<String>();
        if (request.contentType.equals("application/json")){
            Iterator<String> it = request.params.allSimple().keySet().iterator();
            while (it.hasNext()) {
                String key = it.next();
                String value = request.params.get(key);
                Logger.info("value" + value);
                JsonElement body = new JsonParser().parse(value);
                JsonObject jsObj = body.getAsJsonObject();
                JsonElement JsonEmail = jsObj.get("user");
                JsonElement JsonPassword = jsObj.get("pass");
                String email = JsonEmail.getAsString();
                String password = JsonPassword.getAsString();
                System.out.println("email:  "+email);
                System.out.println("password:"+password);
                if(!email.equals(user) && !password.equals(pass)){

                status = "fail"; response = "Authentication failed";

            }
        }

    }
        renderJSON("{\"status\":"+status+" \response\":"+response+" }");

  } 
```

异常的堆栈跟踪是：

```
Internal Server Error (500) for request POST /validate

Execution exception (In /app/controllers/Application.java around line 30)
NullPointerException occured : Try to read contentType on null object play.mvc.Http$Request (controllers.Application.validate, line 30)

play.exceptions.JavaExecutionException: Try to read contentType on null object play.mvc.Http$Request (controllers.Application.validate, line 30)
    at play.mvc.ActionInvoker.invoke(ActionInvoker.java:237)
    at Invocation.HTTP Request(Play!)
Caused by: java.lang.NullPointerException: Try to read contentType on null object play.mvc.Http$Request (controllers.Application.validate, line 30)
    at play.classloading.enhancers.PropertiesEnhancer$FieldAccessor.invokeReadProperty(PropertiesEnhancer.java:213)
    at controllers.Application.validate(Application.java:30)
    at play.mvc.ActionInvoker.invokeWithContinuation(ActionInvoker.java:557)
    at play.mvc.ActionInvoker.invoke(ActionInvoker.java:508)
    at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:484)
    at play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:479)
    at play.mvc.ActionInvoker.invoke(ActionInvoker.java:161)
    ... 1 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T05:41:52.630

您没有以正确的方式使用播放框架：[http ://www.playframework.org/documentation/1.2.5/controllers#params](http://www.playframework.org/documentation/1.2.5/controllers#params)

控制器方法参数与您发送的参数名称相匹配。http 请求不是参数，所以你不能使用这样的参数。请求对象已定义。尝试从您的方法中删除此参数。

另一个问题是您没有在 ajax 调用中为您的 json 对象命名，因此您无法使用 request.params.get("user") 之类的内容检索它

# xcode - Xcode 更改 remoteGlobalIDString - 如何避免？

> ID：12970089
> 
> 赞同：1
> 
> 时间：2012-10-19T08:17:59.800
> 
> 标签：xcode, version-control

我的“project.pbxproj”受版本控制。Xcode 不断更改`remoteGlobalIDString`通过子项目链接的库。

还有其他人有这个问题吗？如果是，我该怎么办？

```
5A1F61F5162C0F6B001ABF64 /* PBXContainerItemProxy */ = {
        isa = PBXContainerItemProxy;
        containerPortal = 5A0A1B5816147A4A00C65C6D /* MyReferencedSubProject.xcodeproj */;
        proxyType = 1;
        remoteGlobalIDString = 235B356E47F64C9DB6D76F45; << THIS CHANGES ALL THE TIME
        remoteInfo = MyLibInMySubProject;
    }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T16:20:12.653

为我修复它的唯一方法是重写由 cmake 生成的项目 UUID：

```
YOUR_TARGET_UUID=$(grep -E -m 1 '[A-F0-9]{24} \/\* YOUR_TARGET \*\/ = {' \
                    "Project.xcodeproj/project.pbxproj" | \
                 grep -o -E '[A-F0-9]{24}')
sed -i '' "s/${YOUR_TARGET_UUID}/00000000DEADBEEF00000000/g" \
          "Project.xcodeproj/project.pbxproj" 
```

# asp.net - 如何在 ASP.NET 中设置文件上传（输入文件）控件的区域性

> ID：12970091
> 
> 赞同：1
> 
> 时间：2012-10-19T08:18:07.137
> 
> 标签：asp.net, programming-languages, globalization, culture, currentculture

在我的网站上更改文化（语言）时遇到问题。事实上，所有的控件都正确地改变了语言。但只有控件“asp:FileUpload”不改。文字描述总是一样的......是否可以在“”或“”之类的按钮上强制使用语言？

已经提前谢谢你了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-24T12:36:32.427

您可以通过 CSS 样式选择其 ID 来隐藏按钮。

```
<style type="text/css">
    input.fileUpload{
        display: block;
        visibility: hidden;
        width: 0;
        height: 0;
    }
</style> 
```

然后创建一个按钮来触发文件上传。

```
<script type="text/javascript">
$("#alternateUploadButton").click(function(){
    $("#fileUpload").click();
});
</script>
<input type="file" id="fileUpload" name="fileUpload">
<button id="alternateUploadButton">
    Get a file or whatever name you want
</button> 
```

[http://jsfiddle.net/SPVkq/](http://jsfiddle.net/SPVkq/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T11:14:33.830

不幸的是，文件上传按钮上的“浏览...”标签是由浏览器提供的，而不是由您的标记提供的，因此它不受您的控制。有一些技巧，但您可能需要考虑是否值得麻烦，因为此“浏览...”按钮应该使用用户可以理解的语言，因为它与浏览器的语言相匹配。

有关更多信息，请参阅其他帖子： [ASP.NET FileUpload - 如何更改“浏览...”按钮描述的语言？](https://stackoverflow.com/questions/3069109/asp-net-fileupload-how-to-change-the-language-of-the-browse-button-descri)

# zend-framework - Zend 框架 - Netbeans 命令行 - require_once 错误

> ID：12970102
> 
> 赞同：0
> 
> 时间：2012-10-19T08:18:33.330
> 
> 标签：zend-framework

我是 Zend Framework 的新手，目前正在使用最新的 Netbeans IDE 进行开发。由于创建和使用模型是该过程的一部分，因此我遇到了一些奇怪的错误。

我已经在我的 MacOSX Mountain Lion 上配置了我的 XAMPP，Zend 1.11 库是已知的。我可以使用 Netbeans Zend 命令行工具初始化新项目并创建新文件。Zend Projects 运行良好。

奇怪的是，我有我的 IndexController 并想创建一个新动作 ala' zf create action myAction. 因为我的 IndexController.php 包含一个模型

```
require_once APPLICATION_PATH . '/models/CollectionModel.php'; 
```

此调用不起作用，并且始终打印以下错误消息：

> 在 /Users/tbolle/NetBeansProjects/Musiksammlung/application/controllers/IndexController.php 的控制器内创建一个名为 blaKeks 的操作
> 
> 警告：require_once(APPLICATION_PATH/models/CollectionModel.php)：无法打开流：第 2 行的 /Users/tbolle/NetBeansProjects/Musiksammlung/application/controllers/IndexController.php 中没有这样的文件或目录
> 
> 致命错误：require_once()：无法打开所需的“APPLICATION_PATH/models/CollectionModel.php”（include_path='/Applications/NetBeans/NetBeans 7.2.app/Contents/Resources/NetBeans/php/zend:/Users/tbolle/ZendFramework- 1.12.0/library:/Applications/NetBeans/NetBeans 7.2.app/Contents/Resources/NetBeans/php/zend:.:') 在 /Users/tbolle/NetBeansProjects/Musiksammlung/application/controllers/IndexController.php 第 2 行

CollectionModel 当然在 /models/CollectionModel.php

我希望有人有提示或解决方案。到目前为止感谢！

编辑 1：这就是我的应用程序路径定义的样子：

```
// Define path to application directory  
defined('APPLICATION_PATH')  
    || define('APPLICATION_PATH', realpath(dirname(__FILE__).'/../application')); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:31:58.133

目前，你的路径是

`APPLICATION_PATH/models/CollectionModel.php`,

不是

```
/Users/tbolle/NetBeansProjects/Musiksammlung/application/models/CollectionModel.php 
```

它将 APPLICATION_PATH 作为字符串“APPLICATION_PATH”，而不是定义的常量。

确保正确定义了常量 APPLICATION_PATH。

# php - Wordpress 显示所有帖子的摘录

> ID：12970104
> 
> 赞同：1
> 
> 时间：2012-10-19T08:18:33.923
> 
> 标签：php, wordpress

我有archives.php 来显示帖子的摘录。（这就是我需要的[http://www.m2advocaten.nl/nieuws](http://www.m2advocaten.nl/nieuws)（在左边））

```
 <!-- Start the Loop. -->
 <?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>

 <!-- Test if the current post is in category 3\. -->
 <!-- If it is, the div box is given the CSS class "post-cat-three". -->
 <!-- Otherwise, the div box is given the CSS class "post". -->
 <?php if ( in_category('3') ) { ?>
           <div class="post-cat-three">
 <?php } else { ?>
           <div class="post">
 <?php } ?>

 <!-- Display the Title as a link to the Post's permalink. -->
 <h2><a href="<?php the_permalink() ?>" rel="bookmark" title="Permanent Link to <?php the_title_attribute(); ?>"><?php the_title(); ?></a></h2>

 <!-- Display the date (November 16th, 2009 format) and a link to other posts by this posts author. -->
 <small><?php the_time('F jS, Y') ?> by <?php the_author_posts_link() ?></small>

 <!-- Display the Post's Content in a div box. -->
 <div class="entry">
   <?php the_excerpt(); ?>
 </div>

 <!-- Display a comma separated list of the Post's Categories. -->
 <p class="postmetadata">Posted in <?php the_category(', '); ?></p>
 </div> <!-- closes the first div box -->

 <!-- Stop The Loop (but note the "else:" - see next line). -->
 <?php endwhile; else: ?>

 <!-- The very first "if" tested to see if there were any Posts to -->
 <!-- display.  This "else" part tells what do if there weren't any. -->
 <p>Sorry, no posts matched your criteria.</p>

 <!-- REALLY stop The Loop. -->
 <?php endif; ?> 
```

问题是它没有显示帖子，而是页面内容（使用此代码）而且我只需要一个显示帖子的页面。我需要添加一个功能还是什么？

我也尝试过帖子页面，但它没有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:28:07.040

看看[http://www.wpbeginner.com/wp-tutorials/how-to-create-a-separate-page-for-blog-posts-in-wordpress/](http://www.wpbeginner.com/wp-tutorials/how-to-create-a-separate-page-for-blog-posts-in-wordpress/)

你会找到你正在寻找的东西。

# android - EditText 单击禁用页脚元素单击

> ID：12970105
> 
> 赞同：0
> 
> 时间：2012-10-19T08:18:38.990
> 
> 标签：android, button, focus, android-edittext, onclicklistener

我有带有页眉和页脚的 ListView。Header - 是带有一组 EditTexts 和 Spinners 的长 ScrollView。页脚中有两个按钮。当我单击其中一个 EditText，然后单击页脚按钮时，它不会触发。当我单击另一个页眉的元素时，我会看到页脚按钮处理程序的结果。当我不单击此 EditText 时，页脚的按钮可以正常工作。我的编辑文本：

```
<EditText
    android:id="@+id/orderTitle"
    android:layout_width="250dp"
    android:layout_height="wrap_content"
    android:layout_below="@+id/levelSpin"
    android:layout_marginTop="30dp"
    android:text="Order title(specify)"
    android:gravity="center_vertical|center_horizontal" /> 
```

我认为editText单击使页脚视图失焦的问题。所以我试图在我的按钮的 setOnClickListener 中这样做：

```
btnSubmitOrder.setOnClickListener(new View.OnClickListener() {

    public void onClick(View view) {
        footer.setFocusableInTouchMode(true);
        deadline.setFocusable(false);
        orderTitle.setFocusable(false);
        header.clearFocus();
        btnSubmitOrder.setFocusable(true);
        Log.i("new order button","fires");
        boolean errorFlag = false;
    }
}); 
```

但这无济于事。我也试着喜欢这样：

```
orderTitle.setOnEditorActionListener(new OnEditorActionListener() {

    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
        if (actionId == EditorInfo.IME_ACTION_DONE) {
            orderTitle.setFocusable(false);
            Log.i("onEditorAction","yeah");
        }
        Log.i("onEditorAction","yeah");
        return false;
    }
}); 
```

当用户的操作完成时，不要关注这个 EditText，但它也没有帮助。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T14:13:16.627

还有另一种选择，它可以在页脚上设置以下内容。创建了另一种方法重载，但它没有出现在文档中（至少在我的 IDE 中没有），我不得不检查在线文档：

```
mylistView.addFooterView(footerView, null, **false**); 
```

其中 false 告诉页脚其不可选择。我自己对此进行了测试，页脚内的按钮会响应触摸。我希望这是一个可以接受的答案。

否则，正如您所提到的，您将不得不使用 ontouchlistener，因为 listview 和按钮正在争夺焦点，而 listview 正在获胜。这就是为什么当您单击列表视图时，按钮不再触发，因为列表视图获得了焦点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T13:24:39.423

我通过使用解决了问题

```
btnSubmitOrder.setOnTouchListener(new OnTouchListener() {

            public boolean onTouch(View v, MotionEvent event) {
                 if (event.getAction() == MotionEvent.ACTION_DOWN)
                        {
                     header.clearFocus();
                        }
                   }
         }); 
```

# android - 如何使用与我的应用程序不同的进程启动其他应用程序

> ID：12970112
> 
> 赞同：0
> 
> 时间：2012-10-19T08:19:17.290
> 
> 标签：android

我想问一下如何从我的应用程序中启动具有不同进程的其他应用程序？

```
mIntent = mContext.getPackageManager().getLaunchIntentForPackage(facebook package name);
mIntent.setAction(Intent.ACTION_MAIN);
mIntent.addCategory(Intent.CATEGORY_LAUNCHER);
mContext.startActivity( mIntent ); 
```

如上代码，我发现 facebook 使用与我的应用程序相同的过程。我想知道 facebook 有可能被其他进程调用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:22:44.097

除非您与正在启动的应用程序具有相同的 sharedUserId 和相同的签名，否则您正在启动它是一个不同的过程。即使您愿意，也无法在同一进程中启动它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:26:38.650

据我所知，默认情况下，另一个 apk 中的应用程序将在其自己的进程中运行。我猜当您说“过程”时，您的意思是“任务”，如果是这种情况，您可以将[FLAG_ACTIVITY_NEW_TASK](http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_NEW_TASK)标志设置为类似“mIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);”的意图

# .htaccess - 使用 htaccess 将文本替换为其他文本

> ID：12970124
> 
> 赞同：0
> 
> 时间：2012-10-19T08:20:11.133
> 
> 标签：.htaccess

我想使用替换我的 url 中的一些文本来显示 url 漂亮。.请让我知道我该怎么做。

例如。 [http://example.com/wp-admin](http://example.com/wp-admin) [http://example.com/Market](http://example.com/Market) 我想替换 wp-login [http://example.com/wp-login](http://example.com/wp-login) [http://example.com/Market](http://example.com/Market)

我正在使用以下代码。

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteRule ^index.php$ – [L]
    RewriteCond %{REQUEST_URI} wp-admin/
    RewriteCond %{QUERY_STRING} !Magic
    RewriteRule .*\.php [F,L]
    RewriteCond %{QUERY_STRING} !Magic
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:38:09.070

我希望我能正确理解你。您希望将浏览器中的 URL 替换为另一个 URL。您可以使用带有重定向标志的重定向来执行此操作。

```
Rewrite wp-admin /Market [L,R=302]
Rewrite wp-login /Market [L,R=302] 
```

这会将浏览器重定向到新的 URL。然后，浏览器将发送第二个请求，并将 Market 作为 URL。如果您打算在重定向后提供不同的页面，则必须跟踪重定向。您可以使用带有 cookie 标志的 cookie 来执行此操作。

```
Rewrite (wp-admin) /Market [L,R=302,CO=from:$1]
Rewrite (wp-login) /Market [L,R=302,CO=from:$1] 
```

然后，您可以将 /Market URL 重写为 PHP 脚本并从那里读出 cookie，或者使用 mod_rewrite 执行此操作，如下所示：

```
RewriteCond %{HTTP_COOKIE} from=wp-admin [NC]
RewriteRule Market /wp-admin [L,CO=from::-1]
RewriteCond %{HTTP_COOKIE} from=wp-login [NC]
RewriteRule Market /wp-login [L,CO=from::-1] 
```

我希望这有帮助。

有趣的链接：[http ://www.askapache.com/htaccess/htaccess-fresh.html#modrewrite2](http://www.askapache.com/htaccess/htaccess-fresh.html#modrewrite2)

# .net - 如何将一个巨大的解决方案分成更小的部分

> ID：12970125
> 
> 赞同：6
> 
> 时间：2012-10-19T08:20:15.003
> 
> 标签：.net, continuous-integration, nuget

在我的日常工作解决方案中，我们大约有 80 个项目。该解决方案包含 4 个不同的网站、业务逻辑和基础设施组件（例如扩展方法、各种实用程序、存储库基类等）。

该解决方案效果很好，但是如果我们将测试项目添加到解决方案中，我们很容易通过 100 多个项目，这使得使用该解决方案非常乏味。

在我寻找解决方案的过程中，我对 Nuget 非常感兴趣，我开始想知道它是否可以帮助我们。

想法是将庞大的解决方案拆分为更小的原子片段，其输出将是一个 Nuget 包，以上传到私有 Nuget 存储库。

网站将引用绑定到该特定网站的类库以外的包。

从 CI 的角度来看：

每个包解决方案都应该是原子的。

*   它应该能够获取它的引用（其他 NuGet 包，来自官方提要和私有提要）；
*   建造
*   运行它的测试
*   组装一个包
*   将新包上传到存储库

产品解决方案（比如网站）应该在以下之后构建：

*   提交他们的代码
*   私有存储库上 NuGet 包的更新

有什么建议吗？或者也许是一种更好的方法来实现这个巨大的解决方案的分裂？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-10-30T02:05:59.630

使用包管理（在 Windows 上：NuGet）当然是一种可靠的方法。您可以“免费”获得依赖关系解析，并且可以利用[语义版本控制](http://semver.org/)仅通过包版本号将有意义的信息传达给包消费者。

但是，NuGet 实际上是一些更基本模式的特定实现：

1.  仅构建已更改的代码
2.  将系统分解为小的、可管理的单元
3.  不要建立“框架”

从您的问题来看，听起来您正在构建比必要更多的代码，并且您的代码的模块化程度低于应有的程度。使用 NuGet 模块化您的代码将有助于实现这三种模式（当然是 1 和 2 - 您需要为 3 采取额外的步骤）。

应用这些模式也将有助于@Fede（对于谁 - 使用 C 和 C++ 代码 - NuGet 不适用）。通常，通过使您的软件更加模块化（同时避免构建单一的、无所不知的“框架”，通常称为 *.Library.dll 或 *.Common.dll 等），您将获得[更好的构建架构](http://www.slideshare.net/matthewskelton/how-build-and-deploy-affectsarchitectureweb-perfdays)。

最终，每个“块”代码（Visual Studio 术语中的项目或解决方案）都应该为单个开发人员所理解；如果它太笨重或复杂，请将其拆分。项目、解决方案、.cs 文件等都是**对人类的抽象**，而不是对机器的抽象，因此它们之间的大小和关系应该反映我们人类的能力和理解的需要。**走得太远**将导致需要更改多个包以完成单个功能：在这种情况下，定义上的分离是细粒度的，您需要再次将一些代码重新组合在一起。

[（披露：我是 Windows 包管理 - PackageManagementBook.com](http://packagemanagementbook.com)的合著者）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-09T22:43:19.937

您可能可以将每个单独的网站移动到不同的解决方案。如果您使用的是版本控制工具，这可能是一个合乎逻辑的步骤，因为每个单独的项目都将单独进行版本控制，这意味着开发人员不必一次与所有项目同步。此外，各个网站应该相互独立，所以这不应该是一个麻烦的举动。

您是否有与特定“业务项目”不紧密相关的通用或通用代码？此代码可以移动到另一个解决方案，如公司框架或类似的东西。然后，每个业务项目将使用该框架的已发布版本，仅在符合业务逻辑的情况和方式进行升级。例如，如果网站 A 目前的发布计划很紧，那么引入包含重大更改的框架版本可能不是一个好主意。但是，如果网站 B 处于非关键阶段，您可能希望包含框架中的新功能并在您有一点空闲时间时处理重大更改。

我不知道 NuGet 是否可以满足您的要求，但[Atlassian](http://www.atlassian.com)提供了一些工具（即 FishEye、Crucible 和 Bamboo），可以帮助您以有组织的方式实现类似的目标。注意：我不隶属于 Atlassian。

# java - 交换两个链表条目

> ID：12970133
> 
> 赞同：0
> 
> 时间：2012-10-19T08:20:33.250
> 
> 标签：java, linked-list, swap

我正在尝试将 2 个数字插入到链表中。必须对列表进行排序，因此必须在较大的数字之前插入较小的数字。

该列表首先添加较大的数字，然后在插入第二个较小的数字时，它必须将较大的数字与较小的数字交换。

我创建这个方法就是为了做到这一点，这个代码中的问题是它首先添加更大的数字，然后是更小的数字，然后再一次添加更大的数字。

我究竟做错了什么？

```
public void insertFirst(int id, double dd)
{         
    if (isEmpty())
    {
        Link newLink = new Link(id, dd);
        newLink.next = first;
        first = newLink;
    }
    else
    {
        if (first.iData < id)
        {
            Link newLink = new Link(id, dd);
            newLink.next = first;
            first = newLink;
        }
        else
        {
            int iTempData = first.iData;
            double dTempData = first.dData;

            Link newLink = new Link(id, dd);
            newLink.next = first;
            first = newLink;

            Link newLink2 = new Link(iTempData, dTempData);
            newLink2.next = first;
            first = newLink2;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:25:36.073

快速修复将是

```
public void insertFirst(int id, double dd)
{         
    if (isEmpty())
    {
        Link newLink = new Link(id, dd);
        newLink.next = first;
        first = newLink;
    }
    else
    {
        if (first.iData < id)
        {
            Link newLink = new Link(id, dd);
            newLink.next = first;
            first = newLink;
        }
        else
        {
            int iTempData = first.iData;
            double dTempData = first.dData;

            first.iData = id; // replace first
            first.dData = dd; // (do not add new)

            Link newLink2 = new Link(iTempData, dTempData);
            newLink2.next = first;
            first = newLink2;
        }
    }
} 
```

请注意，这个函数实际上并不维护列表的排序——它可以将新项目添加为第一个或第二个，但是如果传递的 ID 大于列表中已经存在的所有（比如十个）项目怎么办？

# asp.net-mvc-3 - 如何在 MVC3 中从一个视图转到另一个视图

> ID：12970135
> 
> 赞同：0
> 
> 时间：2012-10-19T08:20:42.863
> 
> 标签：asp.net-mvc-3

我仍在学习，不知道如何做到这一点，我的控制器中有：

```
[HttpGet]
public ActionResult Detail(int userId)
{
  var user = ZincService.GetUserForId(userId);
  UserDetailViewModel userDetail = new UserDetailViewModel();
  userDetail.UserId = userId;
  userDetail.Email = user.Email;
  userDetail.Firstname = user.Firstname;
  userDetail.Surname = user.Surname;
  return View(userDetail);
}

[HttpGet]
public ActionResult ChangeEmailAddress()
{
  return View();
} 
```

在我的详细视图中：

```
 <div class="section _100">
     <%: Html.LabelFor(model => model.Email)%> 
         <div>
             <%: Model.Email  %>
             <%: Model.UserId %>
         </div>
         <div>                                      
             <%: Html.ActionLink("Change Email Address",  "ChangeEmailAddress", "User", new { area = "Admin", @id = Model.UserId, @email = Model.Email, @name = Model.Firstname }, 0) %>  

             <%: Html.ValidationMessageFor(model => model.Email)%>    
         </div>
  </div> 
```

我只想从视图中的这里转到另一个视图（ChangeEmailAddress），用户可以在其中实际将他的电子邮件从旧更改为新？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:23:26.573

为什么将 0 作为 ActionLink 的最后一个参数？它应该为空。

```
<%= Html.ActionLink(
    "Change Email Address",  
    "ChangeEmailAddress", 
    "User", 
    new { 
        area = "Admin", 
        id = Model.UserId, 
        email = Model.Email, 
        name = Model.Firstname 
    }, 
    null
) %> 
```

现在您的`ChangeEmailAddress`操作可以将模型作为参数：

```
[HttpGet]
public ActionResult ChangeEmailAddress(UserDetailViewModel user)
{
    return View(user);
} 
```

然后，您应该定义`ChangeEmailAddress.aspx`将由该控制器操作呈现并强类型化到您的视图模型的相应视图。

但更好的方法是在请求中仅发送用户 ID，然后使用此 ID 检索实际的用户对象：

```
<%= Html.ActionLink(
    "Change Email Address",  
    "ChangeEmailAddress", 
    "User", 
    new { 
        area = "Admin", 
        id = Model.UserId, 
    }, 
    null
) %> 
```

进而：

```
[HttpGet]
public ActionResult ChangeEmailAddress(int id)
{
    // retrieve the user object using the id
    ...
} 
```

# html - 如何在 Outlook 中的时事通讯上制作背景图片？

> ID：12970143
> 
> 赞同：26
> 
> 时间：2012-10-19T08:21:13.827
> 
> 标签：html, background, outlook, newsletter

我正在尝试制作时事通讯，其中有一些图像作为背景和文字。这很容易，但我需要这样做`Ms Outlook`。

我试过的：

1.

```
<td width="100" height="100" style="background: url('someurl');">text</td> 
```

2.

```
<td width="100" height="100" background="someurl">text</td> 
```

3.

```
<td width="100" height="100">
    <div style="width: 0px; height:0px; position: relative;">
        <div style="width: 100px; height: 100px; position: absolute; background: url('someurl')">
           text
        </div>
    </div>
</td> 
```

但是在前景上没有什么效果很好。我不知道如何修复它。我正在使用outlook 2007。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-25T16:59:56.113

强大的“防弹电子邮件背景图像”工具（适用于 Outlook 2007/2010/2013 的 VML，适用于 Outlook 2000/2003、Gmail、Hotmail 的 HTML/CSS...）

[http://emailbg.net](http://emailbg.net)

例如：

```
 <div style="background-color:#f6f6f6;">
  <!--[if gte mso 9]>
  <v:background xmlns:v="urn:schemas-microsoft-com:vml" fill="t">
    <v:fill type="tile" src="http://i.imgur.com/n8Q6f.png" color="#f6f6f6"/>
  </v:background>
  <![endif]-->
  <table height="100%" width="100%" cellpadding="0" cellspacing="0" border="0">
    <tr>
      <td valign="top" align="left" background="http://i.imgur.com/n8Q6f.png">
      </td>
    </tr>
  </table>
</div> 
```

为了将指定的背景图像设置为完整的电子邮件正文。

此链接有助于使用矢量标记语言 (VML)

[msdn.microsoft.com/en-us/library/bb264137%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/bb264137%28v=vs.85%29.aspx)

[www.w3.org/TR/NOTE-VML#_Toc416858389](http://www.w3.org/TR/NOTE-VML#_Toc416858389)

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-19T08:49:26.370

您不能将背景图像添加`html`到要在 Outlook 中查看的时事通讯中。它只是行不通，因为他们忽略了该属性。

`background-color`文本后面只能有块颜色 ( )。

Outlook 不支持以下 CSS：

```
azimuth
background-attachment
background-image
background-position
background-repeat
border-spacing
bottom
caption-side
clear
clip
content
counter-increment
counter-reset
cue-before, cue-after, cue
cursor
display
elevation
empty-cells
float
font-size-adjust
font-stretch
left
line-break
list-style-image
list-style-position
marker-offset
max-height
max-width
min-height
min-width
orphans
outline
outline-color
outline-style
outline-width
overflow
overflow-x
overflow-y
pause-before, pause-after, pause
pitch
pitch-range
play-during
position
quotes
richness
right
speak
speak-header
speak-numeral
speak-punctuation
speech-rate
stress
table-layout
text-shadow
text-transform
top
unicode-bidi
visibility
voice-family
volume
widows
word-spacing
z-index 
```

来源：http: [//msdn.microsoft.com/en-us/library/aa338201.aspx](http://msdn.microsoft.com/en-us/library/aa338201.aspx)

**更新 - 2015 年 7 月**

我认为最好更新此列表，因为它时不时地获得奇怪的支持 - 此处提供了当前电子邮件客户端支持的绝佳链接：[https ://www.campaignmonitor.com/css/](https://www.campaignmonitor.com/css/)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-11-06T21:13:59.020

背景在 Outlook 中有效，但仅在`<body>`电子邮件的标签中有效。它不适用于个人`<td>`，仅适用于整个电子邮件。

> 更新：或者，您可以[使用 VML 方法，该方法](http://backgrounds.cm/)允许您将背景图像添加到 Outlook 中的单个页面元素。

这适用于大多数客户端，包括 Outlook：

```
<body style="background-image: url('img.jpg');">
<table width="100%" background="img.jpg"> 
```

这是适用于包括 Outlook 在内的所有主要电子邮件客户端的完整代码。它在 100% 宽度的表格中设置了背景图像，并回退到背景。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
</head>
  <body style="margin: 0px; padding: 0px; background-image: url('http://lorempixel.com/output/food-q-c-100-100-7.jpg'); background-color: #0D679C; background-position: top center;" bgcolor="#0D679C">
  <!-- BODY FAKE PANEL -->
    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" background="http://lorempixel.com/output/food-q-c-100-100-7.jpg">
      <tr>
        <td>
        <!-- CENTER FLOAT -->
          <table width="800" border="0" valign="top" align="center" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF">
            <tr>
              <td height="1000" align="center" valign="middle">
                Center panel
              </td>
            </tr>
          </table>
        <!-- /CENTER FLOAT -->
        </td>
      </tr>
    </table>
  <!-- /BODY FAKE PANEL -->
  </body>
</html> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-14T14:54:52.443

我能够做到这一点的唯一方法是通过此代码（TD 表）。我在 Outlook 客户端 2010 中进行了测试。我还通过 webmail 客户端进行了测试，并且两者都适用。

您唯一需要做的就是更改 your_image.jpg（对于同一图像有两个实例，请确保为您的代码更新这两个实例）和#your_color。

```
<td bgcolor="#your_color" background="your_image.jpg">

<!--[if gte mso 9]>

<v:image xmlns:v="urn:schemas-microsoft-com:vml" id="theImage" style='behavior: url(#default#VML); display:inline-block; position:absolute; height:300px; width:600px; top:0; left:0; border:0; z-index:1;' src="your_image.jpg"/>

<v:shape xmlns:v="urn:schemas-microsoft-com:vml" id="theText" style='behavior: url(#default#VML); display:inline-block; position:absolute; height:300px; width:600px; top:-5; left:-10; border:0; z-index:2;'>

<![endif]-->

<p>Text over background image.</p>

<!--[if gte mso 9]>

</v:shape>

<![endif]-->

</td> 
```

[资源](http://blog.mailermailer.com/email-design/background-images-in-html-email-the-naked-truth)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-08-30T12:00:13.597

您可以使用以下代码：

```
<!--[if gte mso 9]>
<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" 
style="width: 700px; height: 460px;">
<v:fill type="tile" src="images/feature-background-01.png" color="#333333" />   
<v:textbox inset="0,0,0,0">                                 
<![endif]--> 
```

注意：在需要背景图像的表格上方包含此代码。此外，在表格的结束标记之后添加下面提到的结束标记。

```
<!--[if gte mso 9]>
      </v:textbox>
      </v:rect>
<![endif]--> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T08:29:14.370

几个月前，我在为我的公司开发 WYSIWYG 电子邮件编辑器时遇到了这个问题。Outlook 仅支持将背景图像应用于`<body>`标签 - 任何其他元素都会失败。

最后，我发现的唯一解决方法是使用`<div>`element 进行文本输入，然后在内容提交过程中，我向`<div>`PHP 脚本发起了一个带有 's 内容的 AJAX 请求，该脚本将文本写入我们标题图像的空白版本，保存文件并返回其（唯一生成的）名称。然后我使用 Javascript 删除并使用属性中返回的文件名`<div>`添加`<img>`标签。`src`

[您可以从PHP Docs 站点](http://php.net/manual/en/function.imagecreatefrompng.php)`imagecreatefrompng()`上的页面获取所有信息/方法。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-11T09:17:30.523

这里有一些解释：

[https://web.archive.org/web/20140608170948/http://www.campaignmonitor.com:80/blog/post/3363/updated-applying-a-background-image-to-html-email](https://web.archive.org/web/20140608170948/http://www.campaignmonitor.com:80/blog/post/3363/updated-applying-a-background-image-to-html-email)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-10-19T08:23:32.950

Microsoft Office 产品（尤其是 Outlook）并不支持所有 HTML 和 CSS；在[此处查看](http://msdn.microsoft.com/en-us/library/office/aa338201%28v=office.12%29.aspx#Word2007MailHTMLandCSS_SupportedHTMLElementsAttributesandCSSProperties)有关在呈现 HTML 时可以在 Outlook 中使用和不能使用的受支持元素的参考。

具体来说，从该链接中，它没有说明元素`background`支持 CSS 属性`div`。您可能必须使用`img`并做一些 hacky 分层。

请注意，在您的第二个示例中，您的报价不匹配，这无济于事。

最后，我刚刚在提供的链接中看到的是[Outlook HTML 和 CSS Validator 工具](http://www.microsoft.com/en-us/download/details.aspx?id=23683)- 您可以尝试针对您的时事通讯标记运行它，看看它是否会给您任何建议/替代方案。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2015-06-25T15:05:11.417

您只能在正文标签或表格中使用它。像这样的东西：

```
<table width="100%" background="YOUR_IMAGE_URL" style="STYLES YOU WANT (i.e. background-repeat)"> 
```

这对我有用。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2012-10-19T08:47:21.380

Outlook 不支持背景图像。您必须使用图像并使用相对位置或绝对位置将其放置在文本后面。

# ios - reauthorizeWithPublishPermissions 和 openActiveSessionWithPublishPermissions 之间的区别？

> ID：12970146
> 
> 赞同：2
> 
> 时间：2012-10-19T08:21:22.630
> 
> 标签：ios, facebook, sdk, facebook-authentication

从 Facebook iOS SDK 3.1.1 开始，Facebook 分为`openActiveSessionWithPermissions`两部分：openActiveSessionWithReadPermissions 和 openActiveSessionWithPublishPermissions（[在此处](https://developers.facebook.com/docs/tutorial/iossdk/upgrading-from-3.0-to-3.1/)解释）。

但是，Facebook 的文档说先调用`openActiveSessionWithReadPermissions`，然后调用`reauthorizeWithPublishPermissions`。我没有看到关于何时应该使用`openActiveSessionWithPublishPermissions`.

请帮助我了解两种方法之间的区别以及何时应该使用它们。

提前致谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T22:05:53.640

以下是一些可能的情况：

1.  用户第一次访问您的应用并且从未授权过您的应用。
2.  用户正在返回您的应用，并且之前已授权您的应用。缓存的令牌可用，以便可以打开会话。缓存的令牌还存储以前授予的权限。

在情况 (1) 中，您只能打开一个会话以获得读取权限。您不能在第一次请求发布权限。

在情况（2）中，您可以要求发布权限。您必须检查是否有缓存的令牌。

无论是 (1) 还是 (2)，您都可以在会话初始打开后调用 reauthorize 方法。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-29T22:54:24.930

您可以采用 2 种方法：

*   A. 您可以在用户第一次连接到 facebook 并授权您的应用程序时向他们请求发布操作的权限。

在这种情况下，您需要使用*reauthorizeWithPublishPermissions* :..

*   B. 另一种方法是在他们想要执行特定的发布操作时请求权限。

在这种情况下，您需要先使用*reauthorizeWithPublishPermissions*，然后再使用*reauthorizeWithPublishPermissions*

恕我直言，第一种方法更加无缝，但最终可能导致糟糕的结果，因为一些用户不想在他们第一次授权应用程序时授予权限。第二种方法需要用户进行更多的交互，但给予他们更多的控制权。

Facebook 推荐第二种方法，但它实际上是你的选择。

干杯

# c# - Java或c#（在win ce上）如何找到我的相机ip的ip地址

> ID：12970152
> 
> 赞同：6
> 
> 时间：2012-10-19T08:21:49.757
> 
> 标签：c#, java, camera

我怎样才能找到我的相机IP的IP地址。摄像头是通过dhcp连接的，所以每次连接的ip地址都不一样。我可以使用“Ip Camera Finder”找到IP地址（女巫显示所有连接的摄像头，下一个问题，这个程序是如何工作的？）但我需要从java（android）或c＃（win ce）执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:49:17.267

通常 IP 摄像机的控制端口号范围为：8150 - 8350。

IPCam Finder 将扫描本地网络中已在上述范围内打开端口的 IP。

对于您的情况，您可以使用**地址解析协议** `ARP - a`或 RARP 命令来查找您的 IP 摄像机的 MAC 地址。

然后在您的程序中，硬编码 MAC 地址并找到绑定的 IP 地址。

使用 C# 编程，请参阅：[www.mostthingsweb.com/2011/11/reading-arp-entries-with-c/](http://www.mostthingsweb.com/2011/11/reading-arp-entries-with-c/)

*另一种方式：*您始终可以通过在 DHCP 服务器中配置**预留**（将固定 IP 映射到指定的 MAC 地址）为您的摄像机在 DHCP 池中注册一个**固定 IP 地址。**

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-07T07:10:53.813

好久没来了，我确实找到了我的问题的答案，这里是：

```
void SendCamData() {
        SendCamSearch();
        ReceiveCams();
    }

void SendCamSearch() {
        udpC = new UdpClient();
        try {
            udpC.Send(MessForCamsByte, MessForCamsByte.Length, CamsIpEndPoint);
        } catch (Exception e) {
            Console.WriteLine("Blad wysylanie search cam - " + e.ToString());
        }
    }

    void ReceiveCams() {
        if (udpC != null) {
            listener = new Thread(UdpReceiveThread);
            listener.IsBackground = true;
            listener.Start();
            listener.Join(2000);
            SendCamIpAndPort(CamsValsBuilder.ToString());
        }
    } 
```

最好的部分是这条消息

```
 string MessForCams = "4d4f5f490000000000000000000000040000000000000000000001"; 
```**

# xml - XQuery - 连接查询

> ID：12970162
> 
> 赞同：3
> 
> 时间：2012-10-19T08:22:36.540
> 
> 标签：xml, join, xquery

我有两个 XML 文件，想加入它们以获得所需的输出。

XML 文件 -1

```
<Countries>
<Country>
   <No C="1"/>
   <Name>India</Name>
</Country>
<Country>
   <No C="2"/>
   <Name>USA</Name>
</Country>
<Country>
   <No C="3"/>
   <Name>Srilanka</Name>
</Country>
<Country>
   <No C="4"/>
   <Name>Thailand</Name>
</Country>
</Countries> 
```

XML 文件 - 2

```
<Capitals>
  <Capital>
      <No C="1"/>
      <Name>New Delhi</Name>
  </Capital>
  <Capital>
      <No C="2"/>
      <Name>Washington DC</Name>
  </Capital>
  <Capital>
      <No C="3"/>
      <Name>Colombo</Name>
  </Capital>
  <Capital>
      <No C="4"/>
      <Name>Bangkok</Name>
  </Capital>
</Capitals> 
```

所需的输出 -

```
India - New Delhi
USA - Washington DC
Srilanka - Colombo
Thailand - Bangkok 
```

我尝试过的就像，但无法获得所需的输出:(

```
for $x in doc('Country')/Countries
  return 
  <a>
 {$x/Country/Name}
 {
   for $y in doc('Capital')/Capitals
   where $y/Capital/No/@C = $x/Country/No/@C
    return $y/Capital/Name
  }
  </a> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:05:42.880

我得到了答案，它是——

谓词中的双向连接 -

```
for $x in doc('country')//Country
  return 
  string-join( ($x/Name/text(),  
     for $y in doc('capital')//Capital
       where $y/No/@C = $x/No/@C
       return $y/Name/text()
                ), " - ") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:59:45.093

您的答案产生了正确的结果，但是我发现以下语法（使用 XPath 而不是另一个 FLOWR 表达式）要简单得多：

```
for $x in doc('country')//Country
return 
  string-join( ($x/Name/text(),  
    $doc('capital')//Capital[./No/@C = $x/No/@C]/Name/text()
            ), " - ") 
```

# php - 使用 php 和 mysql 进行数据过滤

> ID：12970167
> 
> 赞同：3
> 
> 时间：2012-10-19T08:22:46.680
> 
> 标签：php, mysql

这两天我一直在做这个项目。我不知道这段代码的错误是什么以及我应该使用什么方法来使我的代码更好，我的朋友告诉我应用数组但我不熟悉这种方法我尝试在几天内研究和研究但它不起作用。我需要的是制作一个程序来计算级别 1、2、3、4 和 5 并显示例如在 1 月、2 月、3 月、4 月、5 月、6 月、7 月、8 月有多少数据（行）获得了级别 5 、sep、oct、nov 和 dec，在此示例代码中，我仅显示过滤级别 5，因为我不希望对此的读者感到困惑。谢谢你们 ：-（

> 这是我的示例表

```
Table: sample
+-------------+------------------+-----------+
|    date     |     level        |   id      |
+-------------+------------------+-----------+
| 2012-03-01  |      4           |     1     |
| 2012-02-02  |      1           |     2     |
| 2012-04-03  |      4           |     3     |
| 2012-05-14  |      1           |     4     |
| 2010-01-05  |      5           |     5     |
| 2009-01-05  |      2           |     6     |
| 2008-01-05  |      3           |     7     |
| 2012-02-02  |      1           |     8     |
| 2012-06-03  |      4           |     9     |
| 2012-07-14  |      1           |     10    |
| 2010-01-05  |      5           |     11    |
| 2009-01-05  |      2           |     12    |
| 2012-08-05  |      3           |     13    |
+-------------+------------------+-----------+ 
```

> 此查询选择 2012 年的所有数据并按日期排序

```
$query = mysql_query("select * from table where year(date)='2012' order by date"); 
```

> 此 while 循环生成 $query 喜欢的所有记录。在循环中有 HOPING 条件过滤所有 5 级的记录...当数据（由 $query 生成）为 5 级时，$level5 将增加 1，然后该数据将进入另一个 if 语句以确定数据（由 $query 生成）属于哪个月份，假设数据是 2012-05-14，因此数据将进入 if 语句 if(Date_format($ii['date'],'%m') )==05) 并将 $level5_ma 增加 1，然后...

```
while($ii=mysql_fetch_array($query))
{
if($ii['level']==5)
{
 $level5++;
  if(Date_format($ii['date'],'%m'))==1)
  {
  $level5_jan++;
  }elseif(Date_format($ii['date'],'%m'))==02)
  {
  $level5_feb++;
  }elseif(Date_format($ii['date'],'%m'))==03)
  {
  $level5_mar++;
  }elseif(Date_format($ii['date'],'%m'))==04)
  {
  $level5_apr++;
  }elseif(Date_format($ii['date'],'%m'))==05)
  {
  $level5_may++;
  }elseif(Date_format($ii['date'],'%m'))==06)
  {
  $level5_jun++;
  }elseif(Date_format($ii['date'],'%m'))==07)
  {
  $level5_jul++;
  }elseif(Date_format($ii['date'],'%m'))==08)
  {
  $level5_aug++;
  }elseif(Date_format($ii['date'],'%m'))==09)
  {
  $level5_sep++;
  }elseif(Date_format($ii['date'],'%m'))==10)
  {
  $level5_oct++;
  }elseif(Date_format($ii['date'],'%m'))==11)
  {
  $level5_nov++;
  }elseif(Date_format($ii['date'],'%m'))==12)
  {
  $level5_dec++;
  }
}
} 
```

> 这部分代码现在将收集 if 语句的结果

```
echo"
number of 5 stars: $level5  <br>
jan:$level5_jan     <br>
feb:$level5_feb     <br>
mar:$level5_mar     <br>
apr:$level5_apr     <br>
may:$level5_may     <br>
jun:$level5_jun     <br>
jul:$level5_jul     <br>
aug:$level5_aug     <br>
sep:$level5_sep     <br>
oct:$level5_oct     <br>
nov:$level5_nov     <br>
dec:$level5_dec     <br>
"; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:40:38.223

SQL：

```
"SELECT level, id, date AS UNIX_TIMESTAMP(date) FROM table WHERE year(date) = '2012' ORDER BY date" 
```

PHP：

```
while($row = mysql_fetch_assoc($query))
{
    $levels = array(); // This is where the data for the monthly counting goes in
    $currentLevel = $row['level']; // The current level in the loop
    $currentDate = date('n', $row['date']); // The current month without leading zeroes

    if ($currentLevel === 5) // Check if the current level equals 5
    {
        $levels[$currentLevel][$currentDate] += 1;
    }
} 
```

应该做你想做的，但它没有经过测试。

注意：当然不建议使用多个查询（性能不佳）

**编辑**

```
SELECT field1, field2, field3, date AS UNIX_TIMESTAMP(date) FROM table WHERE year(date) = '2012' ORDER BY date) 
```

或试试这个（不确定这是否正常工作）：

```
SELECT *, date AS UNIX_TIMESTAMP(date) FROM ... 
```

**UNIX_TIMESTAP**

如果您的字段是 typeof timestamp 或 datetime UNIX_TIMESTAMP(date) 将以秒为单位返回自 1971 年 11 月以来的日期（参见： [http](http://en.wikipedia.org/wiki/Unix_time) ://en.wikipedia.org/wiki/Unix_time ）和此处（参见：[http://dev.mysql .com/doc/refman/5.5/en/date-and-time-functions.html#function_unix-timestamp](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_unix-timestamp)）

使用 unix 时间戳，处理日期非常容易 - 您可以轻松地用它们计算并格式化为您喜欢的任何格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:34:16.667

```
 select *,count(1) as total from table where year(date)='2012' 
group by level order by date 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-22T01:47:54.273

```
$date = 'date';
$level = 'level';
$year = '2012';

$result1 = mysql_query("SELECT *, DATE_FORMAT( $date, '%m' ) AS monthz FROM sample WHERE year($date) = '$year' ORDER BY $date");
while($row=mysql_fetch_array($result1))
{
$count++;

    if($row['smi_level']=='5star')
    {
        if($row['monthz']==1)
        {
        $jan++;
        }elseif($row['monthz']==2)
        {
        $feb++;
        }elseif($row['monthz']==3)
        {
        $mar++;
        }elseif($row['monthz']==4)
        {
        $apr++;
        }elseif($row['monthz']==5)
        {
        $may++;
        }elseif($row['monthz']==6)
        {
        $jun++;
        }elseif($row['monthz']==7)
        {
        $jul++;
        }elseif($row['monthz']==8)
        {
        $aug++;
        }elseif($row['monthz']==9)
        {
        $sep++;
        }elseif($row['monthz']==10)
        {
        $oct++;
        }elseif($row['monthz']==11)
        {
        $nov++;
        }elseif($row['monthz']==12)
        {
        $dec++;
        }
    }   
}
echo" $jan $feb $mar $apr $may $jun $jul $aug $sep $oct $nov $dec"; 
```

这是我关于我的问题的完整解决方案（但我对我的解决方案不满意，因为代码体积庞大，而且我没有使用数组，所以我很失望）感谢**F. Müller**给了我关于数组的想法以及在Arun Killu和**Arun Killu**中使用**AS**感谢您的建议。我知道我的解决方案代码不太好，哈哈哈我愿意接受任何建议谢谢`*, DATE_FORMAT( $date, '%m' ) AS monthz`

# java - Java同步同一类对象的属性

> ID：12970172
> 
> 赞同：2
> 
> 时间：2012-10-19T08:23:00.943
> 
> 标签：java

我有一个 DAO，例如

```
public class Foo {
   private final int ID;
   private String text;
   private String title;

   public void refresh() {
      Foo refreshedFoo=Database.getInstance().getFooById(ID);
      // *** Problem here ***
    }
   // ... Getters and setters for all fields
} 
```

有时我需要更新 DAO 的所有字段（从数据库中刷新）。那么如何将 的所有属性设置`this`为 的对应值`refreshedFoo`，而不为每个属性编写赋值呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:25:50.767

除非您使用某些库（可能基于反射）来做同样的事情，否则除了分配每个属性之外，没有其他方法可以分配每个属性。

另一种方法是使用新实例`refreshedFoo`并丢弃旧实例，如果您的应用程序可能这样做的话。也许你可以有一个 ProxyFoo ，它只包含一个指向可以打开刷新的 Foo 的指针？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T08:28:32.953

有两种方法，一种方法是实现`Clonable`接口和调用`clone()`方法，第二种方法是创建一个构造函数，将 Foo 对象作为参数并赋值，所以每次调用该对象。

并且将刷新方法放在FOODAO另一个类中，而FOO是模型对象，所以不应该有刷新方法。这样问题就迎刃而解了

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:26:38.760

除了使用一些黑魔法反射黑客之外，我认为没有办法做到这一点:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:27:57.707

您将不得不为每个属性使用分配。如果您不打算手动执行此操作，您可以使用任何可用的库，例如 Apache commons 提供的类 BeanUtils。它有一个方法copyProperties。在这种情况下，您可以使用它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T08:29:06.203

使用诸如 hibernate 之类的 ORM 来避免手动编写代码。或者使用 spring 有行映射器，这减少了对此类代码的需求。

唯一的另一种方法是使用力量的黑暗面：反射。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-19T08:52:21.157

您可以使用apache commons beanutils 中的[copyProperties](http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29)。

# html - 谷歌浏览器在缩放时弄乱了导航菜单

> ID：12970185
> 
> 赞同：2
> 
> 时间：2012-10-19T08:23:56.023
> 
> 标签：html, css, google-chrome, zooming

直到最近，这在 google chrome 中都可以正常工作，并且可以在所有其他浏览器中使用。

出于某种原因，当我使用 google chrome 放大和缩小时，顶部导航按钮上的边框会变形。每条线之间出现一条黑线。此外，我最左边的按钮在缩放时换到下一行。任何人都可以提供有关为什么会发生这种情况的任何见解吗？

任何人都可以提供有关如何防止品牌标签在缩放时移动这么多的任何提示吗？我使用 em 作为字体大小，但我知道无论它会移动什么。我可以将整个 ul 居中，但是有没有更简洁的方法来隐藏它？

[http://dev.gerhardsappliance.com/](http://dev.gerhardsappliance.com/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T17:31:13.537

似乎很多问题都与您使用的图像数量有关。您可以通过拆分图像和使用 CSS 为您工作来极大地简化您的菜单。

例如，如果不是使用背景图像运行 .topNavC，而是使用背景图像运行 li 本身（甚至整个 ul）并使用 .topNavL 和 .topNavR 覆盖，跨度之间的线将不可见需要时背景。您可以使用两个甚至一个图像来完成此菜单外观。

当您缩放时，所有这些图像都被强制设置为它们不一定适合的像素比率。无论如何，我都会将 CSS 用于蓝色边框和白色背景，而不是图像。

# php - 带有 LEFT JOIN 的嵌套 SELECT 语句

> ID：12970187
> 
> 赞同：9
> 
> 时间：2012-10-19T08:23:58.693
> 
> 标签：php, mysql, sql, left-join

我一生都无法弄清楚这条 SQL 语句有什么问题以及为什么它没有产生任何结果。如果我取出 LEFT JOIN 是有效的，那么它有什么问题？

```
SELECT  b.id, r.avg_rating
FROM    items AS b
LEFT JOIN
(
    SELECT avg(rating) as avg_rating
    FROM ratings 
    GROUP BY item_id
) AS r 
  ON b.id = r.item_id
WHERE b.creator = " . $user_id . " 
AND b.active = 1
AND b.deleted = 0
ORDER BY b.order ASC, b.added DESC 
```

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-19T08:25:09.760

在子查询中添加`item_id` 列（*我保证它会起作用*），以便`ON`子句可以找到`r.item_id`

```
SELECT item_id, avg(rating) as avg_rating
FROM ratings 
GROUP BY item_id 
```

# java - 小程序录音机

> ID：12970190
> 
> 赞同：0
> 
> 时间：2012-10-19T08:24:17.960
> 
> 标签：java, security, applet, code-signing, javasound

我有一个小程序正在做一些录音工作。当我使用 Applet viewer 在 eclipse 上运行它时，录音和播放工作正常。但是当我将该小程序放入浏览器时，所有按钮和控件都可见，但录制和播放不起作用。有什么理由吗？

我已经签署了罐子，但它仍然无法正常工作。我从 jarsigner 验证了我的 jar。它消息

```
jar is unsigned (Signature missing or unparsable) 
```

这个消息实际上意味着什么？

### 更新

Jar 现在已签名并验证（根据评论），新的例外是：

```
 java.lang.SecurityException: trusted loader attempted to load sandboxed resource    from file:/D:/Junaid/workspace/AudioProjectApplet/bin/com/audio/
   at com.sun.deploy.security.CPCallbackHandler$ParentCallback.check(Unknown Source)
   at com.sun.deploy.security.CPCallbackHandler$ParentCallback.access$1500(Unknown Source)
   at com.sun.deploy.security.CPCallbackHandler$ChildElement.checkResource(Unknown Source)
   at sun.plugin2.applet.Plugin2ClassLoader.checkResource(Unknown Source)
   at sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source)
   at sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source)
   at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)
   at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source)
   at java.lang.ClassLoader.loadClass(Unknown Source)
   at sun.plugin2.applet.Plugin2ClassLoader.loadCode(Unknown Source)
   at sun.plugin2.applet.Plugin2Manager.initAppletAdapter(Unknown Source)
   at sun.plugin2.applet.Plugin2Manager$AppletExecutionRunnable.run(Unknown Source)
   at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T10:21:00.707

抱歉，我上次没弄对。通常，验证已签名的 JAR 文件将由您的 Java™ 运行时环境负责。您的浏览器将验证它下载的签名小程序。使用解释器的 -jar 选项调用的签名应用程序将由运行时环境验证。

但是，您可以使用 Jarsigner 工具自己验证签名的 JAR 文件。例如，您可能希望执行此操作来测试您准备的签名 JAR 文件。

用于验证已签名 JAR 文件的基本命令是：

jarsigner -verify jar-file 此命令将验证 JAR 文件的签名并确保存档中的文件自签名后未更改。如果验证成功，您将看到以下消息：

jar 验证。如果您尝试验证未签名的 JAR 文件，则会产生以下消息：

jar 未签名。（签名丢失或不可解析）如果验证失败，则会显示相应的消息。例如，如果 JAR 文件的内容在 JAR 文件被签名后发生了变化，那么如果您尝试验证该文件，将会产生类似于以下的消息：

jarsigner: java.lang.SecurityException: test/classes/Manifest.class 的无效 SHA1 签名文件摘要

# java - 当来自 JDBC 的外部事务回滚时，如何回滚已提交的存储过程中声明的事务

> ID：12970191
> 
> 赞同：3
> 
> 时间：2012-10-19T08:24:20.177
> 
> 标签：java, jdbc

目前我面临一个场景，我在 JDBC 中打开了一个事务，然后我使用准备好的语句调用存储过程，在调用存储过程和其他一些调用后，还有一个事务及其在存储过程中的提交我提交了 JDBC交易。现在我想当外部 JDBC 事务得到 Rollback 时，存储过程的内部事务也应该是已经提交的回滚。有没有人对此有想法。感谢期待

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-14T00:34:05.147

Transaction boundary propagation across a JDBC bridge in this case is not possible. Commit is a commit like a_horse_with_no_name and and EJP mentioned.

# unit-testing - Windows Phone 开发和单元测试

> ID：12970194
> 
> 赞同：6
> 
> 时间：2012-10-19T08:24:26.260
> 
> 标签：unit-testing, windows-phone, portable-class-library, windows-phone-8

我正在寻找一个针对 Windows Phone 的项目，但由于缺乏单元测试支持[1]，我有点犹豫。

我习惯于使用 NUnit/XUnit 来满足我的大部分测试需求，使用 NSubstitute 之类的东西来进行模拟。据我所知，您不能将这些框架用于 Windows Phone 项目......

经过一些调查，我想知道以下情况是否可行：

*   使用 Visual Studio 2012
*   为视图模型和其他逻辑创建可移植类库项目
*   为单元测试创​​建其他可移植类库项目
*   等待 Windows Phone 8 SDK[2]，然后使用它创建视图。

通过使用可移植类库，我希望单元测试尽可能接近在设备上运行，而无需打开模拟器。

另一个优点是我可以看到这个解决方案在 TFS 构建环境中工作 - 所以运行测试是 CI 构建的一部分......

我希望衡量人们对这是明智之举还是愚蠢的差事的看法...

谢谢，
基龙

[1] 我知道那里有解决方案，但似乎没有一个像完整的框架测试那样集成——我专门谈论的是 VS2012/Resharper 支持在不需要模拟器的情况下运行单元测试。

[2] 有谁知道您是否可以使用 WP8 SDK 以 Windows Phone 7.x 为目标？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-23T16:34:18.337

这是我们所做的：

*   将特定于电话的逻辑抽象到外观中
*   尽可能注入依赖项
*   避免使用任何需要在构建时在 UI 线程上运行的代码，这意味着任何 UI 控件、ImageSource，基本上是任何不是枚举的 System.Windows 类型（例如 Visibility）
*   严重依赖 ValueConverters 将业务逻辑转换为 UI 逻辑。

如果你这样做，那么你*可以*使用内置的 Visual Studio 单元测试框架来测试 Windows Phone 项目（不仅仅是可移植类库）。

**1)**第一步是禁用**强名称验证**，这可以通过以下 Powershell 脚本来完成：

```
reg DELETE "HKLM\Software\Microsoft\StrongName\Verification" /f
reg ADD "HKLM\Software\Microsoft\StrongName\Verification\*,*" /f
if ($env:PROCESSOR_ARCHITECTURE -eq "AMD64")
{
   reg DELETE "HKLM\Software\Wow6432Node\Microsoft\StrongName\Verification" /f
   reg ADD "HKLM\Software\Wow6432Node\Microsoft\StrongName\Verification\*,*" /f
}
Restart-Service msiserver 
```

*请注意，它会在应用它的机器上创建一个安全漏洞！*

**2）**第二步是创建一个**Visual Studio Unit Test Project**，一个普通的，而不是*Windows Store Unit Test Project*。

**3)**第三步是包含**Windows Phone 8**项目作为参考。这很有效，您现在可以使用[Microsoft Fakes](http://msdn.microsoft.com/en-us/library/hh549175.aspx)来制作**mscorlib**和**System.dll**，允许您`DateTime`在单元测试中伪造类型，这是一个非常方便的功能。

**4)**第四步是获取以下 Windows Phone 程序集的本地副本（以及您需要的任何其他程序集）：

*   系统.Windows
*   微软电话

它们可以在**C:\Program Files (x86)\Microsoft SDKs\Windows Phone\v8.0\Tools\MDILXAPCompile\Framework**文件夹中找到。

将它们本地复制到**/lib/**文件夹，然后卸载并编辑单元测试项目的 MSBUILD xml。

改变：

```
<Reference Include="System.Windows" />
<Reference Include="Microsoft.Phone" /> 
```

到

```
<Reference Include="System.Windows, Version=2.0.6.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e, processorArchitecture=MSIL">
  <HintPath>lib\System.Windows.dll</HintPath>
</Reference>
<Reference Include="Microsoft.Phone, Version=8.0.0.0, Culture=neutral, PublicKeyToken=24eec0d8c86cda1e, processorArchitecture=MSIL">
  <HintPath>lib\Microsoft.Phone.dll</HintPath>
</Reference> 
```

此外，为避免编译时出现警告，请将以下元素添加到第一个`<PropertyGroup>`

```
<ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch>None</ResolveAssemblyWarnOrErrorOnTargetArchitectureMismatch> 
```

重新加载、编译、运行测试。瞧，你就完成了。您甚至可以将其与 Microsoft 代码覆盖率功能集成。

**注意： Windows Phone 部门****不**正式支持单元测试，这是我和我在 Skype 部门的团队发现的一种解决方法。

*奖励答案：*

> 有谁知道您是否可以使用 WP8 SDK 以 Windows Phone 7.x 为目标？

![在此处输入图像描述](../Images/815f31dbfb0d8f2b416588f54c560137.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-22T07:36:40.370

我做了一些相当基本的测试，发现一个可移植库类项目和一个用于测试的普通类库运行良好。

对此需要注意的是，我还没有找到为可移植类库构建的 MVVM 框架，这使得 View Model 无法测试......除非......您使用文件链接（并假设 View Models 继承自 MVVM 框架特定的基础班级）。P 虽然它并不理想，但这是我发现的最好的前进方式。

* * *

### 编辑：

似乎有一个基于便携式类库的 Prism ( [v4.5 ) 版本......](http://compositewpf.codeplex.com/releases/view/95815)

至少在撰写本文时，它不是稳定版或预发布版的 NuGet，但我将对它的使用和更新进行一些调查。

我还听说 Windows Phone 8 SDK 将能够以 Windows Phone 7 为目标。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-12T07:35:29.327

更新：现在支持 Windows Phone 8 的单元测试。

[http://blogs.msdn.com/b/visualstudioalm/archive/2013/01/31/windows-phone-unit-tests-in-visual-studio-2012-update-2.aspx](http://blogs.msdn.com/b/visualstudioalm/archive/2013/01/31/windows-phone-unit-tests-in-visual-studio-2012-update-2.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-09-23T06:37:50.073

我设法使用 Moq 对我在 VS2013 WP8.0 应用程序中使用的视图模型进行了单元测试。这是我的解决方案结构： - 带有自制 Prism 库的 WP8 (Silverlight) - WP8 便携式库作为我的表示层 - WP8 单元测试项目

去[这里](http://code.google.com/p/moq/downloads/list)下载最新的起订量版本。在 Silverlight 文件夹中，您会找到 2 个 dll，一个用于 Moq，一个用于 Castle Core。在您的单元测试项目中使用它们作为参考。请注意，VS2013 不允许您直接添加这些 DLL 作为参考。因此，卸载您的项目，编辑 .csproj，手动添加 2 个引用并重新加载您的项目

不是一种非常干净的方法，但这是我发现对我的视图模型进行单元测试的唯一方法。

# matlab - Matlab中的线性判别分析

> ID：12970196
> 
> 赞同：1
> 
> 时间：2012-10-18T23:08:21.473
> 
> 标签：matlab

我正在研究在 Matlab 中执行 LDA，我能够让它成功地创建一个阈值来区分二进制类。但是，我注意到阈值总是越过原点，这给了我不正确的阈值。有没有办法在没有阈值的情况下在 Matlab 中执行 LDA？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:01:52.727

这取决于您用于 LDA 的配方。通过阈值，我假设您指的是决策阈值？在下面的代码中，先验概率会影响决策阈值，因此您可能没有正确设置它们。

这是一些示例伪代码：

*N = 案例数量 c = 类别数量 Priors = 每个类别每个案例的先验概率向量 Target = 每个案例每个类别维度的目标标签 Data = Features x Cases。*

获取每个数据点的目标标签：

```
T = Targets(:,Cases);      % Target labels for each case 
```

计算每个类的平均向量和公共协方差矩阵：

```
classifier.u = [mean(Data(:,(T(1,:)==1)),2),mean_nan(Data(:,(T(2,:)==1)),2),....,mean_nan(Data(:,(T(2,:)==c)),2];   % Matrix of data means
classifier.invCV = cov(Data'); 
```

使用类均值向量和公共协方差矩阵获取判别值：

```
A1=classifier.u;
B1=classifier.invCV;
D = A1'*B1*Data-0.5*(A1'*B1.*A1')*ones(d,N)+log(Priors(:,Cases)); 
```

函数将产生 c 判别值。然后将案例分配给具有最大判别值的类。

# linux - sudo 选项适用于终端，但不适用于 xwindow

> ID：12970199
> 
> 赞同：1
> 
> 时间：2012-10-19T08:24:42.640
> 
> 标签：linux, ubuntu

根据我们办公室的管理员规则，开发者的机器不应该有管理员权限，这是我非常讨厌的。所以我决定通过在 web 中找到的一些解决方法来启用 sudo 访问（以单用户模式启动）。并成功地做到了，但我不知道为什么会出现一种奇怪的行为。

```
1) sudo option works in terminal (like if i install any application through terminal)

2) i cannot open synaptic package manager for which you need admin privilege with my user i am not able to open it. 
```

所以我的问题是我的用户在使用终端而不是 xwindow 应用程序（gnome 或 kde）时如何成为管理员。

控制台和 gnome 应用程序使用不同的 sudoers 文件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:38:25.230

也许我在这里说的是显而易见的，但你记得在启动突触时实际使用 sudo 吗？（见[图形 sudo](https://help.ubuntu.com/community/RootSudo#Graphical_sudo)）

```
gksudo synaptic 
```

# android - Android本机代码：无法访问代码中的全局变量

> ID：12970200
> 
> 赞同：1
> 
> 时间：2012-10-19T08:24:44.200
> 
> 标签：android, android-ndk

我在 android 中创建了一个运行良好的本机应用程序。此应用程序基于套接字编程。所以首先我必须打开我想要处理我的数据的那个端口，然后在需要关闭之后处理代码。但问题是，由于我是 ndk 编程的新手，我能够以相同的功能打开和处理数据，但我想要一种模块化的方法。首先我想创建一个打开函数，然后发送数据并关闭。为此，我需要创建一些全局变量，以便可以在其他函数中使用它们。像下面这样：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define LOG_TAG "native"
int skt;          // i want to use skt and ifr values
struct ifreq ifr;

JNIEXPORT jint JNICALL Java_com_can_demo_NativeControls_Open(JNIEnv * env, jobject obj, jstring port)
{
    if ((skt = socket(PF_, SOCK_RAW, _RAW)) < 0) {
        LOGI( "socket not opend");
    }

    strcpy(ifr.ifr_name, port);
    if( ioctl(skt, SIOCGIFINDEX, &ifr) < 0)
    {
        LOGI( "interface not opend");
    }

    addr._family = AF_;
    addr._ifindex = ifr.ifr_ifindex;

    if(bind (skt, (struct sockaddr*)&addr, sizeof(addr)) <0 )
    {
        LOGI( "bind Error");
    }
}

JNIEXPORT jint JNICALL Java_com_can_demo_NativeControls_Send(JNIEnv * env, jobject obj, jstring path)
{
    const jbyte *str;

    frame._id = 0x123;
    str = (*env)->GetStringUTFChars(env, path, 0);
    strcpy( frame.data, str );
    frame.can_dlc = strlen( frame.data );
    int bytes_sent = write( skt, &frame, sizeof(frame) );
    return bytes_sent;
} 
```

现在我有两个函数：**open**函数 中的***open***和**sendData**我正在初始化 skt 和 ifr 中的一些值。并想在我的***senddata***函数中访问这些数据。但是当我打印我的日志时，打开函数正常工作但 sendData 函数无法访问在打开函数中初始化的 skt 值。默认为“0”。请指导我如何实现这一目标。

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T21:30:17.213

首先，`0`对于套接字来说，这是一个完全正确的值。因此，您的全局变量按预期访问。

但是您的代码需要改进。我在评论中解释了一些技术问题。但我强烈建议不要像在此代码段中那样使用全局变量。处理本机句柄（例如指针）的推荐方法是将值返回给 Java（可能是`jlong`），并在您的 JNI 函数必须使用此值时将其从 Java 传递回本机。有一些技术允许本机代码访问 Java 对象的字段以设置/检索此类信息，但在像您这样的简单情况下，它是一个过冲。这是Java中的一个简单示例：

```
public class NativeControls {

    private long _nativeSocket = -1;

    private native long Open(String port);

    public void open(String port) {
        _nativesocket = Open(port);
    }

    private native int Send(long socket, String path);
    public void sendData(String path) {
        return Send(_nativesocket, port);
    }
} 
```**

# java - 在 Java 中保存 .xml 文件

> ID：12970202
> 
> 赞同：1
> 
> 时间：2012-10-19T08:24:46.213
> 
> 标签：java, spring-ws

我正在使用 WebServiceTemplate 类，并且将从 Web 服务接收到的 XML 响应存储在一个文件中。但是 .xml 文件由于某种原因包含所有`<`,`>`保存为`;&lt`和`;&gt`.

有什么办法可以`.xml`在保存之前将其转换为正确的文件？

```
 InputStream inputStream = new   WebServiceClientImpl().getClass().getResourceAsStream("Request.xml");
        StreamSource source = new StreamSource(inputStream2);
        StreamResult result = new StreamResult(new File("Response.xml"));               
        webServiceTemplate.sendSourceAndReceiveToResult(defaultURI,source, result); 
```

请求.xml：

```
 <list>
 <requestXmlString xs:type="type:string" xmlns:xs="http://www.w3.org/2000/XMLSchema- instance">
 <![CDATA[<request operationName="list" locale="en">
     <resourceDescriptor name="" wsType="folder" uriString="/" isNew="false">
     <label>null</label>
     </resourceDescriptor>           
     </request>]]>
      </requestXmlString>
 </list> 
```

响应.xml

```
 <?xml version="1.0" encoding="UTF-8"?><listResponse   xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"   soapenv:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"><listReturn   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="xsd:string">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
    &lt;operationResult version="2.0.1"&gt;
&lt;returnCode&gt;&lt;![CDATA[0]]&gt;&lt;/returnCode&gt;
&lt;resourceDescriptor name="Record1" wsType="reportUnit"  uriString="/xyz" isNew="false"&gt;
    &lt;label&gt;&lt;![RECORD 1]]&gt;&lt;/label&gt;
    &lt;creationDate&gt;1338285680000&lt;/creationDate&gt;
    &lt;resourceProperty name="PROP_RESOURCE_TYPE"&gt;
        &lt;value&gt;&lt;! 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:36:08.393

在写入文件时，像 < > & 这样的字符会被序列化，以便以后可以被 XML 解析器读取。

您可以尝试在文本节点上使用 CDATA 编码。在这种情况下，您将在 CDATA 块中使用 <。

[http://en.wikipedia.org/wiki/CDATA](http://en.wikipedia.org/wiki/CDATA)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:14:20.873

我想到了！:) 有图书馆可以做到这一点。所以一个简单的

```
StringEscapeUtils.unescapeXml(xml) 
```

会成功的！

# python - 如何在列表中搜索或查找特定子字符串

> ID：12970204
> 
> 赞同：2
> 
> 时间：2012-10-19T08:24:48.170
> 
> 标签：python, list

```
value = ["python:guru-age20",
         "is_it_possible_time100:goodTime99",
         "hmm_hope_no_onecanansswer"] 
```

如何从此字符串列表中获取特定字符串？我需要`goodTime99`从`li[1]`字符串中找到它的确切位置

`if value.find("goodTime99") != -1:`我知道如果我给出整个字符串会起作用`is_it_possible_time100:goodTime99`。

否则如何通过搜索`goodTime99`而不是搜索来确定位置`is_it_possible_time100:goodTime99`？ `value.index("goodTime99")`给出一个错误。

我不是在寻找要搜索的整个字符串，`value.index("is_it_possible_time100:goodTime99")`这很好，但我不想要这个。无论如何要这样做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:30:42.660

如果您只想检查`"goodTime99"`列表中任何字符串是否存在，您可以尝试：

```
value = ["python:guru-age20", "is_it_possible_time100:goodTime99","hmm_hope_no_onecanansswer"]
if any("goodTime99" in s for s in value):
    # found it 
```

如果您需要确切的位置：

```
>>> next((i for i, s in enumerate(value) if "goodTime991" in s), -1)
1 
```

或者：

```
def find_first_substring(lst, substring):
    return next((i for i, s in enumerate(lst) if substring in s), -1)

>>> find_first_substring(value, "goodTime99")
1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T08:41:25.340

如果你想要一个单行答案，你可以有

```
In [339]: [value.index(x) for x in value if x.find("goodTime99") > -1]
Out[339]: [1] 
```

最简单的方法可能是：

它将为您提供包含列表中子字符串的字符串的所有索引

```
In [334]: value = ["python:guru-age20",
   .....:          "is_it_possible_time100:goodTime99",
   .....:          "hmm_hope_no_onecanansswer"]

In [335]: indexs = []

In [336]: for x in value:
   .....:     if x.find("goodTime99") > -1:
   .....:         indexs.append(value.index(x))
   .....:

In [337]: print indexs
[1]

In [338]: int(*indexs)
Out[338]: 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:45:43.340

如果您需要，这将为您提供所有匹配项以及索引：

```
filter(lambda x: x[1].find("goodTime99") != -1, enumerate(value)) 
```

如果你只想要索引，那么

```
[e[0] for e in filter(lambda x: x[1].find("goodTime99") != -1, enumerate(value))] 
```

例如，这就是我得到的：

```
>>> value = ["python:guru-age20", "is_it_possible_time100:goodTime99","hmm_hope_no_onecanansswer"]
>>> res = [e[0] for e in filter(lambda x: x[1].find("goodTime99") != -1, enumerate(value))]
>>> res
[1] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:25:54.560

您只需要依次搜索每个单独的字符串：

```
for s in value:
  if s.find("goodTime99"):
     print "found in", s
     break 
```

# jquery - 插入 dom 时增加输入名称和 ID

> ID：12970205
> 
> 赞同：0
> 
> 时间：2012-10-19T08:24:54.330
> 
> 标签：jquery

每次将元素插入 dom 时，如何增加输入名称和 ID，

```
<input type="text" name="option_tree[sponsorship_section][1][image1]" id="sponsorship_section_image1_1"> 
```

对此：

```
<input type="text" name="option_tree[sponsorship_section][1][image2]" id="sponsorship_section_image1_2"> 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:30:06.433

向元素添加一个类。在 jQuery 中计算元素并将长度存储在变量中，然后您可以使用该变量来增加和插入 DOM。

# java - Swing 导航 - 基本

> ID：12970206
> 
> 赞同：1
> 
> 时间：2012-10-19T08:24:58.963
> 
> 标签：java, swing

我刚开始使用 Swing。我开始掌握它。

但是，我有一个关于摇摆屏幕导航的问题。

这就是我构建应用程序的方式。

*   公共类 MainFrame 扩展了 JFrame
*   公共类 LoginPanel 扩展 JPanel
*   公共类 HomeScreenPanel 扩展 JPanel

在大型机中，我有以下代码：

```
public class MainFrame extends JFrame {

    public MainFrame() {
        initUI();
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            public void run() {
                MainFrame ex = new MainFrame();
                ex.setVisible(true);
            }
        });
    }

    private void initUI(){
        InputScreenPanel inputScreenPanel = new InputScreenPanel();
        getContentPane().add(inputScreenPanel);
        Dimension dim = new Dimension(400, 300);
        setMinimumSize(dim);
    }
} 
```

在 LoginPanel 中，我初始化屏幕并添加一个按钮和一个文本框。我为按钮单击事件编写了事件处理程序。我想从文本框中获取值并将用户重定向到 HomeScreenPanel。当此按钮单击正在执行上下文时，如何切换面板是 LoginPanel 并且我没有对框架的引用，因此我可以切换面板。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:34:07.947

我认为您在这里有两个选择：

1.  您可以在创建 InputScreenPanel 时将 MainFrame 对象作为参数传递。你应该问问自己，你的 InputScreenPanel 知道你的 MainFrame 是否有意义。在某些情况下可能会，但根据您的示例，我会拒绝并选择第二个选项。
2.  您可以为您的 InputScreenPanel 创建某种事件处理程序结构（如果您使用的是模型-视图-控制器设计，则可以创建它后面的任何模型结构）。用户将登录，这将创建一个事件，MainFrame（或其他类）可以响应该事件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:22:24.723

您应该使用 JDialog 作为登录部分，然后在新的 JFrame 中启动您的应用程序

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T09:19:52.753

我会使用某种能够对程序不同部分中的变化做出反应的模型/控制器。

我会连接这个控制器，这样你就可以在不影响应用程序的其余部分的情况下替换实现

基本上这意味着登录窗格和主窗格不会关心它们是如何显示的

# jquery - Twitter Bootstrap：如何使用 jQuery 以编程方式关闭模式/弹出框

> ID：12970207
> 
> 赞同：52
> 
> 时间：2012-10-19T08:25:01.673
> 
> 标签：jquery, twitter-bootstrap

我正在使用 jquery 引导下拉菜单。我在下拉列表中添加了一些输入文本，现在当我尝试提交时我想要做什么，它必须关闭下拉列表。有什么办法吗？

这是来自 twitter bootstrap 的 url 演示：http: [//twitter.github.com/bootstrap/javascript.html#dropdowns](http://twitter.github.com/bootstrap/javascript.html#dropdowns)

```
!function ($) {

  var toggle = '[data-toggle=dropdown]'
, Dropdown = function (element) {
    var $el = $(element).on('click.dropdown.data-api', this.toggle)
    $('html').on('click.dropdown.data-api', function () {
      $el.parent().removeClass('open')
    })
  }

Dropdown.prototype = {

constructor: Dropdown

  , toggle: function (e) {
  var $this = $(this)
    , $parent
    , isActive

  if ($this.is('.disabled, :disabled')) return

  $parent = getParent($this)

  isActive = $parent.hasClass('open')

  clearMenus()

  if (!isActive) {
    $parent.toggleClass('open')
    $this.focus()
  }

  return false
}

  , keydown: function (e) {
  var $this
    , $items
    , $active
    , $parent
    , isActive
    , index

  if (!/(38|40|27)/.test(e.keyCode)) return

  $this = $(this)

  e.preventDefault()
  e.stopPropagation()

  if ($this.is('.disabled, :disabled')) return

  $parent = getParent($this)

  isActive = $parent.hasClass('open')

  if (!isActive || (isActive && e.keyCode == 27)) return $this.click()

  $items = $('[role=menu] li:not(.divider) a', $parent)

  if (!$items.length) return

  index = $items.index($items.filter(':focus'))

  if (e.keyCode == 38 && index > 0) index--                                        // up
  if (e.keyCode == 40 && index < $items.length - 1) index++                        // down
  if (!~index) index = 0

  $items
    .eq(index)
    .focus()
}

}

  function clearMenus() {
getParent($(toggle))
  .removeClass('open')

}

  function getParent($this) {
var selector = $this.attr('data-target')
  , $parent

if (!selector) {
  selector = $this.attr('href')
  selector = selector && /#/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') //strip for ie7
}

$parent = $(selector)
$parent.length || ($parent = $this.parent())

return $parent

 }

  $.fn.dropdown = function (option) {
return this.each(function () {
  var $this = $(this)
    , data = $this.data('dropdown')
  if (!data) $this.data('dropdown', (data = new Dropdown(this)))
  if (typeof option == 'string') data[option].call($this)
})
  }

  $.fn.dropdown.Constructor = Dropdown

  $(function () {
$('html')
  .on('click.dropdown.data-api touchstart.dropdown.data-api', clearMenus)
$('body')
  .on('click.dropdown touchstart.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
  .on('click.dropdown.data-api touchstart.dropdown.data-api'  , toggle, Dropdown.prototype.toggle)
  .on('keydown.dropdown.data-api touchstart.dropdown.data-api', toggle + ', [role=menu]' , Dropdown.prototype.keydown)
  })

}(window.jQuery); 
```

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2012-10-19T08:48:40.037

**用于引导模态**

尝试`$('#myModal').modal('hide')`

**对于引导弹出框**

我刚刚看到您在谈论[引导下拉菜单](http://twitter.github.com/bootstrap/javascript.html#dropdowns)而不是引导模式：

在这种情况下，您的方法还不错，只需删除父元素的开放类即可。在上面链接的示例中，第一个下拉元素的 id 为“drop3”，因此要以编程方式关闭它，您可以执行以下操作：

```
$('#drop3').parent().removeClass("open"); 
```

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2013-11-26T05:10:11.853

要关闭引导[**模式**](http://getbootstrap.com/javascript/#modals)，您可以使用**“隐藏”**作为模式方法的选项，如下所示

```
 $('#modal').modal('hide'); 
```

请在**[此处查看工作小提琴](http://jsfiddle.net/subodhghulaxe/MGbXk/)**

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-09-13T11:33:52.700

顺便说一句；您还可以触发关闭按钮单击模态`close`按钮，如下所示：

```
$('.close').click(); 
```

**更新**

上面的方法可能有点hacky，所以你最好使用默认的Bootstrap modal 方法

```
$('#modal-id').modal('hide'); 
```

# .net - 日期格式的正则表达式

> ID：12970208
> 
> 赞同：-3
> 
> 时间：2012-10-19T08:25:03.690
> 
> 标签：.net, regex, jquery-validate

任何人都可以帮助我进行正则表达式验证。

我提出了可以输入日期的要求

```
mm/dd/yyyy
mm/dd/yy
m/d/yyyy
m/d/yy 
```

我的正则表达式应该支持所有四种可能性。

请帮我解决一下这个。

提前致谢。

是的，它必须检查有效日期。

这是我的代码，它在通过正则表达式验证后检查有效日期。

```
$.validator.addMethod("ValidDate", function(value,element) {
            var result = true;
            if($('#'+element.id).val() != "")
            {  
               var reg = new RegExp("regexcode");
               if (!reg.test($('#'+element.id).val())) 
               {
                result = false;
               }
            }   
            if(result == true)
            {
             $("#"+element.id).datepicker("option", 'mm/dd/yy', $("#"+element.id).val());}
            return result;
            },"Please enter valid date."); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:29:28.113

```
/(0?[1-9]|1[0-2])\/(0?[1-9]|[12]\d|3[01])\/([12]\d{3}|\d\d)/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:06:54.280

您可以使用 ajax 的 MaskValidator 来验证日期，它非常易于使用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:54:50.010

我最近需要一个正则表达式，它只正确匹配有效的美式 m/d/y 日期。我构建了一个类似于下面的正则表达式，它正确匹配了从 1900 年到 2099 年的所有日期，包括所有闰年。我不需要提取匹配项，所以这个正则表达式不能用于从日期中提取数字。

请注意，此正则表达式非常令人发指，使用它可能会损害您的声誉。还要提防错误。我从记忆中重建了下面的内容。

```
/^((((0?[13578]|1[02])\/([012]?[1-9]|[12]0|3[01])|(0?[469]|11)\/([012]?[1-9]|[123]0)|0?2\/(0?[1-9]|1[0-9]|2[0-8]))\/(19|20)?[0-9]{2})|((0?2\/29\/((19|20)?(0[48]|[2468][048]|[13579][26])|1900))))$/ 
```

我邀请其他人改进它，因为我知道它有缺点。

但是，我要指出，如果您正在考虑使用此正则表达式，您应该认真考虑尝试解析日期。大多数浏览器都提供了 Date 对象的扩展，它可以解析日期并在字符串不代表正确日期时抛出异常。它还将处理比这更多类型的日期格式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:30:30.453

尝试这个：

```
/[0-9]{1,2}[/][0-9]{1,2}[/][0-9]{1,4}/ 
```

这使正则表达式简单且易于修改。然后，您可以分别验证为日、月和年输入的值（例如，年是否在 1900 和 2099 之间等）。

# dom - 获取用户输入的字符

> ID：12970215
> 
> 赞同：3
> 
> 时间：2012-10-19T08:25:43.607
> 
> 标签：dom, dart, user-input, dom-events, keyboard-events

我想处理用户为游戏输入的字符（我不想使用带有提交按钮的输入标签）。

我设法获得了使用此代码键入的 keyCode：

```
window.on.keyPress.add((Event e) 
{
    window.alert('${e.keyCode},${e.keyIdentifier},${e.charCode}');

}); 
```

但我不知道如何显示按下的键的字符（甚至将键的字符作为字符串获取）。在 Javascript 中有一个`fromKeyCode()`函数，但在 Dart 中没有。

无论如何，我正在寻找最简单的方法来获取键盘输入以进行处理，我宁愿不必摆弄键码等。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-27T10:12:23.377

`String.fromCharCodes()`离开了

```
import 'dart:convert';

String result = UTF8.decode([e.charCode]); // or [e.keyCode] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T14:42:31.760

[您可以使用String.fromCharCodes()](http://api.dartlang.org/docs/continuous/dart_core/String.html#String.fromCharCodes "String.fromCharCodes()")从字符代码构造一个新字符串。

```
var str = new String.fromCharCodes([e.charCode]); 
```

但是，根据您的游戏，每次用户点击一个键时创建一个新字符串肯定不是最有效的。如果您只希望命中几个特定字符而忽略其他字符，那么您可能需要创建字符代码的常量/最终变量来比较事件中的字符代码。

```
final E_KEY = "e".charCodeAt(0);
// ... etc. 
```

请记住，这些不考虑各种情况，例如大写，或按下 CTRL 或 ALT 或元键等。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-04-16T01:29:46.637

[String.fromCharCodes](https://api.dartlang.org/apidocs/channels/be/dartdoc-viewer/dart:core.String#id_String-fromCharCodes)似乎适用于最近的 Dart SDK。

刚刚用 v1.9.1_r44672 确认：

```
String result = new String.fromCharCodes([event.charCode]); 
```

如果只需要将一个字符转换为对应的String表示，可以使用[String.fromCharCode（单数）代替。](https://api.dartlang.org/apidocs/channels/be/dartdoc-viewer/dart:core.String#id_String-fromCharCode)

# java - svnkit：如何以字符串形式以编程方式获取“svn status”的确切结果？

> ID：12970223
> 
> 赞同：1
> 
> 时间：2012-10-19T08:25:59.667
> 
> 标签：java, svn, svnkit

我只发现[如何使用 svnkit 列出本地修改/未版本控制的文件？](https://stackoverflow.com/questions/11851584/how-to-list-locally-modified-unversioned-files-using-svnkit)这需要实现复杂的逻辑才能在`svn status`存储库的根目录上获得准确的输出。

由于 svnkit 还提供了一个命令行工具`jsvn`，该工具在`svnkit-cli`我找到了我想在`org.tmatesoft.svn.cli.svn.SVNStatusCommand.run()`.

但我无法让它工作，也找不到 jsvn 的确切方式。我会调试jsvn，但无法设置gradle build，很可能是因为我们的windows ntlm http代理在这里......

到目前为止我已经尝试过：

```
StringBuffer result = new StringBuffer();
SVNStatusCommand svnStatusCall = new SVNStatusCommand();
File statusResult = new File(System.getProperty("java.io.tmpdir") + File.separator + System.currentTimeMillis() + "svnStatusCalls");
PrintStream stream = new PrintStream(statusResult);
SVNCommandEnvironment env = new SVNCommandEnvironment("mySvn", stream, stream, null);
env.getTargets().add("/home/user/svnroot");
svnStatusCall.init(env);
svnStatusCall.run();
stream.flush();
Scanner scanner = new Scanner(statusResult);
while (scanner.hasNextLine()) {
    result.append(scanner.nextLine());
}
scanner.close(); 
```

这失败是因为 SVNCommandEnvironment 的 myTargets 尚未初始化，即为空。目的是获取字符串中的输出。我不喜欢文件系统中的 PrintStream 和额外文件，但没有看到不同的方式。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:05:19.827

```
AbstractSVNCommand.registerCommand(new SVNStatusCommand());

final ByteArrayOutputStream bos = new ByteArrayOutputStream();
final PrintStream stream = new PrintStream(bos);

final SVNCommandLine commandLine = new SVNCommandLine();
commandLine.init(new String[] {"status", "d:/svntest/small.svn17"});

final SVNCommandEnvironment env = new SVNCommandEnvironment("mySvn", stream, stream, System.in);
env.init(commandLine);
env.initClientManager();

final SVNStatusCommand svnStatusCall = new SVNStatusCommand();
svnStatusCall.init(env);
svnStatusCall.run();
stream.flush();
System.out.println(new String(bos.toByteArray())); 
```

# jquery - 如何在特定位置的 html4/css2 网页中添加 jquery 滑块。

> ID：12970224
> 
> 赞同：0
> 
> 时间：2012-10-19T08:26:10.507
> 
> 标签：jquery, html, css

朋友们 我用 HTML4/CSS2 创建了一个网站。现在我想添加一个 jquery 图像滑块。但是，我没有使用 jquery。我已经下载了一些免费的 jquery 滑块。但是，问题是我无法将它们设置在特定的地方。我正在修复中。请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:49:49.203

首先阅读如何使用滑块插件。

对于任何插件，您需要下载带有支持的 JS、CSS、图像文件的插件包，然后

```
1\. Include required site CSS file and plugin CSS file

2\. Include jQuery file

3\. Include dependency files for the plugin if needed 
   (some plugin require jqueryui, mousewheel,etc)

4\. Write the HTML content code as instructed in plugin document for your requirement. 
   (something like <div class='my-slider'><ul><li>item1 </li></div> etc)

5\. Configure the HTML content with jQuery plugin. This happens usually at document.ready event.Like

$(document).ready(function(){

 $('.my-slider').pluginfunction(); // .slider();
}); 
```

# javascript - 如何使用选项卡创建信息窗口

> ID：12970227
> 
> 赞同：-1
> 
> 时间：2012-10-19T08:26:21.490
> 
> 标签：javascript, google-maps

我需要在 infowindow 中创建一个表格以显示第一个信息和第二个信息显示照片库，以及如何在事件中展开表 2 中的照片（鼠标悬停）

这是我的代码

```
var marker = new google.maps.Marker({
    map: map,
    position: new google.maps.LatLng(-8.759264,-63.906463),      
    icon:  predio
});

var contentimage =
    '<div style="width:470px;height:220px;margin:auto;float:left;"   /div>' +
    '<div>' + 
        '<img src="images/Sem título-2.png" width="440" height="190" />' + 
        '<a href="http://www.google.com.br" target="_blank">www.seusite.com.br/galeriadefotos</a>' + 
    '</div>';

var infowindow = new google.maps.InfoWindow({content: contentimage});

google.maps.event.addListener(marker, 'click', function() {
    infowindow.open(map,marker);
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:45:08.607

infoWindow 的内容与其他任何节点一样都是 DOM 节点，例如：

```
var content = '<table><tr><td>1.1</td><td>1.2</td></tr><tr><td>2.1</td><td>2.2</td></tr></table>';
infoWindow.setContent(content);
infoWindow.open(map,marker); 
```

# scala - Scalatest 'DoubleTolerance' 中的错误？

> ID：12970246
> 
> 赞同：5
> 
> 时间：2012-10-19T08:28:20.373
> 
> 标签：scala, scalatest

我遇到了失败的测试，在我所有的理解中应该通过。我在这里遗漏了一些明显的东西吗？

```
import org.scalatest._

class xxxTests extends FlatSpec with ShouldMatchers {
  import math.{Pi => PI}

  "" should "(this should pass)" in {
    assert( 0.0 === 0.0 )  // ok

    (1e-100) should equal ((0.0) plusOrMinus 1e-5)    // FAILS!!!  "1.0E-100 did not equal DoubleTolerance(0.0,1.0E-5)"
    (1e-3) should not equal ((0.0) plusOrMinus 1e-5)    // ok
    (0.0) should equal ((0.0) plusOrMinus 1e-5)    // FAILS!!!  "0.0 did not equal DoubleTolerance(0.0,1.0E-5)"
  }
} 
```

我在 Scalatest 1.8 和 2.0M4 都经历过这种情况。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-19T08:35:36.403

问题：必须使用`be`，而不是`equal`。

离开这里是我愚蠢的表现（嗯，注意力不集中）。

[https://groups.google.com/forum/?fromgroups=#!msg/scalatest-users/pb54GzOej6I/C9714h_OW_UJ](https://groups.google.com/forum/?fromgroups=#!msg/scalatest-users/pb54GzOej6I/C9714h_OW_UJ)

> 您必须使用 plusOrMinus 和“be”而不是“equal”。"equal" 总是通过在一个对象上调用 == 来比较相等性，并传入另一个对象。“be”根据传递的对象做不同的事情。所以试试：
> 
> 0.5 必须是（0.5 加或减 0.1）

# iphone - facebook sdk：权限“read_stream”

> ID：12970247
> 
> 赞同：1
> 
> 时间：2012-10-19T08:28:22.030
> 
> 标签：iphone, facebook-graph-api, facebook-javascript-sdk

我正在使用 Facbook sdk 并想从用户朋友墙上获取一些数据。我需要添加哪些权限？

我尝试了`read_stream`许可，但这还不够。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:40:15.953

您可以在以下链接中找到所有权限

[用户朋友权限](http://developers.facebook.com/docs/reference/login/user-friend-permissions/)

# android - android：向左或向右滑动以滑动视图

> ID：12970249
> 
> 赞同：5
> 
> 时间：2012-10-19T08:28:28.403
> 
> 标签：android, slide, gesture-recognition

我有一个列表视图。单击项目时，将打开该项目的详细视图。此布局有许多小部件，如文本视图`ImageView Buttons`等。现在我想滑动项目的详细视图以显示列表中下一个项目的详细视图。同样从左到右的上一个项目。

我无法实现视图滑动我已经完成了如何获取列表中的上一个/下一个项目。但实际的滑动是问题

我在[Android 中尝试过手势检测器：从左向右滑动和从右向左滑动](https://stackoverflow.com/questions/7198587/android-swipe-left-to-right-and-right-to-left)

和其他一些例子。但是当我尝试滑动时，没有任何效果。我根本看不到任何视觉滑动。

如何解决这个问题？

尝试了这段代码，但仍然没有发生幻灯片

```
 public class ProductActivity extends Activity implements OnGestureListener {

     @
     Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.product_details);
         setContent();
     }

     private void setContent() {
         Bundle extras = getIntent().getExtras();
         TextView title = (TextView) findViewById(R.id.title);
         title.setText(extras.getString("Title"));
         TextView desc = (TextView) findViewById(R.id.desc);
         desc.setText(extras.getString("Desc"));
         Button buy = (Button) findViewById(R.id.buy);
         String priceTag = ("$" + String.format("%.2g", extras.getDouble("Price")) + "  Buy Now >>");
         buy.setText(priceTag);
         ImageView image = (ImageView) findViewById(R.id.productimage);
         Utils.imageLoader.DisplayImage(extras.getString("Image"), image);

     }

     private static final int SWIPE_MIN_DISTANCE = 6; // 120;
     private static final int SWIPE_MAX_OFF_PATH = 125; // 250;
     private static final int SWIPE_THRESHOLD_VELOCITY = 100; // 200;
     private GestureDetector gestureScanner;

     @
     Override
     public boolean onTouchEvent(MotionEvent me) {
         return gestureScanner.onTouchEvent(me);
     }

     // @Override
     public boolean onDown(MotionEvent e) {
         // viewA.setText("-" + "DOWN" + "-");
         return true;
     }

     // @Override
     public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
         float velocityY) {
         try {
             if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                 return false;
             // right to left swipe
             if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                 Toast.makeText(getApplicationContext(), "Left Swipe",
                     Toast.LENGTH_SHORT).show();

             } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                 Toast.makeText(getApplicationContext(), "Right Swipe",
                     Toast.LENGTH_SHORT).show();

             } else if (e1.getY() - e2.getY() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                 Toast.makeText(getApplicationContext(), "Swipe up",
                     Toast.LENGTH_SHORT).show();

             } else if (e2.getY() - e1.getY() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                 Toast.makeText(getApplicationContext(), "Swipe down",
                     Toast.LENGTH_SHORT).show();

             }
         } catch (Exception e) {
             // nothing
         }

         return true;
     }

     @
     Override
     public void onLongPress(MotionEvent e) {
         Toast mToast = Toast.makeText(getApplicationContext(), "Long Press",
             Toast.LENGTH_SHORT);
         mToast.show();
     }

     // @Override
     public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX,
         float distanceY) {
         // viewA.setText("-" + "SCROLL" + "-");
         return true;
     }

     // @Override
     public void onShowPress(MotionEvent e) {
         // viewA.setText("-" + "SHOW PRESS" + "-");
     } // @Override

     public boolean onSingleTapUp(MotionEvent e) {
         Toast mToast = Toast.makeText(getApplicationContext(), "Single Tap",
             Toast.LENGTH_SHORT);
         mToast.show();
         return true;
     }

 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T01:01:13.090

我认为一个新的答案会是一个好主意，因为旧的答案是如此不同。

我将从一些背景知识开始：这里的想法是使用水平滚动视图以一种漂亮的方式移动到下一组控件。所以当用户停止向左或向右滚动滚动视图时，我们要改变图片和文字，然后将滚动移回中间，为下一次滑动做准备。有人已经回答了如何在滚动视图停止时进行监听我已经包含了一个几乎可以使用的示例，说明您如何使用它来获得您正在寻找的效果。

我希望这对您有所帮助，并随时询问您是否还有问题。

```
 @Override
 protected void onScrollChanged(int x, int y, int oldX, int oldY) {
     if (Math.abs(y - oldY) > SlowDownThreshold) {
         currentlyScrolling = true;
     } else {
         currentlyScrolling = false;
         if (!currentlyTouching) {
             //scrolling stopped...handle here
             //Check if it was a left or right swipe by comparing the new and old scroll locations
             if (y > oldY) {
                 //Scroll moved Right
                 //So we would do something like 
                 setContents(Index + 1);
                 //We find out where the middle of the scroll is
                 int middleHScroll = (Hscrollview.getMeasuredWidth() / 2) - (Hscrollview.getMeasuredWidth() / 2)
                 //We then return the scroll view to the middle
                 HScroll.scrollTo(middleHScroll);
             } else {
                 //Scroll moved Left
                 //We get set the pictures and text to the previous Index of the contents
                 setContents(Index - 1);
                 //We find out where the middle of the scroll is
                 int middleHScroll = (Hscrollview.getMeasuredWidth() / 2) - (Hscrollview.getMeasuredWidth() / 2)
                 //We then return the scroll view to the middle
                 HScroll.scrollTo(middleHScroll);
             }
             super.onScrollChanged(x, y, oldX, oldY);
         }
     }
 } 
```

xml 应该是这样的。要让这项工作发挥作用还有很多工作要做，但我希望这能让你朝着正确的方向前进。

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <TextView
            android:id="@+id/textview1"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/title_bar"
            android:gravity="center_horizontal"
            android:text="PRODUCTS >> PRODUCT DETAILS" />

        <RelativeLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >

            <RelativeLayout
                android:id="@+id/RelativeLayout1"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:orientation="vertical"
                android:weightSum="2" >

                <HorizontalScrollView
                    xmlns:android="http://schemas.android.com/apk/res/android"
                    android:id="@+id/HorizontalScrollView1"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentLeft="true"
                    android:layout_alignParentTop="true" >

                    <LinearLayout
                        xmlns:android="http://schemas.android.com/apk/res/android"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginRight="70dp"
                        android:orientation="horizontal" >

                        <ImageView
                            android:id="@+id/productimage3"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginLeft="70dp"
                            android:layout_marginRight="20dp"
                            android:layout_weight="1"
                            android:background="@drawable/product_detail_gradient"
                            android:minHeight="100dp"
                            android:minWidth="100dp" />

                        <ImageView
                            android:id="@+id/productimage2"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginLeft="70dp"
                            android:layout_marginRight="70dp"
                            android:layout_weight="1"
                            android:background="@drawable/product_detail_gradient"
                            android:minHeight="100dp"
                            android:minWidth="100dp" />

                        <ImageView
                            android:id="@+id/productimage1"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginLeft="70dp"
                            android:layout_marginRight="70dp"
                            android:layout_weight="1"
                            android:background="@drawable/product_detail_gradient"
                            android:minHeight="100dp"
                            android:minWidth="100dp" />

                    </LinearLayout>
                </HorizontalScrollView>

                <RelativeLayout
                    android:id="@+id/description"
                    android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:layout_alignParentBottom="true"
                    android:layout_alignParentLeft="true"
                    android:layout_below="@+id/HorizontalScrollView1"
                    android:layout_weight="1"
                    android:background="@drawable/black_img_bg" >

                    <TextView
                        android:id="@+id/title"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:textSize="15dip"
                        android:textStyle="bold" >
                    </TextView>

                    <TextView
                        android:id="@+id/desc"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:layout_below="@+id/title" >
                    </TextView>

                    <Button
                        android:id="@+id/addtocart"
                        android:layout_width="80dip"
                        android:layout_height="wrap_content"
                        android:layout_alignParentBottom="true"
                        android:layout_alignParentLeft="true"
                        android:background="@drawable/button_green_lhs"
                        android:gravity="left|center_vertical"
                        android:onClick="addToCartOrBuy"
                        android:text="Add To Cart"
                        android:textSize="10dip" />

                    <Button
                        android:id="@+id/buy"
                        android:layout_width="150dip"
                        android:layout_height="wrap_content"
                        android:layout_alignParentBottom="true"
                        android:layout_toRightOf="@+id/addtocart"
                        android:background="@drawable/button_orange_mid"
                        android:onClick="addToCartOrBuy"
                        android:text="Buy"
                        android:textSize="10dip" />

                    <Button
                        android:id="@+id/tellafriend"
                        android:layout_width="80dip"
                        android:layout_height="wrap_content"
                        android:layout_alignParentBottom="true"
                        android:layout_alignParentRight="true"
                        android:layout_toRightOf="@+id/buy"
                        android:background="@drawable/button_green_rhs"
                        android:gravity="right|center_vertical"
                        android:onClick="tellAFriend"
                        android:text="Tell A Friend"
                        android:textSize="10dip" />
                </RelativeLayout>
            </RelativeLayout>
        </RelativeLayout>

    </LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:53:00.390

如果我对您的理解正确，您只需要使用手势侦听器，然后调用您使用的方法来使用下一个信息实例填充您拥有的所有文本视图和图像视图。

当我学习手势识别时，我发现这个例子非常有用。

首先将手势监听器添加到您的公共类 myClass

```
import android.widget.Toast;
public class myClass extends Activity implements OnGestureListener { 
```

紧接着下面的内容，这样我们就可以监听每个触摸事件。

```
 private static final int SWIPE_MIN_DISTANCE = 6; //120;
    private static final int SWIPE_MAX_OFF_PATH = 125; //250;
    private static final int SWIPE_THRESHOLD_VELOCITY = 100; //200;
    private GestureDetector gestureScanner;@
    Override
    public boolean onTouchEvent(MotionEvent me) {
        return gestureScanner.onTouchEvent(me);
    }
    //@Override
    public boolean onDown(MotionEvent e) {
        //viewA.setText("-" + "DOWN" + "-");
        return true;
    }
    //@Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
        try {
            if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                return false;
            // right to left swipe
            if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                Toast.makeText(getApplicationContext(), "Left Swipe", Toast.LENGTH_SHORT).show();

            } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                Toast.makeText(getApplicationContext(), "Right Swipe", Toast.LENGTH_SHORT).show();

            } else if (e1.getY() - e2.getY() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                Toast.makeText(getApplicationContext(), "Swipe up", Toast.LENGTH_SHORT).show();

            } else if (e2.getY() - e1.getY() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                Toast.makeText(getApplicationContext(), "Swipe down", Toast.LENGTH_SHORT).show();

            }
        } catch (Exception e) {
            // nothing
        }

        return true;
    }@
    Override
    public void onLongPress(MotionEvent e) {
        Toast mToast = Toast.makeText(getApplicationContext(), "Long Press", Toast.LENGTH_SHORT);
        mToast.show();
    }
    //@Override
    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
        //viewA.setText("-" + "SCROLL" + "-");
        return true;
    }
    //@Override
    public void onShowPress(MotionEvent e) {
        //viewA.setText("-" + "SHOW PRESS" + "-");
    } //@Override
    public boolean onSingleTapUp(MotionEvent e) {
        Toast mToast = Toast.makeText(getApplicationContext(), "Single Tap", Toast.LENGTH_SHORT);
        mToast.show();
        return true;
    } 
```

您可以将用于调用上一个或下一个实例的方法放在吐司所在的相关侦听器中。

您可以通过更改这些变量来调整滑动的灵敏度

```
 private static final int SWIPE_MIN_DISTANCE = 6; //120;
 private static final int SWIPE_MAX_OFF_PATH = 125; //250;
 private static final int SWIPE_THRESHOLD_VELOCITY = 100; //200; 
```

我希望这会有所帮助。

编辑：

很抱歉混淆了，您的 onCreate 应该包括gestureScanner = new GestureDetector(this);

```
@Override
 protected void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.product_details);
     setContent();
     gestureScanner = new GestureDetector(this);
 } 
```

除了视觉效果之外，它应该可以正常工作。您可以尝试使用 ScrollView 来帮助幻灯片。

# python - scikit 特征重要性选择体验

> ID：12970255
> 
> 赞同：1
> 
> 时间：2012-10-19T08:28:51.633
> 
> 标签：python, classification, scikit-learn

Scikit-learn 有一种使用极端随机树对特征（分类）进行排序的机制。

```
forest = ExtraTreesClassifier(n_estimators=250,
                          compute_importances=True,
                          random_state=0) 
```

我有一个问题，如果这种方法是在做“单变量”或“多变量”特征排名。单变量案例是将各个特征相互比较的地方。我会很感激这里的一些澄清。我应该尝试摆弄其他任何参数吗？这种排名方法的任何经验和陷阱也值得赞赏。这个排名的输出识别特征编号（5,20,7。我想检查特征编号是否真的对应于特征矩阵中的行。也就是说，特征编号5对应于特征矩阵中的第六行（从 0 开始）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-02T15:51:31.120

我不是专家，但这不是单变量的。事实上，总特征重要性是根据每棵树的特征重要性计算的（取我认为的平均值）。

对于每棵树，重要性是根据[split 的杂质计算的](https://github.com/scikit-learn/scikit-learn/blob/b8bea8e73333b190546ec1b0ef0d95ed776bc411/sklearn/tree/_tree.pyx#L2228)。

我使用了这种方法，它似乎给出了很好的结果，从我的角度来看比单变量方法更好。但除了数据集的知识外，我不知道任何测试结果的技术。

要正确订购该功能，您应该遵循[此示例](http://scikit-learn.org/stable/auto_examples/ensemble/plot_forest_importances.html#example-ensemble-plot-forest-importances-py)并对其进行一些修改，以便使用`pandas.DataFrame`及其正确的列名：

```
import numpy as np

from sklearn.ensemble import ExtraTreesClassifier

X = pandas.DataFrame(...)
Y = pandas.Series(...)

# Build a forest and compute the feature importances
forest = ExtraTreesClassifier(n_estimators=250,
                              random_state=0)

forest.fit(X, y)

feature_importance = forest.feature_importances_
feature_importance = 100.0 * (feature_importance / feature_importance.max())
sorted_idx = np.argsort(feature_importance)[::-1]
print "Feature importance:"
i=1
for f,w in zip(X.columns[sorted_idx], feature_importance[sorted_idx]):
    print "%d) %s : %d" % (i, f, w)
    i+=1
pos = np.arange(sorted_idx.shape[0]) + .5
plt.subplot(1, 2, 2)
nb_to_display = 30
plt.barh(pos[:nb_to_display], feature_importance[sorted_idx][:nb_to_display], align='center')
plt.yticks(pos[:nb_to_display], X.columns[sorted_idx][:nb_to_display])
plt.xlabel('Relative Importance')
plt.title('Variable Importance')
plt.show() 
```

# entity-framework-4 - ChangeTracker.Entries 不返回具有 T 类型实体的条目

> ID：12970257
> 
> 赞同：0
> 
> 时间：2012-10-19T08:29:08.313
> 
> 标签：entity-framework-4, change-tracking

在 SaveChanges() 中使用 EF 4.3.1，我试图获取实现特定接口的实体的所有条目的列表。我的实体实现了多个接口，其中一个是 IAuditable。以下不返回任何条目，即使具有 IAuditable 类型的实体的条目确实存在。

```
 var auditableEntities =
                ChangeTracker.Entries<IAuditable>().Where(
                    e => e.State == EntityState.Modified | e.State == EntityState.Added); 
```

# windows-phone-7 - Windows 手机应用程序栏

> ID：12970261
> 
> 赞同：-1
> 
> 时间：2012-10-19T08:29:10.537
> 
> 标签：windows-phone-7, appbar

我为我的应用程序栏添加了四个黄色图标。当主题设置为深色时，一切正常，但是当我将其设置为浅色时，黄色变成黑色有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:41:25.840

这是默认行为。如果 AppBar 背景颜色太浅，图标会反转。

# objective-c - 你如何一个接一个地显示图像

> ID：12970263
> 
> 赞同：0
> 
> 时间：2012-10-19T08:29:11.907
> 
> 标签：objective-c

我目前正在遍历一个列表，并根据我想显示两个图像之一的元素的条件。这工作正常，但我如何在显示图像之间暂停。我试过使用：

```
for(
   ...
   [myView addSubview:myImage]
   sleep(1)
   ...
) 
```

每次检查之后，但由于某种原因，这会在显示任何图像之前等待函数结束。

有谁知道这是什么原因以及如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:07:16.973

```
NSArray *imageArray = [NSArray arrayWithObjects:image1, image2, imageN, nil];
UIImageView *imageView = [[UIImageView alloc] init];
imageView.animationImages = imageArray;
imageView.animationDuration = [imageArray count]*3;
imageView.animationRepeatCount = 0;
[imageView startAnimating]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:40:44.030

您可以创建一个函数来显示使用“延迟后执行”的图像：

```
-(void)displayImage {
    [...get the image...]

    [myView addSubview:myImage];

    [self performSelector:@selector(displayImage) withObject:nil afterDelay:1.0];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:40:01.030

您不能`sleep()`在此处使用，因为它会阻塞更新您 UI 的线程。

你可以做的是调用一个不同的方法来设置第二个图像：

```
for(
   ...
   [myView addSubview:myImage]
   // schedule the method.
   [myView performSelector:@selector(addSubview:) withObject:mySecondImage afterDelay:1.0f];
   ...
) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:40:03.240

您可以将元素的 alpha/visibility 设置为 0.0f/hidden 并使用具有延迟的动画块来显示视图。通过将持续时间设置为大于 0 的值，在此过程中获得精美的动画；-)

```
[UIView animateWithDuration: 0.0
                      delay: 1.0
                    options: UIViewAnimationCurveEaseOut
                 animations: ^{
                         myView.alpha = 1.0f;
                     }
                 completion:^(BOOL finished){}]; 
```

# mysql - SQL - where 子句中的未知列

> ID：12970268
> 
> 赞同：2
> 
> 时间：2012-10-19T08:29:30.223
> 
> 标签：mysql, sql, subquery

我很陌生`SQL`，我一生都无法弄清楚为什么我不能做我在这里尝试的事情。我正在尝试在一次旅行中获得最少数量的免费座位，并按包裹 ID 对它们进行分组。

第一个子查询有效，但第二个是我无法弄清楚的。它说

*'where 子句' 中的未知列 SuperPaket*。

```
select Paket.PaketID as "SuperPaket", Beskrivning, Resa.AvgångStad, Resa.AvgångTid, Resa.AvgångDatum,

    (select AnkomstTid from Resa where Resa.ResID in 
        (select ResID from PaketResa where PaketResa.PaketID = SuperPaket and Ordningsnr =
            (select max(Ordningsnr) from PaketResa where PaketResa.PaketID = SuperPaket))) "AnkomstTid",

        (select min(LedigaPlatser) from
            (select sum(AntalPlatser - Count) "LedigaPlatser", ResID from(
                select Bokning.ResID, AntalPlatser, sum(Bokning.AntalBiljetter) as Count from 
                    (Resa inner join Bokning on Resa.ResID = Bokning.ResID) where Bokning.ResID in
                        (select PaketResa.ResID from PaketResa where PaketResa.PaketID = SuperPaket)
                group by Bokning.ResID order by Count desc)
            as CountTable group by ResID) 
        as T) "LedigaPlatser"

    from ((Paket inner join PaketResa on Paket.PaketID = PaketResa.PaketID) inner join Resa on PaketResa.ResID = Resa.ResID) group by Paket.PaketID; 
```

为什么这对第一个子查询有效，而对第二个子查询无效？

* * *

更新.. 当我在 from 子句中放置“子子查询”时，似乎出现了错误。我不知道如何重写有问题的查询来解决这个问题，我真的很感激一些帮助。谢谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:29:46.910

我认为您不能在and的子句中使用**列别名**`where``mysql``oracle`

[来自 mysql 文档](http://dev.mysql.com/doc/refman/5.0/en/problems-with-alias.html)

> 标准 SQL 不允许在 WHERE 子句中引用列别名。施加此限制是因为在评估 WHERE 子句时，可能尚未确定列值。
> 
> 您可以在 GROUP BY、ORDER BY 或 HAVING 子句中使用别名来引用列：

我不知道`sql server`

**补充：** 您的子查询可能没有得到`Paket.PaketId`。尝试`from`通过添加修改大多数外部查询的子句

```
(select Paket.PaketID as "SuperPaket" from Paket) 
```

如下

```
from (
      (Paket inner join PaketResa on Paket.PaketID = PaketResa.PaketID)   
inner join Resa on PaketResa.ResID = Resa.ResID),
      (select Paket.PaketID as "SuperPaket" from Paket)
group by Paket.PaketID; 
```

也从第一个删除别名，`select`然后说`select SuperPaket`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-19T08:39:17.447

您的专栏是 Paket.PaketID 而不是“SuperPaket”，所以无论您使用 superpaket 的地方都使用 Paket.PaketID

```
select Paket.PaketID as "SuperPaket", Beskrivning, Resa.AvgångStad, 
        Resa.AvgångTid, Resa.AvgångDatum,

(select AnkomstTid from Resa where Resa.ResID in 
    (select ResID from PaketResa where PaketResa.PaketID = Paket.PaketID and Ordningsnr =
        (select max(Ordningsnr) from PaketResa where PaketResa.PaketID = Paket.PaketID))) "AnkomstTid",

    (select min(LedigaPlatser) from
        (select sum(AntalPlatser - Count) "LedigaPlatser", ResID from(
            select Bokning.ResID, AntalPlatser, sum(Bokning.AntalBiljetter) as Count from 
                (Resa inner join Bokning on Resa.ResID = Bokning.ResID) where Bokning.ResID in
                    (select PaketResa.ResID from PaketResa where PaketResa.PaketID = Paket.PaketID)
            group by Bokning.ResID order by Count desc)
        as CountTable group by ResID) 
    as T) "LedigaPlatser"

from ((Paket inner join PaketResa on Paket.PaketID = PaketResa.PaketID) inner join Resa on PaketResa.ResID = Resa.ResID) group by Paket.PaketID; 
```

# vba - 通过VB替换Word中的字符串。仅适用于第一个字符串

> ID：12970272
> 
> 赞同：1
> 
> 时间：2012-10-19T08:29:57.913
> 
> 标签：vba, ms-word

我正在尝试使用 Visual Basic、Visual Studio 2012 替换 Word .doc 文件中的字符串。此代码适用于包含`<<FileNumber>>`. 让它为其余部分工作的诀窍是什么？谢谢。

```
 Dim oWord As Word.Application
    Dim oDoc As Word.Document

    oWord = CreateObject("Word.Application")

    oWord.Documents.Open(FileName:=System.AppDomain.CurrentDomain.BaseDirectory + "\" + txtReportFolder.Text + "\" + txtReportNumber.Text + "\Form A.doc")
    oWord.Documents("Form A.doc").Activate()
    oDoc = oWord.ActiveDocument
    Dim oRange = oDoc.Content
    oRange.Find.Execute(FindText:="<<FileNumber>>", ReplaceWith:=txtReportNumber.Text)
    oRange.Find.Execute(FindText:="<<OCode1>>", ReplaceWith:="488")
    oRange.Find.Execute(FindText:="<<Text>>", ReplaceWith:="Loss")
    oRange.Find.Execute(FindText:="<<EDP1>>", ReplaceWith:="16G2-M") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:06:11.437

这对我有用。在所有执行之间添加：

```
oRange = oDoc.Content 
```

然后我还会添加这些：

```
 oDoc.Save()
    oWord.Quit() 
```

# asp.net - 如何在多个页面上显示列表

> ID：12970280
> 
> 赞同：0
> 
> 时间：2012-10-19T08:31:34.797
> 
> 标签：asp.net, razor, asp.net-mvc-4

我正在使用带有 Razor 的 Asp.NET MVC4。

我想在几个页面上显示项目/条目列表（来自数据库），用户可以导航到下一页或特定页面，每个页面显示例如 30 个条目。它应该类似于 stackoverflow 中问题的结构方式，底部有这个小页面导航器。我该怎么做？我猜想已经存在一个示例，但我没有找到任何示例。现在，我使用索引视图中的部分视图在一页上显示我的所有项目：

```
@foreach (var item in Model) {
    @Html.Partial("_ItemInList",item) 
```

我可能只能显示前 30 个项目，但我如何存储我在哪个页面上并制作链接以便用户可以导航到其他页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:34:41.253

您可以使用分页控件。有很多这样的组件。例如，您可以查看[`MvcPaging`](http://blogs.taiga.nl/martijn/2012/04/23/mvcpaging-2-0/)托管在[GitHub 上](https://github.com/martijnboland/mvcpaging)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:45:22.267

如果您正在寻找一个快速的结果，有很多现成的分页控件可用......但您最好自己滚动。您可以使用 Linq 在数据访问层中将结果集限制为给定的页面大小，并使用单页（加上总数、页码等）填充您的模型。

但是，根据您构建应用程序的方式，您可能希望将分页下推到数据库级别并限制那里的结果集大小，而不是更高的堆栈。

# c# - 从数据库中的索引列中检索索引 ID 很慢

> ID：12970281
> 
> 赞同：0
> 
> 时间：2012-10-19T08:31:46.073
> 
> 标签：c#, asp.net, .net, sql, linq

我必须从包含已定义（长）sessionId 的数据库表中选择所有行，其中 sessionId 行被索引。但它很慢，而且由于访问它的代码非常简单，我想知道问题出在哪里。下面是三层的代码：

```
var localPath = BusinessClient.Instance.Tracker.GetSpecifiedMilestonesInSessionObjects(milestonesInSession.SessionId).ToList(); 
```

* * *

```
public IQueryable<MilestonesInSession> GetSpecifiedMilestonesInSessionObjects(long sessionId)
{
    var query = from m in _milestonesInSessionRepository.GetAll()
                where m.SessionId == sessionId
                select m;

    return query;
} 
```

* * *

```
public IQueryable<Model.Tracker.MilestonesInSession> GetAll()
{
    var query = from milestoneSession in _dataContext.Repository<Linq.TrackerMilestonesInSession>()
                select new Model.Tracker.MilestonesInSession
                           {
                               MilestoneId = milestoneSession.MilestoneId,
                               CreatedDate = milestoneSession.CreatedDate,
                               SessionId = milestoneSession.SessionId,
                               ProductId = milestoneSession.ProductId,
                               TrackerId = milestoneSession.TrackerId,
                               StatusId = milestoneSession.StatusId,
                               BankId = milestoneSession.BankId
                           };
    return query;
} 
```

这里附上使用 ANTS 的表演截图：

表示层 ![在此处输入图像描述](../Images/6115abae0a8f64aa281ee476f82964a8.png)

业务层 ![在此处输入图像描述](../Images/0ce466430731048c75c6919f3767cf24.png)

数据访问层 ![在此处输入图像描述](../Images/a55a07624b79d489c0b0b9c6f5abdec8.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:40:12.627

如果您需要返回所有行，则几乎不会完全使用索引，除非索引包含所有行（这不是一个好的方法）

请记住，索引的使用也与您选择的列有关。如果您有一个带有 ID 和名称的表，并且在名称上有一个索引，并从中选择 *，则可能不会使用该索引。

选择“包括实际执行计划”选项在 SSMS 上运行查询，以查看是否正在使用索引

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:42:20.013

这里有一篇关于数据库优化的好文章，看一下。

[http://www.simple-talk.com/sql/sql-training/the-sql-server-query-optimizer/](http://www.simple-talk.com/sql/sql-training/the-sql-server-query-optimizer/)

您需要找出瓶颈是代码还是实际查询。 **Antz**只会在代码中告诉您调用的结果，但该代码需要与数据库等对话。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-19T15:39:48.277

假设这是实际的查询

```
SELECT [t0].[SessionId]
    , [t0].[MilestoneId]
    , [t0].[CreatedDate]
    , [t0].[ProductId]
    , [t0].[TrackerId]
    , [t0].[StatusId]
    , [t0].[BankId] 
FROM [dbo].[TrackerMilestonesInSessions] AS [t0] WHERE [t0].[SessionId] = @p0 
```

您不仅要提取索引 sessionId，还要提取非索引列（里程碑、createddate、productid、trackerId、statusid、bankid）。看起来实际的表是如此之大，以至于您的行查找成为一个实际的性能问题。

在这种情况下的建议：

*   运行通常的数据库管理任务：索引重建、统计信息更新
*   对表进行分区可能是一种选择
*   作为最后一个不推荐的解决方案，您可以将所有这些字段添加到索引中，这将加快选择速度，但会使插入速度变慢，并使索引膨胀。

在不了解应用程序架构和目的的情况下，我只能推荐它。

# ajax - 现在使用JQUERY，Ajax在文本框中输入的日期和日期之间的减法日期

> ID：12970283
> 
> 赞同：2
> 
> 时间：2012-10-19T08:31:48.670
> 
> 标签：ajax, jquery

我的 HTML 代码如下：

```
<script type="text/javascript">
$(document).ready(function(){
    $("#useDatePicker").mouseout(function{
        //$("#result").text() = $("#useDatePicker").text();
        alert(1);
    });
});

</script>
</head>

<body>
<form method="post" name="frm" id="myForm">
<input type="text" name="date" id="useDatePicker"/>
    <input type="text" name="result" id="result" />
</form> 
```

**我需要的：**

当用户从日期选择器中选择日期时，它将自动减去日期，结果将在`<input type="text" name="result" id="result" />`

**问题**

我对它没有概念。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:32:32.487

可能你可以使用 jquery ui 日期选择器的 onselect 选项

演示：[小提琴](http://jsfiddle.net/DTKYZ/5/)

```
 $('#useDatePicker').datepicker({
onSelect: function (date) {

    var today = new Date();

    var result = DateDiff(today, new Date(date));

    $('#result').val(result);

}

});

function DateDiff(date1, date2) {
var diff = date1 - date2;
var num_years = diff / 31536000000;
var num_months = (diff % 31536000000) / 2628000000;
var num_days = ((diff % 31536000000) % 2628000000) / 86400000;

 return Math.floor(num_years) + "years " + Math.floor(num_months) + "months " +    Math.floor(num_days) + "days";
} 
```

# javascript - moment.js 24 小时格式

> ID：12970284
> 
> 赞同：180
> 
> 时间：2012-10-19T08:31:49.787
> 
> 标签：javascript, momentjs

如何以 24 小时格式而不是 12 小时格式显示我的时间？

我正在使用 moment.js。

我很确定这些线可能与它有关。

```
 meridiem : function (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }, 
```

如何改变它？

* * *

## 回答 #1

> 赞同：489
> 
> 时间：2012-10-19T08:38:23.580

说明您的时间`HH`将为您提供 24 小时格式，`hh`并将给出 12 小时格式。

您也可以[在文档中](http://momentjs.com/docs/#/parsing/string-format/)找到它：

```
 H, HH       24 hour time
    h, or hh    12 hour time (use in conjunction with a or A) 
```

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2012-10-19T08:45:43.270

试试：`moment({ // Options here }).format('HHmm')`。那应该以 24 小时格式为您提供时间。

* * *

## 回答 #3

> 赞同：37
> 
> 时间：2017-10-12T09:58:19.183

```
moment("01:15:00 PM", "h:mm:ss A").format("HH:mm:ss")
**o/p: 13:15:00 ** 
```

它将 12 小时格式转换为 24 小时格式。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2012-10-19T08:37:59.817

使用`H`or`HH`代替`hh`. 请参阅[http://momentjs.com/docs/#/parsing/string-format/](http://momentjs.com/docs/#/parsing/string-format/)

* * *

## 回答 #5

> 赞同：11
> 
> 时间：2018-11-14T13:57:45.373

您可以使用

```
 moment("15", "hh").format('LT') 
```

像这样将时间转换为 12 小时格式`3:00 PM`

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2020-01-22T14:50:20.017

`HH`使用 24 小时格式，而`hh`用于 12 格式

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2020-03-16T06:55:41.937

使用它来获取从 00:00:00 到 23:59:59 的时间

如果您的时间使用“LT 或 LTS”有日期

```
var now = moment('23:59:59','HHmmss').format("HH:mm:ss") 
```

** [https://jsfiddle.net/a7qLhsgz/](https://jsfiddle.net/a7qLhsgz/) **

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2018-10-21T12:54:30.983

```
//Format 24H use HH:mm
let currentDate = moment().format('YYYY-MM-DD HH:mm')
console.log(currentDate)

//example of current time with defined Time zone +1
let currentDateTm = moment().utcOffset('+0100').format('YYYY-MM-DD HH:mm')
console.log(currentDateTm)
```

```
<script src="https://momentjs.com/downloads/moment.js"></script>
```

# jquery - 通过选择值获取数组中节点的 val

> ID：12970285
> 
> 赞同：0
> 
> 时间：2012-10-19T08:31:55.403
> 
> 标签：jquery

拥有这个数组

```
 var eventsDates = {
    "0" :["11-10-2012","21-10-2012","28-10-2012","25-11-2012","15-12-2012"],
    "10":["11-10-2012"],
    "11":["21-10-2012","28-10-2012"],
    "12":["25-11-2012","15-12-2012"]
  } 
```

我需要通过这样的选择将某些日期组保存在变量中

```
<select>
<option value="0">all dates</option>
<option value="10">baseball</option>
<option value="11">hokey</option>
<option value="12">basket</option>
</select> 
```

任何建议

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:36:35.700

如果您尝试通过选择值访问数组值，您可以尝试-

```
eventsDates[$("select").val()] 
```

# nginx - nginx 上的域根目录不起作用

> ID：12970287
> 
> 赞同：2
> 
> 时间：2012-10-19T08:32:03.750
> 
> 标签：nginx, ubuntu-12.04, php

mydomain.com 在 Ubuntu 服务器（中 - amazon EC2）上运行 nginx1.2、php-fpm、apc。过去 6 个月我一直在调整我的服务器，但是从前天开始出现问题。

我无法解析 www.mydomain.com 或 mydomain.com 的根目录。需要 3 分钟才能收到一个损坏的页面，页面上的所有链接都转换为本地 IP (10.xxx)。但是，任何其他 URL，www.mydomain.com/a，或 mydomain.com/a，或 www.mydomain.com/a.php 等都可以完美地解析并具有 nginx 特有的速度（我是忠实粉丝！）。甚至 www.mydomain.com/index.php 也能完美解析，基本上是相同的服务器根目录，即 www.mydomain.com。因此，似乎只有在最后没有任何 URL 的情况下才通过请求才能解决请求。

我想出了以下三种可能为什么会发生这种情况：

1.  不正确的主机设置：我可能在某些设置中传递了不正确的主机信息，即在 php-fpm.conf、php.ini 或 nginx.conf 或在主机下的 ubuntu 或 hostname.conf 等中。
2.  不正确的索引设置：我可能在 nginx.conf 或 php-fpm.conf 中传递了不正确的索引类型
3.  世事皆可能 ：（

最重要的是，如果我停止在 nginx.conf 中使用“server_name”指令，这个问题就会消失。因此，未命名的 nginx 服务器块会导致正常运行，但是当我将 server_name 指令放入 www.mydomain.com 或 mydomain.com 时，域根目录再次变得无法访问。

在过去的两天里，这一直让我发疯。无休止的谷歌搜索几乎没有帮助，因为它可能是配置错误指令。我谦卑地弯下腰，在我的电脑霸主面前！请帮忙！

# c - /dev/i2c-0 文件未找到

> ID：12970288
> 
> 赞同：0
> 
> 时间：2012-10-19T08:32:09.330
> 
> 标签：c, linux, driver

我已经通过在我的 PC 上启用 i2c 成功编译了 linux kernel3.5.4。我想从用户空间使用 i2cdevinterface。所以我在用户空间创建了一个小的 c 程序。然后我创建了`mknod /dev/i2c-0 c 89 0`

```
#include <stdio.h>
#include <linux/i2c-dev.h>
main()
{

  int fd;
  char *name="/dev/i2c-0";
  fd=open(name,O_RDWR);

} 
```

**输出：** **/dev/i2c-0 文件未找到**

在 /proc/modules 我没有找到 i2c-dev 模块。在modules.builtin文件中可以看到kernel/derives/i2c/i2c-dev.ko

我的问题是为什么我找不到 /dev/i2c-0 文件并且 /proc/modules 中没有模块。

# android - 构造增量值和减量

> ID：12970289
> 
> 赞同：0
> 
> 时间：2012-10-19T08:32:11.283
> 
> 标签：android, user-interface, android-emulator

我怎么能做图片中的gui，比如增量值和减量，首先我认为有一个在另一个顶部的三个按钮，但是，也许还有别的东西。这是它的照片 ![在此处输入图像描述](../Images/c948177b36b53b9d11296dc8c7089623.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:36:57.073

也许您正在寻找[NumberPicker](http://developer.android.com/reference/android/widget/NumberPicker.html)？

NumberPicker 是用于构建[DatePicker](http://developer.android.com/reference/android/widget/DatePicker.html)和[TimePicker](http://developer.android.com/reference/android/widget/TimePicker.html)的基本 UI 元素（+ 按钮，加上一个数字编辑器，加上一个 - 按钮） 。

# c++ - 为什么 Microsoft Visual Studio 找不到 ?

> ID：12970293
> 
> 赞同：12
> 
> 时间：2012-10-19T08:32:36.247
> 
> 标签：c++, std, stdint

> **可能重复：**
> [Visual Studio 是否支持新的 C/C++ 标准？](https://stackoverflow.com/questions/146381/visual-studio-support-for-new-c-c-standards)

请参阅以下来自[wiki](http://en.wikipedia.org/wiki/C_data_types)的文本：

C99 标准包括几个新整数类型的定义，以增强程序的可移植性[2]。已经可用的基本整数类型被认为是不够的，因为它们的实际大小是实现定义的，并且可能因不同的系统而异。新类型在硬件通常只支持几种类型并且支持因系统而异的嵌入式环境中特别有用。所有新类型都在 inttypes.h 头文件（C++ 中的 cinttypes 头文件）中定义，并且在 stdint.h 头文件（C++ 中的 cstdint 头文件）中可用。这些类型可以分为以下几类：

我的视觉工作室找不到任何这些文件：

1.  `<cstdint>`
2.  `<cinttypes>`
3.  `<stdint.h>`
4.  `<inttypes.h>`

为什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-19T08:50:59.980

**编辑**

请注意，从 Visual Studio 2013 开始，[C99 库支持](https://blogs.msdn.microsoft.com/vcblog/2013/07/19/c99-library-support-in-visual-studio-2013/)已添加到 Visual Studio。

下面的答案是我在 Visual Studio 2013 添加支持之前的旧答案：

* * *

MSVC 对 C 语言的支持很差，它们不支持 C90 以上的任何内容。Herb Sutter 已经[在他的博客中](http://herbsutter.com/2012/05/03/reader-qa-what-about-vc-and-c99/)公开声明了这一点。

`<cstdint>`从[MSVC2012 开始](http://msdn.microsoft.com/en-us/library/hh874765.aspx)支持。

有一个[msinttypes项目（从 Google Code 上的](https://github.com/chemeris/msinttypes)[原始](http://code.google.com/p/msinttypes/)仓库导出）填补了 Microsoft Visual Studio 中 stdint.h 和 inttypes.h 的缺失。

如果您没有，Boost 还提供[boost/cstdint.hpp 。](http://www.boost.org/doc/libs/1_51_0/boost/cstdint.hpp)

# asp.net-mvc - Telerik ASP.Net 图表控件如果放置在 SharePoint 模态对话框中，则无法正确呈现

> ID：12970294
> 
> 赞同：1
> 
> 时间：2012-10-19T08:32:36.930
> 
> 标签：asp.net-mvc, telerik, modal-dialog, telerik-charting

我开发了一个使用 Telerik ASP.Net Chart Control 的 Chart Webpart。当用户单击图表时，我放置了一个脚本，该脚本会打开另一个具有相同图表控件但宽度和高度更大的模态对话框。当在 Webpart 页面上添加 Chart 控件时，这非常有效。

```
function ChartClick() 
{
    var ev = arguments[0] || window.event,
    selectedChart = ev.target || ev.srcElement;
    OpenDialog(selectedChart, true);   
} 
```

但是，如果我将此 Webpart 放在弹出页面上，然后单击图表，则会打开模式对话框，但无法正确呈现图表。它看起来完全扭曲了。

有没有人解决这个问题？任何帮助都将被视为礼物！

干杯!

# c - 如何使用 select() 等待以太网接口状态更改？

> ID：12970295
> 
> 赞同：3
> 
> 时间：2012-10-19T08:32:53.777
> 
> 标签：c, linux, select, ethernet, network-interface

我的程序必须检测以太网接口何时变为`RUNNING`状态。

我可以使用以下方式轮询运行标志`ioctl()`：

```
if( ioctl( dummy_fd, SIOCGIFFLAGS, &ifr ) != -1 )
    return ifr.ifr_flags & IFF_RUNNING; 
```

但要立即获得信息，无需轮询。目前该程序`select()`用于等待其他事件。所以它可以很好地`select()`用于检测接口的状态变化。

有一种方法可以做到这一点`select`，我确实从网上读到过。但是我再也找不到那个页面了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:36:25.827

内核通过 netlink 发送有关网络接口更改的信息；see eg here for an example [http://softengcrunch.blogspot.cz/2010/12/communicating-with-kernel-via-netlink.html](http://softengcrunch.blogspot.cz/2010/12/communicating-with-kernel-via-netlink.html) A quick and dirty hack would be to do the polling after any netlink event (when select wakes在 netlink 套接字上），而不实际解析 netlink 数据包；）

# java - 比较两个日历对象

> ID：12970296
> 
> 赞同：30
> 
> 时间：2012-10-19T08:32:55.123
> 
> 标签：java, calendar, theory

我想比较两个日历对象，看看它们是否都包含相同的日期。我不在乎天以下的任何价值。

我已经实现了这一点，我想不出它应该失败的任何情况：

```
private static boolean areEqualDays(Calendar c1, Calendar c2) {
    SimpleDateFormat sdf = new SimpleDateFormat("dd-MM-yyyy");
    return (sdf.format(c1.getTime()).equals(sdf.format(c2.getTime())));
} 
```

这种方法是否正确或者我应该逐个字段比较 c1 和 c2？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-10-19T08:36:41.583

**尝试** `compareTo`

```
Calendar c1 = Calendar.getInstance();
Calendar c2 = Calendar.getInstance();
c1.compareTo(c2); 
```

**返回**：

如果参数表示的时间等于此日历表示的时间，则值为 0；如果此日历的时间早于参数表示的时间，则值小于 0；如果此日历的时间在参数表示的时间之后，则值大于 0。

**编辑**

```
import org.apache.commons.lang3.time.DateUtils; 
```

您可以使用`DateUtils.isSameDay`它来检查它是否是同一天。

```
boolean isSameDay = DateUtils.isSameDay(c1, c2); 
```

2002 年 3 月 28 日 13:45 和 2002 年 3 月 28 日 06:01 将返回 true。2002 年 3 月 28 日 13:45 和 2002 年 3 月 12 日 13:45 将返回 false。

* * *

## 回答 #2

> 赞同：22
> 
> 时间：2012-10-19T08:39:24.340

> 我已经实现了这个，我想不出它应该失败的任何情况

如果两个日历位于不同的时区，它将失败 - 它们可能代表*完全相同的毫秒*，但该时刻可能会根据时区落入不同的日子。

如果这两个日历代表不同的日历系统，它也可能会失败——即使它们代表同一个“日”，如果两个日历代表那一天的方式不同，你可能会争辩说它应该失败。

就个人而言，我*强烈*建议您使用[Joda Time](http://joda-time.sf.net)，它的`LocalDate`类型仅代表一个日期 - 这将摆脱时区问题，但*不是*日历系统问题。如果您始终可以假设您使用的是相同的日历系统，那没关系。

（此外，仅出于比较目的执行字符串操作是丑陋的 - 我只是`calendar.get(Calendar.YEAR)`直接检查等。）

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-10-19T08:41:33.983

你可以使用像[DateUtils这样的东西](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html#isSameDay(java.util.Calendar,%20java.util.Calendar))

```
public boolean isSameDay(Calendar cal1, Calendar cal2) {
    if (cal1 == null || cal2 == null)
        return false;
    return (cal1.get(Calendar.ERA) == cal2.get(Calendar.ERA)
            && cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR) 
            && cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR));
} 
```

您还可以检查是否是相同的日期时间：

```
public boolean isSameDateTime(Calendar cal1, Calendar cal2) {
    // compare if is the same ERA, YEAR, DAY, HOUR, MINUTE and SECOND
    return (cal1.get(Calendar.ERA) == cal2.get(Calendar.ERA)
           && cal1.get(Calendar.YEAR) == cal2.get(Calendar.YEAR)
           && cal1.get(Calendar.DAY_OF_YEAR) == cal2.get(Calendar.DAY_OF_YEAR)
           && cal1.get(Calendar.HOUR_OF_DAY) == cal2.get(Calendar.HOUR_OF_DAY)
           && cal1.get(Calendar.MINUTE) == cal2.get(Calendar.MINUTE)
           && cal1.get(Calendar.SECOND) == cal2.get(Calendar.SECOND));
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-10-27T22:43:24.610

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-07-03T16:05:21.083

要针对特定​​字段比较两个日期，首先使用 Calendar.set(int field, int value) 将低于该日期的所有字段设置为最小值（根据字段为 0 或 1），然后进行比较。要比较 cal1 和 cal2 之间的天数差异，您将在调用 cal1.compare(cal2) 之前将两个对象上的 MINUTE、SECOND 和 MILLISECOND 设置为 0。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-19T08:34:15.030

日历类有一个方法 compareTo。为什么不直接调用呢？

# c++ - 递归同步

> ID：12970299
> 
> 赞同：1
> 
> 时间：2012-10-19T08:33:01.827
> 
> 标签：c++, c, multithreading, winapi

在我的应用程序中，两个线程调用相同的递归函数，应该将数据输出到某个文件。我不知道如何同步这些线程以输出正确的数据。我尝试了一些带有互斥锁的变体（在代码中使用 / **** n **** / 注释），但它不起作用（输出数据来自不同的线程）。如何组织同步（我应该只使用 WinAPI 和 std）。伪代码如下：

```
HANDLE hMutex = CreateMutex(NULL,FALSE, 0);
wchar_t** HelpFunction(wchar_t const* p, int *t)
{
    do
    {
        /**** 1 ****/ //WaitForSingleObject(hMutex, INFINITE);
        wchar_t* otherP= someFunction();
        if(...)
        {
            /**** 2 ****/ //WaitForSingleObject(hMutex, INFINITE);
            //File's output should be here
            //Outputing p
            /**** 2 ****/ //ReleaseMutex(hMutex);
        }
        if(...)
        {
            HelpFunction(otherP, t);
        }
        /**** 1 ****/ //ReleaseMutex(hMutex);
    }while(...);
}
unsigned int WINAPI ThreadFunction( void* p)
{
    int t = 0;
    /**** 3 ****/ //WaitForSingleObject(hMutex, INFINITE);
    wchar_t** res = HelpFunction((wchar_t *)p, &t);
    /**** 3 ****/ //ReleaseMutex(hMutex);
    return 0;
}
void _tmain()
{
    HANDLE hThreads[2];
    hThreads[0] = (HANDLE)_beginthreadex(NULL, 0, ThreadFunction, L"param1", 0, NULL);
    hThreads[1] = (HANDLE)_beginthreadex(NULL, 0, ThreadFunction, L"param2", 0, NULL);
    WaitForMultipleObjects(2, hThreads, TRUE, INFINITE);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:35:58.003

对于 Windows API，如果它是单个进程，则最好使用关键部分。

关键部分不需要 WaitForSingleObject，只有在等待某些数据写入时才使用它，如果这将发生的话。

我猜你正在同步的是文件写入，所以每个线程一次写入一条完整的记录。（确保刷新任何缓冲区）。

你会打电话

`EnterCriticalSection`

当你到达敏感部分时

`LeaveCriticalSection`

在敏感部分的末尾。

并[在此处](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682608%28v=vs.85%29.aspx)查找更多详细信息 API。

只要您在递归时没有持有“锁”，递归在这里并不重要，即您不在关键部分代码中进行递归。当您使用所示代码进行递归时，它不会产生新线程。我不知道你是否期待它。

我实际上在您的 HelpFunction 中看不到任何文件 I/O。但是，我确实看到了您刚刚称为 t 的指针。它是两个线程的相同指针，并且它是非常量的。因此，如果两个线程都将写入该 int，您可能也需要同步它。再一次，您的代码实际上并未显示该指针的使用方式。

# python - 使用 Python 控制 Hyper-V 虚拟机

> ID：12970303
> 
> 赞同：1
> 
> 时间：2012-10-19T08:33:19.913
> 
> 标签：python, wmi, hyper-v

我正在尝试使用 Python 在 HyperV 服务器上编写控制虚拟机。我首先连接到运行 HyperV 服务器的服务器：

```
connection = wmi.connect_server(server="servername", namespace=r"root\virtualization", user=r"username", password=r"password")
wmiServerConnection = wmi.WMI(wmi=connection) 
```

这给了我`wmi`这个连接的对象。

对于停止和启动 VM，我可以简单地使用：

```
#get the wmi object representing the VM
vmSystem = wmiServerConnection.Msvm_ComputerSystem(ElementName="VmName")
#send change request to vm
vmSystem[0].RequestStateChange(3) 
```

但在启动虚拟机之前，我想应用某个快照。Msvm_VirtualSystemManagementService 类为此提供了一个方法 - `ApplyVirtualSystemSnapshot`/ `ApplyVirtualSystemSnapshotEx`-。它需要`SnapshotSettingData`作为参数，我想我可以使用`GetSummaryInformation`同一个类的方法来获得它。MSDN 说这个方法返回一个[Msvm_SummaryInformation](http://msdn.microsoft.com/en-us/library/cc160706%28v=vs.85%29.aspx)类。

我这样称呼这个函数：

```
#get the wmi class object
vmManagement = wmiServerConnection.Msvm_VirtualSystemManagementService()
snapshotInfo = vmManagement[0].GetSummaryInformation([1,107]) 
```

这应该会给我 HyperV 服务器上所有虚拟机的名称和快照信息。但我得到的只是 COM 对象列表。

当我尝试将某个 VM 作为参数从

```
vmSettings = wmiServerConnection.Msvm_VirtualSystemSettingData(ElementName="VmName") 
```

像这样

```
snapshotInfo = vmManagement[0].GetSummaryInformation([1,107], [vmSettings[0]]) 
```

它崩溃了。

我的问题：

1.  为什么我没有获得 WMI 对象？

2.  第二个参数显然是错误的。MSDN 说它需要`CIM_VirtualSystemSettingData REF SettingData[]`作为参数。WMI 对象是错误的吗？如何获得正确的参数？

3.  如何从 COM 对象中检索我需要的信息？

还是我完全走错了路？

谢谢，斯蒂芬妮

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-31T15:13:24.873

所以，我终于找到了解决方案。这比我想象的要容易得多，但无论如何：

1.连接到您的服务器并获取 WMI 对象：

```
connection = wmi.connect_server(server=serverName, namespace=r"root\virtualization", user=username, password=password)
wmiServerConnection = wmi.WMI(wmi=connection) 
```

2.获取系统对象和管理服务对象：

```
#get object representing VM
vmSystem = wmiServerConnection.Msvm_ComputerSystem(ElementName=VmName)
#get object responsible for VM
vmManagement = wmiServerConnection.Msvm_VirtualSystemManagementService() 
```

3.获取与VM关联的对象：

```
#get objects the VM contains
    vmObjects = vmSystem[0].associators(wmi_result_class="Msvm_VirtualSystemSettingData ") 
```

4.应用你想要的快照：

```
for singleVmObject in vmObjects:    
    if(singleVmObject.SettingType == 5 and singleVmObject.ElementName == snapshotName):
        retVal = vmManagement[0].ApplyVirtualSystemSnapshotEx(vmSystem[0].path(), singleVmObject.path()) 
```

可以在此处找到更多文档：

[http://timgolden.me.uk/python/wmi/wmi.html](http://timgolden.me.uk/python/wmi/wmi.html)

[http://msdn.microsoft.com/en-us/library/cc136986(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/cc136986(v=vs.85).aspx)

# wpf - 将 DataTemplate 中的图像绑定到 System.Drawing.Image

> ID：12970304
> 
> 赞同：1
> 
> 时间：2012-10-19T08:33:23.063
> 
> 标签：wpf, image, binding

我正在尝试将 DataTemplate 中的 Image.Source 绑定到 System.Drawing.Image，如下所述：[使用 XAML 将 System.Drawing.Image 绑定到 System.Windows.Image 控件](https://stackoverflow.com/questions/3427034/using-xaml-to-bind-to-a-system-drawing-image-into-a-system-windows-image-control)

```
<UserControl.Resources>
    <media:ImageConverter x:Key="imageConverter" />
    <DataTemplate DataType="{x:Type data:GameTile}" >
        <StackPanel Orientation="Vertical" Margin="5" Background="Transparent">
            <Viewbox>
                <TextBlock FontWeight="Bold" Text="{Binding PointValue}" TextAlignment="Center" FontSize="14" />
            </Viewbox>
            <Image Margin="0,5,0,0" Source="{Binding Path=Image.Image, Converter={StaticResource imageConverter}}" />
        </StackPanel>
    </DataTemplate>
</UserControl.Resources>
    <Grid>
        <loop:ListBox x:Name="listBox1" 
                         ItemsSource="{Binding Path=GameModel.Game.GameTiles}"
                         ItemContainerStyle="{StaticResource GameTileContainerStyle}" Orientation="Vertical" />
    </Grid> 
```

GameTile 对象具有指向具有 System.Drawing.Image 类型的 Image 属性的 Picture 对象的 Image（不是 system.drawing.image）属性。我将 ListBox 上的 ItemsSource 绑定到 Game 对象上的 GameTiles 集合。

**对象**

```
public class Game
{
    public XPCollection<GameTile> GameTiles
    {
        get { return GetCollection<GameTile>("GameTiles"); }
    }
}

public class GameTiles
{
    Picture fImage;
    public Picture Image
    {
        get { return fImage; }
        set { SetPropertyValue<Picture>("Image", ref fImage, value); }
    }
}

public class Picture
{

    private FileData fFile;
    public FileData File
    {
        get { return fFile; }
        set
        {
            SetPropertyValue("File", ref fFile, value);
            if (string.IsNullOrEmpty(fName))
            {
                fName = (value == null ? string.Empty : value.FileName);
            }
            fImage = null;
        }
    }

    Image fImage;
    public System.Drawing.Image Image
    {
        get 
        {
            if (fImage == null)
            {
                try
                {
                    MemoryStream stream = new MemoryStream();
                    fFile.SaveToStream(stream);
                    stream.Position = 0;
                    fImage = Image.FromStream(stream);
                }
                catch 
                { 
                    //TODO: log exception
                }
            }
            return fImage;
        }
        //set { SetPropertyValue<Image>("Image", ref fImage, value); }
    }
} 
```

图像未显示在 ListBoxItems 中，但我在 DataTemplate 中绑定的任何其他属性都会显示。值得注意的是，我使用 Devexpress Xpo 作为 ORM。上面表示的类也实现了 INotifyPropertyChanged。关于我可能遗漏的任何想法？

编辑：忘了提到我已经实现了一个价值转换器，正如我在上面链接的帖子中提到的那样。但是，如果我在转换器方法中放置一个断点，它就永远不会被调用。

编辑：在上面的代码中添加了 fFile 属性。我可以通过 c#（通过将其转换为 BitmapImage）将 Image.Source 设置为 GameTile.Image.Image 属性，并使其按预期工作，但我不确定如何通过 c# 使用 DataTemplate 来完成此操作。我更愿意在 XAML 中设置绑定，但会满足于使用 DataTemplate（或其他可行的方法）的 ac# 解决方法。我非常确信问题不在于从数据库中提取图像的 GameTile.Image 属性，因为如果我在 c# 中手动设置 Image.Source 上的源，则图像就在那里。它根本无法在 DataTemplate 中工作。

编辑：确定问题与不直接在我绑定到的 DataType 上的属性相关，例如，GameTile 具有 (int)PointValue 属性、(Picture object)Image 属性和 (Prize object)Prize财产。

如果我绑定到

```
<TextBlock Text="{Binding PointValue}" /> 
```

它按预期工作。但是如果我绑定到

```
<TextBlock Text="{Binding Prize.Name}" /> 
```

这没用。如果我绑定到

```
<Image Margin="0,5,0,0" Source="{Binding Image.BitmapImage}" /> 
```

它也失败了。下图显示了绑定引发的错误。

> BindingExpression 路径错误：在“对象”“XPCollection”（哈希=...）上找不到“名称”属性。BindingExpression:Path=Prize.Name; DataItem=GameTile' (HashCode=...); 目标元素是 'TextBlock'(Name=''); 目标属性是“文本”（类型“字符串”）

![在此处输入图像描述](../Images/e49b5d5c8600ea4c062042ca89a81bbf.png)

谢谢，埃里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T15:28:44.120

找到了解决方案。不得不改变这个：

```
<TextBlock Text="{Binding Prize.Name}" /> 
```

对此：

```
<TextBlock Text="{Binding Prize!.Name}" /> 
```

唯一的区别是感叹号（！）。这也适用于图像属性。

```
<Image Margin="0,5,0,0" Source="{Binding Path=Image!.Image, Converter={StaticResource imageConverter}}" /> 
```

# javascript - Javascript继承无限循环

> ID：12970308
> 
> 赞同：5
> 
> 时间：2012-10-19T08:33:44.563
> 
> 标签：javascript

我在 javascript 中创建了这段代码：

```
function Shape() {}
Shape.prototype.name = "Shape";
Shape.prototype.toString = function() {
    result = [];
    if(this.constructor.uber) {
        result[result.length] = this.constructor.uber.toString();
    }
    result[result.length] = this.name;
    return result.join(', ');
}

function twoDShape() {};
twoDShape.prototype = new Shape();
twoDShape.prototype.constructor = twoDShape;

twoDShape.uber = twoDShape.prototype;
twoDShape.name = "twoD Shape";

var a = new twoDShape();
console.log(a.toString()); 
```

我不知道为什么，但是当我运行它时，Firefox 冻结了。我一直在努力解决这个问题。我的猜测是我的代码中应该有一个无限循环，它存在于 if 条件的某个地方，但我没有找到它。有人可以帮我摆脱这种头痛。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:50:27.613

当您`this.constructor.uber.toString()`从`Shape.prototype.toString`, `uber`is `twoDShape.prototype`which is a调用时，`Shape`该`toString`方法`Shape.prototype.toString`又是。

这会导致无限循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:07:50.643

好吧，在尝试了相当多的测试之后，我终于得到了一个线索。我相信这是我上面自己问题的答案。在firefox中输入：a.constructor.uber.constructor === twoDShape，它返回true。这就是为什么它会导致无限循环。

# localization - 如何本地化 wordpress 帖子浏览次数？

> ID：12970310
> 
> 赞同：1
> 
> 时间：2012-10-19T08:33:56.260
> 
> 标签：localization, wordpress, indic

我想以本地化编号显示帖子视图。我在function.php中添加了这些函数来做到这一点

```
function make_bangla_number($str)
{
    $engNumber = array(1,2,3,4,5,6,7,8,9,0);
    $bangNumber = array('à§§','à§¨','à§©','à§ª','à§«','à§¬','à§­','à§®','à§¯','à§¦');
    $converted = str_replace($engNumber, $bangNumber, $str);

    return $converted;
}

add_filter( 'the_views', 'make_bangla_number' ); 
```

但我无法在本地化中显示数字。每当我调用 the_views 时，它都会显示英文号码。知道如何以本地化语言显示帖子视图编号吗？

有关更多信息，这是我的帖子查看功能：

```
// function to count post views.
function setPostViews($postID) {
    $count_key = 'views';
    $count = get_post_meta($postID, $count_key, true);
    if($count==''){
        $count = 0;
        delete_post_meta($postID, $count_key);
        add_post_meta($postID, $count_key, '0');
    }else{
        $count++;
        update_post_meta($postID, $count_key, $count);
    }
}
// function to display number of post views.
function the_views($postID){
    $count_key = 'views';
    $count = get_post_meta($postID, $count_key, true);
    if($count==''){
        delete_post_meta($postID, $count_key);
        add_post_meta($postID, $count_key, '0');
        return "0 View";
    }
    return $count.' à¦¬à¦¾à¦°';
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:23:45.503

帕尔韦斯，

WordPress 支持孟加拉语，请参考[http://codex.wordpress.org/WordPress_in_Your_Language#Bangla_- *Bengali* .28bn_BD.29](http://codex.wordpress.org/WordPress_in_Your_Language#Bangla_-_Bengali_.28bn_BD.29)

您必须将孟加拉语语言包安装到您的 WordPress，您可以从以下链接中找到...

[http://svn.automattic.com/wordpress-i18n/bn_BD/trunk/messages/](http://svn.automattic.com/wordpress-i18n/bn_BD/trunk/messages/)

[http://www.shadhinbangla.com/wordpress-bangla-language-pack-beta-3/2011/10/](http://www.shadhinbangla.com/wordpress-bangla-language-pack-beta-3/2011/10/)

此外，您必须检查 CHARSET 必须在您的 HTML 代码中设置为 UTF-8，并且您的 MySQL DB 必须使用 Collat​​ion CHARSET UTF-8 创建以将 Bangla 值存储在 DB 中。

我还发现了一个旧的 WordPress 插件来显示孟加拉语的日期和时间，你也可以参考他们的代码来解决你的问题。这是插件链接... [http://wordpress.org/extend/plugins/bangla-numbers-in-date-and-time/](http://wordpress.org/extend/plugins/bangla-numbers-in-date-and-time/)

或者您可以向 WordPress 支持团队寻求帮助。

嘿，我最近找到了在 WordPress 中设置孟加拉语的详细草案，请参考此链接... [http://www.lavluda.com/2008/11/08/wordpress-with-full-bangla-language-support/](http://www.lavluda.com/2008/11/08/wordpress-with-full-bangla-language-support/)

# umbraco - Umbraco 中的 Google 站点地图错误

> ID：12970323
> 
> 赞同：0
> 
> 时间：2012-10-19T08:35:17.323
> 
> 标签：umbraco, xml-sitemap

我已经在我的 Umbraco 上安装了谷歌站点地图（我在 4.9、4.8 和 4.7 中安装了它）。我按照 [this site][1] [http://our.umbraco.org/projects/website-utilities/google-sitemap-for-umbraco-4-%28jespercom%29](http://our.umbraco.org/projects/website-utilities/google-sitemap-for-umbraco-4-%28jespercom%29)中的步骤操作。但是当我浏览 mydomain.com/GoogleSiteTree.aspx 我得到这个错误

***此页面包含以下错误： 第 2 行第 1 列的错误：文档为空 下面是页面的呈现直到第一个错误。***

我找不到原因。谁知道答案请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T23:41:46.750

您能否打开您的母版页和/或 XSLT 并确保文件顶部没有空格？您可能需要在呈现宏的母版页中增加宏，如下所示：

```
<%@ Master ... %><asp:Content ContentPlaceHolderID="MyPlaceHolder" runat="server"><umbraco:Macro Alias="GoogleSitemap" runat="server" /></asp:ContentPlaceHolder> 
```

这可能会解决您的问题，因为我在将 XML 或 RSS 提要直接从宏渲染到 HTTP 响应时看到了类似的问题。

# authentication - 如何仅将 OAuth 2.0 用于 Google 身份验证？

> ID：12970327
> 
> 赞同：0
> 
> 时间：2012-10-19T08:35:40.567
> 
> 标签：authentication, oauth-2.0

[OAuth2 PHP 客户端](https://code.google.com/p/google-api-php-client/wiki/OAuth2)代码很棒。它提供了有关如何将 OAuth 2 与 Google API 一起使用的绝佳示例。问题是我只想使用 OAuth 2 进行身份验证而不是授权。我在 API 中四处寻找只是验证的东西，但我找不到正确的类。

**如何将 Google PHP 客户端配置为仅通过 OAuth 进行身份验证？**

我考虑过只对客户端进行身份验证（即`$client->authenticate($_GET['token'])），但这并不理想，因为仍然要求用户授权访问不同的资源。我不想看到他们的电子邮件、照片等。我只想让 Google 验证他们是否就是他们所说的那个人。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T22:45:27.610

好吧，*[OAuth 是授权](https://en.wikipedia.org/wiki/OAuth)*而不是身份验证的开放标准！

然而，大多数提供商都让您有机会查询用户个人资料，以便您可以对用户进行身份验证。如果无法访问他的个人资料数据，尤其是他的*用户 id*，您将无法实现这一点。

请参阅 Google 的文档以[获取用于登录的用户个人资料信息](https://developers.google.com/accounts/docs/OAuth2Login#userinfocall)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-22T01:42:32.927

如果您只想使用身份验证，则必须使用：OpenID / Federated Login。请参阅：[https ://developers.google.com/accounts/docs/OpenID](https://developers.google.com/accounts/docs/OpenID)

# oracle11g - 错误 ORA-00054 资源繁忙并在 oracle11g 中指定了 NOWAIT 或超时过期

> ID：12970330
> 
> 赞同：3
> 
> 时间：2012-10-19T08:35:53.213
> 
> 标签：oracle11g, oracle-sqldeveloper, database-administration

我正在使用 oracle11g 数据库。我有一个名为的表，`phonenumbers_tbl`我在该表上执行了`DROP`命令。但它正在返回错误`resource busy and acquire with NOWAIT specified or timeout expired`。之后，我使用命令更改会话`alter session set ddl_lock_timeout = 600`并再次尝试删除表。但是这个错误仍然存​​在

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:02:58.347

尝试先执行此操作，并检查是否有人来自该表`other session`或在该表上加`your session`了锁。如果`you`已在该表上加了锁，请尝试执行`commit/rollback`。如果加`someone else`了锁，请询问`him/her`您是否有权限`kill his session`。然后删除该表。

```
 select session_id "sid",SERIAL#  "Serial",
    substr(object_name,1,20) "Object",
      substr(os_user_name,1,10) "Terminal",
      substr(oracle_username,1,10) "Locker",
      nvl(lockwait,'active') "Wait",
      decode(locked_mode,
        2, 'row share',
        3, 'row exclusive',
        4, 'share',
        5, 'share row exclusive',
        6, 'exclusive',  'unknown') "Lockmode",
      OBJECT_TYPE "Type"
    FROM
      SYS.V_$LOCKED_OBJECT A,
      SYS.ALL_OBJECTS B,
      SYS.V_$SESSION c
    WHERE
      A.OBJECT_ID = B.OBJECT_ID AND
      C.SID = A.SESSION_ID
    ORDER BY 1 ASC, 5 Desc 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:03:28.033

是的 ！最后我得到了一个解决方案，将表移动`phonenumber_tbl`到另一个表空间`system`并删除表。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-03-09T08:34:04.970

首先获取表锁定会话然后终止会话
SELECT a.sid,a.serial#, a.username,c.os_user_name,a.terminal, b.object_id,substr(b.object_name,1,40) object_name from v$session a, dba_objects b, v$locked_object c 其中 a.sid = c.session_id 和 b.object_id = c.object_id;

ALTER SYSTEM KILL SESSION 'sid,serial#' ;

# css - facebook和twitter按钮的css对齐问题

> ID：12970331
> 
> 赞同：0
> 
> 时间：2012-10-19T08:35:53.267
> 
> 标签：css, facebook

我不知道为什么 facebook 按钮在下一页的顶部没有对齐 [http://wishd.me/chovy/lists/507f8817a51102a137000001](http://wishd.me/chovy/lists/507f8817a51102a137000001)

```
<div class="social">
    <a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-size="medium" data-count="none">Tweet</a>
    <div class="fb-like" data-send="true" data-layout="button_count" data-width="450" data-show-faces="false"></div>
</div> 
```

facebook 按钮比 twitter 按钮略低。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:54:58.217

如果您检查 dom，您会看到 twitter iframe 的高度为 20px，而 fb div 的高度为 27px。

有几种方法可以处理这个问题。我不喜欢上面的两个帖子，因为 .social .iframe 规则也会将 fb iframe 向下移动 4px。另一个是我的意见很混乱。

你可以做：

```
.social > iframe { display: inline-block; position: relative; top: 4px; } 
```

所有的解决方案都不是最漂亮的......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:42:07.693

尝试

```
<div style="float:left ;margin-right:5px;margin-top:4px">
     <iframe scrolling="no" frameborder="0" allowtransparency="true" src="http://platform.twitter.com/widgets/tweet_button.1347008535.html#_=1350635993430&amp;count=none&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fwishd.me%2Fchovy%2Flists%2F507f8817a51102a137000001&amp;size=m&amp;text=chovy's%20wishlist%20%C2%BB%20Movies%20-%20Wishd.me&amp;url=http%3A%2F%2Fwishd.me%2Fchovy%2Flists%2F507f8817a51102a137000001" class="twitter-share-button twitter-count-none" style="width: 58px; height: 20px;" title="Twitter Tweet Button" data-twttr-rendered="true"></iframe>

</div> 
```

结果

> ![在此处输入图像描述](../Images/6e86f2a3aaace81888438e9917b40d61.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:46:22.527

```
.social iframe {
  position: relative;
  top: 4px;
} 
```

Twitter`iframe`稍微走低了一点，而且都对齐得很好。

ps 您的`.social`样式位于 style.css 第 445 行。

# java - 将 XML 文件发送到单独的应用程序；JSP 还是 Servlet？JAVA

> ID：12970332
> 
> 赞同：2
> 
> 时间：2012-10-19T08:35:54.340
> 
> 标签：java, jsp, servlets, xmlhttprequest

我一直在研究需要创建哪种类型的 Java Web 应用程序来执行此用例活动：

> 1.  Oracle CRM 发送带有 GET 变量的 http 请求
> 2.  系统在 Oracle SQL 查询中使用 GET 变量
> 3.  系统通过 HTTP 将带有 SQL 结果的 XML 文件发送回 CRM。

从我目前所阅读的内容来看，有两种 JAVA 变体是 Web 应用程序；这些是 JSP 和 Servlet。

假设我没有使用像 Spring 这样的框架。将其实现为 JSP 应用程序或 Servlet 的最佳方式是什么？

还是有其他Java替代品。

仅供参考：我不是 JAVA 程序员，这是一个介绍性（在池的深处）项目。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:11:26.820

是的，在您的情况下，您只需要一个 Servlet。是的，JSP 仅用于表示层。尽管您也可以在 JSP 中拥有业务逻辑，因为 JSP 最终会在后端转换为 Servlet，但这是一个不好的做法，不能遵循。:)

# c# - ADFS 依赖方身份验证

> ID：12970333
> 
> 赞同：0
> 
> 时间：2012-10-19T08:35:56.447
> 
> 标签：c#, asp.net, wif, claims-based-identity, adfs

我有一个依赖方 asp.net webapp，用户通过 ADFS 安全令牌服务 (STS) 进行身份验证。来自 2 个域的用户是安全组的一部分，STS 使用该安全组来检查成员资格并发出声明。

用户从一个域登录时按预期进行身份验证，而不是从另一个域登录。是否有任何配置设置需要注意？

任何指针将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:58:05.230

我认为有两种选择。

首先（我还没有真正尝试过）是在您的域之间创建双向信任关系。这可以（我认为）允许来自两个域的用户通过您在其中一个域上设置的 adfs 登录。

其次，每个域可以有一个额外的 adfs，然后可以在 adfses 之间创建信任关系。这样，您的用户将被提示他们想要对哪个域进行身份验证/授权。

# graph - 在有向图中查找包含特定节点的路径

> ID：12970335
> 
> 赞同：1
> 
> 时间：2012-10-19T08:36:01.003
> 
> 标签：graph

我有一个有向图，以及该图的一组 U 节点。我想知道是否存在包含集合 U 中所有节点的路径（不一定是简单路径）。最有效的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T22:32:26.210

提示：用 e \in E' 创建一个图 G'=(U,E') 如果 e 的目标可以从原始图 G 中的 e 的源到达。（可达性的精确计算取决于您是否允许访问节点两次。）

现在，为了解决您的问题，您必须检查什么 G'？

# extjs4 - 在 ExtJS4 中修改存储请求？

> ID：12970342
> 
> 赞同：0
> 
> 时间：2012-10-19T08:36:12.533
> 
> 标签：extjs4

我对树存储发送的请求结构有一些问题。但我可以用一个加载前的监听器来修改它。

```
store.on( 'beforeload', function( s, o ) {
  if( o.params.parent === 'root' ) delete o.params.parent; 
}); 
```

在普通存储中，操作参数不知何故不包含 params 属性......问题是，服务器总是想要一个`sortby`and`sortorder`参数，但是

商店有

*   只是一个排序参数（包含 sortby 和 sortorder）
*   只是在我对表进行排序而不是在开始时发送此参数（如果我将它放在代理的额外参数中，这总是会覆盖存储排序参数）

所以我想在每次商店请求某些东西时拆分并发送这些`sort`参数`sortby`。`sortorder`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T12:36:42.210

我遇到的第一个问题是代理的 3 个配置参数：

```
simpleSortMode: true
sortParam     : 'sortby'
directionParam: 'sortorder' 
```

这分裂了

```
.../?sort=[[{property:'visits', direction: 'DESC'}]]&... 
```

进入

```
.../?sortby=visits&sortorder=DESC&... 
```

第二个问题，store从一开始就没有发送排序参数，我用`sort()`store的方法解决了。

```
...
constructor: function( config ) {
   this.callParent([config]);
   this.sort( config.sortby, config.sortorder );
}
... 
```

在它甚至从服务器加载数据之前，我只是用它来初始化具有默认排序的存储。这导致它在第一个请求中发送排序参数。

# c# - C#动态设置属性

> ID：12970353
> 
> 赞同：48
> 
> 时间：2012-10-19T08:36:43.857
> 
> 标签：c#, methods

> **可能重复：**
> [.Net - 反射设置对象](https://stackoverflow.com/questions/619767/net-reflection-set-object-property)
> [属性通过反射使用字符串值设置属性](https://stackoverflow.com/questions/1089123/setting-a-property-by-reflection-with-a-string-value)

我有一个具有多个属性的对象。我们称对象为 objName。我正在尝试创建一个简单地使用新属性值更新对象的方法。

我希望能够在方法中执行以下操作：

```
private void SetObjectProperty(string propertyName, string value, ref object objName)
{
    //some processing on the rest of the code to make sure we actually want to set this value.
    objName.propertyName = value
} 
```

最后，电话：

```
SetObjectProperty("nameOfProperty", textBoxValue.Text, ref objName); 
```

希望这个问题足够充实。如果您需要更多详细信息，请告诉我。

感谢大家的回答！

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-10-19T08:41:15.307

`objName.GetType().GetProperty("nameOfProperty").SetValue(objName, objValue, null)`

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2012-10-19T08:38:08.253

您可以使用[反射](http://msdn.microsoft.com/en-us/library/ms173183%28v=vs.80%29.aspx)来做到这一点，例如

```
private void SetObjectProperty(string propertyName, string value, object obj)
{
    PropertyInfo propertyInfo = obj.GetType().GetProperty(propertyName);
    // make sure object has the property we are after
    if (propertyInfo != null)
    {
        propertyInfo.SetValue(obj, value, null);
    }
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-19T08:41:34.993

先获取属性信息，然后在属性上设置值：

```
PropertyInfo propertyInfo = objName.GetType().GetProperty(propertyName);
propertyInfo.SetValue(objName, value, null); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-19T08:43:12.480

您可以使用[Type.InvokeMember](http://msdn.microsoft.com/en-us/library/system.type.invokemember.aspx)来执行此操作。

```
private void SetObjectProperty(string propertyName, string value, rel objName) 
{ 
    objName.GetType().InvokeMember(propertyName, 
        BindingFlags.Instance | BindingFlags.Public | BindingFlags.SetProperty, 
        Type.DefaultBinder, objName, value); 
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-10-19T08:44:43.053

你可以通过反射来做到这一点：

```
void SetObjectProperty(object theObject, string propertyName, object value)
{
  Type type=theObject.GetType();
  var property=type.GetProperty(propertyName);
  var setter=property.SetMethod();
  setter.Invoke(theObject, new ojbject[]{value});
} 
```

注意：为了可读性，故意省略了错误处理。

# javascript - 使用 AJAX 从服务器生成服务器请求并保存结果

> ID：12970354
> 
> 赞同：0
> 
> 时间：2012-10-19T08:36:50.047
> 
> 标签：javascript, ajax

我是 AJAX 新手，我想循环发送 AJAX 请求到服务器，然后显示来自服务器的响应。场景在客户端页面上，我有一组表，我想一个一个发送，服务器接收表名，处理，然后发送响应。在客户端，我想在它们到达时显示响应。例如

```
Table 1 processed
Table 2 processed
Table 3 processed
COMPLETED 
```

您可以从以下代码块中了解我正在尝试什么 document.getElementById('btnReport').style.display='none'; var http = new XMLHttpRequest();

```
for (var i = 0; i < tableArray.length; i++) 
{
http.open("GET","ServerPage.php?t="+tableArray[i], true);
http.send();
http.onreadystatechange = function() 
{
  if(http.readyState == 4 && http.status == 200) 
  {
    eLoader.hide();
    document.getElementById('txtResult').innerHTML += http.responseText;
    document.getElementById('btnReport').style.display='';

  }
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:41:44.453

由于您对 JavaScript 非常陌生，因此我建议您使用[jQuery](http://jquery.com)之类的库，这会使编码更容易。它也是 JavaScript，但只是添加了一些预定义的函数以方便使用。

现在回答你的问题，jQuery 中有一个方法叫做[`$.ajax()`](http://api.jquery.com/jQuery.ajax/). 使用它，`timers`你可以实现你想要的。

通常，您希望请求在页面加载时开始。将代码以`$(document).ready(function(){});`这种方式放入：

```
$(document).ready(function(){
    $("a.load").click(function(){
        $("#result").load("phpPage");
    });
}); 
```

在这里，我使用了一个名为 的函数[`$.load()`](http://api.jquery.com/load/)，该函数将 URL 加载到元素`<div id="result"></div>`. 您可以用您的特定元素替换它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:58:50.883

使用`jQuery`：

```
$(function(){
    $(someButtonElement).on('click', function(){
        var tableArrayLen = tableDataArray.length, i = 0;
        (function sendRequest(i){
            $.ajax({
                url: 'your URL here',
                data: tableDataArray[i],
                success: function(d){
                    $(someResultDiv).append(d);
                    if(i < tableArrayLen) {
                        i++;
                        sendRequest(i);
                    }
                }
            });
        }();
    });

}); 
```

# c# - 高级 JTable 数据列表

> ID：12970360
> 
> 赞同：1
> 
> 时间：2012-10-19T08:37:02.877
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3

我想在选项“添加新记录”JTable 和 Jtable 中的项目列表中创建列表框。

我的模型：

```
 namespace CRM.ViewModels.Administrator.Dictionary.OfferNewInformation
    {
        public class DictionaryNewInfoListModel : DictionaryListModel
        {
            public string Description { get; set; }
            public bool IsActiveYN { get; set; }
            public bool CPGroupType { get; set; }
            public bool TCPGroupType { get; set; }
            public bool CCGroupType { get; set; }
            public bool HOGroupType { get; set; }
            public bool TSGroupType { get; set; }
            public int CityId { get; set; }
            public List<DictionaryNewInfoSupportList> DeestynationName { get; set; }

          //  public IList<SelectListItem> DestinationList { get; set; }

        }
    } 
```

重要的事情（这个类有列表 ID 和名称）：

```
public List<DictionaryNewInfoSupportList> DeestynationName { get; set; } 
```

班级

```
public class DictionaryNewInfoSupportList
{
    public int Id;
    public string Name;
} 
```

在视图中，我展示了示例：

```
fields: {
                    Id:
                    {
                        key: true,
                        create: false,
                        edit: false,
                        list: false
                    },
                    Description: {
                        title: 'Treść'

                    }/*,
                    DeestynationName: {
                        title: 'Treść'

                    }*/,
                    CPGroupType: {
                        title: "CP",
                        edit: true,
                        type: 'checkbox',
                        values: { 'false': 'Nie', 'true': 'Tak' }
                    },
                    TCPGroupType: {
                        title: "TCP",
                        edit: true,
                        type: 'checkbox',
                        values: { 'false': 'Nie', 'true': 'Tak' }
                    },
                    CCGroupType: {
                        title: "CC",
                        edit: true,
                        type: 'checkbox',
                        values: { 'false': 'Nie', 'true': 'Tak' }
                    },
                    HOGroupType: {
                        title: "Centrala",
                        edit: true,
                        type: 'checkbox',
                        values: { 'false': 'Nie', 'true': 'Tak' }
                    },
                    TSGroupType: {
                        title: "Kasjer",
                        edit: true,
                        type: 'checkbox',
                        values: { 'false': 'Nie', 'true': 'Tak' }
                    } 
```

但如您所见，我不知道如何声明 DeestynationName。

项目清单（示例 - 我需要什么）

```
if(DeestynationName.id==model.id) show list of Name 
```

在“添加新记录”中，我需要包含此列表中元素的列表框（例如 - 我需要的）：

```
@Html.DropDownListFor(m => m.CurrentVoucher, new System.Web.Mvc.SelectList(Model.DictionaryNewInfoSupportList, "Id", "Name"), new { style = "width:140px" }) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:13:24.407

我开始思考这个问题，这非常困难。我尝试添加“部分视图”，但出现错误：无法加载 CityId 的列表

我得到这个错误 - 当我在选项中放置这个部分视图时。如果我只删除这一行，则项目编译正确。当然，如果我删除此选项，我在列表中的位置为空，但数据列表工作正常。当然我需要这个局部视图。

```
 CityId: {
                title: 'City',
                width: '11%',
                options: '@Url.Action("GetCityOptions")'
            }, 
```

我添加了控制器：

```
namespace dd
{
    [Themed]
    public class AdministratorController : DefaultController
    {
        [CustomAuthorize]
        public ActionResult Index()
        {
            return View();
        }

        public ActionResult GetCityOptions()
        {
            return View();
        }
    }
} 
```

和局部视图来理解问题。

```
@model CRM.ViewModels.Administrator.DictionaryModel

@{
    ViewBag.Title = "GetCityOptions";
}

<h2>GetCityOptions</h2>
dfsfdsfds 
```

# c# - 连接必须有效且打开

> ID：12970362
> 
> 赞同：-1
> 
> 时间：2012-10-19T08:37:09.270
> 
> 标签：c#, mysql

我正在使用一种从数据库中获取项目列表的方法。我已经使用连接将数据插入数据库并且工作正常，但是在 gridview 中显示数据时会弹出异常。您可以在下面找到使用的方法、将数据绑定到 gridview 的代码以及 gridview 的 asp。希望你能帮忙。谢谢

检索数据的方法

```
public List<Bet> getBets()
        {
            MySqlCommand cmd = Connection.CreateCommand();
            cmd = new MySqlCommand("SELECT * FROM bets ORDER BY date");

            try
            {
                if (this.Connection.State == ConnectionState.Closed)
                    this.Connection.Open();

                MySqlDataReader dr = cmd.ExecuteReader(CommandBehavior.CloseConnection); --> getting exception here
                List<Bet> bets = new List<Bet>();

                while (dr.Read())
                {
                    Bet myBet = new Bet();
                    myBet = FillBetfromRow(dr);
                    bets.Add(myBet);
                }
                return bets;
            }
            catch (MySqlException ex)
            {
                throw ex;
            }
            finally
            {
                if (Connection.State == ConnectionState.Open)
                    Connection.Close();
            }
        } 
```

将数据绑定到gridview

```
gvBets.DataSource = new BetManagement().getBets();
            gvBets.DataBind(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:44:11.170

你没有`Connection`在你的`Command`对象中设置 a 。

```
MySqlCommand cmd = Connection.CreateCommand();
cmd = new MySqlCommand("SELECT * FROM bets ORDER BY date");
cmd.Connection = this.Connection; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:40:56.633

尝试使用使用关键字进行更改。数据读取器关闭可能存在问题

```
 try
        {
            if (this.Connection.State == ConnectionState.Closed)
                this.Connection.Open();
            List<Bet> bets = new List<Bet>();
            using(MySqlDataReader dr = cmd.ExecuteReader(CommandBehavior.CloseConnection)){

            while (dr.Read())
            {
                Bet myBet = new Bet();
                myBet = FillBetfromRow(dr);
                bets.Add(myBet);
            }
       }
            return bets;
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:43:43.790

只需在 while 循环后关闭 Datareader，例如 dr.close() ，然后将连接 con 分配给您的命令

# php - 在 SphinxQl 中使用多个索引并从多个索引中跨字段搜索

> ID：12970368
> 
> 赞同：0
> 
> 时间：2012-10-19T08:37:29.920
> 
> 标签：php, sphinx, sphinxql

所以伙计们，我在 Sphinx 中有多个索引

```
例如 3 个索引
index1 字段：field1_1、field1_2、field1_3
index2 字段：field2_1,field2_2,field2_3
index3 字段：field3_1,field3_2,field3_3

```

我想搜索这三个索引，我的搜索字符串应该在所有这些字段中匹配。

我试过了

```
$query="select * from index1,index2,index3 Match(@(field1_1,field1_2,field1_3,field2_1,field2_2,field2_3,field3_1,field3_2,field3_3) $searchstring)"; 
```

但这会引发一些错误。我该如何实现这样的目标。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T11:23:33.293

> 但这会引发一些错误。

您应该真正阅读错误消息，而不是仅仅将其视为“某些错误”。错误消息可帮助您找出问题所在。

但是查看您的查询，它不是有效的 SphinxQL。仔细查看文档和示例查询... [http://sphinxsearch.com/docs/current.html#sphinxql-select](http://sphinxsearch.com/docs/current.html#sphinxql-select)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T07:12:26.763

Sphinx 合并索引模式，只在所有使用的索引中留下公共字段。请确保您正在搜索常用字段。

# python - 如何在python中将[0x01，0xFF，.....]作为字符串'01 FF ....'返回

> ID：12970371
> 
> 赞同：1
> 
> 时间：2012-10-19T08:37:56.460
> 
> 标签：python, hex

我对此感到困惑。如何打印十六进制字节：

```
 [0x05, 0x06, 0x40, 0xFD, 0x05] 
```

就像在控制台中一样：

```
 05 06 40 FD 05 
```

我将如何在 to_string 函数中使用它：

```
def to_string(bytes):
    cmd = '%02X'.join(chr(b) for b in self.bytes) #does not work obviously
    return cmd

print to_string([0x05, 0x06, 0x40, 0xFD, 0x05]) 
```

我想我可以从你的回答中概括出来。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T08:38:50.660

使用`%02X` [字符串格式化程序](http://docs.python.org/library/stdtypes.html#string-formatting)：

```
>>> print '%02X' % 0x05
05
>>> for i in [0x05, 0x06, 0x40, 0xFD, 0x05]:
...     print '%02X' % i,
...
05 06 40 FD 05 
```

或使其成为一个字符串：

```
>>> ' '.join(['%02X' % i for i in [0x05, 0x06, 0x40, 0xFD, 0x05]])
'05 06 40 FD 05' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:09:24.513

Martijn的答案是正确的答案，但是这里有一些你可能不熟悉的相关功能。

使用 python`format`字符串运算符：

```
>>> for i in [0x05, 0x06, 0x40, 0xFD, 0x05]:
...     print "{:02X}".format(i),
...
05 06 40 FD 05 
```

如果您实际上将数据作为字节串，您可以使用`binascii.hexlify`它来做同样的事情。

```
>>> import binascii
>>> data = ["\x05", "\x06", "\x40", "\xFD", "\x05"]
>>> for d in data:
...     print binascii.hexlify(d),
...
05 06 40 fd 05 
```

`hex()`如果您不介意不填充数据，您也可以将内置数据与现有数据一起使用。

```
>>> data = [0x05, 0x06, 0x40, 0xFD, 0x05]
>>> for i in data:
...     print hex(i),
...
0x5 0x6 0x40 0xfd 0x5
>>>
>>>
>>> # Or use the slice operator to cut off the initial "0x"
>>> for i in data:
...     print hex(i)[2:],
...
5 6 40 fd 5 
```

# wpf - 视觉结构中元素的条件样式

> ID：12970372
> 
> 赞同：0
> 
> 时间：2012-10-19T08:37:57.317
> 
> 标签：wpf, xaml, wpf-controls

我无法为下一个问题制定通用解决方案：

想象一个自定义 TreeView 控件，它是一个;;pws 主题 - 在单独的 xaml 文件中有一个元素列表，用于为 TreeView 控件构建可视结构。有一个 onm Border 元素，我想根据显示的数据类型来绘制它的背景。此边框元素是“+”号的一部分，不会通过样式暴露出来。

我可以使用后面的代码来做到这一点，并订阅此控件提供的一些事件，然后在子元素中找到此边框，并更改其背景。但是，此代码将在许多视图中重复，有时完全相同，有时稍有不同的修改（例如，仅检查不同的数据元素的类型）。

有没有办法使用任何其他技术来做到这一点？似乎可以在这里使用样式选择器，因为视觉结构不是在那个点构建的，所以我不能通过它的名称搜索这个元素。并且此元素不会通过控件上的任何属性公开。

编辑：

目前我有我的 oqwn 控件来继承这个控件，如果你发现它可以使用附加/依赖属性来完成：

```
public class MyTreeView : CustomTreeView
{
} 
```

如果我要为一行指定背景，我会创建一个样式选择器：

```
<local:ProductRowtyleSelector x:Key="productRowStyleSelector"
                              DefaultStyle="{StaticResource defaultProductRowStyle}"
                              GoodStyle="{StaticResource goodProductRowStyle}"
                              ScrapStyle="{StaticResource reworkProductRowStyle}" /> 
```

GoodStyle 将继承控件模板中存在的行的样式。这样，我将在显示产品列表的任何地方使用样式选择器。

是否有类似的方法可以对我在控件模板中添加的 Border 元素执行相同的操作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:00:47.597

**编辑**

好的，如果我得到你需要的，你可以试试这个

像这样创建 IsTypeOf IValueConverter：

```
public class IsTypeOfConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        Type parameterType = parameter as Type;
        if (parameterType == null)
            throw new ArgumentException();

        return parameterType.IsAssignableFrom(value.GetType());
    }

    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)
    {
        throw new NotSupportedException();
    }
} 
```

然后在您的 xaml 中，以适用的样式放置一个 DataTrigger

```
<DataTrigger Binding="{Binding Converter={StaticResource IsKindOfConverter}, ConverterParameter={x:Type Person}}">
    <Setter Property="Backgroud" Value="Red" />
</DataTrigger> 
```

# objective-c - IOS从子类调用父类方法

> ID：12970373
> 
> 赞同：1
> 
> 时间：2012-10-19T08:37:56.943
> 
> 标签：objective-c, ios, subclass

我正在开发 iPadd 应用程序。我使用父类进行列表，也使用子类进行类别选择。在弹出窗口中打开子类。如果用户从子类中选择任何类别，则使用 refreshScreenForiPad 刷新父屏幕。所以我想调用parentClass方法什么是refreshScreenForiPad。但我没有打电话。请帮我。

```
//ParentClass.h

#import <UIKit/UIKit.h>
#import SubClass;

@interface ParentClass : UIViewController{

}
-(void)refreshScreenForiPad;

---------------------

//SubClass.h

#import <UIKit/UIKit.h>
@class ParentClass;

@interface SubClass : UIViewController{
ParentClass *_parentClass;
}

@property(nonatomic,assign) ParentClass *parentClass;

//SubClass.m

@synthesize parentClass=_parentClass;

-(void)viewDidLoad{
 [self.parentClass refreshScreenForiPad];
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:45:04.450

在父类初始化子类时..say

```
SubClass *subClass = [[SubClass alloc]init]; 
```

跟着它

```
sublass._parentClass = self; 
```

# jquery - 从服务器下载 csv 文件

> ID：12970375
> 
> 赞同：1
> 
> 时间：2012-10-19T08:37:59.473
> 
> 标签：jquery, ajax, rest

我有一个系统，其中前端在 javascript/ajax 中，后端是使用 REST(jersey) 编写的。

我想使用我的系统下载文件。我搜索了各种论坛并实现了 REST web 方法，如下所示：

```
@POST
@Produces({"text/csv"})
@Consumes(MediaType.APPLICATION_FORM_URLENCODED)
@Path("getcsv")
public Response  getcsv(
        @FormParam("usernamecsv") String userid,
        @FormParam("filename") String filename
        )
{
    final File fobj = new File("c:/" +userid + "/output/" + filename);
    try
    {
        final FileInputStream f =  new FileInputStream(fobj);
ContentDisposition cd =  
        ContentDisposition.type("file").fileName(fobj.toString()).build(); 
Response response = Response
.ok()
.lastModified(new Date(fobj.lastModified()))
.type("application/octet-stream")
.header("Content-Disposition", cd)
.entity(f)
.build();
return response;
    }
    catch (FileNotFoundException e1)
    {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
    return null; 
```

}

最初我使用了 StreamingOutput 类并为它实现了 write 方法。在那个方法中，我返回了从文件中读取的字符串。但我发现这与上述实现没有区别。两者都返回文件内的字符串。

在我的前端，这就是我所做的

```
<!DOCTYPE html >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
<title>Insert title here</title>
<script type="text/javascript">
function fun1()
{
$.ajax({
    url: '/RestWSGS/jersey/UserAuthentication/getcsv',
    async: false,
    data: $('#form2').serialize(),
    type: 'POST',
    cache: false,
    contentType: "application/x-www-form-urlencoded",
    processData: false,
    dataType: "text",
    success: function(data)
     {
        var iframe;
        iframe = document.getElementById("hiddenDownloader");
        if (iframe === null)
        {
            var iframe;
            iframe = document.getElementById("hiddenDownloader");
            if (iframe === null)
            {
                iframe = document.createElement('iframe');  
                iframe.id = "hiddenDownloader";
                //iframe.style.visibility = 'hidden';
                $("#mydiv").append(iframe);
            }
            iframe.src = "http:\\localhost:8080\\c:\abc@abc.com#26 8 2012 13 5 49/gr1/output/test.csv";  
//iframe.src = data; 

        }

        alert('Hi');

     }
 });
}
$(function()
        {
            $(document).delegate("#mydiv","click",function(ev)
            {
            fun1();

            });
        });

</script>
</head>
<body>
<div id="mydiv" style='position:absolute;width:20px;height:20px;background:black'></div>
<form id="form2" enctype="multipart/form-data" method="post" >
 <input id ="usernamecsv" name="usernamecsv" type="hidden"  value="abc@abc.com#26 8 2012 13 5 49/gr1"/>
  <input id ="filename" name="filename" type="hidden"  value="test.csv" />
</form>

</body>
</html> 
```

我的问题是，如果我将 iframe.src 与 data 变量一起分配，我会收到未找到文件的响应（尽管 data 变量具有文件的内容）

如果我将 web 服务的 uri（我已经给 ajax 调用）提供给 iframe.src，我不知道我将如何发送参数。

我真的需要向用户显示下载提示并允许他将文件保存到本地文件系统。我认为我的 REST 也不正确，因为它应该在 POST 期间在 firebug 中显示文件对象，而不是文件的内容！

我可以只返回字符串并用它填充任何 textarea/ div，然后要求用户将其复制粘贴到他的文件中！但这看起来并不流畅或优雅！

请帮忙，卡维塔

编辑：尝试更改 @Produces 并将 Response.type() 类型更改为“application/csv”以及“application/something”，但它总是尝试将服务器返回的文件内容附加到当前 url 并打开一个显然找不到文件搜索！！！

编辑：我尝试在 REST 中将 POST 转换为 GET 并使用返回的数据。然后它返回一个文档但仍然无法打开文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:07:00.747

您的 @Produces 标签与您设置的内联类型冲突。如果你们都做到了，`application/octet-stream`我会期待更好的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T06:49:51.777

经过大量的 RnD，我想我已经找到了解决问题的方法。这可能不是理想的解决方案，如果有任何重大问题，请告诉我。

基本上我尝试访问服务器上的文件，但只能从 docroot 文件夹（PATH = C:\glassfish3\glassfish\domains\domain1\docroot）访问它。所以我意识到我必须将我的文件从服务器上的任何地方复制到这个位置。我在 Web 服务中做到了这一点。我在某处阅读并试图从 Web 服务发送文件本身。在此更改之后这是错误的，我只发回了一个纯文本，其中包含相对于 docroot 的路径。

然后还有另一个挫折，因为我的文件必须在一个文件夹中，并且文件夹名称包含一个 # 字符。似乎 # 是不允许的，而且 iframe 只是不会要求我下载！！

现在我修改了我的代码如下：REST：

```
@POST
@Produces(MediaType.TEXT_PLAIN)
@Consumes(MediaType.APPLICATION_FORM_URLENCODED)
@Path("getcsv")
public String  getcsv(
        @FormParam("usernamecsv") String userid,
        @FormParam("filename") String filename
        )
{
    System.out.println("1 = " + getClass().getResource("/" +getClass().getName().substring(
            0, getClass().getName().indexOf("."))).getPath());
    System.out.println("2 = " + getClass().getResource("/" +getClass().getName().substring(
            0, getClass().getName().indexOf("."))).getPath() + "../../../../../docroot/" + userid + "/" + filename);
    final File fobj = new File("c:/" +userid + "/output/" + filename);
    try
    {
        final FileInputStream f =  new FileInputStream(fobj);
    int content;
         ByteArrayOutputStream b = new ByteArrayOutputStream();
        try
        {
            while ((content = f.read()) != -1) 
            {
                //b[j] = 0;
                // convert to byte
                b.write(content);
            }

        } catch (IOException e)
        {
            e.printStackTrace();
        } 
        finally 
        {
            try 
            {
                if (f != null)
                    f.close();
            } catch (IOException ex) 
            {
                ex.printStackTrace();
            }

        }
        File f1 =  new File( getClass().getResource("/"+getClass().getName().substring(
                0, getClass().getName().indexOf("."))).getPath() + "../../../../../docroot/" + userid.substring(0,userid.indexOf("#")) + "/" );
        f1.mkdirs();
        try
        {
        boolean f2 = new File(getClass().getResource("/" +getClass().getName().substring(
                0, getClass().getName().indexOf("."))).getPath() + "../../../../../docroot/" +  userid.substring(0,userid.indexOf("#")) + "/" + filename).createNewFile();
        System.out.println(f2);

        }
        catch (IOException e2)
        {
            // TODO Auto-generated catch block
            e2.printStackTrace();
        }
    FileOutputStream fout = new FileOutputStream(new File(getClass().getResource("/" +getClass().getName().substring(
            0, getClass().getName().indexOf("."))).getPath() + "../../../../../docroot/" +  userid.substring(0,userid.indexOf("#")) + "/" + filename));
    try
    {
        fout.write(b.toByteArray());
    }
    catch (IOException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
        try
        {
            fout.close();
        }
        catch (IOException e1)
        {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
    }
    try
    {
        fout.close();
    }
    catch (IOException e)
    {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }   
}
    catch (FileNotFoundException e1)
    {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
    return "/" +  userid.substring(0,userid.indexOf("#")) + "/" + filename; 
```

我的客户端代码：

```
<!DOCTYPE html >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
<title>Insert title here</title>
<script type="text/javascript">
function fun1()
{
$.ajax({
    url: '/RestWSGS/jersey/UserAuthentication/getcsv',
    async: false,
    data: $('#form2').serialize(),
    type: 'POST',
    cache: false,
    contentType: "application/x-www-form-urlencoded",
    processData: false,
    dataType: "text",
    success: function(data)
     {
        var iframe;
        iframe = document.getElementById("hiddenDownloader");
        if (iframe === null)
        {
            var iframe;
            iframe = document.getElementById("hiddenDownloader");
            if (iframe === null)
            {
                iframe = document.createElement('iframe');  
                iframe.id = "hiddenDownloader";
                //iframe.style.visibility = 'hidden';
                $("#mydiv").append(iframe);
            }

        }
        iframe.src = data;  
        alert('Hi');

     }
 });
}
$(function()
        {
    $(document).delegate("#hiddenDownloader","onload",function(ev)
            {
        alert('in onload');
            });

            $(document).delegate("#mydiv","click",function(ev)
            {
            fun1();

    });
        });
    </script>
</head>
<body>
<a id ='myhref'  href=""></a>
<div id="mydiv" style='position:absolute;width:20px;height:20px;background:black'></div>
<form id="form2" enctype="multipart/form-data" method="post" >
 <input id ="usernamecsv" name="usernamecsv" type="hidden"  value="abc@abc.com#26 8 2012 13 5 49/gr1"/>
  <input id ="filename" name="filename" type="hidden"  value="test.csv" />
</form>

    </body>
</html> 
```

希望有人觉得它有用！！感谢您的投入！

卡维塔

# web-config - 使用注册为 allowDefinition='MachineToApplication' 的部分是错误的

> ID：12970376
> 
> 赞同：17
> 
> 时间：2012-10-19T08:38:00.270
> 
> 标签：web-config, visual-studio-2012, publish

当我尝试发布我的 Web 应用程序时，我正在使用 Visual Studio 2012，我收到以下错误：

```
Error   1   It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level.  This error can be caused by a virtual directory not being configured as an application in IIS.  E:\Temp\BUILD\Debug\AspnetCompileMerge\Source\bin\web.config    24  0   Pixelate 
```

这是输出窗口的内容：

```
1>------ Build started: Project: Pixelate, Configuration: Debug Any CPU ------
1>  No way to resolve conflict between "System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=969db8053d3322ac, Retargetable=Yes" and "System.Core, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e". Choosing "System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=969db8053d3322ac, Retargetable=Yes" arbitrarily.
1>  No way to resolve conflict between "System.ServiceModel.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" and "System.ServiceModel.Web, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e". Choosing "System.ServiceModel.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" arbitrarily.
1>  Pixelate -> [...]\bin\TwistedPixel.Pixelate.dll
1>  '[...]\bin'
1>  CMD.EXE was started with the above path as the current directory.
1>  UNC paths are not supported.  Defaulting to Windows directory.
2>------ Publish started: Project: Pixelate, Configuration: Debug Any CPU ------
2>Connecting to [...]...
2>Transformed Web.config using [...]\Web.Debug.config into E:\Temp\BUILD\Debug\TransformWebConfig\transformed\Web.config.
2>Transformed[...]\Web.config using [...]\bin\Web.Debug.config into E:\Temp\BUILD\Debug\TransformWebConfig\transformed\bin\Web.config.
2>Copying all files to temporary location below for package/publish:
2>E:\Temp\BUILD\Debug\AspnetCompileMerge\Source.
2>C:\Windows\Microsoft.NET\Framework\v4.0.30319\aspnet_compiler.exe -v / -p E:\Temp\BUILD\Debug\AspnetCompileMerge\Source -c -d E:\Temp\BUILD\Debug\AspnetCompileMerge\TempBuildDir 
2>E:\Temp\BUILD\Debug\AspnetCompileMerge\Source\bin\web.config(24,0): Error ASPCONFIG: It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level.  This error can be caused by a virtual directory not being configured as an application in IIS.
2>
========== Build: 1 succeeded, 0 failed, 2 up-to-date, 0 skipped ==========
========== Publish: 0 succeeded, 1 failed, 0 skipped ========== 
```

如果有人可以阐明为什么会发生这种情况以及如何解决它，那就太好了。

我试过清理和重建（它重建得很好）我试过删除 bin、obj 并移动了临时输出目录 - 错误仍然存​​在。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-11-06T15:33:17.840

`web.config`这是发布过程创建的额外内容的问题。将鼠标悬停在 选项卡上`web.config`，您将看到额外文件的位置，然后您可以清除该位置。甚至可能是针对不同的配置，但它仍然会引发错误（例如调试与发布），可能类似于`<app>\obj\Release\Package\PackageTmp\web.config`.

删除它，你应该很高兴。不过可能会在以后的发布中再次出现。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-07-07T16:43:44.947

这似乎是一个非常常见的问题，当这是由 Visual Studio 中的 Web 发布功能创建的额外 web.config 引起的时，错误消息绝对没有帮助。

我能够通过强制我的 ASP.NET 应用程序项目在每次构建后清除 obj 目录来克服这些问题。

将以下内容添加到您的构建后事件中，并运行构建后事件：“始终”

```
rmdir /S /Q "$(ProjectDir)\obj" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:40:08.893

您的 web.config 中的一项设置存在问题。该错误可能会让您了解该位置。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-10-20T07:47:42.320

这个问题是关于默认命名空间更改的。如果你改变旧的，它将被修复。

![在此处输入图像描述](../Images/5bc272cdf0285a69a03c27a02f849d1e.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-05-16T12:58:13.653

在您的解决方案配置为发布模式时清洁解决方案。

在调试模式下配置您的解决方案时清洁解决方案。

在调试模式下配置您的解决方案时构建。

# python - aws + boto eips 列表

> ID：12970381
> 
> 赞同：1
> 
> 时间：2012-10-19T08:38:12.403
> 
> 标签：python, amazon-ec2, boto

使用 boto 列出任何弹性 IP 时出现问题。到目前为止，在取回实例列表并使用它们执行某些操作方面已经相当成功。但是，不确定如何获取所有分配的 eips 的列表/字典...

我看到以下对象：cl = botoEC2.get_all_addresses，它似乎并没有返回太多有趣的东西。

任何帮助将不胜感激

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T08:53:05.023

`get_all_addresses`为我工作。它返回具有各种方法和属性的地址对象列表。

```
addrs = conn.get_all_addresses()
for a in addrs:
    print a.public_ip 
```

打印出我帐户中所有关联和未关联的 eips。

当我试图找出 AWS api 时，我总是启动一个 IPython shell 并充分利用它们的选项卡完成。很适合自己找路。

# python - 我可以给用户一个选项，以使用 python 根据其在列表中的位置从列表中选择一个元素吗？

> ID：12970383
> 
> 赞同：0
> 
> 时间：2012-10-19T08:38:18.630
> 
> 标签：python, python-2.7

所以我有两个清单。第二个列表比第一个列表有更多的元素。我希望用户从第二个列表中的多余元素中选择一个元素，但是这些元素的名称很长，所以我希望用户只选择他想要的列表中的哪个元素，而不是输入名称根据他们在列表中的位置。

这是我到目前为止的代码

```
ListZero = ["One", "Two", "Three", "Four"]
ListOne = ["One", "Two", "Three", "Four", "Five", "Six", "Seven"]
numberOfNew = -(len(ListOne) - len(ListZero))
Name = raw_input("Please choose which number you wish to use: %s \nYour choice is: " % (", ").join(ListOne[numberOfNew:]))
if Name not in (ListOne[numberOfNew:]):
    print "Error"
else:
    print Name

Example output:
Please choose which number you wish to use: Five, Six, Seven 
Your choice is: Seven
Seven 
```

这将打印出第二个列表中的新元素，并允许用户将这些元素之一分配给参数“名称”。

但是由于我的实际代码中的列表元素会更长，我希望用户能够输入元素在列表中的位置并以这种方式将其分配给“名称”属性。

```
Example output:
Please choose which number you wish to use: Five[5], Six[6], Seven[7] 
Your choice is: 7
Seven 
```

我有办法做到这一点吗？我将不胜感激任何帮助。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:03:45.093

我会把你的问题分解成小块-

我会为多余的元素使用集合：

```
>>> set(ListOne) - set(ListZero)
set(['Seven', 'Six', 'Five'])

>>> Excess = list(set(ListOne)-set(ListZero))
['Seven', 'Six', 'Five'] 
```

接受用户输入：

```
>>> ExcessList = ["{0} [{1}]".format(name, index) for index, name in enumerate(Excess,1)]
['Seven [1]', 'Six [2]', 'Five [3]']

>>> Name = raw_input("Please choose which number you wish to use: {} \n".format(', '.join(ExcessList))) 
```

> 请选择您希望使用的数字：七 [1]、六 [2]、五 [3]

处理用户输入：

```
try:
    Selected = Excess[int(Name)-1]
    print "Your choice is: {}".format(Selected)
Except: 
    print "Invalid input" 
```

当我们输入 1 时：

> 您的选择是：七

我将由您将这些部分组合成一个工作程序！您应该彻底阅读 Python 文档 - 查看`enumerate`、`list`、`set`和字符串格式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:02:25.460

关于什么

```
index = raw_input()
index = int(index) 
```

您的选择是 ListOne[index-1]

# email - 来自 cakephp 供应商的 smtp 电子邮件返回：代码：-1，响应：盖子邮件地址“无回复”）]

> ID：12970384
> 
> 赞同：0
> 
> 时间：2012-10-19T08:38:21.437
> 
> 标签：email, cakephp, sendmail, pear

我有一个 cakephp 站点，由另一个开发人员构建，该站点使用供应商 ('smtpmail') 发送电子邮件，这在过去运行良好，但刚刚迁移到另一台服务器，我现在收到以下错误。

在谷歌上找不到类似的东西，其他人看到了吗？

```
authentication failure [SMTP: Invalid response code received from server (code: -1, response: lid mail address 'no-reply')] 
```

我已经设置了所有需要的配置

```
private $host = "mail.example.com";
private $pure_host = "example.com";
private $port = "25";
private $username = "no-reply";
private $password = "****"; 
```

（示例不是网站的实际名称！）

非常感谢任何建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T12:13:18.597

检查私人 $username = "no-reply"; 是一个实际存在的电子邮件帐户，也许您的服务器需要完整的用户名才能登录，例如： private $username = "no-reply@urdomain.com"; 确保您的密码也已设置。

# mysql - Codeigniter 随机行 mysql 错误 - 类 CI_DB_mysqli_result 的对象无法转换为字符串

> ID：12970386
> 
> 赞同：1
> 
> 时间：2012-10-19T08:38:22.557
> 
> 标签：mysql, sql, codeigniter, random

```
function random()
    {
    $anketadb = $this->load->database('anketa',TRUE);
    $br = $anketadb->count_all_results('anketadata');
    $nmb = mt_rand(1,$br);

    if ($nmb != 1){
    $nmb = $nmb - 1;
    }

    $count = $anketadb->get('anketadata', 1, $nmb);

    return $count;
    } 
```

> 为什么当我在视图中回显此代码时返回错误：
> 
> 遇到 PHP 错误
> 
> 严重性：4096
> 
> 消息：CI_DB_mysqli_result 类的对象无法转换为字符串
> 
> 文件名：ankete/rezultatiankete.php
> 
> 行号：52

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:55:25.110

无论如何，在您使用的示例中，您应该向我们展示更多代码（控制器、视图等）

```
return $count; 
```

在这种情况下`$count;`是一个对象，要回显它的字段，您必须在视图中循环，例如

```
foreach ($count->result() as $row)
{
    echo $row->fieldname; // rerplace the fieldname with a real field/column name of your database
} 
```

所以如果你想回应`$count`那你就犯了一个错误，它是一个对象，[**在这里阅读更多**](http://codeigniter.com/user_guide/database/active_record.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:48:10.793

`echo`不适用于用于`print_r(returned value)`输出对象、数组的对象

获取随机列使用`SELECT * FROM table ORDER BY RAND() LIMIT 0,1;`

# ruby-on-rails - 如何让 Rails 1.2.6 自动从 app/* 加载代码

> ID：12970391
> 
> 赞同：0
> 
> 时间：2012-10-19T08:38:33.153
> 
> 标签：ruby-on-rails, legacy

我有一个 Rails 1.2.6 应用程序，我希望能够在 app/ 中创建一个文件夹并加载其内容。

这是 Rails 3 的行为。如何在 Rails 1.2.6 中实现相同的功能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T09:55:58.793

在 config/environment.rb

```
config.load_paths += Dir["#{RAILS_ROOT}/app/jobs"] 
```

# linux - sysfs_create_file() 和 sysfs_create_group() 有什么区别？

> ID：12970393
> 
> 赞同：7
> 
> 时间：2012-10-19T08:38:42.093
> 
> 标签：linux, linux-kernel, linux-device-driver

这两个函数的原型：

```
int sysfs_create_group(struct kobject *kobj, const struct attribute_group *grp)
int sysfs_create_file(struct kobject * kobj, const struct attribute * attr) 
```

在我看来，这两个函数都会`kobj->name`在`sysfs`. 我能找到的唯一区别是，group func 可以一次创建一组属性，因为文件 func 只有一个属性。那么还有其他尊重吗？还是我对功能的理解有误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T22:20:03.510

是的，该组只是一个辅助包装器，可以更轻松地管理多个属性。[您可以在本 pdf](http://www.kernel.org/pub/linux/kernel/people/mochel/doc/papers/ols-2005/mochel.pdf)的第 9 节中了解它们。

# .htaccess - htaccess 重定向动态

> ID：12970394
> 
> 赞同：0
> 
> 时间：2012-10-19T08:38:42.827
> 
> 标签：.htaccess, redirect

我正在尝试将 /en/news/12345 重定向到[http://www.xyz.com/en/newsletters/12345](http://www.xyz.com/en/newsletters/12345)

唯一的问题是“en”和“12345”可以改变，但“news”总是一样的。

到目前为止，我有以下内容：

RewriteRule /^(.)/news/(.)$ [http://www.xyz.com/ $1/news](http://www.xyz.com/) */* $ 2 [R=301,L]

但是如果我去 mydomain/wp-admin 那么我会得到一个无休止的重定向？？任何想法为什么会发生这种情况？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:54:17.320

我想我在您的 .htaccess 文件中发现了问题。最初，当路径指向现有文件或文件夹（忽略文件）时，您有两个条件阻止`RewriteRule . /swissfil3/index.php [L]`（全部）重定向：

```
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d 
```

RewriteCond 仅适用于条件直接跟随的规则。

当您直接在这些指令下方添加新规则时，不会阻止包罗万象的规则重定向现有文件或目录，如 /wp-admin。即在catch-all 之前不匹配任何规则的每个请求都将被重定向到/swissfin/3/index.php。

此外，您曾经`(.)`捕获路径的每个部分。这将匹配一个任意字符，但不再匹配，因此您的重定向将被限制为 /X/news/Y，而不是 /XX/news/YYYY...，要解决此问题，您可以使用`(.+)`匹配零个或多个字符, 或者更好`([^/]*)`的匹配零个或多个不等于 / 的字符。

您应该能够通过使用以下代码来避免这些问题（其中 catch-all 指令已直接移动到 ignore-on-file 下方，并且重写规则匹配零个或多个不等于 / 的字符）：

```
# ...
RewriteRule ^([^/]*)/news/([^/]*)$ http://www.xyz.com/$1/news/$2 [R=301,L]
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /swissfin3/index.php [L] 
```

在这里，您匹配每个包含字符的 URL

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:48:08.110

选项 +FollowSymlinks

重写引擎开启

RewriteRule ^en/news/([0-9]) [http://www.xyz.com/en/newsletters/](http://www.xyz.com/en/newsletters/) $1 [NC]

请试试这个，希望它能解决你的问题

# vim - 打开该类型的文件时是否可以自动设置 UTF16 文件编码？

> ID：12970395
> 
> 赞同：27
> 
> 时间：2012-10-19T08:38:48.850
> 
> 标签：vim

我用 Vim 编辑各种文件（我相信大多数 Vim 用户都会这样做）。我遇到的一个问题是当我遇到一个具有奇怪编码的文件时，Vim 会做什么。大多数编辑器（这些天）在检测文件编码方面做得很好。但是，Vim 通常不会。你必须输入，例如：

```
:e ++enc=utf-16le 
```

以 UTF-16 重新读取文件（否则你会得到大量的 @ 符号）

我一直在四处寻找，并看到`set_utf8.vim`了可以检测特定文件编码的脚本。但是，是否有更通用的解决方案？每次打开不寻常的文件时，我都不得不手动计算文件编码并咨询帮助，这让我有点厌烦。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-19T09:27:22.417

添加编码名称`'fileencodings'`应该可以解决问题：

```
:set fencs=ucs-bom,utf-16le,utf-8,default,latin1 
```

或者，还有[AutoFenc](http://www.vim.org/scripts/script.php?script_id=2721)和[fencview 之](http://www.vim.org/scripts/script.php?script_id=1708)类的插件。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-23T05:39:07.987

将此代码添加到您的*.vimrc*：

```
if has("multi_byte")
  if &termencoding == ""
    let &termencoding = &encoding
  endif
  set encoding=utf-8
  setglobal fileencoding=utf-8
  "setglobal bomb
  set fileencodings=ucs-bom,utf-8,latin1
endif 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-19T08:42:47.527

你有字节顺序标记吗？Vim 应该检测到这一点并正常工作。从[文档 - 第 45.4 节](http://vimdoc.sourceforge.net/htmldoc/usr_45.html)：

> 当你开始编辑那个 16 位 Unicode 文件并且它有一个 BOM 时，Vim 会检测到这个并在读取它时将文件转换为 utf-8。'fileencoding' 选项（末尾没有 s）设置为检测到的值。在这种情况下，它是“utf-16le”。这意味着它是 Unicode、16 位和 little-endian。这种文件格式在 MS-Windows 上很常见（例如，用于注册表文件）。

# visual-studio-2010 - SQL Server 2008 中的新数据库未显示在下拉列表中

> ID：12970397
> 
> 赞同：2
> 
> 时间：2012-10-19T08:38:50.003
> 
> 标签：visual-studio-2010, database-connection, sql-server-2008-express

我是使用 Visual Studio 和 SQL Server 的新手。

我的问题是这样的：

我在 SQL Server Management Studio 中创建了一个数据库，然后我想将它连接到我在 Visual Studio 中的应用程序。我右键单击服务器资源管理器，然后单击添加连接。在这里，我可以通过下拉列表找到我的服务器，但是在“连接到数据库”下选择数据库时，在下拉列表中找不到我的新数据库...

你能帮我吗？十分感谢 ：-）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T23:07:58.363

我遇到了同样的问题（本地安装了 sql server），通过将 localhost 放在服务器名称中代替 pcname/username 它可以工作，我希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:58:58.957

在您创建数据库的 sql server 2008 中检查是 windows 身份验证还是服务器身份验证。如果是服务器身份验证，请检查您输入的用户名和密码是否正确。

# asp.net-mvc - 使用 Telerik Controls 会影响我的应用程序性能吗？

> ID：12970398
> 
> 赞同：-2
> 
> 时间：2012-10-19T08:39:08.710
> 
> 标签：asp.net-mvc, telerik, telerik-grid, telerik-mvc

使用第三方组件确实会影响应用程序的性能。我正在 Telerik 扩展的帮助下编写 MVC.Net 应用程序。另外，在性能和可维护性方面编写 mvc 应用程序的最佳实践是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:48:07.377

我认为任何使用这么多行的东西都会受到影响。

我建议编写一个非常简单的应用程序，使用 Telerik 加载记录，并使用`System.Diagnostics.Stopwatch`. 使用您正在考虑的替代方法做同样的事情，并比较时间。例如：

```
var sw = new System.Diagnostics.Stopwatch();
sw.Start();
// Simulate long-running operation
System.Threading.Thread.Sleep(1000);
Console.Write(sw.Elapsed); 
```

如果你分解任务（例如获取数据和显示数据），并对每个部分进行计时，Telerik 可能在其中一个方面做得更好。

# php - 安全保存贝宝用户名、密码和签名

> ID：12970399
> 
> 赞同：0
> 
> 时间：2012-10-19T08:39:14.387
> 
> 标签：php, paypal, passwords, signature

Paypal 曾多次提到不要在 Web 文档中包含用户名、密码和签名。存储此 na 共享环境的最安全方法是什么？

我需要将 PHP 类变量设置为受保护，将其存储在数据库中还是必须将其存储在另一个位置？

希望有人能澄清一下。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T03:37:55.683

人们总是以错误的方式回答这个问题。这不是关于在数据库中安全地存储用户名和密码。它是关于安全地存储应用程序用于连接各种资源（例如：数据库服务器、PayPal API 等）的凭据。

标准做法是参数化您的代码，以便它从外部文件中读取这些凭据。该文件反过来将成为系统管理员的责任，他们将负责加密/安全。

这个线程有一些很好的信息： [如何在 PHP 中保护数据库密码？](https://stackoverflow.com/questions/97984/how-to-secure-database-passwords-in-php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:48:18.733

**您应该使用单向散列算法**（例如 bcrypt）将用户密码存储在数据库中。这是关于如何使用 bcrypt[的一个很好的答案。](https://stackoverflow.com/a/6337021/491494)

# java - SAX XML 解析添加参数

> ID：12970401
> 
> 赞同：2
> 
> 时间：2012-10-19T08:39:20.470
> 
> 标签：java, android, parsing

我是使用 SAX 解析的新手。我设法使用此代码获取返回的 xml 并将其绑定到我的 getter setter 上。

我的代码：

```
try {

        /**
         * Create a new instance of the SAX parser
         **/
        SAXParserFactory saxPF = SAXParserFactory.newInstance();
        SAXParser saxP = saxPF.newSAXParser();
        XMLReader xmlR = saxP.getXMLReader();

        URL url = new URL(""); // URL of the XML

        /** 
         * Create the Handler to handle each of the XML tags. 
         **/
        XMLHandler myXMLHandler = new XMLHandler();
        xmlR.setContentHandler(myXMLHandler);
        xmlR.parse(new InputSource(url.openStream()));

    } catch (Exception e) {
        System.out.println(e);
    }

    data = XMLHandler.data; 
```

现在我的问题是，如何在我的 php url 上传递参数。因为在我的 PHP 文件中，我需要一些数据，以便我可以验证它是否有效。

假设我需要登录电话的人的用户名？

在 DOM 方法上，我可以做这样的事情

```
XMLParser parser2 = new XMLParser(); 
    parser2.getXmlFromUrl(URL_FBFRIEND); 

      //HTTP POST
      String url_Getmembermob= URL_FBFRIEND ;
      //String xml_getMembermob=null;
      try {
      HttpClient httpclient = new DefaultHttpClient();
      HttpPost httppost = new HttpPost(url_Getmembermob);

      List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(4); 
      nameValuePairs.add(new BasicNameValuePair("blah", "blah"));
      nameValuePairs.add(new BasicNameValuePair("blah", "blah"));
      nameValuePairs.add(new BasicNameValuePair("blah", "blah"));
      nameValuePairs.add(new BasicNameValuePair("blah", "blah"));

      //Log.i("nameValuePairs", "nameValuePairs=" + nameValuePairs);

        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
        HttpResponse httpResponse = httpclient.execute(httppost);

        HttpEntity httpEntity = httpResponse.getEntity();

        FBFRIENDS = EntityUtils.toString(httpEntity); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T13:55:38.550

不要使用 URL 对象，而是继续使用 HttpClient。使用 HttpResponse.getInputStream() 方法。

```
XMLHandler myXMLHandler = new XMLHandler();
xmlR.setContentHandler(myXMLHandler);
xmlR.parse(httpResponse.getInputStream()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T13:57:30.657

SAX 是一个推送解析器。这意味着它通过一个 XML 文档，基于它生成事件并将它们向前推送以供您处理。它不会像 DOM 那样创建对象树。但它可以帮助您创建自定义对象或您选择的对象层次结构，而内存占用要少得多。

生成的 SAX 事件可能类似于“呃！哦！我刚刚点击了一个元素打开标签”、“好吧！我点击了一个属性”或“字符！亲爱的上帝，我找到了一个文本值”。通常为在被解析的 XML 文档中找到的每个 XML 构造生成一个事件，但并非所有这些都需要处理。处理的内容由处理程序的实现指定（`setContentHandler(myXMLHandler)`在您的示例中使用设置）。

为了获得特定的 XML 内容，您需要实现或使用特定处理程序的实现。您的示例使用了一个名为`XMLHandler`. 我不知道您是自己实现了它还是它只是一些默认实现。从外观上看，它只是将 XML 文档的全部内容复制到 String 成员中，这并不是您真正想要用 SAX 做的事情（DOM 会为您做得更好）。

你现在需要做的是通过实现一个处理程序来创建一个包含你需要的数据的对象。这是一个示例（您应该以您认为合适的方式构建对象，而不仅仅是打印内容）：

```
public class DummyHandler extends DefaultHandler{
    @Override
    public void characters(char[] ch, int start, int length)
            throws SAXException {
        super.characters(ch, start, length);
        System.out.println("characters! dear god, I've located a text value");
    }

    @Override
    public void endElement(String uri, String localName, String name)
            throws SAXException {
        super.endElement(uri, localName, name);
        System.out.println("an element was ended. may it R.I.P. o7");
    }

    @Override
    public void startElement(String uri, String localName, String name,
            Attributes attributes) throws SAXException {
        super.startElement(uri, localName, name, attributes);
        System.out.println("uh! oh! I've just hit an element openening tag");
    }
} 
```

有关更多详细信息，请参见[此处](http://www.ibm.com/developerworks/opensource/library/x-android/#N1014A)。

# mysql - 具有多个子选择连接的慢 MySQL 查询

> ID：12970402
> 
> 赞同：0
> 
> 时间：2012-10-19T08:39:20.347
> 
> 标签：mysql, performance, join

这一直困扰着我一整天：

我有这个查询很好，但在某些情况下很慢。解释结果告诉我 mysql 正在扫描 40000 行 3 次。该查询加入了大致相似的子选择，但都有些不同。

我该如何改进呢？

```
SET @lastchecktime = (SELECT max(tresults.StartTime) FROM tresults);
SELECT tresults.shopID
 , tshops.OfficialName
 , tresults.Price, tresults.starttime
 , Sub2.minprice
 , Sub2.StartTime
 , Sub3.daystoolow
 , (sub2.minprice/tsupplierproducts.lowestprice) -1 as afwijking
 , If(maxstarttime = @lastchecktime,'yes' ,'no') as notavailable     
FROM
  tresults
INNER JOIN tshops
ON tshops.shopID = tresults.shopID
inner JOIN (SELECT tresults.shopID
                 , max(tresults.StartTime) AS MaxStartTime
            FROM
            tresults
            WHERE
              tresults.pID = 7
              AND tresults.websiteID = 1
              AND tresults.StartTime BETWEEN "2012-08-01" AND "2012-12-01"              
            GROUP BY
              tresults.shopID) Sub1
ON tresults.StartTime = Sub1.MaxStartTime AND Sub1.shopID = tshops.shopID
INNER JOIN (SELECT tresults.shopID
             , tresults.StartTime
             , min(tresults.Price) AS minprice
        FROM
          tresults
        WHERE
          tresults.pID = 7
          AND tresults.websiteID = 1
          AND tresults.StartTime BETWEEN "2012-08-01" AND "2012-12-01"
        GROUP BY
          tresults.shopID) Sub2
ON Sub2.shopID = tshops.shopID
INNER JOIN (SELECT tresults.shopID
             , round(count(tresults.StartTime)/3,0) AS daystoolow
        FROM
          tsupplierproducts
        INNER JOIN tresults
        ON tsupplierproducts.pID = tresults.pID AND tresults.Price < tsupplierproducts.LowestPrice
        WHERE
          tresults.pID = 7
          AND tresults.websiteID = 1
          AND tresults.StartTime BETWEEN "2012-08-01" AND "2012-12-01"
          AND tsupplierproducts.supplierID = 2
        GROUP BY
          tresults.shopID) Sub3
ON Sub3.shopID = tshops.shopID
INNER JOIN tsupplierproducts
ON tsupplierproducts.pID = tresults.pID AND tsupplierproducts.supplierID = 2
WHERE
  tresults.pID = 7
  AND tresults.websiteID = 1
ORDER BY
notavailable desc, tresults.Price DESC 
```

解释结果：

```
1, PRIMARY, tsupplierproducts, const, PRIMARY,fk_SupplierID,fk_pID, PRIMARY, 8, const,const, 1, Using temporary; Using filesort
1, PRIMARY, <derived4>, ALL, , , , , 27, 
1, PRIMARY, <derived2>, ALL, , , , , 43, Using where; Using join buffer
1, PRIMARY, <derived3>, ALL, , , , , 43, Using where; Using join buffer
1, PRIMARY, tshops, eq_ref, PRIMARY, PRIMARY, 4, Sub1.shopID, 1, Using where
1, PRIMARY, tresults, eq_ref,     PRIMARY,idxPID,idxWebsite,idxStartTimeASC,idxStartTimeDESC,fk_shopID, PRIMARY, 20, Sub1.MaxStartTime,const,Sub3.shopID,const, 1, 
4, DERIVED, tsupplierproducts, const, PRIMARY,fk_SupplierID,fk_pID, PRIMARY, 8, , 1, Using temporary; Using filesort
4, DERIVED, tresults, ref, PRIMARY,idxPID,idxWebsite,idxStartTimeASC,idxStartTimeDESC,     idxPID, 4, , 42048, Using     where
3, DERIVED, tresults, ref, PRIMARY,idxPID,idxWebsite,idxStartTimeASC,idxStartTimeDESC,     idxPID, 4, , 42048,     Using     where; Using temporary; Using filesort
2, DERIVED, tresults, ref, PRIMARY,idxPID,idxWebsite,idxStartTimeASC,idxStartTimeDESC, idxPID, 4, , 42048, Using where; Using index; Using temporary; Using filesort 
```

任何帮助，将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:47:03.560

我的建议是首先删除子查询。

# c# - 下拉列表的模型的特定部分

> ID：12970406
> 
> 赞同：0
> 
> 时间：2012-10-19T08:39:24.350
> 
> 标签：c#, asp.net-mvc-3

这就是我想要完成的。

基本上我的`Currency`模型包含`ID`, `Name`, `BuyValue`, `MidValue`,`SellValue`和`DateCreated`.

现在我想在我想出的转换器中使用它们。它有两个下拉列表，其中第一个 ddl 是**从**哪个货币转换而来，第二个是转换**到**哪个货币。常规的东西。

第一个 ddl 应始终包含`Name`ddl 中的文本和`BuyValue`值，而第二个应始终包含`Name`文本和`SellValue`值。用简单的 HTML 术语来说就是这样。

```
<select id="ddlFirst">
    <option value="BuyValue1">Name1</option>
    <option value="BuyValue2">Name2</option>
    ...
</select>
<select id="ddlSecond">
    <option value="SellValue1">Name1</option>
    <option value="SellValue2">Name2</option>
    ...
</select> 
```

*当然这不是它的代码，它只是澄清上面的解释。*
我在这件事上是个初学者，实际上不知道从哪里开始。最让我感动的是我应该以某种方式将这些值分成不同的模型并从中创建一个视图模型，还是我可以以某种方式使用它们。老实说，我很困惑，所以任何帮助表示赞赏。

**更新**

```
var currencies = db.Currencies.Where(c => c.DateCreated.Equals(today));
var list = currencies.Select(s => new { s.ID, s.Name, s.BuyValue, s.SellValue }).ToList();

var model = new ConverterViewModel
{
    FromValues = list.Select( x => new SelectListItem { Value = x.BuyValue.ToString(), Text =  x.Name}),
    ToValues = list.Select(x => new SelectListItem { Value = x.SellValue.ToString(), Text = x.Name }),
}; 
```

不过，这是空的。:( 我知道不是。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T08:45:41.580

> 最让我感动的是我应该以某种方式将这些值分成不同的模型并从中创建一个视图模型，还是我可以以某种方式使用它们。

是的，当然，您应该定义一个视图模型：

```
public class MyViewModel
{
    public string From { get; set; }
    public IEnumerable<SelectListItem> FromValues { get; set; }

    public string To { get; set; }
    public IEnumerable<SelectListItem> ToValues { get; set; }
} 
```

然后让控制器操作填充此视图模型并将其传递给视图：

```
public ActionResult SomeAction()
{
    var currencies = _db.Currencies.ToList();
    var model = new MyViewModel
    {
        FromValues = currencies.Select(x => new SelectListItem { Value = x.BuyValue.ToString(), Text = x.Name }),
        ToValues = currencies.Select(x => new SelectListItem { Value = x.SellValue.ToString(), Text = x.Name })
    };
    return View(model);
} 
```

最后有一个强类型视图：

```
@model MyViewModel

<div>
    @Html.LabelFor(x => x.From)
    @Html.DropDownListFor(x => x.From, Model.FromValues)
</div>
<div>
    @Html.LabelFor(x => x.To)
    @Html.DropDownListFor(x => x.To, Model.ToValues)
</div> 
```

# java - FileChannel.close() 是否关闭底层流？

> ID：12970407
> 
> 赞同：24
> 
> 时间：2012-10-19T08:39:34.853
> 
> 标签：java, nio

就像标题一样；是否关闭`FileChannel`底层文件流？

* * *

从[`AbstractInterruptibleChannel.close()`](http://docs.oracle.com/javase/6/docs/api/java/nio/channels/Channel.html#close%28%29)API 文档中，您可以阅读：

> 关闭此频道。
> 
> 如果通道已经关闭，则此方法立即返回。否则，它将通道标记为已关闭，然后调用该`implCloseChannel`方法以完成关闭操作。

哪个调用[`AbstractInterruptibleChannel.implCloseChannel`](http://docs.oracle.com/javase/6/docs/api/java/nio/channels/spi/AbstractInterruptibleChannel.html#implCloseChannel%28%29)：

> 关闭此频道。
> 
> 该方法由 close 方法调用，以执行关闭通道的实际工作。仅当通道尚未关闭时才调用此方法，并且不会多次调用。
> 
> 此方法的实现必须安排在此通道上的 I/O 操作中阻塞的任何其他线程立即返回，方法是抛出异常或正常返回。

这并没有说明有关流的任何内容。所以事实上，当我这样做时：

```
public static void copyFile(File from, File to) 
        throws IOException, FileNotFoundException {

    FileChannel sc = null;
    FileChannel dc = null;

    try {
        to.createNewFile();

        sc = new FileInputStream(from).getChannel(); 
        dc = new FileOutputStream(to).getChannel();

        long pos = 0;
        long total = sc.size();
        while (pos < total)
            pos += dc.transferFrom(sc, pos, total - pos);

    } finally {
        if (sc != null) 
            sc.close();
        if (dc != null) 
            dc.close();
    }
} 
```

...我让溪流保持开放？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-19T08:58:27.090

答案是“是”，但 Javadoc 中没有任何内容实际上是这样说的。原因是它`FileChannel`本身是一个抽象类，它的具体实现提供了`implCloseChannel()`方法，关闭了底层的FD。然而，由于该架构和`implCloseChannel()`受保护的事实，这没有得到记录。

# android - 安卓 4.1 中的 Phonegap 安卓推特

> ID：12970408
> 
> 赞同：0
> 
> 时间：2012-10-19T08:39:42.080
> 
> 标签：android, cordova, twitter, twitter-oauth, phonegap-plugins

在我的 android 应用程序中，我正在使用推文功能，并且按照[http://www.mobiledevelopersolutions.com/home/start/twominutetutorials/tmt5p1](http://www.mobiledevelopersolutions.com/home/start/twominutetutorials/tmt5p1)中的说明使用。它不适用于 4.0.3 版安卓设备。childbrowser 没有打开。我正在使用cordova-2.0.0，但它仍然无法正常工作。我可以知道问题吗？

问候阿什维尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T12:48:48.443

要打开 twitter 登录页面，您的设备必须正确设置为当前日期和时间，否则无法打开。因为，我们需要通过当前的时间戳来获取 request_token。检查一次。

# java - Android编译，方法太多

> ID：12970411
> 
> 赞同：4
> 
> 时间：2012-10-19T08:39:46.230
> 
> 标签：java, android, compilation

当我编译我的android包时：它打印

编写输出时遇到问题：方法太多：65544；最大值为 65536。按包装： ... ...

这是因为我在课堂上定义了太多的本地方法。我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-30T23:35:14.740

Google 提出的一种解决方案是使用多个 DEX 文件。

[http://android-developers.blogspot.com/2011/07/custom-class-loading-in-dalvik.html](http://android-developers.blogspot.com/2011/07/custom-class-loading-in-dalvik.html)

根据我在 Konstatin 的另一个解决方案中的评论，在某些情况下，您会超出允许的分配的 64K 方法。

Proguard 剥离一些您不使用的第三方库方法调用是一种临时解决方案。

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-10-19T08:42:14.997

这清楚地表明你的类太复杂了，应该在一些更小的单元中重构。

# linux - '/usr/lib/mozilla/plugins/npPluginTest.so' 不是 sh 的 ELF 可执行文件

> ID：12970412
> 
> 赞同：0
> 
> 时间：2012-10-19T08:39:50.797
> 
> 标签：linux, elf

我已经创建了 NPAPI 插件，它在我创建了 .so 文件的 linux 上运行良好，但是当我在我们的生产设备上部署这个插件时，我们的 linux 环境资源有限（由于性能限制），引发以下错误

'/usr/lib/mozilla/plugins/npPluginTest.so' 不是 sh 的 ELF 可执行文件

仅供参考：so 文件在 32 位 linux 机器上创建。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T04:59:26.277

我使用错误的工具链/编译器构建插件。而不是机器：Intel 80386 它应该是机器：ST40。我在 ST GCC 编译器上构建了我的共享库。现在我的 NAPI 插件工作正常。感谢您的建议。

# css - Sass @each 变量插值

> ID：12970413
> 
> 赞同：2
> 
> 时间：2012-10-19T08:39:50.940
> 
> 标签：css, sass, each

在我的最新站点中，我正努力使用 Sass 功能让我的生活更轻松。

我正在编写一些简单的错误框样式，并认为使用每种样式都会简化它们。

我有以下内容：

$message-box-types: 错误成功正常

```
@each $type in $message-box-types
  %#{$type}-box
    @extend %message-box
    border-color: $message-#{$type}
    color: $message-#{$type}
    background-color: lighten($message-#{$type}, 20%) 
```

错误用 $message-#{$type} 标识这两行

我之前尝试编写的 @each 语句也有类似的问题，但最终忽略了它并从头开始写出来，因为我认为这是 Sass 无法处理的。

有人有想法么？

尼尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-08T16:46:27.933

使用[Maptastic Maple](http://thesassway.com/news/sass-3-3-released#multi-each) (v3.3)，您可以在此处使用一些简单的地图功能

```
$message-box-types:
  foo #ccc,
  bar #ddd

@each $type, $color in $message-box-types
  %#{$type}-box
    @extend %message-box
    border-color: $color
    color: $color
    background-color: lighten($color, 20%) 
```

# iphone - 代理授权 iphone

> ID：12970422
> 
> 赞同：1
> 
> 时间：2012-10-19T08:40:19.523
> 
> 标签：iphone, proxy

是否可以强制 iPhone 在我的 iPhone（任何应用程序）发送的每个请求中发送登录名/密码（代理授权：）？如果可能的话，请让我知道我需要文档才能开始或源代码。

谢谢

# php - htaccess 文件在服务器上工作，在本地不工作

> ID：12970426
> 
> 赞同：0
> 
> 时间：2012-10-19T08:40:28.337
> 
> 标签：php, apache, .htaccess, config

我一直在四处寻找并尝试各种不同的方法，但我似乎无法弄清楚出了什么问题。

我有以下 .htaccess 代码：

```
Options +FollowSymLinks
IndexIgnore */*
# Turn on the RewriteEngine
RewriteEngine On
#  Rules
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . index.php [L] 
```

它在生产服务器上运行良好，因此暗示配置文件在那里设置得很好。不过，我正在尝试在本地为该站点进行开发，但当我转到 localhost/example/login（与 domain.com/login 对应）时，出现 404 错误，提示该文件不存在。

我尝试了不同的设置，设置 AllowOverride All，检查 phpinfo() 中是否启用了 mod_rewrite；什么不是。但我似乎无法弄清楚出了什么问题。

有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:46:50.937

检查是否启用了 mod_rewrite。不要忘记重新启动apache。检查您的虚拟主机，是否启用了允许覆盖？

# c++ - c++ 编译器可以在用户定义和编译器生成的复制构造函数之间自由选择吗？

> ID：12970428
> 
> 赞同：1
> 
> 时间：2012-10-19T08:40:34.120
> 
> 标签：c++, mingw, gnu, ansi

我有以下示例代码（我的程序的精简版）

类“some_class”有一个带有默认参数的构造函数。编译器能够将此构造函数识别为复制构造函数。在主函数中，当我订购一个名为“b”的复制构造对象时，将调用此构造函数。但是当我从函数结果构造“c”时，编译器会调用编译器生成的复制构造函数（它复制位模式）。我可以通过 c.some_data 的值来判断，它应该由我自己的复制构造函数设置为值 2。

1) 标准对此有何评论？2）我的编译器坏了吗？

我使用 MinGW 时没有任何选项，只有我的源文件名和可执行文件名的规范。我从 MinGW 官方网站获得了 gnu 开源编译器的端口，我使用的是最新版本。我是否发现了一个错误，或者这是由于我对 c++ 的（错误）理解？

提前致谢

```
#include <iostream>
#include <string>

class some_class
{
public:
    some_class(int p = 0) :
        some_data(p)
    {
        std::cout << "user defined constructor (p = " << p << ")" << std::endl;
    }
    some_class(const some_class &, int = 0)
    {
        std::cout << "user defined copy constructor" << std::endl;

        some_data = 2;
    }

    int some_data;
};

extern some_class some_function_returning_some_class_object();

int main(int, char **)
{
        std::cout << "creating a, with no parameters" << std::endl;
    some_class a;
        std::cout << "creating b, a copy of a" << std::endl;
    some_class b = a;
        std::cout << "creating c, copy constructed from a function result" << std::endl;
    some_class c = some_function_returning_some_class_object();
        std::cout << "c.some_data = " << c.some_data << std::endl;
}

some_class some_function_returning_some_class_object()
{
    some_class a(1);

    return a;
} 
```

输出如下：

```
creating a, with no parameters
user defined constructor (p = 0)
creating b, a copy of a
user defined copy constructor
creating c, copy constructed from a function result
user defined constructor (p = 1)
c.some_data = 1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:43:07.063

编译器未使用编译器定义的默认复制构造函数。大概是使用[返回值优化](http://en.wikipedia.org/wiki/Return_value_optimization)来完全跳过副本。

# php - 多个数据库连接的多个数据库用户

> ID：12970432
> 
> 赞同：1
> 
> 时间：2012-10-19T08:40:45.260
> 
> 标签：php, mysql, codeigniter, database-connection

我在我的 CI 应用程序上使用了 2 个不同的数据库。

我在 mysql 上创建了 2 个用户，并授予 user1 到 db1 所有权限，然后授予 user2 到 db2 使用 SQLpro 客户端的所有权限。

数据库.php：

```
$active_group = 'default';
$active_record = TRUE;   

$db['default']['hostname'] = 'localhost';
$db['default']['username'] = '***1';
$db['default']['password'] = '***1';
$db['default']['database'] = 'ci_users';
$db['default']['dbdriver'] = 'mysql';
$db['default']['dbprefix'] = '';
$db['default']['pconnect'] = TRUE;
$db['default']['db_debug'] = TRUE;
$db['default']['cache_on'] = FALSE;
$db['default']['cachedir'] = '';
$db['default']['char_set'] = 'utf8';
$db['default']['dbcollat'] = 'utf8_unicode_ci';
$db['default']['swap_pre'] = '';
$db['default']['autoinit'] = TRUE;
$db['default']['stricton'] = FALSE;

$db['keys']['hostname'] = 'localhost';
$db['keys']['username'] = '***2';
$db['keys']['password'] = '***2';
$db['keys']['database'] = 'ci_keys';
$db['keys']['dbdriver'] = 'mysql';
$db['keys']['dbprefix'] = '';
$db['keys']['pconnect'] = TRUE;
$db['keys']['db_debug'] = TRUE;
$db['keys']['cache_on'] = FALSE;
$db['keys']['cachedir'] = '';
$db['keys']['char_set'] = 'utf8';
$db['keys']['dbcollat'] = 'utf8_unicode_ci';
$db['keys']['swap_pre'] = '';
$db['keys']['autoinit'] = TRUE;
$db['keys']['stricton'] = FALSE; 
```

型号：

```
<?php

if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Model_Users extends CI_Model {
    function Model_Users()
    {
        // Call the Model constructor
        parent::__construct();
        $this->load->database('default',true);
    }
etc...

<?php

if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Model_Keys extends CI_Model {
    function Model_Keys()
    {
        // Call the Model constructor
        parent::__construct();
        $this->load->database('keys',true);
    }
etc... 
```

因此，当在同一控制器/方法中使用这两个模型时，model_users 效果很好，但 model_keys 返回错误，因为它似乎加载了 model_users db1 而不是加载 db2：

> 无法修改标头信息 - 标头已发送（输出开始于 /Applications/XAMPP/xamppfiles/htdocs/app/application/models/model_keys.php:2） 文件名：core/Common.php
> 行号：442
> 
> 发生数据库错误
> 错误号：1146
> 表 'ci_users.ci_keys' 不存在 //这应该是 ci_keys.ci_keys

有人有想法吗？

我在model_keys中编辑了代码：

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Model_Keys extends CI_Model {

    function Model_Keys()
    {
        // Call the Model constructor
        parent::__construct();
        $this->db_keys = $this->load->database('keys',true);
    } 
```

现在 db 可以工作，但我在模型上收到会话错误：

> 消息：无法修改标头信息 - 标头已发送（输出开始于 /Applications/XAMPP/xamppfiles/htdocs/site/application/models/model_keys.php:2）

在控制器中我这样做：

```
$this->load->model('model_users');
$this->model_users->insert(bla bla);

$this->load->model('model_keys');
$this->model_keys->insert(bla bla);

$this->session->set_userdata(array(bl bla);

redirect(some url); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T08:46:32.640

下面一行是问题

```
$this->load->database('keys',true); 
```

如果您传递第二个参数 TRUE，那么它将返回数据库对象并且它不会与 ActiveRecord 一起使用。

这是示例

```
$DB1 = $this->load->database('group_one', TRUE);

//Then you can't below function
$this->db->query();

You will instead use:

$DB1->query(); 
```

# ios - 如何从 facebook ios sdk 3.1 获取访问令牌？

> ID：12970437
> 
> 赞同：1
> 
> 时间：2012-10-19T08:40:57.770
> 
> 标签：ios, facebook, sdk

如何从 facebook ios sdk 3.1 获取访问令牌？

我已经获得了 facebook 登录。登录完成后，应用程序将进入前台。虽然我还不知道如何从中获取访问令牌。

我从 [[FBSession activeSession] accessToken] 得到 null；命令。

有任何想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-22T14:44:23.593

`accessToken`已弃用，因此您应该使用它...

```
[[FBSession activeSession] accessTokenData]; 
```

这将帮助你......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-08T18:42:22.943

`FBSession.accessToken`, `NSString*`, 已弃用。FB 文档建议`(FBAccessTokenData*) accessTokenData`改用。 `FBAccessTokenData`有一个字段，`(NSString*) accessToken`所以解决方案是替换

```
[FBSession activeSession].accessToken 
```

和

```
[FBSession activeSession].accessTokenData.accessToken 
```

**编辑：** 在撰写本文时，我们正在使用 SDK 3.8。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-02T14:16:44.057

你好，试试这个对我来说很完美，

> [[[FBSession activeSession] accessTokenData] accessToken];

希望它会帮助你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-01T09:11:26.660

这对我有用。尝试这个：

```
[session accessTokenData].accessToken 
```

# android - 在 ant build 中使用 aapt 进行紧缩/资源打包使用来自其他项目的缓存

> ID：12970438
> 
> 赞同：4
> 
> 时间：2012-10-19T08:41:02.807
> 
> 标签：android, resources, duplicates, aapt

我有两个使用公共库的 android 应用程序。每个项目都为启动画面和其他一些项目定义了自己的背景图像。这些图像在两个应用程序中具有相同的名称。

当我从 Eclipse 构建/运行时，每个应用程序都使用正确的背景图像。但是，当我运行我的 ant 构建文件时，打包资源时内容会混淆，并且两个应用程序使用相同的图像。

我确信某处有一个缓存需要清除，但我找不到它（在 MacOSX Lion 上运行）。

我尝试了 的`-f`选项`appt`，但仍然是同样的问题。

有人知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-10-01T03:42:43.463

在进行 ant 构建/发布之前运行“ant clean”。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-07T13:09:00.967

确保在从命令行运行 ant 之前已关闭 Eclipse。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T07:52:17.213

在 Eclipse 的菜单中，转到 Project ->自动**取消选中**Build。然后从您的 Ant 视图中运行`clean`，然后`release`.

# gcc - gcc 错误：未定义对“itoa”的引用

> ID：12970439
> 
> 赞同：13
> 
> 时间：2012-10-19T08:41:03.980
> 
> 标签：gcc, itoa

如果我包括 stdlib.h 那么 itoa() 也无法识别。我的代码：

```
%{
#include "stdlib.h"
#include <stdio.h>
#include <math.h>
int yylex(void);
char p[10]="t",n1[10];
int n ='0';

%}
%union
{
char *dval;
}
%token ID
%left '+' '-'
%left '*' '/'
%nonassoc UMINUS
%type <dval> S
%type <dval> E
%%
S : ID '=' E {printf(" x = %sn",$$);}
;
E : ID {}
| E '+' E {n++;itoa(n,n1,10);printf(" %s = %s + %s ",p,$1,$3);strcpy($$,p);strcat($$,n1);}
| E '-' E {n++;itoa(n,n1,10);printf(" %s = %s – %s ",p,$1,$3);strcpy($$,p);strcat($$,n1);}
| E '*' E {n++;itoa(n,n1,10);printf(" %s = %s * %s ",p,$1,$3);strcpy($$,p);strcat($$,n1);}
| E '/' E {n++;itoa(n,n1,10);printf(" %s = %s / %s ",p,$1,$3);strcpy($$,p);strcat($$,n1);}
;
%%

main()
{
yyparse();
}

int yyerror (char *s)

{

} 
```

运行代码后我得到：

```
gcc lex.yy.c y.tab.c -ll
12.y: In function ‘yyparse’:
12.y:24: warning: incompatible implicit declaration of built-in function ‘strcpy’
12.y:24: warning: incompatible implicit declaration of built-in function ‘strcat’
12.y:25: warning: incompatible implicit declaration of built-in function ‘strcpy’
12.y:25: warning: incompatible implicit declaration of built-in function ‘strcat’
12.y:26: warning: incompatible implicit declaration of built-in function ‘strcpy’
12.y:26: warning: incompatible implicit declaration of built-in function ‘strcat’
12.y:27: warning: incompatible implicit declaration of built-in function ‘strcpy’
12.y:27: warning: incompatible implicit declaration of built-in function ‘strcat’
/tmp/ccl0kjje.o: In function `yyparse':
y.tab.c:(.text+0x33d): undefined reference to `itoa'
y.tab.c:(.text+0x3bc): undefined reference to `itoa'
y.tab.c:(.text+0x43b): undefined reference to `itoa'
y.tab.c:(.text+0x4b7): undefined reference to `itoa' 
```

我哪里错了？为什么找不到对 itoa 的引用？我也尝试过使用 <> 括号来表示 itoa。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-19T08:46:31.407

`itoa`是一些编译器支持的非标准函数。根据错误，您的编译器不支持它。你最好的选择是使用它`snprintf()`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-02-04T13:16:46.980

我`sprintf`以以下方式使用：

```
#include <stdio.h>

char *my_itoa(int num, char *str)
{
        if(str == NULL)
        {
                return NULL;
        }
        sprintf(str, "%d", num);
        return str;
}

int main()
{
        int num = 2016;
        char str[20];
        if(my_itoa(num, str) != NULL)
        {
                printf("%s\n", str);
        }
} 
```

我希望这会节省别人的时间；）

# ruby-on-rails - 自定义“where”子句中的 Rails sql 注入

> ID：12970441
> 
> 赞同：0
> 
> 时间：2012-10-19T08:41:13.377
> 
> 标签：ruby-on-rails, security, activerecord, sql-injection

我正在为模型构建一个自定义 where 子句，我想知道我这样做的方式是否是抵御 sql 注入攻击的安全方式。这是我的方法：

```
def self.search(search)
  if search
    conditions = []
    conditions << [ 'name like ?', search[:name] ] unless search[:name].blank?
    conditions << [ 'product_type_id = ?', search[:product_type_id] ] unless search[:product_type_id].blank?

    conditions = ( conditions.empty? ? nil : [conditions.transpose.first.join(' and '), *conditions.transpose.last] )
    where(conditions)
  else
    scoped
  end
end 
```

你怎么看？提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:47:00.007

是的。这是针对 sql 注入攻击的安全方法。

以下是不安全的示例

```
conditions << [ "name like  #{search[:name]}" ] 
```

# json - 数据库表对应的json文件格式

> ID：12970456
> 
> 赞同：0
> 
> 时间：2012-10-19T08:41:50.503
> 
> 标签：json

我有 XML 文件

```
 <society>
    <person>
    <firstName>John</firstName>
    <lastName>Smith</lastName>
   <age>25</age>  
   <person>
    <firstName>Janelia</firstName>
    <lastName>Disouza</lastName>
   <age>20</age>  
   </person>
</society> 
```

. 我必须创建一个相应的 json 文件。我该如何去做。需要建议/解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:08:25.573

```
{
"MyTable": [
   { "Name":"Eric", "Age":23 }
   { "Name":"Adam", "Age":34 }
   { "Name":"Julie","Age":25 }
   ]
} 
```

我想，这对你的问题有用吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:09:57.383

您可以在 w3schools 页面上阅读 json 语法：http: [//www.w3schools.com/json/json_syntax.asp](http://www.w3schools.com/json/json_syntax.asp)

在您的示例中，它可能是这样的：

```
{
  'society' : {
    'person' : [
      { 'firstName' : 'John', 'lastName' : 'Smith', 'age' : 25 },
      { 'firstName' : 'John', 'lastName' : 'Smith', 'age' : 20 }    
    ]
  }
} 
```

# qt4 - 我如何知道 QWebPage 是否已完成加载？

> ID：12970458
> 
> 赞同：0
> 
> 时间：2012-10-19T08:41:52.387
> 
> 标签：qt4, qwebpage

除了用 QWebPage::loadFinished() 连接一个槽外，有没有办法轮询它的状态？我没有找到直接返回百分比的函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-22T04:24:03.320

您可以像这样连接到 QWebPage 上的 loadProgress 信号：

```
connect(webView, SIGNAL(loadProgress(int)), this, SLOT(loadProgress(int))); 
```

随着进度的增加，这将报告加载的百分比。

# c - htonl 打印垃圾值

> ID：12970461
> 
> 赞同：2
> 
> 时间：2012-10-19T08:42:06.163
> 
> 标签：c, sockets, unix

变量“值”是 uint32_t

```
 value = htonl(value);

    printf("after htonl  is %ld\n\n",value);

    This prints -201261056

    value = htons(value);

    printf("after htons  is %ld\n\n",value);

    This prints  62465 
```

请建议可能是什么原因？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:44:55.350

主机顺序是您的机器正确理解数据的顺序（假设您的机器是小端序）。网络顺序是大端，您的系统无法正确理解。这就是所谓的垃圾值的原因。

因此，基本上，代码没有任何内容。:)

谷歌“Endianness”以获取有关 Big Endian 和 Little Endian 的所有详细信息。

提供更多信息，在 Big endian 中，第一个字节或最低地址将具有最高有效字节，而在 little endian 中，在同一位置，最低有效字节将存在。因此，当您使用 htonl 时，您的第一个字节现在将包含最高有效字节，但您的系统会认为它是最低有效字节。

考虑 wikipedia 示例中的十进制 1000（十六进制 3E8）在大端将是 03 E8，在小端将是 E8 03。现在，如果你将 03 E8 传递给一台小机器，它将被认为是十进制 59395。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:12:43.743

我猜你的输入是500，不是吗？

500 是 2* *8+2* *7+2* *6+2* *5+2* *4+2* *2 或`0x00 0x00 0x01 0xF4`小端顺序。

TCP/IP 使用大端。所以在 htonl 之后，序列是`0xF4 0x01 0x00 0x00`.

如果将其打印为有符号整数，则由于第一个数字是 1，因此它是负数。负数视为补数，取值为 -(2* *27 + 2* *25+2* *24+2* *23+2* *22+2* *21+2* *20+2* *19+2* *18+2* * 17+2**16) == -201261056

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:55:32.417

`htonl() and htons()`是用于将数据从主机的字节序转换为网络字节序的函数。

网络使用大端序。因此，如果您的系统是 X86，那么它是 little-endian。

主机到网络字节顺序（长数据）是 htonl()。ie 将 32 位值转换为网络字节顺序。

主机到网络字节顺序（短数据）是 htons()。ie 将 16 位值转换为网络字节顺序。

示例程序显示 htonl() 如何工作以及在 htons() 函数中使用 32 位值的效果。

```
#include <stdio.h>
#include <arpa/inet.h>

int main()
{
   long data = 0x12345678;
   printf("\n After htonl():0x%x  , 0x%x\n", htonl(data), htons(data));
   return 0;
} 
```

它将 `After htonl():0x78563412 , 0x7856`在 X86_64 上打印。

参考：

[http://en.wikipedia.org/wiki/Endianess](http://en.wikipedia.org/wiki/Endianess)

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms738557%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738557%28v=vs.85%29.aspx)

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms738556%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738556%28v=vs.85%29.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-08T13:02:05.820

```
@halfelf>I jut want to put my findings.I just tried the below program with the same 
value 500.I guess you have mistakenely mentioned output of LE as BE and vice versa
Actual output i got is 0xf4 0x01 0x00 0x00 as little Endian format.My Machine is 
LE
#include <stdio.h>
#include <netinet/in.h>
/* function to show bytes in memory, from location start to start+n*/
void show_mem_rep(char *start, int n)
{
    int i;
     for (i = 0; i < n; i++)
      printf(" %.2x-%p", start[i],start+i);
     printf("\n");
}

/*Main function to call above function for 0x01234567*/
int main()
{
  int i = 500;//0x01234567;
   int y=htonl(i); --->(1)
   printf("i--%d , y---%d,ntohl(y):%d\n",i,y,ntohl(ntohl(y)));
   printf("_------LITTLE ENDIAN-------\n");
   show_mem_rep((char *)&i, sizeof(i));
   printf("-----BIG ENDIAN-----\n");/* i just used int y=htonl(i)(-1) for reversing 
   500 ,so that
   i can print as if am using a BE machine. */

   show_mem_rep((char *)&y, sizeof(i));

   getchar();
   return 0;
  }
output is 
i--500 , y----201261056,ntohl(y):-201261056
_------LITTLE ENDIAN-------
 f4-0xbfda8f9c 01-0xbfda8f9d 00-0xbfda8f9e 00-0xbfda8f9f
 -----BIG ENDIAN-----
  00-0xbfda8f98 00-0xbfda8f99 01-0xbfda8f9a f4-0xbfda8f9b 
```

# wpf - 在WPF中拆分datagrid的列

> ID：12970463
> 
> 赞同：3
> 
> 时间：2012-10-19T08:42:09.393
> 
> 标签：wpf, wpfdatagrid, datagridheaderborder

![在此处输入图像描述](../Images/ddcc55d5347c2f05d131ef5ee329cbc6.png)我的表单中有一个数据网格，其中包含每个问题类型的列。我希望将该列分成两列，因为我想接受后续列中每种问题类型的必填问题和可选问题的数量。

感谢stackoverflow.com，我在winforms中实现了这一点。

我正在尝试在 WPF 中实现相同的目标

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T11:40:57.187

我想这是`DataGrid`你想要的布局......对吧？

```
.------.-----------------.--------.
|      |   ID Details    |        |
| Name |-----------------| Status |
|      | ID   | Passport |        |
|------|------|----------|--------|
|X     | 123  | E567868  | Present|
|Y     | 236  | 7875678  | Absent |
'------'------'----------'--------' 
```

WPF 数据网格并不容易支持这一点。但是你可以做一些有**弹性**的编码。下面的代码可以拆分标题。你需要小心...

> 当拆分列重新排序（`DataGrid.ColumnReordered` 事件）时，其公共父标题下的所有兄弟列应一起移动。我把那个代码留给你。

有一些自定义**样式**`DataGridHeaders`

```
<Style TargetType="{x:Type Primitives:DataGridColumnHeader}" 
  x:Key="SplitHeaderStyle">
<Setter Property="VerticalContentAlignment" Value="Center" />
<Setter Property="Template">
    <Setter.Value>
    <ControlTemplate TargetType="{x:Type Primitives:DataGridColumnHeader}">
        <DockPanel LastChildFill="True">
        <Grid DockPanel.Dock="Bottom">
            <Controls:DataGridHeaderBorder 
            SortDirection="{TemplateBinding SortDirection}"
            IsHovered="{TemplateBinding IsMouseOver}"
            IsPressed="{TemplateBinding IsPressed}"
            IsClickable="{TemplateBinding CanUserSort}"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding BorderBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            Padding ="{TemplateBinding Padding}"
            SeparatorVisibility="{TemplateBinding SeparatorVisibility}"
            SeparatorBrush="{TemplateBinding SeparatorBrush}">
            <ContentPresenter 
            Content="{Binding RelativeSource={RelativeSource TemplatedParent},
                      Path=Content[0]}"
            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
            HorizontalAlignment="Center"/>
            </Controls:DataGridHeaderBorder>
            <Thumb x:Name="PART_LeftHeaderGripper"
               HorizontalAlignment="Left"
               Style="{StaticResource ColumnHeaderGripperStyle}"/>
            <Thumb x:Name="PART_RightHeaderGripper"
               HorizontalAlignment="Right"
               Style="{StaticResource ColumnHeaderGripperStyle}"/>
        </Grid>
        <Grid DockPanel.Dock="Top">
            <Controls:DataGridHeaderBorder
            HorizontalAlignment="Stretch"
            IsClickable="False"
            Background="{TemplateBinding Background}"
            BorderBrush="{TemplateBinding SeparatorBrush}"
            BorderThickness="{TemplateBinding BorderThickness}"
            Padding ="{TemplateBinding Padding}"
            SeparatorVisibility="{TemplateBinding Tag}"
            SeparatorBrush="{TemplateBinding SeparatorBrush}">
            <ContentPresenter 
                Content="{Binding RelativeSource={RelativeSource TemplatedParent}, 
                          Path=Content[1]}"
                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                Margin="-8,2,-10,2"/>
            </Controls:DataGridHeaderBorder>
            <Thumb x:Name="PART_LeftSplitHeaderGripper"
            HorizontalAlignment="Right"
            Visibility="{TemplateBinding Tag}"
            Style="{StaticResource ColumnHeaderGripperStyle}"/>
        </Grid>
        </DockPanel>
    </ControlTemplate>
    </Setter.Value>
</Setter>
</Style>

<Style TargetType="{x:Type Primitives:DataGridColumnHeader}" 
   BasedOn="{StaticResource SplitHeaderStyle}"
   x:Key="SplitHeaderLeftStyle">
<Setter Property="HorizontalContentAlignment" Value="Left"/>
<Setter Property="Tag" Value="{x:Static Visibility.Visible}"/>
</Style>

<Style TargetType="{x:Type Primitives:DataGridColumnHeader}" 
   BasedOn="{StaticResource SplitHeaderStyle}"
   x:Key="SplitHeaderRightStyle">
<Setter Property="HorizontalContentAlignment" Value="Right"/>
<Setter Property="Tag" Value="{x:Static Visibility.Collapsed}"/>
</Style> 
```

有这样排列的列...

```
<Controls:DataGrid.Columns>
<Controls:DataGridTextColumn 
         Header="Name" 
         Binding="{Binding Name}"/>
<Controls:DataGridTextColumn 
         Binding="{Binding ID}" 
    HeaderStyle="{StaticResource SplitHeaderRightStyle}">
    <Controls:DataGridTextColumn.Header>
    <x:ArrayExtension Type="System:String">
        <System:String>ID</System:String>
        <System:String>ID De</System:String>                            
    </x:ArrayExtension>
    </Controls:DataGridTextColumn.Header>
</Controls:DataGridTextColumn>
<Controls:DataGridTextColumn 
         Binding="{Binding Passport}"
    HeaderStyle="{StaticResource SplitHeaderLeftStyle}">
    <Controls:DataGridTextColumn.Header>
    <x:ArrayExtension Type="System:String">
        <System:String>Passport</System:String>
        <System:String>tails</System:String>                            
    </x:ArrayExtension>
    </Controls:DataGridTextColumn.Header>
</Controls:DataGridTextColumn>
<Controls:DataGridTextColumn 
            Header="Status"
            Binding="{Binding Status}"/>
  </Controls:DataGrid.Columns> 
```

**所以基本上你使用相同的默认标题布局，但以两个标题*看起来*像是连接在一起`DataGrid`的方式破解它。**

 ***C＃**

1.  命名你的`DataGrid`例如`x:Name="MyDataGrid"`。
2.  将 XAML 中的所有样式保存在`<DataGrid.Resources ..>`标记中。确保他们已经`x:Key`设置。例如`x:Key="SplitHeaderLeftStyle"`&`x:Key="SplitHeaderRightStyle"`

    ```
    <DataGrid x:Name="MyDataGrid">
         <DataGrid.Resources>
             <Style 
                  TargetType="{x:Type Primitives:DataGridColumnHeader}" 
                  x:Key="SplitHeaderStyle" .../>

             <Style x:Key="SplitHeaderLeftStyle" 
                    BasedOn="{StaticResource SplitHeaderStyle}".../>

             <Style x:Key="SplitHeaderRightStyle"
                    BasedOn="{StaticResource SplitHeaderStyle}" .../>
         </DataGrid.Resources>
         ...
    </DataGrid> 
    ```

3.  在 C# 代码中添加列时，通过它们的`Key`.

    ```
     var dgIDColumn 
        = new DataGridTextColumn()
          {
            Header = new string[] { "ID", "ID Det" },
            Binding = new Binding() { Path = new PropertyPath("ID") },
            HeaderStyle = MyDataGrid.FindResource("SplitHeaderRightStyle") as Style;
          };

     MyDataGrid.Columns.Add(dgIDColumn);

      var dgPassportColumn 
       = new DataGridTextColumn()
         {
            Header = new string[] { "Passport", "ails" },
            Binding = new Binding() { Path = new PropertyPath("Passport") },
            HeaderStyle = MyDataGrid.FindResource("SplitHeaderLeftStyle") as Style;
         };

      MyDataGrid.Columns.Add(dgPassportColumn); 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:37:04.863

```
<DataGrid ItemsSource="{Binding PeopleList}" AutoGenerateColumns="False">
    <DataGrid.Columns>
        <DataGridTemplateColumn Header="Name">
            <DataGridTemplateColumn.CellTemplate>
                <DataTemplate DataType="{x:Type local:Person}">
                    <TextBlock Text="{Binding Name}"/>
                </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>

        <DataGridTemplateColumn>
            <DataGridTemplateColumn.HeaderTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="Question1" Grid.ColumnSpan="2"/>
                        <TextBlock Text="Compulsory" Grid.Row="1"/>
                        <TextBlock Text="Optional Q" Grid.Row="1" Grid.Column="2"/>
                    </Grid>
                </DataTemplate>
            </DataGridTemplateColumn.HeaderTemplate>
            <DataGridTemplateColumn.CellTemplate>
                <DataTemplate DataType="{x:Type local:Person}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="65"/>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="{Binding Question.Col1}"/>
                        <TextBlock Text="{Binding Question.Col2}" Grid.Column="2"/>
                    </Grid>
                </DataTemplate>
            </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>
    </DataGrid.Columns>
</DataGrid> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-22T19:46:16.007

您可以根据自己的喜好修改 ItemsControl.ItemContainerStyle 的 DataTriggers 中的 Row/Column/ColumnSpan/RowSpan。

```
<ItemsControl ItemsSource="{Binding Path=Cells}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <Grid 
                local:GridHelpers.ColumnCount="{Binding NumOfColumns}"
                local:GridHelpers.AutoColumns="0,1"
                local:GridHelpers.RowCount="{Binding NumOfRows}"
                local:GridHelpers.AutoRows="0,1">
            </Grid>
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
    <ItemsControl.ItemContainerStyle>
        <Style TargetType="ContentPresenter">
            <Setter Property="Grid.Row" Value="{Binding Path=RowIndex}"/>
            <Setter Property="Grid.Column" Value="{Binding Path=ColumnIndex}"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding Path=CellType}" Value="BaseCell">
                    <Setter Property="ContentTemplate" Value="{StaticResource BaseCell}"/>
                    <Setter Property="Grid.ColumnSpan" Value="{Binding Path=ColumnSpan}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=CellType}" Value="CornerHeader">
                    <Setter Property="ContentTemplate" Value="{StaticResource CornerHeader}"/>
                    <Setter Property="Grid.RowSpan" Value="2"/>
                    <Setter Property="Grid.ColumnSpan" Value="2"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Path=CellType}" Value="PersonNameCell">
                    <Setter Property="ContentTemplate" Value="{StaticResource PersonNameCell}"/>
                </DataTrigger>
                ...
            </Style.Triggers>
        </Style>
    </ItemsControl.ItemContainerStyle>
</ItemsControl> 
```

我已将 AutoColumns 属性添加到 GridHelper 类中，[此链接中对此进行了说明](http://rachel53461.wordpress.com/2011/09/17/wpf-grids-rowcolumn-count-properties/)

```
 #region AutoColumns Property

    /// <summary>
    /// Makes the specified Column's Width equal to Auto. 
    /// Can set on multiple Columns
    /// </summary>
    public static readonly DependencyProperty AutoColumnsProperty =
        DependencyProperty.RegisterAttached(
            "AutoColumns", typeof(string), typeof(GridHelpers),
            new PropertyMetadata(string.Empty, AutoColumnsChanged));

    // Get
    public static string GetAutoColumns(DependencyObject obj)
    {
        return (string)obj.GetValue(AutoColumnsProperty);
    }

    // Set
    public static void SetAutoColumns(DependencyObject obj, string value)
    {
        obj.SetValue(AutoColumnsProperty, value);
    }

    // Change Event - Makes specified Column's Width equal to Auto
    public static void AutoColumnsChanged(
        DependencyObject obj, DependencyPropertyChangedEventArgs e)
    {
        if (!(obj is Grid) || string.IsNullOrEmpty(e.NewValue.ToString()))
            return;

        SetAutoColumns((Grid)obj);
    }

    private static void SetAutoColumns(Grid grid)
    {
        string[] autoColumns = GetAutoColumns(grid).Split(',');

        for (int i = 0; i < grid.ColumnDefinitions.Count; i++)
        {
            if (autoColumns.Contains(i.ToString()))
                grid.ColumnDefinitions[i].Width = GridLength.Auto;
        }
    }

    private static void SetAutoRows(Grid grid)
    {
        string[] autoRows = GetAutoRows(grid).Split(',');

        for (int i = 0; i < grid.RowDefinitions.Count; i++)
        {
            if (autoRows.Contains(i.ToString()))
                grid.RowDefinitions[i].Height = GridLength.Auto;
        }
    }
    #endregion 
```*

# qt - Qt 布局子浮动

> ID：12970466
> 
> 赞同：3
> 
> 时间：2012-10-19T08:42:14.917
> 
> 标签：qt, pyqt, qt-designer

我有一个空的水平布局，我用三个孩子动态填充。这是一款纸牌游戏，因此该布局会动态填充有图像集的 QLabel 子级。当我点击一张牌来播放它并将它移动到屏幕中央时，我希望其他牌的位置保持不变。相反，卡片倾向于向右“浮动”。我怎样才能强迫他们留在原来的位置？

```
+-----------------+
|                 |
| [A] - [B] - [C] |
|                 |
+-----------------+ 
```

我尝试在每张卡之间放置一个可扩展的水平垫片，但它并没有真正起作用。我还尝试用网格布局替换水平布局，但这迫使我指定我不希望的卡片的初始坐标。我喜欢这样一个事实，即我可以像在 HTML 版本中那样使用 addWidget 附加小部件。

在 HTML 版本中，我在卡片周围使用了一些固定大小的包装 div。我怎样才能在 Qt 中做类似的事情？

编辑

对打出一张牌 (B) 时布局的外观进行一点说明。

```
+-----------------+
|                 |
| [A] -     - [C] |
|                 |
+-----------------+ 
```

正如我所提到的，我设法用空的 QWidget 填充布局并将卡片放在它们上面（而不是在它们里面）。我实际上也摆脱了我拥有的水平垫片，因为它们不再需要了。这似乎按我的预期工作，尽管我仍然没有完全验证这种方法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:59:43.930

做你想做的简单算法步骤：

*   用户点击
*   选择点击发生的标签
*   如果有图像，从标签中删除图像
*   不要从布局中删除标签，并确保布局不会调整标签大小
*   将图像添加到棋盘游戏中心的标签中。
*   当用户点击一个没有任何内容的标签时，忽略该点击。

对于每个玩家，您都知道可以在布局中显示的最大卡片数量。此外，我不认为卡的大小是可变的。所以每次你为一个玩家创建一个牌组时，创建一个空标签，每个标签都有一个固定的大小。

**编辑：其他一些提议**

*   `QWidget::setFixedSize()`使用;固定标签的大小
*   不要隐藏你的标签来删除你的像素图。不要设置一个空的像素图。相反，设置一个透明或填充一些中性色的像素图......
*   或者子类`QLabel`，以便您可以指示最小大小提示。布局***必须并且将***尊重您设置的任何内容。例子：

    ```
    class MyQLabel : public QLabel {

      MyQLabel(QSize cardSize, //remaining qlabel args) 
        :QLabel(//label args)
        {_cardsize = cardcardSize;}

      //only method to re-implement
      virtual QSize minimumSizeHint () const {return _cardsize;}
    private:
         final QSize _cardsize;
     } 
    ```

每次需要重新绘制整个应用程序时，都会检查所有小部件属性。我的两分钱是在你打牌时修改了一个 size 属性，并且布局适应了这个修改。告诉我尺寸提示技巧是否有效（应该）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:25:13.787

在 Qt 中，您可以将包装器`QWidget`与`Fixed` `sizePolicy`.

# android - 可扩展的列表视图设计

> ID：12970467
> 
> 赞同：0
> 
> 时间：2012-10-19T08:42:24.927
> 
> 标签：android, android-layout, android-listview

我想设计一个类似于附图的布局。具体来说，我需要有类似**“重复”的东西** *Mo​​n, Tue, Wed, Thur, Fri*。它是一个狙击手，可扩展的列表视图吗？

该视图的名称是什么，我该如何实现它？

![在此处输入图像描述](../Images/45478aeb43dc5d8f990401eb46006ebb.png)?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T14:17:28.507

此布局是使用首选项实现的。

阅读此[链接](http://developer.android.com/guide/topics/ui/settings.html)

# ruby-on-rails - 没有路线匹配 [POST] "/users/1/edit"

> ID：12970470
> 
> 赞同：0
> 
> 时间：2012-10-19T08:42:42.933
> 
> 标签：ruby-on-rails

当我尝试提交表单以编辑用户详细信息时出现此错误。我正在使用 Rails 3.2.7。这是我的控制器

```
class UsersController < ApplicationController

def index
  @users = User.all

  respond_to do |format|
    format.html # index.html.erb
    format.json { render json: @users }
  end
end

def show
  @user = User.find(params[:id])

  respond_to do |format|
    format.html # show.html.erb
    format.json { render json: @user }
  end
end

def new
  @user = User.new
end

def edit
  @user = User.find(params[:id])
end

def create
  @user = User.new(params[:user])

  if @user.save
    sign_in @user
    flash[:success] = "Welcome to the app!"
    redirect_to welcome_path
  else
    render 'new'
  end
end

def update
  @user = User.find(params[:id])

  if @user.update_attributes(params[:user])
    sign_in @user
    flash[:success] = "Profile updated"
     redirect_to welcome_path
  else
    render 'edit'
  end
end

def destroy
  @user = User.find(params[:id])
  @user.destroy

  respond_to do |format|
    format.html { redirect_to users_url }
    format.json { head :no_content }
  end
end
end 
```

和形式：

```
<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id="error_explanation">
      <p><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</p>

      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
<div class="box">
  <%= f.label :email %>
  <%= f.text_field :email, class:"input_text" %>
    <br>
  <%= f.label :"edit password" %>
  <%= f.password_field :password, class:"input_text" %>
    <br>
  <label>
    <br>
  <%= f.submit "Save", class: "button", name: "button" %>
  </label>
</div>
<% end %> 
```

耙路线输出：

```
 users GET    /users(.:format)              users#index
               POST   /users(.:format)              users#create
      new_user GET    /users/new(.:format)          users#new
     edit_user GET    /users/:id/edit(.:format)     users#edit
          user GET    /users/:id(.:format)          users#show
               PUT    /users/:id(.:format)          users#update
               DELETE /users/:id(.:format)          users#destroy 
```

让我知道是否还有其他内容我应该发布...在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:03:54.443

编辑必须是 GET，所有方法都是 GET，除了 CREATE(POST)、UPDATE(PUT) 和 DESTROY(DELETE)。你能复制你的应用程序生成的表单的 HTML 代码吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:15:35.613

您的 edit_user 路线不应该是 POST 路线吗？我在这里看到 /users/1/edit 是一个 GET 路由。也许您在 config/routes.rb 中犯了错误？

你能贴出来吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-26T01:50:50.800

通过删除解决了这个问题：

```
gem 'rails-api' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-11-29T18:22:37.760

我发现了同样的错误，我已经解决了这个问题：get 和 patch 的显式格式：

> 获取“编辑”，id：@user

和：

> patch 'update',id:@user, user: { name: name, email: email, password: "", password_confirmation: "" }

使用宝石：

*   红宝石 2.0
*   使用导轨 (4.1.4)
*   使用 rspec-support 3.4.1
*   使用 rspec-core 3.4.1
*   使用 rspec-expectations 3.4.0
*   使用 rspec-mocks 3.4.0
*   使用 rspec-rails 3.4.0

*bundle update 不会将 3.4.0 中的 rspec gem 更新到 4.1*

# ios - 如何在 iphone 中使用 MFMailComposeViewController 调整邮件编辑器中嵌入图像的框架

> ID：12970472
> 
> 赞同：0
> 
> 时间：2012-10-19T08:42:44.480
> 
> 标签：ios, cocoa-touch, mfmailcomposeviewcontroller, mfmailcomposer

我在我的 iPhone 应用程序的 MFMailComposeSheet 的消息正文中嵌入了一个用户图像。

```
NSMutableString *messageBody = [[[NSMutableString alloc] initWithString:@"<html><body>"] retain];

NSData *imageData = [NSData dataWithData:UIImagePNGRepresentation(capturedProfileImage)];
NSString *base64String = [self base64forData:imageData];

[messageBody appendFormat:@"<p>&nbsp;&nbsp;&nbsp;&nbsp; %@.</p>",textMessage];
[messageBody appendFormat:@"<p>REGARDS</p>"];
[messageBody appendFormat:@"<p><b><img src='data:image/png;base64,%@'>  </b></p>", base64String];
[messageBody appendFormat:@"<p>&nbsp;&nbsp;&nbsp;&nbsp; %@.</p>",userName];
[messageBody appendFormat:@"<p>&nbsp;&nbsp;&nbsp;&nbsp; %@.</p>",userPhone];
[messageBody appendFormat:@"</body></html>"]; 
```

要求格式如下：

![示例屏幕](../Images/8510ec1055703192e53608da0c3acf6b.png)

但是嵌入的图像以其实际大小显示，我需要以 57x57 像素显示。如何将图像的宽度和高度固定为 57x57？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:13:51.713

固定的：

```
[messageBody appendFormat:@"<p><b><img src='data:image/png;base64  , %@'  style='width:57px; height=57px;'>  </b></p>", base64String]; 
```

# java - 使用 BeanUtils 在 bean 之间复制具有不同名称的属性

> ID：12970475
> 
> 赞同：9
> 
> 时间：2012-10-19T08:43:04.997
> 
> 标签：java, javabeans, apache-commons-beanutils

我想使用具有**相同字段但名称不同**的 BeanUtils 将属性值从 A 类复制到 B 类。是否可以提供属性名称到不同名称，年龄到不同年龄等的映射，并实现复制？我很想知道这是否可以通过任何方式仅使用 Apache Commons 实用程序（而不是任何其他工具）。

```
class ClassA{
    private String name;
    private Integer age;
    ... // Setter and Getter methods
} 

class ClassB{
    private String differentName;
    private Integer differentAge;
    ... // Setter and Getter methods for the private fields
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:50:08.587

Apache Commons BeanUtils 具有方法[populate(Object bean, Map properties)](http://commons.apache.org/beanutils/api/org/apache/commons/beanutils/BeanUtils.html#populate%28java.lang.Object,%20java.util.Map%29)接受映射以使用键值对填充 Bean。

注意：我刚刚看到了 Apache-Commons 的限制——但它可能对其他人仍然有用，而且就我而言，这是更好的解决方案。

当名称匹配时使用[Dozer](http://dozer.sourceforge.net/documentation/usage.html)，它将自动复制值。或者在您的情况下，您可以在 xml 映射文件中指定源和目标成员。

# java - 在 Android 应用程序中使用 Jar 时，读取我自己的 Jar 清单

> ID：12970476
> 
> 赞同：3
> 
> 时间：2012-10-19T08:43:05.367
> 
> 标签：java, android, jar, classloader, manifest.mf

我有一个在我的 Android 应用程序中使用的 Jar（它位于 libs 文件夹中）。Jar 不包含任何 Android 资源或类似的东西，而只是简单的 Java 类。

现在，我希望 Jar 知道它当前在清单中具有哪个版本，以便在 Jar 中发生异常的情况下，我知道 Jar 的哪个版本导致了异常。

出于某种原因，我似乎无法做到......我已经看到了这个[类似的问题](https://stackoverflow.com/questions/1272648/reading-my-own-jars-manifest)和许多其他问题，虽然当我在一个简单的 Java 应用程序中使用 Jar 时这有效，但在使用时却不起作用在一个安卓应用程序中。我已经尝试通过这样做来获取清单

```
Thread.currentThread().getContextClassLoader().getResources("META-INF/MANIFEST.MF"); 
```

或这个

```
MyClass.class.getClassLoader().getResources("META-INF/MANIFEST.MF"); 
```

但我从来没有得到我的罐子的清单。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-04-16T17:18:06.100

***我把它放在我的子类 android.app.Application 但你可以在任何你有上下文的地方使用它。只需将 getPackageManager() 更改为 context.getPackageManager()。***

```
public int getVersion() {
    int v = 0;
    try {
        v = getPackageManager().getPackageInfo(getPackageName(), 0).versionCode;
    } catch (NameNotFoundException e) {
        // Huh? Really?
    }
    return v;
} 
```

您可以使用上述方法从清单中获取应用程序的版本。

# android - 永远不要从 getAuthToken 请求中获取 AccountManager.KEY_INTENT

> ID：12970481
> 
> 赞同：4
> 
> 时间：2012-10-19T08:43:30.717
> 
> 标签：android

在 JellyBean 设备上。

我正在关注[这个](http://developer.android.com/training/id-auth/authenticate.html)来请求一个 oauth2 令牌，例如

```
AccountManager am = AccountManager.get(getActivity());
am.invalidateAuthToken(MY_AUTH_TOKEN_TYPE, null);
am.getAuthToken(aGoogleAccount, MY_AUTH_TOKEN_TYPE, null, this, 
    new OnTokenAcquired(), new Handler(new OnError())); 
```

然后根据后面的代码示例进行检查：

```
private class OnTokenAcquired implements AccountManagerCallback<Bundle> {
@Override
    public void run(AccountManagerFuture<Bundle> result) {
        Bundle bundle = result.getResult();
        ...
        Intent launch = (Intent) bundle.get(AccountManager.KEY_INTENT);
        if (launch != null) {
            startActivityForResult(launch, 0);
            return;
        }
    }
} 
```

我从来没有得到 KEY_INTENT。我理解以下内容：

> 验证器返回 Intent 的原因可能有很多。这可能是用户第一次登录此帐户。也许用户的帐户已经过期，他们需要重新登录，或者他们存储的凭据不正确。也许该帐户需要双重身份验证，或者需要激活相机进行视网膜扫描。原因是什么并不重要。如果你想要一个有效的令牌，你将不得不触发 Intent 来获得它。

但是，`getAuthToken`始终会导致权限屏幕或登录屏幕出现在代码命中`run`令牌有效的方法之前。我试过了：

1.  开启两步验证。之前请求帐户登录，`run`因此始终将令牌放入`run`.
2.  更改服务器上的密码。之前再次请求帐户登录，`run`因此始终将令牌放入`run`.

没有能力尝试视网膜扫描，所以有些不知所措。

**编辑 1**我遇到的问题是，在某些情况下我会得到 a `KEY_INTENT`，所以我宁愿现在测试这个代码路径，而不是当它出现在现场时。

提前致谢。

彼得。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-27T15:51:59.123

有机会在一个项目上做类似的事情。这与您的代码不完全相同，我仍然说回调文档有太多“可能”来确定它应该如何工作，但是如果您使用[此方法](http://developer.android.com/reference/android/accounts/AccountManager.html#getAuthToken%28android.accounts.Account,%20java.lang.String,%20boolean,%20android.accounts.AccountManagerCallback%3Candroid.os.Bundle%3E,%20android.os.Handler%29)传递`false`for `notifyAuthFailure`，您将获得 re 的意图- 登录屏幕，如果您更改密码或启用 2FA。这适用于 ClientLogin，但对于 OAuth 2 应该类似（但未测试）。就像是：

```
// using Calendar ClientLogin for simplicity
Bundle authResult = am.getAuthToken(account, "cl", false, null, null).getResult();
if (authResult.containsKey(AccountManager.KEY_INTENT)) {
  Intent authIntent = authResult.getParcelable(AccountManager.KEY_INTENT);
  // start activity or show notification
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-24T15:15:43.040

我认为你需要打电话`getResult()`，像这样：

```
Intent launch = (Intent)result.getResult().get(AccountManager.KEY_INTENT); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-02T16:19:19.743

您正在使用 getAuthToken 版本，它使用 Activity 来调用访问授权提示。该版本的 getAuthToken 不返回意图，因为提供的活动用于启动相应的意图。如果要手动启动 Intent，请使用 API 级别 14 中已弃用的 getAuthToken 版本。有关更多信息，请参阅以下内容：http: [//developer.android.com/reference/android/accounts/AccountManager.html#getAuthToken %28android.accounts.Account,%20java.lang.String,%20boolean,%20android.accounts.AccountManagerCallback%3Candroid.os.Bundle%3E,%20android.os.Handler%29](http://developer.android.com/reference/android/accounts/AccountManager.html#getAuthToken%28android.accounts.Account,%20java.lang.String,%20boolean,%20android.accounts.AccountManagerCallback%3Candroid.os.Bundle%3E,%20android.os.Handler%29)

# c++ - 在 C++ 中使用 upper_bound 时崩溃

> ID：12970482
> 
> 赞同：1
> 
> 时间：2012-10-19T08:43:34.890
> 
> 标签：c++, stl

我有以下程序在上限调用时崩溃。我不明白为什么会发生崩溃。我崩溃的任何原因。感谢您的帮助和时间。

```
#include <iostream>
#include <algorithm>
#include <vector>

using namespace std;

enum quality { good = 0, bad, uncertain };

struct sValue {
   int time;
   int value;
   int qual;
};

struct CompareLowerBoundValueAndTime { 
    bool operator()( const sValue& v, int time ) const {
        return v.time < time;
    } 

    bool operator()( const sValue& v1, const sValue& v2 ) const { 
        return v1.time < v2.time; 
    }

    bool operator()( int time1, int time2 ) const { 
        return time1 < time2; 
    }   

    bool operator()( int time, const sValue& v ) const  { 
        return time < v.time;    
    } 
}; 

struct CompareUpperBoundValueAndTime { 
    bool operator()( const sValue& v, int time ) const {
        return v.time > time;
    } 

    bool operator()( const sValue& v1, const sValue& v2 ) const { 
        return v1.time > v2.time; 
    }

    bool operator()( int time1, int time2 ) const { 
        return time1 > time2; 
    }   

    bool operator()( int time, const sValue& v ) const  { 
        return time > v.time;    
    } 
}; 

class MyClass {

public:
    MyClass() {
        InsertValues();
    }

       void InsertValues();

       int GetLocationForTime(int time);

       void PrintValueContainer();

private:

    vector<sValue> valueContainer;
};

void MyClass::InsertValues() {
    for(int num = 0; num < 5; num++) {
        sValue temp;
        temp.time = num;
        temp.value = num+1;
        temp.qual = num % 2;
        valueContainer.push_back(temp);
    }
}

void MyClass::PrintValueContainer()
{
    for(int i = 0; i < valueContainer.size(); i++) {
        std::cout << i << ". " << valueContainer[i].time << std::endl;
    }
}

int MyClass::GetLocationForTime(int time)
{
    std::vector< sValue >::iterator lower, upper;
    lower =  std::lower_bound(valueContainer.begin(), valueContainer.end(), time, CompareLowerBoundValueAndTime() );

    upper =  std::upper_bound(valueContainer.begin(), valueContainer.end(), time, CompareUpperBoundValueAndTime() ); // Crashing here.

    std::cout << "Lower bound: " << lower - valueContainer.begin() << std::endl;
    std::cout << "Upper bound: " << upper - valueContainer.begin() << std::endl;

   return lower - valueContainer.begin();
}

int main()
{
    MyClass a;
    a.PrintValueContainer();
    std::cout << "Location received for 2: "  << a.GetLocationForTime(2) << std::endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-19T08:48:53.930

[`lower_bound`](http://en.cppreference.com/w/cpp/algorithm/lower_bound)并[`upper_bound`](http://en.cppreference.com/w/cpp/algorithm/upper_bound)处理一个排序的序列。必须使用传递给两个函数的相同比较函数对序列进行排序。

当您插入元素时，`InsertValues`您按升序插入它们，因此您`CompareLowerBoundValueAndTime`是比较它们的正确方法。

但是因为`upper_bound`你传递了一个不同的比较函数。通过`CompareLowerBoundValueAndTime()`，它应该工作。

请注意，这`CompareLowerBoundValueAndTime`是一个误导性的名称。它应该是类似的东西`CompareValueAndTimeAscending`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:49:02.483

您应该对 upper_bound 和 lower_bound 使用相同的比较器。区别在于算法，而不是比较。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:49:07.837

您的编译器正在给您答案。在此处检查您的代码：http: [//ideone.com/x6RE9](http://ideone.com/x6RE9)

这给你一个错误说：

```
prog.cpp: In member function ‘int MyClass::GetLocationForTime(int)’:
prog.cpp:94: error: no match for ‘operator*’ in ‘*upper.__gnu_cxx::__normal_iterator<_Iterator, _Container>::operator* [with _Iterator = sValue*, _Container = std::vector<sValue, std::allocator<sValue> >]()’ 
```

您不必取消引用`upper`两次，这没有任何意义。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:58:02.553

我认为您在 upper_bound 中遇到断言错误，因为它发现您的序列未正确排序。

您似乎误解了 upper_bound 的作用。它与 lower_bound 相同，只是迭代器指向的项目将严格大于搜索值，而不是大于或等于。如果没有这样的值，它将指向序列的结尾。

使用谓词 (Pred) 时，需要对其进行排序，使得

```
 Pred( iter2, iter1 ) 
```

每当 iter2 在序列中出现晚于 iter1 时，将返回 false。

您的序列和谓词组合并非如此，因此您会收到断言错误。

# java - 带有 ArrayList 的 Java for 循环

> ID：12970484
> 
> 赞同：9
> 
> 时间：2012-10-19T08:43:37.057
> 
> 标签：java, for-loop, arraylist

这是我的 ArrayList 的内容`contain`

```
HPDH-1,001, Check-out date: 7/7/7

JTI-1,001, Check-out date: 7/7/7 
```

我的代码：

```
for (int i = 0; i < contain.size(); i++) {
    if (contain.get(i).contains(code)) {
        System.out.println(contain.get(i));
    }
} 
```

问题是我的变量代码是字符串“JTI-1” 为什么它不给我 JTI-1 输出？我试图让它显示变量代码的值。我想删除 contains.get(i) 如果它只给我我输入的那个。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-19T08:53:18.170

我认为基本上代码是正确的。我会检查您的输入并确保它们确实是您的想法。

我可能会将您的循环重写为：

```
for (String s : contain) {
   if (s.contains(code)) {
      // found it
   }
} 
```

使用对象迭代器（上面假设你有一个`ArrayList<String>`）。也许重命名`contain`。目前还不是很清楚这是什么。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-19T08:58:47.573

假设字符串列表，代码是正确的。`I have not modified any of your source code just to give you idea that it works fine.`

```
 List<String> contain = new ArrayList<String>();
    contain.add("HPDH-1,001, Check-out date: 7/7/7");
    contain.add("JTI-1,001, Check-out date: 7/7/7");
    String code = "JTI-1 ";
    for (int i = 0; i < contain.size(); i++) {
        if (contain.get(i).contains(code.trim())) {<---Use trim it is possible that code may have extra space
            System.out.println(contain.get(i));
        }
    } 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-19T09:00:16.787

您的代码是正确的，但我也建议您使用迭代器：

```
import java.util.ArrayList;
import java.util.Arrays;

public class Main {

    public static void main(String[] args) throws Exception {

        ArrayList<String> contain = new ArrayList<String>(Arrays.asList("HPDH-1,001, Check-out date: 7/7/7",
                "JTI-1,001, Check-out date: 7/7/7"));

        String code = "JTI";

        // your loop
        for (int i = 0; i < contain.size(); i++) {
            if (contain.get(i).contains(code)) {
                System.out.println(contain.get(i));
            }
        }

        // my suggestion
        for (String s : contain) {
               if (s.contains(code)) {
                  System.out.println(s);
               }
        }
    }
} 
```

> 输出：
> 
> JTI-1,001，退房日期：7/7/7
> 
> JTI-1,001，退房日期：7/7/7

如果此输出不是您想要的，请添加更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-26T11:18:45.307

```
System.out.println("Find name");
        String str = s.nextLine();
        List<Integer> result = new ArrayList<Integer>();
        for (int i = 0; i < surname.size(); i++) {
            if(surname.get(i).equals(str)){
                result.add(i);
            }
        }
        for (Integer integer : result) {
            System.out.println(integer);
        } 
```

# php - 在php中将一个字符串拆分为两个字符串

> ID：12970489
> 
> 赞同：-1
> 
> 时间：2012-10-19T08:44:04.230
> 
> 标签：php

我需要将一个字符串分成两部分。

例子：

```
$str = 'abc def ghi jkl' 
```

结果：

```
$arr[0] = 'abc'
$arr[1] = 'def ghi jkl' 
```

我试过

```
explode(' ', $str); 
```

但它给了我字符串的所有部分。我猜你如何组合数组的其余部分会是一个更好的问题？

谢谢你的帮助~

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-19T08:45:44.577

```
explode(' ', $str, 2) 
```

[在http://php.net/explode](http://php.net/explode)阅读更多关于它的信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T08:46:32.813

您需要使用该`limit = 2`参数。

### 例子：

```
<?php
$str = 'one|two|three|four';

// positive limit
print_r(explode('|', $str, 2));

// negative limit (since PHP 5.1)
print_r(explode('|', $str, -1));
?> 
```

### 输出

```
Array
(
    [0] => one
    [1] => two|three|four
)
Array
(
    [0] => one
    [1] => two
    [2] => three
) 
```

在您的问题中，您可以使用这种方式：

```
explode(' ', $str, 2); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:46:33.543

尝试爆炸

```
explode(' ',$str , 2) 
```

或尝试

```
$new= preg_split('/(\s)/', $str, PREG_SPLIT_DELIM_CAPTURE); 
```

# aptana - 在 aptana 中看不到任务

> ID：12970492
> 
> 赞同：12
> 
> 时间：2012-10-19T08:44:16.543
> 
> 标签：aptana, task, todo

我想知道为什么我在 Aptana 的任务视图中看不到我的`// TODO:`描述。
当我右键单击行号并选择`Add Task`它时，我可以在
**Window > Show View > Tasks中看到我的任务**

但是当我只是写这样的评论时`//TODO: fix this line as soon as possible`。然后它不会显示在任务列表中。

当我检查我的首选项**Window > Preferences > Aptana Studio > Tasks**时，该列表中有`TODO`,`XXX`和`FIXME`，所以它看起来应该可以工作，但它没有。

我正在使用的代码是 Aptana Project Aswell。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-03T20:12:47.967

问题是我必须在 aptana 中更改项目的类型。

该项目首先是一个Web项目，WEB项目默认不支持TODO。将项目更改为 PHP 项目，它可以工作。

也许您可以以某种方式解决此问题，以使 Web 项目支持待办事项，但我通过更改项目类型来解决此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-25T09:37:52.830

我当前的项目是基于网络的，您可以创建评论，例如

```
/**
 * TODO do some stuff here
 */ 
```

Aptana 将识别“TODO”关键字并将彩色矩形（颜色取决于首选项中设置的编辑主题）放在屏幕右侧滚动条旁边。

要创建任务，右键单击行号垂直条，将出现上下文菜单。单击添加任务菜单项。完成此操作后，它将出现在任务面板窗口中。

另外，您可以将任务标记为已完成或设置优先级、高、正常和低。

[![Aptana TODO 任务](../Images/6b3f0ad6132abde976549c8284d16ab4.png)](https://i.stack.imgur.com/UvHw3.png)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-10-16T11:51:26.797

如果要定义自己的任务类型，必须先将其添加到首选项**Window > Preferences > Aptana Studio > Tasks**中，然后您可以在任务视图中的**配置内容**上添加新配置。

# c# - 消除图片之间的滚动背景间隙

> ID：12970500
> 
> 赞同：1
> 
> 时间：2012-10-19T08:44:48.660
> 
> 标签：c#, background, xna, scroll

我制作了一个无限滚动的背景，当我提高速度时，两个背景之间的差距变得更大。有什么建议么？我想消除差距，但我不知道如何......差距在我用作背景的两张图片之间。

```
public class Game1 : Microsoft.Xna.Framework.Game
{
    Texture2D scrollBak1;
    Texture2D scrollBak2;

    Vector2 scroll1Pos;
    Vector2 scroll2Pos;`
}

    public Game1()
    {
        graphics = new GraphicsDeviceManager(this);
        Content.RootDirectory = "Content";

        graphics.PreferredBackBufferHeight = 700;
        graphics.PreferredBackBufferWidth = 1050;
    }

    protected override void LoadContent()
    {
        scrollBak1 = Content.Load<Texture2D>("övrigt\\mark");
        scrollBak2 = Content.Load<Texture2D>("övrigt\\mark");

        scroll2Pos = new Vector2(scrollBak1.Width,      graphics.GraphicsDevice.Viewport.Height - scrollBak1.Height);

        scroll1Pos = new Vector2(0, graphics.GraphicsDevice.Viewport.Height - scrollBak1.Height);

    }

    protected override void UnloadContent()
    {
    }

    protected override void Update(GameTime gameTime)
    {

            if (scroll1Pos.X <= -scrollBak1.Width)
            {
                scroll1Pos = new Vector2(scrollBak1.Width - 20, graphics.GraphicsDevice.Viewport.Height - scrollBak1.Height);
                scroll1Pos.Y += 200;
            }

            if (scroll2Pos.X <= -scrollBak2.Width)
            {
                scroll2Pos = new Vector2(scrollBak2.Width - 20, graphics.GraphicsDevice.Viewport.Height - scrollBak2.Height);
                scroll2Pos.Y += 200;
            }
            // speed
            scroll1Pos.X -= 40f;
            scroll2Pos.X -= 40f;

            }

    protected override void Draw(GameTime gameTime)
    {
        GraphicsDevice.Clear(Color.White);

        spriteBatch.Begin();

            spriteBatch.Draw(scrollBak2, scroll2Pos, null, Color.White, 0, new Vector2(scroll2Pos.X, scroll2Pos.Y - 500), 0.5f, SpriteEffects.None, 0f);

            spriteBatch.Draw(scrollBak1, scroll1Pos, null, Color.White, 0, new Vector2(scroll1Pos.X, scroll1Pos.Y - 500), 0.5f, SpriteEffects.None, 0f);

        }

        spriteBatch.End();

        base.Draw(gameTime);
    }
} 
```

}

# php - 简单的 HTACCESS 规则重写不起作用

> ID：12970503
> 
> 赞同：0
> 
> 时间：2012-10-19T08:44:57.197
> 
> 标签：php, .htaccess

```
RewriteRule ^shop _new_shopAll.php [NC]
RewriteRule ^shop/new _new_shopNew.php [NC]
RewriteRule ^shop/swarovski _new_shopSwar.php [NC]
RewriteRule ^shop/signature _new_shopSig.php [NC]
RewriteRule ^shop/wedding _new_shopWedding.php [NC]
RewriteRule ^shop/celeb _new_shopCeleb.php [NC]
RewriteRule ^shop/sale _new_shopSale.php [NC]
RewriteRule ^shop/sw3 _new_shopSW3.php [NC] 
```

我似乎没有意识到为什么商店可以正常工作而其他一切都可以正常工作？是否需要添加 $ 或 $1？

我想让这个工作

```
/shop?filter=Black = /_new_shopAll.php?filter=Black
/shop/celeb?filter=Black  = /_new_shopCeleb.php?filter=Black
/shop = /_new_shopAll.php
/shop/celeb = /_new_shopCeleb.php 
```

这些是单独的链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:05:22.043

在任何其他重写有机会触及链接之前，您的第一条规则`RewriteRule ^shop _new_shopAll.php [NC]`也将匹配并替换链接。`shop/new`之后的所有 RewriteRules 改为参见`_new_shopAll.php`.

您需要`$`像这样在第一条规则的末尾添加一个： `RewriteRule ^shop/?$ _new_shopAll.php [NC]` 这样它就不会匹配`shop/new`，而其他规则将有机会匹配它。

# java - Java RMI 服务器和 Objective C 客户端

> ID：12970505
> 
> 赞同：1
> 
> 时间：2012-10-19T08:45:04.353
> 
> 标签：java, iphone, objective-c, servlets, rmi

我有一个 java rmi 服务器和一个客观的 C 客户端。我想使用 RMI 到 HTTP 隧道，以便将 RMI 调用封装到 HTTP 请求中，其中 RMI servlet 处理程序可以将调用转发到相应的 rmi 服务器。

但是我面临一个问题。例如，假设我创建了存根并在注册表上用某个名称（在服务器端）绑定了存根。

现在在目标 C 中，我如何定位注册表并查找存根？因为在正常情况下，我们有一个 rmi 客户端，可以这样完成：

注册表注册表 = LocateRegistry.getRegistry(host); Hello stub = (Hello) registry.lookup("HelloServer"); 这些不是远程过程调用，我可以发送 http 请求让服务器处理它们。

那么如何在目标 C 客户端中“定位”服务器远程对象呢？

任何帮助表示赞赏，如果您需要更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:51:24.807

你不能这样做。RMI/JRMP 需要 JVM。RMI/IIOP 需要服务器上的 JVM 和客户端上的 ORB（JVM 包含服务器的 ORB）。IDL 在客户端也需要一个 ORB，并且您必须使用完整详细的 CORBA API。

# java - JavaFX 应用程序没有在浏览器上运行它，它的抛出错误？

> ID：12970520
> 
> 赞同：3
> 
> 时间：2012-10-19T08:45:47.020
> 
> 标签：java, swing, javafx-2

我已经安装了 JDK 附带的 JDK7 和 JavaFX。当我尝试在浏览器上运行 JavaFX 应用程序时，我收到以下显示此错误的弹出窗口：-

```
Java Plug-in 10.7.2.10
Using JRE version 1.7.0_07-b10 Java HotSpot(TM) Client VM
User home directory = C:\Documents and Settings\376819
----------------------------------------------------
c:   clear console window
f:   finalize objects on finalization queue
g:   garbage collect
h:   display this help message
l:   dump classloader list
m:   print memory usage
o:   trigger logging
q:   hide console
r:   reload policy configuration
s:   dump system and deployment properties
t:   dump thread list
v:   dump thread stack
x:   clear classloader cache
0-5: set trace level to <n>
----------------------------------------------------
    Match: beginTraversal
Match: digest selected JREDesc: JREDesc[version 1.6+, heap=-1--1, args=null, href=http://java.sun.com/products/autodl/j2se, sel=false, null, null], JREInfo: JREInfo for index 0:
    platform is: 1.7
    product is: 1.7.0_07
    location is: http://java.sun.com/products/autodl/j2se
    path is: C:\Program Files\Java\jre7\bin\javaw.exe
    args is: null
    native platform is: Windows, x86 [ x86, 32bit ]
    JavaFX runtime is: JavaFX 2.2.0 found at C:\Program Files\Java\jre7\
    enabled is: true
    registered is: true
    system is: true

    Match: ignoring maxHeap: -1
    Match: ignoring InitHeap: -1
    Match: digesting vmargs: null
    Match: digested vmargs: [JVMParameters: isSecure: true, args: ]
    Match: JVM args after accumulation: [JVMParameters: isSecure: true, args: ]
    Match: digest LaunchDesc: http://download.oracle.com/otndocs/products/javafx/2.2/samples/Ensemble/Ensemble.jnlp
    Match: digest properties: []
    Match: JVM args: [JVMParameters: isSecure: true, args: ]
    Match: endTraversal ..
    Match: JVM args final: 
    Match: Running JREInfo Version    match: 1.7.0.07 == 1.7.0.07
     Match: Running JVM args match: have:<>  satisfy want:<> 
```

请告诉我出了什么问题？？

我正在使用带有 JavaFX 的 Windows XP 和 JDK7

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:37:28.397

看看这个oracle线程：

[https://forums.oracle.com/forums/thread.jspa?threadID=2427666](https://forums.oracle.com/forums/thread.jspa?threadID=2427666)

在这种情况下，JNLP 中没有设置主类，但它也显示了如何输出错误消息。

# jquery - 是否可以只有一个带有多个表的 TableTools？

> ID：12970521
> 
> 赞同：1
> 
> 时间：2012-10-19T08:45:53.293
> 
> 标签：jquery, sql, datatables, tabletools

我正在尝试生成一个包含 4 个不同结果集的页面。此数据将使用 DataTables 显示。

我想知道......是否可以只有一个 TableTools 有多个表？（我在任何地方都找不到此信息）

我想要的是显示 4 个具有不同结果集的表，并且可以选择使用 TableTools 将所有内容导出为 CSV、Excel 或 PDF。

有可能还是我要求太多了？

提前致谢！

费德

# php - 加上lighttpd php中缺少的字符

> ID：12970522
> 
> 赞同：0
> 
> 时间：2012-10-19T08:45:56.887
> 
> 标签：php, lighttpd

我创建了一个包含以下代码的 php 文件：

```
<?php
print_r ($_GET);
?> 
```

我从浏览器发出请求：

```
http://localhost/Study/php/get.php?test=1,+ 
```

我收到以下消息：

```
Array ( [test] => 1, ) 
```

加号“+”不见了，但是当我使用减号“-”而不是加号“+”时就可以了。

```
http://localhost/Study/php/get.php?test=1,- 
```

生成以下消息：

```
Array ( [test] => 1,- ) 
```

我将 lighttpd 与 php 一起使用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:53:32.200

加号是 urls 中的一个特殊字符：它代表一个空格。使用使用 url 编码的适当变体：

```
http://localhost/Study/php/get.php?test=1,%2B 
```

# jquery - textarea 上的委派焦点事件未在元素的选项卡上触发

> ID：12970525
> 
> 赞同：0
> 
> 时间：2012-10-19T08:46:01.553
> 
> 标签：jquery, focus, textarea, keyboard-events, event-delegation

我有一些文本区域，其中有一些通过 AJAX 加载的占位符文本。我希望文本在焦点上消失，所以我将焦点事件委托给一个类。如果我单击文本区域并在单击/切换到其他输入元素时触发焦点事件，则会触发焦点事件。但是当我标签到 textarea 时它不起作用。这种行为在所有浏览器中都是一致的。这就是我正在做的事情。

```
$('#forms-container').delegate('.hasInstructions', 'focus', clearInstructions) 
```

`hasInstructions`是我的输入元素上的类，带有占位符文本。

当我将事件直接绑定到文本区域时，它工作得很好。

```
<textarea class="hasInstructions" onfocus="clearInstructions()">foo</textarea> 
```

所以我的问题是，文本区域上的焦点事件不是冒泡了吗？如果是这样，我能实现这一目标的最佳方法是什么？

编辑：我知道在提出问题后改变问题的方式并不像这样。MikeD 的回答对原始问题完全有效，如果我没有得到更好的答案，我会接受。所以事情是这样的，

我正在使用 jQuery 1.4.2，我不能使用更高版本，因为我没有将库发送到页面。出于浏览器兼容性的原因，我不能使用 HTML5 占位符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:38:44.280

您说得对，它不适用于委托。这很可能是由于[这里给出的原因，](http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html)但这只是一个猜测。以下是一些建议的解决方法。

**没有 jQuery**

您可以使用事件捕获而不是事件冒泡来完成这项工作，如[本博客条目中](http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html)所述（有关 IE 支持，请参阅下面的警告）。

使用以下 HTML...

```
<p id='parent'>
    Enter some values:<br/>
    <input type='text' id='requiredValue'/>
    <input type='text'/>
</p>
<div id='output'>
</div> 
```

...此 JavaScript 显示在正确位置捕获的事件。

```
var outputDiv = document.getElementById('output'),
    parentDiv = document.getElementById('parent'),
    inputDiv = document.getElementById('requiredValue');

parentDiv.addEventListener('focus', function() {
    outputDiv.innerHTML = outputDiv.innerHTML + "<p>parent</p>";
}, true);
inputDiv.addEventListener('focus', function() {
    outputDiv.innerHTML = outputDiv.innerHTML + "<p>input</p>";
}, true); 
```

*使用 IE 进行这项工作*

事件捕获在 IE 中不起作用，但是在上面提到的博客中我们可以看到 IE 支持执行您想要的 focusin 和 focusout 事件。

这意味着通过添加另外两个事件处理程序，您可以在所有情况下处理这种情况：

```
parentDiv.onfocusin = function() {
    outputDiv.innerHTML = outputDiv.innerHTML + "<p>parent</p>";
};
inputDiv.onfocusout = function() {
    outputDiv.innerHTML = outputDiv.innerHTML + "<p>input</p>";
}; 
```

**使用最新版本的 jQuery**

[此功能使用“ on](http://api.jquery.com/on/) ”功能按预期工作。

> .on（事件 [，选择器] [，数据]，处理程序（事件对象））

在函数参数中为“on”指定选择器意味着“on”使用事件委托。从文档中：

> 当提供选择器时，事件处理程序被称为委托。当事件直接发生在绑定元素上时，不会调用处理程序，而只会调用与选择器匹配的后代（内部元素）。jQuery 将事件从事件目标冒泡到附加处理程序的元素（即，从最内到最外的元素），并为沿该路径匹配选择器的任何元素运行处理程序。

对于以下 HTML

```
<p id='parent'>
    Enter some values:<br/>
    <input type='text' class='requiredValue'/>
    <input type='text'/>
</p> 
```

下面的 JavaScript 代码按预期工作

```
$(document).ready(function() {
    var initialText = "Enter a value";
    $('.requiredValue').val(initialText);

    $('#parent').on('focus', '.requiredValue', function() {
        var contents = $(this).val();
        if (contents === initialText) {
            $(this).val("");
        }
    });

    $('#parent').on('blur', '.requiredValue', function() {
        var contents = $(this).val();
        if (contents.length == 0) {
            $(this).val(initialText);
        }
    });
}); 
```

**HTML 5 技术**

[可以在此处找到](http://davidwalsh.name/html5-placeholder)符合 HTML 5 的更好技术。来自博客：

```
<input type="text" name="first_name" placeholder="Your first name..."> 
```

> 您会注意到，您需要做的就是添加一个带有您选择的通用文本的占位符属性。很高兴您不需要 JavaScript 来创建这种效果，对吧？
> 
> 由于占位符是一项新功能，因此检查用户浏览器中的支持非常重要：

```
function hasPlaceholderSupport() {
    var input = document.createElement('input');
    return ('placeholder' in input);
} 
```

> 如果用户的浏览器不支持占位符功能，您将需要使用 MooTools、Dojo 或您选择的 JavaScript 工具包的后备：

```
/* mootools ftw! */
var firstNameBox = $('first_name'),
message = firstNameBox.get('placeholder');
firstNameBox.addEvents({
    focus: function() {
        if(firstNameBox.value == message) { searchBox.value = ''; }
    },
    blur: function() {
        if(firstNameBox.value == '') { searchBox.value = message; }
    }
}); 
```

# javascript - fancybox 使鼠标滚轮淡入水平图片

> ID：12970528
> 
> 赞同：1
> 
> 时间：2012-10-19T08:46:09.177
> 
> 标签：javascript, jquery, fancybox, mousewheel, fancybox-2

我使用 fancybox2 并集成了鼠标滚轮插件。
所以现在当使用鼠标滚轮时，图像会垂直淡入。

我想水平淡入图像而不是模拟下一个和上一个按钮。

有没有在fancybox中启用此功能的选项？

或者我可以从外部应用这种行为吗？

这是初始化：

```
$('.thumbs .thumb .fancybox').fancybox({
            beforeShow: function(){
                $(".fancybox-skin").css("backgroundColor","transparent");
            }
 }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T12:47:09.743

找到你的解决方案

在你的`jquery.mousewheel-3.0.6.pack.js`

改变这个

```
 b.HORIZONTAL_AXIS && (g = 0, e = -1 * f); 
```

到

```
 b.VERTICAL_AXIS && (g = 0, e = -1 * f); 
```

并且对于 webkits 改变这个

```
(e = -1 * b.wheelDeltaX / 120) 
```

到

```
(e = -1 * b.wheelDeltaY / 120) 
```

这是一个演示：

[http://jsfiddle.net/BerkerYuceer/TKxX3/](http://jsfiddle.net/BerkerYuceer/TKxX3/)

# objective-c - iOS在tableview上为一行设置动画

> ID：12970537
> 
> 赞同：1
> 
> 时间：2012-10-19T08:46:32.437
> 
> 标签：objective-c

我是 iOS 编程新手。我的情况是我尝试在 tableview 中插入一行，我尝试了 insertRowsAtIndexPath:withRowAnimation 函数，但它的动画速度非常快。我怎样才能让它变慢？

我有一些答案，iOS 不允许调整它的速度，所以当调用 insertRowsAtIndexPath:withRowAnimation likes 时，有必要在一个块内做我自己的动画

insertRowsAtIndexPath:withRowAnimation: ***^{.....}***

但是我到底必须在街区做什么？谁能告诉我，我只是想让动画变慢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T08:50:20.763

没有方法`insertRowsAtIndexPath:withRowAnimation:^{.....}`，因此您必须要么接受动画将要快速运行的事实，要么编写您自己的动画代码。这`UITableView`将很难做到。

# android - 如何使用日期选择器并更新android中数组适配器内的日期值

> ID：12970548
> 
> 赞同：1
> 
> 时间：2012-10-19T08:47:08.160
> 
> 标签：android, android-datepicker

我的应用程序中有可检查的列表视图，它显示人名和日期，当我单击列表项时，它将展开列表项下方的视图。

在那个视图中，我有用于年龄和日期选择器的 seekbar 和 texview，现在如果我单击 textview，则会打开一个 datepicker 对话框。

我的问题是我想在单击日期选择器对话框中的“设置”按钮后将日期设置为文本视图，并且我还想将此日期值更新为我的列表项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T08:51:44.117

更改支持您的数据源中的值`ListView`，然后调用`notifyDataSetChanged()`您的`ListAdapter`.

# node.js - 在 debian 机器上重新安装 node.js，在预版本上

> ID：12970550
> 
> 赞同：0
> 
> 时间：2012-10-19T08:47:17.117
> 
> 标签：node.js, github, debian

我是 Node 新手（每天少）我遇到了很多问题，运行 express3、request 和 socket.io : - 双重登录 app.post - http 中间件中的“发送后无法设置标头”

当第一个问题得到纠正（这里在 stackoverflow 上）时，第二个问题就会发生......

从本地人网站获取的样本显示了相同的错误。

所以，我做了一个 node -v 版本是 v0.9.3-pre，从 Git 安装（当前是 0.8.12）

我相信这是我的主要问题，那么我如何确定要重新安装的版本？这可以由 Git 完成吗？

上：debian 挤压

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:41:42.990

只需从 nodejs.org 下载最新的 tarball 并执行通常的 configure/make/make 安装顺序，假设您想使用稳定版本的 node（如果您对 node 有点陌生，这就是您真正想要的做; 开发版本（即版本中的奇数第一个数字）仅适用于了解节点的人，直到他们可以在其中找到细微的错误）。

我在我的几台机器上使用 Squeeze，它总是对我有用。

# java - 处理 TCP/IP 套接字上的多个请求

> ID：12970554
> 
> 赞同：3
> 
> 时间：2012-10-19T08:47:29.447
> 
> 标签：java, multithreading, sockets, tcp-ip

在 Java TCP/IP 套接字上处理多个请求是否很容易。只需接受一条消息并生成一个线程。接受另一条消息并产生另一个线程。问题是一旦你开始产生线程，事情就会变得更加不确定。假设您有 10 个客户端，其中一个客户端不断发出请求，另外 9 个客户端以 10% 的超活跃客户端发送请求，发现更难查看。

您可以处理此问题的一种方法是在您的服务器中拥有一个信号量的哈希图，其中每个客户端都有一个相应的信号量。在处理任何客户端的请求之前，您可以让它通过其信号量并配置信号量，以便每个客户端在任何时候只能有一定数量的请求。

在这个阶段，我想是的，但有更好的方法或图书馆可以做到这一点吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T09:48:13.843

> ...但是有没有更好的方法...？

我使用**每个 serversocket 一个接受线程**和一个**预生成线程池**来处理工作负载。接受线程只接受连接（不做任何其他事情）并将处理程序套接字提供给池中的线程之一。然后该线程与处理程序套接字一起工作，直到客户端完成，然后关闭处理程序套接字。

您可以根据需要扩展此设置：如果您注意到接受线程大部分时间都在等待池线程，那么您需要 x2 池线程的数量，如果您注意到接受 -线程是您创建（A）另一个接受线程和（B）另一个接受连接的套接字的瓶颈，并且可以选择（C）将它们放在另一台机器上。

如果客户端比其他客户端更重要，则您描述的与一个*超活跃*客户端的特定问题可能是有意/期望的：在这种情况下，您无需做任何事情。或者它可以被认为是*拒绝服务*攻击，在这种情况下，你应该有一个启发式方法，它只是断开客户端并*暂时*禁止其 IP 地址。

# node.js - 我得到一个重复的键错误索引：当我试图在 mongodb 中保存数据时

> ID：12970560
> 
> 赞同：4
> 
> 时间：2012-10-19T08:48:03.497
> 
> 标签：node.js, mongodb, express, mongoose

我有一个架构：

```
 var RegisterInfoSchema= new Schema({
  Organization:String,
  NGOName:String,
  Acronym:String,
  Address:String,
  Province:String,
  District:String,
  Tehsil:String,
  Telephone_number:String,
  Website:String,
  Demographics:String,
  Username:{type:String ,index: {unique:true}},
  Password:String
  })

exports.savePersonalInfo = function (req,res){
console.log("savePersInfo CALLED");

var receivedObj = new RegisterInfo({
    Organization:           req.body.regOrgType ,
    NGOName:                req.body.regName,
    Acronym:                req.body.regAcronym ,
    Address:                req.body.regAddress ,
    Province:               req.body.regProvince,
    District:               req.body.regDistrict,
    Tehsil:                 req.body.regTehsil ,
    Telephone_number:       req.body.regTelNo  ,
    Website:                req.body.regWebAddr,
    Demographics:           req.body.regDemographics,
    Username:               req.body.regUserName ,
    Password:               req.body.regPsw
      });

     receivedObj.save(function(err){
    console.log("inside Save ");
    if(err){                        
        console.log(err);
    }
    else{
        console.log("Saved!!");
        res.send("");

    }

   });
   } 
```

用户名中有索引当我尝试使用 save() 方法保存数据时，它会给出以下错误：

**{ [MongoError: E11000 重复键错误索引：testdb.registerinfos.$username_1 dup key: { : null }] name: 'MongoError', err: 'E11000 重复键错误索引: testdb.registerinfos.$username_1 dup key: { :空}'，代码：11000，n：0，lastOp：0，connectionId：339527，ok：1}**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:32:43.727

您对 registerinfos.username 有一个唯一约束，并且您正在尝试保存一个文档，该文档具有数据库中已存在的该字段的值。我知道这一点，因为这就是它在异常中所说的；）它与 _id 值无关。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T12:44:34.830

在 Sammaye 指出，您的代码每次`savePersonalInfo`调用时都会尝试创建一个新的 RegisterInfo 文档。如果您还使用此函数来更新现有文档，则需要修改该函数来执行此操作。

在伪代码中：

```
RegisterInfo.findOne({Username: req.body.regUserName}, function (err, reginfo) {
    if (!err) {
        if (!reginfo) {
            // Doesn't exist, create new doc as you're doing now
        } else {
            // Does exist, update reginfo with the values from req.body and then
            // call reginfo.save
        }
    }
}); 
```

# android - Android中的iPhone风格密码控制，每个点都有框

> ID：12970561
> 
> 赞同：2
> 
> 时间：2012-10-19T08:48:06.643
> 
> 标签：android, android-ui

我正在设计一个“输入密码”屏幕，并希望以 iPhone 风格制作，密码中的每个点都有方框。有什么方法可以让我将它作为单个控件而不是每个点都有一个 Edittext（很难做到！！）。请帮忙！！谢谢

![在此处输入图像描述](../Images/447e7e20ef8c8edc07a5db9a9791a6e5.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-30T13:32:00.007

[这](http://sriharia.blogspot.com/2014/07/ios-style-password-control-on-android.html)是博客的链接，它解释了使用复合控件实现上述要求。在此处发布以节省其他正在寻找此内容的人的时间。

# python - 通过 sys.argv 获取列表

> ID：12970567
> 
> 赞同：0
> 
> 时间：2012-10-19T08:48:12.543
> 
> 标签：python

我将 mylist 作为参数传递给 sys.argv 我这样做：

```
mylist = str(list)
nbre = str(nbre)
comm = 'python2.6 file.py ' + mylist + ' ' + nbre + ' &'
os.system(comm) 
```

在`file.py`中，我希望`mylist`通过这种方式获得，`[machine1,machine2]`但在执行时包含：

```
mylist = sys.argv[1] 
```

我明白`[machine1`了，这是错误的。当我显示时，`sys.argv`我发现：

```
['file.py','[machine1,','machine2]','1'] 
```

我不明白为什么我的名单是这样组成的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:51:43.183

除了这是一种将列表从一个 python 脚本传递到另一个脚本的糟糕方式之外，您还需要在列表周围使用引号以防止它被 shell 拆分：

```
comm = 'python2.6 file.py "%s" "%s" &' % (mylist, nbre) 
```

我使用[字符串格式](http://docs.python.org/library/stdtypes.html#string-formatting)将引号放在`mylist`和`nbre`.

您真的想查看[`subprocess`模块](http://docs.python.org/library/subprocess.html)以调用其他进程，而不会受到 shell 的阻碍。

# java - 如何获取带有 Hibernate 源附件的 jar？

> ID：12970573
> 
> 赞同：2
> 
> 时间：2012-10-19T08:48:35.903
> 
> 标签：java, hibernate, jar

我们刚刚将旧的 Hibernate (3.*) 升级到最新版本，经过半小时的搜索，我找不到带有 Hibernate 4.1.7 源附件的 .jar 文件。你有什么想法可以在哪里找到它？我尝试了 Hibernate 的官方页面 sourceforge，也查看了 Github。如果您指出一些有关构建带有源附件的 jar 文件的教程，那也很好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:51:50.310

在 JBoss 存储库（定期同步到中央）[这里](https://repository.jboss.org/nexus/content/groups/public/org/hibernate/hibernate-core/4.1.7.Final/)怎么样？

至于构建源 JAR，它确实取决于您的构建方法，但是例如。使用 Maven 非常简单：

```
mvn source:jar 
```

干杯，

# sql - 日期格式 SQL 的问题

> ID：12970579
> 
> 赞同：0
> 
> 时间：2012-10-19T08:49:02.667
> 
> 标签：sql, oracle, date, formatting

```
SELECT LISTING_EOD.LOCATION, LISTING_EOD.APPTTIME, LISTING_EOD.PERSON_ID,
    LISTING_EOD.FORENAME, LISTING_EOD.SURNAME, LISTING_EODS.STATUS,
    LISTING_EOD.DBDATE
FROM DBNAME.LISTING_EOD LISTING_EOD; 
```

此查询返回今天处理的数据列表，我需要修改以查看昨天的数据。我尝试添加以下代码行，但它没有返回任何内容。有谁知道我怎么能做到这一点？

```
where LISTING_EOD.DBDATE = '18-OCT-2012'; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:05:12.243

如果您总是想要昨天的数据，而不是硬编码可以使用的日期：

```
WHERE LISTING_EOD.DBDATE >= TRUNC(SYSDATE) - 1
AND LISTING_EOD.DBDATE < TRUNC(SYSDATE) 
```

`TRUNC(SYSDATE)`今天早上给你午夜，所以如果今天运行它会给出 和 之间的`18-Oct-2010 00:00:00`范围`18-Oct-2012 23:59:59`。

使用隐式日期格式掩码通常不是一个好主意；您的原始代码假定您`NLS_DATE_FORMAT`的设置为`DD-MON-YYYY`，但现在可能不正确（如果您在现有选择中看到时间，那么它可能不是），并且将来可能不会。始终使用明确的日期格式掩码，例如`TO_DATE('18-OCT-2012', 'DD-MON-YYY')`，以避免歧义和意外行为。

* * *

*如果*该字段实际上是`VARCHAR2`而不是`DATE`- 这很糟糕 - 那么您需要将日期范围转换为字符串以获得匹配：

```
WHERE LISTING_EOD.DBDATE >= TO_CHAR(TRUNC(SYSDATE) - INTERVAL '1' DAY, 'DD-MON-YYYY HH24:MI:SS')
AND LISTING_EOD.DBDATE <= TO_CHAR(TRUNC(SYSDATE) - INTERVAL '1' SECOND, 'DD-MON-YYYY HH24:MI:SS') 
```

这将只工作一天，但您在寻找日期范围时会遇到问题。将数据存储在适当类型的列中会更好、更安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:35:03.740

默认情况下，Oracle 中的日期也包含时间。如果您只指定 '18-OCT-2012'，它将仅匹配 18-OCT-2012 00:00:00'。解决此问题的一种方法是将数据库日期格式化为您要与之比较的日期，例如 to_char(LISTING_EOD.DBDATE, 'DD-MON-YYYY') 并将其与 '18-OCT-2012' 进行比较。这种比较将完全忽略时间。

如果您有要比较的日期变量而不是字符串，请使用与数据库日期相同的日期掩码对其进行格式化。这也绕过了有关数据库的默认日期格式的任何假设。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:39:26.627

我意识到我正在查询的“表”是一个视图，在 sqldeveloper 中对其进行了检查，并在 sysdate 中添加了“-1”。然后，此查询返回前几天的结果。

我成功检索到正确的数据，感谢收到的所有帮助。

# objective-c - 释放在 Objective-C 中动态创建的所有按钮

> ID：12970582
> 
> 赞同：0
> 
> 时间：2012-10-19T08:49:08.197
> 
> 标签：objective-c, ios5, xcode4

现在我用 XCode4.2 开发 IOS 应用程序。我在应用程序运行时创建 UIButton。所以我的编码在这里：

```
- (IBAction)btnSync_Click:(id)sender {
    float j=10.0;
    for(int i=1;i<5;i++){
        UIButton *button = [UIButton buttonWithType:UIButtonTypeRoundedRect];
        button.frame = CGRectMake(j, 170, 100.0, 50.0);
        [button setTitle:[NSString stringWithFormat:@"btn%d",i] forState:UIControlStateNormal];
        [button addTarget:self action:@selector(btn_Click:) forControlEvents:UIControlEventTouchUpInside];
        [fra_btn addSubview:button];
        j=j+110;
    }
}

- (IBAction)btn_Click:(id)sender{
    UIButton *btntmp=(UIButton*)sender;
    NSLog(btntmp.titleLabel.text);
} 
```

我想知道我还需要释放 fra_btn(View) 中的所有按钮吗？如果是，我该怎么做？我的项目是ARC项目。

最佳 Rgds, df

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:53:12.227

不，您不需要释放此按钮，以及在 ARC 下以编程方式创建的 CocoaTouch 框架中的任何其他对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:53:34.847

由于您不使用 alloc--Init 进行按钮初始化，因此您不需要释放任何东西

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:04:49.337

除了 Wolvorins 的回答：

只有以 , 开头的方法`init`，`new`或者`copy`假设您拥有该对象的方法，因此只有您使用以上述三个关键字开头的方法获得的对象才需要释放。所有其他方法都应该自动释放。（可能有一个糟糕的程序员忽略了这条规则，但 Apple 并不糟糕，所以你可以安全地将它应用于 Cocoa 类。）

这（也许“显然”）也适用于`alloc`,`copy`和`new`。

但 Tomasz Wojtkowiak 是对的。ARC 是`Automatic Reference Counting`，所以你不必发布任何东西，这正是 ARC 的工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T09:13:52.543

但是在 ARC 中，释放是被抑制的，所以没有释放任何 iVar 的问题。并且根据问题 UIButton here is not being assigned using alloc, init。类似的例子是当你分配一个字符串时说`[NSString stringWithFormat:@""];`或者`[NSArray arrayWithObjects];`是 autoRelease 。显式释放他们将导致应用程序在该行崩溃

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-01-24T07:28:33.580

你不能释放你创建的按钮，因为你没有使用 alloc。所以它没有分配内存。希望这会对你有所帮助。

# symfony - 使用数组参数创建查询

> ID：12970584
> 
> 赞同：1
> 
> 时间：2012-10-19T08:49:19.890
> 
> 标签：symfony, doctrine-odm

我尝试执行此查询

```
$em->createQuery('select i from AcmePublicBundle:Public i where i.user in (:opc)');
$query->setParameter('opc', $opc);

where :opc is an array like this
$opc={array}[2]
  0 = {array}[1]
     id = "9"
  1 = {array}[1] 
     id = "10" 
```

我收到这个错误

```
Notice: Undefined offset: 0 in... 
```

如果我试试这个

```
$em->createQuery('select i from AcmePublicBundle:Public i where i.usuario in (9, 10)'); 
```

一切安好。但我必须通过`$opc`。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:17:19.893

是的，错误似乎很合适，因为`setParameter`同时考虑了`array`键和值，键代表字段名称。因此，您不能在此处使用矩阵。

```
$ids = array();
foreach ( $opc as $o ){
    $ids[] = (int)$o[1]; //be careful about data type (string, int etc)
}
$q = " .... WHERE id IN (:opc) ... ";
$q->setParameter('opc', $ids); 
```

这应该工作....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:17:28.237

你的`$opc`数组不应该是多维的。尝试传递这样的数组：

```
$opc=array(
  '9',
  '10'
); 
```

代替

```
$opc=array(
  array('id'=>'9'),
  array('id'=>'10')
); 
```

# sql - 如何在 SQL 中使用 DDL 语句重命名列名

> ID：12970585
> 
> 赞同：-2
> 
> 时间：2012-10-19T08:49:20.973
> 
> 标签：sql, sql-server-2008

如何在 SQL 中使用**DDL语句重命名****列名**

 *** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:50:29.000

执行这个，

```
sp_RENAME 'TableName.[OldColumnName]' , '[NewColumnName]', 'COLUMN' 
```**

# sql - 为什么不直接从客户端连接到 SQL 服务器？为什么我们需要客户端-服务器模型中的应用服务器？

> ID：12970589
> 
> 赞同：1
> 
> 时间：2012-10-19T08:49:26.300
> 
> 标签：sql, postgresql, stored-procedures, air, client-server

许多应用程序使用以下模型：

1.  浏览器或其他客户端与应用服务器交互。
2.  应用程序服务器（Web 服务器或 RPC 服务器）与数据存储服务器（SQL 服务器或非 SQL 存储）交互。

对于 Internet 应用程序，他们需要应用程序服务器，因为它们必须在数据服务器上保留简单的功能以提高性能。但我看不出他们为什么需要**Intranet**上的应用程序服务器。

例如，我们可以开发一个直接连接到 PostgreSQL 服务器的 Adob​​e AIR 应用程序吗？我想我们可以部署一个有很多存储过程并设置严格权限的中心 PostgreSQL 服务器，并让 Adob​​e AIR 应用程序仅通过调用存储过程来获取（和修改）数据。

为什么大多数应用程序不选择更简单的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:11:45.057

一般来说，没有理由不能让独立的应用程序直接与 PostgreSQL 服务器对话。一些应用程序这样做，它工作正常。

我对 Adob​​e AIR 不够熟悉，无法说出在这种情况下是否可行。原则上，如果你能得到一个PostgreSQL驱动，或者你可以使用TCP套接字编写自己的驱动程序（PostgreSQL[网络协议在官方文档中有详细记录](http://www.postgresql.org/docs/9.1/static/protocol.html)），你当然可以直接连接。

话虽这么说，在终端客户端和数据库服务器之间有一种应用服务器形式并不是纯粹为了性能。

基于 Web 的开发允许 SQL 查询由服务器控制。您不是公开完整的 SQL 访问权限，而是公开客户端可以使用的功能。如果您稍后需要调整查询（错误、数据结构更改等），您可以在应用程序服务器上集中执行此操作，而无需为每个用户部署新版本的客户端。

当然，你可以像这个用户[服务器编程](http://www.postgresql.org/docs/9.1/static/server-programming.html)那样直接做一些抽象，但这并不适合所有的应用程序。这可能取决于您的应用程序需要哪些其他功能，例如，如果它需要使用以另一种语言编写的库。您可以使用一些过程语言绑定，但它并不总是合适的：例如，pl/Python 是一种“不受信任的”语言（可能会导致安全问题），而 pl/Java 需要一个外部插件。

此外，如今并非所有应用程序最终都保留给 Intranet 使用。当您开始设计应用程序时，通常不要将自己限制在 Intranet 的使用范围内。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-20T02:15:16.707

我最初是从直接访问设计开始的，很快发现迁移到我通过 Web 服务与数据库通信的应用程序服务器很有用。原因包括：

*   当您通过 HTTP 等无状态协议与数据库通信时，处理数据库重启、本地连接丢失、客户端 IP 地址更改等要容易得多。对于远程工作者来说，这更是一个问题。

*   事务在服务器端事务方法中明确划分和隔离（我使用 EJB3 和容器管理事务）

*   添加新客户端（如手机应用程序）要容易得多，因为它们可以共享更多代码和业务逻辑。数据库中的存储过程非常有用，但可能会受到限制并且有时会令人沮丧。

*   一些工具/语言没有直接与 PostgreSQL 对话的内置工具，但可以轻松地与具有 XML 或 JSON 请求/响应格式的 RESTful Web 服务对话。

*   如果您只处理单个应用程序服务器连接池，则数据库管理员会更容易

主要的缺点当然是额外的层意味着额外的工作和额外的维护。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T09:10:31.170

你可以，但是...

*   浏览器语言/库往往缺乏对数据库的支持
*   当有人想远程使用这个应用程序时会发生什么？

如果您不是在谈论基于浏览器的应用程序，那么这正是许多人所做的。有大量已安装的传统客户端应用程序直接或通过包装器（odbc/jdbc）与后端数据库通信。

# javascript - 从 iframe 弹出时 window.opener.doccument.getelementbyid() 不起作用

> ID：12970591
> 
> 赞同：0
> 
> 时间：2012-10-19T08:49:28.040
> 
> 标签：javascript, asp.net

我正在从 iframe 调用弹出窗口，当我单击按钮时，弹出窗口应该关闭并在父 iframe 中显示一条消息。我正在使用下面的 javascript

```
function ClosePopup() {
   var fRame = window.opener.document.getElementByID('lblMessage').innerHTML="testMessage"; 
   self.close();
} 
```

但是，当我执行此操作时，会返回错误：`getelementbyid is null`。

如何在父 iframe 中显示消息。谁能帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:26:40.963

要解决您的问题，请修复`getElementById`方法拼写。关于 null lblMessage 值的问题，如果您想在 JavaScript 中对其执行任何操作，则必须使用服务器控件的 ClientID。当控件放置在某个 NamingContainer 父控件中时，控件的服务器 ID 和客户端 ID 不同。最常见的情况是您在应用程序中使用母版页。

# jquery - 在对话框中按下 ENTER 键时触发

> ID：12970592
> 
> 赞同：2
> 
> 时间：2012-10-19T08:49:30.343
> 
> 标签：jquery, jquery-ui

当对话框打开时，我将焦点放在它上`$(this).parents( ...`，当按下 ENTER 键时它应该执行，但事实并非如此。按下ENTER键时如何执行？

```
 open: function() { 
                $(this).parents('.ui-dialog-buttonpane button:eq(0)').focus();
                $("#DIALOG2").keydown(function(event) {
                    if (event.which == 13) { //EXECUTE!
                        $(this).dialog("close");
                        ajax_usun(del_id);
                    }
                });             
            } 
```

JSfiddle 与示例：（单击删除按钮并在对话框中按下鼠标按回车键 - 没有任何反应）[http://jsfiddle.net/FkbLT/2/](http://jsfiddle.net/FkbLT/2/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:02:18.213

编辑：

我发现了问题所在。

```
 show: 'scale', 
```

导致焦点不被应用，可能是因为它在“缩放”效果仍在运行时尝试（并且失败）应用焦点，然后当缩放效果结束时，您没有焦点在按钮上。

小提琴：http: [//jsfiddle.net/VjakR/](http://jsfiddle.net/VjakR/)

编辑 2：绝对是一个 JQuery 错误，我已经尝试了所有“显示”可能的设置，结果证明它适用于：

```
blind
clip
drop
fold
puff
slide
size
pulsate 
```

虽然它打破了：

```
scale
explode 
```

只需选择另一个，和/或将此错误报告给 JQuery 开发人员...

# gcc - GCC 4.8：-Og 是否暗示 -g？

> ID：12970596
> 
> 赞同：30
> 
> 时间：2012-10-19T08:49:52.623
> 
> 标签：gcc

最近更新了 GCC 4.8 的文档，现在引入了一个新的优化开关，`-Og`. 这

> [..] 满足快速编译和卓越调试体验的需求，同时提供合理水平的运行时性能。开发的整体体验应该优于默认优化级别-O0。

此开关是否暗示`-g`或我必须`CXXFLAGS`手动将其添加到我的？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2014-11-22T10:25:36.270

查看 GCC 4.9.2 源代码 (gcc/opts.c) 表明它`-Og`与 相同`-O1`，但禁用了一些可能导致更差调试体验的标志：

```
/* in function default_options_optimization: */
    case OPT_Og:
      /* -Og selects optimization level 1\.  */
      opts->x_optimize_size = 0;
      opts->x_optimize = 1;
      opts->x_optimize_fast = 0;
      opts->x_optimize_debug = 1;
      break; 
```

几步之后，函数`maybe_default_option`被调用，带有一组选项和`x_optimize_debug`标志。标有 的选项`OPT_LEVELS_1_PLUS_NOT_DEBUG`，使用`OPT_LEVELS_1_PLUS_SPEED_ONLY`时`OPT_LEVELS_2_PLUS_SPEED_ONLY`不启用`-Og`。

所以这就是“应该比-O0更好”的说法的来源。`-Og`介于`-O0`和之间`-O1`。这不会影响包含将通过`-g`选项启用的调试信息。您可能还会对不同的`-g`选项感兴趣：

*   选项`-ggdb`覆盖`-g`。也就是说，如果您设置`-ggdb`after `-g`，该`-g`选项实际上会被忽略。
*   选项`-g`等于`-g2`，省略`-g`与 相同`-g0`。
*   Option产生的`-g3`调试部分比`-g2`对.`-ggdb3``-ggdb2`
*   更高的优化级别都会导致代码和调试部分的增加。( `-O0`< `-O1`< `-Og`< `-O2`< `-O3`)。
*   `strip --strip-debug`导致与`-g`级别无关的相同对象大小。这符合预期，即只有级别对确定调试部分`-O`的实际代码有影响。`-g`
*   `strip --keep-debug`导致对象的大小由`-g`级别决定，其次是`-O`级别。（所以`-g0 -O3`小于`-g3 -O0`）。

注意：这里我没有考虑编译的时间。它可能会随着更积极的优化级别而增加。我希望调试级别只会对时间产生很小的影响（与优化相比），因为它只是意味着在传递过程中需要跟踪额外的细节。

这是我用来测试实际行为的命令（也比较`-ggdbX`而不是`-gX`）：

```
for g in -g0 -g2 -g3;do
    for O in -O0 -O1 -O2 -O3 -Og; do
        flags="$g $O";
        gcc -fPIC -rdynamic -c -Wall -Wextra -Ilib ltunify.c -o obj/gL_"${flags// /_}_.o" $flags || break;
    done;
done 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2014-03-03T17:38:21.693

**简短回答**：不，您仍然必须`-g`手动添加。

**长答案**：

我一直在努力从源代码中直接找到一个硬性答案，所以我决定使用这里描述的方法自己测试它：[如何检查程序是否使用调试符号编译？](https://stackoverflow.com/q/3284112/289099)

`-O3`我用标志构建了一个可执行文件，没有`-g`. `objdump --syms <file> | grep debug`正如预期的那样，使用没有产生任何结果。

`-g`然后我构建了一个带有和不带有任何优化标志的可执行文件。相同的`objdump`命令产生了六个结果，如下所示：

`0000000000000000 l d .debug_info 0000000000000000 .debug_info`

我终于用`-Og`标志构建了一个可执行文件，没有`-g`. 该`objdump`命令没有产生任何结果。这意味着在这种情况下**不存在调试符号。**

虽然我无法从 GCC 本身找到任何明确的文档，但[Gentoo Wiki](https://wiki.gentoo.org/wiki/GCC_optimization#-O)（如 Marco Scannadinari 之前提到的）证实了我的断言，`-Og`这并不意味着`-g`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-08-10T12:02:01.623

`--version gcc (GCC) 8.3.1 20190223 (Red Hat 8.3.1-2)`fedora 29 工作站 x86_64 上的 gcc 手册。

不同的版本，但我认为它很有帮助。

> 调试程序的选项
> 
> ```
> ...
>   If you are not using some other optimization option, consider using -Og with -g.  With no -O option at
>   all, some compiler passes that collect information useful for debugging do not run at all, so that -Og may
>   result in a better debugging experience.
> ... 
> ```

> 控制优化的选项
> 
> ```
> ...
>   -Og Optimize debugging experience.  -Og enables optimizations that do not interfere with debugging. It
>       should be the optimization level of choice for the standard edit-compile-debug cycle, offering a
>       reasonable level of optimization while maintaining fast compilation and a good debugging experience.
> ... 
> ```

所以，我们可以看到`-Og`是优化选项之一。*如果您没有使用其他优化选项，请考虑将 -Og 与 -g 一起使用。*

样本：

```
#include <stdio.h>

int main(int argc, char *argv[]) {
    int n;

    for (n=0; n<10; n++) {
       printf("Print Number: %d\n", n);
    }
    return 0;
} 
```

编译：

```
[user@localhost myctest]$ gcc sample.c -o sample
[user@localhost myctest]$ gcc sample.c -o sample.Og -Og
[user@localhost myctest]$ gcc sample.c -o sample.g -g
[user@localhost myctest]$ gcc sample.c -o sample.Og.g -Og -g 
```

然后可以看到编译文件的大小：

```
[user@localhost myctest]$ ls -l --human-readable sample*
-rwxrwxr-x. 1 user user 18K Aug 10 19:43 sample
-rw-rw-r--. 1 user user 162 Aug 10 19:43 sample.c
-rwxrwxr-x. 1 user user 21K Aug 10 19:43 sample.g
-rwxrwxr-x. 1 user user 18K Aug 10 19:43 sample.Og
-rwxrwxr-x. 1 user user 21K Aug 10 19:44 sample.Og.g 
```

然后您可以使用`readelf`（GNU readelf 版本 2.31.1-13.fc29）重新检查这些文件中的调试信息。

```
[user@localhost myctest]$ readelf --debug-dump=aranges sample
[user@localhost myctest]$ readelf --debug-dump=aranges sample.g
Contents of the .debug_aranges section:

  Length:                   44
  Version:                  2
  Offset into .debug_info:  0x0
  Pointer Size:             8
  Segment Size:             0

    Address            Length
    0000000000401126 000000000000003d 
    0000000000000000 0000000000000000 

[user@localhost myctest]$ readelf --debug-dump=aranges sample.Og
[user@localhost myctest]$ readelf --debug-dump=aranges sample.Og.g
Contents of the .debug_aranges section:

  Length:                   44
  Version:                  2
  Offset into .debug_info:  0x0
  Pointer Size:             8
  Segment Size:             0

    Address            Length
    0000000000401126 0000000000000028 
    0000000000000000 0000000000000000 
```

可以看到仅通过`-Og`选项编译的文件中没有调试信息。您还可以使用 的选项查看更多信息`readelf --debug-dump=`。例如`readelf --debug-dump=aranges,info sample.g`. 和`readelf --headers sample.g | grep debug`

见`man readelf`：

> --debug-dump[=rawline,=decodedline,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges,=pubtypes,=trace_info, =trace_abbrev,=trace_aranges,=gdb_index,=addr,=cu_index,=links,=follow-links]

您可以使用 gdb 检查：

```
[user@localhost myctest]$ gdb sample.Og
GNU gdb (GDB) Fedora 8.2-3.fc29
Copyright (C) 2018 Free Software Foundation, Inc.
...

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from sample.Og...(no debugging symbols found)...done.
(gdb) 
```

然后你得到`(no debugging symbols found)`文件sample.Og。

**4.8.x**

对于 4.8.x 文档，在[Debugging-Options](https://gcc.gnu.org/onlinedocs/gcc-4.8.5/gcc/Debugging-Options.html#Debugging-Options)`-Og`一节中没有提及，仅在[Optimize-Options](https://gcc.gnu.org/onlinedocs/gcc-4.8.0/gcc/Optimize-Options.html#Optimize-Options)一节中介绍。

# python - 如何在 Windows 上安装 python pgmagick

> ID：12970597
> 
> 赞同：0
> 
> 时间：2012-10-19T08:49:56.430
> 
> 标签：python, windows, python-2.7, installation, pgmagick

我正在尝试在 Windows 上安装 pgmagick 库。我正在关注官方页面： http: [//pypi.python.org/pypi/pgmagick/](http://pypi.python.org/pypi/pgmagick/)

从那里我可以注意到我需要先安装 easy_install、pip、boost 和 graphicsMagic。在此页面中，我找到了 easy_install： [http](http://blog.troygrosfield.com/2010/12/18/installing-easy_install-and-pip-for-python/) ://blog.troygrosfield.com/2010/12/18/installing-easy_install-and-pip-for-python/ 在此页面中，我可以找到 pip 和 boost： [http://www .lfd.uci.edu/~gohlke/pythonlibs/#pgmagick](http://www.lfd.uci.edu/~gohlke/pythonlibs/#pgmagick)

但我不知道如何安装magick++。我去网站下载了它，但它只安装了软件，当我尝试像这样安装 pgmagick 时： pip install pgmagick

有一个错误，我需要 magick++：

```
F:\Python27\Scripts>easy_install -ZU pgmagick
Searching for pgmagick
Reading http://pypi.python.org/simple/pgmagick/
Reading http://bitbucket.org/hhatto/pgmagick
Best match: pgmagick 0.5.4
Downloading http://pypi.python.org/packages/source/p/pgmagick/pgmagick-0.5.4.tar
.gz#md5=c10a454331ac1c359b39e50663fd28e4
Processing pgmagick-0.5.4.tar.gz
Running pgmagick-0.5.4\setup.py -q bdist_egg --dist-dir f:\docume~1\alessa~1\imp
ost~1\temp\easy_install-xaypdo\pgmagick-0.5.4\egg-dist-tmp-qu7mji
Traceback (most recent call last):
  File "F:\Python27\Scripts\easy_install-script.py", line 8, in <module>
    load_entry_point('setuptools==0.6c11', 'console_scripts', 'easy_install')()
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
1712, in main
    with_ei_usage(lambda:
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
1700, in with_ei_usage
    return f()
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
1716, in <lambda>
    distclass=DistributionWithoutHelpCommands, **kw
  File "F:\Python27\lib\distutils\core.py", line 152, in setup
    dist.run_commands()
  File "F:\Python27\lib\distutils\dist.py", line 953, in run_commands
    self.run_command(cmd)
  File "F:\Python27\lib\distutils\dist.py", line 972, in run_command
    cmd_obj.run()
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
211, in run
    self.easy_install(spec, not self.no_deps)
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
446, in easy_install
    return self.install_item(spec, dist.location, tmpdir, deps)
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
476, in install_item
    dists = self.install_eggs(spec, download, tmpdir)
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
655, in install_eggs
    return self.build_and_install(setup_script, setup_base)
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
930, in build_and_install
    self.run_setup(setup_script, setup_base, args)
  File "F:\Python27\lib\site-packages\setuptools\command\easy_install.py", line
919, in run_setup
    run_setup(setup_script, args)
  File "F:\Python27\lib\site-packages\setuptools\sandbox.py", line 62, in run_se
tup
    lambda: execfile(
  File "F:\Python27\lib\site-packages\setuptools\sandbox.py", line 105, in run
    return func()
  File "F:\Python27\lib\site-packages\setuptools\sandbox.py", line 64, in <lambd
a>
    {'__file__':setup_script, '__name__':'__main__'}
  File "setup.py", line 74, in <module>
Exception: Magick++ not found 
```

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T12:39:53.923

我建议您使用来自[Unofficial Windows Binaries for Python Extension Packages](http://www.lfd.uci.edu/~gohlke/pythonlibs/#pgmagick)的预编译二进制包（如[pgmagick](http://pypi.python.org/pypi/pgmagick/)网页中所述），而不是尝试从源代码编译，这将是一个相当复杂的过程。

# facebook - 用于访问隐私和安全设置的 Facebook API

> ID：12970598
> 
> 赞同：1
> 
> 时间：2012-10-19T08:49:58.520
> 
> 标签：facebook, security, api, privacy

有没有办法获取 Facebook 帐户的安全和隐私设置？正在设计的应用程序需要：

*   登录 Facebook 帐户，
*   检索所有隐私和安全设置，以及
*   以自定义方式在单个页面上显示设置。

我做了很多在线搜索，检查了 FB Developer 的网站，但到目前为止没有发现任何相关内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T12:56:39.507

有 security_settings 端点，我不知道它会提供你正在寻找的东西......它是 `/me?fields=security_settings`

你可以在

[http://developers.facebook.com/tools/explorer?method=GET&path=me%3Ffields%3Dsecurity_settings](http://developers.facebook.com/tools/explorer?method=GET&path=me?fields=security_settings)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T16:47:23.993

您可以通过 API 获取的内容：

**用户为您的应用选择的帖子可见性：**

> 从privacy_setting WHERE name = 'default_stream_privacy'中选择名称、值、描述、允许、拒绝、网络、朋友

[隐私设置FQL 表文档](https://developers.facebook.com/docs/reference/fql/privacy_setting/)中的更多详细信息

**用户的 HTTPS 设置**（也感谢 NappingRabbit 的设置）：

> /me?fields=security_settings

返回描述用户安全设置的对象，仅启用 HTTPS 设置：

```
{
  "security_settings": {
    "secure_browsing": {
      "enabled": true
    }
  }, 
  "id": "<USER ID>"
} 
```

**与单个帖子关联的隐私设置** 在直接访问帖子时返回，或通过[隐私 FQL 表返回](https://developers.facebook.com/docs/reference/fql/privacy/)

直接检索设置的示例 `USERID_POSTID/?fields=privacy`：

```
privacy": {
    "description": "Friends, <community name>; Except: Restricted", 
    "value": "CUSTOM", 
    "friends": "ALL_FRIENDS"
  }, 
  "id": "POST ID HERE", 
  "created_time": "2012-10-18T02:49:59+0000"
} 
```

Facebook.com 上的用户隐私设置没有 API 访问权限（除了我上面提到的内容级隐私），尝试自动登录和爬取 Facebook 的界面检索它们可能会触发安全保护

# android - 获取视图属性的资源id

> ID：12970604
> 
> 赞同：2
> 
> 时间：2012-10-19T08:50:09.333
> 
> 标签：android, android-widget, android-xml

我正在创建一个自定义列表视图实现。这是我在 xml 中声明的视图的一个实例：

```
<CustomListView android:id="@+id/list" android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:listSelector="@drawable/listview_background">
</CustomListView> 
```

是否可以从我的构造函数中获取 'android:listSelector' 资源或任何其他属性的 int 值？

```
public CustomListView(Context context, AttributeSet attrs) {
    super(context, attrs);
    this.listSelectorId = ???
} 
```

我已经尝试过了，但它没有返回正确的资源 ID：

```
public CustomListView(Context context, AttributeSet attrs) {
    TypedArray a = context.obtainStyledAttributes(attrs, new int[]{android.R.attr.selectableItemBackground});
    this.selectorResourceId = a.getResourceId(0, 0);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-21T18:21:32.790

attr.getAttributeResourceValue("http://schemas.android.com/apk/res/android", "listSelector", -1) 成功了 :)

# php - PHP 中的 &$ 变量

> ID：12970613
> 
> 赞同：4
> 
> 时间：2012-10-19T08:50:36.167
> 
> 标签：php, function, parameters, reference

我一直在查看 wordpress 的核心文件并偶然发现了这段代码，我注意到它在变量名之前和 = 之后有一个 & 符号。

我试过搜索这个并[从](http://www.php.net/manual/en/functions.arguments.php)PHP 手册中发现它并没有很好地解释它，或者我看错了！我还看到它用于在使用它的方法之外修改变量，但是，这就是变量的用途，要修改所以如果这是正确的，人们将如何使用它？

```
function _make_cat_compat( &$category ) {

    if ( is_object( $category ) ) {
        $category->cat_ID = &$category->term_id;
        $category->category_count = &$category->count;
        $category->category_description = &$category->description;
        $category->cat_name = &$category->name;
        $category->category_nicename = &$category->slug;
        $category->category_parent = &$category->parent;
    } elseif ( is_array( $category ) && isset( $category['term_id'] ) ) {
        $category['cat_ID'] = &$category['term_id'];
        $category['category_count'] = &$category['count'];
        $category['category_description'] = &$category['description'];
        $category['cat_name'] = &$category['name'];
        $category['category_nicename'] = &$category['slug'];
        $category['category_parent'] = &$category['parent'];
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T08:53:02.370

这意味着该函数将修改参数（通过引用）而不是处理它的副本。删除函数体内的所有与号，只有参数中的一个是必需的。

```
function foo(&$foo) { $foo++; }
function bar($foo) { $foo++; }
$foo = 10;
foo($foo);
foo($foo);

// prints 12, function foo() has incremented var $foo twice
echo "$foo\n";

bar($foo);
// still 12, as bar() is working on a copy of $foo
echo "$foo\n";

// However, since PHP 5.0, all objects are passed by reference [(or to be more specific, by identifier)][1]
class Foo {
    public $bar = 10;
}
$obj = new Foo;
echo "$obj->bar\n"; // 10, as expected

function objectIncrement($obj) { $obj->bar++; }

function objectRefIncrement(&$obj) { $obj->bar++; }

objectIncrement($obj);
echo "$obj->bar\n"; // 11, as expected, since objects are ALWAYS passed by reference (actually by identifier)
objectRefIncrement($obj);
echo "$obj->bar\n"; // 12 
```

*如果您打算修改函数/方法中传递的参数，以通过引用显式传递它，这仍然是一个好主意。*除了其他优点之外，您的代码也变得更加明确和易于理解。

顺便说一句，你可以这样做：

```
function _make_cat_compat( &$category ) {
    if (is_array( $category)) {
        $category = (object)$category;
    }

    $category->cat_ID = $category->term_id;
    $category->category_count = $category->count;
    $category->category_description = $category->description;
    $category->cat_name = $category->name;
    $category->category_nicename = $category->slug;
    $category->category_parent = $category->parent;
} 
```

对我来说看起来更干净，但我不知道你的具体情况。而且我不知道您将如何拥有数组或对象-这意味着使用了一些不良做法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-19T08:55:37.260

在谈到方法参数时，`&$variable`指的是`call by reference`. 因此，即使方法完成，您对此变量所做的任何更改也会保留。

```
function a($arg) // call by value ($arg is a copy of the original)
{
    $arg += 1;
}
function b(&$arg) // call by reference ($arg IS the original)
{
    $arg += 1;
}

$myArg = 1;

a($myArg);
echo $myArg;

echo "\r\n";

b($myArg);
echo $myArg;

// Displays:
// 1
// 2 
```

[这](http://php.net/manual/en/language.references.php)是 PHP 手册中关于参考的部分。

`&`后面的基本`=`意思相同，但在这种情况下它们是无用的，因为无论如何你已经通过引用进行了调用。您可以安全地删除它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:54:16.927

这是关于参考的正确 PHP 手册条目：http: [//php.net/manual/en/language.references.php](http://php.net/manual/en/language.references.php)

在大多数情况下，您不需要使用 & 号传递引用，`&`因为 PHP 将始终首先传递引用，并且只会在第一次写访问时创建变量的副本。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T08:55:40.117

它将变量作为参考传递。如果没有＆符号，则以下代码将不起作用：

```
$var = "content";

function test(&$v)
{

    $v = "this is new content";

}

test($var); 
```

注意：这是未经测试的代码，但理论足够接近。它允许在不同的范围内修改变量，所以不是传递变量的值，在这个例子中 - “内容”，你传递一个对变量本身的引用，所以你直接编辑你传入的变量.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T08:54:10.577

它`s because this function doesn`不会返回任何东西，只是修改，等等。

# ios - iOS6 中的分组表视图未反映在较旧的 iOS 版本中

> ID：12970616
> 
> 赞同：2
> 
> 时间：2012-10-19T08:50:45.567
> 
> 标签：ios, xcode4.5, ipad

我已经开始将 Xcode 4.5 用于新的 iPad（拆分视图）项目，我有一个 MasterViewController，它是 UITableViewController 的子类。我已将此 MasterViewController 的 xib 中的 tableView 设为 Grouped 样式。

这在 iOS 6.0 中完美运行，但对于 iOS 4.3/iOS 5.0，表格显示为普通表格，甚至没有设置表格的背景。请帮忙！

# jasper-reports - 输入控件在 JR Server CP 4.7 和 5.0 的超链接报告中不可见

> ID：12970618
> 
> 赞同：2
> 
> 时间：2012-10-19T08:50:55.307
> 
> 标签：jasper-reports, jasperserver

我正在使用*JasperReports Server CP 4.7*并将所有文件从*JR Server 4.5*导入到新服务器。但是，如果我单击任何超链接报表，我看不到参数，以防超链接报表有任何其他输入控件参数。我看不到那些输入控件。

我怎么解决这个问题？

它是*JR Server 4.7*的错误吗？
我对 JR server 5.0 也有同样的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-12T05:29:54.423

经过很长时间我找到了解决方案，解决方案非常简单，只需 从超链接路径中删除**repo 。**

```
 "repo:/path of hyperlinked report" 
```

超链接将是：-

```
 "/path of hyperlinked report". 
```

# macos - Brew install git fails

> ID：12970620
> 
> 赞同：3
> 
> 时间：2012-10-19T08:51:04.803
> 
> 标签：macos, git, gcc, homebrew

I want to install git with homebrew. I had MacPorts installed, which I removed from my iMac. I also removed homebrew completely, and reinstalled it with `ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"`.

After I ran `brew doctor` I had to delete (I only moved them) some libs inside `/usr/local/lib`. After that I fixed the `$PATH` var in my `.profile`, so that the `/usr/local/bin` and `/usr/local/sbin` are overwriting the normal bin dir.

Now I wanted to install git with `brew install git`. It fetched the content, and begins building git. But during the build, it fails with the message

```
~$ brew install git
spo==> Downloading http://git-core.googlecode.com/files/git-1.7.12.4.tar.gz
Already downloaded: /Library/Caches/Homebrew/git-1.7.12.4.tar.gz
==> make prefix=/usr/local/Cellar/git/1.7.12.4 CC=/usr/bin/gcc-4.2 CFLAGS=-Os -w -pipe -march=core2 -msse4.1 -mmacosx-version
ld: symbol(s) not found
collect2: ld returned 1 exit status
make: *** [git-credential-store] Error 1
make: *** Waiting for unfinished jobs....
Writing perl.mak for Git

Error: git did not build
Logs: /Users/23tux/Library/Logs/Homebrew/git/
Help: https://github.com/mxcl/homebrew/wiki/troubleshooting
      https://github.com/mxcl/homebrew/issues/11481
      https://github.com/mxcl/homebrew/issues/14423
      https://github.com/mxcl/homebrew/issues/14585 
```

I looked into the `/Users/23tux/Library/Logs/Homebrew/git/` and it says, that there are undefined symbols. Here is the output:

```
/usr/bin/gcc-4.2  -Os -w -pipe -march=core2 -msse4.1 -mmacosx-version-min=10.6 -I. -DPRECOMPOSE_UNICODE -DUSE_ST_TIMESPEC -DNO_GETTEXT  -DHAVE_DEV_TTY -DSHA1_HEADER='<openssl/sha.h>'  -DNO_MEMMEM -DSHELL_PATH='"/bin/sh"' -o git-credential-store -L/usr/local/lib  credential-store.o libgit.a xdiff/lib.a  -lz  -liconv  -lcrypto -lssl 
Undefined symbols:
  "_strbuf_addstr_urlencode", referenced from:
      _main in credential-store.o
      _main in credential-store.o
      _main in credential-store.o
      _main in credential-store.o
  "_strbuf_getline", referenced from:
      _parse_credential_file in credential-store.o
  "_strbuf_release", referenced from:
      _parse_credential_file in credential-store.o
      _main in credential-store.o
  "_credential_clear", referenced from:
      _parse_credential_file in credential-store.o
  "_usage_with_options", referenced from:
      _main in credential-store.o
  "_credential_from_url", referenced from:
      _parse_credential_file in credential-store.o
  "_credential_read", referenced from:
      _main in credential-store.o
  "_commit_lock_file", referenced from:
      _rewrite_credential_file in credential-store.o
  "_die_errno", referenced from:
      _parse_credential_file in credential-store.o
      _rewrite_credential_file in credential-store.o
  "_credential_match", referenced from:
      _parse_credential_file in credential-store.o
  "_strbuf_slopbuf", referenced from:
      _parse_credential_file in credential-store.o
      _main in credential-store.o
  "_expand_user_path", referenced from:
      _main in credential-store.o
  "_parse_options", referenced from:
      _main in credential-store.o
  "_write_or_die", referenced from:
      _print_line in credential-store.o
  "_die", referenced from:
      _main in credential-store.o
  "_strbuf_addf", referenced from:
      _main in credential-store.o
  "_hold_lock_file_for_update", referenced from:
      _rewrite_credential_file in credential-store.o
  "_strbuf_grow", referenced from:
      _print_line in credential-store.o
      _main in credential-store.o
      _main in credential-store.o
      _main in credential-store.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make: *** [git-credential-store] Error 1
make: *** Waiting for unfinished jobs....
Writing perl.mak for Git

HOMEBREW_VERSION: 0.9.3
HEAD: (none)
CPU: dual-core 64-bit penryn
OS X: 10.6.8-i386
Xcode: 3.2.6
X11: 2.3.6 => /usr/X11 
```

(the output is much longer, I only included the last few lines, where the error happened).

I googled a lot, but can't find any solution. Is this because of some broken things with MacPorts (I know, they don't like each other)? Or how can I fix that?

**EDIT**

I just found out, that when I'm running `brew doctor`, I get this output:

```
You must: brew install git
You must: brew install git
You must: brew install git
Warning: An outdated version of Git was detected in your PATH.
Git 1.6.6 or newer is required to perform checkouts over HTTP from GitHub.
Please upgrade: brew upgrade git 
```

When I run `brew upgrade git` I get `Error: git not installed`. I searched my PATH var for any binary of git (or something else), but can't find anything.

I think this means, that somewhere there is git stuff left, and it conflicts with the new install. Am I right?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T21:05:31.253

I couldn't figure out how to install git with homebrew in that case. 'Cause I didn't want to waste so much time, I installed the whole rvm, ruby, git stuff with the Rails Installer from here [http://railsinstaller.org/](http://railsinstaller.org/). Then it worked with homebrew

# c# - 将数据集划分为匹配和不匹配的数据表

> ID：12970621
> 
> 赞同：0
> 
> 时间：2012-10-19T08:51:07.160
> 
> 标签：c#, datatable, dataset

在我的项目中有两个数据集`dsNames`和`dsDetails`.

我不知道SQL。在这里，我连接到 XML 和文本文件。

**名称**

```
EmployeeName    EmployeeRole

   a                2
   b                3
   c                4 
```

**dt详情**

```
 Empid     EmployeeName   EmpCity   EmployeeRole

  101        a             abc          3  //EmpRole not equal to above table EmpRole
  102        b             abc          3
  103        c             xyz          4
  104        d             pqr          5
  105        e             rst          6 
```

我想根据`EmployeeName`and关联这两个数据集`EmployeeRole`（这里比较`dsNames`）并将结果存储在另一个 DataSet `dsMain`（表来自`dsDetails`）中，然后根据比较像`matchedDataTable`and划分两个数据集`unmatchedDataTable`。

我知道这可以使用[DataRelation](https://stackoverflow.com/q/1014906/1577396)或[RowFilter](https://stackoverflow.com/q/6007872/1577396)来完成，但我不知道如何做到这一点，因为有两列要与我不知道的其他数据表两列进行比较。（我是 .net 的初学者）

我尝试了以下代码：（*不工作*）

```
 foreach (DataRow rwMain in dsNames.Tables[0].Rows)
            {
                foreach (DataRow rwSub in dsDetails.Tables[0].Rows)
                {
                    if (rwMain["EmployeeName"].Equals(rwSub["EmployeeName"]))
                    {
                        if (rwMain["EmployeeRole"].Equals(rwSub["EmployeeRole"]))
                        {
                            // Matched DataTable
                        }
                        else
                        {
                            //Unmatched DataTable
                        }
                    }
                }
            } 
```

我在上面的代码中做错了，而且看起来我没有以正确的方式做这件事。

请不要使用 linq，因为我知道它，但我不能在我的项目中使用它。

请协助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:04:30.780

您可以使用 LINQ，您只需加入两个表。`EmpName`仅一次，两列一次。

```
var sameRoleNames = from rn in dtNames.AsEnumerable()
                join rd in dtDetails.AsEnumerable()
                on new
                {
                    Name = rn.Field<string>("EmpName"),
                    Role = rn.Field<string>("EmpRole"),
                } equals new
                {
                    Name = rd.Field<string>("EmpName"),
                    Role = rd.Field<string>("EmpRole"),
                }
                select rd;
var notSameRoleNames = from rn in dtNames.AsEnumerable()
                   join rd in dtDetails.AsEnumerable()
                   on rn.Field<string>("EmpName") equals rd.Field<string>("EmpName")
                   where rn.Field<string>("EmpRole") != rd.Field<string>("EmpRole")
                   select rd;
var matchedDataTable = sameRoleNames.CopyToDataTable();
var unmatchedDataTable = notSameRoleNames.CopyToDataTable(); 
```

我刚刚看到您对“您可以使用 Linq”问题的回答。无论如何，我把它留在那里，也许它对其他人有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:49:42.037

我通过使用`Select`属性解决了它

```
 DataRow[] matchedRows = dtNames.Select("EmployeeName = '" + dsDetails.Tables[0].Columns[0].ToString() + "'"
                    + " AND " + " EmployeeRole ='" + dsDetails.Tables[0].Columns[1].ToString() + "'");
                //
 DataRow[] mismatchedRows = dsDetails.Tables[0].Select("EmployeeName <> '" + dtNames.Columns[0].ToString() + "'"
                    + " OR" + " EmployeeRole <>'" + dtNames.Columns[1].ToString() + "'"); 
```

# ios - 为什么我无法从 Web 服务获取数据，我得到反馈“列表不存在”。

> ID：12970624
> 
> 赞同：0
> 
> 时间：2012-10-19T08:51:08.237
> 
> 标签：ios, web-services, soap, asihttprequest

下面是请求网络服务的代码，我收到反馈@“列表不存在。您选择的页面包含不存在的列表。它可能已被其他用户删除。”

```
NSString *soapMessage = @"<?xml version=\"1.0\" encoding=\"utf-8\"?><soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"><soap:Body><GetList xmlns=\"http://schemas.microsoft.com/sharepoint/soap/\"><listName>Contact</listName></GetList></soap:Body></soap:Envelope>";

NSString * wsURL = @"http://192.168.11.133/Jason/_vti_bin/Lists.asmx";

NSString *msgLength = [NSString stringWithFormat:@"%d", [soapMessage length]];
NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@"%@",wsURL]];
ASIHTTPRequest * theRequest = [ASIHTTPRequest requestWithURL:url];

[theRequest addRequestHeader:@"Content-Type" value:@"text/xml; charset=utf-8"];
[theRequest addRequestHeader:@"SOAPAction" value:@"http://schemas.microsoft.com/sharepoint/soap/GetList"];
[theRequest setUsername:@"username"];
[theRequest setPassword:@"password"];
 [theRequest addRequestHeader:@"Content-Length" value:msgLength];
 [theRequest setRequestMethod:@"POST"];
 [theRequest appendPostData:[soapMessage dataUsingEncoding:NSUTF8StringEncoding]];

 [theRequest setDefaultResponseEncoding:NSUTF8StringEncoding];

[theRequest setTimeOutSeconds:20];
[theRequest setDidFailSelector:@selector(onRequestFail:)];
[theRequest startSynchronous]; 
```

该网络服务来自共享点。我觉得我的代码是正确的。谁能给点建议？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:16:00.360

无关：

[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/)不再受支持，对于 POST 请求，它是一个类`ASIFormDataRequest`

> 请注意，我不再在这个库上工作——你可能想考虑为新项目使用其他东西。:)

您可以选择一个替代方案，例如：

*   [AFNetworking](https://github.com/AFNetworking/AFNetworking)（我最喜欢的选择）
*   [MKNetworkKit](https://github.com/MugunthKumar/MKNetworkKit)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-23T09:56:29.273

这应该是 SharePoint 问题。直接使用IP会导致一些问题。我通过映射主机名解决了这个问题。

# php - 未定义的方法 PDO lastInsertId

> ID：12970626
> 
> 赞同：18
> 
> 时间：2012-10-19T08:51:16.457
> 
> 标签：php, database, pdo, lastinsertid

我有一个插入查询，我想从表中获取 ID。我一直在搜索，我找到了 PDO 的 lastInsertId() 。当我想使用它时，我得到了 PHP 错误。

这是我的代码：

```
$db = new database();
$naam = $db->quoteQuery($_POST['naam']);
$barcode = $db->quoteQuery($_POST['barcode']);
$sql = "INSERT INTO products(name, barcode) VALUES (".$name.",".$barcode.")";
$results = $db->executeQuery($sql);
$lastid = $results->lastInsertId(); 
```

但这给出了一个错误，这个：

```
Fatal error: Call to undefined method PDOStatement::lastInsertId() in /home/onlineweuh/domains/onlinewebapps.nl/public_html/vsb/admin/add-product.class.php on line 297 
```

我的数据库类：

```
 class database 
{
    private $handleDB;
    public function __construct()
    {
        $host = ;
        $user = ;
        $database = ;
        $password = ;
        try
        {
            $this->handleDB = new PDO('mysql:host='.$host.';dbname='.$database, $user, $password);
        }
        catch (PDOException $e)
        {
            print_r($e);
        }

        $this->handleDB->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);
    } 
```

我希望有人能帮我解决它，我想要插入查询中给出的 ID。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-10-19T08:53:32.590

您从 PDO 对象而不是您的结果对象中获取 lastinsertid。

尝试`$db->lastInsertId()`

在下面编辑。

您的数据库类正在封装您的 handleDB / PDO 对象。由于handleDB 变量是私有的，你不能在你的类之外访问它。您需要像这样公开它；

```
class database 
{
    public $handleDB;
    public function __construct()
    {
        $host = 'removed';
        $user = 'removed';
        $database = 'removed';
        $password = 'removed';
        try
        {
            $this->handleDB = new PDO('mysql:host='.$host.';dbname='.$database, $user, $password);
        }
        catch (PDOException $e)
        {
            print_r($e);
        }

        $this->handleDB->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);
    }

} 
```

现在你可以打电话`$db->handleDB->lastInsertId();`

或者您可以将 公开为`handleDB->lastInsertId()`如下函数：

```
class database 
{
    private $handleDB;
    public function __construct()
    {
        $host = 'remove';
        $user = 'removed';
        $database = 'removed';
        $password = 'removed';
        try
        {
            $this->handleDB = new PDO('mysql:host='.$host.';dbname='.$database, $user, $password);
        }
        catch (PDOException $e)
        {
            print_r($e);
        }

        $this->handleDB->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);
    }

    public function lastInsertId(){
        return $this->handleDB->lastInsertId();
    }

} 
```

你会打电话给使用`$db->lastInsertId();`

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-10-19T08:53:23.677

`lastInsertId`是一种方法`PDO`，不是`PDOStatement`。所以：

```
$db->lastInsertId(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:07:08.993

您的数据库类需要通过扩展 PDO 成为 PDO 的子类

```
class database extends PDO 
```

这样，PDO 中的所有方法都可用于您的子类。

# javascript - 单击浏览器的后退按钮时调用 JavaScript 函数

> ID：12970627
> 
> 赞同：4
> 
> 时间：2012-10-19T08:51:20.433
> 
> 标签：javascript, jquery

> **可能重复：**
> [检测用户何时离开网页的最佳方法](https://stackoverflow.com/questions/147636/best-way-to-detect-when-user-leaves-a-web-page)

单击浏览器的后退按钮时如何调用 javascript 或 jQuery 函数？我已经看到了一些解决方案，但没有一个对我有用。谁能给我看一些示例代码？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T09:01:18.730

在 jQuery 中试试这个：

```
$(window).unload( function () 
{
// put your code here
}); 
```

在 javascript 中：

```
window.onbeforeunload = function () {
   // put your code here
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:17:21.357

```
<body onUnload="yourFunction();>
<!-- ... -->
</body> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T11:16:01.020

您可以使用[`history.replaceState()`](https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history)（[请参阅浏览器支持](http://caniuse.com/#search=replacestate)）使用您选择的添加参数（例如`redirect=<URL of previous actual previous page>`，您可以从引用者那里获取此 URL？）来修改您访问到当前页面的先前 URL，然后检测文档中的参数准备好并执行所需的操作。

这只是一个未经检验的理论，稍后我可能会在测试时详细说明。

# php - 如何为 PHP 个人资料页面创建县/人 URL 结构

> ID：12970631
> 
> 赞同：2
> 
> 时间：2012-10-19T08:51:26.953
> 
> 标签：php, url, url-rewriting

我目前正在构建一个 PHP 驱动的网站，在我的主页上我有 X 个用户，每个用户显示一张图片和他们的名字。我想创建一个按钮来查看此人的个人资料，然后将他们带到另一个页面，其中包含从表格中提取的所有相关信息。

我希望我的 URLS 看起来`mysite.com/county/people/liam-gallagher.php`像`mysite.com/profile.php?id=1`

URL 重写是如何完成的，或者我应该在我的服务器上创建这些目录吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:55:25.800

当你看到这样的东西时，*通常*是 URL 重写的结果。为类别和县创建物理文件夹会很痛苦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:04:36.073

首先，您使用在您的 htaccess 文件上捕获所有对索引页面的请求

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [NC,L]
RewriteRule ^.*$ index.php [NC,L] 
```

然后你可以使用标题来重定向你喜欢的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:05:39.360

使用正则表达式甚至更好地利用您的 Web 服务器 url 重写：使用框架提供的某种*路由。*路由是将请求映射到适当操作的 Web 应用程序 MVC 样式映射的标准方式。如果你不使用任何一种 MVC 框架，你应该考虑至少使用一个非常简单的框架。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T08:56:15.173

URL 重写将是一个更好的选择。

# android - 如何识别 ArrayAdapter 中的现有项目

> ID：12970632
> 
> 赞同：1
> 
> 时间：2012-10-19T08:51:28.737
> 
> 标签：android, bluetooth, android-listview, android-arrayadapter

我将设备列表添加到 ArrayAdapter 并在 ListView 中显示，其中设备列表是从蓝牙扫描中获取的，扫描的设备首先添加到 arrayadapter。然后稍后我将其添加到列表视图中，以向用户显示扫描的蓝牙设备列表。

但是当我正在扫描设备时，正在添加重复的设备，假设扫描了一个设备，`A`则意味着再次扫描其显示设备的两到三倍`A`。我只想显示一次扫描设备的列表。如何实现它。抱歉，如果问题含糊不清。

以下代码用于查询新设备并将其添加到 arrayadapter：

```
if (BluetoothDevice.ACTION_FOUND.equals(action))
        {
            // Get the BluetoothDevice object from the Intent
            BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
            // If it's already paired, skip it, because it's been listed already
            if (device.getBondState() != BluetoothDevice.BOND_BONDED)
            {
                mNewDevicesArrayAdapter.add(device.getName() + "\n" + device.getAddress());
            }
        // When discovery is finished, change the Activity title
        } else if (BluetoothAdapter.ACTION_DISCOVERY_FINISHED.equals(action)) {
            setProgressBarIndeterminateVisibility(false);
            setTitle(R.string.select_device);
            if (mNewDevicesArrayAdapter.getCount() == 0) {
                String noDevices = getResources().getText(R.string.none_found).toString();
                mNewDevicesArrayAdapter.add(noDevices);
            }
        } 
```

它是 4.1 版 Android 示例中的一个程序，示例名称为`Bluetooth Chat`. 活动在哪里`DeviceListActivityScan.java`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:54:50.520

我在我的两部手机上运行这个演示，只有一部会扫描多次。所以我想这与设备有关。

你可以这样做来避免它：

```
 if (device.getBondState() != BluetoothDevice.BOND_BONDED) {
                String deviceInfo = device.getName() + "\n" + device.getAddress();
                if(mNewDevicesArrayAdapter.getPosition(deviceInfo) < 0) {
                    mNewDevicesArrayAdapter.add(deviceInfo);
                }
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-11-12T09:25:44.327

这是我存储的一个类，用于显示蓝牙设备及其信号强度。

由于 RSSI 值更新频繁，它会检查蓝牙设备是否已在`addDevice`方法中的列表中存在 - 并且仅在这种情况下更新 RSSI 值：

```
public class DeviceListAdapter extends ArrayAdapter<String> {
    private static class ViewHolder {
        ImageView signalImage;
        TextView deviceName;
        TextView deviceAddress;
    }

    private LayoutInflater mInflator;
    // for each BLE device address store the RSSI value and name
    private Map<String, Integer> mRssi = new HashMap<String, Integer>();
    private Map<String, String> mName = new HashMap<String, String>();

    public DeviceListAdapter(Context context) {
        super(context, R.layout.rowlayout);
        mInflator = (LayoutInflater)context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }

    public void addDevice(String address, String name, int rssi) {
        if (mRssi.put(address, rssi) == null) {
            // add a new BLE device to the List
            add(address);
            mName.put(address, name);
        } else {
            // just refresh the List after updating RSSI value
            notifyDataSetChanged();
        }
    }

    // return bitmap resource id for a signal strength
    private int rssi2res(int rssi) {
        if (rssi < -100)
            return R.drawable.signal1;

        if (rssi < -75)
            return R.drawable.signal2;

        if (rssi < -50)
            return R.drawable.signal3;

        return R.drawable.signal4;
    }

    @Override
    public View getView(int i, View view, ViewGroup viewGroup) {
        ViewHolder viewHolder;
        // General ListView optimization code.
        if (view == null) {
            view = mInflator.inflate(R.layout.rowlayout, viewGroup, false);
            viewHolder = new ViewHolder();
            viewHolder.signalImage = (ImageView) view.findViewById(R.id.signalImage);
            viewHolder.deviceAddress = (TextView) view.findViewById(R.id.deviceAddress);
            viewHolder.deviceName = (TextView) view.findViewById(R.id.deviceName);
            view.setTag(viewHolder);
        } else {
            viewHolder = (ViewHolder) view.getTag();
        }

        String address = getItem(i);

        int rssi = mRssi.get(address);
        viewHolder.signalImage.setImageResource(rssi2res(rssi));

        String name = mName.get(address);
        viewHolder.deviceName.setText(name);

        viewHolder.deviceAddress.setText(address);
        return view;
    }
} 
```

# javascript - 单击更改表格行的颜色

> ID：12970634
> 
> 赞同：3
> 
> 时间：2012-10-19T08:51:43.350
> 
> 标签：javascript, jquery, css, html

我创建了一个表格，其中的行具有交替的颜色（比如黄色和红色）。现在，我想将单击行的颜色更改为一种常见颜色（例如蓝色）。再次单击时恢复为原始颜色。我可以使用此代码更改颜色

```
$("#mainTable").find('#'+IDClicked).css("background-color", "#bbbbff"); 
```

我无法弄清楚如何恢复。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-19T08:54:10.603

我们**假设**您的代码是这样的：

### HTML

```
<table id="rowClick">
    <tr>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
    </tr>
    <tr>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
    </tr>
    <tr>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
        <td>Cell</td>
    </tr>
</table> 
```

### 在这种情况下，您可以这样使用 jQuery：

```
$(document).ready(function(){
    $("#rowClick > tr").click(function(){
        $(this).toggleClass("active");
    });
}); 
```

### 最后是 CSS 部分：

```
table tr.active {background: #ccc;} 
```

### 小提琴：http: [//jsbin.com/icusec/2](http://jsbin.com/icusec/2)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T08:57:12.320

试试下面的代码

**CSS**

```
.high-light{background:blue !important;} 
```

**jQuery**

```
$(document).ready(function(){

 $('table tr').click(function(){ $(this).addClass("high-light");  });
 //If you have TD's background set try the below commented code
  $('table tr td').click(function(){ $(this).parent().find('td').addClass("high-light");  });
}); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-19T09:04:08.643

**准确回答您的问题：**

```
$('#box').on('click', function() {
    var box$ = $(this),
        isBgColorChanged = box$.data('isBgColorChanged'),
        bgColor = !!isBgColorChanged ? '#444' : '#ccc';
    box$.css('background-color', bgColor)
        .data('isBgColorChanged', !isBgColorChanged);
});​ 
```

[小提琴](http://jsfiddle.net/f0t0n/4UD7x/)

**更优雅的解决方案：**

```
$('#box').on('click', function() {
    $(this).toggleClass('activated');
});​ 
```

[小提琴](http://jsfiddle.net/f0t0n/myJbH/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-10-19T08:55:58.650

试试这个**[演示](http://jsfiddle.net/pintu31/ufPcs/2/)**：

```
$('table tr').toggle(function(){
$(this).addClass('myclass');
}, function(){
$(this).removeClass('myclass');
});​ 
```

**css**

```
.myclass{
background: red;
}

table tr{
 background: yellow;
} 
```

# java - 如何将 java.util.Date 转换为时间戳中的当前时间..？

> ID：12970638
> 
> 赞同：6
> 
> 时间：2012-10-19T08:51:58.503
> 
> 标签：java, sql

我正在用java制作一个程序。我正在使用以下代码

```
u.setLastlogin(new java.util.Date()); 
```

上面的函数接受参数，`java.util.Date`但我想将此值存储在列类型为的数据库表中`timestamp`？

任何人都可以帮助如何编码，以便我可以在表中插入系统的当前时间戳。谢谢。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-19T09:02:05.407

您可以转换`Date`为`Timestamp`如下：

```
Timestamp timestamp = new Timestamp(date.getTime()); 
```

如果你想要当前日期的时间戳：

```
new Timestamp(System.currentTimeMillis()) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:54:46.960

```
Date now = new Date();
now.getTime(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T08:54:59.497

您也可以只发出一条 SQL 语句：

```
UPDATE MY_TABLE SET LAST_LOGIN = NOW(); 
```

这是针对 MySQL 的。您还应该会发现这很有帮助：[MySQL 日期和时间函数](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html)

**编辑** 按照 Rambo 的要求，将列的默认值设置为实际时间戳（根据[MySQL：ALTER TABLE 语法](http://dev.mysql.com/doc/refman/5.1/en/alter-table.html)和[MySQL 数据类型默认值](http://dev.mysql.com/doc/refman/5.0/en/data-type-defaults.html)）：

```
ALTER TABLE MY_TABLE ALTER MY_TIMESTAMP COLUMN SET DEFAULT CURRENT_TIMESTAMP; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T09:00:24.493

使用 JPA：

使用以下命令注释 lastLogin：`@Temporal(TemporalType.TIMESTAMP)`

使用 JDBC：

[PreparedStatement#setTimestamp](http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp,%20java.util.Calendar%29)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-19T09:03:16.030

用这个来`java.sql.Timestamp timestamp = new java.sql.Timestamp(new Date().getTime());`

```
u.setLastlogin(timestamp); 
```

# c# - Html.HiddenFor 绑定到错误的元素

> ID：12970641
> 
> 赞同：6
> 
> 时间：2012-10-19T08:52:04.117
> 
> 标签：c#, asp.net-mvc-3, binding

我有一个显示项目列表的 ASP.NET MVC 应用程序。在我的视图页面中，我遍历项目并使用部分视图呈现每个项目，如下所示：

```
@foreach(var item in Model.items)
{
   <li>
       @Html.Partial("ItemView", item)
   </li>
} 
```

在项目视图中，我用一个带有“删除”按钮的表单包装每个项目，如下所示：

```
@using(Html.BeginForm(...))
{
    @Html.HiddenFor(m=>m.Id)
    <label>@Model.Name (@Model.Id)</label>
    <input type="submit" value="Delete"/>
} 
```

这些项目被正确呈现，结果页面有一个很好的列表，其中包含所有项目的正确名称和显示的 ID。

编辑：@Hidden 也会发生同样的情况，显然，这与我之前写的相反。

此外，这只发生在第二次呈现表单时（即单击一个删除按钮后），第一次一切正常。我的操作方法如下所示：

```
public ActionResult AllItems()
{
    var model = new AllItemsModel();
    return PartialView(model);
}

public ActionResult Delete(DeleteModel model)
{
    .... Perform the delete ...
    return PartialView("AllItems", new AllItemsModel());
} 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-19T09:04:07.177

~~我怀疑发生这种情况是因为您`Id`的 RouteData 中已经有一个参数：~~

 ~~```
public ActionResult SomeAction(int id)
{
    var model = ...
    return View(model);
} 
```~~ 

并且您已请求带有 的页面`/somecontroller/someaction/123`。HiddenFor 助手现在使用路由值中的 Id 而不是项目的 id。尝试将您的项目视图模型上的属性重命名为不同于 id 的名称。例如`ItemId`.

~~另一种可能性是问题仅在回发之后出现，而不是在页面最初呈现时出现。显示您的 POST 操作可能有助于进一步探索这种可能性。~~

* * *

更新：

好吧，既然你已经展示了你的 POST 动作，事情就更清楚了：

```
public ActionResult Delete(DeleteModel model)
{
    .... Perform the delete ...
    return PartialView("AllItems", new AllItemsModel());
} 
```

您基本上是在这里创建一个新的视图模型并将其传递给局部视图。但是 HTML 助手在绑定时总是使用来自 ModelState 的值。只有在那之后，你的视图模型的价值。因此，如果您打算在 POST 操作中修改模型的属性，请确保首先从 ModelState 中删除了此值。在您的示例中，由于您已经完全划伤了整个视图模型（通过创建一个`new AllItemsModel()`），您可以清除整个 ModelState：

```
public ActionResult Delete(DeleteModel model)
{
    .... Perform the delete ...

    // Clear the modelstate otherwise the view will use the values that were initially posted
    // and not the values from your view model
    ModelState.Clear();
    return PartialView("AllItems", new AllItemsModel());
} 
```

此行为是设计使然，适用于所有 HTML 帮助程序，而不仅仅是 HiddenFor 帮助程序。

# c# - 当不跟随特定字符（？）时，如何使用正则表达式匹配字符（'）？

> ID：12970643
> 
> 赞同：3
> 
> 时间：2012-10-19T08:52:17.880
> 
> 标签：c#, regex, edi, edifact

只要字符串前面没有问号，我如何编写正则表达式模式以按特定分隔符拆分字符串？

我编写了一个解析器，它将 EDIFACT 消息拆分为段、组合和元素。但在 EDI 标准中，问号是转义字符。所以要拆分这个字符串：

```
'PRI+2.005:1+9022.5'RAD+RRHANB97+120814' 
```

我可以使用 string.Split('\'')，然后使用 string.split('+')，然后使用 string.split(':') 来获取 PRI、2.005、1、9022.5 等但是，这些字符可以被问号转义：

```
'PRI+2.005?+3.2:1+9022.5'RAD?'R+RRHANB97+120814' 
```

现在应该是 PRI, 2.005+3.2, 1, 9022.5, RAD'R, RRHANB97。

有人可以帮助匹配'而不是？'的正则表达式吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T08:55:45.560

负面[回顾](http://msdn.microsoft.com/en-us/library/az24scfc.aspx#grouping_constructs)：

```
(?<!\?)' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-03T09:46:23.493

只需使用**\'**而不是尝试执行**regex.Matches**，而是执行**regex.Split**

# asp.net - asp.net Editable GridView - 设置标题文本颜色

> ID：12970646
> 
> 赞同：0
> 
> 时间：2012-10-19T08:52:26.027
> 
> 标签：asp.net, css, gridview, header

在 asp.net 可编辑的 gridview 中，我的标题文本为“FieldName *”。因为我允许用户输入数据并且数据是强制性的。

我可以在标题中将 FieldName 设置为蓝色，将 * 设置为红色吗？如果是的话..怎么样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:02:30.937

您可以将 HTML 代码插入`HeaderText`到`FieldName`.

像这样

`HeaderText="<font color="blue">FieldName </font><font color="red">*</font>"`

该页面将解释 HTML 代码并按照您的需要显示它。但是您可能必须`HtmlEncode`为您设置属性`BoundField`以强制页面解释 HTML 代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:01:22.810

你可以用这段代码做点什么。

```
 Protected Sub gvName_RowCreated(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewRowEventArgs) Handles gvIndexing.RowCreated
    If e.Row.RowType = DataControlRowType.Header Then
        Dim oGridView As GridView = CType(sender, GridView)
        Dim oGridViewRow As GridViewRow = New GridViewRow(0, 0, DataControlRowType.Header, DataControlRowState.Insert)
        Dim oTableCell As TableCell = New TableCell()

        oTableCell.Text = "Header Value"
        oTableCell.CssClass = "GridViewHeaderCSSClass"
        oTableCell.ColumnSpan = 2
        oGridViewRow.Cells.Add(oTableCell)
        oGridView.Controls(0).Controls.AddAt(0, oGridViewRow)
    Else
        Dim oGridView As GridView = CType(sender, GridView)
        oGridView.ShowHeader = False
    End If
End Sub 
```

# nsis - 如何使用 Nsis 脚本修改 Bat 文件中的文本值

> ID：12970659
> 
> 赞同：1
> 
> 时间：2012-10-19T08:53:28.690
> 
> 标签：nsis

我已经成功构建了 Nsis 脚本。我的项目中有 bat 文件。在 bat 文件中，我有两个具有默认值的变量，如下所示

```
 JVM_DLL=c:\program Files\java\jre\bin\client\jvm.dll

 Home_path=c:\opt\projectName 
```

如果用户想修改应该写入批处理文件的JVM_DLL和Home_path的值。如何做到这一点？我不知道如何使用 Nsis 脚本写入批处理文件？

我试过以下代码。但它不起作用

```
 StrCpy $JVM_DLL "jre\bin\client\jvm.dll"
 ${ConfigWrite} "$INSTDIR\resource\batch.bat" "JVM_DLL" "=$JVM_DLL" $R0
 ${ConfigWrite} "$INSTDIR\resource\batch.bat" "HOME_PATH" "=$INSTDIR" $R0 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:29:39.993

如果您在`.bat`也正在启动的文件中定义了 2 个值`makensis.exe`，请使用`/D`命令行开关为 nsis 脚本定义这些值。

在您的示例中，给定您的 2 个 .bat 变量：

```
makensis.exe /DJVM_DLL=%JVM_DLL% /DHome_path=%Home_path% yourscript.nsi 
```

# search - 如何在 SOLR 中按日期排序？

> ID：12970666
> 
> 赞同：18
> 
> 时间：2012-10-19T08:53:43.947
> 
> 标签：search, solr

我想对 SOLR 搜索返回的结果和分数进行排序，如何根据日期获得分数，如下所示：

```
Suppose for keywords "football"
  12-10-2012 - 3.2
  13-10-2012 - 1.5 
```

我提交的 solr 日期如下所示：

```
 <field name="published_date" datetimeformat="dd-MM-yyyy"  type="date" indexed="true" stored="true"/> 
```

我检查了这个[文档](http://wiki.apache.org/solr/CommonQueryParameters)，但找不到。

谢谢。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-10-19T09:00:38.767

您可以在 URL中传递[排序参数](https://lucene.apache.org/solr/guide/6_6/common-query-parameters.html#CommonQueryParameters-ThesortParameter)

例如`sort=published_date desc`，对于按发布日期降序排列的文档。

如果要按分数和日期排序，可以使用`sort=score desc, published_date desc`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T08:59:05.630

取自[维基](http://wiki.apache.org/solr/SolrQuerySyntax)

```
Although not technically a Syntax difference, please note that if you use 
the Solr "DateField" type, any queries on those fields (typically range queries) 
should use either the Complete ISO 8601 Date syntax that field supports, 
or the DateMath Syntax to get
relative dates. Examples:

timestamp:[* TO NOW]

createdate:[1976-03-06T23:59:59.999Z TO *]

createdate:[1995-12-31T23:59:59.999Z TO 2007-03-06T00:00:00Z]

pubdate:[NOW-1YEAR/DAY TO NOW/DAY+1DAY]

createdate:[1976-03-06T23:59:59.999Z TO 1976-03-06T23:59:59.999Z+1YEAR]

createdate:[1976-03-06T23:59:59.999Z/YEAR TO 1976-03-06T23:59:59.999Z] 

NOTE:TO must be uppercase, or Solr will report a 'Range Goop' error. 
```

把它和[这个](http://wiki.apache.org/solr/SolrRelevancyFAQ#How_can_I_change_the_score_of_a_document_based_on_the_.2Avalue.2A_of_a_field_.28say.2C_.22popularity.22.29)结合起来，工作就完成了:)这很容易，它只需要在开始时进行一些尝试

稍作修改：此方法允许您根据日期范围检索值并根据它们的值对它们应用分数提升。显然你在询问如何根据基本分数和日期检索排序，所以我的答案不是 100% 正确的

# oracle11g - Oracle SQL- 使用 2 个连接更新

> ID：12970669
> 
> 赞同：1
> 
> 时间：2012-10-19T08:54:02.540
> 
> 标签：oracle11g

我刚加入这个论坛，关注这个论坛已经有一段时间了，感觉确实不错。我有问题，希望有人可以指导我。

我当前的代码。

```
select *
  from T1 join T2 on T1C1 = T2C1 join T3 m on m.C3 = T2C3 join T3 n on n.C3 = T1C3 
 where m.C4 = 'EXHAUST'
   and T1C5 in ('NH', 'CA', 'FL') 
```

我必须更新`T1`，设置`T1C6 = 'CLEAR'`。

我尝试了各种选项，其中大多数都出错了。一个有效，但是我更新的记录是 select 语句的四倍。这是我尝试过的。

```
update T1, set T1C6 = 'CLEAR' where exists (
    select *
      from T1 join T2 on T1C1 = T2C2 join T3 m on m.C3 = T2C3 join T3 n on n.C3 = T1C3
     where m.C4 = 'EXHAUST' and T1C5 in ('NH', 'CA', 'FL')
) 
```

谢谢大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:48:16.453

您的更新查询的问题在于，更新 T1 与语句中的存在子句没有关联，因此您的整个 T1 表记录都会更新，与内部条件无关。如果存在子句中的任何记录满足，然后它会更新。因此，外部 T1 与内部子查询（存在）之间必须存在某种关系。请在脚本下面找到。我不知道你想实现什么，但这就是它应该的样子。请对此进行测试。

```
UPDATE T1  set T1.C6 = 'CLEAR' where exists (
    select 1
      from T2 ,T3 m,T3 n 
     where T1.C1 = T2.C2
     AND   m.C3  = T2.C3
     AND   n.C3  = T1.C3
     AND   m.C4 = 'EXHAUST' 
     AND   T1.C5 IN  ('NH', 'CA', 'FL')
) 
```

**编辑**这是一个奇怪的、非优化的解决方案，上面这个解决方案仅供您理解。

```
UPDATE T1  set T1.C6 = 'CLEAR' where T1.rowid IN (
select T1.rowid rd
  from T1,T2 ,T3 m,T3 n 
 where T1.C1 = T2.C2
 AND   m.C3  = T2.C3
 AND   n.C3  = T1.C3
 AND   m.C4 = 'EXHAUST' 
 AND   T1.C5 IN  ('NH', 'CA', 'FL')) 
```

# ios - 无法在 iOS 6 上启动调试 IPA，它在 iOS 5 上完美运行

> ID：12970671
> 
> 赞同：0
> 
> 时间：2012-10-19T08:54:08.637
> 
> 标签：ios, ios5, ios6, crash, ipa

在控制台上，我收到以下消息：

> backboardd[51] : BKSendGSEvent ERROR 发送事件类型 23: (ipc/send) 超时 (0x10000004)

然后它崩溃了。崩溃报告是：

```
Hardware Model:      iPad2,1
Process:         abc [3243]
Path:            /var/mobile/Applications/...
Identifier:      abc
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2012-10-...
OS Version:      iOS 6.0 (10A403)
Report Version:  104

Exception Type:  00000020
Exception Codes: 0x000000008badf00d
Highlighted Thread:  0

Application Specific Information:
com.abc failed to launch in time

Elapsed total CPU time (seconds): 20.910 (user 20.910, system 0.000), 52% CPU 
Elapsed application CPU time (seconds): 19.898, 50% CPU 
```

发布版本在 iOS 5 和 6 上都可以正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T08:58:53.003

最可能的原因是您的应用程序初始设置需要很长时间才能完成。尝试修改您的**应用程序：didFinishLaunching**方法以减少任务。

新的 iOS6 有一个内置计时器，如果启动时间过长，它会关闭应用程序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:26:45.680

只需尝试将您的`application:didFinishLaunchingWithOptions:`方法代码划分为不同的函数调用，并使用除 main 以外的线程在后台进行这些调用，并确保该`application:didFinishLaunchingWithOptions:`方法尽快返回

您可以使用

```
dispatch_async(dispatch_get_main_queue(), ^{
//put your code
 } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:58:34.353

您的应用程序需要很长时间才能启动，然后被 iOS 杀死。

检查是否`- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`尽快返回。

可能有一些东西在`didFinishLaunchingWithOptions:`iOS 6 上的工作方式不同，并且需要更多时间。一个好主意是调度该任务。

# directory - 是否可以将 jsfiddle 代码排列到单独的文件夹中

> ID：12970677
> 
> 赞同：0
> 
> 时间：2012-10-19T08:54:30.263
> 
> 标签：directory, jsfiddle

我在 jsfiddle.net 上创建了很多代码片段。我在 jsfiddle 的仪表板页面中看到了所有这些，只是在寻找一种方法来在那里创建一些文件夹并将我的代码安排到不同且更有意义的文件夹中。

网址是 - [www.jsfiddle.net](http://www.jsfiddle.net)

谢谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T18:43:27.137

暂时没有——真的很抱歉。

# symfony - Symfony2.1表单日期字段：传递给...的参数1必须是DateTime的实例

> ID：12970681
> 
> 赞同：2
> 
> 时间：2012-10-19T08:54:46.830
> 
> 标签：symfony, symfony-forms, symfony-2.1

我的实体：

```
/**
 * @var \DateTime $publishedAt
 *
 * @ORM\Column(name="published_at", type="date")
 * 
 * @Assert\Date()
 */
private $publishedAt;

/**
 * Set publishedAt
 *
 * @param \DateTime $publishedAt
 * @return MagazineIssue
 */
public function setPublishedAt(\DateTime $publishedAt)
{
    $this->publishedAt = $publishedAt;

    return $this;
}

/**
 * Get published_at
 *
 * @return \DateTime 
 */
public function getPublishedAt()
{
    return $this->publishedAt;
} 
```

我的表单生成器：

```
$builder->add('publishedAt'); 
```

我的观点：

```
{{ form_widget(form) }} 
```

当我在选择中选择日期并提交表单时，我发现了错误：

```
Catchable Fatal Error: Argument 1 passed to ... must be an instance of DateTime, 
string given, called in .../vendor/symfony/symfony/src/Symfony/Component/Form
/Util/PropertyPath.php on line 537 and defined in ... line 214 
```

为什么会发生？如果我将字段设置器替换为`public function setPublishedAt($publishedAt)`我收到错误：

```
Fatal error: Call to a member function format() on a non-object 
in .../vendor/doctrine/dbal/lib/Doctrine/DBAL/Types/DateType.php on line 44 
```

如果我将表单生成器更改为

```
 $builder->add('publishedAt','date') 
```

一切正常。为什么会发生？为什么 symfony 无法猜测它并将正确的日期格式（\DateTime 而不是字符串）传递给字段设置器？

**编辑：**如果我删除`@Assert\Date()`然后一切正常。我认为这是猜测日期字段类型的 sf2.1 错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:09:16.267

**我曾经像Max**写的那样处理这个问题，但后来我发现了**[Data transformers](http://symfony.com/doc/current/cookbook/form/data_transformers.html)**。这是一种非常有效的方式，并不意味着要修改模型（或者它是 getter/setter 方法）......

**编辑：**查看标题“在自定义字段类型中使用变形金刚”。他们在那里写`DateTime`...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-20T13:39:27.510

要解决此问题，您可以

1.将断言从`@Assert\Date()`更改为`@Assert\Type('\DateTime')`

或者

2.将表单生成器更改为`$builder->add('publishedAt','date')`

或者

`input`3.在表单生成器中指定选项：`$builder->add('publishedAt',null,array('input' => 'datetime'))`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:02:47.230

Doctrine 想要调用 \DateTime::format()。从一个字符串。

您可以检查 setter 方法中的参数：

```
public function setPublishedAt($publishedAt)
{
    if($publishedAt instanceof \DateTime) {
        $this->publishedAt = $publishedAt;
    } else {
        $date = new \DateTime($publishedAt);
        $this->publishedAt = $date;
    }
} 
```

# performance - Quicksort递归深度O（n）的堆栈空间不会导致stackoverflow？

> ID：12970688
> 
> 赞同：2
> 
> 时间：2012-10-19T08:55:02.653
> 
> 标签：performance, algorithm, sorting, data-structures, quicksort

在最坏的情况下，快速排序递归深度需要 O(n) 的堆栈空间。为什么在最坏的情况下它不会导致大型集合的堆栈溢出？（倒序）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-19T09:12:43.493

如果您在枢轴的两侧进行递归，那么在最坏的情况下，对于足够大的数据，它确实会导致堆栈溢出。这就是为什么没有人在生产代码中使用天真的 QuickSort。

您可以对算法进行一个简单的更改，以防止`Omega(n)`最坏情况下的堆栈使用。在每个分区之后，递归地对“小半部分”进行快速排序，然后迭代循环以完成“大半部分”。这需要`O(log n)`额外的堆栈空间。如果你愿意，你可以通过再次修改它使其成为`O(1)`堆栈空间和`O(log n)`额外的非堆栈空间。将“大半部分”推到预先分配的数组（或您选择的其他后进先出数据结构）的末尾，循环执行“小半部分”，当您击中底部时弹出最后一个元素关闭数据结构来做下一步。

您可以进行进一步的更改以避免`Omega(n^2)`最坏情况下的运行时间。但它不再是一个简单的快速排序，它是一个带有中位数的中位数枢轴选择的快速排序，或者一个 Introsort，或者其他什么。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:11:49.983

> 那么为什么在最坏的情况下它不会导致大量有序数据的堆栈溢出

确实如此。为什么你会认为它没有？

（但请注意，快速排序的最坏情况输入取决于您选择的枢轴。它通常不是反向序列 - 事实上，对于枢轴的天真选择，另一个最坏情况输入是已经排序的序列，它没有要反转。）

但是现在排序算法的库实现实际上很少是快速排序，正是因为这个原因。例如，C++[`std::sort`](http://en.cppreference.com/w/cpp/algorithm/sort)使用[introsort](http://en.wikipedia.org/wiki/Introsort)代替，这是一种修改过的快速排序，一旦递归太深，就会切换到不同的排序算法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T08:57:25.017

在顺序相反的情况下（最坏的情况），它可能会导致堆栈溢出。因为数组对于内部函数堆栈来说可能太大了。（例如 99,000,000 个元素）您可以将递归替换为`stack`数据结构。你会循环`while (stck.empty() == false)`

```
function quicksort(arr[0,1,...n-1])
     stack.push(pair(0, n - 1))
     while stack not empty
          interval = stack.pop()
          ...
          ...
          stack.push(interval(0, pivot - 1))
          stack.push(interval(pivot + 1, n - 1)) 
```

# javascript - 如何确定一个元素来自 DOM？

> ID：12970690
> 
> 赞同：0
> 
> 时间：2012-10-19T08:55:14.710
> 
> 标签：javascript, dom

> **可能重复：**
> [Javascript isDOM — 如何检查 Javascript 对象是否为 DOM 对象？](https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object)

在我的代码中，我有一个带有 DOM 元素的对象。

*为了保持示例清晰，下面的代码已更改为最低限度。*

```
var Test = function(element){
  //if element does not come from the DOM -> throw
}; 
```

如何确定该元素来自 DOM 树？

```
if(element.parentNode === null) {
  throw "not coming from the DOM";
} 
```

这段代码足以说明元素来自 DOM 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:01:43.193

你可以用 jQuery 来做到这一点，jQuery 对象 $("#myid") 总是返回一些东西——一个 jQuery 对象。要检查它是否真的代表页面上现有的 DOM 元素，可以使用以下命令：

```
if ( $("#myid").length > 0 ) {
//do something
} 
```

或者基于此[答案](https://stackoverflow.com/questions/5629684/javascript-check-if-element-exists-in-the-dom)，您可以像这样检查它：

```
var elementInDocument = function(element) {
    while (element = element.parentNode) {
        if (element == document) {
            return true;
        }
    }
    return false;
} 
```

或像这样：

```
var element =  document.getElementById('elementId');
if (typeof(element) != 'undefined' && element != null)
{
  // exists.
} 
```

# web - Milton.io 身份验证

> ID：12970696
> 
> 赞同：2
> 
> 时间：2012-10-19T08:55:32.480
> 
> 标签：web, webdav, milton

我写了一个小的 grails webapp。我正在使用 milton.io 通过 webdav 访问一些内容。所以 webdav 仍在工作，我可以放置、获取、删除文件 - 等等。但现在我想添加身份验证和授权。这就是问题所在：

资源接口给了我两种方法：

```
Object authenticate(String user, String password);
boolean authorise(Request request, Request.Method method, Auth auth); 
```

所以我的资源类实现了资源接口，但是框架从不调用方法验证。我必须自己实现 Auth Basic 吗？

我对弥尔顿的了解很差。可能是我忘记了什么，因为我的 webdav 客户端（例如，尸体）从不要求输入用户名/密码。

感谢您的帮助彼得韦弗

我的资源类的签名：

```
class SResource implements GetableResource, PropFindableResource, Resource, DeletableResource, MoveableResource,  ReportableResource, CopyableResource 

class SFileResource extends SResource implements ReplaceableResource

class SFolderResource extends SResource implements PutableResource, MakeCollectionableResource, CollectionResource 
```

这是获取 HttpManager 的构建器

```
class SMiltonConfig implements MiltonConfigurator {

protected HttpManagerBuilder builder;
protected List<Initable> initables;
protected HttpManager httpManager;

public SMiltonConfig(){
    try {
        // Attempt to use Enterprise edition build if available
        Class builderClass = Class.forName("io.milton.ent.config.HttpManagerBuilderEnt");
        builder = (HttpManagerBuilder) builderClass.newInstance();
        println ("load Ent. HTTP Manager")
    } catch (InstantiationException ex) {
        builder = new HttpManagerBuilder();
        println ("load Std. HTTP Manager")
    } catch (IllegalAccessException ex) {
        println ("load Std. HTTP Manager")
        builder = new HttpManagerBuilder();
    } catch (ClassNotFoundException ex) {
        println ("load Std. HTTP Manager")
        builder = new HttpManagerBuilder();
    }
}

@Override
public HttpManager configure(Config arg0) throws ServletException {
    ResourceFactory rf = new SResourceFactory();
    builder.setMainResourceFactory(rf);
    checkAddInitable(initables, builder.getMainResourceFactory());
    httpManager = builder.buildHttpManager();
    for( Initable i : initables ) {
        i.init(config, httpManager);
    }
    return httpManager;
}

@Override
public void shutdown() {
    httpManager.shutdown()
    for( Initable i : initables ) {
        i.destroy(httpManager);
    }        
}

private void checkAddInitable(List<Initable> initables, Object o) {
    if( o instanceof Initable) {
        initables.add((Initable)o);
    } else if( o instanceof List ) {
        for( Object o2 : (List)o) {
            checkAddInitable(initables, o2);
        }
    }
}
} 
```

这里是 ResourceFactory

```
class SResourceFactory implements ResourceFactory {

def fileSystemService

public SResourceFactory(){
    println "loading resource Factory"
    def ctx = ServletContextHolder.servletContext.getAttribute(GrailsApplicationAttributes.APPLICATION_CONTEXT)
    fileSystemService = ctx.fileSystemService
}

@Override
public Resource getResource(String host, String strPath)
throws NotAuthorizedException, BadRequestException {
    SResource sfr
    sfr = fileSystemService.getFolderByPath(strPath)
    return sfr
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T10:49:55.573

如果您需要基本身份验证 - 您必须启用它。因此，将以下行添加到 SMiltonConfig 类的 config 方法中。

```
builder.setEnableOptionsAuth(true); // enables auth
builder.setEnableBasicAuth(true);   // optional 
```

这是资源授权方法的示例

```
 @Override
    public boolean authorise(Request r, Method m, Auth a) {
       return a != null;
    } 
```

希望能帮助到你

弗洛里安·普凡

# groovy - groovy 循环不会停止

> ID：12970706
> 
> 赞同：1
> 
> 时间：2012-10-19T08:56:04.640
> 
> 标签：groovy, soapui

这是拆解脚本的一部分，但它给我带来了一些麻烦。

```
while ( n-- > 0 ) {
    testRunner.testCase.setPropertyValue( "ExpectedNo" + n, "")
} 
```

n 以值 5 开始，并按照预期将 ExpectedNo0 到 ExpectedNo4 重置为空白，但之后它又设置了 46 个属性条目，如下所示 ExpectedNo/ExpectedNo。预期没有，....

我不知道该怎么做，因为我不是很精通 groovy .. 任何帮助都会得到帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T12:53:37.073

要了解问题的根源，请查看 ASCII 表（[链接到一个](http://www.asciitable.com/)）。您会看到在字符 '0'-'5' 之前（以相反的顺序）有 '/'、'.'、'-' 等。Groovy 将您的字符解释`n`为字符而不是整数变量。您所需要的只是`n`从字符串转换为整数。请参阅下一个 SO 问题如何执行此操作：[Groovy String to int](https://stackoverflow.com/questions/1713481/groovy-string-to-int)。

# android - 带有播放声音的android ViewFlipper

> ID：12970707
> 
> 赞同：2
> 
> 时间：2012-10-19T08:56:09.853
> 
> 标签：android, viewflipper

您好，我正在创建 ViewFlipper，如下所示。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@android:color/white"
android:orientation="vertical" >

<ViewFlipper
    android:id="@+id/vfShow"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
</ViewFlipper>

</LinearLayout> 
```

并处理诸如

**ViewFlipperSampleActivity.java**

```
public class ViewFlipperSampleActivity extends Activity {

private static final int SWIPE_MIN_DISTANCE = 120;
private static final int SWIPE_THRESHOLD_VELOCITY = 200;

private ViewFlipper vf;
private Context mContext;
private final GestureDetector detector = new GestureDetector(
        new MyGestureDetector());

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.fliper);
    mContext = this;
    vf = (ViewFlipper) this.findViewById(R.id.vfShow);
    vf.setOnTouchListener(new OnTouchListener() {
        @Override
        public boolean onTouch(final View view, final MotionEvent event) {
            detector.onTouchEvent(event);
            return true;
        }
    });

    vf.addView(addImageView(R.drawable.a));
    vf.addView(addImageView(R.drawable.b));
    vf.addView(addImageView(R.drawable.c));
    vf.addView(addImageView(R.drawable.d));

}

View addImageView(int resId) {
    ImageView iv = new ImageView(this);
    iv.setImageResource(resId);

    return iv;
}

class MyGestureDetector extends SimpleOnGestureListener {
    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
            float velocityY) {
        try {

            // right to left swipe
            if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                vf.setInAnimation(AnimationUtils.loadAnimation(mContext,
                        R.anim.left_in));
                vf.setOutAnimation(AnimationUtils.loadAnimation(mContext,
                        R.anim.left_out));
                vf.showNext();
                return true;
            } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                vf.setInAnimation(AnimationUtils.loadAnimation(mContext,
                        R.anim.right_in));
                vf.setOutAnimation(AnimationUtils.loadAnimation(mContext,
                        R.anim.right_out));
                vf.showPrevious();
                return true;
            }

        } catch (Exception e) {
            e.printStackTrace();
        }

        return false;
    }
} 
```

}

现在我很困惑如何用 viewflipper 在特定图像上播放声音？请帮助我解决这个问题。

谢谢

**更新 ：-**

```
public class SoundClass {
static MediaPlayer theme1 = null, theme2 = null, theme3 = null,
        theme4 = null, theme5 = null, theme6 = null;
static MediaPlayer[] mPlayers = { theme1, theme2, theme3, theme4, theme5,
        theme6 };
static Integer[] resources = { R.raw.one, R.raw.two, R.raw.three,
        R.raw.four, R.raw.five, R.raw.six, R.raw.seven, R.raw.eight,
        R.raw.nine, R.raw.ten, R.raw.eleven, R.raw.twelve, R.raw.thirteen,
        R.raw.fourteen, R.raw.fifteen, R.raw.sixteen, R.raw.seventeen,
        R.raw.eighteen, R.raw.ninteen, R.raw.twenty };
static Context ctxt = null;

public SoundClass(Context context) {
    ctxt = context;
}

public static void createAndPlay(int id, Context context) {
    System.out.println(" --- in CreateAndPlay --->>> " + id);
    if (id >= 0 && id <= 20)
        stopAndRelease(id - 1);
    mPlayers[id] = MediaPlayer.create(context, resources[id]);
    if (mPlayers[id] != null && !mPlayers[id].isPlaying()) {
        mPlayers[id].start();
        mPlayers[id].setLooping(false);
    }
}

public static void stopAndRelease(int id) {
    if (id >= 0) {
        // System.out.println(" --- in StopAndRelease if condition --->>> "+id);
        if (mPlayers[id] != null && mPlayers[id].isPlaying()) {
            // System.out.println("in StopAndRelease 2nd if condition --->>> "+" mPlayers[id] -->> "+mPlayers[id]+" mPlayers[id].isPlaying() -> "+mPlayers[id].isPlaying());
            mPlayers[id].stop();
            mPlayers[id].reset();
            mPlayers[id].release();
            mPlayers[id] = null;
        }
    }
}

public static void mute(int id) {
    if (mPlayers[id] != null && mPlayers[id].isPlaying()) {
        mPlayers[id].pause();
    }
}

public static void unMute(int id) {
    if (mPlayers[id] != null && !mPlayers[id].isPlaying()) {
        mPlayers[id].start();
    }
} 
```

}

```
 @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
            float velocityY) {
        try {

            // right to left swipe
            if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                vf_letters.setInAnimation(AnimationUtils.loadAnimation(
                        mContext, R.anim.left_in));
                vf_letters.setOutAnimation(AnimationUtils.loadAnimation(
                        mContext, R.anim.left_out));

                if (count < 20) {
                    count += 1;
                    // if (isMute)
                    SoundClass.createAndPlay(count, LettersScreen.this);
                    vf_letters.showNext();
                } else {
                    SoundClass.stopAndRelease(count);
                    count = 0;
                    // if(isMute)
                    SoundClass.createAndPlay(count, LettersScreen.this);
                }
                return true;
            } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE
                    && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                vf_letters.setInAnimation(AnimationUtils.loadAnimation(
                        mContext, R.anim.right_in));
                vf_letters.setOutAnimation(AnimationUtils.loadAnimation(
                        mContext, R.anim.right_out));

                if (count > 0) {
                    SoundClass.stopAndRelease(count);

                    count -= 1;
                    // if (isMute)
                    SoundClass.createAndPlay(count, LettersScreen.this);
                    vf_letters.showPrevious();
                } else {
                    SoundClass.stopAndRelease(count);
                    count = 20;
                    // if(isMute)
                    SoundClass.createAndPlay(count, LettersScreen.this);
                    vf_letters.showPrevious();

                }

                return true;
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
        return false;

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:32:12.503

这可能并不完美，但提供了有关如何实施的想法

```
class MyGestureDetector extends SimpleOnGestureListener 
{
    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) 
    {
        try 
        {
            if(Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                return false;
            // right to left swipe
            if(e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) 
            {                   
                analogflipper.setInAnimation(slideLeftIn);
                analogflipper.setOutAnimation(slideLeftOut);                    

//                  System.out.println(" Flipping next... ");
                    if(count < 5)
                    {
                        count += 1;  
                        if(isMute)
                            SoundClass.CreateAndPlay(count, AnalogClockTime.this);      
                        analogflipper.showNext();
                    }
                    else
                    {
                        SoundClass.StopAndRelease(count);
                        count = 0;
                        if(isMute)
                            SoundClass.CreateAndPlay(count, AnalogClockTime.this);      
                        analogflipper.showNext();
                    }
                    /*else
                        count = 0;*/

                }  
                else if(e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) 
                {                       
                    analogflipper.setInAnimation(slideRightIn);
                    analogflipper.setOutAnimation(slideRightOut);                   

//                  System.out.println(" Flipping previous... ");
                    if(count > 0)
                    {
                        SoundClass.StopAndRelease(count);

                    count -= 1;
                    if(isMute)
                        SoundClass.CreateAndPlay(count, AnalogClockTime.this);
                    analogflipper.showPrevious();
                }
                else
                {
                    SoundClass.StopAndRelease(count);  
                    count = 5;
                    if(isMute)
                        SoundClass.CreateAndPlay(count, AnalogClockTime.this);
                    analogflipper.showPrevious();
                }
                /*else
                    count = 4;*/

                }
            } 
            catch (Exception e) 
            {
//                System.out.println("Exception...");
            }
            return false;
        }
    } 
```

此类处理所有声音创建、播放等任务

```
public class SoundClass 
{   

static MediaPlayer theme1 = null, theme2 = null, theme3 = null, theme4 = null, theme5 = null, theme6 = null;
    static MediaPlayer[] mPlayers = { theme1, theme2, theme3, theme4, theme5, theme6 };
    static Integer[] resources = {R.raw.theme1, R.raw.theme2, R.raw.theme3, R.raw.theme4, R.raw.theme5, R.raw.theme6};
    static Context ctxt = null;

public SoundClass(Context context) 
{
    ctxt = context;
}

public static void createAndPlay(int id, Context context)
{
System.out.println(" --- in CreateAndPlay --->>> "+id);
        if(id >= 0 && id <= 5)
            StopAndRelease(id - 1);
        mPlayers[id] = MediaPlayer.create(context, resources[id]);
        if(mPlayers[id] != null && !mPlayers[id].isPlaying())
        {
            mPlayers[id].start();
            mPlayers[id].setLooping(true);
        }
    }

public static void stopAndRelease(int id)
{
    if(id >= 0)
    {
//          System.out.println(" --- in StopAndRelease if condition --->>> "+id);
            if(mPlayers[id] != null && mPlayers[id].isPlaying())
            {
//              System.out.println("in StopAndRelease 2nd if condition --->>> "+" mPlayers[id] -->> "+mPlayers[id]+" mPlayers[id].isPlaying() -> "+mPlayers[id].isPlaying());
                mPlayers[id].stop();
                mPlayers[id].reset();
                mPlayers[id].release();
                mPlayers[id] = null;
            }
        }       
    }

public static void mute(int id)
{
    if(mPlayers[id] != null && mPlayers[id].isPlaying())
    {
        mPlayers[id].pause();
    }
}

public static void unMute(int id)
{
    if(mPlayers[id] != null && !mPlayers[id].isPlaying())
    {
        mPlayers[id].start();
    }
}
} 
```

# java - Selenium Webdriver (Java) 与 Firefox 扩展/插件连接/互操作

> ID：12970709
> 
> 赞同：1
> 
> 时间：2012-10-19T08:56:14.390
> 
> 标签：java, firefox, selenium, firefox-addon, selenium-webdriver

我正在寻找一种将 Selenium Webdriver 连接到 Firefox 扩展/插件的方法。我想从 selenium Webdriver 的 api 中的 firefox 扩展启动一个函数。这可能吗？我知道我可以调用页面内的 javascript 代码，但不能调用 firefox 扩展程序内的 javascript 代码。

如果 selenium webdriver 不可能，是否有另一种连接方式，也许是 java？

非常感谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:40:29.827

一种方法，你怎么能做到这一点，是：

*   [创建 Firefox 配置文件](http://kb.mozillazine.org/Creating_a_new_Firefox_profile_on_Windows)并以某种方式命名它，您知道它是什么。例如`SELENIUM`
*   将插件安装到此配置文件。通常，使该配置文件适合测试。
*   初始化 Webdriver 时：

    ```
     ProfilesIni allProfiles = new ProfilesIni();
     FirefoxProfile desiredProfile = allProfiles.getProfile("SELENIUM");
     WebDriver driver = new FirefoxDriver(desiredProfile); 
    ```

# arrays - 这里使用什么数据结构

> ID：12970711
> 
> 赞同：6
> 
> 时间：2012-10-19T08:56:19.303
> 
> 标签：arrays, data-structures, hash, dictionary

`O(1)`哈希提供了一种极好的机制，可以在几乎时间内提取与某个给定键对应的值。但它从不保留插入键的顺序。那么有没有什么数据结构可以模拟最好的数组和hash，即及时返回给定key对应的值`O(1)`，以及及时返回`nth`插入的值`O(1)`呢？应该保持顺序，即，如果散列是`{a:1,b:2,c:3}`，并且类似的事情`del hash[b]`已经完成，`nth(2)`应该返回`{c,3}`。

例子：

```
hash = {};
hash[a] = 1;
hash[b] = 2;
hash[c] = 3;
nth(2); //should return 2
hash[d] = 4;
del hash[c];
nth(3); //should return 4, as 'd' has been shifted up 
```

使用类似`TIE::Hash`或类似的模块是行不通的，我有责任从头开始开发它！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-19T08:59:12.637

现在，这个问题对我来说也很清楚（迟到总比没有好......）这是我的建议：

*   您可以维护两个散列：一个带有键，一个带有插入顺序。然而，这在删除和插入时非常难看且维护缓慢。这将给以两种方式访问​​元素所需的几乎相同的 O(1) 时间。
*   您可以对键使用哈希，并为插入顺序维护一个数组。这个比散列类型好很多，删除仍然不是很快，但我认为仍然比使用两个散列方法快很多。这在访问第 n 个元素时也给出了真正的 O(1)。

起初，我误解了这个问题，并给出了一个解决方案，它给出了 O(1) 键查找和 O(n) 查找第 n 个元素：

在 Java 中，有用于此特定任务的[LinkedHashMap](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html)。

但是我认为如果有人找到这个页面，这可能不是完全没用的，所以我把它留在这里......

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-22T14:48:21.363

这取决于可以为此数据结构分配多少内存。对于 O(N) 空间，有几种选择：

*   很容易获得每个操作的 O(1) 时间的数据结构：“按键获取值”、“插入第 n 个值”、“插入”——但仅当“删除”时间为 O(N) 时。只需使用哈希映射和数组的组合，[如 ppeterka 所述](https://stackoverflow.com/a/12970761/1009831)。
*   不太明显，但仍然简单的是“删除”的 O(sqrt N) 和所有其他操作的 O(1)。
*   稍微复杂一点的是在 O(N ^(1/4) )、O(N ^(1/6) ) 或一般情况下在 O(M*N ^(1/M) ) 时间内“删除”。
*   在为其他操作保留 O(1) 的同时，将“删除”时间减少到 O(log N) 很可能是不可能的。但是，如果您同意每个操作的 O(log N) 时间，这是可能的。基于二叉搜索树或跳过列表的解决方案允许它。一种选择是订单统计树。您可以使用计数器扩充二叉搜索树的每个节点，存储该节点下子树中元素的数量；然后用它找到第n个节点。其他选项是使用[Indexable skiplist](http://en.wikipedia.org/wiki/Skip_list#Indexable_skiplist)。另一种选择是使用 M=log(N) 的 O(M*N ^(1/M) ) 解决方案。
*   而且我认为你不能在不增加其他操作时间的情况下获得 O(1)“删除”。

如果有无限空间可用，您可以在 O(1) 时间内完成所有操作。

* * *

## O(sqrt N) “删除”

您可以使用两种数据结构的组合来按键查找值并按插入顺序查找值。第一个是哈希映射（将键映射到值和其他结构中的位置）。第二个是[分层向量](http://www.cs.brown.edu/cgc/jdsl/papers/tiered-vector.pdf)，它将位置映射到值和键。

分层向量是一种比较简单的数据结构，它可以很容易地从零开始开发。主要思想是将数组拆分为 sqrt(N) 个较小的数组，每个数组的大小为 sqrt(N)。每个小数组在删除后只需要 O(sqrt N) 时间来移动值。而且由于每个小数组都实现为[循环缓冲区](http://en.wikipedia.org/wiki/Circular_buffer), 小数组可以在 O(1) 时间内交换单个元素，这允许在 O(sqrt N) 时间内完成“删除”操作（每个子数组在删除值和第一个/最后一个子数组之间进行这样的交换） . 分层向量也允许在 O(sqrt N) 中插入到中间，但是这个问题不需要它，所以我们可以在 O(1) 的时间内在末尾追加一个新元素。要通过位置访问元素，我们需要确定子数组的循环缓冲区的起始位置，该位置存储元素，然后从循环缓冲区中获取该元素；这也需要 O(1) 时间。

由于散列图会记住其每个键在分层向量中的位置，因此当分层向量中的任何元素更改位置时（O(sqrt N) 散列图更新每个“删除”），它应该被更新。

* * *

## O(M*N ^(1/M) ) “删除”

要进一步优化“删除”操作，您可以使用[此答案](https://stackoverflow.com/a/10519240/1009831)中描述的方法。它懒惰地删除元素并使用 trie 调整元素的位置，同时考虑到已删除的元素。

* * *

## O(1) 对于每个操作

您可以使用三种数据结构的组合来执行此操作。第一个是哈希映射（将键映射到数组中的值和位置）。第二个是一个数组，它将位置映射到值和键。第三个是一个位集，数组的每个元素一个位。

“插入”操作只是在数组的末尾再添加一个元素并将其插入到哈希映射中。

“删除”操作只是取消设置位集中的相应位（每个位 = 1 初始化）。它还从哈希映射中删除相应的条目。（它不会移动数组或位集的元素）。如果在“删除”后，位集删除的元素比例超过某个恒定比例（如 10%），则应从头开始重新创建整个数据结构（这允许 O(1) 摊销时间）。

“按键查找”是微不足道的，这里只使用哈希映射。

“按位置查找”需要一些预处理。准备一个二维数组。一个索引是我们搜索的位置。其他索引是我们数据结构的当前状态，位集，重新解释为索引。计算每个可能的位集的每个前缀的人口计数并存储前缀长度，由人口计数和位集本身索引。准备好这个 2D 数组后，您可以通过首先按此 2D 数组中的位置和当前“状态”进行索引，然后在数组中使用值进行索引来执行此操作。

每个操作的时间复杂度是 O(1)（对于插入/删除，它是 O(1) 摊销的）。空间复杂度为 O(N 2 ^N )。

在实践中，使用整数集来索引数组会限制指针大小（通常为 64）允许的 N 值，甚至更多地受到可用内存的限制。为了缓解这种情况，我们可以将数组和位集拆分为大小为 N/C 的子数组，其中 C 是某个常数。现在我们可以使用一个较小的二维数组来查找每个子数组中的第 n 个元素。为了在整个结构中找到第 n 个元素，我们需要额外的结构来记录每个子数组中有效元素的数量。这是一个恒定大小 C 的结构，因此对其的每个操作也是 O(1)。我可以将这个附加结构实现为一个数组，但最好使用一些对数时间结构，如可索引的跳过列表。修改后，每个操作的时间复杂度仍然是O(1)；空间复杂度为 O(N 2 ^(N/C) )。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-27T10:08:17.500

您引用的所有内容在 O(1) 中都没有数据结构。特别是在中间具有随机动态插入/删除和排序/索引访问的任何数据结构的维护时间都不能低于 O(log N)，要维护这样一个动态集合，您必须使用运算符“小于”(二进制因此 O(log2 N)) 或一些计算组织（典型的 O(sqrt N)，通过使用 sqrt(N) 子数组）。注意 O(sqrt N)>O(log N)。

所以不行。

您可能会在所有事情上达到 O(1)，包括使用链表 + 哈希映射保持顺序，如果访问主要是顺序的，您可以缓存 nth(x)，以在 O(1) 中访问 nth(x+/-1)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T19:10:32.167

我想只有一个普通数组会给你 O(1)，最好的变体是寻找在最坏情况下给出 O(n) 的解决方案。您还可以使用一种非常糟糕的方法 - 使用键作为普通数组中的索引。我想有一种方法可以将任何键转换为普通数组中的索引。

```
std::string memoryMap[0x10000];
int key = 100;
std::string value = "Hello, World!";
memoryMap[key] = value; 
```

# actionscript-3 - 1084：语法错误：在点之前需要右括号

> ID：12970716
> 
> 赞同：2
> 
> 时间：2012-10-19T08:56:26.637
> 
> 标签：actionscript-3, flash, flash-cs5, flash-cs4, flashdevelop

我是ac3的新手，请你帮帮我。

收到此错误 1084：语法错误：在点之前需要右括号。

```
 {}.progress = function (event:ProgressEvent) : void 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:01:22.950

为什么要以这种方式执行此操作有点神秘，但是按如下方式转换为 Object 可以避免错误

```
({} as Object).progress = function(e:Event):void { }; 
```

最好有一个像这样的命名对象：

```
var magic:Object = {};
magic.progress = function(e:ProgressEvent):void {}; 
```

如果你真的想要匿名对象：

```
{
    progress:function(e:Event):void
    {}
}; 
```

此致

# java - 返回局部变量作为参数

> ID：12970723
> 
> 赞同：-4
> 
> 时间：2012-10-19T08:57:04.280
> 
> 标签：java, reference

返回局部变量作为参数

```
public String savedData(String Data, String m, String r, String s){
        String data = "asdfasdf";

        return Data;

    } 
```

我想返回局部变量data..我把data.this = data，它不起作用..嗯，这里有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:00:39.970

在这种情况下，您不能在参数中返回值。`String`是*不可变*的，您只能更改引用。您不能更改传入的对象。

你*可以*这样做：

```
class StringHolder {
   public String value;
}

StringHolder s = new StringHolder;
s.value = "x";

savedData(s); 
```

并`savedData`更改传递的对象：

```
public String savedData(StringHolder data,....) {
   data.value = "new x"; 
```

不过，我真的会这样做（没有明确表示）。这不是特别地道，也许有点出乎意料。我认为你最好通过`return`. 这是一个很好的做法 - 副作用使调试等方面的生活变得复杂，并使多线程更有问题（因为你的状态正在改变）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T08:59:01.150

```
public String savedData(String Data, String m, String r, String s){
    String data = "asdfasdf";

    return data; // returning data not Data.

} 
```

你在说上面的场景吗？？？。

# sql - oracle 错误：没有足够的值

> ID：12970724
> 
> 赞同：5
> 
> 时间：2012-10-19T08:57:10.920
> 
> 标签：sql, oracle

我有一个表捐助者主：

```
create table donor_master  
(  
donor_id number(10) primary key not null,  
dob date not null,  
age number(3) not null,  
gender char(1) not null,  
blood_group char(3),  
contact_no number(10),  
address varchar(50) not null,  
city varchar(10) not null,  
pin number(10) not null,  
state varchar(10) not null,  
branch_registration_id number(5) references branch_master(branch_id)  
); 
```

当我尝试在程序 insert_donor_master 中插入表时，编译时出现“值不足”错误。

这是程序：

```
create or replace procedure insert_donor_master(  
vdob donor_master.dob%type,  
vage donor_master.age%type,  
vgender donor_master.gender%type,  
vblood_group donor_master.blood_group%type,  
vcontact_no donor_master.contact_no%type,  
vaddress donor_master.address%type,  
vcity donor_master.city%type,  
vpin donor_master.pin%type,  
vstate donor_master.state%type,  
vbranch_registration_id donor_master.branch_registration_id%type  
)  
is  

begin  

    insert into donor_master values (sq_donor_master.nextval, vdob, vage, vgender, vblood_group, vcontact_no, vaddress, vcity, vpin, vstate, vbranch_registration_id);  
    commit;  

end; 
```

问题是什么？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:57:58.180

当我们指定一个 INSERT 语句时，Oracle 会抛出 ORA-00947，该语句没有为表中的每一列提供值。

现在，您发布的 CREATE TABLE 语句显示了一个包含 11 列的表。您发布的存储过程代码在 VALUES (...) 子句中显示了一个包含十一个值的插入语句。

所以，解释是：

1.  您有配置管理问题，并且您正在运行错误版本的存储过程或错误版本的表
2.  您有配置管理问题，并且表的实际结构不是您认为的那样（与您的 CREATE TABLE 脚本不匹配）
3.  你并没有真正得到 ORA-00947 错误

请注意，如果您不想填充每一行，则可以在 VALUES 子句之前指定相关列的投影。例如，如果您只想填充必填列，您可以编写以下代码：

```
insert into  donor_master 
    (donor_id, dob, age, gender, address, city, pin, state )
   values (sq_donor_master.nextval, vdob, vage, vgender, vaddress, vcity, vpin, vstate) 
```

重要的是值的数量与列的数量相匹配。

INSERT 语句的完整语法在文档中。 [在此处输入链接描述](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_9014.htm#i2163698)了解更多信息。

# mysql - Aquatic Star 数据库：无法添加或更新子行：外键约束失败

> ID：12970727
> 
> 赞同：0
> 
> 时间：2012-10-19T08:57:13.113
> 
> 标签：mysql, database, foreign-keys, constraints

我试图向我的数据库添加一个外键，但它不允许我..改变表`aquaticstar`。`schedule`
添加外键（`username`）引用`aquaticstar`。`staff`( `username`)

我知道有很多与此类似的帖子，但我阅读了它们，但似乎没有任何效果...我使用的是 Windows 32 位...sqlyog 是我的数据库和 wampserver 的 gui...我把 sql 放在我的pastebin 中的数据库...我不想弄乱这个问题...

[http://pastebin.com/TPqdSucJ](http://pastebin.com/TPqdSucJ)

请让我知道出了什么问题，如果您需要任何其他信息，请告诉我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T10:38:54.633

哦，伙计！我想通了......所以在我的 2 个表上我有不同的信息......所以在我的日程表中，我应该有一个名为 username 的列，它是员工表主键用户名的外键......但是在我的日程表上，我的员工表中没有找到用户名……所以这就是我收到错误的原因……我确保所有用户名都存在于我的员工表中……瞧……它起作用了。 ..谢谢大家的帮助anywaiz .. :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T13:55:31.630

可能您正在使用不支持引用的 MyISAM 默认存储引擎。

# java - 普通java项目中如何导入android.os.bundle格式？

> ID：12970728
> 
> 赞同：4
> 
> 时间：2012-10-19T08:57:17.603
> 
> 标签：java, android, sockets

我正在尝试通过套接字将 android.os.bundle 格式的数据从 Android 模拟器发送到 PC 服务器。现在我可以从 PC 服务器端的 ObjectInputStream 中获取对象，但我无法将其转换为捆绑格式。

以下是我在 PC 服务器端的代码的一些关键行：

```
android.os.Bundle testInfo = new android.os.Bundle();
ObjectInputStream in = new ObjectInputStream(client.getInputStream());
testInfo = (Bundle)in.readObject(); 
```

这就是控制台演示的内容：

```
java.lang.RuntimeException: Stub!
at android.os.Bundle.<init>(Bundle.java:5)
at TCPDesktopServer.run(TCPDesktopServer.java:31)
at java.lang.Thread.run(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-07-16T04:11:39.603

我不确定你是否可以这么容易地做到这一点。

但是，即使您可以在服务器中成功使用 android.os.Bundle，您也确实不应该这样做，因为您将陷入最终可能会改变的 Android 格式。

除了作为一个 Android 应用程序之外，它实际上是一个解耦您的解决方案的问题。您可以使用中性格式通过套接字连接传输数据。这样一来，Android API 的更改不一定会导致您的 PC 服务器实现发生更改。

我建议您使用 XML、JSON 或 YAML 之类的格式。

这样，您可能必须将 android.os.Bundle 转换为您在 Android 应用程序中选择的中性格式，但您将受益于解耦您的解决方案。

另一个好处是，如果明天您需要将一个新应用程序与您的服务器连接，您将不必在新应用程序中处理 Android API。

# mysql - 不同计数的Mysql查询优化

> ID：12970732
> 
> 赞同：1
> 
> 时间：2012-10-19T08:57:33.287
> 
> 标签：mysql, datatable, query-optimization

我有这样的查询

`select count(distinct sessionKey) as tot from visits`

但是现在执行48512 ms需要太多时间。
在几个月内，表中的数据将成为当前数据量的两倍。如何优化此查询

这是我的表结构

![在此处输入图像描述](../Images/32bcceeb18e84082e7acb252f7115746.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T08:58:50.243

`INDEX`在您的列中添加一个，`SessionKey`它将提高其性能。

```
ALTER TABLE visits ADD INDEX (SessionKey) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:17:37.940

就像其他人建议的那样，添加索引将是第一件也是最简单的事情。如果那里有成吨成吨的线路，那么无论如何都可能需要一些时间。

我曾经遇到过这样的问题，有人编写了一个系统，用户可以对新闻条目进行投票。每张选票都保存为数据库中的一行。在每个网页上都有一个“票数最高”的新闻列表。这基本上意味着有一个查询来选择完整的投票表，将它们相加，并在该总和之后进行排序。对于多个 100k 范围内的条目，这需要花费一些时间。我之前的某个人通过尝试“缓存”结果来“解决”它。这在大多数情况下都很好用，但是如果您已经清除了所有缓存，那么整个页面会混乱几个小时，直到再次构建缓存。然后我通过不将每张选票保存在自己的行中来修复它，而只是为每个条目保存总和。

我想告诉您的是：您可以尝试缓存（但结果当然是“实时”的），或者更改数据库中的某些内容，例如添加存储要读取的计数的字段或表您在每次插入访问表时进行更新。这会在插入时产生更多的负载，但获得这个数字会非常便宜。

# java - 苦苦挣扎于 Btree 算法

> ID：12970733
> 
> 赞同：1
> 
> 时间：2012-10-19T08:57:45.173
> 
> 标签：java, nullpointerexception, b-tree

我已经尝试使用 Java 来实现教科书 Introduction to Algorithms, 3rd edition 中的算法，但没有取得很大成功。几乎每次我尝试实现它们时都会遇到大量错误，以至于我不确定作者自己是否尝试过实现自己的伪代码。但具体来说，在这种情况下，我遇到了 Btree 算法的问题。我认为问题出在 B-Tree-Insert-Nonfull 方法的某个地方。当我尝试运行程序时，此行会导致空指针异常：

int i = x.totalKeys - 1;

然而，这没有任何意义。所有节点，比如本例中的 x，在它们的构造函数中都被初始化为 0，那么他的错误是怎么发生的呢？我将附上下面的函数：

```
public void bTreeInsertNonfull(Node x, Integer k)
{
    int i = x.totalKeys - 1;
    if (x.leaf || (x.children[i] == null))
    {
        while( (i >= 0) && (k < x.keys[i]) )
        {
            x.keys[i+1] = x.keys[i];
            i = i - 1;
        }
        x.keys[i+1] = k;
        x.totalKeys = x.totalKeys + 1;
    }
    else
    {
        while ( (i >= 0) && x.keys[i] != null)
        {
            if (k < x.keys[i])
            {
                i = i - 1;
            }
        }

        i = i + 1;

        if ((x.children[i] != null) && (x.children[i].totalKeys == tUpper))
        {
            bTreeSplitChild( x, i, x.children[i] );
            if (k > x.keys[i])
            {
                i = i + 1;
            }
        }
        bTreeInsertNonfull(x.children[i], k);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:07:42.140

详细阐述 Alex 的想法：如果你看一下算法的最后一部分，有一句话说：

```
if ((x.children[i] != null) && (x.children[i].totalKeys == tUpper)) 
```

这暗示这`x.children[i] == null`是一种可能性。算法的最后一行调用`bTreeInsertNonfull(x.children[i], k);`不检查第一个参数是否为空。

# cocoa - MVC 理论/Cocoa：在哪里创建模型？

> ID：12970735
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:01.953
> 
> 标签：cocoa, model-view-controller

我有一个 AppDelegate、一个 NSWindowController 和一些视图。定义`DataModel * data;`、初始化`[[data alloc] initWithSomething]`等的最佳位置是什么？

我想它必须在 WindowController（.h 和 .m）中完成，因为模型必须由主控制器处理。我对吗？我对在 AppDelegate 中保留指向模型的指针有一点疑问......

对不起，如果我的术语不是 MVC 正确的，我只是在学习......

# itextsharp - 是否可以“缩小” PdfPtable？

> ID：12970736
> 
> 赞同：2
> 
> 时间：2012-10-19T08:58:03.067
> 
> 标签：itextsharp, itext

我目前正在使用 Itextsharp，但我在使用 PDfPtables 时遇到了一些问题。有时它们对于一个页面来说太大了，当添加到文档中时，它们会被分解为多个页面。可悲的是，我的一些上司不能接受这种理性的行为——他们一直坚持要把桌子“缩小”到一页。有没有办法做到这一点？有一些诱人的提示是可能的——但提示就是我所拥有的。

什么是替代方案？也许我可以从文档中删除胖表，然后用更小的字体和单元格重新构建表，但这会很麻烦——我宁愿“缩小”，因为没有更好的词。

我当前的代码：

```
Dim test As PdfContentByte = mywriter.DirectContent
Dim templ = test.CreateTemplate(mywriter.PageSize.Width, mywriter.PageSize.Height)
Table.WriteSelectedRows(0, Table.Rows.Count - 1, 0.0F, mywriter.PageSize.Height, templ)
Dim myimage = Image.GetInstance(templ)
'   myimage.ScaleAbsolute(mywriter.PageSize.Width, mywriter.PageSize.Height) 
```

绝对有必要吗？myimage.SetAbsolutePosition(0, 0) test.AddImage(myimage)

这段代码在页面上放了一些东西，但它有页面的高度，宽度大约是页面的四分之一 - wi 将尝试找到错误...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T12:35:51.357

创建表格并定义“总宽度”。一旦 iText 知道表格的宽度，您就可以计算所有行的高度。知道高度后，您可以检查：

1.  表格是否适合页面？只需按原样添加即可。`WriteSelectedRows`如果您不想考虑任何页边距，也许可以使用。
2.  页面空间不够？将表格添加到 a `PdfTemplate`（有不止一种方法可以做到这一点），`PdfTemplate`将`Image`. 缩放图像，并将其添加到文档中。

# java - Android 内存管理：单例引擎？

> ID：12970738
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:05.630
> 
> 标签：java, android, android-memory

我的 Android 开发遇到了一些内存问题。

我想知道我的实际模型是否可以工作，并且还想*了解如何*以更好的方式做到这一点：

*   我需要`public static final` **全局变量**
*   我需要永远不会被垃圾收集的`public` **全局变量**
*   我需要让**引擎**运行，并且在没有我打电话的情况下永远不会破坏`stop()`

```
主要应用：应用
  公共静态最终布尔调试=假；
  onCreate()
    Engine.getEngine().prepare()

  主要活动：活动
    onResume()
      Engine.getEngine().start()
    暂停（）
      Engine.getEngine().stop()

引擎
  准备（）
    MainApplication.DEBUG = true;
  开始（）
    LocationManager.requestLocationUpdates()
  停止（）
    LocationManager.removeUpdates()
```

Engine 是一个 Singleton 类，接收位置更新等。

我的 Engine 类必须不被释放而不是 DEBUG 变量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:20:54.707

*   对于您的“类型 1”常量，请使用包含`public static final T NAME = Val;`- 声明的专用公共类。

*   对于引擎，我建议使用服务。

*   对于您的“类型 2”变量，[服务](http://developer.android.com/guide/components/services.html)可以提供 getter **，或者**您可以使用[SQLite](http://developer.android.com/guide/topics/data/data-storage.html#db)。

我看到那里有一些“位置” - 东西......开发者网站有一些关于使用位置服务的良好“最佳实践”。也许在那里你会得到更多的灵感。

# c# - VSTO C#/VBA 单词拼写检查事件

> ID：12970739
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:11.247
> 
> 标签：c#, vba, automation, vsto, office-interop

有没有办法在 Word 2010 中检测事件拼写检查开始和拼写检查完成？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-01-29T05:40:38.943

您可以使用以下用于 VSTO 的 VB.NET 代码创建自己的按钮来执行此操作。

```
 Public Sub SpellCheckButton(ByVal Control As Office.IRibbonControl)
        Try
            Dim result As String = "Spelled incorrectly."

            If Me.Application.CheckSpelling(Me.Range.Text) = True Then
                result = "Spelled correctly."
            End If
            MessageBox.Show(result)

        Catch ex As Exception
            MessageBox.Show(ex.ToString())

        End Try

    End Sub 
```

# java - 在 Java 中执行 Linux 命令

> ID：12970741
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:25.667
> 
> 标签：java, linux, bash, unix, command-line

我正在尝试在 Java 中执行以下命令，以终止通过 java 执行的 bash 脚本的衍生进程：

```
kill $(pgrep -P $(pgrep -P 5537)) 
```

我正在使用 apache Commons Exec Commandline 来构建命令，但这与在这里使用 ProcessBuilder 没有什么不同。所以这是我到目前为止所拥有的：

```
CommandLine cmdLine = new CommandLine("bash");
cmdLine.addArgument("-c");
cmdLine.addArgument("kill $(pgrep -P $(pgrep -P "+pid+"))"); 
```

我得到错误

```
bash: $'kill 7940\n7941\n7942\n7943': Command not found. 
```

通常我现在会尝试从命令中取出换行符，但它也不能只杀死一个进程，因为那时我得到了错误：

```
bash: kill 7980: Command not found. 
```

一方面我需要使用 bash 来使用变量，另一方面我不能使用它，因为 kill 不能用它执行......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:03:55.013

第一`kill -9 pidnumber`

为什么需要 bash 变量？当java给你字符串来存储变量？

第三，为什么不试试`System.Runtime.getRuntime().exec()`？

你也有权限杀死任务吗？试过了`sudo kill -9 pid`吗？

# c# - 重定向到新页面并下载文件？

> ID：12970742
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:25.167
> 
> 标签：c#, asp.net-mvc

我正在 MVC 中建立一个网站。目前我需要返回视图并下载文件。

此返回下载文件：

```
return "http://formvalue.co.za/download/" + filename + ".xlsx"; 
```

而这个回报将引导我走向我的观点：

```
return "Complete"; 
```

视图名称已完成。

我只能有一个回报，但我需要执行两个动作？

有什么方法可以一次返回吗？

如果您需要更多信息，请询问，提前致谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-19T09:15:06.253

您*真的*需要跟踪文件是否已下载吗？就个人而言，我会将用户重定向到“感谢您下载”页面而不是“完成”页面，并通过 AJAX 请求触发下载。用户已经通过浏览器收到“下载完成”通知，因此您可能不需要自己做一个。

这是一个如何使用 MVC 下载文件的[示例。](https://stackoverflow.com/questions/5826649/returning-a-file-to-view-download-in-mvc)

# silverlight - 如何在键盘 Windows Phone 7 中仅显示数字键？

> ID：12970744
> 
> 赞同：2
> 
> 时间：2012-10-19T08:58:26.260
> 
> 标签：silverlight, windows-phone-7, xaml, textbox, windows-phone

我正在开发一个 Windows 手机应用程序，并且是 wp7 开发的新手。我正在使用文本框输入产品的数量。该字段只允许输入数字。所以我需要在键盘上显示数字（0 到 9）。我该怎么做？..请帮忙。

我尝试了以下代码

```
<TextBox Name="textBox1" Width="200" Height="100" Text="0.00" TextAlignment="Right">
            <TextBox.InputScope>
                <InputScope>
                    <InputScopeName NameValue="CurrencyAmount"  />
                </InputScope>
            </TextBox.InputScope>
        </TextBox> 
```

但它仍然显示下面的键盘。

![在此处输入图像描述](../Images/ab5faa1ba63bf6bfee2335ceca800a80.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:04:19.460

您可以在 TextBox 上使用*InputScope属性。*

例如：`<TextBox InputScope="Number"/>`

或者 ：`<TextBox InputScope="CurrencyAmount"/>`

有关更多信息，您可以查看[此处](http://msdn.microsoft.com/en-us/library/windowsphone/develop/gg521152%28v=vs.92%29.aspx)。[您可以在此处](http://msdn.microsoft.com/en-us/library/system.windows.input.inputscopenamevalue%28VS.95%29.aspx)找到 InputScope 的所有可能值。

您可以[在这里](http://msdn.microsoft.com/en-us/library/hh393998%28v=vs.92%29.aspx)直观地看到所有输入范围的外观。

还要确保您将验证后面代码中的输入，例如用户可能在设备上有一个物理键盘。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-22T08:11:24.430

```
 <TextBox.InputScope>
            <InputScope>
                <InputScopeName NameValue="Number"  />
            </InputScope>
        </TextBox.InputScope> 
```

你只需要0~9

所以 += textblock 的 keydown 事件

并使用这些代码

```
 switch (e.Key)
        {
            case Key.D0:
            case Key.D1:
            case Key.D2:
            case Key.D3:
            case Key.D4:
            case Key.D5:
            case Key.D6:
            case Key.D7:
            case Key.D8:
            case Key.D9:
            case Key.Back:
            case Key.Delete:
                break;
            default:
                e.Handled = true;
                return;
        } 
```

# wcf - 配置文件在 WCF 服务中被覆盖

> ID：12970746
> 
> 赞同：3
> 
> 时间：2012-10-19T08:58:34.830
> 
> 标签：wcf, wcf-binding

好的。通常我讨厌问问题，但我遇到的这个问题一直让我绞尽脑汁。

该公司正在开发与 sharepoint 通信的 wcf 服务。我们设法让它工作，它从共享点接收呼叫和文件，但它只适用于小文件。sharepoint 中的设置设置为接受最大 250 MB 的文件。在我们的 web.config 文件中，与消息大小相关的每个设置都设置为最大值 ( `int32`)。当我们运行该服务时，它不会接受大于 22 KB 的文件。

我们进行了一些跟踪，得到 1 个警告和 1 个错误。首先，我们收到一条警告：

> 描述 配置系统在不同的配置范围内检测到重复键，并用更新的值覆盖。

并出现一个错误，指出已超出最大邮件大小 [64 KB]。

问题是我们在 23 KB 及以上的文件上收到此错误，尽管我们确实在 web.config 中放置了绝对最大大小。警告说配置文件被覆盖但是被什么覆盖？在过去的 3 天里，我到处寻找解决方案，但没有找到任何解决方案。

有人知道可能出了什么问题吗？什么可能会覆盖`web.config`文件？如果由于某种原因它被默认值覆盖，为什么它甚至不接受大于 22 KB 的消息。

任何帮助将不胜感激。

**编辑：发现问题**

好的，对于那些仍然有类似问题的人，我将把我发现为我们解决的问题放在这里。

当然通常的消息大小配置

```
<binding maxReceivedMessageSize="2147483647">            
        <readerQuotas maxDepth="32"
         maxStringContentLength="2147483647"
          maxArrayLength="2147483647"
          maxBytesPerRead="2147483647"
          maxNameTableCharCount="2147483647" />
        </binding> 
```

以及我在修复问题的示例代码中偶然发现的另一个设置（对最大 64MB 的文件进行测试，没有任何进一步的问题）

```
<system.webServer>
<serverRuntime uploadReadAheadSize="2147483647"  />
<modules runAllManagedModulesForAllRequests="true"/>
<security>
  <requestFiltering>
    <requestLimits maxAllowedContentLength="2147483647" />
  </requestFiltering>
</security>
</system.webServer> 
```

显然`requestLimits maxAllowedContentLength`，默认情况下它的设置非常低，并且它覆盖了所有其他设置，大概是因为它是一个安全设置。

可以影响最大尺寸，`serverRuntime uploadReadAheadSize`但不会直接影响。我不太擅长解释，所以你最好阅读官方文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:02:01.907

Web.config 文件中唯一的更新或更改点是**更新服务引用**时。
或者，如果您编写了代码来更新 Web.config 文件的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:09:54.403

首先，阅读 Jon Galloway 关于[web.config 继承](http://weblogs.asp.net/jgalloway/archive/2012/01/17/10-things-asp-net-developers-should-know-about-web-config-inheritance-and-overrides.aspx)的文章。

其次，消息大小不仅仅取决于文件大小。数组中的二进制数据将采用 base64 编码（增加约 30% 的大小）。编码的选择也会影响消息的大小。UTF-16 将为每个字符发送 2 个字节，而 UTF-8 使用多字节模式。

# python - 跟踪 Django 包更新

> ID：12970747
> 
> 赞同：1
> 
> 时间：2012-10-19T08:58:36.297
> 
> 标签：python, django, pypi

我的 Django 应用程序目前依赖于相当多的 Python 和 Django 库和包。

我想知道是否有一个管理应用程序可以让您跟踪 PyPi 上软件包的所有最新更新。这将非常方便，因为它可以让您密切关注有时可能非常重要的更新，即安全补丁。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T21:53:03.547

您可以使用 pip-review。

[https://github.com/nvie/pip-tools](https://github.com/nvie/pip-tools)

以下是该网站的描述：

> 检查 PyPI 并报告可用更新。它使用当前安装的软件包列表来检查更新，它不使用任何 requirements.txt

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-20T14:54:31.157

Pip 可以做的比你想象的要多。简单地：

```
pip list -o 
```

# android - 如何使用自定义声音设置通知

> ID：12970748
> 
> 赞同：0
> 
> 时间：2012-10-19T08:58:41.537
> 
> 标签：android

我想使用具有自定义声音的通知，例如 Notification.sounds

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:07:19.860

显示通知，声音尝试：

```
NotificationCompat.Builder mBuilder =
    new NotificationCompat.Builder(this)
    .setSmallIcon(R.drawable.notification_icon)
    .setContentTitle("My notification")
    .setContentText("Hello World!");
// Creates an explicit intent for an Activity in your app
Intent resultIntent = new Intent(this, ResultActivity.class);
// The stack builder object will contain an artificial back stack for the
// started Activity.
// This ensures that navigating backward from the Activity leads out of
// your application to the Home screen.
TaskStackBuilder stackBuilder = TaskStackBuilder.create(this);
// Adds the back stack for the Intent (but not the Intent itself)
stackBuilder.addParentStack(ResultActivity.class);
// Adds the Intent that starts the Activity to the top of the stack
stackBuilder.addNextIntent(resultIntent);
PendingIntent resultPendingIntent =
    stackBuilder.getPendingIntent(
        0,
        PendingIntent.FLAG_UPDATE_CURRENT
    );
mBuilder.setContentIntent(resultPendingIntent);

// to set custom sound
mBuilder.setSound(YOUR_CUSTOM_URI);

NotificationManager mNotificationManager =
(NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
// mId allows you to update the notification later on.
mNotificationManager.notify(mId, mBuilder.build()); 
```

有关设置声音的更多信息，请查看[此处](http://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html#setSound%28android.net.Uri%29)

# xml - MODX：前端 xml 导出

> ID：12970765
> 
> 赞同：0
> 
> 时间：2012-10-19T08:59:19.710
> 
> 标签：xml, modx, modx-revolution

我需要一些关于如何进行前端 xml 资源导出的指导。

我使用 getresources 显示带有标题、图像和一些信息数据（如博客）的资源。在一页中，我展示了大约 15 个资源。我想通过单击按钮将此页面与资源导出为 xml。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T00:37:54.027

有一个关于这件事的教程，专门用于在这里创建一个 google xml 站点地图： [http ://rtfm.modx.com/display/ADDON/getResources.Google+XML+Sitemap](http://rtfm.modx.com/display/ADDON/getResources.Google+XML+Sitemap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T12:37:20.247

如何创建一个像 htttp://your_site/export.html?pageids=1,2,3,... 这样的页面，其中 1,2,3 - 导出资源的 ID。在这个页面上，创建一个这样的片段 -

```
<?php

$template = 2;

$list_ids = explode(',', $_GET['pageids']);

$out_list = array();

foreach($list_ids as $id) { // check allowed templates
    $document = $modx->getObject('modResource', $id);
    if ($document->get('template') == $template) {
        $out_list[] = $id;
    }
}

$modx->setPlaceholder('list_ids', implode(',',$out_list)); 
```

然后放置

```
[[!getResources? &resources=`[[+list_ids]]` &tpl=`myRowTpl_XML`]] 
```

# sonarqube - 声纳 Findbugs 未运行

> ID：12970766
> 
> 赞同：0
> 
> 时间：2012-10-19T08:59:40.070
> 
> 标签：sonarqube

我已经从我的父文件夹安装了声纳并执行了声纳运行器，但是我收到以下错误有人知道该怎么做吗？

```
Exception in thread "main" org.sonar.runner.RunnerException: org.sonar.api.utils.SonarException: Can not execute Findbugs
    at org.sonar.runner.Runner.delegateExecution(Runner.java:288)
    at org.sonar.runner.Runner.execute(Runner.java:151)
    at org.sonar.runner.Main.execute(Main.java:84)
    at org.sonar.runner.Main.main(Main.java:56)
Caused by: org.sonar.api.utils.SonarException: Can not execute Findbugs
    at org.sonar.plugins.findbugs.FindbugsExecutor.execute(FindbugsExecutor.java:126)
    at org.sonar.plugins.findbugs.FindbugsSensor.analyse(FindbugsSensor.java:62)
    at org.sonar.batch.phases.SensorsExecutor.execute(SensorsExecutor.java:64)
    at org.sonar.batch.phases.Phases.execute(Phases.java:93)
    at org.sonar.batch.bootstrap.ProjectModule.doStart(ProjectModule.java:139)
    at org.sonar.batch.bootstrap.Module.start(Module.java:83)
    at org.sonar.batch.bootstrap.BatchModule.analyze(BatchModule.java:131)
    at org.sonar.batch.bootstrap.BatchModule.doStart(BatchModule.java:121)
    at org.sonar.batch.bootstrap.Module.start(Module.java:83)
    at org.sonar.batch.bootstrap.BootstrapModule.doStart(BootstrapModule.java:121)
    at org.sonar.batch.bootstrap.Module.start(Module.java:83)
    at org.sonar.batch.Batch.execute(Batch.java:104)
    at org.sonar.runner.internal.batch.Launcher.executeBatch(Launcher.java:69)
    at org.sonar.runner.internal.batch.Launcher.execute(Launcher.java:61)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.sonar.runner.Runner.delegateExecution(Runner.java:285)
    ... 3 more
Caused by: java.io.IOException: File '/home/bldarea/example/dev/archive/.sonar/findbugs-result.xml' cannot be written to
    at org.apache.commons.io.FileUtils.openOutputStream(FileUtils.java:228)
    at org.sonar.plugins.findbugs.FindbugsExecutor.execute(FindbugsExecutor.java:95)
    ... 21 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:40:16.417

消息很清楚：“findbugs-result.xml”临时文件无法写入磁盘上的“/home/bldarea/example/dev/archive/.sonar”文件夹中。

所以你必须知道为什么这个文件不能写在那里。这可能与此文件夹上的用户权限或用户配额有关...

# php - 循环结果 PDO PHP

> ID：12970771
> 
> 赞同：3
> 
> 时间：2012-10-19T09:00:10.337
> 
> 标签：php, mysql, pdo

我正在尝试从我网站上的表中获取所有记录，我有以下内容

```
$sth = $conn->prepare("SELECT * FROM directory WHERE user_active != ''");
$sth->execute();

/* Exercise PDOStatement::fetch styles */
$result = $sth->fetch(PDO::FETCH_ASSOC);
foreach ($sth->fetchAll(PDO::FETCH_ASSOC) as $result) {
    echo $result[First_Name];
} 
```

只有它没有返回所有记录，只有我的第一个，有人能看到我哪里出错了吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-19T09:01:21.160

您需要使用循环：

```
while ($result = $sth->fetch(PDO::FETCH_ASSOC)) {
    echo $result[First_Name];
    echo ' ' . $result[Surname];
} 
```

或者你可以使用[fetchAll](http://php.net/manual/en/pdostatement.fetchall.php)方法：

```
foreach ($sth->fetchAll(PDO::FETCH_ASSOC) as $result) {
    echo $result[First_Name];
    echo ' ' . $result[Surname];
} 
```

***并且注意：***如果`First_Name`and`Surname`不是常量，那么你应该使用字符串作为键名。

`$result['First_Name']`和`$result['Surname']`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-19T09:01:39.640

好吧，你只打电话`$sth->fetch`一次。您需要遍历结果。

```
while ($row = $sth->fetch(PDO::FETCH_ASSOC)) {
   echo $row['First_Name'] . ' ' . $row['Surname'] . "\n";
} 
```

也不要在没有大括号的情况下调用数组字符串索引。这样，PHP 会检查键是否为 CONSTANT，然后将其转换为字符串。这只是不好的做法，可能会导致意外的行为。

如果这只返回一行，您可能在数据库（或结果集中）中只有一行。向我们展示更多代码！

# powershell - 调用命令的脚本块内的调用表达式不起作用

> ID：12970772
> 
> 赞同：0
> 
> 时间：2012-10-19T09:00:12.180
> 
> 标签：powershell

我有以下脚本

```
$name = (Invoke-Command -ComputerName "STW111" -Credential $cred -ScriptBlock { Invoke-Expression "C:\PSS\User Tool\UserTool.exe"} -AsJob).Name

Wait-Job -Name $name 
```

但是，这不起作用，如果我将 usertool 移动到 c:\pss\，它可以正常工作。

```
$name = (Invoke-Command -ComputerName "STW111" -Credential $cred -ScriptBlock { Invoke-Expression "C:\PSS\UserTool.exe"} -AsJob).Name

Wait-Job -Name $name 
```

我真的需要掌握如何在 Powershell 中转义。

有任何想法吗？

TIA

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:04:46.630

试试这个：

```
Invoke-Expression "& 'C:\PSS\User Tool\UserTool.exe'" 
```

# javascript - 当我的 javascript 表单插入 DOM 时，Safari 6 上的视频会减慢整个页面的速度

> ID：12970774
> 
> 赞同：1
> 
> 时间：2012-10-19T09:00:19.140
> 
> 标签：javascript, html, video, safari6

我实际上正在为我正在工作的公司开发一个简单的网站。每个页面都有一个中央视频，并且在 FireFox Opera Chrome 和 IE 9 上一切都很好，但在 Safari 6.0.1 (Mac) 和 Safari 5.1 上都没有.7 (PC)（Mac Safari 5.1.2 没问题）。

我已经尝试停用任何其他脚本，删除所有视频属性，我什至以 OOP 方式重写了我的脚本，但此时没有任何结果。事实是，只要我尝试删除 mp4 源，整个页面就会完美运行。

测试站点在这里可见：http: [//www.jsteitgen.com/tests/](http://www.jsteitgen.com/tests/)

我在论坛中阅读了一些关于访问 YouTube 播放器时出现 Safari 错误的帖子。这可能是同样的问题，但还没有找到任何确认。

我想知道是否有人经历过同样的事情/会知道一些我不知道的关于 Safari 6 规范的事情/甚至更好：会有解决方案！

希望我的英语足够清楚，可以得到答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:36:10.913

查看网站上的代码，该代码类似于“ [http://drupal.org/node/1536226](http://drupal.org/node/1536226) ”上的代码：

```
<source src='vids/animLogo.mp4' type='video/mp4' /><!-- Safari /iOs Video -->
                        <source src='vids/animLogo.ogv' type='video/ogg' /><!-- FireFox / Opera / Chrome -->
                        <source src='vids/animLogo.wmv' type='video/x-ms-wmv' /><!-- WIndows Media Viedo --> 
```

提供 3 个不同的视频文件。当然，问题中提到的 safari 版本不支持 webm 和 theora，（来源：http [: //weblogs.mozillazine.org/asa/archives/2009/03/open_video_in_s.html，http](http://weblogs.mozillazine.org/asa/archives/2009/03/open_video_in_s.html) [:// farukat.es/journal/2011/01/488-google-h264-and-video-web](http://farukat.es/journal/2011/01/488-google-h264-and-video-web) , [http://farm6.static.flickr.com/5285/5349294818_e6e32d42db_o.png](http://farm6.static.flickr.com/5285/5349294818_e6e32d42db_o.png)）这会阻止 ogv 文件在 safari 中播放，无需用户额外的插件（来源：[http](http://www.broken-links.com/2010/09/01/playing-webm-in-safari-with-plugins/) : //www.broken-links.com/2010/09/01/playing-webm-in-safari-with-plugins/，http: [//blog.andikurnia.com /2010/11/29/playing-ogg-files-directly-from-safari/](http://blog.andikurnia.com/2010/11/29/playing-ogg-files-directly-from-safari/)）。经过进一步检查，.mp4 文件比传送到 firefox、opera 和 chrome 的视频格式大 3 倍。我的建议是优化 .mp4 文件以减少流式传输的数据，因为嵌入的尺寸 (720x423) 小于视频的尺寸 (1280x720)，但这是质量与网站性能的问题。

另外，为了回答你的问题，没有 youtube 播放器，它主要与视频编解码器和苹果的实现有关，safari 没有对 Theora 的本机支持，因此，除非编解码器或插件，否则它会求助于 .mp4 版本可用于“解码”文件。

简而言之，正在播放更高质量和慢速的视频。需要对其进行压缩和优化，以使网站运行更顺畅。

# java - 如何将我的自定义视图添加到 xml 中的布局？

> ID：12970776
> 
> 赞同：3
> 
> 时间：2012-10-19T09:00:23.247
> 
> 标签：java, android

有以下xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <com.ulnda.calendarapplication.MyCalendarView
        android:id="@+id/calendarView"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</LinearLayout> 
```

我的日历视图：

```
public class MyCalendarView extends CalendarView {

    public MyCalendarView(Context context) {
        super(context);
    }

    @Override
    public void setOnClickListener(OnClickListener listener) {
//      View v;
//      v.setOn

    }

    @Override
    public boolean performClick() {
        Log.e("event", "perform_click");
        return true;
    }
} 
```

一切都很好，但是当我尝试执行此应用程序时，我会收到以下消息：

```
10-19 12:59:30.037: E/AndroidRuntime(30968): FATAL EXCEPTION: main
10-19 12:59:30.037: E/AndroidRuntime(30968): android.view.InflateException: Binary XML file line #7: Error inflating class com.ulnda.calendarapplication.MyCalendarView 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:11:56.383

您需要实现一些构造函数才能使其正常工作。视图具有以下内容：

*   [视图（上下文上下文）](http://developer.android.com/reference/android/view/View.html#View%28android.content.Context%29)
*   [视图（上下文上下文，AttributeSet attrs）]（http://developer.android.com/reference/android/view/View.html#View(android.content.Context, android.util.AttributeSet)）
*   [视图（上下文上下文，AttributeSet attrs，int defStyle）]（http://developer.android.com/reference/android/view/View.html#View（android.content.Context，android.util.AttributeSet，int） )

第二个和第三个用于 XML 膨胀。您需要为您的视图类实现对应于第二个，也可能是第三个的构造函数。也就是说，实现：

*   MyCalendar（上下文上下文，AttributeSet attrs）

如果需要（可能不需要），请添加以下内容：

*   MyCalendar（上下文上下文，AttributeSet attrs，int defStyle）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:12:51.610

也尝试添加这些构造函数

```
public MyCalendarView(Context context, AttributeSet attrs) {
    super(context, attrs);
}

public MyCalendarView(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
} 
```

# iphone - 无法使用@interface 将对象添加到 NSMutableArray

> ID：12970780
> 
> 赞同：2
> 
> 时间：2012-10-19T09:00:38.287
> 
> 标签：iphone, objective-c, ios

有人可以告诉我我做错了什么，应用程序（iphone ios5）在执行“addStatus：statusObj”时会崩溃吗？

```
id<Statuses> statusObjects;
statusObjects = [Status singleton];

id<Statuses> statusMessagesObjects;
statusMessagesObjects = [[Status singleton] copy];
StatusObj *statusObj = [[StatusObj alloc] init];
statusObj.date = [NSDate date];
[statusMessagesObjects addStatus:statusObj];
StatusObj *tmpObj = [statusMessagesObjects getStatusAtIndex:0];
DebugLog(@"-- debug -- %@", tmpObj.date); 
```

---------------------------------------头文件---------- -------------------------

```
@interface Status : NSObject <Statuses, NSCopying>
{
    NSMutableArray* status;
    NSString* path;
}

+ (id) singleton;

@property (copy) NSString* path;

- (void) addStatus:(StatusObj*)statusObj;
- (void) deleteStatusAtIndex:(NSUInteger)index;
- (StatusObj*) getStatusAtIndex:(NSUInteger)index;
- (int) count;
- (void)save;
- (id)copyWithZone:(NSZone *)zone; 

@end

@protocol Statuses <NSObject>

@required
- (void) addStatus:(StatusObj*)statusObj;
- (void)deleteStatus:(StatusObj *)statusObj;
- (void) deleteStatusAtIndex:(NSUInteger)index;
- (void)deleteAllStatuses;
- (StatusObj*) getStatusAtIndex:(NSUInteger)index;
- (int) count;
- (void)save;

@optional
- (void)moveStatus:(StatusObj *)statusObj toIndex:(NSUInteger)newIndex;

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:11:31.500

您的代码看起来很奇怪，而且您的命名约定非常规，为什么要复制您的 Singleton？

我已经编辑了你的可能会有所帮助，但如果你发布你的实现会很有帮助。

```
id<Statuses> status;
status = [Status singleton];

StatusObj *statusObj = [StatusObj new];
statusObj.date = [NSDate date];

[status addStatus: statusObj];

StatusObj *tmpObj = [status getStatusAtIndex:0];
DebugLog(@"-- debug -- %@", tmpObj.date); 
```

# c - 按位否定检查

> ID：12970790
> 
> 赞同：0
> 
> 时间：2012-10-19T09:01:03.377
> 
> 标签：c, bit-manipulation

我正在阅读 JS 手册，发现了一个不错的技巧，即`~val === (val != -1)`. 我发现它很好，并想在我的 C 代码中使用它。

它是便携式的吗？我检查了我的 GNU/Linux 机器，它可以工作。

编辑：似乎我问得不太清楚。当然，我知道，`===`C 中没有。问题是，都是条件句

```
int val;
if (~val) {...}
if (val != -1) {...} 
```

平等的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:04:27.193

不，这不对。

首先，运算符 "===" 在 C 中不存在。其次，比较 "val != -1" 在 C 中返回 true (1) 或 false (0)。

你想完成什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:12:36.303

**以下答案是针对最初措辞的问题编写的，这使我和其他人认为他在问是否`~ans`和`(ans ^ -1)`等价。**

这个技巧不像`~val`它假设那样可移植`-1 == 0b111111111...`，这仅在二进制补码机器上是正确的（当然，今天几乎适用于任何机器）。它利用了 xor 操作作为“受控反相器”的事实，翻转其左操作数中对应的右操作数位为 1 的每一位。

但是，替换可能`~0`会`-1`起作用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:20:05.783

在 , 的上下文中，`if (exprA) vs if (exprB)`它们 是相等的。
`exprA := ~val`
`exprB := val!=-1`

在 (exprA) 和 (exprB) 评估为相同值的情况下，答案是否定的。

`exprA := ~val`在这种情况下，等效表达式是
`exprB := val ^ -1`，或者

`exprB := val!=-1`, 在这种情况下，等价的表达式可以是
`exprA := !!(~val)`

修改后的问题有所不同，因为 (val!=-1) 在数值上计算为 0 或 1，但 if 语句可以使用任何非零值来表示条件为真。

所以答案取决于上下文。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T09:23:14.803

val != -1 将是 1 或 0。

```
If val = 0,  ~0 = 0xFFFFFFFF on a 32 bit machine with 32 bit integer.
If val = 1,  ~1 = 0xFFFFFFFE on a 32 bit machine with 32 bit integer. 
```

等等。

这在世界上如何等于 1 或 0？除了'val'的两个特定值之外还有什么？

根据 Aki 的说法：您的意思可能是 ~val = val ^= -1。

```
xor truth table:
 --------------------
|A   |   B   |  A^B |
 --------------------
|0   |   0   |  0   | 
 --------------------
|0   |   1   |  1   |
 --------------------
|1   |   0   |  1   |
 --------------------
|1   |   1   |  0   |
 --------------------
example: val = 1:
1(val) is represented as : 0000 0000 0000 0000 0000 0000 0000 0001
-1 is represented as:      1111 1111 1111 1111 1111 1111 1111 1111
-------------------------------------------------------------------
         (XOR VAL AND -1): 1111 1111 1111 1111 1111 1111 1111 1110
--------------------------------------------------------------------
[negate:0to1 1to0]  ~val : 1111 1111 1111 1111 1111 1111 1111 1110
------------------------------------------------------------------- 
```

由于这两者在逻辑上是相等的 - 并且所有机器都遵循逻辑，因此这必须在每台以 2 的补码方法存储负数的机器上工作。

顺便说一句：2 的补码是负数 + 1 的补码：

因此存储-1：

```
-1 = negative     :   0000 0000 0000 0000 0000 0000 0000 0001
1' = 1s compliment:   1111 1111 1111 1111 1111 1111 1111 1110
2' = 2s compliemnt:   1111 1111 1111 1111 1111 1111 1111 1111
--------------------------------------------------------------- 
```

# makefile - GNU 制造。范围限于单个 Makefile 的变量

> ID：12970795
> 
> 赞同：12
> 
> 时间：2012-10-19T09:01:24.387
> 
> 标签：makefile, gnu-make

我尝试在我当前的项目中实现一个非递归的 make 构建系统。我挣扎的是变量范围。目标特定变量不符合我的需求，因为变量通常定义目标而不是先决条件。我需要的是：

生成文件1：

```
SOMEVAR := original_value
include Makefile2
$(warning $(SOMEVAR)) 
```

生成文件2：

```
#some magic here to do what I want and make me happy
SOMEVAR := included_value
#and maybe here 
```

我想要的输出是'original_value'。

有什么策略可以让它成为现实吗？

编辑：我目前唯一的解决方案是强迫和组织自己将所有包含在每个特定 Makefile 的末尾并使用立即变量赋值：=

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-19T09:36:26.223

一种策略是当你只有全局变量时变量名冲突的老式解决方案：以穷人命名空间的形式为你的变量名添加一个前缀。

生成文件1：

```
Makefile1_SOMEVAR := original_value
include Makefile2
$(warning $(Makefile1_SOMEVAR)) 
```

生成文件2：

```
# no magic needed
Makefile2_SOMEVAR := included_value
# rest of Makefile2 uses $(Makefile2_SOMEVAR) of course 
```

嘿 presto，有了这样的约定，就好像每个 makefile 都有自己的局部变量（或者，至少，在不与任何其他 makefile 冲突的命名空间中，它自己的变量）。

# jquery - jqGrid - 禁用页面大小下拉

> ID：12970797
> 
> 赞同：1
> 
> 时间：2012-10-19T09:01:30.547
> 
> 标签：jquery, jqgrid, jqgrid-asp.net

我想禁用分页，但想保留左侧的加号按钮。下面的图片是我最终得到的。仍然有一个下拉页面大小可见。我已经为此取消了分页选项。但是还是...

![结果](../Images/e82036eb2c196af6ee0174161c4bf4ea.png)

这是代码

```
jQuery("#detFlex101_1").jqGrid({
    url: root + mod + '/detaillistview',
    datatype: "local",
    colNames:[' ', '@Resources.Xdt_Parameter.param_display_name', '@Resources.Xdt_Parameter.param_tooltip_desc', '@Resources.Xdt_Parameter.param_data_type', ' ', ' ', '@Resources.Xdt_QueryParameter.qupa_required_flag', '@Resources.Xdt_QueryParameter.qupa_default_value'],
    colModel:[
        {name:'myac', width:80, fixed:true, sortable:false, resize:false, formatter:'actions', formatoptions:{keys:true, editbutton : false, delbutton : false, delOptions: {reloadAfterSubmit:false},editOptions: {reloadAfterSubmit:false}}},
        {name:'display_name',index:'display_name', width:100},
        {name:'tooltip_description',index:'tooltip_description', width:300},
        {name:'data_type',index:'data_type', width:100},
        {name:'parameter_id',index:'parameter_id', width:100,hidden:true},
        {name:'query_id',index:'query_id', width:100,hidden:true},
        {name:'required_flag',index:'required_flag', width:100},
        {name:'default_value',index:'default_value', width:100}
        ],
    width: $('.body').width()-40,
    height: 120,

    pager: '#pagerFlex101_1',
    rowList: [],        // disable page size dropdown
    pgbuttons: false,     // disable page control like next, back button
    pgtext: null,         // disable pager text like 'Page 0 of 10'
    viewrecords: false,   // disable current view record text like 'View 1-10 of 100'

    sortname: 'parameter_id',
    sortorder: "desc",
    editurl: root + mod + '/detailpost',
    caption:"@Resources.Xdt_QueryParameter.qupa_param_title",
    onSelectRow: function(id){
        activedf = "#detFlex101_1";
    },
    afterInsertRow: function () {
        var grid = $(this),
        iCol = getColumnIndexByName(grid,'myac'); // 'act' - name of the actions column
        grid.find(">tbody>tr.jqgrow>td:nth-child(" + (iCol + 1) + ")")
        .each(function() {
            if ($(this).find(">div>div").length == 2)
            {
                $("<div>",
                    {
                        title: "Delete",
                        mouseover: function() {
                            $(this).addClass('ui-state-hover');
                        },
                        mouseout: function() {
                            $(this).removeClass('ui-state-hover');
                        },
                        click: function(e) {
                            df_delete_1($(e.target).closest("tr.jqgrow").attr("id"));
                        }
                    }
                  ).css({float:"left"})
                   .addClass("ui-pg-div ui-inline-edit")
                   .append('<span class="ui-icon ui-icon-trash"></span>')
                   .prependTo($(this).children("div"));

                $("<div>",
                    {
                        title: "Edit",
                        mouseover: function() {
                            $(this).addClass('ui-state-hover');
                        },
                        mouseout: function() {
                            $(this).removeClass('ui-state-hover');
                        },
                        click: function(e) {
                            df_edit_1($(e.target).closest("tr.jqgrow").attr("id"));
                        }
                    }
                  ).css({float:"left"})
                   .addClass("ui-pg-div ui-inline-edit")
                   .append('<span class="ui-icon ui-icon-pencil"></span>')
                   .prependTo($(this).children("div"));

                $("<div>",
                    {
                        title: "Up",
                        mouseover: function() {
                            $(this).addClass('ui-state-hover');
                        },
                        mouseout: function() {
                            $(this).removeClass('ui-state-hover');
                        },
                        click: function(e) {
                            jqGridMoveRow('up', grid, $(e.target).closest("tr.jqgrow").attr("id"));
                        }
                    }
                  ).css({float:"left"})
                   .addClass("ui-pg-div ui-inline-edit")
                   .append('<span class="ui-icon ui-icon-arrowthick-1-n"></span>')
                   .prependTo($(this).children("div"));

                $("<div>",
                    {
                        title: "Down",
                        mouseover: function() {
                            $(this).addClass('ui-state-hover');
                        },
                        mouseout: function() {
                            $(this).removeClass('ui-state-hover');
                        },
                        click: function(e) {
                            jqGridMoveRow('down', grid, $(e.target).closest("tr.jqgrow").attr("id"));
                        }
                    }
                  ).css({float:"left"})
                   .addClass("ui-pg-div ui-inline-edit")
                   .append('<span class="ui-icon ui-icon-arrowthick-1-s"></span>')
                   .prependTo($(this).children("div"));
            }
        });
    }
});

jQuery("#detFlex101_1").jqGrid('navGrid','#pagerFlex101_1',{edit:false,del:false,search:false, addfunc: df_add_1});
jQuery("#detFlex101_1").jqGrid('gridResize', {minWidth:350, maxWidth:1920, minHeight:80, maxHeight:1080} );
jQuery("#detFlex101_1").jqGrid({pgbuttons:false, recordtext:'', pgtext:''}); 
```

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T10:29:23.530

虚拟滚动（`scroll: 1`）的用法与不分页不同。

如果您只需要有空寻呼机，则需要使用一些 jqGrid 选项（请参阅[文档](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3apager#properties)）：

```
rowNum: 10000,      // !!! it's important to increase default 20 value
pginput: false,
pgbuttons: false,
rowList: [],        // it's default setting
viewrecords: false, // it's also default setting 
```

最重要的是不要忘记定义`rowNum`一些足够大的值。如果您不这样做，那么网格中只会显示第一页的 20 行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:14:36.537

您可以使用滚动选项，在 jqgrid 选项中定义它。
**scroll:1**
通过使用此选项，您指示 jqgrid 不使用分页，换句话说，您将实现虚拟滚动。
希望它能满足你的需求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-09T13:51:59.297

只需设置 gridoptions 如下所示 rowNum: 1000, rowList: [], pgbuttons: false, pgtext : "", pginput : false, viewrecords: false,

# java - 带有列外标准问题的休眠多对多

> ID：12970799
> 
> 赞同：5
> 
> 时间：2012-10-19T09:01:39.173
> 
> 标签：java, hibernate, jpa

我按照本[教程](http://www.mkyong.com/hibernate/hibernate-many-to-many-example-join-table-extra-column-annotation/)在我的域模型中实现了一个带有额外列的多对多关系。它工作得很好，但我无法创建一个条件来查询我的关系左侧的字段。

使用此代码

```
 @Entity
        @Table( name = "projects")
        public class Project implements Cloneable, Serializable{

            private Long id;
            private String name;
            private Set<ProjectOrganization> projectOrganizations = new HashSet<ProjectOrganization>(0);

            @Id
            @GeneratedValue(strategy = GenerationType.AUTO)
            @Column(nullable = false)
            public Long getId() {
                return this.id;
            }

            public void setId(Long id) {
                this.id = id;
            }

            @Column(name = "name", length = 255, nullable = false)
            public String getName() {
                return this.name;
            }

            public void setName(String name) {
                this.name = name;
            }

            @OneToMany(fetch = FetchType.EAGER, mappedBy = "pk.project")
            @Cascade(value = { CascadeType.ALL })
            public Set<ProjectOrganization> getProjectOrganizations() {
                return this.projectOrganizations;
            }

            public void setProjectOrganizations(Set<ProjectOrganization> organizationProjects) {
                this.projectOrganizations = organizationProjects;
            }

        }

    @Entity
    @Table(name = "projects_has_organizations")
    @AssociationOverrides({ @AssociationOverride(name = "pk.project", joinColumns = @JoinColumn(name = "projects_id")), 
                            @AssociationOverride(name = "pk.organization", joinColumns = @JoinColumn(name = "organizations_id"))
                            })
    public class ProjectOrganization implements Cloneable, Serializable {

        private ProjectOrganizationPK pk = new ProjectOrganizationPK();
        private OrganizationRolesEnum role;

        public ProjectOrganization() {
        }

        @Transient
        public Organization getOrganization() {
            return getPk().getOrganization();
        }

        public void setOrganization(Organization organization) {
            getPk().setOrganization(organization);
        }

        @EmbeddedId
        public ProjectOrganizationPK getPk() {
            return pk;
        }

        public void setPk(ProjectOrganizationPK pk) {
            this.pk = pk;
        }

        @Transient
        public Project getProject() {
            return getPk().getProject();
        }

        public void setProject(Project project) {
            getPk().setProject(project);
        }

        @Enumerated(EnumType.STRING)
        @Column(nullable = false, length = 50)
        public OrganizationRolesEnum getRole() {
            return role;
        }

        public void setRole(OrganizationRolesEnum role) {
            this.role = role;
        }

    }

    @Embeddable
    public class ProjectOrganizationPK implements Cloneable, Serializable {

        /** Generated serial version UID */
        private static final long serialVersionUID = -4534322563105003365L;

        private Organization organization;
        private Project project;

        @ManyToOne
        public Organization getOrganization() {
            return organization;
        }

        public void setOrganization(Organization organization) {
            this.organization = organization;
        }

        @ManyToOne
        public Project getProject() {
            return project;
        }

        public void setProject(Project project) {
            this.project = project;
        }
    }

    @Entity
    @Table(name = "organizations")
    public class Organization implements Cloneable, Serializable {

        private Long id;
        private String name;
        private Set<ProjectOrganization> projectOrganizations = new HashSet<ProjectOrganization>(0);

        public Organization() {
        }

        @Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        @Column(nullable = false)
        @Override
        public Long getId() {
            return this.id;
        }

        public void setId(Long id) {
            this.id = id;
        }

        @Column(name = "name", nullable = false, length = 255)
        @NotNull(message = "A name is required!")
        public String getName() {
            return this.name;
        }

        public void setName(String name) {
            this.name = name;
        }

        @OneToMany(fetch = FetchType.EAGER, mappedBy = "pk.organization")
        public Set<ProjectOrganization> getProjectOrganization() {
            return this.projectOrganizations;
        }

        public void setProjectOrganization(Set<ProjectOrganization> projectOrganizations) {
            this.projectOrganizations = projectOrganizations;
        }
} 
```

我想要的是创建一个标准来选择一个`Project`具有`organization`请求名称的。

```
final Criteria crit = getSession().createCriteria(Project.class);
crit.createCriteria("projectOrganizations", "projectOrganization").
 createAlias("pk.organization", "organization").
  add( Restrictions.like("organization.name", "TEST")); 
```

但是当我运行这段代码时，我有这个错误

> 2012-10-19 10:38:43,095 错误 [org.hibernate.util.JDBCExceptionReporter]“where 子句”中的未知列“organizati2_.name”

而且hibernate生成的sql查询不完整，没有加入projects_has_organizations.organization和organization.id..所以找不到列organization.name

```
SELECT
   ....
FROM
    projects this_
INNER JOIN projects_has_organizations projectorg1_ ON this_.id = projectorg1_.projects_id
WHERE
    projectorg1_.role =?
AND organizati2_. NAME LIKE ?
ORDER BY
    this_.publish_date DESC 
```

这段代码有什么问题？如何使用条件构建查询？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T16:44:40.283

我怀疑问题是由于延迟获取，尝试明确告诉休眠急切地获取您需要的属性。这是通过方法完成的

```
.setFetchMode("propertyName", FetchMode.EAGER) 
```

因此，换句话说，请尝试急切地获取组织属性:)

# java - 无法在更新的 adt 上引用库项目 android

> ID：12970802
> 
> 赞同：5
> 
> 时间：2012-10-19T09:01:44.947
> 
> 标签：java, android, adt

我想将 facebook 库项目集成到我的项目中......

我遵循的步骤：

1.导入facebook库项目

2.检查为isLibrary

* * *

1.导入facebook样例工程

3.新增图书馆项目-facebook

**请帮助解决屏幕截图中描述的问题...**

![在此处输入图像描述](../Images/ab772f9f7d341fecc3727eed5de5254e.png)

**编辑**：问题出在 ADT 20.3 .... 我在 ADT 10.3 中尝试了相同的步骤，它工作正常（这里只做一个更改，而不是导入我创建的项目“从现有源创建新项目”）；

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T21:48:47.380

首先，您需要构建您的库项目，然后才将其作为库添加到主项目中。

# django - 我们如何通过 Phpmyadmin 数据库将数据库从本地同步到 Web 服务器

> ID：12970805
> 
> 赞同：0
> 
> 时间：2012-10-19T09:01:48.957
> 
> 标签：django, database-design, django-models, phpmyadmin

我有一个在我的本地系统上工作的项目。这是一个使用 Phpmyadmin 作为数据库的 django(1.4.1) Python 项目。根据模块的完成，我更新到服务器。有没有办法通过 Phpmyadmin 数据库将数据库从本地同步到服务器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-28T03:14:53.587

是的。你有phpmyadmin 的*同步*功能。

有关详细信息，您可以查看[此链接](http://www.phpmyadmin.net/documentation/Documentation.html#faqsynchronization)

# php - 使用 PHP 通过代理获取 IPAddress？

> ID：12970821
> 
> 赞同：6
> 
> 时间：2012-10-19T09:02:49.303
> 
> 标签：php, ip-address

我对许多 AJAX 调用运行安全检查，以查看我请求的 IP 是否与我记录在案的相同。

我使用以下一组类函数来建立 IP（可以通过负载平衡器来实现，因此方法论很冗长。

```
 private function IPMask_Match ($network, $ip) {
      $ip_arr = explode('/', $network);
      if (count($ip_arr) < 2) {
        $ip_arr = array($ip_arr[0], null);
      }
      $network_long = ip2long($ip_arr[0]);
      $x = ip2long($ip_arr[1]);
      $mask =  long2ip($x) == $ip_arr[1] ? $x : 0xffffffff << (32 - $ip_arr[1]);
      $ip_long = ip2long($ip);
      return ($ip_long & $mask) == ($network_long & $mask);
    }

    private function IPCheck_RFC1918 ($IP) {
      $PrivateIP = false;
      if (!$PrivateIP) {
        $PrivateIP = $this->IPMask_Match('127.0.0.0/8', $IP);
      }
      if (!$PrivateIP) {
        $PrivateIP = $this->IPMask_Match('10.0.0.0/8', $IP);
      }
      if (!$PrivateIP) {
        $PrivateIP = $this->IPMask_Match('172.16.0.0/12', $IP);
      }
      if (!$PrivateIP) {
        $PrivateIP = $this->IPMask_Match('192.168.0.0/16', $IP);
      }
      return $PrivateIP;
    }

    public function getIP () {
      $UsesProxy = (!empty($_SERVER['HTTP_X_FORWARDED_FOR']) || !empty($_SERVER['HTTP_CLIENT_IP'])) ? true : false;
      if ($UsesProxy && !empty($_SERVER['HTTP_CLIENT_IP'])) {
        $UserIP = $_SERVER['HTTP_CLIENT_IP'];
      }
      elseif ($UsesProxy && !empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        $UserIP = $_SERVER['HTTP_X_FORWARDED_FOR'];
        if (strstr($UserIP, ',')) {
          $UserIPArray = explode(',', $UserIP);
          foreach ($UserIPArray as $IPtoCheck) {
            if (!$this->IPCheck_RFC1918($IPtoCheck)) {
              $UserIP = $IPtoCheck;
              break;
            }
          }
          if ($UserIP == $_SERVER['HTTP_X_FORWARDED_FOR']) {
            $UserIP = $_SERVER['REMOTE_ADDR'];
          }
        }
      }
      else{
        $UserIP = $_SERVER['REMOTE_ADDR'];
      }
      return $UserIP;
    } 
```

**问题**是我一直遇到用户通过代理操作的问题。谁能指出为什么会这样？我已经使用基本的免费代理在线尝试和模拟，但它看起来并没有获得可变 IP 或任何东西 - 所以我不确定为什么这会说这两个 IP 不匹配。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T21:16:13.847

不幸的是，问题几乎可以肯定不是代理 - 它几乎可以肯定是一个固定的公共 IP 路由器，通过子网路由流量。

子网可以是巨大的（比如，在大学里）。

即使它是侥幸的一个真正的代理（它们现在很少见 - 10 岁的技术），即使代理自愿转发，它也不会发生任何意义，因为它几乎可以肯定是一个像 192.168 这样的子网 ip。 xx 无论如何.. 这基本上是公共 IP 地址（又名交换机）内部扩展。

您可以交叉手指尝试 php ipv6[在 PHP 中使用 IPv6 地址，](https://stackoverflow.com/questions/444966/working-with-ipv6-addresses-in-php)甚至更聪明地尝试 mac address[如何在 PHP 中获取连接客户端的 MAC 和 IP 地址？](https://stackoverflow.com/questions/1420381/how-can-i-get-the-mac-and-the-ip-address-of-a-connected-client-in-php)但两者都注定要失败。我的直觉是尝试作弊：我敢打赌，最好的方法基本上是使用网络共享作为会话存储，并允许负载平衡的 PHP 服务器全部访问它并通过相同的 dns 前缀执行所有操作。或者也许设置一个 3rd 方 dns 来进行会期聚会。

答案是，除非您像广告代理一样使用“cookies”进行跟踪，否则您无法做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T20:33:39.143

我将首先解释什么是代理，所以我们都在同一页面上。

**什么是代理**

代理通常是代表用户访问互联网的单台计算机，然后代理将结果发送回用户。当可能有数百甚至数千其他人也在使用那台计算机时，就会出现问题 - 他们都具有相同的 IP 地址，但通常标题表明用户是通过代理。

我假设您的脚本（没有正确查看）正在混淆 IP 和标头。

**不同的解决方案**

有个更好的方法。使用会话并在会话中保存一个密钥，确保他们在访问 ajax 页面之前首先访问过主站点。例子：

索引.php

```
session_start();
$_SESSION['ajax_ok'] = true; 
```

ajax/username_check.php

```
session_start();
if (empty($_SESSION['ajax_ok'])) {
    die("You can not access this page...");
} 
```

这将强制他们必须首先访问您的主站点，并且客户端还必须支持大多数浏览器将支持的会话，这有助于防止机器人等滥用您的 ajax 脚本。

比使用上面的代码更可靠、更简单的解决方案 ><

**如果不能使用会话怎么办？**

如果您无法在您所在的特定计算机上使用会话，您可以设置另一台计算机，重写会话处理程序（使用 php 提供的回调），或者不使用文件系统，而是使用数据库之类的其他东西进行会话? 您的网站必须使用一些会话也可以使用的东西。例如，如果您有一个基于负载平衡器文件的会话，通常无论如何都不会工作，所以通常最好将会话更改为使用我上面提到的其他东西。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T13:09:23.637

一位朋友发现了这一点，基本上一些代理可以返回 X_FORWARDED_FOR 作为逗号分隔值或逗号分隔和间隔。

修理：-

后：

```
foreach ($UserIPArray as $IPtoCheck) { 
```

添加这一行：

```
$IPtoCheck = trim($IPtoCheck); 
```

排序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T23:33:48.727

> 问题是我一直遇到用户通过代理操作的问题。谁能指出为什么会这样？我已经使用基本的免费代理在线尝试和模拟，但它看起来并没有获得可变 IP 或任何东西 - 所以我不确定为什么这会说这两个 IP 不匹配。

您的解析代码`HTTP_X_FORWARDED_FOR`在逗号上爆炸，但分隔符可能是“逗号空格”。如果发生这种情况，RFC 1918 检查将失败。虽然有些代理不增加空间，但标准是使用它：

```
http://en.wikipedia.org/wiki/X-Forwarded-For 
```

> 该字段的一般格式为：
> 
> ```
> X-Forwarded-For: client, proxy1, proxy2 
> ```
> 
> 其中值是一个逗号+空格分隔的IP地址列表，最左边的是原始客户端，每个传递请求的连续代理添加它接收请求的IP地址。在此示例中，请求通过了 proxy1、proxy2 和 proxy3（proxy3 显示为请求的远程地址）。

因此，您应该将`explode`分隔符更改为“，”，或者更好，使用`preg_split`“，\s*”作为分隔符并涵盖这两种情况。

然后，您的问题是将在 AJAX 中进行调用的页面验证为 AJAX 调用本身。

如果您不想使用基于 cookie 的会话，这是最好的方法，您可以尝试使用*nonce*执行此操作。也就是说，当您生成页面时，您发出一个唯一 ID 并将其注入 HTML 代码，AJAX 代码将在其中恢复它并将其传递回 AJAX servlet。后者将能够将其添加到 Access-Control-Request 中，如此[处](https://stackoverflow.com/questions/10093053/add-header-in-ajax-request-with-jquery)详述，或者只是向请求中添加更多数据。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-31T20:36:22.127

我想讨论一下您的解决方案是否代表安全性。

$_SERVER['REMOTE_ADDR'] 不能被伪造。它是由网络服务器设置的，因为使用的访问 IP 地址。任何响应都会发送到该地址。

$_SERVER['HTTP_FORWARDED_FOR'] 和 $_SERVER['HTTP_CLIENT_IP'] 很容易被伪造，因为它们是发送到网络服务器的 HTTP 标头 - 如果它被配置为忽略这些标头，您也不知道您正在与代理交谈，也不如果客户决定插入这些标头，您会知道您不是在与代理交谈吗？

基于 IP 地址 FORGED 进行过滤不会真正帮助您，但这在很大程度上取决于您想要实现的目标 - 在您深入了解更多细节之前，这仍然是未知的。

如果您环顾四周，您会偶然发现 Suhosin 补丁和 PHP 扩展，它具有加密会话和 cookie 内容的功能。加密密钥是通过使用一些静态密钥构建的，但添加了诸如 HTTP 用户代理或请求 IP 地址的一部分之类的内容 - 注意：用于实际发出请求的 IP，即如果使用了代理，因为这是只有可靠的信息。

有人可能会争辩说，使用完整的 IP 地址不是一个好主意，除非您知道您的用户不会使用更改 IP 地址的代理集群来处理多个请求，因此通常只会使用一部分 IP，或者根本不使用。

HTTP 用户代理虽然是一个很好的独特信息来源。是的，它可以被伪造，但这并不重要，因为如果你只想允许来自同一来源的请求，那么假设用户代理字符串不会随着时间而改变是有效的，但是对于一个一堆其他用户。因此，有统计数据表明，如果您只查看所有发送的 HTTP 标头，您可以生成一个几乎唯一的浏览器指纹，因为每个用户都安装了不同的扩展来改变某些东西，比如接受内容标头。

我无法提供工作代码，也无法从您的问题中判断此答案是否适用，但我建议不要使用 IP 信息，尤其是在可以伪造的情况下。如果您考虑 IPv6，这甚至更有效，其中每个客户端即使在同一个接口上也有多个活动地址，并且它们都是随机生成的，并且以后不太可能再次出现。（当然，如果您永远不会在 IPv6 上托管，这并不适用，但在某些时候您将失去用户。）

# ubuntu - IIPImage动态水印

> ID：12970822
> 
> 赞同：0
> 
> 时间：2012-10-19T09:02:54.610
> 
> 标签：ubuntu, dynamic, apache2, watermark

任何人都可以为 IIPImage 制作标签吗？[http://iipimage.sourceforge.net/](http://iipimage.sourceforge.net/)

我正在尝试在我的服务器上设置动态水印：IIPImage 使用 Pyramid Tiff Imaging 将图像拆分为图块。动态水印随机在图块上添加水印，为此您必须在 Apache2 Mods-Enabled 目录中的 Server.conf 文件中指定 3 个变量。WATERMARK 与您的水印的位置，WATERMARK_PROBABILITY 多少瓷砖会有水印，即 0.3 = 30%，最后是 WATERMARK_OPACITY 它有多不透明。[http://iipimage.sourceforge.net/documentation/images/#watermarking](http://iipimage.sourceforge.net/documentation/images/#watermarking)这是我的配置：

```
ScriptAlias /fcgi-bin/ "/usr/lib/cgi-bin/"
# Set the options on that directory
<Directory "/fcgi-bin/">
AllowOverride None
Options None
Order allow,deny
Allow from all
</Directory>

# Set the handler
AddHandler fastcgi-script fcg fcgi fpl

# Initialise the FCGI server - set some default values
FastCgiServer /usr/lib/cgi-bin/iipsrv.fcgi \
-initial-env LOGFILE=/var/log/iipsrv.log \
-initial-env VERBOSITY=3 \
-initial-env JPEG_QUALITY=90 \
-initial-env MAX_IMAGE_CACHE_SIZE=10 \
-initial-env MAX_CVT=5000 \
-initial-env WATERMARK=/IIPServer/images/watermark.tif \
-initial-env WATERMARK_PROBABILITY=0.3 \
-initial-env WATERMARK_OPACITY=0.5 \
-initial-env MEMCACHED_SERVERS=localhost 
```

这是我启动后的日志文件：

```
<----------------------------------->
Fri Oct 19 9:53:02 2012

IIPImage Server. Version 0.9.9
*** Ruven Pillay <ruven@users.sourceforge.net> ***

Verbosity level set to 3
Running in FCGI mode

Setting maximum image cache size to 10MB
Setting filesystem prefix to ''
Setting default JPEG quality to 90
Setting maximum CVT size to 5000
Setting 3D file sequence name pattern to '_pyr_'
Loaded watermark image '/IIPServer/images/watermark.tif': setting probability to 0.3 and   opacity to 0.5
Memcached support enabled. Connected to servers: 'localhost' with timeout 86400

Initialisation Complete.
<-----------------------------------> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T12:16:15.030

Okay so the problem was that all the images loaded prior to setting dynamic watermarking were cached in memcache as well as browser cache, clearing those fixed the problem.

# html - 如何仅在表格中水平设置单元格间距

> ID：12970826
> 
> 赞同：8
> 
> 时间：2012-10-19T09:03:23.950
> 
> 标签：html, css, html-table, cellspacing

我想为下面写的表格设置样式。

```
<table border="1"   cellspacing="10">
  <tr>
    <th>Month</th>
    <th>Savings</th>  
  </tr>
  <tr>
    <td>January</td>
    <td>$100</td>
  </tr>
</table> 
```

问题是单元格间距设置单元格之间的空间水平和垂直，我希望它只水平完成。有没有办法做到这一点。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-19T09:19:54.100

使用[`border-spacing`](https://developer.mozilla.org/en-US/docs/CSS/border-spacing)表格上的 CSS 属性。浏览器支持相当好（主要不包括 IE 直到并包括 IE 7）。例子：

```
table { border-spacing: 10px 0; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:06:06.853

试试 CSS

```
table td{

 padding:0px 10px 0px 10px; /* top right bottom left */

 } 
```

# c - 我的链表实现中的段错误

> ID：12970828
> 
> 赞同：1
> 
> 时间：2012-10-19T09:03:27.660
> 
> 标签：c, segmentation-fault

这是我的代码：

```
#include <stdio.h>

typedef struct node_struct {
    int data;
    struct node_struct *next;
} node;

void push(node *top, int data) {
    node *new_node = (node*) malloc(sizeof(node));
    new_node->data = data;
    new_node->next = top;
    top = new_node;
}

int main() {
    node *top = (node*) malloc(sizeof(node));
    top->data = 1;
    printf("Set data of top node to: %d\n", top->data);

    push(top, 2);
    printf("Pushed 2 to top, top->next->data = %d\n", top->next->data);
} 
```

程序在最后一行（`push(top, 2);`）的第 3 行出现段错误，我认为就行了`top = new_node;`

我只是在学习 C（现在的指针）。

我做错什么了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-19T09:07:22.923

这里的问题是您将指针`top`按值传递给元素，然后您尝试在函数内部设置指针，但它只是一个局部变量，对它的更改在函数外部是不可见的。

`top`而是通过引用传递指针，使用指向指针的指针：

```
void push(node **top, int data) {
    node *new_node = malloc(sizeof(node));
    new_node->data = data;
    new_node->next = *top;
    *top = new_node;
}

...

push(&top, 2); 
```

* * *

另一种方法是从函数中返回新的顶部：

```
node *push(node *top, int data) {
    node *new_node = malloc(sizeof(node));
    new_node->data = data;
    new_node->next = top;
    return new_node;
}

...

top = push(top, 2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:08:17.853

指针按值传递给`push`。因此，您所做的更改`top`不会反映在`main`. 如果要更改，请`top`传递指针的地址：

```
#include <stdio.h>

typedef struct node_struct {
    int data;
    struct node_struct *next;
} node;

void push(node **top, int data) {
    node *new_node = (node*) malloc(sizeof(node));
    new_node->data = data;
    new_node->next = *top;
    *top = new_node;
}

int main() {
    node *top = (node*) malloc(sizeof(node));
    top->data = 1;
    printf("Set data of top node to: %d\n", top->data);

    push(&top, 2);
    printf("Pushed 2 to top, top->next->data = %d\n", top->next->data);
} 
```

这是相关的[C-FAQ](http://c-faq.com/ptrs/passptrinit.html)。

# mysql - 使用 JSON 而不是标准化数据，这种方法是否正确？

> ID：12970831
> 
> 赞同：6
> 
> 时间：2012-10-19T09:03:38.510
> 
> 标签：mysql, json, innodb, denormalization

MySQL innoDB 表中都有微博帖子和与之相关的投票/表情符号。需要两种类型的页面：

(A) 包含许多微博的列表页面以及单页上的投票数/表情符号数（例如 25）。

例如

> # 最有趣的帖子
> 
> *在一个有趣的帖子中没有那么有趣的内容。Lorem ipsum dolor sit amet, consectetur adipiscing elit。Phasellus euismod consequat pellentesque。.....阅读更多....*
> 
> (3) 喜欢, (5) 无聊, (7) 微笑

. + 同一页面上还有 24 个帖子。

(B) 包含单个微博的永久链接页面，其中包含详细的投票+投票计数/表情符号。

> # 最有趣的帖子
> 
> *在一个有趣的帖子中没有那么有趣的内容。Lorem ipsum dolor sit amet, consectetur adipiscing elit。Phasellus euismod consequat pellentesque。Quisque viverra adipiscing auctor。Mauris ut diam risus，在发酵菌中。Aliquam urna lectus, egestas sit amet cursus et, auctor ut elit。Nulla tempus suscipit nisi, nec condimentum dui infantum non。在 eget lacus mi, ut placerat nisi。*
> 
> （你、Derp 和另外**1 个**这样）、**(5) 无聊**、**(7) 笑了**

第一种方法：

表格1：

```
post_id | post_content | post_title | creation_time 
```

表#2 用于存储投票、喜欢、表情符号：

```
action_id | post_id | action_type | action_creator | creation_time 
```

显示一页帖子或单个帖子。查询第一个表以获取帖子，第二个查询以获取与帖子相关的所有操作。每当进行投票等时，都会在表中插入一个`post_actions`。

第二种方法：

表格1：

```
post_id | post_content | post_title | creation_time | action_data 
```

哪里`action_data`可以像`{ "likes" : 3,"smiles":4 ...}`

表#2：

```
action_id | post_id | action_type | action_creator | creation_time 
```

要显示一页帖子，**仅查询第一个表**以获取帖子和操作数据，以显示具有详细操作的单个帖子，查询第二个表以获取与帖子相关的所有操作。每当完成投票等操作时，都会在表中进行插入`post_actions`，并更新 table#1 的 action_data 字段以存储更新后的计数。

假设有 10 万个帖子和 10 倍的操作，即创建了 100 万个或更多操作。方法#2 有好处吗？除了必须读取、修改和更新 JSON 信息之外，它还有什么缺点吗？无论如何可以遵循并进一步改进哪种方法＃2？

根据反馈添加更多信息：

1.  Python 脚本将读取、写入数据。
2.  MySQL DB 服务器将不同于 Web 服务器。
3.  由于帖子创建的写入量很低，即每天 10000 次。但是由于动作引起的可能更高，假设由于投票、喜欢、表情等动作，每秒最多写入 50 次。
4.  我担心的是两种方法的读/写性能比较和第二种方法的陷阱，以及将来可能会不足的地方。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T14:55:49.100

我建议要么将所有喜欢/投票数据（聚合和原子）存储在表 1 中并完全丢弃表 2，要么**在**依赖`JOIN`语法、智能查询和良好索引的同时使用 2 个没有聚合数据的表。

为什么？因为否则，当您发表评论/投票/喜欢时，您将一直在查询和**写入两个表。**假设每个帖子有 10 个操作仅用于显示交互，我真的会将它们全部存储到 1 个表中，可能为每种操作创建一个额外的列。您可以使用 JSON 或简单地`serialize()`在数组上使用，这应该会更快一些。

您最终选择哪种解决方案将在很大程度上取决于您获得多少操作以及您希望如何使用它们。使用解决方案 1 可以轻松获取 1 个帖子的所有操作，而且速度非常快，但在内部搜索会很麻烦。另一方面，解决方案 2 占用更多空间、仔细的查询编写和索引。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-27T02:20:56.413

Assuming there are much more reads from the system than writes I can think few ways to do this. You can take advantage of the fact that social networking sites really don't need to have consistent data, only eventually consistent as long as every user sees his/her actions consistently.

**Option #1.**

Add column for each action type in Table#1 and increment them every time new action happens. In this way the main page listing is very fast.

Table#1

```
post_id | post_content | post_title | creation_time | action1_count | action2_count | action3_count | ... 
```

What is cool in this approach is that when viewing permalink you don't need to query all actions for post from table#2\. Just query last 5 any actions and all actions made by the viewer. Check inspiration here: [How to get the latest 2 items per category in one select (with mysql)](https://stackoverflow.com/questions/1091991/how-to-get-the-latest-2-items-per-category-in-one-select-with-mysql)

**Option #2.**

This is like your first approach, but write action counts in the Redis hashset or simply as JSON object to memcache. It's lighting fast to query those on main page load. Drawback is that if redis (and always when memcached) is restarted you need to re-initialize them, or just do it when somebody views page from permalink view.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-28T06:52:33.490

在一切之前，我会说选项 2 源于过早地尝试优化，除非您已经有统计数据表明在列表页面中没有用于查询的连接会提高性能，否则我会坚持使用选项 1。

选项 2 的主要问题是维护，每次您需要更改某些内容时，您都必须在两个地方进行更改，并且为了修复错误或用新字段填充旧记录，在您发布的所有帖子上必须在数据库端（通常）执行字符串操作。

根据我的经验，选项 2 在性能方面的好处将是微乎其微的，查询数据库（至少是这样短的查询）时的大部分延迟将来自连接到远程服务器。

此外，如果您正确抽象查询，在两种方法之间移动（或使用另一种方法，例如缓存最常见的条目）将很容易，首先使用最简单的方法（即选项 1）然后更改当您获得有关当前实施问题的信息时（这不太可能是您现在认为的那样）。

为清楚起见，这里列出了选项 1 的优点和缺点（与选项 2 相反）：

# 选项1

## 优点

*   更快的写入。
*   更容易维护
*   较小的存​​储要求
*   无数据重复

## 缺点

*   列表读取速度较慢。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-28T12:01:25.423

重要的一件事是插入/删除/更新之间的性能差异。插入比删除/更新快得多。因此，我会选择一个最小化删除/更新的解决方案。

表 #1 看起来像第一个选项：
`post_id | post_content | post_title | creation_time`

表 #2 几乎相同，没有`action_id`.
`post_id | action_type | action_creator | creation_time`

表 2 将在 post_id、action_type 和 action_creator 列中具有地图复合索引。

地图复合索引的二阶对于快速查询很重要。因为即使不是索引的所有部分都被使用，索引也会如此。那就是下面的查询可以工作 `select ... from table_2 where post_id = 1 and action_type = 2`
，但下面的查询不会
`select ... from table_2 where post_id = 1 and action_creator = 2`

快速解释一下，要使用地图复合索引，它就像一棵树，您需要使用树中的所有部分。即不查询 post_id 和 action_type 就无法查询“action_creator”来使用索引。

```
-post_id  
    |--action_type  
          |--action_creator 
```

但是，现在您可以进行查询并始终点击复合索引，而且您主要对表#1 和表#2 进行插入。

如果由于大量“操作”而最终得到一个巨大的表 #2，则您可以在将来对 post_id 分区的表进行分区。在您的大部分时间里，您的用户会点击较新的条目，因此您可以“优先考虑”一个具有更快磁盘和数据库中更大内存缓存的分区。或者稍后在数据库前面使用[http://memcached.org/](http://memcached.org/)之类的东西进行优化。

# java - 具有不同类型的 Java 通用对象。

> ID：12970835
> 
> 赞同：0
> 
> 时间：2012-10-19T09:03:57.017
> 
> 标签：java, generics

想象一下有 2 个通用 ArrayList，每个都存储不同的类型。我的程序一次将只使用其中一个 ArrayList。是否可以创建一个可以存储两个 ArrayList 的通用 ArrayList（currentArrayList），并使用两个 ArrayList 而无需强制转换。

```
ArrayList<Integer> arrInt = new ArrayList<>();
arrInt.add(10);
ArrayList<String> arrString = new ArrayList<>();
arrString.add("ten");

ArrayList<XXX> currentArrayList = arrInt;
Integer i = currentArrayList.get(0);

currentArrayList = arrString;
String str = currentArrayList.get(0); 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:08:03.980

问题是您想要的部分：

> 使用两个 ArrayList 而不进行强制转换。

绝对不会发生。静态类型系统的全部意义在于阻止您在没有明确要求的情况下将通用类型视为特定类型。

例如，你可以说：

```
ArrayList<?> currentArrayList = arrInt;
Object i = currentArrayList.get(0); 
```

但请注意，这`i`只是一个`Object`，所以编译器很高兴 - 我们对数组中的东西一无所知，除了它们必须是 -`Object`因为这是一个 Java 程序。但是你想说：

```
ArrayList<?> currentArrayList = arrInt;
Integer i = currentArrayList.get(0); 
```

如果没有演员阵容，第二条线永远不会发生。

**更新**评论中的问题：

> 编译器不能通过查看 arrInt 的泛型类型轻松推断 ArrayList 的类型吗？

假设它为我们做到了。`currentArrayList`当它看到该行时，它应该如何处理类型：

```
currentArrayList = arrString; 
```

您的代码*假设*编译器*不会*进行这种推断。假设您注释掉第二个作业。现在编译器*可以*做出你建议的推断，并允许你的代码编译。但是将来如果您放回第二个作业，其余代码将停止编译！这会造成不必要的混乱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:17:28.920

无论如何，您最终必须确定对象的类型。

我猜你想避免“supresswarning（“casting”）”类型的警告？

如果是的话，这里是：

```
 ArrayList<Object> list = new ArrayList<Object>();
  list.add(1);
  list.add("abc");
  list.add(new Double(3.1415926));
  list.add(true);

  for (Object o : list) {
     // or more accurate
     String type;
     if (o instanceof Integer) {
        type = "int";
        // logic here...
        int i = (Integer) o; // no casting warning
     } else if (o instanceof String) {
        type = "string";
        // logic here...
     }
     // other possibilities if you want
     else { // unmatched
        type = o.getClass().getSimpleName();
     }
     System.out.println(type + ": " + o);
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:05:32.963

误解了这个问题——你到底为什么要这样做？您不是在创建一个新的 ArrayList，您只是在使用没有类型的指针 - 它仍然是相同的 ArrayList！

```
ArrayList<ArrayList<Object>> array = new ArrayList<ArrayList<Object>>();
array.add(new ArrayList<Integer>());
array.add(new ArrayList<String>()); 
```

这应该可以解决问题，因为所有其他可能的对象都将从 Object 继承，因此被接受。

# excel - 如何使用苹果脚本在excel中应用单元格的主题颜色

> ID：12970836
> 
> 赞同：0
> 
> 时间：2012-10-19T09:04:01.877
> 
> 标签：excel, applescript

我正在使用 Apple 脚本。我的问题是，如何将单元格的主题颜色更改为第一个强调主题颜色。

告诉单元格“A1”的内部对象 将颜色索引设置为 5 设置主题颜色 9 结束告诉

在此脚本中设置了颜色索引，但未设置主题颜色。请帮我。我在等你的重播。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T14:18:48.673

尝试：

```
tell application "Microsoft Excel" to set theme color of interior object of cell "A1" to first accent theme color 
```

# python - Python在数组中多次搜索

> ID：12970842
> 
> 赞同：0
> 
> 时间：2012-10-19T09:04:24.553
> 
> 标签：python, arrays, numpy

`idtopick`是一个 id 数组

```
 idtopick=array([50,48,12,125,3458,155,299,6,7,84,58,63,0,8,-1]) 
```

`idtolook`是另一个包含我感兴趣的 id 的数组

```
 idtolook=array([0,8,12,50]) 
```

我想将`idtopick`对应的位置存储在另一个数组中`idtolook`。

这是我的解决方案

```
 positions=array([where(idtopick==dummy)[0][0] for dummy in idtolook]) 
```

导致

```
 array([12, 13,  2,  0]) 
```

它有效，但实际上我正在使用的数组存储数百万个点，因此上述脚本相当慢。我想知道是否有办法让它更快。另外，我想保持顺序，`idtolook`因此任何可以对其进行排序的算法都不适用于我的情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:50:13.700

您可以使用排序：

```
 sorter = np.argsort(idtopick, kind='mergesort') # you need stable sorting
 sorted_ids = idtopick[sorter]
 positions = np.searchsorted(sorted_ids, idtolook)
 positions = sorter[positions] 
```

请注意，尽管`idtolook`. `idtopick`您实际上也可以将 idtolook 排序到结果数组中，这应该更快：

```
 c = np.concatenate((idtopick, idtolook))
 sorter = np.argsort(c, kind='mergesort')
 #reverse = np.argsort(sorter) # The next two lines are this, but faster:
 reverse = np.empty_like(sorter)
 reverse[sorter] = np.arange(len(sorter))
 positions = sorter[reverse[-len(idtolook):]-1] 
```

这与集合操作有相似之处。

# javascript - Ruby on Rails：jQuery datepicker - 验证之间的日期

> ID：12970845
> 
> 赞同：-1
> 
> 时间：2012-10-19T09:04:33.777
> 
> 标签：javascript, jquery, ruby-on-rails, ruby, datepicker

我有一个应用程序，允许用户创建新项目，并在以后搜索它们。他们在创建项目时拥有的选项之一是为他们提供开始和结束日期。目前，所有代码都可以正常创建和搜索日期，但我现在想限制用户可以输入的日期。

当用户尝试输入开始日期之前的结束日期时，我需要标记一个错误。当用户创建项目时，它真的更多。到目前为止，这是我的代码=>

**应用程序.js**

```
//= require jquery
//= require jquery_ujs
//= require jquery-ui
//= require jquery.ui.all
//= require_tree .

$(function() {
  $("#project_start_date").datepicker({dateFormat: 'dd-mm-yy'});
});
$(function() {
  $("#project_end_date").datepicker({dateFormat: 'dd-mm-yy'});
});
jQuery(function(){
jQuery('#start_date_A').datepicker({dateFormat: "dd-mm-yy"});
});
jQuery(function(){

jQuery('#start_date_B').datepicker({dateFormat: "dd-mm-yy"});
}); 
```

**新视图：**

```
<div class="start_date" STYLE="text-align: left;">
    <b>Start Date:</b>
    <%= f.text_field :start_date, :class => 'datepicker', :style => 'width: 80px;' %>
  </div> 

<div class="end_date" STYLE="text-align: left;">
    <b>End Date:</b>
    <%= f.text_field :end_date, :class => 'datepicker', :style => 'width: 80px;' %>
  </div> 
```

**搜索视图：**

```
Start dates between

<%=  text_field_tag :start_date_A, params[:start_date_A], :style => 'width: 80px;' %>

-

<%=  text_field_tag :start_date_B, params[:start_date_B], :style => 'width: 80px;' %></br> 
```

我在 application.js 文件中尝试了以下示例以使其正常工作：

```
$(function() {
$("#project_start_date,#project_end_date").datepicker({dateFormat: 'dd-mm-yy'});
});

jQuery(function(){
jQuery('#start_date_A,#start_date_B').datepicker({dateFormat: "dd-mm-yy"});
}); 
```

但随后脚本没有运行。我是 Rails 和 javascript 的新手，因此非常感谢任何帮助。提前致谢。

**更新**：不知道为什么我的问题被投票关闭。这很简单：

当用户尝试输入开始日期之前的结束日期时，我需要标记一个错误。我怎样才能做到这一点？？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T12:16:07.933

我在使用我的应用程序时没有找到合适的解决方案（需要类似的东西），但是我只是使用 datepicker 来指定用户可以选择日期的范围，如下所示：

```
$( "#datepicker" ).datepicker({ minDate: -20, maxDate: "+1M +10D" }); 
```

这允许用户只选择 minDate 和 maxDate 之间的日期（其余日期显示为灰色）。看看这个[http://jqueryui.com/datepicker/#min-max](http://jqueryui.com/datepicker/#min-max)。希望它有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T19:59:41.493

我把我的验证

```
validate :validate_end_date_after_start_date

def validate_end_date_before_start_date
  if project_end_date && project_start_date
    errors.add(:project_end_date, "Project must begin before it ends") if project_end_date < project_start_date
  end
end 
```

不用担心即时 Jquery 验证

# javascript - Jquery .从同一页面加载并插入不同的ID

> ID：12970847
> 
> 赞同：1
> 
> 时间：2012-10-19T09:04:34.957
> 
> 标签：javascript, jquery

我正在尝试从页面加载 jquery ajax 并希望插入不同的 id

**选项页面**

```
$('#ipc').load('/dashboard/details/options #eventdata1');
$('#cou').load('/dashboard/details/options #eventdata1'); 
```

**HTML 部分**

```
<div id="eventdata1">1</div>
<div id="eventdata2">2</div> 
```

第一个事件加载正常，但萤火虫每次第二次加载时都会显示以下错误

```
"NetworkError: 403 Forbidden - http://localhost/dashboard/details/options" 
```

**更新 1**

当我尝试从不同页面更新 div 时，它可以正常工作

```
$('#ipc').load('/dashboard/details/page1 #eventdata1');
$('#cou').load('/dashboard/details/page2 #eventdata1'); 
```

**更新 2**

```
 $.ajaxSetup ({
    cache: false
}); 
```

将缓存设置为 false，现在它有时可以工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:08:11.063

由于某种原因，禁止访问由 URL 标识的资源。**[资源](http://www.checkupdown.com/status/E403.html)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:09:34.980

```
$('#ipc,#cou').load('/dashboard/details/options #eventdata1'); 
```

如果可行，请尝试同时加载

# c# - .net TcpClient 和 Delphi2010 IdTCPClient 的区别

> ID：12970852
> 
> 赞同：1
> 
> 时间：2012-10-19T09:04:49.807
> 
> 标签：c#, .net, delphi, delphi-2010, tcpclient

我有以下用delphi2010编写的代码：

```
 TCPClient := TidTcpClient.Create;

  TCPClient.Host := '192.168.12.131';
  TCPClient.Port := 1312;

  TCPClient.Connect;

  TCPClient.IOHandler.WriteLn('msg', TEncoding.ASCII);
  answer := TCPClient.IOHandler.ReadLn(TEncoding.ASCII); 
```

这段代码运行良好 - 我得到了答案。

我有以下 C# 代码：

```
var client = new TcpClient();
client.Connect(endpoint);

var stream = client.GetStream();
var msgData = System.Text.Encoding.UTF8.GetBytes("msg");
stream.Write(msgData, 0, msgData.Length);

var answerData = new Byte[256];
var asnwerLength = stream.Read(answerData, 0, answerData.Length); 
```

它没有用 - 请求超时。

这两个部分有什么区别？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:29:35.663

您的 delphi 代码正在编写（从外观上看）一整行 - 可能带有一些行尾字符。也许服务器正在期待那些？

尝试：

```
var client = new TcpClient();
client.Connect(endpoint);

var stream = client.GetStream();
var msgData = System.Text.Encoding.UTF8.GetBytes("msg\r\n"); //Include line ending. Might just need \r or \n by themselves - consult server documentation, if available
stream.Write(msgData, 0, msgData.Length);

var answerData = new Byte[256];
var asnwerLength = stream.Read(answerData, 0, answerData.Length); 
```

此外，您需要记住，`stream.Read`它将返回尽可能多的数据，因为它当前可用 - 这可能少于来自服务器的完整消息，或者可能包括来自服务器的几条消息（部分）。如果要复制该`ReadLn`行为，则需要自己在接收缓冲区中搜索行尾字符。

# linux - Linux中文件描述符的上限

> ID：12970853
> 
> 赞同：14
> 
> 时间：2012-10-19T09:04:51.273
> 
> 标签：linux

可以在任何 Linux 系统（特别是 ubuntu 10.04）中使用的文件描述符的上限是多少？

我使用的是 Ubuntu 10.04（64 位），我的服务器 CPU 架构是 x86_64，客户端是 i686。现在我已经将我的 fd-limit 增加到 400000。

*   使用大号可能会产生什么副作用。文件描述符？
*   我怎么知道没有。任何进程使用的文件描述符？

谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-19T09:12:24.153

您想查看 /proc/sys/fs/file-max 。

从最近的 linux/Documentation/sysctl/fs.txt：

> 文件最大值和文件编号：
> 
> 内核动态分配文件句柄，但它还没有再次释放它们。
> 
> file-max 中的值表示 Linux 内核将分配的最大文件句柄数。当您收到大量有关文件句柄用完的错误消息时，您可能希望增加此限制。
> 
> 历史上，file-nr 中的三个值分别表示分配的文件句柄数、已分配但未使用的文件句柄数和最大文件句柄数。Linux 2.6 总是报告 0 作为空闲文件句柄的数量——这不是错误，它只是意味着分配的文件句柄的数量与使用的文件句柄的数量完全匹配。
> 
> 使用 printk 报告分配比 file-max 更多的文件描述符的尝试，查找“VFS：达到文件最大限制”。

2.6 内核使用经验法则`file-max`根据系统中的内存量进行设置。来自`fs/file_table.c`2.6 内核的片段：

```
/*
 * One file with associated inode and dcache is very roughly 1K.
 * Per default don't use more than 10% of our memory for files. 
 */ 

n = (mempages * (PAGE_SIZE / 1024)) / 10;
files_stat.max_files = max_t(unsigned long, n, NR_FILE); 
```

是的`files_stat.max_files`设置`fs.file-max`。对于每 1MB 的内存，这最终约为 100。（10%）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-19T09:13:41.597

每个文件描述符都会占用一些内核内存，因此在某些时候您会耗尽它。话虽如此，对于使用基于事件（Linux 上的 epoll）服务器架构的服务器部署而言，多达十万个文件描述符并非闻所未闻。所以400k也不是完全不合理。

对于第二个问题，请参见 /proc/PID/fd/ 或 /proc/PID/fdinfo 目录。

# mysql - Google Cloud SQL：无法执行语句

> ID：12970856
> 
> 赞同：7
> 
> 时间：2012-10-19T09:05:00.537
> 
> 标签：mysql, database-performance, google-cloud-sql

我的谷歌云 sql 表目前有 1126571 行，每天至少增加 3 万行。执行查询时：

```
select count(distinct sno) as tot from visits 
```

sql提示会产生如下错误：

```
Error 0: Unable to execute statement 
```

. Cloud SQL Query 是否会出现超过 60 秒的异常。当表变大时如何克服这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-29T20:43:27.433

把桌子分成两张桌子。一个接收新的访问......交易......一个用于报告。索引报告表。定期传输和清除数据。

事务表将保持相对较小，因此计数会很快。由于索引，报表将很快计数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:09:02.360

`INDEX`在您的列中添加一个，`sno`它将提高其性能。

```
ALTER TABLE visits ADD INDEX (sno) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-21T05:19:12.623

尝试将您的 select 查询拆分为多个部分，例如，第一个 select 查询必须限制为 50000，然后第二个 select 查询必须从 50000 开始并限制为 50000 等等。

您可以通过这种情况来做到这一点：

1-获取记录数。

2-制作一个循环并使其在记录数处结束。

3-对于每个循环，使选择查询选择 50000 条记录并将结果附加到数据表（取决于您的编程语言是什么）

4- 在下一个循环中，您必须从上一个循环结束的位置开始选择，例如，第二个查询必须选择接下来的 50000 条记录，依此类推。

您可以通过此 SQL 查询语句指定您的选择起始索引：

```
SELECT * FROM mytable somefield LIMIT 50000 OFFSET 0; 
```

然后，您将获得所需的全部数据。

注意：进行测试以查看在 60 秒内可以加载的最大记录数，这将减少循环，从而提高性能。

# java - 无法从 httpRequest 获取参数

> ID：12970858
> 
> 赞同：1
> 
> 时间：2012-10-19T09:05:08.587
> 
> 标签：java, http, servlets, apache-httpclient-4.x

我想将字符串从客户端传输到 Web 服务器。

客户代码：

```
String uriString = "http://128.128.4.120:8080/GCMService/GCMBroadcast";
URI uri = null;
try {
    uri = new URI(uriString);
} catch (URISyntaxException e) {
    e.printStackTrace();
}
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpPut httpPut = null;
if(uri!=null)
httpPut = new HttpPut(uri);
HttpParams params = new BasicHttpParams();
params.setParameter("mymsg", "HELLO SERVER");
httpClient.setParams(params);
HttpResponse resp = httpClient.execute(httpPut); 
```

服务器代码：

```
@Override
protected void doPut(HttpServletRequest req, HttpServletResponse resp)
throws ServletException, IOException {      
    System.out.println(req.getParameter("mymsg"));

} 
```

每次客户端请求 httpPut 时，服务器的控制台都会打印“null”，我希望应该是“HELLO SERVER”。这是如何引起的，我该如何解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T11:18:42.487

```
String uriString = "http://128.128.4.120:8080/GCMService/GCMBroadcast";
URIBuilder uriBuilder = new URIBuilder(uriString);
uriBuilder.addParameter("mymsg", "HELLO SERVER");
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpPut httpPut = new HttpPut(uriBuilder.build());
HttpResponse resp = httpClient.execute(httpPut); 
```

# php - 如何对数组的结果（按名称）进行排序？

> ID：12970859
> 
> 赞同：0
> 
> 时间：2012-10-19T09:05:09.657
> 
> 标签：php, arrays, wordpress, sorting

我正在使用哪个代码返回匹配 2 个值的分类法。

一切正常，但我不知道如何排序我的结果。现在它们以某种固定顺序显示，可能日期不确定。我试图让它们按字母顺序显示（按名称）..

我的 php 模板中的代码粘贴在这里[http://pastie.org/5083124](http://pastie.org/5083124)

我说的数组是这个

```
<?php
    foreach ( $all_terms as $all_term) {
    //print_r($all_terms);

        $tax_test = get_option('woo_categories_panel_taxonomies_'.$all_term->taxonomy);

            $post_images = array();
            $posts_aray = array();
            $parent_id = $all_term->term_taxonomy_id;
            $term_name = $all_term->name;
            $term_parent = $all_term->parent;
            $term_slug = $all_term->slug;
            $term_id = $all_term->term_id;
            $term_link = get_term_link( $all_term, $all_term->taxonomy );
            $counter_value = $all_term->count;

            ?>
            <div class="childListings">
                <div class="block">
                    <a href="<?php echo $term_link; ?>">
                        <?php
                            $block_counter++;
                         ?>
                    </a>

                    <h2><a href="<?php echo $term_link; ?>"><?php echo $term_name ?> <br/><span>(<?php echo $counter_value; ?> Solicitors)</span></a></h2>

                </div><!-- /.block -->
            </div><!-- /.child Listings-->
            <?php

            if ( $block_counter % 6 == 0 ) {
            ?>
                <div class="fix"></div>
            <?php
            } // End IF Statement   

        // End IF Statement

        ?>
        <?php

    } // End For Loop

?> 
```

我已经使用 $args 和 ksort 查看了一些不同的选项，但我有点迷失了，似乎无法在网站的前端得到我的结果以按字母顺序排序。

任何人都可以在我的代码中确定我如何能够让我的结果具有排序顺序吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:18:22.107

当您查询数据库时，您可以通过稍早排序来避免在 PHP 中进行排序。这应该更快。

改变：

```
$all_terms = $wpdb->get_results("SELECT *  FROM ipt1y7_term_taxonomy,ipt1y7_terms WHERE ipt1y7_term_taxonomy.parent='{$ex[2]}' AND ipt1y7_term_taxonomy.term_id=ipt1y7_terms.term_id"); 
```

...到：

```
$all_terms = $wpdb->get_results("SELECT *  FROM ipt1y7_term_taxonomy,ipt1y7_terms WHERE ipt1y7_term_taxonomy.parent='{$ex[2]}' AND ipt1y7_term_taxonomy.term_id=ipt1y7_terms.term_id ORDER BY ipt1y7_terms.name"); 
```

即只需添加`ORDER BY name`到您的原始查询。结果将按名称排序返回，无需您在 PHP 中进一步执行任何操作，排序将在数据库服务器上进行。WordPress 数据库表`terms`在列上有索引`name`，所以这应该很快；有效地为您预先分类数据。（请参阅[WP 数据库架构](http://codex.wordpress.org/Database_Description#Table%3a_wp_terms)[中的表描述`terms`](http://codex.wordpress.org/Database_Description#Table%3a_wp_terms)。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:08:13.087

[查看http://php.net/manual/en/function.sort.php](http://php.net/manual/en/function.sort.php)中的示例

```
$fruits = array("lemon", "orange", "banana", "apple");
sort($fruits);
foreach ($fruits as $key => $val) {
    echo "fruits[" . $key . "] = " . $val . "\n";
} 
```

上面的示例将输出：

```
fruits[0] = apple
fruits[1] = banana
fruits[2] = lemon
fruits[3] = orange 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:12:56.847

这可以使用[usort](http://php.net/usort)和您自己的比较函数：

```
<?php

/**
 * For a bit of testing.
 */
$all_terms = array( );
$names = array( 'foo', 'baz', 'bar', 'qux', 'aaa' );
foreach( $names as $name ) {
    $tmp = new stdClass();
    $tmp->name = $name;
    $all_terms[] = $tmp;
}

/**
 * Here, we do the sorting:
 */
usort( $all_terms, function( $a, $b ) {
    if( $a->name === $b->name ) {
        return 0;
    }
    return ( $a->name < $b->name ) ? -1 : 1;
});

/**
 * And the results:
 */
var_dump( $all_terms ); 
```

# c# - 插入查询优化 - SQL Server

> ID：12970866
> 
> 赞同：0
> 
> 时间：2012-10-19T09:05:32.433
> 
> 标签：c#, sql, sql-server

我正在使用 ASP.NET MVC3 应用程序，并且我有一个用于巴士旅程的数据库表，其中列出了它们的开始和结束日期以及运营日期。下面是一个片段：

```
JourneyID   StartDate   EndDate     Monday  Tuesday Wednesday   etc
676         02 Jan 2012 01 Mar 2012 True    False   True        etc
696         02 Jan 2012 01 Mar 2012 False   False   True        etc
650         02 Jan 2012 25 Mar 2012 True    True    True        etc 
```

因此，如果 2012 年 1 月 2 日的日期是星期一，并且 Monday 设置为 true，那么当天会有一段旅程。

我正在尝试将它们插入到它们运行的​​每一天的新表行中，这样就变成了：

```
JourneyID   Date
676         02 Jan 2012
676         04 Jan 2012
696         04 Jan 2012
650         02 Jan 2012
650         03 Jan 2012 
```

当前在系统上执行此操作的查询非常慢 - 它在 t-sql 中使用嵌套的 while 循环。C# 中也有一个版本，但速度稍慢 - 尽管它确实使用了类似的过程（它使用嵌套循环过程，然后保存要插入到通用列表中的项目，然后批量插入它们）

当前使用的过程循环遍历每个旅程，并且在每个旅程中，循环遍历开始日期和结束日期之间的每个日期，以检查它落在哪一天以及该日期是否设置为 true。这可能需要很长时间才能执行。

谁能想到一种更有效的方法来执行此插入？它目前每小时可以循环约 100,000 次行程，但可能有数百万次行程，因此可能需要很长时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:39:24.250

实际上，您是在取消透视，然后进行过滤。

```
;with cte as
(
    select JourneyID, StartDate,EndDate,Days
    from yourtable s unpivot (active for days in (Monday, tuesday, wednesday, ...)) u
    where active = 1
)
    select JourneyID, JourneyDate
    from (
        select 
            DATEADD(D, number, (Select MIN(startdate) from cte)) as JourneyDate
        from master..spt_values 
        where type='p' 
        and number < (select datediff(d,MIN(StartDate),max(enddate)) from cte)
    ) numbers
        cross join cte
    where 
        days = datename(weekday, JourneyDate) 
        and JourneyDatebetween StartDate and EndDate
    order by JourneyDate, JourneyID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:56:53.820

创建一个日历表并加入它。星期几是你的表设置的一个有点棘手的原因（布尔星期一，星期二等）。如果您将游览运行的天数标准化并提取到子表中，这将容易得多。

通过这样的设置，您可以编写如下查询：

```
INSERT INTO NewTable (Journey, Date)
SELECT J.JourneyId, C.Date FROM Journey J
INNER JOIN JourneyWeekdays JW ON J.Id = JW.JourneyId
INNER JOIN Calendar C ON (C.Date BETWEEN JT.StartDate AND JT.EndDate) AND C.DayOfWeek = JW.DayOfWeek 
```

通过适当的索引，这应该会产生良好的性能。

# c - 如何将输出重定向到控制台窗口？

> ID：12970868
> 
> 赞同：0
> 
> 时间：2012-10-19T09:05:37.333
> 
> 标签：c, file-handling

我编写简单的控制台函数并使用 freopen 将 printf 语句重定向到文件。是否可以“关闭”文件的输出，并且稍后在代码中将 printf 输出重定向回控制台窗口？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:10:00.643

`fprintf`让您打印到特定的文件流。例如，

```
fprintf(stdout, "message"); 
```

print`message`在标准输出（控制台）中，所以...如您所见，`printf`只是`fprintf`.

我希望这会有所帮助。

# c# - C# 获取作为 List 一部分的 float[,] 中的条目

> ID：12970869
> 
> 赞同：-1
> 
> 时间：2012-10-19T09:05:38.180
> 
> 标签：c#, arrays, list

我有一个二维浮点数组列表：

```
List<float[,]> nodes = new List<float[,]>(); 
```

我做了一些事情，最后得到了我想使用的 float[,] 的从零开始的索引（例如，第三个数组为 2）

现在我想从这个数组中获取一个值。我认为它可能会像

```
float foo = nodes[selectedIndex][0,0] 
```

在节点 [selectedIndex] 处获取数组中的元素 [0,0]。我应该说什么？不工作。刚刚工作结束

```
float[,] tmp = nodes[selectedIndex];
float foo = tmp[0,0]; 
```

据我所知，我需要为数组分配内存两次（一次在列表中，一次在 tmp 中）只是为了获得一个值。这不可能吧，我希望？！难道没有捷径可以达到这个值吗？

希望你能帮我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:17:14.120

```
float foo = nodes[selectedIndex][0,0] 
```

将按原样工作得很好，它只是智能感知，无法接受它。

此外，在为`tmp`您分配值时，不会分配任何大量内存，tmp 变量只是指向实际数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:12:51.670

这有效：

```
float foo = (nodes[selectedIndex])[0,0]; 
```

但也有效：

```
 List<float[,]> nodes = new List<float[,]>();
            float[,] fl = new float[2, 2];
            fl[0, 0] = 2.2f;
            nodes.Add(fl);
            float foo = nodes[0][0, 0]; 
```

也许您没有实例化浮点数组？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:13:06.403

此代码有效且有效。问题一定是别的。也许没有`nodes`索引为的条目`selectedIndex`？

* * *

一个小样本来证明语法是正确的：

```
List<float[,]> nodes = new List<float[,]>();
nodes.Add(new float[2,2]{{1,2},{3,4}});
float foo = nodes[0][0,0]; 
```

现场观看：http: [//ideone.com/R2Drh](http://ideone.com/R2Drh)

# java - 为什么谷歌应用引擎抛出持久性异常

> ID：12970880
> 
> 赞同：0
> 
> 时间：2012-10-19T09:06:49.853
> 
> 标签：java, google-app-engine, web-applications

我正在 Google 应用引擎上使用 java 编写一个 Web 应用程序。一切正常，因为我已经多次部署和运行该应用程序。在我将 jdk 7 更新为更新 6（具有较低版本的 jdk 7）并部署它后，我开始收到 500 Http 响应代码（内部服务器错误）。当我检查日志时：

```
 Uncaught exception from servlet
javax.persistence.PersistenceException: Provider error. Provider: org.datanucleus.store.appengine.jpa.DatastorePersistenceProvider 
    at javax.persistence.Persistence.createFactory(Persistence.java:176)
at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:112)
at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:66) 
```

我正在使用 jpa datanucleus 版本 1，因为我需要对导致一些不兼容问题的球衣框架的支持。我不知道是什么导致了这个问题，因为自上次部署以来我没有更改代码中的任何内容。请帮忙！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T16:26:07.787

我的问题是由我对 jdk 所做的更新引起的。我将其降级为 jdk 6，将项目编译器版本更改为 1.6，重新编译、部署并解决了问题。

# android - 为最低 sdk 运行默认 AVD

> ID：12970882
> 
> 赞同：-2
> 
> 时间：2012-10-19T09:06:54.510
> 
> 标签：android

我的应用程序的 min sdk 是 2.1 和 max sdk - 4.1 ，如果我运行它总是启动 4.0 的模拟器。如果它在 2.1 中工作，为什么它运行最低 sdk= 2.1 bcos 的模拟器，然后在所有情况下工作。我怎样才能让它为我的应用程序设置的最低/最小 sdk 运行模拟器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:10:07.930

在 Eclipse 中转到 Window -> AVD Manager -> New 并设置您的模拟器选项，然后在此模拟器上运行您的应用程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:21:58.533

我认为使最低 sdk 模拟器默认的最佳方法是设置应用程序的 SDK 最小版本。在模拟器 sdk 版本（如前所述）之下，它将启动最低的 sdk 模拟器。

# svn - 版本 SVN 客户端，检出到现有目录

> ID：12970893
> 
> 赞同：1
> 
> 时间：2012-10-19T09:07:49.360
> 
> 标签：svn

我不知道如何使用适用于 OSX 的版本 SVN 客户端将项目签出到现有文件夹。

该程序似乎要求我指定一个新的文件夹名称，所以我不能只选择一个预先存在的文件夹名称。

有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-18T16:57:45.723

这不是 OS X 特定的：只需使用 --force 标志，例如：

```
svn co --force [SVN path] 
```

但只有当您确定结帐不会损害您现有的文件时才这样做！

# python - 如何用 Python 处理 JSON？

> ID：12970896
> 
> 赞同：-1
> 
> 时间：2012-10-19T09:07:50.407
> 
> 标签：python, json

我对 Python 很陌生。我有一个这样的 JSON 响应：

```
{
  "Code" : "Success",
  "LastUpdated" : "2012-10-19T08:52:10Z",
} 
```

我需要得到 的值`Code`，即`Success`。我怎样才能在 Python 中做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:09:53.747

`json`在[文档](http://docs.python.org/library/)中搜索。您将找到解释[的 json 模块](http://docs.python.org/library/json.html)，并附有示例。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-19T09:12:35.797

```
import json
# ... you read here from the file
data = '''{
  "Code" : "Success",
  "LastUpdated" : "2012-10-19T08:52:10Z"
}'''
result = json.loads(data)
print result['Code'] 
```

注意格式！！我在 之后删除了逗号`"LastUpdated" : "2012-10-19T08:52:10Z"`，因为这不是有效的 json。

# python - 你能给我解释一下这个递归的“n选择k”代码吗？

> ID：12970897
> 
> 赞同：13
> 
> 时间：2012-10-19T09:07:56.580
> 
> 标签：python, recursion

这是带有参数 n 和 k 的子集问题的代码。n 代表学生总数，k 代表我想从 n 中获得的学生数量。该代码试图给出从 n 名学生中抽取 k 名学生的可能组合数。

```
def subset(n, k): 
    if k == 0:
        return 1
    if n == k:
        return 1
    else:
        return subset(n-1, k-1) + subset(n-1, k) 
```

我理解递归调用的第一部分，但我无法理解 + subset(n-1, k) 部分。谁能给我解释一下？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-10-20T11:19:21.937

递归是基于一个简单的观察，为此我将给出一个组合论证，说明为什么它是正确的，而不是通过公式进行数学证明。

每当您从 中选择`k`元素时`n`，都有两种情况：

1.  你选择元素`#n`
2.  你不选择元素`#n`

由于这些事件是互斥的，因此组合的总数由选择时的组合数量`#n`和不选择时的组合数量给出`#n`。

## 选择元素`#n`

由于我们已经选择了一个元素，我们只需要选择另一个`k-1`元素。此外，由于我们已经决定了一个元素——是否包含它——我们只需要考虑剩余的`n-1`元素。

因此，选择元素的组合数量`#n`由下式给出

```
 subset(n - 1, k - 1) 
```

## 不选择元素`#n`

仍然有`k`元素可供选择，但由于我们已经决定了 element `#n`，因此只有`n - 1`元素可供选择。因此：

```
 subset(n - 1, k) 
```

## 基本情况

递归使用了这样一个事实，即我们通常可以区分两种情况，即元素`n`是该解决方案的一部分的解决方案，以及元素不是该解决方案的一部分的解决方案。

然而，这样的区别并不总是可以做出：

*   选择所有元素时（对应`n == k`于下面代码中的大小写）
*   或者根本不选择任何元素时（对应`k == 0`于下面代码中的大小写）

在这些情况下，只有一种解决方案，因此

```
if k == 0:
    return 1
if n == k:
    return 1 
```

## 确保它有效

要做到这一点，我们需要说服自己（或证明）基本情况总是在某个时候被击中。

让我们假设，`n < k`在某个时候。由于根据我们的假设，`n`最初大于或等于`k`，因此*一定*有某个点`n = k`，因为`n`和`k`一致减少或仅`n`减少 1，即它遵循

这意味着，必须有一个要求`subset(n - 1, k)`它发生，`n`低于`k`。但是，这是不可能的，因为我们有一个`n = k`返回常量的基本情况`1`。

我们得出结论，要么`n`在某个点上减少，要么`n = k`一致地减少，精确`k`到这样`k = 0`。

因此，基本情况有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:18:31.133

这更像是一个数学问题，而不是一个编程问题。你正在做的是计算二项式系数，公式是

```
(n, k) = (n-1, k-1) + (n-1, k) with all (n, 0) and (n, n) having a value of 1. 
```

请[在此处](http://en.wikipedia.org/wiki/Binomial_coefficient)查看完整说明。可以在[这里](http://en.wikipedia.org/wiki/Binomial_coefficient#Recursive_formula)看到递归解决方案。如果提到的链接失效，只需使用谷歌搜索它。我怀疑你会比阅读维基百科上的这篇文章后得到更好的解释。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-03-21T18:53:15.797

代码片段：

```
if k == 0:
    return 1
if n == k:
    return 1 
```

使用两个组合事实：

```
nC0 = 1
nCn = 1 
```

作为基本情况。

接下来，进行递归调用：

```
return subset(n-1, k-1) + subset(n-1, k) 
```

直接将以下事实转化为代码：

```
nCr = (n-1)C(k-1) + (n-1)Ck 
```

如果您难以理解上述等式如何成立，请继续阅读：在 nCr 中，我们从 n 中选择 r 项。如果我们考虑任何特定项目，这些选择可以分为两个互斥的类别：

*   **项目出现在 r 个选定项目中**

    在这种情况下，我们必须从剩余的 n-1 项中选择剩余的 r-1 项。这可以在 (n-1)C(k-1) 中完成。

*   **项目没有出现在 r 个选择的项目中**

    在这种情况下，我们必须从剩余的 n-1 项中选择所有 r 项，这可以以 (n-1)Ck 种方式完成。

正如我已经说过的，我们将这两个相加，这两个类是互斥的，因此一起形成了从 n 中选择 r 项的全部方式。

# php - php中的数组数据放置

> ID：12970899
> 
> 赞同：-1
> 
> 时间：2012-10-19T09:08:07.527
> 
> 标签：php, arrays, if-statement

如何在 phpp 中排列数组数据，使其可以匹配 2 个或更多值？

例如：users.php

```
$USERS["username1"] = "password1"; 
```

直接.php

```
include("users.php");

$user = $_POST['user'];
$pass = $_POST['pass'];

if ($USERS[$user]==$pass) { 

echo "welcome";
} 
```

所以在 $USERS 数组中，如果用户输入，该值将满足 if 语句

“用户名1”和“密码1”

我想要做的是允许“username1”与其他值配对

```
 $USERS["username1"] = "password1" , "password3" , "password109"; 
```

即使用户输入了这 3 个中的任何一个

```
"password1" , "password3" , "password109" 
```

它将满足 if 语句是否有这样做？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:10:29.787

我猜你需要的是[in_array()](http://php.net/in_array)

```
$users['username1'] = array('password1','password3','azeadnfksfn');

if (in_array($password,$users[$user])) {
    echo 'Welcome';
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:12:35.007

您可以为此使用[in_array](http://php.net/manual/en/function.in-array.php)。`$USERS["username1"]`with passwords 应该是一个数组，然后你可以这样做：

```
include("users.php");

$USERS["username1"] = array("password1" , "password3" , "password109");

$user = $_POST['user'];
$pass = $_POST['pass'];

if (in_array($pass,$USERS["username1"])) { 

   echo "welcome";
} 
```

# image - 2个图像之间的联合直方图

> ID：12970901
> 
> 赞同：1
> 
> 时间：2012-10-19T09:08:09.820
> 
> 标签：image, opencv, histogram

想问一下是否有人有或可以指出一个快速实现计算两个图像之间的联合直方图的函数？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T13:17:24.013

联合直方图还是累积直方图？对于后者，[`calcHist`](http://docs.opencv.org/modules/imgproc/doc/histograms.html?highlight=calchist#calchist)将累积标志设置为 true 将完成这项工作。

对于第一种情况，阅读[此链接](http://tech.groups.yahoo.com/group/OpenCV/message/68690)可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-30T07:24:16.177

计算多个图像之间的联合直方图也可以直接使用 cv2.calcHist() 进行。诀窍是在联合直方图中传递您想要的图像数组。然后，您必须选择应该在直方图中结束的通道。[此处](http://docs.opencv.org/modules/imgproc/doc/histograms.html?highlight=calchist#cv2.calcHist)描述了频道编号。

这是一个简短的 Python 示例代码，用于计算 im1 和 im2 之间的联合直方图：

```
im1 = cv2.imread(im1_path, cv2.CV_LOAD_IMAGE_GRAYSCALE)
im2 = cv2.imread(im2_path, cv2.CV_LOAD_IMAGE_GRAYSCALE)
h = cv2.calcHist( [im1, im2], [0, 1], None, [256, 256], [0, 256, 0, 256] ) 
```

# objective-c - AVAudioSession - 减少 iOS 后台音量让位给效果

> ID：12970908
> 
> 赞同：0
> 
> 时间：2012-10-19T09:08:30.887
> 
> 标签：objective-c, ios, avaudiosession

当我尝试关闭环境音乐（例如音乐播放器或 Spotify）以获得音效时，我看到显示屏出现延迟。我正在使用 AudioServicesPlaySystemSound 来播放效果本身。我使用以下命令开始会话并在后台播放音乐。

```
[audioSession setCategory:AVAudioSessionCategoryAmbient error:nil]; 
```

然后我将类别设置为播放以停止音乐为我的效果让路

```
 [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil]; 
```

并使用以下内容重新启动音乐

```
[[AVAudioSession sharedInstance] setActive:NO withOptions:AVAudioSessionSetActiveOptionNotifyOthersOnDeactivation error:nil]; 
```

这感觉很愚蠢，并且 setCategory:AVAudioSessionCategoryPlayback 在音量消失时会在显示中产生延迟。

静音背景音乐的正确方法是什么？

谢谢，史蒂夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-23T12:54:42.357

首先，我不确定您为什么将类别设置为`AVAudioSessionCategoryPlayback`. 除非您真的需要在静音关闭/手机锁定的情况下继续播放音效，否则您可能应该选择`AVAudioSessionCategorySoloAmbient`它，这也会使背景声音静音。播放完音效后，您可以切换回环境音。

如果您确实需要播放（因为您有闹钟或其他东西），您可能会考虑立即切换到播放类别，然后设置`kAudioSessionProperty_OverrideCategoryMixWithOthers`属性以使背景声音仍在播放，然后如果您希望静音则将其关闭但是您首先应该确保确实需要播放类别。

或者，您是否考虑过只是降低背景声音而不是静音？也许您可以留在环境类别，并在`kAudioSessionProperty_OtherMixableAudioShouldDuck`播放效果时设置音频会话属性（然后将其重置）。这意味着当您执行效果时，背景声音的音量会降低，这可能更可取，具体取决于您的应用程序正在做什么。

最后但同样重要的是，我从未使用过`AudioServicesPlaySystemSound`，它可能不适用于混音或闪避，因此您可能需要切换到`AVAudioPlayer`.

# python - 如何为没有标准库的 Python 安装标准库？

> ID：12970909
> 
> 赞同：0
> 
> 时间：2012-10-19T09:08:33.807
> 
> 标签：python, python-2.7

我有一个安装了 Python 2.7 的系统，但没有安装标准库等`minidom`。我想这是一个损坏的安装。如何解决该问题并单独安装该 Python 的标准库？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:18:07.530

我认为你应该完全卸载 python，然后重新安装一个完整的包版本。标准库自带安装包，很难分开。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T10:15:24.793

如果您在 Linux 上，请尝试

```
sudo apt-get install python 
```

然后双击 [tab]，显示大多数可供下载的 python 库。否则你可以尝试重新安装python

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-19T10:53:49.440

所有这些库都是用 python 自动安装的，可能在安装时应该有问题你可以试试这个 sudo apt-get update 我不确定。如果这不能解决您的问题，更好的方法是完全卸载 python 并重新安装它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-19T09:23:09.623

（因为是标准库，所以应该是python自带的，所以不需要显式下载）

尝试像这样导入：

> 从 xml.dom 导入 minidom

或者

> 导入 xml.dom.minidom

# python - 字谜搜索的改进

> ID：12970910
> 
> 赞同：3
> 
> 时间：2012-10-19T09:08:40.963
> 
> 标签：python, python-3.x

我的问题是是否可以改进此代码，以便可以更快地在整个 word_list.txt 文件中搜索我定义的单词列表中的单词。有人告诉我，有一种方法可以通过将文件放入适当的数据结构中对所有 14 个单词进行一次迭代来完成此操作。

```
word_list = ['serve','rival','lovely','caveat','devote',\
         'irving','livery','selves','latvian','saviour',\
         'observe','octavian','dovetail','Levantine']

def sorted_word(word):
    """This return the sorted word"""
    list_chars = list(word)
    list_chars.sort()
    word_sort = ''.join(list_chars)
    return word_sort

print("Please wait for a few moment...")
print()

#Create a empty dictionary to store our word and the anagrams
dictionary = {}
for words in word_list:
    value = [] #Create an empty list for values for the key
    individual_word_string = words.lower()

    for word in open ('word_list.txt'):
        word1 = word.strip().lower() #Use for comparing

        #When sorted words are the same, update the dictionary        
        if sorted_word(individual_word_string) == sorted_word(word1):
            if word1[0] == 'v':
                value.append(word.strip()) #Print original word in word_list
                tempDict = {individual_word_string:value}
                dictionary.update(tempDict)

#Print dictionary
for key,value in dictionary.items():
    print("{:<10} = {:<}".format(key,value)) 
```

由于新用户限制，我无法发布我的结果图片。顺便说一句，结果应该为每个单词打印出以 v 开头的字谜。将很高兴为改进此代码提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:48:16.837

如果您有足够的内存，您可以尝试将值存储到字典中，然后对其执行哈希搜索（非常快）。这样做的好处是您可以腌制它以在将来再次使用它（创建字典的过程很慢，查找速度很快）。如果你有非常大的数据集，你可能想使用 map reduce，我建议 disco-project 是一个不错的 python/erlang 框架。

```
word_list = ['serve','rival','lovely','caveat','devote',\
         'irving','livery','selves','latvian','saviour',\
         'observe','octavian','dovetail','Levantine']

print("Please wait for a few moment...")
print()

anagrams = {}

for word in open ('word_list.txt'):
    word = word.strip().lower() #Use for comparing
    key = tuple(sorted(word))
    anagrams[key] = anagrams.get(key,[]) + [word]

for word in word_list:
    print "%s -> %s" % (word.lower(),aragrams[tuple(sorted(word.lower()))]) 
```

# objective-c - 导航栏应该贴在顶部

> ID：12970911
> 
> 赞同：0
> 
> 时间：2012-10-19T09:08:48.640
> 
> 标签：objective-c, uitableview, uinavigationbar

当我将带有 Interface Builder 的导航栏添加到 Table View Controller 时，它会在用户滚动时移动。**是否可以将导航栏设为静态？**

对于静态，我的意思是它粘在应用程序的顶部，当用户滚动时，单元格是唯一移动的东西。我通过在导航控制器中嵌入表视图控制器来完成这项工作，但这不是我的应用程序的最佳解决方案，因为它增加了其他错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:11:06.987

你能做的，创造一个`UIViewController`比在它的视野中平淡无奇的地方`UINavigationBar`。在`UINavigationBar`a 位置下`UITableView`，现在当您移动 tableview 时，栏将留在原位。

# java - 如何在 Android 模拟器中运行 Java 文件

> ID：12970912
> 
> 赞同：-2
> 
> 时间：2012-10-19T09:08:50.910
> 
> 标签：java, android

我在 Eclipse indigo 3.7.2 中创建了一个 android 项目。项目运行成功。现在我添加了一个名为 test.java 的新 java 类文件，其内容如下

```
public class test
{
       public static void main(String[] args)
       {
           System.out.println("Hello World");
       }
} 
```

请告诉我如何运行这个文件android模拟器

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:11:45.947

Android 不公开该`classic Java Main`方法。它依赖于`Activity`（旧的 Applet 概念）的概念及其生命周期。您应该阅读有关的[文档](http://developer.android.com/reference/android/app/Activity.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:14:35.460

你不能做这个。当你编译一个 java 源文件时，它首先被编译成一个 .class 文件，它是 Java 字节码。之后，类文件再次被编译成 .dex 文件，这是 Dalvik 虚拟机可以运行的 Dalvik 字节码。然后将此 .dex 文件压缩为 .apk 文件，该文件是包含所有应用程序数据的存档。[你可以在这里](http://www.itbusinessedge.com/)阅读更多关于它的信息。

Source[如何在我的 Android Emulator 上编译 java 文件？](https://stackoverflow.com/questions/8863424/how-can-i-compile-a-java-file-on-my-android-emulator). 最初由 Stefan Bossbaly 回答。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:20:40.170

首先，甚至 android 也是基于 java 的，但并非所有的 java 类和平台都在 android 中受支持（如 Java ME 类、AWT 或 Swing）

在您的情况下，您尝试使用 java.lang 包 using

```
System.out.println("Hello World"); 
```

默认的 java 输出流，如 System.out 或 System.err 不会显示任何 android 开发人员鼓励使用 log 并在 log cat 中查看它

而且我认为您还需要了解android平台的整个概念（什么是android res，assets，layout等）

在您的情况下，您想显示一个 hello world，这意味着您需要创建一个 textview（您可以从 java 文件或 xml 文件创建它）并将 textview 设置为“hello world”

如果你想学习android请看这个页面->http://developer.android.com/index.html

对于教程，您可以在互联网上搜索它，网络上有很多 android 教程

# sql - 如何从 ADO 查询中获取记录数？

> ID：12970913
> 
> 赞同：4
> 
> 时间：2012-10-19T09:08:54.247
> 
> 标签：sql, sql-server-2008, delphi, delphi-2009

> **可能重复：**
> [如何在处理期间查看查询执行的进度？](https://stackoverflow.com/questions/4237112/how-to-see-progress-of-query-execution-during-handle)

我想显示一个进度条，指示从数据库中获取结果需要多长时间。

我`TADOQuery`在异步模式下使用并打开它。当查询状态为`stFetching`时，有没有办法知道[获取的记录数/总记录数]？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:12:08.287

[`OnFetchProgress`](http://docwiki.embarcadero.com/Libraries/XE2/en/Data.Win.ADODB.TCustomADODataSet.OnFetchProgress)为事件编写一个处理程序。从参考：

> 编写 OnFetchProgress 事件处理程序以在异步数据检索操作期间执行特定操作。OnFetchProgress 事件在数据检索期间定期触发以指示其进度。为此事件创建一个处理程序以响应此定期通知，例如为用户提供数据检索进度的可视指示。

请注意，`MaxProgress`将传递给`OnFetchProgress`事件的值是*最佳猜测*值。从[如何使用 ADO FetchProgress 和 FetchComplete 事件](http://support.microsoft.com/kb/262311)：

> MaxProgress 不等于将返回的实际记录数。ADO 必须获取记录才能获得该值。这意味着 MaxProgress 只是一个最好的猜测。MaxProgress 通常等于 Progress 加上 Background Fetch Size。

[您可以在打开查询之前向 Diego 的回答](https://stackoverflow.com/a/12971055/243614)`Select Count() ..`中提到的数据库发出 a以获取将被检索的确切记录总数，但这并不总是可取的，因为它可能会导致冗余表扫描和复杂查询的大量执行时间.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:15:59.607

不要认为你可以预测未来:)

在加载之前，向数据库提交一个计数以了解将加载多少条记录。

构建批次和每个批次的负载，比较批次大小 * 批次数量与记录总数。

# php - 页面 ID 数组中的下一个/上一个页面

> ID：12970914
> 
> 赞同：1
> 
> 时间：2012-10-19T09:09:00.593
> 
> 标签：php, wordpress

我有一组页面 ID，我需要使用它们来创建一个简单的下一页/上一页菜单。

您可以在下面看到我到目前为止汇总的内容。

我意识到我什至离这里都不近...

```
 <?php
        $pagelist = array(0,1358,226,1394,1402,1468,0);

        $prevID = prev($pagelist);
        $nextID = next($pagelist);
    ?>

    <div class="navigation">
        <?php if ($prevID != 0) { ?>
        <div class="alignleft">
            <a href="<?php echo get_permalink($prevID); ?>" title="<?php echo get_the_title($prevID); ?>">Previous</a>
        </div>
        <?php } ?>
        <?php if ($nextID != 0) { ?>
        <div class="alignright">
            <a href="<?php echo get_permalink($nextID); ?>" title="<?php echo get_the_title($nextID); ?>">Next</a>
        </div>
        <?php } ?>
    </div><!-- .navigation --> 
```

我想我需要在使用此功能的某个时候使用当前页面 ID

```
<?php the_ID(); ?> 
```

有人可以帮我指出正确的方向吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:37:53.090

assuming that your URL contain id parameter :

```
<?php
        $pagelist = array(0,1358,226,1394,1402,1468,0);

        $currentIndex = array_search($_GET['id'], $pagelist); // $_GET['id'] may be replace by your the_ID() function

        $prevID = $currentIndex - 1 < 0 ? $pagelist[0] : $pagelist[$currentIndex - 1];
        $nextID = $currentIndex + 1 > count($pagelist)-1 ? $pagelist[count($pagelist)-1] : $pagelist[$currentIndex + 1];
    ?>

    <div class="navigation">
        <?php if ($prevID != 0) { ?>
        <div class="alignleft">
            <a href="<?php echo get_permalink($prevID); ?>" title="<?php echo get_the_title($prevID); ?>">Previous</a>
        </div>
        <?php } ?>
        <?php if ($nextID != 0) { ?>
        <div class="alignright">
            <a href="<?php echo get_permalink($nextID); ?>" title="<?php echo get_the_title($nextID); ?>">Next</a>
        </div>
        <?php } ?>
    </div><!-- .navigation --> 
```

Hope this solution may help you

# sql-server - 无法从 WCF 服务连接到 SQL Server，但我可以从 Management Studio

> ID：12970916
> 
> 赞同：0
> 
> 时间：2012-10-19T09:09:03.433
> 
> 标签：sql-server, wcf, sql-server-2008, iis-6, database-connection

我正在尝试使用以下连接字符串将 IIS6 上的 .NET Framework 4.0 WCF REST 服务连接到 SQL Server 2008 R2 数据库：

```
<add name="EReportEntities" 
     connectionString="metadata=res://*/EReportModel.csdl|res://*/EReportModel.ssdl|res://*/EReportModel.msl;provider=System.Data.SqlClient;provider connection string=&quot;Server=localhost;Database=ADM;User Id=sa;Password=XXXXXXXX;multipleactiveresultsets=True;App=EntityFramework&quot;" 
     providerName="System.Data.EntityClient" /> 
```

但我不能。我得到：

```
Event Type: Failure Audit
Event Source:   MSSQLSERVER
Event Category: (4)
Event ID:   18456
Date:       10/19/2012
Time:       10:47:48 AM
User:       N/A
Computer:   UNILEVER
Description:
Login failed for user 'sa'. [CLIENT: <local machine>]

For more information, see Help and Support Center at http://go.microsoft.com/fwlink/events.asp.
Data:
0000: 18 48 00 00 0e 00 00 00   .H......
0008: 09 00 00 00 55 00 4e 00   ....U.N.
0010: 49 00 4c 00 45 00 56 00   I.L.E.V.
0018: 45 00 52 00 00 00 07 00   E.R.....
0020: 00 00 6d 00 61 00 73 00   ..m.a.s.
0028: 74 00 65 00 72 00 00 00   t.e.r... 
```

但是，如果我使用 sa 用户登录 SQL Server Management Studio，我可以登录。

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-04-28T07:36:12.153

鉴于您的连接字符串指向`localhost`.

```
connectionString="metadata=res://*/EReportModel.csdl|res://*/EReportModel.ssdl|res://*/EReportModel.msl;
provider=System.Data.SqlClient;
provider connection string=&quot;Server=localhost;
Database=ADM;
. . . 
```

我经常建议将您的 WCF 服务包装在一个`try..catch`.，如果出现问题，将连接字符串附加到错误消息中，以检查您的服务*是否*使用了正确的连接字符串。

（我曾经`web.config`包含多个连接字符串，但我的实体框架/LINQ to SQL 决定使用错误的连接字符串。这将查明这种情况。）

例如，对于一个简单的 WCF 服务，我将使用以下代码：

```
public List<wsCustomer> GetAllCustomers()
{
    NorthwindDataContext dc = null;
    try
    {
        dc = new NorthwindDataContext();
        List<wsCustomer> results = new List<wsCustomer>();
        foreach (Customer cust in dc.Customers)
        {
            results.Add(new wsCustomer()
            {
                CustomerID = cust.CustomerID,
                CompanyName = cust.CompanyName,
                City = cust.City
            });
        }
        return results;
    }
    catch (Exception ex)
    {
        OutgoingWebResponseContext response = WebOperationContext.Current.OutgoingResponse;
        response.StatusCode = System.Net.HttpStatusCode.InternalServerError;
        response.StatusDescription = ex.Message.Replace("\r\n", "") + "  " + dc.Connection.ConnectionString;
        return null;
    }
} 
```

使用此代码，如果出现问题，您可以看到 SQL Server 错误以及它尝试使用的服务器/数据库。

[![错误信息](../Images/a4cc8087ea0b409ade90aa29ee2f5c44.png)](https://i.stack.imgur.com/4C4IT.png)

更多详细信息： [WCF 部署和故障排除](http://mikesknowledgebase.com/pages/Services/WebServices-Page5.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:13:11.903

尝试在[http://www.connectionstrings.com/sql-server-2008使用其他连接字符串变体](http://www.connectionstrings.com/sql-server-2008)

# java - Java：程序无法连接时的调用方法

> ID：12970922
> 
> 赞同：2
> 
> 时间：2012-10-19T09:09:19.117
> 
> 标签：java, database

我们正在用 java 创建一个消息发送程序，该程序连接到在特定服务器上运行的现有服务。

它经常检查它是否可以从服务器的 url 发送和接收数据。

如果连接是活动的，程序可以将消息发送到 url 并将它们记录到数据库中，直到收到对该消息的响应。

但是一旦连接丢失，应该清除数据库中的所有消息，因为对方也会清除接收到的消息。

对此有何建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:10:49.250

我猜当连接丢失时你会得到一个异常。您应该捕获该异常，并且在异常中您可以清除您的消息

# linq - 如何返回所有子对象 - 我无法让 SelectMany 工作

> ID：12970924
> 
> 赞同：1
> 
> 时间：2012-10-19T09:09:23.977
> 
> 标签：linq

我有一堂课

```
 public class Foo
    {
       public IList<Foo> Items { get; set; }
    }

    public class FooList
    {
       public IList<Foo> Items { get; set; }
    } 
```

我希望能够在一个列表中获取所有 Foo 对象，而不是层次结构。

我试过了

```
 IEnumerable<Foo> result = Items.SelectMany(f =>  f.Items); 
```

但这只是让我获得了该特定对象中的项目 - 它并没有获得所有子对象中的所有项目。

我也试过

```
 IEnumerable<Foo> result = Items.SelectMany(t => t) 
```

但我得到了错误：

> 无法从用法中推断方法“System.Linq.Enumerable.SelectMany(System.Collections.Generic.IEnumerable, System.Func>)”的类型参数。尝试明确指定类型参数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:26:50.510

假设您有一个`FooList`名为的实例`fooList`：

您需要在`FooList`类中定义这样的方法：

```
public IEnumerable<Foo> GetRecursiveFoos()
{
    return Items.Concat(Items.SelectMany(x => x.Items));
} 
```

然后打电话

```
IEnumerable<Foo> result = fooList.GetRecursiveFoos(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:33:16.483

在更一般的情况下可以使用类似“flatten-this-tree”的 LINQ 函数是相当容易的：

```
public static IEnumerable<T> Flatten<T>(
    this IEnumerable<T> source,
    Func<T, IEnumerable<T>> childSelector)
{
    HashSet<T> added = new HashSet<T>();
    Queue<T> queue = new Queue<T>();
    foreach(T t in source)
        if (added.Add(t))
            queue.Enqueue(t);
    while (queue.Count > 0)
    {
        T current = queue.Dequeue();
        yield return current;
        if (current != null)
        {
            IEnumerable<T> children = childSelector(current);
            if (children != null)
                foreach(T t in childSelector(current))
                    if (added.Add(t))
                        queue.Enqueue(t);
        }
    }
} 
```

然后如果你有一个`FooList`，你可以使用

```
var allFoos = myFooList.Items.Flatten(foo => foo.Items); 
```

获取`Foo`列表中的所有 s，以及他们的所有孩子和他们所有*的*孩子和......

# c# - iText 嵌入字体失败

> ID：12970930
> 
> 赞同：0
> 
> 时间：2012-10-19T09:09:34.997
> 
> 标签：c#, pdf, itext

我有一个从 pdf 模板创建 pdf 的函数。该模板包含 6 行文本。

其中 5 行的字体应为“Myriad Pro”。这工作正常。另一行（“名称”）应为“TheSerif”字体。我们通过合法供应商购买了这种字体。这条线似乎不起作用。该函数不会引发错误，但在输出 PDF 中该行不可读。

我对两种字体都使用相同的程序，所以我不知道为什么第二种字体不起作用。

```
 BaseFont Myriad = null;
  BaseFont TheSerif = null;

  Myriad = BaseFont.CreateFont("D:\\Drukwerk\\MYRIADPRO-REGULAR.OTF", BaseFont.WINANSI, BaseFont.EMBEDDED);
  TheSerif = BaseFont.CreateFont("D:\\Drukwerk\\TSer6C__.pfm", BaseFont.WINANSI, BaseFont.EMBEDDED);

  pdfFormFields.SetFieldProperty("name", "textfont",TheSerif , null); 
  pdfFormFields.SetFieldProperty("Function", "textfont",Myriad, null);
  pdfFormFields.SetFieldProperty("telephone", "textfont",Myriad, null);  
  pdfFormFields.SetFieldProperty("mobile", "textfont",Myriad, null);  
  pdfFormFields.SetFieldProperty("fax", "textfont",Myriad, null);    
  pdfFormFields.SetFieldProperty("emailadres", "textfont",Myriad, null); 
```

编辑：我将字体创建更改为以下

```
TheSerif = BaseFont.CreateFont("D:\\Drukwerk\\TSer6C__.pfm", 
                                BaseFont.WINANSI,
                                BaseFont.EMBEDDED, 
                                true, 
                                FileToByteArray("D:\\Drukwerk\\TSer6C__.afm"), 
                                FileToByteArray("D:\\Drukwerk\\TSer6C__.pfb")); 
```

该函数将 pfb 和 afm 文件作为参数。我现在收到以下错误：“不是有效的 .pfm 文件”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T10:24:03.187

PFM 文件是用于 postscript 字体的字体度量文件（Printer Font Metric）。该文件不包含任何字符绘制命令。

PFM 文件通常与包含字形图的 PFB 或 PFA 文件一起使用，这是您应该使用的文件。

# python - 在 Factory Boy 的对象工厂中重写模型 @property

> ID：12970932
> 
> 赞同：6
> 
> 时间：2012-10-19T09:09:42.273
> 
> 标签：python, django, unit-testing, factory-boy

我想找到一种使用 Factory Boy 正确测试我的代码的方法。

有一个模型，像这样：

```
from django.db import models

class MyModel(models.Model):
    param1 = <some field>
    param1 = <some field>
    param1 = <some field>

    @property
    def is_smth(self):
        <some complicated code that returns boolean> 
```

这个模型有一个工厂：

```
import factory

class MyModelFactory(factory.DjangoModelFactory):
    param1 = <some value>
    param2 = <some value>
    param3 = <some value>

    # And here i need to "rewrite" property of the model
    # so that it would always return true 
```

任何人都可以帮助我吗？我没有在工厂男孩的文档中找到关于此的提及，而且我尝试过的各种变体似乎都不起作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-12-02T18:04:35.817

正如 Suganthi 所说，您可以使用模拟。

但我提供了另一种解决方案：

```
 @classmethod
 def _create(cls, model_class, *args, **kwargs):   
     with mock.patch('MyModel.is_smth',
                     new_callable=mock.PropertyMock) as m:
         m.return_value = True
         return super()._create(model_class, *args, **kwargs) 
```

只是在生成模型期间模拟属性。它适用于`factoryboy==2.5.2`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-04T09:08:10.737

您是否尝试过使用模拟？

```
def test_is_smith(self):
    mymodel = MyModel()
    with mock.patch('MyModel.is_smith', new_callable=mock.PropertyMock) as mocked_model:
        mocked_model.return_value = True
        self.assertTrue(mymodel.is_smith) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-20T20:03:05.453

@StasEvseev 的建议在我们的案例中不起作用。我最终利用了 Factory Boy 的[post_generation](http://factoryboy.readthedocs.io/en/latest/reference.html#post-generation-hooks)钩子，因为我们的属性是根据其他模型/数据计算值。因此，构建所需的数据`@is_smth`将使其在调用该属性时按预期运行/评估：

```
class MyModelFactory(factory.DjangoModelFactory):
    ...

    @factory.post_generation
    def prepare_data_for_is_smth(self, create, extracted, **kwargs):
       # Populate/build here the models/fields needed for your
       # <some complicated code that returns boolean>. 
```

创建工厂实例后执行后生成挂钩。`extracted`您可以通过使用和`kwargs`参数来进一步自定义钩子的行为，这些参数使用`ATTR__SUBATTR`格式（例如`MyModelFactory(foo__bar=SOME_VALUE)`.

# java - 拦截会话创建spring mvc

> ID：12970933
> 
> 赞同：2
> 
> 时间：2012-10-19T09:09:42.610
> 
> 标签：java, spring-mvc

我试图在我的视图中有一些对象，但我不想在我的控制器的每个方法中重复/包含代码，所以我想把这个对象放在一个会话中。

这样它就可以在视图中使用，并且我不会重复代码。

所以我的问题是如何拦截表单创建并为每个创建的会话设置一些对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:27:39.303

当您想让某些数据/对象可用于所有控制器方法时，最好将其放在控制器方法级别的模型中（使用@ModelAttribute）。下面的例子：

```
@Controller
public class MyController{

    @ModelAttribute
    public void getEmpRoles(Model model) {
        List<String> roles = myservice.loadEmpRoles();
        model.addAttribute(roles);
    }

    @RequestMapping(...)
    public String m1(Model model){
        // You roles model is available here
    }
} 
```

请参阅此处的 spring doc (http://bit.ly/JCutg2) 以了解有关方法级别 @ModelAttribute 的更多信息

# php - 如何在 Wordpress 中添加条件浏览器类？

> ID：12970935
> 
> 赞同：0
> 
> 时间：2012-10-19T09:09:47.297
> 
> 标签：php, wordpress, browser, cross-browser

我注意到 Wordpress 网站的`<html>`标签中有与浏览器检测相关的类（如果我使用 Firefox，html 标签会有一个 .firefox 类，甚至是一个版本检测到的 .firefox16 类，等等）。例如，[http://achristmasstorythemusical.com](http://achristmasstorythemusical.com)。这是默认的 Wordpress 功能，`body_class()`还是我必须创建一个？我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-20T16:00:50.533

不幸的是，我没有发现默认的 Wordpress 浏览器检测类和功能。[有提供浏览器检测的插件](http://wordpress.org/extend/plugins/php-browser-detection/)。[但是，我在此处](http://snipplr.com/view/25531/)查看代码片段时找到了一个简单的答案。我只是修改了代码以返回一些基本的浏览器并将其添加到我的 functions.php 文件中。

```
//return a conditional browser string
function browser_detect(){
    $iphone = stripos($_SERVER['HTTP_USER_AGENT'],"iPhone");
    $firefox = stripos($_SERVER['HTTP_USER_AGENT'],"Firefox");
    $safari = stripos($_SERVER['HTTP_USER_AGENT'],"Safari");
    $ie = stripos($_SERVER['HTTP_USER_AGENT'],"MSIE");
    $opera = stripos($_SERVER['HTTP_USER_AGENT'],"Opera");
    $chrome = stripos($_SERVER['HTTP_USER_AGENT'],"Chrome");
    //detecting device 
    if ($iphone == true){
                echo "iphone";
    }
    elseif($firefox == true){
                echo "firefox";
    }
    elseif($ie == true){
                echo "explorer";
    }
    elseif($chrome == true){
                echo "chrome";
    }
    elseif($safari == true){
                echo "safari";
    }
    elseif($opera == true){
                echo "opera";
    }
    else{
        echo "unknown";
    }
}; 
```

然后，我将该函数添加到我的 html 标记中。

```
<html class="<?php browser_detect(); ?>"> 
```

这将返回我作为类使用的浏览器的名称。就我的直接目的而言，这就足够了。我希望你觉得这个答案有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:17:12.743

它可能是[Modernizr](http://modernizr.com/)。如果包含它，它会根据浏览器的功能等注入这些类。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T13:58:28.630

检查加载的脚本时，它看起来像一个 Typekit 插件。

# php - iis rewritecond 用 php 配置

> ID：12970937
> 
> 赞同：0
> 
> 时间：2012-10-19T09:09:54.153
> 
> 标签：php, .htaccess, iis, rewrite

我使用 IIs6 作为我的网络服务器这是我的重写规则

```
RewriteBase /
RewriteCond %{REQUEST_FILENAME} \.(html|htm|php|php2|php3|php4|php5|phtml|pwml|inc|asp|aspx|ascx|jsp|cfm|cfc|pl|cgi|shtml|shtm|phtm)$
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?$1 [L] 
```

问题是 '%{REQUEST_FILENAME} !-f' 似乎不起作用，当我请求 http://somesite/shopadmin/index.php 之类的 url 时，它仍然重写并跳转到访问 http://somesite/index .php?xxx ,

如何解决问题？

我尝试了很多次，它看起来像'REQUEST_FILENAME'参数不同，因为它在apache中工作？

任何帮助将不胜感激。

# web-applications - 将 Pentaho 报表设计器与 Web 应用程序项目集成

> ID：12970938
> 
> 赞同：1
> 
> 时间：2012-10-19T09:09:56.107
> 
> 标签：web-applications, struts2, pentaho

我在 Web 应用程序中需要生成少量报告。该报告将包括图像、表格等。我的 Web 应用程序是基于 Struts 2.X 框架构建的。

我选择 Pentaho BI 来生成报告。谁能指导我如何将 Pentaho BI OR 报告集成到我的 Web 应用程序中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T14:02:43.697

这是 Pentaho 嵌入指南的链接。它包含执行此操作的说明。

[http://infocenter.pentaho.com/help/index.jsp?topic=%2Freporting_embedders_guide%2Ftopic_introduction.html](http://infocenter.pentaho.com/help/index.jsp?topic=%2Freporting_embedders_guide%2Ftopic_introduction.html)

# php - ActiveMQ + Stomp，读取一条消息，但其中四个出队

> ID：12970940
> 
> 赞同：1
> 
> 时间：2012-10-19T09:09:56.900
> 
> 标签：php, queue, activemq, stomp

当我使用 Stomp 从 AMQ 读取一条消息时，我得到 3 或 4 条消息出队，不知道为什么。

填充 AMQ 的代码：

```
public function populate($queue, $c = 10) {

    for($i = 0; $i < $c; $i++) {
        $this->stomp->send($queue,' Random populated:'.rand(0, PHP_INT_MAX));
    }

} 
```

![填充后的 ActiveMQ 队列](../Images/5a915ab0abf75ea6a7330524af216050.png) ![填充后的 ActiveMQ 消息](../Images/a018b95ca8745b1ccce0f99ee0dac7ef.png)

读取 AMQ 的代码：

```
public function read($queue = null) {

    if(is_null($queue)) {
        if(!$this->isSubscribed()) {
            return false;
        }
    } else {
        $this->subscribe($queue);
    }

    return $this->stomp->readFrame();

} 
```

踩下 readFrame() 代码：

```
public function readFrame ()
{
    if (!$this->hasFrameToRead()) {
        return false;
    }

    $rb = 1024;
    $data = '';
    $end = false;

    do {
        $read = fread($this->_socket, $rb);
        if ($read === false) {
            $this->_reconnect();
            return $this->readFrame();
        }
        $data .= $read;
        if (strpos($data, "\x00") !== false) {
            $end = true;
            $data = rtrim($data, "\n");
        }
        $len = strlen($data);
    } while ($len < 2 || $end == false);

    list ($header, $body) = explode("\n\n", $data, 2);
    $header = explode("\n", $header);
    $headers = array();
    $command = null;
    foreach ($header as $v) {
        if (isset($command)) {
            list ($name, $value) = explode(':', $v, 2);
            $headers[$name] = $value;
        } else {
            $command = $v;
        }
    }
    $frame = new StompFrame($command, $headers, trim($body));
    if (isset($frame->headers['transformation']) && $frame->headers['transformation'] == 'jms-map-json') {
        require_once 'Stomp/Message/Map.php';
        return new StompMessageMap($frame);
    } else {
        return $frame;
    }
    return $frame;
} 
```

我 100% 确定代码只执行一次，但结果是： ![读取一条消息后的 ActiveMQ 队列](../Images/1dcb8b501ea3160a58618bfd93b60437.png) ![读取一条消息后的 ActiveMQ 消息](../Images/35db03102379bb9190761d6ccc3ca6b1.png)

Var_dumped 消息：

```
object(StompFrame)[4]
public 'command' => string 'MESSAGE' (length=7)
public 'headers' => 
array (size=5)
  'message-id' => string 'ID:**********_-49723-1350635513276-2:1:-1:1:1' (length=45)
  'destination' => string '/queue/test' (length=11)
  'timestamp' => string '1350635842968' (length=13)
  'expires' => string '0' (length=1)
  'priority' => string '4' (length=1)
public 'body' => string 'Random populated:1859256320' (length=27) 
```

有谁知道这种行为的原因是什么？

注意事项：

*   没有消息确认，因此甚至一条消息都不应该出队：|
*   ACK 处于客户端模式
*   预取大小设置为 1

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T10:15:21.427

我没有看到您连接代码，但我假设您正在使用 Auto Ack 模式进行连接。在具有 Auto Ack 模式的 STOMP 中，消息一旦到达线路就会被确认，并且由于我还假设您没有更改预取大小，因此代理将向您发送一批消息，以便您从套接字和更多可以发送更多将出列。如果您想对消息消费进行更细粒度的控制，您应该使用另一种 ack 模式，例如客户端 ack 并在每条消息到达时对其进行确认。您还可以为订阅设置预取窗口，以减少批量发送到客户端的消息数量。

有关 AMQ STOMP 配置选项，请参阅此[页面](http://activemq.apache.org/stomp.html)。您可能还想再次查看 STOMP 规范。

# php - 将 ~1kk 字符文本保存到 MySQL

> ID：12970943
> 
> 赞同：2
> 
> 时间：2012-10-19T09:10:08.203
> 
> 标签：php, mysql, apache, post, config

在远程服务器上，我将 textarea 中的文本（967 537 个字符）保存到 MySQL 数据库，列类型为 TEXT。

只保存了大约 63 748 个字符。

此外，在 phpMyAdmin 中执行 UPDATE 时出现以下错误：

```
Warning: #1265 Data truncated for column 'content' at row 1 
```

由于我自己无权更改配置文件，因此最好在我请求之前知道应该更改什么来解决此问题。

版本：

```
PHP 5.2.14
MySQL 5.0.96
Apache 2.2.12 
```

MySQL 配置：

```
max_allowed_packet = 52428800
net_buffer_length = 8192 
```

PHP 初始化：

```
post_max_size = 32M 
```

阿帕奇：

```
suhosin.post.max_value_length = 1000000 
```

在本地主机上，一切正常。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:16:49.763

使用`MEDIUMTEXT`还是`LONGTEXT`正常的`TEXT`。`MEDIUMTEXT`可以包含 16,777,215 字节，大约 16MB，`LONGTEXT`可以包含 4,294,967,295 字节，因此大约 4GB。

`LONGTEXT`可能有点大，所以我想`MEDIUMTEXT`就足够了。

**编辑：**

我突然想到：如果您有多个页面需要一直显示，那么有比数据库更好（更快）的东西。您可以将其生成为纯 HTML 文件（如果只是这样，甚至可以是 TXT），并在您需要的时间和地点包含它。这样您就不会让数据库占用大量空间。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-19T09:17:05.737

您应该检查类型字段限制：

[http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html](http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html)

TEXT 类型的最大长度 < 2^16 (65536)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-19T09:32:05.257

类型`TEXT`太小（如您所见，它最多只能容纳 64K 左右）。您可以使用`MEDIUMTEXT`达到 16M，或`LONGTEXT`获得更多。考虑到存储要求（每行一个额外的字节），如果存在超过 16M 的最小风险，请使用`LONGTEXT`.

但我认为您应该质疑为什么将数据存储在数据库中。除非是平台的间接要求（例如，使用 ORM 更容易，而文件存储需要临时列数据驱动程序），或者您想使用全文索引功能，否则存储可能更方便数据作为单独的文件，仅将文件名存储在数据库中（或者您可以将`tablename_primarykeyvalue.html`其用作文件名，从而也节省了文件名存储要求）。

“分离存储”方法使数据检索和备份变得复杂。另一方面，备份会更小更快，磁盘使用率会更低，如果您的安全模型允许，您可以允许完全绕过数据库直接访问文件：例如，如果您正在存储博客文章，您可以通过 AJAX 检索它们，减少数据库负载并利用浏览器缓存策略（此外，在某些平台上，您可以直接提供压缩文件，从而提高速度并节省 CPU）。

这篇文章[非常大的字段对 MySQL 数据库有负面影响吗？](https://stackoverflow.com/questions/11182652/do-very-large-fields-have-a-negative-effect-on-mysql-databases)提倡 MySQL TEXT 存储，但也提出了一些关于为什么你可能不想要的考虑。

## 更新

> 在本地主机上，一切正常。

*危险，威尔罗宾逊！*`localhost`除非**您的开发和生产数据库不同步**，否则它无法运行。即，您`MEDIUMTEXT`在本地主机`TEXT`上和远程上都有。所以问题是，*这两个数据库之间还有什么不同*？虽然与您的问题无关，但您*肯定*要检查它！

# ios - Git Restkit 子模块 .xcodeproj 一直在修改

> ID：12970945
> 
> 赞同：1
> 
> 时间：2012-10-19T09:10:15.380
> 
> 标签：ios, git, restkit, git-submodules

我没有对子模块进行更改，并且每次我合并或提交时都会出现问题。

有没有办法忽略它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T17:03:43.683

我不是`XCode`项目专家；但据我了解，此文件夹包含重要文件（请参阅此处[https://stackoverflow.com/a/6120152/1031900](https://stackoverflow.com/a/6120152/1031900)）。

1.  但是，如果您知道自己在做什么，并且想忽略对 的更改`RestKit.xcodeproj`，请执行此操作

    `git update-index --assume-unchanged $(git ls-files RestKit.xcodeproj | tr '\n' ' ')`
    [在这里](https://stackoverflow.com/a/12288918/1031900) 更好地解释

2.  您也可以只将文件夹添加到`.gitignore`，但提交时不要使用`-a`switch. 将文件夹添加到`.gitignore`文件（在基本 git 文件夹中，如果它不存在，则创建它）通过以下行完成：

    `RestKit.xcodeproj/`

3.  如果您想完全停止跟踪文件夹，请执行以下操作：

    `git rm -r RestKit.xcodeproj``.gitignore`然后，如上所述 将文件夹添加到文件中。

您可能可以在[Git 忽略文件中为 Xcode 项目提供一些有用的信息](https://stackoverflow.com/q/49478/1031900)

希望我有所帮助。

# javascript - this.bla 与 Object.prototype.bla 有什么区别

> ID：12970946
> 
> 赞同：3
> 
> 时间：2012-10-19T09:10:25.230
> 
> 标签：javascript, function, this, prototype

假设我有这个代码：

```
(function(global) {
    function Bar(foo) {
        this.foo = foo;
        return this;
    }

    Bar.prototype.getFoo = function() {
        return this.foo;
    };

    Bar.prototype.setFoo = function(val) {
        return (this.foo = val);
    };
})(this); 
```

`setFoo`像这样创建函数和像这样创建函数有什么区别`prototype`：

```
function Bar(foo) {
    this.getFoo = function() {
        return this.foo;
    };
} 
```

我知道原型是什么以及它的含义，我只是想不通，为什么有些人用原型分配函数，因为如果我用这个分配它们，每次我创建一个新的 Bar 实例时它们也将可用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:23:05.507

## 快速回答 = 功能共享 + 更小的内存占用

当您使用`prototype.functionName`所有实例时**共享相同的函数**（内存中只有一个副本），但如果您`this.functionName`在构造函数中使用，每个实例都有**自己的相同函数的副本**（在内存中多次存在）。

使用`prototype`有两个含义：

1.  内存占用 - 如前所述
2.  原型上的后续功能更改会反映在所有现有（当然还有未来）实例上 - 很少有人愿意这样做，但它可以使用

## 高级 - 你可以同时拥有

您也可以同时拥有这两种情况，在这种情况下，*本地*副本优先于原型，这意味着您可以执行以下操作：

```
function Crazy(name)
{
    this.name = name;
    this.callMe = function() {
        return "Where are you " + this.name;
    };
}

Crazy.prototype.callMe = function() {
    return this.name + " come here";
};

var inst = new Crazy("Robert");
inst.callMe(); // "Where are you Robert"
delete inst.callMe;
inst.callMe(); // "Robert come here" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:22:39.563

当您使用`prototype`时，功能是**共享**的，当您将功能分配给时`this`，它们不是。相反，每个实例都有*自己的函数* **副本**。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:36:17.797

旁白：

对于原型继承，自己的属性和继承的属性之间存在根本区别。

有时这可能非常相关。

经常使用的经典 for 循环，仅检查“自己的属性”，采用以下形式：

```
for (prop in array) {
if (array.hasOwnProperty(prop)) {
      dostuff
} 
```

分配给 时`this`，所有属性都是自己的属性，从而使 hasOwnProperty 检查无关紧要。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T09:13:38.977

如果您有多个“类”实例（松散地使用该术语），它们都共享相同的原型。所以附加的东西更轻，它保证它们都有相同的版本（如果这是你想要的）。

将其视为实例字段与类字段。

原型也可以链接起来以允许字段的“继承”。

# c# - 将下拉列表值添加到数据库，哪些项目从页面加载功能添加

> ID：12970947
> 
> 赞同：1
> 
> 时间：2012-10-19T09:10:24.833
> 
> 标签：c#, asp.net

```
protected void Page_Load(object sender, EventArgs e)
{
    //skipped
    foreach(pair item in al)  
    {           
        pid.Items.Add(new ListItem(item.getTitle(), item.getId()));

    }  

}

protected void Button1_Click(object sender, EventArgs e) 
{
            insertUser.Parameters.AddWithValue("@parent_id", Convert.ToInt32(pid.SelectedValue));

} 
```

从上面的代码中有一个下拉列表，所有项目都是从 Page_Load 函数添加的，错误是，无论我从下拉列表中选择什么项目，只有第一个项目被添加到数据库中。

有谁知道有什么问题？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:14:09.543

您不应在回发期间添加项目

尝试

```
if (!IsPostBack)
{
    foreach(pair item in al)  
    {           
        pid.Items.Add(new ListItem(item.getTitle(), item.getId()));

    }  
} 
```

[IsPostBack](http://msdn.microsoft.com/en-us/library/system.web.ui.page.ispostback.aspx)属性检查页面是第一次呈现还是响应回发。

# java - 如何使用 Java 在 Play Framework 2.0 中测试文件上传的多部分表单数据请求？

> ID：12970953
> 
> 赞同：7
> 
> 时间：2012-10-19T09:10:51.100
> 
> 标签：java, playframework, playframework-2.0, functional-testing

我知道您可以按照此处的建议使用 Scala API 执行此操作：

[https://groups.google.com/forum/?fromgroups=#!topic/play-framework/1vNGW-lPi9I](https://groups.google.com/forum/?fromgroups=#!topic/play-framework/1vNGW-lPi9I)

但是似乎没有办法使用 Java 来做到这一点，因为 FakeRequests 的 withFormUrlEncodedBody 方法只支持字符串值？

这是 API 中缺少的功能还是有任何解决方法？（仅使用 Java）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-27T12:36:11.080

对于集成测试，您可以像我一样使用 apache DefaultHttpCLient：

```
@Test
public void addFileItem() throws Exception {
    File testFile = File.createTempFile("test","xml");
    DefaultHttpClient httpclient = new DefaultHttpClient();
    HttpPost method = new HttpPost(URL_HOST + "/api/v1/items/file");
    MultipartEntity entity = new MultipartEntity();
    entity.addPart("description", new StringBody("This is my file",Charset.forName("UTF-8")));
    entity.addPart(Constants.ITEMTYPE_KEY, new StringBody("FILE", Charset.forName("UTF-8")));
    FileBody fileBody = new FileBody(testFile);
    entity.addPart("file", fileBody);
    method.setEntity(entity);

    HttpResponse response = httpclient.execute(method);             
    assertThat(response.getStatusLine().getStatusCode()).isEqualTo(CREATED);
} 
```

这要求您在测试中启动服务器：

```
public static FakeApplication app;
public static TestServer testServer;

@BeforeClass
public static void startApp() throws IOException {
    app = Helpers.fakeApplication();
    testServer = Helpers.testServer(PORT, app);
    Helpers.start(testServer);

}

@AfterClass
public static void stopApp() {
    Helpers.stop(testServer);
} 
```

# extjs - 从另一个 Extjs 页面调用另一个 Extjs 页面中存在的函数

> ID：12970954
> 
> 赞同：0
> 
> 时间：2012-10-19T09:10:56.853
> 
> 标签：extjs

如何从另一个 ExtJS 页面调用一个 ExtJS 页面中存在的函数。

类似功能存在于一个 ExtJS 页面中

```
function Orders(orders) 
{
 some operations
} 
```

我必须从另一个 extjs 页面调用上述函数

> 喜欢 --- 订单(orderd)-->

那么如何调用这个函数。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T10:26:20.890

取决于您定义函数的范围。

如果你刚刚做了（将它添加到窗口对象）

```
function Orders(id){
} 
```

如果在调用之前创建了函数，则可以调用`Orders(7)`其他文件。

或者你可以做`@Neil McGuigan`评论：使用 MVC！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T11:57:11.323

1.您可以将该页面包含在现有的html / asp / jsp中 1.将您要调用的页面放入该页面的“onReady” 2.使用ajax请求在此处调用。

# php - 将输入形成数组

> ID：12970955
> 
> 赞同：0
> 
> 时间：2012-10-19T09:10:58.993
> 
> 标签：php, arrays, forms, input

我有一个工具，我必须输入一些单词，它必须进入：

```
$_POST['searchqueries']
```

.

我有多个输入形式，必须在 ['searchqueries'] 中返回，看起来像：word1、word2、word3、word4。

这就是我现在拥有的，但它只是返回数组，而不是分开的

```
<fieldset style="border: none;">
<label for="searchquerie1">Zoekwoord 1:</label><input type="text" id="searchquerie1" name="searchqueries[]" maxlength="256" value="" /><br>
<label for="searchquerie2">Zoekwoord 2:</label><input type="text" id="searchquerie2" name="searchqueries[]" maxlength="256" value="" /><br>
<label for="searchquerie3">Zoekwoord 3:</label><input type="text" id="searchquerie3" name="searchqueries[]" maxlength="256" value="" /><br>
<label for="searchquerie4">Zoekwoord 4:</label><input type="text" id="searchquerie4" name="searchqueries[]" maxlength="256" value="" /><br>
<input type="hidden" name="fset"/>
</fieldset> 
```

我该怎么做才能完成这项工作

格雷茨

大卫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:14:30.620

```
$combined = implode(',', $_POST['searchqueries']); 
```

字符串 $combined with 包含用逗号分隔的所有值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:14:32.697

使用**[foreach](http://php.net/manual/en/control-structures.foreach.php)**

```
$varb = mysql_real_escape_string($_POST['searchqueries']);//sanitize the input
foreach($varb as $vals)
echo $vals['searchqueries']; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T09:16:04.163

当然，如果您将值作为数组传递，`searchqueries[]`您将检索到一个数组……</p>

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-19T09:13:03.337

您可以使用将数组中的元素与字符串[`implode`](http://php.net/implode)粘合在一起。`,`

说`$arr = array('a','b','c');`

```
$str = implode(',',$arr);
echo $str; // will output a,b,c 
```

# visual-studio-2010 - LightSwitch 失去与数据库的连接

> ID：12970956
> 
> 赞同：0
> 
> 时间：2012-10-19T09:11:00.923
> 
> 标签：visual-studio-2010, c#-4.0, visual-studio-lightswitch

我使用 Visual Studio Lightswitch 设计了一个 silverlight 应用程序。我添加了一个显示详细信息屏幕的屏幕。看了下后面的代码，尝试添加。

```
partial void Application_initialize()
        {
            this.Details.ClientTimeout = 1000;
        } 
```

出现错误，它不包含 ClientTimeout 的定义并且没有扩展方法。我的目的是保持与我的数据库的连接并始终在详细信息屏幕中显示数据。

即使空闲时如何保持连接？

此外，详细信息仅显示 52 条记录，而不是 1000 多条记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T09:12:27.080

您需要在 Application.cs 文件中添加该代码，而不是在屏幕的代码中。

到达那里的最简单方法是：

*   *在解决方案资源管理器*中右键单击 LightSwitch 项目
**   选择*查看应用程序代码（客户端）**

 *你确定它没有显示 45 条记录？默认情况下，网格的查询源将分页设置为*on*，并且将项目数设置为*45 per page*。如果你向下看屏幕底部，应该有一个页面控件，它允许你从一个页面移动到另一个页面。

要*关闭*分页，或更改*每页的项目数*，在屏幕设计器的左上角，单击屏幕查询，然后在设计器的右侧，您会看到一些复选框。其中之一是*支持分页*。如果选中该框，则其下方将有一个文本框（如果取消选中该框，则会消失），其中包含每页的项目数。

![分页选项](../Images/fa37a99da400ceb824a5553bbc01da32.png)*

# c# - 在 C# 中复制流时，我什么时候应该执行明确的 Flush()？

> ID：12970957
> 
> 赞同：3
> 
> 时间：2012-10-19T09:11:02.270
> 
> 标签：c#, .net, stream, filestream

我有一种方法可以将一个流复制到另一个流中。这是相当简单和典型的：

```
public static void CopyStream(Stream source, Stream destination)
{
    byte[] buffer = new byte[32768];
    int read;
    while ((read = source.Read(buffer, 0, buffer.Length)) > 0)
    {
        destination.Write(buffer, 0, read);
    }
} 
```

当目标流是 a`FileStream`时，我观察到在复制完成并且目标流关闭之前不会创建文件。我相信`destination.Flush()`在复制流时不时调用会创建文件并在复制完成之前开始将内容写入磁盘，这将释放我系统中的内存。

这个`destination.Flush()`电话什么时候打？我的算法循环中的每次迭代？每 N 次迭代？绝不？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T09:19:06.317

这取决于。

*   您希望副本有多强大？
*   部分数据有多大用处？

如果甚至一个数据缓冲区有用，那么您可以`Flush`在每次迭代时调用它，否则您可以在每 5^次调用它。但是，如果部分数据无用，那么根本不调用是有意义`Flush`的。

如果内存是一个问题，那么更频繁地调用`Flush`将是一件好事。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-19T09:17:30.937

我不认为没有硬性和快速的答案。提供了刷新，因此您可以控制存储何时有效地从内存移动到流。所以选择是你的，每次循环迭代都执行一次以最小化内存使用，不那么频繁地执行可能以牺牲内存为代价获得更高的性能。

# fusioncharts - 如何使背景透明？

> ID：12970964
> 
> 赞同：1
> 
> 时间：2012-10-19T09:11:41.387
> 
> 标签：fusioncharts

我是 FusionCharts 的新手。如何使下面标有红色矩形的背景透明？目前我所能做的就是使外部背景透明，但中心部分不是。

以及如何自定义字体颜色？我的代码：

```
FusionCharts.setCurrentRenderer('javascript');
                                            var chart = new FusionCharts("../content/charts/MultiAxisLine.swf", "ChartId", "740", "231", "0", "0");
                                            chart.setDataXML("<chart  bgAlpha='0,0' caption='' showBorder='0' lineThickness='1' showValues='0' formatNumberScale='0' labelDisplay='ROTATE' slantLabels='1' rotateValues='1'  borderThickness='0' alternateHGridColor='FCB541' alternateHGridAlpha='20' divLineColor='FCB541' divLineAlpha='50' canvasBorderColor='666666' baseFontColor='3E3E3F'><categories><category label='Oct10'/><category label='Nov10'/><category label='Dec10'/><category label='Jan11'/><category label='Feb11'/><category label='Mar11'/><category label='Apr11'/><category label='May11'/><category label='Jun11'/><category label='Jul11'/><category label='Aug11'/><category label='Sep11'/></categories><axis title='MAPE' titlePos='left' tickWidth='10' divlineisdashed='1' numberSuffix='%' color='1D8BD1'> <dataset seriesName='MAPE %' color='1D8BD1' anchorBorderColor='1D8BD1' anchorBgColor='1D8BD1'><set  value='83'/><set  value='68'/><set  value='63'/><set  value='68'/><set  value='81'/><set  value='95'/><set  value='67'/><set  value='72'/><set  value='86'/><set  value='69'/><set  value='86'/><set  value='69'/></dataset></axis><axis title='MAD' titlePos='left' tickWidth='10' divlineisdashed='1' color='F1683C'> <dataset seriesName='MAD' color='F1683C' anchorBorderColor='F1683C' anchorBgColor='F1683C'> <set  value='5'/><set  value='4'/><set  value='3'/><set  value='4'/><set  value='7'/><set  value='9'/><set  value='6'/><set  value='4'/><set  value='4'/><set  value='7'/><set  value='7'/><set  value='4'/></dataset></axis><axis title='RMSE'  titlepos='RIGHT' axisOnLeft='0'  tickWidth='10' divlineisdashed='1' color='2AD62A'> <dataset seriesName='RMSE' color='2AD62A' anchorBorderColor='2AD62A' anchorBgColor='2AD62A'><set  value='11'/><set  value='10'/><set  value='10'/><set  value='13'/><set  value='20'/><set  value='26'/><set  value='18'/><set  value='10'/><set  value='10'/><set  value='24'/><set  value='23'/><set  value='15'/> </dataset> </axis></chart>");
                                            chart.setTransparent(true)
                                            chart.render("chartdiv1"); 
```

截图在[http://t1.qpic.cn/mblogpic/061381e1504222d57828/2000.jpg](http://t1.qpic.cn/mblogpic/061381e1504222d57828/2000.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T11:21:29.533

请尝试在元素中添加`canvasBgAlpha='0'`和。`legendBgAlpha='0'``<chart>`

# android - 背景图像未正确填充父级

> ID：12970971
> 
> 赞同：3
> 
> 时间：2012-10-19T09:11:54.997
> 
> 标签：android, android-layout

我的问题是屏幕底部有一条白线。我不知道它为什么在那里。它看起来像这样：

![屏幕](../Images/56e7d527f6b880fa345b866c96ce2098.png)

此布局在 XML 中定义：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="@android:color/black"
android:orientation="vertical" >

<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/linearLayout1"
    android:layout_width="250dp"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:layout_centerInParent="true"
    android:layout_gravity="bottom"
    android:layout_marginBottom="30dp"
    android:orientation="vertical" >

    <!-- MAIN TITLE -->

    <!-- LOGIN TITLE -->

    <TextView
        android:id="@+id/login_label"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/login"
        android:textColor="@android:color/white"
        android:textSize="18sp" />
    <!-- LOGIN TEXT -->

    <EditText
        android:id="@+id/login_text"
        android:layout_width="250dp"
        android:layout_height="wrap_content"
        android:inputType="textNoSuggestions"
        android:background="@android:color/white"
        android:textSize="18dp" />
    <!-- PASSWORD TITLE -->

    <TextView
        android:id="@+id/password_label"
        android:layout_width="250dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="5sp"
        android:text="@string/password"
        android:textColor="@android:color/white"
        android:textSize="18sp" />
    <!-- PASSWORD TEXT -->

    <EditText
        android:id="@+id/password_text"
        android:layout_width="250dp"
        android:layout_height="wrap_content"
        android:layout_marginBottom="10dp"
        android:inputType="textPassword"
        android:background="@android:color/white"
        android:textSize="18dp" />

    <!-- LOG IN BUTTON -->

    <Button
        android:id="@+id/login_button"
        android:layout_width="120dp"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:background="#3DB0E1"
        android:padding="12dp"
        android:text="@string/login_button"
        android:textColor="@android:color/white" />
</LinearLayout>    
</RelativeLayout> 
```

我还注意到，它仅在我的应用程序启动后才会发生。如果我从另一个活动 bzy 来到这里`startActivity(intent)`，这条线就消失了。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T13:46:13.580

你的 Outer-most Relative 布局是不必要的。为什么你有它？

**我的解决方案是：**

`android:id="@+id/linearLayout1"`变化中

```
android:layout_marginBottom="30dp" 
```

到

```
android:paddingBottom="30dp" 
```

在你最外层的相对布局中

**或：** 删除最外层的相对布局

让我知道它是否有效

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T14:35:31.440

实际上，一旦您重新创建它（已发布错误），它就会消失，所以您需要做的基本上就是重新创建它。

```
Intent intent;
intent = getIntent();
if (intent.getBooleanExtra("FIRST", true)) {
    LoginActivity.this.finish();
    intent = new Intent().setClass(LoginActivity.this, LoginActivity.class);
    intent.putExtra("FIRST", false);
    startActivity(intent);
} 
```

# c++ - pdf全屏，顶部有导航栏

> ID：12970974
> 
> 赞同：0
> 
> 时间：2012-10-19T09:12:04.947
> 
> 标签：c++, iphone, objective-c, xcode, pdfview

大家好，我在这边找到了一个非常好的教程，可以将 Pdf 视图添加到我的 xcode 项目中。

[教程](http://www.n00bdev.com/archives/5)

但是我最后在 ViewController .m 中的问题是 pdf 的大小设置为

```
CGRect frame = CGRectMake(0, 100, 768, 800); 
```

但这是为 Ipad 设计的，我如何为 iPhone 设置它，以便 pdf 全屏显示并在顶部显示导航栏？

感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T10:56:43.060

在这里，您可以使用始终为真的父控制器的框架（如果它在 iPhone 和 iPad 中正确显示）。

就像

```
//Gives the frame of parent controller.
CGRect frame=self.view.frame; 
```

现在您可以根据需要调整 Y 偏移。前任。

```
frame.origin.y=100; 
```

# php - 数组中的 substr_count

> ID：12970977
> 
> 赞同：2
> 
> 时间：2012-10-19T09:12:09.737
> 
> 标签：php, arrays, count, substr

我正在尝试在强标签中搜索关键字。

我为标签生成了一个数组，显示为：

```
 Array
        (
        [0] => Array
        (
        [0] =>  seo agency in london
        [1] => seo agency in london
        [2] => seo consultant in london
        [3] => seo consultant in london
        [4] => seo experts in london
        )

        [1] => Array
        (
        [0] =>  seo agency in london
        [1] => seo agency in london
        [2] => seo consultant in london
        [3] => seo consultant in london
        [4] => seo experts in london
        )

        ) 
```

我想搜索在这种情况下是“seo”的关键字

我在用：

```
function substr_count_array( $haystack, $needle ) {
$count = 0;
foreach ($needle as $substring) {
$count += substr_count( $haystack, $substring);
}
return $count;
}
$matchPattern7 = '/<strong(?:"(?:[^\\\"]|\\\.)*"|\'(?:[^\\\\\']|\\\.)*\'|[^\'">])*>(.*?)<\/strong>/';
preg_match_all($matchPattern7, $content, $foundIt7);
echo substr_count_array(strtolower($foundIt7), strtolower($keyword)); 
```

以供参考..

$关键字 = 搜索引擎优化

我是零，有人可以帮忙吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-19T09:46:56.843

经过测试并为我工作：

```
$foundIt7=array();
$foundIt7[1]=array(0 => ' seo agency in london',
        1 => 'seo agency in london',
        2 => 'seo consultant in london',
        3 => 'seo consultant in london',
        4 => 'seo experts in london');
print_r($foundIt7[1]);

function substr_count_array( $haystackAr, $needle ) {
$count = 0;
foreach ($haystackAr as $haystack) {
$count += substr_count( $haystack, $needle);
}
return $count;
}

echo substr_count_array($foundIt7[1],'seo');//returns 5 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-19T09:17:12.963

```
function substr_count_array( $haystack, $needle ) {
$count = 0;
foreach ( $haystack as $substring) {
foreach($substring as $string)
{
$count += substr_count($string, $haystack);
}
}
return $count;
} 
```

# mysql - 搜索文档内容的建议 - Windows 搜索有用吗？简单的MySQL？

> ID：12970979
> 
> 赞同：0
> 
> 时间：2012-10-19T09:12:19.827
> 
> 标签：mysql, command-line, solr, full-text-indexing, windows-search

我正在为一家小型在线文档管理公司编写 Web 脚本，该公司希望允许用户快速在线搜索其文件的内容。虽然许多帐户非常小（不到 100 个 2MB 文件），但也有少数帐户拥有 1,000,000 个或更多文件。需要支持 PDF 和 DOC/DOCX。二进制文件不会被索引。

我们正在寻找提供基本搜索结果的简单解决方案。没什么太花哨的。每个用户都有一个主文件夹（搜索只会搜索他的子文件夹），所以请记住，搜索系统应该是最佳的。为了说明，如果一个拥有 100 MB 帐户的人搜索他的主文件夹，它会感觉不要搜索其他 4 TB 的文件。

你有什么建议？

这是我正在查看的一些选项：

1) 我正在考虑使用 Windows 搜索来解决这个问题——无论是命令行工具还是使用 API。但每台服务器实际上可以有 10 亿个文件，并且前 3 个结果应该立即交付。Windows 搜索会吗？或者这会产生挫败感？

2）自定义：制作一个简单的开源MySQL数据库程序来保存索引信息。英语中大约有 100,000 个单词……然后是自定义单词和首字母缩略词……因此，为了快速查找，根据单词和用户帐户进行索引是有意义的。我将进行预处理，使“慢跑”变成“慢跑”，“摆弄”变成“小提琴”，以降低数据库大小。 **给定每台服务器 150 个客户帐户，拥有一个大数据库是否有意义，或者可能消除 UserID 字段并为每个用户提供一个数据库？**

```
Tables:
Table WorldTable
EnglishWord (pk) | WordID (fk)

Table FileTable
FileID (pk) | FilePath

Table WordIndex
WordID (pk) | FileID (fk) | UserID | SettingsPatternID

Table Settings
SettingsPatternID | Top (bool) | IsWordForm (bool) 
```

IsWordForm = 表示它不是完全匹配，而是单词的一种形式。例如：文件中的单词最初在文档中是“慢跑”或“跳舞”，但以缩写形式“慢跑”或“跳舞”归档。（如果查询也是 wordform，那么它有助于提高相关性。） IsWordForm 的可能性很高。Top = Word 位于文档的前 50 个单词（表示标题）

我想要 5-15% 的小存储开销。CPU 非常宝贵...但是，对于每个文件，这是很多开销，因为每个文件都会在 WordIndex 中生成数千条记录。即：

```
WordID, FileID, UserID, SettingsPatternID
WordID, FileID, UserID, SettingsPatternID
WordID, FileID, UserID, SettingsPatternID 
```

... 这是最长的表，WordID 是不必要的重复。

3) 哈希，使用 MySQL 既然我们知道这将是一个词的搜索，一个纯粹的关系数据库可能不是最好的模型......

将每个单词“散列”到匹配文件列表可能更有效。例如：对于每个单词，制作一个 2 列表。您无需在表格中“查找”单词，因为我们知道它是什么。这个列表可以是每个单词的 2 列表：

```
Table *The Word*
FileID | UserID | SettingsPatternID
(There would be 100,000 of these. One for each unique word.)

Table Settings
SettingsPatternID | Top (bool) | IsWordForm (bool) 
```

4）我也看过 SolR，但我认为这有点过头了。这是一个糟糕的假设吗？虽然它支持 PDF 和 DOC，但集成起来也是相当多的工作......我几乎觉得自己做这件事的工作量是一样的，但当然，作为一名编码人员，我知道这种假设经常是错误的...... .

请大家思考！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-19T09:48:32.223

> 4）我也看过 SolR，但我认为这有点过头了。这是一个糟糕的假设吗？虽然它支持 PDF 和 DOC，但集成起来也是相当多的工作......我几乎觉得自己做这件事的工作量是一样的，但当然，作为一名编码人员，我知道这种假设经常是错误的...... .

绝对**选择 SolR**：*集成*成本更高，但设置更容易，维护也更容易。

此外，它已经具有许多您必须自己实现（以及调试和维护......）的功能。

但是，我建议审查 SolR 的功能，围绕这些功能设计一个基本界面，并以书面形式批准。“文本搜索”往往成为一种不言而喻的“*我希望系统能够读懂我的想法*”。另外，解释高效的文本搜索不是“简单的脚本”；实际上有成千上万的博士学位。论文涉及语义、词干、相关性、邻近性等。其中许多论文已经进入 SolR/Lucene。

*如果您假设*用户可能对`grep`性能、可扩展性和结果方面都感到满意，那么 SolR 是“矫枉过正” 。相信我，**他们不会**。

您可以尝试推荐一个[Google Machine](http://www.google.com/intl/it/enterprise/search/gsa.html)。它还有助于建立与成本相关的基准：即，“如果您想要 Google 的性能，这就是 Google 的价格。没有 Google 的规模经济的任何其他临时实施将花费*更多*来实现相同的性能水平”。

# java - Java Jung 度数列

> ID：12970981
> 
> 赞同：1
> 
> 时间：2012-10-19T09:12:22.483
> 
> 标签：java, graph, sequence, jung, degrees

我正在使用 Java Jung 2.01 图形包进行一些图形理论分析。我正在寻找某种函数，它会给我一个图形的度数序列。我一直在浏览 Jung 文档，但什么也没看到。

1.  如何检索图的度数序列？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-19T09:21:03.720

目前，`JUNG`没有这样的功能。但是，您可以遍历所有节点，检索所有度数并相应地对它们进行排序。您可以在他们的[论坛上](http://sourceforge.net/projects/jung/forums/forum/252062)向发展中的社区提出建议。

# javascript - NodeJS设置超时

> ID：12970989
> 
> 赞同：4
> 
> 时间：2012-10-19T09:12:37.090
> 
> 标签：javascript, node.js, timer, dom-events, settimeout

我正在使用 phidgets 库通过 nodejs 与物理设备进行交互。我已经把它全部物理连接起来了，我想做的就是确保我的开/关时间是准确的。

这将是问题所在，因为我什至无法将有关 setTimout 的内容正确地控制台注销。

本质上，我正在尝试执行以下操作：

```
for ( var i = 0; i < 4; i++ ) {
    setTimeout( function(i){
        console.log('Input: "' + i + '", Executed with timeout of ' + i*1000 + 'ms');
    }(i), i*1000 );
}; 
```

但是我的控制台只是吐出下面的内容，没有超时。这是即时的。

```
Input: "0", Executed with timeout of 0ms
Input: "1", Executed with timeout of 1000ms
Input: "2", Executed with timeout of 2000ms
Input: "3", Executed with timeout of 3000ms 
```

这与我想要的相差甚远。

关于发生了什么的任何想法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T09:18:50.043

您正在 setTimeout 调用中运行该函数，因为`(i)`

将其更改为

```
setTimeout( function(i){
            console.log('Input: "' + i + '", Executed with timeout of ' + i*1000 + 'ms');
        }, i*1000, i ); 
```

这样，您将函数“指针”传递到带有参数的 setTimeout 设置中`i`

PS：时间值之后的所有参数`i*1000`都将作为参数传递给您的回调函数