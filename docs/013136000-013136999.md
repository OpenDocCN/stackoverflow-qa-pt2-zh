# StackOverflow 问答 13136000-13136999

# perl - 在 perl 中去除数字和字母

> ID：13136000
> 
> 赞同：1
> 
> 时间：2012-10-30T09:26:07.657
> 
> 标签：perl

我有一个输入变量，比如说`$a`。`$a`可以是数字或字符串或两者的混合。

我的问题是如何剥离变量以分隔数字和字母字符？

例子;

```
$a can be 'AB9' 
```

在这里，我应该能够将“AB”存储在一个变量中，将“9”存储在另一个变量中。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:38:06.927

检查此版本，它适用于变量中的 1 个或多个数字和字母字符。

```
#!/usr/bin/perl

use strict;
use Data::Dumper;

my $var = '11a';                           

my (@digits, @alphabetics);

while ($var =~ /([a-zA-Z]+)/g) {

    push @alphabetics, $1;
}   

while ($var =~ /(\d+)/g) {

    push @digits, $1;
}   

print Dumper(\@alphabetics);
print Dumper(\@digits); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T10:26:00.143

这是一种非常简短的表达方式：

```
my ($digits) = $input =~ /(\d+)/;
my ($alpha)  = $input =~ /([a-z]+)/i;

say 'digits:     ' . ($digits // 'none');
say 'non-digits: ' . ($alpha // 'none'); 
```

此处在列表上下文中使用匹配运算符很重要，否则如果匹配成功，它将返回。

如果要获取输入字符串中的*所有*匹配项，只需将列表上下文中的标量变量更改为正确的数组：

```
my @digits = $input =~ /(\d+)/g;
my @alpha  = $input =~ /([a-z]+)/gi;

say 'digits:     ' . join ', ' => @digits;
say 'non-digits: ' . join ', ' => @alpha; 
```

对于`my $input = '42AB17C'`，输出为

```
digits: 42, 17
non-digits: AB, C 
```

# mysql - MySQL中的行位置

> ID：13136006
> 
> 赞同：0
> 
> 时间：2012-10-30T09:26:17.960
> 
> 标签：mysql, hibernate

我在看[这里](https://stackoverflow.com/questions/1895110/row-number-in-mysql)，但找不到我的问题的答案。

需要从 MySQL 获取对象列表，例如：

```
+-----------------------------+
+ id | username | password    +
+-----------------------------+
+  1 | User1                  +
+  2 | User2                  +
+  5 | User3                  +
+  9 | User4                  +
+ 11 | User5                  +
+ 18 | User6                  +
+ .....                       +
+ 25 | User10                 +
+-----------------------------+ 
```

并计算每个项目的位置，不是id，而是项目此时所在的位置，所有这些都带有分页，例如：

```
Page 1
1, User1, id1
2, User2, id2
3, User3, id5

Page 2
4, User4, id9
5, User5, id11
6, User6, id18

Page 3
... 
```

我知道他必须在每次更改页面时计算页面列表中每个项目的位置，但不知道如何在 MySQL 中执行此操作。

如果有人能帮助我提供建议，我将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:28:44.660

您可以通过在 SELECT 请求中定义一个变量来实现这一点

```
SET @i=0;
SELECT id, username, password, @i:=@i+1 AS i FROM my_table ORDER BY id; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-30T10:17:16.033

***通过在选择查询***期间使用变量，您可以获得行位置。这是在我的数据库上工作。你可以用这个。

```
set @i = 0;
SELECT id, firstname, lastname, title, @i := @i +1 as i FROM employee ORDER BY id 
```

# comet - Meteorjs - 它使用哪种协议？

> ID：13136007
> 
> 赞同：1
> 
> 时间：2012-10-30T09:26:25.990
> 
> 标签：comet, meteor, channel, bayeux

我现在正在看 MeteorJS，我想知道他们在他们的频道上使用了哪种协议。是巴约吗？他们自己的 ？我无法在他们的网站上找到易于访问的信息（我的意思是除了挖掘源代码之外）

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T11:27:58.690

看看这篇博文：[http ://www.meteor.com/blog/2012/03/21/introducing-ddp](http://www.meteor.com/blog/2012/03/21/introducing-ddp)

他们正在使用上面评论中提到的 DPP。

# java - 对对象列表中的多个属性执行搜索

> ID：13136010
> 
> 赞同：3
> 
> 时间：2012-10-30T09:26:39.170
> 
> 标签：java, search

我需要在大量对象上实现搜索方法。策略如下：有两个类，比如说，

```
A{
String a1,
String a2,
...
}
and
B{
String b1,
String b2,
...
} 
```

和两个`ArrayLists`带有每种类型的对象。
我需要找到一个`A`对象在哪里`A.a1 == B.b1`。如果没有找到，我需要找到一个`A`对象 where`A.a2 == B.b2`等等..（这里`==`代表基于值的相等，因为可能存在其他类型的属性）

尽可能快地做到这一点的最佳方法是什么？到目前为止，我唯一能想到的（除了遍历数组）是创建许多 HashMap，其中属性值作为键，对象引用作为值。

有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:43:18.157

您应该选择 HashMap 方式。由于散列，查找非常有效。并且内存开销不应该太大，因为只有引用存储在不同的地图中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:55:16.480

我认为你可以在单循环中实现这一点。迭代时还要检查其他条件是否为真并存储此类对象。如果你最终没有发现`A.a1.equals(B.b1)`你`A.a2.equals(B.b2)`不需要额外的循环。

```
 initalize object to store A.a2.equals(B.b2)
 for(size)
  { 
     if(A.a1.equals(B.b1))
      {
       //Found break;
      }
     else if(A.a2.equals(B.b2))
       {
        //Store this since if we end up not finding then we can use this
       }
  } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-30T09:49:57.750

尽我所能深入研究[Apache BeanUtils](http://commons.apache.org/beanutils/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html)，我能为你找到的就是这个。您可以尝试将整个 bean 一次性加载到地图中，而不是在类中的每个字段上使用反射 API/getter

`BeanUtils.describe(Object bean)` - 返回一个`Map`

# asp.net-mvc - MVC 为什么这个下拉菜单是强制性的？

> ID：13136020
> 
> 赞同：0
> 
> 时间：2012-10-30T09:27:27.093
> 
> 标签：asp.net-mvc, razor

在我看来，我有这个下拉列表（实际上我有很多这样的循环）

```
@Html.DropDownListFor(m => m.SelectedAttributeValueIds[i], Model.AttributeValuesList[Convert.ToInt32(type.Value)], "Select a value") 
```

模型的相关部分是

```
public IDictionary<int, List<SelectListItem>> AttributeValuesList { get; set; }
public List<int> SelectedAttributeValueIds { get; set; } 
```

上面的下拉列表包含正确的值列表。如果我选择其中一个值并提交，则选择的值会正确发布并正确保存到 SelectedAttributeValueIds 列表中。

现在的问题是，如果我不从这些下拉列表中的一个或多个中选择一个值，我的 ModelState.IsValid 在我的 post action 方法中为 false。查看错误列表，原因是

> “需要一个数值”

为什么下拉菜单是强制性的？我希望它们是可选的。

有任何想法吗？

谢谢，

萨钦

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:49:33.677

也许是因为您`[Required]`在模型中使用了属性，如果没有，您可以将属性类型更改为可为空的：

```
public List<int?> SelectedAttributeValueIds { get; set; } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:50:39.263

这是因为该`SelectedAttributeValueIds`属性是具有隐式值的整数列表。如果您希望它没有值，请使用 将类型更改为可为空的 int `List<int?>`。

`int`如果您真的想保留它，`DataAnnotationsModelValidatorProvider.AddImplicitRequiredAttributeForValueTypes`我建议您使用 int `false`? `Global.asax`然而。

# session - 如果不在会话中（如果他没有登录），如何在 Zend Framework 2 中配置 Module.php 以重定向用户？

> ID：13136021
> 
> 赞同：12
> 
> 时间：2012-10-30T09:27:33.043
> 
> 标签：session, zend-framework, login, bootstrapping

所以，问题是如何在我的模块中配置 Module.php 来检查用户是否在会话中？如果他不是，我想将他重定向到登录页面。

如果用户不在会话中（未登录），我不希望用户有权执行其他操作（控制器）。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T10:08:52.697

这应该通过 ZF2 中的事件来完成以获取更多详细信息：[单击此处](http://framework.zend.com/manual/2.0/en/modules/zend.event-manager.event-manager.html)此代码也可能对您有所帮助。[http://pastebin.com/FFGVCpki](http://pastebin.com/FFGVCpki)

```
public function init() {
    // Attach Event to EventManager
    $events = StaticEventManager::getInstance ();

    // Add event of authentication before dispatch
    $events->attach ( 'Zend\Mvc\Controller\AbstractActionController', 'dispatch', array (
            $this,
            'authPreDispatch' 
    ), 110 );
}
public function authPreDispatch($event){
$target = $event->getTarget ();
$serviceLocator = $target->getServiceLocator();
// Do what ever you want to check the user's identity
$url = $event->getRouter ()->assemble ( array (
                    "controller" => "<controller>" 
            ), array (
                    'name' => '<route name>' 
            ) );
$response = $event->getResponse ();
        $response->setHeaders ( $response->getHeaders ()->addHeaderLine ( 'Location', $url ) ));
        $response->setStatusCode ( 302 );
        $response->sendHeaders ();
        exit ();
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-11-13T10:09:41.427

不要使用重定向，使用“路由”事件执行 setParam() 方法，请参阅此[https://github.com/samsonasik/SanAuthWithDbSaveHandler/commit/e2ae4dfcebb7a952d7b1adaadcf6496c994423b9](https://github.com/samsonasik/SanAuthWithDbSaveHandler/commit/e2ae4dfcebb7a952d7b1adaadcf6496c994423b9)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-06-17T06:47:35.027

一些喜欢：

```
$e->getRouteMatch()
->setParam('controller', 'Application\Controller\Login')
->setParam('action', 'login'); 
```

# sql - 从执行结果中选择（@query）

> ID：13136022
> 
> 赞同：1
> 
> 时间：2012-10-30T09:27:37.420
> 
> 标签：sql, sql-server-2008

我正在使用这个 SQL 查询

```
DECLARE @cols AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT distinct ',' + QUOTENAME(Animal2) 
                    from animals
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT Animal1, ' + @cols + ' from 
             (
                select animal1, animal2, Corelation
                from animals
            ) x
            pivot 
            (
                min(Corelation)
                for animal2 in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/5b713/6)

当我执行查询时，我得到一个表作为返回。

如何从该表中进行选择？我尝试使用`SELECT * FROM (*past here the script*)`但没有用。我只需要将 execute(@query) 的结果用作表并从中进行选择（将其放入新表中）。我该怎么做？

谢谢

注意：该查询是[这个 SO question的答案](https://stackoverflow.com/questions/13125187/sql-query-to-select-records-in-a-specific-format-using-pivot-or-other/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:36:02.630

使用`Insert into ... exec`格式，如下所示：

```
CREATE TABLE #tmp1 (
   [Animal1] varchar(5), 
   [Cat] decimal(10, 5), 
   [Dog] decimal(10, 5), 
   [Mouse] decimal(10, 5)
)

Insert Into #Tmp1
 execute(@query)  

select * from #tmp1
  where cat = 1 
```

当然，由于列名是动态的，因此您也需要将 create 语句转换为动态 sql。

[带有固定版本的 SQL Fiddle](http://sqlfiddle.com/#!3/5b713/13)

[动态版本的 SQL Fiddle](http://sqlfiddle.com/#!3/5b713/42)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:40:31.933

使用`into`和一个全局临时表 - 然后您不必提前定义表列。

```
set @query = 'SELECT Animal1, ' + @cols + 
    +' into ##temp '
    +' from 
             (
                select animal1, animal2, Corelation
                from animals
            ) x
            pivot 
            (
                min(Corelation)
                for animal2 in (' + @cols + ')
            ) p '

select * from ##temp 
```

# android - Android项目的依赖管理

> ID：13136023
> 
> 赞同：2
> 
> 时间：2012-10-30T09:27:43.990
> 
> 标签：android, dependency-management, nexus

我来自 iOS 开发世界，对[CocoaPods](http://www.cocoapods.org)（就像Ruby 世界中的[Bundler ）非常满意。](http://gembundler.com/)

现在在 Android 开发上，我正在努力寻找类似的东西。[我刚刚开始成功使用 Maven 并使用Nexus](http://www.sonatype.org/nexus/)设置了一个本地 maven 存储库，我可以轻松地指定依赖项，例如`roboguice`在我的项目中没有问题`pom.xml`：

```
<dependencies>
    <dependency>
        <groupId>org.roboguice</groupId>
        <artifactId>roboguice</artifactId>
        <version>2.0</version>
    </dependency>
</dependencies> 
```

这正是我想要的，但这里有一个问题：如何将依赖项（= 上传工件）添加到我的本地 Nexus 存储库，该存储库一开始并不适用于 maven，也无法通过任何方式使用公共 Maven 存储库。

我设想类似 Cocoapods 的 podfiles。这些文件是轻量级规范，描述了我稍后从我的项目中引用的依赖项。我想我必须为我的依赖项编写这样一个自定义规范，`pom.xml`但我不知道如何将它们部署到我的本地 Maven 存储库服务器（= Nexus）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T23:13:18.973

Nexus 支持手动上传到允许您这样做的托管存储库。[在http://www.sonatype.com/books/nexus-book/reference/using-sect-uploading.html](http://www.sonatype.com/books/nexus-book/reference/using-sect-uploading.html)的官方文档中了解更多信息

# php - php - cURL 响应标头与浏览器响应标头不同

> ID：13136030
> 
> 赞同：2
> 
> 时间：2012-10-30T09:28:10.010
> 
> 标签：php, curl, user-agent, httpresponse

我想使用 cURL 发送请求并检索响应标头。

使用浏览器，响应头如下：

```
HTTP/1.0 302 Moved Temporarily
Content-Type: text/html; charset=utf-8
Cache-Control: no-cache
Location: "Correct URL"
Expires: Fri, 01 Jan 1990 00:00:00 GMT
Date: Tue, 30 Oct 2012 08:32:24 GMT
Server: Google Frontend
Content-Length: 0 
```

但是当我使用 cURL 发送请求时，响应头如下：

```
HTTP/1.1 302 Found
Content-Type: text/html; charset=utf-8
Cache-Control: no-cache
Location: "Wrong URL"
Expires: Fri, 01 Jan 1990 00:00:00 GMT
Date: Tue, 30 Oct 2012 09:12:14 GMT
Server: Google Frontend
Content-Length: 0 
```

我想知道是什么导致响应返回不同的 URL。这是我尝试但无济于事的许多示例和事情中的一个小型 php 示例。

```
<?php
    $url = "url";
    $ch = curl_init( $url );
    curl_setopt( $ch, CURLOPT_FOLLOWLOCATION, true );
    curl_setopt( $ch, CURLOPT_HEADER, true );
    curl_setopt( $ch, CURLOPT_RETURNTRANSFER, true );
    curl_setopt( $ch, CURLOPT_COOKIEJAR, "cookie.txt" );
    curl_setopt( $ch, CURLOPT_COOKIEFILE, "cookie.txt" );
    curl_setopt( $ch, CURLOPT_USERAGENT, "Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.1.4) Gecko/20091030 Gentoo Firefox/3.5.4" );
    list( $header, $contents ) = preg_split( '/([\r\n][\r\n])\\1/', curl_exec( $ch ), 2 );
    curl_close( $ch );

    $header_text = preg_split( '/[\r\n]+/', $header );
    foreach ( $header_text as $headers ) {
        echo $headers . "</br>";
    }
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:47:09.033

通过浏览器和通过 curl（几乎可以肯定在 HTTP 标头中）发送的请求之间存在*一些*差异，这会导致响应的差异。

您应该从浏览器捕获请求（为了方便起见，可能使用像 Fiddler 这样的 HTTP 代理）并将其标头与您的 curl 请求中的标头进行比较。您会发现的一个（或多个）差异是您所看到的原因。

# delphi - DataSnap XE2 服务器 - 使用 GZIP 压缩？

> ID：13136033
> 
> 赞同：1
> 
> 时间：2012-10-30T09:28:22.090
> 
> 标签：delphi, compression, gzip, delphi-xe2, datasnap

有谁知道默认情况下使用 Delphi XE2 构建的 DataSnap 服务器（使用 HTTP/HTTPS）是否使用 GZIP 压缩作为响应？有什么方法可以启用/禁用它吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T17:12:54.730

DataSnap 压缩是使用 TDSHTTPService.Filters 完成的： (TTransportFilterCollection) 您可以添加多个过滤器，用于压缩、criptgrafy 等。

内置压缩过滤器使用 ZLib，IDE 向导可以选择自动添加它。

检查 TDSHTTPService.Filters 属性，如果 ZLibCompression 过滤器在那里，您可以删除以禁用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T17:10:53.340

您可以将 ZLibCompression 过滤器（通过 Filter 属性）添加到向导创建的 DSXXXServerTransport1 组件中。其中 XXX 代表协议。

# android - 如何在不创建文件夹或不同大小的图像的情况下为所有设备设计一种 xml 布局。

> ID：13136037
> 
> 赞同：0
> 
> 时间：2012-10-30T09:28:29.733
> 
> 标签：android, android-layout

我想设计使用一种 xml 布局的应用程序，我想为每个设备使用该布局，但我不想为可绘制的小、大或超大图像创建新文件夹。我们如何设计一种适合所有设备的布局，而无需为 ldpi、mdpi、hdpi 创建图像？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:03:22.263

只需将该布局放在“layout”文件夹中，将您的图像放在“drawable”文件夹中，不再有一个地方:) Android 系统将为您自动缩放资源。但是用户界面会看起来很糟糕。

# php - 单击时使用 javascript 更改输入按钮样式

> ID：13136040
> 
> 赞同：0
> 
> 时间：2012-10-30T09:28:42.103
> 
> 标签：php, javascript, css, codeigniter

我想更改每次单击该按钮时使用的按钮的样式并一起更改其文本。问题是我想使用我不太熟悉它的语法的外部javascript来做到这一点。详细说明我想要做的是有一个按钮，其文本显示如下：非常好，好，中等，失败。每个文本都有自己使用 CSS 指定的渐变颜色，比如说绿色表示非常好，黄色表示好，橙色表示中等，红色表示失败。尝试搜索它，但我只找到了一个不相关的帖子。我认为我需要在单击时创建一个按钮，每次单击 javascript 都会从 0 添加 int 值，并在达到 3 后重置回 0。然后我认为我可以使用 css 类分配的案例，例如`this.style="failed"`嗯，我不知道这是否可能。

更新：在做了一些研究之后，我设法对不断变化的文本（仅使用 javascript）做一些事情，但还不是类部分，因为我认为类是 javascript 中的一个关键字。到目前为止，这是我的脚本：

```
 function buttonChange(){
    var button = document.getElementById("stats");
    switch (button.value)
    {
      case "Very Good":
      button.value="Good";
      break;
      case "Good":
      button.value="Moderate";
      break;
      case "Moderate":
      button.value="Failed";
      break;
      default:
      button.value="Very Good";
    }       
} 
```

现在的问题是风格。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:44:12.740

使用 jQuery，您的代码可能如下所示：

```
var values = new Array('Very Good', 'Good', 'Moderate', 'Failed');
var colors = new Array('lime', 'yellow', 'orange', 'red');

$('#rate').click(function() {

    // current index is stored in data attribute
    var idx = $(this).data('value') + 1;

    // last value was selected -> go back to first one
    if (idx >= values.length) {
        idx = 0;
    }

    // update data attribute with current index
    $(this).data('value', idx);

    // update button text
    $(this).val(values[idx]);

    // update button background color
    $(this).css('background-color', colors[idx]);

});​ 
```

看到这个[FIDDLE](http://jsfiddle.net/gQZVw/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:49:38.030

看看这个： [Change an element's class with JavaScript](https://stackoverflow.com/questions/195951/change-an-elements-css-class-with-javascript)

我认为你的 CSS 应该具有渐变的所有样式和类似这样的东西：

```
.VeryGood {//gradient for very good
}
.Good {//gradient for good
}
.Moderate {//gradient for moderate
}
.Failed { //gradient for failed
} 
```

然后，使用这个 javascript 和 html ：

```
<script type="text/javascript">
var i = 1; //change to 0 if element dosen't need to have any class by default
var classArray = new Array();
classArray[0] = 'VeryGood';
classArray[1] = 'Good';
classArray[2] = 'Moderate';
classArray[3] = 'Failed';
    function changeClass()
    {
        document.getElementById("MyElement").className = classArray[i];        
        i++;
        if(i>=3){
            i=0;
        }
    }
</script>
...
<button onclick="changeClass()">My Button</button> 
```

现在，每次单击按钮时，数组键`i`都会增加，因此默认情况下，您可以将元素的类设置为 VeryGood，并且每次单击按钮时，它都会前进到下一个类，因此在 VeryGood 之后是 Good 然后是 Moderate 然后 Failed，它会将自身重置为非常好。希望这就是你要找的:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:48:14.227

这是一个 jQuery 解决方案，用于循环浏览四种状态的按钮文本和背景颜色：

```
<!doctype html>
<html>
 <head>
 <script type="text/javascript" src="jquery.min.js"></script>
 <script type="text/javascript">
$(document).ready(function() {
    var states = ['Very Good', 'Good', 'Moderate', 'Failed'];
    var colors = ['green', 'Yellow', 'orange', 'red'];
    var index = 0;
    $('body').on('click', '#button', function(){
        index = ++index%4;
        $("#button").html(states[index]);
        $("#button").css('background-color',colors[index]);
    });
});
 </script>
 </head>
 <body>
    <button id="button" style="background-color:green"; type="button">Very Good</button>
 </body>
</html> 
```

请注意**模数**(%) 运算符，它简化了“索引”从 0 到 3 的循环增量。

# .net - .net 解码 SMTP 电子邮件内容

> ID：13136045
> 
> 赞同：0
> 
> 时间：2012-10-30T09:28:54.747
> 
> 标签：.net, smtp, decode

我正在尝试将在线 API [http://www.brandmymail.com/docs/http/api_methods/rfc2rfc](http://www.brandmymail.com/docs/http/api_methods/rfc2rfc)与拥有自己的电子邮件传递机制的 CRM 数据库集成。API 给了我一封编码的电子邮件，我需要去掉编码，只保留电子邮件的 HTML 部分。

API 文档说编码是[https://www.rfc-editor.org/rfc/rfc2822](https://www.rfc-editor.org/rfc/rfc2822)

.net 框架中是否有任何东西可以将原始编码电子邮件转换为其编码状态？

# iphone - 如何在相关视图控制器中获取我的 tabbarcontroller 的选定索引？

> ID：13136050
> 
> 赞同：2
> 
> 时间：2012-10-30T09:29:12.570
> 
> 标签：iphone, objective-c, xcode, macos, cocoa

嘿伙计们，我想获得我`UITabbarController`在相关内部的选定索引`UIViewControllers`。我试图得到`parentViewController`with`[self parentViewController];`但似乎，这不是正确的方法，因为我得到的控制器没有类似的方法`selectedIndex`。有什么建议么 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:35:23.493

```
 int i = [self.tabBarController selectedIndex];
    NSLog(@"Selected Index = %d",i); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:35:58.187

访问 tabBarController 的`selectedIndex`属性

```
tabBarController.selectedIndex 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T09:36:12.460

这样做很容易。想象一下，你有 4 个图标在`TabBarcontroller`. 如果您想访问其中任何一个，您必须执行以下操作：

```
 [self.tabBarController setSelectedIndex:0];
   [self.tabBarController setSelectedIndex:1];
   [self.tabBarController setSelectedIndex:2];
   [self.tabBarController setSelectedIndex:3]; 
```

索引是tabBar中的位置

# dependency-injection - Guice 的实例方法

> ID：13136051
> 
> 赞同：2
> 
> 时间：2012-10-30T09:29:13.403
> 
> 标签：dependency-injection, instance, guice

我想为其中一个组件使用 Guice 的静态实例方法（非托管 bean 应该能够访问此类）。我创造了这样的东西：

```
public class LookupService {

   @Inject
   private static Provider<Injector> injector = null;

   private final ILookup<IWS> lookup;

   @Inject
   public LookupService(ILookup<IWS> lookup) {
      this.lookup = lookup;
   }

   public static LookupService instance() {
     return injector.get().getInstance(LookupService.class);
   }

   public <T extends IWS> T lookup(Class<T> localInterface) {
      return lookup.lookup(localInterface);
   } 
```

}

你觉得这个设计怎么样？对此还有其他想法吗？（从非托管对象访问托管 bean）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-31T03:08:19.807

基本上，您正在寻找的模式称为“请求静态注入”，并且有一个[专用于它的 Binder 方法](http://google-guice.googlecode.com/git/javadoc/com/google/inject/Binder.html#requestStaticInjection%28java.lang.Class%3C%3F%3E...%29)。一旦你把它写下来，你的代码看起来很像[Guice 文档中的这个例子](http://code.google.com/p/google-guice/wiki/Injections#Static_Injections)。

```
public class MainModule extends AbstractModule {
  @Override public void configure() {
    requestStaticInjection(LookupService.class);
  }
}

public class LookupService {

  /** This will be set as soon as the injector is created. */
  @Inject
  static Provider<LookupService> provider = null;

  private final ILookup<IWS> lookup;

  @Inject
  public LookupService(ILookup<IWS> lookup) {
    this.lookup = lookup;
  }

  public static LookupService instance() {
    return provider.get();
  }

  public <T extends IWS> T lookup(Class<T> localInterface) {
    return lookup.lookup(localInterface);
  }
} 
```

几点注意事项：

*   虽然您仍然可以将您的字段设置为`private`，但请记住，这意味着如果没有 Guice 的私有字段访问魔法，您将无法在测试（或将来的非 Guice 使用）中设置它。使用注入字段时，我们经常将它们设为包私有，然后将测试放在同一个包中。

*   静态注入通常被视为仅在迁移到 Guice 或使用无法更改的其他代码时才认可的东西。如果可能，尽量避免全局状态——即使这意味着`FooBean`只制作数据并创建一个注入的`FooBeanService`.

*   即使你可以在`Injector`任何你想要的地方注入一个，你可能会发现如果你只是注入一个更容易测试`Provider<LookupService>`。只有在运行时才知道需要什么类型的情况下才注入 an `Injector`——例如，如果您通过将类文字传递给注入器来获取实例来`LookupService.lookup(...)`使用 an来实现。`Injector`

*   实际上，从这里很难说，但`ILookup`似乎很像[服务定位器模式](http://martinfowler.com/articles/injection.html)，它解决了 Guice 通过依赖注入解决的确切问题类型！如果是这种情况，您不妨重写 ILookup 以使用 Guice：只需删除对的调用`LookupService.instance().lookup(Foo.class)`，而是创建一对匹配的`@Inject static Provider<Foo> fooProvider`and `requestStaticInjection(FooUser.class)`。

希望有帮助！

# objective-c - SideMenu 黑色视图

> ID：13136055
> 
> 赞同：1
> 
> 时间：2012-10-30T09:29:32.403
> 
> 标签：objective-c, ios, sidebar

我正在尝试制作侧边栏菜单，但我有一个小问题。

我解释 ：

1.  我创建了一个名为 sideMenuViewController 的 UIViewController
2.  在我的 viewController 类（初始视图控制器）中，在头文件中，我导入了我的类 SideMenuViewController 并写道：

    -（IBAction）openSideMenu：（id）发件人；

    ```
    @property(nonatomic, retain) SideMenuViewController *sideMenu; 
    ```

openSideMenu 操作与菜单按钮相关联。![菜单按钮](../Images/625a5e2b2f45e0c1d9bbbe47ba2d8a80.png)

我这样实现了这个方法：

```
- (IBAction)openSideMenu:(id)sender {
    CGRect destination = self.view.frame;

    if(destination.origin.x > 0){
        destination.origin.x = 0;
    }else{
        destination.origin.x += SideMenuX;
    }

    [UIView animateWithDuration:0.4 animations:^{
        self.view.frame = destination;
    }completion:^(BOOL finished) {
        if(finished){

        }
    }];
} 
```

SideMenuX 是一个宏：`#define SideMenuX 154.4`

我的 viewDidLoad 方法如下所示：

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    _sideMenu = [[SideMenuViewController alloc] init];
    [self.view sendSubviewToBack:_sideMenu.view];
    // Do any additional setup after loading the view, typically from a nib.
} 
```

**问题是当我点击菜单按钮时，我得到一个黑屏而不是我的侧面菜单视图。**

![黑屏侧栏菜单](../Images/17cf8ab9d6abfd6fc2000fad49176b90.png)

先感谢您 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:05:08.097

两个问题：

1.  您根本没有添加 sideMenu。尝试将其添加到父视图 ( `self.view.superview`)，在您的情况下最有可能是 UIWindow：

    ```
    [self.view.superview insertSubview:_sideMenu.view belowSubview:self.view];
    ```

    如果您使用的是导航控制器，请`self.navigationController.view`改用`self.view`.
2.  不确定您是使用 NIB 还是 Storyboard 初始化视图（如果没有，请参见下文）。

* * *

这是一个[工作示例](https://github.com/j4n0/slidecontroller)。我在情节提要中创建了左视图控制器，如下所示：

*   在情节提要上抛出一个 View Controller 组件。
*   选择左列的控制器，然后转到右列的 Identity Inspector (alt+cmd+3)：
    *   将类设置为`SideMenuViewController`
    *   将情节提要 ID 设置为`SideMenuViewController`

在 viewDidLoad 中实例化控制器

```
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
self.sideMenu = (SideMenuViewController*)[storyboard instantiateViewControllerWithIdentifier:@"SideMenuViewController"]; 
```

然后将其作为超级视图的子项插入。

* * *

**（回答下面的评论）**

这条线是问题所在：

```
[self.view.superview addSubview:_sideMenu.view]; 
```

在基于 NIB 的项目中，superview 是 UIWindow，但在 Storyboard 项目中，UIViewController 的 self.view.superview 为 nil。您可以解决这个问题，例如，添加一个 UINavigationViewController。按着这些次序：

*   加入“导航控制器”
*   删除它指向的视图控制器。
*   按 Ctrl 并将指针从 UINavigationController 拖到您的视图控制器，然后在出现的对话框中选择“根视图控制器”。
*   将指向视图控制器的箭头拖到 UINavigationController（标记初始视图控制器的那个，而不是来自 UINavigationController 的那个）。

然后将您的代码更改为

```
_sideMenu = [[SideMenuViewController alloc] initWithNibName:@"SideMenuViewController" bundle:nil];
[self.navigationController.view.superview insertSubview:_sideMenu.view belowSubview:self.navigationController.view]; 
```

要隐藏 UINavigationController 的导航栏，请在 Storyboard 中选择它并单击 Attributes Inspector 中的隐藏 (alt+cmd+4)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:53:41.807

您所看到的都是黑色的，因为您没有添加侧面菜单视图。尝试这个：

```
- (void)viewDidLoad {
      [super viewDidLoad];
      _sideMenu = [[SideMenuViewController alloc] init];
      [self.view addSubview:_sideMenu.view];
      [self.view sendSubviewToBack:_sideMenu.view];
} 
```

# python - Django 如果 user.is_authenticated 不起作用

> ID：13136057
> 
> 赞同：4
> 
> 时间：2012-10-30T09:29:36.227
> 
> 标签：python, django, authentication, django-forms

我只是想运行一个简单的`{% if user.is_authenticated %}`. 但它总是返回`False`。

这是我所有的文件。

`views.py`

```
from django.shortcuts import render_to_response, redirect
from django.core.urlresolvers import reverse
from django.template import RequestContext
from django.contrib.auth.models import User
from django.http import HttpResponse
from django.contrib.auth.hashers import *
from forms import UserLoginForm
from models import UserLogin

def index(request):
    return render_to_response('index.html', context_instance = RequestContext(request))

def login(request):
    if request.method == 'POST':
        form = UserLoginForm(request.POST or None)
        if form.is_valid():
            email_from_form = form.cleaned_data['email']
            password_from_form = form.cleaned_data['password']
            users = User.objects.filter(email = email_from_form)

            for j in users:
                if j.email == email_from_form:
                    pass_match = check_password(password_from_form, j.password)
                    if pass_match:
                        return redirect(reverse('profile'), context_instance = RequestContext(request))
                    else:
                        return HttpResponse('Entered password did not match')
                else:
                    return HttpResponse('Entered email does not exist')
        else:
            return HttpResponse(form.errors)
    else:
        form = UserLoginForm()

    return render_to_response('login.html', {'form':form}, context_instance = RequestContext(request))

def profile(request):

    return render_to_response('profile.html', context_instance = RequestContext(request)) 
```

`forms.py`

```
from django import forms

class UserLoginForm(forms.Form):
    email = forms.EmailField(max_length = 100)
    password = forms.CharField(max_length = 100) 
```

`models.py`

```
from django.db import models

class UserLogin(models.Model):
    email = models.EmailField(max_length = 100)
    password = models.CharField(max_length = 100)

    def __unicode__(self):
        return self.email 
```

`profile.html`

```
<html>
<head>
    <title>profile</title>
</head>
<body>
    {% if user.is_authenticated %}
        Welcome user, you are loged in..
    {% else %}
        You are not logged in
    {% endif %}
</body>
</html> 
```

`login.html`

```
<html>
<head>
    <title>login</title>
</head>
<body>
    <form action="{% url login %}" method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" id="submit" name="submit" value="Login" />
    </form>

</body>
</html> 
```

**它总是回来`You are not logged in`**

我是 django 的新手，我不明白为什么会这样。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T09:38:09.953

您永远不会登录您的用户。请尝试以下几行：

```
from django.contrib.auth import authenticate, login as auth_login

if request.method == 'POST':
    form = UserLoginForm(request.POST or None)
    if form.is_valid():
        username = User.objects.get(email=form.cleaned_data['email'])
        password = form.cleaned_data['password']
        user = authenticate(username=username, password=password)
        if user:
            if user.is_active:
                auth_login(request, user)
                return HttpResponseRedirect(request.GET.get('next',
                                            settings.LOGIN_REDIRECT_URL))
        else:
            error = 'Invalid username or password.' 
```

*为了清楚起见，更新以使用您的表格；排除错误检查。*

# android - 将视图滑过（在顶部）另一个视图

> ID：13136058
> 
> 赞同：6
> 
> 时间：2012-10-30T09:29:40.357
> 
> 标签：android

我有两个视图，比如视图 A 和视图 B。目前，视图 B 处于活动状态。按下按钮时，视图 A 必须从侧面部分滑入视图 B 的顶部。

如何实现？我已经完成了菜单中 facebook 幻灯片的 Horizo​​ntalScrollView 实现，但这只是滚动浏览并排放置的两个视图。这种实现是完全不同的。

谢谢，

席德

# python - 为什么pip卸载不了pysqlite？

> ID：13136060
> 
> 赞同：19
> 
> 时间：2012-10-30T09:29:43.323
> 
> 标签：python, pip, pysqlite

我正在尝试`pysqlite`使用`pip`.

我这样做毫无意义：

```
$ pip uninstall pysqlite 
```

该命令有效，但请注意：

```
$ pip freeze
[...]
pysqlite==1.0.1 
```

让我们再试一次

```
$ pip uninstall pysqlite
Can't uninstall 'pysqlite'. No files were found to uninstall. 
```

不，似乎已删除但仍显示在`pip freeze`

现在乐趣来了

```
$ pip install pysqlite
Requirement already satisfied (use --upgrade to upgrade): pysqlite in /usr/lib/python2.6/dist-packages
Cleaning up... 
```

很公平：

```
$ pip install -U pysqlite
[...]
error: command 'gcc' failed with exit status 1
[...]
Can't roll back pysqlite; was not uninstalled
[...] 
```

我只是不明白。为什么pip卸载不了pysqlite？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-30T09:36:04.363

转到您的`/usr/lib/python2.6/site-packages/pysqlite*.egg/`（或您将鸡蛋存储在 python 路径中的其他任何地方）并查找该`installed-files.txt`文件。

如果它不存在，`pip`将无法卸载它，如果存在，则删除其中的所有文件并摆脱 pysqlite。正如 Martijn 建议的那样，您还应该检查您是否没有使用另一个包管理器安装您的包。

如果你没有`installed-files.txt`，并且你的包没有通过第三方包管理器安装，你应该查找你的 egg 所在的位置，并将其从 python 路径中删除。通常，鸡蛋也会在它们所在的目录中写入文件，因此您应该`pysqlite/`在放置的目录中查找目录`pysqlite.egg`。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2017-02-23T06:16:13.480

作为记录，我能够通过使用 --ignore-installed 标志来升级我遇到此问题的软件包，例如

```
 pip install python-dateutil --upgrade --ignore-installed 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-02-24T14:39:53.397

换个方式就行了。

我 pip-installed`ykdl`需要`m3u8`和`iso8601`.

然后我想将它们全部卸载，.and`pip uninstall ykdl iso8601 m3u8`不见了，但我无法卸载.And 我在.and 中看到了它。我也很纳闷。`ykdl``iso8601``m3u8``pip list`

最后。当我尝试导入 m3u8 时，它失败并说“需要 iso8601”。所以我一一安装，`iso8601`然后卸载。有效`m3u8``iso8601`

=====

它在ubuntu上。`iso8601` `m3u8` `ykdl`但在我的 Windows 10 上，我一步一步卸载成功。令人兴奋！

# vb.net - VB.net 从谷歌搜索中提取结果

> ID：13136067
> 
> 赞同：1
> 
> 时间：2012-10-30T09:30:02.667
> 
> 标签：vb.net, google-api, google-search, google-search-api

我想提取谷歌搜索结果，
我正在使用`Google.API.Search`，

我试图通过这段代码提取结果：

```
Dim client As New GwebSearchClient("http://www.google.co.il")
Dim results As IList(Of IWebResult) = client.Search("test", 64)
For Each result As IWebResult In results
            ListBox1.Items.Add(result.Url)
Next
Me.Text = ListBox1.Items.Count 
```

此代码**部分**
工作 ，结果限制为**64 个**结果。
我想获得 400 个结果，
还有另一种方法可以从 google 获得结果吗？
（我不喜欢使用`Google.API.Search`，也许通过“正则表达式”得到结果）
我喜欢任何其他方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-05T16:07:12.430

我不确定这是如何工作的。但是字符串“test”旁边有一个等于 64 的整数。你得到了 64 个结果，所以我猜可能是这样。

```
Dim client As New GwebSearchClient("http://www.google.co.il")
Dim results As IList(Of IWebResult) = client.Search("test", 400)
For Each result As IWebResult In results
            ListBox1.Items.Add(result.Url)
Next
Me.Text = ListBox1.Items.Count 
```

把代码改成上面的，应该没问题！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-27T19:55:57.560

遗憾的是，无论您是否将限制设置为超过该限制，谷歌搜索 api 都将搜索限制为 64。至少那是我在他们的文档中读到的..

# java - 优化基于正则表达式的查找函数

> ID：13136068
> 
> 赞同：0
> 
> 时间：2012-10-30T09:30:03.817
> 
> 标签：java, regex

我有以下功能。

```
private boolean codeContains(String name, String code) {
    if (name == null || code == null) {
        return false;
    }

    Pattern pattern = Pattern.compile("\\b" + Pattern.quote(name) + "\\b");
    Matcher matcher = pattern.matcher(code);

    return matcher.find();
} 
```

它在我的代码中被调用了数千次，并且是我的程序花费最多时间的函数。有没有办法让这个函数运行得更快，或者它已经尽可能快了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:31:10.263

如果您不需要检查单词边界，您可以这样做：

```
private boolean codeContains(String name, String code) {
    return name != null && code != null && code.indexOf(name)>=0;
} 
```

如果您需要检查单词边界，但我想是您的情况，您有一个`code`经常搜索的内容，您可以“编译”`code`一次

*   使用 split 方法拆分`code`字符串
*   将令牌放入哈希集中（检查令牌是否在哈希集中相当快）。

当然，如果您有多个代码，很容易将它们存储在适合您的程序的结构中，例如以文件名作为键的映射中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:07:46.413

“普通”字符串操作（几乎）总是比正则表达式更快，尤其是当您无法预编译模式时。

假设适合您的需求，这样的事情会更快（有足够大的`name`字符串`code`） ：`Character.isLetterOrDigit(...)`

```
private boolean codeContains(String name, String code) {

    if (name == null || code == null || code.length() < name.length()) {
        return false;
    }

    if (code.equals(name)) {
        return true;
    }

    int index = code.indexOf(name);
    int nameLength = name.length();

    if (index < 0) {
        return false;
    }

    if (index == 0) {
        // found at the start
        char after = code.charAt(index + nameLength);
        return !Character.isLetterOrDigit(after);
    }
    else if (index + nameLength == code.length()) {
        // found at the end
        char before = code.charAt(index - 1);
        return !Character.isLetterOrDigit(before);
    }
    else {
        // somewhere inside
        char before = code.charAt(index - 1);
        char after = code.charAt(index + nameLength);
        return !Character.isLetterOrDigit(after) && !Character.isLetterOrDigit(before);
    }
} 
```

一个小测试成功了：

```
@Test
public void testCodeContainsFaster() {

    final String code = "FOO some MU code BAR";

    org.junit.Assert.assertTrue(codeContains("FOO", code));
    org.junit.Assert.assertTrue(codeContains("MU", code));
    org.junit.Assert.assertTrue(codeContains("BAR", code));
    org.junit.Assert.assertTrue(codeContains(code, code));

    org.junit.Assert.assertFalse(codeContains("FO", code));
    org.junit.Assert.assertFalse(codeContains("BA", code));
    org.junit.Assert.assertFalse(codeContains(code + "!", code));
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:36:10.587

这段代码似乎做到了：

```
private boolean codeContains(String name, String code) {
    if (name == null || code == null || name.length() == 0 || code.length() == 0) {
        return false;
    }

    int nameLength = name.length();
    int lastIndex = code.length() - nameLength;

    if (lastIndex < 0) {
        return false;
    }

    for (int curr = 0; curr < lastIndex; ) {
        int index = code.indexOf(name, curr);
        int indexEnd = index + nameLength;

        if (index < 0 || lastIndex < index) {
            break;
        }

        boolean leftOk = index == curr ||
                index > curr && !Character.isAlphabetic(code.charAt(index - 1));

        boolean rightOk = index == lastIndex ||
                index < lastIndex && !Character.isAlphabetic(code.charAt(indexEnd));

        if (leftOk && rightOk) {
            return true;
        }

        curr += indexEnd;
    }

    return false;
} 
```

公认的答案变得混乱，因为他是第一个为我指出正确方向的人，但巴特·基尔斯（Bart Kiers）的出色回答，+1！

# php - 在 JSON 中传递子对象

> ID：13136072
> 
> 赞同：0
> 
> 时间：2012-10-30T09:30:15.363
> 
> 标签：php, javascript, jquery, json

我正在尝试将 JSON 字符串传递给我的 PHP 脚本，但我不确定如何以考虑可能有 0 个或多个电话、电子邮件和传真的方式构建字符串。

这是我的字符串的示例：

```
{"mode": "ADD_CONTACT", "id": 316, "firstname": "", "lastname": "", "telephones": {"teltype": 1, "telnumber": "234523453245", "isprimary": 0, "teltype": 4, "telnumber": "657567567567", "isprimary": 0}} 
```

问题是我的脚本只给了我最后一个电话号码，大概是因为JSON参数名称是一样的，那么我应该用什么格式来实现我想要的呢？我想避免在参数名称的末尾粘贴增量数字，即“telnumber1”、“telnumber2”等。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:31:21.090

使用数组（可以为空）：

```
{..., "telephones": [{"teltype": 1, "telnumber": "234523453245", ...}, {...}]} 
```

例子：

```
$json = 
  '{"telephones": [' .
    '{"teltype": 1, "telnumber": "222222222222"}, ' .
    '{"teltype": 1, "telnumber": "111111111111"}' .
  ']}';
print_r(json_decode($json, true)); 
```

```
Array
(
    [telephones] => Array
        (
            [0] => Array
                (
                    [teltype] => 1
                    [telnumber] => 222222222222
                )
            [1] => Array
                (
                    [teltype] => 1
                    [telnumber] => 111111111111
                )
        )
) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:31:25.830

听起来像`telephones`等。人。应该是对象数组，而不仅仅是单个对象。数组以 开头`[`和结尾`]`，例如：

```
"telephones": [
    {"teltype": 1, "telnumber": "234523453245", "isprimary": 0},
    {"teltype": 4, "telnumber": "657567567567", "isprimary": 0}
], 
```

必要时数组可以为空：

```
"telephones": [] 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T09:31:28.950

将多个电话号码作为数组传递：

```
{
    "mode": "ADD_CONTACT", "id": 316, "firstname": "", "lastname": "", 
    "telephones": 
    [
        {"teltype": 1, "telnumber": "234523453245", "isprimary": 0}, 
        {"teltype": 4, "telnumber": "657567567567", "isprimary": 0}
    ]
} 
```

您显然需要修改服务器端脚本以期望“电话”的数组。

# primefaces - 任务完成时primefaces显示面板

> ID：13136073
> 
> 赞同：0
> 
> 时间：2012-10-30T09:30:17.110
> 
> 标签：primefaces

我在 primefaces 中有一个按钮，按下该按钮时我会进行一些计算，并且应该会出现一个显示结果的新面板。我有代码

```
<p:commandButton value="Submit"
        ajax="false" actionListener="#{myBean.search}" oncomplete="panelwv.show();">
    </p:commandButton>

    <p:panel widgetVar="panelwv" visible="false" closable="true"
        toggleable="true"> 
```

因此，当单击按钮时，将调用 MyBean.search 方法，完成后我希望面板“panelwv”出现，但它没有。我究竟做错了什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:37:11.907

`oncomplete`只能在`ajax`is时执行`true`。否则会重新加载整个页面。您可能还想通过给它一个 id 并将`update`命令按钮的属性设置为此 id 来更新面板的内容。

# vb.net - 反转首字母大写？

> ID：13136074
> 
> 赞同：0
> 
> 时间：2012-10-30T09:30:32.810
> 
> 标签：vb.net, .net-3.5

您好，我只是想知道是否有反转此代码以使第一个字母为小写而其余单词为大写？

```
Dim s As String = "the quick brown fox jumps over the lazy dog"
Dim s2 As String = StrConv(s, VbStrConv.ProperCase)
MessageBox.Show(s2) 
```

我正在使用 .net 框架 3.5

这是答案！谢谢蒂姆！

```
Dim s As String = TextBox1.Text
Dim s2 = String.Join(" ", s.Split() .Select(Function(w)UppercaseAllButFirst(w)).ToArray())
TextBox2.Text = s2 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:40:08.190

你可以这样做：

```
dim s1 as string="the quick brown fox jumps over the lazy dog"
dim s2 as string= _ 
     string.Join(" ",s1.Split(" ").Select (function(s) _
     s.Substring(0,1).ToLower()+s.Substring(1).ToUpper()).ToArray()) 
```

这将为您提供以下输出：

```
tHE qUICK bROWN fOX jUMPS oVER tHE lAZY dOG 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:38:28.017

您可以创建一个新函数：

```
Public Shared Function UppercaseAllButFirst(s As String) As String
    ' check for empty string
    If (String.IsNullOrEmpty(s)) Then
        Return String.Empty
    End If
    Return Char.ToLower(s(0)) & s.Substring(1).ToUpper()
End Function 
```

然后你可以这样使用它：

```
Dim s2 = String.Join(" ", s.Split().Select(Function(w) UppercaseAllButFirst(w))) 
```

.NET 3.5，`String.Join`需要一个数组：

```
String.Join(" ", s.Split().Select(Function(w) UppercaseAllButFirst(w)).ToArray()) 
```

# lync-2010 - 启用 Lync 的 Windows 应用商店应用程序 - 文件传输和视频对话 - Lync SDK

> ID：13136075
> 
> 赞同：3
> 
> 时间：2012-10-30T09:30:34.290
> 
> 标签：lync-2010

我们正在 Windows 8 上构建移动解决方案，即 Windows Store App，为维护人员提供实时协作功能，以便与客户支持团队联系。我们正在利用 Lync 2010 客户端 SDK 来支持协作需求。以下是我们计划在应用程序中启用的关键功能

1.  文字对话
2.  音频对话
3.  视频对话
4.  文件共享（发送/接收）
5.  远程桌面共享
6.  白板分享

以下是我们将 Lync 与 Windows 应用商店应用程序集成所采用的方法：

```
 Lync  will be running in UI Suppression Mode &  app will communicate with Lync client through SDK APIs, since the functionality is needed within the application.
     Lync Assemblies are wrapped in WCF service, since Lync SDK is not available for Windows Store apps. 
```

我们目前能够在 UI 抑制模式下通过 SDK 启用文本和音频对话

```
 We right now are in need of an approach to enable File sharing between the app & Lync standard Client. 
```

可用于文件传输的选项是通过上下文对话，这需要根据以下参考进行 GUID 交换。

[http://code.msdn.microsoft.com/office/Lync-2010-Transferring-f766e7aa](http://code.msdn.microsoft.com/office/Lync-2010-Transferring-f766e7aa)

我们想知道这种情况在 Windows 应用商店应用程序和标准 Lync 客户端之间是否有效，如果没有要求建议正确的方法。

```
 Along with File transfers, we'd also need the approach to enable video conversations, remote desktop/white board sharing with the current approach (Lync -> WCF Service -> Windows Store app) as from SDK it is not clear how we get stream data which can be forwarded to Windows Store app.
     Just found out that Desktop/Whiteboard/Resource sharing is not possible in UI Suppression mode, (reference below) 
```

[http://social.msdn.microsoft.com/Forums/en-US/communicatorsdk/thread/1a7355fe-5c64-4b11-ba25-ce18d6bdd3dd](http://social.msdn.microsoft.com/Forums/en-US/communicatorsdk/thread/1a7355fe-5c64-4b11-ba25-ce18d6bdd3dd)

```
 The following behavior will be the concern from user experience point of view in case of Automation APIs, especially for Windows Store App, considering their full screen behavior 
```

在开始对话时，相应的对话窗口会闪烁并将用户带到桌面，用户必须手动转到 windows 商店应用程序，发布此事件。在桌面应用程序的情况下，对话窗口可以停靠，即使用 DockWindow() 的 WinForms/WPF，有没有办法用于 Windows Store 应用程序？来电通知冒泡，这会干扰 Windows 应用商店应用程序的用户体验用户必须接受文件传输才能在对话窗口中手动接收 如果自动化 API 是唯一的，请告知是否有避免上述行为的最佳解决方案用于 Windows Store App 的选项。

# asp.net - asp.net中的图像控制？

> ID：13136085
> 
> 赞同：1
> 
> 时间：2012-10-30T09:31:07.223
> 
> 标签：asp.net

在 Web 应用程序中，我试图在 .aspx 页面中显示图像，为此我在 page_load 事件中编写了这样的代码，

```
Image1.ImageUrl = @"C:\Users\Public\Pictures\Sample Pictures\Koala.JPEG"; 
```

但是图像不显示，你能帮我吗谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:33:22.700

图像路径有问题...您需要为图像提供相对路径而不是物理路径

像这样的东西

```
Image1.ImageUrl="~/Images/Bird1.jpg" 
```

这里图像位于应用程序的图像文件夹中。即这是项目的一部分

首先在您的解决方案资源管理器中创建一个图像文件夹。然后将您的图像存储在该文件夹中并参考如下。

**例子**

```
<asp:Image ID="Image1" runat="server" ImageUrl="~/Images/Bird1.jpg" /> 
```

签入细节：[图像控制示例](http://asp-net-example.blogspot.ca/2008/10/image-control-example.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:33:36.273

您不能使用本地路径作为图像的路径，而是将网站 url 与图像的相对路径一起放置

# rest - twitter API 和 Rest Call 的身份验证

> ID：13136092
> 
> 赞同：6
> 
> 时间：2012-10-30T09:31:53.480
> 
> 标签：rest, twitter, twitter-oauth

我一直在使用 FB api 进行一些简单的演示，并且通过身份验证一切都很容易。现在我必须用 twitter v1.1 做类似的事情，但有些事情我真的不明白......

示例：我想做这个请求： [https ://api.twitter.com/1.1/search/tweets.json?q=q=%23freebandnames](https://api.twitter.com/1.1/search/tweets.json?q=q=%23freebandnames)

问题是我必须经过身份验证，有人有一些例子吗？我不想创建 twitter 连接，因为我不需要不同的用户连接到我的应用程序。我只需执行一些简单的搜索请求，但我不明白如何使用身份验证参数。我必须使用哪种类型的 Ajax 请求才能执行经过身份验证的 REST 请求？？？（显然我有我的秘密令牌和我的访问秘密令牌）但是如何使用它们？？？？

提前感谢您的回答

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-30T11:07:32.680

**您可以使用这个 javascript 库：[codebird-js](https://github.com/mynetx/codebird-js)和“仅应用程序身份验证”。**

或者

**自己动手：[文档](https://dev.twitter.com/docs/auth/application-only-auth)中解释了一切。**

基本上你需要遵循 3 个步骤（你应该先做 2 一次）：

> *   应用程序将其消费者密钥和秘密编码为一组经过特殊编码的凭据。
> *   应用程序向 POST oauth2/token 端点发出请求，以将这些凭证交换为不记名令牌。
> *   访问 REST API 时，应用程序使用不记名令牌进行身份验证。

这些步骤在文档中有详细说明。

您可以分别执行前 2 个操作，当您获得不记名令牌时，您需要在每个请求中使用不记名令牌添加特定的 HTTP 标头（授权）（这是第三步）。使用 jQuery，它可能是这样的：

```
$.ajax({
  headers: { Authorization: 'Bearer '+$my_bearer_token },
  url: 'https://api.twitter.com/1.1/search/tweets.json?q='+$search
}).done(function (data) {
  // Play with the data
}); 
```

# asp.net-mvc-4 - SignalR Undefined 不是函数

> ID：13136093
> 
> 赞同：1
> 
> 时间：2012-10-30T09:31:57.120
> 
> 标签：asp.net-mvc-4, bundle, signalr

我的布局中有以下内容

```
<script src="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Scripts/js")"></script
<script src="@Url.Content("~/signalr/hubs")" type="text/javascript"></script> 
```

![我的脚本文件夹中的脚本](../Images/3c0d8aee30737a73b35d23d163fb0263.png)

在**Global.asax** `Application_Start()`

```
BundleTable.Bundles.EnableDefaultBundles(); 
```

SignalR 工作正常，但它抛出一个错误

**未捕获的类型错误：未定义不是函数**

所以它不适用于捆绑包还是有其他东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-02T12:03:21.657

显然

```
<script src="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Scripts/js")"></script 
```

不起作用，经过一些实验，我通过将信号器脚本移动到不同的文件夹（**Scripts/signalr**）解决了这个问题，并在我的 _Layout.cshtml 文件中使用了以下内容：

```
<script src="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Scripts/js")"></script>
<script src="@Url.Content("~/Scripts/signalr/jquery.signalR-0.5.3.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/signalr/hubs")" type="text/javascript"></script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-15T10:15:06.877

只需`;`在 `...{ n.signalR.version = "1.1.2" }(window.jQuery)`.

结果字符串为：

```
...{ n.signalR.version = "1.1.2" }(window.jQuery); 
```

# c# - 项目的 WinForms 默认资源文件

> ID：13136095
> 
> 赞同：0
> 
> 时间：2012-10-30T09:32:04.203
> 
> 标签：c#, .net, winforms, resources

我们正在使用 WinForms (.NET 3.5) 构建应用程序

我熟悉*Resources*的概念，但是我不遵循每个项目默认 Resources 的想法。

在我们的项目中，我在以下情况下看到资源（RESX 文件）的使用：

1.  每个项目（在“资源”选项卡下的项目属性中设置）
2.  每个控件（例如表单）——我们的主表单有一个随附的 RESX 文件（在 VS 中扩展为 .cs 文件）

2有什么区别？

一方面，每个表单拥有资源似乎在逻辑上是正确的，但我无法从特定表单资源中选择图像（例如，仅来自全局资源）

这里有什么问题，应该如何使用 2？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:45:29.667

如果您想以多种形式使用资源，那么最好使用项目资源。这样它只存储一次。如果没有，那么将其保存在表单的资源文件中可以更容易地保持它们的组织。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:38:28.007

表单资源用于本地化，如果您将表单配置为可本地化，Visual Studio 将为每种语言创建一个资源文件：myform.en-US.resx myform.fr-FR.resx ....

# java - 使用 SAX java Swing 的 XML 解析器

> ID：13136099
> 
> 赞同：0
> 
> 时间：2012-10-30T09:32:22.370
> 
> 标签：java, xml, swing

我有一个小项目要完成。我必须解析一个 XML 文件，然后显示到用户界面（swing）上。我做了一些研究并尝试了 SAX 解析。现在，我正在考虑如何将对象模型转换为 UI。这是我找到的教程链接： [http ://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/](http://www.mkyong.com/java/how-to-read-xml-file-in-java-sax-parser/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:40:59.917

**在这里，我们完成了您想要的事情。**

```
import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;
import java.util.ArrayList;
import java.util.Iterator;

public class JTableComponent {
    public static void main(String[] args) {
        new JTableComponent();
    }

    public JTableComponent() {
        JFrame frame = new JFrame("Creating JTable Component Example!");
        JPanel panel = new JPanel();

        DefaultTableModel aModel = new DefaultTableModel() {
            public boolean isCellEditable(int row, int column) {
                return false;
            }
        };

        Staff s1 = new Staff("vinod1", "BCA", "A", "10000");
        Staff s2 = new Staff("vinod2", "BCA", "A", "20000");
        Staff s3 = new Staff("vinod3", "BCA", "A", "30000");
        Staff s4 = new Staff("vinod4", "BCA", "A", "40000");
        ArrayList<Staff> l = new ArrayList<Staff>();// here you will get parser
                                                    // object this is as sample
        l.add(s1);
        l.add(s2);
        l.add(s3);
        l.add(s4);
        Iterator<Staff> is = l.iterator();

        String col[] = { "firstname", "lastname", "nickname", "salary" };
        aModel.setColumnIdentifiers(col);
        JTable table = new JTable(aModel);
        while (is.hasNext()) {
            Staff t = is.next();
            String firstname = t.getFirstname();
            String lastname = t.getLastname();
            String nickname = t.getNickname();
            String salary = t.getSalary();
            String temp[] = { firstname, lastname, nickname, salary };
            aModel.addRow(temp);
        }
        table.setModel(aModel);
        panel.add(table, BorderLayout.CENTER);

        frame.add(panel);
        frame.setSize(300, 300);
        frame.setVisible(true);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
} 
```

**Bean 为您显示 xml 文件**

```
public class Staff 
{
    String firstname= "";
    String  lastname ="";
    String nickname = "";
    String salary = "";

    public Staff(String firstname,String lastname,String nickname,String salary)
    {
         this.firstname= firstname;
         this.lastname =lastname;
         this.nickname = nickname;
         this.salary = salary;
    }

    public String getFirstname() {
        return firstname;
    }
    public void setFirstname(String firstname) {
        this.firstname = firstname;
    }
    public String getLastname() {
        return lastname;
    }
    public void setLastname(String lastname) {
        this.lastname = lastname;
    }
    public String getNickname() {
        return nickname;
    }
    public void setNickname(String nickname) {
        this.nickname = nickname;
    }
    public String getSalary() {
        return salary;
    }
    public void setSalary(String salary) {
        this.salary = salary;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:40:10.070

可能是 XMLEditorKit [http://java-sl.com/xml_editor_kit.html](http://java-sl.com/xml_editor_kit.html)会有所帮助。它允许解析 XML 文件并在 JEditorPane/JTextPane 中显示它们。

您可以获取源代码并添加您自己的表示。

# hadoop - hadoop fs -getmerge中的SocketTimeoutException

> ID：13136112
> 
> 赞同：0
> 
> 时间：2012-10-30T09:33:22.840
> 
> 标签：hadoop, hdfs

我正在运行 hadoop fs -getmerge 并收到以下错误：

```
12/10/30 09:24:45 INFO hdfs.DFSClient: Failed to connect to /[IP], add to
deadNodes and continue
java.net.SocketTimeoutException: 60000 millis timeout while waiting for channel to be   
ready for read. ch : java.nio.channels.SocketChannel 
```

每次尝试使用不同的 IP 都会收到此错误，并且在数据节点日志中没有看到任何可疑错误或警告。

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-30T23:52:22.673

HDFS 读取直接从保存 DataNode 的块中完成。

这背后的一个常见原因，特别是如果它以这种方式失败是一致的，是由于防火墙或其他原因而缺乏适当的客户端➜数据节点连接。

# iphone - 如何查看释放后正在接收消息的对象

> ID：13136114
> 
> 赞同：0
> 
> 时间：2012-10-30T09:33:22.617
> 
> 标签：iphone, xcode, crash, release, dealloc

我遇到了错误，但想要更具体的信息，如行号、类名、方法名等。

`-[__NSArrayM release]: message sent to deallocated instance 0x72ab440`

也就是说，解密内存地址0x72ab440？

有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:55:20.787

在 Xcode finder 窗口中选择 Xcode 首选项，然后选择文本编辑，最后选择行号中的复选标记选项。XCode>首选项>文本编辑>行号（选中复选标记）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:06:41.577

这不是您要查找的行号，因此您得到的关于如何显示行号的答案是错误的树。

您所要求的是一种了解正在向哪些对象发送消息的方法，即使它们已被释放。

做到这一点的方法是打开 NSZombies。

您可以在 Xcode 的 Scheme 设置中执行此操作

![在此处输入图像描述](../Images/73d5b9743cc276c156932dafbe948e2b.png)

确保你只有这个用于调试版本，顺便说一句。

启用此选项后，您将获得有关正在向哪个对象发送消息以及来自何处的更多信息指示。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:41:00.780

转到`XCode -> Preferences -> Text Editing`并修改以下..

![在此处输入图像描述](../Images/ec7dfdb4611865c49e6ae8d5d836908d.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T09:38:41.643

你可以使用 DLog，但是你已经知道问题出在哪里了......

[NSLog 和 DLog 的区别](https://stackoverflow.com/questions/9659763/difference-between-nslog-and-dlog)

# string - 将基数 B 中的数字转换为二进制

> ID：13136117
> 
> 赞同：1
> 
> 时间：2012-10-30T09:33:30.597
> 
> 标签：string, binary, base-conversion

我有一个非常大的字符串（大约 1000 个字符），它以 B 为基数。

由于我不能使用任何算术运算符，因此将其转换为二进制表示的最佳方法是什么。

这是一个面试练习题，我只是想弄清楚我关于位操作的基础知识。

# java - 使用 scmManager 基于 ScmVersion 版本结帐

> ID：13136119
> 
> 赞同：1
> 
> 时间：2012-10-30T09:33:37.593
> 
> 标签：java, svn, maven-scm

```
org.apache.maven.scm.manager.ScmManager 
```

我们有一个 jface 表在其中一列中显示修订（修订只是数字），我们试图实现的是：

1.  选择一行以选择修订。
2.  右键单击并根据 repo 的修订签出。

当前使用的 API：

```
scmManager.checkOut(ScmRepository repository, ScmFileSet fileSet, ScmVersion version) 
```

我们想传递从行选择中获得的修订号。

什么 API 可以帮助我们使用表格单元格中的修订号来根据修订进行结帐？

# java - 生产者/消费者场景中的双向流

> ID：13136123
> 
> 赞同：0
> 
> 时间：2012-10-30T09:34:13.137
> 
> 标签：java, multithreading

我正在尝试为我遇到的排队问题找到解决方案。在典型的场景中，生产者将某些东西放入队列中，而消费者将其取出。如果我们有一个也消费的生产者和一个最初从队列中取出一些东西然后将一些东西（如结果）放回队列的消费者，怎么样。因此，如果您遵循，则有两种方式。是否可以同步两个线程来有效地做到这一点？天真地，我在我的一个线程的 run 方法中放置了一个循环，只是发现另一个线程只会运行一次然后死掉。如果这看起来含糊，请道歉。希望有人能指出我正确的方向

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:36:17.503

如果您只使用 a `ConcurrentLinkedQueue`，则可以从任何线程中放入和取出它。生产者和消费者线程之间没有严格的区分，队列对象保证了每个操作的一致性。

# php - 以编程方式更改 SMTP 服务器

> ID：13136131
> 
> 赞同：1
> 
> 时间：2012-10-30T09:34:34.727
> 
> 标签：php, email, smtp

嗨，我们有一个 CRM 系统，一旦管理员更新，就需要更改 SMTP 服务器。我们有一个表，它返回一组数据，其中包含状态为 1 的 SMTP 设置。问题是即使我已将 SMTP 设置发送到 htmlMimeMail.php（类），它仍然会中继到 localhost smtp 这是我的代码：

```
function sendEmail($txtFrom, $subject, $to, $cc = NULL, $bcc = NULL, $strHTML, $txtModel='')
    {
        $sql  = "SELECT * FROM smtp_server WHERE status='1'";
        $rstemp = $this->cn2->Execute($sql);
        while(!$rstemp->EOF)
        {
            $SMTPid = $rstemp->fields['id'];
            $SMTPServer = $rstemp->fields['server'];
            $SMTPPort = $rstemp->fields['port'];
            $SMTPusername=$rstemp->fields['user'];
            $SMTPpass=$rstemp->fields['pass'];
            $SMTPauth = $rstemp->fields['auth'];
            $rstemp->MoveNext();
        }
        $rstemp->Close();

        $fromEmail  = $txtFrom;
        $from       = $fromEmail;

        $mail = new htmlMimeMail();
        $mail->setTextCharset('utf-8');
        $mail->setHtmlCharset('utf-8');
        $mail->setHeadCharset('utf-8');
        $mail->setSMTPParams($SMTPServer, $SMTPPort,$SMTPid,base64_encode($SMTPusername),base64_encode($SMTPpass),$SMTPServer);         
        $mail->setReturnPath($fromEmail);
        $mail->setFrom($from);
        $mail->setSubject($subject);
        $mail->setHTML($strHTML);

        if(trim($txtModel) != '')
        {
            $file   = strtoupper($txtModel).".pdf";

            if(file_exists($this->dir.$file))
            {
                $attachment = $mail->getFile($this->dir.$file);
                $mail->addAttachment($attachment, $file, "application/pdf");
            }
        }

        if (!is_null($cc) && $cc != '') 
        {
            //$arrEmail = explode(",", $cc);
            $mail->setCc($cc);
            //unset($arrEmail);
        }

        $mail->setBcc($bcc.', sample@email.com');

        $arrEmail = explode(",", $to);      
        ini_set("SMTP",$SMTPServer);
        $result = $mail->send($arrEmail);

        return $result;
    } 
```

我在我的代码中遗漏了什么吗？我还添加了 ini_set

这是接收参数的函数。

```
function setSMTPParams($host = null, $port = null, $auth = null, $user = null, $pass = null,$helo = null)
{
    if (!is_null($host)) $this->smtp_params['host'] = $host;
    if (!is_null($port)) $this->smtp_params['port'] = $port;
    if (!is_null($helo)) $this->smtp_params['helo'] = $helo;
    if($auth == 4){
        if (!is_null($auth)) $this->smtp_params['auth'] = true;
    }else{
        if (!is_null($auth)) $this->smtp_params['auth'] = false;
    }
    if (!is_null($user)) $this->smtp_params['user'] = $user;
    if (!is_null($pass)) $this->smtp_params['pass'] = $pass;
} 
```

```
表定义
________________________________________
id|server |port|user|pass|auth |status
________________________________________
1 |本地主机 |25 |null|null|false|0
4 |somesmtp@mail.com|25 |user|pass|true |1
________________________________________

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-09-22T21:43:48.820

据我所知，您将 SMTP 数据发送给班级，但您忽略了告诉班级使用该数据：

```
$result = $mail->send( $a_to, 'smtp' ) 
```

未能在发送中设置第二个参数会导致类默认为“邮件”作为发送类型。

```
function send($recipients, $type = 'mail') 
```

然后导致您的系统使用默认的 PHP：

```
$result = mail($to, $subject, $this->output, implode(CRLF, $headers)); 
```

在里面：

```
case 'mail': 
```

函数发送（）

我不清楚为什么设置会使用启动 htmlMimeMail 类时设置的 SMTP 默认值，可能会进一步修改创建该结果的代码，我不能说。

我意识到这个问题有点老了，而且当前的 htmlMimeMail 无论如何都不会在当前的 PHP 上运行而不会出现错误，但认为不妨给出一个答案。

# java - 避免（或委托？）NPE的模式

> ID：13136132
> 
> 赞同：0
> 
> 时间：2012-10-30T09:34:39.407
> 
> 标签：java, scala

在代码审查中，我偶然发现了这个 java 模式以避免 NPE：

```
value = (null != someObject) ? someObject.someOtherMethod() : null 
```

我怀疑这是“好风格”。我宁愿认为它代表了 NPE（顺便说一句，这听起来类似于映射到 Scala-Option-value 或 Haskell-Maybe ...）

风格好不好？如果不是，如何改进？

**编辑：**假设它分散了您的代码，代码将变得不可读： **这是否已经封装在某些库/API中？**（apache-commons、google-coomons 或类似的！？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:43:53.853

这种模式不好也不坏。您需要在上下文中对其进行评估。

关键问题是为什么`someObject`可以有`null`值，以及它是否有意义......还是一个错误。

*   一方面，`null`可能具有特定含义（例如，“值未指定”之类的东西），并且代码可能正在以合法的方式处理它。

*   另一方面，`null`可能是错误的症状（例如，有人忘记初始化某些东西）。在这种情况下，代码正在传播损害和/或使错误的来源更难找到......因此很糟糕。

* * *

作为一般观察，许多代码/编码人员认为，避免意外 NPE 的最佳方法是在整个代码库中自由散布此类内容作为预防措施。事实上，这完全是错误的做法。正确的方法是让 NPE 发生（或者更好的是，强制它发生——参见@vacuum 的答案），找出意外`null`的来源......并移除源头。而且（当然！）您需要进行广泛的测试，以便在投入生产之前发现意外的空值。

IMO，最好将 a`null`视为错误*，除非*它具有明确定义和记录的含义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:41:33.057

也许[番石榴](http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained)会帮助你。

另见[类似问题](https://stackoverflow.com/questions/271526/avoiding-null-statements-in-java)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T09:45:29.040

如果`null`最终可以优雅地处理但不能在那里处理，那么这是一个完全合理的模式。

如果`null`确实不能优雅地处理，那么它会适得其反。最好快速失败。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T09:45:17.513

这个习惯用法是不可能封装在 API 中的。它需要一流的语言支持（或者语言需要支持宏），特别是如果您想概括为返回-取消引用-返回链中的任意多个步骤。

我喜欢避免用这些检查乱扔代码，所以在一些项目中，我发现自己使用了一段反射代码，它接受一个字符串，它解释为一个方法调用链，并且做正确的事情。当然，类型不安全，但很多时候这不是主要问题。

# c# - 在没有查询字符串/会话的情况下从其他页面激活 ASP 多视图控件的视图

> ID：13136141
> 
> 赞同：0
> 
> 时间：2012-10-30T09:35:26.803
> 
> 标签：c#, asp.net, multiview

我正在寻找一种替代方法，它可以用于激活其他页面的多视图控件，而无需传递查询字符串/会话变量。

基本上，我的 Home.aspx 页面有一个链接，可以将我们带到特定页面，例如“NewPage.aspx”。NewPage.aspx 页面有一个包含三个子视图的多视图控件。

我想单击 Home.aspx 的链接并使用 .aspx 转到 NewPage.aspx `MultiView1.ActiveViewIndex=1`。请记住，我不想传递任何查询字符串变量，因为该链接已经包含一些加密数据作为查询字符串，并且添加另一个变量可能会导致数据损坏。维护会话也不是解决方案，因为应用程序非常大。

任何可以激活该视图的内置方法？（我似乎不是在谈论实际，但非常感谢任何帮助）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-29T20:11:46.090

如果您询问如何导航到此页面，我会连接一个按钮事件（我更喜欢在 OnInit 中这样做）。像这样的东西：

```
protected override void OnInit(EventArgs e)
{
    base.OnInit(e);
    this.btnlinkclick.Click += new EventHandler(btnlinkclick_Click);
}
void btnlinkclick_Click(object sender, EventArgs e)
{
    this.MultiView1.ActiveViewIndex = 1;
} 
```

这应该适合你。

# vba - 为什么使用“String * 1”进行双重转换失败？CDbl(String) 可以在所有系统上工作吗？

> ID：13136143
> 
> 赞同：3
> 
> 时间：2012-10-30T09:35:29.963
> 
> 标签：vba, excel

我有一个应用程序，其中包含以下行，用于将解析的 XML 值分配给变量数组。

```
V(2) = latNode.Text * 1 
```

这在我的系统（Windows 7、Excel 2010）上运行良好，但在其他一些或多个系统上不起作用——而且我无法从报告问题的用户那里得到回复。

我已将违规线路切换为：

```
V(2) = CDbl(latNode.Text) 
```

这仍然适用于我的系统，但我一开始就没有问题。问题是第一种方法会在哪些系统上失败，为什么会失败，第二种方法是否总是有效？我确定我之前在其他地方使用过“String * 1”技巧，并且想知道我应该如何关注追踪其他事件。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T11:29:22.257

也许它与千位分隔符和小数点有关。Office VBA 甚至在 CDbl 中也使用文化设置，在我的德语 Excel 版本中，它与英语相比是相反的，`CDbl("123.4")`被解析为 1234`CDbl("123,4")`和 123.4。

`Val(x)`将始终将点解析为小数点。

# oracle9i - 如何在 Oracle 9i 中拆分字符串

> ID：13136148
> 
> 赞同：0
> 
> 时间：2012-10-30T09:35:51.997
> 
> 标签：oracle9i

任何人都可以帮我解决这个问题吗，我需要使用 oracle 9i
String exp=" Employee Number * Pay + Years of Experience"
我的预期输出是在解析 "Employee Number" "Pay" "Years of Experience" 之后”。
是否可以在 oracle 9i 查询中进行，非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-02T09:51:04.987

```
select substr('Employee * Pay + Years of experience',1,instr('Employee * Pay + Years of experience','*')-2),substr('Employee * Pay + Years of experience',instr('Employee * Pay + Years of experience','*')+1,length('Employee * Pay + Years of experience')-instr('Employee * Pay + Years of experience','*')-21),substr('Employee * Pay + Years of experience',instr('Employee * Pay + Years of experience','+')+1) from dual; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:59:22.767

一个直接的答案是使用 SUBSTR 和 INSTR 函数。这是一个例子：

```
select substr('Employee * Pay + Years', 1, instr('Employee * Pay + Years', '*') - 2),
        substr('Employee * Pay + Years', instr('Employee * Pay + Years', '*') + 2, 
                    instr('Employee * Pay + Years', '+') - instr('Employee * Pay + Years', '*') - 3),
        substr('Employee * Pay + Years', instr('Employee * Pay + Years', '+') + 2)
from dual 
```

从那里开始你需要的东西。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-02T09:58:22.427

select substr('员工 * 工资 + 工作年限', 1, instr('员工 * 工资 + 工作年限', '*') - 2),substr('员工 * 工资 + 工作年限',instr(' Employee * Pay + Years of experiece', '*') + 2,instr('Employee * Pay + Years of experience', '+') - instr('Employee * Pay + Years of experiece','*')- 3),substr('员工*薪酬+工作年限',instr('员工*薪酬+工作年限','+') + 2)from dual;

# java - 从android在openfire服务器中创建新用户

> ID：13136155
> 
> 赞同：1
> 
> 时间：2012-10-30T09:36:06.117
> 
> 标签：java, android, xmpp, openfire

我使用 openfire 创建了自己的 XMPP 服务器。当我想创建新用户时，我会转到此网页：

![在此处输入图像描述](../Images/96c647f21baba204d63e5472c6bf3e77.png)

现在我想构建像 Spark 这样的 Android 应用程序，我可以在其中创建新用户。你能指导我或指导我创建新用户的代码片段吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:48:12.913

您正在寻找称为 smack 和 smackx 的 api，这里是链接。

[https://stackoverflow.com/questions/9731270/good-tutorial-for-using-smack-with-android](https://stackoverflow.com/questions/9731270/good-tutorial-for-using-smack-with-android)

# c# - 使用用户控件 C# 时的应用程序性能

> ID：13136157
> 
> 赞同：3
> 
> 时间：2012-10-30T09:36:08.190
> 
> 标签：c#, winforms, performance

我正在开发按功能分为几组的大型应用程序。由于每个功能大部分都是独立的（它们都使用相同的数据库，但不同功能之间没有直接交互），我使用用户定义的控件并将它们视为单独的“应用程序”。应用程序的工作方式是这样的：

*   “根”应用程序仅包含主菜单和 2 个面板。主菜单用于选择功能组。
*   选择组后（在应用程序启动时自动选择第一组），该组的功能（由按钮表示）显示在第一个面板中。
*   用户选择他/她想要的功能（通过单击相应的按钮），并且包含“表单”的用户控件显示在第二个面板中。显示所有用户控件的代码如下所示：

    ```
     panel2.Controls.Clear();
        UserControl1 uc1 = new UserControl1();
        uc1.Location = new Point(0, 0);
        panel2.Controls.Add(uc1);
        label6.Text = "User control 1"; 
    ```

因此，当用户选择其中一项功能时，应用程序会清除现有控件，并显示选定的控件。该应用程序运行良好（到目前为止我实现的部分），所以这是我的问题 - 这种方法如何管理计算机资源，主要是内存。具体来说，如果用户使用一个功能，然后切换到另一个功能，.NET 的服务是否会释放前一个功能使用的内存（我认为垃圾收集器负责该功能）以及我使用的 SQL 连接与数据库通信，被关闭？另外，还有其他一些我应该注意的问题吗？正如我所说，这些功能可以正常工作，但我距离整个应用程序的全面测试还很远（我只在创建每个功能时单独测试它，并且仅在我创建它的计算机上，所以我不能将其视为适当的测试）。因此，我担心如果应用程序在较长时间内不断使用，应用程序的性能可能会下降。我正在使用 VS 2010 (C#) 和 SQL Server 2005 来创建这个应用程序。如果您有任何建议，请写下来。带着这个问题，我试图防止由于资源管理不善而导致应用程序进入测试和实施阶段后的重大重建。谢谢。如果您有任何建议，请写下来。带着这个问题，我试图防止由于资源管理不善而导致应用程序进入测试和实施阶段后的重大重建。谢谢。如果您有任何建议，请写下来。带着这个问题，我试图防止由于资源管理不善而导致应用程序进入测试和实施阶段后的重大重建。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:56:34.937

垃圾收集器负责释放属于**未在任何地方引用**的对象的内存。如果您的 Windows 窗体的窗体一次显示许多控件，它们**都以某种方式**被当时的窗体引用，因此 GC 不会在此处清理任何内容，您需要注意不要在这些控件中加载太多对象。此外，如果`Dispose`在调用`panel2.Controls.Clean()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:48:50.373

我也在创建这样的应用程序。在管理控件时，我遇到了很多困难（请参阅我在 stackoverflow 上的[问题）](https://stackoverflow.com/questions/13123061/updating-gui-components-in-class-b-from-class-a-in-c-sharp/)

我的期望是应用程序使用的内存会变得很多。您应该关闭不再需要的控件以防止这种情况发生。还有与 SQL 的连接，我建议您手动打开/关闭它们，这样您就可以确保以后没有冲突。

# symfony - 假脱机邮件并直接发送邮件

> ID：13136161
> 
> 赞同：3
> 
> 时间：2012-10-30T09:36:22.200
> 
> 标签：symfony, swiftmailer, spool

我需要两种邮件：

1.  假脱机邮件（用于批量邮件）
2.  直邮（如挂号信）

现在我有 2 项服务：

```
<service id="spool_mailer" class="%swiftmailer.class%">
    <argument type="service" id="swiftmailer.transport"/>
</service>

<service id="mailer" class="%swiftmailer.class%">
    <argument type="service" id="swiftmailer.transport.real"/>
</service> 
```

但是“swiftmailer.transport.real”将忽略“swiftmailer.delivery_address”，并且在开发环境中是必需的。我尝试过其他传输方式，但它们会后台处理邮件：[配置 SwiftMailer](http://symfony.com/doc/current/reference/configuration/swiftmailer.html#transport)

如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-18T20:47:49.260

我认为您的解决方案虽然聪明，但很笨拙，并且依赖于绕过 Swiftmailer 的一些内部功能。绕过将电子邮件发送到假脱机的代码部分似乎也绕过了设置交付地址的代码部分。如果不阅读源代码以清楚地了解没有发生什么，我不会这样做。

我认为支持的方法是使用多个邮件程序，如下所述：http: [//symfony.com/doc/current/reference/configuration/swiftmailer.html#using-multiple-mailers](http://symfony.com/doc/current/reference/configuration/swiftmailer.html#using-multiple-mailers)

这将允许您定义两个不同的邮件程序，其中一个可以配置为使用假脱机。（您也可以有两个邮件程序，每个邮件程序都有自己单独的线轴）

# jsf - 使用 hashmap 检索数据表列值

> ID：13136165
> 
> 赞同：1
> 
> 时间：2012-10-30T09:36:32.490
> 
> 标签：jsf

我有一个 dataTable 显示类型的数据`Action`。我有一个名为“状态”的列，将由用户设置。设置此列后，我想从`HashMap`以`Action`类为键、状态为值的类中检索值。

我怎么能直接在数据表状态列中做到这一点？我尝试了以下操作：

```
<p:dataTable var="currentExecutedTestAction" value="#{projectCampaignManagementMB.currentExecutedTestActionList}">
    <p:column>  
        <f:facet name="header">  
            <h:outputText value="Status" />  
        </f:facet>  
        <h:outputText value="#{projectCampaignManagementMB.actionMap(currentExecutedTestAction,statusValue)}" /> 
    </p:column>
</p:dataTable> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:15:36.033

只需将动作用作键（我认为动作是可以用作键的一些`String`/等）。`Integer`

```
<h:outputText value="#{projectCampaignManagementMB.actionMap[action]}"/> 
```

JSF 将使用*action*作为 key 来获取值，然后在您提交一些新值之后，它将再次使用*action*来设置新值。

# android - 我的列表视图 android.widget.HeaderViewListAdapter.isEnabled 随机崩溃

> ID：13136166
> 
> 赞同：0
> 
> 时间：2012-10-30T09:36:39.120
> 
> 标签：android

**我的声明附有我的列表视图的页眉和页脚部分**

```
 ListView = (ListView)findViewById(R.id.favoritesList);
 View header = View.inflate(this, R.layout.favourites_list_header, null);
 View footer = View.inflate(this, R.layout.favourites_list_footer, null);
 favouritesListView.addHeaderView(header, null, false); 
 favouritesListView.addFooterView(footer, null, false); 
 favouritesListView.setHeaderDividersEnabled(false);
 favouritesListView.setFooterDividersEnabled(false);
 favouritesListView.setChoiceMode(ListView.CHOICE_MODE_SINGLE); 
```

**这是我的 getView 方法**

```
public View getView(final int position, View convertView, ViewGroup parent) {

if (convertView == null) {

convertView = mInflater.inflate(R.layout.favouritestext, null);

holder=new ViewHolder();

// my code goes here... 

}

} 
```

**我的日志猫**

```
10-30 15:06:39.501: ERROR/AndroidRuntime(337): FATAL EXCEPTION: main
    10-30 15:06:39.501: ERROR/AndroidRuntime(337): java.lang.IndexOutOfBoundsException: Invalid index 1, size is 1
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at java.util.ArrayList.get(ArrayList.java:311)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.HeaderViewListAdapter.isEnabled(HeaderViewListAdapter.java:164)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.ListView.dispatchDraw(ListView.java:2991)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6846)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.AbsListView.draw(AbsListView.java:2257)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.FrameLayout.draw(FrameLayout.java:352)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.FrameLayout.draw(FrameLayout.java:352)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1638)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.FrameLayout.draw(FrameLayout.java:352)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.drawChild(ViewGroup.java:1640)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1367)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.View.draw(View.java:6743)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.widget.FrameLayout.draw(FrameLayout.java:352)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1842)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewRoot.draw(ViewRoot.java:1407)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewRoot.performTraversals(ViewRoot.java:1163)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1727)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.os.Handler.dispatchMessage(Handler.java:99)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.os.Looper.loop(Looper.java:123)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at android.app.ActivityThread.main(ActivityThread.java:4627)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at java.lang.reflect.Method.invokeNative(Native Method)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at java.lang.reflect.Method.invoke(Method.java:521)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
    10-30 15:06:39.501: ERROR/AndroidRuntime(337):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-19T07:34:51.173

我已经使用这个 addHeaderView(View,object,Slectable); 添加了标题 这是崩溃的原因，而是使用 addHeaderView(View) 添加标题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:44:38.900

适配器用于创建单个行的数据超出索引。

例如，如果您正在使用一个包含 5 个项目的数组，但在创建适配器视图时，您正试图访问该数组的第 6 个项目。

希望这将帮助您找出问题，否则发布代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-04T09:53:53.217

重现步骤

1 列个清单

2套适配器

3 添加页脚或页眉

4 使列表为空

5 滚动和崩溃重现

# multithreading - CXF 客户端代理线程安全吗？

> ID：13136167
> 
> 赞同：7
> 
> 时间：2012-10-30T09:36:45.790
> 
> 标签：multithreading, soap, client, cxf, proxy-classes

我正在使用 CXF 生成 SOAP 客户端类。在[CXF 文档](http://cxf.apache.org/faq.html#FAQ-AreJAXWSclientproxiesthreadsafe%3F)中，他们写道

> JAX-WS 客户端代理线程安全吗？
> 
> 官方 JAX-WS 回答：不。根据 JAX-WS 规范，客户端代理不是线程安全的。要编写可移植代码，您应该将它们视为非线程安全的并同步访问或使用实例池或类似的。
> 
> CXF 回答：CXF 代理对于许多用例来说都是线程安全的。例外情况是：

（我省略了他们对这些用例的描述）

> 对于大多数“简单”用例，您可以在多个线程上使用 CXF 代理。以上概述了其他人的解决方法。

有没有人有相反的经历？遇到了常见问题解答中未描述的多线程问题？或者它们的描述是否准确并且它们基本上可以安全使用？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-31T11:24:27.317

我们最近在我们的项目中遇到了类似的讨论。如您所指的常见问题解答中所述，除了动态修改 HTTP 管道的功能（例如：会话管理和故障转移功能），CXF 客户端代理是线程安全的。因此，如果您不使用这些功能，则可以在线程之间共享客户端代理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-01T16:27:06.327

您可能指的是运行时，但我不认为配置时间是线程安全的。我相信我在 JettyHTTPServerEngineFactory 中看到了竞争条件。

在测试工具中，我们启动了多个不相关的 SOAP 服务器，当它们共享总线时，如果多个线程同时尝试添加 JettyHTTPServerEngine 实例，则可能会出现竞争条件。具体的竞争条件在 setTLSServerParametersForPort() 中，当您想对端口使用 HTTPS 时调用它。该方法将元素添加到没有锁定的 HashMap 中。

我猜其他人没有遇到这种情况的原因是大多数人通过配置文件配置CXF，并且在一个进程中很少有多个端口/ Jetty 服务器。

# maven - 如何让 Sonatype Nexus 下载最新版本的 jar？

> ID：13136177
> 
> 赞同：1
> 
> 时间：2012-10-30T09:37:29.017
> 
> 标签：maven, nexus, sonatype

我正在使用 Sonatype Nexus 1.5.0 并且一个特定的 jar 在 Public Maven Central 中有一个更新的版本，而我的 Nexus 没有它。

假设只有安装 Nexus 的服务器有互联网连接，我的本地笔记本电脑不允许直接连接到互联网，如何让 Nexus 下载较新版本的 jar，以便我的本地构建可以下载较新版本来自 Nexus？

我本地 Maven 的 settings.xml 配置了 Nexus 的 URL 来下载 jars。

请指教。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T14:02:17.680

[以下](https://stackoverflow.com/a/9440427/944849)是本地存储库、远程存储库 (Nexus) 和 Maven Central 如何协同工作的摘要。如果您在 POM 中请求了新版本的 jar，那么它应该最终出现在 Nexus 和您的本地工件 repo 中。如果没有，则说明配置不正确，@khmarbaise 在他的评论中为您提供了一些很好的故障排除起点。

# actionscript-2 - 使用 nextFrame()、prevFrame() 和 gotoAndStop() 进行导航

> ID：13136179
> 
> 赞同：0
> 
> 时间：2012-10-30T09:37:44.627
> 
> 标签：actionscript-2

我正在尝试制作一个简单的图像画廊（每帧一张照片），然后使用两个按钮来左右导航。当它到达最后一帧时，如果单击下一步，它会跳回第一帧，反之亦然。

代码的问题是我只能跳回最后一帧，然后再跳到第一帧。

这是代码。

左键：

```
on (release) {
if (_currentframe = 1) {
    gotoAndStop(_totalframes);
} else {
   prevFrame();
}    
} 
```

右键：

```
on (release) {      
    if (_currentframe = _totalframes) {
    gotoAndStop(1);
    }
    else
    {   
    nextFrame();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T13:24:32.990

通过稍微更改代码使其工作。

左键：

```
on (release) {
    if (_currentframe > 1) {
        prevFrame();
    } else {
        gotoAndStop(_totalframes);
    }
} 
```

对

```
on (release) {
    if (_currentframe < _totalframes) {
        nextFrame();
    }
    else
    {   
        gotoAndStop(1);
    }
} 
```

# java - 通过 iframe 加载时文件保存对话框出现两次

> ID：13136181
> 
> 赞同：0
> 
> 时间：2012-10-30T09:37:54.273
> 
> 标签：java, html

我使用了以下代码

```
<iframe id="DownloadWin_<%=w_PageCompID%>" 
src="__http://10.112.203.159:8080/pmsmart/temp/nishamol.siva/9.zip" 
style="display:none"> </iframe> 
```

但是文件保存对话框来了两次。

请建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:43:15.380

试试这个 -

```
<body onload="javascript:window.location.href='http://10.112.203.159:8080/pmsmart/temp/nishamol.siva/9.zip';"> 
```

# objective-c - 在 iOS 设备上的应用程序之间共享文件

> ID：13136183
> 
> 赞同：3
> 
> 时间：2012-10-30T09:38:09.847
> 
> 标签：objective-c, ios

是否可以在 iOS 上访问另一个应用程序的文件数据？在 Android 上，根据以下 URL，这似乎是可能的。 [在两个应用程序之间共享文件/安装目录](https://stackoverflow.com/questions/12530972/sharing-files-installation-directiory-between-two-apps)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:44:20.183

不，那是不可能的。

所有 iOS 应用程序都是沙盒（至少在非越狱设备上），虽然可以共享钥匙串数据（在共享其 Bundle Seed ID 的应用程序之间），但目前无法对基于文件的数据执行相同操作。

您可以做的是通过服务器交换数据或调用另一个应用程序已注册的 URL 方案将数据传递给其他应用程序。苹果 说：

> 使用基于 URL 的语法，您可以访问来自 Web 的数据，以及将信息传递给其他已安装的应用程序，例如 Mail、iTunes 和 YouTube。您自己的应用程序可以声明一个唯一的 URL 方案，允许任何应用程序与您的应用程序协作和共享数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:48:24.223

这取决于什么样的数据。事实上，iOS 应用程序可能只共享钥匙串数据。来自[Apple 的文档](http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/DevPortalGuide/CreatingandConfiguringAppIDs/CreatingandConfiguringAppIDs.html)：

> 应用 ID 有两部分：团队 ID，后跟捆绑 ID 搜索字符串。团队 ID 是 Apple 生成的 10 个字符的字符串。每个开发团队都分配有一个唯一的团队 ID，用于标识您的所有应用程序。**团队 ID 允许您在应用程序之间共享钥匙串数据。具有相同团队 ID 的应用可以共享数据，例如用户名和密码。**捆绑 ID 搜索字符串传统上是反向域名样式字符串。它是您在 Xcode 中用作捆绑 ID 的字符串。

我从来没有这样做过，但是必须有很多关于如何做到这一点的教程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:45:12.360

无法访问安装在任何 Apple 设备上的其他应用程序的数据。它受到苹果的限制。

无论如何，您可以在 JailBreaked 设备上试用它。这些操作由 Apple Private API 处理。您无法在常规设备中访问。

如果您可以访问它们/在您的应用程序中使用它们，Apple 将拒绝您的应用程序。

# php - YII 模型处理多个表

> ID：13136185
> 
> 赞同：0
> 
> 时间：2012-10-30T09:38:20.983
> 
> 标签：php, database, activerecord, yii

我正在 YII 中开发一个注册表单。在我的表格中，有一个单选选项可以选择注册为模式 1 或注册为模式 2。如果用户选择mode1，数据应该输入到table1或者应该输入到table2。在 YII 中，每个模型处理一张表。在这里，我的表格处理两个表格。

那么如何处理这样的表单来验证并将数据输入到 YII 中的表中呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:40:02.603

最简单的方法是为表单创建一个模型（假设它们具有相同的字段？）此类将扩展**CFormModel**（在下面的示例中，我将此模型称为*GlobalFormModel*）

此模型将具有与其他两个模型相同的属性，以及一个名为*mode*的新属性 当提交表单时，在控制器中您可以根据哪种模式处理它并根据正确的模型对其进行验证，例如：

```
$model = new GlobalFormModel

if(isset($_POST['GlobalFormModel'])){
    $model->attributes = $_POST['GlobalFormModel']; 

    if ($model->mode == 1){
        $newmodel = new FormOne;
        $newmodel->attributes = $model->attributes;
    } else {
         $newmodel = new FormTwo;
         $newmodel->attributes = $model->attributes;
    } 

    ... // validate and save $newmodel
}

$this->render("yourview",array("model"=>$model)); 
```

其中 FormOne 是与第一个表关联的模型，FormTwo 与第二个表关联。首先，您创建 GlobalFormModel 的一个新实例（传递给视图）。您检查表单是否已提交（您可以在此处或在加载两个模型之一后对其进行验证，这是您的选择）。您检查模式，然后加载正确的模型。

# php - 带有 $_POST 函数的未定义索引

> ID：13136190
> 
> 赞同：0
> 
> 时间：2012-10-30T09:38:29.337
> 
> 标签：php, mysql, post

所以我基本上复制了以下代码，执行重命名列名。

表格如下：

```
<table align="left" width="30%" border="0" >
<form action="company_edit_php.php" method="post">
<tr><td align="center" bgcolor="#ECE6E6">Location: <td align="center"> <input type="text" value="<?php echo $row['Location']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">User: <td align="center">  <input type="text" value="<?php  echo $row['User']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">Telephone: <td align="center">  <input type="text" value="<?php echo $row['Telephone']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">Email: <td align="center">  <input type="text" value="<?php echo $row['Email']?>"/><br></td></tr>
<td> <input type="submit" value="Change" /></td></tr> 
```

和PHP代码：

```
<?php
$con = mysql_connect("localhost","username","password");
$id = isset($_GET['id']) ? (int)$_GET['id']: 1;
mysql_select_db("Database", $con);

if (isset($_POST['Location'])) {
    echo $_POST['Location'];
 } else {
    echo 'empty';
 } 

$Location = $_POST['Location']; 
```

此代码的结果是未定义的索引：位置和从 if 语句我得到“空”。为什么相同的代码适用于另一个页面？我现在该怎么办？

感谢你付出的努力

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:40:54.493

要更正索引帖子，请在文件开头使用此命令并使用变量`$Location`

```
$Location = (isset($_POST["Location"])?$_POST["Location"]:""); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:49:24.253

要获取文本框的值，您需要给它们命名

```
<table align="left" width="30%" border="0" >
    <form action="company_edit_php.php" method="post">
    <tr><td align="center" bgcolor="#ECE6E6">Location: <td align="center"> <input type="text" value="<?php echo $row['Location']?>" name='location'/><br></td></tr>
    <tr><td align="center" bgcolor="#ECE6E6">User: <td align="center">  <input type="text" value="<?php  echo $row['User']?>" name='user'/><br></td></tr>
    <tr><td align="center" bgcolor="#ECE6E6">Telephone: <td align="center">  <input type="text" value="<?php echo $row['Telephone']?>" name='phone'/><br></td></tr>
    <tr><td align="center" bgcolor="#ECE6E6">Email: <td align="center">  <input type="text" value="<?php echo $row['Email']?>" name='mail'/><br></td></tr>
    <td> <input type="submit" value="Change" /></td></tr> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T09:46:27.513

您必须更改表单，因为您错过`name`了输入，并且要检索值，`$_GET`您必须像这样使用它：

```
<tr><td align="center" bgcolor="#ECE6E6">Location: <td align="center"> <input type="text" name="Location" value="<?php echo $row['Location']?>"/><br></td></tr> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T09:49:43.143

从您所写的内容来看，您制作的页面上没有名为“位置”的字段，或者它在表单之外（因此不在里面......）。由于它适用于从中获取原始源代码的站点，因此那里只有 2 个选项。

1.  有问题的网站在适当的表格中有一个名为 location 的字段
2.  有问题的站点会抑制将出现的错误消息。

为了使您的代码正常工作，您需要 1.）如果尚未将字段“位置”放入表单中，并且 2.）您需要“保护”变量的获取，以便不显示错误即使位置是空的。我为这两种变体提供了不同的示例：1.）将位置放在表单中

```
<form action="company_edit.php" method="post">
......
<input type="text" name="Location" id="Location>
......
</form> 
```

2.) 确保即使 Location 没有注意到存在错误也不会发生，....我什至建议对您要在应用程序中使用的每个 $_POST 和 $_GET 变量执行以下步骤，因为它减少了机会特定 $_GET/$_POST 的错误消息没有设置很多（尽管为了调试和查找写入错误，最好有错误消息）。

```
if (isset($_POST['Location'])
     $Location = $_POST['Location'];
else
     $Location=''; 
```

* * *

另一方面，当您通过 POST 提供参数并且您没有将 id 放入 URL 中时，id 的 $_GET 将始终导致一个空的 id 字段（因此“1”始终用作 id）。要使其工作，您要么需要使用 id 作为 post 并将适当的字段放入表单中，要么您必须 eidt 表单的“action”部分，以便 id 在此处作为“?id=”参数给出

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-30T09:41:27.863

尝试这个：

```
<?php
$con = mysql_connect("localhost","username","password");
$id = isset($_GET['id']) ? (int)$_GET['id']: 1;
mysql_select_db("Database", $con);

$location= "";

if (isset($_POST['Location'])) {
    $location= $_POST['Location']; // <-------------    put this here!
    //echo $_POST['Location'];
 } else {
    echo 'empty';
 } 

 echo $location; // <-------------   added this

 //$Location = $_POST['Location'];  // it was erroring here as I am guessing that you were sometimes accessing the page without posting the location. If the variable does not exist, you cannot echo it.. thus the changes above 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-30T09:44:10.493

`Location`未在您显示的代码中传递。因为这个原因`$_POST['Location']`是未定义的。把它放在你的 if 语句中以避免错误。

喜欢：

```
$Location = 'empty';
if (isset($_POST['Location'])) {
    echo $_POST['Location'];
    $Location = $_POST['Location'];
 } else {
    echo 'empty';
 } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-10-30T09:45:08.150

完整的表格

```
<table align="left" width="30%" border="0" >
<form action="company_edit_php.php" method="post">
<tr><td align="center" bgcolor="#ECE6E6">Location: <td align="center"> <input type="text" value="<?php echo $row['Location']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">User: <td align="center">  <input type="text" value="<?php  echo $row['User']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">Telephone: <td align="center">  <input type="text" value="<?php echo $row['Telephone']?>"/><br></td></tr>
<tr><td align="center" bgcolor="#ECE6E6">Email: <td align="center">  <input type="text" value="<?php echo $row['Email']?>"/><br></td></tr>
<td> <input type="submit" value="Change" /></td></tr> 
```

# graph-algorithm - Graph Closeness - gephi 和 NodeXL 的不同结果

> ID：13136191
> 
> 赞同：0
> 
> 时间：2012-10-30T09:38:30.240
> 
> 标签：graph-algorithm, gephi

我正在编写一个 JavaScript 库，用于计算图形度量，例如度中心性、偏心性、接近度和介数。

为了验证我的库，我使用了两个现有的应用程序[Gephi](http://gephi.org)和[NodeXL](http://nodexl.codeplex.com/)来运行计算。问题是我得到了看起来不同的结果。

我建立简单的图表：

```
 (A) ----- (B)
   |         |
   |         | 
  (C) ----- (D) 
```

Gephi给出了这些结果：

```
A ecc=2 close=1.333 bet=0.5
B ecc=2 close=1.333 bet=0.5
C ecc=2 close=1.333 bet=0.5
D ecc=2 close=1.333 bet=0.5 
```

NodeXL 给出了这些结果：

```
A close=0.25 bet=0.5
B close=0.25 bet=0.5
C close=0.25 bet=0.5
D close=0.25 bet=0.5 
```

请注意，NodeXL 不计算偏心度。

哪一个是对的？
结果真的不一样吗？

我没有规范化（或至少不打算规范化）任何结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:14:25.987

似乎 Gephi 返回了一个节点和网络中所有其他节点之间所有最短路径的平均总和（也在[doc](http://wiki.gephi.org/index.php/Closeness_Centrality)中说明），这给出了：`(1 + 1 + 2)/3=1.333333`

而 NodeXL 为您提供所有最短路径的逆和：对于 A`1/(1+1+2)=0.25`

所以，我想说后者是正确的，因为这是遵循接近中心性的定义。例如[igraph](http://igraph.sourceforge.net/doc/R/closeness.html)也使用第二个版本。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-05T16:32:00.353

其实这两种措施都是对的。NodeXL 计算的一个是接近中心性，而 Gephi 计算的另一台计算机是逆接近中心性。因此，在逆接近中心性的情况下，值越高，越接近中心。

两个中心性之间的区别在于对图大小和效率的考虑。接近中心性与图大小无关=>可以比较来自不同网络的节点的接近程度。逆中心性是更有效（精确）计算接近度的方法，但它取决于图的大小。

参考：

Sabidussi, G.：图的中心性指数。心理测量学 31(4) (1966) 581{ 603

Linton C. Freeman：社交网络的中心性。概念澄清。社交网络 1 (1978/79) 215-239

希望可以澄清差异。

# css - 使用 Bootstrap 将按钮组放在标题的最右侧

> ID：13136194
> 
> 赞同：59
> 
> 时间：2012-10-30T09:38:42.323
> 
> 标签：css, twitter-bootstrap

我设法在标题的远端（H1/H2/H3）放置了一个按钮组。但是，我不知道如何让按钮在中间垂直浮动。它只是停留在顶部。我尝试使用`margin-top`，但由于它是一个固定值，它不会被动态放置在中间。

这是屏幕截图：

![在此处输入图像描述](../Images/a4e2e3b28047f5c8a9c91f92edceea0b.png)

这是代码：

```
<div class="container">
  <section>
    <div class="page-header">
      <h1 class="pull-left">
        The header
      </h1>
      <div class="pull-right">
        <div class="btn-group">
          <button class="btn btn-primary">
            Actions
          </button>
          <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu pull-right">
            <li>
              <a href="#">Action</a>
            </li>
            <li>
              <a href="#">Another Action</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>
    Contents
  </section>
</div> 
```

提前致谢。

**jsFiddle：http:** [//jsfiddle.net/aurorius/PKrUC/](http://jsfiddle.net/aurorius/PKrUC/)

* * *

## 回答 #1

> 赞同：170
> 
> 时间：2014-11-05T20:17:38.593

这是如何让按钮与 Bootstrap 3.2、3.3 中的标题对齐而无需任何额外的 CSS，以防有人从 Google 来到这里。

**选项1**

[http://jsfiddle.net/ypaL5nko/](http://jsfiddle.net/ypaL5nko/)

```
<div class='page-header'>
  <div class='btn-toolbar pull-right'>
    <div class='btn-group'>
      <button type='button' class='btn btn-primary'>Button Text</button>
    </div>
  </div>
  <h2>Header Text</h2>
</div> 
```

如果您只使用一个按钮，则按钮组是可选的。

**选项 2**

[http://jsfiddle.net/sLdnae3q/](http://jsfiddle.net/sLdnae3q/)

```
<h1>
  <span>Header Text</span>
  <button class='btn btn-primary pull-right'>Button Text</button>
</h1>
<hr/> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-10-30T09:43:30.200

试试这个 CSS 代码

```
.btn-group.my-class{
  bottom: 15px;
  position: relative;
  top: 15px;
} 
```

H1/H2/H3 上的动态标题，可能是 H4

演示：http: [//jsfiddle.net/PKrUC/2/](http://jsfiddle.net/PKrUC/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-14T07:19:12.390

使用浮动禁用 te`display:inline-block;`属性，使其浮动到顶部。

只需将引导类添加`text-right`到容器中即可保持垂直对齐不变。

# c++ - 按名称设置类成员值

> ID：13136196
> 
> 赞同：1
> 
> 时间：2012-10-30T09:38:49.587
> 
> 标签：c++, qt, setvalue, class-members

我有一个派生的类，`QObject`它有一些成员。`param value`我用语法加载配置文件。每个`param`都是该类的成员，我想将其值设置为`value`.

如果真的有，怎么可能？非常感谢！

PS 我本可以制作一个关联数组，但这不是我喜欢的方式。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:48:47.313

你有两种方法可以做到这一点：

1.  使用`Q_PROPERTY`宏将您的成员声明为属性。然后您可以使用`QObject::setProperty(..)`.
2.  声明一个带有属性名称的 setter 方法（例如，加上一个 'set' 前缀）和`Q_INVOKABLE`宏（或者只是将其设为 a `slot`），然后使用`QMetaObject::invokeMethod(..)`它按名称调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:40:54.140

这在 C++ 中是不可能的。唯一的方法是关联数组

# neo4j - Neo4j Cypher 查询返回不同的节点集

> ID：13136197
> 
> 赞同：4
> 
> 时间：2012-10-30T09:38:54.137
> 
> 标签：neo4j, cypher

我有一个简单的社交网络图数据库模型。用户可以关注其他用户并发布帖子。我正在尝试获取用户发布的所有帖子以及用户关注的任何人发布的所有帖子的列表

```
START a=node:node_auto_index(UserIdentifier = "USER0") 
MATCH (a)-[:POSTED]->(b), (a)-[:FOLLOWS]->(c)-[:POSTED]->(d) 
RETURN b, d; 
```

它返回两者的叉积，即 b 中所有值与 d 中所有值的元组。(bxd) 我想要一个直接的帖子列表。我该怎么做呢？我需要做两个单独的查询吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-01T16:30:47.823

在[https://groups.google.com/forum/?fromgroups=#!topic/neo4j/SdM7bKNRDEA](https://groups.google.com/forum/?fromgroups=#!topic/neo4j/SdM7bKNRDEA)上回答：

```
START a=node:node_auto_index(UserIdentifier = "USER0") 
MATCH (a)-[:POSTED]->(b)
WITH a, collect(b) as posts
MATCH (a)-[:FOLLOWS]->(c)-[:POSTED]->(d) 
RETURN posts, collect(d) as followersPosts; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-17T02:23:35.720

您现在可以做到的另一种方法（恕我直言，更简洁的方法）是利用可变长度关系。

```
START user=node...
MATCH (user) -[:FOLLOWS*0..1]-> (following) -[:POSTED]-> (post)
RETURN post 
```

这种方式的优点是它可以让您统一聚合您自己的查询和您的朋友/关注者的查询。例如排序、限制、分页等。

# vb.net - 在水晶报表上传递参数，用代码连接访问，vb.net

> ID：13136198
> 
> 赞同：0
> 
> 时间：2012-10-30T09:38:58.723
> 
> 标签：vb.net, ms-access, parameters, crystal-reports, visual-studio-2005

我想搜索在两个日期之间购物的客户。我使用的代码似乎没问题，它没有返回任何错误，但 CR 会返回所有内容 - 它不使用日期搜索功能。我使用的 CR 使用一个简单的程序进行测试，该程序打开 CR 并且工作正常。数据库是 ms 访问和代码是在 Visual Studio 2005

我遇到的第二个问题是，尽管我使用了连接信息部分，但它仍然要求我输入代码 PS。抱歉我的格式不好，我是stackoverflow的新手，我发现很难发帖谢谢！-阿吉西劳斯

```
Imports CrystalDecisions.CrystalReports.Engine
Imports CrystalDecisions.Shared
Public Class Form1
    Dim crConnectionInfo As New ConnectionInfo()

 Private Sub Button1_Click(ByVal sender As System.Object, _
   ByVal e As System.EventArgs) Handles Button1.Click

   Dim cryRpt As New ReportDocument

cryRpt = New CrystalDecisions.CrystalReports.Engine.ReportDocument
        cryRpt.Load("C:\Users\agis\Documents\Visual Studio 2005\Projects\new_contracts     _of_month\new_contracts _of_month\CrystalReport2.rpt",     CrystalDecisions.Shared.OpenReportMethod.OpenReportByTempCopy)

With crConnectionInfo
        .ServerName = "C:\Users\agis\Desktop\Insurance database\Insurancemanager.mdb"
        .UserID = "Admin"
        .Password = "kos"
        .DatabaseName = "insurancemanager"
    End With

     'first parameter
    Dim crParameterFieldDefinitions As ParameterFieldDefinitions
    Dim crParameterFieldDefinition As ParameterFieldDefinition
    Dim crParameterValues As New ParameterValues
    Dim crParameterDiscreteValue As New ParameterDiscreteValue
    crParameterDiscreteValue.Value = Convert.ToDateTime(TextBox1.Text) 

    crParameterFieldDefinitions = cryRpt.DataDefinition.ParameterFields
    crParameterFieldDefinition = crParameterFieldDefinitions.Item("startdate")
    crParameterValues = crParameterFieldDefinition.CurrentValues
    crParameterValues.Add(crParameterDiscreteValue)
    crParameterValues.Clear()

    ' second parameter : 
    Dim crParameterFieldDefinitions2 As ParameterFieldDefinitions
    Dim crParameterFieldDefinition2 As ParameterFieldDefinition
    Dim crParameterValues2 As New ParameterValues
    Dim crParameterDiscreteValue2 As New ParameterDiscreteValue
    crParameterDiscreteValue2.Value = Convert.ToDateTime(TextBox2.Text)
    TextBox3.Text += "   " + crParameterDiscreteValue2.Value 
    crParameterFieldDefinitions2 = cryRpt.DataDefinition.ParameterFields
    crParameterFieldDefinition2 = crParameterFieldDefinitions2.Item("enddate")
    crParameterValues2 = crParameterFieldDefinition2.CurrentValues
    crParameterValues2.Clear()

    crParameterValues2.Add(crParameterDiscreteValue2)
    crParameterFieldDefinition.ApplyCurrentValues(crParameterValues)
    crParameterFieldDefinition2.ApplyCurrentValues(crParameterValues2)
     CrystalReportViewer1.ReportSource = cryRpt
    CrystalReportViewer1.Refresh()
End Sub

    End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T11:18:48.617

不明白你的问题到底是什么，但我假设你想传递参数来报告和过滤这些参数的报告数据还想设置水晶报告的运行时连接设置。

首先在您的报告中创建参数字段（右键单击参数字段并单击添加水晶设计器）现在进入Visual Studio水晶报告设计器中的“水晶报告->报告->选择专家”菜单并使用这些参数设置数据过滤条件字段。为了将参数传递给报告，请使用参数名称和值，如下所示

```
cryRpt.ParameterFields("parametername").CurrentValues.AddValue(objVal)
cryRpt.ParameterFields("fromdatetime").CurrentValues.AddValue(Now) 
```

您不必为 ms access 数据库设置任何服务器名称更好的方法是为您的数据库文件创建 dsn 并在您的报告中使用该 dsn，这样您的报告将永远不会要求数据库文件，除非数据文件丢失您甚至可以以编程方式创建 dsn在运行时如果想要让我们知道您是否要设置像服务器数据库密码这样的 sql 并在运行时登录使用

```
repDoc.DataSourceConnections(0).SetLogon("usrID","psw")                        
repDoc.DataSourceConnections(0).IntegratedSecurity = False 
```

# c++ - 实现 DllRegisterServer 方法

> ID：13136199
> 
> 赞同：5
> 
> 时间：2012-10-30T09:39:00.687
> 
> 标签：c++, com, dllregistration

我正在尝试实现 COM 的 DllRegisterServer 方法。
所以我读了这个教程： http:
[//www.codeguru.com/cpp/com-tech/activex/tutorials/article.php/c5567/Step-by-Step-COM-Tutorial.htm](http://www.codeguru.com/cpp/com-tech/activex/tutorials/article.php/c5567/Step-by-Step-COM-Tutorial.htm)

我按照这些步骤直到 DllRegisterServer 的部分。
这是他们的实现：

```
HRESULT  __stdcall DllRegisterServer(void)
    {
    //
    //As per COM guidelines, every self installable COM inprocess component
    //should export the function DllRegisterServer for printing the 
    //specified information to the registry
    //
    //

    WCHAR *lpwszClsid;
    char szBuff[MAX_PATH]="";
    char szClsid[MAX_PATH]="", szInproc[MAX_PATH]="",szProgId[MAX_PATH];
    char szDescriptionVal[256]="";

    StringFromCLSID(
            CLSID_AddObject,
            &lpwszClsid);

    wsprintf(szClsid,"%S",lpwszClsid);
    wsprintf(szInproc,"%s\\%s\\%s","clsid",szClsid,"InprocServer32");
    wsprintf(szProgId,"%s\\%s\\%s","clsid",szClsid,"ProgId");

    //
    //write the default value 
    //
    wsprintf(szBuff,"%s","Fast Addition Algorithm");
    wsprintf(szDescriptionVal,"%s\\%s","clsid",szClsid);

    HelperWriteKey (
                HKEY_CLASSES_ROOT,
                szDescriptionVal,
                NULL,//write to the "default" value
                REG_SZ,
                (void*)szBuff,
                lstrlen(szBuff)
                );

    //
    //write the "InprocServer32" key data
    //
    GetModuleFileName(
                g_hModule,
                szBuff,
                sizeof(szBuff));
    HelperWriteKey (
                HKEY_CLASSES_ROOT,
                szInproc,
                NULL,//write to the "default" value
                REG_SZ,
                (void*)szBuff,
                lstrlen(szBuff)
                );

    //
    //write the "ProgId" key data under HKCR\clsid\{---}\ProgId
    //
    lstrcpy(szBuff,AddObjProgId);
    HelperWriteKey (
                HKEY_CLASSES_ROOT,
                szProgId,
                NULL,
                REG_SZ,
                (void*)szBuff,
                lstrlen(szBuff)
                );

    //
    //write the "ProgId" data under HKCR\CodeGuru.FastAddition
    //
    wsprintf(szBuff,"%s","Fast Addition Algorithm");
    HelperWriteKey (
                HKEY_CLASSES_ROOT,
                AddObjProgId,
                NULL,
                REG_SZ,
                (void*)szBuff,
                lstrlen(szBuff)
                );

    wsprintf(szProgId,"%s\\%s",AddObjProgId,"CLSID");
    HelperWriteKey (
                HKEY_CLASSES_ROOT,
                szProgId,
                NULL,
                REG_SZ,
                (void*)szClsid,
                lstrlen(szClsid)
                );

    return 1;

    } 
```

其中 CLSID_AddObject 定义如下：

```
// {92E7A9C2-F4CB-11d4-825D-00104B3646C0}
static const GUID CLSID_AddObject = 
{ 0x92e7a9c2, 0xf4cb, 0x11d4, { 0x82, 0x5d, 0x0, 0x10, 0x4b, 0x36, 0x46, 0xc0 } }; 
```

我不明白的是： 1.他们为什么使用`StringFromCLSID`将 GUID 获取为字符串？他们已经拥有它并且出于某种原因将其转换为 IID？我们在 IDL 文件中给它的 GUID 还不够好吗？
2\. 哪些 GUID 需要注册？图书馆的 GUID？接口的 GUID？类 GUID？还是全部？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:59:03.597

GUID 转换为字符串的原因是它用于在 Windows 注册表中形成一些条目。您可能会在示例代码中看到 CLSID 字符串如何合并到`InprocServer32`、`ProgId`和`CLSID`条目中。

您应该在注册表中注册所有 GUID。您可以查看[MSDN 中的此页面，](http://msdn.microsoft.com/en-us/library/windows/desktop/ms678477%28v=vs.85%29.aspx)了解有关 COM 注册表项的详细信息。

# sql - 在每次插入时在 SQL 中生成序列号

> ID：13136204
> 
> 赞同：1
> 
> 时间：2012-10-30T09:39:33.960
> 
> 标签：sql, sql-server

我需要在表格中输入主键，格式如下

```
YYYY/MMM/NNNNNN 
```

其中，`YYYY`是当前年份，`MMM`是月份，并且`NNNNNN`是来自 的序列号`000001, 000002, 000003, .... 999999`。

所以我的主键看起来像`2012/Oct/000001`或`2012/Oct/000010`....

我怎样才能生成这种类型的代码..

`Getdate()`我可以从函数中获取年份和月份。但是我如何管理每个插入的序列号。你能给我一个逻辑吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:56:42.317

到目前为止，**最简单的方法**是让 SQL Server 使用列处理连续数字的抛出`INT IDENTITY`- 然后使用触发器在单独的列中创建您需要的特定格式。

所以给定这张表：

```
CREATE TABLE SampleTable 
             (ID INT IDENTITY, SaleDate DATE, ComputedPK VARCHAR(25) ) 
```

您可以使用这样的触发器来计算`ComputedPK`（`ID`自动编号，由 SQL Server 处理）和`SaleDate`日期列：

```
CREATE TRIGGER trgSampleTableInsert
ON dbo.SampleTable FOR INSERT
AS 
    UPDATE dbo.SampleTable
    SET ComputedPK = CAST(YEAR(i.SaleDate) AS CHAR(4)) + '/' + DATENAME(MONTH, i.SaleDate) + '/' + RIGHT('000000' + CAST(i.ID AS VARCHAR(6)), 6) 
    FROM dbo.SampleTable s
    INNER JOIN INSERTED i ON s.ID = i.ID 
```

但是，这种方法**不会**从每个月的 1 开始 - 但你**真的**需要吗？序列号（甚至跨月）还不够好吗？

**更新：**当然，如果您使用的是 SQL Server **2012**（您没有指定您正在使用的 SQL Server**版本**......） - 您可以使用一个`SEQUENCE`对象来处理连续编号 - 您甚至可以重置它每个月初再次将序列变为 1 ....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:50:42.413

```
SELECT 
CONCAT(
      DATEPART(YEAR, GETDATE()),
      '/',
      DATENAME(MONTH,GETDATE()),
      '/',
      REPLACE(STR(((SELECT COUNT(*) FROM yourtable WHERE monthname = DATENAME(MONTH,GETDATE()) GROUP BY monthname) + 1),6,0),' ','0')
  )
  ) 
```

这是~~未经测试的，~~ [现在已测试](http://sqlfiddle.com/#!6/3e43d/2)。您必须添加一个月份名称列（有一种方法可以在不添加列的情况下执行此操作，但这是最方便的）

如果您不想依赖 concat，也可以强制转换和使用加法。[http://sqlfiddle.com/#!6/3e43d/6](http://sqlfiddle.com/#!6/3e43d/6)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:55:17.237

为什么不考虑一个具有标识/数字列和日期列的复合键（或者如果不需要日期，则为年/月）？

这将为您提供相同的行为，并且可能更易于实现/维护

我仍然想知道这背后的原因——这样我们才能做出更有根据的猜测

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T09:47:46.863

在两列上设置您的主键。其中一个代表 ，`Daten`另一个代表`Serial number`。`Serial`在自动增加的列上设置一个序列。这将使您更容易过滤密钥的日期部分。

# iphone - 如何在 UIView 类中访问视图控制器的属性

> ID：13136205
> 
> 赞同：0
> 
> 时间：2012-10-30T09:39:44.700
> 
> 标签：iphone

我有一个具有 a 的`UIViewController`类，`NSString`我想在它的`UIView`子类的字符串中获取它的值，但它给出了 null .. 这是我的代码

```
(viewController.m class)
 paintABC = [[BIDABCPaint alloc] initWithFrame:CGRectMake(0,YOrigin, self.view.frame.size.width, newSize.height)];
  paintABC.backgroundColor=[UIColor colorWithPatternImage:newImage];
    paintABC.BtnTag=TagName;

          [self.view addSubview:paintABC];

       [paintABC release]; 
```

当我打印 btnTag 时，它给出了 null 值。我已经初始化了 ViewController 的 TagName。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:52:11.643

`MyViewController *delegate`在 UIView 子类（BIDABCPaint 子类）中创建一个属性，合成它。在 ViewController 中添加此 UIView 时添加以下内容..

```
paintABC.delegate = self; 
```

每当您需要访问 viewController..Apply 的 NSString 时，进一步

```
NSLog(@"%@",delegate.requiredString); 
```

在子类中，但请确保首先声明`requiredString`为 viewController 的属性，否则由于类可见性限制，将无法访问字符串

# cocos2d-iphone - 如何将 CCSprite 图像转换为 UIImage？

> ID：13136206
> 
> 赞同：2
> 
> 时间：2012-10-30T09:39:53.217
> 
> 标签：cocos2d-iphone, uiimage, ccsprite

作为标题，我已经提到了下面的代码

```
CCSprite *sprite = (CCSprite *)node;
CCTexture2D *texture2d = [sprite texture]; 
```

如何从 sprite 获取 UIImage *p？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-18T08:59:38.473

在您的情况下，只需将下一个方法添加到您的课程中：

```
 - (UIImage *) imageFromSprite :(CCSprite *)sprite
{
    int tx = sprite.contentSize.width;
    int ty = sprite.contentSize.height;

    CCRenderTexture *renderer   = [CCRenderTexture renderTextureWithWidth:tx height:ty];

    sprite.anchorPoint  = CGPointZero;

    [renderer begin];
    [sprite visit];
    [renderer end];

    return [renderer getUIImage];
} 
```

如何使用：

```
CCSprite *sprite = (CCSprite *)node;
UIImage *p = [self imageFromSprite:sprite] 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-05T01:13:08.320

呃……

我认为这是一个更好的方式。将此添加为 CCNode 上的类别。

```
-(UIImage*)image {
    CCRenderTexture* renderer = [CCRenderTexture renderTextureWithWidth:self.contentSize.width height:self.contentSize.height];

    const CGPoint ANCHORBEFORE = self.anchorPoint;
    self.anchorPoint = CGPointZero;

    [renderer begin];
    [self visit];
    [renderer end];
    self.anchorPoint = ANCHORBEFORE;

    return [renderer getUIImage];
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T15:12:41.927

如果您使用的是 cocos2d 2.x，则将 sprite 渲染到 CCRenderTexture 并调用该渲染纹理的 getUIImage 方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T09:53:36.277

通过查看 CCSprite 和 CCTexture2D 的源代码，您可以看到图像仅用于创建纹理数据，图像对象没有保留，而是暂时使用。

**CCTexture2D**源代码：

[http://code.google.com/p/cocos2d-iphone/source/browse/trunk/cocos2d/CCTexture2D.m?r=1882](http://code.google.com/p/cocos2d-iphone/source/browse/trunk/cocos2d/CCTexture2D.m?r=1882)

**CCSprite**来源：

[http://code.google.com/p/cocos2d-iphone/source/browse/trunk/cocos2d/CCSprite.m?r=1747](http://code.google.com/p/cocos2d-iphone/source/browse/trunk/cocos2d/CCSprite.m?r=1747)

查看使用 CGImageRef 的 init 方法

# android - SQLite 打开和关闭数据库

> ID：13136207
> 
> 赞同：0
> 
> 时间：2012-10-30T09:39:59.003
> 
> 标签：android, sqlite

以下情况（旧）会导致错误`database is locked`吗？

老的

```
 DataRepository rep0 = new DataRepository (_context);
    InfoRepository rep1 = new InfoRepository (_context);
    rep0.open();
    //do something
    rep1.open();
    //do something
    rep0.close();
    rep1.close(); 
```

新的

```
 DataRepository rep0 = new DataRepository (_context);
    InfoRepository rep1 = new InfoRepository (_context);
    rep0.open();
    rep0.close();
    //do something
    rep1.open();
    //do something     
    rep1.close(); 
```

我正在使用 SQLiteOpenHelper 打开和关闭数据库。

我测试了两者并正常工作，并且我自己没有遇到错误。当我跟踪可能的错误根时，因为我看到了 android 应用程序报告的错误日志。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T01:35:23.083

检查器感觉您正在打开另一个连接到已在 OLD 中打开的数据库。

# zend-framework - 在动态 CSS 中使用 Zend 翻译

> ID：13136211
> 
> 赞同：0
> 
> 时间：2012-10-30T09:40:14.193
> 
> 标签：zend-framework, zend-translate

我需要使用 php 编写的动态 CSS 文件中的 Zend 翻译器。

到目前为止，我总是在视图或控制器之外使用 Zend 翻译器，如下所示：

```
Zend_Registry::get('Zend_Translate')->translate('hello'); 
```

在我的动态 CSS（位于公共文件夹中）中使用它时，无法找到 Zend_Registry 类

```
Class 'Zend_Registry' not found 
```

**如何让 Zend 翻译器在公用文件夹中工作？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T12:49:13.443

您需要在 PHP 脚本的顶部设置自动加载器（或至少包含路径）：

```
set_include_path('/path/to/library');
require_once 'Zend/Loader/Autoloader.php';
$autoloader = Zend_Loader_Autoloader::getInstance(); 
```

那么脚本应该能够加载 ZF 类。

如果您使用 PHP 提供 CSS 文件，请确保您提供（和处理）适当的缓存标头，这样浏览器就不必在每次请求时都下载文件。

# html - 从 NSURLRequest 以编程方式按下 html 按钮

> ID：13136214
> 
> 赞同：3
> 
> 时间：2012-10-30T09:40:26.850
> 
> 标签：html, ios, xcode, afnetworking, nsurlrequest

我有一个 html 表单，当它加载时已经填充了数据。它有保存和应用按钮。

我想更改表单上的 1 个项目并从我的 iOS 应用程序中发布它。问题是，当我为我正在更改的项目发送带有更改的表单数据信息的 POST 时，我还需要从表单提交所有其他当前设置，否则它们会被空白覆盖。（我无法控制编辑页面）。
我可以事先解析页面以从表单中获取显示的数据，然后使用 POST 发送它，但是页面对于每个用户来说可能看起来不同，所以这将非常困难。

在网络浏览器中，当我在加载页面后点击“保存”按钮时，我可以看到所有 POST 标题和表单数据，所以我想我可以在我的应用程序中执行此操作以获取当前数据，然后修改我希望的 1 项更改，然后重新发布。

所以我的问题是，如果我使用 AFNetworking 读取页面，我可以模拟按下该页面上的保存按钮，这样我就可以读取响应，但这次使用 POST 和标题数据？

或者关于如何实现这一目标的任何替代想法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-02T15:02:44.917

这可以通过访问文档对象模型来工作...检查语法...

```
NSString *formValue = [webView stringByEvaluatingJavaScriptFromString
                        :@"document.forms[0].elements[0].value"];

//...change value...

NSString *jScript = [NSString stringWithFormat
                     :@"document.forms[0].elements[0].value='%@';", formValue ];

[webView stringByEvaluatingJavaScriptFromString: jScript ];

[webView stringByEvaluatingJavaScriptFromString: @"document.forms[0].submit();"]; 
```

# security - Internet Explorer - 安全更新后将应用程序注册到 URL 协议

> ID：13136215
> 
> 赞同：0
> 
> 时间：2012-10-30T09:40:28.173
> 
> 标签：security, internet-explorer, url, protocols, updates

如[将应用程序注册到 URL 协议中所述](http://msdn.microsoft.com/en-us/library/aa767914%28v=vs.85%29.aspx)：

***注册 URL 协议与安全更新***

看来，Kumulatives Sicherheitsupdate für Internet Explorer (2744842) [http://technet.microsoft.com/de-de/security/bulletin/ms12-052](http://technet.microsoft.com/de-de/security/bulletin/ms12-052)禁止使用已注册的 URL 协议。

在 Internet Explorer 之前，Mozilla Firefox 和 Chrome 以正确的方式处理此类 url：调用已注册的应用程序。

现在 Internet Explorer 拒绝该 url，而 Mozilla Firefox 和 Chrome 工作正常！

*请问有人知道怎么处理吗？*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-22T09:46:53.200

避免错误的方法是...

1.  将您的 URL 协议站点添加为 IE 的受信任站点（Internet 选项）。
2.  禁用 Internet 区域的安全模式（Internet 选项）。
3.  编辑注册表。

尤其是3左右，需要改

```
[HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\ZoneMap\ProtocolDefaults] 
```

您需要添加自己的 URI 方案信息，例如

```
"newurl"=dword:00000001 
```

以上表示“newurl”的URL被视为内网。如果您希望“newurl”被视为受信任的站点，例如

```
"newurl"=dword:00000002 
```

# lisp - lisp：lambda 范围

> ID：13136227
> 
> 赞同：1
> 
> 时间：2012-10-30T09:41:07.743
> 
> 标签：lisp

我想实现`filter`根据条件过滤列表的功能

```
(defun filter (func xs)                                                          
  (mapcan                                                                        
    (lambda (x)                                                                  
      (when (func x) (list x))) xs )) 
```

但我收到一个错误：

```
*** - EVAL: undefined function FUNC 
```

我认为 lambda 应该看到`func`. 如何正确`func`传递`lambda`？

我使用[CLISP](http://en.wikipedia.org/wiki/CLISP)。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T09:55:20.943

你要

```
(当 ( funcall func x) (list x))
```

代替

```
(when (func x) (list x)) 
```

有关函数与变量命名空间的更多信息：

*   [http://en.wikipedia.org/wiki/Lisp-1_vs._Lisp-2#The_function_namespace](http://en.wikipedia.org/wiki/Lisp-1_vs._Lisp-2#The_function_namespace)
*   [http://c2.com/cgi/wiki?SingleNamespaceLisp](http://c2.com/cgi/wiki?SingleNamespaceLisp)
*   [为什么我们在 lisp 中需要 funcall](https://stackoverflow.com/questions/9729549/why-do-we-need-funcall-in-lisp)

# xslt - xslt调用java实例方法

> ID：13136229
> 
> 赞同：6
> 
> 时间：2012-10-30T09:41:12.193
> 
> 标签：xslt

我的 xsl 如下所示：

```
<?xml version="1.0"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0" 
xmlns:SimpleDateFormat="java.text.SimpleDateFormat"
xmlns:Date="java.util.Date" exclude-result-prefixes="SimpleDateFormat Date">

<xsl:variable name="s" select="SimpleDateFormat:new(MMM/dd/yyyy-HH/mm/ss/SSS)"/>
<xsl:variable name="date" select="Date:new(number($beginTime))"/> 
```

那么现在如何调用实例's'的方法格式（日期日期）？

如果我使用`<xsl:value-of select="s:format($date)" />`，那么错误是：前缀必须解析为命名空间：s。

但是如果我像这样添加命名空间 : `xmlns:s="java.text.SimpleDateFormat"`，`<xsl:value-of select="s:format($date)" />`将返回默认格式，而不是指定的格式。

那么如何获得指定的格式，例如 MM/dd/yyyy-HH/mm/ss/SSS ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T16:47:12.617

您需要使用的命名空间是引用对象类型的命名空间，并将变量本身作为调用中的第一个参数传递：

顺便说一句：您需要将格式参数放在撇号之间：

```
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0" xmlns:SimpleDateFormat="java.text.SimpleDateFormat" xmlns:Date="java.util.Date" exclude-result-prefixes="SimpleDateFormat Date">
    <xsl:variable name="s" select="SimpleDateFormat:new('MMM/dd/yyyy-HH/mm/ss/SSS')"/>
    <xsl:variable name="date" select="Date:new()"/>
    <!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
    <xsl:template match="*">
        <Test>
            <xsl:value-of select="SimpleDateFormat:format($s,$date)" />
        </Test>
    </xsl:template>
</xsl:stylesheet> 
```

我希望这有帮助！

# c# - 使用带有 xml 反序列化的泛型

> ID：13136231
> 
> 赞同：1
> 
> 时间：2012-10-30T09:41:21.040
> 
> 标签：c#, generics, xml-serialization

我想将一个对象传递给 xml 反序列化的结果类型并保持强类型。

所以反序列化类可以采用任何实现 IResult 接口的类型，在这种情况下是 Result 和 Result2。

我通过使 getObject 方法返回动态来完成这项工作，但我更愿意保持编译时间检查，我认为这应该是可能的。

我尝试过使用泛型，如下例所示，但是 deser.getObject(doc()); 行给了我一个“无法从使用中推断”的编译错误。

感谢所有帮助。

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Xml;
using System.Xml.Serialization;

namespace SOQuestion
{
    class Program
    {
        static void Main(string[] args)
        {

            var deser = new Deserialised(new Result());
            var result = deser.getObject(doc());

            var deser2 = new Deserialised(new Result2());
            var result2 = deser.getObject(doc());

            Console.Writeline(result.status);
            Console.Writeline(result2.status);
        }

        public XmlDocument doc()
        {
            var doc = new XmlDocument();
            var el = (XmlElement)doc.AppendChild(doc.CreateElement("Result"));
            el.SetAttribute("status", "ok");
            el.SetAttribute("status2", "not ok");
            return doc;

        }

    }

    class Deserialised
    {

        private IResult result;
        private Type resultType;

        public Deserialised(IResult _result)
        {
            result = _result;
            resultType = Type.GetType(result.GetType().AssemblyQualifiedName);
        }

        public T getObject<T>(XmlDocument xml)
        {
            var mySerializer = new XmlSerializer(resultType);
            var myStream = new MemoryStream();
            xml.Save(myStream);
            myStream.Position = 0;
            var r = mySerializer.Deserialize(myStream);
            return (T)r;
        }

    }

    interface IResult
    {
        public string status {get;set;}
    }

    [Serializable]
    public class Result :IResult
    {
        [XmlAttribute]
        public string status { get; set; }
    }

    [Serializable]
    public class Result2 : IResult
    {
        [XmlAttribute]
        public string status2 { get; set; }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:47:56.037

确实，那是行不通的——编译器无法`T`从中知道。请记住，它`T`来自*编译时的调用者*，而不是运行时方法的结果。有*一些*方法可以在反射/泛型之间切换，但它很丑陋，在这里没有多大帮助。我会`object`改为返回：

```
public object GetObject(XmlDocument xml) {
    var mySerializer = new XmlSerializer(resultType);
    using(var myStream = new MemoryStream()) {
        xml.Save(myStream);
        myStream.Position = 0;
        return mySerializer.Deserialize(myStream);
    }
} 
```

然后让调用者处理`dynamic`等：

```
var deser = new Deserialised(new Result());
dynamic result = deser.GetObject(doc());

var deser2 = new Deserialised(new Result2());
dynamic result2 = deser.GetObject(doc());

Console.Writeline(result.status);
Console.Writeline(result2.status); 
```

由于`dynamic`上述原因，两者`.status`中的`Console.WriteLine`仍然可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T12:31:32.880

在我看来[，您为自己提供的答案使](https://stackoverflow.com/a/13250802/590790)事情变得过于复杂。（除了做一些其他奇怪的事情，......见我的评论。）

在这里使用泛型没有任何好处。您也可以使用以下方法，您的两个要求仍然成立。

```
public IResult GetObject(XmlDocument xml)
{
    var mySerializer = new XmlSerializer(resultType);
    using (var myStream = new MemoryStream())
    {
        xml.Save(myStream);
        myStream.Position = 0;
        return (IResult)mySerializer.Deserialize(myStream);
    }
} 
```

...简单地调用它如下：

```
var deser = new Deserialised(new Result());
var result = (Result)deser.getObject(doc());

var deser2 = new Deserialised(new Result2());
var result2 = (Result2)deser.getObject(doc()); 
```

转换为任何没有实现的东西`IResult`都会触发编译器错误。

* * *

目前尚不清楚您在这里尝试做什么，但假设您进行了`Deserialised`通用。

```
class Deserialised<T>
    where T : IResult
{

    private T result;
    private Type resultType;

    public Deserialised(T _result)
    {
        result = _result;
    }

    public T getObject(XmlDocument xml)
    {
        var mySerializer = new XmlSerializer(typeof(T));
        var myStream = new MemoryStream();
        xml.Save(myStream);
        myStream.Position = 0;
        var r = (T)mySerializer.Deserialize(myStream);
        return r;
    }

} 
```

Why are you even passing `_result` as a parameter and storing it? My guess is you only needed it since you didn't know about `typeof()`? In that case simply drop it. After doing so again you just end up with a class which defines your generic parameter, with again the sole purpose to define the required cast.

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-06T12:11:58.833

所以我找到了一个解决方案，我的两个要求 1\. 传入的类型实现了 IResult 接口 2\. 返回的对象是静态类型的。具有如下约束的通用方法

```
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Xml;
using System.Xml.Serialization;

namespace SOQuestion
{
    class Program
    {
        static void Main(string[] args)
        {

            var result = new Deserialised().getObject<Result>();

            var result2 = new Deserialised().getObject<Result2>();

            Console.WriteLine(result.status);
            Console.WriteLine(result.errorMessage);
            Console.ReadLine();

        }
    }

    class Deserialised
    {

        public T getObject<T>() where T : IResult
        {
            try
            {
                var instance = Activator.CreateInstance<T>();
                var mySerializer = new XmlSerializer(instance.GetType());
                var myStream = new MemoryStream();
                doc().Save(myStream);
                myStream.Position = 0;
                var r = mySerializer.Deserialize(myStream);
                throw new DivideByZeroException();
                return (T)r;
            }

            catch (Exception exp)
            {
                var instance = Activator.CreateInstance<T>();
                instance.errorMessage = "something wrong here";
                return instance;
            }
            ;
        }

    public static XmlDocument doc()
        {
            var doc = new XmlDocument();
            var el = (XmlElement)doc.AppendChild(doc.CreateElement("Result"));
            el.SetAttribute("status", "ok");
            el.SetAttribute("status2", "notok");
            return doc;

        }

    }

    interface IResult
    {
        string status { get; set; }
        string errorMessage { get; set; }
    }

    [Serializable]
    public class Result : IResult
    {
        [XmlAttribute]
        public string status { get; set; }

        [XmlAttribute]
        public string errorMessage { get; set; }

        [XmlAttribute]
        public string message { get; set; }
    }

    [Serializable]
    public class Result2 : IResult
    {
        [XmlAttribute]
        public string status { get; set; }

        [XmlAttribute]
        public string message2 { get; set; }

        [XmlAttribute]
        public string errorMessage { get; set; }
    }

    [Serializable]
    public class Result3
    {
        [XmlAttribute]
        public string status { get; set; }

        [XmlAttribute]
        public string message2 { get; set; }

        [XmlAttribute]
        public string errorMessage { get; set; }
    }
} 
```

# android - 从文件中将联系人存储在 Android 中的电话联系人列表中

> ID：13136232
> 
> 赞同：2
> 
> 时间：2012-10-30T09:41:25.873
> 
> 标签：android, android-contacts

我正在使用此代码将文件中的联系人存储到手机的联系人列表中：

```
public void addContacts(String name, String number, String type) {
    int backRefIndex = 0;       
    String data=name+"--"+number+"--"+type;
    ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();
    Toast.makeText(getApplicationContext(), data, Toast.LENGTH_LONG).show();

    ops.add(ContentProviderOperation.newInsert(RawContacts.CONTENT_URI)
             .withValue(RawContacts.ACCOUNT_TYPE, null)
             .withValue(RawContacts.ACCOUNT_NAME, null)
             .build());      
    ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)
         .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, backRefIndex)
         .withValue(ContactsContract.Data.MIMETYPE
              ,ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE)
         .withValue(ContactsContract.CommonDataKinds.StructuredName.DISPLAY_NAME, name)
         .build());
    ops.add(ContentProviderOperation.newInsert(Data.CONTENT_URI)
         .withValueBackReference(Data.RAW_CONTACT_ID, backRefIndex)
         .withValue(Phone.MIMETYPE, Phone.CONTENT_ITEM_TYPE)
         .withValue(Phone.NUMBER, number)
         .withValue(Phone.TYPE, type).build());
    try {
         getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);
    } catch (Exception e) { }
} 
```

它正在运行，没有任何错误。但是，当从手机的联系人列表中查看添加的联系人时，会出现错误消息`"Unfortunately contacts have stopped working"`。

代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-15T14:58:18.510

这个问题没有附加日志，所以它是一个尝试。

您的联系人提供商（db）可能支持“RawContacts.ACCOUNT_TYPE”、“RawContacts.ACCOUNT_NAME”列为 NULL，但在执行 Onclick 操作时，联系人详细信息视图需要该类型的一些数据或名称不应为空，所以它崩溃了

因此，打开 raw_contact 表并找到其他联系人的“ACCOUNT_TYPE”和“ACCOUNT_NAME”列的正确默认值。并在您的构建器操作中使用相同的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-13T14:13:12.527

我有同样的错误。您可以在我的方法中的注释代码中看到导致它的原因。你的错误必须是相似的。您的错误也可能是由一些缺失的信息引起的。

但是在尝试之前看看如果你改变会发生`"(Phone.TYPE ,type)"`什么`"(Phone.TYPE, Phone.TYPE_MOBILE)"`。我认为这是你的错误，就像 Sumit Chawla 在他的评论中所说的那样。

添加对空值的检查是一种很好的做法。他们可以抛出异常。

```
public void addContacts(String name, String number, int numberType
    , String email, String organization, String street, String city
    , String region, String postcode) {
    ArrayList<ContentProviderOperation> ops = new ArrayList<ContentProviderOperation>();
    int rawContactInsertIndex = ops.size();

    ops.add(ContentProviderOperation.newInsert(RawContacts.CONTENT_URI)
            .withValue(RawContacts.ACCOUNT_TYPE, null)
            .withValue(RawContacts.ACCOUNT_NAME, null)
            .build());

    ops.add(ContentProviderOperation
            .newInsert(Data.CONTENT_URI)
            .withValueBackReference(Data.RAW_CONTACT_ID,rawContactInsertIndex)
            .withValue(Data.MIMETYPE, StructuredName.CONTENT_ITEM_TYPE)
            .withValue(StructuredName.DISPLAY_NAME, name)
            .build());

    ops.add(ContentProviderOperation
            .newInsert(Data.CONTENT_URI)
            .withValueBackReference(Data.RAW_CONTACT_ID,   rawContactInsertIndex)
            .withValue(Data.MIMETYPE, Phone.CONTENT_ITEM_TYPE)
            .withValue(Phone.NUMBER, number)
            .withValue(Phone.TYPE, numberType)
          //.withValue(Phone.TYPE, Phone.TYPE_MOBILE) //Use constants for type
            .build());

    ops.add(ContentProviderOperation.newInsert(Data.CONTENT_URI)
            .withValueBackReference(Data.RAW_CONTACT_ID, 0)
            .withValue(Data.MIMETYPE,Email.CONTENT_ITEM_TYPE)
            .withValue(Email.DATA, email)
            //If I add Email.TYPE People(Phone's contacts application) 
            //doesn't work any more.
            //The error is: "Unfortunately contacts have stopped working"
            // .withValue(Email.TYPE,Email.TYPE_MOBILE)
            .build());

    ops.add(ContentProviderOperation.newInsert(Data.CONTENT_URI)
           .withValueBackReference(Data.RAW_CONTACT_ID, 0)
           .withValue(Data.MIMETYPE,Organization.CONTENT_ITEM_TYPE)
           .withValue(Organization.COMPANY, organization)
           .build());

    ops.add(ContentProviderOperation.newInsert(Data.CONTENT_URI)
           .withValueBackReference(Data.RAW_CONTACT_ID, 0)
           .withValue(Data.MIMETYPE,StructuredPostal.CONTENT_ITEM_TYPE)
           .withValue(StructuredPostal.STREET, street)
           .withValue(StructuredPostal.CITY, city)
           .withValue(StructuredPostal.REGION, region)
           .withValue(StructuredPostal.POSTCODE, postcode)
           .build());

    try {
        mContext.getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);
    } catch (Exception e) { 
        Log.e(TAG, "Error adding contact!", e);
    }
} 
```

# php - Typo3 基本标记？

> ID：13136234
> 
> 赞同：0
> 
> 时间：2012-10-30T09:41:29.233
> 
> 标签：php, typo3

我有这个打字稿：

```
page = PAGE
page.10 = TEMPLATE
page.10.template = FILE
page.10.template.file = fileadmin/templates/index.html

page.10.marks{
# Marker TITLE
TITLE = TEXT
TITLE.field = title
} 
```

在我的模板中：

```
<html>
    <head>
        <title>Here goes the title</title>
        <meta charset="utf-8" />
        <link href="style.css" rel="stylesheet" type="text/css" />
    </head>

<body>
<div id="headertitle">###TITLE###</div>
</body>
</html> 
```

知道为什么这不起作用吗？我的意思是我在页面显示上看到了模板，但是显示的不是标题###TITLE###

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T08:55:40.427

激活. `admin panel`_ `config.admPanel = 1`_ `TypoScript`这将在前端页面的左下角放置一个小框。

然后打开`admin panel`并打开`TypoScript`子部分。选中除所有复选框之外的所有复选框`Explain SELECT queries`，然后单击更新。您现在应该会看到有关`TYPO3`您的`TypoScript`.

另一件要检查的事情：您是否可能不小心将 添加`TypoScript`到该`constant`部分而不是该`setup`部分？请使用`TS Object Browser`或 进行验证`Template Analyzer`。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-30T09:47:31.180

1.  管理面板中的错误消息是什么？
2.  您是否添加了静态模板？

# c# - 在查询中丢失对子对象的引用

> ID：13136236
> 
> 赞同：2
> 
> 时间：2012-10-30T09:41:35.247
> 
> 标签：c#, asp.net, .net, entity-framework, linq-to-sql

我有 3 个实体（MasterDoc、Folder、User），我在另一个实体（Folder_User）中链接在一起。

```
public class Folder_User
{
    public int Id { get; set; }
    public MasterDoc MasterDoc { get; set; }
    public User User { get; set; }
    public Folder Folder { get; set; }
} 
```

在我将 Folder_User 类型的对象插入数据库后，我可以（在同一个 DbContext 上）查询它并检索子对象。

```
public static List<Folder_User> GetAllFolder_USer(User user, DataModel dbContext)
    {
        List<Folder_User> list = null;

        var query = from f in dbContext.Folder_User
                     where f.User.Id == user.Id
                     select f;

        list = new List<Folder_User>(query);
        return list;
    } 
```

但是在页面刷新（新的 dbcontext）之后，当我运行相同的查询时，对 MasterDoc 的对象引用为空。

*我已经尝试过延迟加载，但似乎没有任何解决方法。*还检查了数据库，并且该表正确包含具有 MasterDoc Id 的行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:50:43.987

您需要`Include`在`MasterDoc`查询中：

```
public static List<Folder_User> GetAllFolder_USer(User user, DataModel dbContext)
{
    var query = dbContext.Folder_User.
                          Include(f => f.MasterDoc).
                          Where(f => f.User.Id == user.Id);

    return query.ToList();
} 
```

# firefox - SVG 仅在 Firefox 中部分显示

> ID：13136238
> 
> 赞同：3
> 
> 时间：2012-10-30T09:41:39.780
> 
> 标签：firefox, svg, rendering

我目前正在使用 SVG 格式的瑞士地图。标签`<svg>`直接嵌入到.`<div>`

在 Chromium (Linux) 中，一切看起来都很好，但在 Firefox (Linux) 中，只显示了 SVG 的一部分。SVG 标记本身似乎是有效的。

### 铬：

![Chromium 中的 SVG](../Images/2491618d324ce246f4223d52579e7b8a.png)

### 火狐：

![Chromium 中的 SVG](../Images/57666437fa09122a84034fb29ce8e35a.png)

我用源代码创建了一个 jsfiddle，以便于测试：http: [//jsfiddle.net/MKRXN/](http://jsfiddle.net/MKRXN/)

这是 Firefox 的问题，还是 SVG 的问题？无论如何，我怎样才能让它正常工作？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:47:55.313

您应该将`height`and设置`width`为您的父母`div`，然后将`svg`高度和宽度设置为`100%`：

HTML：

```
<div id="map" style="height: 500px;width:600px;"> 
```

SVG：

```
<svg
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.0"
   id="svg_main" style="height: 100%;width: 100%"> 
```

检查此代码：http: [//jsfiddle.net/Kgs6J/](http://jsfiddle.net/Kgs6J/)

# asp.net-mvc - dhtmlxScheduler 与 mvc 3

> ID：13136242
> 
> 赞同：0
> 
> 时间：2012-10-30T09:41:48.377
> 
> 标签：asp.net-mvc, asp.net-mvc-3, dhtmlx

我一直在尝试在我的 mvc3 项目中实现 DhtmlxScheduler Standard Edition v.3.5。按照[http://www.dhtmlx.com/blog/?p=639上的教程进行操作](http://www.dhtmlx.com/blog/?p=639)

我相信该教程在 mvc2 中，但我在遵循它时遇到了一些麻烦。

这是我的查看页面；

```
@*@Page Language="C#" Inherits="System.Web.Mvc.ViewPage<dynamic>";*@

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
    <head runat="server">
    <title>Index</title>

    <script src="@Url.Content("~/Scripts/dhtmlxscheduler.js")" type="text/javascript"></script>
    <link href="@Url.Content("~/Scripts/dhtmlxscheduler.css")" rel="stylesheet" type="text/css" /> 

    <style type="text/css">
        html, body
        {
            height:100%;
            padding:0px;
            margin:0px;
        }
    </style>
    <script type="text/javascript">
        function init() {
            scheduler.init("scheduler_here", new Date(2010, 6, 1), "month");
        }
    </script>
</head>
<body onload="init()">
    <div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100%;'>
        <div class="dhx_cal_navline">
            <div class="dhx_cal_prev_button">&nbsp;</div>
            <div class="dhx_cal_next_button">&nbsp;</div>
            <div class="dhx_cal_today_button"></div>
            <div class="dhx_cal_date"></div>
            <div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
            <div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
            <div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
        </div>
        <div class="dhx_cal_header">
        </div>
        <div class="dhx_cal_data">
        </div>
    </div>
</body>
</html> 
```

当我在没有样式表的情况下运行此页面时，它会加载日历，但它到处都是，所以我添加了 CSS，但我什么也没得到？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-12T10:30:02.580

究竟出了什么问题？此代码将在 mvc3 中工作，除了您可能应该在页面顶部添加 @{Layout = null;} 。调度程序应该占据其容器的整个大小，即 div#scheduler_here。如果您希望调度程序只占用页面的一部分，您可以设置“scheduler_here”的大小，例如 <div id="scheduler_here" class="dhx_cal_container" style='width:960px;margin:0 auto;height:100 %;'> 希望对你有帮助。

# android - 如何只刷新 Android UI 组件的一部分？

> ID：13136243
> 
> 赞同：1
> 
> 时间：2012-10-30T09:41:53.753
> 
> 标签：android

例如，一个 android UI 由一个 textView、一个 imageView 和一个画廊组成，当我更新 textView 上的文本和 imageView 上的图像时，画廊也会自动更新。问题是线程会重新加载画廊使用的图像并影响性能。我想要的只是刷新 textView 和 imageView，而不是画廊。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:44:23.557

听起来你需要使用[`View.invalidate()`](https://developer.android.com/reference/android/view/View.html#invalidate%28%29)

# exception - 异常处理和构造函数

> ID：13136244
> 
> 赞同：0
> 
> 时间：2012-10-30T09:42:06.907
> 
> 标签：exception, file-io, constructor

我正在将数据写入文件，当我写入此数据时，我想这样做，以便如果文件未打开，它将给用户一条消息，说明出现了问题。我这样做的方法是调用写入方法，如果失败则返回false。这样我可以提示用户做一些事情来检查发生了什么。

但是，当我创建对象时，我无法从构造函数返回任何东西，所以我对我应该做什么感到有点难过。

```
public class Writetofile {
BufferedWriter writer = null;

public Writetofile(String[]details) throws IOException{
String machine= details[0];
String date=details[1];
String start_time = details[2];     
try{
   File new_cal= new File("C:\\Activity_Calibrator\\log\\"+machine+"\\"+machine+date+".txt");
   new_cal.getParentFile().mkdir();
   FileWriter fwriter = new FileWriter(new_cal);
   writer = new BufferedWriter(fwriter); 
   writer.write("Linear Calibratiton for " + machine + " carried out " + date+" ./n");
   writer.close();
  }
catch(Exception e){ in here I would like to be able to send a message back to m
code so that it can tell the user to check the folder etc}
} 
```

当我调用记录数据时，如果出现问题，它将向调用类返回 false。我可以留言。

```
 public boolean recordData(String record) throws IOException{
try{
    writer.append(record);
    writer.close();
    return true;
   }
catch(Exception e){
    return false;

   }
 }
 }
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:44:11.217

构造函数不应该做任何事情。构造函数是与对象分配密切相关的初始化阶段。

应该避免抛出异常，或者在构造函数中做任何可能抛出异常的事情。

Java没有将分配和初始化阶段分开，没有代码，尤其是IO代码应该在构造函数中。

# python - Python：转换为字符串时如何近似浮点数？

> ID：13136245
> 
> 赞同：2
> 
> 时间：2012-10-30T09:42:09.187
> 
> 标签：python, string, floating-point, python-2.7

我有一个计时模块：

```
start_timing = time.time()
#stuff happening here    
report_timing["INT_MODULE"] = time.time()- start_timing 
```

如果我使用`str(report_timing["INT_MODULE"])`我得到的是很长的：`0.000441074371338`。

是否有一种标准方法可以将此浮点数舍入`0.0004`或以其他方式表示为更少的数字`440 microseconds`，换句话说，一种转换时间的标准方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:45:41.990

report_timing["INT_MODULE"] = int((time.time() - start_timing)*1000.0) / 1000

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:47:08.263

您可以尝试一些字符串格式：

```
In [1]: strs=0.000441074371338

In [2]: "{0:e}".format(strs)
Out[2]: '4.410744e-04'

In [3]: "{0:.4f}".format(strs)
Out[3]: '0.0004'

In [9]: "{0:.0f} us".format(strs*1000*1000)
Out[9]: '441 us' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:47:00.513

您可以使用默认的内置函数对 long 进行舍入； [http://docs.python.org/2/library/functions.html#round](http://docs.python.org/2/library/functions.html#round)

至于转成微秒，恐怕也无能为力了。

# python - 用python或perl生成uml序列图

> ID：13136247
> 
> 赞同：6
> 
> 时间：2012-10-30T09:42:23.973
> 
> 标签：python, perl, uml, sequence-diagram

我有一些文本，我将处理这些文本以生成**uml 序列图**图像。我可以将文本处理为现有“文本到 uml”工具的格式`python`或`perl`格式，但我试图消除该额外步骤并直接从 python/perl 脚本提供图像输出。

我可以使用任何 python 或 perl 包/模块吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T10:18:30.620

有许多 Python 替代品。

如果您想从头开始生成图像，您可能需要考虑[PIL](http://www.pythonware.com/products/pil/)（Python 图像库），它是 Python 的“事实上的”图像库。

但是，特别是对于序列图，blockdiag 图图像生成器库（也使用 PIL）包括一个名为[seqdiag](http://blockdiag.com/en/seqdiag/index.html)的序列图生成器。例如，以下是如何定义和生成一个简单但完整的序列图，*包括*图表定义：

```
from seqdiag import parser, builder, drawer

diagram_definition = u"""
   seqdiag {
      browser  -> webserver [label = "GET /index.html"];
      browser <- webserver;
   }
"""
tree = parser.parse_string(diagram_definition)
diagram = builder.ScreenNodeBuilder.build(tree)
draw = drawer.DiagramDraw('PNG', diagram, filename="diagram.png")
draw.draw()
draw.save() 
```

有关更多示例（序列）图定义和样式选项，请参见[http://blockdiag.com/en/seqdiag/examples.html 。](http://blockdiag.com/en/seqdiag/examples.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:55:53.720

在 Perl 中有几个 perl 模块可以做到这一点，请参阅[UML::State](https://metacpan.org/module/UML%3a%3aState)。

来自简介：

```
use UML::State;

my $diagram = UML::State->new(
  $node_array,
  $start_list,
  $accept_list,
  $edges
);

# You may change these defaults (doing so may even work):
$UML::State::ROW_SPACING = 75;  # all numbers are in pixels
$UML::State::LEFT_MARGIN = 20;
$UML::State::WIDTH       = 800;
$UML::State::HEIGHT      = 800;

print $diagram->draw(); 
```

CPAN 是你的朋友。:)

# javascript - jQuery Countdown - 每日倒计时，还有二级倒计时？

> ID：13136251
> 
> 赞同：1
> 
> 时间：2012-10-30T09:42:57.500
> 
> 标签：javascript, countdown

# 1.每日倒计时

我正在尝试使用 Keith Wood 的 jQuery 倒计时插件 (http://keith-wood.name/countdownRef.html) 来创建每日倒计时页面。例如：

*   A - 每天倒计时到 07:00
*   B - 每天倒计时到 09:00
*   C - 每天倒计时到 11:00

我正在以一种相当老套的方式做事：

```
var foo = new Date();
foo.setHours(11)
foo.setMinutes(0)
foo.setSeconds(0)
$('#fooCountdown').countdown({until: foo}); 
```

基本上，我只是创建一个默认为现在的新日期对象，然后将时间设置为我今天想要的时间。

然而，这很 hacky，而且它不会在一天结束时重置 - 一旦新的一天结束，它仍然倒计时到前一天的时间。

使用此插件进行每日倒计时是否有更清洁或更好的方法？

# 2\. 二次倒计时

其次 - 我还希望每个倒计时，当它到期时，倒计时到当天晚些时候的第二个时间。

例如，对于 A - 一旦到达 07:00，它就会开始倒计时到当天的 15:00。

我正在使用 onExpiry 函数执行此操作：

```
$('#officeCountdown').countdown({until: officeOpens, onExpiry: OfficeOpen, alwaysExpire: true});

...

function OfficeOpen() {
    $('#officeCountdown').countdown('option', {until: officeCloses, onExpiry: OfficeClose, alwaysExpire: true});
}

function OfficeClose() {
    alert('Office has closed')
} 
```

第一部分 - 倒计时直到 officeOpen 似乎工作。

然而，第二部分 - 倒计时直到 OfficeClose 没有 - 它似乎总是开始倒计时 officeOpens 和 officeCloses 之间的差异，而不是使用当前时间 - 而且，OfficeCLose 函数似乎永远不会触发。

有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T01:55:57.090

我建议你使用优秀的[Datejs](http://www.datejs.com/)插件来创建/处理日期。
（*阅读[入门](http://www.datejs.com/2007/11/27/getting-started-with-datejs/)和[文档](http://code.google.com/p/datejs/wiki/APIDocumentation)，因为它非常广泛*）

这样你可以做

```
$('#fooCountdownA').countdown({
    until: Date.today.set({hour:7}) 
});
$('#fooCountdownB').countdown({
    until: Date.today.set({hour:9}) 
});
$('#fooCountdownC').countdown({
    until: Date.today.set({hour:11}) 
}); 
```

* * *

至于倒计时，该插件似乎对重复使用倒计时不友好。也许你最好创建虚拟元素并将它们插入到dom中以保持倒计时，并在到期时销毁它们。

# javascript - C 语言的 Javascript 等价物（*、f、-> 等等）

> ID：13136256
> 
> 赞同：0
> 
> 时间：2012-10-30T09:43:17.000
> 
> 标签：javascript, c, svg, geometry

[我从互联网](http://devmaster.net/forums/topic/4947-transforming-an-ellipse/)上找到了一个代码并尝试理解它。我不知道代码的编程语言是什么，并尝试找到 javascript 等效项或解决方法。

A) 有问题的是哪种语言？

* * *

```
*a_offsetrot = PI / 4.0f; 
```

B）上面的“*”是什么意思，可能的Javascript等价物是什么？

C) 'f' 的含义是什么以及可能的 Javascript 等价物是什么？

* * *

```
if (K<0) K = 0; else K = (float)sqrt (K); 
```

D) '(float)' 的含义是什么，可能的 Javascript 等价物是什么？

* * *

```
*a_offsetrot = 0.5f * (float)atan2(B,ac); 
```

E）“atan2”的含义是什么，可能的 Javascript 等价物是什么？

* * *

```
void Ellipse_Transform (float * a_rh, float * a_rv, float *a_offsetrot, Vector2 * endpoint, matrix * a_mat, int *a_ReverseWinding) 
```

F) 'Vector2 * endpoint' 是什么意思，是否有可能的 Javascript 等价？Vector2 是具有两个 (x,y) 点还是只有一个 (x,y) 点的东西？

* * *

```
m[0] = a_mat->m[0] * +rh * c + a_mat->m[3] * rh * s; 
```

G) 'a_mat->m[0]' 是什么意思，可能的 Javascript 等价物是什么？

## 编辑：更新标题更有意义。

EDIT2：感谢[@rid](https://stackoverflow.com/a/13136379/1691517)的建设性回答，我将 C 语言代码翻译成 Javascript，它在[此处](https://stackoverflow.com/a/13102801/1691517)，完整的工作功能示例在[此处](http://jsbin.com/oqojan/73)。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T09:49:01.820

A) 语言是 C。

B)`*`是解引用运算符。JavaScript 中没有等价物，因为 JavaScript 不使用指针。

C) `f`in`4.0f`表示该值是一个`float`值。JavaScript 中没有等价物，因为在 JavaScript 中所有数值都表示为数字。

D)`(float)`是类型转换。JavaScript 中类似的东西`parseFloat()`会解析参数并返回一个浮点数，但这与类型转换不同，并且在 JavaScript 中没有与类型转换等效的东西。

E)`atan2()`是用于计算反正切的数学函数。您可以在标准 JavaScript`Math`包中找到它。

F) A`Vector2`很可能是一个具有两个属性的结构，一个`x`属性和一个`y`属性。

G)`a_mat->m[0]`表示数组`m`中的第一个元素是 的属性`a_mat`。如果`a_mat`是 JavaScript 中的对象，则等价于`a_mat.m[0]`.

# android - 谷歌播放不支持三星 Galaxy Tab2 10.1

> ID：13136261
> 
> 赞同：0
> 
> 时间：2012-10-30T09:43:31.040
> 
> 标签：android

我在 Google play 上遇到了这个问题。它指出由于文件清单权限，不支持主题选项卡。

这些是所需的权限和硬件：

```
android.permission.INTERNET, 
android.permission.ACCESS_COARSE_LOCATION, 
android.permission.ACCESS_FINE_LOCATION, 
android.permission.ACCESS_LOCATION_EXTRA_COMMANDS, 
android.permission.ACCESS_NETWORK_STATE, 
android.permission.WRITE_EXTERNAL_STORAGE, 
android.permission.READ_EXTERNAL_STORAGE

android.hardware.location, 
android.hardware.location.gps, 
android.hardware.location.network, 
android.hardware.touchscreen 
```

正如所问，这是清单

```
<supports-screens android:anyDensity="true" 
  android:smallScreens="true" android:normalScreens="true" 
  android:largeScreens="true" android:resizeable="true" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

我没有看到任何“不受支持”的东西，有人可以帮助我吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:56:03.573

请在标签下的`Manifest`文件中添加以下代码`<manifest>`：

```
 <supports-screens android:largeScreens="true"
    android:normalScreens="true" android:smallScreens="true"
    android:resizeable="true" android:anyDensity="true" /> 
```

此`support`标记表明您的应用程序支持所有屏幕尺寸。

# android - 向 ArrayList 添加条目时出现 ConcurrentModificationException

> ID：13136263
> 
> 赞同：0
> 
> 时间：2012-10-30T09:43:45.343
> 
> 标签：android, arraylist, android-asynctask, concurrentmodification

我正在尝试将一些 MapOverlays 添加到我的 MapView 中，但出现以下错误：

```
java.util.ConcurrentModificationException
at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:569)
at com.google.android.maps.OverlayBundle.draw(OverlayBundle.java:44)
at com.google.android.maps.MapView.onDraw(MapView.java:530)
at android.view.View.draw(View.java:13458)
...
at dalvik.system.NativeStart.main(Native Method) 
```

这是我的 AsyncTask 的 doInBackground() 方法：

```
Drawable marker = myContext.getResources().getDrawable(
                R.drawable.marker);
        Bitmap bitmap = ((BitmapDrawable) marker).getBitmap();
        Drawable marker_new = new BitmapDrawable(myContext.getResources(),
                Bitmap.createScaledBitmap(
                        bitmap, MainActivity.MARKER_SIZE * 10,
                        MainActivity.MARKER_SIZE * 10, true));

        mapOverlays = map.getOverlays();

        int minLat = Integer.MAX_VALUE;
        int maxLat = Integer.MIN_VALUE;
        int minLon = Integer.MAX_VALUE;
        int maxLon = Integer.MIN_VALUE;
        double fitFactor = 1.1;

        MainActivity.mapListAddress.clear();
        MainActivity.mapListTitle.clear();
        MainActivity.mapListLati.clear();
        MainActivity.mapListLongi.clear();
        MainActivity.parseMaps();

        for (int i = 0; i < MainActivity.mapListAddress.size(); i++) {
            // String pointAddress = MainActivity.mapListAddress.get(i);
            String pointTitel = MainActivity.mapListTitle.get(i);

            MyItemizedOverlay itemizedOverlay = new MyItemizedOverlay(
                    marker_new, map);

            double latitude = MainActivity.mapListLati.get(i) * 1e6;
            double longitude = MainActivity.mapListLongi.get(i) * 1e6;

            Geocoder geocoder;
            List<Address> addresses = null;
            geocoder = new Geocoder(Map.this, Locale.getDefault());
            try {
                addresses = geocoder.getFromLocation(MainActivity.mapListLati.get(i),
                        MainActivity.mapListLongi.get(i), 1);
            } catch (IOException e) {
                e.printStackTrace();
            }
            String address = addresses.get(0).getAddressLine(0);
            String city = addresses.get(0).getAddressLine(1);
            String country = addresses.get(0).getAddressLine(2);
            String pointAddress = address + "\n" + city + "\n" + country;

            GeoPoint p = new GeoPoint((int) latitude, (int) longitude);

            overlayitem = new OverlayItem(p, pointTitel,
                    pointAddress);

            itemizedOverlay.setBalloonBottomOffset(40);
            itemizedOverlay.addOverlay(overlayitem);
            mapOverlays.add(itemizedOverlay);

            int lat = p.getLatitudeE6();
            int lon = p.getLongitudeE6();

            maxLat = Math.max(lat, maxLat);
            minLat = Math.min(lat, minLat);
            maxLon = Math.max(lon, maxLon);
            minLon = Math.min(lon, minLon);

            map.getController().zoomToSpan((int) (Math.abs(maxLat - minLat) * fitFactor),
                    (int) (Math.abs(maxLon - minLon) * fitFactor));
            map.getController().animateTo(new GeoPoint((maxLat + minLat) / 2,
                    (maxLon + minLon) / 2));
        }
        return null; 
```

为什么会发生此错误，我在代码中做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:11:56.133

尝试同步`mapOverlays.add(itemizedOverlay);`. 我认为这就是问题所在，多个线程试图同时添加。

# php - Zend - 外部注销/结束其他会话

> ID：13136266
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:00.990
> 
> 标签：php, zend-framework, session, logout, zend-session

我正在使用 Zend Framework 编写一个应用程序，我需要能够按需注销用户。该应用程序将收到一个请求，其中包含映射到 SessionIds 的某种 ID，它将结束/过期这些会话。我知道如何进行映射，但是然后呢？如何结束具有其 ID 的会话？

我看到有`Zend_Session::setId()`，但我认为这不是我想做的。

我有一个想法，只是删除与给定会话关联的文件，因为它们被命名为 sess_[sessionId]，但我想这是一种丑陋的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T22:13:49.917

您可以将会话信息保存到数据库中。它将与会话 ID 相关。然后创建一个插件来检查数据库行是否仍然存在。如果没有，则执行`Zend_Auth::getInstance()->clearIdentity()`

注销用户的方法将从数据库中删除会话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T14:03:28.153

根据您的会话结构和您想要清除的具体内容，有多种方法可以销毁、过期和取消设置 Zend_Sessions。请参阅[http://framework.zend.com/manual/1.12/en/zend.session.html](http://framework.zend.com/manual/1.12/en/zend.session.html)了解更多信息。

如果将来您可以提供更多详细信息，也许还可以提供一些代码来说明您的问题，我相信社区会更乐意提供更好的答案。

祝你好运。

# jquery - 如何使用ajax将数据从servlt发送到html页面

> ID：13136268
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:00.443
> 
> 标签：jquery, ajax, json, servlets, struts

场景如下：

```
 $.ajax({
               url: 'createPdf.do',
               data: {doc: currentTab}}).done(function(html){
               alert(html);
           }); 
 }); 
```

但我知道这不是合适的方法，因为我真正需要的是数据本身而不是 html，所以我做了一些研究，我发现解决方案是使用 json，但没有找到一个很好的例子

# android - 在 android 应用程序中将对象添加到公共数组列表时出错

> ID：13136272
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:11.897
> 
> 标签：android, dialog

我已经扩展`Application`并声明了一个`public ArrayList`我用来保存数据的那里（我知道它不是 android 中的 Singleton 应该是，但它是我唯一可以工作的东西）。

**问题：** 当我显示我的`CreateNewObject`对话框并按 OK 时，我收到以下错误。

**错误：**

```
10-30 10:20:19.069: E/AndroidRuntime(632): java.lang.IllegalStateException: The content of the adapter has changed but ListView did not receive a notification. Make sure the content of your adapter is not modified from a background thread, but only from the UI thread. [in ListView(16908298, class android.widget.ListView) with Adapter(class com.nuclear.gfr.adapter.PatientAdapter)] 
```

我的代码：

```
public class NewPatientDialog extends DialogFragment {

    private static final String TAG = "NUKClear";

    OnNewPatientlistener listener;

    private NewPatientDialog() {

    }

    public interface OnNewPatientlistener {
        public void OnNewPatient(Patient newPatient);
    }

    public void addPatientAction(Patient patient) {
        OnNewPatientlistener activity = (OnNewPatientlistener) getActivity();
        activity.OnNewPatient(patient);
    }

    public static NewPatientDialog newInstance(String title) {
        NewPatientDialog frag = new NewPatientDialog();
        Bundle args = new Bundle();
        args.putString("title", title);
        frag.setArguments(args);
        return frag;
    }

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        String title = getArguments().getString("title");

        LayoutInflater inflater = (LayoutInflater) getActivity()
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        final View newPatient = inflater.inflate(R.layout.new_patient_dialog,
                null);
        Log.d(TAG, "Creating dialog for new patientinput...");
        return new AlertDialog.Builder(getActivity())
                .setIcon(R.drawable.alert_dialog_icon)
                .setTitle(title)
                .setView(newPatient)
                .setPositiveButton(R.string.alert_dialog_ok,
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int whichButton) {
                                final EditText name = (EditText) newPatient
                                        .findViewById(R.id.name_edit);
                                final EditText ssn = (EditText) newPatient
                                        .findViewById(R.id.ssn_edit);
                                final EditText accnum = (EditText) newPatient
                                        .findViewById(R.id.accnr_edit);

                                final Patient patient = new Patient(ssn.getText()
                                        .toString(), name.getText().toString(),
                                        new Study(SimpleDateFormat
                                                .getDateInstance().toString(),
                                                accnum.getText().toString()));

                                addPatientAction(patient); 

                                DatabaseHelper db = new DatabaseHelper(
                                        getActivity());
                                db.addPatientStudy(patient);

                                /*DataManager dm = new DataManager(getActivity()
                                        .getBaseContext());
                                dm.addPatient(patient);*/

                                /*
                                 * PatientManager pm = new
                                 * PatientManager(getActivity
                                 * ().getBaseContext()); pm.add(patient);
                                 */

                                // Interfacecallback
                                /*
                                 * OnNewPatientlistener activity =
                                 * (OnNewPatientlistener) getActivity();
                                 * activity.OnNewPatient(patient);
                                 */

                            }
                        })
                .setNegativeButton(R.string.alert_dialog_cancel,
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int whichButton) {
                                dismiss();
                            }
                        }).create();

    }
} 
```

谁能解释为什么会发生这种情况以及如何规避这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T22:01:54.770

添加...

```
runOnUiThread(new Runnable() {
              public void run() {
                  GFRApplication.dPatients.add(newPatient);
              }
            }); 
```

......成功了。

# php - 如何使用 exec() 启动和停止 PHP 开发服务器

> ID：13136275
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:12.193
> 
> 标签：php, ubuntu

如何使用 exec() 函数启动和停止 PHP 开发服务器？我需要这样做以自动化我的 BDD 测试。

这将停止执行我的脚本：

```
echo exec('php -S localhost:8000'); 
```

所以我需要一种从 PHP 启动服务器并能够继续执行我的测试的方法。然后我还需要一种从 PHP 中阻止它的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:22:21.163

这有效：

```
private function _startDevelopmentServer($pidfile)
{
    $cmd = 'cd ../../public && php -S 127.0.0.1:8027 index.php';
    $outputfile = '/dev/null';
    shell_exec(sprintf("%s > %s 2>&1 & echo $! >> %s", $cmd, $outputfile, $pidfile));
    sleep(1);
}

private function _killDevelopmentServer($pidfile)
{
    if (file_exists($pidfile)) {
        $pids = file($pidfile);
        foreach ($pids as $pid) {
            shell_exec('kill -9 ' . $pid);
        }
        unlink($pidfile);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:54:48.883

这是因为您要停止 Apache。它处理停止命令，但此时服务器已停止，因此它无法处理另一个命令，因为服务器不在那里解析它。编写一个停止并重新启动 Apache 的 shell 脚本，然后从您的 PHP 代码中调用它。即使 Apache 已停止，shell 脚本也应继续执行。

我假设您的服务器是 Apache。

# python - 使用 raw_input 更改变量名

> ID：13136276
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:14.723
> 
> 标签：python, variable-names

这是一个初学者的问题：

我做了一个函数，它读取一个 txt 文件（由用户选择）并列出文件中包含的许多数字，称为 A。我调用了这个函数`open_file`。然后我想用文件的原始名称更改该列表的名称，加上“ `_values`”

我的尝试

```
file_name = raw_inpunt('Give the name of the file:') # the user chooses the file
open_file (file_name) #A list is created

file_name +'_'+'values' = A 
```

这似乎不起作用。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:02:01.160

如果您要对很多文件执行此操作，最好将列表存储在字典中，而不是为每个文件创建一个新变量。

```
results = {}
....
file_name = raw_input('Give the name of the file:') # the user chooses the file
open_file(file_name) #A list is created
results[file_name] = A 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-30T09:48:03.753

您可以尝试使用：

```
vars()[file_name+"_values"] = A 
```

它不起作用的原因是您试图将列表保存在字符串中。

基本上`file_name+"_"+"values"`是一个字符串而不是一个变量。因此你会得到一个错误。

但是，我强烈建议您将每个文件名的值列表保存在字典中。

```
values = dict()
values[file_name] = A 
```

这是一种更有效的值存储方式。

# ios - 如何在IOS中实现多个同时自定义手势？

> ID：13136277
> 
> 赞同：3
> 
> 时间：2012-10-30T09:44:15.487
> 
> 标签：ios, ios5

你好！我的问题不是如何实现多个自定义手势，而是如何处理多个自定义手势。我在视图的角点上添加了一个捏自定义手势，并在视图上添加了一个手指旋转手势。对于角点上的捏合自定义手势，我使用过`SPUserResizableView`，对于单指自定义手势，我使用过`KTOneFingerRotationGestureRecognizer`. 但只有一个手势有效。我该如何解决这个问题？我什至尝试过使用`SPUserResizableView`默认旋转手势，但它不起作用。可能是什么问题？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T16:41:57.840

您实际上并不需要使用 SPUserResizableView 来处理角落的捏合手势。您可能会摆脱以编程方式创建的透明子视图，并添加捏合手势识别器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T11:40:28.493

可能这个链接可以帮助你。 [Iphone SDK 中的同步手势识别器](https://stackoverflow.com/questions/2627934/simultaneous-gesture-recognizers-in-iphone-sdk)

```
https://stackoverflow.com/questions/3160489/handle-tap-gesture-with-an-argument-iphone-ipad 
```

看看它都是关于手势的，你不需要使用 KTOneFingerRotationGestureRecognizer 和 SPUserResizableView。

# mysql - 优化sql请求统计

> ID：13136278
> 
> 赞同：0
> 
> 时间：2012-10-30T09:44:17.470
> 
> 标签：mysql, sql, performance, database-performance

我想在mysql中执行一些我知道会很慢的请求：

我有 3 张桌子：

用户：

```
id, username, email 
```

问题：

```
id, date, question 
```

回答

```
id_question, id_user, response, score 
```

我想做一些统计数据，比如在所有时间或给定时间（例如上个月）内得分最高（所有分数总和）的前 X 个用户。或者它可能是第 100 和第 110 范围之间的用户

我将有成千上万的用户和数百个问题，因此请求可能很长，因为我需要按分数总和排序，限制在给定范围内，有时只根据日期选择一些问题，...

我想知道是否有一些方法可以优化请求！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:00:02.847

对于存档的统计数据，您可以创建存储不会移动的排名（去年、上个月、最后一天）的表格。尝试在此类表中计算尽可能多的统计信息，将索引放在 id_user、date、type_of_ranking...

尽量限制子查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T11:17:34.530

如果您有很多数据没有其他选择，只有您可以通过创建新表来优化它，该表将以某种方式汇总每天/每周或每月的数据。可能会按每周或按月汇总用户和邮票的分数。随着求和范围越长，您的查询运行速度越快。

# postgresql - 无法将 PostgreSQL 与 Yii 连接起来

> ID：13136285
> 
> 赞同：1
> 
> 时间：2012-10-30T09:44:40.320
> 
> 标签：postgresql, yii

我曾尝试将 PostgreSQL 与 Yii 连接，但正在显示

CDbConnection 未能打开数据库连接。

在日志中显示

```
error   exception.CDbException 
```

找不到驱动程序

我的代码

```
'db'=>array(
    'tablePrefix'=>'',
    'connectionString' => 'pgsql:host=localhost;port=5432;dbname=postgres',
    'username'=>'postgres',
    'password'=>'postgres',
    'charset'=>'UTF8',
), 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T11:10:47.913

Yii 数据库组件构建在 PHP PDO 之上。所以这是要检查的可能性列表

检查 PostgreSQL 和 PostgreSQL 的 PDO 扩展是否已安装并正常工作。那个端口也是正确的。你可以测试简单的[PHP Script 来测试](http://www.php.net/manual/en/ref.pdo-pgsql.connection.php#97699)。

下面是一些可能相似的链接

[带有消息“找不到驱动程序”的 PostgreSql 'PDOException'](https://stackoverflow.com/questions/10085039/postgresql-pdoexception-with-message-could-not-find-driver)

[PDOException“找不到驱动程序”</a>](https://stackoverflow.com/questions/2852748/pdoexception-could-not-find-driver)

 [**在 Linux (Ubuntu/Debian) 上安装 PDO**](https://stackoverflow.com/questions/2852748/pdoexception-could-not-find-driver) 

[为 postgres Ubuntu 安装 pdo](https://stackoverflow.com/questions/7180869/install-pdo-for-postgres-ubuntu)

[https://serverfault.com/questions/89970/how-to-install-postgresql-extension-for-pdo-in-linux](https://serverfault.com/questions/89970/how-to-install-postgresql-extension-for-pdo-in-linux)

**视窗**

[http://blog.lysender.com/2010/08/php-and-postgresql-on-windows/](http://blog.lysender.com/2010/08/php-and-postgresql-on-windows/)

[无法加载 Apache php 5.3 postgreSQL 驱动程序](https://stackoverflow.com/questions/11083377/apache-php-5-3-postgresql-driver-could-not-be-loaded)

**有关问题的官方 PHP 信息**

[http://php.net/manual/en/pdo.installation.php](http://php.net/manual/en/pdo.installation.php)

[http://www.php.net/manual/en/ref.pdo-pgsql.php](http://www.php.net/manual/en/ref.pdo-pgsql.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T14:45:43.340

已解决的问题...通过添加

```
LoadFile "C:/wamp/bin/php/php5.3.5/libpq.dll" 
```

到 httpd.conf 文件。现在 phpinfo() 正在显示 pgsql PDO。

谢谢...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-11-22T08:07:38.663

如果您在 ubuntu 中工作，请确保您已安装 pgsql 库

```
sudo apt-get install php-pgsql
sudo service apache2 restart 
```

确保在控制台和主本地有这个数组之后

```
'components' => [
    'log' => [
        'targets' => [
            [
                'class' => 'yii\log\FileTarget',
                'levels' => ['error', 'warning'],
            ],
        ],
    ],
    'db' => [
        'class' => 'yii\db\Connection',
        'dsn' => 'pgsql:host=localhost;port=5432;dbname=yourdb',
        'username' => 'user',
        'password' => 'pw',
        'charset' => 'utf8',
    ],], 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-11T15:56:05.037

`php_pdo_pgsql`就我而言，这是在 WAMP中启用扩展的情况

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-08-22T08:01:12.740

对于那些在同样问题上苦苦挣扎的人，我做了解决。环境 Yii2 服务器：LAMP 堆栈 7.1 问题 找不到驱动程序，即“requirements.php”显示警告“PDO PostgreSQL 扩展警告所有与 DB 相关的类都需要 PostgreSQL 数据库。” 我注意到 pdo_pgsql.so 没有与 bitnami 打包在一起，所以我在网上搜索它或尝试定位是否安装在 /usr/lib/php 中的任何 php 版本上

1.  将该文件复制到lampstack-7.1.10-1/php/lib/php/extensions。
2.  现在转到lampstack php.ini "lampstack-7.1.10-1/php/etc/php.ini" 现在放置这一行 "extension=pdo_pgsql.so" remove ; 如果注释掉NB，你可以指向绝对路径“/usr/lib/php/pdo_pgsql.so”，如果它存在的话
3.  重启 Lamp apache 服务器
4.  访问requirement.php，如果您看到““PDO PostgreSQL 扩展 **通过** 了所有与数据库相关的类，对于 PostgreSQL 数据库是必需的。””

# java - 如何在Android中构建层次结构？

> ID：13136286
> 
> 赞同：1
> 
> 时间：2012-10-30T09:44:42.413
> 
> 标签：java, android, hierarchical

我正在开发一个 Android 应用程序，其功能之一是您可以浏览文件服务器系统。我必须从 XML 文件构建它，并且可以从中获取：

每个项目都有自己的 ID 及其父 ID。注意：我也可以单独查询每个项目的 ID 并获取它的 XML。

我的想法是构建一个地图，其中项目具有：id、parent_id 和标题。插入每个项目都有自己的数据。每次我的应用程序必须咨询当前文件夹时，请让服务器咨询以查看其子项并显示它，但我认为每次刷新当前文件夹或从它返回时它都非常多余。也许我应该使用不同的结构数据来保存它（树或其他东西），我可以在其中获取子项和父项并从头开始保存所有内容，然后只需咨询父项和子项以显示当前文件夹并从中返回。

我要求任何想法或一些代码源示例。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:08:24.147

它应该是 2 级树。第二级应该是当前查看文件夹中的子文件夹/文件。分解文件夹时，您永远不需要等待读取。当你分解一个文件夹时，你应该阅读当前查看文件夹中子文件夹的所有子文件夹。

当有人真正快速打开文件夹时，线程同步只会是一个极端情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:03:32.957

听起来你应该使用一棵树，是的。

每次获取此 XML 数据时，将其合并到当前树中。

这样，您可以轻松地维护过去的信息，并且以与您显示和使用它的方式一致的方式。

# javascript - 为什么 jquery 说缺少：在属性 id 之后？

> ID：13136293
> 
> 赞同：1
> 
> 时间：2012-10-30T09:45:03.523
> 
> 标签：javascript, jquery, ajax

我为滑块切换框编写了以下 jquery 代码。当我执行它时，jquery 说缺少：在属性 id 之后。

```
function toggleBox(){
     $(".toggleLink").toggle(                                         
           function() {
                $(this).parent('.toggleBoxContainer').find('.toggleBox').slideUp('slow');
                var SlideStatus = $(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text(); 
                $.get(window.location ,{ $(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text() : SlideStatus} );
                console.log($(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text()); 
                }, function() {
                $(this).parent('.toggleBoxContainer').find('.toggleBox').slideDown('slow');
                $.get(window.location ,{ SlideStatus : null } );
             });  
} 
```

我在哪里做错了。帮助将不胜感激

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:04:49.740

如果需要动态键名，请对对象使用关联数组表示法

```
var myobject = {};
myobject[SlideStatus] = SlideStatus;
$.get(window.location, myobject); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:55:15.303

你的第`$.get`一句话没有意义。您将 的值分配给`$(this).parent('.toggleBoxContainer').find('.hiddenFilterID').text()`变量`SlideStatus`，然后将相同的变量名称传递给`$.get`语句。

要么在调用之外使用不同的变量名`$.get`，要么更改您传递给`$.get`调用的参数的名称。目前，他们是错误的方式（应该是`propertyName : propertyValue`）。

# tsql - 在 TSQL 中计算 TimeRange 之间的会话

> ID：13136296
> 
> 赞同：0
> 
> 时间：2012-10-30T09:45:08.170
> 
> 标签：tsql, date-range

这是数据库的一部分：

```
SessionID    SessionStartTime              SessionCloseTime
24       2012-10-16 01:00:06.000           2012-10-16 01:01:22.000
24       2012-10-16 01:00:08.000           2012-10-16 01:01:10.000
24       2012-10-16 01:00:16.000           2012-10-16 01:01:12.000
24       2012-10-16 01:00:30.000           2012-10-16 01:01:48.000
24       2012-10-16 01:00:41.000           2012-10-16 01:02:08.000
24       2012-10-16 01:00:48.000           2012-10-16 01:01:34.000
24       2012-10-16 01:00:56.000           2012-10-16 01:03:09.000
24       2012-10-16 01:01:02.000           2012-10-16 01:02:13.000
24       2012-10-16 01:01:05.000           2012-10-16 01:03:16.000
24       2012-10-16 01:01:09.000           2012-10-16 01:02:42.000
24       2012-10-16 01:01:15.000           2012-10-16 01:02:48.000
24       2012-10-16 01:01:18.000           2012-10-16 01:02:14.000
24       2012-10-16 01:01:18.000           2012-10-16 01:02:06.000
24       2012-10-16 01:01:42.000           2012-10-16 01:03:16.000
24       2012-10-16 01:01:45.000           2012-10-16 01:03:04.000 
```

我想在此表中添加一个名为 SessionCount 的新列，然后我将能够看到呼叫峰值，我的意思是同时发生的最大会话数。

这个表应该是这样的：

```
SessionID    SessionStartTime              SessionCloseTime            SessionCount
24       2012-10-16 01:00:06.000           2012-10-16 01:01:22.000     1
24       2012-10-16 01:00:08.000           2012-10-16 01:01:10.000     2
24       2012-10-16 01:00:16.000           2012-10-16 01:01:12.000     3
24       2012-10-16 01:00:30.000           2012-10-16 01:01:48.000     4
24       2012-10-16 01:00:41.000           2012-10-16 01:02:08.000     5
24       2012-10-16 01:00:48.000           2012-10-16 01:01:34.000     6
24       2012-10-16 01:00:56.000           2012-10-16 01:03:09.000     7
24       2012-10-16 01:01:02.000           2012-10-16 01:02:13.000     8
24       2012-10-16 01:01:05.000           2012-10-16 01:03:16.000     9
24       2012-10-16 01:01:09.000           2012-10-16 01:02:42.000     10
24       2012-10-16 01:01:15.000           2012-10-16 01:02:48.000     10
24       2012-10-16 01:01:18.000           2012-10-16 01:02:14.000     11
24       2012-10-16 01:01:18.000           2012-10-16 01:02:06.000     11
24       2012-10-16 01:01:42.000           2012-10-16 01:03:16.000     7
24       2012-10-16 01:01:45.000           2012-10-16 01:03:04.000     7 
```

所以在这个表中，在 01:01:18 同时发生了最多 11 个呼叫峰值。01:01:18 有 11 个活动呼叫。如何在会话处于活动状态时计算会话，然后在会话完成时 +1，然后 -1？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:10:07.407

扩展上一个答案...

```
;with ids as 
(
    select *, ROW_NUMBER() over (order by sessionstarttime, sessionclosetime) rid from @t
),
cte as
(
    select SessionStartTime as ChangeTime, 1 as CC, rid from ids    
    union all
    select SessionCloseTime as ChangeTime, -1 as CC, rid from ids    

)
    select ids.id, ids.SessionStartTime,ids.SessionCloseTime, rt
    from
        ids
        inner join
    (
    select cc,rid, changetime,rt from cte
        cross apply 
        (select SUM(cc) as rt from cte c where c.changetime<=cte.changetime) rt             
    ) res
        on ids.rid=res.rid
    where CC=1
    order by SessionStartTime 
```

# mysql - 用于分析的 MySQL 查询优化

> ID：13136297
> 
> 赞同：0
> 
> 时间：2012-10-30T09:45:09.657
> 
> 标签：mysql

我在 MySQL 数据仓库数据库中有大约 30 个表用于分析数据。目前它大约有 200 万条数据行，但我相信未来它很快就会变成数十亿。挑战是，查询应该以快速的方式返回数据。我遵循简单的查询，处理这 200 万行需要 60 多秒：

```
 SELECT count(distinct fact.dim_pageview_id) 
    FROM `datawarehouse_schema_alpha`.`fact_master` fact
    left join dim_visit visit on visit.dim_visit_id = fact.dim_visit_id
    left join dim_datetime datetim on datetim.dim_datetime_id = fact.dim_datetime_id
    where fact.dim_site_id = 552 
```

解释查询结果：

```
 1   SIMPLE  fact    ref fk_fact_bb_pageview_dim_bb_site,fk_fact_master_dim_site fk_fact_bb_pageview_dim_bb_site 5   const   17490   Using where
    1   SIMPLE  visit   eq_ref  PRIMARY PRIMARY 4   datawarehouse_schema_alpha.fact.dim_visit_id    1   Using index
    1   SIMPLE  datetim eq_ref  PRIMARY PRIMARY 4   datawarehouse_schema_alpha.fact.dim_datetime_id 1   Using index 
```

我遵循示例数据库结构：

```
 --
    -- Table structure for table `dim_datetime`
    --

    CREATE TABLE IF NOT EXISTS `dim_datetime` (
      `dim_datetime_id` int(11) NOT NULL AUTO_INCREMENT,
      `datetime_date` varchar(45) CHARACTER SET latin1 DEFAULT NULL,
      `datetime_year` varchar(45) CHARACTER SET latin1 DEFAULT NULL,
      `datetime_full` varchar(45) CHARACTER SET latin1 DEFAULT NULL,
      PRIMARY KEY (`dim_datetime_id`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=big5 AUTO_INCREMENT=4568326 ;

    -- --------------------------------------------------------

    --
    -- Table structure for table `dim_visit`
    --

    CREATE TABLE IF NOT EXISTS `dim_visit` (
      `dim_visit_id` int(11) NOT NULL AUTO_INCREMENT,
      `visit_start_time` datetime DEFAULT NULL,
      `visit_end_time` datetime DEFAULT NULL,
      `visit_duration` varchar(45) DEFAULT NULL,
      PRIMARY KEY (`dim_visit_id`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=big5 AUTO_INCREMENT=1295102 ;

    -- --------------------------------------------------------

    --
    -- Table structure for table `dim_site`
    --

    CREATE TABLE IF NOT EXISTS `dim_site` (
      `dim_site_id` int(11) NOT NULL AUTO_INCREMENT,
      `site_name` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
      `site_url` text CHARACTER SET latin1,
      `site_key` text CHARACTER SET latin1,
      PRIMARY KEY (`dim_site_id`)
    ) ENGINE=InnoDB  DEFAULT CHARSET=big5 AUTO_INCREMENT=870 ;

    --
    -- Table structure for table `fact_master`
    --

    CREATE TABLE IF NOT EXISTS `fact_master` (
      `fact_master_id` int(11) NOT NULL AUTO_INCREMENT,
      `dim_pageview_id` int(11) DEFAULT NULL,
      `dim_visit_id` int(11) DEFAULT NULL,
      `dim_site_id` int(11) DEFAULT NULL,
      `dim_datetime_id` int(11) DEFAULT NULL,
      `master_ip` varchar(255) DEFAULT NULL,
      `master_spent_time` varchar(255) DEFAULT NULL,
      `master_datetime` datetime DEFAULT NULL,
      PRIMARY KEY (`fact_master_id`),
      KEY `fk_fact_bb_pageview_dim_bb_visit` (`dim_visit_id`),
      KEY `fk_fact_bb_pageview_dim_bb_datetime` (`dim_datetime_id`),
      KEY `fk_fact_bb_pageview_dim_bb_pageview` (`dim_pageview_id`),
      KEY `fk_fact_master_dim_pageview` (`dim_pageview_id`),
      KEY `fk_fact_master_dim_visit` (`dim_visit_id`),
      KEY `fk_fact_master_dim_datetime` (`dim_datetime_id`),
      KEY `fk_fact_master_dim_site` (`dim_site_id`),
    ) ENGINE=InnoDB DEFAULT CHARSET=big5 AUTO_INCREMENT=1 ;

    --
    -- Constraints for dumped tables
    --

    --
    -- Constraints for table `fact_master`
    --
    ALTER TABLE `fact_master`
      ADD CONSTRAINT `fk_fact_master_dim_datetime` FOREIGN KEY (`dim_datetime_id`) REFERENCES `dim_datetime` (`dim_datetime_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
      ADD CONSTRAINT `fk_fact_master_dim_pageview` FOREIGN KEY (`dim_pageview_id`) REFERENCES `dim_pageview` (`dim_pageview_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
      ADD CONSTRAINT `fk_fact_master_dim_site` FOREIGN KEY (`dim_site_id`) REFERENCES `dim_site` (`dim_site_id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
      ADD CONSTRAINT `fk_fact_master_dim_visit` FOREIGN KEY (`dim_visit_id`) REFERENCES `dim_visit` (`dim_visit_id`) ON DELETE NO ACTION ON UPDATE NO ACTION; 
```

请让我知道可能有什么问题？如何使用索引和视图以非常快速的方式获取数据？除了使用索引或视图来优化速度之外的任何其他建议也是受欢迎的。谢谢！

# jquery - jquery在代码中调用不起作用

> ID：13136302
> 
> 赞同：0
> 
> 时间：2012-10-30T09:45:21.710
> 
> 标签：jquery, .net

我试图调用将切换 iframe-div 可见性的自定义 jquery。它在直接从按钮 onclick 调用而不是在后面的代码中调用时起作用。

```
$(document).ready(function () { 
    myfuncion01=function(){ 
        var myframe = window.parent.document.getElementById('myframe01');
        var vr_mydiv01 =$(myframe).contents().find('#div01');

        $(vr_mydiv01).hide();
    }

}); 
```

HTML 标记

```
<input id="Button1" type="button" value="button" onclick="myfuncion01();" /> 
```

代码背后

```
 ClientScript.RegisterStartupScript(this.Page.GetType(), "hwnd_appData01", "<script type='text/javascript'>myfuncion01(); </script> ", false); 
```

我错过了什么？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:55:19.297

从[文档中](http://msdn.microsoft.com/en-us/library/z9h4dk8y.aspx)：

> RegisterStartupScript 方法添加的脚本块在页面完成加载但在页面的 OnLoad 事件引发之前执行。不保证脚本块按照注册的顺序输出。

执行使用 RegisterStartupScript 注册的脚本时，该函数还不存在。

从准备好的回调中取出函数定义并将其放入您的标题中：

```
<head>
...
<script>
function myfuncion01(){ 
    var myframe = window.parent.document.getElementById('myframe01');
    $(myframe).contents().find('#div01').hide();
}
</script>
</head> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:51:55.317

[http://www.aptana.com/](http://www.aptana.com/)（或任何 js IDE）...人类对“缺失字符”的感知很容易被欺骗。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:46:32.973

你错过了一个报价。

```
var myframe = window.parent.document.getElementById(myframe01'); 
```

应该

```
var myframe = window.parent.document.getElementById('myframe01'); 
```

还要在 document.ready 之外编写函数或将其删除。它不是功能所必需的。

```
 myfuncion01=function(){ 
    var myframe = window.parent.document.getElementById('myframe01');
    var vr_mydiv01 =$(myframe).contents().find('#div01');

    $(vr_mydiv01).hide();
} 
```

# sql - 如何通过xQuery从XML中的多个同名元素中检索元素的值？

> ID：13136311
> 
> 赞同：0
> 
> 时间：2012-10-30T09:46:07.773
> 
> 标签：sql, sql-server, xml, xquery

我在sql server中有这样的xml字段

```
<propertyDetail>
  <importID>1735532</importID>
  <pincode />
  <landmarks />
  <features>
    <feature>Society  Name: sec-87 srs peral  floor faridabad</feature>
    <feature>Transaction: Resale Property</feature>
    <feature>Possession: Dec,2011</feature>
    <feature>*Ownership: Freehold*</feature>
    <feature>Age of Property: Under Construction</feature>
  </features>
</propertyDetail> 
```

我想通过 xQuery检索具有“**所有权：永久业权”价值的特征，并且特征序列可能会有所不同。**

欢迎任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:08:49.433

您可以在过滤器表达式中检查该功能是否存在，即：

```
//propertyDetail[features/feature[. eq "*Ownership: Freehold*"]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:26:15.173

`@x`你的xml在哪里

```
select @x.query('//feature[. = "*Ownership: Freehold*"]') 
```

如果你想找到任何以所有权开头的东西，那么

```
select @x.query('//feature[substring(.,1,9)="Ownership"]') 
```

（但理想情况下，如果可以的话，您应该改进您的 XML 结构）

# objective-c - 如何为 UITableViewCell 创建 bacgroundColor 动画？

> ID：13136313
> 
> 赞同：0
> 
> 时间：2012-10-30T09:46:17.187
> 
> 标签：objective-c

我为 Section 创建 UIView，为 Row 创建一次。然后我创建方法：

```
-(void)startBlinking {
   [UIView setAnimationsEnabled:YES];
   [UIView animateWithDuration:5 delay:0.0 options:UIViewAnimationOptionAllowUserInteraction|UIViewAnimationOptionCurveEaseInOut animations:^
   {
        [self setBackgroundColor:[UIColor yellowColor]];
    } completion:^(BOOL finished)
    {
        [UIView animateWithDuration:5 delay:0.0 options:UIViewAnimationOptionAllowUserInteraction|UIViewAnimationOptionCurveEaseInOut animations:^
       {
           [self setBackgroundColor:[UIColor whiteColor]];
       } completion: NULL];
   }];
} 
```

但是，如果我调用此方法，我将看不到任何动画。没有动画的背景颜色变化非常快...... :(( WTF ??

如果捕获事件，我需要为部分和行创建闪烁背景颜色效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T15:09:27.357

`backgroundColor`过渡是不可动画的。我建议您使用 an 向您的单元格添加一个子视图`subview.alpha = 0.0f`，然后在动画块中您可以将 alpha 转换为`1.0`. 这将为您带来想要的效果。

# time - windows server 上的 PTP 同步（与 ie Linux 相比）——可以保证什么精度

> ID：13136320
> 
> 赞同：3
> 
> 时间：2012-10-30T09:46:44.713
> 
> 标签：time, synchronization, windows-server-2008, precision

我想知道是否每个人都知道在 Windows Server 2008 上如何保证精确的[PTP同步。](http://en.wikipedia.org/wiki/Precision_Time_Protocol)

我知道这个线程：[Windows 中进程的最短保证时间是多少？](https://stackoverflow.com/questions/3558418/what-is-the-minimum-guaranteed-time-for-a-process-in-windows) 其中讨论了 Windows 的本地时间，是的，这根本不提供任何保证。

但是在硬件解决方案 (PTP) 方面呢？是否有任何限制阻止保证 < 1 毫秒？我知道取决于时间的进程会争夺 CPU 时间，但是如果进程在需要时确实有 CPU 时间，那么还有其他可能会阻碍的吗？

**编辑 1：我在标题中添加了“（与 Linux 相比）”，因为这原本是我关心的问题之一。**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T11:30:46.153

可以安排一些事情来获得 Windows Server 2008 上的可靠处理时间。其中一些是：

1.  避免CPU负载过重。

2.  安排代码的小内存占用。

3.  设置[进程优先级](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686219%28v=vs.85%29.aspx)和[线程优先级](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686277%28v=vs.85%29.aspx)高。`REALTIME_PRIORITY_CLASS`甚至可能分别与和一样高`THREAD_PRIORITY_TIME_CRITICAL`。

4.  设置[线程关联掩码](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686247%28v=vs.85%29.aspx)以避免时间关键部分在`Core 0`. Core 0 专用于一些系统服务。使用不同的代码可以避免依赖。

5.  `Sleep(0)`适时使用。Sleep(0) 是一个异步服务，它强制调度程序做出反应。通过这种方式，您可以触发调度程序，该调度程序将选择您的进程/线程以立即获取 CPU，因为它具有最高优先级。

6.  确保代码也确实为其他服务留出了时间。最高优先级将导致所有其他线程基本停止。（没有鼠标事件或任何将被处理）

7.  可能通过多媒体定时器 API 增加系统中断频率。使用[timeGetDevCaps](http://msdn.microsoft.com/en-us/library/windows/desktop/dd757627%28v=vs.85%29.aspx)函数查询系统允许的最大中断频率，并在结构体中使用[timeBeginPeriod](http://msdn.microsoft.com/en-us/library/windows/desktop/dd757624%28v=vs.85%29.aspx)和`wPeriodMin`返回的 by 。这将强制您的系统以最大中断频率运行。完成后不要忘记通过调用[timeEndPeriod](http://msdn.microsoft.com/en-us/library/windows/desktop/dd757626%28v=vs.85%29.aspx)来释放多媒体计时器资源。`timeBeginPeriod``TIMECAPS`

当认真遵循这些规则时，可以获得非常高可靠性的 10 微秒范围内的准确计时。然而，上述所有因素的总和导致了一些复杂性。因此，永远无法提供保证。但即使在 RTOS 系统上也没有这样的保证。当编码没有正确完成时，无论调用什么/如何调用操作系统，事情都不会按照他们应该做的方式工作。可以在[此处](https://stackoverflow.com/a/11537483/1504523)找到更多注释和等效 .Net 服务的链接。

**考虑到所有这些，可以将时间同步（[精确时间协议](http://en.wikipedia.org/wiki/Precision_Time_Protocol)）的实现时间缩短到 10 微秒。**

*精确时间协议开发人员常见问题解答可在[此处](http://wiki.eclipse.org/PTP/sync-projects)找到。*

**在要求 Linux 后进行编辑：**有一些可用的软件包，例如[这个](http://www.symmetricom.com/products/ntp-servers/ntp-network-appliances/PTP-Software-for-Linux/)。这里报告的典型精度也在 10 到 100 微秒范围内。

毫不奇怪，在可比较的标准硬件上运行时，Windows 和 Linux 的结果非常相似。两者都不能做任何魔术。

# ruby-on-rails - 过滤具有范围的整数字段

> ID：13136321
> 
> 赞同：3
> 
> 时间：2012-10-30T09:46:49.230
> 
> 标签：ruby-on-rails, activeadmin

默认情况下`filter :foo`，`foo`整数字段将生成相等过滤器。是否有任何内置方法可以使它像日期过滤器一样工作：绘制两个像范围一样工作的输入？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T18:46:37.587

不，没有这样的默认值，但是您自己创建它非常容易。

请以示例 [https://gist.github.com/3995659查看我的要点](https://gist.github.com/3995659)

把它放在初始化程序目录中

像使用它一样

```
 filter :id , :as => :numeric_range 
```

# c# - Windows 应用商店应用程序 C# 和 XAML - 如何动画堆栈面板从右到左淡入

> ID：13136324
> 
> 赞同：1
> 
> 时间：2012-10-30T09:47:01.350
> 
> 标签：c#, animation, windows-8, fadein

你知道，当我们在 Windows 8 中打开“人物”、“日历”、“邮件”和任何其他预装的应用程序时，所有内容都会从右到左填充到原来的位置。我们如何做到这一点？

我从这里尝试了 FadeIn 代码：http: [//msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.media.animation.fadeoutthemeanimation.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.media.animation.fadeoutthemeanimation.aspx)

就像它的名字一样，它使我的堆栈面板淡入，但不像我预期的那样它会从右到左出现。

我还尝试过来自以下网址的 DoublaAnimation 代码：http: [//msdn.microsoft.com/en-us/library/system.windows.media.animation.doubleanimation (v=vs.95).aspx](http://msdn.microsoft.com/en-us/library/system.windows.media.animation.doubleanimation(v=vs.95).aspx)

与 FadeIn 和 FadeOut 没有太大区别。

那么我们如何简单地从右到左淡入呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:52:14.920

您正在谈论`Page`动画，您有效地将它们添加到您的元素中，而操作系统将处理其余部分。

您在 FadeIn 动画的正确轨道上，但您需要一个`Page`过渡。

看看这个：http: [//msdn.microsoft.com/en-us/library/windows/apps/xaml/hh452701.aspx#page_transition](http://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh452701.aspx#page_transition)并试一试

# jquery - 使用 ajax 和 .htaccess 限制访问

> ID：13136331
> 
> 赞同：1
> 
> 时间：2012-10-30T09:47:12.957
> 
> 标签：jquery, ajax, .htaccess, request

我有一个 jquery 文件，在 php 处理程序文件中使用 ajax-calls (jQuery api) 处理一些 mysql-data 更改。

这是我的 JavaScript：

```
$('#control1').click(function() {
    $('#control2').dialog({
        show: "blind",
        hide: "explode",
        width: "auto",
        draggable: false,
        modal: true,
        resizable: false,
        buttons: [
                  {
                      text: "Save",
                      click: function() {
                          $.ajax({
                             cache: false,
                             type: 'POST',
                             url: 'handler/some.handler.php',
                             data: $('#Form1').serialize(),
                             dataType: 'json',
                             beforeSend: function() {
                                 $('#Control3').fadeIn('fast');
                             },
                             success: function (data) {
                                 if (data.success) {
                                     alert(data.message);
                                     $(this).dialog("close");
                                     location.reload();
                                 } else {
                                     alert("Error occurred: " + data.message);
                                 }
                             },
                             error: function(xhr, ajaxOptions, thrownError) {
                                 alert("Error during process: " + thrownError);
                             },
                             complete: function () {
                                 $('#Control3').fadeOut('fast');
                             }
                          });
                      }
                  },
                  {
                      text: "Cancel",
                      click: function() { $(this).dialog("close"); }
                  }
                  ]
    });
}); 
```

在处理程序目录中，我放置了一个 .htaccess 文件，用于管理文件访问和限制异常：

```
<LimitExcept GET POST HEAD>
    Order deny, allow
    Deny from all
</LimitExcept> 
```

但是 Apache 总是返回**500: Internal server error**。如果我删除 .htaccess 文件一切正常...如何正确配置 .htaccess 文件？

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:20:23.813

`Order`有点愚蠢，但如果给定多个参数，apache 就会出错。你有一个空间：

```
# here ----v
Order deny, allow 
```

你只需要删除它：

```
Order deny,allow 
```

# c# - 如何进行定时 SQL 服务器登录？

> ID：13136332
> 
> 赞同：0
> 
> 时间：2012-10-30T09:47:15.150
> 
> 标签：c#, .net, sql-server-2008

这是我的问题，我正在编写一个 C# 应用程序，该应用程序将登录到远程**SQL Server 2008 [准确地说是 Express 版]**并定期从数据库表（比如 foo）中获取数据[每次获取 SQL 客户端连接后关闭] .

如何以 60 秒左右的时间间隔定期执行此过程（用户可定义）。??

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T15:47:33.150

> 时间间隔为 60 秒左右

60s 比 Windows 任务计划程序的设置要少得多——它可以通过高级设置来完成（每天一次，每分钟重复一次。

一个悬而未决的问题是，如果任务的运行时间超过调度程序间隔，该怎么办？两次运行是否可以重叠？假设它们可以重叠一些简单的东西：

```
var timer = new System.Threading.Timer(method, null, 
                                       TimeSpan.Zero, // Start now.
                                       TimeSpan.FromSeconds(60)); 
```

`method`类型的委托在哪里[`TimerCallback`](http://msdn.microsoft.com/en-us/library/system.threading.timercallback.aspx)：接受一个`object` *状态*（`null`上面传递）并且什么都不返回。

如果您不想在下一个任务被跳过或延迟时允许调用重叠，假设跳过：

```
var object locker = new object();
var timer = new System.Threading.Timer(_ => {
  bool entered = Monitor.TryEnter(locker);
  try {
    if (entered) {
      method(null);
    }
  } finally {
     if (entered) {
       Monitor.Exit(locker);
     }
  }
},  null, TimeSpan.Zero, TimeSpan.FromSeconds(60)); 
```

（再次，`method`这里是工人代码）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T16:04:30.250

而不是`System.Threading.Timer`我会使用`System.Timers.Timer`which 可以配置为使用`AutoReset`属性的“一次性”计时器：

```
System.Timers.Timer sqlTimer = new System.Timers.Timer();
sqlTimer.Interval = 60000; // One minute
sqlTimer.AutoReset = false; // Fire only once
sqlTimer.Elapsed = TimerEvent; // Assign event for timer
sqlTimer.Start(); // Start the timer 
```

在这种情况下，由于计时器只触发一次，您无需担心锁定或同步：

```
private void TimerEvent(object source, ElapsedEventArgs e)
{
    // Do your SQL-stuff

    // Restart the timer if you want
    sqlTimer.Start();
} 
```

必须注意的是，这个计时器也运行在一个单独的线程中，因此`TimerEvent`不会在创建计时器的线程的上下文中调用该事件。如果您需要更新任何 UI 元素，了解这一点很重要。

请注意，这不适用于 .NET Compact Framework，因为它不知道`System.Timers`命名空间 - 在这种情况下，您必须使用 Richard 的解决方案。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-30T09:50:15.890

为什么不使用 SQL Server 代理中的内置调度程序，或者 Windows 中内置的调度程序？为什么要重新发明轮子？

来自[MSDN](http://msdn.microsoft.com/en-us/library/ms189237.aspx)

> **SQL Server 代理的好处**SQL Server 代理使用 SQL Server 来存储作业信息。作业包含一个或多个作业步骤。每个步骤都包含自己的任务，例如备份数据库。
> 
> SQL Server 代理可以按计划、响应特定事件或按需运行作业。例如，如果您想在每个工作日下班后备份所有公司服务器，您可以自动执行此任务。将备份安排在周一至周五的 22:00 之后运行；如果备份遇到问题，SQL Server 代理可以记录事件并通知您。

或者看到这个：

[是否可以在自己的应用程序中使用 Windows 7 任务调度程序](https://stackoverflow.com/questions/3359406/is-it-possible-to-use-windows-7-task-scheduler-in-own-application)

或者

[如何安排 C# Windows 服务每天执行任务？](https://stackoverflow.com/questions/503564/how-might-i-schedule-a-c-sharp-windows-service-to-perform-a-task-daily)

# python - Pyparsing 生成带有组的二叉 AST 树

> ID：13136333
> 
> 赞同：1
> 
> 时间：2012-10-30T09:47:15.780
> 
> 标签：python, parsing, pyparsing

嗨，我正在开发一个用于过程演算的解析器。我已经开发了一个使用`setParseAction`和自定义 AST 类，但现在我想重写它以使用 dicts 和 list。

```
from pyparsing import *                                                                                                                                                               

integer = Word(nums).setParseAction(lambda t:int(t[0]))                                                                                                                               
variable = Word(alphas,exact=1)                                                                                                                                                       
operand = Word(alphas.upper(), alphanums+"_")                                                                                                                                         
semicol = Literal(";").suppress()                                                                                                                                                     
equals = Literal("=")  

expr = operatorPrecedence( operand,                                                                                                                                                   
[(".", 2, opAssoc.LEFT),                                                                                                                                                          
 ("+", 2, opAssoc.LEFT),]                                                                                                                                                         
)

rmdef = operand + equals + expr                                                                                                                                                       
expr_def = rmdef + semicol                                                                                                                                                                          

test = ["P = A.(B.C + E.D);",                                                                                                                                                         
"P = A.B.C;"                                                                                                                                                                  
] 
```

这将返回：

```
['P', '=', ['A', '.', [['B', '.', 'C'], '+', ['E', '.', 'D']]]]
['P', '=', ['A', '.', 'B', '.', 'C']] 
```

我的问题是关于第二个例子。我希望它是，我该怎么做

```
['P', '=', ['A', '.' [ 'B', '.', 'C' ]]] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T13:20:42.650

在`expr`您定义了“。” 运算符是左关联的，但在您想要的输出中，它是右关联的。改变：

```
expr = operatorPrecedence(operand,
    [(".", 2, opAssoc.LEFT),
     ("+", 2, opAssoc.LEFT),]
    ) 
```

至

```
expr = operatorPrecedence(operand,
    [(".", 2, opAssoc.RIGHT),
     ("+", 2, opAssoc.LEFT),]
    ) 
```

现在这段代码：

```
for t in test:
    print expr_def.parseString(t).asList() 
```

印刷

```
['P', '=', ['A', '.', [['B', '.', 'C'], '+', ['E', '.', 'D']]]]
['P', '=', ['A', '.', ['B', '.', 'C']]] 
```

# python - 使用 ElementTree getpath() 动态获取 Xpath

> ID：13136334
> 
> 赞同：5
> 
> 时间：2012-10-30T09:47:15.750
> 
> 标签：python, xpath, lxml, elementtree

我需要编写一个动态函数，通过动态构建元素的 XPath，在 ATOM xml 的子树上查找元素。

为此，我写了这样的东西：

```
 tree = etree.parse(xmlFileUrl)
    e = etree.XPathEvaluator(tree, namespaces={'def':'http://www.w3.org/2005/Atom'})
    entries = e('//def:entry')
    for entry in entries:
        mypath = tree.getpath(entry) + "/category"
        category = e(mypath) 
```

上面的代码找不到“类别”，因为 getpath() 返回一个没有命名空间的 XPath，而 XPathEvaluator e() 需要命名空间。

虽然我知道我可以使用路径并在对 XPathEvaluator 的调用中提供命名空间，但我想知道是否可以使用所有命名空间使 getpath() 返回“完全限定”路径，因为这在某些情况下很方便案例。

（这是我之前的问题的一个衍生问题：[没有命名空间的 Python XpathEvaluator](https://stackoverflow.com/questions/13091717/python-xpathevaluator-without-namespace)）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2016-05-25T14:51:26.870

基本上，使用标准 Python 的 xml.etree 库，需要一个不同的访问函数。为了达到这个范围，您可以构建一个修改版本的*iter*方法，如下所示：

```
def etree_iter_path(node, tag=None, path='.'):
    if tag == "*":
        tag = None
    if tag is None or node.tag == tag:
        yield node, path
    for child in node:
        _child_path = '%s/%s' % (path, child.tag)
        for child, child_path in etree_iter_path(child, tag, path=_child_path):
            yield child, child_path 
```

然后你可以使用这个函数从根节点迭代树：

```
from xml.etree import ElementTree

xmldoc = ElementTree.parse(*path to xml file*)
for elem, path in etree_iter_path(xmldoc.getroot()):
    print(elem, path) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T12:55:00.750

从文档[http://lxml.de/xpathxslt.html#the-xpath-class](http://lxml.de/xpathxslt.html#the-xpath-class)：

> ElementTree 对象有一个方法`getpath(element)`，它返回一个结构化的、绝对的 XPath 表达式来查找该元素：

所以你的问题的答案是它`getpath()`不会返回一个“完全限定”的路径，因为否则函数会有一个参数，你只能保证返回的 xpath 表达式会找到你那个元素。

您也许可以结合 getpath 和 xpath（和 Xpath 类）来做您想做的事。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-24T15:03:43.737

您可以使用条目作为基节点来评估 XPath 表达式，而不是尝试从根构建完整路径：

```
tree = etree.parse(xmlFileUrl)
nsmap = {'def':'http://www.w3.org/2005/Atom'}
entries_expr = etree.XPath('//def:entry', namespaces=nsmap)
category_expr = etree.XPath('category')
for entry in entries_expr(tree):
    category = category_expr(entry) 
```

如果性能不重要，您可以通过使用`.xpath()`元素上的方法而不是预编译表达式来简化代码：

```
tree = etree.parse(xmlFileUrl)
nsmap = {'def':'http://www.w3.org/2005/Atom'}
for entry in tree.xpath('//def:entry', namespaces=nsmap):
    category = entry.xpath('category') 
```

# iphone - 如何访问在 TabBarViewController 中选择的 ViewController

> ID：13136335
> 
> 赞同：0
> 
> 时间：2012-10-30T09:47:17.560
> 
> 标签：iphone, objective-c, ios, ios5, ios6

```
iOS6
Xcode 4.5.1
Making application for iOS5 or later
using storyboard 
```

我想在单击 tabBarItem 时加载一个 URL。

在 targetViewController.m

```
@interface targetViewController ()
@end

@implementation targetViewController
@synthesize webview;

- (void)viewDidLoad
{
    [self loadingMethod:view.webview];
    [super viewDidLoad];
}
(snip) 
```

并且 target2ViewController.m 与 targetViewController.m 几乎相同

在 customTabBarViewController.m

```
- (void)tabBar:(UITabBar*)tabBar didSelectItem:(UITabBarItem*)item {
  NSString *str;
  if(item.tag == 0) {
    webview = ((targetViewController *)self.selectedViewController).webview;
    [self myLoadingMethod:webview];
  } else if (item.tag == 1){
    webview = ((target2ViewController *)self.selectedViewController).webview;
    [self myLoadingMethod:webview];
  }
} 
```

然而，这并不好。单击 targetViewContoller 的 tarBarItem 时，将加载目标“2”ViewContoller 的 webview。并单击目标“2”ViewCONtroller 的 tabBarItem，将加载 targetViewContoller 的 webview。

那么如何访问包含在 ViewController 中的 cliced tabBarItem 的 webview？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T09:52:32.697

使用`UITabBarController`属性`selectedViewController`，它会给你选择的`ViewController`。在您添加的代码中`[self myLoadingMethod:wwebview]`；哪个错了，应该是 [self myLoadingMethod:webview]。请检查。

# android - Android：我如何注销 Facebook API

> ID：13136336
> 
> 赞同：0
> 
> 时间：2012-10-30T09:47:18.347
> 
> 标签：android, facebook

我正在使用此代码获取用户详细信息并将其用作登录我的服务器的凭据：

```
public class FacebookDialog extends Activity {

    Facebook facebook = new Facebook("211111915613509");
    private SharedPreferences mPrefs;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        if (!(getSharedPreferences(SplashActivity.USER_PREFS, 0).getBoolean(
                "fb", false))) {

            try {
                String s = facebook.logout(this);
                } catch (MalformedURLException e) {
                } catch (IOException e) {
                }
        }
        /*
         * Get existing access_token if any
         */
        mPrefs = getPreferences(MODE_PRIVATE);
        String access_token = mPrefs.getString("access_token", null);
        long expires = mPrefs.getLong("access_expires", 0);
        if (access_token != null) {
            facebook.setAccessToken(access_token);
        }
        if (expires != 0) {
            facebook.setAccessExpires(expires);
        }
        if (!facebook.isSessionValid()) {

            facebook.authorize(this, new String[] {}, new DialogListener() {
                @Override
                public void onComplete(Bundle values) {
                    SharedPreferences.Editor editor = mPrefs.edit();
                    editor.putString("access_token", facebook.getAccessToken());
                    editor.putLong("access_expires",
                            facebook.getAccessExpires());
                    editor.commit();
                    getFbDetails();
                }

                @Override
                public void onFacebookError(FacebookError error) {
                }

                @Override
                public void onError(DialogError e) {
                }

                @Override
                public void onCancel() {
                }
            });
        } else {
            getFbDetails();
        }
    }

    @Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        facebook.authorizeCallback(requestCode, resultCode, data);

    }

    public void onResume() {
        super.onResume();
        facebook.extendAccessTokenIfNeeded(this, null);
    }
} 
```

这工作正常。

当用户使用 Facebook 登录时，我将**fb**设置为**true** ，当用户在我的应用程序中单击注销时，我将其设置为**false 。**

问题是：

当我注销并再次尝试使用 facebook 登录时（我什至在 Facebook 应用程序上注销）。我仍然可以获得用户详细信息。

我在哪里做错了？

我通过检查**fb**是否为假来使用 facebook.logout()。

我相信会话没有被清除，该怎么做？

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:01:15.940

在注销按钮上试试这个： -

```
 mFacebook.authorize(PlayVideo.this, new String[] {}, Facebook.FORCE_DIALOG_AUTH,new LogoutDialogListener());}

 public final class LogoutDialogListener implements DialogListener {
    public void onComplete(Bundle values) {
        try {

            // SessionStore.clear(Login.mFacebook, PlayVideo.this);
            Util.clearCookies(PlayVideo.this);

            Login.mFacebook.setAccessToken(null);
            Login.mFacebook.setAccessExpires(0);
            return;

        } catch (Exception error) {
            Toast.makeText(PlayVideo.this, error.toString(),
                    Toast.LENGTH_SHORT).show();
        }
    }

    public void onFacebookError(FacebookError error) {
        Toast.makeText(PlayVideo.this,
                "Something went wrong. Please try again.",
                Toast.LENGTH_LONG).show();
    }

    public void onError(DialogError error) {
        Toast.makeText(PlayVideo.this,
                "Something went wrong. Please try again.",
                Toast.LENGTH_LONG).show();
    }

    public void onCancel() {
        Toast.makeText(PlayVideo.this,
                "Something went wrong. Please try again.",
                Toast.LENGTH_LONG).show();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:09:58.403

如果我没记错的话，您可以在 Facebook SDK 中编辑 FbDialog.java（这不是几周前刚刚发布的最新版本，而是之前的版本）。

我刚刚从我很久以前更改过的代码中提取了这个。我相信密码行是最有效的方法（从第 109 行开始）......

```
private void setUpWebView() {
        mWebView = new WebView(getContext());
        mWebView.setVerticalScrollBarEnabled(false);
        mWebView.setHorizontalScrollBarEnabled(false);
        mWebView.setWebViewClient(new FbDialog.FbWebViewClient());
        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.loadUrl(mUrl);
        mWebView.setLayoutParams(FILL);
        WebSettings mWebSettings = mWebView.getSettings();
        mWebSettings.setSavePassword(false); //RIGHT HERE
        mContent.addView(mWebView);
    } 
```

这将阻止您的登录持续存在。

# jquery - jQuery mouseenter+leave 查杀性能

> ID：13136340
> 
> 赞同：0
> 
> 时间：2012-10-30T09:47:24.237
> 
> 标签：jquery, events, memory-leaks

问题：每次我通过一对 mouseenter-mouseleave 事件处理程序时，我的浏览器都会变慢。

我有另一个（不相关的） reziable() 元素，这已经很慢了。但是在通过 mouseenter-mouseleave 事件进行约 50 次迭代后，resizble 变得几乎无法使用。
这就是我注意到问题的方式

场景：一堆邮票大小的 div，每个都包含用户输入。当我将鼠标悬停在它们上方时，它们会膨胀以显示全部内容，而当我将鼠标移出时，它们会再次缩小到邮票大小。
在膨胀动画（负边距）开始之前，需要进行一些计算，使用局部变量和全局变量来确定完整大小。收缩只是将边距动画化回零。

看着系统监视器，我可以看到浏览器（FF、chrome 和 opera）正在非常激烈地消耗内存，当我反复将鼠标悬停在这些框上时......
- 也删除（）'ing邮票（以及它们的事件） ) 不会让浏览器再次变得更快。在我重新加载整个页面之前，它一直非常缓慢。

关于我可能做错了什么的任何想法？
PS：实际代码有几百行，所以我现在就让你免于痛苦:)

编辑：代码在这里：[http](http://dagfordag.dk/tegn.js) ://dagfordag.dk/tegn.js 函数 tegnIkon() 创建一个 div，进行一些初始大小计算，然后附加两个事件。
之后不再绑定任何事件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T13:53:18.590

知道了 ！
我的（实时）toolTipper 在后台疯狂地工作，每次在我的鼠标后面出现一个新元素时都会大量抛出 setTimeouts() ......
- 杀死它。现在一切都像丝绸一样光滑：D

（提示是：“内存泄漏”不是永久性的——只是恢复速度比预期慢得多）

# css - IE8 和 IE9 - 之后的样式已被点击

> ID：13136345
> 
> 赞同：1
> 
> 时间：2012-10-30T09:47:38.810
> 
> 标签：css, internet-explorer, input

* * *

Alien 先生和 GionaF 所说的都起到了作用。

但是，在这种特殊情况下，我们决定将 onclick 事件和 disabled="disabled" 一起删除，因为它没有任何意义。

* * *

我`<input type="submit">`在 IE8 和 9 中遇到了这个元素的问题。

它看起来很好、正常、悬停和活动状态。但是在单击按钮后，文本会出现某种阴影以及我似乎无法覆盖的灰色。

![问题图片](../Images/30c6aaae95158f6dd45a3ac7300c8518.png)

我有一种感觉，这可能是导致此问题的 onclick 事件，但可以通过 CSS 修复它吗？

按钮的 HTML：

```
<input class="button" type="submit" id="CancelButton" name="CancelButton" value="Avbryt" onclick="window.setTimeout( disableButtons, 1 ); return true;" />
<input class="defaultbutton" type="submit" id="PublishButton" name="PublishButton" value="some_ez_publish_code" onclick="window.setTimeout( disableButtons, 1 ); return true;" /> 
```

CSS（很多类名，将它们排除在外）：

```
background-image: none;
background: url(../images/btn-sprite-large.png) 0px 0px no-repeat;
border: 0;
color: #fff;
cursor: pointer;
display: block;
font-size: 11px;
font-weight: 900;
height: 32px;
line-height: 26px;
text-align: center;
text-shadow: 0 -1px 0 #d12015;
width: 120px; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:52:55.577

似乎您在单击（功能`disableButtons`）后禁用了按钮。要更改文本的灰色（默认为禁用），您可以使用：

```
.button[disabled], .button:disabled {
    color:#fff;
}​ 
```

然后，正如 Alien 先生所说，您必须找到一种方法来定位 ie （可能带有[条件注释](http://paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/)）并从切换`text-shadow`到`filter`：

```
.ie .button {
    text-shadow:none;
    filter:/* etc */
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:49:12.147

IE有问题`text-shadow: 0 -1px 0 #d12015;`，所以你需要使用专有属性来代替

```
filter:DropShadow(Color=#d12015, OffX=1, OffY=0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-26T16:19:35.437

您无法更改 IE 中禁用按钮的浏览器样式，但您可以像这样包装您的按钮：

```
<div class="button-wrap">
    <a class="button" disabled="disabled"><span>My button</span></a>
    <span class="visible-text">My button</span>
</div> 
```

然后根据需要定位和设置可见文本的样式。像这样的东西：

```
.visible-text {
    position: absolute;
    cursor: pointer;
    color: green; /* or whatever... */
} 
```

使用可见性：默认按钮文本上的隐藏保持按钮的宽度，因此您可以在那里放置相同的文本而不会出现任何问题。

```
a.button span {
    visibility: hidden;
} 
```

请在这里尝试：

[http://jsfiddle.net/fnwjT/47/](http://jsfiddle.net/fnwjT/47/)

# c++ - 从命令行构建 Visual Studio Express 11 项目

> ID：13136354
> 
> 赞同：4
> 
> 时间：2012-10-30T09:48:04.190
> 
> 标签：c++, visual-studio, continuous-integration

到目前为止，我有以下技术从命令行构建我的 C++ 项目（目的：使用 jenkins 进行夜间构建，与“普通”项目具有相同的配置）：

```
devenv MySolution.sln /build "Release" /project "MyProject" 
```

或者，从一个明确的版本：

```
VCExpress MySolution.sln /build "Release" /project "MyProject" 
```

现在，我最近获得了用于桌面的 VC11 express，显然，它不是同一个可执行文件（我认为 VCExpress.exe 的等效项是 WDExpress.exe，我错了吗？），它不是同一个命令行（它类似于 WDExpress MyProject .vcxproj /Build），并且构建日志不会输出到标准输出（它们可能在其他地方可用）。

所以，我只是想知道我是否遗漏了什么？

也许不是 WDExpress.exe 必须被调用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:40:47.717

我自己刚才也有同样的问题。我认为我们应该使用 msbuild.exe 本身。这也是一种更通用的方法，因为您不必在 vcexpress 和 wdexpress 之间切换。我什至不确定 wdexpress.exe 是否支持构建 sln 文件（从命令行）

无论如何，这里是有关 msbuild.exe 的信息 [http://msdn.microsoft.com/en-us/library/ee662426.aspx](http://msdn.microsoft.com/en-us/library/ee662426.aspx)

试过了，它有效。msbuild.exe 在我的机器上的位置： `Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe` 它显然因 .net 版本而异，所以我现在正在寻找一种方法来从环境变量或类似的东西中获取 msbuild.exe 的路径。

# javascript - D3.js：从选择中删除 force.drag

> ID：13136355
> 
> 赞同：12
> 
> 时间：2012-10-30T09:48:09.233
> 
> 标签：javascript, d3.js, drag, force-layout

我有一个（相当简单的）问题：如何在 D3.js 所做的选择上“取消调用”force.drag？假设我创建了一组元素并在其上调用“调用”，给它一个强制导向布局的拖动回调。看起来像这样：

```
 d3.selectAll('rect').call(force.drag); 
```

现在应该可以稍后从某些节点中删除该行为。我的方法包括使用重置各种侦听器，例如“点击”、“拖动”等

```
 d3.select('rect#no-drag').on('click', null); 
```

他们都没有工作。有人知道如何删除回调吗？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-30T13:27:27.370

你很亲密。拖动事件由具有`mousedown`名为 的命名空间的事件启动`drag`。参见：[https ://github.com/mbostock/d3/blob/master/src/behavior/drag.js#L5](https://github.com/mbostock/d3/blob/master/src/behavior/drag.js#L5)

因此，要删除它，您可以执行以下操作：

```
d3.select('rect#no-drag').on('mousedown.drag', null); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-06-05T15:59:25.050

这个问题不是问如何对拖动元素进行细粒度控制，但我来这里是为了寻找如何根据条件打开/关闭拖动，并且提问者还询问如何在将拖动删除后恢复它评论。

因此，对于寻找如何有条件地允许拖动事件的任何人，请使用[drag.filter](https://github.com/d3/d3-drag#drag_filter)。

`drag.filter`接受需要返回布尔值的回调。如果回调返回 true，则拖动发生，否则拖动不会触发。

这比从选择中删除拖动然后尝试重新应用它要干净得多。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-22T21:10:45.870

这条线不知何故不兼容移动设备（chrome/android）

```
d3.select('rect#no-drag').on('mousedown.drag', null); 
```

# perl - perl 中智能匹配运算符的意外行为

> ID：13136357
> 
> 赞同：2
> 
> 时间：2012-10-30T09:48:12.340
> 
> 标签：perl

根据 perlop: [Smartmatch-Operator](http://perldoc.perl.org/perlop.html#Smartmatch-Operator)，以下代码：

```
use 5.012;

my @array = qw/1 2/;

print @array ~~ 2
    ? "true"
    : "false"; 
```

应该使用规则

> 左 右 描述和伪代码
> ============================================== ===================
> 
> Any Num 数值相等（如：Any == Num）

但输出是“假的”。但我认为

```
@array == 2 
```

应该是真的。我哪里出错了？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:01:41.830

我不确定这个问题，但也许这会有所帮助：代码编译为与数组**ref**的智能匹配：

```
$ perl -MO=Deparse -e '@a = (1, 2); print @a ~~ 2'
@a = (1, 2);
print \@a ~~ 2;
-e syntax OK 
```

因此，您实际上是在检查引用相等性，在大多数情况下这应该是错误的。;) 但是，对于智能匹配运算符来说，检查数组的长度可能太容易了，因为它可以通过以下方式完成`==`：

```
$ perl -le '@a = (42, 17); print @a == 2'
1 
```

我更喜欢这种方法，因为对于 Perl 程序员来说，你正在测试什么更明显。

请注意，智能匹配不是对称的。颠倒顺序对该数组执行 grep 搜索：

```
$ perl -nle '@a = (42, 17); print $_ ~~ @a ? "ok" : "no"'
1
no
2
no
17
ok 
```

# javascript - 我无法将谷歌地图位置信息存储在变量中

> ID：13136359
> 
> 赞同：-2
> 
> 时间：2012-10-30T09:48:12.630
> 
> 标签：javascript, asp.net, google-maps, google-maps-api-3

朋友们，现在我正在使用谷歌 API 获取位置信息。我正在获取位置信息，但我无法将其存储在变量或隐藏字段中。任何人都可以帮助我知道我在哪里做错了。

```
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>  

   <script language="javascript" type="text/javascript">
    var map;
    var geocoder;// = new google.maps.Geocoder();
    var address;        
    function initialize() {
        var latlng = new google.maps.LatLng(document.getElementById("<%=txtLatitude.ClientID %>").value, document.getElementById("<%=txtLongitude.ClientID %>").value);
        var myOptions = {
            zoom: 5,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById("map"), myOptions);
        var marker = new google.maps.Marker(
        {
            position: new google.maps.LatLng(document.getElementById("<%=txtLatitude.ClientID %>").value, document.getElementById("<%=txtLongitude.ClientID %>").value),
            map: map,
            title: 'Click me'
        });
        geocoder = new google.maps.Geocoder();
        geocoder.geocode({ "latLng": latlng }, function(data, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                address = data[0].formatted_address;
                alert(address);
            }
        });           
        var infowindow = new google.maps.InfoWindow({
        content: 'Location info:' + address + '<br/>LatLng:' + document.getElementById("<%=txtLatitude.ClientID %>").value + ',' + document.getElementById("<%=txtLongitude.ClientID %>").value            
        });
        google.maps.event.addListener(marker, 'click', function() {
            infowindow.open(map, marker);
        });
    }
    window.onload = initialize;
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T11:39:19.617

你有一个错误。在分配给标记之前，您正在使用内容初始化信息窗口。在事件处理程序中设置内容。

这就是您的代码应该如何 -

```
 google.maps.event.addListener(marker, 'click', function () {

               infowindow.setContent('Location info:' + address + '<br/>LatLng:' + document.getElementById("<%=txtLatitude.ClientID %>").value + ',' + document.getElementById("<%=txtLongitude.ClientID %>").value);
               infowindow.open(map, marker);
           }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:38:27.143

您的错误消息（应该在您的问题中，而不是隐藏在评论中）意味着您的页面上没有任何 ID`<%=hdnAddress.ClientID %>`等同的元素。什么是价值，`<%=hdnAddress.ClientID %>`你能告诉我们你的 HTML 应该包含它吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:07:37.917

数组的第一个元素的索引为 0，而不是 1，因此`data[1].formatted_address;`您应该使用`data[0].formatted_address;`

# android - Android 偏好 ClassNotFoundExceptions 这让我很生气

> ID：13136362
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:14.320
> 
> 标签：android, android-preferences

我遇到了一个似乎出现在模拟器和个人可调试设备上的异常。

**这是preferences.xml 文件：**

```
<?xml version="1.0" encoding="utf-8"?>
<preference-headers xmlns:android="http://schemas.android.com/apk/res/android">
    <header 
        android:title="sound"
        android:summary=""
        android:icon="@android:drawable/ic_media_ff"
        android:fragment="com.example.app.activities.PreferencesActivity$SoundSettingsPreferenceFragment" />
</preference-headers> 
```

**这是preferences_sound 文件：**

```
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <PreferenceCategory 
        android:title="First Category"
        android:key="first_category">

        <CheckBoxPreference
            android:key="pref_cbx"
            android:title="checkbox"
            android:summary="checkbox summ"
            android:defaultValue="true" />

    </PreferenceCategory>
</PreferenceScreen> 
```

**这是相关的代码 Activity**：

```
import java.util.List;

import android.annotation.SuppressLint;
import android.preference.PreferenceActivity;
import android.os.Bundle;
import android.preference.PreferenceFragment;
import android.preference.PreferenceManager;

import com.example.app.R;

@SuppressLint("NewApi")
public class PreferencesActivity extends PreferenceActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        PreferenceManager.setDefaultValues(this, R.xml.preferences, false);
    }

    @Override
    public void onBuildHeaders(List<Header> target) {
        loadHeadersFromResource(R.xml.preferences, target);
    }

    public static class SoundSettingsPreferenceFragment extends PreferenceFragment {

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            addPreferencesFromResource(R.xml.preferences_sound);
        }
    }
} 
```

**这是输出错误**：

```
10-30 11:31:58.812: E/ActivityThread(9783): Failed to inflate
10-30 11:31:58.812: E/ActivityThread(9783): android.view.InflateException: Binary XML file line #3: Error inflating class preference-headers 
```

...

```
10-30 11:31:58.812: E/ActivityThread(9783): Caused by: java.lang.ClassNotFoundException: android.preference.preference-headers 
```

...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T09:51:56.783

通常，当您忽略导出正在使用的外部库时会出现此错误。如果您使用的是外部 jar 文件，请确保进入属性并选中该选项卡中的导出复选框。

```
java build path -> order and export 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T09:52:23.747

Android 从可绘制文件夹调整其位图大小以适应屏幕。它在布局膨胀期间执行此操作。如果您的应用程序仅在“可绘制”文件夹中包含图像（或者就此而言，如果您只有一个用于所有分辨率的文件夹），则调整大小有时会失败。您甚至可以获得 OOM 异常。因此，我建议您创建一个 drawable-mdpi 文件夹，并将该文件夹中的所有可绘制对象也复制到 mdpi。

我知道这听起来很疯狂，但大多数膨胀的布局问题都会随着这一变化而消失。试试看。反正不疼。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-14T12:10:38.220

只需检查应用于 PreferenceActivity 的**主题**是否与 PreferenceActivity 对象兼容。

# html - onclick 输入类型图像导致表单提交

> ID：13136365
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:25.473
> 
> 标签：html, input, onclick, submit

**设想**

我有这个表格：

```
<form action="EditShippingInfo.asp" method="POST" id="frmShippingInfo">
  <!-- stuff -->
  <input type="image" id="EditShippingInfo" onclick="javascript:checkShippingInfo(this.form);" src="/img/btn_save.gif" />
</form> 
```

该`checkShippingInfo`函数运行一些输入验证控件。最终它通过 AJAX 运行服务器端控件：

```
 function checkShippingInfo(form){
        /* runs validation controls */

        var data = setDataForAjax;
        $.ajax({
            type: 'GET',
            url: '/include/checkAddresses.asp',
            data: data,
            async: false,
            success: function (m) {
                if (m == 0) {
                    /* I want to run form.submit only if m=0 */
                    form.submit();
                }
                else {
                    /* otherways I display a message */
                    alert(m);
                    return false;
                }
            }
        });
  } 
```

但**无论如何**都会触发表单提交，即使 m!=0。

**问题**

`form.submit`我只想在特定条件下触发。`input type="image"`无论如何都会触发提交吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T11:57:35.837

**事实**

提交输入上的 onclick 事件应始终触发表单提交。 **除非**onclick 事件处理程序显式返回`FALSE`.

在此之后，我的代码中缺少两个重要的细节。

**解决方案**

1.  onclick 事件处理程序中的`return`关键字。

    `onclick="javascript:return checkShippingInfo(this.form);"`

2.  函数中的`return`值`checkShippingInfo`。

.

```
function checkShippingInfo(form)
{
      /* do the validation control... */

      /* do the ajax call... */

      /* I prevent the form submit */
      return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:52:02.103

```
function checkShippingInfo(form){
        /* runs validation controls */

        var data = setDataForAjax;
        $.ajax({
            type: 'GET',
            url: '/include/checkAddresses.asp',
            data: data,
            async: false,
            success: function (m) {
                if (parseInt(m) == 0) { //use parseInt here to get integer value
                    /* I want to run form.submit only if m=0 */
                    form.submit();
                }
                else {
                    /* otherways I display a message */
                    alert(m);
                    return false;
                }
            }
        });
  } 
```

# forms - nodejs表单模块：如何将类添加到字段

> ID：13136366
> 
> 赞同：3
> 
> 时间：2012-10-30T09:48:28.030
> 
> 标签：forms, class, node.js

我正在尝试使用表单模块[https://github.com/caolan/forms](https://github.com/caolan/forms)。我可以轻松地创建没有任何问题的表单。但我只是想知道如何向现有字段添加新的类名。该文档讨论了覆盖 id。但是我找不到向标签添加新类的方法。

尝试了以下..但它不会工作！

```
 username: fields.string({
    required: true,
    label: 'So What',
    classes: ['classtest']
    }), 
```

字段有一个称为小部件的属性（它又具有属性“类”）。但也无法让它工作。这是我尝试过的。这也失败了。

```
username: fields.string({
required: true,
label: 'So What',
widget: {
  classes: 'testclass'
}
}), 
```

在这方面的任何帮助都会有所帮助。最终我试图用引导程序来设计表单

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T16:25:26.937

看起来该模块除了小部件级别之外不允许在任何地方使用类。使用以下内容将类应用于输入框（即小部件）。

```
username: fields.string({
    required: true,
    label: 'So What',
    widget: forms.widgets.text({
        classes: ['testclass']
    })
}) 
```

当前的表单模块 API 无法扩展放置在周围 div 元素上的类。这是关于我如何找到它的一些堆栈跟踪：

1.  [lib/fields.js#L68](https://github.com/caolan/forms/blob/master/lib/fields.js#L68)调用[forms.render.div](https://github.com/caolan/forms/blob/master/lib/render.js#L20)
2.  [forms.render.div](https://github.com/caolan/forms/blob/master/lib/render.js#L20)调用[field.classes().join(' ')](https://github.com/caolan/forms/blob/master/lib/render.js#L5)
3.  [field.classes()](https://github.com/caolan/forms/blob/master/lib/fields.js#L61)返回一个严格的类数组。唯一的选项是字段、错误和必需。

# php - 如何在多维数组中搜索同一级别的值？

> ID：13136369
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:32.287
> 
> 标签：php, arrays, search, multidimensional-array

我有一个大型多维数组，我需要在其中搜索某个值并检索同级值。

如果我搜索 的值`29`，我需要确保它属于 的键`id`。一旦找到，我需要`label`密钥的值。这两个键都属于同一个嵌套数组。

例如：

```
[26]=>
array(54) {
  ["id"]=>
  string(2) "29"
  ["label"]=>
  string(13) "Special Notes" 
```

在这个例子中，我搜索 29，它属于一个`id`，返回它的值`label`是`Special Notes`

除此之外，它确实变得有点复杂..

如果我正在搜索的值包含 a `decimal`，这也属于 key `id`，但是在多个地方都提到了它。它所属的`grandparent`键必须`inputs`经过验证，因此一旦验证，就检索标签的值（它是 id 的兄弟）。

例如：

```
["inputs"]=>
  array(3) {
    [0]=>
    array(2) {
      ["id"]=>
      string(4) "12.1"
      ["label"]=>
      string(4) "Name"
    }
    [1]=>
    array(2) {
      ["id"]=>
      string(4) "12.2"
      ["label"]=>
      string(5) "Price"
    }
    [2]=>
    array(2) {
      ["id"]=>
      string(4) "12.3"
      ["label"]=>
      string(8) "Quantity"
    }
  } 
```

在这个例子中，如果我搜索`12.1`它会返回`Name`- 确保这一切都属于`inputs`

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:23:13.410

这里是一个简单的例子。也许它会有所帮助...

```
$search_val = "12.1";   // value to search for
foreach($inputs as $key=>$value){
   foreach($value as $keyassoc=>$val){
         if($keyassoc=="id"){
            if($val==$search_val){
                echo "found: ".$inputs[$key]["label"];
            }
         }
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:59:08.963

你可以只过滤掉你的数组

```
$inputs = array(
        0 => array("id" => "12.1","label" => "Name"),
        1 => array("id" => "12.2","label" => "Price"),
        2 => array("id" => "12.3","label" => "Quantity"));

$s =  "12.1" ; // what you want
$input = array_filter($inputs,function($v)use($s){ return $v['id'] == $s;});
var_dump($input); 
```

输出

```
array
  0 => 
    array
      'id' => string '12.1' (length=4)
      'label' => string 'Name' (length=4) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:25:10.087

如果我没有理解您的观点，那么这将对您有所帮助：-

```
 function searchLabel($inputs,$search)
    foreach($inputs as $input){
      if($input['id']==$search){
      return $input['label'];
      }
    }
    $label = searchLabel($inputs,12.1); 
```

# java - 将特殊字符存储为 unicode

> ID：13136372
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:41.010
> 
> 标签：java, encoding

我们必须经常处理特殊字符。遗憾的是，直到现在还没有特别注意编码。您可以猜到，我们最终总是会遇到一种或另一种编码问题。

我们目前正在努力将所有特殊字符更改为 unicode（在属性文件和代码中（我知道这不符合良好的编码习惯，但我们目前无法更改）。

现在我不太确定我们应该如何处理来自具有不同编码的其他系统的输入，我们是否应该将特殊字符转换为 unicode，是否有任何好的 API 或约定来处理这些？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:07:48.173

如果您知道原始编码，则可以使用

```
String orig = "Cp1250"
BufferedReader r = new BufferedReader(new InputStreamReader(is, orig)); 
```

哪里的字符串 orig 必须反映这个[表](http://docs.oracle.com/javase/1.5.0/docs/guide/intl/encoding.doc.html)。然后你可以在代码中做任何你想做的事情，因为 Java 在内部以 UTF8 存储它。如果您想以不同的编码再次保留它，您将使用`OutputStreamWriter`具有明确指定编码的对偶。

# datagridview - HOWTO：Datagridview 组合框下拉菜单自动进入（点击它）

> ID：13136373
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:41.540
> 
> 标签：datagridview, combobox

我有一个datagridview，其中一列是datagridviewcomboboxcolumn。所以我希望组合框在输入时自动下拉（单击单元格）。我已经覆盖了 OnEnter 方法，然后执行了 SendKeys.Send("{F4}") 但它不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:26:16.667

通过处理 cellEnter 事件解决：

```
private void OnDGVCellEnter(object sender, DataGridViewCellEventArgs e)
{
    if (e.ColumnIndex == this.colDesired.Index)
    {
        SendKeys.Send("{F4}");
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T13:09:29.673

您还可以将 datagridview 的编辑模式设置为“EditOnEnter”，它会做同样的事情。当您输入它们时，它还会强制文本框列进入编辑模式。

# ruby - 在各种输入上测试函数的正确样式

> ID：13136377
> 
> 赞同：0
> 
> 时间：2012-10-30T09:48:50.730
> 
> 标签：ruby, unit-testing, rspec, dsl

我需要测试以下行：

```
result = handle(streamOfMessages) 
```

Where`messages`和`context`是填充良好的哈希值。我可以这样写`it`：

```
messages1 = [ {"type"=>"someType1","value"=>"someBigHash1"}, {"type"=>"someType2","value"=>"someBigHash2"}, {"type"=>"someType1","value"=>"someBigHash3"} ]
result1 = handle(messages1)
result1.should == [someValue1, someOtherValue1]

messages2 = [ {"type"=>"someType1","value"=>"someBigHash1"}, {"type"=>"someType2","value"=>"someBigHash2"}, {"type"=>"someType1","value"=>"someBigHash3"} ]
result2 = handle(messages1)
result2.should == [someValue2, someOtherValue2]

// same about messages3, result3 etc 
```

`messages[i]`我可以制作一个数组数组并在循环中引用。然而，在我看来，这一切都是一种非常古老的方法，因此我正在寻找一种更具启发性（或者我什至应该说是基于*DSL*）的编程风格。如果有更好的语法来构造消息流和迭代多个流同时期望不同的结果，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:56:06.170

您可以为每个输入动态生成单独的测试用例：

```
[ {"type"=>"someType1","value"=>"someBigHash1"}, {"type"=>"someType2","value"=>"someBigHash2"}, {"type"=>"someType1","value"=>"someBigHash3"} ].each do |h|
  it "should handle #{h[:type]} to return #{h[:value]}" do
     result1 = handle(h)
     result1.should == [value1, value2]
  end
end 
```

value1 和 value2 没有在这里设置，但我希望你明白这一点 - 你也可以将它们插入到你的哈希数组中并与它们进行比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:59:53.750

我不会以任何重要的方式重写规范。在我看来，单元测试不应该包含“聪明”的代码，它们不应该被重构和干枯广告荒谬。您唯一想从他们那里得到的就是查看一段代码是否为给定的输入产生了正确的输出。而且您的代码已经实现了...

# java - 使用 JDBC 时卡在 oracle.sql.Array to String Array

> ID：13136378
> 
> 赞同：1
> 
> 时间：2012-10-30T09:48:54.317
> 
> 标签：java, jdbc, spatial

我正在使用 JDBC 开发空间数据库应用程序，现在我在检索插入数据库的多边形的协调器时遇到问题，我得到的是一个基本类型为 Number 的 oracle.sql.Array，我的想法是获取协调器到一个字符串数组中，并让它们一一绘制在地图上

**形状.SDO_ORDINATES**

> 号码（79,68,184,125,179,133,189,138,139,229,131,225,127,233,21,175,26,168,18,163,67,73,74,76）

**以下是我的代码：**

```
try{
 Statement stmt = conn.createStatement();
 String fetchBuidling = "select a.shape.sdo_ordinates from buildings a";
 ResultSet rs = stmt.executeQuery(fetchBuidling);

 while(rs.next()){
    ResultSetMetaData metaData = rs.getMetaData();
    int columns = metaData.getColumnCount();
    Array coordsInfo = rs.getArray(columns);
    String[] vertice = (String[]) coordsInfo.getArray();
    for(int i = 0 ; i < vertice.length; i++){
    System.out.println(vertice[i]);
    }  
} 
```

错误是`"java.lang.ClassCastException: [Ljava.math.BigDecimal; cannot be cast to [Ljava.lang.String;"`；我使用了 Oracle 文档中的代码块，尽管第二个 getArray() 对我来说没有意义，因为在这种情况下它提到 coordsInfo 应该是一个逻辑指针，链接是 [http://docs.oracle.com /javase/tutorial/jdbc/basics/array.html#retrieving_array](http://docs.oracle.com/javase/tutorial/jdbc/basics/array.html#retrieving_array)

但是没有第二个 getArray() 我什至无法编译代码，任何人都可以帮忙，我对此感到非常沮丧

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:58:57.423

您可以将其转换为 Object 数组，而不是将列的所有结果值类型转换为 String 数组。稍后使用

`metaData.getColumnType(int column)`

如果 columnType 是 NUMERIC 类型，那么您可能希望将其提取为 a`BigDecimal`并在其上调用 a`toString()`以将其转换为`String`

**邪恶的黑客（不要告诉任何人我建议这个）：**

```
 Object[] vertice = (Object[]) coordsInfo.getArray();
    for(int i = 0 ; i < vertice.length; i++){
       System.out.println(vertice[i].toString());
    } 
```

# sql-server - 在存储过程中用作局部变量的最大数据类型是什么？

> ID：13136395
> 
> 赞同：6
> 
> 时间：2012-10-30T09:50:28.047
> 
> 标签：sql-server, text, asp-classic, procedure, nvarchar

我有下一个问题：

```
--DECLARE @TEST NVARCHAR(MAX)
--DECLARE @TEST2 NVARCHAR(MAX)

DECLARE @TEST NTEXT
DECLARE @TEST2 NTEXT 
```

NVARCHAR(MAX) 对于执行存储过程时需要放置的文本量来说太小了，此外，TEXT、NTEXT 和 IMAGE 数据类型对局部变量无效，我能做些什么来回避这个问题并存储过大的文本像。

提前致谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-30T09:57:48.500

> `NVARCHAR(MAX)`对于执行存储过程时需要放置的文本量来说太小了

好吧，坏消息：这是可用的最大数据类型！2GB的存储空间，没有比这*更多*的东西了。事实上，所有大型类型都具有相同的大小：VARCHAR(MAX)、NVARCHAR(MAX)、VARBINARY(MAX)：它们都具有 2GB 的最大大小（作为旁注，已弃用的旧类型具有完全相同的最大大小）。只有 FILESTREAM 可以超过此大小，但不能将*变量*声明为 FILESTREAM。

所以这真的引出了一个问题：你在存储过程中做了什么来在变量中添加 +2GB 的数据？你不可能有合理的理由，所以你应该重新考虑你的方法。使用磁盘，卢克，而不是 RAM！考虑一个@table 变量或一个#temp 表...

# c# - 正确格式化文本框输入

> ID：13136396
> 
> 赞同：0
> 
> 时间：2012-10-30T09:50:28.107
> 
> 标签：c#, asp.net, textbox

所以我正在开发一个用户-用户私人消息系统，我对一件事有点困惑。

理想情况下，用户应该能够输入他们希望它出现在消息中的文本，并且它应该以这种方式显示给收件人。

不是这种情况。诸如回车/换行字符之类的东西不会被呈现。这一切都以页面上的一个段落的巨大混乱而告终......

我知道像tinymce 这样的富文本编辑器会做我想做的事，但我有点想，这里有一种更简单的方法可以实现所需的结果。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:54:38.510

出现问题是因为 textareas 包含文本，因此新行是文本换行符（“\r”、“\n”或“\r\n”之一，具体取决于操作系统）。您将需要处理此问题并将其替换为等效的 html 标记 ("<br/>")。最简单的方法是执行以下操作：

```
string OutputString = InputString.Replace("\r\n", "<br/>").Replace("\n", "<br/>").Replace("\r", "<br/>"); 
```

# knockout.js - 如何在 Knockout 的 foreach 中添加分隔符

> ID：13136398
> 
> 赞同：11
> 
> 时间：2012-10-30T09:50:35.000
> 
> 标签：knockout.js

我需要为下面的可观察数组添加逗号分隔符

`this.Filter = ko.observableArray([{ "Key": "1", "Value": "a" }, { "Key": "2", "Value": "b" }, { "Key": "3", "Value": "c" }]);`

我需要在数组上方显示 a,b,c

```
<td data-bind="foreach: Filter">
   <span data-bind="text: value"></span>
</td> 
```

但值显示为 abc

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-10-30T09:58:14.483

又快又脏

```
<td data-bind="foreach: Filter">
   <!-- ko if: $index() > 0 -->,<!-- /ko -->
   <span data-bind="text: value"></span>
</td> 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-10-30T10:01:24.200

你可以这样做：

```
<td data-bind="foreach: Filter">
    <!--ko if: $index() != 0-->,<!--/ko-->
   <span data-bind="text: Value"></span>
</td> 
```

但最好计算将连接数组值：

```
self.Filter2 = ko.computed(function (){
    var result = "";
    ko.utils.arrayForEach(self.Filter(), function(item){
        if (!result){
            result = item.Value;
        }
        else{
            result = result + ', ' + item.Value;
        }
    });
    return result;
}); 
```

这是两种变体的小提琴：http: [//jsfiddle.net/XrB7z/](http://jsfiddle.net/XrB7z/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-03-24T19:25:12.683

**现代 CSS 方式**

相同的标记+类：

```
<td data-bind="foreach: Filter" class="comma-separated">
   <span data-bind="text: value"></span>
</td> 
```

CSS：

```
.comma-separated {
  display: flex;
}

.comma-separated > span + span:before {
  content: ", ";
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T19:31:02.623

使用计算可能是最好的解决方案。

```
this.filterAsString = ko.computed(function () {
    return ko.utils.arrayForEach(this.Filter(), function(item) {
        return item.Value;
    }).join(', ');
}, this); 
```

HTML：

```
<td data-bind="text: filterAsString"></td> 
```

# wcf - 使用 JMeter 测试 WCF Web 服务的性能？

> ID：13136404
> 
> 赞同：2
> 
> 时间：2012-10-30T09:50:41.853
> 
> 标签：wcf, testing, jmeter, performance-testing

我想对托管在 IIS 上的 web 服务进行性能测试，它公开了几种方法。

具体操作是get，只需要一个参数。我成功地创建了 Jmeter 脚本并且得到了 200 响应，但是 XML 响应和日志在 EndpointDispatcher 中显示 ContractFilter 不匹配。

SOAP 请求是从 SOAPUI 获取的，并且 get 操作成功。

除了 ContractFilter 不匹配错误之外，我对为什么收到 200 而不是 500 服务器错误感到困惑。

有没有人知道发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T12:19:59.977

检查您没有使用 Webservice Sampler，因为它不考虑 500 状态，请参见：

*   [https://issues.apache.org/bugzilla/show_bug.cgi?id=54006](https://issues.apache.org/bugzilla/show_bug.cgi?id=54006)

请改用 HTTP 采样器。

还要检查您是否将所需的标头传递给您的网络服务，将 HeaderManager 作为您的采样器的子级并添加自定义标头。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T16:02:43.143

通过使用从 SOAPUI 提取原始请求然后构建 SOAP/XML-RPC 请求来管理解决问题。

# asp.net - 遇到除以零错误

> ID：13136406
> 
> 赞同：2
> 
> 时间：2012-10-30T09:50:48.200
> 
> 标签：asp.net, sql, divide-by-zero

启动此 SQL 查询时出现除以零错误：

```
SELECT CONVERT(VARCHAR(11),CaptureTime,106) 'CaptureTime',
        Type,
        CASE WHEN Unit='g/L' THEN (data1* 0.02586) ELSE data1 END As data1,
        CASE WHEN Unit='g/L' THEN nullif(data2* 0.02586,0) ELSE data2 END As data2,
        CASE WHEN Unit='g/L' THEN nullif(data3* 0.02586,0) ELSE data3 END As data3,
        CASE WHEN Unit='g/L' THEN nullif(data1* 0.02586,0) / nullif(data2* 0.02586,0) ELSE (data1/data2) END As Ratio,
        CASE WHEN Unit='g/L' THEN 'ml/L' ELSE 'ml/L' END As data,
        CASE WHEN Unit='g/L' THEN (data4* 0.01129) ELSE data4 END As data4
FROM something 
where Type ='DATA'
and ID='" + Session["name"].ToString() + "'
Order By CONVERT(DateTime, CaptureTime,101) DESC 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:56:14.733

错误几乎肯定来自这里的第二行：

```
CASE WHEN Unit='g/L' THEN nullif(data1* 0.02586,0) / nullif(data2* 0.02586,0) " +
    "ELSE (data1/data2)" +  
    "END As Ratio," 
```

如果单位不是 G/L 且 data2 为 0，则会出现错误。将其更改为：

```
CASE WHEN Unit='g/L' THEN nullif(data1* 0.02586,0) / nullif(data2* 0.02586,0) " +
    "ELSE (data1/NULLIF(data2, 0))" +  
    "END As Ratio," 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:53:35.787

如果 data2 等于零，则无法计算比率，因为您不能除以零，它将始终输出错误消息。

我建议你添加一个案例：

```
CASE WHEN data2=0 
THEN 0
ELSE
    CASE WHEN Unit='g/L' 
    THEN (data1 * 0.02586) / (data2 * 0.02586) 
    ELSE data1/data2
    END 
END As Ratio, 
```

# powershell - Powershell 模块：启用/获取服务器管理器模块 Windows 7

> ID：13136407
> 
> 赞同：1
> 
> 时间：2012-10-30T09:51:04.267
> 
> 标签：powershell, module, servermanager

我已经在我的 Windows 7 Enterprise 上安装了 Win Remote Mgmt 工具。我想远程管理我的服务器并运行需要 SEVERMANAGER MODULE 的脚本。在安装远程管理工具并将它们作为一项功能激活后，我启动了 Powershell 并尝试通过提示导入模块：Import-Module ServerManager ==> Ended with an error。

然后我想检查哪些模块是活动的和小费：get-Module -List * 还有 AD、Bitlocker 模块等等。

那么 SERVERMANAGER 模块有什么问题呢？

有人可以给我一个提示吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:59:00.813

ServerManager 是一个服务器模块，它不存在于客户端机器上。您可以做的一件事是针对目标服务器创建一个新的 PowerShell 远程会话，加载 ServerManager 并使用远程命令运行其命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-07-19T02:10:25.883

Windows 客户端机器上不存在 ServerManager 模块，这是/曾经是真的。但是，现在您可以获得适用于 Windows 8.1 的 ServerManager 模块（不幸的是，我不确定它是否存在于之前的任何内容中 - 文档似乎不建议这样做）。

您不能对客户端计算机运行 ServerManager cmdlet - 但您可以从客户端计算机对 Windows Server 2012 R2 计算机运行它们。

[在撰写本文时，链接在这里。](http://www.microsoft.com/en-us/download/details.aspx?id=39296)

如果您在 MSDN/Bing/Google 上搜索“适用于 Windows 8.1 的远程服务器管理工​​具”（或类似同义词的版本），您将找到您正在寻找的模块安装程序。

# android - 在ondraw中，我在android中出现内存不足异常

> ID：13136414
> 
> 赞同：0
> 
> 时间：2012-10-30T09:51:37.620
> 
> 标签：android, android-emulator

嗨，我在这里做一个应用程序，我需要实现绘图功能。所以我把 myview 作为自定义类，在里面我做了更多的分配。所以我得到了内存异常。所以我需要分配的地方你可以知道这个请给我..

**我的视图.class**

```
 public class MyView extends View
    {

            private Canvas  mCanvas;
            private Path    mPath;
            private Paint   mBitmapPaint;

        public MyView(Context context) {
            super(context);
            // TODO Auto-generated constructor stub
             mPath = new Path();
                mBitmapPaint = new Paint(Paint.DITHER_FLAG);
        }
         @Override
            protected void onSizeChanged(int w, int h, int oldw, int oldh)     {
                super.onSizeChanged(w, h, oldw, oldh);
                if (mBitmap != null) {
                    mBitmap.recycle();
                    mBitmap=null;
                 }

                mBitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);
                mCanvas = new Canvas(mBitmap);
                mCanvas.setBitmap(mBitmap);

            }

          @Override
            protected void onDraw(Canvas canvas) {

              if(action)
              {
                  invalidate();
              }

              Paint painto = new Paint();
               painto.setAntiAlias(true);
              painto.setColor(getResources().getColor(R.color.magnata));

               painto.setStrokeWidth(3);
               painto.setStyle(Paint.Style.FILL);

              int leftx1=(int)(15*(screenWidth/1024));
                 int leftx2=(int)(1010*(screenWidth/1024));
                    int topy1=(int)(60*(screenHeight/600));
                    int topy2=(int)(530*(screenHeight/600));

                       canvas.drawLine(leftx1, topy1, leftx2, topy1, painto);   
                       canvas.drawLine(leftx1, topy1, leftx1, topy2, painto);
                       canvas.drawLine(15, topy2, leftx2, topy2, painto);
                       canvas.drawLine(leftx2, topy1, leftx2, topy2, painto);

            bitmapOrg = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_4);
            int leftorg=(int)(150*(screenWidth/1024));
            int toporg=(int)(110*(screenHeight/600));
              canvas.drawBitmap(bitmapOrg, leftorg, toporg, painto);

              bitmapOrg1 = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_5);
              int leftorg1=(int)(430*(screenWidth/1024));
                int toporg1=(int)(130*(screenHeight/600));
               canvas.drawBitmap(bitmapOrg1, leftorg1,toporg1, painto);

       bitmapOrg2 = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_6);
       int leftorg2=(int)(650*(screenWidth/1024));
               canvas.drawBitmap(bitmapOrg2, leftorg2,toporg, painto);

         bitmapOrg3 = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_1);
         int leftorg3=(int)(170*(screenWidth/1024));
         int toporg3=(int)(350*(screenHeight/600));
               canvas.drawBitmap(bitmapOrg3, leftorg3,toporg3, painto);

              bitmapOrg4 = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_3);
              int leftorg4=(int)(680*(screenWidth/1024));
               canvas.drawBitmap(bitmapOrg4, leftorg4,toporg3, painto);

            bitmapOrg5 = BitmapFactory.decodeResource(getResources(),
                        R.drawable.circles1_2);
            int leftorg5=(int)(400*(screenWidth/1024));
             int toporg5=(int)(300*(screenHeight/600));
               canvas.drawBitmap(bitmapOrg5, leftorg5,toporg5, painto);

               Paint paint1 = new Paint();
                paint1.setAntiAlias(true);
                paint1.setColor(Color.BLACK);
                paint1.setStrokeWidth(3);
                paint1.setStyle(Paint.Style.FILL);
                paint1.setTextSize(13);
                canvas.drawText("Get  ready  to  write  place  your  pen  on  the  dot  and  follow  direction ", 120, 20, paint1);
                canvas.drawText("indicated  by  the  arrow . ", 120, 38, paint1);

                Paint p = new Paint();
                p.setAntiAlias(true);
                p.setTextSize(120);
                p.setColor(Color.LTGRAY);
                             Typeface font = Typeface.createFromAsset(getAssets(), "font/KINDTRG.TTF"); 

               canvas.drawBitmap(mBitmap, 0, 0, mBitmapPaint);

                canvas.drawPath(mPath, mPaint); 

     }  
     private float mX, mY;
   private  final float TOUCH_TOLERANCE = 2;

     private void touch_start(float x, float y) {
       mPath.reset();
    mPath.moveTo(x, y);
  mX = x;
  mY = y;
 }
  private void touch_move(float x, float y) {
    float dx = Math.abs(x - mX);
      float dy = Math.abs(y - mY);
      if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE) {
  mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
  mX = x;
  mY = y;
    }
   }
    private void touch_up() {
      mPath.lineTo(mX, mY);

     mCanvas.drawPath(mPath, mPaint);

    mPath.reset();
    }

         @Override
        public boolean onTouchEvent(MotionEvent event) {
           float x = event.getX();
           float y = event.getY();

       switch (event.getAction()) {
  case MotionEvent.ACTION_DOWN:
      touch_start(x, y);
      invalidate();
      break;
  case MotionEvent.ACTION_MOVE:
      touch_move(x, y);
      invalidate();
      break;
  case MotionEvent.ACTION_UP:
      touch_up();
      invalidate();
      break;
     }
       return true;
   }
      } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:01:44.380

尝试这种方式 :: 释放附加到该特定活动的图像视图..

```
protected void onDestroy() {
    super.onDestroy();

    unbindDrawables(findViewById(R.id.rl_main));
    System.gc();
}

private void unbindDrawables(View view) {
    if (view.getBackground() != null) {
        view.getBackground().setCallback(null);
    }
    if (view instanceof ViewGroup) {
        for (int i = 0; i < ((ViewGroup) view).getChildCount(); i++) {
            unbindDrawables(((ViewGroup) view).getChildAt(i));
        }
        ((ViewGroup) view).removeAllViews();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:58:27.957

Android 给您的工作空间非常小。位图非常重。你需要小心你如何使用它们。确保在您不再需要它们时立即回收（）它们，并考​​虑不要使用 ARGB_8888，除非您有需要透明度的 Alpha 通道。

# java - 本地 HTML 文件在 Android Webview 中无法正常工作

> ID：13136417
> 
> 赞同：0
> 
> 时间：2012-10-30T09:51:44.077
> 
> 标签：java, android

我有一个带有按钮的 HTML 文件，当我们单击该按钮时，该按钮将弹出一条警报消息。

我放置了 HTML 文件资产文件夹，它正确加载到模拟器，我可以看到按钮，但我面临的问题是，按钮单击没有响应，我看不到弹出消息。

我还启用了 JavaScript，但结果是否定的。然后我将警报事件更改为 JavaScript 代码但不起作用。我在这里添加我的代码，如果有人可以提供帮助，我将不胜感激。

```
public void onCreate(Bundle savedInstanceState)
{
     super.onCreate(savedInstanceState);
     setContentView(com.example.test.R.layout.activity_main);

     myWebView= (WebView) findViewById(com.example.test.R.id.webView1);
     myWebView.getSettings().setJavaScriptEnabled(true);
     myWebView.loadUrl("file:///android_asset/myown.html"); 
} 
```

以下是我的 HTML 页面代码

```
<!DOCTYPE html>
<html>
    <body>

        <button type="button" onclick="alert('Hello world!')">Click Me!</button>

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:05:54.633

为此，您需要使用`webChromeClient`and override函数：`onJsAlert()`

```
WebView wv=new WebView(this);   
wv.setWebChromeClient(new WebChromeClient() {
    @Override
    public boolean onJsAlert(WebView view, String url, String message, JsResult result) {
                //Do what you need to after alert is received
                return super.onJsAlert(view, url, message, result);
       } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:06:33.190

编辑> 这可能不是最简单的解决方案，但它确实提供了额外的功能

当我创建类似的东西时，它适用于 4.1.2。警报给出了一个漂亮的、全息样式的弹出窗口。我使用了在线资源和[webchromeclient](http://developer.android.com/reference/android/webkit/WebChromeClient.html)（请参阅我之前的答案）。

但是，如果您想确保这有效，您可能需要查看Android Developers[的在 Webview 页面中构建 Web 应用程序。](http://developer.android.com/guide/webapps/webview.html)它解释了[JavaScriptInterface](http://developer.android.com/reference/android/webkit/WebView.html#addJavascriptInterface%28java.lang.Object,%20java.lang.String%29)。您可以使用它从您的 HTML 页面（本地或在线）耦合 javascript，但让它执行本机 Java 代码。

EG 你可以像这样使用 HTML

```
<input type="button" value="Click Me!" onClick="showAndroidToast('Hello World!')" />

<script type="text/javascript">
    function showAndroidToast(toast) {
        Android.showToast(toast);
    }
</script> 
```

添加这个类

```
public class JavaScriptInterface {
Context mContext;

/** Instantiate the interface and set the context */
    JavaScriptInterface(Context c) {
        mContext = c;
    }

    /** Show a toast from the web page */
    public void showToast(String toast) {
        Toast.makeText(mContext, toast, Toast.LENGTH_SHORT).show();
    }
} 
```

之后，将此代码添加到您提供的示例中。

```
myWebView.addJavascriptInterface(new JavaScriptInterface(this), "Android"); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-30T10:34:00.333

下面的代码来自我的生产环境并且完全可以工作，我已将`html`文件存储到我的`assest`文件夹中，然后将其访问到`Activity`.

**代码：**

```
String uri = "file:///android_asset/htmlpages/" + index + ".htm";
WebView wb = (WebView) findViewById(R.id.webView_Glossary);
wb.getSettings().setJavaScriptEnabled(true);
wb.loadUrl(uri); 
```

# javascript - 加快img加载

> ID：13136419
> 
> 赞同：0
> 
> 时间：2012-10-30T09:51:47.450
> 
> 标签：javascript

我有一组预加载的图像，我的页面上有九个 img 标签。当我将鼠标悬停在按钮上时，我想用数组中的图像随机替换和打乱九个 imgs。这一切都有效，但它运行缓慢，imgs 重新加载 src。我如何能

```
var arrayImg = new Array();

arrayImg[0] = new Image();

<img id="img0" > 
```

然后做：

```
document.getElementbyID("img0").src = arrayImg[random_ndx].src; 
```

有 9 张图片。

我在一台新的快速 pc 上运行 ie8，但图像变化有一个非常明显的滞后。所以，我的问题；如何将缓存图像（arrayImg [random_ndx]）直接分配给页面上的元素（）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T09:56:11.153

使用[`.replaceChild`](https://developer.mozilla.org/en-US/docs/DOM/Node.replaceChild).

```
local old = document.getElementbyID("img0")
old.parent.replaceChild(arrayImg[random_ndx], old) 
```

请注意，任何元素都不能位于页面上的多个位置，因此如果您从`arrayImg`某个位置放置元素然后使用它替换另一个图像，您将不会有两个图像，它将从其先前位置移动到新位置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T09:57:24.577

您可以加载图像并将其隐藏。然后你需要显示隐藏的图像。这就是我模拟缓存数组的方式。

# iphone - MPMoviePlayerViewController setCurrentPlaybackTime 到了错误的位置

> ID：13136420
> 
> 赞同：1
> 
> 时间：2012-10-30T09:51:48.337
> 
> 标签：iphone, ios, video, mpmovieplayer

我有一个应用程序，我在后台播放视频，过程非常简单，相同的行为无休止地重复。在用户手势上，电影播放几秒钟并暂停，只要用户没有按下主页按钮，应用程序就可以完美运行。当应用程序从后台转到前台时，视频将全黑，直到用户做出手势。

为了解决黑屏问题，我共享了播放器对象，然后在 AppDelegate.m <applicationDidBecomeActive> 中使用函数准备播放器

```
[sharedObj.player.moviePlayer prepareToPlay]; 
```

然后我将它的位置移动到应该在的位置（因为此时播放器返回到视频的起点），为此我调用了这个函数

```
[sharedObj.player.moviePlayer setCurrentPlaybackTime: whereItShouldBe]; 
```

我的问题来了，视频没有放在应有的位置。“whereItShouldBe”时间和“wherItIsCurrently”之间存在很大差异。

我使用对象标识符验证了它是同一个对象，那么是否有人已经遇到过类似的问题？或者有想法支持我。提前致谢。

* * *

## 更新

**已关闭**：未解决已关闭，请参阅问题下方的评论

# c# - 进程正在运行，从不工作

> ID：13136428
> 
> 赞同：1
> 
> 时间：2012-10-30T09:52:16.327
> 
> 标签：c#, .net, process, foreach

我一直遇到进程问题，我从来没有能够检查一个进程是否由于某种原因正在运行，我已经尝试了我可以通过谷歌找到的每一个代码片段，但没有任何效果。我也尝试过不同的文件。所以最后我会寻求帮助:)这是许多甚至无法检测到notepad.exe的片段：

```
public bool IsProcessOpen(string name) {
    foreach (Process clsProcess in Process.GetProcesses()){
        if (clsProcess.ProcessName.Contains(name)){
            return true;
        }
    }
    return false;
} 
```

我显然知道如何调用该方法，但与所有其他方法一样，它对于任何正在运行的文件都返回 false 。这是某种错误吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:58:34.673

你不会找到`notepad.exe`，因为它`ProcessName`只是`notepad`。

![在此处输入图像描述](../Images/11662c86abf42c1375cb1777e1dae7c0.png)

您可以使用以下方法修剪扩展：

```
Path.GetFileNameWithoutExtension(name) 
```

您还可以将方法主体减少到一行：

```
return Process.GetProcessesByName(Path.GetFileNameWithoutExtension(name)).Length > 0; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T09:58:47.267

你的方法很好。也许您遇到大小写问题？您可以通过在 if 语句中映射到大写来改进您的检查：

```
clsProcess.ProcessName.ToUpperInvariant().Contains(name.ToUpperInvariant()) 
```

然后`notepad`，将所有匹配的进程命名`Notepad`为。`NOTEPAD``notepad`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-10-07T07:56:10.080

它不适用于停止的工作过程。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-30T10:02:02.847

这一直对我有用

```
if(Process.GetProcessesByName("notepad").Length == 0)
{
    // do stuff
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-13T16:54:24.743

这将检查进程是否正在运行并更改按钮的颜色。确保您的名称正确：有些使用 dot exe，有​​些则没有。这是检查系统进程'。

```
 Process[] proc = Process.GetProcessesByName("iexplore");
        if (proc.Length == 0)
        {
            btnlogon.BackColor = Color.OrangeRed;
        }
        else
        {
            btnlogon.BackColor = Color.LightGreen;
        } 
```

# jquery - Sharepoint 2010 - 拖放界面

> ID：13136431
> 
> 赞同：0
> 
> 时间：2012-10-30T09:52:29.123
> 
> 标签：jquery, sharepoint, user-interface, drag-and-drop

我们在企业中使用 Sharepoint 2010。我想创建一种基于角色的界面的方式。并让用户根据自己的喜好拖放界面。

例如，如果用户是某个组的成员 -> 显示特定的 div 这将导致界面由一定数量的 div 或“框”组成，用户可以在页面上四处移动。类似于 Windows 8 中开始屏幕的工作方式。

这有多可行？我认为我可以使用 jQuery 来执行实际的拖放功能。但是如何为该特定用户保存更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T18:54:16.237

页面个性化是 Sharepoint 2010 的标准功能。用户可以通过拖放 Web 部件和添加新的 Web 部件来自定义他们的视图。请观看此视频：[http](http://www.youtube.com/watch?v=EeJltx2miUA) ://www.youtube.com/watch?v=EeJltx2miUA 。也许此功能将满足您的要求。

# java - 来自不同Maven模块的Autowire类？

> ID：13136433
> 
> 赞同：1
> 
> 时间：2012-10-30T09:52:36.920
> 
> 标签：java, spring, dependency-injection, autowired

我有一个具有以下结构的 Maven 项目：

```
spring-di-test
 +--spring-di-test-core
 |     com.example.core.DITestMain
 +--spring-di-test-store
       com.example.store.DITest
       com.example.store.RandomStringService 
```

其中 spring-di-test 是根项目，下面两个是模块。

我的课程如下所示：

*DITestMain 位于 spring-di-test-core*

```
public class DITestMain {
    public static void main(String[] args) {
        new DITest().run();
    }
} 
```

*applicationContext.xml 位于 spring-di-test-core 的资源文件夹中*

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                           http://www.springframework.org/schema/context 
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:spring-configured/>
    <context:component-scan base-package="com.example.*" annotation-config="true"/>

</beans> 
```

*DITest 位于 spring-di-test-store*

```
@Configurable(preConstruction = true)
@Controller
public class DITest {   
    @Autowired(required=true)
    private RandomStringService randomStringService;

    public void run() {
        System.out.println(randomStringService.getRandomString());
    }
} 
```

*位于 spring-di-test-store 中的 RandomStringService*

```
@Service("randomStringService")
public class RandomStringService {

    private final Random random;

    public RandomStringService() {
        random = new Random();
    }

    public String getRandomString() {
        StringBuilder sb = new StringBuilder();
        int length = random.nextInt(20);
        for (int i = 0; i < length + 1; i++) {
            sb.append(new Character((char) ('a' + random.nextInt(20))));
        }
        return sb.toString();
    }
} 
```

*applicationContext.xml 位于 spring-di-test-store*

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                           http://www.springframework.org/schema/context 
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:spring-configured/>
    <context:component-scan base-package="com.example.*" annotation-config="true"/>

</beans> 
```

当我运行 DITestMain 时，我得到了 randomStringService 的 NullPointerException。什么地方出了错？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:07:02.700

1：您没有在 main 方法中创建 Spring 上下文

2：您是否已完成所有必需的配置以启用加载时编织（以便您的`@Configurable`bean 可以工作）？

查看[http://static.springsource.org/spring/docs/3.0.x/reference/aop.html#aop-using-aspectj](http://static.springsource.org/spring/docs/3.0.x/reference/aop.html#aop-using-aspectj)并仔细阅读整章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:04:51.510

这将不起作用，因为您正在将类`DITestMain`作为 java 应用程序执行。并且您的应用程序上下文将不会被加载。您需要将其作为 Web 应用程序运行以进行测试。如果您将作为 Java 应用程序运行，则不会创建`randomStringService`in的对象，此时您将获得 NPE。`DITest`

希望这对您有所帮助。

# iphone - coredate mul_condition 过滤器

> ID：13136434
> 
> 赞同：0
> 
> 时间：2012-10-30T09:52:44.117
> 
> 标签：iphone, ios, core-data

我使用了codedate，我想用它`NSPredicate`来过滤结果。我有一个实体，有三个字段：from 和to。例如：

> 从 到 信息
> 
> AA BB 11111
> 
> aa cc y6767
> 
> bb aa 4545
> 
> bb dd 3434

所以我想得到`from=aa and to=bb`or `from =bb and to=aa`，所以结果是：

> 从 到 信息
> 
> AA BB 11111
> 
> bb aa 4545
> 
> NSPredicate *predicate = [NSPredicate predicateWithFormat:@"(from == %@) AND (to > %@) OR (from == %@) and (to == %@)",from, to,to ,from] ;
> 
> 或 NSPredicate *predicate = [NSPredicate predicateWithFormat:@"(from == %@) AND (to > %@) OR ((from == %@) and (to == %@))",from,to,to ，从];

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T18:01:14.903

尝试

```
 [NSPredicate predicateWithFormat:@"(from == %@ AND to == %@) OR (from == %@ AND to == %@)",
        from, to, to, from] 
```

# c# - ASP 更新面板

> ID：13136435
> 
> 赞同：-1
> 
> 时间：2012-10-30T09:52:48.407
> 
> 标签：c#, asp.net, ajax, jquery, updatepanel

我正在为 ASP.Net 网站实现购物篮功能（具有共同功能），每个购物篮项目（行项目）中有两个按钮，它们将增加/减少数量，还有一个删除按钮。我的购物篮页面需要 AJAX 方法。实现我的要求的最佳方法是什么？**使用 ASP 更新面板是个好主意吗？**我正在使用中继器来填充篮子。任何建议将不胜感激..

**编辑**
似乎人们发现这个问题有点无意义（对此感到抱歉）。我正在为篮子使用用户控件，这意味着不允许我在代码隐藏中直接使用 Web 方法。我在同一个控件中有凭证功能 + 邮政和包裹计算器，需要根据用户操作进行更新。

**解决方案**
最初通过使用 asp AJAX updatepanels 让所有这些东西按我的预期工作，然后在我看到响应后意识到这**不是一个好方法。**实现了一个简单的 Web 服务来使用 jQuery Ajax。我现在一切都好。快乐的时光 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:59:42.187

更新面板不是一个好的选择，因为您必须将整个转发器放入面板中，并且它将由 JavaScript 重新渲染。

我会选择“页面方法”。将这些方法添加到您的代码隐藏中：

```
[WebMethod]
public static void AddItem(int itemId)
{
    //code to increase quantity
}

[WebMethod]
public static void RemoveItem(int itemId)
{
    //code to decrease quantity
} 
```

然后从 JavaScript 调用这些方法。可以在[这里找到一篇关于页面方法的好文章](http://www.singingeels.com/Articles/Using_Page_Methods_in_ASPNET_AJAX.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:02:06.430

好吧，我不确定您要做什么，但是如果您需要增加或减少拖曳按钮，那么您需要为此问题进行一些编码，然后您需要将其放在更新面板中，您可以添加使用 UpdatePanelAnimationExtender 为其添加一些动画以使其看起来更好。

这就对了。

# objective-c - 在动态表视图上使用 SudzC

> ID：13136436
> 
> 赞同：0
> 
> 时间：2012-10-30T09:52:49.357
> 
> 标签：objective-c, ios, cocoa-touch, soap, sudzc

这是我第一次在 Cocoa-touch 框架上使用 Webservice，我成功地从控制台上的 Web 服务获取数据，但是当我尝试使用数组在 TableView 上传递它时，它什么也没做。我认为问题是，

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath; 
```

该方法不会将编译器传递给 compile 。即使它会工作，它也会将所有带有标签的数据都删除到表格文本中，因为使用：`cell.textLabel.text = [myDataCell objectAtIndex:indexPath.row];`

我如何在具有指定字段的动态 cell.text 上使用它们？任何帮助将不胜感激。

```
#import "ViewController.h"
#import "REQService.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize sorguTextField,sorguButton,sorguLabelOutput,name;

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

- (IBAction)getOutput:(id)sender {

    REQService* service = [REQService service];
    service.logging = YES;

    [service NumaradanIsimALL:self action:@selector(NumaradanIsimALLHandler:) msisdn:sorguTextField.text username: @"xxx" password:@"xxxxxxxxx"];

    myDataCell = [[NSMutableArray alloc ] initWithObjects:myData, nil];

}

#pragma notes - View Tables

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = nil;
    cell = [tableView dequeueReusableCellWithIdentifier:@"myCell"];

    if(cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"myCell"];
    }
    cell.textLabel.text = [myDataCell objectAtIndex:indexPath.row];
}
@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:44:46.440

看起来您还没有`NumaradanIsimALLHandler`在视图控制器类中实现 Web 服务响应处理程序方法。在您的代码中实现此方法，一旦您在此方法中获得响应，将其分配给 myDataCell 对象并重新加载表格视图（例如`[tableView reloadData]`）；

在这种情况下，您正在通过点击按钮进行异步 Web 服务调用，并且由于一旦加载视图就会调用表视图委托，因此您需要在 NumaradanIsimALLHandler 处理程序方法中重新加载表视图。

# html - 可以成对为 div 设置相等的高度，但前提是浏览器宽度为 960 或更宽？

> ID：13136443
> 
> 赞同：2
> 
> 时间：2012-10-30T00:49:27.710
> 
> 标签：html, css, javascript, jquery

我正在一个响应式网站上工作，我发现我有一对高度我希望相等的 div，但前提是浏览器宽度等于或大于 960 像素。任何比这更小的 div 堆栈，因此不同的高度不会产生影响。

```
DIV 1 | DIV 2
DIV 3 | DIV 4
DIV 5 | DIV 6
DIV 7 | DIV 8 
```

根据上述设置，Div 1 和 Div 2 需要与 Div 3 和 Div 4 一样高度，但两对不需要彼此相等。即对组可以有不同的高度，但每对必须相等。

这可能吗？如果可以，最好的方法是什么？我的 javascript/jQuery 相当初级。我确信我可以单独完成相同的高度，但是对于这对设置我不确定，然后添加需要将其设置为仅在浏览器为 960 或更宽并且我迷路时才会发生。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T05:28:30.850

要定位浏览器宽度，请使用 CSS3 媒体查询。有几种方法可以做到这一点......

在您现有的 CSS 文件中：

```
@media only screen and (min-device-width: 960px) {
/* css rules for those divs go here */
} 
```

或者，设置一个新的样式表并像这样调用它：

```
<link rel="stylesheet" type="text/css" media="only screen and (min-device-width: 960px)" href="big-screen.css" /> 
```

至于获得相等高度的 div，这里有一些方法：http: [//css-tricks.com/fluid-width-equal-height-columns/](http://css-tricks.com/fluid-width-equal-height-columns/) 这里还有一个 jQuery 方法：[http://www.broken-links。 com/2009/01/20/非常快等于高度列在 jquery/](http://www.broken-links.com/2009/01/20/very-quick-equal-height-columns-in-jquery/)

但我认为诀窍是已经在这些 div 上设置了一个类，以便您可以使用 CSS 和 jQuery 的组合来定位它们。如果是静态代码，那应该很容易。如果它是动态生成的，它将取决于输出。

# iis - 通过 IP 对子域进行威瑞信认证

> ID：13136445
> 
> 赞同：-1
> 
> 时间：2012-10-30T09:53:06.340
> 
> 标签：iis, ssl, https, certificate, verisign

我从 Verisign 购买了 SSL 安全站点。所以我已经配置了它并且它在[https://www.myExample.com](https://www.myExample.com)上运行良好，ip 是 123.123.123.123。

当我通过诸如 https://123.123.123.123 之类的 IP 访问服务器 url 时，ssl 被配置为域名“myExample.com”，我看到警告“此站点不安全..”

有了域的 ssl，还有一种方法可以为服务器 ip 更改（或调整）它（谁是完全相同的）？或者我必须只为作为网络主机名的 ip 购买新许可证？

谢谢！

大卫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:01:12.790

威瑞信不知道也不关心您的 IP 地址分配。您的证书包含您的域名的 DNS 名称，例如`www.myexample.com`. 如果您不希望浏览器抱怨签名无效，则必须正确配置 DNS。

如果您现在不想配置 DNS，可以暂时将自定义命名 IP 记录添加到`/etc/hosts`或`%WINDOWS%/system32/drivers/etc/hosts`。但是，这只会影响进行此更改的一台计算机，并且不建议这样做 - 只需修复 DNS！

# mysql - 选择不带 FROM 但多行

> ID：13136451
> 
> 赞同：7
> 
> 时间：2012-10-30T09:53:16.980
> 
> 标签：mysql, sql, select

如何在不从现有表中选择的情况下生成具有 2 行和 2 列的表？我正在寻找的是一个返回的选择语句，

例如

```
 id | value
 ---------
 1  | 103
 2  | 556 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-30T09:55:28.150

采用[`UNION`](http://dev.mysql.com/doc/refman/5.0/en/union.html)

```
SELECT 1 as id, 103 as value
UNION
SELECT 2 as id, 556 as value 
```

### [看到这个 SQLFiddle](http://sqlfiddle.com/#!9/a685f/1)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T09:57:01.433

您可以使用`UNION ALL`. 那么哪个是更好的选择`UNION`

```
SELECT 1 as id, 103 as value
UNION ALL
SELECT 2 as id, 556 as value 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T09:58:20.497

Sybase 回答，在 mysql 中尝试类似的东西

```
select "1" as id,"103" as value
union
select "2" ,"556" 
```

### 结果

`id | value`
`----------`
`1 | 103`
`2 | 556`

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-30T09:56:41.873

除非您想将数据硬编码到您的 SELECT 语句中，否则您将需要从表中选择。

# ios - 从 Json 下载并保存图像

> ID：13136452
> 
> 赞同：0
> 
> 时间：2012-10-30T09:53:20.860
> 
> 标签：ios, arrays, json

我有一个来自 Json 的数组 url 图像。

我想在应用程序中下载、保存和显示图像。检查应用程序中是否存在图像。

你能帮助我吗！

预先感谢

代码下载，保存并显示：->我不知道检查图像是否存在使用它：

```
for (int i=0; i<[self.imageURLs count]; i++) {
        if ([[NSFileManager defaultManager] fileExistsAtPath:[NSString stringWithFormat:@"img%d.jpg",i]]) {
            NSLog(@"file exists at the path");
        }
        else
            NSLog(@"file doesnt exist");

        int y_lblLogo = i==0 ? 45 : (20 * (i+1)) - 15 ;
        UIImage * imageFromURL = [self getImageFromURL:[self.imageURLs objectAtIndex:i]];

        [self saveImage:imageFromURL withFileName:[NSString stringWithFormat:@"img%d",i] ofType:@"png" inDirectory:documentsDirectoryPath];

        UIImageView *imgView = [[UIImageView alloc] initWithFrame:CGRectMake(200 * i, 0, 100, 100)];
        UIImage * imageFromWeb = [self loadImage:[NSString stringWithFormat:@"img%d",i] ofType:@"png" inDirectory:documentsDirectoryPath];
        imgView.image = imageFromWeb;

        [imgView drawRect:CGRectMake(0,y_lblLogo,70.f,30.f)];
        //[self.view addSubview:imgView];
    }

    -(UIImage *) getImageFromURL:(NSString *)fileURL {
              UIImage * result;
             NSData * data = [NSData dataWithContentsOfURL:[NSURL URLWithString:fileURL]];
            result = [UIImage imageWithData:data];
             return result; 
    }

    -(void) saveImage:(UIImage *)image withFileName:(NSString *)imageName ofType:(NSString *)extension inDirectory:(NSString *)directoryPath {
             if ([[extension lowercaseString] isEqualToString:@"png"]) {
                [UIImagePNGRepresentation(image) writeToFile:[directoryPath stringByAppendingPathComponent:[NSString stringWithFormat:@"%@.%@",
          imageName, @"png"]] options:NSAtomicWrite error:nil];
              } else if ([[extension lowercaseString] isEqualToString:@"jpg"] || [[extension lowercaseString] isEqualToString:@"jpeg"]) {
                 [UIImageJPEGRepresentation(image, 1.0) writeToFile:[directoryPath stringByAppendingPathComponent:[NSString
          stringWithFormat:@"%@.%@", imageName, @"jpg"]] options:NSAtomicWrite
         error:nil];
             } else {

            } 
    }

     -(UIImage *) loadImage:(NSString *)fileName ofType:(NSString *)extension inDirectory:(NSString *)directoryPath {
              UIImage * result = [UIImage imageWithContentsOfFile:[NSString stringWithFormat:@"%@/%@.%@", directoryPath, fileName, extension]];
              return result; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:09:57.057

这是您需要的完整代码：

```
- (UIImage *)imageFromURL:(NSString*) surl fromCache:(BOOL)fromCache
{
UIImage *img;
if(surl!=nil && [surl compare:@""]!=NSOrderedSame) {
    NSString* key = [self getFilenameFromUrl:surl];
    NSData *data = [self getDataFromURL:surl fromCache:fromCache];
    if(data) {
        img = [[UIImage alloc] initWithData:data];
    }
}
return img;
}

-(NSString*) getFilenameFromUrl:(NSString*) surl
{
NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@"[^a-zA-Z0-9\\._]"
                                                                       options:NSRegularExpressionCaseInsensitive
                                                                         error:nil];
return [regex stringByReplacingMatchesInString:surl options:0 range:NSMakeRange(0, [surl length]) withTemplate:@"_"];
}

-(NSString*) getCacheFolder {
    NSFileManager *filemgr = [NSFileManager defaultManager];
    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *sDocumentsDir = [documentPaths objectAtIndex:0];
    sDocumentsDir = [sDocumentsDir stringByAppendingPathComponent:@"/.tmp"];
    BOOL isDir;
    if(!([filemgr fileExistsAtPath:sDocumentsDir isDirectory:&isDir] && isDir))
    {
        [filemgr createDirectoryAtPath:sDocumentsDir withIntermediateDirectories:YES attributes:nil error:nil];
    }
    return sDocumentsDir;
}

-(NSData *) getDataFromURL:(NSString*) surl fromCache:(BOOL) fromCache
{
    NSData *urlData;

    if(surl!=nil && [surl compare:@""]!=NSOrderedSame) {
        surl = [surl stringByReplacingOccurrencesOfString:@" " withString:@"20"];
        NSFileManager *filemgr = [NSFileManager defaultManager];
        NSString *furl = [NSString stringWithFormat:@"%@/%@",[self getCacheFolder],[self getFilenameFromUrl:surl]];

        if (fromCache && [filemgr fileExistsAtPath: furl]==YES) {
            //NSLog (@"File exists");
            urlData = [filemgr contentsAtPath: furl];
        } else if([self hasConnection]){
            //NSLog (@"File not found");
            [UIApplication sharedApplication].networkActivityIndicatorVisible = YES;
            NSURL  *url = [NSURL URLWithString:surl];
            NSError *err;
            urlData = [NSData dataWithContentsOfURL:url options:NSDataReadingMappedIfSafe error:&err];
            if (!err && urlData)
            {
                [filemgr createFileAtPath: furl contents: urlData attributes: nil];
            } else {
                NSLog(@"%@",err);
            }
            [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;
        }
    }

    return urlData;
} 
```

此外，为了显示您可能会使用一些现有的组件，例如[FGallery](https://github.com/gdavis/FGallery-iPhone)。

# email - 如何使用 API 获取 IP 黑名单

> ID：13136456
> 
> 赞同：2
> 
> 时间：2012-10-30T09:53:43.867
> 
> 标签：email, dnsbl

我可以知道我的 IP 是否在某些黑名单中，例如 DNSBL。但是有没有我可以用它做同样工作的 API。特别是，我不想要 HTML 文本，我只想知道我的 IP 在黑名单中的位置，例如“127.0.0.1 YES”。谁能帮我？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-27T07:15:44.900

您**不需要 API 来检查黑名单**。

这是对黑名单 dns 区域的简单 dns 查询，例如`zen.spamhaus.org`

**示例**：

要在 dns 黑名单中查询 ip 10.11.12.13，您将从（反向 IP）+ 黑名单区域名称执行 dns 查询。

在我们的示例中，查询将为 13.12.11.10.zen.spamhaus.org，如果结果为 127.0.0.2，则将其列入黑名单，否则不列入黑名单

[在此处](http://www.adminkit.net/dnsbl.aspx)找到完整的工作示例和 dnsbl 列表

# c# - 声音信号频率。DFT C#

> ID：13136461
> 
> 赞同：1
> 
> 时间：2012-10-30T09:54:37.573
> 
> 标签：c#, .net, signal-processing, aforge, dft

> **可能重复：**
> [如何从 FFT 结果中获取频率](https://stackoverflow.com/questions/4364823/how-to-get-frequency-from-fft-result)

我有一个问题。我需要知道信号正常通过的频率。为了解决这个问题，我将麦克风应用到特定频率（例如 1000Hz）的声音，以及来自麦克风的缓冲区，以及上面的缓冲区花费 DFT（AForge.Math.FourierTransform.DFT）。采样频率 = 20480Hz。退出时，我有 complex(AForge.Math.Complex) 数组，包含 2048 个元素。我需要做什么才能找到给定频率的音量？如果我有错误的方法，请告诉我正确的方法。

# ios - iOS 应用程序可以部署在 iPod touch 设备上吗？

> ID：13136475
> 
> 赞同：0
> 
> 时间：2012-10-30T09:55:29.727
> 
> 标签：ios, xcode, ipod-touch, iphone-5

我正在开发适用于 iPhone 5 的 iOS 应用程序。由于我没有可用的 iPhone 5，只有 iPod touch，我尝试在 iPod 上对其进行调试。但是警告消息“没有可用的兼容 iOS 版本的预置 iOS 设备。将 iOS 设备与最新版本的 iOS 连接以运行您的应用程序或选择 iOS 模拟器作为目标。” 出现。

有同样问题的人吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:58:16.120

您是否已将 iPod 的 UDID 添加到您的开发者资料中？您的 iPod 是否安装了 iOS 6？

这就是错误消息告诉您的内容。

您需要安装具有正确操作系统版本的预配置设备才能将应用程序加载到该设备上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:51:23.897

确定我的问题。

该设备以前未用于开发。

1）首先必须去我的供应门户，

2）添加设备的UDID，

3) 将设备添加到开发配置文件

4) 下载配置文件，双击将其添加到 Xcode 的管理器

5) 在 Xcode 的管理器中选择设备（在本例中为 iPod touch），然后按下在该特定设备上启用开发的按钮。

现在可以正常工作了。因为我已经有一段时间没有添加新设备了，所以忘了做这个例程。

希望这会对某人有所帮助。亲切的问候。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T09:57:59.790

你需要为你的 iPod 的 iOS 版本开发你的应用程序（例如你的 iPod 在 iOS4 上，你需要为 iOS4 开发）

# c# - MVC2.0 中的异步控制器

> ID：13136476
> 
> 赞同：0
> 
> 时间：2012-10-30T09:55:34.033
> 
> 标签：c#, asp.net-mvc-2, asynccontroller

这是我在 MVC 2.0 中尝试的东西

```
public class SomeController : AsyncController
{  
    public void SampleAsync()
    {
        AsyncManager.OutstandingOperations.Increment();
        for(int i=0; i=100000; i++)
        {
        // Some Code... This loop is just for the testing.
        }
        AsyncManager.OutstandingOperations.Decrement();        
    }

    public ActionResult SampleCompleted(ActionResult result)
    {
        return result;
    }
} 
```

1.  我的问题是 SampleCompleted 的参数是什么，它是 ACTIONRESULT。我试图找出答案，但在每个地方我都会发现不同的东西。那么它到底是什么？？？
2.  我需要在我的 Global.ascx 文件中进行更改吗？像 RouteCollection.MapRoute 到 RouteCollection.AsyncMapRoute

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:07:11.450

1.  SampleCompleted 的一个或多个参数将是您在 AsyncManager.Parameters - 集合中指定的变量：

例如：

```
public void SampleAsync()
    {
        AsyncManager.OutstandingOperations.Increment();
        for(int i=0; i=100000; i++)
        {

        }
        AsyncManager.Parameters["myvariable"] = "variable value";
        AsyncManager.OutstandingOperations.Decrement();        
    }

    public ActionResult SampleCompleted(string myvariable)
    {
        //myvariable contains value "variable value"
        return result;
    } 
```

2\. 您无需进行更改。

# xaml - 在有限区域内绘制图像

> ID：13136477
> 
> 赞同：0
> 
> 时间：2012-10-30T09:55:34.083
> 
> 标签：xaml, directx, draw, xps, region

您好，我正在编写类似 .xps 查看器的代码。xps 文件的结构包含代表形状（fe 三角形）的对象，然后进入其中。对象代表图像。示例结构是

```
<canvas shape="....">
   <path src="a.jpg"/>
   <path src="b.jpg"/>
</canvas> 
```

我想绘制这两个图像，但仅在受其父节点（画布）限制的区域内，我将图像转换为位图。画布形状由一组点表示。我将在directx中绘制这个。感谢您的建议，Przemek

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T19:26:42.373

您可以为此使用模板缓冲区。

首先，在模板缓冲区中绘制画布的形状（将值设置为 1）。然后将设置更改为仅在模板值等于 1 的位置绘制并绘制其他形状。最后，清除模板缓冲区以供进一步使用。

# javascript - 如何将这个工作的本机 ES5 代码转换为使用下划线的 _.bind() ？

> ID：13136478
> 
> 赞同：2
> 
> 时间：2012-10-30T09:55:37.323
> 
> 标签：javascript, underscore.js, ecmascript-5

我有一个现有项目（遗憾地）使用 underscore.js 而不是 ES5 shim 来支持 IE8 和其他非 ES5 浏览器。我习惯 ES5，但一般不使用下划线。我已阅读[_.bind 上的下划线文档](http://underscorejs.org/#bind)并试图让它工作。

这是一个**使用原生 ES5 的工作示例**：

```
// Greets people
HelloThing = function (greeting) {
    this.greeting = greeting;

    this.waitAndSayHello = function() {
        setTimeout(function() { 
            console.log(this.greeting)
        }.bind(this), 500);
    }
}

var pretend_thing = new HelloThing('hello world');
pretend_thing.waitAndSayHello(); 
```

根据我对文档的理解，这是使用下划线的失败尝试：

```
// Greets people
HelloThing = function (greeting) {
    this.greeting = greeting;

    this.waitAndSayHello = function() {
        var greet = function() { 
            alert(this.greeting)
        }
        _.bind(greet, this)
        setTimeout(greet, 500);
    }
}

var pretend_thing = new HelloThing('hello world');
pretend_thing.waitAndSayHello();​ 
```

如何使下划线起作用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T09:58:05.240

该[`_.bind()`](http://underscorejs.org/#bind)方法*返回*一个绑定函数。你不会对返回的函数做任何事情。将其分配给某物并使用该引用而不是原始`greet`引用：

```
var greet = function() { 
    alert(this.greeting)
};
greet = _.bind(greet, this);
setTimeout(greet, 500); 
```

If you expand your ES5 example, you will see that this is effectively what is happening with the native `bind` method - you can just call directly on a function object since it's a property of `Function.prototype`:

```
var greet = function() {
    alert(this.greeting);
};
greet = greet.bind(this);
setTimeout(greet, 500); 
```

# android - onItemClick 选项更改背景颜色

> ID：13136481
> 
> 赞同：-1
> 
> 时间：2012-10-30T09:55:48.617
> 
> 标签：android

单击项目选项时，如何实现背景颜色或图像需要更改？

例如：listview 有两个选项 {item1, item2} 。默认颜色为灰色。单击 item1 后，背景颜色变为蓝色。点击item2后item1的颜色变回灰色，item2的背景色变为蓝色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:29:19.993

试试这个代码的选项菜单。

```
@Override
public boolean onOptionsItemSelected(MenuItem menu) {
    switch (menu.getItemId()) {

    case R.id.menuitem1:

        //Do background or color task here

        break;

        case R.id.menuitem2:

       //Do background or color task here

        break;

        default:
        break;
    }

    return true;
} 
```

# php - 查询以先排序即将到来的日期，升序，然后是过去的日期，降序

> ID：13136490
> 
> 赞同：0
> 
> 时间：2012-10-30T09:56:20.507
> 
> 标签：php, mysql, sql, date, sql-order-by

我有一个事件表，它以下列方式存储日期（m/d/Y）

```
eventid     eventstart      eventend    status
----------------------------------------------
      1     10/9/2012       10/27/2012  Active
      2     4/3/2012        4/27/2012   Active
      3     10/26/2012      10/27/2012  Active
      4     2/7/2012        2/9/2012    Active
      5     10/30/2012      10/31/2012  Active
      6     10/9/2012       10/31/2012  Active
      7     11/9/2012       10/19/2012  Active
      8     10/31/2012      10/18/2012  Active 
```

如果我有一个输入日期，例如 2012 年 10 月 29 日，那么我想按以下方式对开始日期进行排序

```
eventstart          
----------
10/30/2012
10/31/2012 
11/9/2012
10/26/2012
10/9/2012
10/9/2012 
```

谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:11:30.073

您可以在 order by 子句中使用[CASE 语法](http://dev.mysql.com/doc/refman/5.0/en/case.html)分别对两种情况进行排序：

```
SELECT *
FROM `events`
ORDER BY 
    CASE WHEN eventstart >= '2012-10-29' THEN eventstart ELSE '9999-12-31' END ASC, 
    CASE WHEN eventstart <  '2012-10-29' THEN eventstart ELSE NULL         END DESC

-- eventid | eventstart
-- --------+-----------
-- 5       | 2012-10-30
-- 8       | 2012-10-31
-- 7       | 2012-11-09
-- 3       | 2012-10-26
-- 1       | 2012-10-09
-- 6       | 2012-10-09
-- 2       | 2012-04-03
-- 4       | 2012-02-07 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:01:18.147

以一种非常示意性的方式：

```
select * from tablename where eventstart >= '10/29/2012' order by eventstart asc
union
select * from tablename where eventstart < '10/29/2012' order by eventstart desc 
```

第一行将获取未开始的事件，按升序排列，第三行将获取其余事件。

然后，您应该设法将这些日期与 SQL 函数进行真正的比较，并决定是否要将今天作为*未*开始的事件或*过去*的事件包括在内。我发布了第一个案例。如果您希望今天成为过去的事件，请从第一个比较中删除等号并将其移至第二个：

```
select * from tablename where eventstart > '10/29/2012' order by eventstart asc
union
select * from tablename where eventstart <= '10/29/2012' order by eventstart desc 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:01:08.593

```
select * from event where EXTRACT(MONTH FROM str_to_date(eventstart, '%d/%m/%Y'))>=EXTRACT(MONTH FROM str_to_date('10/29/2012', '%d/%m/%Y'))
and eventstart >'10/29/2012'
union
select * from event where EXTRACT(MONTH FROM str_to_date(eventstart, '%d/%m/%Y'))>=EXTRACT(MONTH FROM str_to_date('10/29/2012', '%d/%m/%Y'))
and eventstart <'10/29/2012' 
```

# android - Android - 动画意图但省略视图

> ID：13136500
> 
> 赞同：1
> 
> 时间：2012-10-30T09:56:57.173
> 
> 标签：android, android-intent, android-animation, android-view

我有几个`Activities`都包含一个`CustomView`标题栏。我需要制作一个`overridePendingTransition()`动画`Intent`。

有没有办法在将一个转换为另一个时不为标题栏设置动画`View`？就像让它只是粘在顶部......

希望你能理解我的问题！

**编辑：**

以下是其中之一的一些伪代码`Acitvities`：

```
<LinearLayout>
  <CustomView />
  <Linearlayout>
    ... (other views)
  </LinearLayout>
</LinearLayout> 
```

**编辑二：**

只是为了澄清我的问题：我有几个`Activities`都有相同的自定义标题栏。我需要为意图设置动画（从一个`Activity`到另一个）。我对任何逻辑都没有问题 - 我只需要标题栏保持在动画之前的位置。位置都是`Activity`一样的（在顶部）。

谢谢，

罗恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:30:22.550

根据您对 Gagan 的评论，我认为您混淆了视图和活动。您可以拥有一个 Activity，它会膨胀并使用所有保存在自己的文件和类中的视图和布局。除非我遗漏了某些东西，否则您对视图的个人逻辑都可以分解，并且只要它们可以访问父上下文，它们就可以与父上下文进行通信（如果需要）。

如果您的意图是让所有这些“活动”共享屏幕空间（在某些配置中），那么您肯定会混淆概念并且没有真正掌握视图的工作原理......请记住，视图可以是可以包含的布局任意数量的孩子（以及你需要让他们做任何你需要他们做的任何业务逻辑）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:11:28.757

从您的问题来看，标题栏似乎具有您的`Views`. 在这种情况下，您可以考虑将标题栏`Views`从. 现在将标题栏的单个实例放在包含您的. 如下所示：`CustomView``View``Views``CustomView`

![在此处输入图像描述](../Images/72ebce26d3d4513e7039c0f730398d20.png)

这样，当您从一个视图转换到另一个视图时，您的标题栏将保持静态并且不会设置动画。

**[编辑 - 多个替代方案`activities`]**

如果转换的选择不固定，那么您可以使用`alpha animation`从一个活动转换到另一个活动。我已经在我的一个应用程序中使用了它，并且按照您在查询中描述的那样工作。

创建`alpha animation`如下：

```
<?xml version="1.0" encoding="utf-8"?>
    <alpha xmlns:android="http://schemas.android.com/apk/res/android"
       android:interpolator="@android:anim/accelerate_interpolator"
       android:fromAlpha="0.0" android:toAlpha="1.0" android:duration="500" /> 
```

# jakarta-ee - XWork：如何验证动作是否存在

> ID：13136502
> 
> 赞同：0
> 
> 时间：2012-10-30T09:57:02.303
> 
> 标签：jakarta-ee, weblogic, xwork

我正在使用 weblogic 和 XWork。我有这个错误：

```
<Oct 30, 2012 9:06:14 AM GMT> <Notice> <Stdout> <BEA-000000> <ERROR dispatcher.ServletDispatcher - Could not find action
com.opensymphony.xwork.config.ConfigurationException: There is no Action mapped for namespace [XXXXX] and action name [YYY] 
```

这在我们使用的系统更新之前可以正常工作，所以它不是像 xwork.xml 中的错误配置这样的微不足道的错误。

我搜索了所有的 JAR，我有`[YYY]Servlet.class`。那是动作的类吗？还有什么其他原因导致无法找到 Action？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-13T15:45:40.773

如果该类正常存在，则操作应该存在。在我的情况下，错误在其他地方。

# oop - 无法在 Sf2 上的电子邮件字段上自定义错误消息

> ID：13136504
> 
> 赞同：1
> 
> 时间：2012-10-30T09:57:09.690
> 
> 标签：oop, symfony, symfony-2.0

我修改我的代码以遵循@Stony 的建议。

我想自定义我的电子邮件输入错误。我尝试按照[symfony2 教程](http://symfony.com/doc/current/book/forms.html#form-rendering-template)进行操作，但它不起作用。

我遵循 symfony 验证教程并创建了我的 yml 文件，但是当我用错误的地址填充我的电子邮件字段时，错误显示仍然是 symfony 默认错误，而不是我的自定义消息...

```
/**
 *
 * @Route("/info")
 */
class InfoController extends BaseController
{
    public function contactusAction(Request $request)
    {   
    $constraint = new Collection(array('email' => new Email(array('message' => 'Adresse email invalide')),));

    $contact = new ContactUs(); 
    $form = $this->createFormBuilder($contact)
        ->add('nom', 'text')
        ->add('mail', 'email')
        ->add('sujet', 'choice', array('choices' => array('pt' => 'Problemes techniques', 'bi' => 'Boite a idees', 'd' => 'Divers')))
        ->add('msg', 'textarea')
        ->getForm();
    }
} 
```

这是我的看法

```
<form action="" method="post" {{ form_enctype(form) }} class="contactus">
        {{ form_errors(form) }}
        <div>
            {{ form_label(form.nom, 'Nom : ') }}
            {{ form_errors(form.nom) }}
            {{ form_widget(form.nom) }}
            </div>
            <div>
            {{ form_label(form.mail, 'Email : ') }}
            {{ form_errors(form.mail) }}
            {{ form_widget(form.mail) }}
            </div>
        <div>
            {{ form_label(form.sujet, 'Sujet : ') }}
            {{ form_errors(form.sujet) }}
            {{ form_widget(form.sujet) }}
            </div>
        <div>
            {{ form_label(form.msg, 'Message : ') }}
            {{ form_errors(form.msg) }}
            {{ form_widget(form.msg) }}
            </div>
        <input type="submit" value="Envoyer" />
        {{ form_rest(form) }}
    </form> 
```

这是我的 yml 文件

```
PROJECT\CoreBundle\Entity\ContactUs:
    properties:
        mail:
            - Email:
                message: Adresse email invalide. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:18:11.447

我认为错误信息很清楚：

```
$form = $this->createFormBuilder($contact, array('constraints' => $constraint)) 
```

没有第二个选择`constraint`。我不知道你的目标是什么，但这不是正确的方法。

如果您想要一些验证，您应该查看教程中的**[创建表单类](http://symfony.com/doc/current/book/forms.html#creating-form-classes)**。在那里您可以看到如何定义 Form 和 Type 类以及如何在字段上设置[验证。](http://symfony.com/doc/current/book/forms.html#adding-validation)

更多信息：[验证](http://symfony.com/doc/current/book/validation.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:18:25.697

使用字段[`constraints`](http://symfony.com/blog/form-goodness-in-symfony-2-1#custom-field-constraints)上的选项`mail`而不是表单本身。

对于 Symfony 2.0，使用[这个](http://symfony.com/doc/2.0/book/forms.html#adding-validation).

# c# - 文本框验证错误提供程序未清除

> ID：13136505
> 
> 赞同：2
> 
> 时间：2012-10-30T09:57:17.060
> 
> 标签：c#, errorprovider

如果按下/输入了任何错误的字符，我必须向用户显示一个图标，所以我正在使用 error_provider。

在我的情况下，error_provider 不会消失，如果它是文本框中的有效数字。这里的misatek是什么？

```
 string text = t_LongitudeRadTextBox.Text;
bool hasDigit = text.Any(letter => Regex.IsMatch(t_LongitudeRadTextBox.Text, "^[0-9]$"));
// Call SetError or Clear on the ErrorProvider.
if (!hasDigit)
{
    errorProvider1.SetError(t_LongitudeRadTextBox, "Needs to contain a digit");
}
else
{
    errorProvider1.Clear();
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-30T10:01:45.160

[如文档](http://msdn.microsoft.com/en-us/library/system.windows.forms.errorprovider.clear.aspx)中所述，调用`errorProvider1.Clear();`是不够的，您需要给它一个空字符串。像`SetError(t_LongitudeRadTextBox, "")`

> 要清除错误消息，请调用 SetError 方法并为 String 值传入 Empty。这会从指定的 Control 中删除错误字形。

# java - 线程中的 NoClassDefFoundError

> ID：13136509
> 
> 赞同：4
> 
> 时间：2012-10-30T09:57:47.067
> 
> 标签：java, multithreading, classpath

嗨，我在运行线程时遇到异常 NoClassDefFoundError。当我在没有线程的情况下执行时，这个过程运行良好，但是当我执行 start 方法时，我在不同的语句中得到了这个错误

线程是否有可能与主线程有不同的类路径？

感谢编辑添加代码

运行方法：

```
public void run(){
    try{
        boolean startAction = HeapThread.addAction(idCliente, idThread, Constants.ACTION_CREATE_TOPIC);
        if (!startAction) {
            synchronized (this){
                this.wait();
            }
        }
        createTopic();
    }
    catch(Exception ex){
        log.error("Error", ex);
    }
    finally {
        Long nextIdThread = HeapThread.getNextAction(idCliente, idThread, Constants.ACTION_CREATE_TOPIC);
        if (nextIdThread > 0){
            log.debug("Thread");
            ThreadState thread = HeapThread.getState(nextIdThread);
            synchronized (thread) {
                thread.notify();
            }
        }
    }
} 
```

createTopic() 函数调用 searchBlog() 我称之为

```
try{
        sessionId = SessionWS.createSession(url, false);
        CrawlerSearch crawler = new CrawlerSearchAPIService(new URL(url + Constants.URL_CRAWLER), new QName(Constants.QNAME_CRAWLER, "CrawlerSearchAPIService")).getCrawlerSearchAPIPort();
        // para cada topico obtnemos 10 blogs
        for (Long idTopic : blogsTopics.keySet()) { 
```

...

完全例外是：

```
java.lang.NoClassDefFoundError: com/befasoft/common/business/webservices/client/Session
at com.befasoft.common.business.webservices.client.SessionAPIService.getSessionAPIPort(SessionAPIService.java:56)
at com.befasoft.common.business.webservices.SessionWS.createSession(SessionWS.java:21)
at com.humanlike.web.tools.Crawler.searchBlogs(Crawler.java:50)
at com.humanlike.web.theads.CreateTopic.createTopic(CreateTopic.java:164)
at com.humanlike.web.theads.CreateTopic.run(CreateTopic.java:63) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:50:58.603

Solver，我只需要指定线程类加载器

```
ct.setContextClassLoader(ClassLoader.getSystemClassLoader()); 
```

感谢 Anantha Sharma 指导我

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:20:15.347

我的猜测是`com.befasoft.common.business.webservices.client.Session`以前失败了`ExceptionInInitializerError`. 这`NoClassDefFoundError`为后续调用提供了支持。从头开始检查日志。

# c# - 如何控制从数据库信息创建

> ID：13136511
> 
> 赞同：0
> 
> 时间：2012-10-30T09:57:48.760
> 
> 标签：c#, sql-server, webforms, controls, custom-controls

我的项目不止一页。假设用户需要在一个页面中添加新控件，它可能是任何控件**，例如：DDL/ TextBox /Button**，用户可以**灵活**地配置此控件。我的项目有一个**配置**页面，用户为特定页面创建此自定义控件。在配置页面用户定义的波纹管信息

```
1)Control type.
2)control datasource
3)ControlDisplay properties
4)Control  transaction stored tables and  columns(table and column’s are  already created).
5)In UI ,Store  custom control view position related information.
6)Custom control action method(suppose user set textbox ,it’s show sum of two column of any 
```

具体表，用户必须定义​​动作过程）

为了提供上述信息，我使用下面的表格，但这些表格存储的信息未能满足我的要求

![在此处输入图像描述](../Images/539101f6b8a611f9a90e3a7f4eff8a93.png)

请不要向我展示如下语法，我知道如何在 ui 中添加动态控件，我需要将控件相关信息存储在 db 中，然后根据这些信息需要创建控件。帮助我存储控件相关信息，如 action/方法过程，UI上的视图位置，控件视图信息，控件数据源等，总之控件相关的所有信息

```
Button button1=new Button();
button1.Text="dynamic button";
button1.Left=10; button1.Top=10;  //the button's location
this.Controls.Add(button1); 
```

需要帮助设置自定义控件和控件相关信息，如果有人有更好的想法或任何类型的建议来解决这个问题，我将非常感谢他提供的宝贵信息，任何类型的信息都可以接受。如果有任何疑问请询问，谢谢提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T12:50:09.200

*   我认为将 html 存储到数据库的最简单方法可以随时重复使用，并且您还可以在存储的 html 页面执行时从控件中获取价值。您必须以不同的方式获取价值，例如在 asp.net 中您想要从中获取价值你使用的 asp 文本框`textbox1.Text`insted 这个你必须使用`Request.Form`

# iphone - 你知道 iOS 应用商店中有哪些通过 MGWT+phonegap 完成的应用吗？

> ID：13136512
> 
> 赞同：3
> 
> 时间：2012-10-30T09:57:49.303
> 
> 标签：iphone, mobile, mgwt

由于我们有 GWT 编码背景，而且从 GWT 切换到 MGWT 更容易，我们正在考虑使用 MGWT 进行长期移动项目。MGWT 背后是否有任何社区支持它或只有一个人？你知道 iOS 应用商店中有哪些通过 MGWT+phonegap 完成的应用吗？任何通过 MGWT 完成的移动网站直播？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:38:59.673

我们用 mgwt 创建了一个 B2B 应用程序。“d.3 smart mobile”是我们公司文件管理系统的前端。

iOS： [https ://itunes.apple.com/de/app/d.3-mobile/id391833193?mt=8](https://itunes.apple.com/de/app/d.3-mobile/id391833193?mt=8)

安卓： [https](https://play.google.com/store/apps/details?id=com.dvelop.mobile.d3mobile.android&feature=search_result#?t=W251bGwsMSwyLDEsImNvbS5kdmVsb3AubW9iaWxlLmQzbW9iaWxlLmFuZHJvaWQiXQ) ://play.google.com/store/apps/details?id=com.dvelop.mobile.d3mobile.android&feature=search_result#?t=W251bGwsMSwyLDEsImNvbS5kdmVsb3AubW9iaWxlLmQzbW9iaWxlLmFuZHJvaWQiXQ ..

我们在 iOS 上只有几个错误。其中大部分是因为 iOS 6 更新。这些错误在 apache cordova 中，而不是在 mgwt 中。

*更新：对于 Android，浏览器中存在更多问题（cordova 使用内部 webview）。其中许多错误在 MGWT 中已解决，因此您不必关心。但是对于一般的 Android，如果您打算编写 HTML5 网站/应用程序，特别是对于 2.3 和 4.1 以上的 Android 设备，您必须了解很多浏览器错误*

有一个用户组[https://groups.google.com/forum/?fromgroups#!forum/mgwt](https://groups.google.com/forum/?fromgroups#!forum/mgwt)

社区正在迅速发展。

MGWT 是一种带有内置动画处理程序的小部件框架。MGWT 中有许多错误修复，这将减少对特殊移动 CSS 知识的需求。

d.3 mobile的浏览器版本为：http: [//mobiledemo.d-velop.de :8080/mobile110](http://mobiledemo.d-velop.de:8080/mobile110)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-22T17:02:16.420

Daniel Kurka 是领导非常活跃的 MGWT 社区的人。他还是[GWT 项目背后的 Google 团队的](https://groups.google.com/forum/?fromgroups=#!topic/mgwt/SKcQp408RDg)一员，并且[是 StackOverflow 的活跃成员](https://stackoverflow.com/users/201251/daniel-kurka)

现在，在商业应用程序上。以下是所有成功的 PhoneGap 应用程序的列表，其中大部分是使用 GWT/MGWT 完成的：

[http://phonegap.com/app/](http://phonegap.com/app/)

因此，如果您担心自己是唯一使用**GWT/MGWT**进行移动的人，那么答案是；不，我们很多人都在做同样的事情，分享和支持他人，所以不要因此而失眠。

# ios - 应用程序在 IOS 5.0 上运行，但在 IOS 5.1 上不运行

> ID：13136526
> 
> 赞同：0
> 
> 时间：2012-10-30T09:58:34.527
> 
> 标签：ios, objective-c, core-data, ios-simulator, stanford-nlp

我正在尝试通过遵循斯坦福大学 Paul Hegarty 的教程创建的应用程序进行测试。

[您可以在此处](http://www.stanford.edu/class/cs193p/cgi-bin/drupal/system/files/sample_code/Photomania_0.zip)找到下载链接。

当我在 IOS5.0 模拟器上测试它时，它工作正常。但是当我在 IOS 5.1 模拟器上测试它时。它什么也没做。有人可以在他们的模拟器中测试它并告诉我它是否有效吗？

您只需下载它，并填写此 API-key。在 FlickrAPI-key.h

```
95f1f522e7332485662d0b1dfbba6544 
```

亲切的问候。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:22:45.880

这在 iOS 5.1 模拟器中确实不起作用。

（第一个）问题似乎出现在第 76 行的 PhotographersTableViewController.m 中，`openWithCompletionHandler:`在 a 上被调用`UIManagedDocument`，但由于某种原因，完成处理程序从未被调用，即使它应该[根据文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDocument_Class/UIDocument/UIDocument.html#//apple_ref/doc/uid/TP40010879-CH2-SW5)调用。

其他人也有这个问题：

*   [UIManagedDocument OpenWithCompletionHandler 永远不会返回](https://stackoverflow.com/questions/12439528/uimanageddocument-openwithcompletionhandler-never-returns)
*   [UIManagedDocument CompletionHandler 未在 iOS 5.1 模拟器中执行，但适用于设备和 iOS 6.0 模拟器](https://stackoverflow.com/questions/12577672/uimanageddocument-completionhandler-not-executed-in-ios-5-1-simulator-but-works)
*   [使用 UIManagedDocument 的 iPhone Simulator 5.1 和 Xcode 4.5 中的错误](https://stackoverflow.com/questions/12557442/bug-in-iphone-simulator-5-1-with-xcode-4-5-using-uimanageddocument)

对我来说，这看起来像是 iOS 5.1 中的一个错误——但可能只是在模拟器中，而且可能只有在使用 iOS 6.0 SDK 时才会出现。我没有配备 iOS 5.1 的设备，因此无法对其进行测试，但它似乎在 iOS 6.0 模拟器上运行良好。

# asp.net-mvc-3 - 向管理员和用户显示不同的视图

> ID：13136530
> 
> 赞同：0
> 
> 时间：2012-10-30T09:58:50.410
> 
> 标签：asp.net-mvc-3

我希望向管理员和用户显示我的 Action 方法的不同视图：

```
public ActionResult Create()
{
    CreateIssue issue = new CreateIssue();
    if (user.SupportAdmin)
    {
        return View("Admin/Create", issue);
    }

    return View(issue);
} 
```

然后我的视图看起来像这样：

```
@model myApp.Models.CreateIssue
@{
    ViewBag.Title = "IT HelpDesk - Create a new Issue";
}

@Html.Partial("_Create") 
```

我已将内容放在 Partial`_Create`中，因为大多数内容都是相同的，但我想在 Admin 视图中添加一个额外的输入，该输入将位于我的`_Create`局部视图的中间。我不知道该怎么做，我确实尝试`section`在我的管理员创建视图中渲染一个在部分内部调用的视图，但它们只允许在`_Layout`我认为的页面上使用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T14:51:38.117

你可以只使用if语句吗？

```
@if(User.IsInRole("Administrator"))
{
    @*Put input here*@
} 
```

# android - 引起：android.os.NetworkOnMainThreadException

> ID：13136539
> 
> 赞同：24
> 
> 时间：2012-10-30T09:59:31.393
> 
> 标签：android, android-emulator, android-parser, networkonmainthread

嗨所有观众和读者，我正在使用[链接](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)。每当我在单独的包中运行此代码时，它都可以正常工作，但是每当我尝试将此示例嵌入我的应用程序时，不幸的是应用程序已停止，只有当我单击调用它的特定选项卡的选项卡时，Logcat 才会说：-

```
Caused by: android.os.NetworkOnMainThreadException
10-30 15:07:35.341: E/AndroidRuntime(732):  at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117), 
```

请告诉我我需要做什么才能使它对我有用，除了这个特定的标签整个应用程序工作正常。

```
 10-30 15:07:26.770: D/dalvikvm(732): GC_FOR_ALLOC freed 61K, 3% free 8035K/8259K, paused 39ms, total 46ms
    10-30 15:07:26.781: I/dalvikvm-heap(732): Grow heap (frag case) to 8.481MB for 614416-byte allocation
    10-30 15:07:26.850: D/dalvikvm(732): GC_CONCURRENT freed 1K, 4% free 8634K/8903K, paused 27ms+13ms, total 71ms
    10-30 15:07:26.881: D/dalvikvm(732): GC_FOR_ALLOC freed 0K, 4% free 8634K/8903K, paused 28ms, total 28ms
    10-30 15:07:26.900: I/dalvikvm-heap(732): Grow heap (frag case) to 9.798MB for 1382416-byte allocation
    10-30 15:07:26.970: D/dalvikvm(732): GC_CONCURRENT freed 0K, 4% free 9984K/10311K, paused 28ms+5ms, total 72ms
    10-30 15:07:27.110: D/gralloc_goldfish(732): Emulator without GPU emulation detected.
    10-30 15:07:30.591: D/dalvikvm(732): GC_FOR_ALLOC freed 675K, 8% free 9875K/10695K, paused 33ms, total 62ms
    10-30 15:07:30.671: D/dalvikvm(732): GC_FOR_ALLOC freed 519K, 9% free 9806K/10695K, paused 30ms, total 31ms
    10-30 15:07:30.740: D/dalvikvm(732): GC_FOR_ALLOC freed 310K, 10% free 9713K/10695K, paused 28ms, total 29ms
    10-30 15:07:30.751: I/dalvikvm-heap(732): Grow heap (frag case) to 10.488MB for 1000016-byte allocation
    10-30 15:07:30.820: D/dalvikvm(732): GC_CONCURRENT freed <1K, 9% free 10690K/11719K, paused 25ms+5ms, total 74ms
    10-30 15:07:30.911: D/dalvikvm(732): GC_FOR_ALLOC freed 0K, 9% free 10690K/11719K, paused 36ms, total 36ms
    10-30 15:07:30.931: I/dalvikvm-heap(732): Grow heap (frag case) to 12.633MB for 2250016-byte allocation
    10-30 15:07:31.030: D/dalvikvm(732): GC_CONCURRENT freed 0K, 8% free 12887K/13959K, paused 32ms+16ms, total 93ms
    10-30 15:07:31.211: D/dalvikvm(732): GC_FOR_ALLOC freed 3683K, 30% free 10314K/14599K, paused 35ms, total 38ms
    10-30 15:07:31.211: I/dalvikvm-heap(732): Grow heap (frag case) to 11.439MB for 1382416-byte allocation
    10-30 15:07:31.360: D/dalvikvm(732): GC_CONCURRENT freed <1K, 21% free 11663K/14599K, paused 81ms+5ms, total 144ms
    10-30 15:07:31.551: D/dalvikvm(732): GC_FOR_ALLOC freed 2555K, 32% free 9936K/14599K, paused 32ms, total 38ms
    10-30 15:07:31.561: I/dalvikvm-heap(732): Grow heap (frag case) to 10.706MB for 1000016-byte allocation
    10-30 15:07:31.701: D/dalvikvm(732): GC_CONCURRENT freed 1K, 26% free 10912K/14599K, paused 78ms+16ms, total 139ms
    10-30 15:07:31.770: D/dalvikvm(732): GC_FOR_ALLOC freed 0K, 26% free 10912K/14599K, paused 31ms, total 31ms
    10-30 15:07:31.770: I/dalvikvm-heap(732): Grow heap (frag case) to 12.850MB for 2250016-byte allocation
    10-30 15:07:31.871: D/dalvikvm(732): GC_CONCURRENT freed 0K, 11% free 13109K/14599K, paused 29ms+6ms, total 91ms
    10-30 15:07:32.060: D/dalvikvm(732): GC_FOR_ALLOC freed 1134K, 11% free 13102K/14599K, paused 35ms, total 39ms
    10-30 15:07:32.070: I/dalvikvm-heap(732): Grow heap (frag case) to 14.162MB for 1382416-byte allocation
    10-30 15:07:32.150: D/dalvikvm(732): GC_FOR_ALLOC freed <1K, 10% free 14451K/16007K, paused 36ms, total 36ms
    10-30 15:07:32.161: I/Choreographer(732): Skipped 460 frames!  The application may be doing too much work on its main thread.
    10-30 15:07:35.280: D/AndroidRuntime(732): Shutting down VM
    10-30 15:07:35.280: W/dalvikvm(732): threadid=1: thread exiting with uncaught exception (group=0x40a13300)
    10-30 15:07:35.341: E/AndroidRuntime(732): FATAL EXCEPTION: main
    10-30 15:07:35.341: E/AndroidRuntime(732): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.erachnida.restaurant.versionoct/com.erachnida.restaurant.versionoct.CustomizedListView}: android.os.NetworkOnMainThreadException
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.ActivityThread.startActivityNow(ActivityThread.java:1900)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:135)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:347)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:694)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.widget.TabHost.setCurrentTab(TabHost.java:358)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.widget.TabHost$2.onTabSelectionChanged(TabHost.java:150)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.widget.TabWidget$TabClickListener.onClick(TabWidget.java:546)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.view.View.performClick(View.java:4084)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.view.View$PerformClick.run(View.java:16966)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.os.Handler.handleCallback(Handler.java:615)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.os.Handler.dispatchMessage(Handler.java:92)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.os.Looper.loop(Looper.java:137)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.ActivityThread.main(ActivityThread.java:4745)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at java.lang.reflect.Method.invokeNative(Native Method)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at java.lang.reflect.Method.invoke(Method.java:511)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at dalvik.system.NativeStart.main(Native Method)
    10-30 15:07:35.341: E/AndroidRuntime(732): Caused by: android.os.NetworkOnMainThreadException
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at java.net.InetAddress.lookupHostByName(InetAddress.java:385)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at java.net.InetAddress.getAllByName(InetAddress.java:214)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at com.erachnida.restaurant.versionoct.XMLParser.getXmlFromUrl(XMLParser.java:45)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at com.erachnida.restaurant.versionoct.CustomizedListView.onCreate(CustomizedListView.java:42)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.Activity.performCreate(Activity.java:5008)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
    10-30 15:07:35.341: E/AndroidRuntime(732):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
    10-30 15:07:35.341: E/AndroidRuntime(732):  ... 18 more
    10-30 15:07:42.250: I/Process(732): Sending signal. PID: 732 SIG: 9 
```

# youtube - 带有 AMF 消息的 YouTube 分辨率切换

> ID：13136542
> 
> 赞同：0
> 
> 时间：2012-10-30T09:59:44.463
> 
> 标签：youtube, resolution, amf

我正在 Wireshark 上捕捉 YouTube 视频。我可以在 itag=34 上看到带有元数据信息的 FLV 文件：

```
...K.........
onMetaData.......duration.@.y.C.....starttime..........     
totalduration.@.y.C.....width.@.........height.@v....... videodatarate.@v.....|.    
audiodatarate.@`.=ET8N. totaldatarate.@~.z..m+..framerate.@7...f...
bytelength.A~....... canseekontime...
sourcedata.. 
```

现在，我将分辨率切换到 480p，因此 itag 更改为 35，但视频不会从开始位置开始，而是从 360p 停止的下一个时间戳开始，并且切换发生，因此 FLV 的这个新片段没有元数据信息。相反，我可以看到如下 amf 消息：

```
.'bytelength_low_word.....)bytelength_high_word...width..V
height..`.video_duration...Y.audio_duration...F.avc.W......M@.....gM@....=..............H..
.h.. .aac.%...................timestamp..K.. 
```

现在，我需要为新片段制作标头以馈送到我的 FLV 解析器，但我无法理解 AMF 消息结构以及如何为 FLV 解析器制作新标头。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T17:34:26.990

看看[http://charlesproxy.com](http://charlesproxy.com)。它理解 AMF。

# c# - 使用另一个更轻的对象序列化具有虚拟属性的对象

> ID：13136543
> 
> 赞同：2
> 
> 时间：2012-10-30T09:59:47.333
> 
> 标签：c#, asp.net-mvc-3, entity-framework, serialization

我有一个类，它有许多延迟加载的虚拟属性

```
public class TestPlan
{
    public virtual ICollection<Test> Test { get; set; }
    public virtual Commercial Commercial { get; set; }
    ...
} 
```

并且这个类必须在程序的后面进行序列化。问题是，由于这些属性是虚拟的，我每次尝试序列化它时都会遇到错误（循环引用）。**现在这是我的问题**：

*我的老板告诉我使用他所谓的 View Object，它是同一个对象，但没有未使用的属性。*你觉得这怎么样？我应该将那些未使用的属性设置为 null 还是什么？

**背景**：

序列化对象旨在用于基础网格（一个不错的数组）。我已经尝试`[ScriptIgnore]`在我的虚拟机上使用该属性，但没有奏效。

我还尝试检索我的 TestPlans，`database.TestPlans.AsNoTracking().ToList()`但出现错误（当使用 NoTracking 合并选项返回对象时，只有在 EntityCollection 或 EntityReference 不包含对象时才能调用 Load。）

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:13:00.293

如果您的老板指的是带有视图对象的 DataTransferObject，那么他似乎正朝着正确的方向前进。这有时也称为 ASP 中的 ViewModel 对象。这只是一个简单的 POCO，表示模型对象的扁平化版本（有些使用 AutoMapper 进行扁平化）

您不应该修改模型对象，而是创建一个新对象（可能是扁平化的）以进行序列化。这个对象没有行为，只有数据，代表序列化的契约。

我无法从您的示例代码中看到循环引用，但如果您愿意，我可以给您一个不相关的代码示例，展示如何通过展平来解决循环引用。（不知道型号很难做到）

# railo - Railo 日志文件轮换管理

> ID：13136544
> 
> 赞同：1
> 
> 时间：2012-10-30T09:59:49.350
> 
> 标签：railo, cfml

在我的 Railo 服务器上，日志文件在 5 MB 时旋转。我想增加那个大小或者我想保留更多的日志文件备份。我怎么做？我错过了什么配置文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-09T08:11:10.017

据我所知，目前没有这方面的用户界面，但他们有很多选择。

最好的配置方法是查看您网站的 WEB-INF/railo-web.xml.cfm 文件。在那里你可以看到一个块，上面写着：

```
<logging>
    <logger .../>
</logging> 
```

除了 logger appender="resource" （即附加到文件）之外，还有很多选项，您可以在文件的内联注释中看到，目前说（在我的版本是 Railo 4.2.0.007 beta）

```
Resource:
Logs error to a resource (locale file, ftp, zip, ...)
- path: path to the locale file
-charset (default:resource charset): charset used to write the file
- maxfiles (default:10): maximal files created
- maxfilesize (default:1024*1024*10): the maxial size of a log file created 
```

因此，对于您的用例，您应该添加以下内容：

```
<logging>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/remoteclient.log" layout="classic" level="info" name="remoteclient"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/requesttimeout.log" layout="classic" name="requesttimeout"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/mail.log" layout="classic" name="mail"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/scheduler.log" layout="classic" name="scheduler"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/trace.log" layout="classic" name="trace"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/application.log" layout="classic" level="info" name="application"/>
    <logger appender="resource" maxfilesize="5242880" appender-arguments="path:{railo-config}/logs/exception.log" layout="classic" level="info" name="exception"/>  
</logging> 
```

（我没有测试过 maxsize calc，所以你的里程可能会有所不同）

# c# - 插入后数据集不反映新的主键

> ID：13136552
> 
> 赞同：1
> 
> 时间：2012-10-30T10:00:06.580
> 
> 标签：c#, dataset, sql-update, auto-increment

这是我在这里的第一个问题，请原谅我这种呈现风格。

我有一个`categories`包含以下列的 MySQL 表：

*   c_id（*自动递增*）
*   c_code
*   c_name

这是我想做的；

*   数据集包含一个表 -`categories`
*   向数据集添加一行（新类别）
*   `mysqldataadaptor`使用's`update()`方法更新数据库
*   在 datagridview 中查看数据集条目

问题是在我插入新行后，我的数据集的相关行没有显示最后插入的主键（自动生成的主键）。但它显示了价值。

这是我添加新行的代码

```
var dr = ds.Tables["categories"].NewRow();
    dr["c_code"] = "tst123";
    dr["c_name"] = "123tdt";
ds.Tables["categories"].Rows.Add(dr); 
```

这是我更新数据库的代码

```
adp.Update(ds.Tables[tempTableName]); 
```

最后这就是我在上面一行**之后不久查看数据集的方式**

```
dataGridView1.DataSource = ds.Tables["categories"]; 
```

问题：
仅在 gridview 中`c_code`并`c_name`出现在那里。

如何获取最后插入`id`数据集？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:38:16.420

我猜你必须做一个新的 adp.Fill(ds) 来获取 ID。您只提供 c_code 和 c_name。因此，c_code 和 c_name 是网格中唯一填充的列。adp.Update 更新您的数据库，由于显而易见的原因，它不会在更新后重新加载整个数据集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-15T10:22:37.053

您可以使用 DataAdapter 的 RowUpdated 事件来查询最后插入的 ID 并更新当前行：

```
...
adp.RowUpdated += DataAdapter_RowUpdated; // Add this once to your DataAdapter
adp.Update(ds.Tables[tempTableName]);
...

private void DataAdapter_RowUpdated(object sender, MySqlRowUpdatedEventArgs e)
{
  if (e.StatementType == StatementType.Insert)
  {
     string sql = "select last_insert_id()";
     MySqlCommand cmd = new MySqlCommand(sql, e.Command.Connection);
     e.Row["c_id"] = cmd.ExecuteScalar();
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-15T19:35:29.277

这对我有用：它在 VB 中，但你可以看到发生了什么。

```
mySQLdataAdapter.Update(myDataSet, table)
mySQLcommand.CommandText = "Select Last_Insert_ID();"
lastInsertID = dc.ExecuteScalar() 
```

即使我正在使用数据集，在 mysql 适配器更新后立即运行此代码也会提供最后插入的 ID。

# css - 空类定义陷阱？

> ID：13136555
> 
> 赞同：2
> 
> 时间：2012-10-30T10:00:09.797
> 
> 标签：css, class, optimization

每隔一段时间，我都会定义一个空的 CSS 类，例如

```
.empty{} 
```

使我能够在 jQuery 中轻松操作整个 DOM 元素序列。据我目前所见，所有主要浏览器都允许我侥幸逃脱。但是，我想知道...是否有任何 W3C 指南可能意味着有一天浏览器会删除/忽略此类空类声明？我已经扫描了，哦，太干了，W3C 文档，但找不到与该主题非常相关的任何内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:08:18.077

据我了解，您只需将此类用作挂钩即可通过 jQuery 获取所需的元素。没有错，将永远有效（或直到僵尸启示录）。

浏览器永远不会启动，只会*删除*任何完全有效的元素。

我很勇敢地说“从不”:-D

但是对于完全没有属性的类，不需要 CSS 声明。但这也不痛。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:09:26.950

您可以在 jQuery 代码中随意使用类名。jQuery 不要求您在代码中使用的每个类名都必须有相应的样式定义。

例如：如果您使用一个名为的类`selected`来识别所有选定的元素，则您的 css 中不需要`.selected {}`定义。

# asp.net - 第三方支付提供商和响应式网页设计

> ID：13136556
> 
> 赞同：1
> 
> 时间：2012-10-30T10:00:13.260
> 
> 标签：asp.net, responsive-design, payment-processing, realex-payments-api

我希望将第三方支付提供商与我的 ASP.NET 应用程序集成，该应用程序实现响应式网页设计，即它旨在在移动设备上很好地呈现并扩展到桌面。

在与第三方支付提供商 Realex Payments 集成时，我注意到这并不是为了在移动设备上很好地呈现而设计的。

是否有任何第三方支付提供商具有更适合移动设备的外观和感觉？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:05:47.433

试用`Google Checkout` [API](https://developers.google.com/checkout/)

这是 Google 仅用于移动应用程序的支付网关工具，您可以在使用媒体查询时在响应式设计中轻松设置。

# android - 从 google play 下载应用后如何自动提示用户执行操作？

> ID：13136567
> 
> 赞同：0
> 
> 时间：2012-10-30T10:01:03.763
> 
> 标签：android, google-play

我是新手`android`。我想 - 我是否可以配置我的应用程序，以便当它安装在设备上时，它应该以从 google play 下载应用程序的类似方式自动启动（即，安装后将出现一个带有两个按钮的新屏幕“打开”和“完成”提示用户在应用程序启动之前执行某种操作）。我想知道这个功能是内置在`android`操作系统中还是其中的应用程序是否以这样的方式`google play`编码（其中的东西`manifest`），以便在安装后它应该提示用户执行操作？我用谷歌搜索了它，我找不到任何令人满意的解释。大多数解释都是出于安全原因。在这个问题上的任何帮助或指导都是非常值得赞赏的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:13:27.640

你不需要在你的配置中`manifest`，无论如何你不能这样做。`Android`会处理的。如果您将一些示例`apk`文件复制到 Android 手机（或者是`phone memory/SD card`）并单击它，将打开一个窗口要求安装。安装后，将显示另一个窗口，其中有两个选项：`OPEN, DONE`。如果您从 下载应用程序，也会发生同样的事情`Google Play`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:04:31.457

幸运的是，出于安全原因，您不能这样做。用户需要手动启动应用程序。旧版本的 android 有一些技巧，但这些都是固定的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:11:33.020

你不能那样做。

为什么用户第一次打开应用程序时没有配置屏幕？这是常用的方法。

在 SharedPreferences 上存储一个布尔值，例如“isFirstRun”，以了解您是否应该显示配置屏幕。

# c# - 每次都将datagridview记录导出到新的excel

> ID：13136576
> 
> 赞同：1
> 
> 时间：2012-10-30T10:01:19.093
> 
> 标签：c#

我正在做一个项目..我需要将 datagridview 记录导出到 excel 文件..我尝试了以下解决方案

```
using System;
using System.Windows.Forms;
using System.Data;
using System.Data.SqlClient;
using Excel = Microsoft.Office.Interop.Excel; 

namespace WindowsApplication1
{
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    private void button1_Click(object sender, EventArgs e)
    {
        SqlConnection cnn ;
        string connectionString = null;
        string sql = null;

        connectionString = "data source=servername;initial catalog=databasename;user                                   id=username;password=password;";
        cnn = new SqlConnection(connectionString);
        cnn.Open();
        sql = "SELECT * FROM Product";
        SqlDataAdapter dscmd = new SqlDataAdapter(sql, cnn);
        DataSet ds = new DataSet();
        dscmd.Fill(ds);

        dataGridView1.DataSource = ds.Tables[0];
    }

    private void button2_Click(object sender, EventArgs e)
    {
        Excel.Application xlApp ;
        Excel.Workbook xlWorkBook ;
        Excel.Worksheet xlWorkSheet ;
        object misValue = System.Reflection.Missing.Value;

        xlApp = new Excel.ApplicationClass();
        xlWorkBook = xlApp.Workbooks.Add(misValue);
        xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);
        int i = 0;
        int j = 0; 

        for (i = 0; i <= dataGridView1.RowCount  - 1; i++)
        {
            for (j = 0; j <= dataGridView1.ColumnCount  - 1; j++)
            {
                DataGridViewCell cell = dataGridView1[j, i];
                xlWorkSheet.Cells[i + 1, j + 1] = cell.Value;
            }
        }

        xlWorkBook.SaveAs("csharp.net-informations.xls",      Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue);
        xlWorkBook.Close(true, misValue, misValue);
        xlApp.Quit();

        releaseObject(xlWorkSheet);
        releaseObject(xlWorkBook);
        releaseObject(xlApp);

        MessageBox.Show("Excel file created , you can find the file c:\\csharp.net-informations.xls");
    }

    private void releaseObject(object obj)
    {
        try
        {
            System.Runtime.InteropServices.Marshal.ReleaseComObject(obj);
            obj = null;
        }
        catch (Exception ex)
        {
            obj = null;
            MessageBox.Show("Exception Occured while releasing object " + ex.ToString());
        }
        finally
        {
            GC.Collect();
        }
    }

} 
```

}

但上述解决方案总是覆盖相同的 Report.xls 文件..我每次都需要将记录复制到一个新的 excel 文件中..我需要对此的专家建议..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:16:32.987

在这一行中，您始终使用相同的文件名：

```
xlWorkBook.SaveAs("csharp.net-informations.xls",      Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue); 
```

您可以尝试将时间戳记到文件名中，例如：

```
string fileName = "csharp.net-informations" + DateTime.Now.ToString("MM-dd-yyyy-hh-mm-ss") + ".xls";
xlWorkBook.SaveAs(filename, Excel.XlFileFormat.xlWorkbookNormal, misValue, misValue, misValue, misValue, Excel.XlSaveAsAccessMode.xlExclusive, misValue, misValue, misValue, misValue, misValue); 
```

# java - 在java中读取打开的流直到结束

> ID：13136578
> 
> 赞同：0
> 
> 时间：2012-10-30T10:01:23.633
> 
> 标签：java, inputstream, telnet, apache-commons-net

我从 apache 的 telnet 客户端获取输入流。每次我向 telnet 客户端发送命令时，它都会将终端输出写回 InputStream，但此流在 telnet 会话之前保持打开状态。

现在我想要一种方法来读取该流上的数据直到结束。由于流始终处于打开状态，因此无法确定问题是否结束。我发现的一种解决方法是读取数据直到遇到特定字符（在大多数情况下）。但是提示会根据命令不断变化，我无法知道命令执行后会是什么。

SO上有一个类似的问题可以更好地解释它，但没有答案：

[InputStream 的问题](https://stackoverflow.com/questions/11351474/problems-with-inputstream)

请帮忙...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:12:15.870

您需要生成一个单独的线程来阅读。出于您所面临的原因，您不能只是在一个线程上以“乒乓”方式进行。

顺便说一句：你现在链接的问题有一个公认的答案。它建议不要将 CPU 驱动到 100% 负载，这是一个非常好的建议 :)

然而，该`read`方法会阻塞，因此您只需将其放入线程中的循环中，并在收到某些内容时回调。结束循环并在 IOException 或“-1”上终止线程并从此过上幸福的生活:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T10:51:17.653

最后我确实使用了超时。所以基本上，我这样做了，如果字符在 1 秒内不可用，然后放弃。而不是 inputStream.read() 我使用了这个：

```
private char readChar(final InputStream in){
        ExecutorService executor = Executors.newFixedThreadPool(1);
        //set the executor thread working
        Callable<Integer> task = new Callable<Integer>() {
            public Integer call() {
               try {
                   return in.read();
               } catch (Exception e) {
                  //do nothing
               }
               return null;
            }
         };

         Future<Integer> future = executor.submit(task);
         Integer result =null;
         try {
              result= future.get(1, TimeUnit.SECONDS); //timeout of 1 sec
          } catch (TimeoutException ex) {
              //do nothing
          } catch (InterruptedException e) {
             // handle the interrupts
          } catch (ExecutionException e) {
             // handle other exceptions
          } finally {
              future.cancel(false);
              executor.shutdownNow();
           }

         if(result==null)
             return (char) -1;
        return  (char) result.intValue();
    } 
```

# java - 如何在java中使用GridBagLayout和box？

> ID：13136585
> 
> 赞同：0
> 
> 时间：2012-10-30T10:01:40.560
> 
> 标签：java, swing, gridbaglayout

我正在使用 GridBagLayout 作为面板。我想在下面添加组件作为图片。但无法将标签药物处方放在标签实习生下。 **有人知道怎么做吗？**

```
GridBagLayout gridbaglayout = new GridBagLayout();
        TGridBagConstraints constraints = new TGridBagConstraints();
        northPanel = new WebPanel(gridbaglayout);
        northPanel.setBorder(new EmptyBorder(5,5,5,5));

// *** PackComboBox row
        constraints.setGxGyGwGhWxWyFillAnchor(0, 0, 1, 1, 0.0, 0.0, TGridBagConstraints.HORIZONTAL, TGridBagConstraints.NORTHWEST);
        gridbaglayout.setConstraints(PackComboBox, constraints);
        northPanel.add(FerPackComboBox);

        constraints.setGxGyGwGhWxWyFillAnchor(1, 0, 1, 1, 0.0, 0.0, TGridBagConstraints.HORIZONTAL, TGridBagConstraints.NORTHWEST);
        gridbaglayout.setConstraints(approveButton, constraints);
        northPanel.add(approveButton);

        constraints.setGxGyGwGhWxWyFillAnchor(2, 0, 1, 1, 0.0, 0.0, TGridBagConstraints.HORIZONTAL, TGridBagConstraints.NORTHWEST);
        WebLabel internLabel = PrescriptionSummaryUtil.createCustomLabel("Intern",new Font("SansSerif",Font.BOLD,20),Color.decode("#ABB202").darker() );
        gridbaglayout.setConstraints(internLabel, constraints);
        northPanel.add(internLabel);

        constraints.setGxGyGwGhWxWyFillAnchor(5, 0, 1, 1, 0.0, 0.0, TGridBagConstraints.HORIZONTAL, TGridBagConstraints.NORTHWEST);
        gridbaglayout.setConstraints(patientInfoBox, constraints);
        northPanel.add(patientInfoBox);

        // *** Medication PerscriptionLabel row
        constraints.setGxGyGwGhWxWyFillAnchor(1, 1, 2, 0, 0.0, 0.0, TGridBagConstraints.NORTHEAST, TGridBagConstraints.NORTHEAST);
        WebLabel medicationPerscriptionLabel = PrescriptionSummaryUtil.createCustomLabel("Medication perscription",new Font("SansSerif",Font.BOLD,20),Color.decode("#ABB202").darker() );
        gridbaglayout.setConstraints(medicationPerscriptionLabel, constraints);
        northPanel.add(medicationPerscriptionLabel); 
```

![在此处输入图像描述](../Images/6561b7e7491abd9a1ba3898d243c29e0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:10:24.370

生成满足您的要求的代码并不容易，因为我不熟悉您用来生成约束的 API...

但是，以下代码将产生...

![在此处输入图像描述](../Images/09f9aa0684b6582fcf1e57e78794a9cd.png)

```
public class BadLayout {

    public static void main(String[] args) {
        new BadLayout();
    }

    public BadLayout() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException ex) {
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new LayoutPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    protected class LayoutPane extends JPanel {

        public LayoutPane() {
            setLayout(new GridBagLayout());

            JLabel intern = new JLabel("Intern");
            JLabel med = new JLabel("Medication perscription");

            JPanel box = new JPanel(new GridBagLayout());
            box.setBorder(new LineBorder(Color.BLACK));
            GridBagConstraints gbc = new GridBagConstraints();
            gbc.weightx = 1;
            gbc.weighty = 1;
            gbc.fill = GridBagConstraints.BOTH;
            gbc.insets = new Insets(40, 40, 40, 40);
            box.add(new JLabel("I'm a box"), gbc);

            gbc = new GridBagConstraints();
            gbc.weightx = 1;
            gbc.gridx = 0;
            gbc.gridy = 0;
            gbc.anchor = GridBagConstraints.NORTH;
            add(intern, gbc);

            gbc.gridy++;
            gbc.weighty = 1;
            add(med, gbc);

            gbc.weighty = 0;
            gbc.weightx = 0;
            gbc.gridx = 1;
            gbc.gridy = 0;
            add(box, gbc);                
        }                        
    }        
} 
```

# drupal - Drupal Views 具有包含多个术语的分类术语

> ID：13136591
> 
> 赞同：6
> 
> 时间：2012-10-30T10:01:48.273
> 
> 标签：drupal, drupal-7, drupal-modules, drupal-views, drupal-taxonomy

早上好，

我正在开发一个网站，我正在努力解决这个问题：

我有一个这样的链接：mywebsite.com/aliments/fruit/banana。

在创建页面 aliments 的视图中，我只想显示同时检查水果和香蕉的条款。

我的分类术语是这样的：

水果

```
-Banana

-Apple 
```

鱼

```
-Sardine 
```

等等...

所以我同时检查了标签水果和香蕉。

如果有人可以帮助我，有些我无法做到。

谢谢，佩德罗·迪亚斯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T11:02:15.107

在`manage view`页面中，转到部分`Filter criteria`并单击`Add`。

然后选择`Content: Has taxonomy term`你想要使用的词汇和两个术语。

希望这会有所帮助……穆罕默德。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T17:31:42.027

您可以对分类参数（上下文过滤器）执行验证，以确保它是词汇的一部分。

我会制作视图 Ailments/Fruit/% 的路径

如果您有其他词汇表，请分别填写 Ailments/Foo/% 和 Ailments/Bar/%

如果需要，您可以使用视图显示在所有这些视图之间共享一些功能。

# php - How to design little complicated application in CodeIgniter?

> ID：13136594
> 
> 赞同：0
> 
> 时间：2012-10-30T10:01:50.397
> 
> 标签：php, codeigniter, design-patterns, one-to-many, has-and-belongs-to-many

Im writing web application based on database with many tables with many relations.

For example i have table with [Items], which has many relations.

Each [Item] has one [Group]

Each [Item] has multiple [Ingredients]

Each [Ingredient] has one [Type]

My code is going out of control. I wrote "edit_item_record" form that is filled with fields like "name" or "id", but i have problems with dropdowns and sub-items.

I dont know how to create form that has everything related with [Item] on one page (Name, Group, Ingredients). Submitting form like this may need multiple inserts or updates on many tables. **How to handle this?**

Does anyone saw any tutorial for CodeIgniter that describes how to design application bigger than blog with 1 table and 2 fields?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:30:36.703

You're not going to get this kind of thing through a tutorial, you need to take what you learned in the blog type tutorials and apply it to your situation. In my application simply adding a product can affect as many as 7 tables.

This is more a question about workflow than anything. You need to sit down with a pen and a pad and map out how things work, how your tables relate and the flow to add the data. Before you start coding you need to understand how to add data, which tables require information from others before you can insert etc. Take for example a simple product, you have basic data in the product table and another table for product images. Obviously in this case you'd need to insert the product table first to get an id to add to the images table. Yes you are going to end up with multiple inserts, in fact when adding a new member my routine inserts to one table twice due to the way the data works.

Take your time and map it out. This is a situation where no one tutorial is going to help, it's about you looking at your tables and data flow logically and putting it together.

As to putting all the data on one form that is the easy part. Simply pull the data in your controller using a query with joins. Something along these lines.

Controller:

```
$data['products'] = $this->product->getAllProductDetails($productId); 
```

Model:

```
$this->db->where('productId',$productId);
$this->db->join('product_images','product_images.productId=products.productId');
$this->db->join('manufacturers','manufacturers.manufacturerId=products.productId');
$this->db->get('products'); 
```

The above would pull all the product, product images and manufacturer information into the variable $products for you to use in your view. Then on your save button you would have another controller function that would individually call saves (insert or update, personally I have a save function that decides which is required) for each of those tables

# c++ - 内部 if 语句杀死向量化

> ID：13136598
> 
> 赞同：2
> 
> 时间：2012-10-30T10:02:04.933
> 
> 标签：c++, gcc, compiler-optimization, vectorization

我有以下 for 循环。当我打开类型数组时，代码不会矢量化。当我将类型固定为“1”时，gcc 会执行一个 primitize 矢量化矢量化。有没有人有任何建议来触发某种矢量化？

```
#define type(M,N) type[(M)*sizeX + (N)]
for (int i = 0; i < sizeY - 1; i++)
{
    for (int j = 0; j < sizeX - 1; j++)
    {
       const int id = type(i, j);
       //const int id = 1; //vectorizes
       const float A = this->A[id];
       const float B = this->B[id];
       a(i, j) = A * a(i, j) + B * (b(i, j) - b(i + 1, j))*(p[i]);
    }
 } 
```

gcc 4.7.1 的近似错误

```
45: not vectorized: not suitable for gather A_26 = *D.14145_25; 
```

编辑 1

所有数组都存储为指针，并使用**restrict**关键字定义为某个类的成员。

编辑 2

`type`如果 ' ' 很小，我能做些什么吗？

编辑 3

小意味着 8。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T10:16:36.203

不同之处在于内存访问。

当 时`id = 1`，以下数组加载成为单元素向量广播。

```
 const float A = this->A[id];
 const float B = this->B[id]; 
```

但是当 时`id = type[(i)*sizeX + (k)]`，内存访问是跨步的（不连续的）。

SSE 和 AVX 中的向量加载和存储只能在：

1.  连续的内存块。
2.  或者从广播到整个向量的单个元素。

它们无法处理跨步内存访问，您从内存的不同部分加载每个向量元素。

AVX2 将支持这种“聚集/分散”指令。

* * *

要解决编辑问题：

如果`i`in`type(i, j)`不是零，则内存访问仍然是跨步的。所以很难矢量化。（我说“困难”而不是“不可能”，因为编译时间确定的步幅非常小——尽管效率降低了。）

您在这里遇到的核心问题是您正在向下迭代矩阵的行。如果没有收集/分散支持，这不仅不能矢量化，而且对缓存也不利。

我不确定您要完成什么任务，但您可能需要考虑不同的数据布局以获得最佳性能。

# php - 将特定类别查询添加到 wordpress 中的现有 MySQL 查询

> ID：13136600
> 
> 赞同：0
> 
> 时间：2012-10-30T10:02:09.150
> 
> 标签：php, mysql, wordpress

我仍然只处于 MySQL 的初学者阶段，并且想知道如何为此添加特定类别。

```
SELECT DISTINCT DATE_FORMAT(post_date, '%b') AS month , 
  MONTH(post_date) as numMonth, YEAR( post_date ) AS year, 
  COUNT( id ) as post_count 
FROM $wpdb->posts 
WHERE post_status = 'publish' and post_date <= now( ) and post_type = 'post' 
GROUP BY month , year ORDER BY post_date DESC 
```

我发现此代码用于获取类别`uncategorized`...

```
SELECT * FROM wp_posts p 
LEFT OUTER JOIN wp_term_relationships r ON r.object_id = p.ID     
LEFT OUTER JOIN wp_terms t ON t.term_id = r.term_taxonomy_id 
WHERE p.post_status = 'publish' AND p.post_type = 'post' 
  AND t.slug = 'uncategorized' 
```

我试过`UNION ALL`了，但这阻止了任何东西的出现。如果我试图学习这些东西，也许我走得太远了，因为我什至无法让查询的第二部分自行工作。

谢谢

编辑：作为对第一个响应的回应，请添加此代码以进一步解释我在做什么，它是一个档案小部件，每年然后每月显示。我还没有找到一种简单的方法来做到这一点，并求助于“更好的档案小部件”。这是他们已包含在我希望更改的文件中的代码。如果有使用`query_posts`Id 的更简单方法，请对此持开放态度。

```
global $wpdb;
    $prevYear = "";
    $currentYear = "";
    if ( $months = $wpdb->get_results( "SELECT DISTINCT DATE_FORMAT(post_date, '%b') AS month , MONTH(post_date) as numMonth, YEAR( post_date ) AS year, COUNT( id ) as post_count FROM $wpdb->posts WHERE post_status = 'publish' and post_date <= now( ) and post_type = 'post' GROUP BY month , year ORDER BY post_date DESC" ) ) {
    echo '<ul>';
        $count = 0;
        foreach ( $months as $month ) {

            $currentYear = $month->year;
            if ( ( $currentYear != $prevYear ) && ( $prevYear != "" ) ) { echo "</ul></li>"; }
            if ( $currentYear != $prevYear ) {  
             $count++ ?> 
            <li class="baw-year"><a href="<?php echo get_year_link( $month->year ); ?>"><?php echo $month->year; echo ' ('.$month->post_count . ')' ; ?> </a>
            <ul class="baw-months">
            <?php
            }   ?>
            <li class="baw-month"><a href="<?php echo get_month_link( $month->year, $month->numMonth ); ?>"><?php echo date('F', strtotime ($month->month)); ?><?php /*echo ' ' . $month->year;  */ ?></a></li>
            <?php
            $prevYear = $month->year;
        }//end foreach
    }
    ?>
    </ul></li> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T13:08:25.530

您是否有理由不使用[query_posts()](http://codex.wordpress.org/Function_Reference/query_posts)？（您可以在查询中使用的参数在[这里](http://codex.wordpress.org/Class_Reference/WP_Query#Parameters)。）使用 query_posts 更安全一些（并且已经内置在 WordPress 中） - 使用这样的自定义查询，您需要确保使用 $wpdb->prepare 等. 以确保无法注入查询。但是使用 query_posts，您可以添加分类法、帖子类型、帖子状态、排序方式、日期/时间等，它会为您编写查询并提取您需要的内容。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-06-06T09:15:31.207

1.  尝试使用此代码显示类别帖子 -

    get_results(" SELECT * FROM $wpdb->posts 左连接 $wpdb->term_relationships ON ($wpdb->posts.ID = $wpdb->term_relationships.object_id) 左连接 $wpdb->term_taxonomy ON ($wpdb->term_relationships .term_taxonomy_id = $wpdb->term_taxonomy.term_taxonomy_id) WHERE $wpdb->posts.post_status = 'publish' AND $wpdb->term_taxonomy.taxonomy = 'category' AND $wpdb->term_taxonomy.term_id = 3**(你的类别id)** ORDER BY post_date ASC "); ?>
2.  您可以检查“term_taxonomy.term_id”的“wp_terms”表，即。您的类别 ID。

3.  此外，您可以通过单击管理面板中特定类别名称下方的编辑按钮来获取您的类别 ID，您将在 url 中看到 id。

# c# - 反序列化 xml 时忽略未知类型

> ID：13136601
> 
> 赞同：7
> 
> 时间：2012-10-30T10:02:10.457
> 
> 标签：c#, .net, xml-deserialization

我有这个代码：

```
[XmlType( "Metadata" )]
[Serializable]
public class MetadataContainer : List<MetadataBase>
{
}

[XmlType( "Meta" )]
[XmlInclude( typeof( ReadonlyMetadata ) )]
[Serializable]
public abstract class MetadataBase
{
}

[XmlType( "Readonly" )]
[Serializable]
public class ReadonlyMetadata : MetadataBase
{
}

[TestFixture]
public class SerializationTests
{
    [Test]
    public void Can_deserialize_with_known_type()
    {
        const string text = @"<Metadata xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
                        <Meta xsi:type=""Readonly"" />
                    </Metadata>";

        var serializer = new XmlSerializer( typeof( MetadataContainer ) );
        var metas = (MetadataContainer)serializer.Deserialize( XmlReader.Create( new StringReader( text ) ) );

        Assert.That( metas.Count, Is.EqualTo( 1 ) );
        Assert.That( metas.First(), Is.InstanceOf<ReadonlyMetadata>() );
    }

    [Test]
    public void Can_deserialize_with_unknown_type()
    {
        const string text = @"<Metadata xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
                        <Meta xsi:type=""Hello"" />
                    </Metadata>";

        var serializer = new XmlSerializer( typeof( MetadataContainer ) );
        var metas = (MetadataContainer)serializer.Deserialize( XmlReader.Create( new StringReader( text ) ) );

        Assert.That( metas.Count, Is.EqualTo( 0 ) );
    }
} 
```

第一个测试有效，但是当我运行第二个测试时，出现此错误：

> System.InvalidOperationException : XML 文档 (2, 9) 中存在错误。----> System.InvalidOperationException：无法识别指定的类型：name='Hello', namespace='', at 。

我希望它忽略无法识别的类型，而不是收到此错误。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-31T07:50:25.490

**类似问题的通用解决方案：**

看看[未知元素事件（链接）](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.unknownelement.aspx "未知元素事件")和[未知属性事件（链接）](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer.unknownattribute.aspx)，看看它们是否解决了问题，否则我们必须弄脏。继续阅读...

**这个问题的工作解决方案**

请记住，我不知道您的任务是什么，AFAIK 它将 xml 序列化到您的数据结构中。如果您可以更改数据结构，我建议您查看 Linq2XML 并为您的目的创建一个智能工厂。

```
[TestMethod]
public void TestLinq2Xml()
{
  const string text = @"<Metadata xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
                            <Meta xsi:type=""Readonly"" />
                            <Meta xsi:type=""Garbage"" />
                      </Metadata>";

  // Get the "names" of all implementors of MetadataBase
  var types = AppDomain.CurrentDomain.GetAssemblies().ToList()
     .SelectMany(s => s.GetTypes())
         .Where(p => typeof(MetadataBase).IsAssignableFrom(p) && !p.IsAbstract && !p.IsInterface)
         .Where(t => t.GetCustomAttributes(typeof(XmlTypeAttribute), false).Any())
         .Select(t => t.GetCustomAttributes(typeof(XmlTypeAttribute), false)
             .Cast<XmlTypeAttribute>().First().TypeName);

  // Create a parser
  var parser = new XmlSerializer(typeof(MetadataBase));

  // Create metadatacontainer to fill
  var metas = new MetadataContainer();
  // Fill it with matching from from the XML
  metas.AddRange((from t in XDocument.Parse(text).Descendants("Meta")
                where types.Contains(t.Attribute(XName.Get("type", "http://www.w3.org/2001/XMLSchema-instance")).Value)
                select (MetadataBase)parser.Deserialize(t.CreateReader())).ToList());

  // Should be one guy present
  Assert.AreEqual(metas.Count, 1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-15T12:37:52.063

捕获数组中的所有未知元素。您仍然可以使用它们并稍后尝试反序列化，但这允许反序列化完成。您将需要在您定义的每个类中使用它来反序列化您怀疑会有未知元素的元素。

根据[http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlanyelementattribute.aspx](http://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlanyelementattribute.aspx)：

```
Public Class XClass
    ' Apply the XmlAnyElementAttribute to a field returning an array 
    ' of XmlElement objects.
    <XmlAnyElement()> Public AllElements() As XmlElement
End Class 'XClass 
```

# facebook - facebook js sdk登录不起作用

> ID：13136604
> 
> 赞同：0
> 
> 时间：2012-10-30T10:02:16.673
> 
> 标签：facebook, oauth, permissions

我有一个应用程序作为管理员，一切都作为测试用户工作 - 没有！

我的代码是：

var fbAsyncInit = 函数（） {

```
 FB.init({
        appId  : [APP_ID],
        status : true, // check login status
        cookie : true, // enable cookies to allow the server to access the session
        xfbml  : true,
        oauth  : true
    });

FB.login(function(response)
{
    if (response.session)
    {
        if (response.perms)
        {
            alert('user is logged in and granted some permissions: ' + response.perms);
        }
        else
        {
            alert('logged in but didnt grant permissions');
        }
    }
    else
    {
        alert('not logged in');
    }
},
{scope:'publish_stream'}); 
```

控制台日志响应是：

```
Object {authResponse: undefined, status: "not_authorized"} 
```

并且测试用户总是得到未登录警报

我真的不知道如何处理这个设置，所以它会起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:51:17.523

尝试通过 onclick 事件调用 FB.Login。即将 FB.login 放在一些 javascript 函数中，并在单击某个按钮时调用该函数。直接调用 FB.login 将被弹出窗口阻止程序阻止。

# winforms - 在 F# 中使用 Windows 窗体的面向对象的“Hello world”

> ID：13136605
> 
> 赞同：6
> 
> 时间：2012-10-30T10:02:16.190
> 
> 标签：winforms, f#

我目前正在研究“真实世界函数式编程”。我正在尝试让示例 1.12 工作，这是一个使用 Windows 窗体的“hello world”程序。这是代码： -

```
 open System.Drawing;;
    open System.Windows.Forms;;

    type HelloWindow() =
         let frm = new Form(Width = 400, Height = 140)
         let fnt = new Font("Times New Roman", 28.0f)
         let lbl = new Label(Dock = DockStyle.Fill, Font = fnt,
                               TextAlign = ContentAlignment.MiddleCenter)
         do frm.Controls.Add(lbl)

         member x.SayHello(name) =
              let msg = "Hello" + name + "!"
              lbl.Text <- msg

         member x.Run() =
              Application.Run(frm);;

    let hello = new HelloWindow();;
    hello.SayHello("you");;
    hello.Run();; 
```

不幸的是，这会引发错误 - “在单个线程上启动第二个消息循环不是有效的操作。” 所以很明显有一个窗口打开而不是终止，这使程序感到困惑。我看不到如何修复错误，有人可以帮助我吗？

我还尝试将最终代码块输入为：-

```
 let hello = new HelloWindow()
    hello.SayHello("you")
    hello.Run();; 
```

但这无济于事。代码运行良好，但没有产生任何结果，最后一行被注释掉了。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-30T10:24:12.580

该示例旨在作为 Windows 窗体应用程序进行编译和运行。如果您想在 F# Interactive 中运行它，则必须`frm.Show()`使用`Application.Run(frm)`.

您可以使示例在 F# Interactive 和使用[编译器指令](http://msdn.microsoft.com/en-us/library/dd233195.aspx)的编译项目中工作：

```
type HelloWindow() =
    let frm = new Form(Width = 400, Height = 140)
    // ...
    // The same as before

    member x.Run() =
        #if INTERACTIVE
        frm.Show()
        #else
        Application.Run(frm)
        #endif 
```

# c# - 如何限制asp.net mvc 3中的文件下载速度

> ID：13136611
> 
> 赞同：1
> 
> 时间：2012-10-30T10:02:38.770
> 
> 标签：c#, asp.net-mvc, web-applications, download

我已阅读有关 codeproject 的这篇文章，但我不知道如何将其应用于 asp.net mvc 3 [http://www.codeproject.com/Articles/18243/Bandwidth-throttling](http://www.codeproject.com/Articles/18243/Bandwidth-throttling)

这是在我的项目中下载文件的代码

```
public ActionResult GetFile(int id)
{
    var f = FileAcc.GetInfo(id);
    var templateStr = new FileStream(Server.MapPath(f.file_url), FileMode.Open);
    return File(templateStr, f.file_name);
} 
```

请在这个问题上支持我，非常感谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T15:09:02.403

只需包含`ThrottledStream.cs`在您的项目中并用以下内容替换您的 GetFile 方法 -

```
public ActionResult GetFile(int id) {
    var f = FileAcc.GetInfo(id);
        int bufferSize = 1024, bps = 1024;
        using (FileStream sourceStream = new FileStream(Server.MapPath(f.file_url), FileMode.Open, FileAccess.Read, FileShare.Read, bufferSize)) {
            using (Born2Code.Net.ThrottledStream destinationStream = new Born2Code.Net.ThrottledStream(Response.OutputStream, bps)) {
                byte[] buffer = new byte[bufferSize];
                int readCount = sourceStream.Read(buffer, 0, bufferSize);
                Response.Buffer = false;
                while (readCount > 0) {
                    destinationStream.Write(buffer, 0, readCount);
                    readCount = sourceStream.Read(buffer, 0, bufferSize);
                }
            }
        }
    return new EmptyResult();
} 
```

并根据您的需要调整 bps。

# javascript - 如何在javascript中更改动态创建的按钮的值

> ID：13136615
> 
> 赞同：1
> 
> 时间：2012-10-30T10:02:51.730
> 
> 标签：javascript, dom, buttonclick, setattribute

要求：我有一个单行三列的表格。第一列有按钮，第二列，第三列有文本框和复选框。

如果我单击该按钮，则会动态添加一个新行，与第一行相同。现在，如果我单击新创建的行中的按钮，应该再添加一行。添加新行后，当前行按钮应更改为删除按钮。即只有最后一行按钮应具有添加功能，所有其他前行应具有删除按钮。

我写了一些代码，我得到的是，当我单击最后一个按钮和上一个按钮时添加新行..

我想将以前动态创建的按钮值更改为删除。单击按钮时，其值应更改为删除（然后此按钮应该能够删除该行）并应添加新行。

请帮我得到这个输出。我尝试了很长时间。谢谢你。

```
<html>

<head runat="server">

<TITLE> Add/Remove dynamic rows in HTML table </TITLE>

<SCRIPT language="javascript">

    function addRow(tableID) {
        var e1=document.documentElement.getElementsByTagName('input');

        var table = document.getElementById(tableID);       
        var rowCount = table.rows.length;     
        var row = table.insertRow(rowCount); 
        var cell1 = row.insertCell(0);
        var element1 = document.createElement("input");
        element1.setAttribute('type','button');
        element1.setAttribute('name','Add Row'+rowCount);
        element1.setAttribute('value','Add Row');               
        cell1.appendChild(element1); 
          element1.setAttribute('onclick','addRow("'+tableID+'")');    
        var cell2 = row.insertCell(1);
        var element2 = document.createElement("input");
        element2.type = "text";
        cell2.appendChild(element2);

        var cell3 = row.insertCell(2);
        var element3 = document.createElement("input");
        element3.type = "checkbox";
        cell3.appendChild(element3);       
     }
</script>

</head>

<BODY>

<TABLE id="dataTable" width="250px" border="1">

<TR>

<td><INPUT type="button" value="Add Row" name="Add Row0" onclick="addRow('dataTable')"/></td>
<TD> <INPUT type="text" /> </TD>

<TD><INPUT type="checkbox" name="chk"/></TD>

</TR>

</TABLE>

</BODY>
</html> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-30T10:13:24.463

如果你愿意使用 jQuery，答案很简单：

```
// First clone the last row as a new row
$('#dataTable tr:last-child').clone().appendTo('#dataTable');
// Now change all buttons except the last row to call a delete function
$('#dataTable tr:not(tr:last-child) input[type=button]').click(function (event) {
    // Passing this to the function sends the button element from which you could determine the parent or whatever else you need
    deleteRow(this);
}); 
```

编辑：另外，如果您选择以这种方式工作，我会删除 HTML 中的 onclick 分配，而是为 Add 按钮分配一个来自 jQuery 的 .click 处理程序：

```
$('#dataTable tr:last-child input[type=button]').click(function (event) {
    addRow('dataTable');
}); 
```

# c - 当 strtok 返回 NULL 时，strtol 给出段错误

> ID：13136616
> 
> 赞同：1
> 
> 时间：2012-10-30T10:03:01.877
> 
> 标签：c, csv, file-handling, strtok, strtol

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

const char* getfield(char* line, int num) {
        const char* tok;
        for (tok = strtok(line, ",");
                tok && *tok;
                tok = strtok(NULL, ",\n"))
        {
            if (!--num)
                return tok;
        }
        return NULL;
    }

    int main()
    {
        FILE* stream = fopen("b.csv", "r");
        char line[1024];
        char *pstr;int num;
         const char* value;

        while (fgets(line, 1024, stream))
        {
            char* tmp = strdup(line);
        //printf("Field 3 would be %s\n", getfield(tmp, 3));    
        value=getfield(tmp, 3);
        num =strtol(value,&pstr,10);
        printf("Field 3 would be %d\n", num);
        // NOTE strtok clobbers tmp
            free(tmp);
        }
    } 
```

/* b.csv

```
301,36,15
302,88,75 
```

//我的输出

```
Field 3 would be 15
Field 3 would be 75 
```

*/

问题是：/* b.csv

```
301,36,15
 302,88,
 ,,,34 
```

如果表被破坏如上“strtok”返回NULL，所以“strtol”给出“segfault”..如何解决它？

这里的主要问题是如果 2nd 不存在，它将 3rd 视为第二个并给出段错误！例如在 b.csv “,,,34” 的第三行中是否存在表示第三个值，但它的行为就像“34”是第一个值，第二个和第三个分别是 NULL ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:09:58.513

为什么你不能只检查`value`你从`getfield(tmp, 3);`for`NULL`而不是调用`strtol`if`NULL`返回？另一种解决方法是创建一个`static char* not_found = "";`in`getfield`并返回地址而不是`NULL`，这样`strtol`就不会出现段错误。

**更新**

因为我发现`strtok`在这种情况下真的很无助，所以我尝试编写与以下相同的代码`strchr`：

```
 #include <stdio.h>
    #include <stdlib.h>
    #include <string.h>

    char* getfield(char* line, int num) {
        char* tok = line;
        char* result;
        if (line)
        {
            do
            {
                if (!--num)
                {
                    tok = strchr(line, ',');
                    if (tok == NULL)
                    {
                        tok = &line[strlen(line)];
                    }
                    size_t fieldlen = tok - line;
                    if (fieldlen)
                    {
                        result = (char*)malloc(fieldlen+1);
                        result[fieldlen] = '\0';
                        strncpy(result, line, fieldlen);
                        return result;
                    }
                    else
                    {
                        break;
                    }
                }
                tok = strchr(line, ',');
                line = tok + 1;
            } while (tok);
        }
        result = (char*)malloc(2);
        strcpy(result, "0");
        return result;
    }

    int main()
    {
        FILE* stream = fopen("b.csv", "r");
        char line[1024];
        char *pstr;int num;
        char* value;

        while (fgets(line, 1024, stream))
        {
            char* tmp = strdup(line);
            //printf("Field 3 would be %s\n", getfield(tmp, 3));    
            value=getfield(tmp, 3);
            num =strtol(value,&pstr,10);
            free(value);
            printf("Field 3 would be %d\n", num);
            // NOTE strtok clobbers tmp
            free(tmp);
        }
    } 
```

这适用于输入文件：

```
 10,,30
    10, 
```

如果没有找到代码，则返回`0`，您可以更改它，结果是动态分配的。我希望这会有所帮助，对我的教训是 - 解析字符串时避免使用 C：D

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:09:57.113

代替

```
num =strtol(value,&pstr,10);
printf("Field 3 would be %d\n", num); 
```

用这个：

```
if (value!=NULL) {         
    num =strtol(value,&pstr,10);
    printf("Field 3 would be %d\n", num);
}
else {
    printf("Field 3 does not exist\n");
} 
```

你必须`value!= NULL`在调用`strtol()`函数之前检查是否

**编辑**以修复`getfield()`函数的返回

在 for 循环中尝试更改：（我没有测试它，但它可以解决你的问题）

```
 tok = strtok(NULL, ",\n") 
```

经过

```
 tok = strtok(tok+strlen(tok)+1, ",\n") 
```

# webkit - 如何实现缓存？

> ID：13136617
> 
> 赞同：1
> 
> 时间：2012-10-30T10:03:02.797
> 
> 标签：webkit

我已经基于 [MiniBrowser] 为自己创建了一个浏览器。

```
Use     :Webkit
Platform: Windows7 64bit
Tool    : VisualStudio2005 
```

麻烦的是我有好几个都生产了。

1.  我想增加缓存大小。
2.  我想缓存页面。
3.  我想保留阅读链接。

请让我知道实现它们需要哪个功能。

# c# - 在 Asp.Net MVC3 中显示带有 Json 结果数据的部分视图

> ID：13136618
> 
> 赞同：1
> 
> 时间：2012-10-30T10:03:03.550
> 
> 标签：c#, .net, asp.net-mvc, asp.net-mvc-3, visual-studio

我有一个具有以下操作方法的家庭控制器；

```
[HttpPost]
[Authorize(Roles = "Admin")]
public JsonResult ProjectAdd(PortfolioViewModel model, int[] categories)
{
    using (PortfolioManager pm = new PortfolioManager())
    {
        using (CategoryManager cm = new CategoryManager())
        {
            if (ModelState.IsValid)
            {
                bool status = pm.AddNewProject(model, categories);
                if (status)
                {
                    // ViewBag.Message = "Inserted Sucessfully :)";
                }
            }
        }
        return Json(pm.GetAllProjects());
    }
} 
```

我的视图被称为“ProjectAdd.CSHTML”，内容如下；

```
 <table width="100%" border="0" cellspacing="0" cellpadding="0">
        <thead>
           // the heading goes here
        </thead>
        <tbody id="projectsUpdate">
            @Html.Partial("_ProjectsPartial", ViewBag.ProjectsList as IEnumerable<MVC3Resume.Models.PortfolioViewModel>)
        </tbody>
    </table>
<p>

    @using (Ajax.BeginForm("projectAdd", "home", new AjaxOptions { 
        LoadingElementId = "loading", 
        LoadingElementDuration = 2000, 
        Url = Url.Action("projectAdd", "home"), 
        OnSuccess="OnSucess",
    }, 
        new { enctype = "multipart/form-data" }))
    {    
        @Html.ValidationSummary(true)
        <div id="SucessMessage"></div>
        <fieldset>
            <legend>Add New Project</legend>

            <div class="editor-label">
                @Html.LabelFor(model => model.ProjectHeading)
            </div>
            <div class="editor-field">
                @Html.EditorFor(model => model.ProjectHeading)
                @Html.ValidationMessageFor(model => model.ProjectHeading)
            </div>

            <div class="editor-label">
                @Html.LabelFor(m => m.Image)
            </div>
            <div class="editor-field">
                @Html.TextBoxFor(m => m.Image, new { type = "file" })
                @Html.ValidationMessageFor(model => model.Image)
            </div>
            <div class="editor-label">
                <label for="categories">Categories</label>
            </div>

            <div class="editor-label">
                @foreach (var item in ViewBag.Categories as IEnumerable<MVC3Resume.Models.CategoryViewModel>)
                {
                    <input type="checkbox" name="categories" value="@item.CategoryId" />
                    @item.CategoryName
                }

            </div>
            <p>
                <input type="submit" value="Create" class="submit" />
            </p>
        </fieldset>
    }
</p> 
```

我的 javascript OnSucess 函数看起来像；

```
<script type="text/javascript">
    function OnSucess(resultData) {
        // all logic goes here
    }
</script> 
```

**所以，我的问题是如何获取 json 结果数据并将其填充到部分视图中？** 以下是我的结果 json 数据；

```
[{"ProjectId":1,"ProjectHeading":"heading","ProjecctUrl":"url","ProjectLongDescription":"descripitn","ProjectShortDescription":"...","PromoFront":false,"Thumbnail":null,"ProjectThubmnail":"folio_140_1.jpg","Image":null,"ProjectImage":"folio_preview640.jpg","CategoryId":2},{"ProjectId":2,"ProjectHeading":"heading 2","ProjecctUrl":"url2","ProjectLongDescription":"description 2","ProjectShortDescription":"...","PromoFront":false,"Thumbnail":null,"ProjectThubmnail":"folio_140_2.jpg","Image":null,"ProjectImage":"folio_preview640.jpg","CategoryId":1},{"ProjectId":3,"ProjectHeading":"teasting heading","ProjecctUrl":"test url","ProjectLongDescription":"description","ProjectShortDescription":"...","PromoFront":false,"Thumbnail":null,"ProjectThubmnail":"folio_preview640.jpg","Image":null,"ProjectImage":"folio_preview640.jpg","CategoryId":1}] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:09:01.717

不幸的是，您正在尝试混合两个不会按照您想要的方式混合的部分。您可能想查看 JS 模板。有一些库可以帮助解决这个问题。查看[jQuery 模板](http://api.jquery.com/jquery.tmpl/)或[UnderscoreJS](http://underscorejs.org/)。这两个库都可以让您获取 JSON 对象并很好地呈现 HTML。

另一种选择是使用[KnockoutJS](http://knockoutjs.com/)。您也许可以将`data-bind`标签添加到现有的局部视图。我没试过，所以不知道效果如何。

# java - 无限会话对象导致 RAM 已满

> ID：13136620
> 
> 赞同：0
> 
> 时间：2012-10-30T10:03:11.947
> 
> 标签：java, session, jakarta-ee, tomcat

我正在学习 Java EE HttpSession（在 Tomcat 中）。它说当我们关闭浏览器时，cookie`JSessionID=12345`将被销毁（但在服务器端，会话对象仍然保留到其生命周期结束）。

假设我们将会话生命周期设置为一小时。有一种场景是用户重复以下动作：

1.  访问 servlet（并且这个 servlet 调用`getSession()`）

2.  关闭浏览器（或清除 cookie）。

所以这种重复会导致大量无用的会话对象被创建出来，只有在它们的生命周期结束后才会被销毁。

在这种情况下，一些“黑客”将能够编写一个程序来利用我们的服务器（继续创建会话对象，直到我们用完 RAM）。这种情况在真实环境中是否可行？Java EE 是否采取任何措施来防止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:09:51.390

如果您有一个公共站点，您可能不需要会话，并且可以将您的 web 应用程序配置为不创建它们。

如果您有一个需要登录的站点，则需要相应地进行规划：规划容量，只为私有页面创建会话，将尽可能少的对象放入会话中，保持会话超时低等。

Java EE 不提供针对 DDOS 的开箱即用保护，就像 Apache HTTP 服务器不保护每秒创建十亿个请求的人（并阻止其他用户访问该站点）一样，但提出了能够尽量减少影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:08:32.337

是的，这绝对是一个真实的生活场景。我知道搜索引擎通过抓取网站来杀死网站的情况，因为它们在每个请求上都创建了一个新的巨大会话。

我想只有两种方法可以处理这个问题：

*   保持会话生命周期尽可能短。
*   防止使用会话来存储巨大的对象。

我一般更喜欢后一种。恕我直言，在极少数情况下您真的需要在会话中存储巨大的对象。

这也是您将在诸如Michael T. Nygard 的[Release it](http://pragprog.com/book/mnee/release-it)（顺便说一句非常好书）之类的书中所依赖的内容。

# c# - Ajax Post返回类型而不是值c#mvc 4

> ID：13136621
> 
> 赞同：0
> 
> 时间：2012-10-30T10:03:12.440
> 
> 标签：c#, javascript, jquery, ajax, asp.net-mvc-4

我有这个问题。

我的功能是这个

```
$.ajax({
            type: "POST",
            url: "/controller/CreateList",
            contentType: "application/json; charset=utf-8",
            traditional: true,
            data: JSON.stringify(myvar),
            success: function (returnArray) {
            }
..... 
```

在我的控制器中，我有这个动作：

```
public int[] CreateList(List<ERoleCommission> erolecommission){
        List<int> intList= new List<int>();
        ...//populate the List
        return  intList.ToArray();
} 
```

通过调试，我看到 intList 填充了正确的值，所以它不是 ac# 错误，在从控制器调用此操作后，调试返回到 js 函数和 returnArray =“System.Int32[]”，它只包含类型。为什么？谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:06:34.930

在没有看到您的控制器/动作的情况下，我只是猜测，但我的第一个猜测是您忘记对数据进行 JSON 编码，然后再将其作为 ActionResult 从您的动作返回。在你的行动中尝试这样的事情：

```
public JsonResult YourAction() {
    // ... do stuff
    var yourArrayOfData = CreateList(yourListOfData);
    return Json(yourArrayOfData);
} 
```

# xslt - 具有节点和总和匹配的 XSLT 转换。

> ID：13136631
> 
> 赞同：1
> 
> 时间：2012-10-30T10:04:09.303
> 
> 标签：xslt

我有以下用于转换的 xml：

```
<IFX xmlns="http://www.ifxforum.org/181/ifxschema">
  <MediaSvcRq>
    <MediaAcctAdjAddRq>
      <MediaAcctAdjInfo>
        <MediaTrnType>Dispense</MediaTrnType>
        <CurAmt>
          <Amt>1800.00</Amt>
          <CurCode>PHP</CurCode>
        </CurAmt>
        <MediaItem>
          <MediaContainerId>Cassette 2</MediaContainerId>
          <MediaType>Cash</MediaType>
          <Count>3</Count>
          <MediaBal>
            <CurAmt>
              <Amt>500.00</Amt>
              <CurCode>PHP</CurCode>
            </CurAmt>
            <MediaTotal>
              <MediaTotalType>Dispensed</MediaTotalType>
              <Count>3</Count>
            </MediaTotal>
          </MediaBal>
        </MediaItem>
        <MediaItem>
          <MediaContainerId>CashRetainBin</MediaContainerId>
          <MediaType>Cash</MediaType>
          <Count>3</Count>
          <MediaBal>
            <CurAmt>
              <Amt>500.00</Amt>
              <CurCode>PHP</CurCode>
            </CurAmt>
            <MediaTotal>
              <MediaTotalType>Retained</MediaTotalType>
              <Count>3</Count>
            </MediaTotal>
          </MediaBal>
        </MediaItem>
        <MediaItem>
          <MediaContainerId>Cassette 3</MediaContainerId>
          <MediaType>Cash</MediaType>
          <Count>3</Count>
          <MediaBal>
            <CurAmt>
              <Amt>100.00</Amt>
              <CurCode>PHP</CurCode>
            </CurAmt>
            <MediaTotal>
              <MediaTotalType>Dispensed</MediaTotalType>
              <Count>3</Count>
            </MediaTotal>
          </MediaBal>
        </MediaItem>
        <MediaItem>
          <MediaContainerId>CashRetainBin</MediaContainerId>
          <MediaType>Cash</MediaType>
          <Count>3</Count>
          <MediaBal>
            <CurAmt>
              <Amt>100.00</Amt>
              <CurCode>PHP</CurCode>
            </CurAmt>
            <MediaTotal>
              <MediaTotalType>Retained</MediaTotalType>
              <Count>3</Count>
            </MediaTotal>
          </MediaBal>
        </MediaItem>
      </MediaAcctAdjInfo>
    </MediaAcctAdjAddRq>
  </MediaSvcRq>
</IFX> 
```

我想有以下输出：

```
<XML>
            <!--Information of Message Container ID: Cassette 1-->
            <F70><!--//MediaItem/MediaBal/CurAmt/Amt-->
            </F70>
            <F71><!--//MediaItem/MediaBal/CurAmt/CurCode-->
            </F71>
            <F72><!--//MediaItem/MediaBal/MediaTotal/Count-->
            </F72>
            <!--Information of Message Container ID: Cassette 2-->
            <F73><!--//MediaItem/MediaBal/CurAmt/Amt-->
            500.00
            </F73>
            <F74><!--//MediaItem/MediaBal/CurAmt/CurCode-->
            PHP
            </F74>
            <F75><!--//MediaItem/MediaBal/MediaTotal/Count-->
            3
            </F75>
            <!--Information of Message Container ID: Cassette 3-->
            <F76><!--//MediaItem/MediaBal/CurAmt/Amt-->
            100.00
            </F76>
            <F77><!--//MediaItem/MediaBal/CurAmt/CurCode-->
            PHP
            </F77>
            <F78><!--//MediaItem/MediaBal/MediaTotal/Count-->
            3
            </F78>
            <!--Information of Message Container ID: Cassette 4-->
            <F79><!--//MediaItem/MediaBal/CurAmt/Amt-->
            </F79>
            <F80><!--//MediaItem/MediaBal/CurAmt/CurCode-->
            </F80>
            <F81><!--//MediaItem/MediaBal/MediaTotal/Count-->
            </F81>
            <F82><!--Sum of //MediaItem/Count for CashRetainBin-->
            </F82> 
```

对于每个 Cassette，我都尝试了以下方法：

```
<F70>
<xsl:value-of select="//ifx:MediaSvcRq/ifx:MediaAcctAdjAddRq/ifx:MediaAcctAdjInfo/ifx:MediaItem[ifx:MediaContainerId='Cassette 1']/ifx:MediaBal/ifx:CurAmt/ifx:Amt"/>
</F70> 
```

我认为匹配磁带会起作用。

我遇到的问题是 CashRetainBin 的总和。如何匹配消息容器 ID 以获得 CashRetainBin 的总和？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-09T00:15:48.017

This should do the trick:

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
   xmlns:ifx="http://www.ifxforum.org/181/ifxschema" exclude-result-prefixes="ifx"
   >
  <xsl:output method="xml" indent="yes"/>

  <xsl:template match="ifx:MediaAcctAdjInfo">
    <XML>
      <xsl:call-template name="ProcessCassettes" />
      <F82>
        <xsl:value-of select="sum(ifx:MediaItem[ifx:MediaContainerId = 'CashRetainBin']/ifx:Count)"/>
      </F82>
    </XML>
  </xsl:template>

  <xsl:template name="ProcessCassettes">
    <xsl:param name="cassetteNo" select="1" />

    <xsl:variable name="startingNo" select="67 + 3 * $cassetteNo" />
    <xsl:variable name="mediaItem" select="ifx:MediaItem[ifx:MediaContainerId = concat('Cassette ', $cassetteNo)]"/>

    <xsl:element name="F{$startingNo}">
      <xsl:value-of select="$mediaItem/ifx:MediaBal/ifx:CurAmt/ifx:Amt"/>
    </xsl:element>
    <xsl:element name="F{$startingNo + 1}">
      <xsl:value-of select="$mediaItem/ifx:MediaBal/ifx:CurAmt/ifx:CurCode"/>
    </xsl:element>
    <xsl:element name="F{$startingNo + 2}">
      <xsl:value-of select="$mediaItem/ifx:MediaBal/ifx:MediaTotal/ifx:Count"/>
    </xsl:element>

    <xsl:if test="$cassetteNo &lt; 4">
      <xsl:call-template name="ProcessCassettes">
        <xsl:with-param name="cassetteNo" select="$cassetteNo + 1" />
      </xsl:call-template>
    </xsl:if>
  </xsl:template>
</xsl:stylesheet> 
```

# php - 数据库中的中文

> ID：13136634
> 
> 赞同：-3
> 
> 时间：2012-10-30T10:04:23.443
> 
> 标签：php, mysql

编程大师你好！今天，我从经理那里得到了将`Chinese`语言环境添加到我的站点的任务。

如果可以的话，我应该在`MySQL`数据库中使用什么样的编码，在客户端显示中文文本会有什么问题吗？

谢谢）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:10:01.537

查看这个[stackoverflow 线程](https://stackoverflow.com/questions/9620179/how-to-export-chinese-characters-encoded-utf-8-from-mysql-to-sql-correctly)，了解数据库处理的解决方案。您还需要将 php 设置为与我想像的相同字符集的标题

特别是在[nazar](https://stackoverflow.com/users/823795/nazar)在[这个线程的建议下......](https://stackoverflow.com/questions/9620179/how-to-export-chinese-characters-encoded-utf-8-from-mysql-to-sql-correctly#comment12215298_9620179)

# internet-explorer - IE 后退按钮空字段

> ID：13136635
> 
> 赞同：1
> 
> 时间：2012-10-30T10:04:29.940
> 
> 标签：internet-explorer

我有一个我提交的表格。当我在提交的页面上并按下 Internet Explorer 中的后退按钮时，我仍然可以看到我在字段中输入的值。

一位同事使用相同的表单，当使用返回按钮时，他将所有字段都清空。

IE中是否有我必须更改的设置？

我使用 IE v. 9 我的同事使用 IE v. 8

# paypal - 自适应 Paypal 付款错误代码：579017

> ID：13136639
> 
> 赞同：1
> 
> 时间：2012-10-30T10:04:42.737
> 
> 标签：paypal, paypal-sandbox, paypal-adaptive-payments

我正在使用延迟链接的 Paypal 支付系统。我有一个错误，比如

> *详细错误消息：主接收方的金额必须大于或等于其他链接的接收方金额的总和错误代码：579017错误严重性：错误错误域：平台错误类别：应用程序*

如何发送主要接收方获得的金额少于次要接收方的金额

我的场景是主要接收者从发送者那里获得一笔金额并获得一些服务金额并将金额发送给辅助接收者。

例如，用户预订机票意味着网站所有者从接收者那里获得全部金额并将其服务费作为一定百分比并将剩余金额发送给业主我使用延迟链式付款

我的代码是

```
$receiverEmailArray = array(
        'johnwewe9340_biz@gmail.com',
        'jameswewe9546_per@gmail.com',
        '',
        '',
        ''
        );

// TODO - specify the receiver amounts as the amount of money, for example, '5' or '5.55'
//        remove or set to an empty string the array entries for receivers that you do not have
$receiverAmountArray = array(
        '10',
        '100',
        '',
        '',
        ''
        );

// TODO - Set ONLY 1 receiver in the array to 'true' as the primary receiver, and set the
//        other receivers corresponding to those indicated in receiverEmailArray to 'false'
//        make sure that you do NOT specify more values in this array than in the receiverEmailArray
$receiverPrimaryArray = array(
        'true',
        'false'
        );

// TODO - Set invoiceId to uniquely identify the transaction associated with each receiver
//        set the array entries with value for receivers that you have
//        each of the array values must be unique across all Pay calls made by the caller's API credentials
$receiverInvoiceIdArray = array(
        '',
        '',
        '',
        '',
        '',
        ''
        ); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-06T22:06:19.667

主要必须收到全部金额，而次要只能收到他们应该得到的金额。因此，如果总金额为 100.00 美元，并且主节点保留 10%，则主节点将获得 100.00，而辅助节点将获得 90.00。

# asp.net - 传统的 ASP.NET 验证器和移动设备

> ID：13136641
> 
> 赞同：0
> 
> 时间：2012-10-30T10:04:50.427
> 
> 标签：asp.net, mobile, validation, smartphone

目前我正在考虑一个使用响应式设计在智能手机等上很好地呈现的网站。

我习惯于使用传统的 ASP.NET 验证器进行验证（例如，RequiredFieldValidators 等），因为我觉得它们做得很好。

我的一个问题是传统的 ASP.NET 验证器在移动设备中是否能很好地使用 JavaScript，或者我是否应该考虑另一种机制

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:11:53.200

如果问题是“它们是否有效”，那么答案将是“是”。它只是一个 javascript，或者，如果禁用了 javascript，则在服务器端执行验证。

我认为唯一的“挑战”是移动设备的小显示屏——你应该小心放置验证器，以便用户清楚地看到它们。

# c# - 无法理解 ToLookup linq 扩展方法的功能

> ID：13136643
> 
> 赞同：0
> 
> 时间：2012-10-30T10:04:56.243
> 
> 标签：c#

我试图在代码中找出 ToLookup 方法的功能。它以某种方式使用分组来返回一个列表。有人可以告诉我这是如何工作的，或者只是引导我朝着正确的方向前进：

```
.ToLookup(
  c => new 
  {
      c.CoverageType.Code, 
      c.CoverageType.Mnemonic, 
      c.CoverageType.Description, 
      c.CoverageType.CoverageLevel, 
      c.CoverageType.CoveragePosition
  })
.Select(
  t => new CoverageOption
  {
    CoverageType =
      new CoverageType
      {
          Code = t.Key.Code, 
          Mnemonic = t.Key.Mnemonic, 
          Description = t.Key.Description, 
          CoverageLevel = t.Key.CoverageLevel, 
          CoveragePosition = t.Key.CoveragePosition
      },
    Limits =
      (from Coverage c in t select c.Limit).GroupBy(l => l.Code)
        .Select(gr => gr.First()), 
    Deductibles =
      (from Coverage c in t select c.Deductible).GroupBy(d => d.Code)
        .Select(gr => gr.First())
})
.OrderBy(t => t.CoverageType.CoveragePosition); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:51:48.183

源项目（我假设它具有 type `Coverage`）按此键分组：

```
new 
{
  c.CoverageType.Code, 
  c.CoverageType.Mnemonic, 
  c.CoverageType.Description, 
  c.CoverageType.CoverageLevel, 
  c.CoverageType.CoveragePosition
} 
```

对于输入序列中的每个不同的键，`CoverageOption`都会创建一个。请注意，单个键可能与多个`Coverage`项目相关联，并且对于每个键和一个或多个关联`Coverage`项目，计算以下属性`CoverageOption`：

*   该`CoverageType`属性是根据键计算的。

*   该`Limits`属性是通过获取`Limit`关联`Coverage`项目的所有值来计算的，并且对于每个不同`Coverage.Limit.Code`的选择第一个`Limit`实例。所以这是一个对象序列，`Limit`每个对象都有一个不同的`Code`.

*   该`Deductibles`属性是通过获取`Deductible`关联`Coverage`项目的所有值来计算的，并且对于每个不同`Coverage.Deductible.Code`的选择第一个`Deductible`实例。所以这是一个对象序列，`Deductible`每个对象都有一个不同的`Code`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:27:06.150

正如文件所述：

> ToLookup(IEnumerable, Func) 方法返回一个 Lookup，一个将键映射到值集合的一对多字典。查找与字典不同，字典执行键到单个值的一对一映射。

[所以它与此处](https://stackoverflow.com/questions/10215428/why-are-tolookup-and-groupby-different)描述的相似，`GroupBy`但存在一些差异。

# php - 如何在codeigniter中给出完整的控制器路径

> ID：13136649
> 
> 赞同：2
> 
> 时间：2012-10-30T10:05:09.643
> 
> 标签：php, javascript, jquery, codeigniter

我在javascript中有一个变量，如下所示，它工作正常。

```
var url = http://example.com/directory_name/ 
```

上面的链接返回 json 数据，我稍后会使用 javascript 显示它。但我想要的是给出一个控制器的完整路径，然后是函数的名称，如下所示

```
http://example.com/directory_name/api/v1/ //whereas api is controller's name and v1 function inside this controller 
```

我怎样才能做到这一点？

**更新**

这是我的控制器代码

```
class Api extends CI_Controller {
public function index() {
    //$this->load->view('api');
    $this->v1('api');
}

public function v1 () {
    //$this->load->view('api');
    echo site_url();
    $arr = array(
      array(
        'id' => 15642,
        'title' => 'title one',
        'description' => 'this is description for title one'
      ),
      array(
        'id' => 15643,
        'title' => 'title two',
        'description' => 'this is description for title two'
      ),
      array(
        'id' => 15644,
        'title' => 'title Three',
        'description' => 'this is description for title Three. this is description for title Three. this is description for title Three.'
      )
    );

    echo json_encode($arr);
}
} 
```

**更新 2**

这里是 JS

```
init: function (jokesContainer) {
            container = container;
            url       = 'http://example.com/directory/api/v1';    
            Get.get(url, container);
        } 
```

**更新 3**

.htaccess 文件

```
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase chrome_web_apps

RewriteCond %{REQUEST_URI} ^system.*
RewriteRule ^(.*)$ index.php?/$1 [L]

RewriteCond %{REQUEST_URI} ^application.*
RewriteRule ^(.*)$ index.php?/$1 [L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?/$1 [L]
</IfModule>

<IfModule !mod_rewrite.c>
ErrorDocument 404 /index.php
</IfModule> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:08:50.150

第一个。创建重写规则：将此代码设置到主文件夹中的 .htaccess 文件中，该文件夹是 app/sys 文件夹中的主 index.php。

这很重要，因此您的链接以其他方式工作，您将只能加载主页..

```
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php/$1 [NC,L,QSA] 
```

*请注意，您的服务器必须接受 HTACCESS 文件才能正常工作..

第二。从 CI url 中删除 index.php。在

```
app/config/config.php 
```

查找并设置为空

```
$config['index_page'] = ''; 
```

第三。要生成正确的 url，请使用 CI php 函数

```
site_url("api/v1"); 
```

它需要 url Helper [http://ellislab.com/codeigniter/user_guide/helpers/url_helper.html](http://ellislab.com/codeigniter/user_guide/helpers/url_helper.html)

# c# - 中继器链接按钮未触发

> ID：13136651
> 
> 赞同：1
> 
> 时间：2012-10-30T10:05:17.287
> 
> 标签：c#, asp.net, events, repeater, linkbutton

我有一个转发器，里面有一个链接按钮，转发器绑定到 OnItemCommand 但事件没有触发这里是我的代码：

```
<asp:Repeater ID="rptList" runat="server" OnItemDataBound="rpt_OnItemDataBound" OnItemCommand="rptList_ItemCommand">
                <ItemTemplate>
                    <asp:LinkButton ID="lbName" Text='<%# Eval("Name") %>' runat="server" 
                        CommandArgument='<%# Eval("ID").ToString() %>' CommandName="NameClick">  
                    </asp:LinkButton><br />

                    <asp:Label ID="lblCreateDate" runat="server" Text='<%# Eval("CreateDate") %>' /><br />
                    <br />
                </ItemTemplate>
            </asp:Repeater> 
```

这是后面的代码：

```
protected void rptList_ItemCommand(object source, RepeaterCommandEventArgs e)
        {
            switch (e.CommandName)
            {
                case "NameClick":
                    Guid id = (Guid)e.CommandArgument;

                    //do something
                    break;

                default:
                    break;
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:23:25.777

根据 Ram S 评论，您需要确保您没有在回发时重新绑定转发器（请参阅此问题[Repeater's Item command event is not fire on linkbutton click](https://stackoverflow.com/questions/9167535/repeaters-item-command-event-is-not-firing-on-linkbutton-click)）

以这种方式投射 Guid 也会有问题 - 更改这行代码

```
Guid id = (Guid)e.CommandArgument; 
```

对此

```
Guid id = new Guid(e.CommandArgument.ToString()); 
```

# javascript - 在 javascript 或 jquery 中更改 outerHTML

> ID：13136656
> 
> 赞同：3
> 
> 时间：2012-10-30T10:05:35.013
> 
> 标签：javascript, jquery

我想更改outerHTML，这就是我要做的：

```
$(data.description)[0].outerHTML = $(data.description)[0].outerHTML.replace('red', 'black'); 
```

值为：

```
$(data.description)[0].outerHTML: "<p style="color: red;">desc1</p>" 
```

它不会改变。如何改变它？

data.description 有这个值：

```
<p style="color: red;">desc1</p><p style="color: red;">desc2</p> 
```

我只想改变 $(data.description)[0] 。

这是我的整个代码：

```
var ingsLines = $(data.description);
for (var i =0; i < ingsLines.length; i++) {
    if (someCondition) {
        $(data.description).eq(i).css('color', 'black');
    }
}
try{$('#myTextarea').html(data.description);}catch(err){} 
```

并且代码更改了值，它用黑色代替了红色，但 data.description 保持红色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:09:16.170

采用

```
$(data.description).replaceWith(function(){
    return this.outerHTML.replace('red', 'black')
}); 
```

[示范](http://jsfiddle.net/NP8EY/)

如果你只想改变第一个，你可以使用这个：

```
$(data.description).eq(0).replaceWith(function(){
    return this.outerHTML.replace('red', 'black')
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:09:19.633

如果要更改第一个元素的颜色属性，可以使用`css`and`eq` 方法：

```
$(data.description).eq(0).css('color', 'black'); 
```

# xpages - xsp.session.timeout 与服务器文档设置的关系

> ID：13136658
> 
> 赞同：0
> 
> 时间：2012-10-30T10:05:42.660
> 
> 标签：xpages

我有一个关于会话超时的问题。在服务器配置中的多米诺服务器上，有一个名为“Http Servlet 会话超时”的设置。在 xpages 中，可以更改服务器/数据库上的 xsp.session.timeout 属性以增加会话失效的时间。

我想知道这两个属性之间是否存在关系。换句话说，如果我们将 domino servlet 会话设置为 360 并且 xsp 属性也设置为 360，会发生什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T14:31:37.400

我想你指的是：服务器文档 - Internet Protocols - Domino Web Engine - Java Servlets - Idle session time-out (Notes field HTTP_IdleJSTimeout) ？据我所知，这些设置来自对 J2EE Servlets 2.0 的遗留支持（大致在罗马帝国时期开始），根本没有用于 XPages Runtime。

# android - 无法使用phonegap将音频加载到android中？

> ID：13136664
> 
> 赞同：2
> 
> 时间：2012-10-30T10:06:24.080
> 
> 标签：android, html, cordova, limejs

我使用limejs在html5中开发了一个游戏，现在我想使用phonegap包装到android中。我做得非常成功，我的所有资产都加载了很多，除了音频。音频未加载到android中。

logcat 显示为：

“ 10-30 15:19:14.138: E/MediaPlayer(539): 错误 (1,-2147483648)”

对此有任何想法吗？请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-06T10:23:44.317

当您用于文件的编码不受支持时，通常会弹出该错误。尝试另一种文件类型，记住这一点：http: [//developer.android.com/guide/appendix/media-formats.html](http://developer.android.com/guide/appendix/media-formats.html)

# javascript - 将数据绑定到 DOM 的示例

> ID：13136665
> 
> 赞同：6
> 
> 时间：2012-10-30T10:06:25.390
> 
> 标签：javascript, dom, backbone.js

[我在Backbone.js](http://backbonejs.org/#examples)的页面中阅读了以下内容：

> 在处理涉及大量 JavaScript 的 Web 应用程序时，您要学习的第一件事就是停止将数据绑定到 DOM。创建 JavaScript 应用程序太容易了，这些应用程序最终会变成一堆错综复杂的 jQuery 选择器和回调，它们都在疯狂地尝试保持 HTML UI、JavaScript 逻辑和服务器上的数据库之间的数据同步。对于富客户端应用程序，更结构化的方法通常很有帮助。

我不确定我是否完全理解上面的段落（我也不确定我是否完全理解使用 Backbone.js 的必要性）。

谁能给我一个将数据绑定到 DOM 的示例以及 Backbone.js 如何解决它？

**编辑：**

这是一个例子吗？

```
jQuery(document).ready(function($) {
  // Header
  jQuery('#header #searchbox').attr('placeholder', '<?php echo pll__("Header Search Field"); ?>');

(etc...) 
```

（它是我使用的一个 hack，因为我不知道如何用 php 来做）。

因此，如果我修改 ID`#searchbox`或移动其位置，代码将无法再次工作。上面这段话是指这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T21:21:29.660

我刚刚使用显示模态编辑框的主干做了一些事情，您可以在其中编辑项目的名称。由于这个名称也显示在主页上，我想同时更新它。但我不想识别 DOM 元素并直接用我的编辑结果更新它。相反，我创建了一个主干模型：

```
this.newModel = new app.Project({model: this.model}); 
```

然后我听取新模型的任何更改，在本例中为 project_name 属性：

```
this.listenTo(this.newModel, 'change:project_name', this.updateName); 
```

然后我使用“newModel”创建一个新视图

```
modal = new app.ProjectModal({
            model: this.newModel,
        }); 
```

然后显示它，如果模式视图中的名称发生更改，则在“父”视图中触发“this.updateName”函数，因此无需识别实际 DOM 元素的位置。

整个“父”函数如下所示：

```
 app.ProjectCardView = Backbone.View.extend({

        tagName: 'article',
        className: 'project',

        template: _.template( $("#tpl-project-card-summary").html() ),

        events: {
            'click .settings-btn': 'showProjectModal'
        },

        initialize: function() {

            //a slightly different model is used to populate project than this card...
            this.newModel = new app.Project({model: this.model});
            return this;
        },

        render: function() {

            this.$el.html( this.template(this.model.toJSON()) );
            return this;
        },

        showProjectModal: function (e) {

            this.listenTo(this.newModel, 'change:project_name', this.updateName);

                this.modal = new app.ProjectModal({
                    model: this.newModel
                });
                return this;

        },

        updateName: function() {

            if (this.modal) {
                this.$el.find('.item_name').text(this.model.get("project_name"));
            }

            return this;
        }

    }); 
```

显然我必须在某处更新 DOM，但现在它与编辑分离并且更易于管理。

# objective-c - UIInterfaceOrientationMaskPortrait 和 UIInterfaceOrientationPortrait 有什么区别

> ID：13136673
> 
> 赞同：8
> 
> 时间：2012-10-30T10:06:39.227
> 
> 标签：objective-c, ios, xcode4

我查看了文档，但找不到为什么有时会插入单词掩码而有时不会。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T17:32:36.150

`UIInterfaceOrientationMask`由 iOS 6 使用

```
-[UIViewController supportedInterfaceOrientations] 
```

方法（[此处的文档](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/occ/instm/UIViewController/supportedInterfaceOrientations)），它是您的视图控制器将采用的所有方向的位掩码，由 sdk 调用。下面是一个示例实现：

```
- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskLandscape; // supports both landscape modes
} 
```

这与之前的 iOS 6（现已弃用，[此处的文档](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/UIViewController/shouldAutorotateToInterfaceOrientation%3a)）方法形成对比：

```
-[UIViewController shouldAutorotateToInterfaceOrientation:] 
```

它为您提供了一个`UIInterfaceOrientation`枚举值，您可以使用以下方法对其进行测试：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation {
   return (toInterfaceOrientation == UIInterfaceOrientationPortrait);
} 
```

请注意，您仍然可以`UIInterfaceOrientation`在 didRotate 方法中获得枚举以及`interfaceOrientaiton`属性，这在其他时候可能很有用。掩码仅在 sdk 决定是否旋转视图控制器时使用。

**其他人的问题：**有没有人注意到没有`UIInterfaceOrientationMaskPortraitAll`面具？对我来说似乎失踪了。

# security - 为什么许多 SSL 证书供应商宣传 128/256 位加密支持？

> ID：13136675
> 
> 赞同：1
> 
> 时间：2012-10-30T10:06:46.037
> 
> 标签：security, encryption, ssl-certificate, aes, certificate-authority

我想知道为什么 SSL 证书的供应商总是说他们的证书支持 128/256 位 AES 加密？
我的意思是，对称加密是在网络浏览器和网络服务器之间发生的事情 - 与 SSL 证书本身无关（因为也没有关于对称加密的信息保存在证书中......）。

谁能给我解释一下，为什么这些公司用这个声明做广告？
仅仅是好的营销吗？还是背后有真正的功能原因？

示例见此处：
[http ://www.startssl.com/](http://www.startssl.com/?app=39)
[?app=39 https://www.symantec.com/theme.jsp?themeid=verisign-ssl-certificates&inid=vrsn_symc_ssl_Buy](https://www.symantec.com/theme.jsp?themeid=verisign-ssl-certificates&inid=vrsn_symc_ssl_Buy)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T12:50:03.370

正如您所怀疑的，这只是营销。哪些对称密码可用完全取决于 Web 浏览器和服务器，与证书本身无关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-14T05:53:13.600

（晚了，但我想用作参考，无论如何它仍然可以搜索。）

**TLDR**现在是炒作，但在过去它确实意味着什么。

是的，今天 SSL/TLS 对称加密强度独立于服务器证书。但不总是。

早在 1990 年代，当一些政府，尤其是美国政府对加密有法律限制时，曾经有一段时间，SSL 中的“强”加密只允许使用“已批准”（主要是银行）服务器，该服务器由使用[服务器门控密码术](http://en.wikipedia.org/wiki/Server_gated_cryptography)（又名 SGC）的证书识别。在放宽法律限制后，有一个过渡期，当时 SGC 证书对于支持使用较旧浏览器和系统的用户仍然具有一定价值，但从大约 2005 年开始，该功能基本上没有用，甚至因为[允许人们使用过时和不安全的软件而变得危险避免升级](https://www.sslshopper.com/article-say-no-to-sgc-ssl-certificates.html)。

目前，谷歌 SSL SGC 发现三个主要 CA 确认 SGC 已过时且不必要，两个提供同样好但只是轻微的：Thawte 说“某些较旧的浏览器和操作系统 [需要 SGC]”和 InstantSSL/Comodo 说它“升级 [ s] 加密 [适用于] 旧版浏览器”或“......适用于使用旧版和过时浏览器的访问者”。有一个，Trustico/Symantec，声称“数百万人仍在使用旧的计算机系统”，例如 IE 4、Netscape 4 和 Windows 2000，我认为这不可信。

所以在过去，CA 可以合法地声称他们的证书启用了强对称加密。今天，它充其量只是一个毫无意义的残留物。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-15T19:20:12.680

值得一提的是，RSA 和 AES 的实现在安全强度上有所不同。

来自维基百科：

> 对于 AES-128，可以使用 biclique 攻击以 2^126.1 的计算复杂度恢复密钥。对于 AES-192 和 AES-256 的 biclique 攻击，计算复杂度分别为 2^189.7 和 2^254.4。相关密钥攻击可以破坏 AES-192 和 AES-256，时间和数据的复杂度分别为 2^176 和 2^99.5。

尽管 RSA 1024 位密钥在技术上足够大，可以用来交换可用于 AES-128 的密钥；它没有那么强大，并且使用它进行密钥交换会将 AES 密钥暴露给攻击者。

证书还具有密钥使用属性，用于确定是否允许这种类型的密钥交换。

# java - 选择正确的组件以在 Eclipse RCP 中显示文件的内容

> ID：13136677
> 
> 赞同：3
> 
> 时间：2012-10-30T10:07:04.380
> 
> 标签：java, swt, eclipse-rcp

我正在使用 Eclipse RCP (4) 编写一个小尾巴应用程序。在我的主窗口中，我希望显示文件的内容。我的第一个想法是使用 SWT`List`组件，但我的问题是当我打开一个非常大的文件（超过 100000 行）`List`时无法处理它。您知道我应该为此使用哪个组件吗？

我想根据某些条件过滤和/或突出显示记录，但我不想修改，所以它是只读的。

还有一件事：由于我无法将任意大（例如 10 GB）的文件加载到内存中，我只需将换行符的位置读入 a中，并且仅在要显示`List`具体行时将其加载到 a中。`String`所以我需要一些组件，它只在线条变得可见时才呈现线条。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T11:16:15.117

可以使用`SWT.VIRTUAL`, 这样就可以实现数据的延迟加载。 [这](http://www.java2s.com/Tutorial/Java/0280__SWT/Createatablewith1000000itemslazypagesize64.htm)是一个使用 Table 和 SWT.VIRTUAL 的示例。

然而10GB是很多信息。我会以某种方式将文件分成许多块并加载它的特定部分。

[编辑]：你应该知道的事情：

> 从 3.1 开始，TableViewer 现在支持 SWT.VIRTUAL 标志。如果基础表是 SWT.VIRTUAL，则内容提供者可以实现 ILazyContentProvider 而不是 IStructuredContentProvider。请注意，在这种情况下，查看器不支持排序或过滤。另请注意，在这种情况下，如果元素未指定或尚未创建，则基于 Widget 的 API 可能会返回 null。
> 
> SWT.VIRTUAL 的用户还应避免使用 TreeViewer 中的表中的 getItems()，因为这不一定会为 TreeViewer 生成回调以填充项目。它还具有创建所有项目的副作用，从而消除了 SWT.VIRTUAL 的性能改进。

我试图用大约 700k 个项目来实现 TreeViewer。过滤/搜索功能非常慢（我使用过 FilteredTree）。

# javascript - KnockoutJS 捕获错误绑定

> ID：13136678
> 
> 赞同：10
> 
> 时间：2012-10-30T10:07:10.600
> 
> 标签：javascript, knockout.js

我想捕捉一个错误，纠正它并继续执行程序。 [http://jsfiddle.net/Gthv9/12/](http://jsfiddle.net/Gthv9/12/)

但是，我做不到！

如果你点击：“re Check On Model1”，“re Check On Model3”——没关系。

如果您点击：“re Check On Model1”、“re Check On Model2”、“re Check On Model3” - 出现错误。

```
Uncaught Error: Unable to parse bindings.
Message: ReferenceError: name3 is not defined;
Bindings value: text: name3 
```

为什么？

我将问题代码包装在 try-catch 块（viewModel.recheckData2() ）中，但是，应用程序在单击 viewModel.recheckData3() 时崩溃！

我知道 knockoutJS 存储错误状态（新 model2()），但不知道我应该做什么。

如何正确捕获错误？

谢谢！

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-10-30T13:55:49.403

我不确定我是否了解您的确切目标，但当遇到此类问题时，Knockout 将停止绑定。

如果您的问题只是未定义的变量，那么您可以使用的一个技巧是绑定`$data.name3`而不是仅仅绑定`name3`. 访问有效对象的未定义属性不会导致错误。

如果您真的想要更健壮的东西，那么您可以考虑使用[自定义绑定提供程序](http://www.knockmeout.net/2011/09/ko-13-preview-part-2-custom-binding.html)。

例如，您可以为真正的绑定提供者编写一个快速包装器，例如：

```
var ErrorHandlingBindingProvider = function() {
    var original = new ko.bindingProvider(); 

    //determine if an element has any bindings
    this.nodeHasBindings = original.nodeHasBindings;

    //return the bindings given a node and the bindingContext
    this.getBindings = function(node, bindingContext) {
        var result;
        try {
            result = original.getBindings(node, bindingContext);
        }
        catch (e) {
            if (console && console.log) {
                console.log("Error in binding: " + e.message);   
            }
        }

        return result;
    };
};

ko.bindingProvider.instance = new ErrorHandlingBindingProvider(); 
```

这将捕获错误、记录它们并继续。当然，具有这种“坏”绑定的元素不会被绑定。如果有一些已知的方法要处理它，那么您可以在捕获错误后添加该逻辑。也许您想检查该元素（节点）和 bindingContext 以确定需要做什么。

示例：http: [//jsfiddle.net/rniemeyer/KxXqs/](http://jsfiddle.net/rniemeyer/KxXqs/)

更新：这是 3.0+ 的版本，它捕获/记录绑定语法中的错误以及实际评估绑定值时的错误。[http://jsfiddle.net/rniemeyer/ecbn1dmy/](http://jsfiddle.net/rniemeyer/ecbn1dmy/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-23T05:07:50.260

我在 @RPNiemeyer 的错误处理程序中添加了另一行，以控制导致 catch 块中错误的节点 - 使得在复杂页面上查找错误变得非常容易：

```
if (console && console.log) {
            console.log("Error in binding: " + e.message);
            console.log("Node causing error:");
            console.log(node);
        } 
```

# r - rpart 是自动剪枝吗？

> ID：13136683
> 
> 赞同：8
> 
> 时间：2012-10-30T10:07:23.843
> 
> 标签：r, pruning, rpart

**rpart**是自动剪枝吗？

**rpart**生成的决策树比 Oracle Data Mining 生成的具有自动剪枝功能的决策树要多得多。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:37:27.883

不，但拟合函数的默认值可能会“早”停止分裂（对于“早”的某些定义）。

查看`?rpart.control`您可以调整的参数。特别是，请参阅该参数`minsplit`和`minbucket`该帮助文件。如果不满足这些条件，这些停止规则将防止任何节点被拆分。

您很可能需要使用`prune()`成本复杂度参数的某个最佳值来修剪树。

# video - 如何在 IOS SDK 6 中自动播放 youtube 视频？

> ID：13136687
> 
> 赞同：2
> 
> 时间：2012-10-30T10:07:47.610
> 
> 标签：video, youtube, ios6

任何人都可以帮助我在 IOS SDK 6 中启动/自动播放 youtube 视频吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-02T06:02:26.387

根据谷歌的说法，IOS 上的所有视频播放都必须是用户启动的。以下摘录来自 YouTube API 文档：

“警告：为了防止用户自费通过蜂窝网络进行未经请求的下载，嵌入式媒体无法在 iOS 上的 Safari 中自动播放——用户始终会启动播放。”

从这个页面的底部：

[https://developers.google.com/youtube/iframe_api_reference](https://developers.google.com/youtube/iframe_api_reference)

出于显而易见的原因，Apple 还将拒绝不遵守此规则的应用程序的提交。

# javascript - 规范化数组方法和返回值

> ID：13136688
> 
> 赞同：4
> 
> 时间：2012-10-30T10:07:50.333
> 
> 标签：javascript, arrays, libraries, shim

是否有任何 JavaScript 数组库可以规范化数组返回值和突变？我认为 JavaScript Array API 非常不一致。

一些方法会改变数组：

```
var A = [0,1,2];
A.splice(0,1); // reduces A and returns a new array containing the deleted elements 
```

有些不：

```
A.slice(0,1); // leaves A untouched and returns a new array 
```

有些返回对变异数组的引用：

```
A = A.reverse().reverse(); // reverses and then reverses back 
```

有些只是返回未定义：

```
B = A.forEach(function(){}); 
```

我想要的是总是改变数组并总是返回相同的数组，所以我可以有某种一致性，也可以链接。例如：

```
A.slice(0,1).reverse().forEach(function(){}).concat(['a','b']); 
```

我尝试了一些简单的片段，例如：

```
var superArray = function() {
    this.length = 0;
}

superArray.prototype = {
    constructor: superArray,

    // custom mass-push method
    add: function(arr) {
        return this.push.apply(this, arr);
    }
}

// native mutations
'join pop push reverse shift sort splice unshift map forEach'.split(' ').forEach(function(name) {
    superArray.prototype[name] = (function(name) {
        return function() {
            Array.prototype[name].apply(this, arguments);
            // always return this for chaining
            return this;
        };
    }(name));
});

// try it
var a = new superArray();
a.push(3).push(4).reverse(); 
```

这适用于大多数突变方法，但存在问题。例如，我需要为每个不改变原始数组的方法编写自定义原型。

所以当我这样做的时候，我一直在想，也许这以前已经做过了？是否已经有任何轻量级数组库可以做到这一点？如果该库还为旧浏览器的新 JavaScript 1.6 方法添加填充程序，那就太好了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T18:54:40.063

我不认为这真的不一致。是的，它们可能有点令人困惑，因为 JavaScript 数组可以完成其他语言具有单独结构（列表、队列、堆栈……）的所有事情，但它们的定义在不同语言中是非常一致的。您可以轻松地将它们分组到您已经描述的类别中：

*   列出方法：
    *   `push`/`unshift`返回添加元素后的长度
    *   `pop`/`shift`返回请求的元素
    *   您可以定义其他方法来获取第一个和最后一个元素，但很少需要它们
*   `splice`是用于在列表中间删除/替换/插入项目的通用工具 - 它返回已删除元素的数组。
*   `sort`并且`reverse`是两种标准的就地重新排序方法。

所有其他方法都不会修改原始数组：

*   `slice`按位置获取子数组，`filter`按条件获取子`concat`数组并与其他人组合创建并返回新数组
*   `forEach`只是迭代数组并且什么都不返回
*   `every`/`some`测试项目的条件，`indexOf`并`lastIndexOf`搜索项目（通过相等） - 两者都返回他们的结果
*   `reduce`/`reduceRight`将数组项减少为单个值并返回。特殊情况是：
    *   `map`减少到一个新数组 - 它就像`forEach`但返回结果
    *   `join`并`toString`减少为一个字符串

这些方法足以满足我们的大部分需求。我们可以用它们做几乎所有事情，而且我不知道有任何库向它们添加了类似但在内部或结果方面不同的方法。大多数数据处理库（如[Underscore](http://underscorejs.org/)）仅使它们跨浏览器安全（[es5-shim](https://github.com/kriskowal/es5-shim)）并提供其他实用程序方法。

> 我想要的是总是改变数组并总是返回相同的数组，所以我可以有某种一致性，也可以链接。

我想说 JavaScript 的一致性是在元素或长度被修​​改时总是返回一个新数组。我猜这是因为对象是引用值，并且更改它们经常会在引用同一数组的其他范围内引起副作用。

链接仍然是可能的，您可以使用`slice`, `concat`, `sort`, `reverse`,`filter`和`map`一起只需一步创建一个新数组。如果只想“修改”数组，只需将其重新分配给数组变量：

```
A = A.slice(0,1).reverse().concat(['a','b']); 
```

变异方法对我来说只有一个优势：它们更快，因为它们可能更节省内存（当然，取决于实现及其垃圾收集）。因此，让我们为这些实现一些方法。由于[Array 子类](http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array)化既不可能也无用，我将在[原生原型](http://perfectionkills.com/extending-built-in-native-objects-evil-or-not/)上定义它们：

```
var ap = Array.prototype;
// the simple ones:
ap.each = function(){ ap.forEach.apply(this, arguments); return this; };
ap.prepend = function() { ap.unshift.apply(this, arguments); return this; };
ap.append = function() { ap.push.apply(this, arguments; return this; };
ap.reversed = function() { return ap.reverse.call(ap.slice.call(this)); };
ap.sorted = function() { return ap.sort.apply(ap.slice.call(this), arguments); };
// more complex:
ap.shorten = function(start, end) { // in-place slice
    if (Object(this) !== this) throw new TypeError();
    var len = this.length >>> 0;
    start = start >>> 0; // actually should do isFinite, then floor towards 0
    end = typeof end === 'undefined' ? len : end >>> 0; // again
    start = start < 0 ? Math.max(len + start, 0) : Math.min(start, len);
    end = end < 0 ? Math.max(len + end, 0) : Math.min(end, len);
    ap.splice.call(this, end, len);
    ap.splice.call(this, 0, start);
    return this;
};
ap.restrict = function(fun) { // in-place filter
    // while applying fun the array stays unmodified
    var res = ap.filter.apply(this, arguments);
    res.unshift(0, this.length >>> 0);
    ap.splice.apply(this, res);
    return this;
};
ap.transform = function(fun) { // in-place map
    if (Object(this) !== this || typeof fun !== 'function') throw new TypeError();
    var len = this.length >>> 0,
        thisArg = arguments[1];
    for (var i=0; i<len; i++)
        if (i in this)
            this[i] = fun.call(thisArg, this[i], i, this)
    return this;
};
// possibly more 
```

现在你可以做

```
A.shorten(0, 1).reverse().append('a', 'b'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-09T13:30:11.223

恕我直言，最好的库之一是 underscorejs [http://underscorejs.org/](http://underscorejs.org/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-13T05:33:59.070

您可能不应该为此使用库（添加到项目中的依赖项不是那么有用）。

“标准”的做法是`slice`在您想要执行变异操作时调用。这样做没有问题，因为 JS 引擎非常适合使用临时变量（因为这是 javascript 的关键点之一）。

**前任。：**

```
function reverseStringify( array ) {
    return array.slice( )
        .reverse( )
        .join( ' ' ); }

console.log( [ 'hello', 'world' ] ); 
```

# c++ - 如何从 C++ Builder 移植？

> ID：13136690
> 
> 赞同：1
> 
> 时间：2012-10-30T10:07:52.630
> 
> 标签：c++, ide, c++builder, vcl

我有这个用 C++ Builder 编写的大型程序，严重依赖 VCL 图形库。由于很多原因，我想放弃这个工具。有几个替代编译器可供使用，我对其中任何一个都开放。

我想知道的是如何一步一步地进行实际的移植？有没有人这样做并可以分享他们的经验？

我想第 1 步是将 GUI/VCL 从应用程序中分离出来。无论如何，该程序应该是这样设计的，但遗憾的是它不是。仅此一项就是一项重大项目，但在那之后我该去哪里呢？我是否应该在 .dll 文件中链接 VCL GUI，将它们包含在新编译器中，但如果需要从 Builder 维护它们？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:12:15.720

我同意您应该将表示层与业务逻辑分开。

如果您正在寻找 VCL 的替代 GUI 框架，您可以考虑[Qt](http://qt.digia.com/product/)。它还附带一个带有[UI 设计](http://qt.digia.com/Product/Developer-Tools/)器的 IDE （因此可与 C++ Builder 相媲美），但具有跨平台和开源的优势。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T11:54:46.727

我会开始——正如你所说——将表示层与业务逻辑分开。首先在熟悉的 C++ Builder 环境中执行此操作：从应用程序中删除业务逻辑并将其重新创建为一个或多个单独的模块（DLL，在 Windows 上），并更改表示层，以便程序仍然运行但访问这些模块所有业务逻辑操作。

然后您可以在不使用 VCL 的情况下重写应用程序。您可能会坚持使用 C++ 并使用另一个 GUI 库（Qt 肯定是其中一个选项，wxWidgets 也值得一看），或者您可能想要更改表示层的语言（取决于您自己的技能和偏好）。

将业务逻辑移出演示文稿的另一个吸引力在于，它变得更容易测试。

I'd recommend taking a look at Michael Feathers's book *Working Effectively with Legacy Code* before you start. He gives a good (and very test-based) approach to this sort of refactoring.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T11:22:16.547

我曾经遇到过同样的情况`MFC`。我的建议是从头开始，重用旧代码中的任何内容，这次不要用逻辑来混淆演示！;)

# iphone - 关于自动调整蒙版

> ID：13136691
> 
> 赞同：1
> 
> 时间：2012-10-30T10:07:54.163
> 
> 标签：iphone, ios, uiview, autoresizingmask

如果我有 a`superview.frame = CGRectMake(0,0,200,200);`和 a `subview.frame = CGRectMake(0,0,100,100)`，子视图具有灵活的宽度和高度，我认为当 superview 的框架更改为 时`(0,0,150,150)`，子视图的框架应该更改为`(0, 0, 75, 75)`. 但事实并非如此。

```
- (void)viewDidLoad
{
[super viewDidLoad];
// Do any additional setup after loading the view, typically from a nib.

UIView * view1 = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
view1.backgroundColor = [UIColor blackColor];
[self.view addSubview:view1];

UIView * view2 = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];
view2.backgroundColor = [UIColor redColor];
view2.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleTopMargin;
[view1 addSubview:view2];

view1.frame = CGRectMake(0, 0, 150, 150);
[self printRect:view2.frame];
}

- (void) printRect:(CGRect)rect
{
NSLog(@"%0.1f, %0.1f, %0.1f, %0.1f", rect.origin.x, rect.origin.y, rect.size.width, rect.size.height);
} 
```

输出：

```
0.0, 0.0, 50.0, 50.0 
```

而当superview的frame变为(0,0,100,100)时，subview的frame会变为(0,0,0,0)

为什么..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:18:23.427

用我的代码替换你的代码行，因为你忘记`UIViewAutoresizingFlexibleBottomMargin`了`UIViewAutoresizingFlexibleTopMargin`

```
 view2.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin | UIViewAutoresizingFlexibleTopMargin; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:31:58.323

在你的代码中，有固定的边距，从上顺时针到左边是（ 0、100、100、0 `view2`），这解释了你的自动调整大小的行为。`view2`只有放大时，您`view2`的高度和宽度才会改变`view1`。所以你应该在你的 autoresziing 掩码中添加`UIViewAutoresizingFlexibleBottomMargin`and`UIViewAutoresizingFlexibleTopMargin``view2`

# c# - 优化将一个数据表转换为另一个数据表的代码

> ID：13136692
> 
> 赞同：2
> 
> 时间：2012-10-30T10:07:55.733
> 
> 标签：c#, linq-to-sql, datatable

我们必须将一个数据表转换为另一个数据表，这主要涉及将源数据表转换为不同的格式。按顺序考虑，我将其实现如下：

```
DataTable riskTable;
this.InitializeRmmRiskTable(out riskTable); // Initializes the columns

var calculatedRisk = (from DataRow tradeRow in tradeTableToFilter.Rows
                  where tradeRow["TradeID"] != null
                  select new
                          {
                              ROW_ID = 0,
                              TCN = tradeRow["TradeID"].ToString(),                               
                              CCY = tradeRow["CURRENCY"],                                 
                              USD_VALUE = calculator.Invoke(tradeRow) // configured delegate that will fetch the value
                          }).Distinct();

foreach (var rowData in calculatedRisk)
{
    DataRow rowToAdd = riskTable.NewRow();

    rowToAdd["ROW_ID"] = rowData.ROW_ID;
    rowToAdd["TCN"] = rowData.TCN;
    rowToAdd["CCY"] = rowData.CCY;
    rowToAdd["USD_VALUE"] = rowData.USD_VALUE;

    riskTable.Rows.Add(rowToAdd);
}
return riskTable; 
```

有什么建议可以在内存占用和执行周期方面进行优化吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:14:31.867

您可以很容易地删除很多列查找：

```
object[] values = new object[4];
foreach (var rowData in calculatedRisk)
{
    values[0] = rowData.ROW_ID;
    values[1] = rowData.TCN;
    values[2] = rowData.CCY;
    values[3] = rowData.USD_VALUE;

    riskTable.Rows.Add(values);
} 
```

这假设您知道列的顺序。否则，`DataColumn`API 是最直接的，因此您可以存储 4`DataColumn`并在索引器中使用它们。这同样适用于*阅读*代码，即

```
var tradeId = tradeTableToFilter.Columns["TradeID"];
var currency = tradeTableToFilter.Columns["CURRENCY"]; 
```

然后：

```
var calculatedRisk = (from DataRow tradeRow in tradeTableToFilter.Rows
    let tradeIdVal = tradeRow[tradeId]
    where tradeIdVal != null
    select new {
        ROW_ID = 0,
        TCN = tradeIdVal.ToString(),                               
        CCY = tradeRow[currency],                                 
        USD_VALUE = calculator.Invoke(tradeRow)
    }).Distinct(); 
```

等等

的使用`Distinct`确实意味着所有对象将再次缓冲在内存中；如果你知道你需要这个，很好，但在很多情况下，这可能是多余的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:19:05.217

一些无需更改代码的提示：

使用索引而不是字符串 id 名称，所以而不是

```
rowToAdd["ROW_ID"] = rowData.ROW_ID; 
```

我会建议

```
rowToAdd[0] = rowData.ROW_ID; 
```

另一个技巧，不是`DataRow rowToAdd`为每个元素创建对象，而是将对象的声明放在迭代之外。

此外，不要使用 foreach，而是使用 for。

此外

```
var calculatedRisk = (from DataRow tradeRow in tradeTableToFilter.Rows
              where tradeRow["TradeID"] != null
              select
                  new
                      {
                          ROW_ID = 0,
                          TCN = tradeRow["TradeID"].ToString(),                               
                          CCY = tradeRow["CURRENCY"],                                 
                          USD_VALUE = calculator.Invoke(tradeRow) // configured delegate that will fetch the value
                      }).Distinct(); 
```

我会一直改这句话，不要使用这样的怪物来声明一个对象，我建议小步进行，或者如果您可以直接访问数据，请使用sql语句过滤并获取数据。

我会使用确切类型的数据，而不是通用的`var`.

更复杂的更改需要更多地了解代码......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:35:22.117

由于（评论）您提到您愿意更改返回类型的选项，我会声明如下：

```
public class TradeRisk {
    public int Id {get;set;}
    public string TCN {get;set;} // expand name to be meaningful
    public string Currency {get;set;}
    public decimal UsdValue {get;set;}
} 
```

并将方法更改为 return `List<TradeRisk>`。我们可以应用与`DataColumn`我之前的答案相同的技巧，但更改结果 - 注意要保持结果相同，我们需要保留`Distinct`等。

```
var tradeId = tradeTableToFilter.Columns["TradeID"];
var currency = tradeTableToFilter.Columns["CURRENCY"];

var calculatedRisk = (from DataRow tradeRow in tradeTableToFilter.Rows
    let tradeIdVal = tradeRow[tradeId]
    where tradeIdVal != null
    select new {
        Id = 0,
        TCN = tradeIdVal.ToString(),                               
        Currency = tradeRow[currency],                                 
        UsdValue = calculator.Invoke(tradeRow)
    }).Distinct();

return (from row in calculatedRisk 
        select new TradeRisk {
            Id = row.Id, TCN = row.TCN,
            Currency = row.Currency,
            UsdValue = row.UsdValue
        }).ToList(); 
```

这避免了所有的`DataTable`开销。如果我们*真的*想要，我们也可以实现`TradeRisk : IEquatable<TradeRisk>`，然后就这样做：

```
return (
    from DataRow tradeRow in tradeTableToFilter.Rows
    let tradeIdVal = tradeRow[tradeId]
    where tradeIdVal != null
    select new TradeRisk {
        Id = 0,
        TCN = tradeIdVal.ToString(),                               
        Currency = tradeRow[currency],                                 
        UsdValue = calculator.Invoke(tradeRow)
    }).Distinct().ToList(); 
```

# ios - 使用情节提要时设置默认选项卡

> ID：13136699
> 
> 赞同：58
> 
> 时间：2012-10-30T10:08:22.200
> 
> 标签：ios, uitabbarcontroller, storyboard, uitabbar

谁能告诉我在 iOS 中使用情节提要时如何设置默认选项卡。我似乎无法弄清楚如何做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：126
> 
> 时间：2015-01-16T23:05:35.643

虽然您可以像其他答案一样以编程方式设置初始选择的选项卡，但要在情节提要中实现相同而无需触摸代码，您将执行以下操作：

1.  在 Storyboard 界面中选择 Tab Bar Controller
2.  在实用程序面板中显示身份检查器
3.  添加新的“用户定义的运行时属性”
4.  将键路径设置为“selectedIndex”
5.  将类型设置为“数字”
6.  将值设置为您希望选择的选项卡的索引（例如，值 1 将选择第二个选项卡）
7.  保存 Storyboard，构建并运行应用程序

完成上述步骤后，它应该是这样的：

![](../Images/19f026fbab619a137f1a8c9570ee3aab.png)

* * *

## 回答 #2

> 赞同：78
> 
> 时间：2015-05-19T09:18:34.177

对于某些 subclass 来说，这似乎有些矫枉过正`UITabBarController`，但是，我认为它提供了最干净的解决方案。

1.  创造`BaseTabBarController.swift`
2.  添加一个`@IBInspectable`并将其设置为`viewDidLoad`：

    ```
    class BaseTabBarController: UITabBarController {

        @IBInspectable var defaultIndex: Int = 0

        override func viewDidLoad() {
            super.viewDidLoad()
            selectedIndex = defaultIndex
        }

    } 
    ```

3.  在情节提要中，将您设置`UITabBarController`为新的子类：

![在此处输入图像描述](../Images/67774f2e59c72dff7d473949dcde1d1f.png)

4.  转到*Attributes Inspector*添加设置新属性**Default Index**：

![在此处输入图像描述](../Images/3fa7a12117acf8f9635b9845372c4122.png)

5.  达达！（：

* * *

## 回答 #3

> 赞同：35
> 
> 时间：2013-10-17T03:09:11.163

1.  创建一个新的文件子类`UITabBarController`；
2.  在末尾添加`viewDidLoad`：

    `self.selectedIndex = 1;`

3.  将此新文件设置为`UITabBarController`情节提要中的自定义类。

你完成了。

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2013-05-03T05:54:35.910

以下代码对我有用：

```
UITabBarController *tabBarController = (UITabBarController *)self.window.rootViewController;
tabBarController.selectedIndex = 2; 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2012-11-07T22:27:03.460

您可以使用以下两种方法之一：

```
tabBar.items = tabBarItems;
tabBar.selectedItem = [tabBarItems objectAtIndex:0]; 
```

或对象的直接方法

```
[tabBar setSelectedItem:myUITabBarItem]; 
```

或者您可以将它们组合起来执行此操作：

```
tabBar.items = tabBarItems;
[tabBar setSelectedItem:[tabBarItems objectAtIndex:0]]; 
```

但我还没有测试过这种方法，希望这会有所帮助！

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2015-11-02T03:54:55.537

在 appdelegate 查找`applicationDidBecomeActive`功能并添加此行

```
let tabBarController = self.window?.rootViewController as! UITabBarController
tabBarController.selectedIndex = 0 // any index you want 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2018-08-01T12:53:22.537

**当您只想更改默认选择的控制器**时，我的变体适用，不再需要自定义。只需添加以下**类别**：

```
//  UITabBarController+DefaultPage.h
#import <UIKit/UIKit.h>

@interface UITabBarController(DefaultPage)

@end

//  UITabBarController+DefaultPage.m
#import "UITabBarController+DefaultPage.h"

@implementation UITabBarController(DefaultPage)

- (void)viewDidLoad {
    [super viewDidLoad];

    self.selectedIndex = 1;
}

@end 
```

ps：我更喜欢@joshua-finch 的[回答](https://stackoverflow.com/a/27994209/1067147)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-05-22T17:09:56.450

在`viewDidLoad()`中`TabBarController`，设置`selectedIndex`为任何你想要的。（`0`将是第一个，`3`将是第四个，等等）

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-10-05T14:19:07.803

可以通过 Xcode 8 或更高版本来实现（刚测试过，不知道这个版本之前是否可用）

按照@Joshua Finch 所说的那样执行步骤，但是：

1.  选择栏项目而不是 TabBar
2.  转到“用户定义的运行时属性”
3.  添加新密钥
4.  将其命名为“选定”
5.  将其类型设置为 boolean 并选择 true / 或选中复选框

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-11-19T12:52:01.560

基于 Aviel Gross 的回答，我只想为 UITabBar 实现这个，而不是 UITabBarController。这可以按如下方式完成：

```
class BaseTabBar: UITabBar {

    @IBInspectable var defaultIndex: Int = 0 {
        didSet {
            self.selectedItem = self.items?[defaultIndex]
        }
    }
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-05-03T09:25:43.257

如果您从例如登录屏幕导航到您的 UITabBarController，那么在此处设置选择可能最不痛苦：

```
 let tabs = self.storyboard?.instantiateViewController(withIdentifier: "tabs") as! UITabBarController
        tabs.selectedIndex = 1
        self.present(tabs, animated:false) 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-06-21T17:33:52.730

在 InterfaceBuilder 中，断开所有 segue，然后按照您希望它们出现的顺序重新连接它们。

# java - Java 按钮宽度

> ID：13136701
> 
> 赞同：5
> 
> 时间：2012-10-30T10:08:24.703
> 
> 标签：java, swing, button, size, width

我试过[用这个](http://pastebin.com/0iqjeNCM)但它不起作用

```
singleplayerButton.setBounds(20, 20, 200, 100); 
```

我不知道为什么，有人可以帮我解决这个问题吗？

我的整页代码在[这里](http://pastebin.com/iuMUkPrS)

```
package gmine;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class gmine implements ActionListener {
        JFrame interfaceFrame;
        JButton singleplayerButton, multiplayerButton, optionsButton, quitButton;

        public gmine() {
                JFrame.setDefaultLookAndFeelDecorated(false);
                interfaceFrame = new JFrame("G-Mine B0.4");
                interfaceFrame.setSize(800,600);
                interfaceFrame.setLayout(new GridLayout(9,1, 20, 15));

                singleplayerButton = new JButton("SinglePLayer");
                singleplayerButton.addActionListener(this);
                interfaceFrame.add(singleplayerButton);
                singleplayerButton.setBounds(20, 20, 200, 100);

                multiplayerButton = new JButton("MultiPlayer");
                multiplayerButton.addActionListener(this);
                interfaceFrame.add(multiplayerButton);

                optionsButton = new JButton("Options");
                optionsButton.addActionListener(this);
                interfaceFrame.add(optionsButton);

                quitButton = new JButton("Quit");
                quitButton.addActionListener(this);
                interfaceFrame.add(quitButton);

                interfaceFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                interfaceFrame.setVisible(true);
        }

        public void actionPerformed(ActionEvent a) {

        }

        public static void main(String[] args) {
                new gmine();
        }
} 
```

我试图完成使按钮更小，所以不要触摸页面的一侧。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-30T11:20:21.543

我个人会使用布局管理器，它可以让您更灵活地决定按钮的布局方式，并尽最大努力尊重您的组件首选尺寸，但让您可以根据需要自由进行调整......

对我来说，就是`GridBagLayout`

![在此处输入图像描述](../Images/07354abe4345fe2501d2b7e03fb89b70.png)

```
public class ButtonsLayout {

    public static void main(String[] args) {
        new ButtonsLayout();
    }

    public ButtonsLayout() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException ex) {
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new MenuPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class MenuPane extends JPanel {

        public MenuPane() {
            setLayout(new GridBagLayout());

            JButton singleplayerButton = new JButton("SinglePLayer");
            JButton multiplayerButton = new JButton("MultiPlayer");
            JButton optionsButton = new JButton("Options");
            JButton quitButton = new JButton("Quit");

            GridBagConstraints gbc = new GridBagConstraints();
            gbc.gridx = 0;
            gbc.gridy = 0;
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.ipadx = 20;
            gbc.ipady = 20;

            add(singleplayerButton, gbc);
            gbc.gridy++;
            add(multiplayerButton, gbc);
            gbc.gridy++;
            add(optionsButton, gbc);
            gbc.gridy++;
            add(quitButton, gbc);
        }
    }
} 
```

在这里，我使用`ipadx`and `ipady`of`GridBagConstraints`来通过布局管理器增加组件的宽度和高度，以及使用`HORIZONTAL`填充使所有组件的宽度相同。

看一下

*   [布局管理器的视觉指南](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)
*   [使用布局管理器](http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html)

了解更多信息

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-30T10:26:15.887

*   首先当你使用的时候，组件`LayoutManager`的**位置和它的大小是**由放置组件时直接Parent Compoenent的控制的。 `LayoutManager`例如**：**
    **在**
    JFrame上放置一个JButton，然后JFrame的LayoutManager控制位置和大小的 JButton。

*   我还建议您使用`GroupLayout`由 NetBeans 团队在 2005 年开发的，您可以使用[`WindowsBuilderPro`](https://developers.google.com/java-dev-tools/wbpro/)现在免费从 Google 获得的 .

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T10:27:12.173

管理器`GridLayout`将为所有组件分配相同的大小。您可以尝试使用不同的布局管理器，然后`setPreferredSize(Dimension preferredSize)`在您的组件上使用以正确调整它们的大小。

作为一个不同的示例，您还可以将 a`JPanel`放在您的顶部`JFrame`并将按钮放在那里。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-31T06:35:45.897

我尝试使用上述答案之一。现在程序不会显示。它只是终止。

```
package gmine;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class gmine {
        JFrame interfaceFrame;
        JButton singleplayerButton, multiplayerButton, optionsButton, quitButton;

    public void ButtonsLayout() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException ex) {
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("G-Mine");
                interfaceFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                interfaceFrame.setLayout(new BorderLayout());
                interfaceFrame.setSize(800,600);
                interfaceFrame.add(new MenuPane());
                interfaceFrame.pack();
                interfaceFrame.setLocationRelativeTo(null);
                interfaceFrame.setVisible(true);
            }
        });
    }

    public class MenuPane extends JPanel {

        public MenuPane() {
            setLayout(new GridBagLayout());

            JButton singleplayerButton = new JButton("SinglePLayer");
            JButton multiplayerButton = new JButton("MultiPlayer");
            JButton optionsButton = new JButton("Options");
            JButton quitButton = new JButton("Quit");

            GridBagConstraints gbc = new GridBagConstraints();
            gbc.gridx = 0;
            gbc.gridy = 0;
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.ipadx = 20;
            gbc.ipady = 20;

            add(singleplayerButton, gbc);
            gbc.gridy++;
            add(multiplayerButton, gbc);
            gbc.gridy++;
            add(optionsButton, gbc);
            gbc.gridy++;
            add(quitButton, gbc);
        }
    }
    public static void main(String[] args) {
        new gmine();
    } 
```

}

# java - 循环中变量的最后一个值是多少

> ID：13136702
> 
> 赞同：-4
> 
> 时间：2012-10-30T10:08:30.177
> 
> 标签：java

i - 10 或 11 的最后一个值是多少？

```
for (int i = 1; i <= 10; i++)  {} 
```

什么是为了

```
cycle while (i<=10) do {} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:10:03.893

对于第一个：`i = 11`

对于第二个：`i = 11`也是。

您可以通过`i`在循环之外声明，然后在循环完成后打印它的值来测试它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:10:57.327

以下代码说明了什么：

```
int i = 0;
for (i = 1; i <= 10; i++) {}
System.out.println(i);

while (i<=10) do {} is an unknown java construct, there is no such thing 
```

你可以说

`while (i<=10) { }` 但这将是一个无限循环，在执行 while 循环之前 i 的值将相同

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:13:39.053

`for (int i = 1; i <= 10; i++) {}`最后一个值为 11

`cycle while (i<=10) do {}`最后一个值也是 11

# javascript - Javascript 克隆元素

> ID：13136704
> 
> 赞同：0
> 
> 时间：2012-10-30T10:08:35.237
> 
> 标签：javascript, html, dom

```
<body>
<div>
    <p id="test"></p>
</div>
<script>
    //  I'm trying to clone an element
    var h1 = document.createElement('h1'); // I create <h1>
    h1.innerHTML('test'); // I put some text between this element <h1>test</h1>
    document.getElementById('test').appendChild(h1); // I add this h1 to <p id="test"><h1>test</h>
    var h1Clone = h1.cloneNode(true); // I use cloneNode to clone h1

    // Here I'll clone the <p> tag and add h1Clone to it
    var paragraph = document.getElementById('test'); // Look for id="test"
    paragraph.appendChild(h1); // Add h1 as <p>'s child
    var paragraphClone = paragraph.cloneNode(true); // Clone <p>
    paragraphClone.appendChild(h1Clone); // Add h1Clone as <p>'s (clone) child.

    paragraph.parentNode.appendChild(paragraphClone); // Finally I add <p>'s clone to <body> tag
</script>
</body>
</html> 
```

您好，我评论了所有内容，以便您了解我正在尝试做的事情。为什么我不能让它工作？

这是我想要的最终 html 结果：

```
<p id="test"><h1>test</h1></p>
<p id="test"><h1>test</h1></p> <-- clone -> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:12:30.287

改变`h1.innerHTML = 'test';`而不是`h1.innerHTML('test')`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:15:43.443

### 如果可以使用 jQuery，那就很简单了：

**第 1 步：**添加 jQuery 库。在该`<head>`部分中，添加以下内容：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> 
```

**第 2 步：**在`<script>`该部分的标签中`<body>`，而不是您的代码中，给出以下内容：

```
$("#test").clone().appendTo("div"); 
```

就如此容易。

### 在这里演示：http: [//jsfiddle.net/GeQpH/](http://jsfiddle.net/GeQpH/)

# linux - 仅从早到晚设置 cron

> ID：13136706
> 
> 赞同：7
> 
> 时间：2012-10-30T10:08:43.610
> 
> 标签：linux, cron, crontab

我必须每天运行 cron。

Cron 必须运行时间为上午 11 点到晚上 7 点。

在这个给定的时间内，cron 必须每天每 15 分钟运行一次。

在夜间 cron 之后必须每小时运行同样的事情？

这可能与 linux cron 调度类型有关吗？

或者我必须通过任何脚本语言来管理它。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T10:22:09.443

```
*/15 11-18 * * * statement/to/run
0 0-10,19-23 * * * statement/to/run 
```

应该做你需要的。

*/15 或 0,15,30,45 都会做同样的事情，每 15 分钟运行一次。

您需要将其分成两个条目，因为您希望它在一天中的不同时间以不同的方式运行。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-30T10:22:49.190

我不认为你可以用一个规则来做到这一点，所以你需要使用三个，像这样：

```
0          00-10 * * * /path/to/cron/job
0,15,30,45 11-18 * * * /path/to/cron/job
0          19-23 * * * /path/to/cron/job 
```

第一个规则处理 00:00 到 10:00，第二个 11:00 到 18:45 和第三个 19:00 到 23:00 来完成设置。

显然，您可以通过更改第一列中的值来调整运行时的一小时内的偏移量。

# java - JSON 编码的字符串的键是什么

> ID：13136711
> 
> 赞同：2
> 
> 时间：2012-10-30T10:08:53.850
> 
> 标签：java, php, json

我有一个使用 JSON 通过 PHP 脚本与 SQL 数据库通信的 Java 应用程序。我之前使用 JSON 对数组进行 json_encode，效果很好，您可以使用每个条目的键调用 Java 中的值。但是现在，我在 PHP 中对一个字符串进行了 json_encoded，如下所示： `json_encode("Succes!");` 现在，我如何在 Java 业务方面请求该值？我需要一些东西`jsonResponse.getString('key');`作为钥匙。关键是什么...

我希望你能理解我的问题...

```
public String send(String username, String password, String database){
    //Create a HTTPClient as the form container
    HttpClient httpclient;

//Use HTTP POST method
HttpPost httppost;

//Create an array list for the input data to be sent
ArrayList<NameValuePair> nameValuePairs;

//Create a HTTP Response and HTTP Entity
HttpResponse response;
HttpEntity entity;

//Create new default HTTPClient
httpclient = new DefaultHttpClient();

//Create new HTTP POST with URL to php file as parameter
httppost = new HttpPost("http://192.168.144.150/login/add.php");

String pass = md5(password);

//Next block of code needs to be surrounded by try/catch block for it to work
try {
    //Create new Array List
    nameValuePairs = new ArrayList<NameValuePair>();

    //place them in an array list
    nameValuePairs.add(new BasicNameValuePair("username", username));
    nameValuePairs.add(new BasicNameValuePair("password", pass));
    nameValuePairs.add(new BasicNameValuePair("database", database));

    //Add array list to http post
    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

    //assign executed form container to response
    response = httpclient.execute(httppost);

    //check status code, need to check status code 200
    if(response.getStatusLine().getStatusCode()== 200){

        //assign response entity to http entity
        entity = response.getEntity();

        //check if entity is not null
        if(entity != null){

            //Create new input stream with received data assigned
            InputStream instream = entity.getContent();

            //Create new JSON Object. assign converted data as parameter.
            //JSONObject jsonResponse = new JSONObject(convertStreamToString(instream));
            JSONArray a = new JSONArray(convertStreamToString(instream));

            //assign json responses to local strings
            String res = a.getString(0);

            //Return the json response to the gui
            return res;

        } else {
            //Toast.makeText(this, "kapot", Toast.LENGTH_SHORT).show();
            return new String("De entiteit is leeg. Kortom: kapot");
        }

    } else {
        //Toast.makeText(this, "statuscode was niet 200", Toast.LENGTH_SHORT).show();
        return new String("De statuscode was niet 200.");
    }

} catch(Exception e){
    e.printStackTrace();
    //Display toast when there is a connection error
    //Change message to something more friendly
    //Toast.makeText(this, "verbindingsproblemem", Toast.LENGTH_SHORT).show();
    return new String("Er is een fout opgetreden. Controleer a.u.b. uw gegevens en de internetverbinding.");
} 
```

不要介意荷兰语部分，这并不重要。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:14:12.097

你不需要任何钥匙

在 PHP 中

```
json_encode("Succes!"); // returns "Succes!" 
```

在 Javascript [jQuery中](http://jquery.com/)

```
var obj = jQuery.parseJSON('"Succes!"');
alert(obj); 
```

在 Java[中简单的 json](http://code.google.com/p/json-simple/)

```
Object obj = JSONValue.parse("\"Succes!\"");
System.out.println(obj); 
```

**编辑参考：@DaveRandom**

> [JSON 规范](http://www.ietf.org/rfc/rfc4627.txt?number=4627)要求 JSON 包装在数组或对象中，因为它指出：
> 
> | JSON 文本是一个序列化的对象或数组。
> 
> 严格遵循规范的任何内容都不应仅接受“字符串”或数字文字或布尔文字（标量值），但我怀疑许多解析器会接受，因为解析器通常旨在原谅与标准的微小偏差。这很烦人，因为这意味着人们随后会毫无问题地偏离标准，并想知道为什么他们后来在使用更严格的实现时会遇到问题。
> 
> 有一个论点是在这种情况下它应该返回 NULL，但是通过它的行为方式，您可以自己手动构造 JSON 字符串的一部分，并从 json_encode() 获取其他部分
> 
> ...当然，你不应该/不会这样做，但你可以。
> 
> 把它想象成 XML ——没有根节点就不可能有一个有效的 XML 文档。它们都是为表示向量和复杂结构而设计的，假设如果你有简单/标量数据要传输，你可以直接传递它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:15:39.413

`json_encode("Success!")`is的输出`"Success"`，它本身并不是一个有效的[JSON 文档](http://json.org)。有效 JSON 文档的顶级实体（根）必须是对象或数组。

如果你只想返回一个字符串，你可以这样做：

1.  使其成为数组中的唯一条目：

    ```
    json_encode(array("Success!")) 
    ```

    ...导致`["Success!"]`，您可以在 Java 代码中像这样使用它（因为您说您正在使用该`org.java`库）：

    ```
    JSONArray a = new JSONArray(jsonStringFromPHP);
    String s = a.getString(0); 
    ```

    或者当然

    ```
    String s = new JSONArray(jsonStringFromPHP).getString(0); 
    ```

2.  或使其成为对象的唯一属性：

    ```
    json_encode(array('result' => "Success!") 
    ```

    ...导致`{"result":"Success!"}`，您可以在 Java 代码中像这样使用它：

    ```
    JSONObject o = new JSONObject(jsonStringFromPHP);
    String s = o.getString("result"); 
    ```

或者当然

```
 String s = new JSONObject(jsonStringFromPHP).getString("result"); 
```

您可能可以使用[`JSONTokenizer`](http://www.json.org/javadoc/org/json/JSONTokener.html)来读取您当前的 JSON*片段*( `"Success!"`)，但我不建议这样做。坚持交换有效的 JSON 文档。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T10:17:02.127

如果您必须在 Java 应用程序中通过密钥访问 JSON 数据，最好的选择是：

```
json_encode(array('message' => 'Success!')); 
```

然后在 Java 中（根据您的示例代码）：

```
jsonResponse.getString('message'); 
```

# .net - 无法创建 SOAP 标头对象

> ID：13136718
> 
> 赞同：1
> 
> 时间：2012-10-30T10:09:19.713
> 
> 标签：.net, web-services, soap, wse3.0

我们有一个 webserice，它接收带有如下所示肥皂头的 SOAP 消息......

以下 SOAP 消息正在发送到 Web 服务。但是，Web 服务无法将标头序列化到 MyMessageID 对象中

```
<soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"       
xmlns:xsd="http://www.w3.org/2001/XMLSchema"  
xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">  
<soap:Header xmlns:wsa="http://schemas.xmlsoap.org/ws/2004/03/addressing">  
<wsa:To>https://www.xxx.co.uk/webservices/xxxxDEV/Service.asmx?  
op=TradesmanAllNBAt</wsa:To>  
<wsa:From>  
<Address>FromAddress</Address>  
</wsa:From>  
<wsa:ReplyTo>  
<Address>ReplyToAddress</Address>  
</wsa:ReplyTo>  
<wsa:Action>https://www.xxxx.co.uk/webservices/xxxxxDEV/TradesmanAllNBAt</wsa:Action>  
<wsa:MessageId>uuid:c6555fee-8b51-4664-88c8-74345b04dda5</wsa:MessageId>  
</soap:Header> 
```

Web服务的代码如下定义

```
 Imports System.Web.Services  
    Imports System.Web.Services.Protocols  
    Imports System.ComponentModel  
    Imports System.Xml  
    Imports Microsoft.Web.Services3  
    <System.Xml.Serialization.XmlRootAttribute(ElementName:="MessageId",  
    Namespace:="wsa", datatype:="string")> _  

    Public Class MessageId : Inherits SoapHeader  
        <System.Xml.Serialization.XmlTextAttribute()> _  
        Public TextValue As String  
    End Class  

    <System.Web.Services.WebService(Namespace:="https://www.xxxx.co.uk/webservices/xxxxDEV/")>   _    
    <ToolboxItem(False)> _  
    Public Class Service1  

        Inherits System.Web.Services.WebService  
        Public myMessageID As New MessageId  
        Public myRelatesTo As New RelatesTo  
        <WebMethod(), _  
            SoapHeader("myMessageID", Direction:=SoapHeaderDirection.InOut)>  
        Public Function TradesmanAllNBAt(ByVal objDocument As XmlDocument) As XmlDocument  

            Try  
                  myRelatesTo.TextValue = myMessageID.TextValue  

                Return (Nothing)  
            Catch ex As Exception  
                logError(ex.ToString)  
                Return Nothing  
            End Try  

        End Function  
    End Class  

The myMessageID object does not exists we accessing myMessageID.textvalue 

However, if I change the soap header and remove the name space as shown below

<soap:Header>

It works??  The third party insists on sending the name space in the soap header tag and I do not know how to resolve this issue.

Come on you SOAP gurus I really need help on this.

Many thanks in advance 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T09:27:11.917

问题与序列化和名称空间有关，将 MessageID 类序列化更改为 System.Xml.Serialization.XmlRoot 并添加正确的命名空间

```
<System.Xml.Serialization.XmlRoot(ElementName:="MessageId", Namespace:="http://schemas.xmlsoap.org/ws/2004/03/addressing", datatype:="string")> _
Public Class MessageId : Inherits SoapHeader
    <System.Xml.Serialization.XmlTextAttribute()> _
    Public TextValue As String
End Class 
```

# php - 定制美德玛购物车

> ID：13136722
> 
> 赞同：1
> 
> 时间：2012-10-30T10:09:34.147
> 
> 标签：php, html, mysql, joomla, virtuemart

我想定制最新版本的德德玛特和 Joomla 2.5 的添加到购物车和实际结帐流程。

我要做的第一件事是更改它，以便在将产品添加到购物车时，而不是 JS 弹出框，我希望它直接重定向结帐的第一阶段。

然后我想将结帐分成 4 个页面，从用户输入他们的详细信息开始，然后查看购物车、付款和订单确认。

我不期待一步一步的指示，只是指出正确的方向。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:24:53.853

你可以这样工作，

首先，您需要将添加到购物车的内容重定向到另一个页面。然后转到管理员配置。

VM->configuration->checkout->Display modal popup on 'Add to cart' 取消选中此项。

然后您将获得第一页（购物车的步骤），即 VM2 及更高版本的 default_pricelist.php。下一步您可以使用购物车控制器 cart.php 来实现。

这一步涉及到账单和送货地址的选择，您可以在控制器的视图/用户/两个功能下找到文件选择BT和ST。

同样在这里，您可以通过在购物车视图下创建布局并使用购物车控制器来定义新步骤。最后一步，包括布局 order_done.php

祝你好运。

# javascript - 为什么 i-- 在循环中比 i++ 快？

> ID：13136724
> 
> 赞同：230
> 
> 时间：2012-10-30T10:09:43.783
> 
> 标签：javascript, performance, algorithm, optimization

> **可能重复：**
> [JavaScript - 反向循环真的更快吗……？](https://stackoverflow.com/questions/1340589/javascript-are-loops-really-faster-in-reverse)

我不知道这个问题在其他语言中是否有效，但我是专门针对`JavaScript`.

我在一些文章和问题中看到 JavaScript 中最快的循环是这样的：

```
for(var i = array.length; i--; ) 
```

同样在 Sublime Text 2 中，当您尝试编写循环时，它建议：

```
for (var i = Things.length - 1; i >= 0; i--) {
    Things[i]
}; 
```

我想知道，为什么`i--`比`i++`循环更快？

# youtube - YouTube 视频实际上已下载到浏览器缓存中！他们不是在流媒体吗？

> ID：13136726
> 
> 赞同：0
> 
> 时间：2012-10-30T10:09:49.780
> 
> 标签：youtube, video-streaming, progressive-download

这听起来可能是一个非常愚蠢的问题，但一直困扰着我一段时间！你看，我可以通过设置 red5 媒体服务器并使用 rtmp 协议来保护我的视频不被下载......那么为什么 YouTube 视频实际上是可下载的，我可以在浏览器的缓存中找到它们？！这是否意味着他们正在使用渐进式方法？那他们为什么不使用流呢？如果它是一个流，那么为什么我们可以下载它们？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T15:27:12.977

渐进式下载比视频流更好。由于大量用户将观看大量视频，因此管理流媒体服务器变得非常困难。为此，他们将不得不投入大量的精力和资源 [与渐进式下载方法相比]。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-09T22:03:37.563

通过使用渐进式下载，它允许向后搜索而无需重新获取数据。如果该部分视频已加载，则向前搜索几乎是瞬时的。通过将其存储在本地，您可以重新播放而无需再次下载视频，从而减轻服务器的负载。

# hibernate - 如何在没有访问父实体 [many-to-many] 的情况下获得排序的子级

> ID：13136729
> 
> 赞同：3
> 
> 时间：2012-10-30T10:09:52.550
> 
> 标签：hibernate

例如，A 和 B 之间存在多对多关联。并且

```
 A.bs是按中间表中的索引列排序的 List<B> 排序的：idx
```

所以我们没有将 idx 列映射为 Class 字段。

现在我们要单独查询B的列表，主要条件是A的id。但是当直接查询 B 时，它会出现一个未排序的列表（不要按 idx 字段排序）。

我知道我们可以首先检索 A，然后将 B 收集到一个列表中。但是，考虑到框架，我们可以这样做，它必须返回一个List而不需要手动编码（不想过多描述框架。总之，这个限制是我们自己封装的分页工具造成的，我不想修改它。）。

有什么方法可以通过 HQL/Criteria 解决这个问题。标准是优选的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-31T11:16:43.083

好的。这个问题已经解决了。在 hql 中使用 index() 函数会得到正确的结果。如：

```
select b from A a left join a.bs b where a.id = ? 按索引排序（b）
```

index() 的限制是子级必须由父级在 hql 中导航，否则会抛出异常。意味着像“select b from B b order by index(b)”这样的hql是非法的。此外，不要在此关联导航中使用“获取”（这不是本问题所关心的问题）。

希望对对此感到困惑的人有用。

# regex - 正则表达式：只有数字或空字符串

> ID：13136740
> 
> 赞同：1
> 
> 时间：2012-10-30T10:10:15.780
> 
> 标签：regex

我有一个电话输入字段。您应该只键入数字、空格或将其留空。一个想法如何构建正则表达式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T10:12:17.717

正则表达式将是

```
^[\d ]*$      # in JavaScript, that's /^[\d ]*$/ 
```

但我不会这样做。您应该允许所有字符，然后在第二步中过滤掉数字，使用类似`result = subject.replace(/\D+/g, "");`.

原因：人们输入电话号码（`1-(123) 343-2345`等等）的方法有很多种，如果网站告诉他们号码不正确，他们会不喜欢。

您是否知道您正在排除具有此要求的国家/地区代码？我将所有电话号码都存储为`+49 123 456-7890`，我不希望我的国家代码被误认为是区号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:12:45.457

您可以使用此正则表达式：

```
/^[\d\s]*$/ 
```

# android - Android 2.3 设备处于睡眠模式时没有声音

> ID：13136745
> 
> 赞同：1
> 
> 时间：2012-10-30T10:10:42.963
> 
> 标签：android, media-player, android-2.3-gingerbread

我正在使用以下代码播放声音`onFinish`：`countDownTimer`

```
 AssetFileDescriptor afd = getActivity().getApplicationContext().getAssets().openFd("NoticeWarning.wav");
mMediaPlayer.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength());
afd.close();
mMediaPlayer.prepare();
mMediaPlayer.start(); 
```

现在，当我使用设备上的*电源按钮*启动`timer`设备并将设备置于睡眠模式时，完成后声音不会在 android 2.3.3 (Galaxy S2) 中播放。*`android``timer`*

 *定时器完成后，在睡眠模式下不播放声音，一段时间后，当我再次按下电源按钮打开设备时，声音播放。`Galaxy S`声音在android 2.2中播放良好。

任何人都知道为什么设备处于睡眠模式时没有播放声音`android 2.3.3`。

**附加信息**

如果 2.3.3 设备连接到 USB 电缆，则不会发生上述问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:22:22.007

欢迎来到令人兴奋的设备/操作系统不一致的世界。

考虑改用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)*

# android - 我如何在 mysql-table（存储纬度和经度的地方）中查询最接近输入位置（纬度和经度）的位置？

> ID：13136746
> 
> 赞同：1
> 
> 时间：2012-10-30T10:10:46.997
> 
> 标签：android, mysql, google-maps, gps

我想在android中制作一个应用程序。在这个应用程序中，用户必须在这个应用程序中注册。注册后，gps 位置（经纬度）将与用户信息一起存储在数据库表中。在这个应用程序中，我想添加一个“搜索根中的人”的功能。用户可以输入起点和终点（如：孟买到德里）。并且希望找到这两个点之间的每个民族。

例如：用户 A 新注册了这个应用程序。用户 A 的 gps 位置类似于 lat = 20.234554 和 long = 56.21455255。现在他将像孟买一样输入两个点到德里，然后单击搜索按钮。现在我想在已经存储了每个人的信息的数据库中查询。我想在数据库中查询“从孟买到德里之间的人们的位置（表）中选择 *”

数据库表“locations”有四个字段 id、lat、long 和 cityname。现在我想在数据库上进行上述查询，在那里我可以找到两个输入地理点之间的人。

希望我已经很好地解释了您理解我想要实现的只是我想从输入位置（纬度和经度）的数据库表中搜索附近的位置（纬度和经度）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:39:08.703

```
SELECT *, ((ACOS(SIN(23.037698 * PI() / 180) * SIN(latitude * PI() / 180) + COS(23.037698 * PI() / 180) * COS(latitude * PI() / 180) * COS((72.564835 - longitude) * PI() / 180)) * 180 / PI()) * 60 * 1.1515 * 1.609344) as distance FROM location; 
```

如果您输入，上述查询将返回您的距离

```
lat = 23.037698
long = 72.564835 
```

现在比较距离说距离> 50kms。

这对我有用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T10:51:58.700

我建议通过一些可以索引的条件来限制您的位置。您可以轻松地做到这一点，因为您可能不想将某人从美国到巴黎的某人列为最近的位置。

只需对 RustamIS 查询稍作修改，您就可以消除大部分不相关的位置。

```
select * from gps_location_table t 
where
    t.x between 20.134554 and 20.334554 and t.y between 56.11455255 and 56.31455255
order by 
    sqrt((t.x - 20.234554)*(t.x - 20.234554) + (t.y - 56.21455255)*(t.y - 56.21455255)
desc 
```

所以你定义了一个矩形，你想在其中寻找最近的人。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T10:36:01.663

让 long => Y 和 lat => X 然后像这样查询

```
select * from gps_location_table t 
order by 
     sqrt(pow((t.x - 20.234554),2) + pow((t.y - 56.21455255),2))
desc 
```

答案一定是这样的！！！提到这个公式不会返回正确的距离，但它有效，并且比计算实际距离更快。

主要意思是两个坐标之间的距离是：

```
sqrt((x1-x2)^2 + (y1-y2)^2) 
```

# android - 在listview android中滚动项目

> ID：13136756
> 
> 赞同：2
> 
> 时间：2012-10-30T10:11:32.493
> 
> 标签：android

我`ListView`首先使用两个是主要的`ListView`，在第一行内`ListView`我正在添加其他项目`ListView`，现在问题是根据`ListView`不可滚动的值，当我滚动时我面临运行时异常

```
 java.lang.IllegalStateException: The content of the adapter has changed but ListView did not receive a notification. Make sure the content of your adapter is not modified from a background thread, but only from the UI thread. 
```

我搜索了这个问题，我知道`notifydatasetchanged`在适配器中添加值后我必须调用，但是滚动视图也没有在`ListView`. 请帮忙

# spring-mvc - 使用参数/属性进行 Spring 配置

> ID：13136757
> 
> 赞同：1
> 
> 时间：2012-10-30T10:11:33.493
> 
> 标签：spring-mvc, configuration, properties

我正在构建一个围绕外部客户端库的[Spring Web MVC 应用程序。](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html)此外部库使用属性文件进行配置。在我的应用程序中，我想启用可以从外部更改此配置的路径。

我目前的解决方案如下所示：

```
 <util:properties id="libProps" location="#{systemProperties['lib.propertyFile'] ?: '/META-INF/res/lib.properties'}"/> 
```

这适用于一个限制，路径必须在 Servlet-Container 启动期间作为属性附加。如果可以通过某种 API 设置配置，那将是更可取的。

从我目前发现的情况来看，我似乎更应该使用上下文参数，但我还没有真正发现这在 Spring 配置 XML 中是如何实现的。

干杯。

# html - 如何在 CSS 中创建动态宽度箭头？

> ID：13136759
> 
> 赞同：1
> 
> 时间：2012-10-30T10:11:45.357
> 
> 标签：html, css

我需要写一个页面底部有一个全角箭头的页面。因此，我使用以下 HTML：

```
<div id="footer_wrap">
    <div id="footer_left"></div>
    <div id="footer_right"></div>
</div> 
```

相关的 CSS 是：

```
#footer_wrap{
width: 100%;
}

#footer_left{
background: url('../img/arrow_bg1.png') repeat-x;
width: 100%;
height: 183px;
position: absolute;
left: 0;
}

#footer_right{
display: inline-block;
background: url('../img/arrow_bg2.png') no-repeat;
width: 250px;
height: 183px;
position: absolute;
right: 0;
} 
```

从理论上讲，这应该有效——事实上，当我使用具有固定背景颜色的图像时，它确实有效。然而，我的客户要求它们是透明的，不幸的是，这揭示了我的黑客背后的丑陋真相——箭头的“轴”从箭头的头部向外窥视。我能做些什么呢？

构成箭头的图像是一个 1x183 像素的“轴”纹理，在箭头的整个长度（或者，在这种情况下，整个页面`[width: 100%]`）中重复，箭头是一个 250x183 像素的矩形。

箭头需要占据整个页面并且需要使用透明图片，所以这些解决方案马上就被淘汰了。我想类似的东西是`width: 100%-250px`可以接受的，但是 CSS 不支持这些恶作剧。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-30T10:17:29.013

您已经在使用 position:absolute; `width:100%`因此，您可以设置`left`and来代替`right`：

```
#footer_left{
position: absolute;
left: 0;
right:250px;
/* etc */
} 
```

还有许多其他解决方法，但对于您的具体情况，我认为这是最简单的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:21:20.573

我认为这种方法可能有效：http: [//jsfiddle.net/27p4e/](http://jsfiddle.net/27p4e/)

```
<div class="footer">
 <div class="footer-left">left</div>
 <div class="footer-right">right</div>
</div>

.footer {
width:100%;
height:183px;
overflow:auto;
background:#ccc;
display:table;
}

.footer-left {
display:table-cell;
background:red;
height:183px;
}
.footer-right {
display:table-cell;
width:250px;
height:183px;
background:blue;
} 
```

# windows - 如何让 PuTTY 通过 ssh 传递 Ctrl-PgUp 和 Ctrl_PgDown？

> ID：13136764
> 
> 赞同：5
> 
> 时间：2012-10-30T10:12:01.357
> 
> 标签：windows, putty

目前在腻子中，它用于像鼠标滚轮一样滚动回滚缓冲区。但是，如果将鼠标滚轮事件传递给 ssh 服务器，则在需要时（例如在 vim 中），不会使用 Ctrl-PgUp。

即使我将回滚缓冲区大小设置为 0，这些击键在 ssh 连接的另一端仍然不可见。

# database - Lazarus Pascal / Delphi - 连接到数据库时出错

> ID：13136775
> 
> 赞同：0
> 
> 时间：2012-10-30T10:12:28.820
> 
> 标签：database, postgresql-9.1, freepascal, lazarus, fpc

我正在尝试使用 Lazarus pascal 连接到我的 postgresql 数据库。我在编译结束时收到此错误（F9）。

> mainform.pas(112,35) 错误：为调用“创建”指定的参数数量错误

这是我的代码：

```
 dbConn:= TSQLConnection.Create(nil);    
  dbConn.HostName := '<IP goes here>';    
  dbConn.DatabaseName:= 'dbMydb';    
  dbconn.UserName:='me';    
  dbConn.Password:='pas';    
  dbConn.Open;

  //Bind the Transaction AND Query components to the DB connection

  dbQuery_Menu := TSQLQuery.Create; //This is the line with the error    
  dbQuery_Menu.Database := dbConn;    
  dbQuery_Menu.Transaction := dbTrans ; 
```

我真的很想弄清楚这个问题......请提供任何帮助......

上面的代码改编[自这里](http://wiki.freepascal.org/SqlDBHowto)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T21:45:42.303

似乎哪个[文档](http://wiki.freepascal.org/SqlDBHowto)已经过时，`TSQLQuery`来自`TCustomSQLQuery`定义构造函数的类的后代，例如

```
 constructor Create(AOwner : TComponent); override; 
```

所以你需要像这样修改你的代码

```
dbQuery_Menu :=TSQLQuery.Create(nil); 
```

# python - Python 日期 - 编程困境

> ID：13136777
> 
> 赞同：0
> 
> 时间：2012-10-30T10:12:36.850
> 
> 标签：python, datetime

我在用`datetime`

我有一个用户时间表列表，这些时间表是为一周选择的（周日到周六）

```
timesheet_entries = [entry for entry in timesheet_entries if within_dates(datetime.datetime.strptime(entry["work_performed_on"], "%Y-%m-%d").date())] 
```

我需要检索每天为每个条目提交的时间（每天可以有多个条目）。`entry["work"`] 返回成员为该条目花费的时间。

有任何想法吗？我并不是在这里寻找代码答案，而是更多这样做的逻辑。例如，我可以要求每一天的条目，例如`monday = [entry for entry in timesheet_entries if within_dates (monday etc)]`然后循环计算时间并为每一天做同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:34:22.240

目前尚不清楚您希望如何处理结果。假设您想要计算一周中每天工作的总小时数（时间），请尝试这种方法。

由于一周中的天数是固定的，因此只需循环遍历一周中的天数。对于每一天，过滤当天的条目，然后收集时间。您可以使用 a `defaultdict`，其中键是工作日，每个条目都是当天所有时间的列表。

```
from collections import defaultdict

total_times = defaultdict(list)

for i in range(0,7):
   total_times[i] = [entry['work'] for entry in timesheet_entries if within_dates(i)] 
```

*假设这里`within_dates`需要一个天数。*

现在，要获得总数：

```
for i in total_times:
   print 'Total for i ', sum(total_times[i]) 
```

# seo - 谷歌网站管理员工具报告奇怪的网址

> ID：13136780
> 
> 赞同：3
> 
> 时间：2012-10-30T10:12:51.040
> 
> 标签：seo, expressionengine

我最近加强了 ExpressionEngine 网站模板上的 404 重定向，当我下次登录该网站的网站管理员工具时，它报告了大量非常奇怪的 404 URL，例如`/template-group/page-title/1345982934000/`，在某些情况下`/template-group/page-title/1346182913000/1347692092000/`

当检查这些链接以找出它们从哪个页面链接时，它显示`/template-group/page-title/`了从正确的页面 URL 链接到不正确的页面 URL，但是当我检查这些页面的前端代码时，狡猾的链接不存在。

那么这些奇怪的链接是从哪里来的呢？有没有人遇到过类似的事情？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:32:12.767

这些是时间戳，除了尾随的零。一个快速的谷歌出现了[这个结果](https://productforums.google.com/forum/#!msg/webmasters/8x3OnSCtGDc/-_7RHiV_Y1EJ)——你在用 Disqus 来评论吗？如果是这样，那可能就是罪魁祸首。

一位[谷歌员工](https://productforums.google.com/d/msg/webmasters/zvez-eib0Ao/lf08lf_K8AkJ)关于这个主题的引述：

> 看起来我们正在通过 JavaScript 找到一些有趣的东西。我们正在研究在这种特殊情况下可以做些什么。同时，请记住，无效的 URL 的 404 错误（看起来像这样）不会影响您网站的索引或排名，所以虽然我理解它们可能会造成混淆（我很抱歉这里的 URL 数量），这不是你需要采取行动的东西。

# javascript - 使用jquery获取具有类的元素的不同名称

> ID：13136781
> 
> 赞同：3
> 
> 时间：2012-10-30T10:12:54.453
> 
> 标签：javascript, jquery

我有以下 HTML：

单选按钮列表：

```
<input name="rdLst163" class="required_Mandatory_RbtLst" id="rdLst163_1" onclick="fn("1631");" type="radio" value="1"/>
<input name="rdLst163" class="required_Mandatory_RbtLst" id="rdLst163_2" onclick="fn("1632");" type="radio" value="2"/>
<input name="rdLst163" class="required_Mandatory_RbtLst" id="rdLst163_3" onclick="fn("1633");" type="radio" value="3"/>

<input name="rdLst164" class="required_Mandatory_RbtLst" id="rdLst164_1" onclick="fn("1641");" type="radio" value="1"/>
<input name="rdLst164" class="required_Mandatory_RbtLst" id="rdLst164_2" onclick="fn("1642");" type="radio" value="2"/>
<input name="rdLst164" class="required_Mandatory_RbtLst" id="rdLst164_3" onclick="fn("1643");" type="radio" value="3"/> 
```

复选框列表：

```
<input name="chLst165" class="required_Mandatory_ChkLst" id="chkLst165_1" onclick="fn("25");" type="checkbox" value="1"/>
<input name="chLst165" class="required_Mandatory_ChkLst" id="chkLst165_2" onclick="fn("25");" type="checkbox" value="2"/>
<input name="chLst165" class="required_Mandatory_ChkLst" id="chkLst165_3" onclick="fn("25");" type="checkbox" value="3"/>

<input name="chLst166" class="required_Mandatory_ChkLst" id="chkLst166_1" onclick="fn("25");" type="checkbox" value="1"/>
<input name="chLst166" class="required_Mandatory_ChkLst" id="chkLst166_2" onclick="fn("25");" type="checkbox" value="2"/>
<input name="chLst166" class="required_Mandatory_ChkLst" id="chkLst166_3" onclick="fn("25");" type="checkbox" value="3"/> 
```

和以下 jQuery ：

```
<script>
$(document).ready(function () {
  $('.required_Mandatory_ChkLst[name!=]'); 
  $('.required_Mandatory_RbtLst[name!=]');
// result is fetching all 6 elements. I need only distinct element names [here 2 elements] in each class.
});
</script> 
```

如何在 jQuery 中获取类的不同元素名称？

要求的结果：

```
["rdLst163", "rdLst164"]  
["chLst165", "chLst166"] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:32:16.430

```
var cbnames = [];
$('.required_Mandatory_ChkLst[name!=]').map(function() {
    return this.name;
}).each(function(i, str) {
    if (!~$.inArray(str, cbnames)) cbnames.push(str);
});
console.log(cbnames); //["chLst165", "chLst166"] 
```

[**小提琴**](http://jsfiddle.net/Xpp7C/1)

简单地说，这个解决方案将元素的名称[映射](http://api.jquery.com/map/)到一个 jQuery 对象包装的数组中，该数组被[迭代](http://api.jquery.com/each/)，唯一的值[被推](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/push)送到一个数组中。

* * *

映射不是很必要，因此为简单起见，您也可以跳过该步骤。

```
var cbnames = [];
$('.required_Mandatory_ChkLst[name!=]').each(function() {
    if (!~$.inArray(this.name, cbnames)) cbnames.push(this.name);
});
console.log(cbnames); //["chLst165", "chLst166"] 
```

[**小提琴**](http://jsfiddle.net/Xpp7C/2/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:15:49.350

您可以执行以下操作：

**演示**：http: [//jsfiddle.net/DvegQ/](http://jsfiddle.net/DvegQ/)

**代码：**

```
var classNames = [];
$('*').each(function() { classNames[$(this).attr('name')] = 1; });
for(var x in classNames) { console.log(x); } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T10:44:36.843

我相信你想要的是这个

```
var mapped = $('.required_Mandatory_ChkLst[name!=], .required_Mandatory_RbtLst[name!=]').map(function() {
    return $(this).attr('name');
});

var unique = mapped.filter(function (i, itm) {
    return i == $.makeArray(mapped).indexOf(itm);
});

console.log(unique); 
```

首先，我们将 dom 元素的集合映射到具有所述元素名称的字符串值集合。其次，我们过滤此名称集合以仅包含唯一实例。

**注意：**其他答案建议使用 jQuery.unique。但是，此方法适用于 dom 元素的集合，在您的情况下，所有这些元素都是独一无二的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-30T10:39:59.247

类似于`filter()`：

```
$(function(){
    var names = [];
    $('.required_Mandatory_RbtLst').each(function(){

        if($.inArray($(this).prop('name'), names) === -1)
            names.push($(this).prop('name'));
    });

    console.log($(names));
});​ 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-30T10:16:18.547

您可以使用 jQuery`.unique()`方法，

```
jQuery.unique($('.required_Mandatory_RbtLst[name!=]')); 
```

参考：[http ://api.jquery.com/jQuery.unique/](http://api.jquery.com/jQuery.unique/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-30T10:17:39.553

试试这个

```
var names = $("input").map(function(){ return $(this).attr('name'); });
var distinctNames = $.unique(names); 
```

在此处阅读有关地图功能的更多信息[http://jqapi.com/#p=map](http://jqapi.com/#p=map)

# java - 如何在 Alfresco 中获取所有文件夹的孩子？

> ID：13136783
> 
> 赞同：1
> 
> 时间：2012-10-30T10:12:57.990
> 
> 标签：java, alfresco, cmis

我正在尝试使用以下代码获取文件夹的所有子项（在 Alfresco 服务器中创建的文件夹）

```
//Path is the path to the location of the folder in alfresco server
String folderId = session.getObjectByPath(path).getId();
Folder folder = (Folder) session.getObject(folderId);
if(folder.getChildren()!= null) {
  ItemIterable<CmisObject> childFolderIterable = folder.getChildren();
  if(childFolderIterable.getHasMoreItems()) {
    Iterator<?> childFolders = childFolderIterable.iterator();
    while(childFolders.hasNext()) {
      Folder subChildFolder = (Folder) childFolders.next();
      getChildrenRepositories(subChildFolder);              
    }
  }
} 
```

现在我的问题是 Alfresco 的文件夹包含 2 个不同的子文件夹，但以下代码 childFolderIterable.getHasMoreItems() 返回 false。

有人可以调查一下并指导我哪里错了，或者有什么合适的方法可以找到文件夹的孩子吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-01T13:06:39.667

也可以通过以下方式完成：

```
 for(CmisObject obj: folder.getChildren()) {
        System.out.println("Name: " + obj.getName());
        System.out.println("Id: " + obj.getId());
        System.out.println("Type: " + getType(obj.getType()));
        System.out.println();
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T14:51:19.163

getHasMoreItems() 方法文档说：

> 返回存储库是否包含超出已获取项目页面的其他项目。返回：true => 将向存储库发出更多页面请求

如果它返回 false，则意味着您通过调用 getChildren() 获取的页面已经包含此文件夹的所有子级，并且不需要进一步的请求（获取剩余的子级）。如果您有一个包含很多子文件夹的文件夹，您可以使用操作上下文来分页结果。OpenCMIS 项目站点提供了一个适当的[示例](http://chemistry.apache.org/java/examples/example-list-folder.html)。

如果您不使用分页，则只需调用：

```
Iterator<CmisObject> it = folder.getChildren().iterator();

while(it.hasNext()) {
  CmisObject object = it.next();

  // Do something with the child object
} 
```

迭代器应该提供您正在寻找的两个孩子。

# java - 记录方法的名称和参数

> ID：13136790
> 
> 赞同：5
> 
> 时间：2012-10-30T10:13:21.003
> 
> 标签：java, logging

我一直在与一家公司合作，在当前的项目中，该公司必须实施一项在代码中编写大量跟踪日志记录 (JAVA) 的政策，该政策已经完成了一段时间。

我试图避免更改每一个方法，只是为了在所有方法上编写 logger.log('desired values') 之类的代码行。这太适得其反了。

是否有一种通用的方法来记录方法名称、它接收的参数，而无需更改大部分代码？我一直在研究注释和类似的东西，但是有很多不同参数的方法，所以我一直没能想出一个好的解决方案。

编辑1：该项目正在eclipse上开发。我正在使用 Liferay 和 JBoss 在门户中进行一些更改。

编辑 2：我遵循了这里给我的解决方案并使用了拦截器。我必须对现有方法做的唯一更改是向它们添加注释，这是完全可以接受的。在此链接中搜索更多信息：http: [//docs.oracle.com/javaee/6/tutorial/doc/gkeed.html](http://docs.oracle.com/javaee/6/tutorial/doc/gkeed.html)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-03T08:14:01.190

最好的方法是使用 AOP 和 Java 注释。我建议使用[jcabi-aspects](http://www.jcabi.com/jcabi-aspects/)[`@Loggable`](http://www.jcabi.com/jcabi-aspects/annotation-loggable.html)的注释和 AspectJ方面（我是开发人员）：

```
@Loggable(Loggable.DEBUG)
public String load(URL url) {
  return url.openConnection().getContent();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T10:44:18.753

转到 Window->Preferences，选择 Java->Editor->Templates，使用 Pattern 即创建一个名为“logmeth”的新模板：

```
if(logger.isDebug())logger.debug("${exception_variable_name} ${return_type} "+getClass().getName()+"${enclosing_method}(${enclosing_method_arguments})"+String.format("***",${enclosing_method_arguments})); 
```

并按 OK。

在 java Editor 中编写logmeth并按`Strg`++并且Eclipse 将编写 ie：`space``space``Enter`

```
if(logger.isDebug())logger.debug("e boolean hasFuture(man, woman)"
            + String.format("***", man, woman)); 
```

Eclipse 太酷了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-30T10:24:40.167

您可以使用拦截器[http://docs.oracle.com/javaee/6/tutorial/doc/gkeed.html](http://docs.oracle.com/javaee/6/tutorial/doc/gkeed.html)来拦截对公共方法的调用，而无需更改任何代码，但不可能将此技术用于非公共方法。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-30T10:16:50.827

你应该看看[AOP](http://www.javacodegeeks.com/2012/06/simple-introduction-to-aop.html)。它使您能够在运行时注入代码，从而在每个方法之前/之后添加日志记录。

# ruby - 为什么 Integer("09") 在红宝石中抛出异常而 Integer("07") 工作得很好？

> ID：13136796
> 
> 赞同：2
> 
> 时间：2012-10-30T10:13:28.557
> 
> 标签：ruby

我正在使用红宝石 1.9.3

为什么 Integer("09") 在 ruby​​ 中抛出“Integer 异常的无效值”，而 Integer("07") 工作得很好？

提前致谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-30T10:14:52.837

因为前导零是八进制（“base 8”）表示法的常见约定。八进制中没有`9`数字，因此使用一个是语法错误。

如果您写了`Integer("014")`，您将得到数字 12。（因此，如果您不打算使用八进制表示法，请不要使用前导零。）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-30T10:14:45.427

如果你以 0 开头，它认为它是八进制的。9 不是有效的八进制数字！

# python - 尚未启动线程，但 Python 抛出异常“线程已启动”

> ID：13136800
> 
> 赞同：0
> 
> 时间：2012-10-30T10:13:36.033
> 
> 标签：python, multithreading

我正在编写一个生产者-消费者应用程序。生产者线程启动正常，但是当我尝试启动消费者线程时，出现异常。以下是相关代码：

```
#Producer threads
    for i in range(nThreads):
        self.producerThreads.append(MailThread(i, settings.MAX_EMAILS_PERPASS, self.toFetchQueue, self.rawEmailsQueue, self.stopEvent))
        self.producerThreads[i].start()
        logging.info('Started producer thread %d', i)

    #Consumer threads
    #for i in range(settings.MAX_CONS_THREADS):
    try:
        self.consumerThreads.append(ProcessThread(i, settings.STORE_DIRECTORY, settings.DELETE_ONPIPE, self.rawEmailsQueue, self.stopEvent))
        self.consumerThreads[i].start()
        logging.info('Started consumer thread %d', i)
    except Exception, e:
        logging.error('Failed to start consumer thread %s', str(e)) 
```

这是消费类：

```
import logging, commands, threading, uuid, os, settings, Queue

class ProcessThread(threading.Thread):
"""
Class to process the emails. 
"""
def __init__(self, threadCount, storeDirectory, deleteOnPipe, rawEmailsQueue, stopEvent):
    self.threadCount = threadCount
    self.rawEmailsQueue = rawEmailsQueue
    self.stopEvent = stopEvent
    self.storeDirectory = storeDirectory
    self.deleteOnPipe = deleteOnPipe
    threading.Thread.__init__(self)

def run(self):
    logging.info('Run process for consumer thread %d', self.threadCount)

    while not self.stopEvent.is_set():
        try:
            emailContainer = rawEmailsQueue.get(False)
            logging.debug('Got a new email')

        except Queue.Empty:
            logging.debug('No emails in queue, going to sleep for a while')
            sleep(0.1)
            continue 
```

#剩下的处理代码

我无法获得正确的缩进，这在我的代码中很好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:19:43.600

这是一个愚蠢的错误（可能是因为我经常使用 PHP 进行编码）。我已经像这样初始化了数组：

```
self.producerThreads = self.consumerThreads = [] 
```

两个数组都引用相同的内存。

# xcode - 在 ViewControllers 和 CoreData 更新之间传递对象

> ID：13136803
> 
> 赞同：0
> 
> 时间：2012-10-30T10:13:56.643
> 
> 标签：xcode, core-data

我在 iOS 项目中有一个 UITableView。当用户从表中选择一个项目时，该对象将从 CoreData 中检索并存储在“播放器”对象中。然后将此播放器对象传递给另一个视图控制器。

我的问题是：如果我对此 Player 对象中的属性进行更改，我该如何保存这些更改。CoreData 如何知道哪个 Player 对象发生了变化？我没有设置 playerID 属性，因为所有 Core Data 文档都说它管理自己的 ID 和引用。

**更多的：**

所以，目前，我正在这样做（请原谅伪代码，我现在手头没有源代码）：

`Player *player1 = [NSFetchResultController objectAtIndex:0]
Player *player2 = [NSFetchResultController objectAtIndex:1]
GameViewController *gameVC = [[GameViewController alloc] init]
gameVC.player1 = player1;
gameVC.player2 = player2;
gameVC.managedObjectContext = self.managedObjectContext
[self performSegueWithIdentifier:@"Game"]`

我将 Player 类型的对象传递给 gameVC，它们没有标识符（因为 Core Data 不需要创建显式 ID 属性 - 据称！）

那么 gameVC 中的 MOC 是如何准确地知道哪些对象要提交任何更改呢？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:20:19.127

您对 Player 对象所做的更改会应用播放器被提取到的托管对象上下文。如果您也将托管对象上下文引用传递给新的视图控制器，那么您可以保存托管对象上下文并且将保存更改。

除了该托管对象上下文中的所有其他更改外，请注意其中的更改。

回答您编辑的问题；当您保存 moc 时，您并没有保存特定的对象，而是保存了管理对象上下文中的所有更改。所以它不需要知道要保存哪些对象。

添加更多解释：托管对象上下文是一种便笺簿。您将对象从持久存储中拉出到上下文中，您可以对其进行更改。但是这些更改在保存回持久存储之前不会持久。如果您想更详细地保存您的保存，您可以创建另一个托管对象上下文，其中仅包含您要更改的对象。保存这个上下文只会保存那些对象。但是，对对象的更改将不会显示在其他托管对象上下文中，直到您将它们保存回持久存储中。

# jquery - 嵌套 JSON 数组和对象

> ID：13136807
> 
> 赞同：1
> 
> 时间：2012-10-30T10:14:17.483
> 
> 标签：jquery, arrays, json, object

我使用 XML 已经有一段时间了，并且一直在阅读有关 JSON 更轻、更快的信息，所以我正在尝试使用它并尝试掌握它！唯一的问题是我不知道我一直在使用的语法有多少是正确的。如果有人对我有任何指示，那就太好了！下面是我在 json 中嵌套数组和对象的尝试，这也是我获取该数据的尝试。谢谢，蛋师傅

```
{
'page' : [{
    'article' : [{
        'block' : [{
            'title' : 'Title1-1',
            'instruction' : 'simon says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdlfklasdfh-0===-=-sklasdhjkfgaklf'
        }],
        'block' : [{
            'title' : 'Title1-2',
            'instruction' : 'simon stop says',
            'body' : 'lorem dipsem ikhsduifohsdihfsj58779kahfksdlfklasdfhsklasdhjkfgaklf'
        }]
    }],
    'article' : [{
        'block' : [{
            'title' : 'Title2-1',
            'instruction' : 'simon gp[g[says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdl56u456fklasdfhsklasdhjkfgaklf'
        }],
        'block' : [{
            'title' : 'Title2-2',
            'instruction' : 'sihehamon stop says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdlfkla-0-90-sdfhsklasdhjkfgaklf'
        }]
    }]
}],
'page' : [{
    'article' : [{
        'block' : [{
            'title' : 'Title2-1-1',
            'instruction' : 'simon says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdlfklasdfh-0===-=-sklasdhjkfgaklf'
        }],
        'block' : [{
            'title' : 'Title2-1-2',
            'instruction' : 'simon stop says',
            'body' : 'lorem dipsem ikhsduifohsdihfsj58779kahfksdlfklasdfhsklasdhjkfgaklf'
        }]
    }],
    'article' : [{
        'block' : [{
            'title' : 'Title2-2-1',
            'instruction' : 'simon gp[g[says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdl56u456fklasdfhsklasdhjkfgaklf'
        }],
        'block' : [{
            'title' : 'Title2-2-2',
            'instruction' : 'sihehamon stop says',
            'body' : 'lorem dipsem ikhsduifohsdihfsjkahfksdlfkla-0-90-sdfhsklasdhjkfgaklf'
        }]
    }]
}]
} 
```

以及提取它的jquery..

```
$(document).ready(function(){

    $.getJSON('data.json', function(json){  
        alert(json.page[0].article[1].block[0].title)
    })

}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:26:21.290

使用双引号而不是单引号。单引号可能适用于`eval()`或 jQuery，但它们不是标准的。

此外，在 JSON 中，每个对象的键必须是唯一的，例如，您的`article`对象不能有两个`block`条目。你可以像这样重写你的数据：

```
{
"pages": [{
    "articles": [{
        "blocks": [{
            "title": ...
        }, ... 
```

# ios - 使用 AFNetworking 在异步模式下调整 UIImage 的大小

> ID：13136808
> 
> 赞同：2
> 
> 时间：2012-10-30T10:14:19.040
> 
> 标签：ios, ios5, uiimageview, uiimage, afnetworking

我在我的应用程序中使用 AFNetwork 从我的网络服务中获取一些数据。在这些数据中，有一些随机大小的图像，我需要添加一些 UIImageView。

我的问题是在异步模式下以 UIImageView**的正确比例调整图像。**

知道怎么做吗？

**编辑**

我正在使用 Afnetoking 项目的常规方法：

```
 [self setImageWithURL:[NSURL URLWithString:url] placeholderImage:[UIImage imageNamed:@"img_my_nophoto"]]; 
```

该方法内部的逻辑是：

```
- (void)setImageWithURLRequest:(NSURLRequest *)urlRequest 
          placeholderImage:(UIImage *)placeholderImage 
                   success:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image))success
                   failure:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error))failure
{
    [self cancelImageRequestOperation];

UIImage *cachedImage = [[[self class] af_sharedImageCache] cachedImageForRequest:urlRequest];
if (cachedImage) {
    self.image = cachedImage;
    self.af_imageRequestOperation = nil;

    if (success) {
        success(nil, nil, cachedImage);
    }
} else {
    self.image = placeholderImage;

    AFImageRequestOperation *requestOperation = [[AFImageRequestOperation alloc] initWithRequest:urlRequest];
    [requestOperation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {
        if ([[urlRequest URL] isEqual:[[self.af_imageRequestOperation request] URL]]) {
            self.image = responseObject;
            self.af_imageRequestOperation = nil;
        }

        if (success) {
            success(operation.request, operation.response, responseObject);
        }

        [[[self class] af_sharedImageCache] cacheImage:responseObject forRequest:urlRequest];

    } failure:^(AFHTTPRequestOperation *operation, NSError *error) {
        if ([[urlRequest URL] isEqual:[[self.af_imageRequestOperation request] URL]]) {
            self.af_imageRequestOperation = nil;
        }

        if (failure) {
            failure(operation.request, operation.response, error);
        }

    }];

    self.af_imageRequestOperation = requestOperation;

        [[[self class] af_sharedImageRequestOperationQueue] addOperation:self.af_imageRequestOperation];
    }
} 
```

完整类代码： [https ://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/UIImageView%2BAFNetworking.m](https://github.com/AFNetworking/AFNetworking/blob/master/AFNetworking/UIImageView%2BAFNetworking.m)

**解决方案**

我解决了设置 UIImageView 的问题

self.contentMode = UIViewContentModeScaleAspectFill;

self.clipsToBounds=YES;

基本上这会以适当的比例设置图像，并切割所有边缘..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-13T13:10:12.687

AF`UIImageView`类别的一个变体在异步图像请求完成时调用一个块。

您可以在成功块中调整返回图像的大小并将其分配给图像视图。看

```
- (void)setImageWithURLRequest:(NSURLRequest *)urlRequest 
              placeholderImage:(UIImage *)placeholderImage 
                       success:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image))success
                       failure:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error))failure 
```

调整图像大小后，请确保`UIImageView`使用 GCD 将图像分配到主队列上，因为该块将在后台线程中调用。

这是一个使用 UIIImageView 的示例，其内容模式设置为 AspectFill。使用 Core Graphics 调整大小通常比让 UIImageView 重新缩放图像看起来更好。

```
__weak typeof(self) weakSelf = self;
CGSize targetSize = self.targetImageView.bounds.size;
[self.targetImageView setImageWithURL:photoURL success:^(UIImage *image) {

    CGFloat imageHeight = image.size.height;
    CGFloat imageWidth = image.size.width;

    CGSize newSize = targetSize;
    CGFloat scaleFactor = targetSize.width / imageWidth;
    newSize.height = imageHeight * scaleFactor;

    UIGraphicsBeginImageContextWithOptions(newSize, NO, 0.0);
    [image drawInRect:CGRectMake(0, 0, newSize.width, newSize.height)];
    UIImage *small = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    dispatch_async(dispatch_get_main_queue(),^ {

        weakSelf.targetImageView.image = small;
    });

} failure:^(NSError *error) {
    // Handel the error here
}]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:34:04.823

编辑：

如果我正确理解您的问题，您只需`imageView.contentMode = UIViewContentModeScaleAspectFit`在从 Afnetworking FW 获得的 ImageView 上进行设置。

或者您可以检查图像的实际大小：`imageView.image.size`并相应地设置 imageView 的框架。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-09T18:38:37.140

这是`AFImageResponseSerializer`为了什么。只需更改图像比例以匹配您正在检索的图像比例。

`AFImageResponseSerializer *imageResponseSerializer = [self.avatarImageView imageResponseSerializer]; [imageResponseSerializer setImageScale:1.0];`

# coldfusion - application.cfc 在内存中是静态的吗？

> ID：13136809
> 
> 赞同：1
> 
> 时间：2012-10-30T10:14:23.600
> 
> 标签：coldfusion, application.cfc

我正在coldfusion中试验Application.cfc。我想知道 application.cfc 在内存中是否是静态的，即它是为第一个用户创建一次，然后在每个访问它的用户访问相同的 application.cfc （在内存中）之后创建。

例子。UserOne 访问网页 > Application.cfc 在内存块 1 处创建。 UserTwo 访问网页 > Application.cfc 在内存块 1 被再次调用，但函数 onRequestStart 被调用。

我是否正确地说 application.cfc 在内存中是静态的（或直到它过期）还是为每个用户重新创建它？如果是这样，这会是一个巨大的内存问题吗？

谁能解释一下谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-30T10:40:01.757

Application.cfc 为每个请求执行，但根据情况仅运行部分请求。每次都会执行伪构造函数（您设置 this.name 类型设置的位置）并且不能有问题地更改。onApplicationStart() 仅在应用程序不存在时运行。每个会话都可以访问应用程序范围的变量，并且每个应用程序实例（而不是会话实例）仅存在一次。onSessionStart() 仅在新访问者第一次访问该站点时运行。还有其他特定于事件的功能

这是另一个可能对您的问题有所帮助的线程。

> [ColdFusion Application.cfc - 执行顺序](https://stackoverflow.com/questions/11936210/coldfusion-application-cfc-order-of-execution/)

以及 adobe 文档：

> [http://help.adobe.com/en_US/ColdFusion/10.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-74fa.html](http://help.adobe.com/en_US/ColdFusion/10.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-74fa.html)

活动用户计数器就像**伪代码一样简单：**

```
onApplicationStart {application.activeUsers = 0} 
onSessionStart {application.activeUsers++} 
onSessionEnd {application.activeUsers--} 
```

***清除一些混乱***

“ *this”*范围用于设置应用程序设置，例如名称、sessionTimeOut 或 customTagPaths。这些设置内置于 ColdFusion。

```
<cfscript>
    this.customtagpaths = expandPath('./customtags');
    this.name = "myCoolWebsite";
    this.sessionmanagement = "Yes" ;
    this.sessionTimeOut = CreateTimeSpan(0,0,20,0);
</cfscript> 
```

尽管*“this”范围*与应用程序相关，但您不能使用它来设置持久的应用程序范围变量。应用程序变量是使用*“应用程序”设置的。*语法，通常最初在 onApplicationStart() 函数中设置。

```
<cfset application.myVariable = "I am the same value for every user"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:36:40.167

你的假设是正确的

> 应用程序事件是应用程序生命周期中的特定事件。每次发生这些事件之一时，ColdFusion 都会运行 Application.cfc 文件（也称为应用程序 CFC）中的相应方法。Application.cfc 文件定义应用程序设置并实现处理应用程序事件的方法。

[来源](http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=appFramework_03.html)

> 应用程序变量可用于应用程序内的所有页面，即具有相同应用程序名称的页面。因为应用程序变量是持久的，所以您可以轻松地在页面之间传递值。

[来源](http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Variables_30.html)

也值得注意

> cflock 标签控制对 ColdFusion 代码的同时访问。cflock 标签可让您执行以下操作：
> 
> *   保护访问和操作会话、应用程序和服务器范围以及使用 ColdFusion 线程的应用程序的请求和变量范围中的共享数据的代码部分。
> 
> ...

[来源](http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Variables_30.html)

# c# - 如何在 MVVM 中捕获 DataAnnotations 验证

> ID：13136814
> 
> 赞同：1
> 
> 时间：2012-10-30T10:14:45.473
> 
> 标签：c#, validation, mvvm, attributes, data-annotations

我如何从 DataAnnotations 中获取验证？我在这里研究，但我不明白它是如何工作的

所以我希望你们中的一些人能启发我

# 这是我当前的测试代码：

## 模型

```
public class Person // Represents person data.
{
    /// <summary>
    /// Gets or sets the person's first name.
    /// </summary>
    /// <remarks>
    /// Empty string or null are not allowed.
    /// Allow minimum of 2 and up to 40 uppercase and lowercase.
    /// </remarks>
    [Required]
    [RegularExpression(@"^[a-zA-Z''-'\s]{2,40}$")]        
    public string FirstName{ get; set;}

    /// <summary>
    /// Gets or sets the person's last name.
    /// </summary>
    /// <remarks>
    /// Empty string or null are not allowed.
    /// </remarks>
    [Required]
    public string LastName { get; set;}

    public int Age{ get; set;}
} 
```

## 看法

```
<Window x:Class="DataAnnotationstest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:DataAnnotationstest"
        Title="MainWindow" Height="350" Width="525">
    <Window.DataContext>
        <local:Person FirstName="Tomer" LastName="Shamam" />
    </Window.DataContext>
    <Grid>
        <StackPanel Margin="4,4,51,4">
            <TextBox Text="{Binding FirstName, ValidatesOnDataErrors=True}" />
            <TextBox Text="{Binding LastName, ValidatesOnDataErrors=True}" />
            <TextBox Text="{Binding Age, ValidatesOnDataErrors=True}" />
        </StackPanel>
    </Grid>
</Window> 
```

我需要对 Person 实现其他东西吗？我在[这里](https://stackoverflow.com/questions/7027613/how-to-retrieve-data-annotations-from-code-programmatically)找到了以下代码，但就像我之前说的那样，我不明白它是如何工作的-.-

```
public static T GetAttributeFrom<T>(this object instance, string propertyName) where T : Attribute
{
    var attrType = typeof(T);
    var property = instance.GetType().GetProperty(propertyName);
    return (T)property .GetCustomAttributes(attrType, false).First();
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-01T14:04:13.120

## 解决方案

```
public class Person : IDataErrorInfo // Represents person data.
{
    /// <summary>
    /// Gets or sets the person's first name.
    /// </summary>
    /// <remarks>
    /// Empty string or null are not allowed.
    /// Allow minimum of 2 and up to 40 uppercase and lowercase.
    /// </remarks>
    [Required]
    [RegularExpression(@"^[a-zA-Z''-'\s]{2,40}$")]        
    public string FirstName{ get; set;}

    /// <summary>
    /// Gets or sets the person's last name.
    /// </summary>
    /// <remarks>
    /// Empty string or null are not allowed.
    /// </remarks>
    [Required]
    public string LastName { get; set;}

    public int Age{ get; set;}

    public string Error // Part of the IDataErrorInfo Interface
    {
        get { throw new NotImplementedException(); }
    }

 string IDataErrorInfo.this[string propertyName] // Part of the IDataErrorInfo Interface
    {
        get { return OnValidate(propertyName); }
    }

    /// <summary>
    /// Validates current instance properties using Data Annotations.
    /// </summary>
    /// <param name="propertyName"></param>
    /// <returns></returns>
    protected virtual string OnValidate(string propertyName)
    {
        if (string.IsNullOrEmpty(propertyName))
            throw new ArgumentException("Invalid property name", propertyName);

        string error = string.Empty;
        var value = this.GetType().GetProperty(propertyName).GetValue(this, null);
        var results = new List<ValidationResult>(1);

        var context = new ValidationContext(this, null, null) { MemberName = propertyName };

        var result = Validator.TryValidateProperty(value, context, results);

        if (!result)
        {
            var validationResult = results.First();
            error = validationResult.ErrorMessage;
        }

        return error;
    }
} 
```

感谢雷切尔在这里的提示和[这个](http://blog.paulbetts.org/index.php/2010/04/27/wpf-data-validation-using-dataannotations/)非常开明的链接

# wpf - 动态更改数据模板

> ID：13136816
> 
> 赞同：19
> 
> 时间：2012-10-30T10:14:49.350
> 
> 标签：wpf, triggers, datatemplateselector, datatemplate

我有一个绑定到任务的项目控件。每个任务都有任务状态。我为每个任务状态定义了不同的数据模板，以及数据模板选择器。

问题是当任务状态动态更改时，我无法弄清楚如何触发数据模板选择器。

**我想知道如何将数据触发器与数据模板一起使用。**

如果这行不通，我将探索其他替代方案，例如
1\. 绑定到任务状态的附加属性。任何更改都会动态设置数据模板。
2\. 视觉状态管理器

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-10-30T15:45:33.040

A`DataTemplateSelector`不响应`PropertyChange`通知，因此当您的属性更改时不会重新评估它。

我使用的替代方法是基于属性`DataTriggers`更改。`Template`

例如，这将`TaskModel`使用 a 绘制所有对象`ContentControl`，并且是`ContentControl.Template`基于`TaskStatus``TaskModel`

```
<DataTemplate x:Key="OpenTaskTemplate" TargetType="{x:Type local:TaskModel}">
     <TextBlock Text="I'm an Open Task" />
</DataTemplate> 

<DataTemplate x:Key="ClosedTaskTemplate" TargetType="{x:Type local:TaskModel}">
     <TextBlock Text="I'm a Closed Task" />
 </DataTemplate>

<DataTemplate DataType="{x:Type local:TaskModel}">
     <ContentControl Content="{Binding }">
         <ContentControl.Style>
             <Style TargetType="{x:Type ContentControl}">

                 <!-- Default Template -->
                 <Setter Property="ContentTemplate" Value="{StaticResource OpenTaskTemplate}" />

                 <!-- Triggers to change Template -->
                 <Style.Triggers>
                     <DataTrigger Binding="{Binding TaskStatus}" Value="Closed">
                         <Setter Property="ContentTemplate" Value="{StaticResource ClosedTaskTemplate}" />
                     </DataTrigger>
                 </Style.Triggers>
             </Style>
         </ContentControl.Style>
     </ContentControl>
 </DataTemplate> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-04-17T04:12:29.703

对于那些像我一样发现这非常有用的人来说，只是一个简短的说明-

目前使用 WPF，您似乎希望在 DataTemplate 定义上使用**DataType**而不是**TargetType ：**

```
<DataTemplate x:Key="OpenTaskTemplate" DataType="{x:Type local:TaskModel}">
     <TextBlock Text="I'm an Open Task" />
</DataTemplate> 

<DataTemplate x:Key="ClosedTaskTemplate" DataType="{x:Type local:TaskModel}">
     <TextBlock Text="I'm a Closed Task" />
 </DataTemplate> 
```

# spring - 在 ContainerRequestFilter 中填充 spring 请求范围的 bean

> ID：13136817
> 
> 赞同：14
> 
> 时间：2012-10-30T10:14:52.260
> 
> 标签：spring, jersey

我使用 jersey 1.13 和 spring 3.1.1 编写了一个在 tomcat 6 上运行的休息服务。在 tomcat 中，我使用了一个将进行身份验证的领域。在我的应用程序中，我需要当前用户，但我不想在每个资源中从球衣访问 SecurityContext。我想在包含当前用户的其余资源中注入一个请求范围的 ApplicationConfig 对象。稍后我可以扩展这个类以包含更多请求级别的配置参数。这对我来说似乎是一个很好的抽象。

```
@Component
@Scope(value = "request")
public class ApplicationConfig
{
    private String userCode;

    public String getUserCode()
    {
        return this.userCode;
    }

    public void setUserCode(String userCode)
    {
        this.userCode = userCode;
    }
} 
```

我创建了一个 ApplicationConfigManager 来提供对配置的访问。

```
@Component
public class ApplicationConfigManager
{
    @Autowired
    public ApplicationConfig applicationConfig;

    public ApplicationConfig getApplicationConfig()
    {
        return this.applicationConfig;
    }
} 
```

应用程序配置管理器被定义为单例（默认），但 ApplicationConfig 应该是请求范围，因此是 @Scope 注释。

我正在使用（球衣） ContainerRequestFilter 在应用程序配置对象上设置用户。

```
@Component
@Provider
public class ApplicationConfigFilter implements ResourceFilter, ContainerRequestFilter
{
    @Autowired
    private ApplicationConfigManager applicationConfigManager;

    @Override
    public ContainerRequest filter(ContainerRequest request)
    {
        this.applicationConfigManager.getApplicationConfig().setUserCode(
            request.getSecurityContext().getUserPrincipal().getName()
        );
        return request;
    }

    @Override
    public ContainerRequestFilter getRequestFilter()
    {
        return this;
    }

    @Override
    public ContainerResponseFilter getResponseFilter()
    {
        return null;
    }
} 
```

为了注册这个过滤器，我创建了一个 ResourceFilterFactory

```
@Component
@Provider
public class ResourceFilterFactory extends RolesAllowedResourceFilterFactory
{
    @Autowired
    private ApplicationConfigFilter applicationConfigFilter;

    @Override
    public List<ResourceFilter> create(AbstractMethod am)
    {
        // get filters from RolesAllowedResourceFilterFactory Factory!
        List<ResourceFilter> rolesFilters = super.create(am);
        if (null == rolesFilters) {
            rolesFilters = new ArrayList<ResourceFilter>();
        }

        // Convert into mutable List, so as to add more filters that we need
        // (RolesAllowedResourceFilterFactory generates immutable list of filters)
        List<ResourceFilter> filters = new ArrayList<ResourceFilter>(rolesFilters);

        filters.add(this.applicationConfigFilter);

        return filters;
    }
} 
```

我通过将其设置到 web.xml 中激活了这个工厂

```
<servlet>
    <servlet-name>Jersey REST Service</servlet-name>
    <servlet-class>com.sun.jersey.spi.spring.container.servlet.SpringServlet</servlet-class>
    <init-param>
        <param-name>com.sun.jersey.config.property.packages</param-name>
        <param-value>com.mypackage</param-value>
    </init-param>
    <init-param>
        <param-name>com.sun.jersey.spi.container.ResourceFilters</param-name>
        <param-value>com.mypackage.ResourceFilterFactory</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet> 
```

我还添加了这些侦听器来引导 spring 上下文并让请求范围工作

```
<listener>
    <listener-class>org.springframework.web.context.request.RequestContextListener</listener-class>
</listener>
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener> 
```

这就是我在我的应用程序上下文中放置的内容，以使扫描功能正常工作并定义应用程序配置对象（我想这甚至没有必要，因为 spring 会自动找到它）

```
<context:annotation-config/>
<context:component-scan base-package="com.mypackage" />

<bean id="applicationConfig" class="com.mypackage.ApplicationConfig" scope="request"/> 
```

现在我的问题。当我启动应用程序时，spring 将被引导，它将 ApplicationConfig 对象注入到 ApplicationConfigManager 上，ApplicationConfigManager 又注入到 ApplicationConfigFilter 上。

此时它抛出异常：

```
.
.
Caused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually o
perating within a web request and still receive this message, your code is probably running outside of DispatcherServlet/DispatcherPortlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.
        at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131) ~[spring-web-3.1.1.RELEASE.jar:3.1.1.RELEASE]
        at org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:40) ~[spring-web-3.1.1.RELEASE.jar:3.1.1.RELEASE]
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328) ~[spring-beans-3.1.1.RELEASE.jar:3.1.1.RELEASE]
        ... 57 common frames omitted 
```

这个异常很清楚，我认为这意味着请求范围的 ApplicationConfig 不能被注入，因为还没有发送请求。

所以我 spring 应该只在发送请求时实例化 ApplicationConfig 对象，而不是在应用程序启动期间。我搜索了解决方案，发现在单例 bean 中注入请求范围的 bean 不是很合乎逻辑。无论如何，我总是会得到相同的对象。解决方案是使用代理，因此我将 ApplicationConfig 类上的 @Scope 注释更改为此

```
@Scope(value = "request", proxyMode = ScopedProxyMode.TARGET_CLASS) 
```

这应该为每个请求提供一个新的 ApplicationConfig 对象。

该应用程序现在启动得很好（它似乎没有实例化 ApplicationConfig）但是当我向我的休息服务发送请求时，我发现，使用调试，我得到了不同的 ApplicationConfig 对象，而不是请求的相同对象。

那么我做错了什么？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-05T07:44:02.393

在玩了这个之后，我发现 @Scope 注释上的 proxyMode 设置无论如何都可以解决问题。这就是解决方案。代理每次都会注意创建一个新实例，并确保它是请求范围内的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-06-03T18:05:15.827

您可以使用[`@RequestScope`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/annotation/RequestScope.html)相同的注释。它只是以下的缩写：

```
@Scope(value = "request", proxyMode = ScopedProxyMode.TARGET_CLASS) 
```

# objective-c - NSMutableArray 在 tableview cellFoRowAtIndexPath 委托中分配了内存，即使在释放后它也会泄漏内存

> ID：13136821
> 
> 赞同：-4
> 
> 时间：2012-10-30T10:15:02.213
> 
> 标签：objective-c, ios, memory-leaks, nsmutablearray

```
NSMutableArray *lCellColValues =(NSMutableArray *)nil;
lCellColValues = [[[NSMutableArray alloc] init] autorelease];
if(0 == lSecModulus) //trans info cell
   {

      if cObjTransListPtr.count >0 && lObjTransData.m_cObjSDElemInfoPtr.count > 0 ) 
        {

           [lCellColValues addObject:lObjTransData.m_cObjTransNamePtr];
           [lCellColValues addObject:[[NSNumber numberWithInteger:lObjTransData.m_cTransCounter] stringValue]];

        }else {  

             if (nil != lObjSDElemInfo.m_cObjStartTimePtr) 
                {

                   NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
                   dateFormatter.dateFormat = @"HH:mm:ss";
                   [dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0.0]];
                   NSString *myDateAsString = [dateFormatter stringFromDate:lObjSDElemInfo.m_cObjEndTimePtr];
                   [lCellColValues addObject:myDateAsString];
                   SAFE_RELEASE(dateFormatter)

                }else{

                     [lCellColValues addObject:@""];

                }           
           [lCellColValues addObject:[[NSNumber numberWithDouble:lObjSDElemInfo.m_cElementTime] stringValue]];
         }
   }
if((CustSplitCell *)nil == lObjCellPtr){

     if (m_cObjTransListPtr.count > 0) {

              lObjCellPtr = [[[CustSplitCell alloc]initWithStyleAndTitles:UITableViewCellStyleDefault reuseIdentifier:lObjCellIdentifier titles:lCellColValues rowNumber:indexPath.row] autorelease];

        }else { 
             [lCellColValues addObject:@""];
             lObjCellPtr = [[[CustSplitCell alloc]initWithStyleAndTitles:UITableViewCellStyleDefault reuseIdentifier:lObjCellIdentifier titles:lCellColValues rowNumber:indexPath.row] autorelease];
        }
  } 
```

在这段代码中，即使我们自动释放它，**lCellColValues也会泄漏内存。**知道为什么它显示泄漏吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:33:25.393

尝试这个：

```
NSMutableArray *lCellColValues =[NSMutableArray array]; 
```

它会自动分配和释放。

# xsd - schemagen.exe 生成具有不确定顺序的 xsd 架构

> ID：13136825
> 
> 赞同：5
> 
> 时间：2012-10-30T10:15:13.927
> 
> 标签：xsd, jaxb, schemagen, jaxb2-maven-plugin

我使用 org.codehaus.mojo jaxb2-maven-plugin 为我的类生成 xsd 模式。插件站点 [http://mojo.codehaus.org/jaxb2-maven-plugin/faq.html](http://mojo.codehaus.org/jaxb2-maven-plugin/faq.html)告诉我们，该插件使用 JDK 实用程序 schemagen.exe 进行生成。 **问题是生成的 xsd 中的顺序不确定，并且取决于您运行插件的机器。**

```
public class One {
    public String field1;
}

public class Two {
    public String field2;
} 
```

并生成方案：

```
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:complexType name="two">
    <xs:sequence>
      <xs:element name="field2" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>  

  <xs:complexType name="one">
    <xs:sequence>
      <xs:element name="field1" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>

</xs:schema> 
```

但是当我的同事运行生成时，他得到了另一个命令：

```
<xs:schema version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:complexType name="one">
    <xs:sequence>
      <xs:element name="field1" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType>

  <xs:complexType name="two">
    <xs:sequence>
      <xs:element name="field2" type="xs:string" minOccurs="0"/>
    </xs:sequence>
  </xs:complexType> 

</xs:schema> 
```

我们用

*   JDK 1.6.0_26
*   jaxb2-maven-插件 1.3
*   jaxb-impl 版本 2.1.12（由插件使用）

**有没有办法控制这个顺序？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-29T13:46:02.650

我遇到了同样的问题，最终在生成的 XSD 上应用了 XSLT 转换，对内容进行了排序，并使用了以下 XSL 代码：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:saxon="http://saxon.sf.net/">

<!-- Indent the result (this is not strictly necessary, and forces to use Saxon) -->
<xsl:output method="xml" version="1.0" encoding="UTF-8" indent="yes" saxon:indent-spaces="4"/>
<xsl:template match="xs:schema">
    <!-- Copy the schema node with its attributes, but without its children -->
    <xsl:copy>
        <xsl:copy-of select="@*"/>

        <!-- Copy the namespace nodes (sorted) -->
        <xsl:for-each select="./xs:import">
            <xsl:sort select="@namespace"/>
            <xsl:apply-templates select="."/>
        </xsl:for-each>

        <!-- Copy the element nodes (sorted) -->
        <xsl:for-each select="./xs:element">
            <xsl:sort select="@name"/>
            <xsl:apply-templates select="."/>
        </xsl:for-each>

        <!-- Copy the simpleType nodes (sorted) -->
        <xsl:for-each select="./xs:simpleType">
            <xsl:sort select="@name"/>
            <xsl:apply-templates select="."/>
        </xsl:for-each>

        <!-- Copy the complexType nodes (sorted) -->
        <xsl:for-each select="./xs:complexType">
            <xsl:sort select="@name"/>
            <xsl:apply-templates select="."/>
        </xsl:for-each>

        <!-- Copy all the other nodes (if there are) -->
        <xsl:for-each select="./*[not(self::xs:import or self::xs:element or self::xs:simpleType or self::xs:complexType)]">
            <xsl:copy-of select="."/>
        </xsl:for-each>
    </xsl:copy>   
</xsl:template>

<xsl:template match="xs:import">
    <xsl:copy-of select="."/>
</xsl:template>

<xsl:template match="xs:simpleType">
    <xsl:copy-of select="."/>
</xsl:template>

<xsl:template match="xs:complexType">
    <xsl:copy-of select="."/>
</xsl:template>

<xsl:template match="xs:element">
    <xsl:copy-of select="."/>
</xsl:template>
</xsl:stylesheet> 
```

我使用 xml-maven-plugin 进行了 XSLT 转换：

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>xml-maven-plugin</artifactId>
    <version>1.0.2</version>
    <executions>
        <execution>
            <goals>
                <goal>transform</goal>
            </goals>
        </execution>
    </executions>
    <configuration>
        <transformationSets>
            <transformationSet>
                <dir>path/to/xsd</dir>
                <stylesheet>path/to/sortXSD.xsl</stylesheet>
                <outputDir>path/to/xsd</outputDir>
            </transformationSet>
        </transformationSets>
    </configuration>
    <dependencies>
        <dependency>
            <groupId>net.sf.saxon</groupId>
            <artifactId>saxon</artifactId>
            <version>8.7</version>
        </dependency>
    </dependencies>
</plugin> 
```

# java - Java 中的默认列表模型

> ID：13136826
> 
> 赞同：7
> 
> 时间：2012-10-30T10:15:16.627
> 
> 标签：java, swing, list, user-interface, defaultlistmodel

`DefaultListModel`Java中有什么？它的目的是什么？我试图用谷歌搜索它，但没有得到任何适当的解释！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-30T10:25:43.323

它作为`Model`（预定义的）用于`JList`

Swings 遵循 MVC，而[DefaultListModel](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/DefaultListModel.html)`M`就像在 MVC中一样发挥作用。

创建模型的方法有3种：

*   [默认列表模型](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/DefaultListModel.html)

    语言框架几乎可以处理所有事情。

*   [抽象列表模型](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/AbstractListModel.html)

    您管理数据并调用“触发”方法。对于这种方法，您必须子类化`AbstractListModel`并实现从接口继承的`getSize`和方法。`getElementAt``ListModel`

*   [列表模型](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/ListModel.html)

    你管理一切。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-30T10:21:25.643

这是一个使用 ListModel 和 DefaultListModel 的示例的链接，它是您搜索时的第二个链接。

[http://www.java2s.com/Code/Java/Swing-JFC/AnexampleofJListwithaDefaultListModel.htm](http://www.java2s.com/Code/Java/Swing-JFC/AnexampleofJListwithaDefaultListModel.htm)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-30T10:24:28.880

`DefaultListModel`是`ListModel`从 扩展的 的实现`AbstractListModel`。

在内部，它由`List`实施支持。

它的目的是提供一个简单的实现`ListModel`，您可以使用它来对简单的数据模型进行建模，在这种情况下，必须从 扩展`AbstractListModel`或实现`ListModel`接口对于完成相同的任务来说太过分了

# python - 3D 旋转

> ID：13136828
> 
> 赞同：1
> 
> 时间：2012-10-30T10:15:21.137
> 
> 标签：python, 3d, geometry

我在 3D a,b,c 中有三个向量。现在我想计算一个旋转 r，当它应用于 a 时，会产生一个与 b 平行的结果。然后需要将旋转 r 应用于 c。

我如何在python中做到这一点？可以用 numpy/scipy 做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-26T01:11:31.733

使用[numpy](http://www.numpy.org/)：

```
import numpy as np
from numpy import linalg as LA
from math import pi,cos,sin,acos 

def rotate(v,angle=0,ref=np.array([0,0,1]),deg=False):
    '''Rotates a vector a given angle respect the 
        given reference. Option: deg=False (default)'''
    if(abs(angle) < 1e-5):
        return v
    if(deg):
        angle = angle*pi/180
    # Define rotation reference system
    ref = versor(ref) # rotation axis
    # n1 & n2 are perpendicular to ref, and to themselves 
    n1 = versor(np.cross(ref,np.array([-ref[1],ref[2],ref[0]])))
    n2 = np.cross(ref,n1)
    vp = np.inner(v,ref)*ref # parallel to ref vector
    vn = v-vp # perpendicular to ref vector
    vn_abs = LA.norm(vn)
    if(vn_abs < 1e-5):
        return v
    alp = acos(np.inner(vn,n1)/vn_abs) # angle between vn & n1
    if(triprod(ref,n1,vn) < 0):
        alp = -alp # correct if necesary
    return vp+vn_abs*(n1*cos(alp+angle)+n2*sin(alp+angle))

def triprod(a,b,c):
    '''Triple product of vectors: a·(b x c)'''
    return np.inner(a,np.cross(b,c))

def versor(v):
    '''Unitary vector in the direction of the one given as input'''
    v = np.array(v)
    return v/LA.norm(v)

###### Test ################################################
a = np.array([3,4,1])
b = np.array([0,-1,2])
c = np.array([1,1,5])
r = acos(np.inner(a,b)/(LA.norm(a)*LA.norm(b)))
ref = versor(np.cross(a,b))
print rotate(c,angle=r,ref=ref)
print r
print ref 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-06T00:14:05.200

我假设“python 的几何库”已经在对该问题的评论中得到了回答。因此，一旦您进行了将“a”平行于“b”的转换，您只需将其应用于“c”

矢量“a”和“b”唯一地定义了一个平面。每个向量都有一个与原点的点差的规范表示，所以你有三个点：'a' 的头部、'b' 的头部和原点。首先计算这个平面。它将有一个形式为 Ax + By + Cz = 0 的方程。

该平面的法线向量定义了旋转轴和旋转方向的符号约定。你只需要一个平面的法线向量，因为它们都是共线的。您可以通过在平面中选取两个非共线向量并用法向量取点积来求解这样的向量。这给出了两个变量中的一对线性方程，您可以使用标准方法（例如 Cramer 规则）求解。在所有这些操作中，如果 A、B 或 C 中的任何一个为零，则需要处理一种特殊情况。

旋转角度由“a”和“b”的点积及其长度的余弦关系给出。角度的符号由“a”、“b”和法线向量的三重乘积确定。现在，您已经获得了所有数据，可以以您可以查找的众多规范形式之一构建旋转矩阵。

# javascript - javascript 24 小时格式的日期时间

> ID：13136830
> 
> 赞同：1
> 
> 时间：2012-10-30T10:15:23.663
> 
> 标签：javascript, time, datetime-format

```
var date = "8-21-2012";
var time = "00:00";
var dateArr = new Array();

dateArr = date.split("-");
var timeArr = new Array();
timeArr = time.split(":");

var date1 = "8-21-2012";
var time1 = "20:00";
var dateArr1 = new Array();

dateArr1 = date1.split("-");
var timeArr1 = new Array();
timeArr1 = time1.split(":");

var birthday = new Date(parseInt(dateArr[2], 10), parseInt(dateArr[0], 10), parseInt(dateArr[1], 10), parseInt(timeArr[0], 10), parseInt(timeArr[1], 10), parseInt(00, 10));

var birthday1 = new Date(parseInt(dateArr1[2], 10), parseInt(dateArr1[0], 10), parseInt(dateArr1[1], 10), parseInt(timeArr1[0], 10), parseInt(timeArr1[1], 10), parseInt(00, 10)); 
```

现在第一次它是 00 意味着 24 小时生日对象在逻辑上应该更大，但它显示的生日 1 更大。00年代无法比拟。除此之外一切都很好。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-13T16:48:56.820

> 在同一天，0000 小于 2000。如果要第二天开始，则需要更改日期。

# xslt - 在 XSLT 中将字符串转换为 xpath

> ID：13136836
> 
> 赞同：0
> 
> 时间：2012-10-30T10:15:36.590
> 
> 标签：xslt

我发现在 xslt 中将字符串转换为 xpath 有困难

**XSLT**

```
 <xsl:param name="name"/>

 <xsl:template match="/">
    <xsl:if test="$name">
      <xsl:message><xsl:value-of select="$name"/></xsl:message>
      <xsl:value-of select="$name"/>
    </xsl:if>
  </xsl:template> 
```

参数 'name' 值（Xpath 表达式）将从 java 传递。我应该在 xsl 中做什么才能将此字符串视为 xpath？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:31:03.660

您要求的是类似于`eval`Perl 等语言的功能，将字符串视为语言中的表达式。这不是 XSLT 1.0 或 2.0 本身提供的东西，尽管许多处理器通过诸如[EXSLT](http://www.exslt.org/dyn/functions/evaluate/index.html)之类的扩展功能提供支持。当前的 XSLT 3.0 工作草案提供了类似的机制，[由 Saxon 支持](http://saxonica.com/documentation/xsl-elements/evaluate.xml)。

# linux - 如何防止 rpm(build) 在更新安装期间更改配置文件的访问权限

> ID：13136841
> 
> 赞同：0
> 
> 时间：2012-10-30T10:15:50.930
> 
> 标签：linux, rpm, rpmbuild

我使用了一个 RPM 规范，其中包含与以下内容非常相似的行：

```
...
%files
%defattr(-,root,root)
%attr(0666,root,root) %config /etc/myapp/myconfig.ini
... 
```

如果有人安装了 RPM 的更新，我遇到的问题是 /etc/myapp/myconfig.ini 的访问模式错误：

```
ur@test1:~> ls -l /etc/myapp/myconfig.ini
---------- 1 daemon root 1207 2012-10-29 17:16 /etc/myapp/myconfig.ini 
```

所以应用程序不能再访问它了。我做错了什么？

# html - 使用 Bootstrap 创建一个两列 100% 的布局

> ID：13136846
> 
> 赞同：16
> 
> 时间：2012-10-30T10:16:13.583
> 
> 标签：html, css, layout, web

所以我正在尝试使用 twitter bootstrap 和 Ryan Fait 的粘性页脚创建布局

```
<body>
<div class="wrapper">
    <div class="header">
</div>
    <div class="user-panel">
    <h1>Side Panel</h1>
</div>

    <div class="content">
        Hello World!
    </div>

    <div class="push"></div>
</div>
<div class="footer">
</div>
</body> 
```

我似乎无法将用户面板和内容扩展到 100% 高度，尝试了这些但它们不起作用：

[http://www.sitepoint.com/forums/showthread.php?868712-100-height-sidebar-background](http://www.sitepoint.com/forums/showthread.php?868712-100-height-sidebar-background)

[http://fiddle.jshell.net/teresko/UG8Rk/show/](http://fiddle.jshell.net/teresko/UG8Rk/show/) **我需要圆形边框，所以......**

这是CSS...

```
/* 标题 */
.header {
    高度：40px；
    边距顶部：0px；

    边框：1px 实心 #999;
    -webkit-border-radius：0px 0px 5px 5px；
    -moz-边框半径：0px 0px 5px 5px；
    边框半径：0px 0px 5px 5px；
    -webkit-box-shadow: #666 0px 1px 1px;
    -moz-box-shadow: #666 0px 1px 1px;
    盒子阴影：#666 0px 1px 1px；
    背景：#F3F3F1；
    背景：-webkit-gradient(linear, 0 0, 0 bottom, from(#F3F3F1), to(#2B2B2B) );
    背景：-webkit-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-moz-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-ms-线性梯度（#F3F3F1，#2B2B2B）；
    背景：-o-线性渐变（#F3F3F1，#2B2B2B）；
    背景：线性渐变（#F3F3F1，#2B2B2B）；
    -pie-background：线性渐变（#F3F3F1，#2B2B2B）；
    行为：网址（/PIE.htc）；
}
/* 标题结束 */

/* 页脚 */
.footer {
    边距顶部：12px；
    背景颜色：#000；

    边距底部：0px；
    右边距：20px；
    左边距：20px；
    明确：两者；
    高度：40px；
    边框：1px 实心 #999;
    -webkit-border-radius：5px 5px 0px 0px；
    -moz-border-radius: 5px 5px 0px 0px;
    边框半径：5px 5px 0px 0px；
    -webkit-box-shadow: #666 0px 1px 1px;
    -moz-box-shadow: #666 0px 1px 1px;
    盒子阴影：#666 0px 1px 1px；
    背景：#F3F3F1；
    背景：-webkit-gradient(linear, 0 0, 0 bottom, from(#F3F3F1), to(#2B2B2B) );
    背景：-webkit-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-moz-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-ms-线性梯度（#F3F3F1，#2B2B2B）；
    背景：-o-线性渐变（#F3F3F1，#2B2B2B）；
    背景：线性渐变（#F3F3F1，#2B2B2B）；
    -pie-background：线性渐变（#F3F3F1，#2B2B2B）；
    行为：网址（/PIE.htc）；
}
/* 页脚结束 */

/* Ryan Fait 的粘性页脚...带有一些自定义*/
* {
    边距：0；
}

html，正文 {
    高度：100%；
}

.wrapper {
    填充左：20px；
    padding-right: 20px;
    最小高度：100%；
    高度：自动！重要；
    高度：100%；
    边距：0 自动 -4em；
}

。推 {
    高度：40px；
    明确：两者；
}
/* 粘滞页脚结束*/

/* 用户面板（左侧带有导航等的侧面板）*/
.用户面板{
    边框：1px 实心 #999;
    -webkit-border-radius：5px 5px 5px 5px；
    -moz-边框半径：5px 5px 5px 5px；
    边框半径：5px 5px 5px 5px；
    -webkit-box-shadow: #666 0px 1px 1px;
    -moz-box-shadow: #666 0px 1px 1px;
    盒子阴影：#666 0px 1px 1px；
    背景：#F3F3F1；
    背景：-webkit-gradient(linear, 0 0, 0 bottom, from(#F3F3F1), to(#2B2B2B) );
    背景：-webkit-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-moz-线性渐变（#F3F3F1，#2B2B2B）；
    背景：-ms-线性梯度（#F3F3F1，#2B2B2B）；
    背景：-o-线性渐变（#F3F3F1，#2B2B2B）；
    背景：线性渐变（#F3F3F1，#2B2B2B）；
    -pie-background：线性渐变（#F3F3F1，#2B2B2B）；
    行为：网址（/PIE.htc）；
    宽度：175px；
    向左飘浮;
    身高：继承；
    背景：灰色；
}
/* 用户面板结束 */

```

任何帮助表示赞赏...谢谢...

编辑：

感谢 Andrea Ligios 的小提琴！

[http://jsfiddle.net/RPFcN/2/](http://jsfiddle.net/RPFcN/2/)

在 Firefox 上运行良好，但在 Chrome 上无法运行...

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-31T01:57:34.847

嗨，你好，凯文早安！，将此代码放在您的侧面板元素中

```
display: block;
position:absolute;
height:auto;
bottom:0;
top:0; 
```

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T12:55:10.000

您可以使用 calc() CSS3 函数。

看这里：http: [//jsfiddle.net/RPFcN/2/](http://jsfiddle.net/RPFcN/2/)

您指定`display: inline-block`保持块显示在行中，但具有块元素行为；

然后将 的 设置`height`为`user-panel`100% 减去页眉和页脚的高度、它们的边距和边框（总计：98 像素）。

“内容”的高度将为 100% 减去 94px，因为内容没有边框（而用户面板有 1px 的边框）。

编辑：你`height: auto !important`从包装类中删除

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-01-06T00:10:03.777

我用来完成这项工作的方式是......

> HTML：

```
<footer>
  <div class="container">
    <p class="text-muted">Footer text you want here.</p>
  </div>
</footer> 
```

> CSS：

```
html {
  position: relative;
  min-height: 100%;
}
body {
  margin-bottom: 8em; /* Must be set to the same as footer height */
}
footer {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 8em; /* Must be set at the same as margin-bottom in body */
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T10:47:02.083

添加`display:inline-block`到`.user-panel`和`.wrapper`

# crc32 - 具有给定参数的 crc32

> ID：13136849
> 
> 赞同：0
> 
> 时间：2012-10-30T10:16:19.623
> 
> 标签：crc32

我必须在文件上创建一个 crc32 和。但是有一些依赖：

```
crc32 with the polynom 0x04C11DB7
Init of the crc with 0xffffffff 
and a final XOR with 0xffffffff 
```

我怎样才能让这个工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T13:33:02.867

那是 zip、gzip、zlib 等使用的标准 CRC-32。您可以简单地使用[zlib](http://zlib.net/)`crc32()`中的函数。

# android - 什么是文本更改其 HTML 表示时的 EditText 回调

> ID：13136853
> 
> 赞同：1
> 
> 时间：2012-10-30T10:16:33.040
> 
> 标签：android, android-edittext

我知道，`addTextChangedListener`但这并不好。

我`EditText`用作一个简单的富文本编辑器，用户可以编辑粗体、斜体、下划线、文本颜色。我让用户输入文本`Html.toHtml(...)`

问题：

```
public class AndroidTestActivity extends Activity implements TextWatcher {

    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        EditText editText = new EditText(this);
        editText.addTextChangedListener(this);
        setContentView(editText);
    }

    public void afterTextChanged(Editable s) {
        Log.e("", ""+Html.toHtml(s));
    }

    public void beforeTextChanged(CharSequence s, int start, int count, int after) {}
    public void onTextChanged(CharSequence s, int start, int before, int count) {}    

} 
```

当用户输入时`abcd test`（见[http://i.imgur.com/aRIgm.png](http://i.imgur.com/aRIgm.png)），`Html.toHtml`将是`<p>abcd <u><font color ="#78000000">test</font></u></p>`，这是不好的，因为用户没有输入它作为带下划线的半透明文本。

当 html 表示也完成时是否有回调？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-31T08:35:52.843

我使用以下代码从文本中删除了组成标记，因此现在它没有下划线和透明度：

```
public void afterTextChanged(Editable s) {
    SpannableStringBuilder s2 = new SpannableStringBuilder(s);
    removeComposingSpans(s2);
    Log.e("", ""+Html.toHtml(s2));
}

public static void removeComposingSpans(Spannable s) {
    Object[] spans = s.getSpans(0, s.length(), Object.class);
    for (Object object : spans) {
        int flags = s.getSpanFlags(object);
        if ((flags & Spannable.SPAN_COMPOSING) > 0) {
            s.removeSpan(object);
        }
    }
} 
```

# perl - 在 perl 中使用带有指向结构的指针的拆分

> ID：13136856
> 
> 赞同：1
> 
> 时间：2012-10-30T10:16:36.223
> 
> 标签：perl, pointers, split

给定以下代码：

```
($a, $b, $c, $d ) = split(' ',$trav->{'Lptr'}) 
```

Lptr 是指向结构的指针。该结构有 6 个元素，其中 3 个也是指向结构的指针。

我无法理解 split 的可用性。此代码的输出是什么，分配给 a,b,c & d 的内容是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T11:13:59.913

如果`$trav->{Lptr}`确实是一个引用，那么该引用将被字符串化，并且生成的字符串（例如，“HASH(0x9084818)”）将存储在`$a`. 其他三个变量将保持 undef。将`split`实际上什么都不做，因为引用的字符串化将不包含任何用于拆分的空格。

这很容易通过在命令行上进行测试来确定：

```
$ perl -w -E '($a, $b, $c, $d) = split(" ", {}); say "a => $a, b => $b, c => $c, d => $d";'
Use of uninitialized value $b in concatenation (.) or string at -e line 1.
Use of uninitialized value $c in concatenation (.) or string at -e line 1.
Use of uninitialized value $d in concatenation (.) or string at -e line 1.
a => HASH(0x9ae2818), b => , c => , d => 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T11:30:42.933

`$trav->{Lptr}`我能想到的唯一一种情况是，如果是这样一个具有重载字符串化的对象，那么这样的代码会有用：

```
#!/usr/bin/env perl
package Foo;
use Moo;
use overload '""' => \&to_string;
use feature 'say';

# prepare attributes
has name    => (is => 'ro');
has numbers => (is => 'rw', isa => sub { die unless ref($_[0]) eq 'ARRAY' });

# stringification method
sub to_string {
    my $self = shift;
    return  'name:'     . $self->name . ' '
        .   'numbers:'  . join '_' => @{$self->numbers};
}

# create an object
my $zaphod = Foo->new(name => 'Zaphod', numbers => [17, 42]);

#---------------------------------------------------------------------------

# split stringification
my ($name, $numbers) = split / / => $zaphod;
say $name;
say $numbers; 
```

输出：

```
name:Zaphod
numbers:17_42 
```

...对于“有用”的奇怪值。;)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T11:16:30.547

测试一下，看看：

```
 perl -e '$emote={"one"=>":)","two"=>":]"};
    $remote=["remote", "pointer"]; 
    $fish=["hake","cod","whiting"];
    $trav{Lptr}=[$remote,$emote,$fish,"and a scalar"];
    use Data::Dumper;
    print Dumper\%trav;
    ($a,$b,$c,$d)=split(/\s/,$trav{Lptr});
    print "a is: $a\nb is: $b\nc is: $c\nd is: $d\n"'
    $VAR1 = {
          'Lptr' => [
                      [
                        'remote',
                        'pointer'
                      ],    
                      {
                        'one' => ':)',
                        'two' => ':]'
                      },
                      [
                        'hake',
                        'cod',
                        'whiting'
                      ],
                      'and a scalar'
                    ]
        };
    a is: ARRAY(0x9a083d0)
    b is:
    c is:
    d is: 
```

如果此代码正常运行，则说明您是在歪曲/误解它

# c# - asp.net网页请求post参数

> ID：13136860
> 
> 赞同：0
> 
> 时间：2012-10-30T10:16:58.360
> 
> 标签：c#, asp.net, post, webrequest

使用下面的代码，我可以请求一个带有帖子参数的页面。但是请求的页面无法获取参数。我将两个文本框放入请求的页面并将参数发送到该页面。这段代码有什么问题？

```
private string PostForm(string _targetUrl, string _parameter1, string _parameter2)
{

    WebRequest request = WebRequest.Create(_targetUrl);

    request.Method = "POST";

    request.ContentType = "application/x-www-form-urlencoded";

    string postContent = string.Format("Textbox1={0}&Textbox2={1}", _parameter1, _parameter2);

    byte[] postContentBytes = Encoding.ASCII.GetBytes(postContent);

    request.ContentLength = postContentBytes.Length;

    Stream writer = request.GetRequestStream();

    writer.Write(postContentBytes, 0, postContentBytes.Length);

    writer.Close();

    HttpWebResponse testResponse = (HttpWebResponse)request.GetResponse();

    if (!testResponse.StatusDescription.Equals("OK", StringComparison.InvariantCultureIgnoreCase))
    {
        Response.Write("Error");
    }

    StreamReader sr = new StreamReader(testResponse.GetResponseStream());
    string returnvalue = sr.ReadToEnd();

    return returnvalue;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:22:29.677

确保目标页面上文本框输入的“名称”是`Textbox1`and `Textbox2`。

# javascript - 从打印的页面中删除 url 和打印文本

> ID：13136863
> 
> 赞同：7
> 
> 时间：2012-10-30T10:17:04.820
> 
> 标签：javascript, html, css, jsp, printing

我开发了一个 Web 应用程序，在我的网页中有一些带有常见页眉、页脚、菜单和其他图像的数据显示。所以我添加了一个小按钮作为打印预览，以便用户只能看到数据。用户单击打印预览按钮后，仅数据显示为弹出窗口，在该弹出窗口中，我添加了一个按钮调用打印，以便用户可以单击它并从该页面打印。

这个打印按钮在 onClick 事件中直接调用 window.print() 并且它工作正常我可以得到打印输出。

但我的问题是在我的打印页面上，我可以找到作为按钮标题的“打印”文本，在上面我可以找到网址，这是什么`http://localhost/..............`

那么有没有一种方法可以从我的打印页面中删除那些打印文本和 url。

非常感谢

这就是打印预览按钮的作用。

```
function printPreView(reportCategory,reportType,transactionType,searchOption,customerRokaID,utilityCompany,fromDate,toDate,telcoName,bank){

var request = "selectedMenu="+reportCategory+"&loginStatus=success&criteria="+searchOption+"&customer="+customerRokaID+"&from="+fromDate+"&to="+toDate+"&nspTypes="+utilityCompany+"&trxTypes="+transactionType+"&options="+reportType+"&telcoTypes="+telcoName+"&bankTypes="+bank+"&printable=yes";

window.open ("report/showReport.action?"+request,null,"location=no,menubar=0,resizable=1,scrollbars=1,width=600,height=700");
} 
```

这是我放置打印按钮的方式

```
 <form>

   <input type="button" value="Print" onClick="window.print() ">

 </form> 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-30T10:37:07.523

带有 URL 的标题（有时是页面标题、页码等）由 Web 浏览器自动添加。基本上，设置只能由用户更改。[在那个问题](https://stackoverflow.com/questions/1960939/disabling-browser-print-options-headers-footers-margins-from-page)中详细讨论了这个主题

对于按钮本身，您可以使用[该问题](https://stackoverflow.com/questions/355313/how-do-i-hide-an-element-when-printing-a-web-page)中讨论的特定打印 CSS 将其隐藏。正如 MMacdonald 所说，您也可以将此技术用于其他元素，这样您就无需重新渲染页面。但是你会失去预览功能（用户仍然可以使用浏览器的打印预览功能）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-02-19T10:10:11.570

如果您使用的是引导程序，请找到以下代码：

```
 @media print {
  ...
  a[href]:after {
    content: " (" attr(href) ")";
  }
  ...
} 
```

用 content:none 覆盖样式可以很好地处理这种情况。

参考：[这个网址](https://drupal.stackexchange.com/questions/59900/how-to-get-rid-of-added-urls-when-printing-a-bootstrap-themed-page)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:23:59.463

考虑使用[依赖于媒体的样式表](http://www.w3.org/TR/CSS21/media.html)，而不是制作定制的“打印页面”解决方案。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-01-09T15:50:22.300

这对我有用，**边距约为 1 厘米**

```
@page 
{
    size:  auto;   /* auto is the initial value */
    margin: 0mm;  /* this affects the margin in the printer settings */
}
html
{
    background-color: #FFFFFF; 
    margin: 0mm;  /* this affects the margin on the html before sending to printer */
}
body
{
    padding:30px; /* margin you want for the content */
} 
```

# apache-flex - 我应该在 Flex4 中使用 Sprite 吗？

> ID：13136865
> 
> 赞同：0
> 
> 时间：2012-10-30T10:17:10.110
> 
> 标签：apache-flex, flex4, sprite

我想将 Rect 添加到 Sprite，但失败了。一个 Rect 只能用 addElement 添加，而 Sprite 没有（只有 addChild）。有什么选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:41:49.590

不，您实际上不想使用 Sprites 或 MovieClips。Flex 中的 UI 层基于 UIComponent，因此框架希望将此类用作基类。测量/调整大小、定位等基于 Flex 组件生命周期，必须由组件显式/隐式实现才能与框架一起使用。

其他一切都是与框架的斗争，失去了很多好处。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T18:55:14.613

原则上，我有点不同意@Florian Salihovic 的回答。A`Sprite`是在 Flash 播放器中本地定义的低级别对象。它比任何 Flex 组件都要轻得多。如果它满足您的需求，为什么不在您的应用程序中使用它呢？

您只需要注意，它`Sprite`不会完成 Flex 组件所做的所有花哨的事情。这限制了它在 Flex 应用程序中的使用，但无论如何并不排除它。

当然，我不`Sprite`经常在 Flex 中使用 's。我只想说没关系，并且`Sprite`在您的 Flex 应用程序中使用 a 的场景非常好：

*   使用 a`Sprite`作为掩码
*   `Sprite`对 Flex 组件内的子对象使用 a
*   `Graphics`在轻量级对象上使用 API进行编程绘图

对于您的具体情况，已经提出的建议很好，我将对其进行更多说明：

*   如果您只需要一个矩形，那么在 Sprite 上绘制矩形怎么样？听起来你已经打算在上面画点别的东西了。
*   FXG 很棒，它的语法类似于 Spark 图形基元（如`Rect`），因此不会感到陌生。当您在 Flex 应用程序中实例化 FXG 对象时，您将其键入为`SpriteVisualElement`. 因此，您在 FXG 中以声明方式制作的绘图可以实例化为 a `SpriteVisualElement`，然后您可以访问它的`Graphics`api 以在其上进行额外的绘图。

# linux - 将剪贴板中的文本复制到 vim 编辑器

> ID：13136871
> 
> 赞同：2
> 
> 时间：2012-10-30T10:17:24.863
> 
> 标签：linux, vim

我在另一个编辑器中打开了一个文本文件，并且想将该文件中的一些文本复制到在 vim 编辑器中打开的另一个文件中。我尝试了谷歌并找到了`"+p`. 但它不起作用。它正在粘贴我`dd`在同一个文件中使用的最后一行。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T14:31:48.793

要从剪贴板粘贴，请转到 VIM 的插入模式，然后按

```
ctrl+shift+v. 
```

如果您希望保留缩进，例如，如果您正在复制代码，那么您也可以通过启用粘贴选项来保存它。为此，请编写：

```
:set paste 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:29:54.550

Vim 和 PHPStorm 是否在同一台机器上？

Vim 编译时是否支持剪贴板？`:echo has('clipboard')`应该返回`1`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:27:57.773

试试`"*p`。如 中所述，还有其他可以使用的特殊寄存器`:h clipboard`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-03-04T18:47:20.343

使用从其他编辑器复制文本

```
Ctrl+c. 
```

打开你的 vim 编辑器。输入命令

```
:set paste 
```

现在按下`i`进入插入模式并使用复制文本`Ctrl+v`

# swing - 如何使用 scala 将侦听器添加到 javafx UI 组件

> ID：13136872
> 
> 赞同：2
> 
> 时间：2012-10-30T10:17:24.030
> 
> 标签：swing, scala, javafx-2, javafx, observer-pattern

我正在使用 Scala 和`Publisher`trait 来监听我的数据组件的变化并发布/更新显示以摆动 UI 组件（像[这样](https://stackoverflow.com/questions/6260387/how-to-add-listeners-to-swing-components-in-scala)）

我最近重写了我的程序以使用`Javafx2`and `Scala`，并且我不能使用最近的绑定项目`Scalafx`，因为我的程序只有一部分切换到 javafx （嵌入到 swing JFrame 中）。

我可以在 scala 中使用基于 scala.swing`Publisher`特征具有相同（或相似）行为的最佳语法是什么？

你有一些链接或简单的例子来说明这种方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T11:40:30.293

我现在可以建议的是重用`scala.swing`实现*Publish/React*系统的模式。可以从旧存储库中的[scala.swing.Component](https://lampsvn.epfl.ch/trac/scala/browser/scala/trunk/src/swing/scala/swing/Component.scala)`scala.swing`中获取一个示例 。

这个想法是为所有需要发布事件的*javafx类创建可能最通用的包装器，并将这些类隐式转换为这个包装器。*

包装器将定义将事件从*javafx*侦听器连接到*发布/反应*系统的逻辑。

示例代码如下所示，并且基于上述`scala.swing`代码

```
 package scala.fx.react

  object ScalaFxReactive {
      /*
       * Can't say if Node is the best and only class that should be converted.
       * You should make implicit publishers from any fx class that supports the
       * addEventHandler(someEventType)
       */
      implicit def toPublisher(peer: Node): ScalaFxComponentPublisher = new ScalaFxComponentPublisher(peer)

  class ScalaFxComponentPublisher(peer: Component) {

    /**
     * Contains publishers for various mouse events. They are separated for
     * efficiency reasons.
     */
    object mouse {
       /**
        * Publishes clicks, presses and releases.
        */
        val clicks: Publisher = new LazyPublisher {

          lazy val clicked = new EventHandler[MouseEvent] {
            def handle(e: MouseEvent) {
               /*
                *This is the most critical part: you need
                * to check if it's possible to create the swing 
                * event from an fx event, eventually through an
                * implicit conversion
                */
               publish(new MouseClicked(e))
            }
          }

          def onFirstSubscribe() = peer.setOnMouseClicked(clicked)
          def onLastUnsubscribe() = peer.setOnMouseClicked(null)
          /*
           * probably better:
           * def onLastUnsubscribe() = peer.removeEventHandler(MouseEvent.MOUSE_CLICKED)
           */
        }
        /**
         * Publishes enters, exits, moves, and drags.
         */
        val moves: Publisher = new LazyPublisher {
           lazy val entered = new EventHandler[MouseEvent] {
             def handle(e: MouseEvent) {
               publish(new MouseEntered(e))
             }
           }
           lazy val exited = new EventHandler[MouseEvent] {
             def handle(e: MouseEvent) {
               publish(new MouseExited(e))
             }
           }

           /*
            * Need implementation
            */
           lazy val moved = new EventHandler[MouseEvent] {
             ...
           }
           def onFirstSubscribe() {
             peer.setOnMouseEntered(entered)
             peer.setOnMouseExited(exited)
             ...
           }
           def onLastUnsubscribe() {
             peer.setOnMouseEntered(null)
             peer.setOnMouseExited(null)
             ...
           }
         }
       }
     } 
```

然后你可以支持在你的组件中做出反应，就像你做的那样`scala.swing`

```
class MyComponent {
    import scala.fx.react.ScalaFxReactive._

    listenTo(node)

    reactions += {
      ...   
    }

} 
```

代码将被视为粗略的草图，不会按原样编译。它指向了一个可能的方向，但对于像您一样需要逐步将遗留`scala.swing`应用程序连接到库的人来说，完整的解决方案可能是一个足够有趣的`javafx`库。

# javascript - 如何在更改窗口大小时调整网页上的文本？

> ID：13136875
> 
> 赞同：0
> 
> 时间：2012-10-30T10:17:28.023
> 
> 标签：javascript, jquery, css, jquery-mobile

我正在使用移动 jquery 进行设计。我想调整网页/屏幕上的文本，以便在所有移动设备上自动调整。我怎样才能激活这个？任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:19:35.587

设置 body 和 html 元素的宽度和高度以最大化页面。我知道，你也必须设置 html 元素很奇怪，但这就是生活。

```
html, body {
    width:100%;
    height:100%;
} 
```

在您的标记中定义您的部分。

```
<section>...</section>
<section>...</section>
<section>...</section> 
```

并调整您的部分大小以适应加载和调整页面大小。就像是：

```
function draw() {
    var width = $(document).width();
    var height = $(document).height();

    $("section").width(width).height(height);
}

$(document).resize(draw);
$(draw); 
```

# java - 多个自定义EditText

> ID：13136880
> 
> 赞同：0
> 
> 时间：2012-10-30T10:17:57.540
> 
> 标签：java, android

我有一个带有 10 个小 EditText' 的布局，每个都有一个数字。这些字段需要一个自定义的焦点处理程序，但是如何在不多次编写同一个类的情况下将其应用于所有字段？

有没有类似css select by class的东西？或者其他方式来做到这一点？

如果重要，这是我想尝试的焦点处理程序： [将焦点从一个 EditText 移动到另一个](https://stackoverflow.com/questions/8630819/moving-focus-from-one-edittext-to-another)

如您所见，这使用了 findById，我认为它不能做我想做的事。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:33:10.120

您可以创建一个实现 OnFocusChangeListener 之类的类

```
public class MyFocusHandler implements OnFocusChangeListener
{
     private Context context;
     private Edittext edtext;
     public MyFocusHandler (Context context,EditText edText)
     {
         this.context=context;
         this.edText=edText;
     }
    // Override necessary methods.
} 
```

# asp.net-mvc - Jquery所见即所得编辑器删除格式化插件（rmFormat）不起作用

> ID：13136883
> 
> 赞同：0
> 
> 时间：2012-10-30T10:18:14.593
> 
> 标签：asp.net-mvc, jquery-plugins, jwysiwyg

我已经下载并实现了以下插件： [https ://github.com/jwysiwyg/jwysiwyg](https://github.com/jwysiwyg/jwysiwyg)

现在我不希望用户能够格式化输入到插件中的文本，只需要基本的粗体斜体和段落。所以我**尝试**实现[rmFormat](https://github.com/jwysiwyg/jwysiwyg/blob/master/plugins/wysiwyg.rmFormat.js)插件

```
$('textarea.wysiwyg').wysiwyg({
        brIE: true,
        rmUnusedControls: true,
        controls: {
            bold: { visible: true },
            italic: { visible: true },
            h3: { visible: true },
            removeFormat: { visible: true }
        },
        rmUnwantedBr: false,
        plugins: {
            rmFormat: {
                rmMsWordMarkup: true,
                enabled:true
            }
        }
    }); 
```

但是，它只是不起作用！有人有这方面的经验吗？如果没有人得到这样的控件的任何其他建议，只允许非常简单的标记控制？

网站是**MVC**顺便说一句

这是一个小提琴

[http://jsfiddle.net/KjVEt/69/](http://jsfiddle.net/KjVEt/69/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T11:58:49.423

Liam，我使用过这个插件并遇到了同样的问题。所以我必须编写一些自定义代码，它对我有用。

我在**jquery.jwysiwyg.js**文件中编写了代码

```
 this.removeFormat = function () {
         ...
      // Get the current html strings from textarea
         var newContent = this.getContent();
        // it will remove all the html formatting applied on textarea
         newContent = newContent.replace(/<(.|\n)*?>/gi, '');
         // update new contents on textarea
         this.editorDoc.body.innerHTML = newContent;
         this.saveContent();

 return this;
} 
```

# python - 如何在 Mac 上构建和安装 libvirt？

> ID：13136884
> 
> 赞同：4
> 
> 时间：2012-10-30T10:18:14.643
> 
> 标签：python, macos, installation, libvirt

我参考了[这篇文章](http://lsimons.wordpress.com/2011/06/02/libvirt-vmware-fusion-mac-os-x/)，但使用了更新的库。明确地说，我下载 了`libgpg-error-1.10`,`libgcrypt-1.5.0`和`gnutls-3.1.3``libvirt-1.0.0`

`libgpg-error-1.10`，`libgcrypt-1.5.0`安装成功，当配置时`gnutls-3.1.3`，出现错误：

> 配置：错误：
> 
> ***未找到 Libnettle 2.5。请注意，您必须在支持 gmp 的情况下编译荨麻。

我想要的是使用 libvirt 的 python 绑定（即`import libvirt`在 python 中）。谁能解释如何获得一个可用的 python libvirt 库？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-30T10:52:36.263

您最简单的选择可能是使用[自制软件](http://mxcl.github.com/homebrew/)安装`libvirt`：

```
$ brew install libvirt 
```

之后编译 Python 绑定`libvirt`应该是微不足道的。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2014-03-21T20:04:29.447

安装 libvirt 后：

`$ brew install libvirt`

您可以使用 pip 安装 libvirt python 绑定：

`$ pip install libvirt-python`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-05-31T09:04:49.433

安德鲁斯解决方案适用于`El Capitan`和向上的一次修改。由于这些版本不允许写访问，`/usr/share`您需要提供`pkg-config`的路径`libvirt api`，例如：

```
export PKG_CONFIG_PATH=/usr/local/Cellar/libvirt/4.3.0/lib/pkgconfig 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-13T07:42:09.880

我在相当新的 MacOSX 10.10.5 上运行了以下命令

```
bash-3.2$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
bash-3.2$ brew install libvirt
bash-3.2$ brew install libvirt-python
bash-3.2$ pip install libvirt-python
bash-3.2$ echo Instructions at http://stackoverflow.com/questions/13136884/how-to-build-and-install-libvirt-on-mac do not work.

bash-3.2$ sudo easy_install pip
bash-3.2$ pip install libvirt-python
bash-3.2$ echo typical python stuff up - when the install of a tool gets in your way - toss the tool
bash-3.2$ echo unless the tool has worked many many times before.
bash-3.2$ pip install pkg-config
bash-3.2$ brew install pkg-config
bash-3.2$ pip install libvirt-python
bash-3.2$ sudo pip install libvirt-python
bash-3.2$ 
```

# python - 如何在应用程序上运行命令并在 cloudfoundry 上获取退出代码

> ID：13136885
> 
> 赞同：2
> 
> 时间：2012-10-30T10:18:15.123
> 
> 标签：python, ssh, cloud-foundry

我们需要在 cloudfoundry 上运行任意命令。（部署的应用程序是 Python/Django，但此解决方案的语言无关紧要）。理想情况下通过 ssh，但协议无关紧要。

我们需要一种可靠的方法来获取已运行命令的退出代码，以及它的 stderr 和 stdout。如果可能，运行的命令应该是同步的（例如，阻止客户端，直到命令在 cloudfoundry 应用程序上完成）。

是否有解决方案可以让我们做到这一点，或者什么是解决这个问题的好方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T12:29:07.163

我假设您的意思是**从 CloudFoundry 外部**获取结果（*即*没有一个应用程序启动另一个应用程序并获得结果、stdout 和 stderr）。

您只能通过 http(s) 访问 CloudFoundry 应用程序，因此您必须找到一种方法将您的调用包装成某种东西，将您需要的一切都公开为 http。

# android - android软键盘出现时会破坏布局

> ID：13136891
> 
> 赞同：14
> 
> 时间：2012-10-30T10:18:35.387
> 
> 标签：android, android-layout, android-softkeyboard

这是一个布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent" >

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="0px"
            android:layout_weight="1" />

        <FrameLayout
            android:background="#0000ff"
            android:layout_width="match_parent"
            android:layout_height="0px"
            android:layout_weight="1" />

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="0px"
            android:layout_weight="1" />

    </LinearLayout>

    <EditText
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true" />

</RelativeLayout> 
```

![在此处输入图像描述](../Images/d8e53dd38e76254911dd51a28d638eae.png)

当触摸 EditText 并出现软键盘时，我希望蓝条保持不变。即我希望保留它的大小和位置。`android:windowSoftInputMode`我在 AndroidManifest 中为我的活动参数尝试了所有四个可能的值。我的蓝条总是在出现的软键盘上移动或缩小：

`android:windowSoftInputMode="adjustUnspecified"`或默认情况下：

![在此处输入图像描述](../Images/5a0fc01fed848b9d17f3736b080daf32.png)

`android:windowSoftInputMode="adjustPan"`或`android:windowSoftInputMode="adjustNothing"`：

![在此处输入图像描述](../Images/3af6414447f9efefe7d60489f3edeccd.png)

`android:windowSoftInputMode="adjustResize"`：

![在此处输入图像描述](../Images/779689d5cd048bbc47b1178b1ce65907.png)

出现软键b时是否可以保持相同的大小和位置？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2018-01-08T17:32:55.043

您必须`<ScrollView>`用作主要布局。例子：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
   android:layout_width="match_parent"
   android:layout_height="match_parent">
   ....
</ScrollView> 
```

或在 AndroidManiFest.xml 中使用此代码：

```
<activity
     android:windowSoftInputMode="adjustNothing">
</activity> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:32:14.637

由于输入是进入`EditText`你的，它总是会移动一些东西。

考虑有两种布局，一种用于键盘向下时，一种用于键盘向上时。

使用 a`ViewSwitcher`可能会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-04T15:43:23.503

我认为这是因为您正在使用 LinearLayout。你能用相对布局改变你的内部布局吗？在您当前的情况下，由于线性布局，键盘只会更改组件之间的边距。并使用 adjustNothing 更改您的配置。

# typescript - 重载实现

> ID：13136892
> 
> 赞同：-3
> 
> 时间：2012-10-30T10:18:36.463
> 
> 标签：typescript

在视频中，我发现接口可以使用奇怪的重载技术。下面的代码已编译但不起作用。我有一些问题，所有问题都放在代码中：

```
interface X{

// how can the class implements such overload ?
    f:{ 
        (s:string):string;
        (s:number):string;
        data:any;
    };
}

class xxx
{

// how to initialize this structure ?
    f:{   
        (s:string):string;
        (s:number):string;
        data:any;
    };
}

var x = new xxx();

// how should the class xxxx look to be used with this function ?
function a(x:X):string{
    return x.f("1");    
}

a(x); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:35:56.607

我认为您正在尝试`f`使用字符串或数字调用该函数。

在您的界面中，您可以像这样定义重载：

```
interface X{
    b(s:string) : string;

    f (s:string):string;
    f (s:number):string;
} 
```

你实现这样的接口。

```
class xxx implements X
{
    b(s:string) : string
    {
        return "";      
    }

    f (s: string): string;
    f (s: number) : string;
    f (s: any) : string {
        return s.toString();
    }
} 
```

这是您可以粘贴到[Playground](http://www.typescriptlang.org/Playground/)中尝试的完整示例：

```
interface X {
    b(s:string) : string;
    f (s:string):string;
    f (s:number):string;
}

class xxx implements X {
    b(s:string) : string {
        return "";      
    }

    f (s: string): string;
    f (s: number) : string;
    f (s: any) : string {
        return s.toString();
    }
}

var x = new xxx();

alert(x.f("1"));
alert(x.f(5)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T14:17:50.130

我发现的唯一解决方案是使用类型转换。它有效，但看起来很丑陋。对我来说，这是编译器中的一个错误，或者应该有不同的方法来做到这一点。

UPD：确实，这是唯一的解决方案，[http ://typescript.codeplex.com/discussions/401235](http://typescript.codeplex.com/discussions/401235)

```
interface X{
    f:{ 
        (s:string):string; 
        (s:number):string; 
        data:any; 
    };
}

class xxx
{
    constructor()
    {
        this.f = <{ (s:string):string; (s:number):string; data:any; }> function (s:any):string {return s.toString();};
        this.f.data = "data" 
    };

    f:{ 
        (s:string):string;
        (s:number):string;
        data:any;
    };
}

var x = new xxx();

function a(x:X):string{
    return  x.f("1") + x.f(1) + x.f.data;     
}

alert(a(x)); 
```

# adfs2.0 - openam + adfs 测试联合失败

> ID：13136893
> 
> 赞同：0
> 
> 时间：2012-10-30T10:18:37.410
> 
> 标签：adfs2.0, openam

我引用了这个站点：[https://wikis.forgerock.org/confluence/display/openam/OpenAM+and+ADFS2+configuration](https://wikis.forgerock.org/confluence/display/openam/OpenAM+and+ADFS2+configuration) 用于设置 openam + adfs 并遵循文档中的所有步骤，但是在使用链接进行测试时: (链接类似于我的设置)

[https://sso.aaa.local:8443/opensso/saml2/jsp/spSSOInit.jsp?metaAlias=/sp&NameIDFormat=transient&idpEntityID=http://IDP01.bbb.local/adfs/services/trust&binding=HTTP-POST](https://sso.aaa.local:8443/opensso/saml2/jsp/spSSOInit.jsp?metaAlias=/sp&NameIDFormat=transient&idpEntityID=http://IDP01.bbb.local/adfs/services/trust&binding=HTTP-POST)

从任何浏览器我都会收到此错误：IDP01.bbb.local :: web page not found 等等。

它正在重定向到：

[https://IDP01.bbb.local/adfs/ls/?SAMLRequest=.....//一些](https://IDP01.bbb.local/adfs/ls/?SAMLRequest=.....//some)代码......

此测试是从网络 A 和网络 B 完成的，但同样的错误即将到来。

所以请任何人都可以帮助我解决这个异常并告诉我可能的解决方案。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T20:35:27.010

您是否尝试过执行 wiki 文章中提到的“IdP 发起的 SSO”……这可能首先更容易。

您还可以查看 SAML 协议消息，例如使用 Firefox 的“SAML 跟踪器”插件。

这可以帮助您了解流程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T23:04:31.927

对上面的 SAMLRequest 进行解码——看看[ADFS：我想查看 SAML 数据](http://nzpcmad.blogspot.co.nz/2012/10/adfs-i-want-to-see-saml-data.html)。

然后查看请求中的 URL - 我猜其中一个是错误的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-31T08:41:53.560

下次如果您想隐藏您的设置，您应该注意您向公众发布的信息... SAML 身份验证请求显示您的服务器 FQDN ...

# debugging - 无法在 CUDA (.cu) 文件中插入断点

> ID：13136896
> 
> 赞同：1
> 
> 时间：2012-10-30T10:19:00.300
> 
> 标签：debugging, cuda, nsight

当我尝试在 .cu 文件中插入断点时，我收到一条消息“此时无法插入断点”

我已经安装了 Parallel NSight。

我需要更改任何设置还是遗漏了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T15:21:57.650

确保您使用的是 Debug 版本，而不是 Release。

# android - '如何在安卓平板电脑中扫描指纹（使用生物识别）'

> ID：13136898
> 
> 赞同：-6
> 
> 时间：2012-10-30T10:19:06.533
> 
> 标签：android, fingerprint

“我想用外部硬件扫描仪扫描我的 android 平板电脑中的指纹，该扫描仪将通过 USB 连接到 android 平板电脑。我被谷歌搜索了，我找到了这个链接，但我不知道这个人是怎么做的 [http://www。 bioenabletech.com/fingerprint-scanner-android-tablet-mobile](http://www.bioenabletech.com/fingerprint-scanner-android-tablet-mobile) 和我从谷歌搜索获得的另一个链接是 [http://www.mobbeel.com/products/mobbid/overview/](http://www.mobbeel.com/products/mobbid/overview/) 是否可以在 android 平板电脑中进行指纹扫描以任何方式（请不要建议没有真正的生物特征扫描的虚假应用程序，我已经在 google play 中看到过）如果可能，请向我提供现有的应用程序示例和 url 链接，请帮助我...... ..”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:27:40.927

这是100%不可能的。没办法。硬件甚至无法做到这一点。您可以从屏幕上获得的只是触摸输入的网格方向。你可以停止寻找。在任何设备中执行此类操作的唯一方法是拥有为此构建的硬件组件，即“手指扫描仪”。就像您问“如何使用第三方 sdk 使用平板电脑在墙上钻孔”。

# java - 类似于源代码编辑器的富文本编辑器

> ID：13136911
> 
> 赞同：-1
> 
> 时间：2012-10-30T10:20:01.567
> 
> 标签：java, windows, editor

我想要一个在 Windows 中运行的免费富文本编辑器，具有以下功能：

*   斜体、粗体、下划线
*   更改字体大小和字体颜色
*   左缩进

但问题是，我还想要在源代码编辑器中找到一个功能：

*   折叠文本段落的能力[例如 { } 大括号内的文本]

我只有基本的 Java 知识，尝试学习扩展`javax.swing.text.EditorKit`或任何`javax.swing.text`类都被证明超出了我的能力范围。（当然，从头开始编写富文本编辑器绝对超出了我的能力范围！）。

有没有人偶然知道我在哪里可以得到我想要的东西？或者，或者，任何人都可以指导我如何实际制作我正在寻找的东西`javax.swing.text`吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T14:43:52.047

可能是 TextWrangler 或 Notepad++ 之类的东西？

# java - java在线获取用户（名称）列表

> ID：13136914
> 
> 赞同：-1
> 
> 时间：2012-10-30T10:20:14.850
> 
> 标签：java, session, servlets

我想在线获取用户列表。在[本教程](http://viralpatel.net/blogs/jsp-servlet-session-listener-tutorial-example-in-eclipse-tomcat/)中，我可以看到用于获取在线用户数量的代码。

我想我需要一个列表来获取和存储用户名`sessionCreated(HttpSessionEvent event)`，然后显示这个列表。

请建议这是否是正确的方法，或者是否有更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:27:31.563

这就是您必须跟踪用户会话的方式。要了解更多信息，请访问此链接--HttpSession

[http://docs.oracle.com/javaee/6/api/](http://docs.oracle.com/javaee/6/api/)

# c# - 在 C# 中读取 XML 字符串

> ID：13136920
> 
> 赞同：3
> 
> 时间：2012-10-30T10:20:34.643
> 
> 标签：c#, asp.net, xml, readxml

我有一个类型的字符串`string xml = @"<recurrence><rule><firstDayOfWeek>mo</firstDayOfWeek><repeat><daily dayFrequency=""1"" /></repeat><windowEnd>2012-10-31T10:00:00Z</windowEnd></rule></recurrence>";`

我想读取这里的`dayFrequency`值`1`，有没有办法可以直接`dayFrequency`在标签下读取`daily`，同样有很多这样的标签，例如**a="1"、b="King"**等，所以我想直接读取值分配给一个变量。

请帮忙。

我使用的以下代码读取重复标签

```
string xml = @"<recurrence><rule><firstDayOfWeek>mo</firstDayOfWeek><repeat><daily dayFrequency=""1"" /></repeat><windowEnd>2012-10-31T10:00:00Z</windowEnd></rule></recurrence>";

XmlDocument xmlDoc = new XmlDocument();
xmlDoc.LoadXml(xml);

// this would select all title elements
XmlNodeList titles = xmlDoc.GetElementsByTagName("repeat"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-30T10:28:59.620

```
XDocument xmlDoc = XDocument.Parse(xml);
var val = xmlDoc.Descendants("daily")
                .Attributes("dayFrequency")
                .FirstOrDefault(); 
```

这里 val 将是：

```
val = {dayFrequency="1"} 
```

`val.Value`会给你`1`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:25:18.357

```
XElement.Parse(xml).Descendants("daily")
                   .Single()
                   .Attribute("dayFrequency")
                   .Value; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:36:05.323

```
XDocument xdoc = XDocument.Parse(@"<recurrence><rule><firstDayOfWeek>mo</firstDayOfWeek><repeat><daily dayFrequency=""1"" /></repeat><windowEnd>2012-10-31T10:00:00Z</windowEnd></rule></recurrence>");
        string result = xdoc
            .Descendants("recurrence")
            .Descendants("rule")
            .Descendants("repeat")
            .Descendants("daily")
            .Attributes("dayFrequency")
            .First()
            .Value; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T10:25:40.723

您应该使用 getattribute()。

有关详细信息，请参阅：http: [//msdn.microsoft.com/en-us/library/acwfyhc7.aspx](http://msdn.microsoft.com/en-us/library/acwfyhc7.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-30T10:26:23.723

```
 var nodes = xmlDoc.SelectNodes(path);

    foreach (XmlNode childrenNode in nodes)
    {
        HttpContext.Current.Response.Write(childrenNode.SelectSingleNode("//repeat").Value);
    } 
```

# jdbc - 为什么在groovy的结果集上调用next时抛出错误

> ID：13136922
> 
> 赞同：0
> 
> 时间：2012-10-30T10:20:39.623
> 
> 标签：jdbc, groovy

我在 groovy 中有以下代码，并且我需要控制循环行，以便我可以将卡盘中的行拆分并传递给其他线程（通过参与者）。但看起来 next() 不能被调用，我没有进行以下测试

```
def ORACLE = Sql.newInstance( "jdbc:oracle:thin:@.....", "xxx", "xxx", "oracle.jdbc.driver.OracleDriver" )
java.sql.ResultSet rs = ORACLE.executeQuery("select 1 as x from dual")  
rs.next() 
```

错误：

```
Oct 30, 2012 6:15:44 AM org.codehaus.groovy.runtime.StackTraceUtils sanitize
WARNING: Sanitizing stacktrace:
java.sql.SQLException: Closed Statement: next
  oracle.jdbc.driver.OracleResultSetImpl.next(OracleResultSetImpl.java:242) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:27:33.010

你确定这就是你的全部代码吗？我看不出这是如何失败的。

通常，通过尝试`ResultSet`在单个 上打开第二个`Statement`，然后调用`next`第一个（现已关闭）来调用此错误`ResultSet`

你可以试试这个，看看它是否有效：

```
ORACLE.eachRow( "select 1 as x from dual" ) { row ->
  println row.x
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T07:54:51.933

以下将起作用：只需使用 java stype jdbc。

```
import oracle.jdbc.driver.OracleTypes

driver = oracle.jdbc.driver.OracleDriver

Connection conn = DriverManager.getConnection(".....", "**", "**")  
Statement stmt = conn.createStatement();  
java.sql.ResultSet rs = stmt.executeQuery("select * from dual")  
while (rs.next()){
   println 'xx'
} 
```

# performance - 可以进行矢量化吗？会有什么好处吗？

> ID：13136929
> 
> 赞同：1
> 
> 时间：2012-10-30T10:21:22.647
> 
> 标签：performance, matlab, vectorization

这里的这个功能在我的运行中消耗了很多时间。但是看到的是大部分时间都在内置函数`polyarea`中。可以将此代码矢量化以提高性能吗？

探查器报告 -

```
 time   calls
                  1 function [S S_area] = Polygons_intersection_Compute_area(S)
                  2 % Guillaume JACQUENOT
                  3 % guillaume at jacquenot at gmail dot com
                  4 % 2007_10_08
                  5 % 2009_06_16
                  6 % Compute area of each polygon of in S.
                  7 % Results are stored as a field in S
                  8 
  0.50   51945    9 S_area = struct('A', {}); 
  0.20   51945   10 for i=1:numel(S) 
  0.28  103890   11     S(i).area = 0; 
  1.34  103890   12     S_area(i).A = zeros(1,numel(S(i).P)); 
  0.69  103890   13     for j=1:numel(S(i).P) 
  9.24  103890   14         S_area(i).A(j) = polyarea(S(i).P(j).x,S(i).P(j).y); 
  0.28  103890   15         S(i).area      = S(i).area + (1-2*S(i).P(j).hole) * S_area(i).A(j);         
  0.01  103890   16     end 
  0.08  103890   17 end 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:58:26.450

我看到4个问题。我将按潜在性能增益的递增顺序讨论它们。

第一：你使用`i`and`j`作为循环变量名。这些也是 Matlab 中虚数单位的名称，这意味着 Matlab 将不得不花一些时间来查找您所指的虚数单位。问题是，如果循环不是 JIT的，它必须*在每次迭代*中都这样做（你的不是，我会讲到的）。

第二：索引多维结构需要的时间比你想象的要多。多维结构在这方面有点臭名昭著，最好避免对它们进行过多的索引操作。通常制作一个元素的简单副本，对该副本执行所有操作，然后将副本写回结构可以大大提高性能。

第三：您没有`S_area`以最有效的方式预先分配。您甚至不预先分配结构，而是在您预先分配时在第一个循环中增长它`S_area(i).A`。这一切都可以改进（见下文）。

第四：`polyarea`不是内置函数，所以这个双循环不会被 JIT 处理*。*如果您在您或 Mathworks 用 M 语言（而不是 C）编写的循环内调用*任何*函数，JIT 编译器将无法编译您的循环。这是*迄今为止*JIT 框架中最烦人的（也是可改进的）限制，而 JIT 循环的运行速度通常比非 JIT 循环快 100 倍或更多。

唯一的解决方案通常是在循环体中“内联”一个非内置函数。在 Matlab 中，这意味着：将函数体的全部内容复制粘贴到循环中，并对在该函数体中调用的所有非内置函数递归地执行此操作。

以上所有导致此版本的代码：

```
% pre-allocate S_area
S_area(numel(S)).A = [];
As = cellfun(@(x) zeros(numel(x),1), {S.P}, 'UniformOutput', false);
[S_area.A] = deal(As{:});

% number of polygons for all S(ii)
numPolys = cellfun(@numel, {S.P});

% enter loop
for ii = 1:numel(S)
    % extract S(ii) only once
    Sii = S(ii);

    Sii.area = 0;
    Aii = S_area(ii).A;        
    for jj = 1:numPolys(ii)

        p = Sii.P(jj);  % extract polygon only once
        x = p.x; % and its x and y components
        y = p.y;            
        sz = size(p);

        % NOTE: core of polyarea. Note that all checks and flexibility, and 
        % therefore user-friendliness, is GONE. Very little has to go wrong 
        % here before a hard-to-understand error is issued. 
        Area = reshape(abs(sum( (x([2:sz(1) 1],:) - x(:,:)).* ...
            (y([2:sz(1) 1],:) + y(:,:)))/2),[1 sz(2:end)]);

        Aii(jj) = Area;
        Sii.area = Sii.area + Area*(1-2*p.hole);
    end

    % place copies back into the strucure
    S_area(ii).A = Aii;
    S(ii).area = Sii.area;

end 
```

我无法尽可能正确地对此进行测试，因此如果您发现一些错误，请告诉我，我会尽力纠正它们。

# iphone - 如何向地图视图添加多个颜色图钉。

> ID：13136934
> 
> 赞同：3
> 
> 时间：2012-10-30T10:21:36.877
> 
> 标签：iphone, objective-c, ios, xcode

我有一张包含 3 类兴趣点的地图。目前我已经让它们显示，但是它们都是相同的颜色。我怎样才能让他们根据他们所在的类别显示颜色？

我四处搜索，找不到任何我能理解的适用于我的代码的东西。

这是我当前用于注释引脚的代码：

```
-(void)pins:(NSString *)name lat:(NSString *)lat lon:(NSString *)lon poiID:(NSString *)poiID
{

    //cast string to float
    CGFloat Lat = (CGFloat)[lat floatValue];
    CGFloat Lon = (CGFloat)[lon floatValue];

    //Set coordinates of pin
    CLLocationCoordinate2D coordinate;
    coordinate.latitude = Lat;
    coordinate.longitude = Lon;

    //Create Pin
    MKPointAnnotation *annotation = [[MKPointAnnotation alloc] init];
    //set details
    [annotation setCoordinate:coordinate];
    [annotation setTitle:name];
    [annotation setAccessibilityLabel:poiID]; //set the label eq to the id so we know which poi page to go to

    // Add pin to map
    [self.showMapView addAnnotation:annotation];
}

- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation {
    //create annotation
    MKPinAnnotationView *pinView = (MKPinAnnotationView *)[mapView dequeueReusableAnnotationViewWithIdentifier:@"pinView"];
    if (!pinView) {
        pinView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"pinView"];
        pinView.pinColor = MKPinAnnotationColorRed;
        pinView.animatesDrop = FALSE;
        pinView.canShowCallout = YES;

        //details button
        UIButton *rightButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
        pinView.rightCalloutAccessoryView = rightButton;

    } else {
        pinView.annotation = annotation;
    }
    return pinView;
} 
```

这是我的[代码](http://pastebin.com/sxAmutVr)的其余部分，以防需要。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-30T10:26:28.403

很简单，只需添加一个 if 语句来检查标题或副标题。当我使用地图时，我的注释类有一个副标题，它会说明地点是什么，即酒店、机场等。我只需添加一个 if 语句来检查，然后设置针点是什么并设置什么颜色我希望别针是

```
if([annotation.subtitle isEqualToString:@"Hotel"])
    {
        pinView.animatesDrop=YES;
        pinView.pinColor=MKPinAnnotationColorPurple;

    }else if([annotation.subtitle isEqualToString:@"Airport"])
    {
      pinView.animatesDrop=YES;
        pinView.pinColor=MKPinAnnotationColorRed;
    } 
```

或者，如果您希望它成为图像，只需使用

```
pinView.image = [UIImage imageNamed:@"airportMarker.png"]; 
```

编辑：更新的代码

像这样创建一个自定义注释类

```
@interface MyAnnotation : NSObject<MKAnnotation> 
{

    CLLocationCoordinate2D  coordinate;
    NSString*               title;
    NSString*               subtitle;
    NSInteger categoryID;
}
@property NSInteger categoryID;
@property (nonatomic, assign)   CLLocationCoordinate2D  coordinate;
@property (nonatomic, copy)     NSString*               title;
@property (nonatomic, copy)     NSString*               subtitle;

@end 
```

然后，当您将对象添加到屏幕时，给每个对象一个 ID，即

```
CLLocationCoordinate2D hotelCoordinates1;
hotelCoordinates1.latitude = 35.38355;
hotelCoordinates1.longitude = 1.11004;
MyAnnotation* exampleHotel=[[MyAnnotation alloc] init];
exampleHotel.coordinate=hotelCoordinates1;
exampleHotel.title=@"Example Hotel";
exampleHotel.subtitle=@"Hotel";
exampleHotel.categoryID = 1; 
```

然后在这个方法里面

```
- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id <MKAnnotation>)annotation {
    //create annotation 
```

就这样做

```
if([(MyAnnotation*)annotation categoryID] == 1)
        {

        } 
```

您需要确保将注释转换为您创建的任何类的名称。就是这样。希望有帮助！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:36:45.077

```
- (MKAnnotationView *)mapView:(MKMapView *)mV viewForAnnotation:(id <MKAnnotation>)annotation {
   static NSString *AnnotationViewID = @"annotationViewID";

    MKAnnotationView *annotationView = (MKAnnotationView *)[MymapView dequeueReusableAnnotationViewWithIdentifier:AnnotationViewID];

    if (annotationView == nil)
    {
        annotationView = [[[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:AnnotationViewID] autorelease];
    }

    if (annotation == MymapView.userLocation)
        return nil;
    /////i give just an example with category 
    if(category == 1){
       annotationView.image = [UIImage imageNamed:@"Category1.png"];
    }
    else if(category == 2){
       annotationView.image = [UIImage imageNamed:@"Category2.png"];
    }

    annotationView.annotation = annotation;
    annotationView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];
    annotationView.rightCalloutAccessoryView.tag = 101;

    annotationView.canShowCallout = YES;
    return annotationView;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:29:05.533

您必须覆盖 mkAnnotation 类并定义声明类别 ID 的特定字段。当您在地图上创建注释时设置 id，并在委托 viewForAnnotation 上检查 id 注释，并检查您必须使用哪种颜色作为当前 id 的 pin。

您还可以查看这篇文章以了解如何覆盖 MKAnnotation 类：[MKAnnotation](https://stackoverflow.com/questions/13058659/mapview-with-multiple-annotations-with-callouts-how-to-pass-title-to-next-view/13058850#13058850)

# java - 在 JFrame 中绘制不起作用（Java）

> ID：13136942
> 
> 赞同：4
> 
> 时间：2012-10-30T10:22:19.843
> 
> 标签：java, swing, graphics, jframe, paint

所以在课堂上我们正在制作一个Java程序。我们正在尝试在 JFrame 中使用paint(Graphics g) 函数。我们在过去（几​​周前）尝试过它并且它曾经工作过。但现在它没有（或者我们在某个地方犯了错误）。我们也尝试过使用paintComponent(Graphics g)，但似乎没有任何效果。这是我们的代码：

```
public class MainAc {
    public static void main(String[] args) {
        JFrame frame = new JFrame("Class Paint");       
        JButton button = new JButton("Click for more");             
        frame.setSize(800, 600);    
        frame.add(button);
        frame.setLayout(null);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        button.setLayout(null);
        button.setLocation(100,100);
        button.setSize(200,100);
        frame.setVisible(true);     
    }
    public void paint(Graphics g){
        g.drawString("Hello", 200, 50);
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-30T10:28:14.323

你的课没有任何`Component`绘画能力

阅读“[执行自定义绘画](http://docs.oracle.com/javase/tutorial/uiswing/painting/)”以获得更多想法

您可以执行以下操作：

![在此处输入图像描述](../Images/e931a11150c48ea304ecd34e501897e3.png)

```
public class SimplePaint {

    public static void main(String[] args) {
        new SimplePaint();
    }

    public SimplePaint() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException ex) {
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Test");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new PaintPane());
                frame.setSize(200, 200);
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    protected class PaintPane extends JPanel {

        @Override
        protected void paintComponent(Graphics g) {

            super.paintComponent(g);

            Graphics2D g2d = (Graphics2D) g.create();
            String text = "Look ma, no hands";
            FontMetrics fm = g2d.getFontMetrics();
            int x = (getWidth() - fm.stringWidth(text)) / 2;
            int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();
            g2d.drawString(text, x, y);
            g2d.dispose();

        }

    }

} 
```

在可能的情况下，您应该避免覆盖顶级容器的`paint`方法，如果没有其他原因，它们不是双缓冲的。

出于同样的原因，您还应该尝试从基于 Swing 的组件进行扩展，因为混合使用重型和轻型组件可能会导致绘制问题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-30T10:26:15.290

所以你正在做的是`paint`在你自己的`MainAc`类中实现一个方法，而不是`JFrame`.

你的`MainAc`类本身，应该派生自`JFrame`.

下面的代码应该可以工作。如果你不理解继承，你应该查看你的课堂笔记，它会在那里。

```
public class MainAc extends JFrame {

    public static void main(String[] args) {
        new MainAc();
    }

    public MainAc() {
        super("Class Paint");       
        JButton button = new JButton("Click for more");             
        setSize(800, 600);    
        add(button);
        setLayout(null);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        button.setLayout(null);
        button.setLocation(100,100);
        button.setSize(200,100);
        setVisible(true);
    }

    public void paint(Graphics g) {
        super.paint(g);
        g.drawString("Hello", 200, 50);
    }

} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-30T10:26:18.423

正如代码一样，您只是`paint`在类中定义一个方法。类扩展`Object`，所以你不是`overridding`在一个`JComponent`.

`Component`您的类必须扩展or的任何子类`Component`才能实际覆盖`paint`or `paintComponent`。在您的情况下，`MainAc`将扩展`JFrame`.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-02-21T07:24:48.033

这是一个似乎可以工作的 Sticky 代码的简化版本。我将其更改为扩展 JApplet 并使用该`init()`方法而不是`main()`.

```
public class JavaApplication51 extends JApplet {
    public  void something() {
       JButton button = new JButton("Click for more");             
        add(button);
        setLayout(null);
        button.setLayout(null);
        button.setLocation(100,100);
        button.setSize(101,20);
        setVisible(true); 
    }

    public void paint(Graphics g) {
        super.paint(g);
        g.drawString("Hello", 200, 50);
    }

    public void init() {
        something();
    }
} 
```

# android - android获取异常类型

> ID：13136947
> 
> 赞同：0
> 
> 时间：2012-10-30T10:22:34.967
> 
> 标签：android, exception, exception-handling

我有一个试图在后台发送邮件的异步任务。如果密码或其他设置不正确，则会引发异常。根据它抛出的异常，我需要在 toast 上显示不同的文本。我怎样才能得到什么异常被抛出，所以我可以处理这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:31:59.167

您可以捕获从更具体到更通用的异常。

```
 try {

            }
            catch (IOException ex)
            {
                .....
            }
            catch (Exception ex) {
                Log.e( TAG , "Error" + ex.getMessage());
                                    Toast.maketext(.......)
            } 
```

您可以在这里查看异常：[http](http://www.roseindia.net/java/java-exception/index.shtml) ://www.roseindia.net/java/java-exception/index.shtml 您可以选择一个或定义自己的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:28:22.087

首先使用块捕获异常。然后您可以在每个块`try catch`上显示吐司。你可以根据自己的需要`Exception`抓具体做。`exceptions`

例如：

```
 try{
          //your necessary codes
     } catch(Exception e)
          // show Toast 
     } catch(IOException e1) { 

     }catch (NullPointerException e2)

     }catch(RunTimeException e3) {

     } 
```

等等……像这样……！！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:42:49.783

请放置以下代码以在您`Toast`捕获时显示消息`Exception`：

```
 try{
  // Place the code which you think, will get an Exception
  } catch(Exception e) { 
   // show Toast as below:
    Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();
 } 
```

# php - php发布表单不发送电子邮件或检查错误

> ID：13136948
> 
> 赞同：0
> 
> 时间：2012-10-30T10:22:40.447
> 
> 标签：php

当我尝试测试它时，它显示`Thank you for contacting.....`. 当我检查我的电子邮件时没有发送任何内容，而且当我输入`*$@`错误检查似乎忽略它

表格

```
<h2 class="title"></h2>
<p>&nbsp;</p>
<br />
Please fill out all info below<br /><br />

<form name="Membership Application" action="mailscript.php" method="post">
<table border="1">
  <tr>
    <td><label for="Name">Name</label></td>
    <td width="204"><input type="text" width="200" Name="Name" />&nbsp;</td>
  </tr>
  <TR>
    <TD><input type="submit" name="submit" value="Submit"  /></TD>
    </TR>
</table>
</form> 
```

PHP的

```
<?php
if(isset($_POST['email'])) {

$email_to = "user@user.com";
$email_subject = "Test";

function died($error) {
    // your error code can go here
    echo "We are very sorry, but there were error(s) found with the form you submitted. ";
    echo "These errors appear below.<br /><br />";
    echo $error."<br /><br />";
    echo "Please go back and fix these errors.<br /><br />";
    die();
}

// validation expected data exists
if(!isset($_POST['Name'])) {

    died('We are sorry, but there appears to be a problem with the form you submitted.');      
}

$Name = $_POST['Name']; //required

$error_message = "";
$string_exp = "/^[A-Za-z .'-]+$/";

//The Error Cheak
if(!preg_match($string_exp,$Name)) {
$error_message .= 'The Name you entered does not appear to be valid.<br />';;
}
}

if(strlen($error_message) > 0) {
died($error_message);
}
$email_message = "Form details below.\n\n";

function clean_string($string) {
  $bad = array("content-type","bcc:","to:","cc:","href");
  return str_replace($bad,"",$string);
}

$email_message .="Name: ".clean_string ($Name)."/n";

// create email headers
$headers = 'From: '.$Name."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers); 
?>

<!-- include your own success html here -->

Thank you for contacting us. We will be in touch with you very soon. 
```

还有 7 个信息字段需要填写，但我已将其缩短为 1 个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:36:02.270

您的 HTML 中似乎没有名为“电子邮件”的表单输入，因此您的整个错误检查将被跳过，因为从未设置过 $_POST['email']。

# php - 管道字符 (|) 不被接受为正则表达式的一部分

> ID：13136949
> 
> 赞同：0
> 
> 时间：2012-10-30T10:22:42.217
> 
> 标签：php, regex

正则表达式 php 不接受`(" | ' ) ,`
这是我的`$pattern = '/(img|src)=("|')[^"'>]+/i';`

我怎样才能逃避`("|')`问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:28:17.357

我认为问题出在模式内的引号 ' 上。您的模式是在单引号之间定义的，因此您必须转义模式的单引号部分。尝试这个：

```
$pattern = '/(img|src)=("|\')[^"\'>]+/i'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:24:06.933

你可以试试这个：

> $pattern = '/(img|src)=("\|')[^"'>]+/i';

# unit-testing - Visual Studio 2012 代码覆盖部分触及区域

> ID：13136950
> 
> 赞同：3
> 
> 时间：2012-10-30T10:22:42.673
> 
> 标签：unit-testing, visual-studio-2012, code-coverage

我对 Visual Studio 2012 单元测试有疑问，更准确地说是代码覆盖率。这是一个目标代码：

```
var someDeals = allDeals
            .Where(i => i.Number != null && !i.Number.StartsWith(SomeString))
            .Select(i => new DealInfoDto
            {
                CurrentDebtAmount = i.CurrentDebtAmount,
                Date = i.Date,
                NextMonthlyPaymentDate = i.NextMonthlyPaymentDate,
                Number = i.Number,
                AccountNumber = i.AccountNumber,
            })
            .ToArray(); 
```

当我运行分析代码覆盖率时，它显示第二行 ( `i.Number != null && !i.Number.StartsWith(SomeString)`) 中的 lambda 表达式是部分接触区域，我无法获得 100% 的覆盖率。但我确信这个表达式被评估了（SELECT 里面的表达式是好的，所以 WHERE 里面的表达式是真的，这意味着 && 语句的两个部分都被触及了，我也检查了数据，我确定`i.Number != null`and `!i.Number.StartsWith(SomeString)`。

为什么这个块没有被覆盖？

PS我`Where`分成两个表情，一切都变好了。但它看起来很难看，最好只有一个`Where`：

```
allDeals
    .Where(i => i.Number != null)
    .Where(i => !i.Number.StartsWith(CardAccountIdentifier)) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-31T21:57:33.070

This question looks very similar to [MSTest Shows Partial Code Coverage on Compound Boolean Expressions](https://stackoverflow.com/questions/12947507/mstest-shows-partial-code-coverage-on-compound-boolean-expressions).

What I suspect is happening is that you are not testing the early fail path when `i.Number` is `null`.

If you remember [&&](http://msdn.microsoft.com/en-us/library/2a723cdk%28v=vs.100%29.aspx) will only evaluate the second expression if the first was true. In your case I suspect (as you haven't mentioned how or what your tests are) that you do not have a test or scenario where there is an entry in your `allDeals` collection where `i.Number` is `null`.

# jquery - 如何找到最短的 Selector

> ID：13136952
> 
> 赞同：2
> 
> 时间：2012-10-30T10:22:44.877
> 
> 标签：jquery, css, jquery-selectors, css-selectors, querypath

如何获得任何点击元素的最短选择器？
我想稍后使用这个选择器来恢复相同（或几乎相同）的结果。

有没有现成的方法？

我的想法是优先搜索：

1.  一次性身份证
2.  带计数器的多用 ID
3.  一次性名称
4.  带计数器的多用名称
5.  一次性使用的类名
6.  带计数器的多用类名
7.  到 1.-6 的最短父路径。

不确定如何为最大的可靠性和最大的灵活性（fe 新的父标签或代码中的移动）构建一条捷径。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-30T10:30:58.880

我会建议类似：

单击元素时

1.  查看它是否有 ID，如果有，您的选择器是`#<id>`
2.  如果它没有 ID，则生成一个随机标识符并将其分配为元素的 ID，您的选择器是`#<generated-id>`

即类似的东西：

```
var selector = '';

$('element').click(function() {
    var self = $(this);
    if(!self.is('[id]')) {
        var id = 'ljhlihj'; // replace with code to generate random ID
        self.attr('id', id);
    }
    selector = '#' + self.attr('id');
} 
```

# eclipse - 自定义 jsf taglib 的自动完成

> ID：13136955
> 
> 赞同：2
> 
> 时间：2012-10-30T10:23:06.420
> 
> 标签：eclipse, jsf, autocomplete, taglib

我希望 eclipse（juno 或更早版本）建议完成我的自定义 taglib。

所以，我写了一个 .taglib.xml 文件，其代码是：

```
<?xml version="1.0" encoding="UTF-8"?>
<facelet-taglib id="sc"
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facelettaglibrary_2_0.xsd"
    version="2.0"
>
    <namespace>http://www.senat.fr/taglib/sencommons</namespace>

    <tag>
        <description>
            <![CDATA[
                                    blah blah blah
            ]]>
        </description>
        <tag-name>senDateYearBegEnd</tag-name>
        <component>
            <component-type>fr.senat.faces.validators.SenDateYearBegEnd</component-type>
        </component>
        <attribute>
            <description>
                <![CDATA[
                    Identifiant unique.
                ]]>
            </description>
            <name>id</name>
            <required>false</required>
            <type>java.lang.String</type>
        </attribute>
    [...]
    </tag>
</facelet-taglib> 
```

此 .taglib.xml 文件位于 META-INF 目录中

示例标签是omnifaces ValidateMultiple 的自制版本。

然而，与omnifaces（只是一个例子）相反，当我使用包含这个taglib定义的依赖项在xhtml文件中使用这个lib时，我在eclipse中没有完成。

例子 ：

```
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sen="http://java.sun.com/jsf/composite/sen"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:sf="http://www.senat.fr/taglib/senfunctions"
      xmlns:sc="http://www.senat.fr/taglib/sencommons"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:of="http://omnifaces.org/functions"> 
```

如果我输入

```
<o: 
```

然后按 CTRL+空格，我得到了标签的建议，然后是属性。

如果我输入

```
<sc: 
```

然后按CTRL+空格，我什么也没有。

我的库被定义为我的项目的依赖项，就像omnifaces一样......

我在[omnifaces pom.xml](https://github.com/omnifaces/omnifaces/blob/master/pom.xml)中没有看到什么特别之处。我应该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-14T10:19:13.343

以下至少适用于 Eclipse 2.7.2/Indigo。

检查Trinidad实现表明它还需要`.tld`与.`.tld``WEB-INF``.taglib.xml`

`.tld`-> `mytaglib.taglib.xml`->的命名`mytaglib.tld`

tld 内容应如下所示 - 示例仅供参考 - 您必须填写所有内容：

```
<taglib xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-jsptaglibrary_2_1.xsd" version="2.1">

      <display-name>'free text'</display-name>    
      <tlib-version>1.0.0</tlib-version>
      <short-name>'match with name preceding .taglib.xml'</short-name>
      <uri>'your url'</uri>

       <tag>
          <description>
          </description>

          <name>'tag name'</name>
          <body-content></body-content>
          <attribute>
            <description></description>
            <name></name>
            <required></required>
            <deferred-value/>
          </attribute>
       </tag>
    </taglib> 
```

# magento - Magento：将用户重定向到 404 页面

> ID：13136961
> 
> 赞同：0
> 
> 时间：2012-10-30T10:23:31.477
> 
> 标签：magento, magento-1.7

以下问题：在某些情况下，我希望将用户重定向到未找到 magento 的默认页面。

因此我用下面的代码声明了一个事件观察者。

```
Mage::app()->getFrontController()->getResponse()->setHeader('HTTP/1.1','404 Not Found',true);
        Mage::app()->getFrontController()->getResponse()->setHeader('Status','404 File not found',true);

        $pageId = Mage::getStoreConfig('web/default/cms_no_route');
        $url = rtrim(Mage::getUrl($pageId),'/');

        Mage::app()->getFrontController()->getResponse()->setRedirect($url); 
```

重定向工作正常，但给定的 HTTP 状态代码是 302 Found 而不是 404 Not Found。任何提示我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-25T07:53:09.840

Magento 的官方方法是：

```
 $this->getResponse()->setHeader('HTTP/1.1','404 Not Found');
    $this->getResponse()->setHeader('Status','404 File not found');

    $pageId = Mage::getStoreConfig(Mage_Cms_Helper_Page::XML_PATH_NO_ROUTE_PAGE);
    if (!Mage::helper('cms/page')->renderPage($this, $pageId)) {
        $this->_forward('defaultNoRoute');
    } 
```

我从`noRouteAction`函数中 复制了这段代码`/app/code/core/Mage/Cms/controllers/IndexController.php`。

我在自定义模块的控制器中使用它，它可以工作。Magento 版本：1.7.0.2。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T08:31:23.950

你`return`马上之后`setRedirect()`吗？如果在调用后发送任何输出，`setRedirect()`则重定向标头最终将被忽略。

请记住`exit`，除非您像@benmarks 提到的那样调用`sendResponse()`过，否则也不会发送重定向标头。`exit`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T12:11:58.177

主要问题是

```
Mage::app()->getFrontController()->getResponse()->setRedirect($url); 
```

[`setRedirect()`[link]](https://github.com/benmarks/magento-mirror/blob/1.7.0.2/app/code/core/Mage/Core/Controller/Response/Http.php#L93)接受响应代码的第二个参数；默认为 302。

# php - Php - 从 xml 文件中检索信息

> ID：13136962
> 
> 赞同：3
> 
> 时间：2012-10-30T10:23:31.457
> 
> 标签：php, html, xml, dom

我正在接近网络编程。我需要从网页中检索一些信息。我有页面的url，所以我想要html源代码，将其翻译成xml，然后使用php的dom函数来获取我需要的信息。

我的php代码是这样的：

```
$url=$_POST['url']; //url

$doc_html=new DOMDocument();
$doc_html->loadHTML($url); //html page
$doc_xml=new DOMDocument();
$doc_xml->loadXML($doc_html->saveXML()); //xml converted page

$nome_app=new DOMElement($doc_xml->getElementById('title'));

echo $nome_app->nodeValue; 
```

我收到这个致命错误：

> 未捕获的异常 'DOMException' 与此行上的消息“无效字符错误”：

```
$nome_app=new DOMElement($doc_xml->getElementById('title')); 
```

怎么了？是html-to-xml的整个过程吗？我在网上找到了一些例子，应该可以工作......谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T22:48:21.513

解决了！简单地：

```
$doc_html=new DOMDocument();
$doc_html->loadHTML(file_get_contents($url));
$doc_html->saveXML();
$nome = $doc_html->getElementsByTagName('h1');
foreach ($nome as $n) { 
   echo $n->nodeValue, PHP_EOL;
} 
```

也许之前的代码太乱了。谢谢大家的回答！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:32:30.773

您需要为您在 HTML 中使用的特殊字符定义 XML 实体。它一定是与这里相同的问题：[DOMDocument::loadXML vs. HTML Entities](https://stackoverflow.com/questions/2262051/domdocumentloadxml-vs-html-entities)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-30T10:34:24.717

我会使用 preg_match() 解决方案来获取您需要的内容，而不是将整个文档解析为 XML。特别是如果文档由于某种原因变得无效，您将不再获得您的信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T10:39:48.953

最好的方法是使用 xpath 查询，

[http://php.net/manual/en/simplexmlelement.xpath.php](http://php.net/manual/en/simplexmlelement.xpath.php)

它非常快

# javascript - 如何使用 nvd3 在柱形图上定位旋转的 x 轴标签？

> ID：13136964
> 
> 赞同：26
> 
> 时间：2012-10-30T10:23:43.730
> 
> 标签：javascript, charts, d3.js, visualization, nvd3.js

我正在使用 nvd3 的 multiBarChart 构建条形图，需要调整旋转 x 轴标签的位置：

![在此处输入图像描述](../Images/df97e655580a985809af598bb0b35359.png)

```
var chart = nv.models.multiBarChart();
...
chart.rotateLabels(-90); 
```

我希望列标签不与图表重叠并在每个条形下方居中。我可以在绘制图表后选择标签并调整它们，但有没有更简单的方法？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-11-20T11:38:33.060

我发现处理此问题的最佳方法是自己执行 x 轴刻度标签的旋转。为什么？因为 NVD3 没有正确处理旋转和相关的平移。查看您的图像，您会看到库允许旋转将标签直接从它们所代表的列下方翻译出来。它也开始错误地处理这些`axis.tickPadding()`值，等等。

您需要做的第一件事是确保图表有足够的空间容纳已翻译的标签，如下所示：

```
chart.margin({bottom: 60}); 
```

然后我们可以平移和旋转标签：

```
var xTicks = d3.select('.nv-x.nv-axis > g').selectAll('g');
xTicks
  .selectAll('text')
  .attr('transform', function(d,i,j) { return 'translate (-10, 25) rotate(-90 0,0)' }) ; 
```

标签现在看起来像这样：

![旋转/翻译的标签](../Images/5cdd0b748a7d3f381cab42d0ccb2dabb.png)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-05T06:59:47.183

对于多图，您可以在**d3.select中添加“** **'#' + containerId +' svg** ”，如下所示：

 **```
//Rotate x-axis label
var xTicks = d3.select('#' + containerId + ' svg .nv-x.nv-axis > g').selectAll('g');
xTicks
    .selectAll('text')
    .attr('transform', function(d,i,j) { return 'translate (-15, 60) rotate(-90 0,0)' }); 
```

无论如何，感谢@River 的回答。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-04T18:03:55.780

这对我有用。我提交这个的主要原因是更改锚点比手动转换位置更好。

```
var xTicks = d3.select('.nv-x.nv-axis > g > g',_this.context.element).selectAll('g').selectAll('text');
xTicks.attr('transform', function() { return 'rotate(' + angle + ' 0,0)' }) ;
xTicks.attr('text-anchor',function() {
    var anchor;
    if(angle > 0){ anchor = 'start'; }
    else if(angle < 0){ anchor = 'end'; }
    else { anchor = 'middle'; }
    return anchor;
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-26T09:04:15.307

以下对我有用：

```
chart.axislist["xAxis"]["rotateLabels"]= -45 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-12-11T05:23:10.327

无论你的文字旋转是给开始/中间/结束

```
d3.select('.nv-x.nv-axis > g > g').selectAll('g.tick text').style('text-anchor', 'start');  //start/middle/end 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-06-07T13:08:17.803

有一个 css 替代方案。

```
.nv-x .tick text {
    transform: rotate(-90deg) translateX(-15px) translateY(-7px);
} 
```**

# php - 如何隐藏前端的wordpress菜单？

> ID：13136967
> 
> 赞同：0
> 
> 时间：2012-10-30T10:24:01.113
> 
> 标签：php, wordpress, menu

我在 wordpress 后端创建了一些菜单。但现在想隐藏前端的菜单。有没有办法隐藏菜单而不是在后端删除？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T10:48:43.257

由于 wordpress 为菜单创建提供了自定义功能，因此它为各个菜单项分配了动态 id，并且无法修复。所以你不能以编程方式隐藏/删除特定的菜单项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:36:05.670

创建 CSS 规则以隐藏您不想要的菜单项。

通常菜单的每个项目都有一个 ID，如 id="menu-item-31"。

找出您要隐藏的项目的 ID，并创建一个 CSS 规则，例如：

```
#menu-item-31 { display:none } 
```

希望能帮助到你。

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T12:59:30.143

我有点困惑 - 你是在谈论（例如）一个有孩子的菜单，你想隐藏孩子（让他们稍后出现）？你想挑选或不选择显示的内容吗？

我通过确保选中“CSS 类”（在“屏幕选项”下 - 默认情况下未选中）来解决这个问题，这会为所有菜单项添加一个 CSS 类字段。然后我添加了一个像“hide”这样的类，在我的 CSS 中我有 .hide { display:none !important; 您所要做的就是将类添加到您要隐藏的特定菜单项（如果该菜单项有子项，它们也会被隐藏）

那是你想要做的吗？（如果我回答错了问题，我很抱歉，但你原来的问题对我来说不是很清楚。可能是今天早上没有咖啡:)）

# c# - 多键字典/列表

> ID：13136970
> 
> 赞同：0
> 
> 时间：2012-10-30T10:24:11.970
> 
> 标签：c#

我们有一个多租户应用程序，其中运行的站点实例存储在 a 中`ConcurrentDictionary<string, SiteInstance>`，其中`string`是站点的主机名。

我们现在需要支持每个站点实例的多个主机名。作为临时解决方案，我首先按键搜索，如果未找到匹配项，则对字典执行 LINQ 查询以查找具有匹配主机名的实例。

这里有更好/更快的解决方案吗？

注意：映射到每个站点实例的主机名列表是可变的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-30T10:27:57.143

您不能使用具有相同`SiteInstance`和不同键的多个键值对吗？

```
var instance = new SiteInstance();
dict.TryAdd("hostname1", instance); // in actual code, you should check
dict.TryAdd("hostname2", instance); // TryAdd's return value 
```

主机名必须是唯一的。要*访问不同的* `SiteInstance`对象（根据注释进行编辑），您可以使用附加对象`HashSet<SiteInstance>`或使用 LINQ（但不是线程安全的）：

```
var instances = dict.Values.Distinct(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:32:23.533

刚刚写了一个复杂的答案，我看过@Mudu的答案，如果它那么简单，显然是一个更好的方法。无论如何，这是我的……猜想一个优点可能是它很容易扩展。

创建一个继承自 的小类`List<String>`，称为 `HostNames`. 然后，您可以覆盖该`Equals()`方法并`GetHashCode()`在列表的任何内容与其他任何内容匹配时返回匹配项。

然后你可以使用这个类作为你的字典键`ConcurrentDictionary<HostNames, SiteInstance>`

要检索值，您需要构建一个 hostName 对象：

```
var hostName = new HostNames();
hostName.Add("hostName1");
var siteInstance = concurrentDictionary[hostName]; 
```

# licensing - WebSpellChecker.net 的 CKEditor 许可证

> ID：13136977
> 
> 赞同：-1
> 
> 时间：2012-10-30T10:24:39.163
> 
> 标签：licensing, ckeditor

由于 CKEditor 带有 WebSpellChecker.net，这是否包括 WebSpellChecker.net 的完整商业许可证？我只是想知道，因为我不想陷入麻烦之中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-30T14:04:57.403

您需要购买许可证才能删除横幅和广告，否则您可以继续使用。

# javascript - 类与数据属性，自动字段初始化器

> ID：13136983
> 
> 赞同：3
> 
> 时间：2012-10-30T10:24:53.063
> 
> 标签：javascript, jquery, html, custom-data-attribute, sinemacula

## 一点背景

我在 javascript/jQuery 中编写了一个方法，该方法循环遍历字段并根据它们是什么来设置它们，即下拉列表、自动完成、文本等...

*这样做的原因是我专门设置了输入和文本区域的样式，并且一旦页面加载，它们必须在 javascript 中初始化。此类中的方法循环遍历页面上的每个字段并根据其内容设置事件。*

目前我通过给字段容器一个类来检测每个字段是什么，jQuery 读取这个类并相应地设置字段，如下所示：

```
<div id="company-container" class="autocomplete autocomplete-215 form-sprite">
    <input type="text" class="field" name="company" id="company" autocomplete="off" maxlength="80" tabindex="1" />
    <div class="label overflow" id="company-label">Company</div>
    <div class="glow form-sprite" id="company-glow"></div>
    <ul class="subNav"></ul>
</div> 
```

jQuery 看起来像这样：

```
$(options.fields).each(function(){
    // Set the field events
    SineMacula.setBlur($(this));        
    SineMacula.setFocus($(this));
    SineMacula.toggleLabel($(this));
    // If the field is a drop down then set it
    if($(this).parent().hasClass('dropdown')){
        SineMacula.setDropdown($(this).parent());
    }
    // If the field is a checkbox then set it
    if($(this).parent().hasClass('checkbox')){
        SineMacula.setCheckbox($(this).parent());
    }
    // and so on ...
}); 
```

***上面的大部分代码都可以忽略，但它应该让你知道我在做什么......***

## 问题

我最近注意到 HTML5 属性`data-*`，`*`可以是任何东西。我的问题是：

1.  我应该使用 HTML5`data-*`属性而不是类吗？
2.  有比`data-*`属性或类更好的方法吗？
3.  属性虽然`data-*`是HTML5，但只要`DOCTYPE`定义正确，是否兼容早期的浏览器？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-30T10:27:48.903

1.  在这种情况下，它可能无关紧要，因为您仍在使用有效的属性（而不是随机的自定义属性）。如果你觉得`data-*`属性会更语义化，那就去吧。

2.  不，这就是该`data-*`属性的设计目的——在元素上存储任意数据。

3.  是的，它与所有浏览器兼容。它只会被旧浏览器忽略，但您始终可以使用该`getAttribute`方法检索它的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T10:29:37.217

1.  如果您仍然使用这些类进行样式设置，那么您也可以将它们用于您的 jQuery 选择器。实际上*，我相信将类用作选择器*而不是`data-*`属性会稍微快一些。

2.  如果你打算存储一些与元素相关的任意数据，`data-*`属性绝对是要走的路。

3.  是的，它们是向后兼容的。使用 jQuery，您可以使用该`.data()`方法获取它们的值。如果您打算使用纯 JavaScript 阅读它们，则需要为使用`.getAttribute()`. 这个[SO answer](https://stackoverflow.com/a/2413263/678801)对此进行了详细说明。

# sdk - 外部网站 Facebook 登录停止工作

> ID：13136986
> 
> 赞同：1
> 
> 时间：2012-10-30T10:24:57.903
> 
> 标签：sdk, facebook-c#-sdk

当我尝试使用 facebook 登录我的网站时，我被重定向到[https://www.facebook.com/login.php?login_attempt=1](https://www.facebook.com/login.php?login_attempt=1)，它一直运行良好，直到昨天。我正在使用 facebook sdk 和这段代码

Facebook.Components.FacebookService _fbService = new Facebook.Components.FacebookService();

```
private const string FACEBOOK_API_KEY = "MY KEY";
private const string FACEBOOK_SECRET = "MY SECRET";

protected void Page_Load(object sender, EventArgs e)
{

    // ApplicationKey and Secret are acquired when you sign up for 
    _fbService.ApplicationKey = FACEBOOK_API_KEY;
    _fbService.Secret = FACEBOOK_SECRET;
    _fbService.IsDesktopApplication = false;

    string sessionKey = Session["facebook_session_key"] as String;
    string userId = Session["facebook_userId"] as String;

    // When the user uses the facebook login page, the redirect back here will will have the auth_token in the query params
    string authToken = Request.QueryString["auth_token"];

    // We have already established a session on behalf of this user
    if (!String.IsNullOrEmpty(sessionKey))
    {
        _fbService.SessionKey = sessionKey;
        _fbService.UserId = userId;
    }
    // This will be executed when facebook login redirects to our page
    else if (!String.IsNullOrEmpty(authToken)) 
    {
        _fbService.CreateSession(authToken);
        Session["facebook_session_key"] = _fbService.SessionKey;
        Session["facebook_userId"] = _fbService.UserId;
        Session["facebook_session_expires"] = _fbService.SessionExpires;
    }
    // Need to login
    else 
    {
        Response.Redirect(@"http://www.facebook.com/login.php?api_key=" + _fbService.ApplicationKey + @"&v=1.0");
    } 
```

facebook 是否有任何更改会阻止此工作？

编辑 * - 当我清除缓存并尝试在此 url 登录页面时

%22%2C%22sig%22%3A%2246ad34e0d00fae8cd9f9cf2daee78ff3%22%7D#=_">http://www.facebook.com/connect/uiserver.php?installed=1&session=%7B%22session_key%22%3A% 222.AQDNQYFHVJC-YJVP.3600.1351616400.1-58522540％％22％2C％2C％22UID％22％3A5852540％2C％2C％2C％22 Expires％22 Expires％22％22％22％3A13516161616161616161616161616161616400222222222222222222222222222222222度22秒22.22％*22.22％22\. 2246ad34e0d00fae8cd9f9cf2daee78ff3%22%7D#* =_

好像它不能重定向到我的网站？

# gradient - Octave：计算多维函数在特定点的梯度

> ID：13136987
> 
> 赞同：3
> 
> 时间：2012-10-30T10:25:01.273
> 
> 标签：gradient, octave, function-handle

我一直在尝试使用以下代码来查找函数在输入是向量且函数返回标量的特定点的梯度。

以下是我尝试计算梯度的函数。

```
%fun.m    
function [result] = fun(x, y)
     result = x^2 + y^2; 
```

这就是我所说的渐变。

```
f = @(x, y)fun(x, y);
grad = gradient(f, [1 2]) 
```

但我收到以下错误

```
octave:23> gradient(f, [1 2])
error: `y' undefined near line 22 column 22
error: evaluating argument list element number 2
error: called from:
error:    at line -1, column -1
error:   /usr/share/octave/3.6.2/m/general/gradient.m at line 213, column 11
error:   /usr/share/octave/3.6.2/m/general/gradient.m at line 77, column 38 
```

我该如何解决这个错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-31T15:35:00.893

My guess is that `gradient` can't work on `2D` function handles, thus I made this. Consider the following *lambda-flavoring* solution:

Let `fz` be a function handle to some function of yours

```
fz = @(x,y)foo(x,y); 
```

then consider this code

```
%% definition part:
only_x = @(f,yv) @(x) f(x,yv);  %lambda-like stuff, 
only_y = @(f,xv) @(y) f(xv,y);  %only_x(f,yv) and only_y(f,xv) are
                                %themselves function handles

%Here you are:
gradient2 =@(f,x,y) [gradient(only_x(f,y),x),gradient(only_y(f,x),y)]; 
```

which you use as

```
gradient2(fz,x,y); 
```

Finally a little test:

```
fz = @(x,y) x.^2+y.^2
gradient2(f,1,2); 
```

result

```
octave:17> gradient2(fz,1,2)
ans =

    2   4 
```

# ios - 更新 Twitter 的 ACAccountStoreRequestAccessCompletionHandler 中的按钮时 iOS 滞后

> ID：13136988
> 
> 赞同：1
> 
> 时间：2012-10-30T10:25:03.950
> 
> 标签：ios, twitter, uibutton, acaccount

我正在尝试制作一个切换按钮，以指示共享到 Twitter，例如在拍照后出现的 Instagram 共享页面中。具体来说，它是一个以`Normal`状态开始的 UIButton，然后当它被按下时，它会进入`Selected`以用户的 Twitter 句柄为标题的状态。

在第一次点击时，它会使用 ACAccountStore 检查存储的 Twitter 帐户。问题是函数中 ACAccountStoreRequestAccessCompletionHandler 的滞后`requestAccessToAccountsWithType`性。在处理程序中，我进行了更改以设置 Twitter 句柄并选择按钮。但是，按钮需要很长时间才能在视觉上更改选定状态。尽管它在调用后由 NSLog 验证处于选中状态。

我无法弄清楚是什么导致了这种滞后。这是处理按钮的代码。

```
- (IBAction)pressedTwitter:(id)sender {
    UIButton *button = (UIButton*)sender;
    if (button.selected) {
        button.selected = !button.selected;
    } else {
        if (self.twitterAccount != nil) {
            button.selected = !button.selected;
        } else {
            [self getTwitterAccount:button];
        }
    }
}

- (void)getTwitterAccount:(UIButton*)button
{
    // Get Account
    ACAccountStore *store = [[ACAccountStore alloc] init];
    ACAccountType *twitterAccountType = [store accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

    //  Request permission from the user to access the available Twitter accounts
    [store requestAccessToAccountsWithType:twitterAccountType options:nil completion:^(BOOL granted, NSError *error) {
        if (granted) {
            NSArray *twitterAccounts = [store accountsWithAccountType:twitterAccountType];

            if ([twitterAccounts count] > 0) {
                self.twitterAccount = [twitterAccounts objectAtIndex:0];
                [self.twitterButton setTitle:self.twitterAccount.username forState:UIControlStateSelected];

                [self setTwitterButtonNormalText:YES];
                self.twitterButton.selected = YES;
                NSLog(@"Twitter Button Selected");

                self.statusLabel.text = @"Twitter Account Found";
            } else {
                [self setTwitterButtonNormalText:NO];
                button.selected = NO;

                NSLog(@"Not enough Twitter Accounts");
            }
        } else {
            NSLog(@"Twitter Account Permission Not Granted");

            [self setTwitterButtonNormalText:NO];
            button.selected = NO;

        }
    }];
}

- (void)setTwitterButtonNormalText:(BOOL)accountAvailable
{
    if (accountAvailable) {
        [self.twitterButton setTitle:@"Twitter" forState:UIControlStateNormal];
        [self.twitterButton setTitleColor:[UIColor colorWithWhite:0.5 alpha:1.0] forState:UIControlStateNormal];
    } else {
        [self.twitterButton setTitle:@"No Twitter" forState:UIControlStateNormal];
        [self.twitterButton setTitleColor:[UIColor colorWithRed:125./255\. green:21./255\. blue:0 alpha:1] forState:UIControlStateNormal];
    }
} 
```

感谢您的任何帮助，您可以提供。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T00:38:29.943

我刚刚解决了一个类似的问题。这是因为 requestAccessToAccountsWithType 完成函数在不同的线程上，如果要与接口进行交互，则必须返回主线程。

你可以回到主线程：

```
dispatch_sync(dispatch_get_main_queue(), ^{
    // code that change the ui, perfom segues, ...
}); 
```

尝试这个：

```
- (void)getTwitterAccount:(UIButton*)button
{
    // Get Account
    ACAccountStore *store = [[ACAccountStore alloc] init];
    ACAccountType *twitterAccountType = [store accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierTwitter];

    //  Request permission from the user to access the available Twitter accounts
    [store requestAccessToAccountsWithType:twitterAccountType options:nil completion:^(BOOL granted, NSError *error) {
        if (granted) {
            NSArray *twitterAccounts = [store accountsWithAccountType:twitterAccountType];

            if ([twitterAccounts count] > 0) {
                self.twitterAccount = [twitterAccounts objectAtIndex:0];
                // go back to the main thread
                dispatch_sync(dispatch_get_main_queue(), ^{
                    [self.twitterButton setTitle:self.twitterAccount.username forState:UIControlStateSelected];
                    [self setTwitterButtonNormalText:YES];
                    self.twitterButton.selected = YES;
                });
                NSLog(@"Twitter Button Selected");

                self.statusLabel.text = @"Twitter Account Found";
            } else {
                // go back to the main thread
                dispatch_sync(dispatch_get_main_queue(), ^{
                    [self setTwitterButtonNormalText:NO];
                    button.selected = NO;
                });
                NSLog(@"Not enough Twitter Accounts");
            }
        } else {
            NSLog(@"Twitter Account Permission Not Granted");
            // go back to the main thread
            dispatch_sync(dispatch_get_main_queue(), ^{
                [self setTwitterButtonNormalText:NO];
                button.selected = NO;
            });
        }
    }];
} 
```

# java - 为常量创建接口

> ID：13136992
> 
> 赞同：3
> 
> 时间：2012-10-30T10:25:11.517
> 
> 标签：java

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-30T10:27:56.760

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T10:28:50.757

那么我的建议是为常量创建一个类。不是接口，如果接口没有方法，那么它就没有达到它的目的。

> 在接口中放置常量在 Java 早期是一种流行的技术，但现在许多人认为这是对接口的一种反感，因为接口应该处理对象提供的服务，而不是对象的数据。同样，类使用的常量通常是实现细节，但将它们放在接口中会将它们提升为类的公共 API。

看看[这里](http://www.javapractices.com/topic/TopicAction.do?Id=32)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:33:21.540

您应该避免在接口中使用此类常量。您可以采用 Sean Patrick Floyd 提出的解决方案。或者使用枚举类型作为常量。

```
public enum Constants {
 NAME("Name");

 private final String constant; 

 private Constats(String constat) {
   this.constant = constant;
 }

 public String constant(){ 
   return this.constat; 
 }

} 
```

当您的代码需要它们时，您应该使用枚举类型。然后你将在你的代码中有顺序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-30T10:45:08.083

**-**首先一口气回答你的问题......是的，它可能，**事实上，如果你使用**

`public int x=5;` **或者**

`int x=5`,

**这将始终被解释为** `public static final int x=5;`

**-**但这**不是正确的方法**。

**-**你可以更好地使用`Enum`或`Class with Private Constructor` 处理这个。

**例如：**

**具有静态字段的类：**

```
 public class Test{

       public final String NAME = "Name";

       private Test(){}

      }

} 
```

# javascript - 获取另一个数据列表中的数据列表中的控件的 ID

> ID：13136993
> 
> 赞同：0
> 
> 时间：2012-10-30T10:25:12.523
> 
> 标签：javascript, asp.net, javascript-events

我有一个名为 dlcompCategory 的数据列表，在其中有另一个名为 dlComp 的数据列表，在其中有另一个名为 dlitem 的数据列表，在其中我有一个名为 rbOption 的单选按钮

```
<asp:DataList ID="dlcompCategory" runat="server">
<ItemTemplate>
<asp:DataList ID="dlComp" runat="server">
<ItemTemplate>
<asp:DataList ID="dlitem" runat="server">
<ItemTemplate>
<asp:RadioButton ID="rbOption" runat="server"></asp:RadioButton>
</ItemTemplate>
</asp:DataList>
</ItemTemplate>
</asp:DataList>
</ItemTemplate>
</asp:DataList> 
```

并在代码中绑定单选按钮中的列表。我怎样才能获得单选按钮是否被选中 r 而不是在 Javascript 中的单选按钮 onclick 事件中

# mariadb - 更改 mariadb 中的数据目录

> ID：13136998
> 
> 赞同：1
> 
> 时间：2012-10-30T10:25:36.853
> 
> 标签：mariadb, datadirectory

我正在尝试更改mariadb中的数据目录，在更改ini文件中的数据目录路径后，尝试重新启动服务，它无法启动！显示如下警告：

```
> Error 1067: The process terminated unexpectedly 
```

在 MySQL 中，数据目录更改工作正常。但我不知道为什么同样不能使用`mariadb`.

只有默认路径有效...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-12T15:12:51.583

我应该提到出色的系统内部工具（例如 procmon），它不仅在这种情况下而且在许多其他情况下都非常有用。Windows 错误日志是第二个非常有用的工具，如果你想看看的话。了解你的工具

现在针对这种情况提出具体建议 - 运行 MariaDB 服务的用户应该能够在 datadir 目录中创建文件。默认情况下，MariaDB 使用网络服务，而 MySQL 使用本地系统（最强大的 Windows 用户）。

此更改使 MariaDB 更安全（如果服务被黑客入侵，影响更小），但是您不应期望 NetworkService 具有对任何目录的读写访问权限，例如 LocalSystem 。

因此，要解决您的问题，您可以使目录对 NetworkService 可写，或者将服务用户更改为对该目录具有读写访问权限的用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-03T20:17:42.703

最近有人问这个，我想出了另一个答案，涉及符号链接。我觉得这个解决方案可能是最简单的，在 my.ini 或服务配置中不需要搞砸。

如何在安装后移动数据目录（例如磁盘 C:\ 已满）。

不幸的是，这在 MSI 上是不可能的，所以需要手动完成。

你需要

*   停止服务
*   将数据目录移动到新位置（保留权限）
*   创建从旧位置到新位置的符号链接
*   授予服务帐户 (NetworkService) 对符号链接的完全权限
*   再次启动服务

这是一个说明如何从脚本执行此操作（需要以完全管理员权限运行，例如在提升的命令行上）。我`robocopy`用来复制文件、`mklink`创建目录链接、`icacls`设置链接权限以及`net`启动/停止服务

```
set SERVICE=MySQL
set SRCDIR="C:\Program Files\MariaDB 10.1\data"
set DESTDIR="D:\data"

net stop %SERVICE%
robocopy %SRCDIR% %DESTDIR% /MIR /SEC /MOVE
mklink /d %SRCDIR% %DESTDIR%
icacls %SRCDIR% /grant "NT AUTHORITY\NetworkService":F
net start %SERVICE% 
```

目前，即使您在 MSI 中选择了“删除数据”，这也不会在卸载时删除新的数据目录。

# android - Android 开发者控制台 - 设备 = 其他

> ID：13136999
> 
> 赞同：3
> 
> 时间：2012-10-30T10:25:37.467
> 
> 标签：android

我在 Android Market 上有一个应用程序，我可以在 Android Developer Console 上查看其统计信息。英国的用户群占 90%。

在 Active Device Installs->Device 选项卡下，51% 的设备是“Other”。

这似乎很绝望，丢失的设备会是平板电脑吗？或者这个信息不是很准确？

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T08:57:11.250

我联系了 Google，发现如果您“导出为 CSV”统计信息，您可以获得完整的设备列表。然后你会看到所有不同的设备。

当心有很多不同类型的设备名称相当晦涩，例如“m3”和“skate”！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-30T10:30:01.830

我建议您尝试将 Google Analytics Mobile SDK 集成到您的应用中，并同时使用 Developer Console 和 Google Analytics。GA可以提供更准确的统计结果。

[谷歌分析移动 SDK](https://developers.google.com/analytics/devguides/collection/android/)