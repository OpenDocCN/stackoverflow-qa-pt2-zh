# StackOverflow 问答 15784000-15784999

# android - Android 推送通知打开自定义页面

> ID：15784000
> 
> 赞同：1
> 
> 时间：2013-04-03T09:46:50.193
> 
> 标签：android, html, push-notification, google-cloud-messaging

我的问题如下：我有一个用 HTML5 编写的网络应用程序，包装为原生 Android 应用程序，以便使用 Google 推送通知。因为我的应用出于不同的原因使用了许多通知，所以我希望能够在每次收到通知时说明要打开哪个页面，例如在通知意图中添加“href”。这可能吗？如果我不够清楚，请告诉我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T14:34:55.180

创建通知时，使用[setContentIntent()](https://developer.android.com/reference/android/app/Notification.Builder.html#setContentIntent%28android.app.PendingIntent%29)附加已构建的 Intent 以访问正确的网页：

```
// assuming <this> is an Activity or other Context
Intent urlIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(yourUrl));
PendingIntent urlPendingIntent = PendingIntent.getActivity(this, 0 urlIntent, 0);
Notification.Builder b = new Notification.Builder(this)
   .setSmallIcon(...).setContentTitle(...).setContentText(...) // etc.
   .setContentIntent(urlPendingIntent);
NotificationManager noMan
    = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
noMan.notify(ID, b.build()); 
```

如果您希望在通知面板中一次有多个这些：

1.  重新考虑。发布多个通知是垃圾邮件。
2.  如果必须，您需要为每个单独的 ID（或单独的标签）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:06:31.583

您可以定义自己的通知消息内容。Google 的 Message builder 支持由通知发送者设置的键值对。请参阅[http://developer.android.com/reference/com/google/android/gcm/server/Message.html](http://developer.android.com/reference/com/google/android/gcm/server/Message.html)

例子：

```
Message message = new Message.Builder()
    .addData("link1", "http://mypage1.com")
    .addData("link2", "http://mypage2.com")
    .build(); 
```

# jquery - 遍历复选框并获取数据

> ID：15784003
> 
> 赞同：0
> 
> 时间：2013-04-03T09:46:52.750
> 
> 标签：jquery, knockout.js

这是我之前的问题的[延续](https://stackoverflow.com/questions/15610845/add-css-runtime-to-table-row-and-data-bind-the-row.)

您可以看到页面加载时将显示 2 个选定项目，即列表中的两个和三个。现在，当我检查选项 Test1 时，它没有被添加到列表中。简而言之，它不会在列表中添加新选择的项目。我已经完成以下操作以循环选择项目

```
viewModel.selectedItems = ko.computed(function() {
debugger;
    return ko.utils.arrayMap(viewModel.checkDuplicate(), function(id) {
        return ko.utils.arrayFirst(viewModel.dataOne(), function(item) {
            return item.name1 == id; 
        }); 
    });
}); 
```

我在[这里](http://jsfiddle.net/TaF8W/15/)放了小提琴，所以很容易理解。暂时忘记更新按钮。当我选择某个复选框时，它应该只显示在更新按钮下方的列表中选择的那些。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:19:37.673

> 现在，当我检查选项 Test1 时，它没有被添加到列表中。简而言之，它没有在列表中添加新选择的项目......

我创建了一个小提琴，其中列表根据复选框的选中/取消选中进行更新。检查这个

[**工作小提琴**](http://jsfiddle.net/TaF8W/17/)

*视图模型*

```
function VM() {
    var self = this;   

    self.Checkboxes = ko.observableArray([
        new Checkbox("one", 1, "Test1"),
        new Checkbox("two", 2, "Test2", true),
        new Checkbox("three", 3, "Test3", true)
    ]);

    self.SelectedItems = ko.computed(function(){
        var boxes = [];
        ko.utils.arrayForEach(self.Checkboxes(), function(box){
            if(box.IsSelected()){
              boxes.push(box);
            }
        });
        return boxes;
    });
} 
```

如果有帮助，请告诉我！

**更新**

[**工作小提琴**](http://jsfiddle.net/5n5sX/1)。

# ios - 我可以通过代码将 iPad 键盘设置为停靠式/非停靠式/分体式吗？

> ID：15784007
> 
> 赞同：6
> 
> 时间：2013-04-03T09:46:56.227
> 
> 标签：ios, iphone, ipad, keyboard

从设备设置中，用户可以将键盘设置为停靠类型或拆分类型。

为了方便我们的应用程序，我们可以通过代码将 iPad 键盘设置为停靠式/拆分式吗？因为有时分体式键盘/非固定式键盘最适合我们的用户界面。我搜索了很多线索，但我没有找到解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-23T19:41:53.940

不，您无法控制键盘。您的 iPad 应用程序应该可以在拆分键盘、停靠键盘和硬件键盘上正常工作。最好的办法是听 UIKeyboardWillChangeFrameNotification 并更改您的 UI 以避免隐藏在键盘框架下。

# shibboleth - shibd_Default 服务无法启动

> ID：15784011
> 
> 赞同：0
> 
> 时间：2013-04-03T09:47:06.063
> 
> 标签：shibboleth, service-provider, start-stop-daemon

在配置 Shibbolet SP 时，我不得不在重新配置 shibboleth2.xml 文件后多次停止和启动 shibd 服务。首先它工作正常，但后来我无法再次启动它！

在 cmd 上运行此命令时`C:\>net start shibd_default`，我得到以下信息：

```
The Shibboleth 2 Daemon <Default> service is starting.
The Shibboleth 2 Daemon <Default> service could not be started.

The service did not report an error. 
```

并尝试从 Control Panel > Services > Administrative Tools 运行它时，出现此错误

```
 The Shibboleth 2 Daemon <Default> service on Local Computer started and then stopped. Some services stop automatically if they are not in use by other services or programs. 
```

我重新安装了 Shibboleth SP 来解决这个问题，但仍然出现这个错误！

谁能帮我解决这个问题？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-12T23:04:40.080

请检查 C:\opt\shibboleth-sp\var\log\shibboleth 中的日志文件是否有错误。

如果存在 XML 配置错误，服务将无法正确加载。

我收到类似于以下错误的错误：

```
ERROR Shibboleth.Config : error while loading resource (C:/opt/shibboleth-sp/etc/shibboleth/shibboleth2.xml): XML error(s) during parsing, check log for specifics
2013-05-13 10:59:13 FATAL Shibboleth.Config : caught exception while loading configuration: XML error(s) during parsing, check log for specifics 
```

# python - 3维矩阵加法

> ID：15784014
> 
> 赞同：1
> 
> 时间：2013-04-03T09:47:12.550
> 
> 标签：python, matrix, addition

我有3个矩阵

```
A=[[[1,2,3]]]
B=[[[3,4,5]]] 
```

和

```
C=[[[4,5,6]]] 
```

我想添加这 3 个矩阵。预期结果在哪里

```
A+B+C = [[[8,11,14]]] 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T09:54:02.647

可以这样做：

```
A=[[[1,2,3]]]
B=[[[3,4,5]]]
C=[[[4,5,6]]]
print [[map(sum, zip(A[0][0], B[0][0], C[0][0]))]] 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:01:29.703

```
>>> import numpy as np
>>> A = np.array([[[1,2,3]]])
>>> B = np.array([[[3,4,5]]])
>>> C = np.array([[[4,5,6]]])
>>> D = A+B+C
>>> D
array([[[ 8, 11, 14]]]) 
```

# c - C 编程 - void(*ptr[2])() = {blah, blah2}; 解释

> ID：15784016
> 
> 赞同：3
> 
> 时间：2013-04-03T09:47:16.477
> 
> 标签：c, pointers

有人可以解释这个问题发生了什么吗？

[在 C 中使用 out 循环和条件打印 1 到 100](https://stackoverflow.com/questions/4942236/print-1-to-100-with-out-loop-and-conditions-in-c)

什么是理论或可能的低级解释

`void(*ptr[2])() = {blah, blah2};`

我是 C 新手，我想知道这里发生了什么；）

提前致谢。

PS：我搜索了一下，但不幸的是找不到任何东西。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T09:50:21.763

它只是一个包含两个元素的函数指针数组——`ptr[0]`指向函数`blah()`和`ptr[1]`指向函数`blah2()`。

您可以像这样调用每个函数：

```
(ptr[0])(); // call blah()

(ptr[1])(); // call blah2() 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-03T09:56:02.323

你的意思*是我怎么读这个*？

您从原始答案中丢弃了一些有用的上下文，所以让我们修复它：

```
void print();
void exitme();

int main() {
    void (*p[2])()={print,exitme}; 
```

所以现在很明显`print`and`exitme`指的是*functions*。具体来说，它们都返回 void 并且不带参数，因此它们共享函数指针类型

```
void (*)() 
```

（即，该类型的函数指针可以指向*或* ）。例如，`print``exitme`

```
void (*print_or_exit)() = (rand() % 2) ? print : exitme;
print_or_exit(); // who knows what it will do! 
```

现在，其中两个函数指针组成的数组如下所示：

```
void (*ptr[2])() 
```

并且可以初始化为：

```
void (*ptr[2])() = { print, exitme }; 
```

所以现在我们可以将我们愚蠢的例子重写为：

```
void (*print_or_exit)() = ptr[rand() % 2]; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-03T09:50:32.683

```
void(*ptr[2])() 
```

声明一个函数指针数组，其中`blah`和`blah2`是指向的函数。在这种情况下，指向的函数必须具有`void`“返回类型”（即它们不能返回任何内容）并且不能有任何参数（由于`()`声明末尾的）。

您链接到的示例代码使用这些函数指针来打印`i`或退出应用程序的值（当`i`= 100 并`i/100`导致 1，这是第二个数组元素）

如示例所示，您可以使用以下函数调用函数：

```
i = 0; // or 1 (as your array has a size of 2)
(ptr[i])(); 
```

注意：这个例子可能被认为是（非常）不好的做法，所以请不要使用它来代替简单的`for`循环！:)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-03T09:50:54.257

即声明`ptr`为两个函数指针的数组，并将它们初始化为分别指向两个函数`blah()`和`blah2()`。

需要括号来保护它不成为`void *`（void pointers）的声明，这将是别的东西。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-04-03T09:51:39.793

这是一个数组`function-pointers`。您正在使用两个函数的地址`blah`和`blah2`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-03T09:52:40.467

`ptr`是指向不返回任何值且没有参数的函数的指针数组。

通常，`ptr[1]`调用`exitme`函数，它调用`exit(1)`并`ptr[0]`调用处理打印的函数。该变量`i`是静态的，因此当程序退出时它的使用结束。

在第一次迭代中，为指向`exitme`和`print`函数的两个指针的数组分配了一个新的内存块（实际上在每次迭代中，这都完成了，不像使用`i`）。然后，声明一个静态变量`i`并将其初始化为零（肯定在`ansi-c`），稍后调用第一个函数（`print`），因为`i++/100`is`0.001`但它等于`0`（因为既没有进行强制转换，也没有进行`float`）并且同时`i`正在增加. 在调用`print`并打印 的值之后`i`，我们再次调用`main`并不断迭代，直到`i`达到 100。

请注意，有两个静态整数`i`，但每个都有不同的范围，因此它们具有不同的值。

因此您打印 1...100 而不使用循环。

# c# - .NET (C#) 中的 ARJ 库

> ID：15784020
> 
> 赞同：2
> 
> 时间：2013-04-03T09:47:35.940
> 
> 标签：c#, compression, arj

.NET (C#) 中是否有任何用于处理 arj 文件的开源/免费库。我需要压缩 arj 中的文件。

我在谷歌上做了一些基本的搜索，但找不到任何东西！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-04-27T12:58:49.937

为了**拆包**，我为 7zip 做了我自己的用户友好包装器： [https ://github.com/adoconnection/SevenZipExtractor](https://github.com/adoconnection/SevenZipExtractor)

```
using (ArchiveFile archiveFile = new ArchiveFile(@"Archive.ARJ"))
{
    foreach (Entry entry in archiveFile.Entries)
    {
        Console.WriteLine(entry.FileName);

        // extract to file
        entry.Extract(entry.FileName);

        // extract to stream
        MemoryStream memoryStream = new MemoryStream();
        entry.Extract(memoryStream);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T09:54:17.933

如果你没有找到可以让你这样做的库，你可以在文件格式规范中挖掘：

[http://www.fileformat.info/format/arj/corion.htm](http://www.fileformat.info/format/arj/corion.htm)

那么我相信你会找到这种文件格式可以使用的压缩方法的 .Net 库。

另外，在快速浏览之后，我认为实现格式不会有太多工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T09:50:26.483

有[7zip 包装器](http://sevenzipsharp.codeplex.com/)，但只允许解压 ARJ。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T09:55:53.563

根据[维基百科页面](http://en.wikipedia.org/wiki/ARJ)，它有一个[开源版本](http://arj.sourceforge.net/)。我认为你可以从命令行运行它。

# java - 如何在 ofbiz 应用程序中添加 servlet-api.jar？

> ID：15784023
> 
> 赞同：0
> 
> 时间：2013-04-03T09:47:40.367
> 
> 标签：java, servlets, jar, import, ofbiz

我编写了一些 java 类并使用了一些 servlet 关键字。但它没有被认可。我尝试导入 javax.servlet.*; 但eclipse表示无法解决。

我不太确定，但我试图在 ofbiz 中查找 tomcat 以获取 servlet-api.jar，但我找不到它。

我尝试重建和清理 ofbiz 项目，但似乎无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T09:49:55.990

下载 j2ee.jar 并将其添加到您的类路径 [http://www.java2s.com/Code/Jar/j/Downloadj2 ​​eejar.htm](http://www.java2s.com/Code/Jar/j/Downloadj2eejar.htm)

# cassandra - 即使在任何节点故障时也可以从 cassandra 集群中读取

> ID：15784027
> 
> 赞同：0
> 
> 时间：2013-04-03T09:47:50.337
> 
> 标签：cassandra

我有一个有 4 个节点的 Cassandra 集群，是否可以仅从可用节点读取数据，除了已关闭的节点，这可能吗？或者是否有任何可配置的属性来处理这种类型的场景。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:03:44.030

你可以通过复制来做到这一点，是的。你需要一些东西：

*   至少将复制因子设置为 2。副本越多，您可以应对的故障节点就越多。但是，您拥有的副本越多，您的性能就越差，因为更多的节点会复制工作。
*   选择适当的一致性级别。一致性级别 (CL) 确定读取或写入操作需要涉及多少节点。CL.ALL 表示使用所有副本，因此您不能容忍任何故障。CL.ONE 意味着只使用一个节点。CL.QUORUM 表示大多数副本 (RF/2+1)
*   您可以从任何节点读取和写入数据，而不仅仅是包含该数据的节点。如果你使用像 Hector 这样的客户端库，你应该告诉它所有节点，它会避免那些宕机的节点，以及可用节点之间的负载平衡。

# sql - 如何将图像类型转换为 varchar sybase

> ID：15784030
> 
> 赞同：1
> 
> 时间：2013-04-03T09:47:52.760
> 
> 标签：sql, tsql, sybase, sap-ase

一段时间后，我进入了 sybase（具体来说是 ASE 15 ..）世界，随着时间的推移，我有点害怕缺少我从 sql server 知道的功能和功能，这让我觉得我在 90 年初

以至于我必须准备单次报告并将一些文本存储为图像列（不知道为什么有人这样做）所以我所做的是

```
select CAST(CAST(REQUEST AS VARBINARY(16384)) AS VARCHAR(16384))  as RequestBody
from table 
```

出现问题是因为某些请求比 16384 长并且不知道如何获取数据

更糟糕的是，我不知道在哪里寻找信息，因为 sybase 文档在最好的情况下是稀缺的，而且与 MS 世界相比，它不存在

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-03-29T21:25:16.127

根据[文档](http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc36271.1550/html/blocks/blocks98.htm)，您需要像这样使用 CONVERT 函数：

```
SELECT CONVERT(VARBINARY(2048), raw_data) as raw_data_str FROM table; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-03T13:25:57.097

尝试使用 varbinary(max) 和 varchar(max)，而不是使用 varbinary(16384) 和 varchar(16384)。在这种情况下，最大数据长度将为 2 GB。

请参阅：http: [//msdn.microsoft.com/en-us/library/ms176089.aspx](http://msdn.microsoft.com/en-us/library/ms176089.aspx)和[http://msdn.microsoft.com/en-us/library/ms188362.aspx](http://msdn.microsoft.com/en-us/library/ms188362.aspx)

表中 REQUEST 列的长度是多少？

# magento - 是否可以在 magento 的某些 cms 页面上使用不同的导航菜单

> ID：15784034
> 
> 赞同：1
> 
> 时间：2013-04-03T09:47:59.083
> 
> 标签：magento, menu, navigation, content-management-system

是否可以在 magento 的某些 cms 页面上使用不同的导航菜单？以及如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:05:43.780

如果您是开发人员，您可以创建（复制正在使用的）一个不显示顶部菜单但显示您的自定义菜单的主题。
然后，当您在选项卡设计中创建新的 CMS 页面时，您可以为该特定 CMS 页面选择新主题。

# php - 如何使用以下“|”将数组保存在数据库的同一字段中 作为分隔符？

> ID：15784044
> 
> 赞同：-1
> 
> 时间：2013-04-03T09:48:18.257
> 
> 标签：php, javascript, jquery, mysql, ajax

这是一个拖放代码，它被单独保存在数据库中。我想让我的用户根据他们的选择来保存他们的仪表板布局。请看下面的图片，如果您有任何建议，请告诉我。提前致谢！

![在此处输入图像描述](https://i.stack.imgur.com/G9Crk.jpg)

```
 **index.php**
        <script type="text/javascript">
        $(document).ready(function(){ 

            $(function() {
                $("#contentLeft #db_boxes").sortable({ opacity: 0.6, cursor: 'move', update: function() {
                    var order = $(this).sortable("serialize") + '&action=updateRecordsListings'; 
                    $.post("updateDB.php", order, function(theResponse){
                        $("#contentRight").html(theResponse);
                    });                                                              
                }                                 
                });
            });

        }); 
        </script>

    **updateDB.php**

    <?php 
    require("db.php");
    $username = $_SESSION['username'];

    $action = mysql_real_escape_string($_POST['action']); 
    $updateRecordsArray = $_POST['recordsArray'];

    if ($action == "updateRecordsListings"){

        $listingCounter = 1;
        foreach ($updateRecordsArray as $recordIDValue) {

            $query = "UPDATE dnd_records SET recordListingID = " . $listingCounter . " WHERE username = " . $username;
            mysql_query($query) or die('Error, insert query failed');
            $listingCounter = $listingCounter + 1;  
        }

        echo '<pre>';
        print_r($updateRecordsArray);
        echo '</pre>';

    }
    ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T09:52:30.280

以这种方式对数据库进行非规范化通常不是一个好主意，但我们当然不知道您的特定用例。

如果你想这样做，你可以使用`join`数组上的函数来获取一个字符串，其中数组的元素使用给定的分隔符连接在一起。您可以在 JavaScript 端（使用[`Array#join`](http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.5)）或 PHP 端使用[`join`](http://www.php.net/manual/en/function.join.php)（的别名[`implode`](http://www.php.net/manual/en/function.implode.php)）执行此操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:31:24.543

我的意见：不要对**非规范化**数据库进行建模。绝不。如果你认为你需要这样做，那么你的想法很糟糕。再想一想，做得更好。难道你不知道如何处理在 JavaScript 中返回的多行（记录）吗？甚至在 PHP 中？那么，请问*如何处理从 SQL 查询返回的多行*。我们会建议您使用`foreach()`或`while()`循环。

如果是 JavaScript 问题，则将 JSON 数组返回/发送到您的 JavaScript 脚本，然后再次使用**循环**遍历记录...

存储通过`|`或连接的数据`;`是非常古老且非常糟糕的强迫 - 如果您在某处看到它，请立即忘记它并学习更好的新东西 -[数据库范式](http://en.wikipedia.org/wiki/Database_normalization)。

**编辑：** 如果您仍然需要存储此类压载数据，请以更好的方式进行 - 在数组/对象中序列化它们：

```
$array = array('One', 'Two', 'Three');
$serialized = serialize($array);
// output something like: a:3:{s:3:One;s:3:Two;s:5:Three} 
```

将此`$serialized`字符串存储到数据库中而不是`One|Two|Three`值...从数据库调用检索后：

```
$array = unserialize($serialized); 
```

如果要更新行：

1.  检索行
2.  反序列化
3.  添加/修改数组
4.  连载
5.  节省

# java - 如何使用 Java 将普通 Web 应用程序转换为多语言 Web 应用程序？

> ID：15784049
> 
> 赞同：0
> 
> 时间：2013-04-03T09:48:29.257
> 
> 标签：java, web-applications

我有一个使用 JSP 和 servlet 创建的普通 Web 应用程序。以前它的目的是只服务一种语言，即英语，但现在它需要为客户提供多种语言的服务，如西班牙语、法语等。

那么，我怎样才能做到这一点

问候， 普拉泰克

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:25:00.253

如果你使用的是 Spring、Struts 或 Seam 等框架，那么它们提供了各种支持 i18n 的类，你需要探索一下。

如果您不使用任何此类框架，那么您应该阅读[Java Internationalization](http://docs.oracle.com/javase/tutorial/i18n/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:08:50.360

我认为实现这一点的最简单方法是获取浏览器区域设置，然后根据该区域设置获取特定属性。因此，例如，您的浏览器区域设置为法语，那么您将从 _fr 属性文件中选择 JSP 中定义的所有标签的名称。我只是在给出方向/指针。

说得通？

谢谢，KJ

# java - Log4j 没有捕获异常

> ID：15784056
> 
> 赞同：3
> 
> 时间：2013-04-03T09:48:45.133
> 
> 标签：java, google-app-engine, exception, logging, log4j

我正在使用谷歌应用引擎，但我在使用 log4j 时遇到了问题。基本上我正在测试我的应用程序并且仪表板正在检测异常，但不是 log4j。我正在使用以下内容：

```
 catch (Exception e) {
       logger.warn("Exception Alert", e);
       e.printStackTrace();
   } 
```

这是使用 Log4j 捕获异常的正确方法吗？它现在适用于一些例外情况。但不是所有的。我想捕获一个 NumberFormatException （空字符串），但这不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:15:25.570

是的，这是正确的，但是`logger`应该通过初始化`LogFactory.getLog()`并且日志级别至少应该是[`WARN`](https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Level.html#WARN). log4j 也应该在类路径上并像这个[示例](https://cwiki.apache.org/confluence/display/LOGGINGLOG4J/Log4jXmlFormat)中那样配置。

# css - .class .class 作为 CSS 选择器类型是否意味着它是 CSS 后代组合器？

> ID：15784058
> 
> 赞同：0
> 
> 时间：2013-04-03T09:48:45.967
> 
> 标签：css

两个 CSS 选择器是否与 CSS 后代组合器相同？

```
div p {
    color: #F00;
}

.ui-widget-header .ui-state-default {
    border: 1px solid #d3d3d3;
    background: #e6e6e6;
    font-weight: normal;
    color: #555555;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T09:50:46.533

是的，他们都是后代统治

根据[规范文档](http://www.w3.org/TR/CSS2/selector.html#descendant-selectors)

> 后代选择器由两个或多个用空格分隔的选择器组成。当元素 B 是某个祖先元素 A 的任意后代时，“A B”形式的后代选择器匹配。

所以任何两个用空格隔开的选择器都构成了后代选择器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T09:53:55.693

是的，两者都是后代组合选择器，但第二个具有更高的特异性（*如果它们适用于相同的元素*）。

# wordpress - wordpress 在“save_post”操作中将 post_status 设置为“草稿”

> ID：15784061
> 
> 赞同：2
> 
> 时间：2013-04-03T09:48:49.257
> 
> 标签：wordpress

我有一个适用于我的自定义帖子类型的自定义函数。处理`save_post`动作时：

```
add_action( 'save_post', 'my_custom_function' ); 
```

我想将帖子状态设置为草稿（以防从外部 api 获取自定义数据时出现问题）。在我的`my_custom_function`函数中，我有这个小块：

```
if ($error == true) {
    $override_post = array();
    $override_post['ID'] = $post_id;
    $override_post['post_status'] = 'draft';
    wp_update_post( $override_post );
} 
```

但似乎，在`save_post`被处理之后，然后`post_status`被再次设置。

任何人都有一个想法，我应该在哪里挂钩，所以在保存帖子数据时我可以修改它的`post_status`，`post_date`以及其他一些帖子数据信息，这样它们就不会被覆盖？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:29:43.023

你应该把它挂到[`wp_insert_post_data`](http://codex.wordpress.org/Plugin_API/Filter_Reference/wp_insert_post_data). 然后您可以使用这样的函数将您的帖子状态设置为草稿：

```
add_filter( 'wp_insert_post_data', 'set_post_to_draft', 99, 2 );

function set_post_to_draft( $data, $postarr ) {

  if ( your_condition ) {
    $data['post_status'] = 'draft';
  }

  return $data;
} 
```

# android - 我在我的 android 应用程序中添加 admob 广告，但有异常膨胀类 com.google.ads.AdView

> ID：15784062
> 
> 赞同：0
> 
> 时间：2013-04-03T09:48:51.257
> 
> 标签：android, admob

当我在模拟器中运行应用程序时，它运行良好，显示启动画面但没有打开带有广告横幅的屏幕。当我删除活动中添加的广告横幅代码时，它会打开。代码是

```
<com.google.ads.AdView
   android:id="@+id/adView"
   android:layout_width="wrap_content"
   android:layout_height="wrap_content"
   ads:adSize="BANNER"
   ads:adUnitId="**********"
   ads:loadAdOnCreate="true" > 
</com.google.ads.AdView> 
```

注意：我正在使用 Adroid 2.2 和 API-8 如何更改它们

当我添加此代码时，出现以下错误

```
04-03 13:10:44.518: W/dalvikvm(374): threadid=1: thread exiting with uncaught      exception (group=0x4001d800)
04-03 13:10:44.567: E/AndroidRuntime(374): FATAL EXCEPTION: main
04-03 13:10:44.567: E/AndroidRuntime(374): java.lang.RuntimeException: Unable to      start activity ComponentInfo{com.rms.remotedesktop1/com.rms.remotedesktop1.Home}: android.view.InflateException: Binary XML file line #30: Error inflating class     com.google.ads.AdView
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.os.Looper.loop(Looper.java:123)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread.main(ActivityThread.java:4627)
04-03 13:10:44.567: E/AndroidRuntime(374):  at  java.lang.reflect.Method.invokeNative(Native Method)
04-03 13:10:44.567: E/AndroidRuntime(374):  at  java.lang.reflect.Method.invoke(Method.java:521)
04-03 13:10:44.567: E/AndroidRuntime(374):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-03 13:10:44.567: E/AndroidRuntime(374):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-03 13:10:44.567: E/AndroidRuntime(374):  at dalvik.system.NativeStart.main(Native Method)
04-03 13:10:44.567: E/AndroidRuntime(374): Caused by: android.view.InflateException: Binary XML file line #30: Error inflating class com.google.ads.AdView
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:576)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:618)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.view.LayoutInflater.inflate(LayoutInflater.java:407)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
04-03 13:10:44.567: E/AndroidRuntime(374):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.Activity.setContentView(Activity.java:1647)
04-03 13:10:44.567: E/AndroidRuntime(374):  at com.rms.remotedesktop1.Home.onCreate(Home.java:27)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-03 13:10:44.567: E/AndroidRuntime(374):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
04-03 13:10:44.567: E/AndroidRuntime(374):  ... 11 more 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:05:30.027

尝试以编程方式添加 AdView。前任。：

```
 adView = new AdView(this, AdSize.SMART_BANNER, "YOUR AD ID HERE");

   LinearLayout layout = (LinearLayout) findViewById(R.id.llad);

      layout.addView(adView);
       AdRequest request = new AdRequest();

       request.addTestDevice(AdRequest.TEST_EMULATOR);
       adView.loadAd(request); 
```

# linq-to-sql - 使用 linq to sql 通过网站连接 SQL Azure 的问题

> ID：15784063
> 
> 赞同：0
> 
> 时间：2013-04-03T09:48:53.100
> 
> 标签：linq-to-sql, azure, azure-sql-database

当有多个用户同时使用系统（15-25 个用户）并从数据库中检索和发布数据时，我们在 Azure 中托管的网站会定期抛出异常。异常与与数据库的连接有关。

我们使用 Azure SQL 和 Linq to SQL。我检查了数据库的监视器，并没有关于连接失败的报告，并且连接数量远远低于它应该能够处理的范围。

我正在使用 IoC 容器来创建数据上下文的新实例，它只是正在启动的数据上下文的一个实例，并且用于查询所有表。

我深入研究了事件日志，发现了正在抛出的异常：

* * *

事件代码：3005 事件消息：发生未处理的异常。事件时间：02.04.2013 11:48:45 事件时间（UTC）：02.04.2013 11:48:45 事件 ID：09157c3457904c99b2b57abb44bef857 事件序列：5911 事件发生：74 事件详细代码：0

应用信息：应用域：/LM/W3SVC/1273337584/ROOT-1-130093075659455176 信任等级：完整应用虚拟路径：/应用路径：E:\sitesroot\0\机器名：RD00155D36AB20

进程信息：进程ID：2420 进程名称：w3wp.exe 帐户名称：NT AUTHORITY\NETWORK SERVICE

异常信息：异常类型：SqlException 异常消息：服务当前正忙。10 秒后重试请求。事件 ID：{26F49B32-6DD8-4149-89FA-780AF4BD74D3}。代码：32771 当前命令出现严重错误。结果，如果有的话，应该丢弃。在 System.Data.SqlClient.SqlConnection.OnError（SqlException 异常，布尔 breakConnection） 在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning() 在 System.Data.SqlClient.TdsParser.Run（RunBehavior runBehavior，SqlCommand cmdHandler，SqlDataReader dataStream，BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj) 在 System.Data.SqlClient.SqlDataReader.ConsumeMetaData() 在 System.Data.SqlClient.SqlDataReader.get_MetaData() 在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds,`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

请求信息： 请求URL：[http://www.xx/](http://www.x.x/) 请求路径：/ 用户主机地址：xxxx 用户：
是否认证：False 认证类型：
线程账号名：NT AUTHORITY\NETWORK SERVICE

线程信息：线程 ID：20 线程帐户名称：NT AUTHORITY\NETWORK SERVICE 正在模拟：False 堆栈跟踪：在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning 的 System.Data.SqlClient.SqlConnection.OnError(SqlException 异常，布尔 breakConnection) () 在 System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj) 在 System.Data.SqlClient.SqlDataReader.ConsumeMetaData() 在 System.Data.SqlClient.SqlDataReader.get_MetaData () 在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString) 在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior,布尔返回流，布尔异步）在 System.Data.SqlClient.SqlCommand.RunExecuteReader（CommandBehavior cmdBehavior，RunBehavior runBehavior，布尔 returnStream，字符串方法，DbAsyncResult 结果）在 System.Data.SqlClient.SqlCommand.RunExecuteReader（CommandBehavior cmdBehavior，RunBehavior runBehavior，布尔returnStream, String 方法) 在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior 行为, String 方法) 在 System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior 行为) 在 System.Data.Linq.SqlClient.SqlProvider.Execute(Expression查询，QueryInfo queryInfo，IObjectReaderFactory 工厂，Object[] parentArgs，Object[] userArgs，ICompiledSubQuery[] subQueries，Object lastResult) 在 System.Data.Linq.SqlClient.SqlProvider.ExecuteAll（表达式查询，QueryInfo[] queryInfos，System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute 中的 IObjectReaderFactory 工厂、Object[] userArguments、ICompiledSubQuery[] subQueries)（System.Data.Linq.DataQuery 中的表达式查询）`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

自定义活动详情：

* * *

事件代码：3005 事件消息：发生未处理的异常。事件时间：02.04.2013 11:46:56 事件时间（UTC）：02.04.2013 11:46:56 事件 ID：a8dc5c34109e4a7d9f1c74bb697d86b8 事件序列：5905 事件发生：72 事件详细代码：0

应用信息：应用域：/LM/W3SVC/1273337584/ROOT-1-130093075659455176 信任等级：完整应用虚拟路径：/应用路径：E:\sitesroot\0\机器名：RD00155D36AB20

进程信息：进程ID：2420 进程名称：w3wp.exe 帐户名称：NT AUTHORITY\NETWORK SERVICE

异常信息：异常类型：SqlException 异常消息：从服务器接收结果时发生传输级错误。（提供者：TCP 提供者，错误：0 - 现有连接被远程主机强制关闭。）在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning（ ) 在 System.Data.SqlClient.TdsParserStateObject.ReadSni(DbAsyncResult asyncResult, TdsParserStateObject stateObj) 在 System.Data.SqlClient.TdsParserStateObject.ReadNetworkPacket() 在 System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 错误) 在 System. Data.SqlClient.TdsParserStateObject.ReadByte() 在 System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior,`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

请求信息： 请求URL：[http://www.xx/](http://www.x.x/) 请求路径：/ 用户主机地址：xxxx 用户：
是否认证：False 认证类型：
线程账号名：NT AUTHORITY\NETWORK SERVICE

线程信息：线程 ID：20 线程帐户名称：NT AUTHORITY\NETWORK SERVICE 正在模拟：False 堆栈跟踪：在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning 的 System.Data.SqlClient.SqlConnection.OnError(SqlException 异常，布尔 breakConnection) () 在 System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 错误) 在 System.Data.SqlClient.TdsParserStateObject.ReadSni(DbAsyncResult asyncResult, TdsParserStateObject stateObj) 在 System.Data.SqlClient.TdsParserStateObject.ReadNetworkPacket() 在 System System.Data.SqlClient.TdsParserStateObject.ReadByte() 在 System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj) 在系统。Data.SqlClient.SqlDataReader.ConsumeMetaData() 在 System.Data.SqlClient.SqlDataReader.get_MetaData() 在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString) 在 System.Data.SqlClient.SqlCommand。 System.Data.SqlClient.SqlCommand.RunExecuteReader（CommandBehavior cmdBehavior，RunBehavior runBehavior，布尔 returnStream，String 方法，DbAsyncResult 结果）在 System.Data.SqlClient.SqlCommand.RunExecuteReader 的 RunExecuteReaderTds（CommandBehavior cmdBehavior，RunBehavior runBehavior，布尔 returnStream，布尔异步） System.Data.SqlClient.SqlCommand.ExecuteReader（CommandBehavior 行为，String 方法）处 System.Data.SqlClient.SqlCommand 处的（CommandBehavior cmdBehavior、RunBehavior runBehavior、布尔 returnStream、String 方法）。System.Data 中的 System.Data.Linq.SqlClient.SqlProvider.Execute（表达式查询、QueryInfo queryInfo、IObjectReaderFactory 工厂、Object[] parentArgs、Object[] userArgs、ICompiledSubQuery[] subQueries、Object lastResult）中的 ExecuteDbDataReader（CommandBehavior 行为）。 System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider 处的 Linq.SqlClient.SqlProvider.ExecuteAll（表达式查询，QueryInfo[] queryInfos，IObjectReaderFactory 工厂，Object[] userArguments，ICompiledSubQuery[] subQueries）。在 System.Data.Linq.DataQuery 执行（表达式查询）ExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries) at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query) at System.Data.Linq.DataQueryExecuteAll(Expression query, QueryInfo[] queryInfos, IObjectReaderFactory factory, Object[] userArguments, ICompiledSubQuery[] subQueries) at System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute(Expression query) at System.Data.Linq.DataQuery`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

自定义活动详情：

* * *

事件代码：3005 事件消息：发生未处理的异常。事件时间：02.04.2013 11:20:11 事件时间（UTC）：02.04.2013 11:20:11 事件 ID：cbf42c3adf63405293a803cb75577076 事件序列：5652 事件发生：71 事件详细代码：0

应用信息：应用域：/LM/W3SVC/1273337584/ROOT-1-130093075659455176 信任等级：完整应用虚拟路径：/应用路径：E:\sitesroot\0\机器名：RD00155D36AB20

进程信息：进程ID：2420 进程名称：w3wp.exe 帐户名称：NT AUTHORITY\NETWORK SERVICE

异常信息：异常类型：SqlException 异常消息：服务器“xxx”上的数据库“xxx”当前不可用。请稍后重试连接。如果问题仍然存在，请联系客户支持，并向他们提供会话跟踪 ID '30b6d33f-4976-44b8-a586-8bfe2bc66182'。用户“xxx”登录失败。在 System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject) 在 System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection) 在 System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) 在 System.Data。 System.Data.Linq.SqlClient.SqlConnectionManager.UseConnection（IConnectionUser 用户）在 System.Data.Linq 的 SqlClient.SqlConnection.Open()。`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

请求信息：请求URL：[http://mail.xx/FindInspector/Companies/128?InspectorCompaniesViewModel-page=5&InspectorCompaniesViewModel-sort=Telephone-asc](http://mail.x.x/FindInspector/Companies/128?InspectorCompaniesViewModel-page=5&InspectorCompaniesViewModel-sort=Telephone-asc) 请求路径：/FindInspector/Companies/128 用户主机地址：66.249.76.91 用户：
是已验证：False 验证类型：
线程帐户名：NT AUTHORITY\NETWORK SERVICE

线程信息：线程 ID：21 线程帐户名称：NT AUTHORITY\NETWORK SERVICE 正在模拟：错误堆栈跟踪：在 System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject) 在 System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection ) 在 System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) 在 System.Data.Linq.SqlClient.SqlConnectionManager.UseConnection(IConnectionUser user) 在 System.Data System.Data.SqlClient.SqlConnection.Open() .Linq.SqlClient.SqlProvider.get_IsSqlCe() 在 System.Data.Linq.SqlClient.SqlProvider.InitializeProviderMode() 在 System.Data.Linq.SqlClient.SqlProvider.System.Data.Linq.Provider.IProvider.Execute（表达式查询）在 System.Data.Linq。数据查询`1.System.Linq.IQueryProvider.Execute[S](Expression expression) at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 来源，Expression`1 谓词）在 Holte.UK.Service.People.PersonServiceCRUD.GetCompanyIdByUserProfile(Object userID) 在 Holte.UK.MvcApplication.Application_PostAcquireRequestState(Object sender, EventArgs e) 在 System.Web.HttpApplication.SyncEventExecutionStep.System。 Web.HttpApplication.IExecutionStep.Execute() 在 System.Web.HttpApplication.ExecuteStep（IExecutionStep 步骤，布尔值&完成同步）

自定义活动详情：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:28:49.120

这些是 SQL Azure 中非常常见`transient`的情况。我猜你没有在你的代码中实现任何重试逻辑。

查看、通读并在您的应用程序中实现瞬态故障处理。

*   [在 SQL Azure 客户端应用程序中处理瞬态条件的最佳实践](http://windowsazurecat.com/2010/10/best-practices-for-handling-transient-conditions-in-sql-azure-client-applications/)
*   [将瞬态故障处理应用程序块与 SQL Azure 一起使用](http://msdn.microsoft.com/en-us/library/hh680899%28v=pandp.50%29.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-29T10:59:13.770

根据我的理解，无论你是否得到它，这个问题都可能是非常随机的。一台 SQL 服务器上运行着大约 600 个 Azure SQL 安装/实例。Azure 安装共享该服务器上的所有资源、mdf 和 ldf 文件（这就是您必须联系支持人员以恢复您的数据库的原因）。因此，如果你不走运并且最终在有人使用繁重的数据库操作的服务器上，那么这将影响你的 Azure SQL 的性能。

如果您不走运并且经常遇到暂时性错误，那么另一种解决方案是创建一个新的 Azure SQL 并将您的数据库移到那里。希望这会将您的新 Azure SQL 放置在不同的服务器上，并且使用该服务器的其他人的数据库操作较少。

# c# - 模板化 Razor 代表 - 更简单的 HTML 块

> ID：15784067
> 
> 赞同：0
> 
> 时间：2013-04-03T09:48:55.903
> 
> 标签：c#, templates, razor

我正在使用 Razor 处理一些模板生成的东西，我希望完成以下语法：

```
 <div>
        @(Html.Use<LinkItem>("Story1",
        {
            <span>Something cool</span>
            <a href="@(item.Href)">@(item.Text)</a>
        }))
        </div> 
```

或者，甚至更好

```
 <div>
        @(Html.Use<LinkItem>("Story1",
           <span>Something cool</span>
           <a href="@(item.Href)">@(item.Text)</a>
        ))
        </div> 
```

使用模板化 Razor 代表，我得到了这个：

```
 <div>
        @(Html.Use<LinkItem>("Story1",
           @<span>Something cool</span>
           @<a href="@item.Href">
                @item.Text
            </a>
        ))
        </div> 
```

问题是，我不想在块中的每个标签之前添加一个@，而且`<text>`标签看起来也不太好。

是否有可能实现我正在寻找的东西？或者也许还有其他方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:36:48.957

你能得到的最接近的是`<text>`节点：

```
@(Html.Use<LinkItem>("Story1", @<text>
    <span>Something cool</span>
    <a href="@(item.Href)">@(item.Text)</a>    
</text>)) 
```

我个人更喜欢使用显示模板：

```
@Html.DisplayFor(x => x.SomeCollectionProperty) 
```

然后我定义了为集合的每个元素自动呈现的相应显示模板（`~/Views/Shared/DisplayTemplates/SomeItem.cshtml`）

```
@model SomeItem
<span>Something cool</span>
<a href="@(Model.Href)">@Model.Text</a> 
```

# java - 从 ResultSet java 中获取日期时间

> ID：15784069
> 
> 赞同：15
> 
> 时间：2013-04-03T09:48:58.343
> 
> 标签：java, mysql, datetime, resultset

我有两列将 DateTime 值存储在 MySql 数据库中，

当我尝试从 Java 的 ResultSet 中获取它们时，没有选项： `getDateTime()`

我应该使用`getDate()`还是不起作用？

提前致谢

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-03T09:58:11.833

使用`getDate()`仅返回 a `Date`，因此在您的情况下，如果您希望同时使用日期和时间`getTimestamp(String columnLabel)`- 这应该有效，也可以替换`String columnLabel`为数据库中的实际列名。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-03T09:51:59.790

您可以使用[ResultSet.getTimeStamp()](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getTimestamp%28int%29)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2020-01-15T06:51:53.173

## 在 MySQL 中更喜欢时间戳而不是日期时间

首先，如果数据库中的日期时间要表示一个时间点，请使用`timestamp`MySQL 中的数据类型，而不是`datetime`. A`datetime`可以解释为读者或阅读它的程序碰巧使用的任何时区。这可能会导致难以调试的错误。`timestamp`数据类型在各种 RDBMS 中表现不同。在 MySQL 中，它确保日期和时间采用 UTC，从而排除对任何其他时区的错误解释。它更安全。如果您所在时区的用户在数据库中读取日期和时间有点困难，那是值得的。

## java.time

```
 PreparedStatement ps = yourDatabaseConnection.prepareStatement("select your_datetime_col from your_table;");
    try (ResultSet rs = ps.executeQuery()) {
        while (rs.next()) {
            OffsetDateTime dateTime = rs.getObject("your_datetime_col", OffsetDateTime.class);
            // do something with dateTime
        }
    } 
```

用于`ResultSet.getObject()`将数据库中的日期和时间检索为来自 java.time（现代 Java 日期和时间 API）的类型。问题和其他答案中提到或暗示的 classes 都设计不佳且早已过时，因此我推荐使用`java.sql.Timestamp`现代API `java.sql.Date`。`java.util.Date`它需要符合 JDBC 4.2 的驱动程序。我们大多数人都有这种情况，其中一个人已经使用 MySQL 很多年了。所以我希望你没事。

如果您无法更改 MySQL 中的数据类型，请使用Java 从列`LocalDateTime`中检索值。`datatime`它的运行方式与上面的代码相同。

## 回答你的具体问题

> 我应该使用`getDate()`还是不起作用？

不，它不会。`getDate()`只为您提供`java.sql.Date`数据库中的日期部分，一天中的时间部分将丢失。正如我所说，`java.sql.Date`设计也很糟糕——在已经设计得很糟糕的基础上进行真正的破解`java.util.Date`——所以无论如何你都不应该想要这样。

## 链接

*   [面向不同地域用户的日期操作/存储的 Java 最佳实践](https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user)
*   [我对从 ResultSet 中获取日期以用于 java.time 类的回答](https://stackoverflow.com/a/54907501/5772882)
*   [Oracle 教程：日期时间](https://docs.oracle.com/javase/tutorial/datetime/)解释如何使用 java.time。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-18T17:15:21.473

或者使用从日期到字符串的类型转换：

`resultSet.getDate(1).toString());`

将返回：

`2014-02-18`

DB字段数据：“2014-02-18 00:00:00.000”

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-01-14T10:13:47.570

> 转换`java.sql.Timestamp`为`java.util.Date`.

```
java.util.Date date = rs.getDate(index_position); // O/P: DD:MM:YYYY

java.sql.Timestamp timestamp = rs.getTimestamp(index_position); // O/P: DD:MM:YYYY HH:mm:ss
java.util.Date date = new java.util.Date(timestamp.getTime()); 
```

如果您将时间戳记为日期并将其转换为，`java.sql.Timestamp`那么它会导致`DD:MM:YYYY 00:00:00`日期不包括时间。因此，它选择默认为`00:00:00`.

```
SQL TimeStamp  : 30.12.2020 13.40.50
Java TimeStamp : 30.12.2020 13.40.50

SQL TimeStamp  : 30.12.2020 13.40.50
Java Date      : 30.12.2020 00.00.00
Java TimeStamp : 30.12.2020 00.00.00 
```

获取基于[`ResultSetMetaData`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html)CSV 报告的记录的示例：

```
public static void getTestTable(Connection con) throws SQLException {
    String sql = "select ID, INSERTDATE, TO_CHAR(INSERTTIME,'DD.MM.YYYY HH24:MI:SS') as String_Time, INSERTTIME, MSG from TEST_TABLE group by ID, INSERTDATE, INSERTTIME, MSG";
    Statement stmt = con.createStatement();
    ResultSet rs = stmt.executeQuery(sql);
    if (rs != null) {
        ResultSetMetaData resultSetMetaData = rs.getMetaData();
        int noOfColumns = resultSetMetaData.getColumnCount(); // For iteration
        System.out.println("No of Cloumns Query Returns: "+ noOfColumns);
        HashMap<String, ArrayList<?>> matrixTable = getMatrixMetadata(resultSetMetaData);
        System.out.println("MatrixTable: "+matrixTable);
        ArrayList<String> dataTypeList = (ArrayList<String>) matrixTable.get("ColumnTypeName");
        int rowCount = 0;
        while (rs.next()) { // CSV Report
            for (int columnIndex = 1; columnIndex <= noOfColumns; columnIndex++) {
                // int id = rs.getInt("ID");
                String value = getMatrixValue(rs, dataTypeList, columnIndex);
                System.out.print(value);
                if (columnIndex < noOfColumns) {
                    System.out.print(",");
                }
            }
            System.out.println();
            rowCount++;
        }
        System.out.println("Result FetchSize(Total Coloumns):"+rs.getFetchSize()+" = Rows*Coloums:["+rowCount+"*"+noOfColumns+"]"); 
    }
}
static HashMap<String, ArrayList<?>> getMatrixMetadata(ResultSetMetaData meta) throws SQLException {
    int columnsCount = meta.getColumnCount();
    ArrayList<String> columnList = new ArrayList<String>();
    ArrayList<String> dataTypeNameList = new ArrayList<String>();
    ArrayList<Integer> dataTypeIdList = new ArrayList<Integer>();
    HashMap<String, ArrayList<?>> returnHashMap = new HashMap<String, ArrayList<?>>();
    for (int i = 1; i <= columnsCount; i++) {
        columnList.add(meta.getColumnName(i));
        dataTypeIdList.add(Integer.valueOf(meta.getColumnType(i)));
        dataTypeNameList.add(meta.getColumnTypeName(i));
    }
    returnHashMap.put("ColumnName", columnList);
    returnHashMap.put("ColumnTypeId", dataTypeIdList);
    returnHashMap.put("ColumnTypeName", dataTypeNameList);
    return returnHashMap;
}
static DecimalFormat DECIMAL_FORMAT = (DecimalFormat) NumberFormat.getInstance(Locale.ENGLISH);
static { // https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html
    DECIMAL_FORMAT.applyPattern("######.###"); // "#,#00.0#" → 1,234.56 
}
public static String getMatrixValue(ResultSet rs, ArrayList<String> dataTypeNameList, int pos) throws SQLException {
    String retval;
    String columnTypeName = dataTypeNameList.get(pos - 1);
    //int type = dataTypeIdList.get(pos - 1);
    //if (type == Types.DECIMAL || type == Types.DOUBLE || type == Types.FLOAT || type == Types.NUMERIC || type == Types.REAL) {
    if (columnTypeName.equalsIgnoreCase("NUMBER")) {
        double doubleValue = rs.getDouble(pos);
        if (rs.wasNull()) {
            retval = null;
        } else {
            retval = "[N]"+DECIMAL_FORMAT.format(doubleValue);
        }
    } else if (columnTypeName.equalsIgnoreCase("DATE")) {
        java.util.Date date = rs.getDate(pos);
        if (rs.wasNull()) { // Checks last column read had a value of SQL NULL.
            retval = null;
        } else {
            retval = "[D]"+formatDate(date, "dd.MM.yy");
        }
    } else if (columnTypeName.equalsIgnoreCase("TIMESTAMP")) {
        java.sql.Timestamp timestamp = rs.getTimestamp(pos);
        if (rs.wasNull()) {
            retval = null;
        } else {
            java.util.Date date = new java.util.Date(timestamp.getTime());
            retval = "[T]"+formatDate(date, "dd.MM.yyyy HH:mm");
        }
    } else { // VARCHAR2
        retval = "[S]"+rs.getString(pos);
    }
    return retval;
}
public static String formatDate(Date aDate, String formatStr) {
    DateFormat dateFormat = new SimpleDateFormat( formatStr );
    //dateFormat.setCalendar(Calendar.getInstance(TimeZone.getTimeZone("IST")));
    return dateFormat.format(aDate);
} 
```

```
No of Cloumns Query Returns: 5
MatrixTable: {ColumnName=[ID, INSERTDATE, STRING_TIME, INSERTTIME, MSG], ColumnTypeId=[2, 93, 12, 93, 12], ColumnTypeName=[NUMBER, DATE, VARCHAR2, TIMESTAMP, VARCHAR2]}
[N]1,[D]30.12.20,[S]30.12.2020 00:40:50,[T]30.12.2020 00:40,[S]Insert1
[N]2,[D]30.12.20,[S]30.12.2020 13:40:50,[T]30.12.2020 13:40,[S]Insert2
Result FetchSize(Total Coloumns):10 = Rows*Coloums:[2*5] 
```

涉及的 SQL 查询用于表创建和多记录插入：^([Oracle Multi insert](https://stackoverflow.com/a/59580311/5081877))

```
CREATE TABLE SCHEMA7.TEST_TABLE ( "ID" NUMBER, "INSERTDATE" DATE, "INSERTTIME" TIMESTAMP (6), "MSG" VARCHAR2(120 BYTE) );

INSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('1', TO_DATE('30-DEC-2020', 'DD-MON-RR'), TO_TIMESTAMP('30-DEC-2020 12.40.50.00 AM', 'DD-MON-RR HH.MI.SS.FF AM'), 'Insert1');
INSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('2', TO_DATE('30.12.2020', 'DD.MM.YYYY'), TO_TIMESTAMP('30.12.2020 13.40.50','dd.mm.yyyy hh24.mi.ss'), 'Insert2'); 
```

# haskell - 使用 haskell-src-exts 解析 UnicodeSyntax

> ID：15784076
> 
> 赞同：11
> 
> 时间：2013-04-03T09:49:20.510
> 
> 标签：haskell, haskell-src-exts

我有一个使用 Unicode 语法的 Haskell 源文件：

```
{-# LANGUAGE UnicodeSyntax #-}
succ' :: Int → Int
succ' = succ

main :: IO ()
main = print $ succ' 1 
```

这可以使用 GHC 解析并运行良好。此外，style-haskell 和 hlint（均基于 haskell-src-exts）可以毫无问题地读取此文件。但是，当我尝试使用 haskell-src-exts 自己解析它时：

```
import Language.Haskell.Exts (parseModule)

main = do
    x <- readFile "test.hs"
    print $ parseModule x 
```

我收到错误消息：

```
ParseFailed (SrcLoc {srcFilename = "<unknown>.hs", srcLine = 6, srcColumn = 1}) "TypeOperators is not enabled" 
```

但是，在扩展列表中显式提供 UnicodeSyntax 或使用 parseFile 就可以了：

```
import Language.Haskell.Exts

main = do
    x <- readFile "test.hs"
    print $ parseModuleWithMode defaultParseMode
        { extensions = [UnicodeSyntax]
        } x

    parseFile "test.hs" >>= print 
```

知道为什么第一种方法会失败吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T12:36:43.973

粗略地看一下源代码，它看起来不像`parseModule`在解析之前从源代码中提取语言编译指示（`parseFile`通过调用来做到这一点`getExtensions`）。当解析开始时，启用 unicode 语法已经太晚了。

# ibm-mobilefirst - 无法在 xcode 中构建 worklight 项目

> ID：15784081
> 
> 赞同：0
> 
> 时间：2013-04-03T09:49:37.907
> 
> 标签：ibm-mobilefirst

我是 Worklight 的新手，为了更好地理解，我尝试了 IBM Worklight 网站上托管的各种示例。

我已经在 Mac OS X 10.6.8 上安装了 Eclipse Juno 和 IBM Worklight Studio 工具包
我已经在 Mac OS X 10.6.8 上安装了 xcode 4.2我已经从[http://www.ibm.com/developerworks/mobile/](http://www.ibm.com/developerworks/mobile/worklight/getting-started.html#basics)
下载了 HelloWorklight 示例[worklight/getting-started.html#basics](http://www.ibm.com/developerworks/mobile/worklight/getting-started.html#basics)并遵循[http://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v506/02_02_Previewing_your_application_on_iOS.pdf](http://public.dhe.ibm.com/software/mobile-solutions/worklight/docs/v506/02_02_Previewing_your_application_on_iOS.pdf)获取指南。

该示例在 Eclipse 中成功构建并部署到 Worklight Server，也可以在 Worklight Console 上进行预览。现在我尝试从 Eclipse 中作为 Xcode 运行，示例已成功导出到 Xcode，但是当我说在 xcode 中运行时，构建失败。我在 Xcode 中的 CordovaLib 下看到 2 个问题，带有警报的 CDVLocation.m（从枚举类型“UIDeviceOrientation”到不同枚举类型“UIInterfaceOrientation”的隐式转换）和带有错误的 CDVAccelerometer.m（接收器类型“CDVAccelerometer”例如消息未声明选择器“returnAccelInfo”的方法）。

请帮我解决上述问题。如果我是正确的，那么 Worklight 打包的库似乎无法在 xcode 中编译。

任何形式的帮助将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T04:20:21.057

Worklight 支持 OS X 10.7 及以上，以及 Xcode 4.5 及以上；至少确保您的 Xcode 版本是最新的，然后使用 Worklight 5.0.6 和与此 Worklight 版本匹配的[新示例应用程序重试。](http://www.ibm.com/developerworks/mobile/worklight/getting-started.html)

# iphone - 可以在 iPhone 设备屏幕关闭模式下录制视频吗？

> ID：15784086
> 
> 赞同：0
> 
> 时间：2013-04-03T09:49:49.300
> 
> 标签：iphone, ios, camera, video-recording

我正在使用基于 iPhone 设备相机的 iOS 应用程序。**即使设备屏幕关闭或锁定，**我也有一项要求从我们的应用程序录制视频。我没有 iPhone、iPod 和 iPad。而且我不知道在这些条件下是否可以录制视频。你能告诉我这方面的想法吗？期待您的帮助。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T09:51:54.410

不，这是不可能的。没有其他方法可以实现这一目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-05T14:44:17.943

在一些国家，甚至在没有声音的情况下拍照也是违法的，比如日本。难怪苹果不允许从锁定屏幕拍摄照片。

# java - 在 Java 中使用 RESTlet 访问正确的资源

> ID：15784092
> 
> 赞同：0
> 
> 时间：2013-04-03T09:50:03.017
> 
> 标签：java, eclipse, api, google-app-engine, restlet

我正在尝试使用 Java 中的 RESTlet 和 Google App Engine 为我大学的一个项目编写一个 API。目前，我可以运行一个 Web 服务器，但是除了从根目录之外，我在访问任何东西时都遇到了一些麻烦。每当我转到“/road”（应该为 RoadResource 提供服务）时，Web 服务器只显示为根服务的 RouteResource。

根据 Eclipse，我得到了一个 HTTP OK 200 状态代码，尽管它正在处理错误的文件，但它似乎很有意义。

可以在此处找到与该项目相关的五个文件（罐子除外）：

[https://gist.github.com/majjoha/cd76272b5d6e6c368951](https://gist.github.com/majjoha/cd76272b5d6e6c368951)

由于我无法在一篇文章中发布两个以上的链接，因此我将这些链接汇总在一个要点中。

不知何故，我认为这是我错过的一个小配置，但如果你们中的任何人能帮助我，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T02:48:53.627

如果删除会发生什么：

```
 component.getDefaultHost().attach("/road", new RouterApplication()); 
```

从您的 RestletServer 代码？

我认为您只需要附加您的路由器应用程序，这就是处理默认路线和 /road 路线的方法。另外，如果你改变

```
router.attachDefault(RouteResource.class); 
```

至

```
router.attach("/", RouteResource.class); 
```

跟踪路由错误是如何发生的可能更容易。

# design-patterns - 所需的设计选项：管理各种存储机制

> ID：15784094
> 
> 赞同：0
> 
> 时间：2013-04-03T09:50:09.700
> 
> 标签：design-patterns

假设要求是：1）可能有多种存储机制，例如 .csv/txt/xml/database 等。2）无论按照 #1 的存储可能是什么，都将使用相同的数据结构来存储值.

可以想到的各种设计选项/设计模式是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T13:16:27.977

我认为您要问的内容可以与通用集（在这种情况下为数据）和表示（不同的文件格式）进行比较，这类似于[Template method pattern](http://en.wikipedia.org/wiki/Template_method_pattern)。你可以看看它。

！

# facebook - 通过包括位置在内的图形 API 发布到 facebook 墙上

> ID：15784096
> 
> 赞同：4
> 
> 时间：2013-04-03T09:50:12.480
> 
> 标签：facebook, facebook-graph-api

是否可以通过包含位置坐标的 Graph API 在 Facebook 墙上发布帖子？

通过 Graph API explorer 的示例将很有帮助！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:03:01.847

是的，这是可能的，

如果他/她为您提供了 publish_stream 访问权限，您可以在用户墙上创建一个带有位置的帖子

查看 Graph api 文档[Facebook Graph API](https://developers.facebook.com/docs/reference/api/user/#posts)

# python - Django 多服务器应用程序

> ID：15784098
> 
> 赞同：0
> 
> 时间：2013-04-03T09:50:19.083
> 
> 标签：python, django, orm

我目前正在使用 Django 在 Python 中开发一个应用程序，用户可以在其中将文件上传到远程服务器。

这是我将继续的方式：

1.  用户将文件上传到远程服务器（也可以是 Django 应用程序）
2.  远程服务器获取文件并验证
3.  远程服务器必须在 SQL 数据库中记录文件

问题是远程服务器没有初始 Django 应用程序所具有的模型。因此，远程服务器不能使用带有外键的 Django 对象。

我想了很多解决方案：

1.  尝试将 Django 应用程序中的模型与远程服务器同步（但如果我对 Django 应用程序上的模型进行修改，我必须重新同步每个远程服务器 - 如果我有很多服务器，这可能会很烦人）

2.  当远程服务器必须在 SQL 数据库中记录文件时，远程服务器向 Django 应用服务器发出 HTTP 请求，其中包含要保存的文件的信息。这样，Django 应用程序管理所有 SQL 查询 - 但我可以有很多 HTTP 请求，所以这是一个好的解决方案吗？

我不知道如何解决这个问题，所以如果您有解决方案，请告诉我

# java - Java继承和覆盖方法

> ID：15784099
> 
> 赞同：4
> 
> 时间：2013-04-03T09:50:20.597
> 
> 标签：java

我只是在学习继承，并被困在一个简单的问题上。我想用一个新的子类**二覆盖****一个**类中的 print() 语句。我不确定如何处理它，因为它是一个没有参数的无效语句。

 **```
 public class One {

    private String name;
    private int age;

    public human(String n, int a)
      name = n;
      age = a;
    }
    public void print() {

     System.out.println("Name: " + name);
     System.out.println("Age: " + age);

    } 
```

二等：

```
 public class Two extends One {

    private double gpa;

    public two(String n, int a, double g) {
      super(n,a);
      gpa = g;

    public double getGPA (){
          return gpa;
       }

    public void print() {
    // override code here to include code from class one + displaying GPA..

     }
} 
```

例如， example.print() 将打印

```
Name: Jack
Age: 34 
```

我想要的输出是

```
Name: Jack
Age: 34
GPA: 3.20 
```

我在想我必须使用超级方法，但找不到正确合并它的方法。任何提示将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T09:52:16.743

你有正确的想法。试试这个：

```
public void print() {
    super.print();
    System.out.println("GPA: " + this.gpa);
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-03T09:53:02.233

关键字`super`使您可以访问超类的（可见）成员。所以，你可以调用`print()`超类的方法，然后只做子类的具体工作：

```
public void print() {
    super.print();
    System.out.println ("GPA: " + gpa);
} 
```

有关以下用法的更多信息，请参阅 Java 教程的简短部分`super`：[使用关键字 super](http://docs.oracle.com/javase/tutorial/java/IandI/super.html)。它确实通过一个简单的示例解决了您所询问的相同问题。

请注意，如果你写

```
public void print() {
    print();
    System.out.println ("GPA: " + gpa);
} 
```

如果不指定您要调用`super.print()`， 的`print()`方法`two`将无限期地调用自身，直到您获得`OutOfMemoryError`.

还值得注意的是 Vash在[他的回答](https://stackoverflow.com/a/15784327/851811)[`@Override`](https://stackoverflow.com/questions/94361)中提到了注释。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-03T10:01:07.997

在 Java 中，每个方法都是虚拟的，这意味着您可以覆盖每个可访问的方法。通过可访问方法，我们可以采用具有修饰符 public、protected 或 default 的方法。

从 Java 1.6 开始，建议使用[annotation`@Override`](https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why)来标记已被覆盖的方法。这有助于编译器和开发人员防止潜在的错误。

因此，要覆盖方法`One#print()`，您只需在子类中添加具有相同[签名](http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)的方法。

```
@Override
public void print() {
    super.print(); //Here you call the functionality from super class.
    System.out.println("GPA: %f", getGPA());
} 
```

覆盖时调用 super 不是强制性的。

要记住的一件好事是向方法添加描述，为什么需要覆盖，并让方法调用超类逻辑。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-03T09:53:23.910

就像调用方法的 super() 一样简单

```
public class one {

private String name;
private int age;

public human(String n, int a);
name = n;
age = a;

public void print() {

System.out.println ("Name: " + name);
System.out.println ("Age: " + age);
Second class:

public class two extends one {

private double gpa;

public two(String n, int a, double g) {
super(n,a);
gpa = g;

public double getGPA (){
      return gpa;
   }

public void print() {
 super.print();
 System.out.println("GPA: " + getGPA());
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-03T10:01:08.457

你的 One.java

```
public class One {

protected String name;
protected int age;

public One(String n, int a)
{
name = n;
age = a;
}
public void print() {
System.out.println ("Name: " + name);
System.out.println ("Age: " + age);
}
} 
```

二.java

```
public class Two extends One{
private double gpa;

public Two(String n, int a, double g) {
super(n,a);
gpa = g;
}
public double getGPA (){
      return gpa;
   }

public void print() {
    System.out.println ("Name: " + name);
    System.out.println ("Age: " + age);
    System.out.println ("gpa: " + gpa);
}
} 
```

将此添加到一些 java 文件中以检查输出。

```
public class ExecuteTwo {
public static void main(String[] args) {
    Two two = new Two("Aiuna",1,100.0);
    two.print();
}
} 
```

这会给你你想要的。

看到这个之后你应该做什么：（i）知道什么是构造函数（ii）访问修饰符，访问级别

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T10:00:30.607

当您在第二类中覆盖 print() 方法时，您可以写为`System.out.println("GPA: " + gpa);`**

# java - 使用 DOD 在 Java 中颁发的 CAC 对 AD 服务器用户进行身份验证

> ID：15784107
> 
> 赞同：4
> 
> 时间：2013-04-03T09:50:33.687
> 
> 标签：java, cac

我必须使用 Java 使用 DOD 颁发的 CAC（不使用任何用户名或密码）对 AD 服务器中的用户进行身份验证。我将在机器上安装 CAC 中间件 ActiveClient，这是访问 CAC 上的内容（用户证书）所需的。在一些研究中，我发现应该使用 Kerberos + PKINIT。我不确定从哪里开始。有人可以帮我吗？

# c# - 将表列值存储到变量中（SQL Server）

> ID：15784117
> 
> 赞同：1
> 
> 时间：2013-04-03T09:50:57.650
> 
> 标签：c#, sql-server, table-variable

我已经被这个问题困扰了一段时间：我试图在特定条件下从表（数据库）中的列中保存一个值。

在下面的代码中，我试图将文本框 (sUserName) 的输入与表 (aspnet_Membership) 中的列 (UserName) 中的值进行比较。如果这些值相等，我想在列中获取特定的电子邮件值并将其保存为字符串变量。

如果 UserName（列）不等于 sUserName（文本框），那么我想显示一条错误消息（else 语句）。电子邮件和用户名列在同一个表中

```
 string sUserName = txtBoxUsername.Text;

    SqlConnection conn2 = new SqlConnection(@"Data Source=.\SQLEXPRESS;AttachDbFilename=C:\Users\sunny\Visual Studio 2010\Projects\email\Prac 2\App_Data\aspnet_Membership.mdf;Integrated Security=True;User Instance=True");

    SqlCommand myCommand = new SqlCommand("SELECT Email FROM aspnet_Membership WHERE UserName = sUserName", conn2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T09:59:16.193

只需将检查用户是否存在于您的代码中添加到您的代码中，例如：

```
 string sUserName = txtBoxUsername.Text;
    SqlConnection conn2 = new SqlConnection("Your SQL Connection");

        SqlCommand myCommand = new SqlCommand("SELECT Email FROM aspnet_Membership WHERE UserName = '"+ sUserName  + "'", conn2);

        SqlDataReader rdr = myCommand.ExecuteReader();
     if (dr.HasRows)
    {
          while (rdr.Read())
        {
                 // User exist - get email

                 string email = rdr["Email "].toString();

         }
    }
    else
    {
          //Error! user not exist
    } 
```

最好的祝福

# python - Django modelForm在提交时更改方面

> ID：15784119
> 
> 赞同：0
> 
> 时间：2013-04-03T09:51:00.050
> 
> 标签：python, html, django, django-forms

我正在尝试使用 django 创建一个网络，其中向用户提示一个表单，该表单可以填充它的一些值并提交它们。然后，python 程序将填写其余部分并显示用户填写的表单，以及服务器填写的字段。我正在使用 modelForms，因为我希望我的模型和我的表单之间完全匹配。

出于几个原因，我开始使用以下代码，但我不知道为什么在提交表单后，这些字段不再显示为 CharFields，而是类似于“html 标签”，并且不可编辑了。

该代码是我的一个非常简化的版本，其中只有一个字段，由用户填写。

视图.py：

```
def manage_printers(request):
    p = PrinterForm(request.POST or None)
    if request.method == 'POST':
        if p.is_valid():
            f = p.save(commit=False)
            f.name = request.POST.get('name')
            f.save()
            return render_to_response('web.html', {'printer': f}) 
        else:
            return HttpResponse("form not valid")
    return render_to_response('web.html', {'printer': p}, ) 
```

模型.py：

```
class Printer(models.Model):
    name = models.CharField(max_length=200, default=' ')
    def __unicode__(self):
        return self.name

class PrinterForm(ModelForm):
    class Meta:
        model = Printer 
```

网页.html：

```
<form action="/useriface/" method="post"> 
    <p>Name: {{ printer.name }}</p>
</form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:41:37.473

正如我在评论中解释的那样，当您保存表单时，您将获得一个模型实例。模型实例不是表单。它没有表单域。当您将保存的实例传递给模板代替表单时，您不会显示表单字段，您将显示保存的实例字段的值。如果要重新显示表单，则应将其传递给模板，而不是保存的实例。

# javascript - 如何在 MongoDB 中重命名存储的 JavaScript？

> ID：15784120
> 
> 赞同：0
> 
> 时间：2013-04-03T09:51:00.400
> 
> 标签：javascript, mongodb, rename, bson, database

考虑一下，我在 MongoDB 中有以下存储的 JavaScript

```
{_id: "sum",
 value: function (x, y) { return x + y; }} 
```

它是通过 MongoDB shell 中的以下命令创建的

```
db.system.js.save({_id: "sum",
value: function (x, y) { return x + y; }}); 
```

它可以像这样运行：

```
db.eval("return sum(3, 5);");
8.0 
```

问题：我想将存储的 JavaScript 的名称更改`sum`为`GetAddResult`. 如何在不创建新的存储 JavaScript 的情况下做到这一点？

* * *

更新：
我尝试了以下命令来重命名它。

```
db.system.js.update({'_id':'sum'}, {'$set':{'_id':'GetAddResult'}});
Mod on _id not allowed 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:03:52.913

您无法更新 mongodb 文档的 _id 字段。它是一个不可变对象，因此您无法在创建文档后更改[对象 ID 。](http://www.mongodb.org/display/DOCS/Object+IDs)

但是您可以尝试使用`_id`您想要的首选文件添加新文档。

# javascript - 剑道网格拖放问题

> ID：15784125
> 
> 赞同：1
> 
> 时间：2013-04-03T09:51:25.760
> 
> 标签：javascript, jquery, drag-and-drop, kendo-ui, kendo-grid

我们在剑道网格表中使用剑道拖放功能。

1) 如果用户在任何可编辑字段上提供数据并且没有保存数据，如果用户单击/跳转到其他字段进行编辑。用户正在丢失他更新的数据。

2）如果用户更新任何记录，我们再次刷新/重新生成表或者如果我们在函数外部刷新/重新生成或者我们使用函数外部添加新记录。之后，用户无法删除行以替换为其他行。

[jsfiddel文件](http://jsfiddle.net/piyushparmar01/yCDjm/10/)

```
var data = [
                    { Id: 1, Name: "data 1", Position: 1 },
                    { Id: 2, Name: "data 2", Position: 2 },
                    { Id: 3, Name: "data 3", Position: 3 }
                ];

                var dataSource = new kendo.data.DataSource({
                        data: data,        
                        schema: {
                            model: {
                                Id: "Id",
                                fields: {
                                    Id: { type: "number" },
                                    Name: { type: "string" },
                                    Position: { type: "number" }
                                }
                            }
                        }
                    });

                var grid= $("#grid").kendoGrid({
                    dataSource: dataSource,  
                    scrollable: false,    
                    editable : true,
                    toolbar:  ["save","cancel", "create"],
                   columns: ["Id", "Name", "Position"]            
                }).data("kendoGrid");

            grid.table.kendoDraggable({
                    filter: "tbody > tr:not(.k-grid-edit-row)",
                    group: "gridGroup",
                cursorOffset: { top: 10, left: 10 },
                    hint: function(e) {

                        return $('<div class="k-grid k-widget"><table><tbody><tr>' + e.html() + '</tr></tbody></table></div>');
                    }
                });

            grid.table/*.find("tbody > tr")*/.kendoDropTarget({

                  group: "gridGroup",
                  drop: function (e) {

                    var target = dataSource.getByUid($(e.draggable.currentTarget).data("uid")),
                          dest = $(e.target);

                    if (dest.is("th")) {
                      return;
                    }
                    dest = dataSource.getByUid(dest.parent().data("uid"));

                    //not on same item
                    if (target.get("Id") !== dest.get("Id")) {
                      //reorder the items
                      var tmp = target.get("Position");
                      target.set("Position", dest.get("Position"));
                      dest.set("Position", tmp);

                      dataSource.sort({ field: "Position", dir: "asc" });
                    }
                  }
                }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T23:11:15.140

1.  我前段时间遇到过类似的问题。我还在他们的论坛上找到了以下主题 - [http: //www.kendoui.c​​om/forums/ui/grid/drag-and-drop-reordering.aspx#boD2qq6aG2OF1P8AAFTdxQ](http://www.kendoui.com/forums/ui/grid/drag-and-drop-reordering.aspx#boD2qq6aG2OF1P8AAFTdxQ)

    因此，如果您在表格中再添加一列并将图像或其他元素放在那里，那么您将能够将该元素用作可拖动目标，例如：

    ```
    grid.table.kendoDraggable({
        filter: "tbody > .draggableTarget"..... 
    ```

2.  当您刷新它时，该表会在 DOM 中完全重新创建，因此您必须重新订阅拖放功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-18T13:14:52.103

我在使用带有可编辑网格的较新的 kendoSortable 来实现拖放行排序时遇到了类似的问题。

这个小提琴[http://jsfiddle.net/UsCFK/273/](http://jsfiddle.net/UsCFK/273/)有效。

它使用上面提到的带有拖动手柄的列来防止单元格编辑丢失 - 其他单元格在设置中被忽略：

```
grid.table.kendoSortable({
    filter: ">tbody >tr",
    hint: $.noop,
    cursor: "move",
    ignore: "TD, input",
    placeholder: function (element) {
      return element.clone().addClass("k-state-hover").css("opacity", 0.65);
    },
    container: '#grid tbody',
    change: onGridRowChange
}); 
```

它还会更新数据源中的位置字段，而不是像其他示例中那样删除，然后重新插入该行 - 因为这将导致对移动的每一行向服务器发出删除请求请求 - 这可能会在单击时导致问题批量编辑取消按钮。位置字段仅用于演示目的 - 不应公开用于手动编辑。

# java - AlertDialog中的LinearLayout不滚动

> ID：15784129
> 
> 赞同：0
> 
> 时间：2013-04-03T09:51:44.673
> 
> 标签：java, android, android-linearlayout, android-alertdialog

我在一个警报对话框中设置了一个线性布局，其中我基本上有一些编辑文本。

我面临的问题是我无法向下滚动以查看动态创建的每个编辑文本。

这是片段：

```
Context context = this.getApplicationContext();
        LinearLayout layoutCreateMerch = new LinearLayout(context);
        layoutCreateMerch.setOrientation(LinearLayout.VERTICAL);
        layoutCreateMerch.setVerticalScrollBarEnabled(true);

        final AlertDialog.Builder alert = new AlertDialog.Builder(Act.this);
        alert.setTitle("Submit");
        final EditText Name = new EditText(Act.this);
        final EditText Desc = new EditText(Act.this);
...
... 
```

那么，如何在运行时在此警报对话框的线性布局中添加滚动视图？

我想 LinearLayouts 不需要滚动条/视图，但这对我来说行不通：|

此外，膨胀这将是另一种选择，但现在..我可以做点什么吗？

谢谢阅读.. ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T09:57:09.397

理论上它是这样的：

```
ScrollView scroll = new ScrollView(context);
scroll.setBackgroundColor(android.R.color.transparent);
scroll.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,
                                             LayoutParams.FILL_PARENT));
scroll.addView(yourLinearLayout); 
```

sO 基本上只是将您的 linearLayout 放到 ScrollView 并在最后将其设置为 dialogView，例如，

```
alertDialog.setView(scroll); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T09:57:55.657

请使用`<ScrollView ></ScrollView>`来包装您的布局。

# c# - 如何在 C# 中将 XML 模式转换为关系模式？

> ID：15784133
> 
> 赞同：0
> 
> 时间：2013-04-03T09:51:56.963
> 
> 标签：c#, xml, datatable

[我在此链接](https://community.jboss.org/wiki/ConvertXMLDataIntoRelationalTableDataUsingTeiid?_sscc=t)中看到了以下解决方案

```
select * from xmltable('/dept/employee' PASSING convert('<dept bldg="101">
    <employee id="901">
        <name>
            <first>John</first>
            <last>Doe</last>
        </name>
        <office>344</office>
        <salary currency="USD">55000</salary>
    </employee>
    <employee id="902">
        <name>
            <first>Peter</first>
            <last>Pan</last>
        </name>
        <office>216</office>
        <phone>905-416-5004</phone>
    </employee>
</dept>', xml) COLUMNS 
   empID     integer     PATH '@id',
   firstname     string     PATH 'name/first',
   lastname     string     PATH 'name/last') AS employee 
```

这正是我正在寻找的解决方案，**但**在 C# 中！

可能吗？任何建议或参考都会有所帮助。

谢谢。

# php - 使用 HTML 表单作为方案动态查询 db

> ID：15784136
> 
> 赞同：2
> 
> 时间：2013-04-03T09:52:01.900
> 
> 标签：php, mysql, forms, selection

我是php的初学者。我有一个像这样的数据表

```
| serial    | | name            | | email           | | phone       | | location    | | profession  | | source  |
-----------------------------------------------------------------------------------------------------------------------------
| 1         | | Mr first        | | a@example.com   | | 123456780   | | India       | | Designer    | | From X  |
| 2         | | Mr second       | | b@example.com   | | 123456781   | | US          | | Designer    | | From Y  |
| 3         | | Mr third        | | c@example.com   | | 123456782   | | US          | | Engineer    | | From X  |
| 4         | | Mr fourth       | | d@example.com   | | 123456783   | | US          | | Disigner    | | From Z  |
| 5         | | Mr fifth        | | e@example.com   | | 123456784   | | India       | | Engineer    | | From Y  |
| 6         | | Mr sixth        | | f@example.com   | | 123456785   | | UK          | | Designer    | | From X  |
| 7         | | Mr seventh      | | g@example.com   | | 123456786   | | India       | | Designer    | | From X  | 
```

我有一个像这样的html表单

```
<form method="post" action="search.php">
 <select name="location">
 <option value="" selected="selected">-any-</option>
 <option value="UK">UK</option>
 <option value="India">India</option>
 <option value="US">US</option>
 </select>

 <select name="source">
 <option value="" selected="selected">-any-</option>
 <option value="From X">From X</option>
 <option value="From Y">From Y</option>
 <option value="From Z">From Z</option>
 </select>

 <select name="profession">
 <option value="" selected="selected">-any-</option>
 <option value="Designer">Designer</option>
 <option value="Engineer">Engineer</option>
    </select>
 <input type="submit" value="submit">
</form> 
```

现在我想要基于多项选择的查询

1.  如果在所有三个下拉菜单中都选择了“any-”，它应该获取所有表行

2.  如果选择了任何两个项目，即 location=india 和 professional=designer，那么它应该只获取两个选择值都匹配的第 1 行和第 7 行

请帮助我使用 php 根据表单选择值获取结果

这是我的 php 来检索帖子值

```
<?php

mysql_connect("localhost","root","");
mysql_select_db("alldata");

if(isset($_POST['submit'])) {
$source=$_POST['source'];
$profession=$_POST['profession'];
$location=$_POST['location'];
}

?> 
```

我的 php 文件现在看起来像

```
 <?php 
$conn = mysql_connect ("localhost", "root", "") or die ('I cannot connect to the database because: ' . mysql_error()); 
$selected = mysql_select_db ("alldata") 
or die ("Could not select database because: " . mysql_error()); 

if(isset($_POST['submit'])) {
$source=$_POST['source'];
$profession=$_POST['profession'];
$location=$_POST['location'];
}
$where = '';
if(isset($location) && !empty($location)){
    $where .= "location ='$location' AND ";
}
if(isset($profession) && !empty($profession)){
     $where .= "profession ='$profession' AND ";
}
if(isset($source) && !empty($source)){
        $where .= "source ='$source' AND ";
}
$where = substr($where, 0, (strlen($where) - 4));
$where = ($where != '') ? "WHERE $where":'';
$sql= "select * from data $where";
$result = mysql_query($sql,$conn)or die (mysql_error()); 
if (mysql_num_rows($result)==0){ 
echo "No Match Found"; 
}else{ 
while ($row = mysql_fetch_array($result)){ 
echo "" .$row['name']." " .$row['email']." ".$row["phone"]." ".$row["source"]." ".$row["profession"]." ".$row["location"]."<br>";

echo "<br>"; 
echo "---------------------------------------------------------------------"."<br>"; 
} 
} 
mysql_close(); 
?> 
```

它获取所有行而不是基于帖子值进行过滤。请帮忙

我尝试了下面的一个。我可以通过过滤值来获得结果。但是，如果有任何空选择，我需要从过滤中跳过该值。这是我的代码

```
$sql = "select * from data
        where location = '".$_POST['location']."' 
        AND profession = '". $_POST['profession'] ."' 
        AND source = '". $_POST['source'] ."'"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:11:04.297

试试下面的代码

```
$where = '';
if(isset($location) && !empty($location)){
    $where .= "location ='$location' AND ";
}
if(isset($profession) && !empty($profession)){
     $where .= "profession ='$profession' AND ";
}
if(isset($source) && !empty($source)){
        $where .= "source ='$source' AND ";
}
$where = substr($where, 0, (strlen($where) - 4));
$where = ($where != '') ? "WHERE $where":'';
$sql= "select * from tablename $where"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:14:18.210

```
// get your real values from $_POST array here 
$location   = null; // i.e. "any"
$source     = 'from x';
$profession = 'designer'; 

$filters = array(
    'location'   => $location, 
    'source'     => $source,
    'profession' => $profession,
    // etc
);

$where = 'WHERE';

$sql = "SELECT * FROM tablename";

foreach ($filters as $field => $value) {
    if($value) {
        $sql .= " $where $field = '$value'";
        $where = 'AND';
    }
}

$sql .= ";";

echo $sql; // SELECT * FROM tablename WHERE source = 'from x' AND profession = 'designer';
exit; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:19:23.427

```
<?php
 if(isset($_POST['submit']))
 {
    mysql_connect("localhost","root","");
    mysql_select_db("alldata");
    $select='SELECT serial,name,email,phone,location,profession,source From <table_name> ';

    $where =' Where 1 ';

    if(isset($_POST['location']) && trim($_POST['location'])!='')
    {
       $where.=' and location= '.mysql_real_escape_string($_POST['location']);
    }

    if(isset($_POST['source']) && trim($_POST['source'])!='')
    {
       $where.=' and source= '.mysql_real_escape_string($_POST['source']);     
    }

    if(isset($_POST['profession']) && trim($_POST['profession'])!='')
    {
       $where.=' and profession= '.mysql_real_escape_string($_POST['profession']);   
    }

    $query=$select.$where;
    $request=mysql_query($query) or die('query_error');

    echo "<table border='1'>";
    echo "<tr><td>serial</td><td>name</td><td>email</td><td>phone</td><td>location</td><td>profession</td><td>source</td></tr>";
    while($result=mysql_fecth_array($request))
    {
       echo "<tr>";
         echo "<td>".$result['serial']."</td>";
         echo "<td>".$result['name']."</td>";
         echo "<td>".$result['email']."</td>";
         echo "<td>".$result['phone']."</td>";
         echo "<td>".$result['location']."</td>";
         echo "<td>".$result['profession']."</td>";
         echo "<td>".$result['source']."</td>";
       echo "</tr>";

    }
    echo "</table>";
 }

?>

<form method="post" action="search.php">
 <select name="location">
 <option value="" selected="selected">-any-</option>
 <option value="UK">UK</option>
 <option value="India">India</option>
 <option value="US">US</option>
 </select>

 <select name="source">
 <option value="" selected="selected">-any-</option>
 <option value="From X">From X</option>
 <option value="From Y">From Y</option>
 <option value="From Z">From Z</option>
 </select>

 <select name="profession">
 <option value="" selected="selected">-any-</option>
 <option value="Designer">Designer</option>
 <option value="Engineer">Engineer</option>
    </select>
 <input type="submit" value="submit">
</form> 
```

# r - 使用`fread`对#N/A的错误解释

> ID：15784138
> 
> 赞同：9
> 
> 时间：2013-04-03T09:52:03.460
> 
> 标签：r, data.table

我正在使用`data.table` `fread()`函数来读取一些具有缺失值的数据，并且它们是在 Excel 中生成的，因此缺失值字符串是“#N/A”。但是，当我使用`na.strings`命令时`str`，读取数据的最终结果仍然是字符。为了复制这一点，这里是代码和数据。

数据：

```
Date,a,b,c,d,e,f,g
1/1/03,#N/A,0.384650146,0.992190069,0.203057232,0.636296656,0.271766148,0.347567706
1/2/03,#N/A,0.461486974,0.500702057,0.234400718,0.072789936,0.060900352,0.876749487
1/3/03,#N/A,0.573541006,0.478062582,0.840918789,0.061495666,0.64301024,0.939575302
1/4/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/5/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/6/03,#N/A,0.66678429,0.897482818,0.569609033,0.524295691,0.132941158,0.194114347
1/7/03,#N/A,0.576835985,0.982816576,0.605408973,0.093177815,0.902145012,0.291035649
1/8/03,#N/A,0.100952961,0.205491093,0.376410642,0.775917986,0.882827749,0.560508499
1/9/03,#N/A,0.350174456,0.290225065,0.428637309,0.022947911,0.7422805,0.354776101
1/10/03,#N/A,0.834345466,0.935128099,0.163158666,0.301310627,0.273928596,0.537167776
1/11/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/12/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/13/03,#N/A,0.325914633,0.68192633,0.320222677,0.249631582,0.605508964,0.739263677
1/14/03,#N/A,0.715104989,0.639040211,0.004186366,0.351412982,0.243570606,0.098312443
1/15/03,#N/A,0.750380716,0.264929325,0.782035411,0.963814327,0.93646428,0.453694758
1/16/03,#N/A,0.282389354,0.762102103,0.515151803,0.194083842,0.102386764,0.569730516
1/17/03,#N/A,0.367802161,0.906878948,0.848538256,0.538705673,0.707436236,0.186222899
1/18/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/19/03,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A,#N/A
1/20/03,#N/A,0.79933188,0.214688799,0.37011313,0.189503843,0.294051763,0.503147404
1/21/03,#N/A,0.620066341,0.329949446,0.123685075,0.69027192,0.060178071,0.599825005 
```

（数据保存在 temp.csv 中）代码：

```
library(data.table)
a <- fread("temp.csv", na.strings="#N/A") 
```

给出（我有更大的数据集，所以忽略观察的数量）：

```
Classes ‘data.table’ and 'data.frame':  144 obs. of  8 variables:
 $ Date: chr  "1/1/03" "1/2/03" "1/3/03" "1/4/03" ...
 $ a   : chr  NA NA NA NA ...
 $ b   : chr  "0.384650146" "0.461486974" "0.573541006" NA ...
 $ c   : chr  "0.992190069" "0.500702057" "0.478062582" NA ...
 $ d   : chr  "0.203057232" "0.234400718" "0.840918789" NA ...
 $ e   : chr  "0.636296656" "0.072789936" "0.061495666" NA ...
 $ f   : chr  "0.271766148" "0.060900352" "0.64301024" NA ...
 $ g   : chr  "0.347567706" "0.876749487" "0.939575302" NA ...
 - attr(*, ".internal.selfref")=<externalptr> 
```

此代码工作正常

```
 a <- read.csv("temp.csv", header=TRUE, na.strings="#N/A") 
```

它是一个错误吗？有一些聪明的解决方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T10:14:53.613

来自`?fread`for的文档`na.strings`如下：

> na.strings**要转换为 NA_character_ 的字符串字符向量**。默认情况下，读取为类型字符“，”的列读取为空白字符串 (“”)，而“,NA”读取为 NA_character_。典型的替代方案可能是 na.strings=NULL 或 na.strings = c("NA","N/A","")。

我想你应该自己把它们转换成数字。至少这是我从文档中了解到的。

像这样的东西？

```
cbind(a[, 1], a[, lapply(.SD[, -1], as.numeric)]) 
```

# gdb - 如何在gdb中设置rsp？

> ID：15784139
> 
> 赞同：2
> 
> 时间：2013-04-03T09:52:03.977
> 
> 标签：gdb

我试图设置 rsp 以便我可以从中看到调用堆栈：

```
(gdb) set $rsp = 0x3fa4fefde930
Left operand of assignment is not an lvalue. 
```

这很奇怪，因为我认为 rsp 应该能够设置。

有什么可能导致这种情况，以及如何避免它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-16T12:49:38.823

也许您正试图`$rsp`从最顶层框架以外的地方进行设置？尝试先切换到第 0 帧：

```
(gdb) select-frame 0
(gdb) set $rsp = 0x3fa4fefde930 
```

# linux - 什么更快？通过 nfs-mount 或通过 scp 复制？

> ID：15784152
> 
> 赞同：8
> 
> 时间：2013-04-03T09:52:35.137
> 
> 标签：linux, unix, scp, mount, nfs

我们有一个由多台机器组成的网络，我们希望将一个大目录（大约 10 GB）分发到每个盒子。

它位于 nfs-server 上并安装在所有机器上，因此第一种方法是使用 normal`cp`将文件从已安装的目录复制到本地目录。这很容易，但不幸的是没有进度条，因为它不打算用于网络副本（或者是吗？）。

Using`scp`旨在跨网络复制，但它可能会加密所有内容，因此速度很慢。

应该更快，如果是这样，哪个：`cp`在 nfs-mount 上还是`scp`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T09:55:06.577

您可以随时使用`rsync`，它可以向您显示进度（带有`--progress`选项）并且比`scp`.

您可以使用 手动启用压缩`-z`。

# android - java.lang.IllegalStateException：没有活动

> ID：15784155
> 
> 赞同：10
> 
> 时间：2013-04-03T09:52:37.603
> 
> 标签：android, android-fragments, android-tabhost

我正在构建一个 Android 应用程序，我希望我的第一个活动由 2 个选项卡组成，一个用于用户的个人资料，一个用于朋友的活动。对于这些选项卡，我选择了 TabHost，因为我的 Sherlock 操作栏已经使用列表导航来移动到其他活动，因此我无法使用操作栏中的选项卡导航。

该应用程序工作了一段时间，但现在只有一个选项卡可以工作，一旦我尝试移动到第二个选项卡，我就会收到 java.lang.IllegalStateException: No activity

我为这个错误添加了 Logcat 输出，虽然我不确定它是否有帮助，因为没有回溯到我的代码。

我尝试用 FragmentTabHost 替换 TabHost，但错误仍然存​​在......

任何人都可以指出这个错误的起源/含义吗？提前致谢 ！

日志猫：

```
04-03 08:19:39.380: W/dalvikvm(958): threadid=1: thread exiting with uncaught exception     (group=0x40a71930)
04-03 08:19:39.400: E/AndroidRuntime(958): FATAL EXCEPTION: main
04-03 08:19:39.400: E/AndroidRuntime(958): java.lang.IllegalStateException: No activity
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1075)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1070)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:1861)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.Fragment.performActivityCreated(Fragment.java:1474)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:931)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1088)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:682)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1444)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:429)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.os.Handler.handleCallback(Handler.java:725)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.os.Looper.loop(Looper.java:137)
04-03 08:19:39.400: E/AndroidRuntime(958):  at android.app.ActivityThread.main(ActivityThread.java:5041)
04-03 08:19:39.400: E/AndroidRuntime(958):  at java.lang.reflect.Method.invokeNative(Native Method)
04-03 08:19:39.400: E/AndroidRuntime(958):  at java.lang.reflect.Method.invoke(Method.java:511)
04-03 08:19:39.400: E/AndroidRuntime(958):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-03 08:19:39.400: E/AndroidRuntime(958):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-03 08:19:39.400: E/AndroidRuntime(958):  at dalvik.system.NativeStart.main(Native Method) 
```

活动

```
public class HomeActivity extends SherlockFragmentActivity implements ActionBar.OnNavigationListener {

private ActionBar mActionBar;
private TabHost tHost;

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.home_activity_layout);

    //Setting the list navigation on actionBar
    mActionBar = getSupportActionBar();
    Context context = getSupportActionBar().getThemedContext();
    ArrayAdapter<CharSequence> list = ArrayAdapter.createFromResource(context, R.array.list_menu_items, R.layout.sherlock_spinner_item);
    list.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);
    mActionBar.setDisplayShowTitleEnabled(false);
    mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
    mActionBar.setListNavigationCallbacks(list, this);

    //Setting the subnavigation with TabHost
    tHost = (TabHost) findViewById(android.R.id.tabhost);
    tHost.setup();

    /** Defining tab builder for profile tab */
    TabHost.TabSpec tabSpecProfile = tHost.newTabSpec("profile");
    tabSpecProfile.setIndicator("PROFILE");
    tabSpecProfile.setContent(new TabContentMaker(this));
    tHost.addTab(tabSpecProfile);

    /** Defining tab builder for community tab */
    TabHost.TabSpec tabSpecCommunity = tHost.newTabSpec("community");
    tabSpecCommunity.setIndicator("COMMUNITY");
    tabSpecCommunity.setContent(new TabContentMaker(this));
    tHost.addTab(tabSpecCommunity);

    /** Defining Tab Change Listener event. This is invoked when tab is changed */
    TabHost.OnTabChangeListener tabChangeListener = getOnTabChangeListener();

    /** Setting tabchangelistener for the tab */
    tHost.setOnTabChangedListener(tabChangeListener);
}

@Override
public boolean onNavigationItemSelected(int itemPosition, long itemId) {
    //changing activity here
    return true;
}

private TabHost.OnTabChangeListener getOnTabChangeListener(){
    TabHost.OnTabChangeListener tabChangeListener = new TabHost.OnTabChangeListener() {

        @Override
        public void onTabChanged(String tabId) {
            android.support.v4.app.FragmentManager fm = getSupportFragmentManager();
            MyProfileFragment profileFragment = (MyProfileFragment) fm.findFragmentByTag("profile");
            CommunityFeedFragment communityFragment = (CommunityFeedFragment) fm.findFragmentByTag("community");
            android.support.v4.app.FragmentTransaction ft = fm.beginTransaction();

            /** Detaches the profileFragment if exists */
            if(profileFragment!=null)
                ft.detach(profileFragment);

            /** Detaches the communityFragment if exists */
            if(communityFragment!=null)
                ft.detach(communityFragment);

            /** If current tab is profile */
            if(tabId.equalsIgnoreCase("profile")){

                if(profileFragment==null){
                    /** Create MyProfileFragment and adding to fragmenttransaction */
                    ft.add(R.id.realtabcontent,new MyProfileFragment(), "profile");
                }else{
                    /** Bring to the front, if already exists in the fragmenttransaction */
                    ft.attach(profileFragment);
                }

            }else{    /** If current tab is community */
                if(communityFragment==null){
                    /** Create CommunityFragment and adding to fragmenttransaction */
                    ft.add(R.id.realtabcontent,new CommunityFeedFragment(), "community");
                 }else{
                    /** Bring to the front, if already exists in the fragmenttransaction */
                    ft.attach(communityFragment);
                }
            }
            ft.commit();
        }
    };
    return tabChangeListener;
} 
```

安卓清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.enlavertical"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="17" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/Theme.Styled" >
    <activity
        android:name="com.enlavertical.HomeActivity"
        android:label="@string/app_name"
        android:screenOrientation="portrait" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
</application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-06-16T08:15:33.583

终于知道这是怎么回事了：“无活动”崩溃是由于我使用错误`FragmentManager`嵌套 Fragments 造成的。

对于嵌套片段，唯一有效`FragmentManager`的是在包含片段中获得的片段，通过调用[`getChildFragmentManager()`](http://developer.android.com/reference/android/app/Fragment.html#getChildFragmentManager%28%29).

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2014-11-03T12:38:27.257

我也遇到了这个错误。最后，发现我错误地覆盖了 onResume() onStop() 方法

```
@Override
protected void onResume() {
    super.onResume();
    initilizeMap();
}
@Override
protected void onStop() {
    super.onResume();
    finish();
} 
```

将其更改为

```
 @Override
protected void onResume() {
    super.onResume();
    initilizeMap();
}
@Override
protected void onStop() {
    super.onStop();
    finish();
} 
```

如此愚蠢的错误：P

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-11T16:19:28.860

您需要在保存活动状态后提交事务......

使用`ft.commitAllowingStateLoss()`代替`ft.commit()`

这将解决你的问题。

[来源](http://developer.android.com/reference/android/app/FragmentTransaction.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-26T19:34:50.587

`myActivity.onCreate()`我通过调用创建了一个片段：

```
getSupportFragmentManager()
    .beginTransaction()
    .remove(frag)
    .replace(idOfViewBeingReplaced, frag)
    .commit(); 
```

在查看我的应用程序时，我会按下关机按钮，然后应用程序就会崩溃。显然，当设备断电时，Activity 和 Fragment 状态会被保存、分离，然后`onCreate()`在`onCreateView()`Fragments 上被调用。在这种状态下，`.remove(frag)`不能被调用，否则会抛出：

> 非法状态：无活动

所以，我刚刚删除`.remove(frag)`了，一切又恢复了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-20T15:36:07.790

在我的情况下，我使用了启动屏幕，并且在 MainActivity 中有 MainLauncher = true。

# php - Welcome/cat/0 无法访问控制器welcome.php codeigniter 中的方法cat()

> ID：15784159
> 
> 赞同：0
> 
> 时间：2013-04-03T09:52:43.100
> 
> 标签：php, codeigniter

我有一个控制器`welcome.php`和一个方法`cat()`。这是查询字符串`http://localhost/CodeIgniterhi/?welcome/cat/0`。当我单击该链接时，我无法访问`cat()`controller中的方法`welcome.php`。为什么？有没有路由问题？我的默认路由器是欢迎/索引。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:58:41.570

假设您`index.php`从网址中删除，问题是您在 url 中有查询字符

```
/CodeIgniterhi/?welcome/cat/0 
```

应该

```
/CodeIgniterhi/welcome/cat/0 
```

如果您遇到无法删除查询字符的问题，`?`您应该尝试在此启用`config/config.php`：

```
$config['uri_protocol'] = 'QUERY_STRING'; 
```

真诚地不是在 url 中使用查询字符串的最佳做法，它们看起来对 SEO 不友好

# c++ - 不仅网络数据库（桌面应用程序） - 面向文档

> ID：15784167
> 
> 赞同：0
> 
> 时间：2013-04-03T09:53:13.033
> 
> 标签：c++, database, document-database

我正在寻找一个提供 SQLite 或 BerkeleyDB 访问权限的数据库：通过“进程内 API 调用”进行访问。那将用于桌面应用程序。

要求：

*   可以链接到桌面应用程序（无需运行单独的进程/服务器）
*   面向文档，具有可查询的元数据/字段
*   索引
*   持久性（磁盘存储）
*   C++ 绑定

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:20:50.793

您有很多选择，但我认为很难找到满足您确切要求的数据库

想到的一些替代方案是[HamsterDB](http://hamsterdb.com/about)、[EJDB](http://ejdb.org/)和[FireBird](http://www.firebirdsql.org/)。这些都可以嵌入到您的应用程序中并提供 C++ 绑定。

# php - 处理 IPB xml-rpc api 响应

> ID：15784170
> 
> 赞同：1
> 
> 时间：2013-04-03T09:53:18.707
> 
> 标签：php, xml, xml-rpc, ipb

IPB Board 提供了一个类 (classXmlRpc) 来通过远程服务器访问 board 功能。发送请求对我来说似乎很容易，但是我无法处理收到的响应。

我尝试将响应加载到 SimpleXML 但出现致命错误，所以我做了一个 var_dump，本来希望看到 xml，但我看到的东西看起来不像 xml...

这是[整个输出](http://www.gaming-nexus.com/test.php)

这是通过 classXmlRpc 发出的请求：

```
$response   = $classXmlRpc->sendXmlRpc( "http://jdbartist.bplaced.net/forum/interface/board/index.php", "fetchStats", array( 'api_module' => 'ipb', 'api_key' => 'security_key' ) ) ; 
```

这是输出的一小部分：

```
array(2) { 
    ["html attr"]=> array(1) { 
        ["lang"]=> string(2) "en" 
    }
    ["html"]=> &array(3) { 
        ["head"]=> array(5) { 
            ["title"]=> string(30) "Error - Gaming Nexus Community" 
            ["meta"]=> array(16) { 
                [0]=> string(0) "" 
                ["0 attr"]=> array(1) { 
                    ["charset"]=> string(5) "UTF-8" 
                }
                ["1 attr"]=> array(2) { 
                        ["http-equiv"]=> string(15) "X-UA-Compatible"
... 
```

基本上，那是什么以及如何访问这些数组中的数据？

# java - 使用canvas android拉伸图像

> ID：15784174
> 
> 赞同：1
> 
> 时间：2013-04-03T09:53:29.337
> 
> 标签：java, android, image, bitmap, android-canvas

您好，我有两张图片，我正在使用画布合并这些图片

这是下面的代码

```
 Intent intent = getIntent();

       //bm is the image get from camera
        bm = BitmapFactory.decodeFile(intent.getStringExtra("getdata"));

       //this is simple white text image
        bm1 = BitmapFactory.decodeResource(getResources(), R.drawable.txt_made_hawk_nelson);
        imgSeletedPhoto = (ImageView) findViewById(R.id.imgSelectedPhoto);

        int width = bm.getWidth();
        int height = bm.getHeight();

        int maxWidth = (width > bm1.getWidth() ? width : bm1.getWidth());
        int maxHeight = (height > bm1.getHeight() ? height : bm1.getHeight());

        // calculate the scale - in this case = 0.4f
        float scaleWidth = ((float) maxWidth) / width;
        float scaleHeight = ((float) maxHeight) / height;

        Matrix matrix = new Matrix();
        matrix.postScale(scaleWidth, scaleHeight);          
    bmOverlay = Bitmap.createBitmap(bm, 0, 0, width, height, matrix, true);

    Canvas canvas = new Canvas(bmOverlay);
    //canvas.drawBitmap(bm, 0, 0, null);
    canvas.drawBitmap(bm1, 0, 50, null);
    imgSeletedPhoto.setImageBitmap(bmOverlay);
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

我想缩放图像，图像应该如下所示

![在此处输入图像描述](https://i.stack.imgur.com/1tn0y.png)

但不是通过上面的代码，它看起来像

![在此处输入图像描述](https://i.stack.imgur.com/tmjmj.png)

这个文件的 XML 代码是

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
android:weightSum="10" >

<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="7" >   // this is covering 70% of screen

    <ImageView
        android:id="@+id/imgSelectedPhoto"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_centerInParent="true" />
</RelativeLayout>

<RelativeLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="3"
    android:background="#baca9d"
    android:gravity="center"
    android:orientation="vertical"
    android:paddingLeft="10dp"
    android:paddingRight="10dp" > 
```

任何人都可以帮助我如何**拉伸图像并使其从底部和顶部充满并将文本放在中心**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T10:31:43.047

```
int targetWidth  = 70% of screen width;
int targetHeight = 70% of screen height;

int saclex = (int)((float)targetWidth / (float)bmp1.getWidth());
int sacley = (int)((float)targetHeight / (float)bmp1.getHeight()); 
```

将比例值应用于 bmp1 并创建缩放位图

```
saclex = (int)((float)targetWidth / (float)bmp.getWidth());
sacley = (int)((float)targetHeight / (float)bmp.getHeight()); 
```

应用比例值 bmp 并创建缩放位图。希望这会有所帮助。否则您可以使用此方法创建它。

```
Bitmap bitmap = Bitmap.createScaledBitmap(mTargetImage, bWidth,
                bHeight, false); 
```

# sql-server - 为唯一约束自动创建索引

> ID：15784176
> 
> 赞同：0
> 
> 时间：2013-04-03T09:53:42.010
> 
> 标签：sql-server, sql-server-2008

使用的数据库是 Microsoft SQL Server 2008。

当我在列上创建 UNIQUE 约束时，将创建自动索引还是手动为该列创建索引？

来自[http://msdn.microsoft.com/en-us/library/ms175132(v=sql.105).aspx的以下段落](http://msdn.microsoft.com/en-us/library/ms175132(v=sql.105).aspx)

*创建 UNIQUE 约束时，默认情况下会创建**唯一非聚集索引**以强制执行 UNIQUE 约束*

所以这意味着至少创建了一些索引（不确定什么是非聚集的）。请纠正我的理解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T09:56:27.480

是的，UNIQUE 约束是一个逻辑概念，对于 SQL Server（和大多数 DBMS 系统）来说，它还涉及创建物理索引来强制执行它。

否则维护起来会适得其反，因为每个插入都需要进行全表扫描，以确保它不违反约束。

# geolocation - 如何按位置获取雅虎的woeid？

> ID：15784177
> 
> 赞同：7
> 
> 时间：2013-04-03T09:53:43.777
> 
> 标签：geolocation, yahoo, weather

```
// Get woeid by lati/long
            HttpGet hg = new HttpGet(
                        "http://where.yahooapis.com/geocode?location=" + latlon + "&flags=J&gflags=R)");
            HttpClient hc = new DefaultHttpClient();
            HttpResponse weatherHR = hc.execute(hg);

            if (weatherHR.getStatusLine().getStatusCode() != HttpStatus.SC_OK) {
                if (DEBUG)
                    Utils.log("", "Location != HttpStatus.SC_OK");
                return null;
            } 
```

我使用了这个 API，之前它工作正常，但是从今天开始它返回一个错误，HttpStatus.SC_OK 不正常。此 API 是否已关闭？谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-18T11:16:24.907

雅虎已转向名为[BOSS](http://developer.yahoo.com/boss/geo/)的付费服务，但他们确实提供非商业服务：

> Yahoo Geo API 的非商业用途
> 
> 雅虎！继续全面支持在非商业环境中基于 Placefinder 和 PlaceSpotter 构建的开发人员应用程序。您可以通过 YQL 使用这两种服务，并且每个表的查询次数限制为 2000 个。了解有关使用 Placefinder 和 Placespotter YQL 表的更多信息。

使用[Placefinder](http://developer.yahoo.com/boss/geo/docs/free_YQL.html#table_pm)，您可以反向查找纬度和经度：

`http://developer.yahoo.com/yql/console/?q=select%20*%20from%20geo.placefinder%20where%20text%3D%2237.416275%2C-122.025092%22%20and%20gflags%3D%22R%22`

可以转换成json请求：

`http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20geo.placefinder%20where%20text%3D%2237.416275%2C-122.025092%22%20and%20gflags%3D%22R%22&format=json`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-05T09:53:10.397

是的，它已关闭，请看这里： [http ://soup.metwit.com/post/47181933854/an-alternative-to-yahoo-weather-api](http://soup.metwit.com/post/47181933854/an-alternative-to-yahoo-weather-api)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-23T09:23:57.270

A`city`也可以`location`按如下方式使用：

```
select * 
from weather.forecast 
where woeid in (
    select woeid 
    from geo.places(1) 
    where text="frankfurt"
) and u="c" 
```

哪里`"frankfurt"`可以替换为任何选择的位置。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-03-17T20:37:40.167

要通过纬度和经度获取 Yahoo Weather WOEID，您可以使用此

```
https://query.yahooapis.com/v1/public/yql?q=select%20woeid%20from%20geo.places%20where%20text%3D%22(20,34)%22%20limit%201&diagnostics=false&format=json 
```

您将收到如下回复：

```
{
  "query":{
    "count":1,
    "created":"2017-03-17T20:34:50Z",
    "lang":"es-AR",
    "results":{
      "place":{
        "woeid":"1435509"
      }
    }
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-10-10T22:24:14.233

如果还有人需要answear。您有基本网址：

> [https://query.yahooapis.com/v1/public/yql?q=](https://query.yahooapis.com/v1/public/yql?q=)

现在您必须做出正确的 YQL 语句（将 city 替换为您的城市名称）例如

> select * from geo.places where text="city"

现在您必须编码为 URI。您可以使用 javascript 方法：encodeURIComponent()。然后你必须合并 basicURL 和编码的 YQL 语句和

> &格式=json

因此，旧金山的整个链接的示例将是：

> [http://query.yahooapis.com/v1/public/yql?q=select%20](http://query.yahooapis.com/v1/public/yql?q=select%20) *%20from%20geo.places%20where%20text%3D%22san%20francisco%2C%20ca%22&format=json

现在从响应中你必须得到 WOEID 号码。您可以通过以下方式获取它： **查询>结果>地点>[0]>woeid**

所以在Javascript中它会是这样的：

```
const woeidNumber = responseObject['query']['results']['place'][0]['woeid']; 
```

# spring - 如何将 ExtJS 与 Spring 框架集成

> ID：15784178
> 
> 赞同：0
> 
> 时间：2013-04-03T09:53:44.697
> 
> 标签：spring, extjs, inversion-of-control

如何将 ExtJS 与 Spring IOC 集成？我能够与 Spring MVC 集成吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T14:51:18.840

我已经完成了这种类型的集成，但是遇到了一些问题。我的情况的最佳解决方案是：

1.  整个系统是使用 Rest 请求创建的，其中 ExtJS 通过 URL 访问查询在主应用程序中执行。

2.  该结构是使用 ExtJS MVC 模型创建的。帮助构建模型和结构请求。

像这样的项目是 Sonatype Nexus。 [http://www.sonatype.org/nexus/](http://www.sonatype.org/nexus/)

# button - 在 Apex Express 的按钮链接中使用页面项目

> ID：15784184
> 
> 赞同：0
> 
> 时间：2013-04-03T09:54:02.737
> 
> 标签：button, hyperlink, oracle11g, oracle-apex

我有一个小问题。我正在使用 Oracle Applicarion Express，我正在尝试在为按钮创建的链接中使用一些页面项目。我将按钮创建为区域按钮，并在区域中选择“单击按钮时的操作”“重定向到 URL”。在这个 URL 中，我想使用两个页面项。我已经尝试在 ":PAGE_ITEM" 或 "&PAGE_ITEM" 中使用它们。但没有办法。有人能帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:56:44.770

生成的超链接是什么样的？它看起来像的机会很大

```
f?p=<app_id>:10:<session id>::::P10_ITEM1,P10_ITEM2:, 
```

这是因为当使用替换语法时，like`&PAGE_ITEM.`会将引用项的会话状态放入字符串中。由于该按钮是在页面加载期间呈现的，因此它将使用该项目当时的会话状态。
然后，当您为 填写一个值时`PAGE_ITEM`，这不会更改该项目的会话状态——即使这样做也无所谓，因为按钮已经呈现。
如果是这种情况，那么您最好让按钮提交页面，并在验证/计算分支之前定义一个 on submit 以对该按钮进行操作。然后，您可以在分支中安全地使用所需项目的会话状态。

# c# - 从 xml 文件中检索元素

> ID：15784185
> 
> 赞同：0
> 
> 时间：2013-04-03T09:54:03.007
> 
> 标签：c#

我正在使用以下代码来检索和显示 XML 文件中的所有值。

```
private async void Button_Click_1(object sender, RoutedEventArgs e)
{
     StorageFile xmlFile = await Windows.ApplicationModel.Package.Current.InstalledLocation.GetFileAsync("Content1.xml");
     XmlDocument xmlDoc;
     xmlDoc = await XmlDocument.LoadFromFileAsync(xmlFile);                 
     System.Xml.Linq.XDocument duc = System.Xml.Linq.XDocument.Parse(xmlDoc.GetXml());

     //var query = from Date in xmlDoc.Root.Elements("Serial")
     var query = from Date in duc.Root.Elements("Serial")
                 where Date.Attribute("No").Value == "1"
                 from Current in Date.Elements("Current")
                 select new
                 {
                     value = Current.Attribute("EnglishDate").Value,
                     Arabic = Current.Attribute("ArabicDate").Value,
                     NarratedBy = Current.Attribute("Narrated").Value,
                     Content = Current.Attribute("HadithBody").Value,
                     TransmittedBy = Current.Attribute("RefferedBy").Value,
                     RefferedVerses = Current.Attribute("RefferedVerses").Value
                 };

     foreach (var Date in query)
     {
        xmlTextBlock.Text=String.Format("{0}\t{1}",Date.NarratedBy,Date.Value,Date.Arabic,Date.Content,Date.TransmittedBy,Date.RefferedVerses)+Environment+NewLine;
     }        
} 
```

这是我的 XML 文件

```
<?xml version="1.0" encoding="utf-8" ?>
  <Hadith>
    <Serial No="1">
      <Current EnglishDate="22 January 2013"
               ArabicDate="10 Rabi-Ul-Awal 1434"
               Narrated="Narrated Hasan:"
               HadithBody="Knowledge is of two types.Firstly,knowledge perceived by the heart,and that is useful knowledge"
               RefferedBy="Transmitted by:"
               RefferedVerses="Darimi-Al-Timidhi-Hadith 270">
     </Current>
   </Serial>
 </Hadith> 
```

此代码未显示所有值。我必须做什么才能显示我在 XML 文件中声明的所有值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:25:07.607

修改你的**foreach**循环代码：

```
xmlTextBlock.Text= String.Empty;
foreach (var Date in query)
     {
        xmlTextBlock.Text += String.Format("{0}\t{1}\t{2}\t{3}\t{4}\t{5}\n",
                     Date.NarratedBy,Date.Value,Date.Arabic,Date.Content,
                     Date.TransmittedBy,Date.RefferedVerses);
     } 
```

# php - 用php将每个日期的数据保存在mysql表中，然后按日期打印

> ID：15784186
> 
> 赞同：0
> 
> 时间：2013-04-03T09:54:05.803
> 
> 标签：php, mysql, phpmyadmin

我正在尝试制作一个程序，通过它我可以显示任何特定的关键字（搜索词），在特定日期搜索了多少次。
如果有人正在搜索 Stackoverflow，我想显示其搜索统计信息以获取特定数据。
例如;

```
at 2013-04-01 -> stackoverflow was searched for 15 times<br>
at 2013-04-02 -> stackoverflow was searched for 28 times<br>
at 2013-04-03 -> stackoverflow was searched for 10 times<br> 
```

我希望现在你会明白我想说什么。，。
现在让我展示一下我为制作这个程序所做的工作。

看到这个代码

```
<?php
$keyword = null;

if (!empty($_GET['s'])) {

$keyword = stripslashes($_GET['s']);

try {

    $objDb = new PDO('mysql:dbname=test;charset=UTF-8', 'root', '');

    $sql = "INSERT INTO `search` (`keyword`)
            VALUES (:keyword)
            ON DUPLICATE KEY UPDATE `times` = `times` + 1";

    $statement = $objDb->prepare($sql);
    $statement->execute(array(':keyword' => $keyword));

} catch(PDOException $e) {
    echo $e->getMessage();
}

  }

  try {

$objDb = new PDO('mysql:dbname=test;charset=UTF-8', 'root', '');

  $sql = "SELECT `s`.*,
        IF (
            (
                SELECT `id`
                FROM `search` 
                ORDER BY `date` DESC
                LIMIT 0, 1
            ) = `s`.`id`,
            1,
            0
        ) AS `latest`
        FROM `search` `s`
        ORDER BY `date` DESC LIMIT 0, 50";

$statement = $objDb->query($sql);
$result = $statement->fetchAll(PDO::FETCH_ASSOC);

  } catch(PDOException $e) {
echo $e->getMessage();
  }

  ?>
  <!DOCTYPE HTML>
 <html lang="en">
 <head>
<meta charset="utf-8" />
<title>Save search requests to database</title>
<meta name="description" content="Save search requests to database" />
<meta name="keywords" content="Save search requests to database" />
<link href="/css/core.css" rel="stylesheet" type="text/css" />
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>
  <body>

  <section id="wrapper">    

 <form method="get">
     <input type="text" name="s" id="search" class="field" value="<?php echo    $keyword; ?>" />
    <input type="submit" class="button" value="Search" />
</form>

<?php if (!empty($result)) { ?>

    <table cellpadding="0" cellspacing="0" border="0" class="tbl_repeat">
        <tr>
            <th>Keyword</th>
            <th class="tar">Searched</th>
        </tr>
        <?php foreach($result as $row) { ?>
        <tr<?php echo $row['latest'] == 1 ? ' class="active"' : null; ?>>
            <td><?php echo $row['keyword']; ?></td>
            <td class="tar"><?php echo $row['times']; ?></td>
        </tr>
        <?php } ?>
    </table>

 <?php } else { ?>
    <p>There are currently no searches available.</p>
 <?php } ?>

  </section>

  </body>
  </html> 
```

这是一个简单的程序，它将最近搜索的关键字保存在数据库中并显示在网页上，它还显示关键字被搜索的次数。实际上它只是用更新的时间戳替换当前时间戳。
现在任何人都可以帮忙添加一个特定条件来检查今天的日期，然后它将在数据库中添加条目，如果在同一天研究了该特定单词，那么它将仅使用更新的时间戳更新 current_timestamp。我只想根据日期划分最近的搜索查询。

这是在您的数据库中制作此表的代码

```
CREATE TABLE IF NOT EXISTS `search` ( <br>
`id` int(11) unsigned NOT NULL AUTO_INCREMENT, <br>
`keyword` varchar(100) NOT NULL, <br>
`times` int(11) unsigned DEFAULT '1', <br>
`date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, <br>
 PRIMARY KEY (`id`), <br> 
 UNIQUE KEY `keyword` (`keyword`) <br>
 ) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=301 ; <br> 
```

请用示例数据回复..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:07:38.390

怎么样

```
SELECT keywords, COUNT(*) as no_of_times, date 
FROM search 
GROUP BY date, keywords 
```

这会给你类似的东西

```
keywords      | no_of_times | date       |
------------------------------------------
stackoverflow |    25       | 2012-10-12 |
meta          |    10       | 2012-10-12 | 
```

[**演示**](http://sqlfiddle.com/#!2/f634a/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:14:36.143

我有一个简单的解决方案，我现在可以想到。

```
$search_term = $_POST['search_term'];
$date = $_POST['date'];

$select = mysqli_query("select * from search where keyword='$search_term' and date='$date'");
$rowCheck = mysqli_num_rows($select);
if($rowCheck>0) {
 $fetch = mysqli_fetch_array($select);
 $times = $fetch['times'];
 $update_query = // RUN UPDATE QUERY HERE
} else {
  // RUN INSERT QUERY HERE
} 
```

希望这可以帮助

# jquery - Jquery在悬停时增加div大小？

> ID：15784194
> 
> 赞同：2
> 
> 时间：2013-04-03T09:54:32.447
> 
> 标签：jquery, css

如何在悬停时增加 div 大小？每个 div 都有相同的类名，它是动态创建的。我试过这段代码：

```
<script type="text/javascript">
$('.resultitem').bind('mouseover', function() {
    $(this).addClass('hovers');
    $('.resultitem').not('.hover').css({ opacity: 0.3 });
});
$('.resultitem').bind('mouseout', function() {
    $('.resultitem').removeClass('hovers').fadeTo('normal',1);
});
</script>

<style type="text/css">
.hovers {
    width:300px;
    height:400px;
}
img.hovers {
    width:300px;
    height:300px;
}
</style> 
```

它改变了其他div的对齐方式？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-03T10:02:11.970

使用 CSS3`transform: scale(1.1)`

```
.resultitem{
  width:150px;
  height:150px;
  background:#48e;
  -webkit-transition: 0.5s;
          transition: 0.5s;
}

.resultitem:hover{
  background:#59f;
  -webkit-transform: scale(1.1);
          transform: scale(1.1);
}
```

```
<div id="parent">
  <img class="resultitem" />
  <img class="resultitem" />
  <img class="resultitem" />
  <img class="resultitem" />
  <img class="resultitem" />
  <img class="resultitem" />
</div>
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T09:57:22.813

您是否有理由不使用纯 CSS？

[jsFiddle](http://jsfiddle.net/Tyriar/DkGtw/2/)

```
.sizeMe {
    width:300px;
    height:300px;
    background-color:#F00;
    opacity:0.3;
    /* use 'opacity 1s ease' for just opacity */
    -webkit-transition:all 1s ease;
    -moz-transition:all 1s ease;
    transition:all 1s ease;
}
.sizeMe:hover {
    height:400px;
    opacity:1;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:06:59.957

试试这个jquery

```
$("#div1").hover(function () {
                $("#div1").addClass("divclass");
            }, function () {
                $("#div1").removeClass("divclass");
            }); 
```

html

```
 <div id="div1" >
            HTML borders are best created with CSS.
</div> 
```

风格

```
<style>
.divclass{width:200px;height:100px;border:1px solid blue;}
</style> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T09:58:35.590

使用 CSS

```
add $(this).addClass('resize');

.resize:hover {
    width:Xpx;
    height:Ypx
} 
```

# heroku - 我的 Heroku 应用程序需要多少个测功机？

> ID：15784197
> 
> 赞同：0
> 
> 时间：2013-04-03T09:54:40.487
> 
> 标签：heroku

我们想将我的应用程序迁移到 Heroku，实际上我们有 3 个相关的应用程序，我们想迁移到 Heroku。但是我们不知道部署这些应用程序需要多少测功机。是否在同一个测功机中使用 3 个应用程序并在其他测功机中进行复制，或者为每个应用程序制作一个测功机？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:36:56.577

如果它们是 3 个独立的应用程序，则您至少需要 3 个 dyno，因为每个 Heroku 应用程序都需要运行一个 dyno。

至于每个应用程序需要运行多少个测功机，这一切都取决于每个站点的繁忙程度以及处理请求需要多长时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-26T11:18:16.087

我只能代表 Java 和嵌入式服务器/容器。在这种情况下，您实际上可以将多个应用程序部署到您的容器中（将从您的测功机开始），只使用一个测功机。

# vbscript - 如何在 VBScript 中重置 StdOut 的流

> ID：15784198
> 
> 赞同：0
> 
> 时间：2013-04-03T09:54:41.720
> 
> 标签：vbscript, stdout, ping

每次登录我的工作计算机时，我想使用 VB 脚本（[Pastebin中的完整脚本）来检查某些服务器是否已启动（响应 ping）。](http://pastebin.com/kenUXybK)

但是，似乎我正在获取输出的全部结果......

```
strPingResultsFull = LCase(WshExec.StdOut.ReadAll) 
```

...在我遍历各个行之前...

```
Do Until WshExec.StdOut.AtEndOfStream 
```

...那`WshExec.StdOut`已经是`AtEndOfStream`，所以我永远不会得到任何结果。

我探索的第一部分——这个理论是否正确（或可能正确）？第二部分 - 我如何解决这个问题（即重置流以便我可以单独检查每一行）？谢谢。

```
' Set the targets to ping
strTarget(0) = "192.168.1.6"    ' TTSA
strTarget(1) = "192.168.1.7"    ' TTSB
strTarget(2) = "192.168.1.14"   ' TTSC
strTarget(3) = "192.168.1.12"   ' TTSD

Set WshShell = WScript.CreateObject("WScript.Shell")

' Loop through all of the targets to ping
For i = 0 To UBound(strTarget)

    ' Ping the target
    Set WshExec = WshShell.Exec("ping -n 2 -w 500 " & strTarget(i)) ' Send 2 echo requests, waiting 0.5 seconds maximum

    ' Grab the full results of the ping
    strPingResultsFull = LCase(WshExec.StdOut.ReadAll)

    ' Set 'strPingResultsPart' to an empty string
    strPingResultsPart = ""

    ' Grab the results of the ping
    Do Until WshExec.StdOut.AtEndOfStream

        strSingleLine = WshExec.StdOut.ReadLine()
        If Instr(strSingleLine, "Ping statistics for") <> 0 Or Instr(strSingleLine, "Packets:") <> 0 Then
            strPingResultsPart = strPingResultsPart & strSingleLine
        End If

    Loop

    ' Check that there is something to output (there should be, even if the pings all fail)
    If strPingResultsPart <> "" Then

        Msgbox "Not empty - " & strPingResultsPart
        ' Add the ping results to the correct results strings
        If InStr(strPingResultsFull, "reply from") Then     
            strOutputSuccess = strOutputSuccess & strPingResultsPart & VBCrLf
        Else
            strOutputFailure = strOutputFailure & strPingResultsPart & VBCrLf
        End If

    End If

    Set WshExec = Nothing

Next 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:18:01.003

在第一次打电话后`WshExec.StdOut.ReadAll`，你已经在`AtEndOfStream`……

```
Do Until WshExec.StdOut.AtEndOfStream 
```

……什么都不做。您不能`StdOut`多次回过头来阅读它。

# eclipse - 在 Java 项目中使用 Eclipse JDT 解析器

> ID：15784207
> 
> 赞同：1
> 
> 时间：2013-04-03T09:54:56.693
> 
> 标签：eclipse, maven, sbt

我在项目中集成 Eclipse JDT 时遇到问题。

我添加了以下依赖项`sbt`

```
libraryDependencies += "org.eclipse.jdt" % "core" % "3.3.0-v_771" 
```

但我得到以下缺少的依赖项：

```
[warn]  :: org.eclipse.equinox#app;[1.0.0,2.0.0): not found
[warn]  :: org.eclipse.equinox#common;[3.3.0,4.0.0): not found 
```

我是否缺少任何存储库或任何`sbt`配置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-01T04:14:26.867

Eclipse JDT jars 在 Maven Central 上，所以添加新的解析器在这里没有帮助。（除了现在是 [https://repo.eclipse.org](https://repo.eclipse.org)）。

根据[org.eclipse.jdt/core](http://mvnrepository.com/artifact/org.eclipse.jdt/core)，最新的发布版本是 3.2.0.666 所以试试这个：

```
libraryDependencies += "org.eclipse.jdt" % "core" % "3.2.0.666" 
```

## 笔记

我不得不挖掘一下，看看为什么 3.3.0-v_771 不起作用。需要依赖关系的某个地方`org.eclipse.equinox#app;[1.0.0,2.0.0)`。根据[org.eclipse.equinox/app](http://mvnrepository.com/artifact/org.eclipse.equinox/app) ，唯一可用的修订版是 1.0.0-v20070606。

Maven 的[依赖调解和冲突解决](http://docs.codehaus.org/display/MAVEN/Dependency+Mediation+and+Conflict+Resolution)说：

> 如果限定符不存在，则它比存在时更新

也就是说，1.0.0-v20070606 < 1.0.0，所以不符合条件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:05:08.707

[Maven - Eclipsepedia](http://wiki.eclipse.org/Maven)告诉我们 Eclipse Maven 存储库是 [http://maven.eclipse.org/nexus/](http://maven.eclipse.org/nexus/)请把它添加到你的 pom.xml 中。

我希望这可能会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-11T06:12:55.453

您现在可能想使用 JDT 核心的最新版本 ( [3.12.2](https://search.maven.org/#artifactdetails%7Corg.eclipse.jdt%7Corg.eclipse.jdt.core%7C3.12.2%7Cjar) )。

```
libraryDependencies += "org.eclipse.jdt" % "org.eclipse.jdt.core" % "3.12.2" 
```

这是一种在 maven Central 上 plublish eclipse 库的[新方法](https://objectteams.wordpress.com/2017/01/09/eclipse-neon-2-is-on-maven-central/)（简单版本号、依赖项的标准 maven 元数据、源工件、第 3 方依赖项......）。请报告这是否适合您。

# python - 使用python将数据从xml存储到数据库

> ID：15784208
> 
> 赞同：3
> 
> 时间：2013-04-03T09:55:03.030
> 
> 标签：python, xml, django, xml-parsing

1) 我需要将数据从 xml 文件保存到数据库并在 UI 中显示保存的数据。

2）我正在使用mysql作为数据库。

我的 xml 文件是

```
<!-- books.xml -->
<catalog>
  <book isbn="1-880985-26-8">
    <title>The Consumer</title>
    <author>M. Gira</author>
  </book>
  <book isbn="0-679775-43-9">
    <title>The Wind-Up Bird Chronicle</title>
    <author>Haruki Murakami</author>
  </book>
  <book isbn="0-679775-13-6">
    <title>Deccon Chronicle</title>
    <author>Kulkarni</author>
  </book>
  <book isbn="0-679775-93-6">
    <title>Python</title>
    <author>David varner</author>
  </book>
</catalog> 
```

如何编写views.py或filename.py来执行上述操作。我是python和xml的新手。我能得到专家的帮助吗？

实际上在我的 bookhandler.py 中我这样做了，

```
from sqlalchemy import *
from sqlalchemy.orm import *

import xml.sax.handler

pg_db = create_engine('postgres:///testdb?user=homer')

metadata = MetaData(pg_db)

books_table = Table('books', metadata, autoload=True)

class Book(object):
    pass

mapper(Book, books_table)

class BookHandler(xml.sax.handler.ContentHandler):
    def __init__(self):
        self.buffer = ""
        self.inField = 0
        self.session = create_session(bind=pg_db)

    def startElement(self, name, attributes):
        if name == "book":
            self.isbn = attributes["isbn"]
        elif name == "title":
            self.inField = 1
        elif name == "author":
            self.inField = 1

    def characters(self, data):
        if self.inField:
            self.buffer += data

    def endElement(self, name):
        if name == "book":
            self.session.begin()
            self.newbook = Book()
            self.newbook.isbn = self.isbn
            self.newbook.title = self.title
            self.newbook.author = self.author
            self.session.save(self.newbook)
            self.session.commit()
        elif name == "title":
            self.inField = 0
            self.title = self.buffer
        elif name == "author":
            self.inField = 0
            self.author = self.buffer
        self.buffer = "" 
```

我用于存储数据的 models.py 是

```
class Book(models.Model):
    ISBN=models.AutoField(primary_key=True,unique=True)
    title=models.CharField(max_length=30)
    author=models.CharField(max_length=40) 
```

我运行了应用程序，但没有得到结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:16:58.783

JSON 是解决此类问题的数据库存储解决方案。这可能会起作用：

[https://github.com/hay/xml2json](https://github.com/hay/xml2json)

> python setup.py 安装

准备出发：

```
import xml2json
import json

s = '''<?xml version="1.0"?>
<catalog>
  <book isbn="1-880985-26-8">
    <title>The Consumer</title>
    <author>M. Gira</author>
  </book>
  <book isbn="0-679775-43-9">
    <title>The Wind-Up Bird Chronicle</title>
    <author>Haruki Murakami</author>
  </book>
  <book isbn="0-679775-13-6">
    <title>Deccon Chronicle</title>
    <author>Kulkarni</author>
  </book>
  <book isbn="0-679775-93-6">
    <title>Python</title>
    <author>David varner</author>
  </book>
</catalog>'''

### Storage data:
print xml2json.xml2json(s)

### Parsing to use:
json_data = json.loads(xml2json.xml2json(s)) 
```

# php - 基于 SQL 操作表背景颜色，参数为表值

> ID：15784210
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:06.007
> 
> 标签：php, javascript, html

我正在尝试开发我的网站。有一张我作为按钮制作的表格。我用 JavaScript 得到按钮的值，如下所示：

```
<script>
    function setvalue(values) {
        document.getElementById('posisi').value = values;
    }
</script> 
```

我的表格的 HTML：

```
<table width="1023" height="248" border="1">
  <tr>
    <th colspan="2" scope="col">A1</th>
    <th colspan="2" scope="col">A2</th>
    <th colspan="2" scope="col">A3</th>
</tr>
<tr>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A1.4" /></td>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A1.8" /></td>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A2.4" /></td>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A2.8" /></td>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A3.4" /></td>
    <td><div align="center"><input type="button" onclick="popup_window_show('#sample', { pos : 'tag-right-down',   parent : this, width : '270px' });setvalue(this.value);" value="A3.8" /></td>
</tr>
</table> 
```

我尝试使用此 JavaScript 操作背景颜色：

```
<script type="text/javascript">
var htmlobjek;
$(document).ready(function(){ 
     var pid = "document.getElementById('posisi').value = values";
    $.ajax({
        url: "cek.php",
        data: "pid="+posisi,
        cache: false,
        success: function(data) { 
```

我的算法当我的 SQL 在 cek.php 中成功时，我将回调并显示在当前页面中以操纵表格背景颜色。

在 cek.php 我的 SQL 是这样的：

```
SELECT ..
FROM..
WHERE posisi='S_POST[posisi]' 
```

我将计算结果（使用 this `mssql_num_row(sql)`）。如果结果有值，表格的背景颜色将为红色。如果不是，它将是绿色的。这就是让我感到困惑的地方。对我的网站有任何想法吗？我希望你明白我的意思。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:14:35.050

你应该使用这样的成功功能......

```
 success: function() 
{

   if(rsp.success)
   { 
```

在这里设置`rsp`为背景色}

```
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-12T08:18:14.853

```
var ajaxCall = $.ajax({
    url: "cek.php",
    type:'POST',
    data: {"data": i},
    cache: false,
}).done( function (data) {
    $("#cek").val(data);
}).fail( function () {
    alert('I can not send ajax here');
});

// Now anywhere in your script:
ajaxCall.done( function (data) {
    var k = $("#cek").val();
    // You can now even do:
    // var k = data;
    if(k == "0"){
        $(".data").css("background-color", "#00CC00");//green
    }
    else {
        $(".data").css("background-color", "#FF0000");//red
    }
}); 
```

# r - 如何安装使用头文件（RJSONIO、Rcpp）的 R 包？

> ID：15784214
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:17.607
> 
> 标签：r, rcpp, rjsonio

我无法安装多个 R 包，因为它们总是在第一个包含语句中失败。这是我为 Rcpp 得到的错误：

```
install.packages("/Users/nacho/Downloads/Rcpp_0.10.3.tar.gz", repos=NULL, type="source")
Installing package(s) into ‘/Users/nacho/Library/R/2.15/library’
(as ‘lib’ is unspecified)
* installing *source* package ‘Rcpp’ ...
** package ‘Rcpp’ successfully unpacked and MD5 sums checked
** libs
c++ -I/usr/local/Cellar/r/2.15.2/R.framework/Resources/include -DNDEBUG -fopenmp -I/usr/local/include   -fopenmp -fPIC  -g -O2  -c Date.cpp -o Date.o
clang: warning: argument unused during compilation: '-fopenmp'
clang: warning: argument unused during compilation: '-fopenmp'
Date.cpp:29:10: fatal error: 'Rcpp/Datetime.h' file not found
#include <Rcpp/Datetime.h>
         ^
1 error generated.
make: *** [Date.o] Error 1
ERROR: compilation failed for package ‘Rcpp’
* removing ‘/Users/nacho/Library/R/2.15/library/Rcpp’
Warning message:
In install.packages("/Users/nacho/Downloads/Rcpp_0.10.3.tar.gz",  :
  installation of package ‘/Users/nacho/Downloads/Rcpp_0.10.3.tar.gz’ had non-zero exit status 
```

对于 RJSONIO，我得到了同样的错误

```
install.packages("/Users/nacho/Downloads/RJSONIO_1.0-3.tar.gz", repos=NULL, type="source")
Installing package(s) into ‘/Users/nacho/Library/R/2.15/library’
(as ‘lib’ is unspecified)
* installing *source* package ‘RJSONIO’ ...
** package ‘RJSONIO’ successfully unpacked and MD5 sums checked
Trying to find libjson.h header file
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
USE_LOCAL = ""
Minor Version: 6
Using local libjson code. Copying files from src/libjson/Source
/private/var/folders/tl/_8_djcq15pl01ht8z6hy9tww0000gn/T/RtmpMKCuPF/R.INSTALL116ed562675dc/RJSONIO
JSONAllocator.cpp
JSONChildren.cpp
JSONDebug.cpp
JSONIterators.cpp
JSONMemory.cpp
JSONNode.cpp
JSONNode_Mutex.cpp
JSONPreparse.cpp
JSONStream.cpp
JSONValidator.cpp
JSONWorker.cpp
JSONWriter.cpp
internalJSONNode.cpp
libjson.cpp
configure: creating ./config.status
config.status: creating src/Makevars
config.status: creating cleanup
** libs
cc -I/usr/local/Cellar/r/2.15.2/R.framework/Resources/include -DNDEBUG -fopenmp -I/usr/local/include   -fopenmp -fPIC  -g -O2  -c ConvertUTF.c -o ConvertUTF.o
clang: warning: argument unused during compilation: '-fopenmp'
clang: warning: argument unused during compilation: '-fopenmp'
c++ -I/usr/local/Cellar/r/2.15.2/R.framework/Resources/include -DNDEBUG -fopenmp -I/usr/local/include   -fopenmp -fPIC  -g -O2  -c JSONAllocator.cpp -o JSONAllocator.o
clang: warning: argument unused during compilation: '-fopenmp'
clang: warning: argument unused during compilation: '-fopenmp'
JSONAllocator.cpp:1:10: fatal error: 'JSONAllocator.h' file not found
#include "JSONAllocator.h"
       ^
1 error generated.
make: *** [JSONAllocator.o] Error 1
ERROR: compilation failed for package ‘RJSONIO’
* removing ‘/Users/nacho/Library/R/2.15/library/RJSONIO’
Warning message:
In install.packages("/Users/nacho/Downloads/RJSONIO_1.0-3.tar.gz",  :
installation of package ‘/Users/nacho/Downloads/RJSONIO_1.0-3.tar.gz’ had non-zero exit status 
```

我的会话信息（）

```
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin11.4.2 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     grid      methods   base

other attached packages:
[1] clickme_0.0.3   ggplot2_0.9.3.1 testthat_0.7.1  devtools_1.1

loaded via a namespace (and not attached):
 [1] colorspace_1.2-1   dichromat_2.0-0    digest_0.6.3       evaluate_0.4.3     formatR_0.7        gtable_0.1.2
 [7] httr_0.2           knitr_1.1          labeling_0.1       MASS_7.3-23        memoise_0.1        munsell_0.4
[13] parallel_2.15.2    plyr_1.8           proto_0.3-10       RColorBrewer_1.0-5 RCurl_1.95-4.1     reshape2_1.2.2
[19] scales_0.2.3       stringr_0.6.2      tools_2.15.2       whisker_0.1        yaml_2.1.7 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:17:12.527

当你尝试时会发生什么

```
 R CMD INSTALL Rcpp_0.10.3.tar.gz 
```

反而？从您显示的日志中：

```
c++ -I/usr/local/Cellar/r/2.15.2/R.framework/Resources/include -DNDEBUG \
   -fopenmp -I/usr/local/include   -fopenmp -fPIC  -g -O2  -c Date.cpp -o Date.o 
```

很明显你遗漏了一些东西。在我的 Linux 机器上（你可以忽略我使用当前 SVN 版本的事实）

```
edd@max:~/svn/rcpp/pkg$ R CMD INSTALL Rcpp_0.10.3.1.tar.gz 
* installing to library ‘/usr/local/lib/R/site-library’
* installing *source* package ‘Rcpp’ ...
** libs
ccache g++-4.7 -I/usr/share/R/include -DNDEBUG -I../inst/include/ \
   -fpic -g0 -O3 -Wall -pipe -Wno-variadic-macros -pedantic -c Date.cpp -o Date.o 
```

注意`-I../inst/include`这里？也许你覆盖`CXXFLAGS`了或什么...

# android - arm-neon asm 在 android 中与 C++ 链接时出错

> ID：15784215
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:17.960
> 
> 标签：android

我是 android 本机程序集的新手，我正在尝试将 arm-neon asm 函数与 c++ 链接。但它没有链接。我遵循了下面给出的以下网站。如果在该网站中使用该函数，它会编译和调用 armfunction，而我尝试使用我的代码显示错误未定义对 myfunction 的引用。如果我在 c 和 asm 中编写了相同的函数，则编译器正在编译，并且如果 asm 代码中存在任何错误，则它会显示错误。

[http://www.eggwall.com/2011/09/android-arm-assembly-calling-assembly.html](http://www.eggwall.com/2011/09/android-arm-assembly-calling-assembly.html)

关于VS

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:04:06.897

感谢您的回复，我们的代码看起来像

```
 .text
.global fastForwardDst
.type   fastForwardDst, %function 
```

fastForwardDst：

@做手术@

```
.size   fastForwardDst, .-fastForwardDst 
```

并保存为“forward.s”，我们在 Android.mk 中添加。

# scala - 远程参与者以 jobID 和结果未来响应

> ID：15784222
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:33.580
> 
> 标签：scala, akka

在不同 JVM 上的远程 Akka 参与者之间发送消息是否安全/可行？我怀疑不是。那么我怎样才能实现以下目标。关键方面是试图让回复（Ack）返回未来的结果，以及允许取消的引用。

```
case class BigJob()
case class Ack(jobId: Long, result: Future[Int])
case class Cancel(jobID: Long)

val ack = (remoteActor ? BigJob()).mapTo[Ack]

if(changedMyMind) remoteActor ! Cancel(ack.jobID)
else ack.result foreach println 
```

**更新：**我正在使用 Scala 2.10.1 和 Akka 2.1.2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:47:25.713

对于远程演员，您可以使用额外的等待演员：

```
var myActor = actor {
  var waitingSender: Option[OutputChannel[Any]] = None
  var result: Option[BigJobResult] = None
  val jobID = remoteActor !? StartBigJob() match { case l: Long => l }
  loop {
    react {
      case "stop" =>
        remoteActor ! Cancel(jobID)
        exit
      case "getResult" => result match {
        case Some(r) =>
          sender ! r
          exit
        case None => waitingSender = Some(sender)
      }
      case r: BigJobResult => waitingSender match {
        case Some(s) =>
          s ! r
          exit
        case None => result = Some(BigJobResult)
      }
    }
  }
}.start 

if(changedMyMind) myActor ! "stop" 
else myActor !? "getResult" ... 
```

**更新**：使用`akka`.

```
case object ChangedMyMind
case object GetResult
case object BigJob
case class BigJobResult(i: Int)
case class Cancel(jobId: Long)
case class JobStarted(jobId: Long)

val remoteActor = actor( new Act {
  become {
    case c: Cancel => println(c); context.stop(self)
    case BigJob =>
      val target = sender
      sender ! JobStarted(666)
      Future{ Thread.sleep(10000); target ! BigJobResult(13) }
  }
})

val a = actor(new ActWithStash {
  whenStarting { remoteActor ! BigJob }
  become {
    case JobStarted(jobId) => unstashAll(); becomeStacked {
      case ChangedMyMind => remoteActor ! Cancel(jobId); context.stop(self)
      case r: BigJobResult => unstashAll(); becomeStacked {
        case GetResult => sender ! r; context.stop(self)
        case ChangedMyMind => context.stop(self)
      }
      case GetResult => stash()
    }
    case ChangedMyMind | BigJobResult(_) | GetResult => stash()
  }
})

if(changedMyMind) a ! ChangedMyMind
else (a ? GetResult) foreach println 
```

# iphone - dequeueReusableCellWithIdentifier 为 iPhone 返回 nil。连接两个故事板中的一个班级

> ID：15784223
> 
> 赞同：1
> 
> 时间：2013-04-03T09:55:37.257
> 
> 标签：iphone, objective-c, uitableview

我正在尝试为 iPhone 和 iPad 故事板使用一个类（DetailCell）。我有以下代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
        static NSString * cellIdentifier = @"DetailCell";
        DetailCell * detailCell = [self.tableView dequeueReusableCellWithIdentifier:cellIdentifier];
        if (detailCell == nil) {
            detailCell = [[DetailCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"DetailCell"];
        }
        //cell customization here...
    return detailCell;
} 
```

它非常适用于 iPad，但不适用于 iPhone！所有标识符、连接和类设置正确。我还尝试擦除两个板上的单元格并创建新单元格。我实际拥有的：

在 iPad 上：

我在双端队列中获取单元格，因此它不会进入 if 并根据需要返回单元格。

在 iPhone 上：

deque 返回 nil，如果它返回 DetailCell，但它的自定义不起作用。（在设置值之前和之后所有的出口都是零）这种行为的原因是什么？

PS在iOS5和iOS6上

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:16:27.997

尝试这个。静态 NSString * cellIdentifier = @"DetailCell";

```
DetailCell * detailCell = [self.tableView dequeueReusableCellWithIdentifier:cellIdentifier];

if (detailCell == nil)
{
    detailCell = [[DetailCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"DetailCell"];

    NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"YourNibName" owner:self options:nil];
    for (id oneObject in nib) if ([oneObject isKindOfClass:[DetailCell class]])
        cell = (DetailCell *)oneObject;
}
//cell customization here...
return detailCell; 
```

# ruby-on-rails - Bundler 不会在生产 Rails 应用程序中加载 gem

> ID：15784224
> 
> 赞同：3
> 
> 时间：2013-04-03T09:55:38.080
> 
> 标签：ruby-on-rails, ruby, gem, bundler

我遇到了一个问题，即捆绑程序没有在 Rails 应用程序中加载单个 gem，而仅在生产中加载 - 在开发模式下使用 gem 没有问题。

gem 是[country_select](https://rubygems.org/gems/country_select)，我们已经在 1.1.3 版本和 github 存储库中进行了尝试。该应用程序使用的是 rails 3.2.11。

### 证明 gem 存在于服务器上

打包器在生产环境中成功安装 gem：

```
$ RAILS_ENV=production bundle install
...
Using coffee-rails (3.2.2)
Using country_select (1.1.3)
Using daemons (1.1.9)
...
Your bundle is complete! It was installed into /home/deploy/rails-app/shared/bundle 
```

gem 出现在 bundler 安装到的共享 gem 目录中：

```
$ ls -al /home/deploy/rails-app/shared/bundle/ruby/1.9.1/gems/ | grep country
drwxrwxr-x  3 deploy deploy 4096 Apr  3 08:49 country_select-1.1.3 
```

从控制台启动 rails 时会加载 gem：

```
$ RAILS_ENV=production script/rails c
Loading production environment (Rails 3.2.11)
irb(main):002:0> Gem.loaded_specs.keys.grep /country/
=> ["country_select"] 
```

### 然而...

在 rails 应用程序中对 gem 的相同检查`country_select`失败。例如：

```
class ApplicationController < ActionController::Base

  before_filter do
    raise Gem.loaded_specs.keys.grep(/country/).inspect
  end

  #...
end 
```

吐出`[]`- 即未加载 gem。另外，依赖 gem 的应用程序的某些部分由于它不存在而失败。

## 最后，问题

简单地在启动中添加一个`require 'country_select'`地方意味着 gem 被加载，并且应用程序工作。但是为什么 bundler 不使用那个特定的 gem，尽管它会安装它并将它添加到应用程序的 gem 目录中呢？

### 有关生产环境的更多信息：

```
$ rvm -v
rvm 1.18.18 (stable)...
$ ruby -v
ruby 1.9.3p392 (2013-02-22 revision 39386) [x86_64-linux]
$ gem -v
1.8.25
$ bundle -v
Bundler version 1.3.2 
```

## 更新：2013 年 4 月 5 日

问题似乎已经*“消失”了*。经过几次重新部署后，它似乎正在工作。尽管没有更改 country_select gem，这**很**奇怪。我仍在研究那段时间到底发生了什么变化，但我很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T01:00:10.830

尝试运行

```
RAILS_ENV=production bundle exec script/rails c 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-05T10:52:29.247

我有一个使用相同版本的应用程序，我不需要在开发或生产中使用 gem。我也和你一起尝试过，`before_filter`并得到了`["country_select"]`预期的结果。所以问题不在于宝石。

我认为您要么在某个地方（不太可能）在初始化时到处乱搞加载的 gem，要么在服务器周围的设置出现问题。你是用 启动服务器`RAILS_ENV=production bundle exec script/rails server`吗？您能否检查服务器正在使用的 gem 路径是否包括您在问题中提到的共享 gem 路径？

# ios - 如何以编程方式将 iPhone 中的实时流媒体视频静音

> ID：15784225
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:38.470
> 
> 标签：ios, objective-c, volume, avplayer

我正在使用 AVPlayer 在 iPhone 中播放实时流媒体视频。我想关闭播放器的音量（以编程方式）。我试过这个[http://developer.apple.com/library/ios/#qa/qa1716/_index.html](http://developer.apple.com/library/ios/#qa/qa1716/_index.html)。但在我的情况下它不起作用。

```
AVURLAsset *asset = [AVURLAsset URLAssetWithURL:[self myAssetURL] options:nil];
NSArray *audioTracks = [asset tracksWithMediaType:AVMediaTypeAudio];

// Mute all the audio tracks
NSMutableArray *allAudioParams = [NSMutableArray array];
for (AVAssetTrack *track in audioTracks) {
    AVMutableAudioMixInputParameters *audioInputParams =[AVMutableAudioMixInputParameters audioMixInputParameters];
    [audioInputParams setVolume:0.0 atTime:kCMTimeZero];
    [audioInputParams setTrackID:[track trackID]];
    [allAudioParams addObject:audioInputParams];
}
AVMutableAudioMix *audioZeroMix = [AVMutableAudioMix audioMix];
[audioZeroMix setInputParameters:allAudioParams];

// Create a player item
AVPlayerItem *playerItem = [AVPlayerItem playerItemWithAsset:asset];
[playerItem setAudioMix:audioZeroMix]; // Mute the player item

// Create a new Player, and set the player to use the player item 
// with the muted audio mix
AVPlayer *player = [AVPlayer playerWithPlayerItem:playerItem];

// assign player object to an instance variable
self.mPlayer = player;

// play the muted audio
[mPlayer play]; 
```

请为此提出任何解决方案。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-20T10:07:52.940

您可以使用[此处] 可用**的 MPVolumeView**类。它有一个音量控制滑块，也适用于 HTTP Live Streams。（[http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPVolumeView_Class/Reference/Reference.html](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPVolumeView_Class/Reference/Reference.html)）

# c# - EWS 无法在 Windows Azure 上运行

> ID：15784227
> 
> 赞同：1
> 
> 时间：2013-04-03T09:55:40.000
> 
> 标签：c#, asp.net, azure, exchange-server, exchangewebservices

我目前正在开发 Windows Azure 服务，我必须实现从 Exchange 服务器导入一些项目。当我在本地模拟器上测试它时一切正常，我可以导入项目，但部署在云上它停止工作。

这是我得到的例外：

> 异常类型：ServiceResponseException 异常消息：发生内部服务器错误。操作失败。

我使用的代码：

```
service = new ExchangeService(ExchangeVersion.Exchange2007_SP1);
service.UseDefaultCredentials = false;
service.Credentials = new NetworkCredential(userName, password, domain);
service.Url = new Uri(serverUrl);

itemPropertySet = new PropertySet(BasePropertySet.FirstClassProperties);
itemPropertySet.RequestedBodyType = BodyType.Text;

CalendarView calendarView = new CalendarView(fromDate, toDate);
List<ExchangeTask> tasks = new List<ExchangeTask>();
try
{
    FindItemsResults<Appointment> appointments = service.FindAppointments(WellKnownFolderName.Calendar, calendarView);

    if (appointments.TotalCount > 0)
    {
        service.LoadPropertiesForItems(appointments, itemPropertySet);
    }
    foreach (Appointment app in appointments)
    {
        tasks.Add(new ExchangeTask() { Name = app.Subject, Description = app.Body, DeadLine = app.End.ToString() });
    }
    return tasks;
}
catch (Exception ex)
{
    throw ex;
} 
```

**编辑1：** 这不是防火墙问题，因为如果我输入的用户名或密码不正确，则会引发未经授权的异常，因此它会连接到服务器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T11:29:57.527

经过3天的痛苦，我解决了这个问题。问题是我没有在类的构造函数中指定**时区**`ExchangeService`。我的构造函数现在看起来像这样：

`ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2007_SP1, TimeZoneInfo.FindSystemTimeZoneById("Eastern Standard Time"));`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:53:31.497

您应该检查 Windows Azure 上 VM 的防火墙策略

# intel - 如何开始使用图书馆 intel ipp？

> ID：15784228
> 
> 赞同：3
> 
> 时间：2013-04-03T09:55:40.757
> 
> 标签：intel, intel-ipp

我得到了这份工作：1。产生一个正弦信号。2．使用 FFT 构建其频谱。首先，我为 Visual Studio 2010 安装了 Intel Parallel Studio XE 2011。在 vs 2010 中出现了 Fortran。但是任务写在c++上。有些东西没有得到它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-13T16:23:57.150

[这](https://software.intel.com/en-us/articles/intel-ipp-71-documentation)应该是使用 Intel 的 ipp 的一个很好的起点。

您还应该查看[示例](http://software.intel.com/en-us/articles/code-samples-for-intel-integrated-performance-primitives-intel-ipp-library-71)以更好地了解正在发生的事情，特别是信号处理部分是您正在寻找的。

IPP 使用起来非常难看，但是，它非常非常快。

# python-2.7 - 用于将 .wav 文件转换为 ogg 文件的 Python 库

> ID：15784230
> 
> 赞同：1
> 
> 时间：2013-04-03T09:55:45.267
> 
> 标签：python-2.7, ogg, wave

任何人都可以建议一个 Python 库（在 Windows 上）将`wav`文件转换为[Pymedia](http://pymedia.org/tut/)模块`ogg`以外的文件。通过使用 Pymedia 模块，我无法从 wav 转换为 ogg 文件。

使用 pymedia 我可以将 wav 转换为 mp3 文件，但如果我尝试转换为其他格式，则会引发即时调试器错误，请任何人帮助我解决我的问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:29:03.713

尝试使用`oggenc` [http://www.rarewares.org/ogg-oggenc.php](http://www.rarewares.org/ogg-oggenc.php)

如果您使用的是 64 位 Windows，您可以获取[http://www.rarewares.org/files/ogg/oggenc2.87-1.3.3-x64.zip](http://www.rarewares.org/files/ogg/oggenc2.87-1.3.3-x64.zip)

（`oggenc -h`给出用法。）

# hibernate - JPA 三重“@JoinTable”注释

> ID：15784233
> 
> 赞同：0
> 
> 时间：2013-04-03T09:55:57.143
> 
> 标签：hibernate, jpa, join

我需要加入 3 张桌子：

```
doc    
--------   
id   
id_user     

user      
--------   
id   
id_firm

firm     
--------      
id 
```

在 SQL 中，它给出：

```
SELECT * FROM DOC d join USER u on d.id_user=u.id join FIRM f on f.id=u.id_firm 
```

我尝试：

```
@JoinTable(name = "user", 
    joinColumns = { @JoinColumn(name = "id_user", referencedColumnName = "id") }) 
```

但它不起作用（无限循环）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-29T20:27:54.017

使用 inverseJoinColumns

```
@OneToMany(fetch=FetchType.EAGER)
@JoinTable( name = "user",
joinColumns         = { @JoinColumn(name = "ID_USER") },
inverseJoinColumns  = { @JoinColumn(name = "ID_FIRM") }) 
```

# java - GAE 抛出堆溢出错误之前的最大对象大小是多少

> ID：15784240
> 
> 赞同：3
> 
> 时间：2013-04-03T09:56:04.847
> 
> 标签：java, google-app-engine

直到现在我才想到这一点，我已经使用 GAE 有一段时间了——但从来没有想到它的内存模型，因为它的 JVM 已经存在，我不能说他们正在使用哪个 JVM 或 JVM 版本。

所以我的问题是 GAE 什么时候会抛出堆溢出错误？或者至少会破坏我的应用程序或 GAE 会做什么。我不知道。

例如，我将`String`使用 sizeof 的数据推到了极限`2^31 -1`

**设计明智：**我知道这很疯狂，但这个想法与拥有数百万或数十亿或用户将数据推送到您的 GAE 应用程序中是相同的，那么您的应用程序的工作就是在持久化之前对其进行处理（序列化/反序列化）。

那么这些的堆总和将是巨大的，它们可能不会同时发生，但肯定会有一个切点，堆使用量会很大。

这是 GAE 应用程序必须考虑的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:36:12.630

您可以阅读更多关于根据您的需要为正在运行的应用程序[调整应用程序性能](https://developers.google.com/appengine/docs/adminconsole/performancesettings)的信息，并且从同一链接您可以看到每个前端类所具有的内存和 CPU。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T13:57:44.417

您需要对其进行编码，这样您就永远不会独立于用户负载运行 oom。如果您允许多线程，您的实例可能会被重用，您需要考虑到这一点。如果内存、cpu 或队列太高，appengine 会自动启动更多实例，每个实例都有自己的 ram，在应用设置中指定（128mb、256mb 等）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T14:55:26.703

GAE 上的应用程序分布在许多实例中。如果您要同时处理数百万用户，您可能会运行数千个实例。每个实例都有其 RAM（堆栈 + 堆空间）。

您的总堆可能很大，但在任何时候，您只需要管理在特定实例上运行的请求的堆，该实例一次只能处理相当有限数量的请求。不同实例类型的内存大小，请参考：

[https://developers.google.com/appengine/docs/adminconsole/performancesettings?hl=en](https://developers.google.com/appengine/docs/adminconsole/performancesettings?hl=en)

# java - 如何更改活动的层次结构父级？

> ID：15784246
> 
> 赞同：7
> 
> 时间：2013-04-03T09:56:24.847
> 
> 标签：java, android, class-hierarchy

目前它是主要活动，但我想将其更改为类别活动。这是问题所在吗？

```
@Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
    case android.R.id.home:
        // This ID represents the Home or Up button. In the case of this
        // activity, the Up button is shown. Use NavUtils to allow users
        // to navigate up one level in the application structure. For
        // more details, see the Navigation pattern on Android Design:
        //
        // http://developer.android.com/design/patterns/navigation.html#up-vs-back
        //
        NavUtils.navigateUpFromSameTask(this);
        return true;
    }
    return super.onOptionsItemSelected(item); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-03T10:07:42.980

转到`AndroidManifest.xml`，找到您的运动活动并添加此代码

```
<activity android:name="Sport" >
    <meta-data
       android:name="android.support.PARENT_ACTIVITY"
       android:value="PARENT_ACTIVITY_PATH" />
</activity> 
```

替换`PARENT_ACTIVITY_PATH`为您的父活动的名称，同时添加您的包名称（例如 com.example.Categories）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-18T01:31:21.190

离开@Mangusto。将父活动路径添加到您的 AndroidManifest 后，将此行添加到您的 Sport 活动的 onCreate 方法中 `getSupportActionBar().setDisplayHomeAsUpEnabled(true);`

# openlayers - 可以在 openlayer 中使用 nokia here REST map API 吗？

> ID：15784249
> 
> 赞同：6
> 
> 时间：2013-04-03T09:56:37.763
> 
> 标签：openlayers, here-api

我正在尝试在 OpenLayers 中使用诺基亚 Here Maps REST API，但我不知道如何使用。

1.  可以`Nokia Here Maps`在 OpenLayers 中使用吗？
2.  `Nokia Here Maps`支持TMS吗？

有谁知道如何通过 OpenLayers 或 OpenScales 使用诺基亚地图？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-09T09:04:56.280

虽然这在技术上是可行的，但除非您非常小心，否则极有可能违反 Here Maps 定位服务[条款和条件](http://developer.here.com/terms_conditions)- 特别是以下两个条款：

> 5 限制
> 
> (ii) 您不会……将多个静态地图图像拼接在一起以显示 > 大于位置平台服务文档中允许的地图；

第 5(ii) 小节将禁止在[Open Layers中使用](http://openlayers.org)[RESTful Map API](http://developer.here.com/map_image) ，因为您将有效地将地图图像平铺在一起。

> (iv) 您不会从位置平台服务中删除或掩盖任何版权或商标通知或其他类似通知或标记或图例，无论此类通知、标记、图例或其他品牌是否来自 NAVTEQ 或第三方；

第 5(iv) 小节旨在阻止有人在没有适当归属的情况下使用地图数据，因为诺基亚本身有义务在其地图上显示从第三方购买的地图数据的版权。

避免此问题的最简单方法是使用[适用于 JavaScript 的 HERE Map API](http://developer.here.com/javascript_api)，它在基本计划中公开可用，并且已经正确显示了所有必要的版权信息。

如果您决定使用 Open Layers 来显示您的诺基亚地图，则需要直接使用诺基亚的地图拼贴服务（地图拼贴服务**确实**支持 TMS） - 但该服务仅适用于企业客户。要访问此内容，您需要：

1.  [从定价计划页面](http://developer.here.com/plans)“请求具有更多功能的自定义包” - 只需单击“联系我们”按钮。
2.  然后，您可以派生一个`OpenLayers.Layer.XYZ`层，如下面的代码片段所示：

（当然，您需要使用正确的 URL、APP_ID 和 TOKEN）

```
var map = new OpenLayers.Map({
    div: "map",
    projection: "EPSG:900913",
    layers: [
        new OpenLayers.Layer.XYZ(
            "HereMap", 
            [
                "MAP_TILE_BASE_URL/${z}/${x}/${y}/256/png8?lg=ENG&app_id=YOUR_APP_ID&token=YOUR_TOKEN"
            ],
            {
                attribution: "&copy; 2013 Nokia</span>&nbsp;<a href='http://maps.nokia.com/services/terms' target='_blank' title='Terms of Use' style='color:#333;text-decoration: underline;'>Terms of Use</a></div> <img src='http://api.maps.nokia.com/2.2.4/assets/ovi/mapsapi/by_here.png' border='0'>",
                transitionEffect: "resize"
            }
        )
    ],
    center: [0, 0],
    zoom: 1
});

map.addControl(new OpenLayers.Control.LayerSwitcher()); 
```

这仍然不一定符合 5(iv)，但是因为版权归属的正确文本需要在运行时从服务器获取。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-30T00:39:56.807

1 是的，您可以将它与 OpenLayers 一起使用。正如 Jason Fox 的回答中已经指出的那样，您将需要一个应用程序 ID 和令牌。就像 gmaps 2 用来请求一样。

我要做的是创建一个扩展 OpenLayers.Layer.EventPane 的新层，以将 Here 映射附加到他的 dom 元素内。这很像我从中获取想法的 OpenLayers.Layer.Google。

2 是的。它有这个提供程序类 nokia.maps.map.provider.ImgTileProvide。

以下测试还证明了基本地图是 TileProvider 实例：

```
alert( '' + ( nokia.maps.map.Display.NORMAL instanceof nokia.maps.map.provider.ImgTileProvider ) ); 
```

# java - Spring中的异常处理程序

> ID：15784254
> 
> 赞同：6
> 
> 时间：2013-04-03T09:56:57.357
> 
> 标签：java, spring, spring-mvc

```
import org.springframework.beans.TypeMismatchException;
import javax.annotation.*;
import javax.servlet.http.*;
import org.springframework.http.HttpStatus;
import org.springframework.stereotype.Controller;
import org.springframework.context.annotation.Scope;
import org.springframework.web.bind.annotation.*;

@Controller
@RequestMapping(value = "/aa")
public class BaseController {

    @RequestMapping(value = "/bb/{number}", method = RequestMethod.GET, produces = "plain/text")
    public void test(@PathVariable final double number, final HttpServletResponse response) throws IOException {
        throw new MyException("whatever");
    }

    @ResponseBody
    @ExceptionHandler(MyException.class)
    public MyError handleMyException(final MyException exception, final HttpServletResponse response) throws IOException {
        ...
    }

    @ResponseBody
    @ExceptionHandler(TypeMismatchException.class)
    public MyError handleTypeMismatchException(final TypeMismatchException exception, final HttpServletResponse response) throws IOException {
        ...
    }

    @ResponseStatus(value = HttpStatus.INTERNAL_SERVER_ERROR)
    @ResponseBody
    @ExceptionHandler
    public MyError handleException(final Exception exception) throws IOException {
        ...
    }
} 
```

如果我调用[http://example.com/aa/bb/20](http://example.com/aa/bb/20) ，函数 handleMyException 会按预期执行。

但是，如果我调用[http://example.com/aa/bb/QQQ](http://example.com/aa/bb/QQQ) ， 我希望调用该函数`handleTypeMismatchException`，但会调用 handleException，但 type 除外`TypeMismatchException`。

一个讨厌的解决方法是测试内部异常的类型，如果异常是类型则`handleException()`调用。`handleTypeMismatchException``TypeMismatchException`

但为什么它现在起作用了？根据异常类型在运行时选择异常处理程序？还是在编译时选择？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T12:07:27.283

[来自官方春季文档](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-exceptionhandler)的摘录：

> **在控制器中使用@ExceptionHandler 方法注释来指定在控制器方法执行**期间抛出特定类型的异常时调用哪个方法

 **在实际方法执行之前，您尝试捕获的异常是由 spring 本身（字符串到双精度转换）生成的。捕捉它不在@ExceptionHandler 的规范中。这确实是有道理的——通常你不想捕获框架本身生成的异常。**

# javascript - 将鼠标悬停在 getElementById

> ID：15784262
> 
> 赞同：0
> 
> 时间：2013-04-03T09:57:14.320
> 
> 标签：javascript, html, getelementbyid

我希望有人能回答我的问题，这对你来说可能很容易，但我不太习惯 JavaScript。

所以我用这段代码做了一个菜单：

```
function tabSwitch(new_tab, new_content) {  

    document.getElementById('content_1').style.display = 'none';  
    document.getElementById('content_2').style.display = 'none';  
    document.getElementById('content_3').style.display = 'none';          
    document.getElementById(new_content).style.display = 'block';     

    document.getElementById('tab_1').className = '';  
    document.getElementById('tab_2').className = '';  
    document.getElementById('tab_3').className = '';          
    document.getElementById(new_tab).className = 'active';        

} 
```

单击时显示的区域`tab_1`等等`content_1`。但是我想在鼠标悬停在不同选项卡的区域上时显示内容。你能帮帮我吗，我在网上查了一下，但找不到任何东西，也许是因为我实际上对 JavaScript 一无所知。

所以，感谢您的时间和帮助。

**编辑：**

这是调用 TabSwitch 的地方吗...我希望如此

```
<ul class="tabs">  
    <li><a href="javascript:tabSwitch('tab_1', 'content_1');" id="tab_1" class="active"><img src="img/flash.png" /></a></li>  
    <li><a href="javascript:tabSwitch('tab_2', 'content_2');" id="tab_2"><img src="img/brush.png" /></a></li>  
    <li><a href="javascript:tabSwitch('tab_3', 'content_3');" id="tab_3"><img src="img/wheel.png" /></a></li>  
</ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:19:45.050

您可以参加[onmouseover](http://www.w3schools.com/jsref/event_onmouseover.asp)事件，因为它也支持 a 和 li 标签，另外还可以查看 onmouseout（非常相似）以了解两者。

这样，菜单元素的 li 标签将如下所示：

```
<li onmouseover="tabSwitch('tab_1', 'content_1');"><a href="#" id="tab_1" class="active"><img src="img/flash.png" /></a></li>
<li onmouseover="tabSwitch('tab_2', 'content_2');"><a href="#" id="tab_2"><img src="img/brush.png" /></a></li> 
```

当您将鼠标悬停在元素上时，将触发 Onmouseover。我想你从这里得到了这个想法。

# graphics - 使用 glBindAttribLocation 会提高性能吗？

> ID：15784266
> 
> 赞同：5
> 
> 时间：2013-04-03T09:57:28.233
> 
> 标签：graphics, opengl-es-2.0

我的理解是，它`glBindAttribLocation`允许您自定义设置属性的句柄（在链接着色器程序之前），您可以稍后在使用`glVertexAttribPointer`.

但是您不必使用它，而可能只是依靠 OpenGL 分配它在其无限智慧中选择的任何句柄。但是，您需要在`glGetAttribLocation`使用`glVertexAttribPointer`.

现在你可以在`glGetAttribLocation`每次渲染时使用，这看起来很浪费，因为你可以`glGetAttribLocation`在构建程序后只使用一次，然后存储句柄。

`glBindAttribLocation`因此，本质上，您可以通过使用或使用来存储此句柄，`glGetAttribLocation`因此在性能方面是否有任何差异，两者之间的优缺点是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T13:21:26.560

我不能多说直接的性能差异，但无论如何它应该是无关紧要的，因为无论是否使用`glBindAttribLocation`or `glGetAttribLocation`，无论如何你都是在初始化时进行的（即使这样调用`glGetAttribLocation`也不应该有那么大的伤害）。

* * *

但是显式而不是让 GL 决定的主要区别和优势`glBindAttribLocation`在于，它允许您建立自己的属性语义并保持它们对于**每个**着色器的一致性。

假设您有一大堆对象和一大堆着色器。但是每个着色器都有一些位置属性的概念（和法线，颜色，......），同样每个对象都有位置，法线的属性数据......现在`glBindAttribLocation`你可以将你的位置属性绑定到每个位置的位置 0不同的着色器。因此，当使用不同的着色器绘制对象时，它们可以使用单一顶点格式（即，您如何调用`glVertexAttribPointer`各个属性，以及各个启用调用）。

另一方面`glGetAttribLocation`，不能保证哪些属性得到哪些索引（也许一个着色器有一些额外的属性，编译器认为这是对它们重新排序的好方法，谁知道呢）。`glVertexAttribPointer`所以在这种情况下，每个对象**和**每个着色器都有不同的顶点格式（调用）。

`glVertexAttribPointer`这在使用顶点数组对象（封装所有属性状态，尤其是and`glEnableVertexAttribArray`调用）时更为重要。在这种情况下，您通常不需要（也不想）在`glVertexAttribPointer`每次使用另一个着色器绘制对象时调用。

* * *

所以底线是，始终使用`glBindAttribLocation`，充其量（在大型应用程序中）它可以为您节省许多对象和着色器管理问题以及`glVertexAttribPointer`每帧许多不必要的调用（*这*可能是性能提升），并且至少（在一个非常小型应用程序）这是一种很好的做法，可以让您对扩展保持开放和灵活。附带说明一下，在桌面 GL 3+（或使用 ARB_explicit_attrib_location 扩展）中，您甚至可以直接在着色器中分配属性位置，而无需任何 API 调用。

# c# - WCF 可扩展性消息编码器实现

> ID：15784267
> 
> 赞同：0
> 
> 时间：2013-04-03T09:57:44.000
> 
> 标签：c#, wcf, events, delegates, wcf-extensions

如何将 ReadMessage 和 WriteMessage 映射到可以控制类库之外的消息编码的事件？

```
public class CustomMessageEncoder:MessageEncoder
{
    public delegate Message ReadMessage_dlg(ArraySegment<byte> buffer, BufferManager bufferManager, string contentType);
    public delegate Message ReadMessage_dlg(System.IO.Stream stream, int maxSizeOfHeaders, string contentType);
    public static event ReadMessage_dlg OnReadMessage;
    public delegate ArraySegment<byte> WriteMessage_dlg(Message message, int maxMessageSize, BufferManager bufferManager, int messageOffset);
    public delegate void WriteMessage_dlg(Message message, System.IO.Stream stream);
    public static event WriteMessage_dlg OnWriteMessage;
    .
    .
    .

    public override Message ReadMessage(ArraySegment<byte> buffer, BufferManager bufferManager, string contentType)
    {
        throw new NotImplementedException();
    }

    public override Message ReadMessage(System.IO.Stream stream, int maxSizeOfHeaders, string contentType)
    {
        throw new NotImplementedException();
    }

    public override ArraySegment<byte> WriteMessage(Message message, int maxMessageSize, BufferManager bufferManager, int messageOffset)
    {
        throw new NotImplementedException();
    }

    public override void WriteMessage(Message message, System.IO.Stream stream)
    {
        throw new NotImplementedException();
    }

} 
```

我只想要 StrongType （没有动态/参数对象 [] ） onReadMessage 和 onWriteMessage 事件有没有办法重载可以接受两个方法的委托/事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-03T23:04:53.217

这是通常的要求，我想。你为什么不尝试这样做的标准方法？例如，在您的库外代码寄存器中的某处：

```
 OnWriteMessage += new WriteMessage_dlg(myMessage, myStream); 
```

并在每个特定的 MessageEncoder 读/写方法调用 delegate.invoke？

```
 public override void WriteMessage(Message wcfMessage, Stream stream) {
   OnWriteMessage.Invoke();
 } 
```

# asp.net - WCF 服务未在 Web 应用程序中返回集合

> ID：15784275
> 
> 赞同：1
> 
> 时间：2013-04-03T09:58:13.003
> 
> 标签：asp.net, wcf, wcf-data-services, wcf-binding, wcf-security

我的 WCF 服务托管在本地 IIS 上。当我从应用程序调用它时，我无法从 wcf 调用中获得结果。但奇怪的是，它在调试（进入服务类时）显示正确的结果并在暂存类中返回对象数组。当调试到应用程序时，它返回空数组。我收到了来自应用程序的以下电话。

```
 public List<SurveyQuestion> GetCommonQuestionsForCompentency()
    {
        List<SurveyQuestion> questions = new List<SurveyQuestion>();
        SurveyQuestion[] ques = null;
        ICSSService.SurveyServiceClient client = null;
        try
        {
            client = (SurveyServiceClient)WCFSecurityEntityForSurvey.getSurveyClient();
            ques = client.GetCommonQuestionsByCategoryType(2);
            questions = ques.ToList<SurveyQuestion>();
            return questions;
        }
        catch (Exception)
        {
            throw;
        }
        finally{ client.Close();}
    } 
```

调用如下所示的 wcf 服务类

![在此处输入图像描述](https://i.stack.imgur.com/nts0c.png)

实施有什么问题。有什么帮助吗？

**编辑 ：**

它适用于没有列表的简单服务调用。我认为问题可能在于收藏品的退回。[我在这里](https://stackoverflow.com/questions/15730003/wcf-can-return-single-object-just-fine-but-fails-when-returning-a-list)找到了类似的问题。但并没有从中得到太多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:28:01.393

我对此有类似的问题。这是因为没有正确添加引用，并且我修改了 reference.cs 文件。因此，如果应用程序中的命名空间不同，则无法正确获取数据。只需检查应用程序中的命名空间。查看应用程序中的某个类是否具有与其他类不同的命名空间

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:24:02.210

您需要做的就是添加一个已完成的函数，然后将网格数据源添加到该函数中。

在页面加载中添加

```
AddHandler client.GetEndorsementCompleted, AddressOf GetEndorsement 
```

然后添加以下函数来让异步函数命中。

> Private Sub GetEndorsement(ByVal sender As Object, ByVal e As SR.GetEndorsementCompletedEventArgs) If Not e.Result.Equals(Nothing) Then
> 
> ```
>  'Data grid binding
> 
>     End If
> End Sub 
> ```

在 c# 的情况下，您可以使用演示代码项目中的此[链接](http://www.codeproject.com/Articles/37393/4-Simple-Steps-to-Consume-WCF-Service-using-Silver#Step%204%3a-%20Add%20the%20WCF%20service%20reference%20and%20call%20the%20service)

# sql - 用 COUNT 选择 DISTINCT

> ID：15784282
> 
> 赞同：0
> 
> 时间：2013-04-03T09:58:38.007
> 
> 标签：sql, count, distinct

我想计算当前未入院的患者人数（`CurrentClinicalInfo = 'False'`）。`ClinicalInfo`但是，每个患者有多个s。所以我需要区别对待。

我在下面尝试过这段代码，但它带有太多的列，导致进一步的错误。

```
 SELECT DISTINCT COUNT(*) AS TableLength
    FROM            PatientDemographics AS p LEFT OUTER JOIN
                             PatientClinicalinformation AS pc ON p.PatientID = pc.PatientID
    WHERE        (pc.PatientID IS NULL) AND (p.FirstName LIKE '%' + + '%') OR
                             (pc.PatientID IS NULL) AND (p.Surname LIKE '%' + + '%') OR
                             (p.FirstName LIKE '%' + + '%') AND (pc.CurrentClinicalInfo = 'False') OR
                             (p.Surname LIKE '%' + + '%
    ') AND (pc.CurrentClinicalInfo = 'False') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:35:35.960

您想要不同的患者，对吗？

```
SELECT COUNT(DISTINCT p.PatientID) AS TableLength
FROM PatientDemographics AS p
LEFT JOIN PatientClinicalinformation AS pc ON p.PatientID = pc.PatientID
WHERE pc.PatientID IS NULL AND p.FirstName LIKE '%' + @input + '%'
      OR
      pc.PatientID IS NULL AND p.Surname LIKE '%' + @input + '%'
      OR
      p.FirstName LIKE '%' + @input + '%' AND pc.CurrentClinicalInfo = 'False'
      OR
      p.Surname LIKE '%' + @input + '%' AND pc.CurrentClinicalInfo = 'False' 
```

# excel - vba excel仅复制按键上的可见单元格 ctrl+c

> ID：15784284
> 
> 赞同：1
> 
> 时间：2013-04-03T09:58:49.803
> 
> 标签：excel, vba

我有一个 75 列和数千行数据的 Excel。在 75 列中，我将 5 列用于我的 vba 编码目的。这 5 列包含标志（或`0`或`1`），基于这些标志我锁定了相应行中的单元格（*标志来自数据库*）。由于用户不想要这些标志列，我只是隐藏了这些列，但是当用户尝试将数据从我的工作簿复制到另一个工作簿时，用户能够复制客​​户端不想要的隐藏列。

那么无论如何限制他们不要通过**VBA**或任何设置复制隐藏的列？实际上，对于这个问题，我认为在 的按键上是什么样的`Ctrl + C`，我尝试将 as 更改`Selection.Copy`为`Selection.Range.SpecialCells(xlCellTypeVisible)`. 但是我遇到了一些错误，例如`wrong number of arguments or invalid property assignment`.

代码行是

```
Private Sub Workbook_Open()
     Application.OnKey "^c", "Copy"
End Sub

Sub Copy()
    If Selection Is Nothing Then
    Else
        Selection.Copy = Selection.Range.SpecialCells(xlCellTypeVisible)
    End If
End Sub 
```

任何限制用户不要复制隐藏列的想法。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:13:28.923

试试这个

```
Sub Copy()
    Dim rng As Range

    On Error GoTo Whoa

    If Not Selection Is Nothing Then
        Set rng = Selection.Cells.SpecialCells(xlCellTypeVisible)
        rng.Copy
    End If

LetsContinue:
    Exit Sub
Whoa:
    MsgBox Err.Description, vbCritical, "Error Number : " & Err.Number
    Resume LetsContinue
End Sub 
```

**注意**：我使用了必须使用的错误处理，因为用户可能会选择不连续的范围，如果错误处理未完成，代码将中断:) 请参见下面的屏幕截图

![在此处输入图像描述](https://i.stack.imgur.com/23ivc.png)

# ios - iOS 中的协议

> ID：15784286
> 
> 赞同：-7
> 
> 时间：2013-04-03T09:58:51.223
> 
> 标签：ios, objective-c, protocols

什么是协议？我们如何在 iOS 中定义它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:04:18.013

协议是由一个类实现的一组商定的方法，当该类声明它遵守该协议时。这些方法可能是可选的或必需的，这是在协议定义中设置的。

最好的方法是查看[这里](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/CocoaFundamentals/CommunicatingWithObjects/CommunicateWithObjects.html#//apple_ref/doc/uid/TP40002974-CH7-SW18)（需要登录）并确实阅读本指南的全部内容，因为它是理解 cocoa 和 Objective-c 中的底层设计模式的一个很好的起点。

# asp.net - 与 for 循环的中继器绑定以从数据库中检索多个值

> ID：15784289
> 
> 赞同：3
> 
> 时间：2013-04-03T09:58:53.740
> 
> 标签：asp.net, c#-4.0

这是我的代码，我想从数据库中获取值并插入转发器，此代码仅返回数据库中的最后一个值

```
for (int i = 0; i < dtFinalVessel.Rows.Count; i++)          
    if (i == 0)
    {
        if (e.Item.ItemType == ListItemType.Item)
        {

            DataTable dtCostElement = DAL.MonthlyCrudeAccrualsDetail.GetMonthlyCrudeAccrualsPerFinalBolID_Get_List(int.Parse(dtFinalVessel.Rows[0]["FinalVesselPerBOLID"].ToString()));

            ArrayList arrlist = new ArrayList();

            Repeater rptrCostElementHeader = (Repeater)e.Item.FindControl("rptrCostElementHeader");
            rptrCostElementHeader.DataSource = dtCostElement;
            rptrCostElementHeader.DataBind();

            Repeater rptrUS = (Repeater)e.Item.FindControl("rptrUS");
            rptrUS.DataSource = dtCostElement;
            rptrUS.DataBind();

            Repeater rptrZAR = (Repeater)e.Item.FindControl("rptrZAR");
            rptrZAR.DataSource = dtCostElement;
            rptrZAR.DataBind();

            Repeater rptrUSCent = (Repeater)e.Item.FindControl("rptrUSCent");
            rptrUSCent.DataSource = dtCostElement;
            rptrUSCent.DataBind();

            for (int j = 0; j < dtCostElement.Rows.Count; j++)
            {
                string strUscent = dtCostElement.Rows[j]["USCent"].ToString();
                decimal total = decimal.Parse(strUscent.ToString()) / decimal.Parse(hdnTotalVessel.Value.ToString());
                arrlist.Add(total.ToString());
            }
            Repeater rptAvgUSCent = (Repeater)e.Item.FindControl("rptAvgUSCent");
            rptAvgUSCent.DataSource = arrlist;
            rptAvgUSCent.DataBind();`

        }
    }     
} 
```

# python - 在 qTableWidget 单元格中选择文本

> ID：15784290
> 
> 赞同：0
> 
> 时间：2013-04-03T09:58:57.263
> 
> 标签：python, pyqt4, qtablewidget

我有一个带有数据的 QTableWidget。

在运行时，我在单元格中添加行并插入默认数据（标题名称）。

用户将通过删除默认数据来填充数据。

所以我想让最终用户更容易。所以想到选择当前添加行中的第一个单元格。这样用户就可以直接添加数据并使用 Tab 移动到下一个单元格。

看看我的快照（第 386 行是在运行时添加的）。

最后一行是我动态添加的，该行是可编辑的。

![在此处输入图像描述](https://i.stack.imgur.com/39JbS.jpg)

我希望通过选择添加行的第一个单元格使其如下图所示

![在此处输入图像描述](https://i.stack.imgur.com/pbzMg.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-28T12:30:25.363

来自 Qt 文档：

```
void QTableWidget::editItem ( QTableWidgetItem * item ) 
```

> 如果项目可编辑，则开始编辑项目。

所以，在 Python 中它会是这样的：

```
def addNewRow(self):
    row =  self.tableWidget.rowCount()
    #....add data to row cells and set flags to items here...
    #next line goes at the end of method - after row is populated
    self.tableWidget.editItem(self.tableWidget.item(row, 0)) 
```

您必须将此标志设置为项目：`setFlags(Qt.ItemIsEditable | Qt.ItemIsSelectable | Qt.ItemIsEnabled);`

# objective-c - tableViewController 的 tableView 不会根据其方向变化

> ID：15784292
> 
> 赞同：0
> 
> 时间：2013-04-03T09:59:08.773
> 
> 标签：objective-c, ios5, uiviewcontroller, uiinterfaceorientation

我有一个类，它是 tableViewController 的子类。我正在尝试旋转我的表格视图。我实现了两种方法：

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // Return YES for supported orientations
    return (interfaceOrientation == (UIInterfaceOrientationPortrait | UIInterfaceOrientationLandscapeLeft |
                                     UIDeviceOrientationLandscapeRight));
}

- (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation
{
    [super didRotateFromInterfaceOrientation:fromInterfaceOrientation];
    [self.tableView reloadData];
} 
```

这个控制器被命名为 rootViewController 并且 appDelegate 的方法 didFinishLaunchingWithOptions 的一部分：是

```
UINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:self.rootViewController];
self.navigationController = navController;
self.window.rootViewController = self.navigationController; 
```

我将 rootViewController 设置为 navigationController 并将其 rootViewController 设置为我的 rootViewController 对象。

我不知道这两种方法是否足以根据方向重新加载表格。我必须包括任何其他方法吗？我看到我的 rootViewController 的 (void)didRotateFromInterfaceOrientation: 在旋转后没有被调用，但 shouldAutorotateToInterfaceOrientation: 即使在不需要时也经常被调用。我看到了一个类似的帖子，他们建议包含 [super didRotateFromInterfaceOrientation: interfaceOrientation] 但它仍然没有用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:49:20.110

不，您不需要手动更改任何内容。问题：tableView 是否设置为封闭 viewController 的视图？

# jenkins - 如何删除 TFS 工作区映射？

> ID：15784296
> 
> 赞同：142
> 
> 时间：2013-04-03T09:59:22.493
> 
> 标签：jenkins, tfs

我在一个团队项目中的 tfs 中有一个项目，然后我们将该项目移动到另一个团队项目中的不同位置。

我已将 Jenkins 配置为连接到团队项目并构建我的解决方案，但是当我更改设置以连接到新的 tfs 团队项目时，它给了我以下错误：

```
[workspace] $ "C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\tf.exe" workspace -new Hudson-ProjectName1-Build-MASTER;domain1\username1 -noprompt -server:http://domain-eg.net:8080/tfs/newteamproject ********
The path D:\jenkins\jobs\ProjectName1-Build\workspace is already mapped in workspace Hudson-ProjectName1-Build-MASTER [http://domain-eg.net:8080/tfs/oldteamproject]. 
```

所以上面显示有一个现有的工作区所以我运行下面的命令来删除它

```
tf workspace -delete Hudson-ProjectName1-Build-MASTER;domain1\username1 -noprompt -server:http://domain-eg.net:8080/tfs/oldteamproject 
```

它提示工作区已被删除，但我仍然遇到同样的错误。

我还通过运行以下命令检查了映射是否已被删除：

```
tf workspace -server:http://domain-eg.net:8080/tfs/oldteamproject Hudson-ProjectName1-Build-MASTER 
```

但它说工作区并不像预期的那样存在。

所以，我认为它可能会在某处缓存它并运行以下命令：

```
tf workspaces /remove:* /collection:http://domain-eg.net:8080/tfs/oldteamproject 
```

它说“缓存中没有工作区匹配*来自服务器[http://domain-eg.net:8080/tfs/oldteamproject](http://domain-eg.net:8080/tfs/oldteamproject) ”

所以我猜它甚至没有被缓存。

那么是什么导致了错误以及如何解决呢？

* * *

## 回答 #1

> 赞同：199
> 
> 时间：2013-06-24T14:21:11.583

**来自 VS：**

1.  打开团队资源管理器
2.  单击源代码管理资源管理器
3.  在工具窗口的导航栏中，有一个标有“工作区”的下拉菜单。
4.  扩展它并单击“工作区...”选项（是的，有点不直观）
5.  出现“管理工作区”窗口。单击编辑，您可以添加/删除/编辑您的工作区

![源代码控制浏览器](https://i.stack.imgur.com/7gVgw.png)

**从不同机器上的 VS**

您不需要 VS 与登记在同一台机器上，因为您可以编辑远程登记！在您按下“工作区...”项时出现的对话框中，有一个复选框，说明“显示远程工作区” - 只需勾选它，您将获得所有入伍名单：

![显示远程工作区](https://i.stack.imgur.com/UzdQA.png)

**从命令行**

从开发人员命令提示符调用“tf workspace”。它将直接调出“管理工作区”！

* * *

## 回答 #2

> 赞同：126
> 
> 时间：2013-10-09T19:53:10.427

我遇到了同样的问题，并且能够通过手动删除位于此处的 TFS 缓存中的所有文件来修复它：

```
%LocalAppData%\Microsoft\Team Foundation\3.0\Cache 
```

或`4.0`,`5.0`等

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2013-04-03T10:23:35.037

请按照以下步骤从 TFS 中删除映射：

1.  打开`team explorer`
2.  点击`Source Control`
3.  右键点击你`project`
4.  点击`Remove Mapping`

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2015-08-12T06:43:46.090

错误是真实的。您可能在不同的机器上创建了具有相同名称的工作区。现在您可能已经更改了具有不同机器名称的机器。

因此，这是肯定会起作用的解决方法。以下是解决方法。

1.  前往“团队探索者”
2.  转到“源代码管理”
3.  转到工作区下拉菜单
4.  点击“工作区...”
5.  将出现一个弹出窗口
6.  点击“显示远程工作区”
7.  现在删除有冲突的工作区，您可以继续您的工作。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2017-04-13T10:24:57.247

请按照以下步骤操作：

```
Ctrl + Run 
```

复制和过去

```
%LocalAppData%\Microsoft\Team Foundation 
```

您将获得不同版本的 TFS，例如 [![在此处输入图像描述](https://i.stack.imgur.com/6kZrN.png)](https://i.stack.imgur.com/6kZrN.png)

点击每个文件夹，你会得到

[![在此处输入图像描述](https://i.stack.imgur.com/8yHMl.png)](https://i.stack.imgur.com/8yHMl.png)

现在删除这些文件夹中的所有数据。

重新打开 Visual Studio。

谢谢。

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2016-04-11T19:18:32.223

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2019-06-27T20:04:12.127

这里的所有答案似乎都是部分答案，并非在所有情况下都有效。我认为这个答案适用于所有情况，假设你有适当的权限。

1.  **打开开发人员命令提示符。就我而言，我已经使用 VS 2019 的开发人员命令提示符对此进行了测试。**
2.  **键入此命令：`tf workspaces`**

请注意，结果可以列出几个具有相同结构的表。如果您只看到一张表格，那么其他答案中的一些假设可能对您有用。但是，如果您看到两个或更多表，则该**Collection**字符串很重要！对于我们的示例，我们将假设您有两个集合（两个与四个没有什么不同，除了一个比另一个更繁琐）：

`https://dev.azure.com/foo`和`https://bar.visualstudio.com/`

运气好的话，您将知道要使用这两者中的哪一个。但是，如果您需要循环浏览它们，那么您只需一次收集一个。这里的每个“集合”都与 Azure DevOps 中的“组织”相同（我认为）。

如果您不使用此集合详细信息，那么您可能会看到一条错误消息：

> 无法确定源代码控制服务器。

3.  **接下来，为要使用的集合键入以下命令：**

`tf workspaces /computer:* /owner:* /collection:https://dev.azure.com/foo`

这将使您更全面地了解您正在处理的内容。如果您有多个 MSA 和 Org 帐户从同一台计算机访问此存储库，这会变得特别令人讨厌。事实上，您可能有多个看似相同的条目。如果您尝试根据您当前知道的内容删除它们，则可能无法正常工作。但我们可以获得更多信息。

4.  **接下来，我们将运行相同的命令，但附加`/format:xml`到它的末尾：**

`tf workspaces /computer:* /owner:* /collection:https://dev.azure.com/foo /format:xml`

现在，这为您提供了一堆带有一些附加属性的 XML。我们最关心的可能是所有者别名。这是您现在需要检查并删除这些工作区的缺失信息。如果没有这些附加信息，很容易碰壁并被错误消息卡住：

> 指定一个工作区。

5.  **现在我们拥有了我们需要的所有信息。给定附加`OwernAliases`条目，选择您希望删除的唯一条目（如果有多个则重复）并使用以下命令（列出了几个示例）：**

    *   `tf workspace /delete /collection:https://dev.azure.com/foo "MyWorkspaceName;Windows Live ID\John.Doe@hotmail.com"`
    *   `tf workspace /delete /collection:https://dev.azure.com/foo "MyWorkspaceName;John Doe"`
    *   `tf workspace /delete /collection https://dev.azure.com/foo "MyWorkspaceName;2C3E8474-A39C-4785-8794-DC72F09981E6\John.Doe@Example.com"`

GUID 标识 AAD 目录，引号用于处理别名中可能存在的任何空格。“MyWorkspaceName”来自您之前列出工作空间的查询。

* * *

如果没有这种非常彻底的方法，则此问题中的所有其他答案可能对您来说都失败了。虽然其中一些努力会清除本地工作区，但它们不会清除服务器工作区，您仍然可以与之发生冲突。此外，如果您以前使用过不同的帐户，事情可能会变得棘手，例如，如果您从 MSA 切换到 AAD 帐户。如果你有一个 MSA 帐户**，事情就会变得非常棘手**多个 AAD 帐户都具有您从同一工作站使用的相同电子邮件地址。如果其中多个都使用工作区的默认名称：您的计算机的主机名，那么它会变得超级疯狂。在我的例子中，我有四个工作区，它们都具有相同的工作区名称、所有者名称和计算机名称（即没有 XML 格式的第一个查询有 4 条相同的记录！）。

* * *

我不知道是否有比这更图形化的方式来管理这些。我已经看过但还没有找到比这更好的方法。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2014-04-09T15:55:17.293

我设法按照此处的建议使用 /newowner 命令删除了映射：

[如何重新获得对 Team Foundation Server 工作区的访问权限？](https://stackoverflow.com/questions/8914375/how-can-i-regain-access-to-my-team-foundation-server-workspace)

该命令打开了一个编辑工作区窗口，我在其中删除了映射。之后我删除了我不需要的工作区。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2020-01-23T08:33:19.963

团队资源管理器 > 源代码管理资源管理器 >

[![TFS 删除映射](https://i.stack.imgur.com/HdYnQ.png)](https://i.stack.imgur.com/HdYnQ.png)

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2016-10-04T11:07:37.187

**您不必删除整个 Cache 文件夹。您将丢失所有设置/首选项** 工作区映射存储在一个名为：

**用户本地设置/应用程序数据目录下的**VersionControl.config 。**位于 Windows 7 中：**

 **> %LocalAppData%\Microsoft\Team Foundation\x.0\Cache\Volatile
> 
> 其中 x= 3.0,4.0, 5.0,6.0 等。

***在其中你会找到名为 guid 的文件夹，打开它们中的每一个，手动编辑上述文件，以从本地文件夹中删除工作区映射（目录路径将出现在 mappedpaths 属性中）到 TFS 服务器（不再使用）。***

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2016-04-26T16:34:52.897

这里的答案都没有删除我的工作区。但这是一种可能适合您的解决方案。

1.  打开 Visual Studio 命令提示符
2.  先关闭 Visual Studio 否则删除命令可能不会删除工作区
3.  列出工作区命令 -> tf /? 从 TFS 版本中查找可用的命令。
4.  列出工作区-> tf 工作区
5.  删除工作区 -> tf 工作区 YourWorkspace /delete

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2018-01-28T11:39:51.107

文件 -> 源代码管理 -> 高级 -> 工作区 -> 在管理工作区中选择工作区，然后单击“编辑”，然后您可以更改本地文件夹。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2017-02-07T20:11:56.380

我被提示通过 Visual Studio 登录到我们的 TFS 服务器，所以我使用了我的 SU 帐户，这通常是访问服务器所必需的。这导致了一些问题，我最终映射到了一个不同的文件夹，没有意识到我刚刚复制了我所有的东西。在某些时候，Visual Studio 恢复为我的普通用户，我“丢失”了挂起的更改，并注意到新的挂起更改被放置在我的旧映射中。

当我尝试重新映射到新位置（SU 帐户链接到的位置）以尝试恢复我的未决更改时，它会告诉我它已经映射到 SU，我不能这样做，但是有没有办法删除地图！显示远程工作区，通过命令行删除所有工作区等什么都没有显示。然后我想“如果它实际上链接到*我计算机上*的 SU 用户帐户，而不是域怎么办。” 我在本地以我的 SU 身份登录，果然，为该用户设置了一个工作区。我删除了映射，并且能够返回到我的常规用户并重新映射而没有问题。

故事的寓意是，也许另一个用户在同一台​​机器上登录，这对当前登录的用户是不可见的，因此您无法删除甚至查看映射。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2016-12-29T14:11:43.520

最后删除所有工作区并从头开始。固定的。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2018-01-24T19:50:52.947

如果上述线索对您没有帮助，请下载 Team Foundation Sidekick 并使用它来删除工作区。

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2018-06-09T06:18:49.390

以下是从 TFS 中删除项目映射的步骤：

(1) 点击查看按钮。

(2) 打开团队资源管理器

(3) 点击源代码管理

(4) 右键单击​​您的项目/目录

(5) 点击删除映射

(6) 最后删除Project表单本地目录。

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2020-10-07T09:58:49.897

如果映射正确，那么您可以撤消/签入您的更改，如果您真的想更改文件夹名称。

或者，如果要删除映射，则在 Visual Studio 中转到 File-> Source Control-> Advanced-> Workspaces-> Edit

现在您可以单击适当的路径并删除映射。

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2017-02-23T20:33:42.610

谢谢你的帮助！

**查找问题工作区** SELECT * FROM tbl_Workspace WHERE WorkspaceName like '%xxxxx%'

**找到所需的工作空间** SELECT * FROM tbl_Workspace WHERE WorkspaceName like '%zzzzz%'

**选择 Edit Top 200 tbl_WorkingFolder 然后查找问题映射** SELECT * FROM tbl_WorkingFolder WHERE WorkspaceId = *Problem WorkspaceId from above*

**将 WorkspaceId 更改为所需的 WorkspaceId**

**最后转到 Project Explorer 并在项目上选择 Remove Mapping**

**修改 VB6 MSSCCPRJ.SCC 以匹配所需的 WorkSpace**

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2017-04-21T19:37:09.013

首先在您的系统中下载并安装 Team Explorer 插件，然后转到 Source Control Explorer。在导航窗格中找到 Workspace 字段并单击 Workspaces 选项。单击 Workspaces 选项后，您将看到所有映射的工作空间。单击删除按钮并删除所需工作区的映射。

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2017-12-11T22:31:07.050

运行`tf workspaces`以查看当前工作区映射。输出如下所示：

[![在此处输入图像描述](https://i.stack.imgur.com/FWMP4.png)](https://i.stack.imgur.com/FWMP4.png)

然后运行`tf workspace /delete "{workspace};{user}`

**使用上面的输出，删除工作区`bi`：**

`tf workspace /delete bi;James Wierzba`

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2016-11-27T10:01:05.147

您还可以通过简单地编辑 .sln 文件并删除 tfs 绑定的 GlobalSection 元素来删除 tfs 映射。**

# php - Jquery 到 Zoomin 和 Zoomout 以及单击按钮时的图像形状

> ID：15784299
> 
> 赞同：0
> 
> 时间：2013-04-03T09:59:35.807
> 
> 标签：php, jquery

我正在处理图像上传，我需要在单击按钮时添加放大和缩小以及图像形状（如风景、肖像）的功能。但是当我点击按钮时没有任何反应。我的代码是：

```
$(document).ready(function() {

    var imagesize = $('img').width();
    alert(imagesize);
    $('#zoomout').on('click', function() {
        imagesize = imagesize - 5;
        $('img').width(imagesize);
    });

    $('#zoomin').on('click', function() {
        imagesize = imagesize + 5;
        $('img').width(imagesize);
    });

}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:16:35.457

我猜你错过了 jQuery 库：

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
  $(document).ready(function() {
    var imagesize = $('img').width();
    alert(imagesize);
    $('#zoomout').on('click', function() {
        imagesize = imagesize - 5;
        $('img').width(imagesize);
    });

    $('#zoomin').on('click', function() {
        imagesize = imagesize + 5;
        $('img').width(imagesize);
    });
  });
</script> 
```

尝试在此脚本之前先添加一个库。

# ios - UIApplicationMain 错误上的 SIGABRT

> ID：15784300
> 
> 赞同：0
> 
> 时间：2013-04-03T09:59:37.337
> 
> 标签：ios, xcode4, sigabrt

我已经搜索和搜索，尽管关于这个问题有很多主题，但我找不到任何相关的来解决我的问题。如果有人可以请看一下：

我正在使用 xcode 4.6

我在 int retVal 的 main.m 文件中收到错误

```
int main(int argc, char *argv[])
{
    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];
    int retVal = UIApplicationMain(argc, argv, nil, nil);
    [pool release];
    return retVal;
} 
```

我的 ReaderSampleViewController.h 文件如下所示：

```
@interface ReaderSampleViewController
    : UIViewController
    // ADD: delegate protocol
    < ZBarReaderDelegate >
{
    UIImageView *resultImage;
    UITextView  *resultText;

}
@property (nonatomic, retain) IBOutlet UIImageView *resultImage;
@property (nonatomic, retain) IBOutlet UITextView  *resultText;
- (IBAction) scanButtonTapped;
@end 
```

ReaderSampleViewController.m 文件如下所示：

```
#import "ReaderSampleViewController.h"

@implementation ReaderSampleViewController

@synthesize resultImage, resultText;

- (IBAction) scanButtonTapped
{
    // ADD: present a barcode reader that scans from the camera feed
    ZBarReaderViewController *reader = [ZBarReaderViewController new];
    reader.readerDelegate = self;
    reader.supportedOrientationsMask = ZBarOrientationMaskAll;

    ZBarImageScanner *scanner = reader.scanner;
    // TODO: (optional) additional reader configuration here

    // EXAMPLE: disable rarely used I2/5 to improve performance
    [scanner setSymbology: ZBAR_I25
                   config: ZBAR_CFG_ENABLE
                       to: 0];

    // present and release the controller
    [self presentViewController: reader animated:NO completion:nil];
    [reader release];
}

- (void) imagePickerController: (UIImagePickerController*) reader
 didFinishPickingMediaWithInfo: (NSDictionary*) info
{
    // ADD: get the decode results
    id<NSFastEnumeration> results =
    [info objectForKey: ZBarReaderControllerResults];
    ZBarSymbol *symbol = nil;
    for(symbol in results)
        // EXAMPLE: just grab the first barcode
        break;

    // EXAMPLE: do something useful with the barcode data
    resultText.text = symbol.data;
    // QR CODE TO THE WEBSITE
    #define IS_IPAD    (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad)
    #define IS_IPHONE  (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)

    //----------- STYLE AND AUTO SIZE THE WEB VIEW

    float widthScreen, heightScreen; //xScreen, yScreen
    if(IS_IPAD){

        widthScreen  = 768.0;
        heightScreen = 960.0;
       // xScreen      = 360.0;
       // yScreen      = 500.0;
        UIColor *background = [[UIColor alloc] initWithPatternImage:[UIImage imageNamed:@"LoaderIpad.jpg"]];
        self.view.backgroundColor = background;
        [background release];
    }else{
    //CGRect webFrame = CGRectMake(0.0, 0.0, 360.0, 480.0);
        widthScreen  = 320.0;
        heightScreen = 490.0;
     //   xScreen      = 150.0;
     //   yScreen      = 190.0;
        UIColor *background = [[UIColor alloc] initWithPatternImage:[UIImage imageNamed:@"LoaderIphone.jpg"]];
        self.view.backgroundColor = background;
        [background release];
   }

    CGRect webFrame = CGRectMake(0.0, 0.0, widthScreen, heightScreen);

    UIWebView *webView= [[UIWebView alloc] initWithFrame:webFrame];
    webView.autoresizingMask = UIViewAutoresizingFlexibleWidth;
    webView.scalesPageToFit = NO;
    webView.autoresizesSubviews = YES;

    [webView setBackgroundColor:[UIColor clearColor]];
    //[webView setOpaque:NO];

    //--------- GET THE URL
    NSString *urlAddress= @"";
    urlAddress =[urlAddress stringByAppendingString:resultText.text];
    NSURL *url= [NSURL URLWithString:urlAddress];
    NSURLRequest *requestObj= [NSURLRequest requestWithURL:url];
    [webView loadRequest:requestObj];
    [self.view addSubview:webView];
    [webView release];

    // EXAMPLE: do something useful with the barcode image
    resultImage.image = [info objectForKey:UIImagePickerControllerOriginalImage];
    //resultImage.image = [info objectForKey:UIImagePickerControllerOriginalImage];

    // ADD: dismiss the controller (NB dismiss from the *reader*!)
    [reader dismissViewControllerAnimated:NO completion:nil];
}

- (BOOL) shouldAutorotateToInterfaceOrientation: (UIInterfaceOrientation) orient
{
    return(YES);
}

- (void) dealloc {
    self.resultImage = nil;
    self.resultText = nil;
    [super dealloc];
}

@end 
```

if else cgRect 尺寸以前工作得很好，但是我可能不小心删除了一些东西或在某个地方放了一个逗号，这导致了这个错误并导致应用程序在加载时暂停。以下是它返回的错误：

```
2013-04-03 10:57:35.928 P&H Scanner[269:907] *** Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[<ReaderSampleViewController 0x21073bc0> setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key delegate.'
*** First throw call stack:
(0x3346e3e7 0x3b169963 0x3346e0d5 0x33cdc7d9 0x33cd8543 0x333f48a5 0x35419e7d 0x354196ff 0x35312079 0x3529c451 0x352dcd59 0x35327ef7 0xb6cb 0x352ddaa1 0x352dd625 0x352d5833 0x3527dd1f 0x3527d7ad 0x3527d1ef 0x36f955f7 0x36f95227 0x334433e7 0x3344338b 0x3344220f 0x333b523d 0x333b50c9 0x352d446d 0x352d12b9 0xb605 0x3b596b20)
libc++abi.dylib: terminate called throwing an exception
(lldb) 
```

抱歉，我对应用程序开发相对较新，因此试图解决不同的错误并苦苦挣扎。任何建议都会很棒

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T16:01:53.403

我学到的一个小技巧是在整个应用程序上设置一个异常断点，因此，每当您遇到无法识别的错误（例如与 UIApplicationMain 相关的错误）时，至少您会大致了解代码中断的位置。这可以给你一个线索，你需要从哪里开始。

为此，您需要转到断点导航器（Cmd+6），按左下角的小加号图标，选择“添加异常断点”，最后按完成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:06:08.383

让我们看一下日志文件：（“如何读取日志文件：”）

> 2013-04-03 10:57:35.928 P&H Scanner[269:907] *** **由于未捕获的异常“NSUnknownKeyException”而终止应用程序，原因：“[ReaderSampleViewController 0x21073bc0 setValue:forUndefinedKey:]**：此类不是键值编码-符合关键代表。

因此，您看到终止正在发生，因为您的 ReaderSample 视图控制器声明不正确。要确定**究竟**是什么不正确，我们可以看一下这部分：

> **setValue:forUndefinedKey:]：此类不符合键委托的键值编码。**

因此，您正在为控制器设置一个值（在您的代码中是 ZBarReaderDelegate），这似乎是导致错误的原因。

因为：**这个类不符合键委托的键值编码**

希望对您有所帮助，真诚的 Maurice Arikoglu

# apache-flex - 用于连接flex4中的两个图表的连接器？

> ID：15784301
> 
> 赞同：1
> 
> 时间：2013-04-03T09:59:40.673
> 
> 标签：apache-flex, flex4, flex4.6

我已经绘制了一个连接两个图表的连接器，但我无法选择连接器，以便我可以执行复制粘贴调整大小等操作。但我可以选择图表。请指导我......

# sql-server - 为什么 Identity Columns 不参与交易？

> ID：15784302
> 
> 赞同：2
> 
> 时间：2013-04-03T09:59:45.860
> 
> 标签：sql-server

假设我有以下

```
Begin Tran

Insert Into tbl(name) values('name1');

Insert Into tbl(name) values('name2');

Rollback

End 
```

表**tbl**有一个标识列 (id) 和一个 varchar 列 (name)。

现在显然数据将被回滚。

当我再次尝试插入记录时，Id 列的值为 3 而不是 1！

为什么？为什么 Identity 列值不参与交易？它存储在哪里？等等

好吧，我已经阅读[了这个](https://stackoverflow.com/questions/3903812/why-transaction-does-not-work-on-identity-column)以及[这个](https://stackoverflow.com/questions/282451/sql-identity-autonumber-is-incremented-even-with-a-transaction-rollback)，但我仍然需要更深入的信息。

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:22:22.180

```
T1:                      |  T2
begin                    |  begin     
insert <-- gets ID 1     |
                         |    insert <-- gets ID 2
rollback                 | 
```

现在，只有当您可以回答如果 id 生成“参与事务”时 T1 回滚后**下一个 ID 应该是什么值......**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:23:21.973

您可以检查[MSDN](http://msdn.microsoft.com/en-us/library/ms186775.aspx)本身：

> ...“值的重用 – 对于具有特定种子/增量的给定身份属性，引擎不会重用身份值。如果特定的插入语句失败或插入语句回滚，则使用的身份值将丢失并且不会再次生成。这可能会导致后续身份值生成时出现间隙。”
> 
> “这些限制是为了提高性能而设计的一部分，并且因为它们在许多常见情况下都是可以接受的。如果由于这些限制而无法使用标识值，请创建一个单独的表来保存当前值并管理对表的访问和与您的申请一起分配号码。”

而且我认为简单的原因是种子没有为该列设置，因为它的生成方式如下：

> 每个新值都是根据当前种子和增量生成的

更改`seed`值可能会导致并发插入更加混乱，并且与`UNIQUE`or结合使用`PRIMARY KEY`，并且 insert 可能更容易“死亡”，特别是在事务繁重的环境中。

# c# - 绝对位置元素 WPF

> ID：15784303
> 
> 赞同：1
> 
> 时间：2013-04-03T09:59:52.177
> 
> 标签：c#, .net, wpf, silverlight, xaml

我想在对话框的右上角放置一个十字按钮，而不影响对话框其余部分的流程，与 CSS 相比，这似乎相当困难？

这目前将内容从右侧对齐约 20 像素，因为它仍在第 0 列中，而第 1 列正在占用该空间。理想情况下，所有内容都在 a 内`StackPanel`，关闭按钮位于右上角。失败了，我猜有可能使内容跨越两列？我该如何解决？

这是我当前的 XAML：

```
<Grid Margin="10">
    <Grid.ColumnDefinitions>
        <ColumnDefinition/>
        <ColumnDefinition/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
        <RowDefinition/>
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0">
        <TextBlock x:Name="UI_DialogTitle" Style="{StaticResource i2_TitleTextBlock}" Text="{TemplateBinding DialogTitle}" Visibility="{TemplateBinding DialogTitleVisibility}" Margin="0,0,0,10"/>
        <ContentPresenter x:Name="TheContentPresenter"/>
    </StackPanel>

    <Button x:Name="UI_CloseDialog" Style="{StaticResource i2_CloseDialogButton}" Visibility="{TemplateBinding CloseButtonVisibility}" Grid.Column="1" Grid.Row="0"/>
</Grid> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:27:39.567

原来我需要这个`ColumnSpan`属性——这一切现在都可以了！

```
<Grid Margin="10">
    <Grid.ColumnDefinitions>
        <ColumnDefinition/>
        <ColumnDefinition/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
        <RowDefinition/>
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0" Grid.ColumnSpan="2">
        <TextBlock x:Name="UI_DialogTitle" Style="{StaticResource i2_TitleTextBlock}" Text="{TemplateBinding DialogTitle}" Visibility="{TemplateBinding DialogTitleVisibility}" Margin="0,0,0,10"/>
        <ContentPresenter x:Name="TheContentPresenter"/>
    </StackPanel>

    <Button x:Name="UI_CloseDialog" Style="{StaticResource i2_CloseDialogButton}" Visibility="{TemplateBinding CloseButtonVisibility}" Grid.Column="1" Grid.Row="0"/>
</Grid> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:12:17.797

我做过类似的事情。检查 btnClose 和屏幕截图。

```
<Grid x:Name="LayoutRoot" Margin="2">
        <Border x:Name="PopupBorder" BorderBrush="SlateGray" BorderThickness="1.5" CornerRadius="12" Visibility="Visible" Opacity="20" Margin="0,0,0,0">
            <Border.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FF000000"/>
                    <GradientStop Color="#CC4895DE" Offset="0.844"/>
                    <GradientStop Color="#FF346592" Offset="0.393"/>
                    <GradientStop Color="#FFFFFFFF" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <TextBox Height="26" Style="{StaticResource TextBoxStyle}" Margin="0,0,30,220" Name="txtQuotationNumber" Width="332" />

        </Border>
        **<Button Margin="0,4,4,0" Click="OKButton_Click" Cursor="Hand" x:Name="btnClose" Style="{StaticResource CloseStyleX}" VerticalAlignment="Top" ToolTipService.ToolTip="Close Popup"/>**

        -- Datagrid here
        -- COMBOBOX HERE

        <TextBox Height="26" Name="txtValue" IsTabStop="True" VerticalAlignment="Top" Margin="178,10,500,0"></TextBox>
        <Button Content="Search" Click="btnSearch_Click" Style="{StaticResource ButtonStyle}" Height="26" HorizontalAlignment="Right" Margin="0,10,37,0" Name="btnSearch" VerticalAlignment="Top" Width="104" />
    </Grid> 
```

![在此处输入图像描述](https://i.stack.imgur.com/GIJjV.png)

# ruby-on-rails - 在 rails 3 中批量插入

> ID：15784305
> 
> 赞同：44
> 
> 时间：2013-04-03T10:00:01.660
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activerecord, rails-postgresql

我想从我的 Rails 应用程序中将几千条记录批量插入数据库（在我的情况下为 POSTGRES）。

这样做的“Rails 方式”是什么？一些快速且正确的方法。

我知道我可以通过属性的字符串连接来创建 SQL 查询，但我想要一个更好的方法。

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-04-03T10:53:23.550

ActiveRecord[`.create`](http://api.rubyonrails.org/classes/ActiveRecord/Persistence/ClassMethods.html#method-i-create)方法支持批量创建。如果数据库不支持该功能，则该方法模拟该功能，如果支持该功能，则使用底层数据库引擎。

只需传递一系列选项。

```
# Create an Array of new objects
User.create([{ :first_name => 'Jamie' }, { :first_name => 'Jeremy' }]) 
```

支持块，这是共享属性的常用方式。

```
# Creating an Array of new objects using a block, where the block is executed for each object:
User.create([{ :first_name => 'Jamie' }, { :first_name => 'Jeremy' }]) do |u|
  u.is_admin = false
end 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-04-04T09:04:03.627

在@Simone Carletti 和@Sumit Munot 的两个回答之后，我终于找到了解决方案。

在 postgres 驱动程序支持 ActiveRecord .create 方法的批量插入之前，我想使用[activerecord-import gem](https://github.com/zdennis/activerecord-import)。它在单个插入语句中进行批量插入。

```
books = []
10.times do |i| 
    books << Book.new(:name => "book #{i}")
end
Book.import books 
```

在 POSTGRES 中，它导致单个插入语句。

一旦 postgres 驱动程序在单个插入语句中支持 ActiveRecord .create 方法的批量插入，那么@Simone Carletti 的解决方案就更有意义了:)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-03T10:14:55.987

您可以在 Rails 模型中创建一个脚本，编写查询以插入该脚本在 Rails 中，您可以使用运行脚本

```
rails runner MyModelName.my_method_name 
```

是我在项目中使用的最佳方式。

**更新：**

我在我的项目中使用以下，但它不适合 sql 注入。如果您没有在此查询中使用用户输入，它可能对您有用

```
user_string = " ('a@ao.in','a'), ('b@ao.in','b')"
User.connection.insert("INSERT INTO users (email, name) VALUES"+user_string) 
```

**对于多条记录：**

```
new_records = [
  {:column => 'value', :column2 => 'value'}, 
  {:column => 'value', :column2 => 'value'}
]

MyModel.create(new_records) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:28:08.157

您可以使用快速方式或 Rails 方式；）根据我的经验，将批量数据导入 Postgres 的最佳方式是通过 CSV。使用 Postgres 的本机 CSV 导入功能，Rails 方式将需要几分钟时间。

[http://www.postgresql.org/docs/9.2/static/sql-copy.html](http://www.postgresql.org/docs/9.2/static/sql-copy.html)

它甚至触发数据库触发器并遵守数据库约束。

编辑（在您发表评论后）：明白了。在这种情况下，您已经正确描述了您的两个选项。我以前也遇到过同样的情况，使用 Rails 1000 save 实现它！策略，因为它是最简单的方法，然后将其优化为“附加一个巨大的查询字符串”策略，因为它的性能要好一个数量级。

当然，过早的优化是万恶之源，所以也许可以使用简单的慢速 Rails 方式，并且知道构建一个大查询字符串是一种完全合法的优化技术，但会牺牲可维护性。我觉得你真正的问题是'是否有一种不涉及 1000 个查询的 Railsy 方式？- 不幸的是，答案是否定的。

# salesforce - Salesforce 将一个对象一分为二（父子关系）

> ID：15784307
> 
> 赞同：1
> 
> 时间：2013-04-03T10:00:13.067
> 
> 标签：salesforce, clone, master-detail, records

我有来自第三方工具的数据进入销售人员对象，如下所示：

身份证 | 字段1 | 字段2 | 标准1重要性 | 标准1分 | criteria1competitorscore | 标准2重要性 | 标准2分 | criteria2competitorscore |criteriaN...

我想将其拆分为这样的父子关系：

父对象：ID | 字段1 | 字段2 | 标准（外键）

和子对象：criteriaName | 重要性 | 分数 | 竞争对手得分

希望这是有道理的，我自 2 周以来一直在寻找这个：/ 提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T14:51:48.147

问题解决了，我创建了子对象和顶点触发器来填充字段。这是它的样子：

```
trigger ResultChildTrigger on VANG_Survey_Result__c (after insert) {
List<SurveyDetail__c> details = new List<SurveyDetail__c>();
for (VANG_Survey_Result__c newResult: Trigger.New) {
    //if (newResult.Id != null) {
        details.add(new SurveyDetail__c(
        Name = 'Overall Sales Approach',
        Survey_Result__c = newResult.Id,
        importance__c = decimal.valueOf(newResult.Q1Value__c),
        score__c = decimal.valueOf(newResult.Q2Value__c),
        competitor_score__c = decimal.valueOf(newResult.Q3Value__c)
        ));  
   }
insert details; 
```

}

# android - Google Places API 总是拒绝请求

> ID：15784311
> 
> 赞同：0
> 
> 时间：2013-04-03T10:00:30.463
> 
> 标签：android, android-emulator, google-places-api

```
j.setUrl("https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=-33.8670522,151.1957362&radius=500&types=food&name=harbour&sensor=false&key=AIzaSyA712jyN6NY0VXSGf8zgXfXSRhq01O8RLY"); 
```

这是我的 json url 和我的密钥。它总是给我 status request denied 。我尝试使用调试密钥库和新密钥库制作很多密钥，但没有任何效果。这是谷歌的示例网址。它对我不起作用。如果您想提供有关新密钥的解决方案，请向我提供有关如何获取有效调试密钥的详细过程。请非常详细。如果您想提供有关传感器参数的解决方案，它已经在那里。如果你想要json解析器文件如下

```
 package com.json;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.os.AsyncTask;
public class JSONParser extends AsyncTask<Void, Void, JSONObject> {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";
    private String url;

    // constructor
    public JSONParser() {

    }

@Override
protected JSONObject doInBackground(Void... params) {
    // defaultHttpClient
    DefaultHttpClient httpClient = new DefaultHttpClient();
    HttpPost httpPost = new HttpPost(getUrl());

    HttpResponse httpResponse = null;
    try {
        httpResponse = httpClient.execute(httpPost);
    } catch (ClientProtocolException e2) {
        // TODO Auto-generated catch block
        e2.printStackTrace();
    } catch (IOException e2) {
        // TODO Auto-generated catch block
        e2.printStackTrace();
    }
    HttpEntity httpEntity = httpResponse.getEntity();
    try {
        is = httpEntity.getContent();
    } catch (IllegalStateException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    BufferedReader reader = null;
    try {
        reader = new BufferedReader(
                new InputStreamReader(is, "iso-8859-1"), 8);
    } catch (UnsupportedEncodingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    StringBuilder sb = new StringBuilder();
    String line = null;
    try {
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
    } catch (IOException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }
    try {
        is.close();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    json = sb.toString();

    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    // return JSON String
    return jObj;
}

public String getUrl() {
    return url;
}

public void setUrl(String url) {
    this.url = url;
} 
```

}

* * *

**编辑**：我查看了我的 api 控制台的报告，它显示发出了请求，因为我看到请求我认为密钥不是无效的，因为它正确地引导到我的 api 控制台。如果我错了，请纠正我？

* * *

**编辑 2**：所以我尝试了一切，现在创建了一个新的 ID，为我的调试密钥库获得了一个新的 api 密钥，使用 url 和 json 解析器类创建了一个全新的项目。我仍然收到请求被拒绝。有人能帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:53:45.877

Google Places API 使用 API 密钥来识别您的应用程序。API 密钥通过 Google API 控制台进行管理。在开始使用 API 之前，您需要自己的 API 密钥。激活 Places API 并创建您的密钥。[点击这里生成api密钥](https://code.google.com/apis/console/#project:486753841324)

[Google 地方信息 API](https://developers.google.com/places/documentation/)

尝试一下。祝一切顺利。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:19:37.033

1)如何创建KeyStore

Project >> Export >> ExportAndroidApplication >> Next >> Create New Keystore (Remember Keystore Path) >> Fill All Detail >> ...etc

现在您的密钥库和 Apk 已创建。

2）如何获取证书指纹（MD5）

$ keytool -list -alias alias_name -keystore my-release-key.keystore

有关更多详细信息，[请转到此处](https://developers.google.com/maps/documentation/android/v1/mapkey)

现在你得到了像这样的指纹

证书指纹（MD5）：94:1E:43:49:87:73:BB:E6:A6:88:D7:20:F1:8E:B5:98

3）如何获取 MapApiKey[点击这里](https://developers.google.com/maps/documentation/android/)并粘贴您的 MD5，然后您将获得 MapAPIKey。在您的应用程序中使用此密钥。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:45:03.617

它终于起作用了，所以我所做的是

*   从 api 控制台删除我的旧 api 项目。
*   创建了一个新项目。
*   仅启动 google places api 服务。
*   点击试用链接
*   我的浏览器使用它创建的默认键给了我正确的结果。
*   从 url 字段复制密钥。
*   在我的应用程序中使用它。有用。欢呼！:) 我没有创建新的 android 密钥。

# c# - 我收到内存异常“System.IO.out of exception”错误

> ID：15784315
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:00:38.387
> 
> 标签：c#

对于小目录大小的代码工作正常，当目录文件大小很大时它会给出此错误消息。

我的代码：

```
IEnumerable<string> textLines = 
          Directory.GetFiles(@"C:\Users\karansha\Desktop\watson_query\", "*.*")
                   .Select(filePath => File.ReadAllLines(filePath))
                   .SelectMany(line => line)
                   .Where(line => !line.Contains("appGUID: null"))
                   .ToList();

List<string> users = new List<string>();

textLines.ToList().ForEach(textLine =>
{
    Regex regex = new Regex(@"User:\s*(?<username>[^\s]+)");
    MatchCollection matches = regex.Matches(textLine);
    foreach (Match match in matches)
    {
        var user = match.Groups["username"].Value;
        if (!users.Contains(user)) 
            users.Add(user);
    }
});

int numberOfUsers = users.Count(name => name.Length <= 10);
Console.WriteLine("Unique_Users_Express=" + numberOfUsers); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:05:08.413

我会使用`Directory.EnumerateFiles`，并且[`File.ReadLines`](http://msdn.microsoft.com/en-us/library/dd383503.aspx)由于它们的内存消耗较少，因此它们的工作方式类似于`StreamReader`while`Directory.GetFiles`并`File.ReadAllLines`首先将所有内容读入内存：

```
var matchingLines = Directory.EnumerateFiles(@"C:\Users\karansha\Desktop\watson_query\", "*.*")
    .SelectMany(fn => File.ReadLines(fn))
    .Where(l => l.IndexOf("appGUID: null", StringComparison.InvariantCultureIgnoreCase) >= 0);
foreach (var line in matchingLines)
{
    Regex regex = new Regex(@"User:\s*(?<username>[^\s]+)");
    // etc pp ...
} 
```

您也不需要`List<string>`再次为所有行创建。只需使用`foreach`(`textLines.ToList`创建第三个集合，这也是多余的) 枚举查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:05:48.783

尝试使用下一个代码，它使用`ReadLines`，它不会将整个文件加载到内存中，而是逐行读取文件。它还用于`HashSet`存储匹配正则表达式的唯一结果。

```
Regex regex = new Regex(@"User:\s*(?<username>[^\s]+)");
IEnumerable<string> textLines = 
      Directory.GetFiles(@"C:\Users\karansha\Desktop\watson_query\", "*.*")
               .Select(filePath => File.ReadLines(filePath))
               .SelectMany(line => line)
               .Where(line => !line.Contains("appGUID: null"));

HashSet<string> users = new HashSet<string>(
    textLines.SelectMany(line => regex.Matches(line).Cast<Match>())
             .Select(match => match.Groups["username"].Value)
);

int numberOfUsers = users.Count(name => name.Length <= 10);
Console.WriteLine("Unique_Users_Express=" + numberOfUsers); 
```

# java - 如何根据日期和时间命名日志文件？如何打印所有异常以及如何在java中创建目录？

> ID：15784317
> 
> 赞同：0
> 
> 时间：2013-04-03T10:00:45.587
> 
> 标签：java, logging

我有一种情况，我必须创建一个不同的目录来放置我的日志。我试过

```
File file = new File("c:\\className").mkdir();   But got the error incompatible type,
Found:boolean Required java.io.File, although i have imported java.io.File. 
```

对于日志文件名，我想使用一些在日志文件名中有所不同的东西，以便我可以查看所有日志以多次尝试摩擦应用程序？如何实现...请指导我使用最少的代码来实现...

在一个尝试声明中，我做了很多事情，比如

```
try{
        File file=new File("C:\\className").mkdir();
        fh = new FileHandler("C:\\className\\className.log");   
            logger.addHandler(fh); 
        logger.setUseParentHandlers(false);
        SimpleFormatter formatter = new SimpleFormatter();  
              fh.setFormatter(formatter);  
            }
         catch(Exception e){ } 
```

我想添加一个 log in catch 块，以便可以在我的日志文件中打印任何类型的异常。请帮助...在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:02:31.000

```
File file = new File("c:\\className").mkdir(); 
```

`mkDir`返回`boolean`您需要更正为

```
File file = new File("c:\\classname");
file.mkdir(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:07:07.113

如果你使用，你会得到编译错误

```
File file=new File("C:\\className").mkdir(); 
```

因为， mkdir() 返回布尔类型。所以，这必须在另一个这样的声明中 -

```
 File file=new File("C:\\className");
   boolean created = file.mkdir(); 
```

对于日志记录，您可以使用 log4j。使用起来很简单。

# javascript - 将浏览器突出显示的文本转换为 UTF8 编码的 javascript 字符串

> ID：15784319
> 
> 赞同：0
> 
> 时间：2013-04-03T10:00:49.453
> 
> 标签：javascript, dom, web-applications, unicode

我是 javascript 的新手，对它的 unicode 处理没有很好的掌握。如果我理解正确的话，它有点像 C/C++，其中一个字符串包含一个没有任何编码信息的二进制序列。

当我使用类似`var str=window.getSelection().toString()`获取突出显示的文本时，生成的字符串是否与网页具有相同的编码？如果是这样，找出该编码并将其转换为unicode（例如UTF8）的最佳方法是什么？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-03T12:22:44.553

Javascript 中的字符串不像 C 或 PHP 中的“字符串”，它们实际上是字节数组并且具有编码语义。Javascript 中的字符串与此完全不同，类似于 Java/C# 或 Python 的 unicode 类型中的字符串。

它们是抽象字符的字符串，至少如果您不尝试使用非 BMP 字符。在实践中，您不必担心这一点，我只是为了完整性而提及它。

如上所述，`var str=window.getSelection().toString()`没有任何编码语义，它只是一个被选择的字符的字符串。您没有在问题中说明任何实际问题，但是如果您想知道“特殊”字符是否只能在 Javascript 中工作，那么它们确实可以工作。

# scala - 枚举Scala中子类的字段

> ID：15784320
> 
> 赞同：2
> 
> 时间：2013-04-03T10:00:58.290
> 
> 标签：scala, reflection

关于 Scala 中反射的简单问题：

*   我如何编写一个方法`fields`来返回某种类型的所有字段，即使是在子类中？
*   这甚至是正确的方法吗？如果不是，你会怎么做？

例子 ：

```
class Top { def fields = ... }
class A extends Top {
  val f1 = Field(...)
  val f2 = Field(...)
}

(new A).fields // List(f1, f2) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T11:14:34.670

因此，在我的试验和错误中，我发现真正的运行时类型反射很困难，因为 Scala 在您要求隐式 TypeTag 时在编译时嵌入类型信息的技巧。我发现，如果您想反映对象的类型，则该对象的类型必须在编译时可用。（这可能反映了我的知识限制，而不是 Scala 反射的限制，但我已经尝试过并且到目前为止未能反映在编译时无法捕获的运行时类型。）

所以，这里最接近你想要的，我知道该怎么做：

```
scala> import scala.reflect.runtime.universe._;
import scala.reflect.runtime.universe._

scala> class Base[T <: Base[T] : TypeTag] {
     | def stringVals = typeOf[T].members.filter( _.isTerm ).map( _.asTerm).filter( _.isVal ).filter( _.typeSignature <:< typeOf[String] )
     | }
defined class Base

scala> class Derived extends Base[Derived] {
     | val f1 = "Bye";
     | val f2 = 27;
     | val f3 = "Sad.";
     | }
defined class Derived

scala> (new Derived).stringVals
res0: Iterable[reflect.runtime.universe.TermSymbol] = List(value f3, value f1) 
```

请注意，当我扩展 Base 时，我必须显式命名我自己的类型，以便在编译时可以嵌入适当的 TypeTag（作为我的构造函数中的隐含）。我只是不知道解决办法。

vals 以 TermSymbols 列表的形式在此处返回。我不确定你想要什么；如果您只想要 String val 名称，请将“.map( _.name.toString.trim )” 添加到 stringVals 函数的末尾。（我发现在实践中调用 trim 很重要，但我敢打赌，随着反射库的最终确定和发展，它会变得多余。）

祝你好运！

# php - JavaScript 代码中未捕获的 SyntaxError

> ID：15784321
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:01:01.280
> 
> 标签：php, javascript, syntax-error

我有一个语法错误，上面写着“Uncaught SyntaxError: Unexpected token ILLEGAL”，我认为它在`<?php ?>`JavaScript 代码中的代码中，但无法弄清楚为什么......如果我删除标签中的`<?php ?>`代码，我不会收到错误. 我之前删除了错误，但随后错误突然再次“出现”。

所以这里是 JavaScript 函数。我正在调用 PHP 代码，因为如果出现问题，我需要显示错误，并且正在从 PHP 文件调用该 javascript 函数。我要求此 PHP 文件中的 PHP 文件。

```
function visErrorFraaLastOppSjekk() {
    document.getElementById("errorLastOpp").innerHTML = "Filnamnet " + "<strong>" + "<?php echo substr($_FILES['file']['name'],0,50) ?>" + "</strong>" + "eksisterer allereide.<br>" + "Gje bilete eit anna namn, eller<br>" + "velg eit anna bilete og prøv igjen.";
}

  // Denne funksjonen er for last_opp_sjekk.php som tar med denne sida, index_geolocation, og setter inn tekst i error boks for last opp vindauget
function visErrorFraaLastOppOK() {
    document.getElementById("errorLastOpp").innerHTML = "Bilete er blitt opplasta.";
    document.getElementById("filNamnTabellR").value = "Opplasta_bilete/" + "<?php echo $_FILES['file']['name'] ?>"; // EDIT: FIXED
    document.getElementById("namnLastOpp").value = "<?php echo $_FILES['file']['name'] ?>";
    document.getElementById("storrelse_kb").value = "<?php echo round($_FILES['file']['size']/1024000, 3) ?>" + " megabyte " + "(<?php echo round($_FILES['file']['size']/1024, 3) ?>" + " kilobyte)";
} 
```

这是错误代码的图片： ![在此处输入图像描述](https://i.stack.imgur.com/hU0oa.png)

![在此处输入图像描述](https://i.stack.imgur.com/LKpbY.png)

**更新：**

以下是 Google Developer Tools 中的更多代码：

```
<script>
    // Denne funksjonen er for last_opp_sjekk.php som tar med denne sida, index_geolocation, og setter inn tekst i error boks for last opp vindauget
function visErrorFraaLastOppSjekk() {
    document.getElementById("errorLastOpp").innerHTML = "Filnamnet " + "<strong>" + "<br /> 
```

// 错误代码在上面一行 Uncaught SyntaxError: Unexpected token ILLEGAL

( ! ) 注意：未定义索引：C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php 中的文件在第*103*行 调用堆栈#TimeMemoryFunctionLocation 10.0029204912{main}( )..\index_geolocation_admin.php **:** 0 " + "
" + "eksisterer allereide。” + “Gje bilete eit anna namn, eller
” + “velg eit anna bilete og prøv igjen。”; }

```
 // Denne funksjonen er for last_opp_sjekk.php som tar med denne sida, index_geolocation, og setter inn tekst i error boks for last opp vindauget
function visErrorFraaLastOppOK() {
    document.getElementById("errorLastOpp").innerHTML = "Bilete er blitt opplasta.";
    document.getElementById("filNamnTabellR").value = "Opplasta_bilete/" + "<br />
<font size='1'><table class='xdebug-error xe-notice' dir='ltr' border='1' cellspacing='0' cellpadding='1'>
<tr><th align='left' bgcolor='#f57900' colspan="5"><span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'>( ! )</span> Notice: Undefined index: file in C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php on line <i>109</i></th></tr>
<tr><th align='left' bgcolor='#e9b96e' colspan='5'>Call Stack</th></tr>
<tr><th align='center' bgcolor='#eeeeec'>#</th><th align='left' bgcolor='#eeeeec'>Time</th><th align='left' bgcolor='#eeeeec'>Memory</th><th align='left' bgcolor='#eeeeec'>Function</th><th align='left' bgcolor='#eeeeec'>Location</th></tr>
<tr><td bgcolor='#eeeeec' align='center'>1</td><td bgcolor='#eeeeec' align='center'>0.0029</td><td bgcolor='#eeeeec' align='right'>204912</td><td bgcolor='#eeeeec'>{main}(  )</td><td title='C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php' bgcolor='#eeeeec'>..\index_geolocation_admin.php<b>:</b>0</td></tr>
</table></font>
";
    document.getElementById("namnLastOpp").value = "<br />
<font size='1'><table class='xdebug-error xe-notice' dir='ltr' border='1' cellspacing='0' cellpadding='1'>
<tr><th align='left' bgcolor='#f57900' colspan="5"><span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'>( ! )</span> Notice: Undefined index: file in C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php on line <i>110</i></th></tr>
<tr><th align='left' bgcolor='#e9b96e' colspan='5'>Call Stack</th></tr>
<tr><th align='center' bgcolor='#eeeeec'>#</th><th align='left' bgcolor='#eeeeec'>Time</th><th align='left' bgcolor='#eeeeec'>Memory</th><th align='left' bgcolor='#eeeeec'>Function</th><th align='left' bgcolor='#eeeeec'>Location</th></tr>
<tr><td bgcolor='#eeeeec' align='center'>1</td><td bgcolor='#eeeeec' align='center'>0.0029</td><td bgcolor='#eeeeec' align='right'>204912</td><td bgcolor='#eeeeec'>{main}(  )</td><td title='C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php' bgcolor='#eeeeec'>..\index_geolocation_admin.php<b>:</b>0</td></tr>
</table></font>
";
    document.getElementById("storrelse_kb").value = "<br />
<font size='1'><table class='xdebug-error xe-notice' dir='ltr' border='1' cellspacing='0' cellpadding='1'>
<tr><th align='left' bgcolor='#f57900' colspan="5"><span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'>( ! )</span> Notice: Undefined index: file in C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php on line <i>111</i></th></tr>
<tr><th align='left' bgcolor='#e9b96e' colspan='5'>Call Stack</th></tr>
<tr><th align='center' bgcolor='#eeeeec'>#</th><th align='left' bgcolor='#eeeeec'>Time</th><th align='left' bgcolor='#eeeeec'>Memory</th><th align='left' bgcolor='#eeeeec'>Function</th><th align='left' bgcolor='#eeeeec'>Location</th></tr>
<tr><td bgcolor='#eeeeec' align='center'>1</td><td bgcolor='#eeeeec' align='center'>0.0029</td><td bgcolor='#eeeeec' align='right'>204912</td><td bgcolor='#eeeeec'>{main}(  )</td><td title='C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php' bgcolor='#eeeeec'>..\index_geolocation_admin.php<b>:</b>0</td></tr>
</table></font>
0" + " megabyte " + "(<br />
<font size='1'><table class='xdebug-error xe-notice' dir='ltr' border='1' cellspacing='0' cellpadding='1'>
<tr><th align='left' bgcolor='#f57900' colspan="5"><span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'>( ! )</span> Notice: Undefined index: file in C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php on line <i>111</i></th></tr>
<tr><th align='left' bgcolor='#e9b96e' colspan='5'>Call Stack</th></tr>
<tr><th align='center' bgcolor='#eeeeec'>#</th><th align='left' bgcolor='#eeeeec'>Time</th><th align='left' bgcolor='#eeeeec'>Memory</th><th align='left' bgcolor='#eeeeec'>Function</th><th align='left' bgcolor='#eeeeec'>Location</th></tr>
<tr><td bgcolor='#eeeeec' align='center'>1</td><td bgcolor='#eeeeec' align='center'>0.0029</td><td bgcolor='#eeeeec' align='right'>204912</td><td bgcolor='#eeeeec'>{main}(  )</td><td title='C:\wamp\www\geolocation_for_voss_gymnas\index_geolocation_admin.php' bgcolor='#eeeeec'>..\index_geolocation_admin.php<b>:</b>0</td></tr>
</table></font>
0" + " kilobyte)";
}

  // Denne funksjonen er for last_opp_sjekk.php som tar med denne sida, index_geolocation, og setter inn tekst i error boks for last opp vindauget
function visErrorLastOppSjekkIV() {
    document.getElementById("errorLastOpp").innerHTML = "Fila er ikkje valid. Prøv igjen;<br>" + "sjekk filtypa og filstørrelsen.";
}
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:02:49.173

我在以下行中看到了问题：

```
document.getElementById("filNamnTabellR").value = "Opplasta_bilete/" + <?php echo $_FILES['file']['name'] ?>; 
```

它缺少引号`<?php echo $_FILES['file']['name'] ?>`或应该是：

```
document.getElementById("filNamnTabellR").value = "Opplasta_bilete/<?php echo $_FILES['file']['name'] ?>"; 
```

请注意，对于从服务器端打印数据，最好使用`json_encode()`函数。

* * *

**更新：**您仍然有问题，因为`$_FILES['file']['name']`在 PHP 中未定义。服务器端生成一个警告，它分几行打印，而 JavaScript 不支持这种类型的多行字符串文字。您必须在打印之前检查`$_FILES`数组元素是否存在。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:03:43.963

这条线是罪魁祸首

```
document.getElementById("filNamnTabellR").value = "Opplasta_bilete/" + <?php echo $_FILES['file']['name'] ?>; 
```

将其替换为

```
document.getElementById("filNamnTabellR").value = "Opplasta_bilete/" + "<?php echo $_FILES['file']['name'] ?>"; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:04:09.547

改变这个

```
"Opplasta_bilete/" + <?php echo $_FILES['file']['name'] ?>; 
```

到

```
"Opplasta_bilete/" + "<?php echo $_FILES['file']['name'] ?>"; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:12:22.513

都是那些换行符。您正在尝试将*大量*文本塞入 JavaScript 字符串，而无需先对其进行清理。

# griffon - 如何在 Griffon 中加密密码？

> ID：15784324
> 
> 赞同：0
> 
> 时间：2013-04-03T10:01:03.063
> 
> 标签：griffon

我试图在 Griffon 中加密密码，但我不知道该怎么做。通常我会在另一种语言中使用 md5，但是在 griffon 中呢？

这是我的一些代码：

```
if (sql.firstRow("SELECT userID FROM tbluser WHERE userID = ${model.userID}") != null) {
    // usually in SQL like this
    user.executeUpdate("UPDATE tbluser SET username = ${model.username}, password = md5(${model.password}), level = ${model.level} WHERE userID = ${model.userID}")

    edt {
        int index = model.listUser.findIndexOf{it['userID'] == model.userID}
        model.listUser[index] += [username: model.username, password: model.password, level: model.level] --> how to do md5 here?
    }
} else {
    user.add(userID: model.userID, username: model.username, password: model.password, level: model.level) --> and here?

    edt { model.listUser << [userID: model.userID, username: model.username, password: model.password, level: model.level] }
} 
```

我只是得到一个关于它的示例代码并且它有效。

这里的代码：

```
import java.security.MessageDigest
String generateMD5(String s) {
        MessageDigest digest = MessageDigest.getInstance("MD5")
        digest.update(s.bytes);
        return new BigInteger(1, digest.digest()).toString(16).padLeft(32, '0')
} 
```

对于我的情况：`generateMD5(model.password)`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T14:25:53.620

本身加密与 Griffon 无关，因为它只是字符/字节数组的转换。但是有一个 bcrypt 插件可以应用 BCrypt 算法[http://artifacts.griffon-framework.org/plugin/bcrypt](http://artifacts.griffon-framework.org/plugin/bcrypt)

有关 BCrypt 的更多信息，请访问[http://codahale.com/how-to-safely-store-a-password/](http://codahale.com/how-to-safely-store-a-password/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:12:07.930

我对格里芬很陌生，但我认为这可以帮助你。我希望我能帮助你。

[Codesearch Griffon MD5](http://searchco.de/codesearch/view/25242810)

# javascript - 部署时自定义操作 url 错误：部署步骤中发生错误

> ID：15784326
> 
> 赞同：0
> 
> 时间：2013-04-03T10:01:05.010
> 
> 标签：javascript, sharepoint-2013

我有一些奇怪的错误。在sharepoint 2010中，我有类似的东西：

```
 <UrlAction Url="javascript:OpenPopUpPageWithTitle('{SiteUrl}/Style Library/AdminPage/AdminPage.aspx?itemid={ItemId}&#38;listid={ListId}');" /> 
```

它有效

但是在sharepoint 2013中我在部署时出错

> 错误 1 ​​部署步骤“为 SharePoint 安装应用程序”中发生错误：验证应用程序包时出现错误。

应用程序处于自动托管模式。我不知道该怎么做，我在 urlaction 中尝试了它不想工作的任何 js...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T12:02:09.960

好的，我发现了。

如果您在 CommandAction 中添加 JavaScript 代码，您的应用程序将不会部署在 SharePoint 中。它将导致以下错误消息（ULS 日志） - 意外异常：验证应用程序包时出现错误：验证应用程序包时出现错误。与此异常相关的其他警告/错误：自定义操作 url 必须以“http:”、“https:”、“~appWebUrl”或“~remoteAppUrl”开头。解决方案是新属性，如 customactions：

```
 HostWebDialog="TRUE"
            HostWebDialogHeight="420"
            HostWebDialogWidth="510" 
```

我认为它可以帮助某人

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-08T06:43:36.443

根据[MSDN](http://msdn.microsoft.com/en-us/library/jj220046.aspx)，这是不可能的：

> CustomAction 不能包含 JavaScript：任何 UrlAction 或 CommandAction 都必须是要导航到的 URL。除了特定于应用程序的标记外，还可以使用常规自定义操作标记对 URL 进行参数化。

使用 HostWebDialog 似乎是这种情况下的首选方法。您还可以考虑在 App Web 中为您的页面传递一个附加参数，以便识别它是从 CustomAction 打开的。

# jquery - 使用偏移量为 scrollTop 设置动画

> ID：15784330
> 
> 赞同：7
> 
> 时间：2013-04-03T10:01:13.903
> 
> 标签：jquery, jquery-ui, jquery-ui-accordion

我正在使用 jQuery UI 手风琴，但有些文本太长，导致它靠近页面顶部。我想要的是当一个部分打开时它会跳到该部分的顶部。这段代码可以完美地做到这一点，但它会卡在顶部，看起来很老套。

```
$('#accordion').bind('click',function(){
theOffset = $(this).offset();
$(window).scrollTop(theOffset.top - 50);
}); 
```

我将如何为 scrollTop 设置动画，使其“滑行”到顶部

非常感谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-04-03T10:02:53.363

采用

```
$('body,html').animate({
    scrollTop: theOffset.top - 50
}); 
```

代替

```
$(window).scrollTop(theOffset.top - 50); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:11:32.793

使用[jquery animate](http://api.jquery.com/animate/)*在*指定时间内为属性设置动画，而不是立即应用它们。

```
$('#accordion').bind('click',function(){
    theOffset = $(this).offset();
    $('body,html').animate({
        scrollTop: theOffset.top - 50;
    });
}); 
```

# eclipse - 在 Eclipse 中退出 F2 焦点

> ID：15784331
> 
> 赞同：1
> 
> 时间：2013-04-03T10:01:14.637
> 
> 标签：eclipse, keyboard-shortcuts

当在 Eclipse 中按下`F2`代码中的成员时，会显示一个显示 Javadoc 的弹出窗口，重点放在它上面。让我退出此弹出窗口的键盘键是什么？
实际上，按下`F2`按钮会显示弹出窗口但没有滚动，这是一个错误吗？
此功能称为`Tooltip Description`.

## 回答

我发现了答案。实际上`F2`，由于另一个应用程序引起的冲突，eclipse 无法正常运行，该应用程序也`F2`用作功能，在后台运行。

# ios - [NSDateFormatter 类]：发送到已释放实例的消息

> ID：15784334
> 
> 赞同：3
> 
> 时间：2013-04-03T10:01:24.183
> 
> 标签：ios, objective-c, cocoa-touch, nsdateformatter

下面的代码有什么问题？

```
NSDate *date = [NSDate date];
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateStyle:NSDateFormatterShortStyle];
[formatter setTimeStyle:NSDateFormatterMediumStyle];
error.timestamp =  [formatter stringFromDate:date];
[formatter release]; 
```

我在下面收到此错误：

```
 *** -[NSDateFormatter class]: message sent to deallocated instance 0x8c04f00 
```

我该如何解决？

我不使用ARC。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:00:51.680

您发布的代码似乎是正确的。
您确定您从发布的代码中收到消息吗？
能否[在 Xcode 中设置异常断点](http://developer.apple.com/library/mac/#recipes/xcode_help-breakpoint_navigator/articles/adding_an_exception_breakpoint.html)来检查上面的代码是否有问题？

如果你不重用 NSDateFormatter，你可以使用下面的类方法在一行代码中获取日期字符串：

```
[NSDateFormatter localizedStringFromDate:date dateStyle:NSDateFormatterShortStyle timeStyle:NSDateFormatterMediumStyle] 
```

# macos - 如何使用osx终端删除目录中文件夹名称为X的所有文件夹

> ID：15784335
> 
> 赞同：19
> 
> 时间：2013-04-03T10:01:24.603
> 
> 标签：macos, terminal, directory

有一个名为 X 的文件夹位于根目录 Y 的多个子文件夹中。我想删除 Y 中存在的所有名为 X 的文件夹及其所有子文件夹。我想使用**osx Terminal**来做到这一点。

该文件夹可以位于 Y 下游任何级别的任何位置，因此我想使用一种更系统的方法，而不是仅`rm -r`用于我找到的每个位置。

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-04-03T10:03:30.230

"cd" 到目录 Y 的根目录

然后（假设文件夹名称是“X”，输入）：

“ `find . -name X -exec rm -rf {} \;`”（并且要非常小心从哪里开始这个“ `find`”...你只想在你的 Y 目录中执行此操作）。

我一直在做这种事情来删除旧的/破坏的存储库目录（如“ `.svn`”），我怀疑这也是你可能也在做的事情。

现在可能是我提醒您“时间机器”是在您的 Macintosh 上启用的好东西的好时机。

# sugarcrm - 在 SugarCRM 的报价单中隐藏订单项的折扣

> ID：15784338
> 
> 赞同：1
> 
> 时间：2013-04-03T10:01:33.097
> 
> 标签：sugarcrm

想要在报价模块的行项目中隐藏折扣字段。

怎么做？

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:35:28.260

您将需要编辑位于引号模块中的“quotes.js”文件，并从添加行方法中删除生成的元素。

这可以通过在自定义目录中创建quotes.js 文件的副本以安全升级的方式完成。您还需要指定自定义 view.edit 和 EditViewFooter.html 并更改每个文件中的引用以指向自定义目录。

以下是您需要创建/修改的文件列表...

```
custom/modules/Quotes/metadata/editviewdefs.php
custom/modules/Quotes/quotes.js
custom/modules/Quotes/tpls/EditViewFooter.tpl
custom/modules/Quotes/views/view.edit.php 
```

# events - Mono GTK# - 窗口或小部件的 PropertyNotifyEvent

> ID：15784339
> 
> 赞同：0
> 
> 时间：2013-04-03T10:01:37.907
> 
> 标签：events, event-handling, mono, gtk#

`Gtk.Widget.PropertyNotifyEvent`如果给定窗口或小部件的属性已更改并找到事件，我希望能够做出反应。（单声道）文档说，如果任何属性已更改，它将被解雇。因此，我尝试使用它，但从未调用过我的事件处理程序方法：

```
protected void DoSomething()
{
    Gtk.Window __Window = new Gtk.Window(Gtk.WindowType.Toplevel);
    Gtk.Button __Button = new Gtk.Button();
    __Window.Add(__Button);
    __Button.PropertyNotifyEvent += this.ButtonPropertyChangedEventHandler;

    ... // Show the window

    __Button.Label = Mono.Unix.Catalog.GetString("This is a test button");
}

protected void ButtonPropertyChangedEventHandler(object o, PropertyNotifyEventArgs e)
{
    // Handle the event
} 
```

我错过了什么吗？还是我理解了一些非常基本的错误？还是有其他方法可以实现我的目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-24T15:13:03.973

需要通过设置`GDK_PROPERTY_CHANGE_MASK`标志显式启用属性更改通知，如下所述：

[https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-property-notify-event](https://developer.gnome.org/gtk3/stable/GtkWidget.html#GtkWidget-property-notify-event)

在 Gtk# 中，您只需将以下行添加到您的代码中：

__Button.Events |= Gdk.EventMask.PropertyChangeMask;

并且分配给`PropertyNotifyEvent`事件的处理程序将开始接收属性更改通知。Gtk# 隐式启用*某些*事件，但所有其他事件应从用户代码或从 stetic 设计器启用。

# c# - .Net string.CompareOrdinal 之类的 Linq 函数

> ID：15784340
> 
> 赞同：5
> 
> 时间：2013-04-03T10:01:42.217
> 
> 标签：c#, string, linq, entity-framework-4.1, comparison

我需要使用`string.CompareOrdinal(...)`linq 查询内部来比较字符串。

```
string max;
string min;

var res = db.Table
            .Where(c => string.CompareOrdinal(c.Id,  min) >= 0)
            .Where(c => string.CompareOrdinal(c.Id,  max) <= 0)
            .ToList(); 
```

代码抛出异常：

> LINQ ti Entities 无法识别方法“Int32 CompareOrdinal(System.String, System.String)”方法，并且该方法无法转换为存储表达式。

表中有很多数据，所以我确实需要该`where`子句。

有没有解决的办法？

**更新**

我不想*决定*两个字符串是否相等 - 是否区分大小写。

我试图确定一个字符串是否在一个*范围内*。所以问题是

*   有没有办法做到这一点 - 所以这适用于 L2E？

显然，我不能使用`string.CompareOrdinal`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-11-13T08:53:10.903

我的一位同事找到了一种解决方法，使用[`string.Compare`](http://msdn.microsoft.com/en-us/library/84787k22%28v=vs.100%29.aspx)而不是[`string.CompareOrdinal`](http://msdn.microsoft.com/en-us/library/af26w0wa%28v=vs.100%29.aspx)

```
string min = "a";
string max = "z";

 var res = db.Table
         .Where(c => string.Compare(c.Id, min, StringComparison.OrdinalIgnoreCase) >= 0)
         .Where(c => string.Compare(c.Id, max, StringComparison.OrdinalIgnoreCase) <= 0)
         .ToList(); 
```

这是生成的 SQL：

```
SELECT 
[Extent1].[Id] AS [Id]
FROM [dbo].[Table] AS [Extent1]
WHERE ([Extent1].[Id] >= 'a') AND ([Extent1].[Id] <= 'z') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-29T19:19:42.793

如果 Id 是字符串，则此解决方案有效，因此看起来 Id 是 int。Int 不能与字符串进行比较。将 Id 更改为字符串或将 min/max 更改为 int 以使其工作（并在 int 值之间使用简单的 < 和 >）。

顺便说一句：它将节省 1 次迭代来检查 1 where 函数中的 min 和 max。

# kinect - Kinect 中的手指跟踪

> ID：15784343
> 
> 赞同：2
> 
> 时间：2013-04-03T10:01:50.183
> 
> 标签：kinect, kinect-sdk, openkinect, kinect.toolbox

我正在探索 kinect 的开发，并希望能够识别手指而不是只识别整个手。kinect 官方 SDK 的骨骼 API 只有手关节 - 没有手指跟踪的规定。我还读到最近微软在新的 sdk 中包含了抓握识别 API，并且可能在未来的版本中包含手指跟踪。

我的问题是给定当前资源，我该如何进行手指跟踪？我们有相同的外部库吗？考虑到用户体验指南不鼓励这种手势，使用 kinect 实际实现手指跟踪是否可行。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T18:05:32.437

> 我该如何进行手指跟踪？我们有相同的外部库吗？

有几个项目展示了 Kinect 执行手指跟踪的能力。还存在一些提供某种手指跟踪 API 的第三方库。

这是一个非常有趣的代码，我通过简单的网络搜索找到了：

*   [http://www.kinecthacks.com/kinect-hand-tracking-gesture-experiment/](http://www.kinecthacks.com/kinect-hand-tracking-gesture-experiment/)

如果您想使用官方 SDK 或其他 SDK 之一，则是另一个问题。没有什么可以阻止官方 SDK 执行手部跟踪，但它没有内置任何内容来执行此类操作。

> 考虑到用户体验指南不鼓励这种手势，使用 kinect 实际实现手指跟踪是否可行。

如果“可行”是指可能 - 是的。没有什么可以阻止您使用官方 SDK 实现自己的手指跟踪机制。

另一方面，如果您的意思是跟踪手指与总体身体运动的 UX 实用性，那将留给您的应用程序设计。为了手指跟踪而进行手指跟踪并不能提供良好的无控制交互体验。[Kinect for Windows 1.7 人机界面指南](http://download.microsoft.com/download/B/0/7/B070724E-52B4-4B1A-BD1B-05CC28D07899/Human_Interface_Guidelines_v1.7.0.pdf)的“距离相关的交互”部分很好地说明了用户与屏幕的距离如何影响与屏幕交互的最佳方式。请注意，我在上面链接到的示例中的用户非常靠近屏幕。

你的应用程序要做什么；用户如何接近您的应用程序（即，在街上、在实验室中、学习或不学习、站立/坐着等...）；距离；用户年龄和能力（即儿童和老人通常不太灵巧，残疾人也一样）。*如果您的应用程序应该*完全支持手指跟踪，那么所有这些（是的......更多）都会出现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-16T10:38:20.503

另一个用于手指跟踪的库： [https ://fingertip.codeplex.com/](https://fingertip.codeplex.com/)

# java - Java 通配符与类型参数

> ID：15784344
> 
> 赞同：11
> 
> 时间：2013-04-03T10:01:50.483
> 
> 标签：java, generics

为什么1有效而2无效？

1：

```
public List<? extends Integer> l1;
public List<? extends Number> l2 = l1; 
```

2：

```
public List<U> l1;
public List<S> l2 = l1;
//where U and S have been previously defined as: **S extends Number,U extends Integer** 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T14:50:45.333

[泛型不是协变的](https://stackoverflow.com/questions/2660827/java-generics-covariance)。例如：

```
List<Integer> l1;
List<Number> l2;
l1 = l2; // incompatible types
l2 = l1; // also incompatible 
```

但是，通配符类型提供了一种表达协方差的方法：

```
List<? extends Integer> l1;
List<? extends Number> l2 = l1; //legal 
```

`l1`被表示为`List`某种*未知类型*的 a 或 extends `Integer`。同样，`l2`is a`List`属于某种类型，即 is 或 extends `Number`。由于`Integer`extends `Number`，编译器知道分配`l1`给`l2`必须是可以的。

这种情况不同：

```
<S extends Number, U extends Integer> void someMethod() {

    List<U> l1;
    List<S> l2 = l1; //incompatible types
} 
```

`S`并且`U`是类型参数，这意味着它们由调用者`someMethod`（或类型推断）提供一些特定的类型参数。这些类型参数可以是具体类型`Integer`或通配符捕获。

虽然它们也是有界的，但这与使用上面的有界通配符不同。类型参数在声明时是有界的——在方法体中它们被理解为不会改变。例如，让我们说两者`S`，并通过调用`U`解决：`Integer`

```
this.<Integer, Integer>someMethod(); 
```

在这种情况下，我们可以想象方法体如下所示：

```
List<Integer> l1;
List<Integer> l2 = l1; // okay why not? 
```

这将是合法的，但我们只是碰巧走运了。有很多情况是不会的。例如：

```
this.<Double, Integer>someMethod(); 
```

现在我们重新构想方法体：

```
List<Integer> l1;
List<Double> l2 = l1; // danger! 
```

所以你可以看到有界类型参数与有界通配符有很大不同，它允许不同的泛型类型协变地“交换”：

```
List<Integer> l1;
List<Double> l2;
List<? extends Number> l3;
l3 = l1;
l3 = l2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:21:59.807

顺便说一句：你不能扩展`Integer`,`Integer`是一个`final`类。

```
// l1 holds any subclass of Integer and, because Integer implements Number it is also a subclass of Number
public List<? extends Integer> l1;
// l1 (see above) implements Number so this is fine.
public List<? extends Number> l2 = l1;

// Using Integer here instead of your U because you cannot extend Integer - it is final.
public List<Integer> l3;
// Make S extend Number
static class S extends Number {
  // Implementing the abstract methods of Number
}
// NOT valid because l4 must be a List of S not a list of ANY Number and l3 is a List<Integer> - no connection other than a commmon interface.
public List<S> l4 = l3; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-03T10:17:22.217

看看在 1.1 中，您说的是任何扩展 Integer 的类，而在 1.2 中是任何扩展 Number 的类。现在是这样的 Integer 是 Number 的子类，这就是为什么它在第一种情况下没有给出任何错误的原因。但是在 2.1 中你只说 U 而在 2.2 中只说 S 而你正在做

```
 public List<S> l2 = l1 
```

并且 l1 的类型是 U 而不是 S 并且泛型不支持它自己的此类对象引用。您将不得不使用第一种情况中使用的通配符。

```
 public List<? extends Number> l2 = l1; 
```

会解决你的问题。。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-04-03T10:07:21.990

因为在 1 中，您分别说的是 Integer 和 Number 的任何子类。

但是在第二个中，您说的是 U 和 S 的泛型，并且像这样的泛型不支持 Super 可以参考 Java OOP 的子类对象概念。

# ruby - 条件 HTML 属性

> ID：15784351
> 
> 赞同：0
> 
> 时间：2013-04-03T10:02:24.103
> 
> 标签：ruby, ruby-on-rails-3

在 ActionView 中，我需要根据条件显示属性。

```
<%= f.text_field :regmax_remote, {
  :class => 'span2', 
  :style => "display:#{@event.regmax_remote.present? ? "block" : "none"};"
} 
%> 
```

有没有更漂亮的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:21:37.527

上面的代码很好，如果你打算只使用一次，

但如果这将在许多地方使用，那么你可能需要帮助

```
def event_display_style event
  event.regmax_remote.present? ? "block" : "none"
end 
```

如果您有多个基于多个条件的属性，那么您可以使用帮助程序以哈希格式返回属性并像这样使用它。

```
<%= f.text_field :regmax_remote, event_display_style(@event) %> 
```

如果你想要一个带有默认散列的变量散列，那么你也可以做这样的事情

```
<%= f.text_field :regmax_remote, {class: "span2"}.merge(event_display_style(@event)) %> 
```

还有一些其他方法可以使这段代码看起来更好。你可能也喜欢 draper gem。它提供了对显示的面向对象的控制，同时可以访问视图助手。

[https://github.com/drapergem/draper](https://github.com/drapergem/draper)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:07:44.697

你可以尝试如下，

```
<% if (@event.regmax_remote.present?) %>
  <%= f.text_field :regmax_remote, class: "span2" %>
<% end %> 
```

不要复制相同的内容，只需根据您的代码进行编辑并将其用作示例。

# cordova - Phonegap相机功能

> ID：15784354
> 
> 赞同：3
> 
> 时间：2013-04-03T10:02:28.410
> 
> 标签：cordova

我知道这里有很多关于 Phonegap 和使用相机功能的问题。我试图解决这个问题，但仍然没有解决方案。

设备是 Nexus 7，构建应用程序后相机不会启动。这是代码：

```
<script type="text/javascript" src="PhoneGap.js" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">

var pictureSource;   // picture source
var destinationType; // sets the format of returned value 

// Wait for PhoneGap to connect with the device
//
document.addEventListener("deviceready",onDeviceReady,false);

// PhoneGap is ready to be used!
//
function onDeviceReady() {
    pictureSource=navigator.camera.PictureSourceType;
    destinationType=navigator.camera.DestinationType;
}

// Called when a photo is successfully retrieved
//
function onPhotoDataSuccess(imageData) {
  // Uncomment to view the base64 encoded image data
  // console.log(imageData);

  // Get image handle
  //
  var smallImage = document.getElementById('smallImage');

  // Unhide image elements
  //
  smallImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  smallImage.src = "data:image/jpeg;base64," + imageData;
}

// Called when a photo is successfully retrieved
//
function onPhotoURISuccess(imageURI) {
  // Uncomment to view the image file URI 
  // console.log(imageURI);

  // Get image handle
  //
  var largeImage = document.getElementById('largeImage');

  // Unhide image elements
  //
  largeImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  largeImage.src = imageURI;
}

// A button will call this function
//
function capturePhoto() {
  // Take picture using device camera and retrieve image as base64-encoded string
  navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50 });
}

// A button will call this function
//
function capturePhotoEdit() {
  // Take picture using device camera, allow edit, and retrieve image as base64-
encoded string  
  navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: 
true }); 
}

// A button will call this function
//
function getPhoto(source) {
  // Retrieve image file location from specified source
  navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
    destinationType: destinationType.FILE_URI,
    sourceType: source });
}

// Called if something bad happens.
// 
function onFail(message) {
  alert('Failed because: ' + message);
}

</script>
</head>
<body>

<button onclick="capturePhoto();">Capture Photo</button> <br> 
```

* * *

用三星galaxy s2试了一下……再一次什么也没发生！我不知道问题！？这是代码：

**androidmainfest.xml 权限：**

```
<uses-sdk android:minSdkVersion="14" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-permission android:name="android.permission.VIBRATE" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.RECEIVE_SMS" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.RECORD_VIDEO"/>
<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
<uses-permission android:name="android.permission.READ_CONTACTS" />
<uses-permission android:name="android.permission.WRITE_CONTACTS" />   
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />   
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.BROADCAST_STICKY" />
<uses-permission android:name="android.permission.GET_ACCOUNTS" />
<uses-permission android:name="android.permission.READ_PHONE_STATE" />

<uses-feature android:name="android.hardware.camera" />
<uses-feature android:name="android.hardware.camera.autofocus" /> 
```

**这里是html文件中的代码：**

```
<script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
<script type="text/javascript" charset="utf-8">

var pictureSource;   // picture source
var destinationType; // sets the format of returned value 

// Wait for PhoneGap to connect with the device
//
document.addEventListener("deviceready",onDeviceReady,false);

// PhoneGap is ready to be used!
//
function onDeviceReady() {
    pictureSource=navigator.camera.PictureSourceType;
    destinationType=navigator.camera.DestinationType;
}

// Called when a photo is successfully retrieved
//
function onPhotoDataSuccess(imageData) {
  // Uncomment to view the base64 encoded image data
  // console.log(imageData);

  // Get image handle
  //
  var smallImage = document.getElementById('smallImage');

  // Unhide image elements
  //
  smallImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  smallImage.src = "data:image/jpeg;base64," + imageData;
}

// Called when a photo is successfully retrieved
//
function onPhotoURISuccess(imageURI) {
  // Uncomment to view the image file URI 
  // console.log(imageURI);

  // Get image handle
  //
  var largeImage = document.getElementById('largeImage');

  // Unhide image elements
  //
  largeImage.style.display = 'block';

  // Show the captured photo
  // The inline CSS rules are used to resize the image
  //
  largeImage.src = imageURI;
}

// A button will call this function
//
function capturePhoto() {
  // Take picture using device camera and retrieve image as base64-encoded string
  navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50 });
}

// A button will call this function
//
function capturePhotoEdit() {
  // Take picture using device camera, allow edit, and retrieve image as base64- 
encoded string  
  navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: 
true }); 
}

// A button will call this function
//
function getPhoto(source) {
  // Retrieve image file location from specified source
  navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
    destinationType: destinationType.FILE_URI,
    sourceType: source });
}

// Called if something bad happens.
// 
function onFail(message) {
  alert('Failed because: ' + message);
}

</script>
</head>
<body>
<button onclick="capturePhoto();">Capture Photo</button> <br>
<button onclick="capturePhotoEdit();">Capture Editable Photo</button> <br>
<button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">From Photo Library</button><br>
<button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">From Photo 
Album</button><br>
<img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
<img style="display:none;" id="largeImage" src="" />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T12:52:12.943

现在它起作用了。不知道问题所在，但它有效。这是代码：

```
<!DOCTYPE html>
<html>
  <head>
    <title>Capture Photo</title>

    <link rel="stylesheet" href="css/style.css" />

<script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
<script type="text/javascript" charset="utf-8">

function capturePhoto(){
    navigator.camera.getPicture(uploadPhoto,null,{sourceType:1,quality:60});
}

function uploadPhoto(data){
    // this is where you would send the image file to server
    //output image to screen
        cameraPic.src = "data:image/jpeg;base64," + data;
    }

navigator.notification.alert(message, alertCallback, [title], [buttonName]);

navigator.notification.alert(
        'Your Photo has been uploaded', // message
        okay,                           // callback
        'Photo Uploaded',               // title
        'OK'                            // buttonName
    );

function uploadPhoto(data){
    // this is where you would send the image file to server
        cameraPic.src = "data:image/jpeg;base64," + data;
        // Successful upload to the server
        navigator.notification.alert(
            'Your Photo has been uploaded',  // message
            okay,                           // callback
            'Photo Uploaded',              // title
            'OK'                          // buttonName
        );
        // upload has failed Fail
        /*
        if (failedToUpload){
        navigator.notification.alert(
            'Your Photo has failed to upload',
            failedDismissed,
            'Photo Not Uploaded',
            'OK'
            );
        }
        */
    }
    function okay(){
        // Do something
    }

    </script>
  </head>
  <body>
<div id="camera">
    <button class="camera-control" onclick="capturePhoto();">Capture Photo</button>
    <div style="text-align:center;margin:20px;">
        <img id="cameraPic" src="" style="width:auto;height:120px;"></img>
    </div>
</div>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:31:15.950

您需要提供文档中提到的选项。例子：

```
navigator.camera.getPicture(onSuccess, onFail, { quality: 50,
    destinationType: Camera.DestinationType.DATA_URL
 }); 
```

[参考： http](http://docs.phonegap.com/en/2.5.0/cordova_camera_camera.md.html#camera.getPicture) ://docs.phonegap.com/en/2.5.0/cordova_camera_camera.md.html#camera.getPicture

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-13T04:01:30.380

可能是你的手机内存不够，这个问题其实不是Phonegap的问题。这也是原生android应用程序的常见问题。它发生的原因是当相机被触发时，android活动进入后台（onStop状态），等待相机拍照。然后 GC 来并在相机动作结束之前杀死活动以释放内存，当相机完成时，您的活动已经死亡。这就是应用程序重新启动的原因。

这是我的建议

1.更换cramer插件，避免使用自定义插件启动垃圾收集，（[http://code.google.com/p/foreground-camera-plugin/](http://code.google.com/p/foreground-camera-plugin/) , [http://code.google.com/p/foreground- gallery-](http://code.google.com/p/foreground-gallery-) plugin /) 2\. 检测内存不足杀死其他进程，主动释放内存 3\. 提高它们的存活率，尽量避免在系统选中释放内存。

```
 private void clearMemory(boolean killAll)
{
    mklog("当前系统可用内存大小是：" + getAvailMemory(getApplicationContext()));
    ActivityManager activityManger = (ActivityManager) this
            .getSystemService(ACTIVITY_SERVICE);
    List<ActivityManager.RunningAppProcessInfo> list = activityManger
            .getRunningAppProcesses();
    if (list != null)
        for (int i = 0; i < list.size(); i++)
        {
            ActivityManager.RunningAppProcessInfo apinfo = list.get(i);

            System.out.println("pid            " + apinfo.pid);
            System.out.println("processName              "
                    + apinfo.processName);
            System.out
                    .println("importance            " + apinfo.importance);
            String[] pkgList = apinfo.pkgList;

            if (apinfo.importance >= ActivityManager.RunningAppProcessInfo.IMPORTANCE_BACKGROUND
                    || (killAll && apinfo.importance >= ActivityManager.RunningAppProcessInfo.IMPORTANCE_SERVICE))
            {
                // Process.killProcess(apinfo.pid);
                for (int j = 0; j < pkgList.length; j++)
                {
                    activityManger.killBackgroundProcesses(pkgList[j]);
                    mklog("准备杀死进程：" + pkgList[j]);
                }
            }

        }

    mklog("清理之后 当前系统可用内存大小是：" + getAvailMemory(getApplicationContext()));
}

private long getAvailMemory(Context context)
{
    ActivityManager am = (ActivityManager) context
            .getSystemService(Context.ACTIVITY_SERVICE);
    MemoryInfo mi = new MemoryInfo();
    am.getMemoryInfo(mi);
    return mi.availMem / (1024 * 1024);
}   
      public void mklog(String contentString)
{
    Log.i("Web Console", contentString);
} 
```

# python - sqlalchemy，将 MySQL 字符集设置为“create_engine”参数

> ID：15784357
> 
> 赞同：3
> 
> 时间：2013-04-03T10:02:35.043
> 
> 标签：python, mysql, sqlalchemy

我创建`sqlalchemy`连接到 MySQL 数据库的引擎。我想指定`charset`为[`create_engine`](http://docs.sqlalchemy.org/en/latest/dialects/mysql.html#dialect-mysql-mysqldb-connect)参数。

如果我这样使用`create_engine`：

```
create_engine('mysql+mysqldb://pd:pd@localhost/pd?charset=utf8') 
```

那么一切都很好。但是，当我这样使用它时：

```
create_engine('mysql+mysqldb://pd:pd@localhost/pd', charset='utf8') 
```

然后我收到以下错误：

```
TypeError: Invalid argument(s) 'charset' sent to create_engine(), using
    configuration MySQLDialect_mysqldb/QueuePool/Engine. Please check that
    the keyword arguments are appropriate for this combination of components. 
```

根据[文档](http://docs.sqlalchemy.org/en/rel_0_8/core/engines.html#engine-creation-api)，这种用法应该是可能的：

> URL 的字符串形式为 dialect+driver://user:password@host/dbname[?key=value..] ...
> 
> **kwargs 采用多种选项，这些选项被路由到相应的组件。参数可能特定于引擎、底层方言以及池。特定方言也接受该方言独有的关键字参数。在这里，我们描述了大多数 create_engine() 用法常用的参数。

为什么我不能`charset`单独指定？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T18:49:46.667

单独传递的附加 DBAPI 参数通过[connect_args](http://docs.sqlalchemy.org/en/rel_0_8/core/engines.html#custom-dbapi-args)传递。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-21T10:08:47.610

您可以使用`sqlalchemy.engine.url`. [网址](http://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.engine.url.URL)类

```
import os
from sqlalchemy import create_engine
from sqlalchemy.engine.url import URL

DB = {
    'drivername': 'mysql',
    'host': '127.0.0.1',
    'port': '3306',
    'username': os.environ['DBUNAME'],
    'password': os.environ['DBPASS'],
    'database': os.environ['DBNAME']
}

engine = create_engine(URL(**DB), connect_args={'charset':'utf8'}) 
```

甚至更好

```
DB = {
    'drivername': 'mysql',
    'host': '127.0.0.1',
    'port': '3306',
    'username': os.environ['DBUNAME'],
    'password': os.environ['DBPASS'],
    'database': os.environ['DBNAME'],
    'query': {'charset':'utf8'}
}

engine = create_engine(URL(**DB)) 
```

根据[docs](http://docs.sqlalchemy.org/en/latest/core/engines.html#sqlalchemy.engine.url.URL) `URL`类有以下参数

> *   drivername – 数据库后端的名称。此名称将对应于 sqlalchemy/databases 中的模块或第三方插件。
> *   用户名 - 用户名。
> *   密码——数据库密码。
> *   主机 - 主机的名称。
> *   端口 - 端口号。
> *   数据库 – 数据库名称。
> *   查询 - 连接时要传递给方言和/或 DBAPI 的选项字典。

# javascript - 使用 ajax 和 javascript 返回一个值

> ID：15784359
> 
> 赞同：0
> 
> 时间：2013-04-03T10:02:39.160
> 
> 标签：javascript, jquery, asp.net-mvc-4

抱歉，这一定是一个非常简单的问题。在下面的代码

```
var myFunction = function (city){
    var totaljobs =null;

    $.ajax({
        url: "/EN/taleo/GetTotalJobs",
        type: 'GET',
        contentType: 'application/json',
        dataType: 'json',
        cache: false,
        data: { value: city },
        success: function (result) {
            var JobsHTML = "";
            for (count = 0; count < result.length; count++) {
                JobsHTML += "<p>" + result[count]["JobTitle"] + "</p>"; //your fields here
            }
            totaljobs = JobsHTML;
          /* alert(totaljobs);*/

        }
    });

 return totaljobs;
 } 
```

我正在尝试使用所有 jobHTML 信息返回 totaljobs 值。但我得到的只是NULL。有人可以告诉我哪里出错了。非常感谢提前赫什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:12:49.547

您需要对服务进行同步调用。尝试使用此选项：

```
async : false 
```

这可能有效..

# forms - 金额未以贝宝形式显示

> ID：15784367
> 
> 赞同：1
> 
> 时间：2013-04-03T10:02:54.953
> 
> 标签：forms, paypal

我正在使用以下贝宝代码，但一旦网站将页面重定向到贝宝，金额仍不会以贝宝形式显示。

```
 `<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="XXXX">
<input type="hidden" name="amount_1" value="200">
<input type="image" style="width: 70px !important; padding: 0px !important;"     src="http://www.merlioncricket.com/Login/static/images/payment.png" border="0" name="submit" alt="PayPal – The safer, easier way to pay online.">
<img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
</form>` 
```

请告诉我，为什么金额没有显示。

谢谢，角斗士

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:39:27.233

最后我找到了答案，也许它对其他人有用，每当您创建贝宝按钮时，请确保在步骤 2 中未单击“在 PayPal 保存按钮”，然后在创建按钮后删除代码保护，然后选择代码& 复制贝宝生成的代码。

它将解决问题。

谢谢....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T13:01:09.417

使用托管按钮时，您不能传递金额。托管按钮可防止有人直接修改代码并传递不同的数量。如果您想要不同的金额，则需要登录您的帐户并编辑托管按钮。如果要动态填充金额，则需要创建一个非托管明文按钮。

# c# - asp.net 动态 GridView SelectCommand 分页/排序抛出 Oracle 错误

> ID：15784369
> 
> 赞同：1
> 
> 时间：2013-04-03T10:02:59.880
> 
> 标签：c#, asp.net, oracle

**编辑：在 Felix 的帮助下自己解决了这个问题（见下面的答案）**

我正在尝试使用 SelectCommand 向 GridView 添加一些基本的搜索/过滤功能。更改 DropdownList 并单击按钮后，`SelectCommand`应随着添加`SelectParameter`.

问题是，一旦更改`SelectCommand`并添加适当的`SelectParameter`，只有第一页完美显示，显示正确的过滤结果。尝试更改页面（或排序）会引发 Oracle 错误

> （Sys.WebForms.PageRequestManagerServerErrorException：ORA-01036：非法变量名称/编号）。

删除过滤（从而恢复 SelectCommand 并删除 SelectParameter）时，分页/排序工作正常。

* * *

.ascx 代码：

（请注意，`owner_ddl`DropdownList 是用单独的代码隐藏方法中的值填充的）

```
<asp:DropDownList ID="owner_ddl" runat="server">
    <asp:ListItem Value="*">All</asp:ListItem>
</asp:DropDownList>
&emsp;
<asp:Button ID="filter_btn" runat="server" Text="Filter" OnClick="filter_btn_Click" />

<br />
<br />

<asp:GridView ID="workbasket_gv" runat="server" AllowPaging="True"
 AllowSorting="True" PagerSettings-Mode="NextPreviousFirstLast" PageSize="20"
 AutoGenerateColumns="False" DataKeyNames="INCIDENT_ID" DataSourceID="sqlIncident"
 EmptyDataText="No incidents meet this criteria" Width="90%">
    <Columns>
        <asp:CommandField ShowSelectButton="True" ButtonType="Button" SelectText="View">
            <ItemStyle Width="50px" />
        </asp:CommandField>
        <asp:BoundField DataField="INCIDENT_ID" HeaderText="ID" ReadOnly="True" SortExpression="INCIDENT_ID">
            <ItemStyle Width="50px" />
        </asp:BoundField>
        <asp:BoundField DataField="OWNER" HeaderText="Owner" SortExpression="OWNER">
            <ItemStyle Width="100px" />
        </asp:BoundField>
        <asp:BoundField DataField="TITLE" HeaderText="Title" SortExpression="TITLE" />
        <asp:BoundField DataField="DATE_RAISED" HeaderText="Date Raised" SortExpression="DATE_RAISED" DataFormatString="{0:g}">
            <ItemStyle Width="200px" />
        </asp:BoundField>
    </Columns>
    <PagerSettings Mode="NextPreviousFirstLast" Position="TopAndBottom" FirstPageText="&lt;&lt; First"
     LastPageText="Last &gt;&gt;" NextPageText="Next &gt;" PreviousPageText="&lt; Prev">
    </PagerSettings>
    <PagerStyle HorizontalAlign="Center" />
</asp:GridView>

<asp:SqlDataSource ID="sqlIncident" runat="server" ConnectionString="Data Source=dbmisc89_dbmisc89.w34.bmw.uk;Persist Security Info=True;User ID=W50XS001_W;Password=sales_2;"
 ProviderName="System.Data.OracleClient" SelectCommand="SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL ORDER BY DATE_RAISED DESC">
</asp:SqlDataSource> 
```

代码隐藏：

```
protected void filter_btn_Click(object sender, EventArgs e)
{
    if (owner_ddl.SelectedValue != "*")
    {
        // Defined owner
        string sql = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL AND OWNER=:OWNER ORDER BY DATE_RAISED DESC";
        sqlIncident.SelectCommand = sql;
        ControlParameter param = new ControlParameter("OWNER", System.Data.DbType.String, "owner_ddl", "SelectedValue");
        sqlIncident.SelectParameters.Add(param);
    }
    else
    {
        // All owners (Remove variable)
        string sql = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL ORDER BY DATE_RAISED DESC";
        sqlIncident.SelectCommand = sql;
        sqlIncident.SelectParameters.Clear();
    }
    workbasket_gv.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:35:22.340

请检查这个。我不确定是否是问题所在。让我知道它是否正确...

```
if (owner_ddl.SelectedValue != "*")
    {
        // Defined owner

ControlParameter param = new ControlParameter("OWNER", System.Data.DbType.String, "owner_ddl", "SelectedValue");
        sqlIncident.SelectParameters.Add(param);

        string sql = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL AND OWNER=:OWNER ORDER BY DATE_RAISED DESC";
        sqlIncident.SelectCommand = sql;

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:30:28.033

```
 <asp:SqlDataSource ID="SqlDataSource1" runat="server" ConnectionString="<%$ ConnectionStrings:ConnectionString %>" 
            DeleteCommand="DELETE FROM [Table] WHERE [INCIDENT_ID] = @INCIDENT_ID" 
            InsertCommand="INSERT INTO [Table] ([INCIDENT_ID], [OWNER]) VALUES (@INCIDENT_ID, @OWNER)" 
            SelectCommand="SELECT * FROM [Table] WHERE ([OWNER] = @OWNER)" 
            UpdateCommand="UPDATE [Table] SET [OWNER] = @OWNER WHERE [INCIDENT_ID] = @INCIDENT_ID">
            <DeleteParameters>
                <asp:Parameter Name="INCIDENT_ID" Type="Int32" />
            </DeleteParameters>
            <InsertParameters>
                <asp:Parameter Name="INCIDENT_ID" Type="Int32" />
                <asp:Parameter Name="OWNER" Type="String" />
            </InsertParameters>
            <SelectParameters>
                <asp:ControlParameter ControlID="owner_ddl" Name="OWNER" PropertyName="SelectedValue" Type="String" />
            </SelectParameters>
            <UpdateParameters>
                <asp:Parameter Name="OWNER" Type="String" />
                <asp:Parameter Name="INCIDENT_ID" Type="Int32" />
            </UpdateParameters>
        </asp:SqlDataSource>

 protected void filter_btn_Click(object sender, EventArgs e)
    {
        SqlDataSource1.DataBind();
        workbasket_gv.DataBind();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:33:54.347

通过删除`SelectParameter`并将其`owner_ddl.SelectedValue`直接放入 SQL 字符串来解决此问题。还添加了一个 Session 变量以传递给自身，`DataBind`以便分页/排序保持正确的查询。

```
protected void Page_Load(object sender, EventArgs e)
{
    if (IsPostBack)
    {
        if (!String.IsNullOrEmpty((String)Session["sqlOwnerType"]))
        {
            if ((String)Session["sqlOwnerType"] == "specific")
                sqlIncident.SelectCommand = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL AND OWNER='" + owner_ddl.SelectedValue + "' ORDER BY DATE_RAISED DESC";
            else if ((String)Session["sqlOwnerType"] == "all")
                sqlIncident.SelectCommand = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL ORDER BY DATE_RAISED DESC";
        }
    }
}

protected void filter_btn_Click(object sender, EventArgs e)
{
    if (owner_ddl.SelectedValue != "*")
    {
        // Defined owner

        string sql = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL AND OWNER='" + owner_ddl.SelectedValue + "' ORDER BY DATE_RAISED DESC";
        sqlIncident.SelectCommand = sql;

        Session["sqlOwnerType"] = "specific";
    }
    else
    {
        // All owners (Remove variable)
        string sql = "SELECT INCIDENT_ID, OWNER, TITLE, DATE_RAISED FROM INCIDENT_TBL WHERE TITLE IS NOT NULL ORDER BY DATE_RAISED DESC";
        sqlIncident.SelectCommand = sql;

        Session["sqlOwnerType"] = "all";
    }
    workbasket_gv.DataBind();
} 
```

# heroku - 任何可以在 Heroku 上部署带有 PhantomJS 支持的 Meteor 的 buildpack？

> ID：15784372
> 
> 赞同：4
> 
> 时间：2013-04-03T10:03:07.647
> 
> 标签：heroku, seo, meteor

我想在 Heroku 上运行一个带有“spiderable”包的 Meteor.js 应用程序。是否有 buildpack 或其他任何东西可以在 Heroku 上部署它？（需要 PhantomJS）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-10-10T15:40:25.647

这个 buildpack（我写的）适用于 Meteor > 0.9.3 并且包括 phantomjs：

[https://github.com/AdmitHub/meteor-buildpack-horse](https://github.com/AdmitHub/meteor-buildpack-horse)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-10T15:04:41.567

I don't know how you're stuck with this, since in practice it's pretty straightforward to install an NPM module as [shown in this guide](https://coderwall.com/p/2fveyq). You only need to swap `underscore` in that example with `phantomjs`.

A very good buildpack to use is [oortcloud's meteorite buildpack](https://github.com/oortcloud/meteorite). I've used the [meteor-only](https://github.com/jordansissel/heroku-buildpack-meteor) buildpack, but I've encountered way to many issues with it, but with the aforementioned I have had no problems with it so far.

As for the spiderable package, `meteor add spiderable`.

Fair warning though: running Meteor on Heroku requires alot of research on how to actually run your app, especially with providing correct environment variables. If you *will* have a problem with that, this would probably not a good place to discuss any of that.

On a side note: Next time, I implore you to be a little more clear about your problem and specify what your goals really are, and what have you tried so far. *Seriously, who upvotes these things?*

# r - 流程替代

> ID：15784373
> 
> 赞同：7
> 
> 时间：2013-04-03T10:03:16.597
> 
> 标签：r, bash

我环顾了一下让我感到困惑的地方，我只发现了这一点： [某些程序不接受输入文件的进程替换吗？](https://stackoverflow.com/questions/4274171/do-some-programs-not-accept-process-substitution-for-input-files)

这部分有帮助，但我真的很想了解完整的故事。我注意到当我使用进程替换时，我的一些 R 脚本会给出不同的（即错误的）结果。

我试图用一个测试用例来查明问题：

这个脚本：

```
#!/usr/bin/Rscript

args  <- commandArgs(TRUE)
file  <-args[1]
cat(file)
cat("\n")
data <- read.table(file, header=F)
cat(mean(data$V1))
cat("\n") 
```

使用以这种方式生成的输入文件：

```
$ for i in `seq 1 10`; do echo $i >> p; done
$ for i in `seq 1 500`; do cat p >> test; done 
```

导致我这样做：

```
$ ./mean.R test
test
5.5

$ ./mean.R <(cat test)
/dev/fd/63
5.501476 
```

进一步的测试表明有些行丢失了......但我想了解原因。read.table (scan 给出相同的结果) 使用 seek 吗？

附言。使用较小的测试文件 (100) 会报告错误：

```
$./mean.R <(cat test3)
/dev/fd/63
Error in read.table(file, header = F) : no lines available in input
Execution halted 
```

添加＃1：使用使用扫描的修改脚本，结果是相同的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-03T11:14:14.223

I have written this general purpose function for opening a file connection in my own scripts:

```
OpenRead <- function(arg) {

   if (arg %in% c("-", "/dev/stdin")) {
      file("stdin", open = "r")
   } else if (grepl("^/dev/fd/", arg)) {
      fifo(arg, open = "r")
   } else {
      file(arg, open = "r")
   }
} 
```

In your code, replace `file` with `file <- OpenRead(file)` and it should handle all of the below:

```
./mean.R test
./mean.R <(cat test)
cat test | ./mean.R -
cat test | ./foo.R /dev/stdin 
```

# c++ - 如何在没有邮件客户端的情况下使用 Simple MAPI？

> ID：15784374
> 
> 赞同：1
> 
> 时间：2013-04-03T10:03:17.507
> 
> 标签：c++, service, mfc, mapi, cdo.message

有一个没有邮件客户端的 Windows Server 2008 R2，并且没有在此服务器上安装任何邮件客户端的选项。

1.  我编写了一项服务，使用 Simple MAPI 从交换服务器获取电子邮件。
2.  已安装 ExchangeMapiCDO 1.2.1。
3.  使用 MFCMapi 15 创建配置文件并添加到配置文件 Exchange 服务。

当我启动服务时，从 MAPI 初始化中删除一条错误消息。消息是：

> 没有关联的电子邮件程序来执行请求的操作。请安装电子邮件程序，或者，如果已安装，请在“默认程序”控制面板中创建关联。

我需要一些东西来安装？（电子邮件程序不是选项）或者我需要创建/设置 reg.key？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-16T11:27:46.463

正如下面所写的 Dmitry Streblechenko，ExchangeMapiCDO 1.2.1 不支持简单 MAPI 接口。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T13:05:01.060

错误消息说明了一切。“安装电子邮件程序”。这是唯一的选择。MAPI 是一种与电子邮件程序对话的协议。没有电子邮件程序，没有 MAPI。

# perl - 由于 ODBC 驱动程序无法加载应用程序

> ID：15784378
> 
> 赞同：0
> 
> 时间：2013-04-03T10:03:26.820
> 
> 标签：perl, odbc, perl-module

install_driver(ODBC) 失败：

> 无法为模块 DBD::ODBC: libodbc.so.1 加载“/usr/local/lib/perl5/auto/DBD/ODBC/ODBC.so”：无法打开共享对象文件：/ 处没有此类文件或目录usr/lib/perl5/DynaLoader.pm 第 200 行。在 (eval 3) 第 3 行编译在 (eval 3) 第 3 行的 require 中失败。可能在 M_BLACKLIST.pl 第 14 行的预期位置没有安装所需的共享库或 dll

我使用的是最新的 unixodbc dbi drvier。基本上我使用centos 6。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:34:28.030

请注意，最新的 unixODBC 构建将创建 libodbc.so.2，在大约一年前 SQLLEN 更改为 api 之后，该数字增加了可能不是问题，但值得检查您实际拥有的 libodbc.so。

# java - 单击按钮时设置下周

> ID：15784382
> 
> 赞同：0
> 
> 时间：2013-04-03T10:03:44.013
> 
> 标签：java, calendar

当用户单击箭头图像时，我想在下个月的第一天设置 CalendarVariabele Today。

我被这个困住了，有人可以帮助我吗？

代码：

```
HTMLCode +="<img src='../images/pijl_rechts_icon.png' title='next month' onClick='"+ today.add(today.MONTH, 1)  +"'/>"; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:19:08.330

`onClick='"+ today.add(today.MONTH, 1) +"`不可能。您可以在控制台中打印字符串，或在编辑器中打开 html 以查看它在 htmlString 中实际写入的内容。onClick，你可以调用一个javascript函数，然后你可以从那里更改日期，但不能通过java。
为了解释这一点，您的 java 代码在服务器端，一旦您的浏览器显示页面，它就已经生成了 html 和 javascript 的客户端代码。
因此，虽然生成`+ today.add(today.MONTH, 1) +`已经更改为 html 中的其他内容。

# javascript - JavaScript：在 3 个元素之间切换，只有一个处于活动状态

> ID：15784384
> 
> 赞同：0
> 
> 时间：2013-04-03T10:03:48.647
> 
> 标签：javascript, css

我刚开始使用 JavaScript 并且有一个小问题。在我的网站上，我有三个 div 元素：

```
<div id="id_1" class="class_1" onclick="itemSelected('id_1')"></div>
<div id="id_2" class="class_2" onclick="itemSelected('id_2')"></div>
<div id="id_3" class="class_3" onclick="itemSelected('id_3')"></div> 
```

我添加了以下脚本以突出显示用户单击的脚本：

```
var selected = false;

function itemSelected(element) {

    if (selected == false) {
        document.getElementById(element).style.backgroundColor = "#f5b03d";
        selected = true;
    }
    else {
        document.getElementById(element).style.backgroundColor = "#99d4e5";
        selected = false;
    }
} 
```

到目前为止，这是可行的，用户单击一个项目，它会以另一种颜色突出显示。如果他再次单击它，它将获得他的默认背景颜色。但是一旦用户单击其他项目之一，它也会被突出显示。我想要的是一个单选功能：只要用户点击一个项目，另一个项目也会出现在他们的默认背景颜色中。有人可以帮我解决这个问题吗？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:07:49.543

为每个元素添加一个共享类。

当用户单击一个元素时，使用该共享类将默认背景颜色设置为所有三个元素。

然后使用元素的唯一 ID 将突出显示的背景颜色设置为已单击的元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:17:14.420

您可以在不使用 javascript 的情况下执行此操作，为此创建了一个小提琴： [http://jsfiddle.net/6PUwz/](http://jsfiddle.net/6PUwz/)

我所做的是，`tabindex="-1"`通过使用 css-pseudo-class 设置和进行选择，使 div 具有焦点`:focused`。

检查这是否符合您的要求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:23:02.080

```
<div id="id_1" class="class_0" onclick="itemSelected('id_1')"></div>
<div id="id_2" class="class_0" onclick="itemSelected('id_2')"></div>
<div id="id_3" class="class_0" onclick="itemSelected('id_3')"></div>

function itemSelected(element) {

 $('div.class_0').css({'background-color':'#99d4e5'});
document.getElementById(element).style.backgroundColor = "#f5b03d";

} 
```

如上所述更改html并使用此jquery

# c# - 我在简单的 asp dot 网页中使用 j 查询 pie 聊天。如何在 j 查询饼图聊天中绑定值表单数据库

> ID：15784388
> 
> 赞同：0
> 
> 时间：2013-04-03T10:04:06.040
> 
> 标签：c#, jquery, asp.net

我在 ASP.NET 中使用 jquery 饼图。饼图工作正常，但我想绑定数据库中的值。如何在饼图中绑定数据库值。我在数据库中创建了一个表，我想从数据库中获取值到饼图中。

```
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
        $(function ()
        {
            var chart;
            $(document).ready(function ()
            {
                // Radialize the colors
                Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function (color)
                {
                    return {
                        radialGradient: {
                            cx: 0.5,
                            cy: 0.3,
                            r: 0.7
                        },
                        stops: [
                            [0, color],
                            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
                        ]
                    };
                });
                // Build the chart
                chart = new Highcharts.Chart(
                {
                    chart: {
                        renderTo: 'container',
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false
                    },
                    title: {
                        text: 'Browser market shares at a specific website, 2010'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage}%</b>',
                        percentageDecimals: 1
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                color: '#000000',
                                connectorColor: '#000000',
                                formatter: function ()
                                {
                                    return '<b>' + this.point.name + '</b>: ' + this.percentage + ' %';
                                }
                            }
                        }
                    },
                    series: [
                        {
                            type: 'pie',
                            name: 'Browser share',
                            data: [
                                ['Firefox', 45.0],
                                ['IE', 26.8],
                                {
                                    name: 'Chrome',
                                    y: 12.8,
                                    sliced: true,
                                    selected: true
                                }, ['Safari', 8.5],
                                ['Opera', 6.2],
                                ['Others', 0.7]
                            ]
                        }
                    ]
                });
            });
        });
    </script>
</head>

<body>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <di v id="container" style="min-width: 400px; height: 400px; margin: 0 auto">
        </div>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:22:21.260

简单的解决方案是将数据库中的值放在隐藏字段中，然后使用 javascript 访问它们并获取它们的值以用作系列的一部分。这是 ASPX：

```
....
 <asp:HiddenField ID="FireFoxDataValueFromDB" runat="server" />
 <asp:HiddenField ID="IEDataValueFromDB" runat="server" />
.... 
```

这是CS：

```
Page_Load Event()
{
    if (!IsPostBack)
    {
        FireFoxDataValueFromDB = getFFDBValue();
        IEDataValueFromDB = getIEDBValue
    }
}
.... 
```

这是Javascript：

```
var FFVal = $("#FireFoxDataValueFromDB").val();
var IEVal = $("#IEDataValueFromDB").val();

and then use it as the series data:
 series: [
                        {
                            type: 'pie',
                            name: 'Browser share',
                            data: [
                                ['Firefox', FFVal],
                                ['IE', IEVal],
                                {
                                    name: 'Chrome',
                                    y: 12.8,
                                    sliced: true,
                                    selected: true
                                }, ['Safari', 8.5],
                                ['Opera', 6.2],
                                ['Others', 0.7]
                            ]
                        }... 
```

# cucumber - 隐藏字段的测试用例不适用于黄瓜

> ID：15784398
> 
> 赞同：1
> 
> 时间：2013-04-03T10:04:24.290
> 
> 标签：cucumber, capybara

```
fill_in "user_role", :with => @visitor[:role] 
```

这是检查简单的输入字段，但隐藏的输入字段不起作用，是否有任何其他隐藏字段的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:08:28.833

```
hidden_field = find :xpath, "//input[@id='id_of_hidden_field']"
hidden_field.set "hello world" 
```

# jsf - Primefaces 数据表重置和重新加载数据

> ID：15784400
> 
> 赞同：4
> 
> 时间：2013-04-03T10:04:31.793
> 
> 标签：jsf, primefaces, datatable, reset

我不确定如何重置 primefaces 数据表，然后将数据重新加载到其中。

有任何想法吗？

![在此处输入图像描述](https://i.stack.imgur.com/of2O0.png)

一旦我点击“教师”或“House Leadership Team”，我就会发送一个 ajax 调用，然后我想完全重置数据表，然后重新加载数据。

以下是与两个面板相关的部分：

```
#{msgs.typeOfLeaderPunishment}
<f:ajax event="valueChange" listener="#{detentionForm.updateData()}" execute="typeOfLeader" render="typeOfPunishment studentTable">
    <p:selectOneMenu id="typeOfLeader" value="#{detentionForm.typeOfLeaderSelectedID}" style="width:400px" panelStyle="width:150px" effect="fade">
       <f:selectItems value="#{detentionForm.teacherTypes}" var="type" itemLabel="#{type.label}" itemValue="#{type.value}" />
    </p:selectOneMenu>
</f:ajax> 
```

这部分涉及选择“House Leadership Team”或“Teacher”，这将触发更新数据表的 ajax 调用。

```
<p:dataTable id="studentTable" var="student" value="#{detentionForm.students}" paginator="true" rows="10" selection="#{detentionForm.studentSelected}" filterDelay="200" filteredValue="#{detentionForm.filteredStudents}" binding="#{detentionForm.studentTable}">  
      <f:facet name="header">  
           Students:   
      </f:facet>  
                    <p:column id="prefName" headerText="Preferred Name" sortBy="=#{student.prefName}" filterBy="#{student.prefName}" filterMatchMode="contains">  
                        #{student.prefName} 

                    </p:column>  
                    <p:column id="lastName" headerText="Last Name" sortBy="#{student.lastName}" filterBy="#{student.lastName}" filterMatchMode="contains">
                        #{student.lastName}
                    </p:column>
                    <p:column id="house" headerText="House" sortBy="#{student.house}">
                        #{student.house}
                    </p:column>
                    <p:column id="code" headerText="Student Code" sortBy="#{student.studentCode}" >
                        #{student.studentCode}
                    </p:column>
                    <p:column id="gender" headerText="Gender" sortBy="#{student.gender}">
                        #{student.gender}
                    </p:column>
                    <p:column id="formName" headerText="Form" sortBy="#{student.form}">
                        #{student.form}
                    </p:column>
                    <p:column id="yearLevel" headerText="Year Level" sortBy="#{student.yearLevel}">
                        #{student.yearLevel}
                    </p:column>
                </p:dataTable> 
```

这部分是数据表。

```
//ajax method called when user clicks on "House Leadership Team" or "Teacher" int the selectOneMenu tag
    public void updateData(){
        this.findStudents();

    }

    //populates the student list with student codes depending on what ledership was chosen (eg. HouseLeader -> import House students only)
    private void findStudents() {
        this.students.removeAll(this.students);
        int houseID =  this.findTeacherHouseID();
        PreparedStatement ps;
        Connection con;
        String sqlStudentsTeacher = "SELECT a.LastName, a.PrefName, a.Code, a.Gender, b.FormName, b.YearLevel, c.HouseName FROM detentioncentredb.tbl_students a, detentioncentredb.tbl_forms b, detentioncentredb.tbl_houses c WHERE a.Form = b.Id AND a.House = c.Id";
        String sqlStudentsHouseLeader = "SELECT a.LastName, a.PrefName, a.Code, a.Gender, b.FormName, b.YearLevel, c.HouseName FROM detentioncentredb.tbl_students a, detentioncentredb.tbl_forms b, detentioncentredb.tbl_houses c WHERE a.Form = b.Id AND a.House = c.Id AND a.House = ?";
        ResultSet rs;
        try {
            con = ds.getConnection();
            if(this.typeOfLeaderSelectedID == 1){
                ps = con.prepareStatement(sqlStudentsTeacher);
            }else{ //typeOfLeaderSelectedID must equal 2\. >>>>>>>>>>>Make sure that makeDetention xhtml page has a specific filter and there must be a validator when the user selects a leadership ty.pe
                ps = con.prepareStatement(sqlStudentsHouseLeader);
                ps.setInt(1,houseID);
            }
            rs = ps.executeQuery();
            //Puts a row into a Student object and chucks into the student arraylist
            while(rs.next()){
                Student s = new Student();
                s.setForm(rs.getString("FormName"));
                s.setGender(rs.getString("Gender"));
                s.setHouse(rs.getString("HouseName"));
                s.setLastName(rs.getString("LastName"));
                s.setPrefName(rs.getString("PrefName"));
                s.setStudentCode(rs.getString("Code"));
                s.setYearLevel(rs.getString("YearLevel"));
                this.students.add(s);
            }
            rs.close();
            ps.close();
            con.close();
        } catch (SQLException ex) {
            Logger.getLogger(DetentionFormBean.class.getName()).log(Level.SEVERE, null, ex);
        }

    }

    private int findTeacherHouseID(){
        PreparedStatement ps;
        Connection con;
        String sqlTeacherHouseID = "SELECT House FROM detentioncentredb.tbl_teachers WHERE RegNumber = ?";
        ResultSet rs;
        int id = 0;
        try {
            con = ds.getConnection();
            ps = con.prepareStatement(sqlTeacherHouseID);
            ps.setInt(1, this.details.getUserName());
            rs = ps.executeQuery();
            while(rs.next()){
                id = rs.getInt("House");
            }
            rs.close();
            ps.close();
            con.close();
        } catch (SQLException ex) {
            Logger.getLogger(DetentionFormBean.class.getName()).log(Level.SEVERE, null, ex);
        }

        return id;
    } 
```

这部分是后面 bean 的一部分，显示了调用的 ajax 方法以及该方法的作用。**我不知道在 ajax 方法中添加什么来重置数据库，然后将数据加载回数据表中。**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T11:05:56.877

问题是，尽管您正在调用托管 bean 方法，但您并没有告诉 jsf 数据表“更新”其内容。

这应该有帮助

```
<p:selectOneMenu id="typeOfLeader" value="#{detentionForm.typeOfLeaderSelectedID}">
    <f:selectItems value="#{detentionForm.teacherTypes}" var="type" itemLabel="#{type.label}" itemValue="#{type.value}" />
    <p:ajax event="change" update="studentTable" listener="#{detentionForm.updateData()}" />
</p:selectOneMenu> 
```

这里重要的部分是**update="studentTable"**，它告诉在完成 ajax 请求后，用 id studentTable 更新 jsf 组件。

PS1：这假设您的 selectOneMenu 和 datatable 是相同的形式；如果不是，则应将 update="studentTable" 替换为正确的路径。PS2：我建议您阅读有关 DAO 层的信息，以便您可以从托管 bean 中删除 findStudents 方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T14:33:32.500

每当您使用 ajax 更改选择一个菜单时，您都在调用 updateData 方法。尝试重建您在 updateData 方法上显示的列表“学生”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-26T10:36:01.490

我对 primefaces 4 数据表有同样的问题。

1.  我已将 j2ee 版本从 j2ee6 更改为 j2ee7。
2.  我已经用 gf 4 从 3.1.2 final 更改了 glassfish 服务器
3.  我已将 jsf 版本从 2.2 更改为 2.2.4，但没有任何变化（仍然不刷新）

感谢 Mehul Kaklotar，我在创建/编辑/删除数据库并刷新数据表后重建/调用 getList()。

备注：`update=":yourform:yourdatatable"`添加`<p:commandbutton>`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-31T19:04:27.423

通过使用 PrimeFaces remoteCommand 调用 dataTable 的 AJAX/jQuery filter() 函数，我取得了成功：

```
<p:selectOneMenu id="typeOfLeader" value="#{detentionForm.typeOfLeaderSelectedID}"
             style="width:400px" panelStyle="width:150px" effect="fade"
             onchange="typeOfLeaderUpdate();">

<f:selectItems value="#{detentionForm.teacherTypes}" var="type" itemLabel="#{type.label}" itemValue="#{type.value}" />
<p:ajax event="change" oncomplete="typeOfLeaderUpdate();"/>

<p:remoteCommand id="typeOfLeaderRemoteCommandId" name="typeOfLeaderUpdate"
                 actionListener="#{detentionForm.updateData()}"
                 update="studentTable"
                 oncomplete="student.filter();"/> 
```

# ruby - 如何获取 HTML 标签中的文本？

> ID：15784401
> 
> 赞同：2
> 
> 时间：2013-04-03T10:04:34.980
> 
> 标签：ruby, nokogiri

我想获取某个 HTML 标记中的文本。看起来像：

```
<div id="data123">data1: value1<br>data2: value2<br> data3: value</div> 
```

我的代码如下所示：

```
html_page = Nokogiri::HTML open 'my_url'
who_is_raw = html_page.css('div#data123')[0] #.text 
```

我得到`<div>`标签内没有`<br>`标签的文本或全部`<div>`都`<br>`在里面。`<div>`但是，我只想要该标签中的文本和其中的`<br>`标签。

我怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:06:42.253

尝试[`inner_html`](http://nokogiri.org/Nokogiri/XML/NodeSet.html#method-i-inner_html)

```
who_is_raw = html_page.css('div#data123')[0].inner_html 
```

# javascript - 不同原型混淆的 Javascript 对象构造函数

> ID：15784404
> 
> 赞同：0
> 
> 时间：2013-04-03T10:04:52.170
> 
> 标签：javascript, constructor, prototype

我正在研究 Javascript 对象和原型，据我所知，定义构造函数的两种方式最终得到了相似的结果。

例如，在这段代码中，完全相同的构造函数以 2 种不同的方式定义，但它们最终具有不同的原型值：

```
var PersonOne = function () {};

function PersonTwo(){};

var p1 = new PersonOne();
var p2 = new PersonTwo();

console.log(p1.constructor.prototype);
console.log(p2.constructor.prototype); 
```

结果：

```
Object {}
PersonTwo {} 
```

显然我错了，像在 PersonOne 中那样定义构造函数会导致构造函数的原型是 Object。那会影响继承。但问题是，造成如此不同结果的原因是什么？

我认为问题可能是由于 PersonOne 函数是在运行时定义的，而 PersonTwo 是在解析时定义的？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:07:30.990

不同之处在于`PersonOne`已经分配了*匿名函数表达式*的结果。命名变量只是该函数的*别名*，但构造函数本身没有`.name`属性。

相反，如果您声明了它：

```
var PersonOne = function MyPersonOne() {}; 
```

那么作为 a 创建的对象的原型`new PersonOne`就是`MyPersonOne`。

这很重要 - 它确保您不能仅通过为构造函数创建别名来创建任意“类型”的对象。对象的“类型”必须与构造函数的（真实）名称相同。

# c# - 秒表记录到小数点后 4 位

> ID：15784411
> 
> 赞同：2
> 
> 时间：2013-04-03T10:05:26.903
> 
> 标签：c#, time, stopwatch

我正在使用系统诊断秒表来计算我的功能运行所需的时间。目前输出`0`如下`1ms`。如何记录到毫秒到小数点后 4 位？我知道“滴答声”，但是我不希望将所有时间的滴答声转换为毫秒。

我目前正在使用以下代码：

```
System.Diagnostics.Stopwatch watch = new System.Diagnostics.Stopwatch();
watch.Start();
myFunction();
watch.Stop();
double elapsedTime = watch.ElapsedMilliseconds;   //How to get to 4 decimal places? 
Console.WriteLine("Time " + elapsedTime ); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:09:39.710

你可以使用[`TimeSpan.TotalMilliseconds`](http://msdn.microsoft.com/en-us/library/system.timespan.totalmilliseconds%28v=vs.110%29.aspx)属性。

> 获取以整毫秒和小数毫秒表示的当前 TimeSpan 结构的值。

```
System.Diagnostics.Stopwatch watch = new System.Diagnostics.Stopwatch();
watch.Start();
for(int i = 0; i <= 100000; i++)
{
    //        
}
watch.Stop();

Console.WriteLine("Time elapsed (ms): {0}", watch.Elapsed.TotalMilliseconds); 
```

输出格式如下；

> 经过时间（毫秒）：0.1575

这是一个[`DEMO`](http://ideone.com/gv7Gmz).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:06:39.573

而不是毫秒，你应该工作`watch.Elapsed.TotalMilliseconds`。

```
Stopwatch watch = new Stopwatch();
watch.Start();
myFunction();
watch.Stop();
double elapsedTime = watch.Elapsed.TotalMilliseconds;
Console.WriteLine("Time " + elapsedTime); 
```

![在此处输入图像描述](https://i.stack.imgur.com/AdRDz.jpg)

**输出** ![在此处输入图像描述](https://i.stack.imgur.com/YeWPy.jpg)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:09:24.873

为了获得**微秒**而不是**毫秒**，您可以使用：

```
double elapsedMicroseconds = watch.ElapsedTicks / (TimeSpan.TicksPerMillisecond / 1000); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:09:47.820

使用`String.Format`和做

```
string s = String.Format({0:0.4F}, elapsedTime); 
```

这应该可以解决问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:10:29.253

从[文档](http://msdn.microsoft.com/en-GB/library/system.diagnostics.stopwatch.elapsedmilliseconds.aspx)中：

> [ElapsedMilliseconds] 属性表示向下舍入到最接近的整数毫秒值的经过时间。对于更高精度的测量，请使用 Elapsed 或 ElapsedTicks 属性。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T10:10:45.447

如果您使用的是 Visual Studio 2010 或更高版本，我建议您应该坚持使用 VS 附带的性能分析工具。他们将为您提供关于特定功能和子功能占用多少 CPU 和内存的准确和详细的结果。

# drupal - 在 drupal 7 中使用自定义表字段创建自定义内容类型

> ID：15784412
> 
> 赞同：1
> 
> 时间：2013-04-03T10:05:29.600
> 
> 标签：drupal, drupal-7

我想创建一个模块，当我安装该模块时，它应该创建在 homepage_blocks_schema() 中定义的自定义表，创建在 homepage_blocks_install() 中定义的内容类型，并在该内容类型中创建与我的架构相同的自定义字段。

这里是函数，

```
function homepage_blocks_schema() {
    $schema['homepage_blocks'] = array(
        'fields' => array(
            'hid' => array(
                'type' => 'int',
                'length' => 11,
                'unsigned' => TRUE,
                'not null' => TRUE,
            ),
            'title' => array(
                'type' => 'varchar',
                'length' => 255,
            ),
            'image' => array(
                'type' => 'varchar',
                'length' => 255,
            ),
        ),
        'primary key' => array('hid'),
    );
    return $schema;
}

homepage_blocks_install() {
       $homepage_blocks = array(
            'type' => 'homepage_blocks',
            'name' => $t('Homepage Blocks'),
            //'base' => 'node_content',
            'base' => 'homepage_blocks',
            'custom' => true,
            'modified' => true,
            'locked' => false,
            'title_label' => $t('Homepage Blocks')
        );

        $content_type = node_type_set_defaults($homepage_blocks);

        //node_add_body_field($content_type, 'Body'); // add the body field to the content type
        node_type_save($content_type); // create the content type

        variable_set('node_options_homepage_blocks', array('status'));
        variable_set('comment_homepage_blocks', 'COMMENT_NODE_HIDDEN'); // hide comments for this node.
        variable_set('node_submitted_homepage_blocks', false); // Hide date and author information

        //drupal_install_schema('homepage_blocks');

        foreach (_homepage_blocks_installed_fields() as $field) { // Create all the fields we are adding to our content type.
            //krumo(field_create_field($field));
            field_create_field($field);
        }

        foreach (_homepage_blocks_installed_instances() as $instance) { // Create all the instances for our fields.
            $instance['entity_type'] = 'node';
            $instance['bundle'] = 'homepage_blocks';
            field_create_instance($instance);
        }
}

function _homepage_blocks_installed_fields() {
    $t = get_t();
    $fields = array(
        'hmblock_title' => array(
            'field_name'    => 'hmblock_title',
            'label'         => $t('Title'),
            //'cardinality' => 1,
            'type'          => 'text',
            'settings'      => array(
                'max_length' => 255,
            ),
        ),
        'hmblock_image' => array(
            'field_name' => 'hmblock_image',
            'label' => $t('Image'),
            //'cardinality' => 1,
            'type' => 'image',
            'settings' => array(
                'default_image' => 0,
                'uri_scheme' => 'public',
            ),
        ),
    );

    //$fields = drupal_get_schema('homepage_blocks');
    return $fields;
}

function _homepage_blocks_installed_instances() {
    $t = get_t();
    $instances = array(
        'hmblock_title' => array(
            'field_name'    => 'hmblock_title',
            'label'         => $t('Title'),
            'cardinality'   => 1,
            'widget'        => array(
                'type'      => 'text_textfield',
                'settings'  => array('size' => 255),
            ),
        ),
        'hmblock_image' => array(
            'field_name' => 'hmblock_image',
            'label' => $t('Image'),
            'cardinality' => 1,
            'type' => 'image',
            'settings' => array(
                'alt_field' => 1,
                'file_directory' => 'image',
                'file_extensions' => 'png gif jpg jpeg',
                'max_filesize' => '50mb',
                'max_resolution' => '',
                'min_resolution' => '',
                'title_field' => 1,
                'user_register_form' => FALSE,
            ),
            'widget' => array(
                'settings' => array(
                    'preview_image_style' => 'thumbnail',
                    'progress_indicator' => 'throbber',
                ),
            )
        ),
    );
    return $instances;
} 
```

此代码创建表和内容类型，但不是它的字段。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-28T06:34:35.023

There is an easier way you can create your custom type using drupal core and fields module and then export it into a module using Features module. You can find a full guide here : [Bundling site settings using Features](http://drupal.org/node/580026)

# java - 在 Android 中更改活动

> ID：15784417
> 
> 赞同：-5
> 
> 时间：2013-04-03T10:05:43.913
> 
> 标签：java, android, android-activity

如何更改 Android 中的活动？我不想创建一个新的活动，我只想改变它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:08:14.357

您可以执行以下操作

```
Intent myIntent = new Intent(this, TargetAvitivityName.class);
startActivity(myIntent) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:07:01.873

Stackoverflow 上也有大量关于此的教程。阅读文档也会有所帮助......但这是您正在寻找的解决方案： [在 Android 上，您如何以编程方式切换活动？](https://stackoverflow.com/questions/3591465/on-android-how-do-you-switch-activities-programatically)

# xml - Kendo UI Treeview 和 XML

> ID：15784418
> 
> 赞同：0
> 
> 时间：2013-04-03T10:05:44.240
> 
> 标签：xml, kendo-ui

在 Kendo UI 中，我尝试使用以下代码将简单的 xml 数据绑定到 treeview widjet：

```
<script>

    $(document).ready(function () {
        var ds = new kendo.data.HierarchicalDataSource({
            transport: {
                read: {
                    url: "kendoTWData.xml", dataType: "xml"
                }
            },
            schema   : {type: "xml",
                data        : '/root/doc',
                model       : {
                    fields: {
                        nome: "nome/text()"
                    }
                }
            }
        });

        $("#treeview").kendoTreeView({
            dataSource   : ds,
            dataTextField: "nome"
        });
    });
</script> 
```

xml 文件看起来很简单（仅用于测试目的）：

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<root>
<doc><nome>fabio</nome></doc>
<doc><nome>mauro</nome></doc>
</root> 
```

但什么也没有出现......只有“正在加载......”消息。

Firefox 的 web 控制台报告：

[11:57:03.558] TypeError: item.level 不是函数@ kendo.web.min.js:11

有人可以指出我正确的方向吗？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T12:02:37.907

尝试将模型定义为：

```
model: {
    fields: {
        nome : "nome/text()"
    },
    level: function() { return 0; }
} 
```

这应该是*诀窍*。

# python - SPOJ - acode - Python 3 中的 NZEC 错误

> ID：15784421
> 
> 赞同：3
> 
> 时间：2013-04-03T10:05:53.407
> 
> 标签：python, python-3.x

我刚刚发现了 SPOJ 网站并提交了我的第一个问题解决方案：Alphacode [http://www.spoj.com/problems/ACODE/](http://www.spoj.com/problems/ACODE/)

在线法官用下面的代码回应了一个NZEC错误，我不明白为什么。我选择了 Python 3.2.3（functools.lru_cache 出现在 Python3.2 中），我也尝试删除 lru_cache 并用 memoize 装饰器替换它，但同样的问题。

```
from functools import lru_cache

@lru_cache(maxsize=10000)
def acode(s, i=0):
    if i == len(s):
        return 1
    if s[i] == "0":
        return 0
    res = acode(s, i+1)
    if i + 1 < len(s) and (10 * int(s[i]) + int(s[i+1]) <= 26):
        res += acode(s, i+2)
    return res

def main():
    i = input().strip()
    while i != "0":
        print(acode(i))
        i = input().strip()

if __name__ == "__main__":
    import sys
    try:
        main()
    except:
        sys.exit(0) 
```

您可以使用以下命令对其进行测试：

```
$ echo "123\n1111\n21\n0" | python3 acode.py 
```

注意：我也提交了没有“try:except:”但我在 SPOJ 网站上找不到输出日志。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-10T13:25:57.173

你的程序似乎没有给 NZEC（至少现在）。但是，**它使用 WA 代码来解决问题**。

但是，如果我使用动态编程显式向下滚动数组，而不是使用 LRU 缓存，**它会被接受**

```
from functools import lru_cache

@lru_cache(maxsize=10000)
def acode(s, i=0):
    if i == len(s):
        return 1
    if s[i] == "0":
        return 0
    res = acode(s, i + 1)
    if i + 1 < len(s) and (10 * int(s[i]) + int(s[i + 1]) ≤ 26):
        res += acode(s, i + 2)
    return res

def acode_second_try(s):
    n = len(s)
    f = [0 for i in range(1 + n)]
    f[n] = 1
    for i in range(n - 1, -1, -1):
        if s[i] != '0':
            f[i] = f[1 + i]
            if 1 + i < n:
                if 10 * int(s[i]) + int(s[1 + i]) ≤ 26:
                    f[i] += f[2 + i]
    return f[0]

def main():
    i = input().strip()
    while i[0] != '0':
        print(acode_second_try(i))
        #print(acode(i))
        i = input().strip()

if __name__ == "__main__":
    import sys

    try:
        main()
    except:
        sys.exit(0)
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-17T22:25:08.423

您收到 NZEC 错误，因为超出了 python 运行时的最大递归深度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-27T10:43:43.420

我有确切的问题！因为我写了几乎完全相同的代码！:P

@rabih-kodeih 是对的，这是因为超出了递归深度。我修复了这个

`sys.setrecursionlimit(10**6)`

使用该`sys`库，您可以设置递归限制！

注意：这也有其限制，如果输入值足够高，它也可能超过堆内存。因此，此解决方案适用于 SPOJ 的这个问题，但请谨慎使用。

# javascript - 锚链接卡在Firefox中？

> ID：15784422
> 
> 赞同：0
> 
> 时间：2013-04-03T10:05:56.827
> 
> 标签：javascript, jquery, hyperlink, anchor, accordion

我正在使用 javascript 手风琴插件，但这样做的缺点是我需要在页面加载时滚动到各个部分。

所以我要做的是为每个部分创建锚链接，总共有 101 个锚链接。如果我想访问某个部分，那么我将使用：

```
http://wthdesign.net/test/tokl/101-things.html#65
http://wthdesign.net/test/tokl/101-things.html#25
http://wthdesign.net/test/tokl/101-things.html#99 
```

. . . ETC

它会自动滚动到所需部分，IE 和 Chrome 工作正常，但我在 Firefox 上遇到问题，似乎每当我打开锚链接时，它都会永远卡在第 5 部分。

我尝试调整 javascript 但仍然没有用....

这是 javascript 插件： [http ://wthdesign.net/test/tokl/js/jquery.nestedAccordion.js](http://wthdesign.net/test/tokl/js/jquery.nestedAccordion.js)

我添加的 Javascript 绕过当前插件的限制（响应锚链接）：

```
<script type="text/javascript">

$(function()
{
    if(window.location.hash)
    {
          $(".accordion .outer").css("display", "block");
          console.log("url with anchor");

    } else 
          {
          //$(".accordion .outer").css("display", "none");
          console.log("url without anchor");
          }
});

</script> 
```

我只是意识到它会**卡在第 5 部分的原因是因为 Firefox 已经修复了它的原始高度（没有锚点），就像这样： [http ://wthdesign.net/test/tokl/101-things.html](http://wthdesign.net/test/tokl/101-things.html)

假设原始容器高度为 2965 像素，因此它将滚动的最大高度为 2965 像素，除此之外什么都没有......

有什么解决办法吗？提前谢谢了....

# tidesdk - 潮汐SDK跨平台带来UI的基本逻辑是什么？

> ID：15784425
> 
> 赞同：0
> 
> 时间：2013-04-03T10:06:04.407
> 
> 标签：tidesdk

也许这个问题可能是一个简单的问题。我仍然没有从万维网得到答复。

潮汐SDK提供了UI模块，通过它我们可以跨平台[mac、windows、Linux]创建相同的UI。

我的问题：tideSDK用来带来UI的后端库是什么？它是否抽象了原生 UI 组件并在表示层上提供？使困惑。

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T17:05:59.787

TideSDK 的 UI 模块在原生 UI 组件之上提供了抽象层。这意味着窗口 api 的实现都是平台原生的。

举个例子：TideSDK 的用户会用 JavaScript 语言编写代码。所有命令都将使用“Windows XP / Win7 / win 8”的标准windows api本地实现，JavaScript代码会将指令转换为windows本地代码并执行适当的命令。osx 中的相同 JavaScript 代码将转换为 Mac OS 的本机命令。和它在 linux 上的工作方式一样。

TideSDK 的后端部分已以多种语言（c++ 或从 c++ 继承的语言）实现，包括 VC++、Objective C++、C++。

我们为不同的操作系统使用不同的编译器（包括 Microsoft Visual Studio、g++、xcode）。

所以基本上回答你的问题：TideSDK 是原生实现的代码和 JavaScript 之间的桥梁。它尝试解释 JavaScript 并将所有内容翻译成底层操作系统可以理解的本地语言。通过这样做，TideSDK 的用户将在处理各种原生部分时看到一致的界面，而 TideSDK 会抽象出细节。

我在这里以 UI 模块为例，但是 TideSDK 中有许多模块可用，它们提供了各种原生功能.. 在[这里查看api 文档](http://tidesdk.multipart.net/docs/user-dev/generated/)

# c# - 吊床包、Tweetsharp 和 C# Windows Phone 8

> ID：15784428
> 
> 赞同：0
> 
> 时间：2013-04-03T10:06:14.830
> 
> 标签：c#, windows-phone-8, twitter-oauth, tweetsharp, hammock

我跟着这个链接

[http://samjarawan.blogspot.co.uk/2010/09/building-real-windows-phone-7-twitter_18.html](http://samjarawan.blogspot.co.uk/2010/09/building-real-windows-phone-7-twitter_18.html)

一步一步地，当我运行我的应用程序时，我收到一个错误，即“错误调用 Twitter”。

当我搜索它时，我发现在这部分代码中

```
 var client = new RestClient
            {
                Authority = "https://api.twitter.com/oauth",
                Credentials = credentials,
                HasElevatedPermissions = true,
                SilverlightAcceptEncodingHeader = "gzip",
                DecompressionMethods = DecompressionMethods.GZip

            }; 
```

我需要做一些改变，但是什么地方都没有找到。我得到的另一个答案是我需要更新 Hammock 和 Tweetsharp，但它已经更新了。请建议我并帮助我。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-08-22T04:34:44.803

尝试更改 DecompressionMethods 或 SilverlightAcceptEncodingHeader。

# python - 为什么 Python/Django 不会在 Mysql 上引发异常：ERROR 1205 (HY000): Lock wait timeout exceeded

> ID：15784430
> 
> 赞同：2
> 
> 时间：2013-04-03T10:06:21.400
> 
> 标签：python, mysql, django, exception-handling, locking

我正在测试从 python/django 锁定我的 MySQL 数据库。

我有一张桌子，我正在测试：

```
CREATE TABLE `test` (
  `id` int(11) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

insert into test (id) values (1), (2);
commit; 
```

我有 3 个会话： - 2 个 mysql 控制台 - 1 个 django 视图

控制台 1：

```
mysql> begin; select t.id from test as where id = 1 t FOR UPDATE;
Query OK, 0 rows affected (0.00 sec)

+----+
| id |
+----+
|  1 |
+----+
1 row in set (0.00 sec) 
```

控制台 2：

```
mysql> set @@session.innodb_lock_wait_timeout = 1;
Query OK, 0 rows affected, 1 warning (0.00 sec)

mysql> select t.id from test as t FOR UPDATE;
ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction

mysql> select t.id from test as t where id = 1 FOR UPDATE;
ERROR 1205 (HY000): Lock wait timeout exceeded; try restarting transaction 
```

Django视图：

```
@db.transaction.commit_manually
def Test(request):
  c = db.connection.cursor()
  c.execute('set @@session.innodb_lock_wait_timeout = 1')
  c.execute('select t.id from test as t FOR UPDATE')
  logging.error(c.fetchall())
  c.execute('select t.id from test as t where id = 1 FOR UPDATE')
  logging.error(c.fetchall())
  db.transaction.rollback()

  return render_to_response(
      'test.html',
      context_instance=template.RequestContext(request, {})
      ) 
```

调用此视图后，我预计会出现异常，但没有任何反应，它返回一个空结果集。

任何想法为什么？

版本：

*   蟒蛇：2.7.3
*   姜戈：1.4.3
*   MySQL：5.5

谢谢，丹尼尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T14:36:08.617

> 您正在使用交易；autocommit 不会禁用事务，它只是让它们在语句结束时自动提交。
> 
> 正在发生的事情是，其他一些线程在某个记录上持有记录锁的时间过长，并且您的线程正在超时。
> 
> *资料来源：* [即使我没有使用事务，也会出现“超过锁定等待超时；尝试重新启动事务”](https://stackoverflow.com/questions/5836623/getting-lock-wait-timeout-exceeded-try-restarting-transaction-even-though-im)

`innodb_lock_wait_timeout=50`您应该通过设置（默认）或将其设置为更高的值并重新启动 MySQL 来增加InnoDB 的锁定等待超时值。

# controller - 使用 Web Api 区域配置 Odata

> ID：15784432
> 
> 赞同：0
> 
> 时间：2013-04-03T10:06:26.137
> 
> 标签：controller, entity, odata, areas

我有一个配置为将 Web Api 与区域一起使用的工作 Web 应用程序。我有 2 个区域，管理员和客户。这意味着，要定位控制器，我必须像这样调用 url：

/xxxWebClient/api/1.0.0/projectid/Products

一切正常。这是我的路由配置：

```
//Route to Client
        routes.MapRoute(
           name: "Client",
           url: "Client",
           defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional },
           namespaces: new string[] { "xxx.Web.Areas.xxxWebClient.Controllers" }
       ).DataTokens.Add("Area", "xxxWebClient");

        //Route to Admin
        routes.MapRoute(
           name: "Admin",
           url: "Admin",
           defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional },
           namespaces: new string[] { "xxx.Web.Areas.xxxWebAdmin.MvcControllers" }
       ).DataTokens.Add("Area", "xxxWebAdmin"); 
```

我现在想启用 odata 以便它针对同一个控制器。问题是我不仅想使用 Odata WebAPI 功能，只需将 [Queryable] 属性添加到方法中就可以使用这些功能（并且效果很好），而且我必须将我的 Controller 扩展到新的 AsyncEntitySetController 以便检索并使用调用 odata url 时自动生成的 QueryOptions。我已经有了最新的 nuGet 包（odata、edm 和 spatial），为了编译项目，我必须将这些程序集绑定重定向添加到 web.config：

```
<dependentAssembly>
    <assemblyIdentity name="Microsoft.Data.OData" publicKeyToken="31bf3856ad364e35" culture="neutral" />
    <bindingRedirect oldVersion="0.0.0.0-5.4.0.0" newVersion="5.4.0.0" />
  </dependentAssembly>      
  <dependentAssembly>
    <assemblyIdentity name="Microsoft.Data.Edm" publicKeyToken="31bf3856ad364e35" culture="neutral" />
    <bindingRedirect oldVersion="0.0.0.0-5.4.0.0" newVersion="5.4.0.0" />
  </dependentAssembly>
  <dependentAssembly>
    <assemblyIdentity name="System.Spatial" publicKeyToken="31bf3856ad364e35" culture="neutral" />
    <bindingRedirect oldVersion="0.0.0.0-5.4.0.0" newVersion="5.4.0.0" />
  </dependentAssembly> 
```

然后我在 Global.asax 中添加了这段代码（它现在在 Application_BeginRequest() 中，以便在每次页面加载时都通过，然后它将在 Application_Start 方法中）：

```
ODataModelBuilder modelBuilder = new ODataConventionModelBuilder();
            modelBuilder.EntitySet<Product>("Products");

            Microsoft.Data.Edm.IEdmModel model = modelBuilder.GetEdmModel();
            try { 
                GlobalConfiguration.Configuration.Routes.MapODataRoute("ODataRoute", "xxxWebClient/api/1.0.0/projectid", model); 
            } 
```

关键是当我定位我的 odata 控制器 url 时，我得到一个 406（不可接受的）状态代码。（例如“xxxWebClient/api/1.0.0/projectid/Products”）。

我的控制器的定义是这样的：

```
public class ProductsController : AsyncEntitySetController<Product, string>
{ 
```

我已经在一个空白测试项目上成功测试了这个 AsyncEntitySetController，我希望能够将它与区域集成。任何想法都非常感谢。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T15:12:04.257

看来，根据我在这个主题上找到的唯一资源，我想要完成的事情还不可能。[请在此处](http://blogs.msdn.com/b/alexj/archive/2012/12/07/odata-in-webapi-rc-release.aspx)查看 GrahameHorner 的评论及其回复。无论如何，我找到了解决我的问题的方法，即不使用 AsyncEntitySetController，而是像以前一样使用 ApiController，将 ODataQueryOptions 作为控制器的参数传递，因此 WebAPI 会自动解析它们。然后我有了 C# ODataQueryOptions 对象，我可以将其应用于我想要的任何东西。示例控制器类定义和方法：

```
public class ProductsController : ApiController
{
    public IEnumerable<Keyword> GetKeywords(ODataQueryOptions<xxx.yyy.Keyword> options)
    {
      //my controller stuff
    }
} 
```

注意我将 ODataQueryOptions 转换为我想要应用选项的目标类型。

# android - 如何在 Android 中的一种特定水平布局中使用拖放在两个图像之间切换？

> ID：15784434
> 
> 赞同：2
> 
> 时间：2013-04-03T10:06:30.230
> 
> 标签：android, image, drag-and-drop

我想使用拖放在不同视图或不同布局的四个图像之间切换任意两个图像。

如果将 A 图像拖放到水平排列的特定 B 图像上，则 B 图像会自动排列到 A 图像的位置。

```
class MyDragListener implements OnDragListener {
Drawable enterShape = getResources().getDrawable(R.drawable.shape_droptarget);
Drawable normalShape = getResources().getDrawable(R.drawable.shape);

@Override
public boolean onDrag(View v, DragEvent event) {
  int action = event.getAction();
  switch (event.getAction()) {
  case DragEvent.ACTION_DRAG_STARTED:
    // Do nothing
    break;
  case DragEvent.ACTION_DRAG_ENTERED:
    v.setBackgroundDrawable(enterShape);
    break;
  case DragEvent.ACTION_DRAG_EXITED:
    v.setBackgroundDrawable(normalShape);
    break;
  case DragEvent.ACTION_DROP:
    // Dropped, reassign View to ViewGroup
    View view = (View) event.getLocalState();
    ViewGroup owner = (ViewGroup) view.getParent();
    owner.removeView(view);
    LinearLayout container = (LinearLayout) v;
    container.addView(view);
    view.setVisibility(View.VISIBLE);
    break;
  case DragEvent.ACTION_DRAG_ENDED:
    v.setBackgroundDrawable(normalShape);
  default:
    break;
  }
  return true;
} 
```

# cron - crontab 发送 net rpc shutdown 但没有任何反应

> ID：15784450
> 
> 赞同：0
> 
> 时间：2013-04-03T10:07:15.463
> 
> 标签：cron, crontab, freebsd, shutdown

我创建了两个脚本来自动打开和关闭教室中的计算机。

两个脚本都获取 MAC ID 列表并使用它们来 1）唤醒计算机（唤醒命令）和 2）关闭计算机（网络 rpc 关闭）。

服务器是FREEBSD，工作站是win7。

除了“wake”和“net rpc shutdown”部分外，这两个脚本看起来都很相似。手动运行（通过 shell）时，这两个脚本都能完美运行。

只有 WOL 脚本与 crontab 一起运行，关机脚本也运行，但计算机没有任何反应。

Cron 日志仅显示脚本已处理，但计算机不会做出反应。

关机脚本：

```
#!/usr/local/bin/bash
#[ $# -eq 0 ] && { echo "Usage: $0 filename"; exit 1; } #muutujad sätitud?
list="/usr/local/etc/isc-dhcp_192.168.4"
erand="/root/skriptid/WOL/erand.txt"
# kontrollime, kas erandid ja list olemas
[ ! -f $list ] && { echo "EXIT! List puudu asukohas: $list"; exit 1; }
[ ! -f $erand ] && { echo "EXIT! Erandid puudu asukohas: $erand"; exit 1; }
#jätkame
while read line
do
        IFS=' ' read -a array <<< "$line"
        mac=`echo ${array[5]}|sed 's/;//'`
        ip=`echo ${array[7]}|sed 's/;//'`
        host=`echo ${array[1]}`
        if grep -Fq "$ip" $erand
        then
                echo -e "Jatan vahele: HOST: $host IP: $ip MAC: $mac \n----" #exceptions
                sleep 1
        else
                echo -e "Lülitan välja: HOST: $host IP: $ip MAC: $mac \n----"
                net rpc SHUTDOWN -t 15 -f -C "Arvuti lulitub valja. Serveripoolne kask."     -W luunja -U $host\\xx%xx -S $ip
                sleep 1
        fi
done < $list 
```

定时任务：

```
40      19      *       *       *     root    /root/skriptid/WOL/shutdown.sh 
```

这两个脚本都由 root 运行并拥有 666 权限。

除了日志，有没有办法查看 cronjob 的输出？cronjob 和 net rpc 之间是否存在已知冲突？

任何帮助将不胜感激！谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:09:12.740

您需要指明执行脚本的二进制文件。

从

```
40 19 * * * root /root/skriptid/WOL/shutdown.sh 
```

至

```
40 19 * * * root /bin/sh /root/skriptid/WOL/shutdown.sh 
```

或任何来自`which sh`.

（我想我每天回答一次这个问题）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T11:50:55.613

将路径添加到您的 crontab

```
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/sbin:/usr/local/bin 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-13T15:58:59.953

您必须在 Windows 计算机上启用文件共享才能使您的脚本正常工作。

# command-line - 删除 PE（便携式可执行文件）命令行

> ID：15784452
> 
> 赞同：0
> 
> 时间：2013-04-03T10:07:21.553
> 
> 标签：command-line, portable-executable

如何从可执行文件中删除一些未使用的命令行参数？示例：我有一个使用以下命令行（**-a、-b、-c、-1、-2、-3**）的 EXE，如何删除“ **-2** ”命令？我尝试使用**RES Editor**、**HEX Editor**和**EXE Disassembler**，但没有。有人可以帮助我吗？我必须为此使用什么程序？因为如果我删除“ **GetCommandLine(A/W)** ”函数，它会丢失所有命令。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:30:24.557

您必须对可执行文件进行逆向工程，找到它检查这些参数的位置并删除相关代码（例如，用 NOP 替换它）。

一个更简单的选择是提供一个包装器可执行文件，它会清理命令行并使用您想要保留的选项调用原始的、未修改的可执行文件。

# oracle - 提取大小设置为高数量的 sql 查询的奇怪行为

> ID：15784453
> 
> 赞同：2
> 
> 时间：2013-04-03T10:07:21.727
> 
> 标签：oracle, tomcat, jdbc

我有以下相当奇怪的行为：

提取器从数据库执行相当多的查询，并使用`PreparedStatement`保持数据库连接在查询之间打开的 a 。整个应用程序既可以从 main 方法启动，也可以部署在 tomcat 中，然后通过 Web 应用程序触发（而在两种情况下执行的代码保持相同）。

虽然通过 main-mamethod 的本地执行结果完全符合我的预期，但通过 tomcat 的执行却没有。我已将错误归结为以下几点：

```
/* Statement is a PreparedStatement which is initialized at 
 * the start of the execution and reused until the execution
 * is completed */
ResultSet rs = stmt.executeQuery(); 
/* Commenting out this line gives me correct data in tomcat
 * and main method, leaving it in corrupts data only in tomcat */
rs.setFetchSize(2000);
while (rs.next) {
  doStuff(rs);
}
rs.close(); 
```

也许您可以理解我为什么在这里感到困惑。`ResultSet.setFetchSize()`即使结果集在使用后关闭，为什么对我的代码的正确性有任何影响？为什么我只有在tomcat中执行时才会出现腐败？

**编辑**

从数据库中选择的列与数据库中的数据不匹配，即在数据库中有两个关键列，一个鉴别器和该鉴别器的有效日期。如果我将一行中提取的数据列与 sqldeveloper 给出的数据相匹配，则它们不匹配。

示例：SQL-Developer 告诉我期待以下行：

```
 ID   |  VALIDITY  | HOUR_1 | HOUR_2 |...
------+------------+--------+--------+...
 1897 | 01.01.2013 | 100000 | 100000 |... 
```

然而我找回

```
 ID   |  VALIDITY  | HOUR_1 | HOUR_2 |...
------+------------+--------+--------+...
 1897 | 01.01.2013 |  14000 |  14000 |... 
```

有趣的是，某些列被正确提取，在一个示例中检索了 365 行，前 10 行是正确的（10 是 Oracle 中的默认 fetchSize - 巧合？），接下来的 355 行是错误的。

我还发现了一些提示，`OracleResultSet`如果 fetchsize 集大于实际结果大小，则可能根本不设置 fetchsize 可能不是最好的主意，因为 javadoc 告诉我抛出 SQLException。但是，我没有得到异常，只是默默地错误数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T18:44:51.673

基本上，我的问题由两部分组成，一个类路径库冲突和一个驱动程序错误。

我刚刚意识到，在 Oracle11 驱动程序旁边，一个 springsource-oracle10 驱动程序潜入了 maven 依赖项。在本地执行应用程序时，这没有问题，因为只有 webapp-project 依赖于 oracle10-spring 驱动程序，但出于某种原因，Oracle10 总是选择在服务器上而不是 Oracle 11。

接下来，Oracle 10 驱动程序中存在一个错误，至少在连接到 Oracle 11 DB 时是这样：如果您将 fetch size 设置得太高，而不是 OracleResultSet 的 javadoc 中声明的 SQLException，那么会发生更多偷偷摸摸的事情。

我举个例子来说明。假设您多次执行同一个查询，第一次执行将为您提供 30 行，第二次执行将为您提供 60 行，第三次执行将提供 30 行。您将 fetch-size 设置为 50。

现在，第一次执行将为您提供正确的（预期的）结果，第二次也是如此。但是第三次​​查询执行只会给你 10 行正确的行（Oracle 标准提取大小），其余 20 行将来自第二次执行但是 - 这里变得复杂 - 语句的所有参数列将设置为语句中设置的参数值。

# xcode - xCode中的重复符号，但不存在重复

> ID：15784455
> 
> 赞同：2
> 
> 时间：2013-04-03T10:07:24.070
> 
> 标签：xcode, debugging, duplicate-symbol

**问题** Xcode（版本 4.6.1 (4H512)）抱怨重复符号问题。

> 重复符号 _OBJC_METACLASS_$_PacksStoreHelper 在：/Users/shannoga/Library/Developer/Xcode/DerivedData/English_Club-cyrjamihpabtvtdkvctjwyidupuo/Build/Intermediates/English Club.build/Debug-iphonesimulator/English Club.build/Objects-normal/i386/PacksStoreViewController。 o /Users/shannoga/Library/Developer/Xcode/DerivedData/English_Club-cyrjamihpabtvtdkvctjwyidupuo/Build/Intermediates/English Club.build/Debug-iphonesimulator/English Club.build/Objects-normal/i386/PacksStoreHelper.o 重复符号_OBJC_CLASS_$_PacksStoreHelper在：/Users/shannoga/Library/Developer/Xcode/DerivedData/English_Club-cyrjamihpabtvtdkvctjwyidupuo/Build/Intermediates/English Club.build/Debug-iphonesimulator/English Club.build/Objects-normal/i386/PacksStoreViewController。o /Users/shannoga/Library/Developer/Xcode/DerivedData/English_Club-cyrjamihpabtvtdkvctjwyidupuo/Build/Intermediates/English Club.build/Debug-iphonesimulator/English Club.build/Objects-normal/i386/PacksStoreHelper.o ld：2个重复符号对于架构 i386 clang：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

通常我会去 Target `Build Pases`->`Compile Sources`并寻找副本。

这一次你可以看到那里没有重复： ![编译源](https://i.stack.imgur.com/bLWNP.png)

**我尝试过的和一些古怪的东西：**

1.  删除派生数据。
2.  删除项目并重新启动mac。
3.  我什至尝试删除所谓的“重复”文件，但它变得更加古怪 - 目标成功构建，即使文件在文件导航器中不可见也没有警告。构建后，应用程序运行良好，但其中一个控制器不可见。
4.  我`Alt+Clicked`在使用它们的其他文件中导入重复文件的语句，它让我进入一个包含所有代码的“僵尸”文件。但我看不到 xCode 从哪里获取文件。

会是什么鬼？

我要自己开枪了。请救救我。

# windows-phone-7 - WP7 在 App.xaml 的 Application.Resources 中绑定字体

> ID：15784456
> 
> 赞同：0
> 
> 时间：2013-04-03T10:07:25.197
> 
> 标签：windows-phone-7, windows-phone-8, windows-phone, windows-phone-7.1.1

在 App.xaml 中

```
<Application.Resources> 
```

假设我有

```
<FontFamily x:Key="SomeFontName">Segoe WP</FontFamily> 
```

怎么做

```
<FontFamily x:Key="SomeFontName">{BINDING ?????}</FontFamily> 
```

或者可能有另一种在 App.xaml 中设置带有绑定的 FontFamily 的方法？

# css - 您可以更新 ::selection 彩色文本中链接的颜色吗？

> ID：15784467
> 
> 赞同：0
> 
> 时间：2013-04-03T10:07:51.823
> 
> 标签：css, hyperlink

CSS3 提供了新的`::selection`过滤器，它可以让你改变高亮文本的颜色。

```
::selection {
    color: #34495E;
} 
```

但是，有时选择颜色与默认链接颜色形成鲜明对比。我想更改突出显示文本的链接颜色。我试过这个：

```
::selection a {
    color: #222;
} 
```

但是，这对链接颜色没有影响（至少在 Chrome 中）

是否可以更改所选文本的链接颜色？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:21:08.403

是的，可以在选择时更改单个元素的颜色。正确的语法是，例如：

```
// Applied to the entire document
::selection,
::-moz-selection {
    background-color: yellow;
    color: red;
}

// Applied only to <a> elements
a::selection,
a::-moz-selection
    background-color: green;
    color: white;
} 
```

请记住在您的 Mozilla 的 CSS 中包含供应商特定的前缀。

# gwt - 如何在 smartGWT 中创建 rightClickHandler？

> ID：15784468
> 
> 赞同：-2
> 
> 时间：2013-04-03T10:07:52.383
> 
> 标签：gwt, smartgwt

我想在***smartGWT Calender*****小部件中使用rightClickHandler**。有谁能够帮助我？

 ** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:36:58.320

```
 Menu mainMenu = new Menu();

//menu items

 widget.setContextMenu(mainMenu); 
```

[http://www.java2s.com/Code/Java/GWT/ContextMenuSampleSmartGWT.htm](http://www.java2s.com/Code/Java/GWT/ContextMenuSampleSmartGWT.htm)

[如何处理鼠标右键单击 SmartGWT 日历中的特定事件？](https://stackoverflow.com/questions/5597172/how-to-handle-right-mouse-click-on-the-specific-event-in-smartgwt-calendar#)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:02:30.207

你可以试试看`RightMouseDownHandler()`。

```
Calendar calendar = new Calendar();

calendar .addRightMouseDownHandler(new RightMouseDownHandler() {

            @Override
            public void onRightMouseDown(RightMouseDownEvent event) {
                // TODO Auto-generated method stub

            }
        }); 
```*

# selenium - Selenium Grid - 它是付费工具吗？

> ID：15784472
> 
> 赞同：0
> 
> 时间：2013-04-03T10:07:55.830
> 
> 标签：selenium, grid

Selenium Grid（服务器或客户端）是付费工具吗？

*我已经浏览了这些信息，但没有得到太多关于此的信息。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:10:11.757

Selenium 网格是免费的，您可以在此处找到有关如何设置和项目的更多信息：

*   [http://selenium-grid.seleniumhq.org/get_started.html](http://selenium-grid.seleniumhq.org/get_started.html)
*   [https://code.google.com/p/selenium/wiki/Grid2](https://code.google.com/p/selenium/wiki/Grid2)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:10:23.257

从他们的[许可证页面](http://docs.seleniumhq.org/about/license.jsp)

> 所有 Selenium 项目都在[Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0)下获得许可。

所以不，它不是付费工具。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:11:04.147

它是免费和开源的。

[http://code.google.com/selenium](http://code.google.com/selenium)

请查看文档，然后返回特定问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-03T00:54:11.170

我想在同一台机器上执行相同的浏览器类型。Selenium Grid 不支持此功能。因此，我采取了不同的路线并进行了以下更改。

*   使用执行 jar 以及 testng.xml、配置文件、IE 驱动程序等要素制作多个文件夹副本......
*   编写一个包装器并一个一个地触发这些执行jar。它应该可以在 4GB RAM 机器上运行多达 5 个 IE11 浏览器。

通过这种方式，我们能够在同一台机器上的同一个浏览器上运行多个测试，从而在一定程度上减少了对 Sauce Labs、Browserstack 等 3rd 方工具的使用......

# winforms - 调试时 Winform 不可见

> ID：15784475
> 
> 赞同：1
> 
> 时间：2013-04-03T10:08:11.653
> 
> 标签：winforms, visual-studio-2010, debugging

我有一个应用程序可以在某些方面处理一些文件，并且有进度条和文本框。当我调试（VS2010）时，应用程序窗口不可见，但应用程序完成了它应该做的所有工作。如果我想创建不可见的 winform 应用程序，我可能不得不绞尽脑汁才能做到这一点。现在我有一个我不想要的。那个怎么样？任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:25:21.660

OP 在表单的初始化阶段执行工作。在该阶段，表单尚未显示，并且在所有工作完成之前不会显示。

解决方案是将工作代码从表单的初始化方法移动到单独的方法，该方法仅*在*显示表单后调用。此方法应在单独的线程上执行工作，以确保 GUI 保持响应，可以取消进程并返回报告以更新进度条。

# iphone - 从纵向到横向时视图没有被替换

> ID：15784478
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:08:21.793
> 
> 标签：iphone, ios, objective-c, uiview, autoresize

从横向到纵向时，我有一个无法替换的小子视图。你可以在这里看到它。

![在此处输入图像描述](https://i.stack.imgur.com/sjx3L.png) ![在此处输入图像描述](https://i.stack.imgur.com/8fy9a.png)

视图的代码如下。

```
if ((self = [super initWithFrame:frame]))
    {
        self.autoresizesSubviews = YES;
        self.userInteractionEnabled = YES;
        self.contentMode = UIViewContentModeRedraw;
        self.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleTopMargin;
        self.backgroundColor = [UIColor colorWithRed:(80/255.0) green:(169/255.0) blue:(53/255.0) alpha:0.8f];

        //CAGradientLayer *layer = (CAGradientLayer *)self.layer;
        //UIColor *liteColor = [UIColor colorWithWhite:0.82f alpha:0.8f];
        //UIColor *darkColor = [UIColor colorWithWhite:0.32f alpha:0.8f];
        //layer.colors = [NSArray arrayWithObjects:(id)liteColor.CGColor, (id)darkColor.CGColor, nil];

        CGRect shadowRect = self.bounds; shadowRect.size.height = 4.0f; shadowRect.origin.y -= shadowRect.size.height;

        ReaderPagebarShadow *shadowView = [[ReaderPagebarShadow alloc] initWithFrame:shadowRect];

        [self addSubview:shadowView]; // Add the shadow to the view

        CGFloat numberY = (0.0f - (PAGE_NUMBER_HEIGHT + PAGE_NUMBER_SPACE));
        CGFloat numberX = ((self.bounds.size.width - PAGE_NUMBER_WIDTH) / 2.0f);
        CGRect numberRect = CGRectMake(numberX+280, numberY-644, PAGE_NUMBER_WIDTH, PAGE_NUMBER_HEIGHT);

        pageNumberView = [[UIView alloc] initWithFrame:numberRect]; // Page numbers view

        pageNumberView.autoresizesSubviews = YES;
        pageNumberView.userInteractionEnabled = NO;
        pageNumberView.autoresizingMask =  UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleBottomMargin |
        UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin |
        UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin;
        pageNumberView.backgroundColor = [UIColor colorWithWhite:0.0f alpha:0.4f];

        pageNumberView.layer.shadowOffset = CGSizeMake(0.0f, 0.0f);
        pageNumberView.layer.shadowColor = [UIColor colorWithWhite:0.0f alpha:0.6f].CGColor;
        pageNumberView.layer.shadowPath = [UIBezierPath bezierPathWithRect:pageNumberView.bounds].CGPath;
        pageNumberView.layer.shadowRadius = 2.0f; pageNumberView.layer.shadowOpacity = 1.0f;

        CGRect textRect = CGRectInset(pageNumberView.bounds, 4.0f, 2.0f); // Inset the text a bit

        pageNumberLabel = [[UILabel alloc] initWithFrame:textRect]; // Page numbers label

        pageNumberLabel.autoresizesSubviews = NO;
        pageNumberLabel.autoresizingMask = UIViewAutoresizingNone;
        pageNumberLabel.textAlignment = UITextAlignmentCenter;
        pageNumberLabel.backgroundColor = [UIColor clearColor];
        pageNumberLabel.textColor = [UIColor whiteColor];
        pageNumberLabel.font = [UIFont systemFontOfSize:16.0f];
        pageNumberLabel.shadowOffset = CGSizeMake(0.0f, 1.0f);
        pageNumberLabel.shadowColor = [UIColor blackColor];
        pageNumberLabel.adjustsFontSizeToFitWidth = YES;
        pageNumberLabel.minimumFontSize = 12.0f;

        [pageNumberView addSubview:pageNumberLabel]; // Add label view

        [self addSubview:pageNumberView]; // Add page numbers display view

        trackControl = [[ReaderTrackControl alloc] initWithFrame:self.bounds]; // Track control view

        [trackControl addTarget:self action:@selector(trackViewTouchDown:) forControlEvents:UIControlEventTouchDown];
        [trackControl addTarget:self action:@selector(trackViewValueChanged:) forControlEvents:UIControlEventValueChanged];
        [trackControl addTarget:self action:@selector(trackViewTouchUp:) forControlEvents:UIControlEventTouchUpOutside];
        [trackControl addTarget:self action:@selector(trackViewTouchUp:) forControlEvents:UIControlEventTouchUpInside];

        [self addSubview:trackControl]; // Add the track control and thumbs view

        document = object; // Retain the document object for our use

        [self updatePageNumberText:[document.pageNumber integerValue]];

        miniThumbViews = [NSMutableDictionary new]; // Small thumbs
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:17:40.360

我认为您使用`autoresizingMask`了错误的方式。尝试将最后一行更改为：

```
pageNumberView.autoresizingMask = UIViewAutoresizingFlexibleWidth; 
```

# c# - 赋值给初始化列表中的只读属性

> ID：15784483
> 
> 赞同：3
> 
> 时间：2013-04-03T10:08:38.963
> 
> 标签：c#, properties, readonly, initializer-list

谁能告诉我，为什么它会编译？

```
namespace ManagedConsoleSketchbook
{
    public interface IMyInterface
    {
        int IntfProp
        {
            get;
            set;
        }
    }

    public class MyClass
    {
        private IMyInterface field = null;

        public IMyInterface Property
        {
            get
            {
                return field;
            }
        }
    }

    public class Program
    {
        public static void Method(MyClass @class)
        {
            Console.WriteLine(@class.Property.IntfProp.ToString());
        }

        public static void Main(string[] args)
        {
            // ************
            // *** Here ***
            // ************

            // Assignment to read-only property? wth?

            Method(new MyClass { Property = { IntfProp = 5 }});
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-03T10:13:48.830

这是一个*嵌套对象初始化器*。它在 C# 4 规范中是这样描述的：

> 在等号之后指定对象初始化器的成员初始化器是*嵌套对象初始化器*——即嵌入对象的初始化。嵌套对象初始值设定项中的赋值不是为字段或属性分配新值，而是被视为对字段或属性成员的赋值。嵌套对象初始值设定项不能应用于具有值类型的属性或具有值类型的只读字段。

所以这段代码：

```
MyClass foo = new MyClass { Property = { IntfProp = 5 }}; 
```

相当于：

```
MyClass tmp = new MyClass();

// Call the *getter* of Property, but the *setter* of IntfProp
tmp.Property.IntfProp = 5;

MyClass foo = tmp; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:11:36.210

因为您使用的是使用 setter 的初始化程序`ItfProp`，**而不是**的 setter `Property`。

所以它会`NullReferenceException`在运行时抛出一个，因为`Property`仍然是`null`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:15:08.697

因为

```
int IntfProp {
    get;
    set;
} 
```

不是只读的。

你没有调用 setter `MyClass.Property`，只是 getter 。

# html - 如何在 div 中将内容居中

> ID：15784489
> 
> 赞同：2
> 
> 时间：2013-04-03T10:08:55.623
> 
> 标签：html, css

我正在尝试将包含 div 内的表格的内容居中...但我似乎无法弄清楚如何去做...

基本上我想在表格旁边放一些文本，并将表格和文本居中到页面...

**我试图集中的内容：**

```
 <div style="background: purple; padding: 5px;">
            <div>
            <table style="float: left;">
                <tr>
                    <th>This</th>
                    <th>is</th>
                    <th>a</th>
                    <th>test</th>
                </tr>
            </table>
            </div>
            <span style="background: yellow; margin-left: 15px; float: left;">This is a test</span>
        </div> 
```

**我试过的：**

```
 <div style="background: red; width: 100%; text-align: center">
        <div style="background: purple; padding: 5px;">
            <div>
            <table style="float: left;">
                <tr>
                    <th>This</th>
                    <th>is</th>
                    <th>a</th>
                    <th>test</th>
                </tr>
            </table>
            </div>
            <span style="background: yellow; margin-left: 15px; float: left;">This is a test</span>
        </div>
    </div> 
```

如果有人能够告诉我我在这里做错了什么，那将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:44:48.997

您可以向内部 div 提供 ID，例如内部，将外部提供给顶部 div：

```
#outer{width:100%}
#inner{float:none;margin:0 auto;display:table;} 
```

如果您发现任何问题，请告诉我！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:18:24.207

`text-align:center`您可以使用if they are`inline`或来居中元素`inline-block`。`display:inline-block`如果我们使用on移除浮动并将它们彼此相邻放置`<table>`，则可以使用此方法。

[jsFiddle](http://jsfiddle.net/Tyriar/ruFrw/3/)

**CSS**

```
table {
    display:inline-block;
}
.wrapper {
    text-align:center;
} 
```

**HTML**

```
<div class="wrapper" style="background: purple; padding: 5px;">
    <table>
        <tr>
            <th>This</th>
            <th>is</th>
            <th>a</th>
            <th>test</th>
        </tr>
    </table>
    <span style="background: yellow; margin-left: 15px;">This is a test</span>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:11:19.887

以下是你将如何做到这一点：

[http://jsfiddle.net/7TEqW/2/](http://jsfiddle.net/7TEqW/2/)

HTML：

```
<div class="outer">
    <div class="inner">
        <table>
            <tr>
                <td>TABLE TEXT</td>
            </tr>
        </table>
        <span>SPAN TEXT</span>
    </div>
</div> 
```

CSS：

```
.outer {
    width: 100%;
    text-align: center;
}

.inner {
    display: inline-block;
    margin: 0 auto;
}

table {
    width: 200px;
    float: left;
    margin-right: 20px;
    background: #999;
}

span {
    display: inline-block;
    width: 100px;
    background: #ccc;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:15:27.003

删除`float:left`并尝试添加`margin:0 auto`

```
.wrap{
background: purple; padding: 5px;    
    text-align:center;
    overflow:auto;
    position:relative
}
table{
    background:pink;
    margin:0 auto
}

span{
    background: yellow; margin-left: 15px;
        margin:0 auto
} 
```

**[演示](http://jsfiddle.net/KetEC/)**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-11T14:11:15.520

将所需的内容放入 `<p style="text-align: center;">` 元素中，它将水平居中。

# c# - 处理在尝试保持性能的同时引发异常的方法

> ID：15784491
> 
> 赞同：0
> 
> 时间：2013-04-03T10:09:03.343
> 
> 标签：c#, asp.net, .net, try-catch

我正在编写一个应用程序，它要求我遍历 ASP.NET 网站中的成员/用户列表。我正在调用一个可以抛出我无法控制的异常的方法。

这是一个片段：

```
foreach(var member in members)
{
    memberExport.Groups = GetGroups(member);
} 
```

这是GetGroups

```
protected string[] GetGroups(Member member)
{
    try
    {
        return Roles.GetRolesForUser(member.LoginName);
    }
    catch(Exception ex)
    {
        return new string[] { "" };
    }
} 
```

Roles.GetRolesForUser 可以抛出三个不同的异常，但如果抛出异常，我不希望整个应用程序停止运行，我只想继续下一个成员。

**问题**是*try and catch*在性能上很昂贵，并且与我在没有 try and catch 的情况下运行它相比要花费相当多的时间。

如何在不影响性能的情况下做到这一点？

***我的解决方案基于提供的答案：***

```
protected string[] GetRolesForUser(Member member)
{
    if(Membership.GetUser(member.LoginName) != null && member.LoginName != "")
        return Roles.GetRolesForUser(member.LoginName);

    return new string[0];
} 
```

有趣的是，这给了我与最初相似的时间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:16:19.183

从[msdn](http://msdn.microsoft.com/en-us/library/8h930x07.aspx)可以看出，此方法引发了以下异常：

*   `System.ArgumentNullException`当用户名为空时
*   `System.ArgumentException`当用户名包含逗号时
*   `System.Configuration.Provider.ProviderException`未启用角色管理时

我认为您可以轻松处理它们：

```
protected string[] GetGroups(Member member)
{
    string login = member.LoginName;

    if (login == null || login.Contains(",") || !Roles.Enabled)
        return new [] { "" };    

    return Roles.GetRolesForUser(login);    
} 
```

# .net - 为什么此 xna 项目中未识别 png 文件？

> ID：15784493
> 
> 赞同：0
> 
> 时间：2013-04-03T10:09:07.960
> 
> 标签：.net, windows-phone-7, xna, windows-phone-8, xna-4.0

![png 错误](https://i.stack.imgur.com/tmIai.jpg)

为什么此程序中未识别 png 文件？

```
public class Game1 : Microsoft.Xna.Framework.Game
    {
        GraphicsDeviceManager graphics;
        SpriteBatch spriteBatch;

            Texture2D box;
    } 
```

//这部分显示下一个未识别的错误。

```
 protected override void LoadContent()
            {

                spriteBatch = new SpriteBatch(GraphicsDevice);

                box = Content.Load<Texture2D>("next");

            } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T22:03:45.783

您遇到的问题是您已将 PNG 文件添加到项目解决方案（在您的情况下，项目名为 ImageZoomInOut）。要解决您只需将 PNG 文件添加到 ImageZoomInOutContent(Content) 的问题。您还应该继续在那里添加所有与内容相关的材料（例如模型、纹理和声音）。

XNA 中的 ContentProcessor 期望它使用的所有内容都在一个预定的文件夹中。如果您使用资源管理器查看您的项目文件夹，您将看到一个名为 ImageZoomInOutContent 的文件夹，一旦您通过 Visual Studios 添加了内容并成功构建了应用程序，它将使用 next.png（原始文件）和 next.xnb 填充（序列化文件）。此 xnb 文件是处理后在您的应用中使用的文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:47:24.013

您需要将该文件添加到内容项目中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:53:15.730

为此，请右键单击解决方案资源管理器中的内容项目，然后选择添加->现有。之后，您可以选择您的图像。

# css - 如何使所有三个部分的高度相同？

> ID：15784494
> 
> 赞同：0
> 
> 时间：2013-04-03T10:09:08.453
> 
> 标签：css

我附上了这个问题的截图。有三列，我想保持所有三列的高度完全相同。我设法保持宽度与宽度 css 属性相同，现在我想调整到高度。任何人都可以在这方面帮助我。提前致谢。![在此处输入图像描述](https://i.stack.imgur.com/F7AhU.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:30:31.753

我将使用以下 CSS 来实现此目的：

```
.wrapper {
    display: table;
    table-layout: fixed;
    width: 100%;
}
.column {
    display: table-cell;
} 
```

`table-layout: fixed`您告诉每个子元素具有`display: table-cell`相同的宽度，根据包装器的宽度均匀分布，以及相等的高度。

[演示](http://jsfiddle.net/zJ6TL/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:24:43.743

实际上没有*正确的跨浏览器*方式来做到这一点，而是你必须求助于一些*黑客*。

1.  我之前使用的一种方法是将三列包装在一个**容器**内，并为孔容器设置自定义背景。基本上，您创建一个**图像，具有相同的网站宽度**，具有两条垂直线，并将其设置为容器的背景。

    ```
    <div class="wrapper">
        <div class="column">....</div>
        <div class="column">....</div>
        <div class="column">....</div>
    </div>

    <style> .wrapper { background-image: url(wrapper-bg.png); } </style> 
    ```

2.  您可以使用像[http://www.cssnewbie.com/equalheights-jquery-plugin/#.UVwCaZAW200这样的](http://www.cssnewbie.com/equalheights-jquery-plugin/#.UVwCaZAW200)**javascript 库**来实现这一点。但是，如果列的高度在高度上发生动态变化（例如，您有一个可折叠的项目），则此方法不起作用。当然，您可以通过处理这些事件并重新计算高度来处理这种情况。

3.  最后你可以使用**height: 100%**。然而，这并不像看起来那么简单！此解决方案仅适用于**块**元素，并且**必须知道父元素的大小**。因此，如果您事先知道网站的大小，则可以执行以下操作：

    ```
    <div class="wrapper">
        <div class="column">....</div>
        <div class="column">....</div>
        <div class="column">....</div>
    </div>

    <style>
        .wrapper { height: 1000px; width:900px; }
        .column { width:300px; float:left; height: 100%; }
    </style> 
    ```

希望将来这会变得更简单......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:15:03.033

在纯 CSS 中，您可以使用 CSS3 列：对于 3 列布局，只需尝试使用

```
<div style="columns:3">...</div> 
```

（同时带有`-moz-`和`-webkit-`前缀）
请参阅[https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_multi-column_layouts](https://developer.mozilla.org/en-US/docs/CSS/Using_CSS_multi-column_layouts)以获取参考，特别是关于高度平衡：

> **高度平衡**
> CSS3 Column 规范要求必须平衡列高：即浏览器自动设置最大列高，使每列内容的高度大致相等。

# linux - 当 linux 内存不足时，除了重置机器，还有什么办法可以挽救？

> ID：15784495
> 
> 赞同：2
> 
> 时间：2013-04-03T10:09:11.547
> 
> 标签：linux, shell, linux-kernel

当机器处于极重负载下时，某些服务应用程序可能会耗尽所有内存并且交换也被充分利用。Linux 会自行启动 kill 进程，通常 shell 已被杀死，当您发现该问题时屏幕会疯狂滚动。

这是机器内存不足时的日志（类似的错误重复使屏幕滚动）

```
[11988288.358984] Mem-info:
[11988288.358987] DMA per-cpu:
[11988288.358992] CPU    0: hi:    0, btch:   1 usd:   0
[11988288.358997] CPU    1: hi:    0, btch:   1 usd:   0
[11988288.359002] DMA32 per-cpu:
[11988288.359006] CPU    0: hi:  186, btch:  31 usd: 171
[11988288.359012] CPU    1: hi:  186, btch:  31 usd: 180
[11988288.359019] Active:490848 inactive:2177 dirty:0 writeback:0 unstable:0
[11988288.359021]  free:3441 slab:3328 mapped:20 pagetables:0 bounce:0
[11988288.359032] DMA free:8084kB min:44kB low:52kB high:64kB active:1908kB inactive:1732kB present:16160kB pages_scanned:9935 all_unreclaimable? yes
[11988288.359041] lowmem_reserve[]: 0 2012 2012 2012
[11988288.359052] DMA32 free:5680kB min:5716kB low:7144kB high:8572kB active:1961484kB inactive:6976kB present:2060400kB pages_scanned:972601 all_unreclaimable? no
[11988288.359063] lowmem_reserve[]: 0 0 0 0
[11988288.359071] DMA: 13*4kB 16*8kB 16*16kB 17*32kB 25*64kB 29*128kB 1*256kB 1*512kB 1*1024kB 0*2048kB 0*4096kB = 8084kB
[11988288.359093] DMA32: 108*4kB 0*8kB 0*16kB 2*32kB 1*64kB 0*128kB 0*256kB 0*512kB 1*1024kB 0*2048kB 1*4096kB = 5680kB
[11988288.359112] 66 total pagecache pages
[11988288.359117] Swap cache: add 603678, delete 603677, find 189475/220048
[11988288.359123] Free swap  = 0kB
[11988288.359126] Total swap = 1048568kB
[11988288.372922] 526336 pages of RAM
[11988288.372937] 11131 reserved pages
[11988288.372942] 451075 pages shared
[11988288.372946] 1 pages swap cached
[11988288.372952] Out of memory: kill process 14767 (exim4) score 4076 or a child
[11988288.372998] Killed process 14767 (exim4) 
```

我的问题

1.  当你想拯救这种内存耗尽的机器时，有什么可以做的吗？（除了重置机器）？
2.  可以设置任何系统配置以使 Linux 内核更强大并在内存不足时保持活动状态？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T11:11:06.463

您可以通过调整每个进程的值来帮助 OOM 杀手选择它的目标：

```
echo some_value > /proc/pid/oom_score_adj 
```

该值被添加到 oom 杀手计算的分数中，以选择它的下一个受害者。如果使用负值，它可以用于保护某些进程，或者用于相反的情况，即增加进程成为 OOM 杀手目标的可能性。

# c# - 如何使用 c# 从 asp.net 中的查询字符串中一一删除 id？

> ID：15784498
> 
> 赞同：0
> 
> 时间：2013-04-03T10:09:14.443
> 
> 标签：c#, asp.net

我想从我的网址中一个一个地删除“ids”。我怎样才能做到这一点 ？(使用 Asp.net4.0 , c#)

```
Default.aspx?ids=10,2,6,5 
```

我想删除“ids = 6”，但语言将是第一个、中间或最后一个，所以我会有这个：

```
Default.aspx?ids=10,2,5, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:25:38.083

第 1 步。通过以下方式将您的 id 放入数组中：-

```
string[] idsarray = Request.QueryString["ids"].ToString().Split(','); 
```

步骤 2\. 根据您的语言创建要删除的功能

```
string removeidat(string[] id, string at)
{
     string toren = "";
     int remat = -1;
     if (at=="first")
     {
          remat = 0;
     }
     else if (at == "middle")
     {
          remat = id.Length / 2;
     }
     else
     {
          remat = id.GetUpperBound(0);
     }
     for (int i = 0; i < id.GetUpperBound(0); i++)
     {
          if (i!=remat)
          {
               toren += id[i] + ",";
          }
     }
     if (toren.Length>0)
     {
          toren = toren.Substring(0, toren.Length - 1);
     }
     return toren;
} 
```

示例：如果您想删除最后一个 id，您的代码将是

```
string[] idsarray = Request.QueryString["ids"].ToString().Split(',');
string newids = removeidat(idsarray , "last") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:15:14.653

```
string strIDs = Request.QueryString["ids"];
if(strIDs != null)
{
    string[] ids = strIDs.Split(new[]{','}, StringSplitOptions.RemoveEmptyEntries);
    var no6 = ids.Where(id => id != "6");
    string newUrl = string.Format("Default.aspx?ids={0}", string.Join(",", no6));
    Response.Redirect(newUrl);
} 
```

# ruby - Ruby：打印和整理数组的方法

> ID：15784503
> 
> 赞同：29
> 
> 时间：2013-04-03T10:09:27.437
> 
> 标签：ruby, arrays, class, puts

我不确定这个问题是否太愚蠢，但我还没有找到解决方法。

通常将数组放入循环中，我这样做

```
current_humans = [.....]
current_humans.each do |characteristic|
  puts characteristic
end 
```

但是，如果我有这个：

```
class Human
  attr_accessor:name,:country,:sex
  @@current_humans = []

  def self.current_humans
    @@current_humans
  end

  def self.print    
    #@@current_humans.each do |characteristic|
    #  puts characteristic
    #end
    return @@current_humans.to_s    
  end

  def initialize(name='',country='',sex='')
    @name    = name
    @country = country
    @sex     = sex

    @@current_humans << self #everytime it is save or initialize it save all the data into an array
    puts "A new human has been instantiated"
  end       
end

jhon = Human.new('Jhon','American','M')
mary = Human.new('Mary','German','F')
puts Human.print 
```

它不起作用。

当然我可以使用这样的东西

```
puts Human.current_humans.inspect 
```

但我想学习其他选择！

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2013-04-03T10:14:21.267

你可以使用方法`p`。using`p`实际上等同于在对象上使用`puts`+ 。`inspect`

```
humans = %w( foo bar baz )

p humans
# => ["foo", "bar", "baz"]

puts humans.inspect
# => ["foo", "bar", "baz"] 
```

但请记住`p`，它更像是一个调试工具，不应该用于正常工作流程中的打印记录。

还有`pp`（漂亮的印刷品），但你需要先要求它。

```
require 'pp'

pp %w( foo bar baz ) 
```

`pp`更适用于复杂的对象。

* * *

作为旁注，不要使用显式返回

```
def self.print  
  return @@current_humans.to_s    
end 
```

应该

```
def self.print  
  @@current_humans.to_s    
end 
```

并使用 2-chars 缩进，而不是 4。

# hadoop - Hadoop 链作业

> ID：15784509
> 
> 赞同：0
> 
> 时间：2013-04-03T10:10:07.023
> 
> 标签：hadoop, mapreduce

我有 4 个 hadoop 作业（Job1、job2、job3、job4），只有映射器（reducertasks=0）。

当他们完成后，我想将所有发出的键、值传递给另一个作业的映射器（作业 5）。

我如何在 hadoop 1.0.4 中做到这一点？我使用新的 API。

# windows-phone-8 - 在 Windows Phone 8 应用程序中取消注册 EventHandler

> ID：15784511
> 
> 赞同：0
> 
> 时间：2013-04-03T10:10:07.223
> 
> 标签：windows-phone-8

我正在使用这段代码来注册事件并希望在完成它的任务后取消注册事件但不知道该怎么做问题是我正在使用本地对象来注册事件..

代码..

```
public void loadData()
{
//Here client is loacal object..
client.DownloadStringCompleted += new DownloadStringCompletedEventHandler(AccessTokenDownloadCompleted);
}
void AccessTokenDownloadCompleted(object sender, DownloadStringCompletedEventArgs e)
{
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T01:56:38.643

```
Maybe you can try this:
public void loadData()
{
//Here client is loacal object..
client.DownloadStringCompleted += new DownloadStringCompletedEventHandler(AccessTokenDownloadCompleted);
}
void AccessTokenDownloadCompleted(object sender, DownloadStringCompletedEventArgs e)
{
    Client client = sender as Client;
    if(client != null) 
        client.DownloadStringCompleted -= new DownloadStringCompletedEventHandler(AccessTokenDownloadCompleted);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T13:22:46.533

如果我理解正确，您希望在下载完成后删除您的事件处理程序。要删除事件处理程序，您需要做的就是：

```
client.DownloadStringCompleted -= new DownloadStringCompletedEventHandler(AccessTokenDownloadCompleted); 
```

请注意，`-=`而不是`+=`.

将此代码放在下载完成的地方，你应该没问题。

# python - 在 Python 中查找前 N 次出现的正则表达式

> ID：15784520
> 
> 赞同：0
> 
> 时间：2013-04-03T10:10:35.553
> 
> 标签：python, regex

所以这应该很容易，但我不知何故错过了 SO 或 Python 文档的答案。我正在使用这段代码：

```
myregex.findall(source) 
```

这会生成 myregex 的所有匹配项作为列表。现在，问题是源很长，我只需要前 6 次匹配 myregex 的子字符串。我想如果匹配过程在找到前 n 次出现后可以停止，它会快得多。我该怎么做：

```
myregex.findall(source, n) 
```

?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T10:12:46.423

使用[`re.finditer`](http://docs.python.org/2/library/re.html#re.finditer)：

```
import itertools
for m in itertools.islice(re.finditer(pat, text), 6):
    ... 
```

`re.finditer``match`是一个按需生成对象的生成器。您可以从 获取完整匹配，或者从和向上获取`m.group(0)`单个模式匹配。`m.group(1)`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:12:09.870

既然你想要性能，请使用`regex.finditer`

```
def my_find(regex, s, n):
    const = regex.finditer(s)
    return [const.next().groups() for i in range(n)] 
```

或者更安全的版本：

```
def my_find(regex, s, n):
    const = regex.finditer(s)
    ret_val = []
    for i in range(n):
        try:
            ret_val.append(const.next().groups())
        except StopIteration:
            return ret_val
    return ret_val 
```

# c++ - for循环：字符串从“0”传递到“9”

> ID：15784521
> 
> 赞同：1
> 
> 时间：2013-04-03T10:10:36.390
> 
> 标签：c++, string, for-loop

我想编写一个 for 循环来传递 0 到 9 的字符串：

```
for (string j = "0"; j < "10"; j++) {

} 
```

但它不知道运算符 ++（它得到一个整数 (1) 而不是字符串“1”）。

我想写：`j+="1"`，但随后`j`将是`"01"`然后`"011"`...

**ps 我不想使用函数`#include <string>`或其他东西。（stoi等）**

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:15:03.507

用整数循环，然后手动将其转换为字符串？

像

```
for (int i = 0; i < 10; i++)
{
    string j(1, '0' + i);  // Only works for single digit numbers
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:17:10.800

使用整数进行迭代，并将它们转换为循环内的字符串，如下所示：

```
// Your loop counter is of type int
for (int i = 0 ; i != 10 ; i++) {
    // Use string stream to convert it to string
    ostringstream oss;
    oss << i;
    // si is a string representation of i
    string si = oss.str();
    cout << si << endl;
} 
```

这适用于任何类型的整数，没有限制。

[这是一个简短的演示](http://ideone.com/5IFoxy)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:12:19.357

您可以`j[0]++`将第一个字符增加到下一个 ascii 值。但这仅适用于'0'-'9'

**编辑：** 只是一个想法，而不是完美的代码： for `0`to `20`;

```
 i = 0;
   (j > "9") && (i==0) ? j[i]++ : (++i, j="10"); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:15:30.257

不是这样，但是...

```
char x[]={'0',0};
for(; x[0] <= '9'; ++x[0])
{
} 
```

编辑：0..99 版本

```
char x[]={'0','0',0};
int stroffs = 1;
for(; x[0] <= '9'; ++x[0])
{
   for(x[1] = '0'; x[1] <= '9'; ++x[1])
   {
     char * real_str = x + stroffs;
   }
   stroffs = 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:12:56.370

有你的限制（虽然我不知道你如何使用`string`没有`#include <string>`）：

```
const char* x[] = 
{
    "0", "1", .... , "10"
}

for ( int i = 0 ; i <= 10 ; i++ )
{
    x[i]....
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T11:05:22.473

您可以将 atoi 用于：

```
#include <stdlib.h> // or #include <cstdlib>

for (int j = atd::atoi("0"); j < std::atoi("10"); j++) {

} 
```

# sql-server - 根据列数据重新排列和删除 SQL 列

> ID：15784525
> 
> 赞同：2
> 
> 时间：2013-04-03T10:10:41.367
> 
> 标签：sql-server, sql-server-2008

抱歉，我知道这是一个垃圾标题，但我想不出更简洁的方式来描述这个问题。

我有一个包含电话号码的（MSSQL 2008）表：

```
 | CustomerID | Tel1     | Tel2      | Tel3     | Tel4     | Tel5      | Tel6   |
 | Cust001    | 01222222 | 012333333 | 07111111 | 07222222 | 01222222  | NULL   |
 | Cust002    | 07444444 | 015333333 | 07555555 | 07555555 | NULL      | NULL   |
 | Cust003    | 01333333 | 017777777 | 07888888 | 07011111 | 016666666 | 013333 | 
```

我想：

*   删除所有重复的电话号码

*   重新排列电话号码，以便以“07”开头的任何内容都是第一个电话号码。如果有多个 07，它们应该在第一个字段中。除此之外的数字顺序并不重要。

因此，例如，经过处理后，表格将如下所示：

```
 | CustomerID | Tel1     | Tel2      | Tel3      | Tel4      | Tel5     | Tel6      |
 | Cust001    | 07111111 | 07222222  | 01222222  | 012333333 | NULL     | NULL      |
 | Cust002    | 07444444 | 07555555  | 015333333 | NULL      | NULL     | NULL      |
 | Cust003    | 07888888 | 07011111  | 016666666 | 013333    | 01333333 | 017777777 | 
```

我正在努力弄清楚如何有效地实现我的目标（表中有 600,000 多条记录）。任何人都可以帮忙吗？

如果它可以帮助任何人玩这个场景，我已经创建了一个[小提琴。](http://sqlfiddle.com/#!3/9c4d1/9)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:46:14.640

您可以使用 UNPIVOT 将数字分解为单独的行，然后使用 ROW_NUMBER() 根据出现的“07”前缀对它们重新排序，最后使用 PIVOT 重新组合它以`Tel`再次以 6 列结束。

```
select *
  FROM
  (
    select CustomerID, Col, Tel
      FROM
      (
        select *, Col='Tel' + RIGHT(
               row_number() over (partition by CustomerID
                                  order by case
                                         when Tel like '07%' then 1
                                         else 2
                                         end),10)
         from phonenumbers
         UNPIVOT (Tel for Seq in (Tel1,Tel2,Tel3,Tel4,Tel5,Tel6)) seqs
      ) U
  ) P
  PIVOT (MAX(TEL) for Col IN (Tel1,Tel2,Tel3,Tel4,Tel5,Tel6)) V; 
```

## [SQL小提琴](http://sqlfiddle.com/#!3/3adf5/3/0)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-03T10:42:02.223

也许使用光标来收集所有客户 id 并对字段进行排序...传统的排序技术，就像我们在学校 c++ 中所做的那样 ..lolz ...想知道是否有任何其他方法。

如果你没有得到任何那么这是最后一种方式。肯定需要很长时间才能执行。

# android - android-market-api 中的 AndroidId 是什么？

> ID：15784529
> 
> 赞同：0
> 
> 时间：2013-04-03T10:11:04.620
> 
> 标签：android, google-play

我正在使用[Android 市场 API](https://code.google.com/p/android-market-api/)

```
MarketSession session = new MarketSession();
        session.setAuthSubToken(token);
        session.getContext().setAndroidId( Settings.Secure.getString(getContentResolver(),
                            "android_id"));

        String query = "map";
        AppsRequest appsRequest = AppsRequest.newBuilder().setQuery(query)
                .setStartIndex(0).setStartIndex(0).setEntriesCount(10)
                .setWithExtendedInfo(true).build();

        session.append(appsRequest, new Callback<AppsResponse>() {
            @Override
            public void onResult(ResponseContext context,
                    AppsResponse response) {

                Debug.e("", "Total App: " + response.getAppList().size());

                for (int i = 0; i < response.getAppCount(); i++) {
                    Debug.e("", "" + response.getApp(i).getTitle());
                }

            }
        });

        session.flush(); 
```

我的日志猫

```
04-03 15:35:44.748: W/System.err(28330): Caused by: java.lang.RuntimeException: Response code = 400, msg = Bad Request 
```

这是`setAndroidId`因为如果我使用[`dead000beef`](https://stackoverflow.com/questions/6944441/how-do-i-use-the-unofficial-android-market-api)的是 Android，那么它可以工作，并且高于 Android id（我的 Galaxy s3 android id）不起作用。

它实际上是android id吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-30T15:11:22.657

您使用了错误的android id，这种方式对我有用

```
 TelephonyManager telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
    String udid = telephonyManager.getDeviceId();
    session = new MarketSession();
    session.getContext().setAndroidId(udid);
    session.setAuthSubToken(token); 
```

不要忘记添加此权限

```
<uses-permission android:name="android.permission.READ_PHONE_STATE"/> 
```

# iphone - 缺少委托块调用将使应用程序崩溃。使用@protocol 时是否可以像@optional 一样声明块？

> ID：15784530
> 
> 赞同：0
> 
> 时间：2013-04-03T10:11:13.250
> 
> 标签：iphone, xcode, delegates, objective-c-blocks

我正在为可拖动对象编写类。

平移完成后，我想使用块委派它。它工作正常，但是在使用@protocol 时我应该如何设置@optional 之类的东西？因为如果我不调用 myObject.didEndPanning 应用程序崩溃。

```
// MyClass.h

#import <Foundation/Foundation.h>

typedef void (^DelegateBlock)(void);

@interface AHDraggableObject : UIView

- (id)initDragableView:(UIView *)view inView:(UIView *)parentView withBorderOffset:(int)offset;

@property (nonatomic, strong) UIView *holder;
@property (nonatomic, weak) DelegateBlock didEndPanning;

@end

// MyClass.m

- (void)handlePanning:(UIPanGestureRecognizer *)sender
{
    CGPoint translation = [sender translationInView:_parentView];
    sender.view.center = CGPointMake(sender.view.center.x + translation.x, sender.view.center.y + translation.y);
    [sender setTranslation:CGPointMake(0, 0) inView:_parentView];

    [self checkBondaries:sender withOffset:_offset inView:_parentView];

    //  end of pan - invoke event
    if (sender.state == UIGestureRecognizerStateEnded)
    {
        _didEndPanning();
    }
} 
```

称呼

```
//ViewController.m
-(void)viewDidLoad {
    _drag = [[MRShape alloc] initDragableView:_testImageView inView:self.view withBorderOffset:40];
    _drag.didEndPanning = ^
    {
     // if didEndPanning call is missing, app crash !
    };
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:13:20.830

您可以检查是否已设置块：

```
if (sender.state == UIGestureRecognizerStateEnded && _didEndPanning)
{
    _didEndPanning();
} 
```

# javascript - Jquery ChangeEvent 全局变量

> ID：15784535
> 
> 赞同：0
> 
> 时间：2013-04-03T10:11:34.320
> 
> 标签：javascript, jquery, events, jquery-mobile, global-variables

我有这个代码。

```
 var anyChange = false;

    function init(){

    $('.saveSettingsEvent').bind("change",function(){
          anyChange  = true ;   
        }
     );
    } 
```

...

```
 onload='init() 
```

事件被触发，但变量 (anyChange) 保持为 'true'，仅在匿名函数内部。

我用 ：

*   jQuery 1.8.2

*   jQueryMobile 1.2

我哪里错了？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:43:47.070

I wrote an example for you.

```
var anyChange = false;

$(function() {
    $('.saveSettingsEvent').bind('change',function(){
        anyChange  = true ;   
    });
    $('button').click(function() {
        alert(anyChange);
    });
}); 
```

[http://jsfiddle.net/YuUVd/2/](http://jsfiddle.net/YuUVd/2/)

It works as expected. anyChange is set to true and stays true.

So, if you need more help, we need more information.

I assume, that some other code sets your variable back to false or your change event is never triggered...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:38:19.503

**真正的解决方案**

（ 待办的 ）

**解决方法**

我在正文末尾使用自定义属性制作了一个自定义标签。

当事件被触发时，将属性**res设置为 True**

```
$(function() {
    $('.saveSettingsEvent').bind('change',function(){
        $("#anychange").attr('res','true');  
    });

}); 
```

如果

```
var resToSave = $("#anychange").attr('res');
if(resToSave == 'true'){
   // Do Something
   ...
   // Reset attr
   $("#anychange").attr('res','false');
} 
```

# python - python脚本中的缩进

> ID：15784537
> 
> 赞同：0
> 
> 时间：2013-04-03T10:11:43.813
> 
> 标签：python

目的：给定一个 PDB 文件，打印出在三级蛋白质结构中形成二硫键的所有半胱氨酸残基对。许可证：GNU GPL 编写者：Eric Miller

```
#!/usr/bin/env python
import math

def getDistance((x1,y1,z1),(x2,y2,z2)):
   d = math.sqrt(pow((x1-x2),2)+pow((y1-y2),2)+pow((z1-z2),2));
   return round(d,3);

def prettyPrint(dsBonds):
   print "Residue 1\tResidue 2\tDistance";
   for (r1,r2,d) in dsBonds:
   print " {0}\t\t {1}\t\t {2}".format(r1,r2,d);

def main():
   pdbFile = open('2v5t.pdb','r');
   maxBondDist = 2.5;

   isCysLine = lambda line: (line[0:4] == "ATOM" and line[13:15] == "SG");
   cysLines = [line for line in pdbFile if isCysLine(line)];
   pdbFile.close();

   getCoords = lambda line:(float(line[31:38]),
      float(line[39:46]),float(line[47:54]));
   cysCoords = map(getCoords, cysLines);
   dsBonds = [];

   for i in range(len(cysCoords)-1):
      for j in range(i+1,len(cysCoords)):
         dist = getDistance(cysCoords[i],cysCoords[j]);
         residue1 = int(cysLines[i][23:27]);
         residue2 = int(cysLines[j][23:27]);
         if (dist < maxBondDist):
            dsBonds.append((residue1,residue2,dist));

   prettyPrint(dsBonds);

if __name__ == "__main__":
   main() 
```

当我尝试运行这个脚本时，我遇到了缩进问题。我的工作目录中有 2v5t.pdb（运行上述脚本所需）。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:14:21.390

对我来说，“prettyPrint”和“ **main** ”中的缩进被破坏了。也不需要使用';'。试试这个：

```
#!/usr/bin/env python
import math

# Input: Two 3D points of the form (x,y,z).
# Output: Euclidean distance between the points.
def getDistance((x1, y1, z1), (x2, y2, z2)):
   d = math.sqrt(pow((x1 - x2), 2) + pow((y1 - y2), 2) + pow((z1 - z2), 2))
   return round(d, 3)

# Purpose: Prints a list of 3-tuples (r1,r2,d). R1 and r2 are
# residue numbers, and d is the distance between their respective
# gamma sulfur atoms.
def prettyPrint(dsBonds):
   print "Residue 1\tResidue 2\tDistance"
   for r1, r2, d in dsBonds:
       print " {0}\t\t {1}\t\t {2}".format(r1, r2, d)

# Purpose: Find all pairs of cysteine residues whose gamma sulfur atoms
# are within maxBondDist of each other.
def main():
   pdbFile = open('2v5t.pdb','r')
   #Max distance to consider a disulfide bond.
   maxBondDist = 2.5

   # Anonymous function to check if a line from the PDB file is a gamma
   # sulfur atom from a cysteine residue.
   isCysLine = lambda line: (line[0:4] == "ATOM" and line[13:15] == "SG")
   cysLines = [line for line in pdbFile if isCysLine(line)]
   pdbFile.close()

   # Anonymous function to get (x,y,z) coordinates in angstroms for
   # the location of a cysteine residue's gamma sulfur atom.
   getCoords = lambda line:(float(line[31:38]),
                            float(line[39:46]), float(line[47:54]))
   cysCoords = map(getCoords, cysLines)
   # Make a list of all residue pairs classified as disulfide bonds.
   dsBonds = []

   for i in range(len(cysCoords)-1):
      for j in range(i+1, len(cysCoords)):
         dist = getDistance(cysCoords[i], cysCoords[j])
         residue1 = int(cysLines[i][23:27])
         residue2 = int(cysLines[j][23:27])
         if dist < maxBondDist:
            dsBonds.append((residue1,residue2,dist))

   prettyPrint(dsBonds)

if __name__ == "__main__":
    main() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:14:09.587

这：

```
if __name__ == "__main__":
main() 
```

应该：

```
if __name__ == "__main__":
    main() 
```

此外，python 解释器将为您提供有关 IndentationError*的信息，直到行*。我强烈建议阅读提供的错误消息，因为开发人员编写它们是有原因的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:15:44.130

你没有说错误被标记在哪里，但是：

```
if __name__ == "__main__":
main() 
```

应该：

```
if __name__ == "__main__":
   main() 
```

# javascript - document.getElementByTagName 不是函数

> ID：15784538
> 
> 赞同：10
> 
> 时间：2013-04-03T10:11:57.457
> 
> 标签：javascript

代码应该在`<script>`包含鼠标悬停事件的标记之间使用 javascript，并且 HTML 页面中的列表项的样式必须如下所示：正常 - 黑色，12，粗体和黄色，15，粗体，斜体。

```
<html>
<head>
<title> Using mouseover eve </title>
<script language = "javascript">
<!--
    function changeStyle() {

        var item = document.getElementByTagName("li");
        item.style.color = "yellow";
        item.style.fontSize = "15pt";
            item.style.fontWeight = "bold";
        item.style.fontStyle = "italic";

    }
-->
</script>
</head>
<body>
<ul style = "color: black; font-size: 12pt; font-weight: bold" >
    <li onMouseOver = "changeStyle()"> item 1 </li>
    <li onMouseOver = "changeStyle()"> item 2 </li>
</ul>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-04-03T10:12:36.750

那是因为正确的函数名是**`getElementsByTagName`**而**不是** `getElementByTagName`。

```
 var items = document.getElementsByTagName("li"); 
```

这将返回具有该特定标签名称的元素的节点列表（在这种情况下，文档中的所有列表项）。

然后，您可以根据需要专门针对您的 li，例如：

```
items[0].style.color = "yellow"; // first li is yellow when mouseover
items[1].style.color = "red"; // second li is red when mouseover 
```

等等

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:15:22.177

该函数的正确名称是`getElementsByTagName`（带有's'），它返回一个元素数组，而不仅仅是一个元素。如果要从数组中获取第一项，则需要执行以下操作：

```
var item = document.getElementsByTagName("li")[0]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-02-21T14:45:10.753

它应该是 document.getElement **s** ByTagName

# c++ - ifsream::readsome 问题。缓冲区超出

> ID：15784540
> 
> 赞同：1
> 
> 时间：2013-04-03T10:12:06.947
> 
> 标签：c++, buffer

如果缓冲区中没有足够的空间，我已经调查过该方法`ifstream::readsome(buf, size)`不会读取所有字节。示例：

我有缓冲区：4096 字节。从文件开始的偏移量：6 个字节。我打电话 `ifstream::readsome(buf, 4097)`。

函数的结果是 4090。所以如果我想读取剩下的七个字节，我必须调用

`ifstream::readsome(buf + 4090, 7)`.

问题是：为什么这个功能会以这种方式实现？我没有看到处理超出内部方法的缓冲区的任何问题`ifstream::readsome(buf, size)`。

编译器：MSVC 11（VS 2012）

谢谢你的回答。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:18:41.307

因为这就是 的意思`readsome`。它不会*调用*（`streambuf`可能会阻塞）上的任何虚函数；*它被定义为仅*返回当前在缓冲区中的字符。

如果您需要更多，那么您应该使用`read`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:20:18.763

不能保证您的缓冲区将始终被完全填满，因此您可能真的只有 4090 字节而不是 4906 字节。

从`cplusplus.com`

* * *

读取缓冲区中可用的数据 从流中提取最多 n 个字符并将它们存储在 s 指向的数组中，一旦关联的流缓冲区对象（如果有）保存的内部缓冲区用完字符，即使结尾也停止-of-file 尚未到达。

该函数旨在用于从某些类型的异步源中读取数据，这些异步源最终可能会等待更多字符，因为一旦内部缓冲区耗尽，它就会停止提取字符，从而避免潜在的延迟。

请注意，此函数依赖于与流相关联的特定流缓冲区对象的内部，该流的行为主要是针对标准类的实现定义的。

在内部，该函数通过首先构造一个哨兵对象（将 noskipws 设置为 true）来访问输入序列。然后（如果好的话），它通过调用其成员函数 in_avail 检查关联的流缓冲区对象中当前可用的字符数，并通过调用 sbumpc（或 sgetc）提取最多那么多字符。最后，它在返回之前销毁哨兵对象。

该函数成功读取和存储的字符数可以通过调用成员gcount来获取。

* * *

看到[这里](http://www.cplusplus.com/reference/istream/istream/readsome/)的文章。

# iis - 是否需要为 Web 应用程序安装 SMTP 服务才能通过另一个盒子上的邮件服务器发送电子邮件？

> ID：15784550
> 
> 赞同：0
> 
> 时间：2013-04-03T10:12:24.627
> 
> 标签：iis, asp.net-mvc-4, smtp

我在从 ASP.NET MVC 4 应用程序发送电子邮件时遇到问题。我越来越害怕：

```
No connection could be made because the target machine actively refused it 127.0.0.1:25 
```

客户的邮件服务器在另一个盒子上。我有正确的主机名，我可以 ping 它。我还可以使用 telnet 来显示邮件服务器已准备好并正在侦听端口 25。

在我的 web.config 文件中，我有以下内容：

```
<system.net>
    <mailSettings>
      <smtp deliveryMethod="Network" from="support@myclient.co.uk">
        <network host="mailserver1" clientDomain="OfficeNetwork.local" />
      </smtp>
    </mailSettings>
  </system.net> 
```

但是，我仍然收到上面的错误，就好像它试图在本地机器上查找邮件服务器一样。

为什么？

不是 IIS 或邮件服务器方面的专家，我是否需要在默认配置中添加任何内容，以便在 Web 服务器上运行的我的 Web 应用程序可以使用另一个盒子上的邮件服务器？即，是否有我需要安装的 SMTP 服务才能发生这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T13:43:54.990

您需要将 SMTP 添加为 IIS 中的新角色。它相当容易。 [这应该让你开始](http://www.iis.net/learn/application-frameworks/install-and-configure-php-on-iis/configure-smtp-e-mail-in-iis-7-and-above)

不要忘记检查服务是否已启动并正在运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T16:25:20.153

网络小哥回来解决了。但是，我不知道它为什么起作用。

他所做的只是在我添加到标签的邮件服务器上创建一个用户和密码，然后所有问题都消失了。我怀疑这取决于他们如何为邮件服务器配置安全性并且他们没有告诉我......或者，他们也没有任何线索，或者很幸运，有人告诉他们尝试一下。

所以又大了一天，甚至一点也不聪明。只是负债累累。但对网络人来说不是。

# jquery - 替代 fadeOut() 来创建脉冲效果

> ID：15784553
> 
> 赞同：0
> 
> 时间：2013-04-03T10:12:32.080
> 
> 标签：jquery, html, css

我正在使用这样的递归函数在我的页面上的 div 上创建连续的脉冲效果，并且它正在工作。但是，它看起来像是`fadeOut()`从文档流中删除了 div 元素，因此我页面上其他一些元素的位置发生了变化。是否有替代此功能的替代方案，可提供与重复脉冲效果相同的功能？

**代码**

```
(function pulse(){
            if(needStop) {
                needStop = false;
                return;
            }
        $('#player1,#score1').delay(200).fadeOut('slow').delay(50).fadeIn('slow',pulse);
    })(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:16:25.233

如果你不介意使用插件，这里有一个适合 jQuery 的插件：

[http://james.padolsey.com/javascript/simple-pulse-plugin-for-jquery/](http://james.padolsey.com/javascript/simple-pulse-plugin-for-jquery/)

**更新链接：**

[http://jsoverson.github.com/jquery.pulse.js/](http://jsoverson.github.com/jquery.pulse.js/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:17:07.513

尝试为它的不透明度设置动画。

```
$('#player1,#score1').delay(200).animate({
    opacity: 0
}, 'slow', function(){
    setTimeout(function(){
        $('#player1,#score1').delay(50).animate({
            opacity: 0
        }, 'slow', pulse );
); 
```

[http://api.jquery.com/animate/](http://api.jquery.com/animate/)

[https://developer.mozilla.org/en/docs/DOM/window.setTimeout](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:18:07.163

您也可以使用 CSS，也许代码更少，这个来源很棒： [http ://daneden.me/animate/build/](http://daneden.me/animate/build/)

只需添加和删除 css 类即可应用所有这些效果

# javascript - 如何取消选中单选按钮javascript

> ID：15784554
> 
> 赞同：3
> 
> 时间：2013-04-03T10:12:35.460
> 
> 标签：javascript, xslt

我有下面的单选按钮。单击它时，无法清除单选按钮。

代码是

```
<td class="Label">
<input class="Label" type="radio" name="reviewoptions_{@id}" value="other" onClick="reAssign({count(../bankguaranteedata)},document.lending.guaranteereviewoptions,this,{@id})">
<xsl:if test="guaranteereviewoptions/reviewoptions[@id='other']='checked'">
<xsl:attribute name="checked"/>
</xsl:if>
</input>Other</td> 
```

是否有可能再次单击它会清除单选按钮？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2020-03-03T15:16:39.787

我实际上使用这个：

```
var elements = document.getElementsByTagName("input");

for (var i = 0; i < elements.length; i++) {
        if (elements[i].type == "radio") {
            elements[i].checked = false;
        }
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:21:42.460

由于某些原因，您可能想阅读以下内容，因此无法取消选择 HTML 中的单选按钮选项：[https ://ux.stackexchange.com/questions/13511/why-is-it-impossible-to-取消选择-html-radio-inputs](https://ux.stackexchange.com/questions/13511/why-is-it-impossible-to-deselect-html-radio-inputs)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:19:06.817

试试这个

```
 if($('#checkboxID').is(':checked')){
         $('#checkboxID').attr('checked', false);
    }else{
        $('#checkboxID').attr('checked', true);
} 
```

此代码使用 jquery

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:20:49.067

您可以尝试使用重置输入。

```
<input type='reset' /> 
```

单选按钮所在的表单的呼叫重置。

```
document.getElementById("radiobuttonsform").reset(); 
```

# sql - SQL 中的存储过程与子字符串一起使用

> ID：15784559
> 
> 赞同：0
> 
> 时间：2013-04-03T10:12:49.440
> 
> 标签：sql

我在这里有这个存储过程：

```
else if(substring(@SMS,1,1)='S')
begin
insert into WEB_POROSIA..SMS_SERVISI(IDTICKET, MBYLLUR) values(convert(int,substring(@SMS,2,len(@sms)-1)),1)
select @sms
end 
```

它的作用是：我发送这样的短信：

**S 23**并在数据库中保存**23**值..

现在，它是这样工作的，但如果我之前**添加一个字母**，它就不会：即

**S B21**它应该将**B21**插入到表中......

如何修改它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:15:39.933

```
values(convert(int,substring(@SMS,2,len(@sms)-1)),1)
               ^ Because you are converting it into int 
```

如果你得到**B** ，你可以`convert`进入`varchar`

 **```
values(convert(varchar,substring(@SMS,2,len(@sms)-1)),1) 
```

（假设您将`alter`表格并将`datetype`from更改`int`为`varchar`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:18:39.380

您将需要删除到 int 的转换：

```
insert into WEB_POROSIA..SMS_SERVISI(IDTICKET, MBYLLUR) values(substring(@SMS,2,len(@sms)-1),1) 
```

如果目标列也使用 int，您可能还需要修改目标列的类型。**

# java - 这个二维数组中有多少个对象？

> ID：15784564
> 
> 赞同：4
> 
> 时间：2013-04-03T10:12:59.670
> 
> 标签：java, arrays

```
int x[][] = {{1, 2}, {3, 4}}; 
```

既然数组是对象，二维数组是数组的数组，那么这段小代码中有多少个对象呢？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-03T10:15:43.857

三。一个用于顶级`int[]`对象数组，两个`int[]`对象。

元素（整数本身）不是对象。

* * *

我作为“对象”的标准是具有`java.lang.Object`直接或间接超类型的东西。所有数组类型都是 的隐式子类型`Object`，但是`int`是原始数据类型...而不是 的子类型`Object`。

另一件要注意的是，从字面上看，这`int[][]`意味着“数组`int[]`”......。`int[]`您在 an 中找到的对象`int[][]`是真实的一流对象。您的声明

```
 int[][] x = {{1,2}, {3,4}}; 
```

是这个的简写：

```
 int[][] x = new int[2][]();
    x[0] = new int[]{1, 2};
    x[1] = new int[]{3, 4}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:15:36.917

你可以采取三种观点：

*   `int`二维数组中有四个值。
*   您还可以看到包含两个一维数组的单个一维数组，每个数组包含两个值。
*   Stephen C 在他的回答中公开了以`int`vs为中心的第三种观点，它产生了三个数组和四个值，实际上是第二种不同的措辞（所以 3 个 POV）`arrays``int`

# excel - VBA - 刷新数据透视图正在关闭 Excel

> ID：15784569
> 
> 赞同：1
> 
> 时间：2013-04-03T10:13:02.327
> 
> 标签：excel, vba

我使用 VBA 成功创建了一个数据透视表，然后我尝试使用我创建的数据透视表的数据更新图表（仍在 VBA 中）。

问题是，当我调用图表更新函数时，Excel 崩溃并随机关闭（有时图表正确刷新，有时它不工作）。

请在下面找到我用来更新图表的函数，我只使用 SetDataSource 属性：

```
Function GeneratePivotChart(wbSource As String, wbDestination As String, chartName As String, pivotName As String)
    With Sheets(wbDestination).ChartObjects(chartName).Chart
        .SetSourceData Source:=Sheets(wbSource).PivotTables(pivotName).TableRange1
    End With
End Function 
```

为了触发更新，我在包含数据透视表的工作表中使用了 PivotTableUpdate 事件。

知道为什么 Excel 在更新图表数据时会关闭吗？我应该删除图表并创建一个新图表吗？

谢谢你的帮助 ;）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:24:29.230

尝试**ThisWorkbook.RefreshAll**而不是 PivotTableUpdate 事件。

# android - 获取 android ACTION_DOWN 和 ACTION_UP 事件之间的距离

> ID：15784570
> 
> 赞同：0
> 
> 时间：2013-04-03T10:13:04.807
> 
> 标签：android, canvas, surfaceview, touch-event, motionevent

我想获得用户按下屏幕（ACTION_DOWN）和释放屏幕（ACTION_UP）之间的距离。这是为了能够将位图图像移动相同的量（即使它被推到屏幕外），而不会导致它跳回光标位置（或回到屏幕上）。但是，我的代码有时似乎会将图像移动到错误的方向，或者即使我释放屏幕按下也会导致它继续移动。这里是否存在我需要考虑的去抖动问题？

我的 onTouch 方法（获取 ACTION_DOWN 点和 ACTION_UP 点，并减去一个）

```
public boolean onTouch(View v, MotionEvent event) {
    int action = event.getAction();
    if(action == event.ACTION_DOWN) {
    preFingerPosX = event.getX();
        preFingerPosY = event.getY();
    }
    else if(action == event.ACTION_UP) {
        fingerPosX = event.getX();
        fingerPosY = event.getY();
    }
    dx = fingerPosX - preFingerPosX;
    dy = fingerPosY - preFingerPosY;
    bmpX += dx;
    bmpY += dy;

    //invalidate();        
    return true;
} 
```

还有我的 run() 方法

```
public void run() {
        // TODO Auto-generated method stub
        while(isRunning) {
            if(!surfaceHolder.getSurface().isValid()) {
                continue;
            }

            canvas = surfaceHolder.lockCanvas();

            canvas.drawRGB(0, 0, 0);
            canvas.drawBitmap(bmp, bmpX-(bmp.getWidth()/2),
                                        bmpY-(bmp.getHeight()/2), null);
            surfaceHolder.unlockCanvasAndPost(canvas);

        }
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:19:11.710

在您的`onTouch()`处理程序中，您仍在执行此位：

```
dx = fingerPosX - preFingerPosX;
dy = fingerPosY - preFingerPosY;
bmpX += dx;
bmpY += dy; 
```

即使事件不是 ACTION_DOWN 或 ACTION_UP。

因此，由于在初始向下事件和最终向上事件之间发生（可能数百个）ACTION_DOWN 事件（也可能还有其他事件），并且在 和`bmpX`之间`bmpY`增加/减少`dx`/`dy`可能数百倍。`ACTION_DOWN``ACTION_UP`

此外，通常您希望您的对象在手势期间实际跟踪手指过程，因此您可能希望为 ACTION_DOWN 提供特定的处理程序。

# flash - FFmpeg 流：在 Flash 中看不到来自 h263 流的图像

> ID：15784572
> 
> 赞同：0
> 
> 时间：2013-04-03T10:13:08.717
> 
> 标签：flash, ffmpeg, streaming, codec, libavcodec

我正在使用 FFmpeg 将我的桌面实时 rtmp 流式传输到 Wowza。如果我在 h264 或 flashsv2 编解码器中发布流，一切正常，但我也需要 h263 支持。问题是，如果我的流的编解码器是 H263，我在 Flash 中看不到流中的图像！我捕获了 NetStream.Play.Start 事件，甚至获取了视频的元数据，但我的 Video 对象中没有显示图像。当我尝试使用以下命令对其进行流式传输时，h264 也存在同样的问题：

```
ffmpeg -f dshow -i video=UScreenCapture -vcodec h264 -f flv rtmp://[adr]/desc 
```

选择 yuv420p 像素格式修复了这个错误。因此，使用以下命令进行流式传输，在 Flash 中以正确的方式显示：

```
ffmpeg -f dshow -i video=UScreenCapture -vcodec h264 -pix_fmt yuv420p -f flv rtmp://[adr]/desc 
```

但是当我尝试以这种方式解决 h263 的问题时，什么也没有发生：闪存中仍然没有图像。我必须做些什么来修复这个错误？

这是我的 h263 命令：

```
ffmpeg -f dshow -i video=UScreenCapture -vcodec h263 -pix_fmt yuv420p -s 352x288 -f flv rtmp://[adr]/desc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T05:55:20.290

我很惊讶您能够将“h263”编解码器视频强制放入 FLV 容器中。问题是 Flash Player 不支持 H.263 视频。它支持 Sorenson Spark，它是 H.263 的一种变体。改为使用“flv1”视频编解码器访问它。

顺便说一句，执行`ffmpeg -codecs | grep 263`以了解存在多少 H.263 变体。

# java - 在Android中获取ViewPager的当前标签

> ID：15784574
> 
> 赞同：2
> 
> 时间：2013-04-03T10:13:11.353
> 
> 标签：java, android, tabs

我正在使用 ViewPagerExtension 库[https://github.com/astuetz/ViewPagerExtensions](https://github.com/astuetz/ViewPagerExtensions)处理滚动选项卡视图。我有一个位置列表，其中包含一个事件列表，我想为每个位置表示一个选项卡，并在每个选项卡内显示事件的列表视图。

到目前为止，我已经能够毫无问题地展示这一切。当我在用户单击其中一个事件后尝试恢复正确的位置事件时，就会出现问题。

如果我设置了 OnItemClickListener，我会在列表视图中获得该事件的位置，但我不知道是哪一个，也不知道如何才能恢复它。

下面的代码是我目前所拥有的，我也尝试将 OnPageChangeListener 添加到父 ViewPager，但它似乎不起作用。

```
public class CustomPageAdapter extends PagerAdapter {

protected transient Activity mContext;

private ArrayList<Location> locations;

private EventAdapter eventAdapter;
private ArrayList<Event> events;

public CustomPageAdapter(Activity context, ArrayList<Location> locations) {
    this.mContext = context;
    this.locations = locations;
}

@Override
public int getCount() {
    return this.locations.size();
}

@Override
public Object instantiateItem(View container, int position) {

    ListView listView = new ListView (mContext);

    events = this.locations.get(position).getEvents();
    eventAdapter = new EventAdapter(mContext, R.layout.event_item, events);
    listView.setAdapter(eventAdapter);
    listView.setPadding(10, 10, 10, 10);
    listView.setBackgroundDrawable(mContext.getResources().getDrawable(R.drawable.textured_paper));
    listView.setDivider(mContext.getResources().getDrawable(R.drawable.textured_paper));
    listView.setDividerHeight(30); // always after setDivider()
    listView.setOnItemClickListener(new OnItemClickListener() {

        @Override
        public void onItemClick(AdapterView<?> parent, View view, int itemPosition,
                long id) {

            Event clickedEvent = events.get(itemPosition);

        }

    });
    ((ViewPager) container).addView(listView, 0);
    return listView;
}

@Override
public void destroyItem(View container, int position, Object view) {
    //((ViewPager) container).removeView((View) view);
}

@Override
public boolean isViewFromObject(View view, Object object) {
    return view == ((View) object);
}

@Override
public void finishUpdate(View container) {}

@Override
public void restoreState(Parcelable state, ClassLoader loader) {}

@Override
public Parcelable saveState() {
    return null;
}

@Override
public void startUpdate(View container) {} 
```

}

我的问题是，有什么方法可以保持关系位置事件，所以当 OnItemClick 启动时，我知道我现在在哪个选项卡中？

非常感谢您的帮助！

## 解决方案

我已经能够通过标记每个 ListView 来解决它：

```
listView.setTag(position); 
```

然后恢复它：

```
@Override
        public void onItemClick(AdapterView<?> parent, View view, int itemPosition,
                long id) {

            int tabPos = (Integer) parent.getTag();
            Event clickedEvent = events.get(itemPosition);

        } 
```

我在这里找到了解决方案[Android ViewPager get the current View](https://stackoverflow.com/questions/12854783/android-viewpager-get-the-current-view?rq=1)

谢谢您的帮助 ：）

# javascript - JQuery.ajax() 复制设置对象？

> ID：15784581
> 
> 赞同：3
> 
> 时间：2013-04-03T10:13:29.067
> 
> 标签：javascript, jquery, ajax

[JQuery.ajax()](http://api.jquery.com/jQuery.ajax/)接受一个`settings`参数。`success`or的函数`error`（例如）在这个对象的上下文中运行。

```
var arr = [];
var a = {
    url : '/',
    arbiteraryProperty: 'yeah!',
    complete:function () {
        console.dir(arr[0]);
    }
};

arr.push( a );

$.ajax( a ); 
```

运行命令，然后打印 arr 的第一个元素（即 a）的属性，如下所示：

> ```
> arbiteraryProperty : "yeah!"
> url : "/"
> complete : function() 
> ```

现在的问题是`this`上述`complete`函数中的关键字实际上并不是指`settings`对象。这很有趣，因为 JQuery 似乎正在制作`settings`对象的副本。

```
var arr = [];
var a = {
    url : '/',
    arbiteraryProperty: 'yeah!',
    complete:function () {
        console.log(this.arbiteraryProperty );
        //this prints 'yeah!'
        this.arbiteraryProperty = 'nope!';
        console.log( this.arbiteraryProperty );
        //this prints 'nope!' so the value of the attribute in this is changed
        console.log( a.arbiteraryProperty );
        //this prints 'yeah!' ie. the value originally existed in the settings object
    }
};

arr.push( a );

$.ajax( a ); 
```

问题是：JQuery 真的会创建设置对象的副本吗？如果是，我该如何强制它使用我的对象？

我有一个应用程序，我需要将这些对象保存在队列中，并希望它们在运行时得到更新。我想另一种选择是`context`使用`$.ajax()`. 但是，此函数的这种行为（制作设置对象的副本）并未记录在案。还是我错过了？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T10:30:38.940

是的，当您调用`jQuery.ajax()`. 结果是您传递的设置对象和全局`jQuery.ajaxSettings`对象的组合，因此您拥有正确的默认值和全局设置的任何设置，即使您没有在传递的对象中明确设置它们。

这可以在第 7745 行的 jQuery 1.9的[源代码中看到：](http://code.jquery.com/jquery-1.9.1.js)

```
// Create the final options object
s = jQuery.ajaxSetup( {}, options ), 
```

通常，您使用该属性为回调函数内部`context`指定不同的值，因此：`this`

```
options = {
    url: '/',
    ...,
    context: a
} 
```

但是，如果合并执行深层复制，则您的情况下的循环引用（`a`在其属性之一中引用自身）可能会导致问题。

# android - kindle fire hd 8.9的风景画文件夹

> ID：15784582
> 
> 赞同：3
> 
> 时间：2013-04-03T10:13:36.123
> 
> 标签：android, kindle-fire, android-drawable

我正在开发一款 Kindle Fire 应用程序，它应该可以在所有 Fire 设备上运行，包括 Kindle Fire 1st Gen、HD-7 和 HD-8.9。

对于启动画面，我使用以下 drawble 文件夹：

*   drawable-mdpi - 第一代 kindle fire，肖像
*   drawable-land-mdpi - 第一代 kindle fire，风景
*   drawable-hdpi - 火焰高清 7，肖像
*   drawable-land-hdpi - 火焰高清 7，风景
*   drawable-sw800dp-hdpi - 火焰高清 8.9，纵向
*   drawable-sw800dp-land-hdpi - 火焰高清 8.9，风景

现在，所有图像都正确显示，除了`drawable-sw800dp-land-hdpi`. 它`drawable-land-hdpi`取而代之的是图像。

请有人告诉我这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T10:39:07.507

drawable-normal-hdpi（普通设备）

drawable-large-mdpi（Kindle Fire 第 1 代和第 2 代 600*1024）

drawable-large-hdpi (Kindle Fire HD7 800*1280)

drawable-xlarge-hdpi (Kindle Fire HD9 1200*1920)

要配置 Kindle Fire 模拟器，请点击以下链接

[https://developer.amazon.com/sdk/fire/emulator-guide.html](https://developer.amazon.com/sdk/fire/emulator-guide.html)

# html - 在 Opera 和 Firefox 中设置音频标签 currentTime 会导致错误

> ID：15784587
> 
> 赞同：2
> 
> 时间：2013-04-03T10:13:58.193
> 
> 标签：html, firefox, cross-browser, opera, html5-audio

我的网页中有一个 html5 音频标签：

```
<div id="audioContainer">
<audio id="siteAudio" src="http://myDomain.com/audio/soundFx.mp3" type="audio/flac"   preloading="auto" audio="true"></audio>
</div> 
```

每次用户在我的网站上按下不同的按钮时，我都希望能够从不同的起点播放声音。为点击创建音效。
我正在使用以下 JS 代码来执行此操作：
var m_currentAudioElement = document.getElementById('siteAudio'); m_currentAudioElement.currentTime = 1.00; /* 或 2.00, 3.00*/
m_currentAudioElement.play();

这在 Chrome、Safari 和 IE 上运行良好（令人惊讶）。
但是在 Opera 和 Firefox 中执行时，我在设置 currentTime 命令时收到以下错误：“Unhandled DOMException: INVALID_STATE_ERR”
知道为什么会这样吗？或者如何克服这个？

非常感谢，
Moshe S。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T21:25:47.160

[这是因为Firefox 和 Opera 不支持](https://developer.mozilla.org/en-US/docs/HTML/Supported_media_formats)mp3 音频文件：

您需要创建音频的 ogg 版本并`<source>`在`<audio>`. 上面链接的页面上有一个示例（尽管是视频，而不是音频）。

# python - 如何在numpy中重新排列值顺序？

> ID：15784588
> 
> 赞同：1
> 
> 时间：2013-04-03T10:14:01.533
> 
> 标签：python, numpy, writetofile

我有一个包含许多图像的文件夹（按创建时间排序），我可以将其读入 numpy float32 数组。我想将这些数组以 C 程序（我无法修改）将访问的两种不同格式写入单个文件中的文件系统。

第一种格式很简单：每个数组的值从左到右从上到下依次排列。（数组以这种方式一个接一个地出现）。我可以用 np.tofile 轻松做到这一点。

第二种格式更复杂：对于每个像素坐标（x，y），我想将所有图像的相应像素依次写入文件中。我试图堆叠数组，然后对结果进行转换。但是当我使用 np.tofile 将其写入文件系统时，该文件包含与第一种格式相同的数据排列。

如何告诉 numpy 重新排列数据？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:18:18.423

对于第二种格式，您可以使用`column_stack`后跟`ravel`

```
In [8]: img1 = np.arange(5, dtype='float32')

In [9]: img2 = np.arange(5, dtype='float32')

In [10]: np.column_stack((img1,img2)).ravel()
Out[10]: array([ 0.,  0.,  1.,  1.,  2.,  2.,  3.,  3.,  4.,  4.], dtype=float32) 
```

# python - 如何在 Python 的字典中打印给定值的键？

> ID：15784590
> 
> 赞同：7
> 
> 时间：2013-04-03T10:14:07.580
> 
> 标签：python, dictionary, key

例如，假设我们有以下字典：

```
dictionary = {'A':4,
              'B':6,
              'C':-2,
              'D':-8} 
```

给定它的值，如何打印某个键？

```
print(dictionary.get('A')) #This will print 4 
```

你怎么能倒着做呢？即不是通过引用键来获取值，而是通过引用值来获取键。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-03T10:16:51.910

我不相信有办法做到这一点。这不是字典的使用方式......相反，您必须做类似的事情。

```
for key, value in dictionary.items():
    if 4 == value:
        print key 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-11-15T01:29:42.147

在 Python 3 中：

```
# A simple dictionary
x = {'X':"yes", 'Y':"no", 'Z':"ok"}

# To print a specific key (for instance the 2nd key which is at position 1)
print([key for key in x.keys()][1]) 
```

输出：

```
Y 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:20:28.710

字典的组织方式是：key -> value

如果你尝试去：值 -> 键

然后你有一些问题；重复，有时字典包含您不希望将其作为键的大型（或不可散列的）对象。

* * *

但是，如果您仍然想这样做，您可以通过迭代 dicts 键和值并按如下方式匹配它们来轻松地做到这一点：

```
def method(dict, value):
    for k, v in dict.iteritems():
        if v == value:
            yield k
# this is an iterator, example:
>>> d = {'a':1, 'b':2}
>>> for r in method(d, 2):
    print r

b 
```

* * *

正如评论中所指出的，整个事情可以写成一个生成器表达式：

```
def method(dict, value):
    return (k for k,v in dict.iteritems() if v == value) 
```

* * *

Python 版本注意：在 Python 3+ 中，您可以使用`dict.items()`而不是`dict.iteritems()`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-07-11T14:51:11.837

```
target_key = 4
for i in dictionary:
    if dictionary[i]==target_key:
        print(i) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-05-07T17:50:59.473

如果您必须在字典中找到最高 VALUE 的 KEY，请执行以下操作：

1.  步骤 1：将所有 VALUES 提取到一个列表中并找到列表的最大值
2.  第 2 步：从第 1 步中找到特定 VALUE 的 KEY

此代码的可视化分析器可在此链接中找到：[LINK](http://www.pythontutor.com/visualize.html#code=dictionary%20%3D%20%7B'A'%3A4,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'B'%3A6,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'C'%3A-2,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20'D'%3A-8%7D%0Alis%3Ddictionary.values%28%29%0Aprint%28max%28lis%29%29%0Afor%20key,val%20in%20dictionary.items%28%29%20%3A%0A%20%20%20%20if%20val%20%3D%3D%20max%28lis%29%20%3A%0A%20%20%20%20%20%20%20%20print%28%22The%20highest%20KEY%20in%20the%20dictionary%20is%20%22,key%29&cumulative=false&curInstr=16&heapPrimitives=nevernest&mode=display&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false)

```
 dictionary = {'A':4,
              'B':6,
              'C':-2,
              'D':-8}
lis=dictionary.values()
print(max(lis))
for key,val in dictionary.items() :
    if val == max(lis) :
        print("The highest KEY in the dictionary is ",key) 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2018-09-30T19:58:10.507

嘿，我被这个问题困扰了很久，你所要做的就是用值交换密钥，例如

```
Dictionary = {'Bob':14} 
```

你会把它改成

```
Dictionary ={1:'Bob'} 
```

反之亦然，将键设置为值，将值设置为键，这样你就可以得到你想要的东西

# java - Java泛型不起作用

> ID：15784591
> 
> 赞同：-3
> 
> 时间：2013-04-03T10:14:08.647
> 
> 标签：java, generics

为什么泛型在我的机器上不起作用。为什么下面的代码在没有类型转换的情况下无法在 Eclipse 中工作`String`。我正在使用 Java 1.6

```
package com.withgeneric;

 class Util {
    // Generic static method
    public static <K, V> boolean compare(Pair<K, V> p1, Pair<K, V> p2) {
        return p1.getKey().equals(p2.getKey()) &&
               p1.getValue().equals(p2.getValue());
    }
}

 class SPair<K, V> {

        private K key;
        private V value;

        // Generic constructor
        public SPair(K key, V value) {
            this.key = key;
            this.value = value;
        }

        // Generic methods
        public void setKey(K key) { this.key = key; }
        public void setValue(V value) { this.value = value; }
        public K getKey()   { return key; }
        public V getValue() { return value; }
    }

public class GenericMethod {

    /**
     * @param args
     */
    public static void main(String[] args) {

        Pair<Integer, String> p1 = new SPair<>(1, "apple"); //Giving Error
        Pair<Integer, String> p2 = new SPair<>(2, "pear"); //Giving Error
        boolean same = Util.<Integer, String>compare(p1, p2);

        // TODO Auto-generated method stub

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:18:15.383

在 Eclipse 中，转到 Window > Preferences > Java > Compiler 并查找 JDK 合规性。确保它至少为 1.5。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:02:19.437

你检查过你的 Eclipse 项目中配置的 JVM 吗？转到配置构建路径，然后检查是否包含正确的库

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:18:34.310

自 Java 1.5 以来，这无需强制转换即可工作。

```
package java.util;

public interface List<E> extends Collection<E> {

    ....        

    E get(int index);

    ....

} 
```

也许有用：[Java 泛型](http://docs.oracle.com/javase/tutorial/java/generics/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:30:56.743

如果您使用的是 java 1.5 或更高版本，则此语句不会给出任何错误。但是，如果您使用的是旧版本

```
List<String> list = new ArrayList<String>(); 
```

会报错。首先，您必须解决这个问题，然后才会出现类型转换。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T11:08:20.387

编写一个包含您在上面发布的行的整个程序。不要复制和粘贴它们，将它们全部输入。包括 java 程序所需的行，即`public static void main (String[] args)`等。在该程序上执行“清理”和“构建”，并告诉我们整个结果。如果这仍然导致错误，请发布整个程序和整个错误。

另请注意，很难（充其量）弄清楚另一台机器的配置出了什么问题，而无法查看它；帮助我们获取有关那里的信息。突然的回答让人觉得您希望我们修复的确实是 Java。

# ios - 如何在 Objective C 中链接或加载共享库（.so）？

> ID：15784593
> 
> 赞同：0
> 
> 时间：2013-04-03T10:14:15.960
> 
> 标签：ios, objective-c, shared-libraries, xcode4.5, loading

我在构建阶段中添加了一个共享库（.so）作为目标。如何使用库中的功能？在控制器中包含标题很好。还是我需要显式加载库。请让我知道如何在 Objective C 中使用 .so。

# sql - 从表字段中查找所有行的唯一字符

> ID：15784596
> 
> 赞同：3
> 
> 时间：2013-04-03T10:14:19.300
> 
> 标签：sql, sql-server, tsql

如何查找具有多行的字段中使用的不同字符的数量。

例如，如果有两行具有类似的数据`abcd`，`eaafg*`然后使用的不同字符是`abcdefg*`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:50:45.163

试试这个——

```
INSERT INTO @temp (txt)
VALUES ('abcd3'), ('abcdefg*')

SELECT disword = (
SELECT DISTINCT dt.ch
FROM (
 SELECT ch = SUBSTRING(t.mtxt, n.number + 1, 1) 
 FROM [master].dbo.spt_values n
 CROSS JOIN (
  SELECT mtxt = (
   SELECT txt
   FROM @temp
   FOR XML PATH(N''), TYPE, ROOT).value(N'root[1]', N'NVARCHAR(MAX)'
  )
 ) t
 WHERE [type] = N'p'
  AND number <= LEN(mtxt) - 1
) dt
FOR XML PATH(N''), TYPE, ROOT).value(N'root[1]', N'NVARCHAR(MAX)'
) 
```

* * *

示例（已编辑）：

```
SET NOCOUNT ON;

DECLARE @temp TABLE (txt VARCHAR(8000))

INSERT INTO @temp (txt)
VALUES ('abcd'), ('abcdefg*'), (REPLICATE('-', 8000)), (REPLICATE('+', 8000))

DECLARE @t TABLE (i BIGINT)

DECLARE 
      @i BIGINT = 1
    , @l BIGINT = (
        SELECT SUM(LEN(txt))
        FROM @temp 
    )

WHILE (@i <= @l) BEGIN

    INSERT INTO @t (i) 
    VALUES (@i), (@i+1), (@i+2), (@i+3), (@i+4), (@i+5), (@i+6), (@i+7), (@i+8), (@i+9)
    SELECT @i += 10

END

SELECT disword = (
    SELECT DISTINCT dt.ch
    FROM (
        SELECT ch = SUBSTRING(t.mtxt, n.i, 1) 
        FROM @t n
        CROSS JOIN (
            SELECT mtxt = (
                SELECT txt
                FROM @temp
                FOR XML PATH(N''), TYPE, ROOT).value(N'root[1]', N'NVARCHAR(MAX)'
            )
        ) t
    ) dt
    FOR XML PATH(N''), TYPE, ROOT).value(N'root[1]', N'NVARCHAR(MAX)'
) 
```

* * *

看看这个解决方案 -

```
SELECT 
      dt.ch
    , cnt = COUNT(1)
FROM (
    SELECT ch = SUBSTRING(t.mtxt, n.i, 1)  
    FROM @t n
    CROSS JOIN (
        SELECT mtxt = (
            SELECT txt
            FROM @temp
            FOR XML PATH(N''), TYPE, ROOT).value(N'root[1]', N'NVARCHAR(MAX)')
    ) t
) dt
WHERE dt.ch != ''
GROUP BY dt.ch
ORDER BY cnt DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:43:57.680

以下问题可能与您所问的有关：

[如何在 mssql 中获取字符串列的不同字符？](https://stackoverflow.com/questions/3923830/howto-get-distinct-characters-of-string-column-in-mssql)

和

[SQL：如何在所有行中获取列中的所有不同字符](https://stackoverflow.com/questions/2925767/sql-how-to-get-all-the-distinct-characters-in-a-column-across-all-rows)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-28T13:25:02.783

有理货：

```
DECLARE @t TABLE (s NVARCHAR(MAX))

INSERT INTO @t
VALUES ('abcd'), ('abcdefg*')

;WITH tally AS(SELECT ROW_NUMBER() OVER(ORDER BY (SELECT 1)) i
FROM (VALUES(0),(0),(0),(0),(0),(0),(0),(0),(0),(0)) t1(n)
CROSS JOIN (VALUES(0),(0),(0),(0),(0),(0),(0),(0),(0),(0)) t2(n))

SELECT 
(       SELECT DISTINCT sb
        FROM    tally
        CROSS APPLY ( SELECT SUBSTRING(s, i, 1) sb FROM @t ) ca
        WHERE   sb <> ''
FOR     XML PATH(N'') , TYPE , ROOT).value(N'root[1]', N'NVARCHAR(MAX)') 
```

# c++ - 在 C++ 中返回集合的接口

> ID：15784603
> 
> 赞同：1
> 
> 时间：2013-04-03T10:14:36.240
> 
> 标签：c++, stl, containers

我有一个类（或函数），它接受一组对象，比如点，我需要几种不同的方法来创建它们。此外，我需要测试接受它们的类，所以我想为“点集合创建者”类创建一个接口或基类。

我知道在 C++ 中接受对象集合到函数中的惯用方法是传递两个模板化迭代器。像这样的东西：

```
template <typename Iterator>
double doSomething(Iterator first, Iterator last); 
```

但是返回一个集合怎么样？如何声明一组返回集合的类，以便我可以将它传递给这样的函数？

我应该只返回集合（向量或其他），然后让它的开始和结束迭代器传递它们吗？或者我应该模仿容器的界面？（这在以后测试具体类和使用 Google Mock 的 ASSERT_THAT 和 ElementsAre 时可能很有用）。

* * *

**更新。我正在添加更多信息**

正如我所说，我需要处理一些要点。为简单起见，假设我需要获取一系列点，对它们进行一些计算，然后返回一个值（例如，连续点之间的平均距离）：

```
double ProcessPoints(/*Take points somehow*/); 
```

或者可能：

```
class PointProcessor
{
public:
    PointProcessor(/*Take points somehow*/);
    double Run();
//...
} 
```

现在，我需要几种方法来创建一系列点，例如一系列 N 个随机点、一系列线段的交点、用于测试的假...所以我认为它们应该有一个公共接口或基类：

```
class PointsGenerator { /*...*/ };

class RandomPoints : public PointsGenerator{ /*...*/ };
class IntersectionsBetweenSegments : public PointsGenerator{ /*...*/ };
class FakePointsGenerator : public PointsGenerator{ /*...*/ };
//... 
```

那么 PointsGenerator 是否应该只返回一个向量，它是否应该像容器一样提供开始和结束功能，这些选项都没有......？也许我做错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:26:19.793

这取决于。有两种情况：

*   您正在构建一个新容器。这有点像工厂方法；在这种情况下，您返回容器。

*   您正在返回对现有容器的引用。在这种情况下，您可以返回对容器的引用，或者提供两个函数，一个返回`begin` 迭代器，另一个返回`end`迭代器。

根据您的描述，您属于第一种情况。你真的别无选择：如果你想创建一个对象，它必须存在于某个地方，并且它不能存在于创建它的函数中。

有人可能会争辩说，库容器的设计使您不应该使用工厂函数。（工厂函数主要用于动态分配的多态对象。你几乎从不想动态分配容器，标准容器不是多态的。）如果你有应该用来初始化容器的序列，你可以把它当作上面的第二种情况，并编写如下内容：

```
std::vector<Whatever> v( beginWhatever(), endWhatever() ); 
```

换句话说，将实际容器的创建留给客户端，只需向他提供初始化序列即可。

# excel - 从 Excel 中的公式列复制数据？

> ID：15784608
> 
> 赞同：0
> 
> 时间：2013-04-03T10:14:57.493
> 
> 标签：excel, vba

嗨，我在 MS Excel 中有三列。列是 A1、B1、C1。C1 是根据公式自动计算的。为 C1 定义的公式是 (=A1+B1)。我的意思是C1是A1和B1的总和。现在的问题是我想将 C1 的值复制到 A1 并想让 B1 列填充为 0。

当我尝试复制 C1 并将其粘贴到 A1 中时，A1 显示为“#href”，类似这样。那么如何复制 C1 的值（没有公式），然后将其粘贴到 A1 中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:19:50.290

当您从 A1 中的 C1 复制时，Excel 试图在 A1 中插入 C1 中包含的相同公式，并且您的相对地址已适应新位置，因此 A1 中的新公式应将 A1 左侧的两个单元格相加，但有不是 A1 左侧的单元格，因此 #href 错误告诉您这一点。

要执行您想要的操作，您应该将其粘贴为“值”。您可以在粘贴命令中找到该选项

# c - 开关盒（在 C 中）

> ID：15784609
> 
> 赞同：-5
> 
> 时间：2013-04-03T10:15:00.120
> 
> 标签：c, int, switch-statement, case, conditional-statements

我们有 4 个区域：`a` `b` `c` `d`

我们想把这些数字放在这些区域中。

如何仅使用 switch 语句来做到这一点：

```
 the number divisible by 10 and divisible by 7 ın region a
 the number divisible by 10 but not divisible by 7 ın region b
 the number not divisible by 10 but divisible by 7 ın region c
 the number not divisible by 10 and divisible by 7 ın region d 
```

例如，如果：

```
input 770 out put is a

input 200 output b

input 154 output c 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T10:20:11.137

像这样的东西可以工作，但不确定这是否是你所要求的：

```
switch ((number % 7 == 0) * 2 + (number % 10 == 0))
{
case 0:
  puts("d");
  break;
case 1:
  puts("b");
  break;
case 2:
  puts("c");
  break;
case 3:
  puts("a");
  break;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:41:40.013

```
var1 = n % 7;
var2 = n % 10;

switch ( var1 ){
    case 0 :
       switch( var2 ){
                         case 0: printf("a");break;
                         default: printf("b");break;
                    }

    default :
       switch( var2 ){
                         case 0: printf("c");break;
                         default: printf("d");break;
                    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:26:22.450

一种直接的方法是使用嵌套`switch`作为嵌套`if`s 的替代方法 :)：

```
char *foo(int i) {
    int imod10 = i%10;
    int imod7 = i%7;
    switch(imod10) {
        case 0:
            switch(imod7) {
                case 0:
                    return "A";
                    break;
                default:
                    return "B";
            }
            break;  
        default:
            switch(imod7) {
                case 0:
                    return "C";
                    break;
                default:
                    return "D";
            }
    }
} 
```

有关测试用例的示例，请参见[https://ideone.com/OacutE 。](https://ideone.com/OacutE)

# android - 在 viewpager 中隐藏标签

> ID：15784613
> 
> 赞同：4
> 
> 时间：2013-04-03T10:15:04.920
> 
> 标签：android, android-fragments, android-viewpager, android-tabs

我正在使用`Actionbarshelock`图书馆。我有三个标签。每个选项卡都包含一个`fragment`. 在我的中间标签中，我有`sliding drawer`. 我想`action bar`从屏幕上隐藏标签，以便我可以获得更多空间用于滑动抽屉。我使用“隐藏”方法隐藏操作栏，但不知道如何隐藏选项卡并在滑动抽屉打开的情况下仅在整个屏幕中显示中间片段。

我努力了

```
requestWindowFeature(com.actionbarsherlock.view.Window.FEATURE_ACTION_BAR_OVERLAY); 
```

它隐藏选项卡，但必须在添加片段和`setContentView`.

# android - 为什么我不能使用 getFilesDir(); 在静态环境中？

> ID：15784616
> 
> 赞同：6
> 
> 时间：2013-04-03T10:15:09.897
> 
> 标签：android, file, methods, static

我到处寻找答案，每次看到其他人使用该方法时：

```
getFilesDir(); 
```

但是当我尝试以任何方式使用该方法时，尤其是：

```
File myFile = new File (getFilesDir();, filename ); 
```

Eclipse 只是说，“不能从 tye ContextWrapper 对非静态方法 getFilesDir 进行静态引用”

我正在尝试使用它来获取内部目录来为我的应用程序编写文件。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T10:21:26.237

那是因为在静态方法中你没有得到类的对象，而 getFilesDir 不是静态方法，这意味着它只能通过类 Context 的对象访问。

因此，您可以做的是将对象的引用存储在类的静态变量中，然后在您的静态方法中使用它。

例如：

```
static YourContextClass obj;

static void method(){
   File myFile = new File (obj.getFilesDir(), filename );
} 
```

您还必须将对象的引用存储在 onCreateMethod()

```
 obj = this; 
```

实现这一目标的最佳方法是

```
 static void method(YourContextClass obj){
      File myFile = new File (obj.getFilesDir(), filename );
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-03-04T09:22:53.963

我要谈谈发生在我身上的事。我正在开发一个日志系统文件，所以我创建了一个新类，我想为我的所有应用程序和这个类的许多实例做不同的日志。所以我想在类似于单例类的应用程序类上创建我的类的受保护或公共对象。

所以我有这样的事情：

```
 public class MyApp extends Application {
        protected LogApp logApp = new LogApp(getFilesDir()); 
```

当我从我的主类中调用它以获取列表文件时，例如：

```
 public class LogApp {
         public File dirFiles;

         //file parameter can't be null, the app will crash
         public LogApp(File file){
            dirFiles = file;
         }

         public File[] getListFiles(){
            return dirFiles.listFiles()
         }

      public class MainActivity extends AppCompatActivity {
         protected void onCreate(Bundle savedInstanceState) {
            MyApp myApp = (MyApp)getApplicationContext();
            File file[] = myApp.logApp.getListFiles();
      } 
```

这让我遇到了 nullPointException 错误。在这种情况下，解决方案非常简单，以至于我同时感到笨拙和自豪。

我无法在 MyApp 的声明空间中调用 getFilesDir，因为那时没有获取该目录的上下文。Android App 中的执行顺序是：Application --> Activity。就像清单文件中所说的那样。

解决方案？在 MyApp 类的 onCreate 事件中创建我的对象，如下所示：

```
 public class MyApp extends Application {
        protected LogApp logApp; 

        void onCreate(){
           logApp = new LogApp(getFilesDir()); 
```

所以现在我可以在我的主类中以与我相同的方式使用它，因为存在我的 MainActivity 的一个实例，它在上下文类的最后一个实例中扩展。

也许我对可能的解释有误，这不是术语含义中真正发生的事情以及android的工作原理。如果有人比我更了解为什么会这样，我邀请您消除我们的疑虑。

我希望这能帮到您。

# c# - 查询日期从和日期到同一天不返回任何行

> ID：15784619
> 
> 赞同：0
> 
> 时间：2013-04-03T10:15:16.950
> 
> 标签：c#, sql, datetime

我有两个日期选择器，其日期将在此查询中使用：

```
da = new SqlDataAdapter(@"
        select * from TotalBill 
        where SaudaDate between 
                 convert(datetime,'" + dtpForDate.Value.Date.ToString("MM/dd/yyyy") + "') 
             and convert(datetime,'" + dtpToDate.Value.Date.ToString("MM/dd/yyyy") + "')"
                       , con);
DataSet ds = new DataSet();
da.Fill(ds);
gvDailyBill.DataSource = ds.Tables[0]; 
```

当我想查询一天时，我不能将两个日期选择器都设置为同一天，但我必须将 设置为`From`我想要的那一天和`To`之后的一天。如果我不这样做，查询会变成这样：

```
select * from totalbill where SaudaDate between '1/2/2013' and '1/2/2013' 
```

当然返回 0 行。如何更改我的代码或查询以允许在日期选择器中选择同一天？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:29:08.870

首先重要的是：
[您需要参数化查询。](http://msdn.microsoft.com/en-us/library/bbw6zyha%28v=vs.71%29.aspx)

```
var fromDate = dtpForDate.Value.Date;
var toDate = dtpToDate.Value.Date;

string selectSQL = "select * from TotalBill where SaudaDate between @start and @end";
da = new SqlDataAdapter();         

SqlCommand selectCMD = new SqlCommand(selectSQL, con);
da.SelectCommand = selectCMD;

selectCMD.Parameters.Add("@start ", SqlDbType.DateTime).Value = fromDate;
selectCMD.Parameters.Add("@end", SqlDbType.DateTime).Value = toDate;
DataSet ds = new DataSet();
da.Fill(ds);
gvDailyBill.DataSource = ds.Tables[0]; 
```

其次，您按日期过滤。但是当您的开始日期等于结束日期时，您需要全天的数据。
如果开始日期和结束日期不同怎么办？是否也要包含结束日期的所有值？

当您对 Sql 说“01/01/2010”时，它会理解“01/01/2010 00:00:00”。您不能按日期过滤，但您可以按日期**时间** 过滤。这是一个重要的区别。

所以在你的情况下，我认为正确的查询是：

```
var fromDate = dtpForDate.Value.Date;
var toDate = dtpToDate.Value.Date.AddDays(1); // trick, add one day 
```

在这种情况下，当 fromDate == toDate == '1/2/2013' 时，您将获得 '1/2/2013 00:00:00' 和 '1/3/2013' 00:00 之间的所有数据： 00'。用纯英语，您将获得 2013 年 1 月 2 日当天的所有数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:33:44.480

如果您希望包含日期，请不要在两者之间使用。使用大于/小于或等于。

```
select * from totalbill where SaudaDate >= '2013-02-01' and SaudaDate <= '2013-02-01' 
```

编辑。如果您的日期列实际上是一个日期时间，其时间不是 00:00:00.000，那么您将需要在 where 中使用“Like”作为单个日期。

```
select * from totalbill where SaudaDate like '2013-02-01%' 
```

或者您需要以编程方式将一天添加到第二个日期。

```
select * from totalbill where SaudaDate >= '2013-02-01' and SaudaDate <= '2013-02-02' 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:42:20.500

您的查询必须如下所示...

```
"select * from TotalBill 
        where CONVERT(VARCHAR(10), SaudaDate, 101) between 
                 convert(datetime,'" + dtpForDate.Value.Date.ToString("MM/dd/yyyy") + "') 
             and convert(datetime,'" + dtpToDate.Value.Date.ToString("MM/dd/yyyy") + "')" 
```

`SaudaDate`是日期时间格式....所以可能是这样的`'1/2/2013 07:54:00'`

如果你像这样转换`CONVERT(VARCHAR(10), SaudaDate, 101)`它就会变成`'1/2/2013 00:00:00'`

现在它会给你你需要的结果..

尝试一下...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:30:50.643

您只需要转换`SaudaDate`为日期部分。尝试以下操作：

```
try
{
    da = new SqlDataAdapter(@"
            select * from TotalBill 
            where Cast(Convert(varchar(20),SaudaDate,101) as Datetime) between 
                     convert(datetime,'" + dtpForDate.Value.Date.ToString("MM/dd/yyyy") + "') 
                 and convert(datetime,'" + dtpToDate.Value.Date.ToString("MM/dd/yyyy") + "')"
                           , con);
    DataSet ds = new DataSet();
    da.Fill(ds);
    gvDailyBill.DataSource = ds.Tables[0];
}
catch (Exception ex){} 
```

此代码也适用于同一天的选择。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:46:25.473

未经测试，

您需要更改您的 SQL 查询

```
select * from TotalBill 
    where SaudaDate >=@yourDateFrom 
AND SaudaDate<=@yourDateTo 
```

# internet-explorer-8 - Select2 JQuery 插件的 Internet Explorer 8 问题

> ID：15784621
> 
> 赞同：0
> 
> 时间：2013-04-03T10:15:17.897
> 
> 标签：internet-explorer-8, jquery-select2

我已经在 IE8 中测试过 Select2（以及许多其他的），效果很好。

我有一个用户声称他们的 IE 8 版本号是 IE 8.0.7601.175.14，而 Select2 不能很好地使用它。Select2 在您键入时随机删除字符，并且下拉菜单实际上不会下拉

几乎唯一能找到这个 IE8 版本号的地方就是[这里](http://translate.google.co.uk/translate?hl=en&sl=de&u=http://www.motor-talk.de/forum/ausloggen-geht-nicht-t4079891.html&prev=/search?q=8.0.7601.175.14&hl=en&sa=X&ei=WgBcUcK_FYq-PKP3gKAM&ved=0CDkQ7gEwAA)

这篇[MS 文章](http://support.microsoft.com/kb/969393)仅上升到 7600 范围

[IE8 Wikipedia 文章](http://en.wikipedia.org/wiki/Internet_Explorer_8)有许多版本号，但都不是。

有什么想法可以解决这个问题吗？或者至少弄清楚这是什么 IE8 版本并尝试对其进行测试？

# android - 如何访问tabhost内的视图？

> ID：15784630
> 
> 赞同：0
> 
> 时间：2013-04-03T10:15:32.967
> 
> 标签：android, android-layout, android-tabhost

无法访问 tabhost 内的视图。我想访问 myTitle 布局以及 myTitleText 并以编程方式更改它们的属性。

尝试使用 findviewbyid 和 view.findviewbyid 但为空。尝试过充气机，但属性保持不变。

请帮忙

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@android:id/tabhost"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <LinearLayout
        android:id="@+id/layout_myTitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center">

        <TextView
            android:id="@+id/title_myTitleText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="TITLE" />
    </LinearLayout>

    <TabWidget
        android:id="@android:id/tabs"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" />

    <FrameLayout
        android:id="@android:id/tabcontent"
        android:layout_width="fill_parent"
        android:layout_height="0dip" android:layout_weight="1.0"/>
</LinearLayout>

</TabHost> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-09-06T15:43:51.173

对于那些正在寻找有关如何访问 TabHost 中的视图的答案的人，请执行以下操作。

让你有一个像这样的 XML：

```
<LinearLayout ...

    <TabHost
        android:id="@+id/tabhost"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical">

            <TabWidget
                android:id="@android:id/tabs"
                android:layout_width="match_parent"
                android:layout_height="wrap_content">
            </TabWidget>

            <FrameLayout
                android:id="@android:id/tabcontent"
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <LinearLayout
                    android:id="@+id/tab1"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                    <!-- Text 1 -->
                    <TextView 
                        android:id="@+id/text1"
                        android:text="Some text 1"/>
                </LinearLayout>

                <LinearLayout
                    android:id="@+id/tab2"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent">

                    <!-- Text 2 -->
                    <TextView 
                        android:id="@+id/text2"
                        android:text="Some text 2"/>
                </LinearLayout>
            </FrameLayout>
        </LinearLayout>
    </TabHost>
</LinearLayout> 
```

如果你想访问text2，你应该首先访问一个容器（tab2）。

```
tabHost.setOnTabChangedListener(new TabHost.OnTabChangeListener() {
    public void onTabChanged(String tabId) {
        Log.i(TAG, "tabId = " + tabId);

        if (tabId.equals("tab2")) {
            LinearLayout layout = (LinearLayout) findViewById(R.id.tab2);
            TextView text = (TextView) layout.findViewById(R.id.text2);
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-03T11:05:57.083

使用 tabHost 完成

```
TextView tv = (TextView) tabHost.findViewById(R.id.title_myTitleText); 
```

# mongodb - MongoDB 中是否有任何等效的 MS-SQL 命令“SET IDENTITY_INSERT tablename OFF”？

> ID：15784638
> 
> 赞同：0
> 
> 时间：2013-04-03T10:15:51.157
> 
> 标签：mongodb, sql-server-2008, sql-server-2005, database

我试图更新`_id`MongoDB 中文档的字段。

以下是我根据自己的理解得出的命令。

```
>db.MyTestCollection.update({'_id':ObjectId("514ab89124668c0db46feb09")}, {'$set':{'_id':ObjectId("514ab89124668c0db46feb09")}});
 Mod on _id not allowed 
```

我正在寻找与 MS-SQL 命令等效的东西`'SET IDENTITY_INSERT tblName OFF'`，它允许对表的 ID 列进行任何修改`tblName`。这样我就可以改变`_id`我的价值`MyTestCollection`

# perl - 如何配置 log4perl.conf 和 perl 脚本以设置正确的日志文件权限？

> ID：15784639
> 
> 赞同：1
> 
> 时间：2013-04-03T10:15:53.853
> 
> 标签：perl, logging, cpan, log4perl

我`Log::Log4Perl`用于记录我的 perl 脚本。一切都很好，除了一件事；我有一些不同脚本使用的通用模块（并由不同的用户运行）。我希望这些日志文件具有`-rw-rw-rw-`权限，但我使用的以下代码似乎没有帮助：

在我的`/etc/log4perl.conf`

```
# Logger for /usr/local/bin/script.pl
log4perl.logger.SCRIPT=DEBUG, SCRIPT_LOG

log4perl.appender.SCRIPT_LOG           = Log::Dispatch::FileRotate
log4perl.appender.SCRIPT_LOG.filename  = /var/log/perl/script.log
log4perl.appender.SCRIPT_LOG.mode      = append
log4perl.appender.SCRIPT_LOG.autoflush = 1
log4perl.appender.SCRIPT_LOG.size      = 2097152
log4perl.appender.SCRIPT_LOG.max       = 5
log4perl.appender.SCRIPT_LOG.layout    = Log::Log4perl::Layout::PatternLayout 
```

在我的 perl 脚本中`script.pl`

```
use Log::Log4perl qw(get_logger :levels);

sub _log4perl {

   umask 0000;
   Log::Log4perl->init("/etc/log4perl.conf");
   my $log4perl = get_logger("SCRIPT");    

   return $log4perl;
} 
```

此配置和相应的代码创建`script.log`具有权限的文件`-rw-r--r--`，但我想要`-rw-rw-rw-`。代码有什么严重错误吗？另请阅读[文件附加程序可以创建具有不同权限的文件吗？](http://log4perl.sourceforge.net/releases/Log-Log4perl/docs/html/Log/Log4perl/FAQ.html#ae9c0)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:42:25.427

您可以设置权限：[http ://metacpan.org/pod/Log::Dispatch::File](http://metacpan.org/pod/Log%3a%3aDispatch%3a%3aFile)

```
log4perl.appender.SCRIPT_LOG.permission = 0644 
```

> 权限 ($)
> 
> 如果该文件尚不存在，则应使用创建该文件的权限。可选的。传递的参数必须是有效的八进制值，例如 0600 或 Fcntl 提供的常量，例如 S_IRUSR|S_IWUSR。
> 
> 有关传递八进制值时潜在陷阱的更多信息，请参见 perlfunc 中的“chmod”。

# java - ClientAbortException：java.net.SocketException：断管

> ID：15784642
> 
> 赞同：2
> 
> 时间：2013-04-03T10:16:16.260
> 
> 标签：java, soap, tomcat5.5

有一个 Web 应用程序，其中发送 SOAP 请求并接收其 SOAP 响应。成功获得 SOAP 响应后，我们尝试通过以下代码包含显示页面：

```
1\. RequestDispatcher rd = request.getRequestDispatcher(uri);    
2\. rd.include(request, response); 
```

其中 uri 是显示页面的位置。

在第二行，异常来了

```
ClientAbortException:  java.net.SocketException:Broken pipe 
```

知道这里有什么问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:31:41.220

这是由于客户端断开连接而发生的。这可能有多种原因，例如超时、互联网连接中断、浏览器关闭、服务器因负载而拒绝接受请求等。在 99% 的情况下，应忽略此异常。

# iphone - 每周一、二、三如何设置闹钟

> ID：15784643
> 
> 赞同：4
> 
> 时间：2013-04-03T10:16:18.363
> 
> 标签：iphone, nsdate, nscalendar

我想每天设置闹钟，请帮助我，我很困惑很多天。我正在使用此代码

```
-(void)localNotificationWithData:(NSDate *)firDate timeinterval:(int)interval{

NSCalendar *calender = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];

NSDate *pickerDate = firDate;
NSLog(@"%@",pickerDate);

NSDateComponents *dateComponents = [calender components:( NSYearCalendarUnit | NSMonthCalendarUnit |  NSDayCalendarUnit | NSHourCalendarUnit | NSMinuteCalendarUnit | NSWeekCalendarUnit)fromDate:pickerDate];
/*... here we get Weekdays throug loop....*/
int rand = arc4random()%100;
NSLog(@"%d",rand);
for (int i=0; i<[strMarkList length]; i++) {
    NSString *getselectedCell=[strMarkList substringWithRange:(NSRange){i,1}];
    NSLog(@"%i",[getselectedCell intValue]);
    if ([getselectedCell intValue]== 0) {
        [dateComponents setDay:1];
        [dateComponents setWeekday:1];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 1) {
        [dateComponents setDay:2];
        [dateComponents setWeekday:2];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 2) {
        [dateComponents setDay:3];
        [dateComponents setWeekday:3];
        localNofi.repeatInterval = kCFCalendarUnitWeekday+7;
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 3) {
        [dateComponents setDay:4];
        [dateComponents setWeekday:4];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 4) {
        [dateComponents setDay:5];
        [dateComponents setWeekday:5];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 5) {
        [dateComponents setDay:6];
        [dateComponents setWeekday:6];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }else if ([getselectedCell intValue]== 6) {
        [dateComponents setDay:7];
        [dateComponents setWeekday:7];
        NSDate *itemDate = [calender dateFromComponents:dateComponents];
        [self repeatWeekDayInterval:itemDate rand:rand];
    }
}
/*.....end.....*/

// NOW LOCALNOTIFICATION FIRE 
```

}

```
 -(void)repeatWeekDayInterval:(NSDate *)itemDate rand:(int)rand{
if (localNofi == nil)
    return;
localNofi.fireDate = itemDate;
NSLog(@"%@",itemDate);
localNofi.timeZone = [NSTimeZone defaultTimeZone];
localNofi.alertBody = @"Time To Weak Up";
localNofi.alertAction = @"View";
localNofi.soundName = @"alarm-clock-bell.caf";
localNofi.applicationIconBadgeNumber = 1;
localNofi.repeatInterval = NSWeekCalendarUnit;

identifiLclNoti = rand;
NSDictionary *infoDict = [NSDictionary dictionaryWithObject:[NSString stringWithFormat:@"%d",identifiLclNoti] forKey:@"identifyKey"];
localNofi.userInfo = infoDict;
NSLog(@"%@",localNofi);
[[UIApplication sharedApplication] scheduleLocalNotification:localNofi]; 
```

}

请告诉我出了什么问题，或者我在这个问题上停留了很多天我在谷歌上搜索了很多次但找不到任何好的方法请为我做点什么请帮助我......谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:49:40.703

我刚刚看到您的日程通知代码，它很好并且工作正常。只需要更改以下内容即可每周弹出本地通知。

```
localNofi.repeatInterval = NSWeekdayCalendarUnit; 
```

我已经在 iOS 6.0 模拟器上对其进行了测试，得到了所需的结果，如果它不起作用，请告诉我。

# java - 我如何从数据库表中的单个单元格[包含超过 3 个单词（数据）] 获取数据并将其设置为 3 个 jTextFields？

> ID：15784646
> 
> 赞同：-2
> 
> 时间：2013-04-03T10:16:24.690
> 
> 标签：java, database, jtable

我想从一个有 3 列的数据库表中获取数据。每个单元格中有 3 个以上的单词。在由 3 个文本字段输入的第二列中。3个字段是品牌，名称，数量。我不能说一个领域会有多少字。它可以是一个，两个或三个。因此，我尝试进行拆分，但这并没有达到我想要的效果。

最终目的是当我选择一个`jTable row`我想将其设置为`jTextFields`.

这是我的代码：

```
try {
        //Statement s = DB.somak2().createStatement();
        DefaultTableModel dt = (DefaultTableModel) jTable1.getModel();
        //ResultSet rs = s.executeQuery("select * from rawmat");

        int y = jTable1.getSelectedRow();

        id1.setText(dt.getValueAt(y, 0).toString());
        brand.setText(dt.getValueAt(y, 1).toString());
        quantity.setText(dt.getValueAt(y, 2).toString());
        Price.setText(dt.getValueAt(y, 3).toString());
        if (dt.getValueAt(y, 4).toString().equals("Yes")) {
            jCheckBox1.setSelected(true);

        } else if (dt.getValueAt(y, 4).toString().equals("No")) {
            jCheckBox2.setSelected(true);
        }

        if (dt.getValueAt(y, 5).toString().equals("1")) {
            jCheckBox3.setSelected(true);
        } else if (dt.getValueAt(y, 5).toString().equals("0")) {

            jCheckBox4.setSelected(true);
        }

} catch (Exception e) {
        e.printStackTrace();
    } 
```

除了品牌还有2个文本字段，但3个texfields（包括品牌）只有一个表列来获取和设置数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:25:22.670

由于我没有足够的代表，我无法发表评论，所以我在这里发帖。您必须在此处发布代码，直到您尝试过。

列字段如何分隔？用逗号、空格还是什么？

创建一个字符串列表。然后根据分隔符拆分字符串（您从 ReslutSet 获得）。然后使用循环迭代到列表的大小，您可以创建 JTextField 并将数据添加到文本字段。

```
List<String> fielddata = new ArrayList<String>();
fielddata = Arrays.asList(header.split("\\s*" +(your delimeter separating each words here)+ "\\s*")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:50:08.727

根据您的问题，我假设您想连续收集数据？

尝试：

```
public String brand;
public String name;
public String quantity;

public void setStringsFromDB() {
  /*
   * getRow and getColumn should work here.
   */
} 
```

那应该可行。要将其放入 JTextField 中，请使用[JTextField.setText(String text)](http://docs.oracle.com/javase/6/docs/api/javax/swing/text/JTextComponent.html#setText%28java.lang.String%29)（链接到 JTextField 继承的 JTextComponent.setText()）方法。

编辑：我不确定这个问题了，但尝试使用：

```
brand.setText((String) dt.getValueAt(y, 1)); 
```

我想指出的是，

```
(String) dt.getValueAt(y, 1) 
```

编辑2：

所以你想用输入到文本框中的内容填充该行的列？使用 3 个 JTextField 可能会更好（假设项目、品牌、名称、数量。您可以为更多项目添加更多文本字段）。这是一个例子：

```
JTextButton button = new JTextButton("Add items to list");
JTextField brand = new JTextField("Enter brand name here...");
JTextField name = new JTextField("Enter item name here...");
JTextField quantity = new JTextField("Enter desired quantity here...");
JTable jTable1 = new JTable(); // I'm not sure about JTables. but you should already have this...

public Constructor() {
  button.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent e) {
      int row = jTable1.getSelectedRow();
      jTable1.setItem(row, 0, brand.getText());
      jTable1.setItem(row, 1, name.getText());
      jTable1.setItem(row, 2, quantity.getText());
      // Don't take my word for those methods, you might need to check the JavaDoc... (link at the bottom.)
    }
  });
} 
```

[JTable JavaDoc](http://docs.oracle.com/javase/6/docs/api/javax/swing/JTable.html)

继续：

您可能想要扫描一个 JTextField？如果是这样，请对以下内容进行一些研究：

*   扫描器
*   Scanner.useDelimiter
*   JTextField
*   表

# android - 从另一个类调用对话框

> ID：15784650
> 
> 赞同：2
> 
> 时间：2013-04-03T10:16:30.793
> 
> 标签：android, dialog, android-alertdialog

我得到以下信息：

*   一个名为的类`DConce`，其中包含我要使用的一个对话框的代码：

    ```
     public class DConce extends DialogFragment{

    public Dialog onCreateDialog(Bundle savedInstanceState) {
    AlertDialog.Builder dshow = new AlertDialog.Builder(getActivity());

    LayoutInflater inflater = getActivity().getLayoutInflater();

    dshow.setView(inflater.inflate(R.layout.dialogconc, null))

           .setPositiveButton("Send", new DialogInterface.OnClickListener() {
               @Override
               public void onClick(DialogInterface dialog, int id) {

                   //TODO

               }
           })
           .setNegativeButton("Close", new DialogInterface.OnClickListener() {
               public void onClick(DialogInterface dialog, int id) {
                   DConce.this.getDialog().cancel();
               }
           });      

    return dshow.create();

    } 
    ```

和另一个类到一个片段`public final class Sincr extends Fragment`中，我需要在其中调用对话框：

```
 case R.id.btnConce:
    //here      
            break; 
```

我该怎么做？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:26:40.603

修改您的 DialogFragment：

```
public class DConce extends DialogFragment{

  public static DConce newInstance(){
    DConce f = new DConce();
    return f;
  }

  public Dialog onCreateDialog(Bundle savedInstanceState) {
    AlertDialog.Builder dshow = new AlertDialog.Builder(getActivity());

    LayoutInflater inflater = getActivity().getLayoutInflater();

    dshow.setView(inflater.inflate(R.layout.dialogconc, null))
      .setPositiveButton("Send", new DialogInterface.OnClickListener() {
        @Override
        public void onClick(DialogInterface dialog, int id) {
           //TODO
        }
      })
      .setNegativeButton("Close", new DialogInterface.OnClickListener() {
        public void onClick(DialogInterface dialog, int id) {
          DConce.this.getDialog().cancel();
        }
      });     
    return dshow.create();
  }    
} 
```

然后展示它；

```
case R.id.btnConce:
  DConce.newInstance().show(getChildFragmentManager(), null);
  break; 
```

您当然可以选择传入一个`String`for`tag`参数，以唯一标识片段。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:30:55.947

您需要添加到代码中的是 newInstance，例如：

```
public static DConce newInstance(){
    DConce arg = new DConce();
    return arg;
  } 
```

然后在活动中：

```
FragmentManager manager = getSupportFragmentManager(); // or getFragmentManager, depends on which api lvl you are working on but supportFragmentManager will make you dialog work also on devices lower than api lvl 11(3.0 - > Honeycomb)
DialogFragment Dialog = DConce.newInstance();
Dialog.show(manager, "tag"); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-03T10:29:40.707

按照这里的android文档：http: [//developer.android.com/reference/android/app/DialogFragment.html](http://developer.android.com/reference/android/app/DialogFragment.html)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-03T10:31:34.133

创建静态方法并将您的代码放入 .

并直接按类名调用，即`Dcon.myAlertMessage()`

# .net - 如何在 vb.net 中以编程方式安装窗口服务

> ID：15784654
> 
> 赞同：0
> 
> 时间：2013-04-03T10:16:47.677
> 
> 标签：.net, vb.net, windows-services

如何以编程方式安装我的 Windows 服务？

我想在单击注册按钮时安装我的 Windows 服务并在单击取消注册按钮时卸载它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T13:42:16.213

参考（但是在**C#**中）：

[如何在 C# 中以编程方式安装 Windows 服务？](https://stackoverflow.com/questions/358700/how-to-install-a-windows-service-programmatically-in-c)

```
//Installs and starts the service
ServiceInstaller.InstallAndStart("MyServiceName", "MyServiceDisplayName", "C:\PathToServiceFile.exe");

//Removes the service
ServiceInstaller.Uninstall("MyServiceName");

//Checks the status of the service
ServiceInstaller.GetServiceStatus("MyServiceName");

//Starts the service
ServiceInstaller.StartService("MyServiceName");

//Stops the service
ServiceInstaller.StopService("MyServiceName");

//Check if service is installed
ServiceInstaller.ServiceIsInstalled("MyServiceName"); 
```

# android - 语音到文本的转换 - 没有得到想要的输出

> ID：15784655
> 
> 赞同：0
> 
> 时间：2013-04-03T10:16:51.373
> 
> 标签：android, speech-recognition

我想为我的一个项目进行语音到文本的转换。但我没有得到想要的结果。你能告诉我我应该修改什么代码才能工作吗？

```
package com.example.speechtotext;
import java.util.ArrayList;

import android.app.Activity;
import android.content.ActivityNotFoundException;
import android.content.Intent;
import android.os.Bundle;
import android.speech.RecognizerIntent;
import android.view.Menu;
import android.view.View;
import android.widget.ImageButton;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity {

protected static final int RESULT_SPEECH = 1;

private ImageButton btnSpeak;
private TextView txtText;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    txtText = (TextView) findViewById(R.id.txtText);

    btnSpeak = (ImageButton) findViewById(R.id.btnSpeak);

    btnSpeak.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {

            Intent intent = new Intent(
                    RecognizerIntent.ACTION_RECOGNIZE_SPEECH);

            intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, "en-US");

            try {
                startActivityForResult(intent, RESULT_SPEECH);
                txtText.setText("");
            } catch (ActivityNotFoundException a) {
                Toast t = Toast.makeText(getApplicationContext(),
                        "Opps! Your device doesn't support Speech to Text",
                        Toast.LENGTH_SHORT);
                t.show();
            }
        }
    });

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);

    switch (requestCode) {
    case RESULT_SPEECH: {
        if (resultCode == RESULT_OK && null != data) {

            ArrayList<String> text = data
                    .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);

            txtText.setText(text.get(0));
        }
        break;
    }

    }
}
} 
```

没有编译或运行时错误。当我点击模拟器上的“Speak Now”按钮时，它会说 Oops!! 您的设备不支持语音转文本。我试图在我的android中安装.apk并检查它。它会弹出一个消息，提示“连接问题”，带有警告标记和底部的两个按钮，用于“再次发言”和“取消”。请告诉我有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:44:30.087

```
public class VoiceRecognition extends Activity implements OnClickListener {

    private static final int VOICE_RECOGNITION_REQUEST_CODE = 1234;
    private ListView mList;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
         setContentView(R.layout.voice_recognition);
         Button speakButton = (Button) findViewById(R.id.btn_speak);
         mList = (ListView) findViewById(R.id.list);

        PackageManager pm = getPackageManager();
        List<ResolveInfo> activities = pm.queryIntentActivities(new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH), 0);
        if (activities.size() != 0) {
            speakButton.setOnClickListener(this);
        } else {
            speakButton.setEnabled(false);
            speakButton.setText("Recognizer not present");
        }
    }

    public void onClick(View v) {
        if (v.getId() == R.id.btn_speak) {
            startVoiceRecognitionActivity();
        }
    }

    private void startVoiceRecognitionActivity() {
        Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);
        intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);
        intent.putExtra(RecognizerIntent.EXTRA_PROMPT, "Speech recognition demo");
        startActivityForResult(intent, VOICE_RECOGNITION_REQUEST_CODE);
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        if (requestCode == VOICE_RECOGNITION_REQUEST_CODE && resultCode == RESULT_OK) {
            // Fill the list view with the strings the recognizer thought it could have heard
            ArrayList<String> matches = data.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);
            mList.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, matches));
        }
        super.onActivityResult(requestCode, resultCode, data);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:22:31.653

您的设备需要具有能够识别语音的 Intent。如果这样的 Intent 不存在，则会收到您提到的错误。

尝试从[Play 商店](https://play.google.com/store/apps/details?id=com.google.android.voicesearch&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5nb29nbGUuYW5kcm9pZC52b2ljZXNlYXJjaCJd)安装“Google 语音搜索”应用。

# xpages - Xpage 上部分标题中的彩色文本

> ID：15784661
> 
> 赞同：0
> 
> 时间：2013-04-03T10:17:00.207
> 
> 标签：xpages, xpages-ssjs

我真的很想根据部分标题中的不同值设置一些不同的颜色。标头计算如下：

```
var stat = rowData.getColumnValue("Status");
var sectionText = rowData.getColumnValue("Subject") + " " + rowData.getColumnValue("Status");
if (stat == "New") {
    return sectionText + " * Obs new ticket * ".toUpperCase(); //some color here
} else if (stat == "Treated") {
    return sectionText;
} else if (stat == "Staff") {
    return sectionText;
} else {
    return sectionText + " * Obs new answer from customer *".toUpperCase(); //and maybe some different color here
} 
```

这段代码工作得很好，但如果我尝试为不同的值添加一些颜色，它将不起作用。知道怎么做吗？到目前为止，我已经尝试过 CSS，但我只能在背景或它自己的部分的文本中获取颜色，而不是在标题中。该部分位于数据表的列中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:03:12.627

您可以设置将 CSS 添加到标题的`headerStyle`属性。`xp:section`您甚至可以计算它，以便根据条件对数据表中的每个部分进行不同的计算。像这样的东西：

```
<xp:section .....>
    <xp:this.headerStyle><![CDATA[#{javascript:if (someVar == true) {
    return "color:rgb(128,0,128)";
} else {
    return "color:rgb(128,0,0)";
}}]]></xp:this.headerStyle>
    .....
    .....
    .....
</xp:section> 
```

# .net - 如何从存储在数据库中的数据中加载组合框中的项目

> ID：15784662
> 
> 赞同：0
> 
> 时间：2013-04-03T10:17:04.513
> 
> 标签：.net, vb.net, combobox

我正在尝试从存储在数据库中的数据中加载组合框中的某些项目。我有一个按钮，单击它可以正确填充相关框中的公司详细信息。在数据库中我有三个字段

```
Dev = Yes or No
Fin = Yes or No
Net = Yes or No 
```

其中 Dev 是字段名称，Yes 是存储在数据库中的文本。

我在阅读器中阅读了一家公司的所有详细信息，所以我尝试了类似的方法。

```
If reader(14).ToString = "Yes" then
   combobox1.items.add("Developer")
else if reader(15).ToString = "Yes" Then
   combobox1.items.add("Finance")
Else if reader(15).ToString = "Yes" Then
   combobox1.items.add("Networking")
End iF 
```

它没有任何想法如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:46:39.773

用于`Equals`检查值、字段名称和`ElseIf`（全部）条件，并检查是否能解决您的问题：

```
If reader("Dev").ToString.Equals("yes", StringComparison.InvariantCultureIgnoreCase) Then
    ComboBox1.Items.Add("Developer")
ElseIf reader("Fin").ToString.Equals("yes", StringComparison.InvariantCultureIgnoreCase) Then
    ComboBox1.Items.Add("Finance")
ElseIf reader("Net").ToString.Equals("yes", StringComparison.InvariantCultureIgnoreCase) Then
    ComboBox1.Items.Add("Networking")
EndIf 
```

但是，如果您以不同的方式将值存储在数据库中会更好。例如，您只能将类型存储在一个字段中。例如，是“Dev”、“Fin”或“Net”。或者更好的是，有一个带有 id、值和代码的新表，并且只使用 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T17:50:42.490

```
If reader(9).ToString = "yes" Then
    ComboBox1.Items.Add("Developer")
ElseIf reader(9).ToString = "no" Then
End If
If reader(11).ToString = "yes" Then
    ComboBox1.Items.Add("Finance")
ElseIf reader(11).ToString = "no" Then
End If
If reader(10).ToString = "yes" Then
    ComboBox1.Items.Add("Networking")
ElseIf reader(10).ToString = "no" Then
End If 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:30:28.360

试试这个，你在你的代码中检查了这个条件`else if reader(15).ToString = "Yes" Then`两次，这对你来说可能是个问题。

```
If reader(14).ToString = "Yes" then
   combobox1.items.add("Developer")
else if reader(15).ToString = "Yes" Then
   combobox1.items.add("Finance")

'--------------\/ May be this could be your problem. 
Else if reader(15).ToString = "Yes" Then     
   combobox1.items.add("Networking")
End iF 
```

也考虑一下，这可能会解决您的套管问题。

```
 If reader("Dev").ToString.ToUpper() = "YES" then
       combobox1.items.add("Developer")
    else if reader("Fin").ToString.ToUpper() = "YES" Then
       combobox1.items.add("Finance")
    Else if reader("Net").ToString.ToUpper() = "YES" Then     
       combobox1.items.add("Networking")
    End iF 
```

# linq - Linq GroupBy 和聚合

> ID：15784663
> 
> 赞同：9
> 
> 时间：2013-04-03T10:17:04.857
> 
> 标签：linq, group-by, aggregate

给定以下列表：

```
var data = new[]
    {
        new {category = "Product", text = "aaaa"},
        new {category = "Product", text = "bbbb"},
        new {category = "Product", text = "bbbb"},
    }; 
```

我如何按类别对其进行分组并返回一个具有类别的对象和不同文本的描述放在一起？

IE。想以 yp 结尾：

```
{
    categroy="Product"
    description = "aaaa,bbbb,cccc"
} 
```

尝试了以下 GroupBy 和 Aggregate，但有些不对劲

```
data.GroupBy(x => x.category).Select(g => new
    {
        category = g.Key,
        description = g.Aggregate((s1, s2) => s1 + "," + s2)
     }); 
```

TIA

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-04-03T10:18:36.590

为什么不用`String.Join(IEnumerable)`方法？

```
data.GroupBy(x => x.category).Select(g => new
{
    category = g.Key,
    description = String.Join(",", g.Select(x => x.text))
}); 
```

你`Aggregate`应该做以下事情：

```
 description = g.Aggregate(string.Empty, (x, i) => x + "," + i.text) 
```

第一个参数将种子起始值设置为`String.Empty`。第二个参数定义了将当前种子值 ( `string`) 与当前元素 ( `anonymous_type`) 连接起来的方法。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-09-16T19:07:21.590

```
data.GroupBy(x => x.category).Select(g => new
    {
        category = g.Key,
        description = g.Select(x => x.text).Aggregate((s1, s2) => s1 + "," + s2)
     }); 
```

# javascript - 如何将列表显示为表格？

> ID：15784669
> 
> 赞同：1
> 
> 时间：2013-04-03T10:17:14.233
> 
> 标签：javascript, jquery, html, css, position

我有一个内容不同的项目列表向左浮动，我需要将它们显示为一行。

```
<ul>
<li>small content..</li>
<li>medium Content..</li>
<li>large content..</li>
..
<!-- many item random contnet -->
</ul> 
```

我想连续显示列表项。
行高取决于行中的最大高度项目，如何获得它？

[演示](http://jsfiddle.net/CmkSb/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:19:04.290

添加`display:table-cell`使其充当表格列。删除`float:left`。

```
#contentpane{}
#contentpane li{
    padding:10px;
    width:80px;
    border:1px solid #000;
    display:table-cell
} 
```

**[演示](http://jsfiddle.net/CmkSb/2/)**

* * *

**案例二**

如果您需要自动高度，请使用以下`white-space:nowrap;`方法

```
ul#contentpane{
    width:100%;  
    white-space:nowrap;

}
#contentpane li{
    padding:10px;
    width:80px;
    border:1px solid #000;
    height:auto;
    display:inline-block;
    white-space:normal !important;
} 
```

**[演示 2](http://jsfiddle.net/CmkSb/4/)** || **[演示（垂直对齐顶部）](http://jsfiddle.net/CmkSb/6/)**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:01:30.527

您应该使用 javascript 将 clear:both 设置为行溢出元素。

```
 var ch=$("#container").width();

    var itemsPerRow=Math.floor(ch/102);

    var itemsCount=$("#contentpane li").length;
    var loopRound=Math.floor(itemsCount/itemsPerRow);

    for(var i=1;i<loopRound+1;i++)
    {
        var nextFirstItem=i*itemsPerRow+1;

        $("#contentpane li:nth-child("+ nextFirstItem  +")").css({"clear":"both"});
    } 
```

[演示](http://jsfiddle.net/CmkSb/9/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:20:30.663

```
ul {
    display: table-row;
}

ul  > li {
    display: table-cell;
} 
```

请注意，您应该有一个包装器，`display: table`以便构建完整的表表示。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:22:27.110

试试这个

```
var maxHeight = 0;
 $("#contentpane li").each(function( index ) {
     var height = $(this).height();
     if(height  > maxHeight){
         maxHeight =height;
      }
 });

$("#contentpane li").css("height",maxHeight); 
```

[小提琴演示](http://jsfiddle.net/dgNtr/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:24:19.457

将高度设置为 li。

```
#contentpane{

}
#contentpane li{
    float:left;
    padding:10px;
    width:80px;
    height:180px;
    overflow:auto;
    display:table-cell;
    border:1px solid #000;
} 
```

**[小提琴](http://jsfiddle.net/maheshsapkal/bsuu6/)**

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-03T12:03:02.663

删除浮动并使用 inline-block 代替：

[http://jsfiddle.net/CmkSb/10/](http://jsfiddle.net/CmkSb/10/)

```
#contentpane li{
    padding:10px;
    width:80px;
    display:inline-block;
    vertical-align: text-top;
    border:1px solid #000;
} 
```

# java - 为什么我的实体在 JPA 中持久化后仍然保持分离状态？

> ID：15784679
> 
> 赞同：3
> 
> 时间：2013-04-03T10:17:44.227
> 
> 标签：java, mysql, spring, hibernate, jpa

我正在使用 Spring、JPA 和 Hibernate。这是我用来调试更大的 JPA 相关问题的玩具示例。然而，这个试图持久化一个非常基本的实体的简单示例`HelloBean`，似乎创建了分离的对象。据我所知，调用对象应该将实体设置为由持久性上下文管理`persist`。`EntityManager`但是，它没有，`merge`也不适用于此。输出如下：

```
Starting...
Service found in context as: net.solasistim.hello.HelloService@3b7a687b
Hibernate: insert into HelloBean (message) values (?)
Is bean attached? = false
Hibernate: select hellobean0_.id as id1_0_0_, hellobean0_.message as message2_0_0_ from HelloBean hellobean0_ where hellobean0_.id=?
Is bean attached? = false 
```

为简洁起见省略了导入。

`Hello.java`::

```
public class Hello {
    public static void main(String[] args) throws Exception {

        ApplicationContext context = 
            new ClassPathXmlApplicationContext("beans.xml");

        System.out.println("Starting...");

        HelloService svc = (HelloService) context.getBean("helloService");
        System.out.println("Service found in context as: " + svc);

        HelloBean bean1 = new HelloBean();
        bean1.setMessage("This is bean 1.");

        HelloBean bean2 = new HelloBean();
        bean2.setMessage("This is bean 2.");

        svc.persist(bean2);

        System.out.println("Is bean attached? = " + svc.isAttached(bean2));

        HelloBean newBean = svc.merge(bean2);
        System.out.println("Is bean attached? = " + svc.isAttached(newBean));
    }
} 
```

`HelloService.java`::

```
@Service
@Transactional
public class HelloService {
    @PersistenceContext private EntityManager em;

    public void persist(HelloBean entity) {
        em.persist(entity);
    }

    public HelloBean merge(HelloBean entity) {
        return em.merge(entity);
    }

    public void delete(HelloBean entity) {
        em.remove(entity);
    }

    public boolean isAttached(HelloBean entity) {
        return em.contains(entity);
    }
} 
```

`HelloBean.java`::

```
@Entity
public class HelloBean {
    @Id
    @GeneratedValue
    private long id;
    private String message;

    public void setMessage(String message) {
        this.message  = message;
    }

    public String getMessage() {
        return this.message;
    }
} 
```

`pom.xml`::

```
<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>net.solasistim.hello</groupId>
  <artifactId>hello</artifactId>
  <version>1</version>
  <packaging>jar</packaging>

  <properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.11</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-context</artifactId>
      <version>3.2.2.RELEASE</version>
    </dependency> 

    <dependency>
      <groupId>org.springframework</groupId>
      <artifactId>spring-orm</artifactId>
      <version>3.2.2.RELEASE</version>
    </dependency> 

    <dependency>
      <groupId>org.hibernate</groupId>
      <artifactId>hibernate-core</artifactId>
      <version>4.2.0.Final</version>
    </dependency>

    <dependency>
      <groupId>org.hibernate</groupId>
      <artifactId>hibernate-entitymanager</artifactId>
      <version>4.2.0.Final</version>
    </dependency>

    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>5.1.24</version>
    </dependency>
  </dependencies>
</project> 
```

`beans.xml`::

```
<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.0.xsd

    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx-3.1.xsd">

   <context:component-scan base-package="net.solasistim.hello"/>
   <context:annotation-config />

   <bean id="entityManagerFactory"
         class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
     <property name="persistenceUnitName" value="my-persistence-unit"/>
   </bean>

   <!-- These two are needed for @Transactional annotations to be processed.
   Nothing will be committed without them. -->
   <tx:annotation-driven/>
   <bean id="transactionManager"
         class="org.springframework.orm.jpa.JpaTransactionManager">
     <property name="entityManagerFactory" ref="entityManagerFactory" />
   </bean>
</beans> 
```

`persistence.xml`::

```
<?xml version="1.0"?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"
        version="2.0">
    <persistence-unit name="my-persistence-unit">
          <provider>org.hibernate.ejb.HibernatePersistence</provider>
          <properties>
            <property name="hibernate.dialect"
                      value="org.hibernate.dialect.MySQLDialect" />
            <property name="hibernate.connection.driver_class"
                      value="com.mysql.jdbc.Driver" />
            <property name="hibernate.connection.url"
                      value="jdbc:mysql://localhost:3306/jpa_test" />
            <property name="hibernate.connection.username"
                      value="root" />
            <property name="hibernate.connection.password"
                      value="" />

            <property name="hibernate.show_sql" value="true" />
            <property name="hibernate.hbm2ddl.auto" value="create" />
          </properties>
    </persistence-unit>
</persistence> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:22:10.447

尽管您`HelloService`是事务性的，但一旦服务的方法返回，事务就会提交。这就是实体不再在`Hello#main`.

尝试将输出语句添加到 的方法中`HelloService`，您将看到实体附加在这些方法中。

编辑：服务层通常需要事务性。很少建议在事务中做所有事情。注释`main`方法不是一个好主意，因为只有在主方法返回后才会刷新持久性上下文 - 即在应用程序终止后。

`main`您可以在事务服务方法中对附加的实体（您现在可能在`HelloService`. 此方法可以`EntityManager`直接使用或通过 DAO 使用。您可以注释 DAO 的方法`@Transactional(propagation = Propagation.MANDATORY)`以确保事务（由服务启动）可用。

在其他层（如 UI）中处理分离的实体很少有问题。如果分离的实体在服务层之上的层中发生了变化，您将需要在之后合并它。如果实体在数据库中可能已更改，则需要重新获取/刷新它。

# javascript - Webkit 浏览器的 Flexslider 缓慢的图像加载问题

> ID：15784680
> 
> 赞同：1
> 
> 时间：2013-04-03T10:17:52.733
> 
> 标签：javascript, jquery, css, jquery-plugins, flexslider

我注意到一个小故障，[点击此处查看插件](https://github.com/woothemes/flexslider)幻灯片 - 在 safari 和 chrome 中[单击此处](http://janvierlondon.com/index.php)，当您第一次加载页面时，只有图像的上半部分可见，然后在您调整浏览器大小后就位。当我将参数添加`smoothHeight: true,`到`(function()`Javascript 时，我注意到问题开始出现。下面也是我用于滑块的 CSS 片段。

```
.homeslider{
width: 97.5%;
position: relative;
top: 0;
left: 0;
   }

.flex-control-nav, .flex-control-paging{
  display: none;
   }

.slides, .flex-control-nav, .flex-direction-nav {
margin: 0; padding: 0;
list-style: none;
   } 

 .flexslider .slides > li {
display: none; 
-webkit-backface-visibility: hidden;
top: 0;
   } 

   .no-js .slides > li:first-child {display: block;}

 .slides:after {
content: "."; 
display: block; 
clear: both; 
visibility: hidden; 
line-height: 0; 
height: 0;
   } 

   html[xmlns] .slides {
display: block;
      } 

    * html .slides {height: 1%;} 
```

关于可能导致问题的任何想法？

# c# - 在 Linq 查询中对项目进行分组

> ID：15784681
> 
> 赞同：0
> 
> 时间：2013-04-03T10:17:55.507
> 
> 标签：c#, linq

我正在尝试对 ektron 搜索结果项的结果集进行分组并将它们输出到屏幕上，我使用以下代码

```
var groupdResults = 
    from result in response.Results
    orderby result[SearchSmartFormProperty.GetDateProperty("/root/FundClosingDate")]
    group result by result[SearchSmartFormProperty.GetStringProperty("/root/DeadlineAltText")] 
    into statusGroup
    select new 
    { 
        closingDate =statusGroup.Key,
        count= statusGroup.Count
    }; 
```

然后我将这些添加到列表视图中： uxSearchResultView.DataSource = groupdResults;

我遇到的问题是我需要从结果集中输出所有数据，例如标题、关闭日期等，它目前只输出，例如关闭 2 打开 1

非常感谢任何人可以提供的任何帮助

- - - - - - - - - - - -更新 - - - - - - - - - - - - - ------------ 我想我现在有一个可行的解决方案，但它有点乱

```
var groupdResults = from result in response.Results
                                orderby result[SearchSmartFormProperty.GetDateProperty("/root/FundClosingDate")]
                                group result by result[SearchSmartFormProperty.GetStringProperty("/root/DeadlineAltText")] 
                                into statusGroup
                                    select new 
                                    {
                                        closingDate = statusGroup.Key,
                                        count = statusGroup.Count(),
                                        items = statusGroup.ToList()
                                    };
    List<Ektron.Cms.Search.SearchResultData> SRDATA = new List<Ektron.Cms.Search.SearchResultData>();
            foreach (var result in groupdResults)
            {
                for (int i = 0; i < result.items.Count; i++)
                {
                    SRDATA.Add(result.items[i]);
                }
            } 
```

关于更清洁的实施的任何意见？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:23:38.600

您可以执行以下操作：

```
select new 
{ 
    closingDate =statusGroup.Key,
    count= statusGroup.Count(),
    items = statusGroup.ToList()
}; 
```

`items`属性将包含分配给该组的项目`List`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:23:19.237

我不会使用匿名类型，而是将其放入一个新对象中。

```
var groupdResults = 
from result in response.Results
orderby result[SearchSmartFormProperty.GetDateProperty("/root/FundClosingDate")]
group result by result[SearchSmartFormProperty.GetStringProperty("/root/DeadlineAltText")] 
into statusGroup
select new ResultObject
{ 
    closingDate = statusGroup.First().ClosingDate,
    ....
}; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:25:02.683

（修改的）

我认为你需要一个类来捕捉你的结果：

```
class GroupResult
{
    public string Status { get; set; }
    public ICollection<SearchResultData> Items { get; set; }
} 
```

分组`statusGroup`是`IEnumerable`您的项目之一，因此您可以执行以下操作：

```
var groupdResults = 
    from result in response.Results
    group result by result[SearchSmartFormProperty.GetStringProperty("/root/DeadlineAltText")] 
    into statusGroup
    select new GroupResult
    { 
        Status =statusGroup.Key,
        Items = statusGroup.ToList()
    }.ToList(); 
```

之后，您可以`Items`以任何您希望的方式显示 ，例如 sorted by`Status`和`Items`sorted by `ClosingDate`。

`response.Results`但也许只按状态排序*然后按*截止日期就足够了。

# gps - 在没有蜂窝服务的情况下使用 GPS 数据进行车辆跟踪

> ID：15784683
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:17:59.267
> 
> 标签：gps, tracking, gsm, gprs

我正在从事一个处理基于 GPS 的车辆跟踪的项目。我想知道我们是否可以在没有蜂窝服务的地区使用 GPS 数据实时跟踪车辆。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:27:01.683

是的，您可以，当您可以自由查看天空时，GPS 可以在世界任何地方使用。
它不适用于隧道、地下和室内。
如果没有蜂窝服务，手机在启用后需要几秒钟才能获得第一个有效的 GPS 位置。

# javascript - jQuery添加类和睡眠然后删除类

> ID：15784691
> 
> 赞同：0
> 
> 时间：2013-04-03T10:18:26.283
> 
> 标签：javascript, jquery, settimeout, setinterval

我有一个图像地图，上面有几个 div 作为城市点。我在 css 中编写了一个类来为这些点的颜色设置动画，所以我可以通过 jQuery 添加该类，等待某个时间并删除该类。目标是随机为这些点设置动画（添加类、等待、随机删除类），但目前我在删除类之前一直在等待。我尝试了不同的解决方案，包括在本网站上发布的解决方案，但没有结果。这里是代码：

```
 function builtCities() {
            if ($('body.page-service-map').size()) {
                var content = $('#region-content .content'),
                    cityDot = '<div class="city-dot"></div>',
                    cities = [
                        'moscow',
                        'saint-petersburg',
                        'krasnodar',
                        'rostov-na-donu',
                        'tyumen',
                        'omsk',
                        'irkutsk'
                    ];

                for (var i = 0; i < 7; i++) {
                    content.append(cityDot);
                }

                $('body.page-service-map .city-dot').each(function (index) {
                    $(this).addClass(cities[index]);
                });

                // animation
                for (var j = 0; j < cities.length; j++) {                       
                    function partA(partB) {
                        $('.city-dot').eq(j).addClass('animate');
                        window.setTimeout(partB, 1000);
                    } partA(partB);

                    function partB() {
                        $('.city-dot').eq(j).removeClass('animate');
                    }           
                }

            }
        } builtCities(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:22:27.877

由于关闭，它不起作用。像这样做：

```
for (var j = 0; j < cities.length; j++) { 
    $('.city-dot').eq(j).addClass('animate');
    window.setTimeout((function (j) {
        return function () {
            $('.city-dot').eq(j).removeClass('animate');
        };
    }(j)), 1000);
} 
```

您当前的变量不起作用，因为您的`j`变量将被持久化，并且实际上等于`cities.length`您调用`partB`. 为了解决这个问题，上面调用了一个传入的函数，`j`该函数将使用一个单独的变量（参数`j`）返回另一个函数，该变量将使用正确的索引。

# google-maps - 谷歌地图标记集群

> ID：15784692
> 
> 赞同：0
> 
> 时间：2013-04-03T10:18:28.830
> 
> 标签：google-maps, google-maps-markers, markerclusterer

我一直在尝试在我的一张谷歌地图（MarkerClusterer）上实现一项新功能，但我还没有完全做到。

它运行正常，但运行不顺利，如果您查看代码并给我任何提示/建议，那就太好了。

我在这里进行测试：（链接已删除）

*   如果您需要更多信息，请告诉我。

任何帮助表示赞赏:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:07:00.357

您似乎在创建标记的循环中做了很多工作。例如，您应该只需要`var markerCluster = new MarkerClusterer(...)`在该循环之后执行，而不是在它的每次迭代中执行！

好的，在这里我只是将该行移出您的循环。

```
for (var i = 0; i < mapLocationsdata.businesses.length; i++) {
    var businesses = mapLocationsdata.businesses[i];
    var pos = new google.maps.LatLng(businesses.lat, businesses.lng);
    var marker = new google.maps.Marker({
        position: pos,
        map: map,
        title: businesses.company,
        icon: placemarker[businesses.placemaker],
        clickable: true,
        draggable:false,
        animation: google.maps.Animation.DROP
    });

    markers.push(marker);

    (function(i, marker){
        var infobox = new google.maps.InfoWindow({
          content:
        //This creates the content inside the popup info window when clicked
            '<div class="info"><div class="info1"><h4>'
            +businesses.company+
            '</h4></div><div class="infotel">'
            +businesses.itemAdresse+businesses.itemPostBy+businesses.itemTlf+businesses.itemEmail+businesses.itemWeb+
            '</div><div class="clearfix"></div></div>',
        });

        //This function opens the info box and toggles the icon bounce
        marker.addListener('click',  function() {
          infobox.open(map, marker);
          toggleBounce(map, marker);
        });
        //This function stops the bouncs on the icon once the infowindow is closed
        infobox.addListener('closeclick', function() {
            toggleBounce(map, marker);
        });

        // POSSIBLY THIS FUNCTION COULD BE MOVED OUT OF THE LOOP TOO
        //This makes them bounce when clicked
        function toggleBounce() {
          if (marker.getAnimation() != null) {
            marker.setAnimation(null);
          } else {
            marker.setAnimation(google.maps.Animation.BOUNCE);
          }
        }
    })

//The marker loop generates all of the markers

    // NO IDEA WHAT THE POINT OF THIS LINE IS:
    (i, marker);    

//Associate the styled map with the MapTypeId and set it to display.
    map.mapTypes.set('map_style', styledMap);
    map.setMapTypeId('map_style');
}

var markerCluster = new MarkerClusterer(map, markers, {
    gridSize: 60,
    minimumClusterSize: 2,
    calculator: function(markers, numStyles) {
       if (markers.length >= 50) return {text: markers.length, index: 3}; // red
       if (markers.length >= 5) return {text: markers.length, index: 2};  // yellow
       return {text: markers.length, index: 0};    }                      // blue
}); 
```

# c# - 如何从数据集中分离不同表的数据？

> ID：15784693
> 
> 赞同：1
> 
> 时间：2013-04-03T10:18:29.160
> 
> 标签：c#, asp.net, database, c#-4.0, ado.net

先生，实际上我正在从数据库中的三个表中获取数据。我在数据库中使用了一个查询，该查询具有对我来说很好的内部连接，并且我从该查询中填充数据集，但问题是我想在每条记录中分离属于不同表的字段。例如：我在 db 中有一个学生、教师和班级表。我使用这些表之间的内部连接来获取数据。我从该结果中填充数据集。现在在前端我想分离属于单独表的数据，我想要单独的学生字段，单独的教师字段。我应该怎么做？需要我对数据集执行什么操作才能实现这种情况。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:32:25.730

如果您使用存储过程，您可以返回 3 个不同的选择语句而不是使用连接。然后，您可以像这样访问表：

```
ds.Tables[0].Columns["studentid"]
ds.Tables[1].Columns["classid"]
ds.Tables[2].Columns["teacherid"] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:26:59.170

您必须创建一个新数据集，其中包含三个具有正确关系的不同表。

如果您的数据库中已有该结构，您可以在 Visual Studio 中简单地单击菜单栏中的*数据*-*添加新数据源*，然后在第一个向导对话框中选择*数据库*-*数据集。*然后定义连接字符串并选择所有需要的表、视图等。

完成向导后，您将获得一个新数据集，其中包含所有所需的表及其相互关系。然后，在设计器中，您可以打开*数据*-*显示数据源*面板并将所需的表拖放到您的表单/控件上，还可以轻松创建主/详细视图。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:27:08.220

遍历您的数据集，并且由于您知道将成为查询结果的列，因此您可以执行类似的操作。

```
 ds.Tables[0].Columns["student_colummn1"] 
   ds.Tables[0].Columns["student_colummn2"] 
   ds.Tables[0].Columns["student_colummn3"] 

   ds.Tables[0].Columns["teacher_column1"] 
   ds.Tables[0].Columns["teacher_column2"]
   ds.Tables[0].Columns["teacher_column3"]

   ds.Tables[0].Columns["class_column1"] 
   ds.Tables[0].Columns["class_column2"] 
   ds.Tables[0].Columns["class_column3"] 
```

如果可能的话，看看 LINQ，让你的生活更轻松。希望这可以帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T11:18:35.717

`Don't use a dataset.`为学生、教师和班级表定义单独的班级。使用您的 DAL 填充这些类并在您的应用程序中单独访问它们。

# file - LoadRunner：下载文件的路径

> ID：15784697
> 
> 赞同：0
> 
> 时间：2013-04-03T10:18:40.050
> 
> 标签：file, http, path, loadrunner

我正在录制基于 HTTP 的协议的脚本，我正在保存一个文件，一个弹出窗口打开并在我的本地计算机上保存一个文件 (.doc)，同时重播脚本我想检查下载的文件路径...是否存在有什么方法吗？负载运行器 9.52

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T13:47:24.507

您将没有回放文件。您的下载是在 HTTP 数据流的上下文中进行的。如果您记录请求的信息，您可以检查日志，但这仍然不是您可以打开的文件。最好的办法是使用 web_reg_find() 或 web_reg_save_param() 来检查 http 下载流中是否存在文件页眉和页脚。您可能还想检查以前下载的大小。然后以这样的逻辑（P-CODED）

```
If ( 
    file_header_exists 
    && file_footer_exists 
    && file_size>some_minimum_number_of_bytes 
)
then ( I_have_a_valid_downloaded_file ) 
```

想象一下，如果您要求在性能测试期间将所有文件写入本地文件系统，您将对本地文件系统执行什么操作。您的本地硬盘驱动器将成为整个负载生成器的瓶颈。

您还可以考虑运行单个 GUI 虚拟用户（基于 QuickTest Professional 技术堆栈）来检查单个用户的一个文件下载作为功能检查。

如果您仍在进行功能检查，那么您可能过早地测试性能，因为如果它对一个人不起作用，那么它将永远不会对许多人起作用。

# ruby-on-rails - 为什么 rails 没有为我的“匹配”路线生成路线助手？

> ID：15784698
> 
> 赞同：6
> 
> 时间：2013-04-03T10:18:40.800
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3.2, routes

这是我在 config/routes.rb 文件中声明的两条路线：

```
 namespace :projects do
    match "proj_rapports_contributeur/select" => 'proj_rapports_contributeur#select', :via => :get
    match "proj_rapports_contributeur/generate/:id" => 'proj_rapports_contributeur#generate', :via => :get
  end 
```

这是生成的路线和辅助轨道生成`rake routes`：

```
projects_proj_rapports_contributeur_select_fr        /hierarchie/rapports_contributeur/selectionner(.:format)                                               projects/proj_rapports_contributeur#select {:locale=>"fr"}
projects_proj_rapports_contributeur_select_en        /en/projects/proj_rapports_contributeur/select(.:format)                                               projects/proj_rapports_contributeur#select {:locale=>"en"}

                                                     /hierarchie/rapports_contributeur/generer/:id(.:format)                                                projects/proj_rapports_contributeur#generate {:locale=>"fr"}
                                                     /en/projects/proj_rapports_contributeur/generate/:id(.:format)                                         projects/proj_rapports_contributeur#generate {:locale=>"en"} 
```

我不明白为什么 rails 没有为第二条路线生成路线助手？

不要对翻译后的路线感到惊讶。我正在使用 gem 'rails-translate-routes' 来翻译路线（资源：[https](https://github.com/francesc/rails-translate-routes) ://github.com/francesc/rails-translate-routes ）

* * *

**=== 更新最终答案 ===**

根据答案，对于那些想知道结束词的人，这里是我将使用的路线：

```
 namespace :projects do

    get "proj_rapports_contributeur/select" => 'proj_rapports_contributeur#select'
    get "proj_rapports_contributeur/generate/:id" => 'proj_rapports_contributeur#generate', :as => 'proj_rapports_contributeur_generate'
  end 
```

这些是生成的助手：

```
projects_proj_rapports_contributeur_select_fr GET    /hierarchie/proj_rapports_contributeur/selectionner(.:format)                                               projects/proj_rapports_contributeur#select {:locale=>"fr"}
projects_proj_rapports_contributeur_select_en GET    /en/projects/proj_rapports_contributeur/select(.:format)                                                    projects/proj_rapports_contributeur#select {:locale=>"en"}
projects_proj_rapports_contributeur_generate_fr GET    /hierarchie/proj_rapports_contributeur/generer/:id(.:format)                                                projects/proj_rapports_contributeur#generate {:locale=>"fr"}
projects_proj_rapports_contributeur_generate_en GET    /en/projects/proj_rapports_contributeur/generate/:id(.:format)                                              projects/proj_rapports_contributeur#generate {:locale=>"en"} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-03T10:23:41.977

这是因为该路线不是简单的路线，它包含一个参数（在您的情况下为：id）。在这种情况下，您应该使用手动指定路由名称`as`

```
match "proj_rapports_contributeur/generate/:id" => 'proj_rapports_contributeur#generate', :via => :get, :as => "your_route_name" 
```

作为旁注，将`match`+替换`via`为相应的方法名称。

```
get "proj_rapports_contributeur/generate/:id" => 'proj_rapports_contributeur#generate' 
```

它更短，并且在 Rails 4 中不推荐使用 match。

# html - 联系表格不发送电子邮件，错误页面

> ID：15784701
> 
> 赞同：0
> 
> 时间：2013-04-03T10:18:47.037
> 
> 标签：html, forms, contact

嗨，我真的需要帮助。

我刚刚完成了一个客户的设计，她的网站在星期四上线了，但是联系表格不起作用。我确实知道有关 HTML/CSS 的事情，但我对脚本的东西非常基础。当您填写表格并按发送时，会出现“未找到”页面。

出了什么问题？

我曾尝试查看有关此类事情的其他帖子，但我认为代码需要查看。

非常感激

//邮件表单验证

函数everif（str）{

```
 var at="@"
    var punct="."
    var lat=str.indexOf(at)
    var lstr=str.length
    var lpunct=str.indexOf(punct)
    if (str.indexOf(at)==-1){
       alert("Valid email must be entered")
       return false
    }

    if (str.indexOf(at)==-1 || str.indexOf(at)==0 || str.indexOf(at)==lstr){
       alert("Valid email must be entered")
       return false
    }

    if (str.indexOf(punct)==-1 || str.indexOf(punct)==0 || str.indexOf(punct)==lstr){
        alert("Valid email must be entered")
        return false
    }

     if (str.indexOf(at,(lat+1))!=-1){
        alert("Valid email must be entered")
        return false
     }

     if (str.substring(lat-1,lat)==punct || str.substring(lat+1,lat+2)==punct){
        alert("Valid email must be entered")
        return false
     }

     if (str.indexOf(punct,(lat+2))==-1){
        alert("Valid email must be entered")
        return false
     }

     if (str.indexOf(" ")!=-1){
        alert("Valid email must be entered")
        return false
     }

     return true                    
} 
```

函数 evalid(){ var emailID=document.contact_form.mail

```
if (everif(emailID.value)==false){
    emailID.focus()
    return false
} 
```

//空域验证

```
var fname=document.contact_form.fname
if ((fname.value==null)||(fname.value=="")){
    alert("Fields marqued with * must be entered")
    fname.focus()
    return false
    }

var lname=document.contact_form.lname       
if ((lname.value==null)||(lname.value=="")){
    alert("Fields marqued with * must be entered")
    lname.focus()
    return false
    }

var message=document.contact_form.message   
if ((message.value==null)||(message.value=="")){
    alert("Fields marqued with * must be entered")
    message.focus()
    return false
    }

return true 
```

}

```
 </script>
 <form name="contact_form" method="post" action="mailer.php" onSubmit="return evalid()">
 <table border="0"><tr>

  <td colspan="2"><input name="fname" type="text" value="First Name" size="40" /></td>
  </tr><tr>
  <td colspan="2"><input name="lname" type="text" value="Last Name" size="40" /></td>
  </tr><tr>
  <td colspan="2"><input type="text" value="Email" name="mail" size="40" /></td>
   </tr><tr>
  <td colspan="2"><textarea name="message" value="Your Message" onkeyup="return limitarelungime(this, 255)"  cols="35" rows="5"></textarea></td>
   </tr><tr>
   <td></td>
   <td colspan="2"></td>
   </tr>
    <tr>
   <td align="right">
   <input type="image" src="images/send.png" value="Submit" alt="submit" name="submit"/>
     </td>
    <td align="right"><alt="Valid Contact Form" width="20" height="20" border="0" /></a></td>
    </tr>
     </table>
     </form>    
     </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:47:37.140

**找不到页面错误**表明 URL 重定向存在一些问题，或者该文件不存在。在您的情况下，如果表单将数据发送到*mailer.php*脚本，只需确保正确输入了文件的路径，并且文件根据路径位于特定文件夹中。你的问题应该得到解决。

# c# - WCF RIA 服务域上下文

> ID：15784706
> 
> 赞同：0
> 
> 时间：2013-04-03T10:19:05.673
> 
> 标签：c#, silverlight-4.0, wcf-ria-services

我正在构建一个必须从数据库接收数据并在数据网格中显示的页面。

我使用 WCF RIA 服务来实现这种效果。但是，当我创建我的 DomainContext（基于实体模型）时，它不返回任何数据，而数据库包含大量数据。

当我在 sql server 上执行此操作时

```
select * from resposta 
```

这是结果：

```
id     data      hora   inquirido  resposta1    resposta2
1   01/04/2013  11:27   912345678   Sim            Não
2   01/04/2013  11:27   912345678   Sim            Não 
```

当我对实体框架做同样的事情时

```
_CurrentDomainContext = new CallbacksDomainContext();
contactoDataGrid.ItemsSource = _CurrentDomainContext.contactos;
EntityQuery<contacto> query = _CurrentDomainContext.FilterContactosQuery(ani, contacto, hora, data, horaUpper, dataUpper, espera, opcao, queueDestino, cliente);
LoadOperation<contacto> loadOp = _CurrentDomainContext.Load(query, SearchFinished, null); 
```

我得到一个空的数据网格。

我的 ria DomainData 来源是这样的：

```
<riaControls:DomainDataSource AutoLoad="False" d:DesignData="{d:DesignInstance my:resposta, CreateList=true}" Height="0"
                                  LoadedData="respostaDomainDataSource_LoadedData" x:Name="respostaDomainDataSource" 
                                  QueryName="GetResponsesQuery" Width="0">
        <riaControls:DomainDataSource.DomainContext >
            <my:CallbacksDomainContext />
        </riaControls:DomainDataSource.DomainContext>
    </riaControls:DomainDataSource> 
```

我一定遗漏了一些东西......因为我是silverlight和WCF RIA的新手，所以这可能是新手的错误。但我真的找不到原因：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:22:13.057

您缺少加载 DomainDataSource

```
DomainDataSource  AutoLoad="True" 
```

或者在你的代码后面手动加载它`respostaDomainDataSource.Load();`

# spring - jsf应用程序中的spring 2.5.6 DI问题

> ID：15784713
> 
> 赞同：0
> 
> 时间：2013-04-03T10:19:19.770
> 
> 标签：spring, jsf-2, dependency-injection

每次尝试将数据插入数据库时​​，我都会得到 NPE（空指针异常）。帮我解决这个问题。我已经导入了 spring 所需的所有必要库。这是我的 applicationContext.xml 文件，我在其中配置了所有 bean。

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

<bean id="personService" class="com.ecommerce.assignment.service.PersonService">
    <property name="personDAO" ref="personDAO" />
</bean>
<bean id="personBean" class="com.ecommerce.assignment.bean.PersonBean" />
<bean id="personDAO" class="com.ecommerce.assignment.dao.PersonDAO" />
</beans> 
```

**这是person DAO的接口。**

```
public interface IPersonDAO {
    public void addPerson(Person instance);
} 
```

**此 personDAO 类实现了 IpersonDAO 接口及其未实现的方法。**

```
public class PersonDAO implements IPersonDAO {

        @Override
        public void addPerson(Person instance) {
            Session session = HibernateUtil.getSessionFactory().openSession();
            session.beginTransaction().begin();

            session.saveOrUpdate(instance);

            session.getTransaction().commit();
            session.close();
        }
    } 
```

这是接口personService。公共接口 IPersonService { public void addPerson(Person instance); }

```
 public class PersonService implements IPersonService,Serializable {
        private IPersonDAO personDAO;

        public IPersonDAO getPersonDAO() {
            return personDAO;
        }

        public void setPersonDAO(IPersonDAO personDAO) {
            this.personDAO = personDAO;
        }

        @Override
        public void addPerson(Person instance) {
            getPersonDAO().addPerson(instance);
        }
}

public class PersonBean implements Serializable {

    private static final long serialVersionUID = 1L;
    private String emailAddress;
    private String password;
    private String username;
    @ManagedProperty(value = "#{personService}")
    private IPersonService iPersonService;

public void addPerson(){
        try{
            Person person = new Person();
            person.setUsername(getUsername());
            person.setEmailAddress(getEmailAddress());
            person.setPassword(getPassword());
            iPersonService.addPerson(person);
        }
        catch(Exception ex){
            ex.printStackTrace();
        }

    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T14:49:33.320

由于您的 person bean 由 Spring 管理，您应该使用`@Autowired`注解进行依赖注入，或者通过 XML 注入它，就像您为`PersonService`. 您也可以将 bean 声明为`@Component`and `@Scope`。

您的错误在于使用仅在 JSF 上下文中工作的 JSF 注释在 bean 中注入服务`@ManagedProperty`，即使用 JSF 托管 bean、使用 注释`@ManagedBean`或通过 XML 声明。

# iphone - 创建在第一次加载时不重复的动态 NSTimers 数量，之后就好了

> ID：15784717
> 
> 赞同：0
> 
> 时间：2013-04-03T10:19:33.450
> 
> 标签：iphone, objective-c, xcode, nstimer

我正在使用以下代码从存储在 SQLite 数据库中的数据创建一个数字（~5）NSTimer 实例：

```
-(void)setupNotificationTimer:(NSDictionary *)timerDetails{

    NSLog(@"TIMER REPEATS VALUE: %@", [timerDetails objectForKey:@"repeats"]);
    NSLog(@"INTERVAL: %f", [[timerDetails objectForKey:@"interval"] floatValue]);

    bool repeat = [[timerDetails objectForKey:@"repeats"] boolValue];
    if (repeat) {
        NSLog(@"Should Repeat");
    }
    else{
        NSLog(@"Should Not Repeat");
    }

    NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:[[timerDetails objectForKey:@"interval"] floatValue]
                                     target:self
                                   selector:@selector(fireTimer:)
                                   userInfo:timerDetails
                                    repeats:repeat];
    [timer fire];
    [timers addObject:timer]; //'timers' is a property of the AppDelegate
}

-(void)fireTimer:(NSTimer *)timer {
    NSLog(@"Timer Fired");
    NSMutableDictionary *dict = [timer userInfo];
    [[NSNotificationCenter defaultCenter] postNotificationName:[dict objectForKey:@"notificationName"] object:nil];
} 
```

当我第一次设置这些计时器时，应用程序加载计时器时设置正确，如下面的 NSLog 输出所示，但尽管明显设置为重复，但不会重复。每个计时器触发一次然后不会继续。

```
2013-04-03 11:12:53.541 Test[2635:752b] TIMER REPEATS VALUE: 1
2013-04-03 11:12:53.542 Test[2635:752b] INTERVAL: 10.000000
2013-04-03 11:12:53.543 Test[2635:752b] Should Repeat
2013-04-03 11:12:53.544 Test[2635:752b] Timer Fired 
```

当我关闭应用程序然后重新打开它时，会发生奇怪的事情，计时器被创建并实际上重复触发。这个应用程序也是一个通用的 iPhone 和 iPad 应用程序，我似乎只有在 iPhone 上运行该应用程序时才会出现这种行为。我真的被这件事难住了，任何帮助都将不胜感激。

**编辑**

根据要求取消计时器的代码：

```
-(void)viewWillDisappear:(BOOL)animated{        
    NSArray *viewControllersSet = self.navigationController.viewControllers;
    if (viewControllersSet.count > 1 && [viewControllersSet objectAtIndex:viewControllersSet.count-2] == self) {
        // View is disappearing because a new view controller was pushed onto the stack
        NSLog(@"New view controller was pushed");
    } else if ([viewControllersSet indexOfObject:self] == NSNotFound) {
        // View is disappearing because it was popped from the stack
        NSLog(@"View controller was popped");
        for(int i = 0; i < [[appDelegate timers] count]; i ++){
            NSTimer *timer = [[appDelegate timers] objectAtIndex:i];
            [timer invalidate];
            timer = nil;
        }
        [[appDelegate timers] removeAllObjects];
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:27:07.320

如果 NSTimer 在使用 scheduleTimerWithTimeInterval 创建后没有触发，通常意味着它没有附加到正确的 runloop。可能是在初始化期间和返回前台时使用不同的运行循环调用了您的方法 setupNotificationTimer() 吗？（即在不同线程或类似的上下文中）

这段代码可以解决这个问题：

```
NSTimer* timer = [NSTimer timerWithTimeInterval:[[timerDetails objectForKey:@"interval"] floatValue]
                                 target:self
                               selector:@selector(fireTimer:)
                               userInfo:timerDetails
                                repeats:repeat];
[[NSRunLoop mainRunLoop] addTimer:timer forMode:NSRunLoopCommonModes]; 
```

这可确保您的计时器被安排在主运行循环上并触发。

# c++ - Qt GUI 事件记录和回放

> ID：15784719
> 
> 赞同：9
> 
> 时间：2013-04-03T10:19:40.703
> 
> 标签：c++, python, qt, pyqt, qt-events

我正在尝试实现一个简单、轻量级的系统来记录 Qt GUI 事件并从脚本中回放它们。我认为使用 Qt 的事件系统的魔力这将是相当简单的，但我遇到了一个我不明白的问题。

这是我正在做的事情的快速总结：

记录：

我`QApplication.instance().eventFilter()`用来捕获我感兴趣的所有 GUI 事件*并将它们保存到 Python 脚本中，其中每个步骤看起来像这样：

```
obj = get_named_object('MainWindow.my_menubar')
recorded_event = QMouseEvent(2, PyQt4.QtCore.QPoint(45, 8), 1, Qt.MouseButtons(0x1), Qt.KeyboardModifiers(0x0))
post_event(obj, recorded_event) 
```

回放：

我只是在工作线程（**非 GUI ）中执行上面的脚本。**（我不能使用 GUI 线程，因为我想继续向应用程序发送脚本事件，即使在模式对话框事件循环运行时阻塞了“主”事件循环。）

重要的事情发生在我的`post_event()`函数中，它需要做两件事：

*   首先，打电话`QApplication.postEvent(obj, recorded_event)`
*   等待所有事件完成处理：**
    *   将特殊事件发布到`obj`正在运行的同一事件循环中。
    *   处理特殊事件时：
        *   称呼`QApplication.processEvents()`
        *   设置一个标志，告诉播放线程可以继续

在第二部分完成后，我的期望是**第一部分（录制的事件）的所有效果都已完成**，因为特殊事件在录制事件*之后*排队。

整个系统*似乎*对鼠标事件、按键事件等都很好。但是`QAction`当我尝试为我的 main 播放事件时，我遇到了处理程序的问题`QMenuBar`。

无论我尝试什么，似乎**我都无法强制我的播放线程阻止`QAction.triggered`**由于单击我的`QMenu`项目而导致的所有**处理程序的完成。**据我所知，在处理程序完成*之前*`QApplication.processEvents()`返回。*`QAction`*

 *`QMenu`小部件或信号是否有什么特别之处会破坏和/或`QAction`的正常规则？ **我需要一种方法来阻止我****的****处理程序的完成。**`QApplication.postEvent()``QApplication.processEvents()`**`QMenu``QAction`**

[*] 并非每个事件都被记录下来。我只记录`spontaneous()`事件，也过滤掉一些其他类型（例如`Paint`事件和普通的鼠标移动）。

[**] 这很重要，因为脚本中的下一个事件可能引用由上一个事件*创建*的小部件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T17:10:34.677

我认为您的问题可能最好通过使用 QFuture 和 QFutureWatcher 来解决（也就是说，如果您将 QtConcurrent 命名空间用于线程，而不是 QThreads）。基本上，Qt 事件处理系统不一定按它们发布的顺序处理事件。如果您需要阻塞直到某个操作完成，并且您在单独的线程中执行该操作，您可以使用 QtConcurrent::run() 返回的 QFuture 对象和 QFutureWatcher 来阻塞，直到该特定线程完成其处理.

其他需要考虑的是您处理事件的方式。当您使用 QApplication.postEvent() 时，您创建的事件将被添加到接收者的事件队列中以供稍后处理。在幕后，Qt 可以重新排序和压缩这些事件以节省处理器时间。我怀疑这更多是你的问题。

在处理播放的函数中，考虑使用 QCoreApplication::processEvents()，它在所有事件都完成处理之前不会返回。QCoreApplication 的文档在[这里。](http://qt-project.org/doc/qt-4.8/qcoreapplication.html#postEvent "QCore应用参考")

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-01T06:05:49.683

QMenu 小部件和 QAction 信号是一种特殊情况。QMenu 有一个 exec() 函数，通常用于弹出窗口。我怀疑（但我不确定）QMenuBar 在打开常规下拉菜单时会使用这种机制。文档对此并不清楚，但菜单的行为很像对话框，因为它们会阻止所有其他用户活动——除了给菜单提供自己的事件循环之外，Qt 将如何做到这一点？我无法填写您帖子中信息中的所有空白，但我看不出您的播放线程将如何应对新的事件循环。*

# ios - 使用删除按钮覆盖视图

> ID：15784720
> 
> 赞同：2
> 
> 时间：2013-04-03T10:19:41.163
> 
> 标签：ios, xcode, view, overlay

我搜索了高低，可能是因为没有正确定义问题，我似乎无法弄清楚如何实现以下目标：![http://andrewho.nl/wp-content/uploads/2013/04/Photo-30-03-13-09-55-06.png](https://i.stack.imgur.com/I61o6.png)

我想添加一个带有删除按钮的覆盖透明视图。我可以使用任何想法或教程吗？

我查看了以下内容，但我希望它带有删除按钮的全屏显示： [如何在 iPhone 上实现酷警报/信息覆盖？](https://stackoverflow.com/questions/3738504/how-to-implement-a-cool-alert-information-overlay-on-iphone)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:28:52.987

只需`UIView`在界面生成器中创建一个新的（我们称之为 OverlayView），具有主视图的大小，并在其他视图之上，具有`clearColor`背景颜色。里面`UIView`放一个`UIImageView`覆盖图像（它必须是一个半透明的png）和`UIButton`关闭（点击从超级视图中删除OverlayView）

# c - 在 C 中使用可变参数的示例

> ID：15784729
> 
> 赞同：43
> 
> 时间：2013-04-03T10:20:15.633
> 
> 标签：c, syntax, variadic-functions

[在这里](http://en.wikipedia.org/wiki/Varargs#C.2C_Objective-C.2C_C.2B.2B.2C_and_D)，我找到了如何在 C 中使用可变参数的示例。

```
#include <stdarg.h>

double average(int count, ...)
{
    va_list ap;
    int j;
    double tot = 0;
    va_start(ap, count); //Requires the last fixed parameter (to get the address)
    for(j=0; j<count; j++)
        tot+=va_arg(ap, double); //Requires the type to cast to. Increments ap to the next argument.
    va_end(ap);
    return tot/count;
} 
```

我只能在一定程度上理解这个例子。

1.  我不清楚我们为什么使用`va_start(ap, count);`. 据我了解，通过这种方式，我们将迭代器设置为其第一个元素。但是为什么默认不设置为开头呢？

2.  我不清楚为什么我们需要给出`count`作为论据。C不能自动确定参数的数量吗？

3.  我不清楚我们为什么使用`va_end(ap)`. 它有什么变化？它是否将迭代器设置到列表的末尾？但是它不是被循环设置到列表的末尾吗？此外，我们为什么需要它？我们不再使用`ap`；为什么我们要改变它？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-04-03T10:25:41.420

请记住，参数是在堆栈上传递的。该函数包含用正确的堆栈指针`va_start`初始化的“魔术”代码。`va_list`它*必须*传递函数声明中的最后一个命名参数，否则它将不起作用。

什么`va_arg`是使用这个保存的堆栈指针，并为提供的类型提取正确的字节数，然后修改`ap`它指向堆栈上的下一个参数。

* * *

实际上，这些函数（`va_start`和`va_arg`）`va_end`实际上并不是函数，而是作为预处理器宏实现的。实际实现还取决于编译器，因为不同的编译器可以有不同的堆栈布局以及它如何将参数推送到堆栈上。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-03T13:03:12.610

> 但是为什么默认不设置为开头呢？

也许是因为编译器不够聪明的历史原因。也许是因为您可能有一个 varargs 函数原型，它实际上并不关心 varargs，并且在该特定系统上设置 varargs 恰好是昂贵的。可能是因为您执行的操作更复杂，`va_copy`或者您想重新开始多次使用参数并多次调用`va_start`。

简短的版本是：因为语言标准是这样说的。

> 其次，我不清楚为什么我们需要将计数作为论据。C++ 不能自动确定参数的数量吗？

这还不是全部`count`。它是函数的最后一个*命名*参数。`va_start`需要它来确定可变参数的位置。这很可能是由于旧编译器的历史原因。我不明白为什么今天不能以不同的方式实施它。

作为您问题的第二部分：不，编译器不知道向函数发送了多少参数。它甚至可能不在同一个编译单元甚至同一个程序中，并且编译器不知道该函数将如何被调用。想象一个带有 varargs 函数的库，例如`printf`. 当您编译 libc 时，编译器不知道程序何时以及如何调用`printf`. 在大多数 ABI 上（ABI 是关于如何调用函数、如何传递参数等的约定），无法找出函数调用获得了多少参数。将这些信息包含在函数调用中是很浪费的，而且几乎从不需要它。所以你需要有一种方法来告诉可变参数函数它有多少个参数。访问`va_arg`超出实际传递的参数数量是未定义的行为。

> 然后我不清楚为什么我们使用 va_end(ap)。它有什么变化？

在大多数架构`va_end`上没有做任何相关的事情。但是有些架构具有复杂的参数传递语义，`va_start`甚至可能会 malloc 内存，然后您需要`va_end`释放该内存。

这里的简短版本也是：因为语言标准是这样说的。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-03T10:25:33.557

va_start 初始化变量参数列表。您始终将**最后命名的函数参数**作为第二个参数传递。这是因为您需要提供有关堆栈中位置的信息，变量参数从哪里开始，因为参数被压入堆栈并且编译器无法知道变量参数列表的开始位置（没有区别）。

至于 va_end，它用于在 va_start 调用期间释放为变量参数列表分配的资源。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-04-03T10:25:53.620

它是 C 宏。`va_start`将内部指针设置为第一个元素的地址。`va_end`清理`va_list`。如果有`va_start`代码而没有`va_end`- 它是 UB。

> ISO C 对标头中 va_start() 宏的第二个参数的限制在本国际标准中有所不同。参数 parmN 是函数定义的可变参数列表中最右边参数的标识符（就在 ... 之前的那个）。如果使用函数、数组或引用类型声明参数 parmN，或者使用与传递没有参数的参数时产生的类型不兼容的类型，则行为未定义。

# sql-server - 视觉工作室 2010 安装程序

> ID：15784733
> 
> 赞同：1
> 
> 时间：2013-04-03T10:20:30.767
> 
> 标签：sql-server, vb.net, installation, database-connection

需要一些帮助我在使用 vb10 连接到 MYSQL Server 2005 的程序时遇到问题，当我将其安装在其他计算机上时，我将最终项目创建为安装程序，但出现错误。这是错误“建立与 SQL Server 的连接时发生网络或实例特定错误。未找到或无法访问服务器。验证实例名称是否正确以及 SQL Server 配置为允许远程连接（提供程序：命名管道提供程序错误 40 - 无法连接到 SQL Server”）？

我想我在连接数据库时出错这是我使用的代码：

```
Dim con As SqlConnection = New SqlConnection("Data Source=localhost;Integrated Security=SSPI;" & _
"Initial Catalog=enrollment") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:24:21.687

为简化起见，让我们调用您的本地 PC 计算机**A**和您要安装计算机**B**的计算机。不确定您使用的是 mySQL 还是 SQL Server，但我的回答对两者都可以接受。

**怎么了？**

您的连接字符串告诉您的程序连接到部署的计算机**B**中的本地 MySQL （数据源 = localhost 的部分）。由于计算机**B**没有 mySQL 无法建立连接（错误消息 Named Pipes Provider 错误 40 - 无法打开与 SQL Server 的连接）。

**你有两个解决方案**：

1.  更改您的连接字符串并输入本地 PC **A**的 IP 。问题是**B**可能无法访问**A**。可能**A**在你家，**B**在大学。您还需要配置 SQL/MySQL 以接受远程连接。

2.  **在计算机B**中安装本地 SQL/MySQL 。然后在那里安装你的数据库（最简单的方法是恢复备份，这样你就有表、数据，如果你使用，存储过程、触发器、函数......）

去第二个:-)

# kendo-mobile - Kendo Mobile UI 手风琴

> ID：15784737
> 
> 赞同：0
> 
> 时间：2013-04-03T10:20:54.020
> 
> 标签：kendo-mobile

大家好，我想在 kendo mobile 中实现类似手风琴的功能，但我没有得到任何解决方案，因为它不提供手风琴。通过提供任何其他选择来帮助我。我的开放 div 中的数据是动态的（当我们单击任何选项行时打开的部分）

```
option1
option2
option3 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-12T08:00:23.443

Kendo UI 没有为此提供小部件。您可以使用 CSS3 轻松完成此操作。[这是一个例子](http://www.hongkiat.com/blog/css-content-accordion/)

# macos - 防止访问进程内存

> ID：15784740
> 
> 赞同：0
> 
> 时间：2013-04-03T10:21:01.890
> 
> 标签：macos, kernel, anti-cheat

我做了一个例子，使用 task_for_pid() 和 mach_vm_write() 写入进程内存。

```
task_for_pid(mach_task_self(), pid, &target_task);
mach_vm_write(target_task, address, '?', local_size); 
```

有没有办法阻止从另一个进程（如 OS X 上的作弊引擎）访问特定进程的内存。

如何防止另一个进程调用 task_for_pid？

除了钩子之外，没有多少其他人浮现在脑海中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T21:51:59.040

在 OS X 中，对 task_for_pid 的调用由 taskgated 控制。基本上，除非它是您的任务，或者您是 root（或者，在旧系统中，是 procview 组的成员），否则您不会获得那个难以捉摸的任务端口。但是，如果您被允许，那么您就拥有了端口，并且基本上可以做任何您想做的事情。

挂钩无济于事，因为 task_for_pid 是一个马赫陷阱——人们可以使用系统调用接口直接调用它。iOS 对其进行了更严格的控制（感谢 AppleMobileFileIntegrity.kext）。如果您想控制陷阱，那么有效的唯一方法就是编写一个小 kext 来为您解决问题。

# api - Rally 使用 Web 服务 API 批量添加测试用例结果

> ID：15784748
> 
> 赞同：1
> 
> 时间：2013-04-03T10:21:28.443
> 
> 标签：api, rally, bulk, testcase

我们即将开始通过 api 在 Rally 中更新测试结果的阶段。

我找不到通过 Web 服务 API 执行此操作的示例（例如发布 xml）。谁能指出我这一点？

我还想知道有什么能力可以批量执行此操作，例如一次性上传一组测试结果。也许有一些连接器可以将各种测试结果标准（例如 JUnit 报告）上传到 Rally 中？

欢迎提出想法和想法。

谢谢，

安迪

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T14:08:55.447

如果您正在针对测试用例结果创建 REST 端点执行简单的 POST：

[https://rally1.rallydev.com/slm/webservice/1.41/testcaseresult/create](https://rally1.rallydev.com/slm/webservice/1.41/testcaseresult/create)

那么适当的 XML 有效负载将是：

```
<TestCaseResult>
<Build>2345</Build>
<Date>2012-12-11T23:05:49.365Z</Date>
<TestCase ref="/testcase/12345678910"/>
<Tester ref="/user/12345678911"/>
<Verdict>Pass</Verdict>
</TestCaseResult> 
```

其中长整数是与结果关联的 TestCase 的 ObjectID，以及作为测试者的 Rally User。

我还将包含 JSON 语法，因为 Webservices 2.0 将仅支持 JSON：

[https://rally1.rallydev.com/slm/webservice/1.41/testcaseresult/create.js](https://rally1.rallydev.com/slm/webservice/1.41/testcaseresult/create.js)

有效载荷：

```
{ "TestCaseResult" : {
      "Build" : "2345",
      "Date" : "2011-10-13T23:05:49.365Z",
      "TestCase" : { 
          "_ref" : "/testcase/12345678910.js"
        },
      "Tester" : {
          "_ref : "/user/12345678911.js"
        },
      "Verdict" : "Fail"
    }
} 
```

据我所知，没有用于将 JUnit 结果上传到 Rally 的预构建连接器。一些客户发现[Rally Excel](https://prod.help.rallydev.com/rally-add-excel)插件对于批量上传 TestCaseResults 非常有用。您只需在导入工作表中指定一个列，该列具有要将结果关联到的 TestCase 的 Rally ObjectID 或 FormattedID。

# javascript - 关闭 Javascript 弹出窗口并重定向

> ID：15784750
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:21:33.453
> 
> 标签：javascript

如何在codeigniter中自动关闭弹出窗口并重定向到codeigniter中的父窗口。我是codeigniter的新手，请回答我用于`anchor_popup()`创建窗口的任何正文。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:10:51.487

要创建一个弹出窗口，在幕后使用类似这样的东西

```
var win = window.open("http://www.google.com",null,"height=320,width=200"); 
```

当您从原始页面移动时，该窗口保持打开状态。但是，您可以挂钩 unload 事件以关闭窗口：

```
window.addEventListener("unload",function() { win.close(); }); 
```

请注意，`addEventListener`IE<9 不支持，您可以在其中使用`attachEvent`。

# openshift - 将 Splunk 通用转发器安装到 OpenShift

> ID：15784752
> 
> 赞同：1
> 
> 时间：2013-04-03T10:21:51.117
> 
> 标签：openshift, splunk

我尝试用谷歌搜索，但没有任何运气，我也尝试搜索官方邮件列表，但也没有任何信息。

是否可以将 Splunk Universal Forwarder 安装到 OpenShift 平台？

# jquery - 使用 Zurb Foundation 时包含自定义 JavaScript 的正确方法

> ID：15784753
> 
> 赞同：5
> 
> 时间：2013-04-03T10:21:55.317
> 
> 标签：jquery, zurb-foundation

现在我在尝试将自己的 jQuery 添加到 Foundation 项目时遇到了无数次问题。

这与基金会使用“无冲突”的方式有关吗？添加自己的脚本的正确程序是什么？

我尝试在调用foundation.min.js 之后包含对scripts.js 文件的调用，但是一些非常简单的slideToggle 调用根本没有运行。然而，当我删除对foundation.min.js 的引用时，一切正常。

我也遇到了外部脚本文件的问题。

有小费吗？谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T22:45:51.260

我将我的自定义 js 脚本添加到脚本列表的最后，在结束 body 标记之前和 $(document).foundation(); 之前。我还将它存储在 js/vendor 目录中。在下面的粘贴中，我将所有内容都存储在一个全局目录中；只需查找您自己的 js 目录。

```
<script src="global/js/vendor/jquery.js"></script>
<script src="global/js/foundation/foundation.js"></script>

<script src="global/js/foundation/foundation.alerts.js"></script>

<script src="global/js/foundation/foundation.clearing.js"></script>

<script src="global/js/foundation/foundation.cookie.js"></script>

<script src="global/js/foundation/foundation.dropdown.js"></script>

<script src="global/js/foundation/foundation.forms.js"></script>

<script src="global/js/foundation/foundation.joyride.js"></script>

<script src="global/js/foundation/foundation.magellan.js"></script>

<script src="global/js/foundation/foundation.orbit.js"></script>

<script src="global/js/foundation/foundation.placeholder.js"></script>

<script src="global/js/foundation/foundation.reveal.js"></script>

<script src="global/js/foundation/foundation.section.js"></script>

<script src="global/js/foundation/foundation.tooltips.js"></script>

<script src="global/js/foundation/foundation.topbar.js"></script>

<!-- My Custom Script!!!! -->
<script src="global/js/vendor/custom.js"></script>

<script>
    $(document).foundation();
</script>
</body>
</html> 
```

你没有提到你是否在使用 Zurb Foundation 4；如果你注意到它默认使用 Zepto（而不是 jQuery），除了不理解**proto**调用的浏览器。如果您发现 jQuery 函数不起作用，您可能需要注释掉设置 Zepto 而不是 jQuery 的代码，然后进行测试。在文档底部附近查找以下内容：

```
<script>
document.write('<script src=' +
('__proto__' in {} ? 'global/js/vendor/zepto' : 'global/js/vendor/jquery') +
'.js><\/script>')
</script> 
```

将其替换为：

```
<!-- <script>
document.write('<script src=' +
('__proto__' in {} ? 'global/js/vendor/zepto' : 'global/js/vendor/jquery') +
'.js><\/script>')
</script> -->

<script src="global/js/vendor/jquery.js"></script> 
```

然后确保将 jquery.js 存储在适当的文件夹中。同样，我将文件存储在 /global 目录中。

希望有帮助！

# mysql - 在查询中使用 UNION 运算符创建 mysql 视图

> ID：15784756
> 
> 赞同：0
> 
> 时间：2013-04-03T10:22:01.930
> 
> 标签：mysql, sql

我正在尝试使用 UNION 运算符创建 sql 视图。我尝试先执行 sql，然后再将其嵌入到视图中，结果是成功的。但是当我尝试将其嵌入创建视图时，它返回了此错误

“错误代码：1064 您的 SQL 语法有错误；请查看与您的 MySQL 服务器版本相对应的手册，了解在 'UNION SELECT p.product_media_id AS media_id, p.product_title AS title, p.product' 附近使用的正确语法在第 8 行“

我还保证所有列都具有相同的数据类型。

SQL视图：

```
CREATE
/*[ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}]
[DEFINER = { user | CURRENT_USER }]
[SQL SECURITY { DEFINER | INVOKER }]*/
VIEW `mydbname`.`s_views` 
AS
(SELECT c.media_id AS media_id, 
    c.title AS title, 
    c.title_slug AS slug, 
    c.content_one      AS description, 
    c.type AS cat 
FROM content_content c 
WHERE c.type = 'news' 
    OR c.type='travel_genius' 
    AND c.media_id IS NOT NULL 
    AND c.status = 1
UNION
SELECT p.product_media_id AS media_id, 
    p.product_title AS title, 
    p.product_title_slug   AS slug, 
    p.product_description AS description, 
    'product' AS cat 
FROM p_views p
WHERE p.product_media_id IS NOT NULL); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T12:33:21.557

这是 MySQL 中的一个错误。触发它的是括号：-

[http://bugs.mysql.com/bug.php?id=21614](http://bugs.mysql.com/bug.php?id=21614)

# ibm-mobilefirst - 在 Worklight 5.0.6 中加载 Worklight 5.0.3 项目时出现 SecurityTest 问题

> ID：15784759
> 
> 赞同：0
> 
> 时间：2013-04-03T10:22:17.450
> 
> 标签：ibm-mobilefirst, authenticity

我在 worklight 5.0.6 中导入了一个 worklight 5.0.3 项目。在工作灯控制台（工作室测试环境）上部署 wlapps 时，我有应用程序。身份验证设置为已禁用。它不在 5.0.3 版本下

关于 authenticationConfig.xml 文件的两个版本之间是否有任何变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T06:01:40.827

应用认证是指真实性功能。除非您在 authenticationConfig.xml 中正确启用了 Authenticity 以及为支持的环境设置了 securityTest（在 application-descriptor.xml 中），否则此功能将显示为灰色。

# sql - 如何获取所有列，但必须在 sql 查询中仅按 2 列分组

> ID：15784760
> 
> 赞同：2
> 
> 时间：2013-04-03T10:22:21.173
> 
> 标签：sql, oracle

我有一个表`Employees`，它的字段如下：

```
Employee_name,Employee_id,Employee_status,Employee_loc,last_update_time. 
```

该表没有任何约束。我已经尝试了以下查询。

```
select Employee_name, count(1) 
from Employees 
where Employee_status = 'ACTIVE' 
Group by Employee_name,Employee_loc 
having count(Employee_name) > 1 
order by count(Employee_name)  desc 
```

在选择中，我也需要获得`Employee_id`.. 任何人都可以帮助您如何获得它吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:27:43.960

您可以只添加`Employee_id`到查询中，也可以将其添加到`group by`子句中。（将其添加到分组中不会对查询结果产生任何影响，假设每个员工姓名每个员工 id 都是唯一的）。

*如果*分组确实产生了影响，则意味着员工姓名和位置的某些组合具有多个关联的 ID。因此，您的查询需要决定返回哪个 ID，可能使用聚合函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:28:23.020

```
SELECT EMPLOYEE_NAME, EMPLOYEE_ID, COUNT(1)
FROM
EMPLOYEES
WHERE
EMPLOYEE_NAME IN
(
SELECT EMPLOYEE_NAME
FROM EMPLOYEES
WHERE Employee_status = 'ACTIVE'
GROUP BY Employee_name,Employee_loc
HAVING COUNT(*) > 1
)
GROUP BY EMPLOYEE_NAME, EMPLOYEE_ID 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-01T17:06:30.313

您还可以使用 partition by 子句并选择要查看的任何列，而与用于聚合的列无关。

这里有一个非常简短的解释 - [Oracle“Partition By”关键字](https://stackoverflow.com/questions/561836/oracle-partition-by-keyword)

# ruby-on-rails - Rails + Twitter Bootstrap：找不到或无法读取要导入的文件：twitter/bootstrap

> ID：15784769
> 
> 赞同：18
> 
> 时间：2013-04-03T10:22:32.963
> 
> 标签：ruby-on-rails, ruby, twitter-bootstrap, gem, twitter-bootstrap-rails

我正在尝试使用 Twitter Bootstrap（gem `twitter-bootstrap-rails`）设置 Rails 应用程序，但我仍然无法克服错误

```
File to import not found or unreadable: twitter/bootstrap. 
```

我在 gem 的官方 Github 上发现了这个问题，但没有一个解决方案对我有用。这是我的设置： **Gemfile**

```
gem "twitter-bootstrap-rails"
gem 'font-awesome-rails'
gem 'sass-rails',   '~> 3.2.3'
group :assets do
  #gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'
  gem 'therubyracer', :platforms => :ruby
  gem 'uglifier', '>= 1.0.3'
end 
```

**应用程序.css**

```
 *= require_self
 *= require bootstrap_and_overrides
 *= require font-awesome
 *= require_tree . 
```

**bootstrap_and_overrides.css.sass**

```
@import "twitter/bootstrap";
@import "twitter/bootstrap/bootstrap";
@import "twitter/bootstrap/responsive";

// Font Awesome
@import "fontawesome";

// Glyphicons
@import "twitter/bootstrap/sprites.scss"; 
```

正确设置我缺少什么？

谢谢

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-09-09T11:04:26.660

我们遇到了同样的问题，我刚刚重新启动了rails服务器并且它工作了

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-03T12:01:26.730

如果您已经尝试关闭服务器并重新启动它，那么您的问题可能是从您的 sass 文件生成的缓存 css 文件。造成这种情况的原因可能是一些实时重新加载，它预先渲染了几个 scss/haml 类型的文件。如果不是这样的话

1.  阅读错误消息并确定导致错误的 scss 文件。
2.  找到沿着 sass 文件生成的 css 文件（即 custom.css.scss 将生成 custom.css）。
3.  删除该文件，刷新页面，如果该文件删除资产/样式表和临时/缓存下的整个缓存）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-08-30T19:39:20.470

出于某种原因，我不得不明确要求 gem 让它工作。正如[这个 github 问题评论](https://github.com/thomas-mcdonald/bootstrap-sass/issues/217#issuecomment-14501695)中所建议的，用 bootstrap-sass 修复类似的错误，很可能 gem 没有自动加载。添加`require "twitter-bootstrap-rails`到例如 config/application.rb 文件以明确要求它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-06-25T13:35:19.833

将 bootstrap-sass gem 降级到 v2.3.2，如下所示： gem 'bootstrap-sass', '2.3.2'

我已经完成了升级引导 gem 的包升级。这（版本降级）为我解决了这个问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-22T19:39:58.017

我在寻找 Michael Hartl 的 RailsTutorial.org 程序的问题时发现了这个响应。我无意中允许将 sprockets gem 升级到 2.12.1（它被锁定在 Gemfile.lock 中）。强制将其降级到 2.11.0 修复了此错误并允许较旧的 bo​​otstrap-sass (2.3.2.0) gem 正常工作。

回去学习！！

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-08-27T10:30:53.807

这里没有什么对我有用。我放弃了，下载了 Bootstrap 本身，将文件放在我的资产中，并将它们包含在我的 CSS 中。那解决了它。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-04-03T12:53:43.780

我如何使它工作的方式只是更改 Twitter Bootstrap gem - 我使用了[bootstrap-sass](https://github.com/thomas-mcdonald/bootstrap-sass) gem，其中设置了 Github 页面上描述的所有内容，我没有发现任何问题。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-11-25T18:24:39.050

我通过添加`gem 'bootstrap-sass', '3.0.2.1'`我的 Gemfile（根据最近的文档）解决了这个问题。确保你`bundle install`之后运行。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-11-23T14:38:41.287

您是否尝试编译资产？

```
 rake assets:precompile 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-04-03T12:19:18.713

在资产组中添加以下 gem 并捆绑安装

```
gem "therubyracer"
gem "less-rails"
gem "twitter-bootstrap-rails" 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2013-11-22T21:26:12.527

尝试添加

`gem 'sass-rails'`

到您的 Gemfile

# jquery - 切换点击和加载事件的可见性

> ID：15784774
> 
> 赞同：0
> 
> 时间：2013-04-03T10:22:49.683
> 
> 标签：jquery

我有一个表单，它应该根据单选按钮的值显示某些输入框的切换可见性。我想在点击期间和加载期间执行此操作。我想出了定义一个在两个事件上都被调用两次的函数。

我尝试使用`on.('click load', function()...)`，但这没有用。

有没有更漂亮的方法来做下面的事情？

```
$(function() {
  toggleQuestions($('.subscribe-how input'));       
  function toggleQuestions(e){
    $('.custom-questions').hide();      
    $('.custom-question-'+$(e).val()).show();       
  };
  $('.subscribe-how input').on('click', function(e){
    toggleQuestions(this);
  });   
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:29:00.957

我建议你这样做：

```
 function toggleQuestions(e){
    $('.custom-questions').hide();      
    $('.custom-question-'+e).show();        
  }
  $(function() {
    $('.subscribe-how :input').on('click', function(e){
      toggleQuestions(this.value);
    }).click(); 
  }); 
```

把函数放在外面，直接从点击事件回调函数传值。

# c# - C#，每 30 秒我需要通过查找 for 循环在最后 X 分钟内迭代的次数来更新 Windows 窗体

> ID：15784776
> 
> 赞同：-9
> 
> 时间：2013-04-03T10:22:54.373
> 
> 标签：c#, asp.net, asp.net-mvc, c#-4.0, c#-3.0

我需要从远程队列（websphere MQ）中获取消息，我通过从队列中查找总消息的数量来做到这一点，并使用 for 循环进行迭代，在处理过程中我需要找到我已经获取了多少消息在最后 5 分钟内，我需要每 30 秒更新一次 Windows 窗体中的文本框。我认为这可能会给出一个清晰的愿景。我需要一个逻辑来找到这个，因为我是新手..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:25:50.070

您可以使用计时器来执行此操作

[http://msdn.microsoft.com/fr-fr/library/system.threading.timer.aspx](http://msdn.microsoft.com/fr-fr/library/system.threading.timer.aspx)

# javascript - 在 javascript/jquery 中解析 Json

> ID：15784777
> 
> 赞同：1
> 
> 时间：2013-04-03T10:22:54.880
> 
> 标签：javascript, jquery, json, parsing

我需要解析以下 json 响应。

```
{
"attrs": {
    "width": 578,
    "height": 200
},
"nodeType": "Stage",
"children": [
    {
        "attrs": {},
        "nodeType": "Layer",
        "children": [
            {
                "attrs": {
                    "x": 289,
                    "y": 100,
                    "sides": 6,
                    "radius": 70,
                    "fill": "red",
                    "stroke": "black",
                    "strokeWidth": 4
                },
                "nodeType": "Shape",
                "shapeType": "RegularPolygon"
            }
        ]
    }
]
} 
```

任何帮助谢谢..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:23:37.350

我们可以很容易地解析使用`JSON.parse(YOUR-JSON-STRING)`

```
var jsonStr = '{ "attrs": { "width": 578, "height": 200 }, "nodeType": "Stage", "children": [ { "attrs": {}, "nodeType": "Layer", "children": [ { "attrs": { "x": 289, "y": 100, "sides": 6, "radius": 70, "fill": "red", "stroke": "black", "strokeWidth": 4 }, "nodeType": "Shape", "shapeType": "RegularPolygon" } ] } ] }'; 
```

将它们放在一起最终解决方案将如下所示

```
var jsonStr = '{ "attrs": { "width": 578, "height": 200 }, "nodeType": "Stage", "children": [ { "attrs": {}, "nodeType": "Layer", "children": [ { "attrs": { "x": 289, "y": 100, "sides": 6, "radius": 70, "fill": "red", "stroke": "black", "strokeWidth": 4 }, "nodeType": "Shape", "shapeType": "RegularPolygon" } ] } ] }';

var parsedData = JSON.parse(jsonStr);
alert(parsedData.attrs.width)

$.each(parsedData.children, function (index, value) {
    $.each(this.children, function (index, value) {
        $('#mydata').append(' x value is : '+this.attrs.x);
        $('#mydata').append(' y value is : '+this.attrs.y);
    });
    console.log(this);
}); 
```

这是一个现场示例[http://jsfiddle.net/mayooresan/bMHN8/](http://jsfiddle.net/mayooresan/bMHN8/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:24:23.080

```
var data = '{ "attrs": { "width": 578, "height": 200 }, "nodeType": "Stage", "children": [ { "attrs": {}, "nodeType": "Layer", "children": [ { "attrs": { "x": 289, "y": 100, "sides": 6, "radius": 70, "fill": "red", "stroke": "black", "strokeWidth": 4 }, "nodeType": "Shape", "shapeType": "RegularPolygon" } ] } ] }';

 var _json = JSON.parse(data);

    console.log(_json.attrs.width); 
```

如果您在 jQuery 中通过 Ajax 检索 JSON，您可以执行以下操作：

```
 $.ajax({
    /* Set the JSON datatype in ajax call*/
    dataType:'json',
    ...
/* get json in response and you already have it "parsed" */
     success:function(json){

     console.log(json.attrs.width);
    }
    ...
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:35:12.837

使用[`parseJSON`方法](http://api.jquery.com/jQuery.parseJSON/)：

```
var obj = $.parseJSON(json); 
```

如果您进行 AJAX 调用以获取数据，请指定 JSON 数据类型，然后将自动为您解析响应：

```
$.ajax({
  url: "jsondata",
  dataType: "json",
  success: function(obj) {
    alert(obj.nodeType);
  }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-03T10:45:07.903

使用点表示法，您可以访问 JSON 数据的属性和对象。

首先，将您的 JSON 响应分配给一个变量，例如

```
var json = { "attrs": { "width": 578, "height": 200 }, "nodeType": "Stage", "children": [ { "attrs": {}, "nodeType": "Layer", "children": [ { "attrs": { "x": 289, "y": 100, "sides": 6, "radius": 70, "fill": "red", "stroke": "black", "strokeWidth": 4 }, "nodeType": "Shape", "shapeType": "RegularPolygon" } ] } ] } 
```

例如，获取 JSON 数据对象的宽度并通过控制台显示：

```
console.log(json.attrs['width']); 
```

回报：**578**

然后获取嵌套对象的值，例如

```
console.log(json.children[0].children[0].attrs); 
```

返回： 具有 x、y、边、半径等属性的对象。

要访问这些，例如

```
console.log(json.children[0].children[0].attrs['radius']); 
```

回报：**70**

这里对点和括号表示法/语法有一个更一般的答案：[How to extract a json object that's inside a json object](https://stackoverflow.com/questions/10368171/how-to-extract-a-json-object-thats-inside-a-json-object)

# c++ - Windows Phone 8：在 C++ 代码中打开 jpeg

> ID：15784778
> 
> 赞同：2
> 
> 时间：2013-04-03T10:22:56.043
> 
> 标签：c++, image-processing, file-io, windows-phone-8, jpeg

我想从 C++ 代码加载位于 Windows Phone 8 应用程序的隔离存储中的 jpeg 图像。一种解决方案是使用 libjpeg 或任何其他 3rd 方库。但是也可以直接使用内置函数加载 jpeg 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:33:57.190

本机 Windows Phone 8 api 不支持 Windows 本机映像 api (WIC)：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj662930(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj662930(v=vs.105).aspx)

我猜在.net中有一些东西可以加载jpeg（如果没有的话会令人惊讶）但是你应该编写一些包装器来从本机c ++调用托管代码。我不知道细节（通常人们想做相反的事情）。

# php - 使用 mysqli_real_escape_string 在 MySqli 中清理我的数据

> ID：15784781
> 
> 赞同：-2
> 
> 时间：2013-04-03T10:23:05.517
> 
> 标签：php, mysql, mysqli

我正在将我的函数从 mysql 转换为 mysqli。在 mysql 中，我使用了一个通用函数，我可以将数据解析为以消除 SQL 威胁。我曾尝试在 mysqli 中使用此方法，但是通过它的任何数据都不会返回。如果我 var_dump 字符串，我会得到结果

```
string(0) "" 
```

这是我的功能

```
function sanitize($data) { 
return htmlentities(strip_tags(mysqli_real_escape_string($data))); 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:27:48.200

你真的不需要使用`myslqi_real_escape_string()`.

相反，只需使用[准备好的语句](http://php.net/manual/en/mysqli-stmt.bind-param.php)（在此 PHP 文档页面中查找示例），您就可以了。

除了防止坏数据之外，准备好的语句也可以更快地工作，特别是对于重复数据。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-03T12:50:03.013

> 这是我的功能

清理 PHP 的输出必须适合数据传输的介质。因此，您应该将 mysql[i]_real_escape_string() 用于进入 DBMS 的数据，将 htmlentities 用于进入 html 或 xml 的内容，将 urlencode 用于进入 url 的数据，使用quoted_printable_encode 用于电子邮件中的文本内容......

stip_tags 将 HTML 转换为纯文本。add_slashes 函数只有在您没有明确的方法转义到目的地时才应该使用。

通过混合和匹配，您正在严重损害安全目标。

使用 mysql[i]_real_escape_string() 准备数据以进入您的 DBMS。将其应用于已使用 strip_tags() 处理的字符串应该不会产生不良影响（但反之则将 BREAK）。

使用 htmlentities 在发送到浏览器之前转义内容。

# php - 如何处理 php 和 ajax 中的会话

> ID：15784785
> 
> 赞同：0
> 
> 时间：2013-04-03T10:23:23.973
> 
> 标签：php, ajax, forms, login, session-cookies

我对 stockoverflow.com 还很陌生，因为我正在寻找一段时间的答案，我想，我把我的问题放在这里。底座看起来像这样：

索引.php：

```
<body>
<div id=”login”&gt; This <div> is hidden
<div>my Login form</div>
</div>

<ul>
<li>menu item</li>
<li>menu item </li>
<li>…&lt;/li>
<li><a href=”#” class=”login”&gt;login</a></li>

</ul>

rest of my code……

</body> 
```

login-form 是这样调用的：function.js

```
$('#login').hide();
$('.login').click(function() {
$('#login').show();
document.body.style.overflow = "hidden"; 
}); 
```

当我点击提交时，我可以使用以下代码登录：

login.js $(document).ready(function() {

```
$("#message").hide();

$("#submit").click(function(){
$("#message").hide('normal');

$.ajax({
type: "POST",
url: 'login.php',
data: $("#main form").serialize(),

success: function(data)
{
if (data === 'true') {

$(".login").fadeOut(500);
$('.login).html("<div class='loader'></div>")
.hide()
.fadeIn(2500, function() {
$('.login).load('administrator/test.php');
})

}
else {
$('#message').slideDown('slow');
}
}
});
return false;
});

}); 
```

和php代码：Login.php

```
try {
$stmt = $db->prepare('SELECT * FROM table WHERE email = :email AND passenc = :pass' );
$stmt->execute(array(email => $email, 'pass' => $pass));

$count = $stmt->rowCount();

if ($count > 0) {
echo 'true';
$_SESSION['email'] = $email;

} else {
echo "false";
}

} 
```

直到这里一切正常，我可以登录并获取管理页面。也许有人建议如何做得更好。

但我的问题是这样的：

如果我然后关闭加载或单击 F5 我的 index.php 页面重新加载。没有什么问题，但这里开始我的问题。

如果我然后再次单击登录，那么在创建会话时会显示登录表单而不是受保护的页面。创建会话时如何完成它并单击登录按钮页面重定向到受保护的页面并且如果会话已过期登录表单已加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:28:14.327

如果你想检查用户，如果已经登录然后重定向，把这段代码放在第一行`login.php`

```
session_start();
$url = "your private page";
if ( isset($_SESSION['email']) )
{
   header("Location :$url");
   die();
} 
```

# java - Gson 无法将 String 值转换为 List，Java

> ID：15784786
> 
> 赞同：1
> 
> 时间：2013-04-03T10:23:33.207
> 
> 标签：java, json, gson

我以为我足够强大，可以和 Gson一起*玩，但我发现了一些问题。*

我有我需要转换为对象的字符串。字符串是从一些 xml 生成的。

这是**第一个**示例：

```
{
"ClientData": {
    "pixelList": {
        "pixel": [{
            "b": 22,
            "a": 1234
        },
        {
            "b": 33,
            "a": 34344
        }]
    }
}
} 
```

看起来很简单，对吧？

所以我创建了后续类并成功地将上面提到的字符串转换为 Java 对象。

```
public class ClientDataRoot {
   @SerializedName("ClientData") ClientData clientData = null;  
}

public class ClientData {   
   PixelList pixelList = null;      
}

public class PixelList {
   List<Pixel> pixel = null;
}

public class Pixel {    
   private String a = "";
   private String b = ""; 
```

}

从第一个示例中，您可以看到`pixelList`有 2 个对象：`pixel`.

但是如果你得到`pixelList`一个会发生什么`pixel`：

**第二个**：

```
{
"ClientData": {
    "pixelList": {
        "pixel": {
            "b": 22,
            "a": 1234
        }
    }
}
} 
```

在这里我得到错误：

```
com.google.gson.JsonParseException: The JsonDeserializer
com.google.gson.DefaultTypeAdapters$CollectionTypeAdapter@d1918a failed to deserialize
json object {"b":22,"a":1234} given the type java.util.List<com.wefi.uxt.Pixel> 
```

我的代码很简单：

```
import com.google.gson.Gson;
....
Gson gson = new Gson();
ClientDataRoot clientDataRoot1 = 
gson.fromJson(xmlJSONObj.toString(), ClientDataRoot.class); 
```

我用`gson-1.7.1.jar`

顺便说一句，如果我`PixelList`从

```
 public class PixelList {
   List<Pixel> pixel = null;
 } 
```

到：

```
 public class PixelList {
    Pixel  pixel = null;
 } 
```

它有效，但我需要它作为列表

谢谢，

**如何修复它：**

正如人们所说，当我尝试将 XML 转换为 JSON 时，插件会转换`pixel`为.`JSONObjext``JSONArray`

这是我解决问题的代码：

```
 // responseBody is XML String
  JSONObject xmlJSONObj = XML.toJSONObject(responseBody);

            JSONObject cd = (JSONObject) xmlJSONObj.get("ClientData");
            JSONObject pl = (JSONObject) cd.get("pixelList");
            Object p = pl.get("pixel");

            if (p instanceof JSONObject) {
                JSONArray arr = new JSONArray();
                arr.put(p);

                pl.remove("pixel");
                pl.put("pixel", arr);
            } 
```

感谢 PeterMmm 和 RJ

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:29:47.140

难道这不是这种形式吗？具有 1 个元素的像素：

```
{
"ClientData": {
    "pixelList":{
        "pixel": [{
            "b": 22,
            "a": 1234
        }]
    }
}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:30:17.270

那是因为`JSON`返回的第三方返回错误`JSON`，或者如果你`JSON`自己生成，你做错了。中的**单个元素**`pixelList`应该`JSON`如下所示：-

```
{
    "clientData": {
        "pixelList": {
            "pixel": [
                {
                    "a": "22",
                    "b": "1234"
                }
            ]
        }
    }
} 
```

要么 JSON 需要更正，要么你可以做这样的事情。有 2 个对象，其中 1 个`type1`（一个解析列表）和另一个`type2`（解析单个元素 json）。

现在用 class 解析 json`type1`并将其保存在`try-catch`. 如果你得到这个`Exception`，`catch`它和`type2`类解析它。如果您无法`JSON`修复响应，这似乎是唯一的解决方法。

# groovy - 安装葡萄依赖项时如何排除本地maven存储库

> ID：15784791
> 
> 赞同：2
> 
> 时间：2013-04-03T10:23:38.850
> 
> 标签：groovy, grape

我想在我的项目中安装一些葡萄依赖：

```
grape install org.codehaus.groovy.modules.http-builder http-builder 0.6 
```

如何从我的 Maven 本地存储库中排除下载？因为默认情况下它看起来像是从我的本地仓库下载的

```
found org.codehaus.groovy.modules.http-builder#http-builder;0.6 in localm2
found org.apache.httpcomponents#httpclient;4.2.1 in localm2
found org.apache.httpcomponents#httpcore;4.2.1 in localm2
found commons-logging#commons-logging;1.1.1 in localm2
found commons-codec#commons-codec;1.6 in localm2 
```

...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T15:47:18.410

`grapeConfig.xml`您可能在( )的解析器部分中有本地 maven 存储库`~/.groovy/grapeConfig.xml`：

```
<?xml version="1.0"?>
<ivysettings>
    <settings defaultResolver="downloadGrapes"/>
    <resolvers>
        <chain name="downloadGrapes">
            <!-- todo add 'endorsed groovy extensions' resolver here -->
            <ibiblio name="local" root="file:${user.home}/.m2/repository/" m2compatible="true"/>
            <filesystem name="cachedGrapes">
                <ivy pattern="${user.home}/.groovy/grapes/[organisation]/[module]/ivy-[revision].xml"/>
                <artifact pattern="${user.home}/.groovy/grapes/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/>
            </filesystem>
            <ibiblio name="codehaus" root="http://repository.codehaus.org/" m2compatible="true"/>
            <ibiblio name="ibiblio" m2compatible="true"/>
            <ibiblio name="java.net2" root="http://download.java.net/maven/2/" m2compatible="true"/>
        </chain>
    </resolvers>
</ivysettings> 
```

使用该`resolvers`部分内的以下行，`grape`从本地 maven 存储库获取工件：

```
<ibiblio name="local" root="file:${user.home}/.m2/repository/" m2compatible="true"/> 
```

将其注释掉以从配置的存储库中下载工件。

**编辑**：刚刚用 joda-time 在本地测试

首先，在grapeConfig.xml 中包含我的本地maven repo

```
> grape install joda-time joda-time 2.1
:: loading settings :: url = jar:file:/C:/Software/groovy-2.1.1/lib/ivy-2.2.0.jar!/org/apache/ivy/core/settings/ivysettings.xml
:: resolving dependencies :: caller#all-caller;working16
        confs: [default]
        found joda-time#joda-time;2.1 in local
downloading file:C:/Users/jalopaba/.m2/repository/joda-time/joda-time/2.1/joda-time-2.1.jar ...
        [SUCCESSFUL ] joda-time#joda-time;2.1!joda-time.jar (90ms) 
```

在手动删除`joda-time`文件夹`~/.groovy/grapes`并注释掉上面的行之后：

```
> grape install joda-time joda-time 2.1
:: loading settings :: url = jar:file:/C:/Software/groovy-2.1.1/lib/ivy-2.2.0.jar!/org/apache/ivy/core/settings/ivysetti    ngs.xml
:: resolving dependencies :: caller#all-caller;working09
        confs: [default]
        found joda-time#joda-time;2.1 in ibiblio
downloading http://repo1.maven.org/maven2/joda-time/joda-time/2.1/joda-time-2.1.jar ...
        [SUCCESSFUL ] joda-time#joda-time;2.1!joda-time.jar (2460ms) 
```

**编辑2**：在我的评论之后编辑：

如果您无法创建`grapeConfig.xml`in`~/.groovy`但可以在其他路径中创建它，则可以

```
grape -Dgrape.config=<pathTo_grapeConfig.xml> install joda-time joda-time 2.1 
```

# javascript - 通过拖动禁用滚动

> ID：15784792
> 
> 赞同：0
> 
> 时间：2013-04-03T10:23:39.787
> 
> 标签：javascript, jquery, scroll

一旦按下按钮，我想禁用滚动。我已经找到[了这个答案](https://stackoverflow.com/a/4770179/1394336)，它真的很好 - 但是用户仍然可以通过在页面上标记某些内容并将其拖动到浏览器的顶部/底部来滚动。

此代码尽快重置滚动位置，但滚动仍然可见（并且此解决方案看起来有点脏）

```
var pageYOffset = window.pageYOffset;
setInterval(function () { window.scrollTo(0, pageYOffset) }, 1); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:45:58.537

您可以尝试在滚动处于禁用状态时[禁用文本选择突出显示。](https://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting)

试试这个[小提琴](http://jsfiddle.net/3Ku26/24/)

在 disable_scroll() 添加

```
$("html").addClass("diableSelection"); 
```

并在 enable_scroll() 添加

```
$("html").removeClass("diableSelection"); 
```

.diableSelection 将在哪里

```
.diableSelection {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
} 
```

# php - PHP 代码中的事件跟踪

> ID：15784795
> 
> 赞同：0
> 
> 时间：2013-04-03T10:23:48.823
> 
> 标签：php, input, event-tracking, submit-button

我正在尝试对联系表单上的提交按钮实施事件跟踪。这是我正在使用的代码：

```
<input type='button' value='".((get_theme_option("translator_status") == "enable") ?   get_text("tranlator_send_message") : __('Send comment','theme_localization'))."' id='submit2' class='feedback_go' name='submit'> 
```

这是我需要在其中放置的代码：

```
onclick="_gaq.push(['_trackEvent', 'Contact Us Form', 'Submit', 'Submit']);" 
```

代码开头和结尾的双引号导致服务器错误。如果我改用单引号，则跟踪不起作用。

我尝试将双引号括在单引号中，但这也会导致服务器错误。

如果有人能告诉我哪里出错和解决方法，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:27:27.733

使用[`sprintf()`](http://php.net/sprintf)您可以使此代码更易于管理：

```
echo sprintf('<input type="button" id="submit2" class="feedback_go" value="%s" onclick="_gaq.push(%s);" />',
    htmlspecialchars(get_theme_option("translator_status") == "enable" ? get_text("tranlator_send_message") : __('Send comment','theme_localization'), ENT_QUOTES, 'UTF-8'),
    json_encode(array('_trackEvent', 'Contact Us Form', 'Submit', 'Submit'))
); 
```

它还用于`htmlspecialchars()`转义任何一个`get_text()`或`__()`正确的内容。

# vb.net - 将列表框项绑定到方程式

> ID：15784799
> 
> 赞同：1
> 
> 时间：2013-04-03T10:23:59.017
> 
> 标签：vb.net

我是 VB 2010 的新用户。我正在做一个简单的程序，作为我 Uni 项目的一部分。这个程序的想法是帮助用户找到适合他/她卡路里的合适膳食。计算卡路里需要考虑很多因素。这些是年龄、体重、身高和活动水平 然后用户应该根据所有这些输入来决定他/她是要保持体重还是减轻体重.. 应该显示膳食

实际上，我构建了程序的形式......我编写了计算 BMR 的公式，这是计算卡路里之前的上一步。尽管取得了这些进展，但我发现很难将“列表框”中的活动级别绑定到方程式，因为每个级别都表示一个数字以将其添加到方程式中。我不知道我该怎么办。我应该先识别列表框的项目还是????

我在网站和 youtube 上找到了很多资料，但没有关于我需要什么我需要你的帮助

这就是我所做的

```
 If RadioButton1.Checked = True Then
            TextBox1.Text = (66 + (13.7 * MaskedTextBox1.Text) + (5 * MaskedTextBox2.Text) - (6.8 * MaskedTextBox3.Text))
        ElseIf RadioButton2.Checked = True Then
            TextBox1.Text = (665 + (9.6 * MaskedTextBox1.Text) + (1.8 * MaskedTextBox2.Text) - (4.7 * MaskedTextBox3.Text))
        End If 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T15:08:08.317

你要做的是：

```
Private Sub Button1_Click(sender As System.Object, e As System.EventArgs) Handles Button1.Click
    If ListBox1.SelectedItem = "This is item 1" Then
        'Do your math here - If you want the first item to be 1
        'then you simply use the number 1 here

        'Example: (Will display 2)
        MsgBox(1 + 1)
    ElseIf ListBox1.SelectedItem = "This is the 2:nd item" Then
        'Do your math here - If you want the first item to be 1
        'then you simply use the number 1 here

        'Example: (Will display 3)
        MsgBox(1 + 2)
    ElseIf ListBox1.SelectedItem = "This is item 3" Then
        'Do your math here - If you want the first item to be 1
        'then you simply use the number 1 here

        'Example: (Will display 4)
        MsgBox(1 + 3)
    End If
End Sub 
```

所以基本上，如果所选项目是计算 1+1 的项目 - 代码将执行该“等式”

如果您希望动态添加项目，还有另一种方法：）

# magento - magento 管理面板中的颜色选择器

> ID：15784800
> 
> 赞同：2
> 
> 时间：2013-04-03T10:24:03.630
> 
> 标签：magento, input, colors, admin, picker

我想在**Magento 1.7 CE**管理面板中添加一个**颜色选择器。**知道我已经使用了自定义选择模型，但我找不到如何添加自定义颜色选择器。

 **谁能帮我吗？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-03T14:24:13.907

查看 JSColor：

[http://jscolor.com/](http://jscolor.com/)

它是一个开源且非常易于使用的 Javascript 库。您所要做的就是在应用程序的某个地方导入库，而不是简单地使用“颜色”类创建一个输入。JSColor 完成剩下的工作。我刚刚在最近的 Magento 项目中使用了它，希望它也能满足您的需求。

**更新**：为了更深入地回答发帖者的问题，以下是我在 magento 应用程序中实现 jscolor 的方式：

首先确保你已经拉入了 JSColor 的 javascript 文件，我在我的 layout.xml 中为我的模块做了这个，你也可以这样做：

```
<layout version="0.1.0">
<default>
    <reference name="head">
        <action method="addJs">
            <script>jscolor/jscolor.js</script>
        </action>
    </reference>
</default> 
```

在自定义块的 html 中，您可以放置​​用于创建 jscolor 输入的代码：

```
<input class="color {required:false, adjust:false, hash:true}"> 
```

使用 JSColor 就像将类指定为颜色一样简单，再加上您想要设置的任何其他设置（请参阅 jscolor 文档）。

或者，如果您使用的是标准 Magento 管理面板表单并且您想利用预制的 Magento 块，您可以让您的块扩展 Varien_Data_Form_Element_Text 并执行以下操作：

```
$fieldset->addType('mycustomblock', 'Mycompany_Mymodule_Block_Adminhtml_Edit_Elements_Mycustomblock');

            $fieldset->addField(
            'mycustomblock',
            'mycustomblock',
            array(
                'label'     => Mage::helper('MyModule')->__($label),
                'required'  => true,
                'name'      => 'yourinputname',
                'class'     => 'color {required:false, adjust:false, hash:true}',
                'value'     => $value
            )
        ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-06-12T18:10:34.990

在 MAGENTO 管理员配置页面中添加颜色选择器

有时您可能想在 Magento 模块或扩展的管理配置页面中添加颜色选择器。您可能认为这是一项艰巨的任务，但请相信我，这很简单。几行 XML 代码将为您完成。以下是执行此操作的确切步骤。

1.  在`adminhtml/default/default/layout`目录中，为您的模块创建布局 XML 文件。让我们将其命名为`picker.xml`. 将以下内容写入`picker.xml`：-

    ```
     <?xml version="1.0"?>
         <layout version="0.1.1">
            <adminhtml_system_config_edit>
               <reference name="head">
                   <action method="addJs"><file>jscolor/jscolor.js</file></action>
               </reference>
            </adminhtml_system_config_edit>
         </layout> 
    ```

2.  将模块中的布局文件声明`config.xml`为：

    ```
    <config>
     ...
       <adminhtml>
         <layout>
           <updates>
             <basket>
               <file>picker.xml</file>
             </basket>
           </updates>
         </layout>
       </adminhtml>
     ...
    </config> 
    ```

3.  在您的模块中`system.xml`，将颜色选择器字段添加为：

    ```
    <config>
       <sections>
         <myconfig module="picker" translate="label">
      <groups>
    <my_group translate="label">
      <my_color>
       <label>Background Color</label>
       <frontend_type>text</frontend_type>
       <validate>color</validate> <!-- This is important -->
       <sort_order>1</sort_order>
       <show_in_default>1</show_in_default>
       <show_in_website>1</show_in_website>
       <show_in_store>1</show_in_store>
       <comment>Specify the background color.</comment>
      </my_color>
    <my_group> 
    ```

就是这样，你就完成了。**它将在管理系统配置字段中显示如下：-**

[![在此处输入图像描述](https://i.stack.imgur.com/5IzbS.png)](https://i.stack.imgur.com/5IzbS.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-12T11:33:32.760

您还可以将验证颜色添加到字段定义中，它将自动显示颜色选择器已在管理员中加载了 jscolor 库。

```
 <color_field>
                        <label>Color</label>
                        <frontend_type>text</frontend_type>
                        <validate>color</validate>
                        <sort_order>12</sort_order>
                        <show_in_default>1</show_in_default>
                        <show_in_website>1</show_in_website>
                        <show_in_store>1</show_in_store>
                    </color_field> 
```**

# vb.net - 如何使用 vb.net 在堆积图中获取相应的 x 和 y 值

> ID：15784805
> 
> 赞同：0
> 
> 时间：2013-04-03T10:24:16.937
> 
> 标签：vb.net, bar-chart

我有一个我设计的堆积条形图。

用于填充堆叠图表的 SampleData 如下所示。

```
 Task            Counter    TaskState
    BusinessTime    29         Completed
    BusinessTime    100        Started
    NewYorkTime     2          Completed
    NewYorkTime     49         Started
    DailyTimes      65         Outstanding
    DailyTimes      60         Completed 
```

我希望能够单击任何图表项目并查看细分，例如，单击 businessTime 以查看未完成的总数。

请问我该如何实现？我对图表控件比较陌生

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T11:26:25.203

这是使用 series.url 方法解决的。堆叠图中的 xaxis 值是通过#ValX 获得的。在我设置 xaxis 的 valuetype 属性之前，这最初不起作用。

谢谢大家

# c# - 自定义配置部分中的重复键 - 是否总是选择最后一个？

> ID：15784810
> 
> 赞同：2
> 
> 时间：2013-04-03T10:24:24.243
> 
> 标签：c#, configuration, app-config

如果我在 App.config 文件中定义自定义部分，并添加重复键，例如：

```
<myCustomSection>
    <add key="Foobar" value="AppConfig,FirstValue" />
    <add key="Foobar" value="AppConfig,SecondValue" />        
</myCustomSection 
```

至少在 .NET 4 上选择了最后一个值（在本例中为“SecondValue”）。但是，这种行为是否可能在不同版本的 .NET Framework 中保持一致？单声道怎么样？

# php - Laravel Restfull 控制器和路由 ajax / 同步请求

> ID：15784812
> 
> 赞同：5
> 
> 时间：2013-04-03T10:24:29.890
> 
> 标签：php, rest, laravel

我正在寻找最有效的方式来处理两个 ajax 请求作为同步请求使用正常的形式。据我所知，有两种方法可以处理例如新订单发布请求：

**选项 1：AJAX 检查控制器**（为简单起见，省略了验证和保存）。

```
//Check if we are handling an ajax call. If it is an ajax call: return response
//If it's a sync request redirect back to the overview
if (Request::ajax()) {
    return json_encode($order);
} elseif ($order) {
    return Redirect::to('orders/overview');
} else {
    return Redirect::to('orders/new')->with_input()->with_errors($validation);
} 
```

在上述情况下，我必须在每个控制器中进行此检查。第二种情况解决了这个问题，但对我来说似乎有点矫枉过正。

**选项 2：让路由器处理请求检查并根据请求分配控制器。**

```
//Assign a special restful AJAX controller to handle ajax request send by (for example) Backbone. The AJAX controllers always show JSON and the normal controllers always redirect like in the old days.
if (Request::ajax()) {
    Route::post('orders', 'ajax.orders@create');
    Route::put('orders/(:any)', 'ajax.orders@update');
    Route::delete('orders/(:any)', 'ajax.orders@destroy');
} else {
    Route::post('orders', 'orders@create');
    Route::put('orders/(:any)', 'orders@update');
    Route::delete('orders/(:any)', 'orders@destroy');
} 
```

就路由而言，第二个选项对我来说似乎更干净，但它不是就工作量（处理模型交互等）而言。

**解决方案（由思想家）**

思想家的回答很准确，并为我解决了。下面是扩展 Controller 类的更多细节：

1.  在应用程序/库中创建一个 controller.php 文件。
2.  从思想家的答案中复制控制器扩展代码。
3.  转到 application/config/application.php 并注释此行：'Controller' => 'Laravel\Routing\Controller',

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T15:45:04.140

我在 Laravel 论坛上留下的一个[解决方案](http://forums.laravel.io/viewtopic.php?id=3041)涉及扩展核心控制器类来管理基于 REST 的系统的 ajax 和非 ajax 请求。无需检查您的路由并根据请求传输进行切换，您只需在控制器中添加一些功能，前缀为`'ajax_'`. 因此，例如，您的控制器将具有以下功能

```
public function get_orders() { will return results of non-ajax GET request}
public function ajax_get_orders() { will return results of ajax GET request }
public function post_orders()  {will return results of non-ajax POST request }
public function ajax_post_orders() { will return results of ajax POST request } 
```

等等

[你可以在这里](http://paste.laravel.com/7R7)找到粘贴

为了扩展核心控制器类，您必须在 application/config/application.php 中更改别名“控制器”类，然后将`$ajaxful`控制器类中的属性设置为 true（`$restful`如果您想要恢复的 ajax 控制器也可以）。

# c# - C# CommandManager 结合撤消/重做模式

> ID：15784814
> 
> 赞同：2
> 
> 时间：2013-04-03T10:24:39.820
> 
> 标签：c#, wpf, icommand, undo-redo

我目前正在寻找将撤消/重做（基于[本文](http://www.codeproject.com/Articles/33384/Multilevel-Undo-and-Redo-Implementation-in-C-Part)）与使用 ICommand 的命令模式结合起来。阅读有关 CanExecute 和 CanExecuteChanged 的​​想法后，我发现了将更改的状态传播到所有已注册 UIElement 的 CommandManager。但是，如果命令本身存储更改的数据，则似乎很难将这两者结合起来。这是当前情况的示例：

```
interface IUndoCommand : ICommand
{
    void Undo();
} 
```

和实施：

```
public class SampleCommand : IUndoCommand
{
    private Point oldPosition;
    private Shape shape;

    // Gets the currently moved shape object
    public MoveCommand(Shape shape, Point oldPosition)
    {
        this.oldPosition = oldPosition;
        this.newPosition = new Point(Cavas.GetLeft(shape),Canvas.GetTop(shape));
        this.shape = shape;
    }

    public void Execute(object parameter)
    {
        Model.PersistChanges(shape, newPosition);
    }

    public void Undo()
    {
        Model.PersistChanges(shape, oldPosition);
    }

    public bool CanExecute(object parameter)
    {
    }

    public event EventHandler CanExecuteChanged;
} 
```

## 冲突

在此实现中，命令存储更改，因此每次执行时都需要创建一个新实例。然而，CommandManager 会跟踪状态并通知 UIElements。如果我在那里注册命令的每个实例，一个 UIElement 就会有几个相等的命令竞争 CanExecute 状态。这似乎打破了这个想法，那么它是如何工作的呢？

当然，我可以将重做/撤消所需的状态从命令移动到模型，并准确注册一个（静态）命令实例，该实例将被全面使用。但实际上我喜欢在命令中存储状态的想法。

如果我省略 ICommand 用法，[wpftutorial.net](http://wpftutorial.net/UndoRedo.html)的示例将起作用 - 尽管我还没有完全了解那里的操作/撤消操作的想法。

## 问题

您如何结合这些方法，撤消/重做 + CommandManager？是实现在模型中保存状态的唯一解决方案（以 MVVM 为基础）还是有其他机会？

编辑：

是否可以在仍然使用 CommandManager 的命令中保存状态？ICommand-Interface 提供了跟踪 CanExecute-State 的功能，这是一个好主意。但是，我看不到在保存命令中的状态的同时保留这个想法的可能性（因此需要几个不同的实例）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T15:11:46.937

对于其他每个绊倒这个的人：

我现在使用分层视图模型解决了这个问题。现在每个命令都有自己的 ViewModel。

```
public class ViewModel 
{

    public ViewModel()
    {
        MoveCommand = new MoveCommand(this);
    }

    public Shape Shape {get;set;}
    public Point CurrentPosition {get;set;}
    public ICommand MoveCommand {get; private set;}
}

public class MoveCommand
{
    ViewModel viewModel;
    Point shiftVector;

    public MoveCommand(ViewModel viewModel, Point shiftVector)
    {
        this.viewModel = viewModel;
        this.shiftVector = shiftVector;
    }

    public void Execute(object parameter)
    {
        shapeVM.CurrentPosition.X += shiftVector.X;
        shapeVM.CurrentPosition.Y += shiftVector.Y;
    }

    public void Undo()
    {
        shapeVM.CurrentPosition.X -= shiftVector.X;
        shapeVM.CurrentPosition.Y -= shiftVector.Y;
    }

    public bool CanExecute(object parameter)
    {
    }

    // Notice here: the events should be passed to the command manager to take care about it
    public event EventHandler CanExecuteChanged
    {
        add { CommandManager.RequerySuggested += value; }
        remove {CommandManager.RequerySuggested -= value;}
    } 
```

分层部分的作用如下：

```
public class BaseViewModel
{
    ObservableCollection<ViewModels> ViewModels;

    // pass the command from the child's viewModel.
    public ICommand MoveCommand
    {
        get
        {
            return SelectedItem.MoveCommand;
        }
    }

    public SelectedItem ViewModel {get;set;}

    public BaseViewModel()
    {

    }

} 
```

# javascript - Cookie 无法正常工作

> ID：15784815
> 
> 赞同：0
> 
> 时间：2013-04-03T10:24:41.620
> 
> 标签：javascript, jquery, html, cookies

我的 cookie 有问题。使用它时出现这样的错误

```
TypeError: $.cookie is not a function [Break On This Error] $('#' + $.cookie("activediv")).parent().parent().addClass('menuHeaderActive'); 
```

javascript文件是

```
$(document).ready(function () {
   var checkCookie = $.cookie("activediv"); 
   ///$('#' + $.cookie("activediv")).parent().parent().addClass('menuHeaderActive');
   alert("a"); 
}); 
```

我有这个cookie的插件。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:26:38.180

您可能还没有加载[Jquery cookie 插件](https://github.com/carhartl/jquery-cookie)。如果您想使用该插件，您需要下载 js 文件并将其链接到您的 HTML（在主 jQuery 文件之后）

# c++ - cython中循环的并行化

> ID：15784818
> 
> 赞同：2
> 
> 时间：2013-04-03T10:24:51.143
> 
> 标签：c++, python, numpy, openmp, cython

在这里的一些成员的帮助下，我确实建立了一个在 Python 中运行的代码，并评估一个需要两个大`np.arrays`作为输入的函数。

并行运行的矢量化版本仍然非常耗时，并且比用串行 fortran 编写的参考程序慢了约 50...

我想改用 cython 循环，我可以使用 OpenMP 或 MPI 进行并行化。c++ 中的想法是这样的：

```
#pragma omp parallel for
for (i=0;i<np1;i++){
  for (i=0;i<np2;i++){
    double dist = sph(coord1_particle1,coord1_particle2,coord2_particle1,coord2_particle2)
    int bin=binning_function(dist)
    hist_array[bin]++
  }
} 
```

任何想法都是完全欢迎的。这是 Python 版本：

```
#a is an array containing two coordinates of two objects
def dist_vec(a): # a like [[array1,array2,array2,array2],[],[]...]
  return sph(a[0],a[1],a[2],a[3]) # sph operates on coordinates

def vec_chunk(array_ab, bins) :
    dist = dist_vec(array_ab)
    hist, _ = np.histogram(dist, bins=bins)
    return hist

def mp_dist(array_a,array_b, d, bins): #d chunks AND processes
    def worker(array_ab, out_q):
        """ push result in queue """
        outdict = vec_chunk(array_ab, bins)
        out_q.put(outdict)
    # Each process will get 'chunksize' nums and a queue to put his out
    out_q = mp.Queue()
    a = np.swapaxes(array_a, 0 ,1)
    b = np.swapaxes(array_b, 0 ,1)
    array_size_a=len(array_a)-(len(array_a)%d)
    array_size_b=len(array_b)-(len(array_b)%d)
    a_chunk = array_size_a / d
    b_chunk = array_size_b / d
    procs = []
    '''prepare arrays for mp'''
    array_ab = np.empty((4, a_chunk, b_chunk))
    for j in xrange(d):
      for k in xrange(d):
        array_ab[[0, 1]] = a[:, a_chunk * j:a_chunk * (j + 1), None]
        array_ab[[2, 3]] = b[:, None, b_chunk * k:b_chunk * (k + 1)]
        p= mp.Process(target=worker, args=(array_ab, out_q))
        p.start()
        procs.append(p)
    for pro in procs:
      pro.join()
    # Collect all results into a single result dict. 
    resultarray = np.empty(len(bins)-1)
    for i in range(d):
        resultarray+=out_q.get() 
        #resultdict.update(out_q.get())
    return resultarray

bins = np.logspace(-3,1, num=25) #prepare x-axis for histogram
start_time = time()
hist_data = mp_dist(DATA,sim,10,bins)
print 'Total Time Elaspsed: ', time() - start_time 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T19:07:57.257

以下代码比原来的代码快 6 倍：它使用来自[http://code.google.com/p/astrolibpy/source/browse/my_utils/quick_hist.py](http://code.google.com/p/astrolibpy/source/browse/my_utils/quick_hist.py)的更快的直方图代码（因为 np.histogram 太慢了对于统一长度的箱）新代码不会创建那么多进程，使用 multiprocessing.pool 并且还避免在进程之间大量复制数据。

剩下的性能可以通过重写cython中的距离函数来获得。或者更好的是，在 cython 或 scipy.weave 中重写 dist_vec() （参见 quick_hist 代码中的示例）

```
import numpy as np,multiprocessing as mp
from time import time
import quick_hist
def sph(a, b, c, d):
    return numexpr.evaluate('log(((a - c)**2 + (b - d)**2)**.5)')

def dist_vec(a,b):
    return sph(a[:,0][:, None], a[:,1][:, None], b[:,0][None, :], b[:,1][None, :]) 

def vec_chunk(a, b, bins) :
    dist = dist_vec(a, b).flatten()
    hist = quick_hist.quick_hist( (dist,), [(bins[0], bins[-1])], [len(bins)])
    return hist

class si:
    # singleton to share read-only data between processes
    a = None
    b = None
    step = None
    bins = None

def func(l1):
    return vec_chunk(si.a[l1:l1+si.step,:], si.b, si.bins)

def mp_dist(array_a,array_b, d, bins): #d chunks 
    nproc = 8  # n processes
    si.a = array_a
    si.b = array_b
    si.step = d
    si.bins = bins
    nx = array_a.shape[0]
    lefts = np.arange(0, nx, d) #left edges of the chunks
    pool = mp.Pool(nproc)   
    results = pool.map(func, lefts)
    results = np.array(results).sum(axis=0)
    pool.close()
    pool.join()
    return results

if __name__=='__main__':
    bins = np.logspace(-3,1, num=25) #prepare x-axis for histogram
    start_time = time()
    n1 = 10000
    n2 = 10000
    DATA = np.random.uniform(size=(n1, 2))
    sim = np.random.uniform(size=(n2, 2))
    chunksize = 10
    hist_data = mp_dist(DATA, sim, chunksize, bins)

    print 'Total Time Elaspsed: ', time() - start_time 
```

# java - 利用 304 HTTP 响应从 Java 应用服务器缓存 JavaScript 中的数据是否正常

> ID：15784822
> 
> 赞同：2
> 
> 时间：2013-04-03T10:25:03.793
> 
> 标签：java, javascript, oracle, http, caching

我的应用程序广泛使用分层数据选择（分类选择），例如（但不完全是）：

```
Country
  => State
    => City
      => Street 
```

所以用户选择第一级选项，JS AJAX加载第二级，用户选择AJAX加载第三级后，依此类推......

我认为加速应用程序的一种方法是将整个层次结构加载为 JS 文件并直接使用来自 JavaScript 的数据，利用**If-Modified-Since** /* *Last-Modified* * 和**304**响应代码来缓存这个大文件（50 KiB，12 之后`gzip`）和耗时（从数据库获取 300 毫秒）数据。

我不喷气式飞机实施害怕发明轮子的技术。如果我尝试实现，我会使用以下技术......

Spring 现在支持[Last-Modified](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/mvc.html#mvc-ann-lastmodified) HTTP 1.1 标头：

```
@RequestMapping
public String myHandleMethod(WebRequest webRequest, Model model) {
    long lastModified = // 1\. application-specific calculation
    if (request.checkNotModified(lastModified)) {
        // 2\. shortcut exit - no further processing necessary
        return null;
     }
    // 3\. or otherwise further request processing, actually preparing content
    model.addAttribute(...);
    return "myViewName";
} 
```

[Oracle 允许通过ALL_TAB_MODIFICATIONS/USER_TAB_MODIFICATIONS](http://docs.oracle.com/cd/B19306_01/server.102/b14237/statviews_2097.htm)快速检查表更改：

```
select timestamps from all_tab_modifications where table_name = 'COUNTRY';
select timestamps from all_tab_modifications where table_name = 'STATE';
... 
```

在使用分层数据的 JSP 页面上，我包含 js 文件：

```
 <script src="<c:url value='js/db/units.js'/>"></script> 
```

具有完整的层次结构数据形式（像[Java DWR](http://directwebremoting.org/dwr/index.html)一样）：

```
uniqPrefix.units = {
  "USA": {
      "Alabama": { 
          "Montgomery": ["Street 1", "Street 2"],
          "Birmingham": ["Street 3", "Street 4"],
      }, ...
   "UK": { ... }
} 
```

所以 HTML`<select>`标记由 JavaScript 代码填充，`js/db/units.js`无需任何 Ajax 查询......

`js/db/units.js`在服务器端，如果`Country`, `State`, `City`,`Street`表未从用户上次访问我们的网站时修改，我们不会重新生成...

通过利用浏览器**If-Modified-Since**请求参数和**304** HTTP 服务器响应从应用程序服务器缓存数据是否正常，或者这根本是一种破坏方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-03T10:29:15.980

与任何其他 HTTP 客户端相比，Javascript 驱动的 HTTP 客户端没有什么特别之处，而您所描述的正是 304 响应的设计目的。如果数据未更改，您的应用程序*应*避免重新加载数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:28:36.490

使用缓存来避免从服务器重新检索 JS 是很正常的 - 在您的情况下这是否是一个好主意取决于页面的使用方式。如果您希望典型用户从层次结构中进行多项选择（否则需要多次 AJAX 调用），那么缓存听起来是个好主意。

从性能的角度来看，进行一次大调用通常也比进行大量小调用要好得多，对服务器的每次单独调用都有与之相关的开销 - 通过缓存所有 JS，如您所描述的，您只需支付一次此惩罚。

# mysql - MySQL 消息 #1064

> ID：15784826
> 
> 赞同：0
> 
> 时间：2013-04-03T10:25:15.570
> 
> 标签：mysql, wordpress, syntax, phpmyadmin, message

我有一个在我的网站上安装 wordpress 时创建的数据库。我已经使用这个网站一段时间了，那里有很多帖子。但是今天去查数据库的时候，打开myphpadmin就得到了这个错误信息。我该怎么办？我什至无法导出数据库。

错误信息：

```
#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PLUGINS' at line 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:27:53.243

根据[这里，看起来像 MySQL 中的一个错误](http://bugs.mysql.com/bug.php?id=62408)

我建议更新到最新版本的 MySqlServer

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T10:22:42.737

不，我不是。看来楼主做了什么。它突然开始工作。现在我有一个备份，感谢所有答案:)

# json - Go struct 表示 twitter JSON 结果

> ID：15784835
> 
> 赞同：1
> 
> 时间：2013-04-03T10:25:36.107
> 
> 标签：json, go

我已经在下面捣碎了这个 Go twitter 客户端，客户端在显示结果方面仍然需要一些工作，我想将 JSON 结果[http://pastie.org/7298856](http://pastie.org/7298856)表示为 Go 结构，我不'不需要 JSON 结果中的所有字段，任何指针？

```
package main

import (
    "fmt"
    "io/ioutil"
    "log"
    "net/http"
)

type TwitterResult struct{

}

var twitterUrl = "http://search.twitter.com/search.json?q=%23KOT"

func retrieveTweets(c chan<- string) {
    for {
        resp, err := http.Get(twitterUrl)
        if err != nil {
            log.Fatal(err)
        }

        defer resp.Body.Close()
        body, err := ioutil.ReadAll(resp.Body)
        c <- string(body)
    }

}

func displayTweets(c chan string) {
    fmt.Println(<-c)
}

func main() {
    c := make(chan string)
    go retrieveTweets(c)
    for {
        displayTweets(c)
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T00:41:02.530

该[`encoding/json`](http://golang.org/pkg/encoding/json/)包提供了一种将 JSON 直接解包到结构中的方法。以下示例解析 JSON 内容（地图）并将字段分配给由 struct 标签标识的相应目标。例如，键`"someId"`被映射到带有标签的结构字段`json:"someId"`。[你可以在这里](http://play.golang.org/p/oyvVSqcUpw)摆弄代码。

```
package main

import "fmt"
import "encoding/json"

type Example struct {
     Id    int `json:"someId"`
     Content string `json:"someContent"`
}

func main() {
    var xmpl Example

    input := `{"someId": 100, "someContent": "foo"}`

    json.Unmarshal([]byte(input), &xmpl)

    fmt.Println(xmpl)
} 
```

[您可以在文档](http://golang.org/pkg/encoding/json/#Marshal)中找到有关语法的详细信息。默认情况下忽略结构中未提及的字段。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T11:45:45.377

我发现这个[https://groups.google.com/forum/?fromgroups=#!topic/golang-nuts/dNjIs-O64do](https://groups.google.com/forum/?fromgroups=#!topic/golang-nuts/dNjIs-O64do)足以为我指明正确的方向。更新：我的代码实现

```
package main

import (
    "encoding/json"
    "fmt"
    "io/ioutil"
    "log"
    "net/http"
    "time"
)

type twitterResult struct {
    Results []struct {
        Text     string `json:"text"`
        Ids      string `json:"id_str"`
        Name     string `json:"from_user_name"`
        Username string `json:"from_user"`
        UserId   string `json:"from_user_id_str"`
    }
}

var (
  twitterUrl = "http://search.twitter.com/search.json?q=%23UCL"
  pauseDuration = 5 * time.Second
)

func retrieveTweets(c chan<- *twitterResult) {
    for {
        resp, err := http.Get(twitterUrl)
        if err != nil {
            log.Fatal(err)
        }

        defer resp.Body.Close()
        body, err := ioutil.ReadAll(resp.Body)
        r := new(twitterResult) //or &twitterResult{} which returns *twitterResult
        err = json.Unmarshal(body, &r)
        if err != nil {
            log.Fatal(err)
        }
        c <- r
        time.Sleep(pauseDuration)
    }

}

func displayTweets(c chan *twitterResult) {
    tweets := <-c
    for _, v := range tweets.Results {
        fmt.Printf("%v:%v\n", v.Username, v.Text)
    }

}

func main() {
    c := make(chan *twitterResult)
    go retrieveTweets(c)
    for {
        displayTweets(c)
    }

} 
```

该代码运行良好，我只是想知道创建一个指向结构的指针的通道是否是惯用的 Go。

# python - 检查 dynamodb 中的唯一 hash_key - python

> ID：15784836
> 
> 赞同：2
> 
> 时间：2013-04-03T10:25:37.840
> 
> 标签：python, boto, amazon-dynamodb

我正在尝试使用 boto 检查 dynamodb 中是否存在 hash_key（如果存在，我无法更新我的文件）我尝试使用查询

```
 for i in self.table.query(hask_key=[value]):
      print i['url'] 
```

但我错过了一个论点（？？？）。我尝试过扫描，但我需要检查我的 hash_key，而不是属性。

我尝试使用 get_item 但如果 hash_key 不存在，我无法管理响应。

有什么建议吗？

我玩过redis，它有exist 方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-03T11:36:12.993

与其进行查询操作，不如尝试使用`get_item`. 如果存在，该项目将被退回。如果没有，呼叫将引发`DynamoDBKeyNotFoundError`您可以接住的 a。所以，像：

```
def exists(hash_key):
    try:
        item = self.table.get_item(hash_key=<hash key>...)
    except boto.dynamodb.exceptions.DynamoDBKeyNotFoundError:
        item = None
    return item 
```

如果哈希不存在，将返回 None ，如果它确实存在，则返回该项目。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-03-07T22:12:48.093

谷歌搜索后刚刚结束了这个页面。这是2020年的更新：

API 行为已更改并返回“*项目*”或“*无*”，但不会引发异常： [https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb。 html#DynamoDB.Client.get_item](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/dynamodb.html#DynamoDB.Client.get_item)

以下是如何使用 get_item 查询单个项目的示例： [https ://boto3.amazonaws.com/v1/documentation/api/latest/guide/dynamodb.html#getting-an-item](https://boto3.amazonaws.com/v1/documentation/api/latest/guide/dynamodb.html#getting-an-item)

这个 SOF 答案解决了检查 DDB 表中是否存在项目的具体问题： [https ://stackoverflow.com/a/48589589/512155](https://stackoverflow.com/a/48589589/512155)

# arrays - 数组中的模式查找

> ID：15784840
> 
> 赞同：0
> 
> 时间：2013-04-03T10:25:43.360
> 
> 标签：arrays, algorithm, design-patterns, loops

我在 Flash 中制作了一些东西，它模拟轮盘赌中的 X 次旋转，获取每个值，确定其颜色，然后在每次颜色变化时将颜色“字符串”推入数组中（例如，如果它变为 R，R， R，B 当它击中黑色时，它将“3”推入一个数组并重新开始计数）。我要确定的是超过一定数量的旋转（例如，9 次旋转），如果它可以找到整个阵列中形成的任何特定模式。

我这样做是因为当我在两个不同的案例之间进行测试时发生了一件奇怪的事情。一种情况是`if(arr[i] > 2 && arr[i+1] < 7)`，如果任何一种颜色的持续时间超过 2 次旋转的序列被少于 7 次的序列所接替，这几乎是： `(~RRRB,~RRRBB,~RRRBBB,~RRRBBBB,~RRRBBBBB~,RRRBBBBBB)`

另一种情况是任何交替颜色的序列在达到 8 条之前就被破坏了： `(RBRR, RBRBB,RBRBRR,RBRBRBB,RBRBRBRR,RBRBRBRBB)`

平均而言，第二种情况比第一种情况发生的频率高出 20%……因为两种情况都有相同数量的案例，每个案例都有相同数量的旋转，所以统计上不应该发生，甚至考虑到0, 20% 是巨大的...我会将代码发布到下面以确保它是正确的，但这只是让我对差异感到困惑...无论如何我离题了。

基本上我只是想弄清楚9个连续数字的任何其他特定模式（基于它们的颜色，而不是值）是否会更频繁地出现。我真的不知道有什么其他方法可以解决它，而不是将它放在一个巨大的嵌套 for 循环 9 深然后检查开关中的每个结果（这绝对是巨大的，2 ^ 9 巨大......）。

```
for(
    for(
        for(
            for(
                for(
                    for(
                        for(
                            for(
                                for(
                                    switch(){ //512 cases 
```

现在我知道它是 flash，而 actionscript 可能是最糟糕的操作之一，但我正在创建一个小型应用程序，而且我对 C 或其变体的学习还不够好，无法在其他任何事情上做到这一点。我真正需要的只是一个指向我可以使用的任何特定有效快捷方式的指针。任何提示将非常感谢。

场景代码：

```
function findSequence():void
{
    for (var i = 0; i< avgNumCl.length; i++)
    {
        if (avgNumCl[i] > 2 && avgNumCl[i + 1] < 7)
        {
            sequenceArr[0]++;
        }
        if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2] == 1 && avgNumCl[i+3] == 1 &&
           avgNumCl[i+4] == 1 && avgNumCl[i+5] == 1 &&
           avgNumCl[i+6] == 1 && avgNumCl[i+7]>1)
        {
            sequenceArr[1]++;
        }
        else if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2] == 1 && avgNumCl[i+3] == 1 &&
           avgNumCl[i+4] == 1 && avgNumCl[i+5] == 1 &&
           avgNumCl[i+6]>1)
        {
            sequenceArr[1]++;
        }
        else if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2] == 1 && avgNumCl[i+3] == 1 &&
           avgNumCl[i+4] == 1 && avgNumCl[i+5]>1)
        {
            sequenceArr[1]++;
        }
        else if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2] == 1 && avgNumCl[i+3] == 1 &&
           avgNumCl[i+4]>1)
        {
            sequenceArr[1]++;
        }
        else if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2] == 1 && avgNumCl[i+3]>1)
        {
            sequenceArr[1]++;
        }
        else if (avgNumCl[i] == 1 && avgNumCl[i+1] == 1 &&
           avgNumCl[i+2]>1)
        {
            sequenceArr[1]++;
        }
    }
} 
```

# haskell - Haskell 中的 $ 函数实际上是做什么的？

> ID：15784841
> 
> 赞同：9
> 
> 时间：2013-04-03T10:25:44.663
> 
> 标签：haskell, syntax, operators, dollar-sign, haskell-prelude

我知道

```
$ :: (a->b) -> a -> b
f $ x = f x 
```

在我看来，直观地说，1\. $ 将函数的评估延迟到左侧 2\. 评估右侧的内容 3\. 将左侧的结果反馈到右侧。

这对我来说很有意义，

```
ghci> length $ [1..5]
5
ghci> ($) length [1..5]
5 
```

我不明白的是为什么，

```
ghci> ($ [1..5]) length
5 
```

从$的类型来看，它的（第一个）参数不应该是一个函数吗？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-03T10:42:06.690

这与解析有关。在 Haskell 中，您可以编写`(op arg)`where`op`是中缀运算符。这与`((op) arg)`. 你也可以写`(arg op)`！例如：

```
GHCi, version 7.0.3: http://www.haskell.org/ghc/  :? for help
Prelude> :t (+ 4)
(+ 4) :: Num a => a -> a
Prelude> :t (4 +)
(4 +) :: Num a => a -> a 
```

即是`(+ 4)`函数`\x -> x + 4`，`(4 +)`是函数`\y -> 4 + y`。在加法的情况下，这些是相等的功能，但现在这并不重要。

现在让我们尝试相同的技巧`$`：

```
Prelude> :t ($ [1,2,3,4])
($ [1,2,3,4]) :: Num t => ([t] -> b) -> b 
```

现在惊喜到目前为止，我们得到了`\f -> f $ [1,2,3,4]`. 我们也可以写

```
Prelude> :t (length $)
(length $) :: [a] -> Int 
```

获得功能`\l -> length $ l`。但是这个怎么样：

```
Prelude> :t ($ length)
($ length) :: (([a] -> Int) -> b) -> b 
```

这很奇怪，但有道理！我们得到了`\f -> f $ length`一个*函数*，它期望得到一个`f`类型的函数，该函数`([a] -> Int) -> b)`将应用于`length`。还有第四种可能：

```
Prelude> :t ([1,2,3,4] $)

<interactive>:1:2:
    Couldn't match expected type `a0 -> b0' with actual type `[t0]'
    In the first argument of `($)', namely `[1, 2, 3, 4]'
    In the expression: ([1, 2, 3, 4] $) 
```

一切都是应该的，因为`[1,2,3,4]`不是函数。如果我们写`$`在括号里呢？然后它作为中缀运算符的特殊含义就消失了：

```
Prelude> :t (($) length)
(($) length) :: [a] -> Int

Prelude> :t (($) [1,2,3,4])
<interactive>:1:6:
    Couldn't match expected type `a0 -> b0' with actual type `[t0]'
    In the first argument of `($)', namely `[1, 2, 3, 4]'
    In the expression: (($) [1, 2, 3, 4])

Prelude> :t (length ($))
<interactive>:1:9:
    Couldn't match expected type `[a0]'
                with actual type `(a1 -> b0) -> a1 -> b0'
    In the first argument of `length', namely `($)'
    In the expression: (length ($))

Prelude> :t ([1,2,3,4] ($))
<interactive>:1:2:
    The function `[1, 2, 3, 4]' is applied to one argument,
    but its type `[t0]' has none
    In the expression: ([1, 2, 3, 4] ($)) 
```

因此，要回答您的问题：`$ [1,2,3,4]`被解析为`\f -> f $ [1,2,3,4]`因此将其应用于`length`. 但是`($) [1, 2, 3, 4]`没有多大意义，因为`($)`不被视为中缀运算符。

顺便说一句，`$`“什么都不做”，可以这么说。它主要用于更具可读性的输入，因为它的优先级较低，因此我们可以编写`f $ g $ h $ x`而不是`f (g (h x))`.

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-04-03T10:30:51.927

您的问题实际上是关于所谓的操作员部分。使用 Haskell 中的任何运算符（我将`+`用作示例），您可以编写类似`(+ arg)`or的内容`(arg +)`。这些只是匿名函数`(\x -> x + arg)`和的简写语法`(\x -> arg + x)`，分别。

因此，`($ [1..5])`语法只是意味着`(\x -> x $ [1..5])`与`(\x -> x [1..5])`（即传递`[1..5]`给作为其参数传递的函数的函数）相同。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-04-03T10:30:50.393

`($ [1..5])`是一个部分。那是一个部分应用的运算符。它是 的简写`(\f -> f $ [1..5])`。

部分让您向二元运算符提供一个参数并生成一个函数 - 一个等待剩余参数的函数。

看看[http://www.haskell.org/haskellwiki/Section_of_an_infix_operator](http://www.haskell.org/haskellwiki/Section_of_an_infix_operator)

# c++ - 运算符 ++ 的正确返回类型

> ID：15784843
> 
> 赞同：2
> 
> 时间：2013-04-03T10:25:49.353
> 
> 标签：c++, operator-overloading

我正在尝试实现一个 List 和 Iterator 类（我们的作业，我们应该以 stl 样式实现我们自己的列表）。我有一个关于`++`运营商的问题。在我的实现中，`++`不返回任何内容：

```
void operator++(); 
```

但是我的一个朋友是这样实现的：

```
Iterator& operator++(); 
```

我对它们都进行了测试，似乎它们都有效。但我相信一定有很大的不同。但我是 C++ 语言的新手。所以我看不到。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:32:34.370

这里的共同约定是重载运算符应该类似于普通运算符。例如，您可以：

```
int x = 5;
int y = ++x; 
```

因此，您的迭代器确实应该在类似的上下文中可用：

```
Iterator i = smth.begin();
Iterator j = ++i; 
```

你朋友的版本允许这样做。

还有一个古老的 C 笑话：

```
++i = 0; 
```

所以是的，你`operator ++()`应该`*this`作为左值返回以允许这种东西，所以返回类型是`Iterator&`而不是`Iterator`or `const Iterator&`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:30:34.777

不同之处在于您朋友的版本可以以如下形式调用

```
// loop that skips the first element
while (++it != end)
    // perform operation 
```

`it`一些迭代器在哪里。库函数和客户端代码可能依赖于此，所以总是`*this`从重载的`operator++`. 所有标准库迭代器都以这种方式工作，对其建模的指针也是如此。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:30:57.073

不同之处在于，他的运算符可以像迭代器是指针一样使用，而您的则不能。使用指针，您可以执行以下操作：

```
char *p1, *p2;
...
p1 = ++p2; 
```

为使其与迭代器一起使用，`++`运算符必须在增量之前（或之后）返回值，具体取决于运算符的前置或后置位置。您的实现不会那样做。尽管从技术上讲它是可以的，但结果运算符并没有那么实用，因此最好更改您的实现以返回一个值。

# android - 在 Android/Cordova/Knockout 中使用数字输入捕获“Enter”键

> ID：15784850
> 
> 赞同：6
> 
> 时间：2013-04-03T10:26:21.607
> 
> 标签：android, cordova, knockout.js

我正在使用 Cordova/PhoneGap 2.5.0、Knockout 2.1.0 和 jQuery Mobile 1.3.0 创建一个 Android 应用程序。

我创建了一个“数字”类型的输入，这个输入是数据绑定的，它的值是 Knockout。它还数据绑定到按键事件。我打算抓住用户`enter`按键。

```
<input type="number" data-bind="value: $root.myInputValue, event: { keypress: $root.myInputKeypress }" min="0" step="1" max="29">

self.myInputKeypress = function() {
    var keyCode = (event.which ? event.which : event.keyCode);

    alert(keyCode);

    if (keyCode === 13) {
        //Do work here

        return false;
    }

    return true;
}; 
```

当我按下允许的键（例如数字）时，代码会按预期运行，并且按下的键代码会收到警报。当我按下`enter`键盘时没有任何反应，似乎 Android 正在抑制它认为不相关的键的事件。

有没有办法改变这种行为，以便我可以捕捉到用户的点击`enter`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-07-08T07:46:21.607

如果您使用的是**Ionic/Angular**

```
<input ng-keypressed="myKeyPressed($event)" ng-model="myField">

self.myKeyPressed = function(keyEvent) {
    if(keyEvent.keyCode == 13) //do things
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-26T11:36:33.870

嗨把你的文本框放在表单标签中

```
 <form id="Articleform" name="Article">
                          <input type="number" data-bind="value: $root.myInputValue, event: { keypress: $root.myInputKeypress }" min="0" step="1" max="29">
                        </form> 
```

并添加事件表单提交标签

```
$(document).ready(function () {
    $("#Articleform").on('submit', function (event) {
        alert("enter");
        return false;
    }); 
```

当您单击 go 时，警报已打开

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-26T10:58:14.900

试试这个可以在你的情况下使用 jquery mobile

```
$('.ui-input-text').live('keyup', function(event) {
if (event.keyCode == 13) {
    // 'Go' pressed do something
}}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-12T11:58:26.773

我有同样的问题，问题是数字字段，我的设备上的输入键码是 9，在模拟器上是 13。

这对我有用：

```
$('.ui-input-text').live('keyup', function(event) {
if (event.keyCode == 9) {
    // 'Go' pressed do something
}}); 
```

# php - Wordpress 菜单：菜单项由最新项优先添加

> ID：15784852
> 
> 赞同：1
> 
> 时间：2013-04-03T10:26:23.723
> 
> 标签：php, wordpress

再会

我正在使用 wordpress 主题，主题正在添加菜单项并忽略 Wordpress 菜单编辑器。它添加菜单的方式是这样的：

它将所有页面添加到菜单中，并按照添加页面的顺序-因此，如果您希望第一个菜单项位于最后，则必须删除其页面，然后再次添加-然后它将显示为最后一个菜单项.

如何防止这种情况发生并控制我的菜单项？

相关代码 - 包含托管菜单项的“ul.dropdown”的所有位置出现：

**函数.php**：

```
// Add ID and CLASS attributes to the first <ul> occurence in wp_page_menu
function add_menuclass($ulclass) {
return preg_replace('/<ul>/', '<ul class="reset dropdown">', $ulclass, 1);
} 
```

和

**dropdown.php** - 整个文件

```
<?php wp_nav_menu(array( 'theme_location'  => 'primary', 'sort_column' => 'menu_order', 'menu_class' => 'nav-menu', 'container_class' => 'nav-menu',) ); ?>

<div class="clear"></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:47:25.687

我假设您正在运行 WprdPress 3.0 或更高版本。对于初学者，您应该`add_theme_support( 'menus' );`在`functions.php`文件中包含这告诉 WordPress 主题支持自定义菜单。

然后为了显示您的菜单，您实际上会指示 WordPress 使用该菜单。使用类似于以下内容的内容。您需要在希望菜单出现的任何位置添加以下代码。

```
<?php wp_nav_menu( array( 'sort_column' => 'menu_order', 'container_class' => 'menu-header' ) ); ?> 
```

`wp_nav_menu`是工作的主要功能。参数`sort_column`告诉 WordPress 遵循您在选项面板中选择的顺序，并且参数`container_class`指的是您分配给菜单的 CSS 类。

请注意，如果您使用多个菜单（例如，您可能希望有页眉和页脚菜单），您需要让 Wordpress 知道如何识别有问题的菜单。您可以通过使用以下参数或指定菜单 ID `$id`、菜单 slug 或菜单名称来完成此操作。`$slug``$menu`

我希望这会有所帮助。如果您想了解更多有关此的信息，[Wordpress Codex](http://codex.wordpress.org/Function_Reference/wp_nav_menu)是一个很好的起点。

问候，伊恩

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:30:40.933

有没有机会成为你拥有的插件？

在wordpress中上传也有一些问题，你必须小心。

您使用任何 ftp 还是在 wordpress 的编辑器中进行更改？

# hadoop - 如何在 hadoop-1.0.4 中禁用作业设置和作业清理任务

> ID：15784860
> 
> 赞同：0
> 
> 时间：2013-04-03T10:26:54.050
> 
> 标签：hadoop, mapreduce

在我的 Java 代码中，我想删除这些任务，因为我认为它们在我的程序中浪费了太多时间。我尝试使用 XML 文件，但它不起作用：

```
 <property>
<name>mapreduce.job.committer.setup.cleanup.needed</name>
<value>false</value> 
```

请帮助我知道如何以任何方式做到这一点？我认为2个任务是没有必要的。这样对吗？？谢谢大家！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T18:18:29.217

我相信您没有在 mapred-config.xml 中正确使用/设置属性。您可以尝试以下两件事：

**1）** 覆盖`OutputCommitter`类并且在和方法中*什么都不做。*`setupJob``cleanupJob`

```
public static class NoSetupCleanupOutputCommitter extends OutputCommitter {
    @Override
    public void setupJob(JobContext jobContext) { }
    @Override
    public void cleanupJob(JobContext jobContext) { }
} 
```

然后在您的 中进行设置`run()`，如下所示：

```
conf.setOutputCommitter(NoSetupCleanupOutputCommitter.class); 
```

**2）**您可以尝试在您的Java代码中设置配置，如下所示：

```
//either one of the following configs should do according to the hadoop's version:    
conf.setBoolean("mapred.committer.job.setup.cleanup.needed", false);
conf.setBoolean("mapreduce.job.committer.task.cleanup.needed", false); 
```

# c++ - 应用来自 N 的一系列操作以获得值 M

> ID：15784861
> 
> 赞同：4
> 
> 时间：2013-04-03T10:26:57.413
> 
> 标签：c++, algorithm, language-agnostic

这是家庭作业！请不要给我解决方案，只是一个提示！

问题是应用从 N 开始的一系列运算来找到 M。输入是 6 个数字：A、B、C、D、N、M，其中 A 对应于加法，B 对应于减法，C 对应于乘法，D 对应于分配。这是一个例子：

```
10 4 2 3
21 32 
```

我们将尝试使用这些操作从 21 开始找到数字 32

```
ADD 10     // "A" number
SUB 4      // "B" number
MUL By 2   // "C" number
DIV By 3   // "D" number 
```

可能的答案是：

```
32 = ((((21 * 2) + 10) - 4) / 3) * 2 
```

`1`如果有操作序列，则程序输出，否则`0`。有人可以给我一个提示如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:51:19.600

您可以进行某种[图形搜索](http://en.wikipedia.org/wiki/Graph_traversal)，但有四个数字和四个可能的操作来执行这些数字，每个节点将有 16 个分支，并且它可能会很快变大。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T14:14:32.600

似乎最大的问题将是确定是否没有答案。如果 GCD(A, B) 为 1，则答案为 1，因为这意味着有一个序列`ADD A`and`SUB B`操作将源值递增或递减 1，所以如果你重复这个序列足够多次，你将达到任何数字从任何其他号码。如果它不是 1，并且您的 DIV 操作将值四舍五入，则搜索您是否可以`target mod GCD(A,B)`使用所有 4 个操作达到值。该值应该相当小，因此您可以进行上述图形搜索，通过 AND 相等分支裁剪下一步的结果，这些`mod LCM(A,B)`分支产生模 GCD(A,B) 操作的相等值。所以，如果你会达到一个等于`target mod GCD(A,B)`，您可以输出 1，如果没有达到，则输出 0。图游走最终将停止，因为`(0, LCM(A,B)-1)`区间中有固定数量的不同值，如果编程正确，将满足内存和时间要求。

是的，您必须注意特殊情况，例如 A=0、B=0、C=1 或 D=1。例如，序列`0 3 1 3 81 5`将产生 1，而`0 3 1 3 81 29`产生 0。 编辑：修改了裁剪中的模数，并发布了正确的 A 和 B 缩写函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T10:39:54.183

如果您使用多态函子进行操作并继续尝试，您可以用蛮力解决这个问题。不过，您需要一个良好的中断标准（例如将应用操作的数量限制为 10 或类似的东西）。

关于函子的答案：[C++ 函子 - 及其用途](https://stackoverflow.com/questions/356950/c-functors-and-their-uses)

多态性应该可以在网络上找到。

例子：

```
class operation {
public:
    enum TYPE { ADD = 0, SUB };

    virtual int operator()(int left, int right) = 0;
}

class add : public operation {
public:
    int operator()(int left, int right) {
        return left + right;
    }
}

class sub : public operation {
public:
    int operator()(int left, int right) {
        return left - right;
    }
}

int main() {
    std::vector<operation*> foo;
    foo[0] = new add();
    foo[1] = new sub();
    foo[2] = new add();

    int bar = 21;
    for (auto& op : foo) {
        bar = (*op)(bar, 2);
        std::cout << bar << std::endl;
    }
} 
```

这些类是函子。使用这样的构造，您可以将算法或基本操作视为变量，您可以分配或随机化或随机化或任何您喜欢的。由于从操作中继承了所有相同的接口，他们都知道是什么`()`意思，但行为不同。

拥有这样的东西可以让您存储和回溯使用过的操作，并通过排列进行简单的循环。当你这样做时，你应该知道，你应该限制每组可能的最大操作组合的数量，否则你会遇到无限循环/递归。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-11T07:33:53.983

此答案基于 math.stackexchange 上此问题的公认答案：

[https://math.stackexchange.com/questions/354625/how-to-compose-given-add-sub-mult-div-functions-to-map-an-integer-m-to-n](https://math.stackexchange.com/questions/354625/how-to-compose-given-add-sub-mult-div-functions-to-map-an-integer-m-to-n)

给定六个输入（a、b、c、d、M、N）

*   a：我们可以添加的数字
*   b：我们可以减去的数字
*   c：我们可以乘的数
*   d：我们可以除的数
*   M：起始编号
*   N：结束编号

我假设它们都是整数，并且a> 0，b> 0，c可以是正数或负数，d不等于0。

然后有一种方法可以通过应用 add、sub、mult、div 将 M 转换为 N，

当且仅当

存在整数 m 和 n 使得

![M*(c^m) 等价于 N*(d^n) 所有 mod gcd(a,b)](https://i.stack.imgur.com/WuFlJ.png)

因此，首先要做的是找到 a 和 b 的最大公约数（我推荐[这里](http://www.algorithmbase.com/4/euclid-gcd-greatest-common-divisor-in-c/)描述的欧几里德算法。将 gcd 称为“g”。

mod应用于双方以验证相等性。

因此，开始列出左侧对于不同 m 可以取的可能值：

(M*( Pow(c,m) )) % g

然后，开始列出右侧对于不同 n 可以取的可能值：

(N*( Pow(d,n) )) % g

您将希望从零开始 m 和 n 并逐步向上。

最终，双方将开始重复，因为您正在使用 mod。

如果您在任何时候找到匹配项，即左侧等于某个右侧，则返回 1。

否则，一旦您用尽了所有左手值和右手值，没有匹配项，则返回 0。

请注意，C++ 中的 mod 运算符 (%) 对于负数的行为确实与上述数学描述的不同。您需要将 mod 的结果调整为始终在 0 <= result < g 范围内

最后，这仅适用于除法根据正常数学进​​行的情况，即 3 / 2 = 1.5 等等。

在您的情况下，您需要稍微修改公式以接受整数除法。特别是等式的右手边处理除法。有点像下面的等式是如何工作的，我们可以取一个除法，把它移到另一边，它就变成了一个乘法。

x / 3 = 1

x = 1*3

每次对 d 执行电源时，您都需要允许 rhs 取多个值。例如，在上面的例子中，我们需要让 1*3 等于 3,4 或 5。

所以，如果 d = 3，那么

*   Pow(d,0) = 1。
*   Pow(d,1) = 3 或 4 或 5。
*   Pow(d,2) = 9 或 10 或 11 或 12 或 13 或 14 或 15 或 16 或 17

您将看到 9 = 3*3、12 = 4*3 和 15 = 5*3。因此，即使对于不同的 d 值，该模式也应该易于复制。

我还没有尝试过最后一部分，所以我不完全确定这是否完全涵盖了整数除法的所有情况，但我认为确实如此，尽管它有点乏味。

# c# - JPG ImageBrush ImageSource 值不在预期范围内

> ID：15784866
> 
> 赞同：0
> 
> 时间：2013-04-03T10:27:17.653
> 
> 标签：c#, wpf, image

我已经为此苦苦挣扎了很长一段时间，在 SO 和 Google 上到处寻找，但没有成功。
我想在一些简单的窗口中显示背景图像（多么雄心勃勃！）

```
<Window x:Class="HelloWorld_Lite.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None" ResizeMode="NoResize"
        Title="Hello World" Height="350" Width="525">
    <Window.Background >
        <ImageBrush ImageSource="HelloWorld-Lite;component/Background.jpg" />
    </Window.Background>
    <Grid>
    <Label Content="Hello World!" Height="28" HorizontalAlignment="Left" Margin="225,30,0,0" Name="label2" VerticalAlignment="Top" />
    </Grid>
</Window> 
```

图像已添加到项目中（添加 > 现有项目）并构建为“资源”
，我进行了清理和重建，但这件事仍然让我很紧张。

**请告诉我我错过了一些明显的东西**

**编辑**：将文件保存为 PNG 格式解决了问题（？）。PNG 大小 = 2Mb，JPG 大小 = 360k。
如果这是一个限制，那就太荒谬了。

**编辑 2**：将原始 JPG 从 1280x853 调整为 480x320 也解决了这个问题。
因此，它看起来像是 JPG 格式特有的大小限制。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T15:11:38.303

根据上面的迭代过程，可以进行两个修复

**1) 通过将图像转换为 PNG 格式来保留文件大小**
**2) 通过减小图像大小来保留 JPG 格式**

# c# - 如何强制所有 WPF 窗口大小相同

> ID：15784873
> 
> 赞同：0
> 
> 时间：2013-04-03T10:27:33.693
> 
> 标签：c#, wpf, window, dimensions

我有一个有多个窗口的应用程序。当我从一个窗口移动到另一个窗口时，所有其他窗口都被隐藏了。

我遇到的问题是当我从处于“已恢复”状态的窗口 A 开始时（即未最大化）。然后我打开窗口 B 并最大化它。当我关闭窗口 B 并返回窗口 A 时，我希望窗口 A 处于与我设置窗口 B 相同的最大化状态。

有没有一种方便的方法可以做到这一点，或者我是否必须在每个窗口的尺寸发生变化时触发事件，以便可以通知其他窗口并相应地调整大小？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:30:40.323

查看`WindowState`关闭窗口的属性并将其设置为即将显示的窗口。

可以在[此处](http://msdn.microsoft.com/en-GB/library/system.windows.windowstate.aspx)找到可能的值，但应该只是以下情况：

```
window2.WindowState = window1.WindowState; 
```

**操作编辑：**

这行得通。这是我围绕这个建议构建的简单解决方案：

```
public static class WindowStateManager
{
    public static WindowState _state;
    private static double _height;
    private static double _width;
    private static double _left;
    private static double _top;

    public static void SetState(this Window window)
    {
        _state = window.WindowState;

        _height = window.Height;
        _width = window.Width;
        _left = window.Left;
        _top = window.Top;
    }

    public static void ApplyState(this Window window)
    {
        window.WindowState = _state;

        window.Height = _height;
        window.Width = _width;
        window.Left = _left;
        window.Top = _top;
    }

} 
```

对于我有兴趣将其应用到的每个窗口，我只需将以下内容添加到构造函数中：

```
this.Activated += (s, a) => this.ApplyState();
this.LocationChanged += (s, a) => this.SetState(); 
```

# powershell - PowerShell根据内容替换文本文件中的多个元素

> ID：15784878
> 
> 赞同：0
> 
> 时间：2013-04-03T10:27:49.710
> 
> 标签：powershell, powershell-3.0

在此先感谢您的时间。

我是 PowerShell 的新手，试图编写一个脚本，它可以搜索一堆文本文件并挑选出某些元素，然后用这些来替换其他元素。以下是内容示例：

```
OrderLine="0002" <Image>11770060002_outside.jpg</Image><Image>11770060002_inside.jpg</Image>
OrderLine="0003" <Image>11770060003_outside.jpg</Image><Image>11770060003_inside.jpg</Image> 
```

所以我想要做的是逐步完成，选择“OrderLine”值并将其放入变量中，然后替换“Image”值 - 仅显示预期输出可能比尝试解释它更容易！

```
OrderLine="0002" <Image>11770060002.pdf</Image>
OrderLine="0003" <Image>11770060003.pdf</Image> 
```

如您所见，文件名已被替换，并且名称的结尾与 OrderLine 相同。文件中可能只有一个订单行，或者可能有 150 个订单行，但规则始终相同。

我知道它看起来像 XML，但它是无效的（不要问）所以它不会像这样解析，需要是基于文本的解决方案。

任何帮助感激不尽！

编辑：这是我到目前为止所拥有的，这可行，但它从文件名中获取值（与文件中的第一个条目相同，即 0001），因此它仅适用于具有单个订单的文件。我需要更新例程以处理上述多个 OrderLine 条目。

```
$File_Folder = "C:\PSTEST\TEST\"
$Output_Folder = "C:\PSTEST\TEST\OUTPUT\"

$array = Get-ChildItem $File_Folder\*.xml

foreach($item in $array){

$xml_filename = $item.FullName.substring($File_Folder.Length)

$just_filename = $xml_filename -replace ".xml", ""
$just_filename = $just_filename -replace "Order_PO", ""

$replace_outside_original = '<image>' + $just_filename + '_outside.jpg</Image>'
$replace_outside_with = '<image>' + $just_filename + '.pdf</image>'

$replace_inside_original = '<image>' + $just_filename + '_inside.jpg</Image>'
$replace_inside_with = ''

$destination_file = $Output_Folder + 'Order_PO' + $just_filename + '.xml'

(Get-Content $File_Folder\$xml_filename) | Foreach-Object {
    $_ -replace $replace_outside_original, $replace_outside_with `
       -replace $replace_inside_original, $replace_inside_with `
    } | Set-Content $destination_file
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:15:08.253

成功！没有 mjolinor 的帮助，我无法做到这一点，非常感谢您花时间帮助我，我真的很感激。

最后，我通过替换一个然后运行并执行另一个来实现它，我认为这是输出真/假的匹配语句，我没有解决它的技能。这种方式不是最干净的，但它完成了工作：

```
$File_Folder = "C:\PSTEST\TEST\"
$regex  = '<Image>\d+_inside.jpg</Image>'
$array = Get-ChildItem $File_Folder\*.xml | ForEach-Object { (Get-Content $_) -replace '_outside\.jpg','.pdf' | Set-Content -path $_ }
$array = Get-ChildItem $File_Folder\*.xml | ForEach-Object { (Get-Content $_) -replace $regex,'' | Set-Content -path $_ } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:28:16.147

使用正则表达式：

从您需要匹配的行之一开始：

OrderLine="0002" 11770060002_outside.jpg11770060002_inside.jpg

用正则表达式元字符替换可变部分。在这种情况下，变量数据是数字：

```
$regex  = 'OrderLine="\d+" <Image>\d+_outside.jpg</Image><Image>\d+_inside.jpg</Image>' 
```

然后为要保留的部分添加分组括号：

```
$regex  = '(OrderLine="\d+" <Image>\d+_outside.jpg</Image>)<Image>\d+_inside.jpg</Image>' 
```

然后使用 -match 过滤掉与正则表达式匹配的行，使用 -replace 与对捕获组的反向引用进行修剪，并使用另一个 replace 替换文本的文字部分，然后将结果输出到另一个文件。

```
(get-content file.txt) -match $regex -replace $regex,'$1' -replace '_outside\.jpg','.pdf' |
 set-content newfile.txt 
```

# ruby-on-rails - Rails 邮件程序 PDF 附件损坏

> ID：15784881
> 
> 赞同：1
> 
> 时间：2013-04-03T10:27:51.810
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在我的一个邮件程序中，我有这种方法可以发送附有 pdf 的电子邮件：

```
def send_offer(customer, ip)
    @customer = customer
    attachments['offer.pdf'] = {
      :encoding => 'base64',
      :content  => Base64.encode64(File.read(Rails.root.join('app', 'assets', 'images', 'offer.pdf')))
    }
    mail(:to => "mail@example.com",
         :from => "mail@example.com",
         :body =>"this tag is important when do any attachment",
         :subject => "#{@customer[:name]} Offer")
end 
```

电子邮件已发送，但当我打开它时，附件的 PDF 已损坏。文件大小为`670 bytes`.

原始PDF是`263 KB (269.485 byte)`

这个怎么可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-04T05:20:23.853

我遇到了同样的问题，[这里](https://stackoverflow.com/questions/3997725/how-to-attach-xls-files-to-email-when-sending-from-rails-and-not-getting-the-at)的解决方案帮助我解决了这个问题：

```
attachments[file_name] = File.open(file_location, 'rb'){|f| f.read} 
```

# iis - 无法让我的证书在 IIS 7.5 中工作

> ID：15784885
> 
> 赞同：1
> 
> 时间：2013-04-03T10:28:01.230
> 
> 标签：iis, windows-server-2008, ssl-certificate

我最近收到了一个 pfx 文件形式的通配符服务器证书。我将服务器证书安装到 mmc 中，并从 iis 中选择了它。然后我将此证书绑定到一个网站。我已将其绑定在所有未分配的 443 上，并将域放在主机标头中。

在 mmc 下，证书的友好名称是“*.mydomin.org.uk”

为了允许访问应用程序池，我运行了 winhttocertcfg.exe -g -a "servername\app-pool" -c LOCAL_MACHINE\My -s "*.mydomin.org.uk"

这似乎有效，但每次我尝试访问该网站时，页面都会超时，我根本没有得到任何回应。

我需要能够访问站点 beta.mydomain.org.uk 但由于某种原因它没有响应

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:50:45.830

您具体在哪里安装证书？如果您在当前用户的个人证书下安装它，那将无法正常工作。

打开 MMC 添加这两个管理单元，看看是不是这样。

![在此处输入图像描述](https://i.stack.imgur.com/ix1yQ.jpg)

还要确保你检查了其他东西，比如防火墙上的端口等等。

# java - jackson 1.9.x 使用自定义注解进行反序列化

> ID：15784889
> 
> 赞同：3
> 
> 时间：2013-04-03T10:28:12.827
> 
> 标签：java, json, jackson

我有一个注释来指示 json 属性名称

```
public @interface ApiField {

        /**json property name*/
        public String value() default "";

    } 
```

还有这样的课

```
public class User{
   @ApiField("last_name") 
   String lastName;
   public String getLastName(){...}

   public void setLastName(String lastName){...}
} 
```

json字符串是

```
{"last_name":"bob"} 
```

> 如何使用此注释来指示属性名称而不是 @JsonProperty ？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T12:47:38.860

您可以使用 a`AnnotationIntrospector`来实现此目的

ApiAnnotationIntrospector

```
import java.lang.annotation.Annotation;

import org.codehaus.jackson.Version;
import org.codehaus.jackson.Versioned;
import org.codehaus.jackson.map.AnnotationIntrospector;
import org.codehaus.jackson.map.JsonDeserializer;
import org.codehaus.jackson.map.KeyDeserializer;
import org.codehaus.jackson.map.annotate.JsonSerialize.Typing;
import org.codehaus.jackson.map.introspect.Annotated;
import org.codehaus.jackson.map.introspect.AnnotatedClass;
import org.codehaus.jackson.map.introspect.AnnotatedConstructor;
import org.codehaus.jackson.map.introspect.AnnotatedField;
import org.codehaus.jackson.map.introspect.AnnotatedMethod;
import org.codehaus.jackson.map.introspect.AnnotatedParameter;
import org.codehaus.jackson.type.JavaType;
import org.codehaus.jackson.util.VersionUtil;

public class ApiAnnotationIntrospector extends AnnotationIntrospector implements
        Versioned {

    @Override
    public Version version() {
        return VersionUtil.versionFor(getClass());
    }

    @Override
    public boolean isHandled(Annotation ann) {
        Class<?> cls = ann.annotationType();
        if (ApiField.class == cls) {
            return true;
        }
        return false;
    }

    @Override
    public String findRootName(AnnotatedClass ac) {
        return null;
    }

    @Override
    public String[] findPropertiesToIgnore(AnnotatedClass ac) {
        return null;
    }

    @Override
    public Boolean findIgnoreUnknownProperties(AnnotatedClass ac) {
        return null;
    }

    @Override
    public boolean isIgnorableMethod(AnnotatedMethod m) {
        return false;
    }

    @Override
    public boolean isIgnorableConstructor(AnnotatedConstructor c) {
        return false;
    }

    @Override
    public boolean isIgnorableField(AnnotatedField f) {
        return false;
    }

    @Override
    public Object findSerializer(Annotated am) {
        return null;
    }

    @Override
    public Class<?> findSerializationType(Annotated a) {
        return null;
    }

    @Override
    public Typing findSerializationTyping(Annotated a) {
        return null;
    }

    @Override
    public Class<?>[] findSerializationViews(Annotated a) {
        return null;
    }

    @Override
    public String[] findSerializationPropertyOrder(AnnotatedClass ac) {
        return null;
    }

    @Override
    public Boolean findSerializationSortAlphabetically(AnnotatedClass ac) {
        return null;
    }

    @Override
    public String findGettablePropertyName(AnnotatedMethod am) {
        return null;
    }

    @Override
    public boolean hasAsValueAnnotation(AnnotatedMethod am) {
        return false;
    }

    @Override
    public String findEnumValue(Enum<?> value) {
        return null;
    }

    @Override
    public String findSerializablePropertyName(AnnotatedField af) {
        return getPropertyName(af);
    }

    @Override
    public Object findDeserializer(Annotated am) {
        return null;
    }

    @Override
    public Class<? extends KeyDeserializer> findKeyDeserializer(Annotated am) {
        return null;
    }

    @Override
    public Class<? extends JsonDeserializer<?>> findContentDeserializer(
            Annotated am) {
        return null;
    }

    @Override
    public Class<?> findDeserializationType(Annotated am, JavaType baseType,
            String propName) {
        return null;
    }

    @Override
    public Class<?> findDeserializationKeyType(Annotated am,
            JavaType baseKeyType, String propName) {
        return null;
    }

    @Override
    public Class<?> findDeserializationContentType(Annotated am,
            JavaType baseContentType, String propName) {
        return null;
    }

    @Override
    public String findSettablePropertyName(AnnotatedMethod am) {
        return null;
    }

    @Override
    public String findDeserializablePropertyName(AnnotatedField af) {
        return getPropertyName(af);
    }

    @Override
    public String findPropertyNameForParam(AnnotatedParameter param) {
        return null;
    }

    private String getPropertyName(AnnotatedField af) {
        ApiField annotation = af.getAnnotation(ApiField.class);
        if (annotation != null && annotation.value() != "") {
            return annotation.value();
        }
        return null;
    }

} 
```

然后按如下方式更改您的 ObjectMapper

```
ObjectMapper mapper = new ObjectMapper();

AnnotationIntrospector primary = new ApiAnnotationIntrospector();
AnnotationIntrospector secondary = new JaxbAnnotationIntrospector();
AnnotationIntrospector pair = new AnnotationIntrospector.Pair(primary,
        secondary);

mapper.getDeserializationConfig().setAnnotationIntrospector(pair);
mapper.getSerializationConfig().setAnnotationIntrospector(pair); 
```

我的测试

```
public static class Type {
    private String code;

    private String description;

    @ApiField("raw-value")
    private String value;

    public Type() {
    }

    public Type(String code, String description, String value) {
        super();
        this.code = code;
        this.description = description;
        this.value = value;
    }

    public String getCode() {
        return code;
    }

    public void setCode(String code) {
        this.code = code;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

} 
```

和测试用例

```
Type t = new Type("c", "d", "e");
StringWriter sw = new StringWriter();
mapper.writeValue(sw, t);
System.out.println(sw.toString()); 
```

输出

```
{"code":"c","description":"d","raw-value":"e"} 
```

# wordpress - 红帽 OpenShift Pass 上的 WordPress .htaccess

> ID：15784892
> 
> 赞同：2
> 
> 时间：2013-04-03T10:28:20.897
> 
> 标签：wordpress, .htaccess, openshift

我正在 OpenShift 上使用 Wordpress 开发一个网站。一切都很好，除了我的 .htaccess 文件。每次我使用 Git 推送代码时，.htaccess 文件都会变为空白。即使我通过 Git 从我的计算机推送一个 .htaccess 文件。**这意味着每次**通过 Git 推送更改时，我都必须重新配置漂亮的永久链接。

我尝试通过 SSH 连接到目录中的服务器`/var/lib/stickshift/xxxxxxxx/app-root/repo/php`- 实际上，在我推送任何代码之前，.htaccess 文件已正确填充。在我通过 Git 推送任何内容的那一刻（即使这包括我计算机中的 .htaccess 文件），该文件也是空白的。

我想知道 - 也许 OpenShift 是否将 .htaccess 文件存储在其他地方？但如果是这样，为什么每次我推送新代码时它都会重新设置？

如果可能的话，我不想将 .htaccess 文件移动到我无法通过 Git 访问的位置 - 因为它可能需要在将来更新。

如果有人遇到此问题并找到解决方案，将不胜感激任何帮助/见解。

问候，

伊恩

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T17:59:24.863

昨天我在 OpenShift 上使用 Wordpress Multisite 并使用 .htaccess 来配置子目录功能。在本地的 git repo 中，我在 git_repo/php 目录下创建了 .htaccess 文件；混帐添加 .; 混帐提交；git push 并在文件保持完整之后出现。似乎还有其他东西正在覆盖您的 .htaccess？你在使用 OpenShift action_hooks 吗？

可以肯定的是，我创建了一个简单的 php 应用程序并使用了 .htaccess - 这里也没有擦除内容。你为什么不测试一下呢？如果问题仍然存在，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-17T19:50:55.067

如果您使用 OpenShift 的默认 wordpress，它现在是自动的。
只需将 .htaccess 文件创建（和 git add）到您的 .openshift/config 目录。
部署 action_hook 将在部署时将其复制到正确的目录 (/app-root/data/current)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-09-07T18:23:09.927

尝试将 .htaccess 文件放入 git ignore

# cxf - 由于 WS 策略，SAMLToken（签名）请求失败

> ID：15784913
> 
> 赞同：0
> 
> 时间：2013-04-03T10:29:14.090
> 
> 标签：cxf, ws-security, saml-2.0

我正在使用 UsernameToken 或 SAMLToken (Signed) 实现备用身份验证。我在我的 wsdl 中配置了以下策略：

```
 <wsp:Policy wsu:Id="DoubleItPlaintextPolicy">
            <wsp:ExactlyOne>     
                    <wsp:All>
                            <sp:SupportingTokens xmlns:sp="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702">
                                    <wsp:Policy>
                                            <sp:SamlToken sp:IncludeToken="http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702/IncludeToken/AlwaysToRecipient">
                                                    <wsp:Policy>
                                                            <sp:WssSamlV20Token11/>
                                                    </wsp:Policy>
                                            </sp:SamlToken>
                                    </wsp:Policy>
                            </sp:SupportingTokens>       
                    </wsp:All>
                    <wsp:All>       
                            <sp:SupportingTokens>
                                    <wsp:Policy>
                                            <sp:UsernameToken>
                                                    <wsp:Policy>
                                                            <sp:HashPassword/>
                                                    </wsp:Policy>
                                            </sp:UsernameToken>       
                                    </wsp:Policy>
                            </sp:SupportingTokens>
                    </wsp:All>     
            </wsp:ExactlyOne>
    </wsp:Policy> 
```

另外，我已经在 spring beans 文件中配置了后端验证器。我可以使用 UsernameToken 接收请求。但是，SAMLToken 请求失败并出现以下错误：

```
<faultstring>These policy alternatives can not be satisfied:{http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}SupportingTokens {http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}SamlToken {http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}UsernameToken</faultstring> 
```

以下是我正在尝试处理的示例请求：

[http://shortText.com/SNzXMB](http://shortText.com/SNzXMB)

有人可以让我知道处理此类请求的正确政策吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T03:27:03.237

我使用的 CXF-2.4 似乎与 Policy Alternates 有一些问题。当我升级到 CXF-2.7 时，上面的政策片段有效

# php - 列表结果的条件错误

> ID：15784916
> 
> 赞同：0
> 
> 时间：2013-04-03T10:29:16.710
> 
> 标签：php, wordpress, if-statement

首先为可能是一个愚蠢的问题道歉。我是 Wordpress 和 PHP 的新手，所以我已经不知所措了。我担心 list-categories-posts/default.php 中的这部分代码，它检查是否有结果，如果没有则给出错误：

```
if ( count( $this->catlist->lcp_categories_posts) == 0 )
{
  $lcp_display_output .= '<li>No results</li>';
} 
```

当没有结果*但*在特定类别（“新闻”）中时，我只需要一个不同的错误。我修改了错误代码，但得到了相同的结果。

```
if ( count( $this->catlist->lcp_categories_posts) == 0 )
{
  if ( in_category( 'news' )) {
    $lcp_display_output .= '<li>No news results</li>';
  } else {
    $lcp_display_output .= '<li>No results</li>';
  }
} 
```

我正在尝试过滤错误，但它似乎根本没有评估类别。它总是落在最后一个`else`语句。

我真的需要一些帮助...叹息。

[http://wordpress.org/extend/plugins/list-category-posts/](http://wordpress.org/extend/plugins/list-category-posts/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T11:00:30.500

您在这里所做的是首先检查`lcp_categories_posts`if 是否为空，然后检查它是否在 category 中`news`。

我认为这总是错误的，因为`lcp_categories_posts`它将是空的，因此它不属于任何类别。

因此，您对类别的检查应该去其他地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:34:32.733

我发现生成错误的插件将 category_id 保持为私有，但我发现了另一种方式：

```
if( count( $this->catlist->lcp_categories_posts) == 0 )
{      
    if ( $this->catlist->get_category_id() == get_cat_id("news") ) 
    {
        $lcp_display_output .= '<li>No News Results</li>';            
    } 
    else
    {
        $lcp_display_output .= '<li>No results</li>';    
    }    
} 
```

# jquery - jQuery循环遍历页面上的多个项目

> ID：15784918
> 
> 赞同：0
> 
> 时间：2013-04-03T10:29:37.570
> 
> 标签：jquery

所以我有一个页面根据隐藏输入内的时间在表格中运行倒计时脚本。

每个输入都有一个单独的 id “id="time_x"，其中 x 从 1 增加。

然后每个都将计时器运行到 div 中。

我的问题是如何循环并选择输入列表，以便每个输入都能够将 id 提供给调用计时器的 jquery 函数。

例如

```
<input ..... id="time_1" value="1000"/>
<input ..... id="time_2" value="2000" /> 
```

如何选择所有输入，获取值，然后将其传递给正确的 div。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:34:02.793

为每个元素使用一个新的元素类：

```
<input class="item" id="time_1" value="1000"/>
<input class="item" id="time_2" value="2000"/>
<input class="item" id="time_3" value="3000"/>

$.each($('.item'),function(){
 console.log($(this).attr('id')); 
}); 
```

或者如果你想捕获输入值更容易：

```
$.each($('.item'),function(){
     console.log($(this).attr("value"));
    }); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T10:34:35.100

试试这个

```
$('input').each(function(v,i){
    console.log($(this).attr('id'));
}); 
```

注意：这将遍历文件中的所有输入。最好为您要循环的所有输入提供类并获取其 id

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-03T10:36:14.123

[您可以使用http://api.jquery.com/attribute-starts-with-selector/](http://api.jquery.com/attribute-starts-with-selector/)`$('[id^=time_]')`中所述 选择具有该表单 id 的所有输入

您可以在这些 using 上调用一个函数，并且可以通过在循环内部`.each()`使用来获取当前 ID 的 ID 。`this`

要获得更具体的答案，您可能需要提出更具体的问题。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:37:18.730

非 jQuery 解决方案：

```
var inputs = document.getElementsByTagName('input'),
id;

for (var i = 0; i < inputs.length; ++i) {
    id = inputs[i].id;

    if (id.indexOf('time_') == 0) {
        id = id.substr(5);
        // do stuff with id and inputs[i].value
    }
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-03T10:42:16.093

使用“开始于”选择器：

```
$('input[id^="time"]').each(function() {
   var value = $(this).val(); //get value

   //now get right div and inject value
   $(this).next('div').text(value);       
}); 
```

# windows - 如何使用 C# 获取 windows phone 8 的启动时间和正常运行时间

> ID：15784929
> 
> 赞同：3
> 
> 时间：2013-04-03T10:30:16.360
> 
> 标签：windows, windows-phone-7, windows-phone-8, windows-phone

我想使用 C# 和 XAML 获取 windows phone 8 的启动时间和正常运行时间。如果在 windows phone 8 和 windows phone 7 中有一些不同的方法，也请提出建议。

提前致谢....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T20:26:42.283

```
System.Environment.TickCount 
```

返回自启动以来的毫秒数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T17:59:26.630

这些值在 Windows Phone 7/8、AFAIK 中不可用。

# php - 是否可以通过命名空间找到类文件的位置？

> ID：15784930
> 
> 赞同：4
> 
> 时间：2013-04-03T10:30:16.453
> 
> 标签：php, codeigniter

我最近在使用 pyroCms。这确实是一个不错的 CMS。但我看到一个文件使用了 php 的命名空间。

```
<?php

use Capsule\Schema;

/**
 * Blog module
 *
 * @author  PyroCMS Dev Team
 * @package PyroCMS\Core\Modules\Blog
 */
class Module_Blog extends Module
{
} 
```

所以，现在我想找到 Schema 类文件的位置。我该怎么做？我阅读了 php 的类文档。但没有得到任何帮助。

还有其他方法或技巧吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T10:32:31.230

如果您设置了自动加载：

```
$r = new ReflectionClass('Capsule\Schema');
echo $r->getFileName(); 
```

通常，虽然命名空间和类名应该与目录和文件名密切对应（尽管它们不是必须的）。一个体面的编辑器/IDE 还应该使全局搜索变得容易，最坏的情况是正则表达式搜索“ `class\s+Schema`”。

# smtp - 外部服务器上的电子邮件服务器和我们服务器上的虚拟主机

> ID：15784932
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:30:17.517
> 
> 标签：smtp, webserver, remote-server

我们有一家小型企业，我们提供虚拟主机，我们的 isp 正在阻止 smtp 端口（在许多论坛上被 isp 和其他人解决）无法解决它。所以我想知道是否可以让电子邮件服务器指向其他地方。

sample.com 在 IP XY.SD.SD.GH 上加载网站 @sample.com 连接到 IP ZZ.UU.VV.DD

对于多个域（对于我们提供的每个虚拟主机）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T10:36:22.553

您只需在 DNS 记录中定义哪个主机是电子邮件主机。

您必须如何执行此操作取决于您的 DNS 提供商，但通常添加指向您要使用的邮件服务器的 MX 记录非常简单。

更详细：[http ://en.wikipedia.org/wiki/MX_record](http://en.wikipedia.org/wiki/MX_record)

通常，将它们分开完全没有问题，而且很多人使用与他们的网络托管服务提供商不同的服务（如 Gmail 等）来做到这一点。

# brute-force - 旅行推销员（蛮力）

> ID：15784940
> 
> 赞同：-1
> 
> 时间：2013-04-03T10:30:34.183
> 
> 标签：brute-force, traveling-salesman

我正在编写一个旅行商程序，它是计算所有点之间的距离，并使用 BRUTE Force 方法确定最短距离。这不是家庭作业:)

我的方法是首先使用 std next_permutation 函数生成所有可能的点排列。

使用 std next_permutation 函数将生成输出订单：

（假设有3个点）

123

132

213

231

312

321

（如果有 4 个点，则相同）

1234

1243

...

4312

4321

但是由于重复，程序很慢，例如123的距离与321的距离相同（虽然我没有运行两次计算，但我已经将每个距离保存到一个结构中）。在我消除重复之后，让我们用 3 个点收回示例，输出现在将变为

123

132

213

节省至少一半的工作，随着点数的增加更多。我已经写了一些替代方法来消除重复的命令，但是不知道如何在代码中表达出来（帮助）。

如果需要，我将在此处发布我想出的几个替代方案。

如果有人可以以伪代码的形式发布您的想法，我该如何消除重复的订单。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T01:29:51.527

由于这还没有关闭，我会提出一个快速的建议。

你真的应该看看[BFS](http://en.wikipedia.org/wiki/Breadth-first_search)的修改。通过简单地检查相邻顶点是否不在路径中来替换标记的集合，这可以通过保持包含路径中所有顶点的集合来更快，而不是检查路径中的每个顶点一。

```
The idea is to have something like this:
1 - Start with the initial path [1]
12 - expand the path [1] to the path [1,2]
13 - expand the path [1] to the path [1,3]
123 - expand the path [1,2] to the path [1,2,3]
132 - expand the path [1,3] to the path [1,3,2] 
```

我只有两个解决方案，而你有三个。这是因为循环 213 与循环 132 相同，可以这样写：2- **1-3-2** -1。

以相同的方式修改[深度优先搜索](http://en.wikipedia.org/wiki/Depth-first_search)也可以。

相对而言，这仍然只是对蛮力的轻微改进。严格来说，该程序会很慢，因为它是蛮力的，并且不会超过 20 点，如[维基百科页面](http://en.wikipedia.org/wiki/Travelling_salesman_problem#Exact_algorithms)中所述。

# objective-c - 隐藏 XML 字符串输出到 XML 文件

> ID：15784947
> 
> 赞同：0
> 
> 时间：2013-04-03T10:30:41.223
> 
> 标签：objective-c, xml, xml-parsing

我正在使用 XMWriter 类生成 XML，但是在生成我的 XML 字符串后，我不确定如何将其保存为 XML 文件。

.m 代码

```
[xmlWriter writeEndElement];
[xmlWriter writeStartElement:@"Miniparent"];
[xmlWriter writeStartElement:@"Child"];
[xmlWriter writeCharacters:@"Text content for root element"];
[xmlWriter writeEndElement];
[xmlWriter writeStartElement:@"Child"];
[xmlWriter writeCharacters:@"Text content for root element"];
[xmlWriter writeEndElement]; 
```

控制台输出

```
<Miniparent>
<Child>Text content for root element</Child>
<Child>Text content for root element</Child>
<Child>Text content for root element</Child>
</Miniparent> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:19:16.643

将其转换为 NSString 对象

```
NSString* xml = [xmlWriter toString]; 
```

然后将其保存到文件

```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); 
NSString *documentsDirectory = [paths objectAtIndex:0]; // Get documents directory

NSError *error = nil;
BOOL succeed = [xml writeToFile:[documentsDirectory stringByAppendingPathComponent:@"myXmlFile.xml"]
      atomically:YES encoding:NSUTF8StringEncoding error:&error];
if (!succeed){
    // Handle error here
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T11:30:20.843

我解决了我的问题如下，并将此代码提供给其他用户

```
NSFileManager *fileManager = [NSFileManager defaultManager];

//getting the path to document directory for the file
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentDir = [paths objectAtIndex:0];
NSString *path = [documentDir stringByAppendingPathComponent:@"test.xml"];

//checking to see of the file already exist
if(![fileManager fileExistsAtPath:path])
{
    [fileManager createFileAtPath:path contents:[xml dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];
} 
```

# php - 在 nitroscript 视图中使用变量，NitroSell 系统

> ID：15784948
> 
> 赞同：1
> 
> 时间：2013-04-03T10:30:42.080
> 
> 标签：php, model-view-controller

我正在研究基于 NitroSell 的电子商务商店使用的“视图”。它似乎是一个专有系统，一个 PHP 框架，并且支持很少。

我试图找到一种在视图中使用我自己的 PHP 脚本的方法（就像在 Laravel 或 CodeIgniter 中一样），根据自定义购物车项目属性进行一些计算。

这是篮子视图的一部分，中间是伪代码，用于使用从系统中提取的变量进行一些计算。

```
{ifThereAre basketitems}
  {foreach basketitem}
    {if (basketitem['product_weblinxcustomtext1'] eq 'All')}
      // [start pseudo-code]
        $myvar = basketitem['product_weblinxcustomnumber1'];
        $mynewvar = $myvar*10;
        echo $mynewvar;
      // [end pseudo-code]
    {endIf}
  {endforeach} 
{endIfThereAre} 
```

问题是我找不到让该伪代码运行的方法。我试过了：

```
<?php $mynewvar = $myvar*10;?>
<?$mynewvar = $myvar*10;?>
{$mynewvar = $myvar*10;}
{{$mynewvar = $myvar*10;}}
{mynewvar = myvar*10;}
{{mynewvar = myvar*10;}} 
```

...并且它们都不起作用，它们中的大多数在呈现的视图中显示为 HTML。可能是所有 php 视图都被剥离了，但我想听听您可能有的更多想法。我们无法访问控制器/模型，因为它是“在线”管理的，并且只有模板可供编辑。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T08:35:53.160

你是对的，所有的 PHP 都从你的代码中删除了。

NitroSell 的工作方式与其他电子商务平台的工作方式相同，这些平台公开模板，您可以修改这些模板以满足您的需求。这是一个类似于 Smarty 的专有系统，人们可能更熟悉。

标有 {} 的标签在服务器端被替换为开发人员定义的 PHP。

没有什么能阻止你使用 js。在你的情况下

```
<script language="javascript">
 myNewVar = myvar*10;
</script> 
```

希望对詹姆斯有所帮助

# jquery-ui - 如何捕捉 JQuery UI 手风琴点击事件？

> ID：15784949
> 
> 赞同：1
> 
> 时间：2013-04-03T10:30:47.860
> 
> 标签：jquery-ui, accordion, jquery, jquery-ui-accordion

我正在使用 jquery UI 的手风琴。当用户切换标签时，我需要隐藏一些图像。我尝试了几种不同的方法（[http://api.jqueryui.com/accordion/#event-beforeActivate](http://api.jqueryui.com/accordion/#event-beforeActivate)），但它不起作用：

HTML：

```
<div id="accordion">
 <h3>
  <a href="#">
    <span class="menu-item">About</span>
    <img id="slide1" src="/images/sliding-image_1.png"/>
  </a>
 </h3>
 <div>
  .................
 </div>

 <h3><a href="#">................ 
```

JS：

```
 <script>
 $( "#accordion" ).accordion({ beforeActivate: function( event, ui ) 
                                    {
                                    ui.newHeader.click(function () {
                                        $('#slider1').remove();
                                                      }  
                                    }

               });
</script> 
```

或者另一个：

```
<script>
$("#accordion").accordion({
  beforeActivate: function(event, ui) {
   if(ui.newHeader) {
    $('h3 a img').remove();
                    }
                                      }
                          });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:27:15.897

这是你想要的...

```
$( "#accordion" ).accordion({
    beforeActivate: function( event, ui ) {
        if(ui.newHeader) {
            $(ui.newHeader).find('img').hide();
            $(ui.oldHeader).find('img').show();
        }
    }
}); 
```

**[小提琴](http://jsfiddle.net/maheshsapkal/rvRj4/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-19T10:12:02.733

你正在寻找

```
h3.ui-accordion-header.ui-state-active 
```

如果它是主干，代码将如下所示：

```
events: {
   'click h3.ui-accordion-header.ui-state-active': 'someFunction'
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:32:22.550

问题不在脚本中。问题在于它的位置。所有这些脚本都可以正常工作。

我写了这个：

```
<script>
  $(document).ready(function(){
   ----------------------------
   Create Accordion
   ----------------------------
  });
</script> 
```

以及以下：

```
<script>
  $(document).ready(function(){
   ----------------------------
    beforeActivate event
   ----------------------------
  });
</script> 
```

由于某种原因，第二个脚本在第一个脚本之前加载并且没有看到创建的手风琴。所以工作脚本是：

```
<script>
  $(document).ready(function(){
   ----------------------------
   Create Accordion
   ----------------------------
   ----------------------------
   beforeActivate event
   ----------------------------
  });
</script> 
```

或者：

```
<script type="text/javascript">
$(document).ready(function(){
var icons = {
    header: "ui-icon-carat-2-n-s",
    headerSelected: ""
};
$("#accordion").accordion({ active:false },{collapsible:true},{icons:icons},{autoHeight:false});

  $("#accordion").accordion(
   {
    beforeActivate: function(event, ui) 
    { 
     $('h3 a img').stop(true); 
     $('h3 a img').fadeOut("medium"); 
    }
   });

});
</script> 
```

# java - hibernate.cfg.xml 未找到（该文件实际上不存在）。配置在 dispatcher-servlet 中

> ID：15784954
> 
> 赞同：0
> 
> 时间：2013-04-03T10:30:55.033
> 
> 标签：java, spring, hibernate, hibernate.cfg.xml

我在调度程序 servlet 中配置了休眠。程序启动良好。但是在创建`Configuration`对象并通过调用该`configure()`方法进行配置时，会抛出错误：

```
 Apr 03, 2013 9:14:58 PM org.hibernate.cfg.Configuration configure
    INFO: HHH000043: Configuring from resource: /hibernate.cfg.xml
    Apr 03, 2013 9:14:58 PM org.hibernate.cfg.Configuration getConfigurationInputStream
    INFO: HHH000040: Configuration resource: /hibernate.cfg.xml
    Error creating session: org.hibernate.HibernateException: /hibernate.cfg.xml not found
    Apr 03, 2013 9:14:58 PM org.apache.catalina.core.StandardWrapperValve invoke
    SEVERE: Servlet.service() for servlet [dispatcher] in context with path [/LibraryTest1] threw exception [Handler processing failed; nested exception is java.lang.ExceptionInInitializerError] with root cause
    org.hibernate.HibernateException: /hibernate.cfg.xml not found
    at org.hibernate.internal.util.ConfigHelper.getResourceAsStream(ConfigHelper.java:173)
    at org.hibernate.cfg.Configuration.getConfigurationInputStream(Configuration.java:1953)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:1934)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:1914)
    at com.csu.library.mvc.hibernate.HibernateUtil.<clinit>(HibernateUtil.java:24)
    at com.csu.library.mvc.dao.generic.GenericHibernateDao.getSession(GenericHibernateDao.java:29)
    at com.csu.library.mvc.dao.implementation.UserDaoImpl.getUserByUsername(UserDaoImpl.java:23)
    at com.csu.library.mvc.service.impl.UserServiceImpl.getUser(UserServiceImpl.java:46)
    at com.csu.library.mvc.service.impl.UserServiceImpl.login(UserServiceImpl.java:57)
    at com.csu.library.mvc.controller.UserController.homepage(UserController.java:35)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:920)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:827)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:801)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

如何从定义休眠配置的调度程序 servlet 获取要配置的配置对象？

构建 sessionfactory 的方法如下：

```
private static SessionFactory sessionFactory;
private static ServiceRegistry serviceRegistry;

static {
    try {
        //Configuration configuration = new Configuration();
        Configuration configuration = new Configuration().configure();

        serviceRegistry = new ServiceRegistryBuilder().applySettings(configuration.getProperties()).buildServiceRegistry();
        sessionFactory = configuration.buildSessionFactory(serviceRegistry);
    }
    catch(HibernateException he) {
        System.err.println("Error creating session: " + he); 
        throw new ExceptionInInitializerError(he);
    }
} 
```

dispatcher-servlet 代码如下：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:context="http://www.springframework.org/schema/context"
        xmlns:mvc="http://www.springframework.org/schema/mvc"
        xsi:schemaLocation="
        http://www.springframework.org/schema/mvc
        http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context-3.2.xsd">

    <mvc:annotation-driven/>

    <context:annotation-config/>

    <!-- Scans the package for contents -->
    <context:component-scan base-package="com.csu.library.mvc"/>

    <!-- Maps static resources like images, css, javascript files -->
    <mvc:resources location="/resources/" mapping="/resources/**"/>

    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name = "viewClass" value = "org.springframework.web.servlet.view.JstlView"/>
        <property name = "prefix" value = "/WEB-INF/jsps/"/>
        <property name = "suffix" value = ".jsp"/>
    </bean>

    <bean id="dataSource" destroy-method="close" class="org.apache.commons.dbcp.BasicDataSource">
        <property name="driverClassName" value="com.mysql.jdbc.Driver"/>
        <property name="url" value="jdbc:mysql://localhost:3306/csu_library"/>
        <property name="username" value="csulibrary"/>
        <property name="password" value="csulibrary"/>

        <!-- Pool Properties -->
        <property name="initialSize" value="5" />
        <property name="maxIdle" value="5" />
        <property name="maxActive" value="10" />
    </bean>

    <bean id = "hibernateProperties" class = "java.util.Properties">
        <constructor-arg index="0">
            <props>
                <prop key="hibernate.dialect">org.hibernate.dialect.MySQLDialect</prop>
                <prop key="hibernate.show_sql">true</prop>
                <prop key="hibernate.hbm2ddl.auto">update</prop>
                <prop key="hibernate.cglib.use_reflection_optimizer">true</prop>
                <prop key="hibernate.cache.provider_class">org.hibernate.cache.HashtableCacheProvider</prop>
            </props>
        </constructor-arg>
    </bean>

    <bean id = "sessionFactory" class = "org.springframework.orm.hibernate4.LocalSessionFactoryBean">
        <property name="packagesToScan" value = "com.csu.library.mvc"/>
        <property name="dataSource" ref = "dataSource"/>        
        <property name="hibernateProperties" ref = "hibernateProperties"/>

    </bean>

</beans> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T12:47:39.273

通过你已经集成了hibernate到spring为什么还要使用hibernate来构建sessionFactory，也就是说你不必使用hibernate.cfg.xml applicationContext.xml中已经有一个sessionFactory bean，使用注解来获取这是实例。然后享受它:)

请参阅您的另一个问题以获取我的答案 [SessionFactory injection is not working](https://stackoverflow.com/questions/15809476/sessionfactory-injection-isnt-working/15810281#15810281)

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:37:12.237

根本原因是`org.hibernate.HibernateException: /hibernate.cfg.xml not found`。默认情况下，Hibernate 配置管理器尝试在 中查找 cfg 文件`WEB-INF/classes`，将您`hibernate.cfg.xml`的文件放入文件夹中，`WEB-INF/classes`它应该可以工作。

编辑：：

您正在尝试自己构建会话工厂，因此它就像典型的休眠应用程序一样。在这种情况下`hibernate.cfg.xml`将需要。但是你可以看到里面`session factory bean`有`application-contex.xml`。`spring`加载时不需要 then ，因为`xml`已在其中定义并将创建它。`hibernate.cfg.xml``session factory``application-context`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T11:29:49.223

是的你是对的。如果您在调度程序中提供配置文件，为什么需要配置文件。

但是您访问会话工厂是错误的。

“配置配置=新配置（）。配置（）；” 将永远追求

配置文件。您需要通过 Spring 提供的 HibernateTamplate 来访问它。

请检查以下链接以解决您的错误。

[http://www.javatpoint.com/hibernate-and-spring-integration](http://www.javatpoint.com/hibernate-and-spring-integration)

[http://www.javabeat.net/2007/10/integrating-spring-framework-with-hibernate-orm-framework/](http://www.javabeat.net/2007/10/integrating-spring-framework-with-hibernate-orm-framework/)

# mysql - SQL Server 2000 到 MySQL

> ID：15784960
> 
> 赞同：0
> 
> 时间：2013-04-03T10:31:08.880
> 
> 标签：mysql, sql-server-2000, pentaho

我有这个问题要问你们。我必须将 SQL server 2000 转移到 MySQL。我的意思是，有一些转换可以将信息添加到带有更正或公司需要添加和修改的任何内容的表格中。他们有 SQL Server 2000 转换，我需要**将**这些**选择、插入、更新**转换为`MySQL`.

我想知道 SQL server 2000`INNER JOIN`是否与`MySQL INNER JOIN`.

如果是这种情况，我不必修改任何内容，我可以将这些选择等复制到 MySQL 中。

我将使用 BI Pentaho 的 Spoon 进行这些转换，因为它们将 SQL Server 抛在后面。

非常感谢你的回答 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:40:52.057

如果你只是想直接把数据带过来，那你为什么要使用 ETL 工具呢？我原以为直接迁移会更容易？在这种情况下，ETL 工具会做更多的工作。

如果您想在途中对数据进行一些更改，ETL 工具就足够公平了。

这个怎么样：

[http://www.infoq.com/news/2012/08/MySQL-Migration](http://www.infoq.com/news/2012/08/MySQL-Migration)

（有很多方法可以直接转储数据）

# c++ - 矩阵中的对称位置

> ID：15784966
> 
> 赞同：1
> 
> 时间：2013-04-03T10:31:30.023
> 
> 标签：c++, c, math, matrix, symmetric

给定矩阵中的（i，j）元素，矩阵中的对称对应者是什么。我正在尝试创建一个在 c 中生成对称矩阵的函数。非常感谢。

如果我正在处理大型矩阵，使用 rand() 功能“手动”创建矩阵或从文件中读取是否明智？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:33:42.777

> 给定矩阵中的 (i,j) 元素，矩阵中的对称对应者是什么

在对称矩阵`A`中，`A(i, j) == A(j, i)`。

> 如果我正在处理大型矩阵，使用 rand() 功能“手动”创建矩阵或从文件中读取是否明智？

如果没有上下文，这是不可能回答的。但是，如果您想要一个随机矩阵并且不需要在运行期间保留它，则没有理由将其保存在文件中。

# python - “BlogForm”对象不可调用

> ID：15784967
> 
> 赞同：0
> 
> 时间：2013-04-03T10:31:30.413
> 
> 标签：python, django

我的博客 models.py 是

```
class Blog(models.Model):
    title = models.CharField('Title', max_length=200)
    text = models.TextField('Text', max_length=2048)
    date = models.DateTimeField('Last Modified')

    def __unicode__(self):
        return '%s' % (self.title) 
```

在我的views.py中，我试图将模型字段转换为表单字段，然后附加数据，在下面的views.py代码中，我将得到一个页面，它只要求标题和文本......

```
class BlogForm(ModelForm): 
    class Meta:
        model = Blog
        fields=('title', 'text')

def add_blog(request, pID='0'):
    bf = BlogForm()
    message = 'Unknown Request'
    p = get_object_or_404(Person, pk=pID)

    if request.method == 'GET':
        message = 'Add Blog for %s ' % p.name

    if request.method == 'POST':
        if request.POST['submit'] == 'Add':
            SaveForm = BlogForm(instance=p)
            bf = BlogForm(request.POST.copy())
            postDict = request.POST.copy()
            postDict['date'] = datetime.datetime.now()
            save_bf = SaveForm(postDict)
            if save_bf.is_valid():
                try:
                    bObj = save_bf.save()
                    p.blogs.add(bObj)
                    p.save()
                    message = 'Blog added to %s.' % p.name
                except:
                    message = 'Database Error.'
            else:
                message = 'Invalid data in Form.'

    return render_to_response(
                     'people/add_blog_form.html',{'bForm': bf,'message':message}) 
```

“但在替换数据后，我会收到以下错误”

/Blog/AddBlogForm/1/ 处的类型错误

“BlogForm”对象不可调用

请求方法：POST Django 版本：1.4.1 异常类型：TypeError 异常值：'BlogForm' 对象不可调用

在“save_bf = SaveForm(postDict)”行中出现错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:39:20.827

您首先创建一个名为的 BlogForm 实例`SaveForm`（顺便说一句，这是 pep08 违规），然后您尝试调用此表单。BlogForm 类是可调用的（与 Python 中的任何其他类一样），但是（除非您`__call__(self, ...)`在 BlogForm 上定义一个方法，这有点令人惊讶）BlogForm 实例本身不可调用。

附带说明：您的代码非常混乱，并且使事情变得比必须的更复杂。另外，我看不到 Blog 和 Person 之间的关系，并且您在`instance`实例化 BlogForm 时没有传递正确的值（当它应该是 Blog 时传递一个 Person - 如果您只想创建一个博客，则传递 None )

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:40:03.437

我真的不确定你在那个 POST 块内做什么。您将表单`SaveForm`实例化为 ，然后再次将其实例化为`bf`，然后尝试*调用*第一个实例传递 post 字典。我不知道那应该实现什么。

它应该只是：

```
if request.POST['submit'] == 'Add':
    postDict = request.POST.copy()
    postDict['date'] = datetime.datetime.now()
    bf = SaveForm(postDict)
    if bf.is_valid(): 
```

**实际上编辑**，我刚刚意识到这`p`是一个 Person 实例。根本不需要将它传递给表单，因为它是一个博客表单，而不是个人表单。

# coldfusion - ColdFusion“作为服务运行”与“在控制台中运行”

> ID：15784973
> 
> 赞同：4
> 
> 时间：2013-04-03T10:31:41.330
> 
> 标签：coldfusion, vbscript, ms-word, console-application, windows-server-2008-r2

**问题**

当 CF 作为服务运行与 CF 在控制台模式下运行时，在权限方面出现的区别是什么？

**历史**

我有一个为 Word.Application 创建 COM 对象并使用它们将 DOC 转换为 PDF 的代码。但是当我转到 CF 10u8 (64b) 时，逻辑就崩溃了。我检查了互联网，改变了 java.library.path={} 值、权限和所有可能的提示以使其工作；但没有成功。我[在 Adob​​e Bug Base 中找到了一个条目，](https://bugbase.adobe.com/index.cfm?event=bug&id=3377595)以确认 jintegra\bin\ntvinv.dll 设计为在 32b 环境中工作。

所以，我求助于使用 VB 脚本模式将我的 CF 代码转换为 VB 脚本，并将我的 DOC 转换为 PDF。

**问题**

VB Script 中的代码很漂亮，它很快就完成了我需要的工作。在我从 <cfexecute> 调用这个 .vbs 之前，这似乎没问题。它永远处理，超时并且什么都没有显示+任务管理器中有WINWORD.exe的废弃进程。

我尝试将参数写入批处理文件并调用它。这次它立即运行，但没有任何反应。我检查了日志，它显示

> Microsoft VBScript 运行时错误：需要对象：'wdocs.Open(...)

我从命令提示符调用批处理文件，它执行没有错误。我的 DOC -> PDF 转换完成。

所以，这次我将 ColdFusion 服务的“登录为...”权限从“本地系统帐户”更改为系统的管理员用户帐户并启动它。我明白了，

> 本地计算机上的 CF 10 应用程序服务器服务启动然后停止。如果某些服务没有被其他服务或程序使用，它们会自动停止

所以，路的尽头。我尝试过使用“允许服务与桌面交互”选项。但没有任何改善。

最后，我尝试从 bin\cfstart.bat 文件运行 CF。它有*coldfusion.exe -start -console*。命令窗口出现，CF 启动。这一次， <cfexecute> 起作用并且发生了转换。没有看到错误。我很困惑为什么会这样。使用系统帐户（谁登录）将其作为服务运行与使用相同用户帐户作为控制台运行有什么区别？我想了解什么？

**调试**

我在服务器上创建了一个本地用户帐户，并在“登录为...”以及使用相同帐户登录系统时都使用了该帐户。在这两种情况下，它与上面的故事相同。

我觉得这是一个许可问题，我想不通的是在哪里以及为什么会发生这种情况？特别是为什么在服务模式而不是控制台模式下？

*注意*：在使用 VBS 之前，我曾尝试使用 <cfdocument format="pdf" ... >，但由于我的 DOC 中的某些特定格式，它会引发异常。所以，它现在不是一个选择。

*信用*：我在 VBScript 中的代码是从[这里派生的](http://www.suodenjoki.dk/us/productions/articles/word2pdf.htm)

**更新**

这是我的代码，您可以使用它进行测试。

*命令行代码*

> /c <pathToTheScriptFile>/doc2pdf.vbs <absolutePathTo>aWordDocument.doc o/:<absolutePathTo>finalPDFDocument.pdf

doc2pdf.vbs 有两个参数。第一个是 wordDocument 名称（带路径），第二个是可选的 PDFDocument 名称。如果未传递可选参数，则为 PDFDocument 赋予 wordDocument 的相同名称。

*冷融合代码*

```
<cfexecute name="c:\windows\system32\cmd.exe" arguments="#commands#" outputFile="output.txt" errorFile="error.txt" timeout="20"/> 
```

或者您也尝试使用 Java 运行时对象

```
<cfscript>
    objJR  = createObject("java", "java.lang.Runtime").getRuntime();
    result = objJR.exec(commands);
    writeDump(result);
</cfscript> 
```

要在本地机器上运行它，您需要

*   安装了带有“另存为 PDF”插件的 MS Word 2007 或更高版本。
*   VBScript（从[这里](http://www.suodenjoki.dk/us/productions/articles/word2pdf.htm)获取）
*   CF 10。我正在更新 8。这适用于任何更新级别。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T10:49:06.150

我找到了我的问题的答案。

我试图回到基础并检查所有相关组件的问题。

1.  CF
2.  VB 脚本代码
3.  Word 应用程序 COM
4.  视窗 2008 R2

如果不涉及 Word COM，CF 只会正常执行脚本。所以，我觉得，它基本上与访问无关。

VB 脚本代码在 COMMAND 窗口执行时很好，但当我们从服务（CF 服务）调用它时就不行了。所以，我也排除了VB脚本的麻烦

Word 应用程序 COM - 与 VB 脚本相同

Windows 2008 R2 - 找到罪魁祸首。

**原因**

这是由于 Windows 2008 服务器中的错误所致。它与用户配置文件有关。即使我说，在我的服务上登录，创建的 COM 始终使用 LOCAL SYSTEM 帐户。我在 Proc Mon 中找到了这个。

从那一点开始，我查看了 2008 年的 MS 论坛以及与 COM 对象相关的问题。

有很多文章，但其中一篇显然与我的问题相同，但使用的是 Excel。

答案是 - “对于办公自动化（通过脚本和非基于窗口的操作访问），需要在系统配置文件中有一个名为‘Desktop’的文件夹。”

它的详细[在这里](http://social.msdn.microsoft.com/Forums/en-US/innovateonoffice/thread/b81a3c4e-62db-488b-af06-44421818ef91)。（搜索“H 小川”）

再一次，努力工作和 stackoverflow 谈话是有好处的。:)

谢谢大家的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T15:45:25.367

我认为您的问题与 windows ap 与控制台应用程序有关。可能某些部分需要控制台（Windows 桌面 gui）处于活动状态。有些服务，例如 DHCP，在那里没有依赖关系，因此作为纯服务运行良好，不可见，无需人工交互。

也许只是一个想法，尝试来自 sysinternals 的进程监视器，它有时会显示允许的内容和不允许的内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-03T17:28:02.393

也有可能弹出一些对话框。你可能看不到这些。您可以尝试通过将 Application.DisplayAlerts 设置为 false 来禁用这些。

请参阅[如何使用 Visual Basic 关闭 Office 应用程序显示的对话框](http://support.microsoft.com/kb/259971)

# c# - 通过 asp.net 中的给定 ID 导航到中继器项目

> ID：15784974
> 
> 赞同：0
> 
> 时间：2013-04-03T10:31:41.480
> 
> 标签：c#, asp.net, repeater

在我的 userReply.aspx 中，

```
<asp:Repeater runat="server" ID="rptReply" DataSource="mySqlDataSource">
        <HeaderTemplate>
            <table width="100%" cellpadding="10" cellspacing="10">
        </HeaderTemplate>
        <ItemTemplate>
                   <span style="margin-top:10px;display:block;">
                    <%# DataBinder.Eval(Container.DataItem, "Reply") %></span>
                        <br />
                  <span style="color: #0099CC; width: auto; height: auto;background-color: #ECF5FF;">
                       <span style="color: #666666; font-size: x-small; font-style: italic;">
                  <span class="timestamp" id="time" runat="server">
                                <%# DataBinder.Eval(Container.DataItem, "ReplyDate")%></span>, By <span 
                                     style="color: #0077CC;">
                                    <%# DataBinder.Eval(Container.DataItem, "UserName") %>
                                </span></span></span>
                                ReplyID : <%# DataBinder.Eval(Container.DataItem, "ReplyID") %>
        </ItemTemplate>
    </asp:Repeater> 
```

我用“ReplyID”参数调用这个页面，

```
userReply.aspx?replyID=4 
```

转发器(rptReply) 的数据源(mySqlDataSource) 的回复ID 为 1,2,3,4,5 和 6 。我想直接导航并自动滚动到具有 replyID **4**的转发器项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:36:52.220

当您浏览页面并在页面中使用一些滚动实现时；

```
 $(document).ready(function() {
   // your scroll function
 }); 
```

我发现[这个](http://flesler.com/jquery/scrollTo/)插件可以滚动页面中的任何元素。

# python - OpenERP开发者模式修改

> ID：15784977
> 
> 赞同：0
> 
> 时间：2013-04-03T10:31:52.607
> 
> 标签：python, xml, openerp

如果我们在 Openerp 7 开发人员模式下对表单视图进行一些修改（例如：添加 onchange 函数并且当它调用某些字段时不可见），此修改是否会自动添加到相关的 view.xml 文件中？

我做了这样的事情。但是我的 account_view.xml 文件没有更新。但是在数据库端 ir_ui_view 表中保存了该记录。请建议我找到我的缺失点在哪里。？

**已编辑：** 实际上我的 account_view.xml 无法更改。但是当我更改对其他 view.xml 文件的一些更改时，它们会在我重新启动服务器并升级模块时显示结果。但仅当我更改此 account_view.xml 文件时，它不会给出结果。但是当我通过“开发人员模式”对帐户视图进行一些更改时，它们会受到影响。帮我看看有什么问题？（似乎没有使用我的 account_view.xml）我尝试了一些简单的更改，也像菜单项文本更改。它们也没有受到影响。但是当我为其他模块的 view.xml 做时，它们受到影响

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-03T10:35:47.287

不会。这些更改不会影响任何 xml 文件。直接从 Web 客户端完成的更改将持续到您更新相关模块，这些更改不是永久性的。

对于永久更改，您必须更改 xml 文件并更新该模块。

# linux - 从unix中的倒数第二行删除一个字符

> ID：15784978
> 
> 赞同：3
> 
> 时间：2013-04-03T10:32:08.447
> 
> 标签：linux, bash, unix, sed, awk

我们如何从 unix 文件的倒数第二行删除字符？

例如，我有一个内容如下的文件：

```
aaa
bbb*
ccc*
ddd*
eee 
```

我的输出应该是：

```
aaa
bbb*
ccc*
ddd
eee 
```

对此有什么想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-03T11:53:28.410

使用 sed 一次性完成此操作的通用方法是使用滑动窗口，类似于[GNU sed 手册](http://www.gnu.org/software/sed/manual/html_node/tail.html)中描述的内容。

由于您只对倒数第二行的替换感兴趣，因此不需要保留空间。在这种情况下，一个`N`就足够了：

```
sed 'N; $! { P; D; }; s/.\n/\n/' 
```

或作为 BSD sed 兼容脚本：

```
sed 'N; $! { P; D; }; s/.\n/\
/' 
```

输出：

```
aaa
bbb*
ccc*
ddd
eee 
```

*解释*

*   该`N`命令将第二行添加到模式空间。
*   `$!`当我们还没有到达最后一行时，该块被评估。
*   `{ P; D; }`打印第一行模式空间并将其删除。如果模式空间不为空，则具有重新启动脚本的`D`副作用。
*   仅当最后两行在模式空间中时才评估替换命令。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-03T11:18:20.303

脑海中浮现出三种通用方法。

用于`wc -l file`获取行数：

```
awk 'NR==n-1{sub(/.$/,"")}1' n=$(wc -l file)
aaa
bbb*
ccc*
ddd
eee 
```

解析文件两次：

```
awk 'FNR==NR{n++;next}FNR==n-1{sub(/.$/,"")}1' file file
aaa
bbb*
ccc*
ddd
eee 
```

处理前后反转文件：

```
tac file | sed '2s/.$//' | tac
aaa
bbb*
ccc*
ddd
eee 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-03T11:25:20.360

重用的好时机`ed`，一次：

简短版：

```
{ echo '$-1s/.$//' ; echo "w" ; } | ed file_to_modify.txt >/dev/null 
```

带有一些“调试信息”的版本^^：

```
{ echo 'doing: $-1s/.$//' >&2 ; echo '$-1s/.$//' ; echo "doing: w" >&2 ; echo "w" ; echo "C" >&2 ; } | ed file_to_modify.txt 
```

简而言之：`ed`非常接近 vi，但一次只能在 1 行上工作...我只是在第 n-1 行告诉它 's/.$//' （将一行的最后一个字符替换为任何内容） （$= ed 中的最后一行，$-1 = 最后一行 - 1）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-03T10:51:12.183

**使用vi**或**vim**或任何编辑器打开文件并根据需要编辑文件

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-03T10:55:55.113

用 awk 直截了当：

```
awk '{a[NR]=$0}END{for(i=1;i<=NR;i++){if(i==NR-1)sub(/.$/,"",a[i]);print a[i]}}' file 
```

awk 有点棘手：

```
awk '{if(f>1)print p;p=l;f++;l=$0}END{sub(/.$/,"",p);print p;print l}' file 
```

# java - 通过 USB 从 PC 访问 android 设备上的文件

> ID：15784980
> 
> 赞同：0
> 
> 时间：2013-04-03T10:32:11.763
> 
> 标签：java, android, usb, usb-drive

我知道可以使用 访问文件并将其从计算机传输到 android 设备`adb`，但是有没有办法通过 USB 电缆将文件从 android 设备传输到计算机而不使用 adb 工具？传输应该通过usb电缆进行，我没有蓝牙或无线选项。

使用`adb`不是一个选项，因为文件将传输到的计算机必须安装 Android SDK，或者至少安装该`adb`工具。

此时我考虑编写一个将在计算机上运行的守护程序，检测设备何时连接并传输文件。是否可以在不在计算机上运行守护程序（即直接从手机）的情况下完成此操作？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-04T22:43:35.943

Mostley，您可以使用 android 的内置 USB 服务。如果您插入您的设备，并且它已正确安装，您的手机应该会要求您进行大容量存储。

此外，这取决于您的手机。你有什么手机？

# ios - 我的日期选择器返回错误的分钟和秒值

> ID：15784981
> 
> 赞同：0
> 
> 时间：2013-04-03T10:32:17.243
> 
> 标签：ios, objective-c, datepicker, nsdate, nsdateformatter

我的日期选择器返回错误的分钟和秒值，但小时工作正常。这是我的获取方法。

```
-(NSDate *)datePickerTime
{
NSCalendar *gregorianCalendar = [[NSCalendar alloc]initWithCalendarIdentifier:NSGregorianCalendar];
[gregorianCalendar setTimeZone:[NSTimeZone localTimeZone]];
NSDateFormatter *format = [[NSDateFormatter alloc]init];
[format setDateFormat:@"HH:mm:ss"];
[format setTimeZone:[NSTimeZone localTimeZone]];
NSString *dateString =[format stringFromDate:[self.timePicker date]];
NSDate *adjustedDate = [format dateFromString:dateString];
NSDateComponents *comp = [[NSDateComponents alloc]init];

comp = [gregorianCalendar components:(NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit) fromDate:adjustedDate];

reminderTime = [gregorianCalendar dateFromComponents:comp];

return reminderTime;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T11:34:36.613

请检查具有所有类型格式支持的日期选择器的最佳[Apple 示例代码！](http://developer.apple.com/library/mac/#samplecode/DatePicker/Listings/MyWindowController_m.html#//apple_ref/doc/uid/DTS10004134-MyWindowController_m-DontLinkElementID_4)

您的问题可能出在[setDateFormat ISO-8601](http://en.wikipedia.org/wiki/ISO_8601#Dates)

试试这个代码

```
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];

[formatter setDateFormat:@"hh:mm:ss a"];

NSLog(@"Current Date: %@", [formatter stringFromDate:[NSDate date]]);

[formatter release]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T12:00:03.097

在我的应用程序中，我通过以下方式获得正确的时间

```
NSDate *endDate = [NSDate date];
NSDateFormatter *dateFormatter2 = [[NSDateFormatter alloc] init];
[dateFormatter2 setDateFormat:@"HH:mm:ss"];
NSString* curdatestr = [dateFormatter2 stringFromDate:endDate];
NSLog(@"str%@",curdatestr); 
```

如果您还想要使用当前时间的日期

```
[dateFormatter2 setDateFormat:@"yyyy-MM-dd 'at' HH:mm:ss"]; 
```

# assembly - 栈帧的基本结构

> ID：15784983
> 
> 赞同：2
> 
> 时间：2013-04-03T10:32:19.977
> 
> 标签：assembly, stack, frame, x86-64, stack-frame

我目前正在玩，检查堆栈帧，试图了解它是如何工作的。在阅读了一些总是解释一般结构的文章之后：

local vars <---`SP` 低地址

老`BP` <---`BP`

ret addr args 高地址

我有一个示例程序，它调用一个带有三个参数的函数，并有两个缓冲区作为局部变量：

```
#include <stdio.h>

void function(int a, int b, int c);

int main()
{
        function(1, 2, 3);
        return 0;
}

void function(int a, int b, int c)
{
        char buffer1[5];
        char buffer2[10];
} 
```

我看了看程序的汇编代码，很惊讶在调用函数时没有找到我所期望的。我期待的东西是：

```
# The arguments are pushed onto the stack:
push 3
push 2
push 1
call function       # Pushes ret address onto stack and changes IP to function
...
# In function:
# Push old base pointer onto stack and set current base pointer to point to it
push rbp
mov rbp, rsp

# Reserve space for stack frame etc.... 
```

因此，在执行函数时，框架的结构将类似于：

```
buffers   <--- SP           low address
old BP    <--- BP
ret Addr
1
2
3                           high address 
```

但相反，会发生以下情况：

函数调用：

```
 mov     edx, 3
    mov     esi, 2
    mov     edi, 1
    call    function 
```

既然我们可以直接压栈，为什么还要在这里使用寄存器？？？在我们调用的实际函数中：

```
 .cfi_startproc
    push    rbp
    .cfi_def_cfa_offset 16
    .cfi_offset 6, -16
    mov     rbp, rsp
    .cfi_def_cfa_register 6
    sub     rsp, 48
    mov     DWORD PTR [rbp-36], edi
    mov     DWORD PTR [rbp-40], esi
    mov     DWORD PTR [rbp-44], edx
    mov     rax, QWORD PTR fs:40
    mov     QWORD PTR [rbp-8], rax
    xor     eax, eax
    mov     rax, QWORD PTR [rbp-8]
    xor     rax, QWORD PTR fs:40
    je      .L3
    call    __stack_chk_fail 
```

据我所见，为堆栈帧保留了 48 个字节，对吗？然后，使用函数调用中的寄存器，将函数的参数复制到堆栈的末尾。所以它看起来像这样：

```
3            <--- SP
2
1
??
??
old BP       <--- BP
return Address
?? 
```

我假设缓冲区介于 args 和 old 之间`BP`。但是我真的不确定确切的位置...因为它们总共只有 15 个字节，而保留了 48 个字节...那里不会有一堆未使用的空间吗？有人可以帮我概述这里发生的事情吗？这是依赖于处理器的东西吗？我正在使用英特尔 i7。

干杯，砖

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-03T13:03:53.463

有几个问题。首先，这 3 个参数通过寄存器传递，因为这是 ELF ABI 规范的一部分。我不确定这些天最新的 (x86-64) SysV ABI 文档保存在哪里（x86-64.org 似乎已不复存在）。Agner Fog 维护了很多优秀的文档，包括一个关于[调用约定](http://www.agner.org/optimize/calling_conventions.pdf)的文档。

调用 使堆栈分配变得复杂`__stack_check_fail`，这是作为检测堆栈粉碎/缓冲区溢出的对策而添加的。ABI 的一部分还指定在函数调用之前堆栈必须是 16 字节对齐的。如果您使用 重新编译`-fno-stack-protector`，您将更好地了解正在发生的事情。

此外，由于该函数不执行任何操作，因此它不是一个特别好的示例。它存储参数（不必要的），需要 12 个字节。`buffer1`并且`buffer2`可能是 8 字节对齐的，实际上分别需要 8 和 16 个字节，可能还有另外 4 个字节来对齐它们。我可能错了——我手头没有规范。所以这是 36 或 40 字节。然后调用对齐需要 16 字节对齐 48 个字节。

我认为关闭堆栈保护并检查此叶函数的堆栈帧，并查阅 x86-64 ABI 规范以了解局部变量的对齐要求等会更有指导意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-03T10:41:53.500

它相当依赖于编译器。您可以尝试使用“extern”关键字关闭优化或标记功能（强制使用默认调用约定）。

使用寄存器是因为这比通过堆栈发送参数要快得多。

# spring-batch - Spring Batch：如何将 jobParameters 传递给自定义 bean？

> ID：15784984
> 
> 赞同：3
> 
> 时间：2013-04-03T10:32:22.920
> 
> 标签：spring-batch

我仍在研究 Spring Batch，遇到了一个需要将 jobParameter 传递给自定义 bean 的场景。job 参数包含文件的路径。

这是我的上下文的样子：

```
<bean id="myBean" class=".....MyBean">
     <property name="path" value="file:#{jobParameters['PATH'}/fileName"/>
</bean> 
```

这已包含在阅读器的步骤范围中，此处未包含。

问题是。当类被实例化时，传递给 bean 的值是“file:#{jobParameters['PATH'}/fileName”，而不是调用作业时传递的 jobParameter 的值。它让我感到困惑，因为我在 multiResourceReader 上尝试过设置资源值并且它工作正常。我只是不能让它在自定义 bean 上工作。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T11:48:14.883

您需要在 bean 定义中使用 scope="step"。

```
<bean id="myBean" class=".....MyBean" scope="step">
    <property name="path" value="file:#{jobParameters['PATH']}/fileName"/>
</bean> 
```

您的 #{jobParameters['PATH'} 也缺少右括号]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T11:08:21.683

继 Serkan Bey 的回应后，请确保您要么声明

`<bean class="org.springframework.batch.core.scope.StepScope" />`

或使用`<batch:*/>`命名空间来确保拾取步骤范围。

# c# - 如何从文本框中获取电子邮件

> ID：15784988
> 
> 赞同：0
> 
> 时间：2013-04-03T10:32:27.813
> 
> 标签：c#, asp.net-mvc

```
EmailSender email = new EmailSender { 
                                     EmailAdresNaar = "HERE", 
                                     Onderwerp = "Test email", 
                                     Bericht = "<b>Dit is een test</b>"
                                               + "<i>cursief kan ook.</i>." 
                                    };
email.SendEmail(); 
```

我如何在 HERE 所在的位置放置一个字符串，并在其中放置一个字符串 dat：

```
<div class="editor-label">
    Email
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.Klant.email)
    @Html.ValidationMessageFor(model => model.Klant.email)
    <input type="submit" value="Verstuur" /> 
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-03T10:39:35.787

```
[HttpPost]
public ActionResult methodName(Class model)
{
    EmailSender email = new EmailSender { 
                                         EmailAdresNaar = model.Klant.email,  
                                         Onderwerp = "Test email",  
                                         Bericht = "<b>Dit is een test</b>"
                                                   + "<i>cursief kan ook.</i>."
                                        };
    email.SendEmail();
} 
```

你的观点应该是：

```
@using(Html.BeginForm("methodName"))
{
<div class="editor-label">
    Email
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.Klant.email)
    @Html.ValidationMessageFor(model => model.Klant.email)
    <input type="submit" value="Verstuur" /> 
</div>
} 
```

也许阅读 MVC 的基础知识？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-03T10:42:55.033

这样做：鉴于：

```
@using (Html.BeginForm("MyMethod", "MyController"))
{
    <div class="editor-label">
    Email
</div>
<div class="editor-field">
    @Html.EditorFor(model => model.Klant.email)
    @Html.ValidationMessageFor(model => model.Klant.email)
    <input type="submit" value="Verstuur" /> 
</div>
} 
```

在控制器中

```
public ActionResult MyMethod(ModelName model)
{
  EmailSender email = 
      new EmailSender { 
                      EmailAdresNaar = model.Klant.email,  
                      Onderwerp = "Test email",  
                      Bericht = "<b>Dit is een test</b> <i>cursief kan ook.</i>."
                    };
  email.SendEmail();
} 
```

# android - WebView - 拦截启用 javascript 的表单提交

> ID：15784993
> 
> 赞同：0
> 
> 时间：2013-04-03T10:32:42.173
> 
> 标签：android, android-webview

启用 javascript 时，我在 WebView 中拦截表单提交时遇到问题。我创建了一个小例子来演示这个问题。

**test1.html**

```
<html>
  <body>
    <h1>Test 1</h1>
    <form action="http://111.222.33.44/test/test2.html" method="get">
      <input type="text" name="text1" />
      <input type="submit" value="Submit" />
    </form>
  </body>
</html> 
```

**测试活动**

```
public class TestActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        WebView webView = (WebView) findViewById(R.id.webView);
        webView.getSettings().setJavaScriptEnabled(true);

        webView.setWebViewClient(new WebViewClient() {
            @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Log.d("Test app", "Intercepted");
                return true;
            }

        });
        webView.loadUrl("http://111.222.33.44/test/test1.html");
    }

} 
```

当我在 Android 4.x 上运行此应用程序时，单击提交按钮时会打印消息“已拦截”。当我在 Android 2.1 - 2.3.x 上运行此应用程序时，不会打印该消息。

如何在 Android 2.1 - 2.3.x 上拦截表单提交？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T12:44:48.050

一种可能的解决方法是在 html 文件中进行以下更改：

代替

```
<input type="submit" value="Submit" /> 
```

采用

```
<input type="submit" value="Submit" onclick="this.form.submit();"/> 
```

# c# - 如何以百分比设置 XAML 宽度？

> ID：15784995
> 
> 赞同：22
> 
> 时间：2013-04-03T10:32:49.833
> 
> 标签：c#, .net, visual-studio, xaml, width

我正在尝试在 XAML 中创建一个宽度为 80% 的按钮，但我似乎无法弄清楚如何。这显然不像使用 Width="80%" 那样简单。我一直认为这可以通过以某种方式检测屏幕宽度并将其乘以 0.8 并将其用作宽度来完成，但我不确定如何在 XAML 中做到这一点。也许这必须在 .cs 文件中完成，然后从那里调整宽度。有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-04-03T10:39:49.753

是WPF吗？

如果是，则将控件（按钮）包装在网格中。然后指定网格列定义。例子：

```
<Grid>
  <Grid.ColumnDefinitions>
    <ColumnDefinition Width="0.2*"></ColumnDefinition>
    <ColumnDefinition Width="0.8*"></ColumnDefinition>
  </Grid.ColumnDefinitions>
  <Button Grid.Column="1" Grid.Row="0"></Button>
</Grid> 
```

**编辑：** 忘记关闭`<Button>`标签。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2017-10-25T11:41:30.330

我认为更合适的方法是

```
<Grid>
  <Grid.ColumnDefinitions>
    <ColumnDefinition Width="2*"></ColumnDefinition>
    <ColumnDefinition Width="10*"></ColumnDefinition>
  </Grid.ColumnDefinitions>
  <Button Grid.Column="1" Grid.Row="0"></Button>
</Grid> 
```

像bootstrap一样的12格分布，只看你的喜好

# ruby-on-rails - 删除尾随的“？” 从一个字符串

> ID：15784998
> 
> 赞同：8
> 
> 时间：2013-04-03T10:33:02.860
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2

我有这个网址：

```
http://localhost:3000/blog/posts?locale=en 
```

我有一个帮助删除`?locale=en`url：

```
def url_without_locale_params(url)
  uri = URI url
  params = Rack::Utils.parse_query uri.query
  params.delete 'locale'
  uri.query = params.to_param
  uri.to_s
end 
```

有了这个助手，我得到了这个 url `http://localhost:3000/blog/posts?`。我想删除尾随的`?`.

结果应该是`http://localhost:3000/blog/posts`。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-03T10:35:13.137

使用[#gsub](http://ruby-doc.org/core-2.0/String.html#method-i-gsub)：

```
uri = "http://localhost:3000/blog/posts?locale=en"
uri.gsub(/\?.*/, '')
  #=> "http://localhost:3000/blog/posts" 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-04-03T10:40:39.697

[`String#chomp`](http://ruby-doc.org/core-2.0/String.html#method-i-chomp)是一种可能。

```
1.9.3p392 :002 > "foobar?".chomp("?")
 => "foobar" 
```

最后的方法是

```
def url_without_locale_params(url)
  uri = URI url
  params = Rack::Utils.parse_query uri.query
  params.delete 'locale'
  uri.query = params.to_param
  uri.to_s.chomp("?")
end 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-03T10:49:00.220

到目前为止的答案都与字符串本身有关。你实际上在做的是告诉它它有 params `""`。如果你做到了`nil`，`params.to_param == ""`你就不会遇到这个问题。

```
def url_without_locale_params(url)
  uri = URI url
  params = Rack::Utils.parse_query uri.query
  params.delete 'locale'
  uri.query = params.to_param.blank? ? nil : params.to_param
  uri.to_s
end 
```

像这样的东西应该可以解决问题。这样做的原因是，即使是一个空字符串，URI 也会假设有一些东西要附加，所以它会把初始值`?`放在上面。

# javascript - 从 Jstree 禁用某些复选框

> ID：15784999
> 
> 赞同：4
> 
> 时间：2013-04-03T10:33:08.573
> 
> 标签：javascript, jquery, jstree

所以我有一个用 JsTree 创建的复选框树。我想要做的是最初将所有复选框设置为禁用，然后我有一个包含 li 标签 ID 的数组。通过浏览表格，我应该启用属于具有特定 ID 的标签的复选框。选中时，树应遵循与默认顺序相同的顺序（当父选中时，启用的子也应选中......等等）。我该如何进行？提前致谢。PS：JsTree 插件很棒。但是它缺乏很多文档。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-23T14:30:24.190

您应该覆盖`check_node`和`uncheck_node`函数的默认行为，并创建自己的禁用节点类型。

编码：

```
$('#tree').jstree({
    'plugins' : ['themes', 'html_data', 'checkbox', 'types'],
    'checkbox' : {
      'two_state' : true // Nessesary to disable default checking childrens
    },
    "types" : {
      "types": {
        "disabled" : { // Defining new type 'disabled'
          "check_node" : false, 
          "uncheck_node" : false 
        }, 
        "default" : { // Override default functionality
          "check_node" : function (node) {
            $(node).children('ul').children('li').children('a').children('.jstree-checkbox').click();
            return true;
          },
          "uncheck_node" : function (node) {
            $(node).children('ul').children('li').children('a').children('.jstree-checkbox').click();
            return true;
          }
        } 
      }
    }
}); 
```

现在要禁用节点，请将属性添加`rel="disabled"`到其`li`标签。

[这是关于 JSFiddle 的示例。](http://jsfiddle.net/6mtfL/1/)