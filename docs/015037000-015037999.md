# StackOverflow 问答 15037000-15037999

# twitter-bootstrap - 包括 bootstrap.min.js 打破下拉

> ID：15037000
> 
> 赞同：6
> 
> 时间：2013-02-23T04:16:49.730
> 
> 标签：twitter-bootstrap

我有一个`navbar-collapse`. 如果我使用下面显示的代码，下拉菜单将停止工作。（单击下拉项不会执行任何操作。）

```
 <!-- Le styles -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/bootstrap-responsive.min.css" rel="stylesheet">
    <style>
        body { padding-top: 60px; /* 60px to make the container go all the way
            to the bottom of the topbar */ }
    </style>
    <!-- Le javascripts -->
    <script type="text/javascript" src='/js/jquery-1.9.1.min.js'></script>
    <script type="text/javascript" src='/js/jquery.cookie.js'></script>
    <script type="text/javascript" src='/js/bootstrap.min.js'></script> 
```

删除对 bootstrap.min.js 的引用使下拉菜单正常工作。我很困惑。我不应该同时包含 .js 和 .css 吗？

（我尝试在 css 文件之前包含 jQuery。结果相同。）（我也尝试在 css 之前包含 javascript。结果相同。）所有引导文件都是直接从引导网站下载的。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-23T04:48:00.967

对 bootstrap.js 文件的引用很重要，因为其中包含下拉功能。在 bootstrap.js 的第 637 行，定义了下拉定义。喜欢 ：

```
 var toggle = '[data-toggle=dropdown]'
, Dropdown = function (element) {
    var $el = $(element).on('click.dropdown.data-api', this.toggle)
    $('html').on('click.dropdown.data-api', function () {
      $el.parent().removeClass('open')
    })
  } 
```

与 bootstrap.min.js 中定义的方式相同，它是 bootstrap.js 的缩小版本。删除对 bootstrap.js 文件的引用不会使下拉功能起作用。

另外我会建议你在页脚中使用 javascripts .. 喜欢

```
<script type="text/javascript" src='/js/jquery-1.9.1.min.js'></script>
<script type="text/javascript" src='/js/bootstrap.min.js'></script>
<script type="text/javascript" src='/js/jquery.cookie.js'></script> 
```

# ios - 如何在同一个控制器中交替切换视图（视图需要全屏）？

> ID：15037005
> 
> 赞同：0
> 
> 时间：2013-02-23T04:17:53.293
> 
> 标签：ios, ios5, ios6

我正在练习 ios，我正在尝试制作简单的房地产应用程序，一个视图控制器，我放置导航栏，在导航栏的右侧我有按钮地图（我正在尝试使用基本数据显示该区域的所有房屋：街道，价格，长，纬度......在表格视图中，就像地图视图上的标记一样）。

我希望该按钮的行为类似于切换，在表视图和地图视图之间切换，但在同一个控制器中。（在 android 中，我可以将一个放在另一个下方，然后将可见性设置为转到一个和另一个可见）。如何在同一控制器中交替切换视图（视图需要全屏）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:22:11.137

只需将 newView 分配给 oldOne

```
UIView *generalView=[UIView alloc]init];
[self.view addSubView:generalView]; 
```

当您想显示 tableView 时，只需分配

```
generalView=tableView; 
```

当你想要地图时，然后

```
generalView=mapView; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T04:22:59.500

你在用故事板吗？为什么不直接在按钮点击时执行 segue？

```
- (void)myButtonMethod
{
    //execute segue programmatically
    [self performSegueWithIdentifier: @"MySegue" sender: self];
} 
```

“MySegue”将是在两个视图之间的情节提要中设置的 segue 标识符。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T04:43:20.577

将两个视图 tableview 和 maple 添加到 UIViewController 的视图中。就像：

```
-(void) viewDidLoad
{
    [self.view addSubview:tableView];
    [self.view addSubview:mapView];
} 
```

单击按钮决定需要​​显示哪个视图：

```
-(void) onButtonClick:(UIButton *)sender
{
     //If you want to display map..
     [self.view bringSubviewToFront:mapView];
     //If tableview needs to display
     [self.view bringSubviewToFront:tableView];
} 
```

# sql-server-2008-r2 - 尝试读取 foxpro dbf 并出现错误：无法为链接服务器“（null）”初始化 OLE DB 提供程序“MSDASQL”的数据源对象

> ID：15037009
> 
> 赞同：2
> 
> 时间：2013-02-23T04:19:01.877
> 
> 标签：sql-server-2008-r2, linked-server, foxpro

我尝试使用 Microsoft SQL Server 2008 R2 读取 Foxpro DBF 文件。

我写了这个查询：

```
SELECT * 
FROM OPENROWSET('MSDASQL', 'Driver=Microsoft Visual FoxPro Driver;
SourceDB=D:\DB\;
SourceType=DBF',
'SELECT * FROM MyTable') 
```

我还安装了“VFPOLEDB”提供程序来运行查询。但它没有运行，我收到了这个错误：

> *消息 7399，级别 16，状态 1，第 1 行
> 链接服务器“（null）”的 OLE DB 提供程序“MSDASQL”报告错误。提供商没有提供有关该错误的任何信息。
> 消息 7303，级别 16，状态 1，行 1
> 无法初始化链接服务器“（null）”的 OLE DB 提供程序“MSDASQL”的数据源对象。*

我之前运行过这个查询是正确的，但它现在没有运行，我不知道为什么！我谷歌了，但它没有帮助。

如何使用 SQL Server 2008 R2 读取 DBF 文件？我的 DBMS 在 Windows 7 操作系统和 Windows 2003 Server 上运行。

在此先感谢，莫森。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-10-22T22:22:40.020

这是 SQL Server 2008 R2 的问题。您可以降级到 SQL Server 2005 或 SQL Server 2008 以使其再次正常工作。

# linq - LINQ to EF - 查找子集合的字符串属性至少部分匹配字符串列表中的所有记录的记录

> ID：15037010
> 
> 赞同：5
> 
> 时间：2013-02-23T04:19:35.407
> 
> 标签：linq, entity-framework, entity-framework-5

我目前正在使用 LINQ 和 Entity Framework 5.0 编写一个基于 Web 的“配方”应用程序。我一直在努力处理这个查询，所以非常感谢任何帮助！

将有一个搜索功能，用户可以在其中输入他们希望配方结果匹配的成分列表。我需要找到所有食谱，其中相关的成分集合（名称属性）包含字符串列表（用户搜索词）中每条记录的文本。例如，考虑以下两个配方：

```
Tomato Sauce: Ingredients 'crushed tomatoes', 'basil', 'olive oil'
Tomato Soup:  Ingredients 'tomato paste', 'milk', 'herbs 
```

如果用户使用搜索词“番茄”和“油”，它将返回番茄酱而不是番茄汤。

```
var allRecipes = context.Recipes
                .Include(recipeCategory => recipeCategory.Category)
                .Include(recipeUser => recipeUser.User);

IQueryable<Recipe> r = 
from recipe in allRecipes
let ingredientNames = 
    (from ingredient in recipe.Ingredients 
     select ingredient.IngredientName)
from i in ingredientNames
let ingredientsToSearch = i where ingredientList.Contains(i)
where ingredientsToSearch.Count() == ingredientList.Count()
select recipe; 
```

我也试过：

```
var list = context.Ingredients.Include(ingredient => ingredient.Recipe)
       .Where(il=>ingredientList.All(x=>il.IngredientName.Contains(x)))
       .GroupBy(recipe=>recipe.Recipe).AsQueryable(); 
```

感谢您的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-23T04:26:51.303

就在我的脑海中，我会去做这样的事情

```
public IEnumerable<Recipe> SearchByIngredients(params string[] ingredients)
{
    var recipes = context.Recipes
                .Include(recipeCategory => recipeCategory.Category)
                .Include(recipeUser => recipeUser.User);
    foreach(var ingredient in ingredients)
    {
        recipes = recipes.Where(r=>r.Ingredients.Any(i=>i.IngredientName.Contains(ingredient)));
    }

    //Finialise the queriable
    return recipes.AsEnumerable();

} 
```

然后，您可以使用以下方法调用它：

```
SearchByIngredients("tomatoes", "oil"); 
```

或者

```
var ingredients = new string[]{"tomatoes", "oil"};
SearchByIngredients(ingredients ); 
```

这将要做的是将 where 子句附加到每个搜索词的可查询食谱中。多个 where 子句在 SQL 中被视为 AND（无论如何，这正是您想要的）。Linq 在我们可以做到这一点的方式上非常好，然后在函数结束时，我们最终确定可查询对象，基本上说我们刚刚做的所有事情都可以变成一个单一的查询返回数据库。

我唯一的其他注意事项是您真的想要索引/全文索引成分名称列，否则这不会很好地扩展。

# git - 使用 git 更新手动副本

> ID：15037013
> 
> 赞同：0
> 
> 时间：2013-02-23T04:20:08.447
> 
> 标签：git

我有一个带有更新应用程序的 git 存储库，但还有一个在“前 git”时代开发的实例：它是一个没有`.git`文件夹的手动副本。

我想更新副本并确保保存可能存在的任何更改。如何？

最简单的方法是`git clone`复制到另一个文件夹，然后将实例复制到工作树上并观察`git diff`. 有更好的想法吗？:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:23:43.680

我会做 a`git init`并链接存储库（使用 a `git remote add`），然后手动复制文件。Git 应该能够识别它们。做一个`git status`应该告诉你发生了什么变化。

# ruby - Zlib 膨胀错误

> ID：15037026
> 
> 赞同：-1
> 
> 时间：2013-02-23T04:23:31.103
> 
> 标签：ruby, compression, zlib, inflate, deflate

我正在尝试将压缩字符串保存到文件中并稍后加载它们以在游戏中使用。加载数据备份以供使用时，我不断收到“in 'finish': buffer error”错误。我想出了这个：

```
 require "zlib"

    def deflate(string)
      zipper = Zlib::Deflate.new
      data = zipper.deflate(string, Zlib::FINISH)
    end

    def inflate(string)
      zstream = Zlib::Inflate.new
      buf = zstream.inflate(string)
      zstream.finish
      zstream.close
      buf
    end

    setting = ["nothing","nada","nope"]
    taggedskills = ["nothing","nada","nope","nuhuh"]

    File.open('testzip.txt','wb') do |w|
        w.write(deflate("hello world")+"\n")
        w.write(deflate("goodbye world")+"\n")
        w.write(deflate("etc")+"\n")
        w.write(deflate("etc")+"\n")
        w.write(deflate("Setting: name "+setting[0]+" set"+(setting[1].class == String ? "str" : "num")+" "+setting[1].to_s)+"\n")
        w.write(deflate("Taggedskill: "+taggedskills[0]+" "+taggedskills[1]+" "+taggedskills[2]+" "+taggedskills[3])+"\n")
        w.write(deflate("etc")+"\n")
    end

    File.open('testzip.txt','rb') do |file|
        file.each do |line|
            p inflate(line)
        end
    end 
```

它在“Taggedskill：”点抛出错误。我不知道它是什么，但是尝试将其更改为“Skilltag：”、“Skillt：”等会继续引发缓冲区错误，而“Setting：”或“Thing：”之类的东西可以正常工作，而将*设置*行更改为“Taggedskill：”继续正常工作。这里发生了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:38:19.723

在 testzip.txt 中，您存储的是换行符分隔的二进制 blob。但是，二进制 blob 本身可能包含换行符，因此当您打开 testzip.txt 并逐行拆分时，您最终可能会将一个`inflate`可以理解的二进制 blob 拆分为两个它不理解的二进制 blob。

遇到错误后尝试运行`wc -l testzip.txt`。您将看到该文件包含的行数比您输入的行数多。

您需要做的是一次压缩整个文件，而不是逐行压缩。

# installshield - Installscript - 从 IIS 卸载中删除站点

> ID：15037027
> 
> 赞同：0
> 
> 时间：2013-02-23T04:23:31.283
> 
> 标签：installshield

我正在使用 Installshield 2012 春季版。我创建了一个安装项目。卸载时，我需要从 IIS 中删除文件并自动停止服务。我尝试过使用一些 installscript 代码。但是，我收到了这个错误：

“错误 2762：无法写入脚本记录事务未启动”

谁能告诉我，有没有其他方法可以做这个操作。

提前致谢。

问候，纳伦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T20:27:27.990

您何时对自定义操作进行排序？另外，您的自定义操作是什么类型？

如果您尝试执行延迟的自定义操作，则需要在 InstallInitialize 和 InstallFinalize 之间对其进行排序。

你能提供你的安装脚本的片段吗？

# php - PHP 手册 - .chm 文件不起作用

> ID：15037029
> 
> 赞同：8
> 
> 时间：2013-02-23T04:23:39.083
> 
> 标签：php, chm, manual

[我刚刚从http://us2.php.net/download-docs.php](http://us2.php.net/download-docs.php)下载了 php_manual.en.chm 文件， 但它不起作用。

每当我打开此文件时，我都会看到以下消息：

网页导航已取消

你可以尝试什么：

```
 Retype the address. 
```

（我使用的是 Windows 7）

我搜索了很多，但我没有得到确切的解决方案。所以请在这种情况下指导我。

提前致谢。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-23T04:34:40.260

帮助文件被windows阻止打开，您应该可以通过以下方式取消阻止它：

1.  打开 Windows 资源管理器
2.  查找您的 CHM 文件
3.  右键单击并选择
4.  属性 单击常规选项卡上的取消阻止按钮

[此 Microsoft 支持文章](http://support.microsoft.com/kb/902225)中提供了更多详细信息和选项。

# javascript - Javascript 工作正常，但在 jQuery 中不行

> ID：15037032
> 
> 赞同：-4
> 
> 时间：2013-02-23T04:25:27.677
> 
> 标签：javascript, jquery

这段代码在 Javascript 中对我来说很好用。

```
function check_u() {
    var errormessage = document.getElementById("errorname");
    var user = document.forms["login"]["user"].value;
    if (user == null || user == "") {
        errormessage.innerHTML = "Please enter your user id";
    } else {
        errormessage.innerHTML = "";
    }
}
function check_p() {
    var errormessage = document.getElementById("errorpass");
    var pass = document.forms["login"]["password"].value;
    if (pass == null || pass == "") {
        errorShow.innerHTML = "Password cannot be blank";
    } else {
        errorShow.innerHTML = "";
    }
} 
```

我的html是：

```
<input type="text" name="user" autocomplete="off" onBlur="check_u()" />
<input type="text" name="password" autocomplete="off" onBlur="check_p()" />
<div id="errorname" /> 
```

我已经在 jQuery 中为此代码编写了一个替代方案。在 JavaScript 中它工作正常，但在 jQuery 中，当我第一次不输入任何输入时，它会显示错误消息。我给它输入一些值，然后它会清除错误消息。现在，如果我将输入留空，则不会显示错误消息。这是我的 jQuery 代码：

```
function check_u(){
            var fieldValue = $("input[name=user]").val();
    if(fieldValue==""||fieldValue==null){
                    $("#errorname").html('<div id = "error_left"></div>'+
       '<div id = "error_right"><p>This is a required field</p></div>');
            }else{
                    $("#errorname").hide();
            }
        } 
```

为什么，如果重复调用，我的 errorname div 不显示？

.hide() 不仅仅是清除 div 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:33:53.977

在 javascript else 子句中，您正在清除内容，但在 jQuery 子句中，您将隐藏整个错误元素。

代替

```
$("#errorname").hide() 
```

尝试

```
$("#errorname").html("") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T04:44:25.883

`errorname`设置好html后需要显示

```
$("#errorname").html('<div id = "error_left"></div>'+
   '<div id = "error_right"><p>This is a required field</p></div>').show(); 
```

如果输入有效，您将隐藏`errorname`div，然后如果值变为无效，则需要设置错误消息并将 div 的可见性设置为。

演示：[Plunker](http://plnkr.co/edit/V40mzQv9Xc9UDpzBTlPv?p=preview)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T04:33:47.793

您的 onblur 正在调用`check_u()`，但您的其他 jQuery 示例的函数名称是`checkUser()`

# c++ - 如何轻松保护或跟踪指针崩溃？

> ID：15037033
> 
> 赞同：0
> 
> 时间：2013-02-23T04:25:38.367
> 
> 标签：c++, pointers

我发现在有效分配之前使用指针时，代码经常会崩溃，例如：

```
MyType* p = 0;
p->foo(); // crashes because p is not assigned. 
```

为了保护if，我通常在使用指针之前添加一个assert语句，比如

```
assert(p); 
```

但是也很容易忘记添加断言。有什么更好的保护方法吗？或者有什么工具可以帮助在用户代码崩溃发生时定位它？

事实上，我经常使用智能指针来拥有数据。原始指针仅用于参考。例如：

```
std::unique_ptr<Model> p;

class View
{
public:
    View(Model* model = 0) : m_model(model) {}

    void setModel(Model* model) {m_model = model;}
    Model* model() const {return m_model;}

private:
    Model* m_model;
}; 
```

当我忘记为视图设置模型时，问题仍然存在。在大型代码中，很容易忘记这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:28:51.153

对于这类事情，我最喜欢的工具是 valgrind。在开发过程中，你运行你的程序`valgrind myProg...`，它会告诉你无效的内存访问、泄漏和其他事情。

但是，至于在取消引用之前添加一个指针不为空的断言，如果您说程序无论如何都会在空取消引用时崩溃，这似乎有点不必要。添加断言可能会使崩溃的原因更容易跟踪，但也许您有更深层次的问题（即一般过度使用或滥用原始指针）。

# java - 在保持 JPanel 类型的同时设置配置

> ID：15037038
> 
> 赞同：-3
> 
> 时间：2013-02-23T04:26:43.750
> 
> 标签：java, swing, oop, applet, jpanel

我尝试运行以下源但得到

> 类型不匹配：无法从 CustomJPan 转换为 JPanel

错误。有人可以帮忙吗？请原谅消息来源，我是从头顶上做的。

```
public class rebuiltgui extends JApplet {

  public void init() {

    JPanel jpan = new CustomJPan();     
  }
}

class CustomJPan  {

  public JPanel CustomJPan()  {

    thispan = new JPanel();
    thispan.setBackground( Color.red );
    return thispan;
  }

  public changeColour() {

    // Change colour to blue here
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T04:29:15.900

由于 CustomJPan 没有扩展任何内容，因此您的代码不会进行直接子类化。相反，您似乎有一个与类 CustomJPan 同名的“伪”构造函数尝试返回某些内容，并且您当然知道构造函数被声明为不返回任何内容。

如果要子类化，则必须*扩展*另一个类。

IE，

```
public class CustomJPan extends JPanel {

   // a real constructor has no return type!
   public CustomJPan() {
       // ....         
   }

  // ... etc
} 
```

任何介绍性的 Java 教科书都很好地介绍了子类化，您最好阅读有关这方面的章节。

一个警告：除非您有明确的需要，例如希望更改类的固有行为，尤其是当您希望覆盖方法时，否则您将希望避免子类化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T04:35:59.627

尝试类似的东西

```
public class rebuiltgui extends JApplet {

  public void init() {

    JPanel jpan = new CustomJPan();     
  }
}

class CustomJPan extends  JPanel {

  public CustomJPan()  {
      super();
      setBackground( Color.red );
  }

  public void changeColour() {

    // Change colour to blue here
  }
} 
```

我已更改为扩展 jpanel

# android - android项目无法在设备上运行

> ID：15037042
> 
> 赞同：0
> 
> 时间：2013-02-23T04:27:05.303
> 
> 标签：android, android-relativelayout, android-imageview, android-sdcard, android-drawable

我在 Eclipse IDE 上编写了一个简单的“hello world”程序，包括一个 ImageView，我将我的图像存储在 drawable-hdpi 中。这已在我的 android 虚拟设备上成功运行。但是，当我将这个项目转移到我的 android 手机上并尝试通过一个 android 应用程序“AIDE - Android Java IDE”运行它时，它显示错误，因此没有构建它的 apk：

```
aapt:invalid resourse directory name:/mnt/sdcard/AppProjects/PracticeTwo/res/drawable-xxhdpi 
```

任何人都可以在这方面帮助我，为什么会出现这个错误以及如何纠正它，或者有任何其他方式来构建它的 apk，然后我可以在我的设备上运行它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-28T14:37:59.663

我也遇到了同样的问题，`aapt`packed with AIDE的版本可能没有更新！
在问题得到解决之前，解决方法是简单地**删除该文件夹**（并记住也要删除该`/bin`目录，因为它可能仍然有对它的引用）。
请注意，[目前该目录的唯一用途是为平板电脑`drawable-xxhdpi`提供更大的图标`xhdpi`](https://plus.google.com/118292708268361843293/posts/ePQya3KsTjW)。

我会尽快写信给开发人员...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-13T13:15:01.067

AIDE 从 1.0.6 版开始支持 xxhdpi 资源。

# python - 解析制表符分隔的文件

> ID：15037043
> 
> 赞同：0
> 
> 时间：2013-02-23T04:27:05.420
> 
> 标签：python, file, dictionary

我有一个制表符分隔文件 ( `raw.txt`)，其格式如下：

```
type    A1    A2    A3    A4    ....
params  int   char  char  char  ...
data    1     abc   cde   fgh   ...
type    B1    B2    B3    B4    ....
feature int   char  char  char  ...
data    2     aaa   bbb   ccc   ...   
type    C1    C2    C3    C4    ....
stats   int   int   char  char  ...
data    2     11    aa    bb    ...
data    3     12    cc    cc    ...
data    4     13    dd    dd    ...
data    5     14    ee    ee    ...
...     ...   ...   ...   ...   ... 
```

我想解析这样的文件，然后我想创建一个以文件名命名的文件夹，然后在该文件夹中，我想基于`types`. 一旦在该行中观察到，将使用数据创建文件`type`，例如：

```
/raw/file1
A1    A2    A3    A4    ....
int   char  char  char  ...
1     abc   cde   fgh   ...

/raw/file2
B1    B2    B3    B4    ....
int   char  char  char  ...
2     aaa   bbb   ccc   ...

/raw/file3
C1    C2    C3    C4    ....
int   int   char  char  ...
2     11    aa    bb    ...
3     12    cc    cc    ...
4     13    dd    dd    ...
5     14    ee    ee    ...
...   ...   ...   ...   ... 
```

等等......我也想创建字典，比如，

```
dict1 = {A1:['int', [1]], A2:['char', ['abc']], ...}
dict2 = {B1:['int', [2]], B2:['char', ['aaa']], ...}
dict3 = {C1:['int', [2, 3, 4, 5], C2:['int', [11, 12, 13, 14, ...]], ...} 
```

我该怎么做，因为这是一个非常大的文件，解析如此大的文件会挂起窗口，而且我无法弄清楚如何从文件中获取这样的输出。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T08:02:10.843

这是解析文件并生成新文件的代码。该`newfile`列表在写入文件之前临时存储每种类型的数据。以开头的`'type'`行将触发 newfile 来存储该类型的结果，如果`newfile`之前有内容，它将把它们写入文件。`inc`每次调用时变量都会递增，并`writefile()`用作文件名的后缀。在`writefile()`我曾经`str.format()`创建一个动态文件名并写入文件左对齐，宽度为 6，从`linelist`.

```
def writefile(newfilelist, suffix):
  with open('file{}'.format(suffix), 'w') as f:
    for linelist in newfilelist:
      f.write(('{:<6}'*len(linelist)).format(*linelist) + '\n')

import os
with open('raw.txt') as file:
  os.mkdir('raw')
  os.chdir('raw')
  newfile = []
  inc = 0
  for line in file:
    linelist = line.split()
    if linelist[0] == 'type':
      if newfile:
        inc += 1
        writefile(newfile,inc)
        newfile = []
      newfile.append(linelist[1:])
    else:
      newfile.append(linelist[1:])
  if newfile:
    inc += 1
    writefile(newfile,inc) 
```

# r - 使用行内 r 代码作为 R 降价标头的一部分

> ID：15037046
> 
> 赞同：11
> 
> 时间：2013-02-23T04:27:31.690
> 
> 标签：r, knitr, r-markdown

我希望在行 R 代码中使用作为 ar 降价文件中标题的一部分。但是，当我编织文件时，标题上使用的字体是不同的。如何确保字体相同。下面是一个简单的例子。

```
`r 1+1`  Header 
------------------------- 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T04:38:39.283

您可以将内容包装在反引号中以表示 r 代码内联，如下所示：

```
## Title `r 1+1` Header 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T04:57:54.280

如果没有可重现的示例，很难精确，但您可能需要考虑的一件事是`results="asis"`在 R 代码中使用 chunk 选项，这样结果就不会包装在代码标记块中。我不确定这如何与内联命令一起使用，但您可以使用常规 R 块并让它从 R 代码创建整个标头，例如：

```
```r results="asis"
cat('# ', 1+1, " Header")
``` 
```

# web-services - 站点重启时缓存不明确

> ID：15037050
> 
> 赞同：6
> 
> 时间：2013-02-23T04:28:07.233
> 
> 标签：web-services, caching, iis-6, appdomain

我正在使用单例模式来加载数据库中的一些配置。如果我在数据库中添加一些新配置并重新启动 web 服务，那么它不会加载这些设置。为此，如果我确实重新启动了 IIS 服务器，那么它工作正常。

我不确定它驻留在哪里？它是否已加载到 App Domain 中，我还需要重新启动 AppDomain 吗？我不清楚为什么会这样。因为如果我从 IIS 重新启动服务，它也应该清除应用程序域中的所有信息，但不会发生。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-23T04:43:12.217

停止网站只会停止接受请求，同时保持您的应用程序处于相同状态。工作进程不会停止。

要重启worker进程，从而刷新内存，需要回收Application Pool。

[你可以阅读更多关于它](http://mvolo.com/starting-stopping-and-recycling-iis-70-web-sites-and-application-pools)的信息。

# mongodb - 最初构建多租户 mongoDB 数据库，但后来将其删除

> ID：15037051
> 
> 赞同：0
> 
> 时间：2013-02-23T04:28:27.713
> 
> 标签：mongodb, multi-tenant

我遇到了一个设计问题，因为我对 mongodb 比较陌生，所以我认为我需要一些帮助才能做出正确的决定。

问题：

我正在为 A 组消费者构建一种社交网站。我还需要为 B 组消费者建立同样类型的网站。最初，我想将它们分开，两组之间没有交互/共享，但我不想维护两个单独的网站。所以多租户解决方案是理想的。这个问题的棘手部分是，在未来的某个时刻，我想为 B 组和 A 组消费者创建一个网站，基本上将它们合并到一个网站中。这 1 个网站将拥有来自原始 A 组和 B 组的所有用户，但现在他们都可以互相看到、互相交流、互相加为好友等。

首先创建一个多租户 mongo 数据库是正确的路径，然后删除这个多租户有多容易？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-28T17:56:27.723

我建议您不要创建和删除数据库。相反，您可以将应用程序与 facebook 和 g+ 等 2 个租户以及他们自己的一组用户一起使用。但是，在未来的某个时间点，您可以将您的 Facebook 用户分享给 g+ 或其他方式。在这种情况下，无需删除/合并基于租户的表或数据库，它们将保持不变。

您的应用程序应该具有多租户功能，允许跨租户共享用户或跨租户链接用户，这是可靠的方法。

# php - 使用 PHP 将 CSV 文件的每一行添加到数组中

> ID：15037054
> 
> 赞同：0
> 
> 时间：2013-02-23T04:28:46.513
> 
> 标签：php, arrays, fopen, fgetcsv

我几乎不好意思问这个，但我已经尝试完成这个任务几个小时了。如果没有彻底掌握[fopen](http://php.net/manual/en/function.fopen.php)或[fgetcsv](http://php.net/manual/en/function.fgetcsv.php) 函数，我有点迷茫。我发现的每个示例都不太适合我。

我正在寻找一种将 CSV 文件的每一行加载到一个数组中的方法。例如，如果这是我的 CSV 文件：

```
Apple,Banana,Orange
Kiwi,Watermelon,Pineapple
Dog,Cat,Bird 
```

那么这将是我的数组：

```
Array
(
    [0] => Apple,Banana,Orange
    [1] => Kiwi,Watermelon,Pineapple
    [2] => Dog,Cat,Bird
) 
```

我会很感激任何提示。谢谢！:)

* * *

仅供参考，这是我目前所拥有的：

```
$list = '../reports/apples.csv';

$csvfile = fopen($list,'rb');
while(!feof($csvfile)) {
$listofthings[] = fgetcsv($csvfile);
}
fclose($csvfile);

print_r($listofthings); 
```

但是，当我宁愿只拥有一个大数组时，这会产生如下的多维数组。

```
Array
(
    [0] => Array
        (
            [0] => Apple
            [1] => Banana
            [2] => Orange
        )

    [1] => Array
        (
            [0] => Kiwi
            [1] => Watermelon
            [2] => Pineapple
        )

    [2] => Array
        (
            [0] => Dog
            [1] => Cat
            [2] => Bird
        )
) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T04:29:53.593

如果要按行拆分文件，请使用`file`.

```
$newArray = file('/path/to/file.csv'); 
```

如果您希望每个以逗号分隔的值作为数组的一个元素，请使用`file_get_contents`逗号并以逗号分隔。

```
$contents = file_get_contents('/path/to/file.csv');
$newArray = explode(',', $contents); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T04:36:41.847

您可以`explode`按照 Nicholas 的建议阅读文件，也可以使用以下命令一次性完成所有操作[`file`](http://www.php.net/manual/en/function.file.php)：

```
$lines = file('/path/to/file.csv'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T04:38:39.730

正在找这个？？

```
$mytext = "Apple,Banana,Orange
Kiwi,Watermelon,Pineapple
Dog,Cat,Bird";

$line_explode = explode("\n", $mytext);
$comma_explode = array();
foreach ($line_explode as $line) {
  $comma_explode[] = explode(",", $line);
}

print_r($comma_explode); 
```

输出

```
Array
(
    [0] => Array
        (
            [0] => Apple
            [1] => Banana
            [2] => Orange
        )

    [1] => Array
        (
            [0] => Kiwi
            [1] => Watermelon
            [2] => Pineapple
        )

    [2] => Array
        (
            [0] => Dog
            [1] => Cat
            [2] => Bird
        )

) 
```

# android - 使用 arrayadapter 将项目添加到列表视图

> ID：15037059
> 
> 赞同：0
> 
> 时间：2013-02-23T04:29:07.713
> 
> 标签：android, listview, android-arrayadapter, domparser, notifydatasetchanged

我想添加使用 arrayadapter 填充我的列表视图，我目前正在使用 simpleadapter。我想更改适配器的原因是我可以使用方法 notifyDataSetChanged()，所以任何人都可以使用下面的代码告诉我如何做到这一点？我真的很感激

```
 public class AndroidXMLParsingActivity extends ListActivity {

// All static variables
static final String URL = "https://news.instaforex.com/news";

// XML node keys
static final String KEY_ITEM = "item"; // parent node
static final String KEY_TITLE = "title";
static final String KEY_PUBDATE = "pubDate";
static final String KEY_DESCRIPTION = "description";

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    final ArrayList<HashMap<String, Spanned>> menuItems = new ArrayList<HashMap<String, Spanned>>();

    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_ITEM);
    // looping through all item nodes <item>
    for (int i = 0; i < nl.getLength(); i++) {
        // creating new HashMap
        HashMap<String, Spanned> map = new HashMap<String, Spanned>();
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_TITLE, Html.fromHtml(parser.getValue(e, KEY_TITLE)));
        map.put(KEY_PUBDATE, Html.fromHtml(parser.getValue(e, KEY_PUBDATE)));
        map.put(KEY_DESCRIPTION, Html.fromHtml(parser.getValue(e, KEY_DESCRIPTION)));

        // adding HashList to ArrayList
        menuItems.add(map);

    }

    // Adding menuItems to ListView

    ListAdapter adapter = new SimpleAdapter(this, menuItems,
            R.layout.list_item,
            new String[] { KEY_TITLE, KEY_PUBDATE }, new int[] {
                    R.id.name, R.id.cost }); 

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();
    lv.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            String title = menuItems.get(position).get(KEY_TITLE).toString();
            String pubDate = menuItems.get(position).get(KEY_PUBDATE).toString();
        String description= menuItems.get(position).get(KEY_DESCRIPTION).toString();

    System.out.println("PubDate==>"+pubDate+"\n Description===>"+description);

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(KEY_TITLE, title);
            in.putExtra(KEY_PUBDATE, pubDate);
            in.putExtra(KEY_DESCRIPTION, description);
            startActivity(in);
        }
    });

}
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:11:11.500

notifyDataSetChanged() 是 BaseAdapter 方法，SimpleAdapter 和 ArrayAdapter 的父类。SimpleAdapter 和 ArrayAdapter 的区别主要在于提供给 AdapterView 的数据。SimpleAdapter 由 XML 数据支持，而 ArrayAdapter 由任意数据数组支持。换句话说，无需更改适配器的类型。

现在文档声明 SimpleAdapter 是“一个简单的适配器，可以将*静态数据映射到视图”，这将在*[此处](http://www.vogella.com/articles/AndroidListView/article.html#adapterown_custom)进行更详细的讨论。但事实是 SimpleAdapter 也适用于动态数据。

如果您仍想切换到 ArrayAdapter，则必须覆盖 ArrayAdapter 的 getView() 方法，因为 ArrayAdapter 每行仅支持一个 TextView（与支持将多个值映射到单行的多个 View 的 SimpleAdapter 不同）。有很多关于 ArrayAdapter 的教程，例如这个： [http](http://www.vogella.com/articles/AndroidListView/article.html#adapterown_example) ://www.vogella.com/articles/AndroidListView/article.html#adapterown_example 。

# php - 保留 ajax 控件的文件上传

> ID：15037061
> 
> 赞同：2
> 
> 时间：2013-02-23T04:29:18.017
> 
> 标签：php, javascript, ajax

我在上传文件时遇到了一个小问题。

因此，您可以单击一个按钮并出现一个窗口（由 ajax 驱动），您选择文件并按上传。问题是一旦文件上传到浏览器，页面就会重新加载并关闭窗口。而且没有文件:(。我已经测试了没有窗口的代码，它们工作得很好。你有什么建议？

这是我的上传代码

```
 <html>
<body>

<h2 class="">Step 1: Add the video</h2>

<p class="note">Your text goes here</p>

<form method="post" enctype="multipart/form-data">
File Name:<input type="text" name="name"/>
<br/><br/>
Browse: <input type="file" name="file"/>
<br/><br/>
<input type="submit" id='button' Value="Upload the video file" name="submit"/>
</form>

<?php
if(isset($_POST["submit"]))
{
$filename=$_POST["name"];
$ext = pathinfo($_FILES['file']['name'], PATHINFO_EXTENSION);
$size=$_FILES["file"]["size"];
$size=$size/1000000;
$size=round($size, 2);
$size.="MB";
$namewithext=$filename." (".$size.")".".".$ext;
  if ($_FILES["file"]["error"] > 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "<br>";
    }
  else
    {
    if (file_exists("../../../moreinfo/files/videos/" . $_FILES["file"]["name"]))
      {
      echo "<script> alert('".$_FILES["file"]["name"] . " already exists. "."');</script>";
      }
    else
      {

      move_uploaded_file($_FILES["file"]["tmp_name"],
      "../../../moreinfo/files/videos/" . $namewithext);
      echo "<script> alert('"."success"."');</script>";

      }
    }
}
  else
  {

  }
?>
<?php
foreach(glob('../../../moreinfo/files/videos/*.*') as $filename){
     $name = str_replace('../../../moreinfo/files/videos/', '', $filename);
     $ext = pathinfo($name, PATHINFO_EXTENSION);
     $notneeded=".".$ext;
     $name = str_replace($notneeded, '', $name);
     echo $name."</br>";
 }
 ?>
</body>
</html> 
```

请注意，`echo "<script> alert('"."success"."');</script>";`永远不会被执行，因为没有时间。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:32:12.353

代替

```
<form method="post" enctype="multipart/form-data"> 
```

和

```
<form method="post" enctype="multipart/form-data" action="<?php echo $_SERVER['PHP_SELF']; ?>"> 
```

如果这不是问题，请尝试

```
echo "Return Code: " . $_FILES["file"]["error"] . "<br>"; exit; 
```

看看有没有错误。

# python - Facebook 图形 API 编码 - Python

> ID：15037068
> 
> 赞同：0
> 
> 时间：2013-02-23T04:30:41.877
> 
> 标签：python, facebook-graph-api

我绕着圈子，尝试了很多不同的方法，所以我想我的核心理解是错误的。如果能帮助我理解我的编码/解码问题，我将不胜感激。

```
import urllib2

result = urllib2.urlopen("https://graph.facebook.com/163146530455639")
rawdata = result.read().decode('utf-8')

print "HEADER: " + str(result.info())

print "I want this to work ", rawdata.find('http://www.facebook.com')
print "I dont want this to work ", rawdata.find('http:\/\/www.facebook.com') 
```

我猜我得到的不是 utf-8，即使标题似乎是这样。或者作为 Python 的新手，我正在做一些愚蠢的事情。:(

谢谢你的帮助，

菲尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-21T14:24:11.577

您从 Facebook 获取 JSON，因此最简单的方法是使用内置`json`模块对其进行解码（前提是您使用的是 Python 2.6+，否则您必须安装）。

```
import json
import urllib2

result = urllib2.urlopen("https://graph.facebook.com/163146530455639")
rawdata = result.read()
jsondata = json.load(rawdata)

print jsondata['link'] 
```

给你：

```
u'http://www.facebook.com/GrosvenorCafe' 
```

# scala - Play2 在 Osx 的开发模式下通过 Sbt 运行导致内存不足

> ID：15037071
> 
> 赞同：1
> 
> 时间：2013-02-23T04:31:34.730
> 
> 标签：scala, playframework-2.0, sbt

我似乎找不到类似的问题。在 OSX 上，play2 bin 似乎运行正常，但使用 sbt 会导致 oom 错误并且 scala 文件永远无法完成编译

> ---（从 SBT 运行应用程序，启用自动重新加载）---
> 
> [info] play - 在端口 9000 上侦听 HTTP...（服务器已启动，使用 Ctrl+D 停止并返回控制台...）
> 
> [信息] 将 15 个 Scala 源代码和 2 个 Java 源代码编译到 /Users/tripled153/Development/src/Foundation/playApp/target/scala-2.9.1/classes... Java HotSpot(TM) 64 位服务器 VM 警告：异常java.lang.OutOfMemoryError 发生调度信号 Unknown Signal to handler - VM 可能需要被强制终止

我正在使用扩展内存设置运行，但仍然没有运气。不过，在分阶段（prod）模式下运行似乎没问题。

运行开发文件

```
export SBT_OPTS="-Xms512M -Xmx3536M -Xss1M -XX:+CMSClassUnloadingEnabled -XX:+UseConcMarkSweepGC -XX:MaxPermSize=512M" 
sudo sbt clean run 
```

# maven - 使用 JDK 1.7 为 Grails 2.2.0 应用程序构建 Maven 失败：找不到工件 com.sun:tools:jar:1.6

> ID：15037082
> 
> 赞同：2
> 
> 时间：2013-02-23T04:33:20.110
> 
> 标签：maven, grails, maven-3

*（由于更新的问题/问题而更新了问题标题，请参阅底部的更新说明！）：*

我有一个 Grails 2.2.0 项目，通过“ `grails create-pom com.mycompany`”为它创建了 pom.xml。

pom.xml： http: [//pastebin.com/AVahZjZF](http://pastebin.com/AVahZjZF)

在不修改 pom.xml 的情况下，我`mvn package`使用**JDK 1.7**运行“”并得到以下错误，而使用**JDK 1.6**则可以正常工作。

```
$ java -version
java version "1.7.0_11"
Java(TM) SE Runtime Environment (build 1.7.0_11-b21)
Java HotSpot(TM) 64-Bit Server VM (build 23.6-b04, mixed mode)

$ mvn -version
Apache Maven 3.0.3 (r1075438; 2011-03-01 01:31:09+0800)
Maven home: /usr/share/maven
Java version: 1.7.0_11, vendor: Oracle Corporation
Java home: /Library/Java/JavaVirtualMachines/jdk1.7.0_11.jdk/Contents/Home/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "mac os x", version: "10.7.4", arch: "x86_64", family: "mac"

$ echo $JAVA_HOME
/Library/Java/JavaVirtualMachines/jdk1.7.0_11.jdk/Contents/Home

$ mvn package
[INFO] Scanning for projects...
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]   
[ERROR]   The project com.company:company-projectname:0.1 (/Users/myuser/Projects/com.company.web/pom.xml) has 2 errors
[ERROR]     Unresolveable build extension: Plugin org.grails:grails-maven-plugin:2.2.0 or one of its dependencies could not be resolved: Could not find artifact com.sun:tools:jar:1.6 at specified path /Library/Java/JavaVirtualMachines/jdk1.7.0_11.jdk/Contents/Home/jre/bundle/Classes/classes.jar -> [Help 2]
[ERROR]     Unknown packaging: grails-app @ line 8, column 16
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException
[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException 
```

**我看到 grails-maven-plugin-2.2.0.pom 中的 java 版本设置为 1.6，因此我现在的问题是：如何使我的 grails 项目的 maven 构建与 JDK 1.7 一起工作？看起来好像在 maven-compiler-plugin 中设置了正确的源和目标级别（设置为 1.6）。**

文件夹 ~/.m2/repository/grails-maven-plugin：

![在此处输入图像描述](../Images/673b1246c225bb0896eef0598b24598a.png)

我的环境：

*   Maven 3.0.3
*   圣杯 2.2.0
*   GRAILS_HOME 设置为我的 Grails 目录
*   JAVA_HOME 设置为我的 JDK 1.7 文件夹
*   JDK 1.7.0_11

我的 pom.xml 中的相关 java 工具部分：

```
<profiles>
    <profile>
        <id>tools</id>
        <activation>
            <property>
                <name>java.vendor</name>
                <value>Sun Microsystems Inc.</value>
            </property>
        </activation>
        <dependencies>
            <dependency>
                <groupId>com.sun</groupId>
                <artifactId>tools</artifactId>
                <version>${java.version}</version>
                <scope>system</scope>
                <systemPath>${java.home}/../lib/tools.jar</systemPath>
            </dependency>
        </dependencies>
    </profile>
</profiles> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-24T07:04:06.560

这似乎是一个已知问题，据报道仍在 Mac OS X 上的 Grails 2.2.0 中发生。

[http://jira.grails.org/browse/MAVEN-186](http://jira.grails.org/browse/MAVEN-186)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T20:25:33.170

**更新**

正如@Mathias 所提到的，这是 Grails Maven 插件中的一个错误。该问题已得到修复，并且在 Grails 2.2.1 中一切正常。

* * *

我绝对可以将*mvn 包*与 Homebrew 的 Grails 2.2.0 一起使用，*GRAILS_HOME* 未设置。

我的配置是 Maven 3.0.3 和 Grails 2.2.0，在 OSX 上。

我毫无问题地创建了一个“空白”香草应用程序并将其打包。

```
grails create-app stf && cd stf
grails create-pom com.rimerosolutions.grails
mvn package 
```

在我的*pom.xml*中，*grails-maven-plugin*的版本设置为 ${grails.version}。

我正在运行 OSX，看起来你也在运行它。

*   您使用的是私有 Maven 存储库吗？如果是这样，请尝试仔细检查其中的 grails-maven-plugin 工件。
*   如果没有，请尝试清除 grails-maven-plugin 的*~/.m2/repository*内容。*rm -rf*那个特定的插件缓存。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-13T23:56:53.713

问题是`grails-maven-plugin`说它需要JDK6中的一些东西：

```
tail -n20 ~/.m2/repository/org/grails/grails-maven-plugin/2.0.3/grails-maven-plugin-2.0.3.pom
    <profile>
        <id>jdk_mac</id>
        <activation>
            <os>
                <family>mac</family>
            </os>
        </activation>
        <dependencies>
            <dependency>
                <groupId>com.sun</groupId>
                <artifactId>tools</artifactId>
                <version>1.6</version>
                <scope>system</scope>
                <systemPath>${java.home}/bundle/Classes/classes.jar</systemPath>
            </dependency>
        </dependencies>
    </profile>
</profiles> 
```

解决方案是将JDK6复制`classes.jar`到您当前的JDK中。幸运的是，JDK7 使用了不同的目录结构，所以应该不会有任何冲突。

```
sudo mkdir -p /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home/jre/bundle/Classes
sudo cp /System/Library/Frameworks/JavaVM.framework/Versions/1.6/Classes/classes.jar /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home/jre/bundle/Classes/ 
```

# php - PHP FOR 循环在 2 次循环后停止，退出状态 139

> ID：15037086
> 
> 赞同：0
> 
> 时间：2013-02-23T04:34:08.543
> 
> 标签：php, web-scraping, screen-scraping, scraperwiki

我正在用 Scraper Wiki 构建一个刮板，这里：[https ://scraperwiki.com/scrapers/fashfinder/edit/#](https://scraperwiki.com/scrapers/fashfinder/edit/#)

为了不让你厌烦太多细节，我将大约 120 个链接加载到一个数组 $allLinks 中。然后，在页面底部，我在数组上调用 FOR 循环，如下所示：

```
for ($i = 0; $i<count($allLinks); $i++){
   getInfo($allLinks[$i]);
}; 
```

getInfo() 是一个从提供的链接获取产品信息的函数。该函数适用于 $i = 0 和 $i = 1。然后，当 $i = 2 发生故障时 - 源被加载到刮板中，整个过程停止。没有错误，但它显示“退出状态 139”。

我尝试反转 $allLinks 数组，`$allLinks = array_reverse($allLinks);`但发生了完全相同的事情 - 它刮了 2 页，到了第 3 页，然后突然停止了。

关于这里出了什么问题的任何想法？找不到关于“EXIT STATUS 139”含义的太多信息，尤其是关于 scraperwiki 的信息！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:59:08.143

可能正在尝试这个：

```
foreach ($arrayLinks as $key => $value) {
  getInfo($value);
} 
```

PS：您的数组 var_dump 看起来不错，可能是您的 getInfo 函数的问题。

萨卢多斯 ;)

# jquery - getJSON 没有返回数据

> ID：15037087
> 
> 赞同：0
> 
> 时间：2013-02-23T04:34:32.593
> 
> 标签：jquery, ajax, json

我正在尝试做一个基本的`getJSON()`，但我相信我没有得到任何结果。

这是我的 HTML/js

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Management Sheet</title>
        <meta name="description" content="  ">
        <meta name="keywords" content="   ">
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script>
            $(document).ready(function(){
                $("button").click(function(){
                    $.getJSON("config.json",function(result){
                        $.each(result, function(i, field){
                            $("div").append(field + " ");
                        });
                    });
                });
            });
        </script>
    </head>

    <body>
        <section>
            <button>Actually Click me</button>
        </section>
        <div>
        </div>
    </body>
</html> 
```

和我的 json

```
{
    'line1':'Mike B so cool',
    'line2':'Type your namasd',
    'line3':'763-345',
    'num_rows':'15',
    'num_cols':'3',
    'bgColorPage':'#f08008',
    'bgColorFilled':'#08f008',
    'bgColorEmpty':'#6f00ff'
} 
```

当我单击我的按钮时，我没有收到任何错误，但我的 div 没有附加任何内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:53:36.750

尝试

```
{
   "line1": "MikeBsocool",
   "line2": "Typeyournamasd",
   "line3": "763-345",
   "num_rows": "15",
   "num_cols": "3",
   "bgColorPage": "#f08008",
   "bgColorFilled": "#08f008",
   "bgColorEmpty": "#6f00ff"
} 
```

使用上面的`json`对象并查看。

您的代码是完美的，您的代码在 json 中使用上述对象并测试它没有任何问题，您可以保证成功。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T04:42:53.757

尝试使用 text();

```
$.getJSON("config.json",function(result){
    $.each(result, function(i, field){
        console.log();
        $("div").text(field + " ");
    });
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T04:58:26.940

我尝试了您的脚本，但我不知道为什么，但是如果您将单引号更改为双引号作品：

```
 {
  "line1":"Mike B so cool",
  "line2":"Type your namasd",
  "line3":"763-345",
  "num_rows":"15",
  "num_cols":"3",
  "bgColorPage":"#f08008",
  "bgColorFilled":"#08f008",
  "bgColorEmpty":"#6f00ff"
 } 
```

# javascript - 为什么这个 Mongo 查询中的回调永远不会被调用？

> ID：15037089
> 
> 赞同：-1
> 
> 时间：2013-02-23T04:34:51.163
> 
> 标签：javascript, mongodb

在以下查询中，回调函数永远不会触发。它几乎是一个查询的逐字克隆，在我的应用程序的其他地方运行良好。所以我无法弄清楚问题是什么。有人能发现我做错了什么吗？

```
var imagesCollection = db.collection('Images');

    var Images = new Array();

    while(Images.length < quantity) {
        var random = Math.random();

            imagesCollection.find({
                "audioFiles.audioLanguage": audioLanguage,
                "random": {
                    $lte: random
                }
            }).limit(1, function(err, doc) {
                console.log('This never gets called');
                Images.push(doc);
            });

    }
    callback(err, Images); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:56:06.060

```
quantity

var quantity = 10;  //declare variable to whatever number it needs to be
var imagesCollection = db.collection('Images');
var Images = new Array();

while(Images.length < quantity) {
//rest of code here... 
```

看看能不能帮到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T04:57:13.137

您的`while`循环实际上是一个无限循环，因为`find`只要循环正在运行，就无法调用回调，并且只有在运行了足够多的回调后才会退出循环。

此外，`limit`将光标传递给回调，而不是文档，因此您应该使用`findOne`。

您需要将其重写为：

```
var imagesCollection = db.collection('Images');
var Images = new Array();

for (var i=0; i<quantity; i++) {
    var random = Math.random();
    imagesCollection.findOne({
        "audioFiles.audioLanguage": audioLanguage,
        "random": {
            $lte: random
        }
    }, function(err, doc) {
        if (Images.push(doc) === quantity) {
            callback(err, Images);
        }
    });
} 
```

# jquery - 调整 div 中所有图像的大小

> ID：15037096
> 
> 赞同：1
> 
> 时间：2013-02-23T04:36:07.287
> 
> 标签：jquery

**HTML**

```
<div class="test"><img src="1.jpg"><img src="2.jpg"><img src="3.jpg"></div>
<div class="test"><img src="4.jpg"></div> 
```

**jQuery**

```
var max = 100;
var img = $('div.test img');
if (img.width() > max) {
    img.width = max;
} 
```

我希望在`.test`类`<div>`中找到的所有图像都重新缩放到定义的最大宽度。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T04:38:07.327

像这样的东西：

```
var max = 100;
$('div.test img').each(function() {
    if ($(this).width() > max) {
        $(this).width(max);
    }
}); 
```

...将遍历所有图像，依次测试和（可能）设置每个图像的宽度。

替代解决方案：

```
var max = 100;
$('div.test img').width(function(i,w) {
    return Math.min(w, max);
}); 
```

进一步阅读：

*   [方法](http://api.jquery.com/each/)_[`.each()`](http://api.jquery.com/each/)
*   [方法](http://api.jquery.com/width/)_[`.width()`](http://api.jquery.com/width/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T04:38:03.557

就如此容易：

```
$('div.test img').css({'max-width' : '100px'}); 
```

# mergesort - 归并排序的稳定性

> ID：15037098
> 
> 赞同：7
> 
> 时间：2013-02-23T04:36:24.543
> 
> 标签：mergesort, stability

归并排序稳定吗？我在一本书中读到它说只要合并操作正确实施，合并排序是稳定的。真的吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T04:39:22.013

真的。这取决于您如何正确实现合并排序。[http://en.wikipedia.org/wiki/Stable_sort#Stability](http://en.wikipedia.org/wiki/Stable_sort#Stability)

# mysql - 带有一些 if 条件的奇怪查询

> ID：15037100
> 
> 赞同：2
> 
> 时间：2013-02-23T04:36:46.920
> 
> 标签：mysql

各位程序员，

我有一张桌子，其中有以下列：

```
[tablename - usertimes]
id - int(11)
user_id - int(11)
time - timestamp
deleted - tinyint(1) 
```

想象一下我有以下几行：

```
[id] [user_id]      [time]       [deleted]
------------------------------------------
 1       1     2013-02-25 16:40     0
 2       1     2013-02-25 14:40     0
 3       1     2013-02-25 11:20     1
 4       1     2013-02-26 11:20     1
 5       2     2013-02-23 16:40     0
 6       2     2013-02-25 16:40     0 
```

现在我需要按`date(`时间分组`)`，`user_id`其中`min(`时间`)`我有删除的最短时间不是假的。但！！！如果该日期的唯一行已删除=true，则必须返回该行。所以它必须返回以下行：

```
[id] [user_id]      [time]       [deleted]
------------------------------------------
 2       1     2013-02-25 14:40     0
 4       1     2013-02-26 11:20     1
 5       2     2013-02-23 16:40     0
 6       2     2013-02-25 16:40     0 
```

最好的方法是什么？我应该只获取所有行并在我的代码中检查它们吗？我相信对此必须进行查询，但我无法理解它。

**编辑：**

有人可以玩这个小提琴吗？： [http ://sqlfiddle.com/#!2/4f91a](http://sqlfiddle.com/#!2/4f91a)

它具有表格内容和所需的输出注释。

**编辑2：**

这是根据这个小提琴的输出：[http ://www.sqlfiddle.com/#!2/3808b/1](http://www.sqlfiddle.com/#!2/3808b/1)

```
| ID | USER_ID | DELETED |             TIME |
---------------------------------------------
|  1 |       1 |       0 | 2013-02-25 14:40 |
|  4 |       1 |       1 | 2013-02-26 11:20 |
|  5 |       2 |       0 | 2013-02-23 16:40 |
|  6 |       2 |       0 | 2013-02-25 16:40 | 
```

这真的很接近我想要实现的目标。因为我想要实现的是这个结果 ***，请注意第一个 id***：

```
| ID | USER_ID | DELETED |             TIME |
---------------------------------------------
|  2 |       1 |       0 | 2013-02-25 14:40 |
|  4 |       1 |       1 | 2013-02-26 11:20 |
|  5 |       2 |       0 | 2013-02-23 16:40 |
|  6 |       2 |       0 | 2013-02-25 16:40 | 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:30:40.363

我不确定你在做什么，但这个查询给你结果

```
select ut.*
from usertimes ut
join (
select user_id,deleted, min(time) as time
from usertimes
group by date(time), user_id, deleted
) a on a.user_id = ut.user_id and a.time = ut.time
group by ut.user_id, date(ut.time)
order by ut.user_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:23:23.390

试试这个 [SQL 小提琴](http://www.sqlfiddle.com/#!2/e23c44/1)：

```
(
SELECT id,user_id,deleted,min(time) as TIME
FROM usertimes
WHERE deleted=0
GROUP BY date(time), user_id
)
UNION
(
SELECT id,user_id,deleted,time FROM(
SELECT *,COUNT(user_id) as cnt_user_id 
FROM usertimes GROUP BY user_id,date(time) 
)a
WHERE a.deleted=1 and a.cnt_user_id =1  
)ORDER BY user_id 
```

# c# - 如何在按钮单击而不是使用命令名时将gridview设置为编辑模式

> ID：15037103
> 
> 赞同：0
> 
> 时间：2013-02-23T04:37:34.237
> 
> 标签：c#, asp.net, gridview

大家好，我有一个带有 itemtemplate 的模板字段，如下所示

```
<asp:TemplateField HeaderText="Edit/Delete">
 <ItemTemplate>
     <asp:LinkButton ID="lnkEdit" runat="server" Text="Edit" OnClick=lnkEdit_Click">     </asp:LinkButton>
</ItemTemplate>
</asp:TemplateField> 
```

通常，我们将使用以下代码将gridview行设置为编辑模式，而不是`Click`我们用来编写的事件`CommandName="Edit"`和事件`OnRowEditing`

```
protected void grdDemo_RowEditing(object sender, GridViewEditEventArgs e)
    {
        grdDemo.EditIndex = e.NewEditIndex;
        bindGrid();
    } 
```

而不是这个，我会在链接按钮点击时将gridview行设置为编辑模式，我们怎么能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:50:12.967

由于您希望忽略命令名，因此还有其他几个选项可用：)

1.  [单击任意位置以激活 gridview 中的编辑模式](https://stackoverflow.com/questions/7262409/click-anywhere-on-a-gridview-row-to-enter-the-edit-mode)

2.  [根据 ID 激活编辑模式 - Datakey](https://stackoverflow.com/questions/438116/asp-net-gridview-how-to-activate-edit-mode-based-on-id-datakey)

3.  将 EditIndex 属性设置为适当的行，然后将 GridVIew 再次重新绑定到它的 DataSource。

    ```
    protected void btnEdit_Click(object sender, EventArgs e)

     {
      GridView1.EditIndex = 1;
     } 
    ```

4.  谷歌/必应更多..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T04:44:44.140

您可以使用编辑项目模板如下

以下是示例 aspx 代码

```
 <ItemTemplate>
    <asp:LinkButton ID="lblSubject"  Width="100%" Height="100%"  CommandName="Edit"   ForeColor="Black" runat="server" Text='<%#Bind("Subject") %>'>
  </asp:LinkButton>
   </ItemTemplate>
   <EditItemTemplate>
  <asp:TextBox ID="lblSubject" runat="server" Text='<%#Bind("Subject") %>'>
       </asp:TextBox>
    </EditItemTemplate> 
```

# matlab - 在图上标记点

> ID：15037104
> 
> 赞同：0
> 
> 时间：2013-02-23T04:37:50.260
> 
> 标签：matlab, matlab-figure

从这个 Matlab 代码：

```
a=[1:.001:5] ;
f=(1./a)-(a-1) ;
plot(a,f) 
```

我想在`(f==0)`图中标记点，假设值`a`是未知的，我应该从图中获取。

我希望它看起来像这样：

![在此处输入图像描述](../Images/54031537a0394d5b396ecc9822e116e3.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:57:34.897

使用命令'*文本*' [http://www.mathworks.com/help/matlab/ref/text.html](http://www.mathworks.com/help/matlab/ref/text.html)如下，

```
[~,idx] = find(abs(f)<1e-3);
text( a(idx(1)), f(idx(1)), 'here we touch/cut/cross x-axis') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-20T13:07:58.747

您可以使用 interp1 找到 f = 0 的点；

```
a_for_f_equal_zero = interp1(f, a, 0);
line(a_for_f_equal_zero, 0, 'marker', 'o', 'color', 'r', 'linestyle', 'none')
x_lim = get(gca, 'XLim');
y_lim = get(gca, 'YLim');
line(a_for_f_equal_zero * [1,1], [y_lim(1), 0], 'color', 'k') % vertical line 
line([x_lim(1), a_for_f_equal_zero], [0,0],  'color', 'k') % horizontal line 
```

# c# - 在调试时，如何在不进入每一行代码的情况下确保输出？

> ID：15037105
> 
> 赞同：1
> 
> 时间：2013-02-23T04:37:50.523
> 
> 标签：c#, multithreading, visual-studio, debugging, synchronization

在下面的控制台应用程序中，如果我在最后一行放置断点 Go(); 并通过按 F5 执行直到断点（在调试模式下），每次运行的结果差别不大。
控制台可以为空白（不输出任何内容）：

![控制台为空白](../Images/0235dc6417184af9f4c76f7973074f43.png)

或者它可以在另一次运行中仅输出部分结果：

![部分结果输出](../Images/a1b6e474436cfa90b496765340c36546.png)

或者，在极少数情况下，结果是“完整的”（“实际的”）：

![结果是](../Images/e37b207978ce82e278558787d934f2b1.png)

如果我按 F10 (Step Over) 或 F11 (Step into) 进行调试，执行的结果会立即输出到控制台窗口。

![单步执行代码会立即输出结果](../Images/54d708a5146f4e929c17103cf013e156.png)

为什么会有这样的差异？
假设我正在使用 3d 方库调试一个应用程序，以获取我没有访问权限的源代码。
是否可以在不进入他们的代码的情况下确保他们的输出？

控制台应用程序代码：

```
using System;
using System.Threading;

namespace _5_2
{
  class ThreadNaming
 {
    static void Main()
    {
      Thread.CurrentThread.Name = "main";
      Thread worker = new Thread(Go);
      Thread worker2 = new Thread(Go);
      worker.Name = "1111";
      worker.Start();
      //string just4breakPoint = "aaa";
      worker2.Name = "2222";
      worker2.Start();
      Go();
      Console.ReadLine();
    }

    static void Go()
    {
      Console.WriteLine
        ("Hello from " + Thread.CurrentThread.Name);
    }
  }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T04:40:17.327

“为什么会有这样的差异？” - 这是因为单步调试引入了线程的同步，并且可能会改变事情发生的顺序。

您将此标记为问题的事实可能表明您需要在代码中进行同步。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:19:43.187

[讨论后](https://stackoverflow.com/a/15037124/2031316)我才明白，为了在 F5 断点之前有完整的输出，必须通过 F10 或 F11 执行一次单步调试来同步输出。在大多数情况下，这意味着在带断点的行之后（感兴趣的行之前或之后）插入可执行代码的虚拟行，以便引入通过虚拟“步进”一次来同步输出的能力。

# python - 在 Python 循环中计算余额和每月付款

> ID：15037106
> 
> 赞同：2
> 
> 时间：2013-02-23T04:37:55.827
> 
> 标签：python, loops, while-loop

```
balance = 4213
annualInterestRate = 0.2
monthlyPaymentRate =0.04
monthInterestRate = annualInterestRate / 12
monthlyPayment = (monthlyPaymentRate*balance)
newBalance= (balance-monthlyPayment) * (1 + monthInterestRate)
month = 0
while month < 12:
    month += 1
    newBalance=(balance-monthlyPayment)*(1 + monthInterestRate)
    balance = newBalance
    monthlyPayment = (monthlyPaymentRate*newBalance)

    print ("Month: " + str(month))
    print ("Minimum monthly payment: " + str(round(monthlyPayment,2)))
    print ("Remaining balance: " + str(round(newBalance, 2))) 
```

所以，我有上面的代码，我试图让它显示以下输出：

```
Month: 1
Minimum monthly payment: 168.52
Remaining balance: 4111.89
Month: 2
Minimum monthly payment: 164.48
Remaining balance: 4013.2
Month: 3
Minimum monthly payment: 160.53
Remaining balance: 3916.89
Month: 4
Minimum monthly payment: 156.68
Remaining balance: 3822.88
Month: 5
Minimum monthly payment: 152.92
Remaining balance: 3731.13
Month: 6
Minimum monthly payment: 149.25
Remaining balance: 3641.58
Month: 7
Minimum monthly payment: 145.66
Remaining balance: 3554.19
Month: 8
Minimum monthly payment: 142.17
Remaining balance: 3468.89
Month: 9
Minimum monthly payment: 138.76
Remaining balance: 3385.63
Month: 10
Minimum monthly payment: 135.43
Remaining balance: 3304.38
Month: 11
Minimum monthly payment: 132.18
Remaining balance: 3225.07
Month: 12
Minimum monthly payment: 129.0
Remaining balance: 3147.67
Total paid: 1775.55
Remaining balance: 3147.67 
```

出于某种原因，我不断得到以下结果而不是上述结果......有人可以指出我做错了什么吗？非常感谢你！

```
Month: 1
Minimum monthly payment: 164.48
Remaining balance: 4111.89
Month: 2
Minimum monthly payment: 160.53
Remaining balance: 4013.2
Month: 3
Minimum monthly payment: 156.68
Remaining balance: 3916.89
Month: 4
Minimum monthly payment: 152.92
Remaining balance: 3822.88
Month: 5
Minimum monthly payment: 149.25
Remaining balance: 3731.13
Month: 6
Minimum monthly payment: 145.66
Remaining balance: 3641.58
Month: 7
Minimum monthly payment: 142.17
Remaining balance: 3554.19
Month: 8
Minimum monthly payment: 138.76
Remaining balance: 3468.89
Month: 9
Minimum monthly payment: 135.43
Remaining balance: 3385.63
Month: 10
Minimum monthly payment: 132.18
Remaining balance: 3304.38
Month: 11
Minimum monthly payment: 129.0
Remaining balance: 3225.07
Month: 12
Minimum monthly payment: 125.91
Remaining balance: 3147.67 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:20:31.707

您算法中的问题是每月付款是根据新余额计算的。

关于你的 Python 代码的几点：

1-在python中编码时使用下划线而不是camelCase

2-在打印时使用字符串格式而不是 str()

3- for 是比 while here 更好的选择

4-不需要时不需要过度使用括号

```
balance = 4213
annual_interest_rate = 0.2
monthly_payment_rate =0.04
monthly_interest_rate = annual_interest_rate / 12
monthly_payment = monthly_payment_rate * balance
new_balance= (balance - monthly_payment) * (1 + monthly_interest_rate)

for month in range(1, 13):
    monthly_payment = monthly_payment_rate * balance
    balance = (balance - monthly_payment) * (1 + monthly_interest_rate)

    print('Month: %d \n Minimum monthly payment: %g \n Remaining balance: %g'\
          % (month, round(monthly_payment, 2), round(balance,2))) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T04:43:19.810

考虑 while 循环中语句的顺序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T06:42:04.153

您的每月付款是一个月。

在您的计算中，每月付款 ( `monthlyPayment`) 是根据新余额 ( `newBalance`) 或在您付款后计算的。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-02-25T11:47:24.007

```
balance = int(raw_input("Amount of money: "))

annualRate = float(raw_input("Annual interest rate: "))

monthlyPayment = float(raw_input("Minimum monthly payment rate: "))

total = 0
for month in range(1,13):

    minMonthlyPayment = monthlyPayment * balance

    unpaid = balance - (balance*monthlyPayment)

    balance = unpaid + ((annualRate/12)*unpaid)

    total = total + minMonthlyPayment
    print "Month: " + str(month)
    print "Minimum monthly payment: " + str(round(minMonthlyPayment, 2))
    print "Remaining balance: " + str(round(balance, 2))
print "Total paid: " + str(round(total, 2))
print "Remaining balance: " + str(round(balance, 2)) 
```

# iphone - 触摸后 UIButton 保持选中状态

> ID：15037109
> 
> 赞同：3
> 
> 时间：2013-02-23T04:38:07.500
> 
> 标签：iphone, ios, objective-c, uibutton

我想`UIButton`在触摸它后停留在 Selected 状态。我添加了代码以在`TouchUpInside`事件期间设置选定状态；但是，在快速点击后，状态之间会出现轻微的“闪烁”。我有一些使用 an`UImageView`和添加 a 的策略`UITapGestureRecognize`，但必须有一种更简单的方法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T04:51:20.200

闪的原因是 Touch Up Inside 来不及了；根据定义，用户的手指已经向上。也许您应该考虑改为（或另外）为 Touch Down Inside 实现一个动作事件。

另一种可能性可能是将 UISegmentedControl 与一个段一起使用并`momentary`设置为 NO。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T05:10:03.083

这只是我的想法

UIBUtton 有四种状态——正常、突出显示、选定、禁用我认为您注意到的“闪烁”是由于突出显示状态。当点击按钮使其“闪烁”时，该按钮可能会进入突出显示状态

尝试将突出显示的状态属性设置为与选定状态相同。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T04:57:41.190

尝试这个，

```
[button sendActionsForControlEvents:UIControlEventTouchUpInside];
[button setSelected:YES]; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-23T07:30:20.077

创建一个类似于 UIView 的按钮。只需将按钮添加为 UIView 的子视图，并将按钮的标题（UILabel）添加为同一 UIView 的子视图。按下按钮时，更改 UIView 和 UILabel 的属性，使其看起来像按下按钮，以便视图可以保持按下状态，直到您再次更改这些属性。

希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-24T17:39:49.460

感谢您的精彩回答。我最终没有处理 UIButton，而是使用了 UIImageView 并基于点击手势在动画块中设置了突出显示的状态。它使完成按下状态变得更加容易，而不是试图解释 UIButton 手势处理。

# c# - 验证所有值

> ID：15037113
> 
> 赞同：4
> 
> 时间：2013-02-23T04:38:39.917
> 
> 标签：c#, asp.net, .net

我有一个文本框控件，用于在输入数据时`asp:regularexpressions`验证其中的值，`textbox`但是当我单击按钮时，它会将数据发送到数据库是否有任何解决方案可以避免这种情况

我主要传导是不使用javascript代码如下

```
<asp:TextBox ID="TextBox1" runat="server"></asp:TextBox>
<asp:RegularExpressionValidator ID="RegularExpressionValidator1" runat="server" ControlToValidate="TextBox1"  ErrorMessage="Invalid Email Id" validationexpression="^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$"></asp:RegularExpressionValidator>
<asp:Button runat="server" ID="btnabc" OnClick="btnabc_click" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:01:11.470

您的正则表达式无效。

改用这个

```
^([0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\w]*[0-9a-zA-Z]\.)+[a-zA-Z]{2,4})$ 
```

您可以使用此[Live 示例进行检查](http://regexpal.com/?flags=gm&regex=%5E%28%5B0-9a-zA-Z%5D%28%5B-.%5Cw%5D%2a%5B0-9a-zA-Z%5D%29%2a@%28%5B0-9a-zA-Z%5D%5B-%5Cw%5D%2a%5B0-9a-zA-Z%5D%5C.%29%2b%5Ba-zA-Z%5D%7B2,4%7D%29%24&input=passes%3a%0Apascal@nunes.in%0Apascal@nunespascal.com%0A%0Afails%3a%0Atest%0A123%0Ahello@me%0Ahello%2bme.in%0Atest@example.something%0A%0A)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-06T09:20:34.853

通过正则表达式验证的数据提交到服务器，因为它是asp控件，它是服务器控件，所以它被提交

# mysql - mysql解释输出不正确

> ID：15037119
> 
> 赞同：0
> 
> 时间：2013-02-23T04:39:23.787
> 
> 标签：mysql

我有非常简单的表结构，我在其中存储数据库的音乐，因为音乐使用不同的语言，所以我用列 song_language 对歌曲进行排序。表结构​​是这样的

> ```
>  id            title               song_language 
> ```

我有大约 100 万首不同语言的歌曲，但是当我试图过滤掉它时，它会扫描该特定语言的所有歌曲。如果我说 song_language='Eng' 它将扫描所有 500000 首歌曲但是我只想要 3 首歌曲并且我的列 song_language 被很好地索引。这是我的查询

```
 SELECT * FROM tableA WHERE song_language='Eng' limit 6 
```

执行需要 0.0009 秒，所以我很高兴，但解释说有些不同

```
 id   select_type     table   type    possible_keys   key     key_len     ref     rows    Extra
       1    SIMPLE  tableA  ref     song_language   song_language   167     const   462591  Using where 
```

按顺序输出

```
 id  select_type     table   type    possible_keys   key     key_len     ref     rows    Extra
        1   SIMPLE  tableA  ref     song_language   primary     4   null    11  Using where 
```

所以我认为它没有使用索引，当我执行这个查询时，它需要 0.0035 秒而不是我之前的查询，而没有 order by 只需要 0.0009 秒

任何人都可以对解释的这种奇怪输出有所了解吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:57:55.620

`ORDER BY`如果您使用限制，您可能希望在该查询上添加一个。如果它在非索引列上排序，则可以解释意外的查询计划。

# couchdb - 在 Ubuntu 的 Geocouch 文件夹中执行 make 命令时提示“致命：不是 git 存储库”

> ID：15037121
> 
> 赞同：0
> 
> 时间：2013-02-23T04:39:50.547
> 
> 标签：couchdb, couchdb-futon

我的目的是用 geocouch 扩展 couchDB，然后我从[http://couchdb.apache.org/](http://couchdb.apache.org/)下载 COUchDB src ，从 github [couchdb 1.2.x](https://github.com/couchbase/geocouch/tree/couchdb1.2.x)下载 geocouch 。src 都在我的下载路径中，根据自述文件中的说明。我按以下步骤操作：

```
ryu@ryu-Asp:~/Downloads$ cd geocouch-couchdb1.2.x/
export COUCH_SRC=/home/ryu/Downloads/apache-couchdb-1.2.1/src/couchdb/
make 
```

在我输入 make 命令后，它会弹出以下错误消息：

```
ryu@ryu-Asp:~/Downloads/geocouch-couchdb1.2.x$ make
fatal: Not a git repository (or any of the parent directories): .git
fatal: Not a git repository (or any of the parent directories): .git
ERL_COMPILER_OPTIONS='[{i,"/home/ryu/Downloads/apache-couchdb-1.2.1/src/couchdb/"}]' ./rebar compile
==> geocouch-couchdb1.2.x (compile)
Compiled src/geocouch/couch_spatial_compactor.erl
Compiled src/geocouch/geocouch_duplicates.erl
Compiled src/geocouch/couch_httpd_spatial.erl
Compiled src/geocouch/couch_httpd_spatial_list.erl
Compiled src/geocouch/couch_spatial.erl
Compiled src/vtree/run_vtreestats.erl
Compiled src/vtree/vtreeviz.erl
Compiled src/geocouch/couch_spatial_updater.erl
Compiled src/vtree/vtreestats.erl
Compiled src/vtree/run_vtreeviz.erl
Compiled src/geocouch/couch_spatial_group.erl
Compiled src/vtree/vtree_insbench.erl
Compiled test/gc_test_util.erl
Compiled src/vtree/vtree.erl
Compiled src/vtree/vtree_bulk.erl
Compiled src/vtree/vtree_bulk.erl 
```

顺便说一句，我曾尝试将 apache-couchdb-1.1.1 与 geocouch-couchdb1.1.x 结合使用，但仍然收到相同的“致命错误消息”，这个问题真的让我筋疲力尽，它浪费了我太多时间。任何提示将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T15:31:03.323

正如我在评论中所说，我认为这不是强制性的。可能只需要将源更新到最新版本。

# php - 使用 RegEx 进行电子邮件验证的优势

> ID：15037125
> 
> 赞同：0
> 
> 时间：2013-02-23T04:40:22.723
> 
> 标签：php, regex, codeigniter, email-validation

通常建议在 PHP 中使用 filter_var 函数来验证电子邮件地址 - 但是，开发人员有时会选择使用正则表达式的选项。例如，Codeigniter 的电子邮件助手依赖正则表达式来验证电子邮件地址。

选择正则表达式方法而不是依赖 filter_var 有什么好处？

先感谢您！

**注意：**这不是关于“如何在 PHP 中验证电子邮件”的实际问题，而是关于 PHP 最佳实践的理论问题。请仔细阅读以了解问题的性质，然后再将其标记为不重复的内容的副本。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:54:37.187

FILTER_VALIDATE_EMAIL 将根据标准验证电子邮件地址。就像你要验证

```
'0test\'mail_check@testing.com' 
```

使用 filter_var 你会得到输出为真。但实际上这不是一封有效的电子邮件，您可以使用正则表达式进行跟踪。

正则表达式为您提供了很多控制权，但同时正则表达式很复杂`filter_var`且更简洁。

因此，您可以决定使用什么。:)

# android - Android 绘制图像性能

> ID：15037127
> 
> 赞同：0
> 
> 时间：2013-02-23T04:40:31.840
> 
> 标签：android, bitmap, frame-rate

我正在制作一个与 Pong 非常相似的简单游戏。游戏中的主要机制涉及滑动屏幕以在背景上绘制图像，然后在这两个东西之上绘制精灵。

我遇到了性能问题，我不知道为什么。除了绘制前景图像（在背景之上但在精灵之下）之外，我已经禁用了所有绘图功能。这导致了问题。

我使用的前景图像是 30kb png。我在启动时仅加载一次图像（RGB565 格式），然后使用：

```
@Override
public void drawImage(Image Image, int x, int y) {
    canvas.drawBitmap(((AndroidImage)Image).bitmap, x, y, null); 
```

在我的 Draw 方法中将图像绘制到画布上。由于某种原因，这运行非常缓慢（在我的 Nexus 7 上运行）。如果我改用 drawRect 方法，它可以完美运行，所以它与我绘制导入图像的方式有关。drawBitmap 是一种不好的方法吗？对于这样一个简单的游戏，我需要学习这些 OpenGL 的东西吗？

感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-04T15:50:13.667

由于您的代码段很短，我不确定您是如何调用该方法的。

如果你要绘制一个响应性很强的 View，你应该使用 SurfaceView 在 onDraw(Canvas canvas) 方法中绘制内容。

由于您正在编写游戏，乒乓球的位置多久更新一次？此更新是在 AsyncTask 还是 Runnable 中执行的？只有在精灵的位置更新时，您才可以通过调用 invalidate() 来减少对 onDraw 的过度调用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T07:37:45.570

如果有人有这个问题，我的情况可能是相关的，但可能不是。

我使用 4mb wav 文件作为标题页的主题曲，并且在游戏开始时忘记释放内存。我现在的fps越来越流畅了！

# .net - 拖放以获取文件路径

> ID：15037128
> 
> 赞同：3
> 
> 时间：2013-02-23T04:40:39.383
> 
> 标签：.net, vb.net, winforms

这是一个我无法上班的例子。我按照说明进行操作，但是当我尝试将文件拖放到表单时，它不允许我，并给了我不可用的光标。

这很容易。只需`drap-and-drop`将`AllowDrop`属性设置为 True 并处理 DragEnter 和 DragDrop 事件即可启用。在`DragEnter`事件处理程序中，您可以使用 DataFormats 类检查数据是否属于您想要的类型。在`DragDrop`事件处理程序中，使用 的 Data 属性`DataEventArgs`来接收实际数据。

例子：

```
Private Sub Form1_Load(sender As System.Object, _
                       e As System.EventArgs) _
  Handles MyBase.Load

    Me.AllowDrop = True
End Sub

Private Sub Form1_DragDrop(sender As System.Object, _
                           e As System.Windows.Forms.DragEventArgs) _
  Handles Me.DragDrop

    Dim files() As String = e.Data.GetData(DataFormats.FileDrop)
    For Each path In files
        MsgBox(path)
    Next
End Sub

Private Sub Form1_DragEnter(sender As System.Object, _
                            e As System.Windows.Forms.DragEventArgs) _
  Handles Me.DragEnter

    If e.Data.GetDataPresent(DataFormats.FileDrop) Then
        e.Effect = DragDropEffects.Copy
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T04:48:11.177

```
Imports System.IO

Public Class Form1

    Private Sub Form1_Load(sender As Object, e As EventArgs) Handles MyBase.Load
        Me.AllowDrop = True
    End Sub
    Private Sub Form1_DragDrop(sender As System.Object, e As System.Windows.Forms.DragEventArgs) Handles Me.DragDrop
        Dim theFiles() As String = CType(e.Data.GetData("FileDrop", True), String())
        For Each theFile As String In theFiles
            MsgBox(theFile)
        Next
    End Sub

    Private Sub Form1_DragEnter(sender As System.Object, e As System.Windows.Forms.DragEventArgs) Handles Me.DragEnter
        If e.Data.GetDataPresent(DataFormats.FileDrop) Then
            e.Effect = DragDropEffects.Copy
        End If
    End Sub
End Class 
```

# javascript - 如何在 iOS Phonegap 应用程序中快速滚动时切换元素的可见性？

> ID：15037130
> 
> 赞同：1
> 
> 时间：2013-02-23T04:40:43.880
> 
> 标签：javascript, jquery, ios, html, cordova

在触摸溢出容器上使用以下代码可以正常工作，除非在快速滚动（快速连续轻弹）期间以及内容仍在从产生的“动量”移动时。在快速动量滚动期间，div 不会显示/隐藏，直到内容变慢/缓和到静止位置。

```
$('.container').on('scroll', function () {
    var yDistance = $(this).scrollTop();

    if (yDistance > 300) {
        $('#div').hide();
    } else {
        $('#div').show();
    }
}); 
```

我尝试了 1ms 超时以在 JS 堆栈中放置一些优先级，结果没有变化。我怀疑所有的渲染都被转移到了动量视觉上，并且任何 JS DOM 操作都被排队了。

有什么方法可以确保 div 的这种简单隐藏/显示在滚动相关渲染中获得优先权？

# php - 尝试通过 Jquery 和目标 div 标签在表内输出行循环

> ID：15037131
> 
> 赞同：0
> 
> 时间：2013-02-23T04:40:51.117
> 
> 标签：php, jquery, html, html-table, rows

我有一个 HTML 表，我在其中的 1 行周围包裹了一个 div 标签，这样 jQuery 就可以从我的 PHP 输出中替换那个 w/row/rows..

这是该表在代码中的样子（在此处更易于查看）：

![http://d.pr/i/QzfH](../Images/f8a9ab6d402f5395cd1188dc2bf508aa.png)

我的 jQ 加载

```
$("#points_details_data").load("points_view.php?eid=<?php echo $eid;?>"); 
```

PHP 输出这个实际代码：

```
<tr><td bgcolor='#FFFFFF'>&nbsp;</td>
    <td bgcolor='#FFFFFF'>test</td>
    <td align='right' bgcolor='#FFFFFF'>- 100</td>
</tr> 
```

但结果显示/渲染是 PHP 输出在目标 div 之外。实际输出的屏幕截图请参见此处：

![http://d.pr/i/eZYP](../Images/df8dc330fa0142abdb0cc493711eaca7.png)

我有一种感觉，我不能在表格内进行 div 目标.. 我可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T04:52:46.037

你不能在 tr 标签周围有一个 div 。您可以改为将该 id 放在 tr 上并使用类似的东西。

```
$.get("points_view.php?eid=<?php echo $eid;?>", function(data){
    $("#points_details_data").after(data);
}); 
```

更好的解决方案是使用 thead、tbody 和 tfoot 标签来包裹表头、正文和页脚，并将 id 放在桌子上。然后ajax调用将变为

```
$.get("points_view.php?eid=<?php echo $eid;?>", function(data){
    $("#points_details_data tbody").append(data);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:00:18.703

把你的`<div>`标签放在你的标签里`<td>`..

那么你可以使用：

```
var id = <?php echo $eid;?>;

document.getElementById("points_details_data").innerHTML = id; 
```

# html - 圆角，矩形按钮

> ID：15037133
> 
> 赞同：2
> 
> 时间：2013-02-23T04:41:38.610
> 
> 标签：html, css, button

我有兴趣制作一个类似于[https://new.myspace.com/](https://new.myspace.com/)主页上的按钮的 html 按钮。我知道 html 看起来像这样：

```
 <button class="button" id="join">Join</button> 
```

虽然我不确定css应该是什么样子。我知道网上有很多关于 html 按钮的教程，但我不确定半矩形按钮。谢谢，哈里森

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-23T04:42:59.723

使用边界半径。该示例中的确切代码是`border-radius: 4px;` [https://developer.mozilla.org/en-US/docs/CSS/border-radius](https://developer.mozilla.org/en-US/docs/CSS/border-radius)

按照 Jake 的好建议，使用这个包罗万象的浏览器规则：

```
button#join {
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-23T04:44:19.707

尝试：

```
<button class="button" id="join">Join</button> 
```

CSS：

```
.button {
    /*adjust the roundness*/
    border-radius: 4px;
    moz-border-radius: 4px;
    webkit-border-radius: 4px;
    /*adjust height and width*/
    height: 20px;
    width: 20px; 
    /*change border colour*/
    border:1px #245ec6 solid;
} 
```

调整边框半径属性的像素数量，以更改它的圆角程度。

编辑：显然您发布的网站使用 4px（代码已调整）

第二次编辑：对代码进行了调整以制作更大的按钮并影响所有按钮。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T04:43:22.703

这是关于边界半径的一些信息：[http ://www.css3.info/preview/rounded-border/](http://www.css3.info/preview/rounded-border/)

这是一个很酷的小生成器，可以让事情变得简单：[http ://border-radius.com/](http://border-radius.com/)

# asp.net-mvc-3 - 如何将插件添加到 nopcommerce2.65 以便免费送货到俄罗斯

> ID：15037135
> 
> 赞同：1
> 
> 时间：2013-02-23T04:41:49.887
> 
> 标签：asp.net-mvc-3, razor, nopcommerce, razor-2

这是我需要执行的运输规则：
1\. 在莫斯科办事处取货。2\. 莫斯科送货 - 免费 3\. 俄罗斯邮局 - 10 美元 4\. EMS 或 SPSR - 20 美元...我从哪里开始？我是 asp.net MVC 和 razor 中的一员

# jquery - Struts2 Jquery 构象

> ID：15037136
> 
> 赞同：3
> 
> 时间：2013-02-23T04:42:01.853
> 
> 标签：jquery, struts2-jquery, struts2-json-plugin, struts2, struts2-jquery-grid

我在我的应用程序中使用 struts2-jquery 插件，我使用它的 sj:a 组件来提交表单。

这是我的代码。

```
 <s:iterator value="countryList" var="country">
     <s:form id="frm%{countryID}"  action="add_country_save">
        <s:textfield name="country.countryName" size="40" id="txt%{countryID}"/>
</s:form>

<sj:a id="ah%{countryID}" formIds="frm%{countryID}"
 targets="add_country" button="true" > Delete </sj:a>

 </s:iterator> 
```

一切正常，直到出现我必须在提交表单之前显示确认对话框的要求。

这实际上是我试图实现的。

如果用户点击确定，表单提交将被提交。如果用户点击取消，表单提交将被取消。

如果有人有解决方案，请与我分享。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T07:13:07.307

您已指定 id 由服务器端生成，因此您无法轻松选择它们的 id，因为它会因数据库上的不同结果而异。

实现目标的最简单方法是这样。

```
<form onsubmit="return confirm('Do You Want to Submit the Form?');"> 
```

如果您有多个表单，我建议您在表单中添加一个名称属性。

```
<s:form id="frm%{countryID}" name ="myform" action="add_country_save">
     <s:textfield name="country.countryName" size="40" id="txt%{countryID}"/> 
```

并将事件处理程序附加到具有该名称属性的所有表单。

```
$('form[name ="myform"]').click(function(){
     if(confirm('Do you want to submit the form?')){
        $(this).submit();
     }
 }); 
```

# mysql - 在 Codeigniter 中使用 Where 子句获取最后一条记录

> ID：15037141
> 
> 赞同：0
> 
> 时间：2013-02-23T04:42:57.400
> 
> 标签：mysql

```
I have a table like this

id    username        sb
1     user1_0001      1
2     user1_0002      1
3     user1_0003      1
4     user2_0001      2 
5     user2_0002      2
6     user2_0003      2
7     user3_0001      3
8     user3_0002      3
9     user3_0003      3
10    user3_0004      3 
```

我如何查询例如我想获取 sb = 1 的最后一条记录，输出应该是 user1_0003？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T08:58:33.287

假设您的表名是“table1”。在内部查询中，它返回 sb = 1 的 id 的最大值，然后在外部查询中，我们选择与返回值匹配的记录。

```
SELECT * FROM table1 WHERE id = (SELECT MAX(id) FROM table1 WHERE sb = 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T02:59:42.380

因为我在 Codeigniter 工作。

感谢 chandimark，这是我的解决方案

```
$query = $this->db->query("SELECT * FROM user WHERE id = (SELECT MAX(id) FROM user WHERE sb = '".$sb_id."')");
if ($query->num_rows()== 1)
{
    $row = $query->row();
    echo $row->username;
} 
```

# azure - ACS 令牌请求明文与签名

> ID：15037143
> 
> 赞同：2
> 
> 时间：2013-02-23T04:43:07.763
> 
> 标签：azure, acs

[我正在尝试在 ACS ( http://msdn.microsoft.com/en-us/library/ee706734.aspx](http://msdn.microsoft.com/en-us/library/ee706734.aspx) )的纯文本和签名令牌请求方法之间进行选择。

我想出区分这两种方法的唯一方法是，当有人试图解密 HTTPS 流量以获取我的密码时，Signed 方法提供了针对窃听者的额外缓解措施。在签名的情况下，它会更加困难，因为除了解密 HTTPS 之外，它还需要破坏签名（以便学习签名密钥）。

我认为 HTTPS 被认为足够强大并且不需要任何额外的东西来确保没有人可以阅读我的消息是对的吗？

在纯文本和签名之间为 ACS 选择令牌请求方法时，我的论点可能是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:10:05.550

明文和签名请求都受 HTTPS 传输保护。ACS 颁发的令牌将符合已为依赖方（范围）配置的 Web 令牌格式，并且颁发的 ACS 令牌中的声明将包含转换规则引擎生成的声明的结果。

明文请求涉及向 ACS 发送服务身份的用户名和密码，范围指示您希望为其接收访问令牌的依赖方。在这种情况下，调用者只需知道服务身份凭证即可接收令牌。在明文请求中，声明转换引擎唯一可用的声明是名称标识符声明。

另一方面，签名请求是当服务消费者想要向声明转换引擎提供更丰富的声明集时。服务消费者通过创建使用指定断言格式（通常是 SWT 或 JWT）编码的断言并使用对称或非对称签名密钥对断言进行数字签名来断言一组声明。

SWT 仅支持使用 HMAC SHA-256 算法的对称签名，而 JWT 同时支持对称和非对称签名算法。在这种情况下，服务消费者需要拥有用于对断言进行数字签名的签名密钥。ACS 将验证断言的数字签名以确保调用者是可信的（他们拥有签名密钥）并且断言没有被篡改。然后，声明转换引擎将应用依赖方规则来生成访问令牌。

当您不需要向声明转换引擎提供一组丰富的声明（名称标识符就足够了）或服务使用者不支持声明的加密签名时，请使用纯文本请求。

当您的声明转换规则需要多个声明以执行输出声明计算时，或者当您的服务使用者已经有一个它希望使用的 SAML 断言时，请使用签名请求。

如果您想更完整地描述 OAUTH WRAP 协议，请参阅[OAuth WRAP 。](https://datatracker.ietf.org/doc/html/draft-hardt-oauth-01)

# java - 显示图像的数组，但是需要创建另一种方法来选择显示的次数

> ID：15037144
> 
> 赞同：1
> 
> 时间：2013-02-23T04:43:09.663
> 
> 标签：java, arrays, methods

我在标题中可怕地解释了这一点，我很抱歉，我对 Java 很陌生，还不太了解其中的一些内容。

无论如何，我的猫动画运行到屏幕中间，划伤两次，然后继续运行到最后，有没有写一个方法，将根据输入`int num`制作neko划伤`x`次数作为参数？

任何帮助将非常感激

这是我当前的代码

```
// Run the animation. 
public void nekoRun() {
    moveIn();
    scratch();
    //scratch2(5);
    moveOut();
}

// Move Neko to the centre of the panel
private void moveIn() {
    for (int i = 0; i < getWidth()/2; i+=10) {
        xPos = i;
        // swap images
        if (currentImage == nekoPics[0]) 
            currentImage = nekoPics[1];
        else 
            currentImage = nekoPics[0];
        repaint();
        pause(150);
    }   
}
    //neko stops and scratches in the middle of the panel twice
private void scratch() {
    for (int i = 0; i < 10; i++)  {

        // Swap images.
        currentImageIndex = nextImageList[currentImageIndex];
        currentImage = nekoPics[currentImageIndex];

            repaint();
            pause(150);
        }
}
//Neko runs to the end of the panel
private void moveOut() {
    for (int i = xPos; i < getWidth(); i+=10) {
        xPos = i;
        // swap images
        if (currentImage == nekoPics[0]) 
            currentImage = nekoPics[1];

        else 
            currentImage = nekoPics[0];
        repaint();
        pause(150);
    }   
} 
```

# html - 如果使用无效/非标准 HTML 属性（用于数据）会发生什么？

> ID：15037149
> 
> 赞同：5
> 
> 时间：2013-02-23T04:43:43.373
> 
> 标签：html

我有一个奇怪的问题。

但是，我想知道当我在 html 5 上使用无效属性时会发生什么？

例如，如果我想在标签上添加 attr 'City'。

```
<div data-city="etc"></div> 
```

是有效的方式。

但是，这种方式完全可以正常工作

```
<div city="etc"></div> 
```

我想知道我不应该使用的结果是`'city'`什么`'data-city'`？

如果仅用于为 javascrpit 传递数据，我一般只能使用“城市”吗？

非常感谢您的建议。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-23T07:01:06.217

HTML 4.01 规范在其[关于无效文档](http://www.w3.org/TR/REC-html40/appendix/notes.html#notes-invalid-docs)的注释中建议，如果浏览器“遇到它无法识别的属性，它应该忽略整个属性规范（即属性及其值）”和“提供 [s] 支持用于通知用户此类错误”。

在实践中，浏览器会忽略仅考虑 HTML 的未知属性。然而，他们并没有在 CSS 中忽略它们；`[city]`在现代浏览器中，属性选择器与元素相匹配。并且它们在 JavaScript 中并没有忽略它们，但是它们的处理方式与一致性属性不同，`city`它不会成为元素节点的属性，而是成为属性的`attributes`属性，因此可以通过`getAttribute`and`setAttribute`方法使用。

这种处理违反了 HTML 4.01 规范，并且不能保证它会在所有浏览器上发生。HTML5 草案似乎没有解决这个问题：它们指定了处理解析错误和过时特性的规则，但没有指定未定义的属性。

此外，未来的某个规范或某些浏览器可能会开始将其识别`city`为属性名称，这可能与您的想法严重冲突。使用一个神秘的名称可能会使这种冲突的可能性非常小。但是使用`data-city`避免了这个问题，因为`data-*`属性是为特定于站点的扩展而设计的，并且保证不会与任何标准属性发生冲突。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-23T04:52:11.597

唯一会发生的事情是它不会验证。

Javascript 仍然可以找到它。尽管它可能无法使用某些特定于数据的功能。

证明：http: [//jsbin.com/ujusel/1/edit](http://jsbin.com/ujusel/1/edit)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-23T04:52:43.780

不幸的是，这是不正确的。但是，所有（现代）浏览器都可以接受这一点（只要能够显示它并将其保存在 DOM 中），因为它们努力与所有（甚至是糟糕的）HTML 代码兼容，但这不会是真实属性。您的代码不会被验证为真正的 W3 规范 HTML 5 代码，但它应该仍然可以工作。

如果您需要使用“城市”，您可能需要使用 XHTML，您可以在其中为您自己的元素指定您自己的属性。

# php - 是否可以更改回声输出的位置？

> ID：15037151
> 
> 赞同：2
> 
> 时间：2013-02-23T04:44:16.693
> 
> 标签：php, echo

我想知道我是否可以将回声输出到变量中。我的意思是 echo 需要多个参数，所以我可以使用 echo 输出如下内容：

```
echo 'Welcome ', $name, ', we are here to help!'; 
```

我发现它比连接字符串更干净、更容易维护，而且我无法忍受复杂的语法。是否可以让 echo 只返回一个值？所以我可以做类似的事情

```
$string_not_meant_for_being_displayed = echo('Lorem', $ipsum); 
```

或者，是否可以创建一个带有无限数量参数的函数？

性能实际上不是问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T04:49:00.980

是的，可以创建一个带有无限数量参数的函数。您只需要使用`func_num_args()`来获取提供的参数数量。

```
function abcd(){
     $numargs = func_num_args();
     echo "Number of arguments: $numargs\n";
}

abcd(1,2,3,4,5,6); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T04:49:50.250

为什么要将 echo 存储到变量中？

要使用多个参数，请使用双引号语法：

> echo "欢迎 $firstname, $lastname。我们是来帮忙的！";

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T04:51:41.647

我对你的问题有点困惑，但我是如何理解的，

在你的函数内部，不要使用 echo，而是使用 return。

例如你有一个函数，

```
function myFunction()
{
     $name = "Leonardo";

     return $name;
} 
```

在这种情况下，您可以将返回的值用作变量。所以 $name 变量现在的值为“Leonardo”；

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-23T04:52:07.673

用户`sprintf`, `vsprintf`,`printf`而不是

[http://php.net/manual/en/function.sprintf.php](http://php.net/manual/en/function.sprintf.php)

[http://www.php.net/manual/en/function.vsprintf.php](http://www.php.net/manual/en/function.vsprintf.php)

[http://www.php.net/manual/en/function.printf.php](http://www.php.net/manual/en/function.printf.php)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-23T04:55:10.443

如果您*必须*使用 echo，我相信您想研究使用输出缓冲：[ob_start](http://php.net/manual/en/function.ob-start.php)和[ob_get_flush](http://www.php.net/manual/en/function.ob-get-flush.php)。

**例子：**

```
ob_start();
echo "This is a test";
$string_not_meant_to_be_displayed = ob_get_flush(); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-23T04:57:06.053

这样的事情有什么问题...

```
$name='Goober';
$thing="Welcome $name, we are here to help!";
echo $thing;
echo "\n"; 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-02-23T05:25:07.693

那这个呢 ？？

```
<?php

function extended_echo($text, $values) {
  $count = 1;
  foreach ($values as $values) {
    $text = preg_replace("#@" . $count . "@#", $values, $text);
    $count++;
  }
  return $text;
}

$myValues = array();
$myValues[0] = 'TechNew.In';
$myValues[2] = 'tech';
$myValues[3] = 'dino babu';

$myText = "Hello, @1@ is an awesome @2@ website by @3@.";

echo extended_echo($myText, $myValues);
?> 
```

输出

```
Hello, TechNew.In is an awesome tech website by dino babu. 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-23T22:11:24.340

我能够解决创建另一个函数的问题，如下所示：

```
function ee(){
     foreach(func_get_args() as $arg) {
        $v .= $arg;
     }
     return $v;
}

$name = "John";
echo ee("Welcome ", $name, ", we are here to help");
$string_not_meant_to_be_displayed = ee("His name is ", $name); 
```

这样，我可以像 echo 一样使用多个参数，但如果需要，可以将其输出到其他地方。

# c# - 如何将输入从一个声卡重定向到另一个？

> ID：15037156
> 
> 赞同：1
> 
> 时间：2013-02-23T04:44:54.010
> 
> 标签：c#, windows, audio, vb6, activex

在我的电脑上，我总共有 2 个声卡。其中一个是主板内置的，另一个是类似于下图的 USB[声卡](https://rads.stackoverflow.com/amzn/click/com/B001MSS6CS)。

我有一个连接到声卡 #1 的麦克风。当我对它说话时，我希望将输出重定向到连接到声卡 #2 的扬声器。我需要在我的应用程序中启用它。

我见过的唯一应用程序是[Virtual Audio Cable](http://software.muzychenko.net/eng/vac.htm)。我想在我的应用程序中复制该功能，但我不知道从哪里开始。我可以从 2 个声卡开始，但最终我需要使用多达 4-8 个声卡来重定向音频流量。

我很高兴在 .NET 或 VB6 中做到这一点。

![在此处输入图像描述](../Images/5f759e4bcb5e1a0411e4ff2bc7c5dadd.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T10:32:31.340

没有发生“重定向”操作，而是从一个设备捕获并将数据发送到另一设备进行播放。虚拟设备是其中一种选择，也许有其自身的优势，但在大多数情况下，设备是一种巨大的矫枉过正。

您只需要标准音频 API 或库。请注意，在 Vista+ 中，音频的“本机”API 是[WASAPI](http://msdn.microsoft.com/en-us/library/windows/desktop/dd371455%28v=vs.85%29.aspx)，而其他（尤其是遗留 API）是它之上的层。由于 API 大多是本机的，并且您想要托管代码的解决方案并且您从零开始，我建议使用与托管代码域很好接口的流行音频库之一，例如[NAudio](http://naudio.codeplex.com/)。

# exe - 将类库dll文件转换为可执行文件

> ID：15037160
> 
> 赞同：0
> 
> 时间：2013-02-23T04:46:46.413
> 
> 标签：exe, class-library

我有一个 InstallerDLL 类库。当我构建文件时，我将在 /bin 文件夹中获得 InstallerDLL.dll。但是现在我需要在构建时为同一个类库文件获取一个 InstallerDLL.exe 文件。

我尝试通过创建 Windows 应用程序 InstallerEXE 并在参考中添加 InstallerDLL.dll 文件。我在 /bin 文件夹中有 InstallerEXE.exe 文件。但是如何通过运行InstallerEXE.exe文件来访问类库的所有函数和方法呢？

任何人都请帮我解决这个问题。

谢谢，纳伦。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:30:10.790

你知道你的dll中有什么代码吗？通常像visual studio这样的开发工具，可以让你看到你的dll中的所有类。使用适当的IDE，你将能够找出暴露在那个dll中的api，然后你就可以使用它了

# javascript - 如何在 javascript 中进行深度复制？

> ID：15037164
> 
> 赞同：3
> 
> 时间：2013-02-23T04:47:27.317
> 
> 标签：javascript, node.js

我的情况类似于您在下面看到的情况。在返回第一个异步回调之前，该变量`id`设置为“03”。有没有办法像Objective-C中的块一样深度复制或“关闭”变量？有最佳实践吗？

```
var ids = ['01', '02', '03'];

for(var i=0, i < ids.length; i++){
  var id = ids[i];
  collection.find({id: ids} function () {
    console.log(id);
  });
} 
```

控制台输出为：

```
03
03
03 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:05:31.063

有几种方法可以做到这一点。一种是使用一个将闭包用作回调的方法进行迭代。

```
ids.forEach(function (elem) {
    collection.find({id: ids} function () {
        console.log(elem);
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:00:01.450

创建一个闭包会创建一个私有作用域，它会做你所期望的。

```
var ids = ['01', '02', '03'];

for(var i=0, i < ids.length; i++){
  var id = ids[i];
  (function(index){ 
      collection.find({id: ids}, function () {
          console.log(index);
      });
  })(id); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:03:52.770

如果您使用 .forEach() 而不是 for 循环，您将免费获得闭包：

```
var ids = ['01', '02', '03'];

ids.forEach(function (id) {
  collection.find({id: ids} function () {
    console.log(id);
  });
}); 
```

或者，如果您没有像 .forEach() 这样的 ES5 主义，您可以使用自执行函数来关闭状态。在这里，我们将创建一个`i`独立于父级的内部范围`i`：

```
var ids = ['01', '02', '03'];

for (var i=0; i < ids.length; i++) (function (i) {
    var id = ids[i];
    collection.find({id: ids} function () {
        console.log(id);
    });
})(i) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T05:03:13.440

如果您使用的是 jQuery。这简单

var newObject = jQuery.extend(true, {}, oldObject);

这就是你所要做的。

# python - 使用 Itertools 的等效嵌套循环结构

> ID：15037175
> 
> 赞同：13
> 
> 时间：2013-02-23T04:49:46.803
> 
> 标签：python, python-2.7, foreach, itertools

Python 的简洁语法通过它的电池允许冗长的代码行以可读的单行表示。考虑以下示例

```
====================================================|
for a in range(3):                                  |
    for b in range(3):                              |
        for c in range(3):                          |
            print (a,b,c),                          |
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -|
for e in product(range(3), repeat=3):               |
    print e,                                        |
====================================================|
for a in range(3):                                  |
    for b in range(a , 3):                          |
        for c in range(b , 3):                      |
            print (a,b,c),                          |
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -|
for e in combinations_with_replacement(range(3), 3):|
    print e,                                        |
====================================================|
for a in range(3):                                  |
    for b in range(a + 1, 3):                       |
        for c in range(b + 1, 3):                   |
            print (a,b,c),                          |
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -|
for e in combinations(range(3), 3):                 |
    print e,                                        |
====================================================|
for a in range(3):                                  |
    for b in range(3):                              |
        for c in range(3):                          |
            if len(set([a,b,c])) == 3:              |
                print (a,b,c),                      |
-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -|
for e in permutations(range(3)):                    |
    print e,                                        |
====================================================| 
```

最近我得到了一个深度嵌套的依赖循环，我试图简洁地表达但失败了

循环的结构如下

```
for a in A():
    for b in B(a):
        for c in C(b):
            foo(a,b,c) 
```

这种结构可以用等效的 itertools 符号表示吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-23T16:22:13.430

没有确切的`itertools`解决方案，但功能的简单组合`itertools`就足够了：

```
def chain_imap_accumulate(seq, f):
    def acc_f(x):
        for n in f(x[-1]):
            yield x + (n,)
    return chain.from_iterable(imap(acc_f, seq))

def accumulative_product(*generators):
    head, tail = generators[0], generators[1:]
    head = imap(tuple, head())
    return reduce(chain_imap_accumulate, tail, head) 
```

快速测试。定义：

```
from itertools import chain, imap, izip
chain_ = chain.from_iterable

def A():
    yield 'A'
    yield 'B'

def B(x):
    yield int(x, 16)
    yield int(x, 16) + 1

def C(x):
    yield str(x) + 'Z'
    yield str(x) + 'Y' 
```

结果：

```
>>> list(accumulative_product(A, B, C))
[('A', 10, '10Z'), ('A', 10, '10Y'), 
 ('A', 11, '11Z'), ('A', 11, '11Y'), 
 ('B', 11, '11Z'), ('B', 11, '11Y'), 
 ('B', 12, '12Z'), ('B', 12, '12Y')] 
```

正如上面代码的快速“推导”所示，几乎所有的复杂性都来自输入的累积。*最终*的( `c`) 值可以仅使用几个嵌套`itertools`结构生成：

```
>>> list(chain_(imap(C, chain_(imap(B, (A()))))))
['10Z', '10Y', '11Z', '11Y', '11Z', '11Y', '12Z', '12Y'] 
```

这可以概括为`reduce`。要使用`reduce`，`chain_imap`不能使用标准`imap`参数顺序。它必须被交换：

```
def chain_imap(seq, f):
    return chain.from_iterable(imap(f, seq)) 
```

这给出了相同的结果：

```
>>> list(reduce(chain_imap, [B, C], A()))
['10Z', '10Y', '11Z', '11Y', '11Z', '11Y', '12Z', '12Y'] 
```

最后的任务是累积初始值，以便您可以访问`a`、`b`和`c`。这需要一些思考才能正确，但实现相当简单——我们只需转换`f`为忽略除最后一个输入值之外的所有输入值的函数，并将新值附加到完整输入：

```
def chain_imap_accumulate(seq, f):
    def acc_f(x):
        for n in f(x[-1]):
            yield x + (n,)
    return chain.from_iterable(imap(acc_f, seq)) 
```

这要求将第一个输入包装在元组中，因此我们映射`A`为`tuple`：

```
>>> list(reduce(chain_imap_accumulate, [B, C], imap(tuple, A())))
[('A', 10, '10Z'), ('A', 10, '10Y'), 
 ('A', 11, '11Z'), ('A', 11, '11Y'), 
 ('B', 11, '11Z'), ('B', 11, '11Y'), 
 ('B', 12, '12Z'), ('B', 12, '12Y')] 
```

为了清楚起见，重写上面的代码，结果是这个答案顶部的代码。

顺便说一句，`chain_imap_accumulate`可以使用genex更简洁地重写。这可以与一个较短版本的`accumulative_product`非常紧凑的定义相结合（如果你对那种东西感兴趣的话）。这也恰好完全消除了 itertools 依赖：

```
def chain_map_accumulate(seq, f):
    return (x + (n,) for x in seq for n in f(x[-1]))

def accumulative_product2(*gens):
    return reduce(chain_map_accumulate, gens[1:], (tuple(x) for x in gens[0]())) 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-23T05:44:28.867

没有，但你可以做一个：

```
def chainGang(steps, currentVars=None):
    thisOne = steps[0]
    if currentVars is None:
        for item in thisOne():
            for gang in chainGang(steps[1:], [item]):
                yield gang
    elif len(steps) == 1:       
        for item in thisOne(currentVars[-1]):
            yield currentVars + [item]
    else:
        for item in thisOne(currentVars[-1]):
            for gang in chainGang(steps[1:], currentVars + [item]):
                yield gang 
```

接着：

```
>>> outer = lambda: ["A", "B", "C", "D"]
>>> middle = lambda letter: [letter, letter*2, letter*3]
>>> inner = lambda s: range(len(s)+1)
>>> for a in chainGang([outer, middle, inner]):
...     print a
[u'A', u'A', 0]
[u'A', u'A', 1]
[u'A', u'AA', 0]
[u'A', u'AA', 1]
[u'A', u'AA', 2]
[u'A', u'AAA', 0]
[u'A', u'AAA', 1]
[u'A', u'AAA', 2]
[u'A', u'AAA', 3]
[u'B', u'B', 0]
[u'B', u'B', 1]
[u'B', u'BB', 0]
[u'B', u'BB', 1]
[u'B', u'BB', 2]
[u'B', u'BBB', 0]
[u'B', u'BBB', 1]
[u'B', u'BBB', 2]
[u'B', u'BBB', 3]
[u'C', u'C', 0]
[u'C', u'C', 1]
[u'C', u'CC', 0]
[u'C', u'CC', 1]
[u'C', u'CC', 2]
[u'C', u'CCC', 0]
[u'C', u'CCC', 1]
[u'C', u'CCC', 2]
[u'C', u'CCC', 3]
[u'D', u'D', 0]
[u'D', u'D', 1]
[u'D', u'DD', 0]
[u'D', u'DD', 1]
[u'D', u'DD', 2]
[u'D', u'DDD', 0]
[u'D', u'DDD', 1]
[u'D', u'DDD', 2]
[u'D', u'DDD', 3] 
```

# jquery - 在jquery中使用insertafter添加锚标记

> ID：15037178
> 
> 赞同：1
> 
> 时间：2013-02-23T04:50:54.710
> 
> 标签：jquery

我是 jquery 的新手。我想知道为什么我不能用insertafter插入锚标签，但我可以添加h2标签和其他标签。请帮我。这是代码的链接。

[http://jsbin.com/iboquj/4/edit](http://jsbin.com/iboquj/4/edit)

```
 $(function(){

         $('<h2>',{
            text:'Hello from javascript',
            class:'myClass'

         }).insertAfter('article'); 

      $('<a></a>',{

        href:'http://google.com',

      }).insertAfter('article');

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:54:16.107

实际上你没有定义锚标签的主体，这就是它没有显示的原因。

试试这个：

```
$('<a></a>',{
    href:'http://google.com',
    text: 'Google'
}).insertAfter('article'); 
```

**[演示](http://jsbin.com/iboquj/6/edit)**

这将解决您的问题。

# android - Android 设备兼容性问题 - 有哪些工具和策略？

> ID：15037180
> 
> 赞同：0
> 
> 时间：2013-02-23T04:51:16.057
> 
> 标签：android, apk, compatibility, google-play

我制作了一个与我客户的设备不兼容的应用程序。目前尚不清楚我的 Android Manifest 声明的哪一部分导致了不兼容。

在那儿：

(a) 找出 Android Manifest 文件的哪一部分导致设备不兼容的某种*方法*？

Google Play 商店是否在某处列出了原因？例如“ExampleApp 要求您的屏幕尺寸大于 xyz，您的屏幕太小”或“ExampleApp 需要您的设备上不可用的相机”。

(b) 一些工具可以扫描您的 Manifest 文件并吐出大量兼容设备？

作为最后的手段，我计划放宽我的 Android Manifest 要求，编译我的应用程序并将其发布到 Play 商店并转到“查看支持的设备”（[http://support.google.com/googleplay/android-developer/ answer/1286017?hl=en](http://support.google.com/googleplay/android-developer/answer/1286017?hl=en) ) 部分，然后以更宽松的要求重复该过程，直到我看到列出了我的客户的设备。

然而，这种方法似乎特别冗长。

人们通常如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:15:06.497

如果您将最低 sdk 级别设置为您想要的级别，然后在您的代码上运行 android lint 以查看 i，或者导致不兼容的原因是什么？如果您认为这是因为 mainfest 中的某些内容，您可以发布吗？

# wcf - system.servicemodel.communication 异常。在 system.servicemodel.ni.dll 中

> ID：15037183
> 
> 赞同：0
> 
> 时间：2013-02-23T04:51:25.533
> 
> 标签：wcf, c#-4.0, windows-phone-8

当我在我的 Windows Phone 应用程序中调用 WCF 服务时，我遇到了这个错误。请提出一些相同的解决方案。

示例代码：

```
 private void Button_Click_1(object sender, RoutedEventArgs e)
   {

       ServiceReference1.ServiceClient myService = new ServiceReference1.ServiceClient();
       if (txtUser.Text.ToString() != null)
       {

           myService.ValidateAsync(txtUser.Text.ToString(), pwdPassword.ToString());
           System.Threading.Thread.Sleep(TimeSpan.FromSeconds(20));
           myService.ValidateCompleted += new EventHandler<ServiceReference1.ValidateCompletedEventArgs>(myService_ValidateCompleted);
       }
       else
       {
           MessageBox.Show("Enter some username or password");
       }
   } 
```

** 控件不会转到下一个功能显示：

> System.ServiceModel.ni.dll 中的 system.servicemodel.communicationexception

* * *

```
 private void myService_ValidateCompleted(object sender, ServiceReference1.ValidateCompletedEventArgs e)
   {

       //int a = 0;
       //a = Convert.ToInt32(e.Result);

       if (e.Result== 1)
       {
           MessageBox.Show("Enter");
           // this.NavigationService.Navigate(new Uri("/TilesPage.xaml", UriKind.Relative));
       }
       else if (e.Result == 0)
       {
           MessageBox.Show("Invalid Username or Password");
       }
       else if (e.Result == -1)
       {
           MessageBox.Show("UserName doesn't exists");
       }
       else
       {
           MessageBox.Show("some exception");
       }

   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T14:03:44.653

包括一个 catch 块

```
catch (CommunicationException commProblem)
{
     Console.WriteLine("There was a communication problem. " + commProblem.Message + commProblem.StackTrace);
     Console.Read();     
} 
```

# asp.net-mvc - MVC 4 Linq 格式 json 响应

> ID：15037189
> 
> 赞同：0
> 
> 时间：2013-02-23T04:51:55.043
> 
> 标签：asp.net-mvc, linq, asp.net-mvc-4

我可以从我的控制器获得以下 json 输出，但我需要从 myDates 和 myStaff 中删除“键”和“值”，并按日期对约会时间进行分组 - 例如：date0、date1、date2..

```
{
"myDates": [{
    "Key": "date0",
    "Value": "23/02/2013"
}, {
    "Key": "date1",
    "Value": "24/02/2013"
}, {
    "Key": "date2",
    "Value": "25/02/2013"
}, {
    "Key": "date3",
    "Value": "26/02/2013"
}, {
    "Key": "date4",
    "Value": "27/02/2013"
}, {
    "Key": "date5",
    "Value": "28/02/2013"
}, {
    "Key": "date6",
    "Value": "1/03/2013"
}, {
    "Key": "dname0",
    "Value": "Saturday"
}, {
    "Key": "dname1",
    "Value": "Sunday"
}, {
    "Key": "dname2",
    "Value": "Monday"
}, {
    "Key": "dname3",
    "Value": "Tuesday"
}, {
    "Key": "dname4",
    "Value": "Wednesday"
}, {
    "Key": "dname5",
    "Value": "Thursday"
}, {
    "Key": "dname6",
    "Value": "Friday"
}, {
    "Key": "ndate",
    "Value": "2013-03-02"
}, {
    "Key": "pdate",
    "Value": "2013-02-16"
}],
"myStaff": [{
    "Key": "staff0",
    "Value": [
        [{
            "SlotID": 42501,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 42502,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:30"
        }],
        [{
            "SlotID": 47001,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 47002,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:30"
        }]
    ]
}]
} 
```

基本上，我需要得到如下格式的 json：

```
{
"myDates": [{
    "date0": "23/02/2013",
    "date1": "24/02/2013",
    "date2": "25/02/2013",
    "date3": "26/02/2013",
    "date4": "27/02/2013",
    "date5": "28/02/2013",
    "date6": "1/03/2013",
    "dname0": "Saturday",
    "dname1": "Sunday",
    "dname2": "Monday",
    "dname3": "Tuesday",
    "dname4": "Wednesday",
    "dname5": "Thursday",
    "dname6": "Friday",
    "ndate": "2013-03-02",
    "pdate": "2013-02-16",
}],
"myStaff": [{
    "staff0": {[ 
      "date0": {[
        [{
            "SlotID": 42501,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 42502,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:30"
        }],
      "date1": {[
            "SlotID": 47001,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 47002,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:30"
        }]
    ]}
}]
}]
} 
```

这是我的控制器：

```
 public ActionResult Index(DateTime start, string id = null)
    {

        var allids = Request.QueryString["id"];

        // split the input into anonymous objects containing staffid and businessid
        var staffids = from staffid in allids.Split(',').Select(x => x.Split('-'))
            select new { sid = int.Parse(staffid[0]), bid = int.Parse(staffid[1]) };

        // get the days you need
        var days = Enumerable.Range(0, 7).Select(x => start.AddDays(x));

        // create myDates
        int i = 0;
        var myDates = (from day in days
                       select new  KeyValuePair<string, string>(
                          String.Format("date{0}", i++),
                          day.ToShortDateString())).ToList();
        i = 0;
        myDates.AddRange(
                      (from day in days
                       select new  KeyValuePair<string, string>(
                          String.Format("dname{0}", i++),
                          day.DayOfWeek.ToString())).ToList());
        myDates.Add(new KeyValuePair<string, string>("ndate", days.First().AddDays(7).ToString("yyyy-MM-dd")));
        myDates.Add(new KeyValuePair<string, string>("pdate", days.First().AddDays(-7).ToString("yyyy-MM-dd")));

        // receive all the stored_procedures
        i = 0;
        var myStaff = from staff in staffids
                      select new KeyValuePair<string, object>(
                         String.Format("staff{0}", i++),
                         (from day in days
                          select db.Database.SqlQuery<GetAvailableAppointments>("EXEC SP_GetAvailableAppointments @StaffID, @BusinessID, @StartDate",
                            new SqlParameter("StaffID", staff.sid),
                            new SqlParameter("BusinessID", staff.bid),
                            new SqlParameter("StartDate", day))).ToList()
                     );

        return Json(new { myDates, myStaff }, JsonRequestBehavior.AllowGet);

    } 
```

任何帮助，将不胜感激 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:01:17.480

试试这个：

```
return Json(new { 
                  myDates.Select(D => D.Value), 
                  myStaff.Select(S => S.Value) 
                }, JsonRequestBehavior.AllowGet); 
```

希望这会有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T10:13:04.333

这不会给你 [] 的项目，但它非常接近

```
...

var dictionary = myDates.ToDictionary(x => x.Key, x => x.Value);
return Json(new { myDates = dictionary, myStaff }, JsonRequestBehavior.AllowGet); 
```

应该给出如下结果：

```
{
    "myDates": {
        "date0": "2013-02-23",
        "date1": "2013-02-24",
        "date2": "2013-02-25",
        "date3": "2013-02-26",
        ...
    },
    "myStaff": {...}
} 
```

注意：但是，您可能应该进行一些重构以在没有这些步骤的情况下获取字典。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-24T20:45:01.240

使用此解决方案获得的键名和值名来自使用 KeyValuePairs。为了避免这种情况，您应该编写自己的数据模型，这些模型具有以您期望的 Json-Keys 命名的属性。要了解我的意思，请查看我对您的相关问题的更新答案

> [MVC 4 控制器 - 使用动态 StaffID 和 BusinessID 而不是硬编码的](https://stackoverflow.com/questions/15018524/mvc-4-controler-using-dynamic-staffids-businessids-instead-of-hard-coded-o/15018873#15018873)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-24T06:21:06.163

您可以尝试转换`myDates`成这样的`dynamic`对象（它在`System.Dynamic`命名空间中）：

```
dynamic myDynamicDates = new ExpandoObject();
var d = myDynamicDates as IDictionary<string, object>;

foreach (var myDate in myDates)
{
    d[myDate.Key] = myDate.Value;
} 
```

对于序列化部分，不要使用默认的 JSON 序列化程序，而是尝试使用[这个序列化](http://json.codeplex.com/)程序（也可以通过[NuGet](http://www.nuget.org/packages/Newtonsoft.Json)获得），如下所示：

```
return Content(JsonConvert.SerializeObject(new { myDates = new []{ myDynamicDates } }), "application/json"); 
```

您可以对`myStaff`零件执行类似的步骤，因此它将产生预期的结果。

# zend-framework2 - 导航中的 ZF2 自定义属性

> ID：15037192
> 
> 赞同：9
> 
> 时间：2013-02-23T04:52:33.297
> 
> 标签：zend-framework2

如何将自定义属性添加到 Zend Framework 2 导航中？
我知道我可以添加 id 或 class -> 但仅此而已....

1）例如，我将如何添加`data-test='blahblah'`属性？
2) 我可以向`li`包含实际链接的元素添加属性吗？

```
$container = new Zend\Navigation\Navigation(array(
    array(
        'label' => 'Page 1',
        'id' => 'home-link',
        'uri' => '/',
    ),
    array(
        'label' => 'Zend',
        'uri' => 'http://www.zend-project.com/',
        'order' => 100,
    ),
); 
```

编辑：

@Bram Gerritsen：感谢您的回答。

是的-我可以将其添加`'data-test' => 'blahblah'`和检索为`$page->get('data-test')` -但这仍然不会将其作为属性附加到`<a></a>`...中。我是否应该将htmlify覆盖到那个？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-09-07T00:06:14.933

Bram 的回答帮助我找到了一个解决方案，这就是我所需要的以及我如何解决它（因为我是 ZF2 和命名空间的新手，所以我花费的时间比它应有的时间长得多，所以希望这对其他人有帮助）

**问题**

*   想要使用`Zend\Navigation`它来受益于它的`isActive()`方法和内置的翻译、ACL 等支持。
*   需要将 CSS 类名称添加到`<li>`元素*和* `<a>`元素。（ZF2 的 Menu View Helper 目前支持“非此即彼”的方法）
*   需要将 CSS 类名称添加到嵌套`<ul>`元素。
*   需要向`<a>`元素添加其他属性，例如`data-*="..."`
*   需要这些更改来支持 Bootstrap 3 标记

* * *

**解决方案说明**

*   通过扩展创建客户视图助手`Zend\View\Helper\Navigation\Menu`
*   稍微修改`renderNormalMenu()`和`htmlify()`方法
*   利用添加自定义属性的能力为`Zend\Pages`某些元素添加 CSS 类和附加属性

* * *

**解决方案**

**第1步**

在 Application 模块下创建自定义 View Helper`src\Application\View\Helper\NewMenu.php`

新菜单.php

```
<?php
namespace Application\View\Helper;

// I'm extending this class, need to include it
use Zend\View\Helper\Navigation\Menu;

// Include namespaces we're using (from Zend\View\Helper\Navigation\Menu)
use RecursiveIteratorIterator;
use Zend\Navigation\AbstractContainer;
use Zend\Navigation\Page\AbstractPage;

class NewMenu extends Menu
{
    // copied fromZend\View\Helper\Navigation\Menu
    protected function renderNormalMenu(...){} 

    // copied from Zend\View\Helper\Navigation\Menu
    public function htmlify(...){}
} 
```

**第2步**

`getViewHelperConfig()`在in 中注册了新的 View Helper`\module\Application\Module.php`

```
<?php
/**
 * Zend Framework (http://framework.zend.com/) ...*/

namespace Application;

use Zend\Mvc\ModuleRouteListener;
use Zend\Mvc\MvcEvent;

class Module
{
    // ** snip **

    public function getViewHelperConfig()   {
        return array(
            'invokables' => array(
                // The 'key' is what is used to call the view helper
                'NewMenu' => 'Application\View\Helper\NewMenu',
            )
        );
    }
} 
```

**第 3 步**

在我的`layout.phtml`脚本中，我获取了我的 Navigation 容器并将其传递给 NewMenu 视图助手。我还设置了一些选项，例如添加父`<ul>`类名称而不是转义标签，因此我可以将 Bootstrap 使用的标准“下拉插入符号”（即`<b class="caret"></b>`）添加到带有下拉菜单的标签中。

```
$container = $this->navigation('navigation')->getContainer();
echo $this->NewMenu($container)->setUlClass('nav navbar-nav')->escapeLabels(false); 
```

* * *

**中场休息**

此时，我们应该或多或少地复制了 Menu View Helper。它应该以与标准 View Helper 相同的方式生成导航。

* * *

**第4步**

在`NewMenu.php`类中，我删除了`$addClassToListItem`代码以避免它意外地将类放置在错误的元素上。

*受保护的函数 renderNormalMenu(...)*

```
// Add CSS class from page to <li>
//if ($addClassToListItem && $page->getClass()) {
//    $liClasses[] = $page->getClass();
//} 
```

*公共函数 htmlify(...)*

```
// Always apply page class to <a> tag. We'll use a diff. method for <li>
//if ($addClassToListItem === false) {
    $attribs['class'] = $page->getClass();
//} 
```

**第 5 步**

添加一个方法以将 CSS 类名称应用于`<li>`标签，因为我们删除了该`$addClassTolistItem`方法。我们只需使用 Page 类的能力来拥有自定义属性并执行此操作：

*受保护的函数 renderNormalMenu*

```
// Is page active?
if ($isActive) {
    $liClasses[] = 'active';
}

if($wrapClass = $page->get('wrapClass')){
    $liClasses[] = $wrapClass;
}
... 
```

现在，在我们的 Navigation 配置文件中，我们可以简单地添加一个名为的属性`wrapClass`，以将 CSS 类应用于包装元素 ( `<li>`)。

*配置\自动加载\global.php*

```
...
'navigation' => array(
    'default' => array(
        ...
        array(
            'label' => 'Products <b class="caret"></b>',
            'route' => 'products',
            'wrapClass' => 'dropdown',         // class to <li>
            'class'     => 'dropdown-toggle',  // class to <a> like usual
            'pages' => array(
                array(
                    'label' => 'Cars',
                    'route' => 'products/type',
                    ...
                ),
                ...
            ),
        ),
... 
```

**第 6 步**

`<a>`添加在like上具有附加属性的功能`data-*`。例如，对于 Bootstrap 3，您将需要`data-toggle="dropdown"`。

*公共函数 htmlify(...)*

```
// get attribs for element
$attribs = array(
    'id'     => $page->getId(),
    'title'  => $title,
);

// add additional attributes
$attr = $page->get('attribs');
if(is_array($attr)){
    $attribs = $attribs + $attr;
} 
```

在您的配置文件中，您现在可以添加具有一系列附加属性的属性：

*配置\自动加载\global.php*

```
...
'navigation' => array(
    'default' => array(
        ...
        array(
            'label' => 'Products <b class="caret"></b>',
            'route' => 'products',
            'wrapClass' => 'dropdown',         // class to <li>
            'class'     => 'dropdown-toggle',  // class to <a> like usual

            'attribs'   => array(
                'data-toggle' => 'dropdown',  // Key = Attr name, Value = Attr Value
            ),

            'pages' => array(
                array(
                    'label' => 'Cars',
                    'route' => 'products/type',
                    ...
                ),
                ...
            ),
        ),
... 
```

**第 7 步**

添加将类名放置在嵌套列表容器（即。`<ul>`）上的功能。

*受保护的函数 renderNormalMenu()*

```
if ($depth > $prevDepth) {
    // start new ul tag
    if ($ulClass && $depth ==  0) {
        $ulClass = ' class="' . $ulClass . '"';
    }

    // Added ElseIf below

    else if($ulClass = $page->get('pagesContainerClass')){
        $ulClass = ' class="' . $ulClass . '"';
    }

    else {
        $ulClass = '';
    }
    $html .= $myIndent . '<ul' . $ulClass . '>' . self::EOL; 
```

原始代码基本上是说“如果这是第一个`<ul>`并且有一个 UL 类，则添加它，否则什么也不做。所以，我添加了一个额外的检查来说明，如果一个名为的属性`pagesContainerClass`可用，则将该类也应用于该类`<ul>`。

这意味着我们需要在配置中的右侧页面上添加属性：

*配置\自动加载\global.php*

```
...
'navigation' => array(
    'default' => array(
        ...
        array(
            'label' => 'Products <b class="caret"></b>',
            'route' => 'products',
            'wrapClass' => 'dropdown',         // class to <li>
            'class'     => 'dropdown-toggle',  // class to <a> like usual

            'attribs'   => array(
                'data-toggle' => 'dropdown',  // Key = Attr name, Value = Attr Value
            ),

            'pages' => array(
                array(
                    'label' => 'Cars',
                    'route' => 'products/type',
                    // Give child <ul> a class name
                    'pagesContainerClass' => 'dropdown-menu',
                    ...
                ),
                ...
            ),
        ),
... 
```

需要注意的重要一点是，UL 类需要放在孩子的第一个子页面上，因为条件语句被包装在以下条件中：

```
if ($depth > $prevDepth) {
    // start new ul tag
    ...
} 
```

在调用第一个孩子之后， $dept = $prevDepth 和嵌套`<ul>`将已经被发送到字符串缓冲区。

* * *

此解决方案尚未经过严格测试，但其想法是简单地采用当前的 Menu View Helper，并重载两个必要的方法，并且只对其进行轻微修改。

我尝试过使用`setPartial()`，但这只对`<li>`生成有所帮助，它仍在使用 Menu View Helpers 的`htmlify()`方法（所有这些都在 Bram 的上述讨论中提到）。

因此，通过将这些小 tweeks 放入 to 方法并使用 Page 类具有自定义属性的能力，我可以添加一些额外的逻辑来获取和嵌套类上`<li>`的类名以及在元素上添加额外的属性，所以我可以从配置中配置我以吐出，基本上，Bootstrap 3 Navbar 标记。`<a>``<ul>``<a>``Zend\Navigation`

最终布局看起来像这样：

```
<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
    <?php
        // Use Zend\Navigation to create the menu
        $container = $this->navigation('navigation')->getContainer();
        echo $this->NewMenu($container)->setUlClass('nav navbar-nav')->escapeLabels(false);
    ?>
    </div><!-- /.navbar-collapse -->
</nav> 
```

我一直遇到的麻烦是更好地理解 PHP 命名空间，并且需要在我的自定义 View Helper 中包含适当的 Qualified 命名空间，即使我正在扩展它。

另一个问题是 Navigation View Helper 可以从自身调用 Menu View Helper，如下所示：

```
$this->navigation('navigation')->menu(); 
```

这不起作用：

```
$this->navigation('navigation')->NewMenu(); 
```

由于命名空间问题，我正在考虑`NewMenu`未在 Navigation View Helper 类中注册，因此我不会为此扩展它。

因此，希望这个（长）答案能帮助其他正在努力解决这种需求的人。

干杯!

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-23T10:03:52.840

Page 类有一些用于公共属性（`setLabel`、等）的专用设置器`setId`，`setUri`如果设置器不存在`__set`将被调用。有关这方面的更多信息以及关于扩展类的更多信息，请参见[手册。](http://framework.zend.com/manual/2.1/en/modules/zend.navigation.pages.html#common-page-features)`AbstractPage`

```
array(
    'label' => 'Page 1',
    'id' => 'home-link',
    'uri' => '/',
    'data-test' => 'blahblah'
), 
```

现在你可以做`$page->get('data_test')`，它会返回 blahblah。

您的第二个问题是关于更改菜单的呈现（向`li`.ZF2 添加一个属性是使用[菜单视图助手](https://github.com/zendframework/zf2/blob/master/library/Zend/View/Helper/Navigation/Menu.php)来呈现导航菜单。所有导航视图助手都可以选择使用您自己的部分视图来使用`setPartial()`.

在您的视图中：

```
$partial = array('menu.phtml', 'default');
$this->navigation()->menu()->setPartial($partial);
echo $this->navigation()->menu()->render(); 
```

在您的局部视图`menu.phtml`中执行以下操作：

```
<ul>
<?php foreach ($this->container as $page): ?>
    <li data-test="<?=$page->get('data_test')?>"><?=$this->navigation()->menu()->htmlify($page)?></li>
<?php endforeach; ?>
<ul> 
```

这只会呈现菜单的最高级别。如果您有更深/嵌套的结构，您的自定义视图脚本最终会复杂得多。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-05T18:49:35.780

除了**jmbertucci**评论

# 问题

标签中的 exсess 插入标记会导致以下问题：

*   面包屑
*   菜单翻译

# 溅射

为防止将标记**插入符号**添加到标签，您可以在菜单配置中添加对此参数的支持。你应该

去

```
src\Application\View\Helper\NewMenu.php 
```

*受保护的函数 renderNormalMenu()*

```
/// add 4th parameter $page->get('caret')
$html .= $myIndent . '    <li' . $liClass . '>' . PHP_EOL .
$myIndent . '        ' .
$this->htmlify($page, $escapeLabels, $addClassToListItem, $page->get('caret')) . PHP_EOL; 
```

*公共函数 htmlify()*

```
} else {
    $html .= $label;
}
//// add this if
if($caret === true){
    $html .= '<b class="caret"></b>';
}

$html .= '</' . $element . '>'; 
```

现在你可以使用它了：

```
 array(
                'label' => 'Some label',
                'caret' => true,
                'route' => 'someroute',
                'wrapClass' => 'dropdown',
                'class' => 'dropdown-toggle', 
```

附言。**jmbertucci**，你是男人。

# php - 使用 php session 登录后，如何选择所有其他用户？

> ID：15037196
> 
> 赞同：0
> 
> 时间：2013-02-23T04:53:08.140
> 
> 标签：php

```
mysql_connect("localhost","root","");
mysql_select_db("db");
session_start();
ob_start();
if(!isset($_SESSION["username"])) {
header("location:login.php");
}
$res = mysql_query("select * from usertable");
$vals = mysql_fetch_row($res);
foreach($vals as $k) {
  echo "$k";
} 
```

在这里登录后，我想选择所有用户，以便在我的搜索引擎中它会出现。但我无法做到这一点。如何在这里查看所有其他用户，以便我可以转到他们的个人资料并添加为朋友。我不想使用任何 facebook sdk api。通过简单的数据库管理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:58:25.943

您需要将每个成功登录（每个用户会话）存储在您的一个表中。

然后，您可以使用查询检索它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:11:16.527

更改我的代码后我得到了正确的答案，

```
$res = mysql_query("select * from usertable ");
while($row = mysql_fetch_array($res,MYSQL_ASSOC)) {
  $row['username']=$row['name'];
  echo "$row";
  $row_set[] = $row;//build an array
}

echo json_encode($row_set); 
```

感谢我得到的所有回复。.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:20:16.690

更改以下行

```
$vals = mysql_fetch_row($res); 
```

至

```
$vals = mysql_fetch_array($res); 
```

**请停止使用 mysql_*函数开始使用 mysqli_*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T05:23:00.080

为什么不在您的用户表中添加一个字段，例如活动。并且当用户登录时将值更改为1，当用户注销时将值更改为0。因此您可以轻松查询已登录的用户。就像在您的查询中一样：

```
$sql = "SELECT user FROM users_table WHERE active = '1' "; 
```

在这种情况下，它将为您提供当前登录的用户列表。

# bash - 在 GNU Parallel 中执行 SCP

> ID：15037202
> 
> 赞同：4
> 
> 时间：2013-02-23T04:54:09.563
> 
> 标签：bash, scp, gnu-parallel

我需要并行运行一些命令，包括 SCP。为此，我使用 GNU Parallel。问题是我不知道如何将密码传递给 SCP。这是一条类似于我正在运行的行：

```
ls 2011_* | parallel scp {} user@domain 
```

并且如果`ls`找到3个文件，scp同时询问3次密码，我只能输入最后一个进程的密码来提示它。

我暂时解决了使用公钥连接的这个问题，但由于公司政策，这在未来不会成为一个选项。我阅读了 SCP 手册页，但找不到选项，但我非常确信 Parallel 应该有一个选项让我输入密码。

有人知道解决这个问题的方法吗？

**编辑：**我想知道是否有一种方法可以告诉`parallel`密码，以便它可以在`scp`每次要求时提供密码。也许是这样的：

```
ls 2011_* | parallel scp {} user@domain < file_with_password.txt 
```

但是指定的重定向`STDIN`是 for`scp`而不是 for `ls`or `parallel`。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T09:32:44.357

您将需要查看`ssh-agent`： 拥有受密码短语保护的证书以及只需键入一次密码即可方便的好处。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-03-18T21:01:51.270

```
parallel sshpass -p $PASS scp -P $PORT -rp {} ~/to_dir ::: $ADDRESS:~/from_dir/* 
```

# ios - 带有复选标记和详细信息披露的表格视图

> ID：15037209
> 
> 赞同：5
> 
> 时间：2013-02-23T04:54:53.097
> 
> 标签：ios, tableview, checkmark, disclosure

我正在制作一个带有多行选择选项的表格视图。因此，我使用了复选标记附件类型操作。我还需要编辑/重命名所选行中的文本。

基本上，**我需要在单元格的左侧打上复选标记（复选框），在右侧打上细节披露，两者都具有功能性。**

下面的代码是我拥有的复选标记，当前复选标记出现在单元格的右侧。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Navigation logic may go here. Create and push another view controller.

    TSIPAppDelegate *appDelegate = (TSIPAppDelegate *)[[UIApplication sharedApplication]delegate];
    UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
    NSString *cellText = cell.textLabel.text;
    if (cell.accessoryType==UITableViewCellAccessoryNone)
    {
      cell.accessoryType=UITableViewCellAccessoryCheckmark;
      appDelegate.selectedFile = cellText;
      if (prevSP!=indexPath.row) {
        cell=[tableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:prevSP inSection:0]];
        cell.accessoryType=UITableViewCellAccessoryNone;
        prevSP=indexPath.row;
      }
    }
    else if (prevSP!=indexPath.row){
      cell.accessoryType=UITableViewCellAccessoryNone;
    }
} 
```

请问有什么建议吗？

When a row selected, checkmark should be enabled/disabled AND disclosure button selected, it should open a new view for editing the selected row.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:45:42.287

accessoryType 类型是枚举 UITableViewCellAccessoryType，根据定义，它不会接受多个值，因为它不是按位枚举。因此，您必须选择一个并通过自定义代码模仿另一个。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-08T01:53:30.093

我建议`UITableViewCellAccessoryCheckmark`在 tableview 上使用附件类型，并在单元格中添加一个“详细信息披露”按钮。不幸的是，您不能完全按照您的要求进行操作，但这是我发现的最干净的替代方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T06:01:12.030

这是我在我的一个应用程序中使用的示例代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

{

    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    cell.textLabel.text=[NSString stringWithFormat:@"%@",[cellarray objectAtIndex:indexPath.row]];
    cell.textLabel.textColor=[UIColor blackColor] ;
    cell.textLabel.tag=indexPath.row;
    cell.textLabel.font=[UIFont fontWithName:@"HelveticaNeue-Bold" size:15];
    // cell.textLabel.highlightedTextColor=[UIColor colorWithRed:242.0f/255.0f green:104.0f/255.0f blue:42.0f/255.0f alpha:1] ;
    cell.selectionStyle=UITableViewCellSelectionStyleNone;

}

UIImageView *ima=[[UIImageView alloc]initWithImage:[UIImage imageNamed:@"tick.png"]];
ima.frame=CGRectMake(280, 15, 14, 14);
ima.autoresizingMask=UIViewAutoresizingFlexibleLeftMargin |UIViewAutoresizingFlexibleRightMargin;

int row = [indexPath row];
//cell.accessoryType = (row == selectedRow) ? UITableViewCellAccessoryCheckmark : UITableViewCellAccessoryNone;
cell.textLabel.textColor= (row == selectedRow) ? [UIColor colorWithRed:242.0f/255.0f green:104.0f/255.0f blue:42.0f/255.0f alpha:1] : [UIColor blackColor] ;
if (row==selectedRow) {

    [cell.contentView addSubview:ima];

}

UIImageView *tempImageView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"Background.png"]];
[tempImageView setFrame:tableView.frame];

tableView.backgroundView = tempImageView;
[tempImageView release];
return cell;
}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{

selectedRow = [indexPath row]; // selected row is of type int  declared in .h

[tableView reloadData];

} 
```

此代码在整个 tableView 中只有一个复选标记。您可以将其修改为具有多个复选标记

希望这可以帮助 ！！！

# scala - Scala 中的部分应用函数和类型推断

> ID：15037214
> 
> 赞同：0
> 
> 时间：2013-02-23T04:55:54.400
> 
> 标签：scala, type-inference

我一直在尝试部分应用功能，并且发生了这样的事情。假设我们有这样的代码：

```
class Color(name:String) {
override def toString = name
}

class Point(x: Int, y:Int) {
override def toString:String = "("+x +"," + y + ")"
 }

class Linestyle(name: String) {
override def toString = name
 }

def drawLine(width:Double, color: Color, style: Linestyle, a:Point, b: Point): Unit = {
println("Draw " + width + " " + color + " " + style + " " + " line from point: " + a +  " to point " + b)
} 
```

当我尝试以这种方式创建仅采用 4 个参数的 drawSolidLine 函数时：

```
def drawSolidLine (c: Color, a:Point, b: Point):Unit =
drawLine(1.0, _:Color, new Linestyle("SOLID"), _:Point, _:Point) 
```

并尝试调用它

```
drawSolidLine(2.5, new Color("Black"),new Point(2,4), new Point(3,1)) 
```

我没有编译器错误，但调用没有返回任何内容。

另一方面，当我以这种方式创建 drawSolidLine 时：

```
val drawSolidLine = drawLine(_:Double, _:Color, new Linestyle("SOLID"),
                            _:Point, _:Point) 
```

并在之前调用它，我有所需的输出：

```
Draw 1.0 Black SOLID  line from point: (2,4) to point (3,1) 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:13:24.837

你正在做两件非常不同的事情。第一的：

```
def drawSolidLine (c: Color, a:Point, b: Point):Unit =
  drawLine(1.0, _:Color, new Linestyle("SOLID"), _:Point, _:Point) 
```

首先，请注意您传递的任何参数都没有被使用。表达式`drawLine(1.0, _:Color, new Linestyle("SOLID"), _:Point, :Point)`是一个函数，它不依赖于传递的参数，并且*会*被返回，除了你的返回类型是`Unit`. 在这种情况下，该功能被丢弃。

第二：

```
val drawSolidLine = drawLine(_:Double, _:Color, new Linestyle("SOLID"),
                             _:Point, _:Point) 
```

首先，您可以替换`val`为`def`，它的工作方式相同。*Val vs def 不是问题*。

因此，`drawSolidLine`将，因为它的类型不是`Unit`，返回相同的函数。然而，这一次`(2.5, new Color("Black"),new Point(2,4), new Point(3,1))`没有被传递给`drawSolidLine`，因为它没有参数。因此它们将被传递给正在返回的函数，从而产生所需的效果。

# command-line - 读取和写入命令行字符串的算法

> ID：15037216
> 
> 赞同：-1
> 
> 时间：2013-02-23T04:56:32.847
> 
> 标签：command-line, terminal, command-line-arguments

我正在尝试编写一个可以读取命令字符串并对其进行验证的程序（获取命令的名称及其参数），更改这些参数，然后动态地重写命令字符串。

我正在寻找可以解析命令字符串的算法或正则表达式。我熟悉 DOS 6.2 和批处理文件，但我对 Mac 知之甚少，比如我正在使用的终端、unix、shell 等。我不确定参数是否是从一个命令到下一个命令的不同语法。

更多信息：
我要做的事情是验证命令行的格式是否正确，例如，文件的路径在它们周围有引号或转义空格（如果它们在那里）。我希望它是通用的，以便它可以与任何命令一起使用。

我使用的是 Mac，所以我可以在终端中进行测试。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-23T05:57:44.270

```
 #include<stdio.h>

             main(int argc,char *argv[])

                {
            if(execlp(argv[1], argv[1], argv[2], "/usr/", (char *) 0)==-1)

               printf("This is not valid command\n");

              exit(0);

                } 
```

运行程序：

```
 ./a.out ls -lhrt 
```

该程序处理了多个选项。

您要更改哪个目录而不是“/ usr”目录

您动态地运行程序并更改命令和选项。

# c++ - 在fork c ++中关闭套接字

> ID：15037219
> 
> 赞同：0
> 
> 时间：2013-02-23T04:57:04.623
> 
> 标签：c++, unix-socket

我正在尝试套接字编程和服务器代码：

```
 while(1) {
    sin_size = sizeof (their_addr);
    new_fd = accept(sockfd,(struct sockaddr *)&their_addr, &sin_size);
    if(new_fd == -1) {
        perror("accept");
        continue;
    }

    inet_ntop(their_addr.ss_family, get_in_addr((struct sockaddr*)&their_addr),s,sizeof(s));
    cout<<"got connection from" << s << endl;

    if((pid = fork()) == 0){//child
        close(sockfd);
        if(send(new_fd,"hello world!",12,0) == -1) {
            perror("send");
            close(new_fd);
            exit(0);
        }
        char buf[50];
        int numbytes;
        if((numbytes = recv(new_fd,&buf,50,0)) == -1) {
            perror("receive");
            close(new_fd);
            exit(0);
        }
        buf[numbytes] = '\0';
        cout<<"numbytes" << numbytes <<endl;
        cout<<"server received " << buf <<endl;
    }
    close(new_fd);
} 
```

这段代码给了我一个错误的文件描述符，但是当我评论关闭（sockfd）时，代码运行良好。由于我正在分叉到一个新的子进程并关闭侦听端口，为什么我得到一个错误的文件描述符？有什么我在这里想念的吗。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:09:46.167

你关闭`new_fd` *两次*。收到后关闭它一次，然后子进程继续并再次关闭它。您应该`close`仅将其放在父进程中，或者根本不在`if (fork())`正文中关闭。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-02-17T15:08:51.877

我知道这个问题提出已经快 2 年了，但我遇到了同样的问题，在谷歌搜索并没有找到任何东西后，我决定尝试一段时间。我发现问题在于除非出现发送错误，否则您不会关闭子进程。所以不要这样：

```
if (send(new_fd,"hello world!",12,0) == -1) {
    perror("send");
    close(new_fd);
    exit(0);
} 
```

将右括号移动到 perror 的正下方，如下所示：

```
if (send(new_fd,"hello world!",12,0) == -1) {
    perror("send");
}    
close(new_fd);
exit(0); 
```

通过这样做，您可以强制子进程在发送消息后立即关闭。我不完全确定，但我认为错误的文件描述符来自分叉子进程对接受的调用，该子进程尚未关闭但具有错误的文件描述符，因为您已经关闭了侦听套接字这个过程。

# python - Python：从嵌套列表中删除重复项

> ID：15037226
> 
> 赞同：6
> 
> 时间：2013-02-23T04:57:42.730
> 
> 标签：python, list, duplicates

```
mylist = [[1,2],[4,5],[3,4],[4,3],[2,1],[1,2]] 
```

我想删除重复的项目，重复的项目可以反转。结果应该是：

```
mylist = [[1,2],[4,5],[3,4]] 
```

我如何在 Python 中实现这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-23T04:59:49.720

```
lst=[[1,2],[4,5],[3,4],[4,3],[2,1],[1,2]]
fset = set(frozenset(x) for x in lst)
lst = [list(x) for x in fset] 
```

这不会保留原始列表的顺序，也不会保留子列表的顺序。

```
>>> lst=[[1,2],[4,5],[3,4],[4,3],[2,1],[1,2]]
>>> fset = set(frozenset(x) for x in lst)
>>> lst = [list(x) for x in fset]
>>> lst
[[1, 2], [3, 4], [4, 5]] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T05:16:50.893

如果订单很重要，您可以随时使用 OrderedDict

```
>>> unq_lst = OrderedDict()
>>> for e in lst:
    unq_lst.setdefault(frozenset(e),[]).append(e)

>>> map(list, unq_lst.keys())
[[1, 2], [4, 5], [3, 4]] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-02T20:15:52.097

如果顺序不重要：

```
def rem_dup(l: List[List[Any]]) -> List[List[Any]]:
    tuples = map(lambda t: tuple(sorted(t)), l)
    return [list(t) for t in set(tuples)] 
```

# c - 难以创建 Pthread（错误 22）

> ID：15037234
> 
> 赞同：1
> 
> 时间：2013-02-23T04:58:40.060
> 
> 标签：c, pthreads

学习 pthreads，但我在创建它们时遇到了麻烦。这是我的输出和 gdb 信息：

```
在 main() 中，创建线程 1
错误：线程 1 的 pthread_create() 返回代码为 22
在 main() 中，创建线程 2
错误：线程 2 的 pthread_create() 返回代码为 22
在 main() 中，创建线程 3
错误：线程 3 的 pthread_create() 返回代码为 22
在 main() 中，创建线程 4
错误：线程 4 的 pthread_create() 返回代码为 22
在 main() 中，创建线程 5
错误：线程 5 的 pthread_create() 的返回码为 22

程序收到信号 SIGSEGV，分段错误。0xb7fb4d8a 在
pthread_join (threadid=76038327, thread_return=0x0)
    在 pthread_join.c:46 46 pthread_join.c: 没有这样的文件或目录。

```

这是我的代码：

```
#include <stdlib.h>
#include <stdio.h>
#include <strings.h>
#include <errno.h>
#include <pthread.h>
#include <unistd.h>

#define SBUFSIZE 1025

char errorstr[SBUFSIZE];
FILE* inputfp[5];

void* f(void* inpFile) {
    fprintf(stderr, "%s\n", (char*)inpFile);
    return NULL;
}

int main (int argc, char* argv[]) {

    int i;

    /* Thread Variables */
    pthread_attr_t attr;
    pthread_t *th[argc-2]; //one thread for each input file

    /* allocate memory for the threads */
    for (i = 0; i < (argc-2); i++) {
        th[i] = (pthread_t *) malloc(sizeof(pthread_t)); 
        inputfp[i] = fopen(argv[i], "r");
        if (!inputfp[i]) {
            sprintf(errorstr, "Error Opening Input File: %s", argv[i]);
            perror(errorstr);
        }
    }

    /* Create one thread for each input file */
    for (i = 1; i < (argc - 1); i++) {
        fprintf (stderr, "In main(), creating thread %1d\n", i);
        int rc = pthread_create (th[i], &attr, f, inputfp[i-1]);
        if (rc) {
            printf("ERROR: return code from pthread_create() is %d for thread %d\n",
                rc, i);
        }
    }

    /* wait for the threads to finish */
    for (i = 1; i < (argc - 1); i++) {
        pthread_join(*th[i], 0);
    }

    return EXIT_SUCCESS;
} 
```

我错过了一些东西，但我不知道是什么。任何人都可以帮忙吗？谢谢！

编辑：这是我根据 Joachim Pileborg 的建议更改代码的方式。我仍然收到从 pthread_create() 返回的错误 22，但 pthread_join 上的 SIGSEGV 错误不再发生。

任何人都对我如何让 pthread_create() 返回 0 （表示线程创建成功）有任何建议？再次感谢！

```
int main (int argc, char* argv[]) {

    int i;

    /* Thread Variables */
    pthread_attr_t attr;
    pthread_t *th[argc-2]; //one thread for each input file

    /* allocate memory for the threads */
    for (i = 0; i < (argc-2); i++) {
        th[i] = (pthread_t *) malloc(sizeof(pthread_t)); 
        printf("%s\n", argv[i+1]);
        inputfp[i] = fopen(argv[i+1], "r");
        if (!inputfp[i]) {
            sprintf(errorstr, "Error Opening Input File: %s", argv[i]);
            perror(errorstr);
        }
    }

    /* Create one thread for each input file */
    for (i = 0; i < (argc - 2); i++) {
        fprintf (stderr, "In main(), creating thread %1d\n", i);
        int rc = pthread_create (th[i], &attr, f, inputfp[i]);
        if (rc) {
            printf("ERROR: return code from pthread_create() is %d for thread %d\n",
                rc, i);
        }
    }

    /* wait for the threads to finish */
    for (i = 0; i < (argc - 2); i++) {
        pthread_join(*th[i], 0);
    }

    return EXIT_SUCCESS;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:13:42.217

您有一个循环，从零循环到`argc - 3`，并使用正确的索引（从零到“数组大小减一”。

然后你有两个循环，你从一个循环到`argc - 2`，并使用从一到“数组大小”的索引。

您应该在所有三个地方使用与第一个相同的循环。

# c++ - C++ Map：需要智能算法

> ID：15037242
> 
> 赞同：1
> 
> 时间：2013-02-23T05:00:17.893
> 
> 标签：c++, data-structures

我有 3 个文件。F1，F2，F3。F1 是具有 200K 条目的主文件。F2 和 F3 可以包含超集或条目的子集（300K 或 100K）。我的目标是得出 F1 中不在 F2 和 F3 中的条目列表。到目前为止，这就是我实现它的方式。

1.  在 C++ STL 映射中加载 F1 条目。
2.  开始阅读 F2。如果条目匹配，则减少计数（而不是从映射中删除）。计数 = F1 开始的大小。如果计数为 0，那么我知道 F1 中的所有条目都已在 F2 中找到，因此无需在 F2 中进一步遍历或遍历 F3。
3.  我没有从我的地图中“删除”条目的原因是我读到 C++ STL 地图是一棵二叉树。看看我的条目，我的树绝对不可能是平衡的二叉树。这是一棵极深的树。因此，任何擦除操作都变得昂贵。查找操作也可能很昂贵，但擦除操作必须在每次删除时重新创建树。
4.  所以现在的问题是我如何到达 F2 中存在的条目列表。我是否维护一个带有布尔标志“found = true or false”的结构？暗示在完成 F2 和 F3 之后，我会遍历整个 STL 映射 - 然后查找找到 = false 的值，然后开始将增量写入文件？

有什么聪明、有效的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T15:44:21.033

由于您在评论中说您的输入已经排序，所以完全避免使用容器：

```
#include <iostream>
#include <fstream>
#include <string>
using namespace std;
int main()
{
    ifstream f1("f1.data"), f2("f2.data"), f3("f3.data");
    string f1entry, f2entry, f3entry; 

    while ( getline(f1,f1entry) ) {
        while ( f2 && f2entry < f1entry ) getline(f2,f2entry);
        while ( f3 && f3entry < f1entry ) getline(f3,f3entry);
        if ( f1entry != f2entry
          && f1entry != f3entry )
            cout << f1entry << '\n';

    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:35:39.840

为什么不同时读取 F2 和 F3 并将它们放入无序集合中。

阅读F1，吐出这组里没有的那些项目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T05:08:20.550

我不知道你从哪里得出这个结论：

> 我的树绝对不可能成为平衡的二叉树。

但这是错误的。您对 std::map 的工作方式有奇怪的想法，并尝试根据这些想法过早地对其进行优化。因此，只需从地图中删除项目，从该地图中的 F2 和 F3 删除元素后剩下的就是您需要的。如果标准映射不够快，请尝试哈希映射，即 unordered_map。

PS，这应该设置和 unordered_set

# c# - 允许免费获得应用内购买

> ID：15037245
> 
> 赞同：0
> 
> 时间：2013-02-23T05:00:53.593
> 
> 标签：c#, visual-studio-2012, in-app-purchase, windows-phone-8

在我的应用中，我计划将游戏中的补充内容作为应用内购买提供。但是，我也希望能够拥有它，这样他们就可以解锁内容，而无需通过完成某种大型成就来付费。我将如何解决这个问题，是否可以在 Store 库中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T23:59:59.947

您可能必须为每个可解锁内容创建两种产品，一种是免费的（在完成该成就后可用），另一种是付费的（可以从应用程序内购买）。拥有任何一个都会导致相同的解锁内容。

# c#-4.0 - 无法弄清楚这个 migradoc 错误

> ID：15037246
> 
> 赞同：0
> 
> 时间：2013-02-23T05:01:10.800
> 
> 标签：c#-4.0, migradoc

我有堆栈跟踪。没有行号。我在我的系统上工作，它工作正常。如果有人能得到线索，请帮忙

```
System.ArgumentNullException: Value cannot be null.
Parameter name: text
   at MigraDoc.DocumentObjectModel.ParagraphElements.AddText(String text)
   at MigraDoc.DocumentObjectModel.DocumentElements.AddParagraph(String text)
   at MigraDoc.DocumentObjectModel.Tables.Cell.AddParagraph(String paragraphText)
   at Emily.Snippets.PrintClass.PrintChallanReport()
   at Emily.Snippets.PrintClass..ctor(String mode, Int32 challanNumber)
   at Emily.Controls.Reports.ChallanReportCtrl.llblPrint_LinkClicked(Object sender, LinkLabelLinkClickedEventArgs e)
   at System.Windows.Forms.LinkLabel.OnLinkClicked(LinkLabelLinkClickedEventArgs e) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T16:48:08.857

正在使用文本的空参数调用 AddText。

所以看起来你的方法 PrintClass.PrintChallanReport() 调用 Cell.AddParagraph 传递 null 作为参数。

# ruby-on-rails - 如果用户仍然登录，则每 30 分钟运行一次方法

> ID：15037252
> 
> 赞同：1
> 
> 时间：2013-02-23T05:02:25.743
> 
> 标签：ruby-on-rails, scheduled-tasks, delayed-job

如果用户登录到我的网站，我正在尝试找出一种策略来触发每 30 分钟运行一次的方法。

我目前有一个称为`signed_id?`检查用户是否登录的方法，并且我目前正在使用`delayed_job`gem 来处理我的应用程序中的一些其他后台进程。

我听说过`whenever`and `cron`gems，但我不确定什么最适合我的特殊需要。有什么可以很好用的`delayed_job`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:12:34.917

好吧，您可以为每个用户上次触发该方法的时间戳保留一个数据库记录（第一次只是他们登录时），并有一个每分钟运行的 cron。

您将保留客户端首次登录时的服务器端记录，并保持 ping（可能使用 ajax）以确保用户仍处于登录状态。您将使 Javascript 执行一个操作（该操作转到服务器执行您的方法）每 30 分钟一次，当然是根据您首次登录时的服务器端记录计算的。此计数也将每 30 分钟重置一次，继续循环。

我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:05:26.777

是的，使用 cron 它更灵活且易于使用

[红宝石上的cron](http://railscasts.com/episodes/164-cron-in-ruby)

# android - 如何在android中通过代码创建Drawables？

> ID：15037257
> 
> 赞同：1
> 
> 时间：2013-02-23T05:03:06.017
> 
> 标签：android, android-drawable

我想用java代码创建一个简单的蓝色Drawable。我不想在 res/drawable 文件夹中添加“蓝色”图像。我如何实现这一目标？我需要在 ImageView 中将此可绘制对象用作图像。

![在此处输入图像描述](../Images/6f12c73c4cf2427b63292cda46c2b748.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-23T05:07:17.977

只需使用 a [`BitmapDrawable`](http://developer.android.com/reference/android/graphics/drawable/BitmapDrawable.html)，它将让您将位图设置为源。您可以使用许多功能非常轻松地创建位图，例如：

```
Bitmap myBitmap = Bitmap.createBitmap(width, height, Config.ARGB_8888);
myBitmap.setPixel(x, y, Color.BLUE); 
```

如果您想要纯色，您可以使用该像素创建一个 1x1 位图，并根据需要将其放大。

或者，如果您想要更大的灵活性，您可以使用 a[`Canvas`](http://developer.android.com/reference/android/graphics/Canvas.html)让您使用更多的绘图方法（用于矩形、圆形、文本等）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:33:13.873

或者，您可以在 XML 中定义 ShapeDrawable （是的，我知道您想在代码中执行此操作，但也许这也对您有用）：

```
<?xml version="1.0" encoding="utf-8"?>
<shape
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <size
        android:width="150dp"
        android:height="150dp" />
    <solid
        android:color="#ff0000ff" />
</shape> 
```

XML 使支持多个屏幕变得容易（屏幕分辨率、屏幕密度、外形尺寸、方向）。更多关于如何定义形状的信息可以在[这里](http://developer.android.com/guide/topics/resources/drawable-resource.html#Shape)找到。

# c++ - 采用继承结构的重写函数

> ID：15037266
> 
> 赞同：2
> 
> 时间：2013-02-23T05:04:14.587
> 
> 标签：c++, inheritance, overriding

```
struct struct1
{};
struct struct2:public struct1
{};
class Base
{
public:
    virtual void foo(struct1 *s)
    {
        cout<<"foo in Base"<<endl;
    }
};
class Der:public Base
{
public:
    virtual void foo(struct2 *s)
    {
        cout<<"Foo in Der"<<endl;
    }
};
int main()
{
    struct2 s;
    Base *b = new Der();
    b->foo(&s);
} 
```

当我在 main 中调用函数时，它会调用 Base 中的成员。“foo in Base”被打印出来。当 Derived 类函数采用 struct1 指针时，它会打印“foo in Der”。但是有什么方法可以让它使用 struct2 指针并显示“foo in Der”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:13:10.907

你所要求的，解释你的意思是*覆盖*的行为`Base::foo`，将是函数的协变参数，这在 OO 中是不可能的，因为派生类型会缩小基类型的契约，因此它会破坏 Liskov 替换原则。您将无法用 type`Base`的对象替换 type 的对象`Der`，因为后者不接受`struct1`不是对象的`struct2`对象。

当派生类型函数具有相同的*签名*（即也采用 a `struct1*`）时，它*会覆盖*的行为`Base`和动态调度开始。但是当你的签名有它时，`struct2*`它不会*覆盖*而是*隐藏*`Base`函数。

# html - 是否有可能在 css3 中完美地复制它？

> ID：15037272
> 
> 赞同：3
> 
> 时间：2013-02-23T05:06:08.440
> 
> 标签：html, css

div: sidebar-top at [http://alex.piechowski.org/school/](http://alex.piechowski.org/school/) ...

CSS：

```
.sidebar-top {
float: left;
height: 32px;
width: 292px;
background: url(../images/sidebar_top.png) no-repeat;
padding: 4px 15px;
} 
```

注意，是图片。没有那个图像可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:14:59.990

您可以使用以下规则实现相当相似的效果：

```
border-top-right-radius: 12px;
border-top-left-radius: 12px;
border: 1px solid #ccc;
width: 290px;
background: -webkit-linear-gradient(top, white 0%,#ddd 100%);
background: linear-gradient(to bottom, white 0%,#ddd 100%); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:17:46.020

我认为这个**[DEMO](http://jsbin.com/uxenes/1/edit)**是你需要的

```
.sidebar-top {
background: #ccc;
border: 1px solid rgba(0,0,0,0.5);
border-radius: 6px;
-webkit-border-radius: 6px;
-moz-border-radius: 6px;
box-shadow: inset 0 -20px 40px #aaa, inset 0 20px 40px #fff, 0 2px 6px rgba(0,0,0,0.5);
-o-box-shadow: inset 0 -20px 40px #aaa, inset 0 20px 40px #fff, 0 2px 6px rgba(0,0,0,0.5);
-webkit-box-shadow: inset 0 -20px 40px #aaa, inset 0 20px 40px #fff, 0 2px 6px rgba(0,0,0,0.5);
-moz-box-shadow: inset 0 -20px 40px #aaa, inset 0 20px 40px #fff, 0 2px 6px rgba(0,0,0,0.5);
padding: 0px 20px 15px 10px;
width: 500px;
}

h2 {
text-align: center;
font-family: "Helvetica Neue", sans-serif;
color: #444;
text-shadow: 0 1px 1px #fff;
font-size: 14px;
margin: -0 -20px 10px -10px;
padding: 5px 15px;
border-radius: 5px 5px 0 0;
-webkit-border-radius: 5px 5px 0 0;
-moz-border-radius: 5px 5px 0 0;
background: rgba(0,0,0,0.2);
border-bottom: 2px groove rgba(255,255,255,0.75);
box-shadow: inset 0 1px 1px rgba(255,255,255,0.5);
-o-box-shadow: inset 0 1px 1px rgba(255,255,255,0.5);
-webkit-box-shadow: inset 0 1px 1px rgba(255,255,255,0.5);
-moz-box-shadow: inset 0 1px 1px rgba(255,255,255,0.5);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T05:37:28.440

```
.sidebar-top {
    float: left;
    height: 38px;
    width: 292px;
    -webkit-border-top-left-radius: 15px;
    -webkit-border-top-right-radius: 15px;
    -moz-border-radius-topleft: 15px;
    -moz-border-radius-topright: 15px;
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
    border:1px solid #D3D3D3;
    background-color:#FBFBFB;
    background-image: -ms-linear-gradient(top, #FBFBFB 0%, #EAEFEF 100%);
    background-image: -moz-linear-gradient(top, #FBFBFB 0%, #EAEFEF 100%);
    background-image: -o-linear-gradient(top, #FBFBFB 0%, #EAEFEF 100%);
    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #FBFBFB), color-stop(1, #EAEFEF));
    background-image: -webkit-linear-gradient(top, #FBFBFB 0%, #EAEFEF 100%);
    background-image: linear-gradient(to bottom, #FBFBFB 0%, #EAEFEF 100%);
}

.sidebar-top h2 {
    color: #666666;
    font: bold 16px Arial,Helvetica,sans-serif;
    letter-spacing: -1px;
    margin: 10px;
    padding:0px;
    text-transform: capitalize;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T05:39:21.620

是的，您可以使用下面提到的 css 从这里您可以生成基于 css 的渐变效果 [http://www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)

```
.sidebar-top {
   background: rgb(254,255,255); /* Old browsers */
   /* IE9 SVG, needs conditional override of 'filter' to 'none' */
   background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZlZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjM1JSIgc3RvcC1jb2xvcj0iI2Y3ZjdmNyIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlZWVlZWUiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
   background: -moz-linear-gradient(top,  rgba(254,255,255,1) 0%, rgba(247,247,247,1) 35%, rgba(238,238,238,1) 100%); /* FF3.6+ */
   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(254,255,255,1)), color-stop(35%,rgba(247,247,247,1)), color-stop(100%,rgba(238,238,238,1))); /* Chrome,Safari4+ */
   background: -webkit-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(247,247,247,1) 35%,rgba(238,238,238,1) 100%); /* Chrome10+,Safari5.1+ */
   background: -o-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(247,247,247,1) 35%,rgba(238,238,238,1) 100%); /* Opera 11.10+ */
   background: -ms-linear-gradient(top,  rgba(254,255,255,1) 0%,rgba(247,247,247,1) 35%,rgba(238,238,238,1) 100%); /* IE10+ */
   background: linear-gradient(to bottom,  rgba(254,255,255,1) 0%,rgba(247,247,247,1) 35%,rgba(238,238,238,1) 100%); /* W3C */
   border: 1px solid #d3d3d3;
   border-radius: 10px 10px 0 0;
   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff', endColorstr='#eeeeee',GradientType=0 ); /* IE6-8 */
   float: left;
   height: 32px;
   padding: 4px 15px;
   width: 292px;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-23T05:16:34.047

绝对地。

你需要设置 a`background-color`然后你可以做 a`border`来获得 1px 边框，它只 `border-radius`包含顶角，有点像这样：

```
background-color: grey;
border: 1px solid black;
border-radius: 5px 5px 0 0; 
```

`box-shadow`要获得渐变，您可以使用设置 a`inset`来获得所需的渐变，或者按照另一个答案的建议，使用 a `linear-gradient`。

# php - 服务器到客户端回调 - PHP/JavaScript

> ID：15037273
> 
> 赞同：2
> 
> 时间：2013-02-23T05:06:10.693
> 
> 标签：php, javascript, callback

我需要一些解决方案，服务器可以在不从客户端进行任何类型的持续更新查找的情况下发起对客户端的调用，我意识到好的文档和 gmail 具有一些机制，即使浏览器没有更新单元格位置和聊天消息也可以到达浏览器运行 ajax 查找请求。我试图找到解决方案，但无法找到，甚至不知道这是否真的可能，但我在 gmail 和 goodle docs 中观察到了这种机制。我不确定他们是否实现了套接字编程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:49:17.630

你可以通过websocket来实现

这是您可以使用的小样本。

[http://www.websocket.org/echo.html](http://www.websocket.org/echo.html)

# android - 向.net webservice发送soap请求

> ID：15037274
> 
> 赞同：0
> 
> 时间：2013-02-23T05:06:14.733
> 
> 标签：android, web-services

我开发了一个android应用程序..现在我想向webservice发送soap请求......我有一个字符串格式的OUTLETID值..那么如何为该字符串创建根元素和子元素..以下格式的web服务方法....请任何人帮助我...

我的网络服务方法代码如下......

```
public string GetOutletID(string outlet)
    {
        xDoc.LoadXml("<PMS></PMS>");
        XmlNode Root = xDoc.DocumentElement;

        XmlElement head = xDoc.CreateElement("EMENU");
        Root.AppendChild(head);

        XmlElement dt = xDoc.CreateElement("DATETIME");
        dt.InnerText = Date;
        head.AppendChild(dt);

        elem = null;
        elem = xDoc.CreateElement("ID");
        elem.InnerText = "1";
        head.AppendChild(elem);

        elem = null;
        elem = xDoc.CreateElement("REQTYPE");
        elem.InnerText = "OUTLETID";
        head.AppendChild(elem);

        elem = null;
        elem = xDoc.CreateElement("OUTLETID");
        elem.InnerText = outlet;
        head.AppendChild(elem);
        return xDoc.InnerXml.ToString();

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:16:04.893

您可以使用 PropertyInfo 类来实现它，答案来自 StackOverFlow 之前提出的问题，请查看此链接[传递参数](https://stackoverflow.com/questions/2108527/how-to-pass-parameter-to-a-webservice-using-ksoap2)

# perl - 使用 perl 解析制表符分隔的数据

> ID：15037275
> 
> 赞同：0
> 
> 时间：2013-02-23T05:06:40.833
> 
> 标签：perl

我有一个制表符分隔的数据。我想使用 perl 处理这些数据。我是 perl 的新手，不知道如何解决。

这是示例表：我的原始文件几乎是 GB

```
gi|306963568|gb|GL429799.1|_1316857_1453052 13  1
gi|306963568|gb|GL429799.1|_1316857_1453052 14  1
gi|306963568|gb|GL429799.1|_1316857_1453052 15  1
gi|306963568|gb|GL429799.1|_1316857_1453052 16  1
gi|306963568|gb|GL429799.1|_1316857_1453052 17  1
gi|306963568|gb|GL429799.1|_1316857_1453052 360 1
gi|306963568|gb|GL429799.1|_1316857_1453052 361 1
gi|306963568|gb|GL429799.1|_1316857_1453052 362 1
gi|306963568|gb|GL429799.1|_1316857_1453052 363 1
gi|306963568|gb|GL429799.1|_1316857_1453052 364 1
gi|306963568|gb|GL429799.1|_1316857_1453052 365 1
gi|306963568|gb|GL429799.1|_1316857_1453052 366 1
gi|306963580|gb|GL429787.1|_4276355_4500645 38640   1
gi|306963580|gb|GL429787.1|_4276355_4500645 38641   1
gi|306963580|gb|GL429787.1|_4276355_4500645 38642   1
gi|306963580|gb|GL429787.1|_4276355_4500645 38643   1
gi|306963580|gb|GL429787.1|_4276355_4500645 38644   1
gi|306963580|gb|GL429787.1|_4276355_4500645 38645   1 
```

我想将输出作为名称、起始值、结束值、平均值

```
gi|306963568|gb|GL429799.1|_1316857_1453052 13  17  1   
gi|306963568|gb|GL429799.1|_1316857_1453052 360 366 1   
gi|306963580|gb|GL429787.1|_4276355_4500645 38640   38645   1 
```

如果有人能分享他们的智慧，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:42:49.743

一般模式是

```
use strict;
use warnings;

open my $fh, '<', 'myfile' or die $!;
while (<$fh>) {
  chomp;
  my @fields = split /\t/;
  ...
} 
```

在循环内，可以通过 访问`$fields[0]`字段`$fields[2]`。

* * *

**更新**

我已经更好地理解了你的问题，我认为这个解决方案对你有用。*请注意，它假设输入数据已排序，如您在问题中所示。*

它在 hash 中累积开始值和结束值、总数和计数`%data`，并保留遇到的所有名称的列表，`@names`以便数据可以按照读取的顺序显示。

该程序需要输入文件名作为命令行上的参数。

您需要考虑平均值的格式，因为它是一个浮点值。就目前而言，它会将值显示为 16 位有效数字，您可能希望使用`sprintf`.

```
use strict;
use warnings;

my ($filename) = @ARGV;
open my $fh, '<', $filename or die qq{Unable to open "$filename": $!};

my @names;
my %data;
my $current_name = '';
my $last_index;

while (<$fh>) {
  chomp;
  my ($name, $index, $value) = split /\t/;

  if ( $current_name ne $name or $index > $last_index + 1 ) {
    push @names, $name unless $data{$name};
    push @{ $data{$name} }, {
      start => $index,
      count => 0,
      total => 0,
    };
    $current_name = $name;
  }

  my $entry = $data{$name}[-1];
  $entry->{end} = $index;
  $entry->{count} += 1;
  $entry->{total} += $value;
  $last_index = $index;
}

for my $name (@names) {
  for my $entry (@{ $data{$name} }) {
    my ($start, $end, $total, $count) = @{$entry}{qw/ start end total count /};
    print join("\t", $name, $start, $end, $total / $count), "\n";
  }
} 
```

**输出**

```
gi|306963568|gb|GL429799.1|_1316857_1453052 13  17  1
gi|306963568|gb|GL429799.1|_1316857_1453052 360 366 1
gi|306963580|gb|GL429787.1|_4276355_4500645 38640 38645 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T07:09:04.360

这将为您的问题中的示例产生相同的输出：

```
#!/usr/bin/env perl -n
#
my ($name, $i, $value) = split(/\t/);

sub print_stats {
    print join("\t", $prev_name, $start, $prev_i, $sum / ($prev_i - $start + 1)), "\n";
}

if ($prev_name eq $name && $i == $prev_i + 1) {
    $sum += $value;
    $prev_i = $i;
}
else {
    if ($prev_name) {
        &print_stats();
    }
    $start = $i;
    $prev_name = $name;
    $sum = $value;
    $prev_i = $i;
}
END {
    &print_stats();
} 
```

将其用作：

```
./parser.pl < sample.txt 
```

**更新：**评论中问题的答案：

*   要将输出打印到文件，运行如下：`./parser.pl < sample.txt > output.txt`
*   `$prev_name`并且`$prev_i`没有初始化，所以它们`undef`一开始是（= NULL）

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-23T10:06:52.550

[这是使用Text::CSV](https://metacpan.org/module/Text%3a%3aCSV)的示例：

```
use Text::CSV;  # This will implicitly use Text::CSV_XS if it's installed

my $parser = Text::CSV->new( { sep_char => '|' } );
open my $fh, '<', 'myfile' or die $!;

while (my $row = $parser->getline($fh)) {
  # $row references an array of field values from the line just read
} 
```

此外，作为一个次要的侧面细节，您的示例数据由管道字符而不是制表符分隔，尽管这可能只是为了避免那些回答您问题的人出现复制/粘贴错误。如果实际数据是制表符分隔的，则设置`sep_char`为`"\t"`而不是`'|'`.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-23T05:21:14.433

你可以做这样的事情......

```
open (FILE, 'data.txt');
while (<FILE>) {
chomp;
($name, $start_value, $end_value, $average) = split("\t");
print "Name: $name\n";
print "Start Value: $start_value\n";
print "End Value: $End_Value\n";
print "Average: %average
print "---------\n";
}
close (FILE);
exit; 
```

这些看起来像 GenBank 文件......所以我不确定你从哪里得到开始，结束值，平均值。

# php - 警告：preg_replace() [function.preg-replace]：未知修饰符“d”

> ID：15037276
> 
> 赞同：2
> 
> 时间：2013-02-23T05:06:50.700
> 
> 标签：php, regex

我有一个偶尔会出错的函数：

`Warning: preg_replace() [function.preg-replace]: Unknown modifier 'd'`

大多数情况下它不会。我不明白什么时候有这种模式，什么时候没有。

我对正则表达式几乎一无所知，所以任何帮助将不胜感激。

这是功能：

```
function textHighlight($haystack,$needle,$clr='yellow') {
    $haystack=preg_replace("/($needle)/i","<span style='background:$clr;'>\${1}</span>",$haystack);
    return $haystack;
} 
```

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:11:38.840

$needle 变量中可能有一个“/”字符。您可以将 /../ 替换为 #...#

# javascript - HTML5全局变量在两个地方不同

> ID：15037277
> 
> 赞同：1
> 
> 时间：2013-02-23T05:06:52.370
> 
> 标签：javascript, html, canvas

所以我正在研究 HTML5 平台游戏的基础知识，因为我只是在学习它，所以我遇到了一些问题。我有一种跳跃的方法，但有时即使我有一个 if 语句会在每个滴答声中执行以查看对象是否在地面以下以及是否将其放回地面，但有时该对象会落在“地面”以下。

这是“游戏”：[http ://www.freeminecrafthost.com/RealWorld/JDev/](http://www.freeminecrafthost.com/RealWorld/JDev/)

我进入 chrome 调试器，当我将播放器放在“地面”下时，我暂停了执行，并且播放器函数中的 y 等于 440。但在绘画功能中不是

有任何想法吗？

有问题的代码是：

```
this.move = function(){
        if(this.isJumping){
            this.y -= jumprate;
            jumprate--;
        }
        if (this.y>440){
            this.isJumping = false;
            y = 440;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:12:51.270

这

```
if (this.y>440){
   this.isJumping = false;
   y = 440;
} 
```

应该

```
if (this.y>440){
   this.isJumping = false;
   this.y = 440;
} 
```

The reason is that without specifying the `this` keyword, you create a new variable in scope every time which is never used. Also, it stops randomly since you test for `this.isJumping` to prevent the fall to continue but never reset `this.y` variable.

# perl - 从 STDIN 路径位置删除字符

> ID：15037280
> 
> 赞同：0
> 
> 时间：2013-02-23T05:07:44.773
> 
> 标签：perl

我有一个 Perl 程序，它向用户询问程序输入的文件位置。不是让用户输入整个位置，是否可以让他们简单地将文件从其位置拖到命令行？当我尝试这样做时，它会放置`'`在文件位置周围。您能否`'`在程序尝试打开文件之前从 STDIN 中删除该字符？我感觉这是一个操作系统功能而不是 perl。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:54:14.357

您可以使用从字符串中删除单引号

```
$string =~ s/'//g; 
```

或者，稍微更有效

```
$string =~ tr/'//d; 
```

但是您是否考虑过在命令行上传递文件名，以便使用

```
perl myprogram.pl myfile 
```

这样引号是正确的，并且不需要在程序中打开文件。你可以写

```
while (<>) {
  chomp;
  ...
} 
```

# matlab - 如何根据matlab中的一些假定尺寸选择组件

> ID：15037281
> 
> 赞同：0
> 
> 时间：2013-02-23T05:07:47.180
> 
> 标签：matlab, matrix, wolfram-mathematica

`SelectComponents`Matlab在mathematica中有替代功能吗？

这个 wolfram mathematica 代码如何转换为它的 matlab 等价物。

```
(* Connected component selection based on some supposed sizes. *)
ccs = SelectComponents[wsthick, "Count", 1000 < # < 3000 || 6000 < # < 10000 &] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T08:11:54.200

在 Matlab 中，您可以[`regionprops`](http://www.mathworks.com/help/images/ref/regionprops.html)用于计算图像中标记区域的不同属性。

对于你的问题，我会尝试

```
lb = bwlabel( wsthick, 4 ); % use 4-connect regions in bw image
s = regionprops( lb, 'Area', 'PixelIdxList' );  % extract area of regions - number of pixels they cover
count = [s(:).Area] ; % a vector with count for each region
sel = ( ( count > 1000 & count < 3000 ) | ( count > 6000 & count < 10000 );
ccs = false( size( wsthick ) );
ccs( vertcat( s(sel).PixelIdxList ) ) = true; 
```

可能不像 Mathematica 那样优雅，但工作方式相同。

# php - PHP CURL - 从远程 URL 传递图像，并在一个 curl 资源中检查 http 标头响应代码

> ID：15037283
> 
> 赞同：1
> 
> 时间：2013-02-23T05:08:06.527
> 
> 标签：php, curl

我有提供图像的 php 应用程序，图像来自远程 URL，并将其传递给内容类型为图像的浏览器。我的代码有两个步骤：

1.  使用 curl 检查 http 标头响应。如果它是一个有效的图像（httpcode 200）。
2.  如果 httpcode 是 200，我使用带有标题内容类型的 readfile 函数：image/jpg。

对我来说，上面的方法不是一个好主意，因为它会命中 2 个 http。我的目标是使用 CURL 使上面的两个步骤仅是一个。可能吗？

感谢对此的任何投入。

谢谢。

# java - 在 awt 中显示图像

> ID：15037285
> 
> 赞同：0
> 
> 时间：2013-02-23T05:08:33.597
> 
> 标签：java, awt

我有图像的帧和缓冲区值。我无法在框架中显示图像。我使用的代码如下：

```
byte [] payload = new byte[payload_length];
rtp_packet.getpayload(payload);
Toolkit toolkit = Toolkit.getDefaultToolkit();
Image image = toolkit.createImage(payload, 0, payload_length);  
icon = new ImageIcon(image);
iconLabel.setIcon(icon); 
```

我还尝试使用代码将其直接添加到框架中：

```
 f.setIconImage(image); 
```

现在如何显示图像？为什么它不起作用？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-23T05:26:20.433

您想使用图形对象。您的 awt 框架应该已经有一个，并且您通过...调用您的图形对象

```
 BufferedImage img = javaImage; // You replace this with your image
            Graphics g = this.getGraphics(); // this is what you need to call
            g.drawImage(img, 0, 0, null); // you then call draw image 
```

在您的情况下，您只需执行

```
 g.drawImage(image, 0, 0, null); // you can look up the parameters 
```

那应该为你做。

# asp.net - 第二页在 C# 中没有获取正确的数据

> ID：15037292
> 
> 赞同：0
> 
> 时间：2013-02-23T05:10:17.093
> 
> 标签：asp.net, gridview

第一页 ：

```
protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            var firstCell = e.Row.Cells[0];
            firstCell.Controls.Clear();
            firstCell.Controls.Add(new HyperLink { NavigateUrl = "ser_job_status1.aspx?Complaint_No = " + firstCell.Text, Text = firstCell.Text, Target = "_blank" });
            Session["Complaint_No"] = firstCell.Text;
        }

    } 
```

第二页：

```
 protected void Page_Load(object sender, EventArgs e)
    {

        string strComplaintNo = Convert.ToString(Session["Complaint_No"]);
        TextBox51.Text = strComplaintNo;
} 
```

我的第二页的 TextBox.51.Text 从第一页会话中获取值。我的问题是我的 textbox51.text 获取 Complaint_No 的值，它最终绑定到 gridview 而不是获取我的超链接值..请帮助解决这个问题..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:17:11.550

`Session["Complaint_No"] = firstCell.Text;`在您的会话中设置，因此`firstCell.Text`必须在第二页中获取 的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:26:52.190

改变

```
Session["Complaint_No"] = firstCell.Text; 
```

至

```
Session["Complaint_No"] = ((HyperLink)firstCell.Controls[0]).NavigateUrl; 
```

# python - Python使用split从HTML中提取数据

> ID：15037301
> 
> 赞同：5
> 
> 时间：2013-02-23T05:12:08.777
> 
> 标签：python, html-parsing

从 URL 检索到的特定页面具有以下语法：

```
<p>
    <strong>Name:</strong> Pasan <br/>
    <strong>Surname: </strong> Wijesingher <br/>                    
    <strong>Former/AKA Name:</strong> No Former/AKA Name <br/>                    
    <strong>Gender:</strong> Male <br/>
    <strong>Language Fluency:</strong> ENGLISH <br/>                    
</p> 
```

我想提取姓名、姓氏等中的数据。（我必须对许多页面重复此任务）

为此，我尝试使用以下代码：

```
import urllib2

url = 'http://www.my.lk/details.aspx?view=1&id=%2031'
source = urllib2.urlopen(url)

start = '<p><strong>Given Name:</strong>'
end = '<strong>Surname'
givenName=(source.read().split(start))[1].split(end)[0]

start = 'Surname: </strong>'
end = 'Former/AKA Name'
surname=(source.read().split(start))[1].split(end)[0]

print(givenName)
print(surname) 
```

当我只调用一次 source.read.split 方法时，它工作正常。但是当我使用它两次时，它会给出一个列表索引超出范围错误。

有人可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-23T05:24:49.003

您可以使用[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)来解析 HTML 字符串。

这是您可以尝试的一些代码，
它使用 BeautifulSoup（获取由 html 代码生成的文本），然后解析字符串以提取数据。

```
from bs4 import BeautifulSoup as bs

dic = {}
data = \
"""
    <p>
        <strong>Name:</strong> Pasan <br/>
        <strong>Surname: </strong> Wijesingher <br/>                    
        <strong>Former/AKA Name:</strong> No Former/AKA Name <br/>                    
        <strong>Gender:</strong> Male <br/>
        <strong>Language Fluency:</strong> ENGLISH <br/>                    
    </p>
"""

soup = bs(data)
# Get the text on the html through BeautifulSoup
text = soup.get_text()

# parsing the text
lines = text.splitlines()
for line in lines:
    # check if line has ':', if it doesn't, move to the next line
    if line.find(':') == -1: 
        continue    
    # split the string at ':'
    parts = line.split(':')

    # You can add more tests here like
    # if len(parts) != 2:
    #     continue

    # stripping whitespace
    for i in range(len(parts)):
        parts[i] = parts[i].strip()    
    # adding the vaules to a dictionary
    dic[parts[0]] = parts[1]
    # printing the data after processing
    print '%16s %20s' % (parts[0],parts[1]) 
```

提示：如果你打算使用 BeautifulSoup 来解析 HTML，
你应该有某些属性，比如`class=input`or `id=10`，也就是说，你保持所有相同类型的标签是相同的 id 或类。

* * *

**更新**
您的评论，请参阅下面的代码
它应用了上面的提示，使生活（和编码）更容易

```
from bs4 import BeautifulSoup as bs

c_addr = []
id_addr = []
data = \
"""
<h2>Primary Location</h2>
<div class="address" id="10">
    <p>
       No. 4<br>
       Private Drive,<br>
       Sri Lanka&nbsp;ON&nbsp;&nbsp;K7L LK <br>
"""
soup = bs(data)

for i in soup.find_all('div'):
    # get data using "class" attribute
    addr = ""
    if i.get("class")[0] == u'address': # unicode string
        text = i.get_text()
        for line in text.splitlines(): # line-wise
            line = line.strip() # remove whitespace
            addr += line # add to address string
        c_addr.append(addr)

    # get data using "id" attribute
    addr = ""
    if int(i.get("id")) == 10: # integer
        text = i.get_text()
        # same processing as above
        for line in text.splitlines():
            line = line.strip()
            addr += line
        id_addr.append(addr)

print "id_addr"
print id_addr
print "c_addr"
print c_addr 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-23T05:31:16.873

您正在调用 read() 两次。那就是问题所在。您不想这样做，而是想调用一次 read，将数据存储在一个变量中，然后在调用 read() 的地方使用该变量。像这样的东西：

```
fetched_data = source.read() 
```

然后后来...

```
givenName=(fetched_data.split(start))[1].split(end)[0] 
```

和...

```
surname=(fetched_data.split(start))[1].split(end)[0] 
```

那应该行得通。您的代码不起作用的原因是因为 read() 方法是第一次读取内容，但是在完成读取后，它正在查看内容的末尾。下次您调用 read() 时，它没有剩余内容并引发异常。

查看[urllib2](http://docs.python.org/2/library/urllib2.html)的文档和[文件对象的方法](http://docs.python.org/2/tutorial/inputoutput.html#methods-of-file-objects)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:52:33.203

如果你想快点，正则表达式对这类任务更有用。一开始这可能是一个艰难的学习曲线，但正则表达式有一天会拯救你的屁股。

试试这个代码：

```
# read the whole document into memory
full_source = source.read()  

NAME_RE = re.compile('Name:.+?>(.*?)<')
SURNAME_RE = re.compile('Surname:.+?>(.*?)<')

name = NAME_RE.search(full_source, re.MULTILINE).group(1).strip()
surname = SURNAME_RE.search(full_source, re.MULTILINE).group(1).strip() 
```

有关如何在 python 中使用正则表达式的更多信息，请参见[此处。](http://docs.python.org/2/howto/regex.html)

更全面的解决方案将涉及解析 HTML（使用 BeautifulSoup 之类的库），但这可能会根据您的特定应用程序而过大。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T04:58:17.017

您可以使用 HTQL：

```
page="""
<p>
    <strong>Name:</strong> Pasan <br/>
    <strong>Surname: </strong> Wijesingher <br/>                    
    <strong>Former/AKA Name:</strong> No Former/AKA Name <br/>                    
    <strong>Gender:</strong> Male <br/>
    <strong>Language Fluency:</strong> ENGLISH <br/>                    
</p>
"""

import htql
print(htql.query(page, "<p>.<strong> {a=:tx; b=:xx} "))

# [('Name:', ' Pasan '), 
#  ('Surname: ', ' Wijesingher '), 
#  ('Former/AKA Name:', ' No Former/AKA Name '), 
#  ('Gender:', ' Male '), 
#  ('Language Fluency:', ' ENGLISH ')
# ] 
```

# c# - 无法启动程序，Windows Web 服务框架中出现无法识别的错误

> ID：15037303
> 
> 赞同：10
> 
> 时间：2013-02-23T05:12:10.510
> 
> 标签：c#, c++

我的 c# 控制台应用程序调用托管 c++ dll。添加 dll 作为对 c# 项目的引用。如果我尝试以调试模式启动，它会在尝试运行项目时显示错误。无法启动程序，Windows Web 服务框架中出现无法识别的错误。它不是一个网络应用程序。如果我在没有调试的情况下运行，控制台会弹出，并且我的 dll 会产生一个错误，即 hdf5 头文件与我的 c++ dll 链接到的 hdf5 库不匹配（尽管它编译和构建都很好）。c# 驱动程序和 c++ dll 在 64 位机器上都是 64 位的。F5 和 ctrl F5 错误都令人费解。希望有人有这方面的信息。谢谢，某人

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-11-14T21:37:40.523

尝试更改目标 CPU。转到项目的属性-> 构建平台目标并将值设置为 x86。

这对我有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-12T07:53:21.410

1.  使用清理解决方案旧文件`Menu -> Build -> Clean Solution`
2.  在您`project properties`选择`compile tab`并启用复选框`Prefer 32bit`或更改`Target CPU`为`X86`
3.  应用上述步骤后再次尝试编译/调试

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-05-20T23:03:51.113

我也不得不重新启动 Visual Studio。重建溶液和清洁溶液没有区别；该解决方案最近构建并运行良好。

一旦我重新启动 Visual Studio 并重新运行，就没有问题了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-27T15:44:45.977

刚刚收到此错误，重新启动 Visual Studio 对我有帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-04-03T11:55:17.273

我被我们的防火墙阻止了

# verilog - 尝试使用 Verilog 时出现解析错误；测试 LFSR 不起作用

> ID：15037304
> 
> 赞同：1
> 
> 时间：2013-02-23T05:12:10.943
> 
> 标签：verilog, fpga

我目前正在使用 Verilog 生成随机数。消息来源表明，使用线性反馈移位寄存器是随机化 MSB 的最佳方法之一。所以我决定编写一个 LFSR 代码和测试平台。片段如下：

```
module lfsr_counter(clk, reset, ce, lfsr_done);

input clk, reset, ce;
output lfsr_done;

reg lfsr_done;
reg [10:0] lfsr;
initial lfsr_done = 0;
wire d0,lfsr_equal;

xnor(d0,lfsr[10],lfsr[8]);
assign lfsr_equal = (lfsr == 11'h359);

always @(posedge clk,posedge reset) begin
    if(reset) begin
        lfsr <= 0;
        lfsr_done <= 0;
    end
    else begin
        if(ce)
          lfsr <= lfsr_equal ? 11'h0 : {lfsr[9:0],d0};
          lfsr_done <= lfsr_equal;
    end
end
endmodule

module testbench();

reg clk, reset, ce;
wire lfsr_done;

lfsr_counter dut(clk, reset, ce, lfsr_done); // Design Under Test

initial
begin

    reset = 0;
        clk = 1;
    ce = 0;

        #100
    ce = 1;
        #200 $finish;
end

//Generate Clock
always #10 clk = !clk; 

endmodule 
```

但我不断收到这些解析错误：

![在此处输入图像描述](../Images/aa0f6a9ed039e9c41c25f54bcba9d662.png)

我真的不明白。我正在使用 Verilogger Pro 顺便说一句

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:24:09.663

我认为总是块术语由分隔`or`，而不是逗号。

`always @(posedge clk or posedge reset) begin`

# php - 解析错误：语法错误，意外的 T_STRING，找不到错误

> ID：15037310
> 
> 赞同：-3
> 
> 时间：2013-02-23T05:12:48.120
> 
> 标签：php

上传后此代码在本地（xampp）运行良好我收到解析错误：语法错误，意外的 T_STRING，但似乎无法找出问题所在。

```
$user = $_GET["u"];
$order = $_GET["o"];

$fullorder = $user . $order . ".txt";

include("geoip.inc");
$ip=$_SERVER['REMOTE_ADDR'];

function loghit()
{
$user = $_GET["u"];
$order = $_GET["o"];

$fullorder = $user . $order . ".txt";
$lf_name = $fullorder;

$monthly = 0;

$monthly_path = "oldfiles";

$type = 1;

$display = 1;

$separator = "<br \>";

$log_file = dirname(__FILE__) . '/' . $lf_name;

    $uIP = $_SERVER['REMOTE_ADDR'];

    if (file_exists($log_file)) {
        if (date('j') == 10) {
            if (!file_exists($monthly_path)) {
                mkdir($monthly_path);
            }

            $prev_name = $monthly_path . '/' . date("n-Y", strtotime("-1 month"));
            if (!file_exists($prev_name)) {
                copy($log_file, $prev_name);

                if ($type == 0) {
                    $toWrite = "1";
                    $info = $beforeAllText . "1";
                } else if ($type == 1) {
                    $toWrite = "1;" . $uIP . ",";
                    $info = $beforeUniqueText . "1";
                } else if ($type == 2) {
                    $toWrite = "1;1;" . $uIP . ",";
                    $info = $beforeAllText . "1" . $separator . $beforeUniqueText . "1";
                }
                goto write_logfile;
            }
        } 
```

write_logfile 文件位于代码下方：

```
write_logfile:
    //Put $toWrite in log file
    file_put_contents($log_file, $toWrite);

} 
```

此行发生错误：

```
 goto write_logfile; 
```

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:16:12.673

**编辑：**

该`goto`命令仅在 PHP >= 5.3.0 中可用。如果您尝试以`goto`其他方式使用，则会收到意外的 T_STRING 错误。

* * *

**前：**

您需要在代码中添加标签`goto`才能到达。

[http://php.net/manual/en/control-structures.goto.php](http://php.net/manual/en/control-structures.goto.php)

添加`write_logfile:`您希望代码跳转到的位置。

# highcharts - highcharts xAxis 限制放大多少

> ID：15037325
> 
> 赞同：3
> 
> 时间：2013-02-23T05:15:30.547
> 
> 标签：highcharts, zooming, range, max

我有一个高图表，其中 X 轴单位是日期。我的数据四舍五入到最近的一天，所以没有必要放大超过一天的水平。

但是，highcharts 可以让我放大到小时级别。我不想让用户放大到比几天更深的地方。因此，我将 X 轴定义为：

```
 xAxis: {
        type: 'datetime',
        dateTimeLabelFormats: { // don't display the dummy year
            month: '%b \'%y',
            year: '%Y'               
        },
        minRange: 86400000                              
    }, 
```

但我仍然可以放大到小时级别。我将 minRange 设置为 86400000（即 1 天），但它没有效果。我设置错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-04-14T12:16:33.053

也许为时已晚，但对其他人可能有用：

对我来说，这是我的解决方案：

```
maxZoom: 14 * 24 * 3600000 
```

这意味着最大缩放为 14 天，因此不会显示小时数

# sql - 如何使用sql查找表中出现次数最多的一个？

> ID：15037328
> 
> 赞同：0
> 
> 时间：2013-02-23T05:16:01.040
> 
> 标签：sql, oracle

我有一个表 A 有两列名为 B 和 C 如下：

```
('W1','F2')
('W1','F7')
('W2','F1')
('W2','F6')
('W2','F8')
('W4','F7')
('W6','F2')
('W6','F15')
('W7','F1')
('W7','F4')
('W7','F17')
('W8','F13') 
```

如何在oracle中使用sql找到B列中出现的时间最多的一个？（在这种情况下，它是 W2 和 W7）。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:39:04.460

/*

1.  C2 指 B 栏
2.  T1 指别名

*/

WITH T1 AS
(
SELECT C2,COUNT(*) AS COUNT
from YOURTABLE
GROUP BY C2
)

SELECT C2,COUNT FROM T1 WHERE COUNT=(SELECT MAX(COUNT) FROM T1 )
;

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:41:24.800

使用子查询为 columnB 中的每个值计算 columC 中的项目数，并`rank()`根据该计数计算子查询的结果。然后在您的主选择中仅返回 columnB 的值，其中子查询返回的行的排名为 1：

```
SELECT ColB
FROM (
       SELECT ColB,
              Count(ColC),
              rank() over (ORDER BY Count(ColC) DESC) AS rnk
       FROM yourTable
       GROUP BY ColB)
WHERE rnk = 1 
```

这是一个 sql 小提琴：[http ://sqlfiddle.com/#!4/fa6bd/2](http://sqlfiddle.com/#!4/fa6bd/2)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T05:18:44.133

```
Select ColB, Count(*) 
FROM yourTable 
GROUP BY ColB
ORDER BY count(*) desc 
```

# android - 在对话框中时未调用 onContextItemSelected

> ID：15037333
> 
> 赞同：2
> 
> 时间：2013-02-23T05:16:15.997
> 
> 标签：android

我的应用程序中有一个对话框，当单击对话框中的按钮时，将显示一个上下文菜单。但我的问题是 onContextItemSelected 没有被调用。我的代码正在对话框外的其他按钮中工作。

这是我的代码：

```
dialog = new Dialog(SuperPizzaActivity.this, R.style.DialogSlideAnim);
dialog.setTitle("Select Size and Crust");
dialog.setContentView(R.layout.pizzadialog);
final Button select = (Button) dialog.findViewById(R.id.superpizzadselect);

select.setOnCreateContextMenuListener(new View.OnCreateContextMenuListener() {

public void onCreateContextMenu(ContextMenu menu, View v,
ContextMenuInfo menuInfo) {
// TODO Auto-generated method stub
menu.setHeaderTitle("Choose One");
menu.add(1, 1, 1, "Add Chicken");
menu.add(2, 2, 2, "Add Pasta");
menu.add(3, 3, 3, "Add Drinks");
menu.add(4, 4, 4, "Continue");
}
});

select.setOnClickListener(new View.OnClickListener() {

public void onClick(View v) {
// TODO Auto-generated method stub
openContextMenu(v);
}
});

     public boolean onContextItemSelected(MenuItem item) {
            AdapterContextMenuInfo info = (AdapterContextMenuInfo) item
            .getMenuInfo();

            switch (item.getItemId()) {
            case 1:
                dialog.dismiss();
                Intent i1 = new Intent(SuperPizzaActivity.this,SuperChickenActivity.class);
                i1.putExtra(checker, checker);
                startActivity(i1);
                overridePendingTransition(android.R.anim.slide_in_left, android.R.anim.slide_out_right);        
                break;

            case 2:
                dialog.dismiss();
                Intent i = new Intent(SuperPizzaActivity.this,SuperPastaActivity.class);
                i.putExtra(checker, checker);
                startActivity(i);
                overridePendingTransition(android.R.anim.slide_in_left, android.R.anim.slide_out_right);
                break;

            case 3:
                dialog.dismiss();
                Intent i2 = new Intent(SuperPizzaActivity.this,SuperDrinksActivity.class);
                i2.putExtra(checker, checker);
                startActivity(i2);
                overridePendingTransition(android.R.anim.slide_in_left, android.R.anim.slide_out_right);
                break;

            case 4:
                dialog.dismiss();
                Intent i3 = new Intent(SuperPizzaActivity.this,SuperSummaryList.class);
                startActivity(i3);
                overridePendingTransition(android.R.anim.slide_in_left, android.R.anim.slide_out_right);
                break;

            }
            return true;
            } 
```

任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:21:13.100

只需按照以下步骤添加和创建菜单。

```
@Override
    public void onCreateContextMenu(ContextMenu menu, View v,
            ContextMenuInfo menuInfo) {
        super.onCreateContextMenu(menu, v, menuInfo);
        menu.setHeaderTitle("Choose One");
        menu.add(1, 1, 1, "Add Chicken");
        menu.add(2, 2, 2, "Add Pasta");
        menu.add(3, 3, 3, "Add Drinks");
        menu.add(4, 4, 4, "Continue");

        } 
```

您必须注册您的菜单：

```
@Override
    public boolean onContextItemSelected(MenuItem item) {

        //add image from camera
        if(item.getItemId()==0)
        {
        Toast.makeText(MainActivity.this, "first", Toast.LENGTH_SHORT).show();  
        }
        //select image from list
        else if(item.getItemId()==1)
        {
            Toast.makeText(MainActivity.this, "second", Toast.LENGTH_SHORT).show();
        }
        else if(item.getItemId()==2)
        {
            Toast.makeText(MainActivity.this, "third", Toast.LENGTH_SHORT).show();
        }
        else if(item.getItemId()==3)
        {
            Toast.makeText(MainActivity.this, "fourth", Toast.LENGTH_SHORT).show();
        }
        else if(item.getItemId()==4)
        {
            Toast.makeText(MainActivity.this, "fifth", Toast.LENGTH_SHORT).show();
        }

        return super.onContextItemSelected(item);

    } 
```

更新：

对话：

```
private void dialog() {
        // custom dialog
        final Dialog dialog = new Dialog(MainActivity.this,android.R.style.Theme_Translucent_NoTitleBar_Fullscreen);
        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE); 
        dialog.setContentView(R.layout.temp);
        getWindow().setLayout(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
        // set the custom dialog components - text, image and button
        Button btn = (Button) dialog.findViewById(R.id.btn_login);
        btn.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
            registerForContextMenu(v); //here opening menuitems
                 openContextMenu(v);
            }
        });

        dialog.show();
    } 
```

在点击事件上调用菜单：

```
btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    dialog(); // here dialog will open.

                }
            }); 
```

我刚刚制作了一个演示及其作品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:22:15.190

请打电话

```
registerForContextMenu method 
```

在你的问题中，我认为

```
 registerForContextMenu(select); 
```

我希望这会有所帮助

**编辑**

我在我的应用程序中使用了以下代码，它成功运行

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.setup_home_list);

    listview = (ListView)findViewById(R.id.lvHomeList);
    listview.setOnItemClickListener(this);
    registerForContextMenu(listview);
    if (null == adapter) {
        adapter = new HATAdapter(this);
        listview.setAdapter(adapter);
    }
    adapter.notifyDataSetChanged();

    LoadHomeList();
}

@Override
public void onCreateContextMenu(ContextMenu menu, View v, ContextMenuInfo menuInfo) {
    super.onCreateContextMenu(menu, v, menuInfo);
    AdapterView.AdapterContextMenuInfo info = (AdapterContextMenuInfo)menuInfo;
    if( 0 == info.position )
        return;
    menu.setHeaderTitle( adapter.getItem(info.position).getText() );  
    menu.add( Menu.NONE, HAT.HOME | HAT.ACTION_MODIFY, 0, "Modify");  
    menu.add( Menu.NONE, HAT.HOME | HAT.ACTION_ERASE, 0, "Erase");  
}

@Override  
public boolean onContextItemSelected(MenuItem item) {
    AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();
    if( 0 == info.position )
        return false;
    int nResponse = item.getItemId();
    String sStr = adapter.getItem(info.position).getText();
    doResponse(nResponse, sStr);
    return true;  
} 
```

# multithreading - SML 中的互斥锁/锁/信号量

> ID：15037334
> 
> 赞同：0
> 
> 时间：2013-02-23T05:16:19.840
> 
> 标签：multithreading, sml, smlnj

SML 是否有 mutex/lock/semaphore/etc 库？我在文档中的任何地方都找不到。我什至在任何地方都找不到多线程库。它存在吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:16:24.527

标准中没有任何内容。但是，如果您使用的是 SML/NJ 或 MLton，那么它们都提供[Concurrent ML](http://cml.cs.uchicago.edu)，这是一个具有一流同步事件的高级并发库。Poly/ML 也有自己的[Thread](http://www.polyml.org/docs/Threads.html)模块。

# jquery - 使用 jquery 更改组合框值

> ID：15037338
> 
> 赞同：0
> 
> 时间：2013-02-23T05:16:45.257
> 
> 标签：jquery, class, combobox

我正在使用一个 Web 程序，该程序将组合框发布到以下代码中的默认“全部”值：

```
<select size="1" name="W45_Sl" id="W45_Sl" style="cursor: pointer;">
<option class="selected" value="u;" selected="1">(All)</option>
<option class=" nAll" value="h6512;73D71A62420B4A8431F3DF84098216AA">2/22/2013</option>
<option class=" nAll" value="h6511;73D71A62420B4A8431F3DF84098216AA">2/21/2013</option>
<option class=" nAll" value="h6510;73D71A62420B4A8431F3DF84098216AA">2/20/2013</option>
</select> 
```

当您更改网页中组合框的值时，它会更改如下代码以操作目标对象：

```
<select size="1" name="W45_Sl" id="W45_Sl" style="cursor: pointer;">
<option class="" value="u;" selected="1">(All)</option>
<option class=" nAll" value="h6512;73D71A62420B4A8431F3DF84098216AA">2/22/2013</option>
<option class=" nAll selected" value="h6511;73D71A62420B4A8431F3DF84098216AA">2/21/2013</option>
<option class=" nAll" value="h6510;73D71A62420B4A8431F3DF84098216AA">2/20/2013</option></select> 
```

我想通过 jquery 做的是将加载时的组合框更改为默认值，以便它更改目标对象，我编写了以下 jquery 来更改组合框：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
<script>$(document).ready(function() { $("#W45_Sl").removeClass("selected");});</script>
<script>$(document).ready(function() { $("#W45_Sl").val("h6511;73D71A62420B4A8431F3DF84098216AA");});</script>
<script>$(document).ready(function() { $("#W45_Sl").addClass(" nAll selected");});</script> 
```

我的问题是组合框将反映“h6511;73D71A62420B4A8431F3DF84098216AA”“2/21/2013”​​的更新值，**但类代码和目标对象不会改变。**

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:22:05.587

尝试

```
$(function()
{
    $("#W45_Sl").removeClass("selected").attr("value","h6511;73D71A62420B4A8431F3DF84098216AA").addClass("nAll selected");      
}); 
```

# android - 通过 Internet 将 RTP 数据包（流）发送到服务器

> ID：15037339
> 
> 赞同：0
> 
> 时间：2013-02-23T05:16:44.823
> 
> 标签：android, protocols, rtp

关于rtsp协议的帖子太多了，从android生成rtp包。我编写了一个可以生成 rtp 数据包（流）并发送（单播/广播）到本地网络的代码。我的问题是如何通过 Internet 将数据包（流）发送到服务器？据我所知，我们不能从本地设备通过inetnet 单播到服务器（具有私有IP）。

```
Android camera ----> RTP PACKETS -----------------------------------------------> SERVER
                                                     Internet 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:21:32.460

是的你可以。路由器对此负责。事实上，您可以访问互联网的路由器有一个公共 IP 地址，每个人都在专用网络后面共享该地址。我就是这样给你打字的。您的 android 需要能够访问某人的网络。然后服务器将联系该路由器，因为它会知道其公共 IP 地址，并且您的路由器会将这些数据包发送到您的 android。

# c++ - Polymorphism base class pointers

> ID：15037340
> 
> 赞同：2
> 
> 时间：2013-02-23T05:16:47.417
> 
> 标签：c++, templates, polymorphism

Say I have two templated classes, one pure virtual parent and another that inherits from the parent. Both are templated to take a generic type and a functor. For example:

```
template<typename T, typename funct>
class pure_virtual{
     //pure virtual members
}
template<typename T, typename funct>
class child : public pure_virtual{
     //members
} 
```

In my main, I want to create a pure_virtual pointer to my child class without the use of dynamic memory. For example:

```
int main(){
     pure_virtual<int*,my_functor>* p;
     child<int*,my_functor> c(my_functor);
     p = &c;
     return 0;
} 
```

This implementation gives me a compile error stating that it cannot convert type child into type pure_virtual. Any idea as to what I'm doing wrong here? I know if I use dynamic allocation, this will work; however, I would really like to avoid it if possible.

Thanks

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:28:26.423

You have fallen victim to a vexing parse. `child<int*,my_functor> c(my_functor)` does not declare a `child<int*,my_functor>` object, but instead declares a function which takes a `my_functor` and returns a `child<int*,my_functor>`.

Such a function cannot be converted in to a `pure_virtual<int*,my_functor>*`.

To fix this, change that line to:

```
child<int*,my_functor> c((my_functor())); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:26:54.443

1)

```
class child : public pure_virtual< T, funct> {
... 
```

2)

> child< int*,my_functor > c(my_functor);

If `my_functor` is a type, then you can't pass it to c-tor.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:28:47.333

Here is a compilable example:

```
template<typename T, typename funct>
class pure_virtual{
     //pure virtual members
};

template<typename T, typename funct>
class child : public pure_virtual<T,funct> {
  public:
     //members
     child(funct) { }
};

struct my_functor {};

int main(){
     pure_virtual<int*,my_functor>* p;
     my_functor f;
     child<int*,my_functor> c(f);
     p = &c;
     return 0;
} 
```

# matlab - matlab中的布尔差异

> ID：15037342
> 
> 赞同：0
> 
> 时间：2013-02-23T05:16:58.323
> 
> 标签：matlab, image-processing, signal-processing

我有两个矩阵（A，B），我想计算逐个元素的差异。然后，我想为不匹配的元素给我 0，否则给我 1（对于匹配的元素或它们的差异为 0 的元素）。matlab有什么功能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:18:49.733

您可以使用 测试矩阵的元素是否相同`==`。

```
A = [1 2 3];
B = [1 0 3];
C = A == B;   % gives C = [1 0 1] 
```

# sql - 创建 PostgreSQL 表 + 关系 - 关系问题 - 一对一

> ID：15037349
> 
> 赞同：18
> 
> 时间：2013-02-23T05:18:43.513
> 
> 标签：sql, postgresql, one-to-many, database-schema, one-to-one

所以我应该完全按照这个 ERD 描述的方式来创建这个模式 + 关系。在这里，我只显示我遇到问题的表格：

![我应该一对一但我得到一对多](../Images/81a58a04021a9b7270ee6392fa3232fc.png)

所以我试图做到一对一，但出于某种原因，无论我改变什么，我都会在任何有外键的表上得到一对多。

这是我对这两个表的 sql。

```
 CREATE TABLE lab4.factory(

            factory_id      INTEGER         UNIQUE,
            address         VARCHAR(100)    NOT NULL,
            PRIMARY KEY ( factory_id )

        );

        CREATE TABLE lab4.employee(

            employee_id     INTEGER         UNIQUE,
            employee_name   VARCHAR(100)    NOT NULL,
            factory_id      INTEGER         REFERENCES      lab4.factory(factory_id),
            PRIMARY KEY ( employee_id )

        ); 
```

在这里我得到同样的东西。我不是一对一的关系，而是一对多的关系。Invoiceline 是一个弱实体。

![它必须是一对一的](../Images/f5b0332dec1fa40c54d6edff6196efd7.png)

这是我第二张图片的代码。

```
 CREATE TABLE lab4.product(

            product_id      INTEGER     PRIMARY KEY,
            product_name    INTEGER     NOT NULL

        );

        CREATE TABLE lab4.invoiceLine(

            line_number     INTEGER     NOT NULL,
            quantity        INTEGER     NOT NULL,
            curr_price      INTEGER     NOT NULL,
            inv_no          INTEGER     REFERENCES      invoice,
            product_id      INTEGER     REFERENCES      lab4.product(product_id),
            PRIMARY KEY ( inv_no, line_number )

        ); 
```

我将不胜感激任何帮助。谢谢。

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-02-23T05:34:24.677

一对一在标准 SQL 中并不能很好地表示为一流的关系类型。与使用连接器表和两个一对多关系实现的多对多非常相似，SQL 中没有真正的“一对一”。

有几个选项：

*   创建一个普通的外键约束（“一对多”样式），然后`UNIQUE`在引用的 FK 列上添加一个约束。这意味着在引用列中最多只能出现一个被引用的值，使其成为一对一的可选值。这是一种相当简单且相当宽容的方法，效果很好。

*   使用可以模拟 1:m 的正常 FK 关系，并让您的应用程序确保它在实践中只是 1:1。我不推荐这样做，添加 FK 唯一索引只有很小的写入性能下降，它有助于确保数据有效性，发现应用程序错误，并避免混淆其他需要稍后修改架构的人。

*   创建互惠外键 - 仅当您的数据库支持可延迟外键约束时才有可能。这对代码来说有点复杂，但允许您实现一对一的强制关系。每个实体在唯一列中都有对其他实体 PK 的外键引用。一个或两个约束必须是`DEFERRABLE`and either `INITIALLY DEFERRED`or or 与`SET CONSTRAINTS`调用一起使用，因为您必须推迟约束检查之一以设置循环依赖关系。这是一种相当先进的技术，对于绝大多数应用程序来说并不是必需的。

*   如果您的数据库支持，请使用预提交触发器，这样您就可以验证当插入实体 A 时，是否也插入了一个实体 B，反之亦然，并进行相应的更新和删除检查。这可能很慢并且通常是不必要的，而且许多数据库系统不支持预提交触发器。

# javascript - 如何使用 JSZip 解压

> ID：15037353
> 
> 赞同：2
> 
> 时间：2013-02-23T05:19:41.490
> 
> 标签：javascript, encoding, zip, compression

我试图将大数据从视图页面发送到控制器，我需要使用一种压缩技术，所以我选择`JSZip`压缩数据，我能够压缩数据，但我无法`JSZip`在视图页面中使用解压缩数据（这里压缩的内容将从控制器返回） 我已经通过[JSZip](http://stuk.github.io/jszip/)但我没有找到解压缩的方法。

我的压缩代码：

```
var zip = new JSZip();
zip.file("temp.txt", JSON.stringify(buffers[0]));
var content = zip.generate({ compression: "DEFLATE" });

// here I'am sending the 'content' to the controller
// and I' am receiving compressed content from controller like 'content' and trying to decompress it. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T07:04:43.443

您可以使用该`load()`方法：[http ://stuk.github.com/jszip/#doc_load_data_options](http://stuk.github.com/jszip/#doc_load_data_options)

# android - Android 键盘未显示

> ID：15037355
> 
> 赞同：0
> 
> 时间：2013-02-23T05:19:52.087
> 
> 标签：android, webview

我正在开发一个 Android 应用程序。在那个我有一个 webview 并且我将我的服务器 url 加载到那个 webview 中，比如说。

WebView.loadUrl("serverurl");

它还有 1 个刷新按钮。单击它，再次加载 webview。但问题是单击刷新按钮后，单击来自服务器的登录页面的文本框后，Android 键盘未显示以键入任何内容。

不知道如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:00:34.433

这个链接真的很有帮助： [为什么 Android WebView 拒绝用户输入？](https://stackoverflow.com/questions/2083909/android-webview-refusing-user-input?rq=1)

刚刚添加

webView.requestFocus(View.FOCUS_DOWN);

它解决了这个问题。

# html - 定位框架名称

> ID：15037356
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:20:02.610
> 
> 标签：html

当我点击链接时，谷歌页面没有显示在 iframe 中：

```
<a href="http://www.google.ca" target="frame" >google</a>
<iframe id="frame" name="frame" width="500" height="500" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:22:03.723

我不确定我是否理解这个问题......如果您希望框架响应亚马逊链接而不是谷歌链接，那么不要`target="frame"`在谷歌链接上设置您的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:23:02.230

`target="frame"`从谷歌链接中删除

```
<a href="http://google.com">google</a>
<a href="http://amazon.com" target="frame" >amazon</a> 
```

# excel - Excel 2010，使用基于单元格值的命名列表

> ID：15037358
> 
> 赞同：-2
> 
> 时间：2013-02-23T05:20:23.010
> 
> 标签：excel, excel-2010

我不是 Execel 中最强的，我想知道如何根据另一个单元格中的值填充命名列表（下拉列表）。这是我的示例，A 列包含国家/地区，BI 列希望根据国家/地区值填充各州。然后在 C 列（隐藏单元格）中放入 B 列中所选状态的状态代码。我希望这是有道理的。任何帮助将非常感激。

```
=IF($F$5="Corporate Affairs and Records", CorporateAffairs,
IF($F$5="Dealer/Customer Credit", DealerCustomerCredit,
IF($F$5="Engineering", Engineering,IF$F$5="Environmental", Environmental,
IF$F$5="Finance/Banking and Investments", BankingAndInvestments,
IF$F$5="Finance/General Ledger", GeneralLedger, 
IF$F$5="Finance/Accounts Payable", AccountsPayable, 
IF$F$5="Finance/Accounts Receivable", AccountsReceivable, 
IF$F$5="Finance/Tax", Tax, 
IF$F$5="Organization and Records Management", OrganizationAndRecords, 
IF$F$5="Payroll", Payroll, 
IF$F$5="Personnel/Industrial Relations", Personnel, 
IF$F$5="Production", Production, 
IF$F$5="Purchasing", Purchasing, 
IF$F$5="Risk Management", RiskManagement, 
IF$F$5="Sales, Leasing and Marketing", Sales,
IF$F$5="Warranty/Field Service", Warranty))))))))))))))))) 
```

在数据验证的源文本框中遇到大小限制。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:47:52.357

单程：

创建一个查找表，将所有可能的 F5 值 (col1) 与您的范围名称 (col2) 关联起来，并将表范围命名（例如）“LOOKUPS”

对于您的验证列表源，您可以使用以下内容：

```
=INDIRECT(VLOOKUP($F$5,LOOKUPS,2,FALSE)) 
```

# spring - 在 Spring 中将属性文件加载到类中

> ID：15037359
> 
> 赞同：0
> 
> 时间：2013-02-23T05:20:23.587
> 
> 标签：spring, spring-3

我正在尝试将属性文件 (.properties) 加载到我的类中，我在此处的另一个线程中遵循示例：[如何从属性文件中读取值？](https://stackoverflow.com/questions/9259819/how-to-read-values-from-properties-file)- 但这对我不起作用。

这是我的快速实现：

**应用程序上下文.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="
     http://www.springframework.org/schema/beans 
     http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
     http://www.springframework.org/schema/context
     http://www.springframework.org/schema/context/spring-context-3.0.xsd
     http://www.springframework.org/schema/tx
     http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">

    <context:annotation-config />

    <!-- Load up properties -->
    <context:component-scan base-package="com.test"/>
    <context:property-placeholder location="file:///C:/dev/workspace/test-project/src/main/resources/appconfig.properties"/>
</beans> 
```

**测试配置.java**

```
@Component
public class TestConfig
{

    @Value("${test.key1}")
    private String key1;

    public String getKey1()
    {
        return key1;
    }

} 
```

**src/main/resources/appconfig.properties**

```
test.key1=value
test.key2=value 
```

启动我的 tomcat，我在日志中看到以下内容：

```
00:11:41,985 [localhost-startStop-1]  INFO PropertyPlaceholderConfigurer - Loading properties file from URL [file:/C:/dev/workspace/test-project/src/main/resources/appconfig.properties] 
```

但是，当我执行 getKey1() 时，我得到“null”。

我错过了什么？

问题 2：如果我使用“类路径”：

```
<context:property-placeholder location="classpath:appconfig.properties"/> 
```

那是指哪个目录？WEB-INF/类的根？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:35:41.120

我希望你正在使用像 Eclipse 这样的 IDE。

*   检查资源目录是否已添加到类路径中，并且它还包括其中的所有文件，如果 Eclipse 则必须添加*。*在包含模式中

*   构建您的项目并检查属性文件是否可用`WEB-INF/classes`

回答你的第二个问题

`classpath:appconfig.properties`- 是的 spring 将在`WEB-INF/classes`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T04:33:55.323

这很愚蠢...

当我得到 TestConfig 对象时，我正在做：

```
TestConfig config = new TestConfig();
config.getKey1(); 
```

当然，配置对象是一个全新的对象，并且从未实例化（或注入）任何东西。

相反，我正在注入它，因此它由 Spring 框架初始化：

```
@Autowired
private TestConfig config; 
```

# php - array_combine 创建 hinky 数组

> ID：15037362
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:21:03.990
> 
> 标签：php, arrays

我正在使用 codeigniter 创建一个小型刮板，它使用 PHP Simple HTML DOM Parser 库从另一个站点获取一些信息。我首先构建了两个数组——第一个用作键，另一个数组用作值。

在我尝试使用键提取值之前，这一切似乎都很好。

这是我的数组：

```
Array
(
    [price] => $1,020,000
    [city] => CHICAGO
    [zip] => 60622
    [state] => ILL
    [mls] => 08207131
    [type] => Apartment
    [square_ft] =>  
    [year_built] => U
    [beds] => 4
    [baths] => 2
    [subdivision] =>  
    [area] => CHI - West Town
    [township] => NORTH CHICAGO
) 
```

如果我尝试像这样访问数组：

```
echo $info['price']."</br>"; 
```

我收到“未定义的索引：价格”错误。

如果我尝试访问这样的信息：

```
echo $info->price; 
```

我收到“尝试获取非对象的属性”错误。

*注意* 在有问题的数组上使用 print_r() 时我注意到的一件事是，键显示为**粗体文本**，而当我构建测试数组时，键显示为普通文本。我的问题是粗体文本是否表示应该以特殊方式或其他方式格式化键之类的东西？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:23:25.663

```
echo $info['price']."</br>";  // for array

echo $info->price;  // for object

$a = array('green', 'red', 'yellow');
$b = array('avocado', 'apple', 'banana');
$c = array_combine($a, $b);

print_r($c);

echo $c['green'];  // output 'avocado' 
```

例如[http://codepad.viper-7.com/BkT5U8](http://codepad.viper-7.com/BkT5U8)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T05:23:44.113

– Barmar 对问题的回答如下：

我怀疑粗体输出意味着键包含 HTML 标记，即它实际上类似于 $info[' **price** ']。当您处理来自其他站点的 DOM 时，您需要删除标签。

# objective-c - CCLayer 留在后台

> ID：15037365
> 
> 赞同：0
> 
> 时间：2013-02-23T05:21:23.810
> 
> 标签：objective-c, cocos2d-iphone

我有一个游戏，我正在处理我有多个场景的地方，在其中一些场景中，我使用了 ray wenderlich 网站（即我在游戏商店中）的拖放教程。我在用

```
[[CCDirector sharedDirector] replaceScene:[CCTransitionFadeTR transitionWithDuration:0.5 scene:[HelloWorldLayer scene]]]; 
```

或类似于场景之间的更改（游戏、商店、主菜单等），我注意到当我更改场景时，它似乎只是将新图层移动到另一个图层之上。这是我正在处理的一个大问题，因为如果你去商店场景（其中有拖放代码）然后返回主菜单（没有拖放）并点击并拖动它崩溃的任何地方我的游戏。它崩溃（我相信）是因为它试图移动一个不存在的层。知道如何解决这个问题吗？

我也尝试过使用 [HelloWordLayer node] 而不是 [HelloWordLayer scene] 并且没有区别。

# database - 如何对数百万个地址进行地理编码（获取纬度和经度）？

> ID：15037369
> 
> 赞同：3
> 
> 时间：2013-02-23T05:21:41.993
> 
> 标签：database, dataset, geocoding

我有一个包含数百万美国地址的数据集。我想对这个数据集进行地理编码。雅虎有一个 API 具有最慷慨的速率限制（每天 50K，对于我的目的来说仍然太低），但这已经不复存在了。我不认为任何 API，除非我每天可以处理超过 10 万个请求，才能满足我的需求。

我可以从自己的计算机上下载任何易于配置的软件来执行此操作吗？

特别是对于那些有经验的人， [http:](http://www.datasciencetoolkit.org/developerdocs#setup) //www.datasciencetoolkit.org/developerdocs#setup 是否 适合我的需求？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:42:54.523

每天支持数百万个请求的 API 是否适合您的需求？

很少有服务可以做到这一点。特别是[SmartyStreets](http://smartystreets.com/products)的 LiveAddress 可以处理这种负载，并且实际上是为它构建的。您可以[上传文件](http://smartystreets.com/products/liveaddress-lists)（如 Excel 或 CSV 等，尤其是压缩文件，如果您有那么多）或[查询 API](http://smartystreets.com/products/liveaddress-api)（每个请求可以支持 100 个地址）。

因此，虽然程序不会下载到您的计算机上，但它实际上会比本地化的内部解决方案更快，因为它会在负载高时进行扩展。LiveAddress 是地理分布的，由 RAM 驱动服务器提供支持，当有大量工作要做时，这些服务器会启动更多节点。LiveAddress 以[快速处理数百万个地址](https://gis.stackexchange.com/a/21397/5599)而闻名（例如在几个小时内）。

我在 SmartyStreets 工作。我们敢于让您看看您可以多快合法地查询 API 或上传和处理您的所有列表。[GitHub 上](https://github.com/smartystreets/LiveAddressSamples)有大量API 示例代码，或者您可以（以编程方式或手动）上传列表文件以进行批量地理编码。

# java - 无缘无故抛出随机出界异常？

> ID：15037371
> 
> 赞同：0
> 
> 时间：2013-02-23T05:21:50.383
> 
> 标签：java, opengl, lwjgl, slick2d

我正在为我正在制作的游戏使用 LWJGL 和 Slick2D。我似乎无法让它按照我想要的方式绘制，所以我想出了一个想法，只是为了制作我自己的绘图方法。基本上，它需要一个图像、ax 和 ay，它遍历图像中的每个像素，获取颜色，然后使用参数 x 加上它所在的 x 像素绘制图像，以获得像素应该被绘制的位置上。与 y 的想法相同。虽然如果像素的 alpha 通道不是 255，则它不会绘制它，尽管我稍后会修复它。问题是，每当我运行我的代码时，我都会得到“线程“主”java.lang.ArrayIndexOutOfBoundsException：-2044 中的异常：-2044”。我真的很困惑。我希望有人能弄清楚为什么会这样。

```
private void DrawImage(Image image, int xP, int yP)
{
    //xP And yP Are The Position Parameters

    //Begin Drawing Individual Pixels
    glBegin(GL_POINTS);
    //Going Across The X And The Y Coords Of The Image
    for (int x = 1; x <= image.getWidth(); x++)
    {
        for (int y = 1; y <= image.getHeight(); y++)
        {   
            //Define A Color Object
            Color color = null;

            //Set The Color Object And Check If The Color Is Completly Solid Before Rendering
            if ((color = image.getColor(x, y)).a == 255)
            {
                //Bind The Color
                color.bind();

                //Draw The Color At The Coord Parameters And The X/Y Coord Of The Individual Pixel
                glVertex2i(xP + x - 1, yP + y - 1);
            }
        }
    }
    glEnd();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:51:58.613

我的回答是假设纹理是一个数据数组。

我有一种感觉，这是`getColor()`方法。您的 for 循环运行并将使用高度和宽度值。数组通常从 0 开始，宽度和高度通常只是数组计数。所以我可以看到当你到达 HEIGHT 时，纹理数组会抛出异常。

尝试卸下`<=`零件并更换为`<`

例子：

`for (int x = 1; x < image.getWidth(); x++)`

它还可以帮助您从零开始，这样您就可以获得整个图像。

例子

`for (int x = 0; x < image.getWidth(); x++)`

这是有关[数组](http://www.homeandlearn.co.uk/java/java_arrays.html)的链接。

这样，当您在任何位置询问颜色时，它永远不会要求超出纹理数组中的颜色。希望我是有道理的。

# php - 如何访问和修改类内的数组？

> ID：15037375
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:22:11.330
> 
> 标签：php, class

我在类中的数组有问题。如果我将它设置为静态，我可以访问它，但如果它不是静态的，我无法弄清楚如何修改它并在我的函数上访问它。

```
class Example {
    protected static $_arr = array(
        "count",
    );

    public static function run($tree) {
        $_arr[] = "new";
        print_r($_arr );
    }
} 
```

如何访问数组、修改它并从我的公共函数“运行”中打印它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:29:30.267

`$_arr[] = "new";`

指的是您的函数本地的数组。要访问您的类的静态变量，您必须使用语法 ==>`self::staticVariableName`

你的代码应该是：

```
class Example {
protected static $_arr = array(
    "count",
);

public static function run($tree) {
    self::$_arr[] = "new";
    print_r(self::$_arr );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:02:54.713

我刚刚从 @MQuirion 的代码中制作了一个片段。在这里，我写了如何处理类中的非静态属性。我希望现在你可以在课堂上使用你的数组。

```
class Example {
    protected $_arr = array(
        "count",
    );

    public function run($tree) {
        // print new array + your properties
        $this -> _arr[] = $tree;
        //To print only new assigned values without your declared properties
        $this -> _arr = $tree;
        print_r($this->_arr );
    }
}
$obj = new Example();
$tree = array('a','b','c');
$result = $obj->run($tree); 
```

# python - 无法在 wxpython 中隐藏消息框

> ID：15037378
> 
> 赞同：0
> 
> 时间：2013-02-23T05:22:20.150
> 
> 标签：python, wxpython, subprocess, wxwidgets

嗨，伙计们什么都试过了，现在我在问你的建议。

我无法隐藏我的消息框。

代码是：

```
 ans = wx.MessageBox("length = %s , height = %s " % (str(len), str(ht)))

    if ans = wx.Yes:

        subprocess.call("pword | sudo -S ./Install.sh %s %s" % (str(len),str(ht))) 
```

第三行大约需要 6-7 分钟才能完成。直到那个时候消息框会出现在屏幕上，我想让它隐藏起来，直到安装过程完成。我试过隐藏，未来调用，关闭，禁用..但每次我得到'int对象没有属性“”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:29:03.677

如果您需要对消息框进行更多控制，请改用消息对话框。消息框直接返回答案，所以无法控制窗口。创建消息对话框可让您控制窗口。

这是一个简单的例子：

```
import wx

app = wx.App(False)
box = wx.MessageDialog(None, 'Yes or No?', caption='Dialog Title', style=wx.YES_NO | wx.YES_DEFAULT)
result = box.ShowModal()
box.Destroy()
if result == wx.ID_YES:
    print 'yes'
else:
    print 'no' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T12:59:00.333

消息框必须在时间`wxMessageBox()`返回时隐藏并销毁，这里肯定有其他事情发生。

一般来说，如果您想确保所有待处理的事件都已处理（并且确实处理了所有应该重新绘制/调整大小/关闭的窗口），请使用`wx.CallAfter()`稍后启动您的长时间运行的进程。

当然，从 GUI 程序中运行几分钟的阻塞操作无论如何都是一个坏主意，但这是另一回事......

# android - 如何在android中使用downloadmanager类下载多个文件？

> ID：15037380
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:22:42.553
> 
> 标签：android

所以伙计们，我是一个菜鸟，所以请多多包涵，我想在应用程序中下载多个图像，我正在尝试为此使用下载管理器类。我必须下载大约 100-150 个图像，但是当它尝试下载 5- 10张图片它工作正常但是当我尝试下载更多文件时应用程序崩溃但下载继续我该如何正确地做到这一点请大家帮助我这是我用来下载图片的代码：-

```
public void downloadimages(String url,String filename)
        {
          String ur1=url,v1=filename;
          downloadManager = (DownloadManager)getSystemService(DOWNLOAD_SERVICE);
          Uri Download_Uri = Uri.parse(ur1);
          DownloadManager.Request request = new DownloadManager.Request(Download_Uri);
          request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI);
          request.setAllowedOverRoaming(false);
          request.setDescription("Android Data download using DownloadManager.");
          request.setDestinationInExternalFilesDir(getApplicationContext(),Environment.DIRECTORY_DOWNLOADS,v1 + ".jpg");
          downloadManager.enqueue(request);     

        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-15T11:59:26.083

错误是一个`IndexOutOfBoundsException`？那么您是否尝试过使用较少的图像，例如 10 或 20？并在前 10 个恢复后运行？

# java - Java：用于存储双精度数的 ArrayList

> ID：15037386
> 
> 赞同：2
> 
> 时间：2013-02-23T05:23:16.597
> 
> 标签：java, arraylist, double

一个非常基本的问题，但我遇到了一些麻烦，我对 Java 很陌生（我之前唯一的经验是 VB.NET，我开发了几年但从未真正使用过任何 OOP 原则）

我需要一个数组实现来加载十进制数。我不确定我会有多少，所以我需要一个可以动态改变它的大小的数组，我被告知 ArrayList 是要走的路。

所以我试过这个：

```
ArrayList<double> xCo = new ArrayList<double>(); 
```

我的编译器很生气，并要求我在 double 所在的空间中提供“参考”。我确定我误解了这些东西的整个声明过程，那么我应该怎么做呢？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T05:24:50.953

您不能在泛型中使用原语，`Double`而是使用。注意大小写。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-23T05:30:18.910

您不能在泛型中使用 java 原语，而必须使用[java 原语包装类型](http://www.java2s.com/Tutorial/Java/0040__Data-Type/Wrapperclassesfortheprimitivetypes.htm)

将其更改为

```
ArrayList<Double> xCo = new ArrayList<Double>(); 
```

查看本教程以了解有关泛型的更多信息

*   [泛型教程](http://docs.oracle.com/javase/tutorial/java/generics/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:27:46.903

使用 Double 而不是 double ，希望您已导入 java.util.Arraylist 包

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T05:25:26.577

你想要`Double`，而不是`double`：

```
ArrayList<Double> xCo = new ArrayList<Double>(); 
```

# javascript - 根据邮政编码返回城市和州

> ID：15037387
> 
> 赞同：1
> 
> 时间：2013-02-23T05:23:22.317
> 
> 标签：javascript, lookup-tables

我希望“城市”和“州”根据用户在文本框中输入的“邮政编码”出现在屏幕上。我有一个 zip、城市和州的 3 列文本文件。构造 javascript 函数以执行此操作的最有效方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-10T18:49:05.243

1) You need to define a server function that will return the city and state in JSON based on a zip code. 2) Subscribe to change, keyup and input events on an input field. 3) Define a JavaScript function that will call the server function using AJAX. On the success function, you set the fields using the response.

I'm pasting the client-side code below:

```
$("#txtZipCode").bind("change keyup input", function (e) {
        var field = $(this);
        if (field.val().length === 5) {
            showLocation(field.val());
        }
        else
            showLocation("");
    });

function showLocation(zipCodeValue) {
    var txtCity = $("#city");
    var txtState = $("#state");
    if (zipCodeValue.toString().length != 5) {
        txtCity.val("");
        txtState.val("");
    }
    else {
        $.ajax({
            dataType: "json",
            url: "Location/GetZipCode",
            data:
                {
                    zipCodeNumber: zipCodeValue
                },
            success: function (data) {
                    txtCity.val(data.City);
                    txtState.val(data.State);
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:29:35.360

将您的文本文件预处理为表单的 JSON 对象

```
{
    "10461": { City: "Bronx", State: "NY" }
    ... 
} 
```

如果你真的很懒，你可以使用[d3.nest](https://github.com/mbostock/d3/wiki/Arrays#wiki-d3_nest)直接从文本文件中执行此操作。但是，如果您执行一次并仅存储 JSON，而不是让每个客户端加载文本文件并重复执行，这对您的客户来说会很棒。

一旦你有了它，就很容易......只需读取 JSON 对象，并使用邮政编码对其进行索引，然后获取城市/州。

# ruby - Ruby 中可用的网页抓取 gems/工具

> ID：15037392
> 
> 赞同：10
> 
> 时间：2013-02-23T05:24:22.633
> 
> 标签：ruby, html-parsing, lxml, scrape

我正在尝试在我正在处理的 Ruby 脚本中抓取网页。该项目的目的是展示哪些 ETF 和股票共同基金最符合价值投资理念。

我想抓取的一些页面示例是：

```
http://finance.yahoo.com/q/pr?s=SPY+Profile
http://finance.yahoo.com/q/hl?s=SPY+Holdings
http://www.marketwatch.com/tools/mutual-fund/list/V 
```

你为 Ruby 推荐了哪些网页抓取工具，为什么？请记住，那里有成千上万的股票基金，所以我使用的任何工具都必须相当快。

我是 Ruby 新手，但我有使用 lxml 在 Python 中抓取网页的经验（[https://github.com/jhsu802701/dopplervalueinvesting/blob/master/screen.py](https://github.com/jhsu802701/dopplervalueinvesting/blob/master/screen.py)）。一旦下载了超过 5000 只股票的页面，lxml 可以在几分钟内将它们全部抓取。（我记得尝试过 BeautifulSoup 但拒绝它，因为它太慢了。）

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-23T05:38:57.907

有很多`scraping gems`可用的`Ruby`像[Hpricot](https://github.com/hpricot/hpricot)，[Nokogiri](https://github.com/sparklemotion/nokogiri)等等。我建议`Nokogiri`刮`static web pages`。如果您正在抓取`dynamic web pages`（意味着涉及按钮单击、提交表单等）。我推荐内部使用的[机械化](https://github.com/sparklemotion/mechanize)`Nokogiri`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T07:10:08.150

[我在https://www.ruby-toolbox.com/categories/html_parsing.html](https://www.ruby-toolbox.com/categories/html_parsing.html)看到了 HTML 解析解决方案的列表。我要和 Nokogiri 一起去，因为它是唯一一个仍然活跃的人。

# c# - 使用 asp.net mvc 的 ReturnUrl 问题

> ID：15037393
> 
> 赞同：5
> 
> 时间：2013-02-23T05:24:28.627
> 
> 标签：c#, asp.net, asp.net-mvc

我必须处理一个旧的 asp.net mvc 应用程序，它没有像我习惯的那样配置。通过以下方式正常注销后：

```
FormsAuthentication.SignOut(); 
```

和

```
return RedirectToAction("Index", "Home"); 
```

URI 包含：

```
ReturnUrl=%2f 
```

通常情况并非如此。我怎么能压制这个？

或者，当我尝试访问需要身份验证/授权的页面时，会出现登录页面，但不会生成适当的 ReturnUrl=（即 URI 保持原样）。

这是我在某处读过的 IIS 问题，还是 asp.net FormsAuthenticationModule 配置不正确？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T22:33:45.880

ReturnUrl 在未经授权的重定向期间添加。似乎有人将根 url (/) 重定向到自身或 Home/Index。%2f 是“/”的编码形式。

我会检查 web.config 的授权部分是否有问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-20T21:26:13.123

这取决于您的路由，对吗？如果你有这个作为你最后一次路由配置：

```
routes.MapRoute(
 "Default", 
 "{controller}/{action}/{id}", 
new { controller = "Home", action = "Index", id = UrlParameter.Optional }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-26T15:36:11.227

如果没有任何效果，则在 Web.Config 文件的 system.web 属性中添加 authentication mode="Windows" 。希望它对你有用。

# c# - 基于字符串构建树视图

> ID：15037395
> 
> 赞同：2
> 
> 时间：2013-02-23T05:24:40.083
> 
> 标签：c#, winforms, linq, treeview, treenode

我很确定对此有一个简单的答案，但这让我很生气，为什么我无法弄清楚。我正在尝试基于 5 个字符的字符串填充树视图。

```
public List<string> lst = new List<string>();

lst.Add("10000");
lst.Add("11000");
lst.Add("11100");
lst.Add("12000");
lst.Add("12100");
lst.Add("20000");
lst.Add("21000");
lst.Add("22000"); 
```

我正在尝试在这种类型的树中获得上述内容

![等级制度](../Images/ccf4cad233f5e00c4e34f5332c3a6428.png)

再说一次，我确信这对许多有经验的 C# 开发人员来说已经是老生常谈了，但我就是想不出一个简单的递归或 linq 解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:40:39.640

这种递归方法应该这样做：

```
static TreeNode[] GetNodes(IEnumerable<string> items, string prefix = "")
{
    int preLen = prefix.Length;

    // items that match the current prefix and have a nonzero character right after
    // the prefix
    var candidates = items.Where(i => i.Length > preLen &&
                                      i[preLen] != '0' &&
                                      i.StartsWith(prefix));

    // create nodes from candidates that have a 0 two characters after the prefix.
    // their child nodes are recursively generated from the candidate list
    return candidates.Where(i => i.Length > preLen + 1 && i[preLen + 1] == '0')
                     .Select(i => 
                          new TreeNode(i, GetNodes(candidates, prefix + i[preLen])))
                     .ToArray();
} 
```

你可以像这样调用它：

```
treeView.Nodes.AddRange(GetNodes(lst)); 
```

# iphone - iPhone 和 iPad 屏幕分辨率

> ID：15037404
> 
> 赞同：5
> 
> 时间：2013-02-23T05:26:12.643
> 
> 标签：iphone, ipad

我正在开发一个通用应用程序。我想知道 iPhone 的屏幕分辨率 (320 * 480) 和 iPad 中的 (768 *1024) 是否适用于所有 iphone（iPhone 3g、iPhone4 等）和所有 iPad。因为基于这些屏幕分辨率我在 iPhone 和 iPad 中设置 textField 和 UILabel 的宽度。这些适用于视网膜和非视网膜吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-23T05:30:36.067

Retina iPhone 和 iPad 使用与非 Retina 设备相同的坐标系。目前所有 iPad 的逻辑坐标空间都是 768x1024，除 iPhone 5 以外的所有 iPhone 的逻辑坐标空间都是 320x480。您的代码应该可以在 Retina 和非 Retina 设备上正常工作。

在 iPhone 5 上，您的应用程序将在屏幕顶部显示黑条，除非您通过包含 Default.png 扩展屏幕分辨率来告诉 iOS 您想要使用全屏。

您可以使用 来检查屏幕分辨率`[[UIScreen mainScreen] bounds]`。此值在 Retina 和非 Retina 设备上将相同。您可以通过检查 ; 的值来检测 Retina 设备`[[UIScreen mainScreen] scale]`。这里的值是每单位逻辑坐标空间的物理像素数（非 Retina 为 1.0，Retina 为 2.0）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:08:11.640

`UIKit`并`CoreGraphics`使用点而不是像素。

视网膜和非视网膜设备具有相同数量的点，但像素数量不同。这意味着相同的点值在不同的设备上可能意味着不同的像素值。

要回答您的问题，是的，相同的布局`UILabel`宽度将在视网膜和非视网膜设备上显示相同。

来自 Apple 开发者文档：

`In iOS, all coordinate values and distances are specified using floating-point values in units referred to as points. The measurable size of a point varies from device to device and is largely irrelevant. The main thing to understand about points is that they provide a fixed frame of reference for drawing.`

查看视图编程指南中的点与像素部分：http: [//developer.apple.com/library/ios/documentation/windowsviews/conceptual/viewpg_iphoneos/WindowsandViews/WindowsandViews.html#//apple_ref/doc/ uid/TP40009503-CH2-SW15](http://developer.apple.com/library/ios/documentation/windowsviews/conceptual/viewpg_iphoneos/WindowsandViews/WindowsandViews.html#//apple_ref/doc/uid/TP40009503-CH2-SW15)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-12T10:05:01.540

您始终可以使用这些功能来获取操作系统并对界面执行所需的操作。

```
var pattern:RegExp = /iphone5/i; 
var str:String = Capabilities.os; 

if (str.search(pattern)==0)
{
    trace('iPhone5 Detected. Alter height.');
}else{
   trace('No need to change dimensions if developing at 960x640');
} 
```

# batch-file - 将另一个部分添加到批处理文件中？

> ID：15037408
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:26:53.937
> 
> 标签：batch-file, batch-processing, batch-rename

有人告诉我，当它通过“添加另一个部分”替换文本时，我可以防止这段代码下推。这意味着什么？

这是代码：

```
for /f "delims=" %%a in (list.txt) do (
findstr "%%a" "C:\Users\P Ditty\Documents\SH3\data\cfg\Backups_SCR*.clg" >nul 
if not errorlevel 1 (
find "%%a" < "Campaign_SCR.mis.tmp" >nul && (
sed "s/^Name=.*%%a.*/Name=ShipDummy\nClass=ShipDummy\nType=206/" "Campaign_SCR.mis.tmp" > "Campaign_SCR.mis.tmp.tmp2"
move "Campaign_SCR.mis.tmp.tmp2"  "Campaign_SCR.mis.tmp" >nul
)
)
) 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-23T09:07:09.987

这个不用回答了。我找到了另一个解决方案。

# iphone - 在目标 c 中将字符转换为 ascii 值时抛出错误

> ID：15037413
> 
> 赞同：1
> 
> 时间：2013-02-23T05:27:58.143
> 
> 标签：iphone, ios, objective-c, xcode

运行代码时出现此错误 2013-02-23 10:52:54.063 Calculator[31319:11303] *** 由于未捕获的异常 'NSRangeException' 导致应用程序终止，原因：'-[__NSCFString characterAtIndex:]: Range or index out of bounds' *** First throw call stack: (0x1c90012 0x10cde7e 0x1c8fdeb 0x1c56c0d 0x2d4b 0x10e1705 0x18920 0x188b8 0xd9671 0xd9bcf 0xd8d38 0x4833f 0x48552 0x263aa 0x17cf8 0x1bebdf9 0x1bebad0 0x1c05bf5 0x1c05962 0x1c36bb6 0x1c35f44 0x1c35e1b 0x1bea7e3 0x1bea668 0x1565c 0x22c2 0x21f5 0x1) My application usually takes the string entered in the textbox and转换为 ascii 值，然后我为它编写了一个小算法。下面是我如何将字符串转换为 ascii 的一段代码

```
 for (int i=0; i<[first length]; i++) {

        unichar ch = [first characterAtIndex:i];
        firsttotal = firsttotal +ch;

    }
    for (int j=0; j<[second length]; j++) {

        unichar chi = [first characterAtIndex:j];
        secondtotal = secondtotal +chi;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:41:55.843

除非我读错了你的代码，否则应该是这样的：

```
 for (int i=0; i<[first length]; i++) {
        unichar ch = [first characterAtIndex:i];
        firsttotal = firsttotal +ch;
    }
    for (int j=0; j<[second length]; j++) {
        unichar chi = [second characterAtIndex:j]; // <-- THIS LINE
        secondtotal = secondtotal +chi;
    } 
```

您正在尝试从中获取`first`可能超出字符串末尾的字符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:41:17.047

您的第二个循环是从第一个字符串中提取字符。这可能不是您想要的。因为您对第二个字符串中的每个字符进行了迭代，所以只要第二个字符串比第一个字符串长，您就会在上面发布的代码中出现此错误。

换行试试

```
unichar chi = [first characterAtIndex:j]; 
```

至

```
unichar chi = [second characterAtIndex:j]; 
```

这个问题就会消失。

# java - 一个可用于 nimbus 外观和感觉的 java 多拇指滑块

> ID：15037417
> 
> 赞同：0
> 
> 时间：2013-02-23T05:28:23.933
> 
> 标签：java, swing, look-and-feel, jslider, nimbus

我需要一个用于 java swing 的 Multi Thumb Slider，我最终 [在 Swing 中使用了这个 Multi Thumb (thumb) JSlider，](http://chetanmenge.blogspot.in/2010/05/multisliderdemo.html)根据我的应用程序的要求对其进行了几次调整后，我使它完美地适用于默认或 Metal LAF....

但是我现在需要将应用程序的外观和感觉更改为 Nimbus，但是这个自定义组件在 Nimbus 中抛出了 NPE。

问题在于它的自定义 UI 调用了超级方法，这些方法使用了 NImbus 中没有的基本 UIManager 属性。

我在谷歌上搜索了很多，偶然发现[了 Nimbus L&F 中的多拇指滑块，](https://forums.oracle.com/forums/thread.jspa?threadID=2193920%5D%5B2%5D%20and%20%5BCustom%20Slider%20UI%20throws%20NPE%20with%20Nimbus)自[定义滑块 UI 使用 Nimbus 抛出 NPE，](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6697886)但还没有解决方法。

任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T12:38:44.803

我认为 SwingX 项目中的 JXMultiThumbSlider 组件应该与 Nimbus 一起使用，通常 SwingX 支持 Nimbus。

顺便说一句，获得 SwingX 的最简单方法是配置为 Maven 依赖项，因为它的网站维护得不好（但代码质量很高）。

```
 <dependency>
        <groupId>org.swinglabs.swingx</groupId>
        <artifactId>swingx-all</artifactId>
        <version>1.6.5</version>
    </dependency> 
```

# javascript - 如何使用jquery在（，）拆分后随机更改文本的颜色

> ID：15037420
> 
> 赞同：1
> 
> 时间：2013-02-23T05:28:43.197
> 
> 标签：javascript, jquery

我正在尝试解决这个问题，但我无法解决它。我从数据库中获取文本，一个滚动的字幕文本，关键是，我想在每个逗号之后随机更改文本的颜色（，）分离...我可以随机更改页面加载上的文本，但整个文本都已更改。我想在 omma 之后更改文本.. 例如。 **你好**，**我是**，**尼克**，
现在你好应该以不同的颜色显示，等等......

这是我的代码，但它会执行所有文本随机颜色

```
 var colours = Array("yellow", "white", "green", "orange"), indexNo;
        $('#header').each(function (index, character) {
            indexNo = Math.floor(Math.random() * colours.length);
            //alert(idx);
            $('#header').css("color", colours[indexNo]);

        });

    }, function () {
        $('#header', this).css("color", "#ddd");
    }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T05:46:22.993

`$("#header").each`没有必要，因为只有其中之一。您可以只使用字符串`.split`方法。

```
$("#header").html(function (_, html) {
    return html.split(',').reduce(function (prev, cur) {
        return prev + "<span style='color: " +
          colours[Math.floor(Math.random() * colours.length)] + ";'>"
          + cur + "</span>";
    }, '');
}); 
```

[http://jsbin.com/abikin/1/edit](http://jsbin.com/abikin/1/edit)

编辑：如果逗号不必进入跨度内，您可以使用它：

```
return html.split(',').map(function (elem) {
    return "<span" ... + elem + "</span>"
}).join(','); 
```

[http://jsbin.com/abikin/3/edit](http://jsbin.com/abikin/3/edit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T08:10:26.090

我只是重新设计了 Explosions，因为 .reduce 适用于 IE9 或更高版本（我认为）。我相信他可以做一个比下面更优雅的版本……但值得一试。尽管这使您所有文本都是随机的，但不确定这是您想要的。如果没有，对不起。

```
var colours = Array("yellow", "black", "green", "orange","red","purple");
var newHtml = [];
$("#header").html(function (_, html) {
   $.each(html.split(','),function (_,obj) {
     newHtml.push("<span style='color: " + colours[Math.floor(Math.random() * colours.length)] + ";'>" + obj + "</span>");
    });
  return newHtml.join(',');
}); 
```

# javascript - 有没有更好的方法来计算内容的年龄

> ID：15037428
> 
> 赞同：0
> 
> 时间：2013-02-23T05:29:34.590
> 
> 标签：javascript, date-arithmetic

我编写了一个代码来计算网站上内容的年龄。它效率低下，计算也很差。我以前写过这个脚本，上次它运行得很好，但是我找不到它所在的那个该死的文件。

我认为计算问题是由年份引起的。任何人都可以为我建议修复吗？创建的日期格式是 YYYYMMDD 并且输出是整周（这很重要），即下面的示例应该输出“52”周。

```
var created='20120223';
var year=Number(created.substr(0,4));
var month=Number(created.substr(4,2))-1;
var day=Number(created.substr(6,2));
var d = new Date();
var curr_date = d.getDate();
var curr_month = d.getMonth() + 1;
var curr_year = d.getFullYear();
var input_age = ((((curr_year - year)*31536000) + ((curr_month - month)*2678400) + ((curr_date - day)*86400))/604800).toFixed(0);
document.getElementById('item12345_input').value = input_age + ' weeks'; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:47:45.450

你先减去一个月。然后你又加了一个月。试试这个

```
 var created='20120223';
var year=Number(created.substr(0,4));
var month=Number(created.substr(4,2))-1;
var day=Number(created.substr(6,2));
var d = new Date();
var curr_date = d.getDate();
var curr_month = d.getMonth();
var curr_year = d.getFullYear();
var input_age = ((((curr_year - year)*31536000) + ((curr_month - month)*2678400) + ((curr_date - day)*86400))/604800).toFixed(0);
alert(input_age + ' weeks'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:41:50.557

只需减去 2 个日期。

```
var createdDate = new Date(
    +created.substring(0, 4),  // Four digit year
    created.substring(4, 6)-1, // Base-zero month
    +created.substring(6, 8)); // Day of month
var ageMillis = (new Date) - createdDate;
var MS_PER_WEEK = 1000/* ms /sec */
                * 60  /* sec/min */
                * 60  /* min/hr  */
                * 24  /* hr /day */
                * 7   /* day/wk  */;
var ageWeeks = ageMillis / MS_PER_WEEK; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:01:45.407

注意月份是从 0 开始的

```
<script>
var created ="20120223";
var yyyy  = +created.substring(0, 4);
var mm    = created.substring(4, 6)-1;
var dd    = +created.substring(6, 8);
var createdDate = new Date(yyyy,mm,dd);
var ageMillis = new Date().getTime() - createdDate.getTime();
var MS_PER_WEEK = 1000/* ms /sec */
                * 60  /* sec/min */
                * 60  /* min/hr  */
                * 24  /* hr /day */
                * 7   /* day/wk  */;
var ageWeeks = parseInt(ageMillis / MS_PER_WEEK);

alert("Created on " +mm+"/"+dd+"/"+yyyy+" which is "+ageWeeks+ " week"+(ageWeeks==1?"":"s")+" ago");

</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T06:11:31.650

你可以试试这个：

```
 var created='20120223';
    var year=Number(created.substr(0,4));
    var month = Number(created.substr(4,2));
    if (Number(created.substr(4,2)) < 10){
      month = '0'+ Number(created.substr(4,2));
    }
    var day=Number(created.substr(6,2));
    var dt = year+'-'+month+'-'+day;
    var dif = new Date().getTime() - Date.parse(dt);
    var divWeek = 7 * 24 * 60 * 60 * 1000;
    alert(Math.round(dif/divWeek)); 
```

# qt4 - QT4中所有窗口单独打开的问题

> ID：15037432
> 
> 赞同：0
> 
> 时间：2013-02-23T05:29:59.073
> 
> 标签：qt4, qtablewidget, qlistwidget

我是 QT 的新手，现在正试图在 QList 下方放置一个表格，但 Qlist 和表格显示为两个单独的窗口。我需要或多或少像 iTunes 一样的输出，顶部是 Qlist，底部是 Qtable。

任何帮助表示赞赏。以下是所有文件的代码。谢谢

```
//main.cpp
#include "listwidget.h"
#include "table.h"
#include <QApplication>

int main(int argc, char *argv[])
{
  QApplication app(argc, argv);  

  ListWidget window;
  Table window2;    

  window.move(300, 300);
  window.setWindowTitle("Qtunes");
  window.show();

//  window2.move(300, 300);
 /// window2.setWindowTitle("Qtunes");
  window2.show();   

  return app.exec();
}

//Listwidget.cpp
#include "listwidget.h"
#include <QHBoxLayout>
#include <QInputDialog>

ListWidget::ListWidget(QWidget *parent)
    : QWidget(parent)
{

  QHBoxLayout *hbox = new QHBoxLayout(this);

  lw = new QListWidget(this);
  lw2 = new QListWidget(this);  
  lw3 = new QListWidget(this); 

  hbox->addWidget(lw);

  hbox->addWidget(lw2);

  hbox->addWidget(lw3);

  setLayout(hbox);
}

//listwidget.h
#ifndef LISTWIDGET_H
#define LISTWIDGET_H

#include <QWidget>
#include <QListWidget>

class ListWidget : public QWidget
{
  Q_OBJECT

  public:
    ListWidget(QWidget *parent = 0);

  private:
    QListWidget *lw;
    QListWidget *lw2;
    QListWidget *lw3;   

};

#endif

//table.h
#ifndef TABLE_H
#define TABLE_H

#include <QWidget>

class Table : public QWidget
{
  public:
    Table(QWidget *parent2 = 0);

};

#endif

//table.cpp
#include "table.h"
#include <QHBoxLayout>
#include <QTableWidget>

Table::Table(QWidget *parent2)
    : QWidget(parent2)
{
  QHBoxLayout *hbox2 = new QHBoxLayout(this);

  QTableWidget *table = new QTableWidget(25, 25, this);

  hbox2->addWidget(table);
  setLayout(hbox2);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:38:37.880

您应该首先创建一个窗口，然后制作该窗口的表格和列表子项。顶层窗口可以是一个简单的 QWidget，如果您需要它提供的额外功能（如菜单、工具栏、状态栏等），则可以是 QMainWindow。如果您使用 QMainWindow，您仍然应该使用另一个小部件，设置将其作为 QMainWindow 的中央小部件 (setCentralWidget())，然后将列表和表格添加到该中央小部件。

为了获得更好的结果，您还可以将它们都放在一个布局中。

要记住的是，没有父窗口的小部件将始终是顶级窗口。

# php - 从句子级别的旋转文本中取消旋转 php 中的文本

> ID：15037433
> 
> 赞同：2
> 
> 时间：2013-02-23T05:29:59.340
> 
> 标签：php, regex

我需要在 php 页面中整齐地输出旋转文本。我已经有了 {hi|hello|greetings} 格式的预纺文本。我有一个我在其他地方找到的 php 代码，但它不会在句子级别输出旋转文本，其中两个 {{ 来了。这是需要修复的代码。

```
<?php

function spinText($text){
    $test = preg_match_all("#\{(.*?)\}#", $text, $out);

    if (!$test) return $text;

    $toFind = Array();
    $toReplace = Array();

    foreach($out[0] AS $id => $match){
    $choices = explode("|", $out[1][$id]);
    $toFind[]=$match;
    $toReplace[]=trim($choices[rand(0, count($choices)-1)]);
    }

    return str_replace($toFind, $toReplace, $text);
}

echo spinText("{Hello|Hi|Greetings}!");;

?> 
```

输出将随机选择单词：Hello OR Hi OR Greetings。

但是，如果有一个句子级别的旋转，输出就会混乱。例如：

```
{{hello|hi}.{how're|how are} you|{How's|How is} it going} 
```

输出是

```
{hello.how're you|How is it going} 
```

如您所见，文本尚未完全旋转。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T06:29:02.743

这是一个递归问题，所以正则表达式不是那么好；但是递归模式可以提供帮助：

```
function bla($s)
{
    // first off, find the curly brace patterns (those that are properly balanced)
    if (preg_match_all('#\{(((?>[^{}]+)|(?R))*)\}#', $s, $matches, PREG_OFFSET_CAPTURE)) {
        // go through the string in reverse order and replace the sections
        for ($i = count($matches[0]) - 1; $i >= 0; --$i) {
            // we recurse into this function here
            $s = substr_replace($s, bla($matches[1][$i][0]), $matches[0][$i][1], strlen($matches[0][$i][0]));
        }
    }
    // once we're done, it should be safe to split on the pipe character
    $choices = explode('|', $s);

    return $choices[array_rand($choices)];
}

echo bla("{{hello|hi}.{how're|how are} you|{How's|How is} it going}"), "\n"; 
```

另请参阅：[递归模式](http://php.net/manual/en/regexp.reference.recursive.php)

# android - Android 应用程序自发崩溃

> ID：15037441
> 
> 赞同：0
> 
> 时间：2013-02-23T05:31:28.470
> 
> 标签：android

我有一个最近完成的 android 应用程序。所以我已经成功完成了每个功能，并确保没有遇到错误。

当我将其导出到 apk 文件时。它运行顺利。它使用 httpRequests 与远程 mySQL 服务器进行通信。但也有自发崩溃的时候？

例如，我有一个活动，它会接收来自用户的输入，然后与服务器通信。它运行平稳快速。但在下一次运行时它会崩溃。当我重新启动应用程序时，即使在第二次运行时它也会再次顺利运行。我快要疯了。这些有什么解释吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:15:20.923

调试问题的第一步是获取堆栈跟踪。如果您可以在自己的设备上重现此问题，那么在您看到崩溃后，将其连接到您的开发电脑并运行以下命令：

```
adb logcat > crash.log 
```

打开日志文件，将其内容复制并粘贴到[http://pastebin.com/](http://pastebin.com/)或类似网站，然后将链接添加到您的问题。一旦我们有了它，我们就可以尝试弄清楚发生了什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T07:23:58.417

使用[ACRA](http://acra.ch/)从您的应用中收集崩溃报告。您不需要自己的服务器，只需一个 Google 文档表单。此处描述了集成： [https ://github.com/ACRA/acra/wiki/BasicSetup#wiki-Setting-up_your_project](https://github.com/ACRA/acra/wiki/BasicSetup#wiki-Setting-up_your_project)

与 logcat 相比，使用崩溃报告工具的优势在于您不需要对设备进行物理访问。您也有可能看到您或您的测试人员甚至没有注意到的崩溃。

# eclipse - 安装mousefeed插件后eclipse不工作

> ID：15037442
> 
> 赞同：0
> 
> 时间：2013-02-23T05:31:51.220
> 
> 标签：eclipse, eclipse-plugin

我刚刚在我的 eclipse Juno 中安装了 Mousefeed 插件。我不知道该插件不适用于 eclipse juno。现在鼠标点击没有反应，我只能使用快捷键。如何卸载插件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-18T14:09:04.933

如何在不使用鼠标的情况下卸载插件：

1.  Ctrl+3
2.  输入“关于”
3.  选择（使用光标并回车）菜单 - 关于 eclipse
4.  安装细节
5.  选择和卸载插件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:33:33.467

如果您不确定现在在 Eclipse 中使用哪些快捷方式，最简单的解决方法可能是关闭 eclipse 并删除磁盘上的插件。下次 Eclipse 将在没有插件的情况下启动。

该插件应位于`<eclipse directory>\plugins\com.mousefeed_1.0.0.jar`. 如果不是（取决于您的操作系统和安装类型），请仅搜索名称中包含“mousefeed”并以“.jar”结尾的文件。

# java - R.java 中的奇怪错误，即使在清理项目之后：“下划线只能用于源级别 1.7 或更高版本”

> ID：15037450
> 
> 赞同：14
> 
> 时间：2013-02-23T05:33:11.437
> 
> 标签：java, android, eclipse, android-resources

所以一切都很顺利，直到不久前 R.java 决定在添加图标后出现此错误（`5_content_new.png`确切地说是 ）。

我试过清理项目并重新启动eclipse，但无济于事。

问题代码：

```
public static final class drawable {
    public static final int 5_content_new=0x7f020000;
    public static final int ic_launcher=0x7f020001;
    ...
} 
```

红线出现在 下方`5_`，错误提示：

`Underscores can only be used with source level 1.7 or greater`

有没有人遇到过这样的问题？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-23T06:35:03.757

这是两件事的结合：

1.  Java 标识符不能以数字开头。第一个字符应该是一个字母。

2.  在 Java 7 中，他们为整数文字引入了替代语法；例如`1_000`与 相同`1000`。

所以发生的事情是编译器解析`5_content_new`为`5_ content_new`... 如果源代码级别是 Java 7，这是合理的，然后告诉您您没有使用 Java 7。如果您一直在使用 Java 7，则该编译错误将被一个错误所取代，该错误表明整数文字 ( `5_`) 在那时是不合法的。

简而言之，代码中包含的东西太“离谱”了，以至于编译器编写者在编译器诊断代码中没有预料到它。

* * *

另一点是，在 Java 中的变量、方法、类或包名中使用 ANY 下划线是*违反样式*的。下划线只能用于全大写常量名称，如“MAX_VALUE”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-23T05:41:23.223

我刚刚尝试在我的一个编译良好的 Android 项目中重命名现有的可绘制对象，Eclipse 抛出了这个对话框：

![日食错误](../Images/32eef1f5ae03a7d7dbb5e5909bc1f8b1.png) （如果不能很好地看到图像，对话框会说*资源名称必须以字符开头。*

我生成此对话框的方式是重命名可绘制文件。可绘制对象的原始名称是`button_blue_normal.9.png`，将其重命名为`5_button_blue_normal.9.png`并按下回车键。按下回车后立即弹出对话框。

我从来不知道这一点，但显然你需要一个字母字符，**而不是一个数字**，在可绘制文件的文件名的开头。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-23T20:06:15.200

我知道我参加聚会迟到了，但是当我开始使用 ActionBar 组件时，我自己也遇到了这个问题。

ScootrNova 的回答让我找到了解决方案。问题是我下载的用于教程的 Android 推荐图标包。所有文件名都以整数开头（1_xxx.png 等）。我删除了我不使用的那些，将其他的重命名为以字母开头的东西（我以“icon_xxx.png”为例），它编译没有错误。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-07T21:47:51.537

我有同样的问题，我在没有开始的文本后面加上数字后解决了这个问题。我有第**2_Activity**行并将其更改为**Activity2**。这是我的解决方案。希望它会帮助某人。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-16T13:45:18.390

我有同样的问题。解决方法：查看 res 文件、drawlables 或内部 xml，并将以（数字下划线字符串）1_string 开头的文件或字符串重命名为 string_1。

希望这有助于解决问题。

# html - CSS是否可以在：悬停之后使用元素？

> ID：15037453
> 
> 赞同：3
> 
> 时间：2013-02-23T05:33:36.627
> 
> 标签：html, css

悬停效果后是否可以使用元素

我试过这样

```
.tableclass tr td:hover a{
   color:#fff;
} 
```

当我将鼠标悬停在 td 上时，我正在尝试这样做，因此该 td 内的锚链接应将其颜色更改为白色..

这就是我尝试自我但不为我工作的方式？

```
.GridAlternate td:hover a , .GridRowStyle td:hover a{
    color:#fff;
} 
```

我的 GridView HTML

```
<table cellspacing="0" border="1" style="border-collapse:collapse;" id="GV_Users" rules="rows" class="DefaultGridStyle">
                        <tbody><tr class="GridHeader">
                            <th scope="col">User Name</th><th scope="col"><a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users','Sort$RoleName')">Role Name</a></th><th valign="middle" align="left" style="width:22%;" scope="col">LogIn</th><th valign="middle" align="center" style="width:33%;" scope="col">Action</th>
                        </tr><tr class="GridRowStyle">
                            <td>
                                Ali Nisarr
                            </td><td>
                                Admin
                            </td><td valign="middle" align="left">
                                alinisar@ken.com
                            </td><td valign="middle" align="center">
                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl02$Lbtn_change','')" class="editlinkbutton" id="Lbtn_change">Edit</a>
                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl02$Lbtn_Remove','')" class="removelinkbutton" id="Lbtn_Remove">Remove</a>

                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl02$Lbtn_Disable','')" class="removelinkbutton" id="Lbtn_Disable">Disable</a>

                            </td>
                        </tr><tr class="GridAlternate">
                            <td>
                                Nizam Ullah
                            </td><td>
                                Admin
                            </td><td valign="middle" align="left">
                                nizam@ken.com
                            </td><td valign="middle" align="center">
                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl03$Lbtn_change','')" class="editlinkbutton" id="Lbtn_change">Edit</a>
                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl03$Lbtn_Remove','')" class="removelinkbutton" id="Lbtn_Remove">Remove</a>

                                <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl03$Lbtn_Disable','')" class="removelinkbutton" id="Lbtn_Disable">Disable</a>

                            </td>
                        </tr><tr>
                            <td colspan="4">
                        <table class="GridPager">
                            <tbody><tr>
                                <td width="7%">
                                    Showing 
                                    :
                                </td>
                                <td width="5%">
                                    <span id="lbl_rowstartindex">1</span>
                                    &nbsp;-
                                </td>
                                <td>
                                    <span id="lbl_rowendindex">2</span>
                                </td>
                                <td>
                                    of
                                </td>
                                <td>
                                    <span id="lbl_totalrecords">2</span>
                                </td>

                                <td width="50%" align="center">

                                    &nbsp;

                                    &nbsp;

                                    &nbsp;

                                    &nbsp;

                                    &nbsp;

                                    &nbsp;

                                </td>
                                <td width="18%" align="right">
                                    Displaying per page:
                                </td>
                                <td align="left">
                                    <input type="text" id="TxBx_PageSize" maxlength="3" value="10" name="ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl05$TxBx_PageSize">

                                </td>
                                <td align="left">
                                    <a href="javascript:__doPostBack('ctl00$CPH_Content$TC_SysUsers$TP_Users$GV_Users$ctl05$lb_Change_RowsPerChange','')" id="lb_Change_RowsPerChange">Change</a>
                                </td>
                            </tr>
                        </tbody></table>
                    </td>
                        </tr>
                    </tbody></table> 
```

我做错了什么还是我应该遵循其他方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:46:29.863

[http://codepen.io/princemaple/pen/Dcxdi](http://codepen.io/princemaple/pen/Dcxdi)

它完全适合我。
我假设您的某些规则被错误地级联了？
就像您有更具体的定位规则会覆盖此规则...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T06:14:38.510

试试这个;

```
tr.GridAlternate td:hover a , tr.GridRowStyle td:hover a{
    color:#fff;
} 
```

并确保将其插入样式表的末尾。**也许它正在被其他类覆盖**。我希望这有帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T05:40:40.650

你为什么不试试 .tableclass td:hover a { color:#fff; }

# android - 访问 Google Cloud 消息时出现 IO 异常？

> ID：15037454
> 
> 赞同：0
> 
> 时间：2013-02-23T05:33:42.407
> 
> 标签：android, http, google-cloud-messaging

我已经在服务器和 Android 中编写了 GCM 的代码。我成功获得了注册 ID。但是我无法注册到 GCM，同时发帖注册它显示 IO 异常。我为此使用了[Android hive 教程](http://www.androidhive.info/2012/10/android-push-notifications-using-google-cloud-messaging-gcm-php-and-mysql/)。我有 gmail id 和注册 id，还有创建了一个要发布的网址。任何想法请与我分享。在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T10:21:27.183

这些是创建异常的代码行：

```
int status = conn.getResponseCode();
if (status != 200) {
   throw new IOException("Post failed with error code " + status); 
```

基本上，这些方法负责向服务器发送 POST 请求。您是否在客户端应用程序中正确配置了端点 URL？

编辑：状态代码 302 是“找到：请求的资源暂时驻留在不同的 URI 下。” 有关更多信息，请参见此处：http: [//www.w3.org/Protocols/rfc2616/rfc2616-sec10.html](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)

# jsp - Spring MVC 请求处理失败

> ID：15037455
> 
> 赞同：1
> 
> 时间：2013-02-23T05:33:54.300
> 
> 标签：jsp, spring-mvc, model, controller, httpwebrequest

我的 spring MVC 控制器不断收到 org.springframework.web.util.NestedServletException：请求处理失败；嵌套异常是 java.lang.NullPointerException

我的代码如下：

**电影.jsp**

```
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form" %>
 <%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
 <%@page contentType="text/html" pageEncoding="UTF-8"%>
 <!DOCTYPE html>
 <html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JSP Page</title>
 </head>
 <body>
    <c:choose>
    <c:when test="true">
        <h2>Please enter the details below:</h2>
        <form:form method="POST" commandName="movie">
            <table>
                <tr><td>Lead Actor:</td><td><form:input path="actor"/></td></tr>
                <tr><td>Lead Actress:</td><td><form:input path="actoress"/></td></tr>
                <tr><td>Genre:</td><td><form:input path="genre"/></td></tr>
                <tr><td>Year:</td><td><form:input path="year"/></td></tr>
            </table>
                <form:hidden path="way" value="add"/>
                <form:hidden path="page" value="5"/>
                <input type="submit" value="Add Moives"/>
        </form:form>

     </c:when>
     <c:when test="${requestScope.page eq '2'}">
        <h2>Searching Movies</h2>
        <form:form method="POST" commandName="movie">
            Keyword:<form:input path="key"/><br/>
            <form:radiobutton path="search" value="title"/>Search By Title<br/>
            <form:radiobutton path="search" value="actor"/>Search By Actor<br/>
            <form:radiobutton path="search" value="actress"/>Search By Actress<br/>
            <form:hidden path="way" value="browse"/>
            <form:hidden path="page" value="5"/>
            <input type="submit" value="Search Moives"/>
        </form:form>
    </c:when>
    <%-- <c:when test="${requestScope.page eq '3'}">
        <p>Add movie successful</p>
     </c:when>
    <c:when test="${requestScope.page eq '3'}">
        <p>Movie Title:${requestScope.title}</p>
        <p>Actor:${requestScope.actor}</p>
        <p>Actress:${requestScope.actress}</p>
        <p>Genre:${requestScope.Genre}</p>
        <p>Year:${requestScope.Year}</p>
    </c:when> --%>
    <c:otherwise>
        <h2>Welcome to our Movie Store</h2>
        <p>Please make your selection below</p>
        <!--<form method="post" action="movie.htm">
            <select name="page">
                <option value="2">Browse Movies</option>
                <option value="1">Add New Movie to Database</option>
            </select>
            <input type="submit" value="Send"/>
        </form> -->
        <form:form method="POST" action="movie.htm" commandName="movie">
            <form:select path="page">
                <form:option value="1">Add New Movie to Database</form:option>
                <form:option value="2">Browse Movies</form:option>
            </form:select>
            <input type="submit" value="Send"/>
        </form:form>
    </c:otherwise>
    </c:choose>
</body>
</html> 
```

这是我的控制器：

```
public class movieController extends SimpleFormController {

 public movieController() {
     //Initialize controller properties here or 
    //in the Web Application Context

    setCommandClass(Movie.class);
    setCommandName("movie");
    setSuccessView("movie");
    setFormView("movie");
 }

/*
@Override
protected void doSubmitAction(Object command) throws Exception {
    throw new UnsupportedOperationException("Not yet implemented");
}
* */
//Use onSubmit instead of doSubmitAction 
//when you need access to the Request, Response, or BindException objects

 @Override
 protected ModelAndView onSubmit(
 HttpServletRequest request, 
 HttpServletResponse response, 
 Object command, 
 BindException errors) throws Exception {
 //Do something...
 Movie movie = new Movie();
 String page = movie.getPage();
 if(page.equals("1")||page.equals("2")){
     request.setAttribute("page",'1');
 }
 else{
    Connection con = null;
Statement statement = null;
ResultSet st = null;
    if(movie.getWay().equals("add")){
        String title = movie.getTitle();
        title = title.replaceAll("[^A-Za-z0-9\\s]","");
        String actor = movie.getActor();
        actor = actor.replaceAll("[^A-Za-z0-9\\s]","");
        String actress = movie.getActoress();
    actress = actress.replaceAll("[^A-Za-z0-9\\s]","");
        String genre = movie.getGenre();
        genre = genre.replaceAll("[^A-Za-z0-9\\s]","");
        String year_temp = movie.getYear();
        year_temp = year_temp.replaceAll("[^A-Za-z0-9\\s]","");
        int year = Integer.parseInt(year_temp);
        try{
                Class.forName("com.mysql.jdbc.Driver");
                con = DriverManager.getConnection("jdbc:mysql://localhost:3306/moviedb",
      "root","");
                String sql = "INSERT INTO movies (title,actor,actress,genre,year) VALUES
      ('"+title+"','"+actor+"','"+actress+"','"+genre+"','"+year+"')";
                statement = con.createStatement();
                statement.executeUpdate(sql);
        } catch (SQLException ex) {
    // TODO Auto-generated catch block
    System.out.println("error happend:" + ex);
        } catch (ClassNotFoundException e) {
    // TODO Auto-generated catch block
    System.out.println("error happend:" + e);
        }
        finally{
    try{
        if(statement != null) statement.close();
        if(con != null) con.close();
                    //request.setAttribute("page", "3");
    } catch (SQLException ex) {
        System.out.println("error happend:" + ex);
    }
        }
    }
    else{
        String search = movie.getSearch();
        String key = movie.getKey();
        key = key.replaceAll("[^A-Za-z0-9\\s]","");
        try{
            Class.forName("com.mysql.jdbc.Driver");
    con = DriverManager.getConnection("jdbc:mysql://localhost:3306/moviedb", "root","");
    String sql = "select * from movies where "+search+"='"+key+"'";
    statement = con.createStatement();
    st = statement.executeQuery(sql);
    while (st.next()) {
                request.setAttribute("page", "4");
                request.setAttribute("title",st.getString(1));
                request.setAttribute("actor",st.getString(2));
                request.setAttribute("actress",st.getString(3));
                request.setAttribute("Genre",st.getString(4));
                request.setAttribute("Year",st.getInt(5));
    }
        } catch (SQLException ex) {
    // TODO Auto-generated catch block
    System.out.println("error happend:" + ex);
        } catch (ClassNotFoundException e) {
    // TODO Auto-generated catch block
    System.out.println("error happend:" + e);
        }
        finally{
    try{
                if(st != null) st.close();
                if(statement != null) statement.close();
                if(con != null) con.close();                    
    } catch (SQLException ex) {
                System.out.println("error happend:" + ex);
    }
        }
    }
 //End
 }
 return new ModelAndView("movie","movie",movie);
 }
} 
```

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T10:31:42.543

这些行看起来是您的 onSubmit() 中的问题：

```
Movie movie = new Movie();
String page = movie.getPage(); 
```

您正在创建一个新的 Movie 对象，而不是从 onSubmit() 参数转换和分配命令对象，不应该是：

```
Movie move = (Movie)command;
String page = movie.getPage(); 
```

# c++ - 为什么以及如何在 cstdlib 的全局和 std 命名空间中存在 rand()？

> ID：15037456
> 
> 赞同：2
> 
> 时间：2013-02-23T05:33:56.790
> 
> 标签：c++, namespaces, std

我知道`rand()`，作为来自 的示例函数`<cstdlib>`，它同时存在于全局和`std`命名空间中。

实际上，下面的代码编译不会出错，即调用`std::rand()`和调用`rand()`都是合法的。

```
#include <cstdlib>    
int main() {
    std::rand();
    rand();    
} 
```

这个有什么用，它是如何实现的（函数在两个命名空间中）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-23T05:37:17.107

该行为是根据标准指定的**行为**。
根据标准，包括在命名空间和可能在全局命名空间`cstdlib`中导入符号名称。`std`如果您依赖包含在全局命名空间中的符号名称，那么您的程序是不可移植的，并且您依赖于特定实现的行为。

* * *

要不依赖实施行为，您必须：

包含`cstdlib`并使用`rand`.

```
std::rand() 
```

* * *

参考：

**C++11 标准：D.5 C 标准库头文件**
**第 3 段：**

> [ 示例：标头`<cstdlib>`确实在命名空间中提供了它的声明和定义`std`。它还可以在全局命名空间中提供这些名称。头文件`<stdlib.h>`在全局命名空间中确实提供了相同的声明和定义，就像在 C 标准中一样。它还可以在命名空间内提供这些名称`std`。—结束示例]

* * *

**好读：**
[我应该在 C++ 程序中包含 <xxxx.h> 还是 <cxxxx> ？](https://stackoverflow.com/questions/13889467/should-i-include-xxxx-h-or-cxxxx-in-c-programs)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T05:38:28.640

原因是它最初是一个 C 函数。它来自 C.

C++ 将这些 C 函数重新实现到 std 命名空间中。据我所知，没有区别，但建议 C++ 程序员使用 std:: 命名空间中的函数，首先包括“c”whatever 标头（这确实是您对“cstdlib”标头所做的事情）。

（顺便说一下，普通 C 程序员会包含“stdlib.h”头文件。）

# php - 是否有一个优雅的解决方案来解决影响内爆输出的空变量？

> ID：15037459
> 
> 赞同：1
> 
> 时间：2013-02-23T05:34:12.980
> 
> 标签：php, arrays, symfony-1.4

这是我的代码：

```
$a = $request->getParameter('a');
$b = $request->getParameter('b');
$c = $request->getParameter('c');

$d = array($a, $b, $c);

$e = implode(", ", $d); 
```

不幸的是，如果 a、b 或 c 为空（这些来自 HTML 复选框），则其格式不正确。例如，如果 b 未选中，它将如下所示：

```
a, , c 
```

我希望它看起来像这样：

```
a, c 
```

我知道我可以检查每个是否为空，如果是，则从数组行中删除那个，但看起来会很混乱。有没有更优雅的方法来解决它？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-23T05:36:19.447

```
$e = implode(", ", array_filter($d)); 
```

# android - 单击详细活动中的上一个/下一个按钮时移至下一个/上一个项目

> ID：15037463
> 
> 赞同：0
> 
> 时间：2013-02-23T05:34:37.640
> 
> 标签：android, listview

我有一个从 web 服务获得的 listview 数据，当我单击 listview 项目时，它会进入详细的 Activity，当我在 nextbutton 上单击时，它应该将我带到列表中的下一个项目，类似地单击 prebutton 它应该带我到列表中的上一个项目，但是现在当我单击下一个/上一个按钮时，我正在强制关闭，我正在使用 BaseAdapter。以下是我的代码

详细活动

```
public class SampleDesp extends Activity   {

 ArrayList<HashMap<String, String>> songsList;
 ListView list;

    // JSON node keys
    static final String KEY_URL_FOR_MAP = "url_site"; 
    private static final String KEY_TITLE = "title";
    private static final String KEY_SITEURL = "url";
    private static final String KEY_DATE = "date";
    private static final String KEY_NAME = "name";
    private static final String KEY_CONTENT = "content";
    private static final String KEY_URL = "url";
     static final String KEY_SLUG1= "slug";
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
       // requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.sampledes);
        ArrayList<HashMap<String, String>> songsList = new ArrayList<HashMap<String, String>>();
     // move up event handler
        ImageButton preButton = (ImageButton) findViewById(R.id.prevButton);

        preButton.setOnClickListener(new View.OnClickListener() {
           public void onClick(View view) {
               movePre();
           }
        });

        // move down event handler
        ImageButton nxtButton = (ImageButton) findViewById(R.id.nextButton);
        nxtButton.setOnClickListener(new View.OnClickListener() {
           public void onClick(View view) {
               moveNxt();
           }
        });

         ListView list = new ListView(this);
        StationAdapter adapter1 = new StationAdapter(this, songsList);    
         list.setAdapter(adapter1);

        // getting intent data
        Intent in = getIntent();
        final String url1 = in.getStringExtra(KEY_URL);

        ImageView imgv = (ImageView) findViewById(R.id.imgdesc);
        ImageLoader imageLoader = new ImageLoader(getApplicationContext());
        imageLoader.DisplayImage(url1, imgv);

        // Get JSON values from previous intent
        String songsList1 = in.getStringExtra("song");
        int listPosition = in.getIntExtra("listPosition", 0);
        final String title = in.getStringExtra(KEY_TITLE);
        final String siteurl = in.getStringExtra(KEY_URL_FOR_MAP);
        String date = in.getStringExtra(KEY_DATE);
        String name = in.getStringExtra(KEY_NAME);
        final String content = in.getStringExtra(KEY_CONTENT);

        // Displaying all values on the screen
        TextView lblName = (TextView) findViewById(R.id.name_label);
        TextView lblUrl = (TextView) findViewById(R.id.url_label);

        TextView lblCost = (TextView) findViewById(R.id.email_label);
        TextView lblDesc = (TextView) findViewById(R.id.mobile_label);
        TextView lblCont = (TextView) findViewById(R.id.content_label);

        lblName.setText(title);
        lblUrl.setText(siteurl);
        lblCost.setText(date);
        lblDesc.setText(name);
        lblCont.setText(content);
    }    

    private void movePre(){

        list.setSelection(list.getSelectedItemPosition() - 1);
    }

        // Move selected item "down" in the ViewList.
        private void moveNxt(){

            list.setSelection(list.getSelectedItemPosition() + 1);

        } 
```

站适配器

```
class StationAdapter  extends BaseAdapter{
  private static final String TAG = null;
    private Activity activity;
    private ArrayList<HashMap<String, String>> data;
    private static LayoutInflater inflater=null;
    public ImageLoader imageLoader; 

    public StationAdapter(Activity a, ArrayList<HashMap<String, String>> d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
        Log.v(TAG, "Message here");
    }

    public int getCount() {
        return data.size();
    }

    public Object getItem(int position) {
        return position;
    }

    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.myfragment_layout, null);

        TextView title = (TextView)vi.findViewById(R.id.name_label); // title
        TextView siteurl = (TextView)vi.findViewById(R.id.url_label);
        TextView date = (TextView)vi.findViewById(R.id.email_label); // artist name
        TextView content = (TextView)vi.findViewById(R.id.content_label);  // duration
        TextView name = (TextView)vi.findViewById(R.id.mobile_label); 
        // duration
        ImageView thumb_image=(ImageView)vi.findViewById(R.id.imgdesc); // thumb image

        HashMap<String, String> song = new HashMap<String, String>();
        song = data.get(position);

        ListView list;
        // Setting all values in listview
       title.setText(song.get(MainActivity.KEY_TITLE));
      // siteurl.setText(song.get(MainActivity.KEY_SITEURL));
        date.setText(song.get(MainActivity.KEY_DATE));
        siteurl.setText(song.get(MainActivity.KEY_URL_FOR_MAP));// correct code
        ((TextView)siteurl).setVisibility(TextView.INVISIBLE);
        content.setText(song.get(MainActivity.KEY_CONTENT));
        name.setText(song.get(MainActivity.KEY_NAME));
        System.out.println("output: " +name);
       imageLoader.DisplayImage(song.get(MainActivity.KEY_URL), thumb_image);
        return vi;
    }
} 
```

LogCat 错误

```
02-23 12:32:52.506: E/AndroidRuntime(894): FATAL EXCEPTION: main
02-23 12:32:52.506: E/AndroidRuntime(894): java.lang.NullPointerException
02-23 12:32:52.506: E/AndroidRuntime(894):  at com.example.sampleofmain.SampleDesp.moveNxt(SampleDesp.java:137)
02-23 12:32:52.506: E/AndroidRuntime(894):  at com.example.sampleofmain.SampleDesp.access$1(SampleDesp.java:135)
02-23 12:32:52.506: E/AndroidRuntime(894):  at com.example.sampleofmain.SampleDesp$2.onClick(SampleDesp.java:82)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.view.View.performClick(View.java:2485)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.view.View$PerformClick.run(View.java:9080)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.os.Handler.handleCallback(Handler.java:587)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.os.Handler.dispatchMessage(Handler.java:92)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.os.Looper.loop(Looper.java:123)
02-23 12:32:52.506: E/AndroidRuntime(894):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-23 12:32:52.506: E/AndroidRuntime(894):  at java.lang.reflect.Method.invokeNative(Native Method)
02-23 12:32:52.506: E/AndroidRuntime(894):  at java.lang.reflect.Method.invoke(Method.java:507)
02-23 12:32:52.506: E/AndroidRuntime(894):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-23 12:32:52.506: E/AndroidRuntime(894):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-23 12:32:52.506: E/AndroidRuntime(894):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:35:25.853

为什么在 DetailActivity 中使用 ListView，单击列表项转到 Detailactivity 并传递单击的项目位置和歌曲数组列表，现在您可以显示所选索引歌曲的详细信息，然后单击下一个或上一个按钮将 arrylist 中的值设置为 textview 或 imgaeviews，就完成了

# asp.net - 一个 ASP.NET 背后的整个想法

> ID：15037464
> 
> 赞同：-4
> 
> 时间：2013-02-23T05:34:41.310
> 
> 标签：asp.net

One Asp 背后的整体理念是什么？是不是就像我们将能够为所有 asp.net 框架开发应用程序一样，而无需使用 VS IDE 进行任何面向目标框架的开发。未来它如何改变 ASP.NET 的使用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:45:59.583

**.Net 是一个框架。简单地说，它是一个大型库的集合，用于解决程序员想要编写软件时的不同编程需求。图书馆不是书籍，而是少量不同的代码集合。ASP.net 是一个 .net 框架。意味着知道 ASP 编程的人，那么 ASP.NET 是 .net 框架中 ASP 的扩展。**

 **它主要用于：

***改进的性能和可扩展性***

***增强的可靠性***

***易于部署***

***新的应用模型***

***开发人员生产力*****

# android - 将 EditText 转换为 int？（安卓）

> ID：15037465
> 
> 赞同：25
> 
> 时间：2013-02-23T05:34:45.590
> 
> 标签：android, android-edittext, integer

我想知道如何将`EditText`输入转换为 int，我让用户输入一个数字，然后将其除以 8。

MainActivity.java：

```
@SuppressWarnings("unused")
public void calcSpeed(View view)
{       
    setContentView(R.layout.activity_speed);     

    final TextView mTextView = (TextView) findViewById(R.id.textView3);
    mTextView.setText("You should be getting: " +netSpedCalcd);
} 
```

活动主.xml：

```
 <EditText
    android:id="@+id/editText1" 
    android:inputType="number"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:layout_marginTop="62dp"
    android:ems="10" > 
```

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-02-23T05:43:28.370

你必须使用。

```
String value= et.getText().toString();
int finalValue=Integer.parseInt(value); 
```

如果您只允许输入数字，则设置 EditText 属性。

```
android:inputType="number" 
```

如果这有帮助，请接受否则发表您的评论。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-02-23T05:39:01.213

使用[Integer.parseInt](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29)，并确保捕获在输入不是整数时抛出的 NumberFormatException。

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2013-02-23T05:36:58.060

我现在很困很累但是这行不通吗？：

```
EditText et = (EditText)findViewById(R.id.editText1);
String sTextFromET = et.getText().toString();
int nIntFromET = new Integer(sTextFromET).intValue(); 
```

***或者***

```
try
{
    int nIntFromET = Integer.parseInt(sTextFromET);
}
catch (NumberFormatException e)
{
    // handle the exception
} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-11-17T06:23:43.330

尝试这个，

```
EditText x = (EditText) findViewById(R.id.editText1);
int n = Integer.parseInt(x.getText().toString()); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-10-05T23:24:24.940

**您可以将 parseInt 与 try 和 catch 块一起使用**

```
try
{
    int myVal= Integer.parseInt(mTextView.getText().toString());
}
catch (NumberFormatException e)
{
    // handle the exception
    int myVal=0;
} 
```

**或者您可以创建自己的 tryParse 方法：**

```
public Integer tryParse(Object obj) {
    Integer retVal;
    try {
        retVal = Integer.parseInt((String) obj);
    } catch (NumberFormatException nfe) {
        retVal = 0; // or null if that is your preference
    }
    return retVal;
} 
```

**并在您的代码中使用它，例如：**

```
int myVal= tryParse(mTextView.getText().toString()); 
```

* * *

**注意：下面没有try/catch的代码会抛出异常**

```
int myVal= new Integer(mTextView.getText().toString()).intValue(); 
```

或者

```
int myVal= Integer.decode(mTextView.getText().toString()).intValue(); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-06-13T06:02:37.850

尝试下面的行将 editText 转换为整数。

```
int intVal = Integer.parseInt(mEtValue.getText().toString()); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-11-09T21:16:12.680

我自己也有同样的问题。我不确定你是否让它工作，但我必须做的是：

```
EditText cypherInput;
cypherInput = (EditText)findViewById(R.id.input_cipherValue);
int cypher = Integer.parseInt(cypherInput.getText().toString()); 
```

第三行代码导致应用程序在没有使用 .toString() 之前的 .getText() 的情况下崩溃。

仅供参考，这是我的 XML：

```
<EditText
    android:id="@+id/input_cipherValue"
    android:inputType="number"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" /> 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-09-03T11:40:45.867

你可以这样使用

```
 EditText dollar=(EditText) findViewById(R.id.money);
 int rupees=Integer.parseInt( dollar.getText().toString()); 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2019-12-29T14:11:34.833

首先，`EditText`使用以下代码在 android studio 的资源中找到您的资源：

`EditText value = (EditText) findViewById(R.id.editText1);`

然后将`EditText`value 转换为 a `string`，然后将 value 解析为 a `int`。

`int number = Integer.parseInt(x.getText().toString());`

这将起作用

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2017-07-06T04:57:54.587

```
int total_Parson = Integer.parseInt(etRegularTickets.getText().toString());
int ticket_price=Integer.parseInt(TicketData.get(0).getTicket_price_regular());
total_ticket_amount = ticket_price * total_Parson;
etRegularPrice.setText(""+total_ticket_amount); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-06-02T04:20:51.833

在 Kotlin 中，您可以做到这一点。

```
val editText1 = findViewById(R.id.editText)
val intNum = editText1.text.toString().toInt() 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2022-01-16T13:43:52.843

在 kotlin 中，由于**扩展功能，有最短的方法**

```
fun EditText.toInt(): Int {
    return this.text.toString().toInt()
} 
```

在您的代码中使用它，如下所示：

```
mEditText.toInt() 
```

# java - 使用 Android 获取未来 30 天内 Facebook 好友生日的 FQL 查询

> ID：15037466
> 
> 赞同：3
> 
> 时间：2013-02-23T05:34:48.870
> 
> 标签：java, android, facebook-fql

我正在编写 Android 应用程序，在其中我使用以下代码*获取当月生日的朋友列表：*

```
Calendar c = Calendar.getInstance();
int month = c.get(Calendar.MONTH) + 1;
String query = "select name, birthday, uid, pic_square from user 
where  (substr(birthday_date, 0, 2) =" + month +") AND uid IN 
(SELECT uid2 FROM friend WHERE uid1 = me()) order by birthday_date ASC"; 
```

但现在我想**获取未来 30 天内那些生日的 facebook 朋友列表**，我知道*使用当前日期获取下一个 30 天的 java 代码，*如下所示：

```
 Date today = new Date();
    Calendar cal = new GregorianCalendar();
    cal.setTime(today);
    cal.add(Calendar.DAY_OF_MONTH, +30);
    Date today30 = cal.getTime(); 
```

我知道 Python 查询来获取未来 30 天内的生日，但我不知道我需要在 Java 中使用什么代码，如果可能的话，请用 Java 替换下面的查询：-

```
 query = "SELECT username FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) AND (substr(birthday_date, 0, 2) = {0} AND substr(birthday_date, 3, 5) >= {1} AND substr(birthday_date, 3, 5) <= {2})").format(today.strftime("%m"), today.strftime("%d"), today30.strftime("%d"); 
```

**所以在这里我只想将python代码替换为java代码**

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T11:10:49.383

好吧，首先，请务必征得`friends_birthday`许可，否则您将无法获得朋友的生日日期。

如果您不熟悉[Graph API Explorer](https://developers.facebook.com/tools/explorer)，您应该 - 您可以测试 FQL 查询以发现问题。

单击“获取访问令牌”并在“朋友数据权限”中检查“friends_birthday”，您就可以开始测试查询了。

其次，所有的生日都与实际出生年份一起存储，因此`above today`在 FQL 查询中询问将始终不返回任何内容。“修复”日期 - 您实际上可以选择生日和今年的一部分，如下所示：

```
SELECT name, birthday, birthday_date, concat(substr(birthday_date,0,6),"2013") FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
AND birthday_date != 'null' 
```

**问题来了：**

选定的字段不是用户表的一部分，您不能对其进行排序，甚至不能对其使用 WHERE。我的猜测是你必须让你所有的朋友生日并使用 JAVA 过滤数据——这应该很容易，因为自定义选择字段中的日期是 2013 年而不是实际年份。

随意使用此链接[测试](https://developers.facebook.com/tools/explorer?fql=SELECT%20name%2C%20birthday%2C%20birthday_date%2C%20concat(substr(birthday_date%2C0%2C6)%2C%222013%22)%20FROM%20user%20%0AWHERE%20uid%20in%20(SELECT%20uid2%20FROM%20friend%20WHERE%20uid1%20%3D%20me())%20AND%20birthday_date%20!%3D%20'null')FQL。

**编辑#1**

我想澄清一些事情，您希望转换的原始查询不会

> 获取未来 30 天内那些生日的 Facebook 好友列表

在查询中手动替换值时，我看到它返回**同一个月内 2 天之间生日的**所有朋友。它不会找到在接下来的 30 天内过生日的所有朋友。

**编辑#2**

我找到了一种方法来让所有在本月和下个月过生日的朋友 - 这比浏览所有朋友列表要好得多。

```
SELECT name, birthday, birthday_date, concat(substr(birthday_date,0,6),"2013") FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
    AND birthday_date != 'null' 
    AND (substr(birthday_date,0,2)='02' OR substr(birthday_date,0,2)='03') 
```

这应该变得更容易遍历列表并过滤今天之前的列表，并且从今天起不超过 30 天 - 这是我能想到的最佳解决方案。

**编辑#3** 我实际上可以使用编辑#2 中的相同查询进行过滤，以获取今天之后的所有查询，由它排序：

```
SELECT name, birthday, birthday_date, concat(substr(birthday_date,0,6),"2013") FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
    AND birthday_date != 'null' 
    AND (substr(birthday_date,0,2)='02' OR substr(birthday_date,0,2)='03')
    AND birthday_date > '02/23/2013'
ORDER BY birthday_date 
```

如果你想限制为 10：

```
SELECT name, birthday, birthday_date, concat(substr(birthday_date,0,6),"2013") FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
    AND birthday_date != 'null' 
    AND (substr(birthday_date,0,2)='02' OR substr(birthday_date,0,2)='03')
    AND birthday_date > '02/23/2013'
ORDER BY birthday_date
LIMIT 10 
```

**编辑#4**

如果您在 Java 中计算日期并将其传递给查询，则简单得多

```
SELECT name, birthday, birthday_date FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
    AND birthday_date != 'null' 
    AND birthday_date > '02/23/2013'
    AND birthday_date < '04/24/2013'
ORDER BY birthday_date ASC 
```

**编辑#5**

一些Java代码：

```
Calendar cal = Calendar.getInstance();
Date today = cal.getTime();
SimpleDateFormat formatter = new SimpleDateFormat("MM/dd/yyyy");
String today_formatted = formatter.format(today);
cal.add(Calendar.DATE, 30);
String today_plus30_formatted = formatter.format(cal.getTime());

String query = 
"SELECT name, birthday, birthday_date FROM user 
WHERE uid in (SELECT uid2 FROM friend WHERE uid1 = me()) 
    AND birthday_date != 'null' 
    AND birthday_date > '" + today_formatted + "'
    AND birthday_date < '" + today_plus30_formatted + "'
ORDER BY birthday_date ASC"; 
```

我没有测试过，没有安装 Java :-)

# python - Python解析文本文件和逻辑方法

> ID：15037469
> 
> 赞同：0
> 
> 时间：2013-02-23T05:35:19.373
> 
> 标签：python, file, parsing, text

我对python逻辑有点坚持。
我想要一些关于如何解决我在 python 中遇到的问题以及解析数据的方法的建议。

我花了一些时间阅读 python 参考文档并浏览了这个站点，我知道有几种方法可以做我想要实现的目标，这就是我走的路。
我正在使用从某些卫星硬件生成的数据重新格式化一些文本文件，以将其上传到 MySQL 数据库中。

这是原始数据

```
TP N: 1   
Frequency: 12288.635 Mhz   
Symbol rate: 3000 KS  
Polarization: Vertical  
Spectrum: Inverted  
Standard/Modulation: DVB-S2/QPSK  
FEC: 1/2  
RollOff: 0.20  
Pilot: on  
Coding mode: ACM/VCM  
Short frame  
Transport stream
Single input stream  
RF-Level: -49 dBm  
Signal/Noise: 6.3 dB  
Carrier width: 3.600 Mhz  
BitRate: 2.967 Mbit/s 
```

`TP N`对卫星上的每个转发器重复上述部分
我正在使用这个脚本来提取我需要的数据

```
strings = ("Frequency", "Symbol", "Polar", "Mod", "FEC", "RF", "Signal", "Carrier", "BitRate")  
sat_raw = open('/BLScan/reports/1520.txt', 'r') 
sat_out = open('1520out.txt', 'w') 
for line in sat_raw: 
    if any(s in line for s in strings): 
        for word in line.split(): 
            if ':' in word:
                sat_out.write(line.split(':')[-1])
sat_raw.close()
sat_out.close() 
```

然后输出数据在发送到数据库之前像这样格式化

```
12288.635 Mhz
 3000 KS
 Vertical
 DVB-S2/QPSK
 1/2
 -49 dBm
 6.3 dB  
 3.600 Mhz
 2.967 Mbit/s 
```

该脚本运行良好，但对于我想在 MySQL 上实现的某些功能，我需要进一步编辑它。

1.  删除第一个“频率”行上的小数点和后面的 3 个数字和 MHz。
2.  删除所有尾随测量参考`KS`, `dBm`, `dB`, `Mhz`, `Mbit`。
3.  将 9 个字段加入逗号分隔的字符串中，这样每个转发器（每个文件大约 30 个）都在自己的行上

我不确定天气是否会继续沿着这条路径添加到这个现有的脚本（我被困在输出文件的写入点）。或者重新考虑我处理原始文件的方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:00:32.000

```
import math

strings = ("Frequency", "Symbol", "Polar", "Mod", "FEC", "RF", "Signal", "Carrier", "BitRate")  

files=['/BLScan/reports/1520.txt']
sat_out = open('1520out.txt', 'w') 
combineOutput=[]
for myfile in files:
    sat_raw = open(myfile, 'r') 
    singleOutput=[]
    for line in sat_raw: 
        if any(s in line for s in strings):
            marker=line.split(':')[1]
            try:
                data=str(int(math.floor(float(marker.split()[0]))))
            except:
                data=marker.split()[0]
            singleOutput.append(data)
    combineOutput.append(",".join(singleOutput))    

for rec in combineOutput:
    sat_out.write("%s\n"%rec)
sat_raw.close()
sat_out.close() 
```

在列表中添加要解析的所有文件`files`。它将每个文件的输出写为单独的行，每个字段用逗号分隔。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T07:05:00.513

我的解决方案很粗糙，可能不适用于极端情况，但这是一个好的开始。

```
import re
import csv

strings = ("Frequency", "Symbol", "Polar", "Mod", "FEC", "RF", "Signal", "Carrier", "BitRate")  
sat_raw = open('/BLScan/reports/1520.txt', 'r') 
sat_out = open('1520out.txt', 'w')
csv_writer = csv.writer(sat_out)
csv_output = []
for line in sat_raw:
    if any(s in line for s in strings): 
        try:
            m = re.match(r'^.*:\s+(\S+)', line)
            value = m.groups()[0]
            # Attempt to convert to int, thus removing the decimal part
            value = int(float(value))
        except ValueError:
            pass # Ignore conversion
        except AttributeError:
            pass # Ignore case when m is None (no match)
        csv_output.append(value)
    elif line.startswith('TP N'):
        # Before we start a new set of values, write out the old set
        if csv_output:
            csv_writer.writerow(csv_output)
            csv_output=[]

# If we reach the end of the file, don't miss the last set of values
if csv_output:
    csv_writer.writerow(csv_output)

sat_raw.close()
sat_out.close() 
```

### 讨论

*   csv 包有助于 CSV 输出
*   re（正则表达式）模块有助于解析行并从行中提取值。
*   在读取的行中`value = int(...)`，我们尝试将字符串值转换为整数，从而删除点和后面的数字。
*   当代码遇到以“TP N”开头的行时，这表示一组新值。我们将旧值集写入 CSV 文件。

# php - 如何从点击银行 API 和 XML 中列出产品详细信息？

> ID：15037471
> 
> 赞同：1
> 
> 时间：2013-02-23T05:35:37.440
> 
> 标签：php, xml, api, xmlhttprequest, clickbank

这是我点击银行 API 的示例代码，不幸的是这个脚本不起作用

这是示例代码：

```
 <?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://api.clickbank.com/rest/1.3/products/list");
curl_setopt($ch, CURLOPT_HEADER, true); 
curl_setopt($ch, CURLOPT_HTTPGET, true); 
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_HTTPHEADER, array("Accept: application/xml", "Authorization: DEV:CLERK"));
$result = curl_exec($ch);
curl_close($ch);

print_r($result);
?> 
```

如果运行此代码，则会发生以下错误

> HTTP/1.1 400 错误请求日期：2013 年 2 月 23 日星期六 05:24:10 GMT 服务器：Apache/2.2.23 (FreeBSD) mod_jk/1.2.37 mod_ssl/2.2.23 OpenSSL/0.9.8x 变化：接受编码连接: close Transfer-Encoding: chunked Content-Type: text/plain API 调用 (/api/rest/1.3/products/list) 需要缺少的参数：[site]1

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:02:58.490

[https://api.clickbank.com/rest/1.3/products](https://api.clickbank.com/rest/1.3/products)

```
<?php
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://api.clickbank.com/rest/1.2/debug");
curl_setopt($ch, CURLOPT_HEADER, true); 
curl_setopt($ch, CURLOPT_HTTPGET, true); 
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_HTTPHEADER, array("Accept: application/xml", "Authorization: DEV:CLERK"));
$result = curl_exec($ch);
curl_close($ch);

print_r($result);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-05T17:14:39.877

所需的“站点”参数应该是 Clickbank ID（也称为供应商）。

# java - 在 pom.xml 中排列配置文件和插件

> ID：15037485
> 
> 赞同：0
> 
> 时间：2013-02-23T05:37:25.270
> 
> 标签：java, maven, build, maven-plugin

我的 pom.xml 中有这些东西

*   简介1
*   简介2

这些配置文件用于单独的构建环境。

我需要使这些插件对两个配置文件都通用。

*   插件1
*   插件2
*   插件3

我应该把这些常用插件放在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:15:33.927

您可以简单地将它们放在默认构建部分中。由于插件对两个配置文件都是通用的：这是最好的方法。

请注意，如果不同配置文件的插件配置略有不同，您可以使用插件配置中的属性并在配置文件中定义这些属性的值。

```
 <build>
       <plugins>
          <plugin>
              <groupId>someGroup</groupId>
              <artifactId>plugin1</artifactId>
              ...
          </plugin>
          <plugin>
              <groupId>someGroup</groupId>
              <artifactId>plugin2</artifactId>
              ...
          </plugin>
          <plugin>
              <groupId>someGroup</groupId>
              <artifactId>plugin3</artifactId>
              ...
          </plugin>
       </plugins>
     </build> 
```

**编辑**

请注意，即使没有激活配置文件，此解决方案也会启用插件。不确定这是你需要的。（您可能有第三个构建环境：例如未定义配置文件的开发人员计算机）。在这种情况下，第三个配置文件的解决方案是要走的路。

```
 mvn clean install -Pprofile1,profile-common 
```

或者

```
 mvn clean install -Pprofile2, profile-common 
```

以及您在 profile-common 中定义的常用插件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:45:43.180

您可以在任何给定时间点激活多个配置文件。因此，您可以创建一个通用配置文件（profile3）并将插件保留在那里。依赖于特定配置文件的插件/配置可以保存在特定的配置文件1和配置文件2中。

-P profile-1,profile-3

# asp.net - AutoEventWireup 真与假

> ID：15037487
> 
> 赞同：4
> 
> 时间：2013-02-23T05:37:39.680
> 
> 标签：asp.net, visual-studio-2012

我正在使用 Visual Studio 2012 专业版。我看不出在页面指令中为 AutoEventWireup 属性设置“true”与“false”有什么区别。它一直表现为“真”，意思是 - 我设置“假”并且没有显式绑定事件，但事件被隐式绑定。如果我遗漏了什么，请告诉我。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-23T07:11:03.570

此设置不是关于触发事件，而是关于将处理程序绑定到标准页面事件。比较这两个说明处理`Load`事件的片段。

首先，使用`AutoEventWireup="true"`：

```
public class PageWithAutoEventWireup
{
    protected void Page_Load(object sender, EventArgs e)
    {
        Response.Write("Page_Load is called");
    }
} 
```

其次，与`AutoEventWireup="false"`：

```
public class PageWithoutAutoEventWireup
{
    override void OnInit(EventArgs e)
    {
        this.Load += Page_Load;
    }

    protected void Page_Load(object sender, EventArgs e)
    {
        Response.Write("Page_Load is called");
    }
} 
```

`Load`在这两种情况下，事件都将由页面触发并由您的代码处理。但在第二种情况下，您必须明确注册该事件，而在第一种情况下，ASP.NET 会为您完成一切。

当然，其他页面生命周期事件也是如此，例如`Init`,`PreRender`等。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-06-09T12:57:34.397

我知道这是一个旧线程，但我想我会添加以下内容，这最近帮助了我：

除了 Andrei 的回答之外，值得补充的是，通过将 AutoEventWireup 设置为“true”，每次页面加载时都会冒着调用 Page_Load() 两次的风险。这发生在我身上。[它在这里](https://msdn.microsoft.com/en-us/library/system.web.configuration.pagessection.autoeventwireup%28v=vs.110%29.aspx)得到了充分的解释，我从那里复制了以下内容：

> 如果性能是关键考虑因素，请不要将 AutoEventWireup 设置为 true。启用自动事件连接后，ASP.NET 必须进行 15 到 30 次尝试将事件与方法匹配。
> 
> 请注意以下有关将事件处理程序绑定到事件的内容：
> 
> *   如果将 AutoEventWireup 设置为 true，请确保不要手动将页面事件处理程序附加到事件。如果这样做，处理程序可能会被调用不止一次。
>     
>     
> *   自动绑定仅对页面事件执行，而不对页面上的控件事件执行。
>     
>     
> *   作为将事件绑定到处理程序的替代方法，您可以覆盖页面或控件的 Oneeventname 方法。

# c++ - 数组内存位置

> ID：15037498
> 
> 赞同：3
> 
> 时间：2013-02-23T05:40:12.150
> 
> 标签：c++, c, arrays

在这个程序中，假设数组从 2000 开始，那么元素应该存在于内存位置 arr[1]=2004 和 arr[5]=2020。如果是这样，那么 (ji) 应该给出 16，即 j 和 i 的内存位置之间的差异。但是它给出了 ji 的值“4”。为什么它没有给出值 16？

```
main() 
{
 int arr[]={10,20,30,45,67,56,74};
 int *i,*j; 
 i=&arr[1] ;
 j=&arr[5] ;
 printf ("%d %d",j-i,*j-*i);
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-23T05:44:26.580

它实际上是在告诉您元素数量的差异。

数组的连续元素之间的区别总是通过地址来查找它们之间的`1`区别，你需要乘以数据类型`difference``sizeof`

要获得实际的地址差异，

```
int difference =  sizeof(int) * (j - i) 
```

### 详细解释可以在[这里找到](https://stackoverflow.com/a/394777/922198)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T08:03:10.037

或许对你有帮助，，

```
 #include<stdio.h>
  #include<conio.h>
   #include<iostream.h>
   void main ()
      {
        clrscr();
      int arr[4];
     for(int p=1; p<=4; p++)
   {
    cout<<"enter elements"<<endl;
    cin>>arr[p];
           }
    int i,j,k;
 i=arr[2];
j=arr[4];
  k=arr[2]-arr[4];

cout<<k;
  getch(); 
```

}

# assembly - 使用 FPU 和 MMX 寄存器作为“通用寄存器”

> ID：15037501
> 
> 赞同：8
> 
> 时间：2013-02-23T05:40:33.393
> 
> 标签：assembly, x86, cpu-registers, register-allocation

大多数汇编程序都使用 4 个通用寄存器`eax ebx ecx edx`，但我发现很多时候我需要使用超过 4 个寄存器来轻松完成我的任务，而不必过多`push`地`pop`进出堆栈。由于我的程序无意使用 FPU 或 MMX 寄存器进行浮点计算或其“预期用途”，因此在您的程序中使用这些额外的寄存器是否可以接受？

例如。使用`xmm0`循环增量计数器释放`ecx`寄存器来做其他事情。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T06:17:55.373

为什么是四个？您可以使用所有这些：`eax`、`ebx`、`ecx`、`edx`、`esi`和`edi`。`ebp`那是七个。或者这还不够吗？

FPU 和 MMX 寄存器使用起来有些尴尬，因为它们只能从它们自己和内存中加载，并且只能存储到它们自己和内存中。您不能在它们和通用寄存器之间自由移动数据，也没有指令能够同时对两种寄存器进行操作。

如果七个通用寄存器不够用，请使用本地/堆栈变量。例如，您可以直接减少内存中的计数器变量，也可以直接将其与常量或其他寄存器进行比较。很有可能，这不会比以奇怪的方式使用 FPU 或 MMX 寄存器更慢（可能更快）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T02:40:19.027

您多久需要一次完整的 32 位寄存器？对于小型计数器之类的东西，请随意使用字节大小的四分之一通用寄存器：AH/AL、BH/BL、CH/CL、DH/DL。通过一些按位技巧，您还可以使用通用寄存器的高 16 位作为字大小变量的中间存储。

在实模式下（读作：DOS下），还可以使用段寄存器ES、FS、GS进行中间值存储。但是，在保护模式操作系统（Windows、Linux、*nix）下，代码会崩溃。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-02-23T05:57:25.960

当然还有 SI 和 DI，在 x64 上你有额外的寄存器，但是你可以使用 FP 寄存器来做任何你想要的。

# c# - gif图像不更改标签中的帧

> ID：15037509
> 
> 赞同：0
> 
> 时间：2013-02-23T05:41:34.720
> 
> 标签：c#, .net, image, label, gif

我使用 ajax 加载器 gif 图像作为标签背景，在调用耗时的方法之前，我将此标签设置为可见并在方法调用后使其不可见。问题是正在显示 gif 图像，但它是静止图像，它没有改变帧。下面是我的代码：

```
labelWait.Visible=true;
SomeLibrary.SomeClass.SomeMethod();
labelWait.Visible=false; 
```

有什么出路？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T05:53:02.670

看来您是在服务器端执行此操作。现在，我不知道您在 AJAX 调用中使用的是什么，我假设它是 jQuery。

做这种事情的正常流程是这样的：

1.  在客户端（网页）上，用户点击按钮（或链接）；
2.  显示带有动画 gif 的元素；
3.  做 jQuery.ajax 调用；
4.  服务器完成其工作并返回请求；
5.  对响应做一些事情；
6.  使用动画 gif 隐藏元素。

代码将类似于：

**SomePage.aspx（如果是 mvc，则为 cshtml）**

```
<a href="#" id="dosomething">Load some stuff...</a>
<div id="loader" style="display: none;"><img src="loader.gif"/></div>
<div id="mydata"/>

<script>
  $("#dosomething").click(function() {
    $("#loader").show();
    $.ajax({
      url: '/somewheretogetdata',
      success: function(data) {
        $("#mydata").html(data);
        $("#loader").hide();
      }
    });
  });
</script> 
```

当然， /somewheretogetdata 应该执行您的代码：

```
SomeLibrary.SomeClass.SomeMethod(); 
```

# c++ - C++中的函数引用和assert(0)

> ID：15037515
> 
> 赞同：1
> 
> 时间：2013-02-23T05:42:42.550
> 
> 标签：c++, class, function, reference, struct

我希望了解下面的内容`fetch().text`和`assert(0)`操作。我不熟悉这样的函数可以引用`fetch()`返回类型的成员，即`fetch().text`. 这是否以某种方式通过使用启用`assert(0)`？

```
class SimpleS{ 

  struct internal_element {
    const char *text;   
  };

 class SimpleE {
   public:

    SimpleE() {
    }

    const char* text() const {
      return fetch().text;  
    }

    void set_text(const char *text) {
      fetch().text = text;
    }

   private:

    internal_element& fetch() const {
      ... // some code
      assert(0);    
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:48:00.347

断言（0）；总会失败。我想它的目的是确保从一开始就不会调用此方法。

（当然，假设 assert(0); 没有条件运行）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T05:49:53.643

断言与它无关。这里发生的是 fetch() 返回对`internal_element`. 这使您能够在返回值中引用该结构的成员：

```
fetch().text 
```

指fetch() 返回`internal_element::text`的对象的成员。`internal_element`

至于为什么里面有一个`assert(0)`，不知道。你没有给我们密码。通常，当一个函数以这样的断言结束时，是因为程序员想要捕捉他没有涵盖某些可能性的情况。例如：

```
if (condition)
    //...
else if (condition)
    //...
// We should have covered all possible conditions above and already
// returned. If we actually get here, then we did something wrong.
assert(0); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T05:51:54.497

```
return fetch().text 
```

调用函数`fetch`。这大概会返回 class 的对象`internal_element`。然后它访问`text`这个返回对象的成员并返回它。它实际上等效于：

```
internal_element temp = fetch();
return temp.text; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-23T05:52:05.943

如果`... // some code`您的代码中有条件返回，`assert(0)`则永远不会被调用。`assert(0)`基本上会导致异常，如果异常没有在调用函数中被捕获，程序就会死掉。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-23T07:22:45.127

在下面的代码（您共享）中，程序员得到了使函数返回的条件，这就是 // 一些代码应该做的......但是如果条件之一不正确（并且它返回）控制到达函数的结尾这意味着存在致命错误，因此在函数结束时 assert(0) 的目的也是如此......

internal_element& fetch() 常量 {

... // 一些代码 assert(0);
}

# android - 如何将参数从url传递到phonegap android app

> ID：15037520
> 
> 赞同：0
> 
> 时间：2013-02-23T05:43:57.290
> 
> 标签：android, cordova, android-intent

我试图从带有参数的 URL 调用我的 phonegap android 应用程序。它工作正常，但我不知道如何获取我发送的参数。mainfest 看起来像这样：

```
 </intent-filter>
                <intent-filter>
        <action android:name="android.intent.action.VIEW" />
        <category android:name="android.intent.category.BROWSABLE" />
        <data android:scheme="ghtr" android:host="com.mds.ghtr"/>
        <category android:name="android.intent.category.DEFAULT"/>
    </intent-filter> 
```

链接如下所示：

```
<a href="ghtr://com.mds.ghtr?var1=123456"> 
```

我想做的就是在js中获取var1。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-26T11:07:16.737

通过`split`您可以从中获取参数`location`。

```
$(document).ready(function() {  
var var1= location.search.split("?var1=")[1]; 
} 
```

或者您可以在本机代码中获取它。您需要将此代码添加到 `onCreate`in `MainActivity.java`：

```
@Override
public void onCreate(Bundle savedInstanceState) {
....
Uri data = getIntent().getData();
String var1= data.getQueryParameter("var1");
} 
```

# python - mysql在单个命令中更新表多个字段

> ID：15037521
> 
> 赞同：-1
> 
> 时间：2013-02-23T05:43:59.590
> 
> 标签：python, mysql

寻求有关更新 mysql 表多个文件的帮助。正在运行以下命令并出现错误。谁可以帮我这个事。正在从字典的值更新表。见以下代码

```
cols = change_dict.keys()
vals = change_dict.values()
conn = MySQLdb.connect(host = "0.0.0.0",user="test",passwd="test",db='maint')
x = conn.cursor()
sql = "update details set %s = '%s' where maint_id=%s" % ( ",".join(cols), ",".join((vals)),id)
print sql
x.execute(sql)
conn.commit() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-11-26T09:47:51.857

试试这个说法

```
sql="UPDATE table name SET field=%s WHERE maint_id=%s", (var1, maint_id) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-23T05:49:01.610

尝试以下操作：

```
update table set column1 = value1, column2 = value2, column3 = value3 where Condition 
```

# php - 关于在数据存储到数据库后点击提交按钮强制下载 pdf 文件

> ID：15037522
> 
> 赞同：0
> 
> 时间：2013-02-23T05:44:00.553
> 
> 标签：php, wordpress

单击提交按钮时，我使用以下代码将数据存储在 wordpress 数据库中，现在代码通过将数据提交到 wordpress 数据库来工作。

```
 if ($_POST['subscribe_btn']) 
    {
    require("connect.php");
    $user = $_POST['user'];
    $email = $_POST['email'];
    if($user) 
    { 
    if(preg_match("/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/i", $email)){
    $query=mysql_query("SELECT * FROM wp_newslettter WHERE email='$email'") or exit(mysql_error());
    $numrows= mysql_num_rows($query);
   if($numrows == 0 )

    {
    mysql_query("INSERT INTO wp_newslettter (`name`,`email`) VALUES ('$user','$email')")or exit(mysql_error());
    }
    else 
    $errmsg = "email address already exists";
    }
    else
    $errmsg = "Please enter a valid email address";
   } 

    else 
   $errmsg = "Please enter your username";
} 
```

我现在要做的是，一旦将数据保存到数据库中，我想强制下载存储在我的主题中的 pdf，我对 wordpress 真的很陌生，无法访问文件路径，我有完成以下代码但没有文件下载，请对此提供任何帮助，我的表单操作如下`action='$_SERVER[REQUEST_URI]'`

/ ****数据提交后下载pdf的代码*** /

```
$a =  bloginfo('template_url');
$file= $a . "/pdf/default.pdf";

$path_parts = pathinfo($file);
$ext = strtolower($path_parts["extension"]); 
switch ($ext) {
  case "pdf": $ctype="application/pdf"; break;
  case "exe": $ctype="application/octet-stream"; break;
  case "zip": $ctype="application/zip"; break;
  case "doc": 
  case "docx":  $ctype="application/msword"; break;
  case "xls": $ctype="application/vnd.ms-excel"; break;
  case "ppt": $ctype="application/vnd.ms-powerpoint"; break;
  case "gif": $ctype="image/gif"; break;
  case "png": $ctype="image/png"; break;
  case "jpeg":
  case "jpg": $ctype="image/jpg"; break;
  default: $ctype="application/force-download";
} 
header('Content-Description: File Transfer');
header('Content-Type: application/force-download');
header("Content-type:  $ctype"); 
header('Content-Disposition: attachment; filename='.basename($file));
header('Content-Transfer-Encoding: binary');
header('Expires: 0');
header('Cache-Control: must-revalidate , post-check=0, pre-check=0');
header('Pragma: public');
header('Content-Length: ' . filesize($file));
ob_clean();
flush();
readfile($file);
exit; 
```

我无法通过执行以下代码来读取文件

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:06:57.570

如果该文件在您的媒体库中，请尝试查看它并查看您的浏览器访问的 URL。`header('Location: http://www.yoursite.com/wp-content/uploads/2013/02/22/file.pdf');`这是您在提交数据后需要将用户带到的 URL 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-21T12:49:35.447

功能显示文件（）{

```
$results = GetFiles(); // Function that gets files available for download 
$row = mysql_fetch_assoc( $results ); // Get first row 

echo "    <select name='files'>\n"; 
while ( $row ) { 
    echo        "<option value = '" . $row['EightDigitValue'] . "'>" .$row['FileName']. "</option>\n"; 
    $row = mysql_fetch_assoc( $results ); 
} 
echo "    </select>\n"; 
```

}

# android - 游标和获取数据的问题？

> ID：15037527
> 
> 赞同：1
> 
> 时间：2013-02-23T05:44:54.060
> 
> 标签：android, android-sqlite

我创建了一个表并尝试使用游标从中获取数据，如下所示：

```
public Cursor getcontent() {
    Cursor d = database.query(DatabaseHandler.Table_Name2,allColumns,selection, null, null,null,null); 
    return d;
}
Cursor r = X.getcontent();
if (r.getCount() > 0) {
    r.moveToFirst();
    do {
        String id = r.getString(r.getColumnIndex("content_id"));
        al.add(id);
        MainActivity.tt1.append("\n");  
        MainActivity.tt1.append(id);   
    } while (r.moveToNext()==true);
        r.close();
    } else {
        Log.i("TAG"," No value found");
    }      
} 
```

我在 中显示结果`TextView`以查看它获取了哪些数据。我的问题是，当我运行此代码时，有时它会显示`TextView`. 它的比例是 50:50，据我说，它应该每次都显示获取的值，因为每次我不知道这里出了什么问题时都会获取数据，有人可以告诉我这里有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:57:57.573

检查您得到的 Cursor 是否为 Null 。如果是，那么光标计数是多少。你可以通过以下方式做到这一点。

```
Cursor r = X.getcontent();
if ((r != null) && (r.getCount() > 0)) {
    r.moveToFirst();
    do {
        String id = r.getString(r.getColumnIndex("content_id"));
        al.add(id);
        MainActivity.tt1.append("\n");  
        MainActivity.tt1.append(id);   
    } while (r.moveToNext());
    r.close();
} else {
    Log.i("TAG"," No value found inside Cursor");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:25:36.677

试试这样

```
Cursor r = X.getcontent();
try {
    if (r.moveToFirst()) {
        do {
            String id = r.getString(r.getColumnIndex("content_id"));
            al.add(id);
            MainActivity.tt1.append("\n");  
            MainActivity.tt1.append(id); 
        } while (r.moveToNext());
    }
} finally {
    if(r!=null) {
        r.close();
    }
} 
```

# android - 当我们滚动列表视图时，运行时在 android 中添加了按钮更改位置

> ID：15037528
> 
> 赞同：2
> 
> 时间：2013-02-23T05:44:59.537
> 
> 标签：android

这是我的列表适配器类

```
public class ListDemoAdapter extends BaseAdapter{

    private String[] name={"aa","bb","cc","dd","ee","ff","gg","hh","ii","jj","kk"};
    private Context context;
    private LayoutInflater inflater;
    public ListDemoAdapter(Context ctx) {
        context=ctx;
        inflater=(LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }
    @Override
    public int getCount() {
        // TODO Auto-generated method stub
        return name.length;
    }

    @Override
    public Object getItem(int position) {
        // TODO Auto-generated method stub
        return name[position];
    }

    @Override
    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        View view=convertView;
        ViewHolder holder;
        if(view==null)
        {
            holder=new ViewHolder();
            view=inflater.inflate( R.layout.listitem, null);
            holder.tv=(TextView)view.findViewById(R.id.tv);
            holder.btn=(Button)view.findViewById(R.id.addbtn);
            holder.rl=(LinearLayout)view.findViewById(R.id.runtimerl);          
            view.setTag(holder);
        }else{
            holder=(ViewHolder) view.getTag();
        }
        holder.tv.setText(name[position]);
        holder.btn.setOnClickListener((OnClickListener) context);
        return view;
    }

    private class ViewHolder{
        private TextView tv;
        private Button btn;
        private LinearLayout rl; 
    }

} 
```

当我们单击按钮时，将生成运行时按钮，但是当我们滚动列表视图时，运行时创建的按钮在另一行代码中发生更改，如下所示：

```
public class AndroidListDemoActivity extends Activity implements OnClickListener{
    private ListView list;
    public static int pos=0;
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        list=(ListView)findViewById(R.id.list);
        list.setAdapter(new ListDemoAdapter(this));

    }
    @Override
    public void onClick(View v) {
        if(v.getId()==R.id.addbtn){
            View view=(View) v.getParent();
            LinearLayout rl=(LinearLayout)view.findViewById(R.id.runtimerl);
            Button btn=new Button(this);
            btn.setText(""+pos);
            btn.setTag(btn+"pos");
            rl.addView(btn);
            pos++;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:05:08.390

`getView`当您滚动适配器时，Look不能保证位置。每次滚动已使用适配器初始化的列表时，都会初始化新视图。

因此，您要做的就是使用该`getView`方法。

*   获取`onClickListener`您的`convertView`实例。
*   不是在 getView 方法中而是在 Adapter 类中初始化一个静态变量。
*   现在将**静态变量**分配给适配器方法 的**位置**`getView`，显然是在's的`onClick`方法中。`convertView``onClickListener`
*   在同一位置显示您的按钮

# android-ndk - 使用 android-ndk 在 Ubuntu 上构建 libusb

> ID：15037530
> 
> 赞同：1
> 
> 时间：2013-02-23T05:45:22.110
> 
> 标签：android-ndk, libusb

我正在尝试在 Ubuntu 12.10 上使用 android ndk 构建 libusb。

我输入 ndk-build 命令，它在编译 io.c 时失败，并出现以下错误。

```
jni/libusb/io.c:34:25: fatal error: sys/timerfd.h: No such file or directory 
```

我在哪里可以得到 timerfd.h？它不应该与Linux内核一起提供吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T20:37:42.433

您正在搜索的功能与“Linux-kernel”无关！此功能属于 C 语言。

在 Android 设备上，clib 被削弱（对不起：剥离）到最低限度，被称为仿生。

检查网络以获取有关该主题的更多信息

祝马丁好运

# java - 如何指定实现接口的引用方法参数

> ID：15037548
> 
> 赞同：1
> 
> 时间：2013-02-23T05:48:11.900
> 
> 标签：java, events, event-handling, event-listener

我有一个好奇的问题，它是如何为一个方法指定一个引用参数并确保这个参数必须实现一个接口

例如 ActionListener 方法 actionPerformed 当您使用 addActionListener(arg) 方法将 actionListener 添加到 GUI 组件时处理事件时 arg 必须是对实现 ActionListener 接口的对象的引用，这是我的问题 addActionListener 方法如何确保其 arg 实现 ActionListener 接口

```
JTextField textField = new JTextField();//creating new text field

TextFieldHandler textFiledHandler = new TextFieldHandler();//object of the handler

textField.addActionListener(textFieldHandler);//here's my question
add(textField);

//creating a nested class
private class TextFieldHandler implements ActionListener {
     @Override
     public void actionPerformed (ActionEvent event) {
          //do something here
     }//end actionPerformed
}//end class TextFieldHandler 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:53:08.507

您的示例方法的方法描述是：

```
public void addActionListener(ActionListener l) 
```

因此，您可以传递给它的唯一类型是类型`ActionListener`

来源：[http://docs.oracle.com/javase/6/docs/api/javax/swing/JTextField.html#addActionListener(java.awt.event.ActionListener)](http://docs.oracle.com/javase/6/docs/api/javax/swing/JTextField.html#addActionListener(java.awt.event.ActionListener))

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:56:22.403

您需要做的就是将参数的类型设置为接口名称，然后该方法将接受对象，只要它们是实现接口的类型即可。

例子：

```
 public void methodName(InterfaceName x) {} 
```

将接受任何实现“InterfaceName”的对象作为参数。

在这种特殊情况下，`public void addActionListener(ActionListener l)`确保参数实现了`ActionListener`接口（Java 就是这样做的）。

# c# - 如何在水晶报表中向子报表发送参数

> ID：15037550
> 
> 赞同：5
> 
> 时间：2013-02-23T05:48:24.227
> 
> 标签：c#, crystal-reports, crystal-reports-2008

使用 VS 2008。

我有两个存储过程，一个用于获取主报告的数据，另一个用于获取子报告的数据，并且两个 SP 都使用相同的参数 QuoteID。

我已经使用 ReportDocument 将参数发送到主报告。但我不知道如何将参数发送到 SubReport。

我使用报告文档的 setparameter 方法尝试了许多不同的方法，该方法也将子报告名称作为参数。但它没有。

下面是我使用的代码

```
 string Type = gvQuotationDetails.Rows[QuoteIndex].Cells["Type"].EditedFormattedValue.ToString();

    FilePath = ConfigurationManager.AppSettings["EMP_IMG_PATH"].ToString() + "\\" + ValQuoteID.ToString() + ".pdf";

    DeleteExistingFile(FilePath);

    try
    {
        AccountsPayableMaster objAPM = new AccountsPayableMaster();
        QuotationReport obj = new QuotationReport();
        objReportDocument.Load(Application.StartupPath + @"\rptQuotationReport.rpt");
        obj.crysQuotationReport.LogOnInfo = objAPM.ConnectionDetails("SD_SalesOrderReport;1");
        obj.crysQuotationReport.LogOnInfo = objAPM.ConnectionDetails("SD_GetBatchReportDetails;1");
        obj.crysQuotationReport.ReportSource = objReportDocument;
        objReportDocument.SetParameterValue("@QuoteID", ValQuoteID);
        objReportDocument.SetParameterValue("Type", Type);
        //objReportDocument.Subreports[Application.StartupPath + @"\BatchSubReport.rpt"].SetParameterValue("@QuoteID", ValQuoteID);
        //objReportDocument.Subreports["BatchReport.rpt"].SetParameterValue("@QuoteID", ValQuoteID);           

        string[] Print = objAPM.GetPrintDetails();

        SetPrintParameters(objReportDocument, Print);

        obj.Show();

        objReportDocument.ExportToDisk(ExportFormatType.PortableDocFormat, FilePath);
    }

    catch (Exception ex)
    {
        MessageBox.Show(ex.Message); 
    } 
```

将参数发送到子报表

```
//objReportDocument.Subreports[Application.StartupPath + @"\BatchSubReport.rpt"].SetParameterValue("@QuoteID", ValQuoteID);

//objReportDocument.Subreports["BatchReport.rpt"].SetParameterValue("@QuoteID", ValQuoteID);              

////objReportDocument.SetParameterValue("@QuoteID", ValQuoteID,"BatchReport.rpt); 
```

没有任何效果。我已经为此浪费了两天时间。`[SD_SalesOrderReport;1]`主 SP 和`[SD_GetBatchReportDetails;1]`子报表 SP。

如果有人可以为此提供解决方案，那就太好了。如果设计中有一些更改，请分享图片。谢谢。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-23T06:42:57.143

最后经过大量的尝试，我已经解决了。可能这对其他人有帮助。我对 Main 和 SubReport 使用了相同的参数 Name，使用下面的代码来设置它的参数

```
objReportDocument.SetParameterValue("@QuoteID", ValQuoteID,objReportDocument.Subreports[0].Name.ToString()); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-04T10:07:10.787

嗯，这对我真的很有帮助，因为我的问题已经用下面的代码解决了。

```
rd.SetParameterValue("TotalVisits", totalVisits, rd.Subreports[0].Name.ToString());

rd.SetParameterValue("GrandTotal", grandTotalPaymentType, rd.Subreports[1].Name.ToString()); 
```

# php - 页面上的Mysql To Xml输出

> ID：15037554
> 
> 赞同：-3
> 
> 时间：2013-02-23T05:49:18.083
> 
> 标签：php, xml

我正在尝试从我的数据库中输出各种表，但我似乎无法弄清楚如何执行我的想法。

我想像这样输出我的数据。

```
<locations>
    <destination>
       <name>A</name>
       <address>B</name>
    </destination>

    <destination>
       <name>C</name>
       <address>D</name>
    </destination>
</locations> 
```

到目前为止，我有这个作为输出。

```
 <Locations>
<destination name="burlo"/>
<destination name="Raymund"/>
<destination name="Bacolod City"/>
<destination name="Victorias"/>
<destination name="Sipalay"/>
<destination name="Ambot"/>
<destination name="aweawea"/>
<destination name="ilo-ilo"/>
<destination name="ilo-ilo"/>
<destination name="Hinobaan"/>
<destination name="heart"/>
<destination name="heart"/>
<destination name="heart"/>
<destination name="heart"/>
<destination name="heart"/>
<destination name="Daddy"/>
<destination name="aguisan"/>
</Locations> 
```

这就是我生成它们的方式。

```
// Start XML file, create parent node

$dom = new DOMDocument("1.0");
$node = $dom->createElement("Locations");
$parnode = $dom->appendChild($node); 

// Select all the rows in the markers table

$query = "SELECT  * FROM tbl_locations where status='active'";
$result = mysql_query($query);
if (!$result) {  
  die('Invalid query: ' . mysql_error());
} 

header("Content-type: text/xml"); 

// Iterate through the rows, adding XML nodes for each

while ($row = @mysql_fetch_assoc($result)){  
  // ADD TO XML DOCUMENT NODE  

  $node = $dom->createElement("destination");  

  $newnode = $parnode->appendChild($node);   
  $newnode->setAttribute("name",$row['name']);

} 

echo $dom->saveXML();

?> 
```

将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:56:41.163

将此行更改为

```
$newnode->setAttribute("name",$row['name']); 
```

到这些行

```
$nameNode = $doc->createElement('name');
$nameNode -> appendChild($doc->createTextNode($row['name']));
$node->appendChild($nameNode);

$addNode = $doc->createElement('address');
$addNode -> appendChild($doc->createTextNode($row['address'])); 
$node->appendChild($addNode); 
```

因为您需要构建树。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T05:55:07.383

做这个

```
$node = $dom->createElement("destination");  
$newnode = $parnode->appendChild($node);  
$node1 = $dom->createElement("name");   
$newnode = $parnode->appendChild($node1);  
$newnode->insertData(0,$row['name']); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T10:57:42.547

希望这可以帮助，

```
<?php 
$xml          = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";
$root_element = "locations"; 
$xml         .= "<$root_element>";
$sql ="****  YOUR QUERY  ****";
if (!$result = mysql_query($sql))
   die("Query failed.");

if(mysql_num_rows($result)>0)
{
   $i = 0;
   while($result_array = mysql_fetch_array($result))
   {
    $xml .= "<destination>";
    $result[$i]['name']=$result_array['name'];
    $xml .= "<name><![CDATA[{$result[$i]['name']}]]></name>";
    $result[$i]['dea']=$result_array['address'];
    $xml .= "<address><![CDATA[{$result[$i]['address']}]]></address>";
    $xml.="</destination>";

    $i++;
   }
}
//close the root element

$xml .= "</$root_element>";

//send the xml header to the browser
header ("Content-Type:text/xml"); 

//output the XML data
echo $xml; 
```

如果您有任何疑问，请告诉我

# ios - 在滑动时更改文本

> ID：15037555
> 
> 赞同：0
> 
> 时间：2013-02-23T05:49:36.183
> 
> 标签：ios

我正在创建一个文本笑话应用程序我需要的是我想要滑动形式的 UITextView 就像当我在间隙后滑动第一个笑话时，另一个 UITextview 进来另一个笑话，到目前为止我所做的是我手动创建了 UITextView （就像如果有 10 个笑话然后 10 个 uitextview ）并将它们添加到滚动中，但是在 viewdidload 方法中花费了太多时间，并且应用程序需要 6.7 秒才能加载......如果您有任何其他想法，请告诉我

```
 for (int i = 0; i < arrresult.count; i++) {

    CGRect frame;
    frame.origin.x = self.scrollmain.frame.size.width * i;
    frame.origin.y = 0;
    frame.size = self.scrollmain.frame.size;

    // UITextView *subview = [[UITextView alloc] initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+10, 230, 120)];
    // UITextView *subview2 = [[UITextView alloc]initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+160,230, 120)];

    UITextView *subview = [[UITextView alloc] initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+10, 230, 120)];
    UITextView *subview2 = [[UITextView alloc]initWithFrame:CGRectMake((frame.origin.x)+40,(frame.origin.y)+160,230, 120)];

    subview.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"BG_text.png"]];
    subview2.backgroundColor = [UIColor whiteColor];

    [subview setFont:[UIFont boldSystemFontOfSize:14]];
    [subview2 setFont:[UIFont boldSystemFontOfSize:14]];

    subview.layer.cornerRadius = 10 ;
    subview2.layer.cornerRadius = 10;

    NSString *p = [duaobj2 dua_arabic];
    NSString *b = [duaobj2 eng_trans];

    subview.text = p;
    subview2.text = b;

    [self.scrollmain addSubview:subview];
    [self.scrollmain addSubview:subview2];

    subview.editable = NO;
    subview2.editable = NO;

    subview.textColor = [UIColor blackColor];
    subview2.textColor = [UIColor blackColor];

    subview.backgroundColor = [UIColor whiteColor];
    subview2.backgroundColor = [UIColor whiteColor];

    scrollmain.showsHorizontalScrollIndicator = NO;

    CGRect frame1 = subview.frame;
    CGRect frame2 = subview2.frame;

    frame1.size.height = subview.contentSize.height;
    frame2.size.height = subview2.contentSize.height;

    subview.frame = frame1;
    subview2.frame = frame2;

}

self.scrollmain.contentSize = CGSizeMake(self.scrollmain.frame.size.width * arrresult.count,self.scrollmain.frame.size.height);

scrollmain.pagingEnabled = TRUE;

scrollmain.delegate = self; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:14:06.293

在 viewDidLoad 时不需要加载子视图。

您应该使用 scrollView 委托方法来延迟这一点。

您应该最多只创建 3 个文本视图。当前，上一个和下一个。

在 scrollViewDidScroll 委托方法上，您应该明智地删除以前加载的 textview 并添加新的 textview。

# iphone - 子类化实现 MKMapViewDelegate 但未调用 MKMapViewDelegate 方法的类

> ID：15037557
> 
> 赞同：0
> 
> 时间：2013-02-23T05:50:00.383
> 
> 标签：iphone, ios, objective-c

我正在对一个实现 . 的类进行子类`MKMapViewDelegate`化。我也在超类中设置委托，但我的 `-(MKAnnotationView *) mapView:(MKMapView *)mapView viewForAnnotation:(id<MKAnnotation>)annotation`方法没有被调用。这是我的代码

我的超类代码

```
 //  RecentPhotosMapViewController.h
 @interface RecentPhotosMapViewController : UIViewController <MKMapViewDelegate>

     @property (nonatomic,strong) NSArray *annotations;
     @property(nonatomic,weak) IBOutlet MKMapView *mapView;

@end

 //  RecentPhotosMapViewController.m
- (void)viewDidLoad{

      [super viewDidLoad];
// Do any additional setup after loading the view.

    // load annotation data

       self.mapView.delegate = self;
}

  - (MKAnnotationView *) mapView:(MKMapView *)mapView viewForAnnotation:    (id<MKAnnotation>)annotation{

MKAnnotationView *aView = [mapView dequeueReusableAnnotationViewWithIdentifier:@"MapVC"];

     // safety code
     if(!aView){
         aView = [[MKPinAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"MapVC"];
         aView.canShowCallout = YES;
         aView.leftCalloutAccessoryView = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 30, 30)];
         aView.rightCalloutAccessoryView = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];

      }
     aView.annotation = annotation;
    [(UIImageView *)aView.leftCalloutAccessoryView setImage:nil];

    return aView;
} 
```

我的子类代码

```
 //  RecentPhotosMapViewControllerWithAnnotationData.h
     @interface RecentPhotosMapViewControllerWithAnnotationData : RecentPhotosMapViewController
     @end 
```

RecentPhotosMapViewControllerWithAnnotationData.m 文件

```
 -(void) viewDidLoad{

// extract annotation data.....
// set zoom level

[super viewDidLoad];

} 
```

然而`-(void) mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view method is called`

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:52:48.143

尝试作为子类`[super viewDidLoad];`中的第一行移动`viewDidLoad`。

当你调用`[super viewDidLoad]`which 设置委托时，一切都已经发生了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:09:24.453

将 mapView 委托分配行保留为派生类 viewDidLoad 方法的最后一行：

最近照片MapViewControllerWithAnnotationData.m

```
-(void) viewDidLoad
{

// extract annotation data.....
// set zoom level

[super viewDidLoad];

self.mapView.delegate = self;

} 
```

# .htaccess - 使用 htaccess 将页面从一个页面重定向到另一个页面而不更改 url

> ID：15037558
> 
> 赞同：4
> 
> 时间：2013-02-23T05:50:07.800
> 
> 标签：.htaccess, joomla2.5

有没有办法将页面从一个页面重定向到另一个页面而不使用 joomla 中的 htaccess 更改 url？

我想更改网址

[http://idaycom.com/index.php/component/quates/](http://idaycom.com/index.php/component/quates/)

至

[http://idaycom.com/index.php/component/quotes/](http://idaycom.com/index.php/component/quotes/)

如何改变它？

这是我的 htaccess 文件

```
##
# @version      $Id: htaccess.txt 21101 2011-04-07 15:47:33Z dextercowley $
# @package      Joomla
# @copyright    Copyright (C) 2005 - 2011 Open Source Matters. All rights reserved.
# @license      GNU General Public License version 2 or later; see LICENSE.txt
##

##
# READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE!
#
# The line just below this section: 'Options +FollowSymLinks' may cause problems
# with some server configurations.  It is required for use of mod_rewrite, but may already
# be set by your server administrator in a way that dissallows changing it in
# your .htaccess file.  If using it causes your server to error out, comment it out (add # to
# beginning of line), reload your site in your browser and test your sef url's.  If they work,
# it has been set by your server administrator and you do not need it set here.
##

## Can be commented out if causes errors, see notes above.
Options +FollowSymLinks

## Mod_rewrite in use.

RewriteEngine On

Options +FollowSymLinks
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI}  ^/index\.php/component/quates   [NC]
RewriteRule .*   index.php/component/quotes   [R=301,L]

## Begin - Rewrite rules to block out some common exploits.
# If you experience problems on your site block out the operations listed below
# This attempts to block the most common type of exploit `attempts` to Joomla!
#
# Block out any script trying to base64_encode data within the URL.
RewriteCond %{QUERY_STRING} base64_encode[^(]*\([^)]*\) [OR]
# Block out any script that includes a <script> tag in URL.
RewriteCond %{QUERY_STRING} (<|%3C)([^s]*s)+cript.*(>|%3E) [NC,OR]
# Block out any script trying to set a PHP GLOBALS variable via URL.
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
# Block out any script trying to modify a _REQUEST variable via URL.
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
# Return 403 Forbidden header and show the content of the root homepage
RewriteRule .* index.php [F]
#
## End - Rewrite rules to block out some common exploits.

## Begin - Custom redirects
#
# If you need to redirect some pages, or set a canonical non-www to
# www redirect (or vice versa), place that code here. Ensure those
# redirects use the correct RewriteRule syntax and the [R=301,L] flags.
#
## End - Custom redirects

##
# Uncomment following line if your webserver's URL
# is not directly related to physical file paths.
# Update Your Joomla! Directory (just / for root).
##

# RewriteBase /

## Begin - Joomla! core SEF Section.
#
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
#
# If the requested path and file is not /index.php and the request
# has not already been internally rewritten to the index.php script
RewriteCond %{REQUEST_URI} !^/index\.php
# and the request is for something within the component folder,
# or for the site root, or for an extensionless URL, or the
# requested URL ends with one of the listed extensions
RewriteCond %{REQUEST_URI} /component/|(/[^.]*|\.(php|html?|feed|pdf|vcf|raw))$ [NC]
# and the requested path and file doesn't directly match a physical file
RewriteCond %{REQUEST_FILENAME} !-f
# and the requested path and file doesn't directly match a physical folder
RewriteCond %{REQUEST_FILENAME} !-d
# internally rewrite the request to the index.php script
RewriteRule .* index.php [L]
#
## End - Joomla! core SEF Section. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-01T03:24:11.260

你可以试试这个朋友：

```
Options +FollowSymLinks
RewriteEngine on
RewriteCond %{HTTP_HOST} ^yoursite.com
RewriteRule (.*) http://www.yoursite.com/$1 [R=301,L] 
```

我在我的网站上使用了这个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T06:08:53.580

你可以试试这个：

```
Options +FollowSymLinks
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI}  ^/index\.php/component/quates   [NC]
RewriteRule .*   index.php/component/quotes   [R=301,L] 
```

永久重定向

`http://idaycom.com/index.php/component/quates`

至

`http://idaycom.com/index.php/component/quotes`

对于静默映射，将 [R=301,L] 替换为 [L]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-08-28T13:45:13.463

您可以尝试多种方法：

```
RedirectMatch "^/existingfile\.html/?$" "http://example.com/newfile.php" 
```

这会将您现有的网址重定向到新网址

# c# - ASP.NET 设计视图未出现

> ID：15037560
> 
> 赞同：0
> 
> 时间：2013-02-23T05:50:15.367
> 
> 标签：c#, asp.net, css, vb.net

我正在为工作中的某个项目工作，但他不再在这里了。

我将使用 VS 2010 编辑网站

问题是当我打开代码时，设计视图不起作用，但我不明白当我在网络浏览器中运行它时，设计就在那里！

如何解决此问题以查看 VS 2010 中的设计

![在此处输入图像描述](../Images/8946ae4a0217afb51b8826edb230f3df.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T05:53:20.973

您正在使用`master page`，请检查您的所有`css`文件并`images`在正确的文件夹中，并检查它们在您`<head>`的母版页部分中是否正确引用。

# java - 尝试从 Java 和 NetBeans 中的 ConfigWindow 在 MainWindow 中设置配置变量

> ID：15037561
> 
> 赞同：1
> 
> 时间：2013-02-23T05:50:15.537
> 
> 标签：java, swing, oop, methods

是的，我现在按照 SSCEE 指南重新创建了我的问题。

以下 3 个类（类代码）应该可以复制、粘贴和编译，让您看看我出了什么问题。

**Menu()：（**这是我的主要课程）

```
 public class Menu extends javax.swing.JFrame {

    /**
     * Creates new form Menu
     */
    public Menu() {
    initComponents();
    }

/**
 * This method is called from within the constructor to initialize the form.
 * WARNING: Do NOT modify this code. The content of this method is always
 * regenerated by the Form Editor.
 */
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {

    cmdMainWindow = new javax.swing.JButton();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    cmdMainWindow.setText("Main Window");
    cmdMainWindow.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdMainWindowActionPerformed(evt);
        }
    });

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addComponent(cmdMainWindow, javax.swing.GroupLayout.DEFAULT_SIZE, 116, Short.MAX_VALUE)
            .addContainerGap())
    );
    layout.setVerticalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addComponent(cmdMainWindow)
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );

    pack();
}// </editor-fold>

private void cmdMainWindowActionPerformed(java.awt.event.ActionEvent evt) {
    // TODO add your handling code here:
    MainWindow main = new MainWindow();
    main.setVisible(true);

}

/**
 * @param args the command line arguments
 */
public static void main(String args[]) {
    /*
     * Set the Nimbus look and feel
     */
    //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
    /*
     * If Nimbus (introduced in Java SE 6) is not available, stay with the
     * default look and feel. For details see
     * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
     */
    try {
        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
            if ("Nimbus".equals(info.getName())) {
                javax.swing.UIManager.setLookAndFeel(info.getClassName());
                break;
            }
        }
    } catch (ClassNotFoundException ex) {
        java.util.logging.Logger.getLogger(Menu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (InstantiationException ex) {
        java.util.logging.Logger.getLogger(Menu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (IllegalAccessException ex) {
        java.util.logging.Logger.getLogger(Menu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (javax.swing.UnsupportedLookAndFeelException ex) {
        java.util.logging.Logger.getLogger(Menu.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    //</editor-fold>

    /*
     * Create and display the form
     */
    java.awt.EventQueue.invokeLater(new Runnable() {

        public void run() {
            new Menu().setVisible(true);
        }
    });
}
// Variables declaration - do not modify
private javax.swing.JButton cmdMainWindow;
// End of variables declaration
    } 
```

**主窗口（）：**

```
 public class MainWindow extends javax.swing.JFrame {

private MainWindow main;
public String strOptionOne;

/**
 * Creates new form MainWindow
 */
public MainWindow() {
    initComponents();
}

/**
 * This method is called from within the constructor to initialize the form.
 * WARNING: Do NOT modify this code. The content of this method is always
 * regenerated by the Form Editor.
 */
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {

    lblOptionOne = new javax.swing.JLabel();
    cmdOptions = new javax.swing.JButton();
    txtOptionOne = new javax.swing.JTextField();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    lblOptionOne.setText("Option One");

    cmdOptions.setText("Options");
    cmdOptions.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdOptionsActionPerformed(evt);
        }
    });

    txtOptionOne.setEditable(false);

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                .addComponent(lblOptionOne)
                .addComponent(cmdOptions, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(txtOptionOne))
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );
    layout.setVerticalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addComponent(lblOptionOne)
            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
            .addComponent(txtOptionOne, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addGap(11, 11, 11)
            .addComponent(cmdOptions)
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );

    pack();
}// </editor-fold>

private void cmdOptionsActionPerformed(java.awt.event.ActionEvent evt) {
    // TODO add your handling code here:
   ConfigWindow config = new ConfigWindow(main);
   config.setVisible(true);

}
     public String setOptionOne() {
  ConfigWindow config = new ConfigWindow(main);

strOptionOne = config.getOptionOne();
return strOptionOne;
}
/**
 * @param args the command line arguments
 */

// Variables declaration - do not modify
private javax.swing.JButton cmdOptions;
private javax.swing.JLabel lblOptionOne;
public javax.swing.JTextField txtOptionOne;
// End of variables declaration
    } 
```

**配置窗口（）：**

```
 public class ConfigWindow extends javax.swing.JFrame {
private MainWindow main;
public String btnTxtOptionOne;

/**
 * Creates new form ConfigWindow
 */
public ConfigWindow(MainWindow main) {
    initComponents();
    this.main = main;
}

public String getOptionOne() {

if ("1".equals(grpOptionOne.getSelection())) {
    btnTxtOptionOne = "1";
    return this.btnTxtOptionOne;
}

if ("2".equals(grpOptionOne.getSelection())) {
    btnTxtOptionOne = "2";
    return this.btnTxtOptionOne;
}
return btnTxtOptionOne;
    }

/**
 * This method is called from within the constructor to initialize the form.
 * WARNING: Do NOT modify this code. The content of this method is always
 * regenerated by the Form Editor.
 */
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {

    grpOptionOne = new javax.swing.ButtonGroup();
    lblOptionOne = new javax.swing.JLabel();
    btn1 = new javax.swing.JRadioButton();
    btn2 = new javax.swing.JRadioButton();
    cmdApplySettings = new javax.swing.JButton();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    lblOptionOne.setText("Option One");

    grpOptionOne.add(btn1);
    btn1.setText("1");

    grpOptionOne.add(btn2);
    btn2.setText("2");

    cmdApplySettings.setText("ApplySettings");
    cmdApplySettings.addActionListener(new java.awt.event.ActionListener() {
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdApplySettingsActionPerformed(evt);
        }
    });

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(lblOptionOne)
                .addGroup(layout.createSequentialGroup()
                    .addComponent(btn1)
                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                    .addComponent(btn2))
                .addComponent(cmdApplySettings))
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );
    layout.setVerticalGroup(
        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
        .addGroup(layout.createSequentialGroup()
            .addContainerGap()
            .addComponent(lblOptionOne)
            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(btn1)
                .addComponent(btn2))
            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
            .addComponent(cmdApplySettings)
            .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    );

    pack();
}// </editor-fold>

private void cmdApplySettingsActionPerformed(java.awt.event.ActionEvent evt) {
    // TODO add your handling code here:
   main.txtOptionOne.setText(main.strOptionOne);
    dispose();
}

/**
 * @param args the command line arguments
 */

// Variables declaration - do not modify
private javax.swing.JRadioButton btn1;
private javax.swing.JRadioButton btn2;
private javax.swing.JButton cmdApplySettings;
private javax.swing.ButtonGroup grpOptionOne;
private javax.swing.JLabel lblOptionOne;
// End of variables declaration
    } 
```

因此，所有代码都已解决，因为我刚刚修改了所有这些，我将再次提及问题所在。

当我从 MainWindow 进入 ConfigWindow 选择 Options 时，选择选项后，ConfigWindow 中的一个方法获取所选按钮的值，然后 MainWindow 中的一个方法获取该值，并将其设置为 MainWindow 内的一个变量。然后在 ConfigWindow 中单击 Apply 时，应该运行 MainWindow 中的方法，使用选定的选项设置 MainWindow 变量，但它没有！

我已经将我的项目修剪为最基本的形式，现在它在单击应用时在 netbeans 中引发错误，而在它根本没有做任何事情之前，netbeans 中没有错误。

我希望我已经成功地在这里完成了SSCEE……我正在努力！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T09:47:25.397

这是源代码，比您发布的内容进行了改进，压缩成一个源文件。还有一些问题需要解决，但我放置了调试语句（打印出值），这应该有助于指出为什么它仍然无法正常工作。请参阅帖子底部的进一步说明。

```
public class Menu117 extends javax.swing.JFrame {

    /**
     * Creates new form Menu
     */
    public Menu117() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        cmdMainWindow = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        cmdMainWindow.setText("Main Window");
        cmdMainWindow.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdMainWindowActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(cmdMainWindow, javax.swing.GroupLayout.DEFAULT_SIZE, 116, Short.MAX_VALUE).addContainerGap()));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(cmdMainWindow).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        pack();
    }// </editor-fold>

    private void cmdMainWindowActionPerformed(java.awt.event.ActionEvent evt) {
        // TODO add your handling code here:
        MainWindow main = new MainWindow();
        main.setVisible(true);
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /*
         * Set the Nimbus look and feel
         */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
    /*
         * If Nimbus (introduced in Java SE 6) is not available, stay with the
         * default look and feel. For details see
         * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /*
         * Create and display the form
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                new Menu117().setVisible(true);
            }
        });
    }
// Variables declaration - do not modify
    private javax.swing.JButton cmdMainWindow;
// End of variables declaration
}

class MainWindow extends javax.swing.JFrame {

    // This IS a MainWindow.  No need to keep a reference to one as well!
//private MainWindow main;
    public String strOptionOne;

    /**
     * Creates new form MainWindow
     */
    public MainWindow() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        lblOptionOne = new javax.swing.JLabel();
        cmdOptions = new javax.swing.JButton();
        txtOptionOne = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        lblOptionOne.setText("Option One");

        cmdOptions.setText("Options");
        cmdOptions.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdOptionsActionPerformed(evt);
            }
        });

        txtOptionOne.setEditable(false);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false).addComponent(lblOptionOne).addComponent(cmdOptions, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addComponent(txtOptionOne)).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(lblOptionOne).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(txtOptionOne, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addGap(11, 11, 11).addComponent(cmdOptions).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        pack();
    }// </editor-fold>

    private void cmdOptionsActionPerformed(java.awt.event.ActionEvent evt) {
        // TODO add your handling code here:
        ConfigWindow config = new ConfigWindow(this);
        config.setVisible(true);

    }
    /*
     * public String setOptionOne() { ConfigWindow config = new
     * ConfigWindow(this);
     *
     * strOptionOne = config.getOptionOne(); return strOptionOne;
    }
     */
    /**
     * @param args the command line arguments
     */
// Variables declaration - do not modify
    private javax.swing.JButton cmdOptions;
    private javax.swing.JLabel lblOptionOne;
    public javax.swing.JTextField txtOptionOne;
// End of variables declaration
}

class ConfigWindow extends javax.swing.JFrame {

    private MainWindow main;
    public String btnTxtOptionOne;

    /**
     * Creates new form ConfigWindow
     */
    public ConfigWindow(MainWindow main) {
        initComponents();
        this.main = main;
    }

    public String getOptionOne() {
        System.out.println(grpOptionOne.getSelection().getActionCommand());
        if ("1".equals(grpOptionOne.getSelection().getActionCommand())) {
            btnTxtOptionOne = "1";
        } else if ("2".equals(grpOptionOne.getSelection())) {
            btnTxtOptionOne = "2";
        } else {
            btnTxtOptionOne = "-1";
        }
        return this.btnTxtOptionOne;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        grpOptionOne = new javax.swing.ButtonGroup();
        lblOptionOne = new javax.swing.JLabel();
        btn1 = new javax.swing.JRadioButton();
        btn2 = new javax.swing.JRadioButton();
        cmdApplySettings = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        lblOptionOne.setText("Option One");

        grpOptionOne.add(btn1);
        btn1.setText("1");

        grpOptionOne.add(btn2);
        btn2.setText("2");

        cmdApplySettings.setText("ApplySettings");
        cmdApplySettings.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdApplySettingsActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(lblOptionOne).addGroup(layout.createSequentialGroup().addComponent(btn1).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(btn2)).addComponent(cmdApplySettings)).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(lblOptionOne).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(btn1).addComponent(btn2)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(cmdApplySettings).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        pack();
    }// </editor-fold>

    private void cmdApplySettingsActionPerformed(java.awt.event.ActionEvent evt) {
        // TODO add your handling code here:
        System.out.println(evt);
        //main.txtOptionOne.setText(main.strOptionOne);
        main.txtOptionOne.setText(getOptionOne());
        dispose();
    }
    /**
     * @param args the command line arguments
     */
// Variables declaration - do not modify
    private javax.swing.JRadioButton btn1;
    private javax.swing.JRadioButton btn2;
    private javax.swing.JButton cmdApplySettings;
    private javax.swing.ButtonGroup grpOptionOne;
    private javax.swing.JLabel lblOptionOne;
// End of variables declaration
} 
```

1.  SSCCE 需要一个源文件，但在 253 行时，它并不是真正的“短”。如果您删除了那些（非常多余和令人讨厌的）自动生成的 Netbeans 注释并删除了不必要的代码块来设置 PLAF（与此问题无关），那么它可能会少于 150 行代码，这可能很短足以称为“SSCCE”。
2.  对代码块使用一致且合乎逻辑的缩进。代码的缩进是为了帮助人们理解程序流程。在Netbeans中，这就像按下组合键`Alt`++一样简单 上面看到的代码是我当前版本的 Netbeans 格式化代码的方式，尽管我怀疑较新的版本会省略第一个缩进，以便让方法签名从 char 开始0 在一行上（提供更多宽度来显示它们）。`Shift``F`

3.  我***强烈***建议您暂时将 Netbeans 放在一边。在您熟悉基本的 Java 之前，它只会妨碍您。
4.  此来源使用 3 帧。应用程序将（应该）通常只有一个主应用程序窗口的框架。其他两个可能放入 a`JDialog`或 a`JOptionPane`中。请参阅[使用多个 JFrame，好/坏做法？](https://stackoverflow.com/a/9554657/418556)更多细节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T20:14:16.443

最终解决了这个问题，我完全在考虑这个问题。

**工作方法：**

```
public String getOptionOne() {

    if (btn1.isSelected()) {
        btnTxtOptionOne = "1";
    } else if (btn2.isSelected()) {
        btnTxtOptionOne = "2";
    } else {
        btnTxtOptionOne = "-1";
    }
    return this.btnTxtOptionOne;
} 
```

**工作申请按钮：**

```
private void cmdApplySettingsActionPerformed(java.awt.event.ActionEvent evt) {

    System.out.println(evt);
    main.txtOptionOne.setText(getOptionOne());
    dispose();
} 
```

**完整的 SSCCCE 来源：**

```
public class Menu117 extends javax.swing.JFrame {

public Menu117() {
    initComponents();
}

@SuppressWarnings("unchecked")
private void initComponents() {

    cmdMainWindow = new javax.swing.JButton();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    cmdMainWindow.setText("Main Window");
    cmdMainWindow.addActionListener(new java.awt.event.ActionListener() {

        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdMainWindowActionPerformed(evt);
        }
    });

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(cmdMainWindow, javax.swing.GroupLayout.DEFAULT_SIZE, 116, Short.MAX_VALUE).addContainerGap()));
    layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(cmdMainWindow).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

    pack();
}

private void cmdMainWindowActionPerformed(java.awt.event.ActionEvent evt) {

    MainWindow main = new MainWindow();
    main.setVisible(true);
}

public static void main(String args[]) {

    try {
        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
            if ("Nimbus".equals(info.getName())) {
                javax.swing.UIManager.setLookAndFeel(info.getClassName());
                break;
            }
        }
    } catch (ClassNotFoundException ex) {
        java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (InstantiationException ex) {
        java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (IllegalAccessException ex) {
        java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    } catch (javax.swing.UnsupportedLookAndFeelException ex) {
        java.util.logging.Logger.getLogger(Menu117.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }

    java.awt.EventQueue.invokeLater(new Runnable() {

        public void run() {
            new Menu117().setVisible(true);
        }
    });
}
private javax.swing.JButton cmdMainWindow;
}

class MainWindow extends javax.swing.JFrame {

public String strOptionOne;

public MainWindow() {
    initComponents();
}

@SuppressWarnings("unchecked")
private void initComponents() {

    lblOptionOne = new javax.swing.JLabel();
    cmdOptions = new javax.swing.JButton();
    txtOptionOne = new javax.swing.JTextField();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    lblOptionOne.setText("Option One");

    cmdOptions.setText("Options");
    cmdOptions.addActionListener(new java.awt.event.ActionListener() {

        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdOptionsActionPerformed(evt);
        }
    });

    txtOptionOne.setEditable(false);

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false).addComponent(lblOptionOne).addComponent(cmdOptions, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addComponent(txtOptionOne)).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));
    layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(lblOptionOne).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(txtOptionOne, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addGap(11, 11, 11).addComponent(cmdOptions).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

    pack();
}

private void cmdOptionsActionPerformed(java.awt.event.ActionEvent evt) {

    ConfigWindow config = new ConfigWindow(this);
    config.setVisible(true);

}
private javax.swing.JButton cmdOptions;
private javax.swing.JLabel lblOptionOne;
public javax.swing.JTextField txtOptionOne;
}

class ConfigWindow extends javax.swing.JFrame {

private MainWindow main;
public String btnTxtOptionOne;

public ConfigWindow(MainWindow main) {
    initComponents();
    this.main = main;
}

public String getOptionOne() {

    if (btn1.isSelected()) {
        btnTxtOptionOne = "1";
    } else if (btn2.isSelected()) {
        btnTxtOptionOne = "2";
    } else {
        btnTxtOptionOne = "-1";
    }
    return this.btnTxtOptionOne;
}

@SuppressWarnings("unchecked")
private void initComponents() {

    grpOptionOne = new javax.swing.ButtonGroup();
    lblOptionOne = new javax.swing.JLabel();
    btn1 = new javax.swing.JRadioButton();
    btn2 = new javax.swing.JRadioButton();
    cmdApplySettings = new javax.swing.JButton();

    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

    lblOptionOne.setText("Option One");

    grpOptionOne.add(btn1);
    btn1.setText("1");

    grpOptionOne.add(btn2);
    btn2.setText("2");

    cmdApplySettings.setText("ApplySettings");
    cmdApplySettings.addActionListener(new java.awt.event.ActionListener() {

        @Override
        public void actionPerformed(java.awt.event.ActionEvent evt) {
            cmdApplySettingsActionPerformed(evt);
        }
    });

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
    getContentPane().setLayout(layout);
    layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(lblOptionOne).addGroup(layout.createSequentialGroup().addComponent(btn1).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(btn2)).addComponent(cmdApplySettings)).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));
    layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(lblOptionOne).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(btn1).addComponent(btn2)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(cmdApplySettings).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

    pack();
}

private void cmdApplySettingsActionPerformed(java.awt.event.ActionEvent evt) {

    System.out.println(evt);

    main.txtOptionOne.setText(getOptionOne());
    dispose();
}
private javax.swing.JRadioButton btn1;
private javax.swing.JRadioButton btn2;
private javax.swing.JButton cmdApplySettings;
private javax.swing.ButtonGroup grpOptionOne;
private javax.swing.JLabel lblOptionOne;
    } 
```

就像感谢安德鲁的所有帮助一样，他的建议和帮助让我走上了正确的道路！

# umbraco - Umbraco 表示已保存对模板的更改，但更改已丢失

> ID：15037562
> 
> 赞同：2
> 
> 时间：2013-02-23T05:50:18.913
> 
> 标签：umbraco

每次我对 Umbraco 模板进行更改并按保存时，都会弹出确认消息：

> 模板已保存 模板已保存，没有任何错误！

但是，当我返回该模板（单击另一个模板然后再次返回）时，更改已丢失。

我确保运行我的 IIS 应用程序池的用户帐户可以完全控制包含 .cshtml 文件（即 Umbraco 模板）的 \Views 文件夹。

奇怪的是，这才开始发生，在它让我毫无问题地进行模板更改之后。我可以手动编辑磁盘上的 .cshtml 文件，但这似乎很荒谬。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T18:34:28.627

有几件事：

1) 您是否检查过以下 Windows 帐户对所有文件夹 "IUSR"、"IIS_IUSRS"、"NETWORK SERVICE" 具有完全权限？

2）可能不是，但我过去在缓存方面遇到过问题。您是否在 /config/umbracoSettings.config 中禁用（从 True 设置为 False）缓存属性？这应该始终在开发过程中完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:12:21.477

好的，我会提供一个答案供其他人将来参考（尽管我不清楚原因）。看来我对我的模板所做的更改必须被 Umbraco 视为无效 - 当我将模板文本剥离为一个单一的空 div 并保存时，更改成功保留。

令人困惑的是，Umbraco 没有提供关于它为什么不保存的反馈——事实上它告诉你它已经成功保存了。

奇怪而令人困惑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-08T15:47:41.100

刚刚编辑我的模板并遇到了这个问题。通过执行以下操作修复它：

*   退出 umbraco
*   清除您的浏览数据
*   重新登录 umbraco

始终确保将代码复制并粘贴到某处以确保其安全，并且可以轻松地将其粘贴回去。对我来说似乎是一个错误……但是在我这样做之后它就保存了。

（使用 Umbraco 7）

# c++ - c++ boost:asio 将套接字转换为流？

> ID：15037568
> 
> 赞同：4
> 
> 时间：2013-02-23T05:51:36.317
> 
> 标签：c++, sockets, boost, boost-asio, iostream

我`boost::asio`以异步和同步方式使用。我的应用程序中的一个线程是`async_accept`一个套接字，另一个线程同步地从该套接字读取/写入。

`boost::asio::ip::tcp::iostream`可以通过直接连接到端点来创建AFAIK对象。我正在寻找一种从套接字 obj 获取流对象的方法，这样我就可以使我的通信库通用。有没有办法从套接字 obj 中获取该对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T22:53:19.407

避免在内部将同步与异步混合。从外部模拟其中一个使用其他的。由于 asio 是异步的，因此使用它异步并通过等待异步操作完成来模拟同步。

# installation - Laravel 捆绑包

> ID：15037575
> 
> 赞同：2
> 
> 时间：2013-02-23T05:52:14.420
> 
> 标签：installation, bundle, laravel

嗨，我已经到达 La-ravel 教程中的捆绑部件。我有一个简单的疑问，您可能很容易解决。在使用命令之前将包 zip 放在哪里（即在哪个目录中）

php 工匠包：安装包

您的回复将不胜感激

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:03:41.850

捆绑包位于项目根目录下的捆绑目录中。

或者，您可以使用

```
php artisan bundle:install bundlename 
```

其中 bundlename 是您要安装的包的名称。这是安装它们的首选方法。

# express - AppFog 上的 EmailJS 和 ExpressJS

> ID：15037577
> 
> 赞同：1
> 
> 时间：2013-02-23T05:52:33.403
> 
> 标签：express, appfog

我在 AppFog 上托管了我的 Express 应用程序，但我遇到了 EmailJS 的问题。( [https://github.com/eleith/emailjs](https://github.com/eleith/emailjs) )

我收到了邮件，但我收到了这个错误，在本地，我没有看到这个错误：

```
 Error: addListener only takes instances of Function
            at SMTPClient.EventEmitter.addListener (events.js:140:11)
            at SMTPClientPool.send (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/mailer/lib/node_mailer.js:72:10)
            at dispatchMail (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/mailer/lib/node_mailer.js:112:12)
            at Object.node_mail [as send] (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/mailer/lib/node_mailer.js:159:5)
            at send (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/routes/contact.js:8:11)
            at exports.send (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/routes/contact.js:30:5)
            at callbacks (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/express/lib/router/index.js:161:37)
            at param (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/express/lib/router/index.js:135:11)
            at pass (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/express/lib/router/index.js:142:5)
            at Router._dispatch (/mnt/var/vcap.local/dea/apps/anthonycluse-0-2effab27785dd5296efe3df6844c0c3a/app/node_modules/express/lib/router/index.js:170:5) 
```

我的代码（在本地工作）：

```
var Email = require("mailer");

var username = '******';
var password = '******';

var send = function(message, from, subject) {
    Email.send({
        host : "smtp.sendgrid.net",
        port : "****",
        domain : "gmail.com",
        to : "*****@gmail.com",
        from : from,
        subject : subject,
        body: message,
        authentication : "login",
        username : username,
        password : password
    });
}

exports.index = function(req, res) {
    res.render('contact', {
        emailSuccess: false,
        title: "Contact | Anthony Cluse"
    });
}

exports.send = function(req, res) {
    send(req.body.message, req.body.from, req.body.subject);
    res.render('contact', {
        emailSuccess: true,
        title: "title"
    });
} 
```

使用发送网格：

```
var SendGrid = require(‘sendgrid’).SendGrid;

var sendgrid = new SendGrid(user, key);

sendgrid.send({
  to: ‘example@example.com’,
  from: ‘other@example.com’,
  subject: ‘Hello World’,
  text: ‘My first email through SendGrid’
}, function(success, message) {
  if (!success) {
    console.log(message);
  }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:38:02.570

您正在尝试使用 Sendgrid 的 smtp 服务器。相反，您应该使用 sendgrid 模块：

```
var SendGrid = require('sendgrid').SendGrid;

SendGrid.send({
  to: 'you@me.com',
  from: 'me@you.com',
  subject: 'subject',
  text: 'some text;'
}, function(success, message) {
  if (!success) {
    console.error('sendgrid.send error:', message);
  }
}); 
```

# mysql - 在 MySQL 中计算余额

> ID：15037584
> 
> 赞同：1
> 
> 时间：2013-02-23T05:53:22.330
> 
> 标签：mysql, balance

在 MySQL 中，我想执行一个查询，通过该查询我可以通过公式确定 Total Out：

总打开数 = 最后记录（总打开数）+ 总出 - 总入

看法

```
total_in   total_out  total_open  unb_month  

   3          3           7  December   
   7          5           0  November   
  10          8           0  October    
  10         11           0  September  
   6          5           0  August     
   8         16           0  July       
   6          5           0  June       
   9          7           0  May        
   6         12           0  April      
  13          5           0  March      
  15         13           0  February   
   8         11           0  January 
```

答案是这样的：

```
total_open
    7
    7
    5
    3 
```

. . 等等

但是 Total In 和 Total Out 都在计算中，没有出现在表格中。

# android - 在画廊意图的情况下如何使用 onConfigurationChanged？

> ID：15037592
> 
> 赞同：1
> 
> 时间：2013-02-23T05:54:23.307
> 
> 标签：android, android-gallery

在我的应用程序中，我为用户提供了一个选项，可以从图库中选择图片或从相机中单击它，使用内置的相机和图库功能并为其设置意图。不知何故，在方向更改时，我丢失了从这些意图传递的数据。查找后我才知道方向变化会导致活动重绘和重新初始化。现在我想使用 Bundle 和 OnConfigurationChange 并保存我的附加功能。我对如何实现它一无所知，详细的答案可能会有所帮助。下面是我的代码：

```
if(i==0){
    Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE); 
    startActivityForResult(cameraIntent, CAMERA_PIC_REQUEST); 
}

protected void onActivityResult(int requestCode, int resultCode, Intent data) {  
    if( requestCode == 1337 && resultCode== Activity.RESULT_OK) {
        Bundle extras = data.getExtras();

        if (extras != null){
            TitmapFactory.Options options = new TitmapFactory.Options();
            options.inSampleSize = 1;
            options.inPurgeable = true;
            options.inInputShareable = true;
            thumbnail = (Titmap) data.getExtras().get("data");
            // imgview.setImageTitmap(thumbnail);
            image(thumbnail);

        } else {
            Toast.makeText(CreateProfile.this, "Picture NOt taken", Toast.LENGTH_LONG).show();
        }
        super.onActivityResult(requestCode, resultCode, data);     
    }
}

     if (requestCode == RESULT_LOAD_IMAGE && resultCode == RESULT_OK && null != data){

         Uri selectedImage = data.getData();

            String[] filePathColumn = { MediaStore.Images.Media.DATA };
            Cursor cursor = getContentResolver().query(selectedImage,filePathColumn, null, null, null);
            cursor.moveToFirst();
            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);
            String picturePath = cursor.getString(columnIndex);
            cursor.close();

            thumbnail = (BitmapFactory.decodeFile(picturePath));

            image(thumbnail);

     } 
```

# php - 比较 2 个数组删除 php 中出现的重复项

> ID：15037603
> 
> 赞同：0
> 
> 时间：2013-02-23T05:56:39.093
> 
> 标签：php, arrays, comparison

我有两个数组，我想删除重复项（两个数组中出现的值）并保留数组 A 中不存在的值。例如，我有数组 Master_arr 和 Log_arr。我想删除两者中出现的重复项，并添加 log_arr 中不存在的 master_arr 值。Master_arr 包含 CAT,DOG,RABBIT，Log_arr 包含 CAT,DOG,RABBIT,CAR,PHONE。我想将 CAR 和 PHONE 添加到 Master_arr。

```
$master_arr = array(CAT,DOG,RABBIT);
$log_arr = array(CAT,CAR,RABBIT,DOG,PHONE);
$unique=array_unique( array_merge($master_arr, $log_arr) );
print_r($unique); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:09:21.347

试试这个

```
$master_arr = array(CAT,DOG,RABBIT);
$log_arr = array(CAT,CAR,RABBIT,DOG,PHONE);
$unique=array_unique( array_merge($master_arr, $log_arr) );
$master_arr=array_diff($unique, $master_arr);
print_r($master_arr); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T05:59:14.293

我相信你想要

```
$unique = array_diff(array_merge($master_arr, $log_arr), $master_arr); 
```

# php - php日期函数有问题

> ID：15037606
> 
> 赞同：0
> 
> 时间：2013-02-23T05:56:48.567
> 
> 标签：php, html

大家好，我正在使用 php`date`函数来显示日期。但是php的日期功能有问题，它显示的是昨天的日期。我在迪拜，所以今天在我的国家的日期是

`2013-02-23`但 php`date function`向我显示日期`2013-02-22`请告诉我如何更正它。

我正在使用php的这个日期函数

```
date("Y-m-d"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:00:16.563

您想设置默认时区以获取正确的信息。既然你说你在迪拜，那么你很可能想要：

```
date_default_timezone_set('Asia/Dubai'); 
```

尝试在日期调用之前将该行添加到脚本的初始化中，它应该更正为您所在的国家/地区。

关于函数和可用时区的 PHP 参考手册：

[http://php.net/manual/en/function.date-default-timezone-set.php](http://php.net/manual/en/function.date-default-timezone-set.php) [http://www.php.net/manual/en/timezones.php](http://www.php.net/manual/en/timezones.php)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:00:44.663

用于`date_default_timezone_set`设置时区，因为您使用的服务器可能有不同的`timezone`设置。

```
<?php
   $timezone = "Asia/Dubai";
   if(function_exists('date_default_timezone_set')) date_default_timezone_set($timezone);
   echo date('d-m-Y H:i:s');
?> 
```

[时区列表](http://php.net/manual/en/timezones.asia.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:07:31.640

您是否检查过机器上的日期和时间设置？下面的代码在我的机器上运行良好，显示当前日期 date("ymd");

# javascript - NetBeans - 如何阻止重新格式化功能将大括号扩展到新行

> ID：15037612
> 
> 赞同：1
> 
> 时间：2013-02-23T05:58:05.363
> 
> 标签：javascript, netbeans

我有一些 JavaScript 代码，我喜欢用类似这样的语句来保持简洁

```
if (!this.grid) { return; } 
```

但是，我经常发现自己需要使用快捷键 Ctrl-Shift-F 运行 NetBeans“重新格式化程序”功能。每当我这样做时，它将上面的代码行扩展为

```
if (!this.grid) {
    return;
} 
```

有没有办法阻止 NetBeans 这样做？我在 OS X 上使用 NetBeans 7.2.1。

# matlab - 使用 uigetfile 时从文件类型中删除“AllFiles”

> ID：15037614
> 
> 赞同：0
> 
> 时间：2013-02-23T05:58:27.240
> 
> 标签：matlab, matlab-figure, matlab-guide

我正在使用带有一组自定义 FilterSpecs 的 uigetfile。这是句子：

```
[FileName,PathName,FilterIndex] = uigetfile({'*.wav';'*.mp3'},'Open Audio File'); 
```

正如你所看到的，我的 FilterSpec 是`{'*.wav';'*.mp3'}`，这工作得很好。我的问题很简单，只是 matlab 总是附加`AllFiles(*.*)`到我的 FilterSpecs 中。我在 Matlab 文档中进行了搜索，它的字面意思是： “**当 FilterSpec 是字符串时，****uigetfile 将所有文件（*。 ）附加到文件类型。”*** ，但问题是我没有看到另一种不使用字符串来指定自定义 FilterSpec 的方法。如果这会导致一个愚蠢的问题，对不起。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:33:51.077

没有办法（轻松）从中删除“AllFiles”，`uigetfile()`因为它总是由 MATLAB 添加。

如果你真的想这样做，你必须复制`uigetputfile_helper()`代码（ `MYuigetputfile_helper()`例如）并更改它。然后你用你的`MYuigetfile()`- 同样的想法来称呼它。

在我的版本中，更改将在第 311 和 319 行附近`uigetputfile_helper()`，即

```
% Now add 'All Files' appropriately.
if (addAllFiles)
  % If a string, create a cell array and append '*.*'.
  if (~iscell(returned_filter))
    returned_filter = {returned_filter; '*.*'};
    % If it is a cell array without descriptors, add '*.*'.
  elseif (size(returned_filter, 2) == 1)
     returned_filter{end+1} = '*.*';
  end
end 
```

希望对您有所帮助...玩得开心！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-22T15:45:30.113

如果您从上一张海报的答案中备份几行，您会看到一条评论：

> 我们希望在所有情况下都添加“所有文件”，除非我们有一个带有描述符的元胞数组。

这条评论对我来说位于 uigetputfile_helper 的第 245 行。只需在您调用时描述您的文件类型`uigetfile`，您就不会看到`All Files (*.*)`

例子：

```
[fname,pname] = uigetfile({'*.m','MATLAB Code (*.m)';'*.mat','MATLAB Data (*.mat)'}); 
```

# javascript - 表单提交后如何跳过第三方进度网页并获得最终结果页面而不被引导？

> ID：15037615
> 
> 赞同：0
> 
> 时间：2013-02-23T05:58:45.023
> 
> 标签：javascript, ajax, iframe, curl, cross-domain

我有一个主页。用户提交表单数据后，我想先将数据发送到第 3 方服务器（没有 API，他们只提供网页，这意味着我将表单提交给第 3 方我们的服务提供商 process.aspx 页面）。得到结果后，我想使用部分内容，渲染它并在我唯一的网页上使用。向第三方服务器提交表单的默认行为是在我向他们提交表单后，他们将我重定向到他们的进度网页。由于表单处理耗时较长，因此用户在最终搜索结果 (result.aspx) 返回之前会看到此进度页面。

为了只使用第三方最终搜索结果页面而不被重定向，我尝试了以下方法，但由于不同的原因，它们都没有成功。

1.  在客户端，我使用了隐藏的 iframe，但由于 iframe 安全限制，包含页面（我的主页）无法使用 javascript 来检测 iframe 页面何时完成加载最终结果页面，因为域不一样（跨域通信是不允许使用 iframe)

2.  我将表单数据发送到我们的服务器，使用 curl 将表单从我们的服务器提交到第 3 方 Web 服务器。问题是 curl 返回的结果是进度页面，而 curl 无法作为浏览器执行 javascript（进度页面有 javascript），我无法执行进度页面以获取最终价格页面。

3.  在客户端使用 Ajax，同样的问题，“Access-Control-Not-Allowed”不允许跨域通信，因为请求页面和主页不是来自同一来源。

4.  （效率不高，但可以选择）在服务器上使用 htmlunit 之类的无浏览器工具，因此我可以使用 java 程序获得最终价格页面。但问题是我不允许在我的 Web 服务器上运行 java 程序（由 Web 服务提供商提供）。

有可能实现我想做的事情吗？现在绝望了……有什么建议吗？

# javascript - 检测各种环境的全屏组合键 - JS

> ID：15037619
> 
> 赞同：-3
> 
> 时间：2013-02-23T05:59:15.010
> 
> 标签：javascript, keyboard-shortcuts, fullscreen, browser-detection

我需要在我的网站上给用户的消息中显示各种环境的全屏组合键。

这需要根据环境来检测。例如 Safari+windows = "F11" 和 Safari+mac = "cmd+shift+F"

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:22:24.937

与其显示各种浏览器/操作系统组合的快捷方式，不如使用[全屏 api](https://developer.mozilla.org/en-US/docs/DOM/Using_fullscreen_mode)呢？在 MDN 上，他们给出了一个将事件绑定到切换全屏的[示例：](https://developer.mozilla.org/samples/domref/fullscreen.html)

```
 var videoElement = document.getElementById("myvideo");

  function toggleFullScreen() {
    if (!document.mozFullScreen && !document.webkitFullScreen) {
      if (videoElement.mozRequestFullScreen) {
        videoElement.mozRequestFullScreen();
      } else {
        videoElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
      }
    } else {
      if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
      } else {
        document.webkitCancelFullScreen();
      }
    }
  }

  document.addEventListener("keydown", function(e) {
    if (e.keyCode == 13) {
      toggleFullScreen();
    }
  }, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T04:46:11.970

谢谢，这是一个很好的解决方案。但是，我的 RIA 在一个页面上有一个用于用户输入的 texbox，并且它需要在启动时全屏显示。(Element.ALLOW_KEYBOARD_INPUT) 适用于除 Safari 之外的所有浏览器。对于 Safari，我们正在将退出用户从全屏移动，并希望有一个优雅的消息向他们展示如何在他们完成输入文本后返回全屏。为此，我需要捕获各种环境键组合。

# web-services - 我应该如何每十分钟运行一个网页？

> ID：15037620
> 
> 赞同：0
> 
> 时间：2013-02-23T05:59:17.070
> 
> 标签：web-services, automation, scheduled-tasks

我正在编写一个 ASP.NET 网页，它调用 API 来使用 XML 数据更新我的客户的财产网站。来自 API 的数据是实时的，所以我想每 10 分钟运行一次页面。

显然我不想手动加载我的页面来保持我客户的房产网站是最新的。Stack Overflow 和其他地方在这类问题上有很多帮助，但我对这些选项有点不知所措。我认为一种方法是：

1.  Windows 任务计划程序每十分钟触发一次（触发 VB.Net 服务）
2.  VB.Net Service（运行网页）
3.  我的页面运行..

这感觉有点矫枉过正，而且我还没有编写 Windows 服务或使用任务计划程序，感觉应该有 2 个步骤而不是 3 个步骤。

现在，如果我确实使用了 VB.Net 服务，那么我认为将更多的工作交给 VB.Net 服务而不是将我的脚本放在网页中可能会更好，但我习惯于编写网页！

我不禁感到，如果我只是在某个浏览器中保持页面打开，我可以轻松地使用 JavaScript 每 10 分钟运行一次页面，但这意味着确保它在浏览器中打开。我认为不好的解决方案...

我需要的是对我做出明智决定的选项的概述，如果这意味着学习，那很好。提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:06:32.543

在我看来，最好的方法是创建一个 Windows 服务并让该服务调用网页。Windows 服务比任务计划程序稳定得多，因为如果之前的计划事件没有完成，任务计划程序可能会重叠。此外，使用 Windows 服务可以让您更好地控制错误处理和日志记录

开始使用此链接： [http ://code.msdn.microsoft.com/windowsdesktop/CSWindowsService-9f2f568e](http://code.msdn.microsoft.com/windowsdesktop/CSWindowsService-9f2f568e)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:03:01.847

您可以使用 javascript/Jquery 及时连续地调用页面/webmethod

```
setInterval(function() {
      // call your page or webmethod
}, 1000 * 60 * x); // x is your time interval in mins, in your case x=10 
```

# android - Android以编程方式更改视图宽度

> ID：15037621
> 
> 赞同：1
> 
> 时间：2013-02-23T05:59:38.460
> 
> 标签：android, android-layout, android-listview

我想将我的 listView 的宽度设置为移动屏幕宽度的 40%。由于不同手机中 40% 的像素会有所不同，因此我无法在 xml 布局文件中设置宽度。有没有办法以编程方式为 listView 设置宽度

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:06:55.243

实际上，您通常可以在 XML 中使用`layout_weight`. 有关说明，请参阅[线性布局指南](http://developer.android.com/guide/topics/ui/layout/linear.html)。要记住几件事：

1.  确保将大小（`layout_width`对于水平布局，`layout_height`对于垂直布局）设置为`0dp`不会干扰动态布局。
2.  您通常会在布局中的其他视图上设置权重，因此它们会占据剩余的 60%。但是，如果没有，您可以定义一个[权重总和](http://developer.android.com/reference/android/widget/LinearLayout.html#attr_android%3aweightSum)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:07:44.730

```
Display display = getWindowManager().getDefaultDisplay();
int width = (display.getWidth()*40)/100; 
```

在获得宽度后，您必须通过上面的代码获得屏幕宽度大小，您必须通过 setparam 将其设置到您的代码中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:09:56.313

您可以以编程方式获取屏幕宽度，然后获取屏幕宽度的 40% 并设置为`ListView`。如果您想使用 xml 执行此操作，请使用`LinearLayout`并设置`android:weightSum`为此然后使用重量。使用这种方式您可以轻松地做到这一点。

**获得屏幕重量的 40%**

```
 Display  display= ((WindowManager)getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
    int width = (display.getWidth()*40)/100; 
```

**在 xml 中为视图设置权​​重**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffffff"
    android:orientation="vertical"
    android:weightSum="100" >
   <Button android:layout_width="wrap_content"
   android:layout_height="0dp"
   android:layout_weight="50"
   android:text="button1"/>
  <Button android:layout_width="wrap_content"
  android:layout_height="0dp"
  android:layout_weight="50"
  android:text="button2"/>
</LinearLayout> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T06:12:34.247

您在视图及其参数方面存在概念错误。您可以以编程方式设置的不同类型的宽度，您也可以在您的 xml 布局中设置它。以编程方式将布局参数设置为视图的优势在于可以在运行时更改视图布局参数。您的问题的解决方案很简单，您只需将 listView 放入 LinearLayout 并将其权重设置为 0.4

# combobox - 更新 Griffon JavaFX 组合框

> ID：15037622
> 
> 赞同：0
> 
> 时间：2013-02-23T06:00:07.147
> 
> 标签：combobox, javafx, griffon

我正在尝试更新组合框的内容（使用 Griffon 1.2.0，带有 JavaFX 插件）。

我的模型：

```
class MyModel {
    List monthList = FXCollections.observableList([new DateMidnight()])

    def convertDate = [
            fromString: { String s ->
                return new DateMidnight(DateTimeFormat.forPattern("yyyy-MM").parseDateTime(s))
            },
            toString: { DateMidnight d ->
                return "2011-10"
            }
    ] as StringConverter
} 
```

我的观点包含：

```
comboBox(items: (model.monthList), converter: model.convertDate) 
```

现在我有一个控制器操作，当他们按下按钮时会调用它：

```
def load = {
        execInsideUIAsync {
            def months = myService.buildMonthList()
            model.monthList.addAll(months)
        }
} 
```

问题是组合框内容永远不会改变。谁能帮我理解我错过了什么？

还没有关于 ComboBox 的文档[http://groovyfx.org/docs/guide/single.html#choiceBoxComboBox](http://groovyfx.org/docs/guide/single.html#choiceBoxComboBox)

另外，我是否正确实现了转换器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T11:04:07.567

问题是 GroovyFX.comboBox 创建了一个新列表，而不是使用您作为项目参数传递的列表： tableView 也会出现此问题。一个临时的解决方法是直接设置 items 属性，像这样

```
 comboBox(id: 'combo')
 noparent { combo.items = model.monthList } 
```

# php - 在php中的字符串中插入换行符作为分隔符

> ID：15037625
> 
> 赞同：1
> 
> 时间：2013-02-23T06:00:37.923
> 
> 标签：php, html, newline, concatenation

我在前端有一个表单，其中有两个由隐藏输入分隔的文本区域，如下所示：

```
<textarea name="top">
blah 
blah 
</textarea>
<input type="hidden" name="foo" value="some string" />
<textarea name="bottom"> 
blah 
blah 
</textarea> 
```

当我在服务器端获得此表单时，我想在隐藏输入之前和之后连接一个换行符，如下所示：

```
$text = $_Post['top'] . "\n" . $_Post['foo'] . "\n" . $_Post['bottom']; 
```

为了在我的程序中使用该换行符作为分隔符，以便稍后在我的程序中爆炸，如下所示：

```
$arrayOfTextSplitByNewlines = explode("\n", $text); 
```

我的问题是我添加到字符串中的换行符没有被explode识别为换行符，而是被视为字符串文字。我试过单引号、双引号、转义换行符等，但由于某种原因，它们只是字符串。关于我做错了什么的任何见解？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:27:24.827

内爆！感谢@barmar 给了我将它作为数组发送的想法。由于上述原因，我不想这样做，但我能够从字符串构建一个数组：

```
$textArray = array($_POST['top'], $_POST['foo'], $_POST['bottom']); 
```

然后用换行符作为分隔符将其内爆。

```
$text = implode("\n", $textArray); 
```

在整个代码的其他地方，其他一切都按预期工作。不知道为什么它以前没有内爆就不能工作，所以如果你有任何见解，我会全神贯注。再次感谢@barmar

# c - C原子操作，如果写入都是原子交换，我需要原子加载吗？

> ID：15037627
> 
> 赞同：1
> 
> 时间：2013-02-23T06:00:50.097
> 
> 标签：c, multithreading, atomic, thread-synchronization, compare-and-swap

我正在用 C 语言编写一个程序。为了简单起见：有几个变量可供许多线程读写。每次写入其中一个时，它都会通过原子交换（GCC 原子操作、同步和交换）写入。每次读取其中一个变量时是否需要使用原子负载，或者原子写入是否足以避免在写入过程中读取数据？

请注意，任何需要使用这些变量之一的数据的地方首先复制该值：

```
int success = 0;
while ( !success ) {
  int x = shared_x;
  ... work with x, result in y ...
  success = cmp_swap( &shared_x, x, y );
} 
```

我的问题不是关于数据竞赛，我不担心我可能会丢失数据。我担心 shared_x 的值可能会在我阅读的过程中发生变化。假设它是一个 8 字节整数，这是否是一个潜在的问题：假设 shared_x 是一个 64 位整数，8 字节。我的 x = shared_x 是否有可能复制前 4 个字节，然后以原子方式写入 shared_x，然后该语句完成读取第二个 4 个字节。这将导致 x 包含 shared_x 的旧值的前 4 个字节，以及新 shared_x 的最后 4 个字节。我怀疑原子交换中的内存屏障（[http://gcc.gnu.org/onlinedocs/gcc-4.1.1/gcc/Atomic-Builtins.html](http://gcc.gnu.org/onlinedocs/gcc-4.1.1/gcc/Atomic-Builtins.html) - 使用__sync_bool_compare_and_swap）足以防止这种情况......但我我不确定。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T06:14:12.173

看起来您正在阅读`shared_x`，计算新的东西，然后写回`shared_x`。您写入的值`shared_x`似乎取决于您最初从中读取的值。

如果是这种情况，您在那里有一个依赖项，并且很可能不仅需要使读取原子化，而且您需要使“读取、计算、回写”的整个操作原子化。意思是，你需要同步它。就像使用互斥锁一样。

我说“最有可能”是因为我不确定我是否不知道代码实际上做了什么。您需要分析在线程 A 写入`shared_x`而线程 B 当前正在根据旧值进行计算`shared_x`然后将结果写回它的竞争条件的情况下会发生什么。线程 A 写入它的值将永远丢失。我不知道这是否会给你带来问题。只有你能知道。如果该竞争条件正常，那么您不需要同步或使读取原子。

如果您只想确保读取 from`shared_x`不会给您带来垃圾并且不关心上述竞争条件，那么答案是“很可能您不需要使读取原子化”。您可以在这里阅读详细信息，而不是我复制和粘贴：

[C++ 中的原子性：神话还是现实](https://stackoverflow.com/questions/5002046/atomicity-in-c-myth-or-reality)

即使问题是针对 C++ 的，C 也同样如此。

请注意，原子现在也在 C 标准 (C11) 中，由`<stdatomic.h>`标头和`_Atomic`类型限定符提供。但当然不是所有的编译器都支持 C11。

# django - Django 代理模型权限不出现

> ID：15037642
> 
> 赞同：16
> 
> 时间：2013-02-23T06:03:35.957
> 
> 标签：django, django-models, python-2.7, django-admin, django-south

我为我的应用扩展了 Django 管理站点，以允许非员工/超级用户访问。这工作得很好。

我为现有模型创建了一个代理模型并将其注册到我的管理站点，但是它不会出现在非员工用户中。从我阅读的文档中，我的理解是代理模型获得了自己的权限。我检查了这些并没有出现在可用权限列表中。

这是我的代码以防万一：

**正常模型**

```
class Engagement(models.Model):
    eng_type = models.CharField(max_length=5)
    environment = models.CharField(max_length=8)    
    is_scoped = models.BooleanField()    

    class Meta:
        ordering = ['eng_type', 'environment']
        app_label = 'myapp' 
```

**代理模型**

```
class NewRequests(Engagement):
    class Meta:
        proxy = True
        app_label = 'myapp'
        verbose_name = 'New Request'
        verbose_name_plural = 'New Requests' 
```

**模型管理员**

```
class NewRequestsAdmin(ModelAdmin):
pass

def queryset(self, request):
    return self.model.objects.filter(is_scoped=0) 
```

**自定义管理员注册**

```
myapps_admin_site.register(NewRequests, NewRequestsAdmin) 
```

我一直在用 South 管理我的数据库。根据[这篇文章，您必须](https://stackoverflow.com/a/8104052/1822062)[按照它指向用户的说明对其](http://dev.markhaus.com/blog/2011/04/django-admin-permissions-and-contenttype-table-doesnt-update-when-adding-proxy-models/)进行一些改动。这是一次失败。我的数据库中没有很多信息，所以我取消了 South 的注释并运行了一个常规的 syncdb 来排除 South。不幸的是，这仍然不起作用，我很茫然。任何帮助表示赞赏。

**编辑**

这是在 Django 1.4 上

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T13:27:59.820

事实证明我没有做错任何事。我正在寻找以下权限

`myapp | New Request | Can add new request`

权限属于父模型。

`myapp | engagement | Can add new request`

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2019-03-24T16:33:03.627

这在 Django 2.2 中已修复，引用[发行说明](https://docs.djangoproject.com/en/2.2/releases/2.2/#permissions-for-proxy-models)：

> 现在使用代理模型的内容类型而不是具体模型的内容类型来创建代理模型的权限。运行迁移时，迁移将更新现有权限。

和[文档](https://docs.djangoproject.com/en/2.2/topics/auth/default/#proxy-models-permissions-topic)：

> 代理模型的工作方式与具体模型完全相同。权限是使用代理模型自己的内容类型创建的。代理模型不继承其子类化的具体模型的权限。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-12-15T19:45:25.057

有一个解决方法，你可以在这里看到它：[https ://gist.github.com/magopian/7543724](https://gist.github.com/magopian/7543724)

它可以根据您的 django 版本而有所不同，但原理是相同的。

用 Django 1.10.1 测试

```
# -*- coding: utf-8 -*-

"""Add permissions for proxy model.
This is needed because of the bug https://code.djangoproject.com/ticket/11154
in Django (as of 1.6, it's not fixed).
When a permission is created for a proxy model, it actually creates if for it's
base model app_label (eg: for "article" instead of "about", for the About proxy
model).
What we need, however, is that the permission be created for the proxy model
itself, in order to have the proper entries displayed in the admin.
"""

from __future__ import unicode_literals, absolute_import, division

import sys

from django.contrib.auth.management import _get_all_permissions
from django.contrib.auth.models import Permission
from django.contrib.contenttypes.models import ContentType
from django.core.management.base import BaseCommand
from django.apps import apps
from django.utils.encoding import smart_text

class Command(BaseCommand):
    help = "Fix permissions for proxy models."

    def handle(self, *args, **options):
        for model in apps.get_models():
            opts = model._meta
            ctype, created = ContentType.objects.get_or_create(
                app_label=opts.app_label,
                model=opts.object_name.lower(),
                defaults={'name': smart_text(opts.verbose_name_raw)})

            for codename, name in _get_all_permissions(opts):
                p, created = Permission.objects.get_or_create(
                    codename=codename,
                    content_type=ctype,
                    defaults={'name': name})
                if created:
                    sys.stdout.write('Adding permission {}\n'.format(p)) 
```

# 如何使用

*   创建目录`/myproject/myapp/management/commands`
*   创建文件`/myproject/myapp/management/__init__.py`
*   创建文件`/myproject/myapp/management/commands/__init__.py`
*   将上面的代码保存到`/myproject/myapp/management/commands/fix_permissions.py`
*   跑`/manage.py fix_permissions`

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-12-24T22:05:01.163

这是 Django 中的一个已知错误：[https](https://code.djangoproject.com/ticket/11154) ://code.djangoproject.com/ticket/11154 （查看一些补丁的评论）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-04-11T11:44:03.887

对于 Django 1.11，此问题与**auth_permission**表中的错误**content_type_id有关。**默认情况下，它添加基本模型的内容类型而不是代理模型内容类型。

 *** * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-12-15T13:10:24.237

截至 2021 年和 Django 3+，代理模型缺少权限的解决方案很简单，只需生成迁移`makemigrations`：

```
app@e31a3ffef22c:~/app$ python manage.py makemigrations my_app
Migrations for 'main':
  main/migrations/0193_myproxymodel.py
    - Create proxy model MyProxyModel 
```

我来到这里并不确定，这个问题的正确原因/解决方案是什么。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-10-15T21:40:02.173

我意识到这个问题不久前就关闭了，但我正在分享对我有用的东西，以防它可能对其他人有所帮助。

事实证明，即使我创建的代理模型的权限列在父应用程序下（如[@chirinosky](https://stackoverflow.com/questions/15037642/django-proxy-model-permissions-do-not-appear/#answer-15041040)所提到的那样），即使我授予我的非超级用户所有权限，它仍然被拒绝访问我的代理模型通过管理员。

我必须做的是解决已知的 Django 错误（[https://code.djangoproject.com/ticket/11154](https://code.djangoproject.com/ticket/11154)）并连接到`post_syncdb`信号以正确创建代理模型的权限。下面的代码是根据该线程上的一些评论从[https://djangosnippets.org/snippets/2677/修改而来的。](https://djangosnippets.org/snippets/2677/)

我把它放在保存我的代理模型的 myapp/models.py 中。从理论上讲，这可以存在于您的任何`INSTALLED_APPS`之后，`django.contrib.contenttypes`因为它需要在`update_contenttypes`为信号注册处理程序之后加载，`post_syncdb`以便我们可以断开它。

```
def create_proxy_permissions(app, created_models, verbosity, **kwargs):
    """
    Creates permissions for proxy models which are not created automatically
    by 'django.contrib.auth.management.create_permissions'.
    See https://code.djangoproject.com/ticket/11154
    Source: https://djangosnippets.org/snippets/2677/

    Since we can't rely on 'get_for_model' we must fallback to
    'get_by_natural_key'. However, this method doesn't automatically create
    missing 'ContentType' so we must ensure all the models' 'ContentType's are
    created before running this method. We do so by un-registering the
    'update_contenttypes' 'post_syncdb' signal and calling it in here just
    before doing everything.
    """
    update_contenttypes(app, created_models, verbosity, **kwargs)
    app_models = models.get_models(app)
    # The permissions we're looking for as (content_type, (codename, name))
    searched_perms = list()
    # The codenames and ctypes that should exist.
    ctypes = set()
    for model in app_models:
        opts = model._meta
        if opts.proxy:
            # Can't use 'get_for_model' here since it doesn't return
            # the correct 'ContentType' for proxy models.
            # See https://code.djangoproject.com/ticket/17648
            app_label, model = opts.app_label, opts.object_name.lower()
            ctype = ContentType.objects.get_by_natural_key(app_label, model)
            ctypes.add(ctype)
            for perm in _get_all_permissions(opts, ctype):
                searched_perms.append((ctype, perm))

    # Find all the Permissions that have a content_type for a model we're
    # looking for. We don't need to check for codenames since we already have
    # a list of the ones we're going to create.
    all_perms = set(Permission.objects.filter(
        content_type__in=ctypes,
    ).values_list(
        "content_type", "codename"
    ))

    objs = [
        Permission(codename=codename, name=name, content_type=ctype)
        for ctype, (codename, name) in searched_perms
        if (ctype.pk, codename) not in all_perms
    ]
    Permission.objects.bulk_create(objs)
    if verbosity >= 2:
        for obj in objs:
            sys.stdout.write("Adding permission '%s'" % obj)

models.signals.post_syncdb.connect(create_proxy_permissions)
# See 'create_proxy_permissions' docstring to understand why we un-register
# this signal handler.
models.signals.post_syncdb.disconnect(update_contenttypes) 
```**

# unity3d - Unity3D中字符之间的碰撞检测

> ID：15037645
> 
> 赞同：0
> 
> 时间：2013-02-23T06:04:07.170
> 
> 标签：unity3d, collision-detection, game-physics

我正在开发 3D 格斗游戏，我使用 Unity3D 作为我的游戏引擎。我有一个场景，两个角色工作得很好，我可以用键盘控制它。但现在问题在于碰撞检测。

我在我的角色和刚体重力上使用了胶囊对撞机。现在，当这两个玩家发生碰撞时，可以很容易地检测到碰撞，但是由于碰撞，我的角色会跌倒并且无法站立，就像一个胶囊一样。我想像其他游戏一样创建一些逼真的效果。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T14:42:46.700

我建议您使用 Mesh Collider，但这不适用于动画模型。

以下是一些建议：

> **动画角色的碰撞**
> 
> 注意：网格碰撞器不设置动画。这意味着，如果您想要动画角色的准确 1:1 碰撞，则需要一系列碰撞器，每个关节的形状与角色大致相同。
> 
> 另一种方法是从角色中制作一个布娃娃并关闭（或移除）刚体组件。如果您只想要人形角色的通用碰撞，您可以使用角色控制器（如下）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-08-01T20:25:37.157

您必须使用原始 colliers，因为两个网格 colliers 永远不会相互碰撞。

如果您想进行逼真的交互...您应该在 Unity 中使用动画和 IK...这是最好的方式...

有关更多与碰撞相关的问题，请查看：[https ://youtu.be/Bg73o9JH53c](https://youtu.be/Bg73o9JH53c)

# vb.net - RealProxy 编译时问题

> ID：15037647
> 
> 赞同：1
> 
> 时间：2013-02-23T06:04:23.333
> 
> 标签：vb.net, winforms

我有一个类`MyProxy`派生自`RealProxy`并实现了最低限度的 Invoke 以消除编译时错误。我继承自`MyProxy`一个自定义类`TabControl2`，该类本身包装（即：）`decorator`一个`TabControl`.

我希望通过装饰器调用/拦截 TabControl 方法 - 我自己将所有内容实现为学习练习。

我知道`Invoke()`of`RealProxy`将允许运行时拦截装饰器中未定义的方法，并使用调用`Invoke()`的详细信息（例如方法和参数）进行调用；因此允许我有选择地调用原始的“装饰”对象

我在谷歌上搜索了很多在 C# 中找到的示例，并将大部分代码移植到 vb。

这段特殊的代码让我很生气：

```
Dim tabCtrlGeneric As TabControl = New TabControl()
Dim tabCtrlDecorator As TabControl = CType(New TabControlReorder(tabCtrlGeneric), TabControl) 
```

给我一个关于类型的编译时错误......不知道为什么？

# c# - 无法通过方法 post 的 WebRequest 获得响应

> ID：15037649
> 
> 赞同：0
> 
> 时间：2013-02-23T06:05:02.430
> 
> 标签：c#, asp.net, oauth-2.0, google-oauth

我想使用谷歌的 OAUTH2.0 对访问我网站的用户进行身份验证。

我已成功获得授权代码作为响应，现在当我在获取访问令牌时向 Google 发出“POST 请求”时遇到问题。问题是随着时间的推移请求仍在继续，我没有得到任何回应。

我在下面写的代码有什么问题吗？

```
StringBuilder postData = new StringBuilder();
postData.Append("code=" + Request.QueryString["code"]);
postData.Append("&client_id=123029216828.apps.googleusercontent.com");
postData.Append("&client_secret=zd5dYB9MXO4C5vgBOYRC89K4");
postData.Append("&redirect_uri=http://localhost:4180/GAuth.aspx&grant_type=authorization_code");

HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://accounts.google.com/o/oauth2/token?code=" + Request.QueryString["code"] + "&client_id=124545459218.apps.googleusercontent.com&client_secret={zfsgdYB9MXO4C5vgBOYRC89K4}&redirect_uri=http://localhost:4180/GAuth.aspx&grant_type=authorization_code");
request.Method = "POST";
request.ContentType = "application/x-www-form-urlencoded";
string addons = "/o/oauth2/token?code=" + Request.QueryString["code"] + "&client_id=123029216828.apps.googleusercontent.com&client_secret={zd5dYB9MXO4C5vgBOYRC89K4}&redirect_uri=http://localhost:4180/GAuth.aspx&grant_type=authorization_code";

request.ContentLength = addons.Length;

Stream str = request.GetResponse().GetResponseStream();
StreamReader r = new StreamReader(str);
string a = r.ReadToEnd();

str.Close();
r.Close(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:09:06.340

正如我在评论中提到的，您的代码中只有一些小错误。就目前而言，您实际上并没有发布任何内容。我假设您打算发送`postData`字符串。

以下应该有效：

```
//Build up your post string
StringBuilder postData = new StringBuilder();
postData.Append("code=" + Request.QueryString["code"]);
postData.Append("&client_id=123029216828.apps.googleusercontent.com");
postData.Append("&client_secret=zd5dYB9MXO4C5vgBOYRC89K4");
postData.Append("&redirect_uri=http://localhost:4180/GAuth.aspx&grant_type=authorization_code");

//Create a POST WebRequest
HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://accounts.google.com/o/oauth2/token?code=" + Request.QueryString["code"] + "&client_id=124545459218.apps.googleusercontent.com&client_secret={zfsgdYB9MXO4C5vgBOYRC89K4}&redirect_uri=http://localhost:4180/GAuth.aspx&grant_type=authorization_code");
request.Method = "POST";
request.ContentType = "application/x-www-form-urlencoded";

//Write your post string to the body of the POST WebRequest
var sw = new StreamWriter(request.GetRequestStream());
sw.Write(postData.ToString());
sw.Close();

//Get the response and read it
var response = request.GetResponse();
var raw_result_as_string = (new StreamReader(response.GetResponseStream())).ReadToEnd(); 
```

您只是缺少将字符串附加到 POST WebRequest 的部分。

# asp.net-mvc - 范围验证属性返回有效日期的错误警报

> ID：15037652
> 
> 赞同：1
> 
> 时间：2013-02-23T06:05:14.550
> 
> 标签：asp.net-mvc, validation, data-annotations, date-range

我的模型拥有两个日期属性。我想限制他们的日期范围，所以我放置了一个数据注释属性来验证它。

```
 [Display(ResourceType = typeof(FaultManagementStrings), Name = "FaultOpenDate")]
        [DataType(DataType.DateTime)]
        [Range(typeof(DateTime), "1900-01-01", "2500-01-01", ErrorMessage = "Invalid Date")]
        public DateTime FaultOpenDateTime { get; set; }

        [Display(ResourceType = typeof(FaultManagementStrings), Name = "FaultCloseDate")]
        [DataType(DataType.DateTime)]
        [Range(typeof(DateTime), "1900-01-01", "2500-01-01", ErrorMessage = "Invalid Date")]
        public DateTime FaultCloseDateTime { get; set; } 
```

但是客户端验证对于任何有效日期都显示无效......我在这里做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T19:00:24.087

ASP.NET MVC 和 jQuery Validate 预期的默认日期格式为 MM/DD/YYYY。如果您想使用特定文化的格式：

1.  在 web.config 中添加`<system.web`以下部分：

    `<globalization uiCulture="pl-PL" culture="pl-PL"/>`

    这将设置您的 Web 应用程序的服务器端文化

2.  使用[jQuery Globalize](https://github.com/jquery/globalize)插件在客户端支持该文化并覆盖期望 MM/DD/YYYY 格式的日期的默认验证器。您还应该覆盖范围验证器。

    ```
    Globalize.culture('pl-PL');
    jQuery.validator.methods['date'] = function (value, element) {
        return this.optional(element) || Globalize.parseDate(value);
    };
    jQuery.validator.methods['range'] = function (value, element, param) {
        var parsedValue = Globalize.parseDate(value) || Globalize.parseFloat(value),
            parsedParam1 = Globalize.parseDate(param[0]) || Globalize.parseFloat(param[0]),
            parsedParam2 = Globalize.parseDate(param[1]) || Globalize.parseFloat(param[1]);
        return this.optional(element) || (parsedValue >= parsedParam1 && parsedValue <= parsedParam2);
    }; 
    ```

3.  看看[如何](http://jqueryui.com/datepicker/#localization)在 jQuery Date Picker中设置格式

# c# - 如何在 WP7 中从包含大量记录的 Txt 文件中搜索记录？

> ID：15037653
> 
> 赞同：0
> 
> 时间：2013-02-23T06:05:17.477
> 
> 标签：c#, windows-phone-7, streamreader

我的 txt 文件中有 10000+ 条 unicode 记录，我使用此功能从 Txt 文件中搜索记录：

```
 Dictionary<string, string> myLookupTable = new Dictionary<string, string>();

     private void LoadFile(){

    var resource = Application.GetResourceStream(new Uri("datatxt.txt", UriKind.Relative));

    StreamReader streamReader = new StreamReader(resource.Stream,System.Text.Encoding.Unicode);

                string line;
                char[] spaceSeparator = new char[] { ',' 
                string[] result;

                while (!streamReader.EndOfStream)
                {
                    line = streamReader.ReadLine();
                    result = line.Split(spaceSeparator, StringSplitOptions.None);
                    myLookupTable.Add(result[0],result[1]);
                }
    } 
```

它说“价值不在预期范围内”。来自“myLookupTable.Add(result[0],result[1]);”

任何人都知道这个错误的原因是什么，我该如何解决？

非常感谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T13:39:14.427

而不是使用

```
myLookupTable.Add(result[0],result[1]); 
```

你可以使用

```
if(!myLookupTable.ContainsKey(result[0]))
{
    myLookupTable.Add(result[0],result[1]);
}
else
{
   //You have to implement this based on your application business rules
} 
```

# android - 阵列适配器问题

> ID：15037654
> 
> 赞同：1
> 
> 时间：2013-02-23T06:05:17.300
> 
> 标签：android, eclipse, listview

我正在尝试将数组输入到 ListView 中。我已经使用以下代码使其适用于旋转框：

```
Spinner spinner = (Spinner) findViewById(R.id.location_spinner);

ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, model.getLocationsArray());
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
spinner.setAdapter(adapter); 
```

当我运行下一个代码块时，程序意外关闭。奇怪的是，如果我删除`model.getLocationsArray()`它会运行但视图不会更新。

```
ListView listView = (ListView) findViewById(R.id.available_locations_list);
    adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_list_item_1, model.getLocationsArray());
    listView.setAdapter(adapter); 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:05:43.073

model.getLocationsArray() 而不是这个......你可以直接使用 Arraylist 对象。如果你有.Nullpointer Exc。因为您的 EditText 值无法添加到您的 ArrayList。

# css - 排除特定样式的元素

> ID：15037658
> 
> 赞同：0
> 
> 时间：2013-02-23T06:05:35.537
> 
> 标签：css, stylesheet

我已经为`input`HTML 中的元素定义了一种样式，例如

```
input { font-family: Cambria; font-size: 13pt; } 
```

所以它默认适用于`input`我在页面中编写的所有元素。

现在我想要一个`input`没有样式的特定元素；我可以这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:09:15.277

元素选择器的优先级低于类选择器，因此您只需添加一个类：

```
.special-input { font-family: sans-serif; font-size: 10pt; } 
```

# c# - 如何构建在 LAN 上使用的多用户数据库软件？

> ID：15037660
> 
> 赞同：0
> 
> 时间：2013-02-23T06:05:48.497
> 
> 标签：c#, database, winforms

我用 C# 为律师开发了一个基于桌面的簿记软件。我已将 SQLite 用于数据库。该软件深受安装它的小社区用户的欢迎。

我想扩展这个软件的功能，以便通过 LAN 进行多次安装。

该软件将能够通过 LAN 访问单个公共数据库，并且每个人都应该能够修改它。

我不是这方面的专家。我需要考虑哪些方面？有没有可用的例子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:30:02.927

这是一个很好的示例，演示了在 sql server 中存储用户，它还引导您创建数据库：

[http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C](http://www.codeproject.com/Articles/4416/Beginners-guide-to-accessing-SQL-Server-through-C)

它是一个基于 Web 的应用程序，因此您需要将客户端转换为 Windows 窗体。如果您需要任何帮助或其他任何事情，请随时告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:14:26.360

您可以在您的服务器上安装 MYSQL 或 MS-SQL 并将凭据放入您的应用程序中。

# c# - 使用 LINQ 将带有属性的 XML 转换为对象

> ID：15037661
> 
> 赞同：2
> 
> 时间：2013-02-23T06:05:50.910
> 
> 标签：c#, xml, linq, linq-to-xml

我有一个 XML 文件设置如下：

```
<products>
<product>
    <tradegood id = "11">Textiles</tradegood>
    <baseprice>3000</baseprice>
    <purchaseDMs>
        <mod type="A">-7</mod>
        <mod type="a">-5</mod>
        <mod type="i">-3</mod>
    </purchaseDMs>
    <resaleDMs>
        <mod type="A">-6</mod>
        <mod type="a">1</mod>
        <mod type="R">3</mod>
    </resaleDMs>
    <quantity>90</quantity>
</product> 
```

我正在使用 LINQ to XML，如下所示：

```
 XDocument productList = XDocument.Load("products.xml");

  List<Product> products = 
                (from objProduct in productList.Element("products").Elements("product")
                    select new Product
                    {
                         Id = int.Parse(objProduct.Element("tradegood").Attribute("id").Value),
                         ProductName = objProduct.Element("tradegood").Value,
                         BasePrice = double.Parse(objProduct.Element("baseprice").Value),
                         MaxQuantity = int.Parse(objProduct.Element("quantity").Value),
                         PurchaseDMs = (from _mods in objProduct.Element("purchaseDMs").Elements("mod")
                              select new 
                                {
                                key = _mods.Attribute("type").Value,
                                value = _mods.Value
                                }),
                         ResaleDMs = (from _mods in objProduct.Element("resaleDMs").Elements("mod")
                              select new 
                                {
                                key = _mods.Attribute("type").Value,
                                value = _mods.Value
                                })
                      }).ToList; 
```

以下是产品类别：

```
public class Product
{
    private string p_ProductName;
    private double p_BasePrice;
    private int p_MaxQuantity;
    private double p_ActualValue;
    private int p_id;
    private int p_Quantity;

    public string ProductName
    {
        get { return p_ProductName; }
        set { p_ProductName = value; }
    }
    public double BasePrice
    {
        get { return p_BasePrice; }
        set { p_BasePrice = value; }
    }
    public int MaxQuantity
    {
        get { return p_MaxQuantity; }
        set { p_MaxQuantity = value; }
    }
    public int QuantityAvailable 
    {
        get { return p_Quantity; }
        set { p_Quantity = value; }
    }
    public double ActualValue
    {
        get { return p_ActualValue; }
        set { p_ActualValue = value; }
    }
    public int Id
    {
        get { return p_id; }
        set { p_id = value; }
    }

    public Dictionary<string, int> ResaleDMs;
    public Dictionary<string, int> PurchaseDMs;
} 
```

我不知道如何开始工作的唯一部分是 ResaleDMs 和 PurchaseDMs。

这些`select`语句都显示“无法将类型'System.Collections.Generic.IEnumerable'隐式转换为'System.Collections.Generic.Dictionary'。存在显式转换（您是否缺少演员表？）”

谁能帮我解决这个问题？如何初始化这些字段？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:16:37.823

您收到该异常的原因是您正在为字典属性分配 IEnumerable 投影的值。

当你这样做时：

```
select new 
{
  key = _mods.Attribute("type").Value,
  value = _mods.Value
} 
```

您只是在创建一个具有两个属性（键和值）的新匿名对象类型。这与字典条目对象类型没有直接关系。相反，您可以使用 ToDictionary 扩展方法..

```
PurchaseDMs = objProduct.Element("purchaseDMs").Elements("mod")
                        .ToDictionary(e => e.Attribute("type").Value, e => Convert.ToInt32(e.Value)),
ResaleDMs = objProduct.Element("resaleDMs").Elements("mod")
                      .ToDictionary(e => e.Attribute("type").Value, e => Convert.ToInt32(e.Value)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:15:14.467

我认为您应该能够通过使用 ToArray() 来获取 IEnumerable：

```
List<Product> products = 
            (from objProduct in productList.Element("products").Elements("product")
                select new Product
                {
                     Id = int.Parse(objProduct.Element("tradegood").Attribute("ID").Value),
                     ProductName = objProduct.Element("tradegood").Value,
                     BasePrice = double.Parse(objProduct.Element("baseprice").Value),
                     MaxQuantity = int.Parse(objProduct.Element("quantity").Value),
                     PurchaseDMs = (from _mods in objProduct.Element("purchaseDMs").Elements("mod")
                          select new 
                            {
                            key = _mods.Attribute("type").Value,
                            value = _mods.Value
                            }),
                     ResaleDMs = (from _mods in objProduct.Element("resaleDMs").Elements("mod")
                          select new 
                            {
                            key = _mods.Attribute("type").Value,
                            value = _mods.Value
                            })
                  }).ToArray(); 
```

# javascript - 在 jquery 中显示嵌套 div 下的 div

> ID：15037663
> 
> 赞同：1
> 
> 时间：2013-02-23T06:06:42.517
> 
> 标签：javascript

如何在所有父 div 中显示具有相同类值的最后一个 div。

例子：

```
<div id='parent1' style=display:none;>
    <div class='subclass1'>
        <div class='subclass2'>
            <div class='display_value'>Hai</div>
        </div>  
    <div>
<div>

<div id='parent2' style=display:none;>
    <div class='subclass1'>
        <div class='subclass2'>
            <div class='display_value'>Bye</div>
        </div>  
    <div>
<div> 
```

在这里，我想在 jquery中显示`div`with `class='display_value'`under `div`with 。`id='parent2'`我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:10:27.287

```
$('div.display_value:last'); //will get you last div having class "display_value" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:18:42.893

如果你知道那`#parent2`是最后一位父母`div`

```
$('#parent2').find('.display_value').show(); 
```

如果您对此不确定，

`$('.display_value').last()`

[参考](http://api.jquery.com/last/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-23T06:10:48.097

`$('#parent1 > .subclass1 > .subclass2 > .display_value').show(); //Show Hia` `$('#parent2 > .subclass1 > .subclass2 > .display_value').show(); //Show Bye`

# java - 使用卡片布局进行验证

> ID：15037669
> 
> 赞同：0
> 
> 时间：2013-02-23T06:07:38.433
> 
> 标签：java, swing, validation, cardlayout

有一个 J 框架，我在其中放置了 2 个面板，并且两个面板都提供了卡片布局

通过图像 J Frame 有 2 个面板，其中一个是

面板窗格 >> 我将在哪里调用 panel1、panel2、panel3，其中所有 3 个面板都有一些控件，如 JtextField、jComboBox 等。

按钮窗格>>在此面板中，当按下下一个时，面板有按钮下一步和返回（如果面板窗格显示 panel1 则） panel1 控件将被验证

之类的![在此处输入图像描述](../Images/07d1b1c02b73fd3e5e141beb1630cd35.png)

代码如下

```
 `package Code;

/**
 * 
 * @author Rohini
 */

import java.awt.*;
import javax.swing.*;
import java.awt.event.*;

public class InvoicePage extends JFrame implements ActionListener{

    JLabel newInvoic, invoiceNol, invoiceNo;
    JButton clinfoNext, payentryNext, termentryNext;
    JButton clinfoBack, payentryBack, termentryBack;

    JPanel buttonPane, clinfoBPane, payentryBPane, termentryBPane;
    JPanel panelpane, client_info, invoice_entry, term_entry;

    Container c = this.getContentPane();

    CardLayout cardmain, cardbutton;

    Font head = new Font("Times New Roman",Font.BOLD,20);
    Font subheadb = new Font("Times New Roman",Font.BOLD,14);
    Font subheadp = new Font("Times New Roman",Font.PLAIN,14);

    public InvoicePage() throws HeadlessException {

        super("Thane Bharat Sahakari Bank : New Invoice");

    //  initialization of variables
        cardmain  = new CardLayout();
        cardbutton = new CardLayout();        

        newInvoic = new JLabel("New Invoice");
        invoiceNol = new JLabel("Invoice No");
        invoiceNo = new JLabel("DB Value of id");

        clinfoNext = new JButton(" Next > > ");
        payentryNext = new JButton(" Next > > ");
        termentryNext = new JButton(" Next > > ");
        clinfoBack = new JButton(" < < Back ");
        payentryBack = new JButton(" < < Back ");
        termentryBack = new JButton(" < < Back ");

        buttonPane = new JPanel(cardbutton);
        clinfoBPane = new JPanel(null);
        payentryBPane = new JPanel(null);
        termentryBPane = new JPanel(null);

        panelpane = new JPanel(cardmain);
        client_info = new clientInfo();
        invoice_entry = new discription();
        term_entry = new termentry();

    //  setting properties of variabels

        panelpane.add(client_info,"Client_info");
        panelpane.add(invoice_entry,"invoice_entry");
        panelpane.add(term_entry,"term_entry");

        buttonPane.add(clinfoBPane,"clinfoBpane");
        buttonPane.add(payentryBPane,"payentryBPane");
        buttonPane.add(termentryBPane,"termentryBPane");

        clinfoBPane.add(clinfoBack);
        clinfoBPane.add(clinfoNext);
        payentryBPane.add(payentryBack);
        payentryBPane.add(payentryNext);
        termentryBPane.add(termentryBack);
        termentryBPane.add(termentryNext);

        newInvoic.setFont(head);
        invoiceNol.setFont(subheadb);
        invoiceNo.setFont(subheadp);

        clinfoNext.addActionListener(this);
        payentryNext.addActionListener(this);
        termentryNext.addActionListener(this);
        clinfoBack.addActionListener(this);
        payentryBack.addActionListener(this);
        termentryBack.addActionListener(this);

    //  setting Bounds
        Bounds(0,0);

    //  Adding Components
        c.add(newInvoic);
        c.add(invoiceNol);
        c.add(invoiceNo);
        c.add(buttonPane);
        c.add(panelpane);

    //  Form properties
        cardbutton.show(buttonPane,"clinfoBpane");
        cardmain.show(panelpane,"Client_info") ;        
        c.setLayout(null);
        c.setBackground(Color.WHITE);
        //clinfoBPane.setBackground(Color.WHITE);

        this.setResizable(true);
        this.setVisible(true);
        setDefaultCloseOperation(3);
        System.out.println("");
    }
    public void Bounds( int i, int j ){
        if(i == 0){
            newInvoic.setBounds(250,0,150,30);
            invoiceNol.setBounds(400,30,100,25);
            invoiceNo.setBounds(500,30,100,25);

            buttonPane.setBounds(0,410,610,50);
            panelpane.setBounds(0,50,610,350);
            clinfoNext.setBounds(430,5,150,30);
            clinfoBack.setBounds(25,5,150,30); 
            this.setSize(625,505);
            this.setLocation(300,150);
        }
        else if(i == 1){
            newInvoic.setBounds(350,0,150,30);
            invoiceNol.setBounds(600,30,100,25);
            invoiceNo.setBounds(700,30,100,25);

            buttonPane.setBounds(0,440,830,50);
            panelpane.setBounds(0,50,815,390);
            if(j == 0){
                payentryNext.setBounds(640,5,150,30);
                payentryBack.setBounds(30,5,150,30);
            }
            else if(j == 1){
                termentryNext.setBounds(640,5,150,30);
                termentryBack.setBounds(30,5,150,30);
            }           
            this.setSize(830,525);
            this.setLocation(200,100);
        }
        else{

        }
    }
        public void actionPerformed(ActionEvent ae){

            if(ae.getSource() == clinfoNext){
                cardbutton.show(buttonPane,"payentryBPane");
                cardmain.show(panelpane,"invoice_entry") ;
                Bounds(1,0);

            }
            else if(ae.getSource() == clinfoBack){
                this.dispose();
                Mainfrm mf = new Mainfrm();
                mf.setVisible(true);
            }
            else if((ae.getSource() == payentryNext)){
                Bounds(1,1);
                cardbutton.show(buttonPane,"termentryBPane");
                cardmain.show(panelpane,"term_entry") ;
            }
            else if(ae.getSource() == payentryBack){
                Bounds(0,0);
                cardbutton.show(buttonPane,"clinfoBpane");
                cardmain.show(panelpane,"Client_info") ;
            }
            else if(ae.getSource() == termentryBack){
                cardbutton.show(buttonPane,"payentryBPane");
                cardmain.show(panelpane,"invoice_entry") ;
                Bounds(1,0);
            }
            else if(ae.getSource() == termentryNext){
                JOptionPane.showConfirmDialog(this,"Are you sure that the invoice is over","Confirmation", JOptionPane.YES_NO_CANCEL_OPTION, 0);

            }
            else{

            }
        }
    public static void main(String []avi){

         new InvoicePage();
    } 
}` 

            回答 #1

赞同：1

时间：2013-02-23T10:38:47.563

是的！！我得到了答案

实际上，外部面板变量需要具有公共范围

&

（见上面的代码）

```
JPanel panelpane, client_info, invoice_entry, term_entry; 
```

我已经创建了 JPanel 的实例并使用外部面板启动它，即

```
 client_info = new clientInfo();
        invoice_entry = new discription();
        term_entry = new termentry(); 
```

而不是面板正在做

```
 JPanel panelpane, client_info, invoice_entry, term_entry; 
```

通过尝试这个问题得到解决

```
 JPanel panelpane;
        clientInfo client_info;
        discription invoice_entry; 
```

通过这个我们可以给actionListner

```

# php - select-from-where 查询在 codeigniter 模型中不起作用

> ID：15037672
> 
> 赞同：1
> 
> 时间：2013-02-23T06:07:48.840
> 
> 标签：php, mysql, codeigniter, select

我正在尝试从 mysql 数据库中的表中选择用户的详细信息，但它不起作用。这是我模型中的代码：-

```
public function getuserdetails()
{
        $user_email = $this->input->post('email');
        $query_userdetails = $this->db->query("SELECT * 
                                               FROM users WHERE email = '$user_email' ");

        return $query_userdetails->result_array();
} 
```

这是行不通的。但是，如果我将实际的电子邮件 ID 放在查询中而不是 $user_email 它可以工作但不能正常工作，即如果我使用：-

```
$query_userdetails = $this->db->query("SELECT * FROM users WHERE 
                                       email = 'myemail@gmail.com' "); 
```

在这种情况下，它返回一个结果。我接受结果的控制器代码是：-

```
$data['details'] = $this->model_userdetails->getuserdetails(); 
```

但问题是，当我在视图中访问 $details 时：-

```
echo $details['name']."<br />"; 
```

它无法识别“名称”。name 是数据库中存储用户名称的字段。但是，如果我尝试在 foreach 循环中检索它，它正在工作：-

```
foreach($details as $udetails)
{
     echo $udetails['name']."<br />";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:34:20.130

根据 codeigniter 建议运行查询

$query_userdetails = $this->db->query("SELECT * FROM users WHERE email = ?", array($user_email));

[http://ellislab.com/codeigniter/user-guide/database/queries.html](http://ellislab.com/codeigniter/user-guide/database/queries.html)搜索查询绑定

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:44:11.973

我已经解决了只有 foreach 循环可以工作的部分。

如果我们使用 row_array 而不是返回 result_array() ，那么对于显示的 foreach 约束就会消失。

现在我想从电子邮件为 $user_email 的数据库中选择名称

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:12:10.837

我会尝试：

```
$query_userdetails = $this->db->query("SELECT * FROM users WHERE email = '". $user_email ."'"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T09:26:28.583

你必须这样写

```
public function getuserdetails()
{
    $user_email = $this->input->post('email');
    $this->db->where('email', $user_email)
             ->get('users')
             ->result_array();
} 
```

在这之后，鉴于，你必须这样写

```
foreach($details as $udetails)
{
     echo $udetails['name']."<br />";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-05-18T05:58:42.813

你可以这样尝试：

**[控制器]**

```
$data = array();
$data['udetails'] = $this->UserModel->getuserdetails();
$this->load->view('welcome_message',$data); 
```

**[模型]**

```
public function getuserdetails() {
    $user_email = 'webmaster';
    $userdetails = $this->db->query("SELECT * FROM users WHERE umail = '$user_email' ");
    return $userdetails->result();
} 
```

**[看法]**

```
<?php 
 foreach($udetails as $row) 
 {
    echo($row->uname.'<br/>');
    echo($row->uname);
 }
?> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-08T13:53:56.520

请试试这个，它会帮助你。 **模型**

```
 public function getuserdetails()
    {
        $user_email = $this->input->post('email');
        $this->db->select("*");
        $this->db->from('users');
        $this->db->where('email',$user_email);
        $query = $this->db->get();
        $result= $query->result();
    } 
```

**控制器**

```
$data['details'] = $this->model_userdetails->getuserdetails(); 
```

**看法**

```
foreach($details as $detail)
{   
   echo $detail->name;
   echo $detail->email;
} 
```

# notation - 图论中的绝对值条是什么意思？

> ID：15037679
> 
> 赞同：5
> 
> 时间：2013-02-23T06:08:36.213
> 
> 标签：notation

只是想知道，例如在维基百科页面[Dijkstra's algorithm](http://en.wikipedia.org/wiki/Dijkstra%27s_algorithm)中绝对值条的含义`O(|E| + |V|log|V|)`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-23T06:16:08.280

垂直条表示集合的[基数](http://en.wikipedia.org/wiki/Cardinality)（或大小）。在 Dijkstra 算法的情况下，`|E|`是边`|V|`数， 是顶点数。

# plugins - CRM 2011 插件不会更新和接收来自 ActivityParty 的电子邮件

> ID：15037688
> 
> 赞同：1
> 
> 时间：2013-02-23T06:09:27.430
> 
> 标签：plugins, dynamics-crm-2011, crm

我正在尝试从列表中的电子邮件中获取所有电子邮件（收件人、发件人、抄送）并浏览列表并检查联系人，如果联系人存在于 CRM 中，则电子邮件实体上的字段将被标记为 true。当我检查电子邮件的 to、from 和 cc 字段时，它返回 0 方，但那里没有错误。最后，当我调用 service.Update(entity) 时，它返回一个错误。`An unexpected error occurred.`

```
public void Execute(IServiceProvider serviceProvider)
{
  IPluginExecutionContext context = (IPluginExecutionContext)serviceProvider
    .GetService(typeof(IPluginExecutionContext));
  IOrganizationServiceFactory factory = (IOrganizationServiceFactory)serviceProvider
    .GetService(typeof(IOrganizationServiceFactory));
  IOrganizationService service = factory
    .CreateOrganizationService(context.UserId);

  try
  {
  Email entity;
  if (context.MessageName == "Create")
  {
    if (context.PostEntityImages.Contains("PostImage") 
      && context.PostEntityImages["PostImage"] is Entity)
      entity = (Email)context.PostEntityImages["PostImage"].ToEntity<Email>();
    else
      throw new Exception("No PostEntityImages...");
  }
  else
    throw new Exception("EmailPortalVisibilityPlugin Plugin invalid");

  if(entity.LogicalName != "email")
    throw new Exception("EmailPortalVisibilityPlugin invalid");

  bool contactExists = false;
  List<string> emails = new List<string>();
  emails.AddRange(ParseAddressUsed(entity.To, trace));
  emails.AddRange(ParseAddressUsed(entity.From, trace));
  emails.AddRange(ParseAddressUsed(entity.Cc, trace));
  foreach (String em in emails)
  {
    contactExists = LookupContact(em, service, trace);
    if (contactExists)
      break;
  }
  UpdateToggleState(entity, contactExists, service, trace);
  }
  catch (Exception ex)
  {
    throw new InvalidPluginExecutionException("Execute '" + ex.Message + "'");
  }
}

public List<string> ParseAddressUsed(
  IEnumerable<ActivityParty> entity, ITracingService trace)
{
  try
  {
    List<string> addressStrings = new List<string>();
    foreach (ActivityParty party in entity)
      addressStrings.Add(party.PartyId.Id.ToString());
    return addressStrings;
  }
  catch (FaultException<OrganizationServiceFault> exceptionServiceCall)
  {
    throw new Exception("ParseAddressUsed FaultException");
  }
  catch (Exception ex)
  {
    throw new Exception("ParseAddressUsed Exception");
  }
}

public bool LookupContact(
  String emailAddress, IOrganizationService service, ITracingService trace)
{
  try
  {
    QueryByAttribute queryByAttribute = new QueryByAttribute("contact");
    queryByAttribute.ColumnSet = new ColumnSet("contactId");
    queryByAttribute.Attributes.Add("emailaddress1");
    queryByAttribute.Values.Add(emailAddress);
    EntityCollection retrieved = service.RetrieveMultiple(queryByAttribute);

    return (retrieved.Entities.Count > 0);
  }
  catch (FaultException<OrganizationServiceFault> exceptionServiceCall)
  {
    throw new Exception("LookupContact Exception");
  }
  catch (Exception ex)
  {
    throw new Exception("LookupContact Exception");
  }
}

public void UpdateToggleState(
  Email entity, bool toggleState, IOrganizationService service, ITracingService trace)
{
  try
  {
    Entity email = new Entity("email");
    email.Id = entity.Id;
    email.Attributes.Add("new_clientfacing", toggleState);
    service.Update(email);
  }
  catch (FaultException<OrganizationServiceFault> exceptionServiceCall)
  {
    throw new Exception("UpdateToggleState Exception");
  }
  catch (Exception ex)
  {
    throw new Exception("UpdateToggleState Exception");
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T09:35:43.320

在您的方法`ParseAddressUsed`中，您将 PartyId GUID 添加到字符串列表中，并`LookupContact`在 emailaddress1 过滤器中使用它作为参数，这可能是您没有检索任何记录的原因。

请尝试更改`addressStrings.Add(party.PartyId.Id.ToString())`为`addressStrings.Add(party.AddressUsed)`，看看是否有效。

干杯，二村

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T08:49:40.987

尝试将函数的第一个参数类型设置**`ParseAddressUsed`**为`EntityCollection`而不是`IEnumerable<ActivityParty>`，并进行必要的更改。

并且对于函数的最终更新，当您已经拥有实体变量时，**`UpdateToggleState`**无需创建新的电子邮件实体（ ）。`Entity email = new Entity("email");`您可以只设置`new_clientfacing`属性并更新已检索到的实体。

# python - sqlite fts3/fts4 中的信息存储

> ID：15037690
> 
> 赞同：3
> 
> 时间：2013-02-23T06:09:32.980
> 
> 标签：python, sqlite, fts3, fts4

我打算在 python(python3) 中创建一个简单的搜索引擎。通过 sqlite fts3/fts4 的文档，我选择存储文档，因为全文搜索很快。我已经有一组网页，他们文本提取并保存在文本文件中。
因此，我计划通过以下方式创建 fts4 表：

```
conn = sqlite3.connect('/home/xyz/exampledb.db')
c = conn.cursor()
c.execute("CREATE VIRTUAL TABLE mypages USING fts4(docid, name, content)")
```

然后我将遍历文本文件，将其存储在一个字符串中，并将该字符串连同名称和 docid 插入到 fts 表中（从 1 到 n 的整数，其中 n 是总文档）
但是 sqlite 文档中的以下语句有我困惑并且不确定我的上述代码是否有效：
*虚拟表是外部存储或计算引擎的接口，它看起来是一个表，但实际上并未将信息存储在数据库文件中。*
那么信息将存储在哪里？如果它是一个常规的 sqlite 表，我将首先创建一个数据库文件并在这个数据库文件中创建表。如果我必须在另一台机器上使用相同的数据库，我只需复制这个文件并将其粘贴到该机器上。我可能遗漏了文档中的某些内容，但我想在实施之前明确信息将如何存储。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T10:08:11.093

文档中的该声明有些误导；虚拟表*本身*并不在数据库中存储数据，但实现虚拟表的引擎可能会选择使用其他表来存储数据。

FTS 会发生什么在文档的[第 9.1 节](http://www.sqlite.org/fts3.html#section_9_1)中进行了解释：

> 对于数据库中的每个 FTS 虚拟表，都会创建三到五个真实（非虚拟）表来存储基础数据。这些真实的表被称为“影子表”。真实表被命名为“%_content”、“%_segdir”、“%_segments”、“%_stat”和“%_docsize”，其中“%”替换为 FTS 虚拟表的名称。

# macos - 如何在 Mac OS X 10.8（山狮）中更改 Homebrew 的 git origin 远程位置？

> ID：15037696
> 
> 赞同：14
> 
> 时间：2013-02-23T06:10:44.727
> 
> 标签：macos, terminal, osx-mountain-lion, homebrew

在设置我的 Mac OS X 10.8 Mountain Lion 环境（[按照这些说明](http://sergeykarayev.com/work/2012-08-08/setting-up-mountain-lion/)`brew doctor`）时，我在安装 Homebrew 并在 shell 中运行后遇到了问题。

```
 Warning: Suspicious git origin remote found.

    With a non-standard origin, Homebrew won't pull updates from
    the main repository. The current git origin is:

    Unless you have compelling reasons, consider setting the
    origin remote to point at the main repository, located at:
    https://github.com/mxcl/homebrew.git 
```

如何更改 git origin 远程位置？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-23T06:49:08.330

感谢[这篇文章](http://lexsheehan.blogspot.com/2013/01/setting-up-homebrew-on-mac-mini.html)，我发现了我的问题。

安装 Homebrew 时，似乎没有拉到最新版本。安装后，运行`brew update`。Homebrew 最近修复了更新安装时反映的更高版本中的“Origin 问题”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-17T08:41:16.500

我刚刚将我的 iMac 升级到 10.9.1，然后做了一个`brew update`. 之后`brew doctor`给了我“非标准来源”警告。@tom-geoco 引用的帖子并没有真正说明问题出在哪里，也没有解释如何手动更改“原始远程”设置，但是，根据上面@jesdisciple 的评论，我只是退出了终端，再次运行它并尝试`brew doctor`问题消失了。 `brew --config`现在报告`ORIGIN: https://github.com/Homebrew/homebrew.git`哪个是正确的。诡异吧？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-17T10:43:39.210

评论：（我没有足够的声誉来评论，所以请添加并删除此）

1.  酿造更新
2.  brew doctor -> 可疑来源错误
3.  重启终端
4.  brew doctor -> 可疑来源错误
5.  酿造更新
6.  重启终端
7.  酿造医生->一切正常。

这对我来说就是这样。我希望这对其他人有帮助。请注意，您必须运行*brew update* **两次**才能摆脱它。

# apache-flex - 如何在 flex UI 组件中显示远程 swf？

> ID：15037704
> 
> 赞同：0
> 
> 时间：2013-02-23T06:12:04.003
> 
> 标签：apache-flex, air, flex4.5

我正在尝试在我的 flex 应用程序中显示远程 swf，我能够加载 swf，但在我的 flex 应用程序中没有显示（可见）。

这是代码

```
private function onLoaderComplete(event:Event):void{
            can.addChild(l);
        }

            import flash.system.SecurityDomain;
            import flash.system.ApplicationDomain;
                             var l:Loader = new Loader();

            private function initApp():void {  
            var context:LoaderContext = new LoaderContext();

            l.contentLoaderInfo.addEventListener(Event.COMPLETE, onLoaderComplete);
            if(Security.sandboxType == Security.REMOTE){
                var context:LoaderContext = new LoaderContext();
                context.securityDomain = SecurityDomain.currentDomain;
                l.load(new URLRequest('www.somedomain.com/load.swf?id1'), context);
            }else{
                l.load(new URLRequest('www.somedomain.com/load.swf?id=1'));
            }

private function onLoaderComplete(event:Event):void{
            can.addChild(l);
        }

<mx:Canvas width="100%" height="50%" backgroundColor="red">
    <mx:UIComponent id="can" width="100%" height="100%" >

    </mx:UIComponent>
</mx:Canvas> 
```

任何想法

谢谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T15:12:26.007

您的代码段未定义“L”是什么

您当前代码遇到的最可能的问题是，您将“l”添加到 UIComponent 上，该 UIComponent 没有用于调整和定位其子级的内置代码，因此您的“l”将没有高度和宽度，有效使其不可见。

我会使用[SWFLoader](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/controls/SWFLoader.html#methodSummary)加载另一个 SWF 文件并将其显示为应用程序的一部分。

# c++ - 对函数的引用不明确

> ID：15037705
> 
> 赞同：8
> 
> 时间：2013-02-23T06:12:09.990
> 
> 标签：c++, function, overloading

为什么这会导致编译器错误，指出我的引用不明确？我有一个`float`,`int`和`string`，它们都应该创建单独的函数签名，对吧？

这是我到目前为止所拥有的：

```
#include <iostream>
#include <string>
using namespace std;

int plus(int a, int b);
float plus(float a, float b);
string plus(string a, string b);

int main(void)
{
    int n = plus(3, 4);
    double d = plus(3.2, 4.2);
    string s = plus("he", "llo");
    string s1 = "aaa";
    string s2 = "bbb";
    string s3 = plus(s1, s2);
}

int plus(int a, int b) {
    return a+b;
} // int version

float plus(float a, float b) {
    return a+b;
} // float version

string plus(string a, string b) {
    return a+b;
} // string version 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-23T06:20:24.630

首先，**不要使用`using namespace std;`**. 在这种情况下，碰巧有一个名为的结构——[`std::plus`](http://en.cppreference.com/w/cpp/utility/functional/plus)哦，等等，别介意，它实际上被调用`plus`了，它的构造函数被扔到桶中，以便用你的函数调用重载解决方案`plus`。

* * *

其次，您有歧义，因为`3.2`and`4.2`是类型`double`，并且可以很好地转换为`float`or `int`。

这是一种简化，但在将数字传递给重载函数时，C++ 基本上使用以下规则：

1.  如果所有参数与重载之一完全匹配，则使用该重载。
2.  如果可以提升所有参数以匹配其中一个重载，则使用那个。
3.  如果所有参数都可以进行数字转换以匹配其中一个重载，则使用该重载。

如果您在特定级别有多个候选人，那么这是一个模棱两可的问题。至关重要的是，a`double`不会升级为`float`a——那将是降级。所以它必须使用到 a 的标准转换`float`，这与到 a 的标准转换相关`int`，所以这两个重载是模棱两可的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-23T06:15:09.370

像这样调用浮点重载：

```
double d = plus(3.2f, 4.2f); 
```

像 3.2 这样的常量实际上具有**double**类型。

# trigger.io - 不支持的架构：cputype(12) cpusubtype(9)

> ID：15037717
> 
> 赞同：0
> 
> 时间：2013-02-23T06:14:22.953
> 
> 标签：trigger.io

我正在尝试通过 Application Loader 将我的 Trigger.io 构建的 iOS 应用程序上传到 App Store。我收到错误消息：“iPhone/iPod Touch：应用程序可执行文件包含不受支持的架构：cputype (12) cpusubtype (9)”。

我在 Window 7 64bit 上构建。在版本 3.3.34 上运行的 Forge 工具。Trigger.io 平台版本：1.4。

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T02:27:42.537

我的 Mac 上有一个旧版本的 XCode（3.X 复古版），而即将推出的应用程序加载器来自那个版本！我已经卸载了旧的 XCode，现在我正在使用新版本的 Application Loader。这个错误已经消失了。

# javascript - 使用 JavaScript/jQuery 防止 SQL 注入

> ID：15037724
> 
> 赞同：-1
> 
> 时间：2013-02-23T06:15:02.333
> 
> 标签：javascript, jsp, sql-injection

我正在使用 JSP 一段时间。我有这个选择语句：

```
query = "SELECT * FROM USER_PASS WHERE USERNAME = '" + name + "'"; 
```

哪个容易受到 SQL 注入的影响。查了几篇文章，发现可以使用prepared statements来避免SQL注入。我觉得更混乱。我的意见是，如果我可以找到诸如`;`,`'`或`--`用户提供的输入之类的输入，那么我可以向他们显示一条警告消息，说明您不能在此处使用这些符号，并且我不会处理数据。这可能是我的 JavaScript 代码：

```
function validateSQL()
{
var x=document.forms["myForm"]["username"].value;
var pos = 0;
pos=x.indexOf("'");
if (pos!=0)
  {
  alert("Trying to hack me?");
  return false;
  }
} 
```

哪个更好用？这有什么缺点吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-23T06:24:22.990

您绝对不能依赖客户端上的 JavaScript 来保护您；恶意用户可以轻松绕过任何客户端检查。您可以随时在浏览器中禁用 JavaScript。

仅仅因为某些事情令人困惑并不意味着您不应该这样做；参数化查询不会令人困惑，因此您应该练习和学习，直到您理解为止。 `; , --`甚至不接近可能导致 SQL 注入的唯一符号。

我不熟悉JSP，准备查询的方法似乎很简单。

```
String myquery = "SELECT * FROM USER_PASS WHERE USERNAME = ?";
PreparedStatement mystatement = connection.prepareStatement(myquery);
mystatement.setString(1, name);
ResultSet myresults = mystatement.execute(); 
```

# php - 从两个表 SQL 中计算两列

> ID：15037728
> 
> 赞同：0
> 
> 时间：2013-02-23T06:15:19.247
> 
> 标签：php, sql

我有位于两个表中的数据，我想对其进行计数，然后使用 Google 条形图进行显示。我一直在苦苦挣扎，在其他任何地方都找不到这个案例的答案。这两个表有共同的 user_id，我想从第一个表 (qsp_tiles) 中计算 gam_id 列，从第二个表 (qsp_orders) 中计算 mam_id。这是我正在使用的一些代码：

```
$db->setQuery("SELECT t.user_id, COUNT ( o.gam_id) AS wake, COUNT( t.mam_id ) AS chuck, 
FROM #__qsp_tiles t
FULL JOIN #__qsp_orders o 
ON t.user_id=o.user_id 
");

$result = $db->loadObjectList();

foreach ($result as $row){
$array[date("d D",$row->payment_date)]['wake'] += $row->wake;
$array[date("d D",$row->payment_date)]['chuck'] += $row->chuck;
}
foreach ($array as $k => $a) {
$out[] = "['{$k[payment_date]}', {$a[wake]}, {$a[chuck]}]";
}
?> 

<?php
echo implode(",", $out);
?> 
```

最后一点应该变成 [5 Thu, 20, 50] 之类的东西，这就是需要进入 Google 条形图的内容。我想让它吐出最后 5 天，但现在我只需要知道如何做一天。任何帮助将非常感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T12:53:39.353

目前尚不完全清楚您要实现的目标，但如果您只是想计算每个表中的行数，我会使用两个单独`select`的语句来计算行数，如下所示：

```
select count(gam_id) from qsp_tiles 
```

和

```
select count(mam_id) from qsp_orders 
```

如果您想计算两个表共有的行数，我将使用以下语句（它与您已经使用的基本相同，只是在 select 中没有 user_id 字段，只有一个计数）：

```
select count(t.user_id) from qsp_tiles t inner join qsp_orders o on t.user_id = o.user_id 
```

# javascript - (Javascript) 用文件路径创建一个 File 对象

> ID：15037729
> 
> 赞同：3
> 
> 时间：2013-02-23T06:15:23.907
> 
> 标签：javascript, file, url, canvas, image

我正在制作一个基于科尔多瓦的应用程序。是否可以使用文件路径创建 File 对象？

我要做的是拍照并在画布上显示图片。在android中，它工作正常，但在ios6中，由于ios6上的mega-fixel问题，在画布上绘图时图片损坏。

然后我在下面找到了一个插件

[https://github.com/stomita/ios-imagefile-megapixel](https://github.com/stomita/ios-imagefile-megapixel)

该插件需要一个 File 或 Blob 参数，但我只有文件 URL。如何从文件 URL 获取文件或 Blob 对象？

我的来源在下面

```
takePicture : function(onSuccess, onError) {
    options = {
        quality : 50,
        destinationType : navigator.camera.DestinationType.FILE_URI, //device returns File URL
        correctOrientation : true
    };
    navigator.camera.getPicture(onSuccess, onError, options);
}
onSuccess : function (photo_src) {
    $('#photo_hidden').attr('src', photo_src);
    setTimeout(function() {
    copyImage('photo_hidden', 'a04_image');
    }, 500);
}
copyImage : function (sourceId, targetId) {
    try{
    var source = document.getElementById(sourceId);
    var source_w = source.width;
    var source_h = source.height;
    var target = document.getElementById(targetId);
    var target_w = target.width;
    var target_h = target.height;
    target_h = Math.round(target_w / source_w * source_h);
    /////////////////////
    // I want to make a File object from source.src HERE!!
    /////////////////////
    //TODO this part will be changed to use plugin
    if (target.getContext) {
    var context = target.getContext('2d');
    context.drawImage(source, 0, 0, source_w, source_h, 0, 0, target_w, target_h);
    }
    //
    }catch (e) {
        console.log(e);
    }
} 
```

如果不可能，欢迎制作文件或 Blob 对象的任何想法

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:39:59.243

我自己解决了这个问题。

如果没有用户的操作，就无法创建 File 对象。（需要使用＜input type='file'＞标签）

我查看了插件源。

而且我发现参数不一定是文件对象。

可以使用图像对象。

# php - 托管 PHP 应用程序的最佳实践

> ID：15037730
> 
> 赞同：0
> 
> 时间：2013-02-23T06:15:25.967
> 
> 标签：php, mysql, codeigniter-2, hosted-app

我用 CodeIgniter 编写了一个 PHP 应用程序。我计划将其作为托管应用程序（软件即服务）出售。

这些应用程序允许用户：

*   创建帐户
*   创建用户
*   管理文件
*   管理订单
*   有通讯录
*   搜索
*   报告等。它使用一个数据库。最好的例子是新书。（反正它不是我的竞争对手。）

我的问题是：

托管应用程序的最佳配置是什么？请记住，该应用程序可以增长到数千名用户。

实际配置是：

1.  代码 example.com/appfolder 的一个地方
2.  用户将在 example.com 上创建帐户
3.  在用户帐户上，每个用户都有一个使用该应用程序的链接

user1.example.com

user2.example.com

.....................

所有子域都指向同一个 example.com/appfolder

1.  example.com 有一个数据库，用于记录用户及其每月付款
2.  该应用程序托管在 example.com/appfolder 上，并根据 url 为每个用户选择一个单独的数据库。

对于 100、200、300 个用户来说，一切看起来都很好，但如果我有 1000 或 2000 个用户，我将不得不管理和备份 1000 或 2000 个数据库（每个 3-5MB）

我知道我应该为所有用户提供一个数据库，但这将使其非常难以管理，并且用户数据库中有敏感数据。

最重要的是，用户可以创建可以使用相同应用程序的用户，但只能在管理员用户创建的子域上（在 exmaple.com 上注册）

这种配置会使拥有超过 2000 个管理员用户（这意味着 2000 db）的专用服务器崩溃吗？

Basic 与 CMS 非常相似，但更专业。

有没有更实用的方法来做这个配置？

任何建议将不胜感激。提前谢谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:49:33.267

为所有用户存储数据的单个数据库或分片数据库 ( [http://www.codefutures.com/database-sharding/](http://www.codefutures.com/database-sharding/) ) 比 2000 个数据库更快、更易于维护、更简单且全面优于 2000 个数据库。

编写管理安全性所需的代码，否则当您试图通过一个小的架构更改来更新 2000 个数据库时，您会自责。

我的建议是使用单个域（没有子域），一旦你有 2000 个用户，你就会有钱和资源来改进。

# jquery - 获取请求 MVC 查询字符串

> ID：15037737
> 
> 赞同：0
> 
> 时间：2013-02-23T06:16:36.603
> 
> 标签：jquery, razor, asp.net-mvc-4, httpwebrequest, asp.net-mvc-routing

我正在使用 ASP.NET MVC，我有一个用于用户输入的搜索表单。提交表单时，表单中的数据将传递给我的索引操作，以返回显示请求数据的视图。

在我的 Index 操作方法中，我使用输入的数据来更新视图。

用户不必输入表单的所有字段，因此我的操作接收到的数据具有为空的参数键。但我只想要在 url 中有值的键。

我得到的，不可取的例子：

[http://www.domain.com/searchresults?name=&age=&id=98787879](http://www.domain.com/searchresults?name=&age=&id=98787879)

如您所见，姓名和年龄没有值。如果我去掉地址栏中的那些，正确的数据仍然可以正确显示，这是预期的。

我想要的网址只是

[http://www.domain.com/searchresults?id=98787879](http://www.domain.com/searchresults?id=98787879)

有没有办法在进入操作方法之前解析查询字符串。也许使用 Ajax 截断不必要的键？但是那我怎么能提交它并转到页面呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:39:50.817

在这种情况下，您可以首先在您的搜索按钮单击时调用一个 javascript 函数，该函数将构造查询字符串和 url 并触发您指定的`Action`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:51:12.393

您可以通过 javascript 执行此操作，但构建查询字符串（我假设表单的类型是 GET）是浏览器的工作，我不会干扰它或陷入确保您的 javascript 适用于所有问题的麻烦浏览器。

即使效率较低，我也会在您的 MVC 控制器中使用 this.RedirectToAction 调用，并将请求重定向到未定义参数的方法的重载（即 url 只有具有值的参数）。这样，用户的浏览器将有一个额外的往返，因为它将首先从您的控制器接收重定向响应，但您不需要在客户端处理 javascript。

# javascript - 为什么赋值并不总是在 Angular 表达式中起作用？

> ID：15037743
> 
> 赞同：6
> 
> 时间：2013-02-23T06:17:37.470
> 
> 标签：javascript, angularjs

我刚刚发现 Angular 表达式中允许的内容存在这种有趣的明显不一致：

1.  可以在表达式中执行赋值
2.  如果分配涉及来自 ngRepeat 的局部变量，则会中断
3.  这可以通过使用控制器中定义的设置器而不是表达式中的赋值来克服

[见 Plunker](http://plnkr.co/edit/Lt57nqfm3TH7XdFa5xML?p=preview)

关于表达式的[文档](http://docs.angularjs.org/guide/expression)似乎只是明确禁止表达式中的控制流，而且我没有看到任何提及上述行为的内容。

我想从中得出的结论是，无论如何使用 setter 可能是一种更好的设计模式，但是有没有人知道关于表达式中可能发生什么的更明确的参考？

如果 Angular 单方面禁止在它们中分配可能会更好。（一个相关的不一致是，似乎可以在表达式中增加 i = i+1 但不能增加 i+=1...）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-23T06:36:33.573

这是指令中范围界定的一个已知问题。您可以阅读文章[The Nuances of Scope Prototypal Inheritance](https://github.com/angular/angular.js/wiki/The-Nuances-of-Scope-Prototypal-Inheritance)以了解有关`scoping`in angular js 的更多信息。

来自子/转入范围的任何原始值分配都将创建一个新的实例值，而不是更改父范围的值

在您的情况下，您正在使用原始值`selectedNumber`。

有两种建议的方法来修复它

解决方案 1
*使用对象而不是原始值。*

1.  将 selectedNumber 更改为对象`scope.selectedNumber = { num : 1 };`
2.  将显示更改为`<h2>{{ selectedNumber.num }}</h2>`
3.  将点击处理程序更改`ng-repeat`为`ng-click="selectedNumber.num = number"`

演示：[Plunker](http://plnkr.co/edit/TxPD9lKFI9T4S5uZ4i07?p=preview)

解决方案 2：
*使用`$parent`范围引用* 

1.  将点击处理程序更改`ng-repeat`为`ng-click="$parent.selectedNumber = number"`

演示：[Plunker](http://plnkr.co/edit/e6ncIbHiKRz6rX94XlXh?p=preview)

解决方案 3：
*在父作用域中使用 setter* 

1.  在父范围内创建一个 setter 方法，例如`$scope.setSelectedNumber = function(num){ $scope.selectedNumber = num}`
2.  将点击事件更改为`setSelectedNumber(number)` （这是已经使用的方法）

*更新：* 正如 Anders Ekdahl 所建议的，建议使用基于对象（解决方案 1）的解决方案。

# c - C中的字符串操作转换MAC地址

> ID：15037744
> 
> 赞同：-3
> 
> 时间：2013-02-23T06:17:37.653
> 
> 标签：c

我有`char *MAC="aa:bb:cc:dd:ee:ff:99"`。在此字符串中，所有值均采用“十六进制”格式。

我怎样才能将它存储到另一个字符串中并删除前两个数字，最后四个数字应该是这样的： `"ss.ttt.uu.vv"`.

这里 ss 是“cc”的小数，ttt 同样是“dd”的小数。

```
#define DELIM ":"
int tok(char *str_to_tokenize)
{
 // char str_to_tokenize[] = "- Strtok is meant for - breaking up, strings with funny values. + 5";
  char *str_ptr;

  fprintf(stdout, "Split \"%s\" into tokens:\n", str_to_tokenize);

  str_ptr = strtok(str_to_tokenize, DELIM);
  for(; str_ptr != NULL ;){
    fprintf(stdout, "%s\n", str_ptr);
    str_ptr = strtok(NULL, DELIM);
  }

  return 0;
}

int main()
{
  char* buffer="aa:bb:c:dd:ee:ff:gg";
  tok(buffer);
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:39:40.297

`sscanf()`对我来说，这看起来像是一个案例`snprintf()`。然而，这个问题令人困惑：

> 我有`char *MAC="aa:bb:cc:dd:ee:ff:99"`。在此字符串中，所有值均采用“十六进制”格式。
> 
> 我怎样才能 [...] 像这样删除前两个数字和后四个数字：“ss.ttt.uu.vv”。

你在数数字还是数字？如果你在计算数字，去掉前两个意味着“aa”和“bb”被忽略，去掉最后四个意味着“dd”、“ee”、“ff”和“99”也被忽略。如果您在计算数字，则忽略“aa”、“ff”和“99”，留下 4 个数字（8 位）以格式化为 4 部分虚线数字。总的来说，数数更有意义。

然后你说：

> 这里 ss 是“cc”的小数，ttt 同样是“dd”的小数。

如果 的第一个字段`ss.tt.uu.vv`是 的十进制等效项`cc`，第二个字段是 的十进制等效项`dd`，则：

*   `bb`去哪里做`ee`？
*   `uu`和是`vv`十六进制还是十进制？

假设你真正追求的是：

*   将第 2、3、4 和 5 个十六进制字段转换`MAC`为整数。
*   将结果显示为`sss.ttt.uuu.vvv`原始顺序中十六进制值的十进制等效值。

这可以实现为：

```
#include <stdio.h>

int main(void)
{
    int bb, cc, dd, ee;
    const char *MAC = "aa:bb:cc:dd:ee:ff:99";
    char output[16] = "";

    if (sscanf(MAC, "%*x:%x:%x:%x:%x:", &bb, &cc, &dd, &ee) == 4)
        snprintf(output, sizeof(output), "%d.%d.%d.%d", bb, cc, dd, ee);

    printf("MAC = %s; result = %s\n", MAC, output);
    return(0);
} 
```

转换规范的`%*x`意思是“读取一个十六进制整数并且不将其分配给变量”。

示例输出：

```
MAC = aa:bb:cc:dd:ee:ff:99; result = 187.204.221.238 
```

# php - 如何获得百分比值

> ID：15037746
> 
> 赞同：0
> 
> 时间：2013-02-23T06:18:09.193
> 
> 标签：php

好的，所以对于我的网站，我制作了一个测试系统，您可以在其中进行测验。这一切都有效，但获得正确答案的百分比被打破了。

我有 3 个变量试图用来获取百分比。

```
$incorrect // Int value of incorrect answers
$correct // Int value of correct answers
$perc // Percentage of correct answers from 0 to 100 
```

目前，我使用它，但它不起作用：

```
if($incorrect===0){
   $perc = 100;
}elseif($correct===0){
   $perc = 0;
}else{
   $perc = ($incorrect / $correct)*100;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T06:19:49.833

```
$perc = $correct*100/($incorrect+$correct) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:37:00.863

User1950001，正如 Barmar 提到的，您需要计算答案的总数，百分比由**`(NUMBER OUT OF TOTAL x 100 / TOTAL`)**计算。

在这种情况下，正确。是您的 NUMBER OUT OF TOTAL 并且`INCORRECT + CORRECT`是您的 TOTAL，这就是您所缺少的。

使用您的原始代码，`perc = ($incorrect/$correct) * 100`总共有 25 个问题，20 个不正确，5 个正确，将返回 400% 作为值。显然，这已经是遥不可及了。

# c++ - 根据需要声明类变量

> ID：15037751
> 
> 赞同：0
> 
> 时间：2013-02-23T06:18:49.120
> 
> 标签：c++, class, configurable

我想通过允许用户指定参数字符串列表来使我的类对象动态可配置，并且对于每个参数字符串，我希望我的类对象有一个单独的变量。

用户可以指定任意数量的参数字符串，因此类对象应该有相应数量的变量。我想这样做而不必将这些变量定义为向量的一部分，但我不确定是否以及如何做到这一点，因为所有类变量都在类代码中显式定义。

例如，假设我们希望变量为“float userVar_${parameter}”。如果用户在配置文件中指定了N个配置1,2,3,...,N，那么类对象应该有N个私有变量userVar_1, userVar_2, userVar_3, ..., userVar_N

感谢您的时间！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:03:21.117

C++ 是一种静态类型语言。您不能更改变量的类型，也不能在运行时引入新类型。而你的意图涉及两者。

所以不，这是不可能的。

# c# - 单击按钮时引发事件并将其订阅到另一个类中的事件处理程序？

> ID：15037755
> 
> 赞同：3
> 
> 时间：2013-02-23T06:19:58.603
> 
> 标签：c#, winforms, events, event-handling

我有一个 form.cs，其中包含一个按钮和一个 texbtox，还有一个处理单击按钮时引发的事件的类。

基本上，当单击按钮时，它应该引发一个事件，并且 Print 类中的 eventHandler 应该将文本打印到`TboxPrint`表单中

这就是我的代码的样子：

```
//Declare the delegate
public delegate void EventHandler(object sender, EventArgs e);

public partial class Form1 : Form
{

    public Form1()
    {
        InitializeComponent();
    }

    //event
    public event EventHandler Print;

    //Event caller, protected to prevent calling from other classes
    protected virtual void OnPrint(System.EventArgs e)
    {
        if (Print != null) Print(this, e);
    }

    //raising event
    public bool print_action(object value)
    {
        OnPrint(EventArgs.Empty);
        return true;
    }

    public void BtnPrint_Click(object sender, EventArgs e)
    {
        PrintClass p = new PrintClass();
        Form1 s = new Form1();

        s.Print += p.printEventHandler;
        print_action(true);
    }
} 
```

具有处理事件的方法的类是：

```
class PrintClass
{
    public void printEventHandler(object sender, EventArgs e)
    {

        string text = "Print Event occured";
    }
} 
```

显然没有提出任何内容..我相信我提出事件或订阅事件处理程序的方式是错误的。以及如何将事件处理程序中的文本传递回表单？

任何帮助表示赞赏..谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T06:24:17.717

你只需要`extra event subscription`并且`Button.Click event`

```
 private void Form1_Load(object sender, EventArgs e)
   {
        p = new PrintClass();
        button1.Click += cls.printEventHandler;
   } 
```

要处理表单上的所有按钮，您可以编写一个简单的片段，例如

```
public Form1()
{
    InitializeComponent();

    foreach (Button btn in Controls.OfType<Button>())
    {
        btn.Click += cls.printEventHandler;
    }
} 
```

要知道单击了哪个按钮，您可以写`PrintClass`为

```
class PrintClass
{
    public void printEventHandler(object sender, EventArgs e)
    {

         Button btn = (Button) sender;
         //btn.Name <-- Control name;
         //btn.Text<-- Control Text;

    }
} 
```

* * *

`extra class`我不明白的一件事是，如果您需要以相同的形式输出结果，为什么需要 a 。

我的建议是，不要创建一个`extra class`只是为了处理所有`Button.Click`事件

这可以按照您想要的方式工作：我不再需要`extra class`

```
 public Form1()
    {
        InitializeComponent();

        foreach (Button btn in Controls.OfType<Button>())
        {
            btn.Click += HandleAllButtonClicks;
        }
    }

    private void HandleAllButtonClicks(object sender, EventArgs e)
    {
        Button btn = (Button) sender;
        TboxPrint.AppendText(String.Format("Button Clicked : Name = {0}, Text = {1}", btn.Name, btn.Text));
    } 
```

# python - 在python中需要一个带有适当缩进的xml字符串

> ID：15037761
> 
> 赞同：0
> 
> 时间：2013-02-23T06:20:59.803
> 
> 标签：python, xml-parsing

我已经生成了一个 xmnlstring。我使用了 lxml 并且可以正常工作，但是在转换为 py2exe 时加载失败，外部依赖项是什么。我用了minidiom，

```
import mini.dom.minidom
def prettify_xml(xml_str):

   xml_hand =  xml.dom.minidom.parseString(xml_str)
   pretty_xml_as_string = xml_hand.toprettyxml() 

   print pretty_xml_as_string 
```

这会在 unicode 中生成 xml，但我想要字符串格式。

# verilog - Verilog For循环用于数组乘法

> ID：15037762
> 
> 赞同：2
> 
> 时间：2013-02-23T06:21:06.310
> 
> 标签：verilog

这似乎是一个相当愚蠢的问题，但从软件到 HDL 的过渡最初有时是相当令人沮丧的！

我的问题：我想在 Verilog 中完成一个数组乘法。这是两个数组（逐点）的乘法，每个数组的长度为 200。以下代码在测试台中运行良好：

```
for (k=0; k<200; k=k+1)
    result <= result + A[k] * B[k]; 
```

但它甚至无法在 Verilog 模块中工作。我认为原因是因为操作应该在许多时钟周期内进行。因为如果我手动（！）它涉及写出 200 个乘法和 199 个加法，我想知道是否有使 for 循环工作（并且可以综合）的技巧？

谢谢，

费萨尔。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-23T06:36:00.437

你不想在那里使用 for 循环，你想使用一个时钟逻辑块。for 循环仅用于描述不会对自身进行反馈的并行结构，它们很少有用，并且不适用于您在软件程序中使用它们的相同类型的事情。

要做你想要达到的目标，你应该有一个像这样的块：

```
always @(posedge clk or posedge reset)
    if (reset) begin
        result <= 0;
        k <= 0;
        result_done <= 0;
    end else begin
        result      <= result_done ? result : (result + A[k] * B[k]);
        k           <= result_done ?      k : k + 1;
        result_done <= result_done ?      1 : (k == 200); 
    end
end 
```

这会在复位时将结果归零，将 A[k] * B[k] 添加到 200 个时钟的总和中，然后在 k == 200 时停止计数并断言“完成”信号。

# c++ - 如何在 C++ 中删除这个二维数组

> ID：15037763
> 
> 赞同：5
> 
> 时间：2013-02-23T06:21:12.973
> 
> 标签：c++, pointers, memory-management

在简单的一维数组中：

```
node *nodes =  new node[MAX_NODES]; 
```

删除者：

```
delete [] nodes; 
```

删除数组中分配的所有节点。

但在这种情况下：

```
float (*buildingArray)[3] = new float[10][3]; 
```

此语句是否`buildingArray`生成 3 个浮点指针的一维数组？这是释放线：

```
delete[] buildingArray; 
```

上面是否释放`delete`了数组，但我怀疑它是否会删除它的引用？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-23T06:24:31.050

> **上述取消分配是否会删除数组？**

是的，它确实。

只需遵循以下规则：

您需要分别调用`delete`或调用`delete []`多次。`new``new []`

* * *

如果您有一个指针数组，其中每个索引都分配了动态内存，则需要显式循环遍历它并显式释放每个数组元素。

* * *

附带说明一下，使用`std::vector`or`std::array`而不是动态分配的数组要好得多。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-23T06:27:31.607

是的，它确实。解释是因为内存中没有关于数组有多少维度的信息。

如果您有一个 3*4 项数组，它与 12 项数组完全相同。这只是您处理特定元素（以逐行方式存储）的方式发生了变化。

所以`delete[]`会完美地工作。

但是如今，使用`new`和运算符在[智能指针](http://www.boost.org/doc/libs/1_53_0/libs/smart_ptr/shared_ptr.htm)`delete`中并不常见，除非您真的有充分的理由自己控制分配。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-23T06:26:43.497

`new float[10][3]`分配一个由 3 个数组组成的 10 个数组，`floats`并返回一个指向第一个元素的指针（这是一个由 3 个浮点数组成的数组）。

调用`delete[]`此指针会导致整个数组被删除。

这两种情况的唯一区别是，在第一种情况下，存储在动态分配的数组中的值的类型是`float`，而在第二种情况下，类型是`float[3]`。

# database - 数据库中表的页数是什么意思？

> ID：15037764
> 
> 赞同：-4
> 
> 时间：2013-02-23T06:21:43.950
> 
> 标签：database

谁能帮我理解数据库中表格页面的概念...谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:50:23.980

页面...意味着当您要在数据库中进行任何更新时，您不会更新驻留在磁盘上的原始数据库，而是更新其页面..它是一种数据库副本，所以当您提交时您的交易此页面将替换为您的原始数据库。但是你仍然需要改进这个答案。:)

# assembly - 在已编译的可执行文件中更改 tcp 数据包标头的简单方法？

> ID：15037765
> 
> 赞同：0
> 
> 时间：2013-02-23T06:21:45.543
> 
> 标签：assembly, tcp, winsock, cracking

我有可执行文件（可能用 c++ 编写），它使用 tcp 和 windows 套接字（win sock api）连接到服务器端软件。

然后它发送带有标题的数据包（例如标题是两个字节0x0064），登录名和密码。然后开始它与服务器的交互。

我想更改登录数据包头，例如，从 0x0064 更改为 0x0065。

当然，我总是可以使用 WPE（winsock 数据包编辑器）之类的嗅探器在我的 PC 上更改它，或者我可以使用带有套接字发送函数包装器的 Microsoft Detours 编写 dll，并在程序启动之前将其注入，但我必须检查每个数据包将要发送，知道它有 0x0064 标头，它正是我要更改的数据包。

所以，我的问题是 - 是否有任何简单的方法可以使用这个数据包头找到变量（我相信他们只是在构建数据包时对其进行硬编码，就像在 sprintf 中一样），并且只是在不学习汇编程序的情况下在 HEX 编辑器中更改一个字节？也许有很好的教程/crackme 示例与解决方案将解释如何做到这一点？

任何建议都会有所帮助。谢谢！

# clojure - 为什么这些 Clojure 列表不同？

> ID：15037766
> 
> 赞同：3
> 
> 时间：2013-02-23T06:21:47.627
> 
> 标签：clojure

我遇到了一些[4Clojure](http://www.4clojure.com)问题，并在我的一些代码中遇到了一些奇怪的行为。经过进一步调查，罪魁祸首似乎是使用了报价宏与列表功能。为什么这在下面的代码中很重要，为什么会产生不正确的结果？

```
user=> (= (class '(/ 1 2)) (class (list / 1 2)))
true
user=> (def a '(/ 1 2))
#'user/a
user=> (def b (list / 1 2))
#'user/b
user=> (class a)
clojure.lang.PersistentList
user=> (class b)
clojure.lang.PersistentList
user=> (apply (first a) (rest a))
2
user=> (apply (first b) (rest b))
1/2
user=> (class (first a))
clojure.lang.Symbol
user=> (class (first b))
clojure.core$_SLASH_ 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-23T06:26:46.680

```
'(/ 1 2) 
```

类似于：

```
(list '/ 1 2) 
```

当你不引用`/`时，你会得到它的值，这是内置的除法函数，而不是符号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T06:42:17.807

不幸的是，您已将符号对象用作表达式中的函数`(apply (first a) (rest a))`。符号对象在 map 中查找自身的值作为键：

```
('/ {'+ :plus '/ :slash '- :minus} :not-found)
=> :slash

('/ {'+ :plus '$ :dollar '- :minus} :not-found)
=> :not-found

('/ 1 :not-found)
=> :not-found

('/ 1 2)
=> 2 
```

# python - 尝试让 Flask Framework 工作时出错（构建基本网站）？

> ID：15037767
> 
> 赞同：0
> 
> 时间：2013-02-23T06:21:51.270
> 
> 标签：python, flask, pip

我正在尝试为网站制定一个基本框架。一位朋友告诉我这件事的方式是

1.  安装 CURL (brew install curl)
2.  使用 CURL 安装 pip (curl [https://raw.github.com/pypa/pip/master/contrib/get-pip.py](https://raw.github.com/pypa/pip/master/contrib/get-pip.py) | sudo python)
3.  点安装烧瓶
4.  蟒蛇你好.py

hello.py 只是：

```
 from flask import Flask
    app = Flask(__name__)

    @app.route("/")
    def hello():
        return "Hello World!"

    if __name__ == "__main__":
        app.run() 
```

正如 Flask 网站所建议的那样。

有人可以告诉我为什么会收到此错误：

```
 Traceback (most recent call last):
    File "hello.py", line 1, in <module>
      from flask import Flask
    ImportError: No module named flask 
```

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T12:44:09.857

原因是

> 点安装...

它自己不起作用的是，默认情况下 pip 将尝试安装到系统范围的模块库。

> 须藤点安装...

之所以有效，是因为 sudo 为您提供了执行此操作的权限。

首选方法，尤其是在开发中，是使用[virtualenv](http://www.virtualenv.org)，它允许您创建项目特定的模块库，因为它是由您创建和维护的，因此不需要系统管理员权限。

[这里](http://terse-words.blogspot.co.uk/2013/03/installing-git-and-virtualenv-on-linux.html)有一个关于使用 virtualenv 的超短教程。

# java - 复选框数据未传入其他活动

> ID：15037771
> 
> 赞同：0
> 
> 时间：2013-02-23T06:22:39.557
> 
> 标签：java, android

我试图借助意图将列表视图中存在的复选框的位置传递给另一个活动。但它显示我在另一项活动中为空。或者有人可以告诉我如何使用下面的代码将选定的复选框数据传递给另一个活动？

我想从相应复选框的列表视图中将值存储在一个数组中。然后转移到另一个活动

```
public class MyAdapter extends ArrayAdapter<Model> {
int getPosition;
Intent in;
private final List<Model> list;
public final Activity context;
boolean checkAll_flag = false;
boolean checkItem_flag = false;

public MyAdapter(Activity context, List<Model> list) {
    super(context, R.layout.row, list);
    this.context = context;
    this.list = list;
}

static class ViewHolder {
    protected TextView text;
    protected CheckBox checkbox;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {

    ViewHolder viewHolder = null;
    if (convertView == null) {
        LayoutInflater inflator = context.getLayoutInflater();
        convertView = inflator.inflate(R.layout.row, null);
        viewHolder = new ViewHolder();
        viewHolder.text = (TextView) convertView.findViewById(R.id.label);
        viewHolder.checkbox = (CheckBox) convertView
                .findViewById(R.id.check);
        viewHolder.checkbox
                .setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                    @Override
                    public void onCheckedChanged(CompoundButton buttonView,
                            boolean isChecked) {
                         getPosition = (Integer) buttonView.getTag(); // setTag.

                    }
                });
        convertView.setTag(viewHolder);
        convertView.setOnClickListener(new MyCustomItemClickListener(getPosition));

        convertView.setTag(R.id.label, viewHolder.text);
        convertView.setTag(R.id.check, viewHolder.checkbox);
    } else {
        viewHolder = (ViewHolder) convertView.getTag();
    }
    viewHolder.checkbox.setTag(position); // This line is important.

    viewHolder.text.setText(list.get(position).getName());
    viewHolder.checkbox.setChecked(list.get(position).isSelected());

    return convertView;
}

class MyCustomItemClickListener implements OnClickListener {

    MyCustomItemClickListener(int getPositionx) {
        /*
         * Whatever initialization you need can be done here. You can pass
         * values in constructor when calling it from getview and use with
         * intent extras
         */
         in = new Intent(context, YourActivity.class);
         in.putExtra("aa", getPositionx);
    }

    @Override
    public void onClick(View arg0) {
        // Launch Activity

        context.startActivity(in);
    }

  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:35:49.243

将 getPosition 清除为静态变量，您可以将值 MyAdapter.getPosition 访问到另一个活动

```
public static getPosition; 
```

以及您要访问此变量的活动

```
MyAdapter.getPosition use this. 
```

但是您传递值的方式也是正确的，但在将其传递给意图之前检查天气您的值不为空，在这种情况下

```
getPosition = (Integer) buttonView.getTag(); 
```

无法获取值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:31:39.167

尝试如下方式。无需`getPositionx`在构造函数内部传递，因为您已经在类中全局定义了它。

```
class MyCustomItemClickListener implements OnClickListener {

    MyCustomItemClickListener() {
        /*
         * Whatever initialization you need can be done here. You can pass
         * values in constructor when calling it from getview and use with
         * intent extras
         */

    }

    @Override
    public void onClick(View arg0) {
        // Launch Activity

   in = new Intent(context, YourActivity.class);
         in.putExtra("aa", getPositionx);

        context.startActivity(in);
    }

} 
```

并将您的初始化更改为

```
convertView.setOnClickListener(new MyCustomItemClickListener()); 
```

# java - 为什么我不能在其余的编码中使用构造函数变量？

> ID：15037772
> 
> 赞同：0
> 
> 时间：2013-02-23T06:22:39.400
> 
> 标签：java, constructor, jtextpane

```
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextPane;

public class Log extends JFrame {
    private static final long serialVersionUID = 1L;

    String logx = "LOG: ";
    JTextPane txt = new JTextPane();
    JPanel p = new JPanel();
    String addTo;

    public Log() {
        super("LOG");
        setSize(720, 600);
        setResizable(false);
        setDefaultCloseOperation(EXIT_ON_CLOSE);
        p.add(txt);
        add(p);
        txt.setText(logx);
    }

    public Log(String a) {
        addTo = a;
        txt.setText(addTo);

    }
} 
```

这是我的“日志”类的编码，其想法是我的主类中的字符串将显示在 JTextPane 中。

我是java新手，所以我知道使用构造函数可能不是最好的方法。

为什么我的构造函数中的 String a 不能添加到我的 JTextPane 中？

如果我没有提供足够的信息，请告诉我，我尽量保持简单。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:28:09.453

当您创建 Log 类的新实例并向其传递一个字符串（在本例中为“a”）时，它将运行其中的代码`public Log(String a) {`而不会运行该`public Log() {`部分。您有两个不同的构造函数，但根据您在创建类时传递的内容，只会调用其中一个。现在，您正在尝试设置 JTextPane 的文本，但尚未设置屏幕（`public Log() {`从未调用过）。为了解决这个问题，请尝试更改

```
public Log(String a) {
    addTo = a;
    txt.setText(addTo);

} 
```

到

```
public Log(String a) {
    super("LOG");
    setSize(720, 600);
    setResizable(false);
    setDefaultCloseOperation(EXIT_ON_CLOSE);
    p.add(txt);
    add(p);
    addTo = a;
    txt.setText(addTo);

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:30:28.250

你的第一个构造函数已经工作了吗？如果是这样，请尝试：

```
public Log(String a) {
    super("LOG");
    setSize(720, 600);
    setResizable(false);
    setDefaultCloseOperation(EXIT_ON_CLOSE);
    p.add(txt);
    add(p);
    addTo = a;
    txt.setText(addTo);

} 
```

看来您的重载构造函数缺少一些东西。

# php - 创建新的magento Rest api以获取magento中的类别列表

> ID：15037773
> 
> 赞同：4
> 
> 时间：2013-02-23T06:22:49.780
> 
> 标签：php, api, magento, rest, oauth

有谁知道如何创建新的 magento rest api 来获取类别列表。

我已经看到这个链接 [magento rest api](http://www.magentocommerce.com/wiki/doc/webservices-api/introduction_to_rest_api)但这不是获取类别列表。

如果有人知道，那么请解决这个问题..

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-02T06:42:22.530

[首先使用http://www.silksoftware.com/magento-module-creator/](http://www.silksoftware.com/magento-module-creator/)创建基本模块，然后您必须创建以下文件并将此文件添加到给定路径中。

模块路径 = `app/code/local/Restapi/Categories`

1）**app/code/local/Restapi/Categories/etc/api2.xml**

```
<?xml version="1.0"?>
<config>
<api2>
    <resource_groups>
        <catalog translate="title" module="api2">
            <title>Catalog</title>
            <sort_order>10</sort_order>       
        </catalog>
    </resource_groups>
    <resources>
        <categories translate="title" module="api2">
            <group>catalog</group>
            <model>categories/api2_category</model>
            <title>Categories</title>
            <sort_order>10</sort_order>
            <privileges>
                <admin>
                    <retrieve>1</retrieve>
              <!--  <create>1</create>
                    <update>1</update>
                    <delete>1</delete>  --> 
                </admin>
                <customer>
                    <retrieve>1</retrieve>
              <!--  <create>1</create>
                    <update>1</update>
                    <delete>1</delete>  --> 
                </customer>
                <guest>
                    <retrieve>1</retrieve>
              <!--  <create>1</create>
                    <update>1</update>
                    <delete>1</delete>  --> 
                </guest>
            </privileges>
            <attributes>
                <category_id>Category ID</category_id>
                <name>Name</name>
                <parent_id>Category Parent ID</parent_id>
                <child_id>Category Child List</child_id>
                <active>Active</active>
                <level>Level</level>
                <position>Position</position>
            </attributes>
            <routes>
                <route>
                    <route>/categories/:cat_id</route>
                    <action_type>collection</action_type>
                </route>
            </routes>
            <versions>1</versions>
        </categories>
    </resources>
</api2>
</config> 
```

这里 cat_id 是我们传递给获取子类别的类别 ID。

2）**app/code/local/Restapi/Categories/Model/Api2/Category/Rest/Customer/V1.php**

```
<?php
class Restapi_Categories_Model_Api2_Category_Rest_Customer_V1 extends Restapi_Categories_Model_Api2_Category
{
/**
 * Retrieve list of category list.
 *
 * @return array
 */
protected function _retrieveCollection()
{   
    $ruleId = $this->getRequest()->getParam('cat_id');

//  $cat_mod = Mage::getModel('catalog/category')->load($ruleId)->toArray();
    $cats = Mage::getModel('catalog/category')->load($ruleId);
    $subcats  = Mage::getModel('catalog/category')->load($ruleId)->getChildren();

    $cur_category = array();

    $node['category_id'] = $ruleId;
    $node['name'] = $cats->getName();
    $node['parent_id'] = $cats->getParentId();
    $node['child_id'] = $subcats;
    if($cats->getIsActive()){
        $node['active'] = 1;
    }else{
        $node['active'] = 0;
    }
    $node['level'] = $cats->getLevel();
    $node['position'] = $cats->getPosition();

    $cur_category[] = $node;

//  $subcats  = Mage::getModel('catalog/category')->load($ruleId)->getAllChildren();
//  $subcats  = Mage::getModel('catalog/category')->load($ruleId)->getChildren();

    if($subcats != '') 
    {
        foreach(explode(',',$subcats) as $subCatid)
        {
            $_category = Mage::getModel('catalog/category')->load($subCatid);
            $childcats  = Mage::getModel('catalog/category')->load($subCatid)->getChildren();

            $node['category_id'] = $subCatid;
            $node['name'] = $_category->getName();
            $node['parent_id'] = $_category->getParentId();
            $node['child_id'] = $childcats;
            if($_category->getIsActive()){
                $node['active'] = 1;
            }else{
                $node['active'] = 0;
            }
            $node['level'] = $_category->getLevel();
            $node['position'] = $_category->getPosition();

            $cur_category[] = $node;

        }
    }

    return $cur_category;       
} 
```

如果您有其他用户（如 admin 和 guest），您还可以在此路径中添加相同的 V1.php 文件。

`app/code/local/Restapi/Categories/Model/Api2/Category/Rest/Admin/V1.php`

`app/code/local/Restapi/Categories/Model/Api2/Category/Rest/Guest/V1.php`

只是您想更改 V1.php 文件中的类路径，例如 Customer = Admin。

# ruby-on-rails - 求地球上各点的几何平均值

> ID：15037776
> 
> 赞同：2
> 
> 时间：2013-02-23T06:23:10.480
> 
> 标签：ruby-on-rails, google-maps, math, maps, geometry

我正在开始一个项目，我正在使用谷歌地图在地球上绘制一组点。我想找到地球上的平均点（到所有点的最短总距离），但我不确定如何处理它，因为在地球周围的距离可能会更短。（-178 度到 178 度经度仅相差 4 度经度，不是 356 度）。通过 api 调用或从数学角度解决这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T10:09:52.947

我非常怀疑是否有一个巧妙的几何参数给出了所需点的封闭形式表达式。尽管如此，这里有一个简单的算法，可以在任何所需的精度范围内给出答案：

[https://gist.github.com/amitkgupta/5019163](https://gist.github.com/amitkgupta/5019163)

如果您想要一个数学上更令人满意的解决方案，我建议您在[http://math.stackexchange.com](http://math.stackexchange.com)上询问，或者他们对您没有帮助，请将其升级到[http://mathoverflow.net](http://mathoverflow.net)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T07:09:54.647

我可以建议简单快速的解决方案（但不是精确的初始任务）。找到[点的重心](http://en.wikipedia.org/wiki/Center_of_gravity)，那么可能有2种情况：

1.  它位于球心 - 不知道该怎么做（如果初始点彼此靠近分布 - 这不会发生）

2.  在其他情况下 - 考虑以质心和球心为终点和起点的向量，找到这样的向量与球体表面相交的位置，即该点 - 就是答案。

因此，您会得到类似于“中点”的点，但仅在所考虑的表面非常小的情况下（可能所有点都位于同一城市内）。但它也与从结果到初始点的最小平均距离无关。

# iphone - 如何让 UITabBarController 直接进入你的通讯录？

> ID：15037777
> 
> 赞同：0
> 
> 时间：2013-02-23T06:23:21.570
> 
> 标签：iphone, ios, objective-c, tabbarcontroller

我看到了一个实现，但我需要关于它到底去哪里的帮助。所以我打开了 TabBarController，我看到了这样的代码

```
picker = [[ABPeoplePickerNavigationController alloc] init];
// place the delegate of the picker to the control
picker.peoplePickerDelegate = self;
picker.view.frame = self.view.bounds;
[self.view addSubview:picker.view]; 
```

这是最初的问题“我想`UIAddressBook`在我的内部显示一个`UITabBarController`（*它也嵌入在 UINavigationController 中*）而不是每次都以模态方式显示它。换句话说，我想访问一个已经存在的地址簿选项卡栏控制器和导航控制器。当我以模态方式显示它时，这两个消失了，因为它是一个全新的视图。但是，我找不到嵌入它的文档。有人有任何指针吗？

所以为了澄清我的立场，我有一个新的 TabBar 项目设置，我希望第二个标签栏自动打开联系人。我该怎么做呢？抱歉我的无知，我对iOS很陌生。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:26:48.893

**这是您/初学者使用的简单示例。**

以下代码可帮助您从联系人列表中获取大部分人员数据。

**首先在您的类.h 文件**中添加所有 Delegate 和 Datasource 方法

 **```
<ABPeoplePickerNavigationControllerDelegate,ABPersonViewControllerDelegate,ABNewPersonViewControllerDelegate,ABUnknownPersonViewControllerDelegate> 
```

创造`ABPeoplePickerNavigationController`

```
ABPeoplePickerNavigationController *picker = [[ABPeoplePickerNavigationController alloc] init];
        [[picker navigationBar] setBarStyle:UIBarStyleBlack];
        picker.peoplePickerDelegate = self;
        // Display only a person's phone, email, and birthdate
        NSArray *displayedItems = [NSArray arrayWithObjects:[NSNumber numberWithInt:kABPersonPhoneProperty],nil];

        picker.displayedProperties = displayedItems;
        // Show the picker
        [self presentModalViewController:picker animated:YES];
        [picker release]; 
```

添加Following Delegate和DataSource方法`ABPeopelPickerNavigationController`

```
#pragma mark - ABPeopelPickerNavigationController Delegate and DataSource Methods

- (void)peoplePickerNavigationControllerDidCancel:(ABPeoplePickerNavigationController *)peoplePicker
{
    [self dismissModalViewControllerAnimated:YES];
}

- (void)unknownPersonViewController:(ABUnknownPersonViewController *)unknownCardViewController didResolveToPerson:(ABRecordRef)person
{
}

- (void)newPersonViewController:(ABNewPersonViewController *)newPersonView didCompleteWithNewPerson:(ABRecordRef)person
{
}

- (BOOL)personViewController:(ABPersonViewController *)personViewController shouldPerformDefaultActionForPerson:(ABRecordRef)person property:(ABPropertyID)property identifier:(ABMultiValueIdentifier)identifier
{
    return YES;
}

- (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person property:(ABPropertyID)property identifier:(ABMultiValueIdentifier)identifier;
{
    return YES;
} 
```

下面的代码用于从电话簿中获取人员的所有信息

```
- (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person
{
    ABAddressBookRef addressBook = ABAddressBookCreate();

    int i;
    NSString *strName = @"";
    NSString* company = @"";
    NSString *address = @"";
    NSString *suburb = @"";
    NSString *postalcode = @"";
    NSString *state = @"";
    NSString *country = @"";
    NSString *mobile = @"";
    NSString *phone = @"";
    NSString *emailid = @"";

    strName = (NSString *)ABRecordCopyCompositeName((ABRecordRef) person);
    CFStringRef name = ABRecordCopyCompositeName((ABRecordRef) person);
    company  = (NSString *)ABRecordCopyValue((ABRecordRef) person, kABPersonOrganizationProperty);

    NSArray*  allPeople = (NSArray *)ABAddressBookCopyPeopleWithName(addressBook,name);
    CFRelease(name);

    for (i = 0; i < [allPeople count]; i++)
    {
        ABRecordRef record = [allPeople objectAtIndex:i];

        ABMutableMultiValueRef multiValue = ABRecordCopyValue(record, kABPersonAddressProperty);
        for(CFIndex i=0; i<ABMultiValueGetCount(multiValue); i++)
        {
            NSString* HomeLabel = (NSString*)ABMultiValueCopyLabelAtIndex(multiValue, i);
            if([HomeLabel isEqualToString:@"_$!<Home>!$_"])
            {
                CFDictionaryRef dict = ABMultiValueCopyValueAtIndex(multiValue, i);
                address = [NSString stringWithFormat:@"%@", CFDictionaryGetValue(dict, kABPersonAddressStreetKey)];
                suburb = [NSString stringWithFormat:@"%@", CFDictionaryGetValue(dict, kABPersonAddressCityKey)];
                postalcode = [NSString stringWithFormat:@"%@", CFDictionaryGetValue(dict, kABPersonAddressZIPKey)];
                state = [NSString stringWithFormat:@"%@", CFDictionaryGetValue(dict, kABPersonAddressStateKey)];
                country = [NSString stringWithFormat:@"%@", CFDictionaryGetValue(dict, kABPersonAddressCountryKey)];

                CFRelease(dict);
            }
            CFRelease(HomeLabel);
        }
        CFRelease(multiValue);
    }
    CFRelease(allPeople);

    ABMultiValueRef phones =(NSString*)ABRecordCopyValue(person, kABPersonPhoneProperty);
    NSString* mobileLabel = nil;
    for(CFIndex i = 0; i < ABMultiValueGetCount(phones); i++)
    {
        mobileLabel = (NSString*)ABMultiValueCopyLabelAtIndex(phones, i);
        if([mobileLabel isEqualToString:(NSString *)kABPersonPhoneMobileLabel])
        {
            mobile = (NSString*)ABMultiValueCopyValueAtIndex(phones, i);
            NSLog(@"phone   %@",mobile);
        }
        else if ([mobileLabel isEqualToString:(NSString*)kABPersonPhoneIPhoneLabel])
        {
            phone = (NSString*)ABMultiValueCopyValueAtIndex(phones, i);
            NSLog(@"phone   %@",phone);

            CFRelease(mobileLabel);
            break ;
        }
        CFRelease(mobileLabel);

    }
    CFStringRef value, label;
    ABMutableMultiValueRef multi = ABRecordCopyValue(person, kABPersonEmailProperty);
    CFIndex count = ABMultiValueGetCount(multi);
    if (count == 1)
    {
        value = ABMultiValueCopyValueAtIndex(multi, 0);
        emailid = (NSString*) value;
        NSLog(@"self.emailID   %@",emailid);
        CFRelease(value);
    }
    else
    {
        for (CFIndex i = 0; i < count; i++)
        {
            label = ABMultiValueCopyLabelAtIndex(multi, i);
            value = ABMultiValueCopyValueAtIndex(multi, i);

            // check for Work e-mail label
            if (CFStringCompare(label, kABWorkLabel, 0) == 0)
            {
                emailid = (NSString*) value;
                NSLog(@"self.emailID   %@",emailid);
            }
            else if(CFStringCompare(label, kABHomeLabel, 0) == 0)
            {
                emailid = (NSString*) value;
                NSLog(@"self.emailID   %@",emailid);
            }

            CFRelease(label);
            CFRelease(value);
        }
    }
    CFRelease(multi);

        }

    CFRelease(phones);
    CFRelease(addressBook);
    [self dismissModalViewControllerAnimated:YES];

    return NO;

} 
```

有关更多信息，请阅读[本](http://developer.apple.com/library/ios/#documentation/ContactData/Conceptual/AddressBookProgrammingGuideforiPhone/Chapters/QuickStart.html)教程和[本](http://blog.slaunchaman.com/2009/01/21/cocoa-touch-tutorial-extract-address-book-address-values-on-iphone-os/)教程。

**谢谢 ：）****

# android - 如何在 Android 上通过新的 Google Maps API v2 显示 Google Maps？

> ID：15037779
> 
> 赞同：2
> 
> 时间：2013-02-23T06:23:50.130
> 
> 标签：android, google-maps, android-mapview, google-maps-api-2

新的 Google Maps API v2 刚刚发布，它与之前的 Google Maps API v1 有所不同。

您如何使用新 API 显示 Google 地图？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-23T06:23:50.130

如您所知，新的 Google Maps API v2 于 2012 年 12 月发布。

因此，在 Android 上显示 Google Map 的方法与过去（Google Maps API v1）有很大不同。但从现在开始，许多人不太可能意识到这种差异。

**首先**，需要提前设置好谷歌服务库、支持库和有效的API密钥。如果你不知道怎么做，请仔细阅读这两个文件：[一](http://developer.android.com/intl/ko/google/play-services/setup.html)和[二](https://developers.google.com/maps/documentation/android/start)。

**其次**，显示普通谷歌地图的代码也不同于过去已知的MapView（谷歌地图API v1）。

我以自答的形式向新晋Android开发者介绍第二期如下；

**1.在(Support)Fragment中显示普通的谷歌地图。**

**主.xml** ...

请注意“类=”com.google。**android.gms.maps** .SupportMapFragment"" 是正确的。

旧版本使用“class="com.google。**android.maps** .SupportMapFragment""

```
<?xml version="1.0" encoding="utf-8"?>
<!-- This can go anywhere in your layout (see other demos for some examples). -->
<fragment xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/map"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  class="com.google.android.gms.maps.SupportMapFragment"/> 
```

**MainActivity.java** .... 请注意，要在 MainActivity 中导入的所有类必须如下所示；请检查导入的类是否有 com.google.android。**gms .maps.xxxxxxx**类型。

```
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;
import android.os.Bundle;

/**
 * This shows how to create a simple activity with a map and a marker on the map.
 * <p>
 * Notice how we deal with the possibility that the Google Play services APK is not
 * installed/enabled/updated on a user's device.
 */
public class BasicMapActivity extends android.support.v4.app.FragmentActivity {
    /**
     * Note that this may be null if the Google Play services APK is not available.
     */
    private GoogleMap mMap;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        setUpMapIfNeeded();
    }

    @Override
    protected void onResume() {
        super.onResume();
        setUpMapIfNeeded();
    }

    /**
     * Sets up the map if it is possible to do so (i.e., the Google Play services APK is correctly
     * installed) and the map has not already been instantiated.. This will ensure that we only ever
     * call {@link #setUpMap()} once when {@link #mMap} is not null.
     * <p>
     * If it isn't installed {@link SupportMapFragment} (and
     * {@link com.google.android.gms.maps.MapView
     * MapView}) will show a prompt for the user to install/update the Google Play services APK on
     * their device.
     * <p>
     * A user can return to this Activity after following the prompt and correctly
     * installing/updating/enabling the Google Play services. Since the Activity may not have been
     * completely destroyed during this process (it is likely that it would only be stopped or
     * paused), {@link #onCreate(Bundle)} may not be called again so we should call this method in
     * {@link #onResume()} to guarantee that it will be called.
     */
    private void setUpMapIfNeeded() {
        // Do a null check to confirm that we have not already instantiated the map.
        if (mMap == null) {
            // Try to obtain the map from the SupportMapFragment.
            mMap = ((SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map))
                    .getMap();
            // Check if we were successful in obtaining the map.
            if (mMap != null) {
                setUpMap();
            }
        }
    }

    /**
     * This is where we can add markers or lines, add listeners or move the camera. In this case, we
     * just add a marker near Africa.
     * <p>
     * This should only be called once and when we are sure that {@link #mMap} is not null.
     */
    private void setUpMap() {
        mMap.addMarker(new MarkerOptions().position(new LatLng(0, 0)).title("Marker"));
    }
} 
```

**2.在（支持）Fragment中显示MapView。**

**主.xml** ....

请注意，“类=”com。**google.android.gms** .maps。**MapView** "" 是正确的。

旧版本使用“class="com. **google.android.maps**。**地图视图**”。

```
<?xml version="1.0" encoding="utf-8"?>
<!-- This can go anywhere in your layout. -->
<com.google.android.gms.maps.MapView xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/map"
  android:layout_width="match_parent"
  android:layout_height="match_parent"/> 
```

**MainActivity.java** ...

请注意，要在 MainActivity 中导入的所有类必须如下所示；请检查导入的类是否有 com.google.android。**gms .maps.xxxxxxx**类型。

而且**您必须添加“mMapView.onCreate(savedInstanceState);” 在 OnCreate() 下**。

```
import android.os.Bundle;
import com.google.android.gms.maps.MapView;

/**
 * This shows how to create a simple activity with a raw MapView and add a marker to it. This
 * requires forwarding all the important lifecycle methods onto MapView.
 */
public class RawMapViewDemoActivity extends android.support.v4.app.FragmentActivity {
    private MapView mMapView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        mMapView = (MapView) findViewById(R.id.map);
        mMapView.onCreate(savedInstanceState);

    }

    @Override
    protected void onResume() {
        super.onResume();
        mMapView.onResume();

    }

    @Override
    protected void onPause() {
        mMapView.onPause();
        super.onPause();
    }
    @Override
    protected void onDestroy() {
        mMapView.onDestroy();
        super.onDestroy();
    }
    @Override
    public void onLowMemory() {
        super.onLowMemory();
        mMapView.onLowMemory();
    }

    @Override
    public void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        mMapView.onSaveInstanceState(outState);
    }
} 
```

特别是在 MapView 的情况下，很多人犯了一个错误，在他们的 main.xml 中设置“ **com.google.android.maps.MapView** ..”后，他们导入了“ **com.google.android.gms.maps.MapView** ”在他们的 MainActivity 中。它会导致 ANR（错误）。在相反的情况下是相同的结果。

因此，请始终检查是否必须在应用程序的 main.xml 和 MainActivity.java 中使用或导入相同的类或对象。

# bash - 在查找中使用变量

> ID：15037781
> 
> 赞同：0
> 
> 时间：2013-02-23T06:23:56.323
> 
> 标签：bash, find

我正在尝试从数据库中查找文件。我从 php 文件中获取数据就好了。这只是我遇到问题的一行：

```
directory=`find ./ -type f -name "*$thismodelnormal*" -exec ls -la {} \;` 
```

`$thismodelnormal`只是一个字符串，但它是基于数据库数据的动态的。谁能启发我如何完成这项工作？我已经做了很多研究，但找不到解决方案……当然，以前有人做过。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:44:22.373

在我的脚本顶部添加`set -x`允许我查看实际正在运行的命令。在这种情况下，我的命令需要是

```
directory=`find ./ -type f -name "*"$thismodelnormal"*" -exec ls -la {} \;` 
```

注意两组双引号。一个用于查找本身，另一个用于提取变量。

# java - Jax-rs (Wink) 多个 GET 方法抛出 404 或 405

> ID：15037786
> 
> 赞同：1
> 
> 时间：2013-02-23T06:24:44.987
> 
> 标签：java, jersey, jax-rs, apache-wink

[我在这里](https://stackoverflow.com/questions/4784028/jax-rs-multiple-paths)发现了类似的东西，但与我的问题不同。

我正在构建一个 Apache Wink 应用程序，我有一个像这样的资源类..

```
@Path("/things")
@Produces(MediaType.APPLICATION_JSON + ";charset=UTF-8")
public class ThingResource extends AbstractResource {
  ...
} 
```

我的第一个 GET 方法旨在成为响应 ... www.example.com/context/things 调用的基本 get-collection 方法。如下所示

```
@GET
public List <Thing> getThings() {
  ...
} 
```

我的第二个 GET 方法应该获取 getThings() 返回的特定事物，如下所示

```
@GET
@Path("/{thingId}")
public Thing getThing (@PathParam ("thingId") long id) {
 ...
} 
```

* * *

到目前为止，一切正常。

* * *

因此，当我添加另一个 GET 方法时，旨在从 getThings() 返回的集合中创建特定事物的文件表示——（如下所示）——当我尝试点击 [获取 /] => getThings()

```
@GET
@Path("/{thingId}/export")
public javax.ws.rs.core.Response exportThing( @PathParam ("thingId") long thingId, @DefaultValue("true") boolean encryptFile) {
  ...
} 
```

如果我删除 exportThing() 方法并重新部署它，它运行良好。

Tomcat 6 Java 6 Apache Wink 1.2

# c++ - C ++中的预期表达式？

> ID：15037787
> 
> 赞同：-3
> 
> 时间：2013-02-23T06:24:56.430
> 
> 标签：c++

```
#include <iostream>
using namespace std;
void num7()
{
    int numRows;
    cin >> numRows;
    for (int x = 0; x < numRows/2; x++) {
        for (int y = 0; y <= x; y++) {
            cout << "*";
        }
        cout << "\n";
    }
    float numRowsfloat = numRows;
    double cos = numRowsfloat / 2;
    int tan = numRowsfloat / 2;
    double sin = tan;
    if (cos == sin)
        cout << "\n";
        for (int x = 0; x < numRows/2; x++) {
            for (int y = numRows/2; y >0; y--) {
                cout << "*";
            }
        }
    else
        for (int x = 0; x < numRows/2+1; x++) {
            for (int y = x; y >0; y--) {
                cout << "*";
            }
            cout << "\n";
        }

} 
```

在 else 列中，它表示预期的表达式。这是试图制作一个三角形。喜欢

```
*
**
***
***
**
* 
```

对于输入的 6 或

```
*
**
***
**
* 
```

对于输入 5

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T06:28:04.477

你的问题是这样的：

```
if (cos == sin)
    cout << "\n";
    for (int x = 0; x < numRows/2; x++) {
        for (int y = numRows/2; y >0; y--) {
            cout << "*";
        }
    } 
```

这里只是声明的`cout`一部分`if`。循环不是。您需要在整个块周围添加大括号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T06:27:33.730

您忘记了 if 语句的大括号。尝试这个：

```
if (cos == sin) {
    cout << "\n";
    for (int x = 0; x < numRows/2; x++) {
        for (int y = numRows/2; y >0; y--) {
            cout << "*";
        }
    }
} else
    for (int x = 0; x < numRows/2+1; x++) {
        for (int y = x; y >0; y--) {
            cout << "*";
        }
        cout << "\n";
    } 
```

# java - java.util.PriorityQueue 的元素不会在 poll() 上移动

> ID：15037790
> 
> 赞同：0
> 
> 时间：2013-02-23T06:25:02.203
> 
> 标签：java, priority-queue

我正在图上实现 BFS，其中节点由 State 类的对象标记（我已经实现了隐式等于方法进行比较）。

我已经使用带有返回 1 的比较器的 PriorityQueue 实现了我的队列，因为我想扩展程序以处理 DFS、Astar 等，我可以通过更改比较器内部的逻辑来实现

以下是相关代码：

//BFSComparator.java

```
import java.util.Comparator;

public class BFSComparator implements Comparator<State>{
    @Override public int compare(State x, State y) {
       return 1;
    }
} 
```

//solver.java

```
Comparator comparator = new BFSComparator();
PriorityQueue<State> frontierList = new PriorityQueue<State>(500,comparator); //List of nodes to be expanded
frontierList.add(seed state0);
while (!frontierList.isEmpty()){
        curState = frontierList.poll();
        //handle, expand and add child states to frontierList 
```

在遍历列表并打印存在的元素时，我发现某些元素不会向上移动（例如，poll 上的 {a,b,c,d,e} 在 poll( ) 而不是 {b,c,d,e})，因此它不执行 FIFO。

```
for(State x:frontierList) {
             //print x
} 
```

1) 我的比较器有问题吗？

2）一般来说有没有更好的方法来做到这一点？即，一个比优先级队列更好的容器，我可以在更改排序背后的逻辑时添加它，而不是使用具有不同调用名称（如推送和弹出）的队列和堆栈？当我稍后根据启发式对它们进行排序时，这将很有帮助。还是应该只使用链表并执行基于插入排序的方法？

* * *

编辑：我想让它更清楚一点。我正在尝试实现一个集合，无论 DFS 或 BFS（FIFO 或 LIFO）或其他基于优先级的算法（如 A-Star 和 Beam 搜索）如何，我都可以使用常见的 add(State) 或 State x = remove() 扔东西.

我可能会扩展集合并实现 add 和其他方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T08:51:21.147

```
public int compare(State x, State y) 
```

此方法返回正值表示 x > y，负值表示 x < y，0 表示 x==y。

我认为你应该使用 Queue 来声明 frontierList

当你需要 DFS 时，使用 LinkedList<State>

当你需要 BFS 时，使用 PriorityQueue<State> 和 Comparator<State> 返回你想要的最小或最大状态

# ios - iOS 在下载多张图片和更新 UIProgressView 过程中的一些问题

> ID：15037791
> 
> 赞同：0
> 
> 时间：2013-02-23T06:25:28.427
> 
> 标签：ios, objective-c, xcode, download, uiprogressview

我有这3节课。

*   [MyViewController.m（点击查看代码）](http://pastebin.com/G4hHM0Xc)
*   [MySync.m（点击查看代码）](http://pastebin.com/TPBVzjUv)
*   [ImageDownload.m（点击查看代码）](http://pastebin.com/GXCz2SCc)

当我下载图像时，我尝试在我的 UIViewController 中更新 UIProgressView，但更新被延迟了，并且我看到了一个奇怪的问题（请参阅附加图像中的空白区域）。

当所有下载完成并执行“MyViewController”的“syncComplete”方法时，“dismissAlertView”方法不会被触发：S

![在此处输入图像描述](../Images/58a60d299e3d403c14b5f4f8ee6c9c5b.png)

我希望有人能帮助我。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:46:19.170

假设syncComplete 是调用dismissAlertView 的那个，请确保iI 正在调用UI 线程（主线程）。如果您使用 GCD，会出现这样的情况：

```
dispatch_async (dispatch_get_main_queue (),  ^{
// call the dismissAlertView method here
}); 
```

# android - 安卓连接接收器

> ID：15037795
> 
> 赞同：0
> 
> 时间：2013-02-23T06:26:23.157
> 
> 标签：android

我收到类似的错误

```
(java.lang.RuntimeException: Unable to start receiver com.lmx.example.ConnectivityReceiver: java.lang.NullPointerException 
```

从以下代码

```
public void onReceive(Context context, Intent intent) {
        String strconnectiondata = "action: " + intent.getAction();
        Log.d(ConnectivityReceiver.class.getSimpleName(), strconnectiondata);
        SessionManager sess = new SessionManager(context);
        if (sess.isLoggedIn()) {
            TelephonyManager myTelManager = (TelephonyManager) context
                    .getSystemService(Context.TELEPHONY_SERVICE);
            myTelManager.listen(new DheuttoPhoneStateListener(context),
                    PhoneStateListener.LISTEN_CALL_STATE);
            Log.i("CALL STATE","Phnone State:"+PhoneStateListener.LISTEN_CALL_STATE);
        }else {
            Log.i("LOGIN INFO:", "Still didn't login for accept the call");
        }

    } 
```

在这里，我正在检查用户是否已登录。如果登录我的应用程序，那么我必须检查所有来电。当我接到来电时，电话号码应该被存储，并且在它结束活动通话后会转到相关的手机号码交易页面。在交易页面中，我可以选择退出当前的手机号码交易。直到注销其他来电是不允许的。

我的日志是：

```
02-23 11:00:26.413: E/AndroidRuntime(474): FATAL EXCEPTION: main
02-23 11:00:26.413: E/AndroidRuntime(474): java.lang.RuntimeException: Unable to start receiver com.lmx.example.ConnectivityReceiver: java.lang.NullPointerException
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:1805)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.app.ActivityThread.access$2400(ActivityThread.java:117)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:981)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.os.Looper.loop(Looper.java:123)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-23 11:00:26.413: E/AndroidRuntime(474):  at java.lang.reflect.Method.invokeNative(Native Method)
02-23 11:00:26.413: E/AndroidRuntime(474):  at java.lang.reflect.Method.invoke(Method.java:507)
02-23 11:00:26.413: E/AndroidRuntime(474):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-23 11:00:26.413: E/AndroidRuntime(474):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-23 11:00:26.413: E/AndroidRuntime(474):  at dalvik.system.NativeStart.main(Native Method)
02-23 11:00:26.413: E/AndroidRuntime(474): Caused by: java.lang.NullPointerException
02-23 11:00:26.413: E/AndroidRuntime(474):  at com.lmx.example.SessionManager.<init>(SessionManager.java:28)
02-23 11:00:26.413: E/AndroidRuntime(474):  at com.lmx.example.examplePhoneStateListener.<init>(examplePhoneStateListener.java:18)
02-23 11:00:26.413: E/AndroidRuntime(474):  at com.lmx.example.ConnectivityReceiver.onReceive(ConnectivityReceiver.java:20)
02-23 11:00:26.413: E/AndroidRuntime(474):  at android.app.ActivityThread.handleReceiver(ActivityThread.java:1794)
02-23 11:00:26.413: E/AndroidRuntime(474):  ... 10 more
02-23 11:00:27.316: D/dalvikvm(474): GC_CONCURRENT freed 321K, 51% free 2881K/5831K, external 731K/1038K, paused 12ms+74ms 
```

# hibernate - Hibernate ManyToMany 相同的 JoinColumn 名称

> ID：15037802
> 
> 赞同：0
> 
> 时间：2013-02-23T06:27:02.263
> 
> 标签：hibernate, orm, many-to-many, hibernate-mapping, hibernate-4.x

我有两个实体类`Activity`和`User`. 它们之间的关系是：

*   一个`Activity`可以有一个或多个`User`
*   一罐`User`属于一个或多个`Activity`

因此，为了实现这一点，我定义`@ManyToMany`了它们之间的映射。下面是我的课：

`Activity`：

```
@javax.persistence.Entity
@Table(name = "ACTIVITY")
public class Activity extends Entity {

    @Transient
    private static final long serialVersionUID = 4741665931936809028L;

    private Set<User> users;

    public Activity() {
        super();
    }

    @ManyToMany(targetEntity = User.class, cascade = { CascadeType.ALL })
    @JoinTable(name = "ACTIVITY_USER", joinColumns = @JoinColumn(name = "ID"), inverseJoinColumns = @JoinColumn(name = "ID"))
    public Set<User> getUsers() {
        return users;
    }

    public void setUsers(Set<User> users) {
        this.users = users;
    }
} 
```

`User`：

```
@javax.persistence.Entity
@Table(name = "USER")
public class User extends Entity {

    @Transient
    private static final long serialVersionUID = -112950002831333869L;

    private Set<Activity> activities;

    public User() {
        super();
    }

    @ManyToMany(cascade = { CascadeType.ALL }, mappedBy = "users", targetEntity = Activity.class)
    public Set<Activity> getActivities() {
        return activities;
    }

    public void setActivities(Set<Activity> activities) {
        this.activities = activities;
    }
} 
```

以上两个类都扩展了`Entity`：

```
@MappedSuperclass
public class Entity implements Serializable {

    @Transient
    private static final long serialVersionUID = 7470288121057059283L;

    private Long id;

    public Entity() {
        super();
    }

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "ID", updatable = false, nullable = false, unique = true)
    public Long getId() {
        return id;
    }

    @SuppressWarnings("unused")
    private void setId(Long id) {
        this.id = id;
    }

    public void setLastUpdateTimestamp(Date lastUpdateTimestamp) {
        this.lastUpdateTimestamp = lastUpdateTimestamp;
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        return prime * result + ((getId() == null) ? super.hashCode() : getId().hashCode());
    }

    @Override
    public boolean equals(Object obj) {
        if (this == obj) {
            return true;
        }

        if (obj == null) {
            return false;
        }

        if (!getClass().equals(HibernateProxyHelper.getClassWithoutInitializingProxy(obj))) {
            return false;
        }

        final Entity other = (Entity) obj;

        if (getId() != other.getId()) {
            if (getId() == null) {
                return false;
            }
            if (!getId().equals(other.getId())) {
                return false;
            }
        }

        return true;
    }
} 
```

现在从：

```
@JoinTable(name = "ACTIVITY_USER", joinColumns = @JoinColumn(name = "ID"), inverseJoinColumns = @JoinColumn(name = "ID")) 
```

据我所知，of 的`@JoinColumn`名称`joinColumns`采用一个实体的 PK 的列名，而 of 的`@JoinColumn`名称`inverseJoinColumns`采用另一个实体的 PK 的列名。但在我的情况下，两个列名都是相同的，即`ID`来自`Entity`类。

我的问题是如何避免列名的这种冲突？任何建议都会对我很有帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-23T08:30:01.750

在同一个表中有两个具有相同名称的列是没有意义的。因此，只需为列选择不同的名称。

改变

```
@JoinTable(name = "ACTIVITY_USER", 
           joinColumns = @JoinColumn(name = "ID"), 
           inverseJoinColumns = @JoinColumn(name = "ID")) 
```

到

```
@JoinTable(name = "ACTIVITY_USER", 
           joinColumns = @JoinColumn(name = "ACTIVITY_ID"), 
           inverseJoinColumns = @JoinColumn(name = "USER_ID")) 
```

正如属性名称所表明的那样，您在此处给出的名称是*连接表的名称，**连接表*的一部分，即在连接表 ACTIVITY_USER 中保存活动或用户表的外键的列的名称。Hibernate 已经知道 User 和 Activity 的 PK 名称：您在各自的`@Id`注释中告诉它。

# python - 用户如何输入文件名？

> ID：15037803
> 
> 赞同：4
> 
> 时间：2013-02-23T06:27:13.013
> 
> 标签：python, io

我已经为汇编程序编写了代码，但我还是 python 新手。
在我的代码中，我让用户输入了一个将被转换为汇编语言的文件。我想我几乎让它工作了，但我不知道用户在哪里输入文件名。
我处于*（我认为是）*空闲状态，然后当我按下 F5 时，它在 shell 中运行。我收到一个错误，但我很确定这是因为没有输入文件名。

用户应该在哪里输入这些东西？这是从 python shell 还是从命令行完成的，我需要将其转换为可执行文件吗？

有人可以帮助澄清用户在哪里输入所有这些信息吗？

我会放一段代码，虽然我认为没有必要回答我的问题，但也许它会让你更好地了解我的问题。

```
if __name__ == '__main__':
import sys

if len(sys.argv) == 1:
    print 'need filename'
    sys.exit(-1)

table = SymbolTable()
parser = Parser(sys.argv[1])
parser.advance()
line = 0

while parser.hasMoreCommands():
    if parser.commandType() == 'L_COMMAND':
        table.addEntry(parser.symbol(), line)
    else:
        line += 1

    parser.advance()

code = Code()
parser = Parser(sys.argv[1])
parser.advance()

var_stack = 16

while parser.hasMoreCommands():
    cmd_type = parser.commandType()

    if cmd_type == 'A_COMMAND':
        number = 32768

        try:
            addr = int(parser.symbol())
        except:
            if table.contains(parser.symbol()):
                addr = table.getAddress(parser.symbol())
            else:
                table.addEntry(parser.symbol(), var_stack)
                addr = var_stack
                var_stack += 1

        bin_number =  bin(number | addr)[3:]
        assembly = '0' + bin_number
        print assembly
    elif cmd_type == 'C_COMMAND':
        assembly = '111'
        assembly += code.comp(parser.comp())
        assembly += code.dest(parser.dest())
        assembly += code.jump(parser.jump())
        print assembly

    parser.advance() 
```

要注意的部分是在开始的第 4-6 行检查文件名。因此，一旦我运行我的程序，我就会在屏幕上打印出“需要文件名”，并显示一条如下所示的错误消息：

```
Traceback (most recent call last):
 File "C:\Python27\Assembler.py", line 98, in <module>
  sys.exit(-1)
SystemExit: -1 
```

那么我在哪里可以输入文件名以避免这个错误呢？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-23T06:31:42.133

按照您的方式，Python 期望文件名作为参数：

```
python file.py your_file.asm 
```

如果要提示输入文件名，请使用`raw_input()`（或`input()`Python 3）：

```
filename = raw_input('Enter a filename: ') or 'default_file.asm' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T09:25:12.867

`sys.argv`包含命令行参数。
因此，此脚本必须通过命令行运行，以获取输入，正如搅拌机所说，如果没有足够的命令行参数，请使用`raw_input`(或) 从用户获取输入。`input`

像这样的东西：

```
if len(sys.argv) == 1:
    print "You can also give filename as a command line argument"
    filename = raw_input("Enter Filename: ")
else:
    filename = sys.argv[1] 
```

并换行

```
parser = Parser(sys.argv[1]) 
```

至

```
parser = Parser(filename) 
```

# javascript - JavaScript - 修复计算器的 da*n 插入符号

> ID：15037805
> 
> 赞同：2
> 
> 时间：2013-02-23T06:27:25.240
> 
> 标签：javascript, math, symbols

我正在用 javascript 制作一个计算器，截至目前它计算： `sin`, `cos`, `tan`, `cot`, `sec`, `csc`and also `arc`and `hyberbolic`of all subtypes, `sqrt`, `cbrt`, `y-th root`, and `pow`. 问题是我不想拥有`pow(x,y)`作为函数，我希望能够输入例如：

```
2^3+2^4 # instead of pow(2,3)+pow(2,4) 
```

如上所示，我该如何获取键入的函数？这是查看它的计算器： http: [//calcy.comze.com/](http://calcy.comze.com/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:01:25.687

您可以将`^`符号转换为`pow`函数，或`Math.pow`使用正则表达式：

```
'2.14^3+ 2^2.5 - 12'.replace(/(\d+(?:\.\d+)?)\^(\d+(?:\.\d+)?)/g, function(a, b, c) {
    return 'pow(' + b + ', ' + c + ')';
})
// pow(2.14, 3)+ pow(2, 2.5) - 12 
```

使用这种方法，您甚至可以预先计算功率结果并像这样替换胡萝卜：

```
'2^3+ 2^2.5 - 12'.replace(/(\d+(?:\.\d+)?)\^(\d+(?:\.\d+)?)/g, function(a, b, c) {
    return Math.pow(b, c);
});
// 8+ 5.656854249492381 - 12 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:32:11.437

我假设你有一个字符串中的公式。您可以这样做：

扩展 numbr proto 以获得一个`pow`方法：

```
Number.prototype.pow = function(n){
   return Math.pow(this,n);
} 
```

环绕每个数字`()`并替换`^`为`.pow()`

```
str = str.replace(/[\d|\d.\d]+/g, function(n){
   return '(' + n + ')'
})
.replace(/\^/g, '.pow') 
```

评估字符串

```
eval(str) 
```

工作示例：http: [//jsbin.com/igegok/1/edit](http://jsbin.com/igegok/1/edit)

# css - 如何将单元格/列与 XML 表的 CSS 对齐？

> ID：15037809
> 
> 赞同：0
> 
> 时间：2013-02-23T06:27:45.147
> 
> 标签：css, xml, alignment

我正在尝试完成这个练习并且被卡住了。HTML 会容易得多，但它是一个 CSS 和 XML 练习。我需要将第一行的单元格（有边框）与下面的单元格（没有边框）对齐。我已经尝试过列属性、标题、标题，但没有什么能得到它。提前致谢。顺便说一句，我只能修改 CSS 文件。如果前三个单元格有实心边框而没有暴露青色，它会起作用。它很丑陋，但我可以尽可能接近它来渲染。

```
<?xml version="1.0" standalone="yes"?>
<?xml-stylesheet type="text/css" href="final.css"?>
<document>
  <headers>
    <header>First Name</header>
    <header>Last Name</header>
    <header>Loan Amount</header>
  </headers>
  <mortgages>
    <mortgage>
      <firstName> Ryan </firstName>
      <lastName> Folks </lastName>
      <amount>$200,000</amount>
    </mortgage>
    <mortgage>
      <firstName>  Edward </firstName>
      <lastName> Jordan </lastName>
      <amount>$220,000</amount>
    </mortgage>
    <mortgage>
      <firstName> Desmond </firstName>
      <lastName> Smith </lastName>
      <amount>$230,000</amount>
    </mortgage>
    <mortgage>
      <firstName> Terrell </firstName>
      <lastName> Wilson </lastName>
      <amount>$240,000</amount>
    </mortgage>
    <mortgage>
      <firstName> Julius </firstName>
      <lastName>  Smith  </lastName>
      <amount>$250,000</amount>
    </mortgage>
  </mortgages>
</document>

document{
    display:table;
    border-collapse:collapse;
    border: 3px solid black;
    table-layout:auto;
    margin: 2em;
    }
headers
{
display: table-row;
text-align:center;
background-color: cyan;
}
header
{display:table-header;
border: 3px solid black;
}
mortgage
{
display: table-row;
border-bottom: 1px solid black;
}
firstName, lastName, amount{
    display:table-cell;
    padding: 1em;
    text-align:center
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:55:45.087

修改后的 CSS：

```
document{
    display:table;
    border-collapse:collapse;
    border: 3px solid black;
    table-layout:auto;
    margin: 2em;
    }
headers{
  width:100%;
  display:inline-block;
  text-align:center;
  background-color: cyan;
}
header
{ 
  display:block;
  float:left;
  padding: 6px;
  text-align:center;
  border-collapse:collapse;
  border: 1px solid black;
}
mortgage{
  display: table-row;
  border-bottom: 1px solid black;
}
firstName, lastName, amount{
    display:table-cell;
    padding: 1em;
    text-align:center
} 
```

请参阅[此解决方案](http://tinkerbin.com/mjXc4DRG)。

我已经更新了代码以使其看起来更好。

# ios - 顶点的数量是否应该等于 texCoords 的数量？

> ID：15037810
> 
> 赞同：0
> 
> 时间：2013-02-23T06:27:50.973
> 
> 标签：ios, opengl-es, shader

我的顶点着色器：

```
attribute vec4 vertexPosition;
attribute vec2 vertexTexCoord;

varying vec2 texCoord;

uniform mat4 modelViewProjectionMatrix;

void main()
{
    gl_Position = modelViewProjectionMatrix * vertexPosition;
    texCoord = vertexTexCoord;
} 
```

我的fragmentShder：

```
precision mediump float;
varying vec2 texCoord;

uniform sampler2D texSampler2D;

void main()
{
    gl_FragColor = texture2D(texSampler2D, texCoord);
} 
```

初始化着色器：

```
 if (shader2D == nil) {
    shader2D = [[Shader2D alloc] init];
    shader2D.shaderProgramID = [ShaderUtils compileShaders:vertexShader2d :fragmentShader2d];
    if (0 < shader2D.shaderProgramID) {
        shader2D.vertexHandle = glGetAttribLocation(shader2D.shaderProgramID, "vertexPosition");
        shader2D.textureCoordHandle = glGetAttribLocation(shader2D.shaderProgramID, "vertexTexCoord");
        shader2D.mvpMatrixHandle = glGetUniformLocation(shader2D.shaderProgramID, "modelViewProjectionMatrix");
        shader2D.texSampler2DHandle  = glGetUniformLocation(shader2D.shaderProgramID,"texSampler2D");
    }
    else {
        NSLog(@"Could not initialise shader2D");
    }
}
return shader2D; 
```

渲染：

```
GLKMatrix4 mvpMatrix;
mvpMatrix = [self position: position];
mvpMatrix = GLKMatrix4Multiply([QCARutils getInstance].projectionMatrix, mvpMatrix);
glUseProgram(shader.shaderProgramID);
glVertexAttribPointer(shader.vertexHandle, 3, GL_FLOAT, GL_FALSE, 0, (const GLvoid*)vertices);
glVertexAttribPointer(shader.textureCoordHandle, 2, GL_FLOAT, GL_FALSE, 0, (const GLvoid*)texCoords);
glEnableVertexAttribArray(shader.vertexHandle);
glEnableVertexAttribArray(shader.textureCoordHandle);
glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_2D, [texture textureID]);
glUniformMatrix4fv(shader.mvpMatrixHandle, 1, GL_FALSE, (const GLfloat*)&mvpMatrix);
glUniform1i(shader.texSampler2DHandle, 0);
glDrawElements(GL_TRIANGLES, numIndices, GL_UNSIGNED_SHORT, (const GLvoid*)indices);
glDisableVertexAttribArray(shader.vertexHandle);
glDisableVertexAttribArray(shader.textureCoordHandle); 
```

当一个纹理坐标对应一个且只有一个顶点坐标时，它似乎可以正常工作（Number of `texCoords`== Number of `vertices`）

我的问题：openGL 是否将纹理坐标分配给一个且只有一个顶点？也就是说，当纹理坐标和顶点坐标不是一一对应的时候，渲染结果会是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:11:30.727

是的，顶点和texCoords之间需要一一对应——所有通过OpenGL管道传递的信息都是每个顶点的，所以每个法线和每个texCoord都必须有一个顶点。

但是请注意，您可以（并且经常需要）为空间中的同一点拥有多个 texCoords、法线或其他每个顶点数据：例如，如果您将纹理贴图包裹在球体周围，则会有矩形纹理末端相交的“接缝”。在这些点上，您需要拥有多个占据同一点的顶点。

# uiscrollview - ios UIScrollView - 按钮超出边界

> ID：15037811
> 
> 赞同：0
> 
> 时间：2013-02-23T06:28:00.743
> 
> 标签：uiscrollview

我正在通过代码将按钮添加到我的滚动视图中，但是当我运行应用程序时，我看到所有按钮并且它们超出了滚动视图边界，而不仅仅是一些。

在随附的屏幕截图中，您可以看到滚动条位于滚动视图的边界内，只有按钮超出。

为什么我需要 self.recentFriendsScrollView.delegate = self;??

这是我的代码： //recentOpponents 是一个数组

```
NSInteger xOffset = 0;
CGFloat size = 38;
CGFloat padding = 5;

self.recentFriendsScrollView.delegate = self;
for (User *user in recentOpponents) {
    UIButton *tagButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    tagButton.backgroundColor = [UIColor lightGrayColor];
    tagButton.frame = CGRectMake(xOffset, 8, size, size);
    [self.recentFriendsScrollView addSubview:tagButton];

    xOffset += size;
    xOffset += padding;
}
[self.recentFriendsScrollView setContentSize:CGSizeMake(xOffset, 50.0f)]; 
```

[图片](http://imageshack.us/photo/my-images/855/screenshot20130223at820.png/)

感谢：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:37:58.937

您的滚动视图框架不正确。如果您以编程方式设置它，请显示框架的矩形。如果它是通过 sib 设置的，请再次检查您的调整大小标志。

# vba - 捕获在 powerpoint 中单击了哪个形状

> ID：15037814
> 
> 赞同：0
> 
> 时间：2013-02-23T06:28:18.643
> 
> 标签：vba, powerpoint

我有一个 PowerPoint 演示文稿，其中一些幻灯片包含多个形状供用户单击。

我想捕捉点击了哪个形状。我可以捕获形状是否使用宏对其进行了测试，但如果它的形状包含任何图像怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T16:42:59.557

幻灯片上的每个形状都有一个唯一的 ID 属性，您可以检查该属性以确定选择了哪个形状。

或者您可以预先为形状添加标签：

```
ActiveWindow.Selection.ShapeRange(1).Tags.Add "MyName", "MyValue" 
```

然后

```
If ActiveWindow.Selection.ShapeRange(1).Tags("MyName") = "MyValue" Then
   ' Whatever 
```

# android - 在 android 中获取有关 HTC 愿望的联系人列表

> ID：15037824
> 
> 赞同：0
> 
> 时间：2013-02-23T06:29:35.940
> 
> 标签：android

我想在列表视图中获取联系人列表。我可以使用此代码进行展示。

```
private ContactList getContacts() {
        ContactList contactList = new ContactList();
        Uri uri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;
        String[] projection = new String[] {
                ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
                ContactsContract.CommonDataKinds.Phone.NUMBER };

        Cursor people = getContentResolver().query(uri, projection, null, null,
                null);

        int indexName = people
                .getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME);
        int indexNumber = people
                .getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);

        people.moveToFirst();
        do {
            Contact c = new Contact();
            String name = people.getString(indexName);
            String number = people.getString(indexNumber);
            Log.d("number", "" + number);
            c.setDisplayName(name);
            c.set_phoneNumber(number);
            contactList.addContact(c);
        } while (people.moveToNext());
        people.close();
        return contactList;
    } 
```

但是，当我在 HTC 渴望 c 上尝试此代码时，它无法正常工作。任何人都可以告诉我为什么。? 什么是实际问题。以及如何解决它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T13:02:28.893

```
 import java.lang.reflect.Array;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.List;

 import android.R.bool;
 import android.app.Activity;
 import android.app.AlertDialog;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.database.Cursor;
 import android.net.Uri;
 import android.os.Bundle;
 import android.provider.Contacts.Phones;
 import android.provider.ContactsContract;
 import android.text.Html;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.AdapterView;
 import android.widget.ArrayAdapter;
 import android.widget.ListView;
 import android.widget.SimpleCursorAdapter;
 import android.widget.TextView;
 import android.widget.Toast;
 import android.widget.AdapterView.OnItemClickListener;

 import com.google.ads.AdRequest;
 import com.google.ads.AdView;

 public class button extends Activity implements OnItemClickListener {

private ListView listView;
private List<ContactBean> list = new ArrayList<ContactBean>();

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    listView = (ListView) findViewById(R.id.list);
    listView.setOnItemClickListener(this);

    Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, null,
            null, null);

    while (phones.moveToNext()) {

        String name = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));

        String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));

        ContactBean objContact = new ContactBean();
        objContact.setName(name);
        objContact.setPhoneNo(phoneNumber);
        list.add(objContact);

    }
    phones.close();

    ContanctAdapter objAdapter = new ContanctAdapter(button.this,
            R.layout.alluser_row, list);
    listView.setAdapter(objAdapter);

    if (null != list && list.size() != 0) {
        Collections.sort(list, new Comparator<ContactBean>() {

            @Override
            public int compare(ContactBean lhs, ContactBean rhs) {
                return lhs.getName().compareTo(rhs.getName());
            }
        });
        AlertDialog alert = new AlertDialog.Builder(button.this).create();
        alert.setTitle("");

        alert.setMessage(list.size() + " Contact Found!!!");

        alert.setButton("OK", new DialogInterface.OnClickListener() {

            @Override
            public void onClick(DialogInterface dialog, int which) {
                dialog.dismiss();
            }
        });
        alert.show();

    } else {
        showToast("No Contact Found!!!");
    }
}

protected boolean isNullValue(String input)
{
    if(input==null)
    {
        return true;            
    }
    else
        return false;
}

private void showToast(String msg) {
    Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();
}

@Override
public void onItemClick(AdapterView<?> listview, View v, int position,
        long id) {
    ContactBean bean = (ContactBean) listview.getItemAtPosition(position);
    showCallDialog(bean.getName(), bean.getPhoneNo());
}

private void showCallDialog(String name, final String phoneNo) {
    AlertDialog alert = new AlertDialog.Builder(button.this).create();
    alert.setTitle("Call?");

    alert.setMessage("Are you sure want to call " + name + " ?");

    alert.setButton("No", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface dialog, int which) {
            dialog.dismiss();
        }
    });
    alert.setButton2("Yes", new DialogInterface.OnClickListener() {

        @Override
        public void onClick(DialogInterface dialog, int which) {
            String phoneNumber = "tel:" + phoneNo;
            Intent intent = new Intent(Intent.ACTION_CALL, Uri
                    .parse(phoneNumber));
            startActivity(intent);
        }
    });
    alert.show();
}

public class ContanctAdapter extends ArrayAdapter<ContactBean> {

    private Activity activity;
    private List<ContactBean> items;
    private int row;
    private ContactBean objBean;

    public ContanctAdapter(Activity act, int row, List<ContactBean> items) {
        super(act, row, items);

        this.activity = act;
        this.row = row;
        this.items = items;

    }

    @Override
    public View getView(final int position, View convertView,
            ViewGroup parent) {
        View view = convertView;
        ViewHolder holder;
        if (view == null) {
            LayoutInflater inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            view = inflater.inflate(row, null);

            holder = new ViewHolder();
            view.setTag(holder);
        } else {
            holder = (ViewHolder) view.getTag();
        }

        if ((items == null) || ((position + 1) > items.size()))
            return view;

        objBean = items.get(position);

        holder.tvname = (TextView) view.findViewById(R.id.tvname);
        holder.tvPhoneNo = (TextView) view.findViewById(R.id.tvphone);

        if (holder.tvname != null && null != objBean.getName()
                && objBean.getName().trim().length() > 0) {
            holder.tvname.setText(Html.fromHtml(objBean.getName()));
        }
        if (holder.tvPhoneNo != null && null != objBean.getPhoneNo()
                && objBean.getPhoneNo().trim().length() > 0) {
            holder.tvPhoneNo.setText(Html.fromHtml(objBean.getPhoneNo()));
        }
        return view;
    }
}

public class ViewHolder {
    public TextView tvname, tvPhoneNo;
}

public class ContactBean {
    private String name;
    private String phoneNo;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getPhoneNo() {
        return phoneNo;
    }

    public void setPhoneNo(String phoneNo) {
        this.phoneNo = phoneNo;
    }

}
 } 
```

# php - preg_replace 使用非常简单的 RegEx 生成意外重复

> ID：15037825
> 
> 赞同：2
> 
> 时间：2013-02-23T06:29:37.400
> 
> 标签：php, regex, preg-replace

```
var_dump(
  preg_replace('/.?$/s', "x", 'abc'),
  preg_replace('/.$/s',  "x", 'abc')
); 
```

输出：

```
string(4) "abxx" <-- strange, isn't it?
string(3) "abx" 
```

这怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:53:25.840

`preg_replace`替换字符串中的所有匹配项。因此，在进行每次替换后，它会从上次替换的位置开始搜索另一个匹配项。

因此它首先查找`/.?$/`并找到`c`，并将其替换为`x`，从而得到`abx`. 然后，它再次寻找`/.?$/`在`x`. 由于`.?`表示匹配 0 或 1 个字符，它匹配字符串末尾的零长度字符串，并将其替换为`x`. 然后它停止，因为它已到达字符串的末尾。

# html - 如何使固定元素居中？

> ID：15037826
> 
> 赞同：0
> 
> 时间：2013-02-23T06:29:54.193
> 
> 标签：html, css

我是 HTML/CSS 的新手，但我无法将固定的 h1 元素居中。它拒绝居中并停留在页面的左侧。我尝试将边距设置为自动，但它没有做任何事情。这是代码：

```
h1 {
color: #580101;
font-family: RobotoRegular;
position: fixed;
text-align: center;
}

* {
 background-color: #ecebe9;
 }

#navbar {
color: #000653;
background-color: #00001a;
height: 40px;
border-radius: 3px;
}

.sidebar {
background-color: black;
width: 90px;
height: 500px;
float: left;
margin: 30px 0px 0px 0px;
} 
```

和 HTML：

```
<!DOCTYPE html>
<html>
<head>
    <link href="Fonts/stylesheet.css" rel="stylesheet" type="text/css">
    <title>Webpage</title>
</head>
<body>
    <div id="navbar"></div>
    <div class="sidebar"></div>
    <h1>Hello World!</h1>
</body>
</html> 
```

所以我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:34:32.920

**[演示](http://jsbin.com/asivom/1/)**

更改为**`<h1>`** `position:fixed``position:relative`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:36:00.780

如果要使用固定位置，请为css 样式添加`width: 100%;`css 规则。`h1`

其他只需删除即可`position`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T06:39:32.963

它粘在页面一侧的原因是因为它的名称是固定的。如果你“基本上”要求固定元素，你不能告诉它在中心自由浮动，如果这是有道理的

你可以这样做

```
<style>
.test{
   position:fixed; 
   right:0; 
   left:0; 
   text-align:center; 
   background:#EEEEEE;
</style>
<h1 class="test">test</h1> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-23T06:43:19.237

使用时`position`，指定它的位置... `left`, `top`, 或`right`, `bottom`。

# android - 在搜索栏更改时滚动编辑文本内容

> ID：15037828
> 
> 赞同：0
> 
> 时间：2013-02-23T06:30:05.423
> 
> 标签：android, android-layout, android-widget, android-edittext

> 我进行了很多搜索，但找不到任何可以帮助我了解如何根据当前位置和进度在搜索栏更改时滚动编辑文本内容的内容。
> 
> 请帮忙.....

```
public void startScrollingText() {

    timer = new Timer();

    System.out.println(CurrentValues.cur_script_speed
            + "its a current speed");
    script_speed = (int) (100 - CurrentValues.cur_script_speed);
    timer.schedule(new TimerTask() {

        @Override
        public void run() {
            MainActivity.this.runOnUiThread(new Runnable() {
                public void run() {
                    final Layout layout = script.getLayout(); // System.out.println(textview.getScrollY());
                    if (layout != null) {
                        int scrollDelta = layout.getLineBottom(script
                                .getLineCount() - 1)
                                - script.getScrollY()
                                - script.getHeight();
                        // System.out.println(scrollDelta);
                        if (scrollDelta > 0)
                            script.scrollTo(0, script.getScrollY() + 5);
                        // else
                        // script.scrollTo(0, 0);
                        System.out.println(CurrentValues.cur_script_speed
                                + " current speed");
                    }
                }
            });

        }

    }, 1000, script_speed + 1);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:58:16.710

如果您已经让 SeekBar 工作并初始化了 EditText，那么您必须知道这些值会随着下面的方法而改变。

这是你应该做的，

```
public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {
               yourEditText.setText("changing values are "+progress);
            } 
```

# regex - Powershell正则表达式替换>和<之间的内容

> ID：15037829
> 
> 赞同：0
> 
> 时间：2013-02-23T06:30:07.237
> 
> 标签：regex, powershell, text, replace

我正在尝试创建一个正则表达式，它将文本字符串中两个标签（> 和 <）之间的文本替换为我需要替换的任何内容，例如“我的新文本”。恐怕我不太精通正则表达式，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:43:02.743

这样的事情可能会有所帮助：（在评论后编辑以进行更正）

```
>> "<a>my text</a>" -replace ">.*?(<)", '>your text$1'
<a>your text</a>
>> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T15:01:11.977

控制匹配约束的另一种方法是使用否定类。如果是多行数据，我们使用 (m?) 选项：

```
$text = @'
<i>Some old text 
that I want to replace
with my 
new text </i>
'@

$regex='(m?)>[^<]+<'

$text -replace $regex,'>My new text<'

<i>My new text</i> 
```

'>[^,]+<' 转换为 "> 后跟一个或多个不是 <，然后是 <"。

# javascript - HTMLUNIT java javascript ajax

> ID：15037830
> 
> 赞同：0
> 
> 时间：2013-02-23T06:30:08.247
> 
> 标签：javascript, android, html, htmlunit

我正在尝试解析一个视频资源cinemaonline.kg 以获取视频文件的链接。起初我试图将打开的页面保存在记事本中。我看了看，发现：

`[a id="onlineplayer" onmouseover="jQuery(&#39;a#onlineplayer&#39;).fancybox({&#39;width&#39; :` `&#39;8&#39;, &#39;height&#39; : 430, &#39;autoScale&#39; : true, &#39;transitionIn&#39; :` `&#39;none&#39;, &#39;transitionOut&#39; : &#39;none&#39;, &#39;type&#39; : &#39;iframe&#39; ,` `&#39;closeClick&#39; : &#39;false&#39; , &#39;hideOnOverlayClick&#39;:false,` `&#39;hideOnContentClick&#39;:false});" onclick="window.ui.hitMovie(74);window.ui.setFileDownloaded(74);" class="minibutton" href="http://cinemaonline.kg/pl.php?player=ftp&uid=1953&movieid=74&fileid=74&v=6b576ed87c32f85f9252e80591ca1228">[span]Смотреть[/span][/a]`

<> - 此字符已更改为此字符 - []，因为它们未显示。

所以我试图用jsoup抓住它。但它返回了我的空指针异常。我查看了页面的返回字符串，没有标签 [a id = "onlineplayer" ...]。我想，也许页面总是由一个脚本生成：

`[a id=\"onlineplayer\" onmouseover=\"jQuery(\'a#onlineplayer\').fancybox({\'width\' : \'8\',` `\'height\' : 430, \'autoScale\' : true, \'transitionIn\' : \'none\', \'transitionOut\' : \'none\',` `\'type\' : \'iframe\' , \'closeClick\' : \'false\' , \'hideOnOverlayClick\':false,` `\'hideOnContentClick\':false});\" onclick=\"window.ui.hitMovie(${movie.movie_id});window.ui.setFileDownloaded(${file.file_id});\" class=\"minibutton\"` `href=\"${file.links.license|escape}\"][span]Смотреть[/span][/a]`

比我尝试用 HtmlUnit 解析它：

```
String url = "http://cinemaonline.kg/#/movie/id/74";
WebClient webClient = new WebClient();
webClient.setJavaScriptEnabled(true);
HtmlPage page = null;
webClient.setThrowExceptionOnFailingStatusCode(false);
webClient.setThrowExceptionOnScriptError(false);
try {
    page = webClient.getPage(url);
} catch (FailingHttpStatusCodeException e1) {
    e1.printStackTrace();
} catch (MalformedURLException e1) {
    e1.printStackTrace();
} catch (IOException e1) {
    e1.printStackTrace();
}
webClient.waitForBackgroundJavaScript(10000);
webClient.closeAllWindows();
System.out.println(page.asXml()); 
```

但它返回给我的文本与 jsoup 返回的文本相同。我知道该页面使用 javascript 和 ajax(?)，但我真的不知道它是如何工作的。如何返回生成的文本？请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:37:28.177

检查此问题以获取图像链接[Jsoup：如何获取图像的绝对 url？](https://stackoverflow.com/questions/4875064/jsoup-how-to-get-an-images-absolute-url)

同样，您可以获取视频元素并在其上使用 yourvideoelement.attr("href") 来获取返回的链接

# java - BlackBerry RSS Feed 未在设备上加载

> ID：15037836
> 
> 赞同：0
> 
> 时间：2013-02-23T06:30:41.070
> 
> 标签：java, blackberry, java-me

我开发了 RSS Feed 阅读器应用程序，当我在 BB Simulator 9900 上执行应用程序时，我能够成功显示列表项，

但是当我尝试在我的真实设备 BB 曲线 9380 上执行相同的应用程序时，我无法加载我的列表项。

谁能告诉我出了什么问题？

注意：当我在我的真实设备上运行应用程序时，我会显示*** Feeds Not Available ***屏幕上的消息

这是我的代码：

```
public class RssScreen extends MainScreen implements ListFieldCallback {

 public RssScreen() {

   subManager = new VerticalFieldManager(Manager.VERTICAL_SCROLL
    | Manager.VERTICAL_SCROLLBAR) {
    protected void sublayout(int maxWidth, int maxHeight) {
    int displayWidth=Display.getWidth();
    int displayHeight = Display.getHeight();
    super.sublayout(displayWidth, displayHeight);
    setExtent(displayWidth, displayHeight);
    }
    };

   _list = new ListField()
  {
   protected boolean navigationClick(int status, int time) {
    return true;
   }
   public void paint(Graphics graphics)
   {
    graphics.setColor((int) mycolor);
    super.paint(graphics);
   }
    };
   mycolor = 0x00FFFFFF;
  _list.invalidate();
  _list.setEmptyString("* Feeds Not Available *", DrawStyle.HCENTER);
  _list.setRowHeight(70);
  _list.setCallback(this);
  //mainManager.add(subManager);
  add(subManager);

  listElements.removeAllElements();
  _connectionthread = new Connection();
  _connectionthread.start();
   }
          /*RssFileReading in a Seperate Thread*/
   private class Connection extends Thread {
  public Connection() {
   super();
   }
  public void run() {
   Document doc;
   StreamConnection conn = null;
   InputStream is = null;
   try {
    conn = (StreamConnection) Connector .open("http://toucheradio.com/toneradio/android/toriLite/toriplaylist.xml"
        + ";deviceside=true");
    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory
      .newInstance();
    docBuilderFactory.setIgnoringElementContentWhitespace(true);
    docBuilderFactory.setCoalescing(true);
    DocumentBuilder docBuilder = docBuilderFactory
      .newDocumentBuilder();
    docBuilder.isValidating();
    is = conn.openInputStream();
    doc = docBuilder.parse(is);
    doc.getDocumentElement().normalize();
    NodeList listImg = doc.getElementsByTagName("title");
    for (int i = 0; i < listImg.getLength(); i++) {
     Node textNode = listImg.item(i).getFirstChild();
     listElements.addElement(textNode.getNodeValue());
    }
    NodeList list = doc.getElementsByTagName("image");
    for (int a = 0; a < list.getLength(); a++) {
     Node textNode1 = list.item(a).getFirstChild();
     String imageurl = textNode1.getNodeValue();
     Bitmap image = GetImage.connectServerForImage(imageurl
       .trim() + ";deviceside=true");
     listImage.addElement(image);
    }
      } catch (Exception e) {
    System.out.println(e.toString());
   } finally {
    if (is != null) {
     try {
      is.close();
     } catch (IOException ignored) {
     }
    }
    if (conn != null) {
     try {
      conn.close();
     } catch (IOException ignored) {
     }
    }
   }
   UiApplication.getUiApplication().invokeLater(new Runnable() {
    public void run() {
     _list.setSize(listElements.size());
     subManager.add(_list);
     invalidate();
    }
   });
   } }
/*This Method is Invoked for Each title on RssFile*/
 public void drawListRow(ListField list, Graphics g, int index, int y,
   int width) {
  String title = (String) listElements.elementAt(index);
  Bitmap image = (Bitmap) listImage.elementAt(index);
  try {

   g.drawBitmap(xpos, ypos, w, h, image, 0, 0);
   xpos = w + 20;
   g.drawText(title, xpos, ypos);
    } catch (Exception e) {
     e.printStackTrace();
    }
    }
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:11:18.420

从上面的评论中，很明显问题出在连接字符串上。在 url 末尾附加 http 连接字符串并尝试。

```
conn = (StreamConnection) Connector .open("http://toucheradio.com/toneradio/android/toriLite/toriplaylist.xml"
    +getConnectionString() ); 
```

下面`getConnectionString()`给出-

```
private static String getConnectionString()
{
    String connectionString = null;
    // Wifi is the preferred transmission method
    f(WLANInfo.getWLANState() == WLANInfo.WLAN_STATE_CONNECTED)
    {
        connectionString = ";interface=wifi";
    }
    // Is the carrier network the only way to connect?
    else if((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_DIRECT) == CoverageInfo.COVERAGE_DIRECT)
    {
        String carrierUid = getCarrierBIBSUid();
        if(carrierUid == null)
        {
            // Has carrier coverage, but not BIBS.  So use the carrier's TCP network
            connectionString = ";deviceside=true";
        }
        else
        {
            // otherwise, use the Uid to construct a valid carrier BIBS request
            connectionString = ";deviceside=false;connectionUID="+carrierUid + ";ConnectionType=mds-public";
        }
    }
    // Check for an BIS connection
    else  if (TransportInfo.isTransportTypeAvailable(TransportInfo.TRANSPORT_BIS_B) && TransportInfo.hasSufficientCoverage(TransportInfo.TRANSPORT_BIS_B)) {
        connectionString = ";deviceside=false;ConnectionType=mds-public";
    }
    // Check for an MDS connection instead (BlackBerry Enterprise Server)
    else if((CoverageInfo.getCoverageStatus() & CoverageInfo.COVERAGE_MDS) == CoverageInfo.COVERAGE_MDS)
    {
        connectionString = ";deviceside=false";
    }
    // If there is no connection available abort to avoid bugging the user unnecssarily.
    else if(CoverageInfo.getCoverageStatus() == CoverageInfo.COVERAGE_NONE)
    {
        //no connection available
    }
    // In theory, all bases are covered so this shouldn't be reachable.
    else
    {
        connectionString = ";deviceside=true";
    }
    return connectionString;
}

/**
* Looks through the phone's service book for a carrier provided BIBS network
* @return The uid used to connect to that network.
*/
private static String getCarrierBIBSUid()
{
    ServiceRecord[] records = ServiceBook.getSB().getRecords();
    int currentRecord;
    for(currentRecord = 0; currentRecord < records.length; currentRecord++) 
    {             
        if(records[currentRecord].getCid().toLowerCase().equals("ippp")) 
        {                  
            if(records[currentRecord].getName().toLowerCase().indexOf("bibs") >= 0)
            {
                return records[currentRecord].getUid();
            }
        }
    }
    return null;
} 
```

# mysql - 如何从两个不相关的表中进行选择

> ID：15037838
> 
> 赞同：0
> 
> 时间：2013-02-23T06:31:03.807
> 
> 标签：mysql, sql, pdo

嘿，我有一个查询，我想从两个没有连接的表中获取一行，因为它们没有逻辑，但是如果可能的话，我希望在一个查询中从两个表中收集信息？ ?

这是我目前准备好的声明：

```
SELECT 
   t1.id AS tid, item_name,price,user_name
FROM 
   users t1, items t2
WHERE
    t1.uid=$uid AND t2.id=$item_id AND t2.price <= t1.users_deposit 
```

我为代码做了一个快速的馅饼：http: [//www.paste.to/MjU3NDE=](http://www.paste.to/MjU3NDE=)

目前，当我尝试它并`echo $row['tid'];`进一步进入我的脚本时，我没有得到任何输出，但我同样没有得到未定义的错误。所以我认为我选择两行的方式是问题所在。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:43:38.423

你从不定义`$row`.

```
while ($row = $stmt->fetch()) { 
```

# ios - 检测 UITableViewCells 何时完成

> ID：15037846
> 
> 赞同：1
> 
> 时间：2013-02-23T06:31:46.877
> 
> 标签：ios, memory-management, xamarin.ios

我正在尝试使用 MVVM 模式来构建我的应用程序。因此，我有 ViewModels 在数据更改时引发事件，并且 UI 应该对这些事件做出反应并更新可见的 UI 控件。

我有一个派生`UITableViewCell`，每次创建或出列新单元格时都会使用某个 ViewModel 进行初始化（与[miguel 的示例](http://tirania.org/monomac/archive/2011/Jan-18.html)非常相似）。初始化的一个主要区别在于订阅 ViewModel 的事件。这会创建一个从长期存在的 ViewModel 到这个特定单元的引用，并在 ViewModel 的生命周期内将其保存在内存中。当单元被重新使用时，旧的订阅被清理并为新的 ViewModel 创建一个新的订阅，这工作正常。

然而问题是，一旦单元格完全完成，似乎没有任何机会清理最后一个订阅，这意味着它在 ViewModel 的生命周期内保存在内存中（比我想要的要长得多）。“完全完成”取决于 VC 层次结构，但在这种情况下，包含具有自定义单元格的 TableView 的派生 DialogViewController 已从`UINavigationController`堆栈中弹出并已被处置。

`willMoveToSuperview`永远不会被调用（我希望它会传入'null'）。 `removeFromSuperview`永远不会被调用。永远不会调用每个单元格上的 Dispose。处理 UITableViewController 不会处理每个单元格。在控制器中处理 TableView 甚至不会处理每个单元格。

我可以手动处理每个单元格（并因此清理订阅）的唯一方法是自己手动枚举每个派生单元中的单元格`UIViewControllers`，这是我想避免的。

有没有人遇到过类似的烦恼？我不能成为第一个使用带有 UITableViewCells 的 MVVM 模式的人。这是基本 MonoTouch UIKit 包装器中的 Dispose 模式的错误吗？

编辑：这是自定义之一的精简版`UITableViewCells`。注意我采取了一种务实的方法，我明确订阅我知道可能会更改的属性事件，而不是完整的 MVVM 将每个属性绑定到 UI。所以我的绑定代码只包含标准事件订阅：

```
public class MyCustomCell : UITableViewCell
{
    private InvoiceViewModel currentViewModel;

    private readonly UILabel label1;
    private readonly UILabel label2;

    public MyCustomCell(NSString reuseId)
        : base(UITableViewCellStyle.Default, reuseId)
    {
        Accessory = UITableViewCellAccessory.DisclosureIndicator;
        SelectedBackgroundView = new UIView()
        {
            BackgroundColor = UIColor.FromRGB(235,235,235),
        };

        label1 = new UILabel();
        ContentView.Add(label1);
        // The rest of the UI setup...
    }

    public void Update(MyViewModel viewModel)
    {
        if ( currentViewModel == viewModel )
            return;

        if ( currentViewModel != null )
        {
            // Cleanup old bindings.
            currentViewModel.UnacknowledgedRemindersChanged -= HandleNotificationsChanged;
        }

        currentViewModel = viewModel;

        if ( viewModel != null )
        {
            viewModel.UnacknowledgedRemindersChanged += HandleNotificationsChanged;

            label1.Text = viewModel.SomeProperty;
            // Update the rest of the UI with the current view model.
        }
    }

    private void HandleNotificationsChanged()
    {
        // Event can fire on background thread.
        BeginInvokeOnMainThread(() =>
        {
            // Relevant UI updates go here.
        });
    }

    protected override void Dispose(bool disposing)
    {
        // Unsubscribes from ViewModel events.
        Update(null);
        base.Dispose(disposing);
    }
} 
```

而我派生的 MT.D 元素类有一个 1:1 element:viewmodel，所以`GetCell`方法看起来像这样：

```
 public override UITableViewCell GetCell (UITableView tv)
    {
        var cell = (MyCustomCell) tv.DequeueReusableCell(key);
        if (cell == null)
            cell = new MyCustomCell(key);

        cell.Update(viewModel);
        return cell;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T10:35:40.753

你绝对不是第一个用 MonoTouch 做 Mvvm 表格单元的人。

我最近在[http://slodge.blogspot.co.uk/2013/01/uitableviewcell-using-xib-editor.html上写了一篇关于它的博客](http://slodge.blogspot.co.uk/2013/01/uitableviewcell-using-xib-editor.html)

在此之前，在 NDC 有过项目（搜索“Flights of Norway”），并且有一个基于 MonoTouch.Dialog 构建的长期运行的 Mvvm 项目。

* * *

在 MvvmCross 应用程序中，我们经常使用绑定到 ObservableCollections 和其他 IList 类的表。

在这些范围内，我们通常不会遇到很多关于左生命引用的问题，但那是因为我们通常不鼓励人们使用长生命的 ViewModel - 我们尝试创建一个新的 ViewModel 数据实例以与每个 View 一起使用。但是，我明白这可能并不适合所有应用程序。

* * *

当 Mvx 用户发现自己遇到此类问题时，我们尝试过的一些方法是：

*   在 iOS5 中，我们确实使用了 ViewDidUnload 方法来清理绑定——但显然现在 iOS6 中已经没有了。
*   根据 UI 呈现风格（模态、拆分视图、导航控制器、弹出窗口等），我们尝试手动检测视图何时“弹出”并使用它来清除绑定
*   再次根据 UI 呈现风格，我们尝试使用 ViewDidAppear、ViewDidDisappear 事件来添加和整理绑定
*   对于所有具有数据绑定的 UIKit 类，我们一直使用 Dispose 作为尝试清除绑定的额外位置
*   我们已经研究过使用 Wea​​kReferences（尤其是从 ViewModel 到 View）来解决 UIKit 对象同时属于 iOS/ObjC 和 MonoTouch/.Net 的问题——这些问题特别难以调试。
*   这个弱参考代码很可能是下一个版本的关键变化之一。

有关此问题的示例讨论（在 Droid 中而不是在 Touch 中）位于[https://github.com/slodge/MvvmCross/issues/17](https://github.com/slodge/MvvmCross/issues/17)

* * *

很抱歉，我目前无法为您提供任何具体建议。如果您发布更多有关如何创建和存储绑定的示例代码，我可能会提供更多帮助 - 但我无法真正想象您现在正在创建哪些绑定。

我还有一些链接，稍后我会添加到这个答案中 - 目前在移动设备上 - 很难在此处添加它们！

* * *

**更新**- 有关 WeakReference 想法的更多解释，这是我们现在在 v3 中为 MvvmCross 前进的方向 - [https://github.com/slodge/MvvmCross/tree/vNextDialog/Cirrious/Cirrious.MvvmCross.Binding/WeakSubscription](https://github.com/slodge/MvvmCross/tree/vNextDialog/Cirrious/Cirrious.MvvmCross.Binding/WeakSubscription) -基本上这个想法是使用一次性弱引用事件订阅 - 它不会将 UIKit 对象保留在 RAM 中。它还没有经过适当测试的代码。到时候，我会在博客上更全面地谈论它！

# asp.net - 单击时打开框架

> ID：15037847
> 
> 赞同：0
> 
> 时间：2013-02-23T06:31:59.777
> 
> 标签：asp.net, vb.net, iframe, modalpopupextender, postbackurl

我有按钮，它应该打开一个模式弹出`iFrame`页面。

目前按钮点击打开一个`PostBackUrl`，我希望在这里发生类似的事情。

也就是说，我想将`Iframe scr`页面打开为`postbackurl`.

```
<asp:Button ID="btnCreateComp" runat="server" Text="Create Company" CssClass="button_style"
            PostBackUrl="~/Company.aspx" /> 
```

```
<asp:Panel ID="Pnl1" runat="server" CssClass="PanelPopup">
    <div>
        <iframe id="iframe1"  runat="server" height="500px" width="500px" src="" ></iframe>
        <asp:Button ID="btnclose" runat="server" Text="Close" CausesValidation="false"  />
    </div>
</asp:Panel> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T07:11:52.217

我认为你应该使用 jquery pop up，因为它比 modalpopupextender 更容易，因为我发现它有问题，有时 jquery 中有很多弹出窗口：
[Jquery popup exmaples](http://www.jquery4u.com/windows/10-jquery-popup-window-image-slider-plugins/)

我使用了这个，它对我来说工作得很好（你可以放置任何你想要的东西）：

注意：我喜欢 Jquery 的最佳功能，它不需要您的控件必须具有 runat="server" 它适用于 HTML 控件和 ASP.NET 控件。

将事件处理程序添加到按钮：

```
 <asp:Button ID="btnclose" runat="server" Text="Close" CausesValidation="false" onclick="btnClicked" /> 
```

在后面的代码中：

```
protected void btnClicked(object sender, EventArgs e)
{
iframe1.src="an http link";
//do not try set src to www.google.com because they are blocking Iframe
} 
```

# java - 应用滑入和滑出动画来查看

> ID：15037851
> 
> 赞同：0
> 
> 时间：2013-02-23T06:32:29.080
> 
> 标签：java, android, animation

我有一个带有 webview 的线性布局现在我需要应用滑入和滑出动画，我需要将动画应用到 webview 还是线性布局？

如果申请其中任何一个，那么如何申请，因为`setInAnimation and setOutAnimation`两者都不适用。

怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:51:23.510

试试下面的动画，在您的应用程序`res/anim`文件夹中创建两个 xml 文件并粘贴以下代码，然后将其应用于您的 webview 或线性布局。

**滑入：**

```
 <set xmlns:android="http://schemas.android.com/apk/res/android">
   <translate
      android:fromXDelta="100%"
      android:toXDelta="0%"
       android:duration="600" />
 </set> 
```

**滑出**

```
 <set xmlns:android="http://schemas.android.com/apk/res/android">
   <translate
         android:fromXDelta="0%"
         android:toXDelta="-100%"
         android:duration="600" />
  </set> 
```

有关更多详细信息，请查看[此处](https://github.com/habibm/Android)和[此处](https://stackoverflow.com/questions/5151591/android-left-to-right-slide-animation)。

我希望它会帮助你。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:59:47.633

**制作 styles.xml 并将其放在 res/values 中**

```
<style name="MyAnimation">
    <item name="android:windowEnterAnimation">@anim/slide_in</item>
    <item name="android:windowExitAnimation">@anim/slide_out_</item> 
```

```
 <style name="SlideAnim">
    <item name="android:windowAnimationStyle">@style/MyAnimation</item>
    <item name="android:windowNoTitle">true</item>
</style> 
```

**制作这些文件并将它们都放在 res/anim**

**幻灯片输入 xml**

```
<translate android:fromXDelta="-100%" android:toXDelta="0%"
          android:fromYDelta="0%" android:toYDelta="0%"
         android:duration="700"/> 
```

**幻灯片输出 xml**

```
<translate
       android:fromXDelta="0%" android:toXDelta="100%"
       android:fromYDelta="0%" android:toYDelta="0%"
       android:duration="700" /> 
```

**最后一步是：在您放置 LinearLayout 或 WebView 的 xml 文件中应用特定元素的样式属性。在下面的示例中，我已对 LinearLayout 进行了处理。**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    style="@style/SlideAnim"
    android:orientation="vertical" >
....
</LinearLayout> 
```

# jquery - jquery .hide 函数在复制的示例中不起作用

> ID：15037855
> 
> 赞同：0
> 
> 时间：2013-02-23T06:32:47.967
> 
> 标签：jquery, html

我从 w3school 获取了一个脚本，它正在处理他们的示例，但是当我将它放入我的 html 文档时，它不起作用。

我将其复制并粘贴到 html 文件中。

[http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_hide_slow](http://www.w3schools.com/jquery/tryit.asp?filename=tryjquery_hide_slow)

有人可以告诉我我做错了什么吗？

使用：Mac Safari

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T06:34:59.150

您可能直接使用 Web 浏览器加载文件，这会导致 jQuery 库无法从 CDN 加载，因为这里有这样的事情：

```
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
             ^^ 
```

手动指定协议：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
```

此外，jQuery 目前在`1.9.2`. 我建议你从一开始就切换到那个版本。

# android - Android : 如何使禁用的微调器看起来已禁用

> ID：15037866
> 
> 赞同：1
> 
> 时间：2013-02-23T06:34:31.513
> 
> 标签：android, android-widget, android-spinner

[如何使 Spinner 的“禁用”状态看起来禁用](https://stackoverflow.com/questions/7641879/how-do-i-make-a-spinners-disabled-state-look-disabled)？.

我尝试了帖子中提到的解决方案，即

```
((Spinner) spinner).getSelectedView().setEnabled(false);
spinner.setEnabled(false); 
```

但是 getSelectedView() 返回 null。我也尝试手动选择一个项目，而不是调用 getSelectedView 但它仍然返回 null。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-12-05T13:57:12.627

我想出了最简单的方法：

```
private void setSpinnerEnabled(Spinner spinner, boolean enabled) {
    spinner.setEnabled(enabled);
    spinner.setAlpha(enabled ? 1.0f : 0.4f);
} 
```

它不会改变颜色或字体，只是让它更透明一点......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:57:40.320

一种方法是编写自己的 SpinnerAdapter（例如 ArrayAdapter），然后覆盖 getView() 方法。通常该方法会膨胀 android.R.layout.simple_spinner_item 布局并将 TextView 绑定到您的数据（在 ArrayAdapter 的情况下为数组）。您可以采用该布局（从您的 Android SDK 文件夹中复制它）并创建一个禁用版本，然后执行以下操作：

```
private static final int SPINNER_ENABLED = android.R.layout.simple_spinner_item;
private static final int SPINNER_DISABLED = R.layout.simple_spinner_item_disabled;
    @Override
    public final View getView(int position, View convertView, ViewGroup parent) {
        View spinnerView = View.inflate(getContext(), isEnabled(position) ? SPINNER_ENABLED : SPINNER_DISABLED, null);
        TextView textView = (TextView) spinnerView.findViewById(R.id.text1);
        textView.setText(getItem(position).toString());
        return spinnerView;
    } 
```

android.R.layout.simple_spinner_item 看起来像这样：

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android" 
    android:id="@android:id/text1"
    style="?android:attr/spinnerItemStyle"
    android:singleLine="true"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:ellipsize="marquee" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T09:30:23.860

像这样在 res/drawable 文件夹中创建一个可绘制选择器

custonspinner.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
  <!-- disabled state -->
  <item android:state_enabled="false" android:color="#9D9FA2" /> 
  <item android:color="#000"/>
</selector> 
```

// 你也可以在选择器中给出drawable而不是颜色

在你的微调器中设置这样的背景资源

```
android:backgroundResource="@drawable/customspinner" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-02T16:31:18.130

@JSPDeveloper01 的回答对我来说不太管用（可能是因为我设置适配器的顺序，或者是因为我使用了两个自定义微调器类：第一个类扩展了 LinearLayout 类；第二个扩展 Spinner 类）。关键是在 setEnabled 函数中使旧对象无效并在 onDraw 函数中设置颜色。

在这两个自定义微调器类中，我有一个像这样的特殊 setEnabled 函数，使旧视图无效：

```
public void setEnabled(Boolean enabled) {
    super.setEnabled(enabled);

    invalidate();
} 
```

我还覆盖了每个自定义微调器类中的 onDraw 函数（使用 JSPDeveloper01 的部分答案）：

```
@Override
public void onDraw(Canvas canvas) {
    super.onDraw(canvas);

    if (this.getChildAt(0) != null) {
        this.getChildAt(0).setAlpha(this.isEnabled() ? 1.0f : 0.7f);
    }
} 
```

# asp.net-mvc-4 - 将数据传递给剑道 ui

> ID：15037868
> 
> 赞同：0
> 
> 时间：2013-02-23T06:34:52.430
> 
> 标签：asp.net-mvc-4, kendo-ui

```
@{
reModel rm = new reModel();
IList<ReRoomType> types = rm.ReRoomTypes.ToList();
foreach( ReRoomType type in types)
{

<li><a href="#" onclick="showDetail(@type.PKiRoomTypeID)">@type.SRoomTypeName</a></li>
}
}
@(Html.Kendo().Window()
.Name("window")
.Title("Detail Information")
.Content("")
.Draggable()
.Resizable()
.Width(600)
.Actions(actions => actions.Refresh().Maximize().Close())
)
<script type="text/javascript">
function showDetail(id)
{
$(document).ready(function () {
    $("#window").data("kendoWindow").center();
    $("#window").data("kendoWindow").open();

});
}
</script> 
```

这就是我所做的全部内容，现在我如何将 ID 或名称等内容从列表传递到窗口

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T09:40:43.030

我没有看到任何窗口@您的代码？

基本上，您可以将 Window 配置为最初不可见，如下所示：

```
@Html.Kendo().Window().Name("foo").Visible(false) 
```

# java - 在另一个页面中打印 bean 数据 (RequestScope)

> ID：15037870
> 
> 赞同：2
> 
> 时间：2013-02-23T06:35:01.063
> 
> 标签：java, jsf, jsf-2, scope, javabeans

## 编辑 4

我想做的是实现***忘记密码***页面。例如，我采取了以下示例，这不是真正的用户相关问题，我将用户名保留在会话范围内。

`index.xhtml`将是忘记密码页面，我将在其中输入用户名。输入用户名后，我将单击`Welcome Me - Action`并在 中`chkMe()`，我将检查该用户并在他/她的电子邮件 ID 和 Welcome.xhtml 中发送新密码，我会说`Hi User ABC, we have sent new password at asdfasdf@dasf.com`。

* * *

## 主帖

我正在尝试用两种情况将数据从一个 bean 打印到另一个。下面是我的代码。

## 索引.xhtml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>JSF 2.0 Hello World</title>
    </h:head>
    <h:body>
        <h3>JSF 2.0 Hello World Example - hello.xhtml</h3>
        <h:form>
           <h:inputText value="#{helloBean.name}"></h:inputText>
           <h:commandButton value="Welcome Me - Plain" action="welcome"></h:commandButton>
           <h:commandButton value="Welcome Me - Action" action="#{helloBean.chkMe()}"></h:commandButton>
        </h:form>
    </h:body>
</html> 
```

## 欢迎.xhtml

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"    
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>JSF 2.0 Hello World</title>
    </h:head>
    <h:body bgcolor="white">
        <h3>JSF 2.0 Hello World Example - welcome.xhtml</h3>
        <h4>Welcome --#{helloBean.name}--</h4>
    </h:body>
</html> 
```

## HelloBean.java

```
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import java.io.Serializable;
import javax.faces.bean.RequestScoped;

@ManagedBean
@RequestScoped
public class HelloBean implements Serializable {

    private static final long serialVersionUID = 1L;
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String chkMe() {
        return takeMeToAnotherPage("welcome");
    }

    public String takeMeToAnotherPage(String linkToGo) {
        return linkToGo + "?faces-redirect=true";
    }
} 
```

当我在文本`Checking`字段中输入文本并单击按钮时，我在 welcome.xhtml 中`Welcome Me - Plain`看到文本为文本，但是当我单击时，我看不到任何文本（我看到为）`Welcome --Checking--``Welcome Me - Action``Welcome ----`

我不知道为什么会这样。

任何想法/建议为什么会发生这种情况。

* * *

## 编辑 1

我相信这都是因为`?faces-redirect=true`，但我必须像不使用一样使用它`?faces-redirect=true`，地址栏中的 URL 是以前的 url。

例如，如果我在 page1.xhtml 上，然后转到 page2.xhtml，URL 仍然会显示 page1.xhtml。

所以不知道在这种情况下该怎么办。

* * *

## 编辑 2

好吧，我真正想做的是忘记密码页面，我将在 index.xhtml 中输入用户名（考虑上面的示例），如果该用户名是正确的，在 welcome.xhtml 上，我将拥有`Hi User ABC, Please use new password for next login. We have sent you email at blah@blah.com`.

**RequestScope**工作正常，但问题出在 URL 地址上，因此我添加了`?faces-redirect=true`. 但是随着它的重定向，http会话正在关闭，因此在welcome.xhtml上，我没有得到任何价值（这就是上面发生的事情）。

**另一个解决方案`skuntsel`是使用[FlashScope](http://mkblog.exadel.com/2010/07/learning-jsf2-using-flash-scope/)**，*但问题是当我刷新 welcome.xhtml 时，数据消失了*，***这让我抓狂。***

**任何人都可以建议需要做什么？**

* * *

## 编辑 3

## 会话范围内的问题如下。

考虑我打开两个选项卡，在两个选项卡上我都有 index.xhtml。在 tab1 我输入`Fahim`并单击`Welcome Me - Action`。在 tab1 上，welcome.xhtml 出现，我看到文本为`Welcome Fahim`. **太棒了。**

现在我来到 tab2，输入 name as `XYZ`，然后单击`Welcome Me - Action`I get welcome.xhtml ，我看到 text as `Welcome XYZ`。**这也是完美的。**

***问题是当我回到 tab1 并刷新页面时。当我刷新 tab1 (welcome.xhtml) 时，我看到`Welcome XYZ`之前的错误，`Welcome Fahim`应该是`Welcome Fahim`.***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T07:59:20.777

在我看来，在会话范围内使用当前用户是个好主意。

不过，如果它不适合您，我可以提供更多替代方案。

## 将用户名作为视图参数传递

这转化为

```
<h:form>
    <h:inputText value="#{helloBean.name}"/>
    <h:commandButton value="Welcome Me - Action" action="#{helloBean.chkMe}"/>
</h:form> 
```

和

```
public String chkMe() {
    return takeMeToAnotherPage("welcome");
}

public String takeMeToAnotherPage(String linkToGo) {
    return linkToGo + "?faces-redirect=true&username=" + name;
} 
```

和额外的视图参数`welcome.xhtml`

```
<f:metadata>
    <f:viewParam name="username"/>
</f:metadata> 
```

## *另一种选择是及时*实例化另一个请求范围的bean并将信息传递给它

```
<h:form>
   <h:inputText value="#{helloBean.name}"/>
   <h:commandButton value="Welcome Me - Plain" action="welcome">
       <f:setPropertyActionListener value="#{helloBean.name}" target="#{welcomePageBean.username}"/>
   </h:commandButton>
</h:form> 
```

和

```
@ManagedBean
@RequestScoped
WelcomePageBean {

    private String username;//+getter + setter
    //other fields associated with the welcome view

} 
```

## 使用 Flash 对象

详细条目视图（片段）`base.xhtml`，：

```
<h:form>
    <h:outputText value="Enter user name for password reset: " />
    <h:inputText value="#{flash.username}" />
    <br/>
    <h:commandButton value="Send me a confirmation email" action="#{forgotBean.changePassword}" />
<h:form> 
```

`ForgotBean`的`base.xhtml`：

```
@ManagedBean
@RequestScoped
public class ForgotBean {

    public ForgotBean() {   }

    public String changePassword() {
        //check user constraints and return failure outcome in case somthing is wrong
        //generate new password and persist it to the database
        //send a configmation e-mail
        return "successful-reset?faces-redirect=true";
    }

} 
```

成功视图（片段）`successful-reset.xhtml`，：

```
<h:outputText value="Password was reset for user #{receptorBean.username}, e-mail configmation sent." />
<br/>
<h:link value="View homepage" outcome="home" /> 
```

`ReceptorBean`的`successful-reset.xhtml`：

```
@ManagedBean
@RequestScoped
public class ReceptorBean {

    @ManagedProperty("#{flash}")
    private Flash flash;

    private String username;

    public ReceptorBean() {   }

    public String getUsername() {
        if(username == null) {
            String uname = (String)flash.get("username");
            flash.keep("inputText");
            username= uname;
        }
        return username;
    }

    public Flash getFlash() {
        return flash;
    }

    public void setFlash(Flash flash) {
        this.flash = flash;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T07:06:09.123

我想 faces-redirect=true 做了一个 http 重定向，插入了一个 http 转发。重定向由浏览器处理，浏览器发送一个新的 http 请求。由于您使用的是 RequestScoped Mbean，因此新请求将使用新的 MBean 呈现。因此，请使用 SessionScoped Mbean 或在不进行重定向的情况下导航。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-28T20:30:29.580

当您刷新页面时，您正在向服务器提交新请求。由于 HTTP 协议是无状态的，因此您可以通过将其添加到 URL 中来告诉服务器我是“user1”，因为该 URL 在选项卡中是唯一的。

如果您不想在 URL 中添加参数，服务器将使用 session 来维护两个请求之间的关系。然后，您可以使用会话来存储变量等。

在您的情况下，它不起作用，因为您不想在选项卡之间共享数据。数据在选项卡之间共享的原因是会话 cookie 在选项卡上共享。

您需要禁用 cookie 并使用 URL 重写来维护会话。

[http://docstore.mik.ua/orelly/java-ent/servlet/ch07_03.htm](http://docstore.mik.ua/orelly/java-ent/servlet/ch07_03.htm)

您正在使用的应用程序服务器应在 jsf 中维护 URL，并附加 sessionid，但是在重定向时，您可能需要将会话 ID 附加到您的 URL。

```
 public String takeMeToAnotherPage(String linkToGo) {
           HttpServletRequest req = (HttpServletRequest)FacesContext.getCurrentInstance().
getExternalContext().getRequest(); 
           return linkToGo + "?faces-redirect=true&jsessionid=" 
+ req.getSession().getId();
        } 
```

由于您的应用程序在多个选项卡上使用，您可以禁用会话 cookie 并使用 url 重写来维护会话。

[http://jf.omnis.ch/archives/2004/12/disabling-session-cookie-in-tomcat.html](http://jf.omnis.ch/archives/2004/12/disabling-session-cookie-in-tomcat.html)

[https://community.jboss.org/thread/141685](https://community.jboss.org/thread/141685)

另一种选择是使用对话范围，只要用户访问欢迎页面，您就可以在其中开始新对话。您的应用程序将在两个选项卡中维护两个不同的对话。您可以在此处了解更多信息，

[http://www.andygibson.net/blog/tutorial/cdi-conversations-part-2/](http://www.andygibson.net/blog/tutorial/cdi-conversations-part-2/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T10:09:42.723

将此代码添加到正文标记下方的索引页

```
<t:saveState value="#{helloBean}" /> 
```

供`t tag`库使用

```
<%@ taglib uri="http://myfaces.apache.org/tomahawk" prefix="t"%> 
```

并添加战斧库。

如果您不知道保存状态或参数传递，请参阅[此链接](http://www.mkyong.com/jsf2/4-ways-to-pass-parameter-from-jsf-page-to-backing-bean/)

这将帮助您传递价值的基本步骤。jsf中的页面之间。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-23T07:10:09.273

因此，也许您的 bean 是 @RequestScoped 。将其更改为会话范围的 bean。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-27T08:27:26.573

## 使用 Flash 对象的示例

我实际上不明白什么不起作用。下面是一个`main`-`dependent`视图的工作示例，其中第一个视图上的命令按钮触发重定向到依赖视图并使用 JSF`Flash`对象处理数据传输。在提供的答案中，第二个页面数据 ( `username`)**在回发和页面刷新操作中都存在**。

我将再次重新发布代码。

主视图：

```
<h:form>
    <h:outputText value="Enter your name: " />
    <h:inputText value="#{flash.username}" />
    <h:commandButton value="Reset my password" action="#{forgotBean.changePassword}" />
</h:form> 
```

忘记豆：

```
@ManagedBean
@RequestScoped
public class ForgotBean {

    public ForgotBean() {   }

    public String changePassword() {
        return "/dependent?faces-redirect=true";
    }

} 
```

依赖视图：

```
<h:form>
   <h:outputText value="#{confirmBean.username}: your password has been changed and the confirmation has been sent to [get value from your bean]" />
   <h:commandButton value="Postback" />
</h:form> 
```

确认豆：

```
@ManagedBean
@RequestScoped
public class ConfirmBean {

    @ManagedProperty("#{flash}")
    private Flash flash;

    private String username;

    public ReceivedBean() {   }

    public String getUsername() {
        if(username == null) {
            String uname = (String)flash.get("username");
            flash.keep("username");
            username = uname;
        }
        return username;
    }

    public Flash getFlash() {
        return flash;
    }

    public void setFlash(Flash flash) {
        this.flash = flash;
    }

} 
```

或者，您也可以`@PostConstruct`在`ConfirmBean`. 此外，您可以这样做，`@ViewScoped`以便在回发时不会发生预处理。

您的`@PostConstruct`方法的启动示例：

```
@PostConstruct
public void init() {
    //without managed property flash object is also available via
    //FacesContext.getCurrentInstance().getExternalContext().getFlash()
    String name = flash.get("username");
    flash.keep("username");
    //do necessary validations
    //get necessary data from your service
    //handle wrong user input
    this.username = name;
    //set up other data of the bean
    //change setter and getter of the field username to 'ordinary'
} 
```

## 使用会话范围 bean 的示例

如果您希望 bean 在页面刷新后仍然存在（因此`@ViewScoped`失败），如果您想实现 Post-Redirect-Get（因此`<f:setPropertyActionListener>`失败），如果您想处理*基本*相同的数据，这*实际上是*未定义的，在不同的选项卡（因此`Flash`失败），如果您想阻止有意义的获取请求（因此`<f:viewParam>`失败），那么我看到的唯一方法（***留在 JSF 中***）是使用`@SessionScoped` `@ManagedBean`将用户输入数据保留在集合中的. 这样，**页面刷新**、**回**发、**重定向**、**多标签**和**有意义的视图参数**限制已放宽，并将在您的应用程序中启用。

请注意，提供的代码*不考虑任何异常处理/检查*。而且，更重要和更相关的是，*作为映射中键的递增整数应该更好地替代随机值*，例如[UUID](http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html)。

意见（m 表示索引，d 表示欢迎）：

( `m.xhtml`):

```
<h:body>
    <h:form>
        <h:inputText value="#{forgotBean2.username}" />
        <h:commandButton value="Change my password" action="#{forgotBean2.changePassword}" />
    </h:form>
</h:body> 
```

( `d.xhtml`):

```
<f:metadata>
    <f:viewParam name="id" required="true" />
</f:metadata>
<h:body>
    <h:form>
        <h:outputText value="#{confirmBean2.username}: your password has been changed" />
        <h:commandButton value="Postback" action ="#{confirmBean2.postbackAction}" />
    </h:form>
</h:body> 
```

bean（`ForgotBean2`- 用于业务操作`m.xhtml`，`ConfirmBean2`- 用于显示和（可能的）操作`d.xhtml`，`UserRequestsBean`- 用于在会话中存储信息）：

( `ForgotBean2`):

```
@ManagedBean
@RequestScoped
public class ForgotBean2 {

    @ManagedProperty("#{userRequestsBean}")
    private UserRequestsBean userRequestsBean;

    private String username;

    public ForgotBean2() {   }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public UserRequestsBean getUserRequestsBean() {
        return userRequestsBean;
    }

    public void setUserRequestsBean(UserRequestsBean userRequestsBean) {
        this.userRequestsBean = userRequestsBean;
    }

    public String changePassword() {
        //do business job
        Map<Integer, String> fMap = userRequestsBean.getRequests();
        int id = 0;
        if(fMap.containsValue(username)) {
            for(Map.Entry<Integer, String> entry : fMap.entrySet()) {
                if(entry.getValue().equals(username)) {
                    id = entry.getKey();
                    break;
                }
            }
        } else {
            if(fMap.isEmpty()) {
                id = 1;
            } else {
                id = (int)Collections.max(fMap.keySet()) + 1;
            }
            fMap.put(id, username);
        }
        return "/q15038451/d?faces-redirect=true&id=" + Integer.toString(id);
    }

} 
```

( `ConfirmBean2`):

```
@ManagedBean
@ViewScoped
public class ConfirmBean2 implements Serializable {

    @ManagedProperty("#{userRequestsBean}")
    private UserRequestsBean userRequestsBean;

    private Integer id;

    private String username;

    public ConfirmBean2() {   }

    @PostConstruct
    public void init() {
        if(id == null) {
            String vpid = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap().get("id");
            id = Integer.parseInt(vpid);
        }
        Map<Integer, String> fMap = userRequestsBean.getRequests();
        String uname = fMap.get(id);
        //do necessary validations
        //get necessary data from your service
        //handle wrong user input
        this.username = uname;
        //set up other data of the bean
    }

    public UserRequestsBean getUserRequestsBean() {
        return userRequestsBean;
    }

    public void setUserRequestsBean(UserRequestsBean userRequestsBean) {
        this.userRequestsBean = userRequestsBean;
    }

    public String getUsername() {
        return username;
    }

    public void setUsername(String username) {
        this.username = username;
    }

    public Integer getId() {
        return id;
    }

    public void setId(Integer id) {
        this.id = id;
    }

    public String postbackAction() {
        return null;
    }

} 
```

( `UserRequestsBean`):

```
@ManagedBean
@SessionScoped
public class UserRequestsBean implements Serializable {

    private Map<Integer, String> requests = new HashMap<Integer, String>();

    public UserRequestsBean() {   }

    public Map<Integer, String> getRequests() {
        return requests;
    }

    public void setRequests(Map<Integer, String> requests) {
        this.requests = requests;
    }

} 
```

如上所述，您可能想要生成`UUID`s（提供唯一和随机值）而不是递增`Integer`的 s。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-02-28T02:38:48.777

当您刷新页面时，您正在向服务器提交新请求。由于 HTTP 协议是无状态的，因此您可以通过将其添加到 URL 中来告诉服务器我是“user1”，因为该 URL 在选项卡中是唯一的。

如果您不想在 URL 中添加参数，服务器将使用 session 来维护两个请求之间的关系。然后，您可以使用会话来存储变量等。

在您的情况下，它不起作用，因为您不想在选项卡之间共享数据。数据在选项卡之间共享的原因是会话 cookie 在选项卡上共享。

您需要禁用 cookie 并使用 URL 重写来维护会话。

[http://docstore.mik.ua/orelly/java-ent/servlet/ch07_03.htm](http://docstore.mik.ua/orelly/java-ent/servlet/ch07_03.htm)

您正在使用的应用程序服务器应该在 jsf 中维护 URL，并附加 sessionid，但是在重定向时，您可能需要将会话 ID 附加到您的 URL。

```
 public String takeMeToAnotherPage(String linkToGo) {
           HttpServletRequest req = (HttpServletRequest)FacesContext.getCurrentInstance().
getExternalContext().getRequest(); 
           return linkToGo + "?faces-redirect=true&jsessionid=" 
+ req.getSession().getId();
        } 
```

由于您的应用程序在多个选项卡上使用，您可以禁用会话 cookie 并使用 url 重写来维护会话。

[http://jf.omnis.ch/archives/2004/12/disabling-session-cookie-in-tomcat.html](http://jf.omnis.ch/archives/2004/12/disabling-session-cookie-in-tomcat.html)

[https://community.jboss.org/thread/141685](https://community.jboss.org/thread/141685)

另一种选择是使用对话范围，只要用户访问欢迎页面，您就可以在其中开始新对话。您的应用程序将在两个选项卡中维护两个不同的对话。您可以在此处了解更多信息，

[http://www.andygibson.net/blog/tutorial/cdi-conversations-part-2/](http://www.andygibson.net/blog/tutorial/cdi-conversations-part-2/)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-02-27T09:37:50.307

让我们从 JSF 中抽象出来，从 HTTP 级别分析您的需求。

## URL 必须更改为 welcome.xhtml

这意味着当单击按钮时，必须向服务器发送两个请求：

`POST index.xhtml (with username parameter in the request body)`- 将用户的输入提交给服务器

`GET welcome.xhtml`- 获取新页面

当服务器处理`GET welcome.xhtml`请求时，有两种获取数据的方式：

*   从客户端的请求中获取数据（通过 GET 请求传递数据的唯一方法是将其放到 URL 中）
*   让它在服务器上可用（我们应该将它保存在 'POST index.xhtml' 处理中）

## 页面必须在刷新后存活

刷新只是上次请求的重复。这意味着我们正在重复`GET welcome.xhtml`请求。同样，我们有两种获取数据的方法（从 url 和从服务器）。

## URL 不得包含数据（用户名）

这意味着无法从客户端的请求中检索数据。因此，获取数据的唯一方法是在“POST index.xhtml”处理期间首先将其存储在服务器上。

## 具有不同数据的多个选项卡

糟糕，目前唯一幸存下来的解决方案无法满足最后一个要求。由于选项卡共享相同的浏览器会话（相同的 cookie 等），因此无法区分来自不同选项卡的请求。因此来自不同选项卡的请求看起来完全相同，无法确定用户是刷新页面还是复制了 url 并打开了新选项卡。

## 结论

如果您提出严格的要求 - 就不可能实现您想要的（这不是 JSF 的限制，它是 HTTP 的工作方式）。所以你必须放宽要求。

删除多个选项卡支持 - 您可以使用 Session 范围。

删除生存刷新 - 您可以使用 Flash 范围。

* * *

最有趣的是放宽了不要在 url 中传递数据的要求。

最简单的方法是按原样传递用户名参数。您可能会说这是一个安全风险，但我会说风险与在`POST index.xhtml`请求中传递用户名几乎相同（只是传递参数的方式有所不同）。我看到的唯一额外的安全风险是有人可以通过用户的计算机并在浏览器的 url 栏中窥探用户名。

更高级的方法是加密用户名并在 URL 中传递加密值，并在处理welcome.xhtml 时对其进行解密。

如果我们进一步开发这种方法，我们将接近所谓的对话范围（查看 JBoss Seam 长时间运行的对话）。当您向 URL 添加无意义（从用户角度）参数时，该参数的值是一些标识符，它充当服务器上数据映射的键。

对话范围的虚拟实现：

```
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.faces.context.FacesContext;
import javax.servlet.http.HttpServletRequest;
import java.io.Serializable;
import java.util.HashMap;
import java.util.Map;

@ManagedBean
@SessionScoped
public class Bean implements Serializable {

    private int prevCid = 0;

    private Map<String, Object> conversationScope = new HashMap<String, Object>();

    public String getName() {
        return (String) getData();
    }

    public void setName(String name) {
        setData(name);
    }

    public String chkMe() {
        return takeMeToAnotherPage("welcome");
    }

    public String takeMeToAnotherPage(String linkToGo) {
        return linkToGo + "?cid=" + getCid() + "&faces-redirect=true";
    }

    private Object getData() {
        return conversationScope.get(getCid());
    }

    private void setData(Object o) {
        conversationScope.put(getCid(), o);
    }

    private String getCid() {
        HttpServletRequest req = (HttpServletRequest)FacesContext.getCurrentInstance().getExternalContext().getRequest();
        String cid = (String) req.getAttribute("cid");

        if (cid == null) {
            cid = req.getParameter("cid");
            if (cid == null) {
              cid = "" + prevCid++;
            }
            req.setAttribute("cid", cid);
        }

        return cid;
    }
} 
```

# python - 如何从python中的列表中提取特定的元组？

> ID：15037877
> 
> 赞同：0
> 
> 时间：2013-02-23T06:36:06.467
> 
> 标签：python, list, tuples

如何从下面给出的列表中提取特定的元组：

```
[[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]] 
```

我想提取具有相同 x 轴的元组，例如：

```
[(1,4), (1,3), (1,2)] 
```

而 (5,4) 应该被丢弃。请帮我。
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:13:27.163

要展平列表，您应该始终使用 itertools.chain。在这种情况下，您必须应用嵌套`chain`来创建元组的平面列表

```
>>> l=[[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]]
>>> [e for e in chain(*chain(*l)) if e[0] == 1]
[(1, 4), (1, 3), (1, 2)] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T06:50:47.257

[好吧，与您之前的问题](https://stackoverflow.com/questions/15017497/how-to-compare-multiple-lists-of-tuples-in-python)相比，您添加了额外的列表深度

所以，这个列表理解有效：

```
>>> l=[[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]]
>>> def flat1(l): return [i for sub in l for i in sub]
...
>>> [t for t in flat1(flat1(l)) if t[0]==1]
[(1, 4), (1, 3), (1, 2)] 
```

* * *

扁平化列表列表的列表理解方法，如果与`itertools.chain(*l)`.

如果你想使用 itertools 来提高速度，你应该使用它`chain.from_iterable(l)`。

这是时间：

```
import timeit
n=1000000

c1='''
def f1(l):
    return [e for e in itertools.chain(*itertools.chain(*l)) if e[0] == 1]

l1=f1([[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]])
'''    

c2='''
def f2(l):
    def flat1(l): return [i for sub in l for i in sub]
    return [t for t in flat1(flat1(l)) if t[0]==1]

l1=f2([[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]])
'''

c3='''
def f1(l):
    flat1=itertools.chain.from_iterable
    return [e for e in flat1(flat1(l)) if e[0] == 1]

l1=f1([[[(1, 4)]], [[(1, 3)], [(5, 4)]], [[(1, 2)]]])
'''              

t1=timeit.timeit(stmt=c1,setup='import itertools',number=n)
t2=timeit.timeit(stmt=c2,number=n)
t3=timeit.timeit(stmt=c3,setup='import itertools',number=n)

print '          chain(*l):',t1,'seconds'
print ' list comprehension:',t2,'seconds'
print 'chain.from_iterable:',t3,'seconds' 
```

印刷：

```
 chain(*l): 4.32919406891 seconds
 list comprehension: 4.32601380348 seconds
chain.from_iterable: 3.14966917038 seconds 
```

# android - 动态创建根元素和子元素

> ID：15037879
> 
> 赞同：0
> 
> 时间：2013-02-23T06:36:41.457
> 
> 标签：android, web-services

我开发了基于 web 服务的 android 应用程序......当我发送请求时

```
String Outlet=new String();
        Outlet = "<PMS><EMENU><DATETIME></DATETIME><ID>1</ID><REQTYPE>OUTLETID</REQTYPE><OUTLETID>AD</OUTLETID></EMENU></PMS>";
request.addProperty("Outlet", Outlet); 
```

它会完美地给出答案....但是我在一个字符串中有一个 OUTLETID 的值

```
String Outlet="AD"; 
```

所以现在我如何使用soap向webservice发送请求......然后如何为字符串Outlet添加根元素和子元素......

这是我的网络服务方法编码.....

```
public string GetOutletID(string outlet)
    {
        xDoc.LoadXml("<PMS></PMS>");
        XmlNode Root = xDoc.DocumentElement;

        XmlElement head = xDoc.CreateElement("EMENU");
        Root.AppendChild(head);

        XmlElement dt = xDoc.CreateElement("DATETIME");
        dt.InnerText = Date;
        head.AppendChild(dt);

        elem = null;
        elem = xDoc.CreateElement("ID");
        elem.InnerText = "1";
        head.AppendChild(elem);

        elem = null;
        elem = xDoc.CreateElement("REQTYPE");
        elem.InnerText = "OUTLETID";
        head.AppendChild(elem);

        elem = null;
        elem = xDoc.CreateElement("OUTLETID");
        elem.InnerText = outlet;
        head.AppendChild(elem);
        return xDoc.InnerXml.ToString();

    } 
```

在此先感谢....请帮助我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T08:17:43.877

如果您正在寻找的只是“连接”某个字符串变量包含的值，那么您为什么不简单地这样做：

```
String Outlet = "AD";
Outlet = "<PMS><EMENU><DATETIME></DATETIME><ID>1</ID><REQTYPE>OUTLETID</REQTYPE><OUTLETID>" + Outlet + "</OUTLETID></EMENU></PMS>"; 
```

# java - java中抽象方法的不同返回类型，无需强制转换

> ID：15037880
> 
> 赞同：9
> 
> 时间：2013-02-23T06:36:48.133
> 
> 标签：java, methods, abstract, return-type

我正在尝试实现和覆盖具有不同返回类型的方法，而不必强制转换返回类型。

```
public abstract class A {
public abstract Object getValue(String content);
}

public class B extends A {
public String getValue(String content) {...}
}

public class C extends A {
public int getValue(String content) {...}
}

public class D extends A {
public boolean getValue(String content) {...}
}

// Main loop:
for (A a : allAs)
{
// I want to use the method getValue() and corresponding to the type return a String, int or boolean without casting the return type
} 
```

我的问题：是否可以在不强制转换的情况下返回不同的类型？抽象方法是如何解决问题的？

我认为必须有一个解决方案，因为编译器应该知道返回类型......

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-23T06:46:48.610

在您的示例中，类`C`并`D`不会编译。它们中的重写方法违反了[Liskov 替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)，也就是它们的返回类型与它们的父类不兼容。只要您愿意放弃使用原语作为返回类型，就可以使用泛型来完成您想要做的事情。

```
abstract class A<T> {
    public abstract T getValue(String content);
}

class B extends A<String> {
    public String getValue(String content) { }
}

class C extends A<Integer> {
    public Integer getValue(String content) { }
}

class D extends A<Boolean> {
    public Boolean getValue(String content) { }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-23T06:43:07.403

你所描述的一般是不可能的。但是，如果子类返回超类方法返回的“更窄”子类型，则这称为“协变返回类型”，并且从 JDK 1.5 开始在 Java 中是允许的。但是，根据您的示例，我认为协变回报不是您要寻找的。

我假设你想要的是

```
for (A a : allAs)
{
    String b = a.getValue();
    int    c = a.getValue();
} 
```

当然，这里的问题是，编译器无法在编译时知道这两个语句中的哪一个是正确的，而且它们也不可能都是正确的。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-23T06:54:30.493

你可以使用泛型。

```
public abstract class A<T> {
   public abstract T getValue(String content);
}

public class B extends A<String> {
   public String getValue(String content) {...}
} 
```

等等... int 不能作为返回类型，但 Integer 可以。

我没有在编译器上打字，所以可能有错别字......

正如 Jim 和 Chris 所指出的，如果您在 As 上循环，则只能得到“A”结果，即 Object。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-23T06:46:58.977

在您的示例中，定义`class B`是可以的，因为`String`它是`Object`. 另外两个不会编译，因为它们是原始类型。您可以将它们替换为`Integer`并`Boolean`返回以解决该问题。

至于您的主循环，如果您将它们作为对 的引用进行迭代`A`，您将只能使用`A`' 方法的定义，该方法返回`Object`.

# java - java中paintComponent和JPanel的使用

> ID：15037881
> 
> 赞同：-3
> 
> 时间：2013-02-23T06:36:53.570
> 
> 标签：java, swing, user-interface, jpanel

```
import java.awt.Color;
import java.awt.Graphics;
//import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class GuiDemo1 extends JPanel{

    public static void main(String[] args){
            JPanel panel=new JPanel();
            JFrame frame=new JFrame();
            frame.getContentPane().add(panel);
            frame.setVisible(true);
            frame.setSize(500, 400);
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }

    @Override
    public void paintComponent(Graphics g)
        {

            g.setColor(Color.red);
            g.fillRect(20, 50, 100, 100);
        }

} 
```

我是 JAVA 的新手。我已经编写了这个示例程序。但是这不起作用。有人可以指出我所做的错误。

通常调用 super.paintComponent(g) 有什么用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:38:56.667

您的自定义绘画已添加到 GuiDemo1 类而不是 JPanel 类：

```
//JPanel panel=new JPanel();
JPanel panel=new GuiDemo1(); 
```

> 通常调用 super.paintComponent(g) 有什么用？>

您希望在 paintComponent(...) 方法的开头使用它，因为它将为组件执行默认绘制，在 JPanel 的情况下基本上只是绘制背景。尝试添加：

```
panel.setBackground( Color.BLUE ); 
```

看看有/没有 super.paintComponent(g) 会发生什么。

# mysql - MySQL UPDATE syntax with multiple tables using WHERE clause

> ID：15037883
> 
> 赞同：15
> 
> 时间：2013-02-23T06:37:02.360
> 
> 标签：mysql, sql, sql-update

## Case:

How to update `table1` with data from `table2` where `id` is equal?

## Problem:

When I run the following update statement, it updates all the records in `table1` (even where the `id` field in `table1` does not exist in `table2`).

How can I use the the multiple update table syntax, to update ONLY the records in `table1` ONLY where the `id` is present in `table2` and equal?

```
UPDATE table1,table2
SET table1.value=table2.value 
WHERE table2.id=table1.id 
```

Thanks in advance.

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-23T06:45:34.243

here's the correct syntax of `UPDATE` with join in `MySQL`

```
UPDATE  table1 a
        INNER JOIN table2 b
            ON a.ID = b.ID
SET     a.value = b.value 
```

*   [SQLFiddle Demo](http://www.sqlfiddle.com/#!2/6ffb6/1)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-23T06:40:14.897

**EDIT** For MySql it'll be

```
UPDATE table1 t1 INNER JOIN 
       table2 t2 ON t2.id = t1.id
   SET t1.value = t2.value 
```

[sqlfiddle](http://sqlfiddle.com/#!2/4032d/1)

**Original answer** was for SQL Server

```
UPDATE table1
   SET table1.value = table2.value 
  FROM table1 INNER JOIN 
       table2 ON table2.id=table1.id 
```

[sqlfiddle](http://sqlfiddle.com/#!3/79541/1)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-23T06:41:30.143

You can try this:

```
UPDATE TABLE1
SET column_name = TABLE2.column_name
FROM TABLE1, TABLE2
WHERE TABLE1.id = TABLE2.id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T06:48:36.730

```
UPDATE table1
SET table1.value = (select table2.value 
WHERE table2.id=table1.id) 
```

# c# - 如何在运行时获取静态类的方法名称？

> ID：15037891
> 
> 赞同：1
> 
> 时间：2013-02-23T06:37:59.820
> 
> 标签：c#, .net, vb.net

如何获取静态类中的所有方法名称`Math`？

输出应类似于以下内容：

```
Sin
Cos
Round
... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-23T06:46:01.437

尝试这个 ：

```
 MethodInfo[] methodInfos = typeof(Math).GetMethods(BindingFlags.Public | BindingFlags.Static);
    foreach (MethodInfo methodInfo in methodInfos)
    {
        Console.WriteLine(methodInfo.Name);
    } 
```

另外，如果您还需要知道所有参数，请尝试类似

```
 private static void Main()
    {
        MethodInfo[] methodInfos = typeof(Math).GetMethods(BindingFlags.Public | BindingFlags.Static);
        foreach (MethodInfo methodInfo in methodInfos)
        {
            Console.WriteLine(String.Format("{0} with following parameters", methodInfo.Name));
            ParameterInfo[] parameters = methodInfo.GetParameters();
            foreach (ParameterInfo parameter in parameters)
            {
                Console.WriteLine("Name : {0}, Type : {1}", parameter.Name, parameter.ParameterType.FullName);
            }

            Console.WriteLine("--------------");
        }
    } 
```

输出 ：

```
Acos with following parameters
Name : d, Type : System.Double

--------------
Asin with following parameters
Name : d, Type : System.Double

--------------
Atan with following parameters
Name : d, Type : System.Double

--------------
Atan2 with following parameters
Name : y, Type : System.Double
Name : x, Type : System.Double

--------------
Ceiling with following parameters
Name : d, Type : System.Decimal

--------------
Ceiling with following parameters
Name : a, Type : System.Double

--------------
Cos with following parameters
Name : d, Type : System.Double

--------------
Cosh with following parameters
Name : value, Type : System.Double

--------------
Floor with following parameters
Name : d, Type : System.Decimal

--------------
Floor with following parameters
Name : d, Type : System.Double

--------------
Sin with following parameters
Name : a, Type : System.Double

--------------
Tan with following parameters
Name : a, Type : System.Double

--------------
Sinh with following parameters
Name : value, Type : System.Double

--------------
Tanh with following parameters
Name : value, Type : System.Double

--------------
Round with following parameters
Name : a, Type : System.Double

--------------
Round with following parameters
Name : value, Type : System.Double
Name : digits, Type : System.Int32

--------------
Round with following parameters
Name : value, Type : System.Double
Name : mode, Type : System.MidpointRounding

--------------
Round with following parameters
Name : value, Type : System.Double
Name : digits, Type : System.Int32
Name : mode, Type : System.MidpointRounding

--------------
Round with following parameters
Name : d, Type : System.Decimal

--------------
Round with following parameters
Name : d, Type : System.Decimal
Name : decimals, Type : System.Int32

--------------
Round with following parameters
Name : d, Type : System.Decimal
Name : mode, Type : System.MidpointRounding

--------------
Round with following parameters
Name : d, Type : System.Decimal
Name : decimals, Type : System.Int32
Name : mode, Type : System.MidpointRounding

--------------
Truncate with following parameters
Name : d, Type : System.Decimal

--------------
Truncate with following parameters
Name : d, Type : System.Double

--------------
Sqrt with following parameters
Name : d, Type : System.Double

--------------
Log with following parameters
Name : d, Type : System.Double

--------------
Log10 with following parameters
Name : d, Type : System.Double

--------------
Exp with following parameters
Name : d, Type : System.Double

--------------
Pow with following parameters
Name : x, Type : System.Double
Name : y, Type : System.Double

--------------
IEEERemainder with following parameters
Name : x, Type : System.Double
Name : y, Type : System.Double

--------------
Abs with following parameters
Name : value, Type : System.SByte

--------------
Abs with following parameters
Name : value, Type : System.Int16

--------------
Abs with following parameters
Name : value, Type : System.Int32

--------------
Abs with following parameters
Name : value, Type : System.Int64

--------------
Abs with following parameters
Name : value, Type : System.Single

--------------
Abs with following parameters
Name : value, Type : System.Double

--------------
Abs with following parameters
Name : value, Type : System.Decimal

--------------
Max with following parameters
Name : val1, Type : System.SByte
Name : val2, Type : System.SByte

--------------
Max with following parameters
Name : val1, Type : System.Byte
Name : val2, Type : System.Byte

--------------
Max with following parameters
Name : val1, Type : System.Int16
Name : val2, Type : System.Int16

--------------
Max with following parameters
Name : val1, Type : System.UInt16
Name : val2, Type : System.UInt16

--------------
Max with following parameters
Name : val1, Type : System.Int32
Name : val2, Type : System.Int32

--------------
Max with following parameters
Name : val1, Type : System.UInt32
Name : val2, Type : System.UInt32

--------------
Max with following parameters
Name : val1, Type : System.Int64
Name : val2, Type : System.Int64

--------------
Max with following parameters
Name : val1, Type : System.UInt64
Name : val2, Type : System.UInt64

--------------
Max with following parameters
Name : val1, Type : System.Single
Name : val2, Type : System.Single

--------------
Max with following parameters
Name : val1, Type : System.Double
Name : val2, Type : System.Double

--------------
Max with following parameters
Name : val1, Type : System.Decimal
Name : val2, Type : System.Decimal

--------------
Min with following parameters
Name : val1, Type : System.SByte
Name : val2, Type : System.SByte

--------------
Min with following parameters
Name : val1, Type : System.Byte
Name : val2, Type : System.Byte

--------------
Min with following parameters
Name : val1, Type : System.Int16
Name : val2, Type : System.Int16

--------------
Min with following parameters
Name : val1, Type : System.UInt16
Name : val2, Type : System.UInt16

--------------
Min with following parameters
Name : val1, Type : System.Int32
Name : val2, Type : System.Int32

--------------
Min with following parameters
Name : val1, Type : System.UInt32
Name : val2, Type : System.UInt32

--------------
Min with following parameters
Name : val1, Type : System.Int64
Name : val2, Type : System.Int64

--------------
Min with following parameters
Name : val1, Type : System.UInt64
Name : val2, Type : System.UInt64

--------------
Min with following parameters
Name : val1, Type : System.Single
Name : val2, Type : System.Single

--------------
Min with following parameters
Name : val1, Type : System.Double
Name : val2, Type : System.Double

--------------
Min with following parameters
Name : val1, Type : System.Decimal
Name : val2, Type : System.Decimal

--------------
Log with following parameters
Name : a, Type : System.Double
Name : newBase, Type : System.Double

--------------
Sign with following parameters
Name : value, Type : System.SByte

--------------
Sign with following parameters
Name : value, Type : System.Int16

--------------
Sign with following parameters
Name : value, Type : System.Int32

--------------
Sign with following parameters
Name : value, Type : System.Int64

--------------
Sign with following parameters
Name : value, Type : System.Single

--------------
Sign with following parameters
Name : value, Type : System.Double

--------------
Sign with following parameters
Name : value, Type : System.Decimal

--------------
BigMul with following parameters
Name : a, Type : System.Int32
Name : b, Type : System.Int32

--------------
DivRem with following parameters
Name : a, Type : System.Int32
Name : b, Type : System.Int32
Name : result, Type : System.Int32&

--------------
DivRem with following parameters
Name : a, Type : System.Int64
Name : b, Type : System.Int64
Name : result, Type : System.Int64&

-------------- 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T07:08:22.367

怎么样[`.GetMembers`](http://msdn.microsoft.com/en-us/library/system.type.getmembers%28v=vs.71%29.aspx)

```
var list = typeof(Math).GetMembers().Select(c => c.Name).Distinct().ToList(); 
```

# c# - 如何向 UI 报告在另一个类中创建和运行的后台工作人员的进度

> ID：15037894
> 
> 赞同：0
> 
> 时间：2013-02-23T06:38:22.123
> 
> 标签：c#, .net, winforms, backgroundworker

我有一个按钮，它调用一个类来启动一个后台工作人员。一切正常，除了我想向 UI（具有按钮）报告进度，以便随着后台工作人员进度的更改而更新。我已经尝试了很多东西，但无法成功。进度的改变不仅仅是触发。

这是启动后台工作人员的代码：

```
var backgroundWorker = new BackgroundWorker();
            ListBackgroundWorkerRunning.Add(path, backgroundWorker);
            backgroundWorker.WorkerReportsProgress = true;
            backgroundWorker.DoWork += (sender, e) =>
                {
                    _fileUploadRepository.UploadFiles(path);
                    var directoryConfiguration = new DirectoryConfiguration();
                    directoryConfiguration.UpdateProgressBarHandler(10);
                    //BackgroundWorker worker = sender as BackgroundWorker;

                    //directoryConfiguration.ProgressChanged += directoryConfiguration_ProgressChanged;
                };
            //backgroundWorker.ProgressChanged += backgroundWorker_ProgressChanged;
            backgroundWorker.RunWorkerCompleted += (sender, e) =>
                {
                    _crudOperation.UpdateDatabaseWithCrawlFinishedNotification(path);
                    RemoveCrawler(path);
                    InitializeWatcher(path);
                };
            backgroundWorker.RunWorkerAsync(); 
```

这是 progress_changed 事件：

```
//void backgroundWorker_ProgressChanged(object sender, ProgressChangedEventArgs e)
        //{
        //    var directoryConfiguration = new DirectoryConfiguration();
        //    directoryConfiguration.Invoke(new Action(() => directoryConfiguration.progressBar1.Value = e.ProgressPercentage));
        //} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:42:48.833

你还是要打电话

```
backgroundWorker.ReportProgress(currentProgress); 
```

不时从您的 DoWork 处理程序中触发进度事件。

[http://msdn.microsoft.com/en-us/library/ka89zff4.aspx](http://msdn.microsoft.com/en-us/library/ka89zff4.aspx)

您还必须再次在 ProgressChanged 处理程序中发表评论:-)

# android - Android 按钮形状可绘制边距

> ID：15037895
> 
> 赞同：0
> 
> 时间：2013-02-23T06:38:47.173
> 
> 标签：android, android-layout, android-button, android-drawable

我使用可绘制形状设置按钮的样式，这会导致按钮过度扩展一点或失去它的边距，因此它不能与其他按钮很好地对齐。知道为什么：

![在此处输入图像描述](../Images/dce053cd8c1d6468502e7398dc8c30ea.png)

这是我的布局代码：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/LinearLayout1"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >
 <TableLayout
    android:layout_width="match_parent"
    android:layout_height="0dip"
    android:layout_weight="1"
    android:stretchColumns="*"
    android:weightSum="2" >
<TableRow
        android:id="@+id/tableRowMem"
        android:layout_weight="1" >

            <Button
                android:id="@+id/buttonA"
                android:layout_width="0dip"
                android:layout_height="match_parent"
                android:layout_weight="1"
                android:text="A"/>

        <Button
            android:id="@+id/buttonB"
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:text="B" />

    </TableRow>

    <TableRow
        android:id="@+id/tableRow1"
        android:layout_weight="1" >

        <Button
            android:id="@+id/buttonC"
            android:layout_width="0dp"
            android:layout_weight="1"
            android:layout_height="match_parent"
            android:text="C" />

        <Button
            android:id="@+id/buttonD"
            android:layout_width="0dp"
            android:layout_weight="1"
            android:layout_height="match_parent"
            android:background="@drawable/buttonred"
            android:text="D" />
    </TableRow>
    </TableLayout>
    </LinearLayout> 
```

这是可绘制的形状：

```
<?xml version="1.0" encoding="utf-8"?>
<selector android:shape="rectangle" xmlns:android="http://schemas.android.com/apk/res/android">
<item>

    <shape>
         <gradient
    android:startColor="#FFFF0000"
    android:endColor="#80FF00FF"
    android:angle="45"/>

    </shape>
</item>
</selector> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:47:57.737

似乎每个按钮都有一些填充或布局边距的 dp。

尝试设置

```
android:padding=0 
```

如果这不起作用

```
android:layout_margin=0 
```

这将消除默认按钮的边距，如果要解决其他方式，请为自定义按钮添加边距

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T09:46:13.747

看下图。默认按钮是9个补丁图像，所以按钮后面总是有多余的空间，这是你按钮的捕获。因此，当您设置背景资源时，空白空间将被图像填充。所以最好`ImageView`改用。它将与 imageview 完美配合。虽然可能有像填充这样的解决方案，但在某些情况下它们会失败。您可以使用 ImageView 实现该功能。我希望这能帮到您。

![默认按钮](../Images/2ecbfbadc2226b88729c82affe5b7dfb.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:55:08.727

这可能是因为其他可绘制对象的画布可能有填充。

检查画布填充[不是您在 xml 中设置的填充，而是设计师在图像本身中设置的填充]，并将其与您的新可绘制对象匹配，看看它们是否相同。他们应该是一样的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T07:02:58.337

试试我下面的布局，我做了一些相关的改变：

> ```
>  <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
>   xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
>   xmlns:tools="http://schemas.android.com/tools"
>   android:id="@+id/LinearLayout1"
>   android:layout_width="fill_parent"
>   android:layout_height="fill_parent"
>   android:orientation="vertical" >
>    <TableLayout
>       android:layout_width="fill_parent"
>       android:layout_height="0dip"
>       android:layout_weight="1"
>       android:stretchColumns="*"
>       android:weightSum="2" >
>   <TableRow
>     android:id="@+id/tableRowMem"
>     android:weightSum="1" >
>         <Button
>             android:id="@+id/buttonA"
>             android:layout_width="0dip"
>             android:layout_height="fill_parent"
>             android:layout_weight="0.5"
>             android:text="A"/>
> 
>     <Button
>         android:id="@+id/buttonB"
>         android:layout_width="0dp"
>         android:layout_height="fill_parent"
>         android:layout_weight="0.5"
>         android:text="B" />
> 
> </TableRow>
> 
> <TableRow
>     android:id="@+id/tableRow1"
>     android:weightSum="1" >
> 
>     <Button
>         android:id="@+id/buttonC"
>         android:layout_width="0dp"
>         android:layout_weight=".5"
>         android:layout_height="fill_parent"
>         android:text="C" />
> 
>     <Button
>         android:id="@+id/buttonD"
>         android:layout_width="0dp"
>         android:layout_weight="0.5"
>         android:layout_height="fill_parent"
>         android:background="@drawable/buttonred"
>         android:text="D" />
> </TableRow>
> </TableLayout>
> </LinearLayout> 
> ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-23T07:12:05.337

为按钮添加填充。

```
android:padding="0dp" 
```

# objective-c - 在实现或接口文件中添加 no-objc-arc

> ID：15037897
> 
> 赞同：2
> 
> 时间：2013-02-23T06:39:03.663
> 
> 标签：objective-c, compiler-construction, automatic-ref-counting

我有一个类（NDTrie on github），它使用 c struct 作为其内部结构，通过将 fno-objc-arc 添加到源文件而不是要求用户在该源文件的构建阶段设置它，有没有办法做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:55:56.913

每个文件的编译器标志是在每个项目的基础上附加到文件上的（要编译成某种形式的机器代码的文件通常会尽量避免使用元数据）。如果您想指定标志并让它更新任何 Xcode 项目中的必填字段，您可以使用[CocoaPods](http://cocoapods.org/)为您的依赖项编写一个 pod 文件。让底层工具处理其余部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T07:08:37.277

不，在这种情况下，不可能根据特征分离*翻译部分*并为该翻译更改它们的标志。

你应该从另一个角度接近它。ARC 功能根据当前翻译的编译器标志将所有预处理的输入视为是否启用了 ARC。

最明显的解决方法：

0) 减少影响：尽可能隐藏实施

1) 翻译特定条件：`__has_feature(objc_arc)`用于确定您是否正在处理启用 ARC 的翻译 - 如果您使用 clang，`__has_feature(objc_arc)`则启用 ARC 时表达式扩展为 1。然后，您可以有条件地使程序的某些部分可见或对其进行不同的注释，具体取决于是否启用了 ARC。

2) 检测并失败：在剩余的一些情况下，您可以选择：

```
// >> detect clang or GCC if needed
#if __has_feature(objc_arc)
#error This file cannot be compiled with ARC enabled (+HYPERLINK so you don't get a flooded inbox)
#endif
// << detect clang or GCC if needed 
```

# magento - 如何在magento客户网格中自定义数据库值

> ID：15037900
> 
> 赞同：2
> 
> 时间：2013-02-23T06:39:34.537
> 
> 标签：magento, magento-1.7

我为特殊用途的客户模块创建了新的 magento 网格。

因为有一列`usertype`它的值为0,1,2。

它将在客户网格页面中显示为 0,1,2。

但我需要显示值是否为，

```
 0 -> Inactive
 1 -> Activated
 2 -> Baned 
```

我怎样才能做到这一点？

这是我在 _prepareColumns() 中的代码 grid.php：

```
$this->addColumn('usertype', array(
            'header'    => Mage::helper('customer')->__('Usertype'),
            'width'     => '150',
            'index'     => 'usertype'
        )); 
```

如果这在magento中是可能的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T07:50:13.730

如果你的贪婪实现`Mage_Adminhtml_Block_Widget_Grid`我建议你修改你`addColumn`打电话给

```
$this->addColumn('usertype',
        array(
            'header'=> Mage::helper('customer')->__('Usertype'),
            'width' => '150px',
            'index' => 'usertype',
            'type'  => 'options',
            'options' => $values
        )); 
```

哪里`$values`应该格式化为

```
array( 'value_id' => 'value_label') 
```

现在您已经使用值创建了下拉列表。然后更新`_prepareCollection()`函数并将属性值添加到客户网格集合 `$collection->joinAttribute('usertype', 'customer/usertype', 'entity_id', null, 'left');`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T09:01:30.883

我从中得到了解决[方案](http://tipsmagento.blogspot.in/2011/03/add-new-column-on-customers-grid.html)

通过使用 rendere 将有助于将 vlaues 加载到每一行。

# javascript - jQuery中的preg_match字符串

> ID：15037902
> 
> 赞同：1
> 
> 时间：2013-02-23T06:39:58.483
> 
> 标签：javascript, jquery, regex

如何在jQuery中找到括号之间的随机数

**jQuery：**

```
alert( preg_match("/^[0-9]$/", $('testSlide_1').html ) ); 
```

**HTML：**

`<div id='testSlide_1'>hard(1)</div>`

任何人都可以帮助PLZ

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:48:49.407

```
console.log($("#testSlide_1").text().match(/\((\d+)\)/)[1]); 
```

# ios - 通过蓝牙使用汽车扬声器，而不是来自 iOS 应用程序的“假”电话

> ID：15037905
> 
> 赞同：2
> 
> 时间：2013-02-23T06:40:09.047
> 
> 标签：ios, bluetooth, voice

我注意到 iOS 谷歌地图应用程序和 Skype 应用程序都通过蓝牙从我的汽车扬声器播放声音。

我的汽车制造商只允许我的手机使用汽车扬声器进行通话（除非您为“增强型蓝牙”支付更多的钱），所以这两个应用程序都在玩“假”电话的伎俩，即我从汽车的仪表板上看到我'我打电话给自己，当谷歌地图提供语音转弯导航时。

没做过很多iOS编程，想知道有没有代码示例可以达到这个目的。任何指针将不胜感激。

# android - 菜单（imageview）在android中不可点击

> ID：15037908
> 
> 赞同：0
> 
> 时间：2013-02-23T06:40:44.663
> 
> 标签：android, layout, widget, onclick, imageview

我的应用程序中有 4 个活动，它们是菜单项，如果我单击第一个活动的菜单，所有项目都会显示，但在第二个或前面的活动菜单上是不可点击的，并且菜单项也没有显示，已经给出所有活动的编码相同，但我仍然没有得到结果。这是我的第二个活动的代码

```
public class About extends Activity {
LinearLayout line1, line2;
ImageView menu;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_about);
    line1=(LinearLayout) findViewById(R.id.ll1);
    line2=(LinearLayout)findViewById(R.id.ll2);

    menu=(ImageView)findViewById(R.id.menu);

    menu.setOnClickListener(new View.OnClickListener() {

  public void onClick(View v) {
   menu.setVisibility(View.VISIBLE);
    // TODO Auto-generated method stub
  line1.setVisibility(View.VISIBLE);
  if (line2.getVisibility() == View.INVISIBLE || line2.getVisibility() == View.GONE) {
      line2.setVisibility(View.VISIBLE); } 
  else { 
      line2.setVisibility(View.INVISIBLE); 
  } 
    }
});

          ImageView home = (ImageView) findViewById(R.id.home);
          home.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v){
                startActivity(new Intent(About.this, Home.class));
             }
              });

          ImageView jobs = (ImageView) findViewById(R.id.jobs);
           jobs.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v){
                startActivity(new Intent(About.this, Jobs.class));
             }
              });

          ImageView log = (ImageView) findViewById(R.id.log);
          log.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v){
                startActivity(new Intent(About.this, Login.class));
             }
              });

          ImageView about = (ImageView) findViewById(R.id.about);
          about.setOnClickListener(new View.OnClickListener() {
             public void onClick(View v){
                startActivity(new Intent(About.this, About.class));
             }
              }); 
```

xml代码

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@color/black" >

<LinearLayout
    android:id="@+id/ll1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@color/black" 
   android:layout_alignParentTop="true"
    android:layout_alignParentRight="true">

      <ImageView
    android:id="@+id/menu"
    android:layout_width="50dp"
    android:layout_height="50dp"

    android:src="@drawable/menu" />
</LinearLayout>

<LinearLayout
    android:id="@+id/ll2"
    android:layout_width="199dp"
    android:layout_height="wrap_content"
    android:background="@color/black" 
    android:layout_toRightOf="@+id/ll1"
    android:visibility="gone"
    >

  <ImageView
    android:id="@+id/about"
    android:layout_width="50dp"
    android:layout_height="50dp"
    android:layout_above="@+id/textView1"
    android:layout_toLeftOf="@+id/jobs"
    android:src="@drawable/about" />

<ImageView
    android:id="@+id/jobs"
    android:layout_width="50dp"
    android:layout_height="50dp"

    android:src="@drawable/jobs" />

<ImageView
    android:id="@+id/log"
    android:layout_width="50dp"
    android:layout_height="50dp"

    android:src="@drawable/log" />

<ImageView
    android:id="@+id/home"
    android:layout_width="50dp"
    android:layout_height="50dp"

    android:src="@drawable/home" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T09:37:31.957

您必须 @Override onClick 侦听器，只需在单击侦听器之前添加 @Override

```
 @Override 
  public void onClick(View v) {
   menu.setVisibility(View.VISIBLE);
    // TODO Auto-generated method stub
  line1.setVisibility(View.VISIBLE);
  if (line2.getVisibility() == View.INVISIBLE || line2.getVisibility() == View.GONE) {
      line2.setVisibility(View.VISIBLE); } 
  else { 
      line2.setVisibility(View.INVISIBLE); 
  } 
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T15:16:06.083

您是否尝试`super.onClick(v);`在 onCLick 方法中添加 a 作为第一行？

# ruby-on-rails - 使用 Arel 对 AND 和 OR 子句进行分组

> ID：15037916
> 
> 赞同：3
> 
> 时间：2013-02-23T06:42:46.063
> 
> 标签：ruby-on-rails, activerecord, arel

我正在尝试在我的 rails 模型中构建一个范围，当调用该范围时，它会在 7 个布尔字段上为我提供一组嵌套的 AND 和 OR 子句。为了清楚起见，这是一个简化列名的示例：

```
SELECT * FROM mytable
WHERE (a AND b AND c) OR (a AND d AND e) OR (a AND f AND g); 
```

请注意，列`a`存在于所有三个子句中。另一种写法是：

```
SELECT * FROM mytable
WHERE a AND ((b AND c) OR (d AND e) OR (f AND g)); 
```

Arel 似乎对第二种形式不太宽容。我已经非常接近以下范围：

```
scope :needs_any_delivery, lambda {
  table = self.arel_table
  common_assert = table[:a].eq(true)
  where(
    common_assert.and(
      table[:b].eq(true).and(
        table[:c].eq(false)
      )
    ).or(
      common_assert.and(
        table[:d].eq(true).and(
          table[:e].eq(false)
        )
      ).or(
        common_assert.and(
          table[:f].eq(true).and(
            table[:g].eq(false)
          )
        )
      )
    )
  )
} 
```

这会产生以下查询：

```
SELECT * FROM mytable
WHERE (
  (a = 't' AND b = 't' AND c = 'f'
    OR (a = 't' AND d = 't' AND e = 'f' OR a = 't' AND f = 't' AND g = 'f')
  )
) 
```

它很接近，但第三`AND`组并没有与第二组分开`AND`。我发现，如果我`or`在第三组的末尾添加了一些额外的虚假子句，那么 Arel 会适当地将第三个子句单独分组……但这似乎是一个 hack。

想知道那里是否有任何 Rails/arel 大师有任何想法。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-09-10T18:46:38.103

如果您像我一样并且真的想继续使用 Arel 来实现此功能，我发现创建新`or`方法似乎是最佳途径。

我添加了一个名为`arel_fixed_or.rb`以下内​​容的新初始化程序：

```
Arel::Nodes::Node.class_eval do

  ###
  # Factory method to create a Nodes:Or that has a Nodes::Grouping
  # node as a child.
  def fixed_or right
    Arel::Nodes::Or.new self, Arel::Nodes::Grouping.new(right)
  end

end 
```

在您通常想要使用`or`语句的任何地方，您都可以继续使用`fixed_or`它，然后将一个 or-ed 分组语句附加到您的子句的末尾，这对我来说应该是预期的方法。`Arel::Nodes::Grouping`如果这对您没有意义，请随意删除该部分。

需要注意的一件事是，您可能仍然需要手动放置分组，以便正确的元素被括号括起来。例如：

```
table = Arel::Table.new(:mytable)
common_assert = table[:a].eq(true)

first_or = table[:b].eq(true).and(table[:c].eq(true))
second_or = table[:d].eq(true).and(table[:e].eq(true))
third_or = table[:f].eq(true).and(table[:g].eq(true))

common_assert.and(
  table.grouping(
    table.grouping(first_or)
      .fixed_or(second_or)
      .fixed_or(third_or)
  )
) 
```

它的`to_sql`输出变为：

```
"mytable"."a" = 't' AND (
  ("mytable"."b" = 't' AND "mytable"."c" = 't') OR
  ("mytable"."d" = 't' AND "mytable"."e" = 't') OR
  ("mytable"."f" = 't' AND "mytable"."g" = 't')
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T07:10:15.657

除非我读错了，否则使用 active_record_or 之类的东西可能[比](https://github.com/woahdae/active_record_or)直接使用 arel 更容易。

使用该 gem，您应该能够通过以下方式获得正确的结果：

```
common_assert = where(a: true) # WHERE a
option_one = where(b: true).where(c: true) # b AND c
option_two = where(d: true).where(e: true) # d AND e
option_three = where(f: true).where(g: true) # f AND g
combined_optionals = option_one.or.option_two.or.option_three # (b AND c) OR (d AND e) OR (f AND g)
common_assert.merge(combined_optionals) # WHERE a AND ((b AND c) OR (d AND e) OR (f AND g)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-16T16:27:28.110

你也可以像

```
def dnf(clauses)
  clauses
    .map { |clause| clause.reduce(:and) }
    .reduce(:or)
end

table = Arel::Table.new(:some_fancy_table)
table[:a].eq(true).and dnf [
  [table[:b].eq(true), table[:c].eq(false)],
  [table[:d].eq(true), table[:e].eq(false)],
  [table[:f].eq(true), table[:g].eq(false)],
] 
```

另外，我认为您实际上不需要在 and-connected 子句周围加上括号，请参阅[SQL Logic Operator Precedence: And and Or](https://stackoverflow.com/questions/1241142/sql-logic-operator-precedence-and-and-or#1241158)

# android - Android 如何连接到远程服务器，执行 php 文件并检索数据

> ID：15037920
> 
> 赞同：-1
> 
> 时间：2013-02-23T06:43:00.067
> 
> 标签：android

我正在尝试连接远程服务器和使用数据库。我不知道如何连接到服务器并执行`PHP`文件。请帮忙。我正在使用 JSON 来显示`PHP`文件中的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:57:53.657

如果您知道如何使用 php 连接到服务器，那么您可以使用`webview`.

例如：在 php 中连接 MySQL 数据库

```
<?php
$conn = mysqli_connect('host','user_name','password','database')
or die('Error in connecting database');
//Do stuff in your case you echo json array/object
?> 
```

[这个](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/)链接和[这个](http://www.vogella.com/articles/AndroidJSON/article.html)链接有很好的例子，如何从`json`编码的 PHP 文件中获取数据。我希望这些参考资料可以解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:45:03.620

您需要`webservice`在服务器端创建一个，然后您需要从 android 应用程序调用您的网络服务，您可以访问您的数据库

# python - Python-处理多个目录中的文件

> ID：15037925
> 
> 赞同：2
> 
> 时间：2013-02-23T06:43:19.260
> 
> 标签：python, import, package

我意识到这可能被认为是其他一些问题的重复问题，但我现在已经花了一个多小时阅读各种页面和文档，但仍然不明白这里发生了什么。

我正在尝试使用多个目录中的 python 文件；我基本上有这个：

```
myproject/
    __init__.py
    some_file.py
    some_data.dat
    tests/
        __init__.py
        test_some_file.py 
```

`test_some_file.py`是从命令行运行的，顾名思义，是为了运行包含在里面的代码`some_file.py`，需要导入。但是，我似乎不能这样做。

我试过了：

```
from myproject import some_file 
```

并且

```
from .. import some_file 
```

我确实设法使用 运行它`sys.path`，但根据我所读的内容，这似乎不是正确的做事方式。

其次，当我让它运行时，使用`sys.path`，我得到一个错误，它无法找到`some_data.dat`由`some_file.py`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:54:03.677

这是 Python 程序员常问的问题。问题是 Python 不能很好地处理包内的脚本。在过去的几个版本中情况有所改善，但很多时候它仍然没有做正确的事情。

我认为最好的答案是限制你从哪里运行`test_some_file.py`，并使用 Python 解释器的`-m`参数。也就是切换到上面的目录`myproject`，然后运行`python -m myproject.tests.test_some_file`。这是唯一可以在不乱用的情况下工作的方法`sys.path`。

这将允许您的任一导入行正常工作。PEP 8 目前建议始终使用绝对导入，因此第一个版本可能比使用`..`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T10:53:51.640

对于像您这样的情况，我将目录添加`some_file.py`到`sys.path`（临时）。

代码：

```
import sys, os
dirname = os.path.dirname(                 # going up by 1 directory
                   os.path.dirname(        # going up by 2 directories
                            sys.argv[0]))
sys.path.append(dirname)
import some_test 
```

# php - Google Chrome 和 apache .htaccess 重定向循环错误

> ID：15037927
> 
> 赞同：1
> 
> 时间：2013-02-23T06:43:36.543
> 
> 标签：php, apache, .htaccess, google-chrome, https

我有一个只影响谷歌浏览器的问题。我有两个子目录secure.fixnode.ca和storage.fixnode.ca，这两个子目录都需要使用https协议。

我在 Google Chrome 中遇到的错误是：“重定向循环错误，重定向太多”

**storage.fixnode.ca**在谷歌浏览器中可以正常工作，但由于某种原因，**secure.fixnode.ca**不能。

此外，这**两个**子目录在其他所有浏览器（IE、FF、Safari）中都运行良好。

下面是我的 .htaccess 文件：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^fixnode\.ca$ [NC]
RewriteRule ^.*$ http://www.fixnode.ca%{REQUEST_URI} [R=permanent,L]

RewriteCond %{HTTPS} off
RewriteCond %{HTTP_HOST} ^(secure|storage)\. [NC]
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L]

# END OF CHANGE
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^([^\.]+)/$ $1.php

ErrorDocument 401 /?loc=401error.php
ErrorDocument 404 /?loc=404error.php

Options -Indexes 
```

给我带来麻烦的行是：

```
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [R,L] 
```

谷歌浏览器似乎将 apache https 重定向视为重定向错误。

有谁知道我是否可以在谷歌浏览器和其他浏览器中以任何其他方式执行此操作？

任何帮助表示赞赏

谢谢，菲利普·K

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T10:40:40.507

从您的情况来看，您的 https 重定向似乎进入了无限重定向循环。我有理由相信 %{HTTPS} 变量并没有应有的稳定（我见过其他人对此有问题）。

尝试更改 %{HTTPS} 条件：

```
RewriteCond %{HTTPS} off 
```

**到：**

```
# If not port 443 (https) then this condition should match
RewriteCond %{SERVER_PORT} !^443$ 
```

替代方案是：

```
RewriteCond %{SERVER_PORT} ^80$ 
```

和..

```
RewriteCond %{REQUEST_SCHEME} ^http$ 
```

# macos - 如何让OpenGLView的init函数运行？

> ID：15037929
> 
> 赞同：0
> 
> 时间：2013-02-23T06:43:44.513
> 
> 标签：macos, cocoa, opengl

我试图让 init 函数在我创建的 NSOpenGlView 的子类版本中运行。

例如下面的代码。

```
- (id)initWithFrame:(NSRect)frameRect{
    NSLog(@"Init function ran");
    return self;
} 
```

它应该向控制台发送 init 函数运行但它没有！我曾尝试创建一个 init 函数和 initWithFrame:PixelFormat: 函数，以查看它们是否触发了任何控制台消息，但什么也没发生。

我通过将 NSOpenGlView 拖到界面构建器中的窗口并将其类设置为我的子类版本来创建 NSOpenGlView。我的 drawrect 函数可以正常工作并绘制一个 opengl 三角形，所以我知道它在那个级别上工作。

这是我的整个班级，以防你好奇

```
#import <Cocoa/Cocoa.h>
@interface openGLView : NSOpenGLView
- (void) drawRect:(NSRect) bounds;
@end

#import "openGLView.h"
#include <OpenGL/gl.h>

@implementation openGLView
- (id)initWithFrame:(NSRect)frameRect{
    NSLog(@"Init function ran");
    return self;
}
- (void) drawRect:(NSRect) bounds{
    glClearColor(0, 0, 0, 0);
    glClear(GL_COLOR_BUFFER_BIT);
    drawAnObject();
    glFlush();
    NSLog(@"drawRect");
}

static void drawAnObject ()
{
    glColor3f(1.0f, 0.85f, 0.35f);
    glBegin(GL_TRIANGLES);
    {
        glVertex3f(  0.0,  0.6, 0.0);
        glVertex3f( -0.2, -0.3, 0.0);
        glVertex3f(  0.2, -0.3 ,0.0);
    }
    glEnd();
}

@end 
```

我需要这样做的原因是我可以在初始化时返回一个新的 32 位像素格式，以便 DEPTH_TEST 实际工作。假设您可以在界面生成器中设置它，但对我来说，我没有看到任何选项。这可能是因为它在滚动视图内但还不确定。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T15:29:58.810

如果您在 Interface Builder 中创建了视图，那么它不会调用`- (id)initWithFrame:(NSRect)frame`，而是调用`- (id)initFromCoder:(NSCoder *)coder`

# c# - 连接字符串中的 %APPDATA% 没有替代实际文件夹？

> ID：15037937
> 
> 赞同：10
> 
> 时间：2013-02-23T06:44:22.870
> 
> 标签：c#, wpf, entity-framework, sql-server-ce

使用 WPF 和实体框架时，我有一个 APP.CONFIG，如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <connectionStrings>
     <add name="DatabaseEntities" connectionString="metadata=res://*/Model.csdl|res://*/Model.ssdl|res://*/Model.msl;provider=System.Data.SqlServerCe.4.0;provider connection string=&quot;Data Source=%APPDATA%\Folder\Database.sdf&quot;" providerName="System.Data.EntityClient" />
  </connectionStrings>
</configuration> 
```

使用此代码时，它总是会引发以下错误：

```
System.Data.EntityException: The underlying provider failed on Open. ---> System.Data.SqlServerCe.SqlCeException: The path is not valid. Check the directory for the database. [ Path = %APPDATA%\Folder\Database.sdf ] 
```

当我从命令提示符运行路径“%APPDATA%\Folder\Database.sdf”时它工作正常，如果我删除“%APPDATA% 并硬编码路径它工作正常 - 所以它看起来就像 %APPDATA% 是只是没有被实际文件夹取代......

谢谢，

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-23T07:07:02.290

正如您已经意识到的那样，`%APPDATA%`或者任何其他环境变量都不会被连接字符串中它们各自的值替换。环境变量是与操作系统外壳相关的东西。它们在命令提示符下工作，因为命令提示符显式解析输入的值并替换环境变量。这不是 .NET 框架通常执行的操作。

要实现这一点，您必须手动提供`%APPDATA%`（使用`Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData)`或`Environment.GetEnvironmentVariable("APPDATA")`）的值。有两种选择：

1.  更改连接字符串并使用`|DataDirectory|`：

    ```
    <connectionStrings>
      <add name="DatabaseEntities" connectionString="metadata=res://*/Model.csdl|res://*/Model.ssdl|res://*/Model.msl;provider=System.Data.SqlServerCe.4.0;provider connection string=&quot;Data Source=|DataDirectory|\Database.sdf&quot;" providerName="System.Data.EntityClient" />
    </connectionStrings> 
    ```

    （注意在`|DataDirectory|`数据库文件路径中的使用。）

    `|DataDirectory|`然后在应用程序的 Main 方法中提供值：

    ```
    AppDomain.CurrentDomain.SetData("DataDirectory",
        Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData)); 
    ```

    有关详细信息，请参阅[此 MSDN 页面](http://msdn.microsoft.com/en-us/library/cc716756.aspx)。

2.  手动为您的 ObjectContext 类提供连接字符串。这样您就可以解析和更改连接字符串：

    ```
    public static string GetConnectionString()
    {
        var conStr = System.Configuration.ConfigurationManager.ConnectionStrings["DatabaseEntities"].ConnectionString;
        return conStr.Replace("%APPDATA%",
            Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData));
    } 
    ```

    然后：

    ```
    var db = new DatabaseEntities(GetConnectionString()); 
    ```

    或者子类化你`ObjectContext`的类并始终使用新的连接字符串：

    ```
    public class MyDatabaseEntities : DatabaseEntities
    {
        public MyDatabaseEntities()
            : base(GetConnectionString())
        {
        }

        public static string GetConnectionString()
        {
            var conStr = System.Configuration.ConfigurationManager.ConnectionStrings["DatabaseEntities"].ConnectionString;
            return conStr.Replace("%APPDATA%",
                Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData));
        }
    } 
    ```

    并在任何地方使用新类。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-07-23T04:46:57.110

我有另一个选择。我们不需要更换任何东西。我正在使用下面的连接字符串，没有任何替换，它工作正常。

```
<connectionStrings>
    <add name="ProjectManagementDBEntities" connectionString="metadata=res://*/Models.ProjectManagementModels.csdl|res://*/Models.ProjectManagementModels.ssdl|res://*/Models.ProjectManagementModels.msl;provider=System.Data.SqlClient;provider connection string=&quot;data source=(LocalDB)\MSSQLLocalDB;attachdbfilename=|DataDirectory|\ProjectManagementDB.mdf;integrated security=True;MultipleActiveResultSets=True;App=EntityFramework&quot;" providerName="System.Data.EntityClient"/>
  </connectionStrings> 
```

主要变化是`data source=(LocalDB)\MSSQLLocalDB;attachdbfilename=|DataDirectory|\ProjectManagementDB.mdf;integrated security=True;`

我希望这会拯救一个人。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-23T07:38:32.910

您必须`%APPDATA%`用相对路径替换代码中的 -

```
var connectionString = ConfigurationManager.ConnectionStrings["DatabaseEntities"]
                                                           .ConnectionString;    
connectionString.Replace("%APPDATA%", 
  Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData); 
```

# ruby - 使用实例方法扩展我所有的 Mongoid 文档

> ID：15037938
> 
> 赞同：1
> 
> 时间：2013-02-23T06:44:29.330
> 
> 标签：ruby, mongodb, sinatra, mongoid

我想用实例方法扩展我**所有的 's。**`Mongoid::Document`与其制作一个模块并将其包含在`Mongoid::Document`我想要扩展的每个模块中，还应该有另一种方法。

例如，对于 ruby​​ 类 Array，我只需重新打开该类并添加我想要的方法：

```
class Array
  def my_new_method
    #....
  end
end 
```

但是我该怎么做`Mongoid::Document`呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T10:42:59.493

我会这样做

```
module Mongoid::Document
    def self.validate
        ...
    end
end 
```

然而，我会避免打开一个外部模块（即使你这看起来）是 ruby​​ 社区中常见的事情。什么是反对明确地包含你自己的模块？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-24T15:11:58.367

如果您要像使用 Array 一样打开一个类，最好这样做：

```
module MyNewMethodable
  def my_new_method( *args )
    fail ArgumentError, "not the right number of arguments"
    #....
  rescue => error
    if MyNewMethodable::Error
      puts "because then users of your module will know where to look for the fault"
    else
      raise error
    end
  end

  class Error < StandardError; end
  class ArgumentError < Error; end

end

class Array
  include MyNewMethodable
end 
```

为 Mongoid::Document 执行此操作

```
class Mongoid::Document
  include MyNewMethodable
end 
```

但是，这里[说](http://mongoid.org/en/mongoid/docs/documents.html)

> 文档是 Mongoid 中的核心对象，任何要持久化到数据库的对象都必须包含 Mongoid::Document。

所以它已经包含在您定义的类中。因此，我建议您将模块包含在您的课程中，而不是包含在`Mongoid::Document`. 例如

```
class MyClass
  include Mongoid::Document
  include MyNewMethodable
end 
```

# regex - Flex Inspectable 标签的正则表达式

> ID：15037944
> 
> 赞同：0
> 
> 时间：2013-02-23T06:45:15.780
> 
> 标签：regex

我正在尝试创建一个匹配以下元数据标记的正则表达式（在 Flex 中使用，但可能在其他地方使用）。

```
Some text some more text [Inspectable(verbose="0",minValue="1",maxValue="100")] some text some text  [Inspectable(arrayType="String",category="Styles")] some text. 
```

这是我到目前为止所拥有的，但它捕获了 1 个单组而不是 2 个。

([可检查((.*))])

PS 我正在使用[RegExr](http://gskinner.com/RegExr/)来测试它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T06:46:36.927

使用不贪婪/不情愿的量词：

```
(\[Inspectable\(.*?\)\]) 
```

# jquery - 通过jquery获取asp.net mvc控制器中的单选按钮值

> ID：15037947
> 
> 赞同：1
> 
> 时间：2013-02-23T06:45:50.233
> 
> 标签：jquery, asp.net-mvc

我的视图中有单选按钮列表，如下所示：

```
<input type="radio" name="questionOpt[1]" value="Very Satisfied-1-1" />
<input type="radio" name="questionOpt[1]" value="Satisfied-1-2" />
<input type="radio" name="questionOpt[1]"  value="Neutral-1-3" />
<input type="radio" name="questionOpt[1]" value="Dissatisfied-1-4" />
<input type="radio" name="questionOpt[1]" value="Very Dissatisfied-1-5" />

<input type="radio" name="questionOpt[2]" value="Very Satisfied-2-1" />
<input type="radio" name="questionOpt[2]" value="Satisfied-2-2" />
<input type="radio" name="questionOpt[2]"  value="Neutral-2-3" />
<input type="radio" name="questionOpt[2]" value="Dissatisfied-2-4" />
<input type="radio" name="questionOpt[2]" value="Very Dissatisfied-2-5" />

<input type="submit" value="Submit" id="submit" /> 
```

当用户选择单选按钮时，我想将单选按钮的值写入数组，然后将其传递给我的 asp.net mvc 项目的控制器。

这是我尝试过的：

```
<input type="hidden" id="resultSelect" name="resultSelect" value="1,2,3,4,5"/>
<script type="text/javascript">
var clicks = new Array();
$(document).ready(function () {
    for (var i = 1; i <= count_; i++) {
        $("input:radio[name='questionOpt["+i+"]']").click(function () {
            clicks.push($(this).val());
        });
    }
});
$("#submit").click(function () {
    for (var y = 0; y<clicks.length; y++) {
        $("#resultSelect").val(clicks[y]);       
    }
 });

</script> 
```

我在我的控制器中这样写：

```
 string result= frm["resultSelect"].ToString(); 
```

当我单击单选按钮`Very Satisfied-1-1`和时，然后当我调试它时，`Dissatisfied-2-4`只有字符串。`Dissatisfied-2-4``result`

谁能告诉我如何获得两个单选按钮值`Very Satisfied-1-1`并作为我的控制器字符串中的`Dissatisfied-2-4`数组。`["Very Satisfied-1-1","Dissatisfied-2-4"]``result`

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:54:05.850

尝试

```
$("#submit").click(function ()
{
    var selectedIdsStr = clicks.join(",");
    $("#resultSelect").val(selectedIdsStr);       
}); 
```

也请把上面的代码包装在里面`document.ready`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T06:52:13.697

您正在覆盖 for 循环中的值，您可以使用[`serailizeArray`](http://api.jquery.com/serializeArray/)方法：

> 将一组表单元素编码为名称和值的数组。

```
$("#submit").click(function () {
    var arr = $('input[type=radio]').serializeArray(); 
    $("#resultSelect").val(arr);       
}); 
```

# c++ - Luabind：无法返回 shared_ptr

> ID：15037955
> 
> 赞同：4
> 
> 时间：2013-02-23T06:46:46.940
> 
> 标签：c++, lua, shared-ptr, luabind

我正在尝试从与 Luabind 绑定的方法返回 std::shared_ptr，但它似乎无法识别该类型。

Luabind 代码：

```
module(lua)
[
    class_<Character, BaseEntity, std::shared_ptr<Character> > ("Character"),
        def("createCharacter", &Character::createCharacter)
]; 
```

创建字符代码：

```
std::shared_ptr<Character> Character::createCharacter(Game* gameInstance, const Character::CharacterSetup& characterSetup, string sprite, b2World* world)
{
    return std::shared_ptr<Character>(new Character(gameInstance, characterSetup, sprite, world));
} 
```

如果我在 Lua 脚本中调用此方法，则不会返回任何内容，并且执行会停在那里。但是，如果我将方法更改为返回 Character*，它会按预期工作。一些谷歌搜索告诉我返回 shared_ptr 应该不是问题。

我究竟做错了什么？

另外，我有这段代码，所以 Luabind 可以理解 std::shared_ptr：

```
namespace luabind
{
    template <typename T>
    T* get_pointer(std::shared_ptr<T> const& p)
    {
        return p.get();
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-04T17:50:04.497

我必须解决同样的问题。

这有点复杂。基本上你需要用原型定义一个函数

```
template <typename T>
T* get_pointer(std::shared_ptr<T> const&); 
```

此函数还必须与 相同的命名空间`std::shared_ptr`，因此`std::`。请注意，您的全局命名空间或命名空间中的函数将**不起作用`luabind`，****因为**luabind 使用[特殊技巧](https://github.com/luabind/luabind/blob/master/luabind/detail/has_get_pointer.hpp)来确保在检查某个类型是否为智能指针时仅使用 ADL。避免这种情况的唯一方法是在`luabind::detail::has_get_pointer_`命名空间中定义您的函数，而不仅仅是`luabind`.

但是单独在这个命名空间中定义你的函数也不起作用（至少对于 Boost <1.53）。尽管`std`C++ 标准技术上不允许在命名空间中定义函数，但这是 Boost <1.53 的唯一可能方式。然而，从 1.53 开始，Boost为(and )定义了它自己的`boost::get_pointer()`重载。对于这个版本，让 Boost在命名空间中可见就足够了，因为 luabind 在任何使用智能指针的地方都是这个函数（参见标题）。那时甚至无法定义函数，因为 luabind 会引发模棱两可的调用。`std::shared_ptr``std::unique_ptr``get_pointer()``luabind::detail::has_get_pointer_``using`[`luabind/get_pointer.hpp`](https://github.com/luabind/luabind/blob/master/luabind/get_pointer.hpp)`std`

因此，如果您想要一个适用于 Boost <1.53 和 >= 1.53 以及 MSVC 10（也许是 9）（这些定义在而不是）的`get_pointer()`重载，我可以为您提供我的（历史上成长的 ;-)）标题：`std::shared_ptr``shared_ptr``std::tr1``std`

```
#ifndef SHAREDPTR_CONVERTER_HPP_INCLUDED
#define SHAREDPTR_CONVERTER_HPP_INCLUDED SHAREDPTR_CONVERTER_HPP_INCLUDED

#include <boost/version.hpp>

#if BOOST_VERSION >= 105300

#include <boost/get_pointer.hpp>

namespace luabind { namespace detail { namespace has_get_pointer_ {
    template<class T>
    T * get_pointer(std::shared_ptr<T> const& p) { return p.get(); }
}}}

#else // if BOOST_VERSION < 105300

#include <memory>

// Not standard conforming: add function to ::std(::tr1)
namespace std {

#if defined(_MSC_VER) && _MSC_VER < 1700
namespace tr1 {
#endif

    template<class T>
    T * get_pointer(shared_ptr<T> const& p) { return p.get(); }

#if defined(_MSC_VER) && _MSC_VER < 1700
} // namespace tr1
#endif

} // namespace std

#endif // if BOOST_VERSION < 105300

#endif 
```

# extjs4.1 - 在extjs中获取树面板的列标题

> ID：15037958
> 
> 赞同：2
> 
> 时间：2013-02-23T06:46:54.503
> 
> 标签：extjs4.1

谁能让我知道如何在单击该特定列中的任何行时获取树面板的列标题名称（动态设置）。

我试过了：

```
handler: function(treepanel, rowIndex, colIndex) {
    treepanel.getColumnModel().getColumnAt(colIndex));
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T01:31:56.540

尝试：

```
treepanel.getView().getGridColumns()[colIndex]['name']; 
```

# string - 回声字符串中的 BASH 函数

> ID：15037963
> 
> 赞同：1
> 
> 时间：2013-02-23T06:47:47.893
> 
> 标签：string, bash, function

我觉得自己像个白痴。我想要一个 BASH 函数，它每次调用时都会交替值。脚本本身很简单，直接调用函数就可以了。但是在字符串中调用时它的工作方式不同。这是代码：

```
odd_or_even()
{
    if [ $ODDEVEN -eq 1 ]; then
       echo "odd"
       let "ODDEVEN+=1"
    else
        echo "even"
        let "ODDEVEN-=1"
    fi
}

ODDEVEN=1
odd_or_even  # Prints "odd"
odd_or_even  # Prints "even"
echo "<td class=\"`odd_or_even`\">Test</td>" # Prints class=odd
echo "<td class=\"`odd_or_even`\">Test</td>" # Prints class=odd 
```

BASH 对在字符串中调用函数有限制吗？它似乎有效，因为它正在输出一些东西，但它没有执行数学运算。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T06:55:21.330

反引号创建子外壳，并且在每个子外壳中重置环境，因此您实际上不会修改相同的变量`ODDEVEN`。

您可以使用文件：

```
odd_or_even()
{
  ODDEVEN=$(cat oddfile)
  if [ $ODDEVEN -eq 1 ]; then
    echo "odd"
    let "ODDEVEN=0"
  else
    echo "even"
    let "ODDEVEN=1"
  fi  
  echo $ODDEVEN > oddfile
} 
```

或者让函数进行字符串操作：

```
odd_or_even()
{
  prefix=$1
  suffix=$2
  if [ $ODDEVEN -eq 1 ]; then
    out="odd"
    let "ODDEVEN=0"
  else
    out="even"
    let "ODDEVEN=1"
  fi  
  echo $prefix$out$suffix
}

ODDEVEN=1
odd_or_even "<td class=\"" "\">Test</td>"
odd_or_even "<td class=\"" "\">Test</td>" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T13:19:50.897

也许不是最优雅的解决方案，但您可以使用文件描述符，因为它们被子进程（例如子shell）继承。

正如已经指出的那样，（反引号）子shell（子进程）中的变量分配（例如您的`let "ODDEVEN+=1"`or `let "ODDEVEN-=1"`）对父shell（父进程）是不可见的。

```
odd_or_even()
{
   if [ $ODDEVEN -eq 1 ]; then
      #echo "odd"
      exec 3<&-
      exec 3<<<"odd"
      let "ODDEVEN+=1"
   else
      #echo "even"
      exec 3<&-
      exec 3<<<"even"
      let "ODDEVEN-=1"
   fi
}
export -f odd_or_even

{
ODDEVEN=1
odd_or_even && cat <&3 3<&-  # Prints "odd"
odd_or_even && cat <&3 3<&-  # Prints "even"
odd_or_even
echo "<td class=\"`cat <&3 3<&-`\">Test</td>" # Prints class=odd
odd_or_even
echo "<td class=\"`cat <&3 3<&-`\">Test</td>" # Prints class=odd
}

# output:
# odd
# even
# <td class="odd">Test</td>
# <td class="even">Test</td> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T11:37:33.103

在这种情况下，目标是让函数脱离子外壳。

```
function odd_or_even {
    case $oddeven in
        ?([01]))
            typeset -a strings=(even odd)
            printf %s "${strings[oddeven^=1]}"
            ;;
        *) return 1
    esac
}

odd_or_even > >(echo "${prefix}$(</dev/fd/0)${suffix}") || exit 
```

由于无论如何您都在分配一个非局部变量，因此不仅直接使用它而不是担心 I/O 并没有任何意义。这使两半都远离子外壳。

```
oddeven=
typeset -a strings=(even odd)
echo "${prefix}${strings[oddeven^=1]}${suffix}" 
```

您的原始解决方案只能在 ksh93t 和 mksh R41 或更高版本中使用不创建子外壳的特殊命令替换形式。

```
function odd_or_even {
    ...
}

print -r -- "${prefix}${ odd_or_even;}${suffix}" 
```

顺便说一句，[停止使用反引号](http://mywiki.wooledge.org/BashFAQ/082)！

# objective-c - NSMenu - 递归地动态添加 NSMenuItem 和 Menus

> ID：15037967
> 
> 赞同：1
> 
> 时间：2013-02-23T06:48:07.133
> 
> 标签：objective-c, cocoa, nsmenuitem, nsmenu

我需要使用像这样的数据为 NSMenu 创建一个树结构

01.level1:01.level2.1:01.level3.1#123456

01.level1:01.level2.2:02.level3.2#622112

01.level1:02.level2.3#98798

rootMenuItem -> level1 ->level2.1 ->level3.1（点击时必须打印 123456）

```
 ->level3.2 (on click 622112)

                   ->level2.3(on click 98798) 
```

像这样，我们需要根据获得的数据构建“n”级结构。

到目前为止，我能够从最后一叶到第一级递归地将 menuitem 添加到菜单中，但无法检查先前级别中的相似标签/名称，也无法像在 NSBrowser 中那样构建一个独特的树层次结构。

正弦 NSMenu 委托不如 NSBrowser 委托高效，它试图递归地使用 for/while 循环来实现相同的效果。

尝试将菜单添加到另一个菜单时，我尝试的逻辑不起作用（因为始终可以将菜单添加到另一个 menuItem）。请让我知道完成这项任务的独特逻辑。请帮助我们

谢谢..

# php - 如何重构这个 PHP 代码？

> ID：15037968
> 
> 赞同：0
> 
> 时间：2013-02-23T06:48:15.380
> 
> 标签：php, refactoring

这是我的代码：

```
$aClass = '';
$bClass = '';
$cClass = '';

if ($_GET['data'] == 'a')
{
    $aClass = ' active';
}
else if ($_GET['data'] == 'b')
{
    $bClass = ' active';
}
else if ($_GET['data'] == 'c')
{
    $cClass = ' active';
}

if ($aClass == '' && $bClass == '' && $cClass == '')
{
    $aClass = ' active';
} 
```

有任何想法吗？这似乎是混乱和多余的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T06:53:56.170

您可以使用`switch-case`构造

```
switch($_GET['data']) {
    case "a": //redundant it is also the default case
        $aClass = ' active';
        break;
    case "b":
        $bClass = ' active';
        break;
    case "c":
        $cClass = ' active';
        break;
    default:
        $aClass = ' active';
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-23T07:08:37.720

只需 4 行 ;)

```
if ($_GET['data'] == 'b' || $_GET['data'] == 'c')
  ${$_GET['data'] . 'Class'} = ' active';
else
  $aClass = ' active'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T06:54:53.540

听起来你正在设置一个 CSS 类。如果是这样，你可以试试

```
if ($_GET['data'] == 'b')
{
    $bClass = ' active';
}
else if ($_GET['data'] == 'c')
{
    $cClass = ' active';
}
else
{
    $aClass = ' active';
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-23T06:55:03.550

```
switch ($_GET['data']) {
case 'a': $aClass = ' active';
break;
//ETC....
case default: 
$aClass = ' active';
break;
} 
```

# php - 如何使用 CodeIgniter / PHP 生成图像的 PPT 幻灯片？

> ID：15037974
> 
> 赞同：0
> 
> 时间：2013-02-23T06:49:50.860
> 
> 标签：php, codeigniter, powerpoint

我正在做一个项目，当用户单击图像的链接时，我需要生成图像的 PPT 幻灯片。我搜索了这个库/过程，但没有找到相关结果。

我有一个示例[链接](http://www.plosone.org/article/info%3adoi/10.1371/journal.pone.0057090#pone.0057090-Nguyen%201)，当用户单击“PowerPoint 幻灯片”时，会生成并下载一个 PPT 文件。我需要相同的功能，但找不到该过程。

提前致谢。

# javascript - Jquery 在 vi sualforce 中没有按预期工作

> ID：15037988
> 
> 赞同：0
> 
> 时间：2013-02-23T06:51:41.047
> 
> 标签：javascript, jquery, salesforce, apex-code, visualforce

我正在编写一个visualforce，我在其中使用动态组件我的visualforce代码是

```
<apex:page title="Salesforce SOQL Offset Example Using Visualforce" standardStylesheets="false" controller="dynamic_visualforce_with_soql_offset" sidebar="false" readOnly="true" cache="false" showHeader="false" >

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>

<script type="text/javascript">
$(function(){

$("[id$=prev]").click(function(){alert('Hello World');});

});
</script>

<apex:sectionHeader subtitle="SOQL Offset Example w/Dynamic Page Buttons" title="Square Root Table"/>

<apex:form >

<apex:pageBlock >   

    <apex:actionFunction action="{!refreshGrid}" name="queryByPage" reRender="myPanel,myButtons" >
        <apex:param name="firstParam" assignTo="{!selectedPage}" value="" />
    </apex:actionFunction>

    <apex:dynamicComponent componentValue="{!myCommandButtons}"/>        

    <apex:pageBlockSection title="Numbers and their Square Roots (Total List Size: {!total_size})" collapsible="false">

    <apex:outputPanel id="myPanel">

    <apex:pageMessages id="theMessages" />

    <apex:pageBlockTable value="{!numbers}" var="n" align="center">

        <apex:column value="{!n.Id}" />

        <apex:column value="{!n.Name}" />

        <apex:facet name="footer">Showing Page # {!pageNumber} of {!totalPages}</apex:facet>

    </apex:pageBlockTable>

    </apex:outputPanel>

    </apex:pageBlockSection>    

</apex:pageBlock>

</apex:form>

</apex:page> 
```

用于生成动态分量的段是

```
public Component.Apex.pageBlockButtons getMyCommandButtons() {

        //the reRender attribute is a set NOT a string
        Set<string> theSet = new Set<string>();
        theSet.add('myPanel');
        theSet.add('myButtons');

        integer totalPages;
        if (math.mod(total_size, list_size) > 0) {
            totalPages = total_size/list_size + 1;
        } else {
            totalPages = (total_size/list_size);
        }

        integer currentPage;        
        if (selectedPage == '0') {
            currentPage = counter/list_size + 1;
        } else {
            currentPage = integer.valueOf(selectedPage);
        }

        Component.Apex.pageBlockButtons pbButtons = new Component.Apex.pageBlockButtons();        
        pbButtons.location = 'top';
        pbButtons.id = 'myPBButtons';

        Component.Apex.outputPanel opPanel = new Component.Apex.outputPanel();
        opPanel.id = 'myButtons';

        //the Previous button will alway be displayed
        Component.Apex.commandButton b1 = new Component.Apex.commandButton();
      b1.id = 'prev';
        b1.expressions.action = '{!Previous}';
        b1.title = 'Previous';
        b1.value = 'Previous';
        b1.expressions.disabled = '{!disablePrevious}';        
        b1.reRender = theSet;
        opPanel.childComponents.add(b1);        

        for (integer i=0;i<totalPages;i++) {
            Component.Apex.commandButton btn = new Component.Apex.commandButton();

            if (i+1==1) {
                btn.title = 'First Page';
                btn.value = 'First Page';
                btn.rendered = true;                                        
            } else if (i+1==totalPages) {
                btn.title = 'Last Page';
                btn.value = 'Last Page';
                btn.rendered = true;                            
            } else {
                btn.title = 'Page ' + string.valueOf(i+1) + ' ';
                btn.value = ' ' + string.valueOf(i+1) + ' ';
                btn.rendered = false;             
            }

            if (   (i+1 <= 5 && currentPage < 5)
                || (i+1 >= totalPages-4 && currentPage > totalPages-4)
                || (i+1 >= currentPage-2 && i+1 <= currentPage+2))
            {
                btn.rendered = true;
            }

            if (i+1==currentPage) {
                btn.disabled = true; 
                btn.style = 'color:blue;';
            }  

            btn.onclick = 'queryByPage(\''+string.valueOf(i+1)+'\');return false;';

            opPanel.childComponents.add(btn);

            if (i+1 == 1 || i+1 == totalPages-1) { //put text after page 1 and before last page
                Component.Apex.outputText text = new Component.Apex.outputText();
                text.value = '...';        
                opPanel.childComponents.add(text);
            } 

        }

        //the Next button will alway be displayed
        Component.Apex.commandButton b2 = new Component.Apex.commandButton();
        b2.expressions.action = '{!Next}';
        b2.title = 'Next';
        b2.value = 'Next';
        b2.expressions.disabled = '{!disableNext}';        
        b2.reRender = theSet;
        opPanel.childComponents.add(b2);

        //add all buttons as children of the outputPanel                
        pbButtons.childComponents.add(opPanel);  

        return pbButtons;

    } 
```

但是当我尝试单击上一个按钮时，它没有显示我期望从 jquery 函数获得的警报，并且 html 代码是

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head><script src="/faces/a4j/g/3_3_3.Finalorg.ajax4jsf.javascript.AjaxScript?rel=1361483299000" type="text/javascript"></script><link class="component" href="/faces/a4j/s/3_3_3.Finalorg/richfaces/renderkit/html/css/table.xcss/DATB/eAEz2rRkV-jyGdIAEoQD8g__" rel="stylesheet" type="text/css" /><script src="/jslibrary/1360895802000/sfdc/JiffyStubs.js"></script><script src="/static/101812/js/functions.js" type="text/javascript"></script><script src="/jslibrary/1360895802000/sfdc/main.js" type="text/javascript"></script><script src="/jslibrary/labels/1360895802000/en_US.js" type="text/javascript"></script><script src="/static/101812/desktop/desktopAjax.js" type="text/javascript"></script><script src="/static/101812/js/picklist.js" type="text/javascript"></script><script src="/jslibrary/1360895802000/sfdc/VFState.js" type="text/javascript"></script></head><script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.min.js"></script>

<script type="text/javascript">
$(function(){

$("[id$=prev]").click(function(){alert('Hello World');});

});
</script><script> if(!window.sfdcPage){window.sfdcPage = new ApexPage();}
UserContext.initialize({"networkId":"","locale":"en_US","labelLastModified":"1360895802000","isDefaultNetwork":true,"today":"2/22/2013 10:38 PM","timeFormat":"h:mm a","userPreferences":[{"index":112,"name":"HideInlineEditSplash","value":false},{"index":114,"name":"OverrideTaskSendNotification","value":false},{"index":115,"name":"DefaultTaskSendNotification","value":false},{"index":119,"name":"HideUserLayoutStdFieldInfo","value":false},{"index":116,"name":"HideRPPWarning","value":false},{"index":87,"name":"HideInlineSchedulingSplash","value":false},{"index":88,"name":"HideCRUCNotification","value":false},{"index":89,"name":"HideNewPLESplash","value":false},{"index":90,"name":"HideNewPLEWarnIE6","value":false},{"index":122,"name":"HideOverrideSharingMessage","value":false},{"index":91,"name":"HideProfileILEWarn","value":false},{"index":93,"name":"HideProfileElvVideo","value":false},{"index":97,"name":"ShowPicklistEditSplash","value":false},{"index":92,"name":"HideDataCategorySplash","value":false},{"index":128,"name":"ShowDealView","value":false},{"index":129,"name":"HideDealViewGuidedTour","value":false},{"index":132,"name":"HideKnowledgeFirstTimeSetupMsg","value":false},{"index":104,"name":"DefaultOffEntityPermsMsg","value":false},{"index":135,"name":"HideNewCsnSplash","value":false},{"index":101,"name":"HideBrowserWarning","value":false},{"index":139,"name":"HideDashboardBuilderGuidedTour","value":false},{"index":140,"name":"HideSchedulingGuidedTour","value":false},{"index":180,"name":"HideReportBuilderGuidedTour","value":false},{"index":183,"name":"HideAssociationQueueCallout","value":false},{"index":194,"name":"HideQTEBanner","value":false},{"index":193,"name":"HideChatterOnboardingSplash","value":false},{"index":195,"name":"HideSecondChatterOnboardingSplash","value":false},{"index":270,"name":"HideIDEGuidedTour","value":false},{"index":282,"name":"HideQueryToolGuidedTour","value":false},{"index":196,"name":"HideCSIGuidedTour","value":true},{"index":271,"name":"HideFewmetGuidedTour","value":false},{"index":272,"name":"HideEditorGuidedTour","value":false},{"index":205,"name":"HideApexTestGuidedTour","value":false},{"index":206,"name":"HideSetupProfileHeaderTour","value":false},{"index":207,"name":"HideSetupProfileObjectsAndTabsTour","value":false},{"index":213,"name":"DefaultOffArticleTypeEntityPermMsg","value":false},{"index":214,"name":"HideSelfInfluenceGetStarted","value":false},{"index":215,"name":"HideOtherInfluenceGetStarted","value":false},{"index":216,"name":"HideFeedToggleGuidedTour","value":false},{"index":268,"name":"ShowChatterTab178GuidedTour","value":false},{"index":275,"name":"HidePeopleTabDeprecationMsg","value":false},{"index":276,"name":"HideGroupTabDeprecationMsg","value":false},{"index":222,"name":"TouchExternalLinkReminderSuppression","value":false},{"index":224,"name":"HideUnifiedSearchGuidedTour","value":false},{"index":226,"name":"ShowDevContextMenu","value":true},{"index":227,"name":"HideWhatRecommenderForActivityQueues","value":false},{"index":228,"name":"HideLiveAgentFirstTimeSetupMsg","value":false},{"index":232,"name":"HideGroupAllowsGuestsMsgOnMemberWidget","value":false},{"index":233,"name":"HideGroupAllowsGuestsMsg","value":false},{"index":234,"name":"HideWhatAreGuestsMsg","value":false},{"index":235,"name":"HideNowAllowGuestsMsg","value":false},{"index":236,"name":"HideSocialAccountsAndContactsGuidedTour","value":true},{"index":237,"name":"HideAnalyticsHomeGuidedTour","value":false},{"index":238,"name":"ShowQuickCreateGuidedTour","value":false},{"index":245,"name":"HideFilePageGuidedTour","value":false},{"index":250,"name":"HideForecastingGuidedTour","value":false},{"index":242,"name":"TouchHideOptoutHover","value":false},{"index":251,"name":"HideBucketFieldGuide","value":false},{"index":263,"name":"HideSmartSearchCallOut","value":false},{"index":265,"name":"HideSocialProfilesKloutSplashScreen","value":false},{"index":273,"name":"ShowForecastingQuotaAttainment","value":false},{"index":280,"name":"HideForecastingQuotaColumn","value":false},{"index":301,"name":"HideManyWhoGuidedTour","value":false},{"index":284,"name":"HideExternalSharingModelGuidedTour","value":false},{"index":298,"name":"HideFileSyncBannerMsg","value":false},{"index":299,"name":"HideTestConsoleGuidedTour","value":false},{"index":300,"name":"HideNetworkSetupOverlayGettingStarted","value":false},{"index":302,"name":"HideManyWhoInlineEditTip","value":false},{"index":303,"name":"HideSetupV2WelcomeMessage","value":false}],"orgPreferences":[{"index":257,"name":"TabOrganizer","value":true}],"startOfWeek":"1","isAccessibleMode":false,"ampm":["AM","PM"],"renderMode":"RETRO","userId":"00590000001MbZn","dateTimeFormat":"M/d/yyyy h:mm a","dateFormat":"M/d/yyyy","uiSkin":"Theme3","language":"en_US","siteUrlPrefix":""});
</script><div class="bPageTitle"><div class="ptBody secondaryPalette brandSecondaryBrd"><div class="content"><img src="/s.gif" class="pageTitleIcon" title="" alt="" /><h1 class="pageType">Square Root Table</h1><span class="titleSeparatingColon">:</span><h2 class="pageDescription">SOQL Offset Example w/Dynamic Page Buttons</h2><div class="blank"></div></div></div></div>
<form id="j_id0:j_id3" name="j_id0:j_id3" method="post" action="https://c.ap1.visual.force.com/apex/OpportunityManagement" enctype="application/x-www-form-urlencoded">
<input type="hidden" name="j_id0:j_id3" value="j_id0:j_id3" />
<div class="apexp"><div id="j_id0:j_id3:j_id4" class="bPageBlock brandSecondaryBrd apexDefaultPageBlock secondaryPalette"><div class="pbHeader"><table border="0" cellpadding="0" cellspacing="0"><tr><td class="pbTitle">&nbsp;</td><td id="j_id0:j_id3:j_id4:myPBButtons" class="pbButton "><span id="j_id0:j_id3:j_id4:myPBButtons:myButtons"><input id="j_id0:j_id3:j_id4:myPBButtons:prev" name="j_id0:j_id3:j_id4:myPBButtons:prev" onclick="return false;" value="Previous" disabled="disabled" title="Previous" type="button" /><input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_0" value="First Page" onclick="queryByPage('1');return false;" style="color:blue;" title="First Page" disabled="disabled" />...<input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_2" value=" 2 " onclick="queryByPage('2');return false;" title="Page 2 " /><input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_3" value=" 3 " onclick="queryByPage('3');return false;" title="Page 3 " /><input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_4" value=" 4 " onclick="queryByPage('4');return false;" title="Page 4 " /><input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_5" value=" 5 " onclick="queryByPage('5');return false;" title="Page 5 " />...<input type="submit" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_9" value="Last Page" onclick="queryByPage('8');return false;" title="Last Page" /><input id="j_id0:j_id3:j_id4:myPBButtons:j_id7_10" name="j_id0:j_id3:j_id4:myPBButtons:j_id7_10" onclick="A4J.AJAX.Submit('j_id0:j_id3',event,{'similarityGroupingId':'j_id0:j_id3:j_id4:myPBButtons:j_id7_10','parameters':{'j_id0:j_id3:j_id4:myPBButtons:j_id7_10':'j_id0:j_id3:j_id4:myPBButtons:j_id7_10'} } );return false;" value="Next" title="Next" type="button" /></span></td></tr></table></div><div class="pbBody"><script id="j_id0:j_id3:j_id4:j_id5" type="text/javascript">queryByPage=function(firstParam){A4J.AJAX.Submit('j_id0:j_id3',null,{'similarityGroupingId':'j_id0:j_id3:j_id4:j_id5','parameters':{'firstParam':(typeof firstParam!='undefined'&&firstParam!=null)?firstParam:'','j_id0:j_id3:j_id4:j_id5':'j_id0:j_id3:j_id4:j_id5'} } )};
</script><div id="j_id0:j_id3:j_id4:j_id8"><div class="pbSubheader brandTertiaryBgr first tertiaryPalette"><h3>Numbers and their Square Roots (Total List Size: 37)</h3></div><div class="pbSubsection"><table class="detailList" border="0" cellpadding="0" cellspacing="0"><tr><td class="dataCol  first  last " colSpan="2"><span id="j_id0:j_id3:j_id4:j_id8:myPanel"><span id="j_id0:j_id3:j_id4:j_id8:theMessages"></span><table class="list " id="j_id0:j_id3:j_id4:j_id8:j_id35" align="center" border="0" cellpadding="0" cellspacing="0"><colgroup span="2"></colgroup><thead class="rich-table-thead"><tr class="headerRow "><th class="headerRow  " scope="col" colspan="1" id="j_id0:j_id3:j_id4:j_id8:j_id35:j_id36header"><div id="j_id0:j_id3:j_id4:j_id8:j_id35:j_id36header:sortDiv">Opportunity ID</div></th><th class="headerRow  " scope="col" colspan="1" id="j_id0:j_id3:j_id4:j_id8:j_id35:j_id37header"><div id="j_id0:j_id3:j_id4:j_id8:j_id35:j_id37header:sortDiv">Opportunity Name</div></th></tr></thead><tfoot><tr class="  "><td class="  " colspan="2" scope="colgroup">Showing Page # 1 of 8</td></tr></tfoot><tbody id="j_id0:j_id3:j_id4:j_id8:j_id35:tb"><tr class="dataRow even  first " onmouseover="if (window.hiOn){hiOn(this);} " onmouseout="if (window.hiOff){hiOff(this);} " onBlur="if (window.hiOff){hiOff(this);}" onFocus="if (window.hiOn){hiOn(this);}"><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:0:j_id36" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:0:j_id40">00690000009t53P</span></td><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:0:j_id37" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:0:j_id41">Burlington Textiles Weaving Plant Generator</span></td></tr><tr class=" dataRow odd " onmouseover="if (window.hiOn){hiOn(this);} " onmouseout="if (window.hiOff){hiOff(this);} " onBlur="if (window.hiOff){hiOff(this);}" onFocus="if (window.hiOn){hiOn(this);}"><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:1:j_id36" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:1:j_id42">00690000009t532</span></td><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:1:j_id37" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:1:j_id43">Dickenson Mobile Generators</span></td></tr><tr class="dataRow even " onmouseover="if (window.hiOn){hiOn(this);} " onmouseout="if (window.hiOff){hiOff(this);} " onBlur="if (window.hiOff){hiOff(this);}" onFocus="if (window.hiOn){hiOn(this);}"><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:2:j_id36" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:2:j_id44">00690000009t53A</span></td><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:2:j_id37" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:2:j_id45">Edge Emergency Generator</span></td></tr><tr class=" dataRow odd " onmouseover="if (window.hiOn){hiOn(this);} " onmouseout="if (window.hiOff){hiOff(this);} " onBlur="if (window.hiOff){hiOff(this);}" onFocus="if (window.hiOn){hiOn(this);}"><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:3:j_id36" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:3:j_id46">00690000009t53W</span></td><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:3:j_id37" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:3:j_id47">Edge Emergency Generator</span></td></tr><tr class="dataRow even  last " onmouseover="if (window.hiOn){hiOn(this);} " onmouseout="if (window.hiOff){hiOff(this);} " onBlur="if (window.hiOff){hiOff(this);}" onFocus="if (window.hiOn){hiOn(this);}"><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:4:j_id36" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:4:j_id48">00690000009t53H</span></td><td class="dataCell  " id="j_id0:j_id3:j_id4:j_id8:j_id35:4:j_id37" colspan="1"><span id="j_id0:j_id3:j_id4:j_id8:j_id35:4:j_id49">Edge Installation</span></td></tr></tbody></table></span></td><td class="labelCol empty">&nbsp;</td><td class="dataCol empty">&nbsp;</td></tr></table></div></div></div><div class="pbFooter secondaryPalette"><div class="bg"></div></div></div></div><div id="j_id0:j_id3:j_id50"></div>
</form><span id="ajax-view-state-page-container" style="display: none"><span id="ajax-view-state" style="display: none"><input type="hidden"  id="com.salesforce.visualforce.ViewState" name="com.salesforce.visualforce.ViewState" value="MA63ieZV6DutWvXPb7kRIOj7DrynuhDBBGRxoXWcgO8KsNPSEi/Is7ZqOSovPkkzY/HcY7C4PuFrpl49Z4hAYAfaYvqSnX8MBkuQwdAnNKLYuzwo9xyt7hnti5Z1Qvyx3LCBUGq1fXO9ez2R3T/jAr5gmSDfKrgWKYP2RA9ZFKW4nmWQkDF21djfWW+x90Q+/Yd8CJaQgPFnHCOrZ0jE4PcKbJHLxXjXMXyQox7YJSwvn/dR9KbBtd+seAMSsfzdiDbYhyiA+eK4V6hpsgULq2P2TQyhMDORhDGyasvyAl6247TKyPYKqdQUtqLLQgScnm5rZEK8hxK+q/FHSYXtSnt4a/L212syvrOidrsnHkByGGquhRlS935EEnr3skuZrTknFTRISOHggfEaSaSYAK1pbZe6+JLRGUcvcTyrzFPS3yDKF7jn/GldT+ZBATACl8G43zgiF0wi0q5K1VsC1VUKKIOc4C9QIQ3dClKAV5CNTvRuxElbf1HmRv2Z/JVDpihNRZB1WUhzRE+htsXT9+cwHJdq/gi1mrjHgN+gYWUBYAyJo1NTW0BTavu0+OduJ3aW+UCTG2OOgbYWEjn4+Ml+MDy2fAKgIJ9j6dD4IgqWqpyEne7ulSP0V8WWi3pGEo3io+1wjLMLpY7lhm22gxEBMXNok2uQjcNYud496X+ZhK/zwJB42erBjlg8PROF/2xTUMbhHbfpOI4FP43raurDPMGo9qUQZckaXgNMLj837IhMYkdZ39WZVS/YEkhOgKHpswjozoGcHZKfRDmuUaigZbsr0SZF8rZD8OTbdLAaS4FrY04bS0HmTIPxg1t44BCaxDC6uoUx7uSjG9Cou6Yrco2MfdnVRyrz0MYFD4o7UeFudlATMaiZj5rVr/1f/3ccEfBkFm6cevYD/yRJmnVeYSR7UO18ARvy19I2aHWKBjt1zXXDsgILsfjtpLY40K7rfqNZ1zjRnas5+LfOEv+64hLVPMC6HNEEcNIEoJlqBKzYmSftTQ82TSNZhCaWfp6aB1vFBdW2924j52w2od7hnFQ+iBOL4VCr2tMIfckfy9eNyOOsEBJK2lCb67JBepACZapneySfW8x3cmKPCYKu3Soh3v2UFUzxQNvl897aFLfDQMk6gwVawUwXcIEQ62KTJ/IBZ3s6ezxPChXkD1ijVqyNToc9+vOmB/Y1BiyE/nh3NfUDhHjtDLkAhYQM7s6xn1pSCDKELiqJT+vWj7aIsA6AM26sdhx35JH/72FftY6aQ0n7uh2GORvSwc9FaoYU920U4jjrQDcqPlwn5yFlh3DR70uesd7PVUW3QFR2q2+iEWSSR5A31+2arxhnoP26cWPFc2SOlz1GwM+4tzZHOo1fRu1W/XjQlzwaSVoGfCz6V0BOIVktwTVnmTNHZ6qc68buKwv5EgznYPwyQ1chEAoJvCAk0Fi5UwCQHXjARZOHyb5hegR9DjipEcYSgeMbTVJp+lWMDTNnJGYXXlG6s+Z05Iw0nFDxAmcLJGTB2eYHedH2uks7JwMF1Z4cbL9bsu/HnX8unVCvNj12bun1+tft2upMM0E/nJgZScIeGGZfBYZWlSFMcWl5ZASEw0BrJspPDH7FQozbNTEP82adJYaFjhF7B8IVhWc1PYXJ4CoT0EBjfCRXF/G0nj4furSESAbmyTAgcApR/CRXC2OsOZu1tFahlxBup8ovpzqojzWgjPWGvEek00fx6FJo8NMauGF0nhwTpUREg/xIzAcDnXf6FMeLzvWhKXHRC3kI71nSyKR4G4dv9krGfMMLh6073hebBK3JJFybNAZaC4Qn5hqopr1Zfaw5kXGkB3HH/8xjVAs81GSAS0xxSiydOsRpbQEWRu9mpBJxl9zH+v0fGy/WQMUcotimA6o+B/kqQsq6hTCJM6HKaiNXtnvIcOCITt587B4HG6/Vb2jELM5vNagEKJkE+UTEc+wzYGh1xtorTHQdSkvyraDGiW8Du0xtI9x8DaYCD/T863DzRDrBkUIW1x5PwqtwGZHeMwYfR8fF2iD8q8DzBVm1U0XTRz6sKVVK1Rq+iPtd5UZlkSm6V0nGnIMKwd2Z6CHbcbTFVBa0ueqcThuiKo5bO3iPe+jxENMEBimcaVXeSjLvvRYyKFpI3vyLpb4Hl4jLB74IX3fkLTir8nQAuDeHpgCggRLwjsd0gnZlPCAM2DHTJkdMcllwJE/cBvZ7Htnpw+Jgo4Czn6Tb61X5Mjb5Bjj7QgO9Du7YGJh9rtaH4v345qEKVfrd0Rn8jsj9vRM47rI3sl1rrkeJrpAsebs23kENL9dX5RiW7JP4iKMu7Q4ypyQT4HVk+iFMXARXQhNoxaFdtZ52SCUQ/j0gChwjcQcrFn163aBlcdx8hPQb1ByYKp8TtJV+oiig//GkrILz5AGOhQJzUfhm5jcQB7UJhOGKbxEd6eagBkvGuwEUW4d6tuEBICx0pk5ZAw+XJ47Z4V45zrqeIz2+7Jb/yG7j/AWFDXrpXd56VliW5Ce60ml2g1sOvQMYqqGErMVc/nbD9ViobL12m0lc4vT890FZnl2FWvHpN04kqLN5nMsPiH1spJW5U9xagdwoiStNLTv+zotTuY0TxzXwFf/l/lxh2k/SRgEedGuaa0tgbYIU2yrh/Wvyp+29zT/PHhuwUisAzMfBhzLA8QSTp3t61vpcDidktUAab8j4Vtgipk9pb1wv66SpTRD/mYZHb4ziom4JltrMIcbgTLUhVWxfKnXZY35JARunK4/15shkiw+YozuV71drxuqzkC4a8B/xEeNYZMJihwXUTJ/uJ8MXBZN6EKk5+6+3GjDn2Ur4jGAMmjgEEdBgdPXw1+4O3Agb32eohKG43a0T0maw159XNls7TOOBpdDgVq2bCnWgPrLE4V8Fbev9KpS3QpKZNM61KAJLlo0Gbu4B1yOq9wARdOwMIB2Cf8Yl/4lpqhrIUKjsu5tQUeW3JEhK9N+3hAkU1/jMynWgw7GUJYcgW7eK9MrWNd5ZZGKomWujzuWtFy6IJEM+4rlUCamesNcIo9/W9DPLUF1uiy5yPdtC7RO2sye/pyQQTwJHer0dv1b8dXtAOSZuT0TqKcPuqtcWJY/aIpXuinvJVgBpQ6MLuz2FwaW7+jHv9q2/9Q064XNl+VYLjx1agAWaJ+cteaC7FO4D3KW6qAqqpBMEtIzhah3dw7/pUvBAUXnOv6AoCdQY/764AjvVo/NsBU0inmYh5USA9q/W181HAJIwdKjdtksE/X7DNYR3JHleck67CT30VwxssTMfaVcX3pS6dyFDo6oTmbuQzftzVixEJNkKHabjbrWdvXnhbUH8dqgG7evLKvgvVcq5hHIpv5f5mnkzhATN71aXBUJaRWv1j4RdZ1nJo9f9IaoF9LH66Rd6/DSiSb8L1xIznAzqUxX0JDyByT8byiLLpEf/QfBnOHAIQIFglu+2ezf7ntVICirxbw01/ZuLt8bIw857uXu+kZ/a9JN0cVMb9fS8iJmkq6RAIOnGWoLFqwtXGLIGUDHmq6I4zGd3QPDH5ZuXzPTNNtma3NfKYJJOrYaPMPr/LpQNy/hgsAK5avgc3TCWn3TNpG60VJLqhPLHf9eB22yRW3uxqiYJ1Xn5IBOU9YTFLMz0sizAYLqFpczsxVEe6eRu0V50zpsBSRtqykNb275OofsLX08KXKr3RdAMA2fFWu132Ldo5sfIGfS0ewmvoRKu2goEu1XFqO75vlMKOPQ+ZEJxhfltff7SFa3+1Ubyj4HYDl26DajdFrBKP6BGcbBmMenMJ9O3waHnRnq5r2rAx7/bXrOdNBd+8DnOWlHvqaugbHXJStDgDzfud1ecMH4vujX/fpBBrDRhPOqxE9RyGvKqXsvdUNyILkkB1GvO8kqe3BuosmXLCwJWXfjYTPvFyO3IpgaCPe/smiZOOVgRS8pko38aI4/pWeuhxXpfltnoGGtOvN6UAYHrJR7eh4lJK2OyrGjVnzRmEXMdsLRHO+9KT+A88OLzSUpKeGXp1EH6hOC4c5lejxosSSu5R6hLtTr8TUOcliSNkQLBoa6gSrh13zjH5VMwgMN4bt7CEQfFXYkTH2Be+JMs5ibZ8jHcEJFMDdLToQsfR/ieY/2V6NAIjvJxVmmbA+OPPEOgCAE7VxnCLTeo+dBAfcV+P/99iH+k56UQ+2p5KvzXn4tmXEKPsStFkDOEC/OZqAPGfF6UXzcbsNq7MRP/FiDqJRDfzi9tev9CUw2YqT34GTFH+qWkXrkLvu6Y+BpHueQ2cvXxw/9MVHLe7yzZS1S91DFIHAKtcnI5xbtaXkX03R8GlaQBy3a1sNGoqB651wkYjEdmac1kNcnrItuGlSkjUGcP0MHjLbVAZOeNWdT4OD5wv1yK9fF0cSFDTlsGY8uT+6AKh4agt1fyXu6kQ1PQvW2OPzdXaHYUPZ9g9uk5TnCaB0OAUCt/Pcoq0QAwQ/yRyc8agSBiqkZjzkWiIWVCoLoPFMQvAgI6ijCb0ukS/NF7ZkXXh/hBnbkaF1o+oMUFw6Vk1Zhm8pSWv5RLeQt9eavUMbfsKNf3crKiyL+tApv54rQ8VQsQ3AhaR8kmeJ93SfiJjlEgzYYt1zKjTU0p7MvmU2mQLJXNEzDkGgbUb4VuLLEPo75xvFSDiWZl9PiwJ46g9+CzyINfPKcUkek0l5SsGdlZTTeHBWBxjTgcqouvlqalWhk/uXHPkiFvSMvtxiOKJX52bZ2eM1R6MrI06Y4s55xyP8UK3zfZveiAtbIUxJR7unZAQpeMZ/nKCUYoe51AMsLGW120F+zlLxS7CsuMm4BGNeSo2dkoa+CssfI63+jhevL13+Kj/VaLXySc5NI8njWb1I7Aqh5yGh1KSf0/okTB0egsmIkCmpSFpC0riOHnPTLHKPX8myxHxP8Gp0+czEbgdD+JiD7YxlJ+lGDFAKRvBSzJqkEYUg4P+24MkA5qt0ZDk291HUyvNXivnCE0lHMzA0GOhjk96NFq2gvsBYU25bzAYXSEVdybXj5Hojh04n1+mukuZ4p2RMZxAJoeaDiukjKp4kD+tCf/pWoL7wC00ca1jv8nKnlvtxMtZ2m8yhLy6eNKiA9o60xnTva6sWPx1ldDCwHP5ulGHit5r1BQT+TOLc/WQMITJRJOBegSRfLN9eX/Be9tkmJRmKpWuRet7Kfw4sapHtlPM+RRBuDWO7FDjgXvIb2EI5XceKv4HPRNio8pSFuU4dfuJK6ivnEUbgThywnpE6M85iyLrNMxeV0uZ12guWogWchTEhrKkFeQys54KkqCe59RqNVKx7H+Yu+wfcairQwXL7q2T5zYxQzNF7uGCRbgLmsS4qCPIZiyffF3QcfW2JxbvzE87dr076mMR6L5DVJ91D6anYJU765siK/DwNo4ApwOvz5yks/FxeXgelx2oyfBT6hqOn8cVunPi9miQlIqAAUCSyMViXF3YigXVu/ueYqaACvsKXUXdfXk/WsxiXRO/9d08s0sVW9Hwg3sONcC9MRzobQ4e8EPtB4d7/Pp4X6hRZFxPBS5HC/Iab4MaDI3VA3BQ97t7sjrQkig8IrBJRvourtx4XxDCA5oMkG2tl+QXlhqnpPzwBpjrqV5LLdoUdsjp/pAP8s5ai9WuWlg6esZf1dVxTPpFRCtLhEgtG8WOgXfh6ekKJsXPDN6+frvLDc3iDjdXWZOfgQlV50kSg19LmrKNEFNjP9YhNLu8oEP0Tjly8vtJ02P3MNNJBTGptSzdLTYfthMEKHsQ1w7gvq6LjSvLRTuTwqLIIHX/IJnraN8hrIknzKgunSwb8oLd8KmdFnx0TizEl/m4rGwM6HmPieeRDBDP8/bOo9iCqm4/oQKnkGoPvWGHD1RspenPOpCkcVL1kaPSgMnc6QfAGKapmqmS/GG/n1W1WnY4SqUboG5ulSkXI4p9lzlkCTXi+o6PIxR1+U8+f++S6o57ISdkY8JCJOzRzxXAs/NKXJB8jqGo7Seg9bUCvQNPHjCi0GQo/k3Y/JHbDXGn/E/6mBorH01vVwH8tsQwq890AkZPxKhoMAbbE29wFoH7qL2jXxU/cOms9nu15uXEG4Bbgmtgyupt8oWDcXgogiSxBWPdUxDK/NyujdacIhDzn3gnPh27y4cdayRChS87MttvgEQ/MPwoBG8LDDwoype/n1lXqYAHFpwuZW88HbeW8xxYhUk575lX4t1SDxg8GSlzH0G/zc4XT+EmhhE4iQ0QlWZsqR/Xs6hE1Kwt1vJwPw55wb1DhE2UlnzQ6ZMZd1tCbdCoPsNqkYoZxnm1IIbsS4KWb5VIFvspWeMwZj2hyW58fC6ys1Cc8hmcQCIZ/WqhjhZzpoYpBhGG00AMXN5PySznFTlXW4m1KrZmmCVU2XubRm4DGjA6HdErJOUkIG1fYcN62klHdgu05TEooJVtN0d8FxlU1Hz8X7c57qBZbIf8Pw4Ko08P6/AJn0vpPXH8bgq1JYxXiKPfDqfTj3cSvasTfM/+Wiwiprf9njLGXpbRR3Vh8W6fblJxbuyRLDWTN5iZgmQ6t/i3gwANqwMvzUbaMEz/A/Q3FCzJUbU2oMZ9xQkIJ8eGF5zDtUMYsRc/uFFwdh0pTlLldXViqfg/es/NVVrUyectQ3C5LkkRDVzMUfhe3buIWsL/auBX6C+7axeqCUq4XKvF3VkQI9RMJ6ojA7shZfW20CPBXO2HOw0/Z2m0wlimj+cXm4JcbxWwzUDIfPqX0P4/3qJC97rfQWRCsG+E3/OcQOgLTP68oK1r5UJGlUKqLIbZ7LkRcFtUHrk9UI2+EAirNzQfN9XKyR7cGreqR2mvCrqlHR04SaP7IsANvAM3G8Vucv3JXsrMSZ24y1t5PzliRFvy3RQmiAghb5hWMw3D9HKJVSi0TyiWa5n2PfrmhpLAncfLFBGnNHdO+J0/Si+ol3Zug==" /><input type="hidden"  id="com.salesforce.visualforce.ViewStateMAC" name="com.salesforce.visualforce.ViewStateMAC" value="AMSbDrRSOBNGR1ND25MOzi+FwtRF" /><input type="hidden"  id="com.salesforce.visualforce.ViewStateCSRF" name="com.salesforce.visualforce.ViewStateCSRF" value="HstG2TeEX84IETB8fQXJRNQijn08gFetC_t.HHtJy6b7ALQVmuMakERB7DSwj5XD.CRirRUe6I0j2nyw7JWuxBsQYxmUjj6eCGtvSkSexGoSKatbkCIoTmS0Dp0vbkt.PCeJPnznWd0eK5mrnN_qm3Gnc_8=" /></span></span><script type="text/javascript">Sfdc.onReady(function(){
    SfdcApp.Visualforce.VSManager.vfPrepareForms(["j_id0:j_id3"]);

});</script></html> 
```

请任何人告诉为什么它在按下上一个按钮时没有显示警报

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-23T11:58:47.870

force.com 使用了一些 js-library，比如prototype.js，它可能会与 jQuery 发生冲突，为了避免这种情况，你可以阅读这篇文章[http://api.jquery.com/jQuery.noConflict/](http://api.jquery.com/jQuery.noConflict/)

并使用以下技巧

```
<script>
 window.$j = jQuery.noConflict();

$j(function(){
    $j("[id$=prev]").click(function(){alert('Hello World');});

});

</script> 
```